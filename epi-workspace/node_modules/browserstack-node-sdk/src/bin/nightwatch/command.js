#!/usr/bin/env node
'use strict';function a33_0x2ec6(_0x59044d,_0x53967d){const _0x2b43fe=a33_0x2b43();return a33_0x2ec6=function(_0x2ec61f,_0xd21ae1){_0x2ec61f=_0x2ec61f-0x1dc;let _0x455dee=_0x2b43fe[_0x2ec61f];return _0x455dee;},a33_0x2ec6(_0x59044d,_0x53967d);}const a33_0xd08b87=a33_0x2ec6;(function(_0x4a2b8b,_0x53cf86){const _0x790bd3=a33_0x2ec6,_0x3b7f72=_0x4a2b8b();while(!![]){try{const _0x25dad7=-parseInt(_0x790bd3(0x20d))/0x1+parseInt(_0x790bd3(0x20a))/0x2*(parseInt(_0x790bd3(0x1f2))/0x3)+-parseInt(_0x790bd3(0x223))/0x4*(-parseInt(_0x790bd3(0x225))/0x5)+-parseInt(_0x790bd3(0x20c))/0x6*(parseInt(_0x790bd3(0x211))/0x7)+-parseInt(_0x790bd3(0x1f3))/0x8+-parseInt(_0x790bd3(0x202))/0x9*(-parseInt(_0x790bd3(0x226))/0xa)+parseInt(_0x790bd3(0x21b))/0xb*(parseInt(_0x790bd3(0x1fd))/0xc);if(_0x25dad7===_0x53cf86)break;else _0x3b7f72['push'](_0x3b7f72['shift']());}catch(_0x1ad75b){_0x3b7f72['push'](_0x3b7f72['shift']());}}}(a33_0x2b43,0x7c322));const fs=require('fs'),path=require(a33_0xd08b87(0x1f8)),{spawn}=require(a33_0xd08b87(0x213)),logger=require(a33_0xd08b87(0x1e8))[a33_0xd08b87(0x1e4)],{default:BrowserStackSetup}=require(a33_0xd08b87(0x217)),helper=require(a33_0xd08b87(0x21c)),constants=require(a33_0xd08b87(0x21e)),getUserNightwatchConfigs=(_0x3ed1df,_0x395aa3)=>{const _0x4ed22f=a33_0xd08b87,_0x508dd6={'LBxoW':'nightwatch.conf.js','IAHVZ':'nightwatch.json','VWoGw':function(_0x148e03,_0x3829e0){return _0x148e03(_0x3829e0);},'xzqPT':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x46a3ca=null,_0xe5fe61={};const _0x17a07f=_0x395aa3[_0x4ed22f(0x1eb)](_0x726966=>_0x726966===_0x4ed22f(0x1e3));if(!helper['isUndefined'](_0x3ed1df['config'])&&fs[_0x4ed22f(0x1f7)](path['join'](process[_0x4ed22f(0x219)](),_0x3ed1df['config'])))_0x46a3ca=path['join'](process[_0x4ed22f(0x219)](),_0x3ed1df[_0x4ed22f(0x1ff)]),_0x395aa3[_0x4ed22f(0x210)](_0x17a07f,0x2);else{if(fs[_0x4ed22f(0x1f7)](path[_0x4ed22f(0x1e2)](process['cwd'](),_0x508dd6[_0x4ed22f(0x1f4)])))_0x46a3ca=path[_0x4ed22f(0x1e2)](process['cwd'](),_0x508dd6[_0x4ed22f(0x1f4)]);else fs['existsSync'](path[_0x4ed22f(0x1e2)](process['cwd'](),_0x508dd6['IAHVZ']))&&(_0x46a3ca=path[_0x4ed22f(0x1e2)](process[_0x4ed22f(0x219)](),_0x508dd6[_0x4ed22f(0x1f1)]));}return _0x46a3ca?(logger[_0x4ed22f(0x208)]('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x46a3ca),_0xe5fe61=_0x508dd6[_0x4ed22f(0x207)](require,_0x46a3ca)):logger[_0x4ed22f(0x208)](_0x508dd6[_0x4ed22f(0x1f0)]),_0xe5fe61;},removeExistingEnvs=_0x2dbf40=>{const _0x345787=a33_0xd08b87,_0x5710ac={};_0x5710ac[_0x345787(0x227)]=function(_0x3378df,_0x2ccf7f){return _0x3378df>_0x2ccf7f;};const _0x2ea8c4=_0x5710ac;let _0x3b9945=_0x2dbf40[_0x345787(0x1eb)](_0x4c9627=>_0x4c9627==='--env');_0x2ea8c4['XyxGA'](_0x3b9945,-0x1)&&_0x2dbf40[_0x345787(0x210)](_0x3b9945,0x2),_0x3b9945=_0x2dbf40['findIndex'](_0x41d79b=>_0x41d79b==='-e'),_0x2ea8c4[_0x345787(0x227)](_0x3b9945,-0x1)&&_0x2dbf40['splice'](_0x3b9945,0x2);};function run(_0x38ad17,_0x580acc,_0x5e20be){const _0x56312c=a33_0xd08b87,_0x35cb91={'vSvQc':_0x56312c(0x20b),'cXbiP':function(_0x4cf78c,_0x3c3fad){return _0x4cf78c+_0x3c3fad;},'xhVHh':'test_settings','nQkhr':function(_0x40c4d,_0x5a146e,_0x211551){return _0x40c4d(_0x5a146e,_0x211551);},'PGNMc':_0x56312c(0x1f5),'AeRgP':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','UKsFH':function(_0xb50a83,_0x37de60){return _0xb50a83===_0x37de60;},'VbwbJ':_0x56312c(0x200),'RbzET':function(_0x290e50,_0x2b9112){return _0x290e50(_0x2b9112);},'MAluV':function(_0x5c207c,_0x2f4344,_0x554e73,_0x2253cc){return _0x5c207c(_0x2f4344,_0x554e73,_0x2253cc);},'GqURk':'nightwatch.cmd','yBOaI':'--config','CKpBQ':_0x56312c(0x222),'Hdloo':_0x56312c(0x1ef),'EHULy':'close'};if(!_0x5e20be['config'])return;const _0x430375=_0x35cb91[_0x56312c(0x1fb)](getUserNightwatchConfigs,_0x38ad17,_0x580acc),_0x424bc4={};_0x424bc4[_0x56312c(0x216)]=![];const _0x19864f={};_0x19864f[_0x56312c(0x220)]=_0x35cb91['PGNMc'],_0x19864f['port']=0x1bb;const _0x4b693d={};_0x4b693d[_0x56312c(0x215)]=_0x424bc4,_0x4b693d[_0x56312c(0x1e6)]=_0x19864f;const _0x46b51d=_0x4b693d;logger['info'](_0x35cb91['AeRgP']);const _0x532216={..._0x430375},_0xacd5d8=_0x532216,_0x1176ff=helper[_0x56312c(0x1e1)](_0x5e20be[_0x56312c(0x1ff)]),_0x255925=[];_0x5e20be[_0x56312c(0x1ff)][_0x56312c(0x20e)]['forEach']((_0x599fbd,_0x2d33ac)=>{const _0x145c9b=_0x56312c;_0x1176ff?_0x255925[_0x145c9b(0x1f6)](helper[_0x145c9b(0x1ea)](_0x5e20be['config'],_0x35cb91[_0x145c9b(0x20f)],_0x2d33ac)):_0x255925[_0x145c9b(0x1f6)](helper[_0x145c9b(0x21a)](_0x5e20be[_0x145c9b(0x1ff)],_0x35cb91[_0x145c9b(0x20f)],_0x2d33ac));});const _0x144d0d={},_0x3ce301=[];_0x38ad17[_0x56312c(0x205)]=_0x38ad17[_0x56312c(0x205)]||_0x38ad17['e'];const _0x5dfe1e=_0x38ad17[_0x56312c(0x205)]?_0x38ad17[_0x56312c(0x205)][_0x56312c(0x1dd)]()[_0x56312c(0x1e0)](',')[_0x56312c(0x21f)](_0x1701e0=>_0x1701e0['trim']())['filter'](_0x1989ab=>_0x1989ab!==''):[''];_0x35cb91['UKsFH'](_0x5dfe1e[_0x56312c(0x1dc)],0x0)&&_0x5dfe1e[_0x56312c(0x1f6)]('');_0x5dfe1e[_0x56312c(0x1e5)](_0x35a5f0=>{const _0x11857f=_0x56312c,_0x3661a7={'nWOQV':function(_0x1ff1eb,_0x5833d4){const _0x3bbc87=a33_0x2ec6;return _0x35cb91[_0x3bbc87(0x201)](_0x1ff1eb,_0x5833d4);},'tqWaj':_0x35cb91['xhVHh']};_0x255925[_0x11857f(0x1e5)](_0x40dbb4=>{const _0x14a359=_0x11857f;let _0x1018d6=_0x3661a7[_0x14a359(0x1ec)](helper[_0x14a359(0x224)](_0x40dbb4,'_'),'_'+Date[_0x14a359(0x1fe)]());_0x35a5f0&&(_0x1018d6+='_'+_0x35a5f0);if(_0x35a5f0&&(!_0x430375[_0x3661a7['tqWaj']]||!_0x430375[_0x3661a7[_0x14a359(0x1df)]][_0x35a5f0]))return;const _0x4fdb15={..._0x46b51d};_0x4fdb15[_0x14a359(0x212)]=_0x40dbb4;const _0x2d5e39=_0x4fdb15;_0x144d0d[_0x1018d6]=_0x35a5f0?helper[_0x14a359(0x21d)](_0x430375[_0x3661a7[_0x14a359(0x1df)]][_0x35a5f0],_0x2d5e39):_0x2d5e39,_0x3ce301[_0x14a359(0x1f6)](_0x1018d6);});});!_0xacd5d8[_0x56312c(0x1fa)]&&(_0xacd5d8[_0x56312c(0x1fa)]={});_0xacd5d8[_0x56312c(0x1fa)]={..._0xacd5d8['test_settings'],..._0x144d0d};const _0x21d222=path[_0x56312c(0x1e2)](__dirname,_0x35cb91[_0x56312c(0x1f9)]);fs['writeFileSync'](_0x21d222,JSON[_0x56312c(0x218)](_0xacd5d8)),_0x35cb91[_0x56312c(0x1fc)](removeExistingEnvs,_0x580acc);const _0x6a608d=_0x35cb91[_0x56312c(0x206)](spawn,/^win/[_0x56312c(0x221)](process[_0x56312c(0x214)])?_0x35cb91[_0x56312c(0x1ed)]:_0x35cb91[_0x56312c(0x20f)],[_0x35cb91[_0x56312c(0x209)],_0x21d222,..._0x580acc[_0x56312c(0x203)](0x1),_0x35cb91[_0x56312c(0x204)],_0x3ce301[_0x56312c(0x1e2)](',')],{'stdio':_0x35cb91['Hdloo']});_0x6a608d['on'](_0x35cb91[_0x56312c(0x1de)],async _0x14f6db=>{const _0x21013a=_0x56312c;logger[_0x21013a(0x1e7)]('child\x20process\x20exited\x20with\x20code\x20'+_0x14f6db),logger[_0x21013a(0x208)](_0x21013a(0x1e9)+_0x21d222),fs['unlinkSync'](_0x21d222);});}function a33_0x2b43(){const _0x2e9565=['start_process','../../helpers/BrowserStackSetup','stringify','cwd','modifyBrowserStackCaps','7936687zmLoym','../../helpers/helper','mergeDeep','../utils/constants','map','host','test','--env','293172CbThnj','getPlatformName','10nhSnZC','70XWPEDt','XyxGA','length','trim','EHULy','tqWaj','split','useW3C','join','--config','winstonLogger','forEach','selenium','debug','../../helpers/logger','Deleting\x20','modifyBrowserStackW3CCaps','findIndex','nWOQV','GqURk','exports','inherit','xzqPT','IAHVZ','42ySomAg','6658408ATnXZj','LBxoW','hub.browserstack.com','push','existsSync','path','VbwbJ','test_settings','nQkhr','RbzET','24BzXwbp','now','config','nightwatch-browserstack.json','cXbiP','209619LJcsrw','slice','CKpBQ','env','MAluV','VWoGw','info','yBOaI','32222bFLhCs','nightwatch','1195734dnILcH','39337yNHkDj','platforms','vSvQc','splice','21IhAejc','desiredCapabilities','child_process','platform','webdriver'];a33_0x2b43=function(){return _0x2e9565;};return a33_0x2b43();}module[a33_0xd08b87(0x1ee)]=run;