#!/usr/bin/env node
'use strict';const a33_0xc534ff=a33_0x3b6d;(function(_0x3d9724,_0x1c349f){const _0x37773e=a33_0x3b6d,_0x1051f0=_0x3d9724();while(!![]){try{const _0x4da9eb=parseInt(_0x37773e(0x8f))/0x1+parseInt(_0x37773e(0xa6))/0x2*(parseInt(_0x37773e(0x9e))/0x3)+parseInt(_0x37773e(0xaa))/0x4+-parseInt(_0x37773e(0xb4))/0x5+-parseInt(_0x37773e(0x86))/0x6*(-parseInt(_0x37773e(0x93))/0x7)+parseInt(_0x37773e(0xcb))/0x8*(-parseInt(_0x37773e(0xad))/0x9)+-parseInt(_0x37773e(0xc8))/0xa*(parseInt(_0x37773e(0xb0))/0xb);if(_0x4da9eb===_0x1c349f)break;else _0x1051f0['push'](_0x1051f0['shift']());}catch(_0x4fa4f6){_0x1051f0['push'](_0x1051f0['shift']());}}}(a33_0x1be8,0x5ce44));const fs=require('fs'),path=require(a33_0xc534ff(0xa5)),{spawn}=require(a33_0xc534ff(0xa8)),logger=require(a33_0xc534ff(0xab))[a33_0xc534ff(0x9c)],{default:BrowserStackSetup}=require(a33_0xc534ff(0x9a)),helper=require('../../helpers/helper'),constants=require(a33_0xc534ff(0x97)),getUserNightwatchConfigs=(_0xd429ce,_0x14da73)=>{const _0x55f1db=a33_0xc534ff,_0x443226={'dCnim':_0x55f1db(0xae),'hqPDr':_0x55f1db(0xd0),'aCUlN':function(_0x27e4bb,_0x30a003){return _0x27e4bb(_0x30a003);},'xrOIc':_0x55f1db(0x88)};let _0x8d776d=null,_0x1adb08={};const _0x1d4f79=_0x14da73[_0x55f1db(0x89)](_0x1fe667=>_0x1fe667==='--config');if(!helper['isUndefined'](_0xd429ce[_0x55f1db(0xc9)])&&fs[_0x55f1db(0xc6)](path[_0x55f1db(0xac)](process['cwd'](),_0xd429ce[_0x55f1db(0xc9)])))_0x8d776d=path[_0x55f1db(0xac)](process[_0x55f1db(0xba)](),_0xd429ce[_0x55f1db(0xc9)]),_0x14da73['splice'](_0x1d4f79,0x2);else{if(fs['existsSync'](path['join'](process['cwd'](),_0x443226[_0x55f1db(0x94)])))_0x8d776d=path[_0x55f1db(0xac)](process[_0x55f1db(0xba)](),_0x443226['dCnim']);else fs[_0x55f1db(0xc6)](path['join'](process[_0x55f1db(0xba)](),_0x443226[_0x55f1db(0xc3)]))&&(_0x8d776d=path[_0x55f1db(0xac)](process[_0x55f1db(0xba)](),_0x443226[_0x55f1db(0xc3)]));}return _0x8d776d?(logger[_0x55f1db(0xb8)](_0x55f1db(0xa0)+_0x8d776d),_0x1adb08=_0x443226['aCUlN'](require,_0x8d776d)):logger[_0x55f1db(0xb8)](_0x443226[_0x55f1db(0xc0)]),_0x1adb08;},removeExistingEnvs=_0x39327a=>{const _0x21061b=a33_0xc534ff,_0x34bc12={};_0x34bc12[_0x21061b(0xc7)]=function(_0x291cbd,_0x31f735){return _0x291cbd>_0x31f735;},_0x34bc12[_0x21061b(0x98)]=function(_0x1826f3,_0x4a6eb2){return _0x1826f3>_0x4a6eb2;};const _0x178c86=_0x34bc12;let _0x463a45=_0x39327a[_0x21061b(0x89)](_0x514c42=>_0x514c42===_0x21061b(0x95));_0x178c86[_0x21061b(0xc7)](_0x463a45,-0x1)&&_0x39327a[_0x21061b(0xcf)](_0x463a45,0x2),_0x463a45=_0x39327a[_0x21061b(0x89)](_0x46d449=>_0x46d449==='-e'),_0x178c86[_0x21061b(0x98)](_0x463a45,-0x1)&&_0x39327a[_0x21061b(0xcf)](_0x463a45,0x2);};function run(_0x25f59e,_0x1eebb9){const _0x47cf03=a33_0xc534ff,_0x16d2ba={'IdxUp':_0x47cf03(0xb2),'uHWmF':function(_0x5f50f6,_0xf3da3b){return _0x5f50f6+_0xf3da3b;},'NNPyD':_0x47cf03(0x92),'SYVto':function(_0x2dca01,_0x5bfca7,_0x40f183){return _0x2dca01(_0x5bfca7,_0x40f183);},'fiHZl':'hub.browserstack.com','NbbdF':_0x47cf03(0xcc),'bnPlI':function(_0x2adcdf,_0x57126d){return _0x2adcdf===_0x57126d;},'fCHUJ':_0x47cf03(0x90),'Issbr':function(_0x2da5cd,_0x4f1dd8){return _0x2da5cd(_0x4f1dd8);},'kCiZm':function(_0x1371fa,_0x6e040b,_0x2e40b0,_0xb1a6d3){return _0x1371fa(_0x6e040b,_0x2e40b0,_0xb1a6d3);},'gaxkC':_0x47cf03(0x91),'mGptE':_0x47cf03(0x96),'ERTqk':_0x47cf03(0x95),'aYkmX':_0x47cf03(0xca),'WKazM':'close'},_0x1a8d83=new BrowserStackSetup(_0x25f59e);if(!_0x1a8d83[_0x47cf03(0xc9)])return;const _0x1ef153=_0x16d2ba['SYVto'](getUserNightwatchConfigs,_0x25f59e,_0x1eebb9),_0x53c330={};_0x53c330['start_process']=![];const _0x375bc3={};_0x375bc3['host']=_0x16d2ba[_0x47cf03(0x8c)],_0x375bc3[_0x47cf03(0xd2)]=0x1bb;const _0xd83b0d={};_0xd83b0d[_0x47cf03(0x8b)]=_0x53c330,_0xd83b0d[_0x47cf03(0xb6)]=_0x375bc3;const _0x5cd06e=_0xd83b0d;logger[_0x47cf03(0xb8)](_0x16d2ba[_0x47cf03(0xb1)]);const _0x2ecd19={..._0x1ef153},_0x138834=_0x2ecd19,_0x5bd2e3=helper[_0x47cf03(0xc4)](_0x1a8d83['config']),_0x5add87=[];_0x1a8d83['config'][_0x47cf03(0xc5)][_0x47cf03(0xbb)]((_0x591cb3,_0x12697a)=>{const _0x1a5515=_0x47cf03;_0x5bd2e3?_0x5add87['push'](helper[_0x1a5515(0x8d)](_0x1a8d83[_0x1a5515(0xc9)],_0x16d2ba['IdxUp'],_0x12697a)):_0x5add87['push'](helper['modifyBrowserStackCaps'](_0x1a8d83[_0x1a5515(0xc9)],_0x16d2ba[_0x1a5515(0xa3)],_0x12697a));});const _0x3ccc81={},_0x6a3030=[];_0x25f59e[_0x47cf03(0x84)]=_0x25f59e['env']||_0x25f59e['e'];const _0x5e287d=_0x25f59e[_0x47cf03(0x84)]?_0x25f59e[_0x47cf03(0x84)][_0x47cf03(0xa1)]()[_0x47cf03(0xb9)](',')['map'](_0x2507db=>_0x2507db['trim']())[_0x47cf03(0x83)](_0x80394f=>_0x80394f!==''):[''];_0x16d2ba[_0x47cf03(0x9d)](_0x5e287d[_0x47cf03(0xb3)],0x0)&&_0x5e287d[_0x47cf03(0x99)]('');_0x5e287d[_0x47cf03(0xbb)](_0x1c9704=>{const _0x257b8b=_0x47cf03;_0x5add87[_0x257b8b(0xbb)](_0x9648f4=>{const _0x2e8d38=_0x257b8b;let _0x5a867b=_0x16d2ba[_0x2e8d38(0xbe)](helper[_0x2e8d38(0xb5)](_0x9648f4,'_'),'_'+Date[_0x2e8d38(0xbc)]());_0x1c9704&&(_0x5a867b+='_'+_0x1c9704);if(_0x1c9704&&(!_0x1ef153[_0x16d2ba[_0x2e8d38(0xaf)]]||!_0x1ef153[_0x16d2ba['NNPyD']][_0x1c9704]))return;const _0x5af3b2={..._0x5cd06e};_0x5af3b2[_0x2e8d38(0x9b)]=_0x9648f4;const _0x5403ba=_0x5af3b2;_0x3ccc81[_0x5a867b]=_0x1c9704?helper[_0x2e8d38(0x8a)](_0x1ef153[_0x16d2ba[_0x2e8d38(0xaf)]][_0x1c9704],_0x5403ba):_0x5403ba,_0x6a3030[_0x2e8d38(0x99)](_0x5a867b);});});!_0x138834[_0x47cf03(0x92)]&&(_0x138834[_0x47cf03(0x92)]={});_0x138834['test_settings']={..._0x138834[_0x47cf03(0x92)],..._0x3ccc81};const _0x30be46=path[_0x47cf03(0xac)](__dirname,_0x16d2ba[_0x47cf03(0xa2)]);fs[_0x47cf03(0xbf)](_0x30be46,JSON[_0x47cf03(0xa7)](_0x138834)),_0x16d2ba[_0x47cf03(0x9f)](removeExistingEnvs,_0x1eebb9);const _0x5d0d81=_0x16d2ba[_0x47cf03(0xa9)](spawn,/^win/['test'](process[_0x47cf03(0xb7)])?_0x16d2ba[_0x47cf03(0xbd)]:_0x16d2ba[_0x47cf03(0xa3)],[_0x16d2ba[_0x47cf03(0xc2)],_0x30be46,..._0x1eebb9[_0x47cf03(0x82)](0x1),_0x16d2ba[_0x47cf03(0x8e)],_0x6a3030[_0x47cf03(0xac)](',')],{'stdio':_0x16d2ba[_0x47cf03(0xa4)]});_0x5d0d81['on'](_0x16d2ba[_0x47cf03(0xce)],async _0x142eed=>{const _0x47b129=_0x47cf03;logger[_0x47b129(0xcd)](_0x47b129(0x85)+_0x142eed),logger['info'](_0x47b129(0x87)+_0x30be46),fs[_0x47b129(0xd1)](_0x30be46);});}function a33_0x3b6d(_0x460fde,_0x1f5a54){const _0x1be8e5=a33_0x1be8();return a33_0x3b6d=function(_0x3b6d13,_0x11970c){_0x3b6d13=_0x3b6d13-0x82;let _0x4073cc=_0x1be8e5[_0x3b6d13];return _0x4073cc;},a33_0x3b6d(_0x460fde,_0x1f5a54);}function a33_0x1be8(){const _0x1efb19=['push','../../helpers/BrowserStackSetup','desiredCapabilities','winstonLogger','bnPlI','1524459YZckFs','Issbr','Getting\x20your\x20nightwatch\x20configs\x20from\x20','trim','fCHUJ','IdxUp','aYkmX','path','2lXxfxn','stringify','child_process','kCiZm','1890872Fhvlfm','../../helpers/logger','join','9jZkpJE','nightwatch.conf.js','NNPyD','418pMAmXj','NbbdF','nightwatch','length','932745UPjXJK','getPlatformName','selenium','platform','info','split','cwd','forEach','now','gaxkC','uHWmF','writeFileSync','xrOIc','exports','mGptE','hqPDr','useW3C','platforms','existsSync','RINwa','328940DySpQK','config','inherit','3226448KEsWzZ','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','debug','WKazM','splice','nightwatch.json','unlinkSync','port','slice','filter','env','child\x20process\x20exited\x20with\x20code\x20','422724vyhsLQ','Deleting\x20','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','findIndex','mergeDeep','webdriver','fiHZl','modifyBrowserStackW3CCaps','ERTqk','605354xSLRfs','nightwatch-browserstack.json','nightwatch.cmd','test_settings','63iWwiKD','dCnim','--env','--config','../utils/constants','UzEjt'];a33_0x1be8=function(){return _0x1efb19;};return a33_0x1be8();}module[a33_0xc534ff(0xc1)]=run;