#!/usr/bin/env node
'use strict';const a33_0x3402e1=a33_0x2521;(function(_0x397e64,_0xf8e7c9){const _0xfa26f9=a33_0x2521,_0x2310b4=_0x397e64();while(!![]){try{const _0x2be10a=parseInt(_0xfa26f9(0x16b))/0x1+parseInt(_0xfa26f9(0x18c))/0x2*(-parseInt(_0xfa26f9(0x16e))/0x3)+parseInt(_0xfa26f9(0x16c))/0x4*(parseInt(_0xfa26f9(0x174))/0x5)+-parseInt(_0xfa26f9(0x188))/0x6*(-parseInt(_0xfa26f9(0x172))/0x7)+parseInt(_0xfa26f9(0x182))/0x8*(-parseInt(_0xfa26f9(0x17f))/0x9)+-parseInt(_0xfa26f9(0x14c))/0xa+-parseInt(_0xfa26f9(0x151))/0xb;if(_0x2be10a===_0xf8e7c9)break;else _0x2310b4['push'](_0x2310b4['shift']());}catch(_0x7ec93c){_0x2310b4['push'](_0x2310b4['shift']());}}}(a33_0x57dc,0xab97c));function a33_0x57dc(){const _0xc5d16f=['jGvyX','21760PoLCpx','EHkBZ','splice','push','hub.browserstack.com','ilbAx','12PQJYCE','existsSync','winstonLogger','filter','618220pTlbMM','exports','close','map','FIrwB','isUndefined','join','port','nightwatch.cmd','debug','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','83810mRBydy','length','WVJym','unlinkSync','modifyBrowserStackW3CCaps','16209611DofsOz','config','mergeDeep','UWdsV','eMfXI','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','start_process','Vpzep','yxyoV','findIndex','env','trim','../utils/constants','nightwatch','qpQpr','stringify','modifyBrowserStackCaps','Tsfdf','../../helpers/BrowserStackSetup','cwd','now','nightwatch.conf.js','uBWlJ','iOrsA','inherit','test_settings','1208046xpUEhL','117752YLJzkW','slice','3RVeDKw','--env','Deleting\x20','forEach','2432843ziDFtA','info','220pCUhbY','UBGdg','../../helpers/logger','nightwatch-browserstack.json','webdriver','child_process','ogGAP','mDTYg','platforms','getPlatformName','iNjWa','2331yNlFEx','--config'];a33_0x57dc=function(){return _0xc5d16f;};return a33_0x57dc();}const fs=require('fs'),path=require('path'),{spawn}=require(a33_0x3402e1(0x179)),logger=require(a33_0x3402e1(0x176))[a33_0x3402e1(0x18a)],{default:BrowserStackSetup}=require(a33_0x3402e1(0x163)),helper=require('../../helpers/helper'),constants=require(a33_0x3402e1(0x15d)),getUserNightwatchConfigs=(_0xe7ce8d,_0x3fba59)=>{const _0x1ecd31=a33_0x3402e1,_0x1ffe2b={'iOrsA':_0x1ecd31(0x166),'jGvyX':'nightwatch.json','Vpzep':function(_0xa2a06f,_0x28fa26){return _0xa2a06f(_0x28fa26);},'eMfXI':_0x1ecd31(0x156)};let _0x21d436=null,_0x43f38d={};const _0x402cbf=_0x3fba59[_0x1ecd31(0x15a)](_0x2ad6b5=>_0x2ad6b5===_0x1ecd31(0x180));if(!helper[_0x1ecd31(0x146)](_0xe7ce8d['config'])&&fs[_0x1ecd31(0x189)](path[_0x1ecd31(0x147)](process[_0x1ecd31(0x164)](),_0xe7ce8d[_0x1ecd31(0x152)])))_0x21d436=path[_0x1ecd31(0x147)](process[_0x1ecd31(0x164)](),_0xe7ce8d['config']),_0x3fba59[_0x1ecd31(0x184)](_0x402cbf,0x2);else{if(fs[_0x1ecd31(0x189)](path['join'](process[_0x1ecd31(0x164)](),_0x1ffe2b[_0x1ecd31(0x168)])))_0x21d436=path[_0x1ecd31(0x147)](process[_0x1ecd31(0x164)](),_0x1ffe2b['iOrsA']);else fs['existsSync'](path[_0x1ecd31(0x147)](process[_0x1ecd31(0x164)](),_0x1ffe2b[_0x1ecd31(0x181)]))&&(_0x21d436=path['join'](process['cwd'](),_0x1ffe2b['jGvyX']));}return _0x21d436?(logger[_0x1ecd31(0x173)]('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x21d436),_0x43f38d=_0x1ffe2b[_0x1ecd31(0x158)](require,_0x21d436)):logger[_0x1ecd31(0x173)](_0x1ffe2b[_0x1ecd31(0x155)]),_0x43f38d;},removeExistingEnvs=_0x40c22a=>{const _0x52f8d5=a33_0x3402e1,_0xa21390={};_0xa21390['WVJym']=function(_0x497a78,_0x44dce4){return _0x497a78>_0x44dce4;},_0xa21390['qpQpr']=function(_0x50e755,_0x8887d0){return _0x50e755>_0x8887d0;};const _0x421632=_0xa21390;let _0x2852ae=_0x40c22a[_0x52f8d5(0x15a)](_0xcf710e=>_0xcf710e===_0x52f8d5(0x16f));_0x421632[_0x52f8d5(0x14e)](_0x2852ae,-0x1)&&_0x40c22a[_0x52f8d5(0x184)](_0x2852ae,0x2),_0x2852ae=_0x40c22a['findIndex'](_0x13d305=>_0x13d305==='-e'),_0x421632[_0x52f8d5(0x15f)](_0x2852ae,-0x1)&&_0x40c22a[_0x52f8d5(0x184)](_0x2852ae,0x2);};function run(_0x9c0cf4,_0x475288,_0x19c7c2){const _0x25d432=a33_0x3402e1,_0x2783eb={'Tsfdf':_0x25d432(0x15e),'EHkBZ':function(_0x12ee8c,_0x58d6ca){return _0x12ee8c+_0x58d6ca;},'yxyoV':'test_settings','ogGAP':function(_0x132b65,_0x1dcf50,_0x9753a2){return _0x132b65(_0x1dcf50,_0x9753a2);},'vIeaS':_0x25d432(0x186),'vmFkJ':_0x25d432(0x14b),'FIrwB':function(_0x12f75f,_0x336e7c){return _0x12f75f===_0x336e7c;},'IQdgw':_0x25d432(0x177),'uBWlJ':function(_0x507d9c,_0x4f1370){return _0x507d9c(_0x4f1370);},'jzCtI':function(_0x481cb3,_0x43d8df,_0xea2da9,_0x11ba7c){return _0x481cb3(_0x43d8df,_0xea2da9,_0x11ba7c);},'dApeU':_0x25d432(0x149),'UWdsV':_0x25d432(0x180),'iNjWa':_0x25d432(0x16f),'ilbAx':_0x25d432(0x169),'UBGdg':_0x25d432(0x18e)};if(!_0x19c7c2['config'])return;const _0x20be9d=_0x2783eb[_0x25d432(0x17a)](getUserNightwatchConfigs,_0x9c0cf4,_0x475288),_0x13ad4e={};_0x13ad4e[_0x25d432(0x157)]=![];const _0x706552={};_0x706552['host']=_0x2783eb['vIeaS'],_0x706552[_0x25d432(0x148)]=0x1bb;const _0x14da80={};_0x14da80[_0x25d432(0x178)]=_0x13ad4e,_0x14da80['selenium']=_0x706552;const _0x15ef8d=_0x14da80;logger[_0x25d432(0x173)](_0x2783eb['vmFkJ']);const _0x435d99={..._0x20be9d},_0x3f9b55=_0x435d99,_0x520786=helper['useW3C'](_0x19c7c2[_0x25d432(0x152)]),_0x35b09b=[];_0x19c7c2[_0x25d432(0x152)][_0x25d432(0x17c)]['forEach']((_0x44dc9a,_0x1d6c9a)=>{const _0x3de31a=_0x25d432;_0x520786?_0x35b09b['push'](helper[_0x3de31a(0x150)](_0x19c7c2['config'],_0x2783eb[_0x3de31a(0x162)],_0x1d6c9a)):_0x35b09b[_0x3de31a(0x185)](helper[_0x3de31a(0x161)](_0x19c7c2[_0x3de31a(0x152)],_0x2783eb[_0x3de31a(0x162)],_0x1d6c9a));});const _0x464f93={},_0x37c61c=[];_0x9c0cf4[_0x25d432(0x15b)]=_0x9c0cf4[_0x25d432(0x15b)]||_0x9c0cf4['e'];const _0x1ec1cb=_0x9c0cf4['env']?_0x9c0cf4[_0x25d432(0x15b)][_0x25d432(0x15c)]()['split'](',')[_0x25d432(0x18f)](_0x11c892=>_0x11c892['trim']())[_0x25d432(0x18b)](_0x55c226=>_0x55c226!==''):[''];_0x2783eb[_0x25d432(0x145)](_0x1ec1cb[_0x25d432(0x14d)],0x0)&&_0x1ec1cb['push']('');_0x1ec1cb[_0x25d432(0x171)](_0x5cffe8=>{const _0xd1207a=_0x25d432,_0x1facbe={'zZrzo':function(_0x3ccce0,_0x2c260c){const _0x4a3f92=a33_0x2521;return _0x2783eb[_0x4a3f92(0x183)](_0x3ccce0,_0x2c260c);},'mDTYg':_0x2783eb[_0xd1207a(0x159)]};_0x35b09b[_0xd1207a(0x171)](_0x3ad4ea=>{const _0x10b06c=_0xd1207a;let _0x1e1dab=_0x1facbe['zZrzo'](helper[_0x10b06c(0x17d)](_0x3ad4ea,'_'),'_'+Date[_0x10b06c(0x165)]());_0x5cffe8&&(_0x1e1dab+='_'+_0x5cffe8);if(_0x5cffe8&&(!_0x20be9d[_0x1facbe['mDTYg']]||!_0x20be9d[_0x1facbe[_0x10b06c(0x17b)]][_0x5cffe8]))return;const _0x587160={..._0x15ef8d};_0x587160['desiredCapabilities']=_0x3ad4ea;const _0x23f66c=_0x587160;_0x464f93[_0x1e1dab]=_0x5cffe8?helper[_0x10b06c(0x153)](_0x20be9d[_0x1facbe[_0x10b06c(0x17b)]][_0x5cffe8],_0x23f66c):_0x23f66c,_0x37c61c['push'](_0x1e1dab);});});!_0x3f9b55[_0x25d432(0x16a)]&&(_0x3f9b55[_0x25d432(0x16a)]={});_0x3f9b55[_0x25d432(0x16a)]={..._0x3f9b55[_0x25d432(0x16a)],..._0x464f93};const _0x525e08=path[_0x25d432(0x147)](__dirname,_0x2783eb['IQdgw']);fs['writeFileSync'](_0x525e08,JSON[_0x25d432(0x160)](_0x3f9b55)),_0x2783eb[_0x25d432(0x167)](removeExistingEnvs,_0x475288);const _0x29667f=_0x2783eb['jzCtI'](spawn,/^win/['test'](process['platform'])?_0x2783eb['dApeU']:_0x2783eb[_0x25d432(0x162)],[_0x2783eb[_0x25d432(0x154)],_0x525e08,..._0x475288[_0x25d432(0x16d)](0x1),_0x2783eb[_0x25d432(0x17e)],_0x37c61c['join'](',')],{'stdio':_0x2783eb[_0x25d432(0x187)]});_0x29667f['on'](_0x2783eb[_0x25d432(0x175)],async _0x128899=>{const _0x26f139=_0x25d432;logger[_0x26f139(0x14a)]('child\x20process\x20exited\x20with\x20code\x20'+_0x128899),logger[_0x26f139(0x173)](_0x26f139(0x170)+_0x525e08),fs[_0x26f139(0x14f)](_0x525e08);});}function a33_0x2521(_0x231a87,_0x5c5524){const _0x57dca8=a33_0x57dc();return a33_0x2521=function(_0x2521cf,_0xd2fe9b){_0x2521cf=_0x2521cf-0x145;let _0x1cb7ac=_0x57dca8[_0x2521cf];return _0x1cb7ac;},a33_0x2521(_0x231a87,_0x5c5524);}module[a33_0x3402e1(0x18d)]=run;