#!/usr/bin/env node
'use strict';const a37_0x3c29b7=a37_0x2c95;(function(_0xcf352c,_0x32f85a){const _0x24fb27=a37_0x2c95,_0x162264=_0xcf352c();while(!![]){try{const _0x26e1c1=parseInt(_0x24fb27(0x1b1))/0x1+parseInt(_0x24fb27(0x18e))/0x2*(-parseInt(_0x24fb27(0x175))/0x3)+parseInt(_0x24fb27(0x1a1))/0x4+parseInt(_0x24fb27(0x183))/0x5+-parseInt(_0x24fb27(0x187))/0x6*(parseInt(_0x24fb27(0x185))/0x7)+parseInt(_0x24fb27(0x1a2))/0x8*(-parseInt(_0x24fb27(0x194))/0x9)+parseInt(_0x24fb27(0x182))/0xa*(parseInt(_0x24fb27(0x190))/0xb);if(_0x26e1c1===_0x32f85a)break;else _0x162264['push'](_0x162264['shift']());}catch(_0x1e07e3){_0x162264['push'](_0x162264['shift']());}}}(a37_0x1c80,0x78dc0));function a37_0x2c95(_0x4fee63,_0x34108d){const _0x1c80dc=a37_0x1c80();return a37_0x2c95=function(_0x2c9504,_0x27dd03){_0x2c9504=_0x2c9504-0x165;let _0x574645=_0x1c80dc[_0x2c9504];return _0x574645;},a37_0x2c95(_0x4fee63,_0x34108d);}const fs=require('fs'),path=require(a37_0x3c29b7(0x18a)),{spawn}=require(a37_0x3c29b7(0x1a8)),logger=require(a37_0x3c29b7(0x17f))[a37_0x3c29b7(0x1a7)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a37_0x3c29b7(0x169)),constants=require(a37_0x3c29b7(0x19c)),getUserNightwatchConfigs=(_0x3fc3c7,_0x5c271a)=>{const _0x22a4ef=a37_0x3c29b7,_0x276372={'PCbbv':_0x22a4ef(0x1a6),'RQnOp':_0x22a4ef(0x1a4),'kMsMU':function(_0x12dc3a,_0x539b40){return _0x12dc3a(_0x539b40);},'zybBM':_0x22a4ef(0x174)};let _0x56c6ef=null,_0x42e87={};const _0x24392b=_0x5c271a['findIndex'](_0x3d3364=>_0x3d3364===_0x22a4ef(0x180));if(!helper['isUndefined'](_0x3fc3c7[_0x22a4ef(0x165)])&&fs['existsSync'](path[_0x22a4ef(0x17e)](process[_0x22a4ef(0x192)](),_0x3fc3c7[_0x22a4ef(0x165)])))_0x56c6ef=path[_0x22a4ef(0x17e)](process[_0x22a4ef(0x192)](),_0x3fc3c7[_0x22a4ef(0x165)]),_0x5c271a[_0x22a4ef(0x16c)](_0x24392b,0x2);else{if(fs[_0x22a4ef(0x1a5)](path[_0x22a4ef(0x17e)](process[_0x22a4ef(0x192)](),_0x276372[_0x22a4ef(0x173)])))_0x56c6ef=path[_0x22a4ef(0x17e)](process[_0x22a4ef(0x192)](),_0x276372['PCbbv']);else fs[_0x22a4ef(0x1a5)](path[_0x22a4ef(0x17e)](process['cwd'](),_0x276372['RQnOp']))&&(_0x56c6ef=path[_0x22a4ef(0x17e)](process[_0x22a4ef(0x192)](),_0x276372[_0x22a4ef(0x16d)]));}return _0x56c6ef?(logger[_0x22a4ef(0x19d)](_0x22a4ef(0x186)+_0x56c6ef),_0x42e87=_0x276372[_0x22a4ef(0x19a)](require,_0x56c6ef)):logger[_0x22a4ef(0x19d)](_0x276372[_0x22a4ef(0x1ae)]),_0x42e87;},removeExistingEnvs=_0x2466de=>{const _0x3a64c4=a37_0x3c29b7,_0x525c9c={};_0x525c9c['bIEoY']=function(_0x3961dc,_0x2bd519){return _0x3961dc>_0x2bd519;},_0x525c9c[_0x3a64c4(0x196)]=function(_0x564607,_0x4bc979){return _0x564607>_0x4bc979;};const _0x22248c=_0x525c9c;let _0xfb0b9e=_0x2466de['findIndex'](_0x476a68=>_0x476a68===_0x3a64c4(0x19b));_0x22248c[_0x3a64c4(0x171)](_0xfb0b9e,-0x1)&&_0x2466de[_0x3a64c4(0x16c)](_0xfb0b9e,0x2),_0xfb0b9e=_0x2466de[_0x3a64c4(0x1b2)](_0x4b2732=>_0x4b2732==='-e'),_0x22248c['TuPhD'](_0xfb0b9e,-0x1)&&_0x2466de[_0x3a64c4(0x16c)](_0xfb0b9e,0x2);};function a37_0x1c80(){const _0x4f3cad=['Getting\x20your\x20nightwatch\x20configs\x20from\x20','18dCvjGp','debug','uRuMa','path','length','mRjiH','modifyBrowserStackCaps','2VwjuIb','HxyQl','13014023OmvPkd','unlinkSync','cwd','FHVYv','36IQVXKg','port','TuPhD','Deleting\x20','getPlatformName','push','kMsMU','--env','../utils/constants','info','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','host','mergeDeep','3462516lqSISA','1923224yutnMv','forEach','nightwatch.json','existsSync','nightwatch.conf.js','winstonLogger','child_process','nightwatch.cmd','platform','rFEpZ','test_settings','selenium','zybBM','gpofU','nightwatch','59507BpRnmp','findIndex','env','config','ARcXm','close','slice','../../helpers/helper','platforms','bzToV','splice','RQnOp','waDre','Ggnlc','modifyBrowserStackW3CCaps','bIEoY','filter','PCbbv','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','1034259wfhcql','trim','gnPZl','eXcPE','inherit','NccYz','ozKGy','exports','now','join','../../helpers/logger','--config','bbesL','10GaPsyA','1885055gwNrRX','child\x20process\x20exited\x20with\x20code\x20','1595615iXiYwR'];a37_0x1c80=function(){return _0x4f3cad;};return a37_0x1c80();}function run(_0x5bbc2f,_0x1494f4,_0x974d49){const _0x2d4f67=a37_0x3c29b7,_0x3d97cc={'bzToV':_0x2d4f67(0x1b0),'HxyQl':function(_0x3d95f8,_0x24c682){return _0x3d95f8+_0x24c682;},'gpofU':_0x2d4f67(0x1ac),'Ggnlc':function(_0x386ceb,_0x430c8d,_0x5e02ee){return _0x386ceb(_0x430c8d,_0x5e02ee);},'ozKGy':'hub.browserstack.com','eXcPE':_0x2d4f67(0x19e),'FHVYv':function(_0x494f76,_0x114c1b){return _0x494f76===_0x114c1b;},'ARcXm':'nightwatch-browserstack.json','RPpQE':function(_0x49c801,_0x4d9bb7){return _0x49c801(_0x4d9bb7);},'waDre':function(_0x476950,_0x5ad24c,_0x2ac1e7,_0x113467){return _0x476950(_0x5ad24c,_0x2ac1e7,_0x113467);},'SJIAq':_0x2d4f67(0x1a9),'bbesL':_0x2d4f67(0x180),'uRuMa':_0x2d4f67(0x19b),'NccYz':_0x2d4f67(0x179),'gnPZl':_0x2d4f67(0x167)};if(!_0x974d49['config'])return;const _0xbfdc8a=_0x3d97cc[_0x2d4f67(0x16f)](getUserNightwatchConfigs,_0x5bbc2f,_0x1494f4),_0x4f18c5={};_0x4f18c5['start_process']=![];const _0x30e433={};_0x30e433[_0x2d4f67(0x19f)]=_0x3d97cc[_0x2d4f67(0x17b)],_0x30e433[_0x2d4f67(0x195)]=0x1bb;const _0x5e1aa9={};_0x5e1aa9['webdriver']=_0x4f18c5,_0x5e1aa9[_0x2d4f67(0x1ad)]=_0x30e433;const _0x1482bd=_0x5e1aa9;logger[_0x2d4f67(0x19d)](_0x3d97cc[_0x2d4f67(0x178)]);const _0x45ef45={..._0xbfdc8a},_0x281ea4=_0x45ef45,_0xe94d8a=helper['useW3C'](_0x974d49[_0x2d4f67(0x165)]),_0x47004c=[];_0x974d49[_0x2d4f67(0x165)][_0x2d4f67(0x16a)][_0x2d4f67(0x1a3)]((_0x2dd6de,_0x5933c1)=>{const _0x7b9ab0=_0x2d4f67;_0xe94d8a?_0x47004c[_0x7b9ab0(0x199)](helper[_0x7b9ab0(0x170)](_0x974d49[_0x7b9ab0(0x165)],_0x3d97cc[_0x7b9ab0(0x16b)],_0x5933c1)):_0x47004c['push'](helper[_0x7b9ab0(0x18d)](_0x974d49['config'],_0x3d97cc[_0x7b9ab0(0x16b)],_0x5933c1));});const _0x16e5ab={},_0x2bb38b=[];_0x5bbc2f[_0x2d4f67(0x1b3)]=_0x5bbc2f[_0x2d4f67(0x1b3)]||_0x5bbc2f['e'];const _0x376e2c=_0x5bbc2f[_0x2d4f67(0x1b3)]?_0x5bbc2f['env'][_0x2d4f67(0x176)]()['split'](',')['map'](_0x554c75=>_0x554c75[_0x2d4f67(0x176)]())[_0x2d4f67(0x172)](_0x37acb5=>_0x37acb5!==''):[''];_0x3d97cc[_0x2d4f67(0x193)](_0x376e2c[_0x2d4f67(0x18b)],0x0)&&_0x376e2c[_0x2d4f67(0x199)]('');_0x376e2c[_0x2d4f67(0x1a3)](_0x55d60f=>{const _0x486b9b=_0x2d4f67,_0x12a578={'mRjiH':function(_0x22216d,_0x2cc73e){const _0x51b153=a37_0x2c95;return _0x3d97cc[_0x51b153(0x18f)](_0x22216d,_0x2cc73e);},'rFEpZ':_0x3d97cc[_0x486b9b(0x1af)]};_0x47004c[_0x486b9b(0x1a3)](_0x39be3a=>{const _0xe631d3=_0x486b9b;let _0x4858c5=_0x12a578[_0xe631d3(0x18c)](helper[_0xe631d3(0x198)](_0x39be3a,'_'),'_'+Date[_0xe631d3(0x17d)]());_0x55d60f&&(_0x4858c5+='_'+_0x55d60f);if(_0x55d60f&&(!_0xbfdc8a[_0x12a578['rFEpZ']]||!_0xbfdc8a[_0x12a578['rFEpZ']][_0x55d60f]))return;const _0x586c2a={..._0x1482bd};_0x586c2a['desiredCapabilities']=_0x39be3a;const _0xaf1b36=_0x586c2a;_0x16e5ab[_0x4858c5]=_0x55d60f?helper[_0xe631d3(0x1a0)](_0xbfdc8a[_0x12a578[_0xe631d3(0x1ab)]][_0x55d60f],_0xaf1b36):_0xaf1b36,_0x2bb38b['push'](_0x4858c5);});});!_0x281ea4[_0x2d4f67(0x1ac)]&&(_0x281ea4[_0x2d4f67(0x1ac)]={});_0x281ea4['test_settings']={..._0x281ea4[_0x2d4f67(0x1ac)],..._0x16e5ab};const _0x46276d=path[_0x2d4f67(0x17e)](__dirname,_0x3d97cc[_0x2d4f67(0x166)]);fs['writeFileSync'](_0x46276d,JSON['stringify'](_0x281ea4)),_0x3d97cc['RPpQE'](removeExistingEnvs,_0x1494f4);const _0xd28679=_0x3d97cc[_0x2d4f67(0x16e)](spawn,/^win/['test'](process[_0x2d4f67(0x1aa)])?_0x3d97cc['SJIAq']:_0x3d97cc[_0x2d4f67(0x16b)],[_0x3d97cc[_0x2d4f67(0x181)],_0x46276d,..._0x1494f4[_0x2d4f67(0x168)](0x1),_0x3d97cc[_0x2d4f67(0x189)],_0x2bb38b[_0x2d4f67(0x17e)](',')],{'stdio':_0x3d97cc[_0x2d4f67(0x17a)]});_0xd28679['on'](_0x3d97cc[_0x2d4f67(0x177)],async _0x2af96c=>{const _0x27625b=_0x2d4f67;logger[_0x27625b(0x188)](_0x27625b(0x184)+_0x2af96c),logger[_0x27625b(0x19d)](_0x27625b(0x197)+_0x46276d),fs[_0x27625b(0x191)](_0x46276d);});}module[a37_0x3c29b7(0x17c)]=run;