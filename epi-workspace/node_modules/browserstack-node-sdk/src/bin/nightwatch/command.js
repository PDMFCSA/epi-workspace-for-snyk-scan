#!/usr/bin/env node
'use strict';const a37_0x3a916a=a37_0x47ca;(function(_0x156e9b,_0x8b1605){const _0x2d6cad=a37_0x47ca,_0x37397d=_0x156e9b();while(!![]){try{const _0xac271a=-parseInt(_0x2d6cad(0x106))/0x1*(-parseInt(_0x2d6cad(0xd9))/0x2)+parseInt(_0x2d6cad(0xf9))/0x3*(parseInt(_0x2d6cad(0xf3))/0x4)+parseInt(_0x2d6cad(0xf1))/0x5*(parseInt(_0x2d6cad(0x108))/0x6)+-parseInt(_0x2d6cad(0xd5))/0x7+parseInt(_0x2d6cad(0x105))/0x8+parseInt(_0x2d6cad(0xd6))/0x9*(-parseInt(_0x2d6cad(0xd3))/0xa)+-parseInt(_0x2d6cad(0xd0))/0xb;if(_0xac271a===_0x8b1605)break;else _0x37397d['push'](_0x37397d['shift']());}catch(_0x5d153a){_0x37397d['push'](_0x37397d['shift']());}}}(a37_0x2d8f,0xcea05));function a37_0x47ca(_0x37dd8b,_0x9eaeaa){const _0x2d8ff6=a37_0x2d8f();return a37_0x47ca=function(_0x47cad4,_0x30c385){_0x47cad4=_0x47cad4-0xcd;let _0x350fb2=_0x2d8ff6[_0x47cad4];return _0x350fb2;},a37_0x47ca(_0x37dd8b,_0x9eaeaa);}const fs=require('fs'),path=require(a37_0x3a916a(0xf2)),{spawn}=require(a37_0x3a916a(0x10e)),logger=require(a37_0x3a916a(0xea))[a37_0x3a916a(0xce)],{default:BrowserStackSetup}=require(a37_0x3a916a(0x119)),helper=require(a37_0x3a916a(0xdf)),constants=require(a37_0x3a916a(0x10f)),getUserNightwatchConfigs=(_0x5d3008,_0x3e5352)=>{const _0x2cb120=a37_0x3a916a,_0x265997={'pbYeA':_0x2cb120(0xdd),'uOzXs':_0x2cb120(0x102),'biqqc':function(_0x450f05,_0x289bae){return _0x450f05(_0x289bae);},'DSpDa':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x2845ca=null,_0x5d7c9c={};const _0x545d57=_0x3e5352[_0x2cb120(0xe2)](_0x49100a=>_0x49100a===_0x2cb120(0xd8));if(!helper[_0x2cb120(0xf0)](_0x5d3008[_0x2cb120(0xe6)])&&fs[_0x2cb120(0xd4)](path[_0x2cb120(0xf5)](process[_0x2cb120(0x107)](),_0x5d3008[_0x2cb120(0xe6)])))_0x2845ca=path[_0x2cb120(0xf5)](process[_0x2cb120(0x107)](),_0x5d3008[_0x2cb120(0xe6)]),_0x3e5352[_0x2cb120(0xe1)](_0x545d57,0x2);else{if(fs[_0x2cb120(0xd4)](path[_0x2cb120(0xf5)](process['cwd'](),_0x265997[_0x2cb120(0xee)])))_0x2845ca=path[_0x2cb120(0xf5)](process[_0x2cb120(0x107)](),_0x265997['pbYeA']);else fs[_0x2cb120(0xd4)](path[_0x2cb120(0xf5)](process[_0x2cb120(0x107)](),_0x265997[_0x2cb120(0x114)]))&&(_0x2845ca=path[_0x2cb120(0xf5)](process[_0x2cb120(0x107)](),_0x265997[_0x2cb120(0x114)]));}return _0x2845ca?(logger['info'](_0x2cb120(0x11c)+_0x2845ca),_0x5d7c9c=_0x265997[_0x2cb120(0xfe)](require,_0x2845ca)):logger[_0x2cb120(0xeb)](_0x265997[_0x2cb120(0xcf)]),_0x5d7c9c;},removeExistingEnvs=_0x15cb15=>{const _0x4e2df6=a37_0x3a916a,_0x219a5c={};_0x219a5c['CQxno']=function(_0x59e65c,_0x586206){return _0x59e65c>_0x586206;},_0x219a5c[_0x4e2df6(0xe8)]=function(_0x5ac64d,_0x1696f2){return _0x5ac64d>_0x1696f2;};const _0x42aa5b=_0x219a5c;let _0x3f98f1=_0x15cb15[_0x4e2df6(0xe2)](_0x2237a8=>_0x2237a8==='--env');_0x42aa5b[_0x4e2df6(0x112)](_0x3f98f1,-0x1)&&_0x15cb15['splice'](_0x3f98f1,0x2),_0x3f98f1=_0x15cb15[_0x4e2df6(0xe2)](_0x2e5949=>_0x2e5949==='-e'),_0x42aa5b[_0x4e2df6(0xe8)](_0x3f98f1,-0x1)&&_0x15cb15['splice'](_0x3f98f1,0x2);};function a37_0x2d8f(){const _0x3ec53a=['DSpDa','17663041ILDICd','BsmuE','start_process','60tKSIcV','existsSync','1957004jmgaJz','448956LeQJyU','NmFdS','--config','406wKlgEd','mergeDeep','slice','desiredCapabilities','nightwatch.conf.js','useW3C','../../helpers/helper','DYjBY','splice','findIndex','map','IGWTh','child\x20process\x20exited\x20with\x20code\x20','config','close','erWZd','env','../../helpers/logger','info','modifyBrowserStackCaps','platform','pbYeA','nightwatch','isUndefined','85vbHCWI','path','9904mFEvbc','xiIrI','join','debug','trim','test','1923WmVWdd','getPlatformName','lrGTV','nightwatch.cmd','now','biqqc','WYJOw','unlinkSync','nightwatch-browserstack.json','nightwatch.json','flSUf','push','8153352rADDrU','490ZHOhRM','cwd','114774wFPgFj','length','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','host','test_settings','exports','child_process','../utils/constants','BFBGh','platforms','CQxno','inherit','uOzXs','rFMNI','forEach','gQqjS','modifyBrowserStackW3CCaps','../../helpers/BrowserStackSetup','stringify','UJLGU','Getting\x20your\x20nightwatch\x20configs\x20from\x20','port','winstonLogger'];a37_0x2d8f=function(){return _0x3ec53a;};return a37_0x2d8f();}function run(_0x43f9af,_0x3945a8,_0x59b973){const _0x300aa0=a37_0x3a916a,_0x49122b={'IGWTh':_0x300aa0(0xef),'lQUjl':function(_0x387cf0,_0x65f82e){return _0x387cf0+_0x65f82e;},'DYjBY':_0x300aa0(0x10c),'lrGTV':function(_0x28d274,_0x37e91c,_0x3566d8){return _0x28d274(_0x37e91c,_0x3566d8);},'BFBGh':'hub.browserstack.com','ZLHki':_0x300aa0(0x10a),'rFMNI':function(_0x385736,_0x2bc497){return _0x385736===_0x2bc497;},'UJLGU':_0x300aa0(0x101),'gQqjS':function(_0x3cae6c,_0x289e80){return _0x3cae6c(_0x289e80);},'WYJOw':function(_0x583fbb,_0x4510f3,_0x44a269,_0x371397){return _0x583fbb(_0x4510f3,_0x44a269,_0x371397);},'flSUf':_0x300aa0(0xfc),'NmFdS':'--config','fpaRl':'--env','BsmuE':_0x300aa0(0x113),'xiIrI':_0x300aa0(0xe7)};if(!_0x59b973[_0x300aa0(0xe6)])return;const _0x1f3903=_0x49122b[_0x300aa0(0xfb)](getUserNightwatchConfigs,_0x43f9af,_0x3945a8),_0x20d3f8={};_0x20d3f8[_0x300aa0(0xd2)]=![];const _0x4c9827={};_0x4c9827[_0x300aa0(0x10b)]=_0x49122b[_0x300aa0(0x110)],_0x4c9827[_0x300aa0(0xcd)]=0x1bb;const _0x15e2b5={};_0x15e2b5['webdriver']=_0x20d3f8,_0x15e2b5['selenium']=_0x4c9827;const _0x43276a=_0x15e2b5;logger[_0x300aa0(0xeb)](_0x49122b['ZLHki']);const _0x2ee17b={..._0x1f3903},_0x48b189=_0x2ee17b,_0x2aacee=helper[_0x300aa0(0xde)](_0x59b973[_0x300aa0(0xe6)]),_0x1de026=[];_0x59b973['config'][_0x300aa0(0x111)][_0x300aa0(0x116)]((_0x40f2c0,_0x2d5d7d)=>{const _0x40d1db=_0x300aa0;_0x2aacee?_0x1de026[_0x40d1db(0x104)](helper[_0x40d1db(0x118)](_0x59b973[_0x40d1db(0xe6)],_0x49122b[_0x40d1db(0xe4)],_0x2d5d7d)):_0x1de026[_0x40d1db(0x104)](helper[_0x40d1db(0xec)](_0x59b973['config'],_0x49122b[_0x40d1db(0xe4)],_0x2d5d7d));});const _0x2a07ea={},_0x154c24=[];_0x43f9af[_0x300aa0(0xe9)]=_0x43f9af[_0x300aa0(0xe9)]||_0x43f9af['e'];const _0x46d114=_0x43f9af['env']?_0x43f9af[_0x300aa0(0xe9)][_0x300aa0(0xf7)]()['split'](',')[_0x300aa0(0xe3)](_0x58ea84=>_0x58ea84[_0x300aa0(0xf7)]())['filter'](_0x7dc940=>_0x7dc940!==''):[''];_0x49122b[_0x300aa0(0x115)](_0x46d114[_0x300aa0(0x109)],0x0)&&_0x46d114['push']('');_0x46d114[_0x300aa0(0x116)](_0x109598=>{const _0x2540dc=_0x300aa0;_0x1de026[_0x2540dc(0x116)](_0x23164e=>{const _0x3a8422=_0x2540dc;let _0xc3d53a=_0x49122b['lQUjl'](helper[_0x3a8422(0xfa)](_0x23164e,'_'),'_'+Date[_0x3a8422(0xfd)]());_0x109598&&(_0xc3d53a+='_'+_0x109598);if(_0x109598&&(!_0x1f3903[_0x49122b[_0x3a8422(0xe0)]]||!_0x1f3903[_0x49122b[_0x3a8422(0xe0)]][_0x109598]))return;const _0x33af3a={..._0x43276a};_0x33af3a[_0x3a8422(0xdc)]=_0x23164e;const _0x436ae1=_0x33af3a;_0x2a07ea[_0xc3d53a]=_0x109598?helper[_0x3a8422(0xda)](_0x1f3903[_0x49122b[_0x3a8422(0xe0)]][_0x109598],_0x436ae1):_0x436ae1,_0x154c24[_0x3a8422(0x104)](_0xc3d53a);});});!_0x48b189[_0x300aa0(0x10c)]&&(_0x48b189['test_settings']={});_0x48b189[_0x300aa0(0x10c)]={..._0x48b189[_0x300aa0(0x10c)],..._0x2a07ea};const _0x465ebc=path[_0x300aa0(0xf5)](__dirname,_0x49122b[_0x300aa0(0x11b)]);fs['writeFileSync'](_0x465ebc,JSON[_0x300aa0(0x11a)](_0x48b189)),_0x49122b[_0x300aa0(0x117)](removeExistingEnvs,_0x3945a8);const _0x2ac95a=_0x49122b[_0x300aa0(0xff)](spawn,/^win/[_0x300aa0(0xf8)](process[_0x300aa0(0xed)])?_0x49122b[_0x300aa0(0x103)]:_0x49122b[_0x300aa0(0xe4)],[_0x49122b[_0x300aa0(0xd7)],_0x465ebc,..._0x3945a8[_0x300aa0(0xdb)](0x1),_0x49122b['fpaRl'],_0x154c24[_0x300aa0(0xf5)](',')],{'stdio':_0x49122b[_0x300aa0(0xd1)]});_0x2ac95a['on'](_0x49122b[_0x300aa0(0xf4)],async _0x5dc40a=>{const _0x541c81=_0x300aa0;logger[_0x541c81(0xf6)](_0x541c81(0xe5)+_0x5dc40a),logger[_0x541c81(0xeb)]('Deleting\x20'+_0x465ebc),fs[_0x541c81(0x100)](_0x465ebc);});}module[a37_0x3a916a(0x10d)]=run;