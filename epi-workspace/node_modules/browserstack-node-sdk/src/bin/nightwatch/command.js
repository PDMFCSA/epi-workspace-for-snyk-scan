#!/usr/bin/env node
'use strict';const a33_0x49d69f=a33_0x41c3;function a33_0x9d0d(){const _0x2bf652=['desiredCapabilities','LvJyf','test_settings','selenium','75EUZrpV','filter','trim','env','Getting\x20your\x20nightwatch\x20configs\x20from\x20','port','nightwatch.cmd','123052WupUnv','platforms','120NycOXd','useW3C','cwd','--env','2793OXbUUI','platform','wGbVi','isUndefined','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','findIndex','join','forEach','sOXsw','64750ZMBlRy','../../helpers/logger','slice','getPlatformName','host','config','modifyBrowserStackW3CCaps','writeFileSync','../utils/constants','child_process','../../helpers/helper','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','length','qYjBo','info','nightwatch.conf.js','close','54PCLPiU','inherit','splice','ZWiZc','RQGZt','xwjCr','Deleting\x20','nightwatch','webdriver','existsSync','KAwDO','--config','lFiSi','BlzLR','now','exports','push','unlinkSync','nightwatch.json','384410LgJlnO','oSChh','lUWln','631120CssXys','6238143cANuFc','anOyy','viPvX','../../helpers/BrowserStackSetup','64HtJrNF','debug','1440048HyhVDN','LvKlJ','hub.browserstack.com','zBusw','143miyBgY'];a33_0x9d0d=function(){return _0x2bf652;};return a33_0x9d0d();}(function(_0x44218b,_0x6ad075){const _0x4c20fc=a33_0x41c3,_0x37a8c5=_0x44218b();while(!![]){try{const _0xc60f6b=parseInt(_0x4c20fc(0x1b3))/0x1*(parseInt(_0x4c20fc(0x180))/0x2)+-parseInt(_0x4c20fc(0x1a6))/0x3*(parseInt(_0x4c20fc(0x1ad))/0x4)+parseInt(_0x4c20fc(0x16f))/0x5*(-parseInt(_0x4c20fc(0x1af))/0x6)+parseInt(_0x4c20fc(0x196))/0x7*(-parseInt(_0x4c20fc(0x19b))/0x8)+parseInt(_0x4c20fc(0x197))/0x9+-parseInt(_0x4c20fc(0x193))/0xa+-parseInt(_0x4c20fc(0x1a1))/0xb*(-parseInt(_0x4c20fc(0x19d))/0xc);if(_0xc60f6b===_0x6ad075)break;else _0x37a8c5['push'](_0x37a8c5['shift']());}catch(_0x4e11b0){_0x37a8c5['push'](_0x37a8c5['shift']());}}}(a33_0x9d0d,0x8407a));const fs=require('fs'),path=require('path'),{spawn}=require(a33_0x49d69f(0x178)),logger=require(a33_0x49d69f(0x170))['winstonLogger'],{default:BrowserStackSetup}=require(a33_0x49d69f(0x19a)),helper=require(a33_0x49d69f(0x179)),constants=require(a33_0x49d69f(0x177)),getUserNightwatchConfigs=(_0x1b7733,_0x586c1d)=>{const _0x3a57eb=a33_0x49d69f,_0x1c17b4={'qYjBo':_0x3a57eb(0x17e),'lUWln':_0x3a57eb(0x192),'ZWiZc':function(_0x4b925c,_0x4f64e8){return _0x4b925c(_0x4f64e8);},'eEdsj':_0x3a57eb(0x1b7)};let _0x3c05e8=null,_0xe8fcd={};const _0x105590=_0x586c1d[_0x3a57eb(0x1b8)](_0x5285d1=>_0x5285d1===_0x3a57eb(0x18b));if(!helper[_0x3a57eb(0x1b6)](_0x1b7733[_0x3a57eb(0x174)])&&fs[_0x3a57eb(0x189)](path[_0x3a57eb(0x1b9)](process[_0x3a57eb(0x1b1)](),_0x1b7733['config'])))_0x3c05e8=path[_0x3a57eb(0x1b9)](process['cwd'](),_0x1b7733['config']),_0x586c1d[_0x3a57eb(0x182)](_0x105590,0x2);else{if(fs['existsSync'](path['join'](process[_0x3a57eb(0x1b1)](),_0x1c17b4[_0x3a57eb(0x17c)])))_0x3c05e8=path['join'](process['cwd'](),_0x1c17b4[_0x3a57eb(0x17c)]);else fs[_0x3a57eb(0x189)](path[_0x3a57eb(0x1b9)](process[_0x3a57eb(0x1b1)](),_0x1c17b4['lUWln']))&&(_0x3c05e8=path['join'](process['cwd'](),_0x1c17b4[_0x3a57eb(0x195)]));}return _0x3c05e8?(logger[_0x3a57eb(0x17d)](_0x3a57eb(0x1aa)+_0x3c05e8),_0xe8fcd=_0x1c17b4[_0x3a57eb(0x183)](require,_0x3c05e8)):logger[_0x3a57eb(0x17d)](_0x1c17b4['eEdsj']),_0xe8fcd;},removeExistingEnvs=_0x10feb8=>{const _0x311758=a33_0x49d69f,_0x314ad1={};_0x314ad1[_0x311758(0x18c)]=function(_0x40fcba,_0x51eac4){return _0x40fcba>_0x51eac4;},_0x314ad1[_0x311758(0x16e)]=function(_0x55bdbd,_0x53cce7){return _0x55bdbd>_0x53cce7;};const _0x16becd=_0x314ad1;let _0x158826=_0x10feb8[_0x311758(0x1b8)](_0x28753b=>_0x28753b===_0x311758(0x1b2));_0x16becd['lFiSi'](_0x158826,-0x1)&&_0x10feb8[_0x311758(0x182)](_0x158826,0x2),_0x158826=_0x10feb8[_0x311758(0x1b8)](_0x342d22=>_0x342d22==='-e'),_0x16becd[_0x311758(0x16e)](_0x158826,-0x1)&&_0x10feb8[_0x311758(0x182)](_0x158826,0x2);};function run(_0x5cef41,_0x2884c6,_0x16cc15){const _0x1b3c6e=a33_0x49d69f,_0x31c514={'LvJyf':_0x1b3c6e(0x187),'xwjCr':function(_0x317ecf,_0x5337b3){return _0x317ecf+_0x5337b3;},'LvKlJ':_0x1b3c6e(0x1a4),'BlzLR':function(_0x1d384a,_0x45614d,_0x2df241){return _0x1d384a(_0x45614d,_0x2df241);},'RQGZt':_0x1b3c6e(0x19f),'wGbVi':_0x1b3c6e(0x17a),'oSChh':function(_0x7c2b9d,_0x17b66e){return _0x7c2b9d===_0x17b66e;},'viPvX':'nightwatch-browserstack.json','GLKpX':function(_0x1a5352,_0x3c2644){return _0x1a5352(_0x3c2644);},'CKsEn':function(_0x837222,_0x4acb5a,_0x3a986b,_0x3405d8){return _0x837222(_0x4acb5a,_0x3a986b,_0x3405d8);},'uzwHf':_0x1b3c6e(0x1ac),'KAwDO':_0x1b3c6e(0x18b),'anOyy':'--env','zBusw':_0x1b3c6e(0x181),'HjbVw':_0x1b3c6e(0x17f)};if(!_0x16cc15[_0x1b3c6e(0x174)])return;const _0x51b4c4=_0x31c514[_0x1b3c6e(0x18d)](getUserNightwatchConfigs,_0x5cef41,_0x2884c6),_0x20f375={};_0x20f375['start_process']=![];const _0x550faa={};_0x550faa[_0x1b3c6e(0x173)]=_0x31c514[_0x1b3c6e(0x184)],_0x550faa[_0x1b3c6e(0x1ab)]=0x1bb;const _0x28daa1={};_0x28daa1[_0x1b3c6e(0x188)]=_0x20f375,_0x28daa1[_0x1b3c6e(0x1a5)]=_0x550faa;const _0x188528=_0x28daa1;logger[_0x1b3c6e(0x17d)](_0x31c514[_0x1b3c6e(0x1b5)]);const _0x249e5f={..._0x51b4c4},_0xa9d493=_0x249e5f,_0x368435=helper[_0x1b3c6e(0x1b0)](_0x16cc15[_0x1b3c6e(0x174)]),_0x1a33b2=[];_0x16cc15['config'][_0x1b3c6e(0x1ae)][_0x1b3c6e(0x16d)]((_0x112870,_0x5d6a9e)=>{const _0x385fb5=_0x1b3c6e;_0x368435?_0x1a33b2[_0x385fb5(0x190)](helper[_0x385fb5(0x175)](_0x16cc15[_0x385fb5(0x174)],_0x31c514[_0x385fb5(0x1a3)],_0x5d6a9e)):_0x1a33b2[_0x385fb5(0x190)](helper['modifyBrowserStackCaps'](_0x16cc15['config'],_0x31c514['LvJyf'],_0x5d6a9e));});const _0x2bdfbb={},_0x4fee44=[];_0x5cef41['env']=_0x5cef41[_0x1b3c6e(0x1a9)]||_0x5cef41['e'];const _0x36ddb5=_0x5cef41[_0x1b3c6e(0x1a9)]?_0x5cef41[_0x1b3c6e(0x1a9)][_0x1b3c6e(0x1a8)]()['split'](',')['map'](_0x219eb8=>_0x219eb8[_0x1b3c6e(0x1a8)]())[_0x1b3c6e(0x1a7)](_0x3929e4=>_0x3929e4!==''):[''];_0x31c514[_0x1b3c6e(0x194)](_0x36ddb5[_0x1b3c6e(0x17b)],0x0)&&_0x36ddb5[_0x1b3c6e(0x190)]('');_0x36ddb5[_0x1b3c6e(0x16d)](_0x36d17a=>{const _0x2543fb=_0x1b3c6e;_0x1a33b2[_0x2543fb(0x16d)](_0x401177=>{const _0x3a742c=_0x2543fb;let _0xb48c21=_0x31c514[_0x3a742c(0x185)](helper[_0x3a742c(0x172)](_0x401177,'_'),'_'+Date[_0x3a742c(0x18e)]());_0x36d17a&&(_0xb48c21+='_'+_0x36d17a);if(_0x36d17a&&(!_0x51b4c4[_0x31c514[_0x3a742c(0x19e)]]||!_0x51b4c4[_0x31c514[_0x3a742c(0x19e)]][_0x36d17a]))return;const _0x2721f6={..._0x188528};_0x2721f6[_0x3a742c(0x1a2)]=_0x401177;const _0x406f30=_0x2721f6;_0x2bdfbb[_0xb48c21]=_0x36d17a?helper['mergeDeep'](_0x51b4c4[_0x31c514[_0x3a742c(0x19e)]][_0x36d17a],_0x406f30):_0x406f30,_0x4fee44[_0x3a742c(0x190)](_0xb48c21);});});!_0xa9d493[_0x1b3c6e(0x1a4)]&&(_0xa9d493[_0x1b3c6e(0x1a4)]={});_0xa9d493[_0x1b3c6e(0x1a4)]={..._0xa9d493[_0x1b3c6e(0x1a4)],..._0x2bdfbb};const _0x307be7=path['join'](__dirname,_0x31c514[_0x1b3c6e(0x199)]);fs[_0x1b3c6e(0x176)](_0x307be7,JSON['stringify'](_0xa9d493)),_0x31c514['GLKpX'](removeExistingEnvs,_0x2884c6);const _0xbf09e7=_0x31c514['CKsEn'](spawn,/^win/['test'](process[_0x1b3c6e(0x1b4)])?_0x31c514['uzwHf']:_0x31c514[_0x1b3c6e(0x1a3)],[_0x31c514[_0x1b3c6e(0x18a)],_0x307be7,..._0x2884c6[_0x1b3c6e(0x171)](0x1),_0x31c514[_0x1b3c6e(0x198)],_0x4fee44[_0x1b3c6e(0x1b9)](',')],{'stdio':_0x31c514[_0x1b3c6e(0x1a0)]});_0xbf09e7['on'](_0x31c514['HjbVw'],async _0x114762=>{const _0x1c7ff3=_0x1b3c6e;logger[_0x1c7ff3(0x19c)]('child\x20process\x20exited\x20with\x20code\x20'+_0x114762),logger[_0x1c7ff3(0x17d)](_0x1c7ff3(0x186)+_0x307be7),fs[_0x1c7ff3(0x191)](_0x307be7);});}function a33_0x41c3(_0x44039e,_0x2a203a){const _0x9d0d85=a33_0x9d0d();return a33_0x41c3=function(_0x41c3ff,_0xff0a2b){_0x41c3ff=_0x41c3ff-0x16d;let _0x1ac8d4=_0x9d0d85[_0x41c3ff];return _0x1ac8d4;},a33_0x41c3(_0x44039e,_0x2a203a);}module[a33_0x49d69f(0x18f)]=run;