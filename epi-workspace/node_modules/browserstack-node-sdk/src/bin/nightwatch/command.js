#!/usr/bin/env node
'use strict';const a37_0x51d7ec=a37_0x5675;(function(_0x5e0401,_0x37453b){const _0x3ff591=a37_0x5675,_0x29785a=_0x5e0401();while(!![]){try{const _0x4907fe=parseInt(_0x3ff591(0x174))/0x1*(parseInt(_0x3ff591(0x176))/0x2)+-parseInt(_0x3ff591(0x185))/0x3*(-parseInt(_0x3ff591(0x178))/0x4)+-parseInt(_0x3ff591(0x19f))/0x5*(-parseInt(_0x3ff591(0x1a9))/0x6)+parseInt(_0x3ff591(0x1a7))/0x7*(-parseInt(_0x3ff591(0x18e))/0x8)+parseInt(_0x3ff591(0x186))/0x9*(parseInt(_0x3ff591(0x183))/0xa)+-parseInt(_0x3ff591(0x1ae))/0xb+-parseInt(_0x3ff591(0x18a))/0xc;if(_0x4907fe===_0x37453b)break;else _0x29785a['push'](_0x29785a['shift']());}catch(_0xc9f3e7){_0x29785a['push'](_0x29785a['shift']());}}}(a37_0xbc1d,0xe333e));const fs=require('fs'),path=require(a37_0x51d7ec(0x196)),{spawn}=require(a37_0x51d7ec(0x171)),logger=require(a37_0x51d7ec(0x1a6))[a37_0x51d7ec(0x189)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a37_0x51d7ec(0x1b0)),constants=require(a37_0x51d7ec(0x175)),getUserNightwatchConfigs=(_0x3c802b,_0x311418)=>{const _0x345e67=a37_0x51d7ec,_0x5da397={'QQUIQ':_0x345e67(0x19a),'lpvhU':'nightwatch.json','KdBXl':function(_0x426978,_0x182617){return _0x426978(_0x182617);},'bkMUJ':_0x345e67(0x197)};let _0x5244a1=null,_0x291fd3={};const _0xd1c0e5=_0x311418[_0x345e67(0x19d)](_0x3462bb=>_0x3462bb===_0x345e67(0x17f));if(!helper[_0x345e67(0x194)](_0x3c802b[_0x345e67(0x18c)])&&fs[_0x345e67(0x1a1)](path[_0x345e67(0x18f)](process[_0x345e67(0x16e)](),_0x3c802b[_0x345e67(0x18c)])))_0x5244a1=path['join'](process[_0x345e67(0x16e)](),_0x3c802b[_0x345e67(0x18c)]),_0x311418[_0x345e67(0x180)](_0xd1c0e5,0x2);else{if(fs[_0x345e67(0x1a1)](path[_0x345e67(0x18f)](process['cwd'](),_0x5da397[_0x345e67(0x182)])))_0x5244a1=path[_0x345e67(0x18f)](process[_0x345e67(0x16e)](),_0x5da397['QQUIQ']);else fs[_0x345e67(0x1a1)](path['join'](process[_0x345e67(0x16e)](),_0x5da397[_0x345e67(0x17c)]))&&(_0x5244a1=path[_0x345e67(0x18f)](process[_0x345e67(0x16e)](),_0x5da397[_0x345e67(0x17c)]));}return _0x5244a1?(logger[_0x345e67(0x1b4)](_0x345e67(0x187)+_0x5244a1),_0x291fd3=_0x5da397[_0x345e67(0x172)](require,_0x5244a1)):logger[_0x345e67(0x1b4)](_0x5da397[_0x345e67(0x1b2)]),_0x291fd3;},removeExistingEnvs=_0x3cc48e=>{const _0xc7f104=a37_0x51d7ec,_0x46d972={};_0x46d972[_0xc7f104(0x16b)]=function(_0x293bcd,_0x18715a){return _0x293bcd>_0x18715a;},_0x46d972['XUFoA']=function(_0x3fbd1a,_0xa5ad1d){return _0x3fbd1a>_0xa5ad1d;};const _0x14b72c=_0x46d972;let _0xd451a=_0x3cc48e[_0xc7f104(0x19d)](_0x2df274=>_0x2df274==='--env');_0x14b72c[_0xc7f104(0x16b)](_0xd451a,-0x1)&&_0x3cc48e[_0xc7f104(0x180)](_0xd451a,0x2),_0xd451a=_0x3cc48e[_0xc7f104(0x19d)](_0x14d48a=>_0x14d48a==='-e'),_0x14b72c['XUFoA'](_0xd451a,-0x1)&&_0x3cc48e['splice'](_0xd451a,0x2);};function run(_0x475ba2,_0x362fbe,_0x412d82){const _0x30f3cc=a37_0x51d7ec,_0x37b617={'BiYgy':'nightwatch','uZZKy':function(_0x3a8b89,_0x4e7080){return _0x3a8b89+_0x4e7080;},'QoMiq':_0x30f3cc(0x184),'srmUk':function(_0x394d20,_0x1244ae,_0x9e8fb3){return _0x394d20(_0x1244ae,_0x9e8fb3);},'GunHc':_0x30f3cc(0x1b5),'wYMWp':_0x30f3cc(0x17d),'WqBOK':function(_0x304083,_0x3976f1){return _0x304083===_0x3976f1;},'dmvWY':'nightwatch-browserstack.json','ZLCBF':function(_0x5a00cd,_0x128b2f){return _0x5a00cd(_0x128b2f);},'hCtaK':function(_0x4da650,_0x3a3240,_0x1d2fe1,_0x4d785e){return _0x4da650(_0x3a3240,_0x1d2fe1,_0x4d785e);},'mYlwJ':_0x30f3cc(0x19e),'xTIhu':_0x30f3cc(0x17f),'wzGib':_0x30f3cc(0x188),'MENeG':'inherit','Lhogo':_0x30f3cc(0x179)};if(!_0x412d82[_0x30f3cc(0x18c)])return;const _0x38934b=_0x37b617['srmUk'](getUserNightwatchConfigs,_0x475ba2,_0x362fbe),_0x4eeb86={};_0x4eeb86['start_process']=![];const _0x12ee92={};_0x12ee92['host']=_0x37b617[_0x30f3cc(0x19c)],_0x12ee92[_0x30f3cc(0x18d)]=0x1bb;const _0x6362b3={};_0x6362b3['webdriver']=_0x4eeb86,_0x6362b3['selenium']=_0x12ee92;const _0x5d02c9=_0x6362b3;logger[_0x30f3cc(0x1b4)](_0x37b617['wYMWp']);const _0x300b0a={..._0x38934b},_0x45c51e=_0x300b0a,_0x336f6c=helper[_0x30f3cc(0x191)](_0x412d82[_0x30f3cc(0x18c)]),_0x39e8b2=[];_0x412d82['config'][_0x30f3cc(0x18b)][_0x30f3cc(0x1aa)]((_0x151683,_0x160da0)=>{const _0x2809ce=_0x30f3cc;_0x336f6c?_0x39e8b2[_0x2809ce(0x1a0)](helper['modifyBrowserStackW3CCaps'](_0x412d82[_0x2809ce(0x18c)],_0x37b617['BiYgy'],_0x160da0)):_0x39e8b2[_0x2809ce(0x1a0)](helper['modifyBrowserStackCaps'](_0x412d82['config'],_0x37b617[_0x2809ce(0x1b1)],_0x160da0));});const _0xbb4a2c={},_0x33cfca=[];_0x475ba2['env']=_0x475ba2[_0x30f3cc(0x16d)]||_0x475ba2['e'];const _0x45a371=_0x475ba2[_0x30f3cc(0x16d)]?_0x475ba2[_0x30f3cc(0x16d)]['trim']()[_0x30f3cc(0x1a8)](',')[_0x30f3cc(0x181)](_0x47ccf5=>_0x47ccf5[_0x30f3cc(0x17b)]())['filter'](_0x1371d3=>_0x1371d3!==''):[''];_0x37b617[_0x30f3cc(0x1a4)](_0x45a371[_0x30f3cc(0x177)],0x0)&&_0x45a371[_0x30f3cc(0x1a0)]('');_0x45a371['forEach'](_0x2dffde=>{_0x39e8b2['forEach'](_0x45f1cc=>{const _0x4424a5=a37_0x5675;let _0x3219fc=_0x37b617[_0x4424a5(0x190)](helper[_0x4424a5(0x1a3)](_0x45f1cc,'_'),'_'+Date[_0x4424a5(0x1af)]());_0x2dffde&&(_0x3219fc+='_'+_0x2dffde);if(_0x2dffde&&(!_0x38934b[_0x37b617[_0x4424a5(0x195)]]||!_0x38934b[_0x37b617[_0x4424a5(0x195)]][_0x2dffde]))return;const _0x58058f={..._0x5d02c9};_0x58058f['desiredCapabilities']=_0x45f1cc;const _0x3a75dc=_0x58058f;_0xbb4a2c[_0x3219fc]=_0x2dffde?helper[_0x4424a5(0x16c)](_0x38934b[_0x37b617[_0x4424a5(0x195)]][_0x2dffde],_0x3a75dc):_0x3a75dc,_0x33cfca[_0x4424a5(0x1a0)](_0x3219fc);});});!_0x45c51e[_0x30f3cc(0x184)]&&(_0x45c51e['test_settings']={});_0x45c51e['test_settings']={..._0x45c51e[_0x30f3cc(0x184)],..._0xbb4a2c};const _0x4aaa8c=path[_0x30f3cc(0x18f)](__dirname,_0x37b617[_0x30f3cc(0x173)]);fs['writeFileSync'](_0x4aaa8c,JSON[_0x30f3cc(0x16f)](_0x45c51e)),_0x37b617[_0x30f3cc(0x1ab)](removeExistingEnvs,_0x362fbe);const _0x2d95b5=_0x37b617[_0x30f3cc(0x198)](spawn,/^win/[_0x30f3cc(0x1a2)](process[_0x30f3cc(0x19b)])?_0x37b617['mYlwJ']:_0x37b617[_0x30f3cc(0x1b1)],[_0x37b617[_0x30f3cc(0x170)],_0x4aaa8c,..._0x362fbe[_0x30f3cc(0x1ac)](0x1),_0x37b617[_0x30f3cc(0x193)],_0x33cfca[_0x30f3cc(0x18f)](',')],{'stdio':_0x37b617[_0x30f3cc(0x17a)]});_0x2d95b5['on'](_0x37b617[_0x30f3cc(0x1ad)],async _0x432b2e=>{const _0x414634=_0x30f3cc;logger[_0x414634(0x17e)](_0x414634(0x1a5)+_0x432b2e),logger[_0x414634(0x1b4)](_0x414634(0x199)+_0x4aaa8c),fs[_0x414634(0x1b3)](_0x4aaa8c);});}module[a37_0x51d7ec(0x192)]=run;function a37_0x5675(_0x3ad642,_0x4eeade){const _0xbc1d2e=a37_0xbc1d();return a37_0x5675=function(_0x56758e,_0xba767a){_0x56758e=_0x56758e-0x16b;let _0x2bbc12=_0xbc1d2e[_0x56758e];return _0x2bbc12;},a37_0x5675(_0x3ad642,_0x4eeade);}function a37_0xbc1d(){const _0x4bdee4=['--env','winstonLogger','7729692NaBxbT','platforms','config','port','1655504kuaerG','join','uZZKy','useW3C','exports','wzGib','isUndefined','QoMiq','path','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','hCtaK','Deleting\x20','nightwatch.conf.js','platform','GunHc','findIndex','nightwatch.cmd','475yOTkqE','push','existsSync','test','getPlatformName','WqBOK','child\x20process\x20exited\x20with\x20code\x20','../../helpers/logger','14NkDIfq','split','80502QkNekg','forEach','ZLCBF','slice','Lhogo','12763795GwDxDf','now','../../helpers/helper','BiYgy','bkMUJ','unlinkSync','info','hub.browserstack.com','xTyur','mergeDeep','env','cwd','stringify','xTIhu','child_process','KdBXl','dmvWY','88NeLERD','../utils/constants','1064QCtPHY','length','183668ieHKfl','close','MENeG','trim','lpvhU','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','debug','--config','splice','map','QQUIQ','2663750NGqHFk','test_settings','102inAdfn','9fqbeHU','Getting\x20your\x20nightwatch\x20configs\x20from\x20'];a37_0xbc1d=function(){return _0x4bdee4;};return a37_0xbc1d();}