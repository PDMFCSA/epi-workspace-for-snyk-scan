#!/usr/bin/env node
'use strict';function a37_0x322e(_0x134973,_0x23bb94){const _0x278081=a37_0x2780();return a37_0x322e=function(_0x322e22,_0x2aa78f){_0x322e22=_0x322e22-0x103;let _0x161c8d=_0x278081[_0x322e22];return _0x161c8d;},a37_0x322e(_0x134973,_0x23bb94);}const a37_0x1b0d87=a37_0x322e;(function(_0x559244,_0x2f5ef2){const _0x5ddd27=a37_0x322e,_0x374ff2=_0x559244();while(!![]){try{const _0x51172c=parseInt(_0x5ddd27(0x141))/0x1+-parseInt(_0x5ddd27(0x14a))/0x2+-parseInt(_0x5ddd27(0x103))/0x3+-parseInt(_0x5ddd27(0x14c))/0x4+parseInt(_0x5ddd27(0x123))/0x5+parseInt(_0x5ddd27(0x114))/0x6*(-parseInt(_0x5ddd27(0x10e))/0x7)+parseInt(_0x5ddd27(0x121))/0x8;if(_0x51172c===_0x2f5ef2)break;else _0x374ff2['push'](_0x374ff2['shift']());}catch(_0x37ff8c){_0x374ff2['push'](_0x374ff2['shift']());}}}(a37_0x2780,0x226b4));const fs=require('fs'),path=require(a37_0x1b0d87(0x139)),{spawn}=require(a37_0x1b0d87(0x105)),logger=require(a37_0x1b0d87(0x11f))[a37_0x1b0d87(0x132)],{default:BrowserStackSetup}=require(a37_0x1b0d87(0x126)),helper=require(a37_0x1b0d87(0x144)),constants=require('../utils/constants'),getUserNightwatchConfigs=(_0x300f03,_0x3a99d9)=>{const _0x59931a=a37_0x1b0d87,_0x57a9ae={'WHjLJ':_0x59931a(0x118),'BkItI':_0x59931a(0x116),'LBkKx':function(_0x45d27a,_0x39e0d3){return _0x45d27a(_0x39e0d3);},'qiZcD':_0x59931a(0x10f)};let _0x2527cf=null,_0xea589c={};const _0x438350=_0x3a99d9[_0x59931a(0x145)](_0x4bf84f=>_0x4bf84f===_0x59931a(0x14e));if(!helper[_0x59931a(0x112)](_0x300f03['config'])&&fs['existsSync'](path[_0x59931a(0x11b)](process[_0x59931a(0x149)](),_0x300f03['config'])))_0x2527cf=path[_0x59931a(0x11b)](process[_0x59931a(0x149)](),_0x300f03[_0x59931a(0x147)]),_0x3a99d9[_0x59931a(0x10b)](_0x438350,0x2);else{if(fs['existsSync'](path[_0x59931a(0x11b)](process[_0x59931a(0x149)](),_0x57a9ae[_0x59931a(0x11c)])))_0x2527cf=path['join'](process['cwd'](),_0x57a9ae[_0x59931a(0x11c)]);else fs[_0x59931a(0x131)](path[_0x59931a(0x11b)](process[_0x59931a(0x149)](),_0x57a9ae['BkItI']))&&(_0x2527cf=path[_0x59931a(0x11b)](process[_0x59931a(0x149)](),_0x57a9ae[_0x59931a(0x13a)]));}return _0x2527cf?(logger['info'](_0x59931a(0x143)+_0x2527cf),_0xea589c=_0x57a9ae['LBkKx'](require,_0x2527cf)):logger[_0x59931a(0x107)](_0x57a9ae[_0x59931a(0x14b)]),_0xea589c;},removeExistingEnvs=_0x5b811b=>{const _0x501ec7=a37_0x1b0d87,_0x976f56={};_0x976f56[_0x501ec7(0x13c)]=function(_0x2073cf,_0x17f728){return _0x2073cf>_0x17f728;};const _0x3eb92d=_0x976f56;let _0xd7e73a=_0x5b811b[_0x501ec7(0x145)](_0x1621c9=>_0x1621c9===_0x501ec7(0x122));_0x3eb92d[_0x501ec7(0x13c)](_0xd7e73a,-0x1)&&_0x5b811b[_0x501ec7(0x10b)](_0xd7e73a,0x2),_0xd7e73a=_0x5b811b[_0x501ec7(0x145)](_0x30d83d=>_0x30d83d==='-e'),_0x3eb92d[_0x501ec7(0x13c)](_0xd7e73a,-0x1)&&_0x5b811b[_0x501ec7(0x10b)](_0xd7e73a,0x2);};function run(_0x181b2a,_0x46b4ea,_0x1fb2f8){const _0x1494f8=a37_0x1b0d87,_0x2dc036={'pRUzV':_0x1494f8(0x108),'OXlUE':function(_0x343e2b,_0x2212ef){return _0x343e2b+_0x2212ef;},'HDFyF':_0x1494f8(0x11d),'qSWGD':function(_0x3aa4a7,_0x5a6120,_0x360f7a){return _0x3aa4a7(_0x5a6120,_0x360f7a);},'AWpHD':_0x1494f8(0x12b),'jfmvp':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','UzZWw':function(_0x59cb65,_0x21040e){return _0x59cb65===_0x21040e;},'gulTM':_0x1494f8(0x130),'RaMPH':function(_0x14dbd6,_0x53d100){return _0x14dbd6(_0x53d100);},'ZqgnA':function(_0x31a0be,_0x2ce228,_0x4cc5b5,_0x2986d6){return _0x31a0be(_0x2ce228,_0x4cc5b5,_0x2986d6);},'YkqiZ':'nightwatch.cmd','ZXsRA':_0x1494f8(0x14e),'kmizE':'--env','wmOUZ':_0x1494f8(0x124),'ndxJe':_0x1494f8(0x125)};if(!_0x1fb2f8[_0x1494f8(0x147)])return;const _0x348d18=_0x2dc036[_0x1494f8(0x109)](getUserNightwatchConfigs,_0x181b2a,_0x46b4ea),_0x42028d={};_0x42028d[_0x1494f8(0x106)]=![];const _0x1848a2={};_0x1848a2[_0x1494f8(0x14d)]=_0x2dc036['AWpHD'],_0x1848a2[_0x1494f8(0x148)]=0x1bb;const _0x293261={};_0x293261[_0x1494f8(0x135)]=_0x42028d,_0x293261[_0x1494f8(0x11a)]=_0x1848a2;const _0x220cdf=_0x293261;logger['info'](_0x2dc036[_0x1494f8(0x14f)]);const _0x3ba8f8={..._0x348d18},_0x23af36=_0x3ba8f8,_0x36af4b=helper[_0x1494f8(0x136)](_0x1fb2f8['config']),_0x5a9d24=[];_0x1fb2f8[_0x1494f8(0x147)][_0x1494f8(0x11e)]['forEach']((_0x49f0ba,_0xe90e11)=>{const _0x3d67ce=_0x1494f8;_0x36af4b?_0x5a9d24[_0x3d67ce(0x146)](helper['modifyBrowserStackW3CCaps'](_0x1fb2f8['config'],_0x2dc036[_0x3d67ce(0x120)],_0xe90e11)):_0x5a9d24[_0x3d67ce(0x146)](helper[_0x3d67ce(0x13b)](_0x1fb2f8['config'],_0x2dc036['pRUzV'],_0xe90e11));});const _0x249741={},_0x50113f=[];_0x181b2a[_0x1494f8(0x13e)]=_0x181b2a[_0x1494f8(0x13e)]||_0x181b2a['e'];const _0x53aa47=_0x181b2a['env']?_0x181b2a[_0x1494f8(0x13e)][_0x1494f8(0x150)]()['split'](',')['map'](_0x196f3e=>_0x196f3e[_0x1494f8(0x150)]())[_0x1494f8(0x140)](_0x209693=>_0x209693!==''):[''];_0x2dc036['UzZWw'](_0x53aa47[_0x1494f8(0x10c)],0x0)&&_0x53aa47[_0x1494f8(0x146)]('');_0x53aa47[_0x1494f8(0x134)](_0x23c424=>{const _0x578aaf=_0x1494f8,_0x1380a0={'HMnsK':function(_0x206459,_0x5492b4){const _0x118bfa=a37_0x322e;return _0x2dc036[_0x118bfa(0x142)](_0x206459,_0x5492b4);},'wcblJ':_0x2dc036[_0x578aaf(0x115)]};_0x5a9d24[_0x578aaf(0x134)](_0x485625=>{const _0x553a28=_0x578aaf;let _0x242819=_0x1380a0[_0x553a28(0x13d)](helper[_0x553a28(0x10a)](_0x485625,'_'),'_'+Date[_0x553a28(0x119)]());_0x23c424&&(_0x242819+='_'+_0x23c424);if(_0x23c424&&(!_0x348d18[_0x1380a0[_0x553a28(0x13f)]]||!_0x348d18[_0x1380a0[_0x553a28(0x13f)]][_0x23c424]))return;const _0x5c0bca={..._0x220cdf};_0x5c0bca['desiredCapabilities']=_0x485625;const _0x4a3fda=_0x5c0bca;_0x249741[_0x242819]=_0x23c424?helper[_0x553a28(0x12a)](_0x348d18[_0x1380a0[_0x553a28(0x13f)]][_0x23c424],_0x4a3fda):_0x4a3fda,_0x50113f[_0x553a28(0x146)](_0x242819);});});!_0x23af36[_0x1494f8(0x11d)]&&(_0x23af36['test_settings']={});_0x23af36[_0x1494f8(0x11d)]={..._0x23af36[_0x1494f8(0x11d)],..._0x249741};const _0x219819=path[_0x1494f8(0x11b)](__dirname,_0x2dc036['gulTM']);fs[_0x1494f8(0x12d)](_0x219819,JSON[_0x1494f8(0x104)](_0x23af36)),_0x2dc036[_0x1494f8(0x110)](removeExistingEnvs,_0x46b4ea);const _0x9e64b2=_0x2dc036[_0x1494f8(0x138)](spawn,/^win/[_0x1494f8(0x12f)](process[_0x1494f8(0x129)])?_0x2dc036[_0x1494f8(0x12e)]:_0x2dc036[_0x1494f8(0x120)],[_0x2dc036[_0x1494f8(0x113)],_0x219819,..._0x46b4ea[_0x1494f8(0x117)](0x1),_0x2dc036[_0x1494f8(0x128)],_0x50113f[_0x1494f8(0x11b)](',')],{'stdio':_0x2dc036[_0x1494f8(0x127)]});_0x9e64b2['on'](_0x2dc036[_0x1494f8(0x111)],async _0x2d7921=>{const _0x9569e6=_0x1494f8;logger['debug'](_0x9569e6(0x137)+_0x2d7921),logger[_0x9569e6(0x107)](_0x9569e6(0x12c)+_0x219819),fs[_0x9569e6(0x133)](_0x219819);});}module[a37_0x1b0d87(0x10d)]=run;function a37_0x2780(){const _0x253bd7=['RaMPH','ndxJe','isUndefined','ZXsRA','8430HvHJqD','HDFyF','nightwatch.json','slice','nightwatch.conf.js','now','selenium','join','WHjLJ','test_settings','platforms','../../helpers/logger','pRUzV','2505400UEbMTn','--env','766450tnMOII','inherit','close','../../helpers/BrowserStackSetup','wmOUZ','kmizE','platform','mergeDeep','hub.browserstack.com','Deleting\x20','writeFileSync','YkqiZ','test','nightwatch-browserstack.json','existsSync','winstonLogger','unlinkSync','forEach','webdriver','useW3C','child\x20process\x20exited\x20with\x20code\x20','ZqgnA','path','BkItI','modifyBrowserStackCaps','ObLlj','HMnsK','env','wcblJ','filter','102709xFSzCx','OXlUE','Getting\x20your\x20nightwatch\x20configs\x20from\x20','../../helpers/helper','findIndex','push','config','port','cwd','361686FqsYYP','qiZcD','746176GKTfZp','host','--config','jfmvp','trim','55971Pldjqw','stringify','child_process','start_process','info','nightwatch','qSWGD','getPlatformName','splice','length','exports','210tfqqxh','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'];a37_0x2780=function(){return _0x253bd7;};return a37_0x2780();}