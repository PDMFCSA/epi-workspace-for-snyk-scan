#!/usr/bin/env node
'use strict';const a33_0x31b063=a33_0x2f28;function a33_0x2f28(_0x3af40e,_0x5a8a2f){const _0x139b77=a33_0x139b();return a33_0x2f28=function(_0x2f2885,_0x31e4e4){_0x2f2885=_0x2f2885-0x17f;let _0x320749=_0x139b77[_0x2f2885];return _0x320749;},a33_0x2f28(_0x3af40e,_0x5a8a2f);}(function(_0x3ceb70,_0x1f88e2){const _0x421dbd=a33_0x2f28,_0x4c405d=_0x3ceb70();while(!![]){try{const _0x17467f=parseInt(_0x421dbd(0x1ac))/0x1+-parseInt(_0x421dbd(0x1c7))/0x2*(parseInt(_0x421dbd(0x1a7))/0x3)+-parseInt(_0x421dbd(0x1aa))/0x4+-parseInt(_0x421dbd(0x1c1))/0x5*(-parseInt(_0x421dbd(0x189))/0x6)+parseInt(_0x421dbd(0x193))/0x7*(parseInt(_0x421dbd(0x1b0))/0x8)+-parseInt(_0x421dbd(0x185))/0x9*(-parseInt(_0x421dbd(0x1b8))/0xa)+-parseInt(_0x421dbd(0x1c8))/0xb;if(_0x17467f===_0x1f88e2)break;else _0x4c405d['push'](_0x4c405d['shift']());}catch(_0x57452b){_0x4c405d['push'](_0x4c405d['shift']());}}}(a33_0x139b,0x37fe6));function a33_0x139b(){const _0x5595fe=['now','iygTQ','lUVFh','test','116457zSeTeh','KcEAE','port','245296ksjfPp','nightwatch.cmd','356001uKciaQ','map','trim','yUblD','217232RKguzJ','uGqdU','--env','filter','writeFileSync','../utils/constants','findIndex','../../helpers/logger','414170iPrcBT','mergeDeep','join','QiIko','JwtMh','slice','qFBRh','../../helpers/helper','debug','5wBbHkO','oVfDa','modifyBrowserStackCaps','lwjKV','nightwatch.json','test_settings','10lpNxTp','9484739rKPVBN','config','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','hxMXo','exports','MZsiX','../../helpers/BrowserStackSetup','nightwatch-browserstack.json','FRuHQ','close','existsSync','cwd','forEach','platforms','inherit','99tAzPgt','host','start_process','getPlatformName','2560884hqjWlI','child_process','platform','path','modifyBrowserStackW3CCaps','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','splice','giVsc','push','info','28PMhUjg','nightwatch','--config','hub.browserstack.com','child\x20process\x20exited\x20with\x20code\x20','unlinkSync','qGPTm','cMqQR','split','length','useW3C','ojtar','env','cTaFF','webdriver','desiredCapabilities'];a33_0x139b=function(){return _0x5595fe;};return a33_0x139b();}const fs=require('fs'),path=require(a33_0x31b063(0x18c)),{spawn}=require(a33_0x31b063(0x18a)),logger=require(a33_0x31b063(0x1b7))['winstonLogger'],{default:BrowserStackSetup}=require(a33_0x31b063(0x1ce)),helper=require(a33_0x31b063(0x1bf)),constants=require(a33_0x31b063(0x1b5)),getUserNightwatchConfigs=(_0x13b704,_0x3f6e71)=>{const _0x14da6b=a33_0x31b063,_0x29ed15={'yUblD':'nightwatch.conf.js','FRuHQ':_0x14da6b(0x1c5),'cTaFF':function(_0x50f708,_0x125df8){return _0x50f708(_0x125df8);},'iygTQ':_0x14da6b(0x1ca)};let _0x421610=null,_0x254e81={};const _0x4d06c2=_0x3f6e71['findIndex'](_0x47d28c=>_0x47d28c===_0x14da6b(0x195));if(!helper['isUndefined'](_0x13b704[_0x14da6b(0x1c9)])&&fs['existsSync'](path[_0x14da6b(0x1ba)](process['cwd'](),_0x13b704['config'])))_0x421610=path[_0x14da6b(0x1ba)](process[_0x14da6b(0x181)](),_0x13b704[_0x14da6b(0x1c9)]),_0x3f6e71[_0x14da6b(0x18f)](_0x4d06c2,0x2);else{if(fs['existsSync'](path[_0x14da6b(0x1ba)](process['cwd'](),_0x29ed15['yUblD'])))_0x421610=path['join'](process['cwd'](),_0x29ed15[_0x14da6b(0x1af)]);else fs[_0x14da6b(0x180)](path[_0x14da6b(0x1ba)](process[_0x14da6b(0x181)](),_0x29ed15[_0x14da6b(0x1d0)]))&&(_0x421610=path[_0x14da6b(0x1ba)](process[_0x14da6b(0x181)](),_0x29ed15[_0x14da6b(0x1d0)]));}return _0x421610?(logger[_0x14da6b(0x192)]('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x421610),_0x254e81=_0x29ed15[_0x14da6b(0x1a0)](require,_0x421610)):logger[_0x14da6b(0x192)](_0x29ed15[_0x14da6b(0x1a4)]),_0x254e81;},removeExistingEnvs=_0x5bb428=>{const _0x14411d=a33_0x31b063,_0x2f706d={};_0x2f706d[_0x14411d(0x1bb)]=function(_0x362f5e,_0x27f875){return _0x362f5e>_0x27f875;};const _0xc2d78=_0x2f706d;let _0x3c7c7b=_0x5bb428[_0x14411d(0x1b6)](_0x17f20c=>_0x17f20c===_0x14411d(0x1b2));_0xc2d78[_0x14411d(0x1bb)](_0x3c7c7b,-0x1)&&_0x5bb428['splice'](_0x3c7c7b,0x2),_0x3c7c7b=_0x5bb428['findIndex'](_0x4b9d7a=>_0x4b9d7a==='-e'),_0xc2d78[_0x14411d(0x1bb)](_0x3c7c7b,-0x1)&&_0x5bb428[_0x14411d(0x18f)](_0x3c7c7b,0x2);};function run(_0x30daf3,_0x5bdb5d){const _0x54c880=a33_0x31b063,_0x4341a6={'ojtar':_0x54c880(0x194),'zMhln':function(_0x9b92dc,_0x683b02){return _0x9b92dc+_0x683b02;},'qFBRh':_0x54c880(0x1c6),'oVfDa':function(_0x5540b7,_0x514057,_0x333380){return _0x5540b7(_0x514057,_0x333380);},'mIvRx':_0x54c880(0x196),'hxMXo':_0x54c880(0x18e),'MZsiX':function(_0x4f1ab5,_0x3c403f){return _0x4f1ab5===_0x3c403f;},'lUVFh':_0x54c880(0x1cf),'cMqQR':function(_0x542492,_0x5a7627){return _0x542492(_0x5a7627);},'uGqdU':function(_0x190005,_0x4ba02d,_0x14dd9f,_0x279362){return _0x190005(_0x4ba02d,_0x14dd9f,_0x279362);},'JwtMh':_0x54c880(0x1ab),'giVsc':_0x54c880(0x195),'qGPTm':_0x54c880(0x1b2),'KcEAE':_0x54c880(0x184),'mkPpQ':_0x54c880(0x17f)},_0x3e8a65=new BrowserStackSetup(_0x30daf3);if(!_0x3e8a65[_0x54c880(0x1c9)])return;const _0x5328ba=_0x4341a6[_0x54c880(0x1c2)](getUserNightwatchConfigs,_0x30daf3,_0x5bdb5d),_0x11b5e2={};_0x11b5e2[_0x54c880(0x187)]=![];const _0x25778c={};_0x25778c[_0x54c880(0x186)]=_0x4341a6['mIvRx'],_0x25778c[_0x54c880(0x1a9)]=0x1bb;const _0x156f53={};_0x156f53[_0x54c880(0x1a1)]=_0x11b5e2,_0x156f53['selenium']=_0x25778c;const _0x5f2a3f=_0x156f53;logger[_0x54c880(0x192)](_0x4341a6[_0x54c880(0x1cb)]);const _0x1e0f03={..._0x5328ba},_0x4da8f0=_0x1e0f03,_0x24d7bd=helper[_0x54c880(0x19d)](_0x3e8a65[_0x54c880(0x1c9)]),_0x5ede15=[];_0x3e8a65[_0x54c880(0x1c9)][_0x54c880(0x183)][_0x54c880(0x182)]((_0x5ec127,_0x339b24)=>{const _0x4263c5=_0x54c880;_0x24d7bd?_0x5ede15[_0x4263c5(0x191)](helper[_0x4263c5(0x18d)](_0x3e8a65['config'],_0x4341a6[_0x4263c5(0x19e)],_0x339b24)):_0x5ede15[_0x4263c5(0x191)](helper[_0x4263c5(0x1c3)](_0x3e8a65[_0x4263c5(0x1c9)],_0x4341a6[_0x4263c5(0x19e)],_0x339b24));});const _0x53cdd5={},_0x2026d9=[];_0x30daf3[_0x54c880(0x19f)]=_0x30daf3[_0x54c880(0x19f)]||_0x30daf3['e'];const _0x57acc1=_0x30daf3[_0x54c880(0x19f)]?_0x30daf3['env']['trim']()[_0x54c880(0x19b)](',')[_0x54c880(0x1ad)](_0x3814d4=>_0x3814d4[_0x54c880(0x1ae)]())[_0x54c880(0x1b3)](_0x56f5c1=>_0x56f5c1!==''):[''];_0x4341a6[_0x54c880(0x1cd)](_0x57acc1[_0x54c880(0x19c)],0x0)&&_0x57acc1[_0x54c880(0x191)]('');_0x57acc1['forEach'](_0x1e6173=>{const _0x46df4f=_0x54c880,_0x48365f={'lwjKV':function(_0x31eed7,_0x386c58){return _0x4341a6['zMhln'](_0x31eed7,_0x386c58);},'VgkMk':_0x4341a6[_0x46df4f(0x1be)]};_0x5ede15[_0x46df4f(0x182)](_0x49aad2=>{const _0x2ce034=_0x46df4f;let _0x5384f6=_0x48365f[_0x2ce034(0x1c4)](helper[_0x2ce034(0x188)](_0x49aad2,'_'),'_'+Date[_0x2ce034(0x1a3)]());_0x1e6173&&(_0x5384f6+='_'+_0x1e6173);if(_0x1e6173&&(!_0x5328ba[_0x48365f['VgkMk']]||!_0x5328ba[_0x48365f['VgkMk']][_0x1e6173]))return;const _0x4fc86f={..._0x5f2a3f};_0x4fc86f[_0x2ce034(0x1a2)]=_0x49aad2;const _0x3f6f57=_0x4fc86f;_0x53cdd5[_0x5384f6]=_0x1e6173?helper[_0x2ce034(0x1b9)](_0x5328ba[_0x48365f['VgkMk']][_0x1e6173],_0x3f6f57):_0x3f6f57,_0x2026d9[_0x2ce034(0x191)](_0x5384f6);});});!_0x4da8f0[_0x54c880(0x1c6)]&&(_0x4da8f0[_0x54c880(0x1c6)]={});_0x4da8f0['test_settings']={..._0x4da8f0['test_settings'],..._0x53cdd5};const _0x92e31e=path[_0x54c880(0x1ba)](__dirname,_0x4341a6[_0x54c880(0x1a5)]);fs[_0x54c880(0x1b4)](_0x92e31e,JSON['stringify'](_0x4da8f0)),_0x4341a6[_0x54c880(0x19a)](removeExistingEnvs,_0x5bdb5d);const _0x1eb124=_0x4341a6[_0x54c880(0x1b1)](spawn,/^win/[_0x54c880(0x1a6)](process[_0x54c880(0x18b)])?_0x4341a6[_0x54c880(0x1bc)]:_0x4341a6[_0x54c880(0x19e)],[_0x4341a6[_0x54c880(0x190)],_0x92e31e,..._0x5bdb5d[_0x54c880(0x1bd)](0x1),_0x4341a6[_0x54c880(0x199)],_0x2026d9[_0x54c880(0x1ba)](',')],{'stdio':_0x4341a6[_0x54c880(0x1a8)]});_0x1eb124['on'](_0x4341a6['mkPpQ'],async _0x1b3d06=>{const _0x1634a2=_0x54c880;logger[_0x1634a2(0x1c0)](_0x1634a2(0x197)+_0x1b3d06),logger[_0x1634a2(0x192)]('Deleting\x20'+_0x92e31e),fs[_0x1634a2(0x198)](_0x92e31e);});}module[a33_0x31b063(0x1cc)]=run;