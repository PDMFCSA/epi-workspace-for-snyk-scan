#!/usr/bin/env node
'use strict';const a37_0x827007=a37_0x51fa;(function(_0x5a1e4c,_0x12b3e9){const _0x5349f9=a37_0x51fa,_0x34a5b7=_0x5a1e4c();while(!![]){try{const _0x25fb88=parseInt(_0x5349f9(0x1f1))/0x1*(-parseInt(_0x5349f9(0x1e0))/0x2)+-parseInt(_0x5349f9(0x1d1))/0x3+-parseInt(_0x5349f9(0x1bb))/0x4*(-parseInt(_0x5349f9(0x1d0))/0x5)+parseInt(_0x5349f9(0x1fa))/0x6+-parseInt(_0x5349f9(0x1bf))/0x7+parseInt(_0x5349f9(0x1f6))/0x8*(-parseInt(_0x5349f9(0x1cf))/0x9)+parseInt(_0x5349f9(0x1ec))/0xa;if(_0x25fb88===_0x12b3e9)break;else _0x34a5b7['push'](_0x34a5b7['shift']());}catch(_0x323005){_0x34a5b7['push'](_0x34a5b7['shift']());}}}(a37_0x411d,0x18e24));function a37_0x51fa(_0x5c4f82,_0x2f30da){const _0x411d79=a37_0x411d();return a37_0x51fa=function(_0x51fa25,_0x1d383a){_0x51fa25=_0x51fa25-0x1ba;let _0x1c95aa=_0x411d79[_0x51fa25];return _0x1c95aa;},a37_0x51fa(_0x5c4f82,_0x2f30da);}const fs=require('fs'),path=require('path'),{spawn}=require('child_process'),logger=require('../../helpers/logger')[a37_0x827007(0x1e2)],{default:BrowserStackSetup}=require(a37_0x827007(0x1e4)),helper=require('../../helpers/helper'),constants=require('../utils/constants'),getUserNightwatchConfigs=(_0x38194a,_0x3e1915)=>{const _0x2dc18f=a37_0x827007,_0x14e439={'WaiHn':_0x2dc18f(0x1e8),'mfhWo':_0x2dc18f(0x1d8),'HveUx':function(_0x1ccbaf,_0x4fa0cb){return _0x1ccbaf(_0x4fa0cb);},'HkYPy':_0x2dc18f(0x1e6)};let _0x247ac7=null,_0x20a837={};const _0x144e4e=_0x3e1915[_0x2dc18f(0x1f0)](_0x10cf6c=>_0x10cf6c===_0x2dc18f(0x1d2));if(!helper[_0x2dc18f(0x1e1)](_0x38194a['config'])&&fs[_0x2dc18f(0x1ee)](path[_0x2dc18f(0x1f9)](process[_0x2dc18f(0x1c5)](),_0x38194a[_0x2dc18f(0x1e3)])))_0x247ac7=path[_0x2dc18f(0x1f9)](process[_0x2dc18f(0x1c5)](),_0x38194a['config']),_0x3e1915[_0x2dc18f(0x1dc)](_0x144e4e,0x2);else{if(fs[_0x2dc18f(0x1ee)](path['join'](process[_0x2dc18f(0x1c5)](),_0x14e439[_0x2dc18f(0x1bd)])))_0x247ac7=path[_0x2dc18f(0x1f9)](process[_0x2dc18f(0x1c5)](),_0x14e439[_0x2dc18f(0x1bd)]);else fs[_0x2dc18f(0x1ee)](path['join'](process['cwd'](),_0x14e439[_0x2dc18f(0x1e9)]))&&(_0x247ac7=path['join'](process[_0x2dc18f(0x1c5)](),_0x14e439[_0x2dc18f(0x1e9)]));}return _0x247ac7?(logger[_0x2dc18f(0x1f3)]('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x247ac7),_0x20a837=_0x14e439['HveUx'](require,_0x247ac7)):logger[_0x2dc18f(0x1f3)](_0x14e439[_0x2dc18f(0x1d9)]),_0x20a837;},removeExistingEnvs=_0x2a4b57=>{const _0x16136a=a37_0x827007,_0x4b4995={};_0x4b4995['PfIqn']=function(_0x2b5c8c,_0x496319){return _0x2b5c8c>_0x496319;};const _0x3168f8=_0x4b4995;let _0x17d403=_0x2a4b57[_0x16136a(0x1f0)](_0x766ad3=>_0x766ad3===_0x16136a(0x1dd));_0x3168f8[_0x16136a(0x1de)](_0x17d403,-0x1)&&_0x2a4b57['splice'](_0x17d403,0x2),_0x17d403=_0x2a4b57[_0x16136a(0x1f0)](_0x37f4cc=>_0x37f4cc==='-e'),_0x3168f8[_0x16136a(0x1de)](_0x17d403,-0x1)&&_0x2a4b57[_0x16136a(0x1dc)](_0x17d403,0x2);};function run(_0x119cd2,_0x37ae14,_0x1d787c){const _0x7566aa=a37_0x827007,_0x1f57b8={'ighDC':_0x7566aa(0x1c9),'sIUVq':function(_0x4f7bf7,_0x2e9eda){return _0x4f7bf7+_0x2e9eda;},'muWWM':_0x7566aa(0x1e5),'alPIn':function(_0x2bac6f,_0x5d3ea2,_0x479a6f){return _0x2bac6f(_0x5d3ea2,_0x479a6f);},'ICZLv':_0x7566aa(0x1d7),'ipKfE':_0x7566aa(0x1bc),'VDAGc':function(_0x1e0923,_0x1c14f7){return _0x1e0923===_0x1c14f7;},'TEfiI':'nightwatch-browserstack.json','qcacm':function(_0x10628f,_0x55f385){return _0x10628f(_0x55f385);},'ccwFr':function(_0x1e2588,_0x3dfea8,_0x1133cc,_0x304a97){return _0x1e2588(_0x3dfea8,_0x1133cc,_0x304a97);},'Dqpwf':'nightwatch.cmd','kkzxg':_0x7566aa(0x1d2),'IuDOR':_0x7566aa(0x1dd),'SEUHv':'inherit','knrsA':'close'};if(!_0x1d787c[_0x7566aa(0x1e3)])return;const _0x365058=_0x1f57b8[_0x7566aa(0x1c3)](getUserNightwatchConfigs,_0x119cd2,_0x37ae14),_0x538575={};_0x538575['start_process']=![];const _0x2065ca={};_0x2065ca[_0x7566aa(0x1c6)]=_0x1f57b8['ICZLv'],_0x2065ca[_0x7566aa(0x1c7)]=0x1bb;const _0x3c13de={};_0x3c13de[_0x7566aa(0x1fb)]=_0x538575,_0x3c13de[_0x7566aa(0x1d4)]=_0x2065ca;const _0x2d6d8b=_0x3c13de;logger[_0x7566aa(0x1f3)](_0x1f57b8[_0x7566aa(0x1da)]);const _0x46ba71={..._0x365058},_0x593a05=_0x46ba71,_0x1beea4=helper[_0x7566aa(0x1ce)](_0x1d787c[_0x7566aa(0x1e3)]),_0x3fd61f=[];_0x1d787c[_0x7566aa(0x1e3)][_0x7566aa(0x1e7)][_0x7566aa(0x1d5)]((_0x571de2,_0x4f4426)=>{const _0x33931c=_0x7566aa;_0x1beea4?_0x3fd61f[_0x33931c(0x1cd)](helper[_0x33931c(0x1d6)](_0x1d787c['config'],_0x1f57b8[_0x33931c(0x1c8)],_0x4f4426)):_0x3fd61f['push'](helper[_0x33931c(0x1f8)](_0x1d787c['config'],_0x1f57b8[_0x33931c(0x1c8)],_0x4f4426));});const _0x1a6585={},_0x23ab28=[];_0x119cd2['env']=_0x119cd2[_0x7566aa(0x1eb)]||_0x119cd2['e'];const _0x54ba7c=_0x119cd2[_0x7566aa(0x1eb)]?_0x119cd2['env'][_0x7566aa(0x1f4)]()[_0x7566aa(0x1d3)](',')[_0x7566aa(0x1c0)](_0x251742=>_0x251742[_0x7566aa(0x1f4)]())[_0x7566aa(0x1f7)](_0x3a0ffd=>_0x3a0ffd!==''):[''];_0x1f57b8[_0x7566aa(0x1ea)](_0x54ba7c['length'],0x0)&&_0x54ba7c[_0x7566aa(0x1cd)]('');_0x54ba7c[_0x7566aa(0x1d5)](_0x610242=>{_0x3fd61f['forEach'](_0x5cf4ff=>{const _0x255a14=a37_0x51fa;let _0xd79ba8=_0x1f57b8['sIUVq'](helper['getPlatformName'](_0x5cf4ff,'_'),'_'+Date[_0x255a14(0x1c2)]());_0x610242&&(_0xd79ba8+='_'+_0x610242);if(_0x610242&&(!_0x365058[_0x1f57b8[_0x255a14(0x1f2)]]||!_0x365058[_0x1f57b8[_0x255a14(0x1f2)]][_0x610242]))return;const _0x3bd70f={..._0x2d6d8b};_0x3bd70f[_0x255a14(0x1ef)]=_0x5cf4ff;const _0x3cdab4=_0x3bd70f;_0x1a6585[_0xd79ba8]=_0x610242?helper['mergeDeep'](_0x365058[_0x1f57b8[_0x255a14(0x1f2)]][_0x610242],_0x3cdab4):_0x3cdab4,_0x23ab28[_0x255a14(0x1cd)](_0xd79ba8);});});!_0x593a05[_0x7566aa(0x1e5)]&&(_0x593a05[_0x7566aa(0x1e5)]={});_0x593a05['test_settings']={..._0x593a05['test_settings'],..._0x1a6585};const _0x28a9e1=path[_0x7566aa(0x1f9)](__dirname,_0x1f57b8['TEfiI']);fs['writeFileSync'](_0x28a9e1,JSON['stringify'](_0x593a05)),_0x1f57b8['qcacm'](removeExistingEnvs,_0x37ae14);const _0x2c5b32=_0x1f57b8['ccwFr'](spawn,/^win/[_0x7566aa(0x1ca)](process[_0x7566aa(0x1c1)])?_0x1f57b8[_0x7566aa(0x1ed)]:_0x1f57b8['ighDC'],[_0x1f57b8[_0x7566aa(0x1cc)],_0x28a9e1,..._0x37ae14[_0x7566aa(0x1ba)](0x1),_0x1f57b8[_0x7566aa(0x1be)],_0x23ab28[_0x7566aa(0x1f9)](',')],{'stdio':_0x1f57b8[_0x7566aa(0x1db)]});_0x2c5b32['on'](_0x1f57b8[_0x7566aa(0x1df)],async _0x4a47d5=>{const _0x20bbfc=_0x7566aa;logger['debug'](_0x20bbfc(0x1cb)+_0x4a47d5),logger[_0x20bbfc(0x1f3)]('Deleting\x20'+_0x28a9e1),fs[_0x20bbfc(0x1f5)](_0x28a9e1);});}function a37_0x411d(){const _0x2cfd30=['IuDOR','1119972BnVmLW','map','platform','now','alPIn','exports','cwd','host','port','ighDC','nightwatch','test','child\x20process\x20exited\x20with\x20code\x20','kkzxg','push','useW3C','873XdguCp','20Xdyfif','503835AHnuyx','--config','split','selenium','forEach','modifyBrowserStackW3CCaps','hub.browserstack.com','nightwatch.json','HkYPy','ipKfE','SEUHv','splice','--env','PfIqn','knrsA','43366lexAng','isUndefined','winstonLogger','config','../../helpers/BrowserStackSetup','test_settings','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','platforms','nightwatch.conf.js','mfhWo','VDAGc','env','5344770AkzzXf','Dqpwf','existsSync','desiredCapabilities','findIndex','4BXopXu','muWWM','info','trim','unlinkSync','11976IVKwkM','filter','modifyBrowserStackCaps','join','760758BWmxax','webdriver','slice','536jcYmkt','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','WaiHn'];a37_0x411d=function(){return _0x2cfd30;};return a37_0x411d();}module[a37_0x827007(0x1c4)]=run;