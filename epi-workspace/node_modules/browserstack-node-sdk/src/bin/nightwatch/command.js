#!/usr/bin/env node
'use strict';const a33_0x364d42=a33_0x2d8f;(function(_0x4cdda1,_0x2196a1){const _0x288cf5=a33_0x2d8f,_0x595975=_0x4cdda1();while(!![]){try{const _0x838cef=parseInt(_0x288cf5(0x177))/0x1+-parseInt(_0x288cf5(0x16c))/0x2+parseInt(_0x288cf5(0x18e))/0x3*(parseInt(_0x288cf5(0x17b))/0x4)+-parseInt(_0x288cf5(0x196))/0x5+parseInt(_0x288cf5(0x15a))/0x6*(-parseInt(_0x288cf5(0x193))/0x7)+parseInt(_0x288cf5(0x173))/0x8*(parseInt(_0x288cf5(0x174))/0x9)+-parseInt(_0x288cf5(0x158))/0xa*(-parseInt(_0x288cf5(0x170))/0xb);if(_0x838cef===_0x2196a1)break;else _0x595975['push'](_0x595975['shift']());}catch(_0x575acc){_0x595975['push'](_0x595975['shift']());}}}(a33_0x2483,0x82c4b));function a33_0x2d8f(_0x46c8ab,_0x321386){const _0x2483cd=a33_0x2483();return a33_0x2d8f=function(_0x2d8fab,_0x1cc385){_0x2d8fab=_0x2d8fab-0x156;let _0x214258=_0x2483cd[_0x2d8fab];return _0x214258;},a33_0x2d8f(_0x46c8ab,_0x321386);}function a33_0x2483(){const _0x1f3b41=['test_settings','child\x20process\x20exited\x20with\x20code\x20','4031126oNaiuU','inherit','modifyBrowserStackCaps','2064xGjNev','6453aDDjEM','UWJJk','desiredCapabilities','361438lANtBh','filter','winstonLogger','forEach','4AQBIPj','push','../../helpers/helper','gxufV','mergeDeep','hub.browserstack.com','fyYor','close','useW3C','dagqA','trim','--config','env','test','JhuoT','ppMde','rLFLf','../../helpers/BrowserStackSetup','QbvSo','1791450DGfpmQ','existsSync','length','eGOyJ','--env','7GSzHGh','child_process','getPlatformName','1307430kPlNem','host','cwd','nightwatch.json','pANEj','findIndex','UNLaZ','port','kldIS','30HYoems','isUndefined','3649434xKUJKV','path','config','webdriver','platforms','BQGFR','stringify','Deleting\x20','join','selenium','../../helpers/logger','splice','now','../utils/constants','info','start_process','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','nightwatch','1675240uVFwkl','Getting\x20your\x20nightwatch\x20configs\x20from\x20'];a33_0x2483=function(){return _0x1f3b41;};return a33_0x2483();}const fs=require('fs'),path=require(a33_0x364d42(0x15b)),{spawn}=require(a33_0x364d42(0x194)),logger=require(a33_0x364d42(0x164))[a33_0x364d42(0x179)],{default:BrowserStackSetup}=require(a33_0x364d42(0x18c)),helper=require(a33_0x364d42(0x17d)),constants=require(a33_0x364d42(0x167)),getUserNightwatchConfigs=(_0xde778d,_0x5dfd2f)=>{const _0x328aa7=a33_0x364d42,_0x5c591d={'UWJJk':'nightwatch.conf.js','eGOyJ':_0x328aa7(0x199),'GzGqp':function(_0x5e61c8,_0x380c5a){return _0x5e61c8(_0x380c5a);},'JqvOM':_0x328aa7(0x16a)};let _0x9c9016=null,_0x4ab772={};const _0x1673fb=_0x5dfd2f[_0x328aa7(0x19b)](_0x2ebe47=>_0x2ebe47===_0x328aa7(0x186));if(!helper[_0x328aa7(0x159)](_0xde778d[_0x328aa7(0x15c)])&&fs['existsSync'](path[_0x328aa7(0x162)](process['cwd'](),_0xde778d['config'])))_0x9c9016=path[_0x328aa7(0x162)](process['cwd'](),_0xde778d['config']),_0x5dfd2f['splice'](_0x1673fb,0x2);else{if(fs['existsSync'](path[_0x328aa7(0x162)](process[_0x328aa7(0x198)](),_0x5c591d[_0x328aa7(0x175)])))_0x9c9016=path[_0x328aa7(0x162)](process[_0x328aa7(0x198)](),_0x5c591d[_0x328aa7(0x175)]);else fs[_0x328aa7(0x18f)](path[_0x328aa7(0x162)](process[_0x328aa7(0x198)](),_0x5c591d[_0x328aa7(0x191)]))&&(_0x9c9016=path[_0x328aa7(0x162)](process[_0x328aa7(0x198)](),_0x5c591d[_0x328aa7(0x191)]));}return _0x9c9016?(logger[_0x328aa7(0x168)](_0x328aa7(0x16d)+_0x9c9016),_0x4ab772=_0x5c591d['GzGqp'](require,_0x9c9016)):logger['info'](_0x5c591d['JqvOM']),_0x4ab772;},removeExistingEnvs=_0x5566bb=>{const _0x91fd90=a33_0x364d42,_0x2ee0b7={};_0x2ee0b7[_0x91fd90(0x184)]=function(_0x3c8f08,_0x5700e9){return _0x3c8f08>_0x5700e9;},_0x2ee0b7['QbvSo']=function(_0x4e7b25,_0x547ee8){return _0x4e7b25>_0x547ee8;};const _0x442feb=_0x2ee0b7;let _0x48a83f=_0x5566bb['findIndex'](_0x3f56d6=>_0x3f56d6===_0x91fd90(0x192));_0x442feb[_0x91fd90(0x184)](_0x48a83f,-0x1)&&_0x5566bb[_0x91fd90(0x165)](_0x48a83f,0x2),_0x48a83f=_0x5566bb['findIndex'](_0xa58e18=>_0xa58e18==='-e'),_0x442feb[_0x91fd90(0x18d)](_0x48a83f,-0x1)&&_0x5566bb[_0x91fd90(0x165)](_0x48a83f,0x2);};function run(_0x4e8efa,_0x5c2fee,_0xd3497){const _0x10471d=a33_0x364d42,_0x329ede={'rLFLf':_0x10471d(0x16b),'UGrBl':function(_0x34506c,_0x16be90){return _0x34506c+_0x16be90;},'fyYor':_0x10471d(0x16e),'pSeUD':function(_0x5f1018,_0x519c9c,_0x439983){return _0x5f1018(_0x519c9c,_0x439983);},'kldIS':_0x10471d(0x180),'tfWSg':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','NUkNR':function(_0x7faf90,_0x2157aa){return _0x7faf90===_0x2157aa;},'gxufV':'nightwatch-browserstack.json','BQGFR':function(_0x2db0a8,_0x8730f2){return _0x2db0a8(_0x8730f2);},'ppMde':function(_0x1efd1d,_0x591b36,_0x1032f3,_0x281517){return _0x1efd1d(_0x591b36,_0x1032f3,_0x281517);},'HfJam':'nightwatch.cmd','pANEj':'--config','NNFQA':'--env','UNLaZ':_0x10471d(0x171),'JhuoT':_0x10471d(0x182)};if(!_0xd3497['config'])return;const _0x5c7cc3=_0x329ede['pSeUD'](getUserNightwatchConfigs,_0x4e8efa,_0x5c2fee),_0x467d0c={};_0x467d0c[_0x10471d(0x169)]=![];const _0x2aa7f2={};_0x2aa7f2[_0x10471d(0x197)]=_0x329ede[_0x10471d(0x157)],_0x2aa7f2[_0x10471d(0x156)]=0x1bb;const _0xa2ee4f={};_0xa2ee4f[_0x10471d(0x15d)]=_0x467d0c,_0xa2ee4f[_0x10471d(0x163)]=_0x2aa7f2;const _0x4a157f=_0xa2ee4f;logger[_0x10471d(0x168)](_0x329ede['tfWSg']);const _0x2e19b4={..._0x5c7cc3},_0x10130f=_0x2e19b4,_0x976013=helper[_0x10471d(0x183)](_0xd3497['config']),_0x3fb7f2=[];_0xd3497[_0x10471d(0x15c)][_0x10471d(0x15e)][_0x10471d(0x17a)]((_0x2d0e75,_0xe16407)=>{const _0x5a3392=_0x10471d;_0x976013?_0x3fb7f2[_0x5a3392(0x17c)](helper['modifyBrowserStackW3CCaps'](_0xd3497[_0x5a3392(0x15c)],_0x329ede[_0x5a3392(0x18b)],_0xe16407)):_0x3fb7f2['push'](helper[_0x5a3392(0x172)](_0xd3497[_0x5a3392(0x15c)],_0x329ede[_0x5a3392(0x18b)],_0xe16407));});const _0x27582c={},_0x1bacae=[];_0x4e8efa['env']=_0x4e8efa[_0x10471d(0x187)]||_0x4e8efa['e'];const _0x55befc=_0x4e8efa[_0x10471d(0x187)]?_0x4e8efa[_0x10471d(0x187)]['trim']()['split'](',')['map'](_0x5c66b7=>_0x5c66b7[_0x10471d(0x185)]())[_0x10471d(0x178)](_0x54d4c5=>_0x54d4c5!==''):[''];_0x329ede['NUkNR'](_0x55befc[_0x10471d(0x190)],0x0)&&_0x55befc[_0x10471d(0x17c)]('');_0x55befc['forEach'](_0x1365a6=>{const _0x193b2e=_0x10471d;_0x3fb7f2[_0x193b2e(0x17a)](_0x18c75b=>{const _0x4726d8=_0x193b2e;let _0x3f410a=_0x329ede['UGrBl'](helper[_0x4726d8(0x195)](_0x18c75b,'_'),'_'+Date[_0x4726d8(0x166)]());_0x1365a6&&(_0x3f410a+='_'+_0x1365a6);if(_0x1365a6&&(!_0x5c7cc3[_0x329ede['fyYor']]||!_0x5c7cc3[_0x329ede[_0x4726d8(0x181)]][_0x1365a6]))return;const _0x1474ce={..._0x4a157f};_0x1474ce[_0x4726d8(0x176)]=_0x18c75b;const _0x1000a9=_0x1474ce;_0x27582c[_0x3f410a]=_0x1365a6?helper[_0x4726d8(0x17f)](_0x5c7cc3[_0x329ede[_0x4726d8(0x181)]][_0x1365a6],_0x1000a9):_0x1000a9,_0x1bacae[_0x4726d8(0x17c)](_0x3f410a);});});!_0x10130f[_0x10471d(0x16e)]&&(_0x10130f[_0x10471d(0x16e)]={});_0x10130f[_0x10471d(0x16e)]={..._0x10130f[_0x10471d(0x16e)],..._0x27582c};const _0x48fbab=path[_0x10471d(0x162)](__dirname,_0x329ede[_0x10471d(0x17e)]);fs['writeFileSync'](_0x48fbab,JSON[_0x10471d(0x160)](_0x10130f)),_0x329ede[_0x10471d(0x15f)](removeExistingEnvs,_0x5c2fee);const _0x233a71=_0x329ede[_0x10471d(0x18a)](spawn,/^win/[_0x10471d(0x188)](process['platform'])?_0x329ede['HfJam']:_0x329ede[_0x10471d(0x18b)],[_0x329ede[_0x10471d(0x19a)],_0x48fbab,..._0x5c2fee['slice'](0x1),_0x329ede['NNFQA'],_0x1bacae['join'](',')],{'stdio':_0x329ede[_0x10471d(0x19c)]});_0x233a71['on'](_0x329ede[_0x10471d(0x189)],async _0x167db7=>{const _0x42c355=_0x10471d;logger['debug'](_0x42c355(0x16f)+_0x167db7),logger[_0x42c355(0x168)](_0x42c355(0x161)+_0x48fbab),fs['unlinkSync'](_0x48fbab);});}module['exports']=run;