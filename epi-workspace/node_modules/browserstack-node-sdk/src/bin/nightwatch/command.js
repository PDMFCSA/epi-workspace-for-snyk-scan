#!/usr/bin/env node
'use strict';const a38_0x2b4e16=a38_0x25e4;(function(_0x28bdb9,_0xfb2290){const _0x14629a=a38_0x25e4,_0x1985fb=_0x28bdb9();while(!![]){try{const _0xe88dd3=parseInt(_0x14629a(0x89))/0x1+-parseInt(_0x14629a(0xb4))/0x2+-parseInt(_0x14629a(0xa2))/0x3+parseInt(_0x14629a(0x80))/0x4+parseInt(_0x14629a(0x9c))/0x5+parseInt(_0x14629a(0xb1))/0x6+parseInt(_0x14629a(0xa8))/0x7*(-parseInt(_0x14629a(0x98))/0x8);if(_0xe88dd3===_0xfb2290)break;else _0x1985fb['push'](_0x1985fb['shift']());}catch(_0x2652ee){_0x1985fb['push'](_0x1985fb['shift']());}}}(a38_0xb7bf,0x86351));function a38_0x25e4(_0x1e54af,_0xfe78ac){const _0xb7bf9a=a38_0xb7bf();return a38_0x25e4=function(_0x25e4d8,_0x4f7ed6){_0x25e4d8=_0x25e4d8-0x7b;let _0x28f12d=_0xb7bf9a[_0x25e4d8];return _0x28f12d;},a38_0x25e4(_0x1e54af,_0xfe78ac);}const fs=require('fs'),path=require(a38_0x2b4e16(0xbc)),{spawn}=require('child_process'),logger=require('../../helpers/logger')[a38_0x2b4e16(0x8c)],{default:BrowserStackSetup}=require(a38_0x2b4e16(0x92)),helper=require('../../helpers/helper'),constants=require(a38_0x2b4e16(0xa1)),getUserNightwatchConfigs=(_0x1d2a5a,_0x3d553a)=>{const _0x48333f=a38_0x2b4e16,_0x2063f9={'dYBff':'nightwatch.conf.js','SuvXs':'nightwatch.json','meGHR':function(_0x51d0e4,_0x4b374f){return _0x51d0e4(_0x4b374f);},'EyRWb':_0x48333f(0xa4)};let _0x105b26=null,_0xc23516={};const _0x2bd1f0=_0x3d553a[_0x48333f(0x9d)](_0x21ce78=>_0x21ce78===_0x48333f(0x9e));if(!helper['isUndefined'](_0x1d2a5a['config'])&&fs[_0x48333f(0xaa)](path['join'](process[_0x48333f(0xa7)](),_0x1d2a5a[_0x48333f(0x8e)])))_0x105b26=path['join'](process[_0x48333f(0xa7)](),_0x1d2a5a[_0x48333f(0x8e)]),_0x3d553a[_0x48333f(0x9b)](_0x2bd1f0,0x2);else{if(fs[_0x48333f(0xaa)](path[_0x48333f(0xba)](process[_0x48333f(0xa7)](),_0x2063f9[_0x48333f(0xad)])))_0x105b26=path[_0x48333f(0xba)](process[_0x48333f(0xa7)](),_0x2063f9[_0x48333f(0xad)]);else fs[_0x48333f(0xaa)](path[_0x48333f(0xba)](process[_0x48333f(0xa7)](),_0x2063f9['SuvXs']))&&(_0x105b26=path[_0x48333f(0xba)](process[_0x48333f(0xa7)](),_0x2063f9[_0x48333f(0x95)]));}return _0x105b26?(logger[_0x48333f(0x99)]('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x105b26),_0xc23516=_0x2063f9[_0x48333f(0xa0)](require,_0x105b26)):logger['info'](_0x2063f9[_0x48333f(0xa9)]),_0xc23516;},removeExistingEnvs=_0x2886dd=>{const _0xe1aef5=a38_0x2b4e16,_0x2aca9c={};_0x2aca9c[_0xe1aef5(0xa3)]=function(_0x95cff7,_0x4d2f6b){return _0x95cff7>_0x4d2f6b;};const _0x261988=_0x2aca9c;let _0x279080=_0x2886dd[_0xe1aef5(0x9d)](_0x3712d6=>_0x3712d6===_0xe1aef5(0x8b));_0x261988[_0xe1aef5(0xa3)](_0x279080,-0x1)&&_0x2886dd[_0xe1aef5(0x9b)](_0x279080,0x2),_0x279080=_0x2886dd[_0xe1aef5(0x9d)](_0x2d54a8=>_0x2d54a8==='-e'),_0x261988[_0xe1aef5(0xa3)](_0x279080,-0x1)&&_0x2886dd[_0xe1aef5(0x9b)](_0x279080,0x2);};function run(_0x2b12ed,_0x16c684,_0x31a687){const _0x4e0637=a38_0x2b4e16,_0x528edf={'FpTVd':_0x4e0637(0x9a),'sLczz':function(_0x2ebc2a,_0x45dd19){return _0x2ebc2a+_0x45dd19;},'GbqXa':_0x4e0637(0x81),'GrqzS':function(_0x2b5214,_0x12dea7,_0x413139){return _0x2b5214(_0x12dea7,_0x413139);},'gjWiI':'hub.browserstack.com','PTHIi':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','zVSlk':function(_0x5b7a7b,_0x1ac7be){return _0x5b7a7b===_0x1ac7be;},'UyeFI':_0x4e0637(0x84),'mRlcG':function(_0x2e8aa9,_0x3cd405){return _0x2e8aa9(_0x3cd405);},'uwQkA':function(_0x643fa5,_0x36c191,_0x26d05b,_0x5148a7){return _0x643fa5(_0x36c191,_0x26d05b,_0x5148a7);},'SrLle':'nightwatch.cmd','rlSht':_0x4e0637(0x9e),'JXoTg':_0x4e0637(0x8b),'MiAjw':_0x4e0637(0xb2),'qqMJH':'close'};if(!_0x31a687[_0x4e0637(0x8e)])return;const _0x873779=_0x528edf[_0x4e0637(0xab)](getUserNightwatchConfigs,_0x2b12ed,_0x16c684),_0x3b79ab={};_0x3b79ab[_0x4e0637(0x9f)]=![];const _0x47fe45={};_0x47fe45[_0x4e0637(0x94)]=_0x528edf[_0x4e0637(0xa5)],_0x47fe45[_0x4e0637(0xb7)]=0x1bb;const _0x474694={};_0x474694[_0x4e0637(0x82)]=_0x3b79ab,_0x474694['selenium']=_0x47fe45;const _0x20708d=_0x474694;logger[_0x4e0637(0x99)](_0x528edf[_0x4e0637(0xb5)]);const _0x22bf6f={..._0x873779},_0x128f32=_0x22bf6f,_0x49e794=helper['useW3C'](_0x31a687[_0x4e0637(0x8e)]),_0x2d1522=[];_0x31a687[_0x4e0637(0x8e)][_0x4e0637(0x7f)][_0x4e0637(0x7e)]((_0x4fd114,_0x41ee45)=>{const _0xd93263=_0x4e0637;_0x49e794?_0x2d1522[_0xd93263(0xa6)](helper[_0xd93263(0x7c)](_0x31a687[_0xd93263(0x8e)],_0x528edf[_0xd93263(0x90)],_0x41ee45)):_0x2d1522[_0xd93263(0xa6)](helper[_0xd93263(0x97)](_0x31a687['config'],_0x528edf[_0xd93263(0x90)],_0x41ee45));});const _0x326f93={},_0x2c7150=[];_0x2b12ed[_0x4e0637(0xaf)]=_0x2b12ed['env']||_0x2b12ed['e'];const _0xe828fb=_0x2b12ed['env']?_0x2b12ed[_0x4e0637(0xaf)][_0x4e0637(0xac)]()[_0x4e0637(0x91)](',')['map'](_0x549ea5=>_0x549ea5['trim']())[_0x4e0637(0xb6)](_0x42adba=>_0x42adba!==''):[''];_0x528edf[_0x4e0637(0xb8)](_0xe828fb['length'],0x0)&&_0xe828fb[_0x4e0637(0xa6)]('');_0xe828fb[_0x4e0637(0x7e)](_0x23b857=>{const _0x5b225f=_0x4e0637,_0x41511a={'RJPlQ':function(_0x32f2ac,_0xc6f5a1){return _0x528edf['sLczz'](_0x32f2ac,_0xc6f5a1);},'EFJsW':_0x528edf[_0x5b225f(0x86)]};_0x2d1522['forEach'](_0x2f9ed0=>{const _0x1ead21=_0x5b225f;let _0x3a6f85=_0x41511a['RJPlQ'](helper[_0x1ead21(0x96)](_0x2f9ed0,'_'),'_'+Date[_0x1ead21(0x88)]());_0x23b857&&(_0x3a6f85+='_'+_0x23b857);if(_0x23b857&&(!_0x873779[_0x41511a[_0x1ead21(0xb3)]]||!_0x873779[_0x41511a[_0x1ead21(0xb3)]][_0x23b857]))return;const _0x1ad94c={..._0x20708d};_0x1ad94c['desiredCapabilities']=_0x2f9ed0;const _0x1d7834=_0x1ad94c;_0x326f93[_0x3a6f85]=_0x23b857?helper[_0x1ead21(0x8d)](_0x873779[_0x41511a[_0x1ead21(0xb3)]][_0x23b857],_0x1d7834):_0x1d7834,_0x2c7150['push'](_0x3a6f85);});});!_0x128f32[_0x4e0637(0x81)]&&(_0x128f32[_0x4e0637(0x81)]={});_0x128f32[_0x4e0637(0x81)]={..._0x128f32['test_settings'],..._0x326f93};const _0x430702=path[_0x4e0637(0xba)](__dirname,_0x528edf['UyeFI']);fs[_0x4e0637(0xb0)](_0x430702,JSON[_0x4e0637(0x7b)](_0x128f32)),_0x528edf[_0x4e0637(0xae)](removeExistingEnvs,_0x16c684);const _0x2b0ff2=_0x528edf[_0x4e0637(0xb9)](spawn,/^win/[_0x4e0637(0x87)](process['platform'])?_0x528edf[_0x4e0637(0x93)]:_0x528edf[_0x4e0637(0x90)],[_0x528edf[_0x4e0637(0x83)],_0x430702,..._0x16c684[_0x4e0637(0x85)](0x1),_0x528edf[_0x4e0637(0x8a)],_0x2c7150[_0x4e0637(0xba)](',')],{'stdio':_0x528edf['MiAjw']});_0x2b0ff2['on'](_0x528edf['qqMJH'],async _0x35543e=>{const _0x45d0a2=_0x4e0637;logger['debug'](_0x45d0a2(0xbb)+_0x35543e),logger['info'](_0x45d0a2(0x7d)+_0x430702),fs['unlinkSync'](_0x430702);});}function a38_0xb7bf(){const _0x176c4b=['start_process','meGHR','../utils/constants','66723LdvEZL','scEDe','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','gjWiI','push','cwd','7eLlrTB','EyRWb','existsSync','GrqzS','trim','dYBff','mRlcG','env','writeFileSync','537858WJAdVT','inherit','EFJsW','826958Fecqsz','PTHIi','filter','port','zVSlk','uwQkA','join','child\x20process\x20exited\x20with\x20code\x20','path','stringify','modifyBrowserStackW3CCaps','Deleting\x20','forEach','platforms','2828112EJFSZQ','test_settings','webdriver','rlSht','nightwatch-browserstack.json','slice','GbqXa','test','now','927208XrjUAw','JXoTg','--env','winstonLogger','mergeDeep','config','exports','FpTVd','split','../../helpers/BrowserStackSetup','SrLle','host','SuvXs','getPlatformName','modifyBrowserStackCaps','9638032VQHDMm','info','nightwatch','splice','2331540gzdrAj','findIndex','--config'];a38_0xb7bf=function(){return _0x176c4b;};return a38_0xb7bf();}module[a38_0x2b4e16(0x8f)]=run;