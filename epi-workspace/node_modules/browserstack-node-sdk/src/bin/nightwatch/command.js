#!/usr/bin/env node
'use strict';const a33_0x212338=a33_0x40ee;(function(_0xc295e5,_0x1daea7){const _0x385a01=a33_0x40ee,_0x27470d=_0xc295e5();while(!![]){try{const _0x2e7eac=-parseInt(_0x385a01(0x1a2))/0x1+-parseInt(_0x385a01(0x1c5))/0x2+parseInt(_0x385a01(0x1c4))/0x3+-parseInt(_0x385a01(0x1ab))/0x4+parseInt(_0x385a01(0x1b2))/0x5+-parseInt(_0x385a01(0x1a0))/0x6+parseInt(_0x385a01(0x1cf))/0x7*(parseInt(_0x385a01(0x1bd))/0x8);if(_0x2e7eac===_0x1daea7)break;else _0x27470d['push'](_0x27470d['shift']());}catch(_0x564b8e){_0x27470d['push'](_0x27470d['shift']());}}}(a33_0x9e99,0x7ba99));function a33_0x9e99(){const _0x6d1259=['EBWVP','uurAe','useW3C','../utils/constants','port','TFGCQ','platforms','RlzGK','selenium','trim','path','findIndex','winstonLogger','child\x20process\x20exited\x20with\x20code\x20','nightwatch.conf.js','unlinkSync','getPlatformName','nightwatch-browserstack.json','length','webdriver','hub.browserstack.com','cwd','3704070Ceuaqa','join','276568OaNlol','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','mergeDeep','start_process','map','exports','wtVlW','slice','existsSync','1908768QMboLZ','config','modifyBrowserStackW3CCaps','sKFEX','azzUz','ETgcD','test_settings','4844585xuWBTQ','splice','laQDd','nightwatch.json','now','ktTQS','--config','inherit','xMQtb','child_process','modifyBrowserStackCaps','216ivLzPH','info','nightwatch','nvOzL','Getting\x20your\x20nightwatch\x20configs\x20from\x20','../../helpers/logger','../../helpers/helper','2057877vNJBxs','970758JbHumj','PiSHg','isUndefined','debug','platform','filter','forEach','tmAzK','AsNsP','env','183589RoWGXw','NWGhC','OnqSJ','--env','stringify','test','push'];a33_0x9e99=function(){return _0x6d1259;};return a33_0x9e99();}const fs=require('fs'),path=require(a33_0x212338(0x194)),{spawn}=require(a33_0x212338(0x1bb)),logger=require(a33_0x212338(0x1c2))[a33_0x212338(0x196)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a33_0x212338(0x1c3)),constants=require(a33_0x212338(0x18d)),getUserNightwatchConfigs=(_0x9ae90d,_0x2f772e)=>{const _0x35155a=a33_0x212338,_0x5e1d0d={'OnqSJ':_0x35155a(0x198),'xuzpR':_0x35155a(0x1b5),'bGLBx':function(_0x1e7d6d,_0x27ac5d){return _0x1e7d6d(_0x27ac5d);},'llfDQ':_0x35155a(0x1a3)};let _0x51b5b2=null,_0x8c4abf={};const _0x1f455d=_0x2f772e[_0x35155a(0x195)](_0x477a2b=>_0x477a2b==='--config');if(!helper[_0x35155a(0x1c7)](_0x9ae90d[_0x35155a(0x1ac)])&&fs['existsSync'](path['join'](process[_0x35155a(0x19f)](),_0x9ae90d[_0x35155a(0x1ac)])))_0x51b5b2=path[_0x35155a(0x1a1)](process[_0x35155a(0x19f)](),_0x9ae90d[_0x35155a(0x1ac)]),_0x2f772e[_0x35155a(0x1b3)](_0x1f455d,0x2);else{if(fs[_0x35155a(0x1aa)](path['join'](process[_0x35155a(0x19f)](),_0x5e1d0d[_0x35155a(0x1d1)])))_0x51b5b2=path[_0x35155a(0x1a1)](process[_0x35155a(0x19f)](),_0x5e1d0d['OnqSJ']);else fs[_0x35155a(0x1aa)](path['join'](process[_0x35155a(0x19f)](),_0x5e1d0d['xuzpR']))&&(_0x51b5b2=path[_0x35155a(0x1a1)](process['cwd'](),_0x5e1d0d['xuzpR']));}return _0x51b5b2?(logger['info'](_0x35155a(0x1c1)+_0x51b5b2),_0x8c4abf=_0x5e1d0d['bGLBx'](require,_0x51b5b2)):logger[_0x35155a(0x1be)](_0x5e1d0d['llfDQ']),_0x8c4abf;},removeExistingEnvs=_0x52ed1b=>{const _0x1fc134=a33_0x212338,_0x3fe4af={};_0x3fe4af[_0x1fc134(0x1cc)]=function(_0x1ce352,_0x103d5e){return _0x1ce352>_0x103d5e;},_0x3fe4af['xAmpv']=function(_0x245b06,_0x7c7d7f){return _0x245b06>_0x7c7d7f;};const _0x10afd0=_0x3fe4af;let _0x20932c=_0x52ed1b['findIndex'](_0x26cfff=>_0x26cfff===_0x1fc134(0x1d2));_0x10afd0[_0x1fc134(0x1cc)](_0x20932c,-0x1)&&_0x52ed1b[_0x1fc134(0x1b3)](_0x20932c,0x2),_0x20932c=_0x52ed1b[_0x1fc134(0x195)](_0x114edf=>_0x114edf==='-e'),_0x10afd0['xAmpv'](_0x20932c,-0x1)&&_0x52ed1b[_0x1fc134(0x1b3)](_0x20932c,0x2);};function run(_0x176dad,_0x133d9e){const _0x52e21d=a33_0x212338,_0x172dd4={'nvOzL':_0x52e21d(0x1bf),'ETgcD':function(_0x2f6d9f,_0x13cdc6){return _0x2f6d9f+_0x13cdc6;},'ktTQS':_0x52e21d(0x1b1),'xMQtb':function(_0x590b4b,_0x453f01,_0x4cf172){return _0x590b4b(_0x453f01,_0x4cf172);},'NWGhC':_0x52e21d(0x19e),'azzUz':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','MGDpB':function(_0x131bce,_0x9163ed){return _0x131bce===_0x9163ed;},'uDvjU':_0x52e21d(0x19b),'RlzGK':function(_0x1b67b8,_0x1e9630){return _0x1b67b8(_0x1e9630);},'laQDd':function(_0x18853e,_0x13474d,_0x509980,_0x5cae25){return _0x18853e(_0x13474d,_0x509980,_0x5cae25);},'sKFEX':'nightwatch.cmd','EBWVP':_0x52e21d(0x1b8),'wtVlW':_0x52e21d(0x1d2),'AsNsP':_0x52e21d(0x1b9),'PiSHg':'close'},_0x1d54ba=new BrowserStackSetup(_0x176dad);if(!_0x1d54ba[_0x52e21d(0x1ac)])return;const _0x188ae3=_0x172dd4[_0x52e21d(0x1ba)](getUserNightwatchConfigs,_0x176dad,_0x133d9e),_0x2c5a13={};_0x2c5a13[_0x52e21d(0x1a5)]=![];const _0x291227={};_0x291227['host']=_0x172dd4[_0x52e21d(0x1d0)],_0x291227[_0x52e21d(0x18e)]=0x1bb;const _0x4ef704={};_0x4ef704[_0x52e21d(0x19d)]=_0x2c5a13,_0x4ef704[_0x52e21d(0x192)]=_0x291227;const _0x1051d3=_0x4ef704;logger[_0x52e21d(0x1be)](_0x172dd4[_0x52e21d(0x1af)]);const _0x15d162={..._0x188ae3},_0x65bdd1=_0x15d162,_0x342830=helper[_0x52e21d(0x18c)](_0x1d54ba[_0x52e21d(0x1ac)]),_0xa3718f=[];_0x1d54ba[_0x52e21d(0x1ac)][_0x52e21d(0x190)][_0x52e21d(0x1cb)]((_0x651a26,_0x1b7eba)=>{const _0x3b7f2f=_0x52e21d;_0x342830?_0xa3718f[_0x3b7f2f(0x1d5)](helper[_0x3b7f2f(0x1ad)](_0x1d54ba[_0x3b7f2f(0x1ac)],_0x172dd4[_0x3b7f2f(0x1c0)],_0x1b7eba)):_0xa3718f[_0x3b7f2f(0x1d5)](helper[_0x3b7f2f(0x1bc)](_0x1d54ba[_0x3b7f2f(0x1ac)],_0x172dd4['nvOzL'],_0x1b7eba));});const _0x18715f={},_0x3824b2=[];_0x176dad['env']=_0x176dad[_0x52e21d(0x1ce)]||_0x176dad['e'];const _0x36fb5d=_0x176dad['env']?_0x176dad[_0x52e21d(0x1ce)]['trim']()['split'](',')[_0x52e21d(0x1a6)](_0x298be5=>_0x298be5[_0x52e21d(0x193)]())[_0x52e21d(0x1ca)](_0x230357=>_0x230357!==''):[''];_0x172dd4['MGDpB'](_0x36fb5d[_0x52e21d(0x19c)],0x0)&&_0x36fb5d['push']('');_0x36fb5d['forEach'](_0x1f9739=>{const _0x5f2270=_0x52e21d,_0x36859c={'TFGCQ':function(_0x18bc0c,_0x43a3f1){const _0x30ae0b=a33_0x40ee;return _0x172dd4[_0x30ae0b(0x1b0)](_0x18bc0c,_0x43a3f1);},'uurAe':_0x172dd4[_0x5f2270(0x1b7)]};_0xa3718f[_0x5f2270(0x1cb)](_0x18a9d7=>{const _0x60cabf=_0x5f2270;let _0x3b41c7=_0x36859c[_0x60cabf(0x18f)](helper[_0x60cabf(0x19a)](_0x18a9d7,'_'),'_'+Date[_0x60cabf(0x1b6)]());_0x1f9739&&(_0x3b41c7+='_'+_0x1f9739);if(_0x1f9739&&(!_0x188ae3[_0x36859c['uurAe']]||!_0x188ae3[_0x36859c[_0x60cabf(0x18b)]][_0x1f9739]))return;const _0x55238b={..._0x1051d3};_0x55238b['desiredCapabilities']=_0x18a9d7;const _0x28ed8a=_0x55238b;_0x18715f[_0x3b41c7]=_0x1f9739?helper[_0x60cabf(0x1a4)](_0x188ae3[_0x36859c[_0x60cabf(0x18b)]][_0x1f9739],_0x28ed8a):_0x28ed8a,_0x3824b2['push'](_0x3b41c7);});});!_0x65bdd1[_0x52e21d(0x1b1)]&&(_0x65bdd1['test_settings']={});_0x65bdd1[_0x52e21d(0x1b1)]={..._0x65bdd1[_0x52e21d(0x1b1)],..._0x18715f};const _0x44b5a8=path[_0x52e21d(0x1a1)](__dirname,_0x172dd4['uDvjU']);fs['writeFileSync'](_0x44b5a8,JSON[_0x52e21d(0x1d3)](_0x65bdd1)),_0x172dd4[_0x52e21d(0x191)](removeExistingEnvs,_0x133d9e);const _0x30f896=_0x172dd4[_0x52e21d(0x1b4)](spawn,/^win/[_0x52e21d(0x1d4)](process[_0x52e21d(0x1c9)])?_0x172dd4[_0x52e21d(0x1ae)]:_0x172dd4[_0x52e21d(0x1c0)],[_0x172dd4[_0x52e21d(0x18a)],_0x44b5a8,..._0x133d9e[_0x52e21d(0x1a9)](0x1),_0x172dd4[_0x52e21d(0x1a8)],_0x3824b2[_0x52e21d(0x1a1)](',')],{'stdio':_0x172dd4[_0x52e21d(0x1cd)]});_0x30f896['on'](_0x172dd4[_0x52e21d(0x1c6)],async _0x526963=>{const _0x2dc62a=_0x52e21d;logger[_0x2dc62a(0x1c8)](_0x2dc62a(0x197)+_0x526963),logger[_0x2dc62a(0x1be)]('Deleting\x20'+_0x44b5a8),fs[_0x2dc62a(0x199)](_0x44b5a8);});}function a33_0x40ee(_0x1416c6,_0x546e89){const _0x9e9963=a33_0x9e99();return a33_0x40ee=function(_0x40eea7,_0x238b82){_0x40eea7=_0x40eea7-0x18a;let _0x2e0e63=_0x9e9963[_0x40eea7];return _0x2e0e63;},a33_0x40ee(_0x1416c6,_0x546e89);}module[a33_0x212338(0x1a7)]=run;