#!/usr/bin/env node
'use strict';const a33_0x3d86a0=a33_0xf73d;(function(_0x118133,_0x19dd42){const _0x568f65=a33_0xf73d,_0x380545=_0x118133();while(!![]){try{const _0x1c3a60=-parseInt(_0x568f65(0x1ea))/0x1+-parseInt(_0x568f65(0x211))/0x2*(-parseInt(_0x568f65(0x1d5))/0x3)+parseInt(_0x568f65(0x1ec))/0x4*(-parseInt(_0x568f65(0x1e9))/0x5)+-parseInt(_0x568f65(0x1ce))/0x6+-parseInt(_0x568f65(0x1fe))/0x7*(parseInt(_0x568f65(0x1fa))/0x8)+parseInt(_0x568f65(0x1e3))/0x9*(-parseInt(_0x568f65(0x1f3))/0xa)+parseInt(_0x568f65(0x1ef))/0xb;if(_0x1c3a60===_0x19dd42)break;else _0x380545['push'](_0x380545['shift']());}catch(_0x25d1a3){_0x380545['push'](_0x380545['shift']());}}}(a33_0x1382,0xd88f8));const fs=require('fs'),path=require(a33_0x3d86a0(0x1f7)),{spawn}=require('child_process'),logger=require(a33_0x3d86a0(0x209))[a33_0x3d86a0(0x1de)],{default:BrowserStackSetup}=require(a33_0x3d86a0(0x1fd)),helper=require(a33_0x3d86a0(0x20e)),constants=require(a33_0x3d86a0(0x1e4)),getUserNightwatchConfigs=(_0x400c9e,_0x5294dc)=>{const _0x5fa7f4=a33_0x3d86a0,_0x38b72e={'MKsqi':_0x5fa7f4(0x1f6),'gnnaU':_0x5fa7f4(0x212),'Vfcdh':function(_0x278da4,_0x204718){return _0x278da4(_0x204718);},'rlHAB':_0x5fa7f4(0x1eb)};let _0x4887a2=null,_0x31482b={};const _0x4804fb=_0x5294dc['findIndex'](_0x3c91dd=>_0x3c91dd===_0x5fa7f4(0x1df));if(!helper['isUndefined'](_0x400c9e[_0x5fa7f4(0x20b)])&&fs[_0x5fa7f4(0x1d4)](path['join'](process[_0x5fa7f4(0x1c8)](),_0x400c9e[_0x5fa7f4(0x20b)])))_0x4887a2=path[_0x5fa7f4(0x1d6)](process[_0x5fa7f4(0x1c8)](),_0x400c9e[_0x5fa7f4(0x20b)]),_0x5294dc[_0x5fa7f4(0x1da)](_0x4804fb,0x2);else{if(fs['existsSync'](path[_0x5fa7f4(0x1d6)](process[_0x5fa7f4(0x1c8)](),_0x38b72e[_0x5fa7f4(0x1ff)])))_0x4887a2=path[_0x5fa7f4(0x1d6)](process['cwd'](),_0x38b72e[_0x5fa7f4(0x1ff)]);else fs['existsSync'](path[_0x5fa7f4(0x1d6)](process[_0x5fa7f4(0x1c8)](),_0x38b72e['gnnaU']))&&(_0x4887a2=path[_0x5fa7f4(0x1d6)](process[_0x5fa7f4(0x1c8)](),_0x38b72e[_0x5fa7f4(0x1e2)]));}return _0x4887a2?(logger['info'](_0x5fa7f4(0x1e8)+_0x4887a2),_0x31482b=_0x38b72e[_0x5fa7f4(0x1f9)](require,_0x4887a2)):logger['info'](_0x38b72e[_0x5fa7f4(0x1fb)]),_0x31482b;},removeExistingEnvs=_0xc4493c=>{const _0x2a63db=a33_0x3d86a0,_0xf269b8={};_0xf269b8[_0x2a63db(0x1fc)]=function(_0x5205b7,_0x36094c){return _0x5205b7>_0x36094c;},_0xf269b8['TZeOF']=function(_0x31a52c,_0x462964){return _0x31a52c>_0x462964;};const _0x250bd3=_0xf269b8;let _0x1ffbd8=_0xc4493c['findIndex'](_0x586899=>_0x586899===_0x2a63db(0x1f2));_0x250bd3[_0x2a63db(0x1fc)](_0x1ffbd8,-0x1)&&_0xc4493c[_0x2a63db(0x1da)](_0x1ffbd8,0x2),_0x1ffbd8=_0xc4493c[_0x2a63db(0x208)](_0x15a40d=>_0x15a40d==='-e'),_0x250bd3[_0x2a63db(0x206)](_0x1ffbd8,-0x1)&&_0xc4493c['splice'](_0x1ffbd8,0x2);};function a33_0xf73d(_0x40f8ac,_0x1449f8){const _0x1382e2=a33_0x1382();return a33_0xf73d=function(_0xf73d65,_0xae9f2){_0xf73d65=_0xf73d65-0x1c8;let _0x15d90b=_0x1382e2[_0xf73d65];return _0x15d90b;},a33_0xf73d(_0x40f8ac,_0x1449f8);}function run(_0x2c8bdc,_0x23db64,_0xf5cfa9){const _0x2a62aa=a33_0x3d86a0,_0x51045e={'LpaEG':_0x2a62aa(0x20c),'bwVXu':function(_0x57e071,_0x308a45){return _0x57e071+_0x308a45;},'MJJqn':_0x2a62aa(0x1db),'fDSZU':function(_0x21469f,_0x3a5512,_0xcf7be0){return _0x21469f(_0x3a5512,_0xcf7be0);},'vHfPR':_0x2a62aa(0x1d8),'ZtyRB':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','zeDAm':function(_0x49d8d1,_0x57d3c8){return _0x49d8d1===_0x57d3c8;},'UPbYN':_0x2a62aa(0x1f0),'gTtgM':function(_0x57464b,_0x4f3992){return _0x57464b(_0x4f3992);},'efCpC':function(_0x2d9b11,_0x2dea4e,_0x5142f8,_0x273567){return _0x2d9b11(_0x2dea4e,_0x5142f8,_0x273567);},'Cavck':'nightwatch.cmd','QgVUJ':_0x2a62aa(0x1df),'JRhel':_0x2a62aa(0x1f2),'pRcnY':_0x2a62aa(0x1dd),'xTMkH':_0x2a62aa(0x20a)};if(!_0xf5cfa9[_0x2a62aa(0x20b)])return;const _0x4b7c4d=_0x51045e['fDSZU'](getUserNightwatchConfigs,_0x2c8bdc,_0x23db64),_0xd7a1b2={};_0xd7a1b2[_0x2a62aa(0x20d)]=![];const _0x44b8e9={};_0x44b8e9[_0x2a62aa(0x205)]=_0x51045e['vHfPR'],_0x44b8e9['port']=0x1bb;const _0x1672b8={};_0x1672b8[_0x2a62aa(0x1cb)]=_0xd7a1b2,_0x1672b8[_0x2a62aa(0x1f5)]=_0x44b8e9;const _0x306588=_0x1672b8;logger['info'](_0x51045e['ZtyRB']);const _0x14176f={..._0x4b7c4d},_0x2afdf8=_0x14176f,_0x212e24=helper[_0x2a62aa(0x1f8)](_0xf5cfa9['config']),_0x203d80=[];_0xf5cfa9[_0x2a62aa(0x20b)]['platforms'][_0x2a62aa(0x1cf)]((_0x4a638b,_0x370347)=>{const _0x5d9bbc=_0x2a62aa;_0x212e24?_0x203d80['push'](helper[_0x5d9bbc(0x1d7)](_0xf5cfa9[_0x5d9bbc(0x20b)],_0x51045e[_0x5d9bbc(0x200)],_0x370347)):_0x203d80[_0x5d9bbc(0x1dc)](helper[_0x5d9bbc(0x20f)](_0xf5cfa9['config'],_0x51045e[_0x5d9bbc(0x200)],_0x370347));});const _0x1407db={},_0x3d6901=[];_0x2c8bdc[_0x2a62aa(0x202)]=_0x2c8bdc[_0x2a62aa(0x202)]||_0x2c8bdc['e'];const _0x1356f9=_0x2c8bdc[_0x2a62aa(0x202)]?_0x2c8bdc[_0x2a62aa(0x202)][_0x2a62aa(0x210)]()[_0x2a62aa(0x1e5)](',')[_0x2a62aa(0x203)](_0x58cb75=>_0x58cb75[_0x2a62aa(0x210)]())[_0x2a62aa(0x1f4)](_0x533c00=>_0x533c00!==''):[''];_0x51045e['zeDAm'](_0x1356f9[_0x2a62aa(0x1d1)],0x0)&&_0x1356f9[_0x2a62aa(0x1dc)]('');_0x1356f9[_0x2a62aa(0x1cf)](_0x2a335a=>{const _0x14b402=_0x2a62aa;_0x203d80[_0x14b402(0x1cf)](_0x30b937=>{const _0x467593=_0x14b402;let _0x5d8a14=_0x51045e[_0x467593(0x1cc)](helper['getPlatformName'](_0x30b937,'_'),'_'+Date[_0x467593(0x1cd)]());_0x2a335a&&(_0x5d8a14+='_'+_0x2a335a);if(_0x2a335a&&(!_0x4b7c4d[_0x51045e[_0x467593(0x1e7)]]||!_0x4b7c4d[_0x51045e[_0x467593(0x1e7)]][_0x2a335a]))return;const _0xfeb0b9={..._0x306588};_0xfeb0b9[_0x467593(0x201)]=_0x30b937;const _0x188246=_0xfeb0b9;_0x1407db[_0x5d8a14]=_0x2a335a?helper[_0x467593(0x1e0)](_0x4b7c4d[_0x51045e[_0x467593(0x1e7)]][_0x2a335a],_0x188246):_0x188246,_0x3d6901['push'](_0x5d8a14);});});!_0x2afdf8[_0x2a62aa(0x1db)]&&(_0x2afdf8[_0x2a62aa(0x1db)]={});_0x2afdf8['test_settings']={..._0x2afdf8[_0x2a62aa(0x1db)],..._0x1407db};const _0x2cd018=path[_0x2a62aa(0x1d6)](__dirname,_0x51045e[_0x2a62aa(0x1f1)]);fs[_0x2a62aa(0x1d2)](_0x2cd018,JSON['stringify'](_0x2afdf8)),_0x51045e[_0x2a62aa(0x1ed)](removeExistingEnvs,_0x23db64);const _0x32d8c1=_0x51045e[_0x2a62aa(0x1d3)](spawn,/^win/[_0x2a62aa(0x1ee)](process['platform'])?_0x51045e[_0x2a62aa(0x1d0)]:_0x51045e[_0x2a62aa(0x200)],[_0x51045e[_0x2a62aa(0x1ca)],_0x2cd018,..._0x23db64[_0x2a62aa(0x1d9)](0x1),_0x51045e[_0x2a62aa(0x1c9)],_0x3d6901[_0x2a62aa(0x1d6)](',')],{'stdio':_0x51045e['pRcnY']});_0x32d8c1['on'](_0x51045e['xTMkH'],async _0x3cdad4=>{const _0x4306b9=_0x2a62aa;logger[_0x4306b9(0x1e1)](_0x4306b9(0x207)+_0x3cdad4),logger['info']('Deleting\x20'+_0x2cd018),fs[_0x4306b9(0x1e6)](_0x2cd018);});}function a33_0x1382(){const _0x5a7048=['join','modifyBrowserStackW3CCaps','hub.browserstack.com','slice','splice','test_settings','push','inherit','winstonLogger','--config','mergeDeep','debug','gnnaU','3923739EnjYet','../utils/constants','split','unlinkSync','MJJqn','Getting\x20your\x20nightwatch\x20configs\x20from\x20','3119345qxhUaB','851953MNoypc','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','4HAHdum','gTtgM','test','40485049ZXJPdU','nightwatch-browserstack.json','UPbYN','--env','10SyVvCb','filter','selenium','nightwatch.conf.js','path','useW3C','Vfcdh','5072nitwqt','rlHAB','edfkN','../../helpers/BrowserStackSetup','8932Dezuqv','MKsqi','LpaEG','desiredCapabilities','env','map','exports','host','TZeOF','child\x20process\x20exited\x20with\x20code\x20','findIndex','../../helpers/logger','close','config','nightwatch','start_process','../../helpers/helper','modifyBrowserStackCaps','trim','4ASOIUq','nightwatch.json','cwd','JRhel','QgVUJ','webdriver','bwVXu','now','3728472gVhKtR','forEach','Cavck','length','writeFileSync','efCpC','existsSync','823143WBQIEe'];a33_0x1382=function(){return _0x5a7048;};return a33_0x1382();}module[a33_0x3d86a0(0x204)]=run;