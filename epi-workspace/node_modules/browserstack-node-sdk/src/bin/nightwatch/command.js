#!/usr/bin/env node
'use strict';function a33_0x411a(){const _0x1ae119=['lBqDJ','test_settings','stringify','slice','debug','unlinkSync','110424whXTRv','../utils/constants','isUndefined','writeFileSync','info','../../helpers/BrowserStackSetup','NBIZD','split','DHmdI','SoGbn','koAFv','WzGdj','child_process','18UMGVnz','Getting\x20your\x20nightwatch\x20configs\x20from\x20','start_process','config','splice','platform','78917spCNoA','7pICbJB','filter','DHiIV','1568360dEAsQd','length','mTydn','Ohdjb','CjUNO','nightwatch.json','existsSync','now','close','../../helpers/logger','uLJsV','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','JAlHH','431528rqTNqE','trim','mergeDeep','getPlatformName','modifyBrowserStackW3CCaps','LnKVQ','test','webdriver','jkOum','platforms','modifyBrowserStackCaps','114250zzjVij','3bENCtM','push','useW3C','winstonLogger','child\x20process\x20exited\x20with\x20code\x20','join','cwd','nightwatch.conf.js','1706935VKFQdF','map','NcKWF','zBOvE','nightwatch.cmd','dUwNg','exports','--env','WdYvF','AGbVt','host','inherit','--config','path','fAzSS','hub.browserstack.com','env','findIndex','5608850Fqqfon','selenium','forEach'];a33_0x411a=function(){return _0x1ae119;};return a33_0x411a();}const a33_0x5c426a=a33_0x3dce;(function(_0x5dc534,_0x2b9587){const _0x56f762=a33_0x3dce,_0x25b63f=_0x5dc534();while(!![]){try{const _0x3e94ab=parseInt(_0x56f762(0xbf))/0x1+-parseInt(_0x56f762(0x88))/0x2*(parseInt(_0x56f762(0x89))/0x3)+-parseInt(_0x56f762(0xc3))/0x4+-parseInt(_0x56f762(0x91))/0x5+-parseInt(_0x56f762(0xac))/0x6+-parseInt(_0x56f762(0xc0))/0x7*(parseInt(_0x56f762(0x7d))/0x8)+-parseInt(_0x56f762(0xb9))/0x9*(-parseInt(_0x56f762(0xa3))/0xa);if(_0x3e94ab===_0x2b9587)break;else _0x25b63f['push'](_0x25b63f['shift']());}catch(_0x400e13){_0x25b63f['push'](_0x25b63f['shift']());}}}(a33_0x411a,0x5274c));function a33_0x3dce(_0x234d36,_0x59855b){const _0x411a64=a33_0x411a();return a33_0x3dce=function(_0x3dcebb,_0x226bda){_0x3dcebb=_0x3dcebb-0x7b;let _0x8f5c5a=_0x411a64[_0x3dcebb];return _0x8f5c5a;},a33_0x3dce(_0x234d36,_0x59855b);}const fs=require('fs'),path=require(a33_0x5c426a(0x9e)),{spawn}=require(a33_0x5c426a(0xb8)),logger=require(a33_0x5c426a(0xcc))[a33_0x5c426a(0x8c)],{default:BrowserStackSetup}=require(a33_0x5c426a(0xb1)),helper=require('../../helpers/helper'),constants=require(a33_0x5c426a(0xad)),getUserNightwatchConfigs=(_0x500ffe,_0x5afffd)=>{const _0x1b5303=a33_0x5c426a,_0x34ac2d={'DHiIV':_0x1b5303(0x90),'Ohdjb':_0x1b5303(0xc8),'AGbVt':function(_0xed227b,_0x50cc12){return _0xed227b(_0x50cc12);},'koAFv':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x1e6dca=null,_0x556f83={};const _0x42a78d=_0x5afffd[_0x1b5303(0xa2)](_0x35b3ed=>_0x35b3ed===_0x1b5303(0x9d));if(!helper[_0x1b5303(0xae)](_0x500ffe[_0x1b5303(0xbc)])&&fs[_0x1b5303(0xc9)](path['join'](process[_0x1b5303(0x8f)](),_0x500ffe['config'])))_0x1e6dca=path[_0x1b5303(0x8e)](process[_0x1b5303(0x8f)](),_0x500ffe[_0x1b5303(0xbc)]),_0x5afffd[_0x1b5303(0xbd)](_0x42a78d,0x2);else{if(fs[_0x1b5303(0xc9)](path[_0x1b5303(0x8e)](process[_0x1b5303(0x8f)](),_0x34ac2d['DHiIV'])))_0x1e6dca=path[_0x1b5303(0x8e)](process['cwd'](),_0x34ac2d[_0x1b5303(0xc2)]);else fs[_0x1b5303(0xc9)](path[_0x1b5303(0x8e)](process[_0x1b5303(0x8f)](),_0x34ac2d['Ohdjb']))&&(_0x1e6dca=path['join'](process[_0x1b5303(0x8f)](),_0x34ac2d[_0x1b5303(0xc6)]));}return _0x1e6dca?(logger[_0x1b5303(0xb0)](_0x1b5303(0xba)+_0x1e6dca),_0x556f83=_0x34ac2d[_0x1b5303(0x9a)](require,_0x1e6dca)):logger[_0x1b5303(0xb0)](_0x34ac2d[_0x1b5303(0xb6)]),_0x556f83;},removeExistingEnvs=_0x1572dc=>{const _0x222609=a33_0x5c426a,_0x32051d={};_0x32051d[_0x222609(0xb7)]=function(_0x51d6b4,_0x22b8ea){return _0x51d6b4>_0x22b8ea;},_0x32051d[_0x222609(0x99)]=function(_0x2eb494,_0x305682){return _0x2eb494>_0x305682;};const _0x39fb1f=_0x32051d;let _0x5c3089=_0x1572dc[_0x222609(0xa2)](_0x18a0d5=>_0x18a0d5==='--env');_0x39fb1f[_0x222609(0xb7)](_0x5c3089,-0x1)&&_0x1572dc[_0x222609(0xbd)](_0x5c3089,0x2),_0x5c3089=_0x1572dc['findIndex'](_0x134eb5=>_0x134eb5==='-e'),_0x39fb1f[_0x222609(0x99)](_0x5c3089,-0x1)&&_0x1572dc[_0x222609(0xbd)](_0x5c3089,0x2);};function run(_0x2f2f33,_0x5ef326){const _0x55b310=a33_0x5c426a,_0x1a10f1={'mTydn':'nightwatch','CjUNO':function(_0x4a8311,_0x28122c){return _0x4a8311+_0x28122c;},'zBOvE':_0x55b310(0xa7),'NcKWF':function(_0x4d8144,_0xa86248,_0x14762b){return _0x4d8144(_0xa86248,_0x14762b);},'NBIZD':_0x55b310(0xa0),'vUjfF':_0x55b310(0x7b),'lBqDJ':function(_0x4741f2,_0x30ddb9){return _0x4741f2===_0x30ddb9;},'LnKVQ':'nightwatch-browserstack.json','fAzSS':function(_0x3c9238,_0x484a8f){return _0x3c9238(_0x484a8f);},'uLJsV':function(_0x4fc46f,_0x141376,_0x38c935,_0x5cc91c){return _0x4fc46f(_0x141376,_0x38c935,_0x5cc91c);},'DHmdI':_0x55b310(0x95),'VRaIe':_0x55b310(0x9d),'SoGbn':_0x55b310(0x98),'KeLny':_0x55b310(0x9c),'JAlHH':_0x55b310(0xcb)},_0x4130bd=new BrowserStackSetup(_0x2f2f33);if(!_0x4130bd[_0x55b310(0xbc)])return;const _0xace3ff=_0x1a10f1[_0x55b310(0x93)](getUserNightwatchConfigs,_0x2f2f33,_0x5ef326),_0x3b0c55={};_0x3b0c55[_0x55b310(0xbb)]=![];const _0x3b81b8={};_0x3b81b8[_0x55b310(0x9b)]=_0x1a10f1[_0x55b310(0xb2)],_0x3b81b8['port']=0x1bb;const _0x532858={};_0x532858[_0x55b310(0x84)]=_0x3b0c55,_0x532858[_0x55b310(0xa4)]=_0x3b81b8;const _0x507bf1=_0x532858;logger['info'](_0x1a10f1['vUjfF']);const _0x3d2b47={..._0xace3ff},_0x100ea5=_0x3d2b47,_0x5cd4a4=helper[_0x55b310(0x8b)](_0x4130bd[_0x55b310(0xbc)]),_0xfac1fa=[];_0x4130bd[_0x55b310(0xbc)][_0x55b310(0x86)][_0x55b310(0xa5)]((_0x16560d,_0x55d9e6)=>{const _0x1671fa=_0x55b310;_0x5cd4a4?_0xfac1fa[_0x1671fa(0x8a)](helper[_0x1671fa(0x81)](_0x4130bd['config'],_0x1a10f1['mTydn'],_0x55d9e6)):_0xfac1fa[_0x1671fa(0x8a)](helper[_0x1671fa(0x87)](_0x4130bd[_0x1671fa(0xbc)],_0x1a10f1[_0x1671fa(0xc5)],_0x55d9e6));});const _0x31293e={},_0x328657=[];_0x2f2f33['env']=_0x2f2f33['env']||_0x2f2f33['e'];const _0x518fc8=_0x2f2f33['env']?_0x2f2f33[_0x55b310(0xa1)][_0x55b310(0x7e)]()[_0x55b310(0xb3)](',')[_0x55b310(0x92)](_0x26d398=>_0x26d398[_0x55b310(0x7e)]())[_0x55b310(0xc1)](_0x4b76fb=>_0x4b76fb!==''):[''];_0x1a10f1[_0x55b310(0xa6)](_0x518fc8[_0x55b310(0xc4)],0x0)&&_0x518fc8[_0x55b310(0x8a)]('');_0x518fc8['forEach'](_0x118952=>{const _0x51a284=_0x55b310,_0x2db394={'jkOum':function(_0x1b0d90,_0x26872f){const _0x2f5613=a33_0x3dce;return _0x1a10f1[_0x2f5613(0xc7)](_0x1b0d90,_0x26872f);},'dUwNg':_0x1a10f1[_0x51a284(0x94)]};_0xfac1fa['forEach'](_0x2bcd18=>{const _0x120ccf=_0x51a284;let _0xdecc59=_0x2db394[_0x120ccf(0x85)](helper[_0x120ccf(0x80)](_0x2bcd18,'_'),'_'+Date[_0x120ccf(0xca)]());_0x118952&&(_0xdecc59+='_'+_0x118952);if(_0x118952&&(!_0xace3ff[_0x2db394[_0x120ccf(0x96)]]||!_0xace3ff[_0x2db394[_0x120ccf(0x96)]][_0x118952]))return;const _0x3516cc={..._0x507bf1};_0x3516cc['desiredCapabilities']=_0x2bcd18;const _0x33b27c=_0x3516cc;_0x31293e[_0xdecc59]=_0x118952?helper[_0x120ccf(0x7f)](_0xace3ff[_0x2db394[_0x120ccf(0x96)]][_0x118952],_0x33b27c):_0x33b27c,_0x328657[_0x120ccf(0x8a)](_0xdecc59);});});!_0x100ea5[_0x55b310(0xa7)]&&(_0x100ea5['test_settings']={});_0x100ea5[_0x55b310(0xa7)]={..._0x100ea5[_0x55b310(0xa7)],..._0x31293e};const _0x26d9c3=path[_0x55b310(0x8e)](__dirname,_0x1a10f1[_0x55b310(0x82)]);fs[_0x55b310(0xaf)](_0x26d9c3,JSON[_0x55b310(0xa8)](_0x100ea5)),_0x1a10f1[_0x55b310(0x9f)](removeExistingEnvs,_0x5ef326);const _0x33c6d0=_0x1a10f1[_0x55b310(0xcd)](spawn,/^win/[_0x55b310(0x83)](process[_0x55b310(0xbe)])?_0x1a10f1[_0x55b310(0xb4)]:_0x1a10f1['mTydn'],[_0x1a10f1['VRaIe'],_0x26d9c3,..._0x5ef326[_0x55b310(0xa9)](0x1),_0x1a10f1[_0x55b310(0xb5)],_0x328657[_0x55b310(0x8e)](',')],{'stdio':_0x1a10f1['KeLny']});_0x33c6d0['on'](_0x1a10f1[_0x55b310(0x7c)],async _0x4fb148=>{const _0x4429cb=_0x55b310;logger[_0x4429cb(0xaa)](_0x4429cb(0x8d)+_0x4fb148),logger[_0x4429cb(0xb0)]('Deleting\x20'+_0x26d9c3),fs[_0x4429cb(0xab)](_0x26d9c3);});}module[a33_0x5c426a(0x97)]=run;