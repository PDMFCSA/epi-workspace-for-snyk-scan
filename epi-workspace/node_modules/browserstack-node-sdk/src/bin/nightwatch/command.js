#!/usr/bin/env node
'use strict';function a37_0x3ef1(_0x4aea6f,_0x3d7be6){const _0x2a8960=a37_0x2a89();return a37_0x3ef1=function(_0x3ef15b,_0x28ea67){_0x3ef15b=_0x3ef15b-0x1df;let _0x1b1c6e=_0x2a8960[_0x3ef15b];return _0x1b1c6e;},a37_0x3ef1(_0x4aea6f,_0x3d7be6);}const a37_0x217cb3=a37_0x3ef1;(function(_0x5d8295,_0x448808){const _0x201aab=a37_0x3ef1,_0x551636=_0x5d8295();while(!![]){try{const _0x16d9f4=parseInt(_0x201aab(0x210))/0x1*(parseInt(_0x201aab(0x219))/0x2)+-parseInt(_0x201aab(0x203))/0x3+parseInt(_0x201aab(0x1e1))/0x4+parseInt(_0x201aab(0x20e))/0x5+-parseInt(_0x201aab(0x1f3))/0x6+parseInt(_0x201aab(0x221))/0x7+-parseInt(_0x201aab(0x204))/0x8*(parseInt(_0x201aab(0x1f7))/0x9);if(_0x16d9f4===_0x448808)break;else _0x551636['push'](_0x551636['shift']());}catch(_0xfd1e9c){_0x551636['push'](_0x551636['shift']());}}}(a37_0x2a89,0xe719c));function a37_0x2a89(){const _0x4f6de1=['platforms','test','existsSync','7253720vbfxwe','DRuyZ','findIndex','close','LSOkZ','../../helpers/logger','WxHEq','map','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','join','isUndefined','exports','dIWDK','winstonLogger','filter','../../helpers/helper','stringify','length','4583520DwAlAY','--config','info','path','657fHnLdt','../utils/constants','zhKzt','MPqax','child\x20process\x20exited\x20with\x20code\x20','child_process','useW3C','effHB','getPlatformName','test_settings','Phows','nightwatch','1784079zjBqbh','46504YMmIIz','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','desiredCapabilities','modifyBrowserStackW3CCaps','selenium','../../helpers/BrowserStackSetup','Deleting\x20','DiaBt','xeYLu','forEach','2253755ACuOGC','trim','6qwEbyx','yonpL','zeUHN','config','gOCrB','now','env','debug','nightwatch.conf.js','54694xechsM','PeEQj','splice','woEjl','AGsWg','push','host','webdriver','2109009pTcfjS','modifyBrowserStackCaps','pjkbH','inherit','fNTgQ','hub.browserstack.com','--env','Getting\x20your\x20nightwatch\x20configs\x20from\x20','yVfdO','mergeDeep','writeFileSync','split','cwd'];a37_0x2a89=function(){return _0x4f6de1;};return a37_0x2a89();}const fs=require('fs'),path=require(a37_0x217cb3(0x1f6)),{spawn}=require(a37_0x217cb3(0x1fc)),logger=require(a37_0x217cb3(0x1e6))[a37_0x217cb3(0x1ee)],{default:BrowserStackSetup}=require(a37_0x217cb3(0x209)),helper=require(a37_0x217cb3(0x1f0)),constants=require(a37_0x217cb3(0x1f8)),getUserNightwatchConfigs=(_0x2818ec,_0x24cd4e)=>{const _0x5a40a6=a37_0x217cb3,_0x31876c={'PeEQj':_0x5a40a6(0x218),'gOCrB':'nightwatch.json','JeHsw':function(_0x1a2bde,_0x4b813c){return _0x1a2bde(_0x4b813c);},'yVfdO':_0x5a40a6(0x1e9)};let _0x59699c=null,_0x4775f4={};const _0x1681b0=_0x24cd4e[_0x5a40a6(0x1e3)](_0x369741=>_0x369741===_0x5a40a6(0x1f4));if(!helper[_0x5a40a6(0x1eb)](_0x2818ec[_0x5a40a6(0x213)])&&fs[_0x5a40a6(0x1e0)](path[_0x5a40a6(0x1ea)](process[_0x5a40a6(0x22d)](),_0x2818ec[_0x5a40a6(0x213)])))_0x59699c=path[_0x5a40a6(0x1ea)](process[_0x5a40a6(0x22d)](),_0x2818ec[_0x5a40a6(0x213)]),_0x24cd4e[_0x5a40a6(0x21b)](_0x1681b0,0x2);else{if(fs['existsSync'](path[_0x5a40a6(0x1ea)](process[_0x5a40a6(0x22d)](),_0x31876c[_0x5a40a6(0x21a)])))_0x59699c=path['join'](process[_0x5a40a6(0x22d)](),_0x31876c[_0x5a40a6(0x21a)]);else fs[_0x5a40a6(0x1e0)](path['join'](process[_0x5a40a6(0x22d)](),_0x31876c[_0x5a40a6(0x214)]))&&(_0x59699c=path['join'](process[_0x5a40a6(0x22d)](),_0x31876c[_0x5a40a6(0x214)]));}return _0x59699c?(logger[_0x5a40a6(0x1f5)](_0x5a40a6(0x228)+_0x59699c),_0x4775f4=_0x31876c['JeHsw'](require,_0x59699c)):logger[_0x5a40a6(0x1f5)](_0x31876c[_0x5a40a6(0x229)]),_0x4775f4;},removeExistingEnvs=_0x1ce99a=>{const _0x1fe263=a37_0x217cb3,_0x6ff02a={};_0x6ff02a[_0x1fe263(0x212)]=function(_0x2f98a0,_0x146718){return _0x2f98a0>_0x146718;};const _0x3661ad=_0x6ff02a;let _0x1690be=_0x1ce99a[_0x1fe263(0x1e3)](_0x4809a1=>_0x4809a1===_0x1fe263(0x227));_0x3661ad['zeUHN'](_0x1690be,-0x1)&&_0x1ce99a[_0x1fe263(0x21b)](_0x1690be,0x2),_0x1690be=_0x1ce99a[_0x1fe263(0x1e3)](_0x5e9310=>_0x5e9310==='-e'),_0x3661ad[_0x1fe263(0x212)](_0x1690be,-0x1)&&_0x1ce99a['splice'](_0x1690be,0x2);};function run(_0x5b92a6,_0x3b102f,_0x2a32dc){const _0x4eee23=a37_0x217cb3,_0x21b6f1={'xeYLu':_0x4eee23(0x202),'zhKzt':function(_0x3f69de,_0x8b92dd){return _0x3f69de+_0x8b92dd;},'fNTgQ':_0x4eee23(0x200),'Phows':function(_0x335354,_0x19b4c3,_0x10d0ef){return _0x335354(_0x19b4c3,_0x10d0ef);},'SWrAz':_0x4eee23(0x226),'oZnSV':_0x4eee23(0x205),'AGsWg':function(_0x35d515,_0x5c0b37){return _0x35d515===_0x5c0b37;},'DiaBt':'nightwatch-browserstack.json','DRuyZ':function(_0x20bf4a,_0x30436c){return _0x20bf4a(_0x30436c);},'yonpL':function(_0x3c71e4,_0x383b2c,_0x1c544c,_0x4541c1){return _0x3c71e4(_0x383b2c,_0x1c544c,_0x4541c1);},'pjkbH':'nightwatch.cmd','dIWDK':_0x4eee23(0x1f4),'WxHEq':_0x4eee23(0x227),'effHB':_0x4eee23(0x224),'woEjl':_0x4eee23(0x1e4)};if(!_0x2a32dc[_0x4eee23(0x213)])return;const _0x240063=_0x21b6f1[_0x4eee23(0x201)](getUserNightwatchConfigs,_0x5b92a6,_0x3b102f),_0xdba970={};_0xdba970['start_process']=![];const _0x25fba5={};_0x25fba5[_0x4eee23(0x21f)]=_0x21b6f1['SWrAz'],_0x25fba5['port']=0x1bb;const _0x32ce98={};_0x32ce98[_0x4eee23(0x220)]=_0xdba970,_0x32ce98[_0x4eee23(0x208)]=_0x25fba5;const _0x223672=_0x32ce98;logger['info'](_0x21b6f1['oZnSV']);const _0x38109e={..._0x240063},_0x1d85b6=_0x38109e,_0x14ac80=helper[_0x4eee23(0x1fd)](_0x2a32dc[_0x4eee23(0x213)]),_0x4d2844=[];_0x2a32dc[_0x4eee23(0x213)][_0x4eee23(0x22e)][_0x4eee23(0x20d)]((_0x24d67e,_0x283615)=>{const _0x374b24=_0x4eee23;_0x14ac80?_0x4d2844[_0x374b24(0x21e)](helper[_0x374b24(0x207)](_0x2a32dc['config'],_0x21b6f1[_0x374b24(0x20c)],_0x283615)):_0x4d2844['push'](helper[_0x374b24(0x222)](_0x2a32dc['config'],_0x21b6f1[_0x374b24(0x20c)],_0x283615));});const _0x2fadfb={},_0x101d3b=[];_0x5b92a6[_0x4eee23(0x216)]=_0x5b92a6['env']||_0x5b92a6['e'];const _0x32a259=_0x5b92a6[_0x4eee23(0x216)]?_0x5b92a6[_0x4eee23(0x216)][_0x4eee23(0x20f)]()[_0x4eee23(0x22c)](',')[_0x4eee23(0x1e8)](_0x3954d9=>_0x3954d9[_0x4eee23(0x20f)]())[_0x4eee23(0x1ef)](_0x50ffa7=>_0x50ffa7!==''):[''];_0x21b6f1[_0x4eee23(0x21d)](_0x32a259[_0x4eee23(0x1f2)],0x0)&&_0x32a259['push']('');_0x32a259['forEach'](_0x27ce64=>{const _0x1a0376=_0x4eee23,_0x3b6953={'MPqax':function(_0x20eb68,_0x3e4bbb){const _0x2d1576=a37_0x3ef1;return _0x21b6f1[_0x2d1576(0x1f9)](_0x20eb68,_0x3e4bbb);},'LSOkZ':_0x21b6f1[_0x1a0376(0x225)]};_0x4d2844[_0x1a0376(0x20d)](_0x456d20=>{const _0x4a317d=_0x1a0376;let _0x409030=_0x3b6953[_0x4a317d(0x1fa)](helper[_0x4a317d(0x1ff)](_0x456d20,'_'),'_'+Date[_0x4a317d(0x215)]());_0x27ce64&&(_0x409030+='_'+_0x27ce64);if(_0x27ce64&&(!_0x240063[_0x3b6953[_0x4a317d(0x1e5)]]||!_0x240063[_0x3b6953['LSOkZ']][_0x27ce64]))return;const _0x25c6a4={..._0x223672};_0x25c6a4[_0x4a317d(0x206)]=_0x456d20;const _0x307f6a=_0x25c6a4;_0x2fadfb[_0x409030]=_0x27ce64?helper[_0x4a317d(0x22a)](_0x240063[_0x3b6953[_0x4a317d(0x1e5)]][_0x27ce64],_0x307f6a):_0x307f6a,_0x101d3b[_0x4a317d(0x21e)](_0x409030);});});!_0x1d85b6['test_settings']&&(_0x1d85b6[_0x4eee23(0x200)]={});_0x1d85b6[_0x4eee23(0x200)]={..._0x1d85b6[_0x4eee23(0x200)],..._0x2fadfb};const _0x47e239=path[_0x4eee23(0x1ea)](__dirname,_0x21b6f1[_0x4eee23(0x20b)]);fs[_0x4eee23(0x22b)](_0x47e239,JSON[_0x4eee23(0x1f1)](_0x1d85b6)),_0x21b6f1[_0x4eee23(0x1e2)](removeExistingEnvs,_0x3b102f);const _0x1a8b3f=_0x21b6f1[_0x4eee23(0x211)](spawn,/^win/[_0x4eee23(0x1df)](process['platform'])?_0x21b6f1[_0x4eee23(0x223)]:_0x21b6f1[_0x4eee23(0x20c)],[_0x21b6f1[_0x4eee23(0x1ed)],_0x47e239,..._0x3b102f['slice'](0x1),_0x21b6f1[_0x4eee23(0x1e7)],_0x101d3b[_0x4eee23(0x1ea)](',')],{'stdio':_0x21b6f1[_0x4eee23(0x1fe)]});_0x1a8b3f['on'](_0x21b6f1[_0x4eee23(0x21c)],async _0x4a78b7=>{const _0x378958=_0x4eee23;logger[_0x378958(0x217)](_0x378958(0x1fb)+_0x4a78b7),logger[_0x378958(0x1f5)](_0x378958(0x20a)+_0x47e239),fs['unlinkSync'](_0x47e239);});}module[a37_0x217cb3(0x1ec)]=run;