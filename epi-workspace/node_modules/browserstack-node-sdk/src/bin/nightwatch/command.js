#!/usr/bin/env node
'use strict';const a33_0x4d194c=a33_0x3a9b;(function(_0x28568c,_0x6a1c26){const _0x2c67ab=a33_0x3a9b,_0x3ff2b9=_0x28568c();while(!![]){try{const _0x5057e1=-parseInt(_0x2c67ab(0x14d))/0x1*(-parseInt(_0x2c67ab(0x151))/0x2)+-parseInt(_0x2c67ab(0x127))/0x3+parseInt(_0x2c67ab(0x15b))/0x4*(-parseInt(_0x2c67ab(0x128))/0x5)+parseInt(_0x2c67ab(0x13b))/0x6+-parseInt(_0x2c67ab(0x13f))/0x7*(parseInt(_0x2c67ab(0x153))/0x8)+parseInt(_0x2c67ab(0x156))/0x9*(-parseInt(_0x2c67ab(0x119))/0xa)+parseInt(_0x2c67ab(0x148))/0xb*(parseInt(_0x2c67ab(0x131))/0xc);if(_0x5057e1===_0x6a1c26)break;else _0x3ff2b9['push'](_0x3ff2b9['shift']());}catch(_0x42ffb5){_0x3ff2b9['push'](_0x3ff2b9['shift']());}}}(a33_0x3c52,0xda106));const fs=require('fs'),path=require('path'),{spawn}=require('child_process'),logger=require(a33_0x4d194c(0x116))['winstonLogger'],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a33_0x4d194c(0x149)),constants=require(a33_0x4d194c(0x122)),getUserNightwatchConfigs=(_0x5768cc,_0x47e6f9)=>{const _0x20532b=a33_0x4d194c,_0x214977={'ddiGF':_0x20532b(0x11b),'KRjvZ':_0x20532b(0x12b),'lcyaR':function(_0x40ba67,_0x4c0471){return _0x40ba67(_0x4c0471);},'DZOgQ':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x1d3638=null,_0x18e379={};const _0x524cc5=_0x47e6f9[_0x20532b(0x12f)](_0x2753d5=>_0x2753d5===_0x20532b(0x11e));if(!helper[_0x20532b(0x162)](_0x5768cc[_0x20532b(0x126)])&&fs[_0x20532b(0x125)](path[_0x20532b(0x137)](process[_0x20532b(0x136)](),_0x5768cc[_0x20532b(0x126)])))_0x1d3638=path[_0x20532b(0x137)](process[_0x20532b(0x136)](),_0x5768cc[_0x20532b(0x126)]),_0x47e6f9[_0x20532b(0x155)](_0x524cc5,0x2);else{if(fs[_0x20532b(0x125)](path[_0x20532b(0x137)](process[_0x20532b(0x136)](),_0x214977[_0x20532b(0x144)])))_0x1d3638=path['join'](process[_0x20532b(0x136)](),_0x214977[_0x20532b(0x144)]);else fs[_0x20532b(0x125)](path[_0x20532b(0x137)](process[_0x20532b(0x136)](),_0x214977[_0x20532b(0x11a)]))&&(_0x1d3638=path[_0x20532b(0x137)](process[_0x20532b(0x136)](),_0x214977[_0x20532b(0x11a)]));}return _0x1d3638?(logger['info'](_0x20532b(0x15c)+_0x1d3638),_0x18e379=_0x214977[_0x20532b(0x11c)](require,_0x1d3638)):logger['info'](_0x214977['DZOgQ']),_0x18e379;},removeExistingEnvs=_0x2c24f6=>{const _0x573c55=a33_0x4d194c,_0x4533a6={};_0x4533a6[_0x573c55(0x140)]=function(_0x4238c8,_0x23bb99){return _0x4238c8>_0x23bb99;};const _0x20e5fd=_0x4533a6;let _0x2e5e44=_0x2c24f6[_0x573c55(0x12f)](_0x5bafa4=>_0x5bafa4===_0x573c55(0x15f));_0x20e5fd['gkBtp'](_0x2e5e44,-0x1)&&_0x2c24f6[_0x573c55(0x155)](_0x2e5e44,0x2),_0x2e5e44=_0x2c24f6[_0x573c55(0x12f)](_0x3aec32=>_0x3aec32==='-e'),_0x20e5fd[_0x573c55(0x140)](_0x2e5e44,-0x1)&&_0x2c24f6[_0x573c55(0x155)](_0x2e5e44,0x2);};function a33_0x3a9b(_0x3b9b83,_0x462e37){const _0x3c521d=a33_0x3c52();return a33_0x3a9b=function(_0x3a9bab,_0x2f8799){_0x3a9bab=_0x3a9bab-0x116;let _0x56f66b=_0x3c521d[_0x3a9bab];return _0x56f66b;},a33_0x3a9b(_0x3b9b83,_0x462e37);}function run(_0x77da5d,_0x1a5728){const _0x3fd252=a33_0x4d194c,_0x3f4313={'OMZOl':_0x3fd252(0x138),'QLhRq':function(_0x2dfbbc,_0x16665f){return _0x2dfbbc+_0x16665f;},'UkICj':'test_settings','aOdFa':function(_0x31520e,_0x527085,_0xadbe01){return _0x31520e(_0x527085,_0xadbe01);},'uhRAW':_0x3fd252(0x161),'KOvjd':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','tRadn':function(_0x643fbf,_0x3e0cab){return _0x643fbf===_0x3e0cab;},'zGSuc':'nightwatch-browserstack.json','JNPhg':function(_0x31b95c,_0x239adc){return _0x31b95c(_0x239adc);},'sItSS':function(_0x175994,_0x5f1f46,_0x272d8d,_0x1e9af1){return _0x175994(_0x5f1f46,_0x272d8d,_0x1e9af1);},'BKGMf':_0x3fd252(0x133),'gPDtU':_0x3fd252(0x11e),'kVwNQ':_0x3fd252(0x15f),'jDGtS':'inherit','RxCwB':'close'},_0x2b5eee=new BrowserStackSetup(_0x77da5d);if(!_0x2b5eee['config'])return;const _0x15bb02=_0x3f4313[_0x3fd252(0x121)](getUserNightwatchConfigs,_0x77da5d,_0x1a5728),_0x166626={};_0x166626[_0x3fd252(0x15e)]=![];const _0x411c45={};_0x411c45['host']=_0x3f4313[_0x3fd252(0x13e)],_0x411c45[_0x3fd252(0x13c)]=0x1bb;const _0x445e97={};_0x445e97[_0x3fd252(0x12e)]=_0x166626,_0x445e97[_0x3fd252(0x152)]=_0x411c45;const _0x931782=_0x445e97;logger[_0x3fd252(0x143)](_0x3f4313[_0x3fd252(0x132)]);const _0x227b86={..._0x15bb02},_0xb41762=_0x227b86,_0x4b08c4=helper[_0x3fd252(0x14f)](_0x2b5eee[_0x3fd252(0x126)]),_0x29edd0=[];_0x2b5eee[_0x3fd252(0x126)][_0x3fd252(0x117)][_0x3fd252(0x130)]((_0xc12b47,_0x171c87)=>{const _0x4c655c=_0x3fd252;_0x4b08c4?_0x29edd0[_0x4c655c(0x14a)](helper[_0x4c655c(0x158)](_0x2b5eee['config'],_0x3f4313[_0x4c655c(0x15a)],_0x171c87)):_0x29edd0[_0x4c655c(0x14a)](helper[_0x4c655c(0x12a)](_0x2b5eee['config'],_0x3f4313['OMZOl'],_0x171c87));});const _0x446685={},_0x11e4c6=[];_0x77da5d[_0x3fd252(0x11d)]=_0x77da5d[_0x3fd252(0x11d)]||_0x77da5d['e'];const _0x37d620=_0x77da5d['env']?_0x77da5d[_0x3fd252(0x11d)][_0x3fd252(0x157)]()[_0x3fd252(0x160)](',')['map'](_0x558aa6=>_0x558aa6['trim']())[_0x3fd252(0x147)](_0x2960c=>_0x2960c!==''):[''];_0x3f4313[_0x3fd252(0x12d)](_0x37d620[_0x3fd252(0x13a)],0x0)&&_0x37d620[_0x3fd252(0x14a)]('');_0x37d620[_0x3fd252(0x130)](_0x24df92=>{const _0x2fd915=_0x3fd252,_0x301973={'RQnjk':function(_0x501c02,_0x2676bb){const _0x3247c3=a33_0x3a9b;return _0x3f4313[_0x3247c3(0x139)](_0x501c02,_0x2676bb);},'Qaahg':_0x3f4313[_0x2fd915(0x150)]};_0x29edd0[_0x2fd915(0x130)](_0xb45ec0=>{const _0x23bcbf=_0x2fd915;let _0x4722cc=_0x301973[_0x23bcbf(0x118)](helper[_0x23bcbf(0x134)](_0xb45ec0,'_'),'_'+Date[_0x23bcbf(0x11f)]());_0x24df92&&(_0x4722cc+='_'+_0x24df92);if(_0x24df92&&(!_0x15bb02[_0x301973[_0x23bcbf(0x142)]]||!_0x15bb02[_0x301973['Qaahg']][_0x24df92]))return;const _0x58861f={..._0x931782};_0x58861f[_0x23bcbf(0x159)]=_0xb45ec0;const _0xc6eb4f=_0x58861f;_0x446685[_0x4722cc]=_0x24df92?helper[_0x23bcbf(0x146)](_0x15bb02[_0x301973[_0x23bcbf(0x142)]][_0x24df92],_0xc6eb4f):_0xc6eb4f,_0x11e4c6['push'](_0x4722cc);});});!_0xb41762[_0x3fd252(0x14b)]&&(_0xb41762['test_settings']={});_0xb41762[_0x3fd252(0x14b)]={..._0xb41762['test_settings'],..._0x446685};const _0x36dbc6=path[_0x3fd252(0x137)](__dirname,_0x3f4313['zGSuc']);fs[_0x3fd252(0x141)](_0x36dbc6,JSON[_0x3fd252(0x12c)](_0xb41762)),_0x3f4313[_0x3fd252(0x123)](removeExistingEnvs,_0x1a5728);const _0x2b2eb0=_0x3f4313['sItSS'](spawn,/^win/[_0x3fd252(0x154)](process[_0x3fd252(0x13d)])?_0x3f4313['BKGMf']:_0x3f4313[_0x3fd252(0x15a)],[_0x3f4313[_0x3fd252(0x120)],_0x36dbc6,..._0x1a5728[_0x3fd252(0x15d)](0x1),_0x3f4313[_0x3fd252(0x124)],_0x11e4c6['join'](',')],{'stdio':_0x3f4313[_0x3fd252(0x145)]});_0x2b2eb0['on'](_0x3f4313[_0x3fd252(0x14e)],async _0x110c18=>{const _0xcb77b3=_0x3fd252;logger[_0xcb77b3(0x135)](_0xcb77b3(0x129)+_0x110c18),logger[_0xcb77b3(0x143)](_0xcb77b3(0x14c)+_0x36dbc6),fs['unlinkSync'](_0x36dbc6);});}function a33_0x3c52(){const _0x2ec21b=['webdriver','findIndex','forEach','36vfNFNc','KOvjd','nightwatch.cmd','getPlatformName','debug','cwd','join','nightwatch','QLhRq','length','3824148TbdtCj','port','platform','uhRAW','2863QwswXe','gkBtp','writeFileSync','Qaahg','info','ddiGF','jDGtS','mergeDeep','filter','4750691cQIBlF','../../helpers/helper','push','test_settings','Deleting\x20','5ApdXsw','RxCwB','useW3C','UkICj','420422tqIKmw','selenium','13544MOippd','test','splice','146187nqLACM','trim','modifyBrowserStackW3CCaps','desiredCapabilities','OMZOl','12ggiiVH','Getting\x20your\x20nightwatch\x20configs\x20from\x20','slice','start_process','--env','split','hub.browserstack.com','isUndefined','../../helpers/logger','platforms','RQnjk','380lJygLB','KRjvZ','nightwatch.conf.js','lcyaR','env','--config','now','gPDtU','aOdFa','../utils/constants','JNPhg','kVwNQ','existsSync','config','2131356GwHbjS','117905MYOIlE','child\x20process\x20exited\x20with\x20code\x20','modifyBrowserStackCaps','nightwatch.json','stringify','tRadn'];a33_0x3c52=function(){return _0x2ec21b;};return a33_0x3c52();}module['exports']=run;