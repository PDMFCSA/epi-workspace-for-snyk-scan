#!/usr/bin/env node
'use strict';const a37_0xd284fc=a37_0x50bb;(function(_0x41581c,_0x338bf0){const _0x1121d1=a37_0x50bb,_0x584b74=_0x41581c();while(!![]){try{const _0x1fe9e0=-parseInt(_0x1121d1(0x85))/0x1+parseInt(_0x1121d1(0x73))/0x2*(-parseInt(_0x1121d1(0x88))/0x3)+-parseInt(_0x1121d1(0xa1))/0x4*(parseInt(_0x1121d1(0xa7))/0x5)+-parseInt(_0x1121d1(0x9f))/0x6+parseInt(_0x1121d1(0xb9))/0x7*(parseInt(_0x1121d1(0x92))/0x8)+-parseInt(_0x1121d1(0x8a))/0x9+-parseInt(_0x1121d1(0x9a))/0xa*(-parseInt(_0x1121d1(0x71))/0xb);if(_0x1fe9e0===_0x338bf0)break;else _0x584b74['push'](_0x584b74['shift']());}catch(_0x859bd3){_0x584b74['push'](_0x584b74['shift']());}}}(a37_0x49e1,0x60326));function a37_0x49e1(){const _0x3565e0=['pzMwR','slice','config','TCOuy','modifyBrowserStackW3CCaps','isUndefined','port','platforms','VKHlo','EfThT','EEaIW','blbsT','hub.browserstack.com','forEach','5831dIKbEG','length','webdriver','51qmqXPz','debug','2855007BkjGFR','nightwatch','now','child\x20process\x20exited\x20with\x20code\x20','winstonLogger','mergeDeep','--config','hYLfy','466280HnTFhZ','filter','EArZk','map','env','Deleting\x20','info','KHcMz','90kAVDnl','push','child_process','writeFileSync','join','1722096WSquiR','VqXsF','1128ydigaC','../utils/constants','uVSyN','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','cwd','stringify','13440OvHnHB','XfJmf','NphNS','splice','Getting\x20your\x20nightwatch\x20configs\x20from\x20','nightwatch.cmd','fNkte','BTfGA','host','close','trim','exports','nightwatch.conf.js','BwNnY','start_process','../../helpers/BrowserStackSetup','split','--env','14rOWzKd','uICfb','inherit','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','2399155OUSQbC','findIndex','37342SweAnu','getPlatformName','test_settings','existsSync'];a37_0x49e1=function(){return _0x3565e0;};return a37_0x49e1();}const fs=require('fs'),path=require('path'),{spawn}=require(a37_0xd284fc(0x9c)),logger=require('../../helpers/logger')[a37_0xd284fc(0x8e)],{default:BrowserStackSetup}=require(a37_0xd284fc(0xb6)),helper=require('../../helpers/helper'),constants=require(a37_0xd284fc(0xa2)),getUserNightwatchConfigs=(_0x64b762,_0x4f327d)=>{const _0x34a05b=a37_0xd284fc,_0x169c29={'TCOuy':_0x34a05b(0xb3),'BwNnY':'nightwatch.json','ODRNm':function(_0x37e52f,_0x3d6504){return _0x37e52f(_0x3d6504);},'VqXsF':_0x34a05b(0xbc)};let _0x4052f1=null,_0x3898d8={};const _0x567eda=_0x4f327d[_0x34a05b(0x72)](_0x2f8a7d=>_0x2f8a7d===_0x34a05b(0x90));if(!helper[_0x34a05b(0x7c)](_0x64b762['config'])&&fs['existsSync'](path[_0x34a05b(0x9e)](process[_0x34a05b(0xa5)](),_0x64b762[_0x34a05b(0x79)])))_0x4052f1=path[_0x34a05b(0x9e)](process[_0x34a05b(0xa5)](),_0x64b762[_0x34a05b(0x79)]),_0x4f327d[_0x34a05b(0xaa)](_0x567eda,0x2);else{if(fs[_0x34a05b(0x76)](path['join'](process[_0x34a05b(0xa5)](),_0x169c29['TCOuy'])))_0x4052f1=path['join'](process[_0x34a05b(0xa5)](),_0x169c29[_0x34a05b(0x7a)]);else fs['existsSync'](path[_0x34a05b(0x9e)](process[_0x34a05b(0xa5)](),_0x169c29[_0x34a05b(0xb4)]))&&(_0x4052f1=path[_0x34a05b(0x9e)](process[_0x34a05b(0xa5)](),_0x169c29[_0x34a05b(0xb4)]));}return _0x4052f1?(logger[_0x34a05b(0x98)](_0x34a05b(0xab)+_0x4052f1),_0x3898d8=_0x169c29['ODRNm'](require,_0x4052f1)):logger[_0x34a05b(0x98)](_0x169c29[_0x34a05b(0xa0)]),_0x3898d8;},removeExistingEnvs=_0x1cb798=>{const _0x18f8e6=a37_0xd284fc,_0xde22cf={};_0xde22cf[_0x18f8e6(0xae)]=function(_0x34097e,_0x4faadf){return _0x34097e>_0x4faadf;},_0xde22cf['blbsT']=function(_0x1b0c92,_0x4cdd30){return _0x1b0c92>_0x4cdd30;};const _0x3fe456=_0xde22cf;let _0x12e212=_0x1cb798[_0x18f8e6(0x72)](_0x2bff4a=>_0x2bff4a===_0x18f8e6(0xb8));_0x3fe456[_0x18f8e6(0xae)](_0x12e212,-0x1)&&_0x1cb798[_0x18f8e6(0xaa)](_0x12e212,0x2),_0x12e212=_0x1cb798[_0x18f8e6(0x72)](_0x2de727=>_0x2de727==='-e'),_0x3fe456[_0x18f8e6(0x82)](_0x12e212,-0x1)&&_0x1cb798[_0x18f8e6(0xaa)](_0x12e212,0x2);};function run(_0x232776,_0x16f036,_0xa0453c){const _0x77021b=a37_0xd284fc,_0xdcad28={'hYLfy':_0x77021b(0x8b),'EfThT':function(_0x437f8a,_0x734f28){return _0x437f8a+_0x734f28;},'EArZk':_0x77021b(0x75),'uICfb':function(_0x481d69,_0x385558,_0x87385){return _0x481d69(_0x385558,_0x87385);},'JlacI':_0x77021b(0x83),'KHcMz':_0x77021b(0xa4),'NphNS':function(_0x3bdc93,_0x487a40){return _0x3bdc93===_0x487a40;},'EEaIW':'nightwatch-browserstack.json','NqafE':function(_0x5355ae,_0x37a306){return _0x5355ae(_0x37a306);},'uVSyN':function(_0x49c919,_0x22ef37,_0xd07152,_0x2d0925){return _0x49c919(_0x22ef37,_0xd07152,_0x2d0925);},'pzMwR':_0x77021b(0xac),'XEAEA':_0x77021b(0x90),'VKHlo':_0x77021b(0xb8),'fNkte':_0x77021b(0xbb),'XfJmf':_0x77021b(0xb0)};if(!_0xa0453c[_0x77021b(0x79)])return;const _0x4ce1b9=_0xdcad28[_0x77021b(0xba)](getUserNightwatchConfigs,_0x232776,_0x16f036),_0x8dd75c={};_0x8dd75c[_0x77021b(0xb5)]=![];const _0x4935db={};_0x4935db[_0x77021b(0xaf)]=_0xdcad28['JlacI'],_0x4935db[_0x77021b(0x7d)]=0x1bb;const _0x1801db={};_0x1801db[_0x77021b(0x87)]=_0x8dd75c,_0x1801db['selenium']=_0x4935db;const _0xe54995=_0x1801db;logger['info'](_0xdcad28[_0x77021b(0x99)]);const _0x3e6800={..._0x4ce1b9},_0x5a480c=_0x3e6800,_0x37d61e=helper['useW3C'](_0xa0453c['config']),_0x15b65e=[];_0xa0453c[_0x77021b(0x79)][_0x77021b(0x7e)][_0x77021b(0x84)]((_0x3baa1d,_0x26145f)=>{const _0x37c280=_0x77021b;_0x37d61e?_0x15b65e[_0x37c280(0x9b)](helper[_0x37c280(0x7b)](_0xa0453c['config'],_0xdcad28[_0x37c280(0x91)],_0x26145f)):_0x15b65e['push'](helper['modifyBrowserStackCaps'](_0xa0453c['config'],_0xdcad28[_0x37c280(0x91)],_0x26145f));});const _0x5a6617={},_0x51e6f3=[];_0x232776[_0x77021b(0x96)]=_0x232776[_0x77021b(0x96)]||_0x232776['e'];const _0x333284=_0x232776[_0x77021b(0x96)]?_0x232776[_0x77021b(0x96)][_0x77021b(0xb1)]()[_0x77021b(0xb7)](',')[_0x77021b(0x95)](_0x2552a0=>_0x2552a0[_0x77021b(0xb1)]())[_0x77021b(0x93)](_0x1b4fdb=>_0x1b4fdb!==''):[''];_0xdcad28[_0x77021b(0xa9)](_0x333284[_0x77021b(0x86)],0x0)&&_0x333284[_0x77021b(0x9b)]('');_0x333284['forEach'](_0x409fab=>{_0x15b65e['forEach'](_0x4dbae3=>{const _0x5e07b3=a37_0x50bb;let _0x2bff07=_0xdcad28[_0x5e07b3(0x80)](helper[_0x5e07b3(0x74)](_0x4dbae3,'_'),'_'+Date[_0x5e07b3(0x8c)]());_0x409fab&&(_0x2bff07+='_'+_0x409fab);if(_0x409fab&&(!_0x4ce1b9[_0xdcad28['EArZk']]||!_0x4ce1b9[_0xdcad28[_0x5e07b3(0x94)]][_0x409fab]))return;const _0x4a634b={..._0xe54995};_0x4a634b['desiredCapabilities']=_0x4dbae3;const _0x50438a=_0x4a634b;_0x5a6617[_0x2bff07]=_0x409fab?helper[_0x5e07b3(0x8f)](_0x4ce1b9[_0xdcad28[_0x5e07b3(0x94)]][_0x409fab],_0x50438a):_0x50438a,_0x51e6f3[_0x5e07b3(0x9b)](_0x2bff07);});});!_0x5a480c[_0x77021b(0x75)]&&(_0x5a480c[_0x77021b(0x75)]={});_0x5a480c[_0x77021b(0x75)]={..._0x5a480c[_0x77021b(0x75)],..._0x5a6617};const _0x1c6645=path[_0x77021b(0x9e)](__dirname,_0xdcad28[_0x77021b(0x81)]);fs[_0x77021b(0x9d)](_0x1c6645,JSON[_0x77021b(0xa6)](_0x5a480c)),_0xdcad28['NqafE'](removeExistingEnvs,_0x16f036);const _0x41f5f2=_0xdcad28[_0x77021b(0xa3)](spawn,/^win/['test'](process['platform'])?_0xdcad28[_0x77021b(0x77)]:_0xdcad28[_0x77021b(0x91)],[_0xdcad28['XEAEA'],_0x1c6645,..._0x16f036[_0x77021b(0x78)](0x1),_0xdcad28[_0x77021b(0x7f)],_0x51e6f3[_0x77021b(0x9e)](',')],{'stdio':_0xdcad28[_0x77021b(0xad)]});_0x41f5f2['on'](_0xdcad28[_0x77021b(0xa8)],async _0x4b8495=>{const _0x7bdf6e=_0x77021b;logger[_0x7bdf6e(0x89)](_0x7bdf6e(0x8d)+_0x4b8495),logger[_0x7bdf6e(0x98)](_0x7bdf6e(0x97)+_0x1c6645),fs['unlinkSync'](_0x1c6645);});}function a37_0x50bb(_0x883914,_0x1a7e63){const _0x49e134=a37_0x49e1();return a37_0x50bb=function(_0x50bb0d,_0x3fe979){_0x50bb0d=_0x50bb0d-0x71;let _0xde4895=_0x49e134[_0x50bb0d];return _0xde4895;},a37_0x50bb(_0x883914,_0x1a7e63);}module[a37_0xd284fc(0xb2)]=run;