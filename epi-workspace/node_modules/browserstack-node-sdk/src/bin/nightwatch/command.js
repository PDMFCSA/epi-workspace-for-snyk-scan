#!/usr/bin/env node
'use strict';const a37_0x54aa8f=a37_0x1843;function a37_0x3e82(){const _0x26c374=['stringify','desiredCapabilities','8242160IHHsCy','6835nnptal','ozssw','webdriver','--env','config','split','rqFki','forEach','sFPAt','kQwbg','getPlatformName','cwd','push','winstonLogger','cMYbU','orWhO','81aGyNdJ','35049xrWMDG','UrMDM','platform','LUxDS','gFqfI','hGFDR','eRYZa','trim','78WMZdaH','path','../../helpers/logger','selenium','112nwqYHb','1128zxGdkY','now','nightwatch-browserstack.json','hub.browserstack.com','399370tcelDG','482768wijISG','EKcaM','map','jzFZc','293916raoGmm','Getting\x20your\x20nightwatch\x20configs\x20from\x20','nightwatch.conf.js','env','unlinkSync','uqely','ssEHZ','platforms','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','test_settings','../../helpers/BrowserStackSetup','port','nightwatch.json','--config','join','HFVyl','nightwatch.cmd','debug','host','writeFileSync','../utils/constants','start_process','../../helpers/helper','296UIwIKB','Deleting\x20','info','JeRwS','orMeJ','child\x20process\x20exited\x20with\x20code\x20','4001410JKAwrU','QacSG','splice','slice','modifyBrowserStackW3CCaps','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','existsSync','findIndex'];a37_0x3e82=function(){return _0x26c374;};return a37_0x3e82();}(function(_0x1c2a2d,_0x293799){const _0x48dfe8=a37_0x1843,_0x3de375=_0x1c2a2d();while(!![]){try{const _0x4a7b7f=parseInt(_0x48dfe8(0x189))/0x1*(-parseInt(_0x48dfe8(0x1a2))/0x2)+-parseInt(_0x48dfe8(0x19a))/0x3*(parseInt(_0x48dfe8(0x1c7))/0x4)+-parseInt(_0x48dfe8(0x1cd))/0x5+parseInt(_0x48dfe8(0x1b0))/0x6*(-parseInt(_0x48dfe8(0x1a6))/0x7)+-parseInt(_0x48dfe8(0x188))/0x8+-parseInt(_0x48dfe8(0x199))/0x9*(-parseInt(_0x48dfe8(0x1ab))/0xa)+parseInt(_0x48dfe8(0x1ac))/0xb*(parseInt(_0x48dfe8(0x1a7))/0xc);if(_0x4a7b7f===_0x293799)break;else _0x3de375['push'](_0x3de375['shift']());}catch(_0x4bb9a0){_0x3de375['push'](_0x3de375['shift']());}}}(a37_0x3e82,0xb488e));function a37_0x1843(_0xe24d6,_0x5b31bc){const _0x3e82b5=a37_0x3e82();return a37_0x1843=function(_0x184315,_0x3e25e6){_0x184315=_0x184315-0x180;let _0x3baace=_0x3e82b5[_0x184315];return _0x3baace;},a37_0x1843(_0xe24d6,_0x5b31bc);}const fs=require('fs'),path=require(a37_0x54aa8f(0x1a3)),{spawn}=require('child_process'),logger=require(a37_0x54aa8f(0x1a4))[a37_0x54aa8f(0x196)],{default:BrowserStackSetup}=require(a37_0x54aa8f(0x1ba)),helper=require(a37_0x54aa8f(0x1c6)),constants=require(a37_0x54aa8f(0x1c4)),getUserNightwatchConfigs=(_0x5df752,_0x21ffd1)=>{const _0x25d0d1=a37_0x54aa8f,_0xf74f9={'LUxDS':_0x25d0d1(0x1b2),'QacSG':_0x25d0d1(0x1bc),'ssEHZ':function(_0x13cbcc,_0xac66b1){return _0x13cbcc(_0xac66b1);},'cMYbU':_0x25d0d1(0x1b8)};let _0xbdab21=null,_0x222756={};const _0xd98e74=_0x21ffd1[_0x25d0d1(0x185)](_0x21078c=>_0x21078c===_0x25d0d1(0x1bd));if(!helper['isUndefined'](_0x5df752[_0x25d0d1(0x18d)])&&fs[_0x25d0d1(0x184)](path[_0x25d0d1(0x1be)](process[_0x25d0d1(0x194)](),_0x5df752[_0x25d0d1(0x18d)])))_0xbdab21=path[_0x25d0d1(0x1be)](process['cwd'](),_0x5df752[_0x25d0d1(0x18d)]),_0x21ffd1[_0x25d0d1(0x180)](_0xd98e74,0x2);else{if(fs['existsSync'](path[_0x25d0d1(0x1be)](process[_0x25d0d1(0x194)](),_0xf74f9[_0x25d0d1(0x19d)])))_0xbdab21=path[_0x25d0d1(0x1be)](process[_0x25d0d1(0x194)](),_0xf74f9[_0x25d0d1(0x19d)]);else fs['existsSync'](path['join'](process['cwd'](),_0xf74f9[_0x25d0d1(0x1ce)]))&&(_0xbdab21=path['join'](process['cwd'](),_0xf74f9[_0x25d0d1(0x1ce)]));}return _0xbdab21?(logger['info'](_0x25d0d1(0x1b1)+_0xbdab21),_0x222756=_0xf74f9[_0x25d0d1(0x1b6)](require,_0xbdab21)):logger[_0x25d0d1(0x1c9)](_0xf74f9[_0x25d0d1(0x197)]),_0x222756;},removeExistingEnvs=_0x5a0ade=>{const _0x2a5189=a37_0x54aa8f,_0xcd014={};_0xcd014['rqFki']=function(_0x311cb2,_0x4ef7a7){return _0x311cb2>_0x4ef7a7;},_0xcd014['UrMDM']=function(_0x26fc0c,_0x4d1f26){return _0x26fc0c>_0x4d1f26;};const _0x4007e6=_0xcd014;let _0x2d9a39=_0x5a0ade[_0x2a5189(0x185)](_0x241425=>_0x241425===_0x2a5189(0x18c));_0x4007e6[_0x2a5189(0x18f)](_0x2d9a39,-0x1)&&_0x5a0ade[_0x2a5189(0x180)](_0x2d9a39,0x2),_0x2d9a39=_0x5a0ade[_0x2a5189(0x185)](_0xab40af=>_0xab40af==='-e'),_0x4007e6[_0x2a5189(0x19b)](_0x2d9a39,-0x1)&&_0x5a0ade[_0x2a5189(0x180)](_0x2d9a39,0x2);};function run(_0x39adb3,_0x593c1a,_0x5e2ce3){const _0x45f0d9=a37_0x54aa8f,_0xd961c={'HFVyl':'nightwatch','jzFZc':function(_0x458ba2,_0x413d08){return _0x458ba2+_0x413d08;},'hGFDR':'test_settings','sFPAt':function(_0x1b5572,_0xd9a52b,_0x39ce72){return _0x1b5572(_0xd9a52b,_0x39ce72);},'gFqfI':_0x45f0d9(0x1aa),'orMeJ':_0x45f0d9(0x183),'JeRwS':function(_0x11f388,_0x2e5b8a){return _0x11f388===_0x2e5b8a;},'EKcaM':_0x45f0d9(0x1a9),'ozssw':function(_0x1a343b,_0x5f02d8){return _0x1a343b(_0x5f02d8);},'aMRKy':function(_0x2298d6,_0x1c0e73,_0x24dfdf,_0x298c7b){return _0x2298d6(_0x1c0e73,_0x24dfdf,_0x298c7b);},'uqely':_0x45f0d9(0x1c0),'eRYZa':_0x45f0d9(0x1bd),'kQwbg':_0x45f0d9(0x18c),'orWhO':'inherit','TvZve':'close'};if(!_0x5e2ce3[_0x45f0d9(0x18d)])return;const _0x39a735=_0xd961c[_0x45f0d9(0x191)](getUserNightwatchConfigs,_0x39adb3,_0x593c1a),_0x362680={};_0x362680[_0x45f0d9(0x1c5)]=![];const _0x41eabc={};_0x41eabc[_0x45f0d9(0x1c2)]=_0xd961c[_0x45f0d9(0x19e)],_0x41eabc[_0x45f0d9(0x1bb)]=0x1bb;const _0x80f7ef={};_0x80f7ef[_0x45f0d9(0x18b)]=_0x362680,_0x80f7ef[_0x45f0d9(0x1a5)]=_0x41eabc;const _0x138246=_0x80f7ef;logger[_0x45f0d9(0x1c9)](_0xd961c[_0x45f0d9(0x1cb)]);const _0x49dc08={..._0x39a735},_0x209739=_0x49dc08,_0x4d05d3=helper['useW3C'](_0x5e2ce3[_0x45f0d9(0x18d)]),_0x99db2b=[];_0x5e2ce3[_0x45f0d9(0x18d)][_0x45f0d9(0x1b7)][_0x45f0d9(0x190)]((_0x491049,_0x476e9e)=>{const _0x36862f=_0x45f0d9;_0x4d05d3?_0x99db2b[_0x36862f(0x195)](helper[_0x36862f(0x182)](_0x5e2ce3[_0x36862f(0x18d)],_0xd961c[_0x36862f(0x1bf)],_0x476e9e)):_0x99db2b[_0x36862f(0x195)](helper['modifyBrowserStackCaps'](_0x5e2ce3[_0x36862f(0x18d)],_0xd961c[_0x36862f(0x1bf)],_0x476e9e));});const _0x42a99c={},_0x208f7a=[];_0x39adb3[_0x45f0d9(0x1b3)]=_0x39adb3['env']||_0x39adb3['e'];const _0x5daed5=_0x39adb3[_0x45f0d9(0x1b3)]?_0x39adb3[_0x45f0d9(0x1b3)][_0x45f0d9(0x1a1)]()[_0x45f0d9(0x18e)](',')[_0x45f0d9(0x1ae)](_0x464750=>_0x464750[_0x45f0d9(0x1a1)]())['filter'](_0x332c6b=>_0x332c6b!==''):[''];_0xd961c[_0x45f0d9(0x1ca)](_0x5daed5['length'],0x0)&&_0x5daed5[_0x45f0d9(0x195)]('');_0x5daed5[_0x45f0d9(0x190)](_0x118b06=>{const _0x229684=_0x45f0d9;_0x99db2b[_0x229684(0x190)](_0x2b73bf=>{const _0x1a58cb=_0x229684;let _0x449a0d=_0xd961c[_0x1a58cb(0x1af)](helper[_0x1a58cb(0x193)](_0x2b73bf,'_'),'_'+Date[_0x1a58cb(0x1a8)]());_0x118b06&&(_0x449a0d+='_'+_0x118b06);if(_0x118b06&&(!_0x39a735[_0xd961c[_0x1a58cb(0x19f)]]||!_0x39a735[_0xd961c[_0x1a58cb(0x19f)]][_0x118b06]))return;const _0x2d40c9={..._0x138246};_0x2d40c9[_0x1a58cb(0x187)]=_0x2b73bf;const _0x971f9d=_0x2d40c9;_0x42a99c[_0x449a0d]=_0x118b06?helper['mergeDeep'](_0x39a735[_0xd961c[_0x1a58cb(0x19f)]][_0x118b06],_0x971f9d):_0x971f9d,_0x208f7a[_0x1a58cb(0x195)](_0x449a0d);});});!_0x209739[_0x45f0d9(0x1b9)]&&(_0x209739[_0x45f0d9(0x1b9)]={});_0x209739[_0x45f0d9(0x1b9)]={..._0x209739['test_settings'],..._0x42a99c};const _0x55fc8a=path['join'](__dirname,_0xd961c[_0x45f0d9(0x1ad)]);fs[_0x45f0d9(0x1c3)](_0x55fc8a,JSON[_0x45f0d9(0x186)](_0x209739)),_0xd961c[_0x45f0d9(0x18a)](removeExistingEnvs,_0x593c1a);const _0x315d6b=_0xd961c['aMRKy'](spawn,/^win/['test'](process[_0x45f0d9(0x19c)])?_0xd961c[_0x45f0d9(0x1b5)]:_0xd961c[_0x45f0d9(0x1bf)],[_0xd961c[_0x45f0d9(0x1a0)],_0x55fc8a,..._0x593c1a[_0x45f0d9(0x181)](0x1),_0xd961c[_0x45f0d9(0x192)],_0x208f7a[_0x45f0d9(0x1be)](',')],{'stdio':_0xd961c[_0x45f0d9(0x198)]});_0x315d6b['on'](_0xd961c['TvZve'],async _0x1f9688=>{const _0x41a631=_0x45f0d9;logger[_0x41a631(0x1c1)](_0x41a631(0x1cc)+_0x1f9688),logger[_0x41a631(0x1c9)](_0x41a631(0x1c8)+_0x55fc8a),fs[_0x41a631(0x1b4)](_0x55fc8a);});}module['exports']=run;