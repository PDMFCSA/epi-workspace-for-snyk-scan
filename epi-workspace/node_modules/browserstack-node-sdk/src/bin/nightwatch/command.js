#!/usr/bin/env node
'use strict';const a37_0x3bf993=a37_0x3e76;function a37_0x3e76(_0x5b6467,_0x5ae752){const _0x36a805=a37_0x36a8();return a37_0x3e76=function(_0x3e7627,_0x3f651e){_0x3e7627=_0x3e7627-0x16f;let _0x19a22b=_0x36a805[_0x3e7627];return _0x19a22b;},a37_0x3e76(_0x5b6467,_0x5ae752);}(function(_0x52c41b,_0x15da69){const _0x4ff8ba=a37_0x3e76,_0x5da984=_0x52c41b();while(!![]){try{const _0x6a01d6=parseInt(_0x4ff8ba(0x172))/0x1*(-parseInt(_0x4ff8ba(0x197))/0x2)+parseInt(_0x4ff8ba(0x1af))/0x3*(-parseInt(_0x4ff8ba(0x1ac))/0x4)+-parseInt(_0x4ff8ba(0x174))/0x5+-parseInt(_0x4ff8ba(0x17f))/0x6*(parseInt(_0x4ff8ba(0x180))/0x7)+-parseInt(_0x4ff8ba(0x18a))/0x8+-parseInt(_0x4ff8ba(0x191))/0x9*(-parseInt(_0x4ff8ba(0x1a6))/0xa)+parseInt(_0x4ff8ba(0x171))/0xb*(parseInt(_0x4ff8ba(0x17d))/0xc);if(_0x6a01d6===_0x15da69)break;else _0x5da984['push'](_0x5da984['shift']());}catch(_0x90c66f){_0x5da984['push'](_0x5da984['shift']());}}}(a37_0x36a8,0x1b07c));function a37_0x36a8(){const _0x51dbfe=['getPlatformName','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','cwd','info','exports','filter','1379952nVmlbO','close','path','winstonLogger','--env','Psmso','QtMyt','9QkMNwi','iwKVK','stringify','now','modifyBrowserStackW3CCaps','map','2fBLcfl','start_process','child_process','VkTyJ','platforms','test_settings','TNjKq','XOZuO','config','test','selenium','findIndex','CwieK','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','trim','1309220SpDGHF','writeFileSync','existsSync','../utils/constants','useW3C','DfxlT','8RsKwnd','IDseq','RyGSS','97023hfvaaS','CZJLa','splice','AIESu','Getting\x20your\x20nightwatch\x20configs\x20from\x20','25729XTzfpj','204628VQBjwy','push','1004375zzGuRJ','mergeDeep','length','--config','nightwatch.cmd','join','env','ZFvVD','debug','4272Srgnrr','forEach','40686MBmSFJ','217oLALbd','nightwatch.conf.js','isUndefined','slice'];a37_0x36a8=function(){return _0x51dbfe;};return a37_0x36a8();}const fs=require('fs'),path=require(a37_0x3bf993(0x18c)),{spawn}=require(a37_0x3bf993(0x199)),logger=require('../../helpers/logger')[a37_0x3bf993(0x18d)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require('../../helpers/helper'),constants=require(a37_0x3bf993(0x1a9)),getUserNightwatchConfigs=(_0x21393f,_0x1ec466)=>{const _0x1d7a0f=a37_0x3bf993,_0x3b702c={'DfxlT':_0x1d7a0f(0x181),'lPofc':'nightwatch.json','rXDDm':function(_0x51eeb5,_0x15bba7){return _0x51eeb5(_0x15bba7);},'AIESu':_0x1d7a0f(0x185)};let _0xf4a687=null,_0x4b3cd={};const _0x33570b=_0x1ec466[_0x1d7a0f(0x1a2)](_0x2ed6de=>_0x2ed6de===_0x1d7a0f(0x177));if(!helper[_0x1d7a0f(0x182)](_0x21393f[_0x1d7a0f(0x19f)])&&fs[_0x1d7a0f(0x1a8)](path[_0x1d7a0f(0x179)](process[_0x1d7a0f(0x186)](),_0x21393f['config'])))_0xf4a687=path[_0x1d7a0f(0x179)](process['cwd'](),_0x21393f[_0x1d7a0f(0x19f)]),_0x1ec466[_0x1d7a0f(0x1b1)](_0x33570b,0x2);else{if(fs[_0x1d7a0f(0x1a8)](path[_0x1d7a0f(0x179)](process[_0x1d7a0f(0x186)](),_0x3b702c[_0x1d7a0f(0x1ab)])))_0xf4a687=path[_0x1d7a0f(0x179)](process[_0x1d7a0f(0x186)](),_0x3b702c[_0x1d7a0f(0x1ab)]);else fs[_0x1d7a0f(0x1a8)](path[_0x1d7a0f(0x179)](process[_0x1d7a0f(0x186)](),_0x3b702c['lPofc']))&&(_0xf4a687=path[_0x1d7a0f(0x179)](process[_0x1d7a0f(0x186)](),_0x3b702c['lPofc']));}return _0xf4a687?(logger[_0x1d7a0f(0x187)](_0x1d7a0f(0x170)+_0xf4a687),_0x4b3cd=_0x3b702c['rXDDm'](require,_0xf4a687)):logger[_0x1d7a0f(0x187)](_0x3b702c[_0x1d7a0f(0x16f)]),_0x4b3cd;},removeExistingEnvs=_0x2278c5=>{const _0x2625e4=a37_0x3bf993,_0x515e8e={};_0x515e8e[_0x2625e4(0x1a3)]=function(_0x1f415f,_0x47608b){return _0x1f415f>_0x47608b;};const _0x53f964=_0x515e8e;let _0x533de0=_0x2278c5[_0x2625e4(0x1a2)](_0x2692cf=>_0x2692cf==='--env');_0x53f964[_0x2625e4(0x1a3)](_0x533de0,-0x1)&&_0x2278c5[_0x2625e4(0x1b1)](_0x533de0,0x2),_0x533de0=_0x2278c5[_0x2625e4(0x1a2)](_0x5eb3e2=>_0x5eb3e2==='-e'),_0x53f964['CwieK'](_0x533de0,-0x1)&&_0x2278c5[_0x2625e4(0x1b1)](_0x533de0,0x2);};function run(_0x21cef5,_0x45bf3a,_0x3a43d7){const _0x5e21fd=a37_0x3bf993,_0x491cb6={'IDseq':'nightwatch','CMTAr':function(_0x3b4582,_0x1e5d6c){return _0x3b4582+_0x1e5d6c;},'XOZuO':'test_settings','CLdjY':function(_0x5bbfbb,_0x932bc3,_0x518314){return _0x5bbfbb(_0x932bc3,_0x518314);},'VkTyJ':'hub.browserstack.com','wuyZp':_0x5e21fd(0x1a4),'QtMyt':function(_0x51f57c,_0x14b4a7){return _0x51f57c===_0x14b4a7;},'MoxHC':'nightwatch-browserstack.json','qmMEG':function(_0x5b7c94,_0x3a9c6d){return _0x5b7c94(_0x3a9c6d);},'evuHg':function(_0x27c8b1,_0x10bd28,_0x129f6b,_0x449614){return _0x27c8b1(_0x10bd28,_0x129f6b,_0x449614);},'ZFvVD':_0x5e21fd(0x178),'Psmso':_0x5e21fd(0x177),'iwKVK':_0x5e21fd(0x18e),'CZJLa':'inherit','TNjKq':_0x5e21fd(0x18b)};if(!_0x3a43d7[_0x5e21fd(0x19f)])return;const _0x441007=_0x491cb6['CLdjY'](getUserNightwatchConfigs,_0x21cef5,_0x45bf3a),_0x4a6355={};_0x4a6355[_0x5e21fd(0x198)]=![];const _0x4aec44={};_0x4aec44['host']=_0x491cb6[_0x5e21fd(0x19a)],_0x4aec44['port']=0x1bb;const _0x56956e={};_0x56956e['webdriver']=_0x4a6355,_0x56956e[_0x5e21fd(0x1a1)]=_0x4aec44;const _0x42fa93=_0x56956e;logger[_0x5e21fd(0x187)](_0x491cb6['wuyZp']);const _0x598638={..._0x441007},_0x2b0488=_0x598638,_0xceb8c4=helper[_0x5e21fd(0x1aa)](_0x3a43d7[_0x5e21fd(0x19f)]),_0x320e8d=[];_0x3a43d7[_0x5e21fd(0x19f)][_0x5e21fd(0x19b)][_0x5e21fd(0x17e)]((_0x5b785e,_0x50e7e5)=>{const _0x563b76=_0x5e21fd;_0xceb8c4?_0x320e8d[_0x563b76(0x173)](helper[_0x563b76(0x195)](_0x3a43d7[_0x563b76(0x19f)],_0x491cb6[_0x563b76(0x1ad)],_0x50e7e5)):_0x320e8d[_0x563b76(0x173)](helper['modifyBrowserStackCaps'](_0x3a43d7[_0x563b76(0x19f)],_0x491cb6[_0x563b76(0x1ad)],_0x50e7e5));});const _0x3db563={},_0x3bf575=[];_0x21cef5[_0x5e21fd(0x17a)]=_0x21cef5[_0x5e21fd(0x17a)]||_0x21cef5['e'];const _0x52db0e=_0x21cef5[_0x5e21fd(0x17a)]?_0x21cef5[_0x5e21fd(0x17a)][_0x5e21fd(0x1a5)]()['split'](',')[_0x5e21fd(0x196)](_0x46d4d5=>_0x46d4d5['trim']())[_0x5e21fd(0x189)](_0x1bc996=>_0x1bc996!==''):[''];_0x491cb6[_0x5e21fd(0x190)](_0x52db0e[_0x5e21fd(0x176)],0x0)&&_0x52db0e[_0x5e21fd(0x173)]('');_0x52db0e['forEach'](_0x46fdbf=>{const _0x75c4a8=_0x5e21fd,_0x51bc1d={'RCLzW':function(_0x1784e9,_0x32403f){return _0x491cb6['CMTAr'](_0x1784e9,_0x32403f);},'RyGSS':_0x491cb6[_0x75c4a8(0x19e)]};_0x320e8d[_0x75c4a8(0x17e)](_0x5afd07=>{const _0x2d8596=_0x75c4a8;let _0x38527b=_0x51bc1d['RCLzW'](helper[_0x2d8596(0x184)](_0x5afd07,'_'),'_'+Date[_0x2d8596(0x194)]());_0x46fdbf&&(_0x38527b+='_'+_0x46fdbf);if(_0x46fdbf&&(!_0x441007[_0x51bc1d['RyGSS']]||!_0x441007[_0x51bc1d[_0x2d8596(0x1ae)]][_0x46fdbf]))return;const _0x499f0d={..._0x42fa93};_0x499f0d['desiredCapabilities']=_0x5afd07;const _0x1e92e6=_0x499f0d;_0x3db563[_0x38527b]=_0x46fdbf?helper[_0x2d8596(0x175)](_0x441007[_0x51bc1d[_0x2d8596(0x1ae)]][_0x46fdbf],_0x1e92e6):_0x1e92e6,_0x3bf575[_0x2d8596(0x173)](_0x38527b);});});!_0x2b0488[_0x5e21fd(0x19c)]&&(_0x2b0488[_0x5e21fd(0x19c)]={});_0x2b0488[_0x5e21fd(0x19c)]={..._0x2b0488['test_settings'],..._0x3db563};const _0x3dbe4c=path[_0x5e21fd(0x179)](__dirname,_0x491cb6['MoxHC']);fs[_0x5e21fd(0x1a7)](_0x3dbe4c,JSON[_0x5e21fd(0x193)](_0x2b0488)),_0x491cb6['qmMEG'](removeExistingEnvs,_0x45bf3a);const _0x69352a=_0x491cb6['evuHg'](spawn,/^win/[_0x5e21fd(0x1a0)](process['platform'])?_0x491cb6[_0x5e21fd(0x17b)]:_0x491cb6[_0x5e21fd(0x1ad)],[_0x491cb6[_0x5e21fd(0x18f)],_0x3dbe4c,..._0x45bf3a[_0x5e21fd(0x183)](0x1),_0x491cb6[_0x5e21fd(0x192)],_0x3bf575[_0x5e21fd(0x179)](',')],{'stdio':_0x491cb6[_0x5e21fd(0x1b0)]});_0x69352a['on'](_0x491cb6[_0x5e21fd(0x19d)],async _0x583d33=>{const _0x2d1cc4=_0x5e21fd;logger[_0x2d1cc4(0x17c)]('child\x20process\x20exited\x20with\x20code\x20'+_0x583d33),logger[_0x2d1cc4(0x187)]('Deleting\x20'+_0x3dbe4c),fs['unlinkSync'](_0x3dbe4c);});}module[a37_0x3bf993(0x188)]=run;