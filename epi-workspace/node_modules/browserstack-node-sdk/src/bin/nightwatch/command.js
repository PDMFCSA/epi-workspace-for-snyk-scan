#!/usr/bin/env node
'use strict';function a36_0x1684(_0x3e5264,_0x1744b1){const _0x515a50=a36_0x515a();return a36_0x1684=function(_0x168413,_0x3c638c){_0x168413=_0x168413-0x1b1;let _0x123b57=_0x515a50[_0x168413];return _0x123b57;},a36_0x1684(_0x3e5264,_0x1744b1);}const a36_0x44bd0d=a36_0x1684;function a36_0x515a(){const _0x3d426e=['../../helpers/BrowserStackSetup','UOKgX','3182276nwkJlN','2dssUPB','qPCLx','trim','existsSync','../../helpers/helper','filter','nightwatch.cmd','3043797KkImEU','host','RzmSr','child_process','TZliY','modifyBrowserStackW3CCaps','lnVUF','writeFileSync','join','splice','pHvqR','port','nightwatch','ecBDh','test_settings','hub.browserstack.com','push','now','1050474RkrKiG','krYuY','rUWod','../../helpers/logger','413LwOliS','699839YluGMD','10297296jTRWOD','nightwatch.json','exports','env','ArWTo','55768tvVIZf','--env','getPlatformName','nTJDr','config','forEach','selenium','slice','webdriver','xqKYR','sHOTb','KAhNr','nightwatch.conf.js','Deleting\x20','stringify','--config','kcgKR','25tysFbG','Getting\x20your\x20nightwatch\x20configs\x20from\x20','mergeDeep','findIndex','debug','ypfFc','desiredCapabilities','map','pYZON','41919010qkyZOK','cwd','nightwatch-browserstack.json','info','btsdw','isUndefined','test','YFeas','child\x20process\x20exited\x20with\x20code\x20','PUPxY'];a36_0x515a=function(){return _0x3d426e;};return a36_0x515a();}(function(_0x272311,_0x2642b6){const _0x35b41f=a36_0x1684,_0x4eda6d=_0x272311();while(!![]){try{const _0x482b49=parseInt(_0x35b41f(0x1ea))/0x1*(parseInt(_0x35b41f(0x1cc))/0x2)+-parseInt(_0x35b41f(0x1d3))/0x3+-parseInt(_0x35b41f(0x1cb))/0x4+-parseInt(_0x35b41f(0x1b6))/0x5*(parseInt(_0x35b41f(0x1e5))/0x6)+-parseInt(_0x35b41f(0x1e9))/0x7*(parseInt(_0x35b41f(0x1f0))/0x8)+-parseInt(_0x35b41f(0x1eb))/0x9+parseInt(_0x35b41f(0x1bf))/0xa;if(_0x482b49===_0x2642b6)break;else _0x4eda6d['push'](_0x4eda6d['shift']());}catch(_0x38beec){_0x4eda6d['push'](_0x4eda6d['shift']());}}}(a36_0x515a,0x9edf8));const fs=require('fs'),path=require('path'),{spawn}=require(a36_0x44bd0d(0x1d6)),logger=require(a36_0x44bd0d(0x1e8))['winstonLogger'],{default:BrowserStackSetup}=require(a36_0x44bd0d(0x1c9)),helper=require(a36_0x44bd0d(0x1d0)),constants=require('../utils/constants'),getUserNightwatchConfigs=(_0x23a583,_0x5f0dae)=>{const _0x28d0f9=a36_0x44bd0d,_0x401910={'pHvqR':_0x28d0f9(0x1b1),'KAhNr':_0x28d0f9(0x1ec),'btsdw':function(_0x12a510,_0x381cc4){return _0x12a510(_0x381cc4);},'pYZON':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x540d71=null,_0x73b752={};const _0x2598cf=_0x5f0dae['findIndex'](_0x28bba2=>_0x28bba2===_0x28d0f9(0x1b4));if(!helper[_0x28d0f9(0x1c4)](_0x23a583[_0x28d0f9(0x1f4)])&&fs[_0x28d0f9(0x1cf)](path[_0x28d0f9(0x1db)](process[_0x28d0f9(0x1c0)](),_0x23a583[_0x28d0f9(0x1f4)])))_0x540d71=path['join'](process['cwd'](),_0x23a583[_0x28d0f9(0x1f4)]),_0x5f0dae[_0x28d0f9(0x1dc)](_0x2598cf,0x2);else{if(fs[_0x28d0f9(0x1cf)](path['join'](process[_0x28d0f9(0x1c0)](),_0x401910['pHvqR'])))_0x540d71=path['join'](process['cwd'](),_0x401910[_0x28d0f9(0x1dd)]);else fs[_0x28d0f9(0x1cf)](path[_0x28d0f9(0x1db)](process[_0x28d0f9(0x1c0)](),_0x401910[_0x28d0f9(0x1fb)]))&&(_0x540d71=path[_0x28d0f9(0x1db)](process[_0x28d0f9(0x1c0)](),_0x401910[_0x28d0f9(0x1fb)]));}return _0x540d71?(logger[_0x28d0f9(0x1c2)](_0x28d0f9(0x1b7)+_0x540d71),_0x73b752=_0x401910[_0x28d0f9(0x1c3)](require,_0x540d71)):logger[_0x28d0f9(0x1c2)](_0x401910[_0x28d0f9(0x1be)]),_0x73b752;},removeExistingEnvs=_0x58addc=>{const _0x319351=a36_0x44bd0d,_0x5112a0={};_0x5112a0[_0x319351(0x1b5)]=function(_0x29f8bd,_0x109795){return _0x29f8bd>_0x109795;},_0x5112a0[_0x319351(0x1f3)]=function(_0x457793,_0x3677ba){return _0x457793>_0x3677ba;};const _0x40a556=_0x5112a0;let _0x213acc=_0x58addc[_0x319351(0x1b9)](_0x23c9e9=>_0x23c9e9==='--env');_0x40a556[_0x319351(0x1b5)](_0x213acc,-0x1)&&_0x58addc['splice'](_0x213acc,0x2),_0x213acc=_0x58addc[_0x319351(0x1b9)](_0x5e693d=>_0x5e693d==='-e'),_0x40a556[_0x319351(0x1f3)](_0x213acc,-0x1)&&_0x58addc['splice'](_0x213acc,0x2);};function run(_0x319254,_0x10eb73,_0x30289a){const _0x4f8352=a36_0x44bd0d,_0x22005b={'qPCLx':_0x4f8352(0x1df),'ArWTo':function(_0x147e2d,_0x3e413e){return _0x147e2d+_0x3e413e;},'TZliY':_0x4f8352(0x1e1),'lnVUF':function(_0x4dfc7f,_0x2e6540,_0x257c16){return _0x4dfc7f(_0x2e6540,_0x257c16);},'YFeas':_0x4f8352(0x1e2),'Gdfkz':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','PUPxY':function(_0x287202,_0x36ada7){return _0x287202===_0x36ada7;},'sHOTb':_0x4f8352(0x1c1),'ypfFc':function(_0x394282,_0x4d0e77){return _0x394282(_0x4d0e77);},'ecBDh':function(_0x2a9a97,_0x38064d,_0x372616,_0x5a4b01){return _0x2a9a97(_0x38064d,_0x372616,_0x5a4b01);},'cQtPf':_0x4f8352(0x1d2),'xqKYR':_0x4f8352(0x1b4),'UOKgX':_0x4f8352(0x1f1),'zMMaL':'inherit','krYuY':'close'};if(!_0x30289a['config'])return;const _0x5665b0=_0x22005b[_0x4f8352(0x1d9)](getUserNightwatchConfigs,_0x319254,_0x10eb73),_0x257a30={};_0x257a30['start_process']=![];const _0x135733={};_0x135733[_0x4f8352(0x1d4)]=_0x22005b[_0x4f8352(0x1c6)],_0x135733[_0x4f8352(0x1de)]=0x1bb;const _0xb1dcf5={};_0xb1dcf5[_0x4f8352(0x1f8)]=_0x257a30,_0xb1dcf5[_0x4f8352(0x1f6)]=_0x135733;const _0x39ad63=_0xb1dcf5;logger[_0x4f8352(0x1c2)](_0x22005b['Gdfkz']);const _0x231f12={..._0x5665b0},_0x44369c=_0x231f12,_0x2490cb=helper['useW3C'](_0x30289a[_0x4f8352(0x1f4)]),_0x13652d=[];_0x30289a[_0x4f8352(0x1f4)]['platforms'][_0x4f8352(0x1f5)]((_0x37fab3,_0x20cdcc)=>{const _0x36438f=_0x4f8352;_0x2490cb?_0x13652d['push'](helper[_0x36438f(0x1d8)](_0x30289a[_0x36438f(0x1f4)],_0x22005b[_0x36438f(0x1cd)],_0x20cdcc)):_0x13652d['push'](helper['modifyBrowserStackCaps'](_0x30289a[_0x36438f(0x1f4)],_0x22005b[_0x36438f(0x1cd)],_0x20cdcc));});const _0xa2a54={},_0x526d7a=[];_0x319254[_0x4f8352(0x1ee)]=_0x319254['env']||_0x319254['e'];const _0x3c28aa=_0x319254[_0x4f8352(0x1ee)]?_0x319254[_0x4f8352(0x1ee)]['trim']()['split'](',')[_0x4f8352(0x1bd)](_0x3b22c1=>_0x3b22c1[_0x4f8352(0x1ce)]())[_0x4f8352(0x1d1)](_0x21aae1=>_0x21aae1!==''):[''];_0x22005b[_0x4f8352(0x1c8)](_0x3c28aa['length'],0x0)&&_0x3c28aa[_0x4f8352(0x1e3)]('');_0x3c28aa[_0x4f8352(0x1f5)](_0x1afdb7=>{const _0x1eb584=_0x4f8352,_0x55efe3={'rUWod':function(_0x1a6099,_0x5ad685){const _0x42841d=a36_0x1684;return _0x22005b[_0x42841d(0x1ef)](_0x1a6099,_0x5ad685);},'RzmSr':_0x22005b[_0x1eb584(0x1d7)]};_0x13652d['forEach'](_0x650c13=>{const _0x518a2c=_0x1eb584;let _0x239cac=_0x55efe3[_0x518a2c(0x1e7)](helper[_0x518a2c(0x1f2)](_0x650c13,'_'),'_'+Date[_0x518a2c(0x1e4)]());_0x1afdb7&&(_0x239cac+='_'+_0x1afdb7);if(_0x1afdb7&&(!_0x5665b0[_0x55efe3['RzmSr']]||!_0x5665b0[_0x55efe3[_0x518a2c(0x1d5)]][_0x1afdb7]))return;const _0x5149ee={..._0x39ad63};_0x5149ee[_0x518a2c(0x1bc)]=_0x650c13;const _0x2e3c36=_0x5149ee;_0xa2a54[_0x239cac]=_0x1afdb7?helper[_0x518a2c(0x1b8)](_0x5665b0[_0x55efe3[_0x518a2c(0x1d5)]][_0x1afdb7],_0x2e3c36):_0x2e3c36,_0x526d7a[_0x518a2c(0x1e3)](_0x239cac);});});!_0x44369c[_0x4f8352(0x1e1)]&&(_0x44369c[_0x4f8352(0x1e1)]={});_0x44369c[_0x4f8352(0x1e1)]={..._0x44369c[_0x4f8352(0x1e1)],..._0xa2a54};const _0x4172e4=path[_0x4f8352(0x1db)](__dirname,_0x22005b[_0x4f8352(0x1fa)]);fs[_0x4f8352(0x1da)](_0x4172e4,JSON[_0x4f8352(0x1b3)](_0x44369c)),_0x22005b[_0x4f8352(0x1bb)](removeExistingEnvs,_0x10eb73);const _0x59b0f2=_0x22005b[_0x4f8352(0x1e0)](spawn,/^win/[_0x4f8352(0x1c5)](process['platform'])?_0x22005b['cQtPf']:_0x22005b[_0x4f8352(0x1cd)],[_0x22005b[_0x4f8352(0x1f9)],_0x4172e4,..._0x10eb73[_0x4f8352(0x1f7)](0x1),_0x22005b[_0x4f8352(0x1ca)],_0x526d7a[_0x4f8352(0x1db)](',')],{'stdio':_0x22005b['zMMaL']});_0x59b0f2['on'](_0x22005b[_0x4f8352(0x1e6)],async _0x45a4ec=>{const _0x3fadde=_0x4f8352;logger[_0x3fadde(0x1ba)](_0x3fadde(0x1c7)+_0x45a4ec),logger['info'](_0x3fadde(0x1b2)+_0x4172e4),fs['unlinkSync'](_0x4172e4);});}module[a36_0x44bd0d(0x1ed)]=run;