#!/usr/bin/env node
'use strict';const a33_0x58198d=a33_0xace8;(function(_0x18a4ab,_0x417774){const _0x2313b8=a33_0xace8,_0xe742e2=_0x18a4ab();while(!![]){try{const _0x6f7100=parseInt(_0x2313b8(0x223))/0x1*(-parseInt(_0x2313b8(0x215))/0x2)+parseInt(_0x2313b8(0x1ea))/0x3*(-parseInt(_0x2313b8(0x1ed))/0x4)+parseInt(_0x2313b8(0x224))/0x5*(-parseInt(_0x2313b8(0x1f4))/0x6)+parseInt(_0x2313b8(0x201))/0x7*(parseInt(_0x2313b8(0x207))/0x8)+-parseInt(_0x2313b8(0x20c))/0x9*(-parseInt(_0x2313b8(0x21a))/0xa)+parseInt(_0x2313b8(0x20d))/0xb*(-parseInt(_0x2313b8(0x1eb))/0xc)+-parseInt(_0x2313b8(0x20f))/0xd*(-parseInt(_0x2313b8(0x1f1))/0xe);if(_0x6f7100===_0x417774)break;else _0xe742e2['push'](_0xe742e2['shift']());}catch(_0x585d68){_0xe742e2['push'](_0xe742e2['shift']());}}}(a33_0x5677,0xf32b3));function a33_0xace8(_0xbbf526,_0x3997f1){const _0x56772a=a33_0x5677();return a33_0xace8=function(_0xace83e,_0x2ac177){_0xace83e=_0xace83e-0x1d9;let _0x504a70=_0x56772a[_0xace83e];return _0x504a70;},a33_0xace8(_0xbbf526,_0x3997f1);}const fs=require('fs'),path=require(a33_0x58198d(0x208)),{spawn}=require(a33_0x58198d(0x21d)),logger=require(a33_0x58198d(0x1fc))[a33_0x58198d(0x1f7)],{default:BrowserStackSetup}=require(a33_0x58198d(0x1e4)),helper=require(a33_0x58198d(0x1ff)),constants=require('../utils/constants'),getUserNightwatchConfigs=(_0x114fb2,_0x45e791)=>{const _0x464e7e=a33_0x58198d,_0x3ca1bf={'dxDHK':_0x464e7e(0x222),'RhBgf':_0x464e7e(0x1f5),'raecn':function(_0x225334,_0x58edde){return _0x225334(_0x58edde);},'HoeJb':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x185c46=null,_0x2e9912={};const _0x444fad=_0x45e791[_0x464e7e(0x1f0)](_0x10d4a8=>_0x10d4a8===_0x464e7e(0x209));if(!helper[_0x464e7e(0x1e3)](_0x114fb2[_0x464e7e(0x1fb)])&&fs['existsSync'](path[_0x464e7e(0x227)](process[_0x464e7e(0x219)](),_0x114fb2[_0x464e7e(0x1fb)])))_0x185c46=path[_0x464e7e(0x227)](process['cwd'](),_0x114fb2[_0x464e7e(0x1fb)]),_0x45e791[_0x464e7e(0x21c)](_0x444fad,0x2);else{if(fs[_0x464e7e(0x211)](path['join'](process[_0x464e7e(0x219)](),_0x3ca1bf[_0x464e7e(0x1df)])))_0x185c46=path[_0x464e7e(0x227)](process[_0x464e7e(0x219)](),_0x3ca1bf['dxDHK']);else fs['existsSync'](path[_0x464e7e(0x227)](process[_0x464e7e(0x219)](),_0x3ca1bf['RhBgf']))&&(_0x185c46=path['join'](process[_0x464e7e(0x219)](),_0x3ca1bf[_0x464e7e(0x1dc)]));}return _0x185c46?(logger[_0x464e7e(0x216)](_0x464e7e(0x1f6)+_0x185c46),_0x2e9912=_0x3ca1bf['raecn'](require,_0x185c46)):logger[_0x464e7e(0x216)](_0x3ca1bf[_0x464e7e(0x1f8)]),_0x2e9912;},removeExistingEnvs=_0x447c31=>{const _0x14a062=a33_0x58198d,_0x188739={};_0x188739[_0x14a062(0x200)]=function(_0x439be5,_0x117748){return _0x439be5>_0x117748;};const _0x2b0601=_0x188739;let _0x40362b=_0x447c31['findIndex'](_0x1a42f8=>_0x1a42f8===_0x14a062(0x1f3));_0x2b0601[_0x14a062(0x200)](_0x40362b,-0x1)&&_0x447c31[_0x14a062(0x21c)](_0x40362b,0x2),_0x40362b=_0x447c31[_0x14a062(0x1f0)](_0x3d57e6=>_0x3d57e6==='-e'),_0x2b0601[_0x14a062(0x200)](_0x40362b,-0x1)&&_0x447c31[_0x14a062(0x21c)](_0x40362b,0x2);};function run(_0x50d8f1,_0x51cbaf,_0x306e12){const _0x42df31=a33_0x58198d,_0x13ba07={'xiKVl':_0x42df31(0x1e7),'luZqk':function(_0xe54ba7,_0x387da8){return _0xe54ba7+_0x387da8;},'DZcVU':_0x42df31(0x213),'DGRLz':function(_0xca526b,_0x2bd8f4,_0x45e668){return _0xca526b(_0x2bd8f4,_0x45e668);},'jCyms':_0x42df31(0x1fa),'SYucm':_0x42df31(0x1de),'Rheqn':function(_0x321154,_0x215566){return _0x321154===_0x215566;},'ckeCV':'nightwatch-browserstack.json','ROjuK':function(_0x1f4768,_0x1d0638){return _0x1f4768(_0x1d0638);},'KhClI':function(_0x277748,_0x1f23fd,_0x577991,_0x51dd31){return _0x277748(_0x1f23fd,_0x577991,_0x51dd31);},'TOYHI':_0x42df31(0x1ee),'YgZlR':'--config','BllII':_0x42df31(0x1f3),'kdDda':_0x42df31(0x1e6),'hXsSt':_0x42df31(0x1da)};if(!_0x306e12['config'])return;const _0x150654=_0x13ba07['DGRLz'](getUserNightwatchConfigs,_0x50d8f1,_0x51cbaf),_0x52d75d={};_0x52d75d['start_process']=![];const _0x3ccf7d={};_0x3ccf7d['host']=_0x13ba07[_0x42df31(0x203)],_0x3ccf7d['port']=0x1bb;const _0x4acae7={};_0x4acae7['webdriver']=_0x52d75d,_0x4acae7[_0x42df31(0x1fe)]=_0x3ccf7d;const _0x17b576=_0x4acae7;logger['info'](_0x13ba07['SYucm']);const _0x47be3f={..._0x150654},_0x3b8633=_0x47be3f,_0x56db80=helper[_0x42df31(0x1d9)](_0x306e12[_0x42df31(0x1fb)]),_0x24d8e2=[];_0x306e12[_0x42df31(0x1fb)][_0x42df31(0x21f)]['forEach']((_0x1d49a1,_0x436f5d)=>{const _0xf42d3c=_0x42df31;_0x56db80?_0x24d8e2[_0xf42d3c(0x1e1)](helper[_0xf42d3c(0x204)](_0x306e12['config'],_0x13ba07[_0xf42d3c(0x226)],_0x436f5d)):_0x24d8e2['push'](helper[_0xf42d3c(0x1db)](_0x306e12[_0xf42d3c(0x1fb)],_0x13ba07[_0xf42d3c(0x226)],_0x436f5d));});const _0x3af535={},_0x5d5c49=[];_0x50d8f1['env']=_0x50d8f1[_0x42df31(0x205)]||_0x50d8f1['e'];const _0x630065=_0x50d8f1[_0x42df31(0x205)]?_0x50d8f1[_0x42df31(0x205)][_0x42df31(0x20e)]()[_0x42df31(0x210)](',')[_0x42df31(0x20a)](_0x1630c3=>_0x1630c3[_0x42df31(0x20e)]())[_0x42df31(0x1e8)](_0x174c00=>_0x174c00!==''):[''];_0x13ba07[_0x42df31(0x228)](_0x630065['length'],0x0)&&_0x630065[_0x42df31(0x1e1)]('');_0x630065['forEach'](_0x28c273=>{const _0x225e52=_0x42df31,_0x4e5460={'cKVAq':function(_0x4e1086,_0x5f0fa7){const _0xe0711f=a33_0xace8;return _0x13ba07[_0xe0711f(0x1e2)](_0x4e1086,_0x5f0fa7);},'Djezv':_0x13ba07[_0x225e52(0x1ec)]};_0x24d8e2[_0x225e52(0x214)](_0x4d7aa8=>{const _0x4d5880=_0x225e52;let _0xe10d9f=_0x4e5460[_0x4d5880(0x1e9)](helper[_0x4d5880(0x217)](_0x4d7aa8,'_'),'_'+Date[_0x4d5880(0x212)]());_0x28c273&&(_0xe10d9f+='_'+_0x28c273);if(_0x28c273&&(!_0x150654[_0x4e5460[_0x4d5880(0x21e)]]||!_0x150654[_0x4e5460[_0x4d5880(0x21e)]][_0x28c273]))return;const _0x233516={..._0x17b576};_0x233516[_0x4d5880(0x206)]=_0x4d7aa8;const _0x5d3355=_0x233516;_0x3af535[_0xe10d9f]=_0x28c273?helper[_0x4d5880(0x1e0)](_0x150654[_0x4e5460['Djezv']][_0x28c273],_0x5d3355):_0x5d3355,_0x5d5c49[_0x4d5880(0x1e1)](_0xe10d9f);});});!_0x3b8633['test_settings']&&(_0x3b8633[_0x42df31(0x213)]={});_0x3b8633[_0x42df31(0x213)]={..._0x3b8633['test_settings'],..._0x3af535};const _0x3dc060=path[_0x42df31(0x227)](__dirname,_0x13ba07[_0x42df31(0x1f2)]);fs[_0x42df31(0x1e5)](_0x3dc060,JSON[_0x42df31(0x220)](_0x3b8633)),_0x13ba07[_0x42df31(0x1ef)](removeExistingEnvs,_0x51cbaf);const _0x30413f=_0x13ba07['KhClI'](spawn,/^win/[_0x42df31(0x1fd)](process[_0x42df31(0x1dd)])?_0x13ba07[_0x42df31(0x218)]:_0x13ba07['xiKVl'],[_0x13ba07['YgZlR'],_0x3dc060,..._0x51cbaf[_0x42df31(0x225)](0x1),_0x13ba07['BllII'],_0x5d5c49[_0x42df31(0x227)](',')],{'stdio':_0x13ba07[_0x42df31(0x221)]});_0x30413f['on'](_0x13ba07[_0x42df31(0x1f9)],async _0x51a5e6=>{const _0x51ba3b=_0x42df31;logger['debug'](_0x51ba3b(0x202)+_0x51a5e6),logger[_0x51ba3b(0x216)](_0x51ba3b(0x21b)+_0x3dc060),fs['unlinkSync'](_0x3dc060);});}function a33_0x5677(){const _0x5ade77=['trim','28548897lPqwQL','split','existsSync','now','test_settings','forEach','286ePSXHI','info','getPlatformName','TOYHI','cwd','30eSgCue','Deleting\x20','splice','child_process','Djezv','platforms','stringify','kdDda','nightwatch.conf.js','3998wMvZiA','56115CzqWAx','slice','xiKVl','join','Rheqn','useW3C','close','modifyBrowserStackCaps','RhBgf','platform','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','dxDHK','mergeDeep','push','luZqk','isUndefined','../../helpers/BrowserStackSetup','writeFileSync','inherit','nightwatch','filter','cKVAq','414003SaTIOR','1272xEJpcH','DZcVU','20TiZXqx','nightwatch.cmd','ROjuK','findIndex','14nMLXHe','ckeCV','--env','54XVtXlu','nightwatch.json','Getting\x20your\x20nightwatch\x20configs\x20from\x20','winstonLogger','HoeJb','hXsSt','hub.browserstack.com','config','../../helpers/logger','test','selenium','../../helpers/helper','fDEWv','518CpAZEx','child\x20process\x20exited\x20with\x20code\x20','jCyms','modifyBrowserStackW3CCaps','env','desiredCapabilities','25776ChYQoB','path','--config','map','exports','1708092RzAOlR','66946AcWYTT'];a33_0x5677=function(){return _0x5ade77;};return a33_0x5677();}module[a33_0x58198d(0x20b)]=run;