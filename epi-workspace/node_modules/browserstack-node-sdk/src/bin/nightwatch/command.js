#!/usr/bin/env node
'use strict';function a38_0x26b4(_0x223e27,_0x6f4057){const _0xcbefb6=a38_0xcbef();return a38_0x26b4=function(_0x26b42a,_0xe012bf){_0x26b42a=_0x26b42a-0x6e;let _0x4493a0=_0xcbefb6[_0x26b42a];return _0x4493a0;},a38_0x26b4(_0x223e27,_0x6f4057);}const a38_0x493a9d=a38_0x26b4;function a38_0xcbef(){const _0xc389fd=['../../helpers/logger','--config','nightwatch','iakKM','../../helpers/helper','CvqMw','1189821WppxzM','LNqLi','isUndefined','nightwatch-browserstack.json','ZNUuZ','push','close','forEach','323638ofytQI','4272nthEUe','MruWo','nQWVy','trim','filter','existsSync','--env','Deleting\x20','splice','exports','config','env','XetmU','2508bybblN','info','mergeDeep','JMgbU','test','path','nrEzF','desiredCapabilities','UdLSV','selenium','useW3C','Getting\x20your\x20nightwatch\x20configs\x20from\x20','platform','LQWSF','test_settings','nightwatch.json','port','dQcTk','start_process','103QYeFMo','debug','webdriver','unlinkSync','JcgTR','findIndex','5083317LdmeIt','pEeLF','now','child_process','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','map','getPlatformName','hub.browserstack.com','cwd','FtfyD','2998060tsiDry','join','host','winstonLogger','inherit','platforms','GxPry','7865tTqaWL','length','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','KIbGF','JnSKC','writeFileSync','1070376gwXddW'];a38_0xcbef=function(){return _0xc389fd;};return a38_0xcbef();}(function(_0x417c6c,_0x1d7f5c){const _0x3c3bbf=a38_0x26b4,_0x53a99a=_0x417c6c();while(!![]){try{const _0x11c7a5=-parseInt(_0x3c3bbf(0x8a))/0x1*(-parseInt(_0x3c3bbf(0xb7))/0x2)+-parseInt(_0x3c3bbf(0xae))/0x3+-parseInt(_0x3c3bbf(0x9a))/0x4+-parseInt(_0x3c3bbf(0xa1))/0x5*(-parseInt(_0x3c3bbf(0x77))/0x6)+-parseInt(_0x3c3bbf(0xb6))/0x7+parseInt(_0x3c3bbf(0xa7))/0x8+parseInt(_0x3c3bbf(0x90))/0x9;if(_0x11c7a5===_0x1d7f5c)break;else _0x53a99a['push'](_0x53a99a['shift']());}catch(_0x1f54fa){_0x53a99a['push'](_0x53a99a['shift']());}}}(a38_0xcbef,0x5db20));const fs=require('fs'),path=require(a38_0x493a9d(0x7c)),{spawn}=require(a38_0x493a9d(0x93)),logger=require(a38_0x493a9d(0xa8))[a38_0x493a9d(0x9d)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a38_0x493a9d(0xac)),constants=require('../utils/constants'),getUserNightwatchConfigs=(_0x282d0e,_0x3320b2)=>{const _0x22270e=a38_0x493a9d,_0x216a9e={'KIbGF':'nightwatch.conf.js','XetmU':_0x22270e(0x86),'nrEzF':function(_0x34b038,_0x168401){return _0x34b038(_0x168401);},'nQWVy':_0x22270e(0xa3)};let _0x43897b=null,_0x268456={};const _0x33d2ff=_0x3320b2[_0x22270e(0x8f)](_0x594d8b=>_0x594d8b==='--config');if(!helper[_0x22270e(0xb0)](_0x282d0e[_0x22270e(0x74)])&&fs[_0x22270e(0x6f)](path[_0x22270e(0x9b)](process[_0x22270e(0x98)](),_0x282d0e[_0x22270e(0x74)])))_0x43897b=path[_0x22270e(0x9b)](process[_0x22270e(0x98)](),_0x282d0e['config']),_0x3320b2[_0x22270e(0x72)](_0x33d2ff,0x2);else{if(fs[_0x22270e(0x6f)](path[_0x22270e(0x9b)](process[_0x22270e(0x98)](),_0x216a9e[_0x22270e(0xa4)])))_0x43897b=path[_0x22270e(0x9b)](process['cwd'](),_0x216a9e[_0x22270e(0xa4)]);else fs[_0x22270e(0x6f)](path['join'](process[_0x22270e(0x98)](),_0x216a9e[_0x22270e(0x76)]))&&(_0x43897b=path[_0x22270e(0x9b)](process[_0x22270e(0x98)](),_0x216a9e['XetmU']));}return _0x43897b?(logger[_0x22270e(0x78)](_0x22270e(0x82)+_0x43897b),_0x268456=_0x216a9e[_0x22270e(0x7d)](require,_0x43897b)):logger[_0x22270e(0x78)](_0x216a9e[_0x22270e(0xb9)]),_0x268456;},removeExistingEnvs=_0x1a85cb=>{const _0x4ef485=a38_0x493a9d,_0x33edef={};_0x33edef[_0x4ef485(0xab)]=function(_0x199965,_0x587167){return _0x199965>_0x587167;},_0x33edef[_0x4ef485(0xa5)]=function(_0x5675b5,_0x1fe19f){return _0x5675b5>_0x1fe19f;};const _0x4b7c0b=_0x33edef;let _0xee5815=_0x1a85cb['findIndex'](_0x1e55e5=>_0x1e55e5==='--env');_0x4b7c0b[_0x4ef485(0xab)](_0xee5815,-0x1)&&_0x1a85cb[_0x4ef485(0x72)](_0xee5815,0x2),_0xee5815=_0x1a85cb[_0x4ef485(0x8f)](_0x562914=>_0x562914==='-e'),_0x4b7c0b['JnSKC'](_0xee5815,-0x1)&&_0x1a85cb[_0x4ef485(0x72)](_0xee5815,0x2);};function run(_0x5d209a,_0x2a7820,_0x397971){const _0x12e520=a38_0x493a9d,_0x4b050d={'UdLSV':_0x12e520(0xaa),'WZWwt':function(_0x66f4e3,_0x3565fe){return _0x66f4e3+_0x3565fe;},'GxPry':_0x12e520(0x85),'JMgbU':function(_0x12035c,_0x5b0ccd,_0x4c9d4d){return _0x12035c(_0x5b0ccd,_0x4c9d4d);},'FtfyD':_0x12e520(0x97),'JcgTR':_0x12e520(0x94),'MruWo':function(_0x32621a,_0x4f46b2){return _0x32621a===_0x4f46b2;},'dQcTk':_0x12e520(0xb1),'TRUAT':function(_0x14be00,_0x1c8e50){return _0x14be00(_0x1c8e50);},'EnlEM':function(_0x240c1e,_0x5b1c5e,_0x2f8abf,_0x104177){return _0x240c1e(_0x5b1c5e,_0x2f8abf,_0x104177);},'CvqMw':'nightwatch.cmd','LNqLi':_0x12e520(0xa9),'vSPAr':_0x12e520(0x70),'ZNUuZ':_0x12e520(0x9e),'LQWSF':_0x12e520(0xb4)};if(!_0x397971[_0x12e520(0x74)])return;const _0x3a2f86=_0x4b050d[_0x12e520(0x7a)](getUserNightwatchConfigs,_0x5d209a,_0x2a7820),_0x538d17={};_0x538d17[_0x12e520(0x89)]=![];const _0x10e575={};_0x10e575[_0x12e520(0x9c)]=_0x4b050d[_0x12e520(0x99)],_0x10e575[_0x12e520(0x87)]=0x1bb;const _0x2e49e3={};_0x2e49e3[_0x12e520(0x8c)]=_0x538d17,_0x2e49e3[_0x12e520(0x80)]=_0x10e575;const _0x4cc16c=_0x2e49e3;logger[_0x12e520(0x78)](_0x4b050d[_0x12e520(0x8e)]);const _0x30abd7={..._0x3a2f86},_0x3defc3=_0x30abd7,_0x52c302=helper[_0x12e520(0x81)](_0x397971[_0x12e520(0x74)]),_0x3dfa91=[];_0x397971[_0x12e520(0x74)][_0x12e520(0x9f)][_0x12e520(0xb5)]((_0x28dc01,_0xfa1413)=>{const _0x426aaf=_0x12e520;_0x52c302?_0x3dfa91[_0x426aaf(0xb3)](helper['modifyBrowserStackW3CCaps'](_0x397971[_0x426aaf(0x74)],_0x4b050d[_0x426aaf(0x7f)],_0xfa1413)):_0x3dfa91[_0x426aaf(0xb3)](helper['modifyBrowserStackCaps'](_0x397971[_0x426aaf(0x74)],_0x4b050d[_0x426aaf(0x7f)],_0xfa1413));});const _0x3a7e0b={},_0x47af06=[];_0x5d209a[_0x12e520(0x75)]=_0x5d209a['env']||_0x5d209a['e'];const _0x3b1f7d=_0x5d209a[_0x12e520(0x75)]?_0x5d209a[_0x12e520(0x75)][_0x12e520(0xba)]()['split'](',')[_0x12e520(0x95)](_0x57dabd=>_0x57dabd['trim']())[_0x12e520(0x6e)](_0x131ca4=>_0x131ca4!==''):[''];_0x4b050d[_0x12e520(0xb8)](_0x3b1f7d[_0x12e520(0xa2)],0x0)&&_0x3b1f7d['push']('');_0x3b1f7d[_0x12e520(0xb5)](_0x46021a=>{const _0x7dd529=_0x12e520,_0x3f4dee={'mfXdp':function(_0x1e0bac,_0x1b16c8){return _0x4b050d['WZWwt'](_0x1e0bac,_0x1b16c8);},'pEeLF':_0x4b050d[_0x7dd529(0xa0)]};_0x3dfa91[_0x7dd529(0xb5)](_0x3b06a8=>{const _0x6af1fd=_0x7dd529;let _0x55904e=_0x3f4dee['mfXdp'](helper[_0x6af1fd(0x96)](_0x3b06a8,'_'),'_'+Date[_0x6af1fd(0x92)]());_0x46021a&&(_0x55904e+='_'+_0x46021a);if(_0x46021a&&(!_0x3a2f86[_0x3f4dee[_0x6af1fd(0x91)]]||!_0x3a2f86[_0x3f4dee[_0x6af1fd(0x91)]][_0x46021a]))return;const _0x4b7e60={..._0x4cc16c};_0x4b7e60[_0x6af1fd(0x7e)]=_0x3b06a8;const _0x395109=_0x4b7e60;_0x3a7e0b[_0x55904e]=_0x46021a?helper[_0x6af1fd(0x79)](_0x3a2f86[_0x3f4dee['pEeLF']][_0x46021a],_0x395109):_0x395109,_0x47af06[_0x6af1fd(0xb3)](_0x55904e);});});!_0x3defc3[_0x12e520(0x85)]&&(_0x3defc3[_0x12e520(0x85)]={});_0x3defc3[_0x12e520(0x85)]={..._0x3defc3[_0x12e520(0x85)],..._0x3a7e0b};const _0x3ac997=path['join'](__dirname,_0x4b050d[_0x12e520(0x88)]);fs[_0x12e520(0xa6)](_0x3ac997,JSON['stringify'](_0x3defc3)),_0x4b050d['TRUAT'](removeExistingEnvs,_0x2a7820);const _0x22dc11=_0x4b050d['EnlEM'](spawn,/^win/[_0x12e520(0x7b)](process[_0x12e520(0x83)])?_0x4b050d[_0x12e520(0xad)]:_0x4b050d['UdLSV'],[_0x4b050d[_0x12e520(0xaf)],_0x3ac997,..._0x2a7820['slice'](0x1),_0x4b050d['vSPAr'],_0x47af06['join'](',')],{'stdio':_0x4b050d[_0x12e520(0xb2)]});_0x22dc11['on'](_0x4b050d[_0x12e520(0x84)],async _0x20b8e2=>{const _0x4aa6dd=_0x12e520;logger[_0x4aa6dd(0x8b)]('child\x20process\x20exited\x20with\x20code\x20'+_0x20b8e2),logger['info'](_0x4aa6dd(0x71)+_0x3ac997),fs[_0x4aa6dd(0x8d)](_0x3ac997);});}module[a38_0x493a9d(0x73)]=run;