#!/usr/bin/env node
'use strict';const a33_0x4e3c32=a33_0x4549;(function(_0x3f5da3,_0x4a6b70){const _0x35d772=a33_0x4549,_0xd8b23c=_0x3f5da3();while(!![]){try{const _0x562e45=parseInt(_0x35d772(0x112))/0x1*(parseInt(_0x35d772(0x123))/0x2)+parseInt(_0x35d772(0x120))/0x3*(-parseInt(_0x35d772(0x147))/0x4)+parseInt(_0x35d772(0x135))/0x5+-parseInt(_0x35d772(0x138))/0x6*(-parseInt(_0x35d772(0x126))/0x7)+-parseInt(_0x35d772(0x109))/0x8+-parseInt(_0x35d772(0x14e))/0x9*(parseInt(_0x35d772(0x11c))/0xa)+-parseInt(_0x35d772(0x14a))/0xb*(-parseInt(_0x35d772(0x12c))/0xc);if(_0x562e45===_0x4a6b70)break;else _0xd8b23c['push'](_0xd8b23c['shift']());}catch(_0x5ed620){_0xd8b23c['push'](_0xd8b23c['shift']());}}}(a33_0x5c95,0xe5024));function a33_0x5c95(){const _0x39f64b=['Deleting\x20','config','7078745sslwOy','pOntH','child\x20process\x20exited\x20with\x20code\x20','28362RYSIrd','test_settings','EAFbG','inherit','info','findIndex','qprbr','length','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','hub.browserstack.com','modifyBrowserStackCaps','trim','DyLpL','isUndefined','192964fJvWDc','desiredCapabilities','cwd','530277JHHlwR','host','slice','qxmPK','8721bOKpmA','EerbL','exports','stringify','filter','5619664GPTjsM','--config','../../helpers/logger','start_process','../utils/constants','close','push','--env','nightwatch.json','61888iEyZxc','../../helpers/helper','MsrZM','debug','existsSync','webdriver','LFqDI','platforms','getPlatformName','unlinkSync','2710pxBFlA','env','splice','tGvGT','21ZwtDLg','Rynqz','nightwatch.cmd','16GftJLB','forEach','LXUoB','203QVQFrb','join','JTWkj','now','mergeDeep','GXGQR','48OzIZvb','port','split','EvwpF','nightwatch','OaJSh','map'];a33_0x5c95=function(){return _0x39f64b;};return a33_0x5c95();}function a33_0x4549(_0x2ed8f3,_0x212c9b){const _0x5c9521=a33_0x5c95();return a33_0x4549=function(_0x4549bf,_0x2b12bc){_0x4549bf=_0x4549bf-0x105;let _0x4a47da=_0x5c9521[_0x4549bf];return _0x4a47da;},a33_0x4549(_0x2ed8f3,_0x212c9b);}const fs=require('fs'),path=require('path'),{spawn}=require('child_process'),logger=require(a33_0x4e3c32(0x10b))['winstonLogger'],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a33_0x4e3c32(0x113)),constants=require(a33_0x4e3c32(0x10d)),getUserNightwatchConfigs=(_0x1d7ee5,_0x439186)=>{const _0xa9d6f5=a33_0x4e3c32,_0x31268d={'OaJSh':'nightwatch.conf.js','LXUoB':_0xa9d6f5(0x111),'GJrYp':function(_0x473885,_0x44b981){return _0x473885(_0x44b981);},'pOntH':_0xa9d6f5(0x140)};let _0x5ddd99=null,_0x412379={};const _0x45f0ab=_0x439186[_0xa9d6f5(0x13d)](_0x65a2f=>_0x65a2f===_0xa9d6f5(0x10a));if(!helper[_0xa9d6f5(0x146)](_0x1d7ee5[_0xa9d6f5(0x134)])&&fs[_0xa9d6f5(0x116)](path[_0xa9d6f5(0x127)](process[_0xa9d6f5(0x149)](),_0x1d7ee5[_0xa9d6f5(0x134)])))_0x5ddd99=path[_0xa9d6f5(0x127)](process[_0xa9d6f5(0x149)](),_0x1d7ee5['config']),_0x439186[_0xa9d6f5(0x11e)](_0x45f0ab,0x2);else{if(fs[_0xa9d6f5(0x116)](path[_0xa9d6f5(0x127)](process[_0xa9d6f5(0x149)](),_0x31268d[_0xa9d6f5(0x131)])))_0x5ddd99=path[_0xa9d6f5(0x127)](process[_0xa9d6f5(0x149)](),_0x31268d[_0xa9d6f5(0x131)]);else fs[_0xa9d6f5(0x116)](path[_0xa9d6f5(0x127)](process['cwd'](),_0x31268d[_0xa9d6f5(0x125)]))&&(_0x5ddd99=path[_0xa9d6f5(0x127)](process[_0xa9d6f5(0x149)](),_0x31268d[_0xa9d6f5(0x125)]));}return _0x5ddd99?(logger[_0xa9d6f5(0x13c)]('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x5ddd99),_0x412379=_0x31268d['GJrYp'](require,_0x5ddd99)):logger['info'](_0x31268d[_0xa9d6f5(0x136)]),_0x412379;},removeExistingEnvs=_0xbeb834=>{const _0x24984d=a33_0x4e3c32,_0x1529b4={};_0x1529b4[_0x24984d(0x13a)]=function(_0x39bc78,_0x326bde){return _0x39bc78>_0x326bde;};const _0x2768a4=_0x1529b4;let _0x54d202=_0xbeb834[_0x24984d(0x13d)](_0x5c463f=>_0x5c463f===_0x24984d(0x110));_0x2768a4['EAFbG'](_0x54d202,-0x1)&&_0xbeb834[_0x24984d(0x11e)](_0x54d202,0x2),_0x54d202=_0xbeb834[_0x24984d(0x13d)](_0x518184=>_0x518184==='-e'),_0x2768a4[_0x24984d(0x13a)](_0x54d202,-0x1)&&_0xbeb834[_0x24984d(0x11e)](_0x54d202,0x2);};function run(_0x10a6d9,_0x59503c){const _0x49fb77=a33_0x4e3c32,_0x4790a5={'GXGQR':_0x49fb77(0x130),'EerbL':function(_0x476e61,_0x5992c0){return _0x476e61+_0x5992c0;},'JTWkj':_0x49fb77(0x139),'gquFv':function(_0x43fb1f,_0x48a4a3,_0x1f7e7a){return _0x43fb1f(_0x48a4a3,_0x1f7e7a);},'qprbr':_0x49fb77(0x142),'gbAZc':_0x49fb77(0x141),'MsrZM':function(_0x239ee9,_0x1b911a){return _0x239ee9===_0x1b911a;},'OXwEQ':'nightwatch-browserstack.json','Rynqz':function(_0x5f228e,_0x4e7394){return _0x5f228e(_0x4e7394);},'qxmPK':function(_0x392c3a,_0x510041,_0x24fb92,_0x33ae47){return _0x392c3a(_0x510041,_0x24fb92,_0x33ae47);},'LFqDI':_0x49fb77(0x122),'DyLpL':_0x49fb77(0x10a),'tGvGT':_0x49fb77(0x110),'EvwpF':_0x49fb77(0x13b),'umzdU':_0x49fb77(0x10e)},_0x457aff=new BrowserStackSetup(_0x10a6d9);if(!_0x457aff[_0x49fb77(0x134)])return;const _0xd12589=_0x4790a5['gquFv'](getUserNightwatchConfigs,_0x10a6d9,_0x59503c),_0x508677={};_0x508677[_0x49fb77(0x10c)]=![];const _0x1f9ffe={};_0x1f9ffe[_0x49fb77(0x14b)]=_0x4790a5[_0x49fb77(0x13e)],_0x1f9ffe[_0x49fb77(0x12d)]=0x1bb;const _0x3d175b={};_0x3d175b[_0x49fb77(0x117)]=_0x508677,_0x3d175b['selenium']=_0x1f9ffe;const _0xe885a4=_0x3d175b;logger[_0x49fb77(0x13c)](_0x4790a5['gbAZc']);const _0x10aec0={..._0xd12589},_0x2e3e36=_0x10aec0,_0x5c4283=helper['useW3C'](_0x457aff[_0x49fb77(0x134)]),_0x711f38=[];_0x457aff[_0x49fb77(0x134)][_0x49fb77(0x119)][_0x49fb77(0x124)]((_0x45047b,_0x436c2b)=>{const _0x463e04=_0x49fb77;_0x5c4283?_0x711f38['push'](helper['modifyBrowserStackW3CCaps'](_0x457aff['config'],_0x4790a5[_0x463e04(0x12b)],_0x436c2b)):_0x711f38[_0x463e04(0x10f)](helper[_0x463e04(0x143)](_0x457aff['config'],_0x4790a5[_0x463e04(0x12b)],_0x436c2b));});const _0x3b6b55={},_0x8638a6=[];_0x10a6d9[_0x49fb77(0x11d)]=_0x10a6d9[_0x49fb77(0x11d)]||_0x10a6d9['e'];const _0x3eb322=_0x10a6d9[_0x49fb77(0x11d)]?_0x10a6d9[_0x49fb77(0x11d)]['trim']()[_0x49fb77(0x12e)](',')[_0x49fb77(0x132)](_0x232497=>_0x232497[_0x49fb77(0x144)]())[_0x49fb77(0x108)](_0x18afe1=>_0x18afe1!==''):[''];_0x4790a5[_0x49fb77(0x114)](_0x3eb322[_0x49fb77(0x13f)],0x0)&&_0x3eb322[_0x49fb77(0x10f)]('');_0x3eb322[_0x49fb77(0x124)](_0x3f4f88=>{_0x711f38['forEach'](_0x45d3a3=>{const _0x1df615=a33_0x4549;let _0x36824f=_0x4790a5[_0x1df615(0x105)](helper[_0x1df615(0x11a)](_0x45d3a3,'_'),'_'+Date[_0x1df615(0x129)]());_0x3f4f88&&(_0x36824f+='_'+_0x3f4f88);if(_0x3f4f88&&(!_0xd12589[_0x4790a5[_0x1df615(0x128)]]||!_0xd12589[_0x4790a5['JTWkj']][_0x3f4f88]))return;const _0x3d89d9={..._0xe885a4};_0x3d89d9[_0x1df615(0x148)]=_0x45d3a3;const _0x336a7c=_0x3d89d9;_0x3b6b55[_0x36824f]=_0x3f4f88?helper[_0x1df615(0x12a)](_0xd12589[_0x4790a5['JTWkj']][_0x3f4f88],_0x336a7c):_0x336a7c,_0x8638a6[_0x1df615(0x10f)](_0x36824f);});});!_0x2e3e36[_0x49fb77(0x139)]&&(_0x2e3e36[_0x49fb77(0x139)]={});_0x2e3e36[_0x49fb77(0x139)]={..._0x2e3e36[_0x49fb77(0x139)],..._0x3b6b55};const _0x19b2bf=path[_0x49fb77(0x127)](__dirname,_0x4790a5['OXwEQ']);fs['writeFileSync'](_0x19b2bf,JSON[_0x49fb77(0x107)](_0x2e3e36)),_0x4790a5[_0x49fb77(0x121)](removeExistingEnvs,_0x59503c);const _0x116544=_0x4790a5[_0x49fb77(0x14d)](spawn,/^win/['test'](process['platform'])?_0x4790a5[_0x49fb77(0x118)]:_0x4790a5['GXGQR'],[_0x4790a5[_0x49fb77(0x145)],_0x19b2bf,..._0x59503c[_0x49fb77(0x14c)](0x1),_0x4790a5[_0x49fb77(0x11f)],_0x8638a6[_0x49fb77(0x127)](',')],{'stdio':_0x4790a5[_0x49fb77(0x12f)]});_0x116544['on'](_0x4790a5['umzdU'],async _0x5b7004=>{const _0x359934=_0x49fb77;logger[_0x359934(0x115)](_0x359934(0x137)+_0x5b7004),logger[_0x359934(0x13c)](_0x359934(0x133)+_0x19b2bf),fs[_0x359934(0x11b)](_0x19b2bf);});}module[a33_0x4e3c32(0x106)]=run;