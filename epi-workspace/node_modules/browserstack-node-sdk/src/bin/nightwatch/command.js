#!/usr/bin/env node
'use strict';const a38_0x4f9c2a=a38_0x14f8;function a38_0x14f8(_0x359b57,_0x363344){const _0x53f3a1=a38_0x53f3();return a38_0x14f8=function(_0x14f858,_0x56fa31){_0x14f858=_0x14f858-0x1df;let _0x2ac4c2=_0x53f3a1[_0x14f858];return _0x2ac4c2;},a38_0x14f8(_0x359b57,_0x363344);}(function(_0x511e1f,_0x29cf4c){const _0x4a7931=a38_0x14f8,_0x52b15c=_0x511e1f();while(!![]){try{const _0xfadd69=parseInt(_0x4a7931(0x1eb))/0x1*(parseInt(_0x4a7931(0x1fe))/0x2)+parseInt(_0x4a7931(0x220))/0x3*(parseInt(_0x4a7931(0x20a))/0x4)+-parseInt(_0x4a7931(0x1df))/0x5*(-parseInt(_0x4a7931(0x201))/0x6)+-parseInt(_0x4a7931(0x230))/0x7*(parseInt(_0x4a7931(0x22b))/0x8)+-parseInt(_0x4a7931(0x1f2))/0x9*(-parseInt(_0x4a7931(0x21b))/0xa)+parseInt(_0x4a7931(0x207))/0xb+-parseInt(_0x4a7931(0x22d))/0xc;if(_0xfadd69===_0x29cf4c)break;else _0x52b15c['push'](_0x52b15c['shift']());}catch(_0x43b10f){_0x52b15c['push'](_0x52b15c['shift']());}}}(a38_0x53f3,0xd677c));function a38_0x53f3(){const _0x2d731a=['split','config','20NlXiqn','filter','xfbyd','existsSync','host','close','test_settings','MKhAL','JakbB','modifyBrowserStackCaps','../../helpers/helper','ARKDN','selenium','ewyUa','join','isUndefined','GZsCp','2370YjkpKs','useW3C','sMByb','length','push','880503iWjtmy','CaXMh','desiredCapabilities','env','getPlatformName','winstonLogger','test','aohkO','nightwatch-browserstack.json','exports','now','16DRlQYN','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','31400472LyrIph','--env','--config','3620190EdCsTE','1295MVbOsI','nightwatch','map','hub.browserstack.com','port','nightwatch.cmd','bjwZX','mergeDeep','slice','splice','YAKhO','../utils/constants','715HxCqEv','forEach','start_process','nightwatch.json','child_process','debug','child\x20process\x20exited\x20with\x20code\x20','21699dZoFrc','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','writeFileSync','trim','../../helpers/BrowserStackSetup','stringify','path','webdriver','inVWT','platforms','info','cwd','3694jmQvkN','Deleting\x20','findIndex','6018QQqUUr','PbfFw','modifyBrowserStackW3CCaps','platform','lXlJb','NYyHX','10012332WoHPsR'];a38_0x53f3=function(){return _0x2d731a;};return a38_0x53f3();}const fs=require('fs'),path=require(a38_0x4f9c2a(0x1f8)),{spawn}=require(a38_0x4f9c2a(0x1ef)),logger=require('../../helpers/logger')[a38_0x4f9c2a(0x225)],{default:BrowserStackSetup}=require(a38_0x4f9c2a(0x1f6)),helper=require(a38_0x4f9c2a(0x214)),constants=require(a38_0x4f9c2a(0x1ea)),getUserNightwatchConfigs=(_0x569744,_0x282f8e)=>{const _0x1b6811=a38_0x4f9c2a,_0x24f39a={'MKhAL':'nightwatch.conf.js','xfbyd':_0x1b6811(0x1ee),'YAKhO':function(_0x1e5356,_0x35151b){return _0x1e5356(_0x35151b);},'lXlJb':_0x1b6811(0x1f3)};let _0x4bf77e=null,_0x5643e9={};const _0x519f19=_0x282f8e[_0x1b6811(0x200)](_0x24d6e2=>_0x24d6e2===_0x1b6811(0x22f));if(!helper[_0x1b6811(0x219)](_0x569744[_0x1b6811(0x209)])&&fs[_0x1b6811(0x20d)](path['join'](process[_0x1b6811(0x1fd)](),_0x569744[_0x1b6811(0x209)])))_0x4bf77e=path[_0x1b6811(0x218)](process[_0x1b6811(0x1fd)](),_0x569744[_0x1b6811(0x209)]),_0x282f8e[_0x1b6811(0x1e8)](_0x519f19,0x2);else{if(fs['existsSync'](path['join'](process[_0x1b6811(0x1fd)](),_0x24f39a[_0x1b6811(0x211)])))_0x4bf77e=path['join'](process[_0x1b6811(0x1fd)](),_0x24f39a[_0x1b6811(0x211)]);else fs['existsSync'](path['join'](process[_0x1b6811(0x1fd)](),_0x24f39a[_0x1b6811(0x20c)]))&&(_0x4bf77e=path[_0x1b6811(0x218)](process[_0x1b6811(0x1fd)](),_0x24f39a[_0x1b6811(0x20c)]));}return _0x4bf77e?(logger[_0x1b6811(0x1fc)]('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x4bf77e),_0x5643e9=_0x24f39a[_0x1b6811(0x1e9)](require,_0x4bf77e)):logger[_0x1b6811(0x1fc)](_0x24f39a[_0x1b6811(0x205)]),_0x5643e9;},removeExistingEnvs=_0x38654d=>{const _0x2ff123=a38_0x4f9c2a,_0x1fa65c={};_0x1fa65c[_0x2ff123(0x227)]=function(_0x62f13a,_0x20b54b){return _0x62f13a>_0x20b54b;};const _0x2af408=_0x1fa65c;let _0x336844=_0x38654d[_0x2ff123(0x200)](_0x496737=>_0x496737===_0x2ff123(0x22e));_0x2af408['aohkO'](_0x336844,-0x1)&&_0x38654d[_0x2ff123(0x1e8)](_0x336844,0x2),_0x336844=_0x38654d['findIndex'](_0x1c3ff0=>_0x1c3ff0==='-e'),_0x2af408['aohkO'](_0x336844,-0x1)&&_0x38654d[_0x2ff123(0x1e8)](_0x336844,0x2);};function run(_0x18293a,_0x2fcd9a,_0xc00a26){const _0x40af48=a38_0x4f9c2a,_0x5b3cba={'NYyHX':_0x40af48(0x1e0),'GZsCp':function(_0x2c3fd9,_0x1d8d8e){return _0x2c3fd9+_0x1d8d8e;},'sMByb':_0x40af48(0x210),'lTVby':function(_0x518825,_0x24ed97,_0x7f462d){return _0x518825(_0x24ed97,_0x7f462d);},'PbfFw':_0x40af48(0x1e2),'ewyUa':_0x40af48(0x22c),'CaXMh':function(_0x27c260,_0x176696){return _0x27c260===_0x176696;},'JakbB':_0x40af48(0x228),'xGPGK':function(_0xcd1232,_0x515b7e){return _0xcd1232(_0x515b7e);},'bjwZX':function(_0x1fb453,_0x3b4869,_0x4fae8a,_0x3b6841){return _0x1fb453(_0x3b4869,_0x4fae8a,_0x3b6841);},'bQOBs':_0x40af48(0x1e4),'ARKDN':_0x40af48(0x22f),'inVWT':_0x40af48(0x22e),'vmnvo':'inherit','CkEUT':_0x40af48(0x20f)};if(!_0xc00a26['config'])return;const _0x38165a=_0x5b3cba['lTVby'](getUserNightwatchConfigs,_0x18293a,_0x2fcd9a),_0xc7ff91={};_0xc7ff91[_0x40af48(0x1ed)]=![];const _0x3080f3={};_0x3080f3[_0x40af48(0x20e)]=_0x5b3cba[_0x40af48(0x202)],_0x3080f3[_0x40af48(0x1e3)]=0x1bb;const _0x3d7645={};_0x3d7645[_0x40af48(0x1f9)]=_0xc7ff91,_0x3d7645[_0x40af48(0x216)]=_0x3080f3;const _0x1dfaed=_0x3d7645;logger[_0x40af48(0x1fc)](_0x5b3cba[_0x40af48(0x217)]);const _0x4fd885={..._0x38165a},_0x28cb15=_0x4fd885,_0xac8bca=helper[_0x40af48(0x21c)](_0xc00a26[_0x40af48(0x209)]),_0x4ee655=[];_0xc00a26['config'][_0x40af48(0x1fb)][_0x40af48(0x1ec)]((_0x113baf,_0x39999f)=>{const _0x21a7bc=_0x40af48;_0xac8bca?_0x4ee655['push'](helper[_0x21a7bc(0x203)](_0xc00a26[_0x21a7bc(0x209)],_0x5b3cba[_0x21a7bc(0x206)],_0x39999f)):_0x4ee655['push'](helper[_0x21a7bc(0x213)](_0xc00a26[_0x21a7bc(0x209)],_0x5b3cba[_0x21a7bc(0x206)],_0x39999f));});const _0x46d5bb={},_0x1e02a7=[];_0x18293a[_0x40af48(0x223)]=_0x18293a[_0x40af48(0x223)]||_0x18293a['e'];const _0x16619e=_0x18293a[_0x40af48(0x223)]?_0x18293a['env'][_0x40af48(0x1f5)]()[_0x40af48(0x208)](',')[_0x40af48(0x1e1)](_0x468cd1=>_0x468cd1[_0x40af48(0x1f5)]())[_0x40af48(0x20b)](_0x5e5cb4=>_0x5e5cb4!==''):[''];_0x5b3cba[_0x40af48(0x221)](_0x16619e[_0x40af48(0x21e)],0x0)&&_0x16619e[_0x40af48(0x21f)]('');_0x16619e[_0x40af48(0x1ec)](_0x3aea0f=>{const _0x4d29cc=_0x40af48;_0x4ee655[_0x4d29cc(0x1ec)](_0x2174c3=>{const _0x16f8f4=_0x4d29cc;let _0x32bcdf=_0x5b3cba[_0x16f8f4(0x21a)](helper[_0x16f8f4(0x224)](_0x2174c3,'_'),'_'+Date[_0x16f8f4(0x22a)]());_0x3aea0f&&(_0x32bcdf+='_'+_0x3aea0f);if(_0x3aea0f&&(!_0x38165a[_0x5b3cba[_0x16f8f4(0x21d)]]||!_0x38165a[_0x5b3cba[_0x16f8f4(0x21d)]][_0x3aea0f]))return;const _0x1a6bd2={..._0x1dfaed};_0x1a6bd2[_0x16f8f4(0x222)]=_0x2174c3;const _0x4a57c3=_0x1a6bd2;_0x46d5bb[_0x32bcdf]=_0x3aea0f?helper[_0x16f8f4(0x1e6)](_0x38165a[_0x5b3cba[_0x16f8f4(0x21d)]][_0x3aea0f],_0x4a57c3):_0x4a57c3,_0x1e02a7[_0x16f8f4(0x21f)](_0x32bcdf);});});!_0x28cb15[_0x40af48(0x210)]&&(_0x28cb15[_0x40af48(0x210)]={});_0x28cb15['test_settings']={..._0x28cb15['test_settings'],..._0x46d5bb};const _0x5ed94b=path[_0x40af48(0x218)](__dirname,_0x5b3cba[_0x40af48(0x212)]);fs[_0x40af48(0x1f4)](_0x5ed94b,JSON[_0x40af48(0x1f7)](_0x28cb15)),_0x5b3cba['xGPGK'](removeExistingEnvs,_0x2fcd9a);const _0x294576=_0x5b3cba[_0x40af48(0x1e5)](spawn,/^win/[_0x40af48(0x226)](process[_0x40af48(0x204)])?_0x5b3cba['bQOBs']:_0x5b3cba['NYyHX'],[_0x5b3cba[_0x40af48(0x215)],_0x5ed94b,..._0x2fcd9a[_0x40af48(0x1e7)](0x1),_0x5b3cba[_0x40af48(0x1fa)],_0x1e02a7[_0x40af48(0x218)](',')],{'stdio':_0x5b3cba['vmnvo']});_0x294576['on'](_0x5b3cba['CkEUT'],async _0x3eef38=>{const _0x2af653=_0x40af48;logger[_0x2af653(0x1f0)](_0x2af653(0x1f1)+_0x3eef38),logger[_0x2af653(0x1fc)](_0x2af653(0x1ff)+_0x5ed94b),fs['unlinkSync'](_0x5ed94b);});}module[a38_0x4f9c2a(0x229)]=run;