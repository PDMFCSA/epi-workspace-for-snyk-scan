#!/usr/bin/env node
'use strict';const a38_0x18b0b2=a38_0x4866;(function(_0x381a7c,_0xbc5d88){const _0x350079=a38_0x4866,_0x439894=_0x381a7c();while(!![]){try{const _0x3e00ef=-parseInt(_0x350079(0x17a))/0x1*(parseInt(_0x350079(0x184))/0x2)+parseInt(_0x350079(0x187))/0x3+parseInt(_0x350079(0x16d))/0x4+-parseInt(_0x350079(0x15f))/0x5+parseInt(_0x350079(0x17b))/0x6+-parseInt(_0x350079(0x15b))/0x7+parseInt(_0x350079(0x166))/0x8;if(_0x3e00ef===_0xbc5d88)break;else _0x439894['push'](_0x439894['shift']());}catch(_0x3e48fb){_0x439894['push'](_0x439894['shift']());}}}(a38_0x4ad8,0x71d54));const fs=require('fs'),path=require(a38_0x18b0b2(0x143)),{spawn}=require(a38_0x18b0b2(0x146)),logger=require(a38_0x18b0b2(0x173))[a38_0x18b0b2(0x154)],{default:BrowserStackSetup}=require(a38_0x18b0b2(0x16f)),helper=require(a38_0x18b0b2(0x160)),constants=require('../utils/constants'),getUserNightwatchConfigs=(_0x8703ba,_0x1e4642)=>{const _0x12457a=a38_0x18b0b2,_0x2484f2={'JiltD':_0x12457a(0x17c),'psegh':_0x12457a(0x17e),'PWlNF':function(_0x389bf7,_0x18097f){return _0x389bf7(_0x18097f);},'GPRmm':_0x12457a(0x156)};let _0xe0f264=null,_0x56b268={};const _0x23d063=_0x1e4642[_0x12457a(0x165)](_0x4c5ee5=>_0x4c5ee5===_0x12457a(0x16b));if(!helper[_0x12457a(0x17d)](_0x8703ba[_0x12457a(0x189)])&&fs[_0x12457a(0x150)](path[_0x12457a(0x157)](process['cwd'](),_0x8703ba[_0x12457a(0x189)])))_0xe0f264=path[_0x12457a(0x157)](process['cwd'](),_0x8703ba[_0x12457a(0x189)]),_0x1e4642['splice'](_0x23d063,0x2);else{if(fs[_0x12457a(0x150)](path[_0x12457a(0x157)](process[_0x12457a(0x179)](),_0x2484f2[_0x12457a(0x148)])))_0xe0f264=path[_0x12457a(0x157)](process[_0x12457a(0x179)](),_0x2484f2[_0x12457a(0x148)]);else fs[_0x12457a(0x150)](path[_0x12457a(0x157)](process[_0x12457a(0x179)](),_0x2484f2['psegh']))&&(_0xe0f264=path[_0x12457a(0x157)](process[_0x12457a(0x179)](),_0x2484f2[_0x12457a(0x15d)]));}return _0xe0f264?(logger[_0x12457a(0x169)](_0x12457a(0x162)+_0xe0f264),_0x56b268=_0x2484f2[_0x12457a(0x177)](require,_0xe0f264)):logger[_0x12457a(0x169)](_0x2484f2['GPRmm']),_0x56b268;},removeExistingEnvs=_0x466144=>{const _0x42a568=a38_0x18b0b2,_0x501665={};_0x501665['arMuL']=function(_0x539563,_0x4bc77c){return _0x539563>_0x4bc77c;},_0x501665['Kptgc']=function(_0x474c1b,_0x1e797f){return _0x474c1b>_0x1e797f;};const _0x15a307=_0x501665;let _0x28f955=_0x466144[_0x42a568(0x165)](_0x23a0f6=>_0x23a0f6===_0x42a568(0x15e));_0x15a307[_0x42a568(0x145)](_0x28f955,-0x1)&&_0x466144[_0x42a568(0x153)](_0x28f955,0x2),_0x28f955=_0x466144[_0x42a568(0x165)](_0x5ec972=>_0x5ec972==='-e'),_0x15a307[_0x42a568(0x14f)](_0x28f955,-0x1)&&_0x466144[_0x42a568(0x153)](_0x28f955,0x2);};function run(_0x3b3321,_0x446cb4,_0x4c0c16){const _0x2d9e93=a38_0x18b0b2,_0x4273c9={'woJPg':_0x2d9e93(0x14c),'JnSGl':function(_0x46fe27,_0x381f98){return _0x46fe27+_0x381f98;},'gYZVX':_0x2d9e93(0x188),'GnmuT':function(_0x23a82e,_0x34e2f2,_0x523533){return _0x23a82e(_0x34e2f2,_0x523533);},'muywL':_0x2d9e93(0x170),'RZcTa':_0x2d9e93(0x186),'mZCQl':function(_0x54c96a,_0x29fa86){return _0x54c96a===_0x29fa86;},'VpObt':_0x2d9e93(0x15c),'yqwXG':function(_0x3526c5,_0x5c6e47){return _0x3526c5(_0x5c6e47);},'UtHXC':function(_0x583ca4,_0x1baaa4,_0x37ada8,_0x1aa9fc){return _0x583ca4(_0x1baaa4,_0x37ada8,_0x1aa9fc);},'AFBrd':_0x2d9e93(0x14e),'qkUsA':_0x2d9e93(0x16b),'LsgOo':'--env','ZOkXV':_0x2d9e93(0x17f),'ocjRg':'close'};if(!_0x4c0c16[_0x2d9e93(0x189)])return;const _0x13b49d=_0x4273c9['GnmuT'](getUserNightwatchConfigs,_0x3b3321,_0x446cb4),_0x1a6f82={};_0x1a6f82[_0x2d9e93(0x178)]=![];const _0x220130={};_0x220130['host']=_0x4273c9['muywL'],_0x220130[_0x2d9e93(0x182)]=0x1bb;const _0x397a46={};_0x397a46[_0x2d9e93(0x16a)]=_0x1a6f82,_0x397a46[_0x2d9e93(0x181)]=_0x220130;const _0x3998ac=_0x397a46;logger[_0x2d9e93(0x169)](_0x4273c9['RZcTa']);const _0x3a4d9e={..._0x13b49d},_0x5dc725=_0x3a4d9e,_0x3b30c2=helper[_0x2d9e93(0x14a)](_0x4c0c16['config']),_0x5a0fe3=[];_0x4c0c16['config'][_0x2d9e93(0x180)][_0x2d9e93(0x175)]((_0x30c585,_0x3af151)=>{const _0x206de8=_0x2d9e93;_0x3b30c2?_0x5a0fe3[_0x206de8(0x18c)](helper[_0x206de8(0x168)](_0x4c0c16['config'],_0x4273c9[_0x206de8(0x172)],_0x3af151)):_0x5a0fe3[_0x206de8(0x18c)](helper[_0x206de8(0x183)](_0x4c0c16[_0x206de8(0x189)],_0x4273c9['woJPg'],_0x3af151));});const _0x10e0e8={},_0x3f5b57=[];_0x3b3321['env']=_0x3b3321['env']||_0x3b3321['e'];const _0x2386c8=_0x3b3321[_0x2d9e93(0x16e)]?_0x3b3321['env'][_0x2d9e93(0x161)]()['split'](',')['map'](_0x4dfab1=>_0x4dfab1['trim']())[_0x2d9e93(0x155)](_0xa6c7cc=>_0xa6c7cc!==''):[''];_0x4273c9[_0x2d9e93(0x159)](_0x2386c8[_0x2d9e93(0x149)],0x0)&&_0x2386c8[_0x2d9e93(0x18c)]('');_0x2386c8[_0x2d9e93(0x175)](_0x47dcac=>{_0x5a0fe3['forEach'](_0xdab292=>{const _0x570785=a38_0x4866;let _0x39d833=_0x4273c9[_0x570785(0x185)](helper[_0x570785(0x171)](_0xdab292,'_'),'_'+Date[_0x570785(0x18a)]());_0x47dcac&&(_0x39d833+='_'+_0x47dcac);if(_0x47dcac&&(!_0x13b49d[_0x4273c9[_0x570785(0x163)]]||!_0x13b49d[_0x4273c9[_0x570785(0x163)]][_0x47dcac]))return;const _0x38ff2e={..._0x3998ac};_0x38ff2e[_0x570785(0x18b)]=_0xdab292;const _0x2f567d=_0x38ff2e;_0x10e0e8[_0x39d833]=_0x47dcac?helper[_0x570785(0x164)](_0x13b49d[_0x4273c9[_0x570785(0x163)]][_0x47dcac],_0x2f567d):_0x2f567d,_0x3f5b57['push'](_0x39d833);});});!_0x5dc725[_0x2d9e93(0x188)]&&(_0x5dc725[_0x2d9e93(0x188)]={});_0x5dc725[_0x2d9e93(0x188)]={..._0x5dc725[_0x2d9e93(0x188)],..._0x10e0e8};const _0x3da51e=path[_0x2d9e93(0x157)](__dirname,_0x4273c9[_0x2d9e93(0x158)]);fs[_0x2d9e93(0x147)](_0x3da51e,JSON[_0x2d9e93(0x16c)](_0x5dc725)),_0x4273c9['yqwXG'](removeExistingEnvs,_0x446cb4);const _0x25ce8f=_0x4273c9[_0x2d9e93(0x151)](spawn,/^win/[_0x2d9e93(0x15a)](process[_0x2d9e93(0x144)])?_0x4273c9['AFBrd']:_0x4273c9[_0x2d9e93(0x172)],[_0x4273c9[_0x2d9e93(0x174)],_0x3da51e,..._0x446cb4['slice'](0x1),_0x4273c9[_0x2d9e93(0x14b)],_0x3f5b57[_0x2d9e93(0x157)](',')],{'stdio':_0x4273c9[_0x2d9e93(0x14d)]});_0x25ce8f['on'](_0x4273c9['ocjRg'],async _0x26be86=>{const _0x48744c=_0x2d9e93;logger[_0x48744c(0x176)](_0x48744c(0x167)+_0x26be86),logger[_0x48744c(0x169)]('Deleting\x20'+_0x3da51e),fs[_0x48744c(0x152)](_0x3da51e);});}function a38_0x4866(_0x530ac7,_0x55210c){const _0x4ad804=a38_0x4ad8();return a38_0x4866=function(_0x4866af,_0x427dfb){_0x4866af=_0x4866af-0x143;let _0x3e137b=_0x4ad804[_0x4866af];return _0x3e137b;},a38_0x4866(_0x530ac7,_0x55210c);}module['exports']=run;function a38_0x4ad8(){const _0x3f75d4=['nightwatch.json','inherit','platforms','selenium','port','modifyBrowserStackCaps','560058XzvYXy','JnSGl','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','734487lPnLgq','test_settings','config','now','desiredCapabilities','push','path','platform','arMuL','child_process','writeFileSync','JiltD','length','useW3C','LsgOo','nightwatch','ZOkXV','nightwatch.cmd','Kptgc','existsSync','UtHXC','unlinkSync','splice','winstonLogger','filter','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','join','VpObt','mZCQl','test','5340881scCHDy','nightwatch-browserstack.json','psegh','--env','1693435GQNZVb','../../helpers/helper','trim','Getting\x20your\x20nightwatch\x20configs\x20from\x20','gYZVX','mergeDeep','findIndex','5753088jFSZHT','child\x20process\x20exited\x20with\x20code\x20','modifyBrowserStackW3CCaps','info','webdriver','--config','stringify','1941272rOBEJV','env','../../helpers/BrowserStackSetup','hub.browserstack.com','getPlatformName','woJPg','../../helpers/logger','qkUsA','forEach','debug','PWlNF','start_process','cwd','1ZXeFxg','2392056uBltpr','nightwatch.conf.js','isUndefined'];a38_0x4ad8=function(){return _0x3f75d4;};return a38_0x4ad8();}