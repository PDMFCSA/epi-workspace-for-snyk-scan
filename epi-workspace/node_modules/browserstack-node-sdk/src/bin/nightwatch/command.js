#!/usr/bin/env node
'use strict';const a38_0x52d6fb=a38_0xec82;(function(_0x3b9339,_0x10ddd8){const _0x44d12e=a38_0xec82,_0x355216=_0x3b9339();while(!![]){try{const _0x4969cc=-parseInt(_0x44d12e(0xbf))/0x1+parseInt(_0x44d12e(0xdd))/0x2+-parseInt(_0x44d12e(0xba))/0x3+parseInt(_0x44d12e(0xd7))/0x4+parseInt(_0x44d12e(0xd3))/0x5*(parseInt(_0x44d12e(0xc8))/0x6)+parseInt(_0x44d12e(0xbb))/0x7*(-parseInt(_0x44d12e(0xed))/0x8)+-parseInt(_0x44d12e(0xb2))/0x9*(parseInt(_0x44d12e(0xce))/0xa);if(_0x4969cc===_0x10ddd8)break;else _0x355216['push'](_0x355216['shift']());}catch(_0xa47e4b){_0x355216['push'](_0x355216['shift']());}}}(a38_0x269e,0x5d451));const fs=require('fs'),path=require(a38_0x52d6fb(0xc5)),{spawn}=require(a38_0x52d6fb(0xb4)),logger=require(a38_0x52d6fb(0xe0))['winstonLogger'],{default:BrowserStackSetup}=require(a38_0x52d6fb(0xd5)),helper=require(a38_0x52d6fb(0xe7)),constants=require(a38_0x52d6fb(0xbe)),getUserNightwatchConfigs=(_0x57585c,_0x2251c0)=>{const _0x1b6352=a38_0x52d6fb,_0x39b209={'iwWca':'nightwatch.conf.js','PCGQR':_0x1b6352(0xe3),'rWOxC':function(_0x3c465d,_0x78aef0){return _0x3c465d(_0x78aef0);},'iXygZ':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x298581=null,_0x183186={};const _0xf69e7e=_0x2251c0[_0x1b6352(0xca)](_0x23dd4d=>_0x23dd4d===_0x1b6352(0xec));if(!helper['isUndefined'](_0x57585c[_0x1b6352(0xdf)])&&fs[_0x1b6352(0xcf)](path[_0x1b6352(0xf0)](process['cwd'](),_0x57585c['config'])))_0x298581=path[_0x1b6352(0xf0)](process[_0x1b6352(0xe2)](),_0x57585c[_0x1b6352(0xdf)]),_0x2251c0[_0x1b6352(0xf3)](_0xf69e7e,0x2);else{if(fs[_0x1b6352(0xcf)](path['join'](process[_0x1b6352(0xe2)](),_0x39b209[_0x1b6352(0xc3)])))_0x298581=path[_0x1b6352(0xf0)](process['cwd'](),_0x39b209[_0x1b6352(0xc3)]);else fs[_0x1b6352(0xcf)](path['join'](process[_0x1b6352(0xe2)](),_0x39b209['PCGQR']))&&(_0x298581=path['join'](process[_0x1b6352(0xe2)](),_0x39b209[_0x1b6352(0xb6)]));}return _0x298581?(logger['info']('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x298581),_0x183186=_0x39b209[_0x1b6352(0xf2)](require,_0x298581)):logger[_0x1b6352(0xd0)](_0x39b209[_0x1b6352(0xb9)]),_0x183186;},removeExistingEnvs=_0x48c06b=>{const _0x1d5da0=a38_0x52d6fb,_0x4817e7={};_0x4817e7[_0x1d5da0(0xbc)]=function(_0x39f0e7,_0xe9885f){return _0x39f0e7>_0xe9885f;};const _0x4412cd=_0x4817e7;let _0x17b2ba=_0x48c06b['findIndex'](_0x5e7f07=>_0x5e7f07===_0x1d5da0(0xd2));_0x4412cd[_0x1d5da0(0xbc)](_0x17b2ba,-0x1)&&_0x48c06b[_0x1d5da0(0xf3)](_0x17b2ba,0x2),_0x17b2ba=_0x48c06b[_0x1d5da0(0xca)](_0x5a3e1=>_0x5a3e1==='-e'),_0x4412cd[_0x1d5da0(0xbc)](_0x17b2ba,-0x1)&&_0x48c06b[_0x1d5da0(0xf3)](_0x17b2ba,0x2);};function run(_0x362bb6,_0x24f4a3,_0x2bf074){const _0x53e7f4=a38_0x52d6fb,_0x550b29={'sHLbn':_0x53e7f4(0xb7),'GOpiW':function(_0x2a66d2,_0x4aa137){return _0x2a66d2+_0x4aa137;},'VLIJc':_0x53e7f4(0xc4),'FUnZh':function(_0x5b7427,_0x4b8005,_0x62955){return _0x5b7427(_0x4b8005,_0x62955);},'bMyZI':_0x53e7f4(0xde),'zGfdZ':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','UasjQ':function(_0xe1bc65,_0xf8b391){return _0xe1bc65===_0xf8b391;},'dSewU':_0x53e7f4(0xc0),'xRXaz':function(_0x254445,_0x70fe41){return _0x254445(_0x70fe41);},'mBniu':function(_0x5657e0,_0x232a92,_0x488926,_0x3b7875){return _0x5657e0(_0x232a92,_0x488926,_0x3b7875);},'DnYqg':_0x53e7f4(0xd1),'SurAg':'--config','bsLai':_0x53e7f4(0xd2),'VkwsA':_0x53e7f4(0xc7),'acthl':'close'};if(!_0x2bf074[_0x53e7f4(0xdf)])return;const _0x499fa8=_0x550b29[_0x53e7f4(0xf5)](getUserNightwatchConfigs,_0x362bb6,_0x24f4a3),_0x22be56={};_0x22be56['start_process']=![];const _0x6435d5={};_0x6435d5[_0x53e7f4(0xcb)]=_0x550b29[_0x53e7f4(0xcd)],_0x6435d5[_0x53e7f4(0xdc)]=0x1bb;const _0x5aae1e={};_0x5aae1e[_0x53e7f4(0xef)]=_0x22be56,_0x5aae1e[_0x53e7f4(0xc2)]=_0x6435d5;const _0x5d9342=_0x5aae1e;logger['info'](_0x550b29[_0x53e7f4(0xf4)]);const _0x4de2f7={..._0x499fa8},_0x245ca0=_0x4de2f7,_0x29077c=helper[_0x53e7f4(0xe1)](_0x2bf074[_0x53e7f4(0xdf)]),_0x54af4f=[];_0x2bf074['config']['platforms'][_0x53e7f4(0xb3)]((_0x439b3f,_0x45d084)=>{const _0x51d820=_0x53e7f4;_0x29077c?_0x54af4f['push'](helper[_0x51d820(0xf6)](_0x2bf074['config'],_0x550b29[_0x51d820(0xbd)],_0x45d084)):_0x54af4f[_0x51d820(0xf1)](helper[_0x51d820(0xee)](_0x2bf074[_0x51d820(0xdf)],_0x550b29[_0x51d820(0xbd)],_0x45d084));});const _0x34470c={},_0x234850=[];_0x362bb6[_0x53e7f4(0xe6)]=_0x362bb6['env']||_0x362bb6['e'];const _0x2077a7=_0x362bb6[_0x53e7f4(0xe6)]?_0x362bb6[_0x53e7f4(0xe6)][_0x53e7f4(0xcc)]()['split'](',')[_0x53e7f4(0xb1)](_0x115b52=>_0x115b52[_0x53e7f4(0xcc)]())['filter'](_0x1e03b5=>_0x1e03b5!==''):[''];_0x550b29['UasjQ'](_0x2077a7['length'],0x0)&&_0x2077a7['push']('');_0x2077a7[_0x53e7f4(0xb3)](_0x2a6aa3=>{const _0x5f28f2=_0x53e7f4;_0x54af4f[_0x5f28f2(0xb3)](_0x24e53f=>{const _0x61d9ab=_0x5f28f2;let _0x7f0d2f=_0x550b29['GOpiW'](helper[_0x61d9ab(0xc9)](_0x24e53f,'_'),'_'+Date[_0x61d9ab(0xea)]());_0x2a6aa3&&(_0x7f0d2f+='_'+_0x2a6aa3);if(_0x2a6aa3&&(!_0x499fa8[_0x550b29[_0x61d9ab(0xd9)]]||!_0x499fa8[_0x550b29[_0x61d9ab(0xd9)]][_0x2a6aa3]))return;const _0x32b392={..._0x5d9342};_0x32b392[_0x61d9ab(0xe9)]=_0x24e53f;const _0x3efde5=_0x32b392;_0x34470c[_0x7f0d2f]=_0x2a6aa3?helper[_0x61d9ab(0xe4)](_0x499fa8[_0x550b29[_0x61d9ab(0xd9)]][_0x2a6aa3],_0x3efde5):_0x3efde5,_0x234850[_0x61d9ab(0xf1)](_0x7f0d2f);});});!_0x245ca0['test_settings']&&(_0x245ca0[_0x53e7f4(0xc4)]={});_0x245ca0[_0x53e7f4(0xc4)]={..._0x245ca0[_0x53e7f4(0xc4)],..._0x34470c};const _0x4d48ae=path['join'](__dirname,_0x550b29[_0x53e7f4(0xc1)]);fs['writeFileSync'](_0x4d48ae,JSON[_0x53e7f4(0xeb)](_0x245ca0)),_0x550b29[_0x53e7f4(0xd8)](removeExistingEnvs,_0x24f4a3);const _0x2dddba=_0x550b29[_0x53e7f4(0xc6)](spawn,/^win/[_0x53e7f4(0xf8)](process['platform'])?_0x550b29[_0x53e7f4(0xd6)]:_0x550b29[_0x53e7f4(0xbd)],[_0x550b29['SurAg'],_0x4d48ae,..._0x24f4a3[_0x53e7f4(0xdb)](0x1),_0x550b29[_0x53e7f4(0xda)],_0x234850[_0x53e7f4(0xf0)](',')],{'stdio':_0x550b29[_0x53e7f4(0xe8)]});_0x2dddba['on'](_0x550b29['acthl'],async _0x3e965b=>{const _0x2dd7d3=_0x53e7f4;logger[_0x2dd7d3(0xb5)](_0x2dd7d3(0xf7)+_0x3e965b),logger[_0x2dd7d3(0xd0)](_0x2dd7d3(0xb8)+_0x4d48ae),fs[_0x2dd7d3(0xd4)](_0x4d48ae);});}function a38_0xec82(_0xbb9a65,_0x495048){const _0x269ef1=a38_0x269e();return a38_0xec82=function(_0xec8219,_0x41bafb){_0xec8219=_0xec8219-0xb1;let _0x1f3303=_0x269ef1[_0xec8219];return _0x1f3303;},a38_0xec82(_0xbb9a65,_0x495048);}module[a38_0x52d6fb(0xe5)]=run;function a38_0x269e(){const _0x19ab46=['child\x20process\x20exited\x20with\x20code\x20','test','map','9ghYQtc','forEach','child_process','debug','PCGQR','nightwatch','Deleting\x20','iXygZ','1657569QdUVVZ','5509eXMGoi','cbtTj','sHLbn','../utils/constants','183113pmvHXG','nightwatch-browserstack.json','dSewU','selenium','iwWca','test_settings','path','mBniu','inherit','198VxsMuQ','getPlatformName','findIndex','host','trim','bMyZI','1123420JukGwA','existsSync','info','nightwatch.cmd','--env','55255zajcca','unlinkSync','../../helpers/BrowserStackSetup','DnYqg','2539760BoCXMF','xRXaz','VLIJc','bsLai','slice','port','1243054hVuvcs','hub.browserstack.com','config','../../helpers/logger','useW3C','cwd','nightwatch.json','mergeDeep','exports','env','../../helpers/helper','VkwsA','desiredCapabilities','now','stringify','--config','3976QOywzU','modifyBrowserStackCaps','webdriver','join','push','rWOxC','splice','zGfdZ','FUnZh','modifyBrowserStackW3CCaps'];a38_0x269e=function(){return _0x19ab46;};return a38_0x269e();}