#!/usr/bin/env node
'use strict';const a37_0xa819bf=a37_0x1b17;function a37_0x21fa(){const _0x4456d5=['slice','path','1260300kztPwZ','13bTwTxQ','orBMx','../../helpers/BrowserStackSetup','isUndefined','now','../../helpers/logger','Getting\x20your\x20nightwatch\x20configs\x20from\x20','nightwatch-browserstack.json','4186179uphhuT','../utils/constants','IBnxI','nightwatch','50858IXlicY','nightwatch.conf.js','debug','nightwatch.json','nihnU','hub.browserstack.com','info','--config','winstonLogger','300738rnJbUw','stringify','mergeDeep','ygEDq','splice','existsSync','test','desiredCapabilities','hxxUI','port','NgRkH','config','oeWHg','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','644416glnBVW','test_settings','webdriver','inherit','lJesL','push','join','child_process','env','trim','findIndex','cwd','UHAQd','--env','exports','JJlQP','AlZcR','split','Deleting\x20','platforms','BRTNM','bdgaW','map','forEach','653328Jmpoai','../../helpers/helper','start_process','getPlatformName','modifyBrowserStackW3CCaps','28fhNMFh','selenium','YoqQg','FETFt','nGUFg','filter','1060484QeOuGI','gPXqP','unlinkSync'];a37_0x21fa=function(){return _0x4456d5;};return a37_0x21fa();}(function(_0x28fffe,_0x1e4890){const _0x1fae27=a37_0x1b17,_0x32eef3=_0x28fffe();while(!![]){try{const _0x493e0b=parseInt(_0x1fae27(0xb9))/0x1*(parseInt(_0x1fae27(0x78))/0x2)+parseInt(_0x1fae27(0xa8))/0x3+-parseInt(_0x1fae27(0xb3))/0x4+-parseInt(_0x1fae27(0xb8))/0x5+-parseInt(_0x1fae27(0x81))/0x6*(parseInt(_0x1fae27(0xad))/0x7)+-parseInt(_0x1fae27(0x90))/0x8+parseInt(_0x1fae27(0xc1))/0x9;if(_0x493e0b===_0x1e4890)break;else _0x32eef3['push'](_0x32eef3['shift']());}catch(_0x4c65d9){_0x32eef3['push'](_0x32eef3['shift']());}}}(a37_0x21fa,0x348db));const fs=require('fs'),path=require(a37_0xa819bf(0xb7)),{spawn}=require(a37_0xa819bf(0x97)),logger=require(a37_0xa819bf(0xbe))[a37_0xa819bf(0x80)],{default:BrowserStackSetup}=require(a37_0xa819bf(0xbb)),helper=require(a37_0xa819bf(0xa9)),constants=require(a37_0xa819bf(0xc2)),getUserNightwatchConfigs=(_0x3a2b7a,_0x49bc63)=>{const _0x2dd607=a37_0xa819bf,_0x4b4494={'UHAQd':_0x2dd607(0x79),'FETFt':_0x2dd607(0x7b),'lJesL':function(_0x11a1ee,_0x473734){return _0x11a1ee(_0x473734);},'pENVb':_0x2dd607(0x8f)};let _0x138b92=null,_0x341476={};const _0x125448=_0x49bc63[_0x2dd607(0x9a)](_0x471cd6=>_0x471cd6===_0x2dd607(0x7f));if(!helper[_0x2dd607(0xbc)](_0x3a2b7a[_0x2dd607(0x8c)])&&fs[_0x2dd607(0x86)](path[_0x2dd607(0x96)](process[_0x2dd607(0x9b)](),_0x3a2b7a[_0x2dd607(0x8c)])))_0x138b92=path['join'](process[_0x2dd607(0x9b)](),_0x3a2b7a['config']),_0x49bc63[_0x2dd607(0x85)](_0x125448,0x2);else{if(fs[_0x2dd607(0x86)](path[_0x2dd607(0x96)](process[_0x2dd607(0x9b)](),_0x4b4494[_0x2dd607(0x9c)])))_0x138b92=path[_0x2dd607(0x96)](process['cwd'](),_0x4b4494[_0x2dd607(0x9c)]);else fs['existsSync'](path[_0x2dd607(0x96)](process[_0x2dd607(0x9b)](),_0x4b4494['FETFt']))&&(_0x138b92=path['join'](process[_0x2dd607(0x9b)](),_0x4b4494[_0x2dd607(0xb0)]));}return _0x138b92?(logger[_0x2dd607(0x7e)](_0x2dd607(0xbf)+_0x138b92),_0x341476=_0x4b4494[_0x2dd607(0x94)](require,_0x138b92)):logger[_0x2dd607(0x7e)](_0x4b4494['pENVb']),_0x341476;},removeExistingEnvs=_0x15a423=>{const _0x4b1050=a37_0xa819bf,_0x261803={};_0x261803[_0x4b1050(0x76)]=function(_0x11ed0c,_0x3ae24d){return _0x11ed0c>_0x3ae24d;};const _0x9f51b1=_0x261803;let _0x2b9aef=_0x15a423[_0x4b1050(0x9a)](_0xf59557=>_0xf59557===_0x4b1050(0x9d));_0x9f51b1[_0x4b1050(0x76)](_0x2b9aef,-0x1)&&_0x15a423[_0x4b1050(0x85)](_0x2b9aef,0x2),_0x2b9aef=_0x15a423['findIndex'](_0x3eb631=>_0x3eb631==='-e'),_0x9f51b1['IBnxI'](_0x2b9aef,-0x1)&&_0x15a423[_0x4b1050(0x85)](_0x2b9aef,0x2);};function a37_0x1b17(_0x4f5321,_0x39fe05){const _0x21fa56=a37_0x21fa();return a37_0x1b17=function(_0x1b17f7,_0x10d336){_0x1b17f7=_0x1b17f7-0x76;let _0x107cd1=_0x21fa56[_0x1b17f7];return _0x107cd1;},a37_0x1b17(_0x4f5321,_0x39fe05);}function run(_0x3c208e,_0x38dcef,_0x2abe8f){const _0xbc48c4=a37_0xa819bf,_0x2d813a={'nGUFg':_0xbc48c4(0x77),'ygEDq':function(_0x22f464,_0x229442){return _0x22f464+_0x229442;},'nihnU':_0xbc48c4(0x91),'hxxUI':function(_0x49e055,_0x5b5469,_0x3d0a25){return _0x49e055(_0x5b5469,_0x3d0a25);},'NgRkH':_0xbc48c4(0x7d),'BRTNM':_0xbc48c4(0x8e),'GRqxy':function(_0x270f5f,_0x2fdaa0){return _0x270f5f===_0x2fdaa0;},'YoqQg':_0xbc48c4(0xc0),'bdgaW':function(_0x1f8acf,_0x480c9a){return _0x1f8acf(_0x480c9a);},'JJlQP':function(_0x40cd4c,_0x16b889,_0x35a0cd,_0x2df6d3){return _0x40cd4c(_0x16b889,_0x35a0cd,_0x2df6d3);},'oeWHg':'nightwatch.cmd','yiBZM':_0xbc48c4(0x7f),'AlZcR':_0xbc48c4(0x9d),'gPXqP':_0xbc48c4(0x93),'orBMx':'close'};if(!_0x2abe8f[_0xbc48c4(0x8c)])return;const _0x5c39d4=_0x2d813a[_0xbc48c4(0x89)](getUserNightwatchConfigs,_0x3c208e,_0x38dcef),_0x39eac6={};_0x39eac6[_0xbc48c4(0xaa)]=![];const _0x11aa2c={};_0x11aa2c['host']=_0x2d813a[_0xbc48c4(0x8b)],_0x11aa2c[_0xbc48c4(0x8a)]=0x1bb;const _0x53bdc8={};_0x53bdc8[_0xbc48c4(0x92)]=_0x39eac6,_0x53bdc8[_0xbc48c4(0xae)]=_0x11aa2c;const _0x19fc6e=_0x53bdc8;logger[_0xbc48c4(0x7e)](_0x2d813a[_0xbc48c4(0xa4)]);const _0x51a09f={..._0x5c39d4},_0x5f1976=_0x51a09f,_0x446951=helper['useW3C'](_0x2abe8f[_0xbc48c4(0x8c)]),_0x485208=[];_0x2abe8f[_0xbc48c4(0x8c)][_0xbc48c4(0xa3)][_0xbc48c4(0xa7)]((_0xceb8f8,_0x5e0ca8)=>{const _0x3c0897=_0xbc48c4;_0x446951?_0x485208[_0x3c0897(0x95)](helper[_0x3c0897(0xac)](_0x2abe8f[_0x3c0897(0x8c)],_0x2d813a[_0x3c0897(0xb1)],_0x5e0ca8)):_0x485208[_0x3c0897(0x95)](helper['modifyBrowserStackCaps'](_0x2abe8f[_0x3c0897(0x8c)],_0x2d813a[_0x3c0897(0xb1)],_0x5e0ca8));});const _0x3ad5db={},_0x50166a=[];_0x3c208e[_0xbc48c4(0x98)]=_0x3c208e[_0xbc48c4(0x98)]||_0x3c208e['e'];const _0x2e7f6f=_0x3c208e[_0xbc48c4(0x98)]?_0x3c208e[_0xbc48c4(0x98)][_0xbc48c4(0x99)]()[_0xbc48c4(0xa1)](',')[_0xbc48c4(0xa6)](_0x1cc3e0=>_0x1cc3e0['trim']())[_0xbc48c4(0xb2)](_0xfb156=>_0xfb156!==''):[''];_0x2d813a['GRqxy'](_0x2e7f6f['length'],0x0)&&_0x2e7f6f[_0xbc48c4(0x95)]('');_0x2e7f6f[_0xbc48c4(0xa7)](_0x4d5847=>{_0x485208['forEach'](_0x3902ce=>{const _0x2b0cce=a37_0x1b17;let _0x59defa=_0x2d813a[_0x2b0cce(0x84)](helper[_0x2b0cce(0xab)](_0x3902ce,'_'),'_'+Date[_0x2b0cce(0xbd)]());_0x4d5847&&(_0x59defa+='_'+_0x4d5847);if(_0x4d5847&&(!_0x5c39d4[_0x2d813a[_0x2b0cce(0x7c)]]||!_0x5c39d4[_0x2d813a[_0x2b0cce(0x7c)]][_0x4d5847]))return;const _0x341536={..._0x19fc6e};_0x341536[_0x2b0cce(0x88)]=_0x3902ce;const _0x4a8368=_0x341536;_0x3ad5db[_0x59defa]=_0x4d5847?helper[_0x2b0cce(0x83)](_0x5c39d4[_0x2d813a['nihnU']][_0x4d5847],_0x4a8368):_0x4a8368,_0x50166a[_0x2b0cce(0x95)](_0x59defa);});});!_0x5f1976['test_settings']&&(_0x5f1976[_0xbc48c4(0x91)]={});_0x5f1976[_0xbc48c4(0x91)]={..._0x5f1976[_0xbc48c4(0x91)],..._0x3ad5db};const _0x21d2cb=path[_0xbc48c4(0x96)](__dirname,_0x2d813a[_0xbc48c4(0xaf)]);fs['writeFileSync'](_0x21d2cb,JSON[_0xbc48c4(0x82)](_0x5f1976)),_0x2d813a[_0xbc48c4(0xa5)](removeExistingEnvs,_0x38dcef);const _0x265d5a=_0x2d813a[_0xbc48c4(0x9f)](spawn,/^win/[_0xbc48c4(0x87)](process['platform'])?_0x2d813a[_0xbc48c4(0x8d)]:_0x2d813a[_0xbc48c4(0xb1)],[_0x2d813a['yiBZM'],_0x21d2cb,..._0x38dcef[_0xbc48c4(0xb6)](0x1),_0x2d813a[_0xbc48c4(0xa0)],_0x50166a[_0xbc48c4(0x96)](',')],{'stdio':_0x2d813a[_0xbc48c4(0xb4)]});_0x265d5a['on'](_0x2d813a[_0xbc48c4(0xba)],async _0x1cb615=>{const _0x1d1488=_0xbc48c4;logger[_0x1d1488(0x7a)]('child\x20process\x20exited\x20with\x20code\x20'+_0x1cb615),logger[_0x1d1488(0x7e)](_0x1d1488(0xa2)+_0x21d2cb),fs[_0x1d1488(0xb5)](_0x21d2cb);});}module[a37_0xa819bf(0x9e)]=run;