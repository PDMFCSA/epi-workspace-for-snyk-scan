#!/usr/bin/env node
'use strict';const a37_0x4e0348=a37_0x158e;(function(_0x22b093,_0x284c94){const _0xeae91=a37_0x158e,_0x41ae18=_0x22b093();while(!![]){try{const _0x23eb3e=parseInt(_0xeae91(0x14c))/0x1*(parseInt(_0xeae91(0x139))/0x2)+-parseInt(_0xeae91(0x165))/0x3+parseInt(_0xeae91(0x155))/0x4*(-parseInt(_0xeae91(0x136))/0x5)+-parseInt(_0xeae91(0x15d))/0x6+parseInt(_0xeae91(0x133))/0x7*(-parseInt(_0xeae91(0x137))/0x8)+parseInt(_0xeae91(0x15f))/0x9*(-parseInt(_0xeae91(0x129))/0xa)+parseInt(_0xeae91(0x143))/0xb*(parseInt(_0xeae91(0x122))/0xc);if(_0x23eb3e===_0x284c94)break;else _0x41ae18['push'](_0x41ae18['shift']());}catch(_0x5a3cc8){_0x41ae18['push'](_0x41ae18['shift']());}}}(a37_0x3530,0x85811));function a37_0x158e(_0x31d222,_0x5f2dae){const _0x353047=a37_0x3530();return a37_0x158e=function(_0x158e04,_0x1b6b83){_0x158e04=_0x158e04-0x11e;let _0x44620f=_0x353047[_0x158e04];return _0x44620f;},a37_0x158e(_0x31d222,_0x5f2dae);}function a37_0x3530(){const _0x1a0a2a=['970YzrEjz','winstonLogger','cwd','child\x20process\x20exited\x20with\x20code\x20','../utils/constants','FYeYm','../../helpers/helper','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','nightwatch.cmd','mgolw','7HgaHCC','NzndA','IPLyL','5ywkAcM','8627144QxcuSJ','selenium','4vHswwY','modifyBrowserStackW3CCaps','../../helpers/BrowserStackSetup','unlinkSync','VxEhX','AeAao','MYenZ','writeFileSync','KbHUs','hub.browserstack.com','14102yRpfcj','forEach','SqLWJ','nightwatch.json','info','join','nightwatch','getPlatformName','modifyBrowserStackCaps','456569JjWROX','filter','GRFCf','wckLc','close','desiredCapabilities','path','XmXEd','--env','3343668JRzXsj','nightwatch.conf.js','jJluR','nightwatch-browserstack.json','OdmHe','platform','--config','vjKKz','37506ypgMhG','port','32517PZAdwP','webdriver','SQPhh','push','env','test_settings','1262493mMsIam','findIndex','lQbyK','start_process','CSFeN','Getting\x20your\x20nightwatch\x20configs\x20from\x20','isUndefined','yWVxW','slice','Deleting\x20','now','../../helpers/logger','EnVfw','config','platforms','21768yNrQSm','splice','trim','existsSync','length','mYZJi','map'];a37_0x3530=function(){return _0x1a0a2a;};return a37_0x3530();}const fs=require('fs'),path=require(a37_0x4e0348(0x152)),{spawn}=require('child_process'),logger=require(a37_0x4e0348(0x11e))[a37_0x4e0348(0x12a)],{default:BrowserStackSetup}=require(a37_0x4e0348(0x13b)),helper=require(a37_0x4e0348(0x12f)),constants=require(a37_0x4e0348(0x12d)),getUserNightwatchConfigs=(_0xdae08a,_0x2b8cba)=>{const _0x4995ef=a37_0x4e0348,_0x167361={'SQPhh':_0x4995ef(0x156),'vjKKz':_0x4995ef(0x146),'yWVxW':function(_0x24b888,_0x374634){return _0x24b888(_0x374634);},'SqLWJ':_0x4995ef(0x130)};let _0x5e0df3=null,_0x4219fc={};const _0x28a834=_0x2b8cba[_0x4995ef(0x166)](_0x4cddf8=>_0x4cddf8==='--config');if(!helper[_0x4995ef(0x16b)](_0xdae08a['config'])&&fs[_0x4995ef(0x125)](path[_0x4995ef(0x148)](process[_0x4995ef(0x12b)](),_0xdae08a[_0x4995ef(0x120)])))_0x5e0df3=path[_0x4995ef(0x148)](process[_0x4995ef(0x12b)](),_0xdae08a[_0x4995ef(0x120)]),_0x2b8cba[_0x4995ef(0x123)](_0x28a834,0x2);else{if(fs['existsSync'](path[_0x4995ef(0x148)](process[_0x4995ef(0x12b)](),_0x167361[_0x4995ef(0x161)])))_0x5e0df3=path[_0x4995ef(0x148)](process[_0x4995ef(0x12b)](),_0x167361['SQPhh']);else fs[_0x4995ef(0x125)](path[_0x4995ef(0x148)](process[_0x4995ef(0x12b)](),_0x167361[_0x4995ef(0x15c)]))&&(_0x5e0df3=path[_0x4995ef(0x148)](process[_0x4995ef(0x12b)](),_0x167361[_0x4995ef(0x15c)]));}return _0x5e0df3?(logger[_0x4995ef(0x147)](_0x4995ef(0x16a)+_0x5e0df3),_0x4219fc=_0x167361[_0x4995ef(0x16c)](require,_0x5e0df3)):logger[_0x4995ef(0x147)](_0x167361[_0x4995ef(0x145)]),_0x4219fc;},removeExistingEnvs=_0x5a3799=>{const _0x5d3ca4=a37_0x4e0348,_0x9356a5={};_0x9356a5['IPLyL']=function(_0x2adcb1,_0x4c9fb0){return _0x2adcb1>_0x4c9fb0;},_0x9356a5[_0x5d3ca4(0x134)]=function(_0x3938f5,_0x3361c7){return _0x3938f5>_0x3361c7;};const _0x199a70=_0x9356a5;let _0x1bf459=_0x5a3799[_0x5d3ca4(0x166)](_0xfe7fba=>_0xfe7fba===_0x5d3ca4(0x154));_0x199a70[_0x5d3ca4(0x135)](_0x1bf459,-0x1)&&_0x5a3799[_0x5d3ca4(0x123)](_0x1bf459,0x2),_0x1bf459=_0x5a3799[_0x5d3ca4(0x166)](_0x53e3b3=>_0x53e3b3==='-e'),_0x199a70[_0x5d3ca4(0x134)](_0x1bf459,-0x1)&&_0x5a3799[_0x5d3ca4(0x123)](_0x1bf459,0x2);};function run(_0x2e6ee9,_0xcb5d4a,_0x223acd){const _0x59dc70=a37_0x4e0348,_0x139b12={'AeAao':_0x59dc70(0x149),'GRFCf':function(_0x4fee74,_0x45adba){return _0x4fee74+_0x45adba;},'MYenZ':'test_settings','OdmHe':function(_0x1c5c1f,_0x58f7da,_0x26def1){return _0x1c5c1f(_0x58f7da,_0x26def1);},'knamU':_0x59dc70(0x142),'wckLc':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','mYZJi':function(_0x53f1d2,_0x5e0625){return _0x53f1d2===_0x5e0625;},'FYeYm':_0x59dc70(0x158),'mgolw':function(_0x1d01f5,_0x4dda1e){return _0x1d01f5(_0x4dda1e);},'InAwb':function(_0x4209d5,_0x17afdf,_0x128338,_0x3bba74){return _0x4209d5(_0x17afdf,_0x128338,_0x3bba74);},'EnVfw':_0x59dc70(0x131),'XmXEd':_0x59dc70(0x15b),'CSFeN':'--env','KbHUs':'inherit','lQbyK':_0x59dc70(0x150)};if(!_0x223acd['config'])return;const _0x523f37=_0x139b12[_0x59dc70(0x159)](getUserNightwatchConfigs,_0x2e6ee9,_0xcb5d4a),_0x3dbdb4={};_0x3dbdb4[_0x59dc70(0x168)]=![];const _0x2fca79={};_0x2fca79['host']=_0x139b12['knamU'],_0x2fca79[_0x59dc70(0x15e)]=0x1bb;const _0x3083c5={};_0x3083c5[_0x59dc70(0x160)]=_0x3dbdb4,_0x3083c5[_0x59dc70(0x138)]=_0x2fca79;const _0x17cf66=_0x3083c5;logger[_0x59dc70(0x147)](_0x139b12[_0x59dc70(0x14f)]);const _0x90008a={..._0x523f37},_0x3c3c79=_0x90008a,_0x4d3560=helper['useW3C'](_0x223acd[_0x59dc70(0x120)]),_0x177873=[];_0x223acd[_0x59dc70(0x120)][_0x59dc70(0x121)][_0x59dc70(0x144)]((_0x46532d,_0x1c1dd2)=>{const _0xe5010b=_0x59dc70;_0x4d3560?_0x177873[_0xe5010b(0x162)](helper[_0xe5010b(0x13a)](_0x223acd[_0xe5010b(0x120)],_0x139b12[_0xe5010b(0x13e)],_0x1c1dd2)):_0x177873[_0xe5010b(0x162)](helper[_0xe5010b(0x14b)](_0x223acd[_0xe5010b(0x120)],_0x139b12[_0xe5010b(0x13e)],_0x1c1dd2));});const _0x389b2b={},_0x3bf5eb=[];_0x2e6ee9[_0x59dc70(0x163)]=_0x2e6ee9[_0x59dc70(0x163)]||_0x2e6ee9['e'];const _0x87d0b=_0x2e6ee9['env']?_0x2e6ee9[_0x59dc70(0x163)][_0x59dc70(0x124)]()['split'](',')[_0x59dc70(0x128)](_0x5088b2=>_0x5088b2[_0x59dc70(0x124)]())[_0x59dc70(0x14d)](_0xa63f7=>_0xa63f7!==''):[''];_0x139b12[_0x59dc70(0x127)](_0x87d0b[_0x59dc70(0x126)],0x0)&&_0x87d0b['push']('');_0x87d0b[_0x59dc70(0x144)](_0x3d8e13=>{const _0x3ec7b5=_0x59dc70,_0x1d74bd={'VxEhX':function(_0x129eb9,_0x2180ff){const _0x5908af=a37_0x158e;return _0x139b12[_0x5908af(0x14e)](_0x129eb9,_0x2180ff);},'jJluR':_0x139b12[_0x3ec7b5(0x13f)]};_0x177873[_0x3ec7b5(0x144)](_0xf2b520=>{const _0x5926d0=_0x3ec7b5;let _0x1fd09f=_0x1d74bd[_0x5926d0(0x13d)](helper[_0x5926d0(0x14a)](_0xf2b520,'_'),'_'+Date[_0x5926d0(0x16f)]());_0x3d8e13&&(_0x1fd09f+='_'+_0x3d8e13);if(_0x3d8e13&&(!_0x523f37[_0x1d74bd['jJluR']]||!_0x523f37[_0x1d74bd[_0x5926d0(0x157)]][_0x3d8e13]))return;const _0x56b1f2={..._0x17cf66};_0x56b1f2[_0x5926d0(0x151)]=_0xf2b520;const _0x4026a5=_0x56b1f2;_0x389b2b[_0x1fd09f]=_0x3d8e13?helper['mergeDeep'](_0x523f37[_0x1d74bd[_0x5926d0(0x157)]][_0x3d8e13],_0x4026a5):_0x4026a5,_0x3bf5eb['push'](_0x1fd09f);});});!_0x3c3c79[_0x59dc70(0x164)]&&(_0x3c3c79[_0x59dc70(0x164)]={});_0x3c3c79[_0x59dc70(0x164)]={..._0x3c3c79[_0x59dc70(0x164)],..._0x389b2b};const _0x321c58=path[_0x59dc70(0x148)](__dirname,_0x139b12[_0x59dc70(0x12e)]);fs[_0x59dc70(0x140)](_0x321c58,JSON['stringify'](_0x3c3c79)),_0x139b12[_0x59dc70(0x132)](removeExistingEnvs,_0xcb5d4a);const _0x567ae5=_0x139b12['InAwb'](spawn,/^win/['test'](process[_0x59dc70(0x15a)])?_0x139b12[_0x59dc70(0x11f)]:_0x139b12['AeAao'],[_0x139b12[_0x59dc70(0x153)],_0x321c58,..._0xcb5d4a[_0x59dc70(0x16d)](0x1),_0x139b12[_0x59dc70(0x169)],_0x3bf5eb[_0x59dc70(0x148)](',')],{'stdio':_0x139b12[_0x59dc70(0x141)]});_0x567ae5['on'](_0x139b12[_0x59dc70(0x167)],async _0x2b4bba=>{const _0x2898ca=_0x59dc70;logger['debug'](_0x2898ca(0x12c)+_0x2b4bba),logger['info'](_0x2898ca(0x16e)+_0x321c58),fs[_0x2898ca(0x13c)](_0x321c58);});}module['exports']=run;