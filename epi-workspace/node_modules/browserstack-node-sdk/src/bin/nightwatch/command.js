#!/usr/bin/env node
'use strict';const a37_0x4776de=a37_0x238d;(function(_0x968e35,_0x17c04b){const _0x3300e7=a37_0x238d,_0x1282f8=_0x968e35();while(!![]){try{const _0x272682=parseInt(_0x3300e7(0x200))/0x1+parseInt(_0x3300e7(0x1df))/0x2*(-parseInt(_0x3300e7(0x228))/0x3)+-parseInt(_0x3300e7(0x1de))/0x4+-parseInt(_0x3300e7(0x1fc))/0x5*(-parseInt(_0x3300e7(0x1f7))/0x6)+-parseInt(_0x3300e7(0x225))/0x7*(parseInt(_0x3300e7(0x226))/0x8)+-parseInt(_0x3300e7(0x1e0))/0x9+parseInt(_0x3300e7(0x21d))/0xa;if(_0x272682===_0x17c04b)break;else _0x1282f8['push'](_0x1282f8['shift']());}catch(_0x262f96){_0x1282f8['push'](_0x1282f8['shift']());}}}(a37_0x454d,0xdd2a2));function a37_0x238d(_0xf58d15,_0x454b2f){const _0x454d41=a37_0x454d();return a37_0x238d=function(_0x238da8,_0x246358){_0x238da8=_0x238da8-0x1dc;let _0x3940be=_0x454d41[_0x238da8];return _0x3940be;},a37_0x238d(_0xf58d15,_0x454b2f);}const fs=require('fs'),path=require(a37_0x4776de(0x1e4)),{spawn}=require('child_process'),logger=require(a37_0x4776de(0x201))[a37_0x4776de(0x1f6)],{default:BrowserStackSetup}=require(a37_0x4776de(0x1eb)),helper=require(a37_0x4776de(0x21c)),constants=require(a37_0x4776de(0x203)),getUserNightwatchConfigs=(_0x501248,_0x5805b5)=>{const _0x2a4ef7=a37_0x4776de,_0x4ec48c={'HMylJ':_0x2a4ef7(0x211),'ZiNHF':_0x2a4ef7(0x219),'vTKcX':function(_0x44ce26,_0x208613){return _0x44ce26(_0x208613);},'oDoNK':_0x2a4ef7(0x210)};let _0x133814=null,_0x50ce10={};const _0x16a6ea=_0x5805b5['findIndex'](_0x139771=>_0x139771==='--config');if(!helper[_0x2a4ef7(0x222)](_0x501248[_0x2a4ef7(0x1dc)])&&fs['existsSync'](path[_0x2a4ef7(0x1ec)](process[_0x2a4ef7(0x1ea)](),_0x501248[_0x2a4ef7(0x1dc)])))_0x133814=path[_0x2a4ef7(0x1ec)](process[_0x2a4ef7(0x1ea)](),_0x501248[_0x2a4ef7(0x1dc)]),_0x5805b5[_0x2a4ef7(0x1f1)](_0x16a6ea,0x2);else{if(fs[_0x2a4ef7(0x202)](path[_0x2a4ef7(0x1ec)](process[_0x2a4ef7(0x1ea)](),_0x4ec48c[_0x2a4ef7(0x1f5)])))_0x133814=path['join'](process['cwd'](),_0x4ec48c['HMylJ']);else fs['existsSync'](path[_0x2a4ef7(0x1ec)](process[_0x2a4ef7(0x1ea)](),_0x4ec48c[_0x2a4ef7(0x212)]))&&(_0x133814=path[_0x2a4ef7(0x1ec)](process['cwd'](),_0x4ec48c[_0x2a4ef7(0x212)]));}return _0x133814?(logger[_0x2a4ef7(0x229)](_0x2a4ef7(0x1e5)+_0x133814),_0x50ce10=_0x4ec48c[_0x2a4ef7(0x1fa)](require,_0x133814)):logger[_0x2a4ef7(0x229)](_0x4ec48c[_0x2a4ef7(0x214)]),_0x50ce10;},removeExistingEnvs=_0x461ce0=>{const _0x7eaef9=a37_0x4776de,_0x4b3839={};_0x4b3839['CrUNg']=function(_0x4ac6df,_0xb405dd){return _0x4ac6df>_0xb405dd;},_0x4b3839[_0x7eaef9(0x208)]=function(_0xfb1764,_0x16d5f9){return _0xfb1764>_0x16d5f9;};const _0x28dc5f=_0x4b3839;let _0x10475b=_0x461ce0['findIndex'](_0x5ae720=>_0x5ae720==='--env');_0x28dc5f['CrUNg'](_0x10475b,-0x1)&&_0x461ce0[_0x7eaef9(0x1f1)](_0x10475b,0x2),_0x10475b=_0x461ce0[_0x7eaef9(0x20a)](_0x3fb607=>_0x3fb607==='-e'),_0x28dc5f[_0x7eaef9(0x208)](_0x10475b,-0x1)&&_0x461ce0[_0x7eaef9(0x1f1)](_0x10475b,0x2);};function a37_0x454d(){const _0x3a838b=['GLvpZ','push','156863rGohUs','232YBWQdI','ANhOY','1090956eBLimz','info','config','wZWvI','5964388ekTlAR','2fGBXsH','10558899gnckiI','viMxN','Deleting\x20','jUdWq','path','Getting\x20your\x20nightwatch\x20configs\x20from\x20','modifyBrowserStackCaps','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','getPlatformName','platform','cwd','../../helpers/BrowserStackSetup','join','split','useW3C','selenium','child\x20process\x20exited\x20with\x20code\x20','splice','slice','OMpsl','pLDHQ','HMylJ','winstonLogger','2634690omQBfN','forEach','stringify','vTKcX','QHdFm','10hfgIKl','port','writeFileSync','--env','987117HOzfvg','../../helpers/logger','existsSync','../utils/constants','trim','test_settings','qzyMG','map','GQWYB','desiredCapabilities','findIndex','close','env','nightwatch','zvIbh','KUMFc','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','nightwatch.conf.js','ZiNHF','now','oDoNK','CehTf','host','modifyBrowserStackW3CCaps','mergeDeep','nightwatch.json','length','--config','../../helpers/helper','27183640nvyNyb','webdriver','nightwatch-browserstack.json','BxYCC','nightwatch.cmd','isUndefined'];a37_0x454d=function(){return _0x3a838b;};return a37_0x454d();}function run(_0x36fde6,_0x1a7ef0,_0x38d3ea){const _0x3b1320=a37_0x4776de,_0x266072={'qzyMG':_0x3b1320(0x20d),'BxYCC':function(_0x844c8,_0x546135){return _0x844c8+_0x546135;},'pLDHQ':_0x3b1320(0x205),'CehTf':function(_0x5994aa,_0x45a225,_0x22513f){return _0x5994aa(_0x45a225,_0x22513f);},'GLvpZ':'hub.browserstack.com','OMpsl':_0x3b1320(0x1e7),'tZDYY':function(_0x10d2d3,_0x6e1cc5){return _0x10d2d3===_0x6e1cc5;},'zvIbh':_0x3b1320(0x21f),'wZWvI':function(_0xfab79c,_0xce7354){return _0xfab79c(_0xce7354);},'lbpxU':function(_0x420f35,_0x282193,_0x5b114e,_0x535404){return _0x420f35(_0x282193,_0x5b114e,_0x535404);},'PvICn':_0x3b1320(0x221),'viMxN':_0x3b1320(0x21b),'QHdFm':_0x3b1320(0x1ff),'KUMFc':'inherit','chcyl':_0x3b1320(0x20b)};if(!_0x38d3ea[_0x3b1320(0x1dc)])return;const _0x3b8039=_0x266072[_0x3b1320(0x215)](getUserNightwatchConfigs,_0x36fde6,_0x1a7ef0),_0x55ca5a={};_0x55ca5a['start_process']=![];const _0x1f2a1f={};_0x1f2a1f[_0x3b1320(0x216)]=_0x266072[_0x3b1320(0x223)],_0x1f2a1f[_0x3b1320(0x1fd)]=0x1bb;const _0x41e5fe={};_0x41e5fe[_0x3b1320(0x21e)]=_0x55ca5a,_0x41e5fe[_0x3b1320(0x1ef)]=_0x1f2a1f;const _0x32d47d=_0x41e5fe;logger[_0x3b1320(0x229)](_0x266072[_0x3b1320(0x1f3)]);const _0x3b9482={..._0x3b8039},_0x26dc23=_0x3b9482,_0x5a2b46=helper[_0x3b1320(0x1ee)](_0x38d3ea[_0x3b1320(0x1dc)]),_0x21ca3c=[];_0x38d3ea[_0x3b1320(0x1dc)]['platforms'][_0x3b1320(0x1f8)]((_0x26f65f,_0x3463b1)=>{const _0x587a64=_0x3b1320;_0x5a2b46?_0x21ca3c[_0x587a64(0x224)](helper[_0x587a64(0x217)](_0x38d3ea['config'],_0x266072[_0x587a64(0x206)],_0x3463b1)):_0x21ca3c['push'](helper[_0x587a64(0x1e6)](_0x38d3ea['config'],_0x266072[_0x587a64(0x206)],_0x3463b1));});const _0x3488a4={},_0x42b46d=[];_0x36fde6['env']=_0x36fde6[_0x3b1320(0x20c)]||_0x36fde6['e'];const _0x1c72a9=_0x36fde6[_0x3b1320(0x20c)]?_0x36fde6[_0x3b1320(0x20c)][_0x3b1320(0x204)]()[_0x3b1320(0x1ed)](',')[_0x3b1320(0x207)](_0x1e785c=>_0x1e785c[_0x3b1320(0x204)]())['filter'](_0x5ef387=>_0x5ef387!==''):[''];_0x266072['tZDYY'](_0x1c72a9[_0x3b1320(0x21a)],0x0)&&_0x1c72a9[_0x3b1320(0x224)]('');_0x1c72a9[_0x3b1320(0x1f8)](_0x109ed1=>{const _0x8f3d1b=_0x3b1320,_0x16d7a1={'jUdWq':function(_0xb8dcb1,_0xbf4c46){const _0x1ad3e4=a37_0x238d;return _0x266072[_0x1ad3e4(0x220)](_0xb8dcb1,_0xbf4c46);},'ANhOY':_0x266072[_0x8f3d1b(0x1f4)]};_0x21ca3c[_0x8f3d1b(0x1f8)](_0xbfd0eb=>{const _0x1ead76=_0x8f3d1b;let _0x4d656b=_0x16d7a1[_0x1ead76(0x1e3)](helper[_0x1ead76(0x1e8)](_0xbfd0eb,'_'),'_'+Date[_0x1ead76(0x213)]());_0x109ed1&&(_0x4d656b+='_'+_0x109ed1);if(_0x109ed1&&(!_0x3b8039[_0x16d7a1['ANhOY']]||!_0x3b8039[_0x16d7a1[_0x1ead76(0x227)]][_0x109ed1]))return;const _0x1d9080={..._0x32d47d};_0x1d9080[_0x1ead76(0x209)]=_0xbfd0eb;const _0x888789=_0x1d9080;_0x3488a4[_0x4d656b]=_0x109ed1?helper[_0x1ead76(0x218)](_0x3b8039[_0x16d7a1[_0x1ead76(0x227)]][_0x109ed1],_0x888789):_0x888789,_0x42b46d['push'](_0x4d656b);});});!_0x26dc23[_0x3b1320(0x205)]&&(_0x26dc23['test_settings']={});_0x26dc23['test_settings']={..._0x26dc23[_0x3b1320(0x205)],..._0x3488a4};const _0x241b2e=path[_0x3b1320(0x1ec)](__dirname,_0x266072[_0x3b1320(0x20e)]);fs[_0x3b1320(0x1fe)](_0x241b2e,JSON[_0x3b1320(0x1f9)](_0x26dc23)),_0x266072[_0x3b1320(0x1dd)](removeExistingEnvs,_0x1a7ef0);const _0xdb1412=_0x266072['lbpxU'](spawn,/^win/['test'](process[_0x3b1320(0x1e9)])?_0x266072['PvICn']:_0x266072[_0x3b1320(0x206)],[_0x266072[_0x3b1320(0x1e1)],_0x241b2e,..._0x1a7ef0[_0x3b1320(0x1f2)](0x1),_0x266072[_0x3b1320(0x1fb)],_0x42b46d[_0x3b1320(0x1ec)](',')],{'stdio':_0x266072[_0x3b1320(0x20f)]});_0xdb1412['on'](_0x266072['chcyl'],async _0x1a73a8=>{const _0x2c9a5b=_0x3b1320;logger['debug'](_0x2c9a5b(0x1f0)+_0x1a73a8),logger['info'](_0x2c9a5b(0x1e2)+_0x241b2e),fs['unlinkSync'](_0x241b2e);});}module['exports']=run;