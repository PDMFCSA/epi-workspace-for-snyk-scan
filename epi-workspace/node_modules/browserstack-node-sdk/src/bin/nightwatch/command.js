#!/usr/bin/env node
'use strict';const a33_0x2284fc=a33_0x415c;(function(_0x53c399,_0x2ad835){const _0xdba107=a33_0x415c,_0xfb69b7=_0x53c399();while(!![]){try{const _0x4cd4f2=parseInt(_0xdba107(0x171))/0x1+parseInt(_0xdba107(0x142))/0x2+parseInt(_0xdba107(0x13f))/0x3+parseInt(_0xdba107(0x136))/0x4+-parseInt(_0xdba107(0x141))/0x5*(parseInt(_0xdba107(0x166))/0x6)+parseInt(_0xdba107(0x13c))/0x7*(parseInt(_0xdba107(0x146))/0x8)+-parseInt(_0xdba107(0x173))/0x9;if(_0x4cd4f2===_0x2ad835)break;else _0xfb69b7['push'](_0xfb69b7['shift']());}catch(_0x382b74){_0xfb69b7['push'](_0xfb69b7['shift']());}}}(a33_0x4dc0,0xb8905));const fs=require('fs'),path=require(a33_0x2284fc(0x177)),{spawn}=require(a33_0x2284fc(0x16f)),logger=require(a33_0x2284fc(0x145))[a33_0x2284fc(0x156)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require('../../helpers/helper'),constants=require(a33_0x2284fc(0x158)),getUserNightwatchConfigs=(_0x5518f4,_0x32aebd)=>{const _0x1e4bf6=a33_0x2284fc,_0x153cd3={'gIMhK':_0x1e4bf6(0x178),'VomFl':'nightwatch.json','lKSxc':function(_0xac2399,_0x593c0b){return _0xac2399(_0x593c0b);},'TXeQE':_0x1e4bf6(0x170)};let _0x15a3a7=null,_0x31bf0c={};const _0x15ce8e=_0x32aebd[_0x1e4bf6(0x149)](_0x144104=>_0x144104===_0x1e4bf6(0x15d));if(!helper[_0x1e4bf6(0x150)](_0x5518f4['config'])&&fs['existsSync'](path[_0x1e4bf6(0x13d)](process[_0x1e4bf6(0x172)](),_0x5518f4[_0x1e4bf6(0x14b)])))_0x15a3a7=path[_0x1e4bf6(0x13d)](process[_0x1e4bf6(0x172)](),_0x5518f4[_0x1e4bf6(0x14b)]),_0x32aebd[_0x1e4bf6(0x165)](_0x15ce8e,0x2);else{if(fs['existsSync'](path[_0x1e4bf6(0x13d)](process['cwd'](),_0x153cd3[_0x1e4bf6(0x174)])))_0x15a3a7=path[_0x1e4bf6(0x13d)](process[_0x1e4bf6(0x172)](),_0x153cd3['gIMhK']);else fs[_0x1e4bf6(0x13e)](path['join'](process[_0x1e4bf6(0x172)](),_0x153cd3[_0x1e4bf6(0x159)]))&&(_0x15a3a7=path[_0x1e4bf6(0x13d)](process[_0x1e4bf6(0x172)](),_0x153cd3[_0x1e4bf6(0x159)]));}return _0x15a3a7?(logger[_0x1e4bf6(0x16c)](_0x1e4bf6(0x137)+_0x15a3a7),_0x31bf0c=_0x153cd3[_0x1e4bf6(0x164)](require,_0x15a3a7)):logger[_0x1e4bf6(0x16c)](_0x153cd3[_0x1e4bf6(0x14f)]),_0x31bf0c;},removeExistingEnvs=_0x6ac4=>{const _0x191d5c=a33_0x2284fc,_0x265298={};_0x265298['GDUng']=function(_0x533ee9,_0x40cfac){return _0x533ee9>_0x40cfac;};const _0xb02ce0=_0x265298;let _0x1e6391=_0x6ac4['findIndex'](_0x5ae285=>_0x5ae285==='--env');_0xb02ce0[_0x191d5c(0x160)](_0x1e6391,-0x1)&&_0x6ac4['splice'](_0x1e6391,0x2),_0x1e6391=_0x6ac4[_0x191d5c(0x149)](_0x13e1b6=>_0x13e1b6==='-e'),_0xb02ce0[_0x191d5c(0x160)](_0x1e6391,-0x1)&&_0x6ac4[_0x191d5c(0x165)](_0x1e6391,0x2);};function run(_0x5eca8e,_0x13e734,_0x2c2ec7){const _0x33127c=a33_0x2284fc,_0x9f0a54={'ICiLs':_0x33127c(0x176),'QbyEL':function(_0x43840a,_0x4bd41b){return _0x43840a+_0x4bd41b;},'OhHfK':_0x33127c(0x144),'Ffnbu':function(_0x4fba72,_0x5f5136,_0x1b426c){return _0x4fba72(_0x5f5136,_0x1b426c);},'lWPwA':_0x33127c(0x157),'sERUh':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','SUPxN':function(_0x2f80eb,_0x1af113){return _0x2f80eb===_0x1af113;},'PjfZa':_0x33127c(0x13b),'MPceU':function(_0xd49cff,_0x4fa92c){return _0xd49cff(_0x4fa92c);},'rfHuZ':function(_0x3d0676,_0x48d425,_0x5772f8,_0x4122e0){return _0x3d0676(_0x48d425,_0x5772f8,_0x4122e0);},'FjcNo':_0x33127c(0x140),'AVVnT':_0x33127c(0x15d),'lTFFY':'--env','iddGj':_0x33127c(0x135),'utZnv':'close'};if(!_0x2c2ec7['config'])return;const _0x5f37cd=_0x9f0a54[_0x33127c(0x162)](getUserNightwatchConfigs,_0x5eca8e,_0x13e734),_0x5047bb={};_0x5047bb[_0x33127c(0x152)]=![];const _0x35d709={};_0x35d709[_0x33127c(0x17c)]=_0x9f0a54[_0x33127c(0x139)],_0x35d709['port']=0x1bb;const _0x56f769={};_0x56f769[_0x33127c(0x175)]=_0x5047bb,_0x56f769[_0x33127c(0x167)]=_0x35d709;const _0x26923e=_0x56f769;logger[_0x33127c(0x16c)](_0x9f0a54[_0x33127c(0x15f)]);const _0x45255e={..._0x5f37cd},_0x54aa95=_0x45255e,_0x3f779c=helper[_0x33127c(0x14a)](_0x2c2ec7[_0x33127c(0x14b)]),_0xecd564=[];_0x2c2ec7[_0x33127c(0x14b)][_0x33127c(0x15b)][_0x33127c(0x16e)]((_0x976811,_0x51e8b3)=>{const _0x25c603=_0x33127c;_0x3f779c?_0xecd564[_0x25c603(0x17a)](helper[_0x25c603(0x16a)](_0x2c2ec7['config'],_0x9f0a54[_0x25c603(0x13a)],_0x51e8b3)):_0xecd564[_0x25c603(0x17a)](helper[_0x25c603(0x17d)](_0x2c2ec7['config'],_0x9f0a54[_0x25c603(0x13a)],_0x51e8b3));});const _0x4cc0f2={},_0x2cd62a=[];_0x5eca8e[_0x33127c(0x147)]=_0x5eca8e[_0x33127c(0x147)]||_0x5eca8e['e'];const _0x238fc6=_0x5eca8e[_0x33127c(0x147)]?_0x5eca8e[_0x33127c(0x147)][_0x33127c(0x154)]()[_0x33127c(0x14d)](',')[_0x33127c(0x148)](_0x10c3b0=>_0x10c3b0[_0x33127c(0x154)]())[_0x33127c(0x143)](_0x8ad5a5=>_0x8ad5a5!==''):[''];_0x9f0a54[_0x33127c(0x153)](_0x238fc6[_0x33127c(0x16b)],0x0)&&_0x238fc6['push']('');_0x238fc6[_0x33127c(0x16e)](_0xec72b7=>{const _0x433231=_0x33127c;_0xecd564[_0x433231(0x16e)](_0x41d3d1=>{const _0x1a5f79=_0x433231;let _0x3fa4d1=_0x9f0a54['QbyEL'](helper[_0x1a5f79(0x151)](_0x41d3d1,'_'),'_'+Date[_0x1a5f79(0x168)]());_0xec72b7&&(_0x3fa4d1+='_'+_0xec72b7);if(_0xec72b7&&(!_0x5f37cd[_0x9f0a54[_0x1a5f79(0x14c)]]||!_0x5f37cd[_0x9f0a54['OhHfK']][_0xec72b7]))return;const _0x31bc7d={..._0x26923e};_0x31bc7d['desiredCapabilities']=_0x41d3d1;const _0x3f00f1=_0x31bc7d;_0x4cc0f2[_0x3fa4d1]=_0xec72b7?helper['mergeDeep'](_0x5f37cd[_0x9f0a54['OhHfK']][_0xec72b7],_0x3f00f1):_0x3f00f1,_0x2cd62a[_0x1a5f79(0x17a)](_0x3fa4d1);});});!_0x54aa95[_0x33127c(0x144)]&&(_0x54aa95[_0x33127c(0x144)]={});_0x54aa95[_0x33127c(0x144)]={..._0x54aa95[_0x33127c(0x144)],..._0x4cc0f2};const _0xbc756c=path[_0x33127c(0x13d)](__dirname,_0x9f0a54['PjfZa']);fs[_0x33127c(0x14e)](_0xbc756c,JSON[_0x33127c(0x15a)](_0x54aa95)),_0x9f0a54[_0x33127c(0x161)](removeExistingEnvs,_0x13e734);const _0x31c27=_0x9f0a54['rfHuZ'](spawn,/^win/[_0x33127c(0x169)](process[_0x33127c(0x163)])?_0x9f0a54[_0x33127c(0x134)]:_0x9f0a54[_0x33127c(0x13a)],[_0x9f0a54['AVVnT'],_0xbc756c,..._0x13e734[_0x33127c(0x179)](0x1),_0x9f0a54[_0x33127c(0x138)],_0x2cd62a[_0x33127c(0x13d)](',')],{'stdio':_0x9f0a54[_0x33127c(0x16d)]});_0x31c27['on'](_0x9f0a54['utZnv'],async _0x52e380=>{const _0x39fd71=_0x33127c;logger[_0x39fd71(0x155)](_0x39fd71(0x17b)+_0x52e380),logger['info']('Deleting\x20'+_0xbc756c),fs[_0x39fd71(0x15c)](_0xbc756c);});}function a33_0x415c(_0x28213c,_0x4ef03e){const _0x4dc040=a33_0x4dc0();return a33_0x415c=function(_0x415c2b,_0x4d0b32){_0x415c2b=_0x415c2b-0x134;let _0x27b96b=_0x4dc040[_0x415c2b];return _0x27b96b;},a33_0x415c(_0x28213c,_0x4ef03e);}function a33_0x4dc0(){const _0x504676=['filter','test_settings','../../helpers/logger','349224FvebKv','env','map','findIndex','useW3C','config','OhHfK','split','writeFileSync','TXeQE','isUndefined','getPlatformName','start_process','SUPxN','trim','debug','winstonLogger','hub.browserstack.com','../utils/constants','VomFl','stringify','platforms','unlinkSync','--config','exports','sERUh','GDUng','MPceU','Ffnbu','platform','lKSxc','splice','235362ViYshW','selenium','now','test','modifyBrowserStackW3CCaps','length','info','iddGj','forEach','child_process','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','309288AmCHrQ','cwd','17351865UZuPWA','gIMhK','webdriver','nightwatch','path','nightwatch.conf.js','slice','push','child\x20process\x20exited\x20with\x20code\x20','host','modifyBrowserStackCaps','FjcNo','inherit','3580012uUCJWT','Getting\x20your\x20nightwatch\x20configs\x20from\x20','lTFFY','lWPwA','ICiLs','nightwatch-browserstack.json','133YWbpfa','join','existsSync','961713CbgjEY','nightwatch.cmd','105pGBpul','2306912bfTIuc'];a33_0x4dc0=function(){return _0x504676;};return a33_0x4dc0();}module[a33_0x2284fc(0x15e)]=run;