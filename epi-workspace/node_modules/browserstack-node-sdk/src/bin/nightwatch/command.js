#!/usr/bin/env node
'use strict';const a37_0xdc1d21=a37_0x2688;(function(_0x2e85b5,_0xec77b0){const _0xc46ed5=a37_0x2688,_0x4e82d7=_0x2e85b5();while(!![]){try{const _0x2c5b13=parseInt(_0xc46ed5(0x1ac))/0x1*(parseInt(_0xc46ed5(0x1b1))/0x2)+parseInt(_0xc46ed5(0x1c2))/0x3+-parseInt(_0xc46ed5(0x1d6))/0x4*(-parseInt(_0xc46ed5(0x1af))/0x5)+-parseInt(_0xc46ed5(0x1c5))/0x6*(-parseInt(_0xc46ed5(0x1ae))/0x7)+-parseInt(_0xc46ed5(0x1e7))/0x8+parseInt(_0xc46ed5(0x1eb))/0x9+-parseInt(_0xc46ed5(0x1e3))/0xa;if(_0x2c5b13===_0xec77b0)break;else _0x4e82d7['push'](_0x4e82d7['shift']());}catch(_0x1da64f){_0x4e82d7['push'](_0x4e82d7['shift']());}}}(a37_0x3e6c,0x589fc));const fs=require('fs'),path=require(a37_0xdc1d21(0x1aa)),{spawn}=require(a37_0xdc1d21(0x1cb)),logger=require(a37_0xdc1d21(0x1a7))[a37_0xdc1d21(0x1a8)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a37_0xdc1d21(0x1a5)),constants=require(a37_0xdc1d21(0x1e2)),getUserNightwatchConfigs=(_0x1e314c,_0x533741)=>{const _0x3a49ab=a37_0xdc1d21,_0x418f98={'TnfUN':_0x3a49ab(0x1dd),'GtKhc':'nightwatch.json','kDmxv':function(_0x25b955,_0x487c55){return _0x25b955(_0x487c55);},'LqKTI':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x7ea199=null,_0x4ee0c4={};const _0x3daca4=_0x533741[_0x3a49ab(0x1e0)](_0x5cbbcf=>_0x5cbbcf===_0x3a49ab(0x1b0));if(!helper[_0x3a49ab(0x1e4)](_0x1e314c[_0x3a49ab(0x1d8)])&&fs[_0x3a49ab(0x1d5)](path['join'](process[_0x3a49ab(0x1be)](),_0x1e314c[_0x3a49ab(0x1d8)])))_0x7ea199=path[_0x3a49ab(0x1c0)](process['cwd'](),_0x1e314c[_0x3a49ab(0x1d8)]),_0x533741[_0x3a49ab(0x1d0)](_0x3daca4,0x2);else{if(fs['existsSync'](path[_0x3a49ab(0x1c0)](process['cwd'](),_0x418f98[_0x3a49ab(0x1bb)])))_0x7ea199=path[_0x3a49ab(0x1c0)](process[_0x3a49ab(0x1be)](),_0x418f98['TnfUN']);else fs[_0x3a49ab(0x1d5)](path['join'](process['cwd'](),_0x418f98['GtKhc']))&&(_0x7ea199=path[_0x3a49ab(0x1c0)](process[_0x3a49ab(0x1be)](),_0x418f98['GtKhc']));}return _0x7ea199?(logger['info'](_0x3a49ab(0x1db)+_0x7ea199),_0x4ee0c4=_0x418f98['kDmxv'](require,_0x7ea199)):logger['info'](_0x418f98[_0x3a49ab(0x1cf)]),_0x4ee0c4;},removeExistingEnvs=_0x395e8e=>{const _0x55dc05=a37_0xdc1d21,_0x2a75f4={};_0x2a75f4[_0x55dc05(0x1ec)]=function(_0xba278c,_0x55fbde){return _0xba278c>_0x55fbde;};const _0x7871aa=_0x2a75f4;let _0x46a987=_0x395e8e[_0x55dc05(0x1e0)](_0x4d5a6f=>_0x4d5a6f===_0x55dc05(0x1cc));_0x7871aa[_0x55dc05(0x1ec)](_0x46a987,-0x1)&&_0x395e8e['splice'](_0x46a987,0x2),_0x46a987=_0x395e8e[_0x55dc05(0x1e0)](_0x324d26=>_0x324d26==='-e'),_0x7871aa[_0x55dc05(0x1ec)](_0x46a987,-0x1)&&_0x395e8e[_0x55dc05(0x1d0)](_0x46a987,0x2);};function run(_0x4436d4,_0x31c06c,_0x2b19ff){const _0x4da166=a37_0xdc1d21,_0x4d3222={'LiRlj':_0x4da166(0x1c7),'JMgwS':function(_0x910802,_0x90e113){return _0x910802+_0x90e113;},'msGoj':'test_settings','mPHnE':function(_0x58fe33,_0x16cde7,_0x51918e){return _0x58fe33(_0x16cde7,_0x51918e);},'hIyDb':_0x4da166(0x1b7),'EEqvE':_0x4da166(0x1d2),'wrZvL':function(_0x32a8b4,_0x4751b4){return _0x32a8b4===_0x4751b4;},'ghalj':'nightwatch-browserstack.json','AaQNv':function(_0x5363c9,_0x172dd6){return _0x5363c9(_0x172dd6);},'KmvWe':function(_0x57ff5f,_0xe81ad7,_0x10ed23,_0x5af8e6){return _0x57ff5f(_0xe81ad7,_0x10ed23,_0x5af8e6);},'pIvQN':_0x4da166(0x1b8),'QzEoJ':_0x4da166(0x1b0),'XQlcD':'--env','GcCZO':'inherit','jwDtx':_0x4da166(0x1c6)};if(!_0x2b19ff[_0x4da166(0x1d8)])return;const _0x50a6ae=_0x4d3222[_0x4da166(0x1c8)](getUserNightwatchConfigs,_0x4436d4,_0x31c06c),_0x4e5bc6={};_0x4e5bc6['start_process']=![];const _0xf53d3={};_0xf53d3[_0x4da166(0x1bf)]=_0x4d3222['hIyDb'],_0xf53d3['port']=0x1bb;const _0x366aff={};_0x366aff[_0x4da166(0x1e8)]=_0x4e5bc6,_0x366aff[_0x4da166(0x1a4)]=_0xf53d3;const _0x59aaf3=_0x366aff;logger[_0x4da166(0x1e9)](_0x4d3222[_0x4da166(0x1a3)]);const _0x1b2fcf={..._0x50a6ae},_0x3682a4=_0x1b2fcf,_0x157f9b=helper[_0x4da166(0x1e1)](_0x2b19ff[_0x4da166(0x1d8)]),_0x366ac8=[];_0x2b19ff['config'][_0x4da166(0x1b2)][_0x4da166(0x1ba)]((_0x45e25b,_0x362d0f)=>{const _0x2e6263=_0x4da166;_0x157f9b?_0x366ac8[_0x2e6263(0x1ca)](helper['modifyBrowserStackW3CCaps'](_0x2b19ff[_0x2e6263(0x1d8)],_0x4d3222[_0x2e6263(0x1d4)],_0x362d0f)):_0x366ac8[_0x2e6263(0x1ca)](helper[_0x2e6263(0x1dc)](_0x2b19ff['config'],_0x4d3222[_0x2e6263(0x1d4)],_0x362d0f));});const _0x18af0a={},_0x4a86d5=[];_0x4436d4[_0x4da166(0x1d1)]=_0x4436d4[_0x4da166(0x1d1)]||_0x4436d4['e'];const _0xb66654=_0x4436d4[_0x4da166(0x1d1)]?_0x4436d4[_0x4da166(0x1d1)][_0x4da166(0x1a9)]()['split'](',')[_0x4da166(0x1c1)](_0x504c3c=>_0x504c3c[_0x4da166(0x1a9)]())[_0x4da166(0x1b5)](_0x3e9d01=>_0x3e9d01!==''):[''];_0x4d3222[_0x4da166(0x1d7)](_0xb66654[_0x4da166(0x1df)],0x0)&&_0xb66654[_0x4da166(0x1ca)]('');_0xb66654['forEach'](_0x172057=>{const _0x406754=_0x4da166,_0x534299={'eXfaE':function(_0x1ee091,_0x50017c){const _0x4c4cc4=a37_0x2688;return _0x4d3222[_0x4c4cc4(0x1ab)](_0x1ee091,_0x50017c);},'DhkKS':_0x4d3222[_0x406754(0x1a6)]};_0x366ac8[_0x406754(0x1ba)](_0x397700=>{const _0x3ece8a=_0x406754;let _0x54ca44=_0x534299[_0x3ece8a(0x1bc)](helper['getPlatformName'](_0x397700,'_'),'_'+Date['now']());_0x172057&&(_0x54ca44+='_'+_0x172057);if(_0x172057&&(!_0x50a6ae[_0x534299[_0x3ece8a(0x1b4)]]||!_0x50a6ae[_0x534299[_0x3ece8a(0x1b4)]][_0x172057]))return;const _0x189275={..._0x59aaf3};_0x189275[_0x3ece8a(0x1e6)]=_0x397700;const _0x3ec54d=_0x189275;_0x18af0a[_0x54ca44]=_0x172057?helper[_0x3ece8a(0x1ce)](_0x50a6ae[_0x534299['DhkKS']][_0x172057],_0x3ec54d):_0x3ec54d,_0x4a86d5[_0x3ece8a(0x1ca)](_0x54ca44);});});!_0x3682a4['test_settings']&&(_0x3682a4[_0x4da166(0x1cd)]={});_0x3682a4['test_settings']={..._0x3682a4[_0x4da166(0x1cd)],..._0x18af0a};const _0x212e66=path[_0x4da166(0x1c0)](__dirname,_0x4d3222[_0x4da166(0x1ad)]);fs[_0x4da166(0x1bd)](_0x212e66,JSON[_0x4da166(0x1c3)](_0x3682a4)),_0x4d3222['AaQNv'](removeExistingEnvs,_0x31c06c);const _0x5ed474=_0x4d3222[_0x4da166(0x1b9)](spawn,/^win/[_0x4da166(0x1ed)](process['platform'])?_0x4d3222[_0x4da166(0x1c9)]:_0x4d3222[_0x4da166(0x1d4)],[_0x4d3222[_0x4da166(0x1b6)],_0x212e66,..._0x31c06c[_0x4da166(0x1de)](0x1),_0x4d3222[_0x4da166(0x1c4)],_0x4a86d5[_0x4da166(0x1c0)](',')],{'stdio':_0x4d3222[_0x4da166(0x1ea)]});_0x5ed474['on'](_0x4d3222['jwDtx'],async _0x369e8d=>{const _0x437ffd=_0x4da166;logger[_0x437ffd(0x1e5)](_0x437ffd(0x1b3)+_0x369e8d),logger['info'](_0x437ffd(0x1d3)+_0x212e66),fs[_0x437ffd(0x1da)](_0x212e66);});}function a37_0x2688(_0x45b666,_0x20c1f8){const _0x3e6cd1=a37_0x3e6c();return a37_0x2688=function(_0x268848,_0x51c92c){_0x268848=_0x268848-0x1a3;let _0x41820b=_0x3e6cd1[_0x268848];return _0x41820b;},a37_0x2688(_0x45b666,_0x20c1f8);}module[a37_0xdc1d21(0x1d9)]=run;function a37_0x3e6c(){const _0x19a5ac=['1WFDcQo','ghalj','56cpdwRm','10SpCCAd','--config','311138jLLTMD','platforms','child\x20process\x20exited\x20with\x20code\x20','DhkKS','filter','QzEoJ','hub.browserstack.com','nightwatch.cmd','KmvWe','forEach','TnfUN','eXfaE','writeFileSync','cwd','host','join','map','1131792AyAVvy','stringify','XQlcD','342888zXeAkB','close','nightwatch','mPHnE','pIvQN','push','child_process','--env','test_settings','mergeDeep','LqKTI','splice','env','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','Deleting\x20','LiRlj','existsSync','12808zsXXCz','wrZvL','config','exports','unlinkSync','Getting\x20your\x20nightwatch\x20configs\x20from\x20','modifyBrowserStackCaps','nightwatch.conf.js','slice','length','findIndex','useW3C','../utils/constants','4998590DvRkFF','isUndefined','debug','desiredCapabilities','1742576puFXop','webdriver','info','GcCZO','758376zkVirP','PdYFB','test','EEqvE','selenium','../../helpers/helper','msGoj','../../helpers/logger','winstonLogger','trim','path','JMgwS'];a37_0x3e6c=function(){return _0x19a5ac;};return a37_0x3e6c();}