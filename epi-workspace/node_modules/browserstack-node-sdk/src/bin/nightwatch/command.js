#!/usr/bin/env node
'use strict';function a36_0x234e(_0x288f6e,_0x3f6bcb){const _0xadf035=a36_0xadf0();return a36_0x234e=function(_0x234eb8,_0x78a145){_0x234eb8=_0x234eb8-0xd9;let _0x52a091=_0xadf035[_0x234eb8];return _0x52a091;},a36_0x234e(_0x288f6e,_0x3f6bcb);}const a36_0x1115f0=a36_0x234e;(function(_0x33674e,_0x134297){const _0x2f313e=a36_0x234e,_0x13360c=_0x33674e();while(!![]){try{const _0x228725=parseInt(_0x2f313e(0xfa))/0x1*(parseInt(_0x2f313e(0xe9))/0x2)+-parseInt(_0x2f313e(0x10b))/0x3*(parseInt(_0x2f313e(0x102))/0x4)+parseInt(_0x2f313e(0x121))/0x5+-parseInt(_0x2f313e(0x104))/0x6+parseInt(_0x2f313e(0x109))/0x7+parseInt(_0x2f313e(0x11c))/0x8+parseInt(_0x2f313e(0xe3))/0x9;if(_0x228725===_0x134297)break;else _0x13360c['push'](_0x13360c['shift']());}catch(_0x2483ac){_0x13360c['push'](_0x13360c['shift']());}}}(a36_0xadf0,0x312f4));const fs=require('fs'),path=require(a36_0x1115f0(0xff)),{spawn}=require(a36_0x1115f0(0x103)),logger=require(a36_0x1115f0(0xf4))[a36_0x1115f0(0x110)],{default:BrowserStackSetup}=require(a36_0x1115f0(0xf7)),helper=require(a36_0x1115f0(0x11a)),constants=require(a36_0x1115f0(0xde)),getUserNightwatchConfigs=(_0x177801,_0x10b477)=>{const _0x3723d6=a36_0x1115f0,_0x148c9f={'tEnFn':_0x3723d6(0xe2),'RXvFq':_0x3723d6(0x114),'RetwX':function(_0x5b6615,_0x5046b1){return _0x5b6615(_0x5046b1);},'ZZuNl':_0x3723d6(0x100)};let _0x351452=null,_0x3f4bec={};const _0x2ea099=_0x10b477[_0x3723d6(0xe0)](_0x2d73d1=>_0x2d73d1===_0x3723d6(0x11d));if(!helper[_0x3723d6(0xed)](_0x177801['config'])&&fs[_0x3723d6(0xf0)](path[_0x3723d6(0x10e)](process[_0x3723d6(0xef)](),_0x177801[_0x3723d6(0x11b)])))_0x351452=path[_0x3723d6(0x10e)](process['cwd'](),_0x177801['config']),_0x10b477[_0x3723d6(0xee)](_0x2ea099,0x2);else{if(fs['existsSync'](path[_0x3723d6(0x10e)](process[_0x3723d6(0xef)](),_0x148c9f[_0x3723d6(0x116)])))_0x351452=path[_0x3723d6(0x10e)](process[_0x3723d6(0xef)](),_0x148c9f[_0x3723d6(0x116)]);else fs['existsSync'](path[_0x3723d6(0x10e)](process[_0x3723d6(0xef)](),_0x148c9f[_0x3723d6(0xe4)]))&&(_0x351452=path['join'](process[_0x3723d6(0xef)](),_0x148c9f['RXvFq']));}return _0x351452?(logger['info']('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x351452),_0x3f4bec=_0x148c9f['RetwX'](require,_0x351452)):logger[_0x3723d6(0xf2)](_0x148c9f[_0x3723d6(0xfb)]),_0x3f4bec;},removeExistingEnvs=_0x31b95b=>{const _0x45ef8b=a36_0x1115f0,_0x2b6be5={};_0x2b6be5[_0x45ef8b(0x111)]=function(_0x242200,_0x163ca8){return _0x242200>_0x163ca8;};const _0x1623c4=_0x2b6be5;let _0x5ae757=_0x31b95b[_0x45ef8b(0xe0)](_0x4dd357=>_0x4dd357===_0x45ef8b(0xe8));_0x1623c4[_0x45ef8b(0x111)](_0x5ae757,-0x1)&&_0x31b95b[_0x45ef8b(0xee)](_0x5ae757,0x2),_0x5ae757=_0x31b95b[_0x45ef8b(0xe0)](_0x577b47=>_0x577b47==='-e'),_0x1623c4['RNunG'](_0x5ae757,-0x1)&&_0x31b95b['splice'](_0x5ae757,0x2);};function a36_0xadf0(){const _0x506684=['36082VaZNzK','platform','test_settings','split','isUndefined','splice','cwd','existsSync','useW3C','info','trim','../../helpers/logger','now','platforms','../../helpers/BrowserStackSetup','nightwatch','SmwSZ','17Skdyug','ZZuNl','OeJxY','dThgs','getPlatformName','path','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','selenium','76pFbnkh','child_process','1735920pTpOGk','modifyBrowserStackW3CCaps','DtYPV','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','nightwatch.cmd','2138374WWJbmU','tRdoI','58086QmvVOa','length','lAJkl','join','gQFSz','winstonLogger','RNunG','close','webdriver','nightwatch.json','FdMrI','tEnFn','ydalc','forEach','env','../../helpers/helper','config','387648WXTywW','--config','push','unlinkSync','mergeDeep','273310qsGmYZ','OWLRL','start_process','desiredCapabilities','map','host','../utils/constants','oiARf','findIndex','QWIEh','nightwatch.conf.js','1290249kLWGDD','RXvFq','test','writeFileSync','ATfQx','--env'];a36_0xadf0=function(){return _0x506684;};return a36_0xadf0();}function run(_0x27563e,_0x46157a,_0x2a5816){const _0x23fb11=a36_0x1115f0,_0x5407e8={'tRdoI':_0x23fb11(0xf8),'dThgs':function(_0x515283,_0x11ec11){return _0x515283+_0x11ec11;},'zrwJH':'test_settings','ydalc':function(_0x1d8586,_0x471263,_0x246c06){return _0x1d8586(_0x471263,_0x246c06);},'vRSgR':'hub.browserstack.com','SmwSZ':_0x23fb11(0x107),'DtYPV':function(_0x26faad,_0x41ec1c){return _0x26faad===_0x41ec1c;},'gQFSz':'nightwatch-browserstack.json','Yovip':function(_0xb43338,_0x279f65){return _0xb43338(_0x279f65);},'ATfQx':function(_0x284c79,_0xd56498,_0x48f78f,_0x168cad){return _0x284c79(_0xd56498,_0x48f78f,_0x168cad);},'OWLRL':_0x23fb11(0x108),'lAJkl':_0x23fb11(0x11d),'FdMrI':_0x23fb11(0xe8),'OeJxY':'inherit','QWIEh':_0x23fb11(0x112)};if(!_0x2a5816[_0x23fb11(0x11b)])return;const _0x29f094=_0x5407e8[_0x23fb11(0x117)](getUserNightwatchConfigs,_0x27563e,_0x46157a),_0x3e5e74={};_0x3e5e74[_0x23fb11(0xda)]=![];const _0x3af29f={};_0x3af29f[_0x23fb11(0xdd)]=_0x5407e8['vRSgR'],_0x3af29f['port']=0x1bb;const _0x4dc46e={};_0x4dc46e[_0x23fb11(0x113)]=_0x3e5e74,_0x4dc46e[_0x23fb11(0x101)]=_0x3af29f;const _0x88328f=_0x4dc46e;logger[_0x23fb11(0xf2)](_0x5407e8[_0x23fb11(0xf9)]);const _0x1c1e94={..._0x29f094},_0x269ed5=_0x1c1e94,_0x359b2b=helper[_0x23fb11(0xf1)](_0x2a5816[_0x23fb11(0x11b)]),_0x3ba1b3=[];_0x2a5816[_0x23fb11(0x11b)][_0x23fb11(0xf6)][_0x23fb11(0x118)]((_0x493a02,_0xd96db9)=>{const _0xc899d6=_0x23fb11;_0x359b2b?_0x3ba1b3[_0xc899d6(0x11e)](helper[_0xc899d6(0x105)](_0x2a5816[_0xc899d6(0x11b)],_0x5407e8[_0xc899d6(0x10a)],_0xd96db9)):_0x3ba1b3[_0xc899d6(0x11e)](helper['modifyBrowserStackCaps'](_0x2a5816['config'],_0x5407e8[_0xc899d6(0x10a)],_0xd96db9));});const _0x24e7b8={},_0x1a1d63=[];_0x27563e[_0x23fb11(0x119)]=_0x27563e['env']||_0x27563e['e'];const _0x3a7dfd=_0x27563e[_0x23fb11(0x119)]?_0x27563e[_0x23fb11(0x119)]['trim']()[_0x23fb11(0xec)](',')[_0x23fb11(0xdc)](_0x278f72=>_0x278f72[_0x23fb11(0xf3)]())['filter'](_0x27e908=>_0x27e908!==''):[''];_0x5407e8[_0x23fb11(0x106)](_0x3a7dfd[_0x23fb11(0x10c)],0x0)&&_0x3a7dfd[_0x23fb11(0x11e)]('');_0x3a7dfd['forEach'](_0x1e1746=>{const _0x3d2e20={'tnXol':function(_0x2f85c0,_0x1c9e46){const _0x22d5e7=a36_0x234e;return _0x5407e8[_0x22d5e7(0xfd)](_0x2f85c0,_0x1c9e46);},'oiARf':_0x5407e8['zrwJH']};_0x3ba1b3['forEach'](_0x3fb51a=>{const _0x401ebd=a36_0x234e;let _0x31fbd5=_0x3d2e20['tnXol'](helper[_0x401ebd(0xfe)](_0x3fb51a,'_'),'_'+Date[_0x401ebd(0xf5)]());_0x1e1746&&(_0x31fbd5+='_'+_0x1e1746);if(_0x1e1746&&(!_0x29f094[_0x3d2e20['oiARf']]||!_0x29f094[_0x3d2e20[_0x401ebd(0xdf)]][_0x1e1746]))return;const _0x54e3b0={..._0x88328f};_0x54e3b0[_0x401ebd(0xdb)]=_0x3fb51a;const _0x148e25=_0x54e3b0;_0x24e7b8[_0x31fbd5]=_0x1e1746?helper[_0x401ebd(0x120)](_0x29f094[_0x3d2e20[_0x401ebd(0xdf)]][_0x1e1746],_0x148e25):_0x148e25,_0x1a1d63[_0x401ebd(0x11e)](_0x31fbd5);});});!_0x269ed5[_0x23fb11(0xeb)]&&(_0x269ed5[_0x23fb11(0xeb)]={});_0x269ed5[_0x23fb11(0xeb)]={..._0x269ed5[_0x23fb11(0xeb)],..._0x24e7b8};const _0x20b63e=path[_0x23fb11(0x10e)](__dirname,_0x5407e8[_0x23fb11(0x10f)]);fs[_0x23fb11(0xe6)](_0x20b63e,JSON['stringify'](_0x269ed5)),_0x5407e8['Yovip'](removeExistingEnvs,_0x46157a);const _0x2472da=_0x5407e8[_0x23fb11(0xe7)](spawn,/^win/[_0x23fb11(0xe5)](process[_0x23fb11(0xea)])?_0x5407e8[_0x23fb11(0xd9)]:_0x5407e8[_0x23fb11(0x10a)],[_0x5407e8[_0x23fb11(0x10d)],_0x20b63e,..._0x46157a['slice'](0x1),_0x5407e8[_0x23fb11(0x115)],_0x1a1d63[_0x23fb11(0x10e)](',')],{'stdio':_0x5407e8[_0x23fb11(0xfc)]});_0x2472da['on'](_0x5407e8[_0x23fb11(0xe1)],async _0x3bf3be=>{const _0x14cfe9=_0x23fb11;logger['debug']('child\x20process\x20exited\x20with\x20code\x20'+_0x3bf3be),logger[_0x14cfe9(0xf2)]('Deleting\x20'+_0x20b63e),fs[_0x14cfe9(0x11f)](_0x20b63e);});}module['exports']=run;