#!/usr/bin/env node
'use strict';const a34_0x3d79dc=a34_0x5752;(function(_0x552f3f,_0xb3b0c3){const _0x25b931=a34_0x5752,_0x4c95a2=_0x552f3f();while(!![]){try{const _0x158c42=parseInt(_0x25b931(0xab))/0x1*(parseInt(_0x25b931(0xd4))/0x2)+parseInt(_0x25b931(0xd3))/0x3+-parseInt(_0x25b931(0xd1))/0x4+parseInt(_0x25b931(0xe0))/0x5*(parseInt(_0x25b931(0xa6))/0x6)+-parseInt(_0x25b931(0xd5))/0x7+parseInt(_0x25b931(0xbd))/0x8*(parseInt(_0x25b931(0xdb))/0x9)+parseInt(_0x25b931(0xb4))/0xa*(-parseInt(_0x25b931(0xa7))/0xb);if(_0x158c42===_0xb3b0c3)break;else _0x4c95a2['push'](_0x4c95a2['shift']());}catch(_0x543a3d){_0x4c95a2['push'](_0x4c95a2['shift']());}}}(a34_0x4011,0xeb5cc));function a34_0x4011(){const _0x29075b=['nightwatch-browserstack.json','4264533zghnWb','6IOBTmI','3294718fUdfhb','--env','../../helpers/logger','TfOsV','CanJQ','host','237339VMQsop','cwd','qRrEG','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','unlinkSync','13825AoBlQV','test','config','push','isUndefined','--config','hqnwg','findIndex','modifyBrowserStackCaps','RTfuR','IkqUp','slice','desiredCapabilities','Getting\x20your\x20nightwatch\x20configs\x20from\x20','XLiMU','getPlatformName','6YDuSiD','4059FYzBxM','modifyBrowserStackW3CCaps','nightwatch.cmd','../utils/constants','187355htglXM','splice','mergeDeep','writeFileSync','selenium','winstonLogger','Ahwad','platform','hub.browserstack.com','15060XkIkzR','map','child\x20process\x20exited\x20with\x20code\x20','pLpfM','env','length','forEach','child_process','MSago','416rfMmJi','Deleting\x20','trim','debug','stringify','neXjV','nightwatch','test_settings','rjYas','JBBvp','join','../../helpers/helper','hBtJT','webdriver','info','existsSync','Hasws','FTjdr','nightwatch.conf.js','now','5468804plQHRD'];a34_0x4011=function(){return _0x29075b;};return a34_0x4011();}const fs=require('fs'),path=require('path'),{spawn}=require(a34_0x3d79dc(0xbb)),logger=require(a34_0x3d79dc(0xd7))[a34_0x3d79dc(0xb0)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a34_0x3d79dc(0xc8)),constants=require(a34_0x3d79dc(0xaa)),getUserNightwatchConfigs=(_0x167ff0,_0x25551c)=>{const _0x3a98aa=a34_0x3d79dc,_0x1ef355={'Hasws':_0x3a98aa(0xcf),'rjYas':'nightwatch.json','neXjV':function(_0x422c0c,_0x3afafa){return _0x422c0c(_0x3afafa);},'FTjdr':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x5830af=null,_0x5ec540={};const _0x4be89e=_0x25551c[_0x3a98aa(0xe7)](_0x489095=>_0x489095===_0x3a98aa(0xe5));if(!helper[_0x3a98aa(0xe4)](_0x167ff0[_0x3a98aa(0xe2)])&&fs['existsSync'](path[_0x3a98aa(0xc7)](process[_0x3a98aa(0xdc)](),_0x167ff0[_0x3a98aa(0xe2)])))_0x5830af=path[_0x3a98aa(0xc7)](process[_0x3a98aa(0xdc)](),_0x167ff0[_0x3a98aa(0xe2)]),_0x25551c[_0x3a98aa(0xac)](_0x4be89e,0x2);else{if(fs['existsSync'](path[_0x3a98aa(0xc7)](process[_0x3a98aa(0xdc)](),_0x1ef355[_0x3a98aa(0xcd)])))_0x5830af=path[_0x3a98aa(0xc7)](process[_0x3a98aa(0xdc)](),_0x1ef355[_0x3a98aa(0xcd)]);else fs[_0x3a98aa(0xcc)](path[_0x3a98aa(0xc7)](process[_0x3a98aa(0xdc)](),_0x1ef355[_0x3a98aa(0xc5)]))&&(_0x5830af=path[_0x3a98aa(0xc7)](process[_0x3a98aa(0xdc)](),_0x1ef355[_0x3a98aa(0xc5)]));}return _0x5830af?(logger[_0x3a98aa(0xcb)](_0x3a98aa(0xa3)+_0x5830af),_0x5ec540=_0x1ef355[_0x3a98aa(0xc2)](require,_0x5830af)):logger[_0x3a98aa(0xcb)](_0x1ef355[_0x3a98aa(0xce)]),_0x5ec540;},removeExistingEnvs=_0x147cd7=>{const _0x1db92c=a34_0x3d79dc,_0xb49e56={};_0xb49e56['lGHvk']=function(_0x334e7a,_0x25fd96){return _0x334e7a>_0x25fd96;},_0xb49e56['qRrEG']=function(_0x4b2901,_0x4a3f73){return _0x4b2901>_0x4a3f73;};const _0x28603a=_0xb49e56;let _0x68422c=_0x147cd7[_0x1db92c(0xe7)](_0x44679f=>_0x44679f===_0x1db92c(0xd6));_0x28603a['lGHvk'](_0x68422c,-0x1)&&_0x147cd7[_0x1db92c(0xac)](_0x68422c,0x2),_0x68422c=_0x147cd7[_0x1db92c(0xe7)](_0x4c03bd=>_0x4c03bd==='-e'),_0x28603a[_0x1db92c(0xdd)](_0x68422c,-0x1)&&_0x147cd7[_0x1db92c(0xac)](_0x68422c,0x2);};function run(_0x14f929,_0x241615,_0x2995d0){const _0x4c16be=a34_0x3d79dc,_0x36b31b={'TfOsV':_0x4c16be(0xc3),'jLzYh':function(_0x255ffc,_0x4112df){return _0x255ffc+_0x4112df;},'IkqUp':_0x4c16be(0xc4),'hqnwg':function(_0x1297b0,_0x148ec0,_0x46d16c){return _0x1297b0(_0x148ec0,_0x46d16c);},'hnTwS':_0x4c16be(0xb3),'JEtDD':_0x4c16be(0xde),'pLpfM':function(_0x3f338b,_0x1e92de){return _0x3f338b===_0x1e92de;},'Ahwad':_0x4c16be(0xd2),'dDkDF':function(_0x550f52,_0x18cef5){return _0x550f52(_0x18cef5);},'RTfuR':function(_0x20284d,_0x56f489,_0x118098,_0x592b16){return _0x20284d(_0x56f489,_0x118098,_0x592b16);},'MSago':_0x4c16be(0xa9),'CanJQ':_0x4c16be(0xe5),'JBBvp':_0x4c16be(0xd6),'XLiMU':'inherit','hBtJT':'close'};if(!_0x2995d0[_0x4c16be(0xe2)])return;const _0xb1bdce=_0x36b31b[_0x4c16be(0xe6)](getUserNightwatchConfigs,_0x14f929,_0x241615),_0x4feed3={};_0x4feed3['start_process']=![];const _0x2b333b={};_0x2b333b[_0x4c16be(0xda)]=_0x36b31b['hnTwS'],_0x2b333b['port']=0x1bb;const _0x430793={};_0x430793[_0x4c16be(0xca)]=_0x4feed3,_0x430793[_0x4c16be(0xaf)]=_0x2b333b;const _0x319c3a=_0x430793;logger['info'](_0x36b31b['JEtDD']);const _0x44e4f6={..._0xb1bdce},_0x550025=_0x44e4f6,_0x59cd37=helper['useW3C'](_0x2995d0[_0x4c16be(0xe2)]),_0xb1fa92=[];_0x2995d0['config']['platforms'][_0x4c16be(0xba)]((_0x3c05a9,_0x590366)=>{const _0x3025e5=_0x4c16be;_0x59cd37?_0xb1fa92[_0x3025e5(0xe3)](helper[_0x3025e5(0xa8)](_0x2995d0[_0x3025e5(0xe2)],_0x36b31b['TfOsV'],_0x590366)):_0xb1fa92['push'](helper[_0x3025e5(0xe8)](_0x2995d0[_0x3025e5(0xe2)],_0x36b31b[_0x3025e5(0xd8)],_0x590366));});const _0x4ffba4={},_0x438baf=[];_0x14f929[_0x4c16be(0xb8)]=_0x14f929[_0x4c16be(0xb8)]||_0x14f929['e'];const _0x536a25=_0x14f929['env']?_0x14f929[_0x4c16be(0xb8)][_0x4c16be(0xbf)]()['split'](',')[_0x4c16be(0xb5)](_0x813296=>_0x813296[_0x4c16be(0xbf)]())['filter'](_0x4b20ec=>_0x4b20ec!==''):[''];_0x36b31b[_0x4c16be(0xb7)](_0x536a25[_0x4c16be(0xb9)],0x0)&&_0x536a25['push']('');_0x536a25[_0x4c16be(0xba)](_0x311bc4=>{const _0x35da0d=_0x4c16be;_0xb1fa92[_0x35da0d(0xba)](_0x38d898=>{const _0x50b9ce=_0x35da0d;let _0x57b394=_0x36b31b['jLzYh'](helper[_0x50b9ce(0xa5)](_0x38d898,'_'),'_'+Date[_0x50b9ce(0xd0)]());_0x311bc4&&(_0x57b394+='_'+_0x311bc4);if(_0x311bc4&&(!_0xb1bdce[_0x36b31b['IkqUp']]||!_0xb1bdce[_0x36b31b['IkqUp']][_0x311bc4]))return;const _0x47ceeb={..._0x319c3a};_0x47ceeb[_0x50b9ce(0xa2)]=_0x38d898;const _0x1229ba=_0x47ceeb;_0x4ffba4[_0x57b394]=_0x311bc4?helper[_0x50b9ce(0xad)](_0xb1bdce[_0x36b31b[_0x50b9ce(0xa0)]][_0x311bc4],_0x1229ba):_0x1229ba,_0x438baf[_0x50b9ce(0xe3)](_0x57b394);});});!_0x550025[_0x4c16be(0xc4)]&&(_0x550025[_0x4c16be(0xc4)]={});_0x550025['test_settings']={..._0x550025[_0x4c16be(0xc4)],..._0x4ffba4};const _0x3a7ee8=path['join'](__dirname,_0x36b31b[_0x4c16be(0xb1)]);fs[_0x4c16be(0xae)](_0x3a7ee8,JSON[_0x4c16be(0xc1)](_0x550025)),_0x36b31b['dDkDF'](removeExistingEnvs,_0x241615);const _0x4a93df=_0x36b31b[_0x4c16be(0xe9)](spawn,/^win/[_0x4c16be(0xe1)](process[_0x4c16be(0xb2)])?_0x36b31b[_0x4c16be(0xbc)]:_0x36b31b[_0x4c16be(0xd8)],[_0x36b31b[_0x4c16be(0xd9)],_0x3a7ee8,..._0x241615[_0x4c16be(0xa1)](0x1),_0x36b31b[_0x4c16be(0xc6)],_0x438baf[_0x4c16be(0xc7)](',')],{'stdio':_0x36b31b[_0x4c16be(0xa4)]});_0x4a93df['on'](_0x36b31b[_0x4c16be(0xc9)],async _0x36f191=>{const _0x224ad1=_0x4c16be;logger[_0x224ad1(0xc0)](_0x224ad1(0xb6)+_0x36f191),logger[_0x224ad1(0xcb)](_0x224ad1(0xbe)+_0x3a7ee8),fs[_0x224ad1(0xdf)](_0x3a7ee8);});}function a34_0x5752(_0x22f70f,_0x29e8eb){const _0x401113=a34_0x4011();return a34_0x5752=function(_0x575249,_0x2eeb5b){_0x575249=_0x575249-0xa0;let _0x477058=_0x401113[_0x575249];return _0x477058;},a34_0x5752(_0x22f70f,_0x29e8eb);}module['exports']=run;