#!/usr/bin/env node
'use strict';function a38_0x4401(){const _0x1be0a6=['4439841QdjkZH','8AxfuOr','child_process','--env','trim','EFslD','join','Atvkh','eIzXs','--config','now','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','3iBXyzg','platforms','test','config','RAtmQ','cwd','selenium','6802980evAEBI','5884BEzstL','isUndefined','nightwatch-browserstack.json','test_settings','kQeof','stringify','8653923qZGSKh','push','existsSync','nightwatch.conf.js','child\x20process\x20exited\x20with\x20code\x20','forEach','host','start_process','close','debug','ANpVi','128fvnXZz','port','nightwatch.cmd','hub.browserstack.com','iKodS','path','sMpFc','NEMpM','winstonLogger','splice','desiredCapabilities','5658756hZgRMA','713655CbZwTx','nightwatch.json','useW3C','../../helpers/logger','LBlGj','WEwoE','qsbDt','unlinkSync','../../helpers/helper','BpfIN','FiWnV','platform','Deleting\x20','UXcEQ','inherit','McSOb','mergeDeep','HctwL','../utils/constants','webdriver','length','lqSrJ','env','nightwatch','findIndex','MAVQE','1764724uStBbT','../../helpers/BrowserStackSetup','info'];a38_0x4401=function(){return _0x1be0a6;};return a38_0x4401();}const a38_0x29cec2=a38_0x3c4b;(function(_0x38cf9a,_0x14049b){const _0x347ca1=a38_0x3c4b,_0x4af630=_0x38cf9a();while(!![]){try{const _0x24d429=-parseInt(_0x347ca1(0x14c))/0x1*(-parseInt(_0x347ca1(0x189))/0x2)+-parseInt(_0x347ca1(0x181))/0x3*(-parseInt(_0x347ca1(0x172))/0x4)+-parseInt(_0x347ca1(0x158))/0x5+parseInt(_0x347ca1(0x157))/0x6+-parseInt(_0x347ca1(0x175))/0x7*(-parseInt(_0x347ca1(0x176))/0x8)+-parseInt(_0x347ca1(0x141))/0x9+-parseInt(_0x347ca1(0x188))/0xa;if(_0x24d429===_0x14049b)break;else _0x4af630['push'](_0x4af630['shift']());}catch(_0x530dc2){_0x4af630['push'](_0x4af630['shift']());}}}(a38_0x4401,0x9510a));function a38_0x3c4b(_0x224c3d,_0x250395){const _0x440191=a38_0x4401();return a38_0x3c4b=function(_0x3c4b1c,_0x36054b){_0x3c4b1c=_0x3c4b1c-0x13c;let _0xd8b731=_0x440191[_0x3c4b1c];return _0xd8b731;},a38_0x3c4b(_0x224c3d,_0x250395);}const fs=require('fs'),path=require(a38_0x29cec2(0x151)),{spawn}=require(a38_0x29cec2(0x177)),logger=require(a38_0x29cec2(0x15b))[a38_0x29cec2(0x154)],{default:BrowserStackSetup}=require(a38_0x29cec2(0x173)),helper=require(a38_0x29cec2(0x160)),constants=require(a38_0x29cec2(0x16a)),getUserNightwatchConfigs=(_0x334c9a,_0x248100)=>{const _0x116548=a38_0x29cec2,_0x1dcd51={'BpfIN':_0x116548(0x144),'lqSrJ':_0x116548(0x159),'DTxfK':function(_0x578ff0,_0xd8fee5){return _0x578ff0(_0xd8fee5);},'HctwL':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x333eb=null,_0x4f7d59={};const _0x27d600=_0x248100[_0x116548(0x170)](_0xfd286c=>_0xfd286c==='--config');if(!helper[_0x116548(0x13c)](_0x334c9a[_0x116548(0x184)])&&fs['existsSync'](path[_0x116548(0x17b)](process[_0x116548(0x186)](),_0x334c9a[_0x116548(0x184)])))_0x333eb=path[_0x116548(0x17b)](process[_0x116548(0x186)](),_0x334c9a[_0x116548(0x184)]),_0x248100['splice'](_0x27d600,0x2);else{if(fs[_0x116548(0x143)](path[_0x116548(0x17b)](process[_0x116548(0x186)](),_0x1dcd51['BpfIN'])))_0x333eb=path[_0x116548(0x17b)](process[_0x116548(0x186)](),_0x1dcd51[_0x116548(0x161)]);else fs[_0x116548(0x143)](path[_0x116548(0x17b)](process[_0x116548(0x186)](),_0x1dcd51[_0x116548(0x16d)]))&&(_0x333eb=path[_0x116548(0x17b)](process[_0x116548(0x186)](),_0x1dcd51[_0x116548(0x16d)]));}return _0x333eb?(logger['info']('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x333eb),_0x4f7d59=_0x1dcd51['DTxfK'](require,_0x333eb)):logger['info'](_0x1dcd51[_0x116548(0x169)]),_0x4f7d59;},removeExistingEnvs=_0x52baa0=>{const _0x2a3269=a38_0x29cec2,_0x3da41f={};_0x3da41f['MAVQE']=function(_0x52ec16,_0x58ff22){return _0x52ec16>_0x58ff22;},_0x3da41f['WEwoE']=function(_0x468703,_0x155aa2){return _0x468703>_0x155aa2;};const _0x25d445=_0x3da41f;let _0x488041=_0x52baa0[_0x2a3269(0x170)](_0xc97755=>_0xc97755===_0x2a3269(0x178));_0x25d445[_0x2a3269(0x171)](_0x488041,-0x1)&&_0x52baa0[_0x2a3269(0x155)](_0x488041,0x2),_0x488041=_0x52baa0[_0x2a3269(0x170)](_0x401b76=>_0x401b76==='-e'),_0x25d445[_0x2a3269(0x15d)](_0x488041,-0x1)&&_0x52baa0['splice'](_0x488041,0x2);};function run(_0x39d6d5,_0x317d7b,_0x33ee7e){const _0x2c244d=a38_0x29cec2,_0x15748a={'LBlGj':_0x2c244d(0x16f),'pTUAu':function(_0x4fc046,_0x1d742a){return _0x4fc046+_0x1d742a;},'Atvkh':'test_settings','UXcEQ':function(_0x2e4c51,_0x562ad4,_0x223b4b){return _0x2e4c51(_0x562ad4,_0x223b4b);},'iKodS':_0x2c244d(0x14f),'sMpFc':_0x2c244d(0x180),'eIzXs':function(_0x1dff52,_0x518e66){return _0x1dff52===_0x518e66;},'APbUY':_0x2c244d(0x13d),'vISxS':function(_0x323cfc,_0x181291){return _0x323cfc(_0x181291);},'RAtmQ':function(_0x189b7a,_0x25d732,_0x33441c,_0x19a8b6){return _0x189b7a(_0x25d732,_0x33441c,_0x19a8b6);},'ANpVi':_0x2c244d(0x14e),'NEMpM':_0x2c244d(0x17e),'FiWnV':'--env','kQeof':_0x2c244d(0x166),'McSOb':_0x2c244d(0x149)};if(!_0x33ee7e[_0x2c244d(0x184)])return;const _0x3b3cd7=_0x15748a[_0x2c244d(0x165)](getUserNightwatchConfigs,_0x39d6d5,_0x317d7b),_0x620720={};_0x620720[_0x2c244d(0x148)]=![];const _0x494a37={};_0x494a37[_0x2c244d(0x147)]=_0x15748a[_0x2c244d(0x150)],_0x494a37[_0x2c244d(0x14d)]=0x1bb;const _0x2ea044={};_0x2ea044[_0x2c244d(0x16b)]=_0x620720,_0x2ea044[_0x2c244d(0x187)]=_0x494a37;const _0x5225ec=_0x2ea044;logger[_0x2c244d(0x174)](_0x15748a[_0x2c244d(0x152)]);const _0x1a97f2={..._0x3b3cd7},_0x362850=_0x1a97f2,_0x1f3ef0=helper[_0x2c244d(0x15a)](_0x33ee7e[_0x2c244d(0x184)]),_0x568873=[];_0x33ee7e[_0x2c244d(0x184)][_0x2c244d(0x182)][_0x2c244d(0x146)]((_0x2e9b09,_0x30fb16)=>{const _0x5c5bcf=_0x2c244d;_0x1f3ef0?_0x568873[_0x5c5bcf(0x142)](helper['modifyBrowserStackW3CCaps'](_0x33ee7e['config'],_0x15748a[_0x5c5bcf(0x15c)],_0x30fb16)):_0x568873[_0x5c5bcf(0x142)](helper['modifyBrowserStackCaps'](_0x33ee7e[_0x5c5bcf(0x184)],_0x15748a['LBlGj'],_0x30fb16));});const _0x5d3b02={},_0xa709d4=[];_0x39d6d5[_0x2c244d(0x16e)]=_0x39d6d5['env']||_0x39d6d5['e'];const _0x4c0d9e=_0x39d6d5[_0x2c244d(0x16e)]?_0x39d6d5[_0x2c244d(0x16e)]['trim']()['split'](',')['map'](_0x402e5b=>_0x402e5b[_0x2c244d(0x179)]())['filter'](_0x3b20df=>_0x3b20df!==''):[''];_0x15748a[_0x2c244d(0x17d)](_0x4c0d9e[_0x2c244d(0x16c)],0x0)&&_0x4c0d9e[_0x2c244d(0x142)]('');_0x4c0d9e['forEach'](_0x82ec01=>{const _0x5c10d8=_0x2c244d,_0x17d343={'qsbDt':function(_0x2cf41a,_0x245566){return _0x15748a['pTUAu'](_0x2cf41a,_0x245566);},'EFslD':_0x15748a[_0x5c10d8(0x17c)]};_0x568873['forEach'](_0x1e159b=>{const _0x5c7bf6=_0x5c10d8;let _0x5660c8=_0x17d343[_0x5c7bf6(0x15e)](helper['getPlatformName'](_0x1e159b,'_'),'_'+Date[_0x5c7bf6(0x17f)]());_0x82ec01&&(_0x5660c8+='_'+_0x82ec01);if(_0x82ec01&&(!_0x3b3cd7[_0x17d343[_0x5c7bf6(0x17a)]]||!_0x3b3cd7[_0x17d343[_0x5c7bf6(0x17a)]][_0x82ec01]))return;const _0x17d9a0={..._0x5225ec};_0x17d9a0[_0x5c7bf6(0x156)]=_0x1e159b;const _0x4ea1f3=_0x17d9a0;_0x5d3b02[_0x5660c8]=_0x82ec01?helper[_0x5c7bf6(0x168)](_0x3b3cd7[_0x17d343['EFslD']][_0x82ec01],_0x4ea1f3):_0x4ea1f3,_0xa709d4[_0x5c7bf6(0x142)](_0x5660c8);});});!_0x362850['test_settings']&&(_0x362850['test_settings']={});_0x362850[_0x2c244d(0x13e)]={..._0x362850['test_settings'],..._0x5d3b02};const _0x5e1c4d=path[_0x2c244d(0x17b)](__dirname,_0x15748a['APbUY']);fs['writeFileSync'](_0x5e1c4d,JSON[_0x2c244d(0x140)](_0x362850)),_0x15748a['vISxS'](removeExistingEnvs,_0x317d7b);const _0x1d88db=_0x15748a[_0x2c244d(0x185)](spawn,/^win/[_0x2c244d(0x183)](process[_0x2c244d(0x163)])?_0x15748a[_0x2c244d(0x14b)]:_0x15748a[_0x2c244d(0x15c)],[_0x15748a[_0x2c244d(0x153)],_0x5e1c4d,..._0x317d7b['slice'](0x1),_0x15748a[_0x2c244d(0x162)],_0xa709d4[_0x2c244d(0x17b)](',')],{'stdio':_0x15748a[_0x2c244d(0x13f)]});_0x1d88db['on'](_0x15748a[_0x2c244d(0x167)],async _0x173259=>{const _0x649aef=_0x2c244d;logger[_0x649aef(0x14a)](_0x649aef(0x145)+_0x173259),logger[_0x649aef(0x174)](_0x649aef(0x164)+_0x5e1c4d),fs[_0x649aef(0x15f)](_0x5e1c4d);});}module['exports']=run;