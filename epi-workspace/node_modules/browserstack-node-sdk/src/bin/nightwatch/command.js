#!/usr/bin/env node
'use strict';function a33_0x2986(_0x19fc5c,_0x4eef87){const _0x53aa4c=a33_0x53aa();return a33_0x2986=function(_0x298677,_0x417b46){_0x298677=_0x298677-0xbd;let _0x287ac6=_0x53aa4c[_0x298677];return _0x287ac6;},a33_0x2986(_0x19fc5c,_0x4eef87);}const a33_0x456aed=a33_0x2986;(function(_0x4a92c9,_0x5d2b79){const _0x4f73cd=a33_0x2986,_0xe49997=_0x4a92c9();while(!![]){try{const _0x193d10=-parseInt(_0x4f73cd(0xe8))/0x1+-parseInt(_0x4f73cd(0xd8))/0x2+-parseInt(_0x4f73cd(0xe6))/0x3+parseInt(_0x4f73cd(0xc5))/0x4*(-parseInt(_0x4f73cd(0xe0))/0x5)+parseInt(_0x4f73cd(0xc9))/0x6+-parseInt(_0x4f73cd(0xe7))/0x7*(-parseInt(_0x4f73cd(0xe5))/0x8)+-parseInt(_0x4f73cd(0xfe))/0x9*(-parseInt(_0x4f73cd(0xf9))/0xa);if(_0x193d10===_0x5d2b79)break;else _0xe49997['push'](_0xe49997['shift']());}catch(_0x4f85be){_0xe49997['push'](_0xe49997['shift']());}}}(a33_0x53aa,0x6941b));const fs=require('fs'),path=require(a33_0x456aed(0xf0)),{spawn}=require(a33_0x456aed(0xe4)),logger=require('../../helpers/logger')['winstonLogger'],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require('../../helpers/helper'),constants=require(a33_0x456aed(0xf2)),getUserNightwatchConfigs=(_0x425601,_0x1fe144)=>{const _0x3d0d31=a33_0x456aed,_0x5104df={'XDpxs':'nightwatch.conf.js','UtQxO':_0x3d0d31(0xc7),'kmhYD':function(_0x448707,_0x45f72b){return _0x448707(_0x45f72b);},'lGAXt':_0x3d0d31(0xd4)};let _0x4f0905=null,_0x47707c={};const _0x31c533=_0x1fe144[_0x3d0d31(0x101)](_0x7f7190=>_0x7f7190===_0x3d0d31(0x102));if(!helper[_0x3d0d31(0xdf)](_0x425601['config'])&&fs[_0x3d0d31(0xc2)](path[_0x3d0d31(0xf3)](process[_0x3d0d31(0xdd)](),_0x425601[_0x3d0d31(0xec)])))_0x4f0905=path[_0x3d0d31(0xf3)](process[_0x3d0d31(0xdd)](),_0x425601['config']),_0x1fe144[_0x3d0d31(0xca)](_0x31c533,0x2);else{if(fs[_0x3d0d31(0xc2)](path[_0x3d0d31(0xf3)](process[_0x3d0d31(0xdd)](),_0x5104df[_0x3d0d31(0xd9)])))_0x4f0905=path[_0x3d0d31(0xf3)](process[_0x3d0d31(0xdd)](),_0x5104df[_0x3d0d31(0xd9)]);else fs[_0x3d0d31(0xc2)](path['join'](process[_0x3d0d31(0xdd)](),_0x5104df[_0x3d0d31(0xeb)]))&&(_0x4f0905=path[_0x3d0d31(0xf3)](process[_0x3d0d31(0xdd)](),_0x5104df['UtQxO']));}return _0x4f0905?(logger[_0x3d0d31(0xbf)](_0x3d0d31(0xc1)+_0x4f0905),_0x47707c=_0x5104df[_0x3d0d31(0xc6)](require,_0x4f0905)):logger[_0x3d0d31(0xbf)](_0x5104df[_0x3d0d31(0xcb)]),_0x47707c;},removeExistingEnvs=_0x2d7d26=>{const _0x345b13=a33_0x456aed,_0x381a1f={};_0x381a1f[_0x345b13(0xdb)]=function(_0x4f4d65,_0x52dd22){return _0x4f4d65>_0x52dd22;};const _0x49a3d2=_0x381a1f;let _0x56f1ce=_0x2d7d26[_0x345b13(0x101)](_0x32bf69=>_0x32bf69===_0x345b13(0xbe));_0x49a3d2[_0x345b13(0xdb)](_0x56f1ce,-0x1)&&_0x2d7d26[_0x345b13(0xca)](_0x56f1ce,0x2),_0x56f1ce=_0x2d7d26[_0x345b13(0x101)](_0x4dba2c=>_0x4dba2c==='-e'),_0x49a3d2['mZbIZ'](_0x56f1ce,-0x1)&&_0x2d7d26[_0x345b13(0xca)](_0x56f1ce,0x2);};function run(_0x368388,_0x5aa33c,_0x10e129){const _0x1ccbff=a33_0x456aed,_0x3e520a={'MarFI':_0x1ccbff(0xe3),'QjILh':function(_0x416299,_0x55480f){return _0x416299+_0x55480f;},'JfzKX':_0x1ccbff(0xf7),'buuhI':function(_0x37aa5c,_0x590c29,_0x23fdd0){return _0x37aa5c(_0x590c29,_0x23fdd0);},'gwZEo':'hub.browserstack.com','OJgCN':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','tVpjW':function(_0x47edfd,_0x382f67){return _0x47edfd===_0x382f67;},'NaNWK':'nightwatch-browserstack.json','kTGaq':function(_0x59708f,_0x64f8ae){return _0x59708f(_0x64f8ae);},'SdyZT':function(_0x7b8e31,_0x59801,_0x279d6f,_0x3ce73b){return _0x7b8e31(_0x59801,_0x279d6f,_0x3ce73b);},'TQVcT':_0x1ccbff(0x100),'KKHpb':_0x1ccbff(0x102),'hqWvr':_0x1ccbff(0xbe),'YjVvJ':_0x1ccbff(0xcd),'TVNFY':'close'};if(!_0x10e129[_0x1ccbff(0xec)])return;const _0x3796e6=_0x3e520a[_0x1ccbff(0xd0)](getUserNightwatchConfigs,_0x368388,_0x5aa33c),_0x9c1eea={};_0x9c1eea[_0x1ccbff(0xcf)]=![];const _0x2b8e2c={};_0x2b8e2c['host']=_0x3e520a[_0x1ccbff(0xc4)],_0x2b8e2c[_0x1ccbff(0xef)]=0x1bb;const _0x3a0ff0={};_0x3a0ff0[_0x1ccbff(0xd2)]=_0x9c1eea,_0x3a0ff0[_0x1ccbff(0xee)]=_0x2b8e2c;const _0x3058a6=_0x3a0ff0;logger[_0x1ccbff(0xbf)](_0x3e520a['OJgCN']);const _0x4cc866={..._0x3796e6},_0x3b4ee7=_0x4cc866,_0x56a0ae=helper[_0x1ccbff(0xf4)](_0x10e129['config']),_0x4848d4=[];_0x10e129['config'][_0x1ccbff(0xed)][_0x1ccbff(0xce)]((_0x5a9a07,_0x2c537d)=>{const _0x2c1ebe=_0x1ccbff;_0x56a0ae?_0x4848d4[_0x2c1ebe(0xfd)](helper[_0x2c1ebe(0xc3)](_0x10e129['config'],_0x3e520a[_0x2c1ebe(0xfc)],_0x2c537d)):_0x4848d4[_0x2c1ebe(0xfd)](helper['modifyBrowserStackCaps'](_0x10e129[_0x2c1ebe(0xec)],_0x3e520a[_0x2c1ebe(0xfc)],_0x2c537d));});const _0xcad95a={},_0x34c976=[];_0x368388[_0x1ccbff(0xd1)]=_0x368388[_0x1ccbff(0xd1)]||_0x368388['e'];const _0x38279a=_0x368388[_0x1ccbff(0xd1)]?_0x368388[_0x1ccbff(0xd1)]['trim']()[_0x1ccbff(0xe2)](',')['map'](_0x51dfcd=>_0x51dfcd[_0x1ccbff(0xf1)]())[_0x1ccbff(0xe1)](_0x49c038=>_0x49c038!==''):[''];_0x3e520a[_0x1ccbff(0xdc)](_0x38279a[_0x1ccbff(0xd3)],0x0)&&_0x38279a[_0x1ccbff(0xfd)]('');_0x38279a['forEach'](_0x229068=>{const _0x1bda46=_0x1ccbff,_0x15c2a2={'gSXYS':function(_0x1306d5,_0x1277de){const _0x536cea=a33_0x2986;return _0x3e520a[_0x536cea(0xd7)](_0x1306d5,_0x1277de);},'fxndy':_0x3e520a['JfzKX']};_0x4848d4[_0x1bda46(0xce)](_0x4e52c1=>{const _0x10b565=_0x1bda46;let _0x1fa94f=_0x15c2a2['gSXYS'](helper[_0x10b565(0xd5)](_0x4e52c1,'_'),'_'+Date[_0x10b565(0xde)]());_0x229068&&(_0x1fa94f+='_'+_0x229068);if(_0x229068&&(!_0x3796e6[_0x15c2a2[_0x10b565(0xf8)]]||!_0x3796e6[_0x15c2a2[_0x10b565(0xf8)]][_0x229068]))return;const _0x4c4c99={..._0x3058a6};_0x4c4c99['desiredCapabilities']=_0x4e52c1;const _0x3cecab=_0x4c4c99;_0xcad95a[_0x1fa94f]=_0x229068?helper[_0x10b565(0xc8)](_0x3796e6[_0x15c2a2[_0x10b565(0xf8)]][_0x229068],_0x3cecab):_0x3cecab,_0x34c976[_0x10b565(0xfd)](_0x1fa94f);});});!_0x3b4ee7[_0x1ccbff(0xf7)]&&(_0x3b4ee7[_0x1ccbff(0xf7)]={});_0x3b4ee7[_0x1ccbff(0xf7)]={..._0x3b4ee7[_0x1ccbff(0xf7)],..._0xcad95a};const _0xc3f58a=path['join'](__dirname,_0x3e520a['NaNWK']);fs[_0x1ccbff(0xf6)](_0xc3f58a,JSON[_0x1ccbff(0xfb)](_0x3b4ee7)),_0x3e520a['kTGaq'](removeExistingEnvs,_0x5aa33c);const _0x15c996=_0x3e520a[_0x1ccbff(0xff)](spawn,/^win/[_0x1ccbff(0xea)](process[_0x1ccbff(0xbd)])?_0x3e520a[_0x1ccbff(0xc0)]:_0x3e520a['MarFI'],[_0x3e520a['KKHpb'],_0xc3f58a,..._0x5aa33c[_0x1ccbff(0xfa)](0x1),_0x3e520a['hqWvr'],_0x34c976[_0x1ccbff(0xf3)](',')],{'stdio':_0x3e520a[_0x1ccbff(0xcc)]});_0x15c996['on'](_0x3e520a[_0x1ccbff(0xe9)],async _0x293fb4=>{const _0x10c8d7=_0x1ccbff;logger[_0x10c8d7(0xf5)]('child\x20process\x20exited\x20with\x20code\x20'+_0x293fb4),logger[_0x10c8d7(0xbf)](_0x10c8d7(0xd6)+_0xc3f58a),fs[_0x10c8d7(0x103)](_0xc3f58a);});}function a33_0x53aa(){const _0x167d47=['forEach','start_process','buuhI','env','webdriver','length','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','getPlatformName','Deleting\x20','QjILh','391502PMrqEs','XDpxs','exports','mZbIZ','tVpjW','cwd','now','isUndefined','135EuFoUw','filter','split','nightwatch','child_process','43832teFxng','703413DmEAam','679nRqCaQ','658267JTVpsG','TVNFY','test','UtQxO','config','platforms','selenium','port','path','trim','../utils/constants','join','useW3C','debug','writeFileSync','test_settings','fxndy','20cwmSLJ','slice','stringify','MarFI','push','2131290CfYkuW','SdyZT','nightwatch.cmd','findIndex','--config','unlinkSync','platform','--env','info','TQVcT','Getting\x20your\x20nightwatch\x20configs\x20from\x20','existsSync','modifyBrowserStackW3CCaps','gwZEo','45716OqwVre','kmhYD','nightwatch.json','mergeDeep','4938720ASJDOZ','splice','lGAXt','YjVvJ','inherit'];a33_0x53aa=function(){return _0x167d47;};return a33_0x53aa();}module[a33_0x456aed(0xda)]=run;