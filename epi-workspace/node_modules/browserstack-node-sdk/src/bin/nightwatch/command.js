#!/usr/bin/env node
'use strict';const a37_0x1cdaa6=a37_0x4f5d;function a37_0x40ad(){const _0x13c471=['split','--config','webdriver','nightwatch.cmd','debug','existsSync','2086587FKvdbF','mhvjA','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','nightwatch.conf.js','36yZiaSW','../../helpers/BrowserStackSetup','writeFileSync','child\x20process\x20exited\x20with\x20code\x20','RotKz','unlinkSync','config','map','start_process','useW3C','test_settings','child_process','1544037eolkqV','mwhXe','platforms','mergeDeep','nightwatch.json','dOFBW','MsFxC','341PqwYIB','QmTyz','lbSnl','close','ghhkp','info','kIpoJ','MEvoU','dEdEa','cwd','10370EzeDCH','modifyBrowserStackCaps','getPlatformName','join','now','selenium','hub.browserstack.com','zmSlz','RXiGf','Getting\x20your\x20nightwatch\x20configs\x20from\x20','--env','50031dsjvMJ','path','zVful','stringify','../../helpers/helper','winstonLogger','486WIffGS','818UVGiBL','../../helpers/logger','modifyBrowserStackW3CCaps','env','findIndex','inherit','vJNze','splice','desiredCapabilities','21760URIYGr','test','slice','push','393281GwoqRN','filter','8PVFrZz','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack'];a37_0x40ad=function(){return _0x13c471;};return a37_0x40ad();}(function(_0x4870dc,_0x11b49){const _0x354ad7=a37_0x4f5d,_0x36e0f0=_0x4870dc();while(!![]){try{const _0x42493a=-parseInt(_0x354ad7(0xcb))/0x1*(parseInt(_0x354ad7(0x9d))/0x2)+parseInt(_0x354ad7(0xe0))/0x3*(parseInt(_0x354ad7(0xb8))/0x4)+-parseInt(_0x354ad7(0xd5))/0x5*(parseInt(_0x354ad7(0xe6))/0x6)+-parseInt(_0x354ad7(0xaa))/0x7+-parseInt(_0x354ad7(0xac))/0x8*(-parseInt(_0x354ad7(0xb4))/0x9)+-parseInt(_0x354ad7(0xa6))/0xa+parseInt(_0x354ad7(0xc4))/0xb;if(_0x42493a===_0x11b49)break;else _0x36e0f0['push'](_0x36e0f0['shift']());}catch(_0x1ee2e6){_0x36e0f0['push'](_0x36e0f0['shift']());}}}(a37_0x40ad,0x26341));const fs=require('fs'),path=require(a37_0x1cdaa6(0xe1)),{spawn}=require(a37_0x1cdaa6(0xc3)),logger=require(a37_0x1cdaa6(0x9e))[a37_0x1cdaa6(0xe5)],{default:BrowserStackSetup}=require(a37_0x1cdaa6(0xb9)),helper=require(a37_0x1cdaa6(0xe4)),constants=require('../utils/constants'),getUserNightwatchConfigs=(_0x1a3e87,_0x4557c7)=>{const _0x2ade94=a37_0x1cdaa6,_0x4f8ff8={'QmTyz':_0x2ade94(0xb7),'SheiX':_0x2ade94(0xc8),'mwhXe':function(_0x4a5df8,_0x4af0db){return _0x4a5df8(_0x4af0db);},'MsFxC':_0x2ade94(0xb6)};let _0x74b86f=null,_0x4627c9={};const _0x44bdab=_0x4557c7[_0x2ade94(0xa1)](_0xf88d26=>_0xf88d26===_0x2ade94(0xaf));if(!helper['isUndefined'](_0x1a3e87['config'])&&fs[_0x2ade94(0xb3)](path[_0x2ade94(0xd8)](process[_0x2ade94(0xd4)](),_0x1a3e87[_0x2ade94(0xbe)])))_0x74b86f=path[_0x2ade94(0xd8)](process[_0x2ade94(0xd4)](),_0x1a3e87[_0x2ade94(0xbe)]),_0x4557c7['splice'](_0x44bdab,0x2);else{if(fs[_0x2ade94(0xb3)](path[_0x2ade94(0xd8)](process['cwd'](),_0x4f8ff8[_0x2ade94(0xcc)])))_0x74b86f=path['join'](process[_0x2ade94(0xd4)](),_0x4f8ff8[_0x2ade94(0xcc)]);else fs[_0x2ade94(0xb3)](path[_0x2ade94(0xd8)](process[_0x2ade94(0xd4)](),_0x4f8ff8['SheiX']))&&(_0x74b86f=path['join'](process['cwd'](),_0x4f8ff8['SheiX']));}return _0x74b86f?(logger['info'](_0x2ade94(0xde)+_0x74b86f),_0x4627c9=_0x4f8ff8[_0x2ade94(0xc5)](require,_0x74b86f)):logger[_0x2ade94(0xd0)](_0x4f8ff8[_0x2ade94(0xca)]),_0x4627c9;},removeExistingEnvs=_0x11323e=>{const _0x725fe1=a37_0x1cdaa6,_0x16d17e={};_0x16d17e['dOFBW']=function(_0x446585,_0x34bfd7){return _0x446585>_0x34bfd7;},_0x16d17e[_0x725fe1(0xbc)]=function(_0x59101b,_0x3b8f07){return _0x59101b>_0x3b8f07;};const _0x153296=_0x16d17e;let _0x326bc6=_0x11323e[_0x725fe1(0xa1)](_0x2fd1d0=>_0x2fd1d0===_0x725fe1(0xdf));_0x153296[_0x725fe1(0xc9)](_0x326bc6,-0x1)&&_0x11323e['splice'](_0x326bc6,0x2),_0x326bc6=_0x11323e[_0x725fe1(0xa1)](_0x1cf6f3=>_0x1cf6f3==='-e'),_0x153296[_0x725fe1(0xbc)](_0x326bc6,-0x1)&&_0x11323e[_0x725fe1(0xa4)](_0x326bc6,0x2);};function run(_0x2bc8b1,_0x50ac85,_0x3af385){const _0x224259=a37_0x1cdaa6,_0x595e74={'dEdEa':'nightwatch','DPVcr':function(_0x583383,_0x55ea59){return _0x583383+_0x55ea59;},'MEvoU':_0x224259(0xc2),'zVful':function(_0x38dfe4,_0x2c4c4e,_0x2f6884){return _0x38dfe4(_0x2c4c4e,_0x2f6884);},'mhvjA':_0x224259(0xdb),'kaUqn':_0x224259(0xad),'zmSlz':function(_0x46351f,_0x45cd66){return _0x46351f===_0x45cd66;},'vJNze':'nightwatch-browserstack.json','ghhkp':function(_0x526f49,_0x36e363){return _0x526f49(_0x36e363);},'RXiGf':function(_0x5476ca,_0x14b34b,_0x1da6b6,_0x3c1eab){return _0x5476ca(_0x14b34b,_0x1da6b6,_0x3c1eab);},'JibJN':_0x224259(0xb1),'lbSnl':'--config','kIpoJ':'--env','nCCcw':_0x224259(0xa2),'BdPgU':_0x224259(0xce)};if(!_0x3af385[_0x224259(0xbe)])return;const _0x43877c=_0x595e74[_0x224259(0xe2)](getUserNightwatchConfigs,_0x2bc8b1,_0x50ac85),_0x119cdf={};_0x119cdf[_0x224259(0xc0)]=![];const _0xc6ec4={};_0xc6ec4['host']=_0x595e74[_0x224259(0xb5)],_0xc6ec4['port']=0x1bb;const _0x2ec67a={};_0x2ec67a[_0x224259(0xb0)]=_0x119cdf,_0x2ec67a[_0x224259(0xda)]=_0xc6ec4;const _0x1909a9=_0x2ec67a;logger[_0x224259(0xd0)](_0x595e74['kaUqn']);const _0x2c210a={..._0x43877c},_0x8b6c04=_0x2c210a,_0xd08464=helper[_0x224259(0xc1)](_0x3af385[_0x224259(0xbe)]),_0x2aa8dd=[];_0x3af385[_0x224259(0xbe)][_0x224259(0xc6)]['forEach']((_0x7a6d4c,_0x525ac6)=>{const _0x58cf9c=_0x224259;_0xd08464?_0x2aa8dd[_0x58cf9c(0xa9)](helper[_0x58cf9c(0x9f)](_0x3af385[_0x58cf9c(0xbe)],_0x595e74[_0x58cf9c(0xd3)],_0x525ac6)):_0x2aa8dd[_0x58cf9c(0xa9)](helper[_0x58cf9c(0xd6)](_0x3af385[_0x58cf9c(0xbe)],_0x595e74[_0x58cf9c(0xd3)],_0x525ac6));});const _0x295581={},_0xfa7934=[];_0x2bc8b1[_0x224259(0xa0)]=_0x2bc8b1[_0x224259(0xa0)]||_0x2bc8b1['e'];const _0x58ac98=_0x2bc8b1[_0x224259(0xa0)]?_0x2bc8b1[_0x224259(0xa0)]['trim']()[_0x224259(0xae)](',')[_0x224259(0xbf)](_0xcadf2d=>_0xcadf2d['trim']())[_0x224259(0xab)](_0x1b32ec=>_0x1b32ec!==''):[''];_0x595e74[_0x224259(0xdc)](_0x58ac98['length'],0x0)&&_0x58ac98['push']('');_0x58ac98['forEach'](_0x9f9d9b=>{_0x2aa8dd['forEach'](_0x2fcfc4=>{const _0x250ca1=a37_0x4f5d;let _0x324749=_0x595e74['DPVcr'](helper[_0x250ca1(0xd7)](_0x2fcfc4,'_'),'_'+Date[_0x250ca1(0xd9)]());_0x9f9d9b&&(_0x324749+='_'+_0x9f9d9b);if(_0x9f9d9b&&(!_0x43877c[_0x595e74[_0x250ca1(0xd2)]]||!_0x43877c[_0x595e74[_0x250ca1(0xd2)]][_0x9f9d9b]))return;const _0x126f95={..._0x1909a9};_0x126f95[_0x250ca1(0xa5)]=_0x2fcfc4;const _0x3e5499=_0x126f95;_0x295581[_0x324749]=_0x9f9d9b?helper[_0x250ca1(0xc7)](_0x43877c[_0x595e74[_0x250ca1(0xd2)]][_0x9f9d9b],_0x3e5499):_0x3e5499,_0xfa7934[_0x250ca1(0xa9)](_0x324749);});});!_0x8b6c04[_0x224259(0xc2)]&&(_0x8b6c04[_0x224259(0xc2)]={});_0x8b6c04[_0x224259(0xc2)]={..._0x8b6c04['test_settings'],..._0x295581};const _0x4a3cb7=path['join'](__dirname,_0x595e74[_0x224259(0xa3)]);fs[_0x224259(0xba)](_0x4a3cb7,JSON[_0x224259(0xe3)](_0x8b6c04)),_0x595e74[_0x224259(0xcf)](removeExistingEnvs,_0x50ac85);const _0x501598=_0x595e74[_0x224259(0xdd)](spawn,/^win/[_0x224259(0xa7)](process['platform'])?_0x595e74['JibJN']:_0x595e74[_0x224259(0xd3)],[_0x595e74[_0x224259(0xcd)],_0x4a3cb7,..._0x50ac85[_0x224259(0xa8)](0x1),_0x595e74[_0x224259(0xd1)],_0xfa7934[_0x224259(0xd8)](',')],{'stdio':_0x595e74['nCCcw']});_0x501598['on'](_0x595e74['BdPgU'],async _0x32567d=>{const _0x175bcd=_0x224259;logger[_0x175bcd(0xb2)](_0x175bcd(0xbb)+_0x32567d),logger[_0x175bcd(0xd0)]('Deleting\x20'+_0x4a3cb7),fs[_0x175bcd(0xbd)](_0x4a3cb7);});}function a37_0x4f5d(_0x5815f3,_0x3dac59){const _0x40ad8c=a37_0x40ad();return a37_0x4f5d=function(_0x4f5d9f,_0x326d29){_0x4f5d9f=_0x4f5d9f-0x9d;let _0x2ee5a7=_0x40ad8c[_0x4f5d9f];return _0x2ee5a7;},a37_0x4f5d(_0x5815f3,_0x3dac59);}module['exports']=run;