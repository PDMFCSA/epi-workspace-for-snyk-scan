#!/usr/bin/env node
'use strict';function a36_0x3f50(){const _0x4f0d01=['stringify','test','nightwatch','forEach','trim','platform','hub.browserstack.com','vBqiv','push','fMwvI','1034982NgBLyX','nightwatch.conf.js','zJlkr','eLLhD','writeFileSync','join','selenium','mergeDeep','--env','inherit','length','info','debug','nightwatch.json','--config','CRBnL','useW3C','test_settings','5898jEcPNO','18fyICHx','ZDGPV','filter','471008NisycX','147aiwxtx','IQwvq','tsDMO','../../helpers/logger','1001445sHsnxl','4164853TZBdGM','AxQoo','env','port','host','existsSync','YFaKu','212188hWqVeq','../../helpers/helper','path','webdriver','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','child\x20process\x20exited\x20with\x20code\x20','slice','exports','debxN','../../helpers/BrowserStackSetup','platforms','close','../utils/constants','BXclV','CnbTA','pfoTW','BogTw','splice','now','Getting\x20your\x20nightwatch\x20configs\x20from\x20','5133960XXqPfF','isUndefined','Deleting\x20','130bREveF','map','cwd','child_process','winstonLogger','getPlatformName','config'];a36_0x3f50=function(){return _0x4f0d01;};return a36_0x3f50();}const a36_0x31345a=a36_0x4004;(function(_0x4ec003,_0x1ef246){const _0x38a0e3=a36_0x4004,_0x45179b=_0x4ec003();while(!![]){try{const _0x882328=-parseInt(_0x38a0e3(0x216))/0x1+parseInt(_0x38a0e3(0x212))/0x2*(parseInt(_0x38a0e3(0x217))/0x3)+-parseInt(_0x38a0e3(0x1d8))/0x4+parseInt(_0x38a0e3(0x21b))/0x5*(-parseInt(_0x38a0e3(0x213))/0x6)+-parseInt(_0x38a0e3(0x21c))/0x7+parseInt(_0x38a0e3(0x1ec))/0x8+-parseInt(_0x38a0e3(0x200))/0x9*(-parseInt(_0x38a0e3(0x1ef))/0xa);if(_0x882328===_0x1ef246)break;else _0x45179b['push'](_0x45179b['shift']());}catch(_0x33db84){_0x45179b['push'](_0x45179b['shift']());}}}(a36_0x3f50,0x890a7));function a36_0x4004(_0x383de7,_0x220d90){const _0x3f50ee=a36_0x3f50();return a36_0x4004=function(_0x400471,_0x467eff){_0x400471=_0x400471-0x1d4;let _0x3c2c72=_0x3f50ee[_0x400471];return _0x3c2c72;},a36_0x4004(_0x383de7,_0x220d90);}const fs=require('fs'),path=require(a36_0x31345a(0x1da)),{spawn}=require(a36_0x31345a(0x1f2)),logger=require(a36_0x31345a(0x21a))[a36_0x31345a(0x1f3)],{default:BrowserStackSetup}=require(a36_0x31345a(0x1e1)),helper=require(a36_0x31345a(0x1d9)),constants=require(a36_0x31345a(0x1e4)),getUserNightwatchConfigs=(_0x454c6e,_0x3a45a2)=>{const _0x21db81=a36_0x31345a,_0x8453ec={'eLLhD':_0x21db81(0x201),'zJlkr':_0x21db81(0x20d),'BogTw':function(_0x5eab38,_0xe3e950){return _0x5eab38(_0xe3e950);},'AxQoo':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x2b173e=null,_0x314fdb={};const _0x625dfc=_0x3a45a2['findIndex'](_0x45df92=>_0x45df92==='--config');if(!helper[_0x21db81(0x1ed)](_0x454c6e[_0x21db81(0x1f5)])&&fs[_0x21db81(0x1d6)](path[_0x21db81(0x205)](process[_0x21db81(0x1f1)](),_0x454c6e[_0x21db81(0x1f5)])))_0x2b173e=path[_0x21db81(0x205)](process[_0x21db81(0x1f1)](),_0x454c6e[_0x21db81(0x1f5)]),_0x3a45a2[_0x21db81(0x1e9)](_0x625dfc,0x2);else{if(fs[_0x21db81(0x1d6)](path[_0x21db81(0x205)](process['cwd'](),_0x8453ec[_0x21db81(0x203)])))_0x2b173e=path[_0x21db81(0x205)](process[_0x21db81(0x1f1)](),_0x8453ec['eLLhD']);else fs[_0x21db81(0x1d6)](path[_0x21db81(0x205)](process[_0x21db81(0x1f1)](),_0x8453ec[_0x21db81(0x202)]))&&(_0x2b173e=path[_0x21db81(0x205)](process[_0x21db81(0x1f1)](),_0x8453ec[_0x21db81(0x202)]));}return _0x2b173e?(logger[_0x21db81(0x20b)](_0x21db81(0x1eb)+_0x2b173e),_0x314fdb=_0x8453ec[_0x21db81(0x1e8)](require,_0x2b173e)):logger[_0x21db81(0x20b)](_0x8453ec[_0x21db81(0x21d)]),_0x314fdb;},removeExistingEnvs=_0x10db7f=>{const _0x286ad5=a36_0x31345a,_0x51107e={};_0x51107e[_0x286ad5(0x1d7)]=function(_0x168809,_0x456db9){return _0x168809>_0x456db9;};const _0x41fb9a=_0x51107e;let _0x573749=_0x10db7f['findIndex'](_0x5b3fc2=>_0x5b3fc2===_0x286ad5(0x208));_0x41fb9a[_0x286ad5(0x1d7)](_0x573749,-0x1)&&_0x10db7f[_0x286ad5(0x1e9)](_0x573749,0x2),_0x573749=_0x10db7f['findIndex'](_0x1171d3=>_0x1171d3==='-e'),_0x41fb9a['YFaKu'](_0x573749,-0x1)&&_0x10db7f[_0x286ad5(0x1e9)](_0x573749,0x2);};function run(_0x1ece68,_0x26bc80,_0x5cec14){const _0x942e26=a36_0x31345a,_0x25fa28={'CnbTA':_0x942e26(0x1f8),'qmzEb':function(_0x374ace,_0x4359b0){return _0x374ace+_0x4359b0;},'CRBnL':_0x942e26(0x211),'gstcE':function(_0x532363,_0x431c55,_0x597b3d){return _0x532363(_0x431c55,_0x597b3d);},'pfoTW':_0x942e26(0x1fc),'rpSXV':_0x942e26(0x1dc),'ZDGPV':function(_0x569e75,_0x22e739){return _0x569e75===_0x22e739;},'XpvzI':'nightwatch-browserstack.json','AWclg':function(_0xa25c29,_0x12866e){return _0xa25c29(_0x12866e);},'IQwvq':function(_0x25e74f,_0x27d664,_0x32bd58,_0x485e64){return _0x25e74f(_0x27d664,_0x32bd58,_0x485e64);},'tsDMO':'nightwatch.cmd','fMwvI':_0x942e26(0x20e),'vBqiv':'--env','BXclV':_0x942e26(0x209),'debxN':_0x942e26(0x1e3)};if(!_0x5cec14[_0x942e26(0x1f5)])return;const _0x5063d0=_0x25fa28['gstcE'](getUserNightwatchConfigs,_0x1ece68,_0x26bc80),_0x413bf7={};_0x413bf7['start_process']=![];const _0x57f6c3={};_0x57f6c3[_0x942e26(0x1d5)]=_0x25fa28[_0x942e26(0x1e7)],_0x57f6c3[_0x942e26(0x1d4)]=0x1bb;const _0x52b500={};_0x52b500[_0x942e26(0x1db)]=_0x413bf7,_0x52b500[_0x942e26(0x206)]=_0x57f6c3;const _0x5b018a=_0x52b500;logger[_0x942e26(0x20b)](_0x25fa28['rpSXV']);const _0x2717a9={..._0x5063d0},_0x3e29e6=_0x2717a9,_0x1fd645=helper[_0x942e26(0x210)](_0x5cec14['config']),_0x5bbd4e=[];_0x5cec14['config'][_0x942e26(0x1e2)]['forEach']((_0x2b3a14,_0x39a605)=>{const _0x334ca0=_0x942e26;_0x1fd645?_0x5bbd4e[_0x334ca0(0x1fe)](helper['modifyBrowserStackW3CCaps'](_0x5cec14[_0x334ca0(0x1f5)],_0x25fa28['CnbTA'],_0x39a605)):_0x5bbd4e['push'](helper['modifyBrowserStackCaps'](_0x5cec14[_0x334ca0(0x1f5)],_0x25fa28['CnbTA'],_0x39a605));});const _0x33c42a={},_0x87b269=[];_0x1ece68[_0x942e26(0x21e)]=_0x1ece68[_0x942e26(0x21e)]||_0x1ece68['e'];const _0xafaf82=_0x1ece68[_0x942e26(0x21e)]?_0x1ece68[_0x942e26(0x21e)]['trim']()['split'](',')[_0x942e26(0x1f0)](_0x40fc3b=>_0x40fc3b[_0x942e26(0x1fa)]())[_0x942e26(0x215)](_0x1b951e=>_0x1b951e!==''):[''];_0x25fa28[_0x942e26(0x214)](_0xafaf82[_0x942e26(0x20a)],0x0)&&_0xafaf82[_0x942e26(0x1fe)]('');_0xafaf82[_0x942e26(0x1f9)](_0x1c4d39=>{_0x5bbd4e['forEach'](_0x19a9fc=>{const _0x142757=a36_0x4004;let _0x58d43a=_0x25fa28['qmzEb'](helper[_0x142757(0x1f4)](_0x19a9fc,'_'),'_'+Date[_0x142757(0x1ea)]());_0x1c4d39&&(_0x58d43a+='_'+_0x1c4d39);if(_0x1c4d39&&(!_0x5063d0[_0x25fa28['CRBnL']]||!_0x5063d0[_0x25fa28[_0x142757(0x20f)]][_0x1c4d39]))return;const _0x35297d={..._0x5b018a};_0x35297d['desiredCapabilities']=_0x19a9fc;const _0x2a0ee2=_0x35297d;_0x33c42a[_0x58d43a]=_0x1c4d39?helper[_0x142757(0x207)](_0x5063d0[_0x25fa28[_0x142757(0x20f)]][_0x1c4d39],_0x2a0ee2):_0x2a0ee2,_0x87b269['push'](_0x58d43a);});});!_0x3e29e6[_0x942e26(0x211)]&&(_0x3e29e6[_0x942e26(0x211)]={});_0x3e29e6[_0x942e26(0x211)]={..._0x3e29e6[_0x942e26(0x211)],..._0x33c42a};const _0x1abce1=path[_0x942e26(0x205)](__dirname,_0x25fa28['XpvzI']);fs[_0x942e26(0x204)](_0x1abce1,JSON[_0x942e26(0x1f6)](_0x3e29e6)),_0x25fa28['AWclg'](removeExistingEnvs,_0x26bc80);const _0x2e18a7=_0x25fa28[_0x942e26(0x218)](spawn,/^win/[_0x942e26(0x1f7)](process[_0x942e26(0x1fb)])?_0x25fa28[_0x942e26(0x219)]:_0x25fa28[_0x942e26(0x1e6)],[_0x25fa28[_0x942e26(0x1ff)],_0x1abce1,..._0x26bc80[_0x942e26(0x1de)](0x1),_0x25fa28[_0x942e26(0x1fd)],_0x87b269[_0x942e26(0x205)](',')],{'stdio':_0x25fa28[_0x942e26(0x1e5)]});_0x2e18a7['on'](_0x25fa28[_0x942e26(0x1e0)],async _0x2b4abe=>{const _0x265de2=_0x942e26;logger[_0x265de2(0x20c)](_0x265de2(0x1dd)+_0x2b4abe),logger[_0x265de2(0x20b)](_0x265de2(0x1ee)+_0x1abce1),fs['unlinkSync'](_0x1abce1);});}module[a36_0x31345a(0x1df)]=run;