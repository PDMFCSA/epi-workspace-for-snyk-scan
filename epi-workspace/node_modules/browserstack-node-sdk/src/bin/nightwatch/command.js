#!/usr/bin/env node
'use strict';const a33_0x5470d2=a33_0x1703;(function(_0x2b9db5,_0x428634){const _0x1aa8b9=a33_0x1703,_0x5601b3=_0x2b9db5();while(!![]){try{const _0x2a2cfa=-parseInt(_0x1aa8b9(0x1fd))/0x1*(-parseInt(_0x1aa8b9(0x219))/0x2)+-parseInt(_0x1aa8b9(0x1e8))/0x3*(-parseInt(_0x1aa8b9(0x220))/0x4)+-parseInt(_0x1aa8b9(0x1f8))/0x5+-parseInt(_0x1aa8b9(0x1e1))/0x6+-parseInt(_0x1aa8b9(0x1ed))/0x7+parseInt(_0x1aa8b9(0x1de))/0x8*(parseInt(_0x1aa8b9(0x1dd))/0x9)+parseInt(_0x1aa8b9(0x1d9))/0xa;if(_0x2a2cfa===_0x428634)break;else _0x5601b3['push'](_0x5601b3['shift']());}catch(_0x1c827a){_0x5601b3['push'](_0x5601b3['shift']());}}}(a33_0x448c,0x6a418));function a33_0x1703(_0xf8438,_0x1a0846){const _0x448c95=a33_0x448c();return a33_0x1703=function(_0x17033a,_0x4e2510){_0x17033a=_0x17033a-0x1d4;let _0x1090c8=_0x448c95[_0x17033a];return _0x1090c8;},a33_0x1703(_0xf8438,_0x1a0846);}const fs=require('fs'),path=require('path'),{spawn}=require(a33_0x5470d2(0x1f7)),logger=require(a33_0x5470d2(0x1fb))[a33_0x5470d2(0x1ee)],{default:BrowserStackSetup}=require(a33_0x5470d2(0x1e4)),helper=require(a33_0x5470d2(0x1f1)),constants=require(a33_0x5470d2(0x1f4)),getUserNightwatchConfigs=(_0x3d4134,_0x27708e)=>{const _0x18f9d0=a33_0x5470d2,_0x473b73={'dNBpq':_0x18f9d0(0x205),'mbvcd':_0x18f9d0(0x1e0),'eMepY':function(_0x2ca347,_0x21a893){return _0x2ca347(_0x21a893);},'UMCoE':_0x18f9d0(0x1ef)};let _0xc99c=null,_0x13b01b={};const _0x5c6163=_0x27708e[_0x18f9d0(0x1db)](_0x3682fe=>_0x3682fe===_0x18f9d0(0x21c));if(!helper[_0x18f9d0(0x1fa)](_0x3d4134[_0x18f9d0(0x1fc)])&&fs[_0x18f9d0(0x20e)](path['join'](process[_0x18f9d0(0x20a)](),_0x3d4134['config'])))_0xc99c=path[_0x18f9d0(0x207)](process[_0x18f9d0(0x20a)](),_0x3d4134[_0x18f9d0(0x1fc)]),_0x27708e['splice'](_0x5c6163,0x2);else{if(fs[_0x18f9d0(0x20e)](path[_0x18f9d0(0x207)](process[_0x18f9d0(0x20a)](),_0x473b73[_0x18f9d0(0x221)])))_0xc99c=path[_0x18f9d0(0x207)](process['cwd'](),_0x473b73[_0x18f9d0(0x221)]);else fs[_0x18f9d0(0x20e)](path[_0x18f9d0(0x207)](process[_0x18f9d0(0x20a)](),_0x473b73[_0x18f9d0(0x1e7)]))&&(_0xc99c=path[_0x18f9d0(0x207)](process[_0x18f9d0(0x20a)](),_0x473b73['mbvcd']));}return _0xc99c?(logger[_0x18f9d0(0x215)](_0x18f9d0(0x206)+_0xc99c),_0x13b01b=_0x473b73[_0x18f9d0(0x209)](require,_0xc99c)):logger['info'](_0x473b73['UMCoE']),_0x13b01b;},removeExistingEnvs=_0x166743=>{const _0x198951=a33_0x5470d2,_0x39756f={};_0x39756f[_0x198951(0x217)]=function(_0x4b5849,_0x4168a6){return _0x4b5849>_0x4168a6;},_0x39756f['aLpye']=function(_0x3753ee,_0x2b65ae){return _0x3753ee>_0x2b65ae;};const _0x53378f=_0x39756f;let _0x137c43=_0x166743[_0x198951(0x1db)](_0x5d3706=>_0x5d3706===_0x198951(0x1eb));_0x53378f[_0x198951(0x217)](_0x137c43,-0x1)&&_0x166743[_0x198951(0x203)](_0x137c43,0x2),_0x137c43=_0x166743[_0x198951(0x1db)](_0x37c9bf=>_0x37c9bf==='-e'),_0x53378f[_0x198951(0x20b)](_0x137c43,-0x1)&&_0x166743['splice'](_0x137c43,0x2);};function run(_0xbed486,_0x14c349){const _0x20814d=a33_0x5470d2,_0x139668={'bJvoe':_0x20814d(0x1ec),'XXgIZ':function(_0xdcd0c3,_0x5bb409){return _0xdcd0c3+_0x5bb409;},'AuNFV':_0x20814d(0x210),'QbsAq':function(_0x691814,_0x4eca80,_0x1c6ff4){return _0x691814(_0x4eca80,_0x1c6ff4);},'eJYvQ':_0x20814d(0x211),'ghXyY':_0x20814d(0x213),'yBpYJ':function(_0x5c30d5,_0x1227ce){return _0x5c30d5===_0x1227ce;},'EudLk':_0x20814d(0x20d),'gCaiU':function(_0x1385a4,_0x51c12b){return _0x1385a4(_0x51c12b);},'zKBxi':function(_0x49eab7,_0x249958,_0x26914c,_0x3de656){return _0x49eab7(_0x249958,_0x26914c,_0x3de656);},'BJiki':'nightwatch.cmd','eQIuj':_0x20814d(0x21c),'DaGmy':'--env','uqIuc':_0x20814d(0x21d),'jLZtd':_0x20814d(0x1da)},_0x519d83=new BrowserStackSetup(_0xbed486);if(!_0x519d83[_0x20814d(0x1fc)])return;const _0x9cd4f6=_0x139668[_0x20814d(0x1f2)](getUserNightwatchConfigs,_0xbed486,_0x14c349),_0x19ece2={};_0x19ece2[_0x20814d(0x1df)]=![];const _0x5a3a45={};_0x5a3a45['host']=_0x139668[_0x20814d(0x1e2)],_0x5a3a45[_0x20814d(0x1ea)]=0x1bb;const _0x383835={};_0x383835['webdriver']=_0x19ece2,_0x383835[_0x20814d(0x1fe)]=_0x5a3a45;const _0xdd5564=_0x383835;logger[_0x20814d(0x215)](_0x139668['ghXyY']);const _0x16405c={..._0x9cd4f6},_0x396ddb=_0x16405c,_0x217efe=helper[_0x20814d(0x1d5)](_0x519d83[_0x20814d(0x1fc)]),_0x1dcf99=[];_0x519d83[_0x20814d(0x1fc)][_0x20814d(0x1e9)]['forEach']((_0x34bcdd,_0x405124)=>{const _0x1557c2=_0x20814d;_0x217efe?_0x1dcf99[_0x1557c2(0x218)](helper['modifyBrowserStackW3CCaps'](_0x519d83[_0x1557c2(0x1fc)],_0x139668[_0x1557c2(0x214)],_0x405124)):_0x1dcf99[_0x1557c2(0x218)](helper['modifyBrowserStackCaps'](_0x519d83[_0x1557c2(0x1fc)],_0x139668[_0x1557c2(0x214)],_0x405124));});const _0x335ccb={},_0x4bcd12=[];_0xbed486[_0x20814d(0x1e6)]=_0xbed486[_0x20814d(0x1e6)]||_0xbed486['e'];const _0x5da4b3=_0xbed486['env']?_0xbed486[_0x20814d(0x1e6)][_0x20814d(0x1e3)]()['split'](',')[_0x20814d(0x204)](_0x459f49=>_0x459f49[_0x20814d(0x1e3)]())[_0x20814d(0x1d6)](_0x1dd40d=>_0x1dd40d!==''):[''];_0x139668[_0x20814d(0x1f5)](_0x5da4b3[_0x20814d(0x21e)],0x0)&&_0x5da4b3['push']('');_0x5da4b3[_0x20814d(0x1f6)](_0x3adf71=>{const _0x2cc692=_0x20814d;_0x1dcf99[_0x2cc692(0x1f6)](_0x171dc1=>{const _0x3892c0=_0x2cc692;let _0x414e85=_0x139668[_0x3892c0(0x200)](helper[_0x3892c0(0x1d7)](_0x171dc1,'_'),'_'+Date[_0x3892c0(0x208)]());_0x3adf71&&(_0x414e85+='_'+_0x3adf71);if(_0x3adf71&&(!_0x9cd4f6[_0x139668['AuNFV']]||!_0x9cd4f6[_0x139668[_0x3892c0(0x202)]][_0x3adf71]))return;const _0xe005d7={..._0xdd5564};_0xe005d7[_0x3892c0(0x1d4)]=_0x171dc1;const _0x19019f=_0xe005d7;_0x335ccb[_0x414e85]=_0x3adf71?helper[_0x3892c0(0x1dc)](_0x9cd4f6[_0x139668[_0x3892c0(0x202)]][_0x3adf71],_0x19019f):_0x19019f,_0x4bcd12[_0x3892c0(0x218)](_0x414e85);});});!_0x396ddb[_0x20814d(0x210)]&&(_0x396ddb[_0x20814d(0x210)]={});_0x396ddb[_0x20814d(0x210)]={..._0x396ddb[_0x20814d(0x210)],..._0x335ccb};const _0x597ec2=path['join'](__dirname,_0x139668[_0x20814d(0x1f0)]);fs[_0x20814d(0x1d8)](_0x597ec2,JSON[_0x20814d(0x212)](_0x396ddb)),_0x139668[_0x20814d(0x21f)](removeExistingEnvs,_0x14c349);const _0x2f6552=_0x139668['zKBxi'](spawn,/^win/[_0x20814d(0x1e5)](process['platform'])?_0x139668[_0x20814d(0x20c)]:_0x139668[_0x20814d(0x214)],[_0x139668[_0x20814d(0x1f9)],_0x597ec2,..._0x14c349[_0x20814d(0x20f)](0x1),_0x139668[_0x20814d(0x1f3)],_0x4bcd12['join'](',')],{'stdio':_0x139668[_0x20814d(0x21a)]});_0x2f6552['on'](_0x139668[_0x20814d(0x1ff)],async _0x56e11c=>{const _0x31066e=_0x20814d;logger[_0x31066e(0x216)](_0x31066e(0x21b)+_0x56e11c),logger['info']('Deleting\x20'+_0x597ec2),fs[_0x31066e(0x201)](_0x597ec2);});}module['exports']=run;function a33_0x448c(){const _0x5cb852=['map','nightwatch.conf.js','Getting\x20your\x20nightwatch\x20configs\x20from\x20','join','now','eMepY','cwd','aLpye','BJiki','nightwatch-browserstack.json','existsSync','slice','test_settings','hub.browserstack.com','stringify','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','bJvoe','info','debug','WpVAS','push','558UywFPs','uqIuc','child\x20process\x20exited\x20with\x20code\x20','--config','inherit','length','gCaiU','260AcZTXS','dNBpq','desiredCapabilities','useW3C','filter','getPlatformName','writeFileSync','2766690jFEqfi','close','findIndex','mergeDeep','9eBhVZj','1390776QyzkZw','start_process','nightwatch.json','4657290XMajcx','eJYvQ','trim','../../helpers/BrowserStackSetup','test','env','mbvcd','31947NPtMvX','platforms','port','--env','nightwatch','606144lzTPJJ','winstonLogger','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','EudLk','../../helpers/helper','QbsAq','DaGmy','../utils/constants','yBpYJ','forEach','child_process','1858505bBlLXE','eQIuj','isUndefined','../../helpers/logger','config','1889Ioidsq','selenium','jLZtd','XXgIZ','unlinkSync','AuNFV','splice'];a33_0x448c=function(){return _0x5cb852;};return a33_0x448c();}