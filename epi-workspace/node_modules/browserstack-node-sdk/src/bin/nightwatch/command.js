#!/usr/bin/env node
'use strict';const a38_0x47b0b0=a38_0x4423;(function(_0x55fcaf,_0x2c6b26){const _0x26d4c5=a38_0x4423,_0x193660=_0x55fcaf();while(!![]){try{const _0x36b5da=parseInt(_0x26d4c5(0xad))/0x1+-parseInt(_0x26d4c5(0xbb))/0x2+-parseInt(_0x26d4c5(0xc9))/0x3*(-parseInt(_0x26d4c5(0x84))/0x4)+parseInt(_0x26d4c5(0xc4))/0x5+parseInt(_0x26d4c5(0xbf))/0x6+parseInt(_0x26d4c5(0xc6))/0x7*(parseInt(_0x26d4c5(0x96))/0x8)+-parseInt(_0x26d4c5(0xa7))/0x9;if(_0x36b5da===_0x2c6b26)break;else _0x193660['push'](_0x193660['shift']());}catch(_0x97cd79){_0x193660['push'](_0x193660['shift']());}}}(a38_0x37b0,0x22d9c));const fs=require('fs'),path=require('path'),{spawn}=require(a38_0x47b0b0(0x93)),logger=require(a38_0x47b0b0(0xa3))[a38_0x47b0b0(0x8f)],{default:BrowserStackSetup}=require(a38_0x47b0b0(0x94)),helper=require('../../helpers/helper'),constants=require('../utils/constants'),getUserNightwatchConfigs=(_0x1ccba9,_0x3b317d)=>{const _0x28aa83=a38_0x47b0b0,_0xc1bc13={'OUcgH':_0x28aa83(0xa8),'cJauy':_0x28aa83(0x9a),'HCtNE':function(_0x2b2b52,_0x504e88){return _0x2b2b52(_0x504e88);},'oLLlS':_0x28aa83(0x99)};let _0x20bb6f=null,_0x2a210d={};const _0x21f041=_0x3b317d[_0x28aa83(0xb4)](_0xa91d39=>_0xa91d39===_0x28aa83(0x85));if(!helper[_0x28aa83(0xc1)](_0x1ccba9[_0x28aa83(0xce)])&&fs['existsSync'](path[_0x28aa83(0xb2)](process[_0x28aa83(0xb1)](),_0x1ccba9[_0x28aa83(0xce)])))_0x20bb6f=path[_0x28aa83(0xb2)](process[_0x28aa83(0xb1)](),_0x1ccba9['config']),_0x3b317d[_0x28aa83(0x89)](_0x21f041,0x2);else{if(fs['existsSync'](path[_0x28aa83(0xb2)](process[_0x28aa83(0xb1)](),_0xc1bc13[_0x28aa83(0x88)])))_0x20bb6f=path[_0x28aa83(0xb2)](process[_0x28aa83(0xb1)](),_0xc1bc13[_0x28aa83(0x88)]);else fs[_0x28aa83(0x9b)](path[_0x28aa83(0xb2)](process[_0x28aa83(0xb1)](),_0xc1bc13['cJauy']))&&(_0x20bb6f=path['join'](process[_0x28aa83(0xb1)](),_0xc1bc13['cJauy']));}return _0x20bb6f?(logger[_0x28aa83(0xcb)](_0x28aa83(0xbe)+_0x20bb6f),_0x2a210d=_0xc1bc13[_0x28aa83(0xb5)](require,_0x20bb6f)):logger[_0x28aa83(0xcb)](_0xc1bc13[_0x28aa83(0x9f)]),_0x2a210d;},removeExistingEnvs=_0x24debf=>{const _0x4661cc=a38_0x47b0b0,_0x2c7bb5={};_0x2c7bb5[_0x4661cc(0xaf)]=function(_0x12150f,_0x489dc6){return _0x12150f>_0x489dc6;},_0x2c7bb5[_0x4661cc(0xb3)]=function(_0x541989,_0x4efeaa){return _0x541989>_0x4efeaa;};const _0xd129a7=_0x2c7bb5;let _0x117e81=_0x24debf[_0x4661cc(0xb4)](_0x2d7895=>_0x2d7895===_0x4661cc(0x8e));_0xd129a7[_0x4661cc(0xaf)](_0x117e81,-0x1)&&_0x24debf[_0x4661cc(0x89)](_0x117e81,0x2),_0x117e81=_0x24debf[_0x4661cc(0xb4)](_0x4645e3=>_0x4645e3==='-e'),_0xd129a7[_0x4661cc(0xb3)](_0x117e81,-0x1)&&_0x24debf[_0x4661cc(0x89)](_0x117e81,0x2);};function run(_0x3b802,_0x24e26b,_0x34a721){const _0x5f379d=a38_0x47b0b0,_0x1430f1={'ChXjl':_0x5f379d(0x87),'jmNOS':function(_0x4af2ff,_0x43624b){return _0x4af2ff+_0x43624b;},'LPLuX':_0x5f379d(0xa2),'IgRoI':function(_0x18a4ec,_0xc68b87,_0x46df4f){return _0x18a4ec(_0xc68b87,_0x46df4f);},'IIyhc':_0x5f379d(0xab),'iPZJK':_0x5f379d(0xbc),'RXWdZ':function(_0x5a94d5,_0x49ced0){return _0x5a94d5===_0x49ced0;},'smomO':_0x5f379d(0xaa),'ZVICr':function(_0x36005b,_0x540dee){return _0x36005b(_0x540dee);},'hzyGQ':function(_0x38cf77,_0x3d0eab,_0x21776d,_0x361b92){return _0x38cf77(_0x3d0eab,_0x21776d,_0x361b92);},'SNwaA':_0x5f379d(0xc7),'dQxSl':_0x5f379d(0x85),'RgOHK':'--env','UFIPj':_0x5f379d(0xbd),'lPRow':_0x5f379d(0x95)};if(!_0x34a721['config'])return;const _0x594c87=_0x1430f1[_0x5f379d(0xba)](getUserNightwatchConfigs,_0x3b802,_0x24e26b),_0x205802={};_0x205802['start_process']=![];const _0x37b7e3={};_0x37b7e3['host']=_0x1430f1['IIyhc'],_0x37b7e3[_0x5f379d(0x8a)]=0x1bb;const _0xd3cd8f={};_0xd3cd8f[_0x5f379d(0x8c)]=_0x205802,_0xd3cd8f[_0x5f379d(0xa5)]=_0x37b7e3;const _0x235f4a=_0xd3cd8f;logger[_0x5f379d(0xcb)](_0x1430f1[_0x5f379d(0xca)]);const _0x47bda8={..._0x594c87},_0x2bb355=_0x47bda8,_0x2dd3c6=helper['useW3C'](_0x34a721['config']),_0xfd99b6=[];_0x34a721[_0x5f379d(0xce)][_0x5f379d(0xb9)][_0x5f379d(0xc3)]((_0x12ad43,_0x353909)=>{const _0xe9c936=_0x5f379d;_0x2dd3c6?_0xfd99b6[_0xe9c936(0xa4)](helper[_0xe9c936(0xae)](_0x34a721[_0xe9c936(0xce)],_0x1430f1[_0xe9c936(0xa0)],_0x353909)):_0xfd99b6[_0xe9c936(0xa4)](helper['modifyBrowserStackCaps'](_0x34a721[_0xe9c936(0xce)],_0x1430f1[_0xe9c936(0xa0)],_0x353909));});const _0x30ef3e={},_0x2c3cce=[];_0x3b802[_0x5f379d(0x91)]=_0x3b802[_0x5f379d(0x91)]||_0x3b802['e'];const _0xd98a59=_0x3b802['env']?_0x3b802[_0x5f379d(0x91)][_0x5f379d(0xcd)]()[_0x5f379d(0x90)](',')[_0x5f379d(0xc5)](_0x24be8f=>_0x24be8f[_0x5f379d(0xcd)]())[_0x5f379d(0xc0)](_0x44974a=>_0x44974a!==''):[''];_0x1430f1[_0x5f379d(0xa1)](_0xd98a59[_0x5f379d(0x9e)],0x0)&&_0xd98a59[_0x5f379d(0xa4)]('');_0xd98a59['forEach'](_0x21b869=>{const _0x488ce4=_0x5f379d;_0xfd99b6[_0x488ce4(0xc3)](_0x4c5a08=>{const _0x7d718e=_0x488ce4;let _0x22c496=_0x1430f1[_0x7d718e(0xa6)](helper[_0x7d718e(0x9d)](_0x4c5a08,'_'),'_'+Date['now']());_0x21b869&&(_0x22c496+='_'+_0x21b869);if(_0x21b869&&(!_0x594c87[_0x1430f1[_0x7d718e(0x8b)]]||!_0x594c87[_0x1430f1[_0x7d718e(0x8b)]][_0x21b869]))return;const _0x1379a6={..._0x235f4a};_0x1379a6[_0x7d718e(0x8d)]=_0x4c5a08;const _0x28801d=_0x1379a6;_0x30ef3e[_0x22c496]=_0x21b869?helper['mergeDeep'](_0x594c87[_0x1430f1['LPLuX']][_0x21b869],_0x28801d):_0x28801d,_0x2c3cce[_0x7d718e(0xa4)](_0x22c496);});});!_0x2bb355[_0x5f379d(0xa2)]&&(_0x2bb355[_0x5f379d(0xa2)]={});_0x2bb355[_0x5f379d(0xa2)]={..._0x2bb355[_0x5f379d(0xa2)],..._0x30ef3e};const _0x3c7b03=path[_0x5f379d(0xb2)](__dirname,_0x1430f1[_0x5f379d(0xc8)]);fs['writeFileSync'](_0x3c7b03,JSON['stringify'](_0x2bb355)),_0x1430f1[_0x5f379d(0x98)](removeExistingEnvs,_0x24e26b);const _0x511156=_0x1430f1[_0x5f379d(0xac)](spawn,/^win/[_0x5f379d(0x9c)](process[_0x5f379d(0xb7)])?_0x1430f1[_0x5f379d(0x86)]:_0x1430f1[_0x5f379d(0xa0)],[_0x1430f1['dQxSl'],_0x3c7b03,..._0x24e26b[_0x5f379d(0xcc)](0x1),_0x1430f1[_0x5f379d(0x92)],_0x2c3cce[_0x5f379d(0xb2)](',')],{'stdio':_0x1430f1[_0x5f379d(0xb0)]});_0x511156['on'](_0x1430f1[_0x5f379d(0xb6)],async _0x17ac01=>{const _0x3d3dff=_0x5f379d;logger[_0x3d3dff(0xa9)](_0x3d3dff(0x97)+_0x17ac01),logger[_0x3d3dff(0xcb)]('Deleting\x20'+_0x3c7b03),fs[_0x3d3dff(0xb8)](_0x3c7b03);});}function a38_0x4423(_0x101c2b,_0x542049){const _0x37b083=a38_0x37b0();return a38_0x4423=function(_0x4423c2,_0x5c8488){_0x4423c2=_0x4423c2-0x84;let _0xad375a=_0x37b083[_0x4423c2];return _0xad375a;},a38_0x4423(_0x101c2b,_0x542049);}module[a38_0x47b0b0(0xc2)]=run;function a38_0x37b0(){const _0x506c70=['RXWdZ','test_settings','../../helpers/logger','push','selenium','jmNOS','774027XqqHaS','nightwatch.conf.js','debug','nightwatch-browserstack.json','hub.browserstack.com','hzyGQ','125678icquXs','modifyBrowserStackW3CCaps','NamGN','UFIPj','cwd','join','cBgzK','findIndex','HCtNE','lPRow','platform','unlinkSync','platforms','IgRoI','446572sCVWaB','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','inherit','Getting\x20your\x20nightwatch\x20configs\x20from\x20','503346TdLOWh','filter','isUndefined','exports','forEach','207135ubDjCO','map','98IDNutx','nightwatch.cmd','smomO','411iDupwf','iPZJK','info','slice','trim','config','2780cqgwcK','--config','SNwaA','nightwatch','OUcgH','splice','port','LPLuX','webdriver','desiredCapabilities','--env','winstonLogger','split','env','RgOHK','child_process','../../helpers/BrowserStackSetup','close','60472xIhCUo','child\x20process\x20exited\x20with\x20code\x20','ZVICr','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','nightwatch.json','existsSync','test','getPlatformName','length','oLLlS','ChXjl'];a38_0x37b0=function(){return _0x506c70;};return a38_0x37b0();}