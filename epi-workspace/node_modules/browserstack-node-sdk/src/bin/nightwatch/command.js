#!/usr/bin/env node
'use strict';const a37_0x69f6fc=a37_0x2532;function a37_0x2532(_0x31a159,_0x3a126b){const _0x25ac4c=a37_0x25ac();return a37_0x2532=function(_0x25328f,_0x2c1ea8){_0x25328f=_0x25328f-0x180;let _0x3e61ae=_0x25ac4c[_0x25328f];return _0x3e61ae;},a37_0x2532(_0x31a159,_0x3a126b);}(function(_0x411a49,_0x5d7e8f){const _0x2b2829=a37_0x2532,_0x53bcd3=_0x411a49();while(!![]){try{const _0x4904c3=-parseInt(_0x2b2829(0x1c2))/0x1+parseInt(_0x2b2829(0x18f))/0x2+-parseInt(_0x2b2829(0x1a8))/0x3+parseInt(_0x2b2829(0x1ac))/0x4+-parseInt(_0x2b2829(0x1b2))/0x5*(parseInt(_0x2b2829(0x193))/0x6)+-parseInt(_0x2b2829(0x185))/0x7+parseInt(_0x2b2829(0x1b9))/0x8;if(_0x4904c3===_0x5d7e8f)break;else _0x53bcd3['push'](_0x53bcd3['shift']());}catch(_0x3e9ef1){_0x53bcd3['push'](_0x53bcd3['shift']());}}}(a37_0x25ac,0xe4a89));const fs=require('fs'),path=require(a37_0x69f6fc(0x1c6)),{spawn}=require(a37_0x69f6fc(0x1b3)),logger=require(a37_0x69f6fc(0x1ad))[a37_0x69f6fc(0x1a2)],{default:BrowserStackSetup}=require(a37_0x69f6fc(0x1c7)),helper=require(a37_0x69f6fc(0x1c4)),constants=require(a37_0x69f6fc(0x184)),getUserNightwatchConfigs=(_0x91ad9f,_0x25b9e9)=>{const _0x2b28ab=a37_0x69f6fc,_0x580775={'gmYAB':'nightwatch.conf.js','KUhzT':'nightwatch.json','dTfGD':function(_0x5018b1,_0x101c01){return _0x5018b1(_0x101c01);},'rOkJl':_0x2b28ab(0x196)};let _0x3aaf40=null,_0x4656b6={};const _0xd7cd37=_0x25b9e9[_0x2b28ab(0x1c3)](_0x7b554a=>_0x7b554a==='--config');if(!helper[_0x2b28ab(0x1ba)](_0x91ad9f[_0x2b28ab(0x18b)])&&fs[_0x2b28ab(0x1af)](path[_0x2b28ab(0x1be)](process[_0x2b28ab(0x192)](),_0x91ad9f['config'])))_0x3aaf40=path[_0x2b28ab(0x1be)](process[_0x2b28ab(0x192)](),_0x91ad9f[_0x2b28ab(0x18b)]),_0x25b9e9[_0x2b28ab(0x1bd)](_0xd7cd37,0x2);else{if(fs[_0x2b28ab(0x1af)](path[_0x2b28ab(0x1be)](process[_0x2b28ab(0x192)](),_0x580775['gmYAB'])))_0x3aaf40=path[_0x2b28ab(0x1be)](process[_0x2b28ab(0x192)](),_0x580775[_0x2b28ab(0x1c5)]);else fs[_0x2b28ab(0x1af)](path[_0x2b28ab(0x1be)](process[_0x2b28ab(0x192)](),_0x580775[_0x2b28ab(0x190)]))&&(_0x3aaf40=path['join'](process['cwd'](),_0x580775[_0x2b28ab(0x190)]));}return _0x3aaf40?(logger[_0x2b28ab(0x19b)]('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x3aaf40),_0x4656b6=_0x580775[_0x2b28ab(0x1a7)](require,_0x3aaf40)):logger[_0x2b28ab(0x19b)](_0x580775['rOkJl']),_0x4656b6;},removeExistingEnvs=_0x1684cb=>{const _0x46562b=a37_0x69f6fc,_0x3671d1={};_0x3671d1[_0x46562b(0x1ae)]=function(_0x541ce0,_0x588233){return _0x541ce0>_0x588233;};const _0x19fedc=_0x3671d1;let _0x543454=_0x1684cb['findIndex'](_0x1bd0c0=>_0x1bd0c0==='--env');_0x19fedc['Golde'](_0x543454,-0x1)&&_0x1684cb[_0x46562b(0x1bd)](_0x543454,0x2),_0x543454=_0x1684cb[_0x46562b(0x1c3)](_0x3eba7d=>_0x3eba7d==='-e'),_0x19fedc[_0x46562b(0x1ae)](_0x543454,-0x1)&&_0x1684cb['splice'](_0x543454,0x2);};function run(_0x1b8b40,_0x27e698,_0x4d1e05){const _0x47fc1b=a37_0x69f6fc,_0x2aaf09={'oEtqq':_0x47fc1b(0x1a3),'FRzzn':function(_0x3c1e29,_0x9ce7c5){return _0x3c1e29+_0x9ce7c5;},'kEFSr':_0x47fc1b(0x180),'NBtHq':function(_0x35a6f3,_0x305c65,_0x2d5aaf){return _0x35a6f3(_0x305c65,_0x2d5aaf);},'iTeMX':_0x47fc1b(0x1bb),'uKbDj':_0x47fc1b(0x1b1),'xcAes':function(_0x5298ca,_0x4c9e44){return _0x5298ca===_0x4c9e44;},'vpnML':_0x47fc1b(0x18d),'IbufU':function(_0x1f782b,_0x240e28){return _0x1f782b(_0x240e28);},'rEiqW':function(_0x39d247,_0x279364,_0xc0cd7b,_0x5dd348){return _0x39d247(_0x279364,_0xc0cd7b,_0x5dd348);},'NbkQc':_0x47fc1b(0x186),'jFosX':_0x47fc1b(0x1b5),'ftvlT':_0x47fc1b(0x19a),'BgyUJ':_0x47fc1b(0x1ab),'pMtve':_0x47fc1b(0x1a1)};if(!_0x4d1e05['config'])return;const _0x443bdf=_0x2aaf09[_0x47fc1b(0x1c9)](getUserNightwatchConfigs,_0x1b8b40,_0x27e698),_0x3ef77d={};_0x3ef77d[_0x47fc1b(0x1b6)]=![];const _0x12b1da={};_0x12b1da['host']=_0x2aaf09[_0x47fc1b(0x182)],_0x12b1da[_0x47fc1b(0x189)]=0x1bb;const _0x55a09f={};_0x55a09f[_0x47fc1b(0x1b8)]=_0x3ef77d,_0x55a09f[_0x47fc1b(0x1c8)]=_0x12b1da;const _0x362323=_0x55a09f;logger[_0x47fc1b(0x19b)](_0x2aaf09[_0x47fc1b(0x1c1)]);const _0x352384={..._0x443bdf},_0x426397=_0x352384,_0x38cba1=helper[_0x47fc1b(0x19c)](_0x4d1e05[_0x47fc1b(0x18b)]),_0x2170a7=[];_0x4d1e05[_0x47fc1b(0x18b)]['platforms'][_0x47fc1b(0x1b7)]((_0x2329ff,_0x4a3cb2)=>{const _0x37b45f=_0x47fc1b;_0x38cba1?_0x2170a7[_0x37b45f(0x19d)](helper[_0x37b45f(0x195)](_0x4d1e05[_0x37b45f(0x18b)],_0x2aaf09[_0x37b45f(0x1aa)],_0x4a3cb2)):_0x2170a7[_0x37b45f(0x19d)](helper[_0x37b45f(0x1ca)](_0x4d1e05['config'],_0x2aaf09[_0x37b45f(0x1aa)],_0x4a3cb2));});const _0xa79145={},_0x4e51a7=[];_0x1b8b40[_0x47fc1b(0x199)]=_0x1b8b40[_0x47fc1b(0x199)]||_0x1b8b40['e'];const _0x35b7af=_0x1b8b40[_0x47fc1b(0x199)]?_0x1b8b40['env'][_0x47fc1b(0x191)]()[_0x47fc1b(0x1cb)](',')['map'](_0x5ccd73=>_0x5ccd73[_0x47fc1b(0x191)]())[_0x47fc1b(0x19f)](_0xabfa30=>_0xabfa30!==''):[''];_0x2aaf09[_0x47fc1b(0x197)](_0x35b7af[_0x47fc1b(0x1c0)],0x0)&&_0x35b7af['push']('');_0x35b7af[_0x47fc1b(0x1b7)](_0x100485=>{_0x2170a7['forEach'](_0x590442=>{const _0x3e1b76=a37_0x2532;let _0x2b5701=_0x2aaf09['FRzzn'](helper[_0x3e1b76(0x1a5)](_0x590442,'_'),'_'+Date[_0x3e1b76(0x198)]());_0x100485&&(_0x2b5701+='_'+_0x100485);if(_0x100485&&(!_0x443bdf[_0x2aaf09[_0x3e1b76(0x1cc)]]||!_0x443bdf[_0x2aaf09[_0x3e1b76(0x1cc)]][_0x100485]))return;const _0x3b4e25={..._0x362323};_0x3b4e25['desiredCapabilities']=_0x590442;const _0x1867c4=_0x3b4e25;_0xa79145[_0x2b5701]=_0x100485?helper[_0x3e1b76(0x18e)](_0x443bdf[_0x2aaf09['kEFSr']][_0x100485],_0x1867c4):_0x1867c4,_0x4e51a7[_0x3e1b76(0x19d)](_0x2b5701);});});!_0x426397['test_settings']&&(_0x426397['test_settings']={});_0x426397[_0x47fc1b(0x180)]={..._0x426397['test_settings'],..._0xa79145};const _0x4e6916=path['join'](__dirname,_0x2aaf09[_0x47fc1b(0x1b0)]);fs[_0x47fc1b(0x1b4)](_0x4e6916,JSON[_0x47fc1b(0x1a4)](_0x426397)),_0x2aaf09[_0x47fc1b(0x18a)](removeExistingEnvs,_0x27e698);const _0x5e6859=_0x2aaf09[_0x47fc1b(0x1a6)](spawn,/^win/[_0x47fc1b(0x1a9)](process['platform'])?_0x2aaf09[_0x47fc1b(0x188)]:_0x2aaf09['oEtqq'],[_0x2aaf09[_0x47fc1b(0x1bf)],_0x4e6916,..._0x27e698[_0x47fc1b(0x18c)](0x1),_0x2aaf09[_0x47fc1b(0x183)],_0x4e51a7[_0x47fc1b(0x1be)](',')],{'stdio':_0x2aaf09[_0x47fc1b(0x181)]});_0x5e6859['on'](_0x2aaf09[_0x47fc1b(0x1a0)],async _0x5e1726=>{const _0x3852c3=_0x47fc1b;logger[_0x3852c3(0x194)](_0x3852c3(0x19e)+_0x5e1726),logger[_0x3852c3(0x19b)](_0x3852c3(0x1bc)+_0x4e6916),fs[_0x3852c3(0x187)](_0x4e6916);});}function a37_0x25ac(){const _0x105a39=['debug','modifyBrowserStackW3CCaps','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','xcAes','now','env','--env','info','useW3C','push','child\x20process\x20exited\x20with\x20code\x20','filter','pMtve','close','winstonLogger','nightwatch','stringify','getPlatformName','rEiqW','dTfGD','4459692aJndPb','test','oEtqq','inherit','2927472ImIIzt','../../helpers/logger','Golde','existsSync','vpnML','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','1325085XWdrQH','child_process','writeFileSync','--config','start_process','forEach','webdriver','21725576sgqEgV','isUndefined','hub.browserstack.com','Deleting\x20','splice','join','jFosX','length','uKbDj','699698aEoHRm','findIndex','../../helpers/helper','gmYAB','path','../../helpers/BrowserStackSetup','selenium','NBtHq','modifyBrowserStackCaps','split','kEFSr','test_settings','BgyUJ','iTeMX','ftvlT','../utils/constants','6929552UXhGKM','nightwatch.cmd','unlinkSync','NbkQc','port','IbufU','config','slice','nightwatch-browserstack.json','mergeDeep','1860470nVcWCL','KUhzT','trim','cwd','6hMZjcJ'];a37_0x25ac=function(){return _0x105a39;};return a37_0x25ac();}module['exports']=run;