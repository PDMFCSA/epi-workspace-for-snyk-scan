#!/usr/bin/env node
'use strict';const a34_0x2454cf=a34_0x3102;(function(_0x8cad11,_0x447a47){const _0xc9211a=a34_0x3102,_0x570b4c=_0x8cad11();while(!![]){try{const _0x3b96a4=parseInt(_0xc9211a(0x149))/0x1+parseInt(_0xc9211a(0x12c))/0x2*(-parseInt(_0xc9211a(0x111))/0x3)+-parseInt(_0xc9211a(0x107))/0x4*(-parseInt(_0xc9211a(0x146))/0x5)+-parseInt(_0xc9211a(0x141))/0x6+-parseInt(_0xc9211a(0x121))/0x7*(parseInt(_0xc9211a(0x130))/0x8)+parseInt(_0xc9211a(0x10f))/0x9*(-parseInt(_0xc9211a(0x12f))/0xa)+parseInt(_0xc9211a(0x10c))/0xb;if(_0x3b96a4===_0x447a47)break;else _0x570b4c['push'](_0x570b4c['shift']());}catch(_0x1354e1){_0x570b4c['push'](_0x570b4c['shift']());}}}(a34_0x3fee,0xc3308));const fs=require('fs'),path=require(a34_0x2454cf(0x150)),{spawn}=require('child_process'),logger=require(a34_0x2454cf(0x143))[a34_0x2454cf(0x126)],{default:BrowserStackSetup}=require(a34_0x2454cf(0x10a)),helper=require('../../helpers/helper'),constants=require(a34_0x2454cf(0x115)),getUserNightwatchConfigs=(_0x2945d7,_0x38bc52)=>{const _0x5981f8=a34_0x2454cf,_0x1b0da4={'tdqYz':_0x5981f8(0x114),'MERtZ':'nightwatch.json','dVgWT':function(_0x2ff4f5,_0x1af0f8){return _0x2ff4f5(_0x1af0f8);},'PbEud':_0x5981f8(0x10d)};let _0x93cec0=null,_0x1101ee={};const _0x9177ed=_0x38bc52[_0x5981f8(0x11c)](_0xaaafa7=>_0xaaafa7===_0x5981f8(0x131));if(!helper[_0x5981f8(0x11b)](_0x2945d7[_0x5981f8(0x122)])&&fs[_0x5981f8(0x134)](path[_0x5981f8(0x13d)](process[_0x5981f8(0x12d)](),_0x2945d7[_0x5981f8(0x122)])))_0x93cec0=path[_0x5981f8(0x13d)](process[_0x5981f8(0x12d)](),_0x2945d7['config']),_0x38bc52[_0x5981f8(0x136)](_0x9177ed,0x2);else{if(fs['existsSync'](path[_0x5981f8(0x13d)](process[_0x5981f8(0x12d)](),_0x1b0da4[_0x5981f8(0x14a)])))_0x93cec0=path[_0x5981f8(0x13d)](process[_0x5981f8(0x12d)](),_0x1b0da4[_0x5981f8(0x14a)]);else fs[_0x5981f8(0x134)](path[_0x5981f8(0x13d)](process[_0x5981f8(0x12d)](),_0x1b0da4[_0x5981f8(0x14c)]))&&(_0x93cec0=path[_0x5981f8(0x13d)](process[_0x5981f8(0x12d)](),_0x1b0da4['MERtZ']));}return _0x93cec0?(logger[_0x5981f8(0x144)]('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x93cec0),_0x1101ee=_0x1b0da4[_0x5981f8(0x11e)](require,_0x93cec0)):logger[_0x5981f8(0x144)](_0x1b0da4[_0x5981f8(0x139)]),_0x1101ee;},removeExistingEnvs=_0x569b2e=>{const _0x2f9609=a34_0x2454cf,_0x25e331={};_0x25e331[_0x2f9609(0x14b)]=function(_0x327262,_0x58803d){return _0x327262>_0x58803d;};const _0x5e8338=_0x25e331;let _0x24cb15=_0x569b2e[_0x2f9609(0x11c)](_0x2a7d2f=>_0x2a7d2f==='--env');_0x5e8338[_0x2f9609(0x14b)](_0x24cb15,-0x1)&&_0x569b2e[_0x2f9609(0x136)](_0x24cb15,0x2),_0x24cb15=_0x569b2e[_0x2f9609(0x11c)](_0x46b97a=>_0x46b97a==='-e'),_0x5e8338['svtfH'](_0x24cb15,-0x1)&&_0x569b2e[_0x2f9609(0x136)](_0x24cb15,0x2);};function run(_0x3465c9,_0xc220e9,_0x13539f){const _0x2b297c=a34_0x2454cf,_0x4be322={'FkSmk':_0x2b297c(0x138),'mzpjj':function(_0x3ea863,_0x345d97){return _0x3ea863+_0x345d97;},'EWhNp':_0x2b297c(0x142),'DefAM':function(_0x49130a,_0x478dd9,_0x41a183){return _0x49130a(_0x478dd9,_0x41a183);},'IcPzs':_0x2b297c(0x12a),'fNmua':_0x2b297c(0x10b),'UneVK':function(_0x2d562d,_0x443733){return _0x2d562d===_0x443733;},'XZcYz':_0x2b297c(0x132),'iAigE':function(_0x1dbb1a,_0x4bcb0b){return _0x1dbb1a(_0x4bcb0b);},'ckpzR':function(_0x39dc15,_0x370fc8,_0x422fdb,_0x5be1b7){return _0x39dc15(_0x370fc8,_0x422fdb,_0x5be1b7);},'msoqv':'nightwatch.cmd','FkqVR':_0x2b297c(0x131),'LQmfG':'--env','ixKYH':_0x2b297c(0x140),'zIlQK':'close'};if(!_0x13539f[_0x2b297c(0x122)])return;const _0x5515c8=_0x4be322[_0x2b297c(0x110)](getUserNightwatchConfigs,_0x3465c9,_0xc220e9),_0x207b44={};_0x207b44[_0x2b297c(0x12b)]=![];const _0x27b26c={};_0x27b26c['host']=_0x4be322[_0x2b297c(0x147)],_0x27b26c[_0x2b297c(0x148)]=0x1bb;const _0x55fd3b={};_0x55fd3b['webdriver']=_0x207b44,_0x55fd3b[_0x2b297c(0x13b)]=_0x27b26c;const _0x515cbc=_0x55fd3b;logger[_0x2b297c(0x144)](_0x4be322[_0x2b297c(0x129)]);const _0x1c7b25={..._0x5515c8},_0xab6e16=_0x1c7b25,_0x5ba88b=helper[_0x2b297c(0x113)](_0x13539f[_0x2b297c(0x122)]),_0x6dfd8c=[];_0x13539f[_0x2b297c(0x122)][_0x2b297c(0x112)][_0x2b297c(0x118)]((_0x42cb42,_0x48aad2)=>{const _0x586e7c=_0x2b297c;_0x5ba88b?_0x6dfd8c[_0x586e7c(0x11a)](helper[_0x586e7c(0x13f)](_0x13539f[_0x586e7c(0x122)],_0x4be322[_0x586e7c(0x14f)],_0x48aad2)):_0x6dfd8c[_0x586e7c(0x11a)](helper[_0x586e7c(0x128)](_0x13539f['config'],_0x4be322[_0x586e7c(0x14f)],_0x48aad2));});const _0x5df6d6={},_0x292bb2=[];_0x3465c9[_0x2b297c(0x135)]=_0x3465c9['env']||_0x3465c9['e'];const _0x1ac44d=_0x3465c9[_0x2b297c(0x135)]?_0x3465c9['env'][_0x2b297c(0x109)]()['split'](',')[_0x2b297c(0x116)](_0x4c0bc4=>_0x4c0bc4[_0x2b297c(0x109)]())['filter'](_0x3f1b18=>_0x3f1b18!==''):[''];_0x4be322[_0x2b297c(0x125)](_0x1ac44d[_0x2b297c(0x14d)],0x0)&&_0x1ac44d['push']('');_0x1ac44d[_0x2b297c(0x118)](_0x1c3803=>{const _0x257915=_0x2b297c,_0xf4e04b={'kucQp':function(_0x3c7609,_0x27680f){const _0x5972fc=a34_0x3102;return _0x4be322[_0x5972fc(0x10e)](_0x3c7609,_0x27680f);},'ncTrs':_0x4be322[_0x257915(0x127)]};_0x6dfd8c[_0x257915(0x118)](_0x4da307=>{const _0x27a797=_0x257915;let _0x3f5b24=_0xf4e04b[_0x27a797(0x124)](helper[_0x27a797(0x12e)](_0x4da307,'_'),'_'+Date[_0x27a797(0x123)]());_0x1c3803&&(_0x3f5b24+='_'+_0x1c3803);if(_0x1c3803&&(!_0x5515c8[_0xf4e04b[_0x27a797(0x117)]]||!_0x5515c8[_0xf4e04b[_0x27a797(0x117)]][_0x1c3803]))return;const _0x1aee7a={..._0x515cbc};_0x1aee7a['desiredCapabilities']=_0x4da307;const _0x378eb2=_0x1aee7a;_0x5df6d6[_0x3f5b24]=_0x1c3803?helper[_0x27a797(0x13e)](_0x5515c8[_0xf4e04b[_0x27a797(0x117)]][_0x1c3803],_0x378eb2):_0x378eb2,_0x292bb2['push'](_0x3f5b24);});});!_0xab6e16['test_settings']&&(_0xab6e16['test_settings']={});_0xab6e16[_0x2b297c(0x142)]={..._0xab6e16[_0x2b297c(0x142)],..._0x5df6d6};const _0x26ea3e=path[_0x2b297c(0x13d)](__dirname,_0x4be322['XZcYz']);fs[_0x2b297c(0x137)](_0x26ea3e,JSON['stringify'](_0xab6e16)),_0x4be322[_0x2b297c(0x133)](removeExistingEnvs,_0xc220e9);const _0x8c5dbe=_0x4be322[_0x2b297c(0x13c)](spawn,/^win/[_0x2b297c(0x120)](process['platform'])?_0x4be322[_0x2b297c(0x108)]:_0x4be322['FkSmk'],[_0x4be322[_0x2b297c(0x11f)],_0x26ea3e,..._0xc220e9[_0x2b297c(0x13a)](0x1),_0x4be322[_0x2b297c(0x14e)],_0x292bb2[_0x2b297c(0x13d)](',')],{'stdio':_0x4be322['ixKYH']});_0x8c5dbe['on'](_0x4be322['zIlQK'],async _0x1e45eb=>{const _0x454eb9=_0x2b297c;logger[_0x454eb9(0x119)](_0x454eb9(0x145)+_0x1e45eb),logger[_0x454eb9(0x144)]('Deleting\x20'+_0x26ea3e),fs['unlinkSync'](_0x26ea3e);});}function a34_0x3102(_0xa648d6,_0x4e1a4d){const _0x3fee15=a34_0x3fee();return a34_0x3102=function(_0x310265,_0x15176c){_0x310265=_0x310265-0x107;let _0x4d47cb=_0x3fee15[_0x310265];return _0x4d47cb;},a34_0x3102(_0xa648d6,_0x4e1a4d);}module[a34_0x2454cf(0x11d)]=run;function a34_0x3fee(){const _0x41bf63=['config','now','kucQp','UneVK','winstonLogger','EWhNp','modifyBrowserStackCaps','fNmua','hub.browserstack.com','start_process','14XuZeAJ','cwd','getPlatformName','3474820SNBVpB','149696edqKtF','--config','nightwatch-browserstack.json','iAigE','existsSync','env','splice','writeFileSync','nightwatch','PbEud','slice','selenium','ckpzR','join','mergeDeep','modifyBrowserStackW3CCaps','inherit','3214872WYFbLn','test_settings','../../helpers/logger','info','child\x20process\x20exited\x20with\x20code\x20','5zTaZVr','IcPzs','port','972206IgKCHb','tdqYz','svtfH','MERtZ','length','LQmfG','FkSmk','path','5685452eJmCSy','msoqv','trim','../../helpers/BrowserStackSetup','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','15362996gREaSW','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','mzpjj','36SEktdf','DefAM','263949OcRwpB','platforms','useW3C','nightwatch.conf.js','../utils/constants','map','ncTrs','forEach','debug','push','isUndefined','findIndex','exports','dVgWT','FkqVR','test','168ojKzfo'];a34_0x3fee=function(){return _0x41bf63;};return a34_0x3fee();}