#!/usr/bin/env node
'use strict';const a37_0x49ff23=a37_0x3f4d;(function(_0x353a9d,_0x2b7b3b){const _0x1307eb=a37_0x3f4d,_0x5cf347=_0x353a9d();while(!![]){try{const _0x33b8ca=-parseInt(_0x1307eb(0x1c5))/0x1+parseInt(_0x1307eb(0x1d9))/0x2+parseInt(_0x1307eb(0x1e3))/0x3*(parseInt(_0x1307eb(0x1cd))/0x4)+parseInt(_0x1307eb(0x1f9))/0x5*(parseInt(_0x1307eb(0x1d6))/0x6)+-parseInt(_0x1307eb(0x200))/0x7+parseInt(_0x1307eb(0x1eb))/0x8*(parseInt(_0x1307eb(0x1fc))/0x9)+parseInt(_0x1307eb(0x1d1))/0xa;if(_0x33b8ca===_0x2b7b3b)break;else _0x5cf347['push'](_0x5cf347['shift']());}catch(_0x272d84){_0x5cf347['push'](_0x5cf347['shift']());}}}(a37_0x2276,0xe90c0));const fs=require('fs'),path=require(a37_0x49ff23(0x205)),{spawn}=require(a37_0x49ff23(0x1d7)),logger=require(a37_0x49ff23(0x1c4))[a37_0x49ff23(0x1fd)],{default:BrowserStackSetup}=require(a37_0x49ff23(0x1e5)),helper=require(a37_0x49ff23(0x1ef)),constants=require(a37_0x49ff23(0x208)),getUserNightwatchConfigs=(_0x5da777,_0xe6b7d9)=>{const _0x752c7b=a37_0x49ff23,_0x1891e8={'ekojO':_0x752c7b(0x1ff),'JvuwU':_0x752c7b(0x203),'QGgmK':function(_0x91094e,_0x4587aa){return _0x91094e(_0x4587aa);},'WaogO':_0x752c7b(0x1d2)};let _0x19c594=null,_0x21f781={};const _0x1a87d6=_0xe6b7d9[_0x752c7b(0x1d3)](_0x580ab9=>_0x580ab9===_0x752c7b(0x1fb));if(!helper[_0x752c7b(0x1c9)](_0x5da777[_0x752c7b(0x1e7)])&&fs[_0x752c7b(0x1f3)](path['join'](process[_0x752c7b(0x1e0)](),_0x5da777[_0x752c7b(0x1e7)])))_0x19c594=path['join'](process[_0x752c7b(0x1e0)](),_0x5da777[_0x752c7b(0x1e7)]),_0xe6b7d9[_0x752c7b(0x206)](_0x1a87d6,0x2);else{if(fs[_0x752c7b(0x1f3)](path[_0x752c7b(0x1d4)](process[_0x752c7b(0x1e0)](),_0x1891e8[_0x752c7b(0x1dd)])))_0x19c594=path['join'](process['cwd'](),_0x1891e8[_0x752c7b(0x1dd)]);else fs[_0x752c7b(0x1f3)](path[_0x752c7b(0x1d4)](process[_0x752c7b(0x1e0)](),_0x1891e8[_0x752c7b(0x1c7)]))&&(_0x19c594=path[_0x752c7b(0x1d4)](process[_0x752c7b(0x1e0)](),_0x1891e8[_0x752c7b(0x1c7)]));}return _0x19c594?(logger['info'](_0x752c7b(0x1ce)+_0x19c594),_0x21f781=_0x1891e8['QGgmK'](require,_0x19c594)):logger[_0x752c7b(0x1da)](_0x1891e8['WaogO']),_0x21f781;},removeExistingEnvs=_0x45fbd9=>{const _0x383d7e=a37_0x49ff23,_0x173fff={};_0x173fff[_0x383d7e(0x1ec)]=function(_0x507271,_0xf429d6){return _0x507271>_0xf429d6;};const _0x541475=_0x173fff;let _0x1833fb=_0x45fbd9[_0x383d7e(0x1d3)](_0x563659=>_0x563659==='--env');_0x541475[_0x383d7e(0x1ec)](_0x1833fb,-0x1)&&_0x45fbd9[_0x383d7e(0x206)](_0x1833fb,0x2),_0x1833fb=_0x45fbd9[_0x383d7e(0x1d3)](_0x4134ea=>_0x4134ea==='-e'),_0x541475[_0x383d7e(0x1ec)](_0x1833fb,-0x1)&&_0x45fbd9['splice'](_0x1833fb,0x2);};function a37_0x3f4d(_0x3fe65e,_0x15ec4a){const _0x227638=a37_0x2276();return a37_0x3f4d=function(_0x3f4de6,_0x1aeea2){_0x3f4de6=_0x3f4de6-0x1c3;let _0x59cfba=_0x227638[_0x3f4de6];return _0x59cfba;},a37_0x3f4d(_0x3fe65e,_0x15ec4a);}function run(_0x56a630,_0x256dbe,_0x1cafdf){const _0x527f7d=a37_0x49ff23,_0x5c2309={'dcQIj':_0x527f7d(0x1ea),'DSLAj':function(_0x2d7e3c,_0x3e55b0){return _0x2d7e3c+_0x3e55b0;},'haQnh':_0x527f7d(0x1dc),'HhYwH':function(_0x2e8afb,_0x219e6b,_0x550853){return _0x2e8afb(_0x219e6b,_0x550853);},'bAyXC':'hub.browserstack.com','mWCum':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','CzXpD':function(_0x1b3b85,_0x3b2c14){return _0x1b3b85===_0x3b2c14;},'OcHsg':_0x527f7d(0x1f7),'NIzQz':function(_0x268266,_0x39246b){return _0x268266(_0x39246b);},'IGyDg':function(_0x151f30,_0x561c15,_0x95bee2,_0x1c0bca){return _0x151f30(_0x561c15,_0x95bee2,_0x1c0bca);},'freLc':_0x527f7d(0x1db),'GXlDT':_0x527f7d(0x1fb),'qDSXn':'--env','HCyLB':'inherit','IYlIe':'close'};if(!_0x1cafdf[_0x527f7d(0x1e7)])return;const _0x5d4ae4=_0x5c2309[_0x527f7d(0x1f1)](getUserNightwatchConfigs,_0x56a630,_0x256dbe),_0x5eabb7={};_0x5eabb7[_0x527f7d(0x1fe)]=![];const _0x4d5cf9={};_0x4d5cf9[_0x527f7d(0x204)]=_0x5c2309[_0x527f7d(0x1e8)],_0x4d5cf9[_0x527f7d(0x1ca)]=0x1bb;const _0x16dec5={};_0x16dec5['webdriver']=_0x5eabb7,_0x16dec5[_0x527f7d(0x1c6)]=_0x4d5cf9;const _0x16a9f1=_0x16dec5;logger[_0x527f7d(0x1da)](_0x5c2309[_0x527f7d(0x1f4)]);const _0x1c9ce0={..._0x5d4ae4},_0x49ddd7=_0x1c9ce0,_0x5d6963=helper[_0x527f7d(0x1c8)](_0x1cafdf[_0x527f7d(0x1e7)]),_0x232ffa=[];_0x1cafdf[_0x527f7d(0x1e7)][_0x527f7d(0x1cb)]['forEach']((_0xb1eb18,_0x11c466)=>{const _0x45bddb=_0x527f7d;_0x5d6963?_0x232ffa[_0x45bddb(0x1f8)](helper[_0x45bddb(0x1c3)](_0x1cafdf[_0x45bddb(0x1e7)],_0x5c2309[_0x45bddb(0x1df)],_0x11c466)):_0x232ffa[_0x45bddb(0x1f8)](helper[_0x45bddb(0x1f0)](_0x1cafdf[_0x45bddb(0x1e7)],_0x5c2309[_0x45bddb(0x1df)],_0x11c466));});const _0x47b64c={},_0x716f43=[];_0x56a630[_0x527f7d(0x1d8)]=_0x56a630['env']||_0x56a630['e'];const _0x46e52e=_0x56a630[_0x527f7d(0x1d8)]?_0x56a630[_0x527f7d(0x1d8)]['trim']()[_0x527f7d(0x1f5)](',')['map'](_0x2a0820=>_0x2a0820[_0x527f7d(0x1e6)]())[_0x527f7d(0x1cc)](_0x40295b=>_0x40295b!==''):[''];_0x5c2309[_0x527f7d(0x202)](_0x46e52e[_0x527f7d(0x1e1)],0x0)&&_0x46e52e[_0x527f7d(0x1f8)]('');_0x46e52e[_0x527f7d(0x1d0)](_0x465224=>{const _0x4de707=_0x527f7d;_0x232ffa[_0x4de707(0x1d0)](_0x198465=>{const _0x2e2c48=_0x4de707;let _0x3ae969=_0x5c2309['DSLAj'](helper['getPlatformName'](_0x198465,'_'),'_'+Date[_0x2e2c48(0x201)]());_0x465224&&(_0x3ae969+='_'+_0x465224);if(_0x465224&&(!_0x5d4ae4[_0x5c2309[_0x2e2c48(0x207)]]||!_0x5d4ae4[_0x5c2309['haQnh']][_0x465224]))return;const _0x2bf679={..._0x16a9f1};_0x2bf679['desiredCapabilities']=_0x198465;const _0x20442d=_0x2bf679;_0x47b64c[_0x3ae969]=_0x465224?helper[_0x2e2c48(0x1f2)](_0x5d4ae4[_0x5c2309[_0x2e2c48(0x207)]][_0x465224],_0x20442d):_0x20442d,_0x716f43[_0x2e2c48(0x1f8)](_0x3ae969);});});!_0x49ddd7['test_settings']&&(_0x49ddd7[_0x527f7d(0x1dc)]={});_0x49ddd7['test_settings']={..._0x49ddd7[_0x527f7d(0x1dc)],..._0x47b64c};const _0x4b2939=path[_0x527f7d(0x1d4)](__dirname,_0x5c2309['OcHsg']);fs['writeFileSync'](_0x4b2939,JSON[_0x527f7d(0x1e9)](_0x49ddd7)),_0x5c2309['NIzQz'](removeExistingEnvs,_0x256dbe);const _0x47e53d=_0x5c2309[_0x527f7d(0x1fa)](spawn,/^win/[_0x527f7d(0x1d5)](process['platform'])?_0x5c2309[_0x527f7d(0x1e4)]:_0x5c2309['dcQIj'],[_0x5c2309[_0x527f7d(0x1e2)],_0x4b2939,..._0x256dbe[_0x527f7d(0x1cf)](0x1),_0x5c2309[_0x527f7d(0x1ed)],_0x716f43[_0x527f7d(0x1d4)](',')],{'stdio':_0x5c2309[_0x527f7d(0x1ee)]});_0x47e53d['on'](_0x5c2309['IYlIe'],async _0x322ade=>{const _0x3b59ad=_0x527f7d;logger['debug'](_0x3b59ad(0x1de)+_0x322ade),logger[_0x3b59ad(0x1da)]('Deleting\x20'+_0x4b2939),fs['unlinkSync'](_0x4b2939);});}function a37_0x2276(){const _0x3ea05f=['start_process','nightwatch.conf.js','11880190ABuXXo','now','CzXpD','nightwatch.json','host','path','splice','haQnh','../utils/constants','modifyBrowserStackW3CCaps','../../helpers/logger','1606685ovQQzO','selenium','JvuwU','useW3C','isUndefined','port','platforms','filter','20NQdsXS','Getting\x20your\x20nightwatch\x20configs\x20from\x20','slice','forEach','15961650XyvkoI','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','findIndex','join','test','38916llGpUx','child_process','env','2498594ODkPlH','info','nightwatch.cmd','test_settings','ekojO','child\x20process\x20exited\x20with\x20code\x20','dcQIj','cwd','length','GXlDT','306303xQVSZj','freLc','../../helpers/BrowserStackSetup','trim','config','bAyXC','stringify','nightwatch','24dLqqri','EamzB','qDSXn','HCyLB','../../helpers/helper','modifyBrowserStackCaps','HhYwH','mergeDeep','existsSync','mWCum','split','exports','nightwatch-browserstack.json','push','535tvYEnj','IGyDg','--config','625338sUsblT','winstonLogger'];a37_0x2276=function(){return _0x3ea05f;};return a37_0x2276();}module[a37_0x49ff23(0x1f6)]=run;