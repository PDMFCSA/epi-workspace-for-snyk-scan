#!/usr/bin/env node
'use strict';const a38_0x1f829b=a38_0x5cc7;function a38_0x5cc7(_0x22d5be,_0x55c269){const _0x5a4df5=a38_0x5a4d();return a38_0x5cc7=function(_0x5cc74e,_0x412063){_0x5cc74e=_0x5cc74e-0x1c8;let _0x500a07=_0x5a4df5[_0x5cc74e];return _0x500a07;},a38_0x5cc7(_0x22d5be,_0x55c269);}(function(_0x5e7ed7,_0x52175c){const _0x583d65=a38_0x5cc7,_0x1acb2f=_0x5e7ed7();while(!![]){try{const _0x16c85d=-parseInt(_0x583d65(0x1ce))/0x1*(parseInt(_0x583d65(0x1e8))/0x2)+parseInt(_0x583d65(0x1cc))/0x3+parseInt(_0x583d65(0x1c8))/0x4*(-parseInt(_0x583d65(0x1f2))/0x5)+parseInt(_0x583d65(0x1d7))/0x6+parseInt(_0x583d65(0x1ea))/0x7+-parseInt(_0x583d65(0x201))/0x8*(-parseInt(_0x583d65(0x214))/0x9)+-parseInt(_0x583d65(0x1d8))/0xa;if(_0x16c85d===_0x52175c)break;else _0x1acb2f['push'](_0x1acb2f['shift']());}catch(_0xff8b4d){_0x1acb2f['push'](_0x1acb2f['shift']());}}}(a38_0x5a4d,0x6bcd3));const fs=require('fs'),path=require(a38_0x1f829b(0x211)),{spawn}=require(a38_0x1f829b(0x1d4)),logger=require(a38_0x1f829b(0x215))[a38_0x1f829b(0x20c)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a38_0x1f829b(0x1fc)),constants=require('../utils/constants'),getUserNightwatchConfigs=(_0xad1b9e,_0x2eca79)=>{const _0x2cdcf9=a38_0x1f829b,_0x5c0fc0={'POxhO':'nightwatch.conf.js','tMrdI':_0x2cdcf9(0x1e2),'ZsvzN':function(_0x556f50,_0x5b3008){return _0x556f50(_0x5b3008);},'KrsQD':_0x2cdcf9(0x1ca)};let _0x36e9eb=null,_0x32b306={};const _0x6f64bf=_0x2eca79[_0x2cdcf9(0x1f8)](_0x43bfe2=>_0x43bfe2===_0x2cdcf9(0x203));if(!helper[_0x2cdcf9(0x20f)](_0xad1b9e[_0x2cdcf9(0x1d6)])&&fs[_0x2cdcf9(0x1e9)](path[_0x2cdcf9(0x1ed)](process[_0x2cdcf9(0x1f1)](),_0xad1b9e[_0x2cdcf9(0x1d6)])))_0x36e9eb=path[_0x2cdcf9(0x1ed)](process[_0x2cdcf9(0x1f1)](),_0xad1b9e['config']),_0x2eca79[_0x2cdcf9(0x20d)](_0x6f64bf,0x2);else{if(fs[_0x2cdcf9(0x1e9)](path[_0x2cdcf9(0x1ed)](process['cwd'](),_0x5c0fc0['POxhO'])))_0x36e9eb=path[_0x2cdcf9(0x1ed)](process['cwd'](),_0x5c0fc0[_0x2cdcf9(0x213)]);else fs['existsSync'](path[_0x2cdcf9(0x1ed)](process[_0x2cdcf9(0x1f1)](),_0x5c0fc0['tMrdI']))&&(_0x36e9eb=path[_0x2cdcf9(0x1ed)](process[_0x2cdcf9(0x1f1)](),_0x5c0fc0[_0x2cdcf9(0x1e3)]));}return _0x36e9eb?(logger['info'](_0x2cdcf9(0x1da)+_0x36e9eb),_0x32b306=_0x5c0fc0[_0x2cdcf9(0x20b)](require,_0x36e9eb)):logger['info'](_0x5c0fc0[_0x2cdcf9(0x1fb)]),_0x32b306;},removeExistingEnvs=_0x19919a=>{const _0x46defa=a38_0x1f829b,_0x42f2dd={};_0x42f2dd['uyQTf']=function(_0x1cae0f,_0x1a9324){return _0x1cae0f>_0x1a9324;},_0x42f2dd['iovlw']=function(_0x4d8bab,_0x486255){return _0x4d8bab>_0x486255;};const _0x5bc80c=_0x42f2dd;let _0x5c6559=_0x19919a[_0x46defa(0x1f8)](_0x4e0946=>_0x4e0946==='--env');_0x5bc80c[_0x46defa(0x1f9)](_0x5c6559,-0x1)&&_0x19919a['splice'](_0x5c6559,0x2),_0x5c6559=_0x19919a['findIndex'](_0x129804=>_0x129804==='-e'),_0x5bc80c[_0x46defa(0x212)](_0x5c6559,-0x1)&&_0x19919a[_0x46defa(0x20d)](_0x5c6559,0x2);};function run(_0x8c8c76,_0x4feaee,_0x35bd94){const _0x101064=a38_0x1f829b,_0x16d405={'YdGBG':_0x101064(0x1f6),'Tkfbf':function(_0x557361,_0x31e0db){return _0x557361+_0x31e0db;},'NqwbG':_0x101064(0x206),'WYUnb':function(_0x2427f3,_0x4572cd,_0x137580){return _0x2427f3(_0x4572cd,_0x137580);},'HpVnM':_0x101064(0x1ee),'dfnyw':_0x101064(0x1f0),'xsJTb':function(_0x4371a3,_0x5a41eb){return _0x4371a3===_0x5a41eb;},'tInYT':'nightwatch-browserstack.json','GusCG':function(_0x288fe2,_0x38ea8c){return _0x288fe2(_0x38ea8c);},'MXcDy':function(_0x547ee5,_0xf0f56a,_0x52dd39,_0x2cb432){return _0x547ee5(_0xf0f56a,_0x52dd39,_0x2cb432);},'UrLDH':_0x101064(0x1dd),'gqTBr':_0x101064(0x203),'ZZThS':_0x101064(0x204),'cjiOb':_0x101064(0x205),'eyYRQ':_0x101064(0x1e4)};if(!_0x35bd94[_0x101064(0x1d6)])return;const _0x38cc14=_0x16d405[_0x101064(0x20a)](getUserNightwatchConfigs,_0x8c8c76,_0x4feaee),_0x465fc2={};_0x465fc2[_0x101064(0x1ff)]=![];const _0x5b77cb={};_0x5b77cb[_0x101064(0x1ef)]=_0x16d405[_0x101064(0x1cd)],_0x5b77cb['port']=0x1bb;const _0x48733f={};_0x48733f['webdriver']=_0x465fc2,_0x48733f[_0x101064(0x216)]=_0x5b77cb;const _0x5d66c6=_0x48733f;logger[_0x101064(0x1f4)](_0x16d405[_0x101064(0x1fa)]);const _0x424916={..._0x38cc14},_0x2e4df0=_0x424916,_0x2fec0b=helper[_0x101064(0x209)](_0x35bd94[_0x101064(0x1d6)]),_0x4fa676=[];_0x35bd94[_0x101064(0x1d6)][_0x101064(0x1dc)]['forEach']((_0x389e0d,_0x47fcac)=>{const _0x3f3b4e=_0x101064;_0x2fec0b?_0x4fa676['push'](helper[_0x3f3b4e(0x1e6)](_0x35bd94[_0x3f3b4e(0x1d6)],_0x16d405[_0x3f3b4e(0x1c9)],_0x47fcac)):_0x4fa676[_0x3f3b4e(0x20e)](helper[_0x3f3b4e(0x1e0)](_0x35bd94[_0x3f3b4e(0x1d6)],_0x16d405[_0x3f3b4e(0x1c9)],_0x47fcac));});const _0x3ecadb={},_0x17370e=[];_0x8c8c76['env']=_0x8c8c76[_0x101064(0x1df)]||_0x8c8c76['e'];const _0x2dbec5=_0x8c8c76['env']?_0x8c8c76[_0x101064(0x1df)][_0x101064(0x1f3)]()[_0x101064(0x1f5)](',')[_0x101064(0x1d2)](_0xd9c77f=>_0xd9c77f[_0x101064(0x1f3)]())[_0x101064(0x1f7)](_0x4d2392=>_0x4d2392!==''):[''];_0x16d405[_0x101064(0x1d1)](_0x2dbec5[_0x101064(0x1de)],0x0)&&_0x2dbec5[_0x101064(0x20e)]('');_0x2dbec5[_0x101064(0x200)](_0x51dbfa=>{const _0x20a793=_0x101064,_0x532442={'SqUWZ':function(_0x24e037,_0x46b060){const _0x34c6b1=a38_0x5cc7;return _0x16d405[_0x34c6b1(0x1cb)](_0x24e037,_0x46b060);},'gDhHv':_0x16d405[_0x20a793(0x1fe)]};_0x4fa676[_0x20a793(0x200)](_0x16ff74=>{const _0x2fa63e=_0x20a793;let _0x151a04=_0x532442[_0x2fa63e(0x210)](helper['getPlatformName'](_0x16ff74,'_'),'_'+Date['now']());_0x51dbfa&&(_0x151a04+='_'+_0x51dbfa);if(_0x51dbfa&&(!_0x38cc14[_0x532442[_0x2fa63e(0x207)]]||!_0x38cc14[_0x532442[_0x2fa63e(0x207)]][_0x51dbfa]))return;const _0x1119b6={..._0x5d66c6};_0x1119b6[_0x2fa63e(0x1cf)]=_0x16ff74;const _0x4ca40d=_0x1119b6;_0x3ecadb[_0x151a04]=_0x51dbfa?helper['mergeDeep'](_0x38cc14[_0x532442[_0x2fa63e(0x207)]][_0x51dbfa],_0x4ca40d):_0x4ca40d,_0x17370e[_0x2fa63e(0x20e)](_0x151a04);});});!_0x2e4df0[_0x101064(0x206)]&&(_0x2e4df0[_0x101064(0x206)]={});_0x2e4df0['test_settings']={..._0x2e4df0[_0x101064(0x206)],..._0x3ecadb};const _0x5c7790=path['join'](__dirname,_0x16d405[_0x101064(0x202)]);fs[_0x101064(0x1e7)](_0x5c7790,JSON['stringify'](_0x2e4df0)),_0x16d405[_0x101064(0x1eb)](removeExistingEnvs,_0x4feaee);const _0x4486e1=_0x16d405[_0x101064(0x1d3)](spawn,/^win/['test'](process['platform'])?_0x16d405[_0x101064(0x1ec)]:_0x16d405['YdGBG'],[_0x16d405['gqTBr'],_0x5c7790,..._0x4feaee['slice'](0x1),_0x16d405[_0x101064(0x1db)],_0x17370e['join'](',')],{'stdio':_0x16d405[_0x101064(0x1e1)]});_0x4486e1['on'](_0x16d405[_0x101064(0x1fd)],async _0x29b88a=>{const _0x25dad4=_0x101064;logger[_0x25dad4(0x1e5)](_0x25dad4(0x1d5)+_0x29b88a),logger[_0x25dad4(0x1f4)](_0x25dad4(0x1d9)+_0x5c7790),fs[_0x25dad4(0x208)](_0x5c7790);});}function a38_0x5a4d(){const _0x524eae=['start_process','forEach','56ykacqq','tInYT','--config','--env','inherit','test_settings','gDhHv','unlinkSync','useW3C','WYUnb','ZsvzN','winstonLogger','splice','push','isUndefined','SqUWZ','path','iovlw','POxhO','1132632YutpCE','../../helpers/logger','selenium','499328qeRcsN','YdGBG','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','Tkfbf','1924818CXvSgl','HpVnM','10iLgkvE','desiredCapabilities','exports','xsJTb','map','MXcDy','child_process','child\x20process\x20exited\x20with\x20code\x20','config','2080428ueQxKC','9990520vDICOi','Deleting\x20','Getting\x20your\x20nightwatch\x20configs\x20from\x20','ZZThS','platforms','nightwatch.cmd','length','env','modifyBrowserStackCaps','cjiOb','nightwatch.json','tMrdI','close','debug','modifyBrowserStackW3CCaps','writeFileSync','46814cwMeBZ','existsSync','385427yYzPeS','GusCG','UrLDH','join','hub.browserstack.com','host','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','cwd','10ZFIbez','trim','info','split','nightwatch','filter','findIndex','uyQTf','dfnyw','KrsQD','../../helpers/helper','eyYRQ','NqwbG'];a38_0x5a4d=function(){return _0x524eae;};return a38_0x5a4d();}module[a38_0x1f829b(0x1d0)]=run;