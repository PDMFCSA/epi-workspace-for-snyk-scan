#!/usr/bin/env node
'use strict';const a37_0x1b3dbf=a37_0x3844;(function(_0x1e4a13,_0x1567c){const _0xbd3078=a37_0x3844,_0x5520ce=_0x1e4a13();while(!![]){try{const _0x119bb7=parseInt(_0xbd3078(0x1b5))/0x1+-parseInt(_0xbd3078(0x1da))/0x2*(parseInt(_0xbd3078(0x19e))/0x3)+parseInt(_0xbd3078(0x19f))/0x4+-parseInt(_0xbd3078(0x1d5))/0x5+-parseInt(_0xbd3078(0x19b))/0x6+-parseInt(_0xbd3078(0x1ba))/0x7*(parseInt(_0xbd3078(0x195))/0x8)+parseInt(_0xbd3078(0x1d1))/0x9*(parseInt(_0xbd3078(0x1bc))/0xa);if(_0x119bb7===_0x1567c)break;else _0x5520ce['push'](_0x5520ce['shift']());}catch(_0x29f185){_0x5520ce['push'](_0x5520ce['shift']());}}}(a37_0x4c64,0x6a81f));function a37_0x4c64(){const _0x2bd628=['yIukS','info','FpNJU','host','../utils/constants','dCzAg','UoHNs','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','Getting\x20your\x20nightwatch\x20configs\x20from\x20','ctoFD','start_process','webdriver','env','split','tOfbe','findIndex','wdkqR','desiredCapabilities','507163CIYPLl','writeFileSync','now','join','stringify','7DCGYQj','test','2412020QyBcRe','winstonLogger','test_settings','trim','port','forEach','rLJLz','close','inherit','ixPWV','AEMqg','ikywS','platform','cpSqJ','length','isUndefined','cwd','../../helpers/logger','Deleting\x20','child\x20process\x20exited\x20with\x20code\x20','modifyBrowserStackW3CCaps','36kWikxS','config','existsSync','push','3399170ASSMiW','BhhHC','../../helpers/helper','splice','fwjwv','2uIkCLi','MHwah','nightwatch.cmd','RffZe','unlinkSync','path','slice','2749712nIimhP','getPlatformName','iDsot','fEZBx','NxjEX','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','489726HCldWJ','selenium','nightwatch.conf.js','1264299pnmovc','1963544vipqfm','--config','filter','modifyBrowserStackCaps'];a37_0x4c64=function(){return _0x2bd628;};return a37_0x4c64();}const fs=require('fs'),path=require(a37_0x1b3dbf(0x193)),{spawn}=require('child_process'),logger=require(a37_0x1b3dbf(0x1cd))[a37_0x1b3dbf(0x1bd)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a37_0x1b3dbf(0x1d7)),constants=require(a37_0x1b3dbf(0x1a7)),getUserNightwatchConfigs=(_0x3a25db,_0x399b0c)=>{const _0x3cf260=a37_0x1b3dbf,_0x44e892={'iDsot':_0x3cf260(0x19d),'ixPWV':'nightwatch.json','yIukS':function(_0x4d4b84,_0x562f19){return _0x4d4b84(_0x562f19);},'AEMqg':_0x3cf260(0x19a)};let _0x19707f=null,_0x4701c4={};const _0x161503=_0x399b0c[_0x3cf260(0x1b2)](_0x162223=>_0x162223===_0x3cf260(0x1a0));if(!helper[_0x3cf260(0x1cb)](_0x3a25db[_0x3cf260(0x1d2)])&&fs['existsSync'](path['join'](process[_0x3cf260(0x1cc)](),_0x3a25db['config'])))_0x19707f=path[_0x3cf260(0x1b8)](process[_0x3cf260(0x1cc)](),_0x3a25db[_0x3cf260(0x1d2)]),_0x399b0c[_0x3cf260(0x1d8)](_0x161503,0x2);else{if(fs[_0x3cf260(0x1d3)](path[_0x3cf260(0x1b8)](process['cwd'](),_0x44e892[_0x3cf260(0x197)])))_0x19707f=path[_0x3cf260(0x1b8)](process[_0x3cf260(0x1cc)](),_0x44e892[_0x3cf260(0x197)]);else fs[_0x3cf260(0x1d3)](path[_0x3cf260(0x1b8)](process[_0x3cf260(0x1cc)](),_0x44e892[_0x3cf260(0x1c5)]))&&(_0x19707f=path[_0x3cf260(0x1b8)](process[_0x3cf260(0x1cc)](),_0x44e892[_0x3cf260(0x1c5)]));}return _0x19707f?(logger[_0x3cf260(0x1a4)](_0x3cf260(0x1ab)+_0x19707f),_0x4701c4=_0x44e892[_0x3cf260(0x1a3)](require,_0x19707f)):logger[_0x3cf260(0x1a4)](_0x44e892[_0x3cf260(0x1c6)]),_0x4701c4;},removeExistingEnvs=_0x25184a=>{const _0x2e1f4e=a37_0x1b3dbf,_0x4287fe={};_0x4287fe[_0x2e1f4e(0x1c2)]=function(_0x132d57,_0x35738f){return _0x132d57>_0x35738f;};const _0xc63f74=_0x4287fe;let _0x18cdc1=_0x25184a[_0x2e1f4e(0x1b2)](_0x616a80=>_0x616a80==='--env');_0xc63f74[_0x2e1f4e(0x1c2)](_0x18cdc1,-0x1)&&_0x25184a['splice'](_0x18cdc1,0x2),_0x18cdc1=_0x25184a[_0x2e1f4e(0x1b2)](_0x461284=>_0x461284==='-e'),_0xc63f74['rLJLz'](_0x18cdc1,-0x1)&&_0x25184a[_0x2e1f4e(0x1d8)](_0x18cdc1,0x2);};function run(_0x285906,_0x2eee8b,_0x554f95){const _0x4aa22c=a37_0x1b3dbf,_0x22a889={'BhhHC':'nightwatch','dCzAg':function(_0x4b1ebe,_0x18a1eb){return _0x4b1ebe+_0x18a1eb;},'NxjEX':_0x4aa22c(0x1be),'fwjwv':function(_0x42ef11,_0x300d46,_0x391663){return _0x42ef11(_0x300d46,_0x391663);},'cpSqJ':'hub.browserstack.com','ikywS':_0x4aa22c(0x1aa),'tVNAq':function(_0x3174cd,_0x568d5a){return _0x3174cd===_0x568d5a;},'BtHRu':'nightwatch-browserstack.json','RffZe':function(_0x3d99e2,_0x372e02){return _0x3d99e2(_0x372e02);},'ctoFD':function(_0x5eb66b,_0x1d9172,_0x266549,_0x8d1057){return _0x5eb66b(_0x1d9172,_0x266549,_0x8d1057);},'wdkqR':_0x4aa22c(0x190),'BTEuV':_0x4aa22c(0x1a0),'UoHNs':'--env','FpNJU':_0x4aa22c(0x1c4),'fEZBx':_0x4aa22c(0x1c3)};if(!_0x554f95[_0x4aa22c(0x1d2)])return;const _0x2bb308=_0x22a889[_0x4aa22c(0x1d9)](getUserNightwatchConfigs,_0x285906,_0x2eee8b),_0x43a07c={};_0x43a07c[_0x4aa22c(0x1ad)]=![];const _0xbd4205={};_0xbd4205[_0x4aa22c(0x1a6)]=_0x22a889[_0x4aa22c(0x1c9)],_0xbd4205[_0x4aa22c(0x1c0)]=0x1bb;const _0x48e503={};_0x48e503[_0x4aa22c(0x1ae)]=_0x43a07c,_0x48e503[_0x4aa22c(0x19c)]=_0xbd4205;const _0x24ef7e=_0x48e503;logger[_0x4aa22c(0x1a4)](_0x22a889[_0x4aa22c(0x1c7)]);const _0x56c976={..._0x2bb308},_0x28af38=_0x56c976,_0x50b275=helper['useW3C'](_0x554f95[_0x4aa22c(0x1d2)]),_0x342846=[];_0x554f95[_0x4aa22c(0x1d2)]['platforms'][_0x4aa22c(0x1c1)]((_0x476b13,_0x35a9b1)=>{const _0x3d6691=_0x4aa22c;_0x50b275?_0x342846['push'](helper[_0x3d6691(0x1d0)](_0x554f95[_0x3d6691(0x1d2)],_0x22a889['BhhHC'],_0x35a9b1)):_0x342846[_0x3d6691(0x1d4)](helper[_0x3d6691(0x1a2)](_0x554f95[_0x3d6691(0x1d2)],_0x22a889[_0x3d6691(0x1d6)],_0x35a9b1));});const _0x43cb5b={},_0x44099f=[];_0x285906[_0x4aa22c(0x1af)]=_0x285906[_0x4aa22c(0x1af)]||_0x285906['e'];const _0x32eef9=_0x285906[_0x4aa22c(0x1af)]?_0x285906['env'][_0x4aa22c(0x1bf)]()[_0x4aa22c(0x1b0)](',')['map'](_0x4d3a0e=>_0x4d3a0e[_0x4aa22c(0x1bf)]())[_0x4aa22c(0x1a1)](_0x51d782=>_0x51d782!==''):[''];_0x22a889['tVNAq'](_0x32eef9[_0x4aa22c(0x1ca)],0x0)&&_0x32eef9[_0x4aa22c(0x1d4)]('');_0x32eef9[_0x4aa22c(0x1c1)](_0xaa4fd9=>{const _0x508911=_0x4aa22c,_0x1980e={'tOfbe':function(_0x150f35,_0x1eaa0d){const _0x57b28c=a37_0x3844;return _0x22a889[_0x57b28c(0x1a8)](_0x150f35,_0x1eaa0d);},'MHwah':_0x22a889[_0x508911(0x199)]};_0x342846['forEach'](_0x29f2fe=>{const _0x473cbf=_0x508911;let _0xebacdd=_0x1980e[_0x473cbf(0x1b1)](helper[_0x473cbf(0x196)](_0x29f2fe,'_'),'_'+Date[_0x473cbf(0x1b7)]());_0xaa4fd9&&(_0xebacdd+='_'+_0xaa4fd9);if(_0xaa4fd9&&(!_0x2bb308[_0x1980e[_0x473cbf(0x18f)]]||!_0x2bb308[_0x1980e['MHwah']][_0xaa4fd9]))return;const _0x583d10={..._0x24ef7e};_0x583d10[_0x473cbf(0x1b4)]=_0x29f2fe;const _0x2bd90a=_0x583d10;_0x43cb5b[_0xebacdd]=_0xaa4fd9?helper['mergeDeep'](_0x2bb308[_0x1980e[_0x473cbf(0x18f)]][_0xaa4fd9],_0x2bd90a):_0x2bd90a,_0x44099f['push'](_0xebacdd);});});!_0x28af38['test_settings']&&(_0x28af38['test_settings']={});_0x28af38['test_settings']={..._0x28af38['test_settings'],..._0x43cb5b};const _0x36e801=path[_0x4aa22c(0x1b8)](__dirname,_0x22a889['BtHRu']);fs[_0x4aa22c(0x1b6)](_0x36e801,JSON[_0x4aa22c(0x1b9)](_0x28af38)),_0x22a889[_0x4aa22c(0x191)](removeExistingEnvs,_0x2eee8b);const _0x242ada=_0x22a889[_0x4aa22c(0x1ac)](spawn,/^win/[_0x4aa22c(0x1bb)](process[_0x4aa22c(0x1c8)])?_0x22a889[_0x4aa22c(0x1b3)]:_0x22a889[_0x4aa22c(0x1d6)],[_0x22a889['BTEuV'],_0x36e801,..._0x2eee8b[_0x4aa22c(0x194)](0x1),_0x22a889[_0x4aa22c(0x1a9)],_0x44099f[_0x4aa22c(0x1b8)](',')],{'stdio':_0x22a889[_0x4aa22c(0x1a5)]});_0x242ada['on'](_0x22a889[_0x4aa22c(0x198)],async _0x2286b6=>{const _0x35afcb=_0x4aa22c;logger['debug'](_0x35afcb(0x1cf)+_0x2286b6),logger[_0x35afcb(0x1a4)](_0x35afcb(0x1ce)+_0x36e801),fs[_0x35afcb(0x192)](_0x36e801);});}function a37_0x3844(_0x2e6b98,_0x1e2abc){const _0x4c642e=a37_0x4c64();return a37_0x3844=function(_0x3844f4,_0x26897f){_0x3844f4=_0x3844f4-0x18f;let _0x364587=_0x4c642e[_0x3844f4];return _0x364587;},a37_0x3844(_0x2e6b98,_0x1e2abc);}module['exports']=run;