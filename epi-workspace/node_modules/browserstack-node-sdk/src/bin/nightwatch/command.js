#!/usr/bin/env node
'use strict';const a37_0x1c2a3f=a37_0x37a3;function a37_0x5534(){const _0x254c7d=['stringify','nightwatch.cmd','13321CnWUyP','modifyBrowserStackW3CCaps','getPlatformName','selenium','bxjNw','nightwatch-browserstack.json','exports','CXIpP','join','splice','platform','test','unlinkSync','../../helpers/helper','forEach','findIndex','inherit','Deleting\x20','XXnEs','debug','pMBea','1097lhDbZH','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','EmoXp','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','258249fjUiWP','info','5790RVKgBy','WAxAr','43984gjEwCp','anfkv','../../helpers/BrowserStackSetup','BJxUu','nightwatch.json','2521752QohJnY','child_process','1547076QqkJVL','7LyUvqm','VfWav','writeFileSync','map','port','trim','zUkSm','winstonLogger','504iLuXVl','../../helpers/logger','pyeEw','isUndefined','cwd','sFmAs','desiredCapabilities','test_settings','622DazJUM','host','now','push','existsSync','--config','xtDAY','PaLIh','--env','RmmsD','oLCIG','useW3C','env','start_process','../utils/constants','Getting\x20your\x20nightwatch\x20configs\x20from\x20','mergeDeep','close','vykyL','modifyBrowserStackCaps','913500vkuZfx','CGBqH','hub.browserstack.com','config'];a37_0x5534=function(){return _0x254c7d;};return a37_0x5534();}function a37_0x37a3(_0x859ce1,_0x47db30){const _0x553498=a37_0x5534();return a37_0x37a3=function(_0x37a3c0,_0x410651){_0x37a3c0=_0x37a3c0-0x15d;let _0x3e5b67=_0x553498[_0x37a3c0];return _0x3e5b67;},a37_0x37a3(_0x859ce1,_0x47db30);}(function(_0x795b6a,_0x2a5800){const _0x2d737f=a37_0x37a3,_0x5501cf=_0x795b6a();while(!![]){try{const _0x46b105=-parseInt(_0x2d737f(0x16c))/0x1*(parseInt(_0x2d737f(0x18c))/0x2)+parseInt(_0x2d737f(0x170))/0x3+parseInt(_0x2d737f(0x179))/0x4+parseInt(_0x2d737f(0x1a0))/0x5+-parseInt(_0x2d737f(0x17b))/0x6*(-parseInt(_0x2d737f(0x17c))/0x7)+-parseInt(_0x2d737f(0x174))/0x8*(-parseInt(_0x2d737f(0x184))/0x9)+parseInt(_0x2d737f(0x172))/0xa*(-parseInt(_0x2d737f(0x1a6))/0xb);if(_0x46b105===_0x2a5800)break;else _0x5501cf['push'](_0x5501cf['shift']());}catch(_0xf61da5){_0x5501cf['push'](_0x5501cf['shift']());}}}(a37_0x5534,0x672db));const fs=require('fs'),path=require('path'),{spawn}=require(a37_0x1c2a3f(0x17a)),logger=require(a37_0x1c2a3f(0x185))[a37_0x1c2a3f(0x183)],{default:BrowserStackSetup}=require(a37_0x1c2a3f(0x176)),helper=require(a37_0x1c2a3f(0x164)),constants=require(a37_0x1c2a3f(0x19a)),getUserNightwatchConfigs=(_0xf85c8,_0x30a12b)=>{const _0x234393=a37_0x1c2a3f,_0x4a9e2c={'sFmAs':'nightwatch.conf.js','pMBea':_0x234393(0x178),'EmoXp':function(_0x46535c,_0x216d0c){return _0x46535c(_0x216d0c);},'CXIpP':_0x234393(0x16f)};let _0x1e5104=null,_0x43cfc8={};const _0x564c04=_0x30a12b[_0x234393(0x166)](_0x5f5b07=>_0x5f5b07===_0x234393(0x191));if(!helper[_0x234393(0x187)](_0xf85c8[_0x234393(0x1a3)])&&fs[_0x234393(0x190)](path['join'](process['cwd'](),_0xf85c8[_0x234393(0x1a3)])))_0x1e5104=path['join'](process[_0x234393(0x188)](),_0xf85c8[_0x234393(0x1a3)]),_0x30a12b[_0x234393(0x160)](_0x564c04,0x2);else{if(fs['existsSync'](path[_0x234393(0x15f)](process[_0x234393(0x188)](),_0x4a9e2c[_0x234393(0x189)])))_0x1e5104=path[_0x234393(0x15f)](process['cwd'](),_0x4a9e2c[_0x234393(0x189)]);else fs[_0x234393(0x190)](path[_0x234393(0x15f)](process[_0x234393(0x188)](),_0x4a9e2c[_0x234393(0x16b)]))&&(_0x1e5104=path[_0x234393(0x15f)](process[_0x234393(0x188)](),_0x4a9e2c[_0x234393(0x16b)]));}return _0x1e5104?(logger['info'](_0x234393(0x19b)+_0x1e5104),_0x43cfc8=_0x4a9e2c[_0x234393(0x16e)](require,_0x1e5104)):logger[_0x234393(0x171)](_0x4a9e2c[_0x234393(0x15e)]),_0x43cfc8;},removeExistingEnvs=_0x1bf94d=>{const _0x308a9d=a37_0x1c2a3f,_0x33c486={};_0x33c486[_0x308a9d(0x17d)]=function(_0x56a972,_0x4e1735){return _0x56a972>_0x4e1735;};const _0x513531=_0x33c486;let _0xa88a08=_0x1bf94d[_0x308a9d(0x166)](_0x2b34ab=>_0x2b34ab===_0x308a9d(0x194));_0x513531[_0x308a9d(0x17d)](_0xa88a08,-0x1)&&_0x1bf94d[_0x308a9d(0x160)](_0xa88a08,0x2),_0xa88a08=_0x1bf94d['findIndex'](_0x4c4fa1=>_0x4c4fa1==='-e'),_0x513531['VfWav'](_0xa88a08,-0x1)&&_0x1bf94d[_0x308a9d(0x160)](_0xa88a08,0x2);};function run(_0x222b06,_0x4e25f5,_0x5c7e1f){const _0x3e0135=a37_0x1c2a3f,_0x4cf50e={'vykyL':'nightwatch','AMJaY':function(_0x15732e,_0xb23513){return _0x15732e+_0xb23513;},'CGBqH':_0x3e0135(0x18b),'oLCIG':function(_0x27e76a,_0x1ddf95,_0xe6044f){return _0x27e76a(_0x1ddf95,_0xe6044f);},'BJxUu':_0x3e0135(0x1a2),'PaLIh':_0x3e0135(0x16d),'pyeEw':function(_0xe09ee8,_0x3fe538){return _0xe09ee8===_0x3fe538;},'anfkv':_0x3e0135(0x1ab),'zUkSm':function(_0x39ba14,_0x33c883){return _0x39ba14(_0x33c883);},'BkbuR':function(_0x483968,_0x19d9d9,_0x520e03,_0x396324){return _0x483968(_0x19d9d9,_0x520e03,_0x396324);},'RmmsD':_0x3e0135(0x1a5),'xtDAY':_0x3e0135(0x191),'WAxAr':_0x3e0135(0x194),'jdDFu':_0x3e0135(0x167),'RGRKJ':_0x3e0135(0x19d)};if(!_0x5c7e1f['config'])return;const _0x4afb34=_0x4cf50e[_0x3e0135(0x196)](getUserNightwatchConfigs,_0x222b06,_0x4e25f5),_0x465eec={};_0x465eec[_0x3e0135(0x199)]=![];const _0x3527e8={};_0x3527e8[_0x3e0135(0x18d)]=_0x4cf50e[_0x3e0135(0x177)],_0x3527e8[_0x3e0135(0x180)]=0x1bb;const _0x54fc53={};_0x54fc53['webdriver']=_0x465eec,_0x54fc53[_0x3e0135(0x1a9)]=_0x3527e8;const _0x3e1aa1=_0x54fc53;logger['info'](_0x4cf50e[_0x3e0135(0x193)]);const _0x452129={..._0x4afb34},_0x38030d=_0x452129,_0x41ca7f=helper[_0x3e0135(0x197)](_0x5c7e1f[_0x3e0135(0x1a3)]),_0x2db3e0=[];_0x5c7e1f[_0x3e0135(0x1a3)]['platforms']['forEach']((_0x9edfcf,_0x29ad63)=>{const _0x7e6ee8=_0x3e0135;_0x41ca7f?_0x2db3e0['push'](helper[_0x7e6ee8(0x1a7)](_0x5c7e1f[_0x7e6ee8(0x1a3)],_0x4cf50e[_0x7e6ee8(0x19e)],_0x29ad63)):_0x2db3e0[_0x7e6ee8(0x18f)](helper[_0x7e6ee8(0x19f)](_0x5c7e1f[_0x7e6ee8(0x1a3)],_0x4cf50e[_0x7e6ee8(0x19e)],_0x29ad63));});const _0x1c3f7b={},_0x59c9c8=[];_0x222b06[_0x3e0135(0x198)]=_0x222b06[_0x3e0135(0x198)]||_0x222b06['e'];const _0x59961f=_0x222b06[_0x3e0135(0x198)]?_0x222b06['env'][_0x3e0135(0x181)]()['split'](',')[_0x3e0135(0x17f)](_0x1c8977=>_0x1c8977[_0x3e0135(0x181)]())['filter'](_0x197b36=>_0x197b36!==''):[''];_0x4cf50e[_0x3e0135(0x186)](_0x59961f['length'],0x0)&&_0x59961f[_0x3e0135(0x18f)]('');_0x59961f['forEach'](_0x2efef5=>{const _0x2ac817=_0x3e0135,_0x56f0b5={'XXnEs':function(_0x42cf93,_0x56ade3){return _0x4cf50e['AMJaY'](_0x42cf93,_0x56ade3);},'bxjNw':_0x4cf50e[_0x2ac817(0x1a1)]};_0x2db3e0[_0x2ac817(0x165)](_0x19f297=>{const _0x39f741=_0x2ac817;let _0x309ff1=_0x56f0b5[_0x39f741(0x169)](helper[_0x39f741(0x1a8)](_0x19f297,'_'),'_'+Date[_0x39f741(0x18e)]());_0x2efef5&&(_0x309ff1+='_'+_0x2efef5);if(_0x2efef5&&(!_0x4afb34[_0x56f0b5[_0x39f741(0x1aa)]]||!_0x4afb34[_0x56f0b5[_0x39f741(0x1aa)]][_0x2efef5]))return;const _0x270aa4={..._0x3e1aa1};_0x270aa4[_0x39f741(0x18a)]=_0x19f297;const _0x11f249=_0x270aa4;_0x1c3f7b[_0x309ff1]=_0x2efef5?helper[_0x39f741(0x19c)](_0x4afb34[_0x56f0b5[_0x39f741(0x1aa)]][_0x2efef5],_0x11f249):_0x11f249,_0x59c9c8[_0x39f741(0x18f)](_0x309ff1);});});!_0x38030d[_0x3e0135(0x18b)]&&(_0x38030d[_0x3e0135(0x18b)]={});_0x38030d[_0x3e0135(0x18b)]={..._0x38030d['test_settings'],..._0x1c3f7b};const _0x33be91=path[_0x3e0135(0x15f)](__dirname,_0x4cf50e[_0x3e0135(0x175)]);fs[_0x3e0135(0x17e)](_0x33be91,JSON[_0x3e0135(0x1a4)](_0x38030d)),_0x4cf50e[_0x3e0135(0x182)](removeExistingEnvs,_0x4e25f5);const _0x1deb5f=_0x4cf50e['BkbuR'](spawn,/^win/[_0x3e0135(0x162)](process[_0x3e0135(0x161)])?_0x4cf50e[_0x3e0135(0x195)]:_0x4cf50e[_0x3e0135(0x19e)],[_0x4cf50e[_0x3e0135(0x192)],_0x33be91,..._0x4e25f5['slice'](0x1),_0x4cf50e[_0x3e0135(0x173)],_0x59c9c8[_0x3e0135(0x15f)](',')],{'stdio':_0x4cf50e['jdDFu']});_0x1deb5f['on'](_0x4cf50e['RGRKJ'],async _0x398bb9=>{const _0x32d2fe=_0x3e0135;logger[_0x32d2fe(0x16a)]('child\x20process\x20exited\x20with\x20code\x20'+_0x398bb9),logger[_0x32d2fe(0x171)](_0x32d2fe(0x168)+_0x33be91),fs[_0x32d2fe(0x163)](_0x33be91);});}module[a37_0x1c2a3f(0x15d)]=run;