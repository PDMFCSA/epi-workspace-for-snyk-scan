#!/usr/bin/env node
'use strict';const a36_0x2743ba=a36_0x40da;(function(_0x11d66a,_0x58871e){const _0x2b96b9=a36_0x40da,_0xc0f281=_0x11d66a();while(!![]){try{const _0x35ae38=-parseInt(_0x2b96b9(0x1f1))/0x1*(parseInt(_0x2b96b9(0x203))/0x2)+-parseInt(_0x2b96b9(0x20e))/0x3*(-parseInt(_0x2b96b9(0x1e5))/0x4)+-parseInt(_0x2b96b9(0x201))/0x5*(parseInt(_0x2b96b9(0x1db))/0x6)+parseInt(_0x2b96b9(0x1eb))/0x7*(-parseInt(_0x2b96b9(0x214))/0x8)+-parseInt(_0x2b96b9(0x1ed))/0x9*(parseInt(_0x2b96b9(0x1f3))/0xa)+parseInt(_0x2b96b9(0x1f7))/0xb*(-parseInt(_0x2b96b9(0x1ff))/0xc)+parseInt(_0x2b96b9(0x20a))/0xd*(parseInt(_0x2b96b9(0x1de))/0xe);if(_0x35ae38===_0x58871e)break;else _0xc0f281['push'](_0xc0f281['shift']());}catch(_0x5cb37c){_0xc0f281['push'](_0xc0f281['shift']());}}}(a36_0x4a20,0x2cf50));function a36_0x4a20(){const _0x54c713=['2065SyiLDu','debug','4mNrZIJ','yumNy','exports','ufZRV','splice','VNiIu','SrBwU','9276644XklEwg','child_process','desiredCapabilities','getPlatformName','21XIAYcH','sRgwP','clcPJ','selenium','modifyBrowserStackCaps','IwxkQ','2488Zavktb','wMcIp','existsSync','push','hub.browserstack.com','useW3C','Getting\x20your\x20nightwatch\x20configs\x20from\x20','../../helpers/logger','writeFileSync','nightwatch.cmd','MVEzV','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','aQnoR','bVDIj','platforms','config','cwd','--config','XTqao','isUndefined','2064OuHiYv','port','info','14huRggQ','length','map','join','platform','NZMkB','--env','178168JddjfE','CtRdC','host','findIndex','env','forEach','7763ysapvF','nightwatch.json','134712YYtuki','../../helpers/helper','modifyBrowserStackW3CCaps','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','71039QXcAaJ','close','20cnNNiN','uQoBA','trim','start_process','2607Nwtttl','test_settings','now','mcBII','VKZdw','filter','OpqrI','doOjG','9228kHJnhe','winstonLogger'];a36_0x4a20=function(){return _0x54c713;};return a36_0x4a20();}function a36_0x40da(_0x26a6ad,_0x435e5b){const _0x4a20c9=a36_0x4a20();return a36_0x40da=function(_0x40da2e,_0x140439){_0x40da2e=_0x40da2e-0x1cd;let _0x574c6e=_0x4a20c9[_0x40da2e];return _0x574c6e;},a36_0x40da(_0x26a6ad,_0x435e5b);}const fs=require('fs'),path=require('path'),{spawn}=require(a36_0x2743ba(0x20b)),logger=require(a36_0x2743ba(0x1ce))[a36_0x2743ba(0x200)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a36_0x2743ba(0x1ee)),constants=require('../utils/constants'),getUserNightwatchConfigs=(_0xdf9574,_0x4eb3c)=>{const _0x4b61e4=a36_0x2743ba,_0x39ccd2={'uQoBA':'nightwatch.conf.js','CtRdC':_0x4b61e4(0x1ec),'IwxkQ':function(_0x373b7a,_0x27bcff){return _0x373b7a(_0x27bcff);},'bVDIj':_0x4b61e4(0x1f0)};let _0x1cb9a0=null,_0x1abd4e={};const _0x27591e=_0x4eb3c[_0x4b61e4(0x1e8)](_0x12f88f=>_0x12f88f==='--config');if(!helper[_0x4b61e4(0x1da)](_0xdf9574[_0x4b61e4(0x1d6)])&&fs[_0x4b61e4(0x216)](path[_0x4b61e4(0x1e1)](process[_0x4b61e4(0x1d7)](),_0xdf9574[_0x4b61e4(0x1d6)])))_0x1cb9a0=path[_0x4b61e4(0x1e1)](process[_0x4b61e4(0x1d7)](),_0xdf9574[_0x4b61e4(0x1d6)]),_0x4eb3c['splice'](_0x27591e,0x2);else{if(fs['existsSync'](path[_0x4b61e4(0x1e1)](process[_0x4b61e4(0x1d7)](),_0x39ccd2[_0x4b61e4(0x1f4)])))_0x1cb9a0=path['join'](process['cwd'](),_0x39ccd2[_0x4b61e4(0x1f4)]);else fs['existsSync'](path[_0x4b61e4(0x1e1)](process['cwd'](),_0x39ccd2[_0x4b61e4(0x1e6)]))&&(_0x1cb9a0=path['join'](process[_0x4b61e4(0x1d7)](),_0x39ccd2[_0x4b61e4(0x1e6)]));}return _0x1cb9a0?(logger[_0x4b61e4(0x1dd)](_0x4b61e4(0x1cd)+_0x1cb9a0),_0x1abd4e=_0x39ccd2[_0x4b61e4(0x213)](require,_0x1cb9a0)):logger['info'](_0x39ccd2[_0x4b61e4(0x1d4)]),_0x1abd4e;},removeExistingEnvs=_0x21c24e=>{const _0x34886a=a36_0x2743ba,_0x1eb3e8={};_0x1eb3e8['MVEzV']=function(_0x2306fc,_0x1572de){return _0x2306fc>_0x1572de;},_0x1eb3e8[_0x34886a(0x1d3)]=function(_0x9f4140,_0x1accde){return _0x9f4140>_0x1accde;};const _0x4e4624=_0x1eb3e8;let _0x34b734=_0x21c24e[_0x34886a(0x1e8)](_0x53ed9a=>_0x53ed9a==='--env');_0x4e4624[_0x34886a(0x1d1)](_0x34b734,-0x1)&&_0x21c24e['splice'](_0x34b734,0x2),_0x34b734=_0x21c24e[_0x34886a(0x1e8)](_0x86b731=>_0x86b731==='-e'),_0x4e4624[_0x34886a(0x1d3)](_0x34b734,-0x1)&&_0x21c24e[_0x34886a(0x207)](_0x34b734,0x2);};function run(_0x48c7d7,_0x5e9c18,_0x5606b7){const _0x532e85=a36_0x2743ba,_0x1a2672={'wMcIp':'nightwatch','XTqao':function(_0x500ddf,_0x1f1e11){return _0x500ddf+_0x1f1e11;},'mLBWz':'test_settings','mcBII':function(_0x5dccae,_0x1a6885,_0x2ddb4e){return _0x5dccae(_0x1a6885,_0x2ddb4e);},'SrBwU':_0x532e85(0x218),'NZMkB':_0x532e85(0x1d2),'VqYFs':function(_0x42d066,_0x309053){return _0x42d066===_0x309053;},'yTkwa':'nightwatch-browserstack.json','OpqrI':function(_0x454938,_0x233f04){return _0x454938(_0x233f04);},'ufZRV':function(_0x3836b2,_0x2851cb,_0x5e3d8f,_0x1812ed){return _0x3836b2(_0x2851cb,_0x5e3d8f,_0x1812ed);},'VKZdw':_0x532e85(0x1d0),'yumNy':_0x532e85(0x1d8),'sRgwP':_0x532e85(0x1e4),'VNiIu':'inherit','doOjG':_0x532e85(0x1f2)};if(!_0x5606b7['config'])return;const _0x4c3e7c=_0x1a2672[_0x532e85(0x1fa)](getUserNightwatchConfigs,_0x48c7d7,_0x5e9c18),_0x4ba9ba={};_0x4ba9ba[_0x532e85(0x1f6)]=![];const _0x31205b={};_0x31205b[_0x532e85(0x1e7)]=_0x1a2672[_0x532e85(0x209)],_0x31205b[_0x532e85(0x1dc)]=0x1bb;const _0x10fae0={};_0x10fae0['webdriver']=_0x4ba9ba,_0x10fae0[_0x532e85(0x211)]=_0x31205b;const _0x5347f4=_0x10fae0;logger[_0x532e85(0x1dd)](_0x1a2672[_0x532e85(0x1e3)]);const _0x400b28={..._0x4c3e7c},_0x485233=_0x400b28,_0x1f9464=helper[_0x532e85(0x219)](_0x5606b7[_0x532e85(0x1d6)]),_0x3f2601=[];_0x5606b7['config'][_0x532e85(0x1d5)][_0x532e85(0x1ea)]((_0x59055e,_0x3e0a62)=>{const _0x5c4227=_0x532e85;_0x1f9464?_0x3f2601[_0x5c4227(0x217)](helper[_0x5c4227(0x1ef)](_0x5606b7[_0x5c4227(0x1d6)],_0x1a2672[_0x5c4227(0x215)],_0x3e0a62)):_0x3f2601[_0x5c4227(0x217)](helper[_0x5c4227(0x212)](_0x5606b7[_0x5c4227(0x1d6)],_0x1a2672['wMcIp'],_0x3e0a62));});const _0x9fd00={},_0x5b9c94=[];_0x48c7d7['env']=_0x48c7d7['env']||_0x48c7d7['e'];const _0x37ee7f=_0x48c7d7[_0x532e85(0x1e9)]?_0x48c7d7['env'][_0x532e85(0x1f5)]()['split'](',')[_0x532e85(0x1e0)](_0x46a2b7=>_0x46a2b7[_0x532e85(0x1f5)]())[_0x532e85(0x1fc)](_0x34758f=>_0x34758f!==''):[''];_0x1a2672['VqYFs'](_0x37ee7f[_0x532e85(0x1df)],0x0)&&_0x37ee7f[_0x532e85(0x217)]('');_0x37ee7f[_0x532e85(0x1ea)](_0x1bf3cb=>{const _0x3a8294=_0x532e85,_0x1fa0fc={'HsAjH':function(_0x3b3fa9,_0x4a9772){const _0x2457c2=a36_0x40da;return _0x1a2672[_0x2457c2(0x1d9)](_0x3b3fa9,_0x4a9772);},'clcPJ':_0x1a2672['mLBWz']};_0x3f2601[_0x3a8294(0x1ea)](_0x2d317a=>{const _0x333303=_0x3a8294;let _0x1194c1=_0x1fa0fc['HsAjH'](helper[_0x333303(0x20d)](_0x2d317a,'_'),'_'+Date[_0x333303(0x1f9)]());_0x1bf3cb&&(_0x1194c1+='_'+_0x1bf3cb);if(_0x1bf3cb&&(!_0x4c3e7c[_0x1fa0fc['clcPJ']]||!_0x4c3e7c[_0x1fa0fc[_0x333303(0x210)]][_0x1bf3cb]))return;const _0x52a0ac={..._0x5347f4};_0x52a0ac[_0x333303(0x20c)]=_0x2d317a;const _0x283d9e=_0x52a0ac;_0x9fd00[_0x1194c1]=_0x1bf3cb?helper['mergeDeep'](_0x4c3e7c[_0x1fa0fc[_0x333303(0x210)]][_0x1bf3cb],_0x283d9e):_0x283d9e,_0x5b9c94[_0x333303(0x217)](_0x1194c1);});});!_0x485233[_0x532e85(0x1f8)]&&(_0x485233[_0x532e85(0x1f8)]={});_0x485233[_0x532e85(0x1f8)]={..._0x485233[_0x532e85(0x1f8)],..._0x9fd00};const _0x302830=path[_0x532e85(0x1e1)](__dirname,_0x1a2672['yTkwa']);fs[_0x532e85(0x1cf)](_0x302830,JSON['stringify'](_0x485233)),_0x1a2672[_0x532e85(0x1fd)](removeExistingEnvs,_0x5e9c18);const _0x20b69a=_0x1a2672[_0x532e85(0x206)](spawn,/^win/['test'](process[_0x532e85(0x1e2)])?_0x1a2672[_0x532e85(0x1fb)]:_0x1a2672['wMcIp'],[_0x1a2672[_0x532e85(0x204)],_0x302830,..._0x5e9c18['slice'](0x1),_0x1a2672[_0x532e85(0x20f)],_0x5b9c94[_0x532e85(0x1e1)](',')],{'stdio':_0x1a2672[_0x532e85(0x208)]});_0x20b69a['on'](_0x1a2672[_0x532e85(0x1fe)],async _0x183b15=>{const _0x587bbe=_0x532e85;logger[_0x587bbe(0x202)]('child\x20process\x20exited\x20with\x20code\x20'+_0x183b15),logger[_0x587bbe(0x1dd)]('Deleting\x20'+_0x302830),fs['unlinkSync'](_0x302830);});}module[a36_0x2743ba(0x205)]=run;