#!/usr/bin/env node
'use strict';function a33_0x21fc(){const _0x5a5f9c=['FdmSD','isUndefined','PPDVk','mergeDeep','akpFh','trim','1687362tajTYy','push','561996SLJOdd','lQqaf','selenium','platforms','filter','host','findIndex','test','6125084tbjTMF','split','--env','LgVFj','modifyBrowserStackCaps','modifyBrowserStackW3CCaps','splice','info','join','port','nightwatch.json','tKisR','IsAvA','ckOQo','exports','cwd','../utils/constants','env','1693200AxUbKC','lluRr','cvGyt','dvzCh','test_settings','nightwatch.conf.js','../../helpers/logger','1602GrPagb','--config','WEDNs','fuyWW','config','webdriver','writeFileSync','../../helpers/BrowserStackSetup','5836256uBUXbL','hub.browserstack.com','nightwatch','useW3C','510430uMVJhw','unlinkSync','6876QYcvOu','length','FpgAm','DTYME','Aahdp','platform','stringify','start_process','../../helpers/helper','iMywT','now','path','forEach','nightwatch.cmd','existsSync','map','QSOWz','inherit','slice','winstonLogger','child\x20process\x20exited\x20with\x20code\x20'];a33_0x21fc=function(){return _0x5a5f9c;};return a33_0x21fc();}const a33_0x50ed7b=a33_0x1c63;function a33_0x1c63(_0x4dfd25,_0x4ead09){const _0x21fc72=a33_0x21fc();return a33_0x1c63=function(_0x1c63d0,_0x5c8b2f){_0x1c63d0=_0x1c63d0-0x1c0;let _0x4d24af=_0x21fc72[_0x1c63d0];return _0x4d24af;},a33_0x1c63(_0x4dfd25,_0x4ead09);}(function(_0x4e9688,_0x5357bf){const _0x5b302d=a33_0x1c63,_0x467c5e=_0x4e9688();while(!![]){try{const _0x971452=parseInt(_0x5b302d(0x1e3))/0x1+-parseInt(_0x5b302d(0x200))/0x2+-parseInt(_0x5b302d(0x1d7))/0x3*(-parseInt(_0x5b302d(0x1e5))/0x4)+-parseInt(_0x5b302d(0x1d0))/0x5+parseInt(_0x5b302d(0x202))/0x6+parseInt(_0x5b302d(0x20a))/0x7+-parseInt(_0x5b302d(0x1df))/0x8;if(_0x971452===_0x5357bf)break;else _0x467c5e['push'](_0x467c5e['shift']());}catch(_0xde09c4){_0x467c5e['push'](_0x467c5e['shift']());}}}(a33_0x21fc,0x76751));const fs=require('fs'),path=require(a33_0x50ed7b(0x1f0)),{spawn}=require('child_process'),logger=require(a33_0x50ed7b(0x1d6))[a33_0x50ed7b(0x1f8)],{default:BrowserStackSetup}=require(a33_0x50ed7b(0x1de)),helper=require(a33_0x50ed7b(0x1ed)),constants=require(a33_0x50ed7b(0x1ce)),getUserNightwatchConfigs=(_0x3b8c63,_0x31eda3)=>{const _0x189b15=a33_0x50ed7b,_0x184b47={'WEDNs':_0x189b15(0x1d5),'ckOQo':_0x189b15(0x1c8),'DTYME':function(_0x2744d4,_0x4451a0){return _0x2744d4(_0x4451a0);},'SgfBJ':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x3e5646=null,_0x10ea3b={};const _0x93475e=_0x31eda3[_0x189b15(0x208)](_0x30286e=>_0x30286e===_0x189b15(0x1d8));if(!helper[_0x189b15(0x1fb)](_0x3b8c63[_0x189b15(0x1db)])&&fs['existsSync'](path[_0x189b15(0x1c6)](process['cwd'](),_0x3b8c63[_0x189b15(0x1db)])))_0x3e5646=path[_0x189b15(0x1c6)](process[_0x189b15(0x1cd)](),_0x3b8c63['config']),_0x31eda3[_0x189b15(0x1c4)](_0x93475e,0x2);else{if(fs['existsSync'](path[_0x189b15(0x1c6)](process[_0x189b15(0x1cd)](),_0x184b47[_0x189b15(0x1d9)])))_0x3e5646=path[_0x189b15(0x1c6)](process[_0x189b15(0x1cd)](),_0x184b47[_0x189b15(0x1d9)]);else fs[_0x189b15(0x1f3)](path[_0x189b15(0x1c6)](process[_0x189b15(0x1cd)](),_0x184b47[_0x189b15(0x1cb)]))&&(_0x3e5646=path['join'](process['cwd'](),_0x184b47[_0x189b15(0x1cb)]));}return _0x3e5646?(logger[_0x189b15(0x1c5)]('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x3e5646),_0x10ea3b=_0x184b47[_0x189b15(0x1e8)](require,_0x3e5646)):logger[_0x189b15(0x1c5)](_0x184b47['SgfBJ']),_0x10ea3b;},removeExistingEnvs=_0x3b20f1=>{const _0x3de181=a33_0x50ed7b,_0xde9592={};_0xde9592[_0x3de181(0x203)]=function(_0x35555d,_0x41ca1a){return _0x35555d>_0x41ca1a;},_0xde9592['QSOWz']=function(_0x400f13,_0x30c98c){return _0x400f13>_0x30c98c;};const _0x422b75=_0xde9592;let _0x3de75b=_0x3b20f1[_0x3de181(0x208)](_0x22805f=>_0x22805f===_0x3de181(0x1c0));_0x422b75[_0x3de181(0x203)](_0x3de75b,-0x1)&&_0x3b20f1[_0x3de181(0x1c4)](_0x3de75b,0x2),_0x3de75b=_0x3b20f1[_0x3de181(0x208)](_0x2f0754=>_0x2f0754==='-e'),_0x422b75[_0x3de181(0x1f5)](_0x3de75b,-0x1)&&_0x3b20f1[_0x3de181(0x1c4)](_0x3de75b,0x2);};function run(_0xc0b0c6,_0xe7505f){const _0x4e1d45=a33_0x50ed7b,_0x2e9221={'dvzCh':_0x4e1d45(0x1e1),'LgVFj':function(_0x30c3e3,_0x5be96a){return _0x30c3e3+_0x5be96a;},'IsAvA':_0x4e1d45(0x1d4),'akpFh':function(_0x31ad70,_0x57fb9c,_0x46eb54){return _0x31ad70(_0x57fb9c,_0x46eb54);},'FdmSD':_0x4e1d45(0x1e0),'cvGyt':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','iMywT':function(_0x37cbe2,_0x293d06){return _0x37cbe2===_0x293d06;},'tKisR':'nightwatch-browserstack.json','FpgAm':function(_0x1c6377,_0x4f8166){return _0x1c6377(_0x4f8166);},'hhLEJ':function(_0x35635f,_0x56683a,_0x31b7ec,_0xd103ce){return _0x35635f(_0x56683a,_0x31b7ec,_0xd103ce);},'PPDVk':_0x4e1d45(0x1f2),'LcBEH':_0x4e1d45(0x1d8),'fuyWW':_0x4e1d45(0x1c0),'GXaNd':_0x4e1d45(0x1f6),'lzhHh':'close'},_0x5cdf39=new BrowserStackSetup(_0xc0b0c6);if(!_0x5cdf39[_0x4e1d45(0x1db)])return;const _0x177a35=_0x2e9221[_0x4e1d45(0x1fe)](getUserNightwatchConfigs,_0xc0b0c6,_0xe7505f),_0x1946f5={};_0x1946f5[_0x4e1d45(0x1ec)]=![];const _0x347d38={};_0x347d38[_0x4e1d45(0x207)]=_0x2e9221[_0x4e1d45(0x1fa)],_0x347d38[_0x4e1d45(0x1c7)]=0x1bb;const _0x623f2b={};_0x623f2b[_0x4e1d45(0x1dc)]=_0x1946f5,_0x623f2b[_0x4e1d45(0x204)]=_0x347d38;const _0x3a5dba=_0x623f2b;logger[_0x4e1d45(0x1c5)](_0x2e9221[_0x4e1d45(0x1d2)]);const _0xe95c37={..._0x177a35},_0x1c7e2d=_0xe95c37,_0x120c8e=helper[_0x4e1d45(0x1e2)](_0x5cdf39[_0x4e1d45(0x1db)]),_0xe8c5a9=[];_0x5cdf39[_0x4e1d45(0x1db)][_0x4e1d45(0x205)][_0x4e1d45(0x1f1)]((_0x201317,_0x24a5da)=>{const _0x533dbf=_0x4e1d45;_0x120c8e?_0xe8c5a9[_0x533dbf(0x201)](helper[_0x533dbf(0x1c3)](_0x5cdf39[_0x533dbf(0x1db)],_0x2e9221[_0x533dbf(0x1d3)],_0x24a5da)):_0xe8c5a9[_0x533dbf(0x201)](helper[_0x533dbf(0x1c2)](_0x5cdf39[_0x533dbf(0x1db)],_0x2e9221[_0x533dbf(0x1d3)],_0x24a5da));});const _0x1a4e40={},_0x162d12=[];_0xc0b0c6[_0x4e1d45(0x1cf)]=_0xc0b0c6[_0x4e1d45(0x1cf)]||_0xc0b0c6['e'];const _0x6e3fd0=_0xc0b0c6[_0x4e1d45(0x1cf)]?_0xc0b0c6[_0x4e1d45(0x1cf)][_0x4e1d45(0x1ff)]()[_0x4e1d45(0x20b)](',')[_0x4e1d45(0x1f4)](_0x2805f1=>_0x2805f1[_0x4e1d45(0x1ff)]())[_0x4e1d45(0x206)](_0x2949f3=>_0x2949f3!==''):[''];_0x2e9221[_0x4e1d45(0x1ee)](_0x6e3fd0[_0x4e1d45(0x1e6)],0x0)&&_0x6e3fd0[_0x4e1d45(0x201)]('');_0x6e3fd0[_0x4e1d45(0x1f1)](_0x32b38e=>{const _0x3f7503=_0x4e1d45,_0x3bda76={'lluRr':function(_0x420344,_0x45be4d){const _0x10456f=a33_0x1c63;return _0x2e9221[_0x10456f(0x1c1)](_0x420344,_0x45be4d);},'Aahdp':_0x2e9221[_0x3f7503(0x1ca)]};_0xe8c5a9[_0x3f7503(0x1f1)](_0x21e77c=>{const _0x143a7a=_0x3f7503;let _0x2f57d1=_0x3bda76[_0x143a7a(0x1d1)](helper['getPlatformName'](_0x21e77c,'_'),'_'+Date[_0x143a7a(0x1ef)]());_0x32b38e&&(_0x2f57d1+='_'+_0x32b38e);if(_0x32b38e&&(!_0x177a35[_0x3bda76[_0x143a7a(0x1e9)]]||!_0x177a35[_0x3bda76['Aahdp']][_0x32b38e]))return;const _0x4c4ab2={..._0x3a5dba};_0x4c4ab2['desiredCapabilities']=_0x21e77c;const _0x595682=_0x4c4ab2;_0x1a4e40[_0x2f57d1]=_0x32b38e?helper[_0x143a7a(0x1fd)](_0x177a35[_0x3bda76[_0x143a7a(0x1e9)]][_0x32b38e],_0x595682):_0x595682,_0x162d12[_0x143a7a(0x201)](_0x2f57d1);});});!_0x1c7e2d['test_settings']&&(_0x1c7e2d[_0x4e1d45(0x1d4)]={});_0x1c7e2d[_0x4e1d45(0x1d4)]={..._0x1c7e2d['test_settings'],..._0x1a4e40};const _0x468df4=path[_0x4e1d45(0x1c6)](__dirname,_0x2e9221[_0x4e1d45(0x1c9)]);fs[_0x4e1d45(0x1dd)](_0x468df4,JSON[_0x4e1d45(0x1eb)](_0x1c7e2d)),_0x2e9221[_0x4e1d45(0x1e7)](removeExistingEnvs,_0xe7505f);const _0x15598f=_0x2e9221['hhLEJ'](spawn,/^win/[_0x4e1d45(0x209)](process[_0x4e1d45(0x1ea)])?_0x2e9221[_0x4e1d45(0x1fc)]:_0x2e9221[_0x4e1d45(0x1d3)],[_0x2e9221['LcBEH'],_0x468df4,..._0xe7505f[_0x4e1d45(0x1f7)](0x1),_0x2e9221[_0x4e1d45(0x1da)],_0x162d12[_0x4e1d45(0x1c6)](',')],{'stdio':_0x2e9221['GXaNd']});_0x15598f['on'](_0x2e9221['lzhHh'],async _0x2c6c8d=>{const _0x260fda=_0x4e1d45;logger['debug'](_0x260fda(0x1f9)+_0x2c6c8d),logger[_0x260fda(0x1c5)]('Deleting\x20'+_0x468df4),fs[_0x260fda(0x1e4)](_0x468df4);});}module[a33_0x50ed7b(0x1cc)]=run;