#!/usr/bin/env node
'use strict';const a37_0x516c49=a37_0x5c38;function a37_0x5c38(_0x423be3,_0x332e16){const _0x1814fb=a37_0x1814();return a37_0x5c38=function(_0x5c3897,_0x520914){_0x5c3897=_0x5c3897-0x168;let _0x1b205a=_0x1814fb[_0x5c3897];return _0x1b205a;},a37_0x5c38(_0x423be3,_0x332e16);}(function(_0x2877f7,_0x43bfcb){const _0x3c60b9=a37_0x5c38,_0x19e0c4=_0x2877f7();while(!![]){try{const _0x5d1aac=-parseInt(_0x3c60b9(0x16b))/0x1*(parseInt(_0x3c60b9(0x19c))/0x2)+parseInt(_0x3c60b9(0x18d))/0x3*(-parseInt(_0x3c60b9(0x1a8))/0x4)+-parseInt(_0x3c60b9(0x16a))/0x5+-parseInt(_0x3c60b9(0x179))/0x6+-parseInt(_0x3c60b9(0x174))/0x7+-parseInt(_0x3c60b9(0x172))/0x8*(-parseInt(_0x3c60b9(0x190))/0x9)+parseInt(_0x3c60b9(0x1a9))/0xa;if(_0x5d1aac===_0x43bfcb)break;else _0x19e0c4['push'](_0x19e0c4['shift']());}catch(_0x2109cf){_0x19e0c4['push'](_0x19e0c4['shift']());}}}(a37_0x1814,0x78c48));function a37_0x1814(){const _0x42a903=['test','debug','filter','hUApW','2682490JmtEzS','76262ToXthv','cXUUA','CzYgi','map','length','nightwatch.conf.js','--env','4936VqZKoQ','test_settings','2058630fMTTJS','host','getPlatformName','config','join','1019268pUPseQ','trim','env','oqegq','path','push','existsSync','exports','YxEoe','modifyBrowserStackCaps','port','forEach','info','now','close','unlinkSync','useW3C','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','webdriver','nightwatch','552YdJjAd','writeFileSync','jtpBL','8982zVJxLF','Getting\x20your\x20nightwatch\x20configs\x20from\x20','selenium','ASzEZ','child_process','splice','vBeyw','DkYXt','inherit','findIndex','Deleting\x20','qYUYw','14HMLFzl','Tsiye','../../helpers/logger','qtFwH','modifyBrowserStackW3CCaps','child\x20process\x20exited\x20with\x20code\x20','mergeDeep','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','cwd','stringify','--config','slice','13116gMnOUx','20165340gIGviz','start_process','../../helpers/BrowserStackSetup','platforms','sqdur'];a37_0x1814=function(){return _0x42a903;};return a37_0x1814();}const fs=require('fs'),path=require(a37_0x516c49(0x17d)),{spawn}=require(a37_0x516c49(0x194)),logger=require(a37_0x516c49(0x19e))['winstonLogger'],{default:BrowserStackSetup}=require(a37_0x516c49(0x1ab)),helper=require('../../helpers/helper'),constants=require('../utils/constants'),getUserNightwatchConfigs=(_0x51e087,_0x5bf4b0)=>{const _0x5e51a5=a37_0x516c49,_0x54f2e3={'cXUUA':_0x5e51a5(0x170),'fOgcS':'nightwatch.json','wAlPK':function(_0x514ffe,_0x498305){return _0x514ffe(_0x498305);},'dEROv':_0x5e51a5(0x18a)};let _0x54fe80=null,_0x51c089={};const _0x1c9017=_0x5bf4b0[_0x5e51a5(0x199)](_0x5d01ae=>_0x5d01ae===_0x5e51a5(0x1a6));if(!helper['isUndefined'](_0x51e087[_0x5e51a5(0x177)])&&fs['existsSync'](path['join'](process[_0x5e51a5(0x1a4)](),_0x51e087[_0x5e51a5(0x177)])))_0x54fe80=path['join'](process[_0x5e51a5(0x1a4)](),_0x51e087[_0x5e51a5(0x177)]),_0x5bf4b0[_0x5e51a5(0x195)](_0x1c9017,0x2);else{if(fs[_0x5e51a5(0x17f)](path[_0x5e51a5(0x178)](process[_0x5e51a5(0x1a4)](),_0x54f2e3[_0x5e51a5(0x16c)])))_0x54fe80=path['join'](process['cwd'](),_0x54f2e3['cXUUA']);else fs[_0x5e51a5(0x17f)](path[_0x5e51a5(0x178)](process['cwd'](),_0x54f2e3['fOgcS']))&&(_0x54fe80=path[_0x5e51a5(0x178)](process[_0x5e51a5(0x1a4)](),_0x54f2e3['fOgcS']));}return _0x54fe80?(logger[_0x5e51a5(0x185)](_0x5e51a5(0x191)+_0x54fe80),_0x51c089=_0x54f2e3['wAlPK'](require,_0x54fe80)):logger['info'](_0x54f2e3['dEROv']),_0x51c089;},removeExistingEnvs=_0x5ee5ef=>{const _0x55ad8f=a37_0x516c49,_0x1b4142={};_0x1b4142[_0x55ad8f(0x16d)]=function(_0x267618,_0x7c8f56){return _0x267618>_0x7c8f56;},_0x1b4142[_0x55ad8f(0x196)]=function(_0x384cd6,_0x33d8ee){return _0x384cd6>_0x33d8ee;};const _0x3f111a=_0x1b4142;let _0x14e1bc=_0x5ee5ef['findIndex'](_0x177c4c=>_0x177c4c===_0x55ad8f(0x171));_0x3f111a['CzYgi'](_0x14e1bc,-0x1)&&_0x5ee5ef[_0x55ad8f(0x195)](_0x14e1bc,0x2),_0x14e1bc=_0x5ee5ef['findIndex'](_0x24ea59=>_0x24ea59==='-e'),_0x3f111a[_0x55ad8f(0x196)](_0x14e1bc,-0x1)&&_0x5ee5ef[_0x55ad8f(0x195)](_0x14e1bc,0x2);};function run(_0xc8a1dd,_0x4a8747,_0x4e2b23){const _0x2b9bc0=a37_0x516c49,_0x2474cc={'ZYoxS':_0x2b9bc0(0x18c),'PawiW':function(_0x5a2f24,_0x3f91e7){return _0x5a2f24+_0x3f91e7;},'qBqaD':_0x2b9bc0(0x173),'qtFwH':function(_0x48730b,_0xb2b99d,_0x2eacea){return _0x48730b(_0xb2b99d,_0x2eacea);},'hUApW':'hub.browserstack.com','DkYXt':_0x2b9bc0(0x1a3),'cSJiJ':function(_0x1772d4,_0x1d24da){return _0x1772d4===_0x1d24da;},'ASzEZ':'nightwatch-browserstack.json','kuoDs':function(_0x51d67f,_0x57a222){return _0x51d67f(_0x57a222);},'jtpBL':function(_0x12d6a2,_0x4f2b12,_0x5a4088,_0x4ef38b){return _0x12d6a2(_0x4f2b12,_0x5a4088,_0x4ef38b);},'VihSk':'nightwatch.cmd','qYUYw':_0x2b9bc0(0x1a6),'sqdur':'--env','CMuzl':_0x2b9bc0(0x198),'oqegq':_0x2b9bc0(0x187)};if(!_0x4e2b23[_0x2b9bc0(0x177)])return;const _0x26f44b=_0x2474cc[_0x2b9bc0(0x19f)](getUserNightwatchConfigs,_0xc8a1dd,_0x4a8747),_0x3c5123={};_0x3c5123[_0x2b9bc0(0x1aa)]=![];const _0x235d61={};_0x235d61[_0x2b9bc0(0x175)]=_0x2474cc[_0x2b9bc0(0x169)],_0x235d61[_0x2b9bc0(0x183)]=0x1bb;const _0x3b8bc7={};_0x3b8bc7[_0x2b9bc0(0x18b)]=_0x3c5123,_0x3b8bc7[_0x2b9bc0(0x192)]=_0x235d61;const _0x175a27=_0x3b8bc7;logger[_0x2b9bc0(0x185)](_0x2474cc[_0x2b9bc0(0x197)]);const _0x3b8b35={..._0x26f44b},_0x39393a=_0x3b8b35,_0x167972=helper[_0x2b9bc0(0x189)](_0x4e2b23[_0x2b9bc0(0x177)]),_0x35eab4=[];_0x4e2b23[_0x2b9bc0(0x177)][_0x2b9bc0(0x1ac)][_0x2b9bc0(0x184)]((_0x5f3f68,_0x5d9900)=>{const _0x6e3cdd=_0x2b9bc0;_0x167972?_0x35eab4[_0x6e3cdd(0x17e)](helper[_0x6e3cdd(0x1a0)](_0x4e2b23[_0x6e3cdd(0x177)],_0x2474cc['ZYoxS'],_0x5d9900)):_0x35eab4[_0x6e3cdd(0x17e)](helper[_0x6e3cdd(0x182)](_0x4e2b23[_0x6e3cdd(0x177)],_0x2474cc['ZYoxS'],_0x5d9900));});const _0x51d701={},_0x57686a=[];_0xc8a1dd[_0x2b9bc0(0x17b)]=_0xc8a1dd[_0x2b9bc0(0x17b)]||_0xc8a1dd['e'];const _0x39f96a=_0xc8a1dd[_0x2b9bc0(0x17b)]?_0xc8a1dd[_0x2b9bc0(0x17b)][_0x2b9bc0(0x17a)]()['split'](',')[_0x2b9bc0(0x16e)](_0xc5ac68=>_0xc5ac68['trim']())[_0x2b9bc0(0x168)](_0x4783d6=>_0x4783d6!==''):[''];_0x2474cc['cSJiJ'](_0x39f96a[_0x2b9bc0(0x16f)],0x0)&&_0x39f96a['push']('');_0x39f96a[_0x2b9bc0(0x184)](_0x76b8ee=>{const _0xd7cdc9=_0x2b9bc0,_0x42beef={'Tsiye':function(_0x3f2098,_0x14c924){return _0x2474cc['PawiW'](_0x3f2098,_0x14c924);},'YxEoe':_0x2474cc['qBqaD']};_0x35eab4[_0xd7cdc9(0x184)](_0x76c8c9=>{const _0x221975=_0xd7cdc9;let _0x50e4be=_0x42beef[_0x221975(0x19d)](helper[_0x221975(0x176)](_0x76c8c9,'_'),'_'+Date[_0x221975(0x186)]());_0x76b8ee&&(_0x50e4be+='_'+_0x76b8ee);if(_0x76b8ee&&(!_0x26f44b[_0x42beef['YxEoe']]||!_0x26f44b[_0x42beef[_0x221975(0x181)]][_0x76b8ee]))return;const _0x52f5fc={..._0x175a27};_0x52f5fc['desiredCapabilities']=_0x76c8c9;const _0x21a251=_0x52f5fc;_0x51d701[_0x50e4be]=_0x76b8ee?helper[_0x221975(0x1a2)](_0x26f44b[_0x42beef[_0x221975(0x181)]][_0x76b8ee],_0x21a251):_0x21a251,_0x57686a[_0x221975(0x17e)](_0x50e4be);});});!_0x39393a[_0x2b9bc0(0x173)]&&(_0x39393a[_0x2b9bc0(0x173)]={});_0x39393a['test_settings']={..._0x39393a[_0x2b9bc0(0x173)],..._0x51d701};const _0x5d44a5=path[_0x2b9bc0(0x178)](__dirname,_0x2474cc[_0x2b9bc0(0x193)]);fs[_0x2b9bc0(0x18e)](_0x5d44a5,JSON[_0x2b9bc0(0x1a5)](_0x39393a)),_0x2474cc['kuoDs'](removeExistingEnvs,_0x4a8747);const _0x5f49d3=_0x2474cc[_0x2b9bc0(0x18f)](spawn,/^win/[_0x2b9bc0(0x1ae)](process['platform'])?_0x2474cc['VihSk']:_0x2474cc['ZYoxS'],[_0x2474cc[_0x2b9bc0(0x19b)],_0x5d44a5,..._0x4a8747[_0x2b9bc0(0x1a7)](0x1),_0x2474cc[_0x2b9bc0(0x1ad)],_0x57686a['join'](',')],{'stdio':_0x2474cc['CMuzl']});_0x5f49d3['on'](_0x2474cc[_0x2b9bc0(0x17c)],async _0x44b823=>{const _0x3af196=_0x2b9bc0;logger[_0x3af196(0x1af)](_0x3af196(0x1a1)+_0x44b823),logger[_0x3af196(0x185)](_0x3af196(0x19a)+_0x5d44a5),fs[_0x3af196(0x188)](_0x5d44a5);});}module[a37_0x516c49(0x180)]=run;