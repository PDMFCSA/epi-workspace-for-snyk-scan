#!/usr/bin/env node
'use strict';const a33_0x25c07b=a33_0x4c25;function a33_0x4c25(_0x391fe9,_0x462c42){const _0x15d5b6=a33_0x15d5();return a33_0x4c25=function(_0x4c25fa,_0x52e055){_0x4c25fa=_0x4c25fa-0x13b;let _0xa2af0f=_0x15d5b6[_0x4c25fa];return _0xa2af0f;},a33_0x4c25(_0x391fe9,_0x462c42);}(function(_0x414335,_0x54882b){const _0x1869fb=a33_0x4c25,_0x3bb70d=_0x414335();while(!![]){try{const _0x55e573=parseInt(_0x1869fb(0x151))/0x1+-parseInt(_0x1869fb(0x162))/0x2*(-parseInt(_0x1869fb(0x183))/0x3)+parseInt(_0x1869fb(0x15a))/0x4+-parseInt(_0x1869fb(0x159))/0x5+-parseInt(_0x1869fb(0x13c))/0x6*(-parseInt(_0x1869fb(0x15f))/0x7)+parseInt(_0x1869fb(0x17e))/0x8*(-parseInt(_0x1869fb(0x145))/0x9)+-parseInt(_0x1869fb(0x17a))/0xa;if(_0x55e573===_0x54882b)break;else _0x3bb70d['push'](_0x3bb70d['shift']());}catch(_0x89edc6){_0x3bb70d['push'](_0x3bb70d['shift']());}}}(a33_0x15d5,0x496ec));function a33_0x15d5(){const _0x54af00=['writeFileSync','NaYQL','2662808nxZwLF','push','fZmhU','RHkmQ','--env','18XofnUV','../../helpers/logger','iXJlB','766620muvmpG','../../helpers/helper','split','nightwatch','ZjCJt','info','yZcrI','nightwatch.cmd','filter','9zfsaMO','env','close','webdriver','hub.browserstack.com','modifyBrowserStackW3CCaps','nightwatch.json','join','platforms','platform','config','test_settings','230558cGeOJU','WqEeJ','--config','path','cwd','QSHCQ','selenium','../utils/constants','679240Iecibc','2356456NFMIOM','inherit','trim','JUJDl','child\x20process\x20exited\x20with\x20code\x20','7LTbdXQ','modifyBrowserStackCaps','rSfcM','22748AbImBu','winstonLogger','getPlatformName','debug','nightwatch.conf.js','stringify','../../helpers/BrowserStackSetup','splice','existsSync','port','start_process','USMmL','child_process','Getting\x20your\x20nightwatch\x20configs\x20from\x20','BDwVl','host','isUndefined','slice','unlinkSync','now','Deleting\x20','kdMbf','desiredCapabilities','OAoYN','2462070SBINBj','forEach'];a33_0x15d5=function(){return _0x54af00;};return a33_0x15d5();}const fs=require('fs'),path=require(a33_0x25c07b(0x154)),{spawn}=require(a33_0x25c07b(0x16e)),logger=require(a33_0x25c07b(0x184))[a33_0x25c07b(0x163)],{default:BrowserStackSetup}=require(a33_0x25c07b(0x168)),helper=require(a33_0x25c07b(0x13d)),constants=require(a33_0x25c07b(0x158)),getUserNightwatchConfigs=(_0xcc2a39,_0x349c25)=>{const _0x593b48=a33_0x25c07b,_0x49f352={'XHtUl':_0x593b48(0x166),'ZjCJt':_0x593b48(0x14b),'WqEeJ':function(_0x144e7f,_0x2aee32){return _0x144e7f(_0x2aee32);},'BDwVl':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x931a88=null,_0x6e3893={};const _0x4e3d53=_0x349c25['findIndex'](_0x40632c=>_0x40632c===_0x593b48(0x153));if(!helper[_0x593b48(0x172)](_0xcc2a39['config'])&&fs[_0x593b48(0x16a)](path[_0x593b48(0x14c)](process[_0x593b48(0x155)](),_0xcc2a39['config'])))_0x931a88=path[_0x593b48(0x14c)](process[_0x593b48(0x155)](),_0xcc2a39[_0x593b48(0x14f)]),_0x349c25[_0x593b48(0x169)](_0x4e3d53,0x2);else{if(fs['existsSync'](path['join'](process[_0x593b48(0x155)](),_0x49f352['XHtUl'])))_0x931a88=path['join'](process['cwd'](),_0x49f352['XHtUl']);else fs[_0x593b48(0x16a)](path['join'](process[_0x593b48(0x155)](),_0x49f352[_0x593b48(0x140)]))&&(_0x931a88=path[_0x593b48(0x14c)](process[_0x593b48(0x155)](),_0x49f352[_0x593b48(0x140)]));}return _0x931a88?(logger[_0x593b48(0x141)](_0x593b48(0x16f)+_0x931a88),_0x6e3893=_0x49f352[_0x593b48(0x152)](require,_0x931a88)):logger[_0x593b48(0x141)](_0x49f352[_0x593b48(0x170)]),_0x6e3893;},removeExistingEnvs=_0x5a5cb3=>{const _0x40a6a6=a33_0x25c07b,_0xcabd8e={};_0xcabd8e['JUJDl']=function(_0x137c98,_0x1ce828){return _0x137c98>_0x1ce828;};const _0x391a34=_0xcabd8e;let _0x1100a2=_0x5a5cb3['findIndex'](_0x2a676f=>_0x2a676f===_0x40a6a6(0x182));_0x391a34[_0x40a6a6(0x15d)](_0x1100a2,-0x1)&&_0x5a5cb3[_0x40a6a6(0x169)](_0x1100a2,0x2),_0x1100a2=_0x5a5cb3['findIndex'](_0x2efdbf=>_0x2efdbf==='-e'),_0x391a34[_0x40a6a6(0x15d)](_0x1100a2,-0x1)&&_0x5a5cb3[_0x40a6a6(0x169)](_0x1100a2,0x2);};function run(_0x5b4537,_0x2a0801){const _0x5a52cc=a33_0x25c07b,_0x379269={'yZcrI':_0x5a52cc(0x13f),'kdMbf':function(_0x43a6f1,_0x1408dc){return _0x43a6f1+_0x1408dc;},'Dltli':_0x5a52cc(0x150),'USMmL':function(_0x520536,_0x29acb,_0x2c1117){return _0x520536(_0x29acb,_0x2c1117);},'NaYQL':_0x5a52cc(0x149),'OAoYN':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','QSHCQ':function(_0x5035ff,_0x4b3605){return _0x5035ff===_0x4b3605;},'rSfcM':'nightwatch-browserstack.json','fZmhU':function(_0x9c4e7b,_0x16fdb3){return _0x9c4e7b(_0x16fdb3);},'iXJlB':function(_0x4ca684,_0x23b305,_0xdb68c2,_0x4b5f7a){return _0x4ca684(_0x23b305,_0xdb68c2,_0x4b5f7a);},'GQwBi':_0x5a52cc(0x143),'LvcuL':_0x5a52cc(0x153),'XFCyC':'--env','KqHgI':_0x5a52cc(0x15b),'jzWmv':_0x5a52cc(0x147)},_0x524946=new BrowserStackSetup(_0x5b4537);if(!_0x524946[_0x5a52cc(0x14f)])return;const _0x520fab=_0x379269[_0x5a52cc(0x16d)](getUserNightwatchConfigs,_0x5b4537,_0x2a0801),_0x114ec4={};_0x114ec4[_0x5a52cc(0x16c)]=![];const _0x438df7={};_0x438df7[_0x5a52cc(0x171)]=_0x379269[_0x5a52cc(0x17d)],_0x438df7[_0x5a52cc(0x16b)]=0x1bb;const _0x572007={};_0x572007[_0x5a52cc(0x148)]=_0x114ec4,_0x572007[_0x5a52cc(0x157)]=_0x438df7;const _0x13fb47=_0x572007;logger['info'](_0x379269[_0x5a52cc(0x179)]);const _0x583360={..._0x520fab},_0x58ade3=_0x583360,_0xce6800=helper['useW3C'](_0x524946['config']),_0x4097b6=[];_0x524946[_0x5a52cc(0x14f)][_0x5a52cc(0x14d)][_0x5a52cc(0x17b)]((_0x40e183,_0xc3f72a)=>{const _0x3fbdc8=_0x5a52cc;_0xce6800?_0x4097b6[_0x3fbdc8(0x17f)](helper[_0x3fbdc8(0x14a)](_0x524946[_0x3fbdc8(0x14f)],_0x379269['yZcrI'],_0xc3f72a)):_0x4097b6['push'](helper[_0x3fbdc8(0x160)](_0x524946[_0x3fbdc8(0x14f)],_0x379269[_0x3fbdc8(0x142)],_0xc3f72a));});const _0x2ca2c9={},_0x1774f9=[];_0x5b4537[_0x5a52cc(0x146)]=_0x5b4537['env']||_0x5b4537['e'];const _0x141370=_0x5b4537['env']?_0x5b4537['env'][_0x5a52cc(0x15c)]()[_0x5a52cc(0x13e)](',')['map'](_0x378f86=>_0x378f86['trim']())[_0x5a52cc(0x144)](_0x33c639=>_0x33c639!==''):[''];_0x379269[_0x5a52cc(0x156)](_0x141370['length'],0x0)&&_0x141370[_0x5a52cc(0x17f)]('');_0x141370[_0x5a52cc(0x17b)](_0x388aab=>{const _0x3cbe05=_0x5a52cc,_0x156d44={'RVOsj':function(_0x278aa9,_0x2af8c7){const _0x4c2c00=a33_0x4c25;return _0x379269[_0x4c2c00(0x177)](_0x278aa9,_0x2af8c7);},'RHkmQ':_0x379269['Dltli']};_0x4097b6[_0x3cbe05(0x17b)](_0xb8eb8e=>{const _0x19ee5a=_0x3cbe05;let _0x446fc8=_0x156d44['RVOsj'](helper[_0x19ee5a(0x164)](_0xb8eb8e,'_'),'_'+Date[_0x19ee5a(0x175)]());_0x388aab&&(_0x446fc8+='_'+_0x388aab);if(_0x388aab&&(!_0x520fab[_0x156d44[_0x19ee5a(0x181)]]||!_0x520fab[_0x156d44[_0x19ee5a(0x181)]][_0x388aab]))return;const _0x14a3dd={..._0x13fb47};_0x14a3dd[_0x19ee5a(0x178)]=_0xb8eb8e;const _0x9cf0ab=_0x14a3dd;_0x2ca2c9[_0x446fc8]=_0x388aab?helper['mergeDeep'](_0x520fab[_0x156d44[_0x19ee5a(0x181)]][_0x388aab],_0x9cf0ab):_0x9cf0ab,_0x1774f9['push'](_0x446fc8);});});!_0x58ade3[_0x5a52cc(0x150)]&&(_0x58ade3[_0x5a52cc(0x150)]={});_0x58ade3['test_settings']={..._0x58ade3[_0x5a52cc(0x150)],..._0x2ca2c9};const _0x284e78=path[_0x5a52cc(0x14c)](__dirname,_0x379269[_0x5a52cc(0x161)]);fs[_0x5a52cc(0x17c)](_0x284e78,JSON[_0x5a52cc(0x167)](_0x58ade3)),_0x379269[_0x5a52cc(0x180)](removeExistingEnvs,_0x2a0801);const _0x371a25=_0x379269[_0x5a52cc(0x13b)](spawn,/^win/['test'](process[_0x5a52cc(0x14e)])?_0x379269['GQwBi']:_0x379269[_0x5a52cc(0x142)],[_0x379269['LvcuL'],_0x284e78,..._0x2a0801[_0x5a52cc(0x173)](0x1),_0x379269['XFCyC'],_0x1774f9[_0x5a52cc(0x14c)](',')],{'stdio':_0x379269['KqHgI']});_0x371a25['on'](_0x379269['jzWmv'],async _0x297cee=>{const _0x18ac3d=_0x5a52cc;logger[_0x18ac3d(0x165)](_0x18ac3d(0x15e)+_0x297cee),logger[_0x18ac3d(0x141)](_0x18ac3d(0x176)+_0x284e78),fs[_0x18ac3d(0x174)](_0x284e78);});}module['exports']=run;