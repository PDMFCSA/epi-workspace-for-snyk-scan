#!/usr/bin/env node
'use strict';const a14_0x37852e=a14_0x21f6;function a14_0x2305(){const _0x3a7248=['protocol','url','replace','demandCommand','usage','ipXnj','footer','epilogue','UHhka','YUaCy','help','hosts','PjYRf','hostname','1066118FjEyKC','integrations','../../helpers/logger','./constants','UOxdj','invalid','describe','3636180Svpsuj','pJVdc','40VFFqNW','818214VStrpd','options','wjuKh','https:','exports','773087HdPZql','443','connect','type','command','undefined','702lcwBde','bstack-accesskey','bstackAccesskey','../../helpers/helper','error','setProxySettings','accessKey','string','only','config','EhTbb','xAxNE','Integration\x20hosts\x20missing.','870CjtrNK','missing','winstonLogger','integrations-repeater','sATQR','xsyOj','root','demandOption','vXsxE','setupBrowserstackLocal','trim','map','join','LdFpC','ierLb','266810gnVfjW','split','2924aghpVd','23480JymtAS','port','bstackAccessKey','browserstackLocal','vFhJN'];a14_0x2305=function(){return _0x3a7248;};return a14_0x2305();}(function(_0x941cef,_0x1d1fb3){const _0x577e87=a14_0x21f6,_0x4b571d=_0x941cef();while(!![]){try{const _0x336ab0=-parseInt(_0x577e87(0x19a))/0x1+parseInt(_0x577e87(0x190))/0x2+parseInt(_0x577e87(0x16b))/0x3*(-parseInt(_0x577e87(0x17c))/0x4)+parseInt(_0x577e87(0x17d))/0x5+-parseInt(_0x577e87(0x197))/0x6+parseInt(_0x577e87(0x19f))/0x7*(-parseInt(_0x577e87(0x199))/0x8)+parseInt(_0x577e87(0x1a5))/0x9*(parseInt(_0x577e87(0x17a))/0xa);if(_0x336ab0===_0x1d1fb3)break;else _0x4b571d['push'](_0x4b571d['shift']());}catch(_0x44c169){_0x4b571d['push'](_0x4b571d['shift']());}}}(a14_0x2305,0x69162));const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require(a14_0x37852e(0x192))[a14_0x37852e(0x16d)],{URL}=require(a14_0x37852e(0x183)),helper=require(a14_0x37852e(0x1a8)),{HELP_MESSAGES,ERROR_MESSAGES}=require(a14_0x37852e(0x193)),validHosts=function(_0x1bc3f3){const _0x1d4a97=a14_0x37852e;return _0x1bc3f3[_0x1d4a97(0x17b)](',')['every'](_0x119834=>{const _0x5caf51=_0x1d4a97;try{new URL(_0x119834[_0x5caf51(0x175)]());}catch(_0x5a0727){return![];}return!![];});},parseOnPremHosts=function(_0x3540a3){const _0x39e48b=a14_0x37852e,_0x2975e6={};_0x2975e6[_0x39e48b(0x173)]=function(_0x4b0e92,_0x385253){return _0x4b0e92===_0x385253;},_0x2975e6[_0x39e48b(0x19c)]=_0x39e48b(0x19d),_0x2975e6[_0x39e48b(0x168)]=_0x39e48b(0x1a0),_0x2975e6[_0x39e48b(0x179)]=function(_0x56b1e3,_0x620030){return _0x56b1e3===_0x620030;},_0x2975e6[_0x39e48b(0x187)]='https';const _0x3f2c79=_0x2975e6;return _0x3540a3[_0x39e48b(0x17b)](',')[_0x39e48b(0x176)](_0x5265f0=>{const _0x5195d4=_0x39e48b,_0x63194d=new URL(_0x5265f0[_0x5195d4(0x175)]()),_0x1e608b=_0x63194d[_0x5195d4(0x18f)],_0x4a7c2e=_0x63194d[_0x5195d4(0x17e)]||(_0x3f2c79[_0x5195d4(0x173)](_0x63194d[_0x5195d4(0x182)],_0x3f2c79['wjuKh'])?_0x3f2c79[_0x5195d4(0x168)]:'80'),_0x2d7351=_0x63194d['protocol'][_0x5195d4(0x184)](':',''),_0x178952=_0x3f2c79[_0x5195d4(0x179)](_0x2d7351,_0x3f2c79['ipXnj'])?0x1:0x0;return _0x1e608b+','+_0x4a7c2e+','+_0x178952;});},connectCommandBuilder=function(_0x31dea5){const _0x2b6ad3=a14_0x37852e,_0x7c3297={};_0x7c3297['PjYRf']=_0x2b6ad3(0x1ac);const _0x205706=_0x7c3297,_0x3b4414={};_0x3b4414[_0x2b6ad3(0x196)]=HELP_MESSAGES[_0x2b6ad3(0x19b)][_0x2b6ad3(0x17f)],_0x3b4414[_0x2b6ad3(0x1a2)]=_0x205706[_0x2b6ad3(0x18e)];const _0x5a4da1={};_0x5a4da1[_0x2b6ad3(0x196)]=HELP_MESSAGES[_0x2b6ad3(0x19b)][_0x2b6ad3(0x18d)],_0x5a4da1[_0x2b6ad3(0x1a2)]=_0x205706[_0x2b6ad3(0x18e)],_0x5a4da1[_0x2b6ad3(0x172)]=!![];const _0x112d13={};return _0x112d13[_0x2b6ad3(0x1a6)]=_0x3b4414,_0x112d13[_0x2b6ad3(0x18d)]=_0x5a4da1,_0x31dea5['options'](_0x112d13);},connectCommandHandler=async function(_0x1e368b){const _0x449734=a14_0x37852e,_0x56c89e={'UOxdj':_0x449734(0x191),'sATQR':function(_0x508d7d,_0x344597){return _0x508d7d===_0x344597;},'UHhka':_0x449734(0x1a4),'pJVdc':'BrowserStack\x20access\x20key\x20missing.','vFhJN':_0x449734(0x16a),'SrrXr':function(_0x3f2f39,_0x5e90fd){return _0x3f2f39(_0x5e90fd);},'exAHD':'Hosts\x20not\x20valid','YUaCy':_0x449734(0x16e),'LdFpC':'Connection\x20established\x20successfully.','xsyOj':'Failed\x20to\x20establish\x20connection.'};try{const _0x1f387b=new BrowserStackSetup(_0x1e368b,_0x56c89e[_0x449734(0x194)]);_0x1e368b['bstackAccesskey']&&(_0x1f387b[_0x449734(0x1ae)][_0x449734(0x1ab)]=_0x1e368b[_0x449734(0x1a7)]);if(_0x56c89e[_0x449734(0x16f)](typeof _0x1f387b[_0x449734(0x1ae)]['accessKey'],_0x56c89e[_0x449734(0x18a)])){logger[_0x449734(0x1a9)](_0x56c89e[_0x449734(0x198)]);throw new Error(ERROR_MESSAGES['bstackAccessKey']['missing']);}const _0x1a7d70=_0x1e368b['hosts'];if(_0x56c89e[_0x449734(0x16f)](typeof _0x1a7d70,_0x56c89e[_0x449734(0x18a)])){logger[_0x449734(0x1a9)](_0x56c89e[_0x449734(0x181)]);throw new Error(ERROR_MESSAGES[_0x449734(0x18d)][_0x449734(0x16c)]);}if(!_0x56c89e['SrrXr'](validHosts,_0x1a7d70)){logger[_0x449734(0x1a9)](_0x56c89e['exAHD']);throw new Error(ERROR_MESSAGES[_0x449734(0x18d)][_0x449734(0x195)]);}const _0x1ca99f=_0x56c89e['SrrXr'](parseOnPremHosts,_0x1a7d70);_0x1f387b['config'][_0x449734(0x180)]=!![],_0x1f387b['config']['browserStackLocalOptions']['localIdentifier']=_0x56c89e[_0x449734(0x18b)],_0x1f387b[_0x449734(0x1ae)]['browserStackLocalOptions'][_0x449734(0x1ad)]=_0x1ca99f[_0x449734(0x177)](','),helper[_0x449734(0x1aa)](_0x1f387b[_0x449734(0x1ae)]),await _0x1f387b[_0x449734(0x174)](),logger['info'](_0x56c89e[_0x449734(0x178)]);}catch(_0x150548){logger[_0x449734(0x1a9)](_0x56c89e[_0x449734(0x170)]);throw new Error(_0x150548['toString']());}};function run(_0x3347d0){const _0x682fe2=a14_0x37852e,_0x1f3f7d={};_0x1f3f7d[_0x682fe2(0x169)]=_0x682fe2(0x1a1),_0x1f3f7d['WqRvN']=_0x682fe2(0x18c);const _0x2a3c76=_0x1f3f7d;_0x3347d0[_0x682fe2(0x186)](HELP_MESSAGES[_0x682fe2(0x1a3)][_0x682fe2(0x171)])[_0x682fe2(0x1a3)](_0x2a3c76[_0x682fe2(0x169)],HELP_MESSAGES[_0x682fe2(0x1a3)]['connect'],connectCommandBuilder,connectCommandHandler)[_0x682fe2(0x185)]()[_0x682fe2(0x18c)](_0x2a3c76['WqRvN'])[_0x682fe2(0x189)](HELP_MESSAGES[_0x682fe2(0x1a3)][_0x682fe2(0x188)]);}function a14_0x21f6(_0xea3b3f,_0x1421da){const _0x230574=a14_0x2305();return a14_0x21f6=function(_0x21f61a,_0x4f5036){_0x21f61a=_0x21f61a-0x168;let _0x3dcc8d=_0x230574[_0x21f61a];return _0x3dcc8d;},a14_0x21f6(_0xea3b3f,_0x1421da);}module[a14_0x37852e(0x19e)]=run;