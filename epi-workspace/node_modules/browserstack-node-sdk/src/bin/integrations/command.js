#!/usr/bin/env node
'use strict';function a12_0x5dbe(_0x2a6b69,_0x50a1a2){const _0x537d32=a12_0x537d();return a12_0x5dbe=function(_0x5dbe67,_0x384530){_0x5dbe67=_0x5dbe67-0xa9;let _0x5664b1=_0x537d32[_0x5dbe67];return _0x5664b1;},a12_0x5dbe(_0x2a6b69,_0x50a1a2);}const a12_0x4d9443=a12_0x5dbe;(function(_0xc66e14,_0x56e7d8){const _0x58aee3=a12_0x5dbe,_0x3b10d7=_0xc66e14();while(!![]){try{const _0x2eb456=-parseInt(_0x58aee3(0xcf))/0x1*(parseInt(_0x58aee3(0xec))/0x2)+parseInt(_0x58aee3(0xc8))/0x3+parseInt(_0x58aee3(0xcd))/0x4*(parseInt(_0x58aee3(0xe3))/0x5)+parseInt(_0x58aee3(0xed))/0x6*(-parseInt(_0x58aee3(0xdf))/0x7)+parseInt(_0x58aee3(0xa9))/0x8+parseInt(_0x58aee3(0xaf))/0x9*(-parseInt(_0x58aee3(0xdd))/0xa)+parseInt(_0x58aee3(0xd0))/0xb;if(_0x2eb456===_0x56e7d8)break;else _0x3b10d7['push'](_0x3b10d7['shift']());}catch(_0x34f216){_0x3b10d7['push'](_0x3b10d7['shift']());}}}(a12_0x537d,0x584d4));const {default:BrowserStackSetup}=require(a12_0x4d9443(0xcb)),logger=require('../../helpers/logger')[a12_0x4d9443(0xb3)],{URL}=require('url'),helper=require(a12_0x4d9443(0xe1)),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0x4d9443(0xca)),validHosts=function(_0x4dd8ef){const _0x57a7aa=a12_0x4d9443;return _0x4dd8ef[_0x57a7aa(0xe7)](',')[_0x57a7aa(0xd6)](_0x126562=>{try{new URL(_0x126562['trim']());}catch(_0xe63235){return![];}return!![];});},parseOnPremHosts=function(_0x2c6df5){const _0x20db6c=a12_0x4d9443,_0xe1a857={};_0xe1a857[_0x20db6c(0xf1)]=function(_0x5b6084,_0x48ab73){return _0x5b6084===_0x48ab73;},_0xe1a857['FoGkB']=_0x20db6c(0xb9),_0xe1a857[_0x20db6c(0xd7)]='443',_0xe1a857[_0x20db6c(0xd5)]=_0x20db6c(0xae);const _0x2943d9=_0xe1a857;return _0x2c6df5['split'](',')['map'](_0x1ddc2a=>{const _0xd6eea7=_0x20db6c,_0x481e2c=new URL(_0x1ddc2a[_0xd6eea7(0xb1)]()),_0x28c79c=_0x481e2c[_0xd6eea7(0xef)],_0x52e4c0=_0x481e2c[_0xd6eea7(0xd8)]||(_0x2943d9[_0xd6eea7(0xf1)](_0x481e2c['protocol'],_0x2943d9[_0xd6eea7(0xe6)])?_0x2943d9['aQFeL']:'80'),_0x596ce7=_0x481e2c[_0xd6eea7(0xd4)][_0xd6eea7(0xe2)](':',''),_0xa712f4=_0x2943d9[_0xd6eea7(0xf1)](_0x596ce7,_0x2943d9[_0xd6eea7(0xd5)])?0x1:0x0;return _0x28c79c+','+_0x52e4c0+','+_0xa712f4;});},connectCommandBuilder=function(_0x3df4f6){const _0x469039=a12_0x4d9443,_0x3b5d0d={};_0x3b5d0d['gMTwE']=_0x469039(0xbd);const _0x3e4afc=_0x3b5d0d,_0x1285f1={};_0x1285f1[_0x469039(0xb4)]=HELP_MESSAGES['options'][_0x469039(0xde)],_0x1285f1[_0x469039(0xd3)]=_0x3e4afc['gMTwE'];const _0x3a346b={};_0x3a346b['describe']=HELP_MESSAGES[_0x469039(0xce)][_0x469039(0xda)],_0x3a346b['type']=_0x3e4afc['gMTwE'],_0x3a346b[_0x469039(0xea)]=!![];const _0x371445={};return _0x371445['bstack-accesskey']=_0x1285f1,_0x371445['hosts']=_0x3a346b,_0x3df4f6[_0x469039(0xce)](_0x371445);},connectCommandHandler=async function(_0x4a27a8){const _0x4aeed2=a12_0x4d9443,_0x509350={'kupNK':_0x4aeed2(0xd1),'rxhKm':function(_0x453f7e,_0x3ca7de){return _0x453f7e===_0x3ca7de;},'bHCqV':_0x4aeed2(0xba),'TNIcG':_0x4aeed2(0xe5),'GUnYP':function(_0x387a74,_0x2c347b){return _0x387a74===_0x2c347b;},'YGcjE':_0x4aeed2(0xeb),'sEdEy':function(_0x5b3b08,_0x3cfc33){return _0x5b3b08(_0x3cfc33);},'BtuiQ':'Hosts\x20not\x20valid','KKNTd':function(_0x468353,_0x2a7e06){return _0x468353(_0x2a7e06);},'NEcHm':_0x4aeed2(0xc5),'IHggX':_0x4aeed2(0xac),'ronKw':_0x4aeed2(0xab)};try{const _0x4f6f70=new BrowserStackSetup(_0x4a27a8,_0x509350[_0x4aeed2(0xcc)]);_0x4a27a8[_0x4aeed2(0xe9)]&&(_0x4f6f70[_0x4aeed2(0xb7)][_0x4aeed2(0xe4)]=_0x4a27a8[_0x4aeed2(0xe9)]);if(_0x509350['rxhKm'](typeof _0x4f6f70[_0x4aeed2(0xb7)][_0x4aeed2(0xe4)],_0x509350[_0x4aeed2(0xc1)])){logger['error'](_0x509350[_0x4aeed2(0xf0)]);throw new Error(ERROR_MESSAGES[_0x4aeed2(0xde)][_0x4aeed2(0xc3)]);}const _0x31ebf9=_0x4a27a8[_0x4aeed2(0xda)];if(_0x509350[_0x4aeed2(0xc4)](typeof _0x31ebf9,_0x509350['bHCqV'])){logger[_0x4aeed2(0xbb)](_0x509350['YGcjE']);throw new Error(ERROR_MESSAGES[_0x4aeed2(0xda)]['missing']);}if(!_0x509350[_0x4aeed2(0xe0)](validHosts,_0x31ebf9)){logger[_0x4aeed2(0xbb)](_0x509350[_0x4aeed2(0xdb)]);throw new Error(ERROR_MESSAGES[_0x4aeed2(0xda)][_0x4aeed2(0xe8)]);}const _0x2907fd=_0x509350[_0x4aeed2(0xc2)](parseOnPremHosts,_0x31ebf9);_0x4f6f70[_0x4aeed2(0xb7)][_0x4aeed2(0xb5)]=!![],_0x4f6f70[_0x4aeed2(0xb7)][_0x4aeed2(0xb0)][_0x4aeed2(0xaa)]=_0x509350['NEcHm'],_0x4f6f70[_0x4aeed2(0xb7)][_0x4aeed2(0xb0)][_0x4aeed2(0xd2)]=_0x2907fd[_0x4aeed2(0xb8)](','),helper[_0x4aeed2(0xad)](_0x4f6f70['config']),await _0x4f6f70[_0x4aeed2(0xc7)](),logger['info'](_0x509350[_0x4aeed2(0xee)]);}catch(_0x11b73a){logger[_0x4aeed2(0xbb)](_0x509350[_0x4aeed2(0xc6)]);throw new Error(_0x11b73a[_0x4aeed2(0xc9)]());}};function a12_0x537d(){const _0x4a659d=['TNIcG','IJoFp','help','3069000itrWDK','localIdentifier','Failed\x20to\x20establish\x20connection.','Connection\x20established\x20successfully.','setProxySettings','https','37134glvykE','browserStackLocalOptions','trim','demandCommand','winstonLogger','describe','browserstackLocal','root','config','join','https:','undefined','error','command','string','exports','SPdTB','oIqeW','bHCqV','KKNTd','missing','GUnYP','integrations-repeater','ronKw','setupBrowserstackLocal','909558TJKKnK','toString','./constants','../../helpers/BrowserStackSetup','kupNK','4CKkzjt','options','553769sfflPq','10179312EJcBJf','integrations','only','type','protocol','YusiJ','every','aQFeL','port','footer','hosts','BtuiQ','connect','1340jQcUiu','bstackAccessKey','7WeTKdY','sEdEy','../../helpers/helper','replace','2204870lOgWpR','accessKey','BrowserStack\x20access\x20key\x20missing.','FoGkB','split','invalid','bstackAccesskey','demandOption','Integration\x20hosts\x20missing.','2UNNmFS','3509040LyQYmF','IHggX','hostname'];a12_0x537d=function(){return _0x4a659d;};return a12_0x537d();}function run(_0x136ef8){const _0x448ce6=a12_0x4d9443,_0x131672={};_0x131672[_0x448ce6(0xc0)]=_0x448ce6(0xdc),_0x131672[_0x448ce6(0xbf)]=_0x448ce6(0xf2);const _0x2b7e15=_0x131672;_0x136ef8['usage'](HELP_MESSAGES[_0x448ce6(0xbc)][_0x448ce6(0xb6)])['command'](_0x2b7e15['oIqeW'],HELP_MESSAGES['command'][_0x448ce6(0xdc)],connectCommandBuilder,connectCommandHandler)[_0x448ce6(0xb2)]()['help'](_0x2b7e15[_0x448ce6(0xbf)])['epilogue'](HELP_MESSAGES[_0x448ce6(0xbc)][_0x448ce6(0xd9)]);}module[a12_0x4d9443(0xbe)]=run;