#!/usr/bin/env node
'use strict';const a14_0x57d659=a14_0x5069;(function(_0xb5d36b,_0x318036){const _0x8ff818=a14_0x5069,_0x1cd595=_0xb5d36b();while(!![]){try{const _0x3e139f=-parseInt(_0x8ff818(0x182))/0x1*(parseInt(_0x8ff818(0x19b))/0x2)+-parseInt(_0x8ff818(0x1a9))/0x3*(-parseInt(_0x8ff818(0x19d))/0x4)+parseInt(_0x8ff818(0x18c))/0x5*(-parseInt(_0x8ff818(0x18a))/0x6)+-parseInt(_0x8ff818(0x198))/0x7+parseInt(_0x8ff818(0x184))/0x8+parseInt(_0x8ff818(0x17d))/0x9*(-parseInt(_0x8ff818(0x190))/0xa)+parseInt(_0x8ff818(0x1bd))/0xb;if(_0x3e139f===_0x318036)break;else _0x1cd595['push'](_0x1cd595['shift']());}catch(_0x34e1ba){_0x1cd595['push'](_0x1cd595['shift']());}}}(a14_0x482f,0xeace5));const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require(a14_0x57d659(0x1b9))[a14_0x57d659(0x1b5)],{URL}=require(a14_0x57d659(0x17e)),helper=require(a14_0x57d659(0x1b2)),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x209951){const _0x53ec6c=a14_0x57d659;return _0x209951[_0x53ec6c(0x18d)](',')['every'](_0x56551b=>{const _0x9ab0d5=_0x53ec6c;try{new URL(_0x56551b[_0x9ab0d5(0x1bb)]());}catch(_0x3d3ae3){return![];}return!![];});},parseOnPremHosts=function(_0x1727ae){const _0x207d7d=a14_0x57d659,_0xa1d7cd={};_0xa1d7cd[_0x207d7d(0x1a6)]=function(_0x3b10bc,_0x1a4ca6){return _0x3b10bc===_0x1a4ca6;},_0xa1d7cd['dGkKW']=_0x207d7d(0x1bc),_0xa1d7cd['EaeJh']=_0x207d7d(0x1a3),_0xa1d7cd['lMCtA']=function(_0x2de4db,_0x51daa4){return _0x2de4db===_0x51daa4;},_0xa1d7cd['WlVNJ']=_0x207d7d(0x194);const _0x404275=_0xa1d7cd;return _0x1727ae[_0x207d7d(0x18d)](',')[_0x207d7d(0x185)](_0x5115d8=>{const _0x53a5ed=_0x207d7d,_0x1f6dd2=new URL(_0x5115d8['trim']()),_0x5435ce=_0x1f6dd2[_0x53a5ed(0x1b1)],_0x3b5c32=_0x1f6dd2[_0x53a5ed(0x1ab)]||(_0x404275['crRjy'](_0x1f6dd2[_0x53a5ed(0x1af)],_0x404275['dGkKW'])?_0x404275[_0x53a5ed(0x1b3)]:'80'),_0x2b4a83=_0x1f6dd2[_0x53a5ed(0x1af)][_0x53a5ed(0x1ac)](':',''),_0x345784=_0x404275[_0x53a5ed(0x180)](_0x2b4a83,_0x404275[_0x53a5ed(0x1a7)])?0x1:0x0;return _0x5435ce+','+_0x3b5c32+','+_0x345784;});},connectCommandBuilder=function(_0x41129a){const _0x15fc59=a14_0x57d659,_0x3408e1={};_0x3408e1[_0x15fc59(0x199)]=_0x15fc59(0x1b8);const _0x9d5a25=_0x3408e1,_0x198f0a={};_0x198f0a[_0x15fc59(0x1a0)]=HELP_MESSAGES[_0x15fc59(0x195)]['bstackAccessKey'],_0x198f0a[_0x15fc59(0x18b)]=_0x9d5a25[_0x15fc59(0x199)];const _0x56ccf4={};_0x56ccf4[_0x15fc59(0x1a0)]=HELP_MESSAGES[_0x15fc59(0x195)][_0x15fc59(0x17c)],_0x56ccf4[_0x15fc59(0x18b)]=_0x9d5a25[_0x15fc59(0x199)],_0x56ccf4['demandOption']=!![];const _0x224815={};return _0x224815[_0x15fc59(0x1be)]=_0x198f0a,_0x224815[_0x15fc59(0x17c)]=_0x56ccf4,_0x41129a['options'](_0x224815);},connectCommandHandler=async function(_0x4c5d1b){const _0xaf5859=a14_0x57d659,_0x57ae9e={'XpklG':_0xaf5859(0x191),'vdJDN':function(_0x439bad,_0x546edb){return _0x439bad===_0x546edb;},'noBTR':'undefined','jlYRu':_0xaf5859(0x188),'TIeAy':_0xaf5859(0x19e),'oBGfH':function(_0x502c02,_0x880424){return _0x502c02(_0x880424);},'aWyWw':_0xaf5859(0x181),'jOiek':_0xaf5859(0x1b6),'DgnQW':_0xaf5859(0x1a8),'fEkvx':_0xaf5859(0x192)};try{const _0x116dcd=new BrowserStackSetup(_0x4c5d1b,_0x57ae9e[_0xaf5859(0x19f)]);_0x4c5d1b['bstackAccesskey']&&(_0x116dcd[_0xaf5859(0x18f)][_0xaf5859(0x186)]=_0x4c5d1b[_0xaf5859(0x193)]);if(_0x57ae9e[_0xaf5859(0x1b4)](typeof _0x116dcd['config'][_0xaf5859(0x186)],_0x57ae9e['noBTR'])){logger[_0xaf5859(0x1a4)](_0x57ae9e[_0xaf5859(0x17b)]);throw new Error(ERROR_MESSAGES[_0xaf5859(0x196)]['missing']);}const _0x10a136=_0x4c5d1b[_0xaf5859(0x17c)];if(_0x57ae9e[_0xaf5859(0x1b4)](typeof _0x10a136,_0x57ae9e['noBTR'])){logger[_0xaf5859(0x1a4)](_0x57ae9e[_0xaf5859(0x1a2)]);throw new Error(ERROR_MESSAGES['hosts']['missing']);}if(!_0x57ae9e[_0xaf5859(0x1b0)](validHosts,_0x10a136)){logger['error'](_0x57ae9e['aWyWw']);throw new Error(ERROR_MESSAGES['hosts']['invalid']);}const _0x2fe8f9=_0x57ae9e[_0xaf5859(0x1b0)](parseOnPremHosts,_0x10a136);_0x116dcd[_0xaf5859(0x18f)][_0xaf5859(0x18e)]=!![],_0x116dcd[_0xaf5859(0x18f)][_0xaf5859(0x1ae)]['localIdentifier']=_0x57ae9e[_0xaf5859(0x19c)],_0x116dcd[_0xaf5859(0x18f)][_0xaf5859(0x1ae)]['only']=_0x2fe8f9[_0xaf5859(0x17a)](','),helper['setProxySettings'](_0x116dcd[_0xaf5859(0x18f)]),await _0x116dcd['setupBrowserstackLocal'](),logger[_0xaf5859(0x1b7)](_0x57ae9e[_0xaf5859(0x1a5)]);}catch(_0x2ec639){logger[_0xaf5859(0x1a4)](_0x57ae9e[_0xaf5859(0x197)]);throw new Error(_0x2ec639[_0xaf5859(0x187)]());}};function a14_0x5069(_0x4f5aa6,_0xd03d15){const _0x482f13=a14_0x482f();return a14_0x5069=function(_0x50694f,_0x477156){_0x50694f=_0x50694f-0x17a;let _0x3bfb2d=_0x482f13[_0x50694f];return _0x3bfb2d;},a14_0x5069(_0x4f5aa6,_0xd03d15);}function a14_0x482f(){const _0x485c10=['Failed\x20to\x20establish\x20connection.','bstackAccesskey','https','options','bstackAccessKey','fEkvx','8293432hehbzA','oBhLR','footer','795806rpBzMN','jOiek','1854364kWnPIl','Integration\x20hosts\x20missing.','XpklG','describe','RGCgQ','TIeAy','443','error','DgnQW','crRjy','WlVNJ','Connection\x20established\x20successfully.','3eMngQg','connect','port','replace','usage','browserStackLocalOptions','protocol','oBGfH','hostname','../../helpers/helper','EaeJh','vdJDN','winstonLogger','integrations-repeater','info','string','../../helpers/logger','command','trim','https:','51498238rTGPrv','bstack-accesskey','join','jlYRu','hosts','1044ViMkyK','url','epilogue','lMCtA','Hosts\x20not\x20valid','1ByNgAX','demandCommand','1747168anVzOj','map','accessKey','toString','BrowserStack\x20access\x20key\x20missing.','help','10182AMQYLU','type','3865kVFKAK','split','browserstackLocal','config','129950eqjLXC','integrations'];a14_0x482f=function(){return _0x485c10;};return a14_0x482f();}function run(_0x2043d2){const _0x483fa6=a14_0x57d659,_0x2f6fec={};_0x2f6fec['YMWvz']='connect',_0x2f6fec[_0x483fa6(0x1a1)]=_0x483fa6(0x189);const _0x28b3f1=_0x2f6fec;_0x2043d2[_0x483fa6(0x1ad)](HELP_MESSAGES[_0x483fa6(0x1ba)]['root'])[_0x483fa6(0x1ba)](_0x28b3f1['YMWvz'],HELP_MESSAGES['command'][_0x483fa6(0x1aa)],connectCommandBuilder,connectCommandHandler)[_0x483fa6(0x183)]()['help'](_0x28b3f1[_0x483fa6(0x1a1)])[_0x483fa6(0x17f)](HELP_MESSAGES[_0x483fa6(0x1ba)][_0x483fa6(0x19a)]);}module['exports']=run;