#!/usr/bin/env node
'use strict';const a12_0x2ba1e0=a12_0x37c4;(function(_0xef0a1,_0x4f1737){const _0x532f7a=a12_0x37c4,_0x436955=_0xef0a1();while(!![]){try{const _0xaa1f15=-parseInt(_0x532f7a(0x147))/0x1+-parseInt(_0x532f7a(0x17e))/0x2+-parseInt(_0x532f7a(0x168))/0x3+parseInt(_0x532f7a(0x17b))/0x4*(-parseInt(_0x532f7a(0x170))/0x5)+parseInt(_0x532f7a(0x172))/0x6+parseInt(_0x532f7a(0x15b))/0x7+parseInt(_0x532f7a(0x13f))/0x8;if(_0xaa1f15===_0x4f1737)break;else _0x436955['push'](_0x436955['shift']());}catch(_0x903ae8){_0x436955['push'](_0x436955['shift']());}}}(a12_0x2fa9,0x295ef));function a12_0x37c4(_0x5dbefd,_0x3335af){const _0x2fa9ae=a12_0x2fa9();return a12_0x37c4=function(_0x37c436,_0x731360){_0x37c436=_0x37c436-0x139;let _0x137315=_0x2fa9ae[_0x37c436];return _0x137315;},a12_0x37c4(_0x5dbefd,_0x3335af);}function a12_0x2fa9(){const _0x4dcdc7=['port','../../helpers/logger','210764LZAsAP','only','demandCommand','command','uIkzV','kWgUJ','bWSBX','acVOf','describe','750880ceYWlU','KgJOo','RFYva','url','Integration\x20hosts\x20missing.','toString','replace','tUefS','171166FHjgXc','protocol','ZvhtB','split','oKTGR','help','invalid','Connection\x20established\x20successfully.','pWWbT','accessKey','browserStackLocalOptions','integrations','./constants','undefined','bstackAccesskey','footer','setProxySettings','BrowserStack\x20access\x20key\x20missing.','localIdentifier','gRhkc','1502025ixIPhx','integrations-repeater','usage','epilogue','KHmIz','hosts','iCumy','config','trim','string','root','FapSs','Hosts\x20not\x20valid','19314avyUOS','WfCPs','join','https:','options','connect','missing','../../helpers/helper','5HCmWgi','bstackAccessKey','974868wYuUhq','error','setupBrowserstackLocal','443','caEJz','map','type','every','Failed\x20to\x20establish\x20connection.','73888AyzciV'];a12_0x2fa9=function(){return _0x4dcdc7;};return a12_0x2fa9();}const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require(a12_0x2ba1e0(0x17d))['winstonLogger'],{URL}=require(a12_0x2ba1e0(0x142)),helper=require(a12_0x2ba1e0(0x16f)),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0x2ba1e0(0x153)),validHosts=function(_0x1d1e48){const _0x37ce2a=a12_0x2ba1e0;return _0x1d1e48[_0x37ce2a(0x14a)](',')[_0x37ce2a(0x179)](_0x5afe71=>{const _0x448bf9=_0x37ce2a;try{new URL(_0x5afe71[_0x448bf9(0x163)]());}catch(_0x9057c){return![];}return!![];});},parseOnPremHosts=function(_0xa86691){const _0x25d446=a12_0x2ba1e0,_0x14ce2c={};_0x14ce2c[_0x25d446(0x13d)]=function(_0x5485fd,_0x1b94eb){return _0x5485fd===_0x1b94eb;},_0x14ce2c['gRhkc']=_0x25d446(0x16b),_0x14ce2c[_0x25d446(0x166)]=_0x25d446(0x175),_0x14ce2c[_0x25d446(0x140)]=function(_0x5df239,_0x1683a7){return _0x5df239===_0x1683a7;},_0x14ce2c[_0x25d446(0x146)]='https';const _0x1b98d1=_0x14ce2c;return _0xa86691[_0x25d446(0x14a)](',')[_0x25d446(0x177)](_0x29b525=>{const _0x2c6340=_0x25d446,_0x120e01=new URL(_0x29b525[_0x2c6340(0x163)]()),_0x3988ec=_0x120e01['hostname'],_0x732f8=_0x120e01[_0x2c6340(0x17c)]||(_0x1b98d1[_0x2c6340(0x13d)](_0x120e01[_0x2c6340(0x148)],_0x1b98d1[_0x2c6340(0x15a)])?_0x1b98d1[_0x2c6340(0x166)]:'80'),_0x267a65=_0x120e01[_0x2c6340(0x148)][_0x2c6340(0x145)](':',''),_0x249e5f=_0x1b98d1[_0x2c6340(0x140)](_0x267a65,_0x1b98d1['tUefS'])?0x1:0x0;return _0x3988ec+','+_0x732f8+','+_0x249e5f;});},connectCommandBuilder=function(_0x2eb8aa){const _0x2f4ed3=a12_0x2ba1e0,_0x45c75c={};_0x45c75c[_0x2f4ed3(0x161)]=_0x2f4ed3(0x164);const _0x452991=_0x45c75c,_0x40b624={};_0x40b624[_0x2f4ed3(0x13e)]=HELP_MESSAGES[_0x2f4ed3(0x16c)]['bstackAccessKey'],_0x40b624[_0x2f4ed3(0x178)]=_0x452991[_0x2f4ed3(0x161)];const _0x4654e7={};_0x4654e7[_0x2f4ed3(0x13e)]=HELP_MESSAGES[_0x2f4ed3(0x16c)][_0x2f4ed3(0x160)],_0x4654e7[_0x2f4ed3(0x178)]=_0x452991['iCumy'],_0x4654e7['demandOption']=!![];const _0x3f9622={};return _0x3f9622['bstack-accesskey']=_0x40b624,_0x3f9622[_0x2f4ed3(0x160)]=_0x4654e7,_0x2eb8aa[_0x2f4ed3(0x16c)](_0x3f9622);},connectCommandHandler=async function(_0x714f13){const _0x7c994b=a12_0x2ba1e0,_0x2d4561={'pWWbT':_0x7c994b(0x152),'uIkzV':function(_0x124240,_0x538a6b){return _0x124240===_0x538a6b;},'kWgUJ':_0x7c994b(0x154),'pCqvi':_0x7c994b(0x158),'WfCPs':_0x7c994b(0x143),'oKTGR':function(_0x22dce6,_0x420295){return _0x22dce6(_0x420295);},'gijdn':_0x7c994b(0x167),'bWSBX':function(_0x464a62,_0x27aba8){return _0x464a62(_0x27aba8);},'kXpsv':_0x7c994b(0x15c),'ZvhtB':_0x7c994b(0x14e),'caEJz':_0x7c994b(0x17a)};try{const _0x371ca5=new BrowserStackSetup(_0x714f13,_0x2d4561[_0x7c994b(0x14f)]);_0x714f13[_0x7c994b(0x155)]&&(_0x371ca5['config']['accessKey']=_0x714f13['bstackAccesskey']);if(_0x2d4561[_0x7c994b(0x13a)](typeof _0x371ca5[_0x7c994b(0x162)][_0x7c994b(0x150)],_0x2d4561['kWgUJ'])){logger[_0x7c994b(0x173)](_0x2d4561['pCqvi']);throw new Error(ERROR_MESSAGES[_0x7c994b(0x171)][_0x7c994b(0x16e)]);}const _0x1413e4=_0x714f13[_0x7c994b(0x160)];if(_0x2d4561[_0x7c994b(0x13a)](typeof _0x1413e4,_0x2d4561[_0x7c994b(0x13b)])){logger[_0x7c994b(0x173)](_0x2d4561[_0x7c994b(0x169)]);throw new Error(ERROR_MESSAGES[_0x7c994b(0x160)][_0x7c994b(0x16e)]);}if(!_0x2d4561[_0x7c994b(0x14b)](validHosts,_0x1413e4)){logger[_0x7c994b(0x173)](_0x2d4561['gijdn']);throw new Error(ERROR_MESSAGES['hosts'][_0x7c994b(0x14d)]);}const _0x5e4f4b=_0x2d4561[_0x7c994b(0x13c)](parseOnPremHosts,_0x1413e4);_0x371ca5[_0x7c994b(0x162)]['browserstackLocal']=!![],_0x371ca5['config'][_0x7c994b(0x151)][_0x7c994b(0x159)]=_0x2d4561['kXpsv'],_0x371ca5['config'][_0x7c994b(0x151)][_0x7c994b(0x17f)]=_0x5e4f4b[_0x7c994b(0x16a)](','),helper[_0x7c994b(0x157)](_0x371ca5['config']),await _0x371ca5[_0x7c994b(0x174)](),logger['info'](_0x2d4561[_0x7c994b(0x149)]);}catch(_0x18fac3){logger['error'](_0x2d4561[_0x7c994b(0x176)]);throw new Error(_0x18fac3[_0x7c994b(0x144)]());}};function run(_0x59d132){const _0x325745=a12_0x2ba1e0,_0x25fbd8={};_0x25fbd8[_0x325745(0x141)]=_0x325745(0x16d),_0x25fbd8[_0x325745(0x15f)]='help';const _0x127963=_0x25fbd8;_0x59d132[_0x325745(0x15d)](HELP_MESSAGES[_0x325745(0x139)][_0x325745(0x165)])[_0x325745(0x139)](_0x127963[_0x325745(0x141)],HELP_MESSAGES['command'][_0x325745(0x16d)],connectCommandBuilder,connectCommandHandler)[_0x325745(0x180)]()[_0x325745(0x14c)](_0x127963[_0x325745(0x15f)])[_0x325745(0x15e)](HELP_MESSAGES[_0x325745(0x139)][_0x325745(0x156)]);}module['exports']=run;