#!/usr/bin/env node
'use strict';const a12_0x510295=a12_0x422e;(function(_0x1782aa,_0x4b8411){const _0x2d62d9=a12_0x422e,_0x5881af=_0x1782aa();while(!![]){try{const _0x2bcb39=parseInt(_0x2d62d9(0x1fe))/0x1*(parseInt(_0x2d62d9(0x211))/0x2)+parseInt(_0x2d62d9(0x1db))/0x3+-parseInt(_0x2d62d9(0x218))/0x4*(parseInt(_0x2d62d9(0x1d7))/0x5)+-parseInt(_0x2d62d9(0x1f9))/0x6*(parseInt(_0x2d62d9(0x210))/0x7)+parseInt(_0x2d62d9(0x1f0))/0x8+-parseInt(_0x2d62d9(0x1fc))/0x9+-parseInt(_0x2d62d9(0x1f4))/0xa*(-parseInt(_0x2d62d9(0x1ff))/0xb);if(_0x2bcb39===_0x4b8411)break;else _0x5881af['push'](_0x5881af['shift']());}catch(_0xa404aa){_0x5881af['push'](_0x5881af['shift']());}}}(a12_0x16c2,0xf36fa));const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require(a12_0x510295(0x1e9))['winstonLogger'],{URL}=require(a12_0x510295(0x1f2)),helper=require(a12_0x510295(0x1ed)),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0x510295(0x1da)),validHosts=function(_0xdf0750){const _0x54abc8=a12_0x510295;return _0xdf0750[_0x54abc8(0x1e4)](',')[_0x54abc8(0x1de)](_0x2b70a9=>{const _0x475e3a=_0x54abc8;try{new URL(_0x2b70a9[_0x475e3a(0x204)]());}catch(_0xb7f78a){return![];}return!![];});},parseOnPremHosts=function(_0x51a94d){const _0x97b93d=a12_0x510295,_0x2b9998={};_0x2b9998[_0x97b93d(0x206)]=function(_0x5509c4,_0x59812a){return _0x5509c4===_0x59812a;},_0x2b9998[_0x97b93d(0x1ec)]=_0x97b93d(0x215),_0x2b9998[_0x97b93d(0x200)]=_0x97b93d(0x1e8),_0x2b9998[_0x97b93d(0x216)]=function(_0x1a4ff4,_0x566210){return _0x1a4ff4===_0x566210;},_0x2b9998['XcXuW']=_0x97b93d(0x1e1);const _0x39462f=_0x2b9998;return _0x51a94d[_0x97b93d(0x1e4)](',')['map'](_0xc23ee9=>{const _0x5be390=_0x97b93d,_0x8ace2d=new URL(_0xc23ee9[_0x5be390(0x204)]()),_0x4870aa=_0x8ace2d[_0x5be390(0x1dd)],_0x25d718=_0x8ace2d['port']||(_0x39462f[_0x5be390(0x206)](_0x8ace2d[_0x5be390(0x208)],_0x39462f[_0x5be390(0x1ec)])?_0x39462f[_0x5be390(0x200)]:'80'),_0x501b72=_0x8ace2d[_0x5be390(0x208)][_0x5be390(0x1fa)](':',''),_0x176b1f=_0x39462f[_0x5be390(0x216)](_0x501b72,_0x39462f[_0x5be390(0x213)])?0x1:0x0;return _0x4870aa+','+_0x25d718+','+_0x176b1f;});},connectCommandBuilder=function(_0x2eb72e){const _0x1dd3cb=a12_0x510295,_0x16407f={};_0x16407f[_0x1dd3cb(0x207)]=_0x1dd3cb(0x1d4);const _0x576632=_0x16407f,_0x1ad08b={};_0x1ad08b['describe']=HELP_MESSAGES[_0x1dd3cb(0x1f5)][_0x1dd3cb(0x203)],_0x1ad08b[_0x1dd3cb(0x217)]=_0x576632[_0x1dd3cb(0x207)];const _0xba783a={};_0xba783a['describe']=HELP_MESSAGES[_0x1dd3cb(0x1f5)][_0x1dd3cb(0x214)],_0xba783a[_0x1dd3cb(0x217)]=_0x576632[_0x1dd3cb(0x207)],_0xba783a[_0x1dd3cb(0x205)]=!![];const _0x3382b7={};return _0x3382b7[_0x1dd3cb(0x20b)]=_0x1ad08b,_0x3382b7[_0x1dd3cb(0x214)]=_0xba783a,_0x2eb72e['options'](_0x3382b7);},connectCommandHandler=async function(_0x32b252){const _0x3ca2a3=a12_0x510295,_0x25f8ea={'oNMJT':_0x3ca2a3(0x1e2),'jGztq':function(_0x5d1dfc,_0x2f2963){return _0x5d1dfc===_0x2f2963;},'DcvuE':'undefined','XKMQQ':'BrowserStack\x20access\x20key\x20missing.','tvphN':'Integration\x20hosts\x20missing.','Aawgw':function(_0x2bcb67,_0x34e1a6){return _0x2bcb67(_0x34e1a6);},'Buzri':_0x3ca2a3(0x1eb),'pzxYU':_0x3ca2a3(0x1d5),'OlWZY':_0x3ca2a3(0x1fd),'GfZVk':_0x3ca2a3(0x1f8)};try{const _0x3a4446=new BrowserStackSetup(_0x32b252,_0x25f8ea[_0x3ca2a3(0x209)]);_0x32b252[_0x3ca2a3(0x1e0)]&&(_0x3a4446['config'][_0x3ca2a3(0x1f6)]=_0x32b252[_0x3ca2a3(0x1e0)]);if(_0x25f8ea[_0x3ca2a3(0x1e5)](typeof _0x3a4446[_0x3ca2a3(0x21b)][_0x3ca2a3(0x1f6)],_0x25f8ea[_0x3ca2a3(0x1e6)])){logger['error'](_0x25f8ea[_0x3ca2a3(0x201)]);throw new Error(ERROR_MESSAGES[_0x3ca2a3(0x203)]['missing']);}const _0x2eb08f=_0x32b252[_0x3ca2a3(0x214)];if(_0x25f8ea[_0x3ca2a3(0x1e5)](typeof _0x2eb08f,_0x25f8ea[_0x3ca2a3(0x1e6)])){logger[_0x3ca2a3(0x20f)](_0x25f8ea[_0x3ca2a3(0x1df)]);throw new Error(ERROR_MESSAGES['hosts'][_0x3ca2a3(0x20c)]);}if(!_0x25f8ea[_0x3ca2a3(0x1d9)](validHosts,_0x2eb08f)){logger[_0x3ca2a3(0x20f)](_0x25f8ea['Buzri']);throw new Error(ERROR_MESSAGES[_0x3ca2a3(0x214)][_0x3ca2a3(0x1ea)]);}const _0x55fb9e=_0x25f8ea[_0x3ca2a3(0x1d9)](parseOnPremHosts,_0x2eb08f);_0x3a4446[_0x3ca2a3(0x21b)][_0x3ca2a3(0x1d3)]=!![],_0x3a4446[_0x3ca2a3(0x21b)][_0x3ca2a3(0x1f1)][_0x3ca2a3(0x1d8)]=_0x25f8ea[_0x3ca2a3(0x212)],_0x3a4446['config'][_0x3ca2a3(0x1f1)][_0x3ca2a3(0x1dc)]=_0x55fb9e[_0x3ca2a3(0x1f3)](','),helper['setProxySettings'](_0x3a4446[_0x3ca2a3(0x21b)]),await _0x3a4446[_0x3ca2a3(0x21a)](),logger[_0x3ca2a3(0x1fb)](_0x25f8ea[_0x3ca2a3(0x20a)]);}catch(_0x2c6943){logger[_0x3ca2a3(0x20f)](_0x25f8ea[_0x3ca2a3(0x202)]);throw new Error(_0x2c6943[_0x3ca2a3(0x1ef)]());}};function run(_0x5299b7){const _0x8b4ac4=a12_0x510295,_0x2b4554={};_0x2b4554[_0x8b4ac4(0x20e)]=_0x8b4ac4(0x1f7),_0x2b4554[_0x8b4ac4(0x1e7)]=_0x8b4ac4(0x1d6);const _0x4e4137=_0x2b4554;_0x5299b7['usage'](HELP_MESSAGES[_0x8b4ac4(0x20d)][_0x8b4ac4(0x219)])[_0x8b4ac4(0x20d)](_0x4e4137[_0x8b4ac4(0x20e)],HELP_MESSAGES[_0x8b4ac4(0x20d)][_0x8b4ac4(0x1f7)],connectCommandBuilder,connectCommandHandler)[_0x8b4ac4(0x1ee)]()[_0x8b4ac4(0x1d6)](_0x4e4137[_0x8b4ac4(0x1e7)])['epilogue'](HELP_MESSAGES[_0x8b4ac4(0x20d)][_0x8b4ac4(0x1e3)]);}function a12_0x422e(_0x4c9a82,_0x29a445){const _0x16c269=a12_0x16c2();return a12_0x422e=function(_0x422e50,_0x197b39){_0x422e50=_0x422e50-0x1d3;let _0x4a35b4=_0x16c269[_0x422e50];return _0x4a35b4;},a12_0x422e(_0x4c9a82,_0x29a445);}module['exports']=run;function a12_0x16c2(){const _0x26d4a6=['oNMJT','OlWZY','bstack-accesskey','missing','command','aNhuD','error','7eSAVeP','76vhAMAl','pzxYU','XcXuW','hosts','https:','XPOuB','type','4SNbSHg','root','setupBrowserstackLocal','config','browserstackLocal','string','integrations-repeater','help','1307345kuuQWg','localIdentifier','Aawgw','./constants','5227665HEbqLo','only','hostname','every','tvphN','bstackAccesskey','https','integrations','footer','split','jGztq','DcvuE','oJLvN','443','../../helpers/logger','invalid','Hosts\x20not\x20valid','SKHHE','../../helpers/helper','demandCommand','toString','3773744tpVdoB','browserStackLocalOptions','url','join','3766690cfXkne','options','accessKey','connect','Failed\x20to\x20establish\x20connection.','10771338EowWww','replace','info','6301818LjfojY','Connection\x20established\x20successfully.','30607AEaWDy','11DQUziH','UBQAp','XKMQQ','GfZVk','bstackAccessKey','trim','demandOption','oqwkE','DCXMs','protocol'];a12_0x16c2=function(){return _0x26d4a6;};return a12_0x16c2();}