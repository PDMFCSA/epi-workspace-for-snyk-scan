#!/usr/bin/env node
'use strict';const a14_0x1b1c87=a14_0x331a;(function(_0x49e9af,_0x3b8d91){const _0x487a01=a14_0x331a,_0x143650=_0x49e9af();while(!![]){try{const _0x5d0bc9=parseInt(_0x487a01(0x96))/0x1+-parseInt(_0x487a01(0xa7))/0x2+-parseInt(_0x487a01(0xca))/0x3*(-parseInt(_0x487a01(0xad))/0x4)+parseInt(_0x487a01(0x8f))/0x5+parseInt(_0x487a01(0xb3))/0x6+-parseInt(_0x487a01(0x8d))/0x7*(-parseInt(_0x487a01(0xd4))/0x8)+-parseInt(_0x487a01(0x8c))/0x9;if(_0x5d0bc9===_0x3b8d91)break;else _0x143650['push'](_0x143650['shift']());}catch(_0x25098b){_0x143650['push'](_0x143650['shift']());}}}(a14_0x2173,0xd06b1));function a14_0x2173(){const _0x1ad39b=['bstackAccessKey','accessKey','Failed\x20to\x20establish\x20connection.','lacBv','https:','4388706rzJfVS','CwJFV','toString','wTKBs','type','string','config','localIdentifier','url','hostname','Connection\x20established\x20successfully.','browserstackLocal','browserStackLocalOptions','fBoyi','rjKOe','XISeh','XiYtO','lclSX','connect','WYpkc','options','443','info','20730jwTjVW','../../helpers/helper','Integration\x20hosts\x20missing.','undefined','usage','uyjaY','join','integrations','setupBrowserstackLocal','command','72GYCPkI','epilogue','bstackAccesskey','split','winstonLogger','demandOption','12938904eJhfoW','385217hODiBf','https','5344110uTFtkG','error','trim','hosts','map','help','footer','505984VmtSXJ','demandCommand','integrations-repeater','zWObB','GjdUO','Hosts\x20not\x20valid','zxYpg','replace','exports','protocol','ZZuxA','missing','every','setProxySettings','../../helpers/BrowserStackSetup','../../helpers/logger','GWeob','2043078SzddBm','BrowserStack\x20access\x20key\x20missing.','bstack-accesskey','lEKnG','port','root','296xBYizy'];a14_0x2173=function(){return _0x1ad39b;};return a14_0x2173();}const {default:BrowserStackSetup}=require(a14_0x1b1c87(0xa4)),logger=require(a14_0x1b1c87(0xa5))[a14_0x1b1c87(0x8a)],{URL}=require(a14_0x1b1c87(0xbb)),helper=require(a14_0x1b1c87(0xcb)),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x2f0431){const _0x7dd362=a14_0x1b1c87;return _0x2f0431[_0x7dd362(0x89)](',')[_0x7dd362(0xa2)](_0x5e2bf5=>{const _0x4a4c16=_0x7dd362;try{new URL(_0x5e2bf5[_0x4a4c16(0x91)]());}catch(_0x55ab43){return![];}return!![];});},parseOnPremHosts=function(_0x147ba0){const _0x41f32b=a14_0x1b1c87,_0x212bab={};_0x212bab[_0x41f32b(0xcf)]=function(_0xe1258,_0x2ff63e){return _0xe1258===_0x2ff63e;},_0x212bab[_0x41f32b(0x9c)]=_0x41f32b(0xb2),_0x212bab[_0x41f32b(0xa0)]=_0x41f32b(0xc8),_0x212bab[_0x41f32b(0xc4)]=_0x41f32b(0x8e);const _0x38e318=_0x212bab;return _0x147ba0['split'](',')[_0x41f32b(0x93)](_0x5bc111=>{const _0x34542b=_0x41f32b,_0x1a6d58=new URL(_0x5bc111[_0x34542b(0x91)]()),_0x485d6c=_0x1a6d58[_0x34542b(0xbc)],_0x38fa1e=_0x1a6d58[_0x34542b(0xab)]||(_0x38e318['uyjaY'](_0x1a6d58[_0x34542b(0x9f)],_0x38e318[_0x34542b(0x9c)])?_0x38e318[_0x34542b(0xa0)]:'80'),_0x1264d2=_0x1a6d58['protocol'][_0x34542b(0x9d)](':',''),_0x2b58fb=_0x38e318[_0x34542b(0xcf)](_0x1264d2,_0x38e318[_0x34542b(0xc4)])?0x1:0x0;return _0x485d6c+','+_0x38fa1e+','+_0x2b58fb;});},connectCommandBuilder=function(_0x278fde){const _0x5db672=a14_0x1b1c87,_0x34a003={};_0x34a003[_0x5db672(0xaa)]=_0x5db672(0xb8);const _0x4547bd=_0x34a003,_0x566d40={};_0x566d40['describe']=HELP_MESSAGES[_0x5db672(0xc7)][_0x5db672(0xae)],_0x566d40[_0x5db672(0xb7)]=_0x4547bd[_0x5db672(0xaa)];const _0xe2c2c5={};_0xe2c2c5['describe']=HELP_MESSAGES[_0x5db672(0xc7)][_0x5db672(0x92)],_0xe2c2c5[_0x5db672(0xb7)]=_0x4547bd[_0x5db672(0xaa)],_0xe2c2c5[_0x5db672(0x8b)]=!![];const _0x2ce58d={};return _0x2ce58d[_0x5db672(0xa9)]=_0x566d40,_0x2ce58d[_0x5db672(0x92)]=_0xe2c2c5,_0x278fde['options'](_0x2ce58d);},connectCommandHandler=async function(_0x1cf151){const _0x5e2585=a14_0x1b1c87,_0x415670={'BbjUg':_0x5e2585(0xd1),'GWeob':function(_0x7294b,_0x85e7f6){return _0x7294b===_0x85e7f6;},'XiYtO':_0x5e2585(0xcd),'rjKOe':_0x5e2585(0xa8),'XISeh':function(_0x5a3df9,_0x1cc173){return _0x5a3df9===_0x1cc173;},'wTKBs':_0x5e2585(0xcc),'fBoyi':function(_0x58fb23,_0x24ac18){return _0x58fb23(_0x24ac18);},'SwWHG':_0x5e2585(0x9b),'WYpkc':_0x5e2585(0x98),'GjdUO':_0x5e2585(0xbd),'zWObB':_0x5e2585(0xb0)};try{const _0x5782af=new BrowserStackSetup(_0x1cf151,_0x415670['BbjUg']);_0x1cf151[_0x5e2585(0xd6)]&&(_0x5782af[_0x5e2585(0xb9)][_0x5e2585(0xaf)]=_0x1cf151[_0x5e2585(0xd6)]);if(_0x415670[_0x5e2585(0xa6)](typeof _0x5782af[_0x5e2585(0xb9)][_0x5e2585(0xaf)],_0x415670[_0x5e2585(0xc3)])){logger[_0x5e2585(0x90)](_0x415670[_0x5e2585(0xc1)]);throw new Error(ERROR_MESSAGES[_0x5e2585(0xae)][_0x5e2585(0xa1)]);}const _0x1f5d4e=_0x1cf151['hosts'];if(_0x415670[_0x5e2585(0xc2)](typeof _0x1f5d4e,_0x415670[_0x5e2585(0xc3)])){logger[_0x5e2585(0x90)](_0x415670[_0x5e2585(0xb6)]);throw new Error(ERROR_MESSAGES[_0x5e2585(0x92)][_0x5e2585(0xa1)]);}if(!_0x415670['fBoyi'](validHosts,_0x1f5d4e)){logger[_0x5e2585(0x90)](_0x415670['SwWHG']);throw new Error(ERROR_MESSAGES[_0x5e2585(0x92)]['invalid']);}const _0x4cb6ef=_0x415670[_0x5e2585(0xc0)](parseOnPremHosts,_0x1f5d4e);_0x5782af['config'][_0x5e2585(0xbe)]=!![],_0x5782af[_0x5e2585(0xb9)]['browserStackLocalOptions'][_0x5e2585(0xba)]=_0x415670[_0x5e2585(0xc6)],_0x5782af[_0x5e2585(0xb9)][_0x5e2585(0xbf)]['only']=_0x4cb6ef[_0x5e2585(0xd0)](','),helper[_0x5e2585(0xa3)](_0x5782af[_0x5e2585(0xb9)]),await _0x5782af[_0x5e2585(0xd2)](),logger[_0x5e2585(0xc9)](_0x415670[_0x5e2585(0x9a)]);}catch(_0x3e1e55){logger['error'](_0x415670[_0x5e2585(0x99)]);throw new Error(_0x3e1e55[_0x5e2585(0xb5)]());}};function a14_0x331a(_0x3bc947,_0x351047){const _0x21730e=a14_0x2173();return a14_0x331a=function(_0x331a12,_0x496207){_0x331a12=_0x331a12-0x89;let _0x5b3da5=_0x21730e[_0x331a12];return _0x5b3da5;},a14_0x331a(_0x3bc947,_0x351047);}function run(_0x5c6dfa){const _0x50721c=a14_0x1b1c87,_0x31e59d={};_0x31e59d[_0x50721c(0xb1)]=_0x50721c(0xc5),_0x31e59d[_0x50721c(0xb4)]=_0x50721c(0x94);const _0x39ec22=_0x31e59d;_0x5c6dfa[_0x50721c(0xce)](HELP_MESSAGES[_0x50721c(0xd3)][_0x50721c(0xac)])['command'](_0x39ec22[_0x50721c(0xb1)],HELP_MESSAGES['command']['connect'],connectCommandBuilder,connectCommandHandler)[_0x50721c(0x97)]()[_0x50721c(0x94)](_0x39ec22[_0x50721c(0xb4)])[_0x50721c(0xd5)](HELP_MESSAGES['command'][_0x50721c(0x95)]);}module[a14_0x1b1c87(0x9e)]=run;