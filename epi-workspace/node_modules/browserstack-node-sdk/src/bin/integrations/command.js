#!/usr/bin/env node
'use strict';const a12_0x22b906=a12_0x8993;function a12_0x360a(){const _0x59b464=['hosts','undefined','peUnn','Integration\x20hosts\x20missing.','JuZVN','517033cIBbKC','443','localIdentifier','bstackAccesskey','options','usage','winstonLogger','JPATk','https','4239513aXmZBK','url','41986rTCpka','setupBrowserstackLocal','tgdsY','accessKey','66LjsbVZ','footer','every','info','tsYQa','LDWsI','demandCommand','Hosts\x20not\x20valid','split','protocol','vMSYm','4102450zudQBY','setProxySettings','help','browserStackLocalOptions','30YzSkkQ','trim','browserstackLocal','only','7696344NXFKgF','CFJah','integrations','connect','bstack-accesskey','describe','GxjMx','1806DpxrPN','config','error','../../helpers/helper','uqzvM','80iQNStc','hostname','BrowserStack\x20access\x20key\x20missing.','type','root','dzwCD','map','YZUgy','360416eYHLiz','Connection\x20established\x20successfully.','Failed\x20to\x20establish\x20connection.','command','PcOoZ','nPlYE','FYdLI','epilogue','https:','demandOption','./constants','integrations-repeater','missing','4852EJrSJL'];a12_0x360a=function(){return _0x59b464;};return a12_0x360a();}function a12_0x8993(_0x2272b8,_0x1246e1){const _0x360a1b=a12_0x360a();return a12_0x8993=function(_0x899393,_0x1cc2bb){_0x899393=_0x899393-0xba;let _0x4d214f=_0x360a1b[_0x899393];return _0x4d214f;},a12_0x8993(_0x2272b8,_0x1246e1);}(function(_0x44f37a,_0x4600a5){const _0xa53719=a12_0x8993,_0x509161=_0x44f37a();while(!![]){try{const _0x4690e6=parseInt(_0xa53719(0xee))/0x1*(-parseInt(_0xa53719(0x101))/0x2)+parseInt(_0xa53719(0xc3))/0x3*(parseInt(_0xa53719(0xdd))/0x4)+parseInt(_0xa53719(0xfd))/0x5+-parseInt(_0xa53719(0xf2))/0x6*(-parseInt(_0xa53719(0xd0))/0x7)+-parseInt(_0xa53719(0xbc))/0x8+parseInt(_0xa53719(0xec))/0x9+parseInt(_0xa53719(0xc8))/0xa*(-parseInt(_0xa53719(0xe3))/0xb);if(_0x4690e6===_0x4600a5)break;else _0x509161['push'](_0x509161['shift']());}catch(_0x3568a5){_0x509161['push'](_0x509161['shift']());}}}(a12_0x360a,0x976fc));const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require('../../helpers/logger')[a12_0x22b906(0xe9)],{URL}=require(a12_0x22b906(0xed)),helper=require(a12_0x22b906(0xc6)),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0x22b906(0xda)),validHosts=function(_0x27d636){const _0x36548b=a12_0x22b906;return _0x27d636[_0x36548b(0xfa)](',')[_0x36548b(0xf4)](_0x12622d=>{const _0x4bbdd1=_0x36548b;try{new URL(_0x12622d[_0x4bbdd1(0x102)]());}catch(_0x3ad5a5){return![];}return!![];});},parseOnPremHosts=function(_0x29d1c7){const _0x3a801f=a12_0x22b906,_0x469516={};_0x469516['GxjMx']=function(_0x27d300,_0x3a0386){return _0x27d300===_0x3a0386;},_0x469516['nPlYE']=_0x3a801f(0xd8),_0x469516[_0x3a801f(0xd4)]=_0x3a801f(0xe4),_0x469516[_0x3a801f(0xf7)]=_0x3a801f(0xeb);const _0x2a8b95=_0x469516;return _0x29d1c7[_0x3a801f(0xfa)](',')[_0x3a801f(0xce)](_0x4f5202=>{const _0x56463b=_0x3a801f,_0x2b96e1=new URL(_0x4f5202['trim']()),_0x5165ec=_0x2b96e1[_0x56463b(0xc9)],_0x3a94af=_0x2b96e1['port']||(_0x2a8b95['GxjMx'](_0x2b96e1[_0x56463b(0xfb)],_0x2a8b95[_0x56463b(0xd5)])?_0x2a8b95['PcOoZ']:'80'),_0x384f70=_0x2b96e1[_0x56463b(0xfb)]['replace'](':',''),_0x5bdaaf=_0x2a8b95[_0x56463b(0xc2)](_0x384f70,_0x2a8b95[_0x56463b(0xf7)])?0x1:0x0;return _0x5165ec+','+_0x3a94af+','+_0x5bdaaf;});},connectCommandBuilder=function(_0x10efa7){const _0x286033=a12_0x22b906,_0x18a986={};_0x18a986['tgdsY']='string';const _0x157714=_0x18a986,_0x4b2c13={};_0x4b2c13[_0x286033(0xc1)]=HELP_MESSAGES['options']['bstackAccessKey'],_0x4b2c13['type']=_0x157714[_0x286033(0xf0)];const _0x442478={};_0x442478[_0x286033(0xc1)]=HELP_MESSAGES[_0x286033(0xe7)]['hosts'],_0x442478[_0x286033(0xcb)]=_0x157714[_0x286033(0xf0)],_0x442478[_0x286033(0xd9)]=!![];const _0x5ca6de={};return _0x5ca6de[_0x286033(0xc0)]=_0x4b2c13,_0x5ca6de[_0x286033(0xde)]=_0x442478,_0x10efa7[_0x286033(0xe7)](_0x5ca6de);},connectCommandHandler=async function(_0x1fe441){const _0x487339=a12_0x22b906,_0x2b1083={'OzBye':_0x487339(0xbe),'SgKfw':function(_0x1be06b,_0x6fee9a){return _0x1be06b===_0x6fee9a;},'tsYQa':_0x487339(0xdf),'uqzvM':_0x487339(0xca),'dzwCD':function(_0x32cc6e,_0x220acb){return _0x32cc6e===_0x220acb;},'JuZVN':_0x487339(0xe1),'peUnn':function(_0x95d7c8,_0x5f3bb6){return _0x95d7c8(_0x5f3bb6);},'YZUgy':_0x487339(0xf9),'GwkOG':_0x487339(0xdb),'vMSYm':_0x487339(0xd1),'CFJah':_0x487339(0xd2)};try{const _0x13a36f=new BrowserStackSetup(_0x1fe441,_0x2b1083['OzBye']);_0x1fe441['bstackAccesskey']&&(_0x13a36f[_0x487339(0xc4)]['accessKey']=_0x1fe441[_0x487339(0xe6)]);if(_0x2b1083['SgKfw'](typeof _0x13a36f[_0x487339(0xc4)][_0x487339(0xf1)],_0x2b1083[_0x487339(0xf6)])){logger['error'](_0x2b1083[_0x487339(0xc7)]);throw new Error(ERROR_MESSAGES['bstackAccessKey']['missing']);}const _0xc1a2cb=_0x1fe441['hosts'];if(_0x2b1083[_0x487339(0xcd)](typeof _0xc1a2cb,_0x2b1083[_0x487339(0xf6)])){logger[_0x487339(0xc5)](_0x2b1083[_0x487339(0xe2)]);throw new Error(ERROR_MESSAGES[_0x487339(0xde)][_0x487339(0xdc)]);}if(!_0x2b1083[_0x487339(0xe0)](validHosts,_0xc1a2cb)){logger['error'](_0x2b1083[_0x487339(0xcf)]);throw new Error(ERROR_MESSAGES['hosts']['invalid']);}const _0x3283f3=_0x2b1083[_0x487339(0xe0)](parseOnPremHosts,_0xc1a2cb);_0x13a36f[_0x487339(0xc4)][_0x487339(0xba)]=!![],_0x13a36f['config'][_0x487339(0x100)][_0x487339(0xe5)]=_0x2b1083['GwkOG'],_0x13a36f[_0x487339(0xc4)][_0x487339(0x100)][_0x487339(0xbb)]=_0x3283f3['join'](','),helper[_0x487339(0xfe)](_0x13a36f[_0x487339(0xc4)]),await _0x13a36f[_0x487339(0xef)](),logger[_0x487339(0xf5)](_0x2b1083[_0x487339(0xfc)]);}catch(_0x38f26b){logger[_0x487339(0xc5)](_0x2b1083[_0x487339(0xbd)]);throw new Error(_0x38f26b['toString']());}};function run(_0x36947b){const _0x486676=a12_0x22b906,_0xe85361={};_0xe85361[_0x486676(0xd6)]=_0x486676(0xbf),_0xe85361[_0x486676(0xea)]=_0x486676(0xff);const _0x3a6994=_0xe85361;_0x36947b[_0x486676(0xe8)](HELP_MESSAGES[_0x486676(0xd3)][_0x486676(0xcc)])[_0x486676(0xd3)](_0x3a6994[_0x486676(0xd6)],HELP_MESSAGES[_0x486676(0xd3)]['connect'],connectCommandBuilder,connectCommandHandler)[_0x486676(0xf8)]()[_0x486676(0xff)](_0x3a6994[_0x486676(0xea)])[_0x486676(0xd7)](HELP_MESSAGES[_0x486676(0xd3)][_0x486676(0xf3)]);}module['exports']=run;