#!/usr/bin/env node
'use strict';const a12_0x4a7cb7=a12_0x5c35;function a12_0x5c35(_0x2c44aa,_0x30df97){const _0x36e465=a12_0x36e4();return a12_0x5c35=function(_0x5c3590,_0x4696c0){_0x5c3590=_0x5c3590-0x114;let _0x585bc6=_0x36e465[_0x5c3590];return _0x585bc6;},a12_0x5c35(_0x2c44aa,_0x30df97);}(function(_0x1590b1,_0x4dac4c){const _0x3730f6=a12_0x5c35,_0x3c80ea=_0x1590b1();while(!![]){try{const _0x161e73=-parseInt(_0x3730f6(0x11a))/0x1+-parseInt(_0x3730f6(0x120))/0x2+-parseInt(_0x3730f6(0x146))/0x3*(-parseInt(_0x3730f6(0x124))/0x4)+parseInt(_0x3730f6(0x114))/0x5*(-parseInt(_0x3730f6(0x144))/0x6)+parseInt(_0x3730f6(0x141))/0x7+parseInt(_0x3730f6(0x148))/0x8+parseInt(_0x3730f6(0x132))/0x9;if(_0x161e73===_0x4dac4c)break;else _0x3c80ea['push'](_0x3c80ea['shift']());}catch(_0x3bf537){_0x3c80ea['push'](_0x3c80ea['shift']());}}}(a12_0x36e4,0x6b75e));function a12_0x36e4(){const _0x1c7c2d=['../../helpers/helper','EpObM','Integration\x20hosts\x20missing.','hostname','integrations-repeater','config','bstackAccesskey','demandOption','../../helpers/logger','undefined','5tvzmLM','exports','epilogue','eLzVi','map','ibpGe','547259GmATjI','HEgPO','string','hosts','missing','options','491354smWRcq','type','info','fkjcE','208696MuUeGP','toString','UcAED','uJunw','trim','help','invalid','protocol','XMuAw','browserstackLocal','WutQR','footer','JLQXd','command','12400740HniHhy','BrowserStack\x20access\x20key\x20missing.','yOCoD','usage','browserStackLocalOptions','describe','https:','url','only','split','winstonLogger','upDVt','every','accessKey','bstackAccessKey','522795CTINGe','demandCommand','port','4515144qPydvm','GxLCl','30oRSEUh','dptZg','90664usUijL','localIdentifier','../../helpers/BrowserStackSetup','XOggb','error','./constants','https','setupBrowserstackLocal','root','443','eeGMD'];a12_0x36e4=function(){return _0x1c7c2d;};return a12_0x36e4();}const {default:BrowserStackSetup}=require(a12_0x4a7cb7(0x14a)),logger=require(a12_0x4a7cb7(0x15b))[a12_0x4a7cb7(0x13c)],{URL}=require(a12_0x4a7cb7(0x139)),helper=require(a12_0x4a7cb7(0x153)),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0x4a7cb7(0x14d)),validHosts=function(_0x2bab8f){const _0x1b83aa=a12_0x4a7cb7;return _0x2bab8f[_0x1b83aa(0x13b)](',')[_0x1b83aa(0x13e)](_0xef92c=>{try{new URL(_0xef92c['trim']());}catch(_0x2e90e7){return![];}return!![];});},parseOnPremHosts=function(_0x4f451a){const _0x38d8de=a12_0x4a7cb7,_0x470847={};_0x470847['ibpGe']=function(_0x1b4869,_0x1416c0){return _0x1b4869===_0x1416c0;},_0x470847[_0x38d8de(0x145)]=_0x38d8de(0x138),_0x470847[_0x38d8de(0x11b)]=_0x38d8de(0x151),_0x470847['UcAED']=_0x38d8de(0x14e);const _0x406c22=_0x470847;return _0x4f451a['split'](',')[_0x38d8de(0x118)](_0x4e408d=>{const _0x408e14=_0x38d8de,_0xf13316=new URL(_0x4e408d[_0x408e14(0x128)]()),_0x17a6a4=_0xf13316[_0x408e14(0x156)],_0x40f10a=_0xf13316[_0x408e14(0x143)]||(_0x406c22[_0x408e14(0x119)](_0xf13316['protocol'],_0x406c22[_0x408e14(0x145)])?_0x406c22[_0x408e14(0x11b)]:'80'),_0x4363b3=_0xf13316[_0x408e14(0x12b)]['replace'](':',''),_0x1e2ef5=_0x406c22[_0x408e14(0x119)](_0x4363b3,_0x406c22[_0x408e14(0x126)])?0x1:0x0;return _0x17a6a4+','+_0x40f10a+','+_0x1e2ef5;});},connectCommandBuilder=function(_0x1a838b){const _0x1efccf=a12_0x4a7cb7,_0x44e887={};_0x44e887[_0x1efccf(0x130)]=_0x1efccf(0x11c);const _0x136866=_0x44e887,_0x1a42d2={};_0x1a42d2[_0x1efccf(0x137)]=HELP_MESSAGES[_0x1efccf(0x11f)]['bstackAccessKey'],_0x1a42d2[_0x1efccf(0x121)]=_0x136866[_0x1efccf(0x130)];const _0x178c85={};_0x178c85[_0x1efccf(0x137)]=HELP_MESSAGES[_0x1efccf(0x11f)][_0x1efccf(0x11d)],_0x178c85[_0x1efccf(0x121)]=_0x136866['JLQXd'],_0x178c85[_0x1efccf(0x15a)]=!![];const _0xde098d={};return _0xde098d['bstack-accesskey']=_0x1a42d2,_0xde098d[_0x1efccf(0x11d)]=_0x178c85,_0x1a838b[_0x1efccf(0x11f)](_0xde098d);},connectCommandHandler=async function(_0x3324f7){const _0x40ccc4=a12_0x4a7cb7,_0x4c83fa={'yOCoD':'integrations','XMuAw':function(_0x466ceb,_0x49e6a8){return _0x466ceb===_0x49e6a8;},'XOggb':_0x40ccc4(0x15c),'fkjcE':_0x40ccc4(0x133),'dptZg':_0x40ccc4(0x155),'upDVt':function(_0x47acdd,_0x41f17a){return _0x47acdd(_0x41f17a);},'uJunw':'Hosts\x20not\x20valid','eLzVi':_0x40ccc4(0x157),'eeGMD':'Connection\x20established\x20successfully.','Erbdg':'Failed\x20to\x20establish\x20connection.'};try{const _0x2bd994=new BrowserStackSetup(_0x3324f7,_0x4c83fa[_0x40ccc4(0x134)]);_0x3324f7[_0x40ccc4(0x159)]&&(_0x2bd994[_0x40ccc4(0x158)]['accessKey']=_0x3324f7[_0x40ccc4(0x159)]);if(_0x4c83fa[_0x40ccc4(0x12c)](typeof _0x2bd994['config'][_0x40ccc4(0x13f)],_0x4c83fa[_0x40ccc4(0x14b)])){logger[_0x40ccc4(0x14c)](_0x4c83fa[_0x40ccc4(0x123)]);throw new Error(ERROR_MESSAGES[_0x40ccc4(0x140)][_0x40ccc4(0x11e)]);}const _0x198d22=_0x3324f7[_0x40ccc4(0x11d)];if(_0x4c83fa[_0x40ccc4(0x12c)](typeof _0x198d22,_0x4c83fa[_0x40ccc4(0x14b)])){logger[_0x40ccc4(0x14c)](_0x4c83fa[_0x40ccc4(0x147)]);throw new Error(ERROR_MESSAGES[_0x40ccc4(0x11d)][_0x40ccc4(0x11e)]);}if(!_0x4c83fa[_0x40ccc4(0x13d)](validHosts,_0x198d22)){logger[_0x40ccc4(0x14c)](_0x4c83fa[_0x40ccc4(0x127)]);throw new Error(ERROR_MESSAGES[_0x40ccc4(0x11d)][_0x40ccc4(0x12a)]);}const _0x5d760e=_0x4c83fa['upDVt'](parseOnPremHosts,_0x198d22);_0x2bd994[_0x40ccc4(0x158)][_0x40ccc4(0x12d)]=!![],_0x2bd994['config'][_0x40ccc4(0x136)][_0x40ccc4(0x149)]=_0x4c83fa[_0x40ccc4(0x117)],_0x2bd994['config'][_0x40ccc4(0x136)][_0x40ccc4(0x13a)]=_0x5d760e['join'](','),helper['setProxySettings'](_0x2bd994[_0x40ccc4(0x158)]),await _0x2bd994[_0x40ccc4(0x14f)](),logger[_0x40ccc4(0x122)](_0x4c83fa[_0x40ccc4(0x152)]);}catch(_0x1d814e){logger['error'](_0x4c83fa['Erbdg']);throw new Error(_0x1d814e[_0x40ccc4(0x125)]());}};function run(_0x7dc80e){const _0x3d32ca=a12_0x4a7cb7,_0x1a2956={};_0x1a2956[_0x3d32ca(0x154)]='connect',_0x1a2956[_0x3d32ca(0x12e)]='help';const _0x5a5501=_0x1a2956;_0x7dc80e[_0x3d32ca(0x135)](HELP_MESSAGES[_0x3d32ca(0x131)][_0x3d32ca(0x150)])[_0x3d32ca(0x131)](_0x5a5501[_0x3d32ca(0x154)],HELP_MESSAGES[_0x3d32ca(0x131)]['connect'],connectCommandBuilder,connectCommandHandler)[_0x3d32ca(0x142)]()[_0x3d32ca(0x129)](_0x5a5501[_0x3d32ca(0x12e)])[_0x3d32ca(0x116)](HELP_MESSAGES[_0x3d32ca(0x131)][_0x3d32ca(0x12f)]);}module[a12_0x4a7cb7(0x115)]=run;