#!/usr/bin/env node
'use strict';const a12_0xff3c6c=a12_0x9764;(function(_0x1f0a81,_0x15a858){const _0x4be4d9=a12_0x9764,_0x4a0a25=_0x1f0a81();while(!![]){try{const _0x1ae0c5=-parseInt(_0x4be4d9(0x1de))/0x1*(parseInt(_0x4be4d9(0x1c2))/0x2)+parseInt(_0x4be4d9(0x1f2))/0x3+parseInt(_0x4be4d9(0x1d8))/0x4+-parseInt(_0x4be4d9(0x1ab))/0x5*(-parseInt(_0x4be4d9(0x1b9))/0x6)+parseInt(_0x4be4d9(0x1f0))/0x7*(parseInt(_0x4be4d9(0x1f1))/0x8)+-parseInt(_0x4be4d9(0x1d6))/0x9*(-parseInt(_0x4be4d9(0x1d9))/0xa)+-parseInt(_0x4be4d9(0x1dc))/0xb;if(_0x1ae0c5===_0x15a858)break;else _0x4a0a25['push'](_0x4a0a25['shift']());}catch(_0x352509){_0x4a0a25['push'](_0x4a0a25['shift']());}}}(a12_0x2d7a,0xc399c));const {default:BrowserStackSetup}=require(a12_0xff3c6c(0x1b1)),logger=require('../../helpers/logger')[a12_0xff3c6c(0x1f4)],{URL}=require('url'),helper=require(a12_0xff3c6c(0x1e1)),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x581bc6){const _0x280576=a12_0xff3c6c;return _0x581bc6['split'](',')[_0x280576(0x1c6)](_0x3da09b=>{const _0x536eac=_0x280576;try{new URL(_0x3da09b[_0x536eac(0x1d2)]());}catch(_0x1bd0a5){return![];}return!![];});},parseOnPremHosts=function(_0x1f01e3){const _0x113682=a12_0xff3c6c,_0x321142={};_0x321142[_0x113682(0x1d1)]=function(_0x10226f,_0x207b65){return _0x10226f===_0x207b65;},_0x321142['fXunV']='https:',_0x321142[_0x113682(0x1b0)]=_0x113682(0x1c1),_0x321142['BGgTF']=function(_0x22f8e0,_0x2a44dc){return _0x22f8e0===_0x2a44dc;},_0x321142[_0x113682(0x1c7)]=_0x113682(0x1dd);const _0x4fde19=_0x321142;return _0x1f01e3[_0x113682(0x1e5)](',')['map'](_0x503367=>{const _0x325b8c=_0x113682,_0x4adc9f=new URL(_0x503367[_0x325b8c(0x1d2)]()),_0x26ea9b=_0x4adc9f['hostname'],_0x15d539=_0x4adc9f[_0x325b8c(0x1da)]||(_0x4fde19['ZopWl'](_0x4adc9f[_0x325b8c(0x1c3)],_0x4fde19[_0x325b8c(0x1ac)])?_0x4fde19[_0x325b8c(0x1b0)]:'80'),_0x54cba9=_0x4adc9f[_0x325b8c(0x1c3)][_0x325b8c(0x1ee)](':',''),_0x2574eb=_0x4fde19[_0x325b8c(0x1e7)](_0x54cba9,_0x4fde19[_0x325b8c(0x1c7)])?0x1:0x0;return _0x26ea9b+','+_0x15d539+','+_0x2574eb;});},connectCommandBuilder=function(_0x2cf020){const _0x477d2b=a12_0xff3c6c,_0x84f4df={};_0x84f4df[_0x477d2b(0x1ed)]='string';const _0xc0c65a=_0x84f4df,_0x1a7d65={};_0x1a7d65[_0x477d2b(0x1f5)]=HELP_MESSAGES[_0x477d2b(0x1d3)][_0x477d2b(0x1b3)],_0x1a7d65[_0x477d2b(0x1d7)]=_0xc0c65a[_0x477d2b(0x1ed)];const _0x14ae1b={};_0x14ae1b['describe']=HELP_MESSAGES[_0x477d2b(0x1d3)][_0x477d2b(0x1e2)],_0x14ae1b[_0x477d2b(0x1d7)]=_0xc0c65a[_0x477d2b(0x1ed)],_0x14ae1b[_0x477d2b(0x1b5)]=!![];const _0x388a47={};return _0x388a47[_0x477d2b(0x1ec)]=_0x1a7d65,_0x388a47[_0x477d2b(0x1e2)]=_0x14ae1b,_0x2cf020[_0x477d2b(0x1d3)](_0x388a47);},connectCommandHandler=async function(_0x313e1b){const _0x7d3e98=a12_0xff3c6c,_0x988de4={'OMvHb':_0x7d3e98(0x1b7),'GvgId':function(_0x240051,_0x520421){return _0x240051===_0x520421;},'PSeZB':_0x7d3e98(0x1c0),'krPEe':_0x7d3e98(0x1ad),'Jjmyv':function(_0x773252,_0xd5fc48){return _0x773252===_0xd5fc48;},'Llhfk':_0x7d3e98(0x1e6),'kqZhX':function(_0x2825a0,_0x32d8e2){return _0x2825a0(_0x32d8e2);},'yLRlt':'Hosts\x20not\x20valid','xMOqB':function(_0x4813a7,_0x421e85){return _0x4813a7(_0x421e85);},'tMoNc':_0x7d3e98(0x1ba),'tgSOx':_0x7d3e98(0x1bf),'tWAZt':_0x7d3e98(0x1b6)};try{const _0x291884=new BrowserStackSetup(_0x313e1b,_0x988de4[_0x7d3e98(0x1ce)]);_0x313e1b['bstackAccesskey']&&(_0x291884['config'][_0x7d3e98(0x1d5)]=_0x313e1b[_0x7d3e98(0x1cd)]);if(_0x988de4[_0x7d3e98(0x1af)](typeof _0x291884[_0x7d3e98(0x1f3)][_0x7d3e98(0x1d5)],_0x988de4[_0x7d3e98(0x1c9)])){logger[_0x7d3e98(0x1b4)](_0x988de4[_0x7d3e98(0x1ea)]);throw new Error(ERROR_MESSAGES['bstackAccessKey'][_0x7d3e98(0x1ae)]);}const _0x171478=_0x313e1b[_0x7d3e98(0x1e2)];if(_0x988de4[_0x7d3e98(0x1d0)](typeof _0x171478,_0x988de4[_0x7d3e98(0x1c9)])){logger[_0x7d3e98(0x1b4)](_0x988de4['Llhfk']);throw new Error(ERROR_MESSAGES[_0x7d3e98(0x1e2)][_0x7d3e98(0x1ae)]);}if(!_0x988de4[_0x7d3e98(0x1c5)](validHosts,_0x171478)){logger[_0x7d3e98(0x1b4)](_0x988de4[_0x7d3e98(0x1bb)]);throw new Error(ERROR_MESSAGES[_0x7d3e98(0x1e2)][_0x7d3e98(0x1ef)]);}const _0x4a44a0=_0x988de4[_0x7d3e98(0x1e9)](parseOnPremHosts,_0x171478);_0x291884[_0x7d3e98(0x1f3)][_0x7d3e98(0x1c8)]=!![],_0x291884['config'][_0x7d3e98(0x1b2)][_0x7d3e98(0x1eb)]=_0x988de4[_0x7d3e98(0x1db)],_0x291884['config']['browserStackLocalOptions'][_0x7d3e98(0x1e4)]=_0x4a44a0[_0x7d3e98(0x1d4)](','),helper['setProxySettings'](_0x291884[_0x7d3e98(0x1f3)]),await _0x291884['setupBrowserstackLocal'](),logger['info'](_0x988de4[_0x7d3e98(0x1e8)]);}catch(_0x26d8ad){logger[_0x7d3e98(0x1b4)](_0x988de4[_0x7d3e98(0x1be)]);throw new Error(_0x26d8ad[_0x7d3e98(0x1e3)]());}};function a12_0x9764(_0x566190,_0x27d666){const _0x2d7acf=a12_0x2d7a();return a12_0x9764=function(_0x976491,_0x201fc4){_0x976491=_0x976491-0x1ab;let _0x570a8a=_0x2d7acf[_0x976491];return _0x570a8a;},a12_0x9764(_0x566190,_0x27d666);}function run(_0x45af64){const _0x4862d2=a12_0xff3c6c,_0x50b3fa={};_0x50b3fa['LWHFQ']='connect',_0x50b3fa[_0x4862d2(0x1bd)]=_0x4862d2(0x1bc);const _0x17a1d6=_0x50b3fa;_0x45af64[_0x4862d2(0x1b8)](HELP_MESSAGES[_0x4862d2(0x1df)][_0x4862d2(0x1ca)])[_0x4862d2(0x1df)](_0x17a1d6['LWHFQ'],HELP_MESSAGES[_0x4862d2(0x1df)][_0x4862d2(0x1c4)],connectCommandBuilder,connectCommandHandler)[_0x4862d2(0x1cc)]()[_0x4862d2(0x1bc)](_0x17a1d6[_0x4862d2(0x1bd)])[_0x4862d2(0x1e0)](HELP_MESSAGES[_0x4862d2(0x1df)][_0x4862d2(0x1cb)]);}function a12_0x2d7a(){const _0x376724=['hosts','toString','only','split','Integration\x20hosts\x20missing.','BGgTF','tgSOx','xMOqB','krPEe','localIdentifier','bstack-accesskey','HuliS','replace','invalid','49cnXYhb','300112pklULk','4427553SNJSlp','config','winstonLogger','describe','1665970MbbEpS','fXunV','BrowserStack\x20access\x20key\x20missing.','missing','GvgId','megBw','../../helpers/BrowserStackSetup','browserStackLocalOptions','bstackAccessKey','error','demandOption','Failed\x20to\x20establish\x20connection.','integrations','usage','24reqIZr','integrations-repeater','yLRlt','help','LJGcL','tWAZt','Connection\x20established\x20successfully.','undefined','443','2tTViAI','protocol','connect','kqZhX','every','qpDXZ','browserstackLocal','PSeZB','root','footer','demandCommand','bstackAccesskey','OMvHb','exports','Jjmyv','ZopWl','trim','options','join','accessKey','9xCthbt','type','521728XuJoVO','10180700chtJcb','port','tMoNc','31628641wPVnGf','https','543216mteeyK','command','epilogue','../../helpers/helper'];a12_0x2d7a=function(){return _0x376724;};return a12_0x2d7a();}module[a12_0xff3c6c(0x1cf)]=run;