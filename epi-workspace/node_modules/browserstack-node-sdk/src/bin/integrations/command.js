#!/usr/bin/env node
'use strict';const a12_0x41e15d=a12_0x41e4;(function(_0x193643,_0x5ee8e0){const _0x1b240b=a12_0x41e4,_0x284d96=_0x193643();while(!![]){try{const _0x1fc7af=-parseInt(_0x1b240b(0x126))/0x1*(parseInt(_0x1b240b(0x149))/0x2)+parseInt(_0x1b240b(0x145))/0x3+parseInt(_0x1b240b(0x129))/0x4+parseInt(_0x1b240b(0x138))/0x5*(-parseInt(_0x1b240b(0x15e))/0x6)+-parseInt(_0x1b240b(0x151))/0x7+-parseInt(_0x1b240b(0x15f))/0x8*(-parseInt(_0x1b240b(0x155))/0x9)+parseInt(_0x1b240b(0x15a))/0xa*(parseInt(_0x1b240b(0x134))/0xb);if(_0x1fc7af===_0x5ee8e0)break;else _0x284d96['push'](_0x284d96['shift']());}catch(_0x5c9725){_0x284d96['push'](_0x284d96['shift']());}}}(a12_0x158f,0xd61c7));function a12_0x41e4(_0x120a84,_0xbedd37){const _0x158ffb=a12_0x158f();return a12_0x41e4=function(_0x41e45e,_0x3a6ac1){_0x41e45e=_0x41e45e-0x126;let _0xe1dd67=_0x158ffb[_0x41e45e];return _0xe1dd67;},a12_0x41e4(_0x120a84,_0xbedd37);}function a12_0x158f(){const _0x370e5e=['setProxySettings','toString','root','WbAmv','help','protocol','every','bstackAccessKey','string','PBprb','3697866JxozOT','kCKLh','EpCQe','nimCK','119778UoUpYK','missing','https','usage','hostname','accessKey','trim','port','10045MsKFqm','Failed\x20to\x20establish\x20connection.','url','browserstackLocal','4914711aTbUrj','config','443','command','integrations-repeater','30nJTjPr','join','bstack-accesskey','demandCommand','65082jcsSdc','8dFDuSm','exports','WiEmL','gOlXc','invalid','integrations','iUsop','error','qjYlw','info','KvDeY','epilogue','23WlwUyZ','bstackAccesskey','QGdhR','1633936rMBiwr','RCZWg','rbDSE','../../helpers/logger','only','Integration\x20hosts\x20missing.','wTwde','browserStackLocalOptions','split','KLyrc','hosts','6655231msePgE','zBOZL','options','Connection\x20established\x20successfully.','805SveDMd','connect','describe'];a12_0x158f=function(){return _0x370e5e;};return a12_0x158f();}const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require(a12_0x41e15d(0x12c))['winstonLogger'],{URL}=require(a12_0x41e15d(0x153)),helper=require('../../helpers/helper'),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x431bf1){const _0x52afeb=a12_0x41e15d;return _0x431bf1[_0x52afeb(0x131)](',')[_0x52afeb(0x141)](_0x477825=>{const _0x750e60=_0x52afeb;try{new URL(_0x477825[_0x750e60(0x14f)]());}catch(_0x402a32){return![];}return!![];});},parseOnPremHosts=function(_0x57e3a9){const _0x63f7ac=a12_0x41e15d,_0x35560d={};_0x35560d['dabVQ']=function(_0x54eab5,_0x1c4544){return _0x54eab5===_0x1c4544;},_0x35560d['KLyrc']='https:',_0x35560d['EpCQe']=_0x63f7ac(0x157),_0x35560d[_0x63f7ac(0x165)]=function(_0x3a06cf,_0x8d21c7){return _0x3a06cf===_0x8d21c7;},_0x35560d[_0x63f7ac(0x13e)]=_0x63f7ac(0x14b);const _0x2846f5=_0x35560d;return _0x57e3a9['split'](',')['map'](_0x23479a=>{const _0x1f4362=_0x63f7ac,_0x398a0e=new URL(_0x23479a[_0x1f4362(0x14f)]()),_0x538a66=_0x398a0e[_0x1f4362(0x14d)],_0x2a1c2c=_0x398a0e[_0x1f4362(0x150)]||(_0x2846f5['dabVQ'](_0x398a0e['protocol'],_0x2846f5[_0x1f4362(0x132)])?_0x2846f5[_0x1f4362(0x147)]:'80'),_0x480542=_0x398a0e[_0x1f4362(0x140)]['replace'](':',''),_0xca5fee=_0x2846f5[_0x1f4362(0x165)](_0x480542,_0x2846f5[_0x1f4362(0x13e)])?0x1:0x0;return _0x538a66+','+_0x2a1c2c+','+_0xca5fee;});},connectCommandBuilder=function(_0x4f0454){const _0x41c4ec=a12_0x41e15d,_0x3c1a76={};_0x3c1a76[_0x41c4ec(0x12f)]=_0x41c4ec(0x143);const _0x3dd0e3=_0x3c1a76,_0x3bb70c={};_0x3bb70c['describe']=HELP_MESSAGES[_0x41c4ec(0x136)][_0x41c4ec(0x142)],_0x3bb70c['type']=_0x3dd0e3['wTwde'];const _0x32b617={};_0x32b617[_0x41c4ec(0x13a)]=HELP_MESSAGES[_0x41c4ec(0x136)]['hosts'],_0x32b617['type']=_0x3dd0e3[_0x41c4ec(0x12f)],_0x32b617['demandOption']=!![];const _0x40d320={};return _0x40d320[_0x41c4ec(0x15c)]=_0x3bb70c,_0x40d320[_0x41c4ec(0x133)]=_0x32b617,_0x4f0454[_0x41c4ec(0x136)](_0x40d320);},connectCommandHandler=async function(_0x1cf0bd){const _0x405fe9=a12_0x41e15d,_0x39d2d3={'rbDSE':_0x405fe9(0x164),'WiEmL':function(_0x354e8a,_0x22691f){return _0x354e8a===_0x22691f;},'gnrhG':'undefined','qjYlw':'BrowserStack\x20access\x20key\x20missing.','xKQVx':_0x405fe9(0x12e),'gOlXc':function(_0x49c5d7,_0x265116){return _0x49c5d7(_0x265116);},'zBOZL':'Hosts\x20not\x20valid','KvDeY':function(_0x5e31bc,_0x494fbe){return _0x5e31bc(_0x494fbe);},'PBprb':_0x405fe9(0x159),'RCZWg':_0x405fe9(0x137),'kCKLh':_0x405fe9(0x152)};try{const _0x1fdcae=new BrowserStackSetup(_0x1cf0bd,_0x39d2d3[_0x405fe9(0x12b)]);_0x1cf0bd[_0x405fe9(0x127)]&&(_0x1fdcae[_0x405fe9(0x156)][_0x405fe9(0x14e)]=_0x1cf0bd[_0x405fe9(0x127)]);if(_0x39d2d3['WiEmL'](typeof _0x1fdcae[_0x405fe9(0x156)][_0x405fe9(0x14e)],_0x39d2d3['gnrhG'])){logger['error'](_0x39d2d3[_0x405fe9(0x167)]);throw new Error(ERROR_MESSAGES[_0x405fe9(0x142)][_0x405fe9(0x14a)]);}const _0x5d0a9d=_0x1cf0bd['hosts'];if(_0x39d2d3[_0x405fe9(0x161)](typeof _0x5d0a9d,_0x39d2d3['gnrhG'])){logger[_0x405fe9(0x166)](_0x39d2d3['xKQVx']);throw new Error(ERROR_MESSAGES[_0x405fe9(0x133)][_0x405fe9(0x14a)]);}if(!_0x39d2d3[_0x405fe9(0x162)](validHosts,_0x5d0a9d)){logger[_0x405fe9(0x166)](_0x39d2d3[_0x405fe9(0x135)]);throw new Error(ERROR_MESSAGES[_0x405fe9(0x133)][_0x405fe9(0x163)]);}const _0x54df20=_0x39d2d3[_0x405fe9(0x169)](parseOnPremHosts,_0x5d0a9d);_0x1fdcae[_0x405fe9(0x156)][_0x405fe9(0x154)]=!![],_0x1fdcae[_0x405fe9(0x156)][_0x405fe9(0x130)]['localIdentifier']=_0x39d2d3[_0x405fe9(0x144)],_0x1fdcae['config'][_0x405fe9(0x130)][_0x405fe9(0x12d)]=_0x54df20[_0x405fe9(0x15b)](','),helper[_0x405fe9(0x13b)](_0x1fdcae[_0x405fe9(0x156)]),await _0x1fdcae['setupBrowserstackLocal'](),logger[_0x405fe9(0x168)](_0x39d2d3[_0x405fe9(0x12a)]);}catch(_0x17a2a6){logger['error'](_0x39d2d3[_0x405fe9(0x146)]);throw new Error(_0x17a2a6[_0x405fe9(0x13c)]());}};function run(_0x390cdd){const _0x1b80d6=a12_0x41e15d,_0x59b739={};_0x59b739['nimCK']='connect',_0x59b739['QGdhR']=_0x1b80d6(0x13f);const _0x373d9f=_0x59b739;_0x390cdd[_0x1b80d6(0x14c)](HELP_MESSAGES['command'][_0x1b80d6(0x13d)])['command'](_0x373d9f[_0x1b80d6(0x148)],HELP_MESSAGES[_0x1b80d6(0x158)][_0x1b80d6(0x139)],connectCommandBuilder,connectCommandHandler)[_0x1b80d6(0x15d)]()['help'](_0x373d9f[_0x1b80d6(0x128)])[_0x1b80d6(0x16a)](HELP_MESSAGES[_0x1b80d6(0x158)]['footer']);}module[a12_0x41e15d(0x160)]=run;