#!/usr/bin/env node
'use strict';function a14_0x44d5(_0x19d05d,_0xe97bf2){const _0x37c7cd=a14_0x37c7();return a14_0x44d5=function(_0x44d57a,_0x2b95a1){_0x44d57a=_0x44d57a-0x182;let _0x190865=_0x37c7cd[_0x44d57a];return _0x190865;},a14_0x44d5(_0x19d05d,_0xe97bf2);}const a14_0x277460=a14_0x44d5;(function(_0x31991c,_0x2b0cac){const _0x5aecf5=a14_0x44d5,_0x4c1dbe=_0x31991c();while(!![]){try{const _0x3e5368=-parseInt(_0x5aecf5(0x1b6))/0x1+parseInt(_0x5aecf5(0x191))/0x2+-parseInt(_0x5aecf5(0x18a))/0x3+-parseInt(_0x5aecf5(0x184))/0x4*(parseInt(_0x5aecf5(0x19b))/0x5)+parseInt(_0x5aecf5(0x1a2))/0x6+parseInt(_0x5aecf5(0x197))/0x7+-parseInt(_0x5aecf5(0x1bd))/0x8*(-parseInt(_0x5aecf5(0x1b3))/0x9);if(_0x3e5368===_0x2b0cac)break;else _0x4c1dbe['push'](_0x4c1dbe['shift']());}catch(_0x4bb2c5){_0x4c1dbe['push'](_0x4c1dbe['shift']());}}}(a14_0x37c7,0x4a046));const {default:BrowserStackSetup}=require(a14_0x277460(0x185)),logger=require(a14_0x277460(0x1be))['winstonLogger'],{URL}=require(a14_0x277460(0x1b8)),helper=require('../../helpers/helper'),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x2782a1){const _0x4b79d7=a14_0x277460;return _0x2782a1[_0x4b79d7(0x1b9)](',')[_0x4b79d7(0x1a0)](_0x1ceddd=>{const _0x1ba745=_0x4b79d7;try{new URL(_0x1ceddd[_0x1ba745(0x1bb)]());}catch(_0xe03f70){return![];}return!![];});},parseOnPremHosts=function(_0x3342de){const _0x30b550=a14_0x277460,_0x1e6864={};_0x1e6864[_0x30b550(0x18b)]=function(_0xb2b00a,_0x239edc){return _0xb2b00a===_0x239edc;},_0x1e6864[_0x30b550(0x19a)]=_0x30b550(0x188),_0x1e6864[_0x30b550(0x1b4)]=_0x30b550(0x1c2),_0x1e6864[_0x30b550(0x186)]='https';const _0x523967=_0x1e6864;return _0x3342de[_0x30b550(0x1b9)](',')[_0x30b550(0x1b1)](_0x37f35c=>{const _0x2ff655=_0x30b550,_0x14bbea=new URL(_0x37f35c[_0x2ff655(0x1bb)]()),_0x3399ae=_0x14bbea['hostname'],_0xb523e8=_0x14bbea[_0x2ff655(0x192)]||(_0x523967[_0x2ff655(0x18b)](_0x14bbea[_0x2ff655(0x1b0)],_0x523967[_0x2ff655(0x19a)])?_0x523967['lEgBI']:'80'),_0x8bb819=_0x14bbea['protocol'][_0x2ff655(0x1ae)](':',''),_0x40fe90=_0x523967[_0x2ff655(0x18b)](_0x8bb819,_0x523967[_0x2ff655(0x186)])?0x1:0x0;return _0x3399ae+','+_0xb523e8+','+_0x40fe90;});},connectCommandBuilder=function(_0x4cff08){const _0x38e337=a14_0x277460,_0x328b14={};_0x328b14['WEjUz']='string';const _0x5795b2=_0x328b14,_0x44b944={};_0x44b944['describe']=HELP_MESSAGES[_0x38e337(0x182)][_0x38e337(0x199)],_0x44b944['type']=_0x5795b2['WEjUz'];const _0xd5f3c0={};_0xd5f3c0['describe']=HELP_MESSAGES[_0x38e337(0x182)][_0x38e337(0x1bc)],_0xd5f3c0[_0x38e337(0x1a9)]=_0x5795b2[_0x38e337(0x1c0)],_0xd5f3c0['demandOption']=!![];const _0x4a8457={};return _0x4a8457[_0x38e337(0x1af)]=_0x44b944,_0x4a8457[_0x38e337(0x1bc)]=_0xd5f3c0,_0x4cff08['options'](_0x4a8457);},connectCommandHandler=async function(_0x12b232){const _0x53dbf8=a14_0x277460,_0x1c93b4={'yxKHZ':_0x53dbf8(0x1b7),'yhEuf':function(_0x6d74d2,_0x371e95){return _0x6d74d2===_0x371e95;},'XFFux':'undefined','yWCvq':'BrowserStack\x20access\x20key\x20missing.','GUJUo':function(_0x529a3c,_0x16e9e2){return _0x529a3c===_0x16e9e2;},'ndOrr':_0x53dbf8(0x183),'XAlnL':function(_0x508632,_0x1b4b54){return _0x508632(_0x1b4b54);},'xHfHa':_0x53dbf8(0x18d),'xHerw':_0x53dbf8(0x19c),'pPwml':'Connection\x20established\x20successfully.','Ydaso':_0x53dbf8(0x1ad)};try{const _0x3edb0b=new BrowserStackSetup(_0x12b232,_0x1c93b4['yxKHZ']);_0x12b232[_0x53dbf8(0x1b5)]&&(_0x3edb0b['config'][_0x53dbf8(0x18c)]=_0x12b232[_0x53dbf8(0x1b5)]);if(_0x1c93b4[_0x53dbf8(0x19e)](typeof _0x3edb0b[_0x53dbf8(0x19d)][_0x53dbf8(0x18c)],_0x1c93b4[_0x53dbf8(0x1c1)])){logger[_0x53dbf8(0x1aa)](_0x1c93b4[_0x53dbf8(0x1a3)]);throw new Error(ERROR_MESSAGES['bstackAccessKey'][_0x53dbf8(0x19f)]);}const _0x2c1904=_0x12b232['hosts'];if(_0x1c93b4['GUJUo'](typeof _0x2c1904,_0x1c93b4[_0x53dbf8(0x1c1)])){logger[_0x53dbf8(0x1aa)](_0x1c93b4[_0x53dbf8(0x1ba)]);throw new Error(ERROR_MESSAGES[_0x53dbf8(0x1bc)][_0x53dbf8(0x19f)]);}if(!_0x1c93b4[_0x53dbf8(0x1a1)](validHosts,_0x2c1904)){logger['error'](_0x1c93b4['xHfHa']);throw new Error(ERROR_MESSAGES[_0x53dbf8(0x1bc)][_0x53dbf8(0x1ac)]);}const _0x161d79=_0x1c93b4[_0x53dbf8(0x1a1)](parseOnPremHosts,_0x2c1904);_0x3edb0b[_0x53dbf8(0x19d)][_0x53dbf8(0x198)]=!![],_0x3edb0b[_0x53dbf8(0x19d)][_0x53dbf8(0x195)][_0x53dbf8(0x193)]=_0x1c93b4[_0x53dbf8(0x18f)],_0x3edb0b[_0x53dbf8(0x19d)][_0x53dbf8(0x195)]['only']=_0x161d79[_0x53dbf8(0x18e)](','),helper[_0x53dbf8(0x1a4)](_0x3edb0b[_0x53dbf8(0x19d)]),await _0x3edb0b['setupBrowserstackLocal'](),logger[_0x53dbf8(0x1a6)](_0x1c93b4[_0x53dbf8(0x1b2)]);}catch(_0x46effe){logger[_0x53dbf8(0x1aa)](_0x1c93b4[_0x53dbf8(0x196)]);throw new Error(_0x46effe[_0x53dbf8(0x1a8)]());}};function run(_0x3eb9b1){const _0x5ed6b0=a14_0x277460,_0xa305={};_0xa305['YBCRP']=_0x5ed6b0(0x1ab),_0xa305[_0x5ed6b0(0x1a5)]=_0x5ed6b0(0x190);const _0x491003=_0xa305;_0x3eb9b1['usage'](HELP_MESSAGES[_0x5ed6b0(0x194)][_0x5ed6b0(0x1bf)])['command'](_0x491003[_0x5ed6b0(0x187)],HELP_MESSAGES[_0x5ed6b0(0x194)][_0x5ed6b0(0x1ab)],connectCommandBuilder,connectCommandHandler)['demandCommand']()[_0x5ed6b0(0x190)](_0x491003[_0x5ed6b0(0x1a5)])[_0x5ed6b0(0x189)](HELP_MESSAGES[_0x5ed6b0(0x194)][_0x5ed6b0(0x1a7)]);}function a14_0x37c7(){const _0x34d17c=['join','xHerw','help','112780NqzSfh','port','localIdentifier','command','browserStackLocalOptions','Ydaso','2924341twMZgY','browserstackLocal','bstackAccessKey','xkAbI','290285nyineM','integrations-repeater','config','yhEuf','missing','every','XAlnL','1440090LQvIly','yWCvq','setProxySettings','Nbcgi','info','footer','toString','type','error','connect','invalid','Failed\x20to\x20establish\x20connection.','replace','bstack-accesskey','protocol','map','pPwml','963ManaOn','lEgBI','bstackAccesskey','595673cZCcZc','integrations','url','split','ndOrr','trim','hosts','62224XFzmSx','../../helpers/logger','root','WEjUz','XFFux','443','options','Integration\x20hosts\x20missing.','28EfhxdX','../../helpers/BrowserStackSetup','ttFPp','YBCRP','https:','epilogue','723504eRsmcY','pmpBu','accessKey','Hosts\x20not\x20valid'];a14_0x37c7=function(){return _0x34d17c;};return a14_0x37c7();}module['exports']=run;