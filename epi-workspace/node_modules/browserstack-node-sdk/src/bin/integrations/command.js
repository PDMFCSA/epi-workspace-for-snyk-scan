#!/usr/bin/env node
'use strict';const a14_0x3cbcc7=a14_0xc576;(function(_0x230d9d,_0x528061){const _0xfce701=a14_0xc576,_0x5b1c96=_0x230d9d();while(!![]){try{const _0x2facce=parseInt(_0xfce701(0x9c))/0x1*(-parseInt(_0xfce701(0xc3))/0x2)+-parseInt(_0xfce701(0x9e))/0x3+-parseInt(_0xfce701(0x8a))/0x4*(parseInt(_0xfce701(0x98))/0x5)+-parseInt(_0xfce701(0x97))/0x6+parseInt(_0xfce701(0xb5))/0x7*(-parseInt(_0xfce701(0x89))/0x8)+parseInt(_0xfce701(0xb1))/0x9+parseInt(_0xfce701(0x82))/0xa;if(_0x2facce===_0x528061)break;else _0x5b1c96['push'](_0x5b1c96['shift']());}catch(_0x1e6cdc){_0x5b1c96['push'](_0x5b1c96['shift']());}}}(a14_0x381d,0x5b45b));function a14_0xc576(_0xe273f3,_0x2291dc){const _0x381dc4=a14_0x381d();return a14_0xc576=function(_0xc576d9,_0x296f0c){_0xc576d9=_0xc576d9-0x7d;let _0x3c2f39=_0x381dc4[_0xc576d9];return _0x3c2f39;},a14_0xc576(_0xe273f3,_0x2291dc);}const {default:BrowserStackSetup}=require(a14_0x3cbcc7(0x9b)),logger=require(a14_0x3cbcc7(0xb7))[a14_0x3cbcc7(0xb3)],{URL}=require(a14_0x3cbcc7(0xa6)),helper=require('../../helpers/helper'),{HELP_MESSAGES,ERROR_MESSAGES}=require(a14_0x3cbcc7(0x86)),validHosts=function(_0x29aab2){const _0x5cc4ec=a14_0x3cbcc7;return _0x29aab2['split'](',')[_0x5cc4ec(0x92)](_0x578546=>{try{new URL(_0x578546['trim']());}catch(_0x471cb5){return![];}return!![];});},parseOnPremHosts=function(_0x486408){const _0x5d37f4=a14_0x3cbcc7,_0x2da1fd={};_0x2da1fd[_0x5d37f4(0xad)]=function(_0x1e2d41,_0x41fdae){return _0x1e2d41===_0x41fdae;},_0x2da1fd[_0x5d37f4(0xa5)]=_0x5d37f4(0xae),_0x2da1fd[_0x5d37f4(0xb2)]=_0x5d37f4(0x7f),_0x2da1fd['gnOGp']=function(_0x58d2f9,_0x518e6a){return _0x58d2f9===_0x518e6a;},_0x2da1fd[_0x5d37f4(0xbc)]=_0x5d37f4(0xa3);const _0x442cdf=_0x2da1fd;return _0x486408[_0x5d37f4(0x91)](',')['map'](_0x5bc380=>{const _0x4195ce=_0x5d37f4,_0x2fbc25=new URL(_0x5bc380['trim']()),_0x587e87=_0x2fbc25[_0x4195ce(0xb0)],_0x4d9e8d=_0x2fbc25[_0x4195ce(0x88)]||(_0x442cdf[_0x4195ce(0xad)](_0x2fbc25['protocol'],_0x442cdf[_0x4195ce(0xa5)])?_0x442cdf[_0x4195ce(0xb2)]:'80'),_0x3a566f=_0x2fbc25[_0x4195ce(0x84)][_0x4195ce(0xa9)](':',''),_0x239fb1=_0x442cdf[_0x4195ce(0x81)](_0x3a566f,_0x442cdf[_0x4195ce(0xbc)])?0x1:0x0;return _0x587e87+','+_0x4d9e8d+','+_0x239fb1;});},connectCommandBuilder=function(_0x51e7b8){const _0x57e15e=a14_0x3cbcc7,_0x4ba8ba={};_0x4ba8ba[_0x57e15e(0x85)]=_0x57e15e(0x9f);const _0x470c38=_0x4ba8ba,_0x42b03={};_0x42b03[_0x57e15e(0x8d)]=HELP_MESSAGES['options'][_0x57e15e(0x8e)],_0x42b03[_0x57e15e(0xa8)]=_0x470c38['kKMFw'];const _0x5f4d00={};_0x5f4d00['describe']=HELP_MESSAGES[_0x57e15e(0xa4)]['hosts'],_0x5f4d00[_0x57e15e(0xa8)]=_0x470c38[_0x57e15e(0x85)],_0x5f4d00[_0x57e15e(0x95)]=!![];const _0x5b3584={};return _0x5b3584[_0x57e15e(0xb8)]=_0x42b03,_0x5b3584[_0x57e15e(0xba)]=_0x5f4d00,_0x51e7b8[_0x57e15e(0xa4)](_0x5b3584);},connectCommandHandler=async function(_0x254619){const _0x520422=a14_0x3cbcc7,_0x1ddfb9={'hQiOr':_0x520422(0x83),'Sooqy':function(_0x21ee31,_0x5750aa){return _0x21ee31===_0x5750aa;},'IZmDO':_0x520422(0xc0),'GuvLD':_0x520422(0x9a),'cYmns':_0x520422(0x80),'QZemM':function(_0x51744c,_0x1283de){return _0x51744c(_0x1283de);},'vCBSp':'Hosts\x20not\x20valid','ljjVp':_0x520422(0x8f),'Zkiwr':_0x520422(0x7d),'MSARn':_0x520422(0x87)};try{const _0x1a3837=new BrowserStackSetup(_0x254619,_0x1ddfb9[_0x520422(0xab)]);_0x254619['bstackAccesskey']&&(_0x1a3837[_0x520422(0xb6)][_0x520422(0xa1)]=_0x254619['bstackAccesskey']);if(_0x1ddfb9[_0x520422(0xc1)](typeof _0x1a3837[_0x520422(0xb6)][_0x520422(0xa1)],_0x1ddfb9['IZmDO'])){logger[_0x520422(0xbb)](_0x1ddfb9[_0x520422(0x93)]);throw new Error(ERROR_MESSAGES['bstackAccessKey']['missing']);}const _0x1620f0=_0x254619[_0x520422(0xba)];if(_0x1ddfb9[_0x520422(0xc1)](typeof _0x1620f0,_0x1ddfb9[_0x520422(0xbe)])){logger['error'](_0x1ddfb9['cYmns']);throw new Error(ERROR_MESSAGES[_0x520422(0xba)][_0x520422(0x99)]);}if(!_0x1ddfb9[_0x520422(0x8c)](validHosts,_0x1620f0)){logger['error'](_0x1ddfb9['vCBSp']);throw new Error(ERROR_MESSAGES['hosts'][_0x520422(0xa2)]);}const _0x1defaa=_0x1ddfb9[_0x520422(0x8c)](parseOnPremHosts,_0x1620f0);_0x1a3837[_0x520422(0xb6)][_0x520422(0x9d)]=!![],_0x1a3837[_0x520422(0xb6)][_0x520422(0xa0)][_0x520422(0xb9)]=_0x1ddfb9['ljjVp'],_0x1a3837[_0x520422(0xb6)][_0x520422(0xa0)][_0x520422(0xaf)]=_0x1defaa[_0x520422(0xc2)](','),helper[_0x520422(0x94)](_0x1a3837[_0x520422(0xb6)]),await _0x1a3837['setupBrowserstackLocal'](),logger['info'](_0x1ddfb9['Zkiwr']);}catch(_0x3e069a){logger[_0x520422(0xbb)](_0x1ddfb9[_0x520422(0xaa)]);throw new Error(_0x3e069a[_0x520422(0x90)]());}};function run(_0x93ac28){const _0x506b41=a14_0x3cbcc7,_0x346fac={};_0x346fac['uIDbN']=_0x506b41(0xa7),_0x346fac['YxSsY']=_0x506b41(0xbf);const _0x157189=_0x346fac;_0x93ac28['usage'](HELP_MESSAGES[_0x506b41(0xb4)][_0x506b41(0x96)])[_0x506b41(0xb4)](_0x157189[_0x506b41(0x7e)],HELP_MESSAGES[_0x506b41(0xb4)][_0x506b41(0xa7)],connectCommandBuilder,connectCommandHandler)[_0x506b41(0xac)]()['help'](_0x157189[_0x506b41(0x8b)])[_0x506b41(0xbd)](HELP_MESSAGES['command']['footer']);}function a14_0x381d(){const _0x458e39=['browserstackLocal','1897173truKyE','string','browserStackLocalOptions','accessKey','invalid','https','options','akvZW','url','connect','type','replace','MSARn','hQiOr','demandCommand','pTiQd','https:','only','hostname','4796658RNaiAO','ZIRrw','winstonLogger','command','37849SFfLyw','config','../../helpers/logger','bstack-accesskey','localIdentifier','hosts','error','KxNCd','epilogue','IZmDO','help','undefined','Sooqy','join','254wxKjjv','exports','Connection\x20established\x20successfully.','uIDbN','443','Integration\x20hosts\x20missing.','gnOGp','28752940QduBVP','integrations','protocol','kKMFw','./constants','Failed\x20to\x20establish\x20connection.','port','920baJTiD','730372GbUOYa','YxSsY','QZemM','describe','bstackAccessKey','integrations-repeater','toString','split','every','GuvLD','setProxySettings','demandOption','root','3128904VzbaUc','15NmZaET','missing','BrowserStack\x20access\x20key\x20missing.','../../helpers/BrowserStackSetup','5598ZRqurk'];a14_0x381d=function(){return _0x458e39;};return a14_0x381d();}module[a14_0x3cbcc7(0xc4)]=run;