#!/usr/bin/env node
'use strict';const a14_0x20f328=a14_0x468e;(function(_0x52ff6a,_0x5ab02e){const _0x509b82=a14_0x468e,_0x8750e4=_0x52ff6a();while(!![]){try{const _0x2dde08=parseInt(_0x509b82(0x11c))/0x1+-parseInt(_0x509b82(0xfa))/0x2+parseInt(_0x509b82(0x139))/0x3+parseInt(_0x509b82(0x130))/0x4+-parseInt(_0x509b82(0xfb))/0x5+parseInt(_0x509b82(0x12e))/0x6+-parseInt(_0x509b82(0x131))/0x7;if(_0x2dde08===_0x5ab02e)break;else _0x8750e4['push'](_0x8750e4['shift']());}catch(_0x441aba){_0x8750e4['push'](_0x8750e4['shift']());}}}(a14_0x7b99,0x446b8));function a14_0x468e(_0x5be2fe,_0x13574f){const _0x7b998b=a14_0x7b99();return a14_0x468e=function(_0x468e8e,_0x3ed3d6){_0x468e8e=_0x468e8e-0xf8;let _0x144ebb=_0x7b998b[_0x468e8e];return _0x144ebb;},a14_0x468e(_0x5be2fe,_0x13574f);}const {default:BrowserStackSetup}=require(a14_0x20f328(0xfd)),logger=require('../../helpers/logger')['winstonLogger'],{URL}=require(a14_0x20f328(0x129)),helper=require(a14_0x20f328(0x121)),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x43a4ff){const _0x5f3d45=a14_0x20f328;return _0x43a4ff[_0x5f3d45(0x125)](',')[_0x5f3d45(0x108)](_0x129d29=>{const _0x45b3d2=_0x5f3d45;try{new URL(_0x129d29[_0x45b3d2(0x10d)]());}catch(_0x4de71c){return![];}return!![];});},parseOnPremHosts=function(_0x5444b6){const _0x4a9995=a14_0x20f328,_0x3c1764={};_0x3c1764[_0x4a9995(0x113)]=function(_0x11af7b,_0x43eb56){return _0x11af7b===_0x43eb56;},_0x3c1764['aSjhE']=_0x4a9995(0xff),_0x3c1764[_0x4a9995(0x111)]=_0x4a9995(0x10c),_0x3c1764[_0x4a9995(0x135)]=function(_0x19a00f,_0x52ed2a){return _0x19a00f===_0x52ed2a;},_0x3c1764[_0x4a9995(0x136)]=_0x4a9995(0xfe);const _0x540761=_0x3c1764;return _0x5444b6[_0x4a9995(0x125)](',')[_0x4a9995(0x105)](_0x39842e=>{const _0xbd45c6=_0x4a9995,_0x12aade=new URL(_0x39842e[_0xbd45c6(0x10d)]()),_0x53cba5=_0x12aade[_0xbd45c6(0x102)],_0x6f1337=_0x12aade[_0xbd45c6(0x11e)]||(_0x540761[_0xbd45c6(0x113)](_0x12aade['protocol'],_0x540761[_0xbd45c6(0x115)])?_0x540761[_0xbd45c6(0x111)]:'80'),_0x595d75=_0x12aade[_0xbd45c6(0x104)][_0xbd45c6(0x138)](':',''),_0x187818=_0x540761[_0xbd45c6(0x135)](_0x595d75,_0x540761[_0xbd45c6(0x136)])?0x1:0x0;return _0x53cba5+','+_0x6f1337+','+_0x187818;});},connectCommandBuilder=function(_0x350311){const _0x4c9882=a14_0x20f328,_0x4e54e1={};_0x4e54e1[_0x4c9882(0x106)]=_0x4c9882(0x116);const _0x13445d=_0x4e54e1,_0x4bc8a8={};_0x4bc8a8[_0x4c9882(0x11a)]=HELP_MESSAGES[_0x4c9882(0x114)]['bstackAccessKey'],_0x4bc8a8[_0x4c9882(0x137)]=_0x13445d['vKNsr'];const _0xb9367b={};_0xb9367b['describe']=HELP_MESSAGES[_0x4c9882(0x114)][_0x4c9882(0x11b)],_0xb9367b[_0x4c9882(0x137)]=_0x13445d['vKNsr'],_0xb9367b[_0x4c9882(0x107)]=!![];const _0x16f6fd={};return _0x16f6fd['bstack-accesskey']=_0x4bc8a8,_0x16f6fd[_0x4c9882(0x11b)]=_0xb9367b,_0x350311['options'](_0x16f6fd);},connectCommandHandler=async function(_0x30c188){const _0x1477b7=a14_0x20f328,_0x4eb410={'UKMCW':_0x1477b7(0x11d),'uNUVB':function(_0x574a42,_0x2177b){return _0x574a42===_0x2177b;},'pgpwH':_0x1477b7(0x11f),'lVBqF':_0x1477b7(0x100),'rKLWb':'Integration\x20hosts\x20missing.','jVMPR':function(_0x6c341a,_0x198262){return _0x6c341a(_0x198262);},'OdDMi':_0x1477b7(0x103),'PLvMg':_0x1477b7(0x133),'DoZaF':_0x1477b7(0x12c),'SIGTB':_0x1477b7(0x10f)};try{const _0x4cb609=new BrowserStackSetup(_0x30c188,_0x4eb410[_0x1477b7(0x10e)]);_0x30c188[_0x1477b7(0x10b)]&&(_0x4cb609[_0x1477b7(0x128)][_0x1477b7(0x122)]=_0x30c188[_0x1477b7(0x10b)]);if(_0x4eb410[_0x1477b7(0x134)](typeof _0x4cb609[_0x1477b7(0x128)]['accessKey'],_0x4eb410[_0x1477b7(0x109)])){logger[_0x1477b7(0x112)](_0x4eb410['lVBqF']);throw new Error(ERROR_MESSAGES['bstackAccessKey']['missing']);}const _0x52eaa0=_0x30c188[_0x1477b7(0x11b)];if(_0x4eb410['uNUVB'](typeof _0x52eaa0,_0x4eb410[_0x1477b7(0x109)])){logger[_0x1477b7(0x112)](_0x4eb410['rKLWb']);throw new Error(ERROR_MESSAGES['hosts']['missing']);}if(!_0x4eb410[_0x1477b7(0x120)](validHosts,_0x52eaa0)){logger[_0x1477b7(0x112)](_0x4eb410[_0x1477b7(0x117)]);throw new Error(ERROR_MESSAGES[_0x1477b7(0x11b)][_0x1477b7(0xf8)]);}const _0x5c9165=_0x4eb410[_0x1477b7(0x120)](parseOnPremHosts,_0x52eaa0);_0x4cb609['config']['browserstackLocal']=!![],_0x4cb609[_0x1477b7(0x128)][_0x1477b7(0x124)][_0x1477b7(0xf9)]=_0x4eb410[_0x1477b7(0x12b)],_0x4cb609[_0x1477b7(0x128)]['browserStackLocalOptions'][_0x1477b7(0x101)]=_0x5c9165[_0x1477b7(0x132)](','),helper[_0x1477b7(0x12a)](_0x4cb609[_0x1477b7(0x128)]),await _0x4cb609[_0x1477b7(0x123)](),logger['info'](_0x4eb410['DoZaF']);}catch(_0x3716e){logger['error'](_0x4eb410[_0x1477b7(0x127)]);throw new Error(_0x3716e[_0x1477b7(0x12f)]());}};function run(_0x1aa662){const _0x247805=a14_0x20f328,_0x17e9da={};_0x17e9da['tFgYw']=_0x247805(0x10a),_0x17e9da[_0x247805(0x126)]=_0x247805(0x118);const _0x1c159c=_0x17e9da;_0x1aa662['usage'](HELP_MESSAGES[_0x247805(0x12d)]['root'])[_0x247805(0x12d)](_0x1c159c['tFgYw'],HELP_MESSAGES[_0x247805(0x12d)][_0x247805(0x10a)],connectCommandBuilder,connectCommandHandler)[_0x247805(0x110)]()[_0x247805(0x118)](_0x1c159c[_0x247805(0x126)])['epilogue'](HELP_MESSAGES[_0x247805(0x12d)][_0x247805(0x119)]);}module[a14_0x20f328(0xfc)]=run;function a14_0x7b99(){const _0x140cc5=['92536SYexmU','1609209cAgIsX','join','integrations-repeater','uNUVB','rNpej','kGDNr','type','replace','1562196yCDIwu','invalid','localIdentifier','234550twFwUh','1677245fmqshT','exports','../../helpers/BrowserStackSetup','https','https:','BrowserStack\x20access\x20key\x20missing.','only','hostname','Hosts\x20not\x20valid','protocol','map','vKNsr','demandOption','every','pgpwH','connect','bstackAccesskey','443','trim','UKMCW','Failed\x20to\x20establish\x20connection.','demandCommand','eRLwF','error','fmQNo','options','aSjhE','string','OdDMi','help','footer','describe','hosts','247768RreBHi','integrations','port','undefined','jVMPR','../../helpers/helper','accessKey','setupBrowserstackLocal','browserStackLocalOptions','split','LXNxC','SIGTB','config','url','setProxySettings','PLvMg','Connection\x20established\x20successfully.','command','1027350glwkym','toString'];a14_0x7b99=function(){return _0x140cc5;};return a14_0x7b99();}