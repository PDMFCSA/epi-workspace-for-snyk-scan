#!/usr/bin/env node
'use strict';const a12_0x211f0b=a12_0x2672;function a12_0x2672(_0x2dd6d5,_0x569b3d){const _0x6f0b2e=a12_0x6f0b();return a12_0x2672=function(_0x267261,_0x11b0fe){_0x267261=_0x267261-0x113;let _0x56bb7c=_0x6f0b2e[_0x267261];return _0x56bb7c;},a12_0x2672(_0x2dd6d5,_0x569b3d);}(function(_0x4b80b4,_0x3fe3e6){const _0x48cb75=a12_0x2672,_0x5e091e=_0x4b80b4();while(!![]){try{const _0x21a854=-parseInt(_0x48cb75(0x13e))/0x1+parseInt(_0x48cb75(0x121))/0x2+-parseInt(_0x48cb75(0x11a))/0x3+parseInt(_0x48cb75(0x119))/0x4*(parseInt(_0x48cb75(0x11e))/0x5)+parseInt(_0x48cb75(0x113))/0x6*(parseInt(_0x48cb75(0x14e))/0x7)+parseInt(_0x48cb75(0x140))/0x8+-parseInt(_0x48cb75(0x133))/0x9;if(_0x21a854===_0x3fe3e6)break;else _0x5e091e['push'](_0x5e091e['shift']());}catch(_0x2bbab0){_0x5e091e['push'](_0x5e091e['shift']());}}}(a12_0x6f0b,0xbb253));function a12_0x6f0b(){const _0xfe3ea9=['fbBhh','bstackAccesskey','bstack-accesskey','https','winstonLogger','exports','setProxySettings','GgClX','14115933bbEcgy','dTxmx','kwXlg','config','error','localIdentifier','replace','hosts','bstackAccessKey','integrations-repeater','usage','617823QWjdHU','../../helpers/helper','10252984sLwqjg','root','map','describe','options','YtXvG','VMrkB','vGJcT','missing','trim','443','command','join','integrations','77CHgSXu','footer','split','NdbLt','every','epilogue','toString','JNDIw','BisXB','undefined','Failed\x20to\x20establish\x20connection.','demandOption','protocol','./constants','394062fkAhTK','browserStackLocalOptions','url','Hosts\x20not\x20valid','txSIa','Connection\x20established\x20successfully.','363104qajsRh','193821dgyByM','MUAAH','UXjJg','info','5nUTLtY','aJurm','setupBrowserstackLocal','1845136uVEEbk','demandCommand','xHPrC','qxqOv','help','DRXHB','connect','BrowserStack\x20access\x20key\x20missing.','port','accessKey'];a12_0x6f0b=function(){return _0xfe3ea9;};return a12_0x6f0b();}const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require('../../helpers/logger')[a12_0x211f0b(0x12f)],{URL}=require(a12_0x211f0b(0x115)),helper=require(a12_0x211f0b(0x13f)),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0x211f0b(0x15b)),validHosts=function(_0x2eef75){const _0x5eb196=a12_0x211f0b;return _0x2eef75[_0x5eb196(0x150)](',')[_0x5eb196(0x152)](_0x5dbeee=>{const _0xf83533=_0x5eb196;try{new URL(_0x5dbeee[_0xf83533(0x149)]());}catch(_0x1e77e4){return![];}return!![];});},parseOnPremHosts=function(_0x47ca9e){const _0x1d544d=a12_0x211f0b,_0x257c4b={};_0x257c4b['MUAAH']=function(_0x50ab3e,_0xc7c547){return _0x50ab3e===_0xc7c547;},_0x257c4b['JNDIw']='https:',_0x257c4b[_0x1d544d(0x135)]=_0x1d544d(0x14a),_0x257c4b[_0x1d544d(0x151)]=function(_0x5e16ad,_0x507ea9){return _0x5e16ad===_0x507ea9;},_0x257c4b['xciyY']=_0x1d544d(0x12e);const _0x185521=_0x257c4b;return _0x47ca9e[_0x1d544d(0x150)](',')[_0x1d544d(0x142)](_0xa1175e=>{const _0x21f596=_0x1d544d,_0x3a0031=new URL(_0xa1175e[_0x21f596(0x149)]()),_0x384e60=_0x3a0031['hostname'],_0xbbd997=_0x3a0031[_0x21f596(0x129)]||(_0x185521[_0x21f596(0x11b)](_0x3a0031[_0x21f596(0x15a)],_0x185521[_0x21f596(0x155)])?_0x185521['kwXlg']:'80'),_0x5d1b26=_0x3a0031['protocol'][_0x21f596(0x139)](':',''),_0x158e75=_0x185521['NdbLt'](_0x5d1b26,_0x185521['xciyY'])?0x1:0x0;return _0x384e60+','+_0xbbd997+','+_0x158e75;});},connectCommandBuilder=function(_0xc201bc){const _0x4e3745=a12_0x211f0b,_0x467f71={};_0x467f71[_0x4e3745(0x147)]='string';const _0x1c47f8=_0x467f71,_0x10bfcb={};_0x10bfcb[_0x4e3745(0x143)]=HELP_MESSAGES['options']['bstackAccessKey'],_0x10bfcb['type']=_0x1c47f8['vGJcT'];const _0x239a81={};_0x239a81['describe']=HELP_MESSAGES['options'][_0x4e3745(0x13a)],_0x239a81['type']=_0x1c47f8[_0x4e3745(0x147)],_0x239a81[_0x4e3745(0x159)]=!![];const _0x581acd={};return _0x581acd[_0x4e3745(0x12d)]=_0x10bfcb,_0x581acd[_0x4e3745(0x13a)]=_0x239a81,_0xc201bc[_0x4e3745(0x144)](_0x581acd);},connectCommandHandler=async function(_0x29408b){const _0x1b7e6a=a12_0x211f0b,_0x27c15e={'UXjJg':_0x1b7e6a(0x14d),'YomND':function(_0x24a4ea,_0x36629f){return _0x24a4ea===_0x36629f;},'DRXHB':_0x1b7e6a(0x157),'NkHqj':_0x1b7e6a(0x128),'xHPrC':function(_0x5bed06,_0x15ab63){return _0x5bed06===_0x15ab63;},'aJurm':'Integration\x20hosts\x20missing.','dTxmx':function(_0x4564fc,_0x2092d3){return _0x4564fc(_0x2092d3);},'BisXB':_0x1b7e6a(0x116),'txSIa':function(_0x39c9d5,_0x75085c){return _0x39c9d5(_0x75085c);},'fbBhh':_0x1b7e6a(0x13c),'qxqOv':_0x1b7e6a(0x118),'YtXvG':_0x1b7e6a(0x158)};try{const _0x837eec=new BrowserStackSetup(_0x29408b,_0x27c15e[_0x1b7e6a(0x11c)]);_0x29408b['bstackAccesskey']&&(_0x837eec[_0x1b7e6a(0x136)][_0x1b7e6a(0x12a)]=_0x29408b[_0x1b7e6a(0x12c)]);if(_0x27c15e['YomND'](typeof _0x837eec['config'][_0x1b7e6a(0x12a)],_0x27c15e[_0x1b7e6a(0x126)])){logger[_0x1b7e6a(0x137)](_0x27c15e['NkHqj']);throw new Error(ERROR_MESSAGES[_0x1b7e6a(0x13b)][_0x1b7e6a(0x148)]);}const _0x4effe0=_0x29408b[_0x1b7e6a(0x13a)];if(_0x27c15e[_0x1b7e6a(0x123)](typeof _0x4effe0,_0x27c15e['DRXHB'])){logger['error'](_0x27c15e[_0x1b7e6a(0x11f)]);throw new Error(ERROR_MESSAGES['hosts'][_0x1b7e6a(0x148)]);}if(!_0x27c15e[_0x1b7e6a(0x134)](validHosts,_0x4effe0)){logger['error'](_0x27c15e[_0x1b7e6a(0x156)]);throw new Error(ERROR_MESSAGES['hosts']['invalid']);}const _0xdd5fe6=_0x27c15e[_0x1b7e6a(0x117)](parseOnPremHosts,_0x4effe0);_0x837eec[_0x1b7e6a(0x136)]['browserstackLocal']=!![],_0x837eec[_0x1b7e6a(0x136)]['browserStackLocalOptions'][_0x1b7e6a(0x138)]=_0x27c15e[_0x1b7e6a(0x12b)],_0x837eec['config'][_0x1b7e6a(0x114)]['only']=_0xdd5fe6[_0x1b7e6a(0x14c)](','),helper[_0x1b7e6a(0x131)](_0x837eec[_0x1b7e6a(0x136)]),await _0x837eec[_0x1b7e6a(0x120)](),logger[_0x1b7e6a(0x11d)](_0x27c15e[_0x1b7e6a(0x124)]);}catch(_0x5ca93a){logger[_0x1b7e6a(0x137)](_0x27c15e[_0x1b7e6a(0x145)]);throw new Error(_0x5ca93a[_0x1b7e6a(0x154)]());}};function run(_0x896c8e){const _0x3f2cc3=a12_0x211f0b,_0x36a414={};_0x36a414[_0x3f2cc3(0x132)]='connect',_0x36a414[_0x3f2cc3(0x146)]='help';const _0x96c5c1=_0x36a414;_0x896c8e[_0x3f2cc3(0x13d)](HELP_MESSAGES['command'][_0x3f2cc3(0x141)])[_0x3f2cc3(0x14b)](_0x96c5c1[_0x3f2cc3(0x132)],HELP_MESSAGES[_0x3f2cc3(0x14b)][_0x3f2cc3(0x127)],connectCommandBuilder,connectCommandHandler)[_0x3f2cc3(0x122)]()[_0x3f2cc3(0x125)](_0x96c5c1[_0x3f2cc3(0x146)])[_0x3f2cc3(0x153)](HELP_MESSAGES['command'][_0x3f2cc3(0x14f)]);}module[a12_0x211f0b(0x130)]=run;