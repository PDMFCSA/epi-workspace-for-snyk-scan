#!/usr/bin/env node
'use strict';const a12_0x358aef=a12_0x17f3;(function(_0x202e4d,_0x18632c){const _0x4106e3=a12_0x17f3,_0x214d9f=_0x202e4d();while(!![]){try{const _0x568c27=-parseInt(_0x4106e3(0x108))/0x1+parseInt(_0x4106e3(0x102))/0x2*(-parseInt(_0x4106e3(0x104))/0x3)+-parseInt(_0x4106e3(0x107))/0x4+parseInt(_0x4106e3(0x124))/0x5*(parseInt(_0x4106e3(0xf4))/0x6)+-parseInt(_0x4106e3(0xf8))/0x7+parseInt(_0x4106e3(0x11f))/0x8+parseInt(_0x4106e3(0xf3))/0x9*(parseInt(_0x4106e3(0xe7))/0xa);if(_0x568c27===_0x18632c)break;else _0x214d9f['push'](_0x214d9f['shift']());}catch(_0x289f9c){_0x214d9f['push'](_0x214d9f['shift']());}}}(a12_0x5851,0xb0ec9));const {default:BrowserStackSetup}=require(a12_0x358aef(0x10a)),logger=require(a12_0x358aef(0xfb))[a12_0x358aef(0xfd)],{URL}=require('url'),helper=require(a12_0x358aef(0x112)),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x1e71c2){const _0x160187=a12_0x358aef;return _0x1e71c2['split'](',')[_0x160187(0x122)](_0x5a2f90=>{const _0x4f3a74=_0x160187;try{new URL(_0x5a2f90[_0x4f3a74(0xe1)]());}catch(_0x23bcb8){return![];}return!![];});},parseOnPremHosts=function(_0x5368a1){const _0x4eb4b1=a12_0x358aef,_0x2e4017={};_0x2e4017['IUzms']=function(_0xc2dbf6,_0x58a889){return _0xc2dbf6===_0x58a889;},_0x2e4017[_0x4eb4b1(0xfc)]='https:',_0x2e4017[_0x4eb4b1(0x11c)]=_0x4eb4b1(0xee),_0x2e4017[_0x4eb4b1(0xe3)]=_0x4eb4b1(0x106);const _0x5bae1a=_0x2e4017;return _0x5368a1[_0x4eb4b1(0x119)](',')[_0x4eb4b1(0xef)](_0x47e789=>{const _0xa15a6f=_0x4eb4b1,_0x1e25bb=new URL(_0x47e789[_0xa15a6f(0xe1)]()),_0x581773=_0x1e25bb[_0xa15a6f(0xf9)],_0x2eaba9=_0x1e25bb[_0xa15a6f(0x116)]||(_0x5bae1a[_0xa15a6f(0xf5)](_0x1e25bb['protocol'],_0x5bae1a[_0xa15a6f(0xfc)])?_0x5bae1a[_0xa15a6f(0x11c)]:'80'),_0x3f906d=_0x1e25bb[_0xa15a6f(0xe8)][_0xa15a6f(0x125)](':',''),_0x1e3a42=_0x5bae1a[_0xa15a6f(0xf5)](_0x3f906d,_0x5bae1a['rkkIp'])?0x1:0x0;return _0x581773+','+_0x2eaba9+','+_0x1e3a42;});},connectCommandBuilder=function(_0xf5ee37){const _0x3407b6=a12_0x358aef,_0x19e22f={};_0x19e22f[_0x3407b6(0xe6)]=_0x3407b6(0xf1);const _0x156010=_0x19e22f,_0x4cfd98={};_0x4cfd98[_0x3407b6(0x10e)]=HELP_MESSAGES[_0x3407b6(0x118)][_0x3407b6(0xe9)],_0x4cfd98[_0x3407b6(0x105)]=_0x156010[_0x3407b6(0xe6)];const _0x3df3f6={};_0x3df3f6[_0x3407b6(0x10e)]=HELP_MESSAGES[_0x3407b6(0x118)][_0x3407b6(0x126)],_0x3df3f6[_0x3407b6(0x105)]=_0x156010[_0x3407b6(0xe6)],_0x3df3f6['demandOption']=!![];const _0x40b156={};return _0x40b156[_0x3407b6(0x103)]=_0x4cfd98,_0x40b156[_0x3407b6(0x126)]=_0x3df3f6,_0xf5ee37[_0x3407b6(0x118)](_0x40b156);},connectCommandHandler=async function(_0x100061){const _0x4054e1=a12_0x358aef,_0x1716fb={'JBlfi':_0x4054e1(0x117),'NdqET':function(_0x115338,_0x3110a4){return _0x115338===_0x3110a4;},'lXAwJ':'undefined','xYfuk':'BrowserStack\x20access\x20key\x20missing.','nSIGU':function(_0x389316,_0x530984){return _0x389316===_0x530984;},'tOecr':'Integration\x20hosts\x20missing.','UNvwM':function(_0x225671,_0xd47f51){return _0x225671(_0xd47f51);},'AKmGE':_0x4054e1(0xf0),'RcqFu':function(_0x1da360,_0x323cb3){return _0x1da360(_0x323cb3);},'AnJoj':_0x4054e1(0xf2),'ABqQf':_0x4054e1(0xeb),'ZBBsd':_0x4054e1(0x10c)};try{const _0x1946a2=new BrowserStackSetup(_0x100061,_0x1716fb['JBlfi']);_0x100061[_0x4054e1(0x101)]&&(_0x1946a2[_0x4054e1(0x10d)]['accessKey']=_0x100061[_0x4054e1(0x101)]);if(_0x1716fb[_0x4054e1(0x120)](typeof _0x1946a2[_0x4054e1(0x10d)][_0x4054e1(0x121)],_0x1716fb[_0x4054e1(0x115)])){logger[_0x4054e1(0x114)](_0x1716fb['xYfuk']);throw new Error(ERROR_MESSAGES[_0x4054e1(0xe9)][_0x4054e1(0x11b)]);}const _0x121508=_0x100061['hosts'];if(_0x1716fb['nSIGU'](typeof _0x121508,_0x1716fb[_0x4054e1(0x115)])){logger[_0x4054e1(0x114)](_0x1716fb[_0x4054e1(0xea)]);throw new Error(ERROR_MESSAGES[_0x4054e1(0x126)][_0x4054e1(0x11b)]);}if(!_0x1716fb[_0x4054e1(0xfe)](validHosts,_0x121508)){logger['error'](_0x1716fb[_0x4054e1(0x11e)]);throw new Error(ERROR_MESSAGES['hosts']['invalid']);}const _0x2e8058=_0x1716fb[_0x4054e1(0xf7)](parseOnPremHosts,_0x121508);_0x1946a2['config'][_0x4054e1(0x100)]=!![],_0x1946a2['config'][_0x4054e1(0xf6)][_0x4054e1(0xe0)]=_0x1716fb['AnJoj'],_0x1946a2[_0x4054e1(0x10d)]['browserStackLocalOptions'][_0x4054e1(0xe5)]=_0x2e8058[_0x4054e1(0x123)](','),helper[_0x4054e1(0xed)](_0x1946a2[_0x4054e1(0x10d)]),await _0x1946a2[_0x4054e1(0x10b)](),logger['info'](_0x1716fb[_0x4054e1(0xe4)]);}catch(_0x3d7da7){logger[_0x4054e1(0x114)](_0x1716fb[_0x4054e1(0xfa)]);throw new Error(_0x3d7da7['toString']());}};function run(_0x4888be){const _0x4e8fd7=a12_0x358aef,_0x141a2b={};_0x141a2b[_0x4e8fd7(0x110)]='connect',_0x141a2b['RuCOq']='help';const _0x4388e2=_0x141a2b;_0x4888be[_0x4e8fd7(0x11a)](HELP_MESSAGES[_0x4e8fd7(0xec)][_0x4e8fd7(0x11d)])[_0x4e8fd7(0xec)](_0x4388e2[_0x4e8fd7(0x110)],HELP_MESSAGES[_0x4e8fd7(0xec)][_0x4e8fd7(0xe2)],connectCommandBuilder,connectCommandHandler)[_0x4e8fd7(0x10f)]()[_0x4e8fd7(0x111)](_0x4388e2['RuCOq'])[_0x4e8fd7(0x109)](HELP_MESSAGES[_0x4e8fd7(0xec)][_0x4e8fd7(0xff)]);}function a12_0x17f3(_0x576d95,_0x350d5d){const _0x5851cf=a12_0x5851();return a12_0x17f3=function(_0x17f33d,_0x49c731){_0x17f33d=_0x17f33d-0xe0;let _0x458374=_0x5851cf[_0x17f33d];return _0x458374;},a12_0x17f3(_0x576d95,_0x350d5d);}function a12_0x5851(){const _0x33dd8e=['ZBBsd','../../helpers/logger','LVcis','winstonLogger','UNvwM','footer','browserstackLocal','bstackAccesskey','1150634JcsMvm','bstack-accesskey','3BqOmvA','type','https','1207096YUgoYQ','279621WxAKKk','epilogue','../../helpers/BrowserStackSetup','setupBrowserstackLocal','Failed\x20to\x20establish\x20connection.','config','describe','demandCommand','XJSaV','help','../../helpers/helper','exports','error','lXAwJ','port','integrations','options','split','usage','missing','tbcaO','root','AKmGE','200128DKnvfl','NdqET','accessKey','every','join','3032155jBITqd','replace','hosts','localIdentifier','trim','connect','rkkIp','ABqQf','only','HXecI','95860wIrOer','protocol','bstackAccessKey','tOecr','Connection\x20established\x20successfully.','command','setProxySettings','443','map','Hosts\x20not\x20valid','string','integrations-repeater','1413UbESpa','12NoIVEk','IUzms','browserStackLocalOptions','RcqFu','6030409JRqGjf','hostname'];a12_0x5851=function(){return _0x33dd8e;};return a12_0x5851();}module[a12_0x358aef(0x113)]=run;