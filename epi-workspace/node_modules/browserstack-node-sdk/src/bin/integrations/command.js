#!/usr/bin/env node
'use strict';function a12_0x3461(_0x33f99d,_0x4cf6b1){const _0x18c9df=a12_0x18c9();return a12_0x3461=function(_0x346170,_0x1f0ea9){_0x346170=_0x346170-0x190;let _0x4a2927=_0x18c9df[_0x346170];return _0x4a2927;},a12_0x3461(_0x33f99d,_0x4cf6b1);}const a12_0x449511=a12_0x3461;function a12_0x18c9(){const _0x3e1155=['url','128WXnNuD','6CKiyuy','umOcw','undefined','Failed\x20to\x20establish\x20connection.','help','UAaEl','epilogue','1898990vKHKVU','BrowserStack\x20access\x20key\x20missing.','split','https:','Hosts\x20not\x20valid','443','SEfnE','usage','demandCommand','hosts','4612718PNnqKp','replace','bstackAccesskey','vkOGv','toString','16vwHkgR','hHKJH','Integration\x20hosts\x20missing.','port','options','map','https','jRvaT','error','command','3137lttAuz','PaEnl','only','bstack-accesskey','connect','missing','protocol','type','describe','browserStackLocalOptions','72nhWMFP','winstonLogger','invalid','setupBrowserstackLocal','iFcIL','Connection\x20established\x20successfully.','91251GqwORA','localIdentifier','config','integrations','string','RrCbo','EPZZj','../../helpers/logger','info','footer','exports','HwpLX','40VMJgIm','JKaIM','integrations-repeater','10nTAueZ','trim','2551523SkOVsj','wCxqZ','fBJMK','13742667HJkgmk','root','every','ddihc','./constants','browserstackLocal','680302UHjEdH'];a12_0x18c9=function(){return _0x3e1155;};return a12_0x18c9();}(function(_0x157f22,_0xdf419f){const _0x27b93b=a12_0x3461,_0x27f578=_0x157f22();while(!![]){try{const _0x43f4d3=-parseInt(_0x27b93b(0x1a9))/0x1*(parseInt(_0x27b93b(0x1c5))/0x2)+-parseInt(_0x27b93b(0x1b9))/0x3*(-parseInt(_0x27b93b(0x1d5))/0x4)+-parseInt(_0x27b93b(0x190))/0x5*(parseInt(_0x27b93b(0x1d6))/0x6)+-parseInt(_0x27b93b(0x1d3))/0x7*(-parseInt(_0x27b93b(0x19f))/0x8)+-parseInt(_0x27b93b(0x1cd))/0x9+-parseInt(_0x27b93b(0x1c8))/0xa*(-parseInt(_0x27b93b(0x19a))/0xb)+parseInt(_0x27b93b(0x1b3))/0xc*(parseInt(_0x27b93b(0x1ca))/0xd);if(_0x43f4d3===_0xdf419f)break;else _0x27f578['push'](_0x27f578['shift']());}catch(_0x223845){_0x27f578['push'](_0x27f578['shift']());}}}(a12_0x18c9,0xc222b));const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require(a12_0x449511(0x1c0))[a12_0x449511(0x1b4)],{URL}=require(a12_0x449511(0x1d4)),helper=require('../../helpers/helper'),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0x449511(0x1d1)),validHosts=function(_0x370839){const _0x27875a=a12_0x449511;return _0x370839[_0x27875a(0x192)](',')[_0x27875a(0x1cf)](_0x50695e=>{try{new URL(_0x50695e['trim']());}catch(_0x2dadb5){return![];}return!![];});},parseOnPremHosts=function(_0x3f5e2b){const _0x37f54d=a12_0x449511,_0x3bc407={};_0x3bc407['iFcIL']=function(_0x2d8629,_0x13e9ff){return _0x2d8629===_0x13e9ff;},_0x3bc407[_0x37f54d(0x1aa)]=_0x37f54d(0x193),_0x3bc407[_0x37f54d(0x1a6)]=_0x37f54d(0x195),_0x3bc407['UAaEl']=function(_0x2c5c15,_0x271cdd){return _0x2c5c15===_0x271cdd;},_0x3bc407[_0x37f54d(0x1d7)]=_0x37f54d(0x1a5);const _0x3fb46a=_0x3bc407;return _0x3f5e2b[_0x37f54d(0x192)](',')[_0x37f54d(0x1a4)](_0x483906=>{const _0x43f75e=_0x37f54d,_0x176910=new URL(_0x483906[_0x43f75e(0x1c9)]()),_0x4d89c4=_0x176910['hostname'],_0x425770=_0x176910[_0x43f75e(0x1a2)]||(_0x3fb46a[_0x43f75e(0x1b7)](_0x176910[_0x43f75e(0x1af)],_0x3fb46a[_0x43f75e(0x1aa)])?_0x3fb46a[_0x43f75e(0x1a6)]:'80'),_0x5c3a69=_0x176910[_0x43f75e(0x1af)][_0x43f75e(0x19b)](':',''),_0x4b3f35=_0x3fb46a[_0x43f75e(0x1db)](_0x5c3a69,_0x3fb46a[_0x43f75e(0x1d7)])?0x1:0x0;return _0x4d89c4+','+_0x425770+','+_0x4b3f35;});},connectCommandBuilder=function(_0x4f30b8){const _0x35b236=a12_0x449511,_0x49f707={};_0x49f707['kOCDb']=_0x35b236(0x1bd);const _0x1555e6=_0x49f707,_0x2e7fcb={};_0x2e7fcb[_0x35b236(0x1b1)]=HELP_MESSAGES['options']['bstackAccessKey'],_0x2e7fcb[_0x35b236(0x1b0)]=_0x1555e6['kOCDb'];const _0x4d814b={};_0x4d814b[_0x35b236(0x1b1)]=HELP_MESSAGES[_0x35b236(0x1a3)]['hosts'],_0x4d814b['type']=_0x1555e6['kOCDb'],_0x4d814b['demandOption']=!![];const _0x4c3d28={};return _0x4c3d28[_0x35b236(0x1ac)]=_0x2e7fcb,_0x4c3d28[_0x35b236(0x199)]=_0x4d814b,_0x4f30b8[_0x35b236(0x1a3)](_0x4c3d28);},connectCommandHandler=async function(_0x47c8c1){const _0x5cbeb1=a12_0x449511,_0xfca8c9={'JKaIM':_0x5cbeb1(0x1bc),'RrCbo':function(_0x490cce,_0x93ef2a){return _0x490cce===_0x93ef2a;},'wCxqZ':_0x5cbeb1(0x1d8),'lcPiY':_0x5cbeb1(0x191),'hHKJH':_0x5cbeb1(0x1a1),'EPZZj':function(_0x198eaf,_0x371040){return _0x198eaf(_0x371040);},'pCwHr':_0x5cbeb1(0x194),'JeDoK':function(_0xd81e39,_0x29f09a){return _0xd81e39(_0x29f09a);},'HwpLX':_0x5cbeb1(0x1c7),'vkOGv':_0x5cbeb1(0x1b8),'SEfnE':_0x5cbeb1(0x1d9)};try{const _0x152dfe=new BrowserStackSetup(_0x47c8c1,_0xfca8c9[_0x5cbeb1(0x1c6)]);_0x47c8c1[_0x5cbeb1(0x19c)]&&(_0x152dfe[_0x5cbeb1(0x1bb)]['accessKey']=_0x47c8c1[_0x5cbeb1(0x19c)]);if(_0xfca8c9[_0x5cbeb1(0x1be)](typeof _0x152dfe['config']['accessKey'],_0xfca8c9[_0x5cbeb1(0x1cb)])){logger[_0x5cbeb1(0x1a7)](_0xfca8c9['lcPiY']);throw new Error(ERROR_MESSAGES['bstackAccessKey'][_0x5cbeb1(0x1ae)]);}const _0x3aa7e0=_0x47c8c1[_0x5cbeb1(0x199)];if(_0xfca8c9[_0x5cbeb1(0x1be)](typeof _0x3aa7e0,_0xfca8c9[_0x5cbeb1(0x1cb)])){logger[_0x5cbeb1(0x1a7)](_0xfca8c9[_0x5cbeb1(0x1a0)]);throw new Error(ERROR_MESSAGES[_0x5cbeb1(0x199)][_0x5cbeb1(0x1ae)]);}if(!_0xfca8c9[_0x5cbeb1(0x1bf)](validHosts,_0x3aa7e0)){logger['error'](_0xfca8c9['pCwHr']);throw new Error(ERROR_MESSAGES['hosts'][_0x5cbeb1(0x1b5)]);}const _0x544574=_0xfca8c9['JeDoK'](parseOnPremHosts,_0x3aa7e0);_0x152dfe[_0x5cbeb1(0x1bb)][_0x5cbeb1(0x1d2)]=!![],_0x152dfe[_0x5cbeb1(0x1bb)]['browserStackLocalOptions'][_0x5cbeb1(0x1ba)]=_0xfca8c9[_0x5cbeb1(0x1c4)],_0x152dfe[_0x5cbeb1(0x1bb)][_0x5cbeb1(0x1b2)][_0x5cbeb1(0x1ab)]=_0x544574['join'](','),helper['setProxySettings'](_0x152dfe[_0x5cbeb1(0x1bb)]),await _0x152dfe[_0x5cbeb1(0x1b6)](),logger[_0x5cbeb1(0x1c1)](_0xfca8c9[_0x5cbeb1(0x19d)]);}catch(_0x210615){logger[_0x5cbeb1(0x1a7)](_0xfca8c9[_0x5cbeb1(0x196)]);throw new Error(_0x210615[_0x5cbeb1(0x19e)]());}};function run(_0xa3efb3){const _0x5a83e9=a12_0x449511,_0x25d7ed={};_0x25d7ed[_0x5a83e9(0x1cc)]=_0x5a83e9(0x1ad),_0x25d7ed[_0x5a83e9(0x1d0)]=_0x5a83e9(0x1da);const _0x40b0ca=_0x25d7ed;_0xa3efb3[_0x5a83e9(0x197)](HELP_MESSAGES[_0x5a83e9(0x1a8)][_0x5a83e9(0x1ce)])[_0x5a83e9(0x1a8)](_0x40b0ca['fBJMK'],HELP_MESSAGES[_0x5a83e9(0x1a8)]['connect'],connectCommandBuilder,connectCommandHandler)[_0x5a83e9(0x198)]()[_0x5a83e9(0x1da)](_0x40b0ca[_0x5a83e9(0x1d0)])[_0x5a83e9(0x1dc)](HELP_MESSAGES[_0x5a83e9(0x1a8)][_0x5a83e9(0x1c2)]);}module[a12_0x449511(0x1c3)]=run;