#!/usr/bin/env node
'use strict';const a12_0x11d808=a12_0x192f;(function(_0x35136b,_0x1780f6){const _0x397b4a=a12_0x192f,_0x1f344d=_0x35136b();while(!![]){try{const _0x388690=parseInt(_0x397b4a(0x1f7))/0x1*(-parseInt(_0x397b4a(0x20a))/0x2)+-parseInt(_0x397b4a(0x22c))/0x3+-parseInt(_0x397b4a(0x211))/0x4*(parseInt(_0x397b4a(0x1f5))/0x5)+parseInt(_0x397b4a(0x1fe))/0x6*(parseInt(_0x397b4a(0x223))/0x7)+parseInt(_0x397b4a(0x1fd))/0x8+parseInt(_0x397b4a(0x229))/0x9+parseInt(_0x397b4a(0x210))/0xa*(-parseInt(_0x397b4a(0x1f3))/0xb);if(_0x388690===_0x1780f6)break;else _0x1f344d['push'](_0x1f344d['shift']());}catch(_0x57cfeb){_0x1f344d['push'](_0x1f344d['shift']());}}}(a12_0x3fd6,0x81034));function a12_0x192f(_0x27b615,_0xe83311){const _0x3fd64d=a12_0x3fd6();return a12_0x192f=function(_0x192f1a,_0x1cd46e){_0x192f1a=_0x192f1a-0x1f1;let _0x172e59=_0x3fd64d[_0x192f1a];return _0x172e59;},a12_0x192f(_0x27b615,_0xe83311);}const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require('../../helpers/logger')[a12_0x11d808(0x22e)],{URL}=require('url'),helper=require('../../helpers/helper'),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x28da4d){const _0x4e666d=a12_0x11d808;return _0x28da4d[_0x4e666d(0x222)](',')[_0x4e666d(0x215)](_0x2ab22a=>{const _0x1ffb8e=_0x4e666d;try{new URL(_0x2ab22a[_0x1ffb8e(0x234)]());}catch(_0x1acdd1){return![];}return!![];});},parseOnPremHosts=function(_0x560464){const _0x33ffb9=a12_0x11d808,_0xd9792c={};_0xd9792c[_0x33ffb9(0x204)]=function(_0xf601be,_0x3a4b6e){return _0xf601be===_0x3a4b6e;},_0xd9792c[_0x33ffb9(0x21f)]='https:',_0xd9792c[_0x33ffb9(0x228)]=_0x33ffb9(0x233),_0xd9792c[_0x33ffb9(0x1ff)]=function(_0x181ce6,_0x59c976){return _0x181ce6===_0x59c976;},_0xd9792c[_0x33ffb9(0x22d)]=_0x33ffb9(0x219);const _0x1a73b0=_0xd9792c;return _0x560464['split'](',')[_0x33ffb9(0x218)](_0x441396=>{const _0x519b4b=_0x33ffb9,_0x1c1b2f=new URL(_0x441396[_0x519b4b(0x234)]()),_0x2b14be=_0x1c1b2f['hostname'],_0x518f9e=_0x1c1b2f[_0x519b4b(0x20d)]||(_0x1a73b0[_0x519b4b(0x204)](_0x1c1b2f[_0x519b4b(0x207)],_0x1a73b0[_0x519b4b(0x21f)])?_0x1a73b0['gLEmh']:'80'),_0x11d6fb=_0x1c1b2f[_0x519b4b(0x207)][_0x519b4b(0x217)](':',''),_0x23367f=_0x1a73b0['vVMlp'](_0x11d6fb,_0x1a73b0[_0x519b4b(0x22d)])?0x1:0x0;return _0x2b14be+','+_0x518f9e+','+_0x23367f;});},connectCommandBuilder=function(_0x1b2137){const _0xd24e70=a12_0x11d808,_0x1766d5={};_0x1766d5[_0xd24e70(0x206)]='string';const _0x1ca737=_0x1766d5,_0x501b5a={};_0x501b5a[_0xd24e70(0x216)]=HELP_MESSAGES[_0xd24e70(0x230)][_0xd24e70(0x221)],_0x501b5a['type']=_0x1ca737[_0xd24e70(0x206)];const _0xcc911f={};_0xcc911f[_0xd24e70(0x216)]=HELP_MESSAGES[_0xd24e70(0x230)][_0xd24e70(0x224)],_0xcc911f[_0xd24e70(0x20e)]=_0x1ca737[_0xd24e70(0x206)],_0xcc911f[_0xd24e70(0x213)]=!![];const _0x3ac895={};return _0x3ac895[_0xd24e70(0x1fc)]=_0x501b5a,_0x3ac895[_0xd24e70(0x224)]=_0xcc911f,_0x1b2137[_0xd24e70(0x230)](_0x3ac895);},connectCommandHandler=async function(_0x5712b0){const _0x29b175=a12_0x11d808,_0x55620={'TJcLf':'integrations','dpNHT':function(_0xe9ecd7,_0x240062){return _0xe9ecd7===_0x240062;},'eThBj':'undefined','FWCWr':_0x29b175(0x21a),'wBPQM':function(_0x25f650,_0x4be323){return _0x25f650===_0x4be323;},'ffgsM':_0x29b175(0x21b),'ppKJy':function(_0x56e895,_0x22f720){return _0x56e895(_0x22f720);},'foGRj':'Hosts\x20not\x20valid','ahgjX':function(_0x233abc,_0x46c221){return _0x233abc(_0x46c221);},'CXAPM':_0x29b175(0x225),'xkRGt':'Connection\x20established\x20successfully.','pLMAJ':_0x29b175(0x1f8)};try{const _0x366b03=new BrowserStackSetup(_0x5712b0,_0x55620[_0x29b175(0x21c)]);_0x5712b0[_0x29b175(0x1fa)]&&(_0x366b03[_0x29b175(0x1f1)][_0x29b175(0x208)]=_0x5712b0['bstackAccesskey']);if(_0x55620['dpNHT'](typeof _0x366b03[_0x29b175(0x1f1)]['accessKey'],_0x55620[_0x29b175(0x226)])){logger[_0x29b175(0x21e)](_0x55620[_0x29b175(0x214)]);throw new Error(ERROR_MESSAGES[_0x29b175(0x221)][_0x29b175(0x212)]);}const _0x42bf6d=_0x5712b0[_0x29b175(0x224)];if(_0x55620[_0x29b175(0x201)](typeof _0x42bf6d,_0x55620[_0x29b175(0x226)])){logger[_0x29b175(0x21e)](_0x55620[_0x29b175(0x235)]);throw new Error(ERROR_MESSAGES[_0x29b175(0x224)]['missing']);}if(!_0x55620['ppKJy'](validHosts,_0x42bf6d)){logger[_0x29b175(0x21e)](_0x55620[_0x29b175(0x203)]);throw new Error(ERROR_MESSAGES[_0x29b175(0x224)][_0x29b175(0x20f)]);}const _0x445fd9=_0x55620[_0x29b175(0x21d)](parseOnPremHosts,_0x42bf6d);_0x366b03[_0x29b175(0x1f1)][_0x29b175(0x1fb)]=!![],_0x366b03[_0x29b175(0x1f1)]['browserStackLocalOptions']['localIdentifier']=_0x55620[_0x29b175(0x1f2)],_0x366b03['config'][_0x29b175(0x220)][_0x29b175(0x22f)]=_0x445fd9[_0x29b175(0x209)](','),helper[_0x29b175(0x200)](_0x366b03[_0x29b175(0x1f1)]),await _0x366b03['setupBrowserstackLocal'](),logger[_0x29b175(0x232)](_0x55620['xkRGt']);}catch(_0x51b7e3){logger[_0x29b175(0x21e)](_0x55620[_0x29b175(0x227)]);throw new Error(_0x51b7e3[_0x29b175(0x20c)]());}};function a12_0x3fd6(){const _0x3b408a=['pLMAJ','gLEmh','3584448dRsFoR','root','footer','95109RfyMus','JqdLA','winstonLogger','only','options','help','info','443','trim','ffgsM','config','CXAPM','968FZRczU','hrVUT','10HoncAj','yMIEt','141JVCmDN','Failed\x20to\x20establish\x20connection.','epilogue','bstackAccesskey','browserstackLocal','bstack-accesskey','5907224fBmEvV','149064fcSMeu','vVMlp','setProxySettings','wBPQM','command','foGRj','rLiBB','connect','cQgSi','protocol','accessKey','join','9824IGdrhf','exports','toString','port','type','invalid','23710ydzpOa','443728MPUOcd','missing','demandOption','FWCWr','every','describe','replace','map','https','BrowserStack\x20access\x20key\x20missing.','Integration\x20hosts\x20missing.','TJcLf','ahgjX','error','jYoZZ','browserStackLocalOptions','bstackAccessKey','split','154zjMkzK','hosts','integrations-repeater','eThBj'];a12_0x3fd6=function(){return _0x3b408a;};return a12_0x3fd6();}function run(_0x1f92de){const _0x407a18=a12_0x11d808,_0x6bf47f={};_0x6bf47f[_0x407a18(0x1f4)]=_0x407a18(0x205),_0x6bf47f['yMIEt']='help';const _0x1a7cdb=_0x6bf47f;_0x1f92de['usage'](HELP_MESSAGES[_0x407a18(0x202)][_0x407a18(0x22a)])['command'](_0x1a7cdb[_0x407a18(0x1f4)],HELP_MESSAGES[_0x407a18(0x202)][_0x407a18(0x205)],connectCommandBuilder,connectCommandHandler)['demandCommand']()[_0x407a18(0x231)](_0x1a7cdb[_0x407a18(0x1f6)])[_0x407a18(0x1f9)](HELP_MESSAGES[_0x407a18(0x202)][_0x407a18(0x22b)]);}module[a12_0x11d808(0x20b)]=run;