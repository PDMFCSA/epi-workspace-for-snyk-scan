#!/usr/bin/env node
'use strict';const a12_0x2841e9=a12_0x332e;function a12_0x332e(_0x525c7b,_0x5e69e3){const _0x2dd6b2=a12_0x2dd6();return a12_0x332e=function(_0x332e4e,_0x553ca3){_0x332e4e=_0x332e4e-0x151;let _0x30101e=_0x2dd6b2[_0x332e4e];return _0x30101e;},a12_0x332e(_0x525c7b,_0x5e69e3);}(function(_0x1631f8,_0x46fc01){const _0x408f77=a12_0x332e,_0x11d658=_0x1631f8();while(!![]){try{const _0x171b7a=parseInt(_0x408f77(0x154))/0x1+-parseInt(_0x408f77(0x18e))/0x2+-parseInt(_0x408f77(0x161))/0x3+-parseInt(_0x408f77(0x189))/0x4+parseInt(_0x408f77(0x187))/0x5+parseInt(_0x408f77(0x173))/0x6+-parseInt(_0x408f77(0x185))/0x7*(-parseInt(_0x408f77(0x17d))/0x8);if(_0x171b7a===_0x46fc01)break;else _0x11d658['push'](_0x11d658['shift']());}catch(_0x4c19cc){_0x11d658['push'](_0x11d658['shift']());}}}(a12_0x2dd6,0x26673));const {default:BrowserStackSetup}=require(a12_0x2841e9(0x15c)),logger=require(a12_0x2841e9(0x188))[a12_0x2841e9(0x182)],{URL}=require('url'),helper=require(a12_0x2841e9(0x169)),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0x2841e9(0x199)),validHosts=function(_0x1410e3){const _0x2119fd=a12_0x2841e9;return _0x1410e3['split'](',')[_0x2119fd(0x19a)](_0x3d1834=>{try{new URL(_0x3d1834['trim']());}catch(_0x48cd64){return![];}return!![];});},parseOnPremHosts=function(_0x1300e4){const _0x54e92a=a12_0x2841e9,_0x1981ac={};_0x1981ac[_0x54e92a(0x17a)]=function(_0xc3f61,_0x2cedfc){return _0xc3f61===_0x2cedfc;},_0x1981ac[_0x54e92a(0x153)]='https:',_0x1981ac[_0x54e92a(0x174)]=_0x54e92a(0x151),_0x1981ac['HRPvK']=function(_0x3243fb,_0x330c90){return _0x3243fb===_0x330c90;},_0x1981ac[_0x54e92a(0x18a)]=_0x54e92a(0x176);const _0xdfb76=_0x1981ac;return _0x1300e4[_0x54e92a(0x15e)](',')[_0x54e92a(0x177)](_0x45f8c2=>{const _0x55e4ac=_0x54e92a,_0x69b9a9=new URL(_0x45f8c2[_0x55e4ac(0x18b)]()),_0x57a8b0=_0x69b9a9[_0x55e4ac(0x15d)],_0x3acde0=_0x69b9a9[_0x55e4ac(0x172)]||(_0xdfb76['vVjiX'](_0x69b9a9[_0x55e4ac(0x17b)],_0xdfb76['rXXhG'])?_0xdfb76[_0x55e4ac(0x174)]:'80'),_0x496d27=_0x69b9a9[_0x55e4ac(0x17b)][_0x55e4ac(0x197)](':',''),_0x4413cf=_0xdfb76[_0x55e4ac(0x159)](_0x496d27,_0xdfb76[_0x55e4ac(0x18a)])?0x1:0x0;return _0x57a8b0+','+_0x3acde0+','+_0x4413cf;});},connectCommandBuilder=function(_0x4095c0){const _0x150b97=a12_0x2841e9,_0x3d7d2e={};_0x3d7d2e[_0x150b97(0x17c)]=_0x150b97(0x195);const _0x4d2a7f=_0x3d7d2e,_0x14f351={};_0x14f351[_0x150b97(0x163)]=HELP_MESSAGES[_0x150b97(0x16a)][_0x150b97(0x15f)],_0x14f351[_0x150b97(0x198)]=_0x4d2a7f[_0x150b97(0x17c)];const _0xae85c8={};_0xae85c8[_0x150b97(0x163)]=HELP_MESSAGES[_0x150b97(0x16a)]['hosts'],_0xae85c8['type']=_0x4d2a7f[_0x150b97(0x17c)],_0xae85c8[_0x150b97(0x15b)]=!![];const _0x1118ed={};return _0x1118ed['bstack-accesskey']=_0x14f351,_0x1118ed['hosts']=_0xae85c8,_0x4095c0[_0x150b97(0x16a)](_0x1118ed);},connectCommandHandler=async function(_0x1f3242){const _0x203baf=a12_0x2841e9,_0x54626d={'ApjPV':_0x203baf(0x164),'GOohc':function(_0x54c3a9,_0x2b0a7f){return _0x54c3a9===_0x2b0a7f;},'VQLfP':'undefined','QpanE':_0x203baf(0x166),'xBoNc':function(_0xd4d200,_0x869bf0){return _0xd4d200===_0x869bf0;},'ysKfp':_0x203baf(0x17e),'qIPnP':function(_0x1ad794,_0xbabe13){return _0x1ad794(_0xbabe13);},'wDMWu':_0x203baf(0x18c),'GJSly':function(_0xf12fe5,_0x52a9a1){return _0xf12fe5(_0x52a9a1);},'LWwMg':_0x203baf(0x16f),'dsyml':_0x203baf(0x158),'NrkRQ':'Failed\x20to\x20establish\x20connection.'};try{const _0x1d4b4b=new BrowserStackSetup(_0x1f3242,_0x54626d[_0x203baf(0x155)]);_0x1f3242['bstackAccesskey']&&(_0x1d4b4b[_0x203baf(0x170)]['accessKey']=_0x1f3242[_0x203baf(0x165)]);if(_0x54626d['GOohc'](typeof _0x1d4b4b[_0x203baf(0x170)][_0x203baf(0x16d)],_0x54626d[_0x203baf(0x162)])){logger[_0x203baf(0x186)](_0x54626d[_0x203baf(0x193)]);throw new Error(ERROR_MESSAGES['bstackAccessKey'][_0x203baf(0x168)]);}const _0x243a17=_0x1f3242[_0x203baf(0x15a)];if(_0x54626d[_0x203baf(0x16b)](typeof _0x243a17,_0x54626d[_0x203baf(0x162)])){logger['error'](_0x54626d[_0x203baf(0x167)]);throw new Error(ERROR_MESSAGES[_0x203baf(0x15a)][_0x203baf(0x168)]);}if(!_0x54626d[_0x203baf(0x184)](validHosts,_0x243a17)){logger['error'](_0x54626d[_0x203baf(0x180)]);throw new Error(ERROR_MESSAGES['hosts']['invalid']);}const _0x304a2d=_0x54626d['GJSly'](parseOnPremHosts,_0x243a17);_0x1d4b4b[_0x203baf(0x170)]['browserstackLocal']=!![],_0x1d4b4b[_0x203baf(0x170)][_0x203baf(0x17f)]['localIdentifier']=_0x54626d[_0x203baf(0x152)],_0x1d4b4b['config']['browserStackLocalOptions']['only']=_0x304a2d[_0x203baf(0x192)](','),helper[_0x203baf(0x157)](_0x1d4b4b[_0x203baf(0x170)]),await _0x1d4b4b[_0x203baf(0x181)](),logger[_0x203baf(0x18d)](_0x54626d[_0x203baf(0x160)]);}catch(_0x29d068){logger['error'](_0x54626d[_0x203baf(0x179)]);throw new Error(_0x29d068[_0x203baf(0x171)]());}};function run(_0x3830a7){const _0xa1fe33=a12_0x2841e9,_0x4c0c98={};_0x4c0c98[_0xa1fe33(0x183)]='connect',_0x4c0c98[_0xa1fe33(0x16c)]=_0xa1fe33(0x175);const _0x3fd2de=_0x4c0c98;_0x3830a7[_0xa1fe33(0x178)](HELP_MESSAGES[_0xa1fe33(0x156)][_0xa1fe33(0x190)])[_0xa1fe33(0x156)](_0x3fd2de['vRVGV'],HELP_MESSAGES[_0xa1fe33(0x156)][_0xa1fe33(0x194)],connectCommandBuilder,connectCommandHandler)[_0xa1fe33(0x16e)]()[_0xa1fe33(0x175)](_0x3fd2de[_0xa1fe33(0x16c)])[_0xa1fe33(0x196)](HELP_MESSAGES['command'][_0xa1fe33(0x18f)]);}function a12_0x2dd6(){const _0x4cd05f=['ysKfp','missing','../../helpers/helper','options','xBoNc','FTThL','accessKey','demandCommand','integrations-repeater','config','toString','port','548976jUabMv','neIFl','help','https','map','usage','NrkRQ','vVjiX','protocol','IcjKn','248vilJpJ','Integration\x20hosts\x20missing.','browserStackLocalOptions','wDMWu','setupBrowserstackLocal','winstonLogger','vRVGV','qIPnP','103075LDbbuP','error','1054525NykjJL','../../helpers/logger','1079552UyDxBQ','PRCfn','trim','Hosts\x20not\x20valid','info','192044MhKWSh','footer','root','exports','join','QpanE','connect','string','epilogue','replace','type','./constants','every','443','LWwMg','rXXhG','58232ZQpjOZ','ApjPV','command','setProxySettings','Connection\x20established\x20successfully.','HRPvK','hosts','demandOption','../../helpers/BrowserStackSetup','hostname','split','bstackAccessKey','dsyml','881697lhFGdu','VQLfP','describe','integrations','bstackAccesskey','BrowserStack\x20access\x20key\x20missing.'];a12_0x2dd6=function(){return _0x4cd05f;};return a12_0x2dd6();}module[a12_0x2841e9(0x191)]=run;