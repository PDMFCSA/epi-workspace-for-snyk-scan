#!/usr/bin/env node
'use strict';const a14_0x560b6e=a14_0x341c;(function(_0x887445,_0x253c3a){const _0x497845=a14_0x341c,_0x2e160f=_0x887445();while(!![]){try{const _0x136e5c=-parseInt(_0x497845(0x1a1))/0x1*(parseInt(_0x497845(0x1c4))/0x2)+parseInt(_0x497845(0x1c8))/0x3*(parseInt(_0x497845(0x1b2))/0x4)+parseInt(_0x497845(0x1a6))/0x5*(-parseInt(_0x497845(0x1ab))/0x6)+parseInt(_0x497845(0x1df))/0x7*(parseInt(_0x497845(0x1c0))/0x8)+-parseInt(_0x497845(0x198))/0x9+parseInt(_0x497845(0x19f))/0xa+-parseInt(_0x497845(0x1d8))/0xb*(-parseInt(_0x497845(0x1c6))/0xc);if(_0x136e5c===_0x253c3a)break;else _0x2e160f['push'](_0x2e160f['shift']());}catch(_0x32b238){_0x2e160f['push'](_0x2e160f['shift']());}}}(a14_0x2fbb,0x7520c));function a14_0x341c(_0x6fdc6a,_0x25dbd8){const _0x2fbbf9=a14_0x2fbb();return a14_0x341c=function(_0x341ce3,_0x102e1e){_0x341ce3=_0x341ce3-0x196;let _0x157f88=_0x2fbbf9[_0x341ce3];return _0x157f88;},a14_0x341c(_0x6fdc6a,_0x25dbd8);}const {default:BrowserStackSetup}=require(a14_0x560b6e(0x1d7)),logger=require(a14_0x560b6e(0x199))['winstonLogger'],{URL}=require(a14_0x560b6e(0x1bf)),helper=require(a14_0x560b6e(0x1ac)),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0xd4bc26){const _0x3a3ea2=a14_0x560b6e;return _0xd4bc26['split'](',')[_0x3a3ea2(0x1c9)](_0x37928c=>{const _0x27de0f=_0x3a3ea2;try{new URL(_0x37928c[_0x27de0f(0x1cd)]());}catch(_0x5e9a99){return![];}return!![];});},parseOnPremHosts=function(_0x51ec61){const _0x399a5d=a14_0x560b6e,_0x265eb4={};_0x265eb4[_0x399a5d(0x1c2)]=function(_0x64e766,_0x349275){return _0x64e766===_0x349275;},_0x265eb4[_0x399a5d(0x1dc)]='https:',_0x265eb4['MmUOm']=_0x399a5d(0x1d2),_0x265eb4[_0x399a5d(0x1d0)]=function(_0x55598a,_0x2eda71){return _0x55598a===_0x2eda71;},_0x265eb4[_0x399a5d(0x1a3)]=_0x399a5d(0x19d);const _0x293c8e=_0x265eb4;return _0x51ec61[_0x399a5d(0x1e2)](',')['map'](_0x668a42=>{const _0x31795f=_0x399a5d,_0x2d0f11=new URL(_0x668a42[_0x31795f(0x1cd)]()),_0x352eb9=_0x2d0f11[_0x31795f(0x1d9)],_0x556757=_0x2d0f11['port']||(_0x293c8e[_0x31795f(0x1c2)](_0x2d0f11[_0x31795f(0x19b)],_0x293c8e[_0x31795f(0x1dc)])?_0x293c8e['MmUOm']:'80'),_0x5d581f=_0x2d0f11[_0x31795f(0x19b)][_0x31795f(0x1d1)](':',''),_0x2ce229=_0x293c8e[_0x31795f(0x1d0)](_0x5d581f,_0x293c8e[_0x31795f(0x1a3)])?0x1:0x0;return _0x352eb9+','+_0x556757+','+_0x2ce229;});},connectCommandBuilder=function(_0x14b8be){const _0x33eb4c=a14_0x560b6e,_0x50102e={};_0x50102e[_0x33eb4c(0x1d3)]='string';const _0x21bb72=_0x50102e,_0x200d6d={};_0x200d6d['describe']=HELP_MESSAGES['options'][_0x33eb4c(0x19e)],_0x200d6d[_0x33eb4c(0x1b0)]=_0x21bb72[_0x33eb4c(0x1d3)];const _0x5a5066={};_0x5a5066[_0x33eb4c(0x196)]=HELP_MESSAGES[_0x33eb4c(0x1aa)]['hosts'],_0x5a5066[_0x33eb4c(0x1b0)]=_0x21bb72[_0x33eb4c(0x1d3)],_0x5a5066[_0x33eb4c(0x1da)]=!![];const _0x7e0112={};return _0x7e0112[_0x33eb4c(0x19a)]=_0x200d6d,_0x7e0112['hosts']=_0x5a5066,_0x14b8be[_0x33eb4c(0x1aa)](_0x7e0112);},connectCommandHandler=async function(_0x3abdfa){const _0x1b0a11=a14_0x560b6e,_0x15b223={'xUzfO':_0x1b0a11(0x1e1),'FtGht':function(_0x38e284,_0x5e3907){return _0x38e284===_0x5e3907;},'eFCwE':_0x1b0a11(0x1c7),'Sefmy':_0x1b0a11(0x1dd),'lbSkR':_0x1b0a11(0x1bb),'ZzoFS':function(_0x5112aa,_0x1a0606){return _0x5112aa(_0x1a0606);},'BQtDh':_0x1b0a11(0x1ba),'xLiUg':'integrations-repeater','aSBPI':_0x1b0a11(0x1ca),'geobD':_0x1b0a11(0x1b1)};try{const _0x26f7b7=new BrowserStackSetup(_0x3abdfa,_0x15b223[_0x1b0a11(0x1ce)]);_0x3abdfa[_0x1b0a11(0x1cf)]&&(_0x26f7b7['config']['accessKey']=_0x3abdfa[_0x1b0a11(0x1cf)]);if(_0x15b223['FtGht'](typeof _0x26f7b7[_0x1b0a11(0x1e3)][_0x1b0a11(0x1a5)],_0x15b223[_0x1b0a11(0x1c1)])){logger[_0x1b0a11(0x1db)](_0x15b223[_0x1b0a11(0x1b3)]);throw new Error(ERROR_MESSAGES['bstackAccessKey'][_0x1b0a11(0x1d6)]);}const _0x156189=_0x3abdfa['hosts'];if(_0x15b223[_0x1b0a11(0x19c)](typeof _0x156189,_0x15b223['eFCwE'])){logger[_0x1b0a11(0x1db)](_0x15b223[_0x1b0a11(0x1d5)]);throw new Error(ERROR_MESSAGES[_0x1b0a11(0x1a2)]['missing']);}if(!_0x15b223[_0x1b0a11(0x1b5)](validHosts,_0x156189)){logger['error'](_0x15b223[_0x1b0a11(0x1ae)]);throw new Error(ERROR_MESSAGES['hosts'][_0x1b0a11(0x1be)]);}const _0x328ead=_0x15b223[_0x1b0a11(0x1b5)](parseOnPremHosts,_0x156189);_0x26f7b7[_0x1b0a11(0x1e3)][_0x1b0a11(0x197)]=!![],_0x26f7b7[_0x1b0a11(0x1e3)][_0x1b0a11(0x1c3)][_0x1b0a11(0x1b7)]=_0x15b223[_0x1b0a11(0x1b4)],_0x26f7b7[_0x1b0a11(0x1e3)][_0x1b0a11(0x1c3)][_0x1b0a11(0x1a9)]=_0x328ead[_0x1b0a11(0x1b6)](','),helper[_0x1b0a11(0x1e0)](_0x26f7b7[_0x1b0a11(0x1e3)]),await _0x26f7b7['setupBrowserstackLocal'](),logger[_0x1b0a11(0x1af)](_0x15b223[_0x1b0a11(0x1b9)]);}catch(_0x236235){logger[_0x1b0a11(0x1db)](_0x15b223[_0x1b0a11(0x1a8)]);throw new Error(_0x236235[_0x1b0a11(0x1ad)]());}};function a14_0x2fbb(){const _0x35d648=['demandOption','error','TSVpA','BrowserStack\x20access\x20key\x20missing.','command','7qlvcRB','setProxySettings','integrations','split','config','describe','browserstackLocal','6993378XdqQIo','../../helpers/logger','bstack-accesskey','protocol','FtGht','https','bstackAccessKey','9506130wzqmlD','epilogue','477GdWxAm','hosts','qPHVW','root','accessKey','59080RsuXne','help','geobD','only','options','438jFymdE','../../helpers/helper','toString','BQtDh','info','type','Failed\x20to\x20establish\x20connection.','16oZFMRe','Sefmy','xLiUg','ZzoFS','join','localIdentifier','exports','aSBPI','Hosts\x20not\x20valid','Integration\x20hosts\x20missing.','demandCommand','SNtfg','invalid','url','4929032EdxVtb','eFCwE','RfraS','browserStackLocalOptions','2766EBpSQk','footer','12LYCGpo','undefined','183111tkghJU','every','Connection\x20established\x20successfully.','usage','connect','trim','xUzfO','bstackAccesskey','ZPiBO','replace','443','fupfv','Pmwbc','lbSkR','missing','../../helpers/BrowserStackSetup','10649837cvYurj','hostname'];a14_0x2fbb=function(){return _0x35d648;};return a14_0x2fbb();}function run(_0x3517a5){const _0x1cf26d=a14_0x560b6e,_0x249c24={};_0x249c24['SNtfg']='connect',_0x249c24[_0x1cf26d(0x1d4)]='help';const _0x56b99d=_0x249c24;_0x3517a5[_0x1cf26d(0x1cb)](HELP_MESSAGES[_0x1cf26d(0x1de)][_0x1cf26d(0x1a4)])[_0x1cf26d(0x1de)](_0x56b99d[_0x1cf26d(0x1bd)],HELP_MESSAGES['command'][_0x1cf26d(0x1cc)],connectCommandBuilder,connectCommandHandler)[_0x1cf26d(0x1bc)]()[_0x1cf26d(0x1a7)](_0x56b99d['Pmwbc'])[_0x1cf26d(0x1a0)](HELP_MESSAGES['command'][_0x1cf26d(0x1c5)]);}module[a14_0x560b6e(0x1b8)]=run;