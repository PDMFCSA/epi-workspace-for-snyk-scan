#!/usr/bin/env node
'use strict';function a12_0x43a6(){const _0x303814=['2815270FWSBJd','options','GcbGj','replace','bstackAccessKey','443','djBJo','eDOtv','accessKey','invalid','103168WKwyAO','CZomX','connect','type','58fWQbcs','demandOption','lzLjd','VJCxd','../../helpers/logger','split','SdUkR','describe','hdVXx','missing','128OaEdVQ','Hvvnl','2614213jPPCHt','https','integrations','MwPsJ','Hosts\x20not\x20valid','1325892PwEGrn','Failed\x20to\x20establish\x20connection.','localIdentifier','usage','53076kIbXXk','command','77RUnysG','toString','root','hosts','Integration\x20hosts\x20missing.','integrations-repeater','exports','423URMXlD','bMasf','every','footer','BRVSB','setProxySettings','protocol','config','help','https:','info','setupBrowserstackLocal','12FHFPTr','port','Connection\x20established\x20successfully.','tLdSo','1681hvsUDw','browserStackLocalOptions','4295370wGrNxT','winstonLogger','string','trim','error','demandCommand','join','hzkcD'];a12_0x43a6=function(){return _0x303814;};return a12_0x43a6();}const a12_0xb2d536=a12_0x2c3d;(function(_0x36666a,_0x2b4f1f){const _0x44ac78=a12_0x2c3d,_0x35923a=_0x36666a();while(!![]){try{const _0x2f4585=parseInt(_0x44ac78(0x13d))/0x1*(-parseInt(_0x44ac78(0x155))/0x2)+parseInt(_0x44ac78(0x124))/0x3*(-parseInt(_0x44ac78(0x15f))/0x4)+parseInt(_0x44ac78(0x147))/0x5+-parseInt(_0x44ac78(0x139))/0x6*(-parseInt(_0x44ac78(0x161))/0x7)+-parseInt(_0x44ac78(0x151))/0x8*(parseInt(_0x44ac78(0x12d))/0x9)+-parseInt(_0x44ac78(0x13f))/0xa+-parseInt(_0x44ac78(0x126))/0xb*(-parseInt(_0x44ac78(0x166))/0xc);if(_0x2f4585===_0x2b4f1f)break;else _0x35923a['push'](_0x35923a['shift']());}catch(_0x196e8b){_0x35923a['push'](_0x35923a['shift']());}}}(a12_0x43a6,0x69ae3));const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require(a12_0xb2d536(0x159))[a12_0xb2d536(0x140)],{URL}=require('url'),helper=require('../../helpers/helper'),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x9c9673){const _0x591198=a12_0xb2d536;return _0x9c9673[_0x591198(0x15a)](',')[_0x591198(0x12f)](_0x47dac2=>{const _0x2c3514=_0x591198;try{new URL(_0x47dac2[_0x2c3514(0x142)]());}catch(_0x5047ae){return![];}return!![];});},parseOnPremHosts=function(_0x1a2d40){const _0x4fa3de=a12_0xb2d536,_0x325da5={};_0x325da5['hdVXx']=function(_0x11c039,_0x382540){return _0x11c039===_0x382540;},_0x325da5['lzLjd']=_0x4fa3de(0x136),_0x325da5['XFBDo']=_0x4fa3de(0x14c),_0x325da5['AiLka']=function(_0x483f2a,_0x4caa83){return _0x483f2a===_0x4caa83;},_0x325da5[_0x4fa3de(0x14e)]=_0x4fa3de(0x162);const _0x53ae04=_0x325da5;return _0x1a2d40[_0x4fa3de(0x15a)](',')['map'](_0x2d2002=>{const _0x553458=_0x4fa3de,_0x12c5f6=new URL(_0x2d2002[_0x553458(0x142)]()),_0x55f5f5=_0x12c5f6['hostname'],_0xe6caa7=_0x12c5f6[_0x553458(0x13a)]||(_0x53ae04[_0x553458(0x15d)](_0x12c5f6['protocol'],_0x53ae04[_0x553458(0x157)])?_0x53ae04['XFBDo']:'80'),_0x5585e1=_0x12c5f6[_0x553458(0x133)][_0x553458(0x14a)](':',''),_0x3c5d24=_0x53ae04['AiLka'](_0x5585e1,_0x53ae04[_0x553458(0x14e)])?0x1:0x0;return _0x55f5f5+','+_0xe6caa7+','+_0x3c5d24;});},connectCommandBuilder=function(_0x5e6f2d){const _0x44a179=a12_0xb2d536,_0x236a2a={};_0x236a2a['tLdSo']=_0x44a179(0x141);const _0x57c306=_0x236a2a,_0x39b917={};_0x39b917[_0x44a179(0x15c)]=HELP_MESSAGES['options'][_0x44a179(0x14b)],_0x39b917[_0x44a179(0x154)]=_0x57c306['tLdSo'];const _0x2fd601={};_0x2fd601[_0x44a179(0x15c)]=HELP_MESSAGES[_0x44a179(0x148)]['hosts'],_0x2fd601[_0x44a179(0x154)]=_0x57c306[_0x44a179(0x13c)],_0x2fd601[_0x44a179(0x156)]=!![];const _0x2c0460={};return _0x2c0460['bstack-accesskey']=_0x39b917,_0x2c0460[_0x44a179(0x129)]=_0x2fd601,_0x5e6f2d['options'](_0x2c0460);},connectCommandHandler=async function(_0x46b367){const _0x451359=a12_0xb2d536,_0x525a58={'FJFXX':_0x451359(0x163),'BRVSB':function(_0x5e3fad,_0x14bd39){return _0x5e3fad===_0x14bd39;},'djBJo':'undefined','hzkcD':'BrowserStack\x20access\x20key\x20missing.','bMasf':_0x451359(0x12a),'GcbGj':function(_0x1443ec,_0x329752){return _0x1443ec(_0x329752);},'VJCxd':_0x451359(0x165),'JzVeS':function(_0x289c87,_0x3fadd9){return _0x289c87(_0x3fadd9);},'Hvvnl':_0x451359(0x12b),'ZOmht':_0x451359(0x13b),'MwPsJ':_0x451359(0x167)};try{const _0x20cb1f=new BrowserStackSetup(_0x46b367,_0x525a58['FJFXX']);_0x46b367['bstackAccesskey']&&(_0x20cb1f[_0x451359(0x134)]['accessKey']=_0x46b367['bstackAccesskey']);if(_0x525a58[_0x451359(0x131)](typeof _0x20cb1f[_0x451359(0x134)][_0x451359(0x14f)],_0x525a58[_0x451359(0x14d)])){logger['error'](_0x525a58[_0x451359(0x146)]);throw new Error(ERROR_MESSAGES['bstackAccessKey'][_0x451359(0x15e)]);}const _0x537ddb=_0x46b367[_0x451359(0x129)];if(_0x525a58[_0x451359(0x131)](typeof _0x537ddb,_0x525a58[_0x451359(0x14d)])){logger[_0x451359(0x143)](_0x525a58[_0x451359(0x12e)]);throw new Error(ERROR_MESSAGES['hosts']['missing']);}if(!_0x525a58[_0x451359(0x149)](validHosts,_0x537ddb)){logger[_0x451359(0x143)](_0x525a58[_0x451359(0x158)]);throw new Error(ERROR_MESSAGES['hosts'][_0x451359(0x150)]);}const _0x5afcd5=_0x525a58['JzVeS'](parseOnPremHosts,_0x537ddb);_0x20cb1f[_0x451359(0x134)]['browserstackLocal']=!![],_0x20cb1f['config']['browserStackLocalOptions'][_0x451359(0x168)]=_0x525a58[_0x451359(0x160)],_0x20cb1f[_0x451359(0x134)][_0x451359(0x13e)]['only']=_0x5afcd5[_0x451359(0x145)](','),helper[_0x451359(0x132)](_0x20cb1f['config']),await _0x20cb1f[_0x451359(0x138)](),logger[_0x451359(0x137)](_0x525a58['ZOmht']);}catch(_0x4fd9e0){logger[_0x451359(0x143)](_0x525a58[_0x451359(0x164)]);throw new Error(_0x4fd9e0[_0x451359(0x127)]());}};function run(_0x176409){const _0x3d1629=a12_0xb2d536,_0x1d1e19={};_0x1d1e19[_0x3d1629(0x152)]=_0x3d1629(0x153),_0x1d1e19['SdUkR']=_0x3d1629(0x135);const _0x4305f1=_0x1d1e19;_0x176409[_0x3d1629(0x169)](HELP_MESSAGES[_0x3d1629(0x125)][_0x3d1629(0x128)])[_0x3d1629(0x125)](_0x4305f1['CZomX'],HELP_MESSAGES[_0x3d1629(0x125)][_0x3d1629(0x153)],connectCommandBuilder,connectCommandHandler)[_0x3d1629(0x144)]()['help'](_0x4305f1[_0x3d1629(0x15b)])['epilogue'](HELP_MESSAGES['command'][_0x3d1629(0x130)]);}function a12_0x2c3d(_0x4c0576,_0x5744b6){const _0x43a649=a12_0x43a6();return a12_0x2c3d=function(_0x2c3dbd,_0x48c2e8){_0x2c3dbd=_0x2c3dbd-0x124;let _0x51d168=_0x43a649[_0x2c3dbd];return _0x51d168;},a12_0x2c3d(_0x4c0576,_0x5744b6);}module[a12_0xb2d536(0x12c)]=run;