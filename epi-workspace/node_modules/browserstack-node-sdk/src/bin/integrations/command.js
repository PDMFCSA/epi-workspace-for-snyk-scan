#!/usr/bin/env node
'use strict';const a12_0x41ee18=a12_0x4597;(function(_0xe297ea,_0x21cf7a){const _0x5dcb1a=a12_0x4597,_0x3deccf=_0xe297ea();while(!![]){try{const _0x1b4ce3=-parseInt(_0x5dcb1a(0x170))/0x1*(-parseInt(_0x5dcb1a(0x179))/0x2)+-parseInt(_0x5dcb1a(0x196))/0x3+-parseInt(_0x5dcb1a(0x178))/0x4*(parseInt(_0x5dcb1a(0x177))/0x5)+parseInt(_0x5dcb1a(0x16e))/0x6*(parseInt(_0x5dcb1a(0x1a6))/0x7)+parseInt(_0x5dcb1a(0x188))/0x8*(parseInt(_0x5dcb1a(0x173))/0x9)+-parseInt(_0x5dcb1a(0x183))/0xa+parseInt(_0x5dcb1a(0x18b))/0xb;if(_0x1b4ce3===_0x21cf7a)break;else _0x3deccf['push'](_0x3deccf['shift']());}catch(_0x3e17f4){_0x3deccf['push'](_0x3deccf['shift']());}}}(a12_0x59ea,0x592be));const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require(a12_0x41ee18(0x1aa))[a12_0x41ee18(0x18e)],{URL}=require('url'),helper=require(a12_0x41ee18(0x192)),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x3ef094){const _0x569806=a12_0x41ee18;return _0x3ef094[_0x569806(0x191)](',')[_0x569806(0x1a1)](_0x5ab88d=>{const _0x4b0fe7=_0x569806;try{new URL(_0x5ab88d[_0x4b0fe7(0x1a4)]());}catch(_0x4f4958){return![];}return!![];});},parseOnPremHosts=function(_0x1af7af){const _0x3126a6=a12_0x41ee18,_0x130e31={};_0x130e31[_0x3126a6(0x198)]=function(_0x1dd926,_0x1617f9){return _0x1dd926===_0x1617f9;},_0x130e31[_0x3126a6(0x17f)]=_0x3126a6(0x16f),_0x130e31[_0x3126a6(0x187)]=_0x3126a6(0x1af),_0x130e31[_0x3126a6(0x19f)]=function(_0x9d39d1,_0x1739a1){return _0x9d39d1===_0x1739a1;},_0x130e31[_0x3126a6(0x17a)]='https';const _0x254b10=_0x130e31;return _0x1af7af[_0x3126a6(0x191)](',')[_0x3126a6(0x1a8)](_0x80fd4b=>{const _0x28c978=_0x3126a6,_0x35cd36=new URL(_0x80fd4b[_0x28c978(0x1a4)]()),_0x373882=_0x35cd36[_0x28c978(0x197)],_0x28051=_0x35cd36['port']||(_0x254b10[_0x28c978(0x198)](_0x35cd36[_0x28c978(0x190)],_0x254b10['mckrb'])?_0x254b10[_0x28c978(0x187)]:'80'),_0x3286a8=_0x35cd36[_0x28c978(0x190)][_0x28c978(0x186)](':',''),_0x30e0f8=_0x254b10[_0x28c978(0x19f)](_0x3286a8,_0x254b10[_0x28c978(0x17a)])?0x1:0x0;return _0x373882+','+_0x28051+','+_0x30e0f8;});},connectCommandBuilder=function(_0x453abd){const _0x12aa7c=a12_0x41ee18,_0x95f6={};_0x95f6['QouFV']='string';const _0x134d62=_0x95f6,_0x345e09={};_0x345e09[_0x12aa7c(0x18c)]=HELP_MESSAGES[_0x12aa7c(0x184)][_0x12aa7c(0x199)],_0x345e09[_0x12aa7c(0x1a9)]=_0x134d62['QouFV'];const _0x2b7cef={};_0x2b7cef[_0x12aa7c(0x18c)]=HELP_MESSAGES[_0x12aa7c(0x184)]['hosts'],_0x2b7cef[_0x12aa7c(0x1a9)]=_0x134d62[_0x12aa7c(0x1ab)],_0x2b7cef[_0x12aa7c(0x172)]=!![];const _0x5e90e0={};return _0x5e90e0['bstack-accesskey']=_0x345e09,_0x5e90e0['hosts']=_0x2b7cef,_0x453abd[_0x12aa7c(0x184)](_0x5e90e0);},connectCommandHandler=async function(_0x133a2c){const _0x3d0782=a12_0x41ee18,_0x18c060={'nDRhL':_0x3d0782(0x181),'GEWUP':function(_0x9e9f9,_0x5edb79){return _0x9e9f9===_0x5edb79;},'vCiMp':_0x3d0782(0x195),'ZuQao':'BrowserStack\x20access\x20key\x20missing.','KHGuB':function(_0x38700b,_0x37a7a8){return _0x38700b===_0x37a7a8;},'tDinv':'Integration\x20hosts\x20missing.','cKaDP':function(_0x349a77,_0x52cbc2){return _0x349a77(_0x52cbc2);},'AQfba':_0x3d0782(0x18f),'FGWEg':_0x3d0782(0x1a2),'SSwNl':_0x3d0782(0x16c),'ZGeOd':_0x3d0782(0x19a)};try{const _0x1f8f93=new BrowserStackSetup(_0x133a2c,_0x18c060[_0x3d0782(0x1a0)]);_0x133a2c[_0x3d0782(0x182)]&&(_0x1f8f93[_0x3d0782(0x19c)]['accessKey']=_0x133a2c[_0x3d0782(0x182)]);if(_0x18c060[_0x3d0782(0x171)](typeof _0x1f8f93[_0x3d0782(0x19c)][_0x3d0782(0x19b)],_0x18c060[_0x3d0782(0x185)])){logger[_0x3d0782(0x18a)](_0x18c060[_0x3d0782(0x19d)]);throw new Error(ERROR_MESSAGES[_0x3d0782(0x199)][_0x3d0782(0x17d)]);}const _0x40ddd5=_0x133a2c[_0x3d0782(0x19e)];if(_0x18c060[_0x3d0782(0x1a3)](typeof _0x40ddd5,_0x18c060[_0x3d0782(0x185)])){logger[_0x3d0782(0x18a)](_0x18c060[_0x3d0782(0x1ac)]);throw new Error(ERROR_MESSAGES[_0x3d0782(0x19e)][_0x3d0782(0x17d)]);}if(!_0x18c060[_0x3d0782(0x174)](validHosts,_0x40ddd5)){logger[_0x3d0782(0x18a)](_0x18c060[_0x3d0782(0x17e)]);throw new Error(ERROR_MESSAGES[_0x3d0782(0x19e)]['invalid']);}const _0x187b05=_0x18c060[_0x3d0782(0x174)](parseOnPremHosts,_0x40ddd5);_0x1f8f93[_0x3d0782(0x19c)][_0x3d0782(0x193)]=!![],_0x1f8f93[_0x3d0782(0x19c)][_0x3d0782(0x1a7)]['localIdentifier']=_0x18c060[_0x3d0782(0x189)],_0x1f8f93[_0x3d0782(0x19c)][_0x3d0782(0x1a7)][_0x3d0782(0x1ad)]=_0x187b05[_0x3d0782(0x17b)](','),helper['setProxySettings'](_0x1f8f93[_0x3d0782(0x19c)]),await _0x1f8f93[_0x3d0782(0x1b0)](),logger[_0x3d0782(0x180)](_0x18c060[_0x3d0782(0x1ae)]);}catch(_0x5c7f39){logger[_0x3d0782(0x18a)](_0x18c060['ZGeOd']);throw new Error(_0x5c7f39[_0x3d0782(0x17c)]());}};function run(_0x79baa5){const _0x3dac25=a12_0x41ee18,_0x1073ef={};_0x1073ef[_0x3dac25(0x16d)]=_0x3dac25(0x1a5),_0x1073ef['dVJZA']='help';const _0xc77654=_0x1073ef;_0x79baa5['usage'](HELP_MESSAGES[_0x3dac25(0x1b1)][_0x3dac25(0x1b2)])[_0x3dac25(0x1b1)](_0xc77654[_0x3dac25(0x16d)],HELP_MESSAGES[_0x3dac25(0x1b1)]['connect'],connectCommandBuilder,connectCommandHandler)[_0x3dac25(0x194)]()[_0x3dac25(0x18d)](_0xc77654['dVJZA'])['epilogue'](HELP_MESSAGES[_0x3dac25(0x1b1)][_0x3dac25(0x175)]);}module[a12_0x41ee18(0x176)]=run;function a12_0x4597(_0x2112cb,_0x1d0635){const _0x59ea09=a12_0x59ea();return a12_0x4597=function(_0x45979a,_0x13ad51){_0x45979a=_0x45979a-0x16c;let _0x3994d0=_0x59ea09[_0x45979a];return _0x3994d0;},a12_0x4597(_0x2112cb,_0x1d0635);}function a12_0x59ea(){const _0x196e88=['76MPWObu','qGmZH','join','toString','missing','AQfba','mckrb','info','integrations','bstackAccesskey','5376630lGsTVk','options','vCiMp','replace','FHqkW','248sYujdh','FGWEg','error','13671537TogSxC','describe','help','winstonLogger','Hosts\x20not\x20valid','protocol','split','../../helpers/helper','browserstackLocal','demandCommand','undefined','1812141RezSRM','hostname','XyRPG','bstackAccessKey','Failed\x20to\x20establish\x20connection.','accessKey','config','ZuQao','hosts','iBlMN','nDRhL','every','integrations-repeater','KHGuB','trim','connect','7UYAaDq','browserStackLocalOptions','map','type','../../helpers/logger','QouFV','tDinv','only','SSwNl','443','setupBrowserstackLocal','command','root','Connection\x20established\x20successfully.','VuGFa','3041454IZfNxl','https:','5176NeiYoc','GEWUP','demandOption','8793hUzfGf','cKaDP','footer','exports','425WoYnFH','22108LoGAqa'];a12_0x59ea=function(){return _0x196e88;};return a12_0x59ea();}