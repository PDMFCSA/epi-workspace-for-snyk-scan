#!/usr/bin/env node
'use strict';function a12_0x71dc(){const _0x4b4d0e=['port','command','onihJ','winstonLogger','5193fNpMjm','DTqOp','undefined','124iLzNns','Dbjsn','accessKey','188030fNfYVA','exports','integrations','connect','help','443','rGuLi','../../helpers/logger','HChto','BrowserStack\x20access\x20key\x20missing.','2998740MsAgQu','BmwAs','10960BQZPio','hosts','358aKIotQ','config','demandCommand','setupBrowserstackLocal','type','https:','split','map','error','ZUdrL','root','protocol','https','hVWgx','5239ZeLPsu','../../helpers/BrowserStackSetup','browserstackLocal','Failed\x20to\x20establish\x20connection.','AdePU','6303972lPOnbJ','toString','BFwzh','replace','missing','Integration\x20hosts\x20missing.','footer','HESrH','bstackAccesskey','../../helpers/helper','Connection\x20established\x20successfully.','browserStackLocalOptions','621922DvJJyQ','17501lPiRHZ','CHhDG','invalid','Hosts\x20not\x20valid','string','bstackAccessKey','kMkqh','bstack-accesskey','options','CybTz','describe','430TOIFRu','yYmOs','trim'];a12_0x71dc=function(){return _0x4b4d0e;};return a12_0x71dc();}function a12_0x5171(_0x65124f,_0x1e8fa2){const _0x71dc92=a12_0x71dc();return a12_0x5171=function(_0x517116,_0x461017){_0x517116=_0x517116-0x1e3;let _0x4ab51=_0x71dc92[_0x517116];return _0x4ab51;},a12_0x5171(_0x65124f,_0x1e8fa2);}const a12_0x33ac95=a12_0x5171;(function(_0x48efae,_0x4f4d00){const _0x20ab60=a12_0x5171,_0x342f2a=_0x48efae();while(!![]){try{const _0x1fd1b4=-parseInt(_0x20ab60(0x204))/0x1*(parseInt(_0x20ab60(0x1f6))/0x2)+-parseInt(_0x20ab60(0x1f2))/0x3+-parseInt(_0x20ab60(0x1e5))/0x4*(-parseInt(_0x20ab60(0x1e8))/0x5)+parseInt(_0x20ab60(0x209))/0x6+-parseInt(_0x20ab60(0x215))/0x7+-parseInt(_0x20ab60(0x1f4))/0x8*(-parseInt(_0x20ab60(0x228))/0x9)+-parseInt(_0x20ab60(0x221))/0xa*(parseInt(_0x20ab60(0x216))/0xb);if(_0x1fd1b4===_0x4f4d00)break;else _0x342f2a['push'](_0x342f2a['shift']());}catch(_0x4e84d5){_0x342f2a['push'](_0x342f2a['shift']());}}}(a12_0x71dc,0xdebbe));const {default:BrowserStackSetup}=require(a12_0x33ac95(0x205)),logger=require(a12_0x33ac95(0x1ef))[a12_0x33ac95(0x227)],{URL}=require('url'),helper=require(a12_0x33ac95(0x212)),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x7b8c50){const _0x357862=a12_0x33ac95;return _0x7b8c50[_0x357862(0x1fc)](',')['every'](_0x50ddf5=>{const _0x2407ce=_0x357862;try{new URL(_0x50ddf5[_0x2407ce(0x223)]());}catch(_0x4b5dcf){return![];}return!![];});},parseOnPremHosts=function(_0x1492b0){const _0x533270=a12_0x33ac95,_0x2489be={};_0x2489be['HChto']=function(_0x216901,_0x538cb6){return _0x216901===_0x538cb6;},_0x2489be['CHhDG']=_0x533270(0x1fb),_0x2489be['rGuLi']=_0x533270(0x1ed),_0x2489be[_0x533270(0x222)]=_0x533270(0x202);const _0x148000=_0x2489be;return _0x1492b0[_0x533270(0x1fc)](',')[_0x533270(0x1fd)](_0x3a0869=>{const _0x368064=_0x533270,_0x2f273c=new URL(_0x3a0869[_0x368064(0x223)]()),_0x4aa993=_0x2f273c['hostname'],_0x57ee59=_0x2f273c[_0x368064(0x224)]||(_0x148000[_0x368064(0x1f0)](_0x2f273c[_0x368064(0x201)],_0x148000[_0x368064(0x217)])?_0x148000[_0x368064(0x1ee)]:'80'),_0x4c6477=_0x2f273c[_0x368064(0x201)][_0x368064(0x20c)](':',''),_0x55b014=_0x148000[_0x368064(0x1f0)](_0x4c6477,_0x148000[_0x368064(0x222)])?0x1:0x0;return _0x4aa993+','+_0x57ee59+','+_0x55b014;});},connectCommandBuilder=function(_0x376c3b){const _0x2c8636=a12_0x33ac95,_0x2c07dd={};_0x2c07dd['onihJ']=_0x2c8636(0x21a);const _0x11fa6e=_0x2c07dd,_0xa3f5db={};_0xa3f5db[_0x2c8636(0x220)]=HELP_MESSAGES[_0x2c8636(0x21e)][_0x2c8636(0x21b)],_0xa3f5db[_0x2c8636(0x1fa)]=_0x11fa6e['onihJ'];const _0x4ae0c7={};_0x4ae0c7[_0x2c8636(0x220)]=HELP_MESSAGES[_0x2c8636(0x21e)][_0x2c8636(0x1f5)],_0x4ae0c7['type']=_0x11fa6e[_0x2c8636(0x226)],_0x4ae0c7['demandOption']=!![];const _0xb6a97f={};return _0xb6a97f[_0x2c8636(0x21d)]=_0xa3f5db,_0xb6a97f[_0x2c8636(0x1f5)]=_0x4ae0c7,_0x376c3b[_0x2c8636(0x21e)](_0xb6a97f);},connectCommandHandler=async function(_0x25c0ca){const _0x4367e2=a12_0x33ac95,_0x12fa5e={'BmwAs':_0x4367e2(0x1ea),'KNskU':function(_0x4342c3,_0x1db6ed){return _0x4342c3===_0x1db6ed;},'ZUdrL':_0x4367e2(0x1e4),'jbJSw':_0x4367e2(0x1f1),'DTqOp':function(_0x44c15f,_0x192f5b){return _0x44c15f===_0x192f5b;},'BFwzh':_0x4367e2(0x20e),'Sxwlj':function(_0x18e66e,_0x431d46){return _0x18e66e(_0x431d46);},'kaEhp':_0x4367e2(0x219),'hVWgx':function(_0x1d29b7,_0x2d93b9){return _0x1d29b7(_0x2d93b9);},'Dbjsn':'integrations-repeater','CybTz':_0x4367e2(0x213),'HESrH':_0x4367e2(0x207)};try{const _0x20384e=new BrowserStackSetup(_0x25c0ca,_0x12fa5e[_0x4367e2(0x1f3)]);_0x25c0ca[_0x4367e2(0x211)]&&(_0x20384e['config'][_0x4367e2(0x1e7)]=_0x25c0ca['bstackAccesskey']);if(_0x12fa5e['KNskU'](typeof _0x20384e[_0x4367e2(0x1f7)][_0x4367e2(0x1e7)],_0x12fa5e['ZUdrL'])){logger[_0x4367e2(0x1fe)](_0x12fa5e['jbJSw']);throw new Error(ERROR_MESSAGES[_0x4367e2(0x21b)][_0x4367e2(0x20d)]);}const _0x4e94d5=_0x25c0ca[_0x4367e2(0x1f5)];if(_0x12fa5e[_0x4367e2(0x1e3)](typeof _0x4e94d5,_0x12fa5e[_0x4367e2(0x1ff)])){logger[_0x4367e2(0x1fe)](_0x12fa5e[_0x4367e2(0x20b)]);throw new Error(ERROR_MESSAGES['hosts']['missing']);}if(!_0x12fa5e['Sxwlj'](validHosts,_0x4e94d5)){logger[_0x4367e2(0x1fe)](_0x12fa5e['kaEhp']);throw new Error(ERROR_MESSAGES[_0x4367e2(0x1f5)][_0x4367e2(0x218)]);}const _0x12564e=_0x12fa5e[_0x4367e2(0x203)](parseOnPremHosts,_0x4e94d5);_0x20384e[_0x4367e2(0x1f7)][_0x4367e2(0x206)]=!![],_0x20384e[_0x4367e2(0x1f7)][_0x4367e2(0x214)]['localIdentifier']=_0x12fa5e[_0x4367e2(0x1e6)],_0x20384e[_0x4367e2(0x1f7)]['browserStackLocalOptions']['only']=_0x12564e['join'](','),helper['setProxySettings'](_0x20384e[_0x4367e2(0x1f7)]),await _0x20384e[_0x4367e2(0x1f9)](),logger['info'](_0x12fa5e[_0x4367e2(0x21f)]);}catch(_0x116704){logger[_0x4367e2(0x1fe)](_0x12fa5e[_0x4367e2(0x210)]);throw new Error(_0x116704[_0x4367e2(0x20a)]());}};function run(_0x55e7c7){const _0x5a0230=a12_0x33ac95,_0x1af6f8={};_0x1af6f8[_0x5a0230(0x208)]=_0x5a0230(0x1eb),_0x1af6f8[_0x5a0230(0x21c)]=_0x5a0230(0x1ec);const _0x59da6c=_0x1af6f8;_0x55e7c7['usage'](HELP_MESSAGES[_0x5a0230(0x225)][_0x5a0230(0x200)])['command'](_0x59da6c[_0x5a0230(0x208)],HELP_MESSAGES[_0x5a0230(0x225)][_0x5a0230(0x1eb)],connectCommandBuilder,connectCommandHandler)[_0x5a0230(0x1f8)]()[_0x5a0230(0x1ec)](_0x59da6c['kMkqh'])['epilogue'](HELP_MESSAGES[_0x5a0230(0x225)][_0x5a0230(0x20f)]);}module[a12_0x33ac95(0x1e9)]=run;