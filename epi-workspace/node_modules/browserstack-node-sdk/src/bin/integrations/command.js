#!/usr/bin/env node
'use strict';const a12_0x5e7223=a12_0x3405;function a12_0x3405(_0x3c476e,_0x3e79bc){const _0x2f8493=a12_0x2f84();return a12_0x3405=function(_0x34058c,_0x182bb1){_0x34058c=_0x34058c-0x1b2;let _0x12b82a=_0x2f8493[_0x34058c];return _0x12b82a;},a12_0x3405(_0x3c476e,_0x3e79bc);}(function(_0x224a02,_0x62fc98){const _0x27d1ac=a12_0x3405,_0x71a2c8=_0x224a02();while(!![]){try{const _0x7b73e9=-parseInt(_0x27d1ac(0x1d0))/0x1*(-parseInt(_0x27d1ac(0x1b5))/0x2)+-parseInt(_0x27d1ac(0x1e0))/0x3+-parseInt(_0x27d1ac(0x1b4))/0x4+-parseInt(_0x27d1ac(0x1df))/0x5*(parseInt(_0x27d1ac(0x1e2))/0x6)+parseInt(_0x27d1ac(0x1c0))/0x7+parseInt(_0x27d1ac(0x1d9))/0x8+parseInt(_0x27d1ac(0x1ed))/0x9*(parseInt(_0x27d1ac(0x1db))/0xa);if(_0x7b73e9===_0x62fc98)break;else _0x71a2c8['push'](_0x71a2c8['shift']());}catch(_0x5d7065){_0x71a2c8['push'](_0x71a2c8['shift']());}}}(a12_0x2f84,0xf3851));const {default:BrowserStackSetup}=require(a12_0x5e7223(0x1cd)),logger=require('../../helpers/logger')[a12_0x5e7223(0x1d3)],{URL}=require(a12_0x5e7223(0x1bd)),helper=require('../../helpers/helper'),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0x5e7223(0x1c2)),validHosts=function(_0x3c3edd){const _0x30c48c=a12_0x5e7223;return _0x3c3edd[_0x30c48c(0x1e5)](',')[_0x30c48c(0x1b8)](_0x3c56bf=>{const _0x48c486=_0x30c48c;try{new URL(_0x3c56bf[_0x48c486(0x1ec)]());}catch(_0x5c6ddc){return![];}return!![];});},parseOnPremHosts=function(_0x561147){const _0x5189d9=a12_0x5e7223,_0xecc2fe={};_0xecc2fe[_0x5189d9(0x1ce)]=function(_0x4919d4,_0x1fae31){return _0x4919d4===_0x1fae31;},_0xecc2fe[_0x5189d9(0x1e4)]=_0x5189d9(0x1c4),_0xecc2fe['jKelO']=_0x5189d9(0x1b3),_0xecc2fe[_0x5189d9(0x1cf)]=function(_0x2f4d12,_0x456970){return _0x2f4d12===_0x456970;},_0xecc2fe['GFPsJ']=_0x5189d9(0x1bb);const _0x1e2c83=_0xecc2fe;return _0x561147[_0x5189d9(0x1e5)](',')[_0x5189d9(0x1b6)](_0x34a376=>{const _0x3fbb91=_0x5189d9,_0x22806b=new URL(_0x34a376[_0x3fbb91(0x1ec)]()),_0x4ca207=_0x22806b[_0x3fbb91(0x1e8)],_0x449dc8=_0x22806b['port']||(_0x1e2c83[_0x3fbb91(0x1ce)](_0x22806b[_0x3fbb91(0x1d2)],_0x1e2c83['fexVq'])?_0x1e2c83[_0x3fbb91(0x1e9)]:'80'),_0x340e8e=_0x22806b['protocol']['replace'](':',''),_0x5dab9d=_0x1e2c83[_0x3fbb91(0x1cf)](_0x340e8e,_0x1e2c83[_0x3fbb91(0x1e7)])?0x1:0x0;return _0x4ca207+','+_0x449dc8+','+_0x5dab9d;});},connectCommandBuilder=function(_0x81d68){const _0x1404ff=a12_0x5e7223,_0x5e13f2={};_0x5e13f2['qWeXM']='string';const _0x181a06=_0x5e13f2,_0x10a9b9={};_0x10a9b9[_0x1404ff(0x1f7)]=HELP_MESSAGES[_0x1404ff(0x1be)]['bstackAccessKey'],_0x10a9b9[_0x1404ff(0x1b9)]=_0x181a06[_0x1404ff(0x1f5)];const _0x14867a={};_0x14867a[_0x1404ff(0x1f7)]=HELP_MESSAGES['options']['hosts'],_0x14867a['type']=_0x181a06[_0x1404ff(0x1f5)],_0x14867a[_0x1404ff(0x1da)]=!![];const _0x44bf93={};return _0x44bf93[_0x1404ff(0x1d6)]=_0x10a9b9,_0x44bf93[_0x1404ff(0x1e6)]=_0x14867a,_0x81d68[_0x1404ff(0x1be)](_0x44bf93);},connectCommandHandler=async function(_0x2eac65){const _0x430102=a12_0x5e7223,_0x10481f={'NNsuH':'integrations','PfKJn':function(_0x5d8e3d,_0x484723){return _0x5d8e3d===_0x484723;},'rSxyp':_0x430102(0x1ee),'wSklu':'BrowserStack\x20access\x20key\x20missing.','EEaql':function(_0x3b3c0b,_0x320363){return _0x3b3c0b===_0x320363;},'KliCb':_0x430102(0x1e3),'vtKsi':function(_0x1f6b09,_0x5c77e6){return _0x1f6b09(_0x5c77e6);},'kJfaE':_0x430102(0x1f6),'AqOjy':'integrations-repeater','efGCt':'Connection\x20established\x20successfully.','RiPcJ':_0x430102(0x1c5)};try{const _0x5b2b95=new BrowserStackSetup(_0x2eac65,_0x10481f[_0x430102(0x1d1)]);_0x2eac65[_0x430102(0x1dd)]&&(_0x5b2b95['config']['accessKey']=_0x2eac65['bstackAccesskey']);if(_0x10481f[_0x430102(0x1f2)](typeof _0x5b2b95[_0x430102(0x1e1)][_0x430102(0x1f0)],_0x10481f['rSxyp'])){logger[_0x430102(0x1c3)](_0x10481f[_0x430102(0x1f1)]);throw new Error(ERROR_MESSAGES[_0x430102(0x1dc)][_0x430102(0x1c7)]);}const _0x30263b=_0x2eac65[_0x430102(0x1e6)];if(_0x10481f[_0x430102(0x1d7)](typeof _0x30263b,_0x10481f['rSxyp'])){logger[_0x430102(0x1c3)](_0x10481f[_0x430102(0x1d5)]);throw new Error(ERROR_MESSAGES['hosts'][_0x430102(0x1c7)]);}if(!_0x10481f[_0x430102(0x1f4)](validHosts,_0x30263b)){logger[_0x430102(0x1c3)](_0x10481f[_0x430102(0x1ca)]);throw new Error(ERROR_MESSAGES['hosts'][_0x430102(0x1c1)]);}const _0x10e558=_0x10481f['vtKsi'](parseOnPremHosts,_0x30263b);_0x5b2b95[_0x430102(0x1e1)]['browserstackLocal']=!![],_0x5b2b95['config']['browserStackLocalOptions'][_0x430102(0x1de)]=_0x10481f[_0x430102(0x1d4)],_0x5b2b95[_0x430102(0x1e1)]['browserStackLocalOptions'][_0x430102(0x1eb)]=_0x10e558['join'](','),helper[_0x430102(0x1ba)](_0x5b2b95[_0x430102(0x1e1)]),await _0x5b2b95['setupBrowserstackLocal'](),logger[_0x430102(0x1b2)](_0x10481f[_0x430102(0x1b7)]);}catch(_0xc5538d){logger[_0x430102(0x1c3)](_0x10481f[_0x430102(0x1bc)]);throw new Error(_0xc5538d[_0x430102(0x1ef)]());}};function a12_0x2f84(){const _0x55c16f=['command','only','trim','5787108PSnTWi','undefined','toString','accessKey','wSklu','PfKJn','cmNro','vtKsi','qWeXM','Hosts\x20not\x20valid','describe','info','443','1509512QnQoZr','1808922uYorpg','map','efGCt','every','type','setProxySettings','https','RiPcJ','url','options','usage','11708466kzmitF','invalid','./constants','error','https:','Failed\x20to\x20establish\x20connection.','root','missing','footer','connect','kJfaE','help','epilogue','../../helpers/BrowserStackSetup','GyRsC','VMOdW','1DHrLuj','NNsuH','protocol','winstonLogger','AqOjy','KliCb','bstack-accesskey','EEaql','WSFBq','3405128czgyHe','demandOption','10oZlqCl','bstackAccessKey','bstackAccesskey','localIdentifier','25KnIbUW','1397931VbMxDj','config','2165928jJETHG','Integration\x20hosts\x20missing.','fexVq','split','hosts','GFPsJ','hostname','jKelO'];a12_0x2f84=function(){return _0x55c16f;};return a12_0x2f84();}function run(_0x207fbf){const _0x1fe9e0=a12_0x5e7223,_0x2d92fd={};_0x2d92fd[_0x1fe9e0(0x1f3)]=_0x1fe9e0(0x1c9),_0x2d92fd['WSFBq']=_0x1fe9e0(0x1cb);const _0x48ef7b=_0x2d92fd;_0x207fbf[_0x1fe9e0(0x1bf)](HELP_MESSAGES[_0x1fe9e0(0x1ea)][_0x1fe9e0(0x1c6)])[_0x1fe9e0(0x1ea)](_0x48ef7b[_0x1fe9e0(0x1f3)],HELP_MESSAGES[_0x1fe9e0(0x1ea)]['connect'],connectCommandBuilder,connectCommandHandler)['demandCommand']()[_0x1fe9e0(0x1cb)](_0x48ef7b[_0x1fe9e0(0x1d8)])[_0x1fe9e0(0x1cc)](HELP_MESSAGES['command'][_0x1fe9e0(0x1c8)]);}module['exports']=run;