#!/usr/bin/env node
'use strict';const a12_0xb2719=a12_0x4544;(function(_0x16381e,_0x290cc8){const _0x25cf08=a12_0x4544,_0x275234=_0x16381e();while(!![]){try{const _0x3bfaa2=-parseInt(_0x25cf08(0x115))/0x1*(-parseInt(_0x25cf08(0xf1))/0x2)+-parseInt(_0x25cf08(0xf3))/0x3*(-parseInt(_0x25cf08(0x116))/0x4)+-parseInt(_0x25cf08(0x10f))/0x5+-parseInt(_0x25cf08(0x11b))/0x6*(-parseInt(_0x25cf08(0x11e))/0x7)+parseInt(_0x25cf08(0xed))/0x8*(-parseInt(_0x25cf08(0xeb))/0x9)+-parseInt(_0x25cf08(0x11a))/0xa+parseInt(_0x25cf08(0x11c))/0xb*(parseInt(_0x25cf08(0x123))/0xc);if(_0x3bfaa2===_0x290cc8)break;else _0x275234['push'](_0x275234['shift']());}catch(_0x164afe){_0x275234['push'](_0x275234['shift']());}}}(a12_0x47c6,0x7af19));function a12_0x4544(_0x4fb16d,_0x1aad2d){const _0x47c65c=a12_0x47c6();return a12_0x4544=function(_0x4544f1,_0x325d7d){_0x4544f1=_0x4544f1-0xe3;let _0x1d0561=_0x47c65c[_0x4544f1];return _0x1d0561;},a12_0x4544(_0x4fb16d,_0x1aad2d);}const {default:BrowserStackSetup}=require(a12_0xb2719(0xf8)),logger=require(a12_0xb2719(0xf4))['winstonLogger'],{URL}=require(a12_0xb2719(0xee)),helper=require(a12_0xb2719(0x129)),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0xb2719(0x113)),validHosts=function(_0x2cdad1){const _0x31c5b8=a12_0xb2719;return _0x2cdad1['split'](',')[_0x31c5b8(0x124)](_0x45bf9d=>{try{new URL(_0x45bf9d['trim']());}catch(_0x10a4d5){return![];}return!![];});},parseOnPremHosts=function(_0x171bc7){const _0x43f5a5=a12_0xb2719,_0x5b7cb1={};_0x5b7cb1[_0x43f5a5(0x108)]=function(_0x4c6dc7,_0x19d0c2){return _0x4c6dc7===_0x19d0c2;},_0x5b7cb1[_0x43f5a5(0xef)]=_0x43f5a5(0x126),_0x5b7cb1[_0x43f5a5(0xe8)]=_0x43f5a5(0x12e),_0x5b7cb1[_0x43f5a5(0x120)]=_0x43f5a5(0xe4);const _0x220b47=_0x5b7cb1;return _0x171bc7[_0x43f5a5(0x122)](',')[_0x43f5a5(0x10d)](_0x2b95fe=>{const _0x2ea6de=_0x43f5a5,_0x5cde74=new URL(_0x2b95fe[_0x2ea6de(0x114)]()),_0x2c70e3=_0x5cde74['hostname'],_0x183afe=_0x5cde74[_0x2ea6de(0x105)]||(_0x220b47[_0x2ea6de(0x108)](_0x5cde74[_0x2ea6de(0x12a)],_0x220b47[_0x2ea6de(0xef)])?_0x220b47[_0x2ea6de(0xe8)]:'80'),_0x4a1fdd=_0x5cde74[_0x2ea6de(0x12a)][_0x2ea6de(0x11d)](':',''),_0x1f87d4=_0x220b47[_0x2ea6de(0x108)](_0x4a1fdd,_0x220b47[_0x2ea6de(0x120)])?0x1:0x0;return _0x2c70e3+','+_0x183afe+','+_0x1f87d4;});},connectCommandBuilder=function(_0x1f15bc){const _0x296a0f=a12_0xb2719,_0x291c4a={};_0x291c4a[_0x296a0f(0xec)]=_0x296a0f(0xfb);const _0x4ffa3a=_0x291c4a,_0x27ecda={};_0x27ecda[_0x296a0f(0x12b)]=HELP_MESSAGES[_0x296a0f(0x109)][_0x296a0f(0x127)],_0x27ecda['type']=_0x4ffa3a[_0x296a0f(0xec)];const _0x4d9d48={};_0x4d9d48[_0x296a0f(0x12b)]=HELP_MESSAGES[_0x296a0f(0x109)][_0x296a0f(0xe6)],_0x4d9d48['type']=_0x4ffa3a[_0x296a0f(0xec)],_0x4d9d48[_0x296a0f(0xe5)]=!![];const _0x339e50={};return _0x339e50['bstack-accesskey']=_0x27ecda,_0x339e50[_0x296a0f(0xe6)]=_0x4d9d48,_0x1f15bc[_0x296a0f(0x109)](_0x339e50);},connectCommandHandler=async function(_0x12500d){const _0x554f19=a12_0xb2719,_0x313543={'ZZYud':_0x554f19(0x106),'kAjGO':function(_0x2a3fea,_0x20011f){return _0x2a3fea===_0x20011f;},'ejCvz':_0x554f19(0x11f),'XZExU':_0x554f19(0xff),'uVzfg':_0x554f19(0xf7),'kwNOi':function(_0x3d2e46,_0x531beb){return _0x3d2e46(_0x531beb);},'diPKW':'Hosts\x20not\x20valid','KFoBP':function(_0x5da5ac,_0x58a994){return _0x5da5ac(_0x58a994);},'vyeRo':'integrations-repeater','wjcKR':'Connection\x20established\x20successfully.','qkvQi':_0x554f19(0xfa)};try{const _0x2d618e=new BrowserStackSetup(_0x12500d,_0x313543[_0x554f19(0xe7)]);_0x12500d[_0x554f19(0x104)]&&(_0x2d618e['config'][_0x554f19(0x128)]=_0x12500d[_0x554f19(0x104)]);if(_0x313543[_0x554f19(0xf5)](typeof _0x2d618e['config']['accessKey'],_0x313543[_0x554f19(0x12f)])){logger[_0x554f19(0x10c)](_0x313543[_0x554f19(0x10a)]);throw new Error(ERROR_MESSAGES['bstackAccessKey'][_0x554f19(0x107)]);}const _0x5e6bd7=_0x12500d[_0x554f19(0xe6)];if(_0x313543['kAjGO'](typeof _0x5e6bd7,_0x313543['ejCvz'])){logger['error'](_0x313543['uVzfg']);throw new Error(ERROR_MESSAGES[_0x554f19(0xe6)]['missing']);}if(!_0x313543[_0x554f19(0x102)](validHosts,_0x5e6bd7)){logger[_0x554f19(0x10c)](_0x313543[_0x554f19(0xf9)]);throw new Error(ERROR_MESSAGES[_0x554f19(0xe6)][_0x554f19(0x117)]);}const _0x1396c9=_0x313543[_0x554f19(0x100)](parseOnPremHosts,_0x5e6bd7);_0x2d618e[_0x554f19(0xf6)][_0x554f19(0xf0)]=!![],_0x2d618e[_0x554f19(0xf6)]['browserStackLocalOptions'][_0x554f19(0x10b)]=_0x313543[_0x554f19(0x10e)],_0x2d618e[_0x554f19(0xf6)][_0x554f19(0x103)][_0x554f19(0x101)]=_0x1396c9[_0x554f19(0x125)](','),helper[_0x554f19(0xfd)](_0x2d618e['config']),await _0x2d618e[_0x554f19(0xe3)](),logger['info'](_0x313543[_0x554f19(0x118)]);}catch(_0x13bbd9){logger[_0x554f19(0x10c)](_0x313543[_0x554f19(0xea)]);throw new Error(_0x13bbd9[_0x554f19(0xe9)]());}};function run(_0x3d1db2){const _0xe58e59=a12_0xb2719,_0x4bd420={};_0x4bd420[_0xe58e59(0x12c)]=_0xe58e59(0x112),_0x4bd420['iTNuD']=_0xe58e59(0x12d);const _0x257b9d=_0x4bd420;_0x3d1db2[_0xe58e59(0xfe)](HELP_MESSAGES['command'][_0xe58e59(0x111)])[_0xe58e59(0x119)](_0x257b9d[_0xe58e59(0x12c)],HELP_MESSAGES[_0xe58e59(0x119)]['connect'],connectCommandBuilder,connectCommandHandler)[_0xe58e59(0x110)]()[_0xe58e59(0x12d)](_0x257b9d['iTNuD'])[_0xe58e59(0xf2)](HELP_MESSAGES[_0xe58e59(0x119)][_0xe58e59(0xfc)]);}function a12_0x47c6(){const _0x5267a6=['toString','qkvQi','1006452dYHJmF','Ejbwy','24TCbVaT','url','eHXEq','browserstackLocal','2tLznMh','epilogue','90ElTpMK','../../helpers/logger','kAjGO','config','Integration\x20hosts\x20missing.','../../helpers/BrowserStackSetup','diPKW','Failed\x20to\x20establish\x20connection.','string','footer','setProxySettings','usage','BrowserStack\x20access\x20key\x20missing.','KFoBP','only','kwNOi','browserStackLocalOptions','bstackAccesskey','port','integrations','missing','Zgtha','options','XZExU','localIdentifier','error','map','vyeRo','3645605HcZXeH','demandCommand','root','connect','./constants','trim','406659kedOge','129164BTcaTT','invalid','wjcKR','command','2355210KUAPqE','4566IcucDs','11ixZhBV','replace','3451WYyOkA','undefined','DSAJI','exports','split','637692XmHXot','every','join','https:','bstackAccessKey','accessKey','../../helpers/helper','protocol','describe','vzgIz','help','443','ejCvz','setupBrowserstackLocal','https','demandOption','hosts','ZZYud','YHhOO'];a12_0x47c6=function(){return _0x5267a6;};return a12_0x47c6();}module[a12_0xb2719(0x121)]=run;