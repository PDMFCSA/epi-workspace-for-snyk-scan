#!/usr/bin/env node
'use strict';const a12_0x1d5f21=a12_0x4fc8;(function(_0x1fb595,_0x185912){const _0x34fb02=a12_0x4fc8,_0x423494=_0x1fb595();while(!![]){try{const _0x219e0a=-parseInt(_0x34fb02(0x16a))/0x1+-parseInt(_0x34fb02(0x147))/0x2*(parseInt(_0x34fb02(0x164))/0x3)+parseInt(_0x34fb02(0x157))/0x4+parseInt(_0x34fb02(0x132))/0x5*(parseInt(_0x34fb02(0x145))/0x6)+parseInt(_0x34fb02(0x148))/0x7*(parseInt(_0x34fb02(0x169))/0x8)+-parseInt(_0x34fb02(0x144))/0x9+-parseInt(_0x34fb02(0x14d))/0xa;if(_0x219e0a===_0x185912)break;else _0x423494['push'](_0x423494['shift']());}catch(_0x23be64){_0x423494['push'](_0x423494['shift']());}}}(a12_0x5955,0x326d7));function a12_0x5955(){const _0x109c92=['yCuNN','type','../../helpers/helper','36fSSZmN','help','connect','xgTix','string','488AHvOHm','195850avqwqH','qvEsm','replace','options','pOtFZ','integrations','integrations-repeater','usage','https','TKMow','BOVRm','Connection\x20established\x20successfully.','Hosts\x20not\x20valid','SXyWt','browserStackLocalOptions','toString','15070qqmnRh','error','lChMn','xNKJF','bstackAccesskey','https:','only','443','./constants','fPWlL','describe','Integration\x20hosts\x20missing.','rohLy','info','Failed\x20to\x20establish\x20connection.','undefined','demandCommand','bstack-accesskey','273420hNNiav','666aUgcuC','exports','33610cKCNKi','36008MlRGmv','winstonLogger','config','map','root','4205960vCNTvB','bstackAccessKey','trim','moUCj','split','url','../../helpers/logger','vgSdS','port','missing','1626796oKEsig','localIdentifier','accessKey','tbMHz','rdAof','footer','setupBrowserstackLocal','command','MYLAC','hosts'];a12_0x5955=function(){return _0x109c92;};return a12_0x5955();}const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require(a12_0x1d5f21(0x153))[a12_0x1d5f21(0x149)],{URL}=require(a12_0x1d5f21(0x152)),helper=require(a12_0x1d5f21(0x163)),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0x1d5f21(0x13a)),validHosts=function(_0x8221bf){const _0x1dff05=a12_0x1d5f21;return _0x8221bf[_0x1dff05(0x151)](',')['every'](_0x32b6a9=>{const _0x53ca49=_0x1dff05;try{new URL(_0x32b6a9[_0x53ca49(0x14f)]());}catch(_0x47a388){return![];}return!![];});},parseOnPremHosts=function(_0x45b124){const _0x5ef97e=a12_0x1d5f21,_0x445a0c={};_0x445a0c[_0x5ef97e(0x13b)]=function(_0x5b1bbd,_0x26eb86){return _0x5b1bbd===_0x26eb86;},_0x445a0c[_0x5ef97e(0x12c)]=_0x5ef97e(0x137),_0x445a0c[_0x5ef97e(0x161)]=_0x5ef97e(0x139),_0x445a0c[_0x5ef97e(0x12f)]=_0x5ef97e(0x12a);const _0x1f9899=_0x445a0c;return _0x45b124[_0x5ef97e(0x151)](',')[_0x5ef97e(0x14b)](_0x53b7e2=>{const _0x225075=_0x5ef97e,_0x149206=new URL(_0x53b7e2['trim']()),_0x23961a=_0x149206['hostname'],_0x3b771f=_0x149206[_0x225075(0x155)]||(_0x1f9899[_0x225075(0x13b)](_0x149206['protocol'],_0x1f9899[_0x225075(0x12c)])?_0x1f9899[_0x225075(0x161)]:'80'),_0x1d8bc6=_0x149206['protocol'][_0x225075(0x16c)](':',''),_0x21ab66=_0x1f9899[_0x225075(0x13b)](_0x1d8bc6,_0x1f9899[_0x225075(0x12f)])?0x1:0x0;return _0x23961a+','+_0x3b771f+','+_0x21ab66;});},connectCommandBuilder=function(_0x5a7bca){const _0x352043=a12_0x1d5f21,_0x2d5a4c={};_0x2d5a4c['pOtFZ']=_0x352043(0x168);const _0x32aebf=_0x2d5a4c,_0x18c876={};_0x18c876[_0x352043(0x13c)]=HELP_MESSAGES[_0x352043(0x16d)][_0x352043(0x14e)],_0x18c876[_0x352043(0x162)]=_0x32aebf[_0x352043(0x16e)];const _0x32015b={};_0x32015b['describe']=HELP_MESSAGES['options'][_0x352043(0x160)],_0x32015b[_0x352043(0x162)]=_0x32aebf[_0x352043(0x16e)],_0x32015b['demandOption']=!![];const _0x3fccd8={};return _0x3fccd8[_0x352043(0x143)]=_0x18c876,_0x3fccd8[_0x352043(0x160)]=_0x32015b,_0x5a7bca[_0x352043(0x16d)](_0x3fccd8);},connectCommandHandler=async function(_0x72b9f6){const _0x587767=a12_0x1d5f21,_0x15c78f={'rohLy':_0x587767(0x16f),'moUCj':function(_0xd63bf3,_0x5aa7a1){return _0xd63bf3===_0x5aa7a1;},'tbMHz':_0x587767(0x141),'vgSdS':'BrowserStack\x20access\x20key\x20missing.','xNKJF':_0x587767(0x13d),'xgTix':function(_0xb3a38f,_0x500133){return _0xb3a38f(_0x500133);},'TKMow':_0x587767(0x12e),'lChMn':_0x587767(0x170),'rdAof':_0x587767(0x12d),'MYLAC':_0x587767(0x140)};try{const _0x33956a=new BrowserStackSetup(_0x72b9f6,_0x15c78f[_0x587767(0x13e)]);_0x72b9f6[_0x587767(0x136)]&&(_0x33956a[_0x587767(0x14a)][_0x587767(0x159)]=_0x72b9f6[_0x587767(0x136)]);if(_0x15c78f[_0x587767(0x150)](typeof _0x33956a[_0x587767(0x14a)][_0x587767(0x159)],_0x15c78f['tbMHz'])){logger['error'](_0x15c78f[_0x587767(0x154)]);throw new Error(ERROR_MESSAGES[_0x587767(0x14e)][_0x587767(0x156)]);}const _0x15606b=_0x72b9f6[_0x587767(0x160)];if(_0x15c78f[_0x587767(0x150)](typeof _0x15606b,_0x15c78f[_0x587767(0x15a)])){logger[_0x587767(0x133)](_0x15c78f[_0x587767(0x135)]);throw new Error(ERROR_MESSAGES[_0x587767(0x160)]['missing']);}if(!_0x15c78f[_0x587767(0x167)](validHosts,_0x15606b)){logger[_0x587767(0x133)](_0x15c78f[_0x587767(0x12b)]);throw new Error(ERROR_MESSAGES[_0x587767(0x160)]['invalid']);}const _0x3adaa7=_0x15c78f[_0x587767(0x167)](parseOnPremHosts,_0x15606b);_0x33956a['config']['browserstackLocal']=!![],_0x33956a[_0x587767(0x14a)][_0x587767(0x130)][_0x587767(0x158)]=_0x15c78f[_0x587767(0x134)],_0x33956a['config']['browserStackLocalOptions'][_0x587767(0x138)]=_0x3adaa7['join'](','),helper['setProxySettings'](_0x33956a['config']),await _0x33956a[_0x587767(0x15d)](),logger[_0x587767(0x13f)](_0x15c78f[_0x587767(0x15b)]);}catch(_0x3b5afe){logger['error'](_0x15c78f[_0x587767(0x15f)]);throw new Error(_0x3b5afe[_0x587767(0x131)]());}};function a12_0x4fc8(_0x473c97,_0x5c18dd){const _0x595500=a12_0x5955();return a12_0x4fc8=function(_0x4fc834,_0x327efe){_0x4fc834=_0x4fc834-0x129;let _0x3fb550=_0x595500[_0x4fc834];return _0x3fb550;},a12_0x4fc8(_0x473c97,_0x5c18dd);}function run(_0x309170){const _0x56ecf9=a12_0x1d5f21,_0x387bd5={};_0x387bd5[_0x56ecf9(0x16b)]=_0x56ecf9(0x166),_0x387bd5['npqiS']=_0x56ecf9(0x165);const _0x483fec=_0x387bd5;_0x309170[_0x56ecf9(0x129)](HELP_MESSAGES['command'][_0x56ecf9(0x14c)])[_0x56ecf9(0x15e)](_0x483fec[_0x56ecf9(0x16b)],HELP_MESSAGES['command'][_0x56ecf9(0x166)],connectCommandBuilder,connectCommandHandler)[_0x56ecf9(0x142)]()[_0x56ecf9(0x165)](_0x483fec['npqiS'])['epilogue'](HELP_MESSAGES[_0x56ecf9(0x15e)][_0x56ecf9(0x15c)]);}module[a12_0x1d5f21(0x146)]=run;