#!/usr/bin/env node
'use strict';const a12_0x258c42=a12_0x64a0;(function(_0x3a7f6d,_0x2db104){const _0xe07683=a12_0x64a0,_0x4e3d62=_0x3a7f6d();while(!![]){try{const _0x1a493a=parseInt(_0xe07683(0xbd))/0x1+-parseInt(_0xe07683(0xad))/0x2+parseInt(_0xe07683(0xb1))/0x3*(-parseInt(_0xe07683(0xda))/0x4)+-parseInt(_0xe07683(0xdf))/0x5+parseInt(_0xe07683(0xd1))/0x6+-parseInt(_0xe07683(0xdb))/0x7*(parseInt(_0xe07683(0xd3))/0x8)+parseInt(_0xe07683(0xb4))/0x9;if(_0x1a493a===_0x2db104)break;else _0x4e3d62['push'](_0x4e3d62['shift']());}catch(_0x44d95e){_0x4e3d62['push'](_0x4e3d62['shift']());}}}(a12_0x4c27,0x63186));function a12_0x4c27(){const _0x412f1e=['IDkzr','Connection\x20established\x20successfully.','803404boGjXK','KBWCG','bstackAccesskey','command','552534hCMqno','hosts','../../helpers/BrowserStackSetup','6371388ZBlYgw','usage','winstonLogger','setupBrowserstackLocal','join','accessKey','YiofG','undefined','type','627584OGpiZp','footer','trim','browserStackLocalOptions','gQJZC','Hosts\x20not\x20valid','options','localIdentifier','NbSeN','root','demandCommand','missing','protocol','jTyoJ','Failed\x20to\x20establish\x20connection.','string','cSZzs','describe','OXZmr','Wjmbl','432192YWKlRC','XegCy','2152OHFDdd','config','browserstackLocal','tYMvp','hostname','NFLRi','../../helpers/logger','4CBhzLL','924nNgmKv','https','Integration\x20hosts\x20missing.','help','1901330GLYTVw','error','vFjJZ','invalid','BrowserStack\x20access\x20key\x20missing.','erOIj','bstack-accesskey','wvQiB','https:','integrations-repeater','JtHQa','bstackAccessKey','port','aboCo'];a12_0x4c27=function(){return _0x412f1e;};return a12_0x4c27();}const {default:BrowserStackSetup}=require(a12_0x258c42(0xb3)),logger=require(a12_0x258c42(0xd9))[a12_0x258c42(0xb6)],{URL}=require('url'),helper=require('../../helpers/helper'),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x58af39){return _0x58af39['split'](',')['every'](_0x1d0093=>{const _0x42ebf8=a12_0x64a0;try{new URL(_0x1d0093[_0x42ebf8(0xbf)]());}catch(_0x4951ba){return![];}return!![];});},parseOnPremHosts=function(_0x370244){const _0xd5859f=a12_0x258c42,_0x3d3454={};_0x3d3454[_0xd5859f(0xd6)]=function(_0x5a48d7,_0x9dcc08){return _0x5a48d7===_0x9dcc08;},_0x3d3454['JtHQa']=_0xd5859f(0xe7),_0x3d3454[_0xd5859f(0xc5)]='443',_0x3d3454[_0xd5859f(0xd2)]=_0xd5859f(0xdc);const _0x64ba76=_0x3d3454;return _0x370244['split'](',')['map'](_0x76174=>{const _0x374896=_0xd5859f,_0x412b3d=new URL(_0x76174[_0x374896(0xbf)]()),_0x2bda5a=_0x412b3d[_0x374896(0xd7)],_0x4402e6=_0x412b3d[_0x374896(0xa9)]||(_0x64ba76[_0x374896(0xd6)](_0x412b3d[_0x374896(0xc9)],_0x64ba76[_0x374896(0xe9)])?_0x64ba76['NbSeN']:'80'),_0x5352f6=_0x412b3d[_0x374896(0xc9)]['replace'](':',''),_0x86b544=_0x64ba76[_0x374896(0xd6)](_0x5352f6,_0x64ba76[_0x374896(0xd2)])?0x1:0x0;return _0x2bda5a+','+_0x4402e6+','+_0x86b544;});},connectCommandBuilder=function(_0x130083){const _0x16e98c=a12_0x258c42,_0x3ca610={};_0x3ca610[_0x16e98c(0xcd)]=_0x16e98c(0xcc);const _0x11f9c7=_0x3ca610,_0x502456={};_0x502456[_0x16e98c(0xce)]=HELP_MESSAGES[_0x16e98c(0xc3)][_0x16e98c(0xea)],_0x502456[_0x16e98c(0xbc)]=_0x11f9c7['cSZzs'];const _0x44b0f7={};_0x44b0f7['describe']=HELP_MESSAGES[_0x16e98c(0xc3)]['hosts'],_0x44b0f7[_0x16e98c(0xbc)]=_0x11f9c7[_0x16e98c(0xcd)],_0x44b0f7['demandOption']=!![];const _0x8656c2={};return _0x8656c2[_0x16e98c(0xe5)]=_0x502456,_0x8656c2['hosts']=_0x44b0f7,_0x130083[_0x16e98c(0xc3)](_0x8656c2);},connectCommandHandler=async function(_0x1081d9){const _0x19c87f=a12_0x258c42,_0x165761={'vFjJZ':'integrations','UnwEX':function(_0x3a8089,_0x3f7b1b){return _0x3a8089===_0x3f7b1b;},'wvQiB':_0x19c87f(0xbb),'aboCo':_0x19c87f(0xe3),'IDkzr':_0x19c87f(0xdd),'YiofG':function(_0x539a0a,_0xd37fb2){return _0x539a0a(_0xd37fb2);},'OXZmr':_0x19c87f(0xc2),'gQJZC':function(_0x3a5c18,_0x2c1e44){return _0x3a5c18(_0x2c1e44);},'jTyoJ':_0x19c87f(0xe8),'NFLRi':_0x19c87f(0xac),'KBWCG':_0x19c87f(0xcb)};try{const _0x5d2b27=new BrowserStackSetup(_0x1081d9,_0x165761[_0x19c87f(0xe1)]);_0x1081d9['bstackAccesskey']&&(_0x5d2b27[_0x19c87f(0xd4)][_0x19c87f(0xb9)]=_0x1081d9[_0x19c87f(0xaf)]);if(_0x165761['UnwEX'](typeof _0x5d2b27[_0x19c87f(0xd4)]['accessKey'],_0x165761[_0x19c87f(0xe6)])){logger['error'](_0x165761[_0x19c87f(0xaa)]);throw new Error(ERROR_MESSAGES[_0x19c87f(0xea)][_0x19c87f(0xc8)]);}const _0x4ede03=_0x1081d9[_0x19c87f(0xb2)];if(_0x165761['UnwEX'](typeof _0x4ede03,_0x165761[_0x19c87f(0xe6)])){logger[_0x19c87f(0xe0)](_0x165761[_0x19c87f(0xab)]);throw new Error(ERROR_MESSAGES[_0x19c87f(0xb2)][_0x19c87f(0xc8)]);}if(!_0x165761[_0x19c87f(0xba)](validHosts,_0x4ede03)){logger[_0x19c87f(0xe0)](_0x165761[_0x19c87f(0xcf)]);throw new Error(ERROR_MESSAGES[_0x19c87f(0xb2)][_0x19c87f(0xe2)]);}const _0x17844d=_0x165761[_0x19c87f(0xc1)](parseOnPremHosts,_0x4ede03);_0x5d2b27[_0x19c87f(0xd4)][_0x19c87f(0xd5)]=!![],_0x5d2b27[_0x19c87f(0xd4)][_0x19c87f(0xc0)][_0x19c87f(0xc4)]=_0x165761[_0x19c87f(0xca)],_0x5d2b27[_0x19c87f(0xd4)][_0x19c87f(0xc0)]['only']=_0x17844d[_0x19c87f(0xb8)](','),helper['setProxySettings'](_0x5d2b27[_0x19c87f(0xd4)]),await _0x5d2b27[_0x19c87f(0xb7)](),logger['info'](_0x165761[_0x19c87f(0xd8)]);}catch(_0x358ac1){logger['error'](_0x165761[_0x19c87f(0xae)]);throw new Error(_0x358ac1['toString']());}};function run(_0x54b602){const _0x4cd0fb=a12_0x258c42,_0x3f2b02={};_0x3f2b02['erOIj']='connect',_0x3f2b02[_0x4cd0fb(0xd0)]=_0x4cd0fb(0xde);const _0x17b107=_0x3f2b02;_0x54b602[_0x4cd0fb(0xb5)](HELP_MESSAGES[_0x4cd0fb(0xb0)][_0x4cd0fb(0xc6)])[_0x4cd0fb(0xb0)](_0x17b107[_0x4cd0fb(0xe4)],HELP_MESSAGES[_0x4cd0fb(0xb0)]['connect'],connectCommandBuilder,connectCommandHandler)[_0x4cd0fb(0xc7)]()[_0x4cd0fb(0xde)](_0x17b107[_0x4cd0fb(0xd0)])['epilogue'](HELP_MESSAGES[_0x4cd0fb(0xb0)][_0x4cd0fb(0xbe)]);}function a12_0x64a0(_0x421ca5,_0x51816b){const _0x4c272f=a12_0x4c27();return a12_0x64a0=function(_0x64a077,_0x43ac4d){_0x64a077=_0x64a077-0xa9;let _0x4ea419=_0x4c272f[_0x64a077];return _0x4ea419;},a12_0x64a0(_0x421ca5,_0x51816b);}module['exports']=run;