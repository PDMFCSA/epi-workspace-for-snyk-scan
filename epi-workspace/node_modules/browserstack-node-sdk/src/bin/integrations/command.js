#!/usr/bin/env node
'use strict';function a12_0x103f(_0x138016,_0x2dc263){const _0x482a0d=a12_0x482a();return a12_0x103f=function(_0x103f77,_0x34aee0){_0x103f77=_0x103f77-0x82;let _0x3aa80d=_0x482a0d[_0x103f77];return _0x3aa80d;},a12_0x103f(_0x138016,_0x2dc263);}const a12_0x4b63f8=a12_0x103f;(function(_0x4eae55,_0x38f996){const _0x3159cf=a12_0x103f,_0x163d21=_0x4eae55();while(!![]){try{const _0x38d76c=parseInt(_0x3159cf(0xa0))/0x1+-parseInt(_0x3159cf(0xb9))/0x2*(parseInt(_0x3159cf(0xbd))/0x3)+-parseInt(_0x3159cf(0x83))/0x4+parseInt(_0x3159cf(0xb1))/0x5*(-parseInt(_0x3159cf(0xaf))/0x6)+-parseInt(_0x3159cf(0xb6))/0x7*(-parseInt(_0x3159cf(0x8a))/0x8)+parseInt(_0x3159cf(0xbf))/0x9+-parseInt(_0x3159cf(0x92))/0xa*(-parseInt(_0x3159cf(0xba))/0xb);if(_0x38d76c===_0x38f996)break;else _0x163d21['push'](_0x163d21['shift']());}catch(_0x27c67d){_0x163d21['push'](_0x163d21['shift']());}}}(a12_0x482a,0xa4d7b));const {default:BrowserStackSetup}=require(a12_0x4b63f8(0xb0)),logger=require(a12_0x4b63f8(0x88))[a12_0x4b63f8(0x91)],{URL}=require(a12_0x4b63f8(0x9d)),helper=require(a12_0x4b63f8(0xb5)),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x2cf2ac){const _0xa22a9a=a12_0x4b63f8;return _0x2cf2ac[_0xa22a9a(0x96)](',')[_0xa22a9a(0xc4)](_0x577496=>{const _0x576638=_0xa22a9a;try{new URL(_0x577496[_0x576638(0x95)]());}catch(_0x4467d3){return![];}return!![];});},parseOnPremHosts=function(_0x3269ab){const _0xb2350b=a12_0x4b63f8,_0x58b65d={};_0x58b65d[_0xb2350b(0xac)]=function(_0xeb5b49,_0x5c14e0){return _0xeb5b49===_0x5c14e0;},_0x58b65d['UCrLE']='https:',_0x58b65d[_0xb2350b(0x93)]=_0xb2350b(0xa7),_0x58b65d['BsRVH']=function(_0xc9fcd5,_0x25f38a){return _0xc9fcd5===_0x25f38a;},_0x58b65d[_0xb2350b(0x9c)]=_0xb2350b(0xa4);const _0x59b41d=_0x58b65d;return _0x3269ab[_0xb2350b(0x96)](',')['map'](_0x44a100=>{const _0xac0a65=_0xb2350b,_0x53d405=new URL(_0x44a100[_0xac0a65(0x95)]()),_0x57e388=_0x53d405[_0xac0a65(0xa2)],_0x2637e1=_0x53d405['port']||(_0x59b41d[_0xac0a65(0xac)](_0x53d405[_0xac0a65(0x8b)],_0x59b41d[_0xac0a65(0xc0)])?_0x59b41d[_0xac0a65(0x93)]:'80'),_0x562c6c=_0x53d405['protocol']['replace'](':',''),_0x3fcb27=_0x59b41d['BsRVH'](_0x562c6c,_0x59b41d[_0xac0a65(0x9c)])?0x1:0x0;return _0x57e388+','+_0x2637e1+','+_0x3fcb27;});},connectCommandBuilder=function(_0x4893d6){const _0x5415fc=a12_0x4b63f8,_0x589cc3={};_0x589cc3[_0x5415fc(0xb8)]='string';const _0x1b1d98=_0x589cc3,_0x2d65da={};_0x2d65da[_0x5415fc(0x97)]=HELP_MESSAGES[_0x5415fc(0x89)]['bstackAccessKey'],_0x2d65da[_0x5415fc(0xad)]=_0x1b1d98['Ifzjj'];const _0x1689a8={};_0x1689a8[_0x5415fc(0x97)]=HELP_MESSAGES[_0x5415fc(0x89)][_0x5415fc(0x99)],_0x1689a8[_0x5415fc(0xad)]=_0x1b1d98['Ifzjj'],_0x1689a8[_0x5415fc(0xaa)]=!![];const _0x501a14={};return _0x501a14[_0x5415fc(0xa1)]=_0x2d65da,_0x501a14[_0x5415fc(0x99)]=_0x1689a8,_0x4893d6[_0x5415fc(0x89)](_0x501a14);},connectCommandHandler=async function(_0x5e6ac6){const _0x2b18c2=a12_0x4b63f8,_0x3763b1={'PhHwO':'integrations','LePNH':function(_0xddadbc,_0x22c53a){return _0xddadbc===_0x22c53a;},'ZfJwr':_0x2b18c2(0xa9),'kGBdL':_0x2b18c2(0xb4),'dlcHn':function(_0x306cbd,_0x9e5635){return _0x306cbd===_0x9e5635;},'lbkzM':'Integration\x20hosts\x20missing.','Ufjqo':function(_0x5b6874,_0xbb41ee){return _0x5b6874(_0xbb41ee);},'pFcJj':_0x2b18c2(0xab),'ojyTZ':function(_0xe665fe,_0xef26c7){return _0xe665fe(_0xef26c7);},'qhWYk':'integrations-repeater','RpdTk':'Connection\x20established\x20successfully.','kmAjc':'Failed\x20to\x20establish\x20connection.'};try{const _0x3fe0a0=new BrowserStackSetup(_0x5e6ac6,_0x3763b1[_0x2b18c2(0x82)]);_0x5e6ac6[_0x2b18c2(0x9e)]&&(_0x3fe0a0[_0x2b18c2(0x8d)][_0x2b18c2(0xc3)]=_0x5e6ac6[_0x2b18c2(0x9e)]);if(_0x3763b1[_0x2b18c2(0x9a)](typeof _0x3fe0a0[_0x2b18c2(0x8d)][_0x2b18c2(0xc3)],_0x3763b1[_0x2b18c2(0xae)])){logger[_0x2b18c2(0x85)](_0x3763b1[_0x2b18c2(0x8e)]);throw new Error(ERROR_MESSAGES['bstackAccessKey'][_0x2b18c2(0xbe)]);}const _0x35ba4c=_0x5e6ac6[_0x2b18c2(0x99)];if(_0x3763b1[_0x2b18c2(0x9b)](typeof _0x35ba4c,_0x3763b1['ZfJwr'])){logger[_0x2b18c2(0x85)](_0x3763b1[_0x2b18c2(0xbb)]);throw new Error(ERROR_MESSAGES['hosts'][_0x2b18c2(0xbe)]);}if(!_0x3763b1[_0x2b18c2(0x90)](validHosts,_0x35ba4c)){logger[_0x2b18c2(0x85)](_0x3763b1[_0x2b18c2(0xc2)]);throw new Error(ERROR_MESSAGES[_0x2b18c2(0x99)][_0x2b18c2(0x9f)]);}const _0x49b7d3=_0x3763b1[_0x2b18c2(0xbc)](parseOnPremHosts,_0x35ba4c);_0x3fe0a0[_0x2b18c2(0x8d)][_0x2b18c2(0xa3)]=!![],_0x3fe0a0[_0x2b18c2(0x8d)][_0x2b18c2(0xa6)][_0x2b18c2(0x87)]=_0x3763b1[_0x2b18c2(0x8f)],_0x3fe0a0['config'][_0x2b18c2(0xa6)][_0x2b18c2(0xb2)]=_0x49b7d3[_0x2b18c2(0xc5)](','),helper['setProxySettings'](_0x3fe0a0[_0x2b18c2(0x8d)]),await _0x3fe0a0['setupBrowserstackLocal'](),logger[_0x2b18c2(0xa8)](_0x3763b1['RpdTk']);}catch(_0x3cab87){logger[_0x2b18c2(0x85)](_0x3763b1['kmAjc']);throw new Error(_0x3cab87[_0x2b18c2(0xa5)]());}};function run(_0x1bd0d5){const _0x23c43d=a12_0x4b63f8,_0x319040={};_0x319040['GPDUx']=_0x23c43d(0x84),_0x319040['UFXoy']=_0x23c43d(0xb7);const _0x133b42=_0x319040;_0x1bd0d5[_0x23c43d(0xc1)](HELP_MESSAGES[_0x23c43d(0x86)][_0x23c43d(0x94)])[_0x23c43d(0x86)](_0x133b42['GPDUx'],HELP_MESSAGES[_0x23c43d(0x86)][_0x23c43d(0x84)],connectCommandBuilder,connectCommandHandler)['demandCommand']()[_0x23c43d(0xb7)](_0x133b42[_0x23c43d(0xb3)])[_0x23c43d(0x8c)](HELP_MESSAGES[_0x23c43d(0x86)]['footer']);}module[a12_0x4b63f8(0x98)]=run;function a12_0x482a(){const _0x30addc=['epilogue','config','kGBdL','qhWYk','Ufjqo','winstonLogger','10ffeAqW','viBjE','root','trim','split','describe','exports','hosts','LePNH','dlcHn','tHWWp','url','bstackAccesskey','invalid','666362pVEGbC','bstack-accesskey','hostname','browserstackLocal','https','toString','browserStackLocalOptions','443','info','undefined','demandOption','Hosts\x20not\x20valid','EonLt','type','ZfJwr','6GVHROe','../../helpers/BrowserStackSetup','5789165tNHJKE','only','UFXoy','BrowserStack\x20access\x20key\x20missing.','../../helpers/helper','581bwTjhS','help','Ifzjj','42058UjIxSX','11177639shsVKD','lbkzM','ojyTZ','9IseOdL','missing','6350409XOpcfL','UCrLE','usage','pFcJj','accessKey','every','join','PhHwO','3485892fkOred','connect','error','command','localIdentifier','../../helpers/logger','options','36576lyQEwg','protocol'];a12_0x482a=function(){return _0x30addc;};return a12_0x482a();}