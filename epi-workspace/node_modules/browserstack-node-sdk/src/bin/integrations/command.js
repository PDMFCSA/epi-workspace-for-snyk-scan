#!/usr/bin/env node
'use strict';const a12_0x368adf=a12_0x3161;(function(_0x5b3f93,_0x13ac69){const _0x304da4=a12_0x3161,_0x4086a3=_0x5b3f93();while(!![]){try{const _0x447c4e=-parseInt(_0x304da4(0x100))/0x1*(-parseInt(_0x304da4(0xfd))/0x2)+parseInt(_0x304da4(0xe5))/0x3+-parseInt(_0x304da4(0x106))/0x4*(-parseInt(_0x304da4(0xf8))/0x5)+parseInt(_0x304da4(0xe6))/0x6*(-parseInt(_0x304da4(0xe8))/0x7)+parseInt(_0x304da4(0x120))/0x8*(-parseInt(_0x304da4(0xfc))/0x9)+parseInt(_0x304da4(0x112))/0xa+parseInt(_0x304da4(0x127))/0xb*(parseInt(_0x304da4(0x110))/0xc);if(_0x447c4e===_0x13ac69)break;else _0x4086a3['push'](_0x4086a3['shift']());}catch(_0x380051){_0x4086a3['push'](_0x4086a3['shift']());}}}(a12_0x463f,0xd8831));function a12_0x463f(){const _0x1b39eb=['config','JzObU','integrations','invalid','463059QJFCcc','6420954qrEiPX','info','7BoWzfY','connect','toString','footer','trim','port','OHwEV','map','split','missing','usage','Connection\x20established\x20successfully.','replace','./constants','BrowserStack\x20access\x20key\x20missing.','rVQVm','5zaVwop','describe','string','command','13414446EZOHxS','2qeSTIN','zPYYY','Failed\x20to\x20establish\x20connection.','642927PalcvU','only','443','../../helpers/BrowserStackSetup','setupBrowserstackLocal','bstack-accesskey','6877412JcbrQW','lNrqu','xGiYb','root','LknJp','JcNHC','https','XPCmb','qcbHm','localIdentifier','12ErphgF','type','1245760uHpXfQ','FxeFF','MLUJa','protocol','https:','demandOption','kwTFG','accessKey','setProxySettings','demandCommand','epilogue','help','options','hosts','8smnfNr','bstackAccesskey','NtopC','bstackAccessKey','MRvxt','join','fkxBY','8869047uDDjod','Xxxfz','error','qOiuN'];a12_0x463f=function(){return _0x1b39eb;};return a12_0x463f();}const {default:BrowserStackSetup}=require(a12_0x368adf(0x103)),logger=require('../../helpers/logger')['winstonLogger'],{URL}=require('url'),helper=require('../../helpers/helper'),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0x368adf(0xf5)),validHosts=function(_0xfd8014){const _0xc35505=a12_0x368adf;return _0xfd8014[_0xc35505(0xf0)](',')['every'](_0x41b1a1=>{try{new URL(_0x41b1a1['trim']());}catch(_0x65b760){return![];}return!![];});},parseOnPremHosts=function(_0x51068b){const _0x166245=a12_0x368adf,_0x308556={};_0x308556[_0x166245(0x10a)]=function(_0x47b244,_0xbe64ed){return _0x47b244===_0xbe64ed;},_0x308556[_0x166245(0x113)]=_0x166245(0x116),_0x308556[_0x166245(0x124)]=_0x166245(0x102),_0x308556['kwTFG']=_0x166245(0x10c);const _0x5882fc=_0x308556;return _0x51068b[_0x166245(0xf0)](',')[_0x166245(0xef)](_0x3a2d0c=>{const _0x58f13b=_0x166245,_0x5868c4=new URL(_0x3a2d0c[_0x58f13b(0xec)]()),_0x471e53=_0x5868c4['hostname'],_0x5331f0=_0x5868c4[_0x58f13b(0xed)]||(_0x5882fc[_0x58f13b(0x10a)](_0x5868c4[_0x58f13b(0x115)],_0x5882fc['FxeFF'])?_0x5882fc[_0x58f13b(0x124)]:'80'),_0x1d8547=_0x5868c4[_0x58f13b(0x115)][_0x58f13b(0xf4)](':',''),_0x519a9b=_0x5882fc[_0x58f13b(0x10a)](_0x1d8547,_0x5882fc[_0x58f13b(0x118)])?0x1:0x0;return _0x471e53+','+_0x5331f0+','+_0x519a9b;});},connectCommandBuilder=function(_0x27b3e5){const _0x4fb6aa=a12_0x368adf,_0x578269={};_0x578269[_0x4fb6aa(0x10e)]=_0x4fb6aa(0xfa);const _0x1a0aaf=_0x578269,_0x30e756={};_0x30e756[_0x4fb6aa(0xf9)]=HELP_MESSAGES[_0x4fb6aa(0x11e)][_0x4fb6aa(0x123)],_0x30e756[_0x4fb6aa(0x111)]=_0x1a0aaf['qcbHm'];const _0xf85181={};_0xf85181['describe']=HELP_MESSAGES[_0x4fb6aa(0x11e)][_0x4fb6aa(0x11f)],_0xf85181[_0x4fb6aa(0x111)]=_0x1a0aaf[_0x4fb6aa(0x10e)],_0xf85181[_0x4fb6aa(0x117)]=!![];const _0x2503f0={};return _0x2503f0[_0x4fb6aa(0x105)]=_0x30e756,_0x2503f0['hosts']=_0xf85181,_0x27b3e5[_0x4fb6aa(0x11e)](_0x2503f0);},connectCommandHandler=async function(_0x2a76ff){const _0x2c7eab=a12_0x368adf,_0x94a2f9={'MLUJa':_0x2c7eab(0xe3),'zPYYY':function(_0x2380e0,_0x1a2d6d){return _0x2380e0===_0x1a2d6d;},'qOiuN':'undefined','NtopC':_0x2c7eab(0xf6),'lNrqu':function(_0x2c6724,_0xa6a5dd){return _0x2c6724===_0xa6a5dd;},'rVQVm':'Integration\x20hosts\x20missing.','XPCmb':function(_0x267732,_0x42b4ba){return _0x267732(_0x42b4ba);},'Xxxfz':'Hosts\x20not\x20valid','JcNHC':function(_0x3ec8f2,_0x6ef292){return _0x3ec8f2(_0x6ef292);},'fkxBY':'integrations-repeater','Pyzex':_0x2c7eab(0xf3),'JzObU':_0x2c7eab(0xff)};try{const _0x59e30d=new BrowserStackSetup(_0x2a76ff,_0x94a2f9[_0x2c7eab(0x114)]);_0x2a76ff[_0x2c7eab(0x121)]&&(_0x59e30d[_0x2c7eab(0xe1)][_0x2c7eab(0x119)]=_0x2a76ff[_0x2c7eab(0x121)]);if(_0x94a2f9[_0x2c7eab(0xfe)](typeof _0x59e30d[_0x2c7eab(0xe1)][_0x2c7eab(0x119)],_0x94a2f9[_0x2c7eab(0xe0)])){logger['error'](_0x94a2f9[_0x2c7eab(0x122)]);throw new Error(ERROR_MESSAGES[_0x2c7eab(0x123)][_0x2c7eab(0xf1)]);}const _0x419934=_0x2a76ff['hosts'];if(_0x94a2f9[_0x2c7eab(0x107)](typeof _0x419934,_0x94a2f9[_0x2c7eab(0xe0)])){logger[_0x2c7eab(0xdf)](_0x94a2f9[_0x2c7eab(0xf7)]);throw new Error(ERROR_MESSAGES[_0x2c7eab(0x11f)][_0x2c7eab(0xf1)]);}if(!_0x94a2f9[_0x2c7eab(0x10d)](validHosts,_0x419934)){logger['error'](_0x94a2f9[_0x2c7eab(0x128)]);throw new Error(ERROR_MESSAGES[_0x2c7eab(0x11f)][_0x2c7eab(0xe4)]);}const _0x19d171=_0x94a2f9[_0x2c7eab(0x10b)](parseOnPremHosts,_0x419934);_0x59e30d[_0x2c7eab(0xe1)]['browserstackLocal']=!![],_0x59e30d[_0x2c7eab(0xe1)]['browserStackLocalOptions'][_0x2c7eab(0x10f)]=_0x94a2f9[_0x2c7eab(0x126)],_0x59e30d['config']['browserStackLocalOptions'][_0x2c7eab(0x101)]=_0x19d171[_0x2c7eab(0x125)](','),helper[_0x2c7eab(0x11a)](_0x59e30d[_0x2c7eab(0xe1)]),await _0x59e30d[_0x2c7eab(0x104)](),logger[_0x2c7eab(0xe7)](_0x94a2f9['Pyzex']);}catch(_0x12a015){logger[_0x2c7eab(0xdf)](_0x94a2f9[_0x2c7eab(0xe2)]);throw new Error(_0x12a015[_0x2c7eab(0xea)]());}};function run(_0x3be1e9){const _0x5eba97=a12_0x368adf,_0x20f58e={};_0x20f58e[_0x5eba97(0xee)]='connect',_0x20f58e[_0x5eba97(0x108)]=_0x5eba97(0x11d);const _0x49ee70=_0x20f58e;_0x3be1e9[_0x5eba97(0xf2)](HELP_MESSAGES[_0x5eba97(0xfb)][_0x5eba97(0x109)])[_0x5eba97(0xfb)](_0x49ee70[_0x5eba97(0xee)],HELP_MESSAGES[_0x5eba97(0xfb)][_0x5eba97(0xe9)],connectCommandBuilder,connectCommandHandler)[_0x5eba97(0x11b)]()[_0x5eba97(0x11d)](_0x49ee70[_0x5eba97(0x108)])[_0x5eba97(0x11c)](HELP_MESSAGES['command'][_0x5eba97(0xeb)]);}function a12_0x3161(_0x48b05e,_0x2a49b8){const _0x463f4c=a12_0x463f();return a12_0x3161=function(_0x316135,_0x39740f){_0x316135=_0x316135-0xdf;let _0x1c3d07=_0x463f4c[_0x316135];return _0x1c3d07;},a12_0x3161(_0x48b05e,_0x2a49b8);}module['exports']=run;