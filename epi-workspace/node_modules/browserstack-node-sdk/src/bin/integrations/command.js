#!/usr/bin/env node
'use strict';function a12_0x3668(){const _0x4c51d8=['error','NdKsv','root','Failed\x20to\x20establish\x20connection.','72HoeKHe','browserstackLocal','31HoNpkv','help','string','425466NuNDvl','SjMmY','localIdentifier','connect','footer','options','14457710XlzXGL','bstack-accesskey','protocol','5867704cXrKig','AuOWF','63HnyLTh','zOfCe','https:','hosts','usage','KPxjq','90346WjZewZ','nRMRr','join','7031860JosviB','describe','dliMl','info','accessKey','browserStackLocalOptions','11IzhLoW','url','toString','demandCommand','BrowserStack\x20access\x20key\x20missing.','knqkt','missing','Integration\x20hosts\x20missing.','../../helpers/logger','integrations','command','exports','Snwnf','443','config','undefined','demandOption','trim','every','../../helpers/helper','LqZyt','split','setProxySettings','217044YmdXjU','wxTgE','setupBrowserstackLocal','cAjLI','only','bstackAccessKey','cRyfU','IHxrC','9EttDUA','mZcxc','integrations-repeater','76053216qiMGke','./constants','Jrohv','bstackAccesskey'];a12_0x3668=function(){return _0x4c51d8;};return a12_0x3668();}const a12_0x50aee0=a12_0x1d8d;(function(_0x3ffd1b,_0x513cd0){const _0x3c78df=a12_0x1d8d,_0x91796=_0x3ffd1b();while(!![]){try{const _0x50321e=parseInt(_0x3c78df(0x10b))/0x1*(-parseInt(_0x3c78df(0x11f))/0x2)+parseInt(_0x3c78df(0x13f))/0x3*(-parseInt(_0x3c78df(0x109))/0x4)+-parseInt(_0x3c78df(0x122))/0x5+-parseInt(_0x3c78df(0x10e))/0x6*(parseInt(_0x3c78df(0x119))/0x7)+-parseInt(_0x3c78df(0x117))/0x8*(-parseInt(_0x3c78df(0xfe))/0x9)+parseInt(_0x3c78df(0x114))/0xa*(-parseInt(_0x3c78df(0x128))/0xb)+parseInt(_0x3c78df(0x101))/0xc;if(_0x50321e===_0x513cd0)break;else _0x91796['push'](_0x91796['shift']());}catch(_0x2c01ab){_0x91796['push'](_0x91796['shift']());}}}(a12_0x3668,0xd66b6));function a12_0x1d8d(_0x44507c,_0xff62bb){const _0x36680a=a12_0x3668();return a12_0x1d8d=function(_0x1d8dc7,_0x48f2b1){_0x1d8dc7=_0x1d8dc7-0xfd;let _0x1c424d=_0x36680a[_0x1d8dc7];return _0x1c424d;},a12_0x1d8d(_0x44507c,_0xff62bb);}const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require(a12_0x50aee0(0x130))['winstonLogger'],{URL}=require(a12_0x50aee0(0x129)),helper=require(a12_0x50aee0(0x13b)),{HELP_MESSAGES,ERROR_MESSAGES}=require(a12_0x50aee0(0x102)),validHosts=function(_0x568891){const _0x2e4347=a12_0x50aee0;return _0x568891[_0x2e4347(0x13d)](',')[_0x2e4347(0x13a)](_0x1e2fc1=>{try{new URL(_0x1e2fc1['trim']());}catch(_0x544537){return![];}return!![];});},parseOnPremHosts=function(_0x1a670c){const _0x42cf1e=a12_0x50aee0,_0x520f1e={};_0x520f1e[_0x42cf1e(0x140)]=function(_0xb991e7,_0x3403c7){return _0xb991e7===_0x3403c7;},_0x520f1e[_0x42cf1e(0x142)]=_0x42cf1e(0x11b),_0x520f1e[_0x42cf1e(0x134)]=_0x42cf1e(0x135),_0x520f1e[_0x42cf1e(0x11e)]=function(_0x111c3c,_0x428e93){return _0x111c3c===_0x428e93;},_0x520f1e['BHMhC']='https';const _0xa1b929=_0x520f1e;return _0x1a670c[_0x42cf1e(0x13d)](',')['map'](_0x4dc00b=>{const _0x57f961=_0x42cf1e,_0x49bb22=new URL(_0x4dc00b[_0x57f961(0x139)]()),_0x40bd1c=_0x49bb22['hostname'],_0x21b10f=_0x49bb22['port']||(_0xa1b929[_0x57f961(0x140)](_0x49bb22[_0x57f961(0x116)],_0xa1b929[_0x57f961(0x142)])?_0xa1b929['Snwnf']:'80'),_0x58c398=_0x49bb22['protocol']['replace'](':',''),_0x4f037a=_0xa1b929[_0x57f961(0x11e)](_0x58c398,_0xa1b929['BHMhC'])?0x1:0x0;return _0x40bd1c+','+_0x21b10f+','+_0x4f037a;});},connectCommandBuilder=function(_0x55f4b9){const _0x223677=a12_0x50aee0,_0x54fc01={};_0x54fc01['knqkt']=_0x223677(0x10d);const _0x2a5bf5=_0x54fc01,_0x203718={};_0x203718[_0x223677(0x123)]=HELP_MESSAGES[_0x223677(0x113)][_0x223677(0x144)],_0x203718['type']=_0x2a5bf5[_0x223677(0x12d)];const _0x5a8227={};_0x5a8227[_0x223677(0x123)]=HELP_MESSAGES[_0x223677(0x113)][_0x223677(0x11c)],_0x5a8227['type']=_0x2a5bf5[_0x223677(0x12d)],_0x5a8227[_0x223677(0x138)]=!![];const _0x11913f={};return _0x11913f[_0x223677(0x115)]=_0x203718,_0x11913f[_0x223677(0x11c)]=_0x5a8227,_0x55f4b9['options'](_0x11913f);},connectCommandHandler=async function(_0x5990cd){const _0x1ff6f3=a12_0x50aee0,_0xa4e73b={'mZcxc':_0x1ff6f3(0x131),'SjMmY':function(_0x231809,_0x31585d){return _0x231809===_0x31585d;},'NdKsv':_0x1ff6f3(0x137),'LqZyt':_0x1ff6f3(0x12c),'zOfCe':_0x1ff6f3(0x12f),'HHqCo':function(_0x41ce90,_0xe752cf){return _0x41ce90(_0xe752cf);},'Jrohv':'Hosts\x20not\x20valid','IHxrC':function(_0x64515,_0x21f0b4){return _0x64515(_0x21f0b4);},'dliMl':_0x1ff6f3(0x100),'cRyfU':'Connection\x20established\x20successfully.','FMRVz':_0x1ff6f3(0x108)};try{const _0x10977d=new BrowserStackSetup(_0x5990cd,_0xa4e73b[_0x1ff6f3(0xff)]);_0x5990cd[_0x1ff6f3(0x104)]&&(_0x10977d[_0x1ff6f3(0x136)][_0x1ff6f3(0x126)]=_0x5990cd['bstackAccesskey']);if(_0xa4e73b[_0x1ff6f3(0x10f)](typeof _0x10977d[_0x1ff6f3(0x136)]['accessKey'],_0xa4e73b['NdKsv'])){logger[_0x1ff6f3(0x105)](_0xa4e73b[_0x1ff6f3(0x13c)]);throw new Error(ERROR_MESSAGES[_0x1ff6f3(0x144)][_0x1ff6f3(0x12e)]);}const _0x4d354b=_0x5990cd['hosts'];if(_0xa4e73b['SjMmY'](typeof _0x4d354b,_0xa4e73b[_0x1ff6f3(0x106)])){logger[_0x1ff6f3(0x105)](_0xa4e73b[_0x1ff6f3(0x11a)]);throw new Error(ERROR_MESSAGES[_0x1ff6f3(0x11c)][_0x1ff6f3(0x12e)]);}if(!_0xa4e73b['HHqCo'](validHosts,_0x4d354b)){logger[_0x1ff6f3(0x105)](_0xa4e73b[_0x1ff6f3(0x103)]);throw new Error(ERROR_MESSAGES['hosts']['invalid']);}const _0x1322b2=_0xa4e73b[_0x1ff6f3(0xfd)](parseOnPremHosts,_0x4d354b);_0x10977d[_0x1ff6f3(0x136)][_0x1ff6f3(0x10a)]=!![],_0x10977d['config']['browserStackLocalOptions'][_0x1ff6f3(0x110)]=_0xa4e73b[_0x1ff6f3(0x124)],_0x10977d[_0x1ff6f3(0x136)][_0x1ff6f3(0x127)][_0x1ff6f3(0x143)]=_0x1322b2[_0x1ff6f3(0x121)](','),helper[_0x1ff6f3(0x13e)](_0x10977d[_0x1ff6f3(0x136)]),await _0x10977d[_0x1ff6f3(0x141)](),logger[_0x1ff6f3(0x125)](_0xa4e73b[_0x1ff6f3(0x145)]);}catch(_0x58ffc7){logger[_0x1ff6f3(0x105)](_0xa4e73b['FMRVz']);throw new Error(_0x58ffc7[_0x1ff6f3(0x12a)]());}};function run(_0x16c413){const _0x3f100b=a12_0x50aee0,_0x5a64f8={};_0x5a64f8[_0x3f100b(0x120)]=_0x3f100b(0x111),_0x5a64f8[_0x3f100b(0x118)]=_0x3f100b(0x10c);const _0x185acd=_0x5a64f8;_0x16c413[_0x3f100b(0x11d)](HELP_MESSAGES[_0x3f100b(0x132)][_0x3f100b(0x107)])['command'](_0x185acd['nRMRr'],HELP_MESSAGES[_0x3f100b(0x132)]['connect'],connectCommandBuilder,connectCommandHandler)[_0x3f100b(0x12b)]()[_0x3f100b(0x10c)](_0x185acd[_0x3f100b(0x118)])['epilogue'](HELP_MESSAGES['command'][_0x3f100b(0x112)]);}module[a12_0x50aee0(0x133)]=run;