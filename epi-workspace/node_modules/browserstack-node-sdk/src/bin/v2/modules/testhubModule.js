function a85_0x5bd0(){const _0x6ec9f3=['2870928lEAKMw','../framework/testFramework.js','QQGmG','sendTestFrameworkEvent\x20complete\x20for\x20testState:\x20','version','CREATE','debug','../cliUtils.js','recreateIdentifierFromTestInfo','wRgLY','KEY_TEST_DEFERRED','2362920uobuZd','KEY_TEST_FRAMEWORK_NAME','../../../helpers/helper.js','registerObserver','Error\x20in\x20sendTestFrameworkEvent:\x20','../state/testFrameworkState.js','getThreadId','onAllTestEvents','LmFdo','KEY_HUB_URL','1271013QMXIfb','LmtxF','logger','KEY_PLATFORM_INDEX','../browserstackCLI.js','708jWcVXB','forEach','./playwrightDriverModule.js','instance','TestHubModule','split','getContext','JEST','1220WWJGYo','../framework/constants/testFrameworkConstants.js','5YQwkTJ','52470Kvogqg','getId','4310476RTxVXV','createTestFrameworkEventPayload','isLTSSession','error','../../../helpers/test-observability/constants.js','KEY_CAPABILITIES','values','2|8|6|0|5|4|3|7|1','486357scMRaP','onPageCreate\x20CBTSession\x20payload:\x20','matchHookRegex','PrXQh','sendTestFrameworkEvent','length','tnoex','4tjgSwV','sendTestFrameworkEvent:\x20No\x20payload\x20created,\x20skipping\x20test\x20framework\x20event','../state/automationFrameworkState.js','getTestId','name','JBXoI','jvgmS','Error\x20in\x20sending\x20CBTSession:\x20','KEY_SESSION_ID','testFrameworkEvent','6531myOPNl','getTestDetails','getState','getJwt','test_deferred','getModuleName','format','CUCUMBER','\x20hookState:\x20','./baseModule','TEST','from','env','getTestIdentifierFromTestInfo','onPageCreate:\x20Recreated\x20Jest\x20testIdentifier:\x20','page','frameworkName','bind','getTestFramework',',\x20test_identifier:\x20','getRef','onPageCreate','POST','testhubConfig','testInfo','testFrameworkData','../../../helpers/testhub/constants','ENV_VAR','getInstance','hookState','toString','getCurrentTestState','BROWSERSTACK_TESTHUB_JWT','getLTSSessionId','testFrameworkState','rdlwc','../framework/automationFramework.js','retry','testUuid','base64','../../../helpers/classLogger.js'];a85_0x5bd0=function(){return _0x6ec9f3;};return a85_0x5bd0();}const a85_0x2180d9=a85_0x4185;(function(_0x27cb5f,_0x54ee50){const _0x2c17f5=a85_0x4185,_0x48cba5=_0x27cb5f();while(!![]){try{const _0x5ccfb8=-parseInt(_0x2c17f5(0x97))/0x1*(-parseInt(_0x2c17f5(0x9e))/0x2)+-parseInt(_0x2c17f5(0x7d))/0x3+-parseInt(_0x2c17f5(0x8f))/0x4*(-parseInt(_0x2c17f5(0x8c))/0x5)+parseInt(_0x2c17f5(0x82))/0x6*(parseInt(_0x2c17f5(0xa8))/0x7)+-parseInt(_0x2c17f5(0x73))/0x8+-parseInt(_0x2c17f5(0x68))/0x9+parseInt(_0x2c17f5(0x8a))/0xa*(-parseInt(_0x2c17f5(0x8d))/0xb);if(_0x5ccfb8===_0x54ee50)break;else _0x48cba5['push'](_0x48cba5['shift']());}catch(_0x37d08d){_0x48cba5['push'](_0x48cba5['shift']());}}}(a85_0x5bd0,0x83f2b));const util=require('util'),BaseModule=require(a85_0x2180d9(0xb1)),{createClassLogger}=require(a85_0x2180d9(0xd0)),AutomationFramework=require(a85_0x2180d9(0xcc)),AutomationFrameworkState=require(a85_0x2180d9(0xa0)),HookState=require('../state/hookState.js'),TestFramework=require(a85_0x2180d9(0x69)),TestFrameworkState=require(a85_0x2180d9(0x78)),PlaywrightDriverModule=require(a85_0x2180d9(0x84)),TestFrameworkConstants=require(a85_0x2180d9(0x8b)),GrpcClient=require('../grpcClient.js'),CLIUtils=require(a85_0x2180d9(0x6f)),TestInfo=require('../TestInfo.js'),testHubConstants=require(a85_0x2180d9(0xc2)),{FRAMEWORKS}=require(a85_0x2180d9(0x93)),helper=require(a85_0x2180d9(0x75)),LoadTestModule=require('./loadTestModule.js'),JestUtils=require('../utils/jest-utils.js'),BrowserstackCLI=require(a85_0x2180d9(0x81)),{getPlaywrightProvider}=require(a85_0x2180d9(0x75));function a85_0x4185(_0x10b2ec,_0x1e4e30){const _0x5bd028=a85_0x5bd0();return a85_0x4185=function(_0x418504,_0x398295){_0x418504=_0x418504-0x68;let _0x3f9f07=_0x5bd028[_0x418504];return _0x3f9f07;},a85_0x4185(_0x10b2ec,_0x1e4e30);}class TestHubModule extends BaseModule{[a85_0x2180d9(0x7f)]=createClassLogger(a85_0x2180d9(0x86));constructor(_0x54e933,_0x2f24a1=null){const _0x397bd7=a85_0x2180d9,_0x2967ba={};_0x2967ba['LmFdo']=_0x397bd7(0x96),_0x2967ba[_0x397bd7(0x71)]=_0x397bd7(0x86);const _0x59575e=_0x2967ba,_0xd361d2=_0x59575e[_0x397bd7(0x7b)]['split']('|');let _0x5ba0e4=0x0;while(!![]){switch(_0xd361d2[_0x5ba0e4++]){case'0':this['jestUtils']=new JestUtils();continue;case'1':BrowserstackCLI['O11yHashedID']=this[_0x397bd7(0xbf)]['getBuildHashedId']();continue;case'2':super(_0x2f24a1);continue;case'3':process[_0x397bd7(0xb4)][testHubConstants[_0x397bd7(0xc3)][_0x397bd7(0xc8)]]=this[_0x397bd7(0xbf)][_0x397bd7(0xab)]();continue;case'4':Object[_0x397bd7(0x95)](TestFrameworkState)[_0x397bd7(0x83)](_0x58a071=>{const _0x252c47=_0x397bd7;Object['values'](HookState)[_0x252c47(0x83)](_0x18c006=>{const _0x1aeada=_0x252c47;TestFramework[_0x1aeada(0x76)](_0x58a071,_0x18c006,this[_0x1aeada(0x7a)][_0x1aeada(0xb9)](this));});});continue;case'5':AutomationFramework[_0x397bd7(0x76)](AutomationFrameworkState[_0x397bd7(0x6d)],HookState[_0x397bd7(0xbe)],this[_0x397bd7(0xbd)][_0x397bd7(0xb9)](this));continue;case'6':this[_0x397bd7(0xbf)]=_0x54e933;continue;case'7':process[_0x397bd7(0xb4)][testHubConstants[_0x397bd7(0xc3)]['BROWSERSTACK_TESTHUB_UUID']]=this[_0x397bd7(0xbf)]['getBuildHashedId']();continue;case'8':this['name']=_0x59575e['wRgLY'];continue;}break;}}[a85_0x2180d9(0xad)](){return TestHubModule['MODULE_NAME'];}[a85_0x2180d9(0x7a)](_0x33578b){const _0x2b29ba=a85_0x2180d9,_0x547d37={};_0x547d37[_0x2b29ba(0x7e)]=function(_0x5edc35,_0x132fa7){return _0x5edc35===_0x132fa7;};const _0x1eebfe=_0x547d37,_0x5c0a26=_0x33578b[_0x2b29ba(0x85)],_0x5340de=_0x5c0a26[_0x2b29ba(0xc7)]();(_0x1eebfe[_0x2b29ba(0x7e)](_0x5340de,TestFrameworkState[_0x2b29ba(0xb2)])||CLIUtils[_0x2b29ba(0x99)](_0x5340de[_0x2b29ba(0xc6)]()['split']('.')[0x1]))&&this['sendTestFrameworkEvent'](_0x33578b);}async[a85_0x2180d9(0x9b)](_0x35d4d3){const _0x2e4a27=a85_0x2180d9,_0x3e1fa5={};_0x3e1fa5[_0x2e4a27(0xa4)]=function(_0x369cba,_0x423c1c){return _0x369cba===_0x423c1c;},_0x3e1fa5[_0x2e4a27(0x9a)]=_0x2e4a27(0x9f);const _0x455b8a=_0x3e1fa5;try{const _0x40db24=BrowserstackCLI[_0x2e4a27(0xc4)]()[_0x2e4a27(0xba)]()[_0x2e4a27(0x90)](_0x35d4d3);if(!_0x40db24||_0x455b8a[_0x2e4a27(0xa4)](Object['keys'](_0x40db24)[_0x2e4a27(0x9c)],0x0)){this['logger'][_0x2e4a27(0x6e)](_0x455b8a['PrXQh']);return;}const _0x95e0c1=await GrpcClient[_0x2e4a27(0xc4)]()[_0x2e4a27(0xa7)](_0x40db24);this[_0x2e4a27(0x7f)][_0x2e4a27(0x6e)](_0x2e4a27(0x6b)+_0x40db24[_0x2e4a27(0xca)]+_0x2e4a27(0xb0)+_0x40db24[_0x2e4a27(0xc5)]);}catch(_0x34261e){this[_0x2e4a27(0x7f)][_0x2e4a27(0x92)](_0x2e4a27(0x77)+util[_0x2e4a27(0xae)](_0x34261e));}}async[a85_0x2180d9(0xbd)](_0xc88ed1){const _0x495c52=a85_0x2180d9,_0x360d5d={'rdlwc':function(_0x285fd4,_0x2482d0){return _0x285fd4===_0x2482d0;},'QQGmG':'onPageCreate:\x20Skipping\x20CBT\x20session\x20event\x20-\x20no\x20testInfo\x20(page\x20created\x20outside\x20test\x20context)','JBXoI':function(_0x5e67e0,_0x3c9640){return _0x5e67e0===_0x3c9640;},'KUgVT':function(_0x3bdaf2,_0x7fe092){return _0x3bdaf2(_0x7fe092);},'tnoex':_0x495c52(0xcf)};try{if(_0xc88ed1[_0x495c52(0xb7)]){const _0x9ddf91=this[_0x495c52(0xa1)](_0xc88ed1);this[_0x495c52(0x7f)][_0x495c52(0x6e)]('onPageCreate\x20Sending\x20CBT\x20for\x20testId:\x20'+_0x9ddf91);if(this[_0x495c52(0xc1)]&&_0x360d5d[_0x495c52(0xcb)](this['testFrameworkData']['name'],FRAMEWORKS[_0x495c52(0x89)])&&!_0xc88ed1[_0x495c52(0xc0)]){this[_0x495c52(0x7f)][_0x495c52(0x6e)](_0x360d5d[_0x495c52(0x6a)]);return;}let _0x2222c9,_0x3b8b1d;if(this[_0x495c52(0xc1)]&&_0x360d5d[_0x495c52(0xcb)](this[_0x495c52(0xc1)][_0x495c52(0xa2)],FRAMEWORKS[_0x495c52(0xaf)]))_0x2222c9=_0x9ddf91,_0x3b8b1d=TestInfo['getTestUUID'](_0x2222c9);else this[_0x495c52(0xc1)]&&_0x360d5d[_0x495c52(0xa3)](this['testFrameworkData'][_0x495c52(0xa2)],FRAMEWORKS['JEST'])?(_0x2222c9=this['jestUtils'][_0x495c52(0x70)](_0xc88ed1[_0x495c52(0xc0)]),this['logger'][_0x495c52(0x6e)](_0x495c52(0xb6)+_0x2222c9)):(_0x2222c9=TestInfo[_0x495c52(0xb5)](_0xc88ed1['testInfo'],_0xc88ed1[_0x495c52(0xc0)][_0x495c52(0xcd)]),_0x3b8b1d=TestInfo['getTestUUID'](_0x2222c9));const _0x48bb2b=TestInfo[_0x495c52(0xa9)](_0x2222c9),_0xb2b03=_0xc88ed1[_0x495c52(0x85)],_0x3bf354=AutomationFramework[_0x495c52(0xaa)](_0xb2b03,PlaywrightDriverModule[_0x495c52(0x80)]),_0x4339bd=_0x48bb2b?.[TestFrameworkConstants[_0x495c52(0x74)]]||this[_0x495c52(0xc1)]&&this['testFrameworkData'][_0x495c52(0xa2)],_0x4f74d6=_0x48bb2b?.[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]||this[_0x495c52(0xc1)]&&this[_0x495c52(0xc1)][_0x495c52(0x6c)],_0x253989=TestFrameworkState[_0x495c52(0xb2)][_0x495c52(0xc6)]()[_0x495c52(0x87)]('.')[0x1],_0x277c73=HookState[_0x495c52(0xbe)][_0x495c52(0xc6)]()[_0x495c52(0x87)]('.')[0x1],_0x32994e=_0xb2b03[_0x495c52(0x88)](),_0x1126ca=AutomationFramework[_0x495c52(0xaa)](_0xb2b03,PlaywrightDriverModule[_0x495c52(0x7c)],''),_0x48eda1={'provider':_0x360d5d['KUgVT'](getPlaywrightProvider,_0x1126ca),'frameworkName':_0xb2b03[_0x495c52(0xb8)],'frameworkVersion':_0xb2b03['frameworkVersion'],'frameworkSessionId':LoadTestModule[_0x495c52(0x91)]()?LoadTestModule[_0x495c52(0xc9)]():AutomationFramework[_0x495c52(0xaa)](_0xb2b03,PlaywrightDriverModule[_0x495c52(0xa6)],''),'ref':_0xb2b03[_0x495c52(0xbc)](),'hubUrl':_0x1126ca};let _0x16d50e=AutomationFramework[_0x495c52(0xaa)](_0xb2b03,PlaywrightDriverModule[_0x495c52(0x94)],{});_0x16d50e=Buffer[_0x495c52(0xb3)](JSON['stringify'](_0x16d50e))[_0x495c52(0xc6)](_0x360d5d[_0x495c52(0x9d)]);const _0xa6bd9e={'hash':_0x32994e[_0x495c52(0x8e)](),'threadId':_0x32994e[_0x495c52(0x79)]()[_0x495c52(0xc6)](),'processId':_0x32994e['getProcessId']()[_0x495c52(0xc6)]()},_0xf3ce57={};_0xf3ce57['test_identifier']=_0x2222c9;const _0x53e55f={};_0x53e55f[_0x495c52(0xce)]=_0x3b8b1d;const _0x3d0c31={'platformIndex':_0x3bf354,'testFrameworkName':_0x4339bd,'testFrameworkVersion':_0x4f74d6,'testFrameworkState':_0x253989,'testHookState':_0x277c73,...this[_0x495c52(0xc1)]&&_0x360d5d[_0x495c52(0xcb)](this[_0x495c52(0xc1)][_0x495c52(0xa2)],FRAMEWORKS[_0x495c52(0x89)])?_0xf3ce57:_0x53e55f,'automationSession':_0x48eda1,'capabilities':_0x16d50e,'executionContext':_0xa6bd9e};this[_0x495c52(0x7f)][_0x495c52(0x6e)](_0x495c52(0x98)+util['format'](_0x3d0c31));const _0x1147ae=await GrpcClient[_0x495c52(0xc4)]()['testSessionEvent'](_0x3d0c31);this[_0x495c52(0x7f)][_0x495c52(0x6e)]('onPageCreate\x20CBTSession\x20complete\x20for\x20testId:\x20'+_0x9ddf91+(this[_0x495c52(0xc1)]&&_0x360d5d[_0x495c52(0xcb)](this[_0x495c52(0xc1)][_0x495c52(0xa2)],FRAMEWORKS[_0x495c52(0x89)])?_0x495c52(0xbb)+_0x2222c9:''));}}catch(_0xe1d3a3){this[_0x495c52(0x7f)][_0x495c52(0x92)](_0x495c52(0xa5)+util[_0x495c52(0xae)](_0xe1d3a3));}}}TestHubModule['MODULE_NAME']=a85_0x2180d9(0x86),TestHubModule[a85_0x2180d9(0x72)]=a85_0x2180d9(0xac),module['exports']=TestHubModule;