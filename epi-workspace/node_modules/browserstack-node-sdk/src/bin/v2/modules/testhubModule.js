function a82_0x208a(){const _0x2a171e=['testFrameworkName','BROWSERSTACK_TESTHUB_JWT','KEY_TEST_FRAMEWORK_VERSION','../browserstackCLI.js','../grpcClient.js','getState','EGALM','./playwrightDriverModule.js','../../../helpers/helper.js','TestHubModule','frameworkName','testFrameworkData','CUCUMBER','values','122621hwwQIs','instance','sendTestFrameworkEvent:\x20No\x20payload\x20created,\x20skipping\x20test\x20framework\x20event','../../../helpers/classLogger.js','getBuildHashedId','WEApl','getId','POST','getTestUUID','2383464xCOvSp','hookState','onAllTestEvents','keys','4|2|0|1|5|6|3|7','TEST','5093043YGDPSg','error','testInfo','JEST','../cliUtils.js','getJwt','testhubConfig','oafWl','\x20hookState:\x20','test_deferred','../framework/constants/testFrameworkConstants.js','name','75782941klBTxW','toString','testUuid','9Rupjgd','onPageCreate','forEach','onPageCreate\x20Sending\x20CBT\x20for\x20testId:\x20','from','frameworkVersion','bind','getTestId','format','40YraQKM','zpmQp','platformIndex','Zbvpm','4cUkbqQ','page','../framework/testFramework.js','getTestDetails','2104879wXVoca','../state/automationFrameworkState.js','KEY_PLATFORM_INDEX','./baseModule','logger','18165230IqQQYs','onPageCreate\x20CBTSession\x20complete\x20for\x20testId:\x20','ENV_VAR','getRef','getProcessId','debug','MODULE_NAME','capabilities','createTestFrameworkEventPayload','77NyrkLu','../state/hookState.js','Error\x20in\x20sendTestFrameworkEvent:\x20','getInstance','mLJgn','24cQXJJd','getTestIdentifierFromTestInfo','sendTestFrameworkEvent','testSessionEvent','KEY_HUB_URL','onPageCreate\x20CBTSession\x20payload:\x20','testHookState','KEY_TEST_FRAMEWORK_NAME','split','../framework/automationFramework.js','base64','KEY_SESSION_ID','5484biPRuP','length','9155gAEydd','HewJI','env','registerObserver','getContext','testFrameworkState','getThreadId','sendTestFrameworkEvent\x20complete\x20for\x20testState:\x20'];a82_0x208a=function(){return _0x2a171e;};return a82_0x208a();}const a82_0x5625f5=a82_0x56ad;(function(_0x547857,_0x2f6ff5){const _0x206058=a82_0x56ad,_0x2161e2=_0x547857();while(!![]){try{const _0x3ed349=parseInt(_0x206058(0x80))/0x1*(parseInt(_0x206058(0xc2))/0x2)+parseInt(_0x206058(0x8f))/0x3*(parseInt(_0x206058(0xab))/0x4)+-parseInt(_0x206058(0xd0))/0x5*(-parseInt(_0x206058(0xce))/0x6)+parseInt(_0x206058(0xaf))/0x7*(parseInt(_0x206058(0xa7))/0x8)+parseInt(_0x206058(0x9e))/0x9*(parseInt(_0x206058(0xb4))/0xa)+parseInt(_0x206058(0xbd))/0xb*(-parseInt(_0x206058(0x89))/0xc)+-parseInt(_0x206058(0x9b))/0xd;if(_0x3ed349===_0x2f6ff5)break;else _0x2161e2['push'](_0x2161e2['shift']());}catch(_0x25407d){_0x2161e2['push'](_0x2161e2['shift']());}}}(a82_0x208a,0xe6310));const util=require('util'),BaseModule=require(a82_0x5625f5(0xb2)),{createClassLogger}=require(a82_0x5625f5(0x83)),AutomationFramework=require(a82_0x5625f5(0xcb)),AutomationFrameworkState=require(a82_0x5625f5(0xb0)),HookState=require(a82_0x5625f5(0xbe)),TestFramework=require(a82_0x5625f5(0xad)),TestFrameworkState=require('../state/testFrameworkState.js'),PlaywrightDriverModule=require(a82_0x5625f5(0xdf)),TestFrameworkConstants=require(a82_0x5625f5(0x99)),GrpcClient=require(a82_0x5625f5(0xdc)),CLIUtils=require(a82_0x5625f5(0x93)),TestInfo=require('../TestInfo.js'),testHubConstants=require('../../../helpers/testhub/constants'),{FRAMEWORKS}=require('../../../helpers/test-observability/constants.js'),BrowserstackCLI=require(a82_0x5625f5(0xdb)),{getPlaywrightProvider}=require(a82_0x5625f5(0x7a));class TestHubModule extends BaseModule{['logger']=createClassLogger('TestHubModule');constructor(_0x1a2a13,_0xf2aec7=null){const _0x22e1d1=a82_0x5625f5,_0x4932cb={};_0x4932cb[_0x22e1d1(0xc1)]=_0x22e1d1(0x8d),_0x4932cb[_0x22e1d1(0xde)]=_0x22e1d1(0x7b);const _0x4304bc=_0x4932cb,_0x3fc985=_0x4304bc[_0x22e1d1(0xc1)]['split']('|');let _0x2230bb=0x0;while(!![]){switch(_0x3fc985[_0x2230bb++]){case'0':this[_0x22e1d1(0x95)]=_0x1a2a13;continue;case'1':AutomationFramework[_0x22e1d1(0xd3)](AutomationFrameworkState['CREATE'],HookState['POST'],this[_0x22e1d1(0x9f)]['bind'](this));continue;case'2':this[_0x22e1d1(0x9a)]=_0x4304bc[_0x22e1d1(0xde)];continue;case'3':process[_0x22e1d1(0xd2)][testHubConstants[_0x22e1d1(0xb6)]['BROWSERSTACK_TESTHUB_UUID']]=this[_0x22e1d1(0x95)][_0x22e1d1(0x84)]();continue;case'4':super(_0xf2aec7);continue;case'5':Object[_0x22e1d1(0x7f)](TestFrameworkState)[_0x22e1d1(0xa0)](_0x16ded8=>{const _0x48bc2e=_0x22e1d1;Object[_0x48bc2e(0x7f)](HookState)[_0x48bc2e(0xa0)](_0x161ae5=>{const _0x1ac1f2=_0x48bc2e;TestFramework[_0x1ac1f2(0xd3)](_0x16ded8,_0x161ae5,this[_0x1ac1f2(0x8b)][_0x1ac1f2(0xa4)](this));});});continue;case'6':process[_0x22e1d1(0xd2)][testHubConstants['ENV_VAR'][_0x22e1d1(0xd9)]]=this[_0x22e1d1(0x95)][_0x22e1d1(0x94)]();continue;case'7':BrowserstackCLI['O11yHashedID']=this[_0x22e1d1(0x95)][_0x22e1d1(0x84)]();continue;}break;}}['getModuleName'](){const _0x4f9d05=a82_0x5625f5;return TestHubModule[_0x4f9d05(0xba)];}[a82_0x5625f5(0x8b)](_0x36c6b2){const _0x1c8220=a82_0x5625f5,_0x335859={};_0x335859[_0x1c8220(0xa8)]=function(_0x3344cb,_0x16f430){return _0x3344cb===_0x16f430;};const _0x3e74a6=_0x335859,_0x1adce1=_0x36c6b2[_0x1c8220(0x81)],_0x491f35=_0x1adce1['getCurrentTestState']();(_0x3e74a6[_0x1c8220(0xa8)](_0x491f35,TestFrameworkState[_0x1c8220(0x8e)])||CLIUtils['matchHookRegex'](_0x491f35['toString']()['split']('.')[0x1]))&&this[_0x1c8220(0xc4)](_0x36c6b2);}async[a82_0x5625f5(0xc4)](_0x371bda){const _0x28211d=a82_0x5625f5,_0x37c159={};_0x37c159['KqEiu']=function(_0x5a6dbc,_0x2b2a47){return _0x5a6dbc===_0x2b2a47;},_0x37c159['Zbvpm']=_0x28211d(0x82);const _0x9cc1e5=_0x37c159;try{const _0x26aaf6=BrowserstackCLI[_0x28211d(0xc0)]()['getTestFramework']()[_0x28211d(0xbc)](_0x371bda);if(!_0x26aaf6||_0x9cc1e5['KqEiu'](Object[_0x28211d(0x8c)](_0x26aaf6)[_0x28211d(0xcf)],0x0)){this[_0x28211d(0xb3)][_0x28211d(0xb9)](_0x9cc1e5[_0x28211d(0xaa)]);return;}const _0x3f8c08=await GrpcClient[_0x28211d(0xc0)]()['testFrameworkEvent'](_0x26aaf6);this[_0x28211d(0xb3)][_0x28211d(0xb9)](_0x28211d(0xd7)+_0x26aaf6[_0x28211d(0xd5)]+_0x28211d(0x97)+_0x26aaf6[_0x28211d(0x8a)]);}catch(_0x54b823){this[_0x28211d(0xb3)][_0x28211d(0x90)](_0x28211d(0xbf)+util[_0x28211d(0xa6)](_0x54b823));}}async[a82_0x5625f5(0x9f)](_0x14120e){const _0x19ffbe=a82_0x5625f5,_0x8fb93d={'WEApl':function(_0x37bf53,_0x144998){return _0x37bf53===_0x144998;},'oafWl':function(_0x684fa7,_0x164fc0){return _0x684fa7===_0x164fc0;},'HewJI':function(_0x2fb1c2,_0x3d122c){return _0x2fb1c2(_0x3d122c);},'MVktF':_0x19ffbe(0xcc)};try{if(_0x14120e[_0x19ffbe(0xac)]){const _0x3cbb51=this[_0x19ffbe(0xa5)](_0x14120e);this[_0x19ffbe(0xb3)][_0x19ffbe(0xb9)](_0x19ffbe(0xa1)+_0x3cbb51);let _0x22eb74;if(this['testFrameworkData']&&_0x8fb93d[_0x19ffbe(0x85)](this[_0x19ffbe(0x7d)]['name'],FRAMEWORKS[_0x19ffbe(0x7e)]))_0x22eb74=_0x3cbb51;else this[_0x19ffbe(0x7d)]&&_0x8fb93d[_0x19ffbe(0x96)](this[_0x19ffbe(0x7d)][_0x19ffbe(0x9a)],FRAMEWORKS[_0x19ffbe(0x92)])?_0x22eb74=_0x3cbb51:_0x22eb74=TestInfo[_0x19ffbe(0xc3)](_0x14120e[_0x19ffbe(0x91)],_0x14120e[_0x19ffbe(0x91)]['retry']);const _0x348461=TestInfo[_0x19ffbe(0x88)](_0x22eb74),_0x37cb8a=TestInfo[_0x19ffbe(0xae)](_0x22eb74),_0x5c527c=_0x14120e[_0x19ffbe(0x81)],_0x2c8266=AutomationFramework['getState'](_0x5c527c,PlaywrightDriverModule[_0x19ffbe(0xb1)]),_0xb9a74d=_0x37cb8a[TestFrameworkConstants[_0x19ffbe(0xc9)]]||this['testFrameworkData']&&this[_0x19ffbe(0x7d)][_0x19ffbe(0x9a)],_0x577c95=_0x37cb8a[TestFrameworkConstants[_0x19ffbe(0xda)]]||this[_0x19ffbe(0x7d)]&&this[_0x19ffbe(0x7d)]['version'],_0x2b6ee0=TestFrameworkState['TEST'][_0x19ffbe(0x9c)]()[_0x19ffbe(0xca)]('.')[0x1],_0x287a25=HookState[_0x19ffbe(0x87)][_0x19ffbe(0x9c)]()[_0x19ffbe(0xca)]('.')[0x1],_0x558c51=_0x5c527c[_0x19ffbe(0xd4)](),_0x214910=AutomationFramework['getState'](_0x5c527c,PlaywrightDriverModule[_0x19ffbe(0xc6)],''),_0x1503f1={'provider':_0x8fb93d[_0x19ffbe(0xd1)](getPlaywrightProvider,_0x214910),'frameworkName':_0x5c527c[_0x19ffbe(0x7c)],'frameworkVersion':_0x5c527c[_0x19ffbe(0xa3)],'frameworkSessionId':AutomationFramework[_0x19ffbe(0xdd)](_0x5c527c,PlaywrightDriverModule[_0x19ffbe(0xcd)],''),'ref':_0x5c527c[_0x19ffbe(0xb7)](),'hubUrl':_0x214910};let _0x5a685a=AutomationFramework[_0x19ffbe(0xdd)](_0x5c527c,PlaywrightDriverModule['KEY_CAPABILITIES'],{});_0x5a685a=Buffer[_0x19ffbe(0xa2)](JSON['stringify'](_0x5a685a))[_0x19ffbe(0x9c)](_0x8fb93d['MVktF']);const _0x1a57db={'hash':_0x558c51[_0x19ffbe(0x86)](),'threadId':_0x558c51[_0x19ffbe(0xd6)]()['toString'](),'processId':_0x558c51[_0x19ffbe(0xb8)]()[_0x19ffbe(0x9c)]()},_0x1000ca={};_0x1000ca[_0x19ffbe(0xa9)]=_0x2c8266,_0x1000ca[_0x19ffbe(0xd8)]=_0xb9a74d,_0x1000ca['testFrameworkVersion']=_0x577c95,_0x1000ca[_0x19ffbe(0xd5)]=_0x2b6ee0,_0x1000ca[_0x19ffbe(0xc8)]=_0x287a25,_0x1000ca[_0x19ffbe(0x9d)]=_0x348461,_0x1000ca['automationSession']=_0x1503f1,_0x1000ca[_0x19ffbe(0xbb)]=_0x5a685a,_0x1000ca['executionContext']=_0x1a57db;const _0x2cd7a8=_0x1000ca;this[_0x19ffbe(0xb3)][_0x19ffbe(0xb9)](_0x19ffbe(0xc7)+util[_0x19ffbe(0xa6)](_0x2cd7a8));const _0x193000=await GrpcClient[_0x19ffbe(0xc0)]()[_0x19ffbe(0xc5)](_0x2cd7a8);this[_0x19ffbe(0xb3)][_0x19ffbe(0xb9)](_0x19ffbe(0xb5)+_0x3cbb51);}}catch(_0x12e56c){this[_0x19ffbe(0xb3)]['error']('Error\x20in\x20sending\x20CBTSession:\x20'+util[_0x19ffbe(0xa6)](_0x12e56c));}}}function a82_0x56ad(_0x596cc1,_0x3e2275){const _0x208a7a=a82_0x208a();return a82_0x56ad=function(_0x56ad03,_0x3c2781){_0x56ad03=_0x56ad03-0x7a;let _0x3cde20=_0x208a7a[_0x56ad03];return _0x3cde20;},a82_0x56ad(_0x596cc1,_0x3e2275);}TestHubModule[a82_0x5625f5(0xba)]=a82_0x5625f5(0x7b),TestHubModule['KEY_TEST_DEFERRED']=a82_0x5625f5(0x98),module['exports']=TestHubModule;