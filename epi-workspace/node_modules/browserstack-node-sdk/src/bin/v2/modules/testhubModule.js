function a76_0xda3a(){const _0x11aa7c=['../state/testFrameworkState.js','base64','sendTestFrameworkEvent','instance','format','KEY_HUB_URL','4LMpQjk','capabilities','Error\x20in\x20sending\x20CBTSession:\x20','onPageCreate\x20Sending\x20CBT\x20for\x20testId:\x20','frameworkVersion','registerObserver','getAllData','../TestInfo.js','266334QnNqCW','testFrameworkState','onPageCreate','uuid','jyWvr','KEY_TEST_ENDED_AT','getCurrentTestState','ENV_VAR','KEY_CAPABILITIES','../cliUtils.js','../state/hookState.js','test_deferred','../../../helpers/classLogger.js','TEST','getProcessId','KEY_TEST_FRAMEWORK_VERSION','BROWSERSTACK_TESTHUB_JWT','testFrameworkEvent','debug','wkkwt','3349156VezYhl','../framework/constants/testFrameworkConstants.js','toString','stringify','getModuleName','exports','300247VzrdmM','getRef','../framework/testFramework.js','KEY_TEST_DEFERRED','getContext','../state/automationFrameworkState.js','values','getThreadId','wSccC','getTestUUID','testhubConfig','sendTestFrameworkEvent\x20testId:\x20','KEY_SESSION_ID','2661780cbsrAO','testFrameworkName','getBuildHashedId','platformIndex','../framework/automationFramework.js','161rBZcXe','frameworkName','MODULE_NAME','../grpcClient.js','./playwrightDriverModule.js','testUuid','KEY_PLATFORM_INDEX','env','../../../helpers/testhub/constants','\x20testState:\x20','../../../helpers/helper.js','testInfo','get','getId','Error\x20in\x20sendTestFrameworkEvent:\x20','split','onPageCreate\x20CBTSession\x20complete\x20for\x20testId:\x20','workerInfo','getCurrentHookState','util','automationSession','fjHxx','error','TestHubModule','onAllTestEvents','logger','13998663BoSATh','KEY_TEST_FRAMEWORK_NAME','POST','__workerDetails','./baseModule','5630000CMpKXs','bind','eventJson','CREATE','executionContext','MiRaK','endedAt','KoTvX','hookState','testFrameworkVersion','getState','testSessionEvent','onPageCreate\x20CBTSession\x20payload:\x20','2062685sRsuOR','forEach','matchHookRegex','getJwt','parallelIndex','sendTestFrameworkEvent\x20complete\x20for\x20testId:\x20','from','name','\x20hookState:\x20'];a76_0xda3a=function(){return _0x11aa7c;};return a76_0xda3a();}const a76_0x5adeea=a76_0x4279;(function(_0x4ebae3,_0x137c8c){const _0x5b7db5=a76_0x4279,_0x39a1d7=_0x4ebae3();while(!![]){try{const _0x4e8b87=-parseInt(_0x5b7db5(0xd1))/0x1*(-parseInt(_0x5b7db5(0xaf))/0x2)+-parseInt(_0x5b7db5(0xde))/0x3+-parseInt(_0x5b7db5(0xcb))/0x4+parseInt(_0x5b7db5(0x10f))/0x5+parseInt(_0x5b7db5(0xb7))/0x6*(-parseInt(_0x5b7db5(0xe3))/0x7)+parseInt(_0x5b7db5(0x102))/0x8+parseInt(_0x5b7db5(0xfd))/0x9;if(_0x4e8b87===_0x137c8c)break;else _0x39a1d7['push'](_0x39a1d7['shift']());}catch(_0x1abf6d){_0x39a1d7['push'](_0x39a1d7['shift']());}}}(a76_0xda3a,0x80964));const util=require(a76_0x5adeea(0xf6)),BaseModule=require(a76_0x5adeea(0x101)),{createClassLogger}=require(a76_0x5adeea(0xc3)),AutomationFramework=require(a76_0x5adeea(0xe2)),AutomationFrameworkState=require(a76_0x5adeea(0xd6)),HookState=require(a76_0x5adeea(0xc1)),TestFramework=require(a76_0x5adeea(0xd3)),TestFrameworkState=require(a76_0x5adeea(0xa9)),PlaywrightDriverModule=require(a76_0x5adeea(0xe7)),TestFrameworkConstants=require(a76_0x5adeea(0xcc)),GrpcClient=require(a76_0x5adeea(0xe6)),CLIUtils=require(a76_0x5adeea(0xc0)),TestInfo=require(a76_0x5adeea(0xb6)),testHubConstants=require(a76_0x5adeea(0xeb)),BrowserstackCLI=require('../browserstackCLI.js'),{getPlaywrightProvider}=require(a76_0x5adeea(0xed));function a76_0x4279(_0x45eb62,_0x57c8f7){const _0xda3af3=a76_0xda3a();return a76_0x4279=function(_0x427969,_0x24a8ce){_0x427969=_0x427969-0xa8;let _0x487e16=_0xda3af3[_0x427969];return _0x487e16;},a76_0x4279(_0x45eb62,_0x57c8f7);}class TestHubModule extends BaseModule{[a76_0x5adeea(0xfc)]=createClassLogger('TestHubModule');constructor(_0x386a4f){const _0x3505f0=a76_0x5adeea,_0x7faa41={};_0x7faa41[_0x3505f0(0xca)]='6|1|5|0|3|7|4|2',_0x7faa41[_0x3505f0(0x109)]=_0x3505f0(0xfa);const _0x2502b3=_0x7faa41,_0x54dac1=_0x2502b3[_0x3505f0(0xca)][_0x3505f0(0xf2)]('|');let _0x3600e2=0x0;while(!![]){switch(_0x54dac1[_0x3600e2++]){case'0':AutomationFramework['registerObserver'](AutomationFrameworkState[_0x3505f0(0x105)],HookState['POST'],this[_0x3505f0(0xb9)][_0x3505f0(0x103)](this));continue;case'1':this[_0x3505f0(0x116)]=_0x2502b3[_0x3505f0(0x109)];continue;case'2':BrowserstackCLI['O11yHashedID']=this[_0x3505f0(0xdb)][_0x3505f0(0xe0)]();continue;case'3':Object[_0x3505f0(0xd7)](TestFrameworkState)[_0x3505f0(0x110)](_0x23c3b4=>{const _0x57f716=_0x3505f0;Object[_0x57f716(0xd7)](HookState)[_0x57f716(0x110)](_0x1b80cf=>{const _0x2abc5c=_0x57f716;TestFramework[_0x2abc5c(0xb4)](_0x23c3b4,_0x1b80cf,this[_0x2abc5c(0xfb)][_0x2abc5c(0x103)](this));});});continue;case'4':process[_0x3505f0(0xea)][testHubConstants[_0x3505f0(0xbe)]['BROWSERSTACK_TESTHUB_UUID']]=this[_0x3505f0(0xdb)][_0x3505f0(0xe0)]();continue;case'5':this[_0x3505f0(0xdb)]=_0x386a4f;continue;case'6':super();continue;case'7':process['env'][testHubConstants['ENV_VAR'][_0x3505f0(0xc7)]]=this['testhubConfig'][_0x3505f0(0x112)]();continue;}break;}}[a76_0x5adeea(0xcf)](){const _0x189c93=a76_0x5adeea;return TestHubModule[_0x189c93(0xe5)];}[a76_0x5adeea(0xfb)](_0x26f7cc){const _0x4d1359=a76_0x5adeea,_0x227e05={};_0x227e05[_0x4d1359(0xf8)]=function(_0x37ccde,_0xe8f5de){return _0x37ccde===_0xe8f5de;};const _0x3b207e=_0x227e05,_0x3e558b=_0x26f7cc[_0x4d1359(0xac)],_0x40cf80=_0x3e558b[_0x4d1359(0xbd)]();(_0x3b207e['fjHxx'](_0x40cf80,TestFrameworkState[_0x4d1359(0xc4)])||CLIUtils[_0x4d1359(0x111)](_0x40cf80[_0x4d1359(0xcd)]()[_0x4d1359(0xf2)]('.')[0x1]))&&this['sendTestFrameworkEvent'](_0x26f7cc);}async[a76_0x5adeea(0xab)](_0x5c1aa0){const _0x467ade=a76_0x5adeea,_0x25b2cd={};_0x25b2cd[_0x467ade(0xbb)]=_0x467ade(0xaa);const _0x3c64b6=_0x25b2cd;try{const _0x5b30f9=_0x5c1aa0['test']['id'],_0x1bbbc0=_0x5c1aa0['instance'],_0x260c59=_0x1bbbc0[_0x467ade(0xd5)](),_0x182679=_0x1bbbc0[_0x467ade(0xb5)]()[_0x467ade(0xef)](_0x5b30f9);this[_0x467ade(0xfc)][_0x467ade(0xc9)](_0x467ade(0xdc)+_0x5b30f9);const {[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x9b26a9='',[TestFrameworkConstants[_0x467ade(0xc6)]]:_0x277bc4='',[TestFrameworkConstants['KEY_TEST_STARTED_AT']]:_0x27b7d7='',[TestFrameworkConstants[_0x467ade(0xbc)]]:_0x5b780b=''}=_0x182679,_0x5cd475=_0x1bbbc0['getCurrentTestState']()[_0x467ade(0xcd)]()['split']('.')[0x1],_0x1f4dfd=_0x1bbbc0[_0x467ade(0xf5)]()[_0x467ade(0xcd)]()['split']('.')[0x1],_0x4ec254=global?.[_0x467ade(0x100)]?.[_0x467ade(0xf4)]?.[_0x467ade(0x113)];;const _0x18cb6d=_0x1bbbc0[_0x467ade(0xd2)](),_0x32310b=Buffer[_0x467ade(0x115)](JSON[_0x467ade(0xce)](_0x182679))[_0x467ade(0xcd)](_0x3c64b6['jyWvr']),_0x8e03b4={'hash':_0x260c59[_0x467ade(0xf0)](),'threadId':_0x260c59[_0x467ade(0xd8)]()[_0x467ade(0xcd)](),'processId':_0x260c59[_0x467ade(0xc5)]()[_0x467ade(0xcd)]()},_0x398205={};_0x398205[_0x467ade(0xe1)]=_0x4ec254,_0x398205[_0x467ade(0xdf)]=_0x9b26a9,_0x398205[_0x467ade(0x10b)]=_0x277bc4,_0x398205[_0x467ade(0xb8)]=_0x5cd475,_0x398205[_0x467ade(0x10a)]=_0x1f4dfd,_0x398205['startedAt']=_0x27b7d7,_0x398205[_0x467ade(0x108)]=_0x5b780b,_0x398205[_0x467ade(0xba)]=_0x18cb6d,_0x398205[_0x467ade(0x104)]=_0x32310b,_0x398205[_0x467ade(0x106)]=_0x8e03b4;const _0x171142=_0x398205,_0x28a2e5=await GrpcClient['getInstance']()[_0x467ade(0xc8)](_0x171142);this[_0x467ade(0xfc)][_0x467ade(0xc9)](_0x467ade(0x114)+_0x5b30f9+_0x467ade(0xec)+_0x5cd475+_0x467ade(0xa8)+_0x1f4dfd);}catch(_0x40e353){this[_0x467ade(0xfc)]['error'](_0x467ade(0xf1)+util[_0x467ade(0xad)](_0x40e353));}}async[a76_0x5adeea(0xb9)](_0xbf2460){const _0xb3bf3=a76_0x5adeea,_0x2320af={'MiRaK':function(_0x30cf3d,_0x21fc8f){return _0x30cf3d(_0x21fc8f);},'wSccC':_0xb3bf3(0xaa)};try{if(_0xbf2460['page']){const _0x21ad45=_0xbf2460[_0xb3bf3(0xee)]['testId'];this[_0xb3bf3(0xfc)][_0xb3bf3(0xc9)](_0xb3bf3(0xb2)+_0x21ad45);const _0x6c803f=TestInfo[_0xb3bf3(0xda)](_0x21ad45),_0x5c1fc8=TestInfo['getTestDetails'](_0x21ad45),_0x9ab115=_0xbf2460[_0xb3bf3(0xac)],_0x1a0a18=AutomationFramework[_0xb3bf3(0x10c)](_0x9ab115,PlaywrightDriverModule[_0xb3bf3(0xe9)]),_0x38263f=_0x5c1fc8[TestFrameworkConstants[_0xb3bf3(0xfe)]],_0x370eb5=_0x5c1fc8[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']],_0x56d337=TestFrameworkState[_0xb3bf3(0xc4)][_0xb3bf3(0xcd)]()['split']('.')[0x1],_0xc20551=HookState[_0xb3bf3(0xff)][_0xb3bf3(0xcd)]()[_0xb3bf3(0xf2)]('.')[0x1],_0x6b4aca=_0x9ab115[_0xb3bf3(0xd5)](),_0x1b705d=AutomationFramework['getState'](_0x9ab115,PlaywrightDriverModule[_0xb3bf3(0xae)],''),_0x70d40d={'provider':_0x2320af[_0xb3bf3(0x107)](getPlaywrightProvider,_0x1b705d),'frameworkName':_0x9ab115[_0xb3bf3(0xe4)],'frameworkVersion':_0x9ab115[_0xb3bf3(0xb3)],'frameworkSessionId':AutomationFramework[_0xb3bf3(0x10c)](_0x9ab115,PlaywrightDriverModule[_0xb3bf3(0xdd)],''),'ref':_0x9ab115[_0xb3bf3(0xd2)](),'hubUrl':_0x1b705d};let _0x5513cc=AutomationFramework[_0xb3bf3(0x10c)](_0x9ab115,PlaywrightDriverModule[_0xb3bf3(0xbf)],{});_0x5513cc=Buffer[_0xb3bf3(0x115)](JSON[_0xb3bf3(0xce)](_0x5513cc))[_0xb3bf3(0xcd)](_0x2320af[_0xb3bf3(0xd9)]);const _0x54f422={'hash':_0x6b4aca[_0xb3bf3(0xf0)](),'threadId':_0x6b4aca[_0xb3bf3(0xd8)]()[_0xb3bf3(0xcd)](),'processId':_0x6b4aca['getProcessId']()[_0xb3bf3(0xcd)]()},_0x1f8ebb={};_0x1f8ebb[_0xb3bf3(0xe1)]=_0x1a0a18,_0x1f8ebb['testFrameworkName']=_0x38263f,_0x1f8ebb[_0xb3bf3(0x10b)]=_0x370eb5,_0x1f8ebb[_0xb3bf3(0xb8)]=_0x56d337,_0x1f8ebb['testHookState']=_0xc20551,_0x1f8ebb[_0xb3bf3(0xe8)]=_0x6c803f,_0x1f8ebb[_0xb3bf3(0xf7)]=_0x70d40d,_0x1f8ebb[_0xb3bf3(0xb0)]=_0x5513cc,_0x1f8ebb['executionContext']=_0x54f422;const _0x1c3232=_0x1f8ebb;this[_0xb3bf3(0xfc)][_0xb3bf3(0xc9)](_0xb3bf3(0x10e)+util[_0xb3bf3(0xad)](_0x1c3232));const _0x492b56=await GrpcClient['getInstance']()[_0xb3bf3(0x10d)](_0x1c3232);this[_0xb3bf3(0xfc)][_0xb3bf3(0xc9)](_0xb3bf3(0xf3)+_0x21ad45);}}catch(_0xce1c77){this[_0xb3bf3(0xfc)][_0xb3bf3(0xf9)](_0xb3bf3(0xb1)+util[_0xb3bf3(0xad)](_0xce1c77));}}}TestHubModule['MODULE_NAME']=a76_0x5adeea(0xfa),TestHubModule[a76_0x5adeea(0xd4)]=a76_0x5adeea(0xc2),module[a76_0x5adeea(0xd0)]=TestHubModule;