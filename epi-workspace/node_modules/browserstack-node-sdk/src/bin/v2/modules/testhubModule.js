function a84_0xf7b2(){const _0x36c2c7=['testFrameworkEvent','BROWSERSTACK_TESTHUB_UUID','createTestFrameworkEventPayload','TestHubModule','format','iOLKu','onPageCreate\x20CBTSession\x20complete\x20for\x20testId:\x20','7667856ZKOvjt','ENV_VAR','jestUtils','CUCUMBER','TEST','testFrameworkData','KEY_SESSION_ID','getRef','KEY_TEST_FRAMEWORK_NAME','onPageCreate:\x20Recreated\x20Jest\x20testIdentifier:\x20','../framework/testFramework.js','onAllTestEvents','error','Error\x20in\x20sendTestFrameworkEvent:\x20','BROWSERSTACK_TESTHUB_JWT','../TestInfo.js','test_deferred','debug','toString','getId','base64','getInstance','EXelm','../../../helpers/testhub/constants','KEY_PLATFORM_INDEX','name','../../../helpers/helper.js','from','jrxFM','exports','4165170ovlzNe','../state/automationFrameworkState.js','84WACDeT','onPageCreate\x20Sending\x20CBT\x20for\x20testId:\x20','forEach','\x20hookState:\x20','onPageCreate:\x20Skipping\x20CBT\x20session\x20event\x20-\x20no\x20testInfo\x20(page\x20created\x20outside\x20test\x20context)','KEY_TEST_DEFERRED','env','instance','registerObserver','../framework/constants/testFrameworkConstants.js','CREATE','../state/testFrameworkState.js','2740297ZRBErD','80462qihBDX','getTestDetails','sendTestFrameworkEvent:\x20No\x20payload\x20created,\x20skipping\x20test\x20framework\x20event','KEY_CAPABILITIES','values','testUuid','getJwt','getModuleName','37jJuPIS','getContext','howsB','frameworkName','frameworkVersion','matchHookRegex','keys','getTestFramework','57176070xhUlaf','test_identifier','KEY_TEST_FRAMEWORK_VERSION','testhubConfig','9543696GQxxdg','getProcessId','bind','testInfo','OmIAh','testSessionEvent','getTestUUID','testFrameworkState','getCurrentTestState','split','logger','eNxzf','util','onPageCreate','xLQip','../utils/jest-utils.js','../../../helpers/classLogger.js','page','QCvSz','216075CrvPPt','POST','getThreadId','getBuildHashedId','9RVarAS','O11yHashedID','demHU','getState','../state/hookState.js','./playwrightDriverModule.js','JEST','retry','5|7|3|0|4|8|1|6|2','../browserstackCLI.js','kXmcF','recreateIdentifierFromTestInfo','sendTestFrameworkEvent\x20complete\x20for\x20testState:\x20'];a84_0xf7b2=function(){return _0x36c2c7;};return a84_0xf7b2();}function a84_0x1d97(_0x602e0f,_0x132be2){const _0xf7b278=a84_0xf7b2();return a84_0x1d97=function(_0x1d9760,_0x4ea69e){_0x1d9760=_0x1d9760-0x1c3;let _0x165ec9=_0xf7b278[_0x1d9760];return _0x165ec9;},a84_0x1d97(_0x602e0f,_0x132be2);}const a84_0x149b58=a84_0x1d97;(function(_0x3e1c76,_0x9f7555){const _0x46d4f8=a84_0x1d97,_0x1a1dde=_0x3e1c76();while(!![]){try{const _0x1ccf90=-parseInt(_0x46d4f8(0x1c6))/0x1*(parseInt(_0x46d4f8(0x22a))/0x2)+-parseInt(_0x46d4f8(0x21b))/0x3+-parseInt(_0x46d4f8(0x21d))/0x4*(-parseInt(_0x46d4f8(0x1e5))/0x5)+-parseInt(_0x46d4f8(0x1fd))/0x6+-parseInt(_0x46d4f8(0x229))/0x7+parseInt(_0x46d4f8(0x1d2))/0x8*(-parseInt(_0x46d4f8(0x1e9))/0x9)+parseInt(_0x46d4f8(0x1ce))/0xa;if(_0x1ccf90===_0x9f7555)break;else _0x1a1dde['push'](_0x1a1dde['shift']());}catch(_0x5474e5){_0x1a1dde['push'](_0x1a1dde['shift']());}}}(a84_0xf7b2,0xd8410));const util=require(a84_0x149b58(0x1de)),BaseModule=require('./baseModule'),{createClassLogger}=require(a84_0x149b58(0x1e2)),AutomationFramework=require('../framework/automationFramework.js'),AutomationFrameworkState=require(a84_0x149b58(0x21c)),HookState=require(a84_0x149b58(0x1ed)),TestFramework=require(a84_0x149b58(0x207)),TestFrameworkState=require(a84_0x149b58(0x228)),PlaywrightDriverModule=require(a84_0x149b58(0x1ee)),TestFrameworkConstants=require(a84_0x149b58(0x226)),GrpcClient=require('../grpcClient.js'),CLIUtils=require('../cliUtils.js'),TestInfo=require(a84_0x149b58(0x20c)),testHubConstants=require(a84_0x149b58(0x214)),{FRAMEWORKS}=require('../../../helpers/test-observability/constants.js'),JestUtils=require(a84_0x149b58(0x1e1)),BrowserstackCLI=require(a84_0x149b58(0x1f2)),{getPlaywrightProvider}=require(a84_0x149b58(0x217));class TestHubModule extends BaseModule{[a84_0x149b58(0x1dc)]=createClassLogger(a84_0x149b58(0x1f9));constructor(_0x4586b8,_0x2c8ab5=null){const _0x6d3d41=a84_0x149b58,_0x2d4bfd={};_0x2d4bfd[_0x6d3d41(0x1c8)]=_0x6d3d41(0x1f1),_0x2d4bfd[_0x6d3d41(0x219)]=_0x6d3d41(0x1f9);const _0x3b13f7=_0x2d4bfd,_0x513d02=_0x3b13f7[_0x6d3d41(0x1c8)][_0x6d3d41(0x1db)]('|');let _0x2e7911=0x0;while(!![]){switch(_0x513d02[_0x2e7911++]){case'0':this[_0x6d3d41(0x1ff)]=new JestUtils();continue;case'1':process[_0x6d3d41(0x223)][testHubConstants['ENV_VAR'][_0x6d3d41(0x20b)]]=this[_0x6d3d41(0x1d1)][_0x6d3d41(0x1c4)]();continue;case'2':BrowserstackCLI[_0x6d3d41(0x1ea)]=this[_0x6d3d41(0x1d1)][_0x6d3d41(0x1e8)]();continue;case'3':this[_0x6d3d41(0x1d1)]=_0x4586b8;continue;case'4':AutomationFramework[_0x6d3d41(0x225)](AutomationFrameworkState[_0x6d3d41(0x227)],HookState['POST'],this[_0x6d3d41(0x1df)][_0x6d3d41(0x1d4)](this));continue;case'5':super(_0x2c8ab5);continue;case'6':process['env'][testHubConstants[_0x6d3d41(0x1fe)][_0x6d3d41(0x1f7)]]=this[_0x6d3d41(0x1d1)][_0x6d3d41(0x1e8)]();continue;case'7':this[_0x6d3d41(0x216)]=_0x3b13f7['jrxFM'];continue;case'8':Object[_0x6d3d41(0x22e)](TestFrameworkState)[_0x6d3d41(0x21f)](_0x1686b2=>{const _0x3d5baa=_0x6d3d41;Object[_0x3d5baa(0x22e)](HookState)[_0x3d5baa(0x21f)](_0x11b2a6=>{TestFramework['registerObserver'](_0x1686b2,_0x11b2a6,this['onAllTestEvents']['bind'](this));});});continue;}break;}}[a84_0x149b58(0x1c5)](){return TestHubModule['MODULE_NAME'];}[a84_0x149b58(0x208)](_0x4d6576){const _0x1c2328=a84_0x149b58,_0x278a45={};_0x278a45['EXelm']=function(_0x385ab9,_0x1a4ba4){return _0x385ab9===_0x1a4ba4;};const _0x1ced8f=_0x278a45,_0x5c607b=_0x4d6576['instance'],_0x2d2adc=_0x5c607b[_0x1c2328(0x1da)]();(_0x1ced8f[_0x1c2328(0x213)](_0x2d2adc,TestFrameworkState[_0x1c2328(0x201)])||CLIUtils[_0x1c2328(0x1cb)](_0x2d2adc['toString']()[_0x1c2328(0x1db)]('.')[0x1]))&&this['sendTestFrameworkEvent'](_0x4d6576);}async['sendTestFrameworkEvent'](_0x2700b9){const _0x19c90a=a84_0x149b58,_0x5a93e8={};_0x5a93e8[_0x19c90a(0x1d6)]=function(_0x3e51af,_0x2f5946){return _0x3e51af===_0x2f5946;},_0x5a93e8[_0x19c90a(0x1fb)]=_0x19c90a(0x22c);const _0x3e164d=_0x5a93e8;try{const _0x4fc2cd=BrowserstackCLI[_0x19c90a(0x212)]()[_0x19c90a(0x1cd)]()[_0x19c90a(0x1f8)](_0x2700b9);if(!_0x4fc2cd||_0x3e164d['OmIAh'](Object[_0x19c90a(0x1cc)](_0x4fc2cd)['length'],0x0)){this[_0x19c90a(0x1dc)]['debug'](_0x3e164d['iOLKu']);return;}const _0xfddd1b=await GrpcClient[_0x19c90a(0x212)]()[_0x19c90a(0x1f6)](_0x4fc2cd);this[_0x19c90a(0x1dc)][_0x19c90a(0x20e)](_0x19c90a(0x1f5)+_0x4fc2cd[_0x19c90a(0x1d9)]+_0x19c90a(0x220)+_0x4fc2cd['hookState']);}catch(_0x182d20){this[_0x19c90a(0x1dc)][_0x19c90a(0x209)](_0x19c90a(0x20a)+util[_0x19c90a(0x1fa)](_0x182d20));}}async[a84_0x149b58(0x1df)](_0x18b99f){const _0x39799e=a84_0x149b58,_0x2eeace={'kXmcF':function(_0x69c256,_0x1c84c3){return _0x69c256===_0x1c84c3;},'eNxzf':_0x39799e(0x221),'HNJPH':function(_0x571166,_0x32aa89){return _0x571166===_0x32aa89;},'xLQip':function(_0x1fa1c9,_0x27d591){return _0x1fa1c9(_0x27d591);},'QCvSz':_0x39799e(0x211),'demHU':function(_0x2af971,_0x3bed09){return _0x2af971===_0x3bed09;}};try{if(_0x18b99f[_0x39799e(0x1e3)]){const _0x2e3a52=this['getTestId'](_0x18b99f);this['logger'][_0x39799e(0x20e)](_0x39799e(0x21e)+_0x2e3a52);if(this['testFrameworkData']&&_0x2eeace[_0x39799e(0x1f3)](this[_0x39799e(0x202)]['name'],FRAMEWORKS[_0x39799e(0x1ef)])&&!_0x18b99f['testInfo']){this[_0x39799e(0x1dc)][_0x39799e(0x20e)](_0x2eeace[_0x39799e(0x1dd)]);return;}let _0x5611b3,_0x224399;if(this[_0x39799e(0x202)]&&_0x2eeace[_0x39799e(0x1f3)](this[_0x39799e(0x202)][_0x39799e(0x216)],FRAMEWORKS[_0x39799e(0x200)]))_0x5611b3=_0x2e3a52,_0x224399=TestInfo[_0x39799e(0x1d8)](_0x5611b3);else this[_0x39799e(0x202)]&&_0x2eeace['HNJPH'](this[_0x39799e(0x202)][_0x39799e(0x216)],FRAMEWORKS[_0x39799e(0x1ef)])?(_0x5611b3=this[_0x39799e(0x1ff)][_0x39799e(0x1f4)](_0x18b99f[_0x39799e(0x1d5)]),this[_0x39799e(0x1dc)][_0x39799e(0x20e)](_0x39799e(0x206)+_0x5611b3)):(_0x5611b3=TestInfo['getTestIdentifierFromTestInfo'](_0x18b99f['testInfo'],_0x18b99f[_0x39799e(0x1d5)][_0x39799e(0x1f0)]),_0x224399=TestInfo[_0x39799e(0x1d8)](_0x5611b3));const _0x4f0372=TestInfo[_0x39799e(0x22b)](_0x5611b3),_0xd8f980=_0x18b99f[_0x39799e(0x224)],_0x1846ef=AutomationFramework[_0x39799e(0x1ec)](_0xd8f980,PlaywrightDriverModule[_0x39799e(0x215)]),_0x129fc5=_0x4f0372?.[TestFrameworkConstants[_0x39799e(0x205)]]||this['testFrameworkData']&&this['testFrameworkData'][_0x39799e(0x216)],_0x17499e=_0x4f0372?.[TestFrameworkConstants[_0x39799e(0x1d0)]]||this[_0x39799e(0x202)]&&this['testFrameworkData']['version'],_0x4771da=TestFrameworkState['TEST']['toString']()[_0x39799e(0x1db)]('.')[0x1],_0x6eccb4=HookState[_0x39799e(0x1e6)][_0x39799e(0x20f)]()['split']('.')[0x1],_0xdb22c1=_0xd8f980[_0x39799e(0x1c7)](),_0x3be66b=AutomationFramework['getState'](_0xd8f980,PlaywrightDriverModule['KEY_HUB_URL'],''),_0x194dca={'provider':_0x2eeace[_0x39799e(0x1e0)](getPlaywrightProvider,_0x3be66b),'frameworkName':_0xd8f980[_0x39799e(0x1c9)],'frameworkVersion':_0xd8f980[_0x39799e(0x1ca)],'frameworkSessionId':AutomationFramework[_0x39799e(0x1ec)](_0xd8f980,PlaywrightDriverModule[_0x39799e(0x203)],''),'ref':_0xd8f980[_0x39799e(0x204)](),'hubUrl':_0x3be66b};let _0x2f38b6=AutomationFramework['getState'](_0xd8f980,PlaywrightDriverModule[_0x39799e(0x22d)],{});_0x2f38b6=Buffer[_0x39799e(0x218)](JSON['stringify'](_0x2f38b6))[_0x39799e(0x20f)](_0x2eeace[_0x39799e(0x1e4)]);const _0x198bc7={'hash':_0xdb22c1[_0x39799e(0x210)](),'threadId':_0xdb22c1[_0x39799e(0x1e7)]()[_0x39799e(0x20f)](),'processId':_0xdb22c1[_0x39799e(0x1d3)]()[_0x39799e(0x20f)]()},_0x2e0c67={};_0x2e0c67[_0x39799e(0x1cf)]=_0x5611b3;const _0x2a85a8={};_0x2a85a8[_0x39799e(0x1c3)]=_0x224399;const _0x55c61f={'platformIndex':_0x1846ef,'testFrameworkName':_0x129fc5,'testFrameworkVersion':_0x17499e,'testFrameworkState':_0x4771da,'testHookState':_0x6eccb4,...this[_0x39799e(0x202)]&&_0x2eeace[_0x39799e(0x1eb)](this[_0x39799e(0x202)]['name'],FRAMEWORKS[_0x39799e(0x1ef)])?_0x2e0c67:_0x2a85a8,'automationSession':_0x194dca,'capabilities':_0x2f38b6,'executionContext':_0x198bc7};this['logger'][_0x39799e(0x20e)]('onPageCreate\x20CBTSession\x20payload:\x20'+util[_0x39799e(0x1fa)](_0x55c61f));const _0xbc1a5b=await GrpcClient['getInstance']()[_0x39799e(0x1d7)](_0x55c61f);this[_0x39799e(0x1dc)][_0x39799e(0x20e)](_0x39799e(0x1fc)+_0x2e3a52+(this[_0x39799e(0x202)]&&_0x2eeace[_0x39799e(0x1eb)](this[_0x39799e(0x202)][_0x39799e(0x216)],FRAMEWORKS['JEST'])?',\x20test_identifier:\x20'+_0x5611b3:''));}}catch(_0x234fa6){this['logger']['error']('Error\x20in\x20sending\x20CBTSession:\x20'+util[_0x39799e(0x1fa)](_0x234fa6));}}}TestHubModule['MODULE_NAME']='TestHubModule',TestHubModule[a84_0x149b58(0x222)]=a84_0x149b58(0x20d),module[a84_0x149b58(0x21a)]=TestHubModule;