function a85_0x6913(){const _0x2309ea=['KEY_SESSION_ID','443509BwdQHR','bIwXL','pdJiE','KEY_TEST_FRAMEWORK_NAME','CUCUMBER','values','POST','getState','onPageCreate','matchHookRegex','testInfo','\x20hookState:\x20','toString','../framework/testFramework.js','../TestInfo.js','base64','version','1748430bEmaio','../state/hookState.js','debug','./baseModule','4629250xrUfCU','retry','getBuildHashedId','name','onPageCreate:\x20Skipping\x20CBT\x20session\x20event\x20-\x20no\x20testInfo\x20(page\x20created\x20outside\x20test\x20context)','Error\x20in\x20sending\x20CBTSession:\x20','testhubConfig','MODULE_NAME','upadB','split','15DpGIkE','234996RfXiQl','onPageCreate\x20Sending\x20CBT\x20for\x20testId:\x20','sendTestFrameworkEvent\x20complete\x20for\x20testState:\x20','QvbhN','153352mjFfWH','testSessionEvent','registerObserver','../utils/jest-utils.js','262436UsFBtq','O11yHashedID','getContext','stringify','frameworkVersion','KEY_HUB_URL','instance','getModuleName','KEY_PLATFORM_INDEX','getLTSSessionId','TestHubModule','testUuid','getTestIdentifierFromTestInfo','../../../helpers/classLogger.js','getJwt','7zNWGYR','getRef','util','BROWSERSTACK_TESTHUB_UUID','hookState','getCurrentTestState','../browserstackCLI.js','onPageCreate\x20CBTSession\x20complete\x20for\x20testId:\x20','testFrameworkEvent','JEST','testFrameworkState','10VFDRlU','BROWSERSTACK_TESTHUB_JWT','logger','KEY_TEST_DEFERRED','CztuN','getTestDetails','8aAPncq','LLrhL','../../../helpers/test-observability/constants.js','sendTestFrameworkEvent','from','372fDymsR','ENV_VAR','lLXwg','getThreadId','rPKxz','format','recreateIdentifierFromTestInfo','./playwrightDriverModule.js','Pyflw','../state/automationFrameworkState.js',',\x20test_identifier:\x20','KEY_CAPABILITIES','TEST','dalhE','test_identifier','bind','1361484SqdIky','isLTSSession','testFrameworkData','VmaxP','../../../helpers/helper.js','forEach','getInstance','onAllTestEvents','error','../framework/automationFramework.js','getTestUUID'];a85_0x6913=function(){return _0x2309ea;};return a85_0x6913();}const a85_0xc8f7b1=a85_0x1dd0;(function(_0x37be96,_0x544544){const _0x2c5471=a85_0x1dd0,_0xf257c6=_0x37be96();while(!![]){try{const _0xf91ceb=parseInt(_0x2c5471(0x172))/0x1+-parseInt(_0x2c5471(0x190))/0x2*(parseInt(_0x2c5471(0x16e))/0x3)+parseInt(_0x2c5471(0x176))/0x4*(-parseInt(_0x2c5471(0x16d))/0x5)+parseInt(_0x2c5471(0x142))/0x6*(-parseInt(_0x2c5471(0x185))/0x7)+-parseInt(_0x2c5471(0x196))/0x8*(-parseInt(_0x2c5471(0x15f))/0x9)+-parseInt(_0x2c5471(0x163))/0xa+-parseInt(_0x2c5471(0x14e))/0xb*(-parseInt(_0x2c5471(0x132))/0xc);if(_0xf91ceb===_0x544544)break;else _0xf257c6['push'](_0xf257c6['shift']());}catch(_0x42170b){_0xf257c6['push'](_0xf257c6['shift']());}}}(a85_0x6913,0x4ded1));function a85_0x1dd0(_0x300e48,_0x4fa0b8){const _0x6913ab=a85_0x6913();return a85_0x1dd0=function(_0x1dd017,_0x3f2d11){_0x1dd017=_0x1dd017-0x12e;let _0xc96cc1=_0x6913ab[_0x1dd017];return _0xc96cc1;},a85_0x1dd0(_0x300e48,_0x4fa0b8);}const util=require(a85_0xc8f7b1(0x187)),BaseModule=require(a85_0xc8f7b1(0x162)),{createClassLogger}=require(a85_0xc8f7b1(0x183)),AutomationFramework=require(a85_0xc8f7b1(0x14b)),AutomationFrameworkState=require(a85_0xc8f7b1(0x13b)),HookState=require(a85_0xc8f7b1(0x160)),TestFramework=require(a85_0xc8f7b1(0x15b)),TestFrameworkState=require('../state/testFrameworkState.js'),PlaywrightDriverModule=require(a85_0xc8f7b1(0x139)),TestFrameworkConstants=require('../framework/constants/testFrameworkConstants.js'),GrpcClient=require('../grpcClient.js'),CLIUtils=require('../cliUtils.js'),TestInfo=require(a85_0xc8f7b1(0x15c)),testHubConstants=require('../../../helpers/testhub/constants'),{FRAMEWORKS}=require(a85_0xc8f7b1(0x12f)),helper=require(a85_0xc8f7b1(0x146)),LoadTestModule=require('./loadTestModule.js'),JestUtils=require(a85_0xc8f7b1(0x175)),BrowserstackCLI=require(a85_0xc8f7b1(0x18b)),{getPlaywrightProvider}=require(a85_0xc8f7b1(0x146));class TestHubModule extends BaseModule{[a85_0xc8f7b1(0x192)]=createClassLogger(a85_0xc8f7b1(0x180));constructor(_0x12c943,_0x350d01=null){const _0x27c577=a85_0xc8f7b1,_0x5804ed={};_0x5804ed[_0x27c577(0x13a)]='0|1|7|4|5|2|6|3|8',_0x5804ed[_0x27c577(0x150)]='TestHubModule';const _0x51b8cb=_0x5804ed,_0xbab89b=_0x51b8cb['Pyflw'][_0x27c577(0x16c)]('|');let _0x251495=0x0;while(!![]){switch(_0xbab89b[_0x251495++]){case'0':super(_0x350d01);continue;case'1':this[_0x27c577(0x166)]=_0x51b8cb[_0x27c577(0x150)];continue;case'2':Object[_0x27c577(0x153)](TestFrameworkState)[_0x27c577(0x147)](_0xcb05fc=>{const _0x2fc672=_0x27c577;Object[_0x2fc672(0x153)](HookState)[_0x2fc672(0x147)](_0x44565a=>{const _0x46f26b=_0x2fc672;TestFramework[_0x46f26b(0x174)](_0xcb05fc,_0x44565a,this['onAllTestEvents'][_0x46f26b(0x141)](this));});});continue;case'3':process['env'][testHubConstants[_0x27c577(0x133)][_0x27c577(0x188)]]=this[_0x27c577(0x169)]['getBuildHashedId']();continue;case'4':this['jestUtils']=new JestUtils();continue;case'5':AutomationFramework['registerObserver'](AutomationFrameworkState['CREATE'],HookState[_0x27c577(0x154)],this[_0x27c577(0x156)]['bind'](this));continue;case'6':process['env'][testHubConstants[_0x27c577(0x133)][_0x27c577(0x191)]]=this['testhubConfig'][_0x27c577(0x184)]();continue;case'7':this[_0x27c577(0x169)]=_0x12c943;continue;case'8':BrowserstackCLI[_0x27c577(0x177)]=this[_0x27c577(0x169)][_0x27c577(0x165)]();continue;}break;}}[a85_0xc8f7b1(0x17d)](){const _0x5eb666=a85_0xc8f7b1;return TestHubModule[_0x5eb666(0x16a)];}[a85_0xc8f7b1(0x149)](_0x440bdf){const _0x56ae12=a85_0xc8f7b1,_0x13d92f={};_0x13d92f[_0x56ae12(0x145)]=function(_0x195014,_0x15e486){return _0x195014===_0x15e486;};const _0x4ceda5=_0x13d92f,_0x1fa3f7=_0x440bdf[_0x56ae12(0x17c)],_0x534082=_0x1fa3f7[_0x56ae12(0x18a)]();(_0x4ceda5[_0x56ae12(0x145)](_0x534082,TestFrameworkState[_0x56ae12(0x13e)])||CLIUtils[_0x56ae12(0x157)](_0x534082[_0x56ae12(0x15a)]()[_0x56ae12(0x16c)]('.')[0x1]))&&this[_0x56ae12(0x130)](_0x440bdf);}async[a85_0xc8f7b1(0x130)](_0x348b08){const _0x44f152=a85_0xc8f7b1,_0x37f742={};_0x37f742[_0x44f152(0x194)]=function(_0x5952c9,_0x5a02e3){return _0x5952c9===_0x5a02e3;},_0x37f742[_0x44f152(0x14f)]='sendTestFrameworkEvent:\x20No\x20payload\x20created,\x20skipping\x20test\x20framework\x20event';const _0x12821a=_0x37f742;try{const _0x340ab5=BrowserstackCLI[_0x44f152(0x148)]()['getTestFramework']()['createTestFrameworkEventPayload'](_0x348b08);if(!_0x340ab5||_0x12821a[_0x44f152(0x194)](Object['keys'](_0x340ab5)['length'],0x0)){this[_0x44f152(0x192)][_0x44f152(0x161)](_0x12821a[_0x44f152(0x14f)]);return;}const _0x49eef1=await GrpcClient['getInstance']()[_0x44f152(0x18d)](_0x340ab5);this['logger']['debug'](_0x44f152(0x170)+_0x340ab5[_0x44f152(0x18f)]+_0x44f152(0x159)+_0x340ab5[_0x44f152(0x189)]);}catch(_0x6c0596){this[_0x44f152(0x192)][_0x44f152(0x14a)]('Error\x20in\x20sendTestFrameworkEvent:\x20'+util[_0x44f152(0x137)](_0x6c0596));}}async[a85_0xc8f7b1(0x156)](_0x2ce6fb){const _0x21f065=a85_0xc8f7b1,_0x5ddcb1={'lLXwg':function(_0x432469,_0x547de5){return _0x432469===_0x547de5;},'QvbhN':_0x21f065(0x167),'dalhE':function(_0x4cfc05,_0x319f5e){return _0x4cfc05===_0x319f5e;},'LLrhL':function(_0x5636b1,_0x2854e2){return _0x5636b1(_0x2854e2);},'rPKxz':_0x21f065(0x15d),'upadB':function(_0x588c1b,_0x594d85){return _0x588c1b===_0x594d85;}};try{if(_0x2ce6fb['page']){const _0x2d1532=this['getTestId'](_0x2ce6fb);this['logger'][_0x21f065(0x161)](_0x21f065(0x16f)+_0x2d1532);if(this['testFrameworkData']&&_0x5ddcb1[_0x21f065(0x134)](this['testFrameworkData']['name'],FRAMEWORKS[_0x21f065(0x18e)])&&!_0x2ce6fb[_0x21f065(0x158)]){this['logger'][_0x21f065(0x161)](_0x5ddcb1[_0x21f065(0x171)]);return;}let _0x57b9ac,_0x5c79ef;if(this[_0x21f065(0x144)]&&_0x5ddcb1['lLXwg'](this['testFrameworkData']['name'],FRAMEWORKS[_0x21f065(0x152)]))_0x57b9ac=_0x2d1532,_0x5c79ef=TestInfo[_0x21f065(0x14c)](_0x57b9ac);else this[_0x21f065(0x144)]&&_0x5ddcb1['dalhE'](this[_0x21f065(0x144)]['name'],FRAMEWORKS[_0x21f065(0x18e)])?(_0x57b9ac=this['jestUtils'][_0x21f065(0x138)](_0x2ce6fb[_0x21f065(0x158)]),this['logger'][_0x21f065(0x161)]('onPageCreate:\x20Recreated\x20Jest\x20testIdentifier:\x20'+_0x57b9ac)):(_0x57b9ac=TestInfo[_0x21f065(0x182)](_0x2ce6fb[_0x21f065(0x158)],_0x2ce6fb[_0x21f065(0x158)][_0x21f065(0x164)]),_0x5c79ef=TestInfo[_0x21f065(0x14c)](_0x57b9ac));const _0x1f0572=TestInfo[_0x21f065(0x195)](_0x57b9ac),_0xa657f3=_0x2ce6fb['instance'],_0x28ccea=AutomationFramework['getState'](_0xa657f3,PlaywrightDriverModule[_0x21f065(0x17e)]),_0x3b77d2=_0x1f0572?.[TestFrameworkConstants[_0x21f065(0x151)]]||this[_0x21f065(0x144)]&&this[_0x21f065(0x144)][_0x21f065(0x166)],_0x3b2f57=_0x1f0572?.[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]||this[_0x21f065(0x144)]&&this[_0x21f065(0x144)][_0x21f065(0x15e)],_0x48f79f=TestFrameworkState[_0x21f065(0x13e)][_0x21f065(0x15a)]()[_0x21f065(0x16c)]('.')[0x1],_0xde6a1e=HookState[_0x21f065(0x154)][_0x21f065(0x15a)]()[_0x21f065(0x16c)]('.')[0x1],_0x46a24c=_0xa657f3[_0x21f065(0x178)](),_0x24e3e8=AutomationFramework[_0x21f065(0x155)](_0xa657f3,PlaywrightDriverModule[_0x21f065(0x17b)],''),_0xfc57e4={'provider':_0x5ddcb1[_0x21f065(0x12e)](getPlaywrightProvider,_0x24e3e8),'frameworkName':_0xa657f3['frameworkName'],'frameworkVersion':_0xa657f3[_0x21f065(0x17a)],'frameworkSessionId':LoadTestModule[_0x21f065(0x143)]()?LoadTestModule[_0x21f065(0x17f)]():AutomationFramework[_0x21f065(0x155)](_0xa657f3,PlaywrightDriverModule[_0x21f065(0x14d)],''),'ref':_0xa657f3[_0x21f065(0x186)](),'hubUrl':_0x24e3e8};let _0x253287=AutomationFramework[_0x21f065(0x155)](_0xa657f3,PlaywrightDriverModule[_0x21f065(0x13d)],{});_0x253287=Buffer[_0x21f065(0x131)](JSON[_0x21f065(0x179)](_0x253287))[_0x21f065(0x15a)](_0x5ddcb1[_0x21f065(0x136)]);const _0x4fb62f={'hash':_0x46a24c['getId'](),'threadId':_0x46a24c[_0x21f065(0x135)]()[_0x21f065(0x15a)](),'processId':_0x46a24c['getProcessId']()[_0x21f065(0x15a)]()},_0x18cf99={};_0x18cf99[_0x21f065(0x140)]=_0x57b9ac;const _0x286e99={};_0x286e99[_0x21f065(0x181)]=_0x5c79ef;const _0x5e172d={'platformIndex':_0x28ccea,'testFrameworkName':_0x3b77d2,'testFrameworkVersion':_0x3b2f57,'testFrameworkState':_0x48f79f,'testHookState':_0xde6a1e,...this[_0x21f065(0x144)]&&_0x5ddcb1[_0x21f065(0x13f)](this[_0x21f065(0x144)]['name'],FRAMEWORKS[_0x21f065(0x18e)])?_0x18cf99:_0x286e99,'automationSession':_0xfc57e4,'capabilities':_0x253287,'executionContext':_0x4fb62f};this[_0x21f065(0x192)]['debug']('onPageCreate\x20CBTSession\x20payload:\x20'+util[_0x21f065(0x137)](_0x5e172d));const _0x3a27f0=await GrpcClient[_0x21f065(0x148)]()[_0x21f065(0x173)](_0x5e172d);this[_0x21f065(0x192)][_0x21f065(0x161)](_0x21f065(0x18c)+_0x2d1532+(this['testFrameworkData']&&_0x5ddcb1[_0x21f065(0x16b)](this[_0x21f065(0x144)][_0x21f065(0x166)],FRAMEWORKS['JEST'])?_0x21f065(0x13c)+_0x57b9ac:''));}}catch(_0x39ad86){this[_0x21f065(0x192)][_0x21f065(0x14a)](_0x21f065(0x168)+util['format'](_0x39ad86));}}}TestHubModule[a85_0xc8f7b1(0x16a)]=a85_0xc8f7b1(0x180),TestHubModule[a85_0xc8f7b1(0x193)]='test_deferred',module['exports']=TestHubModule;