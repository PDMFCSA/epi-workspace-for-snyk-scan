function a73_0xb58c(){const _0x2d6f6b=['../../../helpers/helper.js','794060Ticlzi','testFrameworkVersion','debug','platformIndex','1nrzQxW','onPageCreate','testFrameworkName','TestHubModule','POST','11601JrqHaJ','testUuid','registerObserver','KEY_TEST_FRAMEWORK_VERSION','5|6|3|0|1|4|2|7','bind','env','TEST','stringify','capabilities','split','../framework/testFramework.js','toString','40ydAKTH','./playwrightDriverModule.js','frameworkVersion','logger','getCurrentTestState','NRgha','MODULE_NAME','testInfo','../cliUtils.js','sendTestFrameworkEvent\x20complete\x20for\x20testId:\x20','752yhPzjI','getCurrentHookState','3UKBxjv','KEY_HUB_URL','./baseModule','ENV_VAR','zSqCL','forEach','../state/testFrameworkState.js','getContext','hookState','91DmhWrR','1559112oeeCOJ','values','executionContext','3312221YtCJVW','get','base64','KEY_SESSION_ID','page','getAllData','cVYXt','uuid','workerInfo','../framework/constants/testFrameworkConstants.js','exports','from','../TestInfo.js','getState','../browserstackCLI.js','1580ANHJXP','getTestUUID','1380372IWZCCA','testSessionEvent','testhubConfig','automationSession','testId','onAllTestEvents','ujrzS','KEY_TEST_DEFERRED','getProcessId','getInstance','onPageCreate\x20Sending\x20CBT\x20for\x20testId:\x20','Error\x20in\x20sendTestFrameworkEvent:\x20','format','getRef','KEY_TEST_STARTED_AT','getBuildHashedId','Error\x20in\x20sending\x20CBTSession:\x20','name','matchHookRegex','KEY_PLATFORM_INDEX','../state/automationFrameworkState.js','parallelIndex','getModuleName','getThreadId','instance','testFrameworkState','52044XtxYSz','sendTestFrameworkEvent\x20testId:\x20','KEY_TEST_FRAMEWORK_NAME','onPageCreate\x20CBTSession\x20payload:\x20','sendTestFrameworkEvent','test','cKEYg','__workerDetails','getId','\x20testState:\x20','getJwt','KEY_TEST_ENDED_AT','error','28532QEQgqk','\x20hookState:\x20','loUVS'];a73_0xb58c=function(){return _0x2d6f6b;};return a73_0xb58c();}function a73_0x4d25(_0x1dcd78,_0x573274){const _0xb58c77=a73_0xb58c();return a73_0x4d25=function(_0x4d2581,_0x1d0791){_0x4d2581=_0x4d2581-0x172;let _0x31f6f5=_0xb58c77[_0x4d2581];return _0x31f6f5;},a73_0x4d25(_0x1dcd78,_0x573274);}const a73_0x2a23a9=a73_0x4d25;(function(_0x1242d3,_0x50297b){const _0x3e060d=a73_0x4d25,_0x5551f3=_0x1242d3();while(!![]){try{const _0x46ac8f=-parseInt(_0x3e060d(0x1c1))/0x1*(parseInt(_0x3e060d(0x1bd))/0x2)+-parseInt(_0x3e060d(0x174))/0x3*(parseInt(_0x3e060d(0x17e))/0x4)+-parseInt(_0x3e060d(0x1d3))/0x5*(parseInt(_0x3e060d(0x1ac))/0x6)+-parseInt(_0x3e060d(0x1b9))/0x7*(-parseInt(_0x3e060d(0x172))/0x8)+parseInt(_0x3e060d(0x1c6))/0x9*(parseInt(_0x3e060d(0x190))/0xa)+-parseInt(_0x3e060d(0x181))/0xb+parseInt(_0x3e060d(0x192))/0xc*(parseInt(_0x3e060d(0x17d))/0xd);if(_0x46ac8f===_0x50297b)break;else _0x5551f3['push'](_0x5551f3['shift']());}catch(_0x11e35a){_0x5551f3['push'](_0x5551f3['shift']());}}}(a73_0xb58c,0x394d8));const util=require('util'),BaseModule=require(a73_0x2a23a9(0x176)),{createClassLogger}=require('../../../helpers/classLogger.js'),AutomationFramework=require('../framework/automationFramework.js'),AutomationFrameworkState=require(a73_0x2a23a9(0x1a6)),HookState=require('../state/hookState.js'),TestFramework=require(a73_0x2a23a9(0x1d1)),TestFrameworkState=require(a73_0x2a23a9(0x17a)),PlaywrightDriverModule=require(a73_0x2a23a9(0x1d4)),TestFrameworkConstants=require(a73_0x2a23a9(0x18a)),GrpcClient=require('../grpcClient.js'),CLIUtils=require(a73_0x2a23a9(0x1db)),TestInfo=require(a73_0x2a23a9(0x18d)),testHubConstants=require('../../../helpers/testhub/constants'),BrowserstackCLI=require(a73_0x2a23a9(0x18f)),{getPlaywrightProvider}=require(a73_0x2a23a9(0x1bc));class TestHubModule extends BaseModule{[a73_0x2a23a9(0x1d6)]=createClassLogger(a73_0x2a23a9(0x1c4));constructor(_0x234d24){const _0x12c3dc=a73_0x2a23a9,_0x64e027={};_0x64e027[_0x12c3dc(0x187)]=_0x12c3dc(0x1ca),_0x64e027[_0x12c3dc(0x1bb)]=_0x12c3dc(0x1c4);const _0x53bafe=_0x64e027,_0x41176e=_0x53bafe[_0x12c3dc(0x187)][_0x12c3dc(0x1d0)]('|');let _0x182d0f=0x0;while(!![]){switch(_0x41176e[_0x182d0f++]){case'0':AutomationFramework['registerObserver'](AutomationFrameworkState['CREATE'],HookState['POST'],this['onPageCreate']['bind'](this));continue;case'1':Object[_0x12c3dc(0x17f)](TestFrameworkState)['forEach'](_0x3e68e6=>{const _0x56de73=_0x12c3dc;Object[_0x56de73(0x17f)](HookState)[_0x56de73(0x179)](_0x4cfcf0=>{const _0x4d254d=_0x56de73;TestFramework[_0x4d254d(0x1c8)](_0x3e68e6,_0x4cfcf0,this[_0x4d254d(0x197)][_0x4d254d(0x1cb)](this));});});continue;case'2':process[_0x12c3dc(0x1cc)][testHubConstants[_0x12c3dc(0x177)]['BROWSERSTACK_TESTHUB_UUID']]=this[_0x12c3dc(0x194)][_0x12c3dc(0x1a1)]();continue;case'3':this[_0x12c3dc(0x194)]=_0x234d24;continue;case'4':process[_0x12c3dc(0x1cc)][testHubConstants[_0x12c3dc(0x177)]['BROWSERSTACK_TESTHUB_JWT']]=this[_0x12c3dc(0x194)][_0x12c3dc(0x1b6)]();continue;case'5':super();continue;case'6':this[_0x12c3dc(0x1a3)]=_0x53bafe[_0x12c3dc(0x1bb)];continue;case'7':BrowserstackCLI['O11yHashedID']=this[_0x12c3dc(0x194)]['getBuildHashedId']();continue;}break;}}[a73_0x2a23a9(0x1a8)](){const _0x4171be=a73_0x2a23a9;return TestHubModule[_0x4171be(0x1d9)];}[a73_0x2a23a9(0x197)](_0x538cee){const _0x3363bb=a73_0x2a23a9,_0x54c247={};_0x54c247[_0x3363bb(0x198)]=function(_0x40c5b6,_0x2afdf0){return _0x40c5b6===_0x2afdf0;};const _0x4ab67b=_0x54c247,_0x255bf6=_0x538cee[_0x3363bb(0x1aa)],_0x1a0854=_0x255bf6[_0x3363bb(0x1d7)]();(_0x4ab67b['ujrzS'](_0x1a0854,TestFrameworkState['TEST'])||CLIUtils[_0x3363bb(0x1a4)](_0x1a0854[_0x3363bb(0x1d2)]()['split']('.')[0x1]))&&this[_0x3363bb(0x1b0)](_0x538cee);}async[a73_0x2a23a9(0x1b0)](_0x4026fc){const _0x642151=a73_0x2a23a9,_0x202f2f={};_0x202f2f[_0x642151(0x1b2)]=_0x642151(0x183);const _0x5b27e6=_0x202f2f;try{const _0x2affa0=_0x4026fc[_0x642151(0x1b1)]['id'],_0x52043b=_0x4026fc[_0x642151(0x1aa)],_0x592df5=_0x52043b[_0x642151(0x17b)](),_0x243f4d=_0x52043b[_0x642151(0x186)]()[_0x642151(0x182)](_0x2affa0);this[_0x642151(0x1d6)][_0x642151(0x1bf)](_0x642151(0x1ad)+_0x2affa0);const {[TestFrameworkConstants[_0x642151(0x1ae)]]:_0x5c26e8='',[TestFrameworkConstants[_0x642151(0x1c9)]]:_0x134da8='',[TestFrameworkConstants[_0x642151(0x1a0)]]:_0x32a37a='',[TestFrameworkConstants[_0x642151(0x1b7)]]:_0x36b508=''}=_0x243f4d,_0x108ce4=_0x52043b[_0x642151(0x1d7)]()[_0x642151(0x1d2)]()[_0x642151(0x1d0)]('.')[0x1],_0x35211e=_0x52043b[_0x642151(0x173)]()[_0x642151(0x1d2)]()['split']('.')[0x1],_0x13fc90=global?.[_0x642151(0x1b3)]?.[_0x642151(0x189)]?.[_0x642151(0x1a7)];;const _0x49a198=_0x52043b['getRef'](),_0x49acab=Buffer[_0x642151(0x18c)](JSON['stringify'](_0x243f4d))[_0x642151(0x1d2)](_0x5b27e6[_0x642151(0x1b2)]),_0x36ec7e={'hash':_0x592df5[_0x642151(0x1b4)](),'threadId':_0x592df5[_0x642151(0x1a9)]()[_0x642151(0x1d2)](),'processId':_0x592df5['getProcessId']()[_0x642151(0x1d2)]()},_0x20e574={};_0x20e574[_0x642151(0x1c0)]=_0x13fc90,_0x20e574[_0x642151(0x1c3)]=_0x5c26e8,_0x20e574[_0x642151(0x1be)]=_0x134da8,_0x20e574[_0x642151(0x1ab)]=_0x108ce4,_0x20e574[_0x642151(0x17c)]=_0x35211e,_0x20e574['startedAt']=_0x32a37a,_0x20e574['endedAt']=_0x36b508,_0x20e574[_0x642151(0x188)]=_0x49a198,_0x20e574['eventJson']=_0x49acab,_0x20e574[_0x642151(0x180)]=_0x36ec7e;const _0x44d38c=_0x20e574,_0x3c4062=await GrpcClient[_0x642151(0x19b)]()['testFrameworkEvent'](_0x44d38c);this[_0x642151(0x1d6)][_0x642151(0x1bf)](_0x642151(0x1dc)+_0x2affa0+_0x642151(0x1b5)+_0x108ce4+_0x642151(0x1ba)+_0x35211e);}catch(_0x4ae360){this[_0x642151(0x1d6)][_0x642151(0x1b8)](_0x642151(0x19d)+util[_0x642151(0x19e)](_0x4ae360));}}async[a73_0x2a23a9(0x1c2)](_0x2bb568){const _0x156540=a73_0x2a23a9,_0x5129f6={'NRgha':function(_0x227b3e,_0x2da453){return _0x227b3e(_0x2da453);},'zSqCL':_0x156540(0x183)};try{if(_0x2bb568[_0x156540(0x185)]){const _0x203b07=_0x2bb568[_0x156540(0x1da)][_0x156540(0x196)];this[_0x156540(0x1d6)]['debug'](_0x156540(0x19c)+_0x203b07);const _0x5c3a0f=TestInfo[_0x156540(0x191)](_0x203b07),_0x1e7357=TestInfo['getTestDetails'](_0x203b07),_0xd89a35=_0x2bb568[_0x156540(0x1aa)],_0x6281e8=AutomationFramework[_0x156540(0x18e)](_0xd89a35,PlaywrightDriverModule[_0x156540(0x1a5)]),_0x54001c=_0x1e7357[TestFrameworkConstants[_0x156540(0x1ae)]],_0x11a18f=_0x1e7357[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']],_0x55180f=TestFrameworkState[_0x156540(0x1cd)]['toString']()['split']('.')[0x1],_0x5cc8f0=HookState[_0x156540(0x1c5)][_0x156540(0x1d2)]()[_0x156540(0x1d0)]('.')[0x1],_0x2e99cd=_0xd89a35[_0x156540(0x17b)](),_0x252441=AutomationFramework['getState'](_0xd89a35,PlaywrightDriverModule[_0x156540(0x175)],''),_0x359d46={'provider':_0x5129f6[_0x156540(0x1d8)](getPlaywrightProvider,_0x252441),'frameworkName':_0xd89a35['frameworkName'],'frameworkVersion':_0xd89a35[_0x156540(0x1d5)],'frameworkSessionId':AutomationFramework[_0x156540(0x18e)](_0xd89a35,PlaywrightDriverModule[_0x156540(0x184)],''),'ref':_0xd89a35[_0x156540(0x19f)](),'hubUrl':_0x252441};let _0x590093=AutomationFramework[_0x156540(0x18e)](_0xd89a35,PlaywrightDriverModule['KEY_CAPABILITIES'],{});_0x590093=Buffer[_0x156540(0x18c)](JSON[_0x156540(0x1ce)](_0x590093))[_0x156540(0x1d2)](_0x5129f6[_0x156540(0x178)]);const _0x21c9a0={'hash':_0x2e99cd['getId'](),'threadId':_0x2e99cd[_0x156540(0x1a9)]()[_0x156540(0x1d2)](),'processId':_0x2e99cd[_0x156540(0x19a)]()[_0x156540(0x1d2)]()},_0xb0e0ef={};_0xb0e0ef[_0x156540(0x1c0)]=_0x6281e8,_0xb0e0ef[_0x156540(0x1c3)]=_0x54001c,_0xb0e0ef[_0x156540(0x1be)]=_0x11a18f,_0xb0e0ef[_0x156540(0x1ab)]=_0x55180f,_0xb0e0ef['testHookState']=_0x5cc8f0,_0xb0e0ef[_0x156540(0x1c7)]=_0x5c3a0f,_0xb0e0ef[_0x156540(0x195)]=_0x359d46,_0xb0e0ef[_0x156540(0x1cf)]=_0x590093,_0xb0e0ef[_0x156540(0x180)]=_0x21c9a0;const _0x3a8ab8=_0xb0e0ef;this['logger']['debug'](_0x156540(0x1af)+util['format'](_0x3a8ab8));const _0x3db17e=await GrpcClient[_0x156540(0x19b)]()[_0x156540(0x193)](_0x3a8ab8);this[_0x156540(0x1d6)]['debug']('onPageCreate\x20CBTSession\x20complete\x20for\x20testId:\x20'+_0x203b07);}}catch(_0x186768){this[_0x156540(0x1d6)][_0x156540(0x1b8)](_0x156540(0x1a2)+util['format'](_0x186768));}}}TestHubModule[a73_0x2a23a9(0x1d9)]='TestHubModule',TestHubModule[a73_0x2a23a9(0x199)]='test_deferred',module[a73_0x2a23a9(0x18b)]=TestHubModule;