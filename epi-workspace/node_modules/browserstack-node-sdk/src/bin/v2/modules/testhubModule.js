const a76_0x28b954=a76_0x14d9;(function(_0x1afda7,_0x544c6a){const _0x1bd1cf=a76_0x14d9,_0x53ae18=_0x1afda7();while(!![]){try{const _0x5af183=-parseInt(_0x1bd1cf(0x225))/0x1+-parseInt(_0x1bd1cf(0x217))/0x2*(-parseInt(_0x1bd1cf(0x22e))/0x3)+parseInt(_0x1bd1cf(0x228))/0x4*(-parseInt(_0x1bd1cf(0x22a))/0x5)+parseInt(_0x1bd1cf(0x1d5))/0x6+-parseInt(_0x1bd1cf(0x20a))/0x7+-parseInt(_0x1bd1cf(0x214))/0x8+parseInt(_0x1bd1cf(0x1e1))/0x9*(parseInt(_0x1bd1cf(0x20f))/0xa);if(_0x5af183===_0x544c6a)break;else _0x53ae18['push'](_0x53ae18['shift']());}catch(_0x4cfe0b){_0x53ae18['push'](_0x53ae18['shift']());}}}(a76_0x9695,0x5a1bb));function a76_0x9695(){const _0x481671=['testFrameworkVersion','Error\x20in\x20sendTestFrameworkEvent:\x20','3667752AalwpK','onPageCreate\x20CBTSession\x20complete\x20for\x20testId:\x20','format','4iNvSrF','sendTestFrameworkEvent','ivURL','sendTestFrameworkEvent\x20testId:\x20','from','toString','name','onPageCreate\x20CBTSession\x20payload:\x20','\x20hookState:\x20','__workerDetails','getInstance','../../../helpers/testhub/constants','TestHubModule','../framework/constants/testFrameworkConstants.js','18630bQFuxt','POST','CREATE','1970440TyGbRQ','page','5MzPZAK','env','getBuildHashedId','uuid','145338rbjmvy','O11yHashedID','logger','TEST','registerObserver','testHookState','KEY_TEST_DEFERRED','../framework/automationFramework.js','test_deferred','rCGVH','getCurrentHookState','KEY_TEST_STARTED_AT','../state/testFrameworkState.js','../../../helpers/classLogger.js','values','520902rRKzke','getCurrentTestState','frameworkVersion','stringify','../state/automationFrameworkState.js','getJwt','getProcessId','BROWSERSTACK_TESTHUB_JWT','ENV_VAR','split','getThreadId','KEY_TEST_ENDED_AT','302112tUXICM','automationSession','getRef','KEY_CAPABILITIES','KEY_TEST_FRAMEWORK_VERSION','bind','umZfB','forEach','getModuleName','MODULE_NAME','getState','workerInfo','sendTestFrameworkEvent\x20complete\x20for\x20testId:\x20','testFrameworkName','test','Error\x20in\x20sending\x20CBTSession:\x20','KEY_TEST_FRAMEWORK_NAME','util','../browserstackCLI.js','onAllTestEvents','../framework/testFramework.js','instance','testUuid','onPageCreate\x20Sending\x20CBT\x20for\x20testId:\x20','testId','parallelIndex','frameworkName','KEY_HUB_URL','getId','../cliUtils.js','../grpcClient.js','error','executionContext','./baseModule','onPageCreate','endedAt','./playwrightDriverModule.js','BROWSERSTACK_TESTHUB_UUID','debug','base64','../../../helpers/helper.js','4368147Phzzpv','../state/hookState.js','capabilities','testhubConfig','sUtlz','530fPXyzm','getAllData','platformIndex'];a76_0x9695=function(){return _0x481671;};return a76_0x9695();}const util=require(a76_0x28b954(0x1f2)),BaseModule=require(a76_0x28b954(0x202)),{createClassLogger}=require(a76_0x28b954(0x1d3)),AutomationFramework=require(a76_0x28b954(0x1cd)),AutomationFrameworkState=require(a76_0x28b954(0x1d9)),HookState=require(a76_0x28b954(0x20b)),TestFramework=require(a76_0x28b954(0x1f5)),TestFrameworkState=require(a76_0x28b954(0x1d2)),PlaywrightDriverModule=require(a76_0x28b954(0x205)),TestFrameworkConstants=require(a76_0x28b954(0x224)),GrpcClient=require(a76_0x28b954(0x1ff)),CLIUtils=require(a76_0x28b954(0x1fe)),TestInfo=require('../TestInfo.js'),testHubConstants=require(a76_0x28b954(0x222)),BrowserstackCLI=require(a76_0x28b954(0x1f3)),{getPlaywrightProvider}=require(a76_0x28b954(0x209));class TestHubModule extends BaseModule{[a76_0x28b954(0x230)]=createClassLogger(a76_0x28b954(0x223));constructor(_0x2dc35a){const _0x1fffc1=a76_0x28b954,_0x93d9bc={};_0x93d9bc['umZfB']='6|2|5|0|3|7|4|1',_0x93d9bc[_0x1fffc1(0x20e)]=_0x1fffc1(0x223);const _0x4181ce=_0x93d9bc,_0x5d2efc=_0x4181ce[_0x1fffc1(0x1e7)][_0x1fffc1(0x1de)]('|');let _0x584660=0x0;while(!![]){switch(_0x5d2efc[_0x584660++]){case'0':AutomationFramework[_0x1fffc1(0x232)](AutomationFrameworkState[_0x1fffc1(0x227)],HookState[_0x1fffc1(0x226)],this['onPageCreate'][_0x1fffc1(0x1e6)](this));continue;case'1':BrowserstackCLI[_0x1fffc1(0x22f)]=this[_0x1fffc1(0x20d)][_0x1fffc1(0x22c)]();continue;case'2':this[_0x1fffc1(0x21d)]=_0x4181ce[_0x1fffc1(0x20e)];continue;case'3':Object[_0x1fffc1(0x1d4)](TestFrameworkState)[_0x1fffc1(0x1e8)](_0x3cca85=>{const _0x3c2eea=_0x1fffc1;Object[_0x3c2eea(0x1d4)](HookState)[_0x3c2eea(0x1e8)](_0x273667=>{const _0x52a93a=_0x3c2eea;TestFramework[_0x52a93a(0x232)](_0x3cca85,_0x273667,this[_0x52a93a(0x1f4)][_0x52a93a(0x1e6)](this));});});continue;case'4':process['env'][testHubConstants[_0x1fffc1(0x1dd)][_0x1fffc1(0x206)]]=this[_0x1fffc1(0x20d)]['getBuildHashedId']();continue;case'5':this[_0x1fffc1(0x20d)]=_0x2dc35a;continue;case'6':super();continue;case'7':process[_0x1fffc1(0x22b)][testHubConstants[_0x1fffc1(0x1dd)][_0x1fffc1(0x1dc)]]=this[_0x1fffc1(0x20d)][_0x1fffc1(0x1da)]();continue;}break;}}[a76_0x28b954(0x1e9)](){const _0x25ac89=a76_0x28b954;return TestHubModule[_0x25ac89(0x1ea)];}[a76_0x28b954(0x1f4)](_0x28db58){const _0x411ad6=a76_0x28b954,_0x479a94={};_0x479a94[_0x411ad6(0x1cf)]=function(_0x2ba8bc,_0x5bae0a){return _0x2ba8bc===_0x5bae0a;};const _0x50fb67=_0x479a94,_0x7a5e7d=_0x28db58['instance'],_0x13e2b5=_0x7a5e7d[_0x411ad6(0x1d6)]();(_0x50fb67['rCGVH'](_0x13e2b5,TestFrameworkState[_0x411ad6(0x231)])||CLIUtils['matchHookRegex'](_0x13e2b5[_0x411ad6(0x21c)]()[_0x411ad6(0x1de)]('.')[0x1]))&&this[_0x411ad6(0x218)](_0x28db58);}async[a76_0x28b954(0x218)](_0x5223ec){const _0x4a7f15=a76_0x28b954,_0x4d114e={};_0x4d114e[_0x4a7f15(0x219)]=_0x4a7f15(0x208);const _0x53e4f2=_0x4d114e;try{const _0x3f89bb=_0x5223ec[_0x4a7f15(0x1ef)]['id'],_0x56c545=_0x5223ec[_0x4a7f15(0x1f6)],_0x1ef60b=_0x56c545['getContext'](),_0x1e4106=_0x56c545[_0x4a7f15(0x210)]()['get'](_0x3f89bb);this[_0x4a7f15(0x230)][_0x4a7f15(0x207)](_0x4a7f15(0x21a)+_0x3f89bb);const {[TestFrameworkConstants[_0x4a7f15(0x1f1)]]:_0x4b2dfd='',[TestFrameworkConstants[_0x4a7f15(0x1e5)]]:_0x4c25e9='',[TestFrameworkConstants[_0x4a7f15(0x1d1)]]:_0x3f7a23='',[TestFrameworkConstants[_0x4a7f15(0x1e0)]]:_0x1904df=''}=_0x1e4106,_0x3772d6=_0x56c545['getCurrentTestState']()['toString']()[_0x4a7f15(0x1de)]('.')[0x1],_0x42c46b=_0x56c545[_0x4a7f15(0x1d0)]()[_0x4a7f15(0x21c)]()[_0x4a7f15(0x1de)]('.')[0x1],_0x3f4274=global?.[_0x4a7f15(0x220)]?.[_0x4a7f15(0x1ec)]?.[_0x4a7f15(0x1fa)];;const _0x26aba8=_0x56c545[_0x4a7f15(0x1e3)](),_0x4d2ae3=Buffer[_0x4a7f15(0x21b)](JSON[_0x4a7f15(0x1d8)](_0x1e4106))[_0x4a7f15(0x21c)](_0x53e4f2[_0x4a7f15(0x219)]),_0x449619={'hash':_0x1ef60b['getId'](),'threadId':_0x1ef60b[_0x4a7f15(0x1df)]()[_0x4a7f15(0x21c)](),'processId':_0x1ef60b[_0x4a7f15(0x1db)]()['toString']()},_0x17134a={};_0x17134a['platformIndex']=_0x3f4274,_0x17134a['testFrameworkName']=_0x4b2dfd,_0x17134a[_0x4a7f15(0x212)]=_0x4c25e9,_0x17134a['testFrameworkState']=_0x3772d6,_0x17134a['hookState']=_0x42c46b,_0x17134a['startedAt']=_0x3f7a23,_0x17134a[_0x4a7f15(0x204)]=_0x1904df,_0x17134a[_0x4a7f15(0x22d)]=_0x26aba8,_0x17134a['eventJson']=_0x4d2ae3,_0x17134a['executionContext']=_0x449619;const _0x416e50=_0x17134a,_0xb9db2f=await GrpcClient[_0x4a7f15(0x221)]()['testFrameworkEvent'](_0x416e50);this[_0x4a7f15(0x230)][_0x4a7f15(0x207)](_0x4a7f15(0x1ed)+_0x3f89bb+'\x20testState:\x20'+_0x3772d6+_0x4a7f15(0x21f)+_0x42c46b);}catch(_0x49c8ae){this['logger'][_0x4a7f15(0x200)](_0x4a7f15(0x213)+util[_0x4a7f15(0x216)](_0x49c8ae));}}async[a76_0x28b954(0x203)](_0x9a548d){const _0x15a19e=a76_0x28b954,_0x38ad36={'IOpRO':function(_0x391843,_0x57cf33){return _0x391843(_0x57cf33);},'tUPML':_0x15a19e(0x208)};try{if(_0x9a548d[_0x15a19e(0x229)]){const _0x5ea642=_0x9a548d['testInfo'][_0x15a19e(0x1f9)];this[_0x15a19e(0x230)]['debug'](_0x15a19e(0x1f8)+_0x5ea642);const _0x2996bc=TestInfo['getTestUUID'](_0x5ea642),_0x45ee6b=TestInfo['getTestDetails'](_0x5ea642),_0x1176d9=_0x9a548d[_0x15a19e(0x1f6)],_0x21ecbb=AutomationFramework[_0x15a19e(0x1eb)](_0x1176d9,PlaywrightDriverModule['KEY_PLATFORM_INDEX']),_0x554307=_0x45ee6b[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']],_0x5ca5bb=_0x45ee6b[TestFrameworkConstants[_0x15a19e(0x1e5)]],_0x43e3ca=TestFrameworkState[_0x15a19e(0x231)][_0x15a19e(0x21c)]()[_0x15a19e(0x1de)]('.')[0x1],_0x5bbb5e=HookState[_0x15a19e(0x226)][_0x15a19e(0x21c)]()[_0x15a19e(0x1de)]('.')[0x1],_0x11c59d=_0x1176d9['getContext'](),_0x5e4fb0=AutomationFramework['getState'](_0x1176d9,PlaywrightDriverModule[_0x15a19e(0x1fc)],''),_0x4e507c={'provider':_0x38ad36['IOpRO'](getPlaywrightProvider,_0x5e4fb0),'frameworkName':_0x1176d9[_0x15a19e(0x1fb)],'frameworkVersion':_0x1176d9[_0x15a19e(0x1d7)],'frameworkSessionId':AutomationFramework['getState'](_0x1176d9,PlaywrightDriverModule['KEY_SESSION_ID'],''),'ref':_0x1176d9[_0x15a19e(0x1e3)](),'hubUrl':_0x5e4fb0};let _0x5ddd51=AutomationFramework[_0x15a19e(0x1eb)](_0x1176d9,PlaywrightDriverModule[_0x15a19e(0x1e4)],{});_0x5ddd51=Buffer[_0x15a19e(0x21b)](JSON[_0x15a19e(0x1d8)](_0x5ddd51))[_0x15a19e(0x21c)](_0x38ad36['tUPML']);const _0x25dc43={'hash':_0x11c59d[_0x15a19e(0x1fd)](),'threadId':_0x11c59d[_0x15a19e(0x1df)]()['toString'](),'processId':_0x11c59d[_0x15a19e(0x1db)]()[_0x15a19e(0x21c)]()},_0x4c9f7c={};_0x4c9f7c[_0x15a19e(0x211)]=_0x21ecbb,_0x4c9f7c[_0x15a19e(0x1ee)]=_0x554307,_0x4c9f7c[_0x15a19e(0x212)]=_0x5ca5bb,_0x4c9f7c['testFrameworkState']=_0x43e3ca,_0x4c9f7c[_0x15a19e(0x233)]=_0x5bbb5e,_0x4c9f7c[_0x15a19e(0x1f7)]=_0x2996bc,_0x4c9f7c[_0x15a19e(0x1e2)]=_0x4e507c,_0x4c9f7c[_0x15a19e(0x20c)]=_0x5ddd51,_0x4c9f7c[_0x15a19e(0x201)]=_0x25dc43;const _0x3dcf03=_0x4c9f7c;this[_0x15a19e(0x230)][_0x15a19e(0x207)](_0x15a19e(0x21e)+util[_0x15a19e(0x216)](_0x3dcf03));const _0x2a89a4=await GrpcClient[_0x15a19e(0x221)]()['testSessionEvent'](_0x3dcf03);this[_0x15a19e(0x230)][_0x15a19e(0x207)](_0x15a19e(0x215)+_0x5ea642);}}catch(_0x3d9fc2){this[_0x15a19e(0x230)][_0x15a19e(0x200)](_0x15a19e(0x1f0)+util[_0x15a19e(0x216)](_0x3d9fc2));}}}function a76_0x14d9(_0x3ceb66,_0x29a30f){const _0x969577=a76_0x9695();return a76_0x14d9=function(_0x14d972,_0x2c90f9){_0x14d972=_0x14d972-0x1cc;let _0x81689=_0x969577[_0x14d972];return _0x81689;},a76_0x14d9(_0x3ceb66,_0x29a30f);}TestHubModule[a76_0x28b954(0x1ea)]=a76_0x28b954(0x223),TestHubModule[a76_0x28b954(0x1cc)]=a76_0x28b954(0x1ce),module['exports']=TestHubModule;