function a85_0x2c5a(_0x4b6773,_0x30c1e5){const _0x40fde9=a85_0x40fd();return a85_0x2c5a=function(_0x2c5a19,_0x35083b){_0x2c5a19=_0x2c5a19-0xfa;let _0x86e56b=_0x40fde9[_0x2c5a19];return _0x86e56b;},a85_0x2c5a(_0x4b6773,_0x30c1e5);}const a85_0x27030e=a85_0x2c5a;(function(_0x18079c,_0x547cb3){const _0x3c1c35=a85_0x2c5a,_0x9c7c92=_0x18079c();while(!![]){try{const _0x33b07a=-parseInt(_0x3c1c35(0x148))/0x1+parseInt(_0x3c1c35(0x12e))/0x2*(-parseInt(_0x3c1c35(0x113))/0x3)+-parseInt(_0x3c1c35(0x11c))/0x4*(-parseInt(_0x3c1c35(0x119))/0x5)+-parseInt(_0x3c1c35(0x166))/0x6*(parseInt(_0x3c1c35(0x129))/0x7)+-parseInt(_0x3c1c35(0x108))/0x8*(-parseInt(_0x3c1c35(0x167))/0x9)+-parseInt(_0x3c1c35(0x105))/0xa+parseInt(_0x3c1c35(0x154))/0xb*(parseInt(_0x3c1c35(0x114))/0xc);if(_0x33b07a===_0x547cb3)break;else _0x9c7c92['push'](_0x9c7c92['shift']());}catch(_0x5b5183){_0x9c7c92['push'](_0x9c7c92['shift']());}}}(a85_0x40fd,0x73990));const util=require(a85_0x27030e(0x126)),BaseModule=require(a85_0x27030e(0x165)),{createClassLogger}=require(a85_0x27030e(0x151)),AutomationFramework=require(a85_0x27030e(0x156)),AutomationFrameworkState=require('../state/automationFrameworkState.js'),HookState=require(a85_0x27030e(0x12a)),TestFramework=require(a85_0x27030e(0x152)),TestFrameworkState=require(a85_0x27030e(0x132)),PlaywrightDriverModule=require('./playwrightDriverModule.js'),TestFrameworkConstants=require('../framework/constants/testFrameworkConstants.js'),GrpcClient=require(a85_0x27030e(0x103)),CLIUtils=require(a85_0x27030e(0x158)),TestInfo=require(a85_0x27030e(0x160)),testHubConstants=require('../../../helpers/testhub/constants'),{FRAMEWORKS}=require('../../../helpers/test-observability/constants.js'),helper=require(a85_0x27030e(0x100)),LoadTestModule=require(a85_0x27030e(0x111)),JestUtils=require('../utils/jest-utils.js'),BrowserstackCLI=require(a85_0x27030e(0x140)),{getPlaywrightProvider,getProductForSession}=require(a85_0x27030e(0x100));class TestHubModule extends BaseModule{[a85_0x27030e(0x150)]=createClassLogger(a85_0x27030e(0x144));constructor(_0x1fb809,_0x4b6ba4=null){const _0x25b993=a85_0x27030e,_0x593b7c={};_0x593b7c[_0x25b993(0x127)]='6|5|0|2|8|4|7|1|3',_0x593b7c[_0x25b993(0x163)]=_0x25b993(0x144);const _0x128deb=_0x593b7c,_0x4a1008=_0x128deb[_0x25b993(0x127)]['split']('|');let _0x8db1a5=0x0;while(!![]){switch(_0x4a1008[_0x8db1a5++]){case'0':this[_0x25b993(0x15c)]=_0x1fb809;continue;case'1':process['env'][testHubConstants[_0x25b993(0x10a)]['BROWSERSTACK_TESTHUB_UUID']]=this[_0x25b993(0x15c)][_0x25b993(0x133)]();continue;case'2':this[_0x25b993(0x106)]=new JestUtils();continue;case'3':BrowserstackCLI[_0x25b993(0x135)]=this[_0x25b993(0x15c)][_0x25b993(0x133)]();continue;case'4':Object[_0x25b993(0x136)](TestFrameworkState)[_0x25b993(0xff)](_0x412e32=>{const _0x1af307=_0x25b993;Object[_0x1af307(0x136)](HookState)['forEach'](_0x5cdc4f=>{const _0x141f30=_0x1af307;TestFramework[_0x141f30(0x157)](_0x412e32,_0x5cdc4f,this[_0x141f30(0x131)][_0x141f30(0x112)](this));});});continue;case'5':this['name']=_0x128deb[_0x25b993(0x163)];continue;case'6':super(_0x4b6ba4);continue;case'7':process[_0x25b993(0x159)][testHubConstants[_0x25b993(0x10a)][_0x25b993(0x102)]]=this[_0x25b993(0x15c)][_0x25b993(0x14e)]();continue;case'8':AutomationFramework[_0x25b993(0x157)](AutomationFrameworkState[_0x25b993(0xfb)],HookState[_0x25b993(0x109)],this['onPageCreate'][_0x25b993(0x112)](this));continue;}break;}}[a85_0x27030e(0x13c)](){const _0x43d95e=a85_0x27030e;return TestHubModule[_0x43d95e(0x11f)];}[a85_0x27030e(0x131)](_0x1f5b7f){const _0xb135f9=a85_0x27030e,_0x4d1f2d={};_0x4d1f2d[_0xb135f9(0x146)]=function(_0x1592d3,_0x510b60){return _0x1592d3===_0x510b60;};const _0x22b993=_0x4d1f2d,_0x3dba2d=_0x1f5b7f[_0xb135f9(0x145)],_0x42c792=_0x3dba2d[_0xb135f9(0x141)]();(_0x22b993[_0xb135f9(0x146)](_0x42c792,TestFrameworkState[_0xb135f9(0x153)])||CLIUtils['matchHookRegex'](_0x42c792[_0xb135f9(0xfd)]()[_0xb135f9(0x12c)]('.')[0x1]))&&this['sendTestFrameworkEvent'](_0x1f5b7f);}async[a85_0x27030e(0x14a)](_0x9d51a8){const _0x5d6d5c=a85_0x27030e,_0x3190c0={};_0x3190c0[_0x5d6d5c(0x122)]=function(_0x263638,_0x18905e){return _0x263638===_0x18905e;},_0x3190c0['lbZTG']=_0x5d6d5c(0x15a);const _0x122cfc=_0x3190c0;try{const _0x390272=BrowserstackCLI[_0x5d6d5c(0x149)]()[_0x5d6d5c(0x117)]()[_0x5d6d5c(0x16a)](_0x9d51a8);if(!_0x390272||_0x122cfc[_0x5d6d5c(0x122)](Object[_0x5d6d5c(0x13f)](_0x390272)[_0x5d6d5c(0x128)],0x0)){this[_0x5d6d5c(0x150)]['debug'](_0x122cfc[_0x5d6d5c(0x162)]);return;}const _0xd03f03=await GrpcClient[_0x5d6d5c(0x149)]()[_0x5d6d5c(0x164)](_0x390272);this[_0x5d6d5c(0x150)]['debug'](_0x5d6d5c(0x13d)+_0x390272[_0x5d6d5c(0x11b)]+_0x5d6d5c(0x15f)+_0x390272[_0x5d6d5c(0x169)]);}catch(_0x5e6108){this[_0x5d6d5c(0x150)][_0x5d6d5c(0x168)](_0x5d6d5c(0xfc)+util[_0x5d6d5c(0x155)](_0x5e6108));}}async[a85_0x27030e(0x142)](_0x5a7050){const _0x41a8c5=a85_0x27030e,_0x3f359c={'rOQws':function(_0x56bae3,_0xf4164e){return _0x56bae3===_0xf4164e;},'QbCQo':_0x41a8c5(0x12d),'ozzIw':function(_0x5ca8fa,_0x31f241){return _0x5ca8fa===_0x31f241;},'qJVGh':function(_0x4f4368,_0x305bc9){return _0x4f4368===_0x305bc9;},'fFZwe':function(_0x3f0990,_0x260693){return _0x3f0990(_0x260693);},'mKaRH':function(_0xc4dede){return _0xc4dede();},'XQmsX':_0x41a8c5(0x15e),'fDhdl':function(_0x4cf5b1,_0x7141a7){return _0x4cf5b1===_0x7141a7;}};try{if(_0x5a7050[_0x41a8c5(0x13e)]){const _0x42622b=this[_0x41a8c5(0x138)](_0x5a7050);this[_0x41a8c5(0x150)][_0x41a8c5(0x11e)](_0x41a8c5(0x14d)+_0x42622b);if(this[_0x41a8c5(0x121)]&&_0x3f359c[_0x41a8c5(0x10f)](this[_0x41a8c5(0x121)][_0x41a8c5(0x115)],FRAMEWORKS[_0x41a8c5(0x101)])&&!_0x5a7050[_0x41a8c5(0x11a)]){this[_0x41a8c5(0x150)][_0x41a8c5(0x11e)](_0x3f359c[_0x41a8c5(0x161)]);return;}let _0x8ccb0f,_0x262e1d;if(this['testFrameworkData']&&_0x3f359c[_0x41a8c5(0x130)](this[_0x41a8c5(0x121)][_0x41a8c5(0x115)],FRAMEWORKS[_0x41a8c5(0x134)]))_0x8ccb0f=_0x42622b,_0x262e1d=TestInfo[_0x41a8c5(0x137)](_0x8ccb0f);else this[_0x41a8c5(0x121)]&&_0x3f359c[_0x41a8c5(0x12f)](this[_0x41a8c5(0x121)][_0x41a8c5(0x115)],FRAMEWORKS[_0x41a8c5(0x101)])?(_0x8ccb0f=this[_0x41a8c5(0x106)][_0x41a8c5(0x10c)](_0x5a7050['testInfo']),this['logger'][_0x41a8c5(0x11e)](_0x41a8c5(0x120)+_0x8ccb0f)):(_0x8ccb0f=TestInfo[_0x41a8c5(0x123)](_0x5a7050['testInfo'],_0x5a7050['testInfo'][_0x41a8c5(0x107)]),_0x262e1d=TestInfo[_0x41a8c5(0x137)](_0x8ccb0f));const _0x524a19=TestInfo[_0x41a8c5(0x13a)](_0x8ccb0f),_0x199734=_0x5a7050[_0x41a8c5(0x145)],_0x1096e3=AutomationFramework[_0x41a8c5(0x124)](_0x199734,PlaywrightDriverModule[_0x41a8c5(0x110)]),_0x309dc6=_0x524a19?.[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]||this[_0x41a8c5(0x121)]&&this[_0x41a8c5(0x121)]['name'],_0x182354=_0x524a19?.[TestFrameworkConstants[_0x41a8c5(0x139)]]||this[_0x41a8c5(0x121)]&&this[_0x41a8c5(0x121)][_0x41a8c5(0x10e)],_0x3195d2=TestFrameworkState[_0x41a8c5(0x153)][_0x41a8c5(0xfd)]()['split']('.')[0x1],_0x3a3b9b=HookState['POST'][_0x41a8c5(0xfd)]()[_0x41a8c5(0x12c)]('.')[0x1],_0x4f76e6=_0x199734['getContext'](),_0x3525a0=AutomationFramework['getState'](_0x199734,PlaywrightDriverModule['KEY_HUB_URL'],''),_0x670ed={'provider':_0x3f359c[_0x41a8c5(0xfe)](getPlaywrightProvider,_0x3525a0),'frameworkName':_0x199734[_0x41a8c5(0x15d)],'frameworkVersion':_0x199734[_0x41a8c5(0x10d)],'frameworkSessionId':LoadTestModule[_0x41a8c5(0x12b)]()?LoadTestModule[_0x41a8c5(0x104)]():AutomationFramework[_0x41a8c5(0x124)](_0x199734,PlaywrightDriverModule[_0x41a8c5(0x11d)],''),'ref':_0x199734[_0x41a8c5(0x143)](),'hubUrl':_0x3525a0,'product':_0x3f359c[_0x41a8c5(0x116)](getProductForSession)};let _0x4f63b2=AutomationFramework[_0x41a8c5(0x124)](_0x199734,PlaywrightDriverModule[_0x41a8c5(0x13b)],{});_0x4f63b2=Buffer['from'](JSON['stringify'](_0x4f63b2))[_0x41a8c5(0xfd)](_0x3f359c[_0x41a8c5(0x14c)]);const _0x410a7a={'hash':_0x4f76e6[_0x41a8c5(0x14b)](),'threadId':_0x4f76e6[_0x41a8c5(0x147)]()[_0x41a8c5(0xfd)](),'processId':_0x4f76e6['getProcessId']()[_0x41a8c5(0xfd)]()},_0xd5580a={};_0xd5580a['test_identifier']=_0x8ccb0f;const _0x168d2b={};_0x168d2b[_0x41a8c5(0x15b)]=_0x262e1d;const _0x1d9da2={'platformIndex':_0x1096e3,'testFrameworkName':_0x309dc6,'testFrameworkVersion':_0x182354,'testFrameworkState':_0x3195d2,'testHookState':_0x3a3b9b,...this['testFrameworkData']&&_0x3f359c['rOQws'](this[_0x41a8c5(0x121)][_0x41a8c5(0x115)],FRAMEWORKS['JEST'])?_0xd5580a:_0x168d2b,'automationSession':_0x670ed,'capabilities':_0x4f63b2,'executionContext':_0x410a7a};this[_0x41a8c5(0x150)][_0x41a8c5(0x11e)](_0x41a8c5(0xfa)+util[_0x41a8c5(0x155)](_0x1d9da2));const _0x31091d=await GrpcClient[_0x41a8c5(0x149)]()[_0x41a8c5(0x118)](_0x1d9da2);this[_0x41a8c5(0x150)][_0x41a8c5(0x11e)]('onPageCreate\x20CBTSession\x20complete\x20for\x20testId:\x20'+_0x42622b+(this[_0x41a8c5(0x121)]&&_0x3f359c['fDhdl'](this[_0x41a8c5(0x121)]['name'],FRAMEWORKS['JEST'])?_0x41a8c5(0x10b)+_0x8ccb0f:''));}}catch(_0x54a8e0){this[_0x41a8c5(0x150)][_0x41a8c5(0x168)]('Error\x20in\x20sending\x20CBTSession:\x20'+util[_0x41a8c5(0x155)](_0x54a8e0));}}}TestHubModule['MODULE_NAME']=a85_0x27030e(0x144),TestHubModule['KEY_TEST_DEFERRED']=a85_0x27030e(0x125),module[a85_0x27030e(0x14f)]=TestHubModule;function a85_0x40fd(){const _0x354c32=['./baseModule','2236128YagKvL','18VpeVrq','error','hookState','createTestFrameworkEventPayload','onPageCreate\x20CBTSession\x20payload:\x20','CREATE','Error\x20in\x20sendTestFrameworkEvent:\x20','toString','fFZwe','forEach','../../../helpers/helper.js','JEST','BROWSERSTACK_TESTHUB_JWT','../grpcClient.js','getLTSSessionId','937720LedgMI','jestUtils','retry','3108232pXLxIu','POST','ENV_VAR',',\x20test_identifier:\x20','recreateIdentifierFromTestInfo','frameworkVersion','version','rOQws','KEY_PLATFORM_INDEX','./loadTestModule.js','bind','6IsqNeX','96mmFkZf','name','mKaRH','getTestFramework','testSessionEvent','872390FpIKyP','testInfo','testFrameworkState','20ldpPVJ','KEY_SESSION_ID','debug','MODULE_NAME','onPageCreate:\x20Recreated\x20Jest\x20testIdentifier:\x20','testFrameworkData','UESrd','getTestIdentifierFromTestInfo','getState','test_deferred','util','LKvTE','length','7IdKIME','../state/hookState.js','isLTSSession','split','onPageCreate:\x20Skipping\x20CBT\x20session\x20event\x20-\x20no\x20testInfo\x20(page\x20created\x20outside\x20test\x20context)','904998vKxvdJ','qJVGh','ozzIw','onAllTestEvents','../state/testFrameworkState.js','getBuildHashedId','CUCUMBER','O11yHashedID','values','getTestUUID','getTestId','KEY_TEST_FRAMEWORK_VERSION','getTestDetails','KEY_CAPABILITIES','getModuleName','sendTestFrameworkEvent\x20complete\x20for\x20testState:\x20','page','keys','../browserstackCLI.js','getCurrentTestState','onPageCreate','getRef','TestHubModule','instance','UnwbJ','getThreadId','797870aaCMId','getInstance','sendTestFrameworkEvent','getId','XQmsX','onPageCreate\x20Sending\x20CBT\x20for\x20testId:\x20','getJwt','exports','logger','../../../helpers/classLogger.js','../framework/testFramework.js','TEST','1365881kWnOFz','format','../framework/automationFramework.js','registerObserver','../cliUtils.js','env','sendTestFrameworkEvent:\x20No\x20payload\x20created,\x20skipping\x20test\x20framework\x20event','testUuid','testhubConfig','frameworkName','base64','\x20hookState:\x20','../TestInfo.js','QbCQo','lbZTG','XWqoY','testFrameworkEvent'];a85_0x40fd=function(){return _0x354c32;};return a85_0x40fd();}