function a78_0xbe7a(){const _0x3ae62f=['exports','matchHookRegex','getCurrentTestState','2098984jPLnWN','getProcessId','POST','getId','frameworkVersion','KEY_TEST_ENDED_AT','test_deferred','get','onPageCreate\x20Sending\x20CBT\x20for\x20testId:\x20','startedAt','../browserstackCLI.js','logger','getInstance','sendTestFrameworkEvent\x20complete\x20for\x20testId:\x20','platformIndex','base64','testSessionEvent','hookState','Error\x20in\x20sending\x20CBTSession:\x20','onPageCreate\x20CBTSession\x20complete\x20for\x20testId:\x20','MODULE_NAME','debug','kXZRM','onAllTestEvents','getRef','getState','9LrMvhh','MjOib','executionContext','util','testInfo','../../../helpers/classLogger.js','test','31104YXItTz','438qGIOyZ','onPageCreate\x20CBTSession\x20payload:\x20','onPageCreate','7gKAFnC','5|6|3|1|2|7|4|0','instance','forEach','getModuleName','values','getTestUUID','registerObserver','from','eventJson','testFrameworkVersion','10995wUDcmL','getJwt','./baseModule','../framework/automationFramework.js','ENV_VAR','TestHubModule','TEST','uuid','format','stringify','__workerDetails','KEY_CAPABILITIES','parallelIndex','KEY_SESSION_ID','../framework/testFramework.js','frameworkName','sendTestFrameworkEvent','../framework/constants/testFrameworkConstants.js','293748GJNIsk','error','getThreadId','296503gciANu','105576SKrpVd','1864560PBQXyN','BROWSERSTACK_TESTHUB_UUID','endedAt','testFrameworkEvent','toString','testhubConfig','getCurrentHookState','getBuildHashedId','KEY_TEST_STARTED_AT','\x20hookState:\x20','KEY_TEST_FRAMEWORK_NAME','testFrameworkName','WZYOI','\x20testState:\x20','oqExZ','../TestInfo.js','Error\x20in\x20sendTestFrameworkEvent:\x20','CREATE','BROWSERSTACK_TESTHUB_JWT','getContext','env','page','workerInfo','testHookState','split','testFrameworkState','automationSession','IkkIM','testUuid','getTestDetails','./playwrightDriverModule.js','KEY_TEST_FRAMEWORK_VERSION','bind','PVRGk','KEY_TEST_DEFERRED'];a78_0xbe7a=function(){return _0x3ae62f;};return a78_0xbe7a();}const a78_0x5c8037=a78_0x14af;(function(_0x4285ea,_0x4a226a){const _0x3270b6=a78_0x14af,_0x391769=_0x4285ea();while(!![]){try{const _0x21fd10=parseInt(_0x3270b6(0xf3))/0x1+-parseInt(_0x3270b6(0xf4))/0x2+parseInt(_0x3270b6(0x13c))/0x3+parseInt(_0x3270b6(0xf0))/0x4+parseInt(_0x3270b6(0x14b))/0x5*(-parseInt(_0x3270b6(0x13d))/0x6)+-parseInt(_0x3270b6(0x140))/0x7*(-parseInt(_0x3270b6(0x11b))/0x8)+parseInt(_0x3270b6(0x135))/0x9*(-parseInt(_0x3270b6(0xf5))/0xa);if(_0x21fd10===_0x4a226a)break;else _0x391769['push'](_0x391769['shift']());}catch(_0x3d0923){_0x391769['push'](_0x391769['shift']());}}}(a78_0xbe7a,0x3b4de));const util=require(a78_0x5c8037(0x138)),BaseModule=require(a78_0x5c8037(0x14d)),{createClassLogger}=require(a78_0x5c8037(0x13a)),AutomationFramework=require(a78_0x5c8037(0xe1)),AutomationFrameworkState=require('../state/automationFrameworkState.js'),HookState=require('../state/hookState.js'),TestFramework=require(a78_0x5c8037(0xec)),TestFrameworkState=require('../state/testFrameworkState.js'),PlaywrightDriverModule=require(a78_0x5c8037(0x113)),TestFrameworkConstants=require(a78_0x5c8037(0xef)),GrpcClient=require('../grpcClient.js'),CLIUtils=require('../cliUtils.js'),TestInfo=require(a78_0x5c8037(0x104)),testHubConstants=require('../../../helpers/testhub/constants'),BrowserstackCLI=require(a78_0x5c8037(0x125)),{getPlaywrightProvider}=require('../../../helpers/helper.js');function a78_0x14af(_0x3687ae,_0x3f7c4b){const _0xbe7a48=a78_0xbe7a();return a78_0x14af=function(_0x14af73,_0x5f2e33){_0x14af73=_0x14af73-0xe1;let _0x3a5040=_0xbe7a48[_0x14af73];return _0x3a5040;},a78_0x14af(_0x3687ae,_0x3f7c4b);}class TestHubModule extends BaseModule{[a78_0x5c8037(0x126)]=createClassLogger(a78_0x5c8037(0xe3));constructor(_0x4d5823){const _0x127bba=a78_0x5c8037,_0x1e6c57={};_0x1e6c57[_0x127bba(0x131)]=_0x127bba(0x141),_0x1e6c57[_0x127bba(0x101)]=_0x127bba(0xe3);const _0x84de9c=_0x1e6c57,_0x45f92b=_0x84de9c[_0x127bba(0x131)][_0x127bba(0x10d)]('|');let _0x5f1ec9=0x0;while(!![]){switch(_0x45f92b[_0x5f1ec9++]){case'0':BrowserstackCLI['O11yHashedID']=this['testhubConfig'][_0x127bba(0xfc)]();continue;case'1':AutomationFramework[_0x127bba(0x147)](AutomationFrameworkState[_0x127bba(0x106)],HookState[_0x127bba(0x11d)],this[_0x127bba(0x13f)]['bind'](this));continue;case'2':Object[_0x127bba(0x145)](TestFrameworkState)[_0x127bba(0x143)](_0x5dfbe2=>{const _0xd374a2=_0x127bba;Object[_0xd374a2(0x145)](HookState)[_0xd374a2(0x143)](_0x14d60a=>{const _0x295fc6=_0xd374a2;TestFramework['registerObserver'](_0x5dfbe2,_0x14d60a,this[_0x295fc6(0x132)][_0x295fc6(0x115)](this));});});continue;case'3':this[_0x127bba(0xfa)]=_0x4d5823;continue;case'4':process[_0x127bba(0x109)][testHubConstants[_0x127bba(0xe2)][_0x127bba(0xf6)]]=this[_0x127bba(0xfa)][_0x127bba(0xfc)]();continue;case'5':super();continue;case'6':this['name']=_0x84de9c[_0x127bba(0x101)];continue;case'7':process[_0x127bba(0x109)][testHubConstants['ENV_VAR'][_0x127bba(0x107)]]=this[_0x127bba(0xfa)][_0x127bba(0x14c)]();continue;}break;}}[a78_0x5c8037(0x144)](){const _0x187550=a78_0x5c8037;return TestHubModule[_0x187550(0x12f)];}[a78_0x5c8037(0x132)](_0x23a6ac){const _0x3aa3ab=a78_0x5c8037,_0x4590ab={};_0x4590ab[_0x3aa3ab(0x103)]=function(_0x351234,_0xdf6f83){return _0x351234===_0xdf6f83;};const _0x211ab1=_0x4590ab,_0x2b39b1=_0x23a6ac[_0x3aa3ab(0x142)],_0xf75389=_0x2b39b1[_0x3aa3ab(0x11a)]();(_0x211ab1['oqExZ'](_0xf75389,TestFrameworkState[_0x3aa3ab(0xe4)])||CLIUtils[_0x3aa3ab(0x119)](_0xf75389['toString']()[_0x3aa3ab(0x10d)]('.')[0x1]))&&this[_0x3aa3ab(0xee)](_0x23a6ac);}async[a78_0x5c8037(0xee)](_0xadff8){const _0x13d2c7=a78_0x5c8037,_0x400a46={};_0x400a46[_0x13d2c7(0x136)]=_0x13d2c7(0x12a);const _0x5201ff=_0x400a46;try{const _0x3bd80f=_0xadff8[_0x13d2c7(0x13b)]['id'],_0x50e7f9=_0xadff8['instance'],_0x19ecf2=_0x50e7f9[_0x13d2c7(0x108)](),_0x24ebae=_0x50e7f9['getAllData']()[_0x13d2c7(0x122)](_0x3bd80f);this[_0x13d2c7(0x126)]['debug']('sendTestFrameworkEvent\x20testId:\x20'+_0x3bd80f);const {[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x1cefe2='',[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x25a081='',[TestFrameworkConstants[_0x13d2c7(0xfd)]]:_0xe67e78='',[TestFrameworkConstants[_0x13d2c7(0x120)]]:_0x575098=''}=_0x24ebae,_0x269271=_0x50e7f9['getCurrentTestState']()[_0x13d2c7(0xf9)]()[_0x13d2c7(0x10d)]('.')[0x1],_0x2551f2=_0x50e7f9[_0x13d2c7(0xfb)]()[_0x13d2c7(0xf9)]()['split']('.')[0x1],_0x17ddd2=global?.[_0x13d2c7(0xe8)]?.[_0x13d2c7(0x10b)]?.[_0x13d2c7(0xea)];;const _0x2a40d6=_0x50e7f9[_0x13d2c7(0x133)](),_0x213552=Buffer['from'](JSON[_0x13d2c7(0xe7)](_0x24ebae))[_0x13d2c7(0xf9)](_0x5201ff[_0x13d2c7(0x136)]),_0x15397e={'hash':_0x19ecf2['getId'](),'threadId':_0x19ecf2[_0x13d2c7(0xf2)]()[_0x13d2c7(0xf9)](),'processId':_0x19ecf2[_0x13d2c7(0x11c)]()[_0x13d2c7(0xf9)]()},_0x1fa711={};_0x1fa711[_0x13d2c7(0x129)]=_0x17ddd2,_0x1fa711[_0x13d2c7(0x100)]=_0x1cefe2,_0x1fa711[_0x13d2c7(0x14a)]=_0x25a081,_0x1fa711[_0x13d2c7(0x10e)]=_0x269271,_0x1fa711[_0x13d2c7(0x12c)]=_0x2551f2,_0x1fa711[_0x13d2c7(0x124)]=_0xe67e78,_0x1fa711[_0x13d2c7(0xf7)]=_0x575098,_0x1fa711[_0x13d2c7(0xe5)]=_0x2a40d6,_0x1fa711[_0x13d2c7(0x149)]=_0x213552,_0x1fa711[_0x13d2c7(0x137)]=_0x15397e;const _0x903ed2=_0x1fa711,_0x2e58ee=await GrpcClient[_0x13d2c7(0x127)]()[_0x13d2c7(0xf8)](_0x903ed2);this['logger'][_0x13d2c7(0x130)](_0x13d2c7(0x128)+_0x3bd80f+_0x13d2c7(0x102)+_0x269271+_0x13d2c7(0xfe)+_0x2551f2);}catch(_0x5dc6d8){this['logger'][_0x13d2c7(0xf1)](_0x13d2c7(0x105)+util[_0x13d2c7(0xe6)](_0x5dc6d8));}}async[a78_0x5c8037(0x13f)](_0x219bda){const _0x202502=a78_0x5c8037,_0x3d74bb={'PVRGk':function(_0x14e74c,_0x10a15f){return _0x14e74c(_0x10a15f);},'IkkIM':_0x202502(0x12a)};try{if(_0x219bda[_0x202502(0x10a)]){const _0x45b6a4=_0x219bda[_0x202502(0x139)]['testId'];this['logger']['debug'](_0x202502(0x123)+_0x45b6a4);const _0x5a6886=TestInfo[_0x202502(0x146)](_0x45b6a4),_0x39357e=TestInfo[_0x202502(0x112)](_0x45b6a4),_0x450070=_0x219bda[_0x202502(0x142)],_0x51f860=AutomationFramework[_0x202502(0x134)](_0x450070,PlaywrightDriverModule['KEY_PLATFORM_INDEX']),_0xc96e18=_0x39357e[TestFrameworkConstants[_0x202502(0xff)]],_0x458a21=_0x39357e[TestFrameworkConstants[_0x202502(0x114)]],_0x12a5ba=TestFrameworkState[_0x202502(0xe4)][_0x202502(0xf9)]()[_0x202502(0x10d)]('.')[0x1],_0x199d47=HookState['POST'][_0x202502(0xf9)]()['split']('.')[0x1],_0x4600b4=_0x450070['getContext'](),_0x16ab5d=AutomationFramework[_0x202502(0x134)](_0x450070,PlaywrightDriverModule['KEY_HUB_URL'],''),_0x42ae61={'provider':_0x3d74bb[_0x202502(0x116)](getPlaywrightProvider,_0x16ab5d),'frameworkName':_0x450070[_0x202502(0xed)],'frameworkVersion':_0x450070[_0x202502(0x11f)],'frameworkSessionId':AutomationFramework[_0x202502(0x134)](_0x450070,PlaywrightDriverModule[_0x202502(0xeb)],''),'ref':_0x450070['getRef'](),'hubUrl':_0x16ab5d};let _0x4f3ac9=AutomationFramework[_0x202502(0x134)](_0x450070,PlaywrightDriverModule[_0x202502(0xe9)],{});_0x4f3ac9=Buffer[_0x202502(0x148)](JSON[_0x202502(0xe7)](_0x4f3ac9))['toString'](_0x3d74bb[_0x202502(0x110)]);const _0x48dbc7={'hash':_0x4600b4[_0x202502(0x11e)](),'threadId':_0x4600b4[_0x202502(0xf2)]()[_0x202502(0xf9)](),'processId':_0x4600b4[_0x202502(0x11c)]()[_0x202502(0xf9)]()},_0xc4049b={};_0xc4049b[_0x202502(0x129)]=_0x51f860,_0xc4049b[_0x202502(0x100)]=_0xc96e18,_0xc4049b[_0x202502(0x14a)]=_0x458a21,_0xc4049b[_0x202502(0x10e)]=_0x12a5ba,_0xc4049b[_0x202502(0x10c)]=_0x199d47,_0xc4049b[_0x202502(0x111)]=_0x5a6886,_0xc4049b[_0x202502(0x10f)]=_0x42ae61,_0xc4049b['capabilities']=_0x4f3ac9,_0xc4049b[_0x202502(0x137)]=_0x48dbc7;const _0x574e6f=_0xc4049b;this[_0x202502(0x126)][_0x202502(0x130)](_0x202502(0x13e)+util['format'](_0x574e6f));const _0x12357f=await GrpcClient[_0x202502(0x127)]()[_0x202502(0x12b)](_0x574e6f);this[_0x202502(0x126)][_0x202502(0x130)](_0x202502(0x12e)+_0x45b6a4);}}catch(_0x238d8a){this[_0x202502(0x126)][_0x202502(0xf1)](_0x202502(0x12d)+util[_0x202502(0xe6)](_0x238d8a));}}}TestHubModule[a78_0x5c8037(0x12f)]='TestHubModule',TestHubModule[a78_0x5c8037(0x117)]=a78_0x5c8037(0x121),module[a78_0x5c8037(0x118)]=TestHubModule;