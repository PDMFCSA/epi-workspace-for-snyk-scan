const a72_0x1e4501=a72_0x34e6;(function(_0x53f6c8,_0x3039d6){const _0x1888d6=a72_0x34e6,_0x339b9c=_0x53f6c8();while(!![]){try{const _0xf6319e=-parseInt(_0x1888d6(0x159))/0x1*(-parseInt(_0x1888d6(0x17d))/0x2)+-parseInt(_0x1888d6(0x141))/0x3+-parseInt(_0x1888d6(0x11c))/0x4+parseInt(_0x1888d6(0x187))/0x5*(parseInt(_0x1888d6(0x126))/0x6)+parseInt(_0x1888d6(0x13a))/0x7+-parseInt(_0x1888d6(0x173))/0x8*(-parseInt(_0x1888d6(0x120))/0x9)+-parseInt(_0x1888d6(0x158))/0xa;if(_0xf6319e===_0x3039d6)break;else _0x339b9c['push'](_0x339b9c['shift']());}catch(_0x5815c7){_0x339b9c['push'](_0x339b9c['shift']());}}}(a72_0x22ac,0x787b6));function a72_0x34e6(_0x378772,_0x24d693){const _0x22acce=a72_0x22ac();return a72_0x34e6=function(_0x34e615,_0x2230af){_0x34e615=_0x34e615-0xfe;let _0x197b41=_0x22acce[_0x34e615];return _0x197b41;},a72_0x34e6(_0x378772,_0x24d693);}const util=require(a72_0x1e4501(0x119)),BaseModule=require('./baseModule'),{createClassLogger}=require('../../../helpers/classLogger.js'),{getFrameworkVersion}=require(a72_0x1e4501(0x181)),{FRAMEWORKS}=require(a72_0x1e4501(0x152)),AutomationFramework=require('../framework/automationFramework.js'),AutomationFrameworkState=require(a72_0x1e4501(0x11d)),HookState=require(a72_0x1e4501(0x134)),{playwrightBstackJsExecutor,nestedKeyValue,playwrightAnnotate,getPlaywrightStatus,getPlaywrightSessionName}=require(a72_0x1e4501(0x136)),CLIUtils=require(a72_0x1e4501(0x102)),BrowserstackCLI=require(a72_0x1e4501(0x148)),GrpcClient=require(a72_0x1e4501(0x153)),PerformanceTester=require(a72_0x1e4501(0x14c)),PerformanceEvents=require(a72_0x1e4501(0x135))[a72_0x1e4501(0x174)];class PlaywrightDriverModule extends BaseModule{static [a72_0x1e4501(0x162)]='browserObject';static [a72_0x1e4501(0x111)]=a72_0x1e4501(0x109);static [a72_0x1e4501(0x189)]=a72_0x1e4501(0x139);static [a72_0x1e4501(0x112)]=a72_0x1e4501(0x16b);static ['KEY_PLATFORM_INDEX']=a72_0x1e4501(0x122);static ['KEY_CAPABILITIES']='capabilities';static [a72_0x1e4501(0x150)]='hubUrl';static [a72_0x1e4501(0x15a)]='platformDetails';static [a72_0x1e4501(0x123)]='testId';[a72_0x1e4501(0x130)]=createClassLogger(a72_0x1e4501(0x183));constructor(){const _0x277373=a72_0x1e4501,_0xdcba08={};_0xdcba08[_0x277373(0x12e)]=_0x277373(0x11b),_0xdcba08[_0x277373(0x177)]=_0x277373(0x183);const _0x36fff9=_0xdcba08,_0x5965ad=_0x36fff9[_0x277373(0x12e)][_0x277373(0x10e)]('|');let _0x2ecda5=0x0;while(!![]){switch(_0x5965ad[_0x2ecda5++]){case'0':this[_0x277373(0x13e)]=null;continue;case'1':AutomationFramework[_0x277373(0x12b)](AutomationFrameworkState[_0x277373(0x147)],HookState[_0x277373(0x127)],this[_0x277373(0x15c)][_0x277373(0x16e)](this));continue;case'2':AutomationFramework['registerObserver'](AutomationFrameworkState[_0x277373(0x147)],HookState[_0x277373(0x15e)],this[_0x277373(0x163)][_0x277373(0x16e)](this));continue;case'3':this[_0x277373(0x13c)]=_0x36fff9[_0x277373(0x177)];continue;case'4':this[_0x277373(0x11e)]=null;continue;case'5':AutomationFramework[_0x277373(0x12b)](AutomationFrameworkState[_0x277373(0x17c)],HookState[_0x277373(0x127)],this[_0x277373(0x15b)][_0x277373(0x16e)](this));continue;case'6':this[_0x277373(0x137)]=null;continue;case'7':AutomationFramework[_0x277373(0x12b)](AutomationFrameworkState[_0x277373(0x11f)],HookState['POST'],this[_0x277373(0x17e)]['bind'](this));continue;case'8':this[_0x277373(0x151)]=[];continue;case'9':this[_0x277373(0x184)]=null;continue;case'10':super();continue;}break;}}[a72_0x1e4501(0x101)](){const _0x5123d2=a72_0x1e4501;return PlaywrightDriverModule[_0x5123d2(0x156)];}async[a72_0x1e4501(0x163)](_0x487aa3){const _0x2939a8=a72_0x1e4501,_0x2fcc7a={};_0x2fcc7a['iwwjt']='onBeforeDriverCreate:\x20Playwright\x20driver\x20is\x20about\x20to\x20be\x20created';const _0x12621d=_0x2fcc7a;try{this[_0x2939a8(0x130)][_0x2939a8(0x12a)](_0x12621d['iwwjt']);const _0x3fcba0=_0x487aa3['launchcaps'],_0x3d314b=_0x487aa3[_0x2939a8(0x14d)];AutomationFramework['setState'](_0x487aa3[_0x2939a8(0xff)],PlaywrightDriverModule[_0x2939a8(0x157)],_0x3fcba0),AutomationFramework[_0x2939a8(0x176)](_0x487aa3[_0x2939a8(0xff)],PlaywrightDriverModule[_0x2939a8(0x150)],_0x3d314b);}catch(_0x4298a2){this[_0x2939a8(0x130)][_0x2939a8(0x11a)](_0x2939a8(0x114)+util[_0x2939a8(0x10f)](_0x4298a2));}}async[a72_0x1e4501(0x17e)](_0xdbb131){const _0x189906=a72_0x1e4501,_0x50ee19={};_0x50ee19['xHBNb']=function(_0x4dda18,_0x3c41fd){return _0x4dda18||_0x3c41fd;};const _0x101ad8=_0x50ee19;try{const _0x3b962c=_0xdbb131?.[_0x189906(0x166)]&&_0xdbb131?.[_0x189906(0x166)]?.[_0x189906(0x117)]&&_0xdbb131?.[_0x189906(0x166)]?.['params']?.[_0x189906(0x170)],_0x488296=_0xdbb131?.[_0x189906(0x166)]&&_0xdbb131?.[_0x189906(0x166)]?.[_0x189906(0x15d)];if(_0x101ad8[_0x189906(0x140)](_0x3b962c,_0x488296)){this[_0x189906(0x130)][_0x189906(0x12a)](_0x189906(0x18e)+util[_0x189906(0x14b)](_0x3b962c)+_0x189906(0x13f)+util[_0x189906(0x14b)](_0x488296));const _0x579c85=_0xdbb131?.[_0x189906(0xff)],_0x5dea00=_0x3b962c?.[_0x189906(0x16b)]||_0x488296?.[_0x189906(0x16b)],_0x4a81e7=_0x3b962c?.['platformDetails']||_0x488296?.[_0x189906(0x161)];_0x5dea00&&(this[_0x189906(0x130)][_0x189906(0x12a)]('onDispatchExecute:\x20Playwright\x20sessionId:\x20'+_0x5dea00),AutomationFramework['setState'](_0x579c85,PlaywrightDriverModule[_0x189906(0x112)],_0x5dea00)),_0x4a81e7&&(this['logger']['debug'](_0x189906(0x143)+util['inspect'](_0x4a81e7)),AutomationFramework[_0x189906(0x176)](_0x579c85,PlaywrightDriverModule[_0x189906(0x175)],_0x4a81e7));}}catch(_0x11f0b5){this[_0x189906(0x130)]['error'](_0x189906(0x107)+util[_0x189906(0x10f)](_0x11f0b5));}}async[a72_0x1e4501(0x15c)](_0x21508b){const _0x252520=a72_0x1e4501,_0x44334f={'zEDVG':_0x252520(0x128),'OxBWK':function(_0x34ea5a,_0x23ef33){return _0x34ea5a(_0x23ef33);},'YAqJM':_0x252520(0x13d),'zLRdw':_0x252520(0xfe),'FObbF':_0x252520(0x14e),'uXUPL':'onAfterDriverCreate:\x20Setting\x20browser\x20object','mENEg':'base64'};try{this[_0x252520(0x130)]['debug'](_0x44334f['zEDVG']);const _0x10dfe4=_0x21508b['instance'];this[_0x252520(0x11e)]=_0x44334f[_0x252520(0x18b)](getFrameworkVersion,FRAMEWORKS[_0x252520(0x167)]);if(_0x21508b['page']){this[_0x252520(0x130)]['debug'](_0x44334f[_0x252520(0x16f)]),AutomationFramework[_0x252520(0x176)](_0x10dfe4,PlaywrightDriverModule[_0x252520(0x189)],_0x21508b[_0x252520(0x149)]);if(_0x21508b['testInfo']){this[_0x252520(0x130)][_0x252520(0x12a)](_0x44334f[_0x252520(0x17f)]);const _0xee38fa=_0x21508b[_0x252520(0x168)]?.['_test']?.['id']||_0x21508b[_0x252520(0x168)]?.[_0x252520(0x185)];AutomationFramework[_0x252520(0x176)](_0x10dfe4,PlaywrightDriverModule[_0x252520(0x123)],_0xee38fa),await this['markSessionName'](_0x21508b['testInfo']);}}_0x21508b[_0x252520(0x18c)]&&(this[_0x252520(0x130)]['debug'](_0x44334f[_0x252520(0x178)]),AutomationFramework[_0x252520(0x176)](_0x10dfe4,PlaywrightDriverModule['KEY_CONTEXT_OBJECT'],_0x21508b[_0x252520(0x18c)]));if(_0x21508b[_0x252520(0x13b)]){this[_0x252520(0x130)][_0x252520(0x12a)](_0x44334f[_0x252520(0x142)]);const _0x1ee722=global['__workerDetails'][_0x252520(0x125)][_0x252520(0x10b)];AutomationFramework[_0x252520(0x176)](_0x10dfe4,PlaywrightDriverModule[_0x252520(0x162)],_0x21508b['browser']),AutomationFramework[_0x252520(0x176)](_0x10dfe4,PlaywrightDriverModule[_0x252520(0x175)],_0x1ee722);const _0x420821={};_0x420821[_0x252520(0x10c)]=!![];const _0x3e509a=Buffer[_0x252520(0x14f)](JSON[_0x252520(0x132)](_0x420821)['toString'](_0x44334f[_0x252520(0x121)])),_0x4d82e1=await GrpcClient[_0x252520(0x15f)]()[_0x252520(0x18d)]({'platformIndex':_0x1ee722,'ref':_0x10dfe4['getRef'](),'userInputParams':_0x3e509a});}}catch(_0x838960){this['logger'][_0x252520(0x11a)](_0x252520(0x16a)+util['format'](_0x838960));}}async[a72_0x1e4501(0x15b)](_0x4718b2){const _0x57cbe1=a72_0x1e4501,_0x166900={'lyPps':_0x57cbe1(0x171),'azGPG':'Automation\x20onAfterTest:\x20Automation\x20instance\x20is\x20not\x20available','FyUFF':function(_0x378ea1,_0x33edd7){return _0x378ea1(_0x33edd7);},'ZMFXr':function(_0x3b96eb,_0x476a95,_0x29f554){return _0x3b96eb(_0x476a95,_0x29f554);},'udfDb':'error','mzvsJ':'message','GQkdx':_0x57cbe1(0x169)};this[_0x57cbe1(0x130)]['debug'](_0x166900['lyPps']);const _0x2803a0=_0x4718b2[_0x57cbe1(0xff)];if(!_0x2803a0){this['logger'][_0x57cbe1(0x12a)](_0x166900[_0x57cbe1(0x12d)]);return;}const _0x135767=_0x4718b2[_0x57cbe1(0x168)],_0x25c856=_0x135767['id'],_0x732e91=_0x135767[_0x57cbe1(0x172)],_0x595317=_0x166900[_0x57cbe1(0x154)](getPlaywrightStatus,_0x732e91),_0x423864=_0x166900['FyUFF'](getPlaywrightSessionName,_0x135767),_0x1b8240=_0x166900[_0x57cbe1(0x10a)](nestedKeyValue,_0x732e91,[_0x166900['udfDb'],_0x166900['mzvsJ']]);this[_0x57cbe1(0x130)][_0x57cbe1(0x12a)](_0x57cbe1(0x110)+_0x595317);if(!_0x595317){this[_0x57cbe1(0x130)][_0x57cbe1(0x12a)](_0x166900[_0x57cbe1(0x103)],_0x732e91[_0x57cbe1(0x172)]);return;}this['logger'][_0x57cbe1(0x12a)](_0x57cbe1(0x145)+_0x25c856),await this[_0x57cbe1(0x12f)](_0x2803a0,_0x423864,_0x595317,_0x1b8240);}async[a72_0x1e4501(0x12f)](_0x318f7e,_0x5edeaf,_0x416e72,_0x8bddcd){const _0x35704d=a72_0x1e4501,_0x524491={'uvdSo':'markSessionStatus:\x20Skipping\x20session\x20status\x20marking','pTBYF':_0x35704d(0x16c),'ULiVg':_0x35704d(0x113),'BQzLD':'Unable\x20to\x20mark\x20session\x20status,\x20received\x20status:\x20','ovLTr':'reason','CrEVu':_0x35704d(0x129),'HPviN':function(_0x5863d3,_0x26df8d){return _0x5863d3===_0x26df8d;},'iDTwS':_0x35704d(0x131),'iJNXS':_0x35704d(0x118),'PIykK':_0x35704d(0x11a),'vJQng':function(_0x41bb20,_0x2cf3d0,_0x4d5659,_0x5a2e1b){return _0x41bb20(_0x2cf3d0,_0x4d5659,_0x5a2e1b);},'QBAKU':'setSessionStatus','hrwqO':'markSessionStatus:\x20Marking\x20session\x20status','edIKB':function(_0x328e15,_0x1c22a2,_0x40e467){return _0x328e15(_0x1c22a2,_0x40e467);}};if(CLIUtils[_0x35704d(0x165)](BrowserstackCLI[_0x35704d(0x15f)]()[_0x35704d(0x115)]())){this[_0x35704d(0x130)][_0x35704d(0x12a)](_0x524491[_0x35704d(0x16d)]);return;}const _0xb9d6b6=_0x318f7e;if(!_0xb9d6b6){this[_0x35704d(0x130)][_0x35704d(0x12a)](_0x524491[_0x35704d(0x12c)]);return;}const _0x15c416=AutomationFramework[_0x35704d(0x18a)](_0xb9d6b6,PlaywrightDriverModule['KEY_PAGE_OBJECT']);if(!_0x15c416){this[_0x35704d(0x130)][_0x35704d(0x12a)](_0x524491[_0x35704d(0x124)]);return;}const _0x362cb1=_0x416e72;if(!_0x362cb1){this[_0x35704d(0x130)][_0x35704d(0x12a)](_0x524491[_0x35704d(0x108)],_0x362cb1);return;}_0x8bddcd&&(_0x49fce2[_0x35704d(0x116)][_0x524491[_0x35704d(0x100)]]=_0x8bddcd);const _0xb7007e=(_0x5edeaf?_0x5edeaf:_0x524491[_0x35704d(0x144)])+'\x20'+_0x362cb1+'\x20'+(_0x8bddcd?'with\x20'+_0x8bddcd:''),_0x580525=_0x524491[_0x35704d(0x17a)](_0x362cb1,_0x524491[_0x35704d(0x14a)])?_0x524491['iJNXS']:_0x524491[_0x35704d(0x155)];await _0x524491[_0x35704d(0x186)](playwrightAnnotate,_0x15c416,_0xb7007e,_0x580525);const _0x3412e5={};_0x3412e5[_0x35704d(0x172)]=_0x362cb1;const _0x553ee9={};_0x553ee9['action']=_0x524491['QBAKU'],_0x553ee9[_0x35704d(0x116)]=_0x3412e5;const _0x49fce2=_0x553ee9;PerformanceTester[_0x35704d(0x17b)](PerformanceEvents[_0x35704d(0x146)]),this[_0x35704d(0x130)][_0x35704d(0x12a)](_0x524491[_0x35704d(0x10d)]),await _0x524491[_0x35704d(0x179)](playwrightBstackJsExecutor,_0x15c416,_0x49fce2),PerformanceTester[_0x35704d(0x164)](PerformanceEvents[_0x35704d(0x146)]);}async['markSessionName'](_0x39c94e){const _0x2faf5f=a72_0x1e4501,_0x5ab606={'gxVdS':'markSessionName:\x20Skipping\x20session\x20name\x20marking','JsMtk':'setSessionName','EcgxP':function(_0x2e2e16,_0x10d8b7){return _0x2e2e16(_0x10d8b7);},'JyDfh':function(_0x3ec709,_0x3348ca,_0x379e55){return _0x3ec709(_0x3348ca,_0x379e55);}};try{if(CLIUtils[_0x2faf5f(0x182)](BrowserstackCLI['getInstance']()['getConfig']())){this[_0x2faf5f(0x130)]['debug'](_0x5ab606[_0x2faf5f(0x138)]);return;}const _0x7b6916=AutomationFramework['getState'](AutomationFramework[_0x2faf5f(0x104)](),PlaywrightDriverModule[_0x2faf5f(0x189)]),_0x27dc6c={'action':_0x5ab606[_0x2faf5f(0x133)],'arguments':{'name':_0x5ab606[_0x2faf5f(0x188)](getPlaywrightSessionName,_0x39c94e)}};PerformanceTester[_0x2faf5f(0x17b)](PerformanceEvents['SESSION_NAME']),await _0x5ab606[_0x2faf5f(0x180)](playwrightBstackJsExecutor,_0x7b6916,_0x27dc6c),PerformanceTester[_0x2faf5f(0x164)](PerformanceEvents['SESSION_NAME']);}catch(_0x2386e2){PerformanceTester['end'](PerformanceEvents[_0x2faf5f(0x106)],![],util[_0x2faf5f(0x10f)](_0x2386e2)),this[_0x2faf5f(0x130)][_0x2faf5f(0x11a)](_0x2faf5f(0x160)+util[_0x2faf5f(0x10f)](_0x2386e2));}}}PlaywrightDriverModule['MODULE_NAME']='PlaywrightDriverModule',module[a72_0x1e4501(0x105)]=PlaywrightDriverModule;function a72_0x22ac(){const _0x1c84a9=['../grpcClient.js','FyUFF','PIykK','MODULE_NAME','KEY_CAPABILITIES','4760570YNRdCU','2iBcrVy','KEY_PLATFORM_DETAILS','onAfterTest','onAfterDriverCreate','bStackParams','PRE','getInstance','Error\x20in\x20markSessionName:\x20','platformDetails','KEY_BROWSER_OBJECT','onBeforeDriverCreate','end','shouldSkipSessionStatus','message','PLAYWRIGHT','testInfo','Unable\x20to\x20mark\x20session\x20status,\x20received\x20status:\x20','Error\x20in\x20onAfterDriverCreate:\x20','sessionId','markSessionStatus:\x20Automation\x20instance\x20is\x20not\x20available','uvdSo','bind','YAqJM','bsParams','Automation\x20onAfterTest:\x20Test\x20completed','status','232hKFuMh','AUTOMATE_EVENTS','KEY_PLATFORM_INDEX','setState','WfkbQ','FObbF','edIKB','HPviN','start','EXECUTE','629026PHRFPh','onPlaywrightDispatch','zLRdw','JyDfh','../../../helpers/test-observability/utils','shouldSkipSessionName','PlaywrightDriverModule','browserVersion','testId','vJQng','5qdjwsY','EcgxP','KEY_PAGE_OBJECT','getState','OxBWK','context','driverInit','onDispatchExecute:\x20Playwright\x20driver\x20is\x20executing\x20tests\x20','onAfterDriverCreate:\x20Setting\x20Session\x20Name\x20from\x20testInfo','instance','ovLTr','getModuleName','../cliUtils.js','GQkdx','getTrackedInstance','exports','SESSION_NAME','Error\x20in\x20onDispatchExecute:\x20','BQzLD','contextObject','ZMFXr','parallelIndex','isPlaywright','hrwqO','split','format','Automation\x20onAfterTest:\x20Test\x20status:\x20','KEY_CONTEXT_OBJECT','KEY_SESSION_ID','markSessionStatus:\x20Page\x20object\x20is\x20not\x20available','Error\x20in\x20onBeforeDriverCreate:\x20','getConfig','arguments','params','info','util','error','10|3|4|0|9|8|6|2|1|7|5','45104EDKqgi','../state/automationFrameworkState.js','playwrightVersion','PLAYWRIGHT_DISPATCH','81306PquOTX','mENEg','platformIndex','KEY_TEST_ID','ULiVg','workerInfo','629094xfCHvp','POST','onAfterDriverCreate:\x20Playwright\x20driver\x20is\x20about\x20to\x20be\x20created','Session','debug','registerObserver','pTBYF','azGPG','JRGbi','markSessionStatus','logger','passed','stringify','JsMtk','../state/hookState.js','../../../helpers/performance/constants.js','../../../helpers/helper.js','testRunId','gxVdS','pageObject','4313869sABooF','browser','name','onAfterDriverCreate:\x20Setting\x20page\x20object','browserName','\x20||\x20','xHBNb','1893903fMMnVa','uXUPL','onDispatchExecute:\x20Playwright\x20platform\x20details:\x20','CrEVu','Automation\x20onAfterTest:\x20Setting\x20session\x20status\x20for\x20testId:\x20','SESSION_STATUS','CREATE','../browserstackCLI.js','page','iDTwS','inspect','../../../helpers/performance/performance-tester.js','hubUrl','onAfterDriverCreate:\x20Setting\x20context\x20object','from','KEY_HUB_URL','platforms','../../utils/constants'];a72_0x22ac=function(){return _0x1c84a9;};return a72_0x22ac();}