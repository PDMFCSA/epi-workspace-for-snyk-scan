function a73_0x37d5(_0x11e634,_0x3f4780){const _0x2e3ecb=a73_0x2e3e();return a73_0x37d5=function(_0x37d5fe,_0x5875b6){_0x37d5fe=_0x37d5fe-0xa5;let _0x3faa60=_0x2e3ecb[_0x37d5fe];return _0x3faa60;},a73_0x37d5(_0x11e634,_0x3f4780);}function a73_0x2e3e(){const _0x605d9f=['onDispatchExecute:\x20Playwright\x20sessionId:\x20','KEY_SESSION_ID','CgOLb','HdvMZ','with\x20','exports','Error\x20in\x20markSessionName:\x20','util','testInfo','QVUpm','markSessionStatus:\x20Page\x20object\x20is\x20not\x20available','HXmLK','hubUrl','GcEZu','YAvsL','sessionId','45VFfzYQ','cAmcF','onAfterDriverCreate:\x20Playwright\x20driver\x20is\x20about\x20to\x20be\x20created','inspect','WkqCI','getRef','845330JrLHKo','299434vUjQbd','base64','ORmhL','bStackParams','split','914072TGiETu','./baseModule','markSessionName:\x20Skipping\x20session\x20name\x20marking','645085TVksys','KEY_HUB_URL','status','testId','RrBVV','SkBOy','testRunId','playwrightVersion','params','Error\x20in\x20onDispatchExecute:\x20','platformDetails','Qqtyd','aDugP','KEY_PAGE_OBJECT','from','3PqBUeh','shouldSkipSessionName','bsParams','markSessionStatus:\x20Skipping\x20session\x20status\x20marking','PRE','PTLRg','../../../helpers/classLogger.js','parallelIndex','setState','markSessionStatus:\x20Automation\x20instance\x20is\x20not\x20available','MbgnB','onDispatchExecute:\x20Playwright\x20platform\x20details:\x20','__workerDetails','xzIVG','contextObject','Automation\x20onAfterTest:\x20Test\x20completed','getModuleName','driverInit','Error\x20in\x20onAfterDriverCreate:\x20','../../../helpers/test-observability/utils','KEY_PLATFORM_DETAILS','PahXx','arguments','KEY_BROWSER_OBJECT','registerObserver','SESSION_STATUS','PibCS','platformIndex','onPlaywrightDispatch','KEY_PLATFORM_INDEX','Automation\x20onAfterTest:\x20Test\x20status:\x20','message','OgEvF','debug','getInstance','bind','73794ifnsYR','../../../helpers/performance/performance-tester.js','onBeforeDriverCreate','browserVersion','CREATE','format','OctGs','SESSION_NAME','20280IKOzCJ','setSessionName','onAfterDriverCreate','vdTdp','markSessionStatus','toString','getState','MODULE_NAME','KEY_TEST_ID','QVrtf','context','../cliUtils.js','2239056pdlnbm','PAKvU','POST','../browserstackCLI.js','markSessionName','Unable\x20to\x20mark\x20session\x20status,\x20received\x20status:\x20','launchcaps','stringify','AUTOMATE_EVENTS','PlaywrightDriverModule','ZRhIa','../grpcClient.js','logger','start','onDispatchExecute:\x20Playwright\x20driver\x20is\x20executing\x20tests\x20','BOYeg','AhfyE','browser','../../../helpers/helper.js','instance','TPzfA','49KMXnpw','1|0|8|5|2|10|6|7|9|4|3','EXECUTE','page','VzlRR','KEY_CAPABILITIES','getConfig','error','\x20||\x20','../../utils/constants','getTrackedInstance','vFHbO','rWNRR','_test','onAfterTest','end','PLAYWRIGHT_DISPATCH'];a73_0x2e3e=function(){return _0x605d9f;};return a73_0x2e3e();}const a73_0x121a1c=a73_0x37d5;(function(_0x291142,_0x5d3e44){const _0x41fccb=a73_0x37d5,_0xd25f05=_0x291142();while(!![]){try{const _0x155a5=parseInt(_0x41fccb(0xa7))/0x1+-parseInt(_0x41fccb(0xea))/0x2+-parseInt(_0x41fccb(0xbe))/0x3*(parseInt(_0x41fccb(0xac))/0x4)+-parseInt(_0x41fccb(0xaf))/0x5+parseInt(_0x41fccb(0xe2))/0x6*(parseInt(_0x41fccb(0x10b))/0x7)+-parseInt(_0x41fccb(0xf6))/0x8+parseInt(_0x41fccb(0x12c))/0x9*(parseInt(_0x41fccb(0xa6))/0xa);if(_0x155a5===_0x5d3e44)break;else _0xd25f05['push'](_0xd25f05['shift']());}catch(_0x2cf052){_0xd25f05['push'](_0xd25f05['shift']());}}}(a73_0x2e3e,0x2737b));const util=require(a73_0x121a1c(0x123)),BaseModule=require(a73_0x121a1c(0xad)),{createClassLogger}=require(a73_0x121a1c(0xc4)),{getFrameworkVersion}=require(a73_0x121a1c(0xd1)),{FRAMEWORKS}=require(a73_0x121a1c(0x114)),AutomationFramework=require('../framework/automationFramework.js'),AutomationFrameworkState=require('../state/automationFrameworkState.js'),HookState=require('../state/hookState.js'),{playwrightBstackJsExecutor,nestedKeyValue,playwrightAnnotate,getPlaywrightStatus,getPlaywrightSessionName}=require(a73_0x121a1c(0x108)),CLIUtils=require(a73_0x121a1c(0xf5)),BrowserstackCLI=require(a73_0x121a1c(0xf9)),GrpcClient=require(a73_0x121a1c(0x101)),PerformanceTester=require(a73_0x121a1c(0xe3)),PerformanceEvents=require('../../../helpers/performance/constants.js')[a73_0x121a1c(0xfe)];class PlaywrightDriverModule extends BaseModule{static ['KEY_BROWSER_OBJECT']='browserObject';static ['KEY_CONTEXT_OBJECT']=a73_0x121a1c(0xcc);static [a73_0x121a1c(0xbc)]='pageObject';static [a73_0x121a1c(0x11d)]=a73_0x121a1c(0x12b);static [a73_0x121a1c(0xdb)]=a73_0x121a1c(0xd9);static [a73_0x121a1c(0x110)]='capabilities';static [a73_0x121a1c(0xb0)]=a73_0x121a1c(0x128);static [a73_0x121a1c(0xd2)]=a73_0x121a1c(0xb9);static [a73_0x121a1c(0xf2)]=a73_0x121a1c(0xb2);[a73_0x121a1c(0x102)]=createClassLogger(a73_0x121a1c(0xff));constructor(){const _0x3a1b7e=a73_0x121a1c,_0xcc2d67={};_0xcc2d67[_0x3a1b7e(0xde)]=_0x3a1b7e(0x10c),_0xcc2d67[_0x3a1b7e(0x10a)]=_0x3a1b7e(0xff);const _0x33f1d1=_0xcc2d67,_0x37e159=_0x33f1d1[_0x3a1b7e(0xde)][_0x3a1b7e(0xab)]('|');let _0x115523=0x0;while(!![]){switch(_0x37e159[_0x115523++]){case'0':this['name']=_0x33f1d1['TPzfA'];continue;case'1':super();continue;case'2':this[_0x3a1b7e(0xe5)]=null;continue;case'3':AutomationFramework['registerObserver'](AutomationFrameworkState[_0x3a1b7e(0x10d)],HookState[_0x3a1b7e(0xf8)],this[_0x3a1b7e(0x119)]['bind'](this));continue;case'4':AutomationFramework[_0x3a1b7e(0xd6)](AutomationFrameworkState[_0x3a1b7e(0x11b)],HookState['POST'],this['onPlaywrightDispatch'][_0x3a1b7e(0xe1)](this));continue;case'5':this['browserName']=null;continue;case'6':this[_0x3a1b7e(0xb5)]=null;continue;case'7':AutomationFramework[_0x3a1b7e(0xd6)](AutomationFrameworkState['CREATE'],HookState[_0x3a1b7e(0xc2)],this[_0x3a1b7e(0xe4)][_0x3a1b7e(0xe1)](this));continue;case'8':this[_0x3a1b7e(0xb6)]=null;continue;case'9':AutomationFramework[_0x3a1b7e(0xd6)](AutomationFrameworkState[_0x3a1b7e(0xe6)],HookState[_0x3a1b7e(0xf8)],this[_0x3a1b7e(0xec)]['bind'](this));continue;case'10':this['platforms']=[];continue;}break;}}[a73_0x121a1c(0xce)](){const _0x41beaa=a73_0x121a1c;return PlaywrightDriverModule[_0x41beaa(0xf1)];}async[a73_0x121a1c(0xe4)](_0x25933d){const _0x1e17b0=a73_0x121a1c,_0x232da8={};_0x232da8['PahXx']='onBeforeDriverCreate:\x20Playwright\x20driver\x20is\x20about\x20to\x20be\x20created';const _0x39c7aa=_0x232da8;try{this['logger'][_0x1e17b0(0xdf)](_0x39c7aa[_0x1e17b0(0xd3)]);const _0x37422d=_0x25933d[_0x1e17b0(0xfc)],_0x4afbd4=_0x25933d[_0x1e17b0(0x128)];AutomationFramework[_0x1e17b0(0xc6)](_0x25933d[_0x1e17b0(0x109)],PlaywrightDriverModule[_0x1e17b0(0x110)],_0x37422d),AutomationFramework[_0x1e17b0(0xc6)](_0x25933d[_0x1e17b0(0x109)],PlaywrightDriverModule['KEY_HUB_URL'],_0x4afbd4);}catch(_0x3d2139){this[_0x1e17b0(0x102)][_0x1e17b0(0x112)]('Error\x20in\x20onBeforeDriverCreate:\x20'+util[_0x1e17b0(0xe7)](_0x3d2139));}}async[a73_0x121a1c(0xda)](_0x4063a4){const _0x496ca2=a73_0x121a1c,_0x112a23={};_0x112a23[_0x496ca2(0x10f)]=function(_0x23e967,_0x384327){return _0x23e967||_0x384327;};const _0x58e5d3=_0x112a23;try{const _0x18f6a8=_0x4063a4?.[_0x496ca2(0xdd)]&&_0x4063a4?.[_0x496ca2(0xdd)]?.[_0x496ca2(0xb7)]&&_0x4063a4?.[_0x496ca2(0xdd)]?.[_0x496ca2(0xb7)]?.[_0x496ca2(0xc0)],_0x5faa0=_0x4063a4?.['message']&&_0x4063a4?.['message']?.[_0x496ca2(0xaa)];if(_0x58e5d3[_0x496ca2(0x10f)](_0x18f6a8,_0x5faa0)){this[_0x496ca2(0x102)][_0x496ca2(0xdf)](_0x496ca2(0x104)+util[_0x496ca2(0x12f)](_0x18f6a8)+_0x496ca2(0x113)+util[_0x496ca2(0x12f)](_0x5faa0));const _0x4b6b7d=_0x4063a4?.[_0x496ca2(0x109)],_0x4cfde8=_0x18f6a8?.[_0x496ca2(0x12b)]||_0x5faa0?.[_0x496ca2(0x12b)],_0x3d1180=_0x18f6a8?.[_0x496ca2(0xb9)]||_0x5faa0?.[_0x496ca2(0xb9)];_0x4cfde8&&(this['logger'][_0x496ca2(0xdf)](_0x496ca2(0x11c)+_0x4cfde8),AutomationFramework[_0x496ca2(0xc6)](_0x4b6b7d,PlaywrightDriverModule[_0x496ca2(0x11d)],_0x4cfde8)),_0x3d1180&&(this[_0x496ca2(0x102)]['debug'](_0x496ca2(0xc9)+util['inspect'](_0x3d1180)),AutomationFramework[_0x496ca2(0xc6)](_0x4b6b7d,PlaywrightDriverModule[_0x496ca2(0xdb)],_0x3d1180));}}catch(_0x3f6b68){this[_0x496ca2(0x102)][_0x496ca2(0x112)](_0x496ca2(0xb8)+util['format'](_0x3f6b68));}}async[a73_0x121a1c(0xec)](_0x26d760){const _0x5297f9=a73_0x121a1c,_0x1bb438={'CcOmx':_0x5297f9(0x12e),'ZRhIa':function(_0x10d45f,_0x25d65f){return _0x10d45f(_0x25d65f);},'BOYeg':'onAfterDriverCreate:\x20Setting\x20page\x20object','xzIVG':'onAfterDriverCreate:\x20Setting\x20Session\x20Name\x20from\x20testInfo','MbgnB':'onAfterDriverCreate:\x20Setting\x20context\x20object','CgOLb':'onAfterDriverCreate:\x20Setting\x20browser\x20object','HovIp':_0x5297f9(0xa8)};try{this['logger']['debug'](_0x1bb438['CcOmx']);const _0x254a64=_0x26d760[_0x5297f9(0x109)];this[_0x5297f9(0xb6)]=_0x1bb438[_0x5297f9(0x100)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x26d760['page']){this[_0x5297f9(0x102)][_0x5297f9(0xdf)](_0x1bb438[_0x5297f9(0x105)]),AutomationFramework[_0x5297f9(0xc6)](_0x254a64,PlaywrightDriverModule[_0x5297f9(0xbc)],_0x26d760[_0x5297f9(0x10e)]);if(_0x26d760[_0x5297f9(0x124)]){this['logger'][_0x5297f9(0xdf)](_0x1bb438[_0x5297f9(0xcb)]);const _0x24fcbc=_0x26d760[_0x5297f9(0x124)]?.[_0x5297f9(0x118)]?.['id']||_0x26d760[_0x5297f9(0x124)]?.[_0x5297f9(0xb2)];AutomationFramework[_0x5297f9(0xc6)](_0x254a64,PlaywrightDriverModule[_0x5297f9(0xf2)],_0x24fcbc),await this[_0x5297f9(0xfa)](_0x26d760[_0x5297f9(0x124)]);}}_0x26d760['context']&&(this[_0x5297f9(0x102)][_0x5297f9(0xdf)](_0x1bb438[_0x5297f9(0xc8)]),AutomationFramework[_0x5297f9(0xc6)](_0x254a64,PlaywrightDriverModule['KEY_CONTEXT_OBJECT'],_0x26d760[_0x5297f9(0xf4)]));if(_0x26d760['browser']){this[_0x5297f9(0x102)][_0x5297f9(0xdf)](_0x1bb438[_0x5297f9(0x11e)]);const _0xd55013=global[_0x5297f9(0xca)]['workerInfo'][_0x5297f9(0xc5)];AutomationFramework[_0x5297f9(0xc6)](_0x254a64,PlaywrightDriverModule[_0x5297f9(0xd5)],_0x26d760[_0x5297f9(0x107)]),AutomationFramework['setState'](_0x254a64,PlaywrightDriverModule[_0x5297f9(0xdb)],_0xd55013);const _0x7f2044={};_0x7f2044['isPlaywright']=!![];const _0x25f352=Buffer[_0x5297f9(0xbd)](JSON[_0x5297f9(0xfd)](_0x7f2044)[_0x5297f9(0xef)](_0x1bb438['HovIp'])),_0x32f79b=await GrpcClient[_0x5297f9(0xe0)]()[_0x5297f9(0xcf)]({'platformIndex':_0xd55013,'ref':_0x254a64[_0x5297f9(0xa5)](),'userInputParams':_0x25f352});}}catch(_0x14cfc5){this[_0x5297f9(0x102)][_0x5297f9(0x112)](_0x5297f9(0xd0)+util[_0x5297f9(0xe7)](_0x14cfc5));}}async['onAfterTest'](_0x5aee07){const _0x33fac8=a73_0x121a1c,_0x409041={'RrBVV':_0x33fac8(0xcd),'OctGs':'Automation\x20onAfterTest:\x20Automation\x20instance\x20is\x20not\x20available','HdvMZ':function(_0x3239fa,_0x38110c){return _0x3239fa(_0x38110c);},'fceqB':function(_0x5e2638,_0x1d8a41,_0x23cb18){return _0x5e2638(_0x1d8a41,_0x23cb18);},'GcEZu':_0x33fac8(0x112),'PTLRg':_0x33fac8(0xdd),'AhfyE':_0x33fac8(0xfb)};this['logger']['debug'](_0x409041[_0x33fac8(0xb3)]);const _0x36715f=_0x5aee07['instance'];if(!_0x36715f){this[_0x33fac8(0x102)][_0x33fac8(0xdf)](_0x409041[_0x33fac8(0xe8)]);return;}const _0x56fd2f=_0x5aee07[_0x33fac8(0x124)],_0x237ba0=_0x56fd2f['id'],_0xe9fc99=_0x56fd2f['status'],_0x29cb7f=_0x409041['HdvMZ'](getPlaywrightStatus,_0xe9fc99),_0x319a59=_0x409041[_0x33fac8(0x11f)](getPlaywrightSessionName,_0x56fd2f),_0x3d91a7=_0x409041['fceqB'](nestedKeyValue,_0xe9fc99,[_0x409041[_0x33fac8(0x129)],_0x409041[_0x33fac8(0xc3)]]);this[_0x33fac8(0x102)][_0x33fac8(0xdf)](_0x33fac8(0xdc)+_0x29cb7f);if(!_0x29cb7f){this[_0x33fac8(0x102)][_0x33fac8(0xdf)](_0x409041[_0x33fac8(0x106)],_0xe9fc99['status']);return;}this[_0x33fac8(0x102)][_0x33fac8(0xdf)]('Automation\x20onAfterTest:\x20Setting\x20session\x20status\x20for\x20testId:\x20'+_0x237ba0),await this[_0x33fac8(0xee)](_0x36715f,_0x319a59,_0x29cb7f,_0x3d91a7);}async[a73_0x121a1c(0xee)](_0x455632,_0x2e88ef,_0x3db2aa,_0x5bbb22){const _0xb40408=a73_0x121a1c,_0x4fca46={'aDugP':_0xb40408(0xc1),'WkqCI':_0xb40408(0xc7),'ORmhL':_0xb40408(0x126),'QVrtf':_0xb40408(0xfb),'QVUpm':'reason','jjmDq':'Session','YAvsL':function(_0x43441d,_0x363801){return _0x43441d===_0x363801;},'Qqtyd':'passed','rWNRR':'info','PAKvU':'error','HXmLK':function(_0x29b7f2,_0x404ae3,_0x4a646e,_0x3463ee){return _0x29b7f2(_0x404ae3,_0x4a646e,_0x3463ee);},'vFHbO':'setSessionStatus','cAmcF':'markSessionStatus:\x20Marking\x20session\x20status','mByyV':function(_0x29132f,_0x26dc1f,_0x56c447){return _0x29132f(_0x26dc1f,_0x56c447);}};if(CLIUtils['shouldSkipSessionStatus'](BrowserstackCLI[_0xb40408(0xe0)]()[_0xb40408(0x111)]())){this['logger']['debug'](_0x4fca46[_0xb40408(0xbb)]);return;}const _0x18f262=_0x455632;if(!_0x18f262){this[_0xb40408(0x102)]['debug'](_0x4fca46[_0xb40408(0x130)]);return;}const _0x8d4172=AutomationFramework[_0xb40408(0xf0)](_0x18f262,PlaywrightDriverModule[_0xb40408(0xbc)]);if(!_0x8d4172){this[_0xb40408(0x102)][_0xb40408(0xdf)](_0x4fca46[_0xb40408(0xa9)]);return;}const _0x3234ea=_0x3db2aa;if(!_0x3234ea){this['logger'][_0xb40408(0xdf)](_0x4fca46[_0xb40408(0xf3)],_0x3234ea);return;}_0x5bbb22&&(_0x39a584['arguments'][_0x4fca46[_0xb40408(0x125)]]=_0x5bbb22);const _0x7316a3=(_0x2e88ef?_0x2e88ef:_0x4fca46['jjmDq'])+'\x20'+_0x3234ea+'\x20'+(_0x5bbb22?_0xb40408(0x120)+_0x5bbb22:''),_0x2344d5=_0x4fca46[_0xb40408(0x12a)](_0x3234ea,_0x4fca46[_0xb40408(0xba)])?_0x4fca46[_0xb40408(0x117)]:_0x4fca46[_0xb40408(0xf7)];await _0x4fca46[_0xb40408(0x127)](playwrightAnnotate,_0x8d4172,_0x7316a3,_0x2344d5);const _0x3d55c7={};_0x3d55c7[_0xb40408(0xb1)]=_0x3234ea;const _0x43067f={};_0x43067f['action']=_0x4fca46[_0xb40408(0x116)],_0x43067f[_0xb40408(0xd4)]=_0x3d55c7;const _0x39a584=_0x43067f;PerformanceTester['start'](PerformanceEvents[_0xb40408(0xd7)]),this[_0xb40408(0x102)][_0xb40408(0xdf)](_0x4fca46[_0xb40408(0x12d)]),await _0x4fca46['mByyV'](playwrightBstackJsExecutor,_0x8d4172,_0x39a584),PerformanceTester[_0xb40408(0x11a)](PerformanceEvents[_0xb40408(0xd7)]);}async['markSessionName'](_0x532f94){const _0x57364d=a73_0x121a1c,_0x499357={'SkBOy':_0x57364d(0xae),'IsQsp':_0x57364d(0xeb),'vdTdp':function(_0x49ab16,_0x2d7b37){return _0x49ab16(_0x2d7b37);},'PibCS':function(_0x432f72,_0x43d2c9,_0x38ca84){return _0x432f72(_0x43d2c9,_0x38ca84);}};try{if(CLIUtils[_0x57364d(0xbf)](BrowserstackCLI[_0x57364d(0xe0)]()['getConfig']())){this[_0x57364d(0x102)][_0x57364d(0xdf)](_0x499357[_0x57364d(0xb4)]);return;}const _0xd67db5=AutomationFramework[_0x57364d(0xf0)](AutomationFramework[_0x57364d(0x115)](),PlaywrightDriverModule[_0x57364d(0xbc)]),_0x3988dd={'action':_0x499357['IsQsp'],'arguments':{'name':_0x499357[_0x57364d(0xed)](getPlaywrightSessionName,_0x532f94)}};PerformanceTester[_0x57364d(0x103)](PerformanceEvents['SESSION_NAME']),await _0x499357[_0x57364d(0xd8)](playwrightBstackJsExecutor,_0xd67db5,_0x3988dd),PerformanceTester['end'](PerformanceEvents[_0x57364d(0xe9)]);}catch(_0xd4427b){PerformanceTester['end'](PerformanceEvents[_0x57364d(0xe9)],![],util['format'](_0xd4427b)),this[_0x57364d(0x102)][_0x57364d(0x112)](_0x57364d(0x122)+util[_0x57364d(0xe7)](_0xd4427b));}}}PlaywrightDriverModule[a73_0x121a1c(0xf1)]=a73_0x121a1c(0xff),module[a73_0x121a1c(0x121)]=PlaywrightDriverModule;