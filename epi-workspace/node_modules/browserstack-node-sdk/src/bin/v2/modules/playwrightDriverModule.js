const a73_0x2c6f6b=a73_0xe125;function a73_0xe125(_0x47f3f8,_0x4a6aa0){const _0x26ba2c=a73_0x26ba();return a73_0xe125=function(_0xe125aa,_0x10efac){_0xe125aa=_0xe125aa-0x94;let _0x28d9fb=_0x26ba2c[_0xe125aa];return _0x28d9fb;},a73_0xe125(_0x47f3f8,_0x4a6aa0);}(function(_0x2c078b,_0x547e6f){const _0x6bba83=a73_0xe125,_0x42ec67=_0x2c078b();while(!![]){try{const _0x4bca74=parseInt(_0x6bba83(0x100))/0x1*(-parseInt(_0x6bba83(0xf7))/0x2)+-parseInt(_0x6bba83(0x11b))/0x3*(parseInt(_0x6bba83(0x99))/0x4)+-parseInt(_0x6bba83(0xb9))/0x5*(parseInt(_0x6bba83(0xf2))/0x6)+-parseInt(_0x6bba83(0xef))/0x7*(-parseInt(_0x6bba83(0x10d))/0x8)+parseInt(_0x6bba83(0x10a))/0x9+parseInt(_0x6bba83(0xce))/0xa+parseInt(_0x6bba83(0xbc))/0xb;if(_0x4bca74===_0x547e6f)break;else _0x42ec67['push'](_0x42ec67['shift']());}catch(_0x302d1b){_0x42ec67['push'](_0x42ec67['shift']());}}}(a73_0x26ba,0x88e31));function a73_0x26ba(){const _0x1d39e8=['markSessionStatus:\x20Skipping\x20session\x20status\x20marking','params','setSessionStatus','getRef','onAfterDriverCreate','from','stringify','markSessionStatus:\x20Marking\x20session\x20status','_test','fyUTr','Error\x20in\x20onAfterDriverCreate:\x20','6934320JVrKrP','getConfig','pageObject','onAfterDriverCreate:\x20Setting\x20browser\x20object','../state/hookState.js','passed','getModuleName','KSKWW','NSaCE','onBeforeDriverCreate','Ynsvf','Automation\x20onAfterTest:\x20Test\x20completed','JkyFc','hubUrl','../../../helpers/classLogger.js','KEY_TEST_ID','SESSION_NAME','eXXRF','contextObject','cvqsf','testId','driverInit','error','Wrrry','PRE','../../../helpers/performance/constants.js','start','bioWJ','message','format','info','KEY_CONTEXT_OBJECT','EXECUTE','805DehIdl','onDispatchExecute:\x20Playwright\x20platform\x20details:\x20','onAfterDriverCreate:\x20Playwright\x20driver\x20is\x20about\x20to\x20be\x20created','119346FwluEC','onBeforeDriverCreate:\x20Playwright\x20driver\x20is\x20about\x20to\x20be\x20created','Error\x20in\x20markSessionName:\x20','CREATE','launchcaps','2199478yUSHUM','bind','onAfterDriverCreate:\x20Setting\x20page\x20object','PlaywrightDriverModule','shouldSkipSessionName','name','brJPc','vfabe','KEY_PAGE_OBJECT','1mtakbg','../grpcClient.js','skJee','getTrackedInstance','browserVersion','kkntW','POST','with\x20','LzKtm','onAfterTest','5140548qwvqvr','setSessionName','Automation\x20onAfterTest:\x20Test\x20status:\x20','24072GvgXCM','../browserstackCLI.js','KEY_BROWSER_OBJECT','onAfterDriverCreate:\x20Setting\x20context\x20object','setState','Unable\x20to\x20mark\x20session\x20status,\x20received\x20status:\x20','KEY_SESSION_ID','browserName','markSessionStatus','logger','../../../helpers/test-observability/utils','getInstance','markSessionStatus:\x20Page\x20object\x20is\x20not\x20available','../../../helpers/performance/performance-tester.js','432207xMVwAn','base64','reason','registerObserver','OBaVg','isPlaywright','exports','SESSION_STATUS','onZfP','end','NobCX','testInfo','otvDQ','MODULE_NAME','KEY_PLATFORM_INDEX','bStackParams','markSessionName:\x20Skipping\x20session\x20name\x20marking','20VIWHTK','browserObject','PLAYWRIGHT_DISPATCH','rCYTa','../../../helpers/helper.js','Zweov','Error\x20in\x20onBeforeDriverCreate:\x20','parallelIndex','../cliUtils.js','4|0|1|5|6|9|10|3|8|7|2','../state/automationFrameworkState.js','page','playwrightVersion','shouldSkipSessionStatus','onPlaywrightDispatch','platformDetails','action','sessionId','workerInfo','luGQo','debug','onDispatchExecute:\x20Playwright\x20sessionId:\x20','browser','context','iGmyD','inspect','bsParams','onAfterDriverCreate:\x20Setting\x20Session\x20Name\x20from\x20testInfo','toString','VdpaS','platforms','instance','170Cfsuye','../../utils/constants','markSessionName','15910708OKdsPM','SrneA','status','platformIndex','arguments','KWrtr','onDispatchExecute:\x20Playwright\x20driver\x20is\x20executing\x20tests\x20'];a73_0x26ba=function(){return _0x1d39e8;};return a73_0x26ba();}const util=require('util'),BaseModule=require('./baseModule'),{createClassLogger}=require(a73_0x2c6f6b(0xdc)),{getFrameworkVersion}=require(a73_0x2c6f6b(0x117)),{FRAMEWORKS}=require(a73_0x2c6f6b(0xba)),AutomationFramework=require('../framework/automationFramework.js'),AutomationFrameworkState=require(a73_0x2c6f6b(0xa3)),HookState=require(a73_0x2c6f6b(0xd2)),{playwrightBstackJsExecutor,nestedKeyValue,playwrightAnnotate,getPlaywrightStatus,getPlaywrightSessionName}=require(a73_0x2c6f6b(0x9d)),CLIUtils=require(a73_0x2c6f6b(0xa1)),BrowserstackCLI=require(a73_0x2c6f6b(0x10e)),GrpcClient=require(a73_0x2c6f6b(0x101)),PerformanceTester=require(a73_0x2c6f6b(0x11a)),PerformanceEvents=require(a73_0x2c6f6b(0xe7))['AUTOMATE_EVENTS'];class PlaywrightDriverModule extends BaseModule{static [a73_0x2c6f6b(0x10f)]=a73_0x2c6f6b(0x9a);static [a73_0x2c6f6b(0xed)]=a73_0x2c6f6b(0xe0);static [a73_0x2c6f6b(0xff)]=a73_0x2c6f6b(0xd0);static [a73_0x2c6f6b(0x113)]=a73_0x2c6f6b(0xaa);static [a73_0x2c6f6b(0x96)]=a73_0x2c6f6b(0xbf);static ['KEY_CAPABILITIES']='capabilities';static ['KEY_HUB_URL']=a73_0x2c6f6b(0xdb);static ['KEY_PLATFORM_DETAILS']=a73_0x2c6f6b(0xa8);static [a73_0x2c6f6b(0xdd)]=a73_0x2c6f6b(0xe2);[a73_0x2c6f6b(0x116)]=createClassLogger(a73_0x2c6f6b(0xfa));constructor(){const _0x142b82=a73_0x2c6f6b,_0x447d68={};_0x447d68[_0x142b82(0xe5)]=_0x142b82(0xa2),_0x447d68['bioWJ']=_0x142b82(0xfa);const _0x2204f1=_0x447d68,_0x490d39=_0x2204f1[_0x142b82(0xe5)]['split']('|');let _0x5287a5=0x0;while(!![]){switch(_0x490d39[_0x5287a5++]){case'0':this[_0x142b82(0xfc)]=_0x2204f1[_0x142b82(0xe9)];continue;case'1':this[_0x142b82(0xa5)]=null;continue;case'2':AutomationFramework[_0x142b82(0x11e)](AutomationFrameworkState[_0x142b82(0xee)],HookState[_0x142b82(0x106)],this[_0x142b82(0x109)][_0x142b82(0xf8)](this));continue;case'3':AutomationFramework[_0x142b82(0x11e)](AutomationFrameworkState['CREATE'],HookState[_0x142b82(0xe6)],this[_0x142b82(0xd7)][_0x142b82(0xf8)](this));continue;case'4':super();continue;case'5':this[_0x142b82(0x114)]=null;continue;case'6':this[_0x142b82(0x104)]=null;continue;case'7':AutomationFramework[_0x142b82(0x11e)](AutomationFrameworkState[_0x142b82(0x9b)],HookState[_0x142b82(0x106)],this[_0x142b82(0xa7)]['bind'](this));continue;case'8':AutomationFramework[_0x142b82(0x11e)](AutomationFrameworkState[_0x142b82(0xf5)],HookState[_0x142b82(0x106)],this[_0x142b82(0xc7)]['bind'](this));continue;case'9':this[_0x142b82(0xb7)]=[];continue;case'10':this['testRunId']=null;continue;}break;}}[a73_0x2c6f6b(0xd4)](){const _0x4c2385=a73_0x2c6f6b;return PlaywrightDriverModule[_0x4c2385(0x95)];}async[a73_0x2c6f6b(0xd7)](_0x181ce4){const _0x322547=a73_0x2c6f6b,_0x395d05={};_0x395d05[_0x322547(0xac)]=_0x322547(0xf3);const _0x5573d0=_0x395d05;try{this[_0x322547(0x116)][_0x322547(0xad)](_0x5573d0[_0x322547(0xac)]);const _0x32bf09=_0x181ce4[_0x322547(0xf6)],_0x18d5f4=_0x181ce4[_0x322547(0xdb)];AutomationFramework['setState'](_0x181ce4[_0x322547(0xb8)],PlaywrightDriverModule['KEY_CAPABILITIES'],_0x32bf09),AutomationFramework['setState'](_0x181ce4[_0x322547(0xb8)],PlaywrightDriverModule['KEY_HUB_URL'],_0x18d5f4);}catch(_0x230185){this['logger'][_0x322547(0xe4)](_0x322547(0x9f)+util[_0x322547(0xeb)](_0x230185));}}async['onPlaywrightDispatch'](_0x14c37a){const _0x56b16c=a73_0x2c6f6b,_0x3571bd={};_0x3571bd[_0x56b16c(0xda)]=function(_0x1181ec,_0x2f3d41){return _0x1181ec||_0x2f3d41;};const _0x5d3ea7=_0x3571bd;try{const _0x51f247=_0x14c37a?.[_0x56b16c(0xea)]&&_0x14c37a?.[_0x56b16c(0xea)]?.[_0x56b16c(0xc4)]&&_0x14c37a?.[_0x56b16c(0xea)]?.[_0x56b16c(0xc4)]?.[_0x56b16c(0xb3)],_0x20e770=_0x14c37a?.[_0x56b16c(0xea)]&&_0x14c37a?.[_0x56b16c(0xea)]?.[_0x56b16c(0x97)];if(_0x5d3ea7[_0x56b16c(0xda)](_0x51f247,_0x20e770)){this[_0x56b16c(0x116)][_0x56b16c(0xad)](_0x56b16c(0xc2)+util[_0x56b16c(0xb2)](_0x51f247)+'\x20||\x20'+util['inspect'](_0x20e770));const _0x317847=_0x14c37a?.[_0x56b16c(0xb8)],_0x4bebd6=_0x51f247?.[_0x56b16c(0xaa)]||_0x20e770?.[_0x56b16c(0xaa)],_0x2879af=_0x51f247?.[_0x56b16c(0xa8)]||_0x20e770?.[_0x56b16c(0xa8)];_0x4bebd6&&(this['logger'][_0x56b16c(0xad)](_0x56b16c(0xae)+_0x4bebd6),AutomationFramework[_0x56b16c(0x111)](_0x317847,PlaywrightDriverModule[_0x56b16c(0x113)],_0x4bebd6)),_0x2879af&&(this[_0x56b16c(0x116)][_0x56b16c(0xad)](_0x56b16c(0xf0)+util[_0x56b16c(0xb2)](_0x2879af)),AutomationFramework[_0x56b16c(0x111)](_0x317847,PlaywrightDriverModule[_0x56b16c(0x96)],_0x2879af));}}catch(_0x1be755){this[_0x56b16c(0x116)][_0x56b16c(0xe4)]('Error\x20in\x20onDispatchExecute:\x20'+util[_0x56b16c(0xeb)](_0x1be755));}}async['onAfterDriverCreate'](_0x2f57bd){const _0x2fc125=a73_0x2c6f6b,_0x12f802={'NobCX':_0x2fc125(0xf1),'Zweov':function(_0x3e78bd,_0x444d8f){return _0x3e78bd(_0x444d8f);},'UPeSI':_0x2fc125(0xf9),'VdpaS':_0x2fc125(0xb4),'OBaVg':_0x2fc125(0x110),'fyUTr':_0x2fc125(0xd1),'onZfP':_0x2fc125(0x11c)};try{this[_0x2fc125(0x116)][_0x2fc125(0xad)](_0x12f802[_0x2fc125(0x125)]);const _0x52d449=_0x2f57bd[_0x2fc125(0xb8)];this[_0x2fc125(0xa5)]=_0x12f802[_0x2fc125(0x9e)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x2f57bd[_0x2fc125(0xa4)]){this['logger'][_0x2fc125(0xad)](_0x12f802['UPeSI']),AutomationFramework[_0x2fc125(0x111)](_0x52d449,PlaywrightDriverModule[_0x2fc125(0xff)],_0x2f57bd[_0x2fc125(0xa4)]);if(_0x2f57bd[_0x2fc125(0x126)]){this[_0x2fc125(0x116)]['debug'](_0x12f802[_0x2fc125(0xb6)]);const _0x12ee2b=_0x2f57bd[_0x2fc125(0x126)]?.[_0x2fc125(0xcb)]?.['id']||_0x2f57bd[_0x2fc125(0x126)]?.[_0x2fc125(0xe2)];AutomationFramework[_0x2fc125(0x111)](_0x52d449,PlaywrightDriverModule[_0x2fc125(0xdd)],_0x12ee2b),await this['markSessionName'](_0x2f57bd[_0x2fc125(0x126)]);}}_0x2f57bd[_0x2fc125(0xb0)]&&(this['logger']['debug'](_0x12f802[_0x2fc125(0x11f)]),AutomationFramework[_0x2fc125(0x111)](_0x52d449,PlaywrightDriverModule[_0x2fc125(0xed)],_0x2f57bd[_0x2fc125(0xb0)]));if(_0x2f57bd[_0x2fc125(0xaf)]){this['logger'][_0x2fc125(0xad)](_0x12f802[_0x2fc125(0xcc)]);const _0x269495=global['__workerDetails'][_0x2fc125(0xab)][_0x2fc125(0xa0)];AutomationFramework[_0x2fc125(0x111)](_0x52d449,PlaywrightDriverModule[_0x2fc125(0x10f)],_0x2f57bd[_0x2fc125(0xaf)]),AutomationFramework['setState'](_0x52d449,PlaywrightDriverModule[_0x2fc125(0x96)],_0x269495);const _0x151dda={};_0x151dda[_0x2fc125(0x120)]=!![];const _0x33c649=Buffer[_0x2fc125(0xc8)](JSON[_0x2fc125(0xc9)](_0x151dda)[_0x2fc125(0xb5)](_0x12f802[_0x2fc125(0x123)])),_0x4312c3=await GrpcClient[_0x2fc125(0x118)]()[_0x2fc125(0xe3)]({'platformIndex':_0x269495,'ref':_0x52d449[_0x2fc125(0xc6)](),'userInputParams':_0x33c649});}}catch(_0x1dbfb4){this[_0x2fc125(0x116)][_0x2fc125(0xe4)](_0x2fc125(0xcd)+util['format'](_0x1dbfb4));}}async[a73_0x2c6f6b(0x109)](_0x24fe19){const _0x2b23eb=a73_0x2c6f6b,_0x5b2504={'cvqsf':_0x2b23eb(0xd9),'brJPc':'Automation\x20onAfterTest:\x20Automation\x20instance\x20is\x20not\x20available','OxYOp':function(_0x4a1321,_0x4ba475){return _0x4a1321(_0x4ba475);},'LTwXp':function(_0x298021,_0x4a3e0b){return _0x298021(_0x4a3e0b);},'KWrtr':function(_0x44f9a0,_0x4d0cbb,_0x1be3a1){return _0x44f9a0(_0x4d0cbb,_0x1be3a1);},'otvDQ':_0x2b23eb(0xe4),'iGmyD':'message','JJlZT':_0x2b23eb(0x112)};this[_0x2b23eb(0x116)][_0x2b23eb(0xad)](_0x5b2504[_0x2b23eb(0xe1)]);const _0x1aa454=_0x24fe19['instance'];if(!_0x1aa454){this['logger'][_0x2b23eb(0xad)](_0x5b2504[_0x2b23eb(0xfd)]);return;}const _0x3caf8e=_0x24fe19[_0x2b23eb(0x126)],_0x332246=_0x3caf8e['id'],_0x1900a4=_0x3caf8e[_0x2b23eb(0xbe)],_0x5973e3=_0x5b2504['OxYOp'](getPlaywrightStatus,_0x1900a4),_0x5a6302=_0x5b2504['LTwXp'](getPlaywrightSessionName,_0x3caf8e),_0x4c9832=_0x5b2504[_0x2b23eb(0xc1)](nestedKeyValue,_0x1900a4,[_0x5b2504[_0x2b23eb(0x94)],_0x5b2504[_0x2b23eb(0xb1)]]);this['logger'][_0x2b23eb(0xad)](_0x2b23eb(0x10c)+_0x5973e3);if(!_0x5973e3){this[_0x2b23eb(0x116)][_0x2b23eb(0xad)](_0x5b2504['JJlZT'],_0x1900a4['status']);return;}this[_0x2b23eb(0x116)][_0x2b23eb(0xad)]('Automation\x20onAfterTest:\x20Setting\x20session\x20status\x20for\x20testId:\x20'+_0x332246),await this[_0x2b23eb(0x115)](_0x1aa454,_0x5a6302,_0x5973e3,_0x4c9832);}async['markSessionStatus'](_0x2ba955,_0x19912e,_0x10b7ad,_0xba9626){const _0x47850d=a73_0x2c6f6b,_0x99f355={'vfabe':_0x47850d(0xc3),'yytfC':'markSessionStatus:\x20Automation\x20instance\x20is\x20not\x20available','skJee':_0x47850d(0x119),'rCYTa':_0x47850d(0x112),'KSKWW':_0x47850d(0x11d),'YLGLw':'Session','rnxWG':function(_0x55174a,_0x11f9c6){return _0x55174a===_0x11f9c6;},'eXXRF':_0x47850d(0xd3),'KIuBc':_0x47850d(0xec),'NSaCE':_0x47850d(0xe4),'Ynsvf':function(_0x170e7d,_0x4b8eeb,_0x362ff9,_0x29f41f){return _0x170e7d(_0x4b8eeb,_0x362ff9,_0x29f41f);},'kkntW':_0x47850d(0xc5),'CAczH':_0x47850d(0xca),'LzKtm':function(_0x2f47bf,_0x38e0d4,_0x2edd15){return _0x2f47bf(_0x38e0d4,_0x2edd15);}};if(CLIUtils[_0x47850d(0xa6)](BrowserstackCLI[_0x47850d(0x118)]()[_0x47850d(0xcf)]())){this['logger']['debug'](_0x99f355[_0x47850d(0xfe)]);return;}const _0x376bfb=_0x2ba955;if(!_0x376bfb){this[_0x47850d(0x116)]['debug'](_0x99f355['yytfC']);return;}const _0x4f7a4d=AutomationFramework['getState'](_0x376bfb,PlaywrightDriverModule[_0x47850d(0xff)]);if(!_0x4f7a4d){this['logger'][_0x47850d(0xad)](_0x99f355[_0x47850d(0x102)]);return;}const _0x48ecd6=_0x10b7ad;if(!_0x48ecd6){this[_0x47850d(0x116)][_0x47850d(0xad)](_0x99f355[_0x47850d(0x9c)],_0x48ecd6);return;}_0xba9626&&(_0xcca2ca[_0x47850d(0xc0)][_0x99f355[_0x47850d(0xd5)]]=_0xba9626);const _0x40a319=(_0x19912e?_0x19912e:_0x99f355['YLGLw'])+'\x20'+_0x48ecd6+'\x20'+(_0xba9626?_0x47850d(0x107)+_0xba9626:''),_0xa61367=_0x99f355['rnxWG'](_0x48ecd6,_0x99f355[_0x47850d(0xdf)])?_0x99f355['KIuBc']:_0x99f355[_0x47850d(0xd6)];await _0x99f355[_0x47850d(0xd8)](playwrightAnnotate,_0x4f7a4d,_0x40a319,_0xa61367);const _0x4e31f1={};_0x4e31f1['status']=_0x48ecd6;const _0x4bb0b4={};_0x4bb0b4[_0x47850d(0xa9)]=_0x99f355[_0x47850d(0x105)],_0x4bb0b4[_0x47850d(0xc0)]=_0x4e31f1;const _0xcca2ca=_0x4bb0b4;PerformanceTester['start'](PerformanceEvents[_0x47850d(0x122)]),this[_0x47850d(0x116)][_0x47850d(0xad)](_0x99f355['CAczH']),await _0x99f355[_0x47850d(0x108)](playwrightBstackJsExecutor,_0x4f7a4d,_0xcca2ca),PerformanceTester[_0x47850d(0x124)](PerformanceEvents[_0x47850d(0x122)]);}async[a73_0x2c6f6b(0xbb)](_0x50c9ca){const _0x5ddd21=a73_0x2c6f6b,_0x44b413={'SrneA':_0x5ddd21(0x98),'lUUkk':_0x5ddd21(0x10b),'jSifY':function(_0x256ff3,_0x448d95){return _0x256ff3(_0x448d95);},'HXkBJ':function(_0x6f8824,_0x3fa9a8,_0xbf12f){return _0x6f8824(_0x3fa9a8,_0xbf12f);}};try{if(CLIUtils[_0x5ddd21(0xfb)](BrowserstackCLI[_0x5ddd21(0x118)]()[_0x5ddd21(0xcf)]())){this[_0x5ddd21(0x116)][_0x5ddd21(0xad)](_0x44b413[_0x5ddd21(0xbd)]);return;}const _0x42f7ff=AutomationFramework['getState'](AutomationFramework[_0x5ddd21(0x103)](),PlaywrightDriverModule[_0x5ddd21(0xff)]),_0x1a5380={'action':_0x44b413['lUUkk'],'arguments':{'name':_0x44b413['jSifY'](getPlaywrightSessionName,_0x50c9ca)}};PerformanceTester[_0x5ddd21(0xe8)](PerformanceEvents['SESSION_NAME']),await _0x44b413['HXkBJ'](playwrightBstackJsExecutor,_0x42f7ff,_0x1a5380),PerformanceTester[_0x5ddd21(0x124)](PerformanceEvents[_0x5ddd21(0xde)]);}catch(_0x596dbc){PerformanceTester[_0x5ddd21(0x124)](PerformanceEvents['SESSION_NAME'],![],util[_0x5ddd21(0xeb)](_0x596dbc)),this[_0x5ddd21(0x116)][_0x5ddd21(0xe4)](_0x5ddd21(0xf4)+util['format'](_0x596dbc));}}}PlaywrightDriverModule['MODULE_NAME']='PlaywrightDriverModule',module[a73_0x2c6f6b(0x121)]=PlaywrightDriverModule;