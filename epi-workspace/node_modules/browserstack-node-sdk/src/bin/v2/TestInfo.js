const a53_0x239f3c=a53_0x4e0e;(function(_0x54bb2b,_0x373ad6){const _0x185a8e=a53_0x4e0e,_0x4ec0b4=_0x54bb2b();while(!![]){try{const _0x2a2ee0=parseInt(_0x185a8e(0xf4))/0x1*(parseInt(_0x185a8e(0xee))/0x2)+parseInt(_0x185a8e(0xd2))/0x3+parseInt(_0x185a8e(0xf2))/0x4*(parseInt(_0x185a8e(0x121))/0x5)+-parseInt(_0x185a8e(0xd4))/0x6+-parseInt(_0x185a8e(0x117))/0x7*(parseInt(_0x185a8e(0x11f))/0x8)+-parseInt(_0x185a8e(0xf5))/0x9+-parseInt(_0x185a8e(0xf0))/0xa;if(_0x2a2ee0===_0x373ad6)break;else _0x4ec0b4['push'](_0x4ec0b4['shift']());}catch(_0x3b8c29){_0x4ec0b4['push'](_0x4ec0b4['shift']());}}}(a53_0x3b3d,0x6d0ad));const fs=require('fs'),path=require(a53_0x239f3c(0xc0)),{v4:uuidv4}=require(a53_0x239f3c(0xc4)),{TEMP_STORE_DIR_NAME}=require('../../helpers/test-observability/constants'),{nestedKeyValue}=require(a53_0x239f3c(0xcd)),logger=require(a53_0x239f3c(0x126))[a53_0x239f3c(0xc1)],util=require(a53_0x239f3c(0xbb)),helper=require(a53_0x239f3c(0xcd)),{createClassLogger}=require(a53_0x239f3c(0xd6)),lockfile=require(a53_0x239f3c(0xdc));function a53_0x4e0e(_0x29d507,_0x41336b){const _0x3b3de7=a53_0x3b3d();return a53_0x4e0e=function(_0x4e0e42,_0x4f58ac){_0x4e0e42=_0x4e0e42-0xb6;let _0x5db333=_0x3b3de7[_0x4e0e42];return _0x5db333;},a53_0x4e0e(_0x29d507,_0x41336b);}function a53_0x3b3d(){const _0x32141c=['stringify','bJcBr','ENGaM','processId:\x20','appendToTracePaths','getStoreDirName','156994WqcGPc','tests','3887380FTlqLz','dirPath','46300SQdTcf','setAccessibilityPlatformValidation','3UrhUlp','1288755tzVmpx','format','message','hgspw','appendFileSync','mtrzw','pid','traceZipPaths','filePath','getTraceFilePaths','setTestDetails','getProjectIdFromTestInfo','lMsxE','Wrisc','getTestDetails','Failed\x20to\x20acquire\x20lock\x20for\x20','Setting\x20up\x20TestInfo\x20directory\x20at\x20','forEach','__projectId','\x20Setting\x20\x20test\x20details\x20for\x20','WOFxJ','utf8','mkdirSync','SNBrP','Error\x20while\x20getting\x20test\x20UUID\x20for\x20','TestInfo','traceZipDir','dirname','readdirSync','getStoreDirPath','exports','rmSync','aGKFM','recursive','2310WXyuEk','_projectId','pzkOU','error','parse','gAyDh','qBKYD','_test','7928MxlJcE','default','245RowUqM','SqZyu','getTraceZipDir','_traceZipPaths.json','Error\x20reading\x20trace\x20file\x20paths:\x20%O','../../helpers/logger','Error\x20handling\x20trace\x20file\x20paths:\x20%O','values','\x20with\x20details:\x20','_platformDetails.json','BOwPO','getTestUUID','homedir','5|2|4|1|3|0','util','resolve','eIOmr','logger','zupaa','path','winstonLogger','push','.\x20Returning\x20empty\x20test\x20details.','uuid','toString','FplJQ','onFvl','setTestDetails\x20','getTestRunIdFromTestInfo','readFileSync','join','string','../../helpers/helper','getFilePath','gaZXG','shutdown','fGgPM','1524429LzelkX','fezYS','31254adZeWz','Error\x20writing\x20trace\x20file:\x20%O','../../helpers/classLogger.js','existsSync','dNQwf','.\x20Unable\x20to\x20set\x20test\x20details.','debug','warn','proper-lockfile','writeFileSync','TibCJ','ayTeD','getTestIdFromTestInfo','LDPBM','qpOVS','.txt','BS_TESTOPS_BUILD_HASHED_ID','getAccessibilityPlatformValidation','addTraceFilePath','endsWith'];a53_0x3b3d=function(){return _0x32141c;};return a53_0x3b3d();}class TestInfo{static [a53_0x239f3c(0xef)]={};static ['dirPath']=TestInfo[a53_0x239f3c(0xed)]();static ['traceZipDir']=path[a53_0x239f3c(0xcb)](TestInfo['dirPath'],a53_0x239f3c(0xfc));[a53_0x239f3c(0xbe)]=createClassLogger(a53_0x239f3c(0x10e));static['setup'](){const _0xcd24ab=a53_0x239f3c,_0xe6849={};_0xe6849[_0xcd24ab(0x101)]=_0xcd24ab(0xba),_0xe6849['fGgPM']=_0xcd24ab(0xfc);const _0x563a89=_0xe6849,_0x5883c7=_0x563a89[_0xcd24ab(0x101)]['split']('|');let _0x43fd4f=0x0;while(!![]){switch(_0x5883c7[_0x43fd4f++]){case'0':logger['info'](_0xcd24ab(0x105)+this[_0xcd24ab(0xf1)]);continue;case'1':const _0x64fed3={};_0x64fed3[_0xcd24ab(0x116)]=!![],fs[_0xcd24ab(0x10b)](this['dirPath'],_0x64fed3);continue;case'2':this['traceZipDir']=path[_0xcd24ab(0xcb)](this[_0xcd24ab(0xf1)],_0x563a89[_0xcd24ab(0xd1)]);continue;case'3':const _0x40190a={};_0x40190a[_0xcd24ab(0x116)]=!![],fs[_0xcd24ab(0x10b)](this[_0xcd24ab(0x10f)],_0x40190a);continue;case'4':this['shutdown']();continue;case'5':this[_0xcd24ab(0xf1)]=TestInfo[_0xcd24ab(0xed)]();continue;}break;}}static[a53_0x239f3c(0xed)](){const _0x44b18d=a53_0x239f3c,_0x5a0ae2={};_0x5a0ae2[_0x44b18d(0xdf)]=function(_0x223935,_0x3d8305){return _0x223935+_0x3d8305;},_0x5a0ae2[_0x44b18d(0xde)]=function(_0x32d3c5,_0x54d50d){return _0x32d3c5+_0x54d50d;};const _0xc6e260=_0x5a0ae2;return _0xc6e260[_0x44b18d(0xdf)](_0xc6e260['TibCJ'](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x44b18d(0xe4)]);}static['getStoreDirPath'](){const _0x1af0a6=a53_0x239f3c,_0x52d41e={};_0x52d41e[_0x1af0a6(0xc6)]=function(_0x2cb89b,_0x42b3c7){return _0x2cb89b+_0x42b3c7;},_0x52d41e[_0x1af0a6(0x102)]=_0x1af0a6(0x120);const _0x3602d2=_0x52d41e;return path[_0x1af0a6(0xcb)](_0x3602d2[_0x1af0a6(0xc6)](_0x3602d2[_0x1af0a6(0xc6)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x1af0a6(0xe4)]||_0x3602d2[_0x1af0a6(0x102)]));}static[a53_0x239f3c(0x123)](){const _0x37ce3f=a53_0x239f3c,_0x3c35e9={};_0x3c35e9[_0x37ce3f(0x119)]='traceZipPaths';const _0x400f40=_0x3c35e9;return path[_0x37ce3f(0xcb)](this[_0x37ce3f(0x112)](),_0x400f40[_0x37ce3f(0x119)]);}static['getFilePath'](_0x107345){const _0x27e444=a53_0x239f3c,_0xed3fc9={};_0xed3fc9[_0x27e444(0xd8)]=function(_0x3f45d3,_0x2c314a){return _0x3f45d3+_0x2c314a;},_0xed3fc9[_0x27e444(0xbf)]='.json';const _0x9616a3=_0xed3fc9;return path[_0x27e444(0xcb)](this[_0x27e444(0xf1)],_0x9616a3[_0x27e444(0xd8)](_0x107345,_0x9616a3['zupaa']));}static[a53_0x239f3c(0xc9)](_0x3cba17){const _0x5ecd8d=a53_0x239f3c,_0x51c261={};_0x51c261['gaZXG']=function(_0x5916cf,_0x52e9a9){return _0x5916cf+_0x52e9a9;},_0x51c261[_0x5ecd8d(0xfa)]=function(_0x1e7ee3,_0x3f4afd){return _0x1e7ee3+_0x3f4afd;};const _0x2abb1a=_0x51c261;return _0x2abb1a[_0x5ecd8d(0xcf)](_0x2abb1a[_0x5ecd8d(0xfa)](_0x2abb1a[_0x5ecd8d(0xcf)](_0x2abb1a[_0x5ecd8d(0xcf)](this[_0x5ecd8d(0x100)](_0x3cba17),'-'),this['getTestIdFromTestInfo'](_0x3cba17)),'-'),_0x3cba17['retry']);}static[a53_0x239f3c(0x100)](_0x8f2576){const _0x16ec8a=a53_0x239f3c,_0x18fc23={'vcToT':function(_0x2e7c39,_0x47637b,_0x203dca){return _0x2e7c39(_0x47637b,_0x203dca);},'YVdAp':_0x16ec8a(0x11e),'BOwPO':_0x16ec8a(0x118),'qBKYD':function(_0x2a697a,_0x356cf8,_0x29b676){return _0x2a697a(_0x356cf8,_0x29b676);},'PzHqf':'project','fezYS':_0x16ec8a(0x107)};return _0x18fc23['vcToT'](nestedKeyValue,_0x8f2576,[_0x18fc23['YVdAp'],_0x18fc23[_0x16ec8a(0xb7)]])||_0x18fc23[_0x16ec8a(0x11d)](nestedKeyValue,_0x8f2576,[_0x18fc23['PzHqf'],_0x18fc23[_0x16ec8a(0xd3)]]);}static[a53_0x239f3c(0xe0)](_0x56ca36){const _0x30405f=a53_0x239f3c,_0xe354c9={'SqZyu':function(_0x3f331f,_0x393f55,_0x5a212f){return _0x3f331f(_0x393f55,_0x5a212f);},'onFvl':_0x30405f(0x11e)};return _0xe354c9[_0x30405f(0x122)](nestedKeyValue,_0x56ca36,[_0xe354c9[_0x30405f(0xc7)],'id'])||_0x56ca36['testId'];}static[a53_0x239f3c(0xb8)](_0x5db3ad){const _0x4c9db6=a53_0x239f3c,_0xa104b2={'rXhLl':function(_0x2f9853,_0x4d9fcf){return _0x2f9853===_0x4d9fcf;},'bJcBr':_0x4c9db6(0xcc),'SNBrP':function(_0x28e93c){return _0x28e93c();}};try{if(this['tests'][_0x5db3ad]&&_0xa104b2['rXhLl'](typeof this[_0x4c9db6(0xef)][_0x5db3ad][_0x4c9db6(0xc4)],_0xa104b2[_0x4c9db6(0xe9)]))return this[_0x4c9db6(0xef)][_0x5db3ad][_0x4c9db6(0xc4)];const _0x310048=this[_0x4c9db6(0xce)](_0x5db3ad),_0x272970=path[_0x4c9db6(0xbc)](_0x310048);if(fs[_0x4c9db6(0xd7)](_0x272970)){const _0x273567=JSON[_0x4c9db6(0x11b)](fs[_0x4c9db6(0xca)](_0x310048)['toString']());return this[_0x4c9db6(0xef)][_0x5db3ad]=_0x273567,this[_0x4c9db6(0xef)][_0x5db3ad][_0x4c9db6(0xc4)];}return this[_0x4c9db6(0xef)][_0x5db3ad]={'uuid':_0xa104b2[_0x4c9db6(0x10c)](uuidv4)},fs[_0x4c9db6(0xdd)](_0x310048,JSON[_0x4c9db6(0xe8)](this[_0x4c9db6(0xef)][_0x5db3ad])),this[_0x4c9db6(0xef)][_0x5db3ad][_0x4c9db6(0xc4)];}catch(_0xaa1913){return logger['error'](_0x4c9db6(0x10d)+_0x5db3ad+':\x20'+_0xaa1913[_0x4c9db6(0xf7)]),null;}}static[a53_0x239f3c(0xe5)](_0x541fff){const _0x382673=a53_0x239f3c,_0x3947d1=path['join'](this[_0x382673(0xf1)],_0x541fff+_0x382673(0xb6));if(fs[_0x382673(0xd7)](_0x3947d1))return fs['readFileSync'](_0x3947d1)['toString']();}static[a53_0x239f3c(0xf3)](_0x3b0f6e,_0x5b9b23){const _0x4897f5=a53_0x239f3c,_0x4ac1e6=path[_0x4897f5(0xcb)](this['dirPath'],_0x5b9b23+'_platformDetails.json');fs['writeFileSync'](_0x4ac1e6,_0x3b0f6e[_0x4897f5(0xc5)]());}static[a53_0x239f3c(0xd0)](){const _0x2b313a=a53_0x239f3c,_0x4a71a0={};_0x4a71a0[_0x2b313a(0x116)]=!![],_0x4a71a0['force']=!![],fs[_0x2b313a(0x114)](this['dirPath'],_0x4a71a0);}static[a53_0x239f3c(0x103)](_0x522acc){const _0x34bf1c=a53_0x239f3c,_0x6a7cbe=this[_0x34bf1c(0xce)](_0x522acc);if(fs[_0x34bf1c(0xd7)](_0x6a7cbe))try{const _0xfe5f11=JSON[_0x34bf1c(0x11b)](fs['readFileSync'](_0x6a7cbe)['toString']());return this[_0x34bf1c(0xef)][_0x522acc]=_0xfe5f11,_0xfe5f11;}catch(_0x4175d0){return logger['warn'](_0x34bf1c(0x104)+_0x6a7cbe+':\x20'+util[_0x34bf1c(0xf6)](_0x4175d0)+_0x34bf1c(0xc3)),{};}return{};}static[a53_0x239f3c(0xff)](_0x520bc4,_0x970b69){const _0x4d3b6c=a53_0x239f3c,_0x3ad7b2={'eIOmr':_0x4d3b6c(0xc8),'hgspw':function(_0x545f44){return _0x545f44();}};logger['debug'](_0x3ad7b2[_0x4d3b6c(0xbd)]),logger[_0x4d3b6c(0xda)](_0x4d3b6c(0xeb)+process[_0x4d3b6c(0xfb)]+_0x4d3b6c(0x108)+_0x520bc4+_0x4d3b6c(0x129)+JSON['stringify'](_0x970b69));const _0x22e12a=this['getFilePath'](_0x520bc4);if(fs[_0x4d3b6c(0xd7)](_0x22e12a))try{const _0x44a92d=lockfile['lockSync'](_0x22e12a),_0x573c5b=JSON[_0x4d3b6c(0x11b)](fs[_0x4d3b6c(0xca)](_0x22e12a)[_0x4d3b6c(0xc5)]()),_0x532afe={..._0x573c5b,..._0x970b69};this[_0x4d3b6c(0xef)][_0x520bc4]=_0x532afe,fs['writeFileSync'](_0x22e12a,JSON['stringify'](this[_0x4d3b6c(0xef)][_0x520bc4])),_0x3ad7b2[_0x4d3b6c(0xf8)](_0x44a92d);}catch(_0x581bb0){logger[_0x4d3b6c(0xdb)]('Failed\x20to\x20acquire\x20lock\x20for\x20'+_0x22e12a+':\x20'+util[_0x4d3b6c(0xf6)](_0x581bb0)+_0x4d3b6c(0xd9));}}static[a53_0x239f3c(0xe6)](_0x925571){const _0x4e2498=a53_0x239f3c,_0x4ebe33={};_0x4ebe33[_0x4e2498(0xe2)]=_0x4e2498(0x127);const _0x2ab30a=_0x4ebe33;try{const _0x53627a=process[_0x4e2498(0xfb)],_0x247742=path[_0x4e2498(0xcb)](TestInfo['getTraceZipDir'](),_0x53627a+_0x4e2498(0x124));let _0x43e504=[];fs[_0x4e2498(0xd7)](_0x247742)&&(_0x43e504=JSON[_0x4e2498(0x11b)](fs[_0x4e2498(0xca)](_0x247742)[_0x4e2498(0xc5)]()));if(!_0x43e504['some'](_0x2495a0=>_0x2495a0[_0x4e2498(0xfd)]===_0x925571[_0x4e2498(0xfd)])){_0x43e504[_0x4e2498(0xc2)](_0x925571);const _0xa06cd1=path[_0x4e2498(0x110)](_0x247742);if(!fs[_0x4e2498(0xd7)](_0xa06cd1)){const _0x50c9fb={};_0x50c9fb[_0x4e2498(0x116)]=!![],fs['mkdirSync'](_0xa06cd1,_0x50c9fb);}fs[_0x4e2498(0xdd)](_0x247742,JSON[_0x4e2498(0xe8)](_0x43e504));}}catch(_0x38c02b){logger[_0x4e2498(0x11a)](util[_0x4e2498(0xf6)](_0x2ab30a[_0x4e2498(0xe2)],_0x38c02b));}}static[a53_0x239f3c(0xfe)](){const _0x11a0db=a53_0x239f3c,_0x5aa0fc={};_0x5aa0fc[_0x11a0db(0x11c)]=_0x11a0db(0x124),_0x5aa0fc[_0x11a0db(0xea)]=_0x11a0db(0x125);const _0x1c7366=_0x5aa0fc,_0x4cedb4=[];try{const _0x12bbb0=TestInfo[_0x11a0db(0x123)]();if(!fs[_0x11a0db(0xd7)](_0x12bbb0))return _0x4cedb4;const _0x5da534=fs[_0x11a0db(0x111)](_0x12bbb0);_0x5da534[_0x11a0db(0x106)](_0x217e3b=>{const _0x3ece9c=_0x11a0db;if(_0x217e3b[_0x3ece9c(0xe7)](_0x1c7366[_0x3ece9c(0x11c)])){const _0x4ef23c=JSON[_0x3ece9c(0x11b)](fs[_0x3ece9c(0xca)](path[_0x3ece9c(0xcb)](_0x12bbb0,_0x217e3b))[_0x3ece9c(0xc5)]());_0x4cedb4[_0x3ece9c(0xc2)](..._0x4ef23c);}});}catch(_0x3167bf){logger[_0x11a0db(0x11a)](util[_0x11a0db(0xf6)](_0x1c7366['ENGaM'],_0x3167bf));}const _0x407a82={};return _0x4cedb4[_0x11a0db(0x106)](_0x3766f8=>{const _0x492eee=_0x11a0db;_0x407a82[_0x3766f8[_0x492eee(0xfd)]]=_0x3766f8;}),Object[_0x11a0db(0x128)](_0x407a82);}static[a53_0x239f3c(0xec)](_0xb8247,_0x51ba93){const _0x4790ea=a53_0x239f3c,_0xe490c0={};_0xe490c0[_0x4790ea(0x109)]='.browserstack',_0xe490c0[_0x4790ea(0xe1)]=_0x4790ea(0x10a),_0xe490c0[_0x4790ea(0x115)]=_0x4790ea(0xd5);const _0x4250d2=_0xe490c0;try{const _0x522053=path[_0x4790ea(0xcb)](helper[_0x4790ea(0xb9)](),_0x4250d2[_0x4790ea(0x109)]);if(!fs['existsSync'](_0x522053)){const _0x3c16bc={};_0x3c16bc[_0x4790ea(0x116)]=!![],fs[_0x4790ea(0x10b)](_0x522053,_0x3c16bc);}fs[_0x4790ea(0xf9)](path[_0x4790ea(0xcb)](_0x522053,'trace_'+_0x51ba93+_0x4790ea(0xe3)),_0xb8247+'\x0a',_0x4250d2[_0x4790ea(0xe1)]);}catch(_0x1913ea){logger['error'](util[_0x4790ea(0xf6)](_0x4250d2[_0x4790ea(0x115)],_0x1913ea));}}}module[a53_0x239f3c(0x113)]=TestInfo;