const a58_0x41f4f6=a58_0x5e38;function a58_0x5e38(_0x3e4c00,_0x18a876){const _0x3953e6=a58_0x3953();return a58_0x5e38=function(_0x5e3855,_0x93c3a1){_0x5e3855=_0x5e3855-0x141;let _0x19de02=_0x3953e6[_0x5e3855];return _0x19de02;},a58_0x5e38(_0x3e4c00,_0x18a876);}(function(_0x5c9814,_0x425ccf){const _0x4f4e4f=a58_0x5e38,_0x30b790=_0x5c9814();while(!![]){try{const _0x2876c3=-parseInt(_0x4f4e4f(0x14d))/0x1*(-parseInt(_0x4f4e4f(0x144))/0x2)+-parseInt(_0x4f4e4f(0x178))/0x3+parseInt(_0x4f4e4f(0x1b0))/0x4+parseInt(_0x4f4e4f(0x192))/0x5*(-parseInt(_0x4f4e4f(0x1a6))/0x6)+parseInt(_0x4f4e4f(0x1a1))/0x7+parseInt(_0x4f4e4f(0x181))/0x8+parseInt(_0x4f4e4f(0x17f))/0x9*(-parseInt(_0x4f4e4f(0x1ac))/0xa);if(_0x2876c3===_0x425ccf)break;else _0x30b790['push'](_0x30b790['shift']());}catch(_0x4b6ecc){_0x30b790['push'](_0x30b790['shift']());}}}(a58_0x3953,0xad219));function a58_0x3953(){const _0x40e511=['traceZipDir','BS_TESTOPS_BUILD_HASHED_ID','getTestIdFromTestInfo','Failed\x20to\x20acquire\x20lock\x20for\x20','../../helpers/logger','Okdck','setTestDetails','UuXmZ','getTestDetails','testId','warn','stringify','getAccessibilityPlatformValidation','setAccessibilityPlatformValidation','endsWith','filePath','parse','kWGSY','processId:\x20','getFilePath','shutdown','force','recursive','some','getProjectIdFromTestInfo','ZdNky','getStoreDirPath','2749776hAyKin','Bkrth','retry','cdRDE','pid','trace_','resolve','7659eNdepU','uWBnn','1339840ipGUgo','Error\x20handling\x20trace\x20file\x20paths:\x20%O','\x20with\x20details:\x20','getTestRunIdFromTestInfo','homedir','Oudov','dirname','mergeDeep','../../helpers/test-observability/constants','split','getTestUUID','OkjHa','info','Error\x20while\x20getting\x20test\x20UUID\x20for\x20','2|3|1|5|4|0','setTestDetails\x20','mkdirSync','5KKRJwR','Error\x20reading\x20trace\x20file\x20paths:\x20%O','writeFileSync','Setting\x20up\x20TestInfo\x20directory\x20at\x20','logger','.\x20Returning\x20empty\x20test\x20details.','push','hRHCC','lockSync','jmWKe','_platformDetails.json','.\x20Unable\x20to\x20set\x20test\x20details.','FHhnR','debug','tests','9362332VEUKyN','Thfst','exports','../../helpers/classLogger.js','xzmEI','2480604tuGGGj','message','gMgQe','readFileSync','MrjhU','\x20Setting\x20\x20test\x20details\x20for\x20','6170VHKXPe','UZGYH','uuid','iAJSV','3862068ncByMq','getStoreDirName','forEach','getTraceFilePaths','_test','rmSync','readdirSync','join','proper-lockfile','470ScrAUZ','error','project','util','getTraceZipDir','asBwr','existsSync','toString','utf8','399MOdXaI','KADgt','default','FqvCx','env','PjCaa','setup','appendFileSync','Ibncu','_traceZipPaths.json','dirPath','vbntd','format','.browserstack','winstonLogger','HowBf'];a58_0x3953=function(){return _0x40e511;};return a58_0x3953();}const fs=require('fs'),path=require('path'),{v4:uuidv4}=require(a58_0x41f4f6(0x1ae)),{TEMP_STORE_DIR_NAME}=require(a58_0x41f4f6(0x189)),{nestedKeyValue}=require('../../helpers/helper'),logger=require(a58_0x41f4f6(0x161))[a58_0x41f4f6(0x15b)],util=require(a58_0x41f4f6(0x147)),helper=require('../../helpers/helper'),{createClassLogger}=require(a58_0x41f4f6(0x1a4)),lockfile=require(a58_0x41f4f6(0x143));class TestInfo{static ['tests']={};static ['dirPath']=TestInfo['getStoreDirName']();static [a58_0x41f4f6(0x15d)]=path[a58_0x41f4f6(0x142)](TestInfo[a58_0x41f4f6(0x157)],'traceZipPaths');[a58_0x41f4f6(0x196)]=createClassLogger('TestInfo');static[a58_0x41f4f6(0x153)](){const _0x4fc84f=a58_0x41f4f6,_0x55f305={};_0x55f305[_0x4fc84f(0x19b)]=_0x4fc84f(0x18f),_0x55f305[_0x4fc84f(0x18c)]='traceZipPaths';const _0x50e069=_0x55f305,_0x53f38b=_0x50e069[_0x4fc84f(0x19b)][_0x4fc84f(0x18a)]('|');let _0x388ead=0x0;while(!![]){switch(_0x53f38b[_0x388ead++]){case'0':logger[_0x4fc84f(0x18d)](_0x4fc84f(0x195)+this[_0x4fc84f(0x157)]);continue;case'1':this[_0x4fc84f(0x171)]();continue;case'2':this[_0x4fc84f(0x157)]=TestInfo[_0x4fc84f(0x1b1)]();continue;case'3':this[_0x4fc84f(0x15d)]=path[_0x4fc84f(0x142)](this['dirPath'],_0x50e069['OkjHa']);continue;case'4':const _0x172df9={};_0x172df9[_0x4fc84f(0x173)]=!![],fs[_0x4fc84f(0x191)](this[_0x4fc84f(0x15d)],_0x172df9);continue;case'5':const _0x34c811={};_0x34c811[_0x4fc84f(0x173)]=!![],fs[_0x4fc84f(0x191)](this[_0x4fc84f(0x157)],_0x34c811);continue;}break;}}static[a58_0x41f4f6(0x1b1)](){const _0x1cccfa=a58_0x41f4f6,_0x3beb55={};_0x3beb55[_0x1cccfa(0x19e)]=function(_0x170c68,_0xf82dc7){return _0x170c68+_0xf82dc7;};const _0x5358fb=_0x3beb55;return _0x5358fb[_0x1cccfa(0x19e)](_0x5358fb['FHhnR'](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x1cccfa(0x15e)]);}static['getStoreDirPath'](){const _0x508644=a58_0x41f4f6,_0x5dd381={};_0x5dd381[_0x508644(0x1a2)]=function(_0x117635,_0xd83577){return _0x117635+_0xd83577;},_0x5dd381[_0x508644(0x152)]=_0x508644(0x14f);const _0x3fa0e0=_0x5dd381;return path[_0x508644(0x142)](_0x3fa0e0[_0x508644(0x1a2)](_0x3fa0e0[_0x508644(0x1a2)](TEMP_STORE_DIR_NAME,'-'),process[_0x508644(0x151)][_0x508644(0x15e)]||_0x3fa0e0['PjCaa']));}static[a58_0x41f4f6(0x148)](){const _0x3840fd=a58_0x41f4f6,_0x3ec53c={};_0x3ec53c[_0x3840fd(0x180)]='traceZipPaths';const _0x46a2f4=_0x3ec53c;return path[_0x3840fd(0x142)](this[_0x3840fd(0x177)](),_0x46a2f4[_0x3840fd(0x180)]);}static[a58_0x41f4f6(0x170)](_0x311a4b){const _0x349b38=a58_0x41f4f6,_0x5d94bb={};_0x5d94bb['UZGYH']=function(_0x20a2e3,_0x30a446){return _0x20a2e3+_0x30a446;},_0x5d94bb['FqvCx']='.json';const _0xf3a814=_0x5d94bb;return path[_0x349b38(0x142)](this[_0x349b38(0x157)],_0xf3a814[_0x349b38(0x1ad)](_0x311a4b,_0xf3a814[_0x349b38(0x150)]));}static[a58_0x41f4f6(0x184)](_0x4c57ef){const _0x306bd0=a58_0x41f4f6,_0x353c0b={};_0x353c0b[_0x306bd0(0x1af)]=function(_0x204223,_0x55ab5f){return _0x204223+_0x55ab5f;},_0x353c0b[_0x306bd0(0x1aa)]=function(_0x321882,_0xebfd98){return _0x321882+_0xebfd98;},_0x353c0b[_0x306bd0(0x164)]=function(_0x10dd24,_0x160f17){return _0x10dd24+_0x160f17;};const _0x48db8f=_0x353c0b;return _0x48db8f[_0x306bd0(0x1af)](_0x48db8f['MrjhU'](_0x48db8f[_0x306bd0(0x1af)](_0x48db8f['UuXmZ'](this[_0x306bd0(0x175)](_0x4c57ef),'-'),this[_0x306bd0(0x15f)](_0x4c57ef)),'-'),_0x4c57ef[_0x306bd0(0x17a)]);}static[a58_0x41f4f6(0x175)](_0x14fbec){const _0x18d2d3=a58_0x41f4f6,_0x5656fa={'asBwr':function(_0x23d346,_0x3f475d,_0x1ea1aa){return _0x23d346(_0x3f475d,_0x1ea1aa);},'LWftk':_0x18d2d3(0x1b4),'ZdNky':'_projectId','hRHCC':_0x18d2d3(0x146),'Oudov':'__projectId'};return _0x5656fa['asBwr'](nestedKeyValue,_0x14fbec,[_0x5656fa['LWftk'],_0x5656fa[_0x18d2d3(0x176)]])||_0x5656fa[_0x18d2d3(0x149)](nestedKeyValue,_0x14fbec,[_0x5656fa[_0x18d2d3(0x199)],_0x5656fa[_0x18d2d3(0x186)]]);}static[a58_0x41f4f6(0x15f)](_0x337d84){const _0xca9a8d=a58_0x41f4f6,_0x30eda0={'Okdck':function(_0x551494,_0x29f7ee,_0x471ea1){return _0x551494(_0x29f7ee,_0x471ea1);},'HowBf':_0xca9a8d(0x1b4)};return _0x30eda0[_0xca9a8d(0x162)](nestedKeyValue,_0x337d84,[_0x30eda0[_0xca9a8d(0x15c)],'id'])||_0x337d84[_0xca9a8d(0x166)];}static[a58_0x41f4f6(0x18b)](_0x2d36e4){const _0xd26940=a58_0x41f4f6,_0x4f9d93={'vbntd':function(_0x5dd03a,_0x5aa561){return _0x5dd03a===_0x5aa561;},'kWGSY':'string','zfIJu':function(_0x24c79b){return _0x24c79b();}};try{if(this[_0xd26940(0x1a0)][_0x2d36e4]&&_0x4f9d93[_0xd26940(0x158)](typeof this[_0xd26940(0x1a0)][_0x2d36e4][_0xd26940(0x1ae)],_0x4f9d93[_0xd26940(0x16e)]))return this['tests'][_0x2d36e4][_0xd26940(0x1ae)];const _0x23e29f=this[_0xd26940(0x170)](_0x2d36e4),_0x3e264f=path[_0xd26940(0x17e)](_0x23e29f);if(fs[_0xd26940(0x14a)](_0x3e264f)){const _0x2b9837=JSON['parse'](fs[_0xd26940(0x1a9)](_0x23e29f)['toString']());return this[_0xd26940(0x1a0)][_0x2d36e4]=_0x2b9837,this[_0xd26940(0x1a0)][_0x2d36e4][_0xd26940(0x1ae)];}return this[_0xd26940(0x1a0)][_0x2d36e4]={'uuid':_0x4f9d93['zfIJu'](uuidv4)},fs['writeFileSync'](_0x23e29f,JSON[_0xd26940(0x168)](this['tests'][_0x2d36e4])),this[_0xd26940(0x1a0)][_0x2d36e4]['uuid'];}catch(_0x317c6d){return logger[_0xd26940(0x145)](_0xd26940(0x18e)+_0x2d36e4+':\x20'+_0x317c6d[_0xd26940(0x1a7)]),null;}}static[a58_0x41f4f6(0x169)](_0x17df2c){const _0x69e49b=a58_0x41f4f6,_0x1f0118=path[_0x69e49b(0x142)](this[_0x69e49b(0x157)],_0x17df2c+_0x69e49b(0x19c));if(fs[_0x69e49b(0x14a)](_0x1f0118))return fs[_0x69e49b(0x1a9)](_0x1f0118)[_0x69e49b(0x14b)]();}static[a58_0x41f4f6(0x16a)](_0x377cc0,_0x4e460c){const _0x3e541e=a58_0x41f4f6,_0x36b1de=path[_0x3e541e(0x142)](this['dirPath'],_0x4e460c+'_platformDetails.json');fs[_0x3e541e(0x194)](_0x36b1de,_0x377cc0[_0x3e541e(0x14b)]());}static['shutdown'](){const _0x5b4a48=a58_0x41f4f6,_0x35c19c={};_0x35c19c[_0x5b4a48(0x173)]=!![],_0x35c19c[_0x5b4a48(0x172)]=!![],fs[_0x5b4a48(0x1b5)](this[_0x5b4a48(0x157)],_0x35c19c);}static[a58_0x41f4f6(0x165)](_0x22d82){const _0x553f03=a58_0x41f4f6,_0x501bd6=this[_0x553f03(0x170)](_0x22d82);if(fs[_0x553f03(0x14a)](_0x501bd6))try{const _0x2f1aa1=JSON[_0x553f03(0x16d)](fs[_0x553f03(0x1a9)](_0x501bd6)[_0x553f03(0x14b)]());return this['tests'][_0x22d82]=_0x2f1aa1,_0x2f1aa1;}catch(_0x251098){return logger['warn']('Failed\x20to\x20acquire\x20lock\x20for\x20'+_0x501bd6+':\x20'+util[_0x553f03(0x159)](_0x251098)+_0x553f03(0x197)),{};}return{};}static[a58_0x41f4f6(0x163)](_0x448b52,_0x5a72e8,_0x393ca2=![]){const _0x26353f=a58_0x41f4f6,_0x23e13a={'nJQJz':_0x26353f(0x190),'gMgQe':function(_0x352b90){return _0x352b90();}};logger[_0x26353f(0x19f)](_0x23e13a['nJQJz']),logger['debug'](_0x26353f(0x16f)+process[_0x26353f(0x17c)]+_0x26353f(0x1ab)+_0x448b52+_0x26353f(0x183)+JSON[_0x26353f(0x168)](_0x5a72e8));const _0x5cdcb6=this[_0x26353f(0x170)](_0x448b52);if(fs['existsSync'](_0x5cdcb6))try{const _0x58e53e=lockfile[_0x26353f(0x19a)](_0x5cdcb6),_0x5d3269=JSON[_0x26353f(0x16d)](fs['readFileSync'](_0x5cdcb6)[_0x26353f(0x14b)]());if(_0x393ca2)this[_0x26353f(0x1a0)][_0x448b52]=helper[_0x26353f(0x188)](_0x5d3269,_0x5a72e8);else{const _0x53cd74={..._0x5d3269,..._0x5a72e8};this[_0x26353f(0x1a0)][_0x448b52]=_0x53cd74;}fs[_0x26353f(0x194)](_0x5cdcb6,JSON[_0x26353f(0x168)](this[_0x26353f(0x1a0)][_0x448b52])),_0x23e13a[_0x26353f(0x1a8)](_0x58e53e);}catch(_0x139970){logger[_0x26353f(0x167)](_0x26353f(0x160)+_0x5cdcb6+':\x20'+util['format'](_0x139970)+_0x26353f(0x19d));}}static['addTraceFilePath'](_0x4030a7){const _0x1ca2f7=a58_0x41f4f6,_0x42b951={};_0x42b951[_0x1ca2f7(0x14e)]=_0x1ca2f7(0x182);const _0x759ed4=_0x42b951;try{const _0x384a8a=process['pid'],_0x7e4f62=path[_0x1ca2f7(0x142)](TestInfo[_0x1ca2f7(0x148)](),_0x384a8a+_0x1ca2f7(0x156));let _0x1cb090=[];fs[_0x1ca2f7(0x14a)](_0x7e4f62)&&(_0x1cb090=JSON['parse'](fs[_0x1ca2f7(0x1a9)](_0x7e4f62)[_0x1ca2f7(0x14b)]()));if(!_0x1cb090[_0x1ca2f7(0x174)](_0x332ebc=>_0x332ebc[_0x1ca2f7(0x16c)]===_0x4030a7[_0x1ca2f7(0x16c)])){_0x1cb090[_0x1ca2f7(0x198)](_0x4030a7);const _0x530a95=path[_0x1ca2f7(0x187)](_0x7e4f62);if(!fs[_0x1ca2f7(0x14a)](_0x530a95)){const _0x5b9966={};_0x5b9966[_0x1ca2f7(0x173)]=!![],fs[_0x1ca2f7(0x191)](_0x530a95,_0x5b9966);}fs['writeFileSync'](_0x7e4f62,JSON[_0x1ca2f7(0x168)](_0x1cb090));}}catch(_0x2ac776){logger[_0x1ca2f7(0x145)](util[_0x1ca2f7(0x159)](_0x759ed4[_0x1ca2f7(0x14e)],_0x2ac776));}}static[a58_0x41f4f6(0x1b3)](){const _0x24b9e8=a58_0x41f4f6,_0x472e20={};_0x472e20[_0x24b9e8(0x17b)]='_traceZipPaths.json',_0x472e20[_0x24b9e8(0x179)]=_0x24b9e8(0x193);const _0x5075c7=_0x472e20,_0x3a3f0c=[];try{const _0x2f0fb4=TestInfo[_0x24b9e8(0x148)]();if(!fs['existsSync'](_0x2f0fb4))return _0x3a3f0c;const _0x2174dd=fs[_0x24b9e8(0x141)](_0x2f0fb4);_0x2174dd[_0x24b9e8(0x1b2)](_0x1932c4=>{const _0x29b04c=_0x24b9e8;if(_0x1932c4[_0x29b04c(0x16b)](_0x5075c7['cdRDE'])){const _0x514952=JSON[_0x29b04c(0x16d)](fs[_0x29b04c(0x1a9)](path[_0x29b04c(0x142)](_0x2f0fb4,_0x1932c4))[_0x29b04c(0x14b)]());_0x3a3f0c[_0x29b04c(0x198)](..._0x514952);}});}catch(_0x1d449d){logger[_0x24b9e8(0x145)](util[_0x24b9e8(0x159)](_0x5075c7['Bkrth'],_0x1d449d));}const _0x4d70a9={};return _0x3a3f0c[_0x24b9e8(0x1b2)](_0x23ef81=>{const _0x26335b=_0x24b9e8;_0x4d70a9[_0x23ef81[_0x26335b(0x16c)]]=_0x23ef81;}),Object['values'](_0x4d70a9);}static['appendToTracePaths'](_0x184f8f,_0x134ec0){const _0x5ca1c8=a58_0x41f4f6,_0x22478b={};_0x22478b[_0x5ca1c8(0x155)]=_0x5ca1c8(0x15a),_0x22478b[_0x5ca1c8(0x1a5)]=_0x5ca1c8(0x14c),_0x22478b['AgTFP']='Error\x20writing\x20trace\x20file:\x20%O';const _0x109f33=_0x22478b;try{const _0x53718d=path[_0x5ca1c8(0x142)](helper[_0x5ca1c8(0x185)](),_0x109f33['Ibncu']);if(!fs[_0x5ca1c8(0x14a)](_0x53718d)){const _0xe25951={};_0xe25951[_0x5ca1c8(0x173)]=!![],fs[_0x5ca1c8(0x191)](_0x53718d,_0xe25951);}fs[_0x5ca1c8(0x154)](path[_0x5ca1c8(0x142)](_0x53718d,_0x5ca1c8(0x17d)+_0x134ec0+'.txt'),_0x184f8f+'\x0a',_0x109f33[_0x5ca1c8(0x1a5)]);}catch(_0x111723){logger[_0x5ca1c8(0x145)](util[_0x5ca1c8(0x159)](_0x109f33['AgTFP'],_0x111723));}}}module[a58_0x41f4f6(0x1a3)]=TestInfo;