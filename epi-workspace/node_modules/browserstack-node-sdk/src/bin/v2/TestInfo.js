const a58_0x1db9b7=a58_0x5b32;(function(_0x357dc2,_0x5a9785){const _0x547166=a58_0x5b32,_0x3b7525=_0x357dc2();while(!![]){try{const _0x4a2fd1=parseInt(_0x547166(0x18a))/0x1+parseInt(_0x547166(0x135))/0x2*(parseInt(_0x547166(0x127))/0x3)+-parseInt(_0x547166(0x175))/0x4*(-parseInt(_0x547166(0x163))/0x5)+-parseInt(_0x547166(0x16f))/0x6+-parseInt(_0x547166(0x185))/0x7*(parseInt(_0x547166(0x12c))/0x8)+-parseInt(_0x547166(0x15a))/0x9*(parseInt(_0x547166(0x13d))/0xa)+parseInt(_0x547166(0x13f))/0xb*(parseInt(_0x547166(0x189))/0xc);if(_0x4a2fd1===_0x5a9785)break;else _0x3b7525['push'](_0x3b7525['shift']());}catch(_0x4e07cf){_0x3b7525['push'](_0x3b7525['shift']());}}}(a58_0x321e,0xbac2d));const fs=require('fs'),path=require(a58_0x1db9b7(0x18c)),{v4:uuidv4}=require(a58_0x1db9b7(0x141)),{TEMP_STORE_DIR_NAME}=require('../../helpers/test-observability/constants'),{nestedKeyValue}=require(a58_0x1db9b7(0x122)),logger=require('../../helpers/logger')['winstonLogger'],util=require(a58_0x1db9b7(0x149)),helper=require(a58_0x1db9b7(0x122)),{createClassLogger}=require('../../helpers/classLogger.js'),lockfile=require('proper-lockfile');class TestInfo{static [a58_0x1db9b7(0x15f)]={};static [a58_0x1db9b7(0x12b)]=TestInfo[a58_0x1db9b7(0x132)]();static ['traceZipDir']=path[a58_0x1db9b7(0x16c)](TestInfo[a58_0x1db9b7(0x12b)],a58_0x1db9b7(0x164));[a58_0x1db9b7(0x184)]=createClassLogger(a58_0x1db9b7(0x16e));static[a58_0x1db9b7(0x176)](){const _0xc6972b=a58_0x1db9b7,_0x34c5f6={};_0x34c5f6[_0xc6972b(0x124)]=_0xc6972b(0x181),_0x34c5f6[_0xc6972b(0x165)]='traceZipPaths';const _0x1649fc=_0x34c5f6,_0x4c722a=_0x1649fc['lZile']['split']('|');let _0x58cfc9=0x0;while(!![]){switch(_0x4c722a[_0x58cfc9++]){case'0':const _0x1bdd41={};_0x1bdd41[_0xc6972b(0x178)]=!![],fs['mkdirSync'](this[_0xc6972b(0x12b)],_0x1bdd41);continue;case'1':this[_0xc6972b(0x192)]();continue;case'2':this[_0xc6972b(0x17d)]=path['join'](this[_0xc6972b(0x12b)],_0x1649fc[_0xc6972b(0x165)]);continue;case'3':this[_0xc6972b(0x12b)]=TestInfo[_0xc6972b(0x132)]();continue;case'4':logger['info'](_0xc6972b(0x15c)+this['dirPath']);continue;case'5':const _0x1c6aee={};_0x1c6aee[_0xc6972b(0x178)]=!![],fs[_0xc6972b(0x145)](this['traceZipDir'],_0x1c6aee);continue;}break;}}static[a58_0x1db9b7(0x132)](){const _0x2985e3=a58_0x1db9b7,_0x51266f={};_0x51266f['bxtqF']=function(_0x3c266d,_0x150ea0){return _0x3c266d+_0x150ea0;},_0x51266f[_0x2985e3(0x17c)]=function(_0x341298,_0x7afcca){return _0x341298+_0x7afcca;};const _0x209e6c=_0x51266f;return _0x209e6c[_0x2985e3(0x182)](_0x209e6c[_0x2985e3(0x17c)](TEMP_STORE_DIR_NAME,'-'),process[_0x2985e3(0x18f)][_0x2985e3(0x153)]);}static[a58_0x1db9b7(0x17b)](){const _0x3bd2d8=a58_0x1db9b7,_0x5df1e8={};_0x5df1e8[_0x3bd2d8(0x158)]=function(_0x87bc08,_0x507300){return _0x87bc08+_0x507300;},_0x5df1e8[_0x3bd2d8(0x144)]='default';const _0x2fc343=_0x5df1e8;return path[_0x3bd2d8(0x16c)](_0x2fc343[_0x3bd2d8(0x158)](_0x2fc343[_0x3bd2d8(0x158)](TEMP_STORE_DIR_NAME,'-'),process[_0x3bd2d8(0x18f)][_0x3bd2d8(0x153)]||_0x2fc343[_0x3bd2d8(0x144)]));}static[a58_0x1db9b7(0x169)](){const _0x42ec14=a58_0x1db9b7,_0x24b455={};_0x24b455['VzwIQ']=_0x42ec14(0x164);const _0x23e92f=_0x24b455;return path[_0x42ec14(0x16c)](this[_0x42ec14(0x17b)](),_0x23e92f[_0x42ec14(0x133)]);}static['getFilePath'](_0x24c6f5){const _0x512a1d=a58_0x1db9b7,_0x90efdd={};_0x90efdd[_0x512a1d(0x15d)]=function(_0x143e42,_0xf722f){return _0x143e42+_0xf722f;},_0x90efdd[_0x512a1d(0x13b)]=_0x512a1d(0x134);const _0x326452=_0x90efdd;return path[_0x512a1d(0x16c)](this['dirPath'],_0x326452['NKfTh'](_0x24c6f5,_0x326452['KrkOG']));}static['getTestRunIdFromTestInfo'](_0x108178){const _0xf02947=a58_0x1db9b7,_0x3592a2={};_0x3592a2[_0xf02947(0x179)]=function(_0xd1169f,_0x482707){return _0xd1169f+_0x482707;},_0x3592a2[_0xf02947(0x123)]=function(_0x6a05b0,_0x823fcf){return _0x6a05b0+_0x823fcf;};const _0x4b778c=_0x3592a2;return _0x4b778c[_0xf02947(0x179)](_0x4b778c['BcXjn'](_0x4b778c[_0xf02947(0x123)](_0x4b778c[_0xf02947(0x123)](this[_0xf02947(0x160)](_0x108178),'-'),this['getTestIdFromTestInfo'](_0x108178)),'-'),_0x108178[_0xf02947(0x159)]);}static['getProjectIdFromTestInfo'](_0x241dbd){const _0x13155a=a58_0x1db9b7,_0x279489={'asfOs':function(_0x3e3871,_0x71235c,_0x3c9afb){return _0x3e3871(_0x71235c,_0x3c9afb);},'oYwCR':_0x13155a(0x16b),'XYhiW':_0x13155a(0x155),'mwJRp':_0x13155a(0x17e),'yYWTh':'__projectId'};return _0x279489[_0x13155a(0x138)](nestedKeyValue,_0x241dbd,[_0x279489['oYwCR'],_0x279489[_0x13155a(0x183)]])||_0x279489[_0x13155a(0x138)](nestedKeyValue,_0x241dbd,[_0x279489['mwJRp'],_0x279489[_0x13155a(0x126)]]);}static[a58_0x1db9b7(0x15b)](_0x247567){const _0x59db94=a58_0x1db9b7,_0x55d271={'bcxeS':function(_0x2ff95b,_0x5e5af2,_0x4aa57e){return _0x2ff95b(_0x5e5af2,_0x4aa57e);},'IUWDQ':_0x59db94(0x16b)};return _0x55d271[_0x59db94(0x13a)](nestedKeyValue,_0x247567,[_0x55d271[_0x59db94(0x173)],'id'])||_0x247567[_0x59db94(0x140)];}static[a58_0x1db9b7(0x128)](_0x520fac,_0x37bf76){const _0x486b2f=a58_0x1db9b7,_0x1e94e0={};_0x1e94e0[_0x486b2f(0x151)]=function(_0x3b6cdc,_0x509406){return _0x3b6cdc+_0x509406;},_0x1e94e0[_0x486b2f(0x188)]=function(_0x5550b7,_0x1c7c7d){return _0x5550b7+_0x1c7c7d;};const _0x12a25f=_0x1e94e0;return _0x12a25f['twqxI'](_0x12a25f[_0x486b2f(0x151)](_0x12a25f[_0x486b2f(0x151)](_0x12a25f[_0x486b2f(0x188)](this['getProjectIdFromTestInfo'](_0x520fac),'-'),this[_0x486b2f(0x15b)](_0x520fac)),'-'),_0x37bf76);}static['getTestUUID'](_0x4d2547){const _0x15059e=a58_0x1db9b7,_0x522de7={'qmpuQ':function(_0x3ab189,_0x314cf9){return _0x3ab189===_0x314cf9;},'cXHWP':_0x15059e(0x18d),'FTUWs':function(_0x39cf7b){return _0x39cf7b();}};try{if(this['tests'][_0x4d2547]&&_0x522de7[_0x15059e(0x154)](typeof this[_0x15059e(0x15f)][_0x4d2547]['uuid'],_0x522de7['cXHWP']))return this['tests'][_0x4d2547][_0x15059e(0x141)];const _0x7bd125=this['getFilePath'](_0x4d2547),_0x4d2fba=path['resolve'](_0x7bd125);if(fs['existsSync'](_0x4d2fba)){const _0xebeb80=JSON['parse'](fs[_0x15059e(0x12d)](_0x7bd125)[_0x15059e(0x12e)]());return this[_0x15059e(0x15f)][_0x4d2547]=_0xebeb80,this[_0x15059e(0x15f)][_0x4d2547][_0x15059e(0x141)];}return this[_0x15059e(0x15f)][_0x4d2547]={'uuid':_0x522de7[_0x15059e(0x148)](uuidv4)},fs['writeFileSync'](_0x7bd125,JSON[_0x15059e(0x14f)](this[_0x15059e(0x15f)][_0x4d2547])),this[_0x15059e(0x15f)][_0x4d2547][_0x15059e(0x141)];}catch(_0x3c2334){return logger[_0x15059e(0x142)](_0x15059e(0x16d)+_0x4d2547+':\x20'+_0x3c2334['message']),null;}}static['getAccessibilityPlatformValidation'](_0x52d04a){const _0x5ebe6d=a58_0x1db9b7,_0x1c038f=path[_0x5ebe6d(0x16c)](this['dirPath'],_0x52d04a+_0x5ebe6d(0x14e));if(fs[_0x5ebe6d(0x186)](_0x1c038f))return fs[_0x5ebe6d(0x12d)](_0x1c038f)[_0x5ebe6d(0x12e)]();}static[a58_0x1db9b7(0x193)](_0xbc1eb,_0x5e6b1d){const _0x59ace1=a58_0x1db9b7,_0x4a43b0=path[_0x59ace1(0x16c)](this[_0x59ace1(0x12b)],_0x5e6b1d+'_platformDetails.json');fs[_0x59ace1(0x174)](_0x4a43b0,_0xbc1eb['toString']());}static[a58_0x1db9b7(0x192)](){const _0x51cdf0=a58_0x1db9b7,_0x1c8a50={};_0x1c8a50['recursive']=!![],_0x1c8a50[_0x51cdf0(0x16a)]=!![],fs['rmSync'](this[_0x51cdf0(0x12b)],_0x1c8a50);}static[a58_0x1db9b7(0x13e)](_0x54726d){const _0x24c407=a58_0x1db9b7,_0x1f6ccf=this[_0x24c407(0x157)](_0x54726d);if(fs['existsSync'](_0x1f6ccf))try{const _0x3ebbc5=JSON[_0x24c407(0x191)](fs[_0x24c407(0x12d)](_0x1f6ccf)[_0x24c407(0x12e)]());return this[_0x24c407(0x15f)][_0x54726d]=_0x3ebbc5,_0x3ebbc5;}catch(_0x30375c){return logger['warn'](_0x24c407(0x161)+_0x1f6ccf+':\x20'+util[_0x24c407(0x12f)](_0x30375c)+_0x24c407(0x152)),{};}return{};}static[a58_0x1db9b7(0x166)](_0x3d2244,_0x835537,_0x3b2ac0=![]){const _0x3d7f2e=a58_0x1db9b7,_0x296345={'XXdPC':_0x3d7f2e(0x168),'RZKGJ':function(_0x44b456){return _0x44b456();}};logger[_0x3d7f2e(0x125)](_0x296345['XXdPC']),logger['debug'](_0x3d7f2e(0x15e)+process['pid']+_0x3d7f2e(0x18b)+_0x3d2244+_0x3d7f2e(0x12a)+JSON['stringify'](_0x835537));const _0x70c42e=this[_0x3d7f2e(0x157)](_0x3d2244);if(fs['existsSync'](_0x70c42e))try{const _0x106fc5=lockfile[_0x3d7f2e(0x17f)](_0x70c42e),_0x409059=JSON['parse'](fs[_0x3d7f2e(0x12d)](_0x70c42e)[_0x3d7f2e(0x12e)]());if(_0x3b2ac0)this[_0x3d7f2e(0x15f)][_0x3d2244]=helper['mergeDeep'](_0x409059,_0x835537);else{const _0x12b66a={..._0x409059,..._0x835537};this['tests'][_0x3d2244]=_0x12b66a;}fs[_0x3d7f2e(0x174)](_0x70c42e,JSON[_0x3d7f2e(0x14f)](this[_0x3d7f2e(0x15f)][_0x3d2244])),_0x296345[_0x3d7f2e(0x156)](_0x106fc5);}catch(_0x6f615f){logger[_0x3d7f2e(0x139)](_0x3d7f2e(0x161)+_0x70c42e+':\x20'+util['format'](_0x6f615f)+'.\x20Unable\x20to\x20set\x20test\x20details.');}}static[a58_0x1db9b7(0x172)](_0x1ef15f){const _0x503c68=a58_0x1db9b7,_0x265276={};_0x265276[_0x503c68(0x150)]=_0x503c68(0x13c);const _0x4508f7=_0x265276;try{const _0x38d20e=process[_0x503c68(0x121)],_0x286ddc=path[_0x503c68(0x16c)](TestInfo['getTraceZipDir'](),_0x38d20e+_0x503c68(0x18e));let _0x1aae2a=[];fs[_0x503c68(0x186)](_0x286ddc)&&(_0x1aae2a=JSON[_0x503c68(0x191)](fs['readFileSync'](_0x286ddc)['toString']()));if(!_0x1aae2a[_0x503c68(0x177)](_0x1e40a9=>_0x1e40a9['filePath']===_0x1ef15f[_0x503c68(0x143)])){_0x1aae2a[_0x503c68(0x146)](_0x1ef15f);const _0x2df2dc=path[_0x503c68(0x187)](_0x286ddc);if(!fs[_0x503c68(0x186)](_0x2df2dc)){const _0x57cc52={};_0x57cc52[_0x503c68(0x178)]=!![],fs[_0x503c68(0x145)](_0x2df2dc,_0x57cc52);}fs['writeFileSync'](_0x286ddc,JSON[_0x503c68(0x14f)](_0x1aae2a));}}catch(_0x25f5aa){logger[_0x503c68(0x142)](util[_0x503c68(0x12f)](_0x4508f7[_0x503c68(0x150)],_0x25f5aa));}}static[a58_0x1db9b7(0x180)](){const _0x2bc706=a58_0x1db9b7,_0x3867aa={};_0x3867aa[_0x2bc706(0x131)]=_0x2bc706(0x18e),_0x3867aa[_0x2bc706(0x14d)]=_0x2bc706(0x167);const _0x1c2caf=_0x3867aa,_0xc87295=[];try{const _0x42666a=TestInfo[_0x2bc706(0x169)]();if(!fs[_0x2bc706(0x186)](_0x42666a))return _0xc87295;const _0x50f642=fs['readdirSync'](_0x42666a);_0x50f642[_0x2bc706(0x17a)](_0x361210=>{const _0x3e06b5=_0x2bc706;if(_0x361210['endsWith'](_0x1c2caf['cURAt'])){const _0x231be7=JSON[_0x3e06b5(0x191)](fs[_0x3e06b5(0x12d)](path[_0x3e06b5(0x16c)](_0x42666a,_0x361210))['toString']());_0xc87295[_0x3e06b5(0x146)](..._0x231be7);}});}catch(_0x236886){logger[_0x2bc706(0x142)](util['format'](_0x1c2caf[_0x2bc706(0x14d)],_0x236886));}const _0x3dd983={};return _0xc87295['forEach'](_0x468dcf=>{const _0x33ef91=_0x2bc706;_0x3dd983[_0x468dcf[_0x33ef91(0x143)]]=_0x468dcf;}),Object['values'](_0x3dd983);}static[a58_0x1db9b7(0x147)](_0x90978b,_0x3af8cc){const _0x15375f=a58_0x1db9b7,_0x2a672e={};_0x2a672e['neFaD']=_0x15375f(0x14b),_0x2a672e[_0x15375f(0x137)]=_0x15375f(0x190),_0x2a672e['GnNDG']=_0x15375f(0x136);const _0x2e134c=_0x2a672e;try{const _0x3c9198=path[_0x15375f(0x16c)](helper[_0x15375f(0x171)](),_0x2e134c[_0x15375f(0x170)]);if(!fs['existsSync'](_0x3c9198)){const _0x3a38b7={};_0x3a38b7[_0x15375f(0x178)]=!![],fs[_0x15375f(0x145)](_0x3c9198,_0x3a38b7);}fs[_0x15375f(0x162)](path[_0x15375f(0x16c)](_0x3c9198,_0x15375f(0x129)+_0x3af8cc+_0x15375f(0x14c)),_0x90978b+'\x0a',_0x2e134c['kNlPM']);}catch(_0x63f6b9){logger[_0x15375f(0x142)](util[_0x15375f(0x12f)](_0x2e134c[_0x15375f(0x14a)],_0x63f6b9));}}}function a58_0x5b32(_0x571a04,_0x25a965){const _0x321e23=a58_0x321e();return a58_0x5b32=function(_0x5b329c,_0x45f456){_0x5b329c=_0x5b329c-0x121;let _0x3ee3d1=_0x321e23[_0x5b329c];return _0x3ee3d1;},a58_0x5b32(_0x571a04,_0x25a965);}function a58_0x321e(){const _0x11f021=['kNlPM','asfOs','warn','bcxeS','KrkOG','Error\x20handling\x20trace\x20file\x20paths:\x20%O','30nSnGCX','getTestDetails','176GBbmZW','testId','uuid','error','filePath','xGCRp','mkdirSync','push','appendToTracePaths','FTUWs','util','GnNDG','.browserstack','.txt','XqnQH','_platformDetails.json','stringify','OkWFG','twqxI','.\x20Returning\x20empty\x20test\x20details.','BS_TESTOPS_BUILD_HASHED_ID','qmpuQ','_projectId','RZKGJ','getFilePath','uPpCq','retry','2461869sGDVIh','getTestIdFromTestInfo','Setting\x20up\x20TestInfo\x20directory\x20at\x20','NKfTh','processId:\x20','tests','getProjectIdFromTestInfo','Failed\x20to\x20acquire\x20lock\x20for\x20','appendFileSync','295NMMUFC','traceZipPaths','yjJFy','setTestDetails','Error\x20reading\x20trace\x20file\x20paths:\x20%O','setTestDetails\x20','getTraceZipDir','force','_test','join','Error\x20while\x20getting\x20test\x20UUID\x20for\x20','TestInfo','3833580pmKMGF','neFaD','homedir','addTraceFilePath','IUWDQ','writeFileSync','89008iMCbfY','setup','some','recursive','ggHdj','forEach','getStoreDirPath','bxHtc','traceZipDir','project','lockSync','getTraceFilePaths','3|2|1|0|5|4','bxtqF','XYhiW','logger','14BIsjya','existsSync','dirname','WfquG','948120Janmpu','767062Nwmyks','\x20Setting\x20\x20test\x20details\x20for\x20','path','string','_traceZipPaths.json','env','utf8','parse','shutdown','setAccessibilityPlatformValidation','pid','../../helpers/helper','BcXjn','lZile','debug','yYWTh','90IJoAtD','getTestIdentifierFromTestInfo','trace_','\x20with\x20details:\x20','dirPath','4790856oMTBEq','readFileSync','toString','format','exports','cURAt','getStoreDirName','VzwIQ','.json','5210FRbABv','Error\x20writing\x20trace\x20file:\x20%O'];a58_0x321e=function(){return _0x11f021;};return a58_0x321e();}module[a58_0x1db9b7(0x130)]=TestInfo;