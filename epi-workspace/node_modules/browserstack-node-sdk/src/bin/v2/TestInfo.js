const a56_0x4bc96f=a56_0x9394;(function(_0x56dcc5,_0x2f3cb0){const _0x50f95c=a56_0x9394,_0x4b5baf=_0x56dcc5();while(!![]){try{const _0x3322f0=-parseInt(_0x50f95c(0x104))/0x1*(-parseInt(_0x50f95c(0xd0))/0x2)+-parseInt(_0x50f95c(0xde))/0x3*(parseInt(_0x50f95c(0xca))/0x4)+parseInt(_0x50f95c(0xfb))/0x5+parseInt(_0x50f95c(0xe9))/0x6*(-parseInt(_0x50f95c(0xfd))/0x7)+parseInt(_0x50f95c(0xb6))/0x8*(parseInt(_0x50f95c(0x119))/0x9)+parseInt(_0x50f95c(0x11a))/0xa*(parseInt(_0x50f95c(0xb8))/0xb)+-parseInt(_0x50f95c(0x115))/0xc;if(_0x3322f0===_0x2f3cb0)break;else _0x4b5baf['push'](_0x4b5baf['shift']());}catch(_0x5313d4){_0x4b5baf['push'](_0x4b5baf['shift']());}}}(a56_0x3d19,0xb2c60));function a56_0x9394(_0x51c27a,_0x241535){const _0x3d19c0=a56_0x3d19();return a56_0x9394=function(_0x93941a,_0x97619a){_0x93941a=_0x93941a-0xa9;let _0x2cebb4=_0x3d19c0[_0x93941a];return _0x2cebb4;},a56_0x9394(_0x51c27a,_0x241535);}const fs=require('fs'),path=require(a56_0x4bc96f(0xe8)),{v4:uuidv4}=require(a56_0x4bc96f(0x10d)),{TEMP_STORE_DIR_NAME}=require(a56_0x4bc96f(0xcc)),{nestedKeyValue}=require(a56_0x4bc96f(0xed)),logger=require('../../helpers/logger')[a56_0x4bc96f(0xba)],util=require('util'),helper=require('../../helpers/helper'),{createClassLogger}=require('../../helpers/classLogger.js'),lockfile=require(a56_0x4bc96f(0xbf));class TestInfo{static [a56_0x4bc96f(0xaf)]={};static ['dirPath']=TestInfo[a56_0x4bc96f(0xe1)]();static [a56_0x4bc96f(0xdf)]=path['join'](TestInfo[a56_0x4bc96f(0x10a)],'traceZipPaths');[a56_0x4bc96f(0x109)]=createClassLogger(a56_0x4bc96f(0xf9));static['setup'](){const _0x41a1ef=a56_0x4bc96f,_0x354426={};_0x354426[_0x41a1ef(0xeb)]=_0x41a1ef(0xf8),_0x354426[_0x41a1ef(0xf7)]=_0x41a1ef(0xf4);const _0x3c3e7b=_0x354426,_0x522db6=_0x3c3e7b[_0x41a1ef(0xeb)][_0x41a1ef(0x105)]('|');let _0x46ef22=0x0;while(!![]){switch(_0x522db6[_0x46ef22++]){case'0':const _0x390fba={};_0x390fba[_0x41a1ef(0xc9)]=!![],fs['mkdirSync'](this[_0x41a1ef(0x10a)],_0x390fba);continue;case'1':this[_0x41a1ef(0xdf)]=path[_0x41a1ef(0x101)](this['dirPath'],_0x3c3e7b[_0x41a1ef(0xf7)]);continue;case'2':this['dirPath']=TestInfo['getStoreDirName']();continue;case'3':this['shutdown']();continue;case'4':const _0x403ba4={};_0x403ba4[_0x41a1ef(0xc9)]=!![],fs[_0x41a1ef(0xbb)](this['traceZipDir'],_0x403ba4);continue;case'5':logger[_0x41a1ef(0xac)]('Setting\x20up\x20TestInfo\x20directory\x20at\x20'+this[_0x41a1ef(0x10a)]);continue;}break;}}static[a56_0x4bc96f(0xe1)](){const _0x1435ea=a56_0x4bc96f,_0x3867d0={};_0x3867d0[_0x1435ea(0x10c)]=function(_0x7dc89f,_0x250261){return _0x7dc89f+_0x250261;},_0x3867d0['WtBWG']=function(_0x3895ec,_0x55e692){return _0x3895ec+_0x55e692;};const _0xe7f252=_0x3867d0;return _0xe7f252[_0x1435ea(0x10c)](_0xe7f252[_0x1435ea(0xc2)](TEMP_STORE_DIR_NAME,'-'),process[_0x1435ea(0xcd)]['BS_TESTOPS_BUILD_HASHED_ID']);}static[a56_0x4bc96f(0xf0)](){const _0x4cabaa=a56_0x4bc96f,_0x4eec7f={};_0x4eec7f[_0x4cabaa(0x116)]=function(_0x4a6eed,_0x4b5378){return _0x4a6eed+_0x4b5378;},_0x4eec7f[_0x4cabaa(0xce)]=function(_0x210c58,_0x3e425b){return _0x210c58+_0x3e425b;},_0x4eec7f[_0x4cabaa(0x106)]=_0x4cabaa(0xd3);const _0x1c08bd=_0x4eec7f;return path[_0x4cabaa(0x101)](_0x1c08bd[_0x4cabaa(0x116)](_0x1c08bd['FfxyE'](TEMP_STORE_DIR_NAME,'-'),process[_0x4cabaa(0xcd)][_0x4cabaa(0xdb)]||_0x1c08bd[_0x4cabaa(0x106)]));}static['getTraceZipDir'](){const _0x59083e=a56_0x4bc96f,_0x24137b={};_0x24137b['nRsPS']='traceZipPaths';const _0x26fe7b=_0x24137b;return path[_0x59083e(0x101)](this[_0x59083e(0xf0)](),_0x26fe7b['nRsPS']);}static[a56_0x4bc96f(0x112)](_0xee99cd){const _0x2e169f=a56_0x4bc96f,_0x41585f={};_0x41585f['KzCIE']=function(_0x2bfc6e,_0x1c7dee){return _0x2bfc6e+_0x1c7dee;},_0x41585f[_0x2e169f(0xc7)]=_0x2e169f(0xc1);const _0x1263fe=_0x41585f;return path[_0x2e169f(0x101)](this['dirPath'],_0x1263fe[_0x2e169f(0xfc)](_0xee99cd,_0x1263fe[_0x2e169f(0xc7)]));}static[a56_0x4bc96f(0xf3)](_0x5bf6e7){const _0x1fc650=a56_0x4bc96f,_0x257b84={};_0x257b84['vRZxT']=function(_0x16540c,_0x490cc6){return _0x16540c+_0x490cc6;},_0x257b84[_0x1fc650(0xd9)]=function(_0x3f1582,_0x2a0a81){return _0x3f1582+_0x2a0a81;};const _0x2dac8c=_0x257b84;return _0x2dac8c['vRZxT'](_0x2dac8c[_0x1fc650(0x11b)](_0x2dac8c['vRZxT'](_0x2dac8c[_0x1fc650(0xd9)](this[_0x1fc650(0xc3)](_0x5bf6e7),'-'),this[_0x1fc650(0xff)](_0x5bf6e7)),'-'),_0x5bf6e7[_0x1fc650(0x103)]);}static['getProjectIdFromTestInfo'](_0x4602c0){const _0x14f1e4=a56_0x4bc96f,_0x3ab1ed={'XeJTN':function(_0x32c37e,_0x19df2b,_0x17e919){return _0x32c37e(_0x19df2b,_0x17e919);},'vDLox':_0x14f1e4(0x10b),'ggMuk':_0x14f1e4(0xaa),'lhTOv':_0x14f1e4(0x108),'Dbyxz':_0x14f1e4(0x107)};return _0x3ab1ed[_0x14f1e4(0x117)](nestedKeyValue,_0x4602c0,[_0x3ab1ed['vDLox'],_0x3ab1ed[_0x14f1e4(0xd8)]])||_0x3ab1ed[_0x14f1e4(0x117)](nestedKeyValue,_0x4602c0,[_0x3ab1ed[_0x14f1e4(0xb3)],_0x3ab1ed[_0x14f1e4(0xef)]]);}static[a56_0x4bc96f(0xff)](_0x7a76b6){const _0x2cbdf0=a56_0x4bc96f,_0x424cd0={'jdUkC':function(_0x2bc7a4,_0x32b5a5,_0x36e945){return _0x2bc7a4(_0x32b5a5,_0x36e945);},'mKXgh':_0x2cbdf0(0x10b)};return _0x424cd0[_0x2cbdf0(0x114)](nestedKeyValue,_0x7a76b6,[_0x424cd0[_0x2cbdf0(0x10f)],'id'])||_0x7a76b6[_0x2cbdf0(0xb5)];}static['getTestUUID'](_0xbc7008){const _0x249c37=a56_0x4bc96f,_0x22b79b={'TVErE':function(_0x22cc39,_0x1946e8){return _0x22cc39===_0x1946e8;},'InjKX':_0x249c37(0x100),'dtGnq':function(_0x8576c6){return _0x8576c6();}};try{if(this[_0x249c37(0xaf)][_0xbc7008]&&_0x22b79b['TVErE'](typeof this['tests'][_0xbc7008]['uuid'],_0x22b79b[_0x249c37(0xea)]))return this[_0x249c37(0xaf)][_0xbc7008][_0x249c37(0x10d)];const _0xd0aec0=this[_0x249c37(0x112)](_0xbc7008),_0x914bed=path[_0x249c37(0xab)](_0xd0aec0);if(fs[_0x249c37(0xd5)](_0x914bed)){const _0x189a4b=JSON[_0x249c37(0xb9)](fs[_0x249c37(0xb4)](_0xd0aec0)['toString']());return this[_0x249c37(0xaf)][_0xbc7008]=_0x189a4b,this[_0x249c37(0xaf)][_0xbc7008][_0x249c37(0x10d)];}return this['tests'][_0xbc7008]={'uuid':_0x22b79b[_0x249c37(0xc4)](uuidv4)},fs[_0x249c37(0xbe)](_0xd0aec0,JSON['stringify'](this[_0x249c37(0xaf)][_0xbc7008])),this[_0x249c37(0xaf)][_0xbc7008][_0x249c37(0x10d)];}catch(_0x13f322){return logger[_0x249c37(0xc8)]('Error\x20while\x20getting\x20test\x20UUID\x20for\x20'+_0xbc7008+':\x20'+_0x13f322[_0x249c37(0xdd)]),null;}}static[a56_0x4bc96f(0xcf)](_0x27b05b){const _0x329543=a56_0x4bc96f,_0x13eebd=path[_0x329543(0x101)](this[_0x329543(0x10a)],_0x27b05b+'_platformDetails.json');if(fs['existsSync'](_0x13eebd))return fs[_0x329543(0xb4)](_0x13eebd)[_0x329543(0xd2)]();}static[a56_0x4bc96f(0xb1)](_0x46a077,_0x146bfe){const _0x31d174=a56_0x4bc96f,_0x20950d=path['join'](this['dirPath'],_0x146bfe+'_platformDetails.json');fs[_0x31d174(0xbe)](_0x20950d,_0x46a077[_0x31d174(0xd2)]());}static[a56_0x4bc96f(0xbd)](){const _0x255912=a56_0x4bc96f,_0x58c9ac={};_0x58c9ac[_0x255912(0xc9)]=!![],_0x58c9ac[_0x255912(0xad)]=!![],fs[_0x255912(0xc5)](this[_0x255912(0x10a)],_0x58c9ac);}static[a56_0x4bc96f(0x118)](_0x3e056c){const _0x5be8da=a56_0x4bc96f,_0x288fba=this['getFilePath'](_0x3e056c);if(fs[_0x5be8da(0xd5)](_0x288fba))try{const _0xcac735=JSON[_0x5be8da(0xb9)](fs[_0x5be8da(0xb4)](_0x288fba)[_0x5be8da(0xd2)]());return this[_0x5be8da(0xaf)][_0x3e056c]=_0xcac735,_0xcac735;}catch(_0x5cded1){return logger[_0x5be8da(0xb2)](_0x5be8da(0xe5)+_0x288fba+':\x20'+util[_0x5be8da(0x102)](_0x5cded1)+_0x5be8da(0xf1)),{};}return{};}static[a56_0x4bc96f(0xb7)](_0x1db079,_0x2fe747){const _0x2d937e=a56_0x4bc96f,_0x1814ee={'FeqRw':'setTestDetails\x20','sAWKD':function(_0x9c43f0){return _0x9c43f0();}};logger[_0x2d937e(0xd7)](_0x1814ee[_0x2d937e(0xe6)]),logger['debug'](_0x2d937e(0xf5)+process['pid']+_0x2d937e(0xfe)+_0x1db079+'\x20with\x20details:\x20'+JSON[_0x2d937e(0x11c)](_0x2fe747));const _0x466123=this[_0x2d937e(0x112)](_0x1db079);if(fs[_0x2d937e(0xd5)](_0x466123))try{const _0x3de96d=lockfile[_0x2d937e(0xcb)](_0x466123),_0xe31b24=JSON['parse'](fs[_0x2d937e(0xb4)](_0x466123)[_0x2d937e(0xd2)]()),_0x13a8a4={..._0xe31b24,..._0x2fe747};this[_0x2d937e(0xaf)][_0x1db079]=_0x13a8a4,fs[_0x2d937e(0xbe)](_0x466123,JSON['stringify'](this[_0x2d937e(0xaf)][_0x1db079])),_0x1814ee[_0x2d937e(0xec)](_0x3de96d);}catch(_0x42c0e6){logger[_0x2d937e(0xb2)](_0x2d937e(0xe5)+_0x466123+':\x20'+util['format'](_0x42c0e6)+_0x2d937e(0x110));}}static[a56_0x4bc96f(0x10e)](_0x4a4d30){const _0x5ae97d=a56_0x4bc96f,_0x4f0746={};_0x4f0746['SHNQV']=_0x5ae97d(0xe2);const _0x5586b0=_0x4f0746;try{const _0x26fc18=process[_0x5ae97d(0xd4)],_0x2d9718=path['join'](TestInfo[_0x5ae97d(0x111)](),_0x26fc18+'_traceZipPaths.json');let _0x3fe995=[];fs[_0x5ae97d(0xd5)](_0x2d9718)&&(_0x3fe995=JSON[_0x5ae97d(0xb9)](fs[_0x5ae97d(0xb4)](_0x2d9718)[_0x5ae97d(0xd2)]()));if(!_0x3fe995[_0x5ae97d(0xa9)](_0x29a5fc=>_0x29a5fc[_0x5ae97d(0xdc)]===_0x4a4d30[_0x5ae97d(0xdc)])){_0x3fe995['push'](_0x4a4d30);const _0x2d3370=path[_0x5ae97d(0xd1)](_0x2d9718);if(!fs[_0x5ae97d(0xd5)](_0x2d3370)){const _0x5d9634={};_0x5d9634[_0x5ae97d(0xc9)]=!![],fs[_0x5ae97d(0xbb)](_0x2d3370,_0x5d9634);}fs[_0x5ae97d(0xbe)](_0x2d9718,JSON[_0x5ae97d(0x11c)](_0x3fe995));}}catch(_0x101a38){logger[_0x5ae97d(0xc8)](util[_0x5ae97d(0x102)](_0x5586b0['SHNQV'],_0x101a38));}}static['getTraceFilePaths'](){const _0x55a950=a56_0x4bc96f,_0x4f936b={};_0x4f936b[_0x55a950(0xee)]=_0x55a950(0x113),_0x4f936b[_0x55a950(0xe4)]=_0x55a950(0xc0);const _0x3dd6c6=_0x4f936b,_0x2bb8d8=[];try{const _0x948aac=TestInfo[_0x55a950(0x111)]();if(!fs[_0x55a950(0xd5)](_0x948aac))return _0x2bb8d8;const _0x2ad4fb=fs['readdirSync'](_0x948aac);_0x2ad4fb[_0x55a950(0xfa)](_0x20afed=>{const _0xa7eda4=_0x55a950;if(_0x20afed[_0xa7eda4(0xb0)](_0x3dd6c6['xhguL'])){const _0xf4dc4b=JSON['parse'](fs[_0xa7eda4(0xb4)](path[_0xa7eda4(0x101)](_0x948aac,_0x20afed))[_0xa7eda4(0xd2)]());_0x2bb8d8[_0xa7eda4(0xe7)](..._0xf4dc4b);}});}catch(_0x52c721){logger['error'](util[_0x55a950(0x102)](_0x3dd6c6[_0x55a950(0xe4)],_0x52c721));}const _0x1d66cd={};return _0x2bb8d8[_0x55a950(0xfa)](_0x46bd2e=>{const _0x381d09=_0x55a950;_0x1d66cd[_0x46bd2e[_0x381d09(0xdc)]]=_0x46bd2e;}),Object[_0x55a950(0xf6)](_0x1d66cd);}static[a56_0x4bc96f(0xae)](_0x41bd6c,_0x2af0a0){const _0x4e5582=a56_0x4bc96f,_0x173a32={};_0x173a32['hRuRy']=_0x4e5582(0xd6),_0x173a32['BgWeD']='utf8',_0x173a32['gmPQj']=_0x4e5582(0xc6);const _0x8571c0=_0x173a32;try{const _0x5e3826=path['join'](helper[_0x4e5582(0xbc)](),_0x8571c0['hRuRy']);if(!fs[_0x4e5582(0xd5)](_0x5e3826)){const _0x325117={};_0x325117[_0x4e5582(0xc9)]=!![],fs[_0x4e5582(0xbb)](_0x5e3826,_0x325117);}fs[_0x4e5582(0xe0)](path[_0x4e5582(0x101)](_0x5e3826,_0x4e5582(0xf2)+_0x2af0a0+_0x4e5582(0xe3)),_0x41bd6c+'\x0a',_0x8571c0[_0x4e5582(0xda)]);}catch(_0xbe0507){logger[_0x4e5582(0xc8)](util[_0x4e5582(0x102)](_0x8571c0['gmPQj'],_0xbe0507));}}}module['exports']=TestInfo;function a56_0x3d19(){const _0x49dae2=['trace_','getTestRunIdFromTestInfo','traceZipPaths','processId:\x20','values','eMRws','2|1|3|0|4|5','TestInfo','forEach','7285170sDmMOC','KzCIE','7jpxDbU','\x20Setting\x20\x20test\x20details\x20for\x20','getTestIdFromTestInfo','string','join','format','retry','6946JFEXpD','split','PJoWp','__projectId','project','logger','dirPath','_test','EmFFe','uuid','addTraceFilePath','mKXgh','.\x20Unable\x20to\x20set\x20test\x20details.','getTraceZipDir','getFilePath','_traceZipPaths.json','jdUkC','32298804pdieth','GaLPF','XeJTN','getTestDetails','2007dfZwtx','732020KtwSld','vRZxT','stringify','some','_projectId','resolve','info','force','appendToTracePaths','tests','endsWith','setAccessibilityPlatformValidation','warn','lhTOv','readFileSync','testId','24896cfZWDb','setTestDetails','198ZKCPTO','parse','winstonLogger','mkdirSync','homedir','shutdown','writeFileSync','proper-lockfile','Error\x20reading\x20trace\x20file\x20paths:\x20%O','.json','WtBWG','getProjectIdFromTestInfo','dtGnq','rmSync','Error\x20writing\x20trace\x20file:\x20%O','VdmXT','error','recursive','1580fSUZdg','lockSync','../../helpers/test-observability/constants','env','FfxyE','getAccessibilityPlatformValidation','282NbyMXd','dirname','toString','default','pid','existsSync','.browserstack','debug','ggMuk','BFuWC','BgWeD','BS_TESTOPS_BUILD_HASHED_ID','filePath','message','1848ystUjS','traceZipDir','appendFileSync','getStoreDirName','Error\x20handling\x20trace\x20file\x20paths:\x20%O','.txt','rDzwO','Failed\x20to\x20acquire\x20lock\x20for\x20','FeqRw','push','path','4685334iUpSdn','InjKX','WrDYz','sAWKD','../../helpers/helper','xhguL','Dbyxz','getStoreDirPath','.\x20Returning\x20empty\x20test\x20details.'];a56_0x3d19=function(){return _0x49dae2;};return a56_0x3d19();}