function a54_0x2652(_0x188fa1,_0x51832f){const _0x5e7e4f=a54_0x5e7e();return a54_0x2652=function(_0x2652aa,_0x746b8c){_0x2652aa=_0x2652aa-0x12e;let _0x7daedf=_0x5e7e4f[_0x2652aa];return _0x7daedf;},a54_0x2652(_0x188fa1,_0x51832f);}const a54_0x298fad=a54_0x2652;(function(_0x5cc4fc,_0x19fe2b){const _0x5f2782=a54_0x2652,_0x5b5fa2=_0x5cc4fc();while(!![]){try{const _0x31c27a=parseInt(_0x5f2782(0x142))/0x1*(-parseInt(_0x5f2782(0x15d))/0x2)+-parseInt(_0x5f2782(0x185))/0x3+parseInt(_0x5f2782(0x195))/0x4*(-parseInt(_0x5f2782(0x17d))/0x5)+parseInt(_0x5f2782(0x19a))/0x6+parseInt(_0x5f2782(0x165))/0x7*(-parseInt(_0x5f2782(0x140))/0x8)+-parseInt(_0x5f2782(0x158))/0x9+-parseInt(_0x5f2782(0x190))/0xa*(-parseInt(_0x5f2782(0x179))/0xb);if(_0x31c27a===_0x19fe2b)break;else _0x5b5fa2['push'](_0x5b5fa2['shift']());}catch(_0x57ae3c){_0x5b5fa2['push'](_0x5b5fa2['shift']());}}}(a54_0x5e7e,0xb1bcd));const fs=require('fs'),path=require('path'),{v4:uuidv4}=require(a54_0x298fad(0x176)),{TEMP_STORE_DIR_NAME}=require(a54_0x298fad(0x17f)),{nestedKeyValue}=require('../../helpers/helper'),logger=require('../../helpers/logger')['winstonLogger'],util=require('util'),helper=require(a54_0x298fad(0x134)),{createClassLogger}=require(a54_0x298fad(0x17b)),lockfile=require(a54_0x298fad(0x166));function a54_0x5e7e(){const _0x512f2f=['cEZrn','KWabQ','getStoreDirName','shutdown','../../helpers/helper','sWGgV','Error\x20writing\x20trace\x20file:\x20%O','WZhKJ','FMMrZ','TtajB','ldqYq','getStoreDirPath','BS_TESTOPS_BUILD_HASHED_ID','logger','appendFileSync','aXJvq','679240fZAbsT','jrdQF','835732wLGgGK','push','setup','join','tests','OOLdQ','homedir','PUVrO','stringify','dBHvr','WHUHe','getProjectIdFromTestInfo','getTestUUID','getTraceZipDir','message','existsSync','\x20Setting\x20\x20test\x20details\x20for\x20','testId','5|2|3|1|4|0','_test','WvihG','TestInfo','7105275MCxHrO','mdjeo','omciw','debug','setTestDetails\x20','2ADsmHM','Error\x20while\x20getting\x20test\x20UUID\x20for\x20','QcVLV','Setting\x20up\x20TestInfo\x20directory\x20at\x20','USuaV','retry','IhoSc','xSTMY','77rOlKEn','proper-lockfile','_traceZipPaths.json','string','Failed\x20to\x20acquire\x20lock\x20for\x20','betRq','.txt','GCzXN','BCgyu','forEach','readFileSync','getTestDetails','error','lockSync','traceZipDir','force','cZita','uuid','format','appendToTracePaths','1837jSSAkk','getTraceFilePaths','../../helpers/classLogger.js','writeFileSync','302465jEooyU','dirPath','../../helpers/test-observability/constants','getAccessibilityPlatformValidation','getTestIdFromTestInfo','split','resolve','mkdirSync','2773608abSClp','getFilePath','_projectId','warn','traceZipPaths','Error\x20reading\x20trace\x20file\x20paths:\x20%O','Error\x20handling\x20trace\x20file\x20paths:\x20%O','\x20with\x20details:\x20','recursive','default','.browserstack','210790cGmSXq','toString','VXCPK','getTestRunIdFromTestInfo','xagSE','32DBtnsu','.\x20Unable\x20to\x20set\x20test\x20details.','pid','trace_','filePath','7052772TWnmzY','parse','some','xAfaZ','dirname'];a54_0x5e7e=function(){return _0x512f2f;};return a54_0x5e7e();}class TestInfo{static [a54_0x298fad(0x146)]={};static [a54_0x298fad(0x17e)]=TestInfo[a54_0x298fad(0x132)]();static [a54_0x298fad(0x173)]=path['join'](TestInfo[a54_0x298fad(0x17e)],a54_0x298fad(0x189));[a54_0x298fad(0x13d)]=createClassLogger(a54_0x298fad(0x157));static[a54_0x298fad(0x144)](){const _0x5554df=a54_0x298fad,_0x53ceea={};_0x53ceea[_0x5554df(0x16a)]=_0x5554df(0x154),_0x53ceea[_0x5554df(0x139)]='traceZipPaths';const _0xbd3ac3=_0x53ceea,_0x5d5c53=_0xbd3ac3[_0x5554df(0x16a)][_0x5554df(0x182)]('|');let _0x4728b9=0x0;while(!![]){switch(_0x5d5c53[_0x4728b9++]){case'0':logger['info'](_0x5554df(0x160)+this[_0x5554df(0x17e)]);continue;case'1':const _0x4db397={};_0x4db397[_0x5554df(0x18d)]=!![],fs[_0x5554df(0x184)](this[_0x5554df(0x17e)],_0x4db397);continue;case'2':this[_0x5554df(0x173)]=path[_0x5554df(0x145)](this[_0x5554df(0x17e)],_0xbd3ac3[_0x5554df(0x139)]);continue;case'3':this[_0x5554df(0x133)]();continue;case'4':const _0x3f444e={};_0x3f444e['recursive']=!![],fs[_0x5554df(0x184)](this[_0x5554df(0x173)],_0x3f444e);continue;case'5':this[_0x5554df(0x17e)]=TestInfo[_0x5554df(0x132)]();continue;}break;}}static['getStoreDirName'](){const _0x180647=a54_0x298fad,_0x2c7ac2={};_0x2c7ac2['OOLdQ']=function(_0x41be4f,_0x120abb){return _0x41be4f+_0x120abb;};const _0x37e7ea=_0x2c7ac2;return _0x37e7ea[_0x180647(0x147)](_0x37e7ea['OOLdQ'](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x180647(0x13c)]);}static[a54_0x298fad(0x13b)](){const _0x4d0929=a54_0x298fad,_0x268da4={};_0x268da4[_0x4d0929(0x15f)]=function(_0x1eb0fb,_0x5e9c1b){return _0x1eb0fb+_0x5e9c1b;},_0x268da4[_0x4d0929(0x194)]=function(_0x397466,_0x4d9b6d){return _0x397466+_0x4d9b6d;},_0x268da4['AzqDi']=_0x4d0929(0x18e);const _0x53c011=_0x268da4;return path['join'](_0x53c011[_0x4d0929(0x15f)](_0x53c011[_0x4d0929(0x194)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x4d0929(0x13c)]||_0x53c011['AzqDi']));}static[a54_0x298fad(0x14f)](){const _0x3c4c4a=a54_0x298fad,_0x6b2ac7={};_0x6b2ac7[_0x3c4c4a(0x159)]=_0x3c4c4a(0x189);const _0x53a8a1=_0x6b2ac7;return path[_0x3c4c4a(0x145)](this[_0x3c4c4a(0x13b)](),_0x53a8a1[_0x3c4c4a(0x159)]);}static[a54_0x298fad(0x186)](_0x3fd6a7){const _0x5be7f1=a54_0x298fad,_0x5b3a72={};_0x5b3a72[_0x5be7f1(0x156)]=function(_0x4c702,_0x46dbff){return _0x4c702+_0x46dbff;},_0x5b3a72['aXJvq']='.json';const _0x2fa74c=_0x5b3a72;return path[_0x5be7f1(0x145)](this[_0x5be7f1(0x17e)],_0x2fa74c[_0x5be7f1(0x156)](_0x3fd6a7,_0x2fa74c[_0x5be7f1(0x13f)]));}static[a54_0x298fad(0x193)](_0x232608){const _0x4400d8=a54_0x298fad,_0x174372={};_0x174372[_0x4400d8(0x15a)]=function(_0x4edaed,_0x2afc03){return _0x4edaed+_0x2afc03;},_0x174372[_0x4400d8(0x138)]=function(_0x4008e7,_0x569b5a){return _0x4008e7+_0x569b5a;};const _0x12705f=_0x174372;return _0x12705f[_0x4400d8(0x15a)](_0x12705f[_0x4400d8(0x15a)](_0x12705f[_0x4400d8(0x138)](_0x12705f[_0x4400d8(0x138)](this[_0x4400d8(0x14d)](_0x232608),'-'),this[_0x4400d8(0x181)](_0x232608)),'-'),_0x232608[_0x4400d8(0x162)]);}static[a54_0x298fad(0x14d)](_0xd063c8){const _0x4dd50d=a54_0x298fad,_0x341779={'IhoSc':function(_0x4bb2b0,_0x3a896a,_0x3142a2){return _0x4bb2b0(_0x3a896a,_0x3142a2);},'jrdQF':_0x4dd50d(0x155),'BCgyu':_0x4dd50d(0x187),'zTPMy':function(_0x5b27ca,_0x30b1ab,_0x456e6c){return _0x5b27ca(_0x30b1ab,_0x456e6c);},'Jknbf':'project','USuaV':'__projectId'};return _0x341779[_0x4dd50d(0x163)](nestedKeyValue,_0xd063c8,[_0x341779[_0x4dd50d(0x141)],_0x341779[_0x4dd50d(0x16d)]])||_0x341779['zTPMy'](nestedKeyValue,_0xd063c8,[_0x341779['Jknbf'],_0x341779[_0x4dd50d(0x161)]]);}static[a54_0x298fad(0x181)](_0x530eec){const _0x1c2a7a=a54_0x298fad,_0x11739c={'cEZrn':function(_0x4b8b79,_0x2a3861,_0x5e7a89){return _0x4b8b79(_0x2a3861,_0x5e7a89);},'xSTMY':'_test'};return _0x11739c[_0x1c2a7a(0x130)](nestedKeyValue,_0x530eec,[_0x11739c[_0x1c2a7a(0x164)],'id'])||_0x530eec[_0x1c2a7a(0x153)];}static[a54_0x298fad(0x14e)](_0x2de41a){const _0x4e94f1=a54_0x298fad,_0x4e7c9d={'PUVrO':function(_0x4a8c9e,_0x249d60){return _0x4a8c9e===_0x249d60;},'ldqYq':_0x4e94f1(0x168),'sWGgV':function(_0x4063c1){return _0x4063c1();}};try{if(this[_0x4e94f1(0x146)][_0x2de41a]&&_0x4e7c9d[_0x4e94f1(0x149)](typeof this['tests'][_0x2de41a][_0x4e94f1(0x176)],_0x4e7c9d[_0x4e94f1(0x13a)]))return this[_0x4e94f1(0x146)][_0x2de41a][_0x4e94f1(0x176)];const _0x41ddb1=this['getFilePath'](_0x2de41a),_0x4b2f04=path[_0x4e94f1(0x183)](_0x41ddb1);if(fs['existsSync'](_0x4b2f04)){const _0x4d2ffc=JSON['parse'](fs['readFileSync'](_0x41ddb1)[_0x4e94f1(0x191)]());return this[_0x4e94f1(0x146)][_0x2de41a]=_0x4d2ffc,this['tests'][_0x2de41a][_0x4e94f1(0x176)];}return this[_0x4e94f1(0x146)][_0x2de41a]={'uuid':_0x4e7c9d[_0x4e94f1(0x135)](uuidv4)},fs['writeFileSync'](_0x41ddb1,JSON[_0x4e94f1(0x14a)](this[_0x4e94f1(0x146)][_0x2de41a])),this[_0x4e94f1(0x146)][_0x2de41a][_0x4e94f1(0x176)];}catch(_0x562eef){return logger[_0x4e94f1(0x171)](_0x4e94f1(0x15e)+_0x2de41a+':\x20'+_0x562eef[_0x4e94f1(0x150)]),null;}}static[a54_0x298fad(0x180)](_0x22f6a5){const _0x10426f=a54_0x298fad,_0x6ce17=path[_0x10426f(0x145)](this[_0x10426f(0x17e)],_0x22f6a5+'_platformDetails.json');if(fs[_0x10426f(0x151)](_0x6ce17))return fs[_0x10426f(0x16f)](_0x6ce17)[_0x10426f(0x191)]();}static['setAccessibilityPlatformValidation'](_0x3cdd7b,_0x5ccff5){const _0x5c511e=a54_0x298fad,_0xe5c6ca=path[_0x5c511e(0x145)](this[_0x5c511e(0x17e)],_0x5ccff5+'_platformDetails.json');fs[_0x5c511e(0x17c)](_0xe5c6ca,_0x3cdd7b['toString']());}static[a54_0x298fad(0x133)](){const _0x254532=a54_0x298fad,_0x1924f2={};_0x1924f2[_0x254532(0x18d)]=!![],_0x1924f2[_0x254532(0x174)]=!![],fs['rmSync'](this[_0x254532(0x17e)],_0x1924f2);}static[a54_0x298fad(0x170)](_0x5b71d5){const _0x46df34=a54_0x298fad,_0x428fe4=this[_0x46df34(0x186)](_0x5b71d5);if(fs[_0x46df34(0x151)](_0x428fe4))try{const _0xd7402=JSON[_0x46df34(0x19b)](fs['readFileSync'](_0x428fe4)['toString']());return this[_0x46df34(0x146)][_0x5b71d5]=_0xd7402,_0xd7402;}catch(_0x5928b0){return logger[_0x46df34(0x188)]('Failed\x20to\x20acquire\x20lock\x20for\x20'+_0x428fe4+':\x20'+util[_0x46df34(0x177)](_0x5928b0)+'.\x20Returning\x20empty\x20test\x20details.'),{};}return{};}static['setTestDetails'](_0x2ca7ef,_0x440b44){const _0x4a35b7=a54_0x298fad,_0x24def9={'dBHvr':_0x4a35b7(0x15c),'cZita':function(_0x5e68f3){return _0x5e68f3();}};logger['debug'](_0x24def9[_0x4a35b7(0x14b)]),logger[_0x4a35b7(0x15b)]('processId:\x20'+process[_0x4a35b7(0x197)]+_0x4a35b7(0x152)+_0x2ca7ef+_0x4a35b7(0x18c)+JSON[_0x4a35b7(0x14a)](_0x440b44));const _0x4bec89=this[_0x4a35b7(0x186)](_0x2ca7ef);if(fs[_0x4a35b7(0x151)](_0x4bec89))try{const _0x198103=lockfile[_0x4a35b7(0x172)](_0x4bec89),_0x49e342=JSON[_0x4a35b7(0x19b)](fs['readFileSync'](_0x4bec89)['toString']()),_0x48bb57={..._0x49e342,..._0x440b44};this['tests'][_0x2ca7ef]=_0x48bb57,fs[_0x4a35b7(0x17c)](_0x4bec89,JSON['stringify'](this[_0x4a35b7(0x146)][_0x2ca7ef])),_0x24def9[_0x4a35b7(0x175)](_0x198103);}catch(_0x272054){logger[_0x4a35b7(0x188)](_0x4a35b7(0x169)+_0x4bec89+':\x20'+util['format'](_0x272054)+_0x4a35b7(0x196));}}static['addTraceFilePath'](_0x5c0770){const _0x4c33fc=a54_0x298fad,_0x4aa076={};_0x4aa076[_0x4c33fc(0x137)]=_0x4c33fc(0x18b);const _0x481d55=_0x4aa076;try{const _0x3f0242=process[_0x4c33fc(0x197)],_0x1a7e09=path['join'](TestInfo[_0x4c33fc(0x14f)](),_0x3f0242+_0x4c33fc(0x167));let _0x460184=[];fs[_0x4c33fc(0x151)](_0x1a7e09)&&(_0x460184=JSON[_0x4c33fc(0x19b)](fs[_0x4c33fc(0x16f)](_0x1a7e09)['toString']()));if(!_0x460184[_0x4c33fc(0x19c)](_0x43f2d2=>_0x43f2d2['filePath']===_0x5c0770['filePath'])){_0x460184[_0x4c33fc(0x143)](_0x5c0770);const _0x245858=path[_0x4c33fc(0x12f)](_0x1a7e09);if(!fs['existsSync'](_0x245858)){const _0x55f0ba={};_0x55f0ba[_0x4c33fc(0x18d)]=!![],fs[_0x4c33fc(0x184)](_0x245858,_0x55f0ba);}fs[_0x4c33fc(0x17c)](_0x1a7e09,JSON[_0x4c33fc(0x14a)](_0x460184));}}catch(_0x5756c4){logger['error'](util[_0x4c33fc(0x177)](_0x481d55[_0x4c33fc(0x137)],_0x5756c4));}}static[a54_0x298fad(0x17a)](){const _0x236a6a=a54_0x298fad,_0x285279={};_0x285279[_0x236a6a(0x12e)]=_0x236a6a(0x167),_0x285279['WHUHe']=_0x236a6a(0x18a);const _0x56e834=_0x285279,_0x159b30=[];try{const _0x1d14f4=TestInfo[_0x236a6a(0x14f)]();if(!fs[_0x236a6a(0x151)](_0x1d14f4))return _0x159b30;const _0xa3b1bb=fs['readdirSync'](_0x1d14f4);_0xa3b1bb[_0x236a6a(0x16e)](_0x4abc4d=>{const _0x2f2ef1=_0x236a6a;if(_0x4abc4d['endsWith'](_0x56e834[_0x2f2ef1(0x12e)])){const _0x3614ce=JSON[_0x2f2ef1(0x19b)](fs[_0x2f2ef1(0x16f)](path['join'](_0x1d14f4,_0x4abc4d))[_0x2f2ef1(0x191)]());_0x159b30[_0x2f2ef1(0x143)](..._0x3614ce);}});}catch(_0x48b824){logger['error'](util[_0x236a6a(0x177)](_0x56e834[_0x236a6a(0x14c)],_0x48b824));}const _0x5981e1={};return _0x159b30[_0x236a6a(0x16e)](_0x572154=>{const _0x318a27=_0x236a6a;_0x5981e1[_0x572154[_0x318a27(0x199)]]=_0x572154;}),Object['values'](_0x5981e1);}static[a54_0x298fad(0x178)](_0x46a0f5,_0x262bfd){const _0x1c5965=a54_0x298fad,_0x56d580={};_0x56d580['GCzXN']=_0x1c5965(0x18f),_0x56d580[_0x1c5965(0x192)]='utf8',_0x56d580[_0x1c5965(0x131)]=_0x1c5965(0x136);const _0x174402=_0x56d580;try{const _0xd663bc=path['join'](helper[_0x1c5965(0x148)](),_0x174402[_0x1c5965(0x16c)]);if(!fs[_0x1c5965(0x151)](_0xd663bc)){const _0x68b8fb={};_0x68b8fb[_0x1c5965(0x18d)]=!![],fs[_0x1c5965(0x184)](_0xd663bc,_0x68b8fb);}fs[_0x1c5965(0x13e)](path[_0x1c5965(0x145)](_0xd663bc,_0x1c5965(0x198)+_0x262bfd+_0x1c5965(0x16b)),_0x46a0f5+'\x0a',_0x174402['VXCPK']);}catch(_0x2165eb){logger[_0x1c5965(0x171)](util[_0x1c5965(0x177)](_0x174402[_0x1c5965(0x131)],_0x2165eb));}}}module['exports']=TestInfo;