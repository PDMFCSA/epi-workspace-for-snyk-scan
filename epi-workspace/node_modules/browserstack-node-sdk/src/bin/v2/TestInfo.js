const a56_0x56cd92=a56_0x29e9;(function(_0x1ab67c,_0x50b202){const _0x3b7f9d=a56_0x29e9,_0x18c3dc=_0x1ab67c();while(!![]){try{const _0x5c96b2=-parseInt(_0x3b7f9d(0x1b5))/0x1*(-parseInt(_0x3b7f9d(0x1bd))/0x2)+parseInt(_0x3b7f9d(0x1ed))/0x3*(-parseInt(_0x3b7f9d(0x20b))/0x4)+-parseInt(_0x3b7f9d(0x20e))/0x5*(parseInt(_0x3b7f9d(0x1e0))/0x6)+-parseInt(_0x3b7f9d(0x1a7))/0x7+parseInt(_0x3b7f9d(0x1cb))/0x8+parseInt(_0x3b7f9d(0x1cd))/0x9+parseInt(_0x3b7f9d(0x1c3))/0xa;if(_0x5c96b2===_0x50b202)break;else _0x18c3dc['push'](_0x18c3dc['shift']());}catch(_0x2b35d0){_0x18c3dc['push'](_0x18c3dc['shift']());}}}(a56_0x3c68,0x4ba54));const fs=require('fs'),path=require(a56_0x56cd92(0x1b7)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require('../../helpers/test-observability/constants'),{nestedKeyValue}=require(a56_0x56cd92(0x1f6)),logger=require(a56_0x56cd92(0x20a))[a56_0x56cd92(0x1cf)],util=require('util'),helper=require('../../helpers/helper'),{createClassLogger}=require(a56_0x56cd92(0x1ee)),lockfile=require('proper-lockfile');class TestInfo{static [a56_0x56cd92(0x1ff)]={};static [a56_0x56cd92(0x1b4)]=TestInfo[a56_0x56cd92(0x1b1)]();static [a56_0x56cd92(0x1dd)]=path[a56_0x56cd92(0x1f7)](TestInfo['dirPath'],a56_0x56cd92(0x1d0));['logger']=createClassLogger('TestInfo');static[a56_0x56cd92(0x1b6)](){const _0x32fc13=a56_0x56cd92,_0x40c514={};_0x40c514[_0x32fc13(0x20c)]='1|0|5|3|2|4',_0x40c514[_0x32fc13(0x1e8)]='traceZipPaths';const _0x4f6c6d=_0x40c514,_0x500c11=_0x4f6c6d[_0x32fc13(0x20c)]['split']('|');let _0x1080ec=0x0;while(!![]){switch(_0x500c11[_0x1080ec++]){case'0':this[_0x32fc13(0x1dd)]=path['join'](this[_0x32fc13(0x1b4)],_0x4f6c6d[_0x32fc13(0x1e8)]);continue;case'1':this[_0x32fc13(0x1b4)]=TestInfo['getStoreDirName']();continue;case'2':const _0x2410f1={};_0x2410f1[_0x32fc13(0x1fd)]=!![],fs['mkdirSync'](this[_0x32fc13(0x1dd)],_0x2410f1);continue;case'3':const _0x1f7d34={};_0x1f7d34[_0x32fc13(0x1fd)]=!![],fs[_0x32fc13(0x1e9)](this[_0x32fc13(0x1b4)],_0x1f7d34);continue;case'4':logger['info']('Setting\x20up\x20TestInfo\x20directory\x20at\x20'+this['dirPath']);continue;case'5':this[_0x32fc13(0x1c9)]();continue;}break;}}static[a56_0x56cd92(0x1b1)](){const _0x27fb69=a56_0x56cd92,_0x137e61={};_0x137e61[_0x27fb69(0x1f4)]=function(_0x3115b7,_0x1a94c8){return _0x3115b7+_0x1a94c8;};const _0x358ee4=_0x137e61;return _0x358ee4[_0x27fb69(0x1f4)](_0x358ee4['Xmabl'](TEMP_STORE_DIR_NAME,'-'),process[_0x27fb69(0x1d5)]['BS_TESTOPS_BUILD_HASHED_ID']);}static[a56_0x56cd92(0x1af)](){const _0x2778cc=a56_0x56cd92,_0x827816={};_0x827816[_0x2778cc(0x1a9)]=function(_0x3a4e7e,_0x128646){return _0x3a4e7e+_0x128646;},_0x827816[_0x2778cc(0x1c1)]=_0x2778cc(0x1bc);const _0x5e9cc7=_0x827816;return path[_0x2778cc(0x1f7)](_0x5e9cc7[_0x2778cc(0x1a9)](_0x5e9cc7[_0x2778cc(0x1a9)](TEMP_STORE_DIR_NAME,'-'),process[_0x2778cc(0x1d5)][_0x2778cc(0x200)]||_0x5e9cc7['ozIDg']));}static['getTraceZipDir'](){const _0x4fc035=a56_0x56cd92,_0xb96b60={};_0xb96b60['USspK']=_0x4fc035(0x1d0);const _0x42df97=_0xb96b60;return path['join'](this[_0x4fc035(0x1af)](),_0x42df97['USspK']);}static[a56_0x56cd92(0x209)](_0x73edfa){const _0x29c334=a56_0x56cd92,_0x4c8d62={};_0x4c8d62['lanNM']=function(_0x1fac50,_0x5c32a3){return _0x1fac50+_0x5c32a3;},_0x4c8d62[_0x29c334(0x1e6)]=_0x29c334(0x206);const _0x34dec0=_0x4c8d62;return path[_0x29c334(0x1f7)](this[_0x29c334(0x1b4)],_0x34dec0[_0x29c334(0x1fc)](_0x73edfa,_0x34dec0['GPpzZ']));}static[a56_0x56cd92(0x204)](_0x432431){const _0x8745b=a56_0x56cd92,_0xd6ed2a={};_0xd6ed2a[_0x8745b(0x207)]=function(_0x552042,_0x20e022){return _0x552042+_0x20e022;},_0xd6ed2a['ImZEF']=function(_0x514ebf,_0x1a6337){return _0x514ebf+_0x1a6337;};const _0x272be5=_0xd6ed2a;return _0x272be5[_0x8745b(0x207)](_0x272be5[_0x8745b(0x207)](_0x272be5['LjIXt'](_0x272be5[_0x8745b(0x1ad)](this[_0x8745b(0x1fa)](_0x432431),'-'),this['getTestIdFromTestInfo'](_0x432431)),'-'),_0x432431['retry']);}static['getProjectIdFromTestInfo'](_0x1e3d52){const _0x40eb58=a56_0x56cd92,_0x34d5a1={'otkTi':function(_0x45121e,_0x24ffb7,_0x2087d5){return _0x45121e(_0x24ffb7,_0x2087d5);},'QaJif':'_test','GdFfx':_0x40eb58(0x1d7),'lcKiq':'project','igItp':_0x40eb58(0x1b8)};return _0x34d5a1[_0x40eb58(0x1de)](nestedKeyValue,_0x1e3d52,[_0x34d5a1[_0x40eb58(0x1f2)],_0x34d5a1['GdFfx']])||_0x34d5a1['otkTi'](nestedKeyValue,_0x1e3d52,[_0x34d5a1[_0x40eb58(0x1f9)],_0x34d5a1[_0x40eb58(0x1e3)]]);}static['getTestIdFromTestInfo'](_0x4d2e95){const _0x17e4ef=a56_0x56cd92,_0x559896={'BVbbe':function(_0x2f7b46,_0x45414b,_0x46fe46){return _0x2f7b46(_0x45414b,_0x46fe46);},'YicoX':_0x17e4ef(0x203)};return _0x559896[_0x17e4ef(0x1b0)](nestedKeyValue,_0x4d2e95,[_0x559896[_0x17e4ef(0x1d4)],'id'])||_0x4d2e95['testId'];}static[a56_0x56cd92(0x1ca)](_0x757597){const _0x2a5983=a56_0x56cd92,_0x123198={'GOcBg':function(_0xfd1e2a,_0x1dccb9){return _0xfd1e2a===_0x1dccb9;},'KFEIJ':_0x2a5983(0x1f3),'BndmY':function(_0x3d74e0){return _0x3d74e0();}};try{if(this[_0x2a5983(0x1ff)][_0x757597]&&_0x123198[_0x2a5983(0x1d3)](typeof this[_0x2a5983(0x1ff)][_0x757597]['uuid'],_0x123198['KFEIJ']))return this[_0x2a5983(0x1ff)][_0x757597][_0x2a5983(0x1a8)];const _0x3a8341=this['getFilePath'](_0x757597),_0xd9579=path[_0x2a5983(0x1e7)](_0x3a8341);if(fs['existsSync'](_0xd9579)){const _0x5175da=JSON[_0x2a5983(0x1da)](fs[_0x2a5983(0x1d9)](_0x3a8341)['toString']());return this[_0x2a5983(0x1ff)][_0x757597]=_0x5175da,this['tests'][_0x757597][_0x2a5983(0x1a8)];}return this[_0x2a5983(0x1ff)][_0x757597]={'uuid':_0x123198[_0x2a5983(0x1e2)](uuidv4)},fs[_0x2a5983(0x1ac)](_0x3a8341,JSON[_0x2a5983(0x1d2)](this['tests'][_0x757597])),this[_0x2a5983(0x1ff)][_0x757597][_0x2a5983(0x1a8)];}catch(_0x17dd26){return logger[_0x2a5983(0x1e5)](_0x2a5983(0x1c4)+_0x757597+':\x20'+_0x17dd26[_0x2a5983(0x1eb)]),null;}}static[a56_0x56cd92(0x1aa)](_0x52b9eb){const _0x40f1c7=a56_0x56cd92,_0x5614d9=path[_0x40f1c7(0x1f7)](this['dirPath'],_0x52b9eb+'_platformDetails.json');if(fs[_0x40f1c7(0x1d6)](_0x5614d9))return fs[_0x40f1c7(0x1d9)](_0x5614d9)[_0x40f1c7(0x1ae)]();}static['setAccessibilityPlatformValidation'](_0x24bc2a,_0x374d94){const _0x43b6c6=a56_0x56cd92,_0x1d9e9b=path[_0x43b6c6(0x1f7)](this['dirPath'],_0x374d94+'_platformDetails.json');fs[_0x43b6c6(0x1ac)](_0x1d9e9b,_0x24bc2a['toString']());}static[a56_0x56cd92(0x1c9)](){const _0x483653=a56_0x56cd92,_0x53933f={};_0x53933f['recursive']=!![],_0x53933f['force']=!![],fs['rmSync'](this[_0x483653(0x1b4)],_0x53933f);}static['getTestDetails'](_0x496da8){const _0x1385eb=a56_0x56cd92,_0x426d46=this[_0x1385eb(0x209)](_0x496da8);if(fs[_0x1385eb(0x1d6)](_0x426d46))try{const _0x23e856=JSON[_0x1385eb(0x1da)](fs['readFileSync'](_0x426d46)[_0x1385eb(0x1ae)]());return this[_0x1385eb(0x1ff)][_0x496da8]=_0x23e856,_0x23e856;}catch(_0x6a17b6){return logger[_0x1385eb(0x1ab)](_0x1385eb(0x201)+_0x426d46+':\x20'+util[_0x1385eb(0x1ce)](_0x6a17b6)+_0x1385eb(0x1c0)),{};}return{};}static[a56_0x56cd92(0x1c8)](_0xc50f38,_0x504948,_0x578307=![]){const _0xe2e761=a56_0x56cd92,_0x11a40c={'cdbAu':_0xe2e761(0x1c2),'sbWdk':function(_0x370f88){return _0x370f88();}};logger[_0xe2e761(0x20d)](_0x11a40c[_0xe2e761(0x1db)]),logger[_0xe2e761(0x20d)]('processId:\x20'+process[_0xe2e761(0x1b3)]+'\x20Setting\x20\x20test\x20details\x20for\x20'+_0xc50f38+_0xe2e761(0x208)+JSON[_0xe2e761(0x1d2)](_0x504948));const _0x2566d1=this[_0xe2e761(0x209)](_0xc50f38);if(fs[_0xe2e761(0x1d6)](_0x2566d1))try{const _0x3f2c0a=lockfile[_0xe2e761(0x1c5)](_0x2566d1),_0x2c692f=JSON[_0xe2e761(0x1da)](fs[_0xe2e761(0x1d9)](_0x2566d1)['toString']());if(_0x578307)this[_0xe2e761(0x1ff)][_0xc50f38]=helper[_0xe2e761(0x1b2)](_0x2c692f,_0x504948);else{const _0x52878a={..._0x2c692f,..._0x504948};this[_0xe2e761(0x1ff)][_0xc50f38]=_0x52878a;}fs[_0xe2e761(0x1ac)](_0x2566d1,JSON[_0xe2e761(0x1d2)](this['tests'][_0xc50f38])),_0x11a40c['sbWdk'](_0x3f2c0a);}catch(_0x63d8b7){logger[_0xe2e761(0x1ab)](_0xe2e761(0x201)+_0x2566d1+':\x20'+util[_0xe2e761(0x1ce)](_0x63d8b7)+_0xe2e761(0x1ea));}}static[a56_0x56cd92(0x1dc)](_0xbe68f2){const _0x30c2b2=a56_0x56cd92,_0x4ceaa8={};_0x4ceaa8['hiohn']=_0x30c2b2(0x1ef);const _0x1322ed=_0x4ceaa8;try{const _0x2ed704=process[_0x30c2b2(0x1b3)],_0x5c6746=path[_0x30c2b2(0x1f7)](TestInfo['getTraceZipDir'](),_0x2ed704+_0x30c2b2(0x1d1));let _0x2a7d38=[];fs[_0x30c2b2(0x1d6)](_0x5c6746)&&(_0x2a7d38=JSON[_0x30c2b2(0x1da)](fs[_0x30c2b2(0x1d9)](_0x5c6746)[_0x30c2b2(0x1ae)]()));if(!_0x2a7d38[_0x30c2b2(0x202)](_0x37814b=>_0x37814b['filePath']===_0xbe68f2[_0x30c2b2(0x205)])){_0x2a7d38[_0x30c2b2(0x1be)](_0xbe68f2);const _0x5f5d0f=path['dirname'](_0x5c6746);if(!fs[_0x30c2b2(0x1d6)](_0x5f5d0f)){const _0x4f5664={};_0x4f5664[_0x30c2b2(0x1fd)]=!![],fs[_0x30c2b2(0x1e9)](_0x5f5d0f,_0x4f5664);}fs[_0x30c2b2(0x1ac)](_0x5c6746,JSON[_0x30c2b2(0x1d2)](_0x2a7d38));}}catch(_0x28cae){logger['error'](util[_0x30c2b2(0x1ce)](_0x1322ed[_0x30c2b2(0x1c6)],_0x28cae));}}static[a56_0x56cd92(0x1bf)](){const _0x9f4d5b=a56_0x56cd92,_0x377d30={};_0x377d30['ZsGcR']=_0x9f4d5b(0x1d1),_0x377d30[_0x9f4d5b(0x1ec)]=_0x9f4d5b(0x1c7);const _0x188114=_0x377d30,_0x49471c=[];try{const _0x3c9c93=TestInfo[_0x9f4d5b(0x1f1)]();if(!fs[_0x9f4d5b(0x1d6)](_0x3c9c93))return _0x49471c;const _0x2aff5e=fs[_0x9f4d5b(0x1cc)](_0x3c9c93);_0x2aff5e['forEach'](_0x496f11=>{const _0x154ba4=_0x9f4d5b;if(_0x496f11['endsWith'](_0x188114[_0x154ba4(0x1e1)])){const _0x452037=JSON[_0x154ba4(0x1da)](fs[_0x154ba4(0x1d9)](path[_0x154ba4(0x1f7)](_0x3c9c93,_0x496f11))[_0x154ba4(0x1ae)]());_0x49471c[_0x154ba4(0x1be)](..._0x452037);}});}catch(_0xcf575b){logger[_0x9f4d5b(0x1e5)](util[_0x9f4d5b(0x1ce)](_0x188114[_0x9f4d5b(0x1ec)],_0xcf575b));}const _0x815a62={};return _0x49471c[_0x9f4d5b(0x1fb)](_0x2acee6=>{const _0x47c687=_0x9f4d5b;_0x815a62[_0x2acee6[_0x47c687(0x205)]]=_0x2acee6;}),Object[_0x9f4d5b(0x1f5)](_0x815a62);}static[a56_0x56cd92(0x1bb)](_0xc5c38f,_0x173cb7){const _0x1e9511=a56_0x56cd92,_0xc0963d={};_0xc0963d[_0x1e9511(0x1ba)]=_0x1e9511(0x1f8),_0xc0963d['IbbQB']=_0x1e9511(0x1fe),_0xc0963d[_0x1e9511(0x1b9)]='Error\x20writing\x20trace\x20file:\x20%O';const _0xdad1f4=_0xc0963d;try{const _0x38bb=path[_0x1e9511(0x1f7)](helper['homedir'](),_0xdad1f4[_0x1e9511(0x1ba)]);if(!fs[_0x1e9511(0x1d6)](_0x38bb)){const _0x1eaadf={};_0x1eaadf[_0x1e9511(0x1fd)]=!![],fs['mkdirSync'](_0x38bb,_0x1eaadf);}fs[_0x1e9511(0x1e4)](path[_0x1e9511(0x1f7)](_0x38bb,_0x1e9511(0x1d8)+_0x173cb7+'.txt'),_0xc5c38f+'\x0a',_0xdad1f4[_0x1e9511(0x1df)]);}catch(_0xc61b4d){logger[_0x1e9511(0x1e5)](util[_0x1e9511(0x1ce)](_0xdad1f4[_0x1e9511(0x1b9)],_0xc61b4d));}}}function a56_0x29e9(_0x52ebb5,_0x6b6dd0){const _0x3c6832=a56_0x3c68();return a56_0x29e9=function(_0x29e920,_0x4de2d9){_0x29e920=_0x29e920-0x1a7;let _0x8abad=_0x3c6832[_0x29e920];return _0x8abad;},a56_0x29e9(_0x52ebb5,_0x6b6dd0);}function a56_0x3c68(){const _0x5584a5=['155nCOAQv','setup','path','__projectId','EVaoK','TtKUb','appendToTracePaths','default','2404GgGbdd','push','getTraceFilePaths','.\x20Returning\x20empty\x20test\x20details.','ozIDg','setTestDetails\x20','3246880rqfOIe','Error\x20while\x20getting\x20test\x20UUID\x20for\x20','lockSync','hiohn','Error\x20reading\x20trace\x20file\x20paths:\x20%O','setTestDetails','shutdown','getTestUUID','2786128ZqwtSY','readdirSync','3591090amZmkE','format','winstonLogger','traceZipPaths','_traceZipPaths.json','stringify','GOcBg','YicoX','env','existsSync','_projectId','trace_','readFileSync','parse','cdbAu','addTraceFilePath','traceZipDir','otkTi','IbbQB','165654LBkokj','ZsGcR','BndmY','igItp','appendFileSync','error','GPpzZ','resolve','QGBnz','mkdirSync','.\x20Unable\x20to\x20set\x20test\x20details.','message','BzWnH','43035bZOKls','../../helpers/classLogger.js','Error\x20handling\x20trace\x20file\x20paths:\x20%O','exports','getTraceZipDir','QaJif','string','Xmabl','values','../../helpers/helper','join','.browserstack','lcKiq','getProjectIdFromTestInfo','forEach','lanNM','recursive','utf8','tests','BS_TESTOPS_BUILD_HASHED_ID','Failed\x20to\x20acquire\x20lock\x20for\x20','some','_test','getTestRunIdFromTestInfo','filePath','.json','LjIXt','\x20with\x20details:\x20','getFilePath','../../helpers/logger','104eOZgdf','KaSyl','debug','40fzynpN','2482116GoHSfj','uuid','HBQHI','getAccessibilityPlatformValidation','warn','writeFileSync','ImZEF','toString','getStoreDirPath','BVbbe','getStoreDirName','mergeDeep','pid','dirPath'];a56_0x3c68=function(){return _0x5584a5;};return a56_0x3c68();}module[a56_0x56cd92(0x1f0)]=TestInfo;