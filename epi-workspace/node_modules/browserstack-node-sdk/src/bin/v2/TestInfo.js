const a58_0x3e1e37=a58_0x3941;(function(_0x119e6e,_0x3d067f){const _0x1faeb3=a58_0x3941,_0x3c65c3=_0x119e6e();while(!![]){try{const _0x513c87=-parseInt(_0x1faeb3(0x106))/0x1*(-parseInt(_0x1faeb3(0x127))/0x2)+-parseInt(_0x1faeb3(0x130))/0x3*(-parseInt(_0x1faeb3(0x148))/0x4)+-parseInt(_0x1faeb3(0x154))/0x5*(-parseInt(_0x1faeb3(0x10e))/0x6)+-parseInt(_0x1faeb3(0x133))/0x7*(parseInt(_0x1faeb3(0xf4))/0x8)+parseInt(_0x1faeb3(0x149))/0x9+parseInt(_0x1faeb3(0xf0))/0xa+-parseInt(_0x1faeb3(0x156))/0xb*(parseInt(_0x1faeb3(0x14c))/0xc);if(_0x513c87===_0x3d067f)break;else _0x3c65c3['push'](_0x3c65c3['shift']());}catch(_0x2d0a81){_0x3c65c3['push'](_0x3c65c3['shift']());}}}(a58_0x2915,0xf1f96));function a58_0x3941(_0x5305ea,_0x1a106e){const _0x291592=a58_0x2915();return a58_0x3941=function(_0x3941bc,_0x27aadb){_0x3941bc=_0x3941bc-0xec;let _0xb33d0=_0x291592[_0x3941bc];return _0xb33d0;},a58_0x3941(_0x5305ea,_0x1a106e);}const fs=require('fs'),path=require(a58_0x3e1e37(0x14a)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require(a58_0x3e1e37(0x145)),{nestedKeyValue}=require(a58_0x3e1e37(0x136)),logger=require('../../helpers/logger')[a58_0x3e1e37(0xf8)],util=require(a58_0x3e1e37(0x13a)),helper=require('../../helpers/helper'),{createClassLogger}=require('../../helpers/classLogger.js'),lockfile=require(a58_0x3e1e37(0xf2));class TestInfo{static [a58_0x3e1e37(0x11c)]={};static [a58_0x3e1e37(0x155)]=TestInfo[a58_0x3e1e37(0x11d)]();static [a58_0x3e1e37(0x143)]=path[a58_0x3e1e37(0x13f)](TestInfo[a58_0x3e1e37(0x155)],a58_0x3e1e37(0x10b));[a58_0x3e1e37(0x135)]=createClassLogger(a58_0x3e1e37(0x128));static['setup'](){const _0x469716=a58_0x3e1e37,_0x5f4dbf={};_0x5f4dbf[_0x469716(0x159)]=_0x469716(0x131),_0x5f4dbf['EydtM']=_0x469716(0x10b);const _0x47f9e5=_0x5f4dbf,_0x3f75f2=_0x47f9e5['RqsBp'][_0x469716(0x116)]('|');let _0x4535a4=0x0;while(!![]){switch(_0x3f75f2[_0x4535a4++]){case'0':this['traceZipDir']=path['join'](this['dirPath'],_0x47f9e5[_0x469716(0x153)]);continue;case'1':const _0x1f8f41={};_0x1f8f41[_0x469716(0x10f)]=!![],fs[_0x469716(0x158)](this[_0x469716(0x143)],_0x1f8f41);continue;case'2':const _0x3889f8={};_0x3889f8[_0x469716(0x10f)]=!![],fs[_0x469716(0x158)](this[_0x469716(0x155)],_0x3889f8);continue;case'3':this[_0x469716(0x155)]=TestInfo[_0x469716(0x11d)]();continue;case'4':logger['info'](_0x469716(0xee)+this[_0x469716(0x155)]);continue;case'5':this[_0x469716(0x101)]();continue;}break;}}static[a58_0x3e1e37(0x11d)](){const _0x311b1b=a58_0x3e1e37,_0x1e084d={};_0x1e084d[_0x311b1b(0x112)]=function(_0x30d5d4,_0x426272){return _0x30d5d4+_0x426272;},_0x1e084d[_0x311b1b(0x121)]=function(_0x3f7a25,_0x1c14e0){return _0x3f7a25+_0x1c14e0;};const _0x26e5d9=_0x1e084d;return _0x26e5d9['eeFmR'](_0x26e5d9[_0x311b1b(0x121)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x311b1b(0xfe)]);}static['getStoreDirPath'](){const _0x6b0975=a58_0x3e1e37,_0x28dc72={};_0x28dc72[_0x6b0975(0xef)]=function(_0x335c99,_0x23eadd){return _0x335c99+_0x23eadd;},_0x28dc72[_0x6b0975(0x117)]=function(_0xd224fa,_0x2f3bab){return _0xd224fa+_0x2f3bab;},_0x28dc72[_0x6b0975(0x10d)]=_0x6b0975(0x151);const _0xe8af0a=_0x28dc72;return path[_0x6b0975(0x13f)](_0xe8af0a[_0x6b0975(0xef)](_0xe8af0a[_0x6b0975(0x117)](TEMP_STORE_DIR_NAME,'-'),process[_0x6b0975(0xfd)]['BS_TESTOPS_BUILD_HASHED_ID']||_0xe8af0a[_0x6b0975(0x10d)]));}static[a58_0x3e1e37(0xf5)](){const _0x3e2af3=a58_0x3e1e37,_0x150ed7={};_0x150ed7['NmCgb']=_0x3e2af3(0x10b);const _0x4e2e1f=_0x150ed7;return path[_0x3e2af3(0x13f)](this[_0x3e2af3(0x11a)](),_0x4e2e1f[_0x3e2af3(0xf1)]);}static['getFilePath'](_0x161cac){const _0x31b5b2=a58_0x3e1e37,_0x2b1463={};_0x2b1463['SNhZj']=function(_0x3baf51,_0x3d4c18){return _0x3baf51+_0x3d4c18;},_0x2b1463['uygxI']=_0x31b5b2(0xfb);const _0x4ad865=_0x2b1463;return path[_0x31b5b2(0x13f)](this[_0x31b5b2(0x155)],_0x4ad865[_0x31b5b2(0x111)](_0x161cac,_0x4ad865['uygxI']));}static[a58_0x3e1e37(0x103)](_0x498cef){const _0x5b6f99=a58_0x3e1e37,_0x5e5682={};_0x5e5682[_0x5b6f99(0x13e)]=function(_0x1fdbc6,_0x3b4db3){return _0x1fdbc6+_0x3b4db3;},_0x5e5682[_0x5b6f99(0x11e)]=function(_0x3f5f4b,_0x20d6ba){return _0x3f5f4b+_0x20d6ba;};const _0x512f3a=_0x5e5682;return _0x512f3a[_0x5b6f99(0x13e)](_0x512f3a[_0x5b6f99(0x13e)](_0x512f3a['cnpOw'](_0x512f3a[_0x5b6f99(0x13e)](this['getProjectIdFromTestInfo'](_0x498cef),'-'),this[_0x5b6f99(0x100)](_0x498cef)),'-'),_0x498cef[_0x5b6f99(0xf7)]);}static['getProjectIdFromTestInfo'](_0x169734){const _0x4769ec=a58_0x3e1e37,_0x1dbd4b={'bPCxD':function(_0x33a503,_0x3b6354,_0x5798dc){return _0x33a503(_0x3b6354,_0x5798dc);},'DvDJv':_0x4769ec(0x140),'PaTtP':_0x4769ec(0xfa),'Awhzf':'project','MeYcf':_0x4769ec(0x113)};return _0x1dbd4b[_0x4769ec(0x102)](nestedKeyValue,_0x169734,[_0x1dbd4b[_0x4769ec(0x10a)],_0x1dbd4b[_0x4769ec(0x104)]])||_0x1dbd4b[_0x4769ec(0x102)](nestedKeyValue,_0x169734,[_0x1dbd4b[_0x4769ec(0x132)],_0x1dbd4b[_0x4769ec(0x105)]]);}static['getTestIdFromTestInfo'](_0x3d4312){const _0x2c6de1=a58_0x3e1e37,_0xb8b142={'pzCeY':function(_0x362f62,_0x35c028,_0xa3166a){return _0x362f62(_0x35c028,_0xa3166a);},'yAzMg':_0x2c6de1(0x140)};return _0xb8b142['pzCeY'](nestedKeyValue,_0x3d4312,[_0xb8b142['yAzMg'],'id'])||_0x3d4312[_0x2c6de1(0x12e)];}static['getTestUUID'](_0x58ebac){const _0x2c2384=a58_0x3e1e37,_0x7ae26a={'bUzDM':function(_0x473f5e,_0x550f52){return _0x473f5e===_0x550f52;},'OTSVk':'string','jeADq':function(_0x350fb5){return _0x350fb5();}};try{if(this[_0x2c2384(0x11c)][_0x58ebac]&&_0x7ae26a['bUzDM'](typeof this[_0x2c2384(0x11c)][_0x58ebac][_0x2c2384(0x141)],_0x7ae26a['OTSVk']))return this[_0x2c2384(0x11c)][_0x58ebac][_0x2c2384(0x141)];const _0x3cfc74=this[_0x2c2384(0x124)](_0x58ebac),_0x1918e9=path['resolve'](_0x3cfc74);if(fs[_0x2c2384(0x13c)](_0x1918e9)){const _0x4ddb8e=JSON[_0x2c2384(0x13b)](fs['readFileSync'](_0x3cfc74)[_0x2c2384(0xec)]());return this['tests'][_0x58ebac]=_0x4ddb8e,this['tests'][_0x58ebac][_0x2c2384(0x141)];}return this[_0x2c2384(0x11c)][_0x58ebac]={'uuid':_0x7ae26a[_0x2c2384(0x12b)](uuidv4)},fs['writeFileSync'](_0x3cfc74,JSON[_0x2c2384(0x138)](this[_0x2c2384(0x11c)][_0x58ebac])),this['tests'][_0x58ebac][_0x2c2384(0x141)];}catch(_0x5a3452){return logger[_0x2c2384(0x12c)](_0x2c2384(0x12d)+_0x58ebac+':\x20'+_0x5a3452[_0x2c2384(0x14e)]),null;}}static[a58_0x3e1e37(0x12a)](_0x3e19ea){const _0x1a7ed0=a58_0x3e1e37,_0x4584bc=path['join'](this[_0x1a7ed0(0x155)],_0x3e19ea+'_platformDetails.json');if(fs['existsSync'](_0x4584bc))return fs[_0x1a7ed0(0x147)](_0x4584bc)['toString']();}static[a58_0x3e1e37(0x108)](_0x373cb3,_0x575093){const _0x874a33=a58_0x3e1e37,_0x4b2864=path['join'](this['dirPath'],_0x575093+_0x874a33(0x150));fs['writeFileSync'](_0x4b2864,_0x373cb3[_0x874a33(0xec)]());}static[a58_0x3e1e37(0x101)](){const _0x3ef231=a58_0x3e1e37,_0x5a00e6={};_0x5a00e6[_0x3ef231(0x10f)]=!![],_0x5a00e6[_0x3ef231(0x118)]=!![],fs['rmSync'](this[_0x3ef231(0x155)],_0x5a00e6);}static[a58_0x3e1e37(0x109)](_0x561b36){const _0x56f829=a58_0x3e1e37,_0x216044=this[_0x56f829(0x124)](_0x561b36);if(fs[_0x56f829(0x13c)](_0x216044))try{const _0x167d23=JSON[_0x56f829(0x13b)](fs[_0x56f829(0x147)](_0x216044)[_0x56f829(0xec)]());return this[_0x56f829(0x11c)][_0x561b36]=_0x167d23,_0x167d23;}catch(_0x5e41b6){return logger['warn'](_0x56f829(0x119)+_0x216044+':\x20'+util[_0x56f829(0x10c)](_0x5e41b6)+_0x56f829(0x157)),{};}return{};}static['setTestDetails'](_0x4b06f9,_0x4e5911,_0x3810fd=![]){const _0x160563=a58_0x3e1e37,_0x2e62ea={'wfHzK':_0x160563(0x129),'aSSTV':function(_0x405bfd){return _0x405bfd();}};logger[_0x160563(0x139)](_0x2e62ea[_0x160563(0xff)]),logger[_0x160563(0x139)](_0x160563(0x126)+process[_0x160563(0x134)]+'\x20Setting\x20\x20test\x20details\x20for\x20'+_0x4b06f9+_0x160563(0xf6)+JSON[_0x160563(0x138)](_0x4e5911));const _0x1dee70=this['getFilePath'](_0x4b06f9);if(fs[_0x160563(0x13c)](_0x1dee70))try{const _0x447171=lockfile[_0x160563(0x120)](_0x1dee70),_0x1f8d22=JSON[_0x160563(0x13b)](fs[_0x160563(0x147)](_0x1dee70)[_0x160563(0xec)]());if(_0x3810fd)this[_0x160563(0x11c)][_0x4b06f9]=helper['mergeDeep'](_0x1f8d22,_0x4e5911);else{const _0x4692bb={..._0x1f8d22,..._0x4e5911};this[_0x160563(0x11c)][_0x4b06f9]=_0x4692bb;}fs[_0x160563(0x14f)](_0x1dee70,JSON[_0x160563(0x138)](this[_0x160563(0x11c)][_0x4b06f9])),_0x2e62ea['aSSTV'](_0x447171);}catch(_0x53fa33){logger['warn']('Failed\x20to\x20acquire\x20lock\x20for\x20'+_0x1dee70+':\x20'+util[_0x160563(0x10c)](_0x53fa33)+_0x160563(0xed));}}static[a58_0x3e1e37(0x122)](_0x631dc2){const _0x36bce9=a58_0x3e1e37,_0x1dbd99={};_0x1dbd99[_0x36bce9(0x114)]=_0x36bce9(0x123);const _0x75bfed=_0x1dbd99;try{const _0x2ada73=process[_0x36bce9(0x134)],_0x433326=path['join'](TestInfo[_0x36bce9(0xf5)](),_0x2ada73+_0x36bce9(0x142));let _0x2a2345=[];fs['existsSync'](_0x433326)&&(_0x2a2345=JSON['parse'](fs['readFileSync'](_0x433326)['toString']()));if(!_0x2a2345[_0x36bce9(0x125)](_0xe3e9c6=>_0xe3e9c6[_0x36bce9(0x13d)]===_0x631dc2[_0x36bce9(0x13d)])){_0x2a2345[_0x36bce9(0xfc)](_0x631dc2);const _0x388598=path['dirname'](_0x433326);if(!fs[_0x36bce9(0x13c)](_0x388598)){const _0x36a0f3={};_0x36a0f3[_0x36bce9(0x10f)]=!![],fs[_0x36bce9(0x158)](_0x388598,_0x36a0f3);}fs[_0x36bce9(0x14f)](_0x433326,JSON['stringify'](_0x2a2345));}}catch(_0x1eb42d){logger[_0x36bce9(0x12c)](util[_0x36bce9(0x10c)](_0x75bfed[_0x36bce9(0x114)],_0x1eb42d));}}static[a58_0x3e1e37(0xf3)](){const _0x5d8589=a58_0x3e1e37,_0x44fa13={};_0x44fa13[_0x5d8589(0x14d)]=_0x5d8589(0x142),_0x44fa13[_0x5d8589(0x11f)]=_0x5d8589(0xf9);const _0x584dc8=_0x44fa13,_0x8ca88a=[];try{const _0x520793=TestInfo['getTraceZipDir']();if(!fs[_0x5d8589(0x13c)](_0x520793))return _0x8ca88a;const _0x3df760=fs['readdirSync'](_0x520793);_0x3df760[_0x5d8589(0x110)](_0x1acbcd=>{const _0x1aba7c=_0x5d8589;if(_0x1acbcd[_0x1aba7c(0x152)](_0x584dc8[_0x1aba7c(0x14d)])){const _0x296de5=JSON['parse'](fs[_0x1aba7c(0x147)](path[_0x1aba7c(0x13f)](_0x520793,_0x1acbcd))[_0x1aba7c(0xec)]());_0x8ca88a[_0x1aba7c(0xfc)](..._0x296de5);}});}catch(_0x12c358){logger[_0x5d8589(0x12c)](util[_0x5d8589(0x10c)](_0x584dc8[_0x5d8589(0x11f)],_0x12c358));}const _0x20d6d3={};return _0x8ca88a[_0x5d8589(0x110)](_0x4052cc=>{_0x20d6d3[_0x4052cc['filePath']]=_0x4052cc;}),Object['values'](_0x20d6d3);}static['appendToTracePaths'](_0x376fe0,_0x3ab0df){const _0xec0914=a58_0x3e1e37,_0x5bf84f={};_0x5bf84f[_0xec0914(0x11b)]=_0xec0914(0x137),_0x5bf84f[_0xec0914(0x12f)]=_0xec0914(0x14b),_0x5bf84f['XbYSC']=_0xec0914(0x115);const _0x5562dc=_0x5bf84f;try{const _0x46aece=path[_0xec0914(0x13f)](helper[_0xec0914(0x146)](),_0x5562dc[_0xec0914(0x11b)]);if(!fs[_0xec0914(0x13c)](_0x46aece)){const _0x2c3c30={};_0x2c3c30[_0xec0914(0x10f)]=!![],fs[_0xec0914(0x158)](_0x46aece,_0x2c3c30);}fs['appendFileSync'](path['join'](_0x46aece,'trace_'+_0x3ab0df+'.txt'),_0x376fe0+'\x0a',_0x5562dc[_0xec0914(0x12f)]);}catch(_0x2b7710){logger['error'](util[_0xec0914(0x10c)](_0x5562dc[_0xec0914(0x144)],_0x2b7710));}}}module[a58_0x3e1e37(0x107)]=TestInfo;function a58_0x2915(){const _0x24ceb4=['Failed\x20to\x20acquire\x20lock\x20for\x20','getStoreDirPath','kTMoS','tests','getStoreDirName','cnpOw','vLYXH','lockSync','FAZXi','addTraceFilePath','Error\x20handling\x20trace\x20file\x20paths:\x20%O','getFilePath','some','processId:\x20','437572axyFIm','TestInfo','setTestDetails\x20','getAccessibilityPlatformValidation','jeADq','error','Error\x20while\x20getting\x20test\x20UUID\x20for\x20','testId','UAKpI','16677tCAIzH','3|0|5|2|1|4','Awhzf','1358119HTFttR','pid','logger','../../helpers/helper','.browserstack','stringify','debug','util','parse','existsSync','filePath','SZpZw','join','_test','uuid','_traceZipPaths.json','traceZipDir','XbYSC','../../helpers/test-observability/constants','homedir','readFileSync','728FuPpbJ','14662890kxPVFA','path','utf8','40966188qlgKZw','noxLs','message','writeFileSync','_platformDetails.json','default','endsWith','EydtM','2142610WeQBTr','dirPath','11VOQzGN','.\x20Returning\x20empty\x20test\x20details.','mkdirSync','RqsBp','toString','.\x20Unable\x20to\x20set\x20test\x20details.','Setting\x20up\x20TestInfo\x20directory\x20at\x20','HcVWs','4355920wbqvKu','NmCgb','proper-lockfile','getTraceFilePaths','8LOrDHD','getTraceZipDir','\x20with\x20details:\x20','retry','winstonLogger','Error\x20reading\x20trace\x20file\x20paths:\x20%O','_projectId','.json','push','env','BS_TESTOPS_BUILD_HASHED_ID','wfHzK','getTestIdFromTestInfo','shutdown','bPCxD','getTestRunIdFromTestInfo','PaTtP','MeYcf','5aFOHYM','exports','setAccessibilityPlatformValidation','getTestDetails','DvDJv','traceZipPaths','format','iFGum','6rgtOlc','recursive','forEach','SNhZj','eeFmR','__projectId','dLmep','Error\x20writing\x20trace\x20file:\x20%O','split','hJjED','force'];a58_0x2915=function(){return _0x24ceb4;};return a58_0x2915();}