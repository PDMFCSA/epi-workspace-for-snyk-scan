const a56_0x2bc7cb=a56_0x1f77;(function(_0x3eee17,_0x1d537a){const _0x3ef102=a56_0x1f77,_0x1d932d=_0x3eee17();while(!![]){try{const _0x5c9353=-parseInt(_0x3ef102(0xfc))/0x1+parseInt(_0x3ef102(0xd8))/0x2+parseInt(_0x3ef102(0x107))/0x3+-parseInt(_0x3ef102(0x137))/0x4+-parseInt(_0x3ef102(0xe1))/0x5*(parseInt(_0x3ef102(0x132))/0x6)+parseInt(_0x3ef102(0xf2))/0x7+parseInt(_0x3ef102(0xdb))/0x8;if(_0x5c9353===_0x1d537a)break;else _0x1d932d['push'](_0x1d932d['shift']());}catch(_0x49934f){_0x1d932d['push'](_0x1d932d['shift']());}}}(a56_0x4a89,0xe53b5));function a56_0x1f77(_0x149143,_0x4ac9ee){const _0x4a896e=a56_0x4a89();return a56_0x1f77=function(_0x1f77a7,_0x305224){_0x1f77a7=_0x1f77a7-0xd7;let _0x1ee9f3=_0x4a896e[_0x1f77a7];return _0x1ee9f3;},a56_0x1f77(_0x149143,_0x4ac9ee);}const fs=require('fs'),path=require(a56_0x2bc7cb(0x13c)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require('../../helpers/test-observability/constants'),{nestedKeyValue}=require(a56_0x2bc7cb(0x128)),logger=require(a56_0x2bc7cb(0x12f))[a56_0x2bc7cb(0xd7)],util=require(a56_0x2bc7cb(0x12e)),helper=require(a56_0x2bc7cb(0x128)),{createClassLogger}=require(a56_0x2bc7cb(0x115)),lockfile=require('proper-lockfile');function a56_0x4a89(){const _0x327f0b=['setTestDetails\x20','__projectId','1618422TCoeKb','join','Setting\x20up\x20TestInfo\x20directory\x20at\x20','uuid','existsSync','forEach','OByac','AlBai','dirPath','getTestUUID','GcDfX','3783510wbbgPc','getAccessibilityPlatformValidation','Error\x20handling\x20trace\x20file\x20paths:\x20%O','mkdirSync','getStoreDirName','shutdown','appendFileSync','recursive','\x20Setting\x20\x20test\x20details\x20for\x20','project','stringify','TestInfo','getTestRunIdFromTestInfo','Error\x20while\x20getting\x20test\x20UUID\x20for\x20','../../helpers/classLogger.js','tests','appendToTracePaths','gkesd','utf8','parse','getTestIdFromTestInfo','traceZipPaths','force','filePath','processId:\x20','_traceZipPaths.json','dqsKr','getTraceZipDir','TtKVR','debug','readdirSync','dirname','pid','../../helpers/helper','error','_platformDetails.json','string','dkCoC','homedir','util','../../helpers/logger','IJnIB','env','337554WKWaJz','RPbyK','getStoreDirPath','.browserstack','split','3599712SxMUCA','traceZipDir','qCmFS','some','resolve','path','rkZpt','setAccessibilityPlatformValidation','push','winstonLogger','670400QirCLQ','endsWith','getProjectIdFromTestInfo','779776OhwSCN','Error\x20reading\x20trace\x20file\x20paths:\x20%O','BS_TESTOPS_BUILD_HASHED_ID','exports','rmSync','KWuMO','10GttuHC','default','_projectId','testId','bkouL','setup','getFilePath','toString','_test','addTraceFilePath','readFileSync','jgHem','warn','Wlehp','.json','logger','.txt','13131713VxCYLQ','ZiHRt','Failed\x20to\x20acquire\x20lock\x20for\x20','format','\x20with\x20details:\x20','pAsuj','writeFileSync','HUEgZ'];a56_0x4a89=function(){return _0x327f0b;};return a56_0x4a89();}class TestInfo{static [a56_0x2bc7cb(0x116)]={};static [a56_0x2bc7cb(0x104)]=TestInfo[a56_0x2bc7cb(0x10b)]();static [a56_0x2bc7cb(0x138)]=path[a56_0x2bc7cb(0xfd)](TestInfo[a56_0x2bc7cb(0x104)],'traceZipPaths');[a56_0x2bc7cb(0xf0)]=createClassLogger(a56_0x2bc7cb(0x112));static[a56_0x2bc7cb(0xe6)](){const _0x368752=a56_0x2bc7cb,_0x2e0922={};_0x2e0922[_0x368752(0x133)]='4|3|5|2|0|1',_0x2e0922[_0x368752(0xf9)]=_0x368752(0x11c);const _0xa90468=_0x2e0922,_0x427ddf=_0xa90468[_0x368752(0x133)][_0x368752(0x136)]('|');let _0x49fe00=0x0;while(!![]){switch(_0x427ddf[_0x49fe00++]){case'0':const _0x2080af={};_0x2080af[_0x368752(0x10e)]=!![],fs['mkdirSync'](this[_0x368752(0x138)],_0x2080af);continue;case'1':logger['info'](_0x368752(0xfe)+this[_0x368752(0x104)]);continue;case'2':const _0x359d83={};_0x359d83[_0x368752(0x10e)]=!![],fs[_0x368752(0x10a)](this['dirPath'],_0x359d83);continue;case'3':this[_0x368752(0x138)]=path[_0x368752(0xfd)](this['dirPath'],_0xa90468[_0x368752(0xf9)]);continue;case'4':this[_0x368752(0x104)]=TestInfo[_0x368752(0x10b)]();continue;case'5':this[_0x368752(0x10c)]();continue;}break;}}static[a56_0x2bc7cb(0x10b)](){const _0x105280=a56_0x2bc7cb,_0x215a19={};_0x215a19[_0x105280(0xee)]=function(_0x9e2163,_0x4345a3){return _0x9e2163+_0x4345a3;};const _0x523037=_0x215a19;return _0x523037[_0x105280(0xee)](_0x523037[_0x105280(0xee)](TEMP_STORE_DIR_NAME,'-'),process[_0x105280(0x131)][_0x105280(0xdd)]);}static['getStoreDirPath'](){const _0x2476ba=a56_0x2bc7cb,_0x53c44f={};_0x53c44f['dqsKr']=function(_0xa47d75,_0x2388a3){return _0xa47d75+_0x2388a3;},_0x53c44f['IJnIB']=_0x2476ba(0xe2);const _0x144783=_0x53c44f;return path['join'](_0x144783[_0x2476ba(0x121)](_0x144783[_0x2476ba(0x121)](TEMP_STORE_DIR_NAME,'-'),process[_0x2476ba(0x131)][_0x2476ba(0xdd)]||_0x144783[_0x2476ba(0x130)]));}static[a56_0x2bc7cb(0x122)](){const _0x29ea29=a56_0x2bc7cb,_0x534d9a={};_0x534d9a['nTskW']='traceZipPaths';const _0x3df69d=_0x534d9a;return path[_0x29ea29(0xfd)](this[_0x29ea29(0x134)](),_0x3df69d['nTskW']);}static[a56_0x2bc7cb(0xe7)](_0x3e2fcf){const _0x1f5afe=a56_0x2bc7cb,_0x139b88={};_0x139b88['IptcI']=function(_0x1457e7,_0x2324ca){return _0x1457e7+_0x2324ca;},_0x139b88['ZiHRt']=_0x1f5afe(0xef);const _0x482be7=_0x139b88;return path[_0x1f5afe(0xfd)](this[_0x1f5afe(0x104)],_0x482be7['IptcI'](_0x3e2fcf,_0x482be7[_0x1f5afe(0xf3)]));}static[a56_0x2bc7cb(0x113)](_0x3602aa){const _0x5c5e57=a56_0x2bc7cb,_0x293b41={};_0x293b41['GcDfX']=function(_0x2ee76e,_0x14dc51){return _0x2ee76e+_0x14dc51;};const _0x3c55d5=_0x293b41;return _0x3c55d5[_0x5c5e57(0x106)](_0x3c55d5[_0x5c5e57(0x106)](_0x3c55d5[_0x5c5e57(0x106)](_0x3c55d5[_0x5c5e57(0x106)](this[_0x5c5e57(0xda)](_0x3602aa),'-'),this[_0x5c5e57(0x11b)](_0x3602aa)),'-'),_0x3602aa['retry']);}static[a56_0x2bc7cb(0xda)](_0x1de74d){const _0x8d4699=a56_0x2bc7cb,_0x21fdc4={'gkesd':function(_0x278c9d,_0x41e67e,_0x2ec57b){return _0x278c9d(_0x41e67e,_0x2ec57b);},'bkouL':_0x8d4699(0xe9),'VPilN':_0x8d4699(0xe3),'RiLta':_0x8d4699(0x110),'cUGmO':_0x8d4699(0xfb)};return _0x21fdc4[_0x8d4699(0x118)](nestedKeyValue,_0x1de74d,[_0x21fdc4[_0x8d4699(0xe5)],_0x21fdc4['VPilN']])||_0x21fdc4[_0x8d4699(0x118)](nestedKeyValue,_0x1de74d,[_0x21fdc4['RiLta'],_0x21fdc4['cUGmO']]);}static['getTestIdFromTestInfo'](_0x228e42){const _0x518620=a56_0x2bc7cb,_0x14c25b={'Knofm':function(_0x1dd8f2,_0x22cf77,_0x4507c5){return _0x1dd8f2(_0x22cf77,_0x4507c5);},'rkZpt':_0x518620(0xe9)};return _0x14c25b['Knofm'](nestedKeyValue,_0x228e42,[_0x14c25b[_0x518620(0x13d)],'id'])||_0x228e42[_0x518620(0xe4)];}static[a56_0x2bc7cb(0x105)](_0x1862a3){const _0x1a787b=a56_0x2bc7cb,_0x15e817={'pAsuj':function(_0x1fb02a,_0x4b1e5c){return _0x1fb02a===_0x4b1e5c;},'qCmFS':_0x1a787b(0x12b),'oQDlR':function(_0x83b5f6){return _0x83b5f6();}};try{if(this[_0x1a787b(0x116)][_0x1862a3]&&_0x15e817[_0x1a787b(0xf7)](typeof this[_0x1a787b(0x116)][_0x1862a3][_0x1a787b(0xff)],_0x15e817[_0x1a787b(0x139)]))return this[_0x1a787b(0x116)][_0x1862a3][_0x1a787b(0xff)];const _0x295399=this[_0x1a787b(0xe7)](_0x1862a3),_0x3ecdbf=path[_0x1a787b(0x13b)](_0x295399);if(fs[_0x1a787b(0x100)](_0x3ecdbf)){const _0x3116bf=JSON[_0x1a787b(0x11a)](fs[_0x1a787b(0xeb)](_0x295399)[_0x1a787b(0xe8)]());return this[_0x1a787b(0x116)][_0x1862a3]=_0x3116bf,this['tests'][_0x1862a3]['uuid'];}return this['tests'][_0x1862a3]={'uuid':_0x15e817['oQDlR'](uuidv4)},fs['writeFileSync'](_0x295399,JSON[_0x1a787b(0x111)](this['tests'][_0x1862a3])),this[_0x1a787b(0x116)][_0x1862a3][_0x1a787b(0xff)];}catch(_0x245c84){return logger[_0x1a787b(0x129)](_0x1a787b(0x114)+_0x1862a3+':\x20'+_0x245c84['message']),null;}}static[a56_0x2bc7cb(0x108)](_0x4ca043){const _0x1eb785=a56_0x2bc7cb,_0x251182=path[_0x1eb785(0xfd)](this[_0x1eb785(0x104)],_0x4ca043+'_platformDetails.json');if(fs[_0x1eb785(0x100)](_0x251182))return fs[_0x1eb785(0xeb)](_0x251182)[_0x1eb785(0xe8)]();}static[a56_0x2bc7cb(0x13e)](_0x419ceb,_0x575c62){const _0x2bfc10=a56_0x2bc7cb,_0x39d704=path[_0x2bfc10(0xfd)](this[_0x2bfc10(0x104)],_0x575c62+_0x2bfc10(0x12a));fs[_0x2bfc10(0xf8)](_0x39d704,_0x419ceb[_0x2bfc10(0xe8)]());}static['shutdown'](){const _0x77533b=a56_0x2bc7cb,_0x183650={};_0x183650['recursive']=!![],_0x183650[_0x77533b(0x11d)]=!![],fs[_0x77533b(0xdf)](this[_0x77533b(0x104)],_0x183650);}static['getTestDetails'](_0x322aa1){const _0xde977f=a56_0x2bc7cb,_0x8503d5=this[_0xde977f(0xe7)](_0x322aa1);if(fs[_0xde977f(0x100)](_0x8503d5))try{const _0x44268b=JSON['parse'](fs['readFileSync'](_0x8503d5)[_0xde977f(0xe8)]());return this['tests'][_0x322aa1]=_0x44268b,_0x44268b;}catch(_0x3aef20){return logger['warn'](_0xde977f(0xf4)+_0x8503d5+':\x20'+util[_0xde977f(0xf5)](_0x3aef20)+'.\x20Returning\x20empty\x20test\x20details.'),{};}return{};}static['setTestDetails'](_0x24dfe0,_0x11189d){const _0x57f487=a56_0x2bc7cb,_0x217aa0={'bBhle':_0x57f487(0xfa),'KXzLL':function(_0x4a7bd4){return _0x4a7bd4();}};logger[_0x57f487(0x124)](_0x217aa0['bBhle']),logger[_0x57f487(0x124)](_0x57f487(0x11f)+process[_0x57f487(0x127)]+_0x57f487(0x10f)+_0x24dfe0+_0x57f487(0xf6)+JSON[_0x57f487(0x111)](_0x11189d));const _0x52d51e=this[_0x57f487(0xe7)](_0x24dfe0);if(fs[_0x57f487(0x100)](_0x52d51e))try{const _0x31aed6=lockfile['lockSync'](_0x52d51e),_0x5c4aa3=JSON[_0x57f487(0x11a)](fs[_0x57f487(0xeb)](_0x52d51e)['toString']()),_0x36c1a6={..._0x5c4aa3,..._0x11189d};this['tests'][_0x24dfe0]=_0x36c1a6,fs[_0x57f487(0xf8)](_0x52d51e,JSON['stringify'](this[_0x57f487(0x116)][_0x24dfe0])),_0x217aa0['KXzLL'](_0x31aed6);}catch(_0x36e931){logger[_0x57f487(0xed)](_0x57f487(0xf4)+_0x52d51e+':\x20'+util[_0x57f487(0xf5)](_0x36e931)+'.\x20Unable\x20to\x20set\x20test\x20details.');}}static[a56_0x2bc7cb(0xea)](_0x1c5a5a){const _0x1f22af=a56_0x2bc7cb,_0x4e56ba={};_0x4e56ba[_0x1f22af(0x103)]=_0x1f22af(0x109);const _0x5c325d=_0x4e56ba;try{const _0x298c58=process[_0x1f22af(0x127)],_0x320156=path['join'](TestInfo[_0x1f22af(0x122)](),_0x298c58+_0x1f22af(0x120));let _0x57d453=[];fs['existsSync'](_0x320156)&&(_0x57d453=JSON['parse'](fs['readFileSync'](_0x320156)[_0x1f22af(0xe8)]()));if(!_0x57d453[_0x1f22af(0x13a)](_0x50ce3b=>_0x50ce3b[_0x1f22af(0x11e)]===_0x1c5a5a[_0x1f22af(0x11e)])){_0x57d453[_0x1f22af(0x13f)](_0x1c5a5a);const _0x1ed487=path[_0x1f22af(0x126)](_0x320156);if(!fs[_0x1f22af(0x100)](_0x1ed487)){const _0x34267b={};_0x34267b[_0x1f22af(0x10e)]=!![],fs[_0x1f22af(0x10a)](_0x1ed487,_0x34267b);}fs[_0x1f22af(0xf8)](_0x320156,JSON[_0x1f22af(0x111)](_0x57d453));}}catch(_0x53f6e4){logger[_0x1f22af(0x129)](util['format'](_0x5c325d[_0x1f22af(0x103)],_0x53f6e4));}}static['getTraceFilePaths'](){const _0x5a994c=a56_0x2bc7cb,_0x307f2={};_0x307f2[_0x5a994c(0x12c)]=_0x5a994c(0x120),_0x307f2[_0x5a994c(0x102)]=_0x5a994c(0xdc);const _0x5afc0c=_0x307f2,_0x15c137=[];try{const _0x1c3181=TestInfo[_0x5a994c(0x122)]();if(!fs[_0x5a994c(0x100)](_0x1c3181))return _0x15c137;const _0x4b4d6b=fs[_0x5a994c(0x125)](_0x1c3181);_0x4b4d6b[_0x5a994c(0x101)](_0x37651b=>{const _0x4d0051=_0x5a994c;if(_0x37651b[_0x4d0051(0xd9)](_0x5afc0c['dkCoC'])){const _0x2fe127=JSON[_0x4d0051(0x11a)](fs['readFileSync'](path[_0x4d0051(0xfd)](_0x1c3181,_0x37651b))[_0x4d0051(0xe8)]());_0x15c137[_0x4d0051(0x13f)](..._0x2fe127);}});}catch(_0x1aad2d){logger[_0x5a994c(0x129)](util['format'](_0x5afc0c[_0x5a994c(0x102)],_0x1aad2d));}const _0x438dcf={};return _0x15c137[_0x5a994c(0x101)](_0xacbda0=>{const _0x372a73=_0x5a994c;_0x438dcf[_0xacbda0[_0x372a73(0x11e)]]=_0xacbda0;}),Object['values'](_0x438dcf);}static[a56_0x2bc7cb(0x117)](_0x415188,_0x2b9ec2){const _0x48d0cc=a56_0x2bc7cb,_0xb4a8={};_0xb4a8[_0x48d0cc(0xe0)]=_0x48d0cc(0x135),_0xb4a8[_0x48d0cc(0x123)]=_0x48d0cc(0x119),_0xb4a8[_0x48d0cc(0xec)]='Error\x20writing\x20trace\x20file:\x20%O';const _0x486c88=_0xb4a8;try{const _0x3608ff=path[_0x48d0cc(0xfd)](helper[_0x48d0cc(0x12d)](),_0x486c88[_0x48d0cc(0xe0)]);if(!fs['existsSync'](_0x3608ff)){const _0x11e62e={};_0x11e62e[_0x48d0cc(0x10e)]=!![],fs['mkdirSync'](_0x3608ff,_0x11e62e);}fs[_0x48d0cc(0x10d)](path['join'](_0x3608ff,'trace_'+_0x2b9ec2+_0x48d0cc(0xf1)),_0x415188+'\x0a',_0x486c88[_0x48d0cc(0x123)]);}catch(_0x4d9739){logger[_0x48d0cc(0x129)](util[_0x48d0cc(0xf5)](_0x486c88['jgHem'],_0x4d9739));}}}module[a56_0x2bc7cb(0xde)]=TestInfo;