const a56_0x32f112=a56_0x3408;(function(_0x58c303,_0x5bd652){const _0x57c94e=a56_0x3408,_0x4dfc0b=_0x58c303();while(!![]){try{const _0x3d8b4e=parseInt(_0x57c94e(0x220))/0x1*(-parseInt(_0x57c94e(0x21a))/0x2)+-parseInt(_0x57c94e(0x227))/0x3*(-parseInt(_0x57c94e(0x1f6))/0x4)+-parseInt(_0x57c94e(0x229))/0x5*(-parseInt(_0x57c94e(0x210))/0x6)+parseInt(_0x57c94e(0x207))/0x7+parseInt(_0x57c94e(0x1f3))/0x8*(parseInt(_0x57c94e(0x1e5))/0x9)+-parseInt(_0x57c94e(0x204))/0xa+parseInt(_0x57c94e(0x235))/0xb*(-parseInt(_0x57c94e(0x1fe))/0xc);if(_0x3d8b4e===_0x5bd652)break;else _0x4dfc0b['push'](_0x4dfc0b['shift']());}catch(_0x4bf345){_0x4dfc0b['push'](_0x4dfc0b['shift']());}}}(a56_0x4242,0xd213a));function a56_0x3408(_0x3c8879,_0x1aa91b){const _0x4242a5=a56_0x4242();return a56_0x3408=function(_0x3408cf,_0x5c96b9){_0x3408cf=_0x3408cf-0x1d6;let _0x3f0893=_0x4242a5[_0x3408cf];return _0x3f0893;},a56_0x3408(_0x3c8879,_0x1aa91b);}const fs=require('fs'),path=require(a56_0x32f112(0x1dc)),{v4:uuidv4}=require(a56_0x32f112(0x221)),{TEMP_STORE_DIR_NAME}=require(a56_0x32f112(0x1ff)),{nestedKeyValue}=require('../../helpers/helper'),logger=require('../../helpers/logger')[a56_0x32f112(0x1ef)],util=require(a56_0x32f112(0x212)),helper=require('../../helpers/helper'),{createClassLogger}=require('../../helpers/classLogger.js'),lockfile=require(a56_0x32f112(0x1f0));class TestInfo{static ['tests']={};static ['dirPath']=TestInfo['getStoreDirName']();static ['traceZipDir']=path[a56_0x32f112(0x1db)](TestInfo[a56_0x32f112(0x24c)],a56_0x32f112(0x20b));['logger']=createClassLogger(a56_0x32f112(0x1e8));static[a56_0x32f112(0x247)](){const _0x3e9910=a56_0x32f112,_0x175ab5={};_0x175ab5[_0x3e9910(0x222)]=_0x3e9910(0x1de),_0x175ab5[_0x3e9910(0x1f2)]=_0x3e9910(0x20b);const _0x4c013a=_0x175ab5,_0x4ae183=_0x4c013a['eTwXl'][_0x3e9910(0x20a)]('|');let _0x2cc68d=0x0;while(!![]){switch(_0x4ae183[_0x2cc68d++]){case'0':logger[_0x3e9910(0x1e9)](_0x3e9910(0x1fd)+this[_0x3e9910(0x24c)]);continue;case'1':const _0x422900={};_0x422900[_0x3e9910(0x1ea)]=!![],fs[_0x3e9910(0x22f)](this['traceZipDir'],_0x422900);continue;case'2':this['traceZipDir']=path['join'](this[_0x3e9910(0x24c)],_0x4c013a[_0x3e9910(0x1f2)]);continue;case'3':this[_0x3e9910(0x24c)]=TestInfo['getStoreDirName']();continue;case'4':this['shutdown']();continue;case'5':const _0x3ebd1d={};_0x3ebd1d[_0x3e9910(0x1ea)]=!![],fs[_0x3e9910(0x22f)](this[_0x3e9910(0x24c)],_0x3ebd1d);continue;}break;}}static[a56_0x32f112(0x200)](){const _0x2ab7c7=a56_0x32f112,_0x5b5486={};_0x5b5486[_0x2ab7c7(0x238)]=function(_0x5d60e8,_0x3582f4){return _0x5d60e8+_0x3582f4;},_0x5b5486[_0x2ab7c7(0x1f9)]=function(_0x40bf2f,_0x4051e6){return _0x40bf2f+_0x4051e6;};const _0x2fef6b=_0x5b5486;return _0x2fef6b['ZqUNJ'](_0x2fef6b[_0x2ab7c7(0x1f9)](TEMP_STORE_DIR_NAME,'-'),process[_0x2ab7c7(0x23e)]['BS_TESTOPS_BUILD_HASHED_ID']);}static[a56_0x32f112(0x24b)](){const _0x4ac871=a56_0x32f112,_0x104c83={};_0x104c83[_0x4ac871(0x1da)]=function(_0x115588,_0x2dddbc){return _0x115588+_0x2dddbc;},_0x104c83[_0x4ac871(0x20c)]=_0x4ac871(0x1f8);const _0x2dada4=_0x104c83;return path[_0x4ac871(0x1db)](_0x2dada4[_0x4ac871(0x1da)](_0x2dada4[_0x4ac871(0x1da)](TEMP_STORE_DIR_NAME,'-'),process['env']['BS_TESTOPS_BUILD_HASHED_ID']||_0x2dada4['KWBUV']));}static['getTraceZipDir'](){const _0xf387bb=a56_0x32f112,_0x492c13={};_0x492c13[_0xf387bb(0x206)]=_0xf387bb(0x20b);const _0x498232=_0x492c13;return path[_0xf387bb(0x1db)](this[_0xf387bb(0x24b)](),_0x498232[_0xf387bb(0x206)]);}static['getFilePath'](_0x5c23dd){const _0xa1aa8=a56_0x32f112,_0x56ed2f={};_0x56ed2f['PkRDC']=function(_0x45eab7,_0x3cb0d7){return _0x45eab7+_0x3cb0d7;},_0x56ed2f[_0xa1aa8(0x246)]=_0xa1aa8(0x224);const _0x2efa74=_0x56ed2f;return path['join'](this[_0xa1aa8(0x24c)],_0x2efa74['PkRDC'](_0x5c23dd,_0x2efa74[_0xa1aa8(0x246)]));}static[a56_0x32f112(0x234)](_0x29cdb7){const _0x4c24ac=a56_0x32f112,_0x2d2e3f={};_0x2d2e3f[_0x4c24ac(0x1e4)]=function(_0x19659b,_0x5bea16){return _0x19659b+_0x5bea16;},_0x2d2e3f[_0x4c24ac(0x20e)]=function(_0x49e747,_0x2897e4){return _0x49e747+_0x2897e4;},_0x2d2e3f[_0x4c24ac(0x228)]=function(_0x18e064,_0x2c4eb9){return _0x18e064+_0x2c4eb9;};const _0x2caf4b=_0x2d2e3f;return _0x2caf4b[_0x4c24ac(0x1e4)](_0x2caf4b[_0x4c24ac(0x20e)](_0x2caf4b[_0x4c24ac(0x228)](_0x2caf4b[_0x4c24ac(0x1e4)](this['getProjectIdFromTestInfo'](_0x29cdb7),'-'),this[_0x4c24ac(0x21d)](_0x29cdb7)),'-'),_0x29cdb7[_0x4c24ac(0x20f)]);}static['getProjectIdFromTestInfo'](_0x56f268){const _0x376d54=a56_0x32f112,_0x115e73={'ZRcsC':function(_0x114b5b,_0x1790fb,_0x9ca91e){return _0x114b5b(_0x1790fb,_0x9ca91e);},'hksaI':_0x376d54(0x230),'DEeYf':_0x376d54(0x223),'Ayzmv':function(_0x24a005,_0x1262a2,_0x495ab9){return _0x24a005(_0x1262a2,_0x495ab9);},'qrpeJ':_0x376d54(0x1e6),'KxAAe':_0x376d54(0x215)};return _0x115e73[_0x376d54(0x236)](nestedKeyValue,_0x56f268,[_0x115e73[_0x376d54(0x232)],_0x115e73['DEeYf']])||_0x115e73[_0x376d54(0x249)](nestedKeyValue,_0x56f268,[_0x115e73[_0x376d54(0x23d)],_0x115e73[_0x376d54(0x241)]]);}static['getTestIdFromTestInfo'](_0x5f2e2a){const _0x2e5830=a56_0x32f112,_0x120391={'llxOq':function(_0x291a63,_0x5d4744,_0x3e627c){return _0x291a63(_0x5d4744,_0x3e627c);},'fIkCq':_0x2e5830(0x230)};return _0x120391[_0x2e5830(0x205)](nestedKeyValue,_0x5f2e2a,[_0x120391[_0x2e5830(0x1e0)],'id'])||_0x5f2e2a['testId'];}static[a56_0x32f112(0x22d)](_0x537e38){const _0x59da87=a56_0x32f112,_0x4807a9={'MlPIE':function(_0xf3e542,_0x332477){return _0xf3e542===_0x332477;},'zQUob':_0x59da87(0x1fc),'FNSIl':function(_0x4de5c4){return _0x4de5c4();}};try{if(this[_0x59da87(0x237)][_0x537e38]&&_0x4807a9[_0x59da87(0x20d)](typeof this[_0x59da87(0x237)][_0x537e38][_0x59da87(0x221)],_0x4807a9[_0x59da87(0x239)]))return this[_0x59da87(0x237)][_0x537e38]['uuid'];const _0x14fb2a=this[_0x59da87(0x1f4)](_0x537e38),_0x4af291=path[_0x59da87(0x1ec)](_0x14fb2a);if(fs[_0x59da87(0x211)](_0x4af291)){const _0x32624a=JSON[_0x59da87(0x202)](fs[_0x59da87(0x21e)](_0x14fb2a)[_0x59da87(0x1e3)]());return this[_0x59da87(0x237)][_0x537e38]=_0x32624a,this[_0x59da87(0x237)][_0x537e38]['uuid'];}return this[_0x59da87(0x237)][_0x537e38]={'uuid':_0x4807a9[_0x59da87(0x243)](uuidv4)},fs[_0x59da87(0x218)](_0x14fb2a,JSON[_0x59da87(0x23c)](this[_0x59da87(0x237)][_0x537e38])),this[_0x59da87(0x237)][_0x537e38][_0x59da87(0x221)];}catch(_0x18d3d3){return logger[_0x59da87(0x248)](_0x59da87(0x21b)+_0x537e38+':\x20'+_0x18d3d3[_0x59da87(0x1eb)]),null;}}static['getAccessibilityPlatformValidation'](_0x30b507){const _0x4929f1=a56_0x32f112,_0x6cada1=path[_0x4929f1(0x1db)](this[_0x4929f1(0x24c)],_0x30b507+'_platformDetails.json');if(fs[_0x4929f1(0x211)](_0x6cada1))return fs['readFileSync'](_0x6cada1)['toString']();}static['setAccessibilityPlatformValidation'](_0x3b7927,_0x3a9d09){const _0x511115=a56_0x32f112,_0xe76827=path[_0x511115(0x1db)](this[_0x511115(0x24c)],_0x3a9d09+_0x511115(0x1fa));fs['writeFileSync'](_0xe76827,_0x3b7927[_0x511115(0x1e3)]());}static[a56_0x32f112(0x1e1)](){const _0x5a527c=a56_0x32f112,_0x334bfb={};_0x334bfb['recursive']=!![],_0x334bfb['force']=!![],fs[_0x5a527c(0x217)](this[_0x5a527c(0x24c)],_0x334bfb);}static[a56_0x32f112(0x240)](_0x6f3af5){const _0x42b6aa=a56_0x32f112,_0x462e2a=this[_0x42b6aa(0x1f4)](_0x6f3af5);if(fs[_0x42b6aa(0x211)](_0x462e2a))try{const _0x1c0acc=JSON[_0x42b6aa(0x202)](fs[_0x42b6aa(0x21e)](_0x462e2a)[_0x42b6aa(0x1e3)]());return this[_0x42b6aa(0x237)][_0x6f3af5]=_0x1c0acc,_0x1c0acc;}catch(_0xccffc8){return logger[_0x42b6aa(0x1f7)]('Failed\x20to\x20acquire\x20lock\x20for\x20'+_0x462e2a+':\x20'+util['format'](_0xccffc8)+_0x42b6aa(0x22a)),{};}return{};}static[a56_0x32f112(0x1d9)](_0x51ea11,_0x42da08){const _0x3eb910=a56_0x32f112,_0x1c3862={'pYWuN':_0x3eb910(0x242),'ooCHi':function(_0x1f8edb){return _0x1f8edb();}};logger['debug'](_0x1c3862[_0x3eb910(0x24a)]),logger[_0x3eb910(0x219)](_0x3eb910(0x1f5)+process['pid']+_0x3eb910(0x21f)+_0x51ea11+_0x3eb910(0x201)+JSON['stringify'](_0x42da08));const _0x3c2aca=this[_0x3eb910(0x1f4)](_0x51ea11);if(fs[_0x3eb910(0x211)](_0x3c2aca))try{const _0x2d5bc5=lockfile[_0x3eb910(0x213)](_0x3c2aca),_0x3e8184=JSON['parse'](fs['readFileSync'](_0x3c2aca)[_0x3eb910(0x1e3)]()),_0x51ecba={..._0x3e8184,..._0x42da08};this['tests'][_0x51ea11]=_0x51ecba,fs[_0x3eb910(0x218)](_0x3c2aca,JSON[_0x3eb910(0x23c)](this[_0x3eb910(0x237)][_0x51ea11])),_0x1c3862[_0x3eb910(0x245)](_0x2d5bc5);}catch(_0x16e599){logger[_0x3eb910(0x1f7)](_0x3eb910(0x209)+_0x3c2aca+':\x20'+util[_0x3eb910(0x23b)](_0x16e599)+_0x3eb910(0x233));}}static[a56_0x32f112(0x214)](_0x590810){const _0x3e9739=a56_0x32f112,_0x1d4a83={};_0x1d4a83[_0x3e9739(0x1ed)]=_0x3e9739(0x1fb);const _0x3ecc6a=_0x1d4a83;try{const _0x4a8735=process[_0x3e9739(0x216)],_0x35fe27=path[_0x3e9739(0x1db)](TestInfo['getTraceZipDir'](),_0x4a8735+_0x3e9739(0x225));let _0x15370f=[];fs['existsSync'](_0x35fe27)&&(_0x15370f=JSON[_0x3e9739(0x202)](fs[_0x3e9739(0x21e)](_0x35fe27)[_0x3e9739(0x1e3)]()));if(!_0x15370f[_0x3e9739(0x1d8)](_0x2afe7c=>_0x2afe7c[_0x3e9739(0x231)]===_0x590810[_0x3e9739(0x231)])){_0x15370f[_0x3e9739(0x1df)](_0x590810);const _0x52f4fb=path[_0x3e9739(0x1d7)](_0x35fe27);if(!fs[_0x3e9739(0x211)](_0x52f4fb)){const _0x187387={};_0x187387[_0x3e9739(0x1ea)]=!![],fs[_0x3e9739(0x22f)](_0x52f4fb,_0x187387);}fs[_0x3e9739(0x218)](_0x35fe27,JSON[_0x3e9739(0x23c)](_0x15370f));}}catch(_0x535af9){logger[_0x3e9739(0x248)](util['format'](_0x3ecc6a[_0x3e9739(0x1ed)],_0x535af9));}}static[a56_0x32f112(0x244)](){const _0x57ccda=a56_0x32f112,_0x55f0d8={};_0x55f0d8[_0x57ccda(0x1e2)]=_0x57ccda(0x225),_0x55f0d8[_0x57ccda(0x22c)]=_0x57ccda(0x226);const _0x5ec01e=_0x55f0d8,_0x5463da=[];try{const _0x2eeaae=TestInfo['getTraceZipDir']();if(!fs[_0x57ccda(0x211)](_0x2eeaae))return _0x5463da;const _0x5cabd4=fs[_0x57ccda(0x1d6)](_0x2eeaae);_0x5cabd4[_0x57ccda(0x21c)](_0x83c25d=>{const _0x4e339e=_0x57ccda;if(_0x83c25d['endsWith'](_0x5ec01e[_0x4e339e(0x1e2)])){const _0x2a3bd5=JSON[_0x4e339e(0x202)](fs[_0x4e339e(0x21e)](path[_0x4e339e(0x1db)](_0x2eeaae,_0x83c25d))['toString']());_0x5463da[_0x4e339e(0x1df)](..._0x2a3bd5);}});}catch(_0x4af9d5){logger['error'](util['format'](_0x5ec01e[_0x57ccda(0x22c)],_0x4af9d5));}const _0xcec985={};return _0x5463da[_0x57ccda(0x21c)](_0x147aa6=>{const _0x56d95a=_0x57ccda;_0xcec985[_0x147aa6[_0x56d95a(0x231)]]=_0x147aa6;}),Object[_0x57ccda(0x208)](_0xcec985);}static[a56_0x32f112(0x24d)](_0x351cab,_0x3b381d){const _0x56744a=a56_0x32f112,_0x101820={};_0x101820[_0x56744a(0x1e7)]=_0x56744a(0x22b),_0x101820[_0x56744a(0x1f1)]=_0x56744a(0x23a),_0x101820[_0x56744a(0x1ee)]=_0x56744a(0x23f);const _0xed147d=_0x101820;try{const _0x33e923=path[_0x56744a(0x1db)](helper[_0x56744a(0x22e)](),_0xed147d[_0x56744a(0x1e7)]);if(!fs[_0x56744a(0x211)](_0x33e923)){const _0x8365a5={};_0x8365a5[_0x56744a(0x1ea)]=!![],fs[_0x56744a(0x22f)](_0x33e923,_0x8365a5);}fs[_0x56744a(0x203)](path[_0x56744a(0x1db)](_0x33e923,'trace_'+_0x3b381d+'.txt'),_0x351cab+'\x0a',_0xed147d[_0x56744a(0x1f1)]);}catch(_0x573a5a){logger[_0x56744a(0x248)](util[_0x56744a(0x23b)](_0xed147d[_0x56744a(0x1ee)],_0x573a5a));}}}function a56_0x4242(){const _0x5d1b57=['mantU','14920UmBtyw','getFilePath','processId:\x20','4UgVePz','warn','default','dORpc','_platformDetails.json','Error\x20handling\x20trace\x20file\x20paths:\x20%O','string','Setting\x20up\x20TestInfo\x20directory\x20at\x20','201756uZOkES','../../helpers/test-observability/constants','getStoreDirName','\x20with\x20details:\x20','parse','appendFileSync','3340480QUXAPq','llxOq','zzgyV','434189rMxaez','values','Failed\x20to\x20acquire\x20lock\x20for\x20','split','traceZipPaths','KWBUV','MlPIE','xvmjM','retry','19806eRgaNB','existsSync','util','lockSync','addTraceFilePath','__projectId','pid','rmSync','writeFileSync','debug','54722hlhGcg','Error\x20while\x20getting\x20test\x20UUID\x20for\x20','forEach','getTestIdFromTestInfo','readFileSync','\x20Setting\x20\x20test\x20details\x20for\x20','29XgnYZw','uuid','eTwXl','_projectId','.json','_traceZipPaths.json','Error\x20reading\x20trace\x20file\x20paths:\x20%O','1929882KKoGPf','NMezj','195iSDALH','.\x20Returning\x20empty\x20test\x20details.','.browserstack','LbShw','getTestUUID','homedir','mkdirSync','_test','filePath','hksaI','.\x20Unable\x20to\x20set\x20test\x20details.','getTestRunIdFromTestInfo','198zMWuZk','ZRcsC','tests','ZqUNJ','zQUob','utf8','format','stringify','qrpeJ','env','Error\x20writing\x20trace\x20file:\x20%O','getTestDetails','KxAAe','setTestDetails\x20','FNSIl','getTraceFilePaths','ooCHi','FazBP','setup','error','Ayzmv','pYWuN','getStoreDirPath','dirPath','appendToTracePaths','readdirSync','dirname','some','setTestDetails','mNZml','join','path','exports','3|2|4|5|1|0','push','fIkCq','shutdown','jTLIB','toString','huMzF','7029MEjFNz','project','XbZgD','TestInfo','info','recursive','message','resolve','jbodJ','bBVjQ','winstonLogger','proper-lockfile','PJqke'];a56_0x4242=function(){return _0x5d1b57;};return a56_0x4242();}module[a56_0x32f112(0x1dd)]=TestInfo;