const a58_0x601e15=a58_0x3f98;(function(_0x324f71,_0x2f2b9c){const _0x18769b=a58_0x3f98,_0x497b44=_0x324f71();while(!![]){try{const _0x5a1fe5=parseInt(_0x18769b(0x223))/0x1*(parseInt(_0x18769b(0x20e))/0x2)+-parseInt(_0x18769b(0x229))/0x3+parseInt(_0x18769b(0x23f))/0x4+parseInt(_0x18769b(0x1ef))/0x5*(parseInt(_0x18769b(0x1e4))/0x6)+-parseInt(_0x18769b(0x233))/0x7+parseInt(_0x18769b(0x248))/0x8*(parseInt(_0x18769b(0x211))/0x9)+-parseInt(_0x18769b(0x239))/0xa;if(_0x5a1fe5===_0x2f2b9c)break;else _0x497b44['push'](_0x497b44['shift']());}catch(_0x2cddd7){_0x497b44['push'](_0x497b44['shift']());}}}(a58_0x2ea6,0x65a96));function a58_0x3f98(_0x1610ca,_0x35819e){const _0x2ea62e=a58_0x2ea6();return a58_0x3f98=function(_0x3f9859,_0x48f696){_0x3f9859=_0x3f9859-0x1d8;let _0x246ad3=_0x2ea62e[_0x3f9859];return _0x246ad3;},a58_0x3f98(_0x1610ca,_0x35819e);}const fs=require('fs'),path=require(a58_0x601e15(0x224)),{v4:uuidv4}=require(a58_0x601e15(0x200)),{TEMP_STORE_DIR_NAME}=require(a58_0x601e15(0x23b)),{nestedKeyValue}=require(a58_0x601e15(0x1e2)),logger=require('../../helpers/logger')[a58_0x601e15(0x209)],util=require(a58_0x601e15(0x215)),helper=require('../../helpers/helper'),{createClassLogger}=require(a58_0x601e15(0x1e3)),lockfile=require(a58_0x601e15(0x219));function a58_0x2ea6(){const _0x2aadf4=['../../helpers/test-observability/constants','ioNSM','getTestIdentifierFromTestInfo','utf8','2844188soncwZ','BS_TESTOPS_BUILD_HASHED_ID','push','getProjectIdFromTestInfo','iZqqo','SgqNH','setup','getFilePath','getStoreDirPath','104TZGWCW','getStoreDirName','HDFBp','.\x20Returning\x20empty\x20test\x20details.','traceZipPaths','wKmXA','\x20with\x20details:\x20','RfmgX','Error\x20reading\x20trace\x20file\x20paths:\x20%O','Failed\x20to\x20acquire\x20lock\x20for\x20','appendToTracePaths','YCfaB','readdirSync','Error\x20handling\x20trace\x20file\x20paths:\x20%O','endsWith','toString','default','homedir','testId','BkVOu','format','shutdown','ZIakp','../../helpers/helper','../../helpers/classLogger.js','3366mfFLOI','error','retry','getTestIdFromTestInfo','getTraceFilePaths','forEach','some','BjbCC','YqLFP','string','traceZipDir','4780cYLtpi','.browserstack','DZogT','processId:\x20','mkdirSync','env','_projectId','Setting\x20up\x20TestInfo\x20directory\x20at\x20','tozOp','DSNTd','rqKgv','trace_','iLltU','recursive','ihkNC','force','resolve','uuid','rmSync','qunvW','join','parse','pOgIt','readFileSync','_platformDetails.json','\x20Setting\x20\x20test\x20details\x20for\x20','winstonLogger','addTraceFilePath','mergeDeep','warn','pid','9082vFmyXY','HQzNX','dirname','366273WIAKvm','stringify','setTestDetails\x20','existsSync','util','__projectId','tests','kwZwJ','proper-lockfile','getTraceZipDir','evRyP','project','.json','split','message','WJdcf','appendFileSync','eJdZk','67VGVwrr','path','_traceZipPaths.json','getAccessibilityPlatformValidation','filePath','JqBnO','302070ArlUSU','setAccessibilityPlatformValidation','xYGdx','0|1|4|5|3|2','OLXbD','dirPath','info','GXhlH','Error\x20while\x20getting\x20test\x20UUID\x20for\x20','_test','4662812LrESYO','setTestDetails','writeFileSync','values','logger','vvoOr','8974590JzUsEU','debug'];a58_0x2ea6=function(){return _0x2aadf4;};return a58_0x2ea6();}class TestInfo{static [a58_0x601e15(0x217)]={};static [a58_0x601e15(0x22e)]=TestInfo['getStoreDirName']();static [a58_0x601e15(0x1ee)]=path[a58_0x601e15(0x203)](TestInfo[a58_0x601e15(0x22e)],a58_0x601e15(0x24c));[a58_0x601e15(0x237)]=createClassLogger('TestInfo');static[a58_0x601e15(0x245)](){const _0x55d126=a58_0x601e15,_0xd5270f={};_0xd5270f[_0x55d126(0x228)]=_0x55d126(0x22c),_0xd5270f[_0x55d126(0x1fd)]=_0x55d126(0x24c);const _0x23915f=_0xd5270f,_0x408d2c=_0x23915f[_0x55d126(0x228)][_0x55d126(0x21e)]('|');let _0x48de33=0x0;while(!![]){switch(_0x408d2c[_0x48de33++]){case'0':this[_0x55d126(0x22e)]=TestInfo[_0x55d126(0x249)]();continue;case'1':this['traceZipDir']=path['join'](this[_0x55d126(0x22e)],_0x23915f['ihkNC']);continue;case'2':logger[_0x55d126(0x22f)](_0x55d126(0x1f6)+this[_0x55d126(0x22e)]);continue;case'3':const _0x598754={};_0x598754[_0x55d126(0x1fc)]=!![],fs[_0x55d126(0x1f3)](this[_0x55d126(0x1ee)],_0x598754);continue;case'4':this[_0x55d126(0x1e0)]();continue;case'5':const _0x32b3bd={};_0x32b3bd[_0x55d126(0x1fc)]=!![],fs[_0x55d126(0x1f3)](this[_0x55d126(0x22e)],_0x32b3bd);continue;}break;}}static[a58_0x601e15(0x249)](){const _0x21f866=a58_0x601e15,_0x1a71f7={};_0x1a71f7[_0x21f866(0x1ec)]=function(_0x272731,_0x27c069){return _0x272731+_0x27c069;},_0x1a71f7[_0x21f866(0x23c)]=function(_0x586873,_0x3efeea){return _0x586873+_0x3efeea;};const _0x3b300e=_0x1a71f7;return _0x3b300e['YqLFP'](_0x3b300e[_0x21f866(0x23c)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x21f866(0x240)]);}static['getStoreDirPath'](){const _0x31e13b=a58_0x601e15,_0x54985f={};_0x54985f[_0x31e13b(0x1de)]=function(_0x5ad689,_0x59eb41){return _0x5ad689+_0x59eb41;},_0x54985f[_0x31e13b(0x238)]=function(_0x2b583f,_0x557636){return _0x2b583f+_0x557636;},_0x54985f[_0x31e13b(0x218)]=_0x31e13b(0x1db);const _0x4e0b27=_0x54985f;return path[_0x31e13b(0x203)](_0x4e0b27[_0x31e13b(0x1de)](_0x4e0b27[_0x31e13b(0x238)](TEMP_STORE_DIR_NAME,'-'),process[_0x31e13b(0x1f4)]['BS_TESTOPS_BUILD_HASHED_ID']||_0x4e0b27[_0x31e13b(0x218)]));}static[a58_0x601e15(0x21a)](){const _0x13af55=a58_0x601e15,_0x381088={};_0x381088[_0x13af55(0x253)]=_0x13af55(0x24c);const _0x3a298b=_0x381088;return path[_0x13af55(0x203)](this[_0x13af55(0x247)](),_0x3a298b[_0x13af55(0x253)]);}static[a58_0x601e15(0x246)](_0x347da7){const _0x1d8b5e=a58_0x601e15,_0x125957={};_0x125957[_0x1d8b5e(0x22b)]=function(_0xb6a01a,_0x31b338){return _0xb6a01a+_0x31b338;},_0x125957['qunvW']=_0x1d8b5e(0x21d);const _0x4da3eb=_0x125957;return path[_0x1d8b5e(0x203)](this[_0x1d8b5e(0x22e)],_0x4da3eb[_0x1d8b5e(0x22b)](_0x347da7,_0x4da3eb[_0x1d8b5e(0x202)]));}static['getTestRunIdFromTestInfo'](_0x3fcd42){const _0x5d1c7f=a58_0x601e15,_0x4beb1a={};_0x4beb1a['xIALB']=function(_0x117e08,_0x494428){return _0x117e08+_0x494428;},_0x4beb1a[_0x5d1c7f(0x20f)]=function(_0x2b396b,_0x921516){return _0x2b396b+_0x921516;},_0x4beb1a['OLXbD']=function(_0x3abd8c,_0x580224){return _0x3abd8c+_0x580224;};const _0x674498=_0x4beb1a;return _0x674498['xIALB'](_0x674498[_0x5d1c7f(0x20f)](_0x674498[_0x5d1c7f(0x22d)](_0x674498[_0x5d1c7f(0x20f)](this[_0x5d1c7f(0x242)](_0x3fcd42),'-'),this['getTestIdFromTestInfo'](_0x3fcd42)),'-'),_0x3fcd42[_0x5d1c7f(0x1e6)]);}static['getProjectIdFromTestInfo'](_0x55afaf){const _0x3f065c=a58_0x601e15,_0x5024f6={'iLltU':function(_0x2c1286,_0x40a0fd,_0x39b2e3){return _0x2c1286(_0x40a0fd,_0x39b2e3);},'ZIakp':_0x3f065c(0x232),'VfRZT':_0x3f065c(0x1f5),'tozOp':function(_0x3c9836,_0x44009a,_0x30fd4e){return _0x3c9836(_0x44009a,_0x30fd4e);},'evRyP':_0x3f065c(0x21c),'iZqqo':_0x3f065c(0x216)};return _0x5024f6[_0x3f065c(0x1fb)](nestedKeyValue,_0x55afaf,[_0x5024f6[_0x3f065c(0x1e1)],_0x5024f6['VfRZT']])||_0x5024f6[_0x3f065c(0x1f7)](nestedKeyValue,_0x55afaf,[_0x5024f6[_0x3f065c(0x21b)],_0x5024f6[_0x3f065c(0x243)]]);}static[a58_0x601e15(0x1e7)](_0xbffc7f){const _0x3e7861=a58_0x601e15,_0x51e4e1={'iopMY':function(_0x35b23d,_0x51060c,_0x59d341){return _0x35b23d(_0x51060c,_0x59d341);},'ICpTS':'_test'};return _0x51e4e1['iopMY'](nestedKeyValue,_0xbffc7f,[_0x51e4e1['ICpTS'],'id'])||_0xbffc7f[_0x3e7861(0x1dd)];}static[a58_0x601e15(0x23d)](_0x12d25a,_0xc8e3db){const _0x3c919c=a58_0x601e15,_0xfb876f={};_0xfb876f[_0x3c919c(0x220)]=function(_0x571120,_0x44214e){return _0x571120+_0x44214e;},_0xfb876f[_0x3c919c(0x230)]=function(_0x2a45f5,_0x4687a1){return _0x2a45f5+_0x4687a1;};const _0x208c69=_0xfb876f;return _0x208c69['WJdcf'](_0x208c69[_0x3c919c(0x220)](_0x208c69['WJdcf'](_0x208c69[_0x3c919c(0x230)](this[_0x3c919c(0x242)](_0x12d25a),'-'),this[_0x3c919c(0x1e7)](_0x12d25a)),'-'),_0xc8e3db);}static['getTestUUID'](_0x2cf0be){const _0x4e73ff=a58_0x601e15,_0x50eb9f={'HDFBp':function(_0x5a9ca0,_0x2690ee){return _0x5a9ca0===_0x2690ee;},'DZogT':_0x4e73ff(0x1ed),'pDBik':function(_0x532cd4){return _0x532cd4();}};try{if(this['tests'][_0x2cf0be]&&_0x50eb9f[_0x4e73ff(0x24a)](typeof this[_0x4e73ff(0x217)][_0x2cf0be][_0x4e73ff(0x200)],_0x50eb9f[_0x4e73ff(0x1f1)]))return this['tests'][_0x2cf0be][_0x4e73ff(0x200)];const _0x24742e=this[_0x4e73ff(0x246)](_0x2cf0be),_0x351010=path[_0x4e73ff(0x1ff)](_0x24742e);if(fs['existsSync'](_0x351010)){const _0x51219d=JSON['parse'](fs[_0x4e73ff(0x206)](_0x24742e)[_0x4e73ff(0x1da)]());return this[_0x4e73ff(0x217)][_0x2cf0be]=_0x51219d,this[_0x4e73ff(0x217)][_0x2cf0be][_0x4e73ff(0x200)];}return this['tests'][_0x2cf0be]={'uuid':_0x50eb9f['pDBik'](uuidv4)},fs[_0x4e73ff(0x235)](_0x24742e,JSON[_0x4e73ff(0x212)](this['tests'][_0x2cf0be])),this[_0x4e73ff(0x217)][_0x2cf0be][_0x4e73ff(0x200)];}catch(_0x244595){return logger[_0x4e73ff(0x1e5)](_0x4e73ff(0x231)+_0x2cf0be+':\x20'+_0x244595[_0x4e73ff(0x21f)]),null;}}static[a58_0x601e15(0x226)](_0xde6ba7){const _0x169a9f=a58_0x601e15,_0x14d496=path[_0x169a9f(0x203)](this[_0x169a9f(0x22e)],_0xde6ba7+_0x169a9f(0x207));if(fs['existsSync'](_0x14d496))return fs[_0x169a9f(0x206)](_0x14d496)[_0x169a9f(0x1da)]();}static[a58_0x601e15(0x22a)](_0x559931,_0x129c1f){const _0x406511=a58_0x601e15,_0x4f02d3=path[_0x406511(0x203)](this['dirPath'],_0x129c1f+_0x406511(0x207));fs['writeFileSync'](_0x4f02d3,_0x559931[_0x406511(0x1da)]());}static[a58_0x601e15(0x1e0)](){const _0x193e6d=a58_0x601e15,_0x235fc8={};_0x235fc8[_0x193e6d(0x1fc)]=!![],_0x235fc8[_0x193e6d(0x1fe)]=!![],fs[_0x193e6d(0x201)](this[_0x193e6d(0x22e)],_0x235fc8);}static['getTestDetails'](_0xe66ee2){const _0x13af17=a58_0x601e15,_0x4558b4=this[_0x13af17(0x246)](_0xe66ee2);if(fs[_0x13af17(0x214)](_0x4558b4))try{const _0xe6334f=JSON['parse'](fs[_0x13af17(0x206)](_0x4558b4)['toString']());return this[_0x13af17(0x217)][_0xe66ee2]=_0xe6334f,_0xe6334f;}catch(_0x1f3ce1){return logger['warn'](_0x13af17(0x251)+_0x4558b4+':\x20'+util['format'](_0x1f3ce1)+_0x13af17(0x24b)),{};}return{};}static[a58_0x601e15(0x234)](_0x265988,_0x3c95a5,_0x3aa99e=![]){const _0x333ceb=a58_0x601e15,_0x12b1ea={'BjbCC':_0x333ceb(0x213),'wKmXA':function(_0x29b9b8){return _0x29b9b8();}};logger[_0x333ceb(0x23a)](_0x12b1ea[_0x333ceb(0x1eb)]),logger[_0x333ceb(0x23a)](_0x333ceb(0x1f2)+process[_0x333ceb(0x20d)]+_0x333ceb(0x208)+_0x265988+_0x333ceb(0x24e)+JSON[_0x333ceb(0x212)](_0x3c95a5));const _0x49766b=this[_0x333ceb(0x246)](_0x265988);if(fs[_0x333ceb(0x214)](_0x49766b))try{const _0x283fd5=lockfile['lockSync'](_0x49766b),_0x194466=JSON[_0x333ceb(0x204)](fs['readFileSync'](_0x49766b)['toString']());if(_0x3aa99e)this[_0x333ceb(0x217)][_0x265988]=helper[_0x333ceb(0x20b)](_0x194466,_0x3c95a5);else{const _0x28c0c6={..._0x194466,..._0x3c95a5};this[_0x333ceb(0x217)][_0x265988]=_0x28c0c6;}fs[_0x333ceb(0x235)](_0x49766b,JSON[_0x333ceb(0x212)](this[_0x333ceb(0x217)][_0x265988])),_0x12b1ea[_0x333ceb(0x24d)](_0x283fd5);}catch(_0x277e2d){logger[_0x333ceb(0x20c)](_0x333ceb(0x251)+_0x49766b+':\x20'+util[_0x333ceb(0x1df)](_0x277e2d)+'.\x20Unable\x20to\x20set\x20test\x20details.');}}static[a58_0x601e15(0x20a)](_0x18a370){const _0x1f9fd5=a58_0x601e15,_0x7d678={};_0x7d678['pOgIt']=_0x1f9fd5(0x1d8);const _0x553ca3=_0x7d678;try{const _0x46c726=process[_0x1f9fd5(0x20d)],_0x5edca4=path[_0x1f9fd5(0x203)](TestInfo[_0x1f9fd5(0x21a)](),_0x46c726+_0x1f9fd5(0x225));let _0x127765=[];fs[_0x1f9fd5(0x214)](_0x5edca4)&&(_0x127765=JSON[_0x1f9fd5(0x204)](fs[_0x1f9fd5(0x206)](_0x5edca4)[_0x1f9fd5(0x1da)]()));if(!_0x127765[_0x1f9fd5(0x1ea)](_0x57c0cb=>_0x57c0cb[_0x1f9fd5(0x227)]===_0x18a370[_0x1f9fd5(0x227)])){_0x127765[_0x1f9fd5(0x241)](_0x18a370);const _0xe5fe35=path[_0x1f9fd5(0x210)](_0x5edca4);if(!fs['existsSync'](_0xe5fe35)){const _0x2b7ce7={};_0x2b7ce7[_0x1f9fd5(0x1fc)]=!![],fs['mkdirSync'](_0xe5fe35,_0x2b7ce7);}fs['writeFileSync'](_0x5edca4,JSON[_0x1f9fd5(0x212)](_0x127765));}}catch(_0x3cd84b){logger[_0x1f9fd5(0x1e5)](util['format'](_0x553ca3[_0x1f9fd5(0x205)],_0x3cd84b));}}static[a58_0x601e15(0x1e8)](){const _0x8d134f=a58_0x601e15,_0x288066={};_0x288066[_0x8d134f(0x24f)]=_0x8d134f(0x225),_0x288066[_0x8d134f(0x1f9)]=_0x8d134f(0x250);const _0x26105a=_0x288066,_0x4b286a=[];try{const _0x265829=TestInfo[_0x8d134f(0x21a)]();if(!fs[_0x8d134f(0x214)](_0x265829))return _0x4b286a;const _0x38c119=fs[_0x8d134f(0x254)](_0x265829);_0x38c119[_0x8d134f(0x1e9)](_0x381945=>{const _0x246939=_0x8d134f;if(_0x381945[_0x246939(0x1d9)](_0x26105a[_0x246939(0x24f)])){const _0x4fc8e9=JSON[_0x246939(0x204)](fs[_0x246939(0x206)](path[_0x246939(0x203)](_0x265829,_0x381945))[_0x246939(0x1da)]());_0x4b286a[_0x246939(0x241)](..._0x4fc8e9);}});}catch(_0x233572){logger[_0x8d134f(0x1e5)](util[_0x8d134f(0x1df)](_0x26105a[_0x8d134f(0x1f9)],_0x233572));}const _0x34a464={};return _0x4b286a[_0x8d134f(0x1e9)](_0x5e2006=>{const _0x5a3e2b=_0x8d134f;_0x34a464[_0x5e2006[_0x5a3e2b(0x227)]]=_0x5e2006;}),Object[_0x8d134f(0x236)](_0x34a464);}static[a58_0x601e15(0x252)](_0x1bca41,_0x20c484){const _0x3ba17f=a58_0x601e15,_0x41ce02={};_0x41ce02[_0x3ba17f(0x222)]=_0x3ba17f(0x1f0),_0x41ce02['DSNTd']=_0x3ba17f(0x23e),_0x41ce02['SgqNH']='Error\x20writing\x20trace\x20file:\x20%O';const _0x146748=_0x41ce02;try{const _0x302643=path[_0x3ba17f(0x203)](helper[_0x3ba17f(0x1dc)](),_0x146748[_0x3ba17f(0x222)]);if(!fs[_0x3ba17f(0x214)](_0x302643)){const _0x4b6a37={};_0x4b6a37[_0x3ba17f(0x1fc)]=!![],fs['mkdirSync'](_0x302643,_0x4b6a37);}fs[_0x3ba17f(0x221)](path[_0x3ba17f(0x203)](_0x302643,_0x3ba17f(0x1fa)+_0x20c484+'.txt'),_0x1bca41+'\x0a',_0x146748[_0x3ba17f(0x1f8)]);}catch(_0x22b70e){logger[_0x3ba17f(0x1e5)](util[_0x3ba17f(0x1df)](_0x146748[_0x3ba17f(0x244)],_0x22b70e));}}}module['exports']=TestInfo;