const a63_0xcf8b5=a63_0x1ad6;(function(_0x3b494e,_0x4ba2a9){const _0x5a7b5c=a63_0x1ad6,_0x32ab96=_0x3b494e();while(!![]){try{const _0x25f3f5=parseInt(_0x5a7b5c(0x1a8))/0x1*(parseInt(_0x5a7b5c(0x1b9))/0x2)+-parseInt(_0x5a7b5c(0x1a5))/0x3*(-parseInt(_0x5a7b5c(0x1c1))/0x4)+parseInt(_0x5a7b5c(0x1ff))/0x5*(parseInt(_0x5a7b5c(0x18b))/0x6)+parseInt(_0x5a7b5c(0x172))/0x7+parseInt(_0x5a7b5c(0x15b))/0x8*(-parseInt(_0x5a7b5c(0x14e))/0x9)+parseInt(_0x5a7b5c(0x19b))/0xa+-parseInt(_0x5a7b5c(0x206))/0xb;if(_0x25f3f5===_0x4ba2a9)break;else _0x32ab96['push'](_0x32ab96['shift']());}catch(_0x392b73){_0x32ab96['push'](_0x32ab96['shift']());}}}(a63_0x1ad8,0xf0076));const TestFramework=require('./testFramework'),TestFrameworkState=require(a63_0xcf8b5(0x1c7)),HookState=require(a63_0xcf8b5(0x19a)),{createClassLogger}=require(a63_0xcf8b5(0x1b8)),TestFrameworkInstance=require(a63_0xcf8b5(0x215)),CLIUtils=require(a63_0xcf8b5(0x175)),TrackedInstance=require('../instances/trackedInstance.js'),TestFrameworkConstants=require(a63_0xcf8b5(0x19d)),logger=createClassLogger(a63_0xcf8b5(0x203)),{v4:uuidv4}=require(a63_0xcf8b5(0x1ac)),util=require(a63_0xcf8b5(0x18a)),{getPlaywrightSessionName,getPlaywrightTestFilePath,getPlaywrightTestId,getPlaywrightTestTitle,getPlaywrightTestLocation,getPlaywrightTestTags,getPlaywrightTestCode,getPlaywrightTestScope,getPlaywrightTestScopes,getStepsAndLogs,getScreenshots,getPlaywrightCustomRerunParam,getMediaArtifactsLogs,getManualUploadLogs,updatePayloadForTraceLogs}=require(a63_0xcf8b5(0x1f0)),TestInfo=require('../TestInfo.js'),GrpcClient=require(a63_0xcf8b5(0x180)),{removeAnsiColors,getFailureType,failureData}=require(a63_0xcf8b5(0x1a9)),{getFailureData,getTestTags}=require(a63_0xcf8b5(0x1fa)),{findNestedKey,sendTraceZip,validateFilePath}=require(a63_0xcf8b5(0x1fa)),path=require('path'),fs=require('fs'),helper=require(a63_0xcf8b5(0x16d)),{PLAYWRIGHT_TRACE_LOGS}=require('../../utils/constants');class PlaywrightTestFramework extends TestFramework{constructor(_0x2722fe,_0x3fcc1c,_0x5cb236){super(_0x2722fe,_0x3fcc1c,_0x5cb236);}async[a63_0xcf8b5(0x216)](_0xb0e37e,_0x5c6570,_0x1405a3={}){const _0x280c04=a63_0xcf8b5,_0x15ed2a={};_0x15ed2a[_0x280c04(0x18f)]=function(_0x16cfd3,_0x32e62d){return _0x16cfd3===_0x32e62d;},_0x15ed2a[_0x280c04(0x1c0)]=function(_0x2d1283,_0x1c4518){return _0x2d1283===_0x1c4518;},_0x15ed2a[_0x280c04(0x1a4)]=function(_0x75befb,_0x33c92b){return _0x75befb===_0x33c92b;},_0x15ed2a[_0x280c04(0x198)]=_0x280c04(0x20d),_0x15ed2a[_0x280c04(0x1d3)]=_0x280c04(0x1b0);const _0x2d8f5d=_0x15ed2a;await super[_0x280c04(0x216)](_0xb0e37e,_0x5c6570,_0x1405a3);const _0x5c131d=this[_0x280c04(0x19f)](_0xb0e37e,_0x5c6570,_0x1405a3);if(!_0x5c131d)return;logger[_0x280c04(0x1ea)]('trackEvent:\x20found\x20instance,\x20testFrameworkState='+_0xb0e37e+'\x20hookState='+_0x5c6570+_0x280c04(0x15a)+_0x5c131d[_0x280c04(0x191)]());try{if(_0x2d8f5d['igAoQ'](_0x5c6570,HookState[_0x280c04(0x16b)])&&_0x2d8f5d[_0x280c04(0x1c0)](_0xb0e37e,TestFrameworkState[_0x280c04(0x1bd)])){const _0x571e6b=_0x1405a3['test'];logger[_0x280c04(0x1ea)](_0x280c04(0x15d)+_0x571e6b['id']+'}');const _0x321221=TestInfo[_0x280c04(0x1b6)](_0x571e6b['id']);_0x5c131d['addMultipleEntries'](this[_0x280c04(0x1f5)](_0x321221,_0x571e6b)),logger[_0x280c04(0x1ea)]('trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20'+_0x571e6b['id']+_0x280c04(0x1e4)+_0xb0e37e+_0x280c04(0x1a6)+_0x5c6570+_0x280c04(0x1e1)+_0x5c131d[_0x280c04(0x191)]());}if(_0x2d8f5d[_0x280c04(0x1a4)](_0x5c6570,HookState[_0x280c04(0x16a)])&&_0x2d8f5d['qgnbz'](_0xb0e37e,TestFrameworkState['TEST'])){const _0x3410a4=_0x1405a3['test'],_0x253ece=_0x1405a3[_0x280c04(0x211)];logger[_0x280c04(0x1ea)](_0x280c04(0x1f8)+_0x3410a4['id']),_0x5c131d['addMultipleEntries'](this[_0x280c04(0x151)](_0x3410a4['id'],_0x253ece,_0x3410a4)),this[_0x280c04(0x184)](_0x5c131d,_0xb0e37e,_0x5c6570,_0x2d8f5d[_0x280c04(0x198)],_0x1405a3);}if(CLIUtils['matchHookRegex'](_0xb0e37e['toString']()[_0x280c04(0x1c4)]('.')[0x1])){const _0x427a71=await this[_0x280c04(0x19e)](_0x5c131d,_0xb0e37e,_0x5c6570,_0x1405a3);_0x5c131d['addMultipleEntries'](_0x427a71);}}catch(_0x5da847){logger[_0x280c04(0x1e7)](util[_0x280c04(0x196)](_0x2d8f5d[_0x280c04(0x1d3)],_0xb0e37e,_0x5c6570,_0x1405a3[_0x280c04(0x14b)],_0x5da847));}_0x1405a3[_0x280c04(0x214)]=_0x5c131d,await this[_0x280c04(0x17b)](_0x5c131d,_0xb0e37e,_0x5c6570,_0x1405a3);}[a63_0xcf8b5(0x19f)](_0x520bff,_0x1b5bfb,_0x4415d5={}){const _0x61858b=a63_0xcf8b5,_0x3725fd={};_0x3725fd['APiRp']=function(_0x428469,_0x48927f){return _0x428469===_0x48927f;},_0x3725fd['HEQTa']=function(_0x4bb155,_0x34ad44){return _0x4bb155===_0x34ad44;};const _0x2190e4=_0x3725fd;let _0x53ac94=null;return(_0x2190e4[_0x61858b(0x1b2)](_0x520bff,TestFrameworkState[_0x61858b(0x1c9)])||_0x2190e4[_0x61858b(0x1e0)](_0x520bff,TestFrameworkState['NONE']))&&this[_0x61858b(0x205)](_0x520bff,_0x4415d5),_0x53ac94=TestFramework[_0x61858b(0x1df)](),_0x53ac94;}['trackPlaywrightInstance'](_0x545c83,_0x4492d4){const _0x48157a=a63_0xcf8b5,_0x4c3129=CLIUtils[_0x48157a(0x181)](),_0x5bff77=TrackedInstance[_0x48157a(0x1dc)](_0x4c3129);let _0x5c6bf1=null;logger[_0x48157a(0x161)](_0x48157a(0x208)+_0x4c3129+_0x48157a(0x16c)+_0x545c83),_0x5c6bf1=new TestFrameworkInstance(_0x5bff77,this['getTestFrameworks'](),this[_0x48157a(0x165)](),_0x545c83,HookState['NONE']),TestFramework[_0x48157a(0x16f)](_0x5bff77,_0x5c6bf1),logger[_0x48157a(0x161)](_0x48157a(0x170)+_0x5bff77[_0x48157a(0x20e)]()+_0x48157a(0x163)+_0x4c3129);}[a63_0xcf8b5(0x1f5)](_0x312f47,_0x3ea02e){const _0x4e25d1=a63_0xcf8b5,_0x5e5329={'msasY':function(_0x25ff21,_0x195187){return _0x25ff21(_0x195187);},'HtZUW':function(_0x41d02b,_0x32858f){return _0x41d02b(_0x32858f);},'nPxgw':function(_0x2e880c,_0x525629){return _0x2e880c(_0x525629);},'mZjRO':function(_0x121fb7,_0x5cfc0b){return _0x121fb7(_0x5cfc0b);},'CBapB':function(_0x377afb,_0x1e6c2d){return _0x377afb(_0x1e6c2d);}},_0x545097=_0x5e5329[_0x4e25d1(0x156)](getPlaywrightTestId,_0x3ea02e),_0x52846b=_0x5e5329[_0x4e25d1(0x1e3)](getPlaywrightTestTitle,_0x3ea02e),_0x31f650=_0x5e5329[_0x4e25d1(0x156)](getTestTags,_0x3ea02e),_0x40505b=_0x5e5329[_0x4e25d1(0x156)](getPlaywrightTestCode,_0x3ea02e),_0x400eae=_0x5e5329['msasY'](getPlaywrightTestFilePath,_0x3ea02e),_0x25f45d=_0x400eae+':'+_0x5e5329[_0x4e25d1(0x1e3)](getPlaywrightTestLocation,_0x3ea02e),_0x4f0620=_0x5e5329['nPxgw'](getPlaywrightTestScope,_0x3ea02e),_0x5c534b=_0x5e5329[_0x4e25d1(0x1f2)](getPlaywrightTestScopes,_0x3ea02e),_0x9c723a=_0x5e5329[_0x4e25d1(0x1ae)](getPlaywrightSessionName,_0x3ea02e),_0x213e6c=this[_0x4e25d1(0x160)]()[0x0],_0x41aa5d={[TestFrameworkConstants[_0x4e25d1(0x1fd)]]:_0x213e6c,[TestFrameworkConstants[_0x4e25d1(0x213)]]:this[_0x4e25d1(0x165)]()[_0x213e6c],[TestFrameworkConstants[_0x4e25d1(0x1bb)]]:[],[TestFrameworkConstants['KEY_HOOKS_FINISHED']]:{},[TestFrameworkConstants[_0x4e25d1(0x1e9)]]:{},[TestFrameworkConstants['KEY_TEST_UUID']]:_0x312f47,[TestFrameworkConstants['KEY_TEST_RESULT']]:TestFrameworkConstants[_0x4e25d1(0x179)],[TestFrameworkConstants[_0x4e25d1(0x1c8)]]:_0x9c723a,[TestFrameworkConstants[_0x4e25d1(0x199)]]:_0x400eae,[TestFrameworkConstants['KEY_TEST_ID']]:_0x545097,[TestFrameworkConstants[_0x4e25d1(0x17d)]]:_0x52846b,[TestFrameworkConstants['KEY_TEST_LOCATION']]:_0x25f45d,[TestFrameworkConstants['KEY_TEST_CODE']]:_0x40505b,[TestFrameworkConstants[_0x4e25d1(0x1aa)]]:_0x31f650,[TestFrameworkConstants[_0x4e25d1(0x173)]]:_0x3ea02e[_0x4e25d1(0x1c2)][0x0][_0x4e25d1(0x14d)],[TestFrameworkConstants[_0x4e25d1(0x1cb)]]:_0x4f0620,[TestFrameworkConstants[_0x4e25d1(0x1ca)]]:_0x5c534b,[TestFrameworkConstants[_0x4e25d1(0x15f)]]:_0x5e5329[_0x4e25d1(0x212)](getPlaywrightCustomRerunParam,_0x3ea02e)};TestInfo[_0x4e25d1(0x1be)](_0x3ea02e['id'],_0x41aa5d);const _0x3f0a4c={};return _0x3f0a4c[_0x545097]=_0x41aa5d,_0x3f0a4c;}[a63_0xcf8b5(0x151)](_0x2e9b5c,_0x532c0b,_0x24ebcb){const _0xd624b6=a63_0xcf8b5,_0x5c2b6d={'dSJEw':function(_0x5adee8,_0xfcc2ac){return _0x5adee8(_0xfcc2ac);},'GNrlg':_0xd624b6(0x204),'MSPzJ':function(_0x38541c,_0x1b35bf){return _0x38541c===_0x1b35bf;},'JBPSM':function(_0x4b7b81,_0x1b8523){return _0x4b7b81===_0x1b8523;},'buZyF':_0xd624b6(0x15c),'TgVOO':_0xd624b6(0x1a3),'PYJjK':function(_0x1b58e5,_0x437ae8){return _0x1b58e5(_0x437ae8);},'oqort':function(_0x44d3db,_0x5233f5){return _0x44d3db+_0x5233f5;},'QLQdx':_0xd624b6(0x1cd),'eUPFc':_0xd624b6(0x1e6),'udVGQ':function(_0x2e6477,_0x3ce57f){return _0x2e6477===_0x3ce57f;},'CPXdT':_0xd624b6(0x1af),'LEgqz':function(_0x5c39a9,_0x3e23f2){return _0x5c39a9===_0x3e23f2;},'gvRUr':'timedOut','pQWnH':function(_0x402ad3,_0x5e256e){return _0x402ad3===_0x5e256e;},'zXcHc':'Expected\x20to\x20fail,\x20but\x20passed.','yrAqe':function(_0xe32596,_0x340b66,_0x51a0b1){return _0xe32596(_0x340b66,_0x51a0b1);},'hgAZK':function(_0x599aa2,_0x5ab181){return _0x599aa2||_0x5ab181;},'tOYrP':function(_0x46eeca,_0x3d1bc1){return _0x46eeca(_0x3d1bc1);},'gDfNy':function(_0x5c91ad,_0x5ba243){return _0x5c91ad(_0x5ba243);},'QDljG':_0xd624b6(0x183),'zMLmw':function(_0x460ee8,_0x14953f){return _0x460ee8>_0x14953f;}};logger[_0xd624b6(0x1ea)](_0xd624b6(0x197)+_0x2e9b5c);const _0x146c34=new Date(_0x532c0b[_0xd624b6(0x14d)]),_0x33f60c=_0x532c0b[_0xd624b6(0x1cf)],_0x5281b1=new Date(_0x5c2b6d[_0xd624b6(0x18d)](_0x146c34[_0xd624b6(0x150)](),_0x33f60c)),_0x1e8f69=_0x532c0b['status'],_0x25b4c9=TestInfo[_0xd624b6(0x190)](_0x2e9b5c)[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{};let _0x55ef75=_0x1e8f69;if(_0x5c2b6d['MSPzJ'](_0x532c0b[_0xd624b6(0x188)],_0x24ebcb[_0xd624b6(0x1bf)]))_0x55ef75=_0x5c2b6d[_0xd624b6(0x18c)](_0x532c0b[_0xd624b6(0x188)],_0x5c2b6d[_0xd624b6(0x1b4)])?_0x5c2b6d[_0xd624b6(0x1b4)]:_0x5c2b6d[_0xd624b6(0x182)];else{(_0x5c2b6d[_0xd624b6(0x177)](_0x55ef75,_0x5c2b6d['eUPFc'])||_0x5c2b6d[_0xd624b6(0x18c)](_0x55ef75,_0x5c2b6d[_0xd624b6(0x1f3)])||_0x5c2b6d[_0xd624b6(0x1a7)](_0x55ef75,_0x5c2b6d[_0xd624b6(0x152)]))&&(_0x55ef75=_0x5c2b6d[_0xd624b6(0x1f3)]);if(_0x5c2b6d[_0xd624b6(0x16e)](_0x532c0b[_0xd624b6(0x188)],_0x5c2b6d['eUPFc'])&&_0x5c2b6d[_0xd624b6(0x16e)](_0x24ebcb[_0xd624b6(0x1bf)],_0x5c2b6d['CPXdT'])){const _0x4490b5={};_0x4490b5[_0xd624b6(0x20a)]=_0x5c2b6d[_0xd624b6(0x18e)],_0x4490b5[_0xd624b6(0x1b1)]=_0x5c2b6d[_0xd624b6(0x18e)],_0x532c0b[_0xd624b6(0x1e7)]=_0x4490b5,_0x532c0b[_0xd624b6(0x176)]=[_0x532c0b[_0xd624b6(0x1e7)]];}}const {failureData:_0x458a64,logs:_0xfec8b9}=_0x5c2b6d[_0xd624b6(0x17f)](getFailureData,_0x532c0b?.[_0xd624b6(0x176)],{}),_0x581a56={[TestFrameworkConstants[_0xd624b6(0x1a2)]]:_0x5c2b6d['hgAZK'](_0x458a64,null),[TestFrameworkConstants[_0xd624b6(0x169)]]:_0x532c0b?.[_0xd624b6(0x1e7)]&&_0x5c2b6d['tOYrP'](getFailureType,_0x532c0b[_0xd624b6(0x1e7)][_0xd624b6(0x20a)]),[TestFrameworkConstants[_0xd624b6(0x1f6)]]:_0x532c0b?.[_0xd624b6(0x1e7)]&&_0x5c2b6d['gDfNy'](removeAnsiColors,_0x532c0b[_0xd624b6(0x1e7)][_0xd624b6(0x20a)]),[TestFrameworkConstants['KEY_LOGS']]:[],[TestFrameworkConstants[_0xd624b6(0x166)]]:_0x55ef75,[TestFrameworkConstants[_0xd624b6(0x17a)]]:_0x5281b1[_0xd624b6(0x1d7)](),[TestFrameworkConstants[_0xd624b6(0x1d2)]]:new Date()[_0xd624b6(0x1d7)](),[TestFrameworkConstants[_0xd624b6(0x1b5)]]:_0x25b4c9},_0x507312={};_0x507312['test']=_0x24ebcb;const _0x9f37ff=this[_0xd624b6(0x19f)](TestFrameworkState[_0xd624b6(0x1bd)],HookState['POST'],_0x507312),_0x464c00=_0x9f37ff[_0xd624b6(0x1da)]()[_0xd624b6(0x1c5)](_0x2e9b5c)[TestFrameworkConstants[_0xd624b6(0x1a1)]],_0x2b1b88=[],_0x155d12=_0x5c2b6d['yrAqe'](findNestedKey,_0x532c0b,_0x5c2b6d[_0xd624b6(0x1de)]);if(_0x155d12&&_0x5c2b6d[_0xd624b6(0x1d8)](validateFilePath,_0x155d12))try{_0x2b1b88['push']({'kind':_0x5c2b6d[_0xd624b6(0x1bc)],'timestamp':new Date()['toISOString'](),'test_run_uuid':_0x464c00,'file_name':path[_0xd624b6(0x1d5)](_0x155d12),'file_size':fs[_0xd624b6(0x1ef)](_0x155d12)[_0xd624b6(0x1e8)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x5081f8){logger['error'](_0xd624b6(0x210)+_0x155d12+':\x20'+_0x5081f8[_0xd624b6(0x20a)]);}const _0x31b8cf=TestInfo[_0xd624b6(0x1fc)](),_0x681e78=_0x31b8cf['filter'](_0x576e5c=>_0x576e5c[_0xd624b6(0x19c)]===_0x464c00);_0x681e78['forEach'](_0x176457=>{const _0x94523d=_0xd624b6;if(_0x176457[_0x94523d(0x207)]&&_0x5c2b6d[_0x94523d(0x1ed)](validateFilePath,_0x176457[_0x94523d(0x207)])&&!_0x2b1b88[_0x94523d(0x1fb)](_0x40a6c3=>_0x40a6c3[_0x94523d(0x154)]===path[_0x94523d(0x1d5)](_0x176457[_0x94523d(0x207)])))try{_0x2b1b88[_0x94523d(0x1e2)]({'kind':_0x5c2b6d[_0x94523d(0x1bc)],'timestamp':new Date()['toISOString'](),'test_run_uuid':_0x464c00,'file_name':path[_0x94523d(0x1d5)](_0x176457[_0x94523d(0x207)]),'file_size':fs[_0x94523d(0x1ef)](_0x176457[_0x94523d(0x207)])[_0x94523d(0x1e8)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x22ec01){logger[_0x94523d(0x1e7)](_0x94523d(0x1eb)+_0x176457[_0x94523d(0x207)]+_0x94523d(0x1fe)+_0x22ec01[_0x94523d(0x20a)]);}});if(_0x5c2b6d[_0xd624b6(0x164)](_0x2b1b88[_0xd624b6(0x14b)],0x0)){const _0x27a291=_0x581a56[TestFrameworkConstants[_0xd624b6(0x153)]]||[];_0x581a56[TestFrameworkConstants[_0xd624b6(0x153)]]=[..._0x27a291,..._0x2b1b88];}const _0x47619d=TestInfo[_0xd624b6(0x190)](_0x2e9b5c)[TestFrameworkConstants[_0xd624b6(0x1d1)]]||{},_0x7f1248=_0x5c2b6d[_0xd624b6(0x17f)](getManualUploadLogs,_0x47619d,_0x9f37ff[_0xd624b6(0x1da)]()['get'](_0x2e9b5c)[TestFrameworkConstants[_0xd624b6(0x1a1)]]);if(_0x5c2b6d[_0xd624b6(0x164)](_0x7f1248[_0xd624b6(0x14b)],0x0)){const _0x4e0905=_0x581a56[TestFrameworkConstants[_0xd624b6(0x153)]]||[];_0x581a56[TestFrameworkConstants[_0xd624b6(0x153)]]=[..._0x4e0905,..._0x7f1248];}const _0x49c358=_0x24ebcb[_0xd624b6(0x1ee)]||[],_0x2c852f=_0x581a56[TestFrameworkConstants[_0xd624b6(0x1b5)]]||{};_0x49c358[_0xd624b6(0x167)](_0x51ca67=>{const _0x5446fe=_0xd624b6,{type:_0x11a3f9}=_0x51ca67;let _0x415cda=_0x51ca67[_0x5446fe(0x20b)];if(!_0x11a3f9)return;(_0x5c2b6d[_0x5446fe(0x18c)](_0x415cda,undefined)||_0x5c2b6d[_0x5446fe(0x18c)](_0x415cda,null)||_0x5c2b6d[_0x5446fe(0x1f1)](_0x5c2b6d[_0x5446fe(0x1ed)](String,_0x415cda)[_0x5446fe(0x15e)](),''))&&(_0x415cda=_0x5c2b6d['buZyF']);if(!_0x2c852f[_0x11a3f9]){const _0xcb9121={};_0xcb9121[_0x5446fe(0x201)]=_0x5c2b6d[_0x5446fe(0x1ba)],_0xcb9121['values']=[],_0x2c852f[_0x11a3f9]=_0xcb9121;}else!_0x2c852f[_0x11a3f9]['field_type']&&(_0x2c852f[_0x11a3f9]['field_type']=_0x5c2b6d[_0x5446fe(0x1ba)]),!Array[_0x5446fe(0x171)](_0x2c852f[_0x11a3f9]['values'])&&(_0x2c852f[_0x11a3f9][_0x5446fe(0x209)]=[]);const _0x16125d=_0x5c2b6d[_0x5446fe(0x192)](String,_0x415cda)[_0x5446fe(0x1c4)](',')[_0x5446fe(0x1f7)](_0x74f64c=>_0x74f64c['trim']());_0x2c852f[_0x11a3f9][_0x5446fe(0x209)]=[...new Set([..._0x2c852f[_0x11a3f9][_0x5446fe(0x209)],..._0x16125d])];}),_0x581a56[TestFrameworkConstants[_0xd624b6(0x1b5)]]=_0x2c852f,TestInfo[_0xd624b6(0x1be)](_0x2e9b5c,_0x581a56);const _0x13222c={};return _0x13222c[_0x2e9b5c]=_0x581a56,_0x13222c;}async[a63_0xcf8b5(0x19e)](_0x181a19,_0x452dd4,_0x2702fb,_0x545d5d){const _0x2754a4=a63_0xcf8b5,_0x46618d={'YpBGr':function(_0x3fb08f,_0x264375){return _0x3fb08f in _0x264375;},'lyYEg':function(_0x339131,_0x460b57){return _0x339131 in _0x460b57;},'qgqNy':function(_0x2f9f53,_0x47f9e8){return _0x2f9f53(_0x47f9e8);},'HtmOz':function(_0x58014b,_0x246c0f){return _0x58014b(_0x246c0f);},'OKXuP':function(_0x457e85,_0x5affd3){return _0x457e85===_0x5affd3;},'AinAx':function(_0x12c555){return _0x12c555();},'cRhNw':function(_0x3aabb5,_0x58919a){return _0x3aabb5>_0x58919a;},'ZlDVS':function(_0x1e3e26,_0x15d987,_0x23cddc){return _0x1e3e26(_0x15d987,_0x23cddc);},'gTaot':_0x2754a4(0x185),'rVQpJ':function(_0x19101b,_0x4715e8){return _0x19101b(_0x4715e8);},'fFYjA':_0x2754a4(0x1af),'pceSi':_0x2754a4(0x1e6),'sTHEU':function(_0x4771db,_0x2982ab){return _0x4771db!==_0x2982ab;},'opsJI':function(_0xc5ea88,_0x4975f5){return _0xc5ea88+_0x4975f5;},'xLTYR':_0x2754a4(0x1d4)},_0x27c4cb=_0x545d5d[_0x2754a4(0x20d)],_0x363373=_0x545d5d[_0x2754a4(0x174)],_0x32f150=_0x545d5d[_0x2754a4(0x20d)]['id'],_0x484f2a=_0x452dd4[_0x2754a4(0x189)]()[_0x2754a4(0x1c4)]('.')[0x1];let _0x56c291=_0x181a19[_0x2754a4(0x1da)]()[_0x2754a4(0x1c5)](_0x32f150)[TestFrameworkConstants[_0x2754a4(0x1e9)]];!_0x56c291&&(_0x56c291={});!_0x46618d['YpBGr'](_0x484f2a,_0x56c291)&&(_0x56c291[_0x484f2a]=[]);let _0x283551=_0x181a19['getAllData']()['get'](_0x32f150)[TestFrameworkConstants[_0x2754a4(0x159)]];!_0x283551&&(_0x283551={});!_0x46618d['lyYEg'](_0x484f2a,_0x283551)&&(_0x283551[_0x484f2a]=[]);const _0x2a8c44={[TestFrameworkConstants['KEY_HOOKS_STARTED']]:_0x56c291,[TestFrameworkConstants[_0x2754a4(0x159)]]:_0x283551},_0x4b7ad1={};_0x4b7ad1[_0x32f150]=_0x2a8c44;const _0x184d6e=_0x4b7ad1,_0x4ceecf=_0x46618d[_0x2754a4(0x193)](getPlaywrightTestFilePath,_0x27c4cb),_0x616b05=_0x4ceecf+':'+_0x46618d[_0x2754a4(0x158)](getPlaywrightTestLocation,_0x27c4cb),_0x2a11cc=TestInfo[_0x2754a4(0x190)](_0x32f150)[TestFrameworkConstants[_0x2754a4(0x1b5)]]||{};if(_0x46618d[_0x2754a4(0x162)](_0x2702fb,HookState[_0x2754a4(0x16b)])){const _0xeab0a7={'key':_0x484f2a,[TestFrameworkConstants[_0x2754a4(0x200)]]:_0x46618d[_0x2754a4(0x187)](uuidv4),[TestFrameworkConstants['KEY_HOOK_RESULT']]:TestFrameworkConstants[_0x2754a4(0x1ce)],[TestFrameworkConstants['KEY_EVENT_STARTED_AT']]:_0x363373[_0x2754a4(0x14d)],[TestFrameworkConstants['KEY_HOOK_LOGS']]:[],[TestFrameworkConstants[_0x2754a4(0x1ec)]]:_0x363373[_0x2754a4(0x194)],[TestFrameworkConstants['KEY_TEST_FILE_PATH']]:_0x4ceecf,[TestFrameworkConstants[_0x2754a4(0x1e5)]]:_0x616b05,[TestFrameworkConstants[_0x2754a4(0x1b5)]]:_0x2a11cc};_0x56c291[_0x484f2a][_0x2754a4(0x1e2)](_0xeab0a7),_0x184d6e[_0x32f150][TestFrameworkConstants[_0x2754a4(0x14c)]]=_0x484f2a,logger[_0x2754a4(0x1ea)](_0x2754a4(0x1d6)+_0x484f2a+_0x2754a4(0x1d0)+_0xeab0a7+_0x2754a4(0x1ad)+_0x545d5d);}else{if(_0x46618d['OKXuP'](_0x2702fb,HookState['POST'])){const _0x52aca8=await _0x545d5d[_0x2754a4(0x211)],_0xb5646f=_0x56c291[_0x484f2a]||[],_0x23deb2=_0x545d5d[_0x2754a4(0x174)];logger['debug'](_0x2754a4(0x1d9)+_0xb5646f+_0x2754a4(0x157)+_0x545d5d);if(_0x46618d[_0x2754a4(0x1db)](_0xb5646f[_0x2754a4(0x14b)],0x0)){const _0x47d0a8=_0xb5646f[_0x2754a4(0x1f4)]();if(_0x23deb2[_0x2754a4(0x1e7)]){const _0x244be2=_0x46618d['ZlDVS'](failureData,_0x23deb2[_0x2754a4(0x1e7)],_0x46618d[_0x2754a4(0x14f)]);_0x47d0a8[TestFrameworkConstants[_0x2754a4(0x1dd)]]=_0x46618d[_0x2754a4(0x1b3)](getFailureType,_0x23deb2?.['error'][_0x2754a4(0x20a)]),_0x47d0a8[TestFrameworkConstants[_0x2754a4(0x1c3)]]=_0x46618d[_0x2754a4(0x1b3)](removeAnsiColors,_0x23deb2?.[_0x2754a4(0x1e7)][_0x2754a4(0x20a)]),_0x47d0a8[TestFrameworkConstants[_0x2754a4(0x1b7)]]=_0x46618d[_0x2754a4(0x202)],_0x47d0a8[TestFrameworkConstants['KEY_HOOK_FAILURE']]=_0x244be2;}else _0x47d0a8[TestFrameworkConstants['KEY_HOOK_RESULT']]=_0x46618d[_0x2754a4(0x1ab)];_0x46618d['sTHEU'](_0x52aca8,TestFrameworkConstants[_0x2754a4(0x1ce)])&&(_0x47d0a8[TestFrameworkConstants[_0x2754a4(0x1b7)]]=!_0x23deb2[_0x2754a4(0x1e7)]?_0x46618d[_0x2754a4(0x1ab)]:_0x46618d['fFYjA']);const _0x5d7462=new Date(_0x23deb2[_0x2754a4(0x14d)]),_0x3cdaef=new Date(_0x46618d['opsJI'](_0x5d7462[_0x2754a4(0x150)](),_0x23deb2['duration']));_0x47d0a8[TestFrameworkConstants[_0x2754a4(0x186)]]=_0x3cdaef[_0x2754a4(0x1d7)](),_0x47d0a8[TestFrameworkConstants[_0x2754a4(0x1b5)]]=_0x2a11cc;const _0x16185c=_0x47d0a8[TestFrameworkConstants['KEY_HOOK_ID']];await this[_0x2754a4(0x184)](_0x181a19,_0x452dd4,_0x16185c,_0x46618d['xLTYR'],_0x545d5d),!_0x283551[_0x484f2a]&&(_0x283551[_0x484f2a]=[]),_0x283551[_0x484f2a][_0x2754a4(0x1e2)](_0x47d0a8),_0x184d6e[_0x32f150][TestFrameworkConstants['KEY_HOOK_LAST_FINISHED']]=_0x484f2a;}}}return _0x184d6e;}async[a63_0xcf8b5(0x184)](_0x3c406e,_0x1bc6a8,_0x2f803e,_0x2199a1,_0x3453df){const _0x36cd7c=a63_0xcf8b5,_0xf7c56f={'YgVrs':function(_0x3dfeed,_0x44c05e){return _0x3dfeed===_0x44c05e;},'HRoDq':_0x36cd7c(0x20d),'oOfrV':function(_0x997b04,_0x10ca5e,_0x1fcf12){return _0x997b04(_0x10ca5e,_0x1fcf12);},'msLpn':function(_0x2a2180,_0xa1ebf5,_0x4a7e8e,_0x4b8e97){return _0x2a2180(_0xa1ebf5,_0x4a7e8e,_0x4b8e97);},'dBTRw':function(_0x419a46,_0x10ced5,_0x25a4f8){return _0x419a46(_0x10ced5,_0x25a4f8);},'Cocrx':function(_0x1d12f6,_0x21b2cb,_0x4b78d3,_0x2ab166,_0x5b110c){return _0x1d12f6(_0x21b2cb,_0x4b78d3,_0x2ab166,_0x5b110c);},'ULgUD':function(_0x3b8872,_0x23a51d,_0x31be7f,_0x1f4b26){return _0x3b8872(_0x23a51d,_0x31be7f,_0x1f4b26);},'Amywz':_0x36cd7c(0x1d4)};try{if(_0xf7c56f[_0x36cd7c(0x1cc)](_0x2199a1,_0xf7c56f['HRoDq'])){const _0x547278=await _0x3453df[_0x36cd7c(0x211)],_0x3018cd=_0x3453df[_0x36cd7c(0x20d)]['id'],_0xd406d4=_0x3453df[_0x36cd7c(0x20d)];logger[_0x36cd7c(0x1ea)](_0x36cd7c(0x178)+_0x3018cd);const _0x5b20b5=_0x3c406e['getAllData']()[_0x36cd7c(0x1c5)](_0x3018cd)[TestFrameworkConstants[_0x36cd7c(0x1a1)]];await _0xf7c56f[_0x36cd7c(0x1a0)](sendTraceZip,_0x547278,_0x5b20b5);const {steps:_0x11e87e,logs:_0x50750f}=_0xf7c56f[_0x36cd7c(0x20c)](getStepsAndLogs,_0x547278[_0x36cd7c(0x1c6)],_0x3c406e['getAllData']()[_0x36cd7c(0x1c5)](_0x3018cd)[TestFrameworkConstants[_0x36cd7c(0x1a1)]],_0xf7c56f['HRoDq']),_0x4c5ff7=_0xf7c56f[_0x36cd7c(0x1a0)](getScreenshots,_0x547278,_0x3c406e['getAllData']()[_0x36cd7c(0x1c5)](_0x3018cd)[TestFrameworkConstants[_0x36cd7c(0x1a1)]]),{_:_0x92fe3e,logs:_0x571ff4}=_0xf7c56f['dBTRw'](getFailureData,_0x547278[_0x36cd7c(0x176)],{'test_run_uuid':_0x3c406e['getAllData']()[_0x36cd7c(0x1c5)](_0x3018cd)[TestFrameworkConstants[_0x36cd7c(0x1a1)]]}),_0xaf6ae9=TestInfo[_0x36cd7c(0x190)](_0x3018cd)[TestFrameworkConstants[_0x36cd7c(0x1d1)]]||{},_0x168ea6=_0xf7c56f[_0x36cd7c(0x1a0)](getMediaArtifactsLogs,_0xaf6ae9,_0x3c406e[_0x36cd7c(0x1da)]()[_0x36cd7c(0x1c5)](_0x3018cd)[TestFrameworkConstants['KEY_TEST_UUID']]),_0x392f55=_0x3c406e[_0x36cd7c(0x1da)]()[_0x36cd7c(0x1c5)](_0x3018cd),{[TestFrameworkConstants[_0x36cd7c(0x1fd)]]:_0x514c6d='',[TestFrameworkConstants[_0x36cd7c(0x213)]]:_0xf6abc6=''}=_0x392f55,_0x27a2a0={'platformIndex':'0','logs':[..._0x50750f||[],..._0x4c5ff7||[],..._0x571ff4||[],..._0x168ea6||[]],'testFrameworkName':_0x514c6d,'testFrameworkVersion':_0xf6abc6,'testFrameworkState':_0x1bc6a8[_0x36cd7c(0x189)]()[_0x36cd7c(0x1c4)]('.')[0x1]};_0xf7c56f[_0x36cd7c(0x155)](updatePayloadForTraceLogs,_0x27a2a0,_0x3453df,_0x3018cd,_0x3c406e),logger[_0x36cd7c(0x1ea)](_0x36cd7c(0x168)+_0x3018cd+_0x36cd7c(0x20f)+util[_0x36cd7c(0x17c)](_0x27a2a0));const _0x35180e=await GrpcClient['getInstance']()[_0x36cd7c(0x1f9)](_0x27a2a0);}else{const {steps:_0x58df5f,logs:_0x16e31e}=_0xf7c56f[_0x36cd7c(0x195)](getStepsAndLogs,_0x3453df[_0x36cd7c(0x174)][_0x36cd7c(0x1c6)],_0x2f803e,_0xf7c56f['Amywz']),_0x4ba561=_0x3453df[_0x36cd7c(0x20d)]['id'];logger['debug'](_0x36cd7c(0x178)+_0x4ba561);const _0x57718f=_0x3c406e[_0x36cd7c(0x1da)]()[_0x36cd7c(0x1c5)](_0x4ba561),{[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x5d7bae='',[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x49cc84=''}=_0x57718f,_0x36658c={'platformIndex':'0','logs':_0x16e31e,'testFrameworkName':_0x5d7bae,'testFrameworkVersion':_0x49cc84,'testFrameworkState':_0x1bc6a8[_0x36cd7c(0x189)]()[_0x36cd7c(0x1c4)]('.')[0x1]};_0xf7c56f['Cocrx'](updatePayloadForTraceLogs,_0x36658c,_0x3453df,_0x4ba561,_0x3c406e),logger[_0x36cd7c(0x1ea)]('sendLogCreatedEvent\x20for\x20testId:\x20'+_0x4ba561+_0x36cd7c(0x20f)+util[_0x36cd7c(0x17c)](_0x36658c));const _0x2a40b4=await GrpcClient['getInstance']()[_0x36cd7c(0x1f9)](_0x36658c);}}catch(_0x1bf923){logger[_0x36cd7c(0x1e7)](_0x36cd7c(0x17e)+util[_0x36cd7c(0x196)](_0x1bf923));}}}module['exports']=PlaywrightTestFramework;function a63_0x1ad6(_0x3f050c,_0x4c2e8b){const _0x1ad8c7=a63_0x1ad8();return a63_0x1ad6=function(_0x1ad6b7,_0x3bbc16){_0x1ad6b7=_0x1ad6b7-0x14b;let _0x30dac9=_0x1ad8c7[_0x1ad6b7];return _0x30dac9;},a63_0x1ad6(_0x3f050c,_0x4c2e8b);}function a63_0x1ad8(){const _0x5b9b63=['KEY_HOOKS_FINISHED','\x20instanceId=','8ooCWoN','No\x20reason\x20provided','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','trim','KEY_TEST_RERUN_NAME','getTestFrameworks','info','OKXuP','\x20target=','zMLmw','getTestFrameworksVersions','KEY_TEST_RESULT','forEach','sendLogCreatedEvent\x20for\x20testId:\x20','KEY_TEST_FAILURE_TYPE','POST','PRE',',\x20state=','../../../../src/helpers/helper','pQWnH','setTrackedInstance','trackPlaywrightInstance:\x20saved\x20instance\x20contextId=','isArray','8039675Pycyix','KEY_TEST_STARTED_AT','step','../cliUtils.js','errors','udVGQ','sendLogCreatedEvent:\x20testId=','DEFAULT_TEST_RESULT','KEY_TEST_ENDED_AT','runHooks','inspect','KEY_TEST_NAME','Error\x20in\x20sendLogCreatedEvent:\x20','yrAqe','../grpcClient','getCurrentInstanceName','eUPFc','path','sendLogCreatedEvent','err','KEY_EVENT_ENDED_AT','AinAx','status','toString','util','6yFEisZ','MSPzJ','oqort','zXcHc','igAoQ','getTestDetails','getRef','PYJjK','qgqNy','title','ULgUD','format','parsePlaywrightTestResult:\x20testId=','jLUje','KEY_TEST_FILE_PATH','../state/hookState.js','12662640jUfHSk','testUId','./constants/testFrameworkConstants.js','trackHookEvent','resolveInstance','oOfrV','KEY_TEST_UUID','KEY_TEST_FAILURE','multi_dropdown','qgnbz','20427zNwIzv','\x20testHookState=','LEgqz','458691dbzmyW','../../../helpers/test-observability/utils','KEY_TEST_TAGS','pceSi','uuid','\x20\x20and\x20args\x20=\x20','CBapB','failed','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','stack','APiRp','rVQpJ','QLQdx','KEY_CUSTOM_TAGS','getTestUUID','KEY_HOOK_RESULT','../../../helpers/classLogger.js','2rIXOJE','TgVOO','KEY_TEST_LOGS','GNrlg','TEST','setTestDetails','expectedStatus','NdInO','832krwTeH','results','KEY_HOOK_FAILURE_REASON','split','get','steps','../state/testFrameworkState.js','KEY_AUTOMATE_SESSION_NAME','INIT_TEST','KEY_TEST_SCOPES','KEY_TEST_SCOPE','YgVrs','skipped','DEFAULT_HOOK_RESULT','duration','\x20&\x20hook\x20=\x20','KEY_TEST_ATTACHMENTS','KEY_TEST_RESULT_AT','WCGxA','hook','basename','Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','toISOString','tOYrP','Hook\x20List\x20in\x20Post\x20','getAllData','cRhNw','createContext','KEY_HOOK_FAILURE_TYPE','QDljG','getTrackedInstance','HEQTa','\x20instance=','push','HtZUW',',\x20testFrameworkState=','KEY_TEST_LOCATION','passed','error','size','KEY_HOOKS_STARTED','debug','Error\x20processing\x20trace\x20file\x20','KEY_HOOK_NAME','dSJEw','annotations','statSync','../../../helpers/helper.js','JBPSM','mZjRO','CPXdT','pop','parsePlaywrightTest','KEY_TEST_FAILURE_REASON','map','trackEvent\x20loading\x20testResults\x20for\x20testId:\x20','logCreatedEvent','../../playwright/reporter/pwUtils','some','getTraceFilePaths','KEY_TEST_FRAMEWORK_NAME','\x20from\x20TestDetails:\x20','2539790FyNvFm','KEY_HOOK_ID','field_type','fFYjA','PlaywrightTestFramework','TEST_ATTACHMENT','trackPlaywrightInstance','40378096VSXiSs','filePath','trackPlaywrightInstance:\x20created\x20instance\x20for\x20target=','values','message','description','msLpn','test','getId','\x20payload=','Error\x20processing\x20direct\x20trace\x20file\x20','result','nPxgw','KEY_TEST_FRAMEWORK_VERSION','instance','../instances/testFrameworkInstance.js','trackEvent','length','KEY_HOOK_LAST_STARTED','startTime','1294344TLbCaJ','gTaot','getTime','parsePlaywrightTestResult','gvRUr','KEY_LOGS','file_name','Cocrx','msasY','\x20and\x20args\x20=\x20','HtmOz'];a63_0x1ad8=function(){return _0x5b9b63;};return a63_0x1ad8();}