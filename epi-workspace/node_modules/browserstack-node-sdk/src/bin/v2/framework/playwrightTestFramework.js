function a65_0x3c6f(){const _0x5888c7=['annotations','IwDlG','size','../state/hookState.js','KEY_TEST_RESULT_AT','YBBxB','info','toString','SJjPy','mETJt','getTestDetails','KEY_HOOK_FAILURE','KEY_TEST_ATTACHMENTS','title','No\x20reason\x20provided','length','GbpvE','\x20from\x20TestDetails:\x20','getTestFrameworks','TocNf','getInstance','failed','\x20testHookState=','trackPlaywrightInstance:\x20created\x20instance\x20for\x20target=','testUId','path','../../../helpers/classLogger.js','\x20&\x20hook\x20=\x20','UFjiX','KEY_HOOK_LAST_FINISHED','KEY_TEST_FILE_PATH','startTime','\x20target=','some','2387710dnOVcU','4986740zspBDF','parsePlaywrightTest','GDvpR','sendLogCreatedEvent','4037910XOhozc','forEach','2584947Dvqrfh','iapsV','BrVHv','trackEvent:\x20found\x20instance,\x20testFrameworkState=','KEY_HOOK_NAME','IvQPj','passed','Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','inspect','DNiMR','KEY_EVENT_ENDED_AT','POST','statSync','PlaywrightTestFramework','../../../../src/helpers/helper','pcGiZ','KEY_TEST_TAGS','getRef','vsfgH','WxCWf','getTrackedInstance','Error\x20processing\x20direct\x20trace\x20file\x20','file_name','HIQWF','wpWBo','dLkbN','NONE','duration','KEY_HOOK_RESULT','QlNIg','FfMhb','toISOString','KEY_TEST_UUID','KEY_TEST_RESULT','DEFAULT_TEST_RESULT','errors','KEY_TEST_ENDED_AT','message','../../utils/constants','uNgOu','instance','TEST','description','getTestFrameworksVersions','trackHookEvent','KEY_EVENT_STARTED_AT','matchHookRegex','KEY_TEST_FRAMEWORK_NAME','skipped','runHooks','TEST_ATTACHMENT','ugTdj','parsePlaywrightTestResult:\x20testId=','createContext','Hook\x20List\x20in\x20Post\x20','LOAHw','fLIjk','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','cKtVd','KEY_HOOK_LAST_STARTED','zsnjI','KEY_TEST_SCOPES','UQVQw','YzwSQ','KEY_HOOKS_FINISHED','filePath','isArray','resolveInstance','\x20\x20and\x20args\x20=\x20','maWJm','trackEvent','../../../helpers/helper.js','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','../instances/trackedInstance.js','getTime','jNDUM','1266058jMUlkn','KEY_TEST_ID','../../../helpers/test-observability/utils','7AEINnf','exports','basename','\x20payload=','field_type','steps','KEY_HOOK_ID','trackPlaywrightInstance:\x20saved\x20instance\x20contextId=','YKkXB','setTestDetails','result','KEY_HOOKS_STARTED','xxfAy','Whpdx','KEY_TEST_FAILURE_REASON','KEY_TEST_FAILURE_TYPE','ycgGi','\x20instance=','trackPlaywrightInstance','qhSQv','KEY_LOGS','KEY_TEST_CODE','getAllData','KEY_HOOK_LOGS','KEY_TEST_NAME','util','KEY_TEST_LOCATION','status','filter','Dvenr','sWLUY','map','debug','674075ayDrRe','onKaT','../../playwright/reporter/pwUtils','test','push','multi_dropdown','nDyWG','err','cxdvz','KEY_CUSTOM_TAGS','SJoqk','step',',\x20testFrameworkState=','sendLogCreatedEvent\x20for\x20testId:\x20','KEY_TEST_FRAMEWORK_VERSION','iVmAv','expectedStatus','error','logCreatedEvent','UbSrQ','oSfLL','Error\x20processing\x20trace\x20file\x20','AtGQz','Expected\x20to\x20fail,\x20but\x20passed.','gHWzq','hook','3945080xMeRQq','split','../grpcClient','get','\x20hookState=','../instances/testFrameworkInstance.js','oorzH','OTCLD','pop','getCurrentInstanceName','trackEvent\x20loading\x20testResults\x20for\x20testId:\x20','KEY_TEST_SCOPE','trim','values','addMultipleEntries','PRE','NqOhY','VfRBc','KEY_TEST_STARTED_AT','../state/testFrameworkState.js','rsbzL','format'];a65_0x3c6f=function(){return _0x5888c7;};return a65_0x3c6f();}const a65_0x628f74=a65_0x1399;function a65_0x1399(_0x38d8fb,_0x297e85){const _0x3c6f07=a65_0x3c6f();return a65_0x1399=function(_0x1399c6,_0x29264f){_0x1399c6=_0x1399c6-0x68;let _0x3ff956=_0x3c6f07[_0x1399c6];return _0x3ff956;},a65_0x1399(_0x38d8fb,_0x297e85);}(function(_0x29de01,_0x13d831){const _0x2655b0=a65_0x1399,_0x4b02af=_0x29de01();while(!![]){try{const _0x1f4212=-parseInt(_0x2655b0(0xed))/0x1+-parseInt(_0x2655b0(0x9a))/0x2+parseInt(_0x2655b0(0xa1))/0x3+parseInt(_0x2655b0(0x9b))/0x4+-parseInt(_0x2655b0(0x111))/0x5+parseInt(_0x2655b0(0x9f))/0x6+-parseInt(_0x2655b0(0xf0))/0x7*(-parseInt(_0x2655b0(0x12b))/0x8);if(_0x1f4212===_0x13d831)break;else _0x4b02af['push'](_0x4b02af['shift']());}catch(_0x4472d7){_0x4b02af['push'](_0x4b02af['shift']());}}}(a65_0x3c6f,0xa5f2e));const TestFramework=require('./testFramework'),TestFrameworkState=require(a65_0x628f74(0x75)),HookState=require(a65_0x628f74(0x7b)),{createClassLogger}=require(a65_0x628f74(0x92)),TestFrameworkInstance=require(a65_0x628f74(0x130)),CLIUtils=require('../cliUtils.js'),TrackedInstance=require(a65_0x628f74(0xea)),TestFrameworkConstants=require('./constants/testFrameworkConstants.js'),logger=createClassLogger(a65_0x628f74(0xae)),{v4:uuidv4}=require('uuid'),util=require(a65_0x628f74(0x109)),{getPlaywrightSessionName,getPlaywrightTestFilePath,getPlaywrightTestId,getPlaywrightTestTitle,getPlaywrightTestLocation,getPlaywrightTestTags,getPlaywrightTestCode,getPlaywrightTestScope,getPlaywrightTestScopes,getStepsAndLogs,getScreenshots,getPlaywrightCustomRerunParam,getMediaArtifactsLogs,getManualUploadLogs,updatePayloadForTraceLogs}=require(a65_0x628f74(0xe8)),TestInfo=require('../TestInfo.js'),GrpcClient=require(a65_0x628f74(0x12d)),{removeAnsiColors,getFailureType,failureData}=require(a65_0x628f74(0xef)),{getFailureData,getTestTags}=require(a65_0x628f74(0x113)),{findNestedKey,sendTraceZip,validateFilePath}=require('../../playwright/reporter/pwUtils'),path=require(a65_0x628f74(0x91)),fs=require('fs'),helper=require(a65_0x628f74(0xaf)),{PLAYWRIGHT_TRACE_LOGS}=require(a65_0x628f74(0xc7));class PlaywrightTestFramework extends TestFramework{constructor(_0x1a27d7,_0x429110,_0x213832){super(_0x1a27d7,_0x429110,_0x213832);}async[a65_0x628f74(0xe7)](_0xdd94b7,_0x5e938a,_0x394b75={}){const _0x301e46=a65_0x628f74,_0x404845={};_0x404845[_0x301e46(0xbe)]=function(_0x2f478b,_0x5a254a){return _0x2f478b===_0x5a254a;},_0x404845[_0x301e46(0x117)]=function(_0x22858c,_0x2507ab){return _0x22858c===_0x2507ab;},_0x404845['ycgGi']=function(_0x285303,_0x4afe98){return _0x285303===_0x4afe98;},_0x404845['TocNf']=_0x301e46(0x114),_0x404845[_0x301e46(0xe0)]=_0x301e46(0xda);const _0x5bac26=_0x404845;await super[_0x301e46(0xe7)](_0xdd94b7,_0x5e938a,_0x394b75);const _0x5c4325=this['resolveInstance'](_0xdd94b7,_0x5e938a,_0x394b75);if(!_0x5c4325)return;logger[_0x301e46(0x110)](_0x301e46(0xa4)+_0xdd94b7+_0x301e46(0x12f)+_0x5e938a+'\x20instanceId='+_0x5c4325[_0x301e46(0xb2)]());try{if(_0x5bac26[_0x301e46(0xbe)](_0x5e938a,HookState[_0x301e46(0x71)])&&_0x5bac26['QlNIg'](_0xdd94b7,TestFrameworkState[_0x301e46(0xca)])){const _0x4972de=_0x394b75['test'];logger[_0x301e46(0x110)](_0x301e46(0xe9)+_0x4972de['id']+'}');const _0x57822c=TestInfo['getTestUUID'](_0x4972de['id']);_0x5c4325[_0x301e46(0x70)](this[_0x301e46(0x9c)](_0x57822c,_0x4972de)),logger['debug']('trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20'+_0x4972de['id']+_0x301e46(0x11d)+_0xdd94b7+_0x301e46(0x8e)+_0x5e938a+_0x301e46(0x101)+_0x5c4325['getRef']());}if(_0x5bac26[_0x301e46(0x117)](_0x5e938a,HookState['POST'])&&_0x5bac26[_0x301e46(0x100)](_0xdd94b7,TestFrameworkState[_0x301e46(0xca)])){const _0x269ade=_0x394b75[_0x301e46(0x114)],_0x557545=_0x394b75[_0x301e46(0xfa)];logger['debug'](_0x301e46(0x6c)+_0x269ade['id']),_0x5c4325[_0x301e46(0x70)](this['parsePlaywrightTestResult'](_0x269ade['id'],_0x557545,_0x269ade)),this['sendLogCreatedEvent'](_0x5c4325,_0xdd94b7,_0x5e938a,_0x5bac26[_0x301e46(0x8b)],_0x394b75);}if(CLIUtils[_0x301e46(0xcf)](_0xdd94b7[_0x301e46(0x7f)]()[_0x301e46(0x12c)]('.')[0x1])){const _0x25da92=await this[_0x301e46(0xcd)](_0x5c4325,_0xdd94b7,_0x5e938a,_0x394b75);_0x5c4325['addMultipleEntries'](_0x25da92);}}catch(_0x1c1119){logger['error'](util['format'](_0x5bac26[_0x301e46(0xe0)],_0xdd94b7,_0x5e938a,_0x394b75[_0x301e46(0x87)],_0x1c1119));}_0x394b75[_0x301e46(0xc9)]=_0x5c4325,await this[_0x301e46(0xd2)](_0x5c4325,_0xdd94b7,_0x5e938a,_0x394b75);}[a65_0x628f74(0xe4)](_0x537811,_0x53e76e,_0x33f7dc={}){const _0x272294=a65_0x628f74,_0x5ca582={};_0x5ca582[_0x272294(0xb0)]=function(_0x594fa0,_0x5bd330){return _0x594fa0===_0x5bd330;},_0x5ca582[_0x272294(0x81)]=function(_0x507975,_0x117423){return _0x507975===_0x117423;};const _0x5bed35=_0x5ca582;let _0x2b69aa=null;return(_0x5bed35[_0x272294(0xb0)](_0x537811,TestFrameworkState['INIT_TEST'])||_0x5bed35['mETJt'](_0x537811,TestFrameworkState[_0x272294(0xbb)]))&&this[_0x272294(0x102)](_0x537811,_0x33f7dc),_0x2b69aa=TestFramework[_0x272294(0xb5)](),_0x2b69aa;}[a65_0x628f74(0x102)](_0x32a079,_0x538b18){const _0x36e14f=a65_0x628f74,_0x44554e=CLIUtils[_0x36e14f(0x6b)](),_0x4f7c55=TrackedInstance[_0x36e14f(0xd6)](_0x44554e);let _0x9426fe=null;logger[_0x36e14f(0x7e)](_0x36e14f(0x8f)+_0x44554e+',\x20state='+_0x32a079),_0x9426fe=new TestFrameworkInstance(_0x4f7c55,this[_0x36e14f(0x8a)](),this[_0x36e14f(0xcc)](),_0x32a079,HookState[_0x36e14f(0xbb)]),TestFramework['setTrackedInstance'](_0x4f7c55,_0x9426fe),logger[_0x36e14f(0x7e)](_0x36e14f(0xf7)+_0x4f7c55['getId']()+_0x36e14f(0x98)+_0x44554e);}[a65_0x628f74(0x9c)](_0x3951d9,_0x3a9b1d){const _0x511afb=a65_0x628f74,_0x415d02={'zsnjI':function(_0x17f2d7,_0x497c73){return _0x17f2d7(_0x497c73);},'ugTdj':function(_0x17310e,_0x224674){return _0x17310e(_0x224674);},'UbSrQ':function(_0xe3b746,_0x10a6a0){return _0xe3b746(_0x10a6a0);},'WxCWf':function(_0x500a0d,_0x13eac2){return _0x500a0d(_0x13eac2);}},_0x4cb7d0=_0x415d02[_0x511afb(0xdd)](getPlaywrightTestId,_0x3a9b1d),_0x274cbf=_0x415d02[_0x511afb(0xdd)](getPlaywrightTestTitle,_0x3a9b1d),_0xde72b1=_0x415d02[_0x511afb(0xd4)](getTestTags,_0x3a9b1d),_0x174bfd=_0x415d02[_0x511afb(0xdd)](getPlaywrightTestCode,_0x3a9b1d),_0x53d93d=_0x415d02['UbSrQ'](getPlaywrightTestFilePath,_0x3a9b1d),_0x2b21d6=_0x53d93d+':'+_0x415d02[_0x511afb(0xb4)](getPlaywrightTestLocation,_0x3a9b1d),_0x5b41e2=_0x415d02[_0x511afb(0x124)](getPlaywrightTestScope,_0x3a9b1d),_0x1f168f=_0x415d02[_0x511afb(0xd4)](getPlaywrightTestScopes,_0x3a9b1d),_0x29fd5c=_0x415d02[_0x511afb(0xdd)](getPlaywrightSessionName,_0x3a9b1d),_0x1655ce=this['getTestFrameworks']()[0x0],_0x1a5f3c={[TestFrameworkConstants[_0x511afb(0xd0)]]:_0x1655ce,[TestFrameworkConstants[_0x511afb(0x11f)]]:this[_0x511afb(0xcc)]()[_0x1655ce],[TestFrameworkConstants['KEY_TEST_LOGS']]:[],[TestFrameworkConstants[_0x511afb(0xe1)]]:{},[TestFrameworkConstants[_0x511afb(0xfb)]]:{},[TestFrameworkConstants[_0x511afb(0xc1)]]:_0x3951d9,[TestFrameworkConstants[_0x511afb(0xc2)]]:TestFrameworkConstants[_0x511afb(0xc3)],[TestFrameworkConstants['KEY_AUTOMATE_SESSION_NAME']]:_0x29fd5c,[TestFrameworkConstants[_0x511afb(0x96)]]:_0x53d93d,[TestFrameworkConstants[_0x511afb(0xee)]]:_0x4cb7d0,[TestFrameworkConstants[_0x511afb(0x108)]]:_0x274cbf,[TestFrameworkConstants[_0x511afb(0x10a)]]:_0x2b21d6,[TestFrameworkConstants[_0x511afb(0x105)]]:_0x174bfd,[TestFrameworkConstants[_0x511afb(0xb1)]]:_0xde72b1,[TestFrameworkConstants[_0x511afb(0x74)]]:_0x3a9b1d['results'][0x0]['startTime'],[TestFrameworkConstants[_0x511afb(0x6d)]]:_0x5b41e2,[TestFrameworkConstants[_0x511afb(0xde)]]:_0x1f168f,[TestFrameworkConstants['KEY_TEST_RERUN_NAME']]:_0x415d02[_0x511afb(0xdd)](getPlaywrightCustomRerunParam,_0x3a9b1d)};TestInfo[_0x511afb(0xf9)](_0x3a9b1d['id'],_0x1a5f3c);const _0x541791={};return _0x541791[_0x4cb7d0]=_0x1a5f3c,_0x541791;}['parsePlaywrightTestResult'](_0x4d2e6e,_0x58378b,_0x5ef143){const _0x38ab9c=a65_0x628f74,_0x4faba6={'sWLUY':function(_0x25b19a,_0x1957aa){return _0x25b19a(_0x1957aa);},'VfRBc':_0x38ab9c(0xd3),'GDvpR':function(_0x2fc9ed,_0x414f5e){return _0x2fc9ed===_0x414f5e;},'xxfAy':function(_0x51a44c,_0x20e504){return _0x51a44c===_0x20e504;},'SJjPy':function(_0x2e14ba,_0x5d1396){return _0x2e14ba(_0x5d1396);},'HIQWF':_0x38ab9c(0x86),'GbpvE':_0x38ab9c(0x116),'LOAHw':function(_0x549355,_0x13acdd){return _0x549355+_0x13acdd;},'IwDlG':function(_0x3e26a4,_0xfa1848){return _0x3e26a4===_0xfa1848;},'DNiMR':function(_0x5ee828,_0xd54046){return _0x5ee828===_0xd54046;},'SBQNk':_0x38ab9c(0xd1),'jNDUM':_0x38ab9c(0xa7),'dLkbN':function(_0x28a617,_0x2eeb39){return _0x28a617===_0x2eeb39;},'oSfLL':_0x38ab9c(0x8d),'OTCLD':'timedOut','Whpdx':_0x38ab9c(0x128),'AtGQz':function(_0x578988,_0x171df1,_0x34670a){return _0x578988(_0x171df1,_0x34670a);},'rsbzL':function(_0x78b49b,_0x337050){return _0x78b49b||_0x337050;},'oorzH':function(_0x3283c6,_0x3810f8){return _0x3283c6(_0x3810f8);},'UQVQw':_0x38ab9c(0x91),'IvQPj':function(_0x4c0647,_0x3803fe){return _0x4c0647(_0x3803fe);},'hmNMN':function(_0x42ebcf,_0x1bd39a){return _0x42ebcf>_0x1bd39a;},'vsfgH':function(_0x4c4581,_0x53c06e){return _0x4c4581>_0x53c06e;}};logger[_0x38ab9c(0x110)](_0x38ab9c(0xd5)+_0x4d2e6e);const _0xadad49=new Date(_0x58378b[_0x38ab9c(0x97)]),_0x2d9a75=_0x58378b[_0x38ab9c(0xbc)],_0x38d9ad=new Date(_0x4faba6[_0x38ab9c(0xd8)](_0xadad49[_0x38ab9c(0xeb)](),_0x2d9a75)),_0x36cdb1=_0x58378b[_0x38ab9c(0x10b)],_0x1f599d=TestInfo[_0x38ab9c(0x82)](_0x4d2e6e)[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{};let _0x3b213c=_0x36cdb1;if(_0x4faba6[_0x38ab9c(0x79)](_0x58378b[_0x38ab9c(0x10b)],_0x5ef143[_0x38ab9c(0x121)]))_0x3b213c=_0x4faba6[_0x38ab9c(0xaa)](_0x58378b[_0x38ab9c(0x10b)],_0x4faba6['SBQNk'])?_0x4faba6['SBQNk']:_0x4faba6[_0x38ab9c(0xec)];else{(_0x4faba6['IwDlG'](_0x3b213c,_0x4faba6[_0x38ab9c(0xec)])||_0x4faba6[_0x38ab9c(0xba)](_0x3b213c,_0x4faba6['oSfLL'])||_0x4faba6[_0x38ab9c(0x79)](_0x3b213c,_0x4faba6[_0x38ab9c(0x69)]))&&(_0x3b213c=_0x4faba6[_0x38ab9c(0x125)]);if(_0x4faba6['GDvpR'](_0x58378b['status'],_0x4faba6[_0x38ab9c(0xec)])&&_0x4faba6['GDvpR'](_0x5ef143[_0x38ab9c(0x121)],_0x4faba6['oSfLL'])){const _0x578659={};_0x578659[_0x38ab9c(0xc6)]=_0x4faba6[_0x38ab9c(0xfd)],_0x578659['stack']=_0x4faba6[_0x38ab9c(0xfd)],_0x58378b['error']=_0x578659,_0x58378b[_0x38ab9c(0xc4)]=[_0x58378b[_0x38ab9c(0x122)]];}}const {failureData:_0x48201d,logs:_0x3dd130}=_0x4faba6[_0x38ab9c(0x127)](getFailureData,_0x58378b?.[_0x38ab9c(0xc4)],{}),_0x1d37a6={[TestFrameworkConstants['KEY_TEST_FAILURE']]:_0x4faba6[_0x38ab9c(0x76)](_0x48201d,null),[TestFrameworkConstants[_0x38ab9c(0xff)]]:_0x58378b?.[_0x38ab9c(0x122)]&&_0x4faba6[_0x38ab9c(0x68)](getFailureType,_0x58378b['error'][_0x38ab9c(0xc6)]),[TestFrameworkConstants[_0x38ab9c(0xfe)]]:_0x58378b?.['error']&&_0x4faba6[_0x38ab9c(0x68)](removeAnsiColors,_0x58378b['error'][_0x38ab9c(0xc6)]),[TestFrameworkConstants[_0x38ab9c(0x104)]]:[],[TestFrameworkConstants['KEY_TEST_RESULT']]:_0x3b213c,[TestFrameworkConstants[_0x38ab9c(0xc5)]]:_0x38d9ad['toISOString'](),[TestFrameworkConstants[_0x38ab9c(0x7c)]]:new Date()[_0x38ab9c(0xc0)](),[TestFrameworkConstants[_0x38ab9c(0x11a)]]:_0x1f599d},_0x2fe5ec={};_0x2fe5ec[_0x38ab9c(0x114)]=_0x5ef143;const _0xab7909=this[_0x38ab9c(0xe4)](TestFrameworkState[_0x38ab9c(0xca)],HookState[_0x38ab9c(0xac)],_0x2fe5ec),_0x425a5c=_0xab7909[_0x38ab9c(0x106)]()['get'](_0x4d2e6e)[TestFrameworkConstants['KEY_TEST_UUID']],_0x58c290=[],_0x4fd6d8=_0x4faba6['AtGQz'](findNestedKey,_0x58378b,_0x4faba6[_0x38ab9c(0xdf)]);if(_0x4fd6d8&&_0x4faba6[_0x38ab9c(0xa6)](validateFilePath,_0x4fd6d8))try{_0x58c290['push']({'kind':_0x4faba6[_0x38ab9c(0x73)],'timestamp':new Date()['toISOString'](),'test_run_uuid':_0x425a5c,'file_name':path[_0x38ab9c(0xf2)](_0x4fd6d8),'file_size':fs[_0x38ab9c(0xad)](_0x4fd6d8)[_0x38ab9c(0x7a)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x2db836){logger[_0x38ab9c(0x122)](_0x38ab9c(0xb6)+_0x4fd6d8+':\x20'+_0x2db836[_0x38ab9c(0xc6)]);}const _0xb2dbb4=TestInfo['getTraceFilePaths'](),_0x4ca3bb=_0xb2dbb4[_0x38ab9c(0x10c)](_0x18382d=>_0x18382d[_0x38ab9c(0x90)]===_0x425a5c);_0x4ca3bb[_0x38ab9c(0xa0)](_0x4dbc4c=>{const _0x59afe1=_0x38ab9c;if(_0x4dbc4c['filePath']&&_0x4faba6['sWLUY'](validateFilePath,_0x4dbc4c[_0x59afe1(0xe2)])&&!_0x58c290[_0x59afe1(0x99)](_0x329891=>_0x329891[_0x59afe1(0xb7)]===path[_0x59afe1(0xf2)](_0x4dbc4c['filePath'])))try{_0x58c290['push']({'kind':_0x4faba6[_0x59afe1(0x73)],'timestamp':new Date()[_0x59afe1(0xc0)](),'test_run_uuid':_0x425a5c,'file_name':path[_0x59afe1(0xf2)](_0x4dbc4c[_0x59afe1(0xe2)]),'file_size':fs['statSync'](_0x4dbc4c['filePath'])['size'],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x17a27b){logger[_0x59afe1(0x122)](_0x59afe1(0x126)+_0x4dbc4c[_0x59afe1(0xe2)]+_0x59afe1(0x89)+_0x17a27b['message']);}});if(_0x4faba6['hmNMN'](_0x58c290[_0x38ab9c(0x87)],0x0)){const _0xa14f02=_0x1d37a6[TestFrameworkConstants[_0x38ab9c(0x104)]]||[];_0x1d37a6[TestFrameworkConstants[_0x38ab9c(0x104)]]=[..._0xa14f02,..._0x58c290];}const _0x27fd5c=TestInfo[_0x38ab9c(0x82)](_0x4d2e6e)[TestFrameworkConstants[_0x38ab9c(0x84)]]||{},_0xb69613=_0x4faba6[_0x38ab9c(0x127)](getManualUploadLogs,_0x27fd5c,_0xab7909['getAllData']()[_0x38ab9c(0x12e)](_0x4d2e6e)[TestFrameworkConstants[_0x38ab9c(0xc1)]]);if(_0x4faba6[_0x38ab9c(0xb3)](_0xb69613[_0x38ab9c(0x87)],0x0)){const _0x8bf537=_0x1d37a6[TestFrameworkConstants['KEY_LOGS']]||[];_0x1d37a6[TestFrameworkConstants[_0x38ab9c(0x104)]]=[..._0x8bf537,..._0xb69613];}const _0x30a8ee=_0x5ef143[_0x38ab9c(0x78)]||[],_0x41e48d=_0x1d37a6[TestFrameworkConstants[_0x38ab9c(0x11a)]]||{};_0x30a8ee[_0x38ab9c(0xa0)](_0x55dfb7=>{const _0x4ba35b=_0x38ab9c,{type:_0x4064ef}=_0x55dfb7;let _0x320506=_0x55dfb7[_0x4ba35b(0xcb)];if(!_0x4064ef)return;(_0x4faba6[_0x4ba35b(0x9d)](_0x320506,undefined)||_0x4faba6[_0x4ba35b(0xfc)](_0x320506,null)||_0x4faba6[_0x4ba35b(0x9d)](_0x4faba6[_0x4ba35b(0x80)](String,_0x320506)[_0x4ba35b(0x6e)](),''))&&(_0x320506=_0x4faba6[_0x4ba35b(0xb8)]);if(!_0x41e48d[_0x4064ef]){const _0x3ebfd8={};_0x3ebfd8[_0x4ba35b(0xf4)]=_0x4faba6[_0x4ba35b(0x88)],_0x3ebfd8['values']=[],_0x41e48d[_0x4064ef]=_0x3ebfd8;}else!_0x41e48d[_0x4064ef][_0x4ba35b(0xf4)]&&(_0x41e48d[_0x4064ef][_0x4ba35b(0xf4)]=_0x4faba6[_0x4ba35b(0x88)]),!Array[_0x4ba35b(0xe3)](_0x41e48d[_0x4064ef]['values'])&&(_0x41e48d[_0x4064ef][_0x4ba35b(0x6f)]=[]);const _0x1d0e3f=_0x4faba6[_0x4ba35b(0x10e)](String,_0x320506)[_0x4ba35b(0x12c)](',')[_0x4ba35b(0x10f)](_0xb7b071=>_0xb7b071[_0x4ba35b(0x6e)]());_0x41e48d[_0x4064ef][_0x4ba35b(0x6f)]=[...new Set([..._0x41e48d[_0x4064ef][_0x4ba35b(0x6f)],..._0x1d0e3f])];}),_0x1d37a6[TestFrameworkConstants[_0x38ab9c(0x11a)]]=_0x41e48d,TestInfo[_0x38ab9c(0xf9)](_0x4d2e6e,_0x1d37a6);const _0x41357c={};return _0x41357c[_0x4d2e6e]=_0x1d37a6,_0x41357c;}async[a65_0x628f74(0xcd)](_0x31c571,_0xe06a0e,_0x34e341,_0x3fabb2){const _0x1d5eb0=a65_0x628f74,_0x3eb7e0={'onKaT':function(_0x4446fc,_0x4e1ab6){return _0x4446fc in _0x4e1ab6;},'maWJm':function(_0x1227be,_0x487118){return _0x1227be in _0x487118;},'YKkXB':function(_0x28f72c,_0x6b86b5){return _0x28f72c(_0x6b86b5);},'qhSQv':function(_0x1a8fcd,_0xd4cec4){return _0x1a8fcd===_0xd4cec4;},'Dvenr':function(_0x4cfa7c){return _0x4cfa7c();},'wpWBo':function(_0x36e578,_0x4c780a){return _0x36e578>_0x4c780a;},'iVmAv':function(_0x536400,_0x4444ba,_0x29d4a3){return _0x536400(_0x4444ba,_0x29d4a3);},'NqOhY':_0x1d5eb0(0x118),'uNgOu':function(_0x5a1759,_0x1fb3c8){return _0x5a1759(_0x1fb3c8);},'ZTPbN':function(_0x4409e5,_0x2a7dee){return _0x4409e5(_0x2a7dee);},'UFjiX':_0x1d5eb0(0x8d),'iapsV':_0x1d5eb0(0xa7),'YBBxB':function(_0x188741,_0x106bca){return _0x188741!==_0x106bca;},'cNSZy':function(_0x4995bd,_0x5e3a3e){return _0x4995bd+_0x5e3a3e;},'WVvUt':_0x1d5eb0(0x12a)},_0xdf79a0=_0x3fabb2[_0x1d5eb0(0x114)],_0x591f20=_0x3fabb2[_0x1d5eb0(0x11c)],_0x4c7909=_0x3fabb2[_0x1d5eb0(0x114)]['id'],_0x5a2257=_0xe06a0e[_0x1d5eb0(0x7f)]()['split']('.')[0x1];let _0x27f820=_0x31c571[_0x1d5eb0(0x106)]()[_0x1d5eb0(0x12e)](_0x4c7909)[TestFrameworkConstants[_0x1d5eb0(0xfb)]];!_0x27f820&&(_0x27f820={});!_0x3eb7e0[_0x1d5eb0(0x112)](_0x5a2257,_0x27f820)&&(_0x27f820[_0x5a2257]=[]);let _0xf09778=_0x31c571[_0x1d5eb0(0x106)]()[_0x1d5eb0(0x12e)](_0x4c7909)[TestFrameworkConstants['KEY_HOOKS_FINISHED']];!_0xf09778&&(_0xf09778={});!_0x3eb7e0[_0x1d5eb0(0xe6)](_0x5a2257,_0xf09778)&&(_0xf09778[_0x5a2257]=[]);const _0x49cbad={[TestFrameworkConstants[_0x1d5eb0(0xfb)]]:_0x27f820,[TestFrameworkConstants[_0x1d5eb0(0xe1)]]:_0xf09778},_0x17b9f7={};_0x17b9f7[_0x4c7909]=_0x49cbad;const _0x327211=_0x17b9f7,_0x4d6283=_0x3eb7e0[_0x1d5eb0(0xf8)](getPlaywrightTestFilePath,_0xdf79a0),_0x3db058=_0x4d6283+':'+_0x3eb7e0[_0x1d5eb0(0xf8)](getPlaywrightTestLocation,_0xdf79a0),_0x411e15=TestInfo[_0x1d5eb0(0x82)](_0x4c7909)[TestFrameworkConstants[_0x1d5eb0(0x11a)]]||{};if(_0x3eb7e0[_0x1d5eb0(0x103)](_0x34e341,HookState[_0x1d5eb0(0x71)])){const _0x13e051={'key':_0x5a2257,[TestFrameworkConstants[_0x1d5eb0(0xf6)]]:_0x3eb7e0[_0x1d5eb0(0x10d)](uuidv4),[TestFrameworkConstants[_0x1d5eb0(0xbd)]]:TestFrameworkConstants['DEFAULT_HOOK_RESULT'],[TestFrameworkConstants[_0x1d5eb0(0xce)]]:_0x591f20[_0x1d5eb0(0x97)],[TestFrameworkConstants[_0x1d5eb0(0x107)]]:[],[TestFrameworkConstants[_0x1d5eb0(0xa5)]]:_0x591f20[_0x1d5eb0(0x85)],[TestFrameworkConstants[_0x1d5eb0(0x96)]]:_0x4d6283,[TestFrameworkConstants[_0x1d5eb0(0x10a)]]:_0x3db058,[TestFrameworkConstants[_0x1d5eb0(0x11a)]]:_0x411e15};_0x27f820[_0x5a2257][_0x1d5eb0(0x115)](_0x13e051),_0x327211[_0x4c7909][TestFrameworkConstants[_0x1d5eb0(0xdc)]]=_0x5a2257,logger[_0x1d5eb0(0x110)](_0x1d5eb0(0xa8)+_0x5a2257+_0x1d5eb0(0x93)+_0x13e051+_0x1d5eb0(0xe5)+_0x3fabb2);}else{if(_0x3eb7e0[_0x1d5eb0(0x103)](_0x34e341,HookState[_0x1d5eb0(0xac)])){const _0x21ceba=await _0x3fabb2[_0x1d5eb0(0xfa)],_0x5d7db9=_0x27f820[_0x5a2257]||[],_0x17cd7c=_0x3fabb2[_0x1d5eb0(0x11c)];logger['debug'](_0x1d5eb0(0xd7)+_0x5d7db9+'\x20and\x20args\x20=\x20'+_0x3fabb2);if(_0x3eb7e0[_0x1d5eb0(0xb9)](_0x5d7db9['length'],0x0)){const _0x50af6b=_0x5d7db9[_0x1d5eb0(0x6a)]();if(_0x17cd7c['error']){const _0x4018b5=_0x3eb7e0[_0x1d5eb0(0x120)](failureData,_0x17cd7c[_0x1d5eb0(0x122)],_0x3eb7e0[_0x1d5eb0(0x72)]);_0x50af6b[TestFrameworkConstants['KEY_HOOK_FAILURE_TYPE']]=_0x3eb7e0[_0x1d5eb0(0xc8)](getFailureType,_0x17cd7c?.[_0x1d5eb0(0x122)][_0x1d5eb0(0xc6)]),_0x50af6b[TestFrameworkConstants['KEY_HOOK_FAILURE_REASON']]=_0x3eb7e0['ZTPbN'](removeAnsiColors,_0x17cd7c?.[_0x1d5eb0(0x122)][_0x1d5eb0(0xc6)]),_0x50af6b[TestFrameworkConstants[_0x1d5eb0(0xbd)]]=_0x3eb7e0[_0x1d5eb0(0x94)],_0x50af6b[TestFrameworkConstants[_0x1d5eb0(0x83)]]=_0x4018b5;}else _0x50af6b[TestFrameworkConstants[_0x1d5eb0(0xbd)]]=_0x3eb7e0[_0x1d5eb0(0xa2)];_0x3eb7e0[_0x1d5eb0(0x7d)](_0x21ceba,TestFrameworkConstants['DEFAULT_HOOK_RESULT'])&&(_0x50af6b[TestFrameworkConstants[_0x1d5eb0(0xbd)]]=!_0x17cd7c[_0x1d5eb0(0x122)]?_0x3eb7e0[_0x1d5eb0(0xa2)]:_0x3eb7e0[_0x1d5eb0(0x94)]);const _0x2e73e6=new Date(_0x17cd7c['startTime']),_0x24db37=new Date(_0x3eb7e0['cNSZy'](_0x2e73e6['getTime'](),_0x17cd7c[_0x1d5eb0(0xbc)]));_0x50af6b[TestFrameworkConstants[_0x1d5eb0(0xab)]]=_0x24db37[_0x1d5eb0(0xc0)](),_0x50af6b[TestFrameworkConstants['KEY_CUSTOM_TAGS']]=_0x411e15;const _0x690711=_0x50af6b[TestFrameworkConstants['KEY_HOOK_ID']];await this[_0x1d5eb0(0x9e)](_0x31c571,_0xe06a0e,_0x690711,_0x3eb7e0['WVvUt'],_0x3fabb2),!_0xf09778[_0x5a2257]&&(_0xf09778[_0x5a2257]=[]),_0xf09778[_0x5a2257]['push'](_0x50af6b),_0x327211[_0x4c7909][TestFrameworkConstants[_0x1d5eb0(0x95)]]=_0x5a2257;}}}return _0x327211;}async['sendLogCreatedEvent'](_0x28a0fe,_0x441fa9,_0x331749,_0x5473ca,_0x22de6d){const _0x50a2f7=a65_0x628f74,_0x5055cb={'cKtVd':function(_0x1551b6,_0x4dccbc){return _0x1551b6===_0x4dccbc;},'cxdvz':_0x50a2f7(0x114),'SJoqk':function(_0x1256ef,_0x57e02e,_0x253da7){return _0x1256ef(_0x57e02e,_0x253da7);},'FfMhb':function(_0x595cb8,_0x5c6e2a,_0x90aecc,_0x5e7978){return _0x595cb8(_0x5c6e2a,_0x90aecc,_0x5e7978);},'fLIjk':function(_0x467684,_0x597746,_0x250f03){return _0x467684(_0x597746,_0x250f03);},'BrVHv':function(_0x5b0a46,_0x2d3363,_0x1985dd,_0x5138f4,_0xb2baff){return _0x5b0a46(_0x2d3363,_0x1985dd,_0x5138f4,_0xb2baff);},'gHWzq':function(_0x570ab2,_0x4f8fb1,_0x7eef17,_0x134534){return _0x570ab2(_0x4f8fb1,_0x7eef17,_0x134534);},'asOtg':'hook'};try{if(_0x5055cb[_0x50a2f7(0xdb)](_0x5473ca,_0x5055cb[_0x50a2f7(0x119)])){const _0x3442c5=await _0x22de6d[_0x50a2f7(0xfa)],_0x3301bf=_0x22de6d[_0x50a2f7(0x114)]['id'],_0x53e648=_0x22de6d[_0x50a2f7(0x114)];logger[_0x50a2f7(0x110)]('sendLogCreatedEvent:\x20testId='+_0x3301bf);const _0x119234=_0x28a0fe[_0x50a2f7(0x106)]()[_0x50a2f7(0x12e)](_0x3301bf)[TestFrameworkConstants[_0x50a2f7(0xc1)]];await _0x5055cb['SJoqk'](sendTraceZip,_0x3442c5,_0x119234);const {steps:_0x3e0607,logs:_0x2436ae}=_0x5055cb[_0x50a2f7(0xbf)](getStepsAndLogs,_0x3442c5[_0x50a2f7(0xf5)],_0x28a0fe['getAllData']()[_0x50a2f7(0x12e)](_0x3301bf)[TestFrameworkConstants[_0x50a2f7(0xc1)]],_0x5055cb['cxdvz']),_0x38f52d=_0x5055cb[_0x50a2f7(0x11b)](getScreenshots,_0x3442c5,_0x28a0fe[_0x50a2f7(0x106)]()[_0x50a2f7(0x12e)](_0x3301bf)[TestFrameworkConstants['KEY_TEST_UUID']]),{_:_0x28cb85,logs:_0x320a2c}=_0x5055cb[_0x50a2f7(0x11b)](getFailureData,_0x3442c5[_0x50a2f7(0xc4)],{'test_run_uuid':_0x28a0fe['getAllData']()['get'](_0x3301bf)[TestFrameworkConstants[_0x50a2f7(0xc1)]]}),_0x40fa85=TestInfo['getTestDetails'](_0x3301bf)[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x543076=_0x5055cb[_0x50a2f7(0xd9)](getMediaArtifactsLogs,_0x40fa85,_0x28a0fe['getAllData']()[_0x50a2f7(0x12e)](_0x3301bf)[TestFrameworkConstants[_0x50a2f7(0xc1)]]),_0x14ee2f=_0x28a0fe['getAllData']()[_0x50a2f7(0x12e)](_0x3301bf),{[TestFrameworkConstants[_0x50a2f7(0xd0)]]:_0x3d1d03='',[TestFrameworkConstants[_0x50a2f7(0x11f)]]:_0x413bc7=''}=_0x14ee2f,_0x2986b7={'platformIndex':'0','logs':[..._0x2436ae||[],..._0x38f52d||[],..._0x320a2c||[],..._0x543076||[]],'testFrameworkName':_0x3d1d03,'testFrameworkVersion':_0x413bc7,'testFrameworkState':_0x441fa9[_0x50a2f7(0x7f)]()[_0x50a2f7(0x12c)]('.')[0x1]};_0x5055cb[_0x50a2f7(0xa3)](updatePayloadForTraceLogs,_0x2986b7,_0x22de6d,_0x3301bf,_0x28a0fe),logger[_0x50a2f7(0x110)]('sendLogCreatedEvent\x20for\x20testId:\x20'+_0x3301bf+_0x50a2f7(0xf3)+util[_0x50a2f7(0xa9)](_0x2986b7));const _0x424aba=await GrpcClient[_0x50a2f7(0x8c)]()[_0x50a2f7(0x123)](_0x2986b7);}else{const {steps:_0x4070d8,logs:_0x52903b}=_0x5055cb[_0x50a2f7(0x129)](getStepsAndLogs,_0x22de6d[_0x50a2f7(0x11c)]['steps'],_0x331749,_0x5055cb['asOtg']),_0x47f181=_0x22de6d[_0x50a2f7(0x114)]['id'];logger[_0x50a2f7(0x110)]('sendLogCreatedEvent:\x20testId='+_0x47f181);const _0x1e0a86=_0x28a0fe[_0x50a2f7(0x106)]()[_0x50a2f7(0x12e)](_0x47f181),{[TestFrameworkConstants[_0x50a2f7(0xd0)]]:_0x30fa78='',[TestFrameworkConstants[_0x50a2f7(0x11f)]]:_0x2e49f3=''}=_0x1e0a86,_0x41f224={'platformIndex':'0','logs':_0x52903b,'testFrameworkName':_0x30fa78,'testFrameworkVersion':_0x2e49f3,'testFrameworkState':_0x441fa9[_0x50a2f7(0x7f)]()[_0x50a2f7(0x12c)]('.')[0x1]};_0x5055cb[_0x50a2f7(0xa3)](updatePayloadForTraceLogs,_0x41f224,_0x22de6d,_0x47f181,_0x28a0fe),logger[_0x50a2f7(0x110)](_0x50a2f7(0x11e)+_0x47f181+'\x20payload='+util['inspect'](_0x41f224));const _0x4f9c6b=await GrpcClient[_0x50a2f7(0x8c)]()[_0x50a2f7(0x123)](_0x41f224);}}catch(_0x22fbb0){logger[_0x50a2f7(0x122)]('Error\x20in\x20sendLogCreatedEvent:\x20'+util[_0x50a2f7(0x77)](_0x22fbb0));}}}module[a65_0x628f74(0xf1)]=PlaywrightTestFramework;