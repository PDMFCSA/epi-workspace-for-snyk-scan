function a62_0x508f(){const _0x2e1aae=['file_name','KEY_TEST_ID','../../playwright/reporter/pwUtils','Error\x20processing\x20trace\x20file\x20','gwYjI','isArray','getId','kMStD','LZRHy','KEY_HOOK_RESULT','test','INIT_TEST','420117vUTRrJ','getRef','passed','kZViP','GjZMX','../../../helpers/test-observability/utils','../cliUtils.js','eqNTM','KEY_TEST_FILE_PATH','setTrackedInstance','../../../helpers/helper.js','\x20payload=','logCreatedEvent','parsePlaywrightTestResult','qJFdZ','soVQq','KEY_TEST_NAME','setTestDetails','path','elRxR','TEST','\x20instanceId=','\x20target=','get','runHooks','KEY_TEST_TAGS','KEY_TEST_LOGS','KEY_LOGS','KEY_HOOK_LAST_STARTED','52418Obwbff','\x20from\x20TestDetails:\x20','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','KEY_TEST_ATTACHMENTS','getTestFrameworks','587104exfxlm','getTestFrameworksVersions','statSync','errors','DEFAULT_TEST_RESULT','title','filter','instance','hook','KEY_TEST_FRAMEWORK_VERSION','iqbKN','KEY_CUSTOM_TAGS','../grpcClient','expectedStatus','KEY_EVENT_STARTED_AT','inspect','2919HvEDll','error','timedOut','KEY_AUTOMATE_SESSION_NAME','KEY_TEST_SCOPES','field_type','XzMtb','NONE','133020cFkVLp','KEY_HOOK_ID','PlaywrightTestFramework','trackPlaywrightInstance','result','filePath','Gabwh','failed','./testFramework','qEIGA','trackEvent','JNHOS','iKgAx','POST','\x20testHookState=','TIkoJ','uuid','WZNqm','765mRNcYu','addMultipleEntries','../state/hookState.js','Yhbcn','jrNRa','Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','QxvOg','aLADu','KEY_TEST_RERUN_NAME','sendLogCreatedEvent\x20for\x20testId:\x20','KEY_EVENT_ENDED_AT','EvERc','KEY_TEST_STARTED_AT','trim','QthGt','lXhfW','getTestUUID','ZEwxx','startTime','../state/testFrameworkState.js','size','forEach','ZxMaR','HrdnB','KEY_TEST_UUID','hreQi','results','KEY_TEST_RESULT','700vLfFch','parsePlaywrightTest','2690322cWrvtE','format','Hook\x20List\x20in\x20Post\x20','getInstance','pop','description','DEFAULT_HOOK_RESULT','pgyAR','err','ZwLIo','exports','getAllData','KEY_TEST_FRAMEWORK_NAME','basename','wfibS','debug','riFJw','getTrackedInstance','KEY_HOOK_LAST_FINISHED','info','split','resolveInstance','TEST_ATTACHMENT','KEY_HOOK_LOGS','PRE','matchHookRegex','KEY_TEST_CODE','push','parsePlaywrightTestResult:\x20testId=','trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20','yIhFl','KEY_HOOK_FAILURE','KEY_HOOKS_FINISHED','osVSw','toISOString','oaTdI','LnTFY','trackEvent:\x20found\x20instance,\x20testFrameworkState=','pJflZ','\x20&\x20hook\x20=\x20','some','sendLogCreatedEvent','TfYeY','hzzJY','ASFoe','KEY_TEST_RESULT_AT','8360PiRGmA','No\x20reason\x20provided','uUoCb','status','toString','getTraceFilePaths','trackHookEvent','Ouuqb','getTestDetails','PLRCu','Expected\x20to\x20fail,\x20but\x20passed.','../../utils/constants','KEY_TEST_LOCATION','trackPlaywrightInstance:\x20saved\x20instance\x20contextId=','message','6GvFMjn','GmTFg','steps','\x20instance=','values','KEY_HOOKS_STARTED','Error\x20processing\x20direct\x20trace\x20file\x20','YqxiD','yRzfh','trackEvent\x20loading\x20testResults\x20for\x20testId:\x20','uRIfQ','length','ctHmy','sendLogCreatedEvent:\x20testId=','step','KEY_HOOK_FAILURE_TYPE','oWKjU'];a62_0x508f=function(){return _0x2e1aae;};return a62_0x508f();}function a62_0x3871(_0x196ba0,_0x4a72b6){const _0x508f11=a62_0x508f();return a62_0x3871=function(_0x387149,_0x2a08ca){_0x387149=_0x387149-0xbf;let _0x30d276=_0x508f11[_0x387149];return _0x30d276;},a62_0x3871(_0x196ba0,_0x4a72b6);}const a62_0x1d3ec6=a62_0x3871;(function(_0x1e3841,_0x1804c2){const _0x1768be=a62_0x3871,_0x2d8e65=_0x1e3841();while(!![]){try{const _0x1a4fd9=parseInt(_0x1768be(0xd9))/0x1+parseInt(_0x1768be(0xf6))/0x2*(-parseInt(_0x1768be(0x180))/0x3)+-parseInt(_0x1768be(0xfb))/0x4+parseInt(_0x1768be(0x113))/0x5+parseInt(_0x1768be(0x143))/0x6+-parseInt(_0x1768be(0x10b))/0x7*(parseInt(_0x1768be(0x171))/0x8)+-parseInt(_0x1768be(0x125))/0x9*(-parseInt(_0x1768be(0x141))/0xa);if(_0x1a4fd9===_0x1804c2)break;else _0x2d8e65['push'](_0x2d8e65['shift']());}catch(_0x459dba){_0x2d8e65['push'](_0x2d8e65['shift']());}}}(a62_0x508f,0x40f73));const TestFramework=require(a62_0x1d3ec6(0x11b)),TestFrameworkState=require(a62_0x1d3ec6(0x138)),HookState=require(a62_0x1d3ec6(0x127)),{createClassLogger}=require('../../../helpers/classLogger.js'),TestFrameworkInstance=require('../instances/testFrameworkInstance.js'),CLIUtils=require(a62_0x1d3ec6(0xdf)),TrackedInstance=require('../instances/trackedInstance.js'),TestFrameworkConstants=require('./constants/testFrameworkConstants.js'),logger=createClassLogger(a62_0x1d3ec6(0x115)),{v4:uuidv4}=require(a62_0x1d3ec6(0x123)),util=require('util'),{getPlaywrightSessionName,getPlaywrightTestFilePath,getPlaywrightTestId,getPlaywrightTestTitle,getPlaywrightTestLocation,getPlaywrightTestTags,getPlaywrightTestCode,getPlaywrightTestScope,getPlaywrightTestScopes,getStepsAndLogs,getScreenshots,getPlaywrightCustomRerunParam,getMediaArtifactsLogs,getManualUploadLogs,updatePayloadForTraceLogs}=require(a62_0x1d3ec6(0xe3)),TestInfo=require('../TestInfo.js'),GrpcClient=require(a62_0x1d3ec6(0x107)),{removeAnsiColors,getFailureType,failureData}=require(a62_0x1d3ec6(0xde)),{getFailureData,getTestTags}=require(a62_0x1d3ec6(0xcf)),{findNestedKey,sendTraceZip,validateFilePath}=require(a62_0x1d3ec6(0xcf)),path=require(a62_0x1d3ec6(0xeb)),fs=require('fs'),helper=require('../../../../src/helpers/helper'),{PLAYWRIGHT_TRACE_LOGS}=require(a62_0x1d3ec6(0x17c));class PlaywrightTestFramework extends TestFramework{constructor(_0x6852f3,_0x47c08b,_0x4981f4){super(_0x6852f3,_0x47c08b,_0x4981f4);}async[a62_0x1d3ec6(0x11d)](_0xefa256,_0x1f02dc,_0xe65149={}){const _0x24365e=a62_0x1d3ec6,_0x1724b5={};_0x1724b5['uUoCb']=function(_0x3290fd,_0x176073){return _0x3290fd===_0x176073;},_0x1724b5[_0x24365e(0x167)]=function(_0x4f94c3,_0x2f0cb4){return _0x4f94c3===_0x2f0cb4;},_0x1724b5[_0x24365e(0x13c)]=function(_0x5b7fd4,_0x37d2f1){return _0x5b7fd4===_0x37d2f1;},_0x1724b5[_0x24365e(0xe0)]=_0x24365e(0xd7),_0x1724b5[_0x24365e(0xc8)]='trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s';const _0xb5435b=_0x1724b5;await super[_0x24365e(0x11d)](_0xefa256,_0x1f02dc,_0xe65149);const _0x21d170=this[_0x24365e(0x158)](_0xefa256,_0x1f02dc,_0xe65149);if(!_0x21d170)return;logger[_0x24365e(0x152)](_0x24365e(0x168)+_0xefa256+'\x20hookState='+_0x1f02dc+_0x24365e(0xee)+_0x21d170[_0x24365e(0xda)]());try{if(_0xb5435b[_0x24365e(0x173)](_0x1f02dc,HookState[_0x24365e(0x15b)])&&_0xb5435b[_0x24365e(0x173)](_0xefa256,TestFrameworkState[_0x24365e(0xed)])){const _0x5ed3ec=_0xe65149['test'];logger[_0x24365e(0x152)](_0x24365e(0xf8)+_0x5ed3ec['id']+'}');const _0x5e3dd3=TestInfo[_0x24365e(0x135)](_0x5ed3ec['id']);_0x21d170[_0x24365e(0x126)](this[_0x24365e(0x142)](_0x5e3dd3,_0x5ed3ec)),logger[_0x24365e(0x152)](_0x24365e(0x160)+_0x5ed3ec['id']+',\x20testFrameworkState='+_0xefa256+_0x24365e(0x121)+_0x1f02dc+_0x24365e(0xbf)+_0x21d170[_0x24365e(0xda)]());}if(_0xb5435b['LnTFY'](_0x1f02dc,HookState['POST'])&&_0xb5435b[_0x24365e(0x13c)](_0xefa256,TestFrameworkState[_0x24365e(0xed)])){const _0x1fbbe3=_0xe65149['test'],_0x7a6dda=_0xe65149[_0x24365e(0x117)];logger[_0x24365e(0x152)](_0x24365e(0xc5)+_0x1fbbe3['id']),_0x21d170[_0x24365e(0x126)](this[_0x24365e(0xe6)](_0x1fbbe3['id'],_0x7a6dda,_0x1fbbe3)),this[_0x24365e(0x16c)](_0x21d170,_0xefa256,_0x1f02dc,_0xb5435b[_0x24365e(0xe0)],_0xe65149);}if(CLIUtils[_0x24365e(0x15c)](_0xefa256[_0x24365e(0x175)]()[_0x24365e(0x157)]('.')[0x1])){const _0x432a68=await this['trackHookEvent'](_0x21d170,_0xefa256,_0x1f02dc,_0xe65149);_0x21d170['addMultipleEntries'](_0x432a68);}}catch(_0x63fde4){logger[_0x24365e(0x10c)](util[_0x24365e(0x144)](_0xb5435b[_0x24365e(0xc8)],_0xefa256,_0x1f02dc,_0xe65149[_0x24365e(0xc7)],_0x63fde4));}_0xe65149[_0x24365e(0x102)]=_0x21d170,await this[_0x24365e(0xf1)](_0x21d170,_0xefa256,_0x1f02dc,_0xe65149);}[a62_0x1d3ec6(0x158)](_0x5e4162,_0x51cd9c,_0xe5b57f={}){const _0x4bd4cb=a62_0x1d3ec6,_0x33e9ce={};_0x33e9ce[_0x4bd4cb(0x14c)]=function(_0x473e87,_0x4c3684){return _0x473e87===_0x4c3684;};const _0x3d4301=_0x33e9ce;let _0x5dcaf4=null;return(_0x3d4301[_0x4bd4cb(0x14c)](_0x5e4162,TestFrameworkState[_0x4bd4cb(0xd8)])||_0x3d4301[_0x4bd4cb(0x14c)](_0x5e4162,TestFrameworkState[_0x4bd4cb(0x112)]))&&this[_0x4bd4cb(0x116)](_0x5e4162,_0xe5b57f),_0x5dcaf4=TestFramework[_0x4bd4cb(0x154)](),_0x5dcaf4;}[a62_0x1d3ec6(0x116)](_0x9105e7,_0x3b5e66){const _0x35865a=a62_0x1d3ec6,_0x25af01=CLIUtils['getCurrentInstanceName'](),_0x3708ca=TrackedInstance['createContext'](_0x25af01);let _0x3c219c=null;logger[_0x35865a(0x156)]('trackPlaywrightInstance:\x20created\x20instance\x20for\x20target='+_0x25af01+',\x20state='+_0x9105e7),_0x3c219c=new TestFrameworkInstance(_0x3708ca,this[_0x35865a(0xfa)](),this[_0x35865a(0xfc)](),_0x9105e7,HookState['NONE']),TestFramework[_0x35865a(0xe2)](_0x3708ca,_0x3c219c),logger[_0x35865a(0x156)](_0x35865a(0x17e)+_0x3708ca[_0x35865a(0xd3)]()+_0x35865a(0xef)+_0x25af01);}['parsePlaywrightTest'](_0x13e4bc,_0x30952a){const _0x36a418=a62_0x1d3ec6,_0xf3c988={'GmTFg':function(_0x10e937,_0x2ba76e){return _0x10e937(_0x2ba76e);},'Gabwh':function(_0x387216,_0x109ac0){return _0x387216(_0x109ac0);},'pgyAR':function(_0x213563,_0x766571){return _0x213563(_0x766571);},'oaTdI':function(_0x3c9150,_0x28ac16){return _0x3c9150(_0x28ac16);}},_0x178898=_0xf3c988['GmTFg'](getPlaywrightTestId,_0x30952a),_0x5783ef=_0xf3c988[_0x36a418(0x119)](getPlaywrightTestTitle,_0x30952a),_0x5a99ba=_0xf3c988['GmTFg'](getTestTags,_0x30952a),_0x30c40b=_0xf3c988[_0x36a418(0x14a)](getPlaywrightTestCode,_0x30952a),_0x2546ea=_0xf3c988[_0x36a418(0x119)](getPlaywrightTestFilePath,_0x30952a),_0x2286bf=_0x2546ea+':'+_0xf3c988['GmTFg'](getPlaywrightTestLocation,_0x30952a),_0x41373d=_0xf3c988[_0x36a418(0x119)](getPlaywrightTestScope,_0x30952a),_0x31999e=_0xf3c988[_0x36a418(0x181)](getPlaywrightTestScopes,_0x30952a),_0xf83d27=_0xf3c988[_0x36a418(0x166)](getPlaywrightSessionName,_0x30952a),_0x166070=this['getTestFrameworks']()[0x0],_0x18c564={[TestFrameworkConstants[_0x36a418(0x14f)]]:_0x166070,[TestFrameworkConstants[_0x36a418(0x104)]]:this[_0x36a418(0xfc)]()[_0x166070],[TestFrameworkConstants[_0x36a418(0xf3)]]:[],[TestFrameworkConstants[_0x36a418(0x163)]]:{},[TestFrameworkConstants[_0x36a418(0xc1)]]:{},[TestFrameworkConstants[_0x36a418(0x13d)]]:_0x13e4bc,[TestFrameworkConstants[_0x36a418(0x140)]]:TestFrameworkConstants[_0x36a418(0xff)],[TestFrameworkConstants[_0x36a418(0x10e)]]:_0xf83d27,[TestFrameworkConstants['KEY_TEST_FILE_PATH']]:_0x2546ea,[TestFrameworkConstants[_0x36a418(0xce)]]:_0x178898,[TestFrameworkConstants[_0x36a418(0xe9)]]:_0x5783ef,[TestFrameworkConstants[_0x36a418(0x17d)]]:_0x2286bf,[TestFrameworkConstants[_0x36a418(0x15d)]]:_0x30c40b,[TestFrameworkConstants[_0x36a418(0xf2)]]:_0x5a99ba,[TestFrameworkConstants[_0x36a418(0x131)]]:_0x30952a[_0x36a418(0x13f)][0x0][_0x36a418(0x137)],[TestFrameworkConstants['KEY_TEST_SCOPE']]:_0x41373d,[TestFrameworkConstants[_0x36a418(0x10f)]]:_0x31999e,[TestFrameworkConstants[_0x36a418(0x12d)]]:_0xf3c988[_0x36a418(0x181)](getPlaywrightCustomRerunParam,_0x30952a)};TestInfo[_0x36a418(0xea)](_0x30952a['id'],_0x18c564);const _0x5eb8a6={};return _0x5eb8a6[_0x178898]=_0x18c564,_0x5eb8a6;}[a62_0x1d3ec6(0xe6)](_0x4d3d35,_0x2dd364,_0x398755){const _0x2c38ea=a62_0x1d3ec6,_0x3a8bca={'iKgAx':function(_0x42f1f2,_0x9e9c15){return _0x42f1f2(_0x9e9c15);},'aLADu':_0x2c38ea(0x159),'kZViP':function(_0x4b1a6f,_0x4e7bc3){return _0x4b1a6f===_0x4e7bc3;},'hzzJY':_0x2c38ea(0x172),'iqbKN':'multi_dropdown','PLRCu':function(_0x3f5670,_0x2d2535){return _0x3f5670+_0x2d2535;},'IlWYy':function(_0x51e05e,_0x40780e){return _0x51e05e===_0x40780e;},'QxvOg':function(_0x1313bb,_0x5ebfb9){return _0x1313bb===_0x5ebfb9;},'ZxMaR':'skipped','TIkoJ':_0x2c38ea(0xdb),'lXhfW':_0x2c38ea(0x11a),'GjZMX':function(_0x9ea539,_0x28e97e){return _0x9ea539===_0x28e97e;},'Yhbcn':_0x2c38ea(0x10d),'ASFoe':_0x2c38ea(0x17b),'yRzfh':function(_0x365d59,_0xdc0e0b,_0x1752df){return _0x365d59(_0xdc0e0b,_0x1752df);},'elRxR':function(_0x34f291,_0x2ba1fe){return _0x34f291||_0x2ba1fe;},'oWKjU':function(_0x39bce2,_0x1ca7fb){return _0x39bce2(_0x1ca7fb);},'QthGt':_0x2c38ea(0xeb),'eYpIY':function(_0x3f191d,_0x5533b1){return _0x3f191d(_0x5533b1);},'XzMtb':function(_0x151ea2,_0x8e3e23){return _0x151ea2>_0x8e3e23;}};logger[_0x2c38ea(0x152)](_0x2c38ea(0x15f)+_0x4d3d35);const _0x14a002=new Date(_0x2dd364[_0x2c38ea(0x137)]),_0x453b58=_0x2dd364['duration'],_0x4df9d0=new Date(_0x3a8bca[_0x2c38ea(0x17a)](_0x14a002['getTime'](),_0x453b58)),_0x37f542=_0x2dd364['status'],_0xec655d=TestInfo[_0x2c38ea(0x179)](_0x4d3d35)[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{};let _0x37c8c3=_0x37f542;if(_0x3a8bca['IlWYy'](_0x2dd364[_0x2c38ea(0x174)],_0x398755[_0x2c38ea(0x108)]))_0x37c8c3=_0x3a8bca['QxvOg'](_0x2dd364[_0x2c38ea(0x174)],_0x3a8bca[_0x2c38ea(0x13b)])?_0x3a8bca['ZxMaR']:_0x3a8bca[_0x2c38ea(0x122)];else{(_0x3a8bca[_0x2c38ea(0x12b)](_0x37c8c3,_0x3a8bca[_0x2c38ea(0x122)])||_0x3a8bca['QxvOg'](_0x37c8c3,_0x3a8bca[_0x2c38ea(0x134)])||_0x3a8bca[_0x2c38ea(0xdd)](_0x37c8c3,_0x3a8bca[_0x2c38ea(0x128)]))&&(_0x37c8c3=_0x3a8bca['lXhfW']);if(_0x3a8bca['GjZMX'](_0x2dd364[_0x2c38ea(0x174)],_0x3a8bca['TIkoJ'])&&_0x3a8bca[_0x2c38ea(0x12b)](_0x398755[_0x2c38ea(0x108)],_0x3a8bca['lXhfW'])){const _0x5ef3f9={};_0x5ef3f9[_0x2c38ea(0x17f)]=_0x3a8bca[_0x2c38ea(0x16f)],_0x5ef3f9['stack']=_0x3a8bca[_0x2c38ea(0x16f)],_0x2dd364['error']=_0x5ef3f9,_0x2dd364['errors']=[_0x2dd364[_0x2c38ea(0x10c)]];}}const {failureData:_0xa4210a,logs:_0xadec26}=_0x3a8bca[_0x2c38ea(0xc4)](getFailureData,_0x2dd364?.[_0x2c38ea(0xfe)],{}),_0x491c2f={[TestFrameworkConstants['KEY_TEST_FAILURE']]:_0x3a8bca[_0x2c38ea(0xec)](_0xa4210a,null),[TestFrameworkConstants['KEY_TEST_FAILURE_TYPE']]:_0x2dd364?.[_0x2c38ea(0x10c)]&&_0x3a8bca['iKgAx'](getFailureType,_0x2dd364[_0x2c38ea(0x10c)][_0x2c38ea(0x17f)]),[TestFrameworkConstants['KEY_TEST_FAILURE_REASON']]:_0x2dd364?.[_0x2c38ea(0x10c)]&&_0x3a8bca[_0x2c38ea(0xcc)](removeAnsiColors,_0x2dd364[_0x2c38ea(0x10c)][_0x2c38ea(0x17f)]),[TestFrameworkConstants[_0x2c38ea(0xf4)]]:[],[TestFrameworkConstants[_0x2c38ea(0x140)]]:_0x2dd364[_0x2c38ea(0x174)],[TestFrameworkConstants['KEY_TEST_ENDED_AT']]:_0x4df9d0['toISOString'](),[TestFrameworkConstants[_0x2c38ea(0x170)]]:new Date()[_0x2c38ea(0x165)](),[TestFrameworkConstants[_0x2c38ea(0x106)]]:_0xec655d},_0x211b31={};_0x211b31[_0x2c38ea(0xd7)]=_0x398755;const _0x47e1e3=this[_0x2c38ea(0x158)](TestFrameworkState[_0x2c38ea(0xed)],HookState[_0x2c38ea(0x120)],_0x211b31),_0x107863=_0x47e1e3[_0x2c38ea(0x14e)]()[_0x2c38ea(0xf0)](_0x4d3d35)[TestFrameworkConstants['KEY_TEST_UUID']],_0x5494c9=[],_0x3f7502=_0x3a8bca[_0x2c38ea(0xc4)](findNestedKey,_0x2dd364,_0x3a8bca[_0x2c38ea(0x133)]);if(_0x3f7502&&_0x3a8bca['eYpIY'](validateFilePath,_0x3f7502))try{_0x5494c9[_0x2c38ea(0x15e)]({'kind':_0x3a8bca[_0x2c38ea(0x12c)],'timestamp':new Date()[_0x2c38ea(0x165)](),'test_run_uuid':_0x107863,'file_name':path[_0x2c38ea(0x150)](_0x3f7502),'file_size':fs[_0x2c38ea(0xfd)](_0x3f7502)[_0x2c38ea(0x139)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x54abae){logger['error'](_0x2c38ea(0xc2)+_0x3f7502+':\x20'+_0x54abae['message']);}const _0xf78e30=TestInfo[_0x2c38ea(0x176)](),_0x197a69=_0xf78e30[_0x2c38ea(0x101)](_0x297793=>_0x297793['testUId']===_0x107863);_0x197a69[_0x2c38ea(0x13a)](_0x2b87a7=>{const _0x3fa85b=_0x2c38ea;if(_0x2b87a7[_0x3fa85b(0x118)]&&_0x3a8bca[_0x3fa85b(0x11f)](validateFilePath,_0x2b87a7[_0x3fa85b(0x118)])&&!_0x5494c9[_0x3fa85b(0x16b)](_0x4b3e36=>_0x4b3e36[_0x3fa85b(0xcd)]===path[_0x3fa85b(0x150)](_0x2b87a7['filePath'])))try{_0x5494c9[_0x3fa85b(0x15e)]({'kind':_0x3a8bca['aLADu'],'timestamp':new Date()[_0x3fa85b(0x165)](),'test_run_uuid':_0x107863,'file_name':path[_0x3fa85b(0x150)](_0x2b87a7[_0x3fa85b(0x118)]),'file_size':fs['statSync'](_0x2b87a7[_0x3fa85b(0x118)])[_0x3fa85b(0x139)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x1a0fd8){logger[_0x3fa85b(0x10c)](_0x3fa85b(0xd0)+_0x2b87a7[_0x3fa85b(0x118)]+_0x3fa85b(0xf7)+_0x1a0fd8['message']);}});if(_0x3a8bca['XzMtb'](_0x5494c9[_0x2c38ea(0xc7)],0x0)){const _0x3f4726=_0x491c2f[TestFrameworkConstants[_0x2c38ea(0xf4)]]||[];_0x491c2f[TestFrameworkConstants[_0x2c38ea(0xf4)]]=[..._0x3f4726,..._0x5494c9];}const _0x5b7bc5=TestInfo[_0x2c38ea(0x179)](_0x4d3d35)[TestFrameworkConstants[_0x2c38ea(0xf9)]]||{},_0x403286=_0x3a8bca[_0x2c38ea(0xc4)](getManualUploadLogs,_0x5b7bc5,_0x47e1e3[_0x2c38ea(0x14e)]()[_0x2c38ea(0xf0)](_0x4d3d35)[TestFrameworkConstants['KEY_TEST_UUID']]);if(_0x3a8bca[_0x2c38ea(0x111)](_0x403286[_0x2c38ea(0xc7)],0x0)){const _0x3c4174=_0x491c2f[TestFrameworkConstants[_0x2c38ea(0xf4)]]||[];_0x491c2f[TestFrameworkConstants[_0x2c38ea(0xf4)]]=[..._0x3c4174,..._0x403286];}const _0x1513c2=_0x398755['annotations']||[],_0x32b596=_0x491c2f[TestFrameworkConstants[_0x2c38ea(0x106)]]||{};_0x1513c2[_0x2c38ea(0x13a)](_0x4f8fe4=>{const _0x49a9aa=_0x2c38ea,{type:_0x4617a6}=_0x4f8fe4;let _0x419601=_0x4f8fe4[_0x49a9aa(0x148)];if(!_0x4617a6)return;(_0x3a8bca[_0x49a9aa(0xdc)](_0x419601,undefined)||_0x3a8bca[_0x49a9aa(0xdc)](_0x419601,null)||_0x3a8bca[_0x49a9aa(0xdc)](_0x3a8bca[_0x49a9aa(0x11f)](String,_0x419601)[_0x49a9aa(0x132)](),''))&&(_0x419601=_0x3a8bca[_0x49a9aa(0x16e)]);if(!_0x32b596[_0x4617a6]){const _0x16f836={};_0x16f836[_0x49a9aa(0x110)]=_0x3a8bca['iqbKN'],_0x16f836[_0x49a9aa(0xc0)]=[],_0x32b596[_0x4617a6]=_0x16f836;}else!_0x32b596[_0x4617a6]['field_type']&&(_0x32b596[_0x4617a6]['field_type']=_0x3a8bca[_0x49a9aa(0x105)]),!Array[_0x49a9aa(0xd2)](_0x32b596[_0x4617a6][_0x49a9aa(0xc0)])&&(_0x32b596[_0x4617a6][_0x49a9aa(0xc0)]=[]);const _0x5f40fc=_0x3a8bca[_0x49a9aa(0x11f)](String,_0x419601)[_0x49a9aa(0x157)](',')['map'](_0x310659=>_0x310659[_0x49a9aa(0x132)]());_0x32b596[_0x4617a6]['values']=[...new Set([..._0x32b596[_0x4617a6]['values'],..._0x5f40fc])];}),_0x491c2f[TestFrameworkConstants['KEY_CUSTOM_TAGS']]=_0x32b596,TestInfo[_0x2c38ea(0xea)](_0x4d3d35,_0x491c2f);const _0x129cfa={};return _0x129cfa[_0x4d3d35]=_0x491c2f,_0x129cfa;}async[a62_0x1d3ec6(0x177)](_0x25f29a,_0x54ec56,_0x43c615,_0x2fbdff){const _0x1ed795=a62_0x1d3ec6,_0x12ec8c={'LZRHy':function(_0x3aa763,_0x29997a){return _0x3aa763 in _0x29997a;},'EvERc':function(_0x46cc21,_0x50ac62){return _0x46cc21 in _0x50ac62;},'TfYeY':function(_0x7c1d4e,_0x56e2a3){return _0x7c1d4e(_0x56e2a3);},'JNHOS':function(_0x518fa8,_0x205c4d){return _0x518fa8(_0x205c4d);},'JOShH':function(_0x2ff8e5,_0x526be6){return _0x2ff8e5===_0x526be6;},'WZNqm':function(_0x5df68d){return _0x5df68d();},'qJFdZ':function(_0x151aeb,_0x250aaf){return _0x151aeb===_0x250aaf;},'Ouuqb':function(_0x53aba9,_0x68525c){return _0x53aba9>_0x68525c;},'qEIGA':function(_0x2699c8,_0x4bb3af,_0xc2aa79){return _0x2699c8(_0x4bb3af,_0xc2aa79);},'YqxiD':_0x1ed795(0x14b),'hreQi':function(_0x524843,_0x742827){return _0x524843(_0x742827);},'Fpqva':function(_0x35538c,_0x2d82d1){return _0x35538c(_0x2d82d1);},'uRIfQ':_0x1ed795(0x11a),'soVQq':_0x1ed795(0xdb),'BdGiJ':function(_0x4977cf,_0x16362e){return _0x4977cf!==_0x16362e;},'RZqTy':function(_0x3b040c,_0x1eb434){return _0x3b040c+_0x1eb434;},'kMStD':'hook'},_0x13edc4=_0x2fbdff[_0x1ed795(0xd7)],_0x1d002a=_0x2fbdff['step'],_0x429aff=_0x2fbdff[_0x1ed795(0xd7)]['id'],_0x2f6a40=_0x54ec56[_0x1ed795(0x175)]()[_0x1ed795(0x157)]('.')[0x1];let _0x440e92=_0x25f29a[_0x1ed795(0x14e)]()['get'](_0x429aff)[TestFrameworkConstants['KEY_HOOKS_STARTED']];!_0x440e92&&(_0x440e92={});!_0x12ec8c[_0x1ed795(0xd5)](_0x2f6a40,_0x440e92)&&(_0x440e92[_0x2f6a40]=[]);let _0x58dde8=_0x25f29a['getAllData']()[_0x1ed795(0xf0)](_0x429aff)[TestFrameworkConstants['KEY_HOOKS_FINISHED']];!_0x58dde8&&(_0x58dde8={});!_0x12ec8c[_0x1ed795(0x130)](_0x2f6a40,_0x58dde8)&&(_0x58dde8[_0x2f6a40]=[]);const _0x1d41fc={[TestFrameworkConstants[_0x1ed795(0xc1)]]:_0x440e92,[TestFrameworkConstants[_0x1ed795(0x163)]]:_0x58dde8},_0x4afe04={};_0x4afe04[_0x429aff]=_0x1d41fc;const _0x2446c5=_0x4afe04,_0x551d16=_0x12ec8c[_0x1ed795(0x16d)](getPlaywrightTestFilePath,_0x13edc4),_0x1eac5e=_0x551d16+':'+_0x12ec8c[_0x1ed795(0x11e)](getPlaywrightTestLocation,_0x13edc4),_0x252d44=TestInfo['getTestDetails'](_0x429aff)[TestFrameworkConstants[_0x1ed795(0x106)]]||{};if(_0x12ec8c['JOShH'](_0x43c615,HookState[_0x1ed795(0x15b)])){const _0x2706f5={'key':_0x2f6a40,[TestFrameworkConstants[_0x1ed795(0x114)]]:_0x12ec8c[_0x1ed795(0x124)](uuidv4),[TestFrameworkConstants['KEY_HOOK_RESULT']]:TestFrameworkConstants['DEFAULT_HOOK_RESULT'],[TestFrameworkConstants[_0x1ed795(0x109)]]:_0x1d002a[_0x1ed795(0x137)],[TestFrameworkConstants[_0x1ed795(0x15a)]]:[],[TestFrameworkConstants['KEY_HOOK_NAME']]:_0x1d002a[_0x1ed795(0x100)],[TestFrameworkConstants[_0x1ed795(0xe1)]]:_0x551d16,[TestFrameworkConstants['KEY_TEST_LOCATION']]:_0x1eac5e,[TestFrameworkConstants[_0x1ed795(0x106)]]:_0x252d44};_0x440e92[_0x2f6a40][_0x1ed795(0x15e)](_0x2706f5),_0x2446c5[_0x429aff][TestFrameworkConstants[_0x1ed795(0xf5)]]=_0x2f6a40,logger[_0x1ed795(0x152)](_0x1ed795(0x12a)+_0x2f6a40+_0x1ed795(0x16a)+_0x2706f5+'\x20\x20and\x20args\x20=\x20'+_0x2fbdff);}else{if(_0x12ec8c[_0x1ed795(0xe7)](_0x43c615,HookState[_0x1ed795(0x120)])){const _0x245429=await _0x2fbdff['result'],_0x4df6fb=_0x440e92[_0x2f6a40]||[],_0x4aadc1=_0x2fbdff[_0x1ed795(0xca)];logger[_0x1ed795(0x152)](_0x1ed795(0x145)+_0x4df6fb+'\x20and\x20args\x20=\x20'+_0x2fbdff);if(_0x12ec8c[_0x1ed795(0x178)](_0x4df6fb[_0x1ed795(0xc7)],0x0)){const _0x5b0a51=_0x4df6fb[_0x1ed795(0x147)]();if(_0x4aadc1[_0x1ed795(0x10c)]){const _0x48a147=_0x12ec8c[_0x1ed795(0x11c)](failureData,_0x4aadc1['error'],_0x12ec8c[_0x1ed795(0xc3)]);_0x5b0a51[TestFrameworkConstants[_0x1ed795(0xcb)]]=_0x12ec8c[_0x1ed795(0x13e)](getFailureType,_0x4aadc1?.[_0x1ed795(0x10c)][_0x1ed795(0x17f)]),_0x5b0a51[TestFrameworkConstants['KEY_HOOK_FAILURE_REASON']]=_0x12ec8c['Fpqva'](removeAnsiColors,_0x4aadc1?.[_0x1ed795(0x10c)][_0x1ed795(0x17f)]),_0x5b0a51[TestFrameworkConstants[_0x1ed795(0xd6)]]=_0x12ec8c[_0x1ed795(0xc6)],_0x5b0a51[TestFrameworkConstants[_0x1ed795(0x162)]]=_0x48a147;}else _0x5b0a51[TestFrameworkConstants[_0x1ed795(0xd6)]]=_0x12ec8c[_0x1ed795(0xe8)];_0x12ec8c['BdGiJ'](_0x245429,TestFrameworkConstants[_0x1ed795(0x149)])&&(_0x5b0a51[TestFrameworkConstants['KEY_HOOK_RESULT']]=!_0x4aadc1[_0x1ed795(0x10c)]?_0x12ec8c[_0x1ed795(0xe8)]:_0x12ec8c['uRIfQ']);const _0x59a3b5=new Date(_0x4aadc1[_0x1ed795(0x137)]),_0x412eb6=new Date(_0x12ec8c['RZqTy'](_0x59a3b5['getTime'](),_0x4aadc1['duration']));_0x5b0a51[TestFrameworkConstants[_0x1ed795(0x12f)]]=_0x412eb6[_0x1ed795(0x165)](),_0x5b0a51[TestFrameworkConstants['KEY_CUSTOM_TAGS']]=_0x252d44;const _0x4025ae=_0x5b0a51[TestFrameworkConstants[_0x1ed795(0x114)]];await this[_0x1ed795(0x16c)](_0x25f29a,_0x54ec56,_0x4025ae,_0x12ec8c[_0x1ed795(0xd4)],_0x2fbdff),!_0x58dde8[_0x2f6a40]&&(_0x58dde8[_0x2f6a40]=[]),_0x58dde8[_0x2f6a40][_0x1ed795(0x15e)](_0x5b0a51),_0x2446c5[_0x429aff][TestFrameworkConstants[_0x1ed795(0x155)]]=_0x2f6a40;}}}return _0x2446c5;}async[a62_0x1d3ec6(0x16c)](_0x30387c,_0xe62545,_0x4a41bc,_0xc7c428,_0x534eae){const _0x5b529c=a62_0x1d3ec6,_0xe7ab62={'PCjCR':function(_0x3bb67e,_0x194348){return _0x3bb67e===_0x194348;},'pJflZ':'test','yIhFl':function(_0x1c84ab,_0x215e77,_0x25efe4){return _0x1c84ab(_0x215e77,_0x25efe4);},'gwYjI':function(_0x39d37e,_0x3e3992,_0x424775,_0x1e8749){return _0x39d37e(_0x3e3992,_0x424775,_0x1e8749);},'jrNRa':function(_0x24de68,_0x35f4bc,_0x570cfa){return _0x24de68(_0x35f4bc,_0x570cfa);},'osVSw':function(_0x3c5ff5,_0x2e6b6a,_0x590a40){return _0x3c5ff5(_0x2e6b6a,_0x590a40);},'ZEwxx':function(_0x488c70,_0x3aaff2,_0x2b1adc){return _0x488c70(_0x3aaff2,_0x2b1adc);},'riFJw':function(_0x439903,_0x3fab27,_0x14b1c3,_0x1b0b92,_0x234f00){return _0x439903(_0x3fab27,_0x14b1c3,_0x1b0b92,_0x234f00);},'wfibS':_0x5b529c(0x103)};try{if(_0xe7ab62['PCjCR'](_0xc7c428,_0xe7ab62[_0x5b529c(0x169)])){const _0xc3ce5e=await _0x534eae[_0x5b529c(0x117)],_0x1f4071=_0x534eae['test']['id'],_0xaf3bf3=_0x534eae[_0x5b529c(0xd7)];logger[_0x5b529c(0x152)]('sendLogCreatedEvent:\x20testId='+_0x1f4071);const _0x2d496b=_0x30387c[_0x5b529c(0x14e)]()['get'](_0x1f4071)[TestFrameworkConstants[_0x5b529c(0x13d)]];await _0xe7ab62[_0x5b529c(0x161)](sendTraceZip,_0xc3ce5e,_0x2d496b);const {steps:_0xef24f5,logs:_0x4ad62b}=_0xe7ab62['gwYjI'](getStepsAndLogs,_0xc3ce5e['steps'],_0x30387c[_0x5b529c(0x14e)]()['get'](_0x1f4071)[TestFrameworkConstants['KEY_TEST_UUID']],_0xe7ab62['pJflZ']),_0x54eb4b=_0xe7ab62[_0x5b529c(0x129)](getScreenshots,_0xc3ce5e,_0x30387c['getAllData']()['get'](_0x1f4071)[TestFrameworkConstants['KEY_TEST_UUID']]),{_:_0x439302,logs:_0x3abfcb}=_0xe7ab62[_0x5b529c(0x164)](getFailureData,_0xc3ce5e[_0x5b529c(0xfe)],{'test_run_uuid':_0x30387c[_0x5b529c(0x14e)]()[_0x5b529c(0xf0)](_0x1f4071)[TestFrameworkConstants['KEY_TEST_UUID']]}),_0x2a7fde=TestInfo[_0x5b529c(0x179)](_0x1f4071)[TestFrameworkConstants[_0x5b529c(0xf9)]]||{},_0x2d194f=_0xe7ab62[_0x5b529c(0x136)](getMediaArtifactsLogs,_0x2a7fde,_0x30387c[_0x5b529c(0x14e)]()[_0x5b529c(0xf0)](_0x1f4071)[TestFrameworkConstants[_0x5b529c(0x13d)]]),_0x5a26d9=_0x30387c[_0x5b529c(0x14e)]()[_0x5b529c(0xf0)](_0x1f4071),{[TestFrameworkConstants[_0x5b529c(0x14f)]]:_0x28c887='',[TestFrameworkConstants[_0x5b529c(0x104)]]:_0x2773ce=''}=_0x5a26d9,_0x268c53={'platformIndex':'0','logs':[..._0x4ad62b||[],..._0x54eb4b||[],..._0x3abfcb||[],..._0x2d194f||[]],'testFrameworkName':_0x28c887,'testFrameworkVersion':_0x2773ce,'testFrameworkState':_0xe62545[_0x5b529c(0x175)]()['split']('.')[0x1]};_0xe7ab62[_0x5b529c(0x153)](updatePayloadForTraceLogs,_0x268c53,_0x534eae,_0x1f4071,_0x30387c),logger[_0x5b529c(0x152)](_0x5b529c(0x12e)+_0x1f4071+_0x5b529c(0xe4)+util[_0x5b529c(0x10a)](_0x268c53));const _0x511eb8=await GrpcClient[_0x5b529c(0x146)]()[_0x5b529c(0xe5)](_0x268c53);}else{const {steps:_0x403c1a,logs:_0x52bdc7}=_0xe7ab62[_0x5b529c(0xd1)](getStepsAndLogs,_0x534eae['step'][_0x5b529c(0x182)],_0x4a41bc,_0xe7ab62[_0x5b529c(0x151)]),_0x3fcc1a=_0x534eae[_0x5b529c(0xd7)]['id'];logger[_0x5b529c(0x152)](_0x5b529c(0xc9)+_0x3fcc1a);const _0x3997c6=_0x30387c[_0x5b529c(0x14e)]()[_0x5b529c(0xf0)](_0x3fcc1a),{[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x49f222='',[TestFrameworkConstants[_0x5b529c(0x104)]]:_0x4db6cf=''}=_0x3997c6,_0x5315d5={'platformIndex':'0','logs':_0x52bdc7,'testFrameworkName':_0x49f222,'testFrameworkVersion':_0x4db6cf,'testFrameworkState':_0xe62545[_0x5b529c(0x175)]()[_0x5b529c(0x157)]('.')[0x1]};_0xe7ab62[_0x5b529c(0x153)](updatePayloadForTraceLogs,_0x5315d5,_0x534eae,_0x3fcc1a,_0x30387c),logger[_0x5b529c(0x152)](_0x5b529c(0x12e)+_0x3fcc1a+_0x5b529c(0xe4)+util[_0x5b529c(0x10a)](_0x5315d5));const _0x5f1349=await GrpcClient[_0x5b529c(0x146)]()['logCreatedEvent'](_0x5315d5);}}catch(_0x439c58){logger[_0x5b529c(0x10c)]('Error\x20in\x20sendLogCreatedEvent:\x20'+util[_0x5b529c(0x144)](_0x439c58));}}}module[a62_0x1d3ec6(0x14d)]=PlaywrightTestFramework;