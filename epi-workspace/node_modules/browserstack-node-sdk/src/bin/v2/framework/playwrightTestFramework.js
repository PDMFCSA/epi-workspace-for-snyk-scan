function a62_0x4443(_0x242396,_0x44310f){const _0x49b8bf=a62_0x49b8();return a62_0x4443=function(_0x4443bf,_0x158784){_0x4443bf=_0x4443bf-0x66;let _0x19faa8=_0x49b8bf[_0x4443bf];return _0x19faa8;},a62_0x4443(_0x242396,_0x44310f);}const a62_0x3153fc=a62_0x4443;(function(_0x1a7da9,_0x51d0ce){const _0x56009e=a62_0x4443,_0x4fdf10=_0x1a7da9();while(!![]){try{const _0x39e9b3=-parseInt(_0x56009e(0x116))/0x1*(parseInt(_0x56009e(0x72))/0x2)+-parseInt(_0x56009e(0xf7))/0x3*(-parseInt(_0x56009e(0xb7))/0x4)+-parseInt(_0x56009e(0x96))/0x5*(-parseInt(_0x56009e(0x99))/0x6)+parseInt(_0x56009e(0x82))/0x7*(-parseInt(_0x56009e(0xac))/0x8)+parseInt(_0x56009e(0xde))/0x9*(parseInt(_0x56009e(0x101))/0xa)+parseInt(_0x56009e(0xe0))/0xb*(-parseInt(_0x56009e(0x6d))/0xc)+parseInt(_0x56009e(0x91))/0xd;if(_0x39e9b3===_0x51d0ce)break;else _0x4fdf10['push'](_0x4fdf10['shift']());}catch(_0x1fe3c7){_0x4fdf10['push'](_0x4fdf10['shift']());}}}(a62_0x49b8,0x6f637));const TestFramework=require(a62_0x3153fc(0xd9)),TestFrameworkState=require('../state/testFrameworkState.js'),HookState=require('../state/hookState.js'),{createClassLogger}=require('../../../helpers/classLogger.js'),TestFrameworkInstance=require('../instances/testFrameworkInstance.js'),CLIUtils=require(a62_0x3153fc(0xb9)),TrackedInstance=require('../instances/trackedInstance.js'),TestFrameworkConstants=require(a62_0x3153fc(0x119)),logger=createClassLogger(a62_0x3153fc(0xd1)),{v4:uuidv4}=require(a62_0x3153fc(0x114)),util=require(a62_0x3153fc(0x84)),{getPlaywrightSessionName,getPlaywrightTestFilePath,getPlaywrightTestId,getPlaywrightTestTitle,getPlaywrightTestLocation,getPlaywrightTestTags,getPlaywrightTestCode,getPlaywrightTestScope,getPlaywrightTestScopes,getStepsAndLogs,getScreenshots,getPlaywrightCustomRerunParam,getMediaArtifactsLogs,getManualUploadLogs,updatePayloadForTraceLogs}=require('../../../helpers/helper.js'),TestInfo=require(a62_0x3153fc(0xb2)),GrpcClient=require(a62_0x3153fc(0xa5)),{removeAnsiColors,getFailureType,failureData}=require('../../../helpers/test-observability/utils'),{getFailureData,getTestTags}=require('../../playwright/reporter/pwUtils'),{findNestedKey,sendTraceZip,validateFilePath}=require(a62_0x3153fc(0x8d)),path=require('path'),fs=require('fs'),helper=require('../../../../src/helpers/helper'),{PLAYWRIGHT_TRACE_LOGS}=require(a62_0x3153fc(0x73));function a62_0x49b8(){const _0xcdbb74=['Error\x20in\x20sendLogCreatedEvent:\x20','717573hqNQxp','parsePlaywrightTestResult','KEY_TEST_ATTACHMENTS','No\x20reason\x20provided','sendLogCreatedEvent','KEY_TEST_RESULT_AT','KEY_TEST_SCOPE','PRE','INIT_TEST','NONE','20XGYAms','resolveInstance','DEFAULT_HOOK_RESULT','ZapYT','skipped','passed','KEY_TEST_TAGS','parsePlaywrightTest','KEY_TEST_STARTED_AT','failed','QLOUp','debug','KEY_HOOK_LAST_FINISHED','POST','OvrDk','error','testUId',',\x20state=','filePath','uuid','yfOBP','25639TcvzZx','getRef','duration','./constants/testFrameworkConstants.js','gvtJk','aYClb',',\x20testFrameworkState=','getInstance','KEY_LOGS','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','getCurrentInstanceName','ERPSN','Expected\x20to\x20fail,\x20but\x20passed.','KEY_HOOK_FAILURE','CXsoM','KEY_AUTOMATE_SESSION_NAME','IwwFG','err','\x20\x20and\x20args\x20=\x20','14268VnSfFj','split','Error\x20processing\x20trace\x20file\x20','hSYzF','rDkfX','34EEsrOv','../../utils/constants','WiwPT','vEtST','WboLr','expectedStatus','fjCSS','hzTZW','yBNzQ','LzzHQ','setTestDetails','getTraceFilePaths','QrDKk','trackPlaywrightInstance:\x20saved\x20instance\x20contextId=','\x20instanceId=','KEY_TEST_FILE_PATH','49jIXGXa','trackPlaywrightInstance','util','\x20payload=','toISOString','info','gjyXo','toString','xpwls','POGeX','lgrIO','../../playwright/reporter/pwUtils','test','get','hook','6420830SQTcME','stack','result','TEST_ATTACHMENT','KEY_CUSTOM_TAGS','467370joSByh','KEY_TEST_FRAMEWORK_NAME','trackPlaywrightInstance:\x20created\x20instance\x20for\x20target=','18mdSFZY','lsoBf','hznjq','trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20','KEY_EVENT_ENDED_AT','KHguf','inspect','map','DEFAULT_TEST_RESULT','KEY_HOOKS_FINISHED','KEY_HOOK_RESULT','isArray','../grpcClient','getTestDetails','trackHookEvent','push','matchHookRegex','runHooks','filter','534328KLuPuG','OqKCI','KEY_HOOK_FAILURE_REASON','basename','steps','buWVB','../TestInfo.js','annotations','forEach','lpuIk','Error\x20processing\x20direct\x20trace\x20file\x20','4glMDvc','path','../cliUtils.js','size','KEY_HOOK_LOGS','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','Otukw','trackEvent\x20loading\x20testResults\x20for\x20testId:\x20','getTestFrameworksVersions','trackEvent','status','PkxRp','some','values','multi_dropdown','file_name','TEST','rLvXV','sendLogCreatedEvent\x20for\x20testId:\x20','KEY_HOOK_LAST_STARTED','setTrackedInstance','\x20instance=','KEY_TEST_RERUN_NAME','KEY_TEST_ENDED_AT','IDmae','errors','PlaywrightTestFramework','KEY_TEST_RESULT','exports','length','getAllData','sIGMq','KEY_HOOK_ID','KEY_TEST_FRAMEWORK_VERSION','./testFramework','KEY_TEST_LOCATION','trackEvent:\x20found\x20instance,\x20testFrameworkState=','statSync','Hook\x20List\x20in\x20Post\x20','2723967fvpBtp','FNLCu','2398ypkvcD','KEY_TEST_CODE','message','GQgqi','step','field_type','\x20target=','bDuns','xgTIt','DAvlX','KEY_TEST_UUID','trim','KEY_HOOKS_STARTED','logCreatedEvent','sendLogCreatedEvent:\x20testId=','yatGH','nSgpq','instance','startTime','pop','timedOut','\x20testHookState='];a62_0x49b8=function(){return _0xcdbb74;};return a62_0x49b8();}class PlaywrightTestFramework extends TestFramework{constructor(_0x2b09fb,_0x407e48,_0x289c7f){super(_0x2b09fb,_0x407e48,_0x289c7f);}async['trackEvent'](_0x29a85c,_0xb53346,_0x514879={}){const _0x1dcc76=a62_0x3153fc,_0x1e3a20={};_0x1e3a20[_0x1dcc76(0x9e)]=function(_0x49db89,_0x5b02a6){return _0x49db89===_0x5b02a6;},_0x1e3a20['zMUJn']='test',_0x1e3a20[_0x1dcc76(0x8b)]=_0x1dcc76(0xbc);const _0x588e67=_0x1e3a20;await super[_0x1dcc76(0xc0)](_0x29a85c,_0xb53346,_0x514879);const _0x94f01a=this[_0x1dcc76(0x102)](_0x29a85c,_0xb53346,_0x514879);if(!_0x94f01a)return;logger['debug'](_0x1dcc76(0xdb)+_0x29a85c+'\x20hookState='+_0xb53346+_0x1dcc76(0x80)+_0x94f01a[_0x1dcc76(0x117)]());try{if(_0x588e67[_0x1dcc76(0x9e)](_0xb53346,HookState[_0x1dcc76(0xfe)])&&_0x588e67['KHguf'](_0x29a85c,TestFrameworkState['TEST'])){const _0x387238=_0x514879[_0x1dcc76(0x8e)];logger[_0x1dcc76(0x10c)](_0x1dcc76(0x11f)+_0x387238['id']+'}');const _0x284f98=TestInfo['getTestUUID'](_0x387238['id']);_0x94f01a['addMultipleEntries'](this[_0x1dcc76(0x108)](_0x284f98,_0x387238)),logger[_0x1dcc76(0x10c)](_0x1dcc76(0x9c)+_0x387238['id']+_0x1dcc76(0x11c)+_0x29a85c+_0x1dcc76(0xf5)+_0xb53346+_0x1dcc76(0xcc)+_0x94f01a[_0x1dcc76(0x117)]());}if(_0x588e67['KHguf'](_0xb53346,HookState[_0x1dcc76(0x10e)])&&_0x588e67[_0x1dcc76(0x9e)](_0x29a85c,TestFrameworkState[_0x1dcc76(0xc7)])){const _0x3e7ef3=_0x514879['test'],_0x326dc2=_0x514879[_0x1dcc76(0x93)];logger[_0x1dcc76(0x10c)](_0x1dcc76(0xbe)+_0x3e7ef3['id']),_0x94f01a['addMultipleEntries'](this[_0x1dcc76(0xf8)](_0x3e7ef3['id'],_0x326dc2,_0x3e7ef3)),this[_0x1dcc76(0xfb)](_0x94f01a,_0x29a85c,_0xb53346,_0x588e67['zMUJn'],_0x514879);}if(CLIUtils[_0x1dcc76(0xa9)](_0x29a85c[_0x1dcc76(0x89)]()['split']('.')[0x1])){const _0x78e729=await this[_0x1dcc76(0xa7)](_0x94f01a,_0x29a85c,_0xb53346,_0x514879);_0x94f01a['addMultipleEntries'](_0x78e729);}}catch(_0x38517d){logger[_0x1dcc76(0x110)](util['format'](_0x588e67[_0x1dcc76(0x8b)],_0x29a85c,_0xb53346,_0x514879[_0x1dcc76(0xd4)],_0x38517d));}_0x514879[_0x1dcc76(0xf1)]=_0x94f01a,await this[_0x1dcc76(0xaa)](_0x94f01a,_0x29a85c,_0xb53346,_0x514879);}[a62_0x3153fc(0x102)](_0x47dcac,_0x49dc84,_0x512126={}){const _0x4cf1fa=a62_0x3153fc,_0x19b482={};_0x19b482[_0x4cf1fa(0x9b)]=function(_0x3fcacc,_0x364c74){return _0x3fcacc===_0x364c74;};const _0x1776dc=_0x19b482;let _0xad0722=null;return(_0x1776dc['hznjq'](_0x47dcac,TestFrameworkState[_0x4cf1fa(0xff)])||_0x1776dc[_0x4cf1fa(0x9b)](_0x47dcac,TestFrameworkState['NONE']))&&this['trackPlaywrightInstance'](_0x47dcac,_0x512126),_0xad0722=TestFramework['getTrackedInstance'](),_0xad0722;}[a62_0x3153fc(0x83)](_0x760168,_0x2b89c4){const _0x5cd179=a62_0x3153fc,_0x1ed0e1=CLIUtils[_0x5cd179(0x120)](),_0x5c41a7=TrackedInstance['createContext'](_0x1ed0e1);let _0x54feec=null;logger[_0x5cd179(0x87)](_0x5cd179(0x98)+_0x1ed0e1+_0x5cd179(0x112)+_0x760168),_0x54feec=new TestFrameworkInstance(_0x5c41a7,this['getTestFrameworks'](),this[_0x5cd179(0xbf)](),_0x760168,HookState[_0x5cd179(0x100)]),TestFramework[_0x5cd179(0xcb)](_0x5c41a7,_0x54feec),logger[_0x5cd179(0x87)](_0x5cd179(0x7f)+_0x5c41a7['getId']()+_0x5cd179(0xe6)+_0x1ed0e1);}[a62_0x3153fc(0x108)](_0x1f07af,_0x4a02bb){const _0xe5ca2a=a62_0x3153fc,_0xacb178={'FNLCu':function(_0x3f6f20,_0xcbfc9e){return _0x3f6f20(_0xcbfc9e);},'QLOUp':function(_0x5b54f3,_0x196e49){return _0x5b54f3(_0x196e49);},'xgTIt':function(_0x526a04,_0x5deaea){return _0x526a04(_0x5deaea);},'PkxRp':function(_0x590c64,_0x2b2240){return _0x590c64(_0x2b2240);}},_0xc79945=_0xacb178['FNLCu'](getPlaywrightTestId,_0x4a02bb),_0x3471c9=_0xacb178[_0xe5ca2a(0xdf)](getPlaywrightTestTitle,_0x4a02bb),_0x52cf63=_0xacb178['QLOUp'](getTestTags,_0x4a02bb),_0x5ac0b3=_0xacb178[_0xe5ca2a(0x10b)](getPlaywrightTestCode,_0x4a02bb),_0x1b1c40=_0xacb178[_0xe5ca2a(0xe8)](getPlaywrightTestFilePath,_0x4a02bb),_0x52e8e3=_0x1b1c40+':'+_0xacb178[_0xe5ca2a(0xe8)](getPlaywrightTestLocation,_0x4a02bb),_0x4b0a74=_0xacb178['QLOUp'](getPlaywrightTestScope,_0x4a02bb),_0x5e5ad2=_0xacb178[_0xe5ca2a(0xc2)](getPlaywrightTestScopes,_0x4a02bb),_0x442db1=_0xacb178[_0xe5ca2a(0xc2)](getPlaywrightSessionName,_0x4a02bb),_0x255ed2=this['getTestFrameworks']()[0x0],_0x39515a={[TestFrameworkConstants[_0xe5ca2a(0x97)]]:_0x255ed2,[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:this['getTestFrameworksVersions']()[_0x255ed2],[TestFrameworkConstants['KEY_TEST_LOGS']]:[],[TestFrameworkConstants['KEY_HOOKS_FINISHED']]:{},[TestFrameworkConstants[_0xe5ca2a(0xec)]]:{},[TestFrameworkConstants[_0xe5ca2a(0xea)]]:_0x1f07af,[TestFrameworkConstants[_0xe5ca2a(0xd2)]]:TestFrameworkConstants[_0xe5ca2a(0xa1)],[TestFrameworkConstants[_0xe5ca2a(0x69)]]:_0x442db1,[TestFrameworkConstants[_0xe5ca2a(0x81)]]:_0x1b1c40,[TestFrameworkConstants['KEY_TEST_ID']]:_0xc79945,[TestFrameworkConstants['KEY_TEST_NAME']]:_0x3471c9,[TestFrameworkConstants['KEY_TEST_LOCATION']]:_0x52e8e3,[TestFrameworkConstants[_0xe5ca2a(0xe1)]]:_0x5ac0b3,[TestFrameworkConstants[_0xe5ca2a(0x107)]]:_0x52cf63,[TestFrameworkConstants[_0xe5ca2a(0x109)]]:_0x4a02bb['results'][0x0][_0xe5ca2a(0xf2)],[TestFrameworkConstants[_0xe5ca2a(0xfd)]]:_0x4b0a74,[TestFrameworkConstants['KEY_TEST_SCOPES']]:_0x5e5ad2,[TestFrameworkConstants[_0xe5ca2a(0xcd)]]:_0xacb178[_0xe5ca2a(0xc2)](getPlaywrightCustomRerunParam,_0x4a02bb)};TestInfo[_0xe5ca2a(0x7c)](_0x4a02bb['id'],_0x39515a);const _0x12b8b6={};return _0x12b8b6[_0xc79945]=_0x39515a,_0x12b8b6;}[a62_0x3153fc(0xf8)](_0x4aa19a,_0x451c24,_0x14bee3){const _0x3d4857=a62_0x3153fc,_0x4d9b29={'yatGH':function(_0x3a535d,_0x4f0044){return _0x3a535d(_0x4f0044);},'lpuIk':_0x3d4857(0x94),'nSgpq':function(_0x51e045,_0x32a4ea){return _0x51e045===_0x32a4ea;},'xpwls':function(_0x56a6dc,_0x4fc548){return _0x56a6dc===_0x4fc548;},'lgrIO':function(_0x4e9e21,_0x4bd84e){return _0x4e9e21(_0x4bd84e);},'gjyXo':_0x3d4857(0xfa),'DAvlX':_0x3d4857(0xc5),'OvrDk':function(_0xb58135,_0x37e5f0){return _0xb58135+_0x37e5f0;},'SwObw':_0x3d4857(0x105),'IDmae':_0x3d4857(0x106),'GQgqi':function(_0x4c579c,_0x4de8da){return _0x4c579c===_0x4de8da;},'gvtJk':_0x3d4857(0x10a),'yBNzQ':_0x3d4857(0xf4),'hzTZW':_0x3d4857(0x66),'yfOBP':function(_0x55c64c,_0x204ca2,_0x54573b){return _0x55c64c(_0x204ca2,_0x54573b);},'lYJkV':function(_0x1a72ac,_0x15b88c){return _0x1a72ac||_0x15b88c;},'QrDKk':function(_0x24bb65,_0xbb83a){return _0x24bb65(_0xbb83a);},'kYXya':function(_0x5cdd62,_0x224287,_0x36acc7){return _0x5cdd62(_0x224287,_0x36acc7);},'bDuns':_0x3d4857(0xb8),'IwwFG':function(_0x2dcf18,_0x4776cc){return _0x2dcf18>_0x4776cc;}};logger[_0x3d4857(0x10c)]('parsePlaywrightTestResult:\x20testId='+_0x4aa19a);const _0x53fdae=new Date(_0x451c24[_0x3d4857(0xf2)]),_0x36e75a=_0x451c24[_0x3d4857(0x118)],_0x2ae342=new Date(_0x4d9b29[_0x3d4857(0x10f)](_0x53fdae['getTime'](),_0x36e75a)),_0x551047=_0x451c24[_0x3d4857(0xc1)],_0x3e202c=TestInfo['getTestDetails'](_0x4aa19a)[TestFrameworkConstants[_0x3d4857(0x95)]]||{};let _0x4eec7d=_0x551047;if(_0x4d9b29[_0x3d4857(0x8a)](_0x451c24[_0x3d4857(0xc1)],_0x14bee3[_0x3d4857(0x77)]))_0x4eec7d=_0x4d9b29['nSgpq'](_0x451c24['status'],_0x4d9b29['SwObw'])?_0x4d9b29['SwObw']:_0x4d9b29[_0x3d4857(0xcf)];else{(_0x4d9b29[_0x3d4857(0xe3)](_0x4eec7d,_0x4d9b29[_0x3d4857(0xcf)])||_0x4d9b29[_0x3d4857(0xf0)](_0x4eec7d,_0x4d9b29[_0x3d4857(0x11a)])||_0x4d9b29[_0x3d4857(0x8a)](_0x4eec7d,_0x4d9b29[_0x3d4857(0x7a)]))&&(_0x4eec7d=_0x4d9b29[_0x3d4857(0x11a)]);if(_0x4d9b29[_0x3d4857(0xf0)](_0x451c24['status'],_0x4d9b29[_0x3d4857(0xcf)])&&_0x4d9b29[_0x3d4857(0xe3)](_0x14bee3[_0x3d4857(0x77)],_0x4d9b29[_0x3d4857(0x11a)])){const _0x25205d={};_0x25205d[_0x3d4857(0xe2)]=_0x4d9b29[_0x3d4857(0x79)],_0x25205d[_0x3d4857(0x92)]=_0x4d9b29[_0x3d4857(0x79)],_0x451c24[_0x3d4857(0x110)]=_0x25205d,_0x451c24['errors']=[_0x451c24[_0x3d4857(0x110)]];}}const {failureData:_0x325be2,logs:_0x528b2b}=_0x4d9b29['yfOBP'](getFailureData,_0x451c24?.[_0x3d4857(0xd0)],{}),_0x1fab6c={[TestFrameworkConstants['KEY_TEST_FAILURE']]:_0x4d9b29['lYJkV'](_0x325be2,null),[TestFrameworkConstants['KEY_TEST_FAILURE_TYPE']]:_0x451c24?.[_0x3d4857(0x110)]&&_0x4d9b29['yatGH'](getFailureType,_0x451c24['error'][_0x3d4857(0xe2)]),[TestFrameworkConstants['KEY_TEST_FAILURE_REASON']]:_0x451c24?.[_0x3d4857(0x110)]&&_0x4d9b29[_0x3d4857(0x7e)](removeAnsiColors,_0x451c24[_0x3d4857(0x110)][_0x3d4857(0xe2)]),[TestFrameworkConstants[_0x3d4857(0x11e)]]:[],[TestFrameworkConstants[_0x3d4857(0xd2)]]:_0x451c24[_0x3d4857(0xc1)],[TestFrameworkConstants[_0x3d4857(0xce)]]:_0x2ae342[_0x3d4857(0x86)](),[TestFrameworkConstants[_0x3d4857(0xfc)]]:new Date()[_0x3d4857(0x86)](),[TestFrameworkConstants['KEY_CUSTOM_TAGS']]:_0x3e202c},_0x288ffd={};_0x288ffd[_0x3d4857(0x8e)]=_0x14bee3;const _0x271cde=this[_0x3d4857(0x102)](TestFrameworkState['TEST'],HookState[_0x3d4857(0x10e)],_0x288ffd),_0x1b05cb=_0x271cde[_0x3d4857(0xd5)]()[_0x3d4857(0x8f)](_0x4aa19a)[TestFrameworkConstants[_0x3d4857(0xea)]],_0x4f1d49=[],_0x2d327b=_0x4d9b29['kYXya'](findNestedKey,_0x451c24,_0x4d9b29[_0x3d4857(0xe7)]);if(_0x2d327b&&_0x4d9b29[_0x3d4857(0x7e)](validateFilePath,_0x2d327b))try{_0x4f1d49[_0x3d4857(0xa8)]({'kind':_0x4d9b29[_0x3d4857(0xb5)],'timestamp':new Date()[_0x3d4857(0x86)](),'test_run_uuid':_0x1b05cb,'file_name':path[_0x3d4857(0xaf)](_0x2d327b),'file_size':fs[_0x3d4857(0xdc)](_0x2d327b)[_0x3d4857(0xba)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x360298){logger[_0x3d4857(0x110)](_0x3d4857(0xb6)+_0x2d327b+':\x20'+_0x360298['message']);}const _0x5e5574=TestInfo[_0x3d4857(0x7d)](),_0x297230=_0x5e5574[_0x3d4857(0xab)](_0x5401b3=>_0x5401b3[_0x3d4857(0x111)]===_0x1b05cb);_0x297230[_0x3d4857(0xb4)](_0x224f36=>{const _0x17e78f=_0x3d4857;if(_0x224f36['filePath']&&_0x4d9b29[_0x17e78f(0xef)](validateFilePath,_0x224f36[_0x17e78f(0x113)])&&!_0x4f1d49[_0x17e78f(0xc3)](_0x5833c0=>_0x5833c0[_0x17e78f(0xc6)]===path['basename'](_0x224f36[_0x17e78f(0x113)])))try{_0x4f1d49[_0x17e78f(0xa8)]({'kind':_0x4d9b29['lpuIk'],'timestamp':new Date()[_0x17e78f(0x86)](),'test_run_uuid':_0x1b05cb,'file_name':path[_0x17e78f(0xaf)](_0x224f36[_0x17e78f(0x113)]),'file_size':fs[_0x17e78f(0xdc)](_0x224f36[_0x17e78f(0x113)])[_0x17e78f(0xba)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x20555d){logger[_0x17e78f(0x110)](_0x17e78f(0x6f)+_0x224f36['filePath']+'\x20from\x20TestDetails:\x20'+_0x20555d[_0x17e78f(0xe2)]);}});if(_0x4d9b29[_0x3d4857(0x6a)](_0x4f1d49[_0x3d4857(0xd4)],0x0)){const _0x20ce6f=_0x1fab6c[TestFrameworkConstants[_0x3d4857(0x11e)]]||[];_0x1fab6c[TestFrameworkConstants['KEY_LOGS']]=[..._0x20ce6f,..._0x4f1d49];}const _0x3dab19=TestInfo[_0x3d4857(0xa6)](_0x4aa19a)[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x589bf5=_0x4d9b29[_0x3d4857(0x115)](getManualUploadLogs,_0x3dab19,_0x271cde['getAllData']()[_0x3d4857(0x8f)](_0x4aa19a)[TestFrameworkConstants['KEY_TEST_UUID']]);if(_0x4d9b29[_0x3d4857(0x6a)](_0x589bf5[_0x3d4857(0xd4)],0x0)){const _0xf81d88=_0x1fab6c[TestFrameworkConstants[_0x3d4857(0x11e)]]||[];_0x1fab6c[TestFrameworkConstants['KEY_LOGS']]=[..._0xf81d88,..._0x589bf5];}const _0x446a2a=_0x14bee3[_0x3d4857(0xb3)]||[],_0x5b3361=_0x1fab6c[TestFrameworkConstants[_0x3d4857(0x95)]]||{};_0x446a2a[_0x3d4857(0xb4)](_0x16c64c=>{const _0x4a64c2=_0x3d4857,{type:_0x20f860}=_0x16c64c;let _0x3e7664=_0x16c64c['description'];if(!_0x20f860)return;(_0x4d9b29['nSgpq'](_0x3e7664,undefined)||_0x4d9b29[_0x4a64c2(0xf0)](_0x3e7664,null)||_0x4d9b29[_0x4a64c2(0x8a)](_0x4d9b29[_0x4a64c2(0x8c)](String,_0x3e7664)[_0x4a64c2(0xeb)](),''))&&(_0x3e7664=_0x4d9b29[_0x4a64c2(0x88)]);if(!_0x5b3361[_0x20f860]){const _0x137c00={};_0x137c00['field_type']=_0x4d9b29[_0x4a64c2(0xe9)],_0x137c00[_0x4a64c2(0xc4)]=[],_0x5b3361[_0x20f860]=_0x137c00;}else!_0x5b3361[_0x20f860][_0x4a64c2(0xe5)]&&(_0x5b3361[_0x20f860][_0x4a64c2(0xe5)]=_0x4d9b29[_0x4a64c2(0xe9)]),!Array[_0x4a64c2(0xa4)](_0x5b3361[_0x20f860][_0x4a64c2(0xc4)])&&(_0x5b3361[_0x20f860][_0x4a64c2(0xc4)]=[]);const _0x7e127=_0x4d9b29[_0x4a64c2(0x8c)](String,_0x3e7664)['split'](',')[_0x4a64c2(0xa0)](_0x4a5571=>_0x4a5571[_0x4a64c2(0xeb)]());_0x5b3361[_0x20f860][_0x4a64c2(0xc4)]=[...new Set([..._0x5b3361[_0x20f860]['values'],..._0x7e127])];}),_0x1fab6c[TestFrameworkConstants[_0x3d4857(0x95)]]=_0x5b3361,TestInfo[_0x3d4857(0x7c)](_0x4aa19a,_0x1fab6c);const _0x1dd4fd={};return _0x1dd4fd[_0x4aa19a]=_0x1fab6c,_0x1dd4fd;}async[a62_0x3153fc(0xa7)](_0x47dbe2,_0x4e88ff,_0x10433c,_0x3a0f5b){const _0x4ad8d4=a62_0x3153fc,_0x521240={'ERPSN':function(_0x12773a,_0x9eabad){return _0x12773a in _0x9eabad;},'ZapYT':function(_0x46db71,_0x5522bc){return _0x46db71(_0x5522bc);},'sIGMq':function(_0x4d0a88,_0x17f4f7){return _0x4d0a88===_0x17f4f7;},'rDkfX':function(_0x30e787){return _0x30e787();},'OqKCI':function(_0x45fcfe,_0x1ba801){return _0x45fcfe>_0x1ba801;},'Uyhfk':function(_0x39983e,_0xc526e3,_0xd128e5){return _0x39983e(_0xc526e3,_0xd128e5);},'fAdhY':_0x4ad8d4(0x6b),'CXsoM':function(_0x3caf49,_0xf4ca8){return _0x3caf49(_0xf4ca8);},'XolrY':function(_0xfa9d71,_0x538b3d){return _0xfa9d71(_0x538b3d);},'WboLr':_0x4ad8d4(0x10a),'vEtST':_0x4ad8d4(0x106),'hSYzF':function(_0x4a4de3,_0x50be9c){return _0x4a4de3!==_0x50be9c;},'OvBvD':function(_0x18e026,_0x141025){return _0x18e026+_0x141025;},'lsoBf':_0x4ad8d4(0x90)},_0x5890c9=_0x3a0f5b[_0x4ad8d4(0x8e)],_0x420857=_0x3a0f5b['step'],_0x951670=_0x3a0f5b['test']['id'],_0x239d86=_0x4e88ff[_0x4ad8d4(0x89)]()[_0x4ad8d4(0x6e)]('.')[0x1];let _0x394cb7=_0x47dbe2[_0x4ad8d4(0xd5)]()['get'](_0x951670)[TestFrameworkConstants[_0x4ad8d4(0xec)]];!_0x394cb7&&(_0x394cb7={});!_0x521240[_0x4ad8d4(0x121)](_0x239d86,_0x394cb7)&&(_0x394cb7[_0x239d86]=[]);let _0x1d50fd=_0x47dbe2['getAllData']()[_0x4ad8d4(0x8f)](_0x951670)[TestFrameworkConstants['KEY_HOOKS_FINISHED']];!_0x1d50fd&&(_0x1d50fd={});!_0x521240[_0x4ad8d4(0x121)](_0x239d86,_0x1d50fd)&&(_0x1d50fd[_0x239d86]=[]);const _0x5ac098={[TestFrameworkConstants['KEY_HOOKS_STARTED']]:_0x394cb7,[TestFrameworkConstants[_0x4ad8d4(0xa2)]]:_0x1d50fd},_0xbd1fea={};_0xbd1fea[_0x951670]=_0x5ac098;const _0x44287c=_0xbd1fea,_0x382da4=_0x521240['ZapYT'](getPlaywrightTestFilePath,_0x5890c9),_0x1f3bb7=_0x382da4+':'+_0x521240[_0x4ad8d4(0x104)](getPlaywrightTestLocation,_0x5890c9),_0x5b3dcd=TestInfo[_0x4ad8d4(0xa6)](_0x951670)[TestFrameworkConstants[_0x4ad8d4(0x95)]]||{};if(_0x521240[_0x4ad8d4(0xd6)](_0x10433c,HookState[_0x4ad8d4(0xfe)])){const _0x512518={'key':_0x239d86,[TestFrameworkConstants[_0x4ad8d4(0xd7)]]:_0x521240[_0x4ad8d4(0x71)](uuidv4),[TestFrameworkConstants[_0x4ad8d4(0xa3)]]:TestFrameworkConstants['DEFAULT_HOOK_RESULT'],[TestFrameworkConstants['KEY_EVENT_STARTED_AT']]:_0x420857[_0x4ad8d4(0xf2)],[TestFrameworkConstants[_0x4ad8d4(0xbb)]]:[],[TestFrameworkConstants['KEY_HOOK_NAME']]:_0x420857['title'],[TestFrameworkConstants['KEY_TEST_FILE_PATH']]:_0x382da4,[TestFrameworkConstants[_0x4ad8d4(0xda)]]:_0x1f3bb7,[TestFrameworkConstants[_0x4ad8d4(0x95)]]:_0x5b3dcd};_0x394cb7[_0x239d86][_0x4ad8d4(0xa8)](_0x512518),_0x44287c[_0x951670][TestFrameworkConstants[_0x4ad8d4(0xca)]]=_0x239d86,logger[_0x4ad8d4(0x10c)]('Hook\x20Started\x20in\x20PRE\x20key\x20=\x20'+_0x239d86+'\x20&\x20hook\x20=\x20'+_0x512518+_0x4ad8d4(0x6c)+_0x3a0f5b);}else{if(_0x521240['sIGMq'](_0x10433c,HookState['POST'])){const _0x5c04be=await _0x3a0f5b[_0x4ad8d4(0x93)],_0x4f2772=_0x394cb7[_0x239d86]||[],_0x2fd50c=_0x3a0f5b['step'];logger[_0x4ad8d4(0x10c)](_0x4ad8d4(0xdd)+_0x4f2772+'\x20and\x20args\x20=\x20'+_0x3a0f5b);if(_0x521240[_0x4ad8d4(0xad)](_0x4f2772[_0x4ad8d4(0xd4)],0x0)){const _0x27b214=_0x4f2772[_0x4ad8d4(0xf3)]();if(_0x2fd50c[_0x4ad8d4(0x110)]){const _0x595a0d=_0x521240['Uyhfk'](failureData,_0x2fd50c[_0x4ad8d4(0x110)],_0x521240['fAdhY']);_0x27b214[TestFrameworkConstants['KEY_HOOK_FAILURE_TYPE']]=_0x521240[_0x4ad8d4(0x68)](getFailureType,_0x2fd50c?.['error'][_0x4ad8d4(0xe2)]),_0x27b214[TestFrameworkConstants[_0x4ad8d4(0xae)]]=_0x521240['XolrY'](removeAnsiColors,_0x2fd50c?.['error'][_0x4ad8d4(0xe2)]),_0x27b214[TestFrameworkConstants[_0x4ad8d4(0xa3)]]=_0x521240['WboLr'],_0x27b214[TestFrameworkConstants[_0x4ad8d4(0x67)]]=_0x595a0d;}else _0x27b214[TestFrameworkConstants['KEY_HOOK_RESULT']]=_0x521240[_0x4ad8d4(0x75)];_0x521240[_0x4ad8d4(0x70)](_0x5c04be,TestFrameworkConstants[_0x4ad8d4(0x103)])&&(_0x27b214[TestFrameworkConstants[_0x4ad8d4(0xa3)]]=!_0x2fd50c[_0x4ad8d4(0x110)]?_0x521240[_0x4ad8d4(0x75)]:_0x521240[_0x4ad8d4(0x76)]);const _0x57e793=new Date(_0x2fd50c[_0x4ad8d4(0xf2)]),_0x613b5a=new Date(_0x521240['OvBvD'](_0x57e793['getTime'](),_0x2fd50c[_0x4ad8d4(0x118)]));_0x27b214[TestFrameworkConstants[_0x4ad8d4(0x9d)]]=_0x613b5a['toISOString'](),_0x27b214[TestFrameworkConstants['KEY_CUSTOM_TAGS']]=_0x5b3dcd;const _0x254fd7=_0x27b214[TestFrameworkConstants[_0x4ad8d4(0xd7)]];await this[_0x4ad8d4(0xfb)](_0x47dbe2,_0x4e88ff,_0x254fd7,_0x521240[_0x4ad8d4(0x9a)],_0x3a0f5b),!_0x1d50fd[_0x239d86]&&(_0x1d50fd[_0x239d86]=[]),_0x1d50fd[_0x239d86][_0x4ad8d4(0xa8)](_0x27b214),_0x44287c[_0x951670][TestFrameworkConstants[_0x4ad8d4(0x10d)]]=_0x239d86;}}}return _0x44287c;}async[a62_0x3153fc(0xfb)](_0x34cfef,_0x507ed3,_0x2ba0ea,_0x35a087,_0x160a9c){const _0x5b70ba=a62_0x3153fc,_0x205ca5={'LzzHQ':function(_0x29c3d0,_0x4c39c1){return _0x29c3d0===_0x4c39c1;},'buWVB':'test','fjCSS':function(_0x325f55,_0x451680,_0x10f762){return _0x325f55(_0x451680,_0x10f762);},'rLvXV':function(_0x523981,_0x3b4a55,_0x2c6149,_0x7d5924){return _0x523981(_0x3b4a55,_0x2c6149,_0x7d5924);},'WiwPT':function(_0x1726e7,_0x5d13a5,_0x3aae49){return _0x1726e7(_0x5d13a5,_0x3aae49);},'aYClb':function(_0x4db360,_0xb9881b,_0x4f22e7,_0x185524,_0x185b43){return _0x4db360(_0xb9881b,_0x4f22e7,_0x185524,_0x185b43);},'Otukw':_0x5b70ba(0x90),'VFYuA':function(_0x427005,_0x12c65e,_0x20fed6,_0x38eb76,_0x3f9cb5){return _0x427005(_0x12c65e,_0x20fed6,_0x38eb76,_0x3f9cb5);}};try{if(_0x205ca5[_0x5b70ba(0x7b)](_0x35a087,_0x205ca5[_0x5b70ba(0xb1)])){const _0x214847=await _0x160a9c['result'],_0x53486b=_0x160a9c[_0x5b70ba(0x8e)]['id'],_0x582fb0=_0x160a9c[_0x5b70ba(0x8e)];logger['debug'](_0x5b70ba(0xee)+_0x53486b);const _0x1ae472=_0x34cfef[_0x5b70ba(0xd5)]()[_0x5b70ba(0x8f)](_0x53486b)[TestFrameworkConstants['KEY_TEST_UUID']];await _0x205ca5[_0x5b70ba(0x78)](sendTraceZip,_0x214847,_0x1ae472);const {steps:_0x3b1b50,logs:_0x2687e4}=_0x205ca5[_0x5b70ba(0xc8)](getStepsAndLogs,_0x214847[_0x5b70ba(0xb0)],_0x34cfef[_0x5b70ba(0xd5)]()[_0x5b70ba(0x8f)](_0x53486b)[TestFrameworkConstants['KEY_TEST_UUID']],_0x205ca5['buWVB']),_0x41753d=_0x205ca5[_0x5b70ba(0x74)](getScreenshots,_0x214847,_0x34cfef[_0x5b70ba(0xd5)]()[_0x5b70ba(0x8f)](_0x53486b)[TestFrameworkConstants[_0x5b70ba(0xea)]]),{_:_0x5b8fbb,logs:_0x1df250}=_0x205ca5[_0x5b70ba(0x74)](getFailureData,_0x214847['errors'],{'test_run_uuid':_0x34cfef[_0x5b70ba(0xd5)]()['get'](_0x53486b)[TestFrameworkConstants[_0x5b70ba(0xea)]]}),_0x3db9db=TestInfo['getTestDetails'](_0x53486b)[TestFrameworkConstants[_0x5b70ba(0xf9)]]||{},_0xb87eb2=_0x205ca5[_0x5b70ba(0x78)](getMediaArtifactsLogs,_0x3db9db,_0x34cfef[_0x5b70ba(0xd5)]()[_0x5b70ba(0x8f)](_0x53486b)[TestFrameworkConstants['KEY_TEST_UUID']]),_0x2370fc=_0x34cfef[_0x5b70ba(0xd5)]()[_0x5b70ba(0x8f)](_0x53486b),{[TestFrameworkConstants[_0x5b70ba(0x97)]]:_0x35e8d2='',[TestFrameworkConstants[_0x5b70ba(0xd8)]]:_0x50b1ed=''}=_0x2370fc,_0xca3be7={'platformIndex':'0','logs':[..._0x2687e4||[],..._0x41753d||[],..._0x1df250||[],..._0xb87eb2||[]],'testFrameworkName':_0x35e8d2,'testFrameworkVersion':_0x50b1ed,'testFrameworkState':_0x507ed3['toString']()[_0x5b70ba(0x6e)]('.')[0x1]};_0x205ca5[_0x5b70ba(0x11b)](updatePayloadForTraceLogs,_0xca3be7,_0x160a9c,_0x53486b,_0x34cfef),logger[_0x5b70ba(0x10c)](_0x5b70ba(0xc9)+_0x53486b+_0x5b70ba(0x85)+util[_0x5b70ba(0x9f)](_0xca3be7));const _0x2b5268=await GrpcClient['getInstance']()['logCreatedEvent'](_0xca3be7);}else{const {steps:_0x2b2c01,logs:_0x2597d7}=_0x205ca5[_0x5b70ba(0xc8)](getStepsAndLogs,_0x160a9c[_0x5b70ba(0xe4)][_0x5b70ba(0xb0)],_0x2ba0ea,_0x205ca5[_0x5b70ba(0xbd)]),_0x4d052a=_0x160a9c[_0x5b70ba(0x8e)]['id'];logger['debug']('sendLogCreatedEvent:\x20testId='+_0x4d052a);const _0x20da3b=_0x34cfef[_0x5b70ba(0xd5)]()[_0x5b70ba(0x8f)](_0x4d052a),{[TestFrameworkConstants[_0x5b70ba(0x97)]]:_0x50ff0e='',[TestFrameworkConstants[_0x5b70ba(0xd8)]]:_0x568b66=''}=_0x20da3b,_0x315bf3={'platformIndex':'0','logs':_0x2597d7,'testFrameworkName':_0x50ff0e,'testFrameworkVersion':_0x568b66,'testFrameworkState':_0x507ed3['toString']()[_0x5b70ba(0x6e)]('.')[0x1]};_0x205ca5['VFYuA'](updatePayloadForTraceLogs,_0x315bf3,_0x160a9c,_0x4d052a,_0x34cfef),logger['debug'](_0x5b70ba(0xc9)+_0x4d052a+_0x5b70ba(0x85)+util[_0x5b70ba(0x9f)](_0x315bf3));const _0x327438=await GrpcClient[_0x5b70ba(0x11d)]()[_0x5b70ba(0xed)](_0x315bf3);}}catch(_0x39ea2d){logger['error'](_0x5b70ba(0xf6)+util['format'](_0x39ea2d));}}}module[a62_0x3153fc(0xd3)]=PlaywrightTestFramework;