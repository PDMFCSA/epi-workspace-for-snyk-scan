function a65_0x3554(_0x2a22d3,_0x48ee8b){const _0x1e2d03=a65_0x1e2d();return a65_0x3554=function(_0x3554bc,_0x415302){_0x3554bc=_0x3554bc-0x9c;let _0x1f7fb1=_0x1e2d03[_0x3554bc];return _0x1f7fb1;},a65_0x3554(_0x2a22d3,_0x48ee8b);}const a65_0x638580=a65_0x3554;(function(_0x3ca01e,_0x571435){const _0x38ac35=a65_0x3554,_0x2e65ae=_0x3ca01e();while(!![]){try{const _0xe4b0fd=parseInt(_0x38ac35(0x10b))/0x1*(parseInt(_0x38ac35(0x101))/0x2)+parseInt(_0x38ac35(0x135))/0x3*(parseInt(_0x38ac35(0xc1))/0x4)+-parseInt(_0x38ac35(0x131))/0x5+parseInt(_0x38ac35(0x143))/0x6+parseInt(_0x38ac35(0xa0))/0x7*(parseInt(_0x38ac35(0xaa))/0x8)+parseInt(_0x38ac35(0x153))/0x9*(parseInt(_0x38ac35(0xb7))/0xa)+-parseInt(_0x38ac35(0x15e))/0xb*(parseInt(_0x38ac35(0xec))/0xc);if(_0xe4b0fd===_0x571435)break;else _0x2e65ae['push'](_0x2e65ae['shift']());}catch(_0x4e886e){_0x2e65ae['push'](_0x2e65ae['shift']());}}}(a65_0x1e2d,0x95123));function a65_0x1e2d(){const _0xb7f46a=['values','209CyCmek','push','twgng','resolveInstance','jFPzp','map','\x20target=','kKNMI','INIT_TEST','YblAP','\x20from\x20TestDetails:\x20','KEY_HOOK_FAILURE_TYPE','../../utils/constants','../state/testFrameworkState.js','cUpwF','7UFTXXh','tDnVf','KEY_TEST_FRAMEWORK_NAME','message','annotations','./constants/testFrameworkConstants.js','KEY_TEST_STARTED_AT','MayWB','getInstance','\x20&\x20hook\x20=\x20','5134056mGuIPr','KEY_EVENT_STARTED_AT','KEY_TEST_FILE_PATH','toISOString','xZzMF','../../../helpers/helper.js','rKpVU','hRfQz','YBnLJ','../instances/testFrameworkInstance.js','clVAt','wEJNM','KEY_TEST_FRAMEWORK_VERSION','90bEvrZB','UzmNV','trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20','parsePlaywrightTestResult','expectedStatus','Error\x20processing\x20direct\x20trace\x20file\x20','xtYzi','KEY_TEST_SCOPE','\x20testHookState=','ukdhw','3651892uOISaZ','error','trim','format','oDYBA','KEY_TEST_ENDED_AT','some','failed','step','KEY_HOOK_RESULT','KEY_CUSTOM_TAGS','AbjBZ','instance','matchHookRegex','EJirR','getTestFrameworks','status','KEY_TEST_CODE','QZVNN','inspect','IlJTa','basename','Hook\x20List\x20in\x20Post\x20','exports','statSync','RTjTd','lvhfn','TEST_ATTACHMENT','sendLogCreatedEvent','KEY_HOOKS_FINISHED','result','upObk','Error\x20processing\x20trace\x20file\x20','EfAUi','rVqIw','KEY_TEST_TAGS','\x20instanceId=','stack','oWmCm','sendLogCreatedEvent\x20for\x20testId:\x20','util','TEST','KEY_HOOKS_STARTED','894312HOdpWe','../instances/trackedInstance.js','startTime','KEY_HOOK_FAILURE','file_name','POST','filePath','addMultipleEntries','setTestDetails','uaKql','./testFramework','fSjhK','test','LWTmV','KEY_AUTOMATE_SESSION_NAME','Expected\x20to\x20fail,\x20but\x20passed.','../grpcClient','getTime','trackHookEvent','../state/hookState.js','Zkklq','714148uShebQ','results','info','KEY_HOOK_LOGS','parsePlaywrightTest','KEY_TEST_RESULT','path','yOaBG','waLec','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','2IFgNgk',',\x20testFrameworkState=','KEY_TEST_FAILURE_TYPE','description','rBCLK','pop','trackEvent','KEY_TEST_NAME','debug','\x20instance=','KEY_TEST_UUID','VNiqA','Error\x20in\x20sendLogCreatedEvent:\x20','KEY_HOOK_ID','KEY_TEST_LOGS','title','uuid','ZaAog','size','KEY_EVENT_ENDED_AT','KEY_TEST_LOCATION','toString','trackPlaywrightInstance:\x20created\x20instance\x20for\x20target=','trackPlaywrightInstance:\x20saved\x20instance\x20contextId=','get','KEY_LOGS','getRef','LbAXn','QWXmh','Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','ubLqc','errors','ZaXOl','nHQDR','../../../helpers/test-observability/utils','steps','field_type','../../playwright/reporter/pwUtils','4881715QijAOG','getAllData','../TestInfo.js','KEY_TEST_ID','3KGQKkT','getTrackedInstance','YmvBE','split','mwznM','getTestDetails','sHKxT','KEY_HOOK_LAST_STARTED','trackPlaywrightInstance','LZJpa','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','KLeVs','aEKMM','\x20payload=','3130302WaUelv','nvPBR','timedOut','eAEgq','KEY_TEST_RERUN_NAME','NONE','\x20and\x20args\x20=\x20','KEY_TEST_FAILURE','sendLogCreatedEvent:\x20testId=','DEFAULT_HOOK_RESULT','logCreatedEvent','RNaER','duration','getId','forEach','passed','212337rTFXYi','MPtYE','No\x20reason\x20provided','length','getTestFrameworksVersions','hook','getTestUUID','skipped',',\x20state=','getTraceFilePaths'];a65_0x1e2d=function(){return _0xb7f46a;};return a65_0x1e2d();}const TestFramework=require(a65_0x638580(0xf6)),TestFrameworkState=require(a65_0x638580(0x9e)),HookState=require(a65_0x638580(0xff)),{createClassLogger}=require('../../../helpers/classLogger.js'),TestFrameworkInstance=require(a65_0x638580(0xb3)),CLIUtils=require('../cliUtils.js'),TrackedInstance=require(a65_0x638580(0xed)),TestFrameworkConstants=require(a65_0x638580(0xa5)),logger=createClassLogger('PlaywrightTestFramework'),{v4:uuidv4}=require(a65_0x638580(0x11b)),util=require(a65_0x638580(0xe9)),{getPlaywrightSessionName,getPlaywrightTestFilePath,getPlaywrightTestId,getPlaywrightTestTitle,getPlaywrightTestLocation,getPlaywrightTestTags,getPlaywrightTestCode,getPlaywrightTestScope,getPlaywrightTestScopes,getStepsAndLogs,getScreenshots,getPlaywrightCustomRerunParam,getMediaArtifactsLogs,getManualUploadLogs,updatePayloadForTraceLogs}=require(a65_0x638580(0xaf)),TestInfo=require(a65_0x638580(0x133)),GrpcClient=require(a65_0x638580(0xfc)),{removeAnsiColors,getFailureType,failureData}=require(a65_0x638580(0x12d)),{getFailureData,getTestTags}=require(a65_0x638580(0x130)),{findNestedKey,sendTraceZip,validateFilePath}=require(a65_0x638580(0x130)),path=require(a65_0x638580(0x107)),fs=require('fs'),helper=require('../../../../src/helpers/helper'),{PLAYWRIGHT_TRACE_LOGS}=require(a65_0x638580(0x9d));class PlaywrightTestFramework extends TestFramework{constructor(_0x3a2ef1,_0x44d27b,_0x122723){super(_0x3a2ef1,_0x44d27b,_0x122723);}async[a65_0x638580(0x111)](_0x208f36,_0x8c6d71,_0x2f6f60={}){const _0x4cdd43=a65_0x638580,_0x364563={};_0x364563[_0x4cdd43(0x9f)]=function(_0x512d08,_0x471bb9){return _0x512d08===_0x471bb9;},_0x364563['LbAXn']=function(_0x1f8072,_0x1551d2){return _0x1f8072===_0x1551d2;},_0x364563[_0x4cdd43(0x12b)]='test',_0x364563['GaSfW']=_0x4cdd43(0x10a);const _0x592c36=_0x364563;await super[_0x4cdd43(0x111)](_0x208f36,_0x8c6d71,_0x2f6f60);const _0x2ab63c=this[_0x4cdd43(0x161)](_0x208f36,_0x8c6d71,_0x2f6f60);if(!_0x2ab63c)return;logger[_0x4cdd43(0x113)]('trackEvent:\x20found\x20instance,\x20testFrameworkState='+_0x208f36+'\x20hookState='+_0x8c6d71+_0x4cdd43(0xe5)+_0x2ab63c[_0x4cdd43(0x125)]());try{if(_0x592c36[_0x4cdd43(0x9f)](_0x8c6d71,HookState['PRE'])&&_0x592c36['cUpwF'](_0x208f36,TestFrameworkState[_0x4cdd43(0xea)])){const _0x16dd2c=_0x2f6f60[_0x4cdd43(0xf8)];logger[_0x4cdd43(0x113)](_0x4cdd43(0x13f)+_0x16dd2c['id']+'}');const _0x224872=TestInfo[_0x4cdd43(0x159)](_0x16dd2c['id']);_0x2ab63c[_0x4cdd43(0xf3)](this[_0x4cdd43(0x105)](_0x224872,_0x16dd2c)),logger[_0x4cdd43(0x113)](_0x4cdd43(0xb9)+_0x16dd2c['id']+_0x4cdd43(0x10c)+_0x208f36+_0x4cdd43(0xbf)+_0x8c6d71+_0x4cdd43(0x114)+_0x2ab63c[_0x4cdd43(0x125)]());}if(_0x592c36[_0x4cdd43(0x126)](_0x8c6d71,HookState[_0x4cdd43(0xf1)])&&_0x592c36[_0x4cdd43(0x9f)](_0x208f36,TestFrameworkState[_0x4cdd43(0xea)])){const _0x1bfb4a=_0x2f6f60['test'],_0x238e01=_0x2f6f60[_0x4cdd43(0xdf)];logger['debug']('trackEvent\x20loading\x20testResults\x20for\x20testId:\x20'+_0x1bfb4a['id']),_0x2ab63c[_0x4cdd43(0xf3)](this[_0x4cdd43(0xba)](_0x1bfb4a['id'],_0x238e01,_0x1bfb4a)),this[_0x4cdd43(0xdd)](_0x2ab63c,_0x208f36,_0x8c6d71,_0x592c36[_0x4cdd43(0x12b)],_0x2f6f60);}if(CLIUtils[_0x4cdd43(0xce)](_0x208f36[_0x4cdd43(0x120)]()[_0x4cdd43(0x138)]('.')[0x1])){const _0x29afbe=await this[_0x4cdd43(0xfe)](_0x2ab63c,_0x208f36,_0x8c6d71,_0x2f6f60);_0x2ab63c['addMultipleEntries'](_0x29afbe);}}catch(_0x5b07c2){logger[_0x4cdd43(0xc2)](util[_0x4cdd43(0xc4)](_0x592c36['GaSfW'],_0x208f36,_0x8c6d71,_0x2f6f60['length'],_0x5b07c2));}_0x2f6f60[_0x4cdd43(0xcd)]=_0x2ab63c,await this['runHooks'](_0x2ab63c,_0x208f36,_0x8c6d71,_0x2f6f60);}['resolveInstance'](_0x30c5b9,_0x5171bf,_0xc96bdc={}){const _0x1b4d33=a65_0x638580,_0xbc9440={};_0xbc9440[_0x1b4d33(0x137)]=function(_0x5556ae,_0x51a1a5){return _0x5556ae===_0x51a1a5;};const _0x54eeb7=_0xbc9440;let _0x2f578b=null;return(_0x54eeb7['YmvBE'](_0x30c5b9,TestFrameworkState[_0x1b4d33(0x166)])||_0x54eeb7[_0x1b4d33(0x137)](_0x30c5b9,TestFrameworkState[_0x1b4d33(0x148)]))&&this[_0x1b4d33(0x13d)](_0x30c5b9,_0xc96bdc),_0x2f578b=TestFramework[_0x1b4d33(0x136)](),_0x2f578b;}[a65_0x638580(0x13d)](_0x353af5,_0x3c1cf8){const _0x3a841a=a65_0x638580,_0x58fafb=CLIUtils['getCurrentInstanceName'](),_0x4394a=TrackedInstance['createContext'](_0x58fafb);let _0x60b652=null;logger[_0x3a841a(0x103)](_0x3a841a(0x121)+_0x58fafb+_0x3a841a(0x15b)+_0x353af5),_0x60b652=new TestFrameworkInstance(_0x4394a,this[_0x3a841a(0xd0)](),this[_0x3a841a(0x157)](),_0x353af5,HookState[_0x3a841a(0x148)]),TestFramework['setTrackedInstance'](_0x4394a,_0x60b652),logger[_0x3a841a(0x103)](_0x3a841a(0x122)+_0x4394a[_0x3a841a(0x150)]()+_0x3a841a(0x164)+_0x58fafb);}['parsePlaywrightTest'](_0x242d99,_0x194f59){const _0x23d281=a65_0x638580,_0x2f1d35={'EfAUi':function(_0x3944e2,_0x22c444){return _0x3944e2(_0x22c444);},'fSjhK':function(_0x3ee3d4,_0x12ae37){return _0x3ee3d4(_0x12ae37);},'tDnVf':function(_0x593be6,_0x86ff7f){return _0x593be6(_0x86ff7f);},'TEWmh':function(_0x287cab,_0xd2a7c4){return _0x287cab(_0xd2a7c4);},'MPtYE':function(_0x2089a8,_0x2ee798){return _0x2089a8(_0x2ee798);}},_0x4e2068=_0x2f1d35['EfAUi'](getPlaywrightTestId,_0x194f59),_0x2e7590=_0x2f1d35[_0x23d281(0xe2)](getPlaywrightTestTitle,_0x194f59),_0x24e026=_0x2f1d35[_0x23d281(0xe2)](getTestTags,_0x194f59),_0x2a9f22=_0x2f1d35['EfAUi'](getPlaywrightTestCode,_0x194f59),_0x4f297e=_0x2f1d35[_0x23d281(0xf7)](getPlaywrightTestFilePath,_0x194f59),_0x30342f=_0x4f297e+':'+_0x2f1d35[_0x23d281(0xa1)](getPlaywrightTestLocation,_0x194f59),_0x53db87=_0x2f1d35['TEWmh'](getPlaywrightTestScope,_0x194f59),_0x356733=_0x2f1d35[_0x23d281(0x154)](getPlaywrightTestScopes,_0x194f59),_0x3ba5a0=_0x2f1d35[_0x23d281(0xa1)](getPlaywrightSessionName,_0x194f59),_0x6ec5d2=this[_0x23d281(0xd0)]()[0x0],_0xc982bc={[TestFrameworkConstants[_0x23d281(0xa2)]]:_0x6ec5d2,[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:this[_0x23d281(0x157)]()[_0x6ec5d2],[TestFrameworkConstants[_0x23d281(0x119)]]:[],[TestFrameworkConstants['KEY_HOOKS_FINISHED']]:{},[TestFrameworkConstants['KEY_HOOKS_STARTED']]:{},[TestFrameworkConstants[_0x23d281(0x115)]]:_0x242d99,[TestFrameworkConstants['KEY_TEST_RESULT']]:TestFrameworkConstants['DEFAULT_TEST_RESULT'],[TestFrameworkConstants[_0x23d281(0xfa)]]:_0x3ba5a0,[TestFrameworkConstants[_0x23d281(0xac)]]:_0x4f297e,[TestFrameworkConstants[_0x23d281(0x134)]]:_0x4e2068,[TestFrameworkConstants[_0x23d281(0x112)]]:_0x2e7590,[TestFrameworkConstants[_0x23d281(0x11f)]]:_0x30342f,[TestFrameworkConstants[_0x23d281(0xd2)]]:_0x2a9f22,[TestFrameworkConstants[_0x23d281(0xe4)]]:_0x24e026,[TestFrameworkConstants[_0x23d281(0xa6)]]:_0x194f59[_0x23d281(0x102)][0x0]['startTime'],[TestFrameworkConstants[_0x23d281(0xbe)]]:_0x53db87,[TestFrameworkConstants['KEY_TEST_SCOPES']]:_0x356733,[TestFrameworkConstants[_0x23d281(0x147)]]:_0x2f1d35[_0x23d281(0x154)](getPlaywrightCustomRerunParam,_0x194f59)};TestInfo[_0x23d281(0xf4)](_0x194f59['id'],_0xc982bc);const _0x176886={};return _0x176886[_0x4e2068]=_0xc982bc,_0x176886;}[a65_0x638580(0xba)](_0x4b18c9,_0x2cee6a,_0x3fdc38){const _0xd7f557=a65_0x638580,_0x5a1451={'QZVNN':function(_0x5af40e,_0x1c2904){return _0x5af40e(_0x1c2904);},'yOaBG':_0xd7f557(0xdc),'YBnLJ':function(_0x83b931,_0x37ace0){return _0x83b931===_0x37ace0;},'hRfQz':function(_0x36e886,_0x221956){return _0x36e886===_0x221956;},'QWXmh':function(_0x5c8720,_0x2ae0dc){return _0x5c8720(_0x2ae0dc);},'rKpVU':_0xd7f557(0x155),'LWTmV':'multi_dropdown','xZzMF':function(_0x72d479,_0x3693fa){return _0x72d479+_0x3693fa;},'YblAP':_0xd7f557(0x15a),'upObk':_0xd7f557(0x152),'KLeVs':_0xd7f557(0xc8),'eAEgq':function(_0x591a2c,_0x3d0c5e){return _0x591a2c===_0x3d0c5e;},'clVAt':_0xd7f557(0x145),'xtYzi':_0xd7f557(0xfb),'twgng':function(_0x3c454e,_0x4b2c0f,_0x1f9fb5){return _0x3c454e(_0x4b2c0f,_0x1f9fb5);},'RTjTd':function(_0x3a2bb1,_0x5c2cab){return _0x3a2bb1||_0x5c2cab;},'nHQDR':function(_0x1e73df,_0x45a0ac){return _0x1e73df(_0x45a0ac);},'ukdhw':function(_0x3a14a1,_0x5064ed,_0x40777c){return _0x3a14a1(_0x5064ed,_0x40777c);},'Zkklq':'path','AbjBZ':function(_0x42b2b7,_0x4afafd){return _0x42b2b7(_0x4afafd);},'aEKMM':function(_0xace01e,_0x1f74ac){return _0xace01e>_0x1f74ac;}};logger['debug']('parsePlaywrightTestResult:\x20testId='+_0x4b18c9);const _0x471c31=new Date(_0x2cee6a[_0xd7f557(0xee)]),_0x1073b0=_0x2cee6a[_0xd7f557(0x14f)],_0x1363a2=new Date(_0x5a1451[_0xd7f557(0xae)](_0x471c31[_0xd7f557(0xfd)](),_0x1073b0)),_0x4503fb=_0x2cee6a[_0xd7f557(0xd1)],_0x4dd632=TestInfo['getTestDetails'](_0x4b18c9)[TestFrameworkConstants[_0xd7f557(0xcb)]]||{};let _0x27acf1=_0x4503fb;if(_0x5a1451[_0xd7f557(0xb2)](_0x2cee6a[_0xd7f557(0xd1)],_0x3fdc38[_0xd7f557(0xbb)]))_0x27acf1=_0x5a1451[_0xd7f557(0xb2)](_0x2cee6a[_0xd7f557(0xd1)],_0x5a1451[_0xd7f557(0x167)])?_0x5a1451[_0xd7f557(0x167)]:_0x5a1451[_0xd7f557(0xe0)];else{(_0x5a1451['hRfQz'](_0x27acf1,_0x5a1451[_0xd7f557(0xe0)])||_0x5a1451[_0xd7f557(0xb2)](_0x27acf1,_0x5a1451[_0xd7f557(0x140)])||_0x5a1451[_0xd7f557(0x146)](_0x27acf1,_0x5a1451[_0xd7f557(0xb4)]))&&(_0x27acf1=_0x5a1451[_0xd7f557(0x140)]);if(_0x5a1451['hRfQz'](_0x2cee6a[_0xd7f557(0xd1)],_0x5a1451[_0xd7f557(0xe0)])&&_0x5a1451[_0xd7f557(0xb1)](_0x3fdc38[_0xd7f557(0xbb)],_0x5a1451[_0xd7f557(0x140)])){const _0x19a7e0={};_0x19a7e0[_0xd7f557(0xa3)]=_0x5a1451['xtYzi'],_0x19a7e0[_0xd7f557(0xe6)]=_0x5a1451[_0xd7f557(0xbd)],_0x2cee6a[_0xd7f557(0xc2)]=_0x19a7e0,_0x2cee6a[_0xd7f557(0x12a)]=[_0x2cee6a[_0xd7f557(0xc2)]];}}const {failureData:_0x270d1a,logs:_0x2e8b04}=_0x5a1451[_0xd7f557(0x160)](getFailureData,_0x2cee6a?.[_0xd7f557(0x12a)],{}),_0x2bc1fc={[TestFrameworkConstants[_0xd7f557(0x14a)]]:_0x5a1451[_0xd7f557(0xda)](_0x270d1a,null),[TestFrameworkConstants[_0xd7f557(0x10d)]]:_0x2cee6a?.[_0xd7f557(0xc2)]&&_0x5a1451[_0xd7f557(0x12c)](getFailureType,_0x2cee6a['error'][_0xd7f557(0xa3)]),[TestFrameworkConstants['KEY_TEST_FAILURE_REASON']]:_0x2cee6a?.['error']&&_0x5a1451['QWXmh'](removeAnsiColors,_0x2cee6a[_0xd7f557(0xc2)][_0xd7f557(0xa3)]),[TestFrameworkConstants[_0xd7f557(0x124)]]:[],[TestFrameworkConstants[_0xd7f557(0x106)]]:_0x27acf1,[TestFrameworkConstants[_0xd7f557(0xc6)]]:_0x1363a2[_0xd7f557(0xad)](),[TestFrameworkConstants['KEY_TEST_RESULT_AT']]:new Date()[_0xd7f557(0xad)](),[TestFrameworkConstants['KEY_CUSTOM_TAGS']]:_0x4dd632},_0x13a467={};_0x13a467[_0xd7f557(0xf8)]=_0x3fdc38;const _0x373c7d=this[_0xd7f557(0x161)](TestFrameworkState[_0xd7f557(0xea)],HookState[_0xd7f557(0xf1)],_0x13a467),_0x37ed38=_0x373c7d[_0xd7f557(0x132)]()[_0xd7f557(0x123)](_0x4b18c9)[TestFrameworkConstants['KEY_TEST_UUID']],_0x343cdd=[],_0x154231=_0x5a1451[_0xd7f557(0xc0)](findNestedKey,_0x2cee6a,_0x5a1451[_0xd7f557(0x100)]);if(_0x154231&&_0x5a1451[_0xd7f557(0xcc)](validateFilePath,_0x154231))try{_0x343cdd[_0xd7f557(0x15f)]({'kind':_0x5a1451[_0xd7f557(0x108)],'timestamp':new Date()[_0xd7f557(0xad)](),'test_run_uuid':_0x37ed38,'file_name':path[_0xd7f557(0xd6)](_0x154231),'file_size':fs[_0xd7f557(0xd9)](_0x154231)[_0xd7f557(0x11d)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x574c1f){logger[_0xd7f557(0xc2)](_0xd7f557(0xbc)+_0x154231+':\x20'+_0x574c1f['message']);}const _0x59b90a=TestInfo[_0xd7f557(0x15c)](),_0x924942=_0x59b90a['filter'](_0x594cd5=>_0x594cd5['testUId']===_0x37ed38);_0x924942[_0xd7f557(0x151)](_0x3db8f5=>{const _0x3a5858=_0xd7f557;if(_0x3db8f5['filePath']&&_0x5a1451[_0x3a5858(0xd3)](validateFilePath,_0x3db8f5['filePath'])&&!_0x343cdd[_0x3a5858(0xc7)](_0xed2a8d=>_0xed2a8d[_0x3a5858(0xf0)]===path[_0x3a5858(0xd6)](_0x3db8f5[_0x3a5858(0xf2)])))try{_0x343cdd[_0x3a5858(0x15f)]({'kind':_0x5a1451['yOaBG'],'timestamp':new Date()['toISOString'](),'test_run_uuid':_0x37ed38,'file_name':path[_0x3a5858(0xd6)](_0x3db8f5[_0x3a5858(0xf2)]),'file_size':fs[_0x3a5858(0xd9)](_0x3db8f5[_0x3a5858(0xf2)])['size'],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x143ab1){logger[_0x3a5858(0xc2)](_0x3a5858(0xe1)+_0x3db8f5[_0x3a5858(0xf2)]+_0x3a5858(0x168)+_0x143ab1[_0x3a5858(0xa3)]);}});if(_0x5a1451[_0xd7f557(0x141)](_0x343cdd[_0xd7f557(0x156)],0x0)){const _0x26bd0c=_0x2bc1fc[TestFrameworkConstants[_0xd7f557(0x124)]]||[];_0x2bc1fc[TestFrameworkConstants[_0xd7f557(0x124)]]=[..._0x26bd0c,..._0x343cdd];}const _0x52cbe9=TestInfo[_0xd7f557(0x13a)](_0x4b18c9)[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x19e11b=_0x5a1451[_0xd7f557(0xc0)](getManualUploadLogs,_0x52cbe9,_0x373c7d[_0xd7f557(0x132)]()[_0xd7f557(0x123)](_0x4b18c9)[TestFrameworkConstants[_0xd7f557(0x115)]]);if(_0x5a1451[_0xd7f557(0x141)](_0x19e11b[_0xd7f557(0x156)],0x0)){const _0x344ff1=_0x2bc1fc[TestFrameworkConstants[_0xd7f557(0x124)]]||[];_0x2bc1fc[TestFrameworkConstants[_0xd7f557(0x124)]]=[..._0x344ff1,..._0x19e11b];}const _0x4dac40=_0x3fdc38[_0xd7f557(0xa4)]||[],_0x42dd78=_0x2bc1fc[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{};_0x4dac40[_0xd7f557(0x151)](_0xd00bf7=>{const _0xb8e691=_0xd7f557,{type:_0x5ceddd}=_0xd00bf7;let _0x8a6a48=_0xd00bf7[_0xb8e691(0x10e)];if(!_0x5ceddd)return;(_0x5a1451[_0xb8e691(0xb2)](_0x8a6a48,undefined)||_0x5a1451['hRfQz'](_0x8a6a48,null)||_0x5a1451['hRfQz'](_0x5a1451[_0xb8e691(0x127)](String,_0x8a6a48)[_0xb8e691(0xc3)](),''))&&(_0x8a6a48=_0x5a1451[_0xb8e691(0xb0)]);if(!_0x42dd78[_0x5ceddd]){const _0x3d8032={};_0x3d8032[_0xb8e691(0x12f)]=_0x5a1451[_0xb8e691(0xf9)],_0x3d8032[_0xb8e691(0x15d)]=[],_0x42dd78[_0x5ceddd]=_0x3d8032;}else!_0x42dd78[_0x5ceddd][_0xb8e691(0x12f)]&&(_0x42dd78[_0x5ceddd][_0xb8e691(0x12f)]=_0x5a1451[_0xb8e691(0xf9)]),!Array['isArray'](_0x42dd78[_0x5ceddd][_0xb8e691(0x15d)])&&(_0x42dd78[_0x5ceddd][_0xb8e691(0x15d)]=[]);const _0x30c698=_0x5a1451[_0xb8e691(0x127)](String,_0x8a6a48)[_0xb8e691(0x138)](',')[_0xb8e691(0x163)](_0x32e98e=>_0x32e98e[_0xb8e691(0xc3)]());_0x42dd78[_0x5ceddd][_0xb8e691(0x15d)]=[...new Set([..._0x42dd78[_0x5ceddd][_0xb8e691(0x15d)],..._0x30c698])];}),_0x2bc1fc[TestFrameworkConstants[_0xd7f557(0xcb)]]=_0x42dd78,TestInfo[_0xd7f557(0xf4)](_0x4b18c9,_0x2bc1fc);const _0x2354a9={};return _0x2354a9[_0x4b18c9]=_0x2bc1fc,_0x2354a9;}async[a65_0x638580(0xfe)](_0x27f5b5,_0xa6c416,_0x311274,_0x3ab801){const _0x6db66=a65_0x638580,_0x3bef18={'nvPBR':function(_0x122454,_0x7a0828){return _0x122454 in _0x7a0828;},'UzmNV':function(_0x17fc64,_0x569b26){return _0x17fc64(_0x569b26);},'ubLqc':function(_0x566e2b,_0xc43ff6){return _0x566e2b===_0xc43ff6;},'VNiqA':function(_0x8e0b0b){return _0x8e0b0b();},'LZJpa':function(_0x49bc29,_0x406512){return _0x49bc29===_0x406512;},'rVqIw':function(_0x15e12a,_0x4083f1){return _0x15e12a>_0x4083f1;},'waLec':function(_0x2fb91b,_0x3cc95d,_0x28c7d9){return _0x2fb91b(_0x3cc95d,_0x28c7d9);},'rBCLK':'err','mwznM':function(_0x22afd1,_0x29bf82){return _0x22afd1(_0x29bf82);},'sHKxT':function(_0x20253d,_0x2a9952){return _0x20253d(_0x2a9952);},'EJirR':_0x6db66(0xc8),'jFPzp':_0x6db66(0x152),'wEJNM':function(_0x4ceaa2,_0x2c4735){return _0x4ceaa2!==_0x2c4735;},'MayWB':function(_0x275023,_0x255bc6){return _0x275023+_0x255bc6;},'oWmCm':_0x6db66(0x158)},_0xdf408=_0x3ab801[_0x6db66(0xf8)],_0x1b2350=_0x3ab801[_0x6db66(0xc9)],_0x4ae8ba=_0x3ab801[_0x6db66(0xf8)]['id'],_0x538e50=_0xa6c416['toString']()['split']('.')[0x1];let _0x10cdf6=_0x27f5b5[_0x6db66(0x132)]()[_0x6db66(0x123)](_0x4ae8ba)[TestFrameworkConstants[_0x6db66(0xeb)]];!_0x10cdf6&&(_0x10cdf6={});!_0x3bef18['nvPBR'](_0x538e50,_0x10cdf6)&&(_0x10cdf6[_0x538e50]=[]);let _0x5af305=_0x27f5b5[_0x6db66(0x132)]()[_0x6db66(0x123)](_0x4ae8ba)[TestFrameworkConstants['KEY_HOOKS_FINISHED']];!_0x5af305&&(_0x5af305={});!_0x3bef18[_0x6db66(0x144)](_0x538e50,_0x5af305)&&(_0x5af305[_0x538e50]=[]);const _0x2782a0={[TestFrameworkConstants[_0x6db66(0xeb)]]:_0x10cdf6,[TestFrameworkConstants[_0x6db66(0xde)]]:_0x5af305},_0x197fdf={};_0x197fdf[_0x4ae8ba]=_0x2782a0;const _0x5e392f=_0x197fdf,_0x389f04=_0x3bef18[_0x6db66(0xb8)](getPlaywrightTestFilePath,_0xdf408),_0x1b4e23=_0x389f04+':'+_0x3bef18['UzmNV'](getPlaywrightTestLocation,_0xdf408),_0x5d942b=TestInfo[_0x6db66(0x13a)](_0x4ae8ba)[TestFrameworkConstants[_0x6db66(0xcb)]]||{};if(_0x3bef18[_0x6db66(0x129)](_0x311274,HookState['PRE'])){const _0x2de739={'key':_0x538e50,[TestFrameworkConstants['KEY_HOOK_ID']]:_0x3bef18[_0x6db66(0x116)](uuidv4),[TestFrameworkConstants[_0x6db66(0xca)]]:TestFrameworkConstants['DEFAULT_HOOK_RESULT'],[TestFrameworkConstants[_0x6db66(0xab)]]:_0x1b2350[_0x6db66(0xee)],[TestFrameworkConstants[_0x6db66(0x104)]]:[],[TestFrameworkConstants['KEY_HOOK_NAME']]:_0x1b2350[_0x6db66(0x11a)],[TestFrameworkConstants['KEY_TEST_FILE_PATH']]:_0x389f04,[TestFrameworkConstants[_0x6db66(0x11f)]]:_0x1b4e23,[TestFrameworkConstants[_0x6db66(0xcb)]]:_0x5d942b};_0x10cdf6[_0x538e50][_0x6db66(0x15f)](_0x2de739),_0x5e392f[_0x4ae8ba][TestFrameworkConstants[_0x6db66(0x13c)]]=_0x538e50,logger[_0x6db66(0x113)](_0x6db66(0x128)+_0x538e50+_0x6db66(0xa9)+_0x2de739+'\x20\x20and\x20args\x20=\x20'+_0x3ab801);}else{if(_0x3bef18[_0x6db66(0x13e)](_0x311274,HookState[_0x6db66(0xf1)])){const _0x3192bd=await _0x3ab801[_0x6db66(0xdf)],_0x4edccc=_0x10cdf6[_0x538e50]||[],_0x39d16d=_0x3ab801['step'];logger[_0x6db66(0x113)](_0x6db66(0xd7)+_0x4edccc+_0x6db66(0x149)+_0x3ab801);if(_0x3bef18[_0x6db66(0xe3)](_0x4edccc[_0x6db66(0x156)],0x0)){const _0x553c6f=_0x4edccc[_0x6db66(0x110)]();if(_0x39d16d['error']){const _0x3c46de=_0x3bef18[_0x6db66(0x109)](failureData,_0x39d16d[_0x6db66(0xc2)],_0x3bef18[_0x6db66(0x10f)]);_0x553c6f[TestFrameworkConstants[_0x6db66(0x9c)]]=_0x3bef18[_0x6db66(0x139)](getFailureType,_0x39d16d?.[_0x6db66(0xc2)][_0x6db66(0xa3)]),_0x553c6f[TestFrameworkConstants['KEY_HOOK_FAILURE_REASON']]=_0x3bef18[_0x6db66(0x13b)](removeAnsiColors,_0x39d16d?.['error'][_0x6db66(0xa3)]),_0x553c6f[TestFrameworkConstants['KEY_HOOK_RESULT']]=_0x3bef18[_0x6db66(0xcf)],_0x553c6f[TestFrameworkConstants[_0x6db66(0xef)]]=_0x3c46de;}else _0x553c6f[TestFrameworkConstants[_0x6db66(0xca)]]=_0x3bef18['jFPzp'];_0x3bef18[_0x6db66(0xb5)](_0x3192bd,TestFrameworkConstants[_0x6db66(0x14c)])&&(_0x553c6f[TestFrameworkConstants[_0x6db66(0xca)]]=!_0x39d16d[_0x6db66(0xc2)]?_0x3bef18[_0x6db66(0x162)]:_0x3bef18[_0x6db66(0xcf)]);const _0x4bdc17=new Date(_0x39d16d['startTime']),_0x51bfb7=new Date(_0x3bef18[_0x6db66(0xa7)](_0x4bdc17[_0x6db66(0xfd)](),_0x39d16d[_0x6db66(0x14f)]));_0x553c6f[TestFrameworkConstants[_0x6db66(0x11e)]]=_0x51bfb7[_0x6db66(0xad)](),_0x553c6f[TestFrameworkConstants['KEY_CUSTOM_TAGS']]=_0x5d942b;const _0x5c05a9=_0x553c6f[TestFrameworkConstants[_0x6db66(0x118)]];await this[_0x6db66(0xdd)](_0x27f5b5,_0xa6c416,_0x5c05a9,_0x3bef18[_0x6db66(0xe7)],_0x3ab801),!_0x5af305[_0x538e50]&&(_0x5af305[_0x538e50]=[]),_0x5af305[_0x538e50][_0x6db66(0x15f)](_0x553c6f),_0x5e392f[_0x4ae8ba][TestFrameworkConstants['KEY_HOOK_LAST_FINISHED']]=_0x538e50;}}}return _0x5e392f;}async[a65_0x638580(0xdd)](_0x276ec3,_0x2a7831,_0x950b37,_0x27ad2e,_0x53cc76){const _0x487260=a65_0x638580,_0x327090={'uaKql':function(_0x1406e6,_0x3c769b){return _0x1406e6===_0x3c769b;},'oDYBA':'test','IlJTa':function(_0x1faf96,_0x29b08a,_0x30cbd6){return _0x1faf96(_0x29b08a,_0x30cbd6);},'ZaAog':function(_0x5a5214,_0x204c36,_0x16b951,_0x1096f1){return _0x5a5214(_0x204c36,_0x16b951,_0x1096f1);},'lvhfn':function(_0x2c6930,_0x123d74,_0xf1c38b,_0x3d7138,_0x5c51b1){return _0x2c6930(_0x123d74,_0xf1c38b,_0x3d7138,_0x5c51b1);},'RNaER':function(_0x29f00e,_0x19af96,_0x213513,_0x3c6051){return _0x29f00e(_0x19af96,_0x213513,_0x3c6051);},'kKNMI':_0x487260(0x158)};try{if(_0x327090[_0x487260(0xf5)](_0x27ad2e,_0x327090[_0x487260(0xc5)])){const _0x2c7439=await _0x53cc76[_0x487260(0xdf)],_0x23dda2=_0x53cc76[_0x487260(0xf8)]['id'],_0x158dcd=_0x53cc76[_0x487260(0xf8)];logger[_0x487260(0x113)]('sendLogCreatedEvent:\x20testId='+_0x23dda2);const _0x5f2ce3=_0x276ec3[_0x487260(0x132)]()[_0x487260(0x123)](_0x23dda2)[TestFrameworkConstants['KEY_TEST_UUID']];await _0x327090[_0x487260(0xd5)](sendTraceZip,_0x2c7439,_0x5f2ce3);const {steps:_0x30f87d,logs:_0x449e83}=_0x327090[_0x487260(0x11c)](getStepsAndLogs,_0x2c7439['steps'],_0x276ec3[_0x487260(0x132)]()[_0x487260(0x123)](_0x23dda2)[TestFrameworkConstants[_0x487260(0x115)]],_0x327090[_0x487260(0xc5)]),_0x49681c=_0x327090[_0x487260(0xd5)](getScreenshots,_0x2c7439,_0x276ec3[_0x487260(0x132)]()[_0x487260(0x123)](_0x23dda2)[TestFrameworkConstants['KEY_TEST_UUID']]),{_:_0x5d6535,logs:_0x4e7f45}=_0x327090['IlJTa'](getFailureData,_0x2c7439[_0x487260(0x12a)],{'test_run_uuid':_0x276ec3[_0x487260(0x132)]()['get'](_0x23dda2)[TestFrameworkConstants[_0x487260(0x115)]]}),_0x3875cc=TestInfo[_0x487260(0x13a)](_0x23dda2)[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x490cf5=_0x327090[_0x487260(0xd5)](getMediaArtifactsLogs,_0x3875cc,_0x276ec3['getAllData']()['get'](_0x23dda2)[TestFrameworkConstants[_0x487260(0x115)]]),_0x642dc7=_0x276ec3[_0x487260(0x132)]()[_0x487260(0x123)](_0x23dda2),{[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0xb9358b='',[TestFrameworkConstants[_0x487260(0xb6)]]:_0x135cf9=''}=_0x642dc7,_0x5570af={'platformIndex':'0','logs':[..._0x449e83||[],..._0x49681c||[],..._0x4e7f45||[],..._0x490cf5||[]],'testFrameworkName':_0xb9358b,'testFrameworkVersion':_0x135cf9,'testFrameworkState':_0x2a7831[_0x487260(0x120)]()['split']('.')[0x1]};_0x327090[_0x487260(0xdb)](updatePayloadForTraceLogs,_0x5570af,_0x53cc76,_0x23dda2,_0x276ec3),logger[_0x487260(0x113)](_0x487260(0xe8)+_0x23dda2+_0x487260(0x142)+util[_0x487260(0xd4)](_0x5570af));const _0x1062c3=await GrpcClient[_0x487260(0xa8)]()[_0x487260(0x14d)](_0x5570af);}else{const {steps:_0xc6fd75,logs:_0x1a29b8}=_0x327090[_0x487260(0x14e)](getStepsAndLogs,_0x53cc76[_0x487260(0xc9)][_0x487260(0x12e)],_0x950b37,_0x327090[_0x487260(0x165)]),_0x571165=_0x53cc76[_0x487260(0xf8)]['id'];logger['debug'](_0x487260(0x14b)+_0x571165);const _0x3a5b14=_0x276ec3[_0x487260(0x132)]()[_0x487260(0x123)](_0x571165),{[TestFrameworkConstants[_0x487260(0xa2)]]:_0x112139='',[TestFrameworkConstants[_0x487260(0xb6)]]:_0x478da9=''}=_0x3a5b14,_0x25540c={'platformIndex':'0','logs':_0x1a29b8,'testFrameworkName':_0x112139,'testFrameworkVersion':_0x478da9,'testFrameworkState':_0x2a7831[_0x487260(0x120)]()[_0x487260(0x138)]('.')[0x1]};_0x327090[_0x487260(0xdb)](updatePayloadForTraceLogs,_0x25540c,_0x53cc76,_0x571165,_0x276ec3),logger['debug']('sendLogCreatedEvent\x20for\x20testId:\x20'+_0x571165+'\x20payload='+util[_0x487260(0xd4)](_0x25540c));const _0x2ac975=await GrpcClient[_0x487260(0xa8)]()[_0x487260(0x14d)](_0x25540c);}}catch(_0x380e54){logger[_0x487260(0xc2)](_0x487260(0x117)+util[_0x487260(0xc4)](_0x380e54));}}}module[a65_0x638580(0xd8)]=PlaywrightTestFramework;