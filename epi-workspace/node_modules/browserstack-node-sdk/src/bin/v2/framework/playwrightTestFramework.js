const a65_0x13af64=a65_0xaa77;function a65_0xaa77(_0x2160a3,_0x16ce0e){const _0x55eb05=a65_0x55eb();return a65_0xaa77=function(_0xaa7781,_0x7b1f16){_0xaa7781=_0xaa7781-0xdb;let _0x2b14aa=_0x55eb05[_0xaa7781];return _0x2b14aa;},a65_0xaa77(_0x2160a3,_0x16ce0e);}function a65_0x55eb(){const _0x599833=['LcTVS','getTrackedInstance','dlQLS','JiEqq','KUlhF','forEach','KEY_TEST_RESULT','debug','info','length','Keaou','KEY_LOGS','SXtiN','\x20payload=','size','createContext','../cliUtils.js','KEY_TEST_FAILURE_TYPE','KEY_HOOK_NAME','MsxNR','../../../helpers/helper.js','KEY_HOOK_FAILURE_REASON','Error\x20in\x20sendLogCreatedEvent:\x20','sendLogCreatedEvent:\x20testId=','trackHookEvent','getCurrentInstanceName','\x20instance=','message','bhXGE','get','\x20target=','iPKTC','getTestFrameworks','./constants/testFrameworkConstants.js','KEY_HOOK_LAST_STARTED','\x20instanceId=','NONE','yjQTu','KEY_TEST_TAGS','Hook\x20List\x20in\x20Post\x20','HTSMr',',\x20testFrameworkState=','IDoZN','VUvyG','failed','KEY_TEST_FAILURE_REASON','../state/testFrameworkState.js','error','getTestFrameworksVersions','wMheD','resolveInstance','yNROe','KEY_CUSTOM_TAGS','errors','step','statSync','KEY_HOOK_ID','33683050zQEMak','OgkOj','push','POST','../instances/trackedInstance.js','KEY_HOOK_RESULT','mibXx','glhFs','KEY_HOOK_FAILURE_TYPE','RWHGP','KEY_TEST_RERUN_NAME','lhOLg','KEY_TEST_FILE_PATH','VuJrE','KEY_TEST_ID','6006YXjDxi','KEY_TEST_ENDED_AT','INIT_TEST','KEY_TEST_FRAMEWORK_VERSION','../state/hookState.js','testUId','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','cVjxX','getId','logCreatedEvent','../../../helpers/test-observability/utils','setTrackedInstance','uuid','PRE','TEST_ATTACHMENT','3972twYfEP','27126nofsJm','3265avaShT','split','NiVyL','\x20testHookState=','status','../../../../src/helpers/helper','getRef','filePath','KNIAz','map','runHooks','61248GNxKFt','getAllData','expectedStatus','AxunD','skipped','err','addMultipleEntries','gTWXy','filter','MkKyW','getInstance','lSSlt','KEY_TEST_UUID','../../playwright/reporter/pwUtils','matchHookRegex','zOaAO','grkNs','test','TEST','Error\x20processing\x20trace\x20file\x20','rewqX','trim','KEY_HOOK_FAILURE','hadof','rdDco','values','NNPoa','trackEvent\x20loading\x20testResults\x20for\x20testId:\x20','KEY_TEST_LOCATION','KEY_TEST_ATTACHMENTS','description','KEY_TEST_SCOPE','yQiNe','hook','\x20\x20and\x20args\x20=\x20','HcYqT','KEY_TEST_STARTED_AT','timedOut','xNrSN','pop','title',',\x20state=','KEY_TEST_FRAMEWORK_NAME','../TestInfo.js','startTime','parsePlaywrightTestResult','\x20hookState=','basename','SchVd','KEY_TEST_FAILURE','hQfoF','steps','getTestDetails','file_name','multi_dropdown','getTime','jzwLw','results','passed','../../../helpers/classLogger.js','KEY_TEST_CODE','trackEvent','iidJm','KEY_TEST_RESULT_AT','zmjSA','trackPlaywrightInstance:\x20created\x20instance\x20for\x20target=','eXgRq','util','KEY_HOOKS_FINISHED','XyLjo','iTWNj','KEY_HOOK_LAST_FINISHED','KEY_TEST_NAME','KEY_EVENT_ENDED_AT','toISOString','getTestUUID','inspect','stack','ZpLTc','KEY_TEST_SCOPES','result','field_type','sendLogCreatedEvent','feRww','330dWIelW','toString','6831376QVihjo','teEnB','MsVCF','KEY_HOOKS_STARTED','setTestDetails','13164759RMwxjR','format','trackPlaywrightInstance','sendLogCreatedEvent\x20for\x20testId:\x20','./testFramework','orMNN','6414gIaAMD','path','PlaywrightTestFramework','KEY_TEST_LOGS','pspmB','some','vDISF'];a65_0x55eb=function(){return _0x599833;};return a65_0x55eb();}(function(_0x93ca72,_0x19876b){const _0x470f50=a65_0xaa77,_0x25518a=_0x93ca72();while(!![]){try{const _0x5ac1a4=parseInt(_0x470f50(0x17d))/0x1+parseInt(_0x470f50(0x105))/0x2*(parseInt(_0x470f50(0x171))/0x3)+-parseInt(_0x470f50(0x170))/0x4*(parseInt(_0x470f50(0x172))/0x5)+-parseInt(_0x470f50(0x112))/0x6*(-parseInt(_0x470f50(0x161))/0x7)+parseInt(_0x470f50(0x107))/0x8+parseInt(_0x470f50(0x10c))/0x9+-parseInt(_0x470f50(0x152))/0xa;if(_0x5ac1a4===_0x19876b)break;else _0x25518a['push'](_0x25518a['shift']());}catch(_0x26f6b5){_0x25518a['push'](_0x25518a['shift']());}}}(a65_0x55eb,0xbc10f));const TestFramework=require(a65_0x13af64(0x110)),TestFrameworkState=require(a65_0x13af64(0x147)),HookState=require(a65_0x13af64(0x165)),{createClassLogger}=require(a65_0x13af64(0xec)),TestFrameworkInstance=require('../instances/testFrameworkInstance.js'),CLIUtils=require(a65_0x13af64(0x129)),TrackedInstance=require(a65_0x13af64(0x156)),TestFrameworkConstants=require(a65_0x13af64(0x13a)),logger=createClassLogger(a65_0x13af64(0x114)),{v4:uuidv4}=require(a65_0x13af64(0x16d)),util=require(a65_0x13af64(0xf4)),{getPlaywrightSessionName,getPlaywrightTestFilePath,getPlaywrightTestId,getPlaywrightTestTitle,getPlaywrightTestLocation,getPlaywrightTestTags,getPlaywrightTestCode,getPlaywrightTestScope,getPlaywrightTestScopes,getStepsAndLogs,getScreenshots,getPlaywrightCustomRerunParam,getMediaArtifactsLogs,getManualUploadLogs,updatePayloadForTraceLogs}=require(a65_0x13af64(0x12d)),TestInfo=require(a65_0x13af64(0xdc)),GrpcClient=require('../grpcClient'),{removeAnsiColors,getFailureType,failureData}=require(a65_0x13af64(0x16b)),{getFailureData,getTestTags}=require(a65_0x13af64(0x18a)),{findNestedKey,sendTraceZip,validateFilePath}=require(a65_0x13af64(0x18a)),path=require(a65_0x13af64(0x113)),fs=require('fs'),helper=require(a65_0x13af64(0x177)),{PLAYWRIGHT_TRACE_LOGS}=require('../../utils/constants');class PlaywrightTestFramework extends TestFramework{constructor(_0x287bcc,_0x51d59e,_0x3d07f3){super(_0x287bcc,_0x51d59e,_0x3d07f3);}async[a65_0x13af64(0xee)](_0x5bfd2d,_0x5ae5d0,_0x3ec069={}){const _0x2cf677=a65_0x13af64,_0x21d02e={};_0x21d02e['SXtiN']=function(_0x9af4e,_0x49a628){return _0x9af4e===_0x49a628;},_0x21d02e[_0x2cf677(0x17a)]=function(_0x24a8e6,_0x1a5aec){return _0x24a8e6===_0x1a5aec;},_0x21d02e['KUlhF']=function(_0x5de1bb,_0x4691ab){return _0x5de1bb===_0x4691ab;},_0x21d02e[_0x2cf677(0x158)]=_0x2cf677(0x18e),_0x21d02e['niAXX']='trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s';const _0xbf9ca7=_0x21d02e;await super[_0x2cf677(0xee)](_0x5bfd2d,_0x5ae5d0,_0x3ec069);const _0x243765=this['resolveInstance'](_0x5bfd2d,_0x5ae5d0,_0x3ec069);if(!_0x243765)return;logger[_0x2cf677(0x120)]('trackEvent:\x20found\x20instance,\x20testFrameworkState='+_0x5bfd2d+_0x2cf677(0xdf)+_0x5ae5d0+_0x2cf677(0x13c)+_0x243765[_0x2cf677(0x178)]());try{if(_0xbf9ca7[_0x2cf677(0x125)](_0x5ae5d0,HookState[_0x2cf677(0x16e)])&&_0xbf9ca7['KNIAz'](_0x5bfd2d,TestFrameworkState[_0x2cf677(0x18f)])){const _0x253e54=_0x3ec069[_0x2cf677(0x18e)];logger[_0x2cf677(0x120)](_0x2cf677(0x167)+_0x253e54['id']+'}');const _0x257639=TestInfo[_0x2cf677(0xfc)](_0x253e54['id']);_0x243765[_0x2cf677(0x183)](this['parsePlaywrightTest'](_0x257639,_0x253e54)),logger[_0x2cf677(0x120)]('trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20'+_0x253e54['id']+_0x2cf677(0x142)+_0x5bfd2d+_0x2cf677(0x175)+_0x5ae5d0+_0x2cf677(0x133)+_0x243765['getRef']());}if(_0xbf9ca7[_0x2cf677(0x125)](_0x5ae5d0,HookState['POST'])&&_0xbf9ca7[_0x2cf677(0x11d)](_0x5bfd2d,TestFrameworkState[_0x2cf677(0x18f)])){const _0x57bb1a=_0x3ec069[_0x2cf677(0x18e)],_0x26b67e=_0x3ec069[_0x2cf677(0x101)];logger[_0x2cf677(0x120)](_0x2cf677(0x198)+_0x57bb1a['id']),_0x243765['addMultipleEntries'](this[_0x2cf677(0xde)](_0x57bb1a['id'],_0x26b67e,_0x57bb1a)),this[_0x2cf677(0x103)](_0x243765,_0x5bfd2d,_0x5ae5d0,_0xbf9ca7[_0x2cf677(0x158)],_0x3ec069);}if(CLIUtils[_0x2cf677(0x18b)](_0x5bfd2d['toString']()[_0x2cf677(0x173)]('.')[0x1])){const _0x90d242=await this[_0x2cf677(0x131)](_0x243765,_0x5bfd2d,_0x5ae5d0,_0x3ec069);_0x243765[_0x2cf677(0x183)](_0x90d242);}}catch(_0x5597eb){logger[_0x2cf677(0x148)](util['format'](_0xbf9ca7['niAXX'],_0x5bfd2d,_0x5ae5d0,_0x3ec069[_0x2cf677(0x122)],_0x5597eb));}_0x3ec069['instance']=_0x243765,await this[_0x2cf677(0x17c)](_0x243765,_0x5bfd2d,_0x5ae5d0,_0x3ec069);}[a65_0x13af64(0x14b)](_0x52b149,_0x5b2d76,_0x313a18={}){const _0x356183=a65_0x13af64,_0x42dd41={};_0x42dd41['hadof']=function(_0x3f02b9,_0x381785){return _0x3f02b9===_0x381785;},_0x42dd41[_0x356183(0x141)]=function(_0x84216d,_0xbdcc55){return _0x84216d===_0xbdcc55;};const _0x32889d=_0x42dd41;let _0xdff44e=null;return(_0x32889d[_0x356183(0x194)](_0x52b149,TestFrameworkState[_0x356183(0x163)])||_0x32889d['HTSMr'](_0x52b149,TestFrameworkState[_0x356183(0x13d)]))&&this[_0x356183(0x10e)](_0x52b149,_0x313a18),_0xdff44e=TestFramework[_0x356183(0x11a)](),_0xdff44e;}[a65_0x13af64(0x10e)](_0x48b7de,_0x2feaba){const _0x3e546b=a65_0x13af64,_0x96c513=CLIUtils[_0x3e546b(0x132)](),_0x4d1a8d=TrackedInstance[_0x3e546b(0x128)](_0x96c513);let _0x469f48=null;logger[_0x3e546b(0x121)](_0x3e546b(0xf2)+_0x96c513+_0x3e546b(0x1a6)+_0x48b7de),_0x469f48=new TestFrameworkInstance(_0x4d1a8d,this[_0x3e546b(0x139)](),this['getTestFrameworksVersions'](),_0x48b7de,HookState['NONE']),TestFramework[_0x3e546b(0x16c)](_0x4d1a8d,_0x469f48),logger[_0x3e546b(0x121)]('trackPlaywrightInstance:\x20saved\x20instance\x20contextId='+_0x4d1a8d[_0x3e546b(0x169)]()+_0x3e546b(0x137)+_0x96c513);}['parsePlaywrightTest'](_0x21c6b3,_0x32552b){const _0xf785c7=a65_0x13af64,_0x1801ca={'zOaAO':function(_0x2a023b,_0x7ff03e){return _0x2a023b(_0x7ff03e);},'JiEqq':function(_0x52e7eb,_0x56c733){return _0x52e7eb(_0x56c733);},'EgTyu':function(_0x262da1,_0x157c64){return _0x262da1(_0x157c64);}},_0x28ff78=_0x1801ca['zOaAO'](getPlaywrightTestId,_0x32552b),_0x4b0129=_0x1801ca['zOaAO'](getPlaywrightTestTitle,_0x32552b),_0x564f66=_0x1801ca[_0xf785c7(0x18c)](getTestTags,_0x32552b),_0x14b0b1=_0x1801ca[_0xf785c7(0x18c)](getPlaywrightTestCode,_0x32552b),_0x1f2231=_0x1801ca[_0xf785c7(0x18c)](getPlaywrightTestFilePath,_0x32552b),_0xe7c982=_0x1f2231+':'+_0x1801ca[_0xf785c7(0x18c)](getPlaywrightTestLocation,_0x32552b),_0x389b12=_0x1801ca[_0xf785c7(0x11c)](getPlaywrightTestScope,_0x32552b),_0x89e7d=_0x1801ca[_0xf785c7(0x18c)](getPlaywrightTestScopes,_0x32552b),_0x3213a1=_0x1801ca['EgTyu'](getPlaywrightSessionName,_0x32552b),_0x6c7af1=this[_0xf785c7(0x139)]()[0x0],_0x43f3ad={[TestFrameworkConstants[_0xf785c7(0xdb)]]:_0x6c7af1,[TestFrameworkConstants[_0xf785c7(0x164)]]:this[_0xf785c7(0x149)]()[_0x6c7af1],[TestFrameworkConstants[_0xf785c7(0x115)]]:[],[TestFrameworkConstants[_0xf785c7(0xf5)]]:{},[TestFrameworkConstants['KEY_HOOKS_STARTED']]:{},[TestFrameworkConstants[_0xf785c7(0x189)]]:_0x21c6b3,[TestFrameworkConstants[_0xf785c7(0x11f)]]:TestFrameworkConstants['DEFAULT_TEST_RESULT'],[TestFrameworkConstants['KEY_AUTOMATE_SESSION_NAME']]:_0x3213a1,[TestFrameworkConstants['KEY_TEST_FILE_PATH']]:_0x1f2231,[TestFrameworkConstants[_0xf785c7(0x160)]]:_0x28ff78,[TestFrameworkConstants[_0xf785c7(0xf9)]]:_0x4b0129,[TestFrameworkConstants['KEY_TEST_LOCATION']]:_0xe7c982,[TestFrameworkConstants[_0xf785c7(0xed)]]:_0x14b0b1,[TestFrameworkConstants[_0xf785c7(0x13f)]]:_0x564f66,[TestFrameworkConstants[_0xf785c7(0x1a1)]]:_0x32552b[_0xf785c7(0xea)][0x0][_0xf785c7(0xdd)],[TestFrameworkConstants[_0xf785c7(0x19c)]]:_0x389b12,[TestFrameworkConstants[_0xf785c7(0x100)]]:_0x89e7d,[TestFrameworkConstants[_0xf785c7(0x15c)]]:_0x1801ca['EgTyu'](getPlaywrightCustomRerunParam,_0x32552b)};TestInfo['setTestDetails'](_0x32552b['id'],_0x43f3ad);const _0x46fd40={};return _0x46fd40[_0x28ff78]=_0x43f3ad,_0x46fd40;}['parsePlaywrightTestResult'](_0xdb6b94,_0x32c07d,_0x47f53a){const _0x57e806=a65_0x13af64,_0x232029={'ZpLTc':function(_0x49f77c,_0x1421af){return _0x49f77c(_0x1421af);},'dlQLS':_0x57e806(0x16f),'MkKyW':function(_0x4ad533,_0x2277b6){return _0x4ad533===_0x2277b6;},'AxunD':function(_0x4937f0,_0x4f54a0){return _0x4937f0===_0x4f54a0;},'XyLjo':function(_0x596a7d,_0x1df636){return _0x596a7d===_0x1df636;},'glhFs':function(_0x1c6fd3,_0x42a8d4){return _0x1c6fd3(_0x42a8d4);},'RNYyl':'No\x20reason\x20provided','rewqX':_0x57e806(0xe7),'xNrSN':function(_0x457ad8,_0x4272d0){return _0x457ad8(_0x4272d0);},'ynnzq':function(_0x1ddf6c,_0x4667b7){return _0x1ddf6c+_0x4667b7;},'MsxNR':function(_0x57d1cf,_0x36306a){return _0x57d1cf===_0x36306a;},'iTWNj':_0x57e806(0x181),'wMheD':'passed','lSSlt':function(_0x55d830,_0xa92fda){return _0x55d830===_0xa92fda;},'grkNs':function(_0x154d20,_0x5809cf){return _0x154d20===_0x5809cf;},'MsVCF':_0x57e806(0x145),'OgkOj':_0x57e806(0x1a2),'hQfoF':'Expected\x20to\x20fail,\x20but\x20passed.','bhXGE':function(_0x258f2c,_0x185a4c,_0x1d9d0f){return _0x258f2c(_0x185a4c,_0x1d9d0f);},'yjQTu':function(_0xee8ec,_0x36fe9f){return _0xee8ec||_0x36fe9f;},'teEnB':function(_0x2884f1,_0x5cab21){return _0x2884f1(_0x5cab21);},'jzwLw':'path','VUvyG':function(_0x51d843,_0x251121){return _0x51d843>_0x251121;},'cVjxX':function(_0x34eeba,_0x19c121,_0x45e10c){return _0x34eeba(_0x19c121,_0x45e10c);}};logger[_0x57e806(0x120)]('parsePlaywrightTestResult:\x20testId='+_0xdb6b94);const _0x180780=new Date(_0x32c07d['startTime']),_0x353ad1=_0x32c07d['duration'],_0x2cd734=new Date(_0x232029['ynnzq'](_0x180780[_0x57e806(0xe8)](),_0x353ad1)),_0x26b8d9=_0x32c07d['status'],_0x39f3e3=TestInfo['getTestDetails'](_0xdb6b94)[TestFrameworkConstants[_0x57e806(0x14d)]]||{};let _0x149dcd=_0x26b8d9;if(_0x232029[_0x57e806(0x186)](_0x32c07d[_0x57e806(0x176)],_0x47f53a['expectedStatus']))_0x149dcd=_0x232029[_0x57e806(0x12c)](_0x32c07d[_0x57e806(0x176)],_0x232029[_0x57e806(0xf7)])?_0x232029[_0x57e806(0xf7)]:_0x232029['wMheD'];else{(_0x232029[_0x57e806(0x188)](_0x149dcd,_0x232029['wMheD'])||_0x232029[_0x57e806(0x18d)](_0x149dcd,_0x232029[_0x57e806(0x109)])||_0x232029[_0x57e806(0x188)](_0x149dcd,_0x232029[_0x57e806(0x153)]))&&(_0x149dcd=_0x232029['MsVCF']);if(_0x232029[_0x57e806(0x12c)](_0x32c07d['status'],_0x232029[_0x57e806(0x14a)])&&_0x232029['lSSlt'](_0x47f53a[_0x57e806(0x17f)],_0x232029[_0x57e806(0x109)])){const _0x313f2a={};_0x313f2a['message']=_0x232029[_0x57e806(0xe3)],_0x313f2a[_0x57e806(0xfe)]=_0x232029[_0x57e806(0xe3)],_0x32c07d[_0x57e806(0x148)]=_0x313f2a,_0x32c07d[_0x57e806(0x14e)]=[_0x32c07d[_0x57e806(0x148)]];}}const {failureData:_0x33fbfd,logs:_0x18a763}=_0x232029[_0x57e806(0x135)](getFailureData,_0x32c07d?.[_0x57e806(0x14e)],{}),_0x1ce6d7={[TestFrameworkConstants[_0x57e806(0xe2)]]:_0x232029[_0x57e806(0x13e)](_0x33fbfd,null),[TestFrameworkConstants[_0x57e806(0x12a)]]:_0x32c07d?.['error']&&_0x232029[_0x57e806(0x108)](getFailureType,_0x32c07d['error']['message']),[TestFrameworkConstants[_0x57e806(0x146)]]:_0x32c07d?.[_0x57e806(0x148)]&&_0x232029[_0x57e806(0x108)](removeAnsiColors,_0x32c07d[_0x57e806(0x148)][_0x57e806(0x134)]),[TestFrameworkConstants[_0x57e806(0x124)]]:[],[TestFrameworkConstants['KEY_TEST_RESULT']]:_0x149dcd,[TestFrameworkConstants[_0x57e806(0x162)]]:_0x2cd734['toISOString'](),[TestFrameworkConstants[_0x57e806(0xf0)]]:new Date()[_0x57e806(0xfb)](),[TestFrameworkConstants[_0x57e806(0x14d)]]:_0x39f3e3},_0x1ac87a={};_0x1ac87a[_0x57e806(0x18e)]=_0x47f53a;const _0x5d58ec=this[_0x57e806(0x14b)](TestFrameworkState[_0x57e806(0x18f)],HookState[_0x57e806(0x155)],_0x1ac87a),_0xa1379e=_0x5d58ec[_0x57e806(0x17e)]()[_0x57e806(0x136)](_0xdb6b94)[TestFrameworkConstants[_0x57e806(0x189)]],_0x13c7f9=[],_0x44e478=_0x232029[_0x57e806(0x135)](findNestedKey,_0x32c07d,_0x232029[_0x57e806(0xe9)]);if(_0x44e478&&_0x232029[_0x57e806(0xff)](validateFilePath,_0x44e478))try{_0x13c7f9[_0x57e806(0x154)]({'kind':_0x232029['dlQLS'],'timestamp':new Date()[_0x57e806(0xfb)](),'test_run_uuid':_0xa1379e,'file_name':path[_0x57e806(0xe0)](_0x44e478),'file_size':fs[_0x57e806(0x150)](_0x44e478)[_0x57e806(0x127)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x2f3bb0){logger[_0x57e806(0x148)]('Error\x20processing\x20direct\x20trace\x20file\x20'+_0x44e478+':\x20'+_0x2f3bb0[_0x57e806(0x134)]);}const _0x20c367=TestInfo['getTraceFilePaths'](),_0x3bdb39=_0x20c367[_0x57e806(0x185)](_0x1e8f3a=>_0x1e8f3a[_0x57e806(0x166)]===_0xa1379e);_0x3bdb39[_0x57e806(0x11e)](_0x47ee41=>{const _0x6fad=_0x57e806;if(_0x47ee41[_0x6fad(0x179)]&&_0x232029['ZpLTc'](validateFilePath,_0x47ee41['filePath'])&&!_0x13c7f9[_0x6fad(0x117)](_0x504871=>_0x504871[_0x6fad(0xe6)]===path[_0x6fad(0xe0)](_0x47ee41[_0x6fad(0x179)])))try{_0x13c7f9[_0x6fad(0x154)]({'kind':_0x232029[_0x6fad(0x11b)],'timestamp':new Date()[_0x6fad(0xfb)](),'test_run_uuid':_0xa1379e,'file_name':path[_0x6fad(0xe0)](_0x47ee41[_0x6fad(0x179)]),'file_size':fs[_0x6fad(0x150)](_0x47ee41['filePath'])[_0x6fad(0x127)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x561db5){logger[_0x6fad(0x148)](_0x6fad(0x190)+_0x47ee41['filePath']+'\x20from\x20TestDetails:\x20'+_0x561db5['message']);}});if(_0x232029[_0x57e806(0x144)](_0x13c7f9[_0x57e806(0x122)],0x0)){const _0x2c426c=_0x1ce6d7[TestFrameworkConstants[_0x57e806(0x124)]]||[];_0x1ce6d7[TestFrameworkConstants[_0x57e806(0x124)]]=[..._0x2c426c,..._0x13c7f9];}const _0x37a7d4=TestInfo[_0x57e806(0xe5)](_0xdb6b94)[TestFrameworkConstants[_0x57e806(0x19a)]]||{},_0x4be361=_0x232029[_0x57e806(0x168)](getManualUploadLogs,_0x37a7d4,_0x5d58ec[_0x57e806(0x17e)]()[_0x57e806(0x136)](_0xdb6b94)[TestFrameworkConstants[_0x57e806(0x189)]]);if(_0x232029[_0x57e806(0x144)](_0x4be361[_0x57e806(0x122)],0x0)){const _0x349577=_0x1ce6d7[TestFrameworkConstants[_0x57e806(0x124)]]||[];_0x1ce6d7[TestFrameworkConstants[_0x57e806(0x124)]]=[..._0x349577,..._0x4be361];}const _0x3565db=_0x47f53a['annotations']||[],_0x335113=_0x1ce6d7[TestFrameworkConstants[_0x57e806(0x14d)]]||{};_0x3565db[_0x57e806(0x11e)](_0xdede30=>{const _0x1344d9=_0x57e806,{type:_0xaac431}=_0xdede30;let _0x3f4c3c=_0xdede30[_0x1344d9(0x19b)];if(!_0xaac431)return;(_0x232029[_0x1344d9(0x186)](_0x3f4c3c,undefined)||_0x232029[_0x1344d9(0x180)](_0x3f4c3c,null)||_0x232029[_0x1344d9(0xf6)](_0x232029[_0x1344d9(0x159)](String,_0x3f4c3c)[_0x1344d9(0x192)](),''))&&(_0x3f4c3c=_0x232029['RNYyl']);if(!_0x335113[_0xaac431]){const _0x147127={};_0x147127[_0x1344d9(0x102)]=_0x232029[_0x1344d9(0x191)],_0x147127[_0x1344d9(0x196)]=[],_0x335113[_0xaac431]=_0x147127;}else!_0x335113[_0xaac431][_0x1344d9(0x102)]&&(_0x335113[_0xaac431][_0x1344d9(0x102)]=_0x232029[_0x1344d9(0x191)]),!Array['isArray'](_0x335113[_0xaac431][_0x1344d9(0x196)])&&(_0x335113[_0xaac431][_0x1344d9(0x196)]=[]);const _0x31b481=_0x232029[_0x1344d9(0x1a3)](String,_0x3f4c3c)['split'](',')[_0x1344d9(0x17b)](_0x4beae3=>_0x4beae3[_0x1344d9(0x192)]());_0x335113[_0xaac431][_0x1344d9(0x196)]=[...new Set([..._0x335113[_0xaac431]['values'],..._0x31b481])];}),_0x1ce6d7[TestFrameworkConstants[_0x57e806(0x14d)]]=_0x335113,TestInfo[_0x57e806(0x10b)](_0xdb6b94,_0x1ce6d7);const _0x165081={};return _0x165081[_0xdb6b94]=_0x1ce6d7,_0x165081;}async[a65_0x13af64(0x131)](_0x36c455,_0x1dc206,_0x5aae9e,_0x5cd3b0){const _0x1479ca=a65_0x13af64,_0x444e2b={'NiVyL':function(_0x316bb8,_0x54ee28){return _0x316bb8 in _0x54ee28;},'iidJm':function(_0x2a916e,_0x3f2fc9){return _0x2a916e(_0x3f2fc9);},'gTWXy':function(_0x346fc2,_0x150daf){return _0x346fc2(_0x150daf);},'zmjSA':function(_0xad795a,_0x6359f3){return _0xad795a===_0x6359f3;},'iPKTC':function(_0x3b785a){return _0x3b785a();},'RWHGP':function(_0xbcd01d,_0x3ee477){return _0xbcd01d>_0x3ee477;},'orMNN':function(_0x5a4046,_0x278b36,_0x348589){return _0x5a4046(_0x278b36,_0x348589);},'NNPoa':_0x1479ca(0x182),'Keaou':function(_0x59ae54,_0x3a2589){return _0x59ae54(_0x3a2589);},'YoXVJ':function(_0x2e280f,_0x3aeaf9){return _0x2e280f(_0x3aeaf9);},'eXgRq':_0x1479ca(0x145),'yNROe':_0x1479ca(0xeb),'pspmB':function(_0x58e04e,_0x5c1a6c){return _0x58e04e!==_0x5c1a6c;},'IDoZN':function(_0x1daf0f,_0x176887){return _0x1daf0f+_0x176887;},'vDISF':'hook'},_0x24486b=_0x5cd3b0[_0x1479ca(0x18e)],_0x15e3b6=_0x5cd3b0[_0x1479ca(0x14f)],_0x50c9b2=_0x5cd3b0['test']['id'],_0x1b7f84=_0x1dc206['toString']()[_0x1479ca(0x173)]('.')[0x1];let _0x51b393=_0x36c455[_0x1479ca(0x17e)]()[_0x1479ca(0x136)](_0x50c9b2)[TestFrameworkConstants[_0x1479ca(0x10a)]];!_0x51b393&&(_0x51b393={});!_0x444e2b[_0x1479ca(0x174)](_0x1b7f84,_0x51b393)&&(_0x51b393[_0x1b7f84]=[]);let _0x513f5a=_0x36c455['getAllData']()[_0x1479ca(0x136)](_0x50c9b2)[TestFrameworkConstants[_0x1479ca(0xf5)]];!_0x513f5a&&(_0x513f5a={});!_0x444e2b[_0x1479ca(0x174)](_0x1b7f84,_0x513f5a)&&(_0x513f5a[_0x1b7f84]=[]);const _0x4a9d09={[TestFrameworkConstants[_0x1479ca(0x10a)]]:_0x51b393,[TestFrameworkConstants['KEY_HOOKS_FINISHED']]:_0x513f5a},_0x467b13={};_0x467b13[_0x50c9b2]=_0x4a9d09;const _0x4994f8=_0x467b13,_0x44e5f1=_0x444e2b[_0x1479ca(0xef)](getPlaywrightTestFilePath,_0x24486b),_0x1ba2f5=_0x44e5f1+':'+_0x444e2b[_0x1479ca(0x184)](getPlaywrightTestLocation,_0x24486b),_0x2253f3=TestInfo[_0x1479ca(0xe5)](_0x50c9b2)[TestFrameworkConstants[_0x1479ca(0x14d)]]||{};if(_0x444e2b[_0x1479ca(0xf1)](_0x5aae9e,HookState[_0x1479ca(0x16e)])){const _0x4b297e={'key':_0x1b7f84,[TestFrameworkConstants[_0x1479ca(0x151)]]:_0x444e2b[_0x1479ca(0x138)](uuidv4),[TestFrameworkConstants[_0x1479ca(0x157)]]:TestFrameworkConstants['DEFAULT_HOOK_RESULT'],[TestFrameworkConstants['KEY_EVENT_STARTED_AT']]:_0x15e3b6['startTime'],[TestFrameworkConstants['KEY_HOOK_LOGS']]:[],[TestFrameworkConstants[_0x1479ca(0x12b)]]:_0x15e3b6[_0x1479ca(0x1a5)],[TestFrameworkConstants[_0x1479ca(0x15e)]]:_0x44e5f1,[TestFrameworkConstants[_0x1479ca(0x199)]]:_0x1ba2f5,[TestFrameworkConstants[_0x1479ca(0x14d)]]:_0x2253f3};_0x51b393[_0x1b7f84][_0x1479ca(0x154)](_0x4b297e),_0x4994f8[_0x50c9b2][TestFrameworkConstants[_0x1479ca(0x13b)]]=_0x1b7f84,logger[_0x1479ca(0x120)]('Hook\x20Started\x20in\x20PRE\x20key\x20=\x20'+_0x1b7f84+'\x20&\x20hook\x20=\x20'+_0x4b297e+_0x1479ca(0x19f)+_0x5cd3b0);}else{if(_0x444e2b[_0x1479ca(0xf1)](_0x5aae9e,HookState[_0x1479ca(0x155)])){const _0x214dd2=await _0x5cd3b0[_0x1479ca(0x101)],_0x189c26=_0x51b393[_0x1b7f84]||[],_0x2f442c=_0x5cd3b0[_0x1479ca(0x14f)];logger[_0x1479ca(0x120)](_0x1479ca(0x140)+_0x189c26+'\x20and\x20args\x20=\x20'+_0x5cd3b0);if(_0x444e2b[_0x1479ca(0x15b)](_0x189c26[_0x1479ca(0x122)],0x0)){const _0x15925e=_0x189c26[_0x1479ca(0x1a4)]();if(_0x2f442c[_0x1479ca(0x148)]){const _0x5ac009=_0x444e2b[_0x1479ca(0x111)](failureData,_0x2f442c[_0x1479ca(0x148)],_0x444e2b[_0x1479ca(0x197)]);_0x15925e[TestFrameworkConstants[_0x1479ca(0x15a)]]=_0x444e2b[_0x1479ca(0x123)](getFailureType,_0x2f442c?.[_0x1479ca(0x148)][_0x1479ca(0x134)]),_0x15925e[TestFrameworkConstants[_0x1479ca(0x12e)]]=_0x444e2b['YoXVJ'](removeAnsiColors,_0x2f442c?.[_0x1479ca(0x148)][_0x1479ca(0x134)]),_0x15925e[TestFrameworkConstants[_0x1479ca(0x157)]]=_0x444e2b['eXgRq'],_0x15925e[TestFrameworkConstants[_0x1479ca(0x193)]]=_0x5ac009;}else _0x15925e[TestFrameworkConstants[_0x1479ca(0x157)]]=_0x444e2b[_0x1479ca(0x14c)];_0x444e2b[_0x1479ca(0x116)](_0x214dd2,TestFrameworkConstants['DEFAULT_HOOK_RESULT'])&&(_0x15925e[TestFrameworkConstants[_0x1479ca(0x157)]]=!_0x2f442c['error']?_0x444e2b[_0x1479ca(0x14c)]:_0x444e2b[_0x1479ca(0xf3)]);const _0x3e5b0f=new Date(_0x2f442c[_0x1479ca(0xdd)]),_0x3a0d2d=new Date(_0x444e2b[_0x1479ca(0x143)](_0x3e5b0f[_0x1479ca(0xe8)](),_0x2f442c['duration']));_0x15925e[TestFrameworkConstants[_0x1479ca(0xfa)]]=_0x3a0d2d[_0x1479ca(0xfb)](),_0x15925e[TestFrameworkConstants[_0x1479ca(0x14d)]]=_0x2253f3;const _0x33696e=_0x15925e[TestFrameworkConstants[_0x1479ca(0x151)]];await this['sendLogCreatedEvent'](_0x36c455,_0x1dc206,_0x33696e,_0x444e2b[_0x1479ca(0x118)],_0x5cd3b0),!_0x513f5a[_0x1b7f84]&&(_0x513f5a[_0x1b7f84]=[]),_0x513f5a[_0x1b7f84]['push'](_0x15925e),_0x4994f8[_0x50c9b2][TestFrameworkConstants[_0x1479ca(0xf8)]]=_0x1b7f84;}}}return _0x4994f8;}async[a65_0x13af64(0x103)](_0x2afd73,_0x34b9fe,_0x1b3228,_0x2ec69d,_0x1c15cf){const _0x534702=a65_0x13af64,_0x35fa99={'SchVd':function(_0x4bfb70,_0xc61d34){return _0x4bfb70===_0xc61d34;},'feRww':_0x534702(0x18e),'rdDco':function(_0x32b264,_0x2905f2,_0x224a5d){return _0x32b264(_0x2905f2,_0x224a5d);},'lhOLg':function(_0x521ad4,_0x563432,_0x31c69e,_0x5491be){return _0x521ad4(_0x563432,_0x31c69e,_0x5491be);},'HcYqT':function(_0x2c2ae7,_0x546e7e,_0x576faf,_0x3f607a,_0x480d5d){return _0x2c2ae7(_0x546e7e,_0x576faf,_0x3f607a,_0x480d5d);},'VuJrE':function(_0x3c034a,_0x5639e5,_0x195698,_0x109b6c){return _0x3c034a(_0x5639e5,_0x195698,_0x109b6c);},'LcTVS':_0x534702(0x19e),'yQiNe':function(_0x10c773,_0x3b3edf,_0x9d9d0e,_0x22554c,_0x25c48c){return _0x10c773(_0x3b3edf,_0x9d9d0e,_0x22554c,_0x25c48c);}};try{if(_0x35fa99[_0x534702(0xe1)](_0x2ec69d,_0x35fa99['feRww'])){const _0x484a2f=await _0x1c15cf[_0x534702(0x101)],_0xa87d6a=_0x1c15cf[_0x534702(0x18e)]['id'],_0x528243=_0x1c15cf[_0x534702(0x18e)];logger[_0x534702(0x120)](_0x534702(0x130)+_0xa87d6a);const _0x33538f=_0x2afd73[_0x534702(0x17e)]()['get'](_0xa87d6a)[TestFrameworkConstants[_0x534702(0x189)]];await _0x35fa99[_0x534702(0x195)](sendTraceZip,_0x484a2f,_0x33538f);const {steps:_0x3b572e,logs:_0x152e5a}=_0x35fa99[_0x534702(0x15d)](getStepsAndLogs,_0x484a2f[_0x534702(0xe4)],_0x2afd73['getAllData']()[_0x534702(0x136)](_0xa87d6a)[TestFrameworkConstants[_0x534702(0x189)]],_0x35fa99[_0x534702(0x104)]),_0x180da7=_0x35fa99[_0x534702(0x195)](getScreenshots,_0x484a2f,_0x2afd73[_0x534702(0x17e)]()['get'](_0xa87d6a)[TestFrameworkConstants[_0x534702(0x189)]]),{_:_0x40ef75,logs:_0x55f3b7}=_0x35fa99[_0x534702(0x195)](getFailureData,_0x484a2f[_0x534702(0x14e)],{'test_run_uuid':_0x2afd73[_0x534702(0x17e)]()[_0x534702(0x136)](_0xa87d6a)[TestFrameworkConstants[_0x534702(0x189)]]}),_0x1de7fc=TestInfo['getTestDetails'](_0xa87d6a)[TestFrameworkConstants[_0x534702(0x19a)]]||{},_0x1728c7=_0x35fa99[_0x534702(0x195)](getMediaArtifactsLogs,_0x1de7fc,_0x2afd73[_0x534702(0x17e)]()['get'](_0xa87d6a)[TestFrameworkConstants[_0x534702(0x189)]]),_0x1877b5=_0x2afd73[_0x534702(0x17e)]()[_0x534702(0x136)](_0xa87d6a),{[TestFrameworkConstants[_0x534702(0xdb)]]:_0xd41ae8='',[TestFrameworkConstants[_0x534702(0x164)]]:_0x484909=''}=_0x1877b5,_0x1f7715={'platformIndex':'0','logs':[..._0x152e5a||[],..._0x180da7||[],..._0x55f3b7||[],..._0x1728c7||[]],'testFrameworkName':_0xd41ae8,'testFrameworkVersion':_0x484909,'testFrameworkState':_0x34b9fe[_0x534702(0x106)]()[_0x534702(0x173)]('.')[0x1]};_0x35fa99[_0x534702(0x1a0)](updatePayloadForTraceLogs,_0x1f7715,_0x1c15cf,_0xa87d6a,_0x2afd73),logger[_0x534702(0x120)](_0x534702(0x10f)+_0xa87d6a+_0x534702(0x126)+util[_0x534702(0xfd)](_0x1f7715));const _0x25f603=await GrpcClient[_0x534702(0x187)]()[_0x534702(0x16a)](_0x1f7715);}else{const {steps:_0x24d786,logs:_0x4e5b2d}=_0x35fa99[_0x534702(0x15f)](getStepsAndLogs,_0x1c15cf[_0x534702(0x14f)]['steps'],_0x1b3228,_0x35fa99[_0x534702(0x119)]),_0x3be8d0=_0x1c15cf['test']['id'];logger[_0x534702(0x120)](_0x534702(0x130)+_0x3be8d0);const _0x5c94f4=_0x2afd73[_0x534702(0x17e)]()[_0x534702(0x136)](_0x3be8d0),{[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x4c441c='',[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x45bd63=''}=_0x5c94f4,_0x20ce0b={'platformIndex':'0','logs':_0x4e5b2d,'testFrameworkName':_0x4c441c,'testFrameworkVersion':_0x45bd63,'testFrameworkState':_0x34b9fe[_0x534702(0x106)]()[_0x534702(0x173)]('.')[0x1]};_0x35fa99[_0x534702(0x19d)](updatePayloadForTraceLogs,_0x20ce0b,_0x1c15cf,_0x3be8d0,_0x2afd73),logger[_0x534702(0x120)](_0x534702(0x10f)+_0x3be8d0+_0x534702(0x126)+util[_0x534702(0xfd)](_0x20ce0b));const _0x3ba1fd=await GrpcClient[_0x534702(0x187)]()[_0x534702(0x16a)](_0x20ce0b);}}catch(_0x36c6d1){logger[_0x534702(0x148)](_0x534702(0x12f)+util[_0x534702(0x10d)](_0x36c6d1));}}}module['exports']=PlaywrightTestFramework;