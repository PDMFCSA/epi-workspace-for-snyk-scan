function a65_0x8f49(_0x4b6f7a,_0x1c03bd){const _0x5d3ca6=a65_0x5d3c();return a65_0x8f49=function(_0x8f49c,_0x2098c6){_0x8f49c=_0x8f49c-0x1bf;let _0x584786=_0x5d3ca6[_0x8f49c];return _0x584786;},a65_0x8f49(_0x4b6f7a,_0x1c03bd);}function a65_0x5d3c(){const _0x1ebe86=['KEY_TEST_TAGS','KEY_TEST_RERUN_NAME','field_type','step','CBcrM','toISOString','forEach','\x20testHookState=','../instances/testFrameworkInstance.js','map','instance','130hHaoFg','addMultipleEntries','ooWOB','resolveInstance','KEY_TEST_SCOPE','results','KEY_TEST_ID','annotations','mjiZD','KEY_LOGS','DEFAULT_TEST_RESULT','passed','KEY_TEST_NAME','KEY_EVENT_ENDED_AT','CzJhI','failed','skipped','KEY_TEST_FRAMEWORK_VERSION','util','wttPs','KEY_HOOKS_FINISHED','KEY_HOOK_FAILURE','getRef','pop','sxDjE','TEST','KEY_HOOK_FAILURE_REASON','trackEvent:\x20found\x20instance,\x20testFrameworkState=','multi_dropdown','\x20\x20and\x20args\x20=\x20','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','KEY_HOOK_LAST_FINISHED','getTestDetails','steps','info','filePath','getTestFrameworks','779190fhNNqT','gyQnB','KEY_HOOK_RESULT','KEY_HOOK_LOGS','ptniQ','KEY_TEST_FAILURE_TYPE','24keMhSR','filter','NONE','ZrFrB','zTYKS','setTestDetails','trackEvent','gwhtU','KEY_TEST_ENDED_AT','exports','KEY_TEST_FILE_PATH','trackPlaywrightInstance','../../../helpers/classLogger.js','parsePlaywrightTest','trackPlaywrightInstance:\x20created\x20instance\x20for\x20target=','TNOJO','setTrackedInstance','KEY_TEST_ATTACHMENTS','KEY_HOOK_ID','mIlHf','\x20payload=','error','Error\x20processing\x20direct\x20trace\x20file\x20','status','3366153FNkPcj','INIT_TEST','../../../helpers/helper.js','runHooks','KEY_AUTOMATE_SESSION_NAME','JRfCG','startTime','logCreatedEvent','GRrXf','uzqMP','inspect','KEY_TEST_UUID','KEY_TEST_RESULT','ZlQLw',',\x20testFrameworkState=','ASVSz','values','trackHookEvent','KEY_TEST_SCOPES','sendLogCreatedEvent\x20for\x20testId:\x20','parsePlaywrightTestResult:\x20testId=','\x20&\x20hook\x20=\x20','./constants/testFrameworkConstants.js','size','Vihfd','test','OdPlI','bajJi','UbwLy','trackEvent\x20loading\x20testResults\x20for\x20testId:\x20','SnqQl','PlaywrightTestFramework','basename','sXqxK','bbyTT','PRE','toString','hXZqB','Expected\x20to\x20fail,\x20but\x20passed.','1635949lloUyK','../state/hookState.js','timedOut','KEY_HOOK_FAILURE_TYPE','40ZDzOLC','wwKNW','1394885EbJZYl','trim','errors','hejFH','KEY_TEST_FRAMEWORK_NAME','title','Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','../../../helpers/test-observability/utils','WHxIZ','KEY_HOOKS_STARTED','2398XigRik','uuid','zhUob','POST','../cliUtils.js','No\x20reason\x20provided','Error\x20in\x20sendLogCreatedEvent:\x20','DEFAULT_HOOK_RESULT','get','GLQdX','KEY_TEST_CODE','KEY_TEST_FAILURE','getTime','rWWsR','../../playwright/reporter/pwUtils','split','description','BssBr','getTraceFilePaths','parsePlaywrightTestResult','KEY_TEST_FAILURE_REASON','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','getAllData','\x20hookState=','MJwBH','XzTmA','zhbCa','KEY_TEST_LOCATION','statSync','duration','length','kUGGS','KEY_CUSTOM_TAGS','stack','VaqFf','expectedStatus','push','UhklU','sendLogCreatedEvent','MKBgZ','../TestInfo.js','19018MLQEXq','getTestFrameworksVersions','./testFramework','debug','EizAV','getCurrentInstanceName','hook','yQmuK','format','QqVQc','FdRic','result','\x20from\x20TestDetails:\x20','some','Hook\x20List\x20in\x20Post\x20','message','\x20target=','\x20and\x20args\x20=\x20','wevLA','21380oCYmDC','prPCC','2095352gROXiP','\x20instance=','err','woISA',',\x20state=','\x20instanceId='];a65_0x5d3c=function(){return _0x1ebe86;};return a65_0x5d3c();}const a65_0x4c86ec=a65_0x8f49;(function(_0x6c776d,_0x319f46){const _0x3aac80=a65_0x8f49,_0x3395c1=_0x6c776d();while(!![]){try{const _0x4a8b97=parseInt(_0x3aac80(0x1dc))/0x1*(-parseInt(_0x3aac80(0x202))/0x2)+parseInt(_0x3aac80(0x227))/0x3+-parseInt(_0x3aac80(0x1f1))/0x4+-parseInt(_0x3aac80(0x272))/0x5*(-parseInt(_0x3aac80(0x22d))/0x6)+parseInt(_0x3aac80(0x26c))/0x7*(parseInt(_0x3aac80(0x270))/0x8)+parseInt(_0x3aac80(0x245))/0x9+-parseInt(_0x3aac80(0x1ef))/0xa*(parseInt(_0x3aac80(0x27c))/0xb);if(_0x4a8b97===_0x319f46)break;else _0x3395c1['push'](_0x3395c1['shift']());}catch(_0x5e0505){_0x3395c1['push'](_0x3395c1['shift']());}}}(a65_0x5d3c,0xa8f82));const TestFramework=require(a65_0x4c86ec(0x1de)),TestFrameworkState=require('../state/testFrameworkState.js'),HookState=require(a65_0x4c86ec(0x26d)),{createClassLogger}=require(a65_0x4c86ec(0x239)),TestFrameworkInstance=require(a65_0x4c86ec(0x1ff)),CLIUtils=require(a65_0x4c86ec(0x280)),TrackedInstance=require('../instances/trackedInstance.js'),TestFrameworkConstants=require(a65_0x4c86ec(0x25b)),logger=createClassLogger(a65_0x4c86ec(0x264)),{v4:uuidv4}=require(a65_0x4c86ec(0x27d)),util=require(a65_0x4c86ec(0x214)),{getPlaywrightSessionName,getPlaywrightTestFilePath,getPlaywrightTestId,getPlaywrightTestTitle,getPlaywrightTestLocation,getPlaywrightTestTags,getPlaywrightTestCode,getPlaywrightTestScope,getPlaywrightTestScopes,getStepsAndLogs,getScreenshots,getPlaywrightCustomRerunParam,getMediaArtifactsLogs,getManualUploadLogs,updatePayloadForTraceLogs}=require(a65_0x4c86ec(0x247)),TestInfo=require(a65_0x4c86ec(0x1db)),GrpcClient=require('../grpcClient'),{removeAnsiColors,getFailureType,failureData}=require(a65_0x4c86ec(0x279)),{getFailureData,getTestTags}=require(a65_0x4c86ec(0x1c1)),{findNestedKey,sendTraceZip,validateFilePath}=require('../../playwright/reporter/pwUtils'),path=require('path'),fs=require('fs'),helper=require('../../../../src/helpers/helper'),{PLAYWRIGHT_TRACE_LOGS}=require('../../utils/constants');class PlaywrightTestFramework extends TestFramework{constructor(_0x36e78a,_0x4d0f8a,_0x5ab7b3){super(_0x36e78a,_0x4d0f8a,_0x5ab7b3);}async[a65_0x4c86ec(0x233)](_0xa9adb0,_0x393f2e,_0x27c717={}){const _0x1ad439=a65_0x4c86ec,_0x4b2753={};_0x4b2753[_0x1ad439(0x1e3)]=function(_0x382256,_0x4992e8){return _0x382256===_0x4992e8;},_0x4b2753['CBcrM']=function(_0x5bb30f,_0x414e71){return _0x5bb30f===_0x414e71;},_0x4b2753[_0x1ad439(0x22b)]=_0x1ad439(0x25e),_0x4b2753[_0x1ad439(0x1d5)]=_0x1ad439(0x220);const _0x44fb1d=_0x4b2753;await super['trackEvent'](_0xa9adb0,_0x393f2e,_0x27c717);const _0x509b1a=this['resolveInstance'](_0xa9adb0,_0x393f2e,_0x27c717);if(!_0x509b1a)return;logger[_0x1ad439(0x1df)](_0x1ad439(0x21d)+_0xa9adb0+_0x1ad439(0x1ca)+_0x393f2e+_0x1ad439(0x1f6)+_0x509b1a[_0x1ad439(0x218)]());try{if(_0x44fb1d[_0x1ad439(0x1e3)](_0x393f2e,HookState[_0x1ad439(0x268)])&&_0x44fb1d[_0x1ad439(0x1e3)](_0xa9adb0,TestFrameworkState[_0x1ad439(0x21b)])){const _0xf7a455=_0x27c717[_0x1ad439(0x25e)];logger['debug'](_0x1ad439(0x1c8)+_0xf7a455['id']+'}');const _0x5a16ed=TestInfo['getTestUUID'](_0xf7a455['id']);_0x509b1a['addMultipleEntries'](this[_0x1ad439(0x23a)](_0x5a16ed,_0xf7a455)),logger[_0x1ad439(0x1df)]('trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20'+_0xf7a455['id']+_0x1ad439(0x253)+_0xa9adb0+_0x1ad439(0x1fe)+_0x393f2e+_0x1ad439(0x1f2)+_0x509b1a[_0x1ad439(0x218)]());}if(_0x44fb1d[_0x1ad439(0x1fb)](_0x393f2e,HookState[_0x1ad439(0x27f)])&&_0x44fb1d[_0x1ad439(0x1e3)](_0xa9adb0,TestFrameworkState[_0x1ad439(0x21b)])){const _0x5ff376=_0x27c717[_0x1ad439(0x25e)],_0x3b8088=_0x27c717[_0x1ad439(0x1e7)];logger[_0x1ad439(0x1df)](_0x1ad439(0x262)+_0x5ff376['id']),_0x509b1a[_0x1ad439(0x203)](this[_0x1ad439(0x1c6)](_0x5ff376['id'],_0x3b8088,_0x5ff376)),this['sendLogCreatedEvent'](_0x509b1a,_0xa9adb0,_0x393f2e,_0x44fb1d['ptniQ'],_0x27c717);}if(CLIUtils['matchHookRegex'](_0xa9adb0[_0x1ad439(0x269)]()[_0x1ad439(0x1c2)]('.')[0x1])){const _0x577b49=await this[_0x1ad439(0x256)](_0x509b1a,_0xa9adb0,_0x393f2e,_0x27c717);_0x509b1a['addMultipleEntries'](_0x577b49);}}catch(_0x4e6245){logger[_0x1ad439(0x242)](util[_0x1ad439(0x1e4)](_0x44fb1d[_0x1ad439(0x1d5)],_0xa9adb0,_0x393f2e,_0x27c717[_0x1ad439(0x1d1)],_0x4e6245));}_0x27c717[_0x1ad439(0x201)]=_0x509b1a,await this[_0x1ad439(0x248)](_0x509b1a,_0xa9adb0,_0x393f2e,_0x27c717);}['resolveInstance'](_0x8ab8f0,_0x40903f,_0x26e1ed={}){const _0x276d50=a65_0x4c86ec,_0x1f83d1={};_0x1f83d1[_0x276d50(0x275)]=function(_0x3f1991,_0x220195){return _0x3f1991===_0x220195;};const _0x28e7cb=_0x1f83d1;let _0x3e8087=null;return(_0x28e7cb[_0x276d50(0x275)](_0x8ab8f0,TestFrameworkState[_0x276d50(0x246)])||_0x28e7cb[_0x276d50(0x275)](_0x8ab8f0,TestFrameworkState[_0x276d50(0x22f)]))&&this[_0x276d50(0x238)](_0x8ab8f0,_0x26e1ed),_0x3e8087=TestFramework['getTrackedInstance'](),_0x3e8087;}['trackPlaywrightInstance'](_0x3d8535,_0x19b4b0){const _0x120c5f=a65_0x4c86ec,_0x152b1c=CLIUtils[_0x120c5f(0x1e1)](),_0x35255c=TrackedInstance['createContext'](_0x152b1c);let _0x1be7c5=null;logger[_0x120c5f(0x224)](_0x120c5f(0x23b)+_0x152b1c+_0x120c5f(0x1f5)+_0x3d8535),_0x1be7c5=new TestFrameworkInstance(_0x35255c,this[_0x120c5f(0x226)](),this[_0x120c5f(0x1dd)](),_0x3d8535,HookState[_0x120c5f(0x22f)]),TestFramework[_0x120c5f(0x23d)](_0x35255c,_0x1be7c5),logger[_0x120c5f(0x224)]('trackPlaywrightInstance:\x20saved\x20instance\x20contextId='+_0x35255c['getId']()+_0x120c5f(0x1ec)+_0x152b1c);}['parsePlaywrightTest'](_0x3b3df8,_0x55f4e7){const _0x5f5bb3=a65_0x4c86ec,_0x3dc911={'bajJi':function(_0x42e24f,_0x317ed9){return _0x42e24f(_0x317ed9);},'rWWsR':function(_0x2de999,_0x24037c){return _0x2de999(_0x24037c);},'SnqQl':function(_0x5852c1,_0x19fc1c){return _0x5852c1(_0x19fc1c);},'gyQnB':function(_0x1ebb6c,_0xd59911){return _0x1ebb6c(_0xd59911);},'GLQdX':function(_0x59b755,_0x261aed){return _0x59b755(_0x261aed);},'WPaEC':function(_0x36fdb0,_0x5da14f){return _0x36fdb0(_0x5da14f);},'jwBgE':function(_0x3f90ff,_0x4a4de4){return _0x3f90ff(_0x4a4de4);}},_0x5ea3bc=_0x3dc911['bajJi'](getPlaywrightTestId,_0x55f4e7),_0x260157=_0x3dc911[_0x5f5bb3(0x260)](getPlaywrightTestTitle,_0x55f4e7),_0x1ef945=_0x3dc911[_0x5f5bb3(0x260)](getTestTags,_0x55f4e7),_0x1e32ea=_0x3dc911[_0x5f5bb3(0x1c0)](getPlaywrightTestCode,_0x55f4e7),_0xb118d3=_0x3dc911[_0x5f5bb3(0x263)](getPlaywrightTestFilePath,_0x55f4e7),_0x5290da=_0xb118d3+':'+_0x3dc911[_0x5f5bb3(0x228)](getPlaywrightTestLocation,_0x55f4e7),_0x405de6=_0x3dc911[_0x5f5bb3(0x285)](getPlaywrightTestScope,_0x55f4e7),_0xc60403=_0x3dc911['WPaEC'](getPlaywrightTestScopes,_0x55f4e7),_0x50c736=_0x3dc911['jwBgE'](getPlaywrightSessionName,_0x55f4e7),_0x177455=this[_0x5f5bb3(0x226)]()[0x0],_0x4485ac={[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x177455,[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:this[_0x5f5bb3(0x1dd)]()[_0x177455],[TestFrameworkConstants['KEY_TEST_LOGS']]:[],[TestFrameworkConstants[_0x5f5bb3(0x216)]]:{},[TestFrameworkConstants['KEY_HOOKS_STARTED']]:{},[TestFrameworkConstants['KEY_TEST_UUID']]:_0x3b3df8,[TestFrameworkConstants['KEY_TEST_RESULT']]:TestFrameworkConstants[_0x5f5bb3(0x20c)],[TestFrameworkConstants[_0x5f5bb3(0x249)]]:_0x50c736,[TestFrameworkConstants[_0x5f5bb3(0x237)]]:_0xb118d3,[TestFrameworkConstants[_0x5f5bb3(0x208)]]:_0x5ea3bc,[TestFrameworkConstants[_0x5f5bb3(0x20e)]]:_0x260157,[TestFrameworkConstants[_0x5f5bb3(0x1ce)]]:_0x5290da,[TestFrameworkConstants[_0x5f5bb3(0x286)]]:_0x1e32ea,[TestFrameworkConstants[_0x5f5bb3(0x1f7)]]:_0x1ef945,[TestFrameworkConstants['KEY_TEST_STARTED_AT']]:_0x55f4e7[_0x5f5bb3(0x207)][0x0]['startTime'],[TestFrameworkConstants[_0x5f5bb3(0x206)]]:_0x405de6,[TestFrameworkConstants[_0x5f5bb3(0x257)]]:_0xc60403,[TestFrameworkConstants[_0x5f5bb3(0x1f8)]]:_0x3dc911['GLQdX'](getPlaywrightCustomRerunParam,_0x55f4e7)};TestInfo[_0x5f5bb3(0x232)](_0x55f4e7['id'],_0x4485ac);const _0x3879fc={};return _0x3879fc[_0x5ea3bc]=_0x4485ac,_0x3879fc;}[a65_0x4c86ec(0x1c6)](_0x1d1a00,_0x100f2a,_0x4ba113){const _0x5e20ef=a65_0x4c86ec,_0x6ea2bd={'QqVQc':function(_0x9b3f91,_0x5ec0a6){return _0x9b3f91(_0x5ec0a6);},'bbyTT':'TEST_ATTACHMENT','OdPlI':function(_0x465cd5,_0x4dda07){return _0x465cd5===_0x4dda07;},'wttPs':_0x5e20ef(0x281),'UbwLy':_0x5e20ef(0x21e),'uzqMP':function(_0x5b9852,_0x425349){return _0x5b9852(_0x425349);},'BssBr':function(_0x1d2fc0,_0x35b3fb){return _0x1d2fc0+_0x35b3fb;},'prPCC':_0x5e20ef(0x212),'ZrFrB':_0x5e20ef(0x20d),'UhklU':function(_0x42c46d,_0x4114eb){return _0x42c46d===_0x4114eb;},'CzJhI':function(_0x266cb8,_0x48055d){return _0x266cb8===_0x48055d;},'ZlQLw':_0x5e20ef(0x211),'hWSST':_0x5e20ef(0x26e),'EizAV':_0x5e20ef(0x26b),'zTYKS':function(_0x11fe61,_0x34ef48,_0x1c9f10){return _0x11fe61(_0x34ef48,_0x1c9f10);},'sXqxK':function(_0x3fee5e,_0x473a84){return _0x3fee5e||_0x473a84;},'wevLA':function(_0x204ccb,_0x561d1a){return _0x204ccb(_0x561d1a);},'TNOJO':'path','woISA':function(_0x133153,_0x5adab8){return _0x133153>_0x5adab8;}};logger[_0x5e20ef(0x1df)](_0x5e20ef(0x259)+_0x1d1a00);const _0x2c1334=new Date(_0x100f2a[_0x5e20ef(0x24b)]),_0xb6f74c=_0x100f2a[_0x5e20ef(0x1d0)],_0x31b164=new Date(_0x6ea2bd[_0x5e20ef(0x1c4)](_0x2c1334[_0x5e20ef(0x1bf)](),_0xb6f74c)),_0x1ccc85=_0x100f2a[_0x5e20ef(0x244)],_0x4ed3af=TestInfo[_0x5e20ef(0x222)](_0x1d1a00)[TestFrameworkConstants[_0x5e20ef(0x1d3)]]||{};let _0x371a5d=_0x1ccc85;if(_0x6ea2bd[_0x5e20ef(0x25f)](_0x100f2a[_0x5e20ef(0x244)],_0x4ba113[_0x5e20ef(0x1d6)]))_0x371a5d=_0x6ea2bd[_0x5e20ef(0x25f)](_0x100f2a['status'],_0x6ea2bd[_0x5e20ef(0x1f0)])?_0x6ea2bd['prPCC']:_0x6ea2bd[_0x5e20ef(0x230)];else{(_0x6ea2bd[_0x5e20ef(0x1d8)](_0x371a5d,_0x6ea2bd['ZrFrB'])||_0x6ea2bd[_0x5e20ef(0x210)](_0x371a5d,_0x6ea2bd['ZlQLw'])||_0x6ea2bd['UhklU'](_0x371a5d,_0x6ea2bd['hWSST']))&&(_0x371a5d=_0x6ea2bd[_0x5e20ef(0x252)]);if(_0x6ea2bd[_0x5e20ef(0x210)](_0x100f2a[_0x5e20ef(0x244)],_0x6ea2bd[_0x5e20ef(0x230)])&&_0x6ea2bd['CzJhI'](_0x4ba113['expectedStatus'],_0x6ea2bd[_0x5e20ef(0x252)])){const _0x27ce74={};_0x27ce74[_0x5e20ef(0x1eb)]=_0x6ea2bd[_0x5e20ef(0x1e0)],_0x27ce74[_0x5e20ef(0x1d4)]=_0x6ea2bd['EizAV'],_0x100f2a[_0x5e20ef(0x242)]=_0x27ce74,_0x100f2a['errors']=[_0x100f2a['error']];}}const {failureData:_0x342ca4,logs:_0x5aad28}=_0x6ea2bd['zTYKS'](getFailureData,_0x100f2a?.[_0x5e20ef(0x274)],{}),_0x130cc7={[TestFrameworkConstants[_0x5e20ef(0x287)]]:_0x6ea2bd[_0x5e20ef(0x266)](_0x342ca4,null),[TestFrameworkConstants[_0x5e20ef(0x22c)]]:_0x100f2a?.[_0x5e20ef(0x242)]&&_0x6ea2bd[_0x5e20ef(0x1e5)](getFailureType,_0x100f2a[_0x5e20ef(0x242)][_0x5e20ef(0x1eb)]),[TestFrameworkConstants[_0x5e20ef(0x1c7)]]:_0x100f2a?.['error']&&_0x6ea2bd[_0x5e20ef(0x1ee)](removeAnsiColors,_0x100f2a[_0x5e20ef(0x242)][_0x5e20ef(0x1eb)]),[TestFrameworkConstants[_0x5e20ef(0x20b)]]:[],[TestFrameworkConstants[_0x5e20ef(0x251)]]:_0x371a5d,[TestFrameworkConstants[_0x5e20ef(0x235)]]:_0x31b164[_0x5e20ef(0x1fc)](),[TestFrameworkConstants['KEY_TEST_RESULT_AT']]:new Date()[_0x5e20ef(0x1fc)](),[TestFrameworkConstants[_0x5e20ef(0x1d3)]]:_0x4ed3af},_0x37faa8={};_0x37faa8[_0x5e20ef(0x25e)]=_0x4ba113;const _0x4d581c=this[_0x5e20ef(0x205)](TestFrameworkState['TEST'],HookState[_0x5e20ef(0x27f)],_0x37faa8),_0x16265c=_0x4d581c['getAllData']()[_0x5e20ef(0x284)](_0x1d1a00)[TestFrameworkConstants[_0x5e20ef(0x250)]],_0x36d784=[],_0x282e93=_0x6ea2bd[_0x5e20ef(0x231)](findNestedKey,_0x100f2a,_0x6ea2bd[_0x5e20ef(0x23c)]);if(_0x282e93&&_0x6ea2bd[_0x5e20ef(0x24e)](validateFilePath,_0x282e93))try{_0x36d784[_0x5e20ef(0x1d7)]({'kind':_0x6ea2bd['bbyTT'],'timestamp':new Date()[_0x5e20ef(0x1fc)](),'test_run_uuid':_0x16265c,'file_name':path['basename'](_0x282e93),'file_size':fs[_0x5e20ef(0x1cf)](_0x282e93)[_0x5e20ef(0x25c)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x1d5e18){logger['error'](_0x5e20ef(0x243)+_0x282e93+':\x20'+_0x1d5e18['message']);}const _0x2dd72d=TestInfo[_0x5e20ef(0x1c5)](),_0x54c2cf=_0x2dd72d[_0x5e20ef(0x22e)](_0xac3119=>_0xac3119['testUId']===_0x16265c);_0x54c2cf[_0x5e20ef(0x1fd)](_0x1d9a51=>{const _0x23ed55=_0x5e20ef;if(_0x1d9a51[_0x23ed55(0x225)]&&_0x6ea2bd['QqVQc'](validateFilePath,_0x1d9a51['filePath'])&&!_0x36d784[_0x23ed55(0x1e9)](_0x242fb6=>_0x242fb6['file_name']===path[_0x23ed55(0x265)](_0x1d9a51[_0x23ed55(0x225)])))try{_0x36d784[_0x23ed55(0x1d7)]({'kind':_0x6ea2bd[_0x23ed55(0x267)],'timestamp':new Date()[_0x23ed55(0x1fc)](),'test_run_uuid':_0x16265c,'file_name':path[_0x23ed55(0x265)](_0x1d9a51[_0x23ed55(0x225)]),'file_size':fs[_0x23ed55(0x1cf)](_0x1d9a51[_0x23ed55(0x225)])['size'],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x3fdd5b){logger[_0x23ed55(0x242)]('Error\x20processing\x20trace\x20file\x20'+_0x1d9a51[_0x23ed55(0x225)]+_0x23ed55(0x1e8)+_0x3fdd5b[_0x23ed55(0x1eb)]);}});if(_0x6ea2bd['woISA'](_0x36d784[_0x5e20ef(0x1d1)],0x0)){const _0xbb252f=_0x130cc7[TestFrameworkConstants[_0x5e20ef(0x20b)]]||[];_0x130cc7[TestFrameworkConstants['KEY_LOGS']]=[..._0xbb252f,..._0x36d784];}const _0x5b5613=TestInfo['getTestDetails'](_0x1d1a00)[TestFrameworkConstants[_0x5e20ef(0x23e)]]||{},_0x5988d4=_0x6ea2bd[_0x5e20ef(0x231)](getManualUploadLogs,_0x5b5613,_0x4d581c[_0x5e20ef(0x1c9)]()[_0x5e20ef(0x284)](_0x1d1a00)[TestFrameworkConstants[_0x5e20ef(0x250)]]);if(_0x6ea2bd[_0x5e20ef(0x1f4)](_0x5988d4[_0x5e20ef(0x1d1)],0x0)){const _0x2c12e0=_0x130cc7[TestFrameworkConstants['KEY_LOGS']]||[];_0x130cc7[TestFrameworkConstants[_0x5e20ef(0x20b)]]=[..._0x2c12e0,..._0x5988d4];}const _0x252d4b=_0x4ba113[_0x5e20ef(0x209)]||[],_0x401a16=_0x130cc7[TestFrameworkConstants[_0x5e20ef(0x1d3)]]||{};_0x252d4b[_0x5e20ef(0x1fd)](_0x1c6e60=>{const _0x57ff0a=_0x5e20ef,{type:_0x343f51}=_0x1c6e60;let _0x5f4ffa=_0x1c6e60[_0x57ff0a(0x1c3)];if(!_0x343f51)return;(_0x6ea2bd[_0x57ff0a(0x25f)](_0x5f4ffa,undefined)||_0x6ea2bd[_0x57ff0a(0x25f)](_0x5f4ffa,null)||_0x6ea2bd[_0x57ff0a(0x25f)](_0x6ea2bd[_0x57ff0a(0x1e5)](String,_0x5f4ffa)[_0x57ff0a(0x273)](),''))&&(_0x5f4ffa=_0x6ea2bd[_0x57ff0a(0x215)]);if(!_0x401a16[_0x343f51]){const _0x5a6003={};_0x5a6003[_0x57ff0a(0x1f9)]=_0x6ea2bd['UbwLy'],_0x5a6003[_0x57ff0a(0x255)]=[],_0x401a16[_0x343f51]=_0x5a6003;}else!_0x401a16[_0x343f51][_0x57ff0a(0x1f9)]&&(_0x401a16[_0x343f51][_0x57ff0a(0x1f9)]=_0x6ea2bd[_0x57ff0a(0x261)]),!Array['isArray'](_0x401a16[_0x343f51][_0x57ff0a(0x255)])&&(_0x401a16[_0x343f51]['values']=[]);const _0x5da4f9=_0x6ea2bd[_0x57ff0a(0x24e)](String,_0x5f4ffa)[_0x57ff0a(0x1c2)](',')[_0x57ff0a(0x200)](_0x582d10=>_0x582d10[_0x57ff0a(0x273)]());_0x401a16[_0x343f51][_0x57ff0a(0x255)]=[...new Set([..._0x401a16[_0x343f51][_0x57ff0a(0x255)],..._0x5da4f9])];}),_0x130cc7[TestFrameworkConstants[_0x5e20ef(0x1d3)]]=_0x401a16,TestInfo['setTestDetails'](_0x1d1a00,_0x130cc7);const _0x7cedf8={};return _0x7cedf8[_0x1d1a00]=_0x130cc7,_0x7cedf8;}async[a65_0x4c86ec(0x256)](_0x1087a7,_0x11f004,_0x2641da,_0x2d1db2){const _0x37d75a=a65_0x4c86ec,_0x5ccaaa={'kUGGS':function(_0x40ed21,_0x10506c){return _0x40ed21 in _0x10506c;},'MJwBH':function(_0x21881f,_0x1f702b){return _0x21881f(_0x1f702b);},'mjiZD':function(_0x36933b,_0x26a592){return _0x36933b===_0x26a592;},'jkwLg':function(_0x4e38e2){return _0x4e38e2();},'zhUob':function(_0x2c2ce0,_0x203768){return _0x2c2ce0===_0x203768;},'XysBO':function(_0xa151e2,_0x111b6d){return _0xa151e2>_0x111b6d;},'TLgGl':function(_0xcc0e7d,_0x2a81b8,_0x569492){return _0xcc0e7d(_0x2a81b8,_0x569492);},'XzTmA':_0x37d75a(0x1f3),'JRfCG':function(_0x578f20,_0x5c6a60){return _0x578f20(_0x5c6a60);},'ASVSz':_0x37d75a(0x211),'hXZqB':_0x37d75a(0x20d),'zhbCa':function(_0x3783f3,_0x1e28d9){return _0x3783f3!==_0x1e28d9;},'MKBgZ':function(_0x29f270,_0x6fb4b5){return _0x29f270+_0x6fb4b5;},'ooWOB':'hook'},_0x29a5b5=_0x2d1db2[_0x37d75a(0x25e)],_0x4ce6ff=_0x2d1db2[_0x37d75a(0x1fa)],_0x558b=_0x2d1db2[_0x37d75a(0x25e)]['id'],_0x57135e=_0x11f004[_0x37d75a(0x269)]()[_0x37d75a(0x1c2)]('.')[0x1];let _0x3ba4d7=_0x1087a7[_0x37d75a(0x1c9)]()['get'](_0x558b)[TestFrameworkConstants['KEY_HOOKS_STARTED']];!_0x3ba4d7&&(_0x3ba4d7={});!_0x5ccaaa[_0x37d75a(0x1d2)](_0x57135e,_0x3ba4d7)&&(_0x3ba4d7[_0x57135e]=[]);let _0x24a8a9=_0x1087a7[_0x37d75a(0x1c9)]()[_0x37d75a(0x284)](_0x558b)[TestFrameworkConstants[_0x37d75a(0x216)]];!_0x24a8a9&&(_0x24a8a9={});!_0x5ccaaa[_0x37d75a(0x1d2)](_0x57135e,_0x24a8a9)&&(_0x24a8a9[_0x57135e]=[]);const _0x4ea94b={[TestFrameworkConstants[_0x37d75a(0x27b)]]:_0x3ba4d7,[TestFrameworkConstants['KEY_HOOKS_FINISHED']]:_0x24a8a9},_0x5a0e29={};_0x5a0e29[_0x558b]=_0x4ea94b;const _0x29bf2c=_0x5a0e29,_0x4c02ba=_0x5ccaaa[_0x37d75a(0x1cb)](getPlaywrightTestFilePath,_0x29a5b5),_0x42cfe5=_0x4c02ba+':'+_0x5ccaaa[_0x37d75a(0x1cb)](getPlaywrightTestLocation,_0x29a5b5),_0x49cb8f=TestInfo[_0x37d75a(0x222)](_0x558b)[TestFrameworkConstants[_0x37d75a(0x1d3)]]||{};if(_0x5ccaaa[_0x37d75a(0x20a)](_0x2641da,HookState[_0x37d75a(0x268)])){const _0x21c8c1={'key':_0x57135e,[TestFrameworkConstants[_0x37d75a(0x23f)]]:_0x5ccaaa['jkwLg'](uuidv4),[TestFrameworkConstants['KEY_HOOK_RESULT']]:TestFrameworkConstants[_0x37d75a(0x283)],[TestFrameworkConstants['KEY_EVENT_STARTED_AT']]:_0x4ce6ff[_0x37d75a(0x24b)],[TestFrameworkConstants[_0x37d75a(0x22a)]]:[],[TestFrameworkConstants['KEY_HOOK_NAME']]:_0x4ce6ff[_0x37d75a(0x277)],[TestFrameworkConstants[_0x37d75a(0x237)]]:_0x4c02ba,[TestFrameworkConstants[_0x37d75a(0x1ce)]]:_0x42cfe5,[TestFrameworkConstants[_0x37d75a(0x1d3)]]:_0x49cb8f};_0x3ba4d7[_0x57135e][_0x37d75a(0x1d7)](_0x21c8c1),_0x29bf2c[_0x558b][TestFrameworkConstants['KEY_HOOK_LAST_STARTED']]=_0x57135e,logger['debug'](_0x37d75a(0x278)+_0x57135e+_0x37d75a(0x25a)+_0x21c8c1+_0x37d75a(0x21f)+_0x2d1db2);}else{if(_0x5ccaaa[_0x37d75a(0x27e)](_0x2641da,HookState[_0x37d75a(0x27f)])){const _0x47e78a=await _0x2d1db2['result'],_0xccb6e5=_0x3ba4d7[_0x57135e]||[],_0x5cccb3=_0x2d1db2[_0x37d75a(0x1fa)];logger[_0x37d75a(0x1df)](_0x37d75a(0x1ea)+_0xccb6e5+_0x37d75a(0x1ed)+_0x2d1db2);if(_0x5ccaaa['XysBO'](_0xccb6e5['length'],0x0)){const _0x1a0132=_0xccb6e5[_0x37d75a(0x219)]();if(_0x5cccb3[_0x37d75a(0x242)]){const _0x2dd3e1=_0x5ccaaa['TLgGl'](failureData,_0x5cccb3['error'],_0x5ccaaa[_0x37d75a(0x1cc)]);_0x1a0132[TestFrameworkConstants[_0x37d75a(0x26f)]]=_0x5ccaaa[_0x37d75a(0x24a)](getFailureType,_0x5cccb3?.[_0x37d75a(0x242)]['message']),_0x1a0132[TestFrameworkConstants[_0x37d75a(0x21c)]]=_0x5ccaaa[_0x37d75a(0x1cb)](removeAnsiColors,_0x5cccb3?.[_0x37d75a(0x242)][_0x37d75a(0x1eb)]),_0x1a0132[TestFrameworkConstants[_0x37d75a(0x229)]]=_0x5ccaaa[_0x37d75a(0x254)],_0x1a0132[TestFrameworkConstants[_0x37d75a(0x217)]]=_0x2dd3e1;}else _0x1a0132[TestFrameworkConstants['KEY_HOOK_RESULT']]=_0x5ccaaa[_0x37d75a(0x26a)];_0x5ccaaa[_0x37d75a(0x1cd)](_0x47e78a,TestFrameworkConstants[_0x37d75a(0x283)])&&(_0x1a0132[TestFrameworkConstants[_0x37d75a(0x229)]]=!_0x5cccb3[_0x37d75a(0x242)]?_0x5ccaaa[_0x37d75a(0x26a)]:_0x5ccaaa[_0x37d75a(0x254)]);const _0x4af845=new Date(_0x5cccb3[_0x37d75a(0x24b)]),_0x1a361e=new Date(_0x5ccaaa[_0x37d75a(0x1da)](_0x4af845[_0x37d75a(0x1bf)](),_0x5cccb3[_0x37d75a(0x1d0)]));_0x1a0132[TestFrameworkConstants[_0x37d75a(0x20f)]]=_0x1a361e[_0x37d75a(0x1fc)](),_0x1a0132[TestFrameworkConstants['KEY_CUSTOM_TAGS']]=_0x49cb8f;const _0x2a68bc=_0x1a0132[TestFrameworkConstants[_0x37d75a(0x23f)]];await this[_0x37d75a(0x1d9)](_0x1087a7,_0x11f004,_0x2a68bc,_0x5ccaaa[_0x37d75a(0x204)],_0x2d1db2),!_0x24a8a9[_0x57135e]&&(_0x24a8a9[_0x57135e]=[]),_0x24a8a9[_0x57135e][_0x37d75a(0x1d7)](_0x1a0132),_0x29bf2c[_0x558b][TestFrameworkConstants[_0x37d75a(0x221)]]=_0x57135e;}}}return _0x29bf2c;}async[a65_0x4c86ec(0x1d9)](_0x541f76,_0x2583e2,_0x3728c3,_0x235a32,_0x156907){const _0x2e5d1f=a65_0x4c86ec,_0x1673a6={'gwhtU':function(_0xbeaa91,_0xbeefbb){return _0xbeaa91===_0xbeefbb;},'wwKNW':_0x2e5d1f(0x25e),'Vihfd':function(_0x40d5dc,_0x2e0c53,_0x3da972){return _0x40d5dc(_0x2e0c53,_0x3da972);},'RbETz':function(_0x5156bd,_0xb9e4ea,_0x39a804,_0x3c7aa3){return _0x5156bd(_0xb9e4ea,_0x39a804,_0x3c7aa3);},'sxDjE':function(_0x4c7247,_0x288c97,_0x34d28d){return _0x4c7247(_0x288c97,_0x34d28d);},'mIlHf':function(_0x2cd9f7,_0x143a1e,_0x1faccb){return _0x2cd9f7(_0x143a1e,_0x1faccb);},'FdRic':function(_0x57cef9,_0x23b0f0,_0x5543ae,_0x19ce8e,_0x38a88e){return _0x57cef9(_0x23b0f0,_0x5543ae,_0x19ce8e,_0x38a88e);},'CkWCU':function(_0x31e0c6,_0x414d12,_0x7d86ef,_0x3cd1ac){return _0x31e0c6(_0x414d12,_0x7d86ef,_0x3cd1ac);},'WHxIZ':_0x2e5d1f(0x1e2),'GRrXf':function(_0x1f9017,_0x5a3bec,_0x38623a,_0xdc089d,_0x41612d){return _0x1f9017(_0x5a3bec,_0x38623a,_0xdc089d,_0x41612d);}};try{if(_0x1673a6[_0x2e5d1f(0x234)](_0x235a32,_0x1673a6[_0x2e5d1f(0x271)])){const _0x14f8a8=await _0x156907[_0x2e5d1f(0x1e7)],_0x597a50=_0x156907[_0x2e5d1f(0x25e)]['id'],_0x13e924=_0x156907[_0x2e5d1f(0x25e)];logger[_0x2e5d1f(0x1df)]('sendLogCreatedEvent:\x20testId='+_0x597a50);const _0x2fdaf0=_0x541f76[_0x2e5d1f(0x1c9)]()['get'](_0x597a50)[TestFrameworkConstants[_0x2e5d1f(0x250)]];await _0x1673a6[_0x2e5d1f(0x25d)](sendTraceZip,_0x14f8a8,_0x2fdaf0);const {steps:_0x4da26a,logs:_0x28dd32}=_0x1673a6['RbETz'](getStepsAndLogs,_0x14f8a8[_0x2e5d1f(0x223)],_0x541f76[_0x2e5d1f(0x1c9)]()[_0x2e5d1f(0x284)](_0x597a50)[TestFrameworkConstants[_0x2e5d1f(0x250)]],_0x1673a6[_0x2e5d1f(0x271)]),_0x7ff47b=_0x1673a6[_0x2e5d1f(0x21a)](getScreenshots,_0x14f8a8,_0x541f76[_0x2e5d1f(0x1c9)]()[_0x2e5d1f(0x284)](_0x597a50)[TestFrameworkConstants['KEY_TEST_UUID']]),{_:_0x4bae0e,logs:_0x291296}=_0x1673a6['sxDjE'](getFailureData,_0x14f8a8['errors'],{'test_run_uuid':_0x541f76[_0x2e5d1f(0x1c9)]()[_0x2e5d1f(0x284)](_0x597a50)[TestFrameworkConstants[_0x2e5d1f(0x250)]]}),_0x2a0783=TestInfo[_0x2e5d1f(0x222)](_0x597a50)[TestFrameworkConstants[_0x2e5d1f(0x23e)]]||{},_0x21dacc=_0x1673a6[_0x2e5d1f(0x240)](getMediaArtifactsLogs,_0x2a0783,_0x541f76[_0x2e5d1f(0x1c9)]()[_0x2e5d1f(0x284)](_0x597a50)[TestFrameworkConstants[_0x2e5d1f(0x250)]]),_0x50b90b=_0x541f76['getAllData']()['get'](_0x597a50),{[TestFrameworkConstants[_0x2e5d1f(0x276)]]:_0x1bc8a4='',[TestFrameworkConstants[_0x2e5d1f(0x213)]]:_0x141ea8=''}=_0x50b90b,_0xca1acb={'platformIndex':'0','logs':[..._0x28dd32||[],..._0x7ff47b||[],..._0x291296||[],..._0x21dacc||[]],'testFrameworkName':_0x1bc8a4,'testFrameworkVersion':_0x141ea8,'testFrameworkState':_0x2583e2['toString']()[_0x2e5d1f(0x1c2)]('.')[0x1]};_0x1673a6[_0x2e5d1f(0x1e6)](updatePayloadForTraceLogs,_0xca1acb,_0x156907,_0x597a50,_0x541f76),logger['debug'](_0x2e5d1f(0x258)+_0x597a50+_0x2e5d1f(0x241)+util[_0x2e5d1f(0x24f)](_0xca1acb));const _0x307e2b=await GrpcClient['getInstance']()[_0x2e5d1f(0x24c)](_0xca1acb);}else{const {steps:_0x21c778,logs:_0x424156}=_0x1673a6['CkWCU'](getStepsAndLogs,_0x156907['step'][_0x2e5d1f(0x223)],_0x3728c3,_0x1673a6[_0x2e5d1f(0x27a)]),_0x51760d=_0x156907[_0x2e5d1f(0x25e)]['id'];logger[_0x2e5d1f(0x1df)]('sendLogCreatedEvent:\x20testId='+_0x51760d);const _0x4bb46c=_0x541f76[_0x2e5d1f(0x1c9)]()[_0x2e5d1f(0x284)](_0x51760d),{[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x532df9='',[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x45850c=''}=_0x4bb46c,_0x2c260e={'platformIndex':'0','logs':_0x424156,'testFrameworkName':_0x532df9,'testFrameworkVersion':_0x45850c,'testFrameworkState':_0x2583e2[_0x2e5d1f(0x269)]()[_0x2e5d1f(0x1c2)]('.')[0x1]};_0x1673a6[_0x2e5d1f(0x24d)](updatePayloadForTraceLogs,_0x2c260e,_0x156907,_0x51760d,_0x541f76),logger[_0x2e5d1f(0x1df)](_0x2e5d1f(0x258)+_0x51760d+_0x2e5d1f(0x241)+util[_0x2e5d1f(0x24f)](_0x2c260e));const _0x4475a0=await GrpcClient['getInstance']()[_0x2e5d1f(0x24c)](_0x2c260e);}}catch(_0x403a5b){logger['error'](_0x2e5d1f(0x282)+util[_0x2e5d1f(0x1e4)](_0x403a5b));}}}module[a65_0x4c86ec(0x236)]=PlaywrightTestFramework;