const a63_0x8d6500=a63_0x5aca;(function(_0x2a5e1a,_0x3b8921){const _0xa8eda5=a63_0x5aca,_0x5b642e=_0x2a5e1a();while(!![]){try{const _0x2292a0=-parseInt(_0xa8eda5(0x1a1))/0x1+-parseInt(_0xa8eda5(0x148))/0x2*(parseInt(_0xa8eda5(0x11a))/0x3)+parseInt(_0xa8eda5(0x138))/0x4*(-parseInt(_0xa8eda5(0x1be))/0x5)+-parseInt(_0xa8eda5(0x149))/0x6+-parseInt(_0xa8eda5(0x18e))/0x7+parseInt(_0xa8eda5(0x18f))/0x8+parseInt(_0xa8eda5(0x1bb))/0x9*(parseInt(_0xa8eda5(0x19d))/0xa);if(_0x2292a0===_0x3b8921)break;else _0x5b642e['push'](_0x5b642e['shift']());}catch(_0xb63b36){_0x5b642e['push'](_0x5b642e['shift']());}}}(a63_0x36d7,0xab2d7));const TestFramework=require(a63_0x8d6500(0x168)),TestFrameworkState=require('../state/testFrameworkState.js'),HookState=require(a63_0x8d6500(0x1a2)),{createClassLogger}=require(a63_0x8d6500(0x160)),TestFrameworkInstance=require('../instances/testFrameworkInstance.js'),CLIUtils=require(a63_0x8d6500(0x16e)),TrackedInstance=require('../instances/trackedInstance.js'),TestFrameworkConstants=require('./constants/testFrameworkConstants.js'),logger=createClassLogger('PlaywrightTestFramework'),{v4:uuidv4}=require('uuid'),util=require('util'),{getPlaywrightSessionName,getPlaywrightTestFilePath,getPlaywrightTestId,getPlaywrightTestTitle,getPlaywrightTestLocation,getPlaywrightTestTags,getPlaywrightTestCode,getPlaywrightTestScope,getPlaywrightTestScopes,getStepsAndLogs,getScreenshots,getPlaywrightCustomRerunParam,getMediaArtifactsLogs,getManualUploadLogs,updatePayloadForTraceLogs}=require(a63_0x8d6500(0x1d6)),TestInfo=require(a63_0x8d6500(0x1ce)),GrpcClient=require('../grpcClient'),{removeAnsiColors,getFailureType,failureData}=require(a63_0x8d6500(0x1d4)),{getFailureData,getTestTags}=require(a63_0x8d6500(0x1a4)),{findNestedKey,sendTraceZip,validateFilePath}=require(a63_0x8d6500(0x1a4)),path=require(a63_0x8d6500(0x1a9)),fs=require('fs'),helper=require(a63_0x8d6500(0x1a0)),{PLAYWRIGHT_TRACE_LOGS}=require(a63_0x8d6500(0x1c0));class PlaywrightTestFramework extends TestFramework{constructor(_0xc837b9,_0x89a93d,_0xfa2726){super(_0xc837b9,_0x89a93d,_0xfa2726);}async[a63_0x8d6500(0x1a8)](_0x233d30,_0x8a177f,_0x5ce883={}){const _0x402d16=a63_0x8d6500,_0x56feb0={};_0x56feb0[_0x402d16(0x17b)]=function(_0x49a019,_0x4cb3dd){return _0x49a019===_0x4cb3dd;},_0x56feb0['ShEbN']=function(_0x3e8a26,_0x4f42f6){return _0x3e8a26===_0x4f42f6;},_0x56feb0['DOkdR']=function(_0x59ab34,_0xf769a4){return _0x59ab34===_0xf769a4;},_0x56feb0[_0x402d16(0x11c)]='test',_0x56feb0[_0x402d16(0x1da)]=_0x402d16(0x199);const _0x49d471=_0x56feb0;await super[_0x402d16(0x1a8)](_0x233d30,_0x8a177f,_0x5ce883);const _0xda6e0d=this['resolveInstance'](_0x233d30,_0x8a177f,_0x5ce883);if(!_0xda6e0d)return;logger[_0x402d16(0x174)](_0x402d16(0x136)+_0x233d30+'\x20hookState='+_0x8a177f+_0x402d16(0x14c)+_0xda6e0d[_0x402d16(0x18d)]());try{if(_0x49d471[_0x402d16(0x17b)](_0x8a177f,HookState[_0x402d16(0x134)])&&_0x49d471['ShEbN'](_0x233d30,TestFrameworkState[_0x402d16(0x141)])){const _0x478170=_0x5ce883['test'];logger[_0x402d16(0x174)](_0x402d16(0x119)+_0x478170['id']+'}');const _0x52bdf2=TestInfo[_0x402d16(0x1ba)](_0x478170['id']);_0xda6e0d[_0x402d16(0x157)](this['parsePlaywrightTest'](_0x52bdf2,_0x478170)),logger[_0x402d16(0x174)](_0x402d16(0x1cd)+_0x478170['id']+_0x402d16(0x173)+_0x233d30+_0x402d16(0x15a)+_0x8a177f+'\x20instance='+_0xda6e0d[_0x402d16(0x18d)]());}if(_0x49d471[_0x402d16(0x171)](_0x8a177f,HookState[_0x402d16(0x170)])&&_0x49d471['DOkdR'](_0x233d30,TestFrameworkState[_0x402d16(0x141)])){const _0x1d563a=_0x5ce883[_0x402d16(0x1d8)],_0x244dc5=_0x5ce883[_0x402d16(0x1c7)];logger[_0x402d16(0x174)]('trackEvent\x20loading\x20testResults\x20for\x20testId:\x20'+_0x1d563a['id']),_0xda6e0d[_0x402d16(0x157)](this[_0x402d16(0x1b0)](_0x1d563a['id'],_0x244dc5,_0x1d563a)),this[_0x402d16(0x1aa)](_0xda6e0d,_0x233d30,_0x8a177f,_0x49d471[_0x402d16(0x11c)],_0x5ce883);}if(CLIUtils[_0x402d16(0x15d)](_0x233d30[_0x402d16(0x187)]()['split']('.')[0x1])){const _0xdac20d=await this[_0x402d16(0x18a)](_0xda6e0d,_0x233d30,_0x8a177f,_0x5ce883);_0xda6e0d['addMultipleEntries'](_0xdac20d);}}catch(_0x2327c4){logger[_0x402d16(0x13c)](util[_0x402d16(0x1e4)](_0x49d471[_0x402d16(0x1da)],_0x233d30,_0x8a177f,_0x5ce883[_0x402d16(0x132)],_0x2327c4));}_0x5ce883['instance']=_0xda6e0d,await this[_0x402d16(0x1e2)](_0xda6e0d,_0x233d30,_0x8a177f,_0x5ce883);}[a63_0x8d6500(0x140)](_0x3ef3a3,_0x563b22,_0x4b864b={}){const _0x3fc7ba=a63_0x8d6500,_0xc5be15={};_0xc5be15[_0x3fc7ba(0x193)]=function(_0x405c29,_0x593d27){return _0x405c29===_0x593d27;};const _0x5e777a=_0xc5be15;let _0x8c1506=null;return(_0x5e777a[_0x3fc7ba(0x193)](_0x3ef3a3,TestFrameworkState[_0x3fc7ba(0x185)])||_0x5e777a['lDlys'](_0x3ef3a3,TestFrameworkState['NONE']))&&this['trackPlaywrightInstance'](_0x3ef3a3,_0x4b864b),_0x8c1506=TestFramework[_0x3fc7ba(0x188)](),_0x8c1506;}[a63_0x8d6500(0x137)](_0x2232d0,_0xde0f14){const _0x2d8081=a63_0x8d6500,_0x449991=CLIUtils[_0x2d8081(0x154)](),_0x2f46c2=TrackedInstance[_0x2d8081(0x1e7)](_0x449991);let _0x190849=null;logger[_0x2d8081(0x177)](_0x2d8081(0x195)+_0x449991+_0x2d8081(0x16b)+_0x2232d0),_0x190849=new TestFrameworkInstance(_0x2f46c2,this[_0x2d8081(0x1ac)](),this['getTestFrameworksVersions'](),_0x2232d0,HookState[_0x2d8081(0x197)]),TestFramework['setTrackedInstance'](_0x2f46c2,_0x190849),logger[_0x2d8081(0x177)]('trackPlaywrightInstance:\x20saved\x20instance\x20contextId='+_0x2f46c2[_0x2d8081(0x191)]()+'\x20target='+_0x449991);}[a63_0x8d6500(0x122)](_0x24385b,_0x2f7764){const _0x5c9b30=a63_0x8d6500,_0x570266={'XgmZz':function(_0x59615,_0x4bd656){return _0x59615(_0x4bd656);},'LnPXg':function(_0x33e1b4,_0x12ca68){return _0x33e1b4(_0x12ca68);},'Zoxvw':function(_0x1f41c,_0x4e381c){return _0x1f41c(_0x4e381c);},'ssOgh':function(_0x434a41,_0x150caf){return _0x434a41(_0x150caf);},'tzHzk':function(_0x240407,_0x25f081){return _0x240407(_0x25f081);},'VALru':function(_0x2f6fa5,_0x384c17){return _0x2f6fa5(_0x384c17);},'EJyBy':function(_0x2e629c,_0x422883){return _0x2e629c(_0x422883);}},_0x3145d7=_0x570266[_0x5c9b30(0x123)](getPlaywrightTestId,_0x2f7764),_0x505795=_0x570266[_0x5c9b30(0x1ae)](getPlaywrightTestTitle,_0x2f7764),_0x5757e0=_0x570266[_0x5c9b30(0x179)](getTestTags,_0x2f7764),_0x373abb=_0x570266[_0x5c9b30(0x1d3)](getPlaywrightTestCode,_0x2f7764),_0x250f9c=_0x570266[_0x5c9b30(0x169)](getPlaywrightTestFilePath,_0x2f7764),_0xac7e70=_0x250f9c+':'+_0x570266[_0x5c9b30(0x1d3)](getPlaywrightTestLocation,_0x2f7764),_0x2db715=_0x570266[_0x5c9b30(0x155)](getPlaywrightTestScope,_0x2f7764),_0xfd4d85=_0x570266[_0x5c9b30(0x1ea)](getPlaywrightTestScopes,_0x2f7764),_0xde53e8=_0x570266['tzHzk'](getPlaywrightSessionName,_0x2f7764),_0x2e4425=this[_0x5c9b30(0x1ac)]()[0x0],_0x339919={[TestFrameworkConstants[_0x5c9b30(0x1a6)]]:_0x2e4425,[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:this[_0x5c9b30(0x1ad)]()[_0x2e4425],[TestFrameworkConstants['KEY_TEST_LOGS']]:[],[TestFrameworkConstants[_0x5c9b30(0x1e3)]]:{},[TestFrameworkConstants['KEY_HOOKS_STARTED']]:{},[TestFrameworkConstants[_0x5c9b30(0x1a3)]]:_0x24385b,[TestFrameworkConstants[_0x5c9b30(0x19b)]]:TestFrameworkConstants[_0x5c9b30(0x121)],[TestFrameworkConstants[_0x5c9b30(0x129)]]:_0xde53e8,[TestFrameworkConstants[_0x5c9b30(0x1a7)]]:_0x250f9c,[TestFrameworkConstants[_0x5c9b30(0x146)]]:_0x3145d7,[TestFrameworkConstants[_0x5c9b30(0x14d)]]:_0x505795,[TestFrameworkConstants[_0x5c9b30(0x17e)]]:_0xac7e70,[TestFrameworkConstants[_0x5c9b30(0x158)]]:_0x373abb,[TestFrameworkConstants['KEY_TEST_TAGS']]:_0x5757e0,[TestFrameworkConstants[_0x5c9b30(0x12a)]]:_0x2f7764[_0x5c9b30(0x17c)][0x0][_0x5c9b30(0x142)],[TestFrameworkConstants[_0x5c9b30(0x1b7)]]:_0x2db715,[TestFrameworkConstants[_0x5c9b30(0x16f)]]:_0xfd4d85,[TestFrameworkConstants[_0x5c9b30(0x181)]]:_0x570266[_0x5c9b30(0x155)](getPlaywrightCustomRerunParam,_0x2f7764)};TestInfo[_0x5c9b30(0x1c9)](_0x2f7764['id'],_0x339919);const _0x2c0267={};return _0x2c0267[_0x3145d7]=_0x339919,_0x2c0267;}[a63_0x8d6500(0x1b0)](_0x43cd52,_0x5bf538,_0x36adad){const _0x3b80c7=a63_0x8d6500,_0x5b1bf3={'xZIMs':function(_0x4c3306,_0x33a78f){return _0x4c3306(_0x33a78f);},'HmBHK':_0x3b80c7(0x14f),'JZUsD':function(_0x56853a,_0x5c65fa){return _0x56853a===_0x5c65fa;},'Ggvvl':function(_0x31a325,_0x20340b){return _0x31a325===_0x20340b;},'CfTSd':function(_0xda8610,_0x6ed097){return _0xda8610(_0x6ed097);},'UQDIE':_0x3b80c7(0x183),'SjVrp':_0x3b80c7(0x13b),'CHriR':function(_0x541e61,_0x447efe){return _0x541e61+_0x447efe;},'nWpvT':function(_0x553287,_0x2021e2){return _0x553287===_0x2021e2;},'RjPFN':function(_0x32d199,_0x4afef){return _0x32d199===_0x4afef;},'ozjlM':_0x3b80c7(0x1d1),'iTKHf':'passed','nnkQg':function(_0x465fdc,_0x240b1c){return _0x465fdc===_0x240b1c;},'fuAhW':function(_0x219850,_0x222bc5){return _0x219850===_0x222bc5;},'MZxqV':_0x3b80c7(0x16d),'BHdmP':_0x3b80c7(0x14b),'yuSfk':function(_0x5e7f28,_0x574f45){return _0x5e7f28===_0x574f45;},'uAGmV':_0x3b80c7(0x1d9),'ihYkp':function(_0x5bfd97,_0x4c4d0d,_0x58a65b){return _0x5bfd97(_0x4c4d0d,_0x58a65b);},'IudeY':function(_0x4ddeab,_0x135ae1){return _0x4ddeab||_0x135ae1;},'Nuffw':function(_0x231540,_0x1f2a51){return _0x231540(_0x1f2a51);},'vtsVn':function(_0x2ce527,_0x4bcdfc,_0x3ba8e0){return _0x2ce527(_0x4bcdfc,_0x3ba8e0);},'AAWIn':'path','nGrLB':function(_0x5d1fed,_0x99b3c3){return _0x5d1fed(_0x99b3c3);},'azALC':function(_0x2922ed,_0x3c5d8b){return _0x2922ed>_0x3c5d8b;},'EdZOX':function(_0xdb566a,_0x562b9d){return _0xdb566a>_0x562b9d;}};logger[_0x3b80c7(0x174)](_0x3b80c7(0x13a)+_0x43cd52);const _0x4e4522=new Date(_0x5bf538[_0x3b80c7(0x142)]),_0x362aa3=_0x5bf538['duration'],_0x4abf9f=new Date(_0x5b1bf3[_0x3b80c7(0x1b9)](_0x4e4522[_0x3b80c7(0x17a)](),_0x362aa3)),_0x1f6bfb=_0x5bf538[_0x3b80c7(0x130)],_0x57b6f5=TestInfo[_0x3b80c7(0x189)](_0x43cd52)[TestFrameworkConstants[_0x3b80c7(0x124)]]||{};let _0x46dd0f=_0x1f6bfb;if(_0x5b1bf3[_0x3b80c7(0x1df)](_0x5bf538[_0x3b80c7(0x130)],_0x36adad[_0x3b80c7(0x1c3)]))_0x46dd0f=_0x5b1bf3[_0x3b80c7(0x1e0)](_0x5bf538[_0x3b80c7(0x130)],_0x5b1bf3[_0x3b80c7(0x151)])?_0x5b1bf3[_0x3b80c7(0x151)]:_0x5b1bf3[_0x3b80c7(0x1bf)];else{(_0x5b1bf3[_0x3b80c7(0x1b3)](_0x46dd0f,_0x5b1bf3[_0x3b80c7(0x1bf)])||_0x5b1bf3[_0x3b80c7(0x1d2)](_0x46dd0f,_0x5b1bf3[_0x3b80c7(0x182)])||_0x5b1bf3[_0x3b80c7(0x1b3)](_0x46dd0f,_0x5b1bf3[_0x3b80c7(0x12e)]))&&(_0x46dd0f=_0x5b1bf3[_0x3b80c7(0x182)]);if(_0x5b1bf3[_0x3b80c7(0x1df)](_0x5bf538[_0x3b80c7(0x130)],_0x5b1bf3[_0x3b80c7(0x1bf)])&&_0x5b1bf3[_0x3b80c7(0x1ca)](_0x36adad[_0x3b80c7(0x1c3)],_0x5b1bf3[_0x3b80c7(0x182)])){const _0x564a14={};_0x564a14['message']=_0x5b1bf3[_0x3b80c7(0x13e)],_0x564a14[_0x3b80c7(0x1b2)]=_0x5b1bf3[_0x3b80c7(0x13e)],_0x5bf538[_0x3b80c7(0x13c)]=_0x564a14,_0x5bf538[_0x3b80c7(0x126)]=[_0x5bf538['error']];}}const {failureData:_0x5c5f1a,logs:_0x173df8}=_0x5b1bf3['ihYkp'](getFailureData,_0x5bf538?.[_0x3b80c7(0x126)],{}),_0x321171={[TestFrameworkConstants[_0x3b80c7(0x178)]]:_0x5b1bf3[_0x3b80c7(0x128)](_0x5c5f1a,null),[TestFrameworkConstants[_0x3b80c7(0x14a)]]:_0x5bf538?.[_0x3b80c7(0x13c)]&&_0x5b1bf3['xZIMs'](getFailureType,_0x5bf538[_0x3b80c7(0x13c)][_0x3b80c7(0x1c5)]),[TestFrameworkConstants['KEY_TEST_FAILURE_REASON']]:_0x5bf538?.[_0x3b80c7(0x13c)]&&_0x5b1bf3[_0x3b80c7(0x1cb)](removeAnsiColors,_0x5bf538[_0x3b80c7(0x13c)]['message']),[TestFrameworkConstants['KEY_LOGS']]:[],[TestFrameworkConstants[_0x3b80c7(0x19b)]]:_0x5bf538[_0x3b80c7(0x130)],[TestFrameworkConstants[_0x3b80c7(0x1e9)]]:_0x4abf9f['toISOString'](),[TestFrameworkConstants[_0x3b80c7(0x159)]]:new Date()[_0x3b80c7(0x156)](),[TestFrameworkConstants[_0x3b80c7(0x124)]]:_0x57b6f5},_0x254398={};_0x254398[_0x3b80c7(0x1d8)]=_0x36adad;const _0x2fc67b=this[_0x3b80c7(0x140)](TestFrameworkState['TEST'],HookState[_0x3b80c7(0x170)],_0x254398),_0x4f1420=_0x2fc67b[_0x3b80c7(0x19f)]()[_0x3b80c7(0x1ec)](_0x43cd52)[TestFrameworkConstants[_0x3b80c7(0x1a3)]],_0x43e7d2=[],_0x44df3a=_0x5b1bf3[_0x3b80c7(0x147)](findNestedKey,_0x5bf538,_0x5b1bf3[_0x3b80c7(0x131)]);if(_0x44df3a&&_0x5b1bf3[_0x3b80c7(0x1b6)](validateFilePath,_0x44df3a))try{_0x43e7d2['push']({'kind':_0x5b1bf3[_0x3b80c7(0x1bd)],'timestamp':new Date()[_0x3b80c7(0x156)](),'test_run_uuid':_0x4f1420,'file_name':path[_0x3b80c7(0x1cf)](_0x44df3a),'file_size':fs[_0x3b80c7(0x198)](_0x44df3a)[_0x3b80c7(0x13f)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x537206){logger[_0x3b80c7(0x13c)](_0x3b80c7(0x153)+_0x44df3a+':\x20'+_0x537206[_0x3b80c7(0x1c5)]);}const _0x504ac4=TestInfo[_0x3b80c7(0x12c)](),_0x5533a8=_0x504ac4[_0x3b80c7(0x163)](_0x757227=>_0x757227[_0x3b80c7(0x143)]===_0x4f1420);_0x5533a8[_0x3b80c7(0x184)](_0x26e897=>{const _0x3217a7=_0x3b80c7;if(_0x26e897['filePath']&&_0x5b1bf3[_0x3217a7(0x1dc)](validateFilePath,_0x26e897[_0x3217a7(0x1e6)])&&!_0x43e7d2[_0x3217a7(0x1c6)](_0x220a86=>_0x220a86[_0x3217a7(0x1ab)]===path[_0x3217a7(0x1cf)](_0x26e897['filePath'])))try{_0x43e7d2[_0x3217a7(0x11f)]({'kind':_0x5b1bf3[_0x3217a7(0x1bd)],'timestamp':new Date()[_0x3217a7(0x156)](),'test_run_uuid':_0x4f1420,'file_name':path[_0x3217a7(0x1cf)](_0x26e897[_0x3217a7(0x1e6)]),'file_size':fs[_0x3217a7(0x198)](_0x26e897[_0x3217a7(0x1e6)])[_0x3217a7(0x13f)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x1244d5){logger[_0x3217a7(0x13c)](_0x3217a7(0x1eb)+_0x26e897[_0x3217a7(0x1e6)]+_0x3217a7(0x162)+_0x1244d5[_0x3217a7(0x1c5)]);}});if(_0x5b1bf3[_0x3b80c7(0x1d0)](_0x43e7d2[_0x3b80c7(0x132)],0x0)){const _0x57d5b8=_0x321171[TestFrameworkConstants[_0x3b80c7(0x192)]]||[];_0x321171[TestFrameworkConstants[_0x3b80c7(0x192)]]=[..._0x57d5b8,..._0x43e7d2];}const _0x5c37bf=TestInfo[_0x3b80c7(0x189)](_0x43cd52)[TestFrameworkConstants[_0x3b80c7(0x1e5)]]||{},_0x4735d4=_0x5b1bf3[_0x3b80c7(0x15b)](getManualUploadLogs,_0x5c37bf,_0x2fc67b[_0x3b80c7(0x19f)]()['get'](_0x43cd52)[TestFrameworkConstants['KEY_TEST_UUID']]);if(_0x5b1bf3[_0x3b80c7(0x17d)](_0x4735d4['length'],0x0)){const _0x599ee7=_0x321171[TestFrameworkConstants[_0x3b80c7(0x192)]]||[];_0x321171[TestFrameworkConstants[_0x3b80c7(0x192)]]=[..._0x599ee7,..._0x4735d4];}const _0x1747e0=_0x36adad[_0x3b80c7(0x1b1)]||[],_0x5a9cd5=_0x321171[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{};_0x1747e0['forEach'](_0x3ec34e=>{const _0x428caf=_0x3b80c7,{type:_0x8208ac}=_0x3ec34e;let _0x2b453e=_0x3ec34e[_0x428caf(0x11b)];if(!_0x8208ac)return;(_0x5b1bf3[_0x428caf(0x15c)](_0x2b453e,undefined)||_0x5b1bf3[_0x428caf(0x15c)](_0x2b453e,null)||_0x5b1bf3[_0x428caf(0x15e)](_0x5b1bf3[_0x428caf(0x1af)](String,_0x2b453e)['trim'](),''))&&(_0x2b453e=_0x5b1bf3[_0x428caf(0x152)]);if(!_0x5a9cd5[_0x8208ac]){const _0x6a8cb={};_0x6a8cb[_0x428caf(0x12b)]=_0x5b1bf3[_0x428caf(0x186)],_0x6a8cb['values']=[],_0x5a9cd5[_0x8208ac]=_0x6a8cb;}else!_0x5a9cd5[_0x8208ac][_0x428caf(0x12b)]&&(_0x5a9cd5[_0x8208ac]['field_type']=_0x5b1bf3[_0x428caf(0x186)]),!Array[_0x428caf(0x166)](_0x5a9cd5[_0x8208ac][_0x428caf(0x1bc)])&&(_0x5a9cd5[_0x8208ac][_0x428caf(0x1bc)]=[]);const _0x142606=_0x5b1bf3[_0x428caf(0x1dc)](String,_0x2b453e)[_0x428caf(0x127)](',')[_0x428caf(0x120)](_0x36ab65=>_0x36ab65[_0x428caf(0x145)]());_0x5a9cd5[_0x8208ac][_0x428caf(0x1bc)]=[...new Set([..._0x5a9cd5[_0x8208ac][_0x428caf(0x1bc)],..._0x142606])];}),_0x321171[TestFrameworkConstants[_0x3b80c7(0x124)]]=_0x5a9cd5,TestInfo[_0x3b80c7(0x1c9)](_0x43cd52,_0x321171);const _0x5d2461={};return _0x5d2461[_0x43cd52]=_0x321171,_0x5d2461;}async[a63_0x8d6500(0x18a)](_0x192289,_0x302162,_0x35c48b,_0x118630){const _0x149ce6=a63_0x8d6500,_0x134053={'hUZiY':function(_0x54d5af,_0x21286d){return _0x54d5af in _0x21286d;},'EYQOR':function(_0x58cf92,_0x17c834){return _0x58cf92 in _0x17c834;},'fXjRA':function(_0x5909d1,_0x212e15){return _0x5909d1(_0x212e15);},'SBlTv':function(_0x193d54,_0x2f7068){return _0x193d54===_0x2f7068;},'TVpyy':function(_0x4cb2c9){return _0x4cb2c9();},'wJGqB':function(_0x5a52e9,_0x591354){return _0x5a52e9===_0x591354;},'qiULi':function(_0xf8bd96,_0x639d5e){return _0xf8bd96>_0x639d5e;},'kYMlS':function(_0x2d1ec3,_0x2e94ee,_0x20b30c){return _0x2d1ec3(_0x2e94ee,_0x20b30c);},'YhlWL':_0x149ce6(0x1c8),'xsZhf':function(_0xac39a,_0x16f289){return _0xac39a(_0x16f289);},'HjHWB':function(_0x472015,_0x3bf55a){return _0x472015(_0x3bf55a);},'ayZNV':'failed','Drinr':_0x149ce6(0x1db),'uhucf':function(_0x149a13,_0x379232){return _0x149a13!==_0x379232;},'MNUuB':function(_0x452745,_0x2023e4){return _0x452745+_0x2023e4;},'wEPnN':_0x149ce6(0x175)},_0x3901e4=_0x118630[_0x149ce6(0x1d8)],_0x328a50=_0x118630[_0x149ce6(0x16a)],_0x5d90ad=_0x118630['test']['id'],_0x2a2f67=_0x302162[_0x149ce6(0x187)]()[_0x149ce6(0x127)]('.')[0x1];let _0x5c96af=_0x192289['getAllData']()['get'](_0x5d90ad)[TestFrameworkConstants[_0x149ce6(0x125)]];!_0x5c96af&&(_0x5c96af={});!_0x134053[_0x149ce6(0x1b8)](_0x2a2f67,_0x5c96af)&&(_0x5c96af[_0x2a2f67]=[]);let _0x150c0b=_0x192289[_0x149ce6(0x19f)]()[_0x149ce6(0x1ec)](_0x5d90ad)[TestFrameworkConstants[_0x149ce6(0x1e3)]];!_0x150c0b&&(_0x150c0b={});!_0x134053['EYQOR'](_0x2a2f67,_0x150c0b)&&(_0x150c0b[_0x2a2f67]=[]);const _0x292350={[TestFrameworkConstants[_0x149ce6(0x125)]]:_0x5c96af,[TestFrameworkConstants['KEY_HOOKS_FINISHED']]:_0x150c0b},_0x5049fc={};_0x5049fc[_0x5d90ad]=_0x292350;const _0x5c485a=_0x5049fc,_0x5c350a=_0x134053[_0x149ce6(0x1e1)](getPlaywrightTestFilePath,_0x3901e4),_0x34350b=_0x5c350a+':'+_0x134053['fXjRA'](getPlaywrightTestLocation,_0x3901e4),_0x5efffd=TestInfo[_0x149ce6(0x189)](_0x5d90ad)[TestFrameworkConstants[_0x149ce6(0x124)]]||{};if(_0x134053[_0x149ce6(0x1c4)](_0x35c48b,HookState['PRE'])){const _0xe555eb={'key':_0x2a2f67,[TestFrameworkConstants['KEY_HOOK_ID']]:_0x134053[_0x149ce6(0x1b5)](uuidv4),[TestFrameworkConstants[_0x149ce6(0x139)]]:TestFrameworkConstants['DEFAULT_HOOK_RESULT'],[TestFrameworkConstants[_0x149ce6(0x12d)]]:_0x328a50[_0x149ce6(0x142)],[TestFrameworkConstants[_0x149ce6(0x11e)]]:[],[TestFrameworkConstants['KEY_HOOK_NAME']]:_0x328a50[_0x149ce6(0x133)],[TestFrameworkConstants['KEY_TEST_FILE_PATH']]:_0x5c350a,[TestFrameworkConstants[_0x149ce6(0x17e)]]:_0x34350b,[TestFrameworkConstants[_0x149ce6(0x124)]]:_0x5efffd};_0x5c96af[_0x2a2f67]['push'](_0xe555eb),_0x5c485a[_0x5d90ad][TestFrameworkConstants[_0x149ce6(0x1ee)]]=_0x2a2f67,logger['debug']('Hook\x20Started\x20in\x20PRE\x20key\x20=\x20'+_0x2a2f67+_0x149ce6(0x1ed)+_0xe555eb+_0x149ce6(0x14e)+_0x118630);}else{if(_0x134053[_0x149ce6(0x11d)](_0x35c48b,HookState[_0x149ce6(0x170)])){const _0x579d3a=await _0x118630['result'],_0x3c6306=_0x5c96af[_0x2a2f67]||[],_0x97f75d=_0x118630[_0x149ce6(0x16a)];logger[_0x149ce6(0x174)](_0x149ce6(0x165)+_0x3c6306+_0x149ce6(0x16c)+_0x118630);if(_0x134053[_0x149ce6(0x190)](_0x3c6306['length'],0x0)){const _0x4df7b8=_0x3c6306[_0x149ce6(0x161)]();if(_0x97f75d[_0x149ce6(0x13c)]){const _0x2e7148=_0x134053['kYMlS'](failureData,_0x97f75d['error'],_0x134053[_0x149ce6(0x196)]);_0x4df7b8[TestFrameworkConstants[_0x149ce6(0x13d)]]=_0x134053['xsZhf'](getFailureType,_0x97f75d?.[_0x149ce6(0x13c)][_0x149ce6(0x1c5)]),_0x4df7b8[TestFrameworkConstants[_0x149ce6(0x172)]]=_0x134053[_0x149ce6(0x17f)](removeAnsiColors,_0x97f75d?.[_0x149ce6(0x13c)]['message']),_0x4df7b8[TestFrameworkConstants['KEY_HOOK_RESULT']]=_0x134053[_0x149ce6(0x1c2)],_0x4df7b8[TestFrameworkConstants[_0x149ce6(0x19a)]]=_0x2e7148;}else _0x4df7b8[TestFrameworkConstants['KEY_HOOK_RESULT']]=_0x134053[_0x149ce6(0x18c)];_0x134053[_0x149ce6(0x19c)](_0x579d3a,TestFrameworkConstants[_0x149ce6(0x19e)])&&(_0x4df7b8[TestFrameworkConstants[_0x149ce6(0x139)]]=!_0x97f75d['error']?_0x134053[_0x149ce6(0x18c)]:_0x134053[_0x149ce6(0x1c2)]);const _0x35095c=new Date(_0x97f75d[_0x149ce6(0x142)]),_0x4ec652=new Date(_0x134053['MNUuB'](_0x35095c[_0x149ce6(0x17a)](),_0x97f75d[_0x149ce6(0x12f)]));_0x4df7b8[TestFrameworkConstants[_0x149ce6(0x1e8)]]=_0x4ec652[_0x149ce6(0x156)](),_0x4df7b8[TestFrameworkConstants[_0x149ce6(0x124)]]=_0x5efffd;const _0x5b89dc=_0x4df7b8[TestFrameworkConstants['KEY_HOOK_ID']];await this['sendLogCreatedEvent'](_0x192289,_0x302162,_0x5b89dc,_0x134053['wEPnN'],_0x118630),!_0x150c0b[_0x2a2f67]&&(_0x150c0b[_0x2a2f67]=[]),_0x150c0b[_0x2a2f67][_0x149ce6(0x11f)](_0x4df7b8),_0x5c485a[_0x5d90ad][TestFrameworkConstants[_0x149ce6(0x1c1)]]=_0x2a2f67;}}}return _0x5c485a;}async['sendLogCreatedEvent'](_0x2efe15,_0x25179f,_0x717a28,_0x8e1115,_0x5ceee5){const _0x3560c2=a63_0x8d6500,_0x59f75b={'FIikK':function(_0x48d9a0,_0x163495){return _0x48d9a0===_0x163495;},'aWxFd':_0x3560c2(0x1d8),'qGQZp':function(_0x320e50,_0x15391a,_0x12bd5e){return _0x320e50(_0x15391a,_0x12bd5e);},'wquby':function(_0x1692d6,_0x430d36,_0x4a4734,_0x11882a){return _0x1692d6(_0x430d36,_0x4a4734,_0x11882a);},'QhKOl':function(_0xc62704,_0x1bd842,_0x2b094f,_0x27e429,_0x3e0ac2){return _0xc62704(_0x1bd842,_0x2b094f,_0x27e429,_0x3e0ac2);},'dSyyU':function(_0x4d25ed,_0x56e026,_0x3ce160,_0x1f3f5d){return _0x4d25ed(_0x56e026,_0x3ce160,_0x1f3f5d);},'fcTpf':_0x3560c2(0x175)};try{if(_0x59f75b[_0x3560c2(0x1a5)](_0x8e1115,_0x59f75b['aWxFd'])){const _0x130842=await _0x5ceee5[_0x3560c2(0x1c7)],_0x4761c9=_0x5ceee5[_0x3560c2(0x1d8)]['id'],_0xf21f3f=_0x5ceee5['test'];logger['debug'](_0x3560c2(0x176)+_0x4761c9);const _0x341285=_0x2efe15[_0x3560c2(0x19f)]()[_0x3560c2(0x1ec)](_0x4761c9)[TestFrameworkConstants[_0x3560c2(0x1a3)]];await _0x59f75b[_0x3560c2(0x1dd)](sendTraceZip,_0x130842,_0x341285);const {steps:_0x2a821f,logs:_0x43923e}=_0x59f75b[_0x3560c2(0x1d5)](getStepsAndLogs,_0x130842[_0x3560c2(0x18b)],_0x2efe15[_0x3560c2(0x19f)]()[_0x3560c2(0x1ec)](_0x4761c9)[TestFrameworkConstants[_0x3560c2(0x1a3)]],_0x59f75b[_0x3560c2(0x1d7)]),_0x47cf6c=_0x59f75b[_0x3560c2(0x1dd)](getScreenshots,_0x130842,_0x2efe15[_0x3560c2(0x19f)]()[_0x3560c2(0x1ec)](_0x4761c9)[TestFrameworkConstants[_0x3560c2(0x1a3)]]),{_:_0x2cebc3,logs:_0x255956}=_0x59f75b[_0x3560c2(0x1dd)](getFailureData,_0x130842['errors'],{'test_run_uuid':_0x2efe15[_0x3560c2(0x19f)]()['get'](_0x4761c9)[TestFrameworkConstants[_0x3560c2(0x1a3)]]}),_0x466562=TestInfo[_0x3560c2(0x189)](_0x4761c9)[TestFrameworkConstants[_0x3560c2(0x1e5)]]||{},_0x2af684=_0x59f75b[_0x3560c2(0x1dd)](getMediaArtifactsLogs,_0x466562,_0x2efe15[_0x3560c2(0x19f)]()[_0x3560c2(0x1ec)](_0x4761c9)[TestFrameworkConstants['KEY_TEST_UUID']]),_0x3bed10=_0x2efe15[_0x3560c2(0x19f)]()[_0x3560c2(0x1ec)](_0x4761c9),{[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x4ba5c7='',[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x520d2f=''}=_0x3bed10,_0x3e5fec={'platformIndex':'0','logs':[..._0x43923e||[],..._0x47cf6c||[],..._0x255956||[],..._0x2af684||[]],'testFrameworkName':_0x4ba5c7,'testFrameworkVersion':_0x520d2f,'testFrameworkState':_0x25179f[_0x3560c2(0x187)]()[_0x3560c2(0x127)]('.')[0x1]};_0x59f75b['QhKOl'](updatePayloadForTraceLogs,_0x3e5fec,_0x5ceee5,_0x4761c9,_0x2efe15),logger[_0x3560c2(0x174)](_0x3560c2(0x135)+_0x4761c9+_0x3560c2(0x150)+util[_0x3560c2(0x194)](_0x3e5fec));const _0x417070=await GrpcClient[_0x3560c2(0x1b4)]()[_0x3560c2(0x144)](_0x3e5fec);}else{const {steps:_0x57f285,logs:_0x4768bb}=_0x59f75b[_0x3560c2(0x180)](getStepsAndLogs,_0x5ceee5[_0x3560c2(0x16a)][_0x3560c2(0x18b)],_0x717a28,_0x59f75b[_0x3560c2(0x1de)]),_0x256efb=_0x5ceee5[_0x3560c2(0x1d8)]['id'];logger['debug']('sendLogCreatedEvent:\x20testId='+_0x256efb);const _0x442fc8=_0x2efe15['getAllData']()[_0x3560c2(0x1ec)](_0x256efb),{[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x1f7ffd='',[TestFrameworkConstants[_0x3560c2(0x164)]]:_0x2ca2a1=''}=_0x442fc8,_0x29e1fa={'platformIndex':'0','logs':_0x4768bb,'testFrameworkName':_0x1f7ffd,'testFrameworkVersion':_0x2ca2a1,'testFrameworkState':_0x25179f[_0x3560c2(0x187)]()[_0x3560c2(0x127)]('.')[0x1]};_0x59f75b[_0x3560c2(0x15f)](updatePayloadForTraceLogs,_0x29e1fa,_0x5ceee5,_0x256efb,_0x2efe15),logger[_0x3560c2(0x174)]('sendLogCreatedEvent\x20for\x20testId:\x20'+_0x256efb+_0x3560c2(0x150)+util[_0x3560c2(0x194)](_0x29e1fa));const _0x418382=await GrpcClient[_0x3560c2(0x1b4)]()['logCreatedEvent'](_0x29e1fa);}}catch(_0x51ab31){logger[_0x3560c2(0x13c)](_0x3560c2(0x1cc)+util[_0x3560c2(0x1e4)](_0x51ab31));}}}function a63_0x36d7(){const _0x39b787=['10LaytFx','DEFAULT_HOOK_RESULT','getAllData','../../../../src/helpers/helper','493580lPhQOT','../state/hookState.js','KEY_TEST_UUID','../../playwright/reporter/pwUtils','FIikK','KEY_TEST_FRAMEWORK_NAME','KEY_TEST_FILE_PATH','trackEvent','path','sendLogCreatedEvent','file_name','getTestFrameworks','getTestFrameworksVersions','LnPXg','CfTSd','parsePlaywrightTestResult','annotations','stack','nnkQg','getInstance','TVpyy','nGrLB','KEY_TEST_SCOPE','hUZiY','CHriR','getTestUUID','23116383fFJYZA','values','HmBHK','38990fSSMhv','iTKHf','../../utils/constants','KEY_HOOK_LAST_FINISHED','ayZNV','expectedStatus','SBlTv','message','some','result','err','setTestDetails','yuSfk','Nuffw','Error\x20in\x20sendLogCreatedEvent:\x20','trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20','../TestInfo.js','basename','azALC','skipped','fuAhW','ssOgh','../../../helpers/test-observability/utils','wquby','../../../helpers/helper.js','aWxFd','test','Expected\x20to\x20fail,\x20but\x20passed.','qIyVF','passed','xZIMs','qGQZp','fcTpf','nWpvT','RjPFN','fXjRA','runHooks','KEY_HOOKS_FINISHED','format','KEY_TEST_ATTACHMENTS','filePath','createContext','KEY_EVENT_ENDED_AT','KEY_TEST_ENDED_AT','EJyBy','Error\x20processing\x20trace\x20file\x20','get','\x20&\x20hook\x20=\x20','KEY_HOOK_LAST_STARTED','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','1884zwTDjZ','description','moVbs','wJGqB','KEY_HOOK_LOGS','push','map','DEFAULT_TEST_RESULT','parsePlaywrightTest','XgmZz','KEY_CUSTOM_TAGS','KEY_HOOKS_STARTED','errors','split','IudeY','KEY_AUTOMATE_SESSION_NAME','KEY_TEST_STARTED_AT','field_type','getTraceFilePaths','KEY_EVENT_STARTED_AT','BHdmP','duration','status','AAWIn','length','title','PRE','sendLogCreatedEvent\x20for\x20testId:\x20','trackEvent:\x20found\x20instance,\x20testFrameworkState=','trackPlaywrightInstance','276VQkvvd','KEY_HOOK_RESULT','parsePlaywrightTestResult:\x20testId=','multi_dropdown','error','KEY_HOOK_FAILURE_TYPE','uAGmV','size','resolveInstance','TEST','startTime','testUId','logCreatedEvent','trim','KEY_TEST_ID','vtsVn','2200EhAuDM','8271990MasRXX','KEY_TEST_FAILURE_TYPE','timedOut','\x20instanceId=','KEY_TEST_NAME','\x20\x20and\x20args\x20=\x20','TEST_ATTACHMENT','\x20payload=','ozjlM','UQDIE','Error\x20processing\x20direct\x20trace\x20file\x20','getCurrentInstanceName','VALru','toISOString','addMultipleEntries','KEY_TEST_CODE','KEY_TEST_RESULT_AT','\x20testHookState=','ihYkp','JZUsD','matchHookRegex','Ggvvl','QhKOl','../../../helpers/classLogger.js','pop','\x20from\x20TestDetails:\x20','filter','KEY_TEST_FRAMEWORK_VERSION','Hook\x20List\x20in\x20Post\x20','isArray','exports','./testFramework','tzHzk','step',',\x20state=','\x20and\x20args\x20=\x20','failed','../cliUtils.js','KEY_TEST_SCOPES','POST','DOkdR','KEY_HOOK_FAILURE_REASON',',\x20testFrameworkState=','debug','hook','sendLogCreatedEvent:\x20testId=','info','KEY_TEST_FAILURE','Zoxvw','getTime','RZhaX','results','EdZOX','KEY_TEST_LOCATION','HjHWB','dSyyU','KEY_TEST_RERUN_NAME','MZxqV','No\x20reason\x20provided','forEach','INIT_TEST','SjVrp','toString','getTrackedInstance','getTestDetails','trackHookEvent','steps','Drinr','getRef','34041rJXfcN','9909008oaLZsH','qiULi','getId','KEY_LOGS','lDlys','inspect','trackPlaywrightInstance:\x20created\x20instance\x20for\x20target=','YhlWL','NONE','statSync','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','KEY_HOOK_FAILURE','KEY_TEST_RESULT','uhucf'];a63_0x36d7=function(){return _0x39b787;};return a63_0x36d7();}function a63_0x5aca(_0x518973,_0x211fbb){const _0x36d7e1=a63_0x36d7();return a63_0x5aca=function(_0x5aca96,_0x3698b6){_0x5aca96=_0x5aca96-0x119;let _0x19caec=_0x36d7e1[_0x5aca96];return _0x19caec;},a63_0x5aca(_0x518973,_0x211fbb);}module[a63_0x8d6500(0x167)]=PlaywrightTestFramework;