const a68_0x26dd61=a68_0x1f27;(function(_0x3b675c,_0x419bff){const _0x2f1eaf=a68_0x1f27,_0x583c8a=_0x3b675c();while(!![]){try{const _0x96e5c7=-parseInt(_0x2f1eaf(0x1f1))/0x1+parseInt(_0x2f1eaf(0x1b4))/0x2+parseInt(_0x2f1eaf(0x175))/0x3+parseInt(_0x2f1eaf(0x172))/0x4+-parseInt(_0x2f1eaf(0x16e))/0x5+-parseInt(_0x2f1eaf(0x1c9))/0x6+-parseInt(_0x2f1eaf(0x1dd))/0x7*(-parseInt(_0x2f1eaf(0x1ca))/0x8);if(_0x96e5c7===_0x419bff)break;else _0x583c8a['push'](_0x583c8a['shift']());}catch(_0x30ef3c){_0x583c8a['push'](_0x583c8a['shift']());}}}(a68_0x9d34,0xeb622));function a68_0x9d34(){const _0x3d9e59=['endedAt','KEY_TEST_UUID','testData','vhFch','wCDds','1913872sYJBvs','args','failure_reason','hookData','getPendingHooks','addMultipleEntries','addPendingHook','../grpcClient','testFrameworkVersion','base64','createContext','testFrameworkName','CucumberTestFramework','sendLogCreatedEvent:\x20for\x20testId:\x20','KEY_HOOK_FAILURE_REASON','toString','GBNfX','KEY_TEST_RERUN_NAME','Updated\x20cucumber\x20test\x20result:\x20','vsPGB','finished_at','setTestDetails','\x20batch\x20','KEY_LOGS','KEY_EVENT_ENDED_AT','testUUID','\x20\x20and\x20args\x20=\x20','sendLogCreatedEvent:\x20No\x20logs\x20found,\x20skipping','startedAt','test_run_id','../state/hookState.js','result','storePendingHook','KEY_HOOK_FAILURE','UTbxf','KEY_TEST_RESULT_AT','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test','Parsed\x20cucumber\x20test:\x20','../state/testFrameworkState.js','\x20with\x20result:\x20','Vfrer','No\x20hook\x20data\x20provided\x20for\x20cucumber\x20hook\x20event','getRef','rerun_name','../instances/testFrameworkInstance.js','KEY_HOOKS_STARTED','matchHookRegex','split','getId','getCurrentTestState','getAllData','debug','PRE','createTestFrameworkEventPayload:\x20complete\x20for\x20testId:\x20','NONE','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','iUhTz','LOG_REPORT','\x20&\x20hook\x20=\x20','__workerDetails','JTbIG','KEY_TEST_FAILURE','KEY_HOOK_LAST_STARTED','body','INIT_TEST','file_name','KEY_TEST_FRAMEWORK_NAME','pop','test','\x20payload=','KEY_TEST_CODE','KEY_CUSTOM_TAGS','customRerunParam','KEY_TEST_SCOPES','util','failure_type','KEY_EVENT_STARTED_AT','POST','parseCucumberTest','6201890hRDcCY','getTestFrameworksVersions','platformIndex','workerInfo','3482912sgRAUn','sendLogCreatedEvent','UUmBg','128550KaXrKq','code','processPendingHooks','testFrameworkState','failure_data','getTestDetails','name','\x20and\x20args\x20=\x20','KEY_HOOK_ID','instance','toISOString',',\x20state:\x20','getInstance','format','uuid','JjUbW','KEY_HOOK_RESULT','scopes','\x20testState:\x20','oscfv','DEFAULT_TEST_RESULT','createTestFrameworkEventPayload\x20testId:\x20','mUuNa','trackEvent:\x20unsupported\x20testFrameworkState=','parseCucumberTestResult','getTestFrameworks','hooks','\x20pending\x20hooks\x20for\x20testId:\x20','trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20','passed','KEY_TEST_FILE_PATH','OpKGW','CpsRD','readLogObjects',',\x20error:\x20','KEY_TEST_ATTACHMENTS','EsuOk','IIUig','hasPendingHooks','KEY_TEST_FRAMEWORK_VERSION','KEY_HOOK_NAME','trackEvent','from','ceil','KEY_HOOK_FAILURE_TYPE','unknown','\x20&\x20hookState=','Error\x20processing\x20pending\x20hook\x20for\x20testId:\x20','createTestFrameworkEventPayload:\x20No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','tfdfT','sqVwT','../instances/trackedInstance.js','meta','parallelIndex','TEST','hookState','wxDyJ','getTestUUID','getContext','\x20with\x20id\x20','UnhandledError','KEY_TEST_STARTED_AT','xDWAm','1444866Doqhju','get','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test\x20result','inspect','trackHookEvent:\x20Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','./constants/testFrameworkConstants.js','KEY_TEST_META','Error\x20in\x20createTestFrameworkEventPayload:\x20','\x20response=','xbHlX','failed','../../../helpers/classLogger.js','TSzdA','location','../../../helpers/helper.js','getCurrentHookState','\x20hookState:\x20','KEY_TEST_SCOPE','KEY_TEST_ENDED_AT','../TestInfo.js','5047356CpFYCG','161144VQGkbS','KEY_TEST_RESULT','KEY_TEST_LOCATION','trackHookEvent','\x20for\x20test:\x20','QBkAa','\x20target=','Cucumber\x20log\x20created\x20event','trackCucumberInstance','GiGLG','hook_type','error','getThreadId','push','KEY_TEST_TAGS','keys','Stored\x20pending\x20hook\x20for\x20testId:\x20','trackHookEvent:\x20Hook\x20List\x20in\x20Post\x20','trackEvent:\x20Test\x20Framework\x20instance\x20not\x20found','1155mJVxLE','KEY_TEST_FAILURE_TYPE','SOTVa','resolveInstance','KEY_TEST_LOGS','KEY_HOOKS_FINISHED','runHooks','length','./testFramework','DEFAULT_HOOK_RESULT','getTrackedInstance','UBOes','slice','eventJson','getProcessId'];a68_0x9d34=function(){return _0x3d9e59;};return a68_0x9d34();}function a68_0x1f27(_0x587da1,_0x50cd39){const _0x9d34b7=a68_0x9d34();return a68_0x1f27=function(_0x1f27ab,_0x3abfec){_0x1f27ab=_0x1f27ab-0x150;let _0x3622d1=_0x9d34b7[_0x1f27ab];return _0x3622d1;},a68_0x1f27(_0x587da1,_0x50cd39);}const TestFramework=require(a68_0x26dd61(0x1e5)),TestFrameworkState=require(a68_0x26dd61(0x217)),HookState=require(a68_0x26dd61(0x20f)),{createClassLogger}=require(a68_0x26dd61(0x1c0)),TestFrameworkInstance=require(a68_0x26dd61(0x21d)),CLIUtils=require('../cliUtils.js'),TrackedInstance=require(a68_0x26dd61(0x1a8)),TestFrameworkConstants=require(a68_0x26dd61(0x1ba)),{getManualUploadLogs,getMediaArtifactsLogs}=require(a68_0x26dd61(0x1c3)),logger=createClassLogger(a68_0x26dd61(0x1fd)),{v4:uuidv4}=require(a68_0x26dd61(0x183)),util=require(a68_0x26dd61(0x169)),TestInfo=require(a68_0x26dd61(0x1c8)),GrpcClient=require(a68_0x26dd61(0x1f8));class CucumberTestFramework extends TestFramework{constructor(_0x3a9ff6,_0x46ed96,_0xdac1f7){super(_0x3a9ff6,_0x46ed96,_0xdac1f7);}async[a68_0x26dd61(0x19e)](_0x3cd14d,_0xd4b2f9,_0x2755e8={}){const _0x2a9965=a68_0x26dd61,_0x40f5ff={};_0x40f5ff['sqVwT']=_0x2a9965(0x1dc),_0x40f5ff[_0x2a9965(0x188)]=function(_0x2e6182,_0x2c5842){return _0x2e6182===_0x2c5842;},_0x40f5ff[_0x2a9965(0x1ef)]=function(_0x5bca80,_0x364a4d){return _0x5bca80===_0x364a4d;},_0x40f5ff[_0x2a9965(0x1e8)]=function(_0x5b0648,_0x17b4cd){return _0x5b0648===_0x17b4cd;},_0x40f5ff[_0x2a9965(0x15b)]=_0x2a9965(0x1b9);const _0x3d878b=_0x40f5ff;await super[_0x2a9965(0x19e)](_0x3cd14d,_0xd4b2f9,_0x2755e8);const _0x5c0af7=this[_0x2a9965(0x1e0)](_0x3cd14d,_0xd4b2f9,_0x2755e8);if(!_0x5c0af7){logger[_0x2a9965(0x152)](_0x3d878b[_0x2a9965(0x1a7)]);return;}try{let _0x38042b,_0x4c27ad;switch(_0x3cd14d){case TestFrameworkState[_0x2a9965(0x1ab)]:_0x38042b=_0x2755e8[_0x2a9965(0x163)],_0x4c27ad=TestInfo[_0x2a9965(0x1ae)](_0x38042b['id']);if(_0x3d878b[_0x2a9965(0x188)](_0xd4b2f9,HookState[_0x2a9965(0x153)])){logger['debug'](_0x2a9965(0x156)+_0x38042b['id']);const _0x437dcb={};_0x437dcb[_0x2a9965(0x20a)]=_0x4c27ad,_0x437dcb[_0x2a9965(0x1ee)]=_0x38042b,_0x5c0af7[_0x2a9965(0x1f6)](this[_0x2a9965(0x16d)](_0x437dcb)),logger['debug'](_0x2a9965(0x191)+_0x38042b['id']),await this[_0x2a9965(0x177)](_0x5c0af7,_0x38042b['id']);}else{if(_0x3d878b[_0x2a9965(0x1ef)](_0xd4b2f9,HookState[_0x2a9965(0x16c)])){const _0x14eb21={};_0x14eb21[_0x2a9965(0x20a)]=_0x4c27ad,_0x14eb21[_0x2a9965(0x1ee)]=_0x38042b,_0x5c0af7[_0x2a9965(0x1f6)](this['parseCucumberTestResult'](_0x14eb21)),await this[_0x2a9965(0x177)](_0x5c0af7,_0x38042b['id']);}}break;case TestFrameworkState[_0x2a9965(0x158)]:_0x3d878b[_0x2a9965(0x1e8)](_0xd4b2f9,HookState[_0x2a9965(0x16c)])&&await this[_0x2a9965(0x173)](_0x5c0af7,_0x3cd14d,_0x2755e8);break;default:if(CLIUtils[_0x2a9965(0x21f)](_0x3cd14d[_0x2a9965(0x200)]()[_0x2a9965(0x220)]('.')[0x1])){const _0x3942d8=await this[_0x2a9965(0x1cd)](_0x5c0af7,_0x3cd14d,_0xd4b2f9,_0x2755e8);_0x5c0af7['addMultipleEntries'](_0x3942d8);}else logger[_0x2a9965(0x152)](_0x2a9965(0x18c)+_0x3cd14d+_0x2a9965(0x1a3)+_0xd4b2f9);break;}}catch(_0x1e04d8){logger[_0x2a9965(0x1d5)](util[_0x2a9965(0x182)](_0x3d878b[_0x2a9965(0x15b)],_0x3cd14d,_0xd4b2f9,_0x2755e8['length'],_0x1e04d8));}_0x2755e8[_0x2a9965(0x17e)]=_0x5c0af7,await this[_0x2a9965(0x1e3)](_0x5c0af7,_0x3cd14d,_0xd4b2f9,_0x2755e8);}['resolveInstance'](_0x1bcd6c,_0x1a5204,_0x38908f={}){const _0x1fa6e9=a68_0x26dd61,_0x2dfd45={};_0x2dfd45[_0x1fa6e9(0x1f0)]=function(_0x3aa2fc,_0x4d60e2){return _0x3aa2fc===_0x4d60e2;};const _0x19e9cf=_0x2dfd45;let _0x2015a2=null;return(_0x19e9cf[_0x1fa6e9(0x1f0)](_0x1bcd6c,TestFrameworkState[_0x1fa6e9(0x15f)])||_0x19e9cf['wCDds'](_0x1bcd6c,TestFrameworkState[_0x1fa6e9(0x155)]))&&this[_0x1fa6e9(0x1d2)](_0x1bcd6c,_0x38908f),_0x2015a2=TestFramework[_0x1fa6e9(0x1e7)](),_0x2015a2;}[a68_0x26dd61(0x1d2)](_0x319f24,_0x2e16f4){const _0x26aad6=a68_0x26dd61,_0x2a612e=CLIUtils['getCurrentInstanceName'](),_0x2fde70=TrackedInstance[_0x26aad6(0x1fb)](_0x2a612e);let _0x1800de=null;logger['debug']('trackCucumberInstance:\x20created\x20instance\x20for\x20target='+_0x2a612e+',\x20state='+_0x319f24),_0x1800de=new TestFrameworkInstance(_0x2fde70,this[_0x26aad6(0x18e)](),this[_0x26aad6(0x16f)](),_0x319f24,HookState[_0x26aad6(0x155)]),TestFramework['setTrackedInstance'](_0x2fde70,_0x1800de),logger['debug']('trackCucumberInstance:\x20saved\x20instance\x20contextId='+_0x2fde70[_0x26aad6(0x221)]()+_0x26aad6(0x1d0)+_0x2a612e);}[a68_0x26dd61(0x16d)](_0x15dc33){const _0x56e9a7=a68_0x26dd61,_0x456704={};_0x456704[_0x56e9a7(0x1a6)]=_0x56e9a7(0x215);const _0x37008a=_0x456704,{testUUID:_0x38c3d7,testData:_0x3706c2}=_0x15dc33;if(!_0x3706c2||!_0x3706c2[_0x56e9a7(0x183)])return logger[_0x56e9a7(0x152)](_0x37008a[_0x56e9a7(0x1a6)]),{};const _0x5080b1=_0x3706c2['uuid'],_0x259d7d=_0x3706c2[_0x56e9a7(0x183)],_0x120508=this[_0x56e9a7(0x18e)]()[0x0],_0x829c2=this[_0x56e9a7(0x16f)](),_0x15b27c={[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x120508,[TestFrameworkConstants[_0x56e9a7(0x19c)]]:_0x829c2[_0x120508],[TestFrameworkConstants[_0x56e9a7(0x1e1)]]:[],[TestFrameworkConstants[_0x56e9a7(0x1e2)]]:{},[TestFrameworkConstants[_0x56e9a7(0x21e)]]:{},[TestFrameworkConstants[_0x56e9a7(0x1ed)]]:_0x5080b1,[TestFrameworkConstants[_0x56e9a7(0x1cb)]]:TestFrameworkConstants[_0x56e9a7(0x189)],[TestFrameworkConstants['KEY_AUTOMATE_SESSION_NAME']]:_0x3706c2['name']||'',[TestFrameworkConstants[_0x56e9a7(0x193)]]:_0x3706c2[_0x56e9a7(0x160)]||'',[TestFrameworkConstants['KEY_TEST_ID']]:_0x259d7d,[TestFrameworkConstants['KEY_TEST_NAME']]:_0x3706c2[_0x56e9a7(0x17b)]||'',[TestFrameworkConstants[_0x56e9a7(0x1cc)]]:_0x3706c2[_0x56e9a7(0x1c2)]||'',[TestFrameworkConstants[_0x56e9a7(0x165)]]:_0x3706c2[_0x56e9a7(0x15e)]?.[_0x56e9a7(0x176)]||null,[TestFrameworkConstants[_0x56e9a7(0x1d8)]]:_0x3706c2['tags']||[],[TestFrameworkConstants[_0x56e9a7(0x1b2)]]:_0x3706c2['startedAt']||new Date()[_0x56e9a7(0x17f)](),[TestFrameworkConstants[_0x56e9a7(0x1c6)]]:_0x3706c2[_0x56e9a7(0x186)]?.[0x0]||'',[TestFrameworkConstants[_0x56e9a7(0x168)]]:_0x3706c2['scopes']||[],[TestFrameworkConstants[_0x56e9a7(0x202)]]:_0x3706c2[_0x56e9a7(0x167)]?.[_0x56e9a7(0x21c)]||_0x3706c2['name']||'',[TestFrameworkConstants[_0x56e9a7(0x166)]]:{},[TestFrameworkConstants[_0x56e9a7(0x1bb)]]:_0x3706c2['meta']||{}};TestInfo[_0x56e9a7(0x206)](_0x259d7d,_0x15b27c),logger[_0x56e9a7(0x152)](_0x56e9a7(0x216)+_0x3706c2['name']+'\x20with\x20UUID:\x20'+_0x5080b1);const _0x335146={};return _0x335146[_0x259d7d]=_0x15b27c,_0x335146;}[a68_0x26dd61(0x18d)](_0x535e2a){const _0x2ae52f=a68_0x26dd61,_0x45c180={'xbHlX':_0x2ae52f(0x1b6),'zeShM':_0x2ae52f(0x1a2),'AAfNC':function(_0xc60e3a,_0x165d6c){return _0xc60e3a===_0x165d6c;},'Vfrer':_0x2ae52f(0x1bf),'iUhTz':'UnhandledError','GBNfX':function(_0x58c456,_0xb3eeee,_0xc7b780){return _0x58c456(_0xb3eeee,_0xc7b780);},'QBkAa':function(_0x524489,_0x27603c){return _0x524489>_0x27603c;}},{testUUID:_0x5f13c5,testData:_0x44db47}=_0x535e2a;if(!_0x44db47||!_0x44db47[_0x2ae52f(0x183)])return logger[_0x2ae52f(0x152)](_0x45c180[_0x2ae52f(0x1be)]),{};const _0x3242b0=this[_0x2ae52f(0x1e0)](TestFrameworkState[_0x2ae52f(0x1ab)],HookState[_0x2ae52f(0x16c)]),_0x2d79da=_0x44db47[_0x2ae52f(0x183)],_0x23cb2e=TestInfo[_0x2ae52f(0x17a)](_0x2d79da)||{},_0xb2cb13=_0x23cb2e?_0x23cb2e[TestFrameworkConstants[_0x2ae52f(0x166)]]||{}:{},_0x33c86d={..._0x23cb2e,[TestFrameworkConstants[_0x2ae52f(0x1cb)]]:_0x44db47[_0x2ae52f(0x210)]||_0x45c180['zeShM'],[TestFrameworkConstants[_0x2ae52f(0x1c7)]]:_0x44db47['finishedAt']||new Date()[_0x2ae52f(0x17f)](),[TestFrameworkConstants[_0x2ae52f(0x214)]]:new Date()['toISOString'](),[TestFrameworkConstants[_0x2ae52f(0x166)]]:_0xb2cb13,[TestFrameworkConstants[_0x2ae52f(0x208)]]:[],[TestFrameworkConstants[_0x2ae52f(0x1bb)]]:_0x44db47[_0x2ae52f(0x1a9)]||{}};_0x45c180['AAfNC'](_0x44db47[_0x2ae52f(0x210)],_0x45c180[_0x2ae52f(0x219)])&&_0x44db47['failure']&&(_0x33c86d[TestFrameworkConstants[_0x2ae52f(0x1de)]]=_0x44db47[_0x2ae52f(0x16a)]||_0x45c180[_0x2ae52f(0x157)],_0x33c86d[TestFrameworkConstants['KEY_TEST_FAILURE_REASON']]=_0x44db47[_0x2ae52f(0x1f3)]||'',_0x33c86d[TestFrameworkConstants[_0x2ae52f(0x15c)]]=_0x44db47['failure']);const _0x151ee6=TestInfo['getTestDetails'](_0x2d79da)[TestFrameworkConstants[_0x2ae52f(0x198)]]||{},_0x52e4af=_0x45c180[_0x2ae52f(0x201)](getManualUploadLogs,_0x151ee6,_0x3242b0[_0x2ae52f(0x151)]()[_0x2ae52f(0x1b5)](_0x2d79da)[TestFrameworkConstants[_0x2ae52f(0x1ed)]]);if(_0x45c180[_0x2ae52f(0x1cf)](_0x52e4af['length'],0x0)){const _0x3af05f=_0x33c86d[TestFrameworkConstants[_0x2ae52f(0x208)]]||[];_0x33c86d[TestFrameworkConstants[_0x2ae52f(0x208)]]=[..._0x3af05f,..._0x52e4af];}_0x44db47['hooks']&&_0x45c180[_0x2ae52f(0x1cf)](_0x44db47[_0x2ae52f(0x18f)]['length'],0x0)&&(_0x33c86d[TestFrameworkConstants[_0x2ae52f(0x1e2)]]=_0x44db47[_0x2ae52f(0x18f)]);TestInfo['setTestDetails'](_0x2d79da,_0x33c86d),logger['debug'](_0x2ae52f(0x203)+_0x44db47[_0x2ae52f(0x17b)]+_0x2ae52f(0x218)+_0x44db47['result']);const _0x14c472={};return _0x14c472[_0x2d79da]=_0x33c86d,_0x14c472;}async[a68_0x26dd61(0x1cd)](_0x1360f6,_0xc4f692,_0x55e948,_0x49a363){const _0x4f78b2=a68_0x26dd61,_0x489a60={'vlaDF':_0x4f78b2(0x21a),'SOTVa':function(_0x514b09){return _0x514b09();},'jyLRE':function(_0xf3c9d5,_0x371770){return _0xf3c9d5 in _0x371770;},'ywSTK':function(_0x3771cb,_0x316f91){return _0x3771cb in _0x316f91;},'UUmBg':function(_0x517c4b,_0xbd4349){return _0x517c4b===_0xbd4349;},'OpKGW':function(_0x1a8909,_0x7b7709){return _0x1a8909>_0x7b7709;},'UTbxf':'failed','EsuOk':_0x4f78b2(0x1b1),'SPSTX':_0x4f78b2(0x192),'xDWAm':function(_0x44f588,_0x4b515a){return _0x44f588!==_0x4b515a;}},{hookData:_0x3cd9a2}=_0x49a363;if(!_0x3cd9a2)return logger[_0x4f78b2(0x152)](_0x489a60['vlaDF']),{};const _0x25157b=_0x3cd9a2[_0x4f78b2(0x183)]||_0x489a60[_0x4f78b2(0x1df)](uuidv4),_0x155380=_0x3cd9a2[_0x4f78b2(0x20e)],_0x144661=_0xc4f692[_0x4f78b2(0x200)]()[_0x4f78b2(0x220)]('.')[0x1],_0x4e6993=TestInfo[_0x4f78b2(0x17a)](_0x155380)[TestFrameworkConstants[_0x4f78b2(0x166)]]||{},_0x5a219b=_0x1360f6[_0x4f78b2(0x151)]()[_0x4f78b2(0x1b5)](_0x155380);if(!_0x5a219b)return logger[_0x4f78b2(0x152)]('No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20'+_0x155380+',\x20storing\x20as\x20pending\x20hook'),this[_0x4f78b2(0x211)](_0x1360f6,_0x155380,_0xc4f692,_0x55e948,_0x49a363),{};let _0x5c4a09=_0x5a219b[TestFrameworkConstants[_0x4f78b2(0x21e)]];!_0x5c4a09&&(_0x5c4a09={});!_0x489a60['jyLRE'](_0x144661,_0x5c4a09)&&(_0x5c4a09[_0x144661]=[]);let _0x5adc96=_0x5a219b[TestFrameworkConstants['KEY_HOOKS_FINISHED']];!_0x5adc96&&(_0x5adc96={});!_0x489a60['ywSTK'](_0x144661,_0x5adc96)&&(_0x5adc96[_0x144661]=[]);const _0x179705={[TestFrameworkConstants[_0x4f78b2(0x21e)]]:_0x5c4a09,[TestFrameworkConstants['KEY_HOOKS_FINISHED']]:_0x5adc96},_0x8109e9={};_0x8109e9[_0x155380]=_0x179705;const _0x3c405f=_0x8109e9;if(_0x489a60[_0x4f78b2(0x174)](_0x55e948,HookState[_0x4f78b2(0x153)])){const _0x1a594b={[TestFrameworkConstants['KEY_HOOK_ID']]:_0x25157b,[TestFrameworkConstants[_0x4f78b2(0x185)]]:TestFrameworkConstants[_0x4f78b2(0x1e6)],[TestFrameworkConstants[_0x4f78b2(0x16b)]]:_0x3cd9a2['started_at'],[TestFrameworkConstants['KEY_HOOK_LOGS']]:[],[TestFrameworkConstants[_0x4f78b2(0x19d)]]:_0x3cd9a2[_0x4f78b2(0x1d4)],[TestFrameworkConstants['KEY_CUSTOM_TAGS']]:_0x4e6993};_0x1a594b['key']=_0x144661;const _0x2bbe59=_0x1a594b;_0x5c4a09[_0x144661]['push'](_0x2bbe59),_0x3c405f[_0x155380][TestFrameworkConstants[_0x4f78b2(0x15d)]]=_0x144661,logger[_0x4f78b2(0x152)](_0x4f78b2(0x1b8)+_0x144661+_0x4f78b2(0x159)+_0x2bbe59+_0x4f78b2(0x20b)+_0x49a363);}else{if(_0x489a60[_0x4f78b2(0x174)](_0x55e948,HookState[_0x4f78b2(0x16c)])){const _0x3dbc66=_0x3cd9a2['result'],_0x4ca677=_0x5c4a09[_0x144661]||[];logger[_0x4f78b2(0x152)](_0x4f78b2(0x1db)+_0x4ca677+_0x4f78b2(0x17c)+_0x49a363);if(_0x489a60[_0x4f78b2(0x194)](_0x4ca677['length'],0x0)){const _0x56d4ac=_0x4ca677[_0x4f78b2(0x162)]();_0x489a60[_0x4f78b2(0x174)](_0x3cd9a2[_0x4f78b2(0x210)],_0x489a60[_0x4f78b2(0x213)])&&_0x3cd9a2[_0x4f78b2(0x179)]?(_0x56d4ac[TestFrameworkConstants[_0x4f78b2(0x1a1)]]=_0x3cd9a2[_0x4f78b2(0x16a)]||_0x489a60[_0x4f78b2(0x199)],_0x56d4ac[TestFrameworkConstants[_0x4f78b2(0x1ff)]]=_0x3cd9a2[_0x4f78b2(0x1f3)]||'',_0x56d4ac[TestFrameworkConstants[_0x4f78b2(0x212)]]=_0x3cd9a2[_0x4f78b2(0x179)]):_0x56d4ac[TestFrameworkConstants[_0x4f78b2(0x185)]]=_0x489a60['SPSTX'];_0x489a60[_0x4f78b2(0x1b3)](_0x3dbc66,TestFrameworkConstants[_0x4f78b2(0x1e6)])&&(_0x56d4ac[TestFrameworkConstants[_0x4f78b2(0x185)]]=_0x3dbc66);_0x56d4ac[TestFrameworkConstants[_0x4f78b2(0x209)]]=_0x3cd9a2[_0x4f78b2(0x205)]||new Date()[_0x4f78b2(0x17f)](),_0x56d4ac[TestFrameworkConstants[_0x4f78b2(0x166)]]=_0x4e6993;const _0x213e24=_0x56d4ac[TestFrameworkConstants[_0x4f78b2(0x17d)]];!_0x5adc96[_0x144661]&&(_0x5adc96[_0x144661]=[]),_0x5adc96[_0x144661][_0x4f78b2(0x1d7)](_0x56d4ac),_0x3c405f[_0x155380][TestFrameworkConstants['KEY_HOOK_LAST_FINISHED']]=_0x144661;}}}return logger['debug']('Tracked\x20cucumber\x20hook\x20event:\x20'+_0x3cd9a2['hook_type']+_0x4f78b2(0x1b0)+_0x25157b+_0x4f78b2(0x1ce)+_0x155380),_0x3c405f;}['createTestFrameworkEventPayload'](_0x3f1a92){const _0x130993=a68_0x26dd61,_0x4e2831={};_0x4e2831[_0x130993(0x19a)]=_0x130993(0x1fa);const _0x5950c8=_0x4e2831;try{const _0x5e84cd=_0x3f1a92['test']?_0x3f1a92[_0x130993(0x163)]['id']:_0x3f1a92[_0x130993(0x1f4)][_0x130993(0x20e)],_0x40babb=_0x3f1a92[_0x130993(0x17e)],_0x633546=_0x40babb[_0x130993(0x1af)](),_0x2e37aa=_0x40babb[_0x130993(0x151)]()[_0x130993(0x1b5)](_0x5e84cd);if(!_0x2e37aa)return logger[_0x130993(0x152)](_0x130993(0x1a5)+_0x5e84cd),{};logger[_0x130993(0x152)](_0x130993(0x18a)+_0x5e84cd);const {[TestFrameworkConstants[_0x130993(0x161)]]:_0x51d960='',[TestFrameworkConstants[_0x130993(0x19c)]]:_0x18ec5f='',[TestFrameworkConstants[_0x130993(0x1b2)]]:_0x4b6997='',[TestFrameworkConstants[_0x130993(0x1c7)]]:_0x2f5495=''}=_0x2e37aa,_0x217796=_0x40babb[_0x130993(0x150)]()[_0x130993(0x200)]()['split']('.')[0x1],_0x58c3a9=_0x40babb[_0x130993(0x1c4)]()[_0x130993(0x200)]()[_0x130993(0x220)]('.')[0x1],_0x5eaffe=global?.[_0x130993(0x15a)]?.[_0x130993(0x171)]?.[_0x130993(0x1aa)],_0x3d519b=_0x40babb[_0x130993(0x21b)](),_0x1cabdc=Buffer[_0x130993(0x19f)](JSON['stringify'](_0x2e37aa))[_0x130993(0x200)](_0x5950c8[_0x130993(0x19a)]),_0xf960f8={'hash':_0x633546[_0x130993(0x221)](),'threadId':_0x633546[_0x130993(0x1d6)]()[_0x130993(0x200)](),'processId':_0x633546[_0x130993(0x1eb)]()[_0x130993(0x200)]()},_0x42f303={};_0x42f303[_0x130993(0x170)]=_0x5eaffe,_0x42f303[_0x130993(0x1fc)]=_0x51d960,_0x42f303[_0x130993(0x1f9)]=_0x18ec5f,_0x42f303['testFrameworkState']=_0x217796,_0x42f303['hookState']=_0x58c3a9,_0x42f303[_0x130993(0x20d)]=_0x4b6997,_0x42f303[_0x130993(0x1ec)]=_0x2f5495,_0x42f303[_0x130993(0x183)]=_0x3d519b,_0x42f303[_0x130993(0x1ea)]=_0x1cabdc,_0x42f303['executionContext']=_0xf960f8;const _0x5bb836=_0x42f303;return logger[_0x130993(0x152)](_0x130993(0x154)+_0x5e84cd+_0x130993(0x187)+_0x217796+_0x130993(0x1c5)+_0x58c3a9),_0x5bb836;}catch(_0x27ec80){return logger[_0x130993(0x1d5)](_0x130993(0x1bc)+util[_0x130993(0x182)](_0x27ec80)),{};}}async['sendLogCreatedEvent'](_0x4d6aa0,_0x46e9cc,_0x4e843a){const _0x551167=a68_0x26dd61,_0x2bbfd3={'gjmZX':function(_0x4a8649,_0x557a62,_0x58b11f){return _0x4a8649(_0x557a62,_0x58b11f);},'TSzdA':function(_0x202bad,_0x49d7fe){return _0x202bad===_0x49d7fe;},'CpsRD':_0x551167(0x20c),'GXigl':function(_0x533152,_0x1858ee){return _0x533152/_0x1858ee;},'mUuNa':function(_0x186ed0,_0xcf9fcb){return _0x186ed0<_0xcf9fcb;},'UqqAf':function(_0x3f674a,_0x11d597){return _0x3f674a*_0x11d597;},'JjUbW':function(_0x7867ce,_0x40d42d){return _0x7867ce+_0x40d42d;},'wxDyJ':function(_0x1575ed,_0x529363){return _0x1575ed+_0x529363;},'GiGLG':_0x551167(0x1d1)};try{const _0x275fad=_0x4e843a[_0x551167(0x20a)],_0x7a4f0=_0x4d6aa0[_0x551167(0x151)]()[_0x551167(0x1b5)](_0x275fad),{[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x20c4cc='',[TestFrameworkConstants[_0x551167(0x19c)]]:_0x12d041=''}=_0x7a4f0,_0x329179=TestInfo[_0x551167(0x196)](_0x275fad),_0x4e4e3a=TestInfo[_0x551167(0x17a)](_0x275fad)[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x298231=_0x2bbfd3['gjmZX'](getMediaArtifactsLogs,_0x4e4e3a,_0x4d6aa0['getAllData']()[_0x551167(0x1b5)](_0x275fad)[TestFrameworkConstants[_0x551167(0x1ed)]]),_0x106a63=(_0x329179||[])['concat'](_0x298231||[]);if(!_0x106a63||_0x2bbfd3[_0x551167(0x1c1)](_0x106a63[_0x551167(0x1e4)],0x0)){logger['debug'](_0x2bbfd3[_0x551167(0x195)]);return;}const _0x142bf4=0x28,_0x257171=Math[_0x551167(0x1a0)](_0x2bbfd3['GXigl'](_0x106a63[_0x551167(0x1e4)],_0x142bf4));for(let _0x32ebe5=0x0;_0x2bbfd3[_0x551167(0x18b)](_0x32ebe5,_0x257171);_0x32ebe5++){const _0x2fd820=_0x2bbfd3['UqqAf'](_0x32ebe5,_0x142bf4),_0x1d54f0=_0x2bbfd3[_0x551167(0x184)](_0x2fd820,_0x142bf4),_0x39b450=_0x106a63[_0x551167(0x1e9)](_0x2fd820,_0x1d54f0),_0x43b576={'platformIndex':'0','logs':_0x39b450,'testFrameworkName':_0x20c4cc,'testFrameworkVersion':_0x12d041,'testFrameworkState':_0x46e9cc['toString']()[_0x551167(0x220)]('.')[0x1]};logger[_0x551167(0x152)](_0x551167(0x1fe)+_0x275fad+_0x551167(0x207)+_0x2bbfd3[_0x551167(0x184)](_0x32ebe5,0x1)+'/'+_0x257171+_0x551167(0x164)+util[_0x551167(0x1b7)](_0x43b576));const _0x150e78=await GrpcClient[_0x551167(0x181)]()['logCreatedEvent'](_0x43b576);logger[_0x551167(0x152)]('sendLogCreatedEvent:\x20for\x20testId:\x20'+_0x275fad+_0x551167(0x207)+_0x2bbfd3[_0x551167(0x1ad)](_0x32ebe5,0x1)+'/'+_0x257171+_0x551167(0x1bd)+util[_0x551167(0x1b7)](_0x150e78));}}catch(_0xcb435){logger['error']('sendLogCreatedEvent:\x20Error\x20in\x20sending\x20log\x20events:\x20'+util[_0x551167(0x182)](_0xcb435));}logger[_0x551167(0x152)](_0x2bbfd3[_0x551167(0x1d3)]);}[a68_0x26dd61(0x211)](_0x51583d,_0xd6fef1,_0x1e4c3b,_0x4e7e6f,_0x21531c){const _0x52aaa0=a68_0x26dd61,_0x1571f1={'testId':_0xd6fef1,'testFrameworkState':_0x1e4c3b,'hookState':_0x4e7e6f,'args':_0x21531c,'timestamp':new Date()['toISOString']()};_0x51583d[_0x52aaa0(0x1f7)](_0xd6fef1,_0x1571f1),logger[_0x52aaa0(0x152)](_0x52aaa0(0x1da)+_0xd6fef1+_0x52aaa0(0x180)+_0x1e4c3b+',\x20hookState:\x20'+_0x4e7e6f);}async['processPendingHooks'](_0x477397,_0x5f2838){const _0x48b65c=a68_0x26dd61,_0xd24469={};_0xd24469[_0x48b65c(0x204)]=function(_0x136031,_0x3a5b4e){return _0x136031>_0x3a5b4e;};const _0x3ba0b6=_0xd24469;if(!_0x477397[_0x48b65c(0x19b)](_0x5f2838))return;const _0xa8985b=_0x477397[_0x48b65c(0x1f5)](_0x5f2838);logger[_0x48b65c(0x152)]('Processing\x20'+_0xa8985b[_0x48b65c(0x1e4)]+_0x48b65c(0x190)+_0x5f2838);for(const _0x2d7828 of _0xa8985b){try{const _0x367418=await this['trackHookEvent'](_0x477397,_0x2d7828[_0x48b65c(0x178)],_0x2d7828[_0x48b65c(0x1ac)],_0x2d7828[_0x48b65c(0x1f2)]);_0x367418&&_0x3ba0b6['vsPGB'](Object[_0x48b65c(0x1d9)](_0x367418)['length'],0x0)&&_0x477397['addMultipleEntries'](_0x367418),await this[_0x48b65c(0x1e3)](_0x477397,_0x2d7828['testFrameworkState'],_0x2d7828[_0x48b65c(0x1ac)],_0x2d7828[_0x48b65c(0x1f2)]);}catch(_0x3fd002){logger[_0x48b65c(0x1d5)](_0x48b65c(0x1a4)+_0x5f2838+_0x48b65c(0x197)+_0x3fd002);}}_0x477397['removePendingHooks'](_0x5f2838),logger['debug']('Cleared\x20processed\x20pending\x20hooks\x20for\x20testId:\x20'+_0x5f2838);}}module['exports']=CucumberTestFramework;