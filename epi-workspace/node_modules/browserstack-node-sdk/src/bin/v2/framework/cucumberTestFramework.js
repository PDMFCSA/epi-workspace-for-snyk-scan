const a70_0x4178a1=a70_0x1025;(function(_0x2ec5d1,_0x1765b7){const _0x40b7dd=a70_0x1025,_0x3b45ba=_0x2ec5d1();while(!![]){try{const _0x5bcebd=parseInt(_0x40b7dd(0x15c))/0x1+parseInt(_0x40b7dd(0xc2))/0x2*(-parseInt(_0x40b7dd(0x159))/0x3)+parseInt(_0x40b7dd(0xed))/0x4*(parseInt(_0x40b7dd(0x145))/0x5)+parseInt(_0x40b7dd(0xdd))/0x6*(-parseInt(_0x40b7dd(0x103))/0x7)+parseInt(_0x40b7dd(0xc3))/0x8+parseInt(_0x40b7dd(0x14a))/0x9*(-parseInt(_0x40b7dd(0x10c))/0xa)+-parseInt(_0x40b7dd(0x171))/0xb*(-parseInt(_0x40b7dd(0x140))/0xc);if(_0x5bcebd===_0x1765b7)break;else _0x3b45ba['push'](_0x3b45ba['shift']());}catch(_0x53d657){_0x3b45ba['push'](_0x3b45ba['shift']());}}}(a70_0x2ab7,0x227df));function a70_0x2ab7(){const _0x56e58a=['uuid','sendLogCreatedEvent:\x20for\x20testId:\x20','testFrameworkVersion','trackCucumberInstance:\x20created\x20instance\x20for\x20target=','TdAfb','KEY_TEST_RERUN_NAME',',\x20error:\x20','resolveInstance','\x20pending\x20hooks\x20for\x20testId:\x20','args','startedAt','No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test\x20result','from','../cliUtils.js','trackCucumberInstance:\x20saved\x20instance\x20contextId=','KEY_AUTOMATE_SESSION_NAME','addMultipleEntries','hookState','KEY_TEST_FAILURE','sendLogCreatedEvent','exports','\x20testState:\x20','UnhandledError','createContext','toISOString','test_run_id','finished_at','\x20batch\x20','oAmKa','rbHFH','./constants/testFrameworkConstants.js','xkrWl','slice','getContext','../../../helpers/helper.js','KEY_HOOK_RESULT','hasPendingHooks','unknown','\x20with\x20result:\x20','KEY_HOOKS_STARTED','Updated\x20cucumber\x20test\x20result:\x20','error','passed','KEY_TEST_UUID','failure_data','sendLogCreatedEvent:\x20No\x20logs\x20found,\x20skipping','sendLogCreatedEvent:\x20Error\x20in\x20sending\x20log\x20events:\x20','\x20with\x20UUID:\x20','18060jZuybf','Parsed\x20cucumber\x20test:\x20','LOG_REPORT','test','KEY_TEST_SCOPES','965FpZgOL','hooks','Tracked\x20cucumber\x20hook\x20event:\x20','executionContext','POST','893421TaMiFY','trackEvent:\x20Test\x20Framework\x20instance\x20not\x20found','No\x20hook\x20data\x20provided\x20for\x20cucumber\x20hook\x20event','getCurrentInstanceName','trackHookEvent','\x20with\x20id\x20','setTestDetails','KEY_TEST_ENDED_AT','util','getCurrentHookState','Stored\x20pending\x20hook\x20for\x20testId:\x20',',\x20state=','stringify','../grpcClient','getTestUUID','6933giMnwa','get','KEY_TEST_FRAMEWORK_VERSION','173971jWQnjP','KEY_TEST_META','concat','failure','split','createTestFrameworkEventPayload:\x20complete\x20for\x20testId:\x20','result','../state/hookState.js','KEY_TEST_CODE','createTestFrameworkEventPayload\x20testId:\x20','FEefu','CucumberTestFramework','HWHEK','getTestFrameworks','parseCucumberTest','getTestDetails','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test','processPendingHooks','testFrameworkState','\x20payload=','testFrameworkName','649AuNApW','fsLtl','JGwIP','finishedAt','zpdRB','cfuLR','HLqUj','addPendingHook','\x20&\x20hook\x20=\x20','\x20hookState:\x20','ObuuD','file_name','KEY_TEST_LOGS','trackEvent','KEY_TEST_RESULT','name','failed','instance','setTrackedInstance','\x20for\x20test:\x20','inspect','failure_type','KEY_TEST_NAME','format','parseCucumberTestResult','ceil','trackCucumberInstance','KEY_TEST_RESULT_AT','getInstance','testData','getThreadId','\x20\x20and\x20args\x20=\x20','70RKBZlE','1157688tEFeON','push','KEY_HOOK_ID','__workerDetails','getProcessId','debug','Cleared\x20processed\x20pending\x20hooks\x20for\x20testId:\x20','KEY_LOGS','sPGZe','QELDi','HzzVx','getTestFrameworksVersions','Error\x20processing\x20pending\x20hook\x20for\x20testId:\x20','getTrackedInstance','pop','./testFramework','NONE','szsFE','TEST','SUMqy','getAllData','getCurrentTestState','runHooks','KEY_HOOKS_FINISHED','KphBa','location','950514qHBTqS','../state/testFrameworkState.js','length','trackHookEvent:\x20Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20','base64','cJBbd','tags','DEFAULT_HOOK_RESULT','customRerunParam','zBDGu','OGjBN','KEY_CUSTOM_TAGS','KEY_TEST_STARTED_AT','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','failure_reason','1500sUQxPC','toString','KEY_EVENT_ENDED_AT','trackEvent:\x20unsupported\x20testFrameworkState=','swxZE','key','KEY_TEST_FRAMEWORK_NAME','KEY_TEST_TAGS','PRE','CvJBP','readLogObjects','createTestFrameworkEventPayload:\x20No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','body','testUUID','../../../helpers/classLogger.js','KEY_TEST_LOCATION','scopes','storePendingHook','getRef','mLoPb','INIT_TEST',',\x20hookState:\x20','7tZcAgH','ZaOKO','lZJre','getId','wmwbz','KEY_EVENT_STARTED_AT','hook_type','gWsQz','removePendingHooks','10nvvVaG','meta','workerInfo'];a70_0x2ab7=function(){return _0x56e58a;};return a70_0x2ab7();}const TestFramework=require(a70_0x4178a1(0xd2)),TestFrameworkState=require(a70_0x4178a1(0xde)),HookState=require(a70_0x4178a1(0x163)),{createClassLogger}=require(a70_0x4178a1(0xfb)),TestFrameworkInstance=require('../instances/testFrameworkInstance.js'),CLIUtils=require(a70_0x4178a1(0x11d)),TrackedInstance=require('../instances/trackedInstance.js'),TestFrameworkConstants=require(a70_0x4178a1(0x12e)),{getManualUploadLogs,getMediaArtifactsLogs}=require(a70_0x4178a1(0x132)),logger=createClassLogger(a70_0x4178a1(0x167)),{v4:uuidv4}=require(a70_0x4178a1(0x10f)),util=require(a70_0x4178a1(0x152)),TestInfo=require('../TestInfo.js'),GrpcClient=require(a70_0x4178a1(0x157));class CucumberTestFramework extends TestFramework{constructor(_0x7cdfba,_0x3eddd5,_0x12ddda){super(_0x7cdfba,_0x3eddd5,_0x12ddda);}async[a70_0x4178a1(0x17e)](_0x347b23,_0x3df8b0,_0x417d22={}){const _0x4c9b07=a70_0x4178a1,_0x51a806={};_0x51a806[_0x4c9b07(0xd4)]=_0x4c9b07(0x14b),_0x51a806[_0x4c9b07(0x104)]=function(_0xa3b3c1,_0x2f2e16){return _0xa3b3c1===_0x2f2e16;},_0x51a806[_0x4c9b07(0xe8)]=_0x4c9b07(0xeb);const _0x24f471=_0x51a806;await super[_0x4c9b07(0x17e)](_0x347b23,_0x3df8b0,_0x417d22);const _0x3b0e14=this[_0x4c9b07(0x116)](_0x347b23,_0x3df8b0,_0x417d22);if(!_0x3b0e14){logger[_0x4c9b07(0xc8)](_0x24f471['szsFE']);return;}try{let _0x19ae65,_0x58ff04;switch(_0x347b23){case TestFrameworkState[_0x4c9b07(0xd5)]:_0x19ae65=_0x417d22[_0x4c9b07(0x143)],_0x58ff04=TestInfo[_0x4c9b07(0x158)](_0x19ae65['id']);if(_0x24f471[_0x4c9b07(0x104)](_0x3df8b0,HookState[_0x4c9b07(0xf5)])){logger[_0x4c9b07(0xc8)]('trackEvent\x20loading\x20testData\x20for\x20testId:\x20'+_0x19ae65['id']);const _0x2282c7={};_0x2282c7[_0x4c9b07(0xfa)]=_0x58ff04,_0x2282c7[_0x4c9b07(0x18e)]=_0x19ae65,_0x3b0e14['addMultipleEntries'](this[_0x4c9b07(0x16a)](_0x2282c7)),logger['debug'](_0x4c9b07(0xe1)+_0x19ae65['id']),await this[_0x4c9b07(0x16d)](_0x3b0e14,_0x19ae65['id']);}else{if(_0x24f471[_0x4c9b07(0x104)](_0x3df8b0,HookState[_0x4c9b07(0x149)])){const _0xc9a956={};_0xc9a956['testUUID']=_0x58ff04,_0xc9a956[_0x4c9b07(0x18e)]=_0x19ae65,_0x3b0e14['addMultipleEntries'](this[_0x4c9b07(0x189)](_0xc9a956)),await this[_0x4c9b07(0x16d)](_0x3b0e14,_0x19ae65['id']);}}break;case TestFrameworkState[_0x4c9b07(0x142)]:_0x24f471[_0x4c9b07(0x104)](_0x3df8b0,HookState[_0x4c9b07(0x149)])&&await this[_0x4c9b07(0x123)](_0x3b0e14,_0x347b23,_0x417d22);break;default:if(CLIUtils['matchHookRegex'](_0x347b23[_0x4c9b07(0xee)]()[_0x4c9b07(0x160)]('.')[0x1])){const _0xd9a795=await this['trackHookEvent'](_0x3b0e14,_0x347b23,_0x3df8b0,_0x417d22);_0x3b0e14[_0x4c9b07(0x120)](_0xd9a795);}else logger['debug'](_0x4c9b07(0xf0)+_0x347b23+'\x20&\x20hookState='+_0x3df8b0);break;}}catch(_0xd092b6){logger[_0x4c9b07(0x139)](util[_0x4c9b07(0x188)](_0x24f471[_0x4c9b07(0xe8)],_0x347b23,_0x3df8b0,_0x417d22[_0x4c9b07(0xdf)],_0xd092b6));}_0x417d22['instance']=_0x3b0e14,await this[_0x4c9b07(0xd9)](_0x3b0e14,_0x347b23,_0x3df8b0,_0x417d22);}[a70_0x4178a1(0x116)](_0x40c55e,_0x2f36e9,_0x16b8a8={}){const _0x20d86d=a70_0x4178a1,_0x5bfabe={};_0x5bfabe[_0x20d86d(0xf1)]=function(_0xdbc144,_0x4f2b36){return _0xdbc144===_0x4f2b36;},_0x5bfabe[_0x20d86d(0xdb)]=function(_0x21b54f,_0xa2c216){return _0x21b54f===_0xa2c216;};const _0x29e317=_0x5bfabe;let _0x54ce5c=null;return(_0x29e317[_0x20d86d(0xf1)](_0x40c55e,TestFrameworkState[_0x20d86d(0x101)])||_0x29e317[_0x20d86d(0xdb)](_0x40c55e,TestFrameworkState[_0x20d86d(0xd3)]))&&this['trackCucumberInstance'](_0x40c55e,_0x16b8a8),_0x54ce5c=TestFramework[_0x20d86d(0xd0)](),_0x54ce5c;}[a70_0x4178a1(0x18b)](_0x35acb8,_0x5ae3f2){const _0x24a2f3=a70_0x4178a1,_0x6c51e=CLIUtils[_0x24a2f3(0x14d)](),_0x1fa46e=TrackedInstance[_0x24a2f3(0x127)](_0x6c51e);let _0x15d279=null;logger[_0x24a2f3(0xc8)](_0x24a2f3(0x112)+_0x6c51e+_0x24a2f3(0x155)+_0x35acb8),_0x15d279=new TestFrameworkInstance(_0x1fa46e,this[_0x24a2f3(0x169)](),this[_0x24a2f3(0xce)](),_0x35acb8,HookState[_0x24a2f3(0xd3)]),TestFramework[_0x24a2f3(0x183)](_0x1fa46e,_0x15d279),logger[_0x24a2f3(0xc8)](_0x24a2f3(0x11e)+_0x1fa46e[_0x24a2f3(0x106)]()+'\x20target='+_0x6c51e);}[a70_0x4178a1(0x16a)](_0x10367e){const _0x1eb6a6=a70_0x4178a1,_0x1bb988={};_0x1bb988[_0x1eb6a6(0xcc)]=_0x1eb6a6(0x16c);const _0x49b42d=_0x1bb988,{testUUID:_0x5e5faa,testData:_0xd4ef40}=_0x10367e;if(!_0xd4ef40||!_0xd4ef40['uuid'])return logger[_0x1eb6a6(0xc8)](_0x49b42d[_0x1eb6a6(0xcc)]),{};const _0x358ade=_0xd4ef40['uuid'],_0x1ca597=_0xd4ef40['uuid'],_0x4f94d5=this[_0x1eb6a6(0x169)]()[0x0],_0x49b064=this['getTestFrameworksVersions'](),_0x214ec6={[TestFrameworkConstants[_0x1eb6a6(0xf3)]]:_0x4f94d5,[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x49b064[_0x4f94d5],[TestFrameworkConstants[_0x1eb6a6(0x17d)]]:[],[TestFrameworkConstants[_0x1eb6a6(0xda)]]:{},[TestFrameworkConstants['KEY_HOOKS_STARTED']]:{},[TestFrameworkConstants[_0x1eb6a6(0x13b)]]:_0x358ade,[TestFrameworkConstants[_0x1eb6a6(0x17f)]]:TestFrameworkConstants['DEFAULT_TEST_RESULT'],[TestFrameworkConstants[_0x1eb6a6(0x11f)]]:_0xd4ef40[_0x1eb6a6(0x180)]||'',[TestFrameworkConstants['KEY_TEST_FILE_PATH']]:_0xd4ef40[_0x1eb6a6(0x17c)]||'',[TestFrameworkConstants['KEY_TEST_ID']]:_0x1ca597,[TestFrameworkConstants[_0x1eb6a6(0x187)]]:_0xd4ef40[_0x1eb6a6(0x180)]||'',[TestFrameworkConstants[_0x1eb6a6(0xfc)]]:_0xd4ef40[_0x1eb6a6(0xdc)]||'',[TestFrameworkConstants[_0x1eb6a6(0x164)]]:_0xd4ef40[_0x1eb6a6(0xf9)]?.['code']||null,[TestFrameworkConstants[_0x1eb6a6(0xf4)]]:_0xd4ef40[_0x1eb6a6(0xe4)]||[],[TestFrameworkConstants[_0x1eb6a6(0xea)]]:_0xd4ef40[_0x1eb6a6(0x119)]||new Date()[_0x1eb6a6(0x128)](),[TestFrameworkConstants['KEY_TEST_SCOPE']]:_0xd4ef40[_0x1eb6a6(0xfd)]?.[0x0]||'',[TestFrameworkConstants[_0x1eb6a6(0x144)]]:_0xd4ef40[_0x1eb6a6(0xfd)]||[],[TestFrameworkConstants[_0x1eb6a6(0x114)]]:_0xd4ef40[_0x1eb6a6(0xe6)]?.['rerun_name']||_0xd4ef40['name']||'',[TestFrameworkConstants[_0x1eb6a6(0xe9)]]:{},[TestFrameworkConstants[_0x1eb6a6(0x15d)]]:_0xd4ef40['meta']||{}};TestInfo[_0x1eb6a6(0x150)](_0x1ca597,_0x214ec6),logger[_0x1eb6a6(0xc8)](_0x1eb6a6(0x141)+_0xd4ef40[_0x1eb6a6(0x180)]+_0x1eb6a6(0x13f)+_0x358ade);const _0x6c59e4={};return _0x6c59e4[_0x1ca597]=_0x214ec6,_0x6c59e4;}[a70_0x4178a1(0x189)](_0x286bdc){const _0x53d60b=a70_0x4178a1,_0x40f61c={'bwBxE':_0x53d60b(0x11b),'TdAfb':_0x53d60b(0x135),'NIrWD':function(_0xcce2a8,_0x4a10f3){return _0xcce2a8===_0x4a10f3;},'cfuLR':_0x53d60b(0x181),'FEefu':_0x53d60b(0x126),'xkrWl':function(_0x19344a,_0x28faac,_0x2f81e6){return _0x19344a(_0x28faac,_0x2f81e6);},'lZJre':function(_0x4e3e4f,_0x5e3d16){return _0x4e3e4f>_0x5e3d16;},'JGwIP':function(_0xbbbffc,_0x5ec1cf){return _0xbbbffc>_0x5ec1cf;}},{testUUID:_0x217c52,testData:_0x48d8bb}=_0x286bdc;if(!_0x48d8bb||!_0x48d8bb[_0x53d60b(0x10f)])return logger['debug'](_0x40f61c['bwBxE']),{};const _0x4b1fba=this[_0x53d60b(0x116)](TestFrameworkState[_0x53d60b(0xd5)],HookState[_0x53d60b(0x149)]),_0x45835a=_0x48d8bb['uuid'],_0x4385c8=TestInfo[_0x53d60b(0x16b)](_0x45835a)||{},_0x50df2c=_0x4385c8?_0x4385c8[TestFrameworkConstants[_0x53d60b(0xe9)]]||{}:{},_0x3a0281={..._0x4385c8,[TestFrameworkConstants[_0x53d60b(0x17f)]]:_0x48d8bb[_0x53d60b(0x162)]||_0x40f61c[_0x53d60b(0x113)],[TestFrameworkConstants[_0x53d60b(0x151)]]:_0x48d8bb[_0x53d60b(0x174)]||new Date()[_0x53d60b(0x128)](),[TestFrameworkConstants[_0x53d60b(0x18c)]]:new Date()['toISOString'](),[TestFrameworkConstants[_0x53d60b(0xe9)]]:_0x50df2c,[TestFrameworkConstants[_0x53d60b(0xca)]]:[],[TestFrameworkConstants['KEY_TEST_META']]:_0x48d8bb[_0x53d60b(0x10d)]||{}};_0x40f61c['NIrWD'](_0x48d8bb[_0x53d60b(0x162)],_0x40f61c[_0x53d60b(0x176)])&&_0x48d8bb[_0x53d60b(0x15f)]&&(_0x3a0281[TestFrameworkConstants['KEY_TEST_FAILURE_TYPE']]=_0x48d8bb[_0x53d60b(0x186)]||_0x40f61c[_0x53d60b(0x166)],_0x3a0281[TestFrameworkConstants['KEY_TEST_FAILURE_REASON']]=_0x48d8bb['failure_reason']||'',_0x3a0281[TestFrameworkConstants[_0x53d60b(0x122)]]=_0x48d8bb[_0x53d60b(0x15f)]);const _0x4a5229=TestInfo[_0x53d60b(0x16b)](_0x45835a)[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x616eed=_0x40f61c[_0x53d60b(0x12f)](getManualUploadLogs,_0x4a5229,_0x4b1fba[_0x53d60b(0xd7)]()[_0x53d60b(0x15a)](_0x45835a)[TestFrameworkConstants['KEY_TEST_UUID']]);if(_0x40f61c[_0x53d60b(0x105)](_0x616eed[_0x53d60b(0xdf)],0x0)){const _0x54cdce=_0x3a0281[TestFrameworkConstants[_0x53d60b(0xca)]]||[];_0x3a0281[TestFrameworkConstants[_0x53d60b(0xca)]]=[..._0x54cdce,..._0x616eed];}_0x48d8bb[_0x53d60b(0x146)]&&_0x40f61c[_0x53d60b(0x173)](_0x48d8bb[_0x53d60b(0x146)][_0x53d60b(0xdf)],0x0)&&(_0x3a0281[TestFrameworkConstants[_0x53d60b(0xda)]]=_0x48d8bb[_0x53d60b(0x146)]);TestInfo['setTestDetails'](_0x45835a,_0x3a0281),logger[_0x53d60b(0xc8)](_0x53d60b(0x138)+_0x48d8bb['name']+_0x53d60b(0x136)+_0x48d8bb[_0x53d60b(0x162)]);const _0x2227c6={};return _0x2227c6[_0x45835a]=_0x3a0281,_0x2227c6;}async[a70_0x4178a1(0x14e)](_0x537cef,_0x2cbc6d,_0x38237e,_0x45f493){const _0x37370f=a70_0x4178a1,_0x15583d={'HWHEK':_0x37370f(0x14c),'wmwbz':function(_0xa84c90){return _0xa84c90();},'zpdRB':function(_0x5b4b15,_0x2c8e3f){return _0x5b4b15 in _0x2c8e3f;},'brlBW':function(_0x3764a9,_0x3d94b8){return _0x3764a9 in _0x3d94b8;},'HzzVx':function(_0x210e47,_0x261895){return _0x210e47===_0x261895;},'ObuuD':function(_0xd46878,_0x27bbaf){return _0xd46878>_0x27bbaf;},'zBDGu':function(_0x3250f6,_0x3e81ed){return _0x3250f6===_0x3e81ed;},'DULWx':'failed','NAzuM':'UnhandledError','cJBbd':_0x37370f(0x13a),'kILRx':function(_0x410fe5,_0x34eca9){return _0x410fe5!==_0x34eca9;}},{hookData:_0xb9211a}=_0x45f493;if(!_0xb9211a)return logger[_0x37370f(0xc8)](_0x15583d[_0x37370f(0x168)]),{};const _0x1af2f2=_0xb9211a['uuid']||_0x15583d[_0x37370f(0x107)](uuidv4),_0x28a707=_0xb9211a[_0x37370f(0x129)],_0x2e45ae=_0x2cbc6d[_0x37370f(0xee)]()[_0x37370f(0x160)]('.')[0x1],_0x368a94=TestInfo[_0x37370f(0x16b)](_0x28a707)[TestFrameworkConstants[_0x37370f(0xe9)]]||{},_0x33642e=_0x537cef[_0x37370f(0xd7)]()[_0x37370f(0x15a)](_0x28a707);if(!_0x33642e)return logger[_0x37370f(0xc8)](_0x37370f(0x11a)+_0x28a707+',\x20storing\x20as\x20pending\x20hook'),this['storePendingHook'](_0x537cef,_0x28a707,_0x2cbc6d,_0x38237e,_0x45f493),{};let _0x4e47b4=_0x33642e[TestFrameworkConstants[_0x37370f(0x137)]];!_0x4e47b4&&(_0x4e47b4={});!_0x15583d[_0x37370f(0x175)](_0x2e45ae,_0x4e47b4)&&(_0x4e47b4[_0x2e45ae]=[]);let _0x4e1155=_0x33642e[TestFrameworkConstants[_0x37370f(0xda)]];!_0x4e1155&&(_0x4e1155={});!_0x15583d['brlBW'](_0x2e45ae,_0x4e1155)&&(_0x4e1155[_0x2e45ae]=[]);const _0x49f7fe={[TestFrameworkConstants[_0x37370f(0x137)]]:_0x4e47b4,[TestFrameworkConstants[_0x37370f(0xda)]]:_0x4e1155},_0x2e8603={};_0x2e8603[_0x28a707]=_0x49f7fe;const _0x4e0464=_0x2e8603;if(_0x15583d[_0x37370f(0xcd)](_0x38237e,HookState['PRE'])){const _0x7ee221={[TestFrameworkConstants[_0x37370f(0xc5)]]:_0x1af2f2,[TestFrameworkConstants[_0x37370f(0x133)]]:TestFrameworkConstants['DEFAULT_HOOK_RESULT'],[TestFrameworkConstants[_0x37370f(0x108)]]:_0xb9211a['started_at'],[TestFrameworkConstants['KEY_HOOK_LOGS']]:[],[TestFrameworkConstants['KEY_HOOK_NAME']]:_0xb9211a[_0x37370f(0x109)],[TestFrameworkConstants[_0x37370f(0xe9)]]:_0x368a94};_0x7ee221[_0x37370f(0xf2)]=_0x2e45ae;const _0x4030b0=_0x7ee221;_0x4e47b4[_0x2e45ae][_0x37370f(0xc4)](_0x4030b0),_0x4e0464[_0x28a707][TestFrameworkConstants['KEY_HOOK_LAST_STARTED']]=_0x2e45ae,logger['debug'](_0x37370f(0xe0)+_0x2e45ae+_0x37370f(0x179)+_0x4030b0+_0x37370f(0xc1)+_0x45f493);}else{if(_0x15583d[_0x37370f(0xcd)](_0x38237e,HookState[_0x37370f(0x149)])){const _0x3c6b2f=_0xb9211a[_0x37370f(0x162)],_0x303961=_0x4e47b4[_0x2e45ae]||[];logger['debug']('trackHookEvent:\x20Hook\x20List\x20in\x20Post\x20'+_0x303961+'\x20and\x20args\x20=\x20'+_0x45f493);if(_0x15583d[_0x37370f(0x17b)](_0x303961['length'],0x0)){const _0x5b9172=_0x303961[_0x37370f(0xd1)]();_0x15583d[_0x37370f(0xe7)](_0xb9211a[_0x37370f(0x162)],_0x15583d['DULWx'])&&_0xb9211a[_0x37370f(0x13c)]?(_0x5b9172[TestFrameworkConstants['KEY_HOOK_FAILURE_TYPE']]=_0xb9211a[_0x37370f(0x186)]||_0x15583d['NAzuM'],_0x5b9172[TestFrameworkConstants['KEY_HOOK_FAILURE_REASON']]=_0xb9211a[_0x37370f(0xec)]||'',_0x5b9172[TestFrameworkConstants['KEY_HOOK_FAILURE']]=_0xb9211a[_0x37370f(0x13c)]):_0x5b9172[TestFrameworkConstants[_0x37370f(0x133)]]=_0x15583d[_0x37370f(0xe3)];_0x15583d['kILRx'](_0x3c6b2f,TestFrameworkConstants[_0x37370f(0xe5)])&&(_0x5b9172[TestFrameworkConstants[_0x37370f(0x133)]]=_0x3c6b2f);_0x5b9172[TestFrameworkConstants[_0x37370f(0xef)]]=_0xb9211a[_0x37370f(0x12a)]||new Date()[_0x37370f(0x128)](),_0x5b9172[TestFrameworkConstants[_0x37370f(0xe9)]]=_0x368a94;const _0x2ce68d=_0x5b9172[TestFrameworkConstants['KEY_HOOK_ID']];!_0x4e1155[_0x2e45ae]&&(_0x4e1155[_0x2e45ae]=[]),_0x4e1155[_0x2e45ae][_0x37370f(0xc4)](_0x5b9172),_0x4e0464[_0x28a707][TestFrameworkConstants['KEY_HOOK_LAST_FINISHED']]=_0x2e45ae;}}}return logger[_0x37370f(0xc8)](_0x37370f(0x147)+_0xb9211a['hook_type']+_0x37370f(0x14f)+_0x1af2f2+_0x37370f(0x184)+_0x28a707),_0x4e0464;}['createTestFrameworkEventPayload'](_0x2eec39){const _0x262827=a70_0x4178a1,_0x4ce58a={};_0x4ce58a[_0x262827(0x10a)]=_0x262827(0xe2);const _0x189646=_0x4ce58a;try{const _0x71d23a=_0x2eec39[_0x262827(0x143)]?_0x2eec39['test']['id']:_0x2eec39['hookData'][_0x262827(0x129)],_0x3631b6=_0x2eec39[_0x262827(0x182)],_0x1950fc=_0x3631b6[_0x262827(0x131)](),_0x22013e=_0x3631b6[_0x262827(0xd7)]()[_0x262827(0x15a)](_0x71d23a);if(!_0x22013e)return logger['debug'](_0x262827(0xf8)+_0x71d23a),{};logger['debug'](_0x262827(0x165)+_0x71d23a);const {[TestFrameworkConstants[_0x262827(0xf3)]]:_0x30ac89='',[TestFrameworkConstants[_0x262827(0x15b)]]:_0xd6e7f4='',[TestFrameworkConstants[_0x262827(0xea)]]:_0x3b40eb='',[TestFrameworkConstants[_0x262827(0x151)]]:_0x2ef9e9=''}=_0x22013e,_0x4c54dd=_0x3631b6[_0x262827(0xd8)]()[_0x262827(0xee)]()['split']('.')[0x1],_0x56fee1=_0x3631b6[_0x262827(0x153)]()[_0x262827(0xee)]()[_0x262827(0x160)]('.')[0x1],_0x383607=global?.[_0x262827(0xc6)]?.[_0x262827(0x10e)]?.['parallelIndex'],_0x531606=_0x3631b6[_0x262827(0xff)](),_0x19f324=Buffer[_0x262827(0x11c)](JSON[_0x262827(0x156)](_0x22013e))[_0x262827(0xee)](_0x189646[_0x262827(0x10a)]),_0x11340e={'hash':_0x1950fc['getId'](),'threadId':_0x1950fc[_0x262827(0xc0)]()[_0x262827(0xee)](),'processId':_0x1950fc[_0x262827(0xc7)]()[_0x262827(0xee)]()},_0x483e61={};_0x483e61['platformIndex']=_0x383607,_0x483e61[_0x262827(0x170)]=_0x30ac89,_0x483e61[_0x262827(0x111)]=_0xd6e7f4,_0x483e61['testFrameworkState']=_0x4c54dd,_0x483e61['hookState']=_0x56fee1,_0x483e61[_0x262827(0x119)]=_0x3b40eb,_0x483e61['endedAt']=_0x2ef9e9,_0x483e61[_0x262827(0x10f)]=_0x531606,_0x483e61['eventJson']=_0x19f324,_0x483e61[_0x262827(0x148)]=_0x11340e;const _0x3d3c82=_0x483e61;return logger[_0x262827(0xc8)](_0x262827(0x161)+_0x71d23a+_0x262827(0x125)+_0x4c54dd+_0x262827(0x17a)+_0x56fee1),_0x3d3c82;}catch(_0x397a1b){return logger[_0x262827(0x139)]('Error\x20in\x20createTestFrameworkEventPayload:\x20'+util[_0x262827(0x188)](_0x397a1b)),{};}}async[a70_0x4178a1(0x123)](_0x4f15b1,_0x221bc4,_0xcb68fa){const _0x2329a1=a70_0x4178a1,_0x332016={'mLoPb':function(_0x44c07a,_0x25afa2,_0x14e735){return _0x44c07a(_0x25afa2,_0x14e735);},'onXhy':function(_0x379d0f,_0x541c4f){return _0x379d0f===_0x541c4f;},'sPGZe':_0x2329a1(0x13d),'CvJBP':function(_0x171c5e,_0x49f1f8){return _0x171c5e/_0x49f1f8;},'SUMqy':function(_0x50fc3f,_0x13c836){return _0x50fc3f<_0x13c836;},'rbHFH':function(_0x60dd8a,_0x23d85e){return _0x60dd8a*_0x23d85e;},'oAmKa':function(_0x5612df,_0x495365){return _0x5612df+_0x495365;},'fsLtl':function(_0x25f3d4,_0x3d8bda){return _0x25f3d4+_0x3d8bda;},'IDHUy':'Cucumber\x20log\x20created\x20event'};try{const _0x30a460=_0xcb68fa[_0x2329a1(0xfa)],_0x42667f=_0x4f15b1[_0x2329a1(0xd7)]()[_0x2329a1(0x15a)](_0x30a460),{[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x3e4395='',[TestFrameworkConstants[_0x2329a1(0x15b)]]:_0x580ffe=''}=_0x42667f,_0x5d3f66=TestInfo[_0x2329a1(0xf7)](_0x30a460),_0x52841e=TestInfo['getTestDetails'](_0x30a460)[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x16fe04=_0x332016[_0x2329a1(0x100)](getMediaArtifactsLogs,_0x52841e,_0x4f15b1[_0x2329a1(0xd7)]()['get'](_0x30a460)[TestFrameworkConstants[_0x2329a1(0x13b)]]),_0x1d556b=(_0x5d3f66||[])[_0x2329a1(0x15e)](_0x16fe04||[]);if(!_0x1d556b||_0x332016['onXhy'](_0x1d556b[_0x2329a1(0xdf)],0x0)){logger['debug'](_0x332016[_0x2329a1(0xcb)]);return;}const _0x391b50=0x28,_0x5d0148=Math[_0x2329a1(0x18a)](_0x332016[_0x2329a1(0xf6)](_0x1d556b[_0x2329a1(0xdf)],_0x391b50));for(let _0x5c258c=0x0;_0x332016[_0x2329a1(0xd6)](_0x5c258c,_0x5d0148);_0x5c258c++){const _0x1fdea1=_0x332016[_0x2329a1(0x12d)](_0x5c258c,_0x391b50),_0x27cdd7=_0x332016[_0x2329a1(0x12c)](_0x1fdea1,_0x391b50),_0x3c55e0=_0x1d556b[_0x2329a1(0x130)](_0x1fdea1,_0x27cdd7),_0x20976f={'platformIndex':'0','logs':_0x3c55e0,'testFrameworkName':_0x3e4395,'testFrameworkVersion':_0x580ffe,'testFrameworkState':_0x221bc4['toString']()[_0x2329a1(0x160)]('.')[0x1]};logger[_0x2329a1(0xc8)](_0x2329a1(0x110)+_0x30a460+_0x2329a1(0x12b)+_0x332016[_0x2329a1(0x172)](_0x5c258c,0x1)+'/'+_0x5d0148+_0x2329a1(0x16f)+util[_0x2329a1(0x185)](_0x20976f));const _0x40a67b=await GrpcClient[_0x2329a1(0x18d)]()['logCreatedEvent'](_0x20976f);logger[_0x2329a1(0xc8)](_0x2329a1(0x110)+_0x30a460+_0x2329a1(0x12b)+_0x332016[_0x2329a1(0x12c)](_0x5c258c,0x1)+'/'+_0x5d0148+'\x20response='+util[_0x2329a1(0x185)](_0x40a67b));}}catch(_0x377e44){logger[_0x2329a1(0x139)](_0x2329a1(0x13e)+util['format'](_0x377e44));}logger[_0x2329a1(0xc8)](_0x332016['IDHUy']);}[a70_0x4178a1(0xfe)](_0x4d0e66,_0x594b17,_0x40958f,_0xc104b0,_0x4ab979){const _0x26bdb0=a70_0x4178a1,_0x4569f6={'testId':_0x594b17,'testFrameworkState':_0x40958f,'hookState':_0xc104b0,'args':_0x4ab979,'timestamp':new Date()['toISOString']()};_0x4d0e66[_0x26bdb0(0x178)](_0x594b17,_0x4569f6),logger[_0x26bdb0(0xc8)](_0x26bdb0(0x154)+_0x594b17+',\x20state:\x20'+_0x40958f+_0x26bdb0(0x102)+_0xc104b0);}async[a70_0x4178a1(0x16d)](_0x2a4155,_0x3ba0b7){const _0x3be96c=a70_0x4178a1,_0x3aed12={};_0x3aed12[_0x3be96c(0x177)]=function(_0x527136,_0x529271){return _0x527136>_0x529271;};const _0x10181f=_0x3aed12;if(!_0x2a4155[_0x3be96c(0x134)](_0x3ba0b7))return;const _0x3eb9c5=_0x2a4155['getPendingHooks'](_0x3ba0b7);logger['debug']('Processing\x20'+_0x3eb9c5[_0x3be96c(0xdf)]+_0x3be96c(0x117)+_0x3ba0b7);for(const _0x21b8f0 of _0x3eb9c5){try{const _0x2d6691=await this['trackHookEvent'](_0x2a4155,_0x21b8f0[_0x3be96c(0x16e)],_0x21b8f0['hookState'],_0x21b8f0[_0x3be96c(0x118)]);_0x2d6691&&_0x10181f[_0x3be96c(0x177)](Object['keys'](_0x2d6691)[_0x3be96c(0xdf)],0x0)&&_0x2a4155[_0x3be96c(0x120)](_0x2d6691),await this[_0x3be96c(0xd9)](_0x2a4155,_0x21b8f0['testFrameworkState'],_0x21b8f0[_0x3be96c(0x121)],_0x21b8f0['args']);}catch(_0xcd9184){logger[_0x3be96c(0x139)](_0x3be96c(0xcf)+_0x3ba0b7+_0x3be96c(0x115)+_0xcd9184);}}_0x2a4155[_0x3be96c(0x10b)](_0x3ba0b7),logger[_0x3be96c(0xc8)](_0x3be96c(0xc9)+_0x3ba0b7);}}function a70_0x1025(_0x352bef,_0x554715){const _0x2ab757=a70_0x2ab7();return a70_0x1025=function(_0x1025c6,_0x41a44c){_0x1025c6=_0x1025c6-0xc0;let _0x441ecd=_0x2ab757[_0x1025c6];return _0x441ecd;},a70_0x1025(_0x352bef,_0x554715);}module[a70_0x4178a1(0x124)]=CucumberTestFramework;