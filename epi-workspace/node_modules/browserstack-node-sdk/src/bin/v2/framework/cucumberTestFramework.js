const a68_0x9d3dad=a68_0x75ed;(function(_0x6c4782,_0x5be252){const _0x3d198a=a68_0x75ed,_0x38ea70=_0x6c4782();while(!![]){try{const _0x1a4166=parseInt(_0x3d198a(0x1c9))/0x1+parseInt(_0x3d198a(0x25b))/0x2+-parseInt(_0x3d198a(0x219))/0x3+-parseInt(_0x3d198a(0x258))/0x4+parseInt(_0x3d198a(0x24f))/0x5+-parseInt(_0x3d198a(0x246))/0x6+-parseInt(_0x3d198a(0x1f8))/0x7*(-parseInt(_0x3d198a(0x28a))/0x8);if(_0x1a4166===_0x5be252)break;else _0x38ea70['push'](_0x38ea70['shift']());}catch(_0x58c3af){_0x38ea70['push'](_0x38ea70['shift']());}}}(a68_0x1fbd,0x9ae99));const TestFramework=require(a68_0x9d3dad(0x1c0)),TestFrameworkState=require('../state/testFrameworkState.js'),HookState=require(a68_0x9d3dad(0x1ec)),{createClassLogger}=require('../../../helpers/classLogger.js'),TestFrameworkInstance=require('../instances/testFrameworkInstance.js'),CLIUtils=require(a68_0x9d3dad(0x1d6)),TrackedInstance=require(a68_0x9d3dad(0x1d2)),TestFrameworkConstants=require(a68_0x9d3dad(0x1ea)),{getManualUploadLogs,getMediaArtifactsLogs}=require('../../../helpers/helper.js'),logger=createClassLogger(a68_0x9d3dad(0x26b)),{v4:uuidv4}=require(a68_0x9d3dad(0x25e)),util=require(a68_0x9d3dad(0x275)),TestInfo=require(a68_0x9d3dad(0x289)),GrpcClient=require(a68_0x9d3dad(0x23b));function a68_0x75ed(_0x46fc41,_0x5d9515){const _0x1fbd42=a68_0x1fbd();return a68_0x75ed=function(_0x75edba,_0x24c2b5){_0x75edba=_0x75edba-0x1c0;let _0x1560ff=_0x1fbd42[_0x75edba];return _0x1560ff;},a68_0x75ed(_0x46fc41,_0x5d9515);}class CucumberTestFramework extends TestFramework{constructor(_0x18adc6,_0x431885,_0x346c01){super(_0x18adc6,_0x431885,_0x346c01);}async[a68_0x9d3dad(0x208)](_0xa05231,_0x51eb02,_0xbafa6={}){const _0x10e2d9=a68_0x9d3dad,_0x1da722={};_0x1da722[_0x10e2d9(0x201)]='trackEvent:\x20Test\x20Framework\x20instance\x20not\x20found',_0x1da722[_0x10e2d9(0x27d)]=function(_0x2c2332,_0x13f117){return _0x2c2332===_0x13f117;},_0x1da722[_0x10e2d9(0x203)]=_0x10e2d9(0x239);const _0x3ba211=_0x1da722;await super['trackEvent'](_0xa05231,_0x51eb02,_0xbafa6);const _0x5cff90=this[_0x10e2d9(0x273)](_0xa05231,_0x51eb02,_0xbafa6);if(!_0x5cff90){logger[_0x10e2d9(0x222)](_0x3ba211['gahoq']);return;}try{let _0x30ad5f,_0x11bbc3;switch(_0xa05231){case TestFrameworkState[_0x10e2d9(0x21e)]:_0x30ad5f=_0xbafa6['test'],_0x11bbc3=TestInfo[_0x10e2d9(0x1dd)](_0x30ad5f['id']);if(_0x3ba211['qcjFM'](_0x51eb02,HookState[_0x10e2d9(0x276)])){logger[_0x10e2d9(0x222)](_0x10e2d9(0x200)+_0x30ad5f['id']);const _0x4292fb={};_0x4292fb[_0x10e2d9(0x1c7)]=_0x11bbc3,_0x4292fb[_0x10e2d9(0x1f4)]=_0x30ad5f,_0x5cff90[_0x10e2d9(0x257)](this[_0x10e2d9(0x215)](_0x4292fb)),logger[_0x10e2d9(0x222)](_0x10e2d9(0x24b)+_0x30ad5f['id']),await this['processPendingHooks'](_0x5cff90,_0x30ad5f['id']);}else{if(_0x3ba211['qcjFM'](_0x51eb02,HookState[_0x10e2d9(0x28b)])){const _0x2ae991={};_0x2ae991[_0x10e2d9(0x1c7)]=_0x11bbc3,_0x2ae991[_0x10e2d9(0x1f4)]=_0x30ad5f,_0x5cff90[_0x10e2d9(0x257)](this[_0x10e2d9(0x20a)](_0x2ae991)),await this[_0x10e2d9(0x285)](_0x5cff90,_0x30ad5f['id']);}}break;case TestFrameworkState[_0x10e2d9(0x22e)]:_0x3ba211['qcjFM'](_0x51eb02,HookState[_0x10e2d9(0x28b)])&&await this[_0x10e2d9(0x205)](_0x5cff90,_0xa05231,_0xbafa6);break;default:if(CLIUtils['matchHookRegex'](_0xa05231[_0x10e2d9(0x283)]()[_0x10e2d9(0x26a)]('.')[0x1])){const _0x245118=await this[_0x10e2d9(0x248)](_0x5cff90,_0xa05231,_0x51eb02,_0xbafa6);_0x5cff90[_0x10e2d9(0x257)](_0x245118);}else logger['debug'](_0x10e2d9(0x1e1)+_0xa05231+'\x20&\x20hookState='+_0x51eb02);break;}}catch(_0x2e543c){logger[_0x10e2d9(0x1e7)](util[_0x10e2d9(0x22f)](_0x3ba211[_0x10e2d9(0x203)],_0xa05231,_0x51eb02,_0xbafa6[_0x10e2d9(0x25f)],_0x2e543c));}_0xbafa6[_0x10e2d9(0x23f)]=_0x5cff90,await this[_0x10e2d9(0x274)](_0x5cff90,_0xa05231,_0x51eb02,_0xbafa6);}['resolveInstance'](_0xe2b07f,_0x2b3abb,_0x3f4b0d={}){const _0x15f8b8=a68_0x9d3dad,_0x223d9a={};_0x223d9a['Oqscq']=function(_0x4b6362,_0x33c772){return _0x4b6362===_0x33c772;};const _0x1c0086=_0x223d9a;let _0xad4936=null;return(_0x1c0086[_0x15f8b8(0x24e)](_0xe2b07f,TestFrameworkState['INIT_TEST'])||_0x1c0086[_0x15f8b8(0x24e)](_0xe2b07f,TestFrameworkState['NONE']))&&this['trackCucumberInstance'](_0xe2b07f,_0x3f4b0d),_0xad4936=TestFramework[_0x15f8b8(0x25c)](),_0xad4936;}[a68_0x9d3dad(0x23e)](_0xfbb011,_0x203084){const _0x56eee7=a68_0x9d3dad,_0x210291=CLIUtils[_0x56eee7(0x23d)](),_0x469fa1=TrackedInstance['createContext'](_0x210291);let _0x4d8cf0=null;logger[_0x56eee7(0x222)](_0x56eee7(0x21a)+_0x210291+_0x56eee7(0x1d5)+_0xfbb011),_0x4d8cf0=new TestFrameworkInstance(_0x469fa1,this[_0x56eee7(0x1fd)](),this[_0x56eee7(0x25a)](),_0xfbb011,HookState[_0x56eee7(0x1ef)]),TestFramework[_0x56eee7(0x1d4)](_0x469fa1,_0x4d8cf0),logger['debug']('trackCucumberInstance:\x20saved\x20instance\x20contextId='+_0x469fa1[_0x56eee7(0x202)]()+_0x56eee7(0x256)+_0x210291);}[a68_0x9d3dad(0x215)](_0x22af25){const _0x1f7909=a68_0x9d3dad,_0x2d26aa={};_0x2d26aa['tOFSv']='No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test';const _0xd17716=_0x2d26aa,{testUUID:_0x560591,testData:_0x3ccc7b}=_0x22af25;if(!_0x3ccc7b||!_0x3ccc7b[_0x1f7909(0x25e)])return logger[_0x1f7909(0x222)](_0xd17716[_0x1f7909(0x1c6)]),{};const _0x509da6=_0x3ccc7b[_0x1f7909(0x25e)],_0x589d53=_0x3ccc7b[_0x1f7909(0x25e)],_0x2a18bd=this['getTestFrameworks']()[0x0],_0x5b44aa=this[_0x1f7909(0x25a)](),_0x2081ff={[TestFrameworkConstants[_0x1f7909(0x241)]]:_0x2a18bd,[TestFrameworkConstants[_0x1f7909(0x26c)]]:_0x5b44aa[_0x2a18bd],[TestFrameworkConstants[_0x1f7909(0x1df)]]:[],[TestFrameworkConstants[_0x1f7909(0x1eb)]]:{},[TestFrameworkConstants[_0x1f7909(0x224)]]:{},[TestFrameworkConstants[_0x1f7909(0x236)]]:_0x509da6,[TestFrameworkConstants[_0x1f7909(0x1ff)]]:TestFrameworkConstants['DEFAULT_TEST_RESULT'],[TestFrameworkConstants[_0x1f7909(0x1de)]]:_0x3ccc7b[_0x1f7909(0x1f6)]||'',[TestFrameworkConstants['KEY_TEST_FILE_PATH']]:_0x3ccc7b['file_name']||'',[TestFrameworkConstants[_0x1f7909(0x26e)]]:_0x589d53,[TestFrameworkConstants[_0x1f7909(0x1f5)]]:_0x3ccc7b['name']||'',[TestFrameworkConstants[_0x1f7909(0x251)]]:_0x3ccc7b[_0x1f7909(0x267)]||'',[TestFrameworkConstants[_0x1f7909(0x244)]]:_0x3ccc7b['body']?.[_0x1f7909(0x260)]||null,[TestFrameworkConstants[_0x1f7909(0x1c4)]]:_0x3ccc7b[_0x1f7909(0x242)]||[],[TestFrameworkConstants[_0x1f7909(0x1f1)]]:_0x3ccc7b[_0x1f7909(0x27e)]||new Date()[_0x1f7909(0x1ed)](),[TestFrameworkConstants[_0x1f7909(0x1cf)]]:_0x3ccc7b[_0x1f7909(0x23c)]?.[0x0]||'',[TestFrameworkConstants[_0x1f7909(0x1ca)]]:_0x3ccc7b['scopes']||[],[TestFrameworkConstants[_0x1f7909(0x1e3)]]:_0x3ccc7b['customRerunParam']?.[_0x1f7909(0x1c3)]||_0x3ccc7b[_0x1f7909(0x1f6)]||'',[TestFrameworkConstants[_0x1f7909(0x231)]]:{},[TestFrameworkConstants[_0x1f7909(0x268)]]:_0x3ccc7b[_0x1f7909(0x28d)]||{}};TestInfo[_0x1f7909(0x270)](_0x589d53,_0x2081ff),logger['debug'](_0x1f7909(0x1c2)+_0x3ccc7b[_0x1f7909(0x1f6)]+_0x1f7909(0x1d7)+_0x509da6);const _0x7937bd={};return _0x7937bd[_0x589d53]=_0x2081ff,_0x7937bd;}[a68_0x9d3dad(0x20a)](_0x286c7a){const _0x120944=a68_0x9d3dad,_0x194622={'kcfZq':_0x120944(0x27a),'tKkWC':_0x120944(0x1e5),'Dgcyw':function(_0x396323,_0x1ea542){return _0x396323===_0x1ea542;},'PtNTu':_0x120944(0x1d0),'VEQDb':_0x120944(0x265),'qZmcQ':function(_0x3ba5dc,_0x4f0559,_0x176519){return _0x3ba5dc(_0x4f0559,_0x176519);},'tLufX':function(_0x43c9d0,_0x351fa7){return _0x43c9d0>_0x351fa7;},'kCAQf':function(_0x1074b3,_0x39edc9){return _0x1074b3>_0x39edc9;}},{testUUID:_0x5894b1,testData:_0x1e77f1}=_0x286c7a;if(!_0x1e77f1||!_0x1e77f1[_0x120944(0x25e)])return logger['debug'](_0x194622[_0x120944(0x250)]),{};const _0x1d82e3=this['resolveInstance'](TestFrameworkState[_0x120944(0x21e)],HookState[_0x120944(0x28b)]),_0x543fca=_0x1e77f1[_0x120944(0x25e)],_0x59706e=TestInfo['getTestDetails'](_0x543fca)||{},_0x3e3553=_0x59706e?_0x59706e[TestFrameworkConstants[_0x120944(0x231)]]||{}:{},_0x33f983={..._0x59706e,[TestFrameworkConstants[_0x120944(0x1ff)]]:_0x1e77f1[_0x120944(0x271)]||_0x194622[_0x120944(0x1c8)],[TestFrameworkConstants[_0x120944(0x1d1)]]:_0x1e77f1[_0x120944(0x220)]||new Date()[_0x120944(0x1ed)](),[TestFrameworkConstants[_0x120944(0x221)]]:new Date()[_0x120944(0x1ed)](),[TestFrameworkConstants['KEY_CUSTOM_TAGS']]:_0x3e3553,[TestFrameworkConstants[_0x120944(0x21c)]]:[],[TestFrameworkConstants[_0x120944(0x268)]]:_0x1e77f1[_0x120944(0x28d)]||{}};_0x194622[_0x120944(0x281)](_0x1e77f1[_0x120944(0x271)],_0x194622[_0x120944(0x25d)])&&_0x1e77f1[_0x120944(0x1f7)]&&(_0x33f983[TestFrameworkConstants[_0x120944(0x1d8)]]=_0x1e77f1[_0x120944(0x287)]||_0x194622[_0x120944(0x249)],_0x33f983[TestFrameworkConstants['KEY_TEST_FAILURE_REASON']]=_0x1e77f1[_0x120944(0x263)]||'',_0x33f983[TestFrameworkConstants[_0x120944(0x218)]]=_0x1e77f1[_0x120944(0x1f7)]);const _0x4f0053=TestInfo[_0x120944(0x232)](_0x543fca)[TestFrameworkConstants[_0x120944(0x226)]]||{},_0x1c4a16=_0x194622[_0x120944(0x21d)](getManualUploadLogs,_0x4f0053,_0x1d82e3[_0x120944(0x284)]()[_0x120944(0x27c)](_0x543fca)[TestFrameworkConstants[_0x120944(0x236)]]);if(_0x194622[_0x120944(0x1e8)](_0x1c4a16[_0x120944(0x25f)],0x0)){const _0x291e1=_0x33f983[TestFrameworkConstants[_0x120944(0x21c)]]||[];_0x33f983[TestFrameworkConstants[_0x120944(0x21c)]]=[..._0x291e1,..._0x1c4a16];}_0x1e77f1['hooks']&&_0x194622['kCAQf'](_0x1e77f1[_0x120944(0x217)]['length'],0x0)&&(_0x33f983[TestFrameworkConstants[_0x120944(0x1eb)]]=_0x1e77f1[_0x120944(0x217)]);TestInfo[_0x120944(0x270)](_0x543fca,_0x33f983),logger[_0x120944(0x222)](_0x120944(0x21b)+_0x1e77f1[_0x120944(0x1f6)]+_0x120944(0x255)+_0x1e77f1[_0x120944(0x271)]);const _0x4550ab={};return _0x4550ab[_0x543fca]=_0x33f983,_0x4550ab;}async['trackHookEvent'](_0x259379,_0x5e1194,_0x377adb,_0x339bed){const _0x590042=a68_0x9d3dad,_0x3837e7={'gcQBR':_0x590042(0x278),'ctmFY':function(_0x5d5373){return _0x5d5373();},'CLNev':function(_0xf15574,_0x361b90){return _0xf15574 in _0x361b90;},'NLWPP':function(_0x199384,_0x1991e0){return _0x199384===_0x1991e0;},'oHofX':function(_0x1b1d5b,_0x19d877){return _0x1b1d5b===_0x19d877;},'PlhAV':function(_0x1e21e4,_0x48d12a){return _0x1e21e4>_0x48d12a;},'TiJTR':_0x590042(0x1d0),'RoQjT':_0x590042(0x265),'XSUUG':_0x590042(0x279),'MgYkU':function(_0x2969f0,_0x3f680f){return _0x2969f0!==_0x3f680f;}},{hookData:_0x34f94b}=_0x339bed;if(!_0x34f94b)return logger[_0x590042(0x222)](_0x3837e7[_0x590042(0x1f2)]),{};const _0x1575b0=_0x34f94b[_0x590042(0x25e)]||_0x3837e7['ctmFY'](uuidv4),_0x37054f=_0x34f94b[_0x590042(0x280)],_0x45579b=_0x5e1194[_0x590042(0x283)]()[_0x590042(0x26a)]('.')[0x1],_0x3fb066=TestInfo['getTestDetails'](_0x37054f)[TestFrameworkConstants[_0x590042(0x231)]]||{},_0x308c44=_0x259379[_0x590042(0x284)]()[_0x590042(0x27c)](_0x37054f);if(!_0x308c44)return logger[_0x590042(0x222)](_0x590042(0x1ce)+_0x37054f+_0x590042(0x22a)),this[_0x590042(0x23a)](_0x259379,_0x37054f,_0x5e1194,_0x377adb,_0x339bed),{};let _0x14c860=_0x308c44[TestFrameworkConstants[_0x590042(0x224)]];!_0x14c860&&(_0x14c860={});!_0x3837e7[_0x590042(0x1f0)](_0x45579b,_0x14c860)&&(_0x14c860[_0x45579b]=[]);let _0x4a7df8=_0x308c44[TestFrameworkConstants[_0x590042(0x1eb)]];!_0x4a7df8&&(_0x4a7df8={});!_0x3837e7[_0x590042(0x1f0)](_0x45579b,_0x4a7df8)&&(_0x4a7df8[_0x45579b]=[]);const _0x3c5aa9={[TestFrameworkConstants[_0x590042(0x224)]]:_0x14c860,[TestFrameworkConstants[_0x590042(0x1eb)]]:_0x4a7df8},_0x3977ea={};_0x3977ea[_0x37054f]=_0x3c5aa9;const _0x34f826=_0x3977ea;if(_0x3837e7[_0x590042(0x210)](_0x377adb,HookState['PRE'])){const _0x46538d={[TestFrameworkConstants[_0x590042(0x216)]]:_0x1575b0,[TestFrameworkConstants[_0x590042(0x245)]]:TestFrameworkConstants[_0x590042(0x229)],[TestFrameworkConstants[_0x590042(0x237)]]:_0x34f94b[_0x590042(0x1fa)],[TestFrameworkConstants[_0x590042(0x1fc)]]:[],[TestFrameworkConstants[_0x590042(0x233)]]:_0x34f94b[_0x590042(0x22d)],[TestFrameworkConstants[_0x590042(0x231)]]:_0x3fb066};_0x46538d[_0x590042(0x262)]=_0x45579b;const _0x5960c8=_0x46538d;_0x14c860[_0x45579b][_0x590042(0x259)](_0x5960c8),_0x34f826[_0x37054f][TestFrameworkConstants[_0x590042(0x1c1)]]=_0x45579b,logger[_0x590042(0x222)](_0x590042(0x261)+_0x45579b+'\x20&\x20hook\x20=\x20'+_0x5960c8+_0x590042(0x1ee)+_0x339bed);}else{if(_0x3837e7[_0x590042(0x213)](_0x377adb,HookState[_0x590042(0x28b)])){const _0x45a7aa=_0x34f94b[_0x590042(0x271)],_0x570892=_0x14c860[_0x45579b]||[];logger[_0x590042(0x222)](_0x590042(0x264)+_0x570892+'\x20and\x20args\x20=\x20'+_0x339bed);if(_0x3837e7[_0x590042(0x1d3)](_0x570892[_0x590042(0x25f)],0x0)){const _0x170b86=_0x570892[_0x590042(0x206)]();_0x3837e7['oHofX'](_0x34f94b[_0x590042(0x271)],_0x3837e7[_0x590042(0x28c)])&&_0x34f94b['failure_data']?(_0x170b86[TestFrameworkConstants[_0x590042(0x1db)]]=_0x34f94b[_0x590042(0x287)]||_0x3837e7[_0x590042(0x288)],_0x170b86[TestFrameworkConstants[_0x590042(0x27b)]]=_0x34f94b[_0x590042(0x263)]||'',_0x170b86[TestFrameworkConstants[_0x590042(0x20c)]]=_0x34f94b['failure_data']):_0x170b86[TestFrameworkConstants[_0x590042(0x245)]]=_0x3837e7['XSUUG'];_0x3837e7[_0x590042(0x238)](_0x45a7aa,TestFrameworkConstants['DEFAULT_HOOK_RESULT'])&&(_0x170b86[TestFrameworkConstants[_0x590042(0x245)]]=_0x45a7aa);_0x170b86[TestFrameworkConstants[_0x590042(0x1c5)]]=_0x34f94b[_0x590042(0x1fb)]||new Date()[_0x590042(0x1ed)](),_0x170b86[TestFrameworkConstants[_0x590042(0x231)]]=_0x3fb066;const _0x5784e9=_0x170b86[TestFrameworkConstants[_0x590042(0x216)]];!_0x4a7df8[_0x45579b]&&(_0x4a7df8[_0x45579b]=[]),_0x4a7df8[_0x45579b][_0x590042(0x259)](_0x170b86),_0x34f826[_0x37054f][TestFrameworkConstants[_0x590042(0x253)]]=_0x45579b;}}}return logger['debug'](_0x590042(0x1cd)+_0x34f94b[_0x590042(0x22d)]+_0x590042(0x1e2)+_0x1575b0+'\x20for\x20test:\x20'+_0x37054f),_0x34f826;}['createTestFrameworkEventPayload'](_0xb2a70a){const _0x296ddc=a68_0x9d3dad,_0x39f8b7={};_0x39f8b7[_0x296ddc(0x1f3)]=_0x296ddc(0x209);const _0x4485c3=_0x39f8b7;try{const _0x4ad200=_0xb2a70a['test']?_0xb2a70a[_0x296ddc(0x20b)]['id']:_0xb2a70a[_0x296ddc(0x21f)][_0x296ddc(0x280)],_0x3112d3=_0xb2a70a[_0x296ddc(0x23f)],_0x5e9bf6=_0x3112d3['getContext'](),_0x1712a4=_0x3112d3[_0x296ddc(0x284)]()[_0x296ddc(0x27c)](_0x4ad200);if(!_0x1712a4)return logger['debug']('createTestFrameworkEventPayload:\x20No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20'+_0x4ad200),{};logger['debug'](_0x296ddc(0x282)+_0x4ad200);const {[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0xbdf354='',[TestFrameworkConstants[_0x296ddc(0x26c)]]:_0x1983b1='',[TestFrameworkConstants[_0x296ddc(0x1f1)]]:_0x5534fe='',[TestFrameworkConstants['KEY_TEST_ENDED_AT']]:_0x2304eb=''}=_0x1712a4,_0x2a5637=_0x3112d3[_0x296ddc(0x234)]()[_0x296ddc(0x283)]()['split']('.')[0x1],_0x5a46e5=_0x3112d3[_0x296ddc(0x1e0)]()[_0x296ddc(0x283)]()[_0x296ddc(0x26a)]('.')[0x1],_0x1aac73=global?.[_0x296ddc(0x1cc)]?.[_0x296ddc(0x20e)]?.[_0x296ddc(0x1da)],_0x519991=_0x3112d3[_0x296ddc(0x214)](),_0x12d448=Buffer[_0x296ddc(0x223)](JSON[_0x296ddc(0x1fe)](_0x1712a4))[_0x296ddc(0x283)](_0x4485c3[_0x296ddc(0x1f3)]),_0x25e78d={'hash':_0x5e9bf6[_0x296ddc(0x202)](),'threadId':_0x5e9bf6[_0x296ddc(0x20d)]()['toString'](),'processId':_0x5e9bf6[_0x296ddc(0x207)]()[_0x296ddc(0x283)]()},_0x10c63a={};_0x10c63a[_0x296ddc(0x247)]=_0x1aac73,_0x10c63a['testFrameworkName']=_0xbdf354,_0x10c63a['testFrameworkVersion']=_0x1983b1,_0x10c63a[_0x296ddc(0x26d)]=_0x2a5637,_0x10c63a['hookState']=_0x5a46e5,_0x10c63a[_0x296ddc(0x27e)]=_0x5534fe,_0x10c63a[_0x296ddc(0x243)]=_0x2304eb,_0x10c63a[_0x296ddc(0x25e)]=_0x519991,_0x10c63a[_0x296ddc(0x22c)]=_0x12d448,_0x10c63a[_0x296ddc(0x272)]=_0x25e78d;const _0x2d187f=_0x10c63a;return logger[_0x296ddc(0x222)](_0x296ddc(0x228)+_0x4ad200+'\x20testState:\x20'+_0x2a5637+_0x296ddc(0x24c)+_0x5a46e5),_0x2d187f;}catch(_0x510798){return logger[_0x296ddc(0x1e7)]('Error\x20in\x20createTestFrameworkEventPayload:\x20'+util['format'](_0x510798)),{};}}async[a68_0x9d3dad(0x205)](_0x4e73f6,_0xd6da14,_0x1c56d5){const _0x9eafc7=a68_0x9d3dad,_0x18c2ea={'YbbfE':function(_0x2d334e,_0x17547a,_0x282d90){return _0x2d334e(_0x17547a,_0x282d90);},'tSXTU':function(_0x579018,_0x3da18a){return _0x579018===_0x3da18a;},'OJQIO':_0x9eafc7(0x286),'WdOeR':function(_0x8d0ad3,_0x165cf4){return _0x8d0ad3/_0x165cf4;},'dkNLI':function(_0x3d3751,_0x3864f8){return _0x3d3751<_0x3864f8;},'RZAIY':function(_0x163cfa,_0x2d230c){return _0x163cfa*_0x2d230c;},'uOevl':function(_0x502c52,_0x21a5f6){return _0x502c52+_0x21a5f6;},'dISMI':function(_0x465f0d,_0x5d64d7){return _0x465f0d+_0x5d64d7;},'oFsSa':_0x9eafc7(0x20f)};try{const _0x2c40bd=_0x1c56d5['testUUID'],_0x348b49=_0x4e73f6[_0x9eafc7(0x284)]()['get'](_0x2c40bd),{[TestFrameworkConstants[_0x9eafc7(0x241)]]:_0x23936b='',[TestFrameworkConstants[_0x9eafc7(0x26c)]]:_0x2699a5=''}=_0x348b49,_0x204143=TestInfo[_0x9eafc7(0x266)](_0x2c40bd),_0x3cfb03=TestInfo['getTestDetails'](_0x2c40bd)[TestFrameworkConstants[_0x9eafc7(0x226)]]||{},_0x511dbd=_0x18c2ea['YbbfE'](getMediaArtifactsLogs,_0x3cfb03,_0x4e73f6[_0x9eafc7(0x284)]()['get'](_0x2c40bd)[TestFrameworkConstants['KEY_TEST_UUID']]),_0x39c1da=(_0x204143||[])[_0x9eafc7(0x1dc)](_0x511dbd||[]);if(!_0x39c1da||_0x18c2ea['tSXTU'](_0x39c1da[_0x9eafc7(0x25f)],0x0)){logger[_0x9eafc7(0x222)](_0x18c2ea[_0x9eafc7(0x211)]);return;}const _0x770043=0x28,_0x21344c=Math['ceil'](_0x18c2ea[_0x9eafc7(0x235)](_0x39c1da[_0x9eafc7(0x25f)],_0x770043));for(let _0x2006f9=0x0;_0x18c2ea['dkNLI'](_0x2006f9,_0x21344c);_0x2006f9++){const _0x6ef329=_0x18c2ea[_0x9eafc7(0x227)](_0x2006f9,_0x770043),_0x17d1c4=_0x18c2ea[_0x9eafc7(0x1d9)](_0x6ef329,_0x770043),_0x2089a1=_0x39c1da[_0x9eafc7(0x1e6)](_0x6ef329,_0x17d1c4),_0x332b5e={'platformIndex':'0','logs':_0x2089a1,'testFrameworkName':_0x23936b,'testFrameworkVersion':_0x2699a5,'testFrameworkState':_0xd6da14[_0x9eafc7(0x283)]()[_0x9eafc7(0x26a)]('.')[0x1]};logger[_0x9eafc7(0x222)](_0x9eafc7(0x277)+_0x2c40bd+'\x20batch\x20'+_0x18c2ea['dISMI'](_0x2006f9,0x1)+'/'+_0x21344c+'\x20payload='+util['inspect'](_0x332b5e));const _0x313473=await GrpcClient[_0x9eafc7(0x252)]()[_0x9eafc7(0x240)](_0x332b5e);logger[_0x9eafc7(0x222)](_0x9eafc7(0x277)+_0x2c40bd+_0x9eafc7(0x204)+_0x18c2ea[_0x9eafc7(0x1d9)](_0x2006f9,0x1)+'/'+_0x21344c+_0x9eafc7(0x24a)+util['inspect'](_0x313473));}}catch(_0x3c378f){logger[_0x9eafc7(0x1e7)]('sendLogCreatedEvent:\x20Error\x20in\x20sending\x20log\x20events:\x20'+util[_0x9eafc7(0x22f)](_0x3c378f));}logger[_0x9eafc7(0x222)](_0x18c2ea[_0x9eafc7(0x230)]);}['storePendingHook'](_0x6283f2,_0x209192,_0x511218,_0x3d292b,_0x3f888f){const _0x2a3bb9=a68_0x9d3dad,_0x5ec200={'testId':_0x209192,'testFrameworkState':_0x511218,'hookState':_0x3d292b,'args':_0x3f888f,'timestamp':new Date()[_0x2a3bb9(0x1ed)]()};_0x6283f2[_0x2a3bb9(0x27f)](_0x209192,_0x5ec200),logger['debug'](_0x2a3bb9(0x212)+_0x209192+',\x20state:\x20'+_0x511218+_0x2a3bb9(0x225)+_0x3d292b);}async[a68_0x9d3dad(0x285)](_0x49321b,_0x578039){const _0xd36072=a68_0x9d3dad,_0x3997a5={};_0x3997a5['RPoNV']=function(_0x3630c0,_0xe442c){return _0x3630c0>_0xe442c;};const _0x4c063b=_0x3997a5;if(!_0x49321b['hasPendingHooks'](_0x578039))return;const _0x18d839=_0x49321b[_0xd36072(0x26f)](_0x578039);logger[_0xd36072(0x222)](_0xd36072(0x1cb)+_0x18d839['length']+_0xd36072(0x1f9)+_0x578039);for(const _0x529230 of _0x18d839){try{const _0x3d1396=await this[_0xd36072(0x248)](_0x49321b,_0x529230[_0xd36072(0x26d)],_0x529230[_0xd36072(0x254)],_0x529230[_0xd36072(0x1e4)]);_0x3d1396&&_0x4c063b[_0xd36072(0x22b)](Object[_0xd36072(0x24d)](_0x3d1396)[_0xd36072(0x25f)],0x0)&&_0x49321b[_0xd36072(0x257)](_0x3d1396),await this[_0xd36072(0x274)](_0x49321b,_0x529230['testFrameworkState'],_0x529230['hookState'],_0x529230[_0xd36072(0x1e4)]);}catch(_0x37032c){logger['error']('Error\x20processing\x20pending\x20hook\x20for\x20testId:\x20'+_0x578039+',\x20error:\x20'+_0x37032c);}}_0x49321b['removePendingHooks'](_0x578039),logger['debug'](_0xd36072(0x1e9)+_0x578039);}}module[a68_0x9d3dad(0x269)]=CucumberTestFramework;function a68_0x1fbd(){const _0x3f761d=['../state/hookState.js','toISOString','\x20\x20and\x20args\x20=\x20','NONE','CLNev','KEY_TEST_STARTED_AT','gcQBR','wgkiN','testData','KEY_TEST_NAME','name','failure','7sozETG','\x20pending\x20hooks\x20for\x20testId:\x20','started_at','finished_at','KEY_HOOK_LOGS','getTestFrameworks','stringify','KEY_TEST_RESULT','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','gahoq','getId','YtdYU','\x20batch\x20','sendLogCreatedEvent','pop','getProcessId','trackEvent','base64','parseCucumberTestResult','test','KEY_HOOK_FAILURE','getThreadId','workerInfo','Cucumber\x20log\x20created\x20event','NLWPP','OJQIO','Stored\x20pending\x20hook\x20for\x20testId:\x20','oHofX','getRef','parseCucumberTest','KEY_HOOK_ID','hooks','KEY_TEST_FAILURE','2451159gTfmGO','trackCucumberInstance:\x20created\x20instance\x20for\x20target=','Updated\x20cucumber\x20test\x20result:\x20','KEY_LOGS','qZmcQ','TEST','hookData','finishedAt','KEY_TEST_RESULT_AT','debug','from','KEY_HOOKS_STARTED',',\x20hookState:\x20','KEY_TEST_ATTACHMENTS','RZAIY','createTestFrameworkEventPayload:\x20complete\x20for\x20testId:\x20','DEFAULT_HOOK_RESULT',',\x20storing\x20as\x20pending\x20hook','RPoNV','eventJson','hook_type','LOG_REPORT','format','oFsSa','KEY_CUSTOM_TAGS','getTestDetails','KEY_HOOK_NAME','getCurrentTestState','WdOeR','KEY_TEST_UUID','KEY_EVENT_STARTED_AT','MgYkU','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','storePendingHook','../grpcClient','scopes','getCurrentInstanceName','trackCucumberInstance','instance','logCreatedEvent','KEY_TEST_FRAMEWORK_NAME','tags','endedAt','KEY_TEST_CODE','KEY_HOOK_RESULT','5284176PQxNmS','platformIndex','trackHookEvent','VEQDb','\x20response=','trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20','\x20hookState:\x20','keys','Oqscq','919975vKAKmX','kcfZq','KEY_TEST_LOCATION','getInstance','KEY_HOOK_LAST_FINISHED','hookState','\x20with\x20result:\x20','\x20target=','addMultipleEntries','370068svlQbO','push','getTestFrameworksVersions','188796TSEFpz','getTrackedInstance','PtNTu','uuid','length','code','trackHookEvent:\x20Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','key','failure_reason','trackHookEvent:\x20Hook\x20List\x20in\x20Post\x20','UnhandledError','readLogObjects','location','KEY_TEST_META','exports','split','CucumberTestFramework','KEY_TEST_FRAMEWORK_VERSION','testFrameworkState','KEY_TEST_ID','getPendingHooks','setTestDetails','result','executionContext','resolveInstance','runHooks','util','PRE','sendLogCreatedEvent:\x20for\x20testId:\x20','No\x20hook\x20data\x20provided\x20for\x20cucumber\x20hook\x20event','passed','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test\x20result','KEY_HOOK_FAILURE_REASON','get','qcjFM','startedAt','addPendingHook','test_run_id','Dgcyw','createTestFrameworkEventPayload\x20testId:\x20','toString','getAllData','processPendingHooks','sendLogCreatedEvent:\x20No\x20logs\x20found,\x20skipping','failure_type','RoQjT','../TestInfo.js','16420584gAaraW','POST','TiJTR','meta','./testFramework','KEY_HOOK_LAST_STARTED','Parsed\x20cucumber\x20test:\x20','rerun_name','KEY_TEST_TAGS','KEY_EVENT_ENDED_AT','tOFSv','testUUID','tKkWC','93821XgaYvO','KEY_TEST_SCOPES','Processing\x20','__workerDetails','Tracked\x20cucumber\x20hook\x20event:\x20','No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','KEY_TEST_SCOPE','failed','KEY_TEST_ENDED_AT','../instances/trackedInstance.js','PlhAV','setTrackedInstance',',\x20state=','../cliUtils.js','\x20with\x20UUID:\x20','KEY_TEST_FAILURE_TYPE','uOevl','parallelIndex','KEY_HOOK_FAILURE_TYPE','concat','getTestUUID','KEY_AUTOMATE_SESSION_NAME','KEY_TEST_LOGS','getCurrentHookState','trackEvent:\x20unsupported\x20testFrameworkState=','\x20with\x20id\x20','KEY_TEST_RERUN_NAME','args','unknown','slice','error','tLufX','Cleared\x20processed\x20pending\x20hooks\x20for\x20testId:\x20','./constants/testFrameworkConstants.js','KEY_HOOKS_FINISHED'];a68_0x1fbd=function(){return _0x3f761d;};return a68_0x1fbd();}