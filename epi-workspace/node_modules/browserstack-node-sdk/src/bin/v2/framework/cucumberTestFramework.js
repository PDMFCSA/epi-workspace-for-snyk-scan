const a70_0x3c46cd=a70_0x3be4;(function(_0x4b591d,_0x447816){const _0x2ebf8f=a70_0x3be4,_0x1108dc=_0x4b591d();while(!![]){try{const _0xf89e9f=parseInt(_0x2ebf8f(0x11c))/0x1*(parseInt(_0x2ebf8f(0x108))/0x2)+-parseInt(_0x2ebf8f(0x177))/0x3*(parseInt(_0x2ebf8f(0x10e))/0x4)+-parseInt(_0x2ebf8f(0xed))/0x5*(parseInt(_0x2ebf8f(0x17c))/0x6)+parseInt(_0x2ebf8f(0x12b))/0x7*(-parseInt(_0x2ebf8f(0xdf))/0x8)+parseInt(_0x2ebf8f(0x17a))/0x9+parseInt(_0x2ebf8f(0x1b4))/0xa*(-parseInt(_0x2ebf8f(0x105))/0xb)+parseInt(_0x2ebf8f(0x10a))/0xc;if(_0xf89e9f===_0x447816)break;else _0x1108dc['push'](_0x1108dc['shift']());}catch(_0x2dd262){_0x1108dc['push'](_0x1108dc['shift']());}}}(a70_0x383f,0x87228));const TestFramework=require(a70_0x3c46cd(0x18c)),TestFrameworkState=require('../state/testFrameworkState.js'),HookState=require('../state/hookState.js'),{createClassLogger}=require(a70_0x3c46cd(0x178)),TestFrameworkInstance=require(a70_0x3c46cd(0xe2)),CLIUtils=require(a70_0x3c46cd(0x171)),TrackedInstance=require('../instances/trackedInstance.js'),TestFrameworkConstants=require(a70_0x3c46cd(0xfb)),{getManualUploadLogs,getMediaArtifactsLogs}=require('../../../helpers/helper.js'),logger=createClassLogger(a70_0x3c46cd(0xf6)),{v4:uuidv4}=require(a70_0x3c46cd(0xf0)),util=require(a70_0x3c46cd(0x10b)),TestInfo=require('../TestInfo.js'),GrpcClient=require(a70_0x3c46cd(0x11d));function a70_0x3be4(_0x32c093,_0x216a98){const _0x383f2f=a70_0x383f();return a70_0x3be4=function(_0x3be439,_0x191b33){_0x3be439=_0x3be439-0xdb;let _0x5290e6=_0x383f2f[_0x3be439];return _0x5290e6;},a70_0x3be4(_0x32c093,_0x216a98);}function a70_0x383f(){const _0x4e5204=['tags','getProcessId','KEY_TEST_UUID','testFrameworkState','pop','removePendingHooks','KEY_CUSTOM_TAGS','\x20payload=','yKXuS','Tracked\x20cucumber\x20hook\x20event:\x20','KEY_TEST_FAILURE_REASON','OsOPL','trackCucumberInstance','KEY_HOOKS_STARTED','hasPendingHooks','7796930mgkvdI','addMultipleEntries','trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20','KEY_TEST_NAME','failed','trackHookEvent:\x20Hook\x20List\x20in\x20Post\x20','error','8aCusvH','KEY_TEST_LOCATION','KEY_TEST_FILE_PATH','../instances/testFrameworkInstance.js','hookState','QoZGi','base64','KEY_TEST_ATTACHMENTS','sendLogCreatedEvent','KEY_HOOK_RESULT',',\x20error:\x20','eventJson','code','getCurrentHookState','5rhjuCF','startedAt','KEY_HOOK_FAILURE','uuid','testData','test','Stored\x20pending\x20hook\x20for\x20testId:\x20','ekXJA','\x20with\x20id\x20','CucumberTestFramework','KEY_HOOK_LAST_STARTED','started_at','JjNii','trackHookEvent:\x20Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','./constants/testFrameworkConstants.js','hook_type','KEY_LOGS','UODAg','hooks','ewNPw','createTestFrameworkEventPayload\x20testId:\x20','getThreadId','KEY_HOOK_NAME','sendLogCreatedEvent:\x20No\x20logs\x20found,\x20skipping','11uHWvoY','getRef','format','188TszrHs','failure_reason','26958660WjNuZo','util','Vtahv','UnhandledError','67020EfoHRM','vZlnG','POST','split','SCNNW','getAllData','iszVu','resolveInstance','sendLogCreatedEvent:\x20for\x20testId:\x20','KEY_TEST_STARTED_AT','RHSvY','parseCucumberTestResult','debug','getId','11176rTdVTc','../grpcClient','KEY_TEST_ID','getPendingHooks','processPendingHooks','name','KEY_TEST_ENDED_AT','getCurrentInstanceName','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','PRE','instance','xVriF','stringify','addPendingHook','body','5615883atqzRy','test_run_id','KEY_TEST_SCOPE','\x20target=','exports','executionContext','trackCucumberInstance:\x20saved\x20instance\x20contextId=','concat','parallelIndex','failure_type','trackCucumberInstance:\x20created\x20instance\x20for\x20target=','getTestDetails','\x20batch\x20','KEY_TEST_FAILURE_TYPE','\x20hookState:\x20','createContext','AGSlw','Cucumber\x20log\x20created\x20event','KEY_TEST_FAILURE','NONE','BpCnT',',\x20hookState:\x20','KEY_TEST_RESULT_AT','customRerunParam','KEY_TEST_RERUN_NAME','\x20testState:\x20','file_name','Error\x20in\x20createTestFrameworkEventPayload:\x20','DEFAULT_HOOK_RESULT','length','KEY_TEST_FRAMEWORK_NAME','failure_data','finishedAt','bwdOo','setTestDetails','getCurrentTestState','zLZZl','toISOString','DqBCV','\x20response=',',\x20state:\x20','uTTFA','workerInfo','push','matchHookRegex','storePendingHook','rerun_name','MJLVA','aILyk','parseCucumberTest','lpkKP','createTestFrameworkEventPayload','Updated\x20cucumber\x20test\x20result:\x20','LOG_REPORT','runHooks','eRyjW','from','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test\x20result','MbpWi',',\x20storing\x20as\x20pending\x20hook','No\x20hook\x20data\x20provided\x20for\x20cucumber\x20hook\x20event','XXzoV','yUpaA','getTestFrameworksVersions','KEY_HOOK_LAST_FINISHED','trackEvent:\x20Test\x20Framework\x20instance\x20not\x20found','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','location','\x20&\x20hookState=','Parsed\x20cucumber\x20test:\x20','../cliUtils.js','inspect','DcImM','\x20with\x20result:\x20','UuRjU','\x20pending\x20hooks\x20for\x20testId:\x20','180oIiSOw','../../../helpers/classLogger.js','RnUHE','7044372MOtguT','logCreatedEvent','5634198QatRbv','failure','KEY_HOOK_FAILURE_REASON','keys','Cleared\x20processed\x20pending\x20hooks\x20for\x20testId:\x20','moBSs','getInstance','KEY_EVENT_STARTED_AT','KEY_TEST_RESULT','KEY_HOOK_ID','scopes','trackHookEvent','key',',\x20state=','\x20\x20and\x20args\x20=\x20','IwysM','./testFramework','testFrameworkVersion','Processing\x20','Error\x20processing\x20pending\x20hook\x20for\x20testId:\x20','TEST','getTrackedInstance','KEY_TEST_META','meta','get','KEY_TEST_CODE','testFrameworkName','readLogObjects','trackEvent','toString','KEY_EVENT_ENDED_AT','\x20&\x20hook\x20=\x20','finished_at','KEY_TEST_TAGS','hookData','passed','testUUID','ceil','KEY_HOOKS_FINISHED','result','KEY_TEST_FRAMEWORK_VERSION'];a70_0x383f=function(){return _0x4e5204;};return a70_0x383f();}class CucumberTestFramework extends TestFramework{constructor(_0x30aec2,_0x338a4d,_0xd47c04){super(_0x30aec2,_0x338a4d,_0xd47c04);}async['trackEvent'](_0x1d7fca,_0x5b06d8,_0x1b870d={}){const _0x2c9504=a70_0x3c46cd,_0x41466d={};_0x41466d[_0x2c9504(0x154)]=_0x2c9504(0x16c),_0x41466d[_0x2c9504(0xe4)]=function(_0x105a91,_0x129379){return _0x105a91===_0x129379;},_0x41466d['ewNPw']=function(_0x4773f0,_0x120b96){return _0x4773f0===_0x120b96;},_0x41466d[_0x2c9504(0x181)]=function(_0x51babc,_0x25ed2d){return _0x51babc===_0x25ed2d;},_0x41466d[_0x2c9504(0x179)]=_0x2c9504(0x16d);const _0x3d73a3=_0x41466d;await super[_0x2c9504(0x198)](_0x1d7fca,_0x5b06d8,_0x1b870d);const _0x3016be=this[_0x2c9504(0x115)](_0x1d7fca,_0x5b06d8,_0x1b870d);if(!_0x3016be){logger['debug'](_0x3d73a3['uTTFA']);return;}try{let _0x2db4c1,_0x49bb65;switch(_0x1d7fca){case TestFrameworkState[_0x2c9504(0x190)]:_0x2db4c1=_0x1b870d['test'],_0x49bb65=TestInfo['getTestUUID'](_0x2db4c1['id']);if(_0x3d73a3['QoZGi'](_0x5b06d8,HookState[_0x2c9504(0x125)])){logger[_0x2c9504(0x11a)](_0x2c9504(0x124)+_0x2db4c1['id']);const _0x383abf={};_0x383abf[_0x2c9504(0x1a0)]=_0x49bb65,_0x383abf[_0x2c9504(0xf1)]=_0x2db4c1,_0x3016be[_0x2c9504(0x1b5)](this[_0x2c9504(0x15c)](_0x383abf)),logger[_0x2c9504(0x11a)](_0x2c9504(0x1b6)+_0x2db4c1['id']),await this[_0x2c9504(0x120)](_0x3016be,_0x2db4c1['id']);}else{if(_0x3d73a3[_0x2c9504(0x100)](_0x5b06d8,HookState['POST'])){const _0x1d19e1={};_0x1d19e1[_0x2c9504(0x1a0)]=_0x49bb65,_0x1d19e1[_0x2c9504(0xf1)]=_0x2db4c1,_0x3016be[_0x2c9504(0x1b5)](this[_0x2c9504(0x119)](_0x1d19e1)),await this[_0x2c9504(0x120)](_0x3016be,_0x2db4c1['id']);}}break;case TestFrameworkState[_0x2c9504(0x160)]:_0x3d73a3['moBSs'](_0x5b06d8,HookState['POST'])&&await this[_0x2c9504(0xe7)](_0x3016be,_0x1d7fca,_0x1b870d);break;default:if(CLIUtils[_0x2c9504(0x157)](_0x1d7fca[_0x2c9504(0x199)]()['split']('.')[0x1])){const _0x3c6f1c=await this[_0x2c9504(0x187)](_0x3016be,_0x1d7fca,_0x5b06d8,_0x1b870d);_0x3016be['addMultipleEntries'](_0x3c6f1c);}else logger['debug']('trackEvent:\x20unsupported\x20testFrameworkState='+_0x1d7fca+_0x2c9504(0x16f)+_0x5b06d8);break;}}catch(_0x1af703){logger['error'](util[_0x2c9504(0x107)](_0x3d73a3[_0x2c9504(0x179)],_0x1d7fca,_0x5b06d8,_0x1b870d[_0x2c9504(0x148)],_0x1af703));}_0x1b870d[_0x2c9504(0x126)]=_0x3016be,await this[_0x2c9504(0x161)](_0x3016be,_0x1d7fca,_0x5b06d8,_0x1b870d);}['resolveInstance'](_0x3f1a94,_0x3918a6,_0x36d58d={}){const _0x42b78b=a70_0x3c46cd,_0x9ca570={};_0x9ca570[_0x42b78b(0x114)]=function(_0xa03b6f,_0x268384){return _0xa03b6f===_0x268384;};const _0x6149ca=_0x9ca570;let _0x56289f=null;return(_0x6149ca['iszVu'](_0x3f1a94,TestFrameworkState['INIT_TEST'])||_0x6149ca[_0x42b78b(0x114)](_0x3f1a94,TestFrameworkState[_0x42b78b(0x13e)]))&&this[_0x42b78b(0x1b1)](_0x3f1a94,_0x36d58d),_0x56289f=TestFramework[_0x42b78b(0x191)](),_0x56289f;}[a70_0x3c46cd(0x1b1)](_0x1dfa78,_0xb92fe0){const _0x5cf7e2=a70_0x3c46cd,_0x52f27d=CLIUtils[_0x5cf7e2(0x123)](),_0x46a8cd=TrackedInstance[_0x5cf7e2(0x13a)](_0x52f27d);let _0x524988=null;logger['debug'](_0x5cf7e2(0x135)+_0x52f27d+_0x5cf7e2(0x189)+_0x1dfa78),_0x524988=new TestFrameworkInstance(_0x46a8cd,this['getTestFrameworks'](),this[_0x5cf7e2(0x16a)](),_0x1dfa78,HookState[_0x5cf7e2(0x13e)]),TestFramework['setTrackedInstance'](_0x46a8cd,_0x524988),logger[_0x5cf7e2(0x11a)](_0x5cf7e2(0x131)+_0x46a8cd[_0x5cf7e2(0x11b)]()+_0x5cf7e2(0x12e)+_0x52f27d);}[a70_0x3c46cd(0x15c)](_0x378bf6){const _0x19029c=a70_0x3c46cd,_0x1365ef={};_0x1365ef[_0x19029c(0x18b)]='No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test';const _0x485e94=_0x1365ef,{testUUID:_0x582c13,testData:_0x1de991}=_0x378bf6;if(!_0x1de991||!_0x1de991[_0x19029c(0xf0)])return logger[_0x19029c(0x11a)](_0x485e94[_0x19029c(0x18b)]),{};const _0x3b398a=_0x1de991['uuid'],_0xd46ebb=_0x1de991['uuid'],_0x31380d=this['getTestFrameworks']()[0x0],_0x1af0e6=this[_0x19029c(0x16a)](),_0x4dbaf4={[TestFrameworkConstants[_0x19029c(0x149)]]:_0x31380d,[TestFrameworkConstants[_0x19029c(0x1a4)]]:_0x1af0e6[_0x31380d],[TestFrameworkConstants['KEY_TEST_LOGS']]:[],[TestFrameworkConstants['KEY_HOOKS_FINISHED']]:{},[TestFrameworkConstants[_0x19029c(0x1b2)]]:{},[TestFrameworkConstants[_0x19029c(0x1a7)]]:_0x3b398a,[TestFrameworkConstants[_0x19029c(0x184)]]:TestFrameworkConstants['DEFAULT_TEST_RESULT'],[TestFrameworkConstants['KEY_AUTOMATE_SESSION_NAME']]:_0x1de991[_0x19029c(0x121)]||'',[TestFrameworkConstants[_0x19029c(0xe1)]]:_0x1de991[_0x19029c(0x145)]||'',[TestFrameworkConstants[_0x19029c(0x11e)]]:_0xd46ebb,[TestFrameworkConstants[_0x19029c(0xdb)]]:_0x1de991[_0x19029c(0x121)]||'',[TestFrameworkConstants[_0x19029c(0xe0)]]:_0x1de991[_0x19029c(0x16e)]||'',[TestFrameworkConstants[_0x19029c(0x195)]]:_0x1de991[_0x19029c(0x12a)]?.[_0x19029c(0xeb)]||null,[TestFrameworkConstants[_0x19029c(0x19d)]]:_0x1de991[_0x19029c(0x1a5)]||[],[TestFrameworkConstants[_0x19029c(0x117)]]:_0x1de991[_0x19029c(0xee)]||new Date()[_0x19029c(0x150)](),[TestFrameworkConstants[_0x19029c(0x12d)]]:_0x1de991[_0x19029c(0x186)]?.[0x0]||'',[TestFrameworkConstants['KEY_TEST_SCOPES']]:_0x1de991[_0x19029c(0x186)]||[],[TestFrameworkConstants[_0x19029c(0x143)]]:_0x1de991[_0x19029c(0x142)]?.[_0x19029c(0x159)]||_0x1de991[_0x19029c(0x121)]||'',[TestFrameworkConstants[_0x19029c(0x1ab)]]:{},[TestFrameworkConstants['KEY_TEST_META']]:_0x1de991['meta']||{}};TestInfo[_0x19029c(0x14d)](_0xd46ebb,_0x4dbaf4),logger[_0x19029c(0x11a)](_0x19029c(0x170)+_0x1de991['name']+'\x20with\x20UUID:\x20'+_0x3b398a);const _0x401f95={};return _0x401f95[_0xd46ebb]=_0x4dbaf4,_0x401f95;}[a70_0x3c46cd(0x119)](_0x1db4f8){const _0x5bd699=a70_0x3c46cd,_0x5389f3={'OsOPL':_0x5bd699(0x164),'bwdOo':'unknown','MbpWi':function(_0x5c044b,_0x25b6e1){return _0x5c044b===_0x25b6e1;},'lpkKP':_0x5bd699(0xdc),'eRyjW':'UnhandledError','aILyk':function(_0x455946,_0x573a36,_0x2409bf){return _0x455946(_0x573a36,_0x2409bf);},'TCxqn':function(_0x3fcace,_0x524b8d){return _0x3fcace>_0x524b8d;},'MJLVA':function(_0x2c1bb5,_0x33a82a){return _0x2c1bb5>_0x33a82a;}},{testUUID:_0x3de065,testData:_0x30490b}=_0x1db4f8;if(!_0x30490b||!_0x30490b[_0x5bd699(0xf0)])return logger[_0x5bd699(0x11a)](_0x5389f3[_0x5bd699(0x1b0)]),{};const _0x3a99e6=this[_0x5bd699(0x115)](TestFrameworkState[_0x5bd699(0x190)],HookState[_0x5bd699(0x110)]),_0x2bfa7d=_0x30490b[_0x5bd699(0xf0)],_0xd4d5a6=TestInfo['getTestDetails'](_0x2bfa7d)||{},_0x5da423=_0xd4d5a6?_0xd4d5a6[TestFrameworkConstants[_0x5bd699(0x1ab)]]||{}:{},_0x5e3fc3={..._0xd4d5a6,[TestFrameworkConstants[_0x5bd699(0x184)]]:_0x30490b['result']||_0x5389f3[_0x5bd699(0x14c)],[TestFrameworkConstants[_0x5bd699(0x122)]]:_0x30490b[_0x5bd699(0x14b)]||new Date()[_0x5bd699(0x150)](),[TestFrameworkConstants[_0x5bd699(0x141)]]:new Date()[_0x5bd699(0x150)](),[TestFrameworkConstants[_0x5bd699(0x1ab)]]:_0x5da423,[TestFrameworkConstants['KEY_LOGS']]:[],[TestFrameworkConstants[_0x5bd699(0x192)]]:_0x30490b[_0x5bd699(0x193)]||{}};_0x5389f3[_0x5bd699(0x165)](_0x30490b[_0x5bd699(0x1a3)],_0x5389f3[_0x5bd699(0x15d)])&&_0x30490b[_0x5bd699(0x17d)]&&(_0x5e3fc3[TestFrameworkConstants[_0x5bd699(0x138)]]=_0x30490b[_0x5bd699(0x134)]||_0x5389f3[_0x5bd699(0x162)],_0x5e3fc3[TestFrameworkConstants[_0x5bd699(0x1af)]]=_0x30490b[_0x5bd699(0x109)]||'',_0x5e3fc3[TestFrameworkConstants[_0x5bd699(0x13d)]]=_0x30490b['failure']);const _0x2e859f=TestInfo['getTestDetails'](_0x2bfa7d)[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x3795e8=_0x5389f3[_0x5bd699(0x15b)](getManualUploadLogs,_0x2e859f,_0x3a99e6[_0x5bd699(0x113)]()[_0x5bd699(0x194)](_0x2bfa7d)[TestFrameworkConstants[_0x5bd699(0x1a7)]]);if(_0x5389f3['TCxqn'](_0x3795e8[_0x5bd699(0x148)],0x0)){const _0x115461=_0x5e3fc3[TestFrameworkConstants[_0x5bd699(0xfd)]]||[];_0x5e3fc3[TestFrameworkConstants[_0x5bd699(0xfd)]]=[..._0x115461,..._0x3795e8];}_0x30490b[_0x5bd699(0xff)]&&_0x5389f3[_0x5bd699(0x15a)](_0x30490b[_0x5bd699(0xff)]['length'],0x0)&&(_0x5e3fc3[TestFrameworkConstants[_0x5bd699(0x1a2)]]=_0x30490b[_0x5bd699(0xff)]);TestInfo[_0x5bd699(0x14d)](_0x2bfa7d,_0x5e3fc3),logger['debug'](_0x5bd699(0x15f)+_0x30490b[_0x5bd699(0x121)]+_0x5bd699(0x174)+_0x30490b[_0x5bd699(0x1a3)]);const _0x5c93b5={};return _0x5c93b5[_0x2bfa7d]=_0x5e3fc3,_0x5c93b5;}async[a70_0x3c46cd(0x187)](_0x372f0c,_0x21d4f6,_0x296590,_0x1fcbda){const _0x390fce=a70_0x3c46cd,_0x2d3563={'AGSlw':_0x390fce(0x167),'vZlnG':function(_0x32a7fc){return _0x32a7fc();},'JjNii':function(_0x45f947,_0x2f3c83){return _0x45f947 in _0x2f3c83;},'WDScW':function(_0x4f2f36,_0x85995f){return _0x4f2f36 in _0x85995f;},'BpCnT':function(_0x40c0af,_0x4e8175){return _0x40c0af===_0x4e8175;},'xVriF':function(_0x214030,_0x246423){return _0x214030>_0x246423;},'fZTvu':_0x390fce(0xdc),'SCNNW':_0x390fce(0x10d),'yUpaA':_0x390fce(0x19f),'ekXJA':function(_0x18258c,_0x3c2b59){return _0x18258c!==_0x3c2b59;}},{hookData:_0xd02c8e}=_0x1fcbda;if(!_0xd02c8e)return logger['debug'](_0x2d3563[_0x390fce(0x13b)]),{};const _0x4edc2e=_0xd02c8e[_0x390fce(0xf0)]||_0x2d3563[_0x390fce(0x10f)](uuidv4),_0x4b36c1=_0xd02c8e[_0x390fce(0x12c)],_0x49c4bf=_0x21d4f6[_0x390fce(0x199)]()[_0x390fce(0x111)]('.')[0x1],_0x3ff84e=TestInfo['getTestDetails'](_0x4b36c1)[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{},_0x6d5578=_0x372f0c[_0x390fce(0x113)]()[_0x390fce(0x194)](_0x4b36c1);if(!_0x6d5578)return logger[_0x390fce(0x11a)]('No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20'+_0x4b36c1+_0x390fce(0x166)),this[_0x390fce(0x158)](_0x372f0c,_0x4b36c1,_0x21d4f6,_0x296590,_0x1fcbda),{};let _0x5726bf=_0x6d5578[TestFrameworkConstants[_0x390fce(0x1b2)]];!_0x5726bf&&(_0x5726bf={});!_0x2d3563[_0x390fce(0xf9)](_0x49c4bf,_0x5726bf)&&(_0x5726bf[_0x49c4bf]=[]);let _0x1e6c5f=_0x6d5578[TestFrameworkConstants[_0x390fce(0x1a2)]];!_0x1e6c5f&&(_0x1e6c5f={});!_0x2d3563['WDScW'](_0x49c4bf,_0x1e6c5f)&&(_0x1e6c5f[_0x49c4bf]=[]);const _0x4a351d={[TestFrameworkConstants[_0x390fce(0x1b2)]]:_0x5726bf,[TestFrameworkConstants[_0x390fce(0x1a2)]]:_0x1e6c5f},_0x502c2b={};_0x502c2b[_0x4b36c1]=_0x4a351d;const _0x3b2168=_0x502c2b;if(_0x2d3563[_0x390fce(0x13f)](_0x296590,HookState[_0x390fce(0x125)])){const _0x7cad97={[TestFrameworkConstants['KEY_HOOK_ID']]:_0x4edc2e,[TestFrameworkConstants[_0x390fce(0xe8)]]:TestFrameworkConstants[_0x390fce(0x147)],[TestFrameworkConstants[_0x390fce(0x183)]]:_0xd02c8e[_0x390fce(0xf8)],[TestFrameworkConstants['KEY_HOOK_LOGS']]:[],[TestFrameworkConstants[_0x390fce(0x103)]]:_0xd02c8e[_0x390fce(0xfc)],[TestFrameworkConstants[_0x390fce(0x1ab)]]:_0x3ff84e};_0x7cad97[_0x390fce(0x188)]=_0x49c4bf;const _0x47a528=_0x7cad97;_0x5726bf[_0x49c4bf][_0x390fce(0x156)](_0x47a528),_0x3b2168[_0x4b36c1][TestFrameworkConstants[_0x390fce(0xf7)]]=_0x49c4bf,logger[_0x390fce(0x11a)](_0x390fce(0xfa)+_0x49c4bf+_0x390fce(0x19b)+_0x47a528+_0x390fce(0x18a)+_0x1fcbda);}else{if(_0x2d3563['BpCnT'](_0x296590,HookState[_0x390fce(0x110)])){const _0x451603=_0xd02c8e['result'],_0x5a1909=_0x5726bf[_0x49c4bf]||[];logger['debug'](_0x390fce(0xdd)+_0x5a1909+'\x20and\x20args\x20=\x20'+_0x1fcbda);if(_0x2d3563[_0x390fce(0x127)](_0x5a1909[_0x390fce(0x148)],0x0)){const _0x1b0c14=_0x5a1909[_0x390fce(0x1a9)]();_0x2d3563[_0x390fce(0x13f)](_0xd02c8e[_0x390fce(0x1a3)],_0x2d3563['fZTvu'])&&_0xd02c8e['failure_data']?(_0x1b0c14[TestFrameworkConstants['KEY_HOOK_FAILURE_TYPE']]=_0xd02c8e[_0x390fce(0x134)]||_0x2d3563[_0x390fce(0x112)],_0x1b0c14[TestFrameworkConstants[_0x390fce(0x17e)]]=_0xd02c8e[_0x390fce(0x109)]||'',_0x1b0c14[TestFrameworkConstants[_0x390fce(0xef)]]=_0xd02c8e[_0x390fce(0x14a)]):_0x1b0c14[TestFrameworkConstants[_0x390fce(0xe8)]]=_0x2d3563[_0x390fce(0x169)];_0x2d3563[_0x390fce(0xf4)](_0x451603,TestFrameworkConstants['DEFAULT_HOOK_RESULT'])&&(_0x1b0c14[TestFrameworkConstants[_0x390fce(0xe8)]]=_0x451603);_0x1b0c14[TestFrameworkConstants[_0x390fce(0x19a)]]=_0xd02c8e[_0x390fce(0x19c)]||new Date()[_0x390fce(0x150)](),_0x1b0c14[TestFrameworkConstants[_0x390fce(0x1ab)]]=_0x3ff84e;const _0x180a38=_0x1b0c14[TestFrameworkConstants[_0x390fce(0x185)]];!_0x1e6c5f[_0x49c4bf]&&(_0x1e6c5f[_0x49c4bf]=[]),_0x1e6c5f[_0x49c4bf]['push'](_0x1b0c14),_0x3b2168[_0x4b36c1][TestFrameworkConstants[_0x390fce(0x16b)]]=_0x49c4bf;}}}return logger[_0x390fce(0x11a)](_0x390fce(0x1ae)+_0xd02c8e[_0x390fce(0xfc)]+_0x390fce(0xf5)+_0x4edc2e+'\x20for\x20test:\x20'+_0x4b36c1),_0x3b2168;}[a70_0x3c46cd(0x15e)](_0x5c5115){const _0x38d476=a70_0x3c46cd,_0x24d3b2={};_0x24d3b2['UODAg']=_0x38d476(0xe5);const _0x53f27d=_0x24d3b2;try{const _0x42d3fc=_0x5c5115[_0x38d476(0xf2)]?_0x5c5115[_0x38d476(0xf2)]['id']:_0x5c5115[_0x38d476(0x19e)][_0x38d476(0x12c)],_0x2d50a5=_0x5c5115[_0x38d476(0x126)],_0x549575=_0x2d50a5['getContext'](),_0x565790=_0x2d50a5['getAllData']()[_0x38d476(0x194)](_0x42d3fc);if(!_0x565790)return logger['debug']('createTestFrameworkEventPayload:\x20No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20'+_0x42d3fc),{};logger[_0x38d476(0x11a)](_0x38d476(0x101)+_0x42d3fc);const {[TestFrameworkConstants[_0x38d476(0x149)]]:_0x54637f='',[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x1b7097='',[TestFrameworkConstants['KEY_TEST_STARTED_AT']]:_0x2535e0='',[TestFrameworkConstants[_0x38d476(0x122)]]:_0xcec6ce=''}=_0x565790,_0x538c84=_0x2d50a5[_0x38d476(0x14e)]()[_0x38d476(0x199)]()[_0x38d476(0x111)]('.')[0x1],_0x2f98ea=_0x2d50a5[_0x38d476(0xec)]()[_0x38d476(0x199)]()[_0x38d476(0x111)]('.')[0x1],_0x10edc1=global?.['__workerDetails']?.[_0x38d476(0x155)]?.[_0x38d476(0x133)],_0x1189d5=_0x2d50a5[_0x38d476(0x106)](),_0xfbd4ad=Buffer[_0x38d476(0x163)](JSON[_0x38d476(0x128)](_0x565790))[_0x38d476(0x199)](_0x53f27d[_0x38d476(0xfe)]),_0x3cf3ce={'hash':_0x549575[_0x38d476(0x11b)](),'threadId':_0x549575[_0x38d476(0x102)]()[_0x38d476(0x199)](),'processId':_0x549575[_0x38d476(0x1a6)]()[_0x38d476(0x199)]()},_0x3c243f={};_0x3c243f['platformIndex']=_0x10edc1,_0x3c243f[_0x38d476(0x196)]=_0x54637f,_0x3c243f[_0x38d476(0x18d)]=_0x1b7097,_0x3c243f[_0x38d476(0x1a8)]=_0x538c84,_0x3c243f[_0x38d476(0xe3)]=_0x2f98ea,_0x3c243f[_0x38d476(0xee)]=_0x2535e0,_0x3c243f['endedAt']=_0xcec6ce,_0x3c243f['uuid']=_0x1189d5,_0x3c243f[_0x38d476(0xea)]=_0xfbd4ad,_0x3c243f[_0x38d476(0x130)]=_0x3cf3ce;const _0x1b2fb7=_0x3c243f;return logger['debug']('createTestFrameworkEventPayload:\x20complete\x20for\x20testId:\x20'+_0x42d3fc+_0x38d476(0x144)+_0x538c84+_0x38d476(0x139)+_0x2f98ea),_0x1b2fb7;}catch(_0x1f4414){return logger['error'](_0x38d476(0x146)+util[_0x38d476(0x107)](_0x1f4414)),{};}}async['sendLogCreatedEvent'](_0x78df72,_0x2d906c,_0xc2924){const _0x713e10=a70_0x3c46cd,_0x39ae19={'RHSvY':function(_0x259a62,_0x70b729,_0x466bcc){return _0x259a62(_0x70b729,_0x466bcc);},'UuRjU':function(_0x41d265,_0xa6d0e1){return _0x41d265===_0xa6d0e1;},'Vtahv':_0x713e10(0x104),'DqBCV':function(_0x394687,_0x559a0e){return _0x394687/_0x559a0e;},'KtDGD':function(_0x2f62c4,_0x27f6f0){return _0x2f62c4<_0x27f6f0;},'FlHAC':function(_0x13e4f6,_0x9618d8){return _0x13e4f6*_0x9618d8;},'zLZZl':function(_0x3abc86,_0x1aebea){return _0x3abc86+_0x1aebea;},'yKXuS':function(_0x81b01e,_0x40acfb){return _0x81b01e+_0x40acfb;},'XXzoV':_0x713e10(0x13c)};try{const _0x30e0ae=_0xc2924['testUUID'],_0x1797b6=_0x78df72['getAllData']()[_0x713e10(0x194)](_0x30e0ae),{[TestFrameworkConstants[_0x713e10(0x149)]]:_0x2d761d='',[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x62f4f1=''}=_0x1797b6,_0x31ef64=TestInfo[_0x713e10(0x197)](_0x30e0ae),_0x4b7ff4=TestInfo[_0x713e10(0x136)](_0x30e0ae)[TestFrameworkConstants[_0x713e10(0xe6)]]||{},_0x4a793e=_0x39ae19[_0x713e10(0x118)](getMediaArtifactsLogs,_0x4b7ff4,_0x78df72[_0x713e10(0x113)]()[_0x713e10(0x194)](_0x30e0ae)[TestFrameworkConstants[_0x713e10(0x1a7)]]),_0x19d3e9=(_0x31ef64||[])[_0x713e10(0x132)](_0x4a793e||[]);if(!_0x19d3e9||_0x39ae19[_0x713e10(0x175)](_0x19d3e9['length'],0x0)){logger[_0x713e10(0x11a)](_0x39ae19[_0x713e10(0x10c)]);return;}const _0x984732=0x28,_0x28821e=Math[_0x713e10(0x1a1)](_0x39ae19[_0x713e10(0x151)](_0x19d3e9[_0x713e10(0x148)],_0x984732));for(let _0x2d844e=0x0;_0x39ae19['KtDGD'](_0x2d844e,_0x28821e);_0x2d844e++){const _0x49db6e=_0x39ae19['FlHAC'](_0x2d844e,_0x984732),_0x347bc0=_0x39ae19[_0x713e10(0x14f)](_0x49db6e,_0x984732),_0x551c6d=_0x19d3e9['slice'](_0x49db6e,_0x347bc0),_0x24a394={'platformIndex':'0','logs':_0x551c6d,'testFrameworkName':_0x2d761d,'testFrameworkVersion':_0x62f4f1,'testFrameworkState':_0x2d906c[_0x713e10(0x199)]()[_0x713e10(0x111)]('.')[0x1]};logger[_0x713e10(0x11a)](_0x713e10(0x116)+_0x30e0ae+_0x713e10(0x137)+_0x39ae19['yKXuS'](_0x2d844e,0x1)+'/'+_0x28821e+_0x713e10(0x1ac)+util['inspect'](_0x24a394));const _0x4b5f0c=await GrpcClient[_0x713e10(0x182)]()[_0x713e10(0x17b)](_0x24a394);logger[_0x713e10(0x11a)](_0x713e10(0x116)+_0x30e0ae+_0x713e10(0x137)+_0x39ae19[_0x713e10(0x1ad)](_0x2d844e,0x1)+'/'+_0x28821e+_0x713e10(0x152)+util[_0x713e10(0x172)](_0x4b5f0c));}}catch(_0x58c022){logger[_0x713e10(0xde)]('sendLogCreatedEvent:\x20Error\x20in\x20sending\x20log\x20events:\x20'+util[_0x713e10(0x107)](_0x58c022));}logger[_0x713e10(0x11a)](_0x39ae19[_0x713e10(0x168)]);}[a70_0x3c46cd(0x158)](_0x4e2615,_0x49d753,_0x594b15,_0xc11b21,_0x2f29ce){const _0x5c444e=a70_0x3c46cd,_0x5c3500={'testId':_0x49d753,'testFrameworkState':_0x594b15,'hookState':_0xc11b21,'args':_0x2f29ce,'timestamp':new Date()[_0x5c444e(0x150)]()};_0x4e2615[_0x5c444e(0x129)](_0x49d753,_0x5c3500),logger[_0x5c444e(0x11a)](_0x5c444e(0xf3)+_0x49d753+_0x5c444e(0x153)+_0x594b15+_0x5c444e(0x140)+_0xc11b21);}async[a70_0x3c46cd(0x120)](_0x29f0c4,_0x501d1e){const _0x1682d8=a70_0x3c46cd,_0x4a80bb={};_0x4a80bb[_0x1682d8(0x173)]=function(_0x222a2b,_0x4f661f){return _0x222a2b>_0x4f661f;};const _0x5cbf4f=_0x4a80bb;if(!_0x29f0c4[_0x1682d8(0x1b3)](_0x501d1e))return;const _0x51d6f6=_0x29f0c4[_0x1682d8(0x11f)](_0x501d1e);logger['debug'](_0x1682d8(0x18e)+_0x51d6f6[_0x1682d8(0x148)]+_0x1682d8(0x176)+_0x501d1e);for(const _0x544b16 of _0x51d6f6){try{const _0x31fb3d=await this[_0x1682d8(0x187)](_0x29f0c4,_0x544b16['testFrameworkState'],_0x544b16['hookState'],_0x544b16['args']);_0x31fb3d&&_0x5cbf4f[_0x1682d8(0x173)](Object[_0x1682d8(0x17f)](_0x31fb3d)[_0x1682d8(0x148)],0x0)&&_0x29f0c4['addMultipleEntries'](_0x31fb3d),await this[_0x1682d8(0x161)](_0x29f0c4,_0x544b16[_0x1682d8(0x1a8)],_0x544b16['hookState'],_0x544b16['args']);}catch(_0x28490e){logger['error'](_0x1682d8(0x18f)+_0x501d1e+_0x1682d8(0xe9)+_0x28490e);}}_0x29f0c4[_0x1682d8(0x1aa)](_0x501d1e),logger['debug'](_0x1682d8(0x180)+_0x501d1e);}}module[a70_0x3c46cd(0x12f)]=CucumberTestFramework;