const a70_0x1ba694=a70_0x11b6;function a70_0x213b(){const _0x158e0e=['14nAGrOA','1463736yqrNnk','KEY_HOOK_ID','\x20with\x20result:\x20','\x20hookState:\x20','DEFAULT_TEST_RESULT',',\x20state=','keys','trackHookEvent:\x20Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','getTestFrameworksVersions','2447433sZSmLU','KEY_TEST_UUID','stringify','args','sendLogCreatedEvent','hUvHe','workerInfo',',\x20storing\x20as\x20pending\x20hook','tKrKj','fjSGB','qjqNE','getPendingHooks','oORvt','toString','KEY_HOOKS_STARTED','MJJxk','12000131kLnONP','KEY_HOOK_RESULT','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','\x20with\x20id\x20','NONE','resolveInstance','../instances/testFrameworkInstance.js','KEY_EVENT_STARTED_AT','KEY_TEST_NAME','trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20','KEY_TEST_STARTED_AT','../state/hookState.js','\x20target=','LUsUz','oVgXR','KEY_TEST_ENDED_AT','1224624huNtma','startedAt','KEY_HOOK_NAME','hook_type','createTestFrameworkEventPayload:\x20complete\x20for\x20testId:\x20','storePendingHook','getTestDetails','TSOCq','push','sendLogCreatedEvent:\x20No\x20logs\x20found,\x20skipping','KEY_HOOKS_FINISHED','No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','meta','KEY_TEST_RESULT_AT','Error\x20in\x20createTestFrameworkEventPayload:\x20','KEY_TEST_FAILURE','\x20with\x20UUID:\x20','3517DYBlBg','endedAt','KEY_TEST_META','Cleared\x20processed\x20pending\x20hooks\x20for\x20testId:\x20','\x20response=','createTestFrameworkEventPayload:\x20No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','trackEvent:\x20unsupported\x20testFrameworkState=','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test\x20result','unknown','inspect','failed','testUUID','./testFramework','createContext','getContext','KEY_TEST_LOCATION','UnhandledError','addPendingHook','KEY_TEST_ATTACHMENTS','parseCucumberTest','rerun_name','getCurrentTestState','testFrameworkName','KEY_HOOK_LAST_STARTED','trackEvent:\x20Test\x20Framework\x20instance\x20not\x20found','\x20and\x20args\x20=\x20','12hhbacz','executionContext','yIWFk','debug','Cucumber\x20log\x20created\x20event','pop','../instances/trackedInstance.js','LevfT','SBMpK','tags','failure_reason','DEFAULT_HOOK_RESULT','KEY_TEST_SCOPE','GzzZg','parseCucumberTestResult','\x20&\x20hook\x20=\x20','testFrameworkState','file_name','body','KEY_LOGS','__workerDetails','getTestFrameworks','result','trackHookEvent','\x20pending\x20hooks\x20for\x20testId:\x20','sendLogCreatedEvent:\x20for\x20testId:\x20','failure','setTestDetails','KEY_HOOK_LAST_FINISHED','failure_type','KEY_CUSTOM_TAGS','removePendingHooks','getCurrentInstanceName','length','ceil','getAllData','toISOString','trackHookEvent:\x20Hook\x20List\x20in\x20Post\x20','cWEHy','fHolj','KEY_TEST_RESULT','POST','../cliUtils.js','getInstance','testData','CQbHz','KEY_TEST_FAILURE_REASON','hasPendingHooks','No\x20hook\x20data\x20provided\x20for\x20cucumber\x20hook\x20event','processPendingHooks','VJksp','../TestInfo.js','test','hookState','customRerunParam','./constants/testFrameworkConstants.js','../grpcClient','TEST','xqILr','key','LOG_REPORT','get','split','KEY_TEST_FRAMEWORK_VERSION','runHooks','\x20batch\x20','logCreatedEvent','KEY_HOOK_FAILURE','KEY_HOOK_FAILURE_REASON','getTrackedInstance','KEY_HOOK_FAILURE_TYPE','KEY_TEST_TAGS','location','addMultipleEntries','readLogObjects','AigXW','../state/testFrameworkState.js','4412tadKLS','Processing\x20','KEY_TEST_ID','khGSz','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test','getRef','KEY_TEST_SCOPES','../../../helpers/classLogger.js','hooks','1234620xrYrEd','KEY_TEST_FAILURE_TYPE','RudJn','name','KEY_AUTOMATE_SESSION_NAME','failure_data','test_run_id','uuid','from','216cqjQoh','sLVem','getThreadId','testFrameworkVersion','INIT_TEST',',\x20state:\x20','KEY_TEST_FRAMEWORK_NAME','KEY_HOOK_LOGS','getCurrentHookState','base64','trackEvent','\x20&\x20hookState=','\x20\x20and\x20args\x20=\x20','hookData','kZoVF','wgvrn',',\x20hookState:\x20','jFjYq','Updated\x20cucumber\x20test\x20result:\x20','KEY_EVENT_ENDED_AT','code','znYVn','error','FsqIi','10SFLlRw','2115BabuHD','\x20for\x20test:\x20','eventJson'];a70_0x213b=function(){return _0x158e0e;};return a70_0x213b();}function a70_0x11b6(_0x89cc87,_0xb1d297){const _0x213bba=a70_0x213b();return a70_0x11b6=function(_0x11b6ae,_0x4d4927){_0x11b6ae=_0x11b6ae-0x9c;let _0x32eee6=_0x213bba[_0x11b6ae];return _0x32eee6;},a70_0x11b6(_0x89cc87,_0xb1d297);}(function(_0x5359e6,_0x67adab){const _0x189d16=a70_0x11b6,_0x11ffa0=_0x5359e6();while(!![]){try{const _0x3cb686=-parseInt(_0x189d16(0xa8))/0x1*(-parseInt(_0x189d16(0x121))/0x2)+-parseInt(_0x189d16(0x13a))/0x3*(parseInt(_0x189d16(0x10f))/0x4)+-parseInt(_0x189d16(0x118))/0x5+parseInt(_0x189d16(0x167))/0x6*(parseInt(_0x189d16(0x13d))/0x7)+-parseInt(_0x189d16(0x13e))/0x8+-parseInt(_0x189d16(0x147))/0x9*(parseInt(_0x189d16(0x139))/0xa)+-parseInt(_0x189d16(0x157))/0xb*(-parseInt(_0x189d16(0xc2))/0xc);if(_0x3cb686===_0x67adab)break;else _0x11ffa0['push'](_0x11ffa0['shift']());}catch(_0x5ad8c8){_0x11ffa0['push'](_0x11ffa0['shift']());}}}(a70_0x213b,0x618a2));const TestFramework=require(a70_0x1ba694(0xb4)),TestFrameworkState=require(a70_0x1ba694(0x10e)),HookState=require(a70_0x1ba694(0x162)),{createClassLogger}=require(a70_0x1ba694(0x116)),TestFrameworkInstance=require(a70_0x1ba694(0x15d)),CLIUtils=require(a70_0x1ba694(0xec)),TrackedInstance=require(a70_0x1ba694(0xc8)),TestFrameworkConstants=require(a70_0x1ba694(0xf9)),{getManualUploadLogs,getMediaArtifactsLogs}=require('../../../helpers/helper.js'),logger=createClassLogger('CucumberTestFramework'),{v4:uuidv4}=require(a70_0x1ba694(0x11f)),util=require('util'),TestInfo=require(a70_0x1ba694(0xf5)),GrpcClient=require(a70_0x1ba694(0xfa));class CucumberTestFramework extends TestFramework{constructor(_0xdc592f,_0x39b449,_0x4058f9){super(_0xdc592f,_0x39b449,_0x4058f9);}async[a70_0x1ba694(0x12b)](_0xc8cd89,_0x1c5ec4,_0x4be2cc={}){const _0x4d3fff=a70_0x1ba694,_0x67bea1={};_0x67bea1[_0x4d3fff(0x122)]=_0x4d3fff(0xc0),_0x67bea1[_0x4d3fff(0x10d)]=function(_0x311a02,_0x2b9667){return _0x311a02===_0x2b9667;},_0x67bea1[_0x4d3fff(0x130)]=function(_0x513bd7,_0x2af5b8){return _0x513bd7===_0x2af5b8;},_0x67bea1[_0x4d3fff(0x112)]=_0x4d3fff(0x159);const _0x3ae833=_0x67bea1;await super[_0x4d3fff(0x12b)](_0xc8cd89,_0x1c5ec4,_0x4be2cc);const _0x4dc2b1=this[_0x4d3fff(0x15c)](_0xc8cd89,_0x1c5ec4,_0x4be2cc);if(!_0x4dc2b1){logger[_0x4d3fff(0xc5)](_0x3ae833[_0x4d3fff(0x122)]);return;}try{let _0x1d7c55,_0x36b003;switch(_0xc8cd89){case TestFrameworkState[_0x4d3fff(0xfb)]:_0x1d7c55=_0x4be2cc['test'],_0x36b003=TestInfo['getTestUUID'](_0x1d7c55['id']);if(_0x3ae833[_0x4d3fff(0x10d)](_0x1c5ec4,HookState['PRE'])){logger[_0x4d3fff(0xc5)]('trackEvent\x20loading\x20testData\x20for\x20testId:\x20'+_0x1d7c55['id']);const _0x25bf79={};_0x25bf79[_0x4d3fff(0xb3)]=_0x36b003,_0x25bf79[_0x4d3fff(0xee)]=_0x1d7c55,_0x4dc2b1[_0x4d3fff(0x10b)](this[_0x4d3fff(0xbb)](_0x25bf79)),logger[_0x4d3fff(0xc5)](_0x4d3fff(0x160)+_0x1d7c55['id']),await this[_0x4d3fff(0xf3)](_0x4dc2b1,_0x1d7c55['id']);}else{if(_0x3ae833['AigXW'](_0x1c5ec4,HookState[_0x4d3fff(0xeb)])){const _0x5c58fe={};_0x5c58fe['testUUID']=_0x36b003,_0x5c58fe[_0x4d3fff(0xee)]=_0x1d7c55,_0x4dc2b1[_0x4d3fff(0x10b)](this[_0x4d3fff(0xd0)](_0x5c58fe)),await this[_0x4d3fff(0xf3)](_0x4dc2b1,_0x1d7c55['id']);}}break;case TestFrameworkState[_0x4d3fff(0xfe)]:_0x3ae833['wgvrn'](_0x1c5ec4,HookState[_0x4d3fff(0xeb)])&&await this[_0x4d3fff(0x14b)](_0x4dc2b1,_0xc8cd89,_0x4be2cc);break;default:if(CLIUtils['matchHookRegex'](_0xc8cd89[_0x4d3fff(0x154)]()[_0x4d3fff(0x100)]('.')[0x1])){const _0x389cda=await this['trackHookEvent'](_0x4dc2b1,_0xc8cd89,_0x1c5ec4,_0x4be2cc);_0x4dc2b1[_0x4d3fff(0x10b)](_0x389cda);}else logger[_0x4d3fff(0xc5)](_0x4d3fff(0xae)+_0xc8cd89+_0x4d3fff(0x12c)+_0x1c5ec4);break;}}catch(_0x4a6224){logger[_0x4d3fff(0x137)](util['format'](_0x3ae833[_0x4d3fff(0x112)],_0xc8cd89,_0x1c5ec4,_0x4be2cc['length'],_0x4a6224));}_0x4be2cc['instance']=_0x4dc2b1,await this['runHooks'](_0x4dc2b1,_0xc8cd89,_0x1c5ec4,_0x4be2cc);}[a70_0x1ba694(0x15c)](_0x1950cc,_0x539121,_0x38ad59={}){const _0x436e44=a70_0x1ba694,_0x2dcd18={};_0x2dcd18['kZoVF']=function(_0x2e5216,_0x453637){return _0x2e5216===_0x453637;};const _0xc076b2=_0x2dcd18;let _0x5ea2eb=null;return(_0xc076b2[_0x436e44(0x12f)](_0x1950cc,TestFrameworkState[_0x436e44(0x125)])||_0xc076b2[_0x436e44(0x12f)](_0x1950cc,TestFrameworkState[_0x436e44(0x15b)]))&&this['trackCucumberInstance'](_0x1950cc,_0x38ad59),_0x5ea2eb=TestFramework[_0x436e44(0x107)](),_0x5ea2eb;}['trackCucumberInstance'](_0x3547fd,_0x2b8cc6){const _0x43faef=a70_0x1ba694,_0x274765=CLIUtils[_0x43faef(0xe2)](),_0x2a3144=TrackedInstance[_0x43faef(0xb5)](_0x274765);let _0x178a98=null;logger['debug']('trackCucumberInstance:\x20created\x20instance\x20for\x20target='+_0x274765+_0x43faef(0x143)+_0x3547fd),_0x178a98=new TestFrameworkInstance(_0x2a3144,this[_0x43faef(0xd7)](),this[_0x43faef(0x146)](),_0x3547fd,HookState[_0x43faef(0x15b)]),TestFramework['setTrackedInstance'](_0x2a3144,_0x178a98),logger[_0x43faef(0xc5)]('trackCucumberInstance:\x20saved\x20instance\x20contextId='+_0x2a3144['getId']()+_0x43faef(0x163)+_0x274765);}[a70_0x1ba694(0xbb)](_0x43b27d){const _0x281f75=a70_0x1ba694,_0x3941f6={};_0x3941f6['GzzZg']=_0x281f75(0x113);const _0x3275b1=_0x3941f6,{testUUID:_0x38e494,testData:_0x14f433}=_0x43b27d;if(!_0x14f433||!_0x14f433[_0x281f75(0x11f)])return logger['debug'](_0x3275b1[_0x281f75(0xcf)]),{};const _0x184e41=_0x14f433['uuid'],_0x3fa74e=_0x14f433['uuid'],_0x5bc8dc=this[_0x281f75(0xd7)]()[0x0],_0x100d2b=this[_0x281f75(0x146)](),_0x33be71={[TestFrameworkConstants[_0x281f75(0x127)]]:_0x5bc8dc,[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x100d2b[_0x5bc8dc],[TestFrameworkConstants['KEY_TEST_LOGS']]:[],[TestFrameworkConstants[_0x281f75(0xa1)]]:{},[TestFrameworkConstants[_0x281f75(0x155)]]:{},[TestFrameworkConstants['KEY_TEST_UUID']]:_0x184e41,[TestFrameworkConstants[_0x281f75(0xea)]]:TestFrameworkConstants[_0x281f75(0x142)],[TestFrameworkConstants[_0x281f75(0x11c)]]:_0x14f433[_0x281f75(0x11b)]||'',[TestFrameworkConstants['KEY_TEST_FILE_PATH']]:_0x14f433[_0x281f75(0xd3)]||'',[TestFrameworkConstants[_0x281f75(0x111)]]:_0x3fa74e,[TestFrameworkConstants[_0x281f75(0x15f)]]:_0x14f433[_0x281f75(0x11b)]||'',[TestFrameworkConstants[_0x281f75(0xb7)]]:_0x14f433[_0x281f75(0x10a)]||'',[TestFrameworkConstants['KEY_TEST_CODE']]:_0x14f433[_0x281f75(0xd4)]?.[_0x281f75(0x135)]||null,[TestFrameworkConstants[_0x281f75(0x109)]]:_0x14f433[_0x281f75(0xcb)]||[],[TestFrameworkConstants[_0x281f75(0x161)]]:_0x14f433[_0x281f75(0x168)]||new Date()[_0x281f75(0xe6)](),[TestFrameworkConstants[_0x281f75(0xce)]]:_0x14f433['scopes']?.[0x0]||'',[TestFrameworkConstants[_0x281f75(0x115)]]:_0x14f433['scopes']||[],[TestFrameworkConstants['KEY_TEST_RERUN_NAME']]:_0x14f433[_0x281f75(0xf8)]?.[_0x281f75(0xbc)]||_0x14f433['name']||'',[TestFrameworkConstants[_0x281f75(0xe0)]]:{},[TestFrameworkConstants[_0x281f75(0xaa)]]:_0x14f433[_0x281f75(0xa3)]||{}};TestInfo[_0x281f75(0xdd)](_0x3fa74e,_0x33be71),logger[_0x281f75(0xc5)]('Parsed\x20cucumber\x20test:\x20'+_0x14f433[_0x281f75(0x11b)]+_0x281f75(0xa7)+_0x184e41);const _0x32b208={};return _0x32b208[_0x3fa74e]=_0x33be71,_0x32b208;}[a70_0x1ba694(0xd0)](_0x4e57cc){const _0x455c83=a70_0x1ba694,_0x236d0c={'RudJn':_0x455c83(0xaf),'atDEq':_0x455c83(0xb0),'hUvHe':function(_0xaa654e,_0x171936){return _0xaa654e===_0x171936;},'xqILr':_0x455c83(0xb2),'TSOCq':'UnhandledError','FsqIi':function(_0x26ebd0,_0x3029f2,_0xd76da0){return _0x26ebd0(_0x3029f2,_0xd76da0);},'fjSGB':function(_0x55f2d2,_0x2cae42){return _0x55f2d2>_0x2cae42;}},{testUUID:_0x23dd94,testData:_0x31d5f9}=_0x4e57cc;if(!_0x31d5f9||!_0x31d5f9[_0x455c83(0x11f)])return logger[_0x455c83(0xc5)](_0x236d0c[_0x455c83(0x11a)]),{};const _0x2af139=this[_0x455c83(0x15c)](TestFrameworkState['TEST'],HookState[_0x455c83(0xeb)]),_0x3cc6af=_0x31d5f9[_0x455c83(0x11f)],_0x5df3ee=TestInfo['getTestDetails'](_0x3cc6af)||{},_0x4672d9=_0x5df3ee?_0x5df3ee[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{}:{},_0x3c699a={..._0x5df3ee,[TestFrameworkConstants['KEY_TEST_RESULT']]:_0x31d5f9['result']||_0x236d0c['atDEq'],[TestFrameworkConstants[_0x455c83(0x166)]]:_0x31d5f9['finishedAt']||new Date()[_0x455c83(0xe6)](),[TestFrameworkConstants[_0x455c83(0xa4)]]:new Date()[_0x455c83(0xe6)](),[TestFrameworkConstants['KEY_CUSTOM_TAGS']]:_0x4672d9,[TestFrameworkConstants[_0x455c83(0xd5)]]:[],[TestFrameworkConstants[_0x455c83(0xaa)]]:_0x31d5f9[_0x455c83(0xa3)]||{}};_0x236d0c[_0x455c83(0x14c)](_0x31d5f9[_0x455c83(0xd8)],_0x236d0c[_0x455c83(0xfc)])&&_0x31d5f9[_0x455c83(0xdc)]&&(_0x3c699a[TestFrameworkConstants[_0x455c83(0x119)]]=_0x31d5f9[_0x455c83(0xdf)]||_0x236d0c[_0x455c83(0x9e)],_0x3c699a[TestFrameworkConstants[_0x455c83(0xf0)]]=_0x31d5f9[_0x455c83(0xcc)]||'',_0x3c699a[TestFrameworkConstants[_0x455c83(0xa6)]]=_0x31d5f9[_0x455c83(0xdc)]);const _0x52ba9b=TestInfo['getTestDetails'](_0x3cc6af)[TestFrameworkConstants[_0x455c83(0xba)]]||{},_0x3bfae2=_0x236d0c[_0x455c83(0x138)](getManualUploadLogs,_0x52ba9b,_0x2af139[_0x455c83(0xe5)]()[_0x455c83(0xff)](_0x3cc6af)[TestFrameworkConstants['KEY_TEST_UUID']]);if(_0x236d0c[_0x455c83(0x150)](_0x3bfae2[_0x455c83(0xe3)],0x0)){const _0x17030e=_0x3c699a[TestFrameworkConstants['KEY_LOGS']]||[];_0x3c699a[TestFrameworkConstants[_0x455c83(0xd5)]]=[..._0x17030e,..._0x3bfae2];}_0x31d5f9[_0x455c83(0x117)]&&_0x236d0c[_0x455c83(0x150)](_0x31d5f9[_0x455c83(0x117)][_0x455c83(0xe3)],0x0)&&(_0x3c699a[TestFrameworkConstants[_0x455c83(0xa1)]]=_0x31d5f9[_0x455c83(0x117)]);TestInfo[_0x455c83(0xdd)](_0x3cc6af,_0x3c699a),logger[_0x455c83(0xc5)](_0x455c83(0x133)+_0x31d5f9[_0x455c83(0x11b)]+_0x455c83(0x140)+_0x31d5f9['result']);const _0x34728c={};return _0x34728c[_0x3cc6af]=_0x3c699a,_0x34728c;}async[a70_0x1ba694(0xd9)](_0x3e2f0b,_0x25bbcd,_0xff0645,_0x1aba6b){const _0x31e163=a70_0x1ba694,_0x3e85ff={'GbhOT':_0x31e163(0xf2),'tKrKj':function(_0x2ea3bd){return _0x2ea3bd();},'fHolj':function(_0x353dc5,_0x26a863){return _0x353dc5 in _0x26a863;},'cWEHy':function(_0x9e7c57,_0x1fd67c){return _0x9e7c57===_0x1fd67c;},'yIWFk':function(_0x51edfd,_0x592c95){return _0x51edfd===_0x592c95;},'SBMpK':function(_0x1d81e9,_0x265bcc){return _0x1d81e9>_0x265bcc;},'oVgXR':'failed','SWgIW':_0x31e163(0xb8),'RiMBW':'passed','qjqNE':function(_0x4f20c9,_0x5db55d){return _0x4f20c9!==_0x5db55d;}},{hookData:_0x4cea47}=_0x1aba6b;if(!_0x4cea47)return logger[_0x31e163(0xc5)](_0x3e85ff['GbhOT']),{};const _0x5de212=_0x4cea47[_0x31e163(0x11f)]||_0x3e85ff[_0x31e163(0x14f)](uuidv4),_0x57eceb=_0x4cea47[_0x31e163(0x11e)],_0x3d5d65=_0x25bbcd[_0x31e163(0x154)]()['split']('.')[0x1],_0x5467b4=TestInfo[_0x31e163(0x9d)](_0x57eceb)[TestFrameworkConstants[_0x31e163(0xe0)]]||{},_0x3d656c=_0x3e2f0b[_0x31e163(0xe5)]()[_0x31e163(0xff)](_0x57eceb);if(!_0x3d656c)return logger[_0x31e163(0xc5)](_0x31e163(0xa2)+_0x57eceb+_0x31e163(0x14e)),this[_0x31e163(0x9c)](_0x3e2f0b,_0x57eceb,_0x25bbcd,_0xff0645,_0x1aba6b),{};let _0x4c8506=_0x3d656c[TestFrameworkConstants[_0x31e163(0x155)]];!_0x4c8506&&(_0x4c8506={});!_0x3e85ff[_0x31e163(0xe9)](_0x3d5d65,_0x4c8506)&&(_0x4c8506[_0x3d5d65]=[]);let _0x128e15=_0x3d656c[TestFrameworkConstants['KEY_HOOKS_FINISHED']];!_0x128e15&&(_0x128e15={});!_0x3e85ff[_0x31e163(0xe9)](_0x3d5d65,_0x128e15)&&(_0x128e15[_0x3d5d65]=[]);const _0x41afaa={[TestFrameworkConstants[_0x31e163(0x155)]]:_0x4c8506,[TestFrameworkConstants[_0x31e163(0xa1)]]:_0x128e15},_0xab0a5b={};_0xab0a5b[_0x57eceb]=_0x41afaa;const _0x1ed423=_0xab0a5b;if(_0x3e85ff[_0x31e163(0xe8)](_0xff0645,HookState['PRE'])){const _0x57113a={[TestFrameworkConstants[_0x31e163(0x13f)]]:_0x5de212,[TestFrameworkConstants[_0x31e163(0x158)]]:TestFrameworkConstants[_0x31e163(0xcd)],[TestFrameworkConstants[_0x31e163(0x15e)]]:_0x4cea47['started_at'],[TestFrameworkConstants[_0x31e163(0x128)]]:[],[TestFrameworkConstants[_0x31e163(0x169)]]:_0x4cea47[_0x31e163(0x16a)],[TestFrameworkConstants[_0x31e163(0xe0)]]:_0x5467b4};_0x57113a[_0x31e163(0xfd)]=_0x3d5d65;const _0xf9c90=_0x57113a;_0x4c8506[_0x3d5d65][_0x31e163(0x9f)](_0xf9c90),_0x1ed423[_0x57eceb][TestFrameworkConstants[_0x31e163(0xbf)]]=_0x3d5d65,logger['debug'](_0x31e163(0x145)+_0x3d5d65+_0x31e163(0xd1)+_0xf9c90+_0x31e163(0x12d)+_0x1aba6b);}else{if(_0x3e85ff[_0x31e163(0xc4)](_0xff0645,HookState['POST'])){const _0x38b4bb=_0x4cea47[_0x31e163(0xd8)],_0x31de15=_0x4c8506[_0x3d5d65]||[];logger['debug'](_0x31e163(0xe7)+_0x31de15+_0x31e163(0xc1)+_0x1aba6b);if(_0x3e85ff[_0x31e163(0xca)](_0x31de15['length'],0x0)){const _0x303f51=_0x31de15[_0x31e163(0xc7)]();_0x3e85ff[_0x31e163(0xe8)](_0x4cea47[_0x31e163(0xd8)],_0x3e85ff[_0x31e163(0x165)])&&_0x4cea47['failure_data']?(_0x303f51[TestFrameworkConstants[_0x31e163(0x108)]]=_0x4cea47['failure_type']||_0x3e85ff['SWgIW'],_0x303f51[TestFrameworkConstants[_0x31e163(0x106)]]=_0x4cea47['failure_reason']||'',_0x303f51[TestFrameworkConstants[_0x31e163(0x105)]]=_0x4cea47[_0x31e163(0x11d)]):_0x303f51[TestFrameworkConstants[_0x31e163(0x158)]]=_0x3e85ff['RiMBW'];_0x3e85ff[_0x31e163(0x151)](_0x38b4bb,TestFrameworkConstants[_0x31e163(0xcd)])&&(_0x303f51[TestFrameworkConstants['KEY_HOOK_RESULT']]=_0x38b4bb);_0x303f51[TestFrameworkConstants[_0x31e163(0x134)]]=_0x4cea47['finished_at']||new Date()[_0x31e163(0xe6)](),_0x303f51[TestFrameworkConstants[_0x31e163(0xe0)]]=_0x5467b4;const _0x40bca1=_0x303f51[TestFrameworkConstants[_0x31e163(0x13f)]];!_0x128e15[_0x3d5d65]&&(_0x128e15[_0x3d5d65]=[]),_0x128e15[_0x3d5d65][_0x31e163(0x9f)](_0x303f51),_0x1ed423[_0x57eceb][TestFrameworkConstants[_0x31e163(0xde)]]=_0x3d5d65;}}}return logger[_0x31e163(0xc5)]('Tracked\x20cucumber\x20hook\x20event:\x20'+_0x4cea47[_0x31e163(0x16a)]+_0x31e163(0x15a)+_0x5de212+_0x31e163(0x13b)+_0x57eceb),_0x1ed423;}['createTestFrameworkEventPayload'](_0x547a97){const _0x542d8a=a70_0x1ba694,_0x85fb43={};_0x85fb43[_0x542d8a(0xef)]=_0x542d8a(0x12a);const _0x2a14d2=_0x85fb43;try{const _0x26a3fd=_0x547a97['test']?_0x547a97[_0x542d8a(0xf6)]['id']:_0x547a97[_0x542d8a(0x12e)][_0x542d8a(0x11e)],_0x372831=_0x547a97['instance'],_0x524b54=_0x372831[_0x542d8a(0xb6)](),_0x5d66e9=_0x372831[_0x542d8a(0xe5)]()['get'](_0x26a3fd);if(!_0x5d66e9)return logger[_0x542d8a(0xc5)](_0x542d8a(0xad)+_0x26a3fd),{};logger[_0x542d8a(0xc5)]('createTestFrameworkEventPayload\x20testId:\x20'+_0x26a3fd);const {[TestFrameworkConstants[_0x542d8a(0x127)]]:_0x2adf50='',[TestFrameworkConstants[_0x542d8a(0x101)]]:_0x39c5f0='',[TestFrameworkConstants[_0x542d8a(0x161)]]:_0x540257='',[TestFrameworkConstants[_0x542d8a(0x166)]]:_0x2669ba=''}=_0x5d66e9,_0x5d5a57=_0x372831[_0x542d8a(0xbd)]()[_0x542d8a(0x154)]()['split']('.')[0x1],_0x21c5b6=_0x372831[_0x542d8a(0x129)]()['toString']()[_0x542d8a(0x100)]('.')[0x1],_0x57a897=global?.[_0x542d8a(0xd6)]?.[_0x542d8a(0x14d)]?.['parallelIndex'],_0x45f551=_0x372831[_0x542d8a(0x114)](),_0x355be3=Buffer[_0x542d8a(0x120)](JSON[_0x542d8a(0x149)](_0x5d66e9))[_0x542d8a(0x154)](_0x2a14d2['CQbHz']),_0x3af30d={'hash':_0x524b54['getId'](),'threadId':_0x524b54[_0x542d8a(0x123)]()[_0x542d8a(0x154)](),'processId':_0x524b54['getProcessId']()['toString']()},_0x1fb928={};_0x1fb928['platformIndex']=_0x57a897,_0x1fb928[_0x542d8a(0xbe)]=_0x2adf50,_0x1fb928[_0x542d8a(0x124)]=_0x39c5f0,_0x1fb928[_0x542d8a(0xd2)]=_0x5d5a57,_0x1fb928[_0x542d8a(0xf7)]=_0x21c5b6,_0x1fb928['startedAt']=_0x540257,_0x1fb928[_0x542d8a(0xa9)]=_0x2669ba,_0x1fb928[_0x542d8a(0x11f)]=_0x45f551,_0x1fb928[_0x542d8a(0x13c)]=_0x355be3,_0x1fb928[_0x542d8a(0xc3)]=_0x3af30d;const _0x362028=_0x1fb928;return logger[_0x542d8a(0xc5)](_0x542d8a(0x16b)+_0x26a3fd+'\x20testState:\x20'+_0x5d5a57+_0x542d8a(0x141)+_0x21c5b6),_0x362028;}catch(_0x441a5e){return logger['error'](_0x542d8a(0xa5)+util['format'](_0x441a5e)),{};}}async[a70_0x1ba694(0x14b)](_0x302824,_0x219ce4,_0x134ed9){const _0x4648cd=a70_0x1ba694,_0x2c41ae={'XXxMU':function(_0x59360b,_0x282cb8,_0x285df9){return _0x59360b(_0x282cb8,_0x285df9);},'VJksp':function(_0x2c8c13,_0x5f2ccc){return _0x2c8c13===_0x5f2ccc;},'LUsUz':_0x4648cd(0xa0),'MJJxk':function(_0x28991f,_0x22a933){return _0x28991f/_0x22a933;},'oORvt':function(_0x3e68b4,_0x3ef6fa){return _0x3e68b4<_0x3ef6fa;},'znYVn':function(_0x9cd78b,_0x170855){return _0x9cd78b*_0x170855;},'jFjYq':function(_0x20a6f6,_0x3306b4){return _0x20a6f6+_0x3306b4;},'HFDHC':function(_0x4a4d8f,_0x3af048){return _0x4a4d8f+_0x3af048;},'lWdHX':_0x4648cd(0xc6)};try{const _0x3e4f99=_0x134ed9[_0x4648cd(0xb3)],_0x3169e3=_0x302824[_0x4648cd(0xe5)]()[_0x4648cd(0xff)](_0x3e4f99),{[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x228f61='',[TestFrameworkConstants[_0x4648cd(0x101)]]:_0x2d6b28=''}=_0x3169e3,_0x5e4d4a=TestInfo[_0x4648cd(0x10c)](_0x3e4f99),_0x5efd3e=TestInfo['getTestDetails'](_0x3e4f99)[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x36025a=_0x2c41ae['XXxMU'](getMediaArtifactsLogs,_0x5efd3e,_0x302824[_0x4648cd(0xe5)]()[_0x4648cd(0xff)](_0x3e4f99)[TestFrameworkConstants[_0x4648cd(0x148)]]),_0x4e71b8=(_0x5e4d4a||[])['concat'](_0x36025a||[]);if(!_0x4e71b8||_0x2c41ae[_0x4648cd(0xf4)](_0x4e71b8[_0x4648cd(0xe3)],0x0)){logger[_0x4648cd(0xc5)](_0x2c41ae[_0x4648cd(0x164)]);return;}const _0x2d27db=0x28,_0x4bd7f0=Math[_0x4648cd(0xe4)](_0x2c41ae[_0x4648cd(0x156)](_0x4e71b8[_0x4648cd(0xe3)],_0x2d27db));for(let _0x23e959=0x0;_0x2c41ae[_0x4648cd(0x153)](_0x23e959,_0x4bd7f0);_0x23e959++){const _0x7ac863=_0x2c41ae[_0x4648cd(0x136)](_0x23e959,_0x2d27db),_0xb7df90=_0x2c41ae[_0x4648cd(0x132)](_0x7ac863,_0x2d27db),_0x8d714f=_0x4e71b8['slice'](_0x7ac863,_0xb7df90),_0x36ed3b={'platformIndex':'0','logs':_0x8d714f,'testFrameworkName':_0x228f61,'testFrameworkVersion':_0x2d6b28,'testFrameworkState':_0x219ce4[_0x4648cd(0x154)]()[_0x4648cd(0x100)]('.')[0x1]};logger[_0x4648cd(0xc5)](_0x4648cd(0xdb)+_0x3e4f99+'\x20batch\x20'+_0x2c41ae['HFDHC'](_0x23e959,0x1)+'/'+_0x4bd7f0+'\x20payload='+util[_0x4648cd(0xb1)](_0x36ed3b));const _0x5d9cdc=await GrpcClient[_0x4648cd(0xed)]()[_0x4648cd(0x104)](_0x36ed3b);logger[_0x4648cd(0xc5)](_0x4648cd(0xdb)+_0x3e4f99+_0x4648cd(0x103)+_0x2c41ae['jFjYq'](_0x23e959,0x1)+'/'+_0x4bd7f0+_0x4648cd(0xac)+util['inspect'](_0x5d9cdc));}}catch(_0x18fd99){logger[_0x4648cd(0x137)]('sendLogCreatedEvent:\x20Error\x20in\x20sending\x20log\x20events:\x20'+util['format'](_0x18fd99));}logger[_0x4648cd(0xc5)](_0x2c41ae['lWdHX']);}[a70_0x1ba694(0x9c)](_0x1a58f7,_0x475a9e,_0x144c80,_0x352bce,_0x2516b2){const _0x525eec=a70_0x1ba694,_0x20a981={'testId':_0x475a9e,'testFrameworkState':_0x144c80,'hookState':_0x352bce,'args':_0x2516b2,'timestamp':new Date()[_0x525eec(0xe6)]()};_0x1a58f7[_0x525eec(0xb9)](_0x475a9e,_0x20a981),logger[_0x525eec(0xc5)]('Stored\x20pending\x20hook\x20for\x20testId:\x20'+_0x475a9e+_0x525eec(0x126)+_0x144c80+_0x525eec(0x131)+_0x352bce);}async[a70_0x1ba694(0xf3)](_0x4f6ef8,_0x5237f6){const _0x5d4ff4=a70_0x1ba694,_0x1d3931={};_0x1d3931['LevfT']=function(_0x4f69b0,_0x30fd5d){return _0x4f69b0>_0x30fd5d;};const _0x1c43b9=_0x1d3931;if(!_0x4f6ef8[_0x5d4ff4(0xf1)](_0x5237f6))return;const _0x3eb915=_0x4f6ef8[_0x5d4ff4(0x152)](_0x5237f6);logger[_0x5d4ff4(0xc5)](_0x5d4ff4(0x110)+_0x3eb915[_0x5d4ff4(0xe3)]+_0x5d4ff4(0xda)+_0x5237f6);for(const _0x3106d6 of _0x3eb915){try{const _0x8d93fb=await this[_0x5d4ff4(0xd9)](_0x4f6ef8,_0x3106d6['testFrameworkState'],_0x3106d6[_0x5d4ff4(0xf7)],_0x3106d6[_0x5d4ff4(0x14a)]);_0x8d93fb&&_0x1c43b9[_0x5d4ff4(0xc9)](Object[_0x5d4ff4(0x144)](_0x8d93fb)[_0x5d4ff4(0xe3)],0x0)&&_0x4f6ef8[_0x5d4ff4(0x10b)](_0x8d93fb),await this[_0x5d4ff4(0x102)](_0x4f6ef8,_0x3106d6[_0x5d4ff4(0xd2)],_0x3106d6[_0x5d4ff4(0xf7)],_0x3106d6[_0x5d4ff4(0x14a)]);}catch(_0x47e0cf){logger[_0x5d4ff4(0x137)]('Error\x20processing\x20pending\x20hook\x20for\x20testId:\x20'+_0x5237f6+',\x20error:\x20'+_0x47e0cf);}}_0x4f6ef8[_0x5d4ff4(0xe1)](_0x5237f6),logger['debug'](_0x5d4ff4(0xab)+_0x5237f6);}}module['exports']=CucumberTestFramework;