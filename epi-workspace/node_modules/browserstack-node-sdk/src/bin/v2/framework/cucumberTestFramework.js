const a70_0x1cae99=a70_0x558a;(function(_0x4c97ad,_0x58c2a9){const _0x2a6100=a70_0x558a,_0xd6c35f=_0x4c97ad();while(!![]){try{const _0x2c5c25=parseInt(_0x2a6100(0x152))/0x1+parseInt(_0x2a6100(0x1a3))/0x2+parseInt(_0x2a6100(0x13a))/0x3*(parseInt(_0x2a6100(0x155))/0x4)+parseInt(_0x2a6100(0x118))/0x5+parseInt(_0x2a6100(0x143))/0x6*(-parseInt(_0x2a6100(0x189))/0x7)+parseInt(_0x2a6100(0xef))/0x8+-parseInt(_0x2a6100(0x132))/0x9;if(_0x2c5c25===_0x58c2a9)break;else _0xd6c35f['push'](_0xd6c35f['shift']());}catch(_0x36721a){_0xd6c35f['push'](_0xd6c35f['shift']());}}}(a70_0x2f9f,0x87a6e));const TestFramework=require(a70_0x1cae99(0x144)),TestFrameworkState=require(a70_0x1cae99(0x15b)),HookState=require(a70_0x1cae99(0x18e)),{createClassLogger}=require(a70_0x1cae99(0x147)),TestFrameworkInstance=require('../instances/testFrameworkInstance.js'),CLIUtils=require(a70_0x1cae99(0x17d)),TrackedInstance=require(a70_0x1cae99(0x148)),TestFrameworkConstants=require(a70_0x1cae99(0x16e)),{getManualUploadLogs,getMediaArtifactsLogs}=require(a70_0x1cae99(0x180)),logger=createClassLogger(a70_0x1cae99(0x165)),{v4:uuidv4}=require(a70_0x1cae99(0x1be)),util=require(a70_0x1cae99(0x167)),TestInfo=require(a70_0x1cae99(0x177)),GrpcClient=require('../grpcClient');function a70_0x2f9f(){const _0x14b85e=[',\x20state=','TEST','KEY_TEST_SCOPES','failure_type','hookState','uuid','POST','QsWmq','zDMXN','KEY_TEST_LOGS','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test\x20result','workerInfo','\x20batch\x20','KEY_HOOK_LAST_STARTED','runHooks','\x20hookState:\x20','toISOString','unknown','4729976zlMKFg','name','getCurrentTestState','KEY_TEST_FRAMEWORK_VERSION','storePendingHook','scopes','getTrackedInstance','KEY_TEST_CODE','PRE','addMultipleEntries','testUUID','trackCucumberInstance:\x20created\x20instance\x20for\x20target=','sendLogCreatedEvent','getInstance','getCurrentHookState','cbpZE','getContext','trackHookEvent','hNOmn','createContext','getCurrentInstanceName','slice','QqvKn','failure_data','length','readLogObjects','\x20&\x20hook\x20=\x20','KEY_HOOK_RESULT','hNEwU','getRef','getProcessId','\x20response=','\x20and\x20args\x20=\x20','hJYtP','KEY_TEST_FAILURE','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','Tracked\x20cucumber\x20hook\x20event:\x20','HmayF','KEY_TEST_FILE_PATH','startedAt','KEY_TEST_FAILURE_TYPE','4628885LfZCts','endedAt','KEY_TEST_SCOPE','concat','dmaYw','KEY_TEST_FAILURE_REASON','KEY_TEST_FRAMEWORK_NAME','EkwUY','No\x20hook\x20data\x20provided\x20for\x20cucumber\x20hook\x20event','testFrameworkVersion','\x20for\x20test:\x20','keys','resolveInstance','ZbGkV','getAllData','Urrkq','UzVUi','Cucumber\x20log\x20created\x20event','inspect','push','parseCucumberTest','KEY_TEST_RESULT','result','KEY_TEST_UUID','Error\x20processing\x20pending\x20hook\x20for\x20testId:\x20','KEY_EVENT_STARTED_AT','20195811ZJzwRF','getTestFrameworks',',\x20state:\x20','trackCucumberInstance:\x20saved\x20instance\x20contextId=','\x20&\x20hookState=','trackEvent','testData','TbOnW','324MDGqvm','hasPendingHooks','parallelIndex','trackEvent:\x20unsupported\x20testFrameworkState=','tdaya','UnhandledError','parseCucumberTestResult','XcAPd','get','6DjYmuX','./testFramework','SUgVH','platformIndex','../../../helpers/classLogger.js','../instances/trackedInstance.js','sendLogCreatedEvent:\x20for\x20testId:\x20','format','location','DEFAULT_TEST_RESULT','finishedAt','meta','getTestUUID','KEY_TEST_STARTED_AT','KEY_HOOK_FAILURE_REASON','1016588lmobdb','sKGBm','BpZpH','18516rgOspZ','split','EifRY','\x20pending\x20hooks\x20for\x20testId:\x20','body','trackCucumberInstance','../state/testFrameworkState.js','toString','KEY_TEST_TAGS','stringify','\x20with\x20UUID:\x20','uyOON','test','KEY_HOOK_ID','vKwhi','ceil','CucumberTestFramework','setTestDetails','util','hook_type','\x20payload=','finished_at','No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','hooks','KEY_HOOKS_STARTED','./constants/testFrameworkConstants.js','sendLogCreatedEvent:\x20Error\x20in\x20sending\x20log\x20events:\x20','ncdqK','exports','setTrackedInstance','from','WPXUd','KEY_HOOK_FAILURE','KEY_TEST_ATTACHMENTS','../TestInfo.js','getTestDetails','\x20testState:\x20','executionContext','getPendingHooks','failed','../cliUtils.js','KEY_HOOKS_FINISHED','eventJson','../../../helpers/helper.js','failure_reason','KEY_HOOK_NAME','getTestFrameworksVersions','DEFAULT_HOOK_RESULT','KEY_LOGS','test_run_id',',\x20hookState:\x20','failure','5865734kRdKmX','removePendingHooks','trackEvent:\x20Test\x20Framework\x20instance\x20not\x20found','error','testFrameworkName','../state/hookState.js','lneEu','pop','Updated\x20cucumber\x20test\x20result:\x20','\x20with\x20result:\x20','instance','tags','KEY_HOOK_FAILURE_TYPE','NvdpJ','Cleared\x20processed\x20pending\x20hooks\x20for\x20testId:\x20','testFrameworkState','passed','KEY_AUTOMATE_SESSION_NAME','mftTg','createTestFrameworkEventPayload\x20testId:\x20','processPendingHooks','QeyiS',',\x20storing\x20as\x20pending\x20hook','ecTkk','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test','base64','1208054MosyYn','getId','KEY_TEST_META','LOG_REPORT','KEY_CUSTOM_TAGS','KEY_TEST_ID','cBgkg','debug','mChPl','trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20','addPendingHook','BiYvR','args','Wjdyv','hookData','getThreadId','code','Error\x20in\x20createTestFrameworkEventPayload:\x20','\x20target=','rerun_name','xhEhI','KEY_TEST_NAME'];a70_0x2f9f=function(){return _0x14b85e;};return a70_0x2f9f();}function a70_0x558a(_0x5bd75d,_0x4d725a){const _0x2f9f42=a70_0x2f9f();return a70_0x558a=function(_0x558a53,_0x34ed54){_0x558a53=_0x558a53-0xea;let _0x5d637b=_0x2f9f42[_0x558a53];return _0x5d637b;},a70_0x558a(_0x5bd75d,_0x4d725a);}class CucumberTestFramework extends TestFramework{constructor(_0x19cce4,_0xce1d99,_0x4c126b){super(_0x19cce4,_0xce1d99,_0x4c126b);}async[a70_0x1cae99(0x137)](_0x575594,_0x50f55b,_0x5e5f68={}){const _0x3edb73=a70_0x1cae99,_0xe4f77c={};_0xe4f77c[_0x3edb73(0x141)]=_0x3edb73(0x18b),_0xe4f77c[_0x3edb73(0x11c)]=function(_0x26e691,_0xc3e4d3){return _0x26e691===_0xc3e4d3;},_0xe4f77c[_0x3edb73(0x174)]=function(_0x134241,_0x2fbcfb){return _0x134241===_0x2fbcfb;},_0xe4f77c[_0x3edb73(0x128)]='trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s';const _0x15e185=_0xe4f77c;await super[_0x3edb73(0x137)](_0x575594,_0x50f55b,_0x5e5f68);const _0x153453=this[_0x3edb73(0x124)](_0x575594,_0x50f55b,_0x5e5f68);if(!_0x153453){logger['debug'](_0x15e185['XcAPd']);return;}try{let _0x4252dd,_0x310dcf;switch(_0x575594){case TestFrameworkState[_0x3edb73(0x1ba)]:_0x4252dd=_0x5e5f68[_0x3edb73(0x161)],_0x310dcf=TestInfo[_0x3edb73(0x14f)](_0x4252dd['id']);if(_0x15e185[_0x3edb73(0x11c)](_0x50f55b,HookState[_0x3edb73(0xf7)])){logger['debug'](_0x3edb73(0x112)+_0x4252dd['id']);const _0x4f8f74={};_0x4f8f74['testUUID']=_0x310dcf,_0x4f8f74[_0x3edb73(0x138)]=_0x4252dd,_0x153453[_0x3edb73(0xf8)](this['parseCucumberTest'](_0x4f8f74)),logger[_0x3edb73(0x1aa)](_0x3edb73(0x1ac)+_0x4252dd['id']),await this[_0x3edb73(0x19d)](_0x153453,_0x4252dd['id']);}else{if(_0x15e185['WPXUd'](_0x50f55b,HookState[_0x3edb73(0x1bf)])){const _0x580d13={};_0x580d13[_0x3edb73(0xf9)]=_0x310dcf,_0x580d13[_0x3edb73(0x138)]=_0x4252dd,_0x153453[_0x3edb73(0xf8)](this[_0x3edb73(0x140)](_0x580d13)),await this[_0x3edb73(0x19d)](_0x153453,_0x4252dd['id']);}}break;case TestFrameworkState[_0x3edb73(0x1a6)]:_0x15e185[_0x3edb73(0x174)](_0x50f55b,HookState['POST'])&&await this[_0x3edb73(0xfb)](_0x153453,_0x575594,_0x5e5f68);break;default:if(CLIUtils['matchHookRegex'](_0x575594[_0x3edb73(0x15c)]()[_0x3edb73(0x156)]('.')[0x1])){const _0x37d7ee=await this[_0x3edb73(0x100)](_0x153453,_0x575594,_0x50f55b,_0x5e5f68);_0x153453['addMultipleEntries'](_0x37d7ee);}else logger['debug'](_0x3edb73(0x13d)+_0x575594+_0x3edb73(0x136)+_0x50f55b);break;}}catch(_0x596daa){logger[_0x3edb73(0x18c)](util[_0x3edb73(0x14a)](_0x15e185['UzVUi'],_0x575594,_0x50f55b,_0x5e5f68[_0x3edb73(0x107)],_0x596daa));}_0x5e5f68[_0x3edb73(0x193)]=_0x153453,await this[_0x3edb73(0xeb)](_0x153453,_0x575594,_0x50f55b,_0x5e5f68);}[a70_0x1cae99(0x124)](_0x51b9b0,_0x12b865,_0x5d3017={}){const _0x4c995b=a70_0x1cae99,_0x1c656b={};_0x1c656b[_0x4c995b(0x10b)]=function(_0x282278,_0x3b5321){return _0x282278===_0x3b5321;};const _0x41c688=_0x1c656b;let _0x4f38c7=null;return(_0x41c688[_0x4c995b(0x10b)](_0x51b9b0,TestFrameworkState['INIT_TEST'])||_0x41c688[_0x4c995b(0x10b)](_0x51b9b0,TestFrameworkState['NONE']))&&this[_0x4c995b(0x15a)](_0x51b9b0,_0x5d3017),_0x4f38c7=TestFramework[_0x4c995b(0xf5)](),_0x4f38c7;}[a70_0x1cae99(0x15a)](_0x3d1cb6,_0x4c3171){const _0x3edad0=a70_0x1cae99,_0x3c0ef1=CLIUtils[_0x3edad0(0x103)](),_0x47a06d=TrackedInstance[_0x3edad0(0x102)](_0x3c0ef1);let _0x492f45=null;logger[_0x3edad0(0x1aa)](_0x3edad0(0xfa)+_0x3c0ef1+_0x3edad0(0x1b9)+_0x3d1cb6),_0x492f45=new TestFrameworkInstance(_0x47a06d,this[_0x3edad0(0x133)](),this[_0x3edad0(0x183)](),_0x3d1cb6,HookState['NONE']),TestFramework[_0x3edad0(0x172)](_0x47a06d,_0x492f45),logger[_0x3edad0(0x1aa)](_0x3edad0(0x135)+_0x47a06d[_0x3edad0(0x1a4)]()+_0x3edad0(0x1b5)+_0x3c0ef1);}[a70_0x1cae99(0x12c)](_0x81d386){const _0x3bbbe2=a70_0x1cae99,_0x3d4f2a={};_0x3d4f2a[_0x3bbbe2(0x1ae)]=_0x3bbbe2(0x1a1);const _0x2501b7=_0x3d4f2a,{testUUID:_0x35e7c8,testData:_0x23197f}=_0x81d386;if(!_0x23197f||!_0x23197f[_0x3bbbe2(0x1be)])return logger[_0x3bbbe2(0x1aa)](_0x2501b7[_0x3bbbe2(0x1ae)]),{};const _0x1baf5e=_0x23197f[_0x3bbbe2(0x1be)],_0x27f802=_0x23197f[_0x3bbbe2(0x1be)],_0x341a5f=this[_0x3bbbe2(0x133)]()[0x0],_0x3d5c1f=this[_0x3bbbe2(0x183)](),_0x5d6c1a={[TestFrameworkConstants[_0x3bbbe2(0x11e)]]:_0x341a5f,[TestFrameworkConstants[_0x3bbbe2(0xf2)]]:_0x3d5c1f[_0x341a5f],[TestFrameworkConstants[_0x3bbbe2(0x1c2)]]:[],[TestFrameworkConstants[_0x3bbbe2(0x17e)]]:{},[TestFrameworkConstants[_0x3bbbe2(0x16d)]]:{},[TestFrameworkConstants[_0x3bbbe2(0x12f)]]:_0x1baf5e,[TestFrameworkConstants[_0x3bbbe2(0x12d)]]:TestFrameworkConstants[_0x3bbbe2(0x14c)],[TestFrameworkConstants[_0x3bbbe2(0x19a)]]:_0x23197f[_0x3bbbe2(0xf0)]||'',[TestFrameworkConstants[_0x3bbbe2(0x115)]]:_0x23197f['file_name']||'',[TestFrameworkConstants[_0x3bbbe2(0x1a8)]]:_0x27f802,[TestFrameworkConstants[_0x3bbbe2(0x1b8)]]:_0x23197f[_0x3bbbe2(0xf0)]||'',[TestFrameworkConstants['KEY_TEST_LOCATION']]:_0x23197f[_0x3bbbe2(0x14b)]||'',[TestFrameworkConstants[_0x3bbbe2(0xf6)]]:_0x23197f[_0x3bbbe2(0x159)]?.[_0x3bbbe2(0x1b3)]||null,[TestFrameworkConstants[_0x3bbbe2(0x15d)]]:_0x23197f[_0x3bbbe2(0x194)]||[],[TestFrameworkConstants['KEY_TEST_STARTED_AT']]:_0x23197f['startedAt']||new Date()[_0x3bbbe2(0xed)](),[TestFrameworkConstants[_0x3bbbe2(0x11a)]]:_0x23197f[_0x3bbbe2(0xf4)]?.[0x0]||'',[TestFrameworkConstants[_0x3bbbe2(0x1bb)]]:_0x23197f['scopes']||[],[TestFrameworkConstants['KEY_TEST_RERUN_NAME']]:_0x23197f['customRerunParam']?.[_0x3bbbe2(0x1b6)]||_0x23197f[_0x3bbbe2(0xf0)]||'',[TestFrameworkConstants[_0x3bbbe2(0x1a7)]]:{},[TestFrameworkConstants[_0x3bbbe2(0x1a5)]]:_0x23197f[_0x3bbbe2(0x14e)]||{}};TestInfo['setTestDetails'](_0x27f802,_0x5d6c1a),logger[_0x3bbbe2(0x1aa)]('Parsed\x20cucumber\x20test:\x20'+_0x23197f[_0x3bbbe2(0xf0)]+_0x3bbbe2(0x15f)+_0x1baf5e);const _0x241992={};return _0x241992[_0x27f802]=_0x5d6c1a,_0x241992;}[a70_0x1cae99(0x140)](_0x6c3e68){const _0x28f416=a70_0x1cae99,_0x264b33={'EifRY':_0x28f416(0x1c3),'tdaya':_0x28f416(0xee),'sKGBm':function(_0x5beb08,_0x25c513){return _0x5beb08===_0x25c513;},'cbpZE':'failed','mftTg':_0x28f416(0x13f),'vKwhi':function(_0x492273,_0x245627,_0x3a9262){return _0x492273(_0x245627,_0x3a9262);},'WmmmO':function(_0x44a9d7,_0x145cfa){return _0x44a9d7>_0x145cfa;},'xhEhI':function(_0x456eb7,_0x18d776){return _0x456eb7>_0x18d776;}},{testUUID:_0x290933,testData:_0x288e65}=_0x6c3e68;if(!_0x288e65||!_0x288e65[_0x28f416(0x1be)])return logger[_0x28f416(0x1aa)](_0x264b33[_0x28f416(0x157)]),{};const _0x3cace2=this[_0x28f416(0x124)](TestFrameworkState[_0x28f416(0x1ba)],HookState[_0x28f416(0x1bf)]),_0x5c4c20=_0x288e65['uuid'],_0x195f88=TestInfo[_0x28f416(0x178)](_0x5c4c20)||{},_0x4d0231=_0x195f88?_0x195f88[TestFrameworkConstants[_0x28f416(0x1a7)]]||{}:{},_0x11fd9e={..._0x195f88,[TestFrameworkConstants['KEY_TEST_RESULT']]:_0x288e65['result']||_0x264b33[_0x28f416(0x13e)],[TestFrameworkConstants['KEY_TEST_ENDED_AT']]:_0x288e65[_0x28f416(0x14d)]||new Date()['toISOString'](),[TestFrameworkConstants['KEY_TEST_RESULT_AT']]:new Date()[_0x28f416(0xed)](),[TestFrameworkConstants[_0x28f416(0x1a7)]]:_0x4d0231,[TestFrameworkConstants[_0x28f416(0x185)]]:[],[TestFrameworkConstants[_0x28f416(0x1a5)]]:_0x288e65['meta']||{}};_0x264b33[_0x28f416(0x153)](_0x288e65[_0x28f416(0x12e)],_0x264b33[_0x28f416(0xfe)])&&_0x288e65[_0x28f416(0x188)]&&(_0x11fd9e[TestFrameworkConstants[_0x28f416(0x117)]]=_0x288e65[_0x28f416(0x1bc)]||_0x264b33[_0x28f416(0x19b)],_0x11fd9e[TestFrameworkConstants[_0x28f416(0x11d)]]=_0x288e65[_0x28f416(0x181)]||'',_0x11fd9e[TestFrameworkConstants[_0x28f416(0x111)]]=_0x288e65[_0x28f416(0x188)]);const _0x1f12cc=TestInfo['getTestDetails'](_0x5c4c20)[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x3f0026=_0x264b33[_0x28f416(0x163)](getManualUploadLogs,_0x1f12cc,_0x3cace2[_0x28f416(0x126)]()[_0x28f416(0x142)](_0x5c4c20)[TestFrameworkConstants[_0x28f416(0x12f)]]);if(_0x264b33['WmmmO'](_0x3f0026['length'],0x0)){const _0x371069=_0x11fd9e[TestFrameworkConstants[_0x28f416(0x185)]]||[];_0x11fd9e[TestFrameworkConstants[_0x28f416(0x185)]]=[..._0x371069,..._0x3f0026];}_0x288e65[_0x28f416(0x16c)]&&_0x264b33[_0x28f416(0x1b7)](_0x288e65[_0x28f416(0x16c)][_0x28f416(0x107)],0x0)&&(_0x11fd9e[TestFrameworkConstants['KEY_HOOKS_FINISHED']]=_0x288e65[_0x28f416(0x16c)]);TestInfo[_0x28f416(0x166)](_0x5c4c20,_0x11fd9e),logger['debug'](_0x28f416(0x191)+_0x288e65['name']+_0x28f416(0x192)+_0x288e65[_0x28f416(0x12e)]);const _0x1bb134={};return _0x1bb134[_0x5c4c20]=_0x11fd9e,_0x1bb134;}async[a70_0x1cae99(0x100)](_0x1070e0,_0x3a7490,_0x34e78f,_0x1ba434){const _0x37c853=a70_0x1cae99,_0x38d255={'hJYtP':_0x37c853(0x120),'ecTkk':function(_0x5a9f86){return _0x5a9f86();},'cBgkg':function(_0x17de3a,_0xa943e4){return _0x17de3a in _0xa943e4;},'hNOmn':function(_0x52c329,_0x8ebc69){return _0x52c329 in _0x8ebc69;},'QeyiS':function(_0x5d27cb,_0x28c06d){return _0x5d27cb===_0x28c06d;},'HmayF':function(_0x3f46a6,_0x712ef7){return _0x3f46a6===_0x712ef7;},'BpZpH':function(_0x3d2251,_0x1b3e91){return _0x3d2251>_0x1b3e91;},'lneEu':function(_0x161782,_0x2c0101){return _0x161782===_0x2c0101;},'mChPl':_0x37c853(0x17c),'Wjdyv':_0x37c853(0x13f),'SUgVH':_0x37c853(0x199),'uyOON':function(_0xd35e1b,_0x2fd858){return _0xd35e1b!==_0x2fd858;}},{hookData:_0x4ceff0}=_0x1ba434;if(!_0x4ceff0)return logger[_0x37c853(0x1aa)](_0x38d255[_0x37c853(0x110)]),{};const _0x413503=_0x4ceff0[_0x37c853(0x1be)]||_0x38d255[_0x37c853(0x1a0)](uuidv4),_0x14bc2e=_0x4ceff0['test_run_id'],_0x413b44=_0x3a7490[_0x37c853(0x15c)]()[_0x37c853(0x156)]('.')[0x1],_0xfd6a00=TestInfo[_0x37c853(0x178)](_0x14bc2e)[TestFrameworkConstants[_0x37c853(0x1a7)]]||{},_0x7c4efc=_0x1070e0[_0x37c853(0x126)]()[_0x37c853(0x142)](_0x14bc2e);if(!_0x7c4efc)return logger['debug'](_0x37c853(0x16b)+_0x14bc2e+_0x37c853(0x19f)),this[_0x37c853(0xf3)](_0x1070e0,_0x14bc2e,_0x3a7490,_0x34e78f,_0x1ba434),{};let _0x3d46eb=_0x7c4efc[TestFrameworkConstants['KEY_HOOKS_STARTED']];!_0x3d46eb&&(_0x3d46eb={});!_0x38d255[_0x37c853(0x1a9)](_0x413b44,_0x3d46eb)&&(_0x3d46eb[_0x413b44]=[]);let _0x28f505=_0x7c4efc[TestFrameworkConstants[_0x37c853(0x17e)]];!_0x28f505&&(_0x28f505={});!_0x38d255[_0x37c853(0x101)](_0x413b44,_0x28f505)&&(_0x28f505[_0x413b44]=[]);const _0x336ce9={[TestFrameworkConstants[_0x37c853(0x16d)]]:_0x3d46eb,[TestFrameworkConstants['KEY_HOOKS_FINISHED']]:_0x28f505},_0x3af118={};_0x3af118[_0x14bc2e]=_0x336ce9;const _0x3a90df=_0x3af118;if(_0x38d255[_0x37c853(0x19e)](_0x34e78f,HookState[_0x37c853(0xf7)])){const _0x4a78c5={[TestFrameworkConstants[_0x37c853(0x162)]]:_0x413503,[TestFrameworkConstants[_0x37c853(0x10a)]]:TestFrameworkConstants[_0x37c853(0x184)],[TestFrameworkConstants[_0x37c853(0x131)]]:_0x4ceff0['started_at'],[TestFrameworkConstants['KEY_HOOK_LOGS']]:[],[TestFrameworkConstants[_0x37c853(0x182)]]:_0x4ceff0[_0x37c853(0x168)],[TestFrameworkConstants[_0x37c853(0x1a7)]]:_0xfd6a00};_0x4a78c5['key']=_0x413b44;const _0x3630c3=_0x4a78c5;_0x3d46eb[_0x413b44]['push'](_0x3630c3),_0x3a90df[_0x14bc2e][TestFrameworkConstants[_0x37c853(0xea)]]=_0x413b44,logger['debug']('trackHookEvent:\x20Hook\x20Started\x20in\x20PRE\x20key\x20=\x20'+_0x413b44+_0x37c853(0x109)+_0x3630c3+'\x20\x20and\x20args\x20=\x20'+_0x1ba434);}else{if(_0x38d255[_0x37c853(0x114)](_0x34e78f,HookState['POST'])){const _0x42ab9e=_0x4ceff0[_0x37c853(0x12e)],_0x27e378=_0x3d46eb[_0x413b44]||[];logger[_0x37c853(0x1aa)]('trackHookEvent:\x20Hook\x20List\x20in\x20Post\x20'+_0x27e378+_0x37c853(0x10f)+_0x1ba434);if(_0x38d255[_0x37c853(0x154)](_0x27e378[_0x37c853(0x107)],0x0)){const _0x202860=_0x27e378[_0x37c853(0x190)]();_0x38d255[_0x37c853(0x18f)](_0x4ceff0[_0x37c853(0x12e)],_0x38d255[_0x37c853(0x1ab)])&&_0x4ceff0[_0x37c853(0x106)]?(_0x202860[TestFrameworkConstants[_0x37c853(0x195)]]=_0x4ceff0[_0x37c853(0x1bc)]||_0x38d255[_0x37c853(0x1b0)],_0x202860[TestFrameworkConstants[_0x37c853(0x151)]]=_0x4ceff0[_0x37c853(0x181)]||'',_0x202860[TestFrameworkConstants[_0x37c853(0x175)]]=_0x4ceff0[_0x37c853(0x106)]):_0x202860[TestFrameworkConstants[_0x37c853(0x10a)]]=_0x38d255[_0x37c853(0x145)];_0x38d255[_0x37c853(0x160)](_0x42ab9e,TestFrameworkConstants[_0x37c853(0x184)])&&(_0x202860[TestFrameworkConstants[_0x37c853(0x10a)]]=_0x42ab9e);_0x202860[TestFrameworkConstants['KEY_EVENT_ENDED_AT']]=_0x4ceff0[_0x37c853(0x16a)]||new Date()[_0x37c853(0xed)](),_0x202860[TestFrameworkConstants[_0x37c853(0x1a7)]]=_0xfd6a00;const _0x3d68ef=_0x202860[TestFrameworkConstants[_0x37c853(0x162)]];!_0x28f505[_0x413b44]&&(_0x28f505[_0x413b44]=[]),_0x28f505[_0x413b44][_0x37c853(0x12b)](_0x202860),_0x3a90df[_0x14bc2e][TestFrameworkConstants['KEY_HOOK_LAST_FINISHED']]=_0x413b44;}}}return logger[_0x37c853(0x1aa)](_0x37c853(0x113)+_0x4ceff0['hook_type']+'\x20with\x20id\x20'+_0x413503+_0x37c853(0x122)+_0x14bc2e),_0x3a90df;}['createTestFrameworkEventPayload'](_0x5c0e6f){const _0x5ae707=a70_0x1cae99,_0x4e473a={};_0x4e473a[_0x5ae707(0x11f)]=_0x5ae707(0x1a2);const _0x13a2e6=_0x4e473a;try{const _0xddfe4c=_0x5c0e6f[_0x5ae707(0x161)]?_0x5c0e6f[_0x5ae707(0x161)]['id']:_0x5c0e6f[_0x5ae707(0x1b1)][_0x5ae707(0x186)],_0x5bc47b=_0x5c0e6f[_0x5ae707(0x193)],_0x24faf2=_0x5bc47b[_0x5ae707(0xff)](),_0x302e91=_0x5bc47b[_0x5ae707(0x126)]()['get'](_0xddfe4c);if(!_0x302e91)return logger[_0x5ae707(0x1aa)]('createTestFrameworkEventPayload:\x20No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20'+_0xddfe4c),{};logger[_0x5ae707(0x1aa)](_0x5ae707(0x19c)+_0xddfe4c);const {[TestFrameworkConstants[_0x5ae707(0x11e)]]:_0x34b950='',[TestFrameworkConstants[_0x5ae707(0xf2)]]:_0x6cbd0e='',[TestFrameworkConstants[_0x5ae707(0x150)]]:_0x1d608e='',[TestFrameworkConstants['KEY_TEST_ENDED_AT']]:_0x12e09f=''}=_0x302e91,_0x18e0ad=_0x5bc47b[_0x5ae707(0xf1)]()[_0x5ae707(0x15c)]()[_0x5ae707(0x156)]('.')[0x1],_0x4ca67e=_0x5bc47b[_0x5ae707(0xfd)]()[_0x5ae707(0x15c)]()['split']('.')[0x1],_0x533cce=global?.['__workerDetails']?.[_0x5ae707(0x1c4)]?.[_0x5ae707(0x13c)],_0x3990a3=_0x5bc47b[_0x5ae707(0x10c)](),_0x500e7a=Buffer[_0x5ae707(0x173)](JSON[_0x5ae707(0x15e)](_0x302e91))[_0x5ae707(0x15c)](_0x13a2e6[_0x5ae707(0x11f)]),_0x4f5f1f={'hash':_0x24faf2[_0x5ae707(0x1a4)](),'threadId':_0x24faf2[_0x5ae707(0x1b2)]()[_0x5ae707(0x15c)](),'processId':_0x24faf2[_0x5ae707(0x10d)]()[_0x5ae707(0x15c)]()},_0x32af30={};_0x32af30[_0x5ae707(0x146)]=_0x533cce,_0x32af30[_0x5ae707(0x18d)]=_0x34b950,_0x32af30[_0x5ae707(0x121)]=_0x6cbd0e,_0x32af30[_0x5ae707(0x198)]=_0x18e0ad,_0x32af30[_0x5ae707(0x1bd)]=_0x4ca67e,_0x32af30[_0x5ae707(0x116)]=_0x1d608e,_0x32af30[_0x5ae707(0x119)]=_0x12e09f,_0x32af30[_0x5ae707(0x1be)]=_0x3990a3,_0x32af30[_0x5ae707(0x17f)]=_0x500e7a,_0x32af30[_0x5ae707(0x17a)]=_0x4f5f1f;const _0x3f322f=_0x32af30;return logger[_0x5ae707(0x1aa)]('createTestFrameworkEventPayload:\x20complete\x20for\x20testId:\x20'+_0xddfe4c+_0x5ae707(0x179)+_0x18e0ad+_0x5ae707(0xec)+_0x4ca67e),_0x3f322f;}catch(_0x51c2f6){return logger[_0x5ae707(0x18c)](_0x5ae707(0x1b4)+util[_0x5ae707(0x14a)](_0x51c2f6)),{};}}async[a70_0x1cae99(0xfb)](_0x191caf,_0x5a9884,_0x3e71ae){const _0x15418e=a70_0x1cae99,_0x4e642d={'TbOnW':function(_0x18dc1c,_0x677df0,_0x4d973b){return _0x18dc1c(_0x677df0,_0x4d973b);},'GUwWV':function(_0x453d25,_0x520906){return _0x453d25===_0x520906;},'QsWmq':'sendLogCreatedEvent:\x20No\x20logs\x20found,\x20skipping','Urrkq':function(_0x2d031d,_0x125ce1){return _0x2d031d/_0x125ce1;},'ncdqK':function(_0x4d786c,_0x418f10){return _0x4d786c<_0x418f10;},'QqvKn':function(_0x43b70a,_0xa71911){return _0x43b70a*_0xa71911;},'XwwBI':function(_0x3c5e2f,_0xd4a883){return _0x3c5e2f+_0xd4a883;},'NvdpJ':function(_0x23208a,_0xe52eab){return _0x23208a+_0xe52eab;},'oMpgv':function(_0x65836e,_0x3de0ec){return _0x65836e+_0x3de0ec;},'zDMXN':_0x15418e(0x129)};try{const _0x54fe9b=_0x3e71ae[_0x15418e(0xf9)],_0x5d2603=_0x191caf[_0x15418e(0x126)]()[_0x15418e(0x142)](_0x54fe9b),{[TestFrameworkConstants[_0x15418e(0x11e)]]:_0x9e810c='',[TestFrameworkConstants[_0x15418e(0xf2)]]:_0x17a310=''}=_0x5d2603,_0x549033=TestInfo[_0x15418e(0x108)](_0x54fe9b),_0x2ba5fd=TestInfo['getTestDetails'](_0x54fe9b)[TestFrameworkConstants[_0x15418e(0x176)]]||{},_0x489e7d=_0x4e642d[_0x15418e(0x139)](getMediaArtifactsLogs,_0x2ba5fd,_0x191caf[_0x15418e(0x126)]()[_0x15418e(0x142)](_0x54fe9b)[TestFrameworkConstants[_0x15418e(0x12f)]]),_0x3b6005=(_0x549033||[])[_0x15418e(0x11b)](_0x489e7d||[]);if(!_0x3b6005||_0x4e642d['GUwWV'](_0x3b6005[_0x15418e(0x107)],0x0)){logger[_0x15418e(0x1aa)](_0x4e642d[_0x15418e(0x1c0)]);return;}const _0x2e9233=0x28,_0x27d429=Math[_0x15418e(0x164)](_0x4e642d[_0x15418e(0x127)](_0x3b6005[_0x15418e(0x107)],_0x2e9233));for(let _0x191092=0x0;_0x4e642d[_0x15418e(0x170)](_0x191092,_0x27d429);_0x191092++){const _0x158725=_0x4e642d[_0x15418e(0x105)](_0x191092,_0x2e9233),_0x32f9ba=_0x4e642d['XwwBI'](_0x158725,_0x2e9233),_0x54b0cf=_0x3b6005[_0x15418e(0x104)](_0x158725,_0x32f9ba),_0x3b5094={'platformIndex':'0','logs':_0x54b0cf,'testFrameworkName':_0x9e810c,'testFrameworkVersion':_0x17a310,'testFrameworkState':_0x5a9884[_0x15418e(0x15c)]()[_0x15418e(0x156)]('.')[0x1]};logger[_0x15418e(0x1aa)](_0x15418e(0x149)+_0x54fe9b+_0x15418e(0x1c5)+_0x4e642d[_0x15418e(0x196)](_0x191092,0x1)+'/'+_0x27d429+_0x15418e(0x169)+util[_0x15418e(0x12a)](_0x3b5094));const _0x3b8829=await GrpcClient[_0x15418e(0xfc)]()['logCreatedEvent'](_0x3b5094);logger[_0x15418e(0x1aa)](_0x15418e(0x149)+_0x54fe9b+_0x15418e(0x1c5)+_0x4e642d['oMpgv'](_0x191092,0x1)+'/'+_0x27d429+_0x15418e(0x10e)+util[_0x15418e(0x12a)](_0x3b8829));}}catch(_0x2d8cfd){logger[_0x15418e(0x18c)](_0x15418e(0x16f)+util[_0x15418e(0x14a)](_0x2d8cfd));}logger[_0x15418e(0x1aa)](_0x4e642d[_0x15418e(0x1c1)]);}['storePendingHook'](_0x22a6ee,_0x2e90b7,_0x5756be,_0x2bcbad,_0x488187){const _0x5d0c77=a70_0x1cae99,_0x23d30a={'testId':_0x2e90b7,'testFrameworkState':_0x5756be,'hookState':_0x2bcbad,'args':_0x488187,'timestamp':new Date()[_0x5d0c77(0xed)]()};_0x22a6ee[_0x5d0c77(0x1ad)](_0x2e90b7,_0x23d30a),logger[_0x5d0c77(0x1aa)]('Stored\x20pending\x20hook\x20for\x20testId:\x20'+_0x2e90b7+_0x5d0c77(0x134)+_0x5756be+_0x5d0c77(0x187)+_0x2bcbad);}async['processPendingHooks'](_0x47dce0,_0x438aa){const _0x1ed149=a70_0x1cae99,_0x37669b={};_0x37669b['ZbGkV']=function(_0x14ac49,_0x19a17a){return _0x14ac49>_0x19a17a;};const _0x51b86b=_0x37669b;if(!_0x47dce0[_0x1ed149(0x13b)](_0x438aa))return;const _0x4d853a=_0x47dce0[_0x1ed149(0x17b)](_0x438aa);logger[_0x1ed149(0x1aa)]('Processing\x20'+_0x4d853a[_0x1ed149(0x107)]+_0x1ed149(0x158)+_0x438aa);for(const _0x23689c of _0x4d853a){try{const _0x3ce418=await this[_0x1ed149(0x100)](_0x47dce0,_0x23689c['testFrameworkState'],_0x23689c['hookState'],_0x23689c[_0x1ed149(0x1af)]);_0x3ce418&&_0x51b86b[_0x1ed149(0x125)](Object[_0x1ed149(0x123)](_0x3ce418)[_0x1ed149(0x107)],0x0)&&_0x47dce0[_0x1ed149(0xf8)](_0x3ce418),await this[_0x1ed149(0xeb)](_0x47dce0,_0x23689c['testFrameworkState'],_0x23689c[_0x1ed149(0x1bd)],_0x23689c[_0x1ed149(0x1af)]);}catch(_0xb15c4b){logger[_0x1ed149(0x18c)](_0x1ed149(0x130)+_0x438aa+',\x20error:\x20'+_0xb15c4b);}}_0x47dce0[_0x1ed149(0x18a)](_0x438aa),logger[_0x1ed149(0x1aa)](_0x1ed149(0x197)+_0x438aa);}}module[a70_0x1cae99(0x171)]=CucumberTestFramework;