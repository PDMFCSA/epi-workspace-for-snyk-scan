const a70_0x42e6bd=a70_0x40a5;(function(_0x5e16cd,_0x486f93){const _0x48d9a5=a70_0x40a5,_0x2b401b=_0x5e16cd();while(!![]){try{const _0x1178bf=parseInt(_0x48d9a5(0x1b7))/0x1*(-parseInt(_0x48d9a5(0x1db))/0x2)+parseInt(_0x48d9a5(0x18f))/0x3+-parseInt(_0x48d9a5(0x17d))/0x4*(-parseInt(_0x48d9a5(0x145))/0x5)+-parseInt(_0x48d9a5(0x12f))/0x6+-parseInt(_0x48d9a5(0x132))/0x7+parseInt(_0x48d9a5(0x191))/0x8+-parseInt(_0x48d9a5(0x194))/0x9;if(_0x1178bf===_0x486f93)break;else _0x2b401b['push'](_0x2b401b['shift']());}catch(_0x3b4348){_0x2b401b['push'](_0x2b401b['shift']());}}}(a70_0x5561,0xcfb76));const TestFramework=require('./testFramework'),TestFrameworkState=require(a70_0x42e6bd(0x167)),HookState=require(a70_0x42e6bd(0x170)),{createClassLogger}=require(a70_0x42e6bd(0x1bc)),TestFrameworkInstance=require(a70_0x42e6bd(0x13a)),CLIUtils=require(a70_0x42e6bd(0x1d2)),TrackedInstance=require(a70_0x42e6bd(0x160)),TestFrameworkConstants=require('./constants/testFrameworkConstants.js'),{getManualUploadLogs,getMediaArtifactsLogs}=require('../../../helpers/helper.js'),logger=createClassLogger(a70_0x42e6bd(0x12b)),{v4:uuidv4}=require('uuid'),util=require('util'),TestInfo=require('../TestInfo.js'),GrpcClient=require(a70_0x42e6bd(0x155));function a70_0x40a5(_0x1cbf22,_0x2f16a4){const _0x55617d=a70_0x5561();return a70_0x40a5=function(_0x40a5c6,_0x3d3ea8){_0x40a5c6=_0x40a5c6-0x122;let _0x5b4527=_0x55617d[_0x40a5c6];return _0x5b4527;},a70_0x40a5(_0x1cbf22,_0x2f16a4);}class CucumberTestFramework extends TestFramework{constructor(_0x105cb8,_0x27dcf3,_0x2d65d8){super(_0x105cb8,_0x27dcf3,_0x2d65d8);}async[a70_0x42e6bd(0x133)](_0x4a2886,_0x5a0f1c,_0x128186={}){const _0x2aab4a=a70_0x42e6bd,_0x373346={};_0x373346['wlypL']='trackEvent:\x20Test\x20Framework\x20instance\x20not\x20found',_0x373346[_0x2aab4a(0x141)]=function(_0x2f70ac,_0x313af9){return _0x2f70ac===_0x313af9;},_0x373346[_0x2aab4a(0x152)]=function(_0x298d28,_0x26d175){return _0x298d28===_0x26d175;},_0x373346[_0x2aab4a(0x1b0)]='trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s';const _0x17850e=_0x373346;await super[_0x2aab4a(0x133)](_0x4a2886,_0x5a0f1c,_0x128186);const _0xd2a106=this[_0x2aab4a(0x175)](_0x4a2886,_0x5a0f1c,_0x128186);if(!_0xd2a106){logger[_0x2aab4a(0x17c)](_0x17850e[_0x2aab4a(0x19d)]);return;}try{let _0x323299,_0x1081bb;switch(_0x4a2886){case TestFrameworkState[_0x2aab4a(0x139)]:_0x323299=_0x128186[_0x2aab4a(0x149)],_0x1081bb=TestInfo[_0x2aab4a(0x1b8)](_0x323299['id']);if(_0x17850e[_0x2aab4a(0x141)](_0x5a0f1c,HookState[_0x2aab4a(0x14a)])){logger[_0x2aab4a(0x17c)](_0x2aab4a(0x1b1)+_0x323299['id']);const _0x469c78={};_0x469c78[_0x2aab4a(0x13d)]=_0x1081bb,_0x469c78[_0x2aab4a(0x164)]=_0x323299,_0xd2a106[_0x2aab4a(0x1b3)](this[_0x2aab4a(0x1c1)](_0x469c78)),logger['debug'](_0x2aab4a(0x177)+_0x323299['id']),await this[_0x2aab4a(0x1be)](_0xd2a106,_0x323299['id']);}else{if(_0x17850e[_0x2aab4a(0x141)](_0x5a0f1c,HookState['POST'])){const _0x4bc594={};_0x4bc594['testUUID']=_0x1081bb,_0x4bc594['testData']=_0x323299,_0xd2a106[_0x2aab4a(0x1b3)](this['parseCucumberTestResult'](_0x4bc594)),await this[_0x2aab4a(0x1be)](_0xd2a106,_0x323299['id']);}}break;case TestFrameworkState['LOG_REPORT']:_0x17850e[_0x2aab4a(0x152)](_0x5a0f1c,HookState[_0x2aab4a(0x180)])&&await this[_0x2aab4a(0x1c5)](_0xd2a106,_0x4a2886,_0x128186);break;default:if(CLIUtils[_0x2aab4a(0x1df)](_0x4a2886[_0x2aab4a(0x1de)]()[_0x2aab4a(0x1e5)]('.')[0x1])){const _0x3249a3=await this[_0x2aab4a(0x12a)](_0xd2a106,_0x4a2886,_0x5a0f1c,_0x128186);_0xd2a106['addMultipleEntries'](_0x3249a3);}else logger[_0x2aab4a(0x17c)](_0x2aab4a(0x198)+_0x4a2886+'\x20&\x20hookState='+_0x5a0f1c);break;}}catch(_0x78a529){logger[_0x2aab4a(0x1d6)](util[_0x2aab4a(0x168)](_0x17850e[_0x2aab4a(0x1b0)],_0x4a2886,_0x5a0f1c,_0x128186[_0x2aab4a(0x165)],_0x78a529));}_0x128186[_0x2aab4a(0x124)]=_0xd2a106,await this[_0x2aab4a(0x19b)](_0xd2a106,_0x4a2886,_0x5a0f1c,_0x128186);}['resolveInstance'](_0xbcaeee,_0x274129,_0x498664={}){const _0x348ab1=a70_0x42e6bd,_0x306601={};_0x306601[_0x348ab1(0x151)]=function(_0x442622,_0x559680){return _0x442622===_0x559680;},_0x306601[_0x348ab1(0x1c6)]=function(_0x8d25a5,_0x4e550f){return _0x8d25a5===_0x4e550f;};const _0x328928=_0x306601;let _0x4625ac=null;return(_0x328928[_0x348ab1(0x151)](_0xbcaeee,TestFrameworkState[_0x348ab1(0x1a0)])||_0x328928[_0x348ab1(0x1c6)](_0xbcaeee,TestFrameworkState[_0x348ab1(0x1cb)]))&&this['trackCucumberInstance'](_0xbcaeee,_0x498664),_0x4625ac=TestFramework['getTrackedInstance'](),_0x4625ac;}[a70_0x42e6bd(0x183)](_0x104b16,_0x491b08){const _0x17d567=a70_0x42e6bd,_0x16a7c9=CLIUtils['getCurrentInstanceName'](),_0x1b191a=TrackedInstance[_0x17d567(0x172)](_0x16a7c9);let _0x1c5309=null;logger[_0x17d567(0x17c)](_0x17d567(0x181)+_0x16a7c9+',\x20state='+_0x104b16),_0x1c5309=new TestFrameworkInstance(_0x1b191a,this[_0x17d567(0x1ae)](),this[_0x17d567(0x1b5)](),_0x104b16,HookState['NONE']),TestFramework['setTrackedInstance'](_0x1b191a,_0x1c5309),logger[_0x17d567(0x17c)]('trackCucumberInstance:\x20saved\x20instance\x20contextId='+_0x1b191a[_0x17d567(0x1a9)]()+_0x17d567(0x182)+_0x16a7c9);}[a70_0x42e6bd(0x1c1)](_0x1a0c84){const _0x6e2443=a70_0x42e6bd,_0x2cccfd={};_0x2cccfd[_0x6e2443(0x1a4)]=_0x6e2443(0x1d5);const _0x536c2c=_0x2cccfd,{testUUID:_0x1a3c37,testData:_0x4c6d33}=_0x1a0c84;if(!_0x4c6d33||!_0x4c6d33[_0x6e2443(0x1bb)])return logger['debug'](_0x536c2c[_0x6e2443(0x1a4)]),{};const _0x27c918=_0x1a3c37,_0x2254ff=_0x4c6d33[_0x6e2443(0x1bb)],_0x558ba8=this[_0x6e2443(0x1ae)]()[0x0],_0x40116c=this[_0x6e2443(0x1b5)](),_0x159d15={[TestFrameworkConstants[_0x6e2443(0x15c)]]:_0x558ba8,[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x40116c[_0x558ba8],[TestFrameworkConstants[_0x6e2443(0x1c9)]]:[],[TestFrameworkConstants[_0x6e2443(0x1ca)]]:{},[TestFrameworkConstants[_0x6e2443(0x185)]]:{},[TestFrameworkConstants[_0x6e2443(0x1a3)]]:_0x27c918,[TestFrameworkConstants['KEY_TEST_RESULT']]:TestFrameworkConstants[_0x6e2443(0x163)],[TestFrameworkConstants['KEY_AUTOMATE_SESSION_NAME']]:_0x4c6d33[_0x6e2443(0x1e6)]||'',[TestFrameworkConstants[_0x6e2443(0x1e3)]]:_0x4c6d33[_0x6e2443(0x125)]||'',[TestFrameworkConstants[_0x6e2443(0x199)]]:_0x2254ff,[TestFrameworkConstants[_0x6e2443(0x13e)]]:_0x4c6d33['name']||'',[TestFrameworkConstants[_0x6e2443(0x179)]]:_0x4c6d33[_0x6e2443(0x1a5)]||'',[TestFrameworkConstants[_0x6e2443(0x138)]]:_0x4c6d33['body']?.[_0x6e2443(0x1a6)]||null,[TestFrameworkConstants[_0x6e2443(0x1bf)]]:_0x4c6d33['tags']||[],[TestFrameworkConstants[_0x6e2443(0x12c)]]:_0x4c6d33[_0x6e2443(0x1e2)]||new Date()['toISOString'](),[TestFrameworkConstants[_0x6e2443(0x1c2)]]:_0x4c6d33['scopes']?.[0x0]||'',[TestFrameworkConstants[_0x6e2443(0x1cd)]]:_0x4c6d33['scopes']||[],[TestFrameworkConstants[_0x6e2443(0x173)]]:_0x4c6d33[_0x6e2443(0x15b)]?.[_0x6e2443(0x1da)]||_0x4c6d33[_0x6e2443(0x1e6)]||'',[TestFrameworkConstants[_0x6e2443(0x1e0)]]:{},[TestFrameworkConstants[_0x6e2443(0x15d)]]:_0x4c6d33['meta']||{}};TestInfo[_0x6e2443(0x17e)](_0x2254ff,_0x159d15),logger['debug'](_0x6e2443(0x169)+_0x4c6d33[_0x6e2443(0x1e6)]+_0x6e2443(0x184)+_0x27c918);const _0x7fce6a={};return _0x7fce6a[_0x2254ff]=_0x159d15,_0x7fce6a;}[a70_0x42e6bd(0x127)](_0x5a926c){const _0x4eace7=a70_0x42e6bd,_0x171e14={'KEotO':_0x4eace7(0x188),'aVJoX':'unknown','DrQNN':function(_0x5b6a2b,_0x5c5af9){return _0x5b6a2b===_0x5c5af9;},'MpbIh':_0x4eace7(0x15e),'bjhvg':_0x4eace7(0x12d),'VvTUl':function(_0x5b0824,_0x431d42,_0x5e1d9a){return _0x5b0824(_0x431d42,_0x5e1d9a);},'UmdVi':function(_0x253ce5,_0x37632d){return _0x253ce5>_0x37632d;},'qMpFW':function(_0x468578,_0xf76eb0){return _0x468578>_0xf76eb0;}},{testUUID:_0x2e633a,testData:_0xbe2924}=_0x5a926c;if(!_0xbe2924||!_0xbe2924['uuid'])return logger[_0x4eace7(0x17c)](_0x171e14[_0x4eace7(0x126)]),{};const _0x23fe97=this['resolveInstance'](TestFrameworkState[_0x4eace7(0x139)],HookState[_0x4eace7(0x180)]),_0xa92ebf=_0xbe2924['uuid'],_0x3ccc7e=TestInfo[_0x4eace7(0x186)](_0xa92ebf)||{},_0x79de5b=_0x3ccc7e?_0x3ccc7e[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{}:{},_0x10255e={..._0x3ccc7e,[TestFrameworkConstants[_0x4eace7(0x19a)]]:_0xbe2924[_0x4eace7(0x154)]||_0x171e14['aVJoX'],[TestFrameworkConstants['KEY_TEST_ENDED_AT']]:_0xbe2924['finishedAt']||new Date()[_0x4eace7(0x140)](),[TestFrameworkConstants[_0x4eace7(0x150)]]:new Date()[_0x4eace7(0x140)](),[TestFrameworkConstants[_0x4eace7(0x1e0)]]:_0x79de5b,[TestFrameworkConstants[_0x4eace7(0x148)]]:[],[TestFrameworkConstants[_0x4eace7(0x15d)]]:_0xbe2924[_0x4eace7(0x17b)]||{}};_0x171e14[_0x4eace7(0x193)](_0xbe2924[_0x4eace7(0x154)],_0x171e14[_0x4eace7(0x134)])&&_0xbe2924[_0x4eace7(0x187)]&&(_0x10255e[TestFrameworkConstants[_0x4eace7(0x1c7)]]=_0xbe2924[_0x4eace7(0x128)]||_0x171e14['bjhvg'],_0x10255e[TestFrameworkConstants[_0x4eace7(0x13b)]]=_0xbe2924[_0x4eace7(0x158)]||'',_0x10255e[TestFrameworkConstants[_0x4eace7(0x137)]]=_0xbe2924['failure']);const _0x5d6357=TestInfo['getTestDetails'](_0xa92ebf)[TestFrameworkConstants[_0x4eace7(0x16c)]]||{},_0x27901b=_0x171e14[_0x4eace7(0x1dd)](getManualUploadLogs,_0x5d6357,_0x23fe97['getAllData']()[_0x4eace7(0x144)](_0xa92ebf)[TestFrameworkConstants[_0x4eace7(0x1a3)]]);if(_0x171e14[_0x4eace7(0x14c)](_0x27901b[_0x4eace7(0x165)],0x0)){const _0x1fe3ee=_0x10255e[TestFrameworkConstants[_0x4eace7(0x148)]]||[];_0x10255e[TestFrameworkConstants['KEY_LOGS']]=[..._0x1fe3ee,..._0x27901b];}_0xbe2924[_0x4eace7(0x1e4)]&&_0x171e14[_0x4eace7(0x147)](_0xbe2924[_0x4eace7(0x1e4)][_0x4eace7(0x165)],0x0)&&(_0x10255e[TestFrameworkConstants[_0x4eace7(0x1ca)]]=_0xbe2924[_0x4eace7(0x1e4)]);TestInfo[_0x4eace7(0x17e)](_0xa92ebf,_0x10255e),logger[_0x4eace7(0x17c)](_0x4eace7(0x1bd)+_0xbe2924['name']+_0x4eace7(0x1aa)+_0xbe2924[_0x4eace7(0x154)]);const _0x52fa1b={};return _0x52fa1b[_0xa92ebf]=_0x10255e,_0x52fa1b;}async[a70_0x42e6bd(0x12a)](_0x203843,_0x960bc1,_0x24a8d1,_0xa58ac){const _0x48465e=a70_0x42e6bd,_0x165752={'Nrhnd':'No\x20hook\x20data\x20provided\x20for\x20cucumber\x20hook\x20event','WAILc':function(_0x21537a){return _0x21537a();},'qaUHP':function(_0x33ebb6,_0x1acaa6){return _0x33ebb6 in _0x1acaa6;},'DtGxD':function(_0x2ea206,_0x43d23d){return _0x2ea206===_0x43d23d;},'KPZoF':function(_0x35ebf6,_0xaf0e5b){return _0x35ebf6===_0xaf0e5b;},'bZbCC':function(_0x18450a,_0x2a6792){return _0x18450a>_0x2a6792;},'xVkUc':function(_0x3c34f2,_0x6ae78e){return _0x3c34f2===_0x6ae78e;},'yNPkT':_0x48465e(0x15e),'NFKPm':_0x48465e(0x12d),'OQXug':'passed','aCtoQ':function(_0x5197ca,_0x11ca79){return _0x5197ca!==_0x11ca79;}},{hookData:_0xc05fe5}=_0xa58ac;if(!_0xc05fe5)return logger[_0x48465e(0x17c)](_0x165752['Nrhnd']),{};const _0x438dc0=_0xc05fe5[_0x48465e(0x1bb)]||_0x165752[_0x48465e(0x1b9)](uuidv4),_0xb0bb44=_0xc05fe5['test_run_id'],_0x5a135f=_0x960bc1[_0x48465e(0x1de)]()[_0x48465e(0x1e5)]('.')[0x1],_0x53578a=TestInfo['getTestDetails'](_0xb0bb44)[TestFrameworkConstants[_0x48465e(0x1e0)]]||{},_0x140171=_0x203843[_0x48465e(0x16b)]()['get'](_0xb0bb44);if(!_0x140171)return logger['debug'](_0x48465e(0x159)+_0xb0bb44+_0x48465e(0x1d7)),this['storePendingHook'](_0x203843,_0xb0bb44,_0x960bc1,_0x24a8d1,_0xa58ac),{};let _0x4c0745=_0x140171[TestFrameworkConstants[_0x48465e(0x185)]];!_0x4c0745&&(_0x4c0745={});!_0x165752['qaUHP'](_0x5a135f,_0x4c0745)&&(_0x4c0745[_0x5a135f]=[]);let _0x19be3d=_0x140171[TestFrameworkConstants[_0x48465e(0x1ca)]];!_0x19be3d&&(_0x19be3d={});!_0x165752[_0x48465e(0x135)](_0x5a135f,_0x19be3d)&&(_0x19be3d[_0x5a135f]=[]);const _0x3ebb93={[TestFrameworkConstants['KEY_HOOKS_STARTED']]:_0x4c0745,[TestFrameworkConstants[_0x48465e(0x1ca)]]:_0x19be3d},_0xa9c0f0={};_0xa9c0f0[_0xb0bb44]=_0x3ebb93;const _0x5de98f=_0xa9c0f0;if(_0x165752['DtGxD'](_0x24a8d1,HookState[_0x48465e(0x14a)])){const _0x3f50d6={[TestFrameworkConstants[_0x48465e(0x195)]]:_0x438dc0,[TestFrameworkConstants[_0x48465e(0x1d0)]]:TestFrameworkConstants[_0x48465e(0x1e7)],[TestFrameworkConstants[_0x48465e(0x19e)]]:_0xc05fe5['started_at'],[TestFrameworkConstants[_0x48465e(0x143)]]:[],[TestFrameworkConstants[_0x48465e(0x190)]]:_0xc05fe5[_0x48465e(0x18c)],[TestFrameworkConstants['KEY_CUSTOM_TAGS']]:_0x53578a};_0x3f50d6[_0x48465e(0x129)]=_0x5a135f;const _0x337057=_0x3f50d6;_0x4c0745[_0x5a135f][_0x48465e(0x16e)](_0x337057),_0x5de98f[_0xb0bb44][TestFrameworkConstants[_0x48465e(0x176)]]=_0x5a135f,logger[_0x48465e(0x17c)](_0x48465e(0x146)+_0x5a135f+_0x48465e(0x153)+_0x337057+'\x20\x20and\x20args\x20=\x20'+_0xa58ac);}else{if(_0x165752[_0x48465e(0x1ba)](_0x24a8d1,HookState[_0x48465e(0x180)])){const _0x509f62=_0xc05fe5[_0x48465e(0x154)],_0x4b3dd3=_0x4c0745[_0x5a135f]||[];logger[_0x48465e(0x17c)](_0x48465e(0x1d3)+_0x4b3dd3+_0x48465e(0x1a8)+_0xa58ac);if(_0x165752[_0x48465e(0x197)](_0x4b3dd3[_0x48465e(0x165)],0x0)){const _0x4ba371=_0x4b3dd3['pop']();_0x165752[_0x48465e(0x123)](_0xc05fe5['result'],_0x165752[_0x48465e(0x1a7)])&&_0xc05fe5[_0x48465e(0x1cf)]?(_0x4ba371[TestFrameworkConstants[_0x48465e(0x17a)]]=_0xc05fe5['failure_type']||_0x165752[_0x48465e(0x14b)],_0x4ba371[TestFrameworkConstants[_0x48465e(0x1ac)]]=_0xc05fe5[_0x48465e(0x158)]||'',_0x4ba371[TestFrameworkConstants['KEY_HOOK_FAILURE']]=_0xc05fe5[_0x48465e(0x1cf)]):_0x4ba371[TestFrameworkConstants[_0x48465e(0x1d0)]]=_0x165752[_0x48465e(0x1d9)];_0x165752['aCtoQ'](_0x509f62,TestFrameworkConstants[_0x48465e(0x1e7)])&&(_0x4ba371[TestFrameworkConstants[_0x48465e(0x1d0)]]=_0x509f62);_0x4ba371[TestFrameworkConstants[_0x48465e(0x13f)]]=_0xc05fe5[_0x48465e(0x18e)]||new Date()[_0x48465e(0x140)](),_0x4ba371[TestFrameworkConstants['KEY_CUSTOM_TAGS']]=_0x53578a;const _0x12e3d6=_0x4ba371[TestFrameworkConstants['KEY_HOOK_ID']];!_0x19be3d[_0x5a135f]&&(_0x19be3d[_0x5a135f]=[]),_0x19be3d[_0x5a135f][_0x48465e(0x16e)](_0x4ba371),_0x5de98f[_0xb0bb44][TestFrameworkConstants[_0x48465e(0x13c)]]=_0x5a135f;}}}return logger['debug']('Tracked\x20cucumber\x20hook\x20event:\x20'+_0xc05fe5[_0x48465e(0x18c)]+'\x20with\x20id\x20'+_0x438dc0+'\x20for\x20test:\x20'+_0xb0bb44),_0x5de98f;}[a70_0x42e6bd(0x178)](_0x3b5e73){const _0x70c097=a70_0x42e6bd,_0x32dee4={};_0x32dee4[_0x70c097(0x14d)]=_0x70c097(0x174);const _0x229acb=_0x32dee4;try{const _0x2eec88=_0x3b5e73[_0x70c097(0x149)]?_0x3b5e73[_0x70c097(0x149)]['id']:_0x3b5e73['hookData'][_0x70c097(0x1d4)],_0x5a3af4=_0x3b5e73[_0x70c097(0x124)],_0x2b9721=_0x5a3af4['getContext'](),_0xf73795=_0x5a3af4[_0x70c097(0x16b)]()[_0x70c097(0x144)](_0x2eec88);if(!_0xf73795)return logger[_0x70c097(0x17c)](_0x70c097(0x1e8)+_0x2eec88),{};logger['debug'](_0x70c097(0x1ce)+_0x2eec88);const {[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x31670c='',[TestFrameworkConstants[_0x70c097(0x1cc)]]:_0x2e354b='',[TestFrameworkConstants[_0x70c097(0x12c)]]:_0x5d308d='',[TestFrameworkConstants['KEY_TEST_ENDED_AT']]:_0x3de3b8=''}=_0xf73795,_0x3c4e23=_0x5a3af4['getCurrentTestState']()[_0x70c097(0x1de)]()[_0x70c097(0x1e5)]('.')[0x1],_0x396a5d=_0x5a3af4[_0x70c097(0x1c0)]()[_0x70c097(0x1de)]()[_0x70c097(0x1e5)]('.')[0x1],_0x42634b=global?.['__workerDetails']?.[_0x70c097(0x16f)]?.[_0x70c097(0x130)],_0xc1ad65=_0x5a3af4[_0x70c097(0x161)](),_0x19803b=Buffer['from'](JSON[_0x70c097(0x18a)](_0xf73795))[_0x70c097(0x1de)](_0x229acb[_0x70c097(0x14d)]),_0x2496ff={'hash':_0x2b9721['getId'](),'threadId':_0x2b9721[_0x70c097(0x1ab)]()[_0x70c097(0x1de)](),'processId':_0x2b9721[_0x70c097(0x1d1)]()[_0x70c097(0x1de)]()},_0xb0bd40={};_0xb0bd40[_0x70c097(0x1af)]=_0x42634b,_0xb0bd40['testFrameworkName']=_0x31670c,_0xb0bd40[_0x70c097(0x192)]=_0x2e354b,_0xb0bd40[_0x70c097(0x16a)]=_0x3c4e23,_0xb0bd40[_0x70c097(0x1a1)]=_0x396a5d,_0xb0bd40[_0x70c097(0x1e2)]=_0x5d308d,_0xb0bd40[_0x70c097(0x166)]=_0x3de3b8,_0xb0bd40['uuid']=_0xc1ad65,_0xb0bd40['eventJson']=_0x19803b,_0xb0bd40['executionContext']=_0x2496ff;const _0x662803=_0xb0bd40;return logger[_0x70c097(0x17c)](_0x70c097(0x16d)+_0x2eec88+_0x70c097(0x1c3)+_0x3c4e23+_0x70c097(0x1b2)+_0x396a5d),_0x662803;}catch(_0x16fe6c){return logger[_0x70c097(0x1d6)]('Error\x20in\x20createTestFrameworkEventPayload:\x20'+util['format'](_0x16fe6c)),{};}}async[a70_0x42e6bd(0x1c5)](_0x589a50,_0x2ec567,_0x121ec7){const _0x3d3bce=a70_0x42e6bd,_0x39da9a={'jdtgS':function(_0x47c462,_0x188f87,_0x4c866f){return _0x47c462(_0x188f87,_0x4c866f);},'aBeHV':function(_0x235d61,_0x40d794){return _0x235d61===_0x40d794;},'LkbNB':'sendLogCreatedEvent:\x20No\x20logs\x20found,\x20skipping','asWJp':function(_0x9a94f4,_0x2f58af){return _0x9a94f4/_0x2f58af;},'BTBxg':function(_0x27106f,_0x377289){return _0x27106f<_0x377289;},'KMqft':function(_0x36a354,_0x35b63d){return _0x36a354*_0x35b63d;},'QMhwb':function(_0x47e355,_0x32bc16){return _0x47e355+_0x32bc16;},'nRYnp':function(_0x25f785,_0x4b3378){return _0x25f785+_0x4b3378;},'nCjDt':'Cucumber\x20log\x20created\x20event'};try{const _0x3a054e=_0x121ec7[_0x3d3bce(0x13d)],_0x4cbd68=_0x589a50[_0x3d3bce(0x16b)]()[_0x3d3bce(0x144)](_0x3a054e),{[TestFrameworkConstants[_0x3d3bce(0x15c)]]:_0x244c9e='',[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x4242dc=''}=_0x4cbd68,_0x34a94e=TestInfo[_0x3d3bce(0x136)](_0x3a054e),_0x5c878b=TestInfo['getTestDetails'](_0x3a054e)[TestFrameworkConstants[_0x3d3bce(0x16c)]]||{},_0xd0a87f=_0x39da9a[_0x3d3bce(0x122)](getMediaArtifactsLogs,_0x5c878b,_0x589a50[_0x3d3bce(0x16b)]()[_0x3d3bce(0x144)](_0x3a054e)[TestFrameworkConstants[_0x3d3bce(0x1a3)]]),_0x456453=(_0x34a94e||[])[_0x3d3bce(0x196)](_0xd0a87f||[]);if(!_0x456453||_0x39da9a[_0x3d3bce(0x1c4)](_0x456453[_0x3d3bce(0x165)],0x0)){logger[_0x3d3bce(0x17c)](_0x39da9a['LkbNB']);return;}const _0x3b88d7=0x28,_0x5abb67=Math[_0x3d3bce(0x19f)](_0x39da9a[_0x3d3bce(0x14e)](_0x456453[_0x3d3bce(0x165)],_0x3b88d7));for(let _0x38bee1=0x0;_0x39da9a[_0x3d3bce(0x131)](_0x38bee1,_0x5abb67);_0x38bee1++){const _0x3e2474=_0x39da9a[_0x3d3bce(0x1a2)](_0x38bee1,_0x3b88d7),_0x21ac4a=_0x39da9a[_0x3d3bce(0x15f)](_0x3e2474,_0x3b88d7),_0xb48ac1=_0x456453[_0x3d3bce(0x19c)](_0x3e2474,_0x21ac4a),_0xdb7863={'platformIndex':'0','logs':_0xb48ac1,'testFrameworkName':_0x244c9e,'testFrameworkVersion':_0x4242dc,'testFrameworkState':_0x2ec567[_0x3d3bce(0x1de)]()['split']('.')[0x1]};logger[_0x3d3bce(0x17c)](_0x3d3bce(0x14f)+_0x3a054e+'\x20batch\x20'+_0x39da9a[_0x3d3bce(0x18b)](_0x38bee1,0x1)+'/'+_0x5abb67+'\x20payload='+util[_0x3d3bce(0x171)](_0xdb7863));const _0x13e0b3=await GrpcClient[_0x3d3bce(0x1ad)]()[_0x3d3bce(0x1e9)](_0xdb7863);logger[_0x3d3bce(0x17c)](_0x3d3bce(0x14f)+_0x3a054e+'\x20batch\x20'+_0x39da9a[_0x3d3bce(0x15f)](_0x38bee1,0x1)+'/'+_0x5abb67+_0x3d3bce(0x1b6)+util['inspect'](_0x13e0b3));}}catch(_0x4610ea){logger[_0x3d3bce(0x1d6)](_0x3d3bce(0x1d8)+util[_0x3d3bce(0x168)](_0x4610ea));}logger[_0x3d3bce(0x17c)](_0x39da9a[_0x3d3bce(0x1b4)]);}['storePendingHook'](_0xfa8da,_0x3210af,_0x4a12dd,_0x583a6e,_0x3a6b00){const _0x2d5e6a=a70_0x42e6bd,_0x2794a4={'testId':_0x3210af,'testFrameworkState':_0x4a12dd,'hookState':_0x583a6e,'args':_0x3a6b00,'timestamp':new Date()['toISOString']()};_0xfa8da['addPendingHook'](_0x3210af,_0x2794a4),logger[_0x2d5e6a(0x17c)](_0x2d5e6a(0x142)+_0x3210af+_0x2d5e6a(0x157)+_0x4a12dd+',\x20hookState:\x20'+_0x583a6e);}async[a70_0x42e6bd(0x1be)](_0x510c6a,_0xa8818){const _0x49bac0=a70_0x42e6bd,_0x1ae299={};_0x1ae299[_0x49bac0(0x1c8)]=function(_0x17a243,_0x4bd651){return _0x17a243>_0x4bd651;};const _0x51fbb4=_0x1ae299;if(!_0x510c6a[_0x49bac0(0x12e)](_0xa8818))return;const _0x1bc1ea=_0x510c6a['getPendingHooks'](_0xa8818);logger['debug'](_0x49bac0(0x156)+_0x1bc1ea[_0x49bac0(0x165)]+_0x49bac0(0x17f)+_0xa8818);for(const _0x355743 of _0x1bc1ea){try{const _0x4ad6ef=await this[_0x49bac0(0x12a)](_0x510c6a,_0x355743[_0x49bac0(0x16a)],_0x355743[_0x49bac0(0x1a1)],_0x355743[_0x49bac0(0x1e1)]);_0x4ad6ef&&_0x51fbb4[_0x49bac0(0x1c8)](Object[_0x49bac0(0x162)](_0x4ad6ef)[_0x49bac0(0x165)],0x0)&&_0x510c6a[_0x49bac0(0x1b3)](_0x4ad6ef),await this[_0x49bac0(0x19b)](_0x510c6a,_0x355743[_0x49bac0(0x16a)],_0x355743[_0x49bac0(0x1a1)],_0x355743[_0x49bac0(0x1e1)]);}catch(_0x564e06){logger[_0x49bac0(0x1d6)](_0x49bac0(0x189)+_0xa8818+',\x20error:\x20'+_0x564e06);}}_0x510c6a[_0x49bac0(0x1dc)](_0xa8818),logger[_0x49bac0(0x17c)](_0x49bac0(0x18d)+_0xa8818);}}function a70_0x5561(){const _0x3df474=['parseCucumberTestResult','failure_type','key','trackHookEvent','CucumberTestFramework','KEY_TEST_STARTED_AT','UnhandledError','hasPendingHooks','4141206xNehPq','parallelIndex','BTBxg','3496052WyIEtD','trackEvent','MpbIh','qaUHP','readLogObjects','KEY_TEST_FAILURE','KEY_TEST_CODE','TEST','../instances/testFrameworkInstance.js','KEY_TEST_FAILURE_REASON','KEY_HOOK_LAST_FINISHED','testUUID','KEY_TEST_NAME','KEY_EVENT_ENDED_AT','toISOString','aUexn','Stored\x20pending\x20hook\x20for\x20testId:\x20','KEY_HOOK_LOGS','get','18905GjpaIV','trackHookEvent:\x20Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','qMpFW','KEY_LOGS','test','PRE','NFKPm','UmdVi','NozUn','asWJp','sendLogCreatedEvent:\x20for\x20testId:\x20','KEY_TEST_RESULT_AT','edopY','FwJeI','\x20&\x20hook\x20=\x20','result','../grpcClient','Processing\x20',',\x20state:\x20','failure_reason','No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','exports','customRerunParam','KEY_TEST_FRAMEWORK_NAME','KEY_TEST_META','failed','QMhwb','../instances/trackedInstance.js','getRef','keys','DEFAULT_TEST_RESULT','testData','length','endedAt','../state/testFrameworkState.js','format','Parsed\x20cucumber\x20test:\x20','testFrameworkState','getAllData','KEY_TEST_ATTACHMENTS','createTestFrameworkEventPayload:\x20complete\x20for\x20testId:\x20','push','workerInfo','../state/hookState.js','inspect','createContext','KEY_TEST_RERUN_NAME','base64','resolveInstance','KEY_HOOK_LAST_STARTED','trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20','createTestFrameworkEventPayload','KEY_TEST_LOCATION','KEY_HOOK_FAILURE_TYPE','meta','debug','1768WoAwbi','setTestDetails','\x20pending\x20hooks\x20for\x20testId:\x20','POST','trackCucumberInstance:\x20created\x20instance\x20for\x20target=','\x20target=','trackCucumberInstance','\x20with\x20UUID:\x20','KEY_HOOKS_STARTED','getTestDetails','failure','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test\x20result','Error\x20processing\x20pending\x20hook\x20for\x20testId:\x20','stringify','nRYnp','hook_type','Cleared\x20processed\x20pending\x20hooks\x20for\x20testId:\x20','finished_at','2319852nnZqos','KEY_HOOK_NAME','11903728XWMYAW','testFrameworkVersion','DrQNN','14170104DobWxy','KEY_HOOK_ID','concat','bZbCC','trackEvent:\x20unsupported\x20testFrameworkState=','KEY_TEST_ID','KEY_TEST_RESULT','runHooks','slice','wlypL','KEY_EVENT_STARTED_AT','ceil','INIT_TEST','hookState','KMqft','KEY_TEST_UUID','bCAqz','location','code','yNPkT','\x20and\x20args\x20=\x20','getId','\x20with\x20result:\x20','getThreadId','KEY_HOOK_FAILURE_REASON','getInstance','getTestFrameworks','platformIndex','Wgdec','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','\x20hookState:\x20','addMultipleEntries','nCjDt','getTestFrameworksVersions','\x20response=','105851FPykqP','getTestUUID','WAILc','KPZoF','uuid','../../../helpers/classLogger.js','Updated\x20cucumber\x20test\x20result:\x20','processPendingHooks','KEY_TEST_TAGS','getCurrentHookState','parseCucumberTest','KEY_TEST_SCOPE','\x20testState:\x20','aBeHV','sendLogCreatedEvent','ZMiOu','KEY_TEST_FAILURE_TYPE','pwPpI','KEY_TEST_LOGS','KEY_HOOKS_FINISHED','NONE','KEY_TEST_FRAMEWORK_VERSION','KEY_TEST_SCOPES','createTestFrameworkEventPayload\x20testId:\x20','failure_data','KEY_HOOK_RESULT','getProcessId','../cliUtils.js','trackHookEvent:\x20Hook\x20List\x20in\x20Post\x20','test_run_id','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test','error',',\x20storing\x20as\x20pending\x20hook','sendLogCreatedEvent:\x20Error\x20in\x20sending\x20log\x20events:\x20','OQXug','rerun_name','6LQvKbI','removePendingHooks','VvTUl','toString','matchHookRegex','KEY_CUSTOM_TAGS','args','startedAt','KEY_TEST_FILE_PATH','hooks','split','name','DEFAULT_HOOK_RESULT','createTestFrameworkEventPayload:\x20No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','logCreatedEvent','jdtgS','xVkUc','instance','file_name','KEotO'];a70_0x5561=function(){return _0x3df474;};return a70_0x5561();}module[a70_0x42e6bd(0x15a)]=CucumberTestFramework;