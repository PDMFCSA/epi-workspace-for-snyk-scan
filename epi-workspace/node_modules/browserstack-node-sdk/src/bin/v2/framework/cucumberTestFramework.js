const a70_0x4e9681=a70_0x4115;function a70_0x2733(){const _0x270f66=['../../../helpers/helper.js','KEY_TEST_LOGS','length','ocWVs','base64','KEY_HOOK_FAILURE','hookData','../state/hookState.js','KEY_HOOKS_FINISHED','10DVnbba','unknown','rXMRQ','No\x20hook\x20data\x20provided\x20for\x20cucumber\x20hook\x20event','code','addPendingHook','./constants/testFrameworkConstants.js','hooks','KEY_HOOK_ID','\x20with\x20id\x20','Error\x20in\x20createTestFrameworkEventPayload:\x20','TEST','KNyxZ','get','1990obOzGa','KEY_TEST_ATTACHMENTS','DEFAULT_TEST_RESULT','getRef','8CMKxnz','testFrameworkVersion','YSqQj','Stored\x20pending\x20hook\x20for\x20testId:\x20','aYaZo','test','failure_reason','KEY_TEST_NAME','location','Sffnj','Error\x20processing\x20pending\x20hook\x20for\x20testId:\x20','hookState','KEY_TEST_FAILURE_TYPE','__workerDetails','hasPendingHooks','toString','./testFramework','POST','\x20testState:\x20','getPendingHooks','INIT_TEST','KEY_TEST_STARTED_AT','\x20&\x20hookState=','4ZToblS','addMultipleEntries','sendLogCreatedEvent:\x20No\x20logs\x20found,\x20skipping','SGYeh','NONE','KEY_CUSTOM_TAGS','debug','push','1078092nwrhMY','endedAt','KEY_EVENT_ENDED_AT','storePendingHook','testUUID','KEY_TEST_RESULT','\x20&\x20hook\x20=\x20','result','matchHookRegex','instance','finishedAt','trackEvent:\x20unsupported\x20testFrameworkState=','trackEvent','resolveInstance','UnhandledError','eiGmt','toISOString','../instances/testFrameworkInstance.js','parseCucumberTest','KEY_TEST_UUID','../../../helpers/classLogger.js','startedAt','KEY_TEST_CODE','FnWUE','keys','createTestFrameworkEventPayload\x20testId:\x20','PPPVM','args','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','trackEvent:\x20Test\x20Framework\x20instance\x20not\x20found','getTestFrameworks','started_at','KEY_HOOKS_STARTED','pWSIu','KEY_TEST_META','getTestDetails','testData','ZxTHb','DEFAULT_HOOK_RESULT','trackHookEvent','KEY_TEST_LOCATION','stringify','KEY_HOOK_LAST_STARTED','createTestFrameworkEventPayload:\x20complete\x20for\x20testId:\x20','body','key','error','getTestUUID','Cleared\x20processed\x20pending\x20hooks\x20for\x20testId:\x20','../instances/trackedInstance.js','BvfTt','KEY_TEST_RESULT_AT','\x20response=','HCFYw','KEY_TEST_FRAMEWORK_NAME','rerun_name','ZNkpG','NgNio','rIoKc','uWuKm','Parsed\x20cucumber\x20test:\x20','failure','sendLogCreatedEvent','\x20batch\x20','\x20with\x20result:\x20','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test','HeisR','setTestDetails','KEY_HOOK_RESULT','uuid','dgCth','parseCucumberTestResult','trackHookEvent:\x20Hook\x20List\x20in\x20Post\x20','sendLogCreatedEvent:\x20Error\x20in\x20sending\x20log\x20events:\x20','KEY_TEST_FILE_PATH','KEY_TEST_FRAMEWORK_VERSION','passed','KEY_HOOK_NAME','processPendingHooks','getAllData','split','Processing\x20','JjfId','201873tjElEg','KEY_TEST_FAILURE','HNiGQ','meta','failure_data','KEY_TEST_ID','xHqso','AYYYY','../TestInfo.js','KEY_EVENT_STARTED_AT','KEY_TEST_ENDED_AT','slice','2269548cwPUin',',\x20hookState:\x20','getThreadId','../cliUtils.js','readLogObjects','52155FPfErj','ceil','createContext','createTestFrameworkEventPayload:\x20No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','\x20with\x20UUID:\x20','removePendingHooks','10681ZzxBHC','84172iPCunc','EoDhr','trackHookEvent:\x20Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','eventJson','KEY_TEST_SCOPE','fRexP','heqDc','test_run_id','\x20and\x20args\x20=\x20','hook_type','\x20target=','testFrameworkState','exports','getCurrentTestState','\x20pending\x20hooks\x20for\x20testId:\x20','name','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test\x20result','failed','parallelIndex','finished_at','inspect','aMTGS','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','concat','getInstance','KEY_LOGS','2333737nSdGOw','KEY_TEST_RERUN_NAME','pop','format','sendLogCreatedEvent:\x20for\x20testId:\x20','yeITa','runHooks','logCreatedEvent','trackCucumberInstance:\x20saved\x20instance\x20contextId=','getTrackedInstance','pSHFT','KEY_TEST_SCOPES','scopes','util','PRE','customRerunParam','JQqXc','file_name','testFrameworkName'];a70_0x2733=function(){return _0x270f66;};return a70_0x2733();}(function(_0x585f4c,_0xc77df7){const _0x27b22f=a70_0x4115,_0x43cd73=_0x585f4c();while(!![]){try{const _0x5d5eef=parseInt(_0x27b22f(0x281))/0x1+parseInt(_0x27b22f(0x215))/0x2*(-parseInt(_0x27b22f(0x270))/0x3)+parseInt(_0x27b22f(0x288))/0x4*(parseInt(_0x27b22f(0x1ec))/0x5)+-parseInt(_0x27b22f(0x21d))/0x6+parseInt(_0x27b22f(0x2a2))/0x7+parseInt(_0x27b22f(0x1fe))/0x8*(parseInt(_0x27b22f(0x27c))/0x9)+-parseInt(_0x27b22f(0x1fa))/0xa*(parseInt(_0x27b22f(0x287))/0xb);if(_0x5d5eef===_0xc77df7)break;else _0x43cd73['push'](_0x43cd73['shift']());}catch(_0x23c927){_0x43cd73['push'](_0x43cd73['shift']());}}}(a70_0x2733,0x2a117));const TestFramework=require(a70_0x4e9681(0x20e)),TestFrameworkState=require('../state/testFrameworkState.js'),HookState=require(a70_0x4e9681(0x1ea)),{createClassLogger}=require(a70_0x4e9681(0x231)),TestFrameworkInstance=require(a70_0x4e9681(0x22e)),CLIUtils=require(a70_0x4e9681(0x27f)),TrackedInstance=require(a70_0x4e9681(0x24e)),TestFrameworkConstants=require(a70_0x4e9681(0x1f2)),{getManualUploadLogs,getMediaArtifactsLogs}=require(a70_0x4e9681(0x1e3)),logger=createClassLogger('CucumberTestFramework'),{v4:uuidv4}=require(a70_0x4e9681(0x262)),util=require(a70_0x4e9681(0x1dd)),TestInfo=require(a70_0x4e9681(0x278)),GrpcClient=require('../grpcClient');function a70_0x4115(_0x3c92a2,_0x527e42){const _0x27333c=a70_0x2733();return a70_0x4115=function(_0x41152d,_0x4db5d5){_0x41152d=_0x41152d-0x1dc;let _0x5b5094=_0x27333c[_0x41152d];return _0x5b5094;},a70_0x4115(_0x3c92a2,_0x527e42);}class CucumberTestFramework extends TestFramework{constructor(_0x3e2b5b,_0x29c45d,_0x54cd8e){super(_0x3e2b5b,_0x29c45d,_0x54cd8e);}async[a70_0x4e9681(0x229)](_0x3919d4,_0x4e8dda,_0xd94c0={}){const _0x2816ce=a70_0x4e9681,_0x16dd14={};_0x16dd14[_0x2816ce(0x256)]=_0x2816ce(0x23a),_0x16dd14[_0x2816ce(0x25f)]=function(_0x5615d5,_0x66255c){return _0x5615d5===_0x66255c;},_0x16dd14['jHcyp']=_0x2816ce(0x29e);const _0x245a1d=_0x16dd14;await super[_0x2816ce(0x229)](_0x3919d4,_0x4e8dda,_0xd94c0);const _0x16059a=this[_0x2816ce(0x22a)](_0x3919d4,_0x4e8dda,_0xd94c0);if(!_0x16059a){logger[_0x2816ce(0x21b)](_0x245a1d[_0x2816ce(0x256)]);return;}try{let _0x18857b,_0x200aa0;switch(_0x3919d4){case TestFrameworkState[_0x2816ce(0x1f7)]:_0x18857b=_0xd94c0[_0x2816ce(0x203)],_0x200aa0=TestInfo[_0x2816ce(0x24c)](_0x18857b['id']);if(_0x245a1d['HeisR'](_0x4e8dda,HookState[_0x2816ce(0x1de)])){logger[_0x2816ce(0x21b)](_0x2816ce(0x239)+_0x18857b['id']);const _0x972469={};_0x972469[_0x2816ce(0x221)]=_0x200aa0,_0x972469[_0x2816ce(0x241)]=_0x18857b,_0x16059a['addMultipleEntries'](this[_0x2816ce(0x22f)](_0x972469)),logger['debug']('trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20'+_0x18857b['id']),await this[_0x2816ce(0x26b)](_0x16059a,_0x18857b['id']);}else{if(_0x245a1d[_0x2816ce(0x25f)](_0x4e8dda,HookState[_0x2816ce(0x20f)])){const _0x5d74d8={};_0x5d74d8['testUUID']=_0x200aa0,_0x5d74d8[_0x2816ce(0x241)]=_0x18857b,_0x16059a[_0x2816ce(0x216)](this['parseCucumberTestResult'](_0x5d74d8)),await this[_0x2816ce(0x26b)](_0x16059a,_0x18857b['id']);}}break;case TestFrameworkState['LOG_REPORT']:_0x245a1d[_0x2816ce(0x25f)](_0x4e8dda,HookState[_0x2816ce(0x20f)])&&await this[_0x2816ce(0x25b)](_0x16059a,_0x3919d4,_0xd94c0);break;default:if(CLIUtils[_0x2816ce(0x225)](_0x3919d4['toString']()[_0x2816ce(0x26d)]('.')[0x1])){const _0xf84f2d=await this[_0x2816ce(0x244)](_0x16059a,_0x3919d4,_0x4e8dda,_0xd94c0);_0x16059a['addMultipleEntries'](_0xf84f2d);}else logger[_0x2816ce(0x21b)](_0x2816ce(0x228)+_0x3919d4+_0x2816ce(0x214)+_0x4e8dda);break;}}catch(_0x10c2c2){logger['error'](util[_0x2816ce(0x2a5)](_0x245a1d['jHcyp'],_0x3919d4,_0x4e8dda,_0xd94c0[_0x2816ce(0x1e5)],_0x10c2c2));}_0xd94c0['instance']=_0x16059a,await this['runHooks'](_0x16059a,_0x3919d4,_0x4e8dda,_0xd94c0);}[a70_0x4e9681(0x22a)](_0x24261f,_0x51aef9,_0x45183d={}){const _0x17170b=a70_0x4e9681,_0x3cc8ef={};_0x3cc8ef[_0x17170b(0x255)]=function(_0x2bb6a8,_0x4393f8){return _0x2bb6a8===_0x4393f8;};const _0x3cc37b=_0x3cc8ef;let _0x15cd8a=null;return(_0x3cc37b[_0x17170b(0x255)](_0x24261f,TestFrameworkState[_0x17170b(0x212)])||_0x3cc37b[_0x17170b(0x255)](_0x24261f,TestFrameworkState[_0x17170b(0x219)]))&&this['trackCucumberInstance'](_0x24261f,_0x45183d),_0x15cd8a=TestFramework[_0x17170b(0x2ab)](),_0x15cd8a;}['trackCucumberInstance'](_0x3be672,_0x97a72c){const _0x41df75=a70_0x4e9681,_0x192c38=CLIUtils['getCurrentInstanceName'](),_0x215d99=TrackedInstance[_0x41df75(0x283)](_0x192c38);let _0x309152=null;logger[_0x41df75(0x21b)]('trackCucumberInstance:\x20created\x20instance\x20for\x20target='+_0x192c38+',\x20state='+_0x3be672),_0x309152=new TestFrameworkInstance(_0x215d99,this[_0x41df75(0x23b)](),this['getTestFrameworksVersions'](),_0x3be672,HookState[_0x41df75(0x219)]),TestFramework['setTrackedInstance'](_0x215d99,_0x309152),logger[_0x41df75(0x21b)](_0x41df75(0x2aa)+_0x215d99['getId']()+_0x41df75(0x292)+_0x192c38);}[a70_0x4e9681(0x22f)](_0x5eb1d9){const _0x4fd3b9=a70_0x4e9681,_0x247f72={};_0x247f72['JjfId']=_0x4fd3b9(0x25e);const _0x54606d=_0x247f72,{testUUID:_0x35b09a,testData:_0x544b7f}=_0x5eb1d9;if(!_0x544b7f||!_0x544b7f[_0x4fd3b9(0x262)])return logger['debug'](_0x54606d[_0x4fd3b9(0x26f)]),{};const _0x4d36ec=_0x544b7f['uuid'],_0x5518da=_0x544b7f[_0x4fd3b9(0x262)],_0x30035f=this[_0x4fd3b9(0x23b)]()[0x0],_0x1a30cb=this['getTestFrameworksVersions'](),_0x4b44f5={[TestFrameworkConstants[_0x4fd3b9(0x253)]]:_0x30035f,[TestFrameworkConstants[_0x4fd3b9(0x268)]]:_0x1a30cb[_0x30035f],[TestFrameworkConstants[_0x4fd3b9(0x1e4)]]:[],[TestFrameworkConstants[_0x4fd3b9(0x1eb)]]:{},[TestFrameworkConstants['KEY_HOOKS_STARTED']]:{},[TestFrameworkConstants['KEY_TEST_UUID']]:_0x4d36ec,[TestFrameworkConstants[_0x4fd3b9(0x222)]]:TestFrameworkConstants[_0x4fd3b9(0x1fc)],[TestFrameworkConstants['KEY_AUTOMATE_SESSION_NAME']]:_0x544b7f[_0x4fd3b9(0x297)]||'',[TestFrameworkConstants[_0x4fd3b9(0x267)]]:_0x544b7f[_0x4fd3b9(0x1e1)]||'',[TestFrameworkConstants[_0x4fd3b9(0x275)]]:_0x5518da,[TestFrameworkConstants[_0x4fd3b9(0x205)]]:_0x544b7f[_0x4fd3b9(0x297)]||'',[TestFrameworkConstants[_0x4fd3b9(0x245)]]:_0x544b7f[_0x4fd3b9(0x206)]||'',[TestFrameworkConstants[_0x4fd3b9(0x233)]]:_0x544b7f[_0x4fd3b9(0x249)]?.[_0x4fd3b9(0x1f0)]||null,[TestFrameworkConstants['KEY_TEST_TAGS']]:_0x544b7f['tags']||[],[TestFrameworkConstants[_0x4fd3b9(0x213)]]:_0x544b7f[_0x4fd3b9(0x232)]||new Date()['toISOString'](),[TestFrameworkConstants[_0x4fd3b9(0x28c)]]:_0x544b7f[_0x4fd3b9(0x1dc)]?.[0x0]||'',[TestFrameworkConstants[_0x4fd3b9(0x2ad)]]:_0x544b7f[_0x4fd3b9(0x1dc)]||[],[TestFrameworkConstants[_0x4fd3b9(0x2a3)]]:_0x544b7f[_0x4fd3b9(0x1df)]?.[_0x4fd3b9(0x254)]||_0x544b7f[_0x4fd3b9(0x297)]||'',[TestFrameworkConstants[_0x4fd3b9(0x21a)]]:{},[TestFrameworkConstants['KEY_TEST_META']]:_0x544b7f['meta']||{}};TestInfo[_0x4fd3b9(0x260)](_0x5518da,_0x4b44f5),logger[_0x4fd3b9(0x21b)](_0x4fd3b9(0x259)+_0x544b7f['name']+_0x4fd3b9(0x285)+_0x4d36ec);const _0x4d6d02={};return _0x4d6d02[_0x5518da]=_0x4b44f5,_0x4d6d02;}[a70_0x4e9681(0x264)](_0x2a6997){const _0xf79c98=a70_0x4e9681,_0x2fa825={'rXMRQ':_0xf79c98(0x298),'FnWUE':_0xf79c98(0x1ed),'ocWVs':function(_0x2582fc,_0x48fca2){return _0x2582fc===_0x48fca2;},'ZxTHb':_0xf79c98(0x299),'fRexP':_0xf79c98(0x22b),'aMTGS':function(_0x2bfd4c,_0x1241bb,_0x3f667f){return _0x2bfd4c(_0x1241bb,_0x3f667f);},'aYaZo':function(_0x3f4b0d,_0x1c8d61){return _0x3f4b0d>_0x1c8d61;}},{testUUID:_0x3cc187,testData:_0x24c025}=_0x2a6997;if(!_0x24c025||!_0x24c025['uuid'])return logger[_0xf79c98(0x21b)](_0x2fa825[_0xf79c98(0x1ee)]),{};const _0x1d5ca8=this[_0xf79c98(0x22a)](TestFrameworkState[_0xf79c98(0x1f7)],HookState[_0xf79c98(0x20f)]),_0x456317=_0x24c025[_0xf79c98(0x262)],_0x27ca1a=TestInfo[_0xf79c98(0x240)](_0x456317)||{},_0x23f502=_0x27ca1a?_0x27ca1a[TestFrameworkConstants[_0xf79c98(0x21a)]]||{}:{},_0x1a4794={..._0x27ca1a,[TestFrameworkConstants[_0xf79c98(0x222)]]:_0x24c025[_0xf79c98(0x224)]||_0x2fa825[_0xf79c98(0x234)],[TestFrameworkConstants[_0xf79c98(0x27a)]]:_0x24c025[_0xf79c98(0x227)]||new Date()[_0xf79c98(0x22d)](),[TestFrameworkConstants[_0xf79c98(0x250)]]:new Date()[_0xf79c98(0x22d)](),[TestFrameworkConstants[_0xf79c98(0x21a)]]:_0x23f502,[TestFrameworkConstants[_0xf79c98(0x2a1)]]:[],[TestFrameworkConstants[_0xf79c98(0x23f)]]:_0x24c025[_0xf79c98(0x273)]||{}};_0x2fa825[_0xf79c98(0x1e6)](_0x24c025['result'],_0x2fa825[_0xf79c98(0x242)])&&_0x24c025[_0xf79c98(0x25a)]&&(_0x1a4794[TestFrameworkConstants[_0xf79c98(0x20a)]]=_0x24c025['failure_type']||_0x2fa825[_0xf79c98(0x28d)],_0x1a4794[TestFrameworkConstants['KEY_TEST_FAILURE_REASON']]=_0x24c025[_0xf79c98(0x204)]||'',_0x1a4794[TestFrameworkConstants[_0xf79c98(0x271)]]=_0x24c025[_0xf79c98(0x25a)]);const _0xeaf872=TestInfo[_0xf79c98(0x240)](_0x456317)[TestFrameworkConstants[_0xf79c98(0x1fb)]]||{},_0x4b0173=_0x2fa825[_0xf79c98(0x29d)](getManualUploadLogs,_0xeaf872,_0x1d5ca8[_0xf79c98(0x26c)]()[_0xf79c98(0x1f9)](_0x456317)[TestFrameworkConstants[_0xf79c98(0x230)]]);if(_0x2fa825[_0xf79c98(0x202)](_0x4b0173['length'],0x0)){const _0x85b92b=_0x1a4794[TestFrameworkConstants[_0xf79c98(0x2a1)]]||[];_0x1a4794[TestFrameworkConstants[_0xf79c98(0x2a1)]]=[..._0x85b92b,..._0x4b0173];}_0x24c025[_0xf79c98(0x1f3)]&&_0x2fa825[_0xf79c98(0x202)](_0x24c025[_0xf79c98(0x1f3)][_0xf79c98(0x1e5)],0x0)&&(_0x1a4794[TestFrameworkConstants[_0xf79c98(0x1eb)]]=_0x24c025[_0xf79c98(0x1f3)]);TestInfo[_0xf79c98(0x260)](_0x456317,_0x1a4794),logger['debug']('Updated\x20cucumber\x20test\x20result:\x20'+_0x24c025[_0xf79c98(0x297)]+_0xf79c98(0x25d)+_0x24c025[_0xf79c98(0x224)]);const _0x4185ea={};return _0x4185ea[_0x456317]=_0x1a4794,_0x4185ea;}async[a70_0x4e9681(0x244)](_0x598233,_0x364885,_0xd13da,_0x6d9c1f){const _0x432c25=a70_0x4e9681,_0x4b7b7f={'rIoKc':_0x432c25(0x1ef),'JQqXc':function(_0x57228c){return _0x57228c();},'BvfTt':function(_0x41f956,_0x4ba47f){return _0x41f956 in _0x4ba47f;},'pWSIu':function(_0x1ea666,_0x40af33){return _0x1ea666 in _0x40af33;},'Sffnj':function(_0x35ab1e,_0x3d2919){return _0x35ab1e===_0x3d2919;},'yeITa':function(_0x17880c,_0x5dbf70){return _0x17880c>_0x5dbf70;},'xHqso':function(_0x2d99e8,_0x3ef2fb){return _0x2d99e8===_0x3ef2fb;},'SGYeh':'failed','dgCth':'UnhandledError','YSqQj':_0x432c25(0x269),'eiGmt':function(_0x1db574,_0x2c617f){return _0x1db574!==_0x2c617f;}},{hookData:_0x4380d9}=_0x6d9c1f;if(!_0x4380d9)return logger[_0x432c25(0x21b)](_0x4b7b7f[_0x432c25(0x257)]),{};const _0x472f88=_0x4380d9[_0x432c25(0x262)]||_0x4b7b7f[_0x432c25(0x1e0)](uuidv4),_0x30ac41=_0x4380d9[_0x432c25(0x28f)],_0x3f89d5=_0x364885['toString']()[_0x432c25(0x26d)]('.')[0x1],_0x298f93=TestInfo[_0x432c25(0x240)](_0x30ac41)[TestFrameworkConstants[_0x432c25(0x21a)]]||{},_0x421548=_0x598233[_0x432c25(0x26c)]()[_0x432c25(0x1f9)](_0x30ac41);if(!_0x421548)return logger[_0x432c25(0x21b)]('No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20'+_0x30ac41+',\x20storing\x20as\x20pending\x20hook'),this[_0x432c25(0x220)](_0x598233,_0x30ac41,_0x364885,_0xd13da,_0x6d9c1f),{};let _0x5585cf=_0x421548[TestFrameworkConstants[_0x432c25(0x23d)]];!_0x5585cf&&(_0x5585cf={});!_0x4b7b7f[_0x432c25(0x24f)](_0x3f89d5,_0x5585cf)&&(_0x5585cf[_0x3f89d5]=[]);let _0x231187=_0x421548[TestFrameworkConstants[_0x432c25(0x1eb)]];!_0x231187&&(_0x231187={});!_0x4b7b7f[_0x432c25(0x23e)](_0x3f89d5,_0x231187)&&(_0x231187[_0x3f89d5]=[]);const _0x5a2f22={[TestFrameworkConstants[_0x432c25(0x23d)]]:_0x5585cf,[TestFrameworkConstants['KEY_HOOKS_FINISHED']]:_0x231187},_0x529367={};_0x529367[_0x30ac41]=_0x5a2f22;const _0x2cd124=_0x529367;if(_0x4b7b7f['Sffnj'](_0xd13da,HookState[_0x432c25(0x1de)])){const _0x5d9b53={[TestFrameworkConstants[_0x432c25(0x1f4)]]:_0x472f88,[TestFrameworkConstants['KEY_HOOK_RESULT']]:TestFrameworkConstants[_0x432c25(0x243)],[TestFrameworkConstants[_0x432c25(0x279)]]:_0x4380d9[_0x432c25(0x23c)],[TestFrameworkConstants['KEY_HOOK_LOGS']]:[],[TestFrameworkConstants[_0x432c25(0x26a)]]:_0x4380d9[_0x432c25(0x291)],[TestFrameworkConstants[_0x432c25(0x21a)]]:_0x298f93};_0x5d9b53[_0x432c25(0x24a)]=_0x3f89d5;const _0xc0404c=_0x5d9b53;_0x5585cf[_0x3f89d5][_0x432c25(0x21c)](_0xc0404c),_0x2cd124[_0x30ac41][TestFrameworkConstants[_0x432c25(0x247)]]=_0x3f89d5,logger[_0x432c25(0x21b)](_0x432c25(0x28a)+_0x3f89d5+_0x432c25(0x223)+_0xc0404c+'\x20\x20and\x20args\x20=\x20'+_0x6d9c1f);}else{if(_0x4b7b7f[_0x432c25(0x207)](_0xd13da,HookState['POST'])){const _0x4c9dcb=_0x4380d9[_0x432c25(0x224)],_0x504773=_0x5585cf[_0x3f89d5]||[];logger[_0x432c25(0x21b)](_0x432c25(0x265)+_0x504773+_0x432c25(0x290)+_0x6d9c1f);if(_0x4b7b7f[_0x432c25(0x2a7)](_0x504773[_0x432c25(0x1e5)],0x0)){const _0x27cd57=_0x504773[_0x432c25(0x2a4)]();_0x4b7b7f[_0x432c25(0x276)](_0x4380d9[_0x432c25(0x224)],_0x4b7b7f[_0x432c25(0x218)])&&_0x4380d9[_0x432c25(0x274)]?(_0x27cd57[TestFrameworkConstants['KEY_HOOK_FAILURE_TYPE']]=_0x4380d9['failure_type']||_0x4b7b7f[_0x432c25(0x263)],_0x27cd57[TestFrameworkConstants['KEY_HOOK_FAILURE_REASON']]=_0x4380d9['failure_reason']||'',_0x27cd57[TestFrameworkConstants[_0x432c25(0x1e8)]]=_0x4380d9[_0x432c25(0x274)]):_0x27cd57[TestFrameworkConstants[_0x432c25(0x261)]]=_0x4b7b7f[_0x432c25(0x200)];_0x4b7b7f[_0x432c25(0x22c)](_0x4c9dcb,TestFrameworkConstants[_0x432c25(0x243)])&&(_0x27cd57[TestFrameworkConstants[_0x432c25(0x261)]]=_0x4c9dcb);_0x27cd57[TestFrameworkConstants[_0x432c25(0x21f)]]=_0x4380d9[_0x432c25(0x29b)]||new Date()[_0x432c25(0x22d)](),_0x27cd57[TestFrameworkConstants[_0x432c25(0x21a)]]=_0x298f93;const _0x5dc3e6=_0x27cd57[TestFrameworkConstants[_0x432c25(0x1f4)]];!_0x231187[_0x3f89d5]&&(_0x231187[_0x3f89d5]=[]),_0x231187[_0x3f89d5][_0x432c25(0x21c)](_0x27cd57),_0x2cd124[_0x30ac41][TestFrameworkConstants['KEY_HOOK_LAST_FINISHED']]=_0x3f89d5;}}}return logger[_0x432c25(0x21b)]('Tracked\x20cucumber\x20hook\x20event:\x20'+_0x4380d9[_0x432c25(0x291)]+_0x432c25(0x1f5)+_0x472f88+'\x20for\x20test:\x20'+_0x30ac41),_0x2cd124;}['createTestFrameworkEventPayload'](_0x570ef0){const _0x181008=a70_0x4e9681,_0x6578c5={};_0x6578c5[_0x181008(0x272)]=_0x181008(0x1e7);const _0x1acb4a=_0x6578c5;try{const _0x3d66ca=_0x570ef0['test']?_0x570ef0[_0x181008(0x203)]['id']:_0x570ef0[_0x181008(0x1e9)][_0x181008(0x28f)],_0x4ea96c=_0x570ef0[_0x181008(0x226)],_0x26d2c2=_0x4ea96c['getContext'](),_0x7f2208=_0x4ea96c[_0x181008(0x26c)]()[_0x181008(0x1f9)](_0x3d66ca);if(!_0x7f2208)return logger[_0x181008(0x21b)](_0x181008(0x284)+_0x3d66ca),{};logger[_0x181008(0x21b)](_0x181008(0x236)+_0x3d66ca);const {[TestFrameworkConstants[_0x181008(0x253)]]:_0x435dea='',[TestFrameworkConstants[_0x181008(0x268)]]:_0x6eb844='',[TestFrameworkConstants[_0x181008(0x213)]]:_0x393b64='',[TestFrameworkConstants['KEY_TEST_ENDED_AT']]:_0x528a7d=''}=_0x7f2208,_0x5daae5=_0x4ea96c[_0x181008(0x295)]()[_0x181008(0x20d)]()[_0x181008(0x26d)]('.')[0x1],_0x1941ab=_0x4ea96c['getCurrentHookState']()[_0x181008(0x20d)]()[_0x181008(0x26d)]('.')[0x1],_0x4faf1f=global?.[_0x181008(0x20b)]?.['workerInfo']?.[_0x181008(0x29a)],_0x5ac715=_0x4ea96c[_0x181008(0x1fd)](),_0x550109=Buffer['from'](JSON[_0x181008(0x246)](_0x7f2208))['toString'](_0x1acb4a[_0x181008(0x272)]),_0x14c9c1={'hash':_0x26d2c2['getId'](),'threadId':_0x26d2c2[_0x181008(0x27e)]()['toString'](),'processId':_0x26d2c2['getProcessId']()['toString']()},_0x23c88c={};_0x23c88c['platformIndex']=_0x4faf1f,_0x23c88c[_0x181008(0x1e2)]=_0x435dea,_0x23c88c[_0x181008(0x1ff)]=_0x6eb844,_0x23c88c[_0x181008(0x293)]=_0x5daae5,_0x23c88c[_0x181008(0x209)]=_0x1941ab,_0x23c88c[_0x181008(0x232)]=_0x393b64,_0x23c88c[_0x181008(0x21e)]=_0x528a7d,_0x23c88c[_0x181008(0x262)]=_0x5ac715,_0x23c88c[_0x181008(0x28b)]=_0x550109,_0x23c88c['executionContext']=_0x14c9c1;const _0x102544=_0x23c88c;return logger[_0x181008(0x21b)](_0x181008(0x248)+_0x3d66ca+_0x181008(0x210)+_0x5daae5+'\x20hookState:\x20'+_0x1941ab),_0x102544;}catch(_0xe1d1d6){return logger[_0x181008(0x24b)](_0x181008(0x1f6)+util[_0x181008(0x2a5)](_0xe1d1d6)),{};}}async[a70_0x4e9681(0x25b)](_0x403856,_0x221e5b,_0x553e95){const _0xbc76e9=a70_0x4e9681,_0x37db3b={'pSHFT':function(_0x230fa1,_0x450e9f,_0x122b02){return _0x230fa1(_0x450e9f,_0x122b02);},'EoDhr':function(_0x33fbbd,_0x291a51){return _0x33fbbd===_0x291a51;},'uWuKm':_0xbc76e9(0x217),'RLAYd':function(_0x146456,_0xb83f4f){return _0x146456/_0xb83f4f;},'AYYYY':function(_0x2dd2d0,_0x276938){return _0x2dd2d0<_0x276938;},'KNyxZ':function(_0x23ddfd,_0x441245){return _0x23ddfd*_0x441245;},'PPPVM':function(_0x2704d9,_0x343119){return _0x2704d9+_0x343119;},'heqDc':'Cucumber\x20log\x20created\x20event'};try{const _0x39aaf5=_0x553e95['testUUID'],_0x364a90=_0x403856[_0xbc76e9(0x26c)]()['get'](_0x39aaf5),{[TestFrameworkConstants[_0xbc76e9(0x253)]]:_0xaea57f='',[TestFrameworkConstants[_0xbc76e9(0x268)]]:_0x411e56=''}=_0x364a90,_0x4408d4=TestInfo[_0xbc76e9(0x280)](_0x39aaf5),_0x92710f=TestInfo['getTestDetails'](_0x39aaf5)[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x4acae8=_0x37db3b[_0xbc76e9(0x2ac)](getMediaArtifactsLogs,_0x92710f,_0x403856['getAllData']()[_0xbc76e9(0x1f9)](_0x39aaf5)[TestFrameworkConstants[_0xbc76e9(0x230)]]),_0x2ca5d7=(_0x4408d4||[])[_0xbc76e9(0x29f)](_0x4acae8||[]);if(!_0x2ca5d7||_0x37db3b[_0xbc76e9(0x289)](_0x2ca5d7['length'],0x0)){logger[_0xbc76e9(0x21b)](_0x37db3b[_0xbc76e9(0x258)]);return;}const _0x283d2c=0x28,_0x1238e6=Math[_0xbc76e9(0x282)](_0x37db3b['RLAYd'](_0x2ca5d7[_0xbc76e9(0x1e5)],_0x283d2c));for(let _0xe2ac1a=0x0;_0x37db3b[_0xbc76e9(0x277)](_0xe2ac1a,_0x1238e6);_0xe2ac1a++){const _0x4a8809=_0x37db3b[_0xbc76e9(0x1f8)](_0xe2ac1a,_0x283d2c),_0x162571=_0x37db3b[_0xbc76e9(0x237)](_0x4a8809,_0x283d2c),_0x4a42a9=_0x2ca5d7[_0xbc76e9(0x27b)](_0x4a8809,_0x162571),_0x4cd7fb={'platformIndex':'0','logs':_0x4a42a9,'testFrameworkName':_0xaea57f,'testFrameworkVersion':_0x411e56,'testFrameworkState':_0x221e5b[_0xbc76e9(0x20d)]()[_0xbc76e9(0x26d)]('.')[0x1]};logger[_0xbc76e9(0x21b)](_0xbc76e9(0x2a6)+_0x39aaf5+_0xbc76e9(0x25c)+_0x37db3b['PPPVM'](_0xe2ac1a,0x1)+'/'+_0x1238e6+'\x20payload='+util[_0xbc76e9(0x29c)](_0x4cd7fb));const _0x132f40=await GrpcClient[_0xbc76e9(0x2a0)]()[_0xbc76e9(0x2a9)](_0x4cd7fb);logger[_0xbc76e9(0x21b)](_0xbc76e9(0x2a6)+_0x39aaf5+'\x20batch\x20'+_0x37db3b[_0xbc76e9(0x237)](_0xe2ac1a,0x1)+'/'+_0x1238e6+_0xbc76e9(0x251)+util[_0xbc76e9(0x29c)](_0x132f40));}}catch(_0x5dba8d){logger['error'](_0xbc76e9(0x266)+util[_0xbc76e9(0x2a5)](_0x5dba8d));}logger[_0xbc76e9(0x21b)](_0x37db3b[_0xbc76e9(0x28e)]);}[a70_0x4e9681(0x220)](_0x4aeddb,_0xc260a6,_0x3cff08,_0xab6659,_0x19c073){const _0x374df3=a70_0x4e9681,_0x2565ab={'testId':_0xc260a6,'testFrameworkState':_0x3cff08,'hookState':_0xab6659,'args':_0x19c073,'timestamp':new Date()[_0x374df3(0x22d)]()};_0x4aeddb[_0x374df3(0x1f1)](_0xc260a6,_0x2565ab),logger[_0x374df3(0x21b)](_0x374df3(0x201)+_0xc260a6+',\x20state:\x20'+_0x3cff08+_0x374df3(0x27d)+_0xab6659);}async[a70_0x4e9681(0x26b)](_0x24fc57,_0x2f1b20){const _0x1ab4a9=a70_0x4e9681,_0x49fae3={};_0x49fae3['HCFYw']=function(_0x916e0f,_0x5153d2){return _0x916e0f>_0x5153d2;};const _0x4b00c4=_0x49fae3;if(!_0x24fc57[_0x1ab4a9(0x20c)](_0x2f1b20))return;const _0x40b9dc=_0x24fc57[_0x1ab4a9(0x211)](_0x2f1b20);logger[_0x1ab4a9(0x21b)](_0x1ab4a9(0x26e)+_0x40b9dc[_0x1ab4a9(0x1e5)]+_0x1ab4a9(0x296)+_0x2f1b20);for(const _0x4ca659 of _0x40b9dc){try{const _0x1adcd9=await this[_0x1ab4a9(0x244)](_0x24fc57,_0x4ca659['testFrameworkState'],_0x4ca659[_0x1ab4a9(0x209)],_0x4ca659[_0x1ab4a9(0x238)]);_0x1adcd9&&_0x4b00c4[_0x1ab4a9(0x252)](Object[_0x1ab4a9(0x235)](_0x1adcd9)['length'],0x0)&&_0x24fc57[_0x1ab4a9(0x216)](_0x1adcd9),await this[_0x1ab4a9(0x2a8)](_0x24fc57,_0x4ca659['testFrameworkState'],_0x4ca659[_0x1ab4a9(0x209)],_0x4ca659[_0x1ab4a9(0x238)]);}catch(_0x5ab116){logger[_0x1ab4a9(0x24b)](_0x1ab4a9(0x208)+_0x2f1b20+',\x20error:\x20'+_0x5ab116);}}_0x24fc57[_0x1ab4a9(0x286)](_0x2f1b20),logger[_0x1ab4a9(0x21b)](_0x1ab4a9(0x24d)+_0x2f1b20);}}module[a70_0x4e9681(0x294)]=CucumberTestFramework;