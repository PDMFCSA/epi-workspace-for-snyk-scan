const a70_0x150d61=a70_0xa051;(function(_0x22d624,_0x3677da){const _0xb5b087=a70_0xa051,_0x1bc717=_0x22d624();while(!![]){try{const _0x3ec838=-parseInt(_0xb5b087(0x1cb))/0x1*(parseInt(_0xb5b087(0x11e))/0x2)+-parseInt(_0xb5b087(0x127))/0x3*(parseInt(_0xb5b087(0x19e))/0x4)+parseInt(_0xb5b087(0x1db))/0x5+-parseInt(_0xb5b087(0x139))/0x6*(-parseInt(_0xb5b087(0x144))/0x7)+parseInt(_0xb5b087(0x175))/0x8*(parseInt(_0xb5b087(0x170))/0x9)+-parseInt(_0xb5b087(0x17c))/0xa+parseInt(_0xb5b087(0x119))/0xb;if(_0x3ec838===_0x3677da)break;else _0x1bc717['push'](_0x1bc717['shift']());}catch(_0x2ed0dd){_0x1bc717['push'](_0x1bc717['shift']());}}}(a70_0xb27f,0x59a19));const TestFramework=require(a70_0x150d61(0x121)),TestFrameworkState=require(a70_0x150d61(0x1b3)),HookState=require(a70_0x150d61(0x1a1)),{createClassLogger}=require(a70_0x150d61(0x160)),TestFrameworkInstance=require(a70_0x150d61(0x186)),CLIUtils=require(a70_0x150d61(0x14b)),TrackedInstance=require('../instances/trackedInstance.js'),TestFrameworkConstants=require('./constants/testFrameworkConstants.js'),{getManualUploadLogs,getMediaArtifactsLogs}=require('../../../helpers/helper.js'),logger=createClassLogger(a70_0x150d61(0x16a)),{v4:uuidv4}=require('uuid'),util=require(a70_0x150d61(0x1d0)),TestInfo=require('../TestInfo.js'),GrpcClient=require('../grpcClient');class CucumberTestFramework extends TestFramework{constructor(_0x2e88a5,_0x105488,_0x1eae5c){super(_0x2e88a5,_0x105488,_0x1eae5c);}async[a70_0x150d61(0x1df)](_0x4dda9e,_0x255c38,_0x26ff8e={}){const _0x2333cf=a70_0x150d61,_0x269e24={};_0x269e24['VFHOx']=_0x2333cf(0x1b8),_0x269e24[_0x2333cf(0x18d)]=function(_0x548b0e,_0xfb7963){return _0x548b0e===_0xfb7963;},_0x269e24['mKHcq']=function(_0x29d347,_0x4c5e36){return _0x29d347===_0x4c5e36;},_0x269e24[_0x2333cf(0x184)]=_0x2333cf(0x199);const _0x40313f=_0x269e24;await super[_0x2333cf(0x1df)](_0x4dda9e,_0x255c38,_0x26ff8e);const _0x4e08d9=this[_0x2333cf(0x1c7)](_0x4dda9e,_0x255c38,_0x26ff8e);if(!_0x4e08d9){logger[_0x2333cf(0x11b)](_0x40313f[_0x2333cf(0x1b0)]);return;}try{let _0x126113,_0x40d5e3;switch(_0x4dda9e){case TestFrameworkState['TEST']:_0x126113=_0x26ff8e[_0x2333cf(0x1d5)],_0x40d5e3=TestInfo[_0x2333cf(0x15e)](_0x126113['id']);if(_0x40313f[_0x2333cf(0x18d)](_0x255c38,HookState[_0x2333cf(0x12d)])){logger[_0x2333cf(0x11b)](_0x2333cf(0x1bf)+_0x126113['id']);const _0x82fb5d={};_0x82fb5d['testUUID']=_0x40d5e3,_0x82fb5d[_0x2333cf(0x198)]=_0x126113,_0x4e08d9['addMultipleEntries'](this[_0x2333cf(0x1de)](_0x82fb5d)),logger[_0x2333cf(0x11b)]('trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20'+_0x126113['id']),await this[_0x2333cf(0x1c6)](_0x4e08d9,_0x126113['id']);}else{if(_0x40313f[_0x2333cf(0x18d)](_0x255c38,HookState[_0x2333cf(0x1a5)])){const _0x3a6636={};_0x3a6636[_0x2333cf(0x19a)]=_0x40d5e3,_0x3a6636[_0x2333cf(0x198)]=_0x126113,_0x4e08d9[_0x2333cf(0x190)](this['parseCucumberTestResult'](_0x3a6636)),await this[_0x2333cf(0x1c6)](_0x4e08d9,_0x126113['id']);}}break;case TestFrameworkState['LOG_REPORT']:_0x40313f[_0x2333cf(0x195)](_0x255c38,HookState[_0x2333cf(0x1a5)])&&await this['sendLogCreatedEvent'](_0x4e08d9,_0x4dda9e,_0x26ff8e);break;default:if(CLIUtils[_0x2333cf(0x158)](_0x4dda9e[_0x2333cf(0x1bb)]()[_0x2333cf(0x16e)]('.')[0x1])){const _0x268263=await this['trackHookEvent'](_0x4e08d9,_0x4dda9e,_0x255c38,_0x26ff8e);_0x4e08d9[_0x2333cf(0x190)](_0x268263);}else logger[_0x2333cf(0x11b)](_0x2333cf(0x187)+_0x4dda9e+_0x2333cf(0x171)+_0x255c38);break;}}catch(_0xeb057b){logger[_0x2333cf(0x143)](util[_0x2333cf(0x150)](_0x40313f[_0x2333cf(0x184)],_0x4dda9e,_0x255c38,_0x26ff8e[_0x2333cf(0x1a3)],_0xeb057b));}_0x26ff8e[_0x2333cf(0x151)]=_0x4e08d9,await this[_0x2333cf(0x19c)](_0x4e08d9,_0x4dda9e,_0x255c38,_0x26ff8e);}[a70_0x150d61(0x1c7)](_0x257eaf,_0x4dc9d4,_0x4de7b9={}){const _0x41dbcf=a70_0x150d61,_0x53bcb3={};_0x53bcb3['TaASP']=function(_0x2e40c7,_0x1b6858){return _0x2e40c7===_0x1b6858;};const _0x57a8ca=_0x53bcb3;let _0x57f32c=null;return(_0x57a8ca[_0x41dbcf(0x1b7)](_0x257eaf,TestFrameworkState[_0x41dbcf(0x1ad)])||_0x57a8ca[_0x41dbcf(0x1b7)](_0x257eaf,TestFrameworkState[_0x41dbcf(0x1a0)]))&&this['trackCucumberInstance'](_0x257eaf,_0x4de7b9),_0x57f32c=TestFramework[_0x41dbcf(0x17d)](),_0x57f32c;}[a70_0x150d61(0x1b6)](_0x141280,_0x79a3de){const _0x40231f=a70_0x150d61,_0x47cda6=CLIUtils[_0x40231f(0x1d1)](),_0x69c444=TrackedInstance['createContext'](_0x47cda6);let _0x3caa21=null;logger[_0x40231f(0x11b)]('trackCucumberInstance:\x20created\x20instance\x20for\x20target='+_0x47cda6+_0x40231f(0x1e4)+_0x141280),_0x3caa21=new TestFrameworkInstance(_0x69c444,this[_0x40231f(0x1d8)](),this[_0x40231f(0x14a)](),_0x141280,HookState[_0x40231f(0x1a0)]),TestFramework['setTrackedInstance'](_0x69c444,_0x3caa21),logger[_0x40231f(0x11b)](_0x40231f(0x15a)+_0x69c444[_0x40231f(0x1bd)]()+'\x20target='+_0x47cda6);}['parseCucumberTest'](_0x40db9e){const _0x3db506=a70_0x150d61,_0x59baf0={};_0x59baf0[_0x3db506(0x1a9)]=_0x3db506(0x16d);const _0x4f5471=_0x59baf0,{testUUID:_0x26aaee,testData:_0x59bbcd}=_0x40db9e;if(!_0x59bbcd||!_0x59bbcd['uuid'])return logger[_0x3db506(0x11b)](_0x4f5471[_0x3db506(0x1a9)]),{};const _0x559491=_0x26aaee,_0x4a0791=_0x59bbcd['uuid'],_0x39416f=this[_0x3db506(0x1d8)]()[0x0],_0x57a8fb=this[_0x3db506(0x14a)](),_0xa5600e={[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x39416f,[TestFrameworkConstants[_0x3db506(0x1aa)]]:_0x57a8fb[_0x39416f],[TestFrameworkConstants[_0x3db506(0x1ac)]]:[],[TestFrameworkConstants['KEY_HOOKS_FINISHED']]:{},[TestFrameworkConstants[_0x3db506(0x11d)]]:{},[TestFrameworkConstants[_0x3db506(0x18e)]]:_0x559491,[TestFrameworkConstants[_0x3db506(0x164)]]:TestFrameworkConstants['DEFAULT_TEST_RESULT'],[TestFrameworkConstants[_0x3db506(0x162)]]:_0x59bbcd[_0x3db506(0x196)]||'',[TestFrameworkConstants[_0x3db506(0x142)]]:_0x59bbcd['file_name']||'',[TestFrameworkConstants['KEY_TEST_ID']]:_0x4a0791,[TestFrameworkConstants[_0x3db506(0x16f)]]:_0x59bbcd[_0x3db506(0x196)]||'',[TestFrameworkConstants[_0x3db506(0x1c0)]]:_0x59bbcd[_0x3db506(0x124)]||'',[TestFrameworkConstants[_0x3db506(0x197)]]:_0x59bbcd['body']?.[_0x3db506(0x12f)]||null,[TestFrameworkConstants[_0x3db506(0x1b9)]]:_0x59bbcd[_0x3db506(0x1b5)]||[],[TestFrameworkConstants[_0x3db506(0x1b2)]]:_0x59bbcd['startedAt']||new Date()[_0x3db506(0x13d)](),[TestFrameworkConstants['KEY_TEST_SCOPE']]:_0x59bbcd[_0x3db506(0x15c)]?.[0x0]||'',[TestFrameworkConstants[_0x3db506(0x126)]]:_0x59bbcd[_0x3db506(0x15c)]||[],[TestFrameworkConstants[_0x3db506(0x1ce)]]:_0x59bbcd[_0x3db506(0x145)]?.[_0x3db506(0x11a)]||_0x59bbcd[_0x3db506(0x196)]||'',[TestFrameworkConstants[_0x3db506(0x18a)]]:{},[TestFrameworkConstants[_0x3db506(0x140)]]:_0x59bbcd[_0x3db506(0x1c8)]||{}};TestInfo[_0x3db506(0x1cc)](_0x4a0791,_0xa5600e),logger[_0x3db506(0x11b)](_0x3db506(0x1c2)+_0x59bbcd[_0x3db506(0x196)]+'\x20with\x20UUID:\x20'+_0x559491);const _0x4db55b={};return _0x4db55b[_0x4a0791]=_0xa5600e,_0x4db55b;}[a70_0x150d61(0x169)](_0x1ddb45){const _0x3a66d0=a70_0x150d61,_0x4b7d85={'YSUsZ':_0x3a66d0(0x19d),'KuVoR':'unknown','Ldwkh':function(_0x5cbf91,_0x45e8be){return _0x5cbf91===_0x45e8be;},'xduwt':_0x3a66d0(0x178),'jElvP':_0x3a66d0(0x137),'STKLx':function(_0x3893f4,_0x22fd5d,_0x38b535){return _0x3893f4(_0x22fd5d,_0x38b535);},'jOCOl':function(_0x252255,_0x116aa5){return _0x252255>_0x116aa5;}},{testUUID:_0x5d70d2,testData:_0x23c267}=_0x1ddb45;if(!_0x23c267||!_0x23c267[_0x3a66d0(0x17f)])return logger[_0x3a66d0(0x11b)](_0x4b7d85[_0x3a66d0(0x19b)]),{};const _0x5035f4=this[_0x3a66d0(0x1c7)](TestFrameworkState[_0x3a66d0(0x131)],HookState[_0x3a66d0(0x1a5)]),_0x1bf7a7=_0x23c267[_0x3a66d0(0x17f)],_0x3386e3=TestInfo['getTestDetails'](_0x1bf7a7)||{},_0x5e12d9=_0x3386e3?_0x3386e3[TestFrameworkConstants[_0x3a66d0(0x18a)]]||{}:{},_0x54d562={..._0x3386e3,[TestFrameworkConstants[_0x3a66d0(0x164)]]:_0x23c267[_0x3a66d0(0x1a8)]||_0x4b7d85[_0x3a66d0(0x14e)],[TestFrameworkConstants[_0x3a66d0(0x1e0)]]:_0x23c267[_0x3a66d0(0x1cf)]||new Date()[_0x3a66d0(0x13d)](),[TestFrameworkConstants[_0x3a66d0(0x141)]]:new Date()['toISOString'](),[TestFrameworkConstants[_0x3a66d0(0x18a)]]:_0x5e12d9,[TestFrameworkConstants[_0x3a66d0(0x14f)]]:[],[TestFrameworkConstants['KEY_TEST_META']]:_0x23c267[_0x3a66d0(0x1c8)]||{}};_0x4b7d85[_0x3a66d0(0x123)](_0x23c267[_0x3a66d0(0x1a8)],_0x4b7d85[_0x3a66d0(0x1da)])&&_0x23c267[_0x3a66d0(0x147)]&&(_0x54d562[TestFrameworkConstants[_0x3a66d0(0x1b4)]]=_0x23c267[_0x3a66d0(0x188)]||_0x4b7d85[_0x3a66d0(0x1e3)],_0x54d562[TestFrameworkConstants[_0x3a66d0(0x132)]]=_0x23c267[_0x3a66d0(0x167)]||'',_0x54d562[TestFrameworkConstants[_0x3a66d0(0x191)]]=_0x23c267[_0x3a66d0(0x147)]);const _0x5551e1=TestInfo[_0x3a66d0(0x1ba)](_0x1bf7a7)[TestFrameworkConstants[_0x3a66d0(0x1c9)]]||{},_0x1db533=_0x4b7d85[_0x3a66d0(0x13b)](getManualUploadLogs,_0x5551e1,_0x5035f4[_0x3a66d0(0x176)]()[_0x3a66d0(0x13c)](_0x1bf7a7)[TestFrameworkConstants['KEY_TEST_UUID']]);if(_0x4b7d85[_0x3a66d0(0x192)](_0x1db533[_0x3a66d0(0x1a3)],0x0)){const _0x5d09ab=_0x54d562[TestFrameworkConstants['KEY_LOGS']]||[];_0x54d562[TestFrameworkConstants[_0x3a66d0(0x14f)]]=[..._0x5d09ab,..._0x1db533];}_0x23c267[_0x3a66d0(0x1e2)]&&_0x4b7d85[_0x3a66d0(0x192)](_0x23c267[_0x3a66d0(0x1e2)][_0x3a66d0(0x1a3)],0x0)&&(_0x54d562[TestFrameworkConstants[_0x3a66d0(0x1cd)]]=_0x23c267[_0x3a66d0(0x1e2)]);TestInfo[_0x3a66d0(0x1cc)](_0x1bf7a7,_0x54d562),logger[_0x3a66d0(0x11b)](_0x3a66d0(0x163)+_0x23c267[_0x3a66d0(0x196)]+'\x20with\x20result:\x20'+_0x23c267[_0x3a66d0(0x1a8)]);const _0xc5b5b7={};return _0xc5b5b7[_0x1bf7a7]=_0x54d562,_0xc5b5b7;}async[a70_0x150d61(0x173)](_0x3b1546,_0x127cc9,_0x36aae8,_0x4c30e6){const _0x121d38=a70_0x150d61,_0x18325e={'LWSTz':_0x121d38(0x1c3),'vRZtE':function(_0xd7e4fc){return _0xd7e4fc();},'XIniT':function(_0x986d4b,_0x212713){return _0x986d4b in _0x212713;},'sCxSC':function(_0x46f114,_0x2c5a89){return _0x46f114 in _0x2c5a89;},'XyOIK':function(_0x3f4d1e,_0x7db818){return _0x3f4d1e===_0x7db818;},'saVpV':function(_0x12c0d0,_0x24967e){return _0x12c0d0===_0x24967e;},'wjhUW':function(_0x9ea558,_0x127293){return _0x9ea558>_0x127293;},'cjUzH':function(_0xc89ed9,_0x4e45a2){return _0xc89ed9===_0x4e45a2;},'JLIZa':'failed','zHnrM':_0x121d38(0x137),'zhXAe':_0x121d38(0x146),'eirzy':function(_0x39a9ba,_0x5bc923){return _0x39a9ba!==_0x5bc923;}},{hookData:_0x3d27ec}=_0x4c30e6;if(!_0x3d27ec)return logger[_0x121d38(0x11b)](_0x18325e['LWSTz']),{};const _0x1ed98e=_0x3d27ec[_0x121d38(0x17f)]||_0x18325e[_0x121d38(0x1d4)](uuidv4),_0xa25931=_0x3d27ec[_0x121d38(0x129)],_0x1e26be=_0x127cc9[_0x121d38(0x1bb)]()['split']('.')[0x1],_0x501102=TestInfo['getTestDetails'](_0xa25931)[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{},_0x11b96b=_0x3b1546[_0x121d38(0x176)]()[_0x121d38(0x13c)](_0xa25931);if(!_0x11b96b)return logger[_0x121d38(0x11b)](_0x121d38(0x1a2)+_0xa25931+',\x20storing\x20as\x20pending\x20hook'),this[_0x121d38(0x1dc)](_0x3b1546,_0xa25931,_0x127cc9,_0x36aae8,_0x4c30e6),{};let _0x49628c=_0x11b96b[TestFrameworkConstants[_0x121d38(0x11d)]];!_0x49628c&&(_0x49628c={});!_0x18325e[_0x121d38(0x1af)](_0x1e26be,_0x49628c)&&(_0x49628c[_0x1e26be]=[]);let _0x27df0d=_0x11b96b[TestFrameworkConstants[_0x121d38(0x1cd)]];!_0x27df0d&&(_0x27df0d={});!_0x18325e[_0x121d38(0x156)](_0x1e26be,_0x27df0d)&&(_0x27df0d[_0x1e26be]=[]);const _0x28a58b={[TestFrameworkConstants['KEY_HOOKS_STARTED']]:_0x49628c,[TestFrameworkConstants[_0x121d38(0x1cd)]]:_0x27df0d},_0x1394b5={};_0x1394b5[_0xa25931]=_0x28a58b;const _0x1fde10=_0x1394b5;if(_0x18325e['XyOIK'](_0x36aae8,HookState[_0x121d38(0x12d)])){const _0x239ebf={[TestFrameworkConstants[_0x121d38(0x1be)]]:_0x1ed98e,[TestFrameworkConstants[_0x121d38(0x1ae)]]:TestFrameworkConstants[_0x121d38(0x17e)],[TestFrameworkConstants['KEY_EVENT_STARTED_AT']]:_0x3d27ec[_0x121d38(0x133)],[TestFrameworkConstants[_0x121d38(0x16c)]]:[],[TestFrameworkConstants[_0x121d38(0x18f)]]:_0x3d27ec['hook_type'],[TestFrameworkConstants['KEY_CUSTOM_TAGS']]:_0x501102};_0x239ebf[_0x121d38(0x12e)]=_0x1e26be;const _0x1c76a8=_0x239ebf;_0x49628c[_0x1e26be][_0x121d38(0x12a)](_0x1c76a8),_0x1fde10[_0xa25931][TestFrameworkConstants['KEY_HOOK_LAST_STARTED']]=_0x1e26be,logger[_0x121d38(0x11b)](_0x121d38(0x1d9)+_0x1e26be+_0x121d38(0x1c5)+_0x1c76a8+_0x121d38(0x13e)+_0x4c30e6);}else{if(_0x18325e[_0x121d38(0x120)](_0x36aae8,HookState[_0x121d38(0x1a5)])){const _0x57635a=_0x3d27ec[_0x121d38(0x1a8)],_0x28bae4=_0x49628c[_0x1e26be]||[];logger[_0x121d38(0x11b)](_0x121d38(0x1ca)+_0x28bae4+_0x121d38(0x166)+_0x4c30e6);if(_0x18325e[_0x121d38(0x15d)](_0x28bae4['length'],0x0)){const _0x413429=_0x28bae4[_0x121d38(0x11c)]();_0x18325e[_0x121d38(0x1e1)](_0x3d27ec[_0x121d38(0x1a8)],_0x18325e[_0x121d38(0x1ab)])&&_0x3d27ec[_0x121d38(0x13f)]?(_0x413429[TestFrameworkConstants[_0x121d38(0x180)]]=_0x3d27ec[_0x121d38(0x188)]||_0x18325e['zHnrM'],_0x413429[TestFrameworkConstants['KEY_HOOK_FAILURE_REASON']]=_0x3d27ec[_0x121d38(0x167)]||'',_0x413429[TestFrameworkConstants[_0x121d38(0x17b)]]=_0x3d27ec['failure_data']):_0x413429[TestFrameworkConstants[_0x121d38(0x1ae)]]=_0x18325e[_0x121d38(0x135)];_0x18325e['eirzy'](_0x57635a,TestFrameworkConstants[_0x121d38(0x17e)])&&(_0x413429[TestFrameworkConstants['KEY_HOOK_RESULT']]=_0x57635a);_0x413429[TestFrameworkConstants[_0x121d38(0x155)]]=_0x3d27ec[_0x121d38(0x154)]||new Date()[_0x121d38(0x13d)](),_0x413429[TestFrameworkConstants[_0x121d38(0x18a)]]=_0x501102;const _0x4cffcd=_0x413429[TestFrameworkConstants[_0x121d38(0x1be)]];!_0x27df0d[_0x1e26be]&&(_0x27df0d[_0x1e26be]=[]),_0x27df0d[_0x1e26be][_0x121d38(0x12a)](_0x413429),_0x1fde10[_0xa25931][TestFrameworkConstants['KEY_HOOK_LAST_FINISHED']]=_0x1e26be;}}}return logger[_0x121d38(0x11b)](_0x121d38(0x159)+_0x3d27ec[_0x121d38(0x152)]+_0x121d38(0x149)+_0x1ed98e+'\x20for\x20test:\x20'+_0xa25931),_0x1fde10;}['createTestFrameworkEventPayload'](_0x25778d){const _0x3bb69e=a70_0x150d61,_0x26c5d2={};_0x26c5d2[_0x3bb69e(0x11f)]=_0x3bb69e(0x128);const _0x3cf08a=_0x26c5d2;try{const _0x3b8632=_0x25778d[_0x3bb69e(0x1d5)]?_0x25778d['test']['id']:_0x25778d[_0x3bb69e(0x12c)][_0x3bb69e(0x129)],_0x555694=_0x25778d['instance'],_0xd027af=_0x555694[_0x3bb69e(0x161)](),_0x2c0f09=_0x555694[_0x3bb69e(0x176)]()[_0x3bb69e(0x13c)](_0x3b8632);if(!_0x2c0f09)return logger[_0x3bb69e(0x11b)](_0x3bb69e(0x14d)+_0x3b8632),{};logger[_0x3bb69e(0x11b)]('createTestFrameworkEventPayload\x20testId:\x20'+_0x3b8632);const {[TestFrameworkConstants[_0x3bb69e(0x13a)]]:_0x23f60a='',[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x26141b='',[TestFrameworkConstants['KEY_TEST_STARTED_AT']]:_0x2e6df4='',[TestFrameworkConstants[_0x3bb69e(0x1e0)]]:_0x66b0c7=''}=_0x2c0f09,_0x5883=_0x555694[_0x3bb69e(0x19f)]()[_0x3bb69e(0x1bb)]()[_0x3bb69e(0x16e)]('.')[0x1],_0x116d03=_0x555694[_0x3bb69e(0x189)]()[_0x3bb69e(0x1bb)]()[_0x3bb69e(0x16e)]('.')[0x1],_0x67df51=global?.['__workerDetails']?.[_0x3bb69e(0x181)]?.[_0x3bb69e(0x182)],_0x4348e6=_0x555694['getRef'](),_0x5c2c3e=Buffer[_0x3bb69e(0x157)](JSON[_0x3bb69e(0x1c4)](_0x2c0f09))[_0x3bb69e(0x1bb)](_0x3cf08a[_0x3bb69e(0x11f)]),_0x19e960={'hash':_0xd027af[_0x3bb69e(0x1bd)](),'threadId':_0xd027af[_0x3bb69e(0x1bc)]()['toString'](),'processId':_0xd027af[_0x3bb69e(0x194)]()['toString']()},_0x438211={};_0x438211[_0x3bb69e(0x122)]=_0x67df51,_0x438211[_0x3bb69e(0x138)]=_0x23f60a,_0x438211[_0x3bb69e(0x134)]=_0x26141b,_0x438211['testFrameworkState']=_0x5883,_0x438211['hookState']=_0x116d03,_0x438211['startedAt']=_0x2e6df4,_0x438211[_0x3bb69e(0x125)]=_0x66b0c7,_0x438211[_0x3bb69e(0x17f)]=_0x4348e6,_0x438211[_0x3bb69e(0x1a7)]=_0x5c2c3e,_0x438211['executionContext']=_0x19e960;const _0x296104=_0x438211;return logger[_0x3bb69e(0x11b)](_0x3bb69e(0x1d6)+_0x3b8632+_0x3bb69e(0x179)+_0x5883+'\x20hookState:\x20'+_0x116d03),_0x296104;}catch(_0x1d55bd){return logger['error'](_0x3bb69e(0x18b)+util[_0x3bb69e(0x150)](_0x1d55bd)),{};}}async[a70_0x150d61(0x1c1)](_0x221f98,_0x518f02,_0x2929c1){const _0x328afd=a70_0x150d61,_0x56bcd9={'jEjic':function(_0x111859,_0x3f17be,_0x517ba){return _0x111859(_0x3f17be,_0x517ba);},'BwxkH':function(_0x18c007,_0x562716){return _0x18c007===_0x562716;},'vGrwC':'sendLogCreatedEvent:\x20No\x20logs\x20found,\x20skipping','xZuwd':function(_0x23fbac,_0x35fccf){return _0x23fbac/_0x35fccf;},'EArKR':function(_0x4351b5,_0x5a4552){return _0x4351b5<_0x5a4552;},'WfDxk':function(_0x673152,_0x55cf50){return _0x673152*_0x55cf50;},'eIZgG':function(_0x4d55fd,_0x21bb2d){return _0x4d55fd+_0x21bb2d;},'ODkOn':'Cucumber\x20log\x20created\x20event'};try{const _0x1eac34=_0x2929c1['testUUID'],_0x454b96=_0x221f98[_0x328afd(0x176)]()[_0x328afd(0x13c)](_0x1eac34),{[TestFrameworkConstants[_0x328afd(0x13a)]]:_0x543e86='',[TestFrameworkConstants[_0x328afd(0x1aa)]]:_0x21e212=''}=_0x454b96,_0x5cc80b=TestInfo[_0x328afd(0x130)](_0x1eac34),_0x31cba1=TestInfo['getTestDetails'](_0x1eac34)[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x1a5919=_0x56bcd9['jEjic'](getMediaArtifactsLogs,_0x31cba1,_0x221f98[_0x328afd(0x176)]()[_0x328afd(0x13c)](_0x1eac34)[TestFrameworkConstants['KEY_TEST_UUID']]),_0x4fa399=(_0x5cc80b||[])['concat'](_0x1a5919||[]);if(!_0x4fa399||_0x56bcd9['BwxkH'](_0x4fa399[_0x328afd(0x1a3)],0x0)){logger[_0x328afd(0x11b)](_0x56bcd9['vGrwC']);return;}const _0x298a2b=0x28,_0x4c560f=Math[_0x328afd(0x177)](_0x56bcd9['xZuwd'](_0x4fa399[_0x328afd(0x1a3)],_0x298a2b));for(let _0xf99cca=0x0;_0x56bcd9['EArKR'](_0xf99cca,_0x4c560f);_0xf99cca++){const _0x565340=_0x56bcd9[_0x328afd(0x1a4)](_0xf99cca,_0x298a2b),_0x13e411=_0x56bcd9[_0x328afd(0x18c)](_0x565340,_0x298a2b),_0x182a06=_0x4fa399[_0x328afd(0x148)](_0x565340,_0x13e411),_0x5f1d11={'platformIndex':'0','logs':_0x182a06,'testFrameworkName':_0x543e86,'testFrameworkVersion':_0x21e212,'testFrameworkState':_0x518f02['toString']()['split']('.')[0x1]};logger[_0x328afd(0x11b)](_0x328afd(0x1dd)+_0x1eac34+_0x328afd(0x168)+_0x56bcd9[_0x328afd(0x18c)](_0xf99cca,0x1)+'/'+_0x4c560f+_0x328afd(0x1b1)+util[_0x328afd(0x15f)](_0x5f1d11));const _0x230471=await GrpcClient[_0x328afd(0x174)]()['logCreatedEvent'](_0x5f1d11);logger[_0x328afd(0x11b)]('sendLogCreatedEvent:\x20for\x20testId:\x20'+_0x1eac34+_0x328afd(0x168)+_0x56bcd9[_0x328afd(0x18c)](_0xf99cca,0x1)+'/'+_0x4c560f+_0x328afd(0x136)+util[_0x328afd(0x15f)](_0x230471));}}catch(_0x175e4a){logger[_0x328afd(0x143)](_0x328afd(0x1d3)+util[_0x328afd(0x150)](_0x175e4a));}logger['debug'](_0x56bcd9[_0x328afd(0x1d2)]);}[a70_0x150d61(0x1dc)](_0x40201f,_0x31f718,_0x33e665,_0xcaff8d,_0x169502){const _0x1223ea=a70_0x150d61,_0x3c21a5={'testId':_0x31f718,'testFrameworkState':_0x33e665,'hookState':_0xcaff8d,'args':_0x169502,'timestamp':new Date()['toISOString']()};_0x40201f[_0x1223ea(0x165)](_0x31f718,_0x3c21a5),logger[_0x1223ea(0x11b)]('Stored\x20pending\x20hook\x20for\x20testId:\x20'+_0x31f718+_0x1223ea(0x193)+_0x33e665+_0x1223ea(0x16b)+_0xcaff8d);}async[a70_0x150d61(0x1c6)](_0x2b3c4a,_0x2b4916){const _0x48c38a=a70_0x150d61,_0x4116c9={};_0x4116c9[_0x48c38a(0x1a6)]=function(_0x41a4f9,_0x1213ca){return _0x41a4f9>_0x1213ca;};const _0x5b9a45=_0x4116c9;if(!_0x2b3c4a['hasPendingHooks'](_0x2b4916))return;const _0x5c7914=_0x2b3c4a[_0x48c38a(0x1d7)](_0x2b4916);logger[_0x48c38a(0x11b)]('Processing\x20'+_0x5c7914[_0x48c38a(0x1a3)]+_0x48c38a(0x15b)+_0x2b4916);for(const _0x66c3c1 of _0x5c7914){try{const _0xe79a9=await this[_0x48c38a(0x173)](_0x2b3c4a,_0x66c3c1['testFrameworkState'],_0x66c3c1['hookState'],_0x66c3c1[_0x48c38a(0x14c)]);_0xe79a9&&_0x5b9a45[_0x48c38a(0x1a6)](Object['keys'](_0xe79a9)[_0x48c38a(0x1a3)],0x0)&&_0x2b3c4a[_0x48c38a(0x190)](_0xe79a9),await this[_0x48c38a(0x19c)](_0x2b3c4a,_0x66c3c1[_0x48c38a(0x172)],_0x66c3c1[_0x48c38a(0x12b)],_0x66c3c1[_0x48c38a(0x14c)]);}catch(_0x30e3c3){logger[_0x48c38a(0x143)](_0x48c38a(0x17a)+_0x2b4916+',\x20error:\x20'+_0x30e3c3);}}_0x2b3c4a[_0x48c38a(0x183)](_0x2b4916),logger['debug'](_0x48c38a(0x185)+_0x2b4916);}}function a70_0xa051(_0x1ceb66,_0x5a7932){const _0xb27f9c=a70_0xb27f();return a70_0xa051=function(_0xa05125,_0x2e472c){_0xa05125=_0xa05125-0x119;let _0x2e7896=_0xb27f9c[_0xa05125];return _0x2e7896;},a70_0xa051(_0x1ceb66,_0x5a7932);}function a70_0xb27f(){const _0x496f02=['cjUzH','hooks','jElvP',',\x20state=','2807563kSTgMD','rerun_name','debug','pop','KEY_HOOKS_STARTED','1694nXiBzO','vbULN','saVpV','./testFramework','platformIndex','Ldwkh','location','endedAt','KEY_TEST_SCOPES','49779UIXHZV','base64','test_run_id','push','hookState','hookData','PRE','key','code','readLogObjects','TEST','KEY_TEST_FAILURE_REASON','started_at','testFrameworkVersion','zhXAe','\x20response=','UnhandledError','testFrameworkName','1497714YnkbxR','KEY_TEST_FRAMEWORK_NAME','STKLx','get','toISOString','\x20\x20and\x20args\x20=\x20','failure_data','KEY_TEST_META','KEY_TEST_RESULT_AT','KEY_TEST_FILE_PATH','error','14LYIeqz','customRerunParam','passed','failure','slice','\x20with\x20id\x20','getTestFrameworksVersions','../cliUtils.js','args','createTestFrameworkEventPayload:\x20No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','KuVoR','KEY_LOGS','format','instance','hook_type','exports','finished_at','KEY_EVENT_ENDED_AT','sCxSC','from','matchHookRegex','Tracked\x20cucumber\x20hook\x20event:\x20','trackCucumberInstance:\x20saved\x20instance\x20contextId=','\x20pending\x20hooks\x20for\x20testId:\x20','scopes','wjhUW','getTestUUID','inspect','../../../helpers/classLogger.js','getContext','KEY_AUTOMATE_SESSION_NAME','Updated\x20cucumber\x20test\x20result:\x20','KEY_TEST_RESULT','addPendingHook','\x20and\x20args\x20=\x20','failure_reason','\x20batch\x20','parseCucumberTestResult','CucumberTestFramework',',\x20hookState:\x20','KEY_HOOK_LOGS','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test','split','KEY_TEST_NAME','1719jTplBy','\x20&\x20hookState=','testFrameworkState','trackHookEvent','getInstance','1096UnjnCj','getAllData','ceil','failed','\x20testState:\x20','Error\x20processing\x20pending\x20hook\x20for\x20testId:\x20','KEY_HOOK_FAILURE','425040icwUxM','getTrackedInstance','DEFAULT_HOOK_RESULT','uuid','KEY_HOOK_FAILURE_TYPE','workerInfo','parallelIndex','removePendingHooks','CaRaA','Cleared\x20processed\x20pending\x20hooks\x20for\x20testId:\x20','../instances/testFrameworkInstance.js','trackEvent:\x20unsupported\x20testFrameworkState=','failure_type','getCurrentHookState','KEY_CUSTOM_TAGS','Error\x20in\x20createTestFrameworkEventPayload:\x20','eIZgG','thRIw','KEY_TEST_UUID','KEY_HOOK_NAME','addMultipleEntries','KEY_TEST_FAILURE','jOCOl',',\x20state:\x20','getProcessId','mKHcq','name','KEY_TEST_CODE','testData','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','testUUID','YSUsZ','runHooks','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test\x20result','52GLMwmp','getCurrentTestState','NONE','../state/hookState.js','No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','length','WfDxk','POST','xLFut','eventJson','result','TlllV','KEY_TEST_FRAMEWORK_VERSION','JLIZa','KEY_TEST_LOGS','INIT_TEST','KEY_HOOK_RESULT','XIniT','VFHOx','\x20payload=','KEY_TEST_STARTED_AT','../state/testFrameworkState.js','KEY_TEST_FAILURE_TYPE','tags','trackCucumberInstance','TaASP','trackEvent:\x20Test\x20Framework\x20instance\x20not\x20found','KEY_TEST_TAGS','getTestDetails','toString','getThreadId','getId','KEY_HOOK_ID','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','KEY_TEST_LOCATION','sendLogCreatedEvent','Parsed\x20cucumber\x20test:\x20','No\x20hook\x20data\x20provided\x20for\x20cucumber\x20hook\x20event','stringify','\x20&\x20hook\x20=\x20','processPendingHooks','resolveInstance','meta','KEY_TEST_ATTACHMENTS','trackHookEvent:\x20Hook\x20List\x20in\x20Post\x20','243azWxuk','setTestDetails','KEY_HOOKS_FINISHED','KEY_TEST_RERUN_NAME','finishedAt','util','getCurrentInstanceName','ODkOn','sendLogCreatedEvent:\x20Error\x20in\x20sending\x20log\x20events:\x20','vRZtE','test','createTestFrameworkEventPayload:\x20complete\x20for\x20testId:\x20','getPendingHooks','getTestFrameworks','trackHookEvent:\x20Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','xduwt','252625mKmRWU','storePendingHook','sendLogCreatedEvent:\x20for\x20testId:\x20','parseCucumberTest','trackEvent','KEY_TEST_ENDED_AT'];a70_0xb27f=function(){return _0x496f02;};return a70_0xb27f();}module[a70_0x150d61(0x153)]=CucumberTestFramework;