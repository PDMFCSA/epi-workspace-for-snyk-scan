const a70_0x52c991=a70_0x17c2;(function(_0x5587b2,_0x4059a7){const _0x542bd5=a70_0x17c2,_0x3e85b0=_0x5587b2();while(!![]){try{const _0xab5614=parseInt(_0x542bd5(0x141))/0x1*(parseInt(_0x542bd5(0xb6))/0x2)+-parseInt(_0x542bd5(0x165))/0x3+parseInt(_0x542bd5(0x117))/0x4*(-parseInt(_0x542bd5(0xc9))/0x5)+-parseInt(_0x542bd5(0x12c))/0x6+parseInt(_0x542bd5(0xce))/0x7+-parseInt(_0x542bd5(0x166))/0x8+parseInt(_0x542bd5(0xb4))/0x9;if(_0xab5614===_0x4059a7)break;else _0x3e85b0['push'](_0x3e85b0['shift']());}catch(_0x197d37){_0x3e85b0['push'](_0x3e85b0['shift']());}}}(a70_0x3db2,0x2dab3));const TestFramework=require('./testFramework'),TestFrameworkState=require(a70_0x52c991(0x159)),HookState=require(a70_0x52c991(0xe2)),{createClassLogger}=require(a70_0x52c991(0x11d)),TestFrameworkInstance=require(a70_0x52c991(0xad)),CLIUtils=require('../cliUtils.js'),TrackedInstance=require('../instances/trackedInstance.js'),TestFrameworkConstants=require(a70_0x52c991(0x158)),{getManualUploadLogs,getMediaArtifactsLogs}=require(a70_0x52c991(0xbd)),logger=createClassLogger(a70_0x52c991(0x132)),{v4:uuidv4}=require(a70_0x52c991(0x16d)),util=require(a70_0x52c991(0x130)),TestInfo=require(a70_0x52c991(0x119)),GrpcClient=require(a70_0x52c991(0xd3));function a70_0x17c2(_0x41871f,_0x362202){const _0x3db2d2=a70_0x3db2();return a70_0x17c2=function(_0x17c229,_0x2131cc){_0x17c229=_0x17c229-0xa2;let _0x1e45cf=_0x3db2d2[_0x17c229];return _0x1e45cf;},a70_0x17c2(_0x41871f,_0x362202);}function a70_0x3db2(){const _0x4080d9=['getId','format','platformIndex','aatXA','KEY_CUSTOM_TAGS','gWqAv','gMbll','\x20for\x20test:\x20','name','createTestFrameworkEventPayload','5GpQcoO','QhkTJ','sendLogCreatedEvent','addPendingHook','getTestFrameworks','1622222LPtwTa','test_run_id','hook_type','inspect','toISOString','../grpcClient','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','boEwH','LewMN','kXNMz','from','fhTSD','rerun_name','LOG_REPORT','KEY_TEST_ATTACHMENTS','UnhandledError','parseCucumberTest','KEY_TEST_RESULT_AT','No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','hooks','../state/hookState.js','KEY_TEST_FAILURE_TYPE','KEY_TEST_FRAMEWORK_VERSION','KEY_TEST_SCOPE','KEY_EVENT_STARTED_AT','failed','push','Updated\x20cucumber\x20test\x20result:\x20','logCreatedEvent','result','\x20payload=','getProcessId','failure_type','KEY_HOOK_FAILURE_TYPE','workerInfo','getAllData','key','trackCucumberInstance:\x20created\x20instance\x20for\x20target=','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','trackEvent:\x20Test\x20Framework\x20instance\x20not\x20found','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test\x20result','testFrameworkName','KEY_LOGS','KEY_TEST_FAILURE','KEY_HOOK_ID','getTrackedInstance','YEHEw','instance','KEY_TEST_FAILURE_REASON','trackCucumberInstance','trackHookEvent:\x20Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','xdrcj','DEFAULT_TEST_RESULT','KEY_TEST_NAME','PRE','KEY_TEST_LOCATION','NONE','code','trackHookEvent:\x20Hook\x20List\x20in\x20Post\x20','__workerDetails','\x20&\x20hookState=','toString','No\x20hook\x20data\x20provided\x20for\x20cucumber\x20hook\x20event','KEY_EVENT_ENDED_AT','error',',\x20storing\x20as\x20pending\x20hook','lOCLo','lvhNL','KEY_HOOK_LOGS','KEY_HOOKS_FINISHED','finishedAt','testUUID','endedAt','809364FsTKTs','processPendingHooks','../TestInfo.js','meta','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test','setTrackedInstance','../../../helpers/classLogger.js','\x20&\x20hook\x20=\x20','testData','trackEvent:\x20unsupported\x20testFrameworkState=','Unldi','\x20and\x20args\x20=\x20','xsNZH','Vdull','createTestFrameworkEventPayload:\x20complete\x20for\x20testId:\x20','base64','Error\x20processing\x20pending\x20hook\x20for\x20testId:\x20','\x20with\x20result:\x20','location','keys','getTestUUID','1153866wUEHYt','zFBxE','KEY_HOOK_RESULT','createTestFrameworkEventPayload:\x20No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','util','getCurrentTestState','CucumberTestFramework','customRerunParam','sendLogCreatedEvent:\x20No\x20logs\x20found,\x20skipping','concat','runHooks','getTestFrameworksVersions','KEY_TEST_RERUN_NAME','split','sendLogCreatedEvent:\x20Error\x20in\x20sending\x20log\x20events:\x20','KEY_HOOK_FAILURE','parallelIndex','getTestDetails','MGEPI','KEY_HOOK_FAILURE_REASON','oYFzw','1PfZANj','trackHookEvent','KEY_TEST_ENDED_AT','\x20target=','DEFAULT_HOOK_RESULT','\x20hookState:\x20','KEY_TEST_STARTED_AT','\x20testState:\x20','MEQrt','KEY_TEST_UUID','Cucumber\x20log\x20created\x20event','getInstance','failure_data','Parsed\x20cucumber\x20test:\x20','KEY_TEST_META','hookState','KEY_TEST_ID','INIT_TEST',',\x20error:\x20','stringify','KEY_TEST_RESULT',',\x20state:\x20','GyKyp','./constants/testFrameworkConstants.js','../state/testFrameworkState.js','\x20with\x20id\x20','cjOUV','trackEvent','createContext','matchHookRegex','addMultipleEntries','KEY_TEST_FILE_PATH','body','KEY_TEST_FRAMEWORK_NAME','storePendingHook','get','108765bUJCRy','309200YjAmiA','getCurrentHookState','Processing\x20','hasPendingHooks','POST','\x20batch\x20','getPendingHooks','uuid','tags','createTestFrameworkEventPayload\x20testId:\x20','unknown','QNGZk','ixRuK','test','testFrameworkState','oICsS','parseCucumberTestResult','setTestDetails','sendLogCreatedEvent:\x20for\x20testId:\x20','TEST','args','idrrm','AEvZS','../instances/testFrameworkInstance.js','KEY_HOOKS_STARTED','KEY_TEST_CODE','removePendingHooks','wEymQ','hookData','\x20\x20and\x20args\x20=\x20','1634499JBldSZ','debug','486518iTCSjK','length','startedAt','ADuAA','PCakp','scopes','failure_reason','../../../helpers/helper.js','file_name'];a70_0x3db2=function(){return _0x4080d9;};return a70_0x3db2();}class CucumberTestFramework extends TestFramework{constructor(_0x3bb984,_0x57a203,_0x8601ef){super(_0x3bb984,_0x57a203,_0x8601ef);}async[a70_0x52c991(0x15c)](_0x3cbb1c,_0x522c7e,_0x46047c={}){const _0xd7c722=a70_0x52c991,_0x333a87={};_0x333a87[_0xd7c722(0xba)]=_0xd7c722(0xf5),_0x333a87[_0xd7c722(0x101)]=function(_0x544e9d,_0xedfac4){return _0x544e9d===_0xedfac4;},_0x333a87[_0xd7c722(0x123)]=function(_0x6cefca,_0x590b44){return _0x6cefca===_0x590b44;},_0x333a87[_0xd7c722(0x13e)]=_0xd7c722(0xf4);const _0x113e5a=_0x333a87;await super[_0xd7c722(0x15c)](_0x3cbb1c,_0x522c7e,_0x46047c);const _0x5f2036=this['resolveInstance'](_0x3cbb1c,_0x522c7e,_0x46047c);if(!_0x5f2036){logger[_0xd7c722(0xb5)](_0x113e5a['PCakp']);return;}try{let _0x75df23,_0x3271b9;switch(_0x3cbb1c){case TestFrameworkState[_0xd7c722(0xa9)]:_0x75df23=_0x46047c[_0xd7c722(0xa3)],_0x3271b9=TestInfo[_0xd7c722(0x12b)](_0x75df23['id']);if(_0x113e5a['xdrcj'](_0x522c7e,HookState[_0xd7c722(0x104)])){logger[_0xd7c722(0xb5)](_0xd7c722(0xd4)+_0x75df23['id']);const _0x5b4802={};_0x5b4802[_0xd7c722(0x115)]=_0x3271b9,_0x5b4802[_0xd7c722(0x11f)]=_0x75df23,_0x5f2036[_0xd7c722(0x15f)](this[_0xd7c722(0xde)](_0x5b4802)),logger[_0xd7c722(0xb5)]('trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20'+_0x75df23['id']),await this[_0xd7c722(0x118)](_0x5f2036,_0x75df23['id']);}else{if(_0x113e5a[_0xd7c722(0x123)](_0x522c7e,HookState[_0xd7c722(0x16a)])){const _0x2127d3={};_0x2127d3[_0xd7c722(0x115)]=_0x3271b9,_0x2127d3[_0xd7c722(0x11f)]=_0x75df23,_0x5f2036['addMultipleEntries'](this[_0xd7c722(0xa6)](_0x2127d3)),await this[_0xd7c722(0x118)](_0x5f2036,_0x75df23['id']);}}break;case TestFrameworkState[_0xd7c722(0xdb)]:_0x113e5a[_0xd7c722(0x101)](_0x522c7e,HookState[_0xd7c722(0x16a)])&&await this[_0xd7c722(0xcb)](_0x5f2036,_0x3cbb1c,_0x46047c);break;default:if(CLIUtils[_0xd7c722(0x15e)](_0x3cbb1c[_0xd7c722(0x10b)]()['split']('.')[0x1])){const _0x2f84a4=await this[_0xd7c722(0x142)](_0x5f2036,_0x3cbb1c,_0x522c7e,_0x46047c);_0x5f2036['addMultipleEntries'](_0x2f84a4);}else logger[_0xd7c722(0xb5)](_0xd7c722(0x120)+_0x3cbb1c+_0xd7c722(0x10a)+_0x522c7e);break;}}catch(_0x5b169f){logger[_0xd7c722(0x10e)](util[_0xd7c722(0xc0)](_0x113e5a[_0xd7c722(0x13e)],_0x3cbb1c,_0x522c7e,_0x46047c[_0xd7c722(0xb7)],_0x5b169f));}_0x46047c[_0xd7c722(0xfd)]=_0x5f2036,await this['runHooks'](_0x5f2036,_0x3cbb1c,_0x522c7e,_0x46047c);}['resolveInstance'](_0x4498b9,_0x591a1b,_0x1dce7c={}){const _0x3bd19a=a70_0x52c991,_0x3528ed={};_0x3528ed['MEQrt']=function(_0x22c3f6,_0x2f4590){return _0x22c3f6===_0x2f4590;};const _0x1b87c0=_0x3528ed;let _0x197764=null;return(_0x1b87c0[_0x3bd19a(0x149)](_0x4498b9,TestFrameworkState[_0x3bd19a(0x152)])||_0x1b87c0[_0x3bd19a(0x149)](_0x4498b9,TestFrameworkState[_0x3bd19a(0x106)]))&&this['trackCucumberInstance'](_0x4498b9,_0x1dce7c),_0x197764=TestFramework[_0x3bd19a(0xfb)](),_0x197764;}[a70_0x52c991(0xff)](_0x3494c8,_0x203f20){const _0x4c293c=a70_0x52c991,_0x1134dd=CLIUtils['getCurrentInstanceName'](),_0xabf730=TrackedInstance[_0x4c293c(0x15d)](_0x1134dd);let _0xbebe09=null;logger[_0x4c293c(0xb5)](_0x4c293c(0xf3)+_0x1134dd+',\x20state='+_0x3494c8),_0xbebe09=new TestFrameworkInstance(_0xabf730,this['getTestFrameworks'](),this[_0x4c293c(0x137)](),_0x3494c8,HookState[_0x4c293c(0x106)]),TestFramework[_0x4c293c(0x11c)](_0xabf730,_0xbebe09),logger[_0x4c293c(0xb5)]('trackCucumberInstance:\x20saved\x20instance\x20contextId='+_0xabf730[_0x4c293c(0xbf)]()+_0x4c293c(0x144)+_0x1134dd);}[a70_0x52c991(0xde)](_0x14f380){const _0xef964e=a70_0x52c991,_0x3dc60b={};_0x3dc60b[_0xef964e(0xd9)]=_0xef964e(0x11b);const _0x1f90f9=_0x3dc60b,{testUUID:_0x490421,testData:_0x4c466e}=_0x14f380;if(!_0x4c466e||!_0x4c466e[_0xef964e(0x16d)])return logger[_0xef964e(0xb5)](_0x1f90f9['fhTSD']),{};const _0xe3611b=_0x490421,_0x135da0=_0x4c466e['uuid'],_0x52c395=this[_0xef964e(0xcd)]()[0x0],_0x4ef069=this['getTestFrameworksVersions'](),_0x1f0f73={[TestFrameworkConstants[_0xef964e(0x162)]]:_0x52c395,[TestFrameworkConstants[_0xef964e(0xe4)]]:_0x4ef069[_0x52c395],[TestFrameworkConstants['KEY_TEST_LOGS']]:[],[TestFrameworkConstants[_0xef964e(0x113)]]:{},[TestFrameworkConstants['KEY_HOOKS_STARTED']]:{},[TestFrameworkConstants['KEY_TEST_UUID']]:_0xe3611b,[TestFrameworkConstants['KEY_TEST_RESULT']]:TestFrameworkConstants[_0xef964e(0x102)],[TestFrameworkConstants['KEY_AUTOMATE_SESSION_NAME']]:_0x4c466e[_0xef964e(0xc7)]||'',[TestFrameworkConstants[_0xef964e(0x160)]]:_0x4c466e[_0xef964e(0xbe)]||'',[TestFrameworkConstants[_0xef964e(0x151)]]:_0x135da0,[TestFrameworkConstants[_0xef964e(0x103)]]:_0x4c466e[_0xef964e(0xc7)]||'',[TestFrameworkConstants[_0xef964e(0x105)]]:_0x4c466e[_0xef964e(0x129)]||'',[TestFrameworkConstants[_0xef964e(0xaf)]]:_0x4c466e[_0xef964e(0x161)]?.[_0xef964e(0x107)]||null,[TestFrameworkConstants['KEY_TEST_TAGS']]:_0x4c466e[_0xef964e(0x16e)]||[],[TestFrameworkConstants['KEY_TEST_STARTED_AT']]:_0x4c466e[_0xef964e(0xb8)]||new Date()[_0xef964e(0xd2)](),[TestFrameworkConstants[_0xef964e(0xe5)]]:_0x4c466e[_0xef964e(0xbb)]?.[0x0]||'',[TestFrameworkConstants['KEY_TEST_SCOPES']]:_0x4c466e['scopes']||[],[TestFrameworkConstants[_0xef964e(0x138)]]:_0x4c466e[_0xef964e(0x133)]?.[_0xef964e(0xda)]||_0x4c466e['name']||'',[TestFrameworkConstants[_0xef964e(0xc3)]]:{},[TestFrameworkConstants[_0xef964e(0x14f)]]:_0x4c466e[_0xef964e(0x11a)]||{}};TestInfo[_0xef964e(0xa7)](_0x135da0,_0x1f0f73),logger['debug'](_0xef964e(0x14e)+_0x4c466e[_0xef964e(0xc7)]+'\x20with\x20UUID:\x20'+_0xe3611b);const _0xc196e1={};return _0xc196e1[_0x135da0]=_0x1f0f73,_0xc196e1;}[a70_0x52c991(0xa6)](_0x101d67){const _0x23e821=a70_0x52c991,_0xdf0487={'ErJxR':_0x23e821(0xf6),'cjOUV':_0x23e821(0x170),'Unldi':function(_0xd73395,_0x2dc53b){return _0xd73395===_0x2dc53b;},'wEymQ':'failed','QNGZk':_0x23e821(0xdd),'gWqAv':function(_0x21706c,_0x233457,_0x1802a1){return _0x21706c(_0x233457,_0x1802a1);},'oYFzw':function(_0x2e7901,_0x58ea9f){return _0x2e7901>_0x58ea9f;}},{testUUID:_0x44ab0f,testData:_0x1548cd}=_0x101d67;if(!_0x1548cd||!_0x1548cd['uuid'])return logger['debug'](_0xdf0487['ErJxR']),{};const _0x28a316=this['resolveInstance'](TestFrameworkState[_0x23e821(0xa9)],HookState[_0x23e821(0x16a)]),_0x1a97b9=_0x1548cd[_0x23e821(0x16d)],_0x55affb=TestInfo['getTestDetails'](_0x1a97b9)||{},_0x2abb79=_0x55affb?_0x55affb[TestFrameworkConstants[_0x23e821(0xc3)]]||{}:{},_0x2d575d={..._0x55affb,[TestFrameworkConstants[_0x23e821(0x155)]]:_0x1548cd[_0x23e821(0xeb)]||_0xdf0487[_0x23e821(0x15b)],[TestFrameworkConstants[_0x23e821(0x143)]]:_0x1548cd[_0x23e821(0x114)]||new Date()['toISOString'](),[TestFrameworkConstants[_0x23e821(0xdf)]]:new Date()['toISOString'](),[TestFrameworkConstants[_0x23e821(0xc3)]]:_0x2abb79,[TestFrameworkConstants[_0x23e821(0xf8)]]:[],[TestFrameworkConstants['KEY_TEST_META']]:_0x1548cd[_0x23e821(0x11a)]||{}};_0xdf0487[_0x23e821(0x121)](_0x1548cd[_0x23e821(0xeb)],_0xdf0487[_0x23e821(0xb1)])&&_0x1548cd['failure']&&(_0x2d575d[TestFrameworkConstants[_0x23e821(0xe3)]]=_0x1548cd[_0x23e821(0xee)]||_0xdf0487[_0x23e821(0x171)],_0x2d575d[TestFrameworkConstants[_0x23e821(0xfe)]]=_0x1548cd['failure_reason']||'',_0x2d575d[TestFrameworkConstants[_0x23e821(0xf9)]]=_0x1548cd['failure']);const _0x150752=TestInfo[_0x23e821(0x13d)](_0x1a97b9)[TestFrameworkConstants[_0x23e821(0xdc)]]||{},_0x4df76f=_0xdf0487[_0x23e821(0xc4)](getManualUploadLogs,_0x150752,_0x28a316[_0x23e821(0xf1)]()[_0x23e821(0x164)](_0x1a97b9)[TestFrameworkConstants[_0x23e821(0x14a)]]);if(_0xdf0487[_0x23e821(0x140)](_0x4df76f[_0x23e821(0xb7)],0x0)){const _0x3806f6=_0x2d575d[TestFrameworkConstants[_0x23e821(0xf8)]]||[];_0x2d575d[TestFrameworkConstants[_0x23e821(0xf8)]]=[..._0x3806f6,..._0x4df76f];}_0x1548cd[_0x23e821(0xe1)]&&_0xdf0487[_0x23e821(0x140)](_0x1548cd[_0x23e821(0xe1)][_0x23e821(0xb7)],0x0)&&(_0x2d575d[TestFrameworkConstants[_0x23e821(0x113)]]=_0x1548cd[_0x23e821(0xe1)]);TestInfo[_0x23e821(0xa7)](_0x1a97b9,_0x2d575d),logger['debug'](_0x23e821(0xe9)+_0x1548cd[_0x23e821(0xc7)]+_0x23e821(0x128)+_0x1548cd[_0x23e821(0xeb)]);const _0x1b51c3={};return _0x1b51c3[_0x1a97b9]=_0x2d575d,_0x1b51c3;}async['trackHookEvent'](_0x168efa,_0x1acf16,_0xf250a4,_0x9a8ebb){const _0x55abe3=a70_0x52c991,_0x50ce81={'GyKyp':_0x55abe3(0x10c),'gMbll':function(_0x554551){return _0x554551();},'lOCLo':function(_0x4fb42c,_0x30359e){return _0x4fb42c in _0x30359e;},'jITSj':function(_0x3d16c7,_0x3e4baf){return _0x3d16c7 in _0x3e4baf;},'AEvZS':function(_0x2b17ac,_0x409380){return _0x2b17ac===_0x409380;},'fEQsp':function(_0x1bad01,_0x1f5b6a){return _0x1bad01===_0x1f5b6a;},'ixRuK':function(_0x1e9e82,_0xad0c55){return _0x1e9e82>_0xad0c55;},'lvhNL':function(_0x9c9b32,_0x370097){return _0x9c9b32===_0x370097;},'LewMN':_0x55abe3(0xe7),'beTdL':_0x55abe3(0xdd),'qWaDu':'passed','Vdull':function(_0x25a9c8,_0x199a9b){return _0x25a9c8!==_0x199a9b;}},{hookData:_0x237500}=_0x9a8ebb;if(!_0x237500)return logger[_0x55abe3(0xb5)](_0x50ce81[_0x55abe3(0x157)]),{};const _0x12bb58=_0x237500[_0x55abe3(0x16d)]||_0x50ce81[_0x55abe3(0xc5)](uuidv4),_0x2c0e1a=_0x237500[_0x55abe3(0xcf)],_0x25cd25=_0x1acf16[_0x55abe3(0x10b)]()[_0x55abe3(0x139)]('.')[0x1],_0x4edd66=TestInfo[_0x55abe3(0x13d)](_0x2c0e1a)[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{},_0x3335b3=_0x168efa['getAllData']()[_0x55abe3(0x164)](_0x2c0e1a);if(!_0x3335b3)return logger[_0x55abe3(0xb5)](_0x55abe3(0xe0)+_0x2c0e1a+_0x55abe3(0x10f)),this[_0x55abe3(0x163)](_0x168efa,_0x2c0e1a,_0x1acf16,_0xf250a4,_0x9a8ebb),{};let _0x5ed888=_0x3335b3[TestFrameworkConstants[_0x55abe3(0xae)]];!_0x5ed888&&(_0x5ed888={});!_0x50ce81[_0x55abe3(0x110)](_0x25cd25,_0x5ed888)&&(_0x5ed888[_0x25cd25]=[]);let _0x54339e=_0x3335b3[TestFrameworkConstants[_0x55abe3(0x113)]];!_0x54339e&&(_0x54339e={});!_0x50ce81['jITSj'](_0x25cd25,_0x54339e)&&(_0x54339e[_0x25cd25]=[]);const _0x578e6b={[TestFrameworkConstants[_0x55abe3(0xae)]]:_0x5ed888,[TestFrameworkConstants[_0x55abe3(0x113)]]:_0x54339e},_0x4d0c98={};_0x4d0c98[_0x2c0e1a]=_0x578e6b;const _0x2ad6f8=_0x4d0c98;if(_0x50ce81[_0x55abe3(0xac)](_0xf250a4,HookState[_0x55abe3(0x104)])){const _0x3fa12a={[TestFrameworkConstants[_0x55abe3(0xfa)]]:_0x12bb58,[TestFrameworkConstants['KEY_HOOK_RESULT']]:TestFrameworkConstants['DEFAULT_HOOK_RESULT'],[TestFrameworkConstants[_0x55abe3(0xe6)]]:_0x237500['started_at'],[TestFrameworkConstants[_0x55abe3(0x112)]]:[],[TestFrameworkConstants['KEY_HOOK_NAME']]:_0x237500[_0x55abe3(0xd0)],[TestFrameworkConstants['KEY_CUSTOM_TAGS']]:_0x4edd66};_0x3fa12a[_0x55abe3(0xf2)]=_0x25cd25;const _0x3b6864=_0x3fa12a;_0x5ed888[_0x25cd25][_0x55abe3(0xe8)](_0x3b6864),_0x2ad6f8[_0x2c0e1a][TestFrameworkConstants['KEY_HOOK_LAST_STARTED']]=_0x25cd25,logger[_0x55abe3(0xb5)](_0x55abe3(0x100)+_0x25cd25+_0x55abe3(0x11e)+_0x3b6864+_0x55abe3(0xb3)+_0x9a8ebb);}else{if(_0x50ce81['fEQsp'](_0xf250a4,HookState[_0x55abe3(0x16a)])){const _0x1d0441=_0x237500[_0x55abe3(0xeb)],_0x18621d=_0x5ed888[_0x25cd25]||[];logger[_0x55abe3(0xb5)](_0x55abe3(0x108)+_0x18621d+_0x55abe3(0x122)+_0x9a8ebb);if(_0x50ce81[_0x55abe3(0xa2)](_0x18621d[_0x55abe3(0xb7)],0x0)){const _0xc88458=_0x18621d['pop']();_0x50ce81[_0x55abe3(0x111)](_0x237500[_0x55abe3(0xeb)],_0x50ce81[_0x55abe3(0xd6)])&&_0x237500['failure_data']?(_0xc88458[TestFrameworkConstants[_0x55abe3(0xef)]]=_0x237500[_0x55abe3(0xee)]||_0x50ce81['beTdL'],_0xc88458[TestFrameworkConstants[_0x55abe3(0x13f)]]=_0x237500[_0x55abe3(0xbc)]||'',_0xc88458[TestFrameworkConstants[_0x55abe3(0x13b)]]=_0x237500[_0x55abe3(0x14d)]):_0xc88458[TestFrameworkConstants[_0x55abe3(0x12e)]]=_0x50ce81['qWaDu'];_0x50ce81[_0x55abe3(0x124)](_0x1d0441,TestFrameworkConstants[_0x55abe3(0x145)])&&(_0xc88458[TestFrameworkConstants[_0x55abe3(0x12e)]]=_0x1d0441);_0xc88458[TestFrameworkConstants[_0x55abe3(0x10d)]]=_0x237500['finished_at']||new Date()[_0x55abe3(0xd2)](),_0xc88458[TestFrameworkConstants['KEY_CUSTOM_TAGS']]=_0x4edd66;const _0x419e92=_0xc88458[TestFrameworkConstants[_0x55abe3(0xfa)]];!_0x54339e[_0x25cd25]&&(_0x54339e[_0x25cd25]=[]),_0x54339e[_0x25cd25][_0x55abe3(0xe8)](_0xc88458),_0x2ad6f8[_0x2c0e1a][TestFrameworkConstants['KEY_HOOK_LAST_FINISHED']]=_0x25cd25;}}}return logger[_0x55abe3(0xb5)]('Tracked\x20cucumber\x20hook\x20event:\x20'+_0x237500[_0x55abe3(0xd0)]+_0x55abe3(0x15a)+_0x12bb58+_0x55abe3(0xc6)+_0x2c0e1a),_0x2ad6f8;}[a70_0x52c991(0xc8)](_0xd6d728){const _0x3d581e=a70_0x52c991,_0x35c169={};_0x35c169['kXNMz']=_0x3d581e(0x126);const _0x1a3aba=_0x35c169;try{const _0x1b5564=_0xd6d728[_0x3d581e(0xa3)]?_0xd6d728[_0x3d581e(0xa3)]['id']:_0xd6d728[_0x3d581e(0xb2)]['test_run_id'],_0x446fab=_0xd6d728[_0x3d581e(0xfd)],_0x10cbfc=_0x446fab['getContext'](),_0x989ed2=_0x446fab[_0x3d581e(0xf1)]()[_0x3d581e(0x164)](_0x1b5564);if(!_0x989ed2)return logger[_0x3d581e(0xb5)](_0x3d581e(0x12f)+_0x1b5564),{};logger['debug'](_0x3d581e(0x16f)+_0x1b5564);const {[TestFrameworkConstants[_0x3d581e(0x162)]]:_0x55c958='',[TestFrameworkConstants[_0x3d581e(0xe4)]]:_0x307337='',[TestFrameworkConstants[_0x3d581e(0x147)]]:_0x24a9c4='',[TestFrameworkConstants[_0x3d581e(0x143)]]:_0x354184=''}=_0x989ed2,_0x2d7af7=_0x446fab[_0x3d581e(0x131)]()[_0x3d581e(0x10b)]()[_0x3d581e(0x139)]('.')[0x1],_0x7d2849=_0x446fab[_0x3d581e(0x167)]()[_0x3d581e(0x10b)]()[_0x3d581e(0x139)]('.')[0x1],_0x13cca5=global?.[_0x3d581e(0x109)]?.[_0x3d581e(0xf0)]?.[_0x3d581e(0x13c)],_0xc82664=_0x446fab['getRef'](),_0x5c1fe6=Buffer[_0x3d581e(0xd8)](JSON[_0x3d581e(0x154)](_0x989ed2))[_0x3d581e(0x10b)](_0x1a3aba[_0x3d581e(0xd7)]),_0x487a5b={'hash':_0x10cbfc[_0x3d581e(0xbf)](),'threadId':_0x10cbfc['getThreadId']()[_0x3d581e(0x10b)](),'processId':_0x10cbfc[_0x3d581e(0xed)]()['toString']()},_0x1fd788={};_0x1fd788[_0x3d581e(0xc1)]=_0x13cca5,_0x1fd788[_0x3d581e(0xf7)]=_0x55c958,_0x1fd788['testFrameworkVersion']=_0x307337,_0x1fd788[_0x3d581e(0xa4)]=_0x2d7af7,_0x1fd788[_0x3d581e(0x150)]=_0x7d2849,_0x1fd788[_0x3d581e(0xb8)]=_0x24a9c4,_0x1fd788[_0x3d581e(0x116)]=_0x354184,_0x1fd788[_0x3d581e(0x16d)]=_0xc82664,_0x1fd788['eventJson']=_0x5c1fe6,_0x1fd788['executionContext']=_0x487a5b;const _0x43afa1=_0x1fd788;return logger[_0x3d581e(0xb5)](_0x3d581e(0x125)+_0x1b5564+_0x3d581e(0x148)+_0x2d7af7+_0x3d581e(0x146)+_0x7d2849),_0x43afa1;}catch(_0x390ced){return logger[_0x3d581e(0x10e)]('Error\x20in\x20createTestFrameworkEventPayload:\x20'+util[_0x3d581e(0xc0)](_0x390ced)),{};}}async[a70_0x52c991(0xcb)](_0x3e6272,_0x5f2b65,_0x1d01b7){const _0x304458=a70_0x52c991,_0x46d64e={'xfbhL':function(_0x4a9b5a,_0x1b391a,_0x34fa22){return _0x4a9b5a(_0x1b391a,_0x34fa22);},'oICsS':function(_0x308d01,_0x3d9dc5){return _0x308d01===_0x3d9dc5;},'QhkTJ':_0x304458(0x134),'boEwH':function(_0x40832d,_0x49dabd){return _0x40832d/_0x49dabd;},'EIidC':function(_0x5c64a8,_0x1f39a4){return _0x5c64a8<_0x1f39a4;},'aatXA':function(_0x55570a,_0x15bf93){return _0x55570a*_0x15bf93;},'zFBxE':function(_0x43262a,_0x296bfd){return _0x43262a+_0x296bfd;},'ADuAA':function(_0x25792b,_0x4422be){return _0x25792b+_0x4422be;},'XlGLv':function(_0x2d8c75,_0x52f671){return _0x2d8c75+_0x52f671;},'idrrm':_0x304458(0x14b)};try{const _0xd85b78=_0x1d01b7[_0x304458(0x115)],_0x5c01dc=_0x3e6272[_0x304458(0xf1)]()[_0x304458(0x164)](_0xd85b78),{[TestFrameworkConstants[_0x304458(0x162)]]:_0x43b5b4='',[TestFrameworkConstants[_0x304458(0xe4)]]:_0x3a272b=''}=_0x5c01dc,_0x960fe4=TestInfo['readLogObjects'](_0xd85b78),_0x1d3879=TestInfo[_0x304458(0x13d)](_0xd85b78)[TestFrameworkConstants[_0x304458(0xdc)]]||{},_0x5be53b=_0x46d64e['xfbhL'](getMediaArtifactsLogs,_0x1d3879,_0x3e6272[_0x304458(0xf1)]()[_0x304458(0x164)](_0xd85b78)[TestFrameworkConstants[_0x304458(0x14a)]]),_0x4d70ea=(_0x960fe4||[])[_0x304458(0x135)](_0x5be53b||[]);if(!_0x4d70ea||_0x46d64e[_0x304458(0xa5)](_0x4d70ea['length'],0x0)){logger[_0x304458(0xb5)](_0x46d64e[_0x304458(0xca)]);return;}const _0x31205a=0x28,_0x33f520=Math['ceil'](_0x46d64e[_0x304458(0xd5)](_0x4d70ea[_0x304458(0xb7)],_0x31205a));for(let _0x3e06d3=0x0;_0x46d64e['EIidC'](_0x3e06d3,_0x33f520);_0x3e06d3++){const _0xc151e3=_0x46d64e[_0x304458(0xc2)](_0x3e06d3,_0x31205a),_0x53da1e=_0x46d64e[_0x304458(0x12d)](_0xc151e3,_0x31205a),_0x35d946=_0x4d70ea['slice'](_0xc151e3,_0x53da1e),_0x1c4c0e={'platformIndex':'0','logs':_0x35d946,'testFrameworkName':_0x43b5b4,'testFrameworkVersion':_0x3a272b,'testFrameworkState':_0x5f2b65[_0x304458(0x10b)]()[_0x304458(0x139)]('.')[0x1]};logger[_0x304458(0xb5)](_0x304458(0xa8)+_0xd85b78+_0x304458(0x16b)+_0x46d64e[_0x304458(0xb9)](_0x3e06d3,0x1)+'/'+_0x33f520+_0x304458(0xec)+util['inspect'](_0x1c4c0e));const _0x5735a9=await GrpcClient[_0x304458(0x14c)]()[_0x304458(0xea)](_0x1c4c0e);logger[_0x304458(0xb5)]('sendLogCreatedEvent:\x20for\x20testId:\x20'+_0xd85b78+_0x304458(0x16b)+_0x46d64e['XlGLv'](_0x3e06d3,0x1)+'/'+_0x33f520+'\x20response='+util[_0x304458(0xd1)](_0x5735a9));}}catch(_0x1de248){logger[_0x304458(0x10e)](_0x304458(0x13a)+util['format'](_0x1de248));}logger[_0x304458(0xb5)](_0x46d64e[_0x304458(0xab)]);}['storePendingHook'](_0x509e2e,_0x3d5271,_0x28bee1,_0x332494,_0x538052){const _0x52cf16=a70_0x52c991,_0x2a9478={'testId':_0x3d5271,'testFrameworkState':_0x28bee1,'hookState':_0x332494,'args':_0x538052,'timestamp':new Date()[_0x52cf16(0xd2)]()};_0x509e2e[_0x52cf16(0xcc)](_0x3d5271,_0x2a9478),logger[_0x52cf16(0xb5)]('Stored\x20pending\x20hook\x20for\x20testId:\x20'+_0x3d5271+_0x52cf16(0x156)+_0x28bee1+',\x20hookState:\x20'+_0x332494);}async[a70_0x52c991(0x118)](_0x38fc84,_0x5f1639){const _0x17e826=a70_0x52c991,_0x4046e7={};_0x4046e7[_0x17e826(0xfc)]=function(_0x501f51,_0x57b41a){return _0x501f51>_0x57b41a;};const _0x2b8d41=_0x4046e7;if(!_0x38fc84[_0x17e826(0x169)](_0x5f1639))return;const _0xbb2145=_0x38fc84[_0x17e826(0x16c)](_0x5f1639);logger[_0x17e826(0xb5)](_0x17e826(0x168)+_0xbb2145[_0x17e826(0xb7)]+'\x20pending\x20hooks\x20for\x20testId:\x20'+_0x5f1639);for(const _0x27bd01 of _0xbb2145){try{const _0x260bd1=await this[_0x17e826(0x142)](_0x38fc84,_0x27bd01[_0x17e826(0xa4)],_0x27bd01[_0x17e826(0x150)],_0x27bd01[_0x17e826(0xaa)]);_0x260bd1&&_0x2b8d41[_0x17e826(0xfc)](Object[_0x17e826(0x12a)](_0x260bd1)[_0x17e826(0xb7)],0x0)&&_0x38fc84[_0x17e826(0x15f)](_0x260bd1),await this[_0x17e826(0x136)](_0x38fc84,_0x27bd01[_0x17e826(0xa4)],_0x27bd01[_0x17e826(0x150)],_0x27bd01[_0x17e826(0xaa)]);}catch(_0x54bdb8){logger[_0x17e826(0x10e)](_0x17e826(0x127)+_0x5f1639+_0x17e826(0x153)+_0x54bdb8);}}_0x38fc84[_0x17e826(0xb0)](_0x5f1639),logger[_0x17e826(0xb5)]('Cleared\x20processed\x20pending\x20hooks\x20for\x20testId:\x20'+_0x5f1639);}}module['exports']=CucumberTestFramework;