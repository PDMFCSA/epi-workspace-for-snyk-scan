const a70_0x202956=a70_0x5391;(function(_0x1a7c6b,_0x13cb3f){const _0xb3d561=a70_0x5391,_0x402d4c=_0x1a7c6b();while(!![]){try{const _0x50945e=parseInt(_0xb3d561(0x1c7))/0x1+-parseInt(_0xb3d561(0x204))/0x2+-parseInt(_0xb3d561(0x21a))/0x3+-parseInt(_0xb3d561(0x268))/0x4+-parseInt(_0xb3d561(0x272))/0x5*(parseInt(_0xb3d561(0x245))/0x6)+-parseInt(_0xb3d561(0x202))/0x7+parseInt(_0xb3d561(0x1b2))/0x8;if(_0x50945e===_0x13cb3f)break;else _0x402d4c['push'](_0x402d4c['shift']());}catch(_0x2c723e){_0x402d4c['push'](_0x402d4c['shift']());}}}(a70_0x5b22,0x9f9c7));const TestFramework=require(a70_0x202956(0x25b)),TestFrameworkState=require('../state/testFrameworkState.js'),HookState=require(a70_0x202956(0x1e4)),{createClassLogger}=require(a70_0x202956(0x1e7)),TestFrameworkInstance=require(a70_0x202956(0x261)),CLIUtils=require(a70_0x202956(0x1ce)),TrackedInstance=require('../instances/trackedInstance.js'),TestFrameworkConstants=require('./constants/testFrameworkConstants.js'),{getManualUploadLogs,getMediaArtifactsLogs}=require('../../../helpers/helper.js'),logger=createClassLogger(a70_0x202956(0x26a)),{v4:uuidv4}=require(a70_0x202956(0x21d)),util=require(a70_0x202956(0x226)),TestInfo=require('../TestInfo.js'),GrpcClient=require(a70_0x202956(0x1c0));function a70_0x5b22(){const _0x2ced83=['KEY_HOOKS_FINISHED','\x20&\x20hookState=','endedAt','executionContext','3893394dQLKaQ','trackHookEvent:\x20Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','UnhandledError','uuid','\x20and\x20args\x20=\x20','args','from','trackEvent','customRerunParam','\x20payload=','result',',\x20state:\x20','util','KEY_TEST_ATTACHMENTS','VgGFx','length','split','body','pORxJ','format','KEY_TEST_ID','KEY_TEST_TAGS','getProcessId','sendLogCreatedEvent','KEY_HOOK_ID','dMejH','testData','DEFAULT_HOOK_RESULT','debug','logCreatedEvent','INIT_TEST','resolveInstance','eventJson','finished_at','\x20for\x20test:\x20','QILff','hookState','UgQeJ','\x20with\x20id\x20','KEY_TEST_FILE_PATH','wcVsd','No\x20hook\x20data\x20provided\x20for\x20cucumber\x20hook\x20event','readLogObjects','559578xwrjmB','Pknvc','Cucumber\x20log\x20created\x20event','createTestFrameworkEventPayload','getTestFrameworks','qAHWZ','rerun_name','testFrameworkVersion','getAllData','sendLogCreatedEvent:\x20No\x20logs\x20found,\x20skipping','inspect','yUVgR','KEY_HOOKS_STARTED','kgNja','KEY_HOOK_LAST_FINISHED','\x20testState:\x20','testFrameworkName','started_at','Error\x20processing\x20pending\x20hook\x20for\x20testId:\x20','kZtzS','KEY_LOGS','getId','./testFramework','TEST','Updated\x20cucumber\x20test\x20result:\x20','getCurrentInstanceName','QLHuM',',\x20state=','../instances/testFrameworkInstance.js','processPendingHooks','error','NONE','KEY_HOOK_FAILURE_TYPE','GqFMC','parseCucumberTest','223700zttsPR','KEY_CUSTOM_TAGS','CucumberTestFramework','QezcH','\x20response=','getContext','\x20\x20and\x20args\x20=\x20','Processing\x20','tags','getTestUUID','10nhhPsv','Stored\x20pending\x20hook\x20for\x20testId:\x20','cnZNO','file_name','toString','code','parseCucumberTestResult','OwGTR','getTestDetails','trackEvent:\x20unsupported\x20testFrameworkState=','\x20hookState:\x20','Tracked\x20cucumber\x20hook\x20event:\x20','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','KEY_TEST_FAILURE_TYPE','17324840VJznKV','testUUID','sendLogCreatedEvent:\x20Error\x20in\x20sending\x20log\x20events:\x20',',\x20storing\x20as\x20pending\x20hook','trackCucumberInstance:\x20created\x20instance\x20for\x20target=','KEY_TEST_RERUN_NAME','__workerDetails','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test','getTrackedInstance','meta','failure_data','trackHookEvent:\x20Hook\x20List\x20in\x20Post\x20','keys','instance','../grpcClient','llYTF','KEY_TEST_RESULT','KEY_HOOK_RESULT','failure_type','unknown','KEY_TEST_FRAMEWORK_NAME','365090oegYTZ','KEY_TEST_SCOPE','KEY_TEST_FAILURE_REASON','FtKae','getTestFrameworksVersions','storePendingHook','PRE','../cliUtils.js','hooks','\x20target=','fIFGN','addPendingHook','concat','NsuvM','hasPendingHooks','ONCGA','trackCucumberInstance','KEY_TEST_NAME','KEY_TEST_CODE','trackHookEvent','trackEvent:\x20Test\x20Framework\x20instance\x20not\x20found','mHSeu','\x20&\x20hook\x20=\x20','KEY_TEST_UUID','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','toISOString','name','FcWec','getInstance','../state/hookState.js','KEY_TEST_LOGS','\x20batch\x20','../../../helpers/classLogger.js','failure_reason','KEY_TEST_STARTED_AT','mKqxa','exports','getPendingHooks','get','getCurrentTestState','KEY_TEST_ENDED_AT','createTestFrameworkEventPayload:\x20complete\x20for\x20testId:\x20','KEY_TEST_FRAMEWORK_VERSION','kGpil','testFrameworkState','removePendingHooks','hRdWT','setTrackedInstance','Cleared\x20processed\x20pending\x20hooks\x20for\x20testId:\x20','KEY_HOOK_FAILURE','KEY_TEST_LOCATION','POST','DEFAULT_TEST_RESULT','LOG_REPORT','matchHookRegex','KEY_EVENT_ENDED_AT','finishedAt','runHooks','sendLogCreatedEvent:\x20for\x20testId:\x20','1456350tXIlDP','\x20with\x20UUID:\x20','257258vEbiAG','KEY_TEST_META','test_run_id','slice','addMultipleEntries','IuueR','hook_type','KEY_AUTOMATE_SESSION_NAME','AnKCb','OzRKy','failed','qYgNk','createContext','\x20with\x20result:\x20','startedAt','scopes','platformIndex','hookData'];a70_0x5b22=function(){return _0x2ced83;};return a70_0x5b22();}class CucumberTestFramework extends TestFramework{constructor(_0x57301f,_0x38eeec,_0x8fe222){super(_0x57301f,_0x38eeec,_0x8fe222);}async['trackEvent'](_0x2d8d36,_0x963228,_0x30c48c={}){const _0x5dc1c0=a70_0x202956,_0x493478={};_0x493478[_0x5dc1c0(0x1f5)]=_0x5dc1c0(0x1db),_0x493478['AnKCb']=function(_0x110ee2,_0x268a79){return _0x110ee2===_0x268a79;},_0x493478[_0x5dc1c0(0x1d4)]=function(_0x4be4a8,_0x19eb9a){return _0x4be4a8===_0x19eb9a;},_0x493478[_0x5dc1c0(0x1d1)]=_0x5dc1c0(0x1b0);const _0x1de403=_0x493478;await super[_0x5dc1c0(0x221)](_0x2d8d36,_0x963228,_0x30c48c);const _0x4f6b05=this[_0x5dc1c0(0x239)](_0x2d8d36,_0x963228,_0x30c48c);if(!_0x4f6b05){logger['debug'](_0x1de403['hRdWT']);return;}try{let _0x304355,_0x4a4f7f;switch(_0x2d8d36){case TestFrameworkState[_0x5dc1c0(0x25c)]:_0x304355=_0x30c48c['test'],_0x4a4f7f=TestInfo[_0x5dc1c0(0x271)](_0x304355['id']);if(_0x1de403['AnKCb'](_0x963228,HookState[_0x5dc1c0(0x1cd)])){logger[_0x5dc1c0(0x236)](_0x5dc1c0(0x1df)+_0x304355['id']);const _0x4170b6={};_0x4170b6[_0x5dc1c0(0x1b3)]=_0x4a4f7f,_0x4170b6[_0x5dc1c0(0x234)]=_0x304355,_0x4f6b05[_0x5dc1c0(0x208)](this[_0x5dc1c0(0x267)](_0x4170b6)),logger['debug']('trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20'+_0x304355['id']),await this[_0x5dc1c0(0x262)](_0x4f6b05,_0x304355['id']);}else{if(_0x1de403[_0x5dc1c0(0x20c)](_0x963228,HookState[_0x5dc1c0(0x1fa)])){const _0x5d277b={};_0x5d277b[_0x5dc1c0(0x1b3)]=_0x4a4f7f,_0x5d277b['testData']=_0x304355,_0x4f6b05['addMultipleEntries'](this[_0x5dc1c0(0x1aa)](_0x5d277b)),await this['processPendingHooks'](_0x4f6b05,_0x304355['id']);}}break;case TestFrameworkState[_0x5dc1c0(0x1fc)]:_0x1de403[_0x5dc1c0(0x1d4)](_0x963228,HookState[_0x5dc1c0(0x1fa)])&&await this[_0x5dc1c0(0x231)](_0x4f6b05,_0x2d8d36,_0x30c48c);break;default:if(CLIUtils[_0x5dc1c0(0x1fd)](_0x2d8d36[_0x5dc1c0(0x1a8)]()['split']('.')[0x1])){const _0x46750e=await this[_0x5dc1c0(0x1da)](_0x4f6b05,_0x2d8d36,_0x963228,_0x30c48c);_0x4f6b05[_0x5dc1c0(0x208)](_0x46750e);}else logger[_0x5dc1c0(0x236)](_0x5dc1c0(0x1ad)+_0x2d8d36+_0x5dc1c0(0x217)+_0x963228);break;}}catch(_0x1e2f30){logger[_0x5dc1c0(0x263)](util[_0x5dc1c0(0x22d)](_0x1de403[_0x5dc1c0(0x1d1)],_0x2d8d36,_0x963228,_0x30c48c[_0x5dc1c0(0x229)],_0x1e2f30));}_0x30c48c['instance']=_0x4f6b05,await this[_0x5dc1c0(0x200)](_0x4f6b05,_0x2d8d36,_0x963228,_0x30c48c);}[a70_0x202956(0x239)](_0x113ca5,_0x16375e,_0xbcf162={}){const _0x4bc5d1=a70_0x202956,_0x459426={};_0x459426[_0x4bc5d1(0x266)]=function(_0x3c6c99,_0x1fc667){return _0x3c6c99===_0x1fc667;};const _0x4a1000=_0x459426;let _0x57e971=null;return(_0x4a1000['GqFMC'](_0x113ca5,TestFrameworkState[_0x4bc5d1(0x238)])||_0x4a1000['GqFMC'](_0x113ca5,TestFrameworkState[_0x4bc5d1(0x264)]))&&this[_0x4bc5d1(0x1d7)](_0x113ca5,_0xbcf162),_0x57e971=TestFramework[_0x4bc5d1(0x1ba)](),_0x57e971;}[a70_0x202956(0x1d7)](_0x32de2d,_0x54079b){const _0x28b6f4=a70_0x202956,_0x4017f3=CLIUtils[_0x28b6f4(0x25e)](),_0x252340=TrackedInstance[_0x28b6f4(0x210)](_0x4017f3);let _0x4140cd=null;logger[_0x28b6f4(0x236)](_0x28b6f4(0x1b6)+_0x4017f3+_0x28b6f4(0x260)+_0x32de2d),_0x4140cd=new TestFrameworkInstance(_0x252340,this[_0x28b6f4(0x249)](),this['getTestFrameworksVersions'](),_0x32de2d,HookState['NONE']),TestFramework[_0x28b6f4(0x1f6)](_0x252340,_0x4140cd),logger[_0x28b6f4(0x236)]('trackCucumberInstance:\x20saved\x20instance\x20contextId='+_0x252340[_0x28b6f4(0x25a)]()+_0x28b6f4(0x1d0)+_0x4017f3);}[a70_0x202956(0x267)](_0x3b03d0){const _0x4e41cf=a70_0x202956,_0x51f6e1={};_0x51f6e1[_0x4e41cf(0x1c1)]=_0x4e41cf(0x1b9);const _0x22fe44=_0x51f6e1,{testUUID:_0x1b90b4,testData:_0xe84031}=_0x3b03d0;if(!_0xe84031||!_0xe84031[_0x4e41cf(0x21d)])return logger[_0x4e41cf(0x236)](_0x22fe44['llYTF']),{};const _0x7f9d83=_0xe84031[_0x4e41cf(0x21d)],_0x489ac1=_0xe84031[_0x4e41cf(0x21d)],_0x3cc1cd=this[_0x4e41cf(0x249)]()[0x0],_0xa531f2=this[_0x4e41cf(0x1cb)](),_0x401248={[TestFrameworkConstants[_0x4e41cf(0x1c6)]]:_0x3cc1cd,[TestFrameworkConstants[_0x4e41cf(0x1f1)]]:_0xa531f2[_0x3cc1cd],[TestFrameworkConstants[_0x4e41cf(0x1e5)]]:[],[TestFrameworkConstants[_0x4e41cf(0x216)]]:{},[TestFrameworkConstants[_0x4e41cf(0x251)]]:{},[TestFrameworkConstants[_0x4e41cf(0x1de)]]:_0x7f9d83,[TestFrameworkConstants['KEY_TEST_RESULT']]:TestFrameworkConstants[_0x4e41cf(0x1fb)],[TestFrameworkConstants[_0x4e41cf(0x20b)]]:_0xe84031['name']||'',[TestFrameworkConstants[_0x4e41cf(0x241)]]:_0xe84031[_0x4e41cf(0x1a7)]||'',[TestFrameworkConstants[_0x4e41cf(0x22e)]]:_0x489ac1,[TestFrameworkConstants[_0x4e41cf(0x1d8)]]:_0xe84031['name']||'',[TestFrameworkConstants[_0x4e41cf(0x1f9)]]:_0xe84031['location']||'',[TestFrameworkConstants[_0x4e41cf(0x1d9)]]:_0xe84031[_0x4e41cf(0x22b)]?.[_0x4e41cf(0x1a9)]||null,[TestFrameworkConstants[_0x4e41cf(0x22f)]]:_0xe84031[_0x4e41cf(0x270)]||[],[TestFrameworkConstants[_0x4e41cf(0x1e9)]]:_0xe84031[_0x4e41cf(0x212)]||new Date()[_0x4e41cf(0x1e0)](),[TestFrameworkConstants[_0x4e41cf(0x1c8)]]:_0xe84031['scopes']?.[0x0]||'',[TestFrameworkConstants['KEY_TEST_SCOPES']]:_0xe84031[_0x4e41cf(0x213)]||[],[TestFrameworkConstants[_0x4e41cf(0x1b7)]]:_0xe84031[_0x4e41cf(0x222)]?.[_0x4e41cf(0x24b)]||_0xe84031[_0x4e41cf(0x1e1)]||'',[TestFrameworkConstants['KEY_CUSTOM_TAGS']]:{},[TestFrameworkConstants[_0x4e41cf(0x205)]]:_0xe84031[_0x4e41cf(0x1bb)]||{}};TestInfo['setTestDetails'](_0x489ac1,_0x401248),logger[_0x4e41cf(0x236)]('Parsed\x20cucumber\x20test:\x20'+_0xe84031[_0x4e41cf(0x1e1)]+_0x4e41cf(0x203)+_0x7f9d83);const _0x509f87={};return _0x509f87[_0x489ac1]=_0x401248,_0x509f87;}[a70_0x202956(0x1aa)](_0x1f01d3){const _0x4d95dd=a70_0x202956,_0x5aead3={'FtKae':'No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test\x20result','yUVgR':_0x4d95dd(0x1c5),'Pknvc':function(_0x3c0ade,_0x346e6b){return _0x3c0ade===_0x346e6b;},'QILff':_0x4d95dd(0x20e),'EEMwO':_0x4d95dd(0x21c),'CCtMp':function(_0x5e9304,_0x335840,_0x592c1b){return _0x5e9304(_0x335840,_0x592c1b);},'pORxJ':function(_0x12f20b,_0x3587d3){return _0x12f20b>_0x3587d3;},'dEqst':function(_0x1d29ee,_0x445ad6){return _0x1d29ee>_0x445ad6;}},{testUUID:_0xf33e9b,testData:_0x85494e}=_0x1f01d3;if(!_0x85494e||!_0x85494e[_0x4d95dd(0x21d)])return logger[_0x4d95dd(0x236)](_0x5aead3[_0x4d95dd(0x1ca)]),{};const _0x232184=this[_0x4d95dd(0x239)](TestFrameworkState[_0x4d95dd(0x25c)],HookState['POST']),_0x511247=_0x85494e[_0x4d95dd(0x21d)],_0x400b82=TestInfo[_0x4d95dd(0x1ac)](_0x511247)||{},_0x1218ac=_0x400b82?_0x400b82[TestFrameworkConstants[_0x4d95dd(0x269)]]||{}:{},_0x2fe418={..._0x400b82,[TestFrameworkConstants[_0x4d95dd(0x1c2)]]:_0x85494e[_0x4d95dd(0x224)]||_0x5aead3[_0x4d95dd(0x250)],[TestFrameworkConstants[_0x4d95dd(0x1ef)]]:_0x85494e[_0x4d95dd(0x1ff)]||new Date()['toISOString'](),[TestFrameworkConstants['KEY_TEST_RESULT_AT']]:new Date()[_0x4d95dd(0x1e0)](),[TestFrameworkConstants[_0x4d95dd(0x269)]]:_0x1218ac,[TestFrameworkConstants['KEY_LOGS']]:[],[TestFrameworkConstants[_0x4d95dd(0x205)]]:_0x85494e[_0x4d95dd(0x1bb)]||{}};_0x5aead3[_0x4d95dd(0x246)](_0x85494e[_0x4d95dd(0x224)],_0x5aead3[_0x4d95dd(0x23d)])&&_0x85494e['failure']&&(_0x2fe418[TestFrameworkConstants[_0x4d95dd(0x1b1)]]=_0x85494e[_0x4d95dd(0x1c4)]||_0x5aead3['EEMwO'],_0x2fe418[TestFrameworkConstants[_0x4d95dd(0x1c9)]]=_0x85494e[_0x4d95dd(0x1e8)]||'',_0x2fe418[TestFrameworkConstants['KEY_TEST_FAILURE']]=_0x85494e['failure']);const _0x51f1ea=TestInfo[_0x4d95dd(0x1ac)](_0x511247)[TestFrameworkConstants[_0x4d95dd(0x227)]]||{},_0x3b84cc=_0x5aead3['CCtMp'](getManualUploadLogs,_0x51f1ea,_0x232184[_0x4d95dd(0x24d)]()['get'](_0x511247)[TestFrameworkConstants[_0x4d95dd(0x1de)]]);if(_0x5aead3[_0x4d95dd(0x22c)](_0x3b84cc[_0x4d95dd(0x229)],0x0)){const _0x1fa8d1=_0x2fe418[TestFrameworkConstants['KEY_LOGS']]||[];_0x2fe418[TestFrameworkConstants[_0x4d95dd(0x259)]]=[..._0x1fa8d1,..._0x3b84cc];}_0x85494e['hooks']&&_0x5aead3['dEqst'](_0x85494e[_0x4d95dd(0x1cf)][_0x4d95dd(0x229)],0x0)&&(_0x2fe418[TestFrameworkConstants[_0x4d95dd(0x216)]]=_0x85494e['hooks']);TestInfo['setTestDetails'](_0x511247,_0x2fe418),logger[_0x4d95dd(0x236)](_0x4d95dd(0x25d)+_0x85494e['name']+_0x4d95dd(0x211)+_0x85494e[_0x4d95dd(0x224)]);const _0x51e861={};return _0x51e861[_0x511247]=_0x2fe418,_0x51e861;}async['trackHookEvent'](_0x501765,_0x55c3a0,_0x17cb17,_0xfc192f){const _0xab9171=a70_0x202956,_0x3965f2={'wcVsd':_0xab9171(0x243),'UgQeJ':function(_0x39fba9){return _0x39fba9();},'FcWec':function(_0x2a7b89,_0x31697a){return _0x2a7b89 in _0x31697a;},'mKqxa':function(_0x3af13c,_0x1bf2a4){return _0x3af13c===_0x1bf2a4;},'IuueR':function(_0x4f4d0f,_0x3b45c5){return _0x4f4d0f===_0x3b45c5;},'mHSeu':function(_0x222203,_0x384006){return _0x222203>_0x384006;},'cnZNO':_0xab9171(0x20e),'VgGFx':_0xab9171(0x21c),'hhbLT':'passed','InNwQ':function(_0x705ff9,_0xa7e880){return _0x705ff9!==_0xa7e880;}},{hookData:_0x2926ea}=_0xfc192f;if(!_0x2926ea)return logger[_0xab9171(0x236)](_0x3965f2[_0xab9171(0x242)]),{};const _0x309728=_0x2926ea['uuid']||_0x3965f2[_0xab9171(0x23f)](uuidv4),_0x2c1c9c=_0x2926ea['test_run_id'],_0x2dfb62=_0x55c3a0[_0xab9171(0x1a8)]()['split']('.')[0x1],_0x2b32e9=TestInfo['getTestDetails'](_0x2c1c9c)[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{},_0x2e1f99=_0x501765[_0xab9171(0x24d)]()[_0xab9171(0x1ed)](_0x2c1c9c);if(!_0x2e1f99)return logger[_0xab9171(0x236)]('No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20'+_0x2c1c9c+_0xab9171(0x1b5)),this[_0xab9171(0x1cc)](_0x501765,_0x2c1c9c,_0x55c3a0,_0x17cb17,_0xfc192f),{};let _0x2e8a0d=_0x2e1f99[TestFrameworkConstants['KEY_HOOKS_STARTED']];!_0x2e8a0d&&(_0x2e8a0d={});!_0x3965f2[_0xab9171(0x1e2)](_0x2dfb62,_0x2e8a0d)&&(_0x2e8a0d[_0x2dfb62]=[]);let _0x2f8838=_0x2e1f99[TestFrameworkConstants[_0xab9171(0x216)]];!_0x2f8838&&(_0x2f8838={});!_0x3965f2[_0xab9171(0x1e2)](_0x2dfb62,_0x2f8838)&&(_0x2f8838[_0x2dfb62]=[]);const _0x4c1ffb={[TestFrameworkConstants[_0xab9171(0x251)]]:_0x2e8a0d,[TestFrameworkConstants[_0xab9171(0x216)]]:_0x2f8838},_0x574f1f={};_0x574f1f[_0x2c1c9c]=_0x4c1ffb;const _0x26d066=_0x574f1f;if(_0x3965f2[_0xab9171(0x1ea)](_0x17cb17,HookState[_0xab9171(0x1cd)])){const _0x19a90b={[TestFrameworkConstants[_0xab9171(0x232)]]:_0x309728,[TestFrameworkConstants[_0xab9171(0x1c3)]]:TestFrameworkConstants['DEFAULT_HOOK_RESULT'],[TestFrameworkConstants['KEY_EVENT_STARTED_AT']]:_0x2926ea[_0xab9171(0x256)],[TestFrameworkConstants['KEY_HOOK_LOGS']]:[],[TestFrameworkConstants['KEY_HOOK_NAME']]:_0x2926ea[_0xab9171(0x20a)],[TestFrameworkConstants[_0xab9171(0x269)]]:_0x2b32e9};_0x19a90b['key']=_0x2dfb62;const _0x45d1d0=_0x19a90b;_0x2e8a0d[_0x2dfb62]['push'](_0x45d1d0),_0x26d066[_0x2c1c9c][TestFrameworkConstants['KEY_HOOK_LAST_STARTED']]=_0x2dfb62,logger[_0xab9171(0x236)](_0xab9171(0x21b)+_0x2dfb62+_0xab9171(0x1dd)+_0x45d1d0+_0xab9171(0x26e)+_0xfc192f);}else{if(_0x3965f2[_0xab9171(0x209)](_0x17cb17,HookState[_0xab9171(0x1fa)])){const _0x167e1a=_0x2926ea[_0xab9171(0x224)],_0x3d8efa=_0x2e8a0d[_0x2dfb62]||[];logger['debug'](_0xab9171(0x1bd)+_0x3d8efa+_0xab9171(0x21e)+_0xfc192f);if(_0x3965f2[_0xab9171(0x1dc)](_0x3d8efa['length'],0x0)){const _0x4d4964=_0x3d8efa['pop']();_0x3965f2[_0xab9171(0x209)](_0x2926ea[_0xab9171(0x224)],_0x3965f2[_0xab9171(0x274)])&&_0x2926ea[_0xab9171(0x1bc)]?(_0x4d4964[TestFrameworkConstants[_0xab9171(0x265)]]=_0x2926ea[_0xab9171(0x1c4)]||_0x3965f2[_0xab9171(0x228)],_0x4d4964[TestFrameworkConstants['KEY_HOOK_FAILURE_REASON']]=_0x2926ea['failure_reason']||'',_0x4d4964[TestFrameworkConstants[_0xab9171(0x1f8)]]=_0x2926ea['failure_data']):_0x4d4964[TestFrameworkConstants['KEY_HOOK_RESULT']]=_0x3965f2['hhbLT'];_0x3965f2['InNwQ'](_0x167e1a,TestFrameworkConstants[_0xab9171(0x235)])&&(_0x4d4964[TestFrameworkConstants['KEY_HOOK_RESULT']]=_0x167e1a);_0x4d4964[TestFrameworkConstants[_0xab9171(0x1fe)]]=_0x2926ea[_0xab9171(0x23b)]||new Date()[_0xab9171(0x1e0)](),_0x4d4964[TestFrameworkConstants[_0xab9171(0x269)]]=_0x2b32e9;const _0x50996b=_0x4d4964[TestFrameworkConstants[_0xab9171(0x232)]];!_0x2f8838[_0x2dfb62]&&(_0x2f8838[_0x2dfb62]=[]),_0x2f8838[_0x2dfb62]['push'](_0x4d4964),_0x26d066[_0x2c1c9c][TestFrameworkConstants[_0xab9171(0x253)]]=_0x2dfb62;}}}return logger[_0xab9171(0x236)](_0xab9171(0x1af)+_0x2926ea[_0xab9171(0x20a)]+_0xab9171(0x240)+_0x309728+_0xab9171(0x23c)+_0x2c1c9c),_0x26d066;}[a70_0x202956(0x248)](_0x51cc06){const _0x48bb0d=a70_0x202956,_0x27ad28={};_0x27ad28[_0x48bb0d(0x233)]='base64';const _0x31f18d=_0x27ad28;try{const _0x2204bf=_0x51cc06['test']?_0x51cc06['test']['id']:_0x51cc06[_0x48bb0d(0x215)][_0x48bb0d(0x206)],_0x226640=_0x51cc06[_0x48bb0d(0x1bf)],_0x35cd6d=_0x226640[_0x48bb0d(0x26d)](),_0x217b94=_0x226640[_0x48bb0d(0x24d)]()[_0x48bb0d(0x1ed)](_0x2204bf);if(!_0x217b94)return logger[_0x48bb0d(0x236)]('createTestFrameworkEventPayload:\x20No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20'+_0x2204bf),{};logger[_0x48bb0d(0x236)]('createTestFrameworkEventPayload\x20testId:\x20'+_0x2204bf);const {[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x355e88='',[TestFrameworkConstants[_0x48bb0d(0x1f1)]]:_0x514706='',[TestFrameworkConstants[_0x48bb0d(0x1e9)]]:_0x5c397b='',[TestFrameworkConstants[_0x48bb0d(0x1ef)]]:_0x7c4010=''}=_0x217b94,_0x1750ec=_0x226640[_0x48bb0d(0x1ee)]()[_0x48bb0d(0x1a8)]()[_0x48bb0d(0x22a)]('.')[0x1],_0x152100=_0x226640['getCurrentHookState']()[_0x48bb0d(0x1a8)]()[_0x48bb0d(0x22a)]('.')[0x1],_0x298450=global?.[_0x48bb0d(0x1b8)]?.['workerInfo']?.['parallelIndex'],_0x1bfd71=_0x226640['getRef'](),_0x4976b7=Buffer[_0x48bb0d(0x220)](JSON['stringify'](_0x217b94))[_0x48bb0d(0x1a8)](_0x31f18d['dMejH']),_0x23836b={'hash':_0x35cd6d[_0x48bb0d(0x25a)](),'threadId':_0x35cd6d['getThreadId']()['toString'](),'processId':_0x35cd6d[_0x48bb0d(0x230)]()[_0x48bb0d(0x1a8)]()},_0x4e2910={};_0x4e2910[_0x48bb0d(0x214)]=_0x298450,_0x4e2910[_0x48bb0d(0x255)]=_0x355e88,_0x4e2910[_0x48bb0d(0x24c)]=_0x514706,_0x4e2910['testFrameworkState']=_0x1750ec,_0x4e2910[_0x48bb0d(0x23e)]=_0x152100,_0x4e2910[_0x48bb0d(0x212)]=_0x5c397b,_0x4e2910[_0x48bb0d(0x218)]=_0x7c4010,_0x4e2910['uuid']=_0x1bfd71,_0x4e2910[_0x48bb0d(0x23a)]=_0x4976b7,_0x4e2910[_0x48bb0d(0x219)]=_0x23836b;const _0x2bde78=_0x4e2910;return logger[_0x48bb0d(0x236)](_0x48bb0d(0x1f0)+_0x2204bf+_0x48bb0d(0x254)+_0x1750ec+_0x48bb0d(0x1ae)+_0x152100),_0x2bde78;}catch(_0x5c6612){return logger[_0x48bb0d(0x263)]('Error\x20in\x20createTestFrameworkEventPayload:\x20'+util['format'](_0x5c6612)),{};}}async['sendLogCreatedEvent'](_0x561195,_0x3907dd,_0x2d48ef){const _0x90c959=a70_0x202956,_0x490883={'qAHWZ':function(_0x2b511e,_0xe60c65,_0x32fca0){return _0x2b511e(_0xe60c65,_0x32fca0);},'qYgNk':function(_0x39afdc,_0x41561f){return _0x39afdc===_0x41561f;},'kZtzS':_0x90c959(0x24e),'kGpil':function(_0x5c8f2f,_0xe5bd8d){return _0x5c8f2f/_0xe5bd8d;},'OzRKy':function(_0x48cf27,_0x136a2f){return _0x48cf27<_0x136a2f;},'kgNja':function(_0x3ae952,_0x18fb8e){return _0x3ae952*_0x18fb8e;},'ONCGA':function(_0x5724f7,_0x481612){return _0x5724f7+_0x481612;},'QLHuM':function(_0x125e8a,_0x127fac){return _0x125e8a+_0x127fac;},'bUoyO':function(_0x75bf37,_0x1a0f01){return _0x75bf37+_0x1a0f01;},'OwGTR':_0x90c959(0x247)};try{const _0x3ce57b=_0x2d48ef[_0x90c959(0x1b3)],_0x15223d=_0x561195[_0x90c959(0x24d)]()[_0x90c959(0x1ed)](_0x3ce57b),{[TestFrameworkConstants[_0x90c959(0x1c6)]]:_0x3e263a='',[TestFrameworkConstants[_0x90c959(0x1f1)]]:_0xdebfb1=''}=_0x15223d,_0x4688e6=TestInfo[_0x90c959(0x244)](_0x3ce57b),_0x4ac48e=TestInfo['getTestDetails'](_0x3ce57b)[TestFrameworkConstants[_0x90c959(0x227)]]||{},_0x387506=_0x490883[_0x90c959(0x24a)](getMediaArtifactsLogs,_0x4ac48e,_0x561195[_0x90c959(0x24d)]()['get'](_0x3ce57b)[TestFrameworkConstants['KEY_TEST_UUID']]),_0x32cfe9=(_0x4688e6||[])[_0x90c959(0x1d3)](_0x387506||[]);if(!_0x32cfe9||_0x490883[_0x90c959(0x20f)](_0x32cfe9[_0x90c959(0x229)],0x0)){logger[_0x90c959(0x236)](_0x490883[_0x90c959(0x258)]);return;}const _0x5c2111=0x28,_0x59bb8b=Math['ceil'](_0x490883[_0x90c959(0x1f2)](_0x32cfe9[_0x90c959(0x229)],_0x5c2111));for(let _0x4dab54=0x0;_0x490883[_0x90c959(0x20d)](_0x4dab54,_0x59bb8b);_0x4dab54++){const _0x473b02=_0x490883[_0x90c959(0x252)](_0x4dab54,_0x5c2111),_0x49f1f8=_0x490883[_0x90c959(0x1d6)](_0x473b02,_0x5c2111),_0x396e32=_0x32cfe9[_0x90c959(0x207)](_0x473b02,_0x49f1f8),_0x568ac2={'platformIndex':'0','logs':_0x396e32,'testFrameworkName':_0x3e263a,'testFrameworkVersion':_0xdebfb1,'testFrameworkState':_0x3907dd[_0x90c959(0x1a8)]()['split']('.')[0x1]};logger[_0x90c959(0x236)]('sendLogCreatedEvent:\x20for\x20testId:\x20'+_0x3ce57b+_0x90c959(0x1e6)+_0x490883[_0x90c959(0x25f)](_0x4dab54,0x1)+'/'+_0x59bb8b+_0x90c959(0x223)+util[_0x90c959(0x24f)](_0x568ac2));const _0x477425=await GrpcClient[_0x90c959(0x1e3)]()[_0x90c959(0x237)](_0x568ac2);logger[_0x90c959(0x236)](_0x90c959(0x201)+_0x3ce57b+_0x90c959(0x1e6)+_0x490883['bUoyO'](_0x4dab54,0x1)+'/'+_0x59bb8b+_0x90c959(0x26c)+util[_0x90c959(0x24f)](_0x477425));}}catch(_0x254fb0){logger[_0x90c959(0x263)](_0x90c959(0x1b4)+util[_0x90c959(0x22d)](_0x254fb0));}logger[_0x90c959(0x236)](_0x490883[_0x90c959(0x1ab)]);}[a70_0x202956(0x1cc)](_0x580f34,_0x1ac07b,_0x531037,_0x509b55,_0x481186){const _0x1a079=a70_0x202956,_0x119d1b={'testId':_0x1ac07b,'testFrameworkState':_0x531037,'hookState':_0x509b55,'args':_0x481186,'timestamp':new Date()[_0x1a079(0x1e0)]()};_0x580f34[_0x1a079(0x1d2)](_0x1ac07b,_0x119d1b),logger['debug'](_0x1a079(0x273)+_0x1ac07b+_0x1a079(0x225)+_0x531037+',\x20hookState:\x20'+_0x509b55);}async[a70_0x202956(0x262)](_0x2d1575,_0xe78892){const _0x2e07fe=a70_0x202956,_0x597cee={};_0x597cee[_0x2e07fe(0x26b)]=function(_0x1294e9,_0x4897d4){return _0x1294e9>_0x4897d4;};const _0x71b48a=_0x597cee;if(!_0x2d1575[_0x2e07fe(0x1d5)](_0xe78892))return;const _0x1395a8=_0x2d1575[_0x2e07fe(0x1ec)](_0xe78892);logger['debug'](_0x2e07fe(0x26f)+_0x1395a8[_0x2e07fe(0x229)]+'\x20pending\x20hooks\x20for\x20testId:\x20'+_0xe78892);for(const _0x41fe00 of _0x1395a8){try{const _0xc84a25=await this['trackHookEvent'](_0x2d1575,_0x41fe00[_0x2e07fe(0x1f3)],_0x41fe00[_0x2e07fe(0x23e)],_0x41fe00[_0x2e07fe(0x21f)]);_0xc84a25&&_0x71b48a[_0x2e07fe(0x26b)](Object[_0x2e07fe(0x1be)](_0xc84a25)[_0x2e07fe(0x229)],0x0)&&_0x2d1575[_0x2e07fe(0x208)](_0xc84a25),await this[_0x2e07fe(0x200)](_0x2d1575,_0x41fe00['testFrameworkState'],_0x41fe00[_0x2e07fe(0x23e)],_0x41fe00['args']);}catch(_0x27fc39){logger[_0x2e07fe(0x263)](_0x2e07fe(0x257)+_0xe78892+',\x20error:\x20'+_0x27fc39);}}_0x2d1575[_0x2e07fe(0x1f4)](_0xe78892),logger[_0x2e07fe(0x236)](_0x2e07fe(0x1f7)+_0xe78892);}}function a70_0x5391(_0x49eaf8,_0x3d4edd){const _0x5b22f7=a70_0x5b22();return a70_0x5391=function(_0x53919f,_0x279452){_0x53919f=_0x53919f-0x1a7;let _0x2c72c1=_0x5b22f7[_0x53919f];return _0x2c72c1;},a70_0x5391(_0x49eaf8,_0x3d4edd);}module[a70_0x202956(0x1eb)]=CucumberTestFramework;