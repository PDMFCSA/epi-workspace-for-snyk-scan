const a70_0x405067=a70_0x35f5;(function(_0x4792b8,_0x5f23b4){const _0x5cad7f=a70_0x35f5,_0x533c22=_0x4792b8();while(!![]){try{const _0x3bbdfe=-parseInt(_0x5cad7f(0x162))/0x1*(parseInt(_0x5cad7f(0x14c))/0x2)+parseInt(_0x5cad7f(0x172))/0x3*(-parseInt(_0x5cad7f(0x14a))/0x4)+parseInt(_0x5cad7f(0x145))/0x5*(parseInt(_0x5cad7f(0x140))/0x6)+parseInt(_0x5cad7f(0x158))/0x7+parseInt(_0x5cad7f(0x161))/0x8+parseInt(_0x5cad7f(0x15c))/0x9*(parseInt(_0x5cad7f(0x12b))/0xa)+parseInt(_0x5cad7f(0x168))/0xb;if(_0x3bbdfe===_0x5f23b4)break;else _0x533c22['push'](_0x533c22['shift']());}catch(_0x2fde00){_0x533c22['push'](_0x533c22['shift']());}}}(a70_0x162e,0x7becc));function a70_0x35f5(_0x43237f,_0x333f45){const _0x162e5d=a70_0x162e();return a70_0x35f5=function(_0x35f54e,_0x3a67b9){_0x35f54e=_0x35f54e-0xd7;let _0x474c77=_0x162e5d[_0x35f54e];return _0x474c77;},a70_0x35f5(_0x43237f,_0x333f45);}const TestFramework=require(a70_0x405067(0x157)),TestFrameworkState=require(a70_0x405067(0x193)),HookState=require(a70_0x405067(0x14e)),{createClassLogger}=require(a70_0x405067(0x18a)),TestFrameworkInstance=require('../instances/testFrameworkInstance.js'),CLIUtils=require(a70_0x405067(0xfc)),TrackedInstance=require(a70_0x405067(0x154)),TestFrameworkConstants=require('./constants/testFrameworkConstants.js'),{getManualUploadLogs,getMediaArtifactsLogs}=require(a70_0x405067(0x11d)),logger=createClassLogger(a70_0x405067(0x146)),{v4:uuidv4}=require(a70_0x405067(0x1a3)),util=require(a70_0x405067(0xf7)),TestInfo=require(a70_0x405067(0x10c)),GrpcClient=require(a70_0x405067(0x134));class CucumberTestFramework extends TestFramework{constructor(_0x547f74,_0x16d302,_0xb63663){super(_0x547f74,_0x16d302,_0xb63663);}async[a70_0x405067(0x127)](_0xb80b81,_0x42a70b,_0x4468a0={}){const _0x125904=a70_0x405067,_0x133107={};_0x133107[_0x125904(0x16e)]=_0x125904(0x1a4),_0x133107[_0x125904(0x186)]=function(_0x5393f3,_0x4fecd6){return _0x5393f3===_0x4fecd6;},_0x133107[_0x125904(0x185)]=function(_0xb99f8d,_0x705e30){return _0xb99f8d===_0x705e30;},_0x133107[_0x125904(0x13f)]=_0x125904(0x178);const _0x34f3a6=_0x133107;await super['trackEvent'](_0xb80b81,_0x42a70b,_0x4468a0);const _0x33447c=this[_0x125904(0xdf)](_0xb80b81,_0x42a70b,_0x4468a0);if(!_0x33447c){logger[_0x125904(0x139)](_0x34f3a6[_0x125904(0x16e)]);return;}try{let _0x31bb03,_0x1da63f;switch(_0xb80b81){case TestFrameworkState[_0x125904(0x176)]:_0x31bb03=_0x4468a0[_0x125904(0x114)],_0x1da63f=TestInfo[_0x125904(0x147)](_0x31bb03['id']);if(_0x34f3a6[_0x125904(0x186)](_0x42a70b,HookState['PRE'])){logger[_0x125904(0x139)](_0x125904(0xda)+_0x31bb03['id']);const _0x277873={};_0x277873[_0x125904(0x144)]=_0x1da63f,_0x277873[_0x125904(0x12f)]=_0x31bb03,_0x33447c['addMultipleEntries'](this[_0x125904(0x130)](_0x277873)),logger[_0x125904(0x139)](_0x125904(0x179)+_0x31bb03['id']),await this[_0x125904(0x121)](_0x33447c,_0x31bb03['id']);}else{if(_0x34f3a6[_0x125904(0x186)](_0x42a70b,HookState[_0x125904(0x126)])){const _0x5777a4={};_0x5777a4[_0x125904(0x144)]=_0x1da63f,_0x5777a4[_0x125904(0x12f)]=_0x31bb03,_0x33447c[_0x125904(0x15b)](this[_0x125904(0x123)](_0x5777a4)),await this['processPendingHooks'](_0x33447c,_0x31bb03['id']);}}break;case TestFrameworkState['LOG_REPORT']:_0x34f3a6[_0x125904(0x185)](_0x42a70b,HookState[_0x125904(0x126)])&&await this[_0x125904(0x155)](_0x33447c,_0xb80b81,_0x4468a0);break;default:if(CLIUtils['matchHookRegex'](_0xb80b81[_0x125904(0x170)]()[_0x125904(0x180)]('.')[0x1])){const _0x4eb6c5=await this[_0x125904(0x17b)](_0x33447c,_0xb80b81,_0x42a70b,_0x4468a0);_0x33447c[_0x125904(0x15b)](_0x4eb6c5);}else logger[_0x125904(0x139)](_0x125904(0x10d)+_0xb80b81+'\x20&\x20hookState='+_0x42a70b);break;}}catch(_0xd1be4b){logger[_0x125904(0xe6)](util['format'](_0x34f3a6['EWUJb'],_0xb80b81,_0x42a70b,_0x4468a0[_0x125904(0xd9)],_0xd1be4b));}_0x4468a0[_0x125904(0xd8)]=_0x33447c,await this[_0x125904(0x129)](_0x33447c,_0xb80b81,_0x42a70b,_0x4468a0);}[a70_0x405067(0xdf)](_0x400557,_0x5b18c8,_0x383cb8={}){const _0x59862b=a70_0x405067,_0x5e09ae={};_0x5e09ae[_0x59862b(0xde)]=function(_0x14a747,_0x40c464){return _0x14a747===_0x40c464;},_0x5e09ae['kfhcb']=function(_0x5a48a6,_0xfb8923){return _0x5a48a6===_0xfb8923;};const _0x40aef4=_0x5e09ae;let _0x26b525=null;return(_0x40aef4[_0x59862b(0xde)](_0x400557,TestFrameworkState['INIT_TEST'])||_0x40aef4[_0x59862b(0x19a)](_0x400557,TestFrameworkState[_0x59862b(0x10f)]))&&this[_0x59862b(0x13d)](_0x400557,_0x383cb8),_0x26b525=TestFramework[_0x59862b(0x188)](),_0x26b525;}[a70_0x405067(0x13d)](_0x571645,_0x5a19ea){const _0x251902=a70_0x405067,_0x17d31e=CLIUtils[_0x251902(0x153)](),_0x41a518=TrackedInstance[_0x251902(0x15e)](_0x17d31e);let _0x9a849a=null;logger[_0x251902(0x139)]('trackCucumberInstance:\x20created\x20instance\x20for\x20target='+_0x17d31e+_0x251902(0xf1)+_0x571645),_0x9a849a=new TestFrameworkInstance(_0x41a518,this['getTestFrameworks'](),this[_0x251902(0x10a)](),_0x571645,HookState[_0x251902(0x10f)]),TestFramework[_0x251902(0x11f)](_0x41a518,_0x9a849a),logger[_0x251902(0x139)](_0x251902(0xf5)+_0x41a518['getId']()+_0x251902(0x115)+_0x17d31e);}[a70_0x405067(0x130)](_0x7b8a88){const _0x246c60=a70_0x405067,_0x197d5b={};_0x197d5b[_0x246c60(0xf6)]=_0x246c60(0x15a);const _0x1f7b15=_0x197d5b,{testUUID:_0x5c3d99,testData:_0x412d5a}=_0x7b8a88;if(!_0x412d5a||!_0x412d5a[_0x246c60(0x1a3)])return logger['debug'](_0x1f7b15[_0x246c60(0xf6)]),{};const _0x48193c=_0x412d5a['uuid'],_0x44633e=_0x412d5a[_0x246c60(0x1a3)],_0x594a3c=this[_0x246c60(0x190)]()[0x0],_0xc493e7=this['getTestFrameworksVersions'](),_0x1fa990={[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x594a3c,[TestFrameworkConstants[_0x246c60(0xf0)]]:_0xc493e7[_0x594a3c],[TestFrameworkConstants[_0x246c60(0x184)]]:[],[TestFrameworkConstants[_0x246c60(0x116)]]:{},[TestFrameworkConstants[_0x246c60(0x165)]]:{},[TestFrameworkConstants[_0x246c60(0x16f)]]:_0x48193c,[TestFrameworkConstants[_0x246c60(0x14f)]]:TestFrameworkConstants[_0x246c60(0x141)],[TestFrameworkConstants[_0x246c60(0x16c)]]:_0x412d5a[_0x246c60(0xdb)]||'',[TestFrameworkConstants[_0x246c60(0xf3)]]:_0x412d5a[_0x246c60(0x12c)]||'',[TestFrameworkConstants[_0x246c60(0x197)]]:_0x44633e,[TestFrameworkConstants[_0x246c60(0x19e)]]:_0x412d5a[_0x246c60(0xdb)]||'',[TestFrameworkConstants[_0x246c60(0x159)]]:_0x412d5a[_0x246c60(0x102)]||'',[TestFrameworkConstants[_0x246c60(0xdd)]]:_0x412d5a['body']?.[_0x246c60(0xe8)]||null,[TestFrameworkConstants[_0x246c60(0x192)]]:_0x412d5a[_0x246c60(0xec)]||[],[TestFrameworkConstants[_0x246c60(0x11c)]]:_0x412d5a[_0x246c60(0x17c)]||new Date()[_0x246c60(0x177)](),[TestFrameworkConstants['KEY_TEST_SCOPE']]:_0x412d5a[_0x246c60(0xf8)]?.[0x0]||'',[TestFrameworkConstants['KEY_TEST_SCOPES']]:_0x412d5a[_0x246c60(0xf8)]||[],[TestFrameworkConstants[_0x246c60(0xfb)]]:_0x412d5a['customRerunParam']?.[_0x246c60(0x17d)]||_0x412d5a[_0x246c60(0xdb)]||'',[TestFrameworkConstants['KEY_CUSTOM_TAGS']]:{},[TestFrameworkConstants[_0x246c60(0x151)]]:_0x412d5a[_0x246c60(0x103)]||{}};TestInfo[_0x246c60(0xe7)](_0x44633e,_0x1fa990),logger[_0x246c60(0x139)]('Parsed\x20cucumber\x20test:\x20'+_0x412d5a['name']+_0x246c60(0x111)+_0x48193c);const _0x366980={};return _0x366980[_0x44633e]=_0x1fa990,_0x366980;}[a70_0x405067(0x123)](_0x12484f){const _0x5d568c=a70_0x405067,_0x1fe342={'aoUMf':_0x5d568c(0xe3),'KOLeb':'unknown','ySQzS':function(_0x1169c6,_0xaefb28){return _0x1169c6===_0xaefb28;},'wPrlh':_0x5d568c(0x136),'fJTBW':_0x5d568c(0x135),'zStiO':function(_0x31bee8,_0x3f46e0,_0x34dfac){return _0x31bee8(_0x3f46e0,_0x34dfac);},'dPFan':function(_0x20aaf9,_0x30975e){return _0x20aaf9>_0x30975e;},'kJpvd':function(_0x2a0a2b,_0x41d06d){return _0x2a0a2b>_0x41d06d;}},{testUUID:_0x3cd173,testData:_0xcd92a4}=_0x12484f;if(!_0xcd92a4||!_0xcd92a4[_0x5d568c(0x1a3)])return logger[_0x5d568c(0x139)](_0x1fe342[_0x5d568c(0x183)]),{};const _0x4f9f44=this[_0x5d568c(0xdf)](TestFrameworkState[_0x5d568c(0x176)],HookState['POST']),_0x233fc3=_0xcd92a4[_0x5d568c(0x1a3)],_0x30c34c=TestInfo[_0x5d568c(0x125)](_0x233fc3)||{},_0x5b9d23=_0x30c34c?_0x30c34c[TestFrameworkConstants[_0x5d568c(0x112)]]||{}:{},_0x53243f={..._0x30c34c,[TestFrameworkConstants['KEY_TEST_RESULT']]:_0xcd92a4[_0x5d568c(0x150)]||_0x1fe342[_0x5d568c(0x109)],[TestFrameworkConstants[_0x5d568c(0x189)]]:_0xcd92a4[_0x5d568c(0x16a)]||new Date()[_0x5d568c(0x177)](),[TestFrameworkConstants[_0x5d568c(0x120)]]:new Date()[_0x5d568c(0x177)](),[TestFrameworkConstants[_0x5d568c(0x112)]]:_0x5b9d23,[TestFrameworkConstants[_0x5d568c(0x1a5)]]:[],[TestFrameworkConstants[_0x5d568c(0x151)]]:_0xcd92a4[_0x5d568c(0x103)]||{}};_0x1fe342[_0x5d568c(0x174)](_0xcd92a4[_0x5d568c(0x150)],_0x1fe342['wPrlh'])&&_0xcd92a4[_0x5d568c(0xed)]&&(_0x53243f[TestFrameworkConstants[_0x5d568c(0x195)]]=_0xcd92a4[_0x5d568c(0x12d)]||_0x1fe342['fJTBW'],_0x53243f[TestFrameworkConstants['KEY_TEST_FAILURE_REASON']]=_0xcd92a4[_0x5d568c(0x19b)]||'',_0x53243f[TestFrameworkConstants[_0x5d568c(0xeb)]]=_0xcd92a4[_0x5d568c(0xed)]);const _0x4ad983=TestInfo[_0x5d568c(0x125)](_0x233fc3)[TestFrameworkConstants[_0x5d568c(0x194)]]||{},_0x59f91b=_0x1fe342[_0x5d568c(0x118)](getManualUploadLogs,_0x4ad983,_0x4f9f44[_0x5d568c(0xe9)]()[_0x5d568c(0x164)](_0x233fc3)[TestFrameworkConstants[_0x5d568c(0x16f)]]);if(_0x1fe342[_0x5d568c(0x100)](_0x59f91b[_0x5d568c(0xd9)],0x0)){const _0x4b7efe=_0x53243f[TestFrameworkConstants[_0x5d568c(0x1a5)]]||[];_0x53243f[TestFrameworkConstants[_0x5d568c(0x1a5)]]=[..._0x4b7efe,..._0x59f91b];}_0xcd92a4[_0x5d568c(0x113)]&&_0x1fe342[_0x5d568c(0x107)](_0xcd92a4['hooks'][_0x5d568c(0xd9)],0x0)&&(_0x53243f[TestFrameworkConstants['KEY_HOOKS_FINISHED']]=_0xcd92a4[_0x5d568c(0x113)]);TestInfo['setTestDetails'](_0x233fc3,_0x53243f),logger[_0x5d568c(0x139)](_0x5d568c(0x181)+_0xcd92a4[_0x5d568c(0xdb)]+_0x5d568c(0x148)+_0xcd92a4[_0x5d568c(0x150)]);const _0xc3d526={};return _0xc3d526[_0x233fc3]=_0x53243f,_0xc3d526;}async[a70_0x405067(0x17b)](_0x132e8c,_0x3ffe39,_0x384a27,_0x523f06){const _0x242db0=a70_0x405067,_0x45d408={'PPcRe':'No\x20hook\x20data\x20provided\x20for\x20cucumber\x20hook\x20event','VpJqU':function(_0x52ff5d){return _0x52ff5d();},'dWWyY':function(_0x5f5d73,_0x4220bb){return _0x5f5d73 in _0x4220bb;},'HSLKA':function(_0x1ebb5d,_0x18588b){return _0x1ebb5d===_0x18588b;},'TsVZI':function(_0x3e9dbf,_0x14b8dd){return _0x3e9dbf>_0x14b8dd;},'EQphO':function(_0x2e2436,_0x339b73){return _0x2e2436===_0x339b73;},'TRZhg':_0x242db0(0x136),'eXIca':_0x242db0(0x135),'qwJpO':_0x242db0(0x101),'bxODj':function(_0x5abbf9,_0x43a40e){return _0x5abbf9!==_0x43a40e;}},{hookData:_0x5ecb47}=_0x523f06;if(!_0x5ecb47)return logger[_0x242db0(0x139)](_0x45d408['PPcRe']),{};const _0x17556a=_0x5ecb47[_0x242db0(0x1a3)]||_0x45d408['VpJqU'](uuidv4),_0x396437=_0x5ecb47[_0x242db0(0x13b)],_0x54f182=_0x3ffe39[_0x242db0(0x170)]()['split']('.')[0x1],_0x2e2833=TestInfo[_0x242db0(0x125)](_0x396437)[TestFrameworkConstants[_0x242db0(0x112)]]||{},_0x5c2452=_0x132e8c[_0x242db0(0xe9)]()[_0x242db0(0x164)](_0x396437);if(!_0x5c2452)return logger[_0x242db0(0x139)]('No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20'+_0x396437+',\x20storing\x20as\x20pending\x20hook'),this[_0x242db0(0xee)](_0x132e8c,_0x396437,_0x3ffe39,_0x384a27,_0x523f06),{};let _0x23d6ff=_0x5c2452[TestFrameworkConstants[_0x242db0(0x165)]];!_0x23d6ff&&(_0x23d6ff={});!_0x45d408[_0x242db0(0xe4)](_0x54f182,_0x23d6ff)&&(_0x23d6ff[_0x54f182]=[]);let _0x5d8690=_0x5c2452[TestFrameworkConstants[_0x242db0(0x116)]];!_0x5d8690&&(_0x5d8690={});!_0x45d408[_0x242db0(0xe4)](_0x54f182,_0x5d8690)&&(_0x5d8690[_0x54f182]=[]);const _0x458118={[TestFrameworkConstants[_0x242db0(0x165)]]:_0x23d6ff,[TestFrameworkConstants[_0x242db0(0x116)]]:_0x5d8690},_0x48deb4={};_0x48deb4[_0x396437]=_0x458118;const _0x56a223=_0x48deb4;if(_0x45d408['HSLKA'](_0x384a27,HookState[_0x242db0(0x117)])){const _0x2bed48={[TestFrameworkConstants['KEY_HOOK_ID']]:_0x17556a,[TestFrameworkConstants[_0x242db0(0xe0)]]:TestFrameworkConstants[_0x242db0(0x17f)],[TestFrameworkConstants['KEY_EVENT_STARTED_AT']]:_0x5ecb47[_0x242db0(0x19d)],[TestFrameworkConstants['KEY_HOOK_LOGS']]:[],[TestFrameworkConstants['KEY_HOOK_NAME']]:_0x5ecb47['hook_type'],[TestFrameworkConstants['KEY_CUSTOM_TAGS']]:_0x2e2833};_0x2bed48['key']=_0x54f182;const _0x4eefae=_0x2bed48;_0x23d6ff[_0x54f182][_0x242db0(0x13c)](_0x4eefae),_0x56a223[_0x396437][TestFrameworkConstants[_0x242db0(0x16d)]]=_0x54f182,logger[_0x242db0(0x139)]('trackHookEvent:\x20Hook\x20Started\x20in\x20PRE\x20key\x20=\x20'+_0x54f182+_0x242db0(0xfe)+_0x4eefae+_0x242db0(0x128)+_0x523f06);}else{if(_0x45d408[_0x242db0(0xf2)](_0x384a27,HookState[_0x242db0(0x126)])){const _0x3ad0b1=_0x5ecb47[_0x242db0(0x150)],_0x787271=_0x23d6ff[_0x54f182]||[];logger[_0x242db0(0x139)]('trackHookEvent:\x20Hook\x20List\x20in\x20Post\x20'+_0x787271+_0x242db0(0xfd)+_0x523f06);if(_0x45d408[_0x242db0(0x14b)](_0x787271[_0x242db0(0xd9)],0x0)){const _0x11e0be=_0x787271[_0x242db0(0x12e)]();_0x45d408[_0x242db0(0x11e)](_0x5ecb47[_0x242db0(0x150)],_0x45d408[_0x242db0(0x17a)])&&_0x5ecb47['failure_data']?(_0x11e0be[TestFrameworkConstants['KEY_HOOK_FAILURE_TYPE']]=_0x5ecb47[_0x242db0(0x12d)]||_0x45d408[_0x242db0(0xe2)],_0x11e0be[TestFrameworkConstants[_0x242db0(0x137)]]=_0x5ecb47[_0x242db0(0x19b)]||'',_0x11e0be[TestFrameworkConstants[_0x242db0(0x131)]]=_0x5ecb47[_0x242db0(0x143)]):_0x11e0be[TestFrameworkConstants[_0x242db0(0xe0)]]=_0x45d408[_0x242db0(0x14d)];_0x45d408[_0x242db0(0x196)](_0x3ad0b1,TestFrameworkConstants[_0x242db0(0x17f)])&&(_0x11e0be[TestFrameworkConstants['KEY_HOOK_RESULT']]=_0x3ad0b1);_0x11e0be[TestFrameworkConstants[_0x242db0(0x156)]]=_0x5ecb47['finished_at']||new Date()[_0x242db0(0x177)](),_0x11e0be[TestFrameworkConstants[_0x242db0(0x112)]]=_0x2e2833;const _0x42eb15=_0x11e0be[TestFrameworkConstants[_0x242db0(0x160)]];!_0x5d8690[_0x54f182]&&(_0x5d8690[_0x54f182]=[]),_0x5d8690[_0x54f182][_0x242db0(0x13c)](_0x11e0be),_0x56a223[_0x396437][TestFrameworkConstants[_0x242db0(0x149)]]=_0x54f182;}}}return logger[_0x242db0(0x139)](_0x242db0(0xfa)+_0x5ecb47[_0x242db0(0x167)]+_0x242db0(0x1a2)+_0x17556a+_0x242db0(0x124)+_0x396437),_0x56a223;}[a70_0x405067(0x18d)](_0x1c8069){const _0x4f6c6c=a70_0x405067,_0x23a237={};_0x23a237[_0x4f6c6c(0xea)]=_0x4f6c6c(0xdc);const _0x7548c1=_0x23a237;try{const _0x3981a8=_0x1c8069[_0x4f6c6c(0x114)]?_0x1c8069[_0x4f6c6c(0x114)]['id']:_0x1c8069[_0x4f6c6c(0x142)][_0x4f6c6c(0x13b)],_0x1a1b6e=_0x1c8069[_0x4f6c6c(0xd8)],_0x50b50c=_0x1a1b6e[_0x4f6c6c(0x13e)](),_0x3c7925=_0x1a1b6e[_0x4f6c6c(0xe9)]()[_0x4f6c6c(0x164)](_0x3981a8);if(!_0x3c7925)return logger[_0x4f6c6c(0x139)](_0x4f6c6c(0x18c)+_0x3981a8),{};logger[_0x4f6c6c(0x139)](_0x4f6c6c(0x11b)+_0x3981a8);const {[TestFrameworkConstants[_0x4f6c6c(0x17e)]]:_0x37d619='',[TestFrameworkConstants[_0x4f6c6c(0xf0)]]:_0x1f8b72='',[TestFrameworkConstants['KEY_TEST_STARTED_AT']]:_0x5670c0='',[TestFrameworkConstants[_0x4f6c6c(0x189)]]:_0x451efc=''}=_0x3c7925,_0x354483=_0x1a1b6e[_0x4f6c6c(0x15f)]()[_0x4f6c6c(0x170)]()[_0x4f6c6c(0x180)]('.')[0x1],_0x3bbdd7=_0x1a1b6e['getCurrentHookState']()[_0x4f6c6c(0x170)]()[_0x4f6c6c(0x180)]('.')[0x1],_0x2ee6ef=global?.[_0x4f6c6c(0x163)]?.['workerInfo']?.[_0x4f6c6c(0x182)],_0x44ffb6=_0x1a1b6e[_0x4f6c6c(0xe1)](),_0x335613=Buffer[_0x4f6c6c(0x19c)](JSON[_0x4f6c6c(0x133)](_0x3c7925))[_0x4f6c6c(0x170)](_0x7548c1[_0x4f6c6c(0xea)]),_0x23b86d={'hash':_0x50b50c['getId'](),'threadId':_0x50b50c[_0x4f6c6c(0x11a)]()['toString'](),'processId':_0x50b50c[_0x4f6c6c(0x13a)]()[_0x4f6c6c(0x170)]()},_0x260889={};_0x260889['platformIndex']=_0x2ee6ef,_0x260889['testFrameworkName']=_0x37d619,_0x260889[_0x4f6c6c(0x105)]=_0x1f8b72,_0x260889['testFrameworkState']=_0x354483,_0x260889[_0x4f6c6c(0x110)]=_0x3bbdd7,_0x260889[_0x4f6c6c(0x17c)]=_0x5670c0,_0x260889[_0x4f6c6c(0x10b)]=_0x451efc,_0x260889[_0x4f6c6c(0x1a3)]=_0x44ffb6,_0x260889[_0x4f6c6c(0x106)]=_0x335613,_0x260889['executionContext']=_0x23b86d;const _0x5e3010=_0x260889;return logger['debug']('createTestFrameworkEventPayload:\x20complete\x20for\x20testId:\x20'+_0x3981a8+_0x4f6c6c(0x15d)+_0x354483+'\x20hookState:\x20'+_0x3bbdd7),_0x5e3010;}catch(_0x20728f){return logger[_0x4f6c6c(0xe6)]('Error\x20in\x20createTestFrameworkEventPayload:\x20'+util[_0x4f6c6c(0xf4)](_0x20728f)),{};}}async['sendLogCreatedEvent'](_0x18c72f,_0xe0bb16,_0x450c0a){const _0x50470c=a70_0x405067,_0x2a8981={'htkpk':function(_0x281415,_0x151af3,_0x2ed934){return _0x281415(_0x151af3,_0x2ed934);},'wVOGK':function(_0x3b3245,_0x571880){return _0x3b3245===_0x571880;},'gwPQW':_0x50470c(0x19f),'NwRkS':function(_0x1a522a,_0x2e7781){return _0x1a522a/_0x2e7781;},'Tmugz':function(_0x4a47c6,_0x390845){return _0x4a47c6<_0x390845;},'PxSUI':function(_0x1fed20,_0xff560b){return _0x1fed20*_0xff560b;},'LzFRS':function(_0x4a3d84,_0x1a2fa6){return _0x4a3d84+_0x1a2fa6;},'NEsTd':function(_0x1cd124,_0x2d2624){return _0x1cd124+_0x2d2624;},'XbNDM':function(_0x64c485,_0x252eea){return _0x64c485+_0x252eea;},'EFYef':'Cucumber\x20log\x20created\x20event'};try{const _0x33b36f=_0x450c0a['testUUID'],_0x343227=_0x18c72f[_0x50470c(0xe9)]()['get'](_0x33b36f),{[TestFrameworkConstants[_0x50470c(0x17e)]]:_0x235252='',[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x40ad86=''}=_0x343227,_0x14e763=TestInfo[_0x50470c(0x18f)](_0x33b36f),_0x5d54d3=TestInfo[_0x50470c(0x125)](_0x33b36f)[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x582e00=_0x2a8981[_0x50470c(0x16b)](getMediaArtifactsLogs,_0x5d54d3,_0x18c72f[_0x50470c(0xe9)]()[_0x50470c(0x164)](_0x33b36f)[TestFrameworkConstants['KEY_TEST_UUID']]),_0x91d998=(_0x14e763||[])[_0x50470c(0x138)](_0x582e00||[]);if(!_0x91d998||_0x2a8981[_0x50470c(0x104)](_0x91d998[_0x50470c(0xd9)],0x0)){logger[_0x50470c(0x139)](_0x2a8981[_0x50470c(0x119)]);return;}const _0x28885f=0x28,_0x4c1d6d=Math['ceil'](_0x2a8981[_0x50470c(0xef)](_0x91d998[_0x50470c(0xd9)],_0x28885f));for(let _0x15d415=0x0;_0x2a8981[_0x50470c(0x169)](_0x15d415,_0x4c1d6d);_0x15d415++){const _0x580e6d=_0x2a8981['PxSUI'](_0x15d415,_0x28885f),_0x16b665=_0x2a8981[_0x50470c(0x198)](_0x580e6d,_0x28885f),_0xd14588=_0x91d998[_0x50470c(0x108)](_0x580e6d,_0x16b665),_0x48eaae={'platformIndex':'0','logs':_0xd14588,'testFrameworkName':_0x235252,'testFrameworkVersion':_0x40ad86,'testFrameworkState':_0xe0bb16[_0x50470c(0x170)]()[_0x50470c(0x180)]('.')[0x1]};logger['debug'](_0x50470c(0xff)+_0x33b36f+_0x50470c(0x18e)+_0x2a8981[_0x50470c(0x1a1)](_0x15d415,0x1)+'/'+_0x4c1d6d+_0x50470c(0x171)+util[_0x50470c(0x187)](_0x48eaae));const _0x5a53bf=await GrpcClient[_0x50470c(0x10e)]()['logCreatedEvent'](_0x48eaae);logger['debug'](_0x50470c(0xff)+_0x33b36f+_0x50470c(0x18e)+_0x2a8981[_0x50470c(0x173)](_0x15d415,0x1)+'/'+_0x4c1d6d+_0x50470c(0x1a0)+util[_0x50470c(0x187)](_0x5a53bf));}}catch(_0x148ad5){logger[_0x50470c(0xe6)](_0x50470c(0x199)+util[_0x50470c(0xf4)](_0x148ad5));}logger['debug'](_0x2a8981['EFYef']);}['storePendingHook'](_0x3b8dcd,_0x41a143,_0x2182f9,_0x3d6c87,_0x2bd789){const _0x385e80=a70_0x405067,_0x196a2a={'testId':_0x41a143,'testFrameworkState':_0x2182f9,'hookState':_0x3d6c87,'args':_0x2bd789,'timestamp':new Date()[_0x385e80(0x177)]()};_0x3b8dcd[_0x385e80(0x18b)](_0x41a143,_0x196a2a),logger[_0x385e80(0x139)]('Stored\x20pending\x20hook\x20for\x20testId:\x20'+_0x41a143+_0x385e80(0xf9)+_0x2182f9+_0x385e80(0x152)+_0x3d6c87);}async['processPendingHooks'](_0x1c3ba7,_0x1c3a2a){const _0xc2c4ab=a70_0x405067,_0x36cbf0={};_0x36cbf0[_0xc2c4ab(0x166)]=function(_0x3bbeae,_0x5a72a7){return _0x3bbeae>_0x5a72a7;};const _0x33d5d0=_0x36cbf0;if(!_0x1c3ba7[_0xc2c4ab(0x122)](_0x1c3a2a))return;const _0x59827f=_0x1c3ba7['getPendingHooks'](_0x1c3a2a);logger[_0xc2c4ab(0x139)](_0xc2c4ab(0xd7)+_0x59827f[_0xc2c4ab(0xd9)]+_0xc2c4ab(0xe5)+_0x1c3a2a);for(const _0x57cbb8 of _0x59827f){try{const _0x57cf02=await this[_0xc2c4ab(0x17b)](_0x1c3ba7,_0x57cbb8[_0xc2c4ab(0x191)],_0x57cbb8[_0xc2c4ab(0x110)],_0x57cbb8[_0xc2c4ab(0x12a)]);_0x57cf02&&_0x33d5d0[_0xc2c4ab(0x166)](Object[_0xc2c4ab(0x132)](_0x57cf02)[_0xc2c4ab(0xd9)],0x0)&&_0x1c3ba7['addMultipleEntries'](_0x57cf02),await this[_0xc2c4ab(0x129)](_0x1c3ba7,_0x57cbb8[_0xc2c4ab(0x191)],_0x57cbb8[_0xc2c4ab(0x110)],_0x57cbb8[_0xc2c4ab(0x12a)]);}catch(_0x59babd){logger['error']('Error\x20processing\x20pending\x20hook\x20for\x20testId:\x20'+_0x1c3a2a+',\x20error:\x20'+_0x59babd);}}_0x1c3ba7['removePendingHooks'](_0x1c3a2a),logger['debug'](_0xc2c4ab(0x175)+_0x1c3a2a);}}function a70_0x162e(){const _0x276519=['getTrackedInstance','KEY_TEST_ENDED_AT','../../../helpers/classLogger.js','addPendingHook','createTestFrameworkEventPayload:\x20No\x20test\x20data\x20found\x20for\x20test\x20ID:\x20','createTestFrameworkEventPayload','\x20batch\x20','readLogObjects','getTestFrameworks','testFrameworkState','KEY_TEST_TAGS','../state/testFrameworkState.js','KEY_TEST_ATTACHMENTS','KEY_TEST_FAILURE_TYPE','bxODj','KEY_TEST_ID','LzFRS','sendLogCreatedEvent:\x20Error\x20in\x20sending\x20log\x20events:\x20','kfhcb','failure_reason','from','started_at','KEY_TEST_NAME','sendLogCreatedEvent:\x20No\x20logs\x20found,\x20skipping','\x20response=','NEsTd','\x20with\x20id\x20','uuid','trackEvent:\x20Test\x20Framework\x20instance\x20not\x20found','KEY_LOGS','Processing\x20','instance','length','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','name','base64','KEY_TEST_CODE','dLWmB','resolveInstance','KEY_HOOK_RESULT','getRef','eXIca','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test\x20result','dWWyY','\x20pending\x20hooks\x20for\x20testId:\x20','error','setTestDetails','code','getAllData','rlWjB','KEY_TEST_FAILURE','tags','failure','storePendingHook','NwRkS','KEY_TEST_FRAMEWORK_VERSION',',\x20state=','HSLKA','KEY_TEST_FILE_PATH','format','trackCucumberInstance:\x20saved\x20instance\x20contextId=','wHksK','util','scopes',',\x20state:\x20','Tracked\x20cucumber\x20hook\x20event:\x20','KEY_TEST_RERUN_NAME','../cliUtils.js','\x20and\x20args\x20=\x20','\x20&\x20hook\x20=\x20','sendLogCreatedEvent:\x20for\x20testId:\x20','dPFan','passed','location','meta','wVOGK','testFrameworkVersion','eventJson','kJpvd','slice','KOLeb','getTestFrameworksVersions','endedAt','../TestInfo.js','trackEvent:\x20unsupported\x20testFrameworkState=','getInstance','NONE','hookState','\x20with\x20UUID:\x20','KEY_CUSTOM_TAGS','hooks','test','\x20target=','KEY_HOOKS_FINISHED','PRE','zStiO','gwPQW','getThreadId','createTestFrameworkEventPayload\x20testId:\x20','KEY_TEST_STARTED_AT','../../../helpers/helper.js','EQphO','setTrackedInstance','KEY_TEST_RESULT_AT','processPendingHooks','hasPendingHooks','parseCucumberTestResult','\x20for\x20test:\x20','getTestDetails','POST','trackEvent','\x20\x20and\x20args\x20=\x20','runHooks','args','950lLkgEA','file_name','failure_type','pop','testData','parseCucumberTest','KEY_HOOK_FAILURE','keys','stringify','../grpcClient','UnhandledError','failed','KEY_HOOK_FAILURE_REASON','concat','debug','getProcessId','test_run_id','push','trackCucumberInstance','getContext','EWUJb','1233618GUxGyS','DEFAULT_TEST_RESULT','hookData','failure_data','testUUID','5cCiDwa','CucumberTestFramework','getTestUUID','\x20with\x20result:\x20','KEY_HOOK_LAST_FINISHED','4XIwtPT','TsVZI','2PFSkTr','qwJpO','../state/hookState.js','KEY_TEST_RESULT','result','KEY_TEST_META',',\x20hookState:\x20','getCurrentInstanceName','../instances/trackedInstance.js','sendLogCreatedEvent','KEY_EVENT_ENDED_AT','./testFramework','4877971BVDdbv','KEY_TEST_LOCATION','No\x20test\x20data\x20or\x20UUID\x20found\x20for\x20cucumber\x20test','addMultipleEntries','8523QyKhpq','\x20testState:\x20','createContext','getCurrentTestState','KEY_HOOK_ID','4933680xzTjoW','694987ooGnlC','__workerDetails','get','KEY_HOOKS_STARTED','CQAwD','hook_type','2971265LaJsxp','Tmugz','finishedAt','htkpk','KEY_AUTOMATE_SESSION_NAME','KEY_HOOK_LAST_STARTED','KKiwS','KEY_TEST_UUID','toString','\x20payload=','2029989wsHSmW','XbNDM','ySQzS','Cleared\x20processed\x20pending\x20hooks\x20for\x20testId:\x20','TEST','toISOString','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20','TRZhg','trackHookEvent','startedAt','rerun_name','KEY_TEST_FRAMEWORK_NAME','DEFAULT_HOOK_RESULT','split','Updated\x20cucumber\x20test\x20result:\x20','parallelIndex','aoUMf','KEY_TEST_LOGS','dWMIj','ETRzY','inspect'];a70_0x162e=function(){return _0x276519;};return a70_0x162e();}module['exports']=CucumberTestFramework;