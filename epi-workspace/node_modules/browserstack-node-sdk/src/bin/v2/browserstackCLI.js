const a63_0x596d10=a63_0x31a9;function a63_0x2486(){const _0x31035b=['start','1796lhvRex','getBrowserstackConfig','SDK_CLI_BIN_PATH','fuFgU','EETDx','SDK_CLI_ON_BOOTSTRAP','buildLogger','jBQJk','CLIUtils.setupCliPath\x20returned\x20null','AbCJt','getBrowserstackCliConfig','JEST','getObservability','ljqJZ','./modules/observabilityModule.js','setCliArgs:\x20cliArgs=','env','forEach','cliArgs','eiLNf','\x20hashed_id=','key','isLTSSession','turboScale','split','dQkbk','loadModules','init','toObject','setLTSSessionId','CLI\x20params\x20loaded:\x20','client','Failed\x20to\x20start\x20as\x20child\x20process:\x20','./framework/playwrightAutomationFramework.js','SxFjV','8993844Liubpy','PpVVa','stop:\x20stopBinSession\x20build_link=','slice','setConfig:\x20error=','exit','Accessibility\x20initialization\x20failed\x20with\x20','startMain:\x20main-process\x20started','setupTestFramework','includes','getBrowserstackConfigPath','CLI\x20binary\x20path\x20resolved\x20to:\x20','errorsList','Unconfiguring\x20modules','FbKCL','bootstrap:\x20failed\x20to\x20bootstrap=','SDK_CLI_START','accessibilityOptions','oSRRJ','Setting\x20up\x20CLI\x20binary\x20path...','buildHashedId','modules','./modules/playwrightDriverModule.js','CHqwk','vyZNE','resolve','syncAccessibilityConfig:\x20Updated\x20browserstackConfig.accessibility\x20from\x20CLI\x20response:\x20','XGWra','stop:\x20shutting\x20down\x20CLI','error','getAutomationFramework','getCliBinPath','stderr','./framework/constants/testFrameworkConstants.js','binSessionId','uqqxI','./framework/jestTestFramework.js','clearAttachments','uhjTo','YEBWO','nKdlI','logger','Error\x20reading\x20accessibility\x20success\x20value:\x20','./framework/cucumberTestFramework.js','HashedID','exitCode','\x20errors:','894173XnWqdi','CLI\x20stderr:\x20','code','startMain','getCliArgs','stop:\x20error\x20in\x20stop\x20session\x20exception=','data','gbWbd','version','getAccessibility','browserstackConfigPath','isMainConnected','process','wpETN','./grpcClient.js','isDevelopmentEnv','../../helpers/logger.js','warn','../../helpers/classLogger.js','BuildLink','nIrsK','hKBXD','sdk','6020616IIrvqu','../utils/constants.js','loadModules:\x20Loading\x20modules','Error\x20Trace\x20ID:\x20','testFramework','stringify','47707HQYCWO','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','./uploadAttachmentsManager.js','3060UZhVIH','errorTraceId','test','config','getAutomateBuildlink','cliParams','hoyjY','getBinSessionId','Starting\x20as\x20child\x20process\x20with\x20session\x20ID:\x20','trim','syncAccessibilityConfig:\x20error=','SDK_CONNECT_BIN_SESSION','pid','ePHmh','isArray','initialized','setBrowserstackConfig','connected','Error\x20in\x20start:\x20','48ZizaHF','connectBinSession','qVMVP','browserstackConfig','debug','setupAutomationFramework','O11yHashedID','getTestFrameworkDetail','getAccessibilityModule','toLowerCase','RUlUv','veXAw','getSuccess','toString','YDCXX','BrowserstackCLI','JKkmM','getClient','startChild','CUCUMBER','loadModules:\x20binSessionId=','isChildConnected','EHEOI','./framework/playwrightTestFramework.js','CLI\x20process\x20exited\x20with\x20code\x20','getCLIParamsForDevEnv','oLeSw','isRunning','accessibility','srWol','./cliUtils.js','../../helpers/helper.js','child_process','GMpCp','2550GjPYWB','getTesthub','setupCliPath','getInstance','automationFramework','MODULE_NAME','./modules/testhubModule.js','kmZPN','parse','SIGKILL','BROWSERSTACK_TURBOSCALE','GNnsN','getTestDetails','Failed\x20to\x20get\x20CLI\x20binary\x20path.\x20CLI\x20setup\x20failed.','BROWSERSTACK_CLI_ENV','syncAccessibilityConfig:\x20Updated\x20browserstackConfig.accessibilityOptions\x20from\x20CLI\x20response','./modules/accessibilityModule.js','getTestFramework','stop','format','../../helpers/performance/performance-tester.js','stop:\x20channel\x20closed','ZObHf','close','./TestInfo.js','stop:\x20error\x20in\x20closing\x20channel:\x20%s','KEY_CUSTOM_TAGS','BvEZI','browserstackCliConfig','end','length','JshtD','syncAccessibilityConfig:\x20CLI\x20config\x20not\x20available,\x20skipping\x20sync','odhfp','./modules/loadTestModule.js','1664385PXWTVq','configureModules','GzMwK','startChild:\x20client\x20and\x20channel\x20already\x20exist,\x20stopping\x20here','OzBSe','testhubConfig','PLAYWRIGHT','unConfigureModules','vQrYG','RIiWb','NNJLB','syncAccessibilityConfig:\x20browserstackConfig\x20not\x20set,\x20skipping\x20sync','getChannel','stdout','message','function','dOrda','FlPxP','isCliEnabled','SDK_CLI_ON_STOP','getConfig','getAutomationFrameworkDetail','2193938KdrnIx','loadCliParams','kill','setConfig','name','stack','setCliArgs:\x20error=','info','kcFwu','BROWSERSTACK_CLI_ENABLED','connect','CJFcz','1RLTmRN','isUndefined','Error:\x20[','bxTcU','startBinSession','BiVas','isFalse'];a63_0x2486=function(){return _0x31035b;};return a63_0x2486();}(function(_0x338c2f,_0x311325){const _0x5da813=a63_0x31a9,_0x1c4050=_0x338c2f();while(!![]){try{const _0x50dd08=parseInt(_0x5da813(0xa8))/0x1*(-parseInt(_0x5da813(0x9c))/0x2)+-parseInt(_0x5da813(0x17a))/0x3+parseInt(_0x5da813(0xb0))/0x4*(parseInt(_0x5da813(0x122))/0x5)+parseInt(_0x5da813(0x119))/0x6+parseInt(_0x5da813(0x102))/0x7*(-parseInt(_0x5da813(0x135))/0x8)+parseInt(_0x5da813(0xd3))/0x9+-parseInt(_0x5da813(0x157))/0xa*(-parseInt(_0x5da813(0x11f))/0xb);if(_0x50dd08===_0x311325)break;else _0x1c4050['push'](_0x1c4050['shift']());}catch(_0x2aa2a4){_0x1c4050['push'](_0x1c4050['shift']());}}}(a63_0x2486,0xeba9d));const {spawn}=require(a63_0x596d10(0x155)),GrpcClient=require(a63_0x596d10(0x110)),util=require('util'),CLIUtils=require(a63_0x596d10(0x153)),PlaywrightAutomationFramework=require(a63_0x596d10(0xd1)),PlaywrightTestFramework=require(a63_0x596d10(0x14c)),CucumberTestFramework=require(a63_0x596d10(0xfe)),JestTestFramework=require(a63_0x596d10(0xf7)),{createClassLogger}=require(a63_0x596d10(0x114)),PerformanceTester=require(a63_0x596d10(0x16b)),{EVENTS:PerformanceEvents}=require('../../helpers/performance/constants'),AccessibilityModule=require(a63_0x596d10(0x167)),{CLI_SUPPORTED_FRAMEWORKS,FRAMEWORKS}=require(a63_0x596d10(0x11a)),helper=require(a63_0x596d10(0x154)),TestFrameworkConstants=require(a63_0x596d10(0xf4)),buildLogger=require(a63_0x596d10(0x112))[a63_0x596d10(0xb6)],LoadTestModule=require(a63_0x596d10(0x179)),TestInfo=require(a63_0x596d10(0x16f));function a63_0x31a9(_0x3536f4,_0x915424){const _0x24869f=a63_0x2486();return a63_0x31a9=function(_0x31a9fc,_0x2b2800){_0x31a9fc=_0x31a9fc-0x96;let _0x592501=_0x24869f[_0x31a9fc];return _0x592501;},a63_0x31a9(_0x3536f4,_0x915424);}class BrowserstackCLI{static #instance=null;static ['BuildLink']=null;static [a63_0x596d10(0xff)]=null;static [a63_0x596d10(0x13b)]=null;[a63_0x596d10(0x10e)]=null;[a63_0x596d10(0x10d)]=![];['isChildConnected']=![];[a63_0x596d10(0xf5)]=null;[a63_0x596d10(0xe8)]={};['testFramework']=null;[a63_0x596d10(0x15b)]=null;[a63_0x596d10(0xfc)]=createClassLogger(a63_0x596d10(0x144));constructor(){const _0x13e87a=a63_0x596d10;this[_0x13e87a(0x131)]=![],this[_0x13e87a(0x125)]={},this['cliArgs']={},this[_0x13e87a(0x138)]={};}static[a63_0x596d10(0x15a)](){return!BrowserstackCLI.#instance&&(BrowserstackCLI.#instance=new BrowserstackCLI()),BrowserstackCLI.#instance;}async['bootstrap'](){const _0x1fe709=a63_0x596d10,_0x780dc3={};_0x780dc3[_0x1fe709(0x96)]='Disabling\x20CLI.';const _0x4be857=_0x780dc3;if(helper[_0x1fe709(0xae)](process[_0x1fe709(0xc0)][_0x1fe709(0xa5)])){this[_0x1fe709(0xfc)][_0x1fe709(0xa3)](_0x4be857[_0x1fe709(0x96)]);return;}PerformanceTester[_0x1fe709(0xaf)](PerformanceEvents[_0x1fe709(0xb5)]);try{const _0x153067=process[_0x1fe709(0xc0)]['BROWSERSTACK_CLI_BIN_SESSION_ID']||null;this[_0x1fe709(0x13a)](),this[_0x1fe709(0xdb)]();if(_0x153067){await this[_0x1fe709(0x147)](_0x153067),PerformanceTester[_0x1fe709(0x174)](PerformanceEvents[_0x1fe709(0xb5)]);return;}await this[_0x1fe709(0x105)]();}catch(_0x5240a4){this['logger']['error'](_0x1fe709(0xe2)+(_0x5240a4[_0x1fe709(0xa1)]||_0x5240a4)),await this['stop'](),PerformanceTester['end'](PerformanceEvents[_0x1fe709(0xb5)],![],util[_0x1fe709(0x16a)](_0x5240a4));}}async[a63_0x596d10(0x105)](){const _0x19cffa=a63_0x596d10,_0x206bc2={};_0x206bc2[_0x19cffa(0xb3)]='startMain:\x20Starting\x20main\x20process',_0x206bc2[_0x19cffa(0xad)]=_0x19cffa(0xda);const _0x4f27d2=_0x206bc2;this['logger'][_0x19cffa(0xa3)](_0x4f27d2[_0x19cffa(0xb3)]),await this[_0x19cffa(0xaf)](),this['logger'][_0x19cffa(0x139)](_0x4f27d2[_0x19cffa(0xad)]);const _0x2f45b5=await GrpcClient[_0x19cffa(0x15a)]()[_0x19cffa(0xac)]();this[_0x19cffa(0x10d)]=!![],this[_0x19cffa(0xca)](_0x2f45b5);}[a63_0x596d10(0xca)](_0x1f90b5){const _0xb1ef6f=a63_0x596d10,_0x29102a={'ZObHf':function(_0x2406ca,_0x1fb7b3){return _0x2406ca(_0x1fb7b3);},'eiLNf':_0xb1ef6f(0xe9),'kmZPN':_0xb1ef6f(0x15d),'veXAw':_0xb1ef6f(0xbe),'ljqJZ':_0xb1ef6f(0x11b),'WeMlo':_0xb1ef6f(0xbc),'uqqxI':_0xb1ef6f(0x10b),'ePHmh':_0xb1ef6f(0x141),'nIrsK':function(_0x4e98d6,_0x28bc51){return _0x4e98d6||_0x28bc51;},'SVamm':function(_0x56c962,_0x1efadf){return _0x56c962===_0x1efadf;},'JshtD':_0xb1ef6f(0x189),'kThbe':function(_0x554f2a,_0x564dcb){return _0x554f2a&&_0x564dcb;}},_0x3c5b13=_0x29102a[_0xb1ef6f(0x16d)](require,_0x29102a[_0xb1ef6f(0xc3)]),_0x52b100=_0x29102a[_0xb1ef6f(0x16d)](require,_0x29102a[_0xb1ef6f(0x15e)]),_0x407035=_0x29102a[_0xb1ef6f(0x16d)](require,_0x29102a[_0xb1ef6f(0x140)]);this[_0xb1ef6f(0xfc)][_0xb1ef6f(0xa3)](_0x29102a[_0xb1ef6f(0xbd)]),this[_0xb1ef6f(0xf5)]=_0x1f90b5[_0xb1ef6f(0x129)](),this[_0xb1ef6f(0xfc)][_0xb1ef6f(0xa3)](_0xb1ef6f(0x149)+this[_0xb1ef6f(0xf5)]),this['setConfig'](_0x1f90b5),this['syncAccessibilityConfig']();!this[_0xb1ef6f(0x14a)]&&this['setCliArgs'](_0x1f90b5);const _0x17038b=_0x29102a['WeMlo'],_0x322d1f=_0x29102a[_0xb1ef6f(0xf6)],_0x23e0e8=_0x29102a[_0xb1ef6f(0x12f)],_0x344d36=_0x1f90b5[_0x17038b]()&&_0x1f90b5[_0x17038b]()[_0x23e0e8](),_0x2e1fb4=_0x1f90b5[_0x322d1f]()&&_0x1f90b5[_0x322d1f]()[_0x23e0e8](),_0x2a98c1=process[_0xb1ef6f(0xc0)][_0xb1ef6f(0x120)]&&JSON[_0xb1ef6f(0x15f)](process['env'][_0xb1ef6f(0x120)]);_0x29102a[_0xb1ef6f(0x116)](_0x344d36,_0x2e1fb4)&&(this[_0xb1ef6f(0xe8)][_0x52b100[_0xb1ef6f(0x15c)]]=new _0x52b100(_0x1f90b5[_0xb1ef6f(0x158)](),_0x2a98c1));_0x344d36&&(this[_0xb1ef6f(0xe8)][_0x407035[_0xb1ef6f(0x15c)]]=new _0x407035(_0x1f90b5[_0x17038b]()));if(_0x2e1fb4)this[_0xb1ef6f(0xe8)][AccessibilityModule[_0xb1ef6f(0x15c)]]=new AccessibilityModule(_0x1f90b5[_0x322d1f]());else try{const _0x4f1008=_0x1f90b5[_0x322d1f](),_0x1b6092=_0x4f1008&&_0x29102a['SVamm'](typeof _0x4f1008[_0x23e0e8],_0x29102a[_0xb1ef6f(0x176)])?!!_0x4f1008[_0x23e0e8]():![];this[_0xb1ef6f(0xfc)][_0xb1ef6f(0xa3)]('Accessibility\x20success='+_0x1b6092);if(_0x29102a['kThbe'](!_0x1b6092,_0x4f1008)){const _0x3f402b=_0x4f1008[_0xb1ef6f(0xcc)]?_0x4f1008[_0xb1ef6f(0xcc)]():_0x4f1008;_0x3f402b['errorsList']&&Array[_0xb1ef6f(0x130)](_0x3f402b['errorsList'])&&(this[_0xb1ef6f(0xfc)][_0xb1ef6f(0xf0)](_0xb1ef6f(0xd9)+_0x3f402b[_0xb1ef6f(0xdf)][_0xb1ef6f(0x175)]+_0xb1ef6f(0x101)),_0x3f402b[_0xb1ef6f(0xdf)][_0xb1ef6f(0xc1)]((_0x3b16db,_0x29e56c)=>{const _0x196927=_0xb1ef6f;this[_0x196927(0xfc)][_0x196927(0xf0)](_0x196927(0xaa)+_0x3b16db[_0x196927(0xc5)]+']\x20'+_0x3b16db[_0x196927(0x188)]);}),_0x3f402b[_0xb1ef6f(0x123)]&&this[_0xb1ef6f(0xfc)]['error'](_0xb1ef6f(0x11c)+_0x3f402b[_0xb1ef6f(0x123)]),_0x3f402b[_0xb1ef6f(0x104)]&&this['logger'][_0xb1ef6f(0xf0)]('Error\x20Code:\x20'+_0x3f402b[_0xb1ef6f(0x104)]));}}catch(_0x193b72){this['logger'][_0xb1ef6f(0xf0)](_0xb1ef6f(0xfd)+_0x193b72);}this[_0xb1ef6f(0xe8)][_0x3c5b13[_0xb1ef6f(0x15c)]]=new _0x3c5b13(_0x2a98c1),this[_0xb1ef6f(0x17b)]();}[a63_0x596d10(0x13d)](){const _0x51dcbe=a63_0x596d10;return this[_0x51dcbe(0xe8)][AccessibilityModule[_0x51dcbe(0x15c)]];}async[a63_0x596d10(0x17b)](){const _0x2fc83a=a63_0x596d10;for(const _0x27b4f9 in this[_0x2fc83a(0xe8)]){const _0x46dc58=this[_0x2fc83a(0xe8)][_0x27b4f9];await _0x46dc58['configure'](this['binSessionId'],0x0,GrpcClient[_0x2fc83a(0x15a)]()[_0x2fc83a(0xcf)],this[_0x2fc83a(0x125)]);}}async['start'](){const _0x5e4a45=a63_0x596d10,_0x4502e3={'RIiWb':function(_0x3ee8d6,_0x48dcd7){return _0x3ee8d6(_0x48dcd7);},'CHqwk':function(_0x429998,_0x4b9ae8){return _0x429998!==_0x4b9ae8;},'wpETN':function(_0x42ff4a,_0x59956d){return _0x42ff4a(_0x59956d);},'LrsUu':'ready','zujcl':function(_0x59a673){return _0x59a673();},'EHEOI':_0x5e4a45(0x108),'vyZNE':'error','FlPxP':_0x5e4a45(0x16e),'kcFwu':_0x5e4a45(0x164),'jBQJk':_0x5e4a45(0x118),'GNnsN':function(_0x32ee5a,_0x8f9014,_0x5c90d2,_0xa0a98a){return _0x32ee5a(_0x8f9014,_0x5c90d2,_0xa0a98a);},'EETDx':'failed\x20to\x20start\x20CLI,\x20no\x20PID\x20found'};PerformanceTester[_0x5e4a45(0xaf)](PerformanceEvents[_0x5e4a45(0xe3)]);if(CLIUtils[_0x5e4a45(0x111)]())return this[_0x5e4a45(0x9d)](CLIUtils[_0x5e4a45(0x14e)]()),PerformanceTester['end'](PerformanceEvents[_0x5e4a45(0xe3)]),Promise[_0x5e4a45(0xec)]();if(this[_0x5e4a45(0x10e)]&&this[_0x5e4a45(0x10e)][_0x5e4a45(0x133)])return PerformanceTester[_0x5e4a45(0x174)](PerformanceEvents[_0x5e4a45(0xe3)]),Promise[_0x5e4a45(0xec)]();const _0x469c3f=await this['getCliBinPath']();if(!_0x469c3f)throw new Error(_0x4502e3[_0x5e4a45(0xa4)]);const _0x2275d2=[_0x469c3f,_0x4502e3[_0x5e4a45(0xb7)]];this[_0x5e4a45(0xfc)][_0x5e4a45(0xa3)]('spawning\x20command=\x27'+_0x2275d2+'\x27');const _0x4a1467={};_0x4a1467[_0x5e4a45(0xc0)]=process['env'],this[_0x5e4a45(0x10e)]=_0x4502e3[_0x5e4a45(0x162)](spawn,_0x2275d2[0x0],_0x2275d2[_0x5e4a45(0xd6)](0x1),_0x4a1467);if(!this['process'][_0x5e4a45(0x12e)])throw new Error(_0x4502e3[_0x5e4a45(0xb4)]);return new Promise((_0x5c6867,_0x488a73)=>{const _0x66883b=_0x5e4a45,_0x1e3321={'NNJLB':function(_0x51b958,_0x5dc206){const _0x26f1eb=a63_0x31a9;return _0x4502e3[_0x26f1eb(0xea)](_0x51b958,_0x5dc206);},'PpVVa':_0x4502e3['LrsUu'],'oSRRJ':function(_0x288df9){return _0x4502e3['zujcl'](_0x288df9);}},_0x1ef1b4={};this[_0x66883b(0x10e)][_0x66883b(0x187)]['on'](_0x4502e3['EHEOI'],_0x1c39c0=>{const _0x362fde=_0x66883b,_0x518a28=_0x1c39c0[_0x362fde(0x142)]()['trim']()[_0x362fde(0xc8)]('\x0a');for(const _0x1156e5 of _0x518a28){if(/^(id|listen|port)=.*$/[_0x362fde(0x124)](_0x1156e5)){const [_0x49573c,_0x4f3ec8]=_0x1156e5[_0x362fde(0xc8)]('=',0x2);_0x1e3321[_0x362fde(0x184)](_0x4f3ec8,undefined)&&(_0x1ef1b4[_0x49573c]=_0x4f3ec8);}if(_0x1156e5[_0x362fde(0x13e)]()[_0x362fde(0xdc)](_0x1e3321[_0x362fde(0xd4)])){this[_0x362fde(0x9d)](_0x1ef1b4),PerformanceTester[_0x362fde(0x174)](PerformanceEvents[_0x362fde(0xe3)]),_0x1e3321[_0x362fde(0xe5)](_0x5c6867);return;}}}),this['process'][_0x66883b(0xf3)]['on'](_0x4502e3[_0x66883b(0x14b)],_0x3fe794=>{const _0xd46ca0=_0x66883b;this[_0xd46ca0(0xfc)][_0xd46ca0(0xf0)](_0xd46ca0(0x103)+_0x3fe794['toString']()[_0xd46ca0(0x12b)]());}),this[_0x66883b(0x10e)]['on'](_0x4502e3[_0x66883b(0xeb)],_0x1119a9=>{const _0x34fedb=_0x66883b;_0x1ef1b4[_0x34fedb(0xf0)]=_0x34fedb(0x134)+_0x1119a9[_0x34fedb(0x188)],PerformanceTester[_0x34fedb(0x174)](PerformanceEvents['SDK_CLI_START'],![],_0x1119a9),_0x4502e3[_0x34fedb(0x183)](_0x488a73,new Error('Failed\x20to\x20start\x20CLI\x20process:\x20'+_0x1119a9['message']));}),this[_0x66883b(0x10e)]['on'](_0x4502e3[_0x66883b(0x97)],_0x5a6bcb=>{const _0xdce198=_0x66883b;_0x4502e3[_0xdce198(0xea)](_0x5a6bcb,0x0)&&_0x4502e3[_0xdce198(0x10f)](_0x488a73,new Error(_0xdce198(0x14d)+_0x5a6bcb));});});}async[a63_0x596d10(0x169)](_0x4e8e4a=null){const _0xe572d7=a63_0x596d10,_0x7e02c1={'CJFcz':'stop:\x20CLI\x20process\x20exited','qVMVP':function(_0xaff502){return _0xaff502();},'srWol':'stop:\x20process\x20exit\x20timeout,\x20forcing\x20kill','hKBXD':_0xe572d7(0x160),'GzMwK':_0xe572d7(0xd8),'vQrYG':function(_0x2a6676,_0x29ba01,_0x1a29ee){return _0x2a6676(_0x29ba01,_0x1a29ee);},'YEBWO':'stop:\x20CLI\x20is\x20not\x20running,\x20skipping\x20stop','YDCXX':'stop:\x20CLI\x20stop\x20triggered','XGWra':function(_0x31975d,_0x2b8ea9){return _0x31975d(_0x2b8ea9);},'KRpxs':_0xe572d7(0x121),'JKkmM':_0xe572d7(0x16c),'odhfp':_0xe572d7(0x170),'AbCJt':_0xe572d7(0xef)};if(!this[_0xe572d7(0x150)]()){this[_0xe572d7(0xfc)][_0xe572d7(0xa3)](_0x7e02c1[_0xe572d7(0xfa)]);return;}PerformanceTester['start'](PerformanceEvents[_0xe572d7(0x99)]),this[_0xe572d7(0xfc)]['info'](_0x7e02c1[_0xe572d7(0x143)]);try{if(this[_0xe572d7(0x10d)]){const _0x417263=_0x7e02c1[_0xe572d7(0xee)](require,_0x7e02c1['KRpxs']),_0x3297a2=this[_0xe572d7(0xe8)]['TestHubModule']?.[_0xe572d7(0x17f)]?.[_0xe572d7(0xcc)]()?.[_0xe572d7(0xe7)],_0x4aa494=TestInfo[_0xe572d7(0x163)](_0x3297a2),_0x6f62b3=_0x4aa494[TestFrameworkConstants[_0xe572d7(0x171)]]||{},_0x375981=await GrpcClient[_0xe572d7(0x15a)]()['stopBinSession'](JSON[_0xe572d7(0x11e)](_0x6f62b3),_0x4e8e4a);_0x375981&&_0x375981[_0xe572d7(0x141)]()&&_0x375981[_0xe572d7(0x126)]()&&(BrowserstackCLI[_0xe572d7(0x115)]=_0x375981['getAutomateBuildlink'](),BrowserstackCLI[_0xe572d7(0xff)]=_0x375981['getHashedId']()),await _0x417263[_0xe572d7(0xf8)](),TestInfo['shutdown'](),buildLogger[_0xe572d7(0xa3)](_0xe572d7(0xd5)+BrowserstackCLI[_0xe572d7(0x115)]+_0xe572d7(0xc4)+BrowserstackCLI[_0xe572d7(0xff)]+'\x20o11y_uuid='+BrowserstackCLI[_0xe572d7(0x13b)]);}await this[_0xe572d7(0x181)]();const _0x5a1ee4=GrpcClient[_0xe572d7(0x15a)]()[_0xe572d7(0x186)]();if(_0x5a1ee4){try{_0x5a1ee4['close'](),this[_0xe572d7(0xfc)]['info'](_0x7e02c1[_0xe572d7(0x145)]);}catch(_0x4b3b44){this[_0xe572d7(0xfc)][_0xe572d7(0xf0)](util['format'](_0x7e02c1[_0xe572d7(0x178)],_0x4b3b44));}await new Promise(_0xfd96a2=>setTimeout(_0xfd96a2,0x1388));}this[_0xe572d7(0x10e)]&&this[_0xe572d7(0x10e)][_0xe572d7(0x12e)]&&(this[_0xe572d7(0xfc)][_0xe572d7(0xa3)](_0x7e02c1[_0xe572d7(0xb9)]),this['process'][_0xe572d7(0x9e)](),await new Promise(_0x269ba8=>{const _0x5b2209=_0xe572d7;let _0x5a7e10=![];this['process']['on'](_0x7e02c1[_0x5b2209(0x17c)],()=>{const _0x1d976f=_0x5b2209;this[_0x1d976f(0xfc)][_0x1d976f(0xa3)](_0x7e02c1[_0x1d976f(0xa7)]),_0x5a7e10=!![],PerformanceTester[_0x1d976f(0x174)](PerformanceEvents['SDK_CLI_ON_STOP']),_0x7e02c1[_0x1d976f(0x137)](_0x269ba8);}),_0x7e02c1[_0x5b2209(0x182)](setTimeout,()=>{const _0x2d3040=_0x5b2209;!_0x5a7e10&&(this[_0x2d3040(0xfc)][_0x2d3040(0x113)](_0x7e02c1[_0x2d3040(0x152)]),this[_0x2d3040(0x10e)][_0x2d3040(0x9e)](_0x7e02c1[_0x2d3040(0x117)]),PerformanceTester[_0x2d3040(0x174)](PerformanceEvents[_0x2d3040(0x99)]),_0x7e02c1['qVMVP'](_0x269ba8));},0xbb8);}));}catch(_0x311271){PerformanceTester['end'](PerformanceEvents[_0xe572d7(0x99)],![],util['format'](_0x311271)),this['logger'][_0xe572d7(0xf0)](_0xe572d7(0x107)+(_0x311271[_0xe572d7(0xa1)]||_0x311271));}_0x4e8e4a?this[_0xe572d7(0x10e)][_0xe572d7(0x100)]=0x1:this['process'][_0xe572d7(0x100)]=0x0,this['isChildConnected']=![],this[_0xe572d7(0x10d)]=![],process['env'][_0xe572d7(0x165)]=null;}async[a63_0x596d10(0x181)](){const _0x14366b=a63_0x596d10,_0x9cf693={};_0x9cf693[_0x14366b(0xc9)]=_0x14366b(0xe0);const _0x4d9797=_0x9cf693;this[_0x14366b(0xfc)]['info'](_0x4d9797[_0x14366b(0xc9)]);}['loadCliParams'](_0x574c95){const _0x78f58a=a63_0x596d10;this['logger'][_0x78f58a(0xa3)](_0x78f58a(0xce)+JSON[_0x78f58a(0x11e)](_0x574c95)),this[_0x78f58a(0x127)]=_0x574c95,GrpcClient[_0x78f58a(0x15a)]()[_0x78f58a(0xcb)](_0x574c95);}async['startChild'](_0x1fdadc){const _0x2d7507=a63_0x596d10,_0x19af27={};_0x19af27[_0x2d7507(0xf9)]=_0x2d7507(0x17d);const _0x5a76e7=_0x19af27;PerformanceTester[_0x2d7507(0xaf)](PerformanceEvents[_0x2d7507(0x12d)]);try{this[_0x2d7507(0xfc)][_0x2d7507(0xa3)](_0x2d7507(0x12a)+_0x1fdadc);const _0x4369b3=GrpcClient[_0x2d7507(0x15a)]();if(_0x4369b3&&_0x4369b3[_0x2d7507(0x146)]()&&_0x4369b3['getChannel']()){this[_0x2d7507(0xfc)][_0x2d7507(0xa3)](_0x5a76e7[_0x2d7507(0xf9)]);return;}GrpcClient[_0x2d7507(0x15a)]()[_0x2d7507(0xa6)]();const _0x3256b0=await GrpcClient['getInstance']()[_0x2d7507(0x136)]();this[_0x2d7507(0x14a)]=!![],this['loadModules'](_0x3256b0),PerformanceTester[_0x2d7507(0x174)](PerformanceEvents[_0x2d7507(0x12d)]);}catch(_0x30cd38){PerformanceTester['end'](PerformanceEvents[_0x2d7507(0x12d)],![],util[_0x2d7507(0x16a)](_0x30cd38)),this['logger'][_0x2d7507(0xf0)](_0x2d7507(0xd0)+util[_0x2d7507(0x16a)](_0x30cd38));}}['isRunning'](){const _0x3c2208=a63_0x596d10,_0x67b336={};_0x67b336[_0x3c2208(0x17e)]=function(_0x2af022,_0x4b59a2){return _0x2af022!==_0x4b59a2;},_0x67b336[_0x3c2208(0x172)]=function(_0x241a5c,_0x394e9b){return _0x241a5c===_0x394e9b;};const _0x446baa=_0x67b336;return CLIUtils[_0x3c2208(0x111)]()||this[_0x3c2208(0x10d)]&&_0x446baa['OzBSe'](this[_0x3c2208(0x10e)],null)&&_0x446baa['BvEZI'](this[_0x3c2208(0x10e)][_0x3c2208(0x100)],null)&&_0x446baa[_0x3c2208(0x17e)](GrpcClient[_0x3c2208(0x15a)]()[_0x3c2208(0x146)](),null)&&!GrpcClient['getInstance']()[_0x3c2208(0x186)]()['isClosed']||this[_0x3c2208(0x14a)]&&_0x446baa[_0x3c2208(0x17e)](GrpcClient[_0x3c2208(0x15a)]()[_0x3c2208(0x186)](),null)&&!GrpcClient[_0x3c2208(0x15a)]()[_0x3c2208(0x186)]()['isClosed'];}[a63_0x596d10(0xb1)](){const _0x1df838=a63_0x596d10;return this[_0x1df838(0x138)];}[a63_0x596d10(0x132)](_0x2a313d,_0x22f18c,_0x11111a=null){const _0x78934f=a63_0x596d10,_0xcf80ac={};_0xcf80ac[_0x78934f(0x109)]=function(_0x7c2cc3,_0x121e45){return _0x7c2cc3||_0x121e45;};const _0x383ed0=_0xcf80ac;this[_0x78934f(0x138)]=_0x383ed0[_0x78934f(0x109)](_0x2a313d,{}),this[_0x78934f(0x10c)]=_0x22f18c,this[_0x78934f(0x173)]=_0x11111a,process['env']['BROWSERSTACK_TURBOSCALE']=this[_0x78934f(0x138)]?.[_0x78934f(0xc7)]||![];const _0x148ed8=CLIUtils[_0x78934f(0x13c)](),_0x420253=CLIUtils[_0x78934f(0x9b)]();LoadTestModule[_0x78934f(0xc6)](this[_0x78934f(0x138)])&&LoadTestModule[_0x78934f(0xcd)](this['browserstackConfig']||{}),helper['isTrue'](process[_0x78934f(0xc0)][_0x78934f(0x161)])||!(CLI_SUPPORTED_FRAMEWORKS['includes'](_0x148ed8[_0x78934f(0xa0)][_0x78934f(0x13e)]())&&CLI_SUPPORTED_FRAMEWORKS[_0x78934f(0xdc)](_0x420253[_0x78934f(0xa0)][_0x78934f(0x13e)]()))?process[_0x78934f(0xc0)][_0x78934f(0xa5)]=![]:process[_0x78934f(0xc0)]['BROWSERSTACK_CLI_ENABLED']=!![];}async[a63_0x596d10(0xf2)](){const _0x113cf7=a63_0x596d10,_0x26bf7b={};_0x26bf7b[_0x113cf7(0x156)]=_0x113cf7(0xe6),_0x26bf7b[_0x113cf7(0x14f)]=_0x113cf7(0xb8);const _0xe58a5f=_0x26bf7b;if(!this[_0x113cf7(0xb2)])try{this['logger'][_0x113cf7(0x139)](_0xe58a5f['GMpCp']),this[_0x113cf7(0xb2)]=await CLIUtils[_0x113cf7(0x159)](this[_0x113cf7(0x138)]),!this[_0x113cf7(0xb2)]?this[_0x113cf7(0xfc)][_0x113cf7(0xf0)](_0xe58a5f[_0x113cf7(0x14f)]):this['logger'][_0x113cf7(0x139)](_0x113cf7(0xde)+this[_0x113cf7(0xb2)]);}catch(_0x29dd88){this[_0x113cf7(0xfc)]['error']('Error\x20in\x20setupCliPath:\x20'+_0x29dd88['message']),this[_0x113cf7(0xb2)]=null;}return this[_0x113cf7(0xb2)];}[a63_0x596d10(0x98)](){const _0x505e89=a63_0x596d10;return helper['isTrue'](process[_0x505e89(0xc0)][_0x505e89(0xa5)]);}[a63_0x596d10(0x9a)](){const _0x3498c3=a63_0x596d10;return this[_0x3498c3(0x125)];}[a63_0x596d10(0x9f)](_0x264494){const _0x5c6c73=a63_0x596d10,_0x5c0e78={};_0x5c0e78[_0x5c6c73(0x13f)]='loading\x20Modules.';const _0x377aad=_0x5c0e78;try{this[_0x5c6c73(0x125)]=JSON['parse'](_0x264494[_0x5c6c73(0x9a)]()),this[_0x5c6c73(0xfc)][_0x5c6c73(0xa3)](_0x377aad[_0x5c6c73(0x13f)]);}catch(_0x35924b){this['logger'][_0x5c6c73(0xf0)](_0x5c6c73(0xd7)+util[_0x5c6c73(0x16a)](_0x35924b));}}['syncAccessibilityConfig'](){const _0x208f19=a63_0x596d10,_0x3e2c3c={};_0x3e2c3c[_0x208f19(0xe1)]=_0x208f19(0x185),_0x3e2c3c[_0x208f19(0xab)]=_0x208f19(0x177),_0x3e2c3c['EfRGm']=_0x208f19(0x166);const _0x33767b=_0x3e2c3c;try{if(!this[_0x208f19(0x138)]){this[_0x208f19(0xfc)][_0x208f19(0x139)](_0x33767b['FbKCL']);return;}const _0x108952=this[_0x208f19(0x9a)]();if(!_0x108952){this['logger'][_0x208f19(0x139)](_0x33767b[_0x208f19(0xab)]);return;}!helper[_0x208f19(0xa9)](_0x108952['accessibility'])&&(this['browserstackConfig']['accessibility']=_0x108952['accessibility'],this[_0x208f19(0xfc)]['debug'](_0x208f19(0xed)+_0x108952[_0x208f19(0x151)])),!helper[_0x208f19(0xa9)](_0x108952[_0x208f19(0xe4)])&&(this[_0x208f19(0x138)]['accessibilityOptions']=_0x108952[_0x208f19(0xe4)],this[_0x208f19(0xfc)][_0x208f19(0x139)](_0x33767b['EfRGm']));}catch(_0x9d37ee){this[_0x208f19(0xfc)][_0x208f19(0xf0)](_0x208f19(0x12c)+util[_0x208f19(0x16a)](_0x9d37ee));}}['setCliArgs'](_0x24f367){const _0x2d0860=a63_0x596d10;try{this[_0x2d0860(0xc2)]=_0x24f367[_0x2d0860(0x106)]()['split'](','),this[_0x2d0860(0xfc)][_0x2d0860(0xa3)](_0x2d0860(0xbf)+JSON[_0x2d0860(0x11e)](this['cliArgs']));}catch(_0x33aff3){this[_0x2d0860(0xfc)][_0x2d0860(0xf0)](_0x2d0860(0xa2)+util[_0x2d0860(0x16a)](_0x33aff3));}}[a63_0x596d10(0x106)](){const _0xd74c4c=a63_0x596d10;return this[_0xd74c4c(0xc2)];}[a63_0x596d10(0xdb)](){const _0x55a0bb=a63_0x596d10,_0x295428={};_0x295428[_0x55a0bb(0x128)]=function(_0x465359,_0x5b6800){return _0x465359===_0x5b6800;},_0x295428[_0x55a0bb(0xd2)]=function(_0x1d64cd,_0x4f7b22){return _0x1d64cd===_0x4f7b22;};const _0x5832a8=_0x295428,_0x348121=CLIUtils[_0x55a0bb(0x13c)]();if(_0x5832a8[_0x55a0bb(0x128)](_0x348121['name'][_0x55a0bb(0x13e)](),FRAMEWORKS[_0x55a0bb(0x180)][_0x55a0bb(0x13e)]()))this[_0x55a0bb(0x11d)]=new PlaywrightTestFramework([_0x348121['name']],_0x348121[_0x55a0bb(0x10a)]);else{if(_0x5832a8[_0x55a0bb(0xd2)](_0x348121[_0x55a0bb(0xa0)][_0x55a0bb(0x13e)](),FRAMEWORKS[_0x55a0bb(0x148)][_0x55a0bb(0x13e)]()))this[_0x55a0bb(0x11d)]=new CucumberTestFramework([_0x348121['name']],_0x348121[_0x55a0bb(0x10a)]);else _0x5832a8[_0x55a0bb(0xd2)](_0x348121[_0x55a0bb(0xa0)]['toLowerCase'](),FRAMEWORKS[_0x55a0bb(0xbb)][_0x55a0bb(0x13e)]())&&(this[_0x55a0bb(0x11d)]=new JestTestFramework([_0x348121['name']],_0x348121['version']));}}[a63_0x596d10(0x13a)](){const _0x1f0b96=a63_0x596d10,_0x3fe7b6={};_0x3fe7b6[_0x1f0b96(0xfb)]=function(_0x283a93,_0x5f4d83){return _0x283a93===_0x5f4d83;};const _0x1fe215=_0x3fe7b6,_0x207a62=CLIUtils[_0x1f0b96(0x9b)]();_0x1fe215[_0x1f0b96(0xfb)](_0x207a62[_0x1f0b96(0xa0)][_0x1f0b96(0x13e)](),FRAMEWORKS[_0x1f0b96(0x180)][_0x1f0b96(0x13e)]())&&(this[_0x1f0b96(0x15b)]=new PlaywrightAutomationFramework(_0x207a62[_0x1f0b96(0xa0)],_0x207a62[_0x1f0b96(0x10a)]));}[a63_0x596d10(0x168)](){return this['testFramework'];}[a63_0x596d10(0xf1)](){const _0x44ca37=a63_0x596d10;return this[_0x44ca37(0x15b)];}[a63_0x596d10(0xba)](){return this['browserstackCliConfig'];}[a63_0x596d10(0xdd)](){const _0x82cf93=a63_0x596d10;return this[_0x82cf93(0x10c)];}}module['exports']=BrowserstackCLI;