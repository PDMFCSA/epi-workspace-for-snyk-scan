const a59_0xd4999d=a59_0x3fc1;function a59_0x3fc1(_0x3e8f15,_0x4bf889){const _0xa54ea=a59_0xa54e();return a59_0x3fc1=function(_0x3fc122,_0x27c6a3){_0x3fc122=_0x3fc122-0x180;let _0x37c727=_0xa54ea[_0x3fc122];return _0x37c727;},a59_0x3fc1(_0x3e8f15,_0x4bf889);}(function(_0x416cae,_0xa80be9){const _0x2ec345=a59_0x3fc1,_0x16ae56=_0x416cae();while(!![]){try{const _0x49cc84=parseInt(_0x2ec345(0x22c))/0x1*(parseInt(_0x2ec345(0x229))/0x2)+-parseInt(_0x2ec345(0x1a3))/0x3+-parseInt(_0x2ec345(0x1d0))/0x4+-parseInt(_0x2ec345(0x1be))/0x5+parseInt(_0x2ec345(0x1fa))/0x6+parseInt(_0x2ec345(0x228))/0x7*(-parseInt(_0x2ec345(0x22b))/0x8)+-parseInt(_0x2ec345(0x1c4))/0x9*(-parseInt(_0x2ec345(0x245))/0xa);if(_0x49cc84===_0xa80be9)break;else _0x16ae56['push'](_0x16ae56['shift']());}catch(_0x5daace){_0x16ae56['push'](_0x16ae56['shift']());}}}(a59_0xa54e,0x2fd86));const {spawn}=require(a59_0xd4999d(0x209)),GrpcClient=require(a59_0xd4999d(0x19f)),util=require(a59_0xd4999d(0x188)),CLIUtils=require('./cliUtils.js'),PlaywrightAutomationFramework=require(a59_0xd4999d(0x21b)),PlaywrightTestFramework=require(a59_0xd4999d(0x19a)),{createClassLogger}=require(a59_0xd4999d(0x19d)),PerformanceTester=require(a59_0xd4999d(0x1a7)),{EVENTS:PerformanceEvents}=require(a59_0xd4999d(0x1e9)),AccessibilityModule=require(a59_0xd4999d(0x1ef)),{CLI_SUPPORTED_FRAMEWORKS,FRAMEWORKS}=require('../utils/constants.js'),helper=require('../../helpers/helper.js'),TestFrameworkConstants=require(a59_0xd4999d(0x242)),TestInfo=require(a59_0xd4999d(0x230));class BrowserstackCLI{static #instance=null;static ['BuildLink']=null;static [a59_0xd4999d(0x216)]=null;static ['O11yHashedID']=null;[a59_0xd4999d(0x22e)]=null;[a59_0xd4999d(0x1b1)]=![];[a59_0xd4999d(0x1d9)]=![];[a59_0xd4999d(0x1e3)]=null;[a59_0xd4999d(0x20f)]={};[a59_0xd4999d(0x1f7)]=null;[a59_0xd4999d(0x19c)]=null;[a59_0xd4999d(0x237)]=createClassLogger(a59_0xd4999d(0x219));constructor(){const _0x179b64=a59_0xd4999d;this[_0x179b64(0x1df)]=![],this[_0x179b64(0x22f)]={},this[_0x179b64(0x1ca)]={},this['browserstackConfig']={};}static[a59_0xd4999d(0x1cb)](){return!BrowserstackCLI.#instance&&(BrowserstackCLI.#instance=new BrowserstackCLI()),BrowserstackCLI.#instance;}async[a59_0xd4999d(0x1a8)](){const _0x3d4081=a59_0xd4999d,_0x37c384={};_0x37c384[_0x3d4081(0x1e7)]='Disabling\x20CLI.';const _0x45d29f=_0x37c384;if(helper[_0x3d4081(0x1c3)](process['env'][_0x3d4081(0x243)])){this['logger']['info'](_0x45d29f['PMxLh']);return;}PerformanceTester[_0x3d4081(0x1e8)](PerformanceEvents[_0x3d4081(0x23e)]);try{const _0x311ee0=process[_0x3d4081(0x1b9)]['BROWSERSTACK_CLI_BIN_SESSION_ID']||null;this[_0x3d4081(0x1c0)](),this[_0x3d4081(0x215)]();if(_0x311ee0){await this[_0x3d4081(0x1bb)](_0x311ee0),PerformanceTester['end'](PerformanceEvents[_0x3d4081(0x23e)]);return;}await this[_0x3d4081(0x222)]();}catch(_0x21329c){this[_0x3d4081(0x237)][_0x3d4081(0x184)]('bootstrap:\x20failed\x20to\x20bootstrap='+(_0x21329c[_0x3d4081(0x231)]||_0x21329c)),await this[_0x3d4081(0x1db)](),PerformanceTester[_0x3d4081(0x1a6)](PerformanceEvents[_0x3d4081(0x23e)],![],util['format'](_0x21329c));}}async[a59_0xd4999d(0x222)](){const _0x4a4a49=a59_0xd4999d,_0x27a318={};_0x27a318[_0x4a4a49(0x225)]=_0x4a4a49(0x1cc),_0x27a318[_0x4a4a49(0x1b2)]='startMain:\x20main-process\x20started';const _0xb87eae=_0x27a318;this['logger'][_0x4a4a49(0x1a9)](_0xb87eae[_0x4a4a49(0x225)]),await this[_0x4a4a49(0x1e8)](),this['logger']['debug'](_0xb87eae['lJTdq']);const _0x1c9914=await GrpcClient[_0x4a4a49(0x1cb)]()['startBinSession']();this['isMainConnected']=!![],this[_0x4a4a49(0x182)](_0x1c9914);}[a59_0xd4999d(0x182)](_0x17a588){const _0xdf7373=a59_0xd4999d,_0x265429={'LJbgy':function(_0x1094b0,_0x39c64f){return _0x1094b0(_0x39c64f);},'tGfSq':_0xdf7373(0x199),'sHvHm':function(_0x2b2c53,_0x56deb9){return _0x2b2c53(_0x56deb9);},'Sbqyb':_0xdf7373(0x190),'kokGN':'./modules/observabilityModule.js','zrCdy':_0xdf7373(0x196),'ovBxT':'getObservability','gCwZI':_0xdf7373(0x1b5),'mTNST':_0xdf7373(0x194),'Gtmrg':function(_0x17a4e4,_0x399dc9){return _0x17a4e4||_0x399dc9;}},_0x9c8d72=_0x265429[_0xdf7373(0x238)](require,_0x265429['tGfSq']),_0x480b9a=_0x265429[_0xdf7373(0x236)](require,_0x265429[_0xdf7373(0x19b)]),_0x3eefea=_0x265429['LJbgy'](require,_0x265429['kokGN']);this[_0xdf7373(0x237)][_0xdf7373(0x1a9)](_0x265429[_0xdf7373(0x192)]),this[_0xdf7373(0x1e3)]=_0x17a588[_0xdf7373(0x1ea)](),this[_0xdf7373(0x237)][_0xdf7373(0x1a9)](_0xdf7373(0x244)+this['binSessionId']),this[_0xdf7373(0x1b4)](_0x17a588);!this[_0xdf7373(0x1d9)]&&this[_0xdf7373(0x203)](_0x17a588);const _0x4f6449=_0x265429[_0xdf7373(0x201)],_0x110901=_0x265429[_0xdf7373(0x198)],_0x23648f=_0x265429[_0xdf7373(0x1a5)],_0x510e59=_0x17a588[_0x4f6449]()&&_0x17a588[_0x4f6449]()[_0x23648f](),_0xb895bc=_0x17a588[_0x110901]()&&_0x17a588[_0x110901]()[_0x23648f]();_0x265429[_0xdf7373(0x1f4)](_0x510e59,_0xb895bc)&&(this[_0xdf7373(0x20f)][_0x480b9a['MODULE_NAME']]=new _0x480b9a(_0x17a588[_0xdf7373(0x1f6)]())),_0x510e59&&(this[_0xdf7373(0x20f)][_0x3eefea[_0xdf7373(0x20c)]]=new _0x3eefea(_0x17a588[_0x4f6449]())),_0xb895bc&&(this[_0xdf7373(0x20f)][AccessibilityModule[_0xdf7373(0x20c)]]=new AccessibilityModule(_0x17a588[_0x110901]())),this['modules'][_0x9c8d72[_0xdf7373(0x20c)]]=new _0x9c8d72(),this[_0xdf7373(0x1c1)]();}[a59_0xd4999d(0x208)](){const _0x152aad=a59_0xd4999d;return this[_0x152aad(0x20f)][AccessibilityModule['MODULE_NAME']];}async[a59_0xd4999d(0x1c1)](){const _0x4ed1d6=a59_0xd4999d;for(const _0x4f724d in this[_0x4ed1d6(0x20f)]){const _0x26eae8=this[_0x4ed1d6(0x20f)][_0x4f724d];await _0x26eae8[_0x4ed1d6(0x246)](this[_0x4ed1d6(0x1e3)],0x0,GrpcClient['getInstance']()[_0x4ed1d6(0x20d)],this[_0x4ed1d6(0x22f)]);}}async[a59_0xd4999d(0x1e8)](){const _0x1ca5f1=a59_0xd4999d,_0x29c222={'OxrBM':function(_0x10678d,_0x4e5e34){return _0x10678d(_0x4e5e34);},'zDFwT':function(_0x4f7573,_0xd4505f){return _0x4f7573!==_0xd4505f;},'smcSj':_0x1ca5f1(0x1b8),'UBbaN':function(_0x1e1473){return _0x1e1473();},'btDOf':function(_0x1d88b3,_0x547057){return _0x1d88b3(_0x547057);},'pAAOI':_0x1ca5f1(0x1b3),'SiRbd':_0x1ca5f1(0x184),'vJDxw':_0x1ca5f1(0x248),'CBtTj':_0x1ca5f1(0x21f),'awXfo':function(_0x188bc6,_0x4af845,_0x37cbda,_0x288a50){return _0x188bc6(_0x4af845,_0x37cbda,_0x288a50);},'gAmIK':'failed\x20to\x20start\x20CLI,\x20no\x20PID\x20found'};PerformanceTester[_0x1ca5f1(0x1e8)](PerformanceEvents['SDK_CLI_START']);if(CLIUtils['isDevelopmentEnv']())return this[_0x1ca5f1(0x247)](CLIUtils[_0x1ca5f1(0x218)]()),PerformanceTester[_0x1ca5f1(0x1a6)](PerformanceEvents['SDK_CLI_START']),Promise[_0x1ca5f1(0x1f9)]();if(this[_0x1ca5f1(0x22e)]&&this[_0x1ca5f1(0x22e)][_0x1ca5f1(0x23b)])return PerformanceTester[_0x1ca5f1(0x1a6)](PerformanceEvents['SDK_CLI_START']),Promise[_0x1ca5f1(0x1f9)]();const _0x517942=await this[_0x1ca5f1(0x1ff)](),_0x2054e6=[_0x517942,_0x29c222['CBtTj']];this[_0x1ca5f1(0x237)]['info']('spawning\x20command=\x27'+_0x2054e6+'\x27');const _0x146b97={};_0x146b97['env']=process[_0x1ca5f1(0x1b9)],this[_0x1ca5f1(0x22e)]=_0x29c222[_0x1ca5f1(0x1ad)](spawn,_0x2054e6[0x0],_0x2054e6['slice'](0x1),_0x146b97);if(!this['process'][_0x1ca5f1(0x21c)])throw new Error(_0x29c222[_0x1ca5f1(0x221)]);return new Promise((_0x445326,_0xfb4601)=>{const _0x1c414d=_0x1ca5f1,_0x4723ef={'AQhSt':function(_0x10f331,_0x46b43c){const _0x153bac=a59_0x3fc1;return _0x29c222[_0x153bac(0x226)](_0x10f331,_0x46b43c);},'EmmBa':_0x29c222['smcSj'],'hvvXT':function(_0x1f111a){const _0x52cdd8=a59_0x3fc1;return _0x29c222[_0x52cdd8(0x1e4)](_0x1f111a);},'mDSwM':function(_0x106718,_0x3ae337){const _0x47ed3d=a59_0x3fc1;return _0x29c222[_0x47ed3d(0x226)](_0x106718,_0x3ae337);},'VdneN':function(_0x5e6c99,_0x4060ba){const _0x933492=a59_0x3fc1;return _0x29c222[_0x933492(0x1f1)](_0x5e6c99,_0x4060ba);}},_0x3ca4ae={};this[_0x1c414d(0x22e)]['stdout']['on'](_0x29c222[_0x1c414d(0x1d7)],_0x3e44ed=>{const _0x27f943=_0x1c414d,_0xa2e118=_0x3e44ed['toString']()[_0x27f943(0x217)]()[_0x27f943(0x239)]('\x0a');for(const _0x184f7b of _0xa2e118){if(/^(id|listen|port)=.*$/[_0x27f943(0x1a4)](_0x184f7b)){const [_0x487548,_0x3a5d21]=_0x184f7b[_0x27f943(0x239)]('=',0x2);_0x4723ef[_0x27f943(0x20a)](_0x3a5d21,undefined)&&(_0x3ca4ae[_0x487548]=_0x3a5d21);}if(_0x184f7b[_0x27f943(0x1c9)]()[_0x27f943(0x1c7)](_0x4723ef[_0x27f943(0x1e6)])){this[_0x27f943(0x247)](_0x3ca4ae),PerformanceTester[_0x27f943(0x1a6)](PerformanceEvents[_0x27f943(0x1aa)]),_0x4723ef[_0x27f943(0x234)](_0x445326);return;}}}),this[_0x1c414d(0x22e)]['stderr']['on'](_0x29c222[_0x1c414d(0x1d7)],_0x1ecbae=>{const _0x19cb8b=_0x1c414d;this[_0x19cb8b(0x237)][_0x19cb8b(0x184)](_0x19cb8b(0x1fb)+_0x1ecbae[_0x19cb8b(0x202)]()[_0x19cb8b(0x217)]());}),this[_0x1c414d(0x22e)]['on'](_0x29c222['SiRbd'],_0x281a8b=>{const _0x334194=_0x1c414d;_0x3ca4ae[_0x334194(0x184)]='Error\x20in\x20start:\x20'+_0x281a8b[_0x334194(0x1d3)],PerformanceTester[_0x334194(0x1a6)](PerformanceEvents['SDK_CLI_START'],![],_0x281a8b),_0x29c222['OxrBM'](_0xfb4601,new Error('Failed\x20to\x20start\x20CLI\x20process:\x20'+_0x281a8b[_0x334194(0x1d3)]));}),this['process']['on'](_0x29c222[_0x1c414d(0x183)],_0x35a7cc=>{const _0xa1c5de=_0x1c414d;_0x4723ef[_0xa1c5de(0x1c2)](_0x35a7cc,0x0)&&_0x4723ef[_0xa1c5de(0x1fd)](_0xfb4601,new Error(_0xa1c5de(0x220)+_0x35a7cc));});});}async[a59_0xd4999d(0x1db)](_0x540688=null){const _0x588130=a59_0xd4999d,_0x3eede9={'USZBO':_0x588130(0x23c),'hMytK':_0x588130(0x200),'cGJGt':function(_0x577d3b){return _0x577d3b();},'bTNZV':'stop:\x20CLI\x20process\x20exited','BaHJw':function(_0x10d328){return _0x10d328();},'eCmES':_0x588130(0x195),'TdzEC':function(_0x7ae78,_0x12d717,_0x5e4563){return _0x7ae78(_0x12d717,_0x5e4563);},'SvXFI':_0x588130(0x232),'RZmwX':'stop:\x20CLI\x20stop\x20triggered','PqMAK':function(_0x1065b9,_0x3292a1){return _0x1065b9(_0x3292a1);},'gvdvG':_0x588130(0x1ba),'NKjBu':_0x588130(0x1d4),'MKIRP':'stop:\x20error\x20in\x20closing\x20channel:\x20%s','GJxpz':_0x588130(0x1dc)};if(!this['isRunning']()){this[_0x588130(0x237)][_0x588130(0x1a9)](_0x3eede9['SvXFI']);return;}PerformanceTester['start'](PerformanceEvents['SDK_CLI_ON_STOP']),this[_0x588130(0x237)][_0x588130(0x1a9)](_0x3eede9[_0x588130(0x21e)]);try{if(this[_0x588130(0x1b1)]){const _0x5e9ff9=_0x3eede9['PqMAK'](require,_0x3eede9[_0x588130(0x1b7)]),_0xc6cfb0=this[_0x588130(0x20f)][_0x588130(0x213)]?.[_0x588130(0x20b)]?.[_0x588130(0x18f)]()?.[_0x588130(0x1ce)],_0x21bcdd=TestInfo[_0x588130(0x1b6)](_0xc6cfb0),_0x4a2da8=_0x21bcdd[TestFrameworkConstants[_0x588130(0x1eb)]]||{},_0x282788=await GrpcClient[_0x588130(0x1cb)]()[_0x588130(0x18b)](JSON[_0x588130(0x1c8)](_0x4a2da8),_0x540688);_0x282788&&_0x282788[_0x588130(0x194)]()&&_0x282788['getAutomateBuildlink']()&&(BrowserstackCLI[_0x588130(0x1dd)]=_0x282788[_0x588130(0x1d5)](),BrowserstackCLI[_0x588130(0x216)]=_0x282788['getHashedId']()),await _0x5e9ff9[_0x588130(0x223)](),TestInfo[_0x588130(0x1de)](),this[_0x588130(0x237)]['info'](_0x588130(0x204)+BrowserstackCLI[_0x588130(0x1dd)]+_0x588130(0x23a)+BrowserstackCLI[_0x588130(0x216)]+_0x588130(0x206)+BrowserstackCLI[_0x588130(0x189)]);}await this[_0x588130(0x18c)]();const _0x71af85=GrpcClient[_0x588130(0x1cb)]()['getChannel']();if(_0x71af85){try{_0x71af85[_0x588130(0x248)](),this[_0x588130(0x237)][_0x588130(0x1a9)](_0x3eede9[_0x588130(0x241)]);}catch(_0x5053a9){this[_0x588130(0x237)][_0x588130(0x184)](util[_0x588130(0x20e)](_0x3eede9[_0x588130(0x224)],_0x5053a9));}await new Promise(_0x5d9e57=>setTimeout(_0x5d9e57,0x1388));}this[_0x588130(0x22e)]&&this[_0x588130(0x22e)]['pid']&&(this[_0x588130(0x237)][_0x588130(0x1a9)](_0x3eede9[_0x588130(0x1e5)]),this[_0x588130(0x22e)][_0x588130(0x1f5)](),await new Promise(_0x218255=>{const _0x50b63a=_0x588130,_0x369178={'xMkOc':_0x3eede9[_0x50b63a(0x212)],'jDqWq':function(_0x41c457){const _0x1efdc8=_0x50b63a;return _0x3eede9[_0x1efdc8(0x214)](_0x41c457);}};let _0x216ad1=![];this[_0x50b63a(0x22e)]['on'](_0x3eede9[_0x50b63a(0x233)],()=>{const _0x138f00=_0x50b63a;this[_0x138f00(0x237)][_0x138f00(0x1a9)](_0x369178[_0x138f00(0x1cf)]),_0x216ad1=!![],PerformanceTester[_0x138f00(0x1a6)](PerformanceEvents[_0x138f00(0x186)]),_0x369178['jDqWq'](_0x218255);}),_0x3eede9[_0x50b63a(0x1bc)](setTimeout,()=>{const _0x1ae670=_0x50b63a;!_0x216ad1&&(this[_0x1ae670(0x237)][_0x1ae670(0x197)](_0x3eede9[_0x1ae670(0x207)]),this['process'][_0x1ae670(0x1f5)](_0x3eede9[_0x1ae670(0x1ee)]),PerformanceTester[_0x1ae670(0x1a6)](PerformanceEvents[_0x1ae670(0x186)]),_0x3eede9[_0x1ae670(0x18e)](_0x218255));},0xbb8);}));}catch(_0xec8a14){PerformanceTester[_0x588130(0x1a6)](PerformanceEvents[_0x588130(0x186)],![],util[_0x588130(0x20e)](_0xec8a14)),this[_0x588130(0x237)][_0x588130(0x184)](_0x588130(0x185)+(_0xec8a14[_0x588130(0x231)]||_0xec8a14));}_0x540688?this[_0x588130(0x22e)]['exitCode']=0x1:this[_0x588130(0x22e)][_0x588130(0x1e2)]=0x0,this[_0x588130(0x1d9)]=![],this[_0x588130(0x1b1)]=![],process['env'][_0x588130(0x1cd)]=null;}async[a59_0xd4999d(0x18c)](){const _0x4fb166=a59_0xd4999d,_0x47c34c={};_0x47c34c[_0x4fb166(0x1e1)]=_0x4fb166(0x227);const _0x52957c=_0x47c34c;this[_0x4fb166(0x237)][_0x4fb166(0x1a9)](_0x52957c[_0x4fb166(0x1e1)]);}['loadCliParams'](_0x3f2e95){const _0x16a1c9=a59_0xd4999d;this['logger'][_0x16a1c9(0x1a9)](_0x16a1c9(0x1f2)+JSON[_0x16a1c9(0x1c8)](_0x3f2e95)),this[_0x16a1c9(0x1f3)]=_0x3f2e95,GrpcClient['getInstance']()['init'](_0x3f2e95);}async['startChild'](_0x136961){const _0x4646cf=a59_0xd4999d,_0x44338f={};_0x44338f[_0x4646cf(0x1bd)]=_0x4646cf(0x187);const _0x54264a=_0x44338f;PerformanceTester[_0x4646cf(0x1e8)](PerformanceEvents[_0x4646cf(0x23f)]);try{this[_0x4646cf(0x237)][_0x4646cf(0x1a9)]('Starting\x20as\x20child\x20process\x20with\x20session\x20ID:\x20'+_0x136961);const _0x2c9c49=GrpcClient['getInstance']();if(_0x2c9c49&&_0x2c9c49[_0x4646cf(0x205)]()&&_0x2c9c49[_0x4646cf(0x1ac)]()){this['logger']['info'](_0x54264a['Wuexk']);return;}GrpcClient[_0x4646cf(0x1cb)]()[_0x4646cf(0x181)]();const _0x1a7627=await GrpcClient['getInstance']()[_0x4646cf(0x1d2)]();this[_0x4646cf(0x1d9)]=!![],this['loadModules'](_0x1a7627),PerformanceTester[_0x4646cf(0x1a6)](PerformanceEvents['SDK_CONNECT_BIN_SESSION']);}catch(_0x58382){PerformanceTester[_0x4646cf(0x1a6)](PerformanceEvents[_0x4646cf(0x23f)],![],util['format'](_0x58382)),this['logger']['error']('Failed\x20to\x20start\x20as\x20child\x20process:\x20'+util[_0x4646cf(0x20e)](_0x58382));}}[a59_0xd4999d(0x1ed)](){const _0x51424d=a59_0xd4999d,_0xade4a0={};_0xade4a0[_0x51424d(0x235)]=function(_0x4e0cd1,_0x278300){return _0x4e0cd1!==_0x278300;},_0xade4a0[_0x51424d(0x1e0)]=function(_0xc88f66,_0x1484e6){return _0xc88f66===_0x1484e6;},_0xade4a0['CQUcS']=function(_0x2d2914,_0x1cf4e6){return _0x2d2914!==_0x1cf4e6;},_0xade4a0[_0x51424d(0x1af)]=function(_0x555d0b,_0x30a4bb){return _0x555d0b!==_0x30a4bb;};const _0x2ae412=_0xade4a0;return CLIUtils[_0x51424d(0x1ab)]()||this[_0x51424d(0x1b1)]&&_0x2ae412[_0x51424d(0x235)](this[_0x51424d(0x22e)],null)&&_0x2ae412[_0x51424d(0x1e0)](this['process'][_0x51424d(0x1e2)],null)&&_0x2ae412[_0x51424d(0x18d)](GrpcClient[_0x51424d(0x1cb)]()[_0x51424d(0x205)](),null)&&!GrpcClient[_0x51424d(0x1cb)]()[_0x51424d(0x1ac)]()['isClosed']||this[_0x51424d(0x1d9)]&&_0x2ae412['tzOvQ'](GrpcClient['getInstance']()['getChannel'](),null)&&!GrpcClient[_0x51424d(0x1cb)]()[_0x51424d(0x1ac)]()['isClosed'];}[a59_0xd4999d(0x1d1)](){const _0x8bc059=a59_0xd4999d;return this[_0x8bc059(0x191)];}[a59_0xd4999d(0x1ae)](_0x7a18ab,_0x185b33=null){const _0x287134=a59_0xd4999d,_0x9238f9={};_0x9238f9[_0x287134(0x18a)]=function(_0x404099,_0x61bf6a){return _0x404099||_0x61bf6a;};const _0x34a588=_0x9238f9;this['browserstackConfig']=_0x34a588['jiomU'](_0x7a18ab,{}),this['browserstackCliConfig']=_0x185b33,process['env'][_0x287134(0x210)]=this[_0x287134(0x191)]?.[_0x287134(0x1bf)]||![];const _0x794eb3=CLIUtils[_0x287134(0x23d)]();helper[_0x287134(0x1a2)](process['env'][_0x287134(0x210)])||!CLI_SUPPORTED_FRAMEWORKS[_0x287134(0x1c7)](_0x794eb3['name'][_0x287134(0x1c9)]())?process[_0x287134(0x1b9)][_0x287134(0x243)]=![]:process[_0x287134(0x1b9)]['BROWSERSTACK_CLI_ENABLED']=!![];}async[a59_0xd4999d(0x1ff)](){const _0x1a8b8b=a59_0xd4999d;return!this[_0x1a8b8b(0x240)]&&(this['SDK_CLI_BIN_PATH']=await CLIUtils[_0x1a8b8b(0x1a0)](this[_0x1a8b8b(0x191)])),this[_0x1a8b8b(0x240)];}[a59_0xd4999d(0x193)](){const _0x21e7b1=a59_0xd4999d;return helper['isTrue'](process['env'][_0x21e7b1(0x243)]);}[a59_0xd4999d(0x1ec)](){return this['config'];}[a59_0xd4999d(0x1b4)](_0x443bf6){const _0x2c34f8=a59_0xd4999d,_0x2263e1={};_0x2263e1[_0x2c34f8(0x22a)]=_0x2c34f8(0x1da);const _0x1e1c04=_0x2263e1;try{this[_0x2c34f8(0x22f)]=JSON[_0x2c34f8(0x1f8)](_0x443bf6[_0x2c34f8(0x1ec)]()),this[_0x2c34f8(0x237)][_0x2c34f8(0x1a9)](_0x1e1c04[_0x2c34f8(0x22a)]);}catch(_0x2864f7){this['logger'][_0x2c34f8(0x184)](_0x2c34f8(0x1d8)+util[_0x2c34f8(0x20e)](_0x2864f7));}}[a59_0xd4999d(0x203)](_0x4b0184){const _0x45701e=a59_0xd4999d;try{this[_0x45701e(0x1ca)]=_0x4b0184['getCliArgs']()[_0x45701e(0x239)](','),this[_0x45701e(0x237)][_0x45701e(0x1a9)](_0x45701e(0x1c6)+JSON[_0x45701e(0x1c8)](this['cliArgs']));}catch(_0x5252cb){this[_0x45701e(0x237)][_0x45701e(0x184)](_0x45701e(0x1b0)+util[_0x45701e(0x20e)](_0x5252cb));}}[a59_0xd4999d(0x21d)](){const _0x593185=a59_0xd4999d;return this[_0x593185(0x1ca)];}[a59_0xd4999d(0x215)](){const _0x43e323=a59_0xd4999d,_0x58b076={};_0x58b076[_0x43e323(0x180)]=function(_0x4c451d,_0x4a6843){return _0x4c451d===_0x4a6843;};const _0x18bfab=_0x58b076,_0x503b15=CLIUtils['getTestFrameworkDetail']();_0x18bfab[_0x43e323(0x180)](_0x503b15[_0x43e323(0x1a1)]['toLowerCase'](),FRAMEWORKS[_0x43e323(0x1f0)]['toLowerCase']())&&(this[_0x43e323(0x1f7)]=new PlaywrightTestFramework([_0x503b15['name']],_0x503b15[_0x43e323(0x21a)]));}['setupAutomationFramework'](){const _0x3b5198=a59_0xd4999d,_0x59ffb0={};_0x59ffb0[_0x3b5198(0x19e)]=function(_0x1290c7,_0x13d747){return _0x1290c7===_0x13d747;};const _0x3e3cb2=_0x59ffb0,_0xafdae1=CLIUtils[_0x3b5198(0x1c5)]();_0x3e3cb2[_0x3b5198(0x19e)](_0xafdae1[_0x3b5198(0x1a1)][_0x3b5198(0x1c9)](),FRAMEWORKS[_0x3b5198(0x1f0)][_0x3b5198(0x1c9)]())&&(this[_0x3b5198(0x19c)]=new PlaywrightAutomationFramework(_0xafdae1['name'],_0xafdae1['version']));}[a59_0xd4999d(0x1fe)](){const _0x30a126=a59_0xd4999d;return this[_0x30a126(0x1f7)];}[a59_0xd4999d(0x1fc)](){const _0xef008f=a59_0xd4999d;return this[_0xef008f(0x19c)];}[a59_0xd4999d(0x211)](){const _0x63254c=a59_0xd4999d;return this[_0x63254c(0x22d)];}}module[a59_0xd4999d(0x1d6)]=BrowserstackCLI;function a59_0xa54e(){const _0x3c4319=['loadCliParams','close','jqHsC','connect','loadModules','vJDxw','error','stop:\x20error\x20in\x20stop\x20session\x20exception=','SDK_CLI_ON_STOP','startChild:\x20client\x20and\x20channel\x20already\x20exist,\x20stopping\x20here','util','O11yHashedID','jiomU','stopBinSession','unConfigureModules','CQUcS','cGJGt','toObject','./modules/testhubModule.js','browserstackConfig','zrCdy','isCliEnabled','getSuccess','exit','loadModules:\x20Loading\x20modules','warn','gCwZI','./modules/playwrightDriverModule.js','./framework/playwrightTestFramework.js','Sbqyb','automationFramework','../../helpers/classLogger.js','tjNGY','./grpcClient.js','setupCliPath','name','isTrue','391938CVSPCe','test','mTNST','end','../../helpers/performance/performance-tester.js','bootstrap','info','SDK_CLI_START','isDevelopmentEnv','getChannel','awXfo','setBrowserstackConfig','tzOvQ','setCliArgs:\x20error=','isMainConnected','lJTdq','data','setConfig','getAccessibility','getTestDetails','gvdvG','ready','env','./uploadAttachmentsManager.js','startChild','TdzEC','Wuexk','1788925YNNDNS','turboScale','setupAutomationFramework','configureModules','mDSwM','isFalse','62235eMzAph','getAutomationFrameworkDetail','setCliArgs:\x20cliArgs=','includes','stringify','toLowerCase','cliArgs','getInstance','startMain:\x20Starting\x20main\x20process','BROWSERSTACK_CLI_ENV','buildHashedId','xMkOc','358748otcTrv','getBrowserstackConfig','connectBinSession','message','stop:\x20channel\x20closed','getAutomateBuildlink','exports','pAAOI','setConfig:\x20error=','isChildConnected','loading\x20Modules.','stop','stop:\x20shutting\x20down\x20CLI','BuildLink','shutdown','initialized','FYUCI','EXRTY','exitCode','binSessionId','UBbaN','GJxpz','EmmBa','PMxLh','start','../../helpers/performance/constants','getBinSessionId','KEY_CUSTOM_TAGS','getConfig','isRunning','hMytK','./modules/accessibilityModule.js','PLAYWRIGHT','btDOf','CLI\x20params\x20loaded:\x20','cliParams','Gtmrg','kill','getTesthub','testFramework','parse','resolve','2101470XdwBlY','CLI\x20stderr:\x20','getAutomationFramework','VdneN','getTestFramework','getCliBinPath','SIGKILL','ovBxT','toString','setCliArgs','stop:\x20stopBinSession\x20build_link=','getClient','\x20o11y_uuid=','USZBO','getAccessibilityModule','child_process','AQhSt','testhubConfig','MODULE_NAME','client','format','modules','BROWSERSTACK_TURBOSCALE','getBrowserstackCliConfig','bTNZV','TestHubModule','BaHJw','setupTestFramework','HashedID','trim','getCLIParamsForDevEnv','BrowserstackCLI','version','./framework/playwrightAutomationFramework.js','pid','getCliArgs','RZmwX','sdk','CLI\x20process\x20exited\x20with\x20code\x20','gAmIK','startMain','clearAttachments','MKIRP','nNIdu','zDFwT','Unconfiguring\x20modules','2338RwXDvm','1114HwgUIX','FYLpf','7824fqVSEo','677qUfJTk','browserstackCliConfig','process','config','./TestInfo.js','stack','stop:\x20CLI\x20is\x20not\x20running,\x20skipping\x20stop','eCmES','hvvXT','zVDBj','sHvHm','logger','LJbgy','split','\x20hashed_id=','connected','stop:\x20process\x20exit\x20timeout,\x20forcing\x20kill','getTestFrameworkDetail','SDK_CLI_ON_BOOTSTRAP','SDK_CONNECT_BIN_SESSION','SDK_CLI_BIN_PATH','NKjBu','./framework/constants/testFrameworkConstants.js','BROWSERSTACK_CLI_ENABLED','loadModules:\x20binSessionId=','540sCAVRj','configure'];a59_0xa54e=function(){return _0x3c4319;};return a59_0xa54e();}