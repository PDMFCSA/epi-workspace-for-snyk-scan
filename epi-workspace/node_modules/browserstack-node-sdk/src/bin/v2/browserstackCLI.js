const a63_0x32ef8d=a63_0x48e6;(function(_0x2b8fa9,_0x42a090){const _0x4cf58e=a63_0x48e6,_0x3dfb77=_0x2b8fa9();while(!![]){try{const _0x350af0=parseInt(_0x4cf58e(0xfb))/0x1+parseInt(_0x4cf58e(0xec))/0x2*(parseInt(_0x4cf58e(0x10e))/0x3)+-parseInt(_0x4cf58e(0x14c))/0x4*(parseInt(_0x4cf58e(0x16f))/0x5)+-parseInt(_0x4cf58e(0x122))/0x6+-parseInt(_0x4cf58e(0x182))/0x7+parseInt(_0x4cf58e(0x16e))/0x8+-parseInt(_0x4cf58e(0xbf))/0x9*(-parseInt(_0x4cf58e(0xdc))/0xa);if(_0x350af0===_0x42a090)break;else _0x3dfb77['push'](_0x3dfb77['shift']());}catch(_0x1295b7){_0x3dfb77['push'](_0x3dfb77['shift']());}}}(a63_0x1e24,0x32ab3));const {spawn}=require('child_process'),GrpcClient=require(a63_0x32ef8d(0x14f)),util=require(a63_0x32ef8d(0xf7)),CLIUtils=require(a63_0x32ef8d(0xd3)),PlaywrightAutomationFramework=require(a63_0x32ef8d(0x12f)),PlaywrightTestFramework=require('./framework/playwrightTestFramework.js'),CucumberTestFramework=require(a63_0x32ef8d(0xe8)),JestTestFramework=require('./framework/jestTestFramework.js'),{createClassLogger}=require(a63_0x32ef8d(0x16c)),PerformanceTester=require(a63_0x32ef8d(0xba)),{EVENTS:PerformanceEvents}=require(a63_0x32ef8d(0xb2)),AccessibilityModule=require(a63_0x32ef8d(0x125)),{CLI_SUPPORTED_FRAMEWORKS,FRAMEWORKS}=require('../utils/constants.js'),helper=require(a63_0x32ef8d(0x12d)),TestFrameworkConstants=require(a63_0x32ef8d(0x129)),buildLogger=require(a63_0x32ef8d(0xb0))[a63_0x32ef8d(0xe7)],LoadTestModule=require('./modules/loadTestModule.js'),TestInfo=require('./TestInfo.js');class BrowserstackCLI{static #instance=null;static [a63_0x32ef8d(0xdb)]=null;static [a63_0x32ef8d(0xc5)]=null;static [a63_0x32ef8d(0x17c)]=null;[a63_0x32ef8d(0x144)]=null;[a63_0x32ef8d(0x17a)]=![];['isChildConnected']=![];['binSessionId']=null;[a63_0x32ef8d(0xbc)]={};['testFramework']=null;['automationFramework']=null;['logger']=createClassLogger(a63_0x32ef8d(0x140));constructor(){const _0x510dcc=a63_0x32ef8d;this[_0x510dcc(0x175)]=![],this[_0x510dcc(0x11a)]={},this[_0x510dcc(0xc1)]={},this[_0x510dcc(0xff)]={};}static[a63_0x32ef8d(0x190)](){return!BrowserstackCLI.#instance&&(BrowserstackCLI.#instance=new BrowserstackCLI()),BrowserstackCLI.#instance;}async['bootstrap'](){const _0x4a7372=a63_0x32ef8d,_0x952fd3={};_0x952fd3['HQxgP']=_0x4a7372(0x18c);const _0x210ebc=_0x952fd3;if(helper[_0x4a7372(0x184)](process['env'][_0x4a7372(0x162)])){this['logger'][_0x4a7372(0xc3)](_0x210ebc[_0x4a7372(0x105)]);return;}PerformanceTester[_0x4a7372(0xb9)](PerformanceEvents[_0x4a7372(0x13b)]);try{const _0x586e37=process[_0x4a7372(0x199)]['BROWSERSTACK_CLI_BIN_SESSION_ID']||null;this[_0x4a7372(0x13d)](),this[_0x4a7372(0x149)]();if(_0x586e37){await this[_0x4a7372(0xc9)](_0x586e37),PerformanceTester[_0x4a7372(0xf4)](PerformanceEvents[_0x4a7372(0x13b)]);return;}await this[_0x4a7372(0x14e)]();}catch(_0x4df818){this['logger'][_0x4a7372(0x161)]('bootstrap:\x20failed\x20to\x20bootstrap='+(_0x4df818[_0x4a7372(0x15c)]||_0x4df818)),await this[_0x4a7372(0xc7)](),PerformanceTester['end'](PerformanceEvents['SDK_CLI_ON_BOOTSTRAP'],![],util[_0x4a7372(0x15a)](_0x4df818));}}async['startMain'](){const _0x105ce7=a63_0x32ef8d,_0x2bcc1d={};_0x2bcc1d[_0x105ce7(0x138)]=_0x105ce7(0xd5),_0x2bcc1d[_0x105ce7(0xed)]=_0x105ce7(0x103);const _0x447f86=_0x2bcc1d;this[_0x105ce7(0x108)][_0x105ce7(0xc3)](_0x447f86[_0x105ce7(0x138)]),await this['start'](),this[_0x105ce7(0x108)][_0x105ce7(0x128)](_0x447f86[_0x105ce7(0xed)]);const _0x44bae8=await GrpcClient[_0x105ce7(0x190)]()[_0x105ce7(0xd1)]();this[_0x105ce7(0x17a)]=!![],this[_0x105ce7(0x18b)](_0x44bae8);}[a63_0x32ef8d(0x18b)](_0x56f9ed){const _0x542951=a63_0x32ef8d,_0x45258a={'kGGjS':function(_0x30bd24,_0x109bfc){return _0x30bd24(_0x109bfc);},'BxcqU':_0x542951(0x194),'jNEkR':_0x542951(0x169),'LVDqj':function(_0x1cbec9,_0x59bcde){return _0x1cbec9(_0x59bcde);},'QYTzw':_0x542951(0x158),'uoPdq':_0x542951(0x130),'XPofP':'getObservability','nrjuO':_0x542951(0x16a),'yumuZ':_0x542951(0xda),'hYYPm':function(_0x4dbcb1,_0x5275fc){return _0x4dbcb1||_0x5275fc;},'WIqHM':function(_0x20ded1,_0x17c4df){return _0x20ded1===_0x17c4df;},'yArLN':'function','BnuRh':function(_0x31409c,_0x4992f1){return _0x31409c&&_0x4992f1;}},_0x1e1ea3=_0x45258a[_0x542951(0x15d)](require,_0x45258a['BxcqU']),_0x2fcb2a=_0x45258a[_0x542951(0x15d)](require,_0x45258a[_0x542951(0x10a)]),_0x51b81c=_0x45258a[_0x542951(0x145)](require,_0x45258a['QYTzw']);this[_0x542951(0x108)][_0x542951(0xc3)](_0x45258a['uoPdq']),this[_0x542951(0x132)]=_0x56f9ed['getBinSessionId'](),this[_0x542951(0x108)]['info'](_0x542951(0xfe)+this['binSessionId']),this['setConfig'](_0x56f9ed),this[_0x542951(0xcc)]();!this['isChildConnected']&&this[_0x542951(0x143)](_0x56f9ed);const _0x2131ff=_0x45258a[_0x542951(0x13a)],_0x5ee195=_0x45258a['nrjuO'],_0x456a63=_0x45258a[_0x542951(0x100)],_0xfb2dd6=_0x56f9ed[_0x2131ff]()&&_0x56f9ed[_0x2131ff]()[_0x456a63](),_0x345c63=_0x56f9ed[_0x5ee195]()&&_0x56f9ed[_0x5ee195]()[_0x456a63](),_0xf4cfde=process[_0x542951(0x199)][_0x542951(0x10b)]&&JSON['parse'](process[_0x542951(0x199)][_0x542951(0x10b)]);_0x45258a['hYYPm'](_0xfb2dd6,_0x345c63)&&(this['modules'][_0x2fcb2a[_0x542951(0x176)]]=new _0x2fcb2a(_0x56f9ed[_0x542951(0xb8)](),_0xf4cfde));_0xfb2dd6&&(this['modules'][_0x51b81c[_0x542951(0x176)]]=new _0x51b81c(_0x56f9ed[_0x2131ff]()));if(_0x345c63)this['modules'][AccessibilityModule['MODULE_NAME']]=new AccessibilityModule(_0x56f9ed[_0x5ee195]());else try{const _0x1ff68d=_0x56f9ed[_0x5ee195](),_0x706016=_0x1ff68d&&_0x45258a[_0x542951(0x185)](typeof _0x1ff68d[_0x456a63],_0x45258a[_0x542951(0xbd)])?!!_0x1ff68d[_0x456a63]():![];this['logger']['info']('Accessibility\x20success='+_0x706016);if(_0x45258a[_0x542951(0xb5)](!_0x706016,_0x1ff68d)){const _0x56d19f=_0x1ff68d[_0x542951(0x14b)]?_0x1ff68d[_0x542951(0x14b)]():_0x1ff68d;_0x56d19f[_0x542951(0x165)]&&Array[_0x542951(0x134)](_0x56d19f['errorsList'])&&(this[_0x542951(0x108)][_0x542951(0x161)]('Accessibility\x20initialization\x20failed\x20with\x20'+_0x56d19f[_0x542951(0x165)][_0x542951(0xc4)]+_0x542951(0x11b)),_0x56d19f[_0x542951(0x165)][_0x542951(0x155)]((_0x10cb5d,_0x1615e9)=>{const _0x4cd745=_0x542951;this[_0x4cd745(0x108)][_0x4cd745(0x161)]('Error:\x20['+_0x10cb5d['key']+']\x20'+_0x10cb5d[_0x4cd745(0x173)]);}),_0x56d19f[_0x542951(0x12e)]&&this[_0x542951(0x108)][_0x542951(0x161)](_0x542951(0x126)+_0x56d19f[_0x542951(0x12e)]),_0x56d19f[_0x542951(0x12b)]&&this['logger'][_0x542951(0x161)](_0x542951(0x121)+_0x56d19f['code']));}}catch(_0x1236d7){this[_0x542951(0x108)]['error'](_0x542951(0x110)+_0x1236d7);}this['modules'][_0x1e1ea3[_0x542951(0x176)]]=new _0x1e1ea3(_0xf4cfde),this[_0x542951(0xd7)]();}['getAccessibilityModule'](){const _0x2394ec=a63_0x32ef8d;return this[_0x2394ec(0xbc)][AccessibilityModule[_0x2394ec(0x176)]];}async['configureModules'](){const _0x559fad=a63_0x32ef8d;for(const _0x50a24b in this[_0x559fad(0xbc)]){const _0x16dfcf=this['modules'][_0x50a24b];await _0x16dfcf[_0x559fad(0x18e)](this[_0x559fad(0x132)],0x0,GrpcClient[_0x559fad(0x190)]()['client'],this[_0x559fad(0x11a)]);}}async[a63_0x32ef8d(0xb9)](){const _0x10302c=a63_0x32ef8d,_0x597312={'YhcHu':function(_0x316fa7,_0x5d6f0f){return _0x316fa7!==_0x5d6f0f;},'xnOXT':'ready','zgZqM':function(_0x59beaf){return _0x59beaf();},'PtYNh':function(_0x380c5c,_0x180149){return _0x380c5c(_0x180149);},'IlerJ':function(_0x3ccc60,_0x200809){return _0x3ccc60!==_0x200809;},'TvcMF':function(_0x417740,_0x30ea31){return _0x417740(_0x30ea31);},'QQnHn':'data','IOZZf':_0x10302c(0x161),'KBIbP':_0x10302c(0xe6),'ZbzAX':'Failed\x20to\x20get\x20CLI\x20binary\x20path.\x20CLI\x20setup\x20failed.','OSwrz':'sdk','nYBBo':function(_0x464e6c,_0x40a4be,_0x491ce2,_0x1e2b61){return _0x464e6c(_0x40a4be,_0x491ce2,_0x1e2b61);},'lWdhl':'failed\x20to\x20start\x20CLI,\x20no\x20PID\x20found'};PerformanceTester['start'](PerformanceEvents[_0x10302c(0x18d)]);if(CLIUtils[_0x10302c(0x101)]())return this['loadCliParams'](CLIUtils[_0x10302c(0x114)]()),PerformanceTester[_0x10302c(0xf4)](PerformanceEvents[_0x10302c(0x18d)]),Promise[_0x10302c(0x154)]();if(this[_0x10302c(0x144)]&&this['process'][_0x10302c(0x178)])return PerformanceTester[_0x10302c(0xf4)](PerformanceEvents[_0x10302c(0x18d)]),Promise[_0x10302c(0x154)]();const _0x2b686f=await this['getCliBinPath']();if(!_0x2b686f)throw new Error(_0x597312[_0x10302c(0xd2)]);const _0x954c01=[_0x2b686f,_0x597312[_0x10302c(0xe5)]];this[_0x10302c(0x108)]['info'](_0x10302c(0x11d)+_0x954c01+'\x27');const _0x502f33={};_0x502f33[_0x10302c(0x199)]=process['env'],this[_0x10302c(0x144)]=_0x597312[_0x10302c(0x153)](spawn,_0x954c01[0x0],_0x954c01[_0x10302c(0x159)](0x1),_0x502f33);if(!this[_0x10302c(0x144)][_0x10302c(0x195)])throw new Error(_0x597312[_0x10302c(0xe9)]);return new Promise((_0x22bd0f,_0x5512d2)=>{const _0x28f2c6=_0x10302c,_0x2966a6={'HvUqJ':function(_0x227956,_0x213eb8){return _0x597312['PtYNh'](_0x227956,_0x213eb8);},'Jsnuk':function(_0x36bb75,_0x449115){return _0x597312['IlerJ'](_0x36bb75,_0x449115);},'jfHXr':function(_0x3f1936,_0x5e9b56){const _0x4a1374=a63_0x48e6;return _0x597312[_0x4a1374(0x10c)](_0x3f1936,_0x5e9b56);}},_0x1106a7={};this['process'][_0x28f2c6(0x136)]['on'](_0x597312[_0x28f2c6(0x16b)],_0x4aee91=>{const _0x4433eb=_0x28f2c6,_0xf773f=_0x4aee91[_0x4433eb(0x156)]()[_0x4433eb(0xcd)]()['split']('\x0a');for(const _0x4a0a54 of _0xf773f){if(/^(id|listen|port)=.*$/[_0x4433eb(0xcb)](_0x4a0a54)){const [_0x2ba831,_0x19fd27]=_0x4a0a54[_0x4433eb(0xae)]('=',0x2);_0x597312['YhcHu'](_0x19fd27,undefined)&&(_0x1106a7[_0x2ba831]=_0x19fd27);}if(_0x4a0a54['toLowerCase']()[_0x4433eb(0xf2)](_0x597312['xnOXT'])){this[_0x4433eb(0x197)](_0x1106a7),PerformanceTester['end'](PerformanceEvents[_0x4433eb(0x18d)]),_0x597312[_0x4433eb(0x193)](_0x22bd0f);return;}}}),this['process'][_0x28f2c6(0x119)]['on'](_0x597312[_0x28f2c6(0x16b)],_0x2b3d8d=>{const _0x32964f=_0x28f2c6;this[_0x32964f(0x108)][_0x32964f(0x161)](_0x32964f(0xb6)+_0x2b3d8d['toString']()[_0x32964f(0xcd)]());}),this[_0x28f2c6(0x144)]['on'](_0x597312[_0x28f2c6(0x188)],_0x20864c=>{const _0x5560f8=_0x28f2c6;_0x1106a7['error']=_0x5560f8(0xb4)+_0x20864c['message'],PerformanceTester['end'](PerformanceEvents[_0x5560f8(0x18d)],![],_0x20864c),_0x2966a6[_0x5560f8(0xd6)](_0x5512d2,new Error(_0x5560f8(0x131)+_0x20864c[_0x5560f8(0x173)]));}),this[_0x28f2c6(0x144)]['on'](_0x597312['KBIbP'],_0x3460fa=>{const _0x59fcf3=_0x28f2c6;_0x2966a6[_0x59fcf3(0xad)](_0x3460fa,0x0)&&_0x2966a6[_0x59fcf3(0xdf)](_0x5512d2,new Error(_0x59fcf3(0xfc)+_0x3460fa));});});}async['stop'](_0x4b7c86=null){const _0x27e4fb=a63_0x32ef8d,_0x50554c={'pOyVm':_0x27e4fb(0xf9),'Nixbv':function(_0x540a93){return _0x540a93();},'CSfYx':_0x27e4fb(0x170),'XvJxJ':_0x27e4fb(0x14a),'LJFJs':function(_0x850d80){return _0x850d80();},'xMPgY':_0x27e4fb(0xd9),'lYOpv':function(_0xb765cb,_0x471838,_0x137b59){return _0xb765cb(_0x471838,_0x137b59);},'tyDkA':'stop:\x20CLI\x20is\x20not\x20running,\x20skipping\x20stop','pqzok':_0x27e4fb(0x166),'JrXci':function(_0x4831b9,_0x250d10){return _0x4831b9(_0x250d10);},'GthNa':_0x27e4fb(0xe3),'pBtGS':'stop:\x20channel\x20closed','WCHaD':_0x27e4fb(0x12a),'EJfqy':_0x27e4fb(0xe0)};if(!this[_0x27e4fb(0xee)]()){this[_0x27e4fb(0x108)][_0x27e4fb(0xc3)](_0x50554c[_0x27e4fb(0x157)]);return;}PerformanceTester['start'](PerformanceEvents[_0x27e4fb(0x15e)]),this['logger'][_0x27e4fb(0xc3)](_0x50554c[_0x27e4fb(0xdd)]);try{if(this[_0x27e4fb(0x17a)]){const _0x370d9a=_0x50554c[_0x27e4fb(0x164)](require,_0x50554c[_0x27e4fb(0x183)]),_0x2db94a=this['modules'][_0x27e4fb(0xca)]?.['testhubConfig']?.['toObject']()?.[_0x27e4fb(0xcf)],_0x5f49f2=TestInfo[_0x27e4fb(0x137)](_0x2db94a),_0xb0ad3=_0x5f49f2[TestFrameworkConstants[_0x27e4fb(0x13e)]]||{},_0x1a1b8b=await GrpcClient[_0x27e4fb(0x190)]()[_0x27e4fb(0x151)](JSON[_0x27e4fb(0xde)](_0xb0ad3),_0x4b7c86);_0x1a1b8b&&_0x1a1b8b[_0x27e4fb(0xda)]()&&_0x1a1b8b[_0x27e4fb(0xc8)]()&&(BrowserstackCLI[_0x27e4fb(0xdb)]=_0x1a1b8b['getAutomateBuildlink'](),BrowserstackCLI[_0x27e4fb(0xc5)]=_0x1a1b8b[_0x27e4fb(0xe2)]()),await _0x370d9a['clearAttachments'](),TestInfo[_0x27e4fb(0xb1)](),buildLogger[_0x27e4fb(0xc3)](_0x27e4fb(0x113)+BrowserstackCLI[_0x27e4fb(0xdb)]+_0x27e4fb(0x18a)+BrowserstackCLI[_0x27e4fb(0xc5)]+_0x27e4fb(0x174)+BrowserstackCLI[_0x27e4fb(0x17c)]);}await this[_0x27e4fb(0x198)]();const _0x24c7f9=GrpcClient[_0x27e4fb(0x190)]()[_0x27e4fb(0x109)]();if(_0x24c7f9){try{_0x24c7f9[_0x27e4fb(0xe6)](),this['logger'][_0x27e4fb(0xc3)](_0x50554c[_0x27e4fb(0xf8)]);}catch(_0x2670cf){this[_0x27e4fb(0x108)][_0x27e4fb(0x161)](util[_0x27e4fb(0x15a)](_0x50554c['WCHaD'],_0x2670cf));}await new Promise(_0x5431e6=>setTimeout(_0x5431e6,0x1388));}this['process']&&this['process'][_0x27e4fb(0x195)]&&(this[_0x27e4fb(0x108)][_0x27e4fb(0xc3)](_0x50554c['EJfqy']),this[_0x27e4fb(0x144)]['kill'](),await new Promise(_0x2d74c8=>{const _0x13d009=_0x27e4fb,_0x347f3d={'pdjIK':_0x50554c[_0x13d009(0x111)],'jbHPa':_0x50554c[_0x13d009(0x15b)],'ibPEE':function(_0x450273){const _0x5a10d4=_0x13d009;return _0x50554c[_0x5a10d4(0x13f)](_0x450273);}};let _0x3a63e8=![];this['process']['on'](_0x50554c['xMPgY'],()=>{const _0x46d98e=_0x13d009;this[_0x46d98e(0x108)][_0x46d98e(0xc3)](_0x50554c[_0x46d98e(0xe4)]),_0x3a63e8=!![],PerformanceTester[_0x46d98e(0xf4)](PerformanceEvents[_0x46d98e(0x15e)]),_0x50554c['Nixbv'](_0x2d74c8);}),_0x50554c['lYOpv'](setTimeout,()=>{const _0x1680a8=_0x13d009;!_0x3a63e8&&(this[_0x1680a8(0x108)][_0x1680a8(0x160)](_0x347f3d[_0x1680a8(0x11c)]),this[_0x1680a8(0x144)][_0x1680a8(0x181)](_0x347f3d[_0x1680a8(0x180)]),PerformanceTester[_0x1680a8(0xf4)](PerformanceEvents[_0x1680a8(0x15e)]),_0x347f3d[_0x1680a8(0x191)](_0x2d74c8));},0xbb8);}));}catch(_0x5330f7){PerformanceTester[_0x27e4fb(0xf4)](PerformanceEvents[_0x27e4fb(0x15e)],![],util[_0x27e4fb(0x15a)](_0x5330f7)),this[_0x27e4fb(0x108)][_0x27e4fb(0x161)](_0x27e4fb(0x116)+(_0x5330f7[_0x27e4fb(0x15c)]||_0x5330f7));}_0x4b7c86?this[_0x27e4fb(0x144)][_0x27e4fb(0x150)]=0x1:this[_0x27e4fb(0x144)][_0x27e4fb(0x150)]=0x0,this[_0x27e4fb(0x17f)]=![],this[_0x27e4fb(0x17a)]=![],process[_0x27e4fb(0x199)][_0x27e4fb(0xd4)]=null;}async['unConfigureModules'](){const _0x4af7d2=a63_0x32ef8d,_0x2496d6={};_0x2496d6[_0x4af7d2(0x106)]=_0x4af7d2(0xd0);const _0x130b31=_0x2496d6;this[_0x4af7d2(0x108)][_0x4af7d2(0xc3)](_0x130b31[_0x4af7d2(0x106)]);}['loadCliParams'](_0x3e934c){const _0x481b99=a63_0x32ef8d;this[_0x481b99(0x108)][_0x481b99(0xc3)](_0x481b99(0xeb)+JSON[_0x481b99(0xde)](_0x3e934c)),this[_0x481b99(0x163)]=_0x3e934c,GrpcClient[_0x481b99(0x190)]()[_0x481b99(0x102)](_0x3e934c);}async[a63_0x32ef8d(0xc9)](_0x15bb0e){const _0x24db8c=a63_0x32ef8d,_0x1a2de9={};_0x1a2de9[_0x24db8c(0x152)]='startChild:\x20client\x20and\x20channel\x20already\x20exist,\x20stopping\x20here';const _0xea4c0=_0x1a2de9;PerformanceTester[_0x24db8c(0xb9)](PerformanceEvents[_0x24db8c(0xbe)]);try{this[_0x24db8c(0x108)]['info']('Starting\x20as\x20child\x20process\x20with\x20session\x20ID:\x20'+_0x15bb0e);const _0x5911ec=GrpcClient['getInstance']();if(_0x5911ec&&_0x5911ec[_0x24db8c(0xc0)]()&&_0x5911ec[_0x24db8c(0x109)]()){this['logger'][_0x24db8c(0xc3)](_0xea4c0[_0x24db8c(0x152)]);return;}GrpcClient['getInstance']()[_0x24db8c(0x118)]();const _0x38c85f=await GrpcClient[_0x24db8c(0x190)]()[_0x24db8c(0xf6)]();this[_0x24db8c(0x17f)]=!![],this[_0x24db8c(0x18b)](_0x38c85f),PerformanceTester['end'](PerformanceEvents[_0x24db8c(0xbe)]);}catch(_0x4c14ae){PerformanceTester[_0x24db8c(0xf4)](PerformanceEvents[_0x24db8c(0xbe)],![],util[_0x24db8c(0x15a)](_0x4c14ae)),this[_0x24db8c(0x108)][_0x24db8c(0x161)](_0x24db8c(0x16d)+util['format'](_0x4c14ae));}}['isRunning'](){const _0x2433e6=a63_0x32ef8d,_0x5346a1={};_0x5346a1[_0x2433e6(0xea)]=function(_0xe88e28,_0xf282fb){return _0xe88e28!==_0xf282fb;},_0x5346a1[_0x2433e6(0x189)]=function(_0x571433,_0x23bab9){return _0x571433===_0x23bab9;},_0x5346a1['qpffs']=function(_0x50b143,_0x3e25b8){return _0x50b143!==_0x3e25b8;};const _0xa6f2bc=_0x5346a1;return CLIUtils[_0x2433e6(0x101)]()||this['isMainConnected']&&_0xa6f2bc[_0x2433e6(0xea)](this[_0x2433e6(0x144)],null)&&_0xa6f2bc['esXwK'](this[_0x2433e6(0x144)][_0x2433e6(0x150)],null)&&_0xa6f2bc[_0x2433e6(0xea)](GrpcClient[_0x2433e6(0x190)]()[_0x2433e6(0xc0)](),null)&&!GrpcClient[_0x2433e6(0x190)]()[_0x2433e6(0x109)]()[_0x2433e6(0xf0)]||this['isChildConnected']&&_0xa6f2bc[_0x2433e6(0x192)](GrpcClient[_0x2433e6(0x190)]()[_0x2433e6(0x109)](),null)&&!GrpcClient[_0x2433e6(0x190)]()[_0x2433e6(0x109)]()[_0x2433e6(0xf0)];}[a63_0x32ef8d(0xc2)](){const _0x592c20=a63_0x32ef8d;return this[_0x592c20(0xff)];}[a63_0x32ef8d(0x139)](_0x4155f0,_0x378724,_0x193cb5=null){const _0xf03162=a63_0x32ef8d,_0x17a386={};_0x17a386['BlBrr']=function(_0x4db17f,_0x221516){return _0x4db17f||_0x221516;};const _0x50637c=_0x17a386;this[_0xf03162(0xff)]=_0x50637c[_0xf03162(0x14d)](_0x4155f0,{}),this['browserstackConfigPath']=_0x378724,this[_0xf03162(0x147)]=_0x193cb5,process['env']['BROWSERSTACK_TURBOSCALE']=this[_0xf03162(0xff)]?.[_0xf03162(0x12c)]||![];const _0x4e7535=CLIUtils[_0xf03162(0xce)](),_0x1bdf24=CLIUtils[_0xf03162(0xf1)]();LoadTestModule['isLTSSession'](this[_0xf03162(0xff)])&&LoadTestModule[_0xf03162(0x15f)](this[_0xf03162(0xff)]||{}),helper[_0xf03162(0x120)](process[_0xf03162(0x199)]['BROWSERSTACK_TURBOSCALE'])||!(CLI_SUPPORTED_FRAMEWORKS[_0xf03162(0xf2)](_0x4e7535[_0xf03162(0x123)][_0xf03162(0xb7)]())&&CLI_SUPPORTED_FRAMEWORKS[_0xf03162(0xf2)](_0x1bdf24[_0xf03162(0x123)][_0xf03162(0xb7)]()))?process[_0xf03162(0x199)]['BROWSERSTACK_CLI_ENABLED']=![]:process[_0xf03162(0x199)][_0xf03162(0x162)]=!![];}async[a63_0x32ef8d(0x17b)](){const _0xedb39e=a63_0x32ef8d,_0x179083={};_0x179083[_0xedb39e(0x167)]=_0xedb39e(0xf5),_0x179083[_0xedb39e(0x115)]=_0xedb39e(0x168);const _0x5749a3=_0x179083;if(!this['SDK_CLI_BIN_PATH'])try{this[_0xedb39e(0x108)]['debug'](_0x5749a3['QyDWN']),this[_0xedb39e(0x133)]=await CLIUtils[_0xedb39e(0xc6)](this[_0xedb39e(0xff)]),!this[_0xedb39e(0x133)]?this[_0xedb39e(0x108)][_0xedb39e(0x161)](_0x5749a3[_0xedb39e(0x115)]):this['logger'][_0xedb39e(0x128)](_0xedb39e(0x17e)+this[_0xedb39e(0x133)]);}catch(_0x174a09){this[_0xedb39e(0x108)][_0xedb39e(0x161)](_0xedb39e(0x171)+_0x174a09[_0xedb39e(0x173)]),this[_0xedb39e(0x133)]=null;}return this[_0xedb39e(0x133)];}[a63_0x32ef8d(0x17d)](){const _0x2d43ec=a63_0x32ef8d;return helper[_0x2d43ec(0x120)](process[_0x2d43ec(0x199)][_0x2d43ec(0x162)]);}[a63_0x32ef8d(0x18f)](){const _0x39ad5a=a63_0x32ef8d;return this[_0x39ad5a(0x11a)];}[a63_0x32ef8d(0x107)](_0x18a14b){const _0xaaf602=a63_0x32ef8d,_0x14104={};_0x14104[_0xaaf602(0xe1)]='loading\x20Modules.';const _0x45d11e=_0x14104;try{this['config']=JSON[_0xaaf602(0x186)](_0x18a14b['getConfig']()),this[_0xaaf602(0x108)]['info'](_0x45d11e['mMiTM']);}catch(_0x1e7a12){this[_0xaaf602(0x108)][_0xaaf602(0x161)](_0xaaf602(0x11e)+util[_0xaaf602(0x15a)](_0x1e7a12));}}['syncAccessibilityConfig'](){const _0x1681c3=a63_0x32ef8d,_0x7e6dd4={};_0x7e6dd4['zTFSP']=_0x1681c3(0xf3),_0x7e6dd4[_0x1681c3(0x112)]=_0x1681c3(0x117),_0x7e6dd4[_0x1681c3(0x141)]=_0x1681c3(0xd8);const _0x1555b7=_0x7e6dd4;try{if(!this['browserstackConfig']){this[_0x1681c3(0x108)][_0x1681c3(0x128)](_0x1555b7[_0x1681c3(0x146)]);return;}const _0x79c31f=this[_0x1681c3(0x18f)]();if(!_0x79c31f){this[_0x1681c3(0x108)][_0x1681c3(0x128)](_0x1555b7[_0x1681c3(0x112)]);return;}!helper[_0x1681c3(0x127)](_0x79c31f['accessibility'])&&(this['browserstackConfig'][_0x1681c3(0x179)]=_0x79c31f['accessibility'],this[_0x1681c3(0x108)]['debug']('syncAccessibilityConfig:\x20Updated\x20browserstackConfig.accessibility\x20from\x20CLI\x20response:\x20'+_0x79c31f[_0x1681c3(0x179)])),!helper[_0x1681c3(0x127)](_0x79c31f[_0x1681c3(0xfa)])&&(this[_0x1681c3(0xff)]['accessibilityOptions']=_0x79c31f[_0x1681c3(0xfa)],this[_0x1681c3(0x108)][_0x1681c3(0x128)](_0x1555b7[_0x1681c3(0x141)]));}catch(_0x1e1811){this[_0x1681c3(0x108)]['error'](_0x1681c3(0xfd)+util[_0x1681c3(0x15a)](_0x1e1811));}}[a63_0x32ef8d(0x143)](_0x32898d){const _0x34c8e8=a63_0x32ef8d;try{this[_0x34c8e8(0xc1)]=_0x32898d[_0x34c8e8(0xb3)]()[_0x34c8e8(0xae)](','),this['logger'][_0x34c8e8(0xc3)](_0x34c8e8(0x124)+JSON['stringify'](this[_0x34c8e8(0xc1)]));}catch(_0xcbf36e){this[_0x34c8e8(0x108)][_0x34c8e8(0x161)](_0x34c8e8(0x148)+util[_0x34c8e8(0x15a)](_0xcbf36e));}}[a63_0x32ef8d(0xb3)](){const _0x204698=a63_0x32ef8d;return this[_0x204698(0xc1)];}['setupTestFramework'](){const _0x2f3f47=a63_0x32ef8d,_0x1512fe={};_0x1512fe['gzUKL']=function(_0x4503bc,_0x4b59c5){return _0x4503bc===_0x4b59c5;},_0x1512fe[_0x2f3f47(0x10f)]=function(_0x5932bc,_0x17b313){return _0x5932bc===_0x17b313;},_0x1512fe[_0x2f3f47(0x11f)]=function(_0x53dc0b,_0x2dafa5){return _0x53dc0b===_0x2dafa5;};const _0x3600eb=_0x1512fe,_0x2c5feb=CLIUtils[_0x2f3f47(0xce)]();if(_0x3600eb[_0x2f3f47(0x104)](_0x2c5feb[_0x2f3f47(0x123)]['toLowerCase'](),FRAMEWORKS[_0x2f3f47(0x10d)][_0x2f3f47(0xb7)]()))this[_0x2f3f47(0x142)]=new PlaywrightTestFramework([_0x2c5feb['name']],_0x2c5feb['version']);else{if(_0x3600eb[_0x2f3f47(0x10f)](_0x2c5feb[_0x2f3f47(0x123)][_0x2f3f47(0xb7)](),FRAMEWORKS[_0x2f3f47(0x13c)][_0x2f3f47(0xb7)]()))this['testFramework']=new CucumberTestFramework([_0x2c5feb[_0x2f3f47(0x123)]],_0x2c5feb[_0x2f3f47(0xaf)]);else _0x3600eb['eDntW'](_0x2c5feb[_0x2f3f47(0x123)][_0x2f3f47(0xb7)](),FRAMEWORKS['JEST']['toLowerCase']())&&(this[_0x2f3f47(0x142)]=new JestTestFramework([_0x2c5feb[_0x2f3f47(0x123)]],_0x2c5feb[_0x2f3f47(0xaf)]));}}['setupAutomationFramework'](){const _0x66c65a=a63_0x32ef8d,_0x563ffd={};_0x563ffd[_0x66c65a(0x187)]=function(_0x54eaa9,_0x27da88){return _0x54eaa9===_0x27da88;};const _0x102777=_0x563ffd,_0x137bd5=CLIUtils[_0x66c65a(0xf1)]();_0x102777['rgiuJ'](_0x137bd5['name']['toLowerCase'](),FRAMEWORKS[_0x66c65a(0x10d)][_0x66c65a(0xb7)]())&&(this[_0x66c65a(0x177)]=new PlaywrightAutomationFramework(_0x137bd5[_0x66c65a(0x123)],_0x137bd5[_0x66c65a(0xaf)]));}[a63_0x32ef8d(0xbb)](){return this['testFramework'];}[a63_0x32ef8d(0x196)](){const _0x5690a5=a63_0x32ef8d;return this[_0x5690a5(0x177)];}['getBrowserstackCliConfig'](){const _0x22eff3=a63_0x32ef8d;return this[_0x22eff3(0x147)];}[a63_0x32ef8d(0x135)](){const _0x4ddbf4=a63_0x32ef8d;return this[_0x4ddbf4(0x172)];}}function a63_0x48e6(_0x11b344,_0x2db831){const _0x1e2401=a63_0x1e24();return a63_0x48e6=function(_0x48e675,_0x27c9cf){_0x48e675=_0x48e675-0xad;let _0x2c10c3=_0x1e2401[_0x48e675];return _0x2c10c3;},a63_0x48e6(_0x11b344,_0x2db831);}module[a63_0x32ef8d(0xef)]=BrowserstackCLI;function a63_0x1e24(){const _0x764c94=['getTestDetails','qJyNP','setBrowserstackConfig','XPofP','SDK_CLI_ON_BOOTSTRAP','CUCUMBER','setupAutomationFramework','KEY_CUSTOM_TAGS','LJFJs','BrowserstackCLI','JKdwB','testFramework','setCliArgs','process','LVDqj','zTFSP','browserstackCliConfig','setCliArgs:\x20error=','setupTestFramework','SIGKILL','toObject','1432084badVbO','BlBrr','startMain','./grpcClient.js','exitCode','stopBinSession','NNEPe','nYBBo','resolve','forEach','toString','tyDkA','./modules/observabilityModule.js','slice','format','XvJxJ','stack','kGGjS','SDK_CLI_ON_STOP','setLTSSessionId','warn','error','BROWSERSTACK_CLI_ENABLED','cliParams','JrXci','errorsList','stop:\x20CLI\x20stop\x20triggered','QyDWN','CLIUtils.setupCliPath\x20returned\x20null','./modules/testhubModule.js','getAccessibility','QQnHn','../../helpers/classLogger.js','Failed\x20to\x20start\x20as\x20child\x20process:\x20','2201200fZLEWw','5zFGQuu','stop:\x20process\x20exit\x20timeout,\x20forcing\x20kill','Error\x20in\x20setupCliPath:\x20','browserstackConfigPath','message','\x20o11y_uuid=','initialized','MODULE_NAME','automationFramework','connected','accessibility','isMainConnected','getCliBinPath','O11yHashedID','isCliEnabled','CLI\x20binary\x20path\x20resolved\x20to:\x20','isChildConnected','jbHPa','kill','2830317RMoXDi','GthNa','isFalse','WIqHM','parse','rgiuJ','IOZZf','esXwK','\x20hashed_id=','loadModules','Disabling\x20CLI.','SDK_CLI_START','configure','getConfig','getInstance','ibPEE','qpffs','zgZqM','./modules/playwrightDriverModule.js','pid','getAutomationFramework','loadCliParams','unConfigureModules','env','Jsnuk','split','version','../../helpers/logger.js','shutdown','../../helpers/performance/constants','getCliArgs','Error\x20in\x20start:\x20','BnuRh','CLI\x20stderr:\x20','toLowerCase','getTesthub','start','../../helpers/performance/performance-tester.js','getTestFramework','modules','yArLN','SDK_CONNECT_BIN_SESSION','702aUqYgT','getClient','cliArgs','getBrowserstackConfig','info','length','HashedID','setupCliPath','stop','getAutomateBuildlink','startChild','TestHubModule','test','syncAccessibilityConfig','trim','getTestFrameworkDetail','buildHashedId','Unconfiguring\x20modules','startBinSession','ZbzAX','./cliUtils.js','BROWSERSTACK_CLI_ENV','startMain:\x20Starting\x20main\x20process','HvUqJ','configureModules','syncAccessibilityConfig:\x20Updated\x20browserstackConfig.accessibilityOptions\x20from\x20CLI\x20response','exit','getSuccess','BuildLink','60590ExBRDS','pqzok','stringify','jfHXr','stop:\x20shutting\x20down\x20CLI','mMiTM','getHashedId','./uploadAttachmentsManager.js','pOyVm','OSwrz','close','buildLogger','./framework/cucumberTestFramework.js','lWdhl','HXZVP','CLI\x20params\x20loaded:\x20','334IxNjsD','pHsCt','isRunning','exports','isClosed','getAutomationFrameworkDetail','includes','syncAccessibilityConfig:\x20browserstackConfig\x20not\x20set,\x20skipping\x20sync','end','Setting\x20up\x20CLI\x20binary\x20path...','connectBinSession','util','pBtGS','stop:\x20CLI\x20process\x20exited','accessibilityOptions','206654vWpuYR','CLI\x20process\x20exited\x20with\x20code\x20','syncAccessibilityConfig:\x20error=','loadModules:\x20binSessionId=','browserstackConfig','yumuZ','isDevelopmentEnv','init','startMain:\x20main-process\x20started','gzUKL','HQxgP','otbYC','setConfig','logger','getChannel','jNEkR','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','TvcMF','PLAYWRIGHT','4851nDCdKs','yJVLJ','Error\x20reading\x20accessibility\x20success\x20value:\x20','CSfYx','ZbZJh','stop:\x20stopBinSession\x20build_link=','getCLIParamsForDevEnv','QVmTh','stop:\x20error\x20in\x20stop\x20session\x20exception=','syncAccessibilityConfig:\x20CLI\x20config\x20not\x20available,\x20skipping\x20sync','connect','stderr','config','\x20errors:','pdjIK','spawning\x20command=\x27','setConfig:\x20error=','eDntW','isTrue','Error\x20Code:\x20','1527324vXGwli','name','setCliArgs:\x20cliArgs=','./modules/accessibilityModule.js','Error\x20Trace\x20ID:\x20','isUndefined','debug','./framework/constants/testFrameworkConstants.js','stop:\x20error\x20in\x20closing\x20channel:\x20%s','code','turboScale','../../helpers/helper.js','errorTraceId','./framework/playwrightAutomationFramework.js','loadModules:\x20Loading\x20modules','Failed\x20to\x20start\x20CLI\x20process:\x20','binSessionId','SDK_CLI_BIN_PATH','isArray','getBrowserstackConfigPath','stdout'];a63_0x1e24=function(){return _0x764c94;};return a63_0x1e24();}