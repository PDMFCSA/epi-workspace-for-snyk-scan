function a61_0x3654(_0x28d0bc,_0x1ee881){const _0x3c73a=a61_0x3c73();return a61_0x3654=function(_0x36548e,_0x1b3bee){_0x36548e=_0x36548e-0x11d;let _0x20523d=_0x3c73a[_0x36548e];return _0x20523d;},a61_0x3654(_0x28d0bc,_0x1ee881);}const a61_0x3095df=a61_0x3654;(function(_0x542e3a,_0x6f860d){const _0x188651=a61_0x3654,_0x436737=_0x542e3a();while(!![]){try{const _0x15a8a2=-parseInt(_0x188651(0x19d))/0x1*(parseInt(_0x188651(0x161))/0x2)+-parseInt(_0x188651(0x1b2))/0x3+-parseInt(_0x188651(0x1c4))/0x4*(-parseInt(_0x188651(0x1b0))/0x5)+parseInt(_0x188651(0x182))/0x6+-parseInt(_0x188651(0x1e9))/0x7*(-parseInt(_0x188651(0x183))/0x8)+parseInt(_0x188651(0x148))/0x9+-parseInt(_0x188651(0x1df))/0xa;if(_0x15a8a2===_0x6f860d)break;else _0x436737['push'](_0x436737['shift']());}catch(_0xa166f){_0x436737['push'](_0x436737['shift']());}}}(a61_0x3c73,0x7d7f7));function a61_0x3c73(){const _0x3d3f62=['isTrue','stdout','HflrX','info','message','getTestDetails','setCliArgs:\x20cliArgs=','initialized','Accessibility\x20success=','toString','startChild','dhaMx','config','exitCode','50PkisbD','getClient','getTestFramework','toObject','../../helpers/performance/performance-tester.js','function','key','JdCdt','isDevelopmentEnv','BROWSERSTACK_CLI_ENABLED','CLI\x20binary\x20path\x20resolved\x20to:\x20','shutdown','setBrowserstackConfig','Error\x20Trace\x20ID:\x20','getCLIParamsForDevEnv','getConfig','unConfigureModules','keljW','env','test','dVSYb','getBrowserstackConfig','errorTraceId','bsdmA','../../helpers/helper.js','Failed\x20to\x20start\x20as\x20child\x20process:\x20','isArray','CLI\x20stderr:\x20','VjXwc','turboScale','configure','Error:\x20[','setCliArgs','234966MtIXBH','1309016JmySkM','O11yHashedID','buildLogger','kill','getAccessibilityModule','MODULE_NAME','BROWSERSTACK_CLI_BIN_SESSION_ID','SDK_CLI_START','Uglfo','setupAutomationFramework','CIuDf','./modules/playwrightDriverModule.js','getTestFrameworkDetail','getChannel','loadModules:\x20Loading\x20modules','setConfig','loading\x20Modules.','browserstackConfig','Error\x20Code:\x20','FjiIv','shChK','aPEsE','Setting\x20up\x20CLI\x20binary\x20path...','start','failed\x20to\x20start\x20CLI,\x20no\x20PID\x20found','isFalse','6214BDJroa','CLI\x20params\x20loaded:\x20','\x20errors:','trim','SDK_CLI_ON_STOP','Xsnsl','YrDLe','Disabling\x20CLI.','fXrbU','buildHashedId','browserstackCliConfig','./modules/observabilityModule.js','SDK_CLI_BIN_PATH','../../helpers/logger.js','code','testFramework','errorsList','SIGKILL','setupTestFramework','5DrwfMI','startMain','1129122kxHHhy','aCIuF','CLIUtils.setupCliPath\x20returned\x20null','startMain:\x20Starting\x20main\x20process','version','getHashedId','aISAP','./framework/constants/testFrameworkConstants.js','Lbjrp','getCliBinPath','end','bSfPx','tEiOH','debug','isClosed','YTJxh','stop:\x20CLI\x20process\x20exited','getAutomationFrameworkDetail','2012676dUNuoa','isChildConnected','getObservability','obzEx','startMain:\x20main-process\x20started','tAbLh','setConfig:\x20error=','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','stack','automationFramework','logger','client','data','stderr','vWbOK','CHdOP','cliArgs','sdk','getSuccess','stop:\x20process\x20exit\x20timeout,\x20forcing\x20kill','cliParams','ready','unpOe','format','loadCliParams','./grpcClient.js','clearAttachments','6862900ikiLEM','vFnzy','bootstrap:\x20failed\x20to\x20bootstrap=','HashedID','process','exit','TogUg','Error\x20in\x20setupCliPath:\x20','SDK_CONNECT_BIN_SESSION','nLGfi','35GrytfI','parse','BdmxX','modules','getTesthub','bootstrap','cMCDF','BRqIX','stopBinSession','getInstance','BROWSERSTACK_CLI_ENV','BrowserstackCLI','./framework/playwrightAutomationFramework.js','PLAYWRIGHT','binSessionId','toLowerCase','uWOfq','KEY_CUSTOM_TAGS','../../helpers/performance/constants','error','split','../../helpers/classLogger.js','pid','VRKNi','Accessibility\x20initialization\x20failed\x20with\x20','loadModules','sWqlr','getBrowserstackCliConfig','getCliArgs','setCliArgs:\x20error=','loadModules:\x20binSessionId=','fZvDV','./uploadAttachmentsManager.js','\x20o11y_uuid=','isCliEnabled','ZLpTV','./modules/accessibilityModule.js','Wwiky','name','resolve','connectBinSession','GGQDp','child_process','isMainConnected','slice','util','VEoMD','BuildLink','getBinSessionId','Error\x20in\x20start:\x20','configureModules','Unconfiguring\x20modules','VnCbk','BROWSERSTACK_TURBOSCALE','init','oYwLb','znWBv','isRunning','CLI\x20process\x20exited\x20with\x20code\x20','KBJur','SDK_CLI_ON_BOOTSTRAP','includes','3344292rOlCwG','getAutomationFramework','RtOVB','stop:\x20CLI\x20is\x20not\x20running,\x20skipping\x20stop','./modules/testhubModule.js','testhubConfig','CUCUMBER','\x20hashed_id=','qriHd','stop:\x20CLI\x20stop\x20triggered','stringify'];a61_0x3c73=function(){return _0x3d3f62;};return a61_0x3c73();}const {spawn}=require(a61_0x3095df(0x134)),GrpcClient=require(a61_0x3095df(0x1dd)),util=require(a61_0x3095df(0x137)),CLIUtils=require('./cliUtils.js'),PlaywrightAutomationFramework=require(a61_0x3095df(0x1f5)),PlaywrightTestFramework=require('./framework/playwrightTestFramework.js'),CucumberTestFramework=require('./framework/cucumberTestFramework.js'),{createClassLogger}=require(a61_0x3095df(0x11f)),PerformanceTester=require(a61_0x3095df(0x165)),{EVENTS:PerformanceEvents}=require(a61_0x3095df(0x1fb)),AccessibilityModule=require(a61_0x3095df(0x12e)),{CLI_SUPPORTED_FRAMEWORKS,FRAMEWORKS}=require('../utils/constants.js'),helper=require(a61_0x3095df(0x179)),TestFrameworkConstants=require(a61_0x3095df(0x1b9)),buildLogger=require(a61_0x3095df(0x1aa))[a61_0x3095df(0x185)],TestInfo=require('./TestInfo.js');class BrowserstackCLI{static #instance=null;static [a61_0x3095df(0x139)]=null;static ['HashedID']=null;static [a61_0x3095df(0x184)]=null;[a61_0x3095df(0x1e3)]=null;[a61_0x3095df(0x135)]=![];[a61_0x3095df(0x1c5)]=![];[a61_0x3095df(0x1f7)]=null;[a61_0x3095df(0x1ec)]={};['testFramework']=null;[a61_0x3095df(0x1cd)]=null;[a61_0x3095df(0x1ce)]=createClassLogger(a61_0x3095df(0x1f4));constructor(){const _0x10c477=a61_0x3095df;this[_0x10c477(0x15a)]=![],this['config']={},this[_0x10c477(0x1d4)]={},this[_0x10c477(0x194)]={};}static[a61_0x3095df(0x1f2)](){return!BrowserstackCLI.#instance&&(BrowserstackCLI.#instance=new BrowserstackCLI()),BrowserstackCLI.#instance;}async[a61_0x3095df(0x1ee)](){const _0x26c594=a61_0x3095df,_0x51ec5f={};_0x51ec5f[_0x26c594(0x1f9)]=_0x26c594(0x1a4);const _0x4859f3=_0x51ec5f;if(helper[_0x26c594(0x19c)](process[_0x26c594(0x173)][_0x26c594(0x16a)])){this[_0x26c594(0x1ce)]['info'](_0x4859f3[_0x26c594(0x1f9)]);return;}PerformanceTester[_0x26c594(0x19a)](PerformanceEvents[_0x26c594(0x146)]);try{const _0x43a7e2=process[_0x26c594(0x173)][_0x26c594(0x189)]||null;this[_0x26c594(0x18c)](),this[_0x26c594(0x1af)]();if(_0x43a7e2){await this[_0x26c594(0x15d)](_0x43a7e2),PerformanceTester[_0x26c594(0x1bc)](PerformanceEvents[_0x26c594(0x146)]);return;}await this['startMain']();}catch(_0x4d68ce){this[_0x26c594(0x1ce)][_0x26c594(0x11d)](_0x26c594(0x1e1)+(_0x4d68ce[_0x26c594(0x1cc)]||_0x4d68ce)),await this['stop'](),PerformanceTester['end'](PerformanceEvents[_0x26c594(0x146)],![],util[_0x26c594(0x1db)](_0x4d68ce));}}async[a61_0x3095df(0x1b1)](){const _0x480699=a61_0x3095df,_0x167a85={};_0x167a85[_0x480699(0x155)]=_0x480699(0x1b5),_0x167a85[_0x480699(0x15e)]=_0x480699(0x1c8);const _0x31faa0=_0x167a85;this[_0x480699(0x1ce)][_0x480699(0x156)](_0x31faa0[_0x480699(0x155)]),await this[_0x480699(0x19a)](),this[_0x480699(0x1ce)]['debug'](_0x31faa0['dhaMx']);const _0x118748=await GrpcClient[_0x480699(0x1f2)]()['startBinSession']();this[_0x480699(0x135)]=!![],this[_0x480699(0x123)](_0x118748);}[a61_0x3095df(0x123)](_0x39cfe9){const _0x11c519=a61_0x3095df,_0x41ee5f={'NmtUT':function(_0x1a7632,_0x593342){return _0x1a7632(_0x593342);},'Wwiky':_0x11c519(0x18e),'EeTHx':_0x11c519(0x14c),'vFnzy':function(_0x42394a,_0x558eb5){return _0x42394a(_0x558eb5);},'tAbLh':_0x11c519(0x1a8),'sWqlr':_0x11c519(0x191),'VRKNi':_0x11c519(0x1c6),'oYwLb':'getAccessibility','BRqIX':'getSuccess','Kqleu':function(_0x22e3cc,_0x345ea3){return _0x22e3cc||_0x345ea3;},'TogUg':function(_0x209061,_0x292e6d){return _0x209061===_0x292e6d;},'qriHd':_0x11c519(0x166),'ZWvYD':function(_0xa3cdf7,_0x2f9c1b){return _0xa3cdf7&&_0x2f9c1b;}},_0xdddb63=_0x41ee5f['NmtUT'](require,_0x41ee5f[_0x11c519(0x12f)]),_0x871f6d=_0x41ee5f['NmtUT'](require,_0x41ee5f['EeTHx']),_0x3d1954=_0x41ee5f[_0x11c519(0x1e0)](require,_0x41ee5f[_0x11c519(0x1c9)]);this[_0x11c519(0x1ce)][_0x11c519(0x156)](_0x41ee5f[_0x11c519(0x124)]),this[_0x11c519(0x1f7)]=_0x39cfe9[_0x11c519(0x13a)](),this[_0x11c519(0x1ce)][_0x11c519(0x156)](_0x11c519(0x128)+this[_0x11c519(0x1f7)]),this[_0x11c519(0x192)](_0x39cfe9);!this[_0x11c519(0x1c5)]&&this['setCliArgs'](_0x39cfe9);const _0x5a2847=_0x41ee5f[_0x11c519(0x121)],_0x54fb5a=_0x41ee5f[_0x11c519(0x141)],_0x3a55ad=_0x41ee5f[_0x11c519(0x1f0)],_0x4979cf=_0x39cfe9[_0x5a2847]()&&_0x39cfe9[_0x5a2847]()[_0x3a55ad](),_0x1698d4=_0x39cfe9[_0x54fb5a]()&&_0x39cfe9[_0x54fb5a]()[_0x3a55ad](),_0x57ff4a=process[_0x11c519(0x173)][_0x11c519(0x1cb)]&&JSON[_0x11c519(0x1ea)](process[_0x11c519(0x173)][_0x11c519(0x1cb)]);_0x41ee5f['Kqleu'](_0x4979cf,_0x1698d4)&&(this[_0x11c519(0x1ec)][_0x871f6d[_0x11c519(0x188)]]=new _0x871f6d(_0x39cfe9[_0x11c519(0x1ed)](),_0x57ff4a));_0x4979cf&&(this[_0x11c519(0x1ec)][_0x3d1954[_0x11c519(0x188)]]=new _0x3d1954(_0x39cfe9[_0x5a2847]()));if(_0x1698d4)this[_0x11c519(0x1ec)][AccessibilityModule[_0x11c519(0x188)]]=new AccessibilityModule(_0x39cfe9[_0x54fb5a]());else try{const _0x3cbe42=_0x39cfe9[_0x54fb5a](),_0xd66f0f=_0x3cbe42&&_0x41ee5f[_0x11c519(0x1e5)](typeof _0x3cbe42[_0x3a55ad],_0x41ee5f[_0x11c519(0x150)])?!!_0x3cbe42[_0x3a55ad]():![];this[_0x11c519(0x1ce)][_0x11c519(0x156)](_0x11c519(0x15b)+_0xd66f0f);if(_0x41ee5f['ZWvYD'](!_0xd66f0f,_0x3cbe42)){const _0xd2ee1e=_0x3cbe42[_0x11c519(0x164)]?_0x3cbe42[_0x11c519(0x164)]():_0x3cbe42;_0xd2ee1e[_0x11c519(0x1ad)]&&Array[_0x11c519(0x17b)](_0xd2ee1e[_0x11c519(0x1ad)])&&(this[_0x11c519(0x1ce)][_0x11c519(0x11d)](_0x11c519(0x122)+_0xd2ee1e['errorsList']['length']+_0x11c519(0x19f)),_0xd2ee1e[_0x11c519(0x1ad)]['forEach']((_0xa8b263,_0x11aa46)=>{const _0x545195=_0x11c519;this['logger']['error'](_0x545195(0x180)+_0xa8b263[_0x545195(0x167)]+']\x20'+_0xa8b263['message']);}),_0xd2ee1e[_0x11c519(0x177)]&&this['logger']['error'](_0x11c519(0x16e)+_0xd2ee1e['errorTraceId']),_0xd2ee1e['code']&&this[_0x11c519(0x1ce)][_0x11c519(0x11d)](_0x11c519(0x195)+_0xd2ee1e[_0x11c519(0x1ab)]));}}catch(_0x57b9d9){this[_0x11c519(0x1ce)][_0x11c519(0x11d)]('Error\x20reading\x20accessibility\x20success\x20value:\x20'+_0x57b9d9);}this['modules'][_0xdddb63[_0x11c519(0x188)]]=new _0xdddb63(_0x57ff4a),this[_0x11c519(0x13c)]();}[a61_0x3095df(0x187)](){const _0x17cfb5=a61_0x3095df;return this[_0x17cfb5(0x1ec)][AccessibilityModule[_0x17cfb5(0x188)]];}async[a61_0x3095df(0x13c)](){const _0x40865a=a61_0x3095df;for(const _0x3c16ef in this[_0x40865a(0x1ec)]){const _0x1aa935=this['modules'][_0x3c16ef];await _0x1aa935[_0x40865a(0x17f)](this[_0x40865a(0x1f7)],0x0,GrpcClient['getInstance']()[_0x40865a(0x1cf)],this[_0x40865a(0x15f)]);}}async[a61_0x3095df(0x19a)](){const _0x51d0e3=a61_0x3095df,_0x3fc94c={'UzBFd':function(_0x87a040,_0xdc697b){return _0x87a040!==_0xdc697b;},'keljW':_0x51d0e3(0x1d9),'cMCDF':function(_0x4134c2){return _0x4134c2();},'FjiIv':function(_0x8789c3,_0xea263d){return _0x8789c3(_0xea263d);},'IjFSi':function(_0x25e525,_0x31196e){return _0x25e525!==_0x31196e;},'obzEx':function(_0x315a34,_0x186cd7){return _0x315a34(_0x186cd7);},'YrDLe':_0x51d0e3(0x1d0),'mBWCy':_0x51d0e3(0x11d),'bSfPx':'close','Lbjrp':'Failed\x20to\x20get\x20CLI\x20binary\x20path.\x20CLI\x20setup\x20failed.','aPEsE':_0x51d0e3(0x1d5),'KBJur':function(_0x4054dd,_0x2a6c51,_0x139fdc,_0x3d7af9){return _0x4054dd(_0x2a6c51,_0x139fdc,_0x3d7af9);},'bsdmA':_0x51d0e3(0x19b)};PerformanceTester[_0x51d0e3(0x19a)](PerformanceEvents[_0x51d0e3(0x18a)]);if(CLIUtils[_0x51d0e3(0x169)]())return this[_0x51d0e3(0x1dc)](CLIUtils[_0x51d0e3(0x16f)]()),PerformanceTester[_0x51d0e3(0x1bc)](PerformanceEvents[_0x51d0e3(0x18a)]),Promise[_0x51d0e3(0x131)]();if(this[_0x51d0e3(0x1e3)]&&this['process']['connected'])return PerformanceTester['end'](PerformanceEvents['SDK_CLI_START']),Promise[_0x51d0e3(0x131)]();const _0x24237c=await this[_0x51d0e3(0x1bb)]();if(!_0x24237c)throw new Error(_0x3fc94c[_0x51d0e3(0x1ba)]);const _0x44c277=[_0x24237c,_0x3fc94c[_0x51d0e3(0x198)]];this['logger']['info']('spawning\x20command=\x27'+_0x44c277+'\x27');const _0x1fdf3e={};_0x1fdf3e[_0x51d0e3(0x173)]=process['env'],this['process']=_0x3fc94c[_0x51d0e3(0x145)](spawn,_0x44c277[0x0],_0x44c277[_0x51d0e3(0x136)](0x1),_0x1fdf3e);if(!this['process'][_0x51d0e3(0x120)])throw new Error(_0x3fc94c[_0x51d0e3(0x178)]);return new Promise((_0x514b2b,_0x278c28)=>{const _0x5937a7=_0x51d0e3,_0x48eae2={};this[_0x5937a7(0x1e3)][_0x5937a7(0x154)]['on'](_0x3fc94c[_0x5937a7(0x1a3)],_0x53fde0=>{const _0x3569e7=_0x5937a7,_0x25a3bc=_0x53fde0[_0x3569e7(0x15c)]()[_0x3569e7(0x1a0)]()[_0x3569e7(0x11e)]('\x0a');for(const _0x4eb7df of _0x25a3bc){if(/^(id|listen|port)=.*$/[_0x3569e7(0x174)](_0x4eb7df)){const [_0x8b977d,_0x23f245]=_0x4eb7df[_0x3569e7(0x11e)]('=',0x2);_0x3fc94c['UzBFd'](_0x23f245,undefined)&&(_0x48eae2[_0x8b977d]=_0x23f245);}if(_0x4eb7df[_0x3569e7(0x1f8)]()[_0x3569e7(0x147)](_0x3fc94c[_0x3569e7(0x172)])){this[_0x3569e7(0x1dc)](_0x48eae2),PerformanceTester[_0x3569e7(0x1bc)](PerformanceEvents[_0x3569e7(0x18a)]),_0x3fc94c[_0x3569e7(0x1ef)](_0x514b2b);return;}}}),this[_0x5937a7(0x1e3)][_0x5937a7(0x1d1)]['on'](_0x3fc94c[_0x5937a7(0x1a3)],_0x548e8b=>{const _0xc15cb3=_0x5937a7;this[_0xc15cb3(0x1ce)][_0xc15cb3(0x11d)](_0xc15cb3(0x17c)+_0x548e8b[_0xc15cb3(0x15c)]()['trim']());}),this['process']['on'](_0x3fc94c['mBWCy'],_0x361559=>{const _0x2dfb49=_0x5937a7;_0x48eae2[_0x2dfb49(0x11d)]=_0x2dfb49(0x13b)+_0x361559[_0x2dfb49(0x157)],PerformanceTester[_0x2dfb49(0x1bc)](PerformanceEvents[_0x2dfb49(0x18a)],![],_0x361559),_0x3fc94c[_0x2dfb49(0x196)](_0x278c28,new Error('Failed\x20to\x20start\x20CLI\x20process:\x20'+_0x361559['message']));}),this['process']['on'](_0x3fc94c[_0x5937a7(0x1bd)],_0x2bb321=>{const _0x3665de=_0x5937a7;_0x3fc94c['IjFSi'](_0x2bb321,0x0)&&_0x3fc94c[_0x3665de(0x1c7)](_0x278c28,new Error(_0x3665de(0x144)+_0x2bb321));});});}async['stop'](_0x2e2564=null){const _0x57b71c=a61_0x3095df,_0x1f75b3={'fXrbU':_0x57b71c(0x1d7),'fpaiq':_0x57b71c(0x1ae),'aISAP':function(_0x4d295a){return _0x4d295a();},'JdCdt':_0x57b71c(0x1c2),'MZFvw':_0x57b71c(0x1e4),'VjXwc':function(_0x935de3,_0xa2a3cf,_0xcc6ca3){return _0x935de3(_0xa2a3cf,_0xcc6ca3);},'CIuDf':_0x57b71c(0x14b),'aCIuF':_0x57b71c(0x151),'BdmxX':function(_0x353d80,_0x5e7fd6){return _0x353d80(_0x5e7fd6);},'Uglfo':_0x57b71c(0x12a),'shChK':'stop:\x20channel\x20closed','YTJxh':'stop:\x20error\x20in\x20closing\x20channel:\x20%s','GGQDp':'stop:\x20shutting\x20down\x20CLI'};if(!this['isRunning']()){this[_0x57b71c(0x1ce)][_0x57b71c(0x156)](_0x1f75b3[_0x57b71c(0x18d)]);return;}PerformanceTester[_0x57b71c(0x19a)](PerformanceEvents['SDK_CLI_ON_STOP']),this[_0x57b71c(0x1ce)][_0x57b71c(0x156)](_0x1f75b3[_0x57b71c(0x1b3)]);try{if(this['isMainConnected']){const _0x9fb5e6=_0x1f75b3[_0x57b71c(0x1eb)](require,_0x1f75b3[_0x57b71c(0x18b)]),_0x3090a8=this[_0x57b71c(0x1ec)]['TestHubModule']?.[_0x57b71c(0x14d)]?.[_0x57b71c(0x164)]()?.[_0x57b71c(0x1a6)],_0x59ac0f=TestInfo[_0x57b71c(0x158)](_0x3090a8),_0x1f8d57=_0x59ac0f[TestFrameworkConstants[_0x57b71c(0x1fa)]]||{},_0x13a7d1=await GrpcClient[_0x57b71c(0x1f2)]()[_0x57b71c(0x1f1)](JSON[_0x57b71c(0x152)](_0x1f8d57),_0x2e2564);_0x13a7d1&&_0x13a7d1[_0x57b71c(0x1d6)]()&&_0x13a7d1['getAutomateBuildlink']()&&(BrowserstackCLI[_0x57b71c(0x139)]=_0x13a7d1['getAutomateBuildlink'](),BrowserstackCLI['HashedID']=_0x13a7d1[_0x57b71c(0x1b7)]()),await _0x9fb5e6[_0x57b71c(0x1de)](),TestInfo[_0x57b71c(0x16c)](),buildLogger[_0x57b71c(0x156)]('stop:\x20stopBinSession\x20build_link='+BrowserstackCLI[_0x57b71c(0x139)]+_0x57b71c(0x14f)+BrowserstackCLI[_0x57b71c(0x1e2)]+_0x57b71c(0x12b)+BrowserstackCLI[_0x57b71c(0x184)]);}await this[_0x57b71c(0x171)]();const _0xaaabc2=GrpcClient[_0x57b71c(0x1f2)]()[_0x57b71c(0x190)]();if(_0xaaabc2){try{_0xaaabc2['close'](),this[_0x57b71c(0x1ce)][_0x57b71c(0x156)](_0x1f75b3[_0x57b71c(0x197)]);}catch(_0x407081){this[_0x57b71c(0x1ce)]['error'](util[_0x57b71c(0x1db)](_0x1f75b3[_0x57b71c(0x1c1)],_0x407081));}await new Promise(_0x2cb71e=>setTimeout(_0x2cb71e,0x1388));}this[_0x57b71c(0x1e3)]&&this[_0x57b71c(0x1e3)][_0x57b71c(0x120)]&&(this[_0x57b71c(0x1ce)]['info'](_0x1f75b3[_0x57b71c(0x133)]),this[_0x57b71c(0x1e3)][_0x57b71c(0x186)](),await new Promise(_0x3e681a=>{const _0x5a189b=_0x57b71c,_0x270e13={'tEiOH':_0x1f75b3[_0x5a189b(0x168)],'geHRQ':function(_0x2e3eeb){const _0x211fb6=_0x5a189b;return _0x1f75b3[_0x211fb6(0x1b8)](_0x2e3eeb);}};let _0x31cf49=![];this[_0x5a189b(0x1e3)]['on'](_0x1f75b3['MZFvw'],()=>{const _0x170b5b=_0x5a189b;this[_0x170b5b(0x1ce)][_0x170b5b(0x156)](_0x270e13[_0x170b5b(0x1be)]),_0x31cf49=!![],PerformanceTester[_0x170b5b(0x1bc)](PerformanceEvents[_0x170b5b(0x1a1)]),_0x270e13['geHRQ'](_0x3e681a);}),_0x1f75b3[_0x5a189b(0x17d)](setTimeout,()=>{const _0x370c5d=_0x5a189b;!_0x31cf49&&(this[_0x370c5d(0x1ce)]['warn'](_0x1f75b3[_0x370c5d(0x1a5)]),this['process'][_0x370c5d(0x186)](_0x1f75b3['fpaiq']),PerformanceTester[_0x370c5d(0x1bc)](PerformanceEvents[_0x370c5d(0x1a1)]),_0x1f75b3['aISAP'](_0x3e681a));},0xbb8);}));}catch(_0x1c0f2e){PerformanceTester[_0x57b71c(0x1bc)](PerformanceEvents[_0x57b71c(0x1a1)],![],util[_0x57b71c(0x1db)](_0x1c0f2e)),this['logger'][_0x57b71c(0x11d)]('stop:\x20error\x20in\x20stop\x20session\x20exception='+(_0x1c0f2e['stack']||_0x1c0f2e));}_0x2e2564?this[_0x57b71c(0x1e3)][_0x57b71c(0x160)]=0x1:this['process']['exitCode']=0x0,this['isChildConnected']=![],this[_0x57b71c(0x135)]=![],process['env'][_0x57b71c(0x1f3)]=null;}async['unConfigureModules'](){const _0x2b2651=a61_0x3095df,_0x37cea9={};_0x37cea9[_0x2b2651(0x14a)]=_0x2b2651(0x13d);const _0x3d4cce=_0x37cea9;this[_0x2b2651(0x1ce)]['info'](_0x3d4cce['RtOVB']);}['loadCliParams'](_0x2d2dbb){const _0x2c16dd=a61_0x3095df;this[_0x2c16dd(0x1ce)]['info'](_0x2c16dd(0x19e)+JSON[_0x2c16dd(0x152)](_0x2d2dbb)),this[_0x2c16dd(0x1d8)]=_0x2d2dbb,GrpcClient['getInstance']()[_0x2c16dd(0x140)](_0x2d2dbb);}async['startChild'](_0x1992c0){const _0x124aee=a61_0x3095df,_0x97da87={};_0x97da87['slLke']='startChild:\x20client\x20and\x20channel\x20already\x20exist,\x20stopping\x20here';const _0x572b05=_0x97da87;PerformanceTester[_0x124aee(0x19a)](PerformanceEvents['SDK_CONNECT_BIN_SESSION']);try{this['logger'][_0x124aee(0x156)]('Starting\x20as\x20child\x20process\x20with\x20session\x20ID:\x20'+_0x1992c0);const _0x2021f8=GrpcClient['getInstance']();if(_0x2021f8&&_0x2021f8[_0x124aee(0x162)]()&&_0x2021f8[_0x124aee(0x190)]()){this['logger'][_0x124aee(0x156)](_0x572b05['slLke']);return;}GrpcClient[_0x124aee(0x1f2)]()['connect']();const _0x20f90b=await GrpcClient['getInstance']()[_0x124aee(0x132)]();this[_0x124aee(0x1c5)]=!![],this[_0x124aee(0x123)](_0x20f90b),PerformanceTester[_0x124aee(0x1bc)](PerformanceEvents[_0x124aee(0x1e7)]);}catch(_0x28bfa3){PerformanceTester[_0x124aee(0x1bc)](PerformanceEvents['SDK_CONNECT_BIN_SESSION'],![],util[_0x124aee(0x1db)](_0x28bfa3)),this[_0x124aee(0x1ce)][_0x124aee(0x11d)](_0x124aee(0x17a)+util['format'](_0x28bfa3));}}[a61_0x3095df(0x143)](){const _0x456d08=a61_0x3095df,_0x564550={};_0x564550['CHdOP']=function(_0x3fa2c8,_0x5887b0){return _0x3fa2c8!==_0x5887b0;},_0x564550['fZvDV']=function(_0x9f00a4,_0x4a5d6e){return _0x9f00a4===_0x4a5d6e;},_0x564550[_0x456d08(0x1d2)]=function(_0xbf682e,_0x1ef1ec){return _0xbf682e!==_0x1ef1ec;},_0x564550[_0x456d08(0x142)]=function(_0x3310a1,_0x358e43){return _0x3310a1!==_0x358e43;};const _0x47da66=_0x564550;return CLIUtils[_0x456d08(0x169)]()||this[_0x456d08(0x135)]&&_0x47da66[_0x456d08(0x1d3)](this[_0x456d08(0x1e3)],null)&&_0x47da66[_0x456d08(0x129)](this[_0x456d08(0x1e3)][_0x456d08(0x160)],null)&&_0x47da66['vWbOK'](GrpcClient[_0x456d08(0x1f2)]()[_0x456d08(0x162)](),null)&&!GrpcClient[_0x456d08(0x1f2)]()['getChannel']()[_0x456d08(0x1c0)]||this[_0x456d08(0x1c5)]&&_0x47da66[_0x456d08(0x142)](GrpcClient['getInstance']()[_0x456d08(0x190)](),null)&&!GrpcClient[_0x456d08(0x1f2)]()[_0x456d08(0x190)]()[_0x456d08(0x1c0)];}[a61_0x3095df(0x176)](){return this['browserstackConfig'];}[a61_0x3095df(0x16d)](_0x383996,_0x323e0c=null){const _0x12787c=a61_0x3095df,_0x3006d0={};_0x3006d0[_0x12787c(0x175)]=function(_0x2a979b,_0x1ee7e6){return _0x2a979b||_0x1ee7e6;};const _0x11d3a2=_0x3006d0;this[_0x12787c(0x194)]=_0x11d3a2[_0x12787c(0x175)](_0x383996,{}),this[_0x12787c(0x1a7)]=_0x323e0c,process[_0x12787c(0x173)][_0x12787c(0x13f)]=this[_0x12787c(0x194)]?.[_0x12787c(0x17e)]||![];const _0x2c2a5a=CLIUtils[_0x12787c(0x18f)](),_0x4471dd=CLIUtils[_0x12787c(0x1c3)]();helper['isTrue'](process[_0x12787c(0x173)][_0x12787c(0x13f)])||!(CLI_SUPPORTED_FRAMEWORKS[_0x12787c(0x147)](_0x2c2a5a[_0x12787c(0x130)][_0x12787c(0x1f8)]())&&CLI_SUPPORTED_FRAMEWORKS[_0x12787c(0x147)](_0x4471dd[_0x12787c(0x130)][_0x12787c(0x1f8)]()))?process[_0x12787c(0x173)]['BROWSERSTACK_CLI_ENABLED']=![]:process[_0x12787c(0x173)][_0x12787c(0x16a)]=!![];}async['getCliBinPath'](){const _0x597e0c=a61_0x3095df,_0x26df01={};_0x26df01[_0x597e0c(0x13e)]=_0x597e0c(0x199),_0x26df01['nLGfi']=_0x597e0c(0x1b4);const _0x2b893f=_0x26df01;if(!this[_0x597e0c(0x1a9)])try{this[_0x597e0c(0x1ce)]['debug'](_0x2b893f[_0x597e0c(0x13e)]),this[_0x597e0c(0x1a9)]=await CLIUtils['setupCliPath'](this['browserstackConfig']),!this[_0x597e0c(0x1a9)]?this['logger'][_0x597e0c(0x11d)](_0x2b893f[_0x597e0c(0x1e8)]):this['logger'][_0x597e0c(0x1bf)](_0x597e0c(0x16b)+this[_0x597e0c(0x1a9)]);}catch(_0x1f8f3c){this['logger'][_0x597e0c(0x11d)](_0x597e0c(0x1e6)+_0x1f8f3c[_0x597e0c(0x157)]),this['SDK_CLI_BIN_PATH']=null;}return this[_0x597e0c(0x1a9)];}[a61_0x3095df(0x12c)](){const _0x2fa0a9=a61_0x3095df;return helper[_0x2fa0a9(0x153)](process[_0x2fa0a9(0x173)][_0x2fa0a9(0x16a)]);}[a61_0x3095df(0x170)](){const _0xfbef1e=a61_0x3095df;return this[_0xfbef1e(0x15f)];}[a61_0x3095df(0x192)](_0x23c288){const _0x2dacfd=a61_0x3095df,_0x1de8a7={};_0x1de8a7['ZLpTV']=_0x2dacfd(0x193);const _0x1c5e79=_0x1de8a7;try{this['config']=JSON[_0x2dacfd(0x1ea)](_0x23c288[_0x2dacfd(0x170)]()),this[_0x2dacfd(0x1ce)][_0x2dacfd(0x156)](_0x1c5e79[_0x2dacfd(0x12d)]);}catch(_0x4f735d){this['logger'][_0x2dacfd(0x11d)](_0x2dacfd(0x1ca)+util[_0x2dacfd(0x1db)](_0x4f735d));}}[a61_0x3095df(0x181)](_0x17ed37){const _0x2171c8=a61_0x3095df;try{this[_0x2171c8(0x1d4)]=_0x17ed37[_0x2171c8(0x126)]()[_0x2171c8(0x11e)](','),this[_0x2171c8(0x1ce)]['info'](_0x2171c8(0x159)+JSON[_0x2171c8(0x152)](this[_0x2171c8(0x1d4)]));}catch(_0x3f39f7){this['logger'][_0x2171c8(0x11d)](_0x2171c8(0x127)+util[_0x2171c8(0x1db)](_0x3f39f7));}}[a61_0x3095df(0x126)](){const _0x25dab1=a61_0x3095df;return this[_0x25dab1(0x1d4)];}[a61_0x3095df(0x1af)](){const _0x50a07f=a61_0x3095df,_0x13257d={};_0x13257d['Xsnsl']=function(_0x4d1537,_0x596708){return _0x4d1537===_0x596708;},_0x13257d[_0x50a07f(0x138)]=function(_0x423fd3,_0x5e1da3){return _0x423fd3===_0x5e1da3;};const _0x564313=_0x13257d,_0x5dfdad=CLIUtils[_0x50a07f(0x18f)]();if(_0x564313[_0x50a07f(0x1a2)](_0x5dfdad['name'][_0x50a07f(0x1f8)](),FRAMEWORKS[_0x50a07f(0x1f6)][_0x50a07f(0x1f8)]()))this['testFramework']=new PlaywrightTestFramework([_0x5dfdad[_0x50a07f(0x130)]],_0x5dfdad['version']);else _0x564313[_0x50a07f(0x138)](_0x5dfdad[_0x50a07f(0x130)][_0x50a07f(0x1f8)](),FRAMEWORKS[_0x50a07f(0x14e)][_0x50a07f(0x1f8)]())&&(this[_0x50a07f(0x1ac)]=new CucumberTestFramework([_0x5dfdad[_0x50a07f(0x130)]],_0x5dfdad[_0x50a07f(0x1b6)]));}['setupAutomationFramework'](){const _0x24af10=a61_0x3095df,_0x1b0c5a={};_0x1b0c5a[_0x24af10(0x1da)]=function(_0x45a23c,_0x2a326e){return _0x45a23c===_0x2a326e;};const _0x3d39ce=_0x1b0c5a,_0x2c6041=CLIUtils[_0x24af10(0x1c3)]();_0x3d39ce[_0x24af10(0x1da)](_0x2c6041[_0x24af10(0x130)][_0x24af10(0x1f8)](),FRAMEWORKS['PLAYWRIGHT']['toLowerCase']())&&(this[_0x24af10(0x1cd)]=new PlaywrightAutomationFramework(_0x2c6041[_0x24af10(0x130)],_0x2c6041[_0x24af10(0x1b6)]));}[a61_0x3095df(0x163)](){const _0x1962d6=a61_0x3095df;return this[_0x1962d6(0x1ac)];}[a61_0x3095df(0x149)](){const _0x4bc146=a61_0x3095df;return this[_0x4bc146(0x1cd)];}[a61_0x3095df(0x125)](){const _0x2df8fd=a61_0x3095df;return this[_0x2df8fd(0x1a7)];}}module['exports']=BrowserstackCLI;