const a63_0x3cae31=a63_0x46e0;(function(_0x5980c3,_0x3603cc){const _0x456239=a63_0x46e0,_0x578cf4=_0x5980c3();while(!![]){try{const _0x81633b=parseInt(_0x456239(0x93))/0x1+parseInt(_0x456239(0xdd))/0x2*(parseInt(_0x456239(0x13f))/0x3)+parseInt(_0x456239(0x11b))/0x4+parseInt(_0x456239(0xa8))/0x5*(parseInt(_0x456239(0x95))/0x6)+parseInt(_0x456239(0xd3))/0x7+-parseInt(_0x456239(0xac))/0x8+-parseInt(_0x456239(0xc3))/0x9;if(_0x81633b===_0x3603cc)break;else _0x578cf4['push'](_0x578cf4['shift']());}catch(_0x3dc352){_0x578cf4['push'](_0x578cf4['shift']());}}}(a63_0x3f9b,0x84cae));const {spawn}=require('child_process'),GrpcClient=require('./grpcClient.js'),util=require(a63_0x3cae31(0xb5)),CLIUtils=require(a63_0x3cae31(0xe4)),PlaywrightAutomationFramework=require(a63_0x3cae31(0x7e)),PlaywrightTestFramework=require(a63_0x3cae31(0x9a)),CucumberTestFramework=require(a63_0x3cae31(0x113)),JestTestFramework=require(a63_0x3cae31(0x145)),{createClassLogger}=require(a63_0x3cae31(0xe9)),PerformanceTester=require('../../helpers/performance/performance-tester.js'),{EVENTS:PerformanceEvents}=require(a63_0x3cae31(0x11c)),AccessibilityModule=require('./modules/accessibilityModule.js'),{CLI_SUPPORTED_FRAMEWORKS,FRAMEWORKS}=require('../utils/constants.js'),helper=require('../../helpers/helper.js'),TestFrameworkConstants=require('./framework/constants/testFrameworkConstants.js'),buildLogger=require(a63_0x3cae31(0xe2))[a63_0x3cae31(0xfa)],LoadTestModule=require(a63_0x3cae31(0xc7)),TestInfo=require(a63_0x3cae31(0xde));class BrowserstackCLI{static #instance=null;static [a63_0x3cae31(0xf5)]=null;static [a63_0x3cae31(0x14a)]=null;static ['O11yHashedID']=null;['process']=null;[a63_0x3cae31(0xe5)]=![];[a63_0x3cae31(0xcb)]=![];[a63_0x3cae31(0xb6)]=null;[a63_0x3cae31(0x92)]={};[a63_0x3cae31(0x89)]=null;[a63_0x3cae31(0x123)]=null;[a63_0x3cae31(0x128)]=createClassLogger(a63_0x3cae31(0x134));constructor(){const _0x51cfc4=a63_0x3cae31;this[_0x51cfc4(0x14b)]=![],this[_0x51cfc4(0x156)]={},this[_0x51cfc4(0x99)]={},this['browserstackConfig']={};}static[a63_0x3cae31(0x98)](){return!BrowserstackCLI.#instance&&(BrowserstackCLI.#instance=new BrowserstackCLI()),BrowserstackCLI.#instance;}async[a63_0x3cae31(0x104)](){const _0xac04dd=a63_0x3cae31,_0x5559b7={};_0x5559b7[_0xac04dd(0xcc)]=_0xac04dd(0xaf);const _0x21783b=_0x5559b7;if(helper[_0xac04dd(0x10c)](process[_0xac04dd(0xa6)][_0xac04dd(0xec)])){this['logger'][_0xac04dd(0xcd)](_0x21783b[_0xac04dd(0xcc)]);return;}PerformanceTester[_0xac04dd(0x144)](PerformanceEvents[_0xac04dd(0xd6)]);try{const _0x158e47=process[_0xac04dd(0xa6)][_0xac04dd(0x163)]||null;this[_0xac04dd(0x11a)](),this[_0xac04dd(0x97)]();if(_0x158e47){await this[_0xac04dd(0xb1)](_0x158e47),PerformanceTester[_0xac04dd(0x7f)](PerformanceEvents[_0xac04dd(0xd6)]);return;}await this[_0xac04dd(0xa0)]();}catch(_0x319431){this[_0xac04dd(0x128)]['error']('bootstrap:\x20failed\x20to\x20bootstrap='+(_0x319431['stack']||_0x319431)),await this['stop'](),PerformanceTester[_0xac04dd(0x7f)](PerformanceEvents['SDK_CLI_ON_BOOTSTRAP'],![],util[_0xac04dd(0x11d)](_0x319431));}}async['startMain'](){const _0x59302b=a63_0x3cae31,_0x21305a={};_0x21305a[_0x59302b(0x13a)]='startMain:\x20Starting\x20main\x20process',_0x21305a['vSnKE']='startMain:\x20main-process\x20started';const _0x15e3ad=_0x21305a;this['logger'][_0x59302b(0xcd)](_0x15e3ad['mjjIW']),await this['start'](),this[_0x59302b(0x128)][_0x59302b(0x146)](_0x15e3ad[_0x59302b(0xd8)]);const _0x11be49=await GrpcClient[_0x59302b(0x98)]()[_0x59302b(0x131)]();this[_0x59302b(0xe5)]=!![],this[_0x59302b(0x88)](_0x11be49);}[a63_0x3cae31(0x88)](_0x5536bb){const _0xc0994d=a63_0x3cae31,_0x42fa83={'ybNwL':function(_0x3402e0,_0x655775){return _0x3402e0(_0x655775);},'gSeXj':_0xc0994d(0x82),'SbdgA':function(_0x2bba73,_0x151dab){return _0x2bba73(_0x151dab);},'lVRzd':'./modules/testhubModule.js','pdtVR':function(_0x251eb7,_0x49a501){return _0x251eb7(_0x49a501);},'WlgFW':_0xc0994d(0x165),'WhImM':_0xc0994d(0xb7),'TLqGo':_0xc0994d(0x116),'TsDlC':_0xc0994d(0x152),'pMwjt':_0xc0994d(0xf1),'Sphko':function(_0x2668d2,_0x1c59c1){return _0x2668d2||_0x1c59c1;},'tMzGE':function(_0x2375c0,_0x3dfedf){return _0x2375c0===_0x3dfedf;},'uMMCO':_0xc0994d(0x143),'rfFRi':function(_0x449685,_0x57cbd7){return _0x449685&&_0x57cbd7;}},_0x491342=_0x42fa83[_0xc0994d(0xab)](require,_0x42fa83[_0xc0994d(0x161)]),_0x3730c6=_0x42fa83[_0xc0994d(0x10b)](require,_0x42fa83[_0xc0994d(0x166)]),_0xc1a08c=_0x42fa83[_0xc0994d(0x9f)](require,_0x42fa83[_0xc0994d(0x107)]);this[_0xc0994d(0x128)][_0xc0994d(0xcd)](_0x42fa83[_0xc0994d(0x87)]),this[_0xc0994d(0xb6)]=_0x5536bb[_0xc0994d(0x149)](),this[_0xc0994d(0x128)][_0xc0994d(0xcd)]('loadModules:\x20binSessionId='+this['binSessionId']),this[_0xc0994d(0x159)](_0x5536bb),this['syncAccessibilityConfig']();!this[_0xc0994d(0xcb)]&&this[_0xc0994d(0xc0)](_0x5536bb);const _0x4d11fb=_0x42fa83[_0xc0994d(0xd5)],_0x417214=_0x42fa83['TsDlC'],_0x16273e=_0x42fa83[_0xc0994d(0xfd)],_0x29de4b=_0x5536bb[_0x4d11fb]()&&_0x5536bb[_0x4d11fb]()[_0x16273e](),_0x2ef622=_0x5536bb[_0x417214]()&&_0x5536bb[_0x417214]()[_0x16273e](),_0xbf9e8=process[_0xc0994d(0xa6)][_0xc0994d(0xa1)]&&JSON['parse'](process[_0xc0994d(0xa6)][_0xc0994d(0xa1)]);_0x42fa83[_0xc0994d(0x86)](_0x29de4b,_0x2ef622)&&(this[_0xc0994d(0x92)][_0x3730c6[_0xc0994d(0x155)]]=new _0x3730c6(_0x5536bb['getTesthub'](),_0xbf9e8));_0x29de4b&&(this[_0xc0994d(0x92)][_0xc1a08c[_0xc0994d(0x155)]]=new _0xc1a08c(_0x5536bb[_0x4d11fb]()));if(_0x2ef622)this[_0xc0994d(0x92)][AccessibilityModule['MODULE_NAME']]=new AccessibilityModule(_0x5536bb[_0x417214]());else try{const _0x2e2952=_0x5536bb[_0x417214](),_0x17dc89=_0x2e2952&&_0x42fa83[_0xc0994d(0xa7)](typeof _0x2e2952[_0x16273e],_0x42fa83[_0xc0994d(0x100)])?!!_0x2e2952[_0x16273e]():![];this['logger']['info'](_0xc0994d(0x8b)+_0x17dc89);if(_0x42fa83[_0xc0994d(0x140)](!_0x17dc89,_0x2e2952)){const _0x160276=_0x2e2952[_0xc0994d(0x112)]?_0x2e2952[_0xc0994d(0x112)]():_0x2e2952;_0x160276[_0xc0994d(0xf3)]&&Array[_0xc0994d(0xf8)](_0x160276[_0xc0994d(0xf3)])&&(this[_0xc0994d(0x128)][_0xc0994d(0xe7)]('Accessibility\x20initialization\x20failed\x20with\x20'+_0x160276[_0xc0994d(0xf3)][_0xc0994d(0x148)]+'\x20errors:'),_0x160276[_0xc0994d(0xf3)]['forEach']((_0xb1ced2,_0x3926e0)=>{const _0x3cac18=_0xc0994d;this['logger'][_0x3cac18(0xe7)]('Error:\x20['+_0xb1ced2['key']+']\x20'+_0xb1ced2[_0x3cac18(0x84)]);}),_0x160276[_0xc0994d(0xb4)]&&this[_0xc0994d(0x128)][_0xc0994d(0xe7)]('Error\x20Trace\x20ID:\x20'+_0x160276[_0xc0994d(0xb4)]),_0x160276[_0xc0994d(0x115)]&&this[_0xc0994d(0x128)][_0xc0994d(0xe7)]('Error\x20Code:\x20'+_0x160276[_0xc0994d(0x115)]));}}catch(_0x58f114){this['logger'][_0xc0994d(0xe7)](_0xc0994d(0xb2)+_0x58f114);}this['modules'][_0x491342[_0xc0994d(0x155)]]=new _0x491342(_0xbf9e8),this[_0xc0994d(0x9b)]();}[a63_0x3cae31(0xa2)](){const _0x1489c2=a63_0x3cae31;return this['modules'][AccessibilityModule[_0x1489c2(0x155)]];}async['configureModules'](){const _0x26b2dd=a63_0x3cae31;for(const _0x9dda8e in this[_0x26b2dd(0x92)]){const _0x1cf792=this[_0x26b2dd(0x92)][_0x9dda8e];await _0x1cf792[_0x26b2dd(0x80)](this['binSessionId'],0x0,GrpcClient[_0x26b2dd(0x98)]()[_0x26b2dd(0x10a)],this['config']);}}async['start'](){const _0x1293b8=a63_0x3cae31,_0x56004d={'LvBwN':function(_0x2da937,_0x37fc2b){return _0x2da937(_0x37fc2b);},'LMUwi':function(_0x2f63bb,_0x433294){return _0x2f63bb!==_0x433294;},'QubwW':function(_0x2ba16e,_0x224634){return _0x2ba16e!==_0x224634;},'OremT':_0x1293b8(0x13c),'CUpPC':function(_0x2f4a3d){return _0x2f4a3d();},'BXEOJ':_0x1293b8(0x124),'IzACM':_0x1293b8(0xe7),'StBti':_0x1293b8(0xea),'sQCjn':'Failed\x20to\x20get\x20CLI\x20binary\x20path.\x20CLI\x20setup\x20failed.','Ttxsz':'sdk','xRQiJ':function(_0x304c02,_0x48ed4d,_0x153b16,_0x4e36be){return _0x304c02(_0x48ed4d,_0x153b16,_0x4e36be);},'OTErr':_0x1293b8(0x83)};PerformanceTester['start'](PerformanceEvents[_0x1293b8(0x160)]);if(CLIUtils[_0x1293b8(0x111)]())return this[_0x1293b8(0x106)](CLIUtils['getCLIParamsForDevEnv']()),PerformanceTester[_0x1293b8(0x7f)](PerformanceEvents[_0x1293b8(0x160)]),Promise[_0x1293b8(0x157)]();if(this[_0x1293b8(0x12c)]&&this[_0x1293b8(0x12c)][_0x1293b8(0x10d)])return PerformanceTester[_0x1293b8(0x7f)](PerformanceEvents[_0x1293b8(0x160)]),Promise[_0x1293b8(0x157)]();const _0x16b68d=await this['getCliBinPath']();if(!_0x16b68d)throw new Error(_0x56004d[_0x1293b8(0x126)]);const _0x214fec=[_0x16b68d,_0x56004d[_0x1293b8(0x8e)]];this[_0x1293b8(0x128)][_0x1293b8(0xcd)](_0x1293b8(0x91)+_0x214fec+'\x27');const _0xfdbc06={};_0xfdbc06[_0x1293b8(0xa6)]=process[_0x1293b8(0xa6)],this[_0x1293b8(0x12c)]=_0x56004d[_0x1293b8(0xc8)](spawn,_0x214fec[0x0],_0x214fec[_0x1293b8(0x132)](0x1),_0xfdbc06);if(!this['process'][_0x1293b8(0xc4)])throw new Error(_0x56004d[_0x1293b8(0xff)]);return new Promise((_0x1c4f04,_0x27cea8)=>{const _0x34a19b=_0x1293b8,_0xf343f9={'nLQlx':function(_0x56ab8a,_0x330436){const _0x17f65a=a63_0x46e0;return _0x56004d[_0x17f65a(0x167)](_0x56ab8a,_0x330436);},'TbKPj':_0x56004d[_0x34a19b(0xf7)],'fMCQd':function(_0x29cf89){const _0x180ed0=_0x34a19b;return _0x56004d[_0x180ed0(0x9c)](_0x29cf89);}},_0x498715={};this[_0x34a19b(0x12c)][_0x34a19b(0x168)]['on'](_0x56004d[_0x34a19b(0xbb)],_0x4b3a5f=>{const _0xc204d3=_0x34a19b,_0x4b2431=_0x4b3a5f[_0xc204d3(0xad)]()[_0xc204d3(0x15e)]()[_0xc204d3(0x10f)]('\x0a');for(const _0x4fcc1d of _0x4b2431){if(/^(id|listen|port)=.*$/[_0xc204d3(0xd2)](_0x4fcc1d)){const [_0x32d81c,_0x5c605e]=_0x4fcc1d['split']('=',0x2);_0xf343f9[_0xc204d3(0xd9)](_0x5c605e,undefined)&&(_0x498715[_0x32d81c]=_0x5c605e);}if(_0x4fcc1d[_0xc204d3(0x96)]()['includes'](_0xf343f9[_0xc204d3(0x139)])){this[_0xc204d3(0x106)](_0x498715),PerformanceTester[_0xc204d3(0x7f)](PerformanceEvents[_0xc204d3(0x160)]),_0xf343f9['fMCQd'](_0x1c4f04);return;}}}),this[_0x34a19b(0x12c)][_0x34a19b(0x15c)]['on'](_0x56004d[_0x34a19b(0xbb)],_0x483a06=>{const _0x1f3c21=_0x34a19b;this[_0x1f3c21(0x128)]['error'](_0x1f3c21(0xf2)+_0x483a06['toString']()[_0x1f3c21(0x15e)]());}),this[_0x34a19b(0x12c)]['on'](_0x56004d[_0x34a19b(0xe3)],_0x2d5991=>{const _0x26e8af=_0x34a19b;_0x498715[_0x26e8af(0xe7)]='Error\x20in\x20start:\x20'+_0x2d5991[_0x26e8af(0x84)],PerformanceTester[_0x26e8af(0x7f)](PerformanceEvents[_0x26e8af(0x160)],![],_0x2d5991),_0x56004d['LvBwN'](_0x27cea8,new Error(_0x26e8af(0x127)+_0x2d5991['message']));}),this['process']['on'](_0x56004d['StBti'],_0x37d1ab=>{const _0x4ff5b1=_0x34a19b;_0x56004d[_0x4ff5b1(0xc9)](_0x37d1ab,0x0)&&_0x56004d[_0x4ff5b1(0xd7)](_0x27cea8,new Error('CLI\x20process\x20exited\x20with\x20code\x20'+_0x37d1ab));});});}async[a63_0x3cae31(0xe6)](_0x2a538c=null){const _0x5c44a7=a63_0x3cae31,_0x4eaf06={'DECZu':_0x5c44a7(0xb9),'cHqLR':function(_0x5b56f8){return _0x5b56f8();},'zJTFU':'stop:\x20process\x20exit\x20timeout,\x20forcing\x20kill','EmkLd':_0x5c44a7(0x169),'oPhuO':function(_0x1158d0){return _0x1158d0();},'OLOne':_0x5c44a7(0x15f),'wNytw':function(_0x576dff,_0x18868b,_0xa77515){return _0x576dff(_0x18868b,_0xa77515);},'fdweT':_0x5c44a7(0x158),'byfBG':_0x5c44a7(0x10e),'JubQI':function(_0x1f668a,_0x1ec702){return _0x1f668a(_0x1ec702);},'ZBsXL':_0x5c44a7(0x94),'GFzGv':_0x5c44a7(0xbf),'iwaZC':_0x5c44a7(0x14e),'bbqGL':_0x5c44a7(0x130)};if(!this[_0x5c44a7(0xd4)]()){this[_0x5c44a7(0x128)][_0x5c44a7(0xcd)](_0x4eaf06[_0x5c44a7(0xa4)]);return;}PerformanceTester[_0x5c44a7(0x144)](PerformanceEvents['SDK_CLI_ON_STOP']),this[_0x5c44a7(0x128)][_0x5c44a7(0xcd)](_0x4eaf06[_0x5c44a7(0x13b)]);try{if(this['isMainConnected']){const _0x135ab0=_0x4eaf06[_0x5c44a7(0x137)](require,_0x4eaf06[_0x5c44a7(0x122)]),_0x36ccc1=this['modules']['TestHubModule']?.[_0x5c44a7(0xc5)]?.[_0x5c44a7(0x112)]()?.[_0x5c44a7(0x12b)],_0x20af62=TestInfo[_0x5c44a7(0x15b)](_0x36ccc1),_0x459b37=_0x20af62[TestFrameworkConstants[_0x5c44a7(0x136)]]||{},_0x3cfb6e=await GrpcClient[_0x5c44a7(0x98)]()[_0x5c44a7(0xe1)](JSON[_0x5c44a7(0x117)](_0x459b37),_0x2a538c);_0x3cfb6e&&_0x3cfb6e[_0x5c44a7(0xf1)]()&&_0x3cfb6e['getAutomateBuildlink']()&&(BrowserstackCLI[_0x5c44a7(0xf5)]=_0x3cfb6e[_0x5c44a7(0xcf)](),BrowserstackCLI[_0x5c44a7(0x14a)]=_0x3cfb6e[_0x5c44a7(0xbd)]()),await _0x135ab0[_0x5c44a7(0xef)](),TestInfo['shutdown'](),buildLogger['info'](_0x5c44a7(0x118)+BrowserstackCLI[_0x5c44a7(0xf5)]+_0x5c44a7(0x8f)+BrowserstackCLI[_0x5c44a7(0x14a)]+'\x20o11y_uuid='+BrowserstackCLI[_0x5c44a7(0x9d)]);}await this['unConfigureModules']();const _0x2739ad=GrpcClient['getInstance']()[_0x5c44a7(0x151)]();if(_0x2739ad){try{_0x2739ad[_0x5c44a7(0xea)](),this[_0x5c44a7(0x128)][_0x5c44a7(0xcd)](_0x4eaf06[_0x5c44a7(0xa5)]);}catch(_0x233788){this[_0x5c44a7(0x128)][_0x5c44a7(0xe7)](util[_0x5c44a7(0x11d)](_0x4eaf06[_0x5c44a7(0xeb)],_0x233788));}await new Promise(_0x586b35=>setTimeout(_0x586b35,0x1388));}this[_0x5c44a7(0x12c)]&&this[_0x5c44a7(0x12c)]['pid']&&(this[_0x5c44a7(0x128)][_0x5c44a7(0xcd)](_0x4eaf06[_0x5c44a7(0x108)]),this[_0x5c44a7(0x12c)][_0x5c44a7(0xc1)](),await new Promise(_0x5be439=>{const _0x260893=_0x5c44a7,_0x404898={'oqQTn':_0x4eaf06[_0x260893(0xee)],'DgMKv':_0x4eaf06[_0x260893(0x119)],'rgGYi':function(_0x21adfc){const _0x11988c=_0x260893;return _0x4eaf06[_0x11988c(0x138)](_0x21adfc);}};let _0x355f87=![];this[_0x260893(0x12c)]['on'](_0x4eaf06['OLOne'],()=>{const _0x1266bb=_0x260893;this[_0x1266bb(0x128)][_0x1266bb(0xcd)](_0x4eaf06['DECZu']),_0x355f87=!![],PerformanceTester[_0x1266bb(0x7f)](PerformanceEvents[_0x1266bb(0x15a)]),_0x4eaf06[_0x1266bb(0x8d)](_0x5be439);}),_0x4eaf06[_0x260893(0x150)](setTimeout,()=>{const _0x32da23=_0x260893;!_0x355f87&&(this[_0x32da23(0x128)]['warn'](_0x404898[_0x32da23(0xf9)]),this[_0x32da23(0x12c)][_0x32da23(0xc1)](_0x404898[_0x32da23(0x103)]),PerformanceTester['end'](PerformanceEvents['SDK_CLI_ON_STOP']),_0x404898[_0x32da23(0xfc)](_0x5be439));},0xbb8);}));}catch(_0x345ffa){PerformanceTester[_0x5c44a7(0x7f)](PerformanceEvents[_0x5c44a7(0x15a)],![],util['format'](_0x345ffa)),this[_0x5c44a7(0x128)][_0x5c44a7(0xe7)](_0x5c44a7(0xbc)+(_0x345ffa[_0x5c44a7(0x11f)]||_0x345ffa));}_0x2a538c?this[_0x5c44a7(0x12c)][_0x5c44a7(0xc2)]=0x1:this['process']['exitCode']=0x0,this[_0x5c44a7(0xcb)]=![],this[_0x5c44a7(0xe5)]=![],process['env'][_0x5c44a7(0x135)]=null;}async[a63_0x3cae31(0x14c)](){const _0x1b0646=a63_0x3cae31,_0x2c7430={};_0x2c7430['uZsrl']='Unconfiguring\x20modules';const _0x33483a=_0x2c7430;this[_0x1b0646(0x128)][_0x1b0646(0xcd)](_0x33483a[_0x1b0646(0x153)]);}[a63_0x3cae31(0x106)](_0x2ebce8){const _0x3b44f8=a63_0x3cae31;this['logger'][_0x3b44f8(0xcd)](_0x3b44f8(0x90)+JSON[_0x3b44f8(0x117)](_0x2ebce8)),this['cliParams']=_0x2ebce8,GrpcClient['getInstance']()[_0x3b44f8(0x125)](_0x2ebce8);}async[a63_0x3cae31(0xb1)](_0x301267){const _0x189176=a63_0x3cae31,_0x55ad89={};_0x55ad89['hlwQC']='startChild:\x20client\x20and\x20channel\x20already\x20exist,\x20stopping\x20here';const _0x3d6102=_0x55ad89;PerformanceTester['start'](PerformanceEvents[_0x189176(0x12d)]);try{this[_0x189176(0x128)][_0x189176(0xcd)](_0x189176(0xf4)+_0x301267);const _0xb81c86=GrpcClient['getInstance']();if(_0xb81c86&&_0xb81c86[_0x189176(0xf0)]()&&_0xb81c86[_0x189176(0x151)]()){this['logger'][_0x189176(0xcd)](_0x3d6102[_0x189176(0x13d)]);return;}GrpcClient[_0x189176(0x98)]()[_0x189176(0xdc)]();const _0x5717a6=await GrpcClient['getInstance']()[_0x189176(0x11e)]();this[_0x189176(0xcb)]=!![],this['loadModules'](_0x5717a6),PerformanceTester[_0x189176(0x7f)](PerformanceEvents[_0x189176(0x12d)]);}catch(_0x1e6c4e){PerformanceTester[_0x189176(0x7f)](PerformanceEvents[_0x189176(0x12d)],![],util[_0x189176(0x11d)](_0x1e6c4e)),this['logger'][_0x189176(0xe7)](_0x189176(0x120)+util[_0x189176(0x11d)](_0x1e6c4e));}}[a63_0x3cae31(0xd4)](){const _0x21dbaa=a63_0x3cae31,_0x3b7fdb={};_0x3b7fdb[_0x21dbaa(0x14f)]=function(_0xcecb94,_0x5f76bd){return _0xcecb94!==_0x5f76bd;},_0x3b7fdb[_0x21dbaa(0x8c)]=function(_0x393fa2,_0xd988b5){return _0x393fa2===_0xd988b5;};const _0x101908=_0x3b7fdb;return CLIUtils['isDevelopmentEnv']()||this[_0x21dbaa(0xe5)]&&_0x101908[_0x21dbaa(0x14f)](this['process'],null)&&_0x101908[_0x21dbaa(0x8c)](this[_0x21dbaa(0x12c)][_0x21dbaa(0xc2)],null)&&_0x101908[_0x21dbaa(0x14f)](GrpcClient['getInstance']()['getClient'](),null)&&!GrpcClient['getInstance']()[_0x21dbaa(0x151)]()['isClosed']||this[_0x21dbaa(0xcb)]&&_0x101908[_0x21dbaa(0x14f)](GrpcClient[_0x21dbaa(0x98)]()[_0x21dbaa(0x151)](),null)&&!GrpcClient[_0x21dbaa(0x98)]()[_0x21dbaa(0x151)]()['isClosed'];}[a63_0x3cae31(0x105)](){const _0x41e429=a63_0x3cae31;return this[_0x41e429(0x129)];}[a63_0x3cae31(0xed)](_0x5eeac3,_0x478a23,_0xcfda29=null){const _0x29d0c0=a63_0x3cae31,_0x21433c={};_0x21433c[_0x29d0c0(0x164)]=function(_0x3dc2f0,_0x1f10b6){return _0x3dc2f0||_0x1f10b6;};const _0xa967bc=_0x21433c;this[_0x29d0c0(0x129)]=_0xa967bc[_0x29d0c0(0x164)](_0x5eeac3,{}),this[_0x29d0c0(0x109)]=_0x478a23,this[_0x29d0c0(0x133)]=_0xcfda29,process[_0x29d0c0(0xa6)][_0x29d0c0(0xd0)]=this[_0x29d0c0(0x129)]?.['turboScale']||![];const _0x1a8cf0=CLIUtils[_0x29d0c0(0xd1)](),_0x4ab999=CLIUtils[_0x29d0c0(0xae)]();LoadTestModule[_0x29d0c0(0x110)](this['browserstackConfig'])&&LoadTestModule[_0x29d0c0(0x9e)](this[_0x29d0c0(0x129)]||{}),helper[_0x29d0c0(0xe0)](process[_0x29d0c0(0xa6)][_0x29d0c0(0xd0)])||!(CLI_SUPPORTED_FRAMEWORKS[_0x29d0c0(0x12f)](_0x1a8cf0[_0x29d0c0(0xfe)][_0x29d0c0(0x96)]())&&CLI_SUPPORTED_FRAMEWORKS[_0x29d0c0(0x12f)](_0x4ab999[_0x29d0c0(0xfe)]['toLowerCase']()))?process[_0x29d0c0(0xa6)][_0x29d0c0(0xec)]=![]:process['env'][_0x29d0c0(0xec)]=!![];}async[a63_0x3cae31(0xce)](){const _0x318cac=a63_0x3cae31,_0x1cfb9d={};_0x1cfb9d[_0x318cac(0xe8)]='Setting\x20up\x20CLI\x20binary\x20path...',_0x1cfb9d[_0x318cac(0xb8)]=_0x318cac(0x14d);const _0x2f37e8=_0x1cfb9d;if(!this[_0x318cac(0xf6)])try{this['logger']['debug'](_0x2f37e8['eOfwS']),this[_0x318cac(0xf6)]=await CLIUtils[_0x318cac(0x81)](this[_0x318cac(0x129)]),!this[_0x318cac(0xf6)]?this[_0x318cac(0x128)]['error'](_0x2f37e8[_0x318cac(0xb8)]):this['logger'][_0x318cac(0x146)](_0x318cac(0xdb)+this[_0x318cac(0xf6)]);}catch(_0x2a3939){this[_0x318cac(0x128)][_0x318cac(0xe7)](_0x318cac(0x121)+_0x2a3939[_0x318cac(0x84)]),this[_0x318cac(0xf6)]=null;}return this['SDK_CLI_BIN_PATH'];}[a63_0x3cae31(0x15d)](){const _0x44f4d0=a63_0x3cae31;return helper[_0x44f4d0(0xe0)](process['env'][_0x44f4d0(0xec)]);}[a63_0x3cae31(0xa9)](){const _0x190665=a63_0x3cae31;return this[_0x190665(0x156)];}['setConfig'](_0x4a1bb7){const _0x588036=a63_0x3cae31,_0x23f91f={};_0x23f91f['WCDGx']=_0x588036(0x12a);const _0x38f2b6=_0x23f91f;try{this[_0x588036(0x156)]=JSON[_0x588036(0xb0)](_0x4a1bb7['getConfig']()),this[_0x588036(0x128)][_0x588036(0xcd)](_0x38f2b6[_0x588036(0x147)]);}catch(_0x50aba7){this[_0x588036(0x128)][_0x588036(0xe7)](_0x588036(0xb3)+util[_0x588036(0x11d)](_0x50aba7));}}['syncAccessibilityConfig'](){const _0x1f236b=a63_0x3cae31,_0xc3f72d={};_0xc3f72d[_0x1f236b(0xc6)]='syncAccessibilityConfig:\x20browserstackConfig\x20not\x20set,\x20skipping\x20sync',_0xc3f72d[_0x1f236b(0xdf)]=_0x1f236b(0x12e),_0xc3f72d[_0x1f236b(0xbe)]=_0x1f236b(0xfb);const _0x1ccdfc=_0xc3f72d;try{if(!this[_0x1f236b(0x129)]){this[_0x1f236b(0x128)]['debug'](_0x1ccdfc[_0x1f236b(0xc6)]);return;}const _0x58add6=this[_0x1f236b(0xa9)]();if(!_0x58add6){this[_0x1f236b(0x128)][_0x1f236b(0x146)](_0x1ccdfc[_0x1f236b(0xdf)]);return;}!helper['isUndefined'](_0x58add6[_0x1f236b(0x162)])&&(this[_0x1f236b(0x129)][_0x1f236b(0x162)]=_0x58add6[_0x1f236b(0x162)],this['logger'][_0x1f236b(0x146)](_0x1f236b(0x8a)+_0x58add6[_0x1f236b(0x162)])),!helper[_0x1f236b(0x85)](_0x58add6[_0x1f236b(0x141)])&&(this['browserstackConfig'][_0x1f236b(0x141)]=_0x58add6[_0x1f236b(0x141)],this[_0x1f236b(0x128)][_0x1f236b(0x146)](_0x1ccdfc[_0x1f236b(0xbe)]));}catch(_0x16bc0a){this['logger']['error'](_0x1f236b(0x13e)+util[_0x1f236b(0x11d)](_0x16bc0a));}}['setCliArgs'](_0x49b556){const _0xe8ea42=a63_0x3cae31;try{this[_0xe8ea42(0x99)]=_0x49b556[_0xe8ea42(0xaa)]()['split'](','),this[_0xe8ea42(0x128)][_0xe8ea42(0xcd)]('setCliArgs:\x20cliArgs='+JSON[_0xe8ea42(0x117)](this[_0xe8ea42(0x99)]));}catch(_0x5af034){this['logger'][_0xe8ea42(0xe7)](_0xe8ea42(0x142)+util[_0xe8ea42(0x11d)](_0x5af034));}}['getCliArgs'](){const _0x131af0=a63_0x3cae31;return this[_0x131af0(0x99)];}[a63_0x3cae31(0x97)](){const _0xda605a=a63_0x3cae31,_0x4c5b08={};_0x4c5b08[_0xda605a(0xca)]=function(_0x517133,_0x2e3197){return _0x517133===_0x2e3197;},_0x4c5b08['BWhZj']=function(_0x311e8f,_0xd52d41){return _0x311e8f===_0xd52d41;};const _0x16b119=_0x4c5b08,_0x1d8de7=CLIUtils['getTestFrameworkDetail']();if(_0x16b119[_0xda605a(0xca)](_0x1d8de7['name'][_0xda605a(0x96)](),FRAMEWORKS['PLAYWRIGHT'][_0xda605a(0x96)]()))this[_0xda605a(0x89)]=new PlaywrightTestFramework([_0x1d8de7[_0xda605a(0xfe)]],_0x1d8de7[_0xda605a(0x114)]);else{if(_0x16b119['BWhZj'](_0x1d8de7[_0xda605a(0xfe)][_0xda605a(0x96)](),FRAMEWORKS[_0xda605a(0x101)][_0xda605a(0x96)]()))this[_0xda605a(0x89)]=new CucumberTestFramework([_0x1d8de7[_0xda605a(0xfe)]],_0x1d8de7[_0xda605a(0x114)]);else _0x16b119['BWhZj'](_0x1d8de7['name'][_0xda605a(0x96)](),FRAMEWORKS['JEST'][_0xda605a(0x96)]())&&(this['testFramework']=new JestTestFramework([_0x1d8de7['name']],_0x1d8de7[_0xda605a(0x114)]));}}['setupAutomationFramework'](){const _0x5f4395=a63_0x3cae31,_0x44ae4d={};_0x44ae4d['syppp']=function(_0x34d650,_0x52c59c){return _0x34d650===_0x52c59c;};const _0x2a7bbc=_0x44ae4d,_0x52b913=CLIUtils[_0x5f4395(0xae)]();_0x2a7bbc[_0x5f4395(0x102)](_0x52b913[_0x5f4395(0xfe)][_0x5f4395(0x96)](),FRAMEWORKS['PLAYWRIGHT'][_0x5f4395(0x96)]())&&(this['automationFramework']=new PlaywrightAutomationFramework(_0x52b913['name'],_0x52b913[_0x5f4395(0x114)]));}['getTestFramework'](){const _0xd57e5b=a63_0x3cae31;return this[_0xd57e5b(0x89)];}[a63_0x3cae31(0xba)](){const _0x4f4527=a63_0x3cae31;return this[_0x4f4527(0x123)];}[a63_0x3cae31(0xa3)](){const _0x4c6b8c=a63_0x3cae31;return this[_0x4c6b8c(0x133)];}[a63_0x3cae31(0xda)](){const _0x11f2dd=a63_0x3cae31;return this[_0x11f2dd(0x109)];}}module[a63_0x3cae31(0x154)]=BrowserstackCLI;function a63_0x46e0(_0x1109be,_0x3924a1){const _0x3f9b79=a63_0x3f9b();return a63_0x46e0=function(_0x46e015,_0x5b635e){_0x46e015=_0x46e015-0x7e;let _0x4b1cf5=_0x3f9b79[_0x46e015];return _0x4b1cf5;},a63_0x46e0(_0x1109be,_0x3924a1);}function a63_0x3f9b(){const _0x16ca43=['spawning\x20command=\x27','modules','780155qQLkSq','./uploadAttachmentsManager.js','6UMveil','toLowerCase','setupTestFramework','getInstance','cliArgs','./framework/playwrightTestFramework.js','configureModules','CUpPC','O11yHashedID','setLTSSessionId','pdtVR','startMain','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','getAccessibilityModule','getBrowserstackCliConfig','fdweT','GFzGv','env','tMzGE','5248075hZCpgW','getConfig','getCliArgs','ybNwL','4608936PbZJDb','toString','getAutomationFrameworkDetail','Disabling\x20CLI.','parse','startChild','Error\x20reading\x20accessibility\x20success\x20value:\x20','setConfig:\x20error=','errorTraceId','util','binSessionId','loadModules:\x20Loading\x20modules','qpChd','stop:\x20CLI\x20process\x20exited','getAutomationFramework','BXEOJ','stop:\x20error\x20in\x20stop\x20session\x20exception=','getHashedId','EQjXd','stop:\x20channel\x20closed','setCliArgs','kill','exitCode','9057699UHRzrh','pid','testhubConfig','bZbwM','./modules/loadTestModule.js','xRQiJ','LMUwi','Gligl','isChildConnected','peFia','info','getCliBinPath','getAutomateBuildlink','BROWSERSTACK_TURBOSCALE','getTestFrameworkDetail','test','423059kTvgTk','isRunning','TLqGo','SDK_CLI_ON_BOOTSTRAP','LvBwN','vSnKE','nLQlx','getBrowserstackConfigPath','CLI\x20binary\x20path\x20resolved\x20to:\x20','connect','2nZcRjm','./TestInfo.js','oiDya','isTrue','stopBinSession','../../helpers/logger.js','IzACM','./cliUtils.js','isMainConnected','stop','error','eOfwS','../../helpers/classLogger.js','close','iwaZC','BROWSERSTACK_CLI_ENABLED','setBrowserstackConfig','zJTFU','clearAttachments','getClient','getSuccess','CLI\x20stderr:\x20','errorsList','Starting\x20as\x20child\x20process\x20with\x20session\x20ID:\x20','BuildLink','SDK_CLI_BIN_PATH','OremT','isArray','oqQTn','buildLogger','syncAccessibilityConfig:\x20Updated\x20browserstackConfig.accessibilityOptions\x20from\x20CLI\x20response','rgGYi','pMwjt','name','OTErr','uMMCO','CUCUMBER','syppp','DgMKv','bootstrap','getBrowserstackConfig','loadCliParams','WlgFW','bbqGL','browserstackConfigPath','client','SbdgA','isFalse','connected','stop:\x20CLI\x20stop\x20triggered','split','isLTSSession','isDevelopmentEnv','toObject','./framework/cucumberTestFramework.js','version','code','getObservability','stringify','stop:\x20stopBinSession\x20build_link=','EmkLd','setupAutomationFramework','628208lHQqUJ','../../helpers/performance/constants','format','connectBinSession','stack','Failed\x20to\x20start\x20as\x20child\x20process:\x20','Error\x20in\x20setupCliPath:\x20','ZBsXL','automationFramework','data','init','sQCjn','Failed\x20to\x20start\x20CLI\x20process:\x20','logger','browserstackConfig','loading\x20Modules.','buildHashedId','process','SDK_CONNECT_BIN_SESSION','syncAccessibilityConfig:\x20CLI\x20config\x20not\x20available,\x20skipping\x20sync','includes','stop:\x20shutting\x20down\x20CLI','startBinSession','slice','browserstackCliConfig','BrowserstackCLI','BROWSERSTACK_CLI_ENV','KEY_CUSTOM_TAGS','JubQI','oPhuO','TbKPj','mjjIW','byfBG','ready','hlwQC','syncAccessibilityConfig:\x20error=','237561QlVcCu','rfFRi','accessibilityOptions','setCliArgs:\x20error=','function','start','./framework/jestTestFramework.js','debug','WCDGx','length','getBinSessionId','HashedID','initialized','unConfigureModules','CLIUtils.setupCliPath\x20returned\x20null','stop:\x20error\x20in\x20closing\x20channel:\x20%s','RNiWt','wNytw','getChannel','getAccessibility','uZsrl','exports','MODULE_NAME','config','resolve','stop:\x20CLI\x20is\x20not\x20running,\x20skipping\x20stop','setConfig','SDK_CLI_ON_STOP','getTestDetails','stderr','isCliEnabled','trim','exit','SDK_CLI_START','gSeXj','accessibility','BROWSERSTACK_CLI_BIN_SESSION_ID','PZHXJ','./modules/observabilityModule.js','lVRzd','QubwW','stdout','SIGKILL','./framework/playwrightAutomationFramework.js','end','configure','setupCliPath','./modules/playwrightDriverModule.js','failed\x20to\x20start\x20CLI,\x20no\x20PID\x20found','message','isUndefined','Sphko','WhImM','loadModules','testFramework','syncAccessibilityConfig:\x20Updated\x20browserstackConfig.accessibility\x20from\x20CLI\x20response:\x20','Accessibility\x20success=','mTnbF','cHqLR','Ttxsz','\x20hashed_id=','CLI\x20params\x20loaded:\x20'];a63_0x3f9b=function(){return _0x16ca43;};return a63_0x3f9b();}