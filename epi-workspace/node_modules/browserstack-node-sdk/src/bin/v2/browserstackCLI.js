function a63_0x401b(_0x5ef807,_0x5f272f){const _0x243c2f=a63_0x243c();return a63_0x401b=function(_0x401ba4,_0x49fe7e){_0x401ba4=_0x401ba4-0x7c;let _0x334bf0=_0x243c2f[_0x401ba4];return _0x334bf0;},a63_0x401b(_0x5ef807,_0x5f272f);}const a63_0x442464=a63_0x401b;(function(_0x4f3652,_0x2228c1){const _0x3492ca=a63_0x401b,_0x5f135e=_0x4f3652();while(!![]){try{const _0x572c47=-parseInt(_0x3492ca(0x148))/0x1+parseInt(_0x3492ca(0xe9))/0x2*(parseInt(_0x3492ca(0x105))/0x3)+-parseInt(_0x3492ca(0xd8))/0x4+-parseInt(_0x3492ca(0xae))/0x5*(-parseInt(_0x3492ca(0xab))/0x6)+-parseInt(_0x3492ca(0x154))/0x7+parseInt(_0x3492ca(0x89))/0x8+parseInt(_0x3492ca(0x155))/0x9;if(_0x572c47===_0x2228c1)break;else _0x5f135e['push'](_0x5f135e['shift']());}catch(_0x20ea76){_0x5f135e['push'](_0x5f135e['shift']());}}}(a63_0x243c,0x58492));const {spawn}=require(a63_0x442464(0xc4)),GrpcClient=require(a63_0x442464(0x104)),util=require(a63_0x442464(0x11f)),CLIUtils=require(a63_0x442464(0xcf)),PlaywrightAutomationFramework=require(a63_0x442464(0x92)),PlaywrightTestFramework=require('./framework/playwrightTestFramework.js'),CucumberTestFramework=require(a63_0x442464(0xfe)),JestTestFramework=require(a63_0x442464(0x118)),{createClassLogger}=require(a63_0x442464(0x7d)),PerformanceTester=require('../../helpers/performance/performance-tester.js'),{EVENTS:PerformanceEvents}=require(a63_0x442464(0xda)),AccessibilityModule=require(a63_0x442464(0x129)),{CLI_SUPPORTED_FRAMEWORKS,FRAMEWORKS}=require(a63_0x442464(0x15f)),helper=require('../../helpers/helper.js'),TestFrameworkConstants=require(a63_0x442464(0x120)),buildLogger=require(a63_0x442464(0xa9))[a63_0x442464(0xf3)],LoadTestModule=require(a63_0x442464(0x94)),TestInfo=require('./TestInfo.js');function a63_0x243c(){const _0x29ef0e=['data','gdmtY','exit','glMao','Starting\x20as\x20child\x20process\x20with\x20session\x20ID:\x20','gabFl','setBrowserstackConfig','trim','buildHashedId','child_process','cliParams','stop:\x20CLI\x20process\x20exited','DpewR','getCliArgs','getAccessibility','wSzUt','kIkUK','stop:\x20error\x20in\x20closing\x20channel:\x20%s','config','Error\x20Code:\x20','./cliUtils.js','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','isMainConnected','\x20o11y_uuid=','getAccessibilityModule','./uploadAttachmentsManager.js','getCliBinPath','BHVDa','exitCode','78744owJVCu','egbuN','../../helpers/performance/constants','stop:\x20process\x20exit\x20timeout,\x20forcing\x20kill','isRunning','client','BrqGx','./modules/observabilityModule.js','KEY_CUSTOM_TAGS','SDK_CLI_ON_STOP','VsKoh','stop:\x20error\x20in\x20stop\x20session\x20exception=','getTestFrameworkDetail','isArray','hHFIc','toString','MODULE_NAME','4VDMWyG','tRhzO','CLI\x20binary\x20path\x20resolved\x20to:\x20','loadModules','unConfigureModules','loadCliParams','name','getTestDetails','IvAkC','SIGKILL','buildLogger','length','function','testFramework','acRzZ','getAutomationFrameworkDetail','startMain:\x20Starting\x20main\x20process','OKfzt','configure','RXprD','connectBinSession','./framework/cucumberTestFramework.js','mCGOv','DCvBE','stop:\x20shutting\x20down\x20CLI','browserstackCliConfig','PLAYWRIGHT','./grpcClient.js','265233ezTQIw','turboScale','cliArgs','automationFramework','browserstackConfig','getInstance','end','version','yafYQ','message','wKjhq','code','getClient','./modules/testhubModule.js','PbyYs','startMain','bootstrap:\x20failed\x20to\x20bootstrap=','toObject','BuildLink','./framework/jestTestFramework.js','getObservability','stdout','UqJSk','getTesthub','isClosed','setupTestFramework','util','./framework/constants/testFrameworkConstants.js','loadModules:\x20Loading\x20modules','yRicW','qaaPu','CUCUMBER','stop','isDevelopmentEnv','pid','setCliArgs:\x20cliArgs=','./modules/accessibilityModule.js','exports','configureModules','isCliEnabled','CLIUtils.setupCliPath\x20returned\x20null','includes','SDK_CONNECT_BIN_SESSION','process','testhubConfig','getBrowserstackConfig','toLowerCase','bootstrap','CLI\x20params\x20loaded:\x20','env','cxCVe','VWYYR','logger','NDyJa','BrowserstackCLI','TestHubModule','binSessionId','stop:\x20channel\x20closed','MWcXa','KfypP','QLAOn','Failed\x20to\x20get\x20CLI\x20binary\x20path.\x20CLI\x20setup\x20failed.','error','info','initialized','Disabling\x20CLI.','dUwhg','659010vMRJur','Unconfiguring\x20modules','YlrCp','start','SDK_CLI_START','WTaAA','connect','stack','key','setupAutomationFramework','getHashedId','dcCYR','2832732eWUqCA','7867305HxsnPl','CrbwF','getSuccess','isChildConnected','test','JEST','getCLIParamsForDevEnv','getAutomateBuildlink','setupCliPath','close','../utils/constants.js','warn','setConfig','NcdLU','LnqdW','ucmWn','hzCFm','nNceL','BROWSERSTACK_CLI_BIN_SESSION_ID','../../helpers/classLogger.js','startMain:\x20main-process\x20started','startBinSession','stringify','vudwj','CLI\x20stderr:\x20','uSgts','getBrowserstackConfigPath','connected','isTrue','modules','stopBinSession','1460112OfMSxE','getChannel','BROWSERSTACK_CLI_ENABLED','QDWTK','SDK_CLI_BIN_PATH','Error:\x20[','getConfig','startChild:\x20client\x20and\x20channel\x20already\x20exist,\x20stopping\x20here','isFalse','./framework/playwrightAutomationFramework.js','Error\x20Trace\x20ID:\x20','./modules/loadTestModule.js','split','pVeIE','parse','errorsList','debug','BROWSERSTACK_TURBOSCALE','startChild','slice','init','resolve','stop:\x20CLI\x20is\x20not\x20running,\x20skipping\x20stop','MlYCG','setCliArgs','Error\x20in\x20setupCliPath:\x20','O11yHashedID','ready','cqgfK','SDK_CLI_ON_BOOTSTRAP','getTestFramework','stop:\x20stopBinSession\x20build_link=','../../helpers/logger.js','setLTSSessionId','17874GyZodR','loadModules:\x20binSessionId=','errorTraceId','355gCscCE','browserstackConfigPath','HashedID','isLTSSession','\x20hashed_id=','xFSBa','kill','Failed\x20to\x20start\x20CLI\x20process:\x20','CLI\x20process\x20exited\x20with\x20code\x20','getAutomationFramework','\x20errors:','setConfig:\x20error=','format'];a63_0x243c=function(){return _0x29ef0e;};return a63_0x243c();}class BrowserstackCLI{static #instance=null;static [a63_0x442464(0x117)]=null;static [a63_0x442464(0xb0)]=null;static [a63_0x442464(0xa3)]=null;[a63_0x442464(0x130)]=null;['isMainConnected']=![];[a63_0x442464(0x158)]=![];[a63_0x442464(0x13d)]=null;[a63_0x442464(0x87)]={};['testFramework']=null;['automationFramework']=null;[a63_0x442464(0x139)]=createClassLogger(a63_0x442464(0x13b));constructor(){const _0x1224d0=a63_0x442464;this[_0x1224d0(0x145)]=![],this[_0x1224d0(0xcd)]={},this[_0x1224d0(0x107)]={},this[_0x1224d0(0x109)]={};}static[a63_0x442464(0x10a)](){return!BrowserstackCLI.#instance&&(BrowserstackCLI.#instance=new BrowserstackCLI()),BrowserstackCLI.#instance;}async[a63_0x442464(0x134)](){const _0x5d0224=a63_0x442464,_0x53f398={};_0x53f398['tRhzO']=_0x5d0224(0x146);const _0x49d628=_0x53f398;if(helper[_0x5d0224(0x91)](process[_0x5d0224(0x136)][_0x5d0224(0x8b)])){this['logger']['info'](_0x49d628[_0x5d0224(0xea)]);return;}PerformanceTester[_0x5d0224(0x14b)](PerformanceEvents[_0x5d0224(0xa6)]);try{const _0x4b21dd=process[_0x5d0224(0x136)][_0x5d0224(0x7c)]||null;this[_0x5d0224(0x151)](),this['setupTestFramework']();if(_0x4b21dd){await this[_0x5d0224(0x9b)](_0x4b21dd),PerformanceTester['end'](PerformanceEvents[_0x5d0224(0xa6)]);return;}await this[_0x5d0224(0x114)]();}catch(_0x488f90){this[_0x5d0224(0x139)][_0x5d0224(0x143)](_0x5d0224(0x115)+(_0x488f90[_0x5d0224(0x14f)]||_0x488f90)),await this[_0x5d0224(0x125)](),PerformanceTester['end'](PerformanceEvents[_0x5d0224(0xa6)],![],util['format'](_0x488f90));}}async[a63_0x442464(0x114)](){const _0x563728=a63_0x442464,_0x37df4a={};_0x37df4a['DjKtk']=_0x563728(0xf9),_0x37df4a[_0x563728(0x141)]=_0x563728(0x7e);const _0x5cab01=_0x37df4a;this[_0x563728(0x139)][_0x563728(0x144)](_0x5cab01['DjKtk']),await this[_0x563728(0x14b)](),this['logger']['debug'](_0x5cab01[_0x563728(0x141)]);const _0x131ced=await GrpcClient['getInstance']()[_0x563728(0x7f)]();this['isMainConnected']=!![],this[_0x563728(0xec)](_0x131ced);}['loadModules'](_0x4780fa){const _0x4e9ffa=a63_0x442464,_0x2336c3={'gabFl':function(_0x540938,_0x26ad39){return _0x540938(_0x26ad39);},'vudwj':'./modules/playwrightDriverModule.js','BrqGx':_0x4e9ffa(0x112),'kIkUK':function(_0x307e97,_0x5867db){return _0x307e97(_0x5867db);},'VTnCt':_0x4e9ffa(0xdf),'KfypP':_0x4e9ffa(0x121),'ldqRR':_0x4e9ffa(0x119),'DJLrf':_0x4e9ffa(0xc9),'MWcXa':_0x4e9ffa(0x157),'BPbYb':function(_0x351b3d,_0x32116a){return _0x351b3d||_0x32116a;},'NcdLU':function(_0x387a4b,_0x2293d0){return _0x387a4b===_0x2293d0;},'LnqdW':_0x4e9ffa(0xf5),'ZLTXF':function(_0x463fcc,_0x203ac3){return _0x463fcc&&_0x203ac3;}},_0x1ae215=_0x2336c3['gabFl'](require,_0x2336c3[_0x4e9ffa(0x81)]),_0x13476e=_0x2336c3[_0x4e9ffa(0xc0)](require,_0x2336c3[_0x4e9ffa(0xde)]),_0x12f6a8=_0x2336c3[_0x4e9ffa(0xcb)](require,_0x2336c3['VTnCt']);this[_0x4e9ffa(0x139)]['info'](_0x2336c3[_0x4e9ffa(0x140)]),this[_0x4e9ffa(0x13d)]=_0x4780fa['getBinSessionId'](),this['logger']['info'](_0x4e9ffa(0xac)+this[_0x4e9ffa(0x13d)]),this['setConfig'](_0x4780fa);!this[_0x4e9ffa(0x158)]&&this['setCliArgs'](_0x4780fa);const _0x35675b=_0x2336c3['ldqRR'],_0x472b11=_0x2336c3['DJLrf'],_0x4c797c=_0x2336c3[_0x4e9ffa(0x13f)],_0x407d1f=_0x4780fa[_0x35675b]()&&_0x4780fa[_0x35675b]()[_0x4c797c](),_0x53a26a=_0x4780fa[_0x472b11]()&&_0x4780fa[_0x472b11]()[_0x4c797c](),_0x2658c2=process[_0x4e9ffa(0x136)][_0x4e9ffa(0xd0)]&&JSON['parse'](process['env'][_0x4e9ffa(0xd0)]);_0x2336c3['BPbYb'](_0x407d1f,_0x53a26a)&&(this['modules'][_0x13476e['MODULE_NAME']]=new _0x13476e(_0x4780fa[_0x4e9ffa(0x11c)](),_0x2658c2));_0x407d1f&&(this[_0x4e9ffa(0x87)][_0x12f6a8[_0x4e9ffa(0xe8)]]=new _0x12f6a8(_0x4780fa[_0x35675b]()));if(_0x53a26a)this[_0x4e9ffa(0x87)][AccessibilityModule[_0x4e9ffa(0xe8)]]=new AccessibilityModule(_0x4780fa[_0x472b11]());else try{const _0x3919b6=_0x4780fa[_0x472b11](),_0x2b7711=_0x3919b6&&_0x2336c3[_0x4e9ffa(0x162)](typeof _0x3919b6[_0x4c797c],_0x2336c3[_0x4e9ffa(0x163)])?!!_0x3919b6[_0x4c797c]():![];this[_0x4e9ffa(0x139)][_0x4e9ffa(0x144)]('Accessibility\x20success='+_0x2b7711);if(_0x2336c3['ZLTXF'](!_0x2b7711,_0x3919b6)){const _0x218493=_0x3919b6[_0x4e9ffa(0x116)]?_0x3919b6[_0x4e9ffa(0x116)]():_0x3919b6;_0x218493[_0x4e9ffa(0x98)]&&Array[_0x4e9ffa(0xe5)](_0x218493[_0x4e9ffa(0x98)])&&(this[_0x4e9ffa(0x139)]['error']('Accessibility\x20initialization\x20failed\x20with\x20'+_0x218493[_0x4e9ffa(0x98)][_0x4e9ffa(0xf4)]+_0x4e9ffa(0xb8)),_0x218493[_0x4e9ffa(0x98)]['forEach']((_0x2085e4,_0xc4a6d3)=>{const _0x1911bb=_0x4e9ffa;this[_0x1911bb(0x139)][_0x1911bb(0x143)](_0x1911bb(0x8e)+_0x2085e4[_0x1911bb(0x150)]+']\x20'+_0x2085e4[_0x1911bb(0x10e)]);}),_0x218493[_0x4e9ffa(0xad)]&&this['logger']['error'](_0x4e9ffa(0x93)+_0x218493[_0x4e9ffa(0xad)]),_0x218493[_0x4e9ffa(0x110)]&&this[_0x4e9ffa(0x139)][_0x4e9ffa(0x143)](_0x4e9ffa(0xce)+_0x218493['code']));}}catch(_0x25f170){this[_0x4e9ffa(0x139)]['error']('Error\x20reading\x20accessibility\x20success\x20value:\x20'+_0x25f170);}this[_0x4e9ffa(0x87)][_0x1ae215['MODULE_NAME']]=new _0x1ae215(_0x2658c2),this['configureModules']();}[a63_0x442464(0xd3)](){const _0x3ff35d=a63_0x442464;return this[_0x3ff35d(0x87)][AccessibilityModule[_0x3ff35d(0xe8)]];}async[a63_0x442464(0x12b)](){const _0x675d55=a63_0x442464;for(const _0x1c89d1 in this[_0x675d55(0x87)]){const _0x53702d=this[_0x675d55(0x87)][_0x1c89d1];await _0x53702d[_0x675d55(0xfb)](this[_0x675d55(0x13d)],0x0,GrpcClient[_0x675d55(0x10a)]()[_0x675d55(0xdd)],this[_0x675d55(0xcd)]);}}async[a63_0x442464(0x14b)](){const _0x19ffe8=a63_0x442464,_0x46ffbd={'PbyYs':function(_0x52924a,_0x2544de){return _0x52924a!==_0x2544de;},'kRPOH':function(_0xa3e816,_0x4ff8da){return _0xa3e816(_0x4ff8da);},'ucmWn':_0x19ffe8(0xa4),'yafYQ':function(_0x50fe88){return _0x50fe88();},'hzCFm':function(_0x2f04aa,_0x182a2a){return _0x2f04aa(_0x182a2a);},'qaaPu':_0x19ffe8(0xbb),'gvidG':_0x19ffe8(0x143),'cqgfK':_0x19ffe8(0x15e),'VsKoh':_0x19ffe8(0x142),'YlrCp':'sdk','nNceL':function(_0x367db3,_0x1a6d8d,_0x34c5c0,_0x18c86b){return _0x367db3(_0x1a6d8d,_0x34c5c0,_0x18c86b);},'dcCYR':'failed\x20to\x20start\x20CLI,\x20no\x20PID\x20found'};PerformanceTester[_0x19ffe8(0x14b)](PerformanceEvents['SDK_CLI_START']);if(CLIUtils['isDevelopmentEnv']())return this[_0x19ffe8(0xee)](CLIUtils[_0x19ffe8(0x15b)]()),PerformanceTester[_0x19ffe8(0x10b)](PerformanceEvents[_0x19ffe8(0x14c)]),Promise[_0x19ffe8(0x9e)]();if(this[_0x19ffe8(0x130)]&&this[_0x19ffe8(0x130)][_0x19ffe8(0x85)])return PerformanceTester[_0x19ffe8(0x10b)](PerformanceEvents[_0x19ffe8(0x14c)]),Promise[_0x19ffe8(0x9e)]();const _0x26ed15=await this[_0x19ffe8(0xd5)]();if(!_0x26ed15)throw new Error(_0x46ffbd[_0x19ffe8(0xe2)]);const _0x4db121=[_0x26ed15,_0x46ffbd[_0x19ffe8(0x14a)]];this[_0x19ffe8(0x139)][_0x19ffe8(0x144)]('spawning\x20command=\x27'+_0x4db121+'\x27');const _0x29df36={};_0x29df36['env']=process[_0x19ffe8(0x136)],this[_0x19ffe8(0x130)]=_0x46ffbd[_0x19ffe8(0x166)](spawn,_0x4db121[0x0],_0x4db121[_0x19ffe8(0x9c)](0x1),_0x29df36);if(!this[_0x19ffe8(0x130)][_0x19ffe8(0x127)])throw new Error(_0x46ffbd[_0x19ffe8(0x153)]);return new Promise((_0x4b469e,_0x2dba2f)=>{const _0x1ab5b6=_0x19ffe8,_0xa32430={'pVeIE':function(_0x141800,_0x57e280){const _0x23156d=a63_0x401b;return _0x46ffbd[_0x23156d(0x113)](_0x141800,_0x57e280);},'glMao':_0x46ffbd[_0x1ab5b6(0x164)],'gdmtY':function(_0x2c0238){const _0x47dd56=_0x1ab5b6;return _0x46ffbd[_0x47dd56(0x10d)](_0x2c0238);},'zEaim':function(_0x425f40,_0x4d6521){const _0x546897=_0x1ab5b6;return _0x46ffbd[_0x546897(0x165)](_0x425f40,_0x4d6521);}},_0x54b4e6={};this[_0x1ab5b6(0x130)][_0x1ab5b6(0x11a)]['on'](_0x46ffbd[_0x1ab5b6(0x123)],_0x4d31c0=>{const _0x33dd20=_0x1ab5b6,_0x30ee94=_0x4d31c0['toString']()[_0x33dd20(0xc2)]()[_0x33dd20(0x95)]('\x0a');for(const _0x5d06eb of _0x30ee94){if(/^(id|listen|port)=.*$/[_0x33dd20(0x159)](_0x5d06eb)){const [_0x2e783e,_0x5afe11]=_0x5d06eb[_0x33dd20(0x95)]('=',0x2);_0xa32430[_0x33dd20(0x96)](_0x5afe11,undefined)&&(_0x54b4e6[_0x2e783e]=_0x5afe11);}if(_0x5d06eb[_0x33dd20(0x133)]()[_0x33dd20(0x12e)](_0xa32430[_0x33dd20(0xbe)])){this[_0x33dd20(0xee)](_0x54b4e6),PerformanceTester[_0x33dd20(0x10b)](PerformanceEvents[_0x33dd20(0x14c)]),_0xa32430[_0x33dd20(0xbc)](_0x4b469e);return;}}}),this[_0x1ab5b6(0x130)]['stderr']['on'](_0x46ffbd['qaaPu'],_0x448f05=>{const _0x585bb6=_0x1ab5b6;this[_0x585bb6(0x139)]['error'](_0x585bb6(0x82)+_0x448f05[_0x585bb6(0xe7)]()[_0x585bb6(0xc2)]());}),this['process']['on'](_0x46ffbd['gvidG'],_0x63f839=>{const _0x48aa5a=_0x1ab5b6;_0x54b4e6[_0x48aa5a(0x143)]='Error\x20in\x20start:\x20'+_0x63f839[_0x48aa5a(0x10e)],PerformanceTester['end'](PerformanceEvents[_0x48aa5a(0x14c)],![],_0x63f839),_0xa32430['zEaim'](_0x2dba2f,new Error(_0x48aa5a(0xb5)+_0x63f839['message']));}),this['process']['on'](_0x46ffbd[_0x1ab5b6(0xa5)],_0x3f35f2=>{const _0xaf7b78=_0x1ab5b6;_0x46ffbd['PbyYs'](_0x3f35f2,0x0)&&_0x46ffbd['kRPOH'](_0x2dba2f,new Error(_0xaf7b78(0xb6)+_0x3f35f2));});});}async[a63_0x442464(0x125)](_0x31f7dc=null){const _0x4340f6=a63_0x442464,_0x220844={'QDWTK':_0x4340f6(0xdb),'VWYYR':_0x4340f6(0xf2),'QIOmC':function(_0x3b8d7f){return _0x3b8d7f();},'dUwhg':_0x4340f6(0xc6),'xFSBa':function(_0x3c49f1){return _0x3c49f1();},'QHCVk':_0x4340f6(0xbd),'DCvBE':function(_0x1b60b6,_0x150d18,_0x11ac5b){return _0x1b60b6(_0x150d18,_0x11ac5b);},'bnabk':_0x4340f6(0x9f),'hHFIc':'stop:\x20CLI\x20stop\x20triggered','WTaAA':function(_0x1fbd98,_0x41a3a7){return _0x1fbd98(_0x41a3a7);},'MlYCG':_0x4340f6(0xd4),'NDyJa':_0x4340f6(0x13e),'egbuN':_0x4340f6(0xcc),'UqJSk':_0x4340f6(0x101)};if(!this[_0x4340f6(0xdc)]()){this[_0x4340f6(0x139)][_0x4340f6(0x144)](_0x220844['bnabk']);return;}PerformanceTester['start'](PerformanceEvents[_0x4340f6(0xe1)]),this[_0x4340f6(0x139)][_0x4340f6(0x144)](_0x220844[_0x4340f6(0xe6)]);try{if(this[_0x4340f6(0xd1)]){const _0x2676e6=_0x220844[_0x4340f6(0x14d)](require,_0x220844[_0x4340f6(0xa0)]),_0x348d55=this[_0x4340f6(0x87)][_0x4340f6(0x13c)]?.[_0x4340f6(0x131)]?.[_0x4340f6(0x116)]()?.[_0x4340f6(0xc3)],_0x4b3928=TestInfo[_0x4340f6(0xf0)](_0x348d55),_0x2407b6=_0x4b3928[TestFrameworkConstants[_0x4340f6(0xe0)]]||{},_0x2085b9=await GrpcClient[_0x4340f6(0x10a)]()[_0x4340f6(0x88)](JSON[_0x4340f6(0x80)](_0x2407b6),_0x31f7dc);_0x2085b9&&_0x2085b9[_0x4340f6(0x157)]()&&_0x2085b9[_0x4340f6(0x15c)]()&&(BrowserstackCLI[_0x4340f6(0x117)]=_0x2085b9[_0x4340f6(0x15c)](),BrowserstackCLI['HashedID']=_0x2085b9[_0x4340f6(0x152)]()),await _0x2676e6['clearAttachments'](),TestInfo['shutdown'](),buildLogger[_0x4340f6(0x144)](_0x4340f6(0xa8)+BrowserstackCLI[_0x4340f6(0x117)]+_0x4340f6(0xb2)+BrowserstackCLI[_0x4340f6(0xb0)]+_0x4340f6(0xd2)+BrowserstackCLI[_0x4340f6(0xa3)]);}await this[_0x4340f6(0xed)]();const _0xc51e47=GrpcClient[_0x4340f6(0x10a)]()[_0x4340f6(0x8a)]();if(_0xc51e47){try{_0xc51e47['close'](),this['logger']['info'](_0x220844[_0x4340f6(0x13a)]);}catch(_0x4cd2d8){this[_0x4340f6(0x139)][_0x4340f6(0x143)](util[_0x4340f6(0xba)](_0x220844[_0x4340f6(0xd9)],_0x4cd2d8));}await new Promise(_0x139406=>setTimeout(_0x139406,0x1388));}this[_0x4340f6(0x130)]&&this['process']['pid']&&(this[_0x4340f6(0x139)][_0x4340f6(0x144)](_0x220844[_0x4340f6(0x11b)]),this[_0x4340f6(0x130)]['kill'](),await new Promise(_0x3af8c0=>{const _0x387741=_0x4340f6,_0x57ca97={'HnuHP':_0x220844[_0x387741(0x147)],'wKjhq':function(_0x1dd73b){const _0x303792=_0x387741;return _0x220844[_0x303792(0xb3)](_0x1dd73b);}};let _0x5dd1d6=![];this['process']['on'](_0x220844['QHCVk'],()=>{const _0x122061=_0x387741;this['logger'][_0x122061(0x144)](_0x57ca97['HnuHP']),_0x5dd1d6=!![],PerformanceTester[_0x122061(0x10b)](PerformanceEvents[_0x122061(0xe1)]),_0x57ca97[_0x122061(0x10f)](_0x3af8c0);}),_0x220844[_0x387741(0x100)](setTimeout,()=>{const _0x3197fd=_0x387741;!_0x5dd1d6&&(this[_0x3197fd(0x139)][_0x3197fd(0x160)](_0x220844[_0x3197fd(0x8c)]),this[_0x3197fd(0x130)][_0x3197fd(0xb4)](_0x220844[_0x3197fd(0x138)]),PerformanceTester[_0x3197fd(0x10b)](PerformanceEvents['SDK_CLI_ON_STOP']),_0x220844['QIOmC'](_0x3af8c0));},0xbb8);}));}catch(_0x131b9f){PerformanceTester[_0x4340f6(0x10b)](PerformanceEvents[_0x4340f6(0xe1)],![],util['format'](_0x131b9f)),this[_0x4340f6(0x139)][_0x4340f6(0x143)](_0x4340f6(0xe3)+(_0x131b9f[_0x4340f6(0x14f)]||_0x131b9f));}_0x31f7dc?this[_0x4340f6(0x130)]['exitCode']=0x1:this[_0x4340f6(0x130)][_0x4340f6(0xd7)]=0x0,this[_0x4340f6(0x158)]=![],this[_0x4340f6(0xd1)]=![],process[_0x4340f6(0x136)]['BROWSERSTACK_CLI_ENV']=null;}async[a63_0x442464(0xed)](){const _0x2fd3b3=a63_0x442464,_0x5c5b69={};_0x5c5b69[_0x2fd3b3(0xc7)]=_0x2fd3b3(0x149);const _0x42bb77=_0x5c5b69;this[_0x2fd3b3(0x139)][_0x2fd3b3(0x144)](_0x42bb77[_0x2fd3b3(0xc7)]);}[a63_0x442464(0xee)](_0x48d3b8){const _0x42324f=a63_0x442464;this[_0x42324f(0x139)]['info'](_0x42324f(0x135)+JSON['stringify'](_0x48d3b8)),this[_0x42324f(0xc5)]=_0x48d3b8,GrpcClient['getInstance']()[_0x42324f(0x9d)](_0x48d3b8);}async[a63_0x442464(0x9b)](_0x4c6897){const _0x2fdc31=a63_0x442464,_0x148c30={};_0x148c30['CrbwF']=_0x2fdc31(0x90);const _0x3e22b0=_0x148c30;PerformanceTester[_0x2fdc31(0x14b)](PerformanceEvents[_0x2fdc31(0x12f)]);try{this['logger'][_0x2fdc31(0x144)](_0x2fdc31(0xbf)+_0x4c6897);const _0x2fc738=GrpcClient[_0x2fdc31(0x10a)]();if(_0x2fc738&&_0x2fc738[_0x2fdc31(0x111)]()&&_0x2fc738[_0x2fdc31(0x8a)]()){this['logger'][_0x2fdc31(0x144)](_0x3e22b0[_0x2fdc31(0x156)]);return;}GrpcClient[_0x2fdc31(0x10a)]()[_0x2fdc31(0x14e)]();const _0xf5c48=await GrpcClient['getInstance']()[_0x2fdc31(0xfd)]();this[_0x2fdc31(0x158)]=!![],this[_0x2fdc31(0xec)](_0xf5c48),PerformanceTester[_0x2fdc31(0x10b)](PerformanceEvents['SDK_CONNECT_BIN_SESSION']);}catch(_0x95c13e){PerformanceTester['end'](PerformanceEvents[_0x2fdc31(0x12f)],![],util['format'](_0x95c13e)),this[_0x2fdc31(0x139)][_0x2fdc31(0x143)]('Failed\x20to\x20start\x20as\x20child\x20process:\x20'+util[_0x2fdc31(0xba)](_0x95c13e));}}[a63_0x442464(0xdc)](){const _0x5a85cb=a63_0x442464,_0x42d152={};_0x42d152['KeVYK']=function(_0x320b,_0x13fefb){return _0x320b!==_0x13fefb;},_0x42d152[_0x5a85cb(0xf7)]=function(_0x794323,_0x483b0c){return _0x794323===_0x483b0c;},_0x42d152[_0x5a85cb(0x137)]=function(_0x36a1e8,_0x4c2a37){return _0x36a1e8!==_0x4c2a37;};const _0x1f79c2=_0x42d152;return CLIUtils[_0x5a85cb(0x126)]()||this['isMainConnected']&&_0x1f79c2['KeVYK'](this[_0x5a85cb(0x130)],null)&&_0x1f79c2['acRzZ'](this['process'][_0x5a85cb(0xd7)],null)&&_0x1f79c2['KeVYK'](GrpcClient[_0x5a85cb(0x10a)]()['getClient'](),null)&&!GrpcClient[_0x5a85cb(0x10a)]()['getChannel']()['isClosed']||this['isChildConnected']&&_0x1f79c2[_0x5a85cb(0x137)](GrpcClient[_0x5a85cb(0x10a)]()[_0x5a85cb(0x8a)](),null)&&!GrpcClient[_0x5a85cb(0x10a)]()[_0x5a85cb(0x8a)]()[_0x5a85cb(0x11d)];}[a63_0x442464(0x132)](){return this['browserstackConfig'];}[a63_0x442464(0xc1)](_0x4a2a9f,_0x4f7845,_0x707ac3=null){const _0x500b4a=a63_0x442464,_0x4d206c={};_0x4d206c[_0x500b4a(0xfa)]=function(_0x20d9eb,_0x3acb92){return _0x20d9eb||_0x3acb92;};const _0x528d25=_0x4d206c;this['browserstackConfig']=_0x528d25[_0x500b4a(0xfa)](_0x4a2a9f,{}),this['browserstackConfigPath']=_0x4f7845,this[_0x500b4a(0x102)]=_0x707ac3,process[_0x500b4a(0x136)][_0x500b4a(0x9a)]=this['browserstackConfig']?.[_0x500b4a(0x106)]||![];const _0xe07619=CLIUtils[_0x500b4a(0xe4)](),_0x183820=CLIUtils[_0x500b4a(0xf8)]();LoadTestModule[_0x500b4a(0xb1)](this['browserstackConfig'])&&LoadTestModule[_0x500b4a(0xaa)](this[_0x500b4a(0x109)]||{}),helper[_0x500b4a(0x86)](process[_0x500b4a(0x136)][_0x500b4a(0x9a)])||!(CLI_SUPPORTED_FRAMEWORKS[_0x500b4a(0x12e)](_0xe07619[_0x500b4a(0xef)][_0x500b4a(0x133)]())&&CLI_SUPPORTED_FRAMEWORKS['includes'](_0x183820[_0x500b4a(0xef)][_0x500b4a(0x133)]()))?process[_0x500b4a(0x136)][_0x500b4a(0x8b)]=![]:process[_0x500b4a(0x136)][_0x500b4a(0x8b)]=!![];}async[a63_0x442464(0xd5)](){const _0x529436=a63_0x442464,_0x48bb99={};_0x48bb99['yRicW']='Setting\x20up\x20CLI\x20binary\x20path...',_0x48bb99[_0x529436(0xd6)]=_0x529436(0x12d);const _0x134e95=_0x48bb99;if(!this['SDK_CLI_BIN_PATH'])try{this[_0x529436(0x139)]['debug'](_0x134e95[_0x529436(0x122)]),this['SDK_CLI_BIN_PATH']=await CLIUtils[_0x529436(0x15d)](this[_0x529436(0x109)]),!this[_0x529436(0x8d)]?this['logger']['error'](_0x134e95[_0x529436(0xd6)]):this[_0x529436(0x139)][_0x529436(0x99)](_0x529436(0xeb)+this['SDK_CLI_BIN_PATH']);}catch(_0x449c2f){this[_0x529436(0x139)][_0x529436(0x143)](_0x529436(0xa2)+_0x449c2f[_0x529436(0x10e)]),this['SDK_CLI_BIN_PATH']=null;}return this[_0x529436(0x8d)];}[a63_0x442464(0x12c)](){const _0x4fc66f=a63_0x442464;return helper[_0x4fc66f(0x86)](process[_0x4fc66f(0x136)][_0x4fc66f(0x8b)]);}[a63_0x442464(0x8f)](){const _0x3b78e4=a63_0x442464;return this[_0x3b78e4(0xcd)];}[a63_0x442464(0x161)](_0x3218dd){const _0x1251dd=a63_0x442464,_0x4af1d4={};_0x4af1d4[_0x1251dd(0xca)]='loading\x20Modules.';const _0xae3aad=_0x4af1d4;try{this[_0x1251dd(0xcd)]=JSON[_0x1251dd(0x97)](_0x3218dd[_0x1251dd(0x8f)]()),this[_0x1251dd(0x139)][_0x1251dd(0x144)](_0xae3aad['wSzUt']);}catch(_0x50cb6a){this[_0x1251dd(0x139)][_0x1251dd(0x143)](_0x1251dd(0xb9)+util[_0x1251dd(0xba)](_0x50cb6a));}}[a63_0x442464(0xa1)](_0x5c99a0){const _0x2c8429=a63_0x442464;try{this[_0x2c8429(0x107)]=_0x5c99a0[_0x2c8429(0xc8)]()[_0x2c8429(0x95)](','),this['logger'][_0x2c8429(0x144)](_0x2c8429(0x128)+JSON['stringify'](this[_0x2c8429(0x107)]));}catch(_0x5e19f4){this['logger'][_0x2c8429(0x143)]('setCliArgs:\x20error='+util['format'](_0x5e19f4));}}[a63_0x442464(0xc8)](){const _0x1e8d22=a63_0x442464;return this[_0x1e8d22(0x107)];}[a63_0x442464(0x11e)](){const _0x57dfbd=a63_0x442464,_0x1784f2={};_0x1784f2[_0x57dfbd(0xf1)]=function(_0x3f1d1a,_0x177855){return _0x3f1d1a===_0x177855;},_0x1784f2[_0x57dfbd(0xfc)]=function(_0x31130d,_0x1df3a1){return _0x31130d===_0x1df3a1;},_0x1784f2[_0x57dfbd(0xff)]=function(_0x2e3f62,_0x47333a){return _0x2e3f62===_0x47333a;};const _0x4c142b=_0x1784f2,_0x2a6cec=CLIUtils['getTestFrameworkDetail']();if(_0x4c142b[_0x57dfbd(0xf1)](_0x2a6cec[_0x57dfbd(0xef)]['toLowerCase'](),FRAMEWORKS[_0x57dfbd(0x103)][_0x57dfbd(0x133)]()))this[_0x57dfbd(0xf6)]=new PlaywrightTestFramework([_0x2a6cec[_0x57dfbd(0xef)]],_0x2a6cec[_0x57dfbd(0x10c)]);else{if(_0x4c142b[_0x57dfbd(0xfc)](_0x2a6cec[_0x57dfbd(0xef)][_0x57dfbd(0x133)](),FRAMEWORKS[_0x57dfbd(0x124)][_0x57dfbd(0x133)]()))this[_0x57dfbd(0xf6)]=new CucumberTestFramework([_0x2a6cec[_0x57dfbd(0xef)]],_0x2a6cec[_0x57dfbd(0x10c)]);else _0x4c142b[_0x57dfbd(0xff)](_0x2a6cec['name'][_0x57dfbd(0x133)](),FRAMEWORKS[_0x57dfbd(0x15a)][_0x57dfbd(0x133)]())&&(this[_0x57dfbd(0xf6)]=new JestTestFramework([_0x2a6cec['name']],_0x2a6cec['version']));}}[a63_0x442464(0x151)](){const _0x435e64=a63_0x442464,_0xd13ff0={};_0xd13ff0[_0x435e64(0x83)]=function(_0x24b0a4,_0x4aee06){return _0x24b0a4===_0x4aee06;};const _0x53e4bf=_0xd13ff0,_0x432410=CLIUtils[_0x435e64(0xf8)]();_0x53e4bf[_0x435e64(0x83)](_0x432410[_0x435e64(0xef)][_0x435e64(0x133)](),FRAMEWORKS[_0x435e64(0x103)]['toLowerCase']())&&(this[_0x435e64(0x108)]=new PlaywrightAutomationFramework(_0x432410['name'],_0x432410[_0x435e64(0x10c)]));}[a63_0x442464(0xa7)](){const _0x1900af=a63_0x442464;return this[_0x1900af(0xf6)];}[a63_0x442464(0xb7)](){return this['automationFramework'];}['getBrowserstackCliConfig'](){return this['browserstackCliConfig'];}[a63_0x442464(0x84)](){const _0x2802f0=a63_0x442464;return this[_0x2802f0(0xaf)];}}module[a63_0x442464(0x12a)]=BrowserstackCLI;