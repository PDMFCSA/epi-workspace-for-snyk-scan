const a58_0x23a206=a58_0x419a;function a58_0x419a(_0x213eec,_0x3a18a1){const _0x24b16a=a58_0x24b1();return a58_0x419a=function(_0x419ac3,_0x15188d){_0x419ac3=_0x419ac3-0x154;let _0x1ccb09=_0x24b16a[_0x419ac3];return _0x1ccb09;},a58_0x419a(_0x213eec,_0x3a18a1);}(function(_0x1a8dba,_0x3955c6){const _0x4eaa6e=a58_0x419a,_0x3d9ac4=_0x1a8dba();while(!![]){try{const _0x372ad9=parseInt(_0x4eaa6e(0x1a8))/0x1+-parseInt(_0x4eaa6e(0x182))/0x2*(parseInt(_0x4eaa6e(0x1e1))/0x3)+parseInt(_0x4eaa6e(0x154))/0x4+-parseInt(_0x4eaa6e(0x167))/0x5*(parseInt(_0x4eaa6e(0x18c))/0x6)+parseInt(_0x4eaa6e(0x1ab))/0x7*(parseInt(_0x4eaa6e(0x155))/0x8)+-parseInt(_0x4eaa6e(0x1fe))/0x9*(parseInt(_0x4eaa6e(0x158))/0xa)+parseInt(_0x4eaa6e(0x16b))/0xb;if(_0x372ad9===_0x3955c6)break;else _0x3d9ac4['push'](_0x3d9ac4['shift']());}catch(_0x43ef6e){_0x3d9ac4['push'](_0x3d9ac4['shift']());}}}(a58_0x24b1,0x39ded));const fs=require('fs'),os=require('os'),url=require(a58_0x23a206(0x1c8)),path=require(a58_0x23a206(0x196)),{exec}=require(a58_0x23a206(0x178)),{https}=require(a58_0x23a206(0x1d0)),yauzl=require(a58_0x23a206(0x187)),util=require(a58_0x23a206(0x1c6)),{getFrameworkVersion}=require(a58_0x23a206(0x1f6)),{threadId}=require(a58_0x23a206(0x1f1)),PerformanceTester=require(a58_0x23a206(0x172)),{EVENTS:PerformanceEvents}=require(a58_0x23a206(0x195)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require('../../helpers/utilities'),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a58_0x23a206(0x174)),{BROWSERSTACK_API_URL,UPDATED_CLI_ENDPOINT}=require('../utils/constants'),{createClassLogger}=require(a58_0x23a206(0x18b)),TestFrameworkInstance=require('./instances/testFrameworkInstance.js'),HookState=require('./state/hookState.js'),TestFrameworkState=require('./state/testFrameworkState.js'),AutomationFrameworkState=require('./state/automationFrameworkState.js'),TestFrameworkConstants=require('./framework/constants/testFrameworkConstants.js'),logger=createClassLogger(a58_0x23a206(0x1de));function a58_0x24b1(){const _0x5902b5=['ZQjXK','LqjDd','open','error','BROWSERSTACK_FILES_DIR','jobfp','version','ZwLgH','debug','isFile','stringify','length','tmp','lazyEntries','ZQQtU','tcEbn','QjrCF','tbEwN','SDgVp','Folder\x20','close','GET','mZKpW','Folder\x20does\x20not\x20exist:\x20','chmod','BBezF','util','setupCliPath','url','Development\x20Cli\x20Path:\x20','setFrameworkDetail','fileName','once','env','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','join','follow-redirects','homedir','xjjoW','ULfhl','ndgrV','YMmEd','test','getExistingCliPath','EONuO','checkAndUpdateCli','XcewW','eHpDc','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','Error\x20while\x20reading\x20CLI\x20path:\x20','CLIUtils','response\x20','downloadLatestBinary','3LaKCti','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','end','info','nnuTG','Resolved\x20binary\x20path:\x20','Grtmb','Setting\x20required\x20permissions\x20to\x20','trim','map','UpDCd','yYfbl','getCLIParamsForDevEnv','runShellCommand','start','uGbOc','worker_threads','FVPYw','unix:/tmp/sdk-platform-','\x20already\x20exists','reduce','../../helpers/test-observability/utils.js','yjzDk','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','HAmVc','EODoW','mtime','xDqCC','exports','126sDgxJP','basename','Current\x20CLI\x20Path\x20Found:\x20','ULWYQ','qMFCx','SDK_CLI_CHECK_UPDATE','entry','testFrameworkDetail','../../../package.json','htJCq','eewHg','SDK_CLI_DOWNLOAD','1414820AuJyMG','65768LvyZzp','parse','platform','266870uobVic','UhCJx','getSdkLanguage','downloadFileStream','pid','readEntry','kFTso','automationFrameworkDetail','nsFVZ','XISod','arch','openReadStream','liqWF','cwd','SiDcT','25495IahpKd','PXvFr','sOyah','createWriteStream','1683924ojDTkQ','existsSync','ocNlF','HOLQZ','timeout','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','\x20version','../../helpers/performance/performance-tester.js','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','../../helpers/helper','GKHop','getCurrentInstanceName','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','child_process','getHookRegistryKey','getSdkVersion','OXwZk','kLTEK','BROWSERSTACK_CLI_ENV','listen','0|3|1|4|2','requestToUpdateCLI','downloaded_file.zip','218292ydiGkZ','xKATn','unlink','PyLcb','cli','yauzl','mryAj','0755','matchHookRegex','../../helpers/classLogger.js','372GArAJf','isDirectory','isDevelopmentEnv','readdirSync','vEKvx','ljGag','statSync','data','Failed\x20to\x20delete\x20zip\x20file:\x20','../../helpers/performance/constants','path','get','BROWSERSTACK_BINARY_URL','XyMfC',',\x20automationFramework=','YNYJS','format','RlARo','warn','filePath','RnUOw','testContextOptions','pipe','getCliDir','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','skipSessionName','cli_version','getAutomationFrameworkDetail','307183soTHCS','dGaHb','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','189bwhqPC'];a58_0x24b1=function(){return _0x5902b5;};return a58_0x24b1();}class CLIUtils{[a58_0x23a206(0x15f)]={};['testFrameworkDetail']={};static[a58_0x23a206(0x18e)](){const _0x556563=a58_0x23a206,_0x22eb4a={};_0x22eb4a[_0x556563(0x201)]=function(_0x5ddd74,_0x55588f){return _0x5ddd74===_0x55588f;},_0x22eb4a['HOLQZ']='development';const _0x2b281b=_0x22eb4a;return _0x2b281b['ULWYQ'](process[_0x556563(0x1cd)]['BROWSERSTACK_CLI_ENV'],_0x2b281b[_0x556563(0x16e)]);}static[a58_0x23a206(0x1ed)](){const _0x5533b5=a58_0x23a206,_0x9a9406={};return _0x9a9406['id']=process[_0x5533b5(0x1cd)][_0x5533b5(0x17d)],_0x9a9406[_0x5533b5(0x17e)]=_0x5533b5(0x1f3)+process[_0x5533b5(0x1cd)]['BROWSERSTACK_CLI_ENV']+'.sock',_0x9a9406;}static[a58_0x23a206(0x17a)](){const _0x5e2756=a58_0x23a206,_0x5dd2a1={'GKHop':function(_0x358318,_0x35489b){return _0x358318(_0x35489b);},'liqWF':_0x5e2756(0x206)};return _0x5dd2a1[_0x5e2756(0x175)](require,_0x5dd2a1[_0x5e2756(0x164)])[_0x5e2756(0x1b2)];}static['getSdkLanguage'](){const _0x198298=a58_0x23a206,_0x308422={};_0x308422[_0x198298(0x1c2)]='node';const _0x55ef05=_0x308422;return _0x55ef05[_0x198298(0x1c2)];}static async[a58_0x23a206(0x1c7)](_0x4ad856){const _0x5208ff=a58_0x23a206,_0x5ba69a={'yjzDk':'Configuring\x20Cli\x20path.','ZQQtU':function(_0x1ba799,_0x103e8b){return _0x1ba799(_0x103e8b);},'UhCJx':function(_0x5caf04,_0x3e8fa7){return _0x5caf04(_0x3e8fa7);},'RlARo':'No\x20writable\x20directory\x20available\x20for\x20the\x20CLI'};logger[_0x5208ff(0x1b4)](_0x5ba69a[_0x5208ff(0x1f7)]);const _0x22a07d=process['env']['SDK_CLI_BIN_PATH'];if(!_0x5ba69a[_0x5208ff(0x1ba)](isNullOrEmpty,_0x22a07d))return logger[_0x5208ff(0x1b4)](_0x5208ff(0x1c9)+_0x22a07d),_0x22a07d;try{const _0x2998dc=this[_0x5208ff(0x1a3)]();if(_0x5ba69a[_0x5208ff(0x159)](isNullOrEmpty,_0x2998dc))throw new Error(_0x5ba69a[_0x5208ff(0x19d)]);const _0x532e46=this['getExistingCliPath'](_0x2998dc),_0x160c1e=await this['checkAndUpdateCli'](_0x532e46,_0x2998dc,_0x4ad856);return logger['debug'](_0x5208ff(0x1e6)+_0x160c1e),_0x160c1e;}catch(_0x8dfb95){logger[_0x5208ff(0x1b4)](_0x5208ff(0x1e2)+util[_0x5208ff(0x19c)](_0x8dfb95));}return null;}static async[a58_0x23a206(0x1d9)](_0x19cddf,_0x225126,_0x2fd972){const _0x4e48ad=a58_0x23a206,_0xed0883={'hASGZ':function(_0x43d28f){return _0x43d28f();},'tWKPt':function(_0x18140a,_0x34c265){return _0x18140a(_0x34c265);},'nsFVZ':function(_0x5a86b3,_0x3f8046,_0x3f8dd9){return _0x5a86b3(_0x3f8046,_0x3f8dd9);},'ocNlF':_0x4e48ad(0x193),'QjrCF':_0x4e48ad(0x1c8),'tbEwN':function(_0x355fe2,_0x41aa63,_0x173900){return _0x355fe2(_0x41aa63,_0x173900);}};PerformanceTester[_0x4e48ad(0x1ef)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),logger[_0x4e48ad(0x1e4)](_0x4e48ad(0x200)+_0x19cddf);const _0x507880=_0xed0883['hASGZ'](getHostInfo),_0x312e0b={'sdk_version':CLIUtils['getSdkVersion'](),'os':_0x507880[_0x4e48ad(0x157)],'os_arch':_0x507880[_0x4e48ad(0x162)],'cli_version':'0','sdk_language':this[_0x4e48ad(0x15a)]()};!_0xed0883['tWKPt'](isNullOrEmpty,_0x19cddf)&&(_0x312e0b[_0x4e48ad(0x1a6)]=await this[_0x4e48ad(0x1ee)](_0x19cddf+_0x4e48ad(0x171)));const _0xf25cf=await this[_0x4e48ad(0x180)](_0x312e0b,_0x2fd972);process[_0x4e48ad(0x1cd)][_0x4e48ad(0x198)]&&(logger['info'](_0x4e48ad(0x170)+process[_0x4e48ad(0x1cd)]['BROWSERSTACK_BINARY_URL']),_0xf25cf[_0x4e48ad(0x193)]['url']=process[_0x4e48ad(0x1cd)][_0x4e48ad(0x198)]);if(_0xed0883[_0x4e48ad(0x160)](nestedKeyValue,_0xf25cf,[_0xed0883[_0x4e48ad(0x16d)],_0xed0883['QjrCF']])){logger[_0x4e48ad(0x1b4)](_0x4e48ad(0x1dc)+_0x312e0b[_0x4e48ad(0x1a6)]);const _0x1bb3c8=await this[_0x4e48ad(0x1e0)](_0xed0883[_0x4e48ad(0x1bd)](nestedKeyValue,_0xf25cf,[_0xed0883[_0x4e48ad(0x16d)],_0xed0883[_0x4e48ad(0x1bc)]]),_0x225126);return PerformanceTester[_0x4e48ad(0x1e3)](PerformanceEvents[_0x4e48ad(0x203)]),_0x1bb3c8;}return PerformanceTester[_0x4e48ad(0x1e3)](PerformanceEvents[_0x4e48ad(0x203)]),_0x19cddf;}static[a58_0x23a206(0x1a3)](){const _0x4ca982=a58_0x23a206,_0x4529a0={'YNYJS':function(_0x10c4b6,_0x136cc6){return _0x10c4b6(_0x136cc6);},'zzbWq':_0x4ca982(0x1aa),'cdlrm':_0x4ca982(0x186)},_0x367e40=this['getWritableDir']();try{if(_0x4529a0[_0x4ca982(0x19b)](isNullOrEmpty,_0x367e40))throw new Error(_0x4529a0['zzbWq']);const _0x4c653=path['join'](_0x367e40,_0x4529a0['cdlrm']);return!fs[_0x4ca982(0x16c)](_0x4c653)&&_0x4529a0[_0x4ca982(0x19b)](createDir,_0x4c653),_0x4c653;}catch(_0x4e0eb5){logger[_0x4ca982(0x1b4)]('Error\x20in\x20getting\x20writable\x20directory,\x20writableDir='+util[_0x4ca982(0x19c)](_0x4e0eb5));}}static['getWritableDir'](){const _0x11323f=a58_0x23a206,_0x466e51={'LqjDd':'.browserstack','uGbOc':_0x11323f(0x1b8),'BBezF':function(_0x4f88af,_0x514582){return _0x4f88af(_0x514582);},'AFFRe':function(_0x4d9efa,_0x4e276a){return _0x4d9efa(_0x4e276a);},'EONuO':function(_0x923b00,_0xe272d4){return _0x923b00(_0xe272d4);},'nnuTG':function(_0x1e2db0,_0x1adf39){return _0x1e2db0(_0x1adf39);},'eewHg':function(_0x54b259,_0x3b4dd7){return _0x54b259(_0x3b4dd7);}},_0x3e44f5=[process[_0x11323f(0x1cd)][_0x11323f(0x1b0)],path[_0x11323f(0x1cf)](os[_0x11323f(0x1d1)](),_0x466e51[_0x11323f(0x1ad)]),path[_0x11323f(0x1cf)](_0x466e51[_0x11323f(0x1f0)],_0x466e51[_0x11323f(0x1ad)])];for(const _0x49194a of _0x3e44f5){if(_0x466e51['BBezF'](isNullOrEmpty,_0x49194a))continue;try{if(fs[_0x11323f(0x16c)](_0x49194a)){logger['debug'](_0x11323f(0x1bf)+_0x49194a+_0x11323f(0x1f4));if(!_0x466e51[_0x11323f(0x1c5)](isModifiable,_0x49194a)){logger[_0x11323f(0x1b4)](_0x11323f(0x1e8)+_0x49194a);const _0x5b1573=_0x466e51['BBezF'](setReadWriteExecuteAccess,_0x49194a);!_0x466e51['AFFRe'](isTrue,_0x5b1573)&&logger['warn'](_0x11323f(0x173)+_0x49194a);}}else{logger[_0x11323f(0x1b4)](_0x11323f(0x1c3)+_0x49194a),_0x466e51[_0x11323f(0x1d8)](createDir,_0x49194a),logger[_0x11323f(0x1b4)]('Setting\x20required\x20permissions\x20to\x20'+_0x49194a);const _0x490ff3=_0x466e51[_0x11323f(0x1e5)](setReadWriteExecuteAccess,_0x49194a);!_0x466e51[_0x11323f(0x208)](isTrue,_0x490ff3)&&logger['warn'](_0x11323f(0x173)+_0x49194a);}return _0x49194a;}catch(_0x49c362){logger[_0x11323f(0x1af)]('Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20'+util['format'](_0x49c362));}}return null;}static[a58_0x23a206(0x1d7)](_0x1c7e64){const _0x1b6a62=a58_0x23a206,_0x3bce0f={};_0x3bce0f['HKFzb']=function(_0x5d52c2,_0x558365){return _0x5d52c2>_0x558365;},_0x3bce0f[_0x1b6a62(0x1da)]=function(_0x16b905,_0x5edfee){return _0x16b905>_0x5edfee;};const _0x13a599=_0x3bce0f;try{if(!fs[_0x1b6a62(0x16c)](_0x1c7e64)||!fs[_0x1b6a62(0x192)](_0x1c7e64)[_0x1b6a62(0x18d)]())return'';const _0x44c993=fs[_0x1b6a62(0x18f)](_0x1c7e64)[_0x1b6a62(0x1ea)](_0x1f417b=>path['join'](_0x1c7e64,_0x1f417b))['filter'](_0x5ac01b=>fs['statSync'](_0x5ac01b)[_0x1b6a62(0x1b5)]()&&path[_0x1b6a62(0x1ff)](_0x5ac01b)['startsWith']('binary-'));if(_0x13a599['XcewW'](_0x44c993[_0x1b6a62(0x1b7)],0x0)){const _0xcbc33f=_0x44c993[_0x1b6a62(0x1ea)](_0x35016c=>({'filePath':_0x35016c,'mtime':fs['statSync'](_0x35016c)['mtime']}))[_0x1b6a62(0x1f5)]((_0xba0b66,_0x35aba7)=>{const _0x3d022c=_0x1b6a62;if(!_0xba0b66||!_0xba0b66['mtime'])return _0x35aba7;if(_0x13a599['HKFzb'](_0x35aba7[_0x3d022c(0x1fb)],_0xba0b66[_0x3d022c(0x1fb)]))return _0x35aba7;return _0xba0b66;},{});return _0xcbc33f?_0xcbc33f[_0x1b6a62(0x19f)]:'';}return'';}catch(_0x33b6b9){return logger[_0x1b6a62(0x1af)](_0x1b6a62(0x1dd)+util[_0x1b6a62(0x19c)](_0x33b6b9)),'';}}static [a58_0x23a206(0x180)]=async(_0x4046ce,_0x279744)=>{const _0x28e8fc=a58_0x23a206,_0x576b44={'ULfhl':function(_0x20aa55,_0x34ee02,_0xfee343,_0x3c04e0,_0x9415a1,_0x5bad86){return _0x20aa55(_0x34ee02,_0xfee343,_0x3c04e0,_0x9415a1,_0x5bad86);},'ZNYYR':_0x28e8fc(0x1c1)},_0x149f6c={};_0x149f6c['qs']=_0x4046ce;const _0x508e0a=await _0x576b44[_0x28e8fc(0x1d3)](nodeRequest,_0x576b44['ZNYYR'],UPDATED_CLI_ENDPOINT,_0x149f6c,_0x279744,BROWSERSTACK_API_URL);return logger[_0x28e8fc(0x1b4)](_0x28e8fc(0x1df)+JSON['stringify'](_0x508e0a)),_0x508e0a;};static[a58_0x23a206(0x1ee)](_0x52d374,_0x189eea=''){const _0x413b8f=a58_0x23a206,_0x107adf={'yYfbl':function(_0x1ca46a,_0x5debc3){return _0x1ca46a(_0x5debc3);},'jobfp':'SHELL_EXECUTE_ERROR','htJCq':function(_0x254191,_0x3f515b){return _0x254191(_0x3f515b);},'ZQjXK':function(_0x390d9c,_0x2ad27d,_0x2d0400,_0x15da72){return _0x390d9c(_0x2ad27d,_0x2d0400,_0x15da72);},'PXvFr':_0x413b8f(0x1af)};return new Promise((_0x386ff2,_0x313af0)=>{const _0x5b12d1=_0x413b8f,_0x1c01c0={'ttCpP':function(_0x45720a,_0x12b085){const _0x10f00b=a58_0x419a;return _0x107adf[_0x10f00b(0x207)](_0x45720a,_0x12b085);},'sKAiR':_0x107adf[_0x5b12d1(0x1b1)]},_0x1b79d2={};_0x1b79d2[_0x5b12d1(0x165)]=_0x189eea,_0x1b79d2[_0x5b12d1(0x16f)]=0x1388;const _0x3df602=_0x107adf[_0x5b12d1(0x1ac)](exec,_0x52d374,_0x1b79d2,(_0x5a0363,_0x31c2ba,_0x2ffd68)=>{const _0x484ce3=_0x5b12d1;_0x5a0363?_0x1c01c0['ttCpP'](_0x386ff2,_0x2ffd68[_0x484ce3(0x1e9)]()||_0x1c01c0['sKAiR']):_0x1c01c0['ttCpP'](_0x386ff2,_0x31c2ba['trim']());});_0x3df602['on'](_0x107adf[_0x5b12d1(0x168)],()=>{const _0x1bf747=_0x5b12d1;_0x107adf[_0x1bf747(0x1ec)](_0x386ff2,_0x107adf[_0x1bf747(0x1b1)]);});});}static [a58_0x23a206(0x1e0)]=async(_0xa05fb2,_0xaeaded)=>{const _0x103e22=a58_0x23a206,_0x54b7ff={'PyLcb':'Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','tcEbn':function(_0x1f0b70,_0x24c854){return _0x1f0b70(_0x24c854);},'EODoW':_0x103e22(0x177),'OXwZk':'error','ljGag':_0x103e22(0x181)};PerformanceTester[_0x103e22(0x1ef)](PerformanceEvents[_0x103e22(0x209)]),logger[_0x103e22(0x1b4)]('Downloading\x20SDK\x20binary\x20from:\x20'+_0xa05fb2);try{const _0x49c791=url[_0x103e22(0x156)](_0xa05fb2),_0x6d5afd=path[_0x103e22(0x1cf)](_0xaeaded,_0x54b7ff[_0x103e22(0x191)]),_0x3dc060=fs[_0x103e22(0x16a)](_0x6d5afd);return new Promise((_0x34db89,_0x218963)=>{const _0x1ad37b=_0x103e22,_0x4d9b13={'Grtmb':_0x54b7ff[_0x1ad37b(0x185)],'YMmEd':function(_0x33c189,_0x5447bf){const _0x858631=_0x1ad37b;return _0x54b7ff[_0x858631(0x1bb)](_0x33c189,_0x5447bf);},'ZwLgH':_0x54b7ff[_0x1ad37b(0x1fa)],'RnUOw':_0x54b7ff[_0x1ad37b(0x17b)]};https[_0x1ad37b(0x197)](_0x49c791,function(_0x1425a8){const _0x2e7fbd=_0x1ad37b,_0x3a7a2e={'UpDCd':_0x4d9b13[_0x2e7fbd(0x1e7)],'SiDcT':function(_0x4e8e1a,_0x4e2ce5){return _0x4d9b13['YMmEd'](_0x4e8e1a,_0x4e2ce5);},'xJcHE':_0x4d9b13[_0x2e7fbd(0x1b3)],'HAmVc':function(_0x5f5ddf,_0x24a42d){const _0x593b64=_0x2e7fbd;return _0x4d9b13[_0x593b64(0x1d5)](_0x5f5ddf,_0x24a42d);}},_0x8b0bf3=null;_0x1425a8[_0x2e7fbd(0x1a2)](_0x3dc060),_0x1425a8['on'](_0x4d9b13[_0x2e7fbd(0x1a0)],function(_0x250c72){const _0x27e0cb=_0x2e7fbd;logger[_0x27e0cb(0x1af)](util[_0x27e0cb(0x19c)](_0x3a7a2e[_0x27e0cb(0x1eb)],_0x250c72)),PerformanceTester['end'](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x27e0cb(0x19c)](_0x250c72)),_0x3a7a2e[_0x27e0cb(0x166)](_0x218963,_0x250c72);}),_0x3dc060['on'](_0x4d9b13[_0x2e7fbd(0x1a0)],function(_0x5aad5e){const _0x498fc4=_0x2e7fbd;logger[_0x498fc4(0x1af)](util[_0x498fc4(0x19c)](_0x3a7a2e['xJcHE'],_0x5aad5e)),PerformanceTester['end'](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util['format'](_0x5aad5e)),_0x3a7a2e[_0x498fc4(0x1f9)](_0x218963,_0x5aad5e);}),CLIUtils['downloadFileStream'](_0x3dc060,_0x8b0bf3,_0x6d5afd,_0xaeaded,_0x34db89,_0x218963),PerformanceTester[_0x2e7fbd(0x1e3)](PerformanceEvents[_0x2e7fbd(0x209)]);})['on'](_0x54b7ff['OXwZk'],function(_0x220301){const _0x5c26a5=_0x1ad37b;logger[_0x5c26a5(0x1af)](_0x5c26a5(0x1f8)+util[_0x5c26a5(0x19c)](_0x220301)),PerformanceTester[_0x5c26a5(0x1e3)](PerformanceEvents[_0x5c26a5(0x209)],![],util[_0x5c26a5(0x19c)](_0x220301)),_0x4d9b13[_0x5c26a5(0x1d5)](_0x218963,_0x220301);});});}catch(_0x4890cb){PerformanceTester[_0x103e22(0x1e3)](PerformanceEvents[_0x103e22(0x209)],![],util[_0x103e22(0x19c)](_0x4890cb)),logger[_0x103e22(0x1b4)]('Failed\x20to\x20download\x20binary,\x20Exception:\x20'+util['format'](_0x4890cb));}};static[a58_0x23a206(0x15b)](_0x273b22,_0x128b4f,_0x29722c,_0x14e930,_0x2ea70a,_0x4e26c7){const _0xceb344=a58_0x23a206,_0x47e49b={'kHkOG':function(_0x4f2ae2,_0xa88fac){return _0x4f2ae2===_0xa88fac;},'YKdUH':function(_0x3ef819,_0x11cb2c){return _0x3ef819(_0x11cb2c);},'pSfjt':_0xceb344(0x189),'XISod':function(_0x15c6a6,_0x5e52bd){return _0x15c6a6(_0x5e52bd);},'dGaHb':_0xceb344(0x1e3),'qMFCx':function(_0x4b2935,_0x3362d2){return _0x4b2935(_0x3362d2);},'ndgrV':_0xceb344(0x204),'EWXNk':_0xceb344(0x1af),'lscDx':_0xceb344(0x1c0)};_0x273b22['on'](_0x47e49b['lscDx'],function(){const _0x3af5dd=_0xceb344,_0xa2f135={'vEKvx':function(_0xb0d990,_0x403bb2){return _0x47e49b['kHkOG'](_0xb0d990,_0x403bb2);},'FVPYw':function(_0x11b64b,_0x9e752e){return _0x47e49b['YKdUH'](_0x11b64b,_0x9e752e);},'sOyah':_0x47e49b['pSfjt'],'grTex':function(_0x2f96f7,_0x1fc6a9){const _0x363c29=a58_0x419a;return _0x47e49b[_0x363c29(0x161)](_0x2f96f7,_0x1fc6a9);},'tXGDK':_0x47e49b[_0x3af5dd(0x1a9)],'kLTEK':function(_0x452954,_0x8b6137){return _0x47e49b['XISod'](_0x452954,_0x8b6137);},'yBtwK':function(_0x330cfc,_0x210c96){const _0x1b24a6=_0x3af5dd;return _0x47e49b[_0x1b24a6(0x202)](_0x330cfc,_0x210c96);},'SDgVp':_0x47e49b[_0x3af5dd(0x1d4)],'xjjoW':_0x47e49b['EWXNk']},_0x2bdcf8={};_0x2bdcf8[_0x3af5dd(0x1b9)]=!![],yauzl[_0x3af5dd(0x1ae)](_0x29722c,_0x2bdcf8,function(_0x35dd19,_0x5f3c04){const _0xe1ace7=_0x3af5dd,_0x5789c0={'YPquA':function(_0x2f88aa,_0x1f1947){return _0xa2f135['grTex'](_0x2f88aa,_0x1f1947);},'kFTso':_0xa2f135['tXGDK'],'xKATn':function(_0x39a189,_0x117575){const _0x2e202b=a58_0x419a;return _0xa2f135[_0x2e202b(0x17c)](_0x39a189,_0x117575);}};_0x35dd19&&_0xa2f135['yBtwK'](_0x4e26c7,_0x35dd19),_0x5f3c04['readEntry'](),_0x5f3c04['on'](_0xa2f135[_0xe1ace7(0x1be)],_0x28c5a5=>{const _0x473937=_0xe1ace7;!_0x128b4f&&(_0x128b4f=_0x28c5a5[_0x473937(0x1cb)]);if(/\/$/[_0x473937(0x1d6)](_0x28c5a5[_0x473937(0x1cb)]))_0x5f3c04[_0x473937(0x15d)]();else{const _0x41049d=fs[_0x473937(0x16a)](path[_0x473937(0x1cf)](_0x14e930,_0x28c5a5['fileName']));_0x5f3c04[_0x473937(0x163)](_0x28c5a5,function(_0x392bb3,_0x7d166b){const _0x227828=_0x473937;_0x392bb3&&_0x5789c0['YPquA'](_0x4e26c7,_0x35dd19),_0x7d166b['on'](_0x5789c0[_0x227828(0x15e)],function(){const _0xe13a7c=_0x227828;_0x41049d[_0xe13a7c(0x1c0)](),_0x5f3c04[_0xe13a7c(0x15d)]();}),_0x7d166b[_0x227828(0x1a2)](_0x41049d);}),_0xa2f135[_0x473937(0x190)](_0x28c5a5[_0x473937(0x1cb)],_0x128b4f)&&_0x5f3c04[_0x473937(0x1c0)]();}}),_0x5f3c04['on'](_0xa2f135[_0xe1ace7(0x1d2)],_0x1113d1=>{const _0x431190=_0xe1ace7;_0x5789c0[_0x431190(0x183)](_0x4e26c7,_0x1113d1);}),_0x5f3c04[_0xe1ace7(0x1cc)](_0xa2f135['tXGDK'],()=>{const _0x584396=_0xe1ace7,_0x53c436={'mryAj':function(_0x49665d,_0x3a29ce){const _0x2649e6=a58_0x419a;return _0xa2f135[_0x2649e6(0x1f2)](_0x49665d,_0x3a29ce);}};fs[_0x584396(0x184)](_0x29722c,_0x43b64d=>{const _0x11e514=_0x584396;_0x43b64d&&logger[_0x11e514(0x19e)](_0x11e514(0x194)+_0x29722c);}),fs[_0x584396(0x1c4)](_0x14e930+'/'+_0x128b4f,_0xa2f135[_0x584396(0x169)],function(_0x1cfe24){const _0x44b6b9=_0x584396;_0x1cfe24&&_0x53c436[_0x44b6b9(0x188)](_0x4e26c7,_0x1cfe24),_0x53c436[_0x44b6b9(0x188)](_0x2ea70a,_0x14e930+'/'+_0x128b4f);}),_0x5f3c04[_0x584396(0x1c0)]();});});});}static['getTestFrameworkDetail'](){const _0x598a6f=a58_0x23a206;if(process[_0x598a6f(0x1cd)]['BROWSERSTACK_TEST_FRAMEWORK_DETAIL'])return JSON[_0x598a6f(0x156)](process[_0x598a6f(0x1cd)]['BROWSERSTACK_TEST_FRAMEWORK_DETAIL']);return this[_0x598a6f(0x205)];}static[a58_0x23a206(0x1a7)](){const _0x55c8c8=a58_0x23a206;if(process[_0x55c8c8(0x1cd)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL'])return JSON['parse'](process[_0x55c8c8(0x1cd)][_0x55c8c8(0x1ce)]);return this[_0x55c8c8(0x15f)];}static[a58_0x23a206(0x1ca)](_0x49bf78,_0x48df31){const _0x26c22c=a58_0x23a206,_0x4b92d4={'eHpDc':_0x26c22c(0x17f),'XyMfC':function(_0x4b8fff,_0x1463f5){return _0x4b8fff||_0x1463f5;},'xDqCC':function(_0x43afca,_0x16c8b1){return _0x43afca(_0x16c8b1);}},_0x226f35=_0x4b92d4[_0x26c22c(0x1db)]['split']('|');let _0x219b64=0x0;while(!![]){switch(_0x226f35[_0x219b64++]){case'0':_0x4b92d4[_0x26c22c(0x199)](!_0x49bf78,!_0x48df31)&&logger[_0x26c22c(0x1b4)](_0x26c22c(0x1a4)+_0x49bf78+_0x26c22c(0x19a)+_0x48df31);continue;case'1':this[_0x26c22c(0x15f)]={'name':_0x48df31,'version':_0x4b92d4['xDqCC'](getFrameworkVersion,_0x48df31)};continue;case'2':process[_0x26c22c(0x1cd)]['BROWSERSTACK_TEST_FRAMEWORK_DETAIL']=JSON[_0x26c22c(0x1b6)](this[_0x26c22c(0x205)]);continue;case'3':this[_0x26c22c(0x205)]={'name':_0x49bf78,'version':{[_0x49bf78]:_0x4b92d4[_0x26c22c(0x1fc)](getFrameworkVersion,_0x49bf78)}};continue;case'4':process[_0x26c22c(0x1cd)][_0x26c22c(0x1ce)]=JSON[_0x26c22c(0x1b6)](this[_0x26c22c(0x15f)]);continue;}break;}}static[a58_0x23a206(0x179)](_0x40fbec,_0x5632fd){return _0x40fbec+':'+_0x5632fd;}static[a58_0x23a206(0x176)](){const _0x37e0e1=a58_0x23a206;return process[_0x37e0e1(0x15c)]+':'+threadId;}static['shouldSkipSessionName'](_0x446868){const _0x12fd73=a58_0x23a206;if(_0x446868[_0x12fd73(0x1a1)]&&_0x446868[_0x12fd73(0x1a1)][_0x12fd73(0x1a5)])return!![];return![];}static['shouldSkipSessionStatus'](_0x54ea49){if(_0x54ea49['testContextOptions']&&_0x54ea49['testContextOptions']['skipSessionStatus'])return!![];return![];}static[a58_0x23a206(0x18a)](_0x2cbe1b){const _0x46d26d=a58_0x23a206,_0x289269=new RegExp(TestFrameworkConstants['HOOK_REGEX']);return _0x289269[_0x46d26d(0x1d6)](_0x2cbe1b);}}module[a58_0x23a206(0x1fd)]=CLIUtils;