const a62_0x17ec98=a62_0x6ec0;function a62_0x6ec0(_0x28cfc9,_0x4d33e7){const _0x1d4026=a62_0x1d40();return a62_0x6ec0=function(_0x6ec0df,_0x4bba00){_0x6ec0df=_0x6ec0df-0x1f3;let _0x390a1c=_0x1d4026[_0x6ec0df];return _0x390a1c;},a62_0x6ec0(_0x28cfc9,_0x4d33e7);}function a62_0x1d40(){const _0x881340=['Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','lTRhq','warn','info','start','SDK_CLI_BIN_PATH','response\x20','5589796HUCaGk','WlGLD','GaXUL','zsMfO','SHELL_EXECUTE_ERROR','fileName','boRlY','getSdkVersion','ZzGfJ','zOLSu','pipe','downloadLatestBinary','readEntry','vkQwm','../utils/apiUtilityMethods.js','ZxeMd','mvajL','filter','../../helpers/classLogger.js','xLeFP','Glyrm','util','binary-','object','url','stringify','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','jKWfj','filePath','GET','5812kIGONn','requestToUpdateCLI','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','19413cIAkZo','JIbjH','reduce','xLkDN','format','./state/hookState.js','pYwhP','ygntn','arch','WvjyZ','close','763YJYPdW','Folder\x20does\x20not\x20exist:\x20','getCurrentInstanceName','mtime','3sGdOoh','isDirectory','parse','ZdfHw','getAutomationFrameworkDetail','../../../package.json','19592YdnbnH','GGkUQ','downloadFileStream','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','Configuring\x20Cli\x20path.','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','MwbhF','once','automationFrameworkDetail','../../helpers/test-observability/utils.js','OpfDr','timeout','dTQTn','jKiau','follow-redirects','error','mergeObject','isArray','UIVZt','xeAZh','JfWIS','fbsDa','tBFDA','UKosw','skipSessionStatus','Resolved\x20binary\x20path:\x20','debug','shouldSkipSessionStatus','SaeeY','split','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','entries','FNBPK','join','getExistingCliPath','BROWSERSTACK_BINARY_URL','statSync','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','yauzl','\x20already\x20exists','end','open','rYPcy','tmpdir','exports','map','./state/automationFrameworkState.js','Setting\x20required\x20permissions\x20to\x20','cli_version','runShellCommand','GzNBZ','zOsIC','cwd','607680NxJeXa','1401645XVByeE','SDK_CLI_CHECK_UPDATE','LLKJO','okSKm','isFile','getCLIParamsForDevEnv','Lucyt','jrpcc','jMGwb','468qcLvXc','testFrameworkDetail','basename','getWritableDir','testContextOptions','0755','BvLBd','aYZqT','40gNxDou','\x20version','LtnYk','KNjyb','SDK_CLI_DOWNLOAD','BROWSERSTACK_CLI_ENV','trim','get','env','createWriteStream','setFrameworkDetail','listen','Current\x20CLI\x20Path\x20Found:\x20','.browserstack','checkAndUpdateCli','LxCCM','uIhxU',',\x20automationFramework=','CLIUtils','pid','kQNGB','../../helpers/utilities','existsSync','xRViG','xtGoj','kaYNi','setupCliPath','hqzIt','KaXio','Failed\x20to\x20delete\x20zip\x20file:\x20','./framework/constants/testFrameworkConstants.js','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','node','./instances/testFrameworkInstance.js','openReadStream','data','shouldSkipSessionName','LTdTo','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','../../helpers/performance/performance-tester.js','VYiVT','path','platform','worker_threads','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','downloaded_file.zip','cli','development','HOOK_REGEX','14378760GSoZYM','iAxtJ','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','Dyxzy','eGYqz','nsHMM','MGzlC','zdeBe'];a62_0x1d40=function(){return _0x881340;};return a62_0x1d40();}(function(_0x557be,_0x283cd3){const _0x340639=a62_0x6ec0,_0x2ca2cf=_0x557be();while(!![]){try{const _0x4f453a=parseInt(_0x340639(0x1f4))/0x1*(-parseInt(_0x340639(0x25a))/0x2)+parseInt(_0x340639(0x26c))/0x3*(parseInt(_0x340639(0x23c))/0x4)+-parseInt(_0x340639(0x2a9))/0x5+-parseInt(_0x340639(0x2a8))/0x6+-parseInt(_0x340639(0x268))/0x7*(parseInt(_0x340639(0x272))/0x8)+parseInt(_0x340639(0x25d))/0x9*(parseInt(_0x340639(0x1fc))/0xa)+parseInt(_0x340639(0x22d))/0xb;if(_0x4f453a===_0x283cd3)break;else _0x2ca2cf['push'](_0x2ca2cf['shift']());}catch(_0x107196){_0x2ca2cf['push'](_0x2ca2cf['shift']());}}}(a62_0x1d40,0xac0a7));const fs=require('fs'),os=require('os'),url=require(a62_0x17ec98(0x254)),path=require(a62_0x17ec98(0x225)),{exec}=require('child_process'),{https}=require(a62_0x17ec98(0x280)),yauzl=require(a62_0x17ec98(0x299)),util=require(a62_0x17ec98(0x251)),{getFrameworkVersion}=require(a62_0x17ec98(0x27b)),{threadId}=require(a62_0x17ec98(0x227)),PerformanceTester=require(a62_0x17ec98(0x223)),{EVENTS:PerformanceEvents}=require('../../helpers/performance/constants'),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require(a62_0x17ec98(0x211)),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require('../../helpers/helper'),{UPDATED_CLI_ENDPOINT}=require('../utils/constants'),{createClassLogger}=require(a62_0x17ec98(0x24e)),TestFrameworkInstance=require(a62_0x17ec98(0x21d)),HookState=require(a62_0x17ec98(0x262)),TestFrameworkState=require('./state/testFrameworkState.js'),AutomationFrameworkState=require(a62_0x17ec98(0x2a1)),TestFrameworkConstants=require(a62_0x17ec98(0x21a)),logger=createClassLogger(a62_0x17ec98(0x20e)),{getBStackAPIUrl}=require(a62_0x17ec98(0x24a));class CLIUtils{[a62_0x17ec98(0x27a)]={};[a62_0x17ec98(0x1f5)]={};static['isDevelopmentEnv'](){const _0x39e2b9=a62_0x17ec98,_0xadb63={};_0xadb63[_0x39e2b9(0x28e)]=function(_0x413b65,_0x2bad4a){return _0x413b65===_0x2bad4a;},_0xadb63[_0x39e2b9(0x230)]=_0x39e2b9(0x22b);const _0x188d36=_0xadb63;return _0x188d36[_0x39e2b9(0x28e)](process[_0x39e2b9(0x204)][_0x39e2b9(0x201)],_0x188d36[_0x39e2b9(0x230)]);}static[a62_0x17ec98(0x2ae)](){const _0x203a19=a62_0x17ec98,_0x329e30={};return _0x329e30['id']=process['env'][_0x203a19(0x201)],_0x329e30[_0x203a19(0x207)]='unix:/tmp/sdk-platform-'+process[_0x203a19(0x204)][_0x203a19(0x201)]+'.sock',_0x329e30;}static[a62_0x17ec98(0x243)](){const _0x3888c0=a62_0x17ec98,_0x4d587f={'vkQwm':function(_0x43dedd,_0x4edffd){return _0x43dedd(_0x4edffd);},'jMGwb':_0x3888c0(0x271)};return _0x4d587f[_0x3888c0(0x249)](require,_0x4d587f[_0x3888c0(0x1f3)])['version'];}static['getSdkLanguage'](){const _0xece37f=a62_0x17ec98,_0x427131={};_0x427131[_0xece37f(0x289)]=_0xece37f(0x21c);const _0x407ee3=_0x427131;return _0x407ee3[_0xece37f(0x289)];}static async[a62_0x17ec98(0x216)](_0x22ba4a){const _0x5b7089=a62_0x17ec98,_0xab0a51={'jKWfj':_0x5b7089(0x276),'ZdfHw':function(_0x337cd3,_0x55df16){return _0x337cd3(_0x55df16);},'micry':function(_0x1899cc,_0x4398ce){return _0x1899cc(_0x4398ce);},'boRlY':_0x5b7089(0x222)};logger[_0x5b7089(0x28c)](_0xab0a51[_0x5b7089(0x257)]);const _0x189a64=process['env'][_0x5b7089(0x23a)];if(!_0xab0a51[_0x5b7089(0x26f)](isNullOrEmpty,_0x189a64))return logger[_0x5b7089(0x28c)]('Development\x20Cli\x20Path:\x20'+_0x189a64),_0x189a64;try{const _0x1a8f6a=this['getCliDir']();if(_0xab0a51['micry'](isNullOrEmpty,_0x1a8f6a))throw new Error(_0xab0a51[_0x5b7089(0x242)]);const _0x2c8d50=this[_0x5b7089(0x294)](_0x1a8f6a),_0x2ec214=await this['checkAndUpdateCli'](_0x2c8d50,_0x1a8f6a,_0x22ba4a);return logger[_0x5b7089(0x28c)](_0x5b7089(0x28b)+_0x2ec214),_0x2ec214;}catch(_0x199db1){logger['debug']('Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20'+util[_0x5b7089(0x261)](_0x199db1));}return null;}static async[a62_0x17ec98(0x20a)](_0x346031,_0x132e7b,_0x1e06ec){const _0x3f58de=a62_0x17ec98,_0x3547d0={'LLKJO':function(_0x324707){return _0x324707();},'OpfDr':function(_0x2d9d2f,_0x5989f9){return _0x2d9d2f(_0x5989f9);},'uIhxU':function(_0x25bb77,_0x298f46,_0x488750){return _0x25bb77(_0x298f46,_0x488750);},'zOsIC':'data','kQNGB':_0x3f58de(0x254)};PerformanceTester[_0x3f58de(0x239)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),logger[_0x3f58de(0x238)](_0x3f58de(0x208)+_0x346031);const _0x4626e6=_0x3547d0[_0x3f58de(0x2ab)](getHostInfo),_0x39ef64={'sdk_version':CLIUtils[_0x3f58de(0x243)](),'os':_0x4626e6[_0x3f58de(0x226)],'os_arch':_0x4626e6[_0x3f58de(0x265)],'cli_version':'0','sdk_language':this['getSdkLanguage']()};!_0x3547d0[_0x3f58de(0x27c)](isNullOrEmpty,_0x346031)&&(_0x39ef64['cli_version']=await this[_0x3f58de(0x2a4)](_0x346031+_0x3f58de(0x1fd)));const _0x3fb1bb=await this['requestToUpdateCLI'](_0x39ef64,_0x1e06ec);process[_0x3f58de(0x204)]['BROWSERSTACK_BINARY_URL']&&(logger[_0x3f58de(0x238)](_0x3f58de(0x290)+process['env'][_0x3f58de(0x295)]),_0x3fb1bb[_0x3f58de(0x21f)][_0x3f58de(0x254)]=process[_0x3f58de(0x204)][_0x3f58de(0x295)]);if(_0x3547d0[_0x3f58de(0x20c)](nestedKeyValue,_0x3fb1bb,[_0x3547d0[_0x3f58de(0x2a6)],_0x3547d0['kQNGB']])){logger['debug'](_0x3f58de(0x235)+_0x39ef64[_0x3f58de(0x2a3)]);const _0x1199b4=await this[_0x3f58de(0x247)](_0x3547d0['uIhxU'](nestedKeyValue,_0x3fb1bb,[_0x3547d0[_0x3f58de(0x2a6)],_0x3547d0[_0x3f58de(0x210)]]),_0x132e7b);return PerformanceTester['end'](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x1199b4;}return PerformanceTester[_0x3f58de(0x29b)](PerformanceEvents[_0x3f58de(0x2aa)]),_0x346031;}static['getCliDir'](){const _0x3373d1=a62_0x17ec98,_0x144e81={'KaXio':function(_0x4b6734,_0x48bb92){return _0x4b6734(_0x48bb92);},'Lucyt':_0x3373d1(0x222),'GGkUQ':_0x3373d1(0x22a)},_0x1adcd3=this[_0x3373d1(0x1f7)]();try{if(_0x144e81[_0x3373d1(0x218)](isNullOrEmpty,_0x1adcd3))throw new Error(_0x144e81[_0x3373d1(0x2af)]);const _0x445b5a=path[_0x3373d1(0x293)](_0x1adcd3,_0x144e81[_0x3373d1(0x273)]);return!fs['existsSync'](_0x445b5a)&&_0x144e81['KaXio'](createDir,_0x445b5a),_0x445b5a;}catch(_0x507138){logger[_0x3373d1(0x28c)](_0x3373d1(0x25c)+util[_0x3373d1(0x261)](_0x507138));}}static[a62_0x17ec98(0x1f7)](){const _0x1f2888=a62_0x17ec98,_0x3aceff={'xRViG':_0x1f2888(0x209),'tBFDA':function(_0x2cae41,_0x1a68ee){return _0x2cae41(_0x1a68ee);},'KNjyb':function(_0x54815f,_0x24de28){return _0x54815f(_0x24de28);},'LxCCM':function(_0x5e9b9f,_0x263a29){return _0x5e9b9f(_0x263a29);}},_0xef4564=[process['env']['BROWSERSTACK_FILES_DIR'],path['join'](os['homedir'](),_0x3aceff['xRViG']),path[_0x1f2888(0x293)](os[_0x1f2888(0x29e)](),_0x3aceff[_0x1f2888(0x213)])];for(const _0xb780c9 of _0xef4564){if(_0x3aceff[_0x1f2888(0x288)](isNullOrEmpty,_0xb780c9))continue;try{if(fs[_0x1f2888(0x212)](_0xb780c9)){logger[_0x1f2888(0x28c)]('Folder\x20'+_0xb780c9+_0x1f2888(0x29a));if(!_0x3aceff[_0x1f2888(0x288)](isModifiable,_0xb780c9)){logger[_0x1f2888(0x28c)](_0x1f2888(0x2a2)+_0xb780c9);const _0x171dce=_0x3aceff[_0x1f2888(0x288)](setReadWriteExecuteAccess,_0xb780c9);if(!_0x3aceff['tBFDA'](isTrue,_0x171dce)){logger[_0x1f2888(0x237)](_0x1f2888(0x298)+_0xb780c9);continue;}}}else{logger[_0x1f2888(0x28c)](_0x1f2888(0x269)+_0xb780c9),_0x3aceff[_0x1f2888(0x1ff)](createDir,_0xb780c9),logger[_0x1f2888(0x28c)](_0x1f2888(0x2a2)+_0xb780c9);const _0x4f997d=_0x3aceff[_0x1f2888(0x1ff)](setReadWriteExecuteAccess,_0xb780c9);!_0x3aceff[_0x1f2888(0x20b)](isTrue,_0x4f997d)&&logger[_0x1f2888(0x237)]('Unable\x20to\x20set\x20required\x20permissions\x20to\x20'+_0xb780c9);}return _0xb780c9;}catch(_0x397e3c){logger[_0x1f2888(0x281)](_0x1f2888(0x228)+util[_0x1f2888(0x261)](_0x397e3c));}}return null;}static[a62_0x17ec98(0x294)](_0x1f82b7){const _0x4331e0=a62_0x17ec98,_0x48d369={};_0x48d369[_0x4331e0(0x221)]=function(_0x233f42,_0x1bb6cf){return _0x233f42>_0x1bb6cf;},_0x48d369[_0x4331e0(0x231)]=function(_0x427fe9,_0x1e06b6){return _0x427fe9>_0x1e06b6;};const _0x3c4fa=_0x48d369;try{if(!fs[_0x4331e0(0x212)](_0x1f82b7)||!fs[_0x4331e0(0x296)](_0x1f82b7)[_0x4331e0(0x26d)]())return'';const _0x32935c=fs['readdirSync'](_0x1f82b7)[_0x4331e0(0x2a0)](_0x5cd800=>path['join'](_0x1f82b7,_0x5cd800))[_0x4331e0(0x24d)](_0x47effa=>fs['statSync'](_0x47effa)[_0x4331e0(0x2ad)]()&&path[_0x4331e0(0x1f6)](_0x47effa)['startsWith'](_0x4331e0(0x252)));if(_0x3c4fa[_0x4331e0(0x231)](_0x32935c['length'],0x0)){const _0xe1b14=_0x32935c[_0x4331e0(0x2a0)](_0x173d84=>({'filePath':_0x173d84,'mtime':fs[_0x4331e0(0x296)](_0x173d84)['mtime']}))[_0x4331e0(0x25f)]((_0x28d824,_0x16e14a)=>{const _0x1dc68a=_0x4331e0;if(!_0x28d824||!_0x28d824[_0x1dc68a(0x26b)])return _0x16e14a;if(_0x3c4fa['LTdTo'](_0x16e14a[_0x1dc68a(0x26b)],_0x28d824['mtime']))return _0x16e14a;return _0x28d824;},{});return _0xe1b14?_0xe1b14[_0x4331e0(0x258)]:'';}return'';}catch(_0xb64926){return logger['error']('Error\x20while\x20reading\x20CLI\x20path:\x20'+util[_0x4331e0(0x261)](_0xb64926)),'';}}static [a62_0x17ec98(0x25b)]=async(_0x4b849e,_0x398956)=>{const _0x478976=a62_0x17ec98,_0x1f912e={'WlGLD':function(_0x12cf9a,_0x2df207,_0x5e1061,_0x5018d8,_0xb80491){return _0x12cf9a(_0x2df207,_0x5e1061,_0x5018d8,_0xb80491);},'hqzIt':_0x478976(0x259)},_0x574fab={};_0x574fab['qs']=_0x4b849e;const _0x7e168d=await _0x1f912e[_0x478976(0x23d)](nodeRequest,_0x1f912e[_0x478976(0x217)],UPDATED_CLI_ENDPOINT,_0x574fab,_0x398956);return logger[_0x478976(0x28c)](_0x478976(0x23b)+JSON[_0x478976(0x255)](_0x7e168d)),_0x7e168d;};static[a62_0x17ec98(0x2a4)](_0x4c45b8,_0x1b3bfc=''){const _0x37965f=a62_0x17ec98,_0x7160d6={'kaYNi':function(_0x5a81ed,_0x218f32){return _0x5a81ed(_0x218f32);},'zdeBe':_0x37965f(0x240),'jKiau':function(_0x335ffe,_0x5f39bf){return _0x335ffe(_0x5f39bf);},'FNBPK':function(_0x182169,_0x113281,_0xa2c09b,_0x3bda67){return _0x182169(_0x113281,_0xa2c09b,_0x3bda67);},'Pmajh':_0x37965f(0x281)};return new Promise((_0xd86808,_0x529ee9)=>{const _0x100cb1=_0x37965f,_0x4308c1={'nsHMM':function(_0x45d40c,_0x56b861){const _0x548f59=a62_0x6ec0;return _0x7160d6[_0x548f59(0x27f)](_0x45d40c,_0x56b861);},'tHbBE':_0x7160d6[_0x100cb1(0x234)]},_0x168573={};_0x168573[_0x100cb1(0x2a7)]=_0x1b3bfc,_0x168573[_0x100cb1(0x27d)]=0x1388;const _0x16ee65=_0x7160d6[_0x100cb1(0x292)](exec,_0x4c45b8,_0x168573,(_0xba8f74,_0x14be98,_0x39b964)=>{const _0x909e59=_0x100cb1;_0xba8f74?_0x7160d6['kaYNi'](_0xd86808,_0x39b964['trim']()||_0x7160d6[_0x909e59(0x234)]):_0x7160d6[_0x909e59(0x215)](_0xd86808,_0x14be98[_0x909e59(0x202)]());});_0x16ee65['on'](_0x7160d6['Pmajh'],()=>{const _0x59c48a=_0x100cb1;_0x4308c1[_0x59c48a(0x232)](_0xd86808,_0x4308c1['tHbBE']);});});}static [a62_0x17ec98(0x247)]=async(_0x5566c2,_0x30a63)=>{const _0x31abf1=a62_0x17ec98,_0x1b6e42={'mvajL':function(_0x4ea0d7,_0x423838){return _0x4ea0d7(_0x423838);},'WvjyZ':_0x31abf1(0x277),'vlbbN':function(_0x481fa5,_0x37d727){return _0x481fa5(_0x37d727);},'MGzlC':_0x31abf1(0x21b),'pOfQq':function(_0x20e120,_0xe2fafa){return _0x20e120(_0xe2fafa);},'MwbhF':_0x31abf1(0x281),'ygntn':_0x31abf1(0x229)};PerformanceTester['start'](PerformanceEvents[_0x31abf1(0x200)]),logger[_0x31abf1(0x28c)]('Downloading\x20SDK\x20binary\x20from:\x20'+_0x5566c2);try{const _0x4207bd=url[_0x31abf1(0x26e)](_0x5566c2),_0x3135b5=path['join'](_0x30a63,_0x1b6e42[_0x31abf1(0x264)]),_0x4f25e8=fs[_0x31abf1(0x205)](_0x3135b5);return new Promise((_0x3fa62d,_0x3500fc)=>{const _0x1af027=_0x31abf1,_0x2d1349={'dTQTn':_0x1b6e42[_0x1af027(0x266)],'xeAZh':function(_0x5824f7,_0x3d71fa){return _0x1b6e42['vlbbN'](_0x5824f7,_0x3d71fa);},'zsMfO':_0x1b6e42[_0x1af027(0x233)],'jHBuq':function(_0x25d64a,_0x354cc6){return _0x1b6e42['pOfQq'](_0x25d64a,_0x354cc6);},'fbsDa':_0x1b6e42['MwbhF']};https[_0x1af027(0x203)](_0x4207bd,function(_0x2288ea){const _0x5b6462=_0x1af027,_0x1adb7e={'JIbjH':_0x2d1349[_0x5b6462(0x23f)],'lTRhq':function(_0x549d7b,_0x48a6c0){return _0x2d1349['jHBuq'](_0x549d7b,_0x48a6c0);}},_0x8d68c=null;_0x2288ea[_0x5b6462(0x246)](_0x4f25e8),_0x2288ea['on'](_0x2d1349[_0x5b6462(0x287)],function(_0x11f7f5){const _0x1aef5b=_0x5b6462;logger[_0x1aef5b(0x281)](util[_0x1aef5b(0x261)](_0x1adb7e[_0x1aef5b(0x25e)],_0x11f7f5)),PerformanceTester[_0x1aef5b(0x29b)](PerformanceEvents[_0x1aef5b(0x200)],![],util[_0x1aef5b(0x261)](_0x11f7f5)),_0x1adb7e[_0x1aef5b(0x236)](_0x3500fc,_0x11f7f5);}),_0x4f25e8['on'](_0x2d1349[_0x5b6462(0x287)],function(_0x41374f){const _0xf3787e=_0x5b6462;logger[_0xf3787e(0x281)](util[_0xf3787e(0x261)](_0x2d1349[_0xf3787e(0x27e)],_0x41374f)),PerformanceTester['end'](PerformanceEvents[_0xf3787e(0x200)],![],util[_0xf3787e(0x261)](_0x41374f)),_0x2d1349[_0xf3787e(0x285)](_0x3500fc,_0x41374f);}),CLIUtils[_0x5b6462(0x274)](_0x4f25e8,_0x8d68c,_0x3135b5,_0x30a63,_0x3fa62d,_0x3500fc),PerformanceTester['end'](PerformanceEvents['SDK_CLI_DOWNLOAD']);})['on'](_0x1b6e42[_0x1af027(0x278)],function(_0x380a99){const _0x355b8c=_0x1af027;logger[_0x355b8c(0x281)](_0x355b8c(0x22f)+util[_0x355b8c(0x261)](_0x380a99)),PerformanceTester['end'](PerformanceEvents[_0x355b8c(0x200)],![],util[_0x355b8c(0x261)](_0x380a99)),_0x1b6e42[_0x355b8c(0x24c)](_0x3500fc,_0x380a99);});});}catch(_0x5acb90){PerformanceTester[_0x31abf1(0x29b)](PerformanceEvents[_0x31abf1(0x200)],![],util['format'](_0x5acb90)),logger[_0x31abf1(0x28c)]('Failed\x20to\x20download\x20binary,\x20Exception:\x20'+util[_0x31abf1(0x261)](_0x5acb90));}};static['downloadFileStream'](_0x2206a9,_0x73bce8,_0x26c641,_0x4e10a8,_0x46cccd,_0x36da77){const _0x4225ee=a62_0x17ec98,_0x358855={'VYiVT':function(_0x17383c,_0x167cbc){return _0x17383c(_0x167cbc);},'zOLSu':'end','ZxeMd':function(_0x3105cc,_0x32494f){return _0x3105cc(_0x32494f);},'xtGoj':'entry','rYPcy':'error','okSKm':function(_0x4bac93,_0x2a7a97){return _0x4bac93===_0x2a7a97;},'GzNBZ':function(_0x1dcbfb,_0x4f69c4){return _0x1dcbfb(_0x4f69c4);},'GaXUL':_0x4225ee(0x1f9),'PfvIO':_0x4225ee(0x267)};_0x2206a9['on'](_0x358855['PfvIO'],function(){const _0x2e9fae=_0x4225ee,_0x32981f={'JfWIS':function(_0x30e0a4,_0x549845){const _0x913ff0=a62_0x6ec0;return _0x358855[_0x913ff0(0x2ac)](_0x30e0a4,_0x549845);},'ZzGfJ':function(_0x1615c0,_0x386b83){return _0x358855['GzNBZ'](_0x1615c0,_0x386b83);},'vvsRb':function(_0x21cf3b,_0x5bb7ae){const _0x50a664=a62_0x6ec0;return _0x358855[_0x50a664(0x2a5)](_0x21cf3b,_0x5bb7ae);},'jrpcc':_0x358855[_0x2e9fae(0x23e)]},_0x1bed96={};_0x1bed96['lazyEntries']=!![],yauzl[_0x2e9fae(0x29c)](_0x26c641,_0x1bed96,function(_0x18d3dd,_0x2cf01f){const _0x257cba=_0x2e9fae,_0x1c55f7={'aYZqT':function(_0x3fca68,_0x42d8a2){const _0x16c8bf=a62_0x6ec0;return _0x358855[_0x16c8bf(0x224)](_0x3fca68,_0x42d8a2);},'BvLBd':_0x358855[_0x257cba(0x245)]};_0x18d3dd&&_0x358855[_0x257cba(0x24b)](_0x36da77,_0x18d3dd),_0x2cf01f['readEntry'](),_0x2cf01f['on'](_0x358855[_0x257cba(0x214)],_0x1802f6=>{const _0x214c4c=_0x257cba;!_0x73bce8&&(_0x73bce8=_0x1802f6[_0x214c4c(0x241)]);if(/\/$/['test'](_0x1802f6[_0x214c4c(0x241)]))_0x2cf01f[_0x214c4c(0x248)]();else{const _0x9c5244=fs[_0x214c4c(0x205)](path[_0x214c4c(0x293)](_0x4e10a8,_0x1802f6[_0x214c4c(0x241)]));_0x2cf01f[_0x214c4c(0x21e)](_0x1802f6,function(_0x5cd2fa,_0x31855c){const _0x44dc3f=_0x214c4c;_0x5cd2fa&&_0x1c55f7[_0x44dc3f(0x1fb)](_0x36da77,_0x18d3dd),_0x31855c['on'](_0x1c55f7[_0x44dc3f(0x1fa)],function(){_0x9c5244['close'](),_0x2cf01f['readEntry']();}),_0x31855c['pipe'](_0x9c5244);}),_0x32981f[_0x214c4c(0x286)](_0x1802f6[_0x214c4c(0x241)],_0x73bce8)&&_0x2cf01f[_0x214c4c(0x267)]();}}),_0x2cf01f['on'](_0x358855[_0x257cba(0x29d)],_0x17eca8=>{const _0x4e8208=_0x257cba;_0x32981f[_0x4e8208(0x244)](_0x36da77,_0x17eca8);}),_0x2cf01f[_0x257cba(0x279)](_0x358855[_0x257cba(0x245)],()=>{const _0x12e643=_0x257cba,_0x5a9001={'iAxtJ':function(_0x5beb05,_0x1c7e9e){const _0xb4d7e2=a62_0x6ec0;return _0x32981f[_0xb4d7e2(0x244)](_0x5beb05,_0x1c7e9e);},'TsPku':function(_0x998f69,_0x3fa781){return _0x32981f['vvsRb'](_0x998f69,_0x3fa781);}};fs['unlink'](_0x26c641,_0x1c70de=>{const _0x4477ee=a62_0x6ec0;_0x1c70de&&logger['warn'](_0x4477ee(0x219)+_0x26c641);}),fs['chmod'](_0x4e10a8+'/'+_0x73bce8,_0x32981f[_0x12e643(0x2b0)],function(_0x381d95){const _0x44ea06=_0x12e643;_0x381d95&&_0x5a9001[_0x44ea06(0x22e)](_0x36da77,_0x381d95),_0x5a9001['TsPku'](_0x46cccd,_0x4e10a8+'/'+_0x73bce8);}),_0x2cf01f[_0x12e643(0x267)]();});});});}static['getTestFrameworkDetail'](){const _0x50082d=a62_0x17ec98;if(process[_0x50082d(0x204)][_0x50082d(0x275)])return JSON['parse'](process[_0x50082d(0x204)]['BROWSERSTACK_TEST_FRAMEWORK_DETAIL']);return this[_0x50082d(0x1f5)];}static[a62_0x17ec98(0x270)](){const _0x44ff88=a62_0x17ec98;if(process[_0x44ff88(0x204)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL'])return JSON[_0x44ff88(0x26e)](process['env']['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']);return this['automationFrameworkDetail'];}static[a62_0x17ec98(0x206)](_0x4e7056,_0x1bcbed){const _0x51944e=a62_0x17ec98,_0x354a29={'UIVZt':'4|1|0|3|2','pYwhP':function(_0x268595,_0x5f1d41){return _0x268595(_0x5f1d41);},'Glyrm':function(_0x337c57,_0x4b0ebf){return _0x337c57||_0x4b0ebf;}},_0x36d49d=_0x354a29[_0x51944e(0x284)][_0x51944e(0x28f)]('|');let _0x4a5327=0x0;while(!![]){switch(_0x36d49d[_0x4a5327++]){case'0':this[_0x51944e(0x27a)]={'name':_0x1bcbed,'version':_0x354a29[_0x51944e(0x263)](getFrameworkVersion,_0x1bcbed)};continue;case'1':this['testFrameworkDetail']={'name':_0x4e7056,'version':{[_0x4e7056]:_0x354a29[_0x51944e(0x263)](getFrameworkVersion,_0x4e7056)}};continue;case'2':process[_0x51944e(0x204)][_0x51944e(0x275)]=JSON[_0x51944e(0x255)](this[_0x51944e(0x1f5)]);continue;case'3':process[_0x51944e(0x204)][_0x51944e(0x256)]=JSON[_0x51944e(0x255)](this['automationFrameworkDetail']);continue;case'4':_0x354a29[_0x51944e(0x250)](!_0x4e7056,!_0x1bcbed)&&logger[_0x51944e(0x28c)](_0x51944e(0x297)+_0x4e7056+_0x51944e(0x20d)+_0x1bcbed);continue;}break;}}static['getHookRegistryKey'](_0xb40b4d,_0x456939){return _0xb40b4d+':'+_0x456939;}static[a62_0x17ec98(0x26a)](){const _0x360d6e=a62_0x17ec98;return process[_0x360d6e(0x20f)]+':'+threadId;}static[a62_0x17ec98(0x220)](_0x3afa5f){const _0x57fb1a=a62_0x17ec98;if(_0x3afa5f[_0x57fb1a(0x1f8)]&&_0x3afa5f[_0x57fb1a(0x1f8)]['skipSessionName'])return!![];return![];}static[a62_0x17ec98(0x28d)](_0x1df29b){const _0x4770d2=a62_0x17ec98;if(_0x1df29b[_0x4770d2(0x1f8)]&&_0x1df29b[_0x4770d2(0x1f8)][_0x4770d2(0x28a)])return!![];return![];}static['matchHookRegex'](_0x193451){const _0x8db2ca=a62_0x17ec98,_0x470a1f=new RegExp(TestFrameworkConstants[_0x8db2ca(0x22c)]);return _0x470a1f['test'](_0x193451);}static['mergeObject'](_0x6b963d,_0x135262){const _0x4ed2a6=a62_0x17ec98,_0x111b23={};_0x111b23[_0x4ed2a6(0x260)]=function(_0x1a0e6b,_0x575e34){return _0x1a0e6b!==_0x575e34;},_0x111b23[_0x4ed2a6(0x1fe)]=function(_0x1745f9,_0x16cd0d){return _0x1745f9===_0x16cd0d;},_0x111b23[_0x4ed2a6(0x24f)]=_0x4ed2a6(0x253);const _0x5db157=_0x111b23;for(const [_0xc17de1,_0x252011]of Object[_0x4ed2a6(0x291)](_0x135262)){if(_0x5db157[_0x4ed2a6(0x260)](_0x252011,null)&&_0x5db157[_0x4ed2a6(0x1fe)](typeof _0x252011,_0x5db157[_0x4ed2a6(0x24f)])&&!Array[_0x4ed2a6(0x283)](_0x252011))_0x6b963d[_0xc17de1]=this[_0x4ed2a6(0x282)](_0x6b963d[_0xc17de1]||{},_0x252011);else Array[_0x4ed2a6(0x283)](_0x252011)?_0x6b963d[_0xc17de1]=(_0x6b963d[_0xc17de1]||[])['concat'](_0x252011):_0x6b963d[_0xc17de1]=_0x252011;}return _0x6b963d;}}module[a62_0x17ec98(0x29f)]=CLIUtils;