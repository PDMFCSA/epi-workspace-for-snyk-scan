const a62_0x4277e1=a62_0x27ca;(function(_0x54bc1b,_0x3995e0){const _0xef1fde=a62_0x27ca,_0x1dd9be=_0x54bc1b();while(!![]){try{const _0x3ba7b6=parseInt(_0xef1fde(0x122))/0x1*(-parseInt(_0xef1fde(0x156))/0x2)+parseInt(_0xef1fde(0x176))/0x3*(parseInt(_0xef1fde(0x1a2))/0x4)+parseInt(_0xef1fde(0x104))/0x5*(-parseInt(_0xef1fde(0x129))/0x6)+parseInt(_0xef1fde(0x12b))/0x7+parseInt(_0xef1fde(0x1a0))/0x8*(parseInt(_0xef1fde(0x142))/0x9)+-parseInt(_0xef1fde(0x13d))/0xa+parseInt(_0xef1fde(0x12a))/0xb;if(_0x3ba7b6===_0x3995e0)break;else _0x1dd9be['push'](_0x1dd9be['shift']());}catch(_0x21e672){_0x1dd9be['push'](_0x1dd9be['shift']());}}}(a62_0x4584,0x4337b));const fs=require('fs'),os=require('os'),url=require(a62_0x4277e1(0x139)),path=require(a62_0x4277e1(0x16b)),{exec}=require(a62_0x4277e1(0x113)),{https}=require(a62_0x4277e1(0xf8)),yauzl=require('yauzl'),util=require(a62_0x4277e1(0x10a)),{getFrameworkVersion}=require(a62_0x4277e1(0x18b)),{threadId}=require(a62_0x4277e1(0x131)),PerformanceTester=require(a62_0x4277e1(0x181)),{EVENTS:PerformanceEvents}=require(a62_0x4277e1(0x17b)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require(a62_0x4277e1(0x117)),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require('../../helpers/helper'),{UPDATED_CLI_ENDPOINT}=require('../utils/constants'),{createClassLogger}=require(a62_0x4277e1(0x105)),TestFrameworkInstance=require(a62_0x4277e1(0x170)),HookState=require('./state/hookState.js'),TestFrameworkState=require(a62_0x4277e1(0x107)),AutomationFrameworkState=require(a62_0x4277e1(0x163)),TestFrameworkConstants=require('./framework/constants/testFrameworkConstants.js'),logger=createClassLogger(a62_0x4277e1(0x1b0)),{getBStackAPIUrl}=require(a62_0x4277e1(0x14e));class CLIUtils{['automationFrameworkDetail']={};[a62_0x4277e1(0x143)]={};static[a62_0x4277e1(0x19e)](){const _0x155b45=a62_0x4277e1,_0x1f35c2={};_0x1f35c2[_0x155b45(0x16f)]=function(_0x1cf435,_0x59ddef){return _0x1cf435===_0x59ddef;},_0x1f35c2['iuurR']=_0x155b45(0x127);const _0x18f612=_0x1f35c2;return _0x18f612['AjKbj'](process[_0x155b45(0x1a3)][_0x155b45(0x147)],_0x18f612[_0x155b45(0x161)]);}static[a62_0x4277e1(0x138)](){const _0x28aceb=a62_0x4277e1,_0x49e70e={};return _0x49e70e['id']=process[_0x28aceb(0x1a3)][_0x28aceb(0x147)],_0x49e70e[_0x28aceb(0x169)]=_0x28aceb(0xff)+process[_0x28aceb(0x1a3)][_0x28aceb(0x147)]+_0x28aceb(0x149),_0x49e70e;}static[a62_0x4277e1(0x12f)](){const _0x3bb965=a62_0x4277e1,_0x6aa227={'ZjYzW':function(_0x20f842,_0x47dec6){return _0x20f842(_0x47dec6);},'zeiqY':_0x3bb965(0x19a)};return _0x6aa227[_0x3bb965(0x137)](require,_0x6aa227['zeiqY'])[_0x3bb965(0x141)];}static[a62_0x4277e1(0x18c)](){const _0x36bbee=a62_0x4277e1,_0x169400={};_0x169400[_0x36bbee(0x144)]='node';const _0xcc46f3=_0x169400;return _0xcc46f3[_0x36bbee(0x144)];}static async[a62_0x4277e1(0x157)](_0x5f56d7){const _0x1e0b9f=a62_0x4277e1,_0x590b5a={'zOpjt':_0x1e0b9f(0x130),'uBHzr':function(_0x464ca3,_0x84a378){return _0x464ca3(_0x84a378);},'FEJqc':function(_0x58e7c9,_0x28d86e){return _0x58e7c9(_0x28d86e);},'OqWhG':_0x1e0b9f(0x16c)};logger[_0x1e0b9f(0x11b)](_0x590b5a['zOpjt']);const _0x7baa4c=process[_0x1e0b9f(0x1a3)][_0x1e0b9f(0x111)];if(!_0x590b5a[_0x1e0b9f(0x124)](isNullOrEmpty,_0x7baa4c))return logger[_0x1e0b9f(0x11b)]('Development\x20Cli\x20Path:\x20'+_0x7baa4c),_0x7baa4c;try{const _0x3a3b02=this['getCliDir']();if(_0x590b5a['FEJqc'](isNullOrEmpty,_0x3a3b02))throw new Error(_0x590b5a['OqWhG']);const _0x1e1a7f=this['getExistingCliPath'](_0x3a3b02),_0x2cd4ca=await this[_0x1e0b9f(0x167)](_0x1e1a7f,_0x3a3b02,_0x5f56d7);return logger['debug'](_0x1e0b9f(0x16d)+_0x2cd4ca),_0x2cd4ca;}catch(_0x1d0625){logger[_0x1e0b9f(0x11b)](_0x1e0b9f(0x18a)+util[_0x1e0b9f(0x13f)](_0x1d0625));}return null;}static async[a62_0x4277e1(0x167)](_0x4e5228,_0x1649d9,_0x5f202e){const _0x3b2598=a62_0x4277e1,_0x3e2f2e={'AkRXk':function(_0xc6e014){return _0xc6e014();},'RZBog':function(_0x795680,_0x4de203){return _0x795680(_0x4de203);},'QPTJV':function(_0x203e80,_0x2f6d57,_0x5b5f93){return _0x203e80(_0x2f6d57,_0x5b5f93);},'VQowx':_0x3b2598(0x103),'BOnKO':'url'};PerformanceTester[_0x3b2598(0x132)](PerformanceEvents[_0x3b2598(0x13c)]),logger[_0x3b2598(0x1a9)](_0x3b2598(0x168)+_0x4e5228);const _0x46f826=_0x3e2f2e[_0x3b2598(0x155)](getHostInfo),_0x2a0860={'sdk_version':CLIUtils[_0x3b2598(0x12f)](),'os':_0x46f826[_0x3b2598(0x1a5)],'os_arch':_0x46f826[_0x3b2598(0x17f)],'cli_version':'0','sdk_language':this[_0x3b2598(0x18c)]()};!_0x3e2f2e['RZBog'](isNullOrEmpty,_0x4e5228)&&(_0x2a0860[_0x3b2598(0x1ab)]=await this[_0x3b2598(0x108)](_0x4e5228+_0x3b2598(0x184)));const _0x3b800d=await this[_0x3b2598(0x100)](_0x2a0860,_0x5f202e);process[_0x3b2598(0x1a3)][_0x3b2598(0x1ac)]&&(logger[_0x3b2598(0x1a9)](_0x3b2598(0x185)+process[_0x3b2598(0x1a3)][_0x3b2598(0x1ac)]),_0x3b800d['data'][_0x3b2598(0x139)]=process[_0x3b2598(0x1a3)][_0x3b2598(0x1ac)]);if(_0x3e2f2e['QPTJV'](nestedKeyValue,_0x3b800d,[_0x3e2f2e[_0x3b2598(0x199)],_0x3e2f2e[_0x3b2598(0x191)]])){logger[_0x3b2598(0x11b)]('Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20'+_0x2a0860[_0x3b2598(0x1ab)]);const _0x336c98=await this[_0x3b2598(0x14f)](_0x3e2f2e[_0x3b2598(0x173)](nestedKeyValue,_0x3b800d,[_0x3e2f2e[_0x3b2598(0x199)],_0x3e2f2e[_0x3b2598(0x191)]]),_0x1649d9);return PerformanceTester['end'](PerformanceEvents[_0x3b2598(0x13c)]),_0x336c98;}return PerformanceTester[_0x3b2598(0x106)](PerformanceEvents[_0x3b2598(0x13c)]),_0x4e5228;}static[a62_0x4277e1(0x114)](){const _0x61549b=a62_0x4277e1,_0x3ffe81={'yuHIR':function(_0x4ac9d0,_0x3f351f){return _0x4ac9d0(_0x3f351f);},'bgmoL':_0x61549b(0x16c),'NKxoN':_0x61549b(0x188)},_0x1d31cf=this[_0x61549b(0x1a6)]();try{if(_0x3ffe81['yuHIR'](isNullOrEmpty,_0x1d31cf))throw new Error(_0x3ffe81[_0x61549b(0xfa)]);const _0x4fc8aa=path[_0x61549b(0x116)](_0x1d31cf,_0x3ffe81[_0x61549b(0xfc)]);return!fs[_0x61549b(0x10d)](_0x4fc8aa)&&_0x3ffe81[_0x61549b(0x187)](createDir,_0x4fc8aa),_0x4fc8aa;}catch(_0x1f4bb5){logger['debug']('Error\x20in\x20getting\x20writable\x20directory,\x20writableDir='+util[_0x61549b(0x13f)](_0x1f4bb5));}}static['getWritableDir'](){const _0x11dc08=a62_0x4277e1,_0x8a9b7a={'myQjw':_0x11dc08(0x15c),'sbmUN':function(_0x580cb7,_0x1c580b){return _0x580cb7(_0x1c580b);},'qjSMg':function(_0x4b5aad,_0x2b4a1a){return _0x4b5aad(_0x2b4a1a);},'vtOnh':function(_0x456947,_0x1bac19){return _0x456947(_0x1bac19);}},_0x2ddeb2=[process['env'][_0x11dc08(0x13b)],path['join'](os[_0x11dc08(0x190)](),_0x8a9b7a[_0x11dc08(0x189)]),path['join'](os[_0x11dc08(0x19b)](),_0x8a9b7a[_0x11dc08(0x189)])];for(const _0x5508c8 of _0x2ddeb2){if(_0x8a9b7a[_0x11dc08(0x158)](isNullOrEmpty,_0x5508c8))continue;try{if(fs['existsSync'](_0x5508c8)){logger['debug'](_0x11dc08(0x11c)+_0x5508c8+_0x11dc08(0x11e));if(!_0x8a9b7a[_0x11dc08(0x158)](isModifiable,_0x5508c8)){logger[_0x11dc08(0x11b)]('Setting\x20required\x20permissions\x20to\x20'+_0x5508c8);const _0x47060a=_0x8a9b7a[_0x11dc08(0x1ae)](setReadWriteExecuteAccess,_0x5508c8);if(!_0x8a9b7a['sbmUN'](isTrue,_0x47060a)){logger[_0x11dc08(0x11a)](_0x11dc08(0x192)+_0x5508c8);continue;}}}else{logger[_0x11dc08(0x11b)]('Folder\x20does\x20not\x20exist:\x20'+_0x5508c8),_0x8a9b7a['qjSMg'](createDir,_0x5508c8),logger['debug'](_0x11dc08(0x177)+_0x5508c8);const _0x460112=_0x8a9b7a[_0x11dc08(0x1ae)](setReadWriteExecuteAccess,_0x5508c8);!_0x8a9b7a[_0x11dc08(0x11d)](isTrue,_0x460112)&&logger[_0x11dc08(0x11a)](_0x11dc08(0x192)+_0x5508c8);}return _0x5508c8;}catch(_0x593d3c){logger[_0x11dc08(0x112)]('Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20'+util[_0x11dc08(0x13f)](_0x593d3c));}}return null;}static[a62_0x4277e1(0x1a4)](_0x218a10){const _0x219828=a62_0x4277e1,_0x182a30={};_0x182a30[_0x219828(0x18e)]=function(_0x2b877b,_0x114c36){return _0x2b877b>_0x114c36;};const _0x5a51ec=_0x182a30;try{if(!fs[_0x219828(0x10d)](_0x218a10)||!fs[_0x219828(0x17d)](_0x218a10)[_0x219828(0x126)]())return'';const _0x1449bd=fs[_0x219828(0x1af)](_0x218a10)[_0x219828(0x17e)](_0x17cbd0=>path['join'](_0x218a10,_0x17cbd0))['filter'](_0x5ecf83=>fs['statSync'](_0x5ecf83)['isFile']()&&path[_0x219828(0x10b)](_0x5ecf83)[_0x219828(0x13a)]('binary-'));if(_0x5a51ec[_0x219828(0x18e)](_0x1449bd['length'],0x0)){const _0x167c2a=_0x1449bd[_0x219828(0x17e)](_0x8d65d0=>({'filePath':_0x8d65d0,'mtime':fs['statSync'](_0x8d65d0)[_0x219828(0x150)]}))['reduce']((_0x4254ae,_0x2e4efa)=>{const _0x521c3f=_0x219828;if(!_0x4254ae||!_0x4254ae['mtime'])return _0x2e4efa;if(_0x5a51ec['xFDZn'](_0x2e4efa[_0x521c3f(0x150)],_0x4254ae['mtime']))return _0x2e4efa;return _0x4254ae;},{});return _0x167c2a?_0x167c2a[_0x219828(0x152)]:'';}return'';}catch(_0x12294c){return logger[_0x219828(0x112)](_0x219828(0x14b)+util[_0x219828(0x13f)](_0x12294c)),'';}}static [a62_0x4277e1(0x100)]=async(_0x47137a,_0x2cb6f5)=>{const _0x492584=a62_0x4277e1,_0x33c380={'qbPqg':function(_0x189099,_0x140098,_0x2d940e,_0x569bcb,_0x2c446e){return _0x189099(_0x140098,_0x2d940e,_0x569bcb,_0x2c446e);},'hDIOG':_0x492584(0x135)},_0x3461dd={};_0x3461dd['qs']=_0x47137a;const _0x1c41c6=await _0x33c380[_0x492584(0x171)](nodeRequest,_0x33c380[_0x492584(0x166)],UPDATED_CLI_ENDPOINT,_0x3461dd,_0x2cb6f5);return logger[_0x492584(0x11b)]('response\x20'+JSON[_0x492584(0x125)](_0x1c41c6)),_0x1c41c6;};static[a62_0x4277e1(0x108)](_0x43d461,_0x2968a2=''){const _0x25fe05=a62_0x4277e1,_0x129dd5={'HVoDd':function(_0x387b66,_0x2376c2){return _0x387b66(_0x2376c2);},'XLzRl':_0x25fe05(0x197),'ZoGKg':function(_0x1058e1,_0xe66ec5){return _0x1058e1(_0xe66ec5);},'PPwVb':function(_0x614c5c,_0x174227,_0x247b7c,_0x25762d){return _0x614c5c(_0x174227,_0x247b7c,_0x25762d);},'yFzdO':_0x25fe05(0x112)};return new Promise((_0x25ad33,_0x306656)=>{const _0x2a8acd=_0x25fe05,_0x1c6936={'TOuLO':function(_0x52a6d9,_0x194a1b){const _0x1dbdb4=a62_0x27ca;return _0x129dd5[_0x1dbdb4(0x120)](_0x52a6d9,_0x194a1b);},'pIgfR':_0x129dd5[_0x2a8acd(0x18f)]},_0x87120c={};_0x87120c[_0x2a8acd(0x14d)]=_0x2968a2,_0x87120c[_0x2a8acd(0x12e)]=0x1388;const _0x549c11=_0x129dd5[_0x2a8acd(0x16a)](exec,_0x43d461,_0x87120c,(_0x3a7fa0,_0x4a407e,_0xef3a23)=>{const _0x3434fd=_0x2a8acd;_0x3a7fa0?_0x129dd5[_0x3434fd(0x10e)](_0x25ad33,_0xef3a23[_0x3434fd(0x182)]()||_0x129dd5[_0x3434fd(0x18f)]):_0x129dd5['HVoDd'](_0x25ad33,_0x4a407e[_0x3434fd(0x182)]());});_0x549c11['on'](_0x129dd5[_0x2a8acd(0x165)],()=>{const _0x2c1bcf=_0x2a8acd;_0x1c6936[_0x2c1bcf(0x17a)](_0x25ad33,_0x1c6936[_0x2c1bcf(0x148)]);});});}static ['downloadLatestBinary']=async(_0x759ce8,_0x40c2ef)=>{const _0x375949=a62_0x4277e1,_0x50714d={'FAiIU':'Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','PfwfR':function(_0x283e6b,_0x43879b){return _0x283e6b(_0x43879b);},'jumIj':_0x375949(0x112),'XUTrq':_0x375949(0x196),'rOcSC':_0x375949(0xf9)};PerformanceTester[_0x375949(0x132)](PerformanceEvents[_0x375949(0x19d)]),logger[_0x375949(0x11b)](_0x375949(0x1b1)+_0x759ce8);try{const _0x32ec4d=url['parse'](_0x759ce8),_0x25c7b7=path[_0x375949(0x116)](_0x40c2ef,_0x50714d[_0x375949(0x194)]),_0x259be3=fs[_0x375949(0x174)](_0x25c7b7);return new Promise((_0x432e8e,_0x2e28e0)=>{const _0x39c072=_0x375949,_0x2947b5={'chRyM':_0x50714d['XUTrq'],'lZJqM':function(_0x2cd2a4,_0x37a7d7){return _0x50714d['PfwfR'](_0x2cd2a4,_0x37a7d7);}};https[_0x39c072(0x153)](_0x32ec4d,function(_0x3b287d){const _0x26ab8e=_0x39c072,_0x2da7d3={'LRTFO':_0x50714d[_0x26ab8e(0x123)],'LLKRz':function(_0x578da6,_0x484f7f){return _0x50714d['PfwfR'](_0x578da6,_0x484f7f);}},_0x1f430f=null;_0x3b287d[_0x26ab8e(0x16e)](_0x259be3),_0x3b287d['on'](_0x50714d[_0x26ab8e(0x180)],function(_0x3090b3){const _0x36fab7=_0x26ab8e;logger[_0x36fab7(0x112)](util[_0x36fab7(0x13f)](_0x2947b5[_0x36fab7(0x183)],_0x3090b3)),PerformanceTester[_0x36fab7(0x106)](PerformanceEvents[_0x36fab7(0x19d)],![],util[_0x36fab7(0x13f)](_0x3090b3)),_0x2947b5[_0x36fab7(0x118)](_0x2e28e0,_0x3090b3);}),_0x259be3['on'](_0x50714d[_0x26ab8e(0x180)],function(_0x1c4ee7){const _0x5630ea=_0x26ab8e;logger[_0x5630ea(0x112)](util[_0x5630ea(0x13f)](_0x2da7d3['LRTFO'],_0x1c4ee7)),PerformanceTester['end'](PerformanceEvents[_0x5630ea(0x19d)],![],util[_0x5630ea(0x13f)](_0x1c4ee7)),_0x2da7d3[_0x5630ea(0x12c)](_0x2e28e0,_0x1c4ee7);}),CLIUtils['downloadFileStream'](_0x259be3,_0x1f430f,_0x25c7b7,_0x40c2ef,_0x432e8e,_0x2e28e0),PerformanceTester[_0x26ab8e(0x106)](PerformanceEvents[_0x26ab8e(0x19d)]);})['on'](_0x50714d['jumIj'],function(_0x2e4382){const _0x508879=_0x39c072;logger['error'](_0x508879(0x186)+util['format'](_0x2e4382)),PerformanceTester['end'](PerformanceEvents[_0x508879(0x19d)],![],util['format'](_0x2e4382)),_0x2947b5[_0x508879(0x118)](_0x2e28e0,_0x2e4382);});});}catch(_0x5edac3){PerformanceTester[_0x375949(0x106)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x375949(0x13f)](_0x5edac3)),logger[_0x375949(0x11b)](_0x375949(0x109)+util['format'](_0x5edac3));}};static[a62_0x4277e1(0x193)](_0x3036d6,_0x47d190,_0x4c127b,_0x411540,_0x1f841b,_0x527cc9){const _0x1d01b3=a62_0x4277e1,_0x14f8e4={'KoRfo':function(_0x388f70,_0x415649){return _0x388f70(_0x415649);},'fdrKF':_0x1d01b3(0x106),'hqadf':function(_0x418fa3,_0x2408d9){return _0x418fa3(_0x2408d9);},'UeLWC':'entry','qMFeR':'error','xnDFT':function(_0x59dcbd,_0x2bc935){return _0x59dcbd===_0x2bc935;},'xyaKa':function(_0x59e253,_0x434cfb){return _0x59e253(_0x434cfb);},'AsFTm':_0x1d01b3(0x1a8),'gVrFU':_0x1d01b3(0x11f)};_0x3036d6['on'](_0x14f8e4[_0x1d01b3(0x140)],function(){const _0x5880c2=_0x1d01b3,_0xc798fb={'kufPI':function(_0x5e3700,_0x5b8d35){const _0x10c224=a62_0x27ca;return _0x14f8e4[_0x10c224(0xfe)](_0x5e3700,_0x5b8d35);},'WccJF':function(_0x28922c,_0x9af079){return _0x14f8e4['xyaKa'](_0x28922c,_0x9af079);},'Gevbc':_0x14f8e4[_0x5880c2(0x160)]},_0x1129bb={};_0x1129bb[_0x5880c2(0x145)]=!![],yauzl['open'](_0x4c127b,_0x1129bb,function(_0x21ec1f,_0x29314d){const _0x291060=_0x5880c2,_0x20053b={'WWcWA':function(_0x3513fd,_0x586a0b){return _0x14f8e4['KoRfo'](_0x3513fd,_0x586a0b);},'PeSOt':_0x14f8e4[_0x291060(0x119)],'BOATg':function(_0x3789bc,_0x3a1bf5){const _0x4b7337=_0x291060;return _0x14f8e4[_0x4b7337(0x15d)](_0x3789bc,_0x3a1bf5);}};_0x21ec1f&&_0x14f8e4['hqadf'](_0x527cc9,_0x21ec1f),_0x29314d[_0x291060(0x115)](),_0x29314d['on'](_0x14f8e4[_0x291060(0x10c)],_0x44a05d=>{const _0x31bbad=_0x291060;!_0x47d190&&(_0x47d190=_0x44a05d[_0x31bbad(0x102)]);if(/\/$/['test'](_0x44a05d[_0x31bbad(0x102)]))_0x29314d[_0x31bbad(0x115)]();else{const _0x119a8a=fs[_0x31bbad(0x174)](path[_0x31bbad(0x116)](_0x411540,_0x44a05d['fileName']));_0x29314d[_0x31bbad(0x128)](_0x44a05d,function(_0xf7da10,_0x48805d){const _0x372bd1=_0x31bbad;_0xf7da10&&_0x20053b['WWcWA'](_0x527cc9,_0x21ec1f),_0x48805d['on'](_0x20053b['PeSOt'],function(){const _0x212412=a62_0x27ca;_0x119a8a[_0x212412(0x11f)](),_0x29314d[_0x212412(0x115)]();}),_0x48805d[_0x372bd1(0x16e)](_0x119a8a);}),_0xc798fb[_0x31bbad(0x110)](_0x44a05d[_0x31bbad(0x102)],_0x47d190)&&_0x29314d[_0x31bbad(0x11f)]();}}),_0x29314d['on'](_0x14f8e4[_0x291060(0x18d)],_0xd269b5=>{const _0x4f3720=_0x291060;_0x20053b[_0x4f3720(0xfb)](_0x527cc9,_0xd269b5);}),_0x29314d[_0x291060(0x1aa)](_0x14f8e4[_0x291060(0x119)],()=>{const _0x5aab42=_0x291060,_0x41b5f2={'GyrbJ':function(_0xa2c965,_0x41de3f){const _0x45922e=a62_0x27ca;return _0xc798fb[_0x45922e(0x198)](_0xa2c965,_0x41de3f);},'otymB':function(_0x5d6171,_0x3f5828){const _0x552742=a62_0x27ca;return _0xc798fb[_0x552742(0x198)](_0x5d6171,_0x3f5828);}};fs[_0x5aab42(0x159)](_0x4c127b,_0x587015=>{const _0x32527a=_0x5aab42;_0x587015&&logger[_0x32527a(0x11a)]('Failed\x20to\x20delete\x20zip\x20file:\x20'+_0x4c127b);}),fs[_0x5aab42(0x12d)](_0x411540+'/'+_0x47d190,_0xc798fb[_0x5aab42(0x10f)],function(_0x25fa0b){const _0xbf8303=_0x5aab42;_0x25fa0b&&_0x41b5f2['GyrbJ'](_0x527cc9,_0x25fa0b),_0x41b5f2[_0xbf8303(0x195)](_0x1f841b,_0x411540+'/'+_0x47d190);}),_0x29314d['close']();});});});}static[a62_0x4277e1(0x146)](){const _0x7babb4=a62_0x4277e1;if(process[_0x7babb4(0x1a3)]['BROWSERSTACK_TEST_FRAMEWORK_DETAIL'])return JSON[_0x7babb4(0x15f)](process['env']['BROWSERSTACK_TEST_FRAMEWORK_DETAIL']);return this['testFrameworkDetail'];}static[a62_0x4277e1(0x172)](){const _0x320be6=a62_0x4277e1;if(process[_0x320be6(0x1a3)][_0x320be6(0x133)])return JSON['parse'](process['env']['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']);return this['automationFrameworkDetail'];}static['setFrameworkDetail'](_0x4bc185,_0x10c58d){const _0x42a237=a62_0x4277e1,_0x31a76d={'sSXot':_0x42a237(0xfd),'UsmtA':function(_0x70909f,_0x418df9){return _0x70909f||_0x418df9;},'LyEoq':function(_0x846261,_0x4f1704){return _0x846261(_0x4f1704);}},_0xb35d78=_0x31a76d['sSXot'][_0x42a237(0x13e)]('|');let _0x33d330=0x0;while(!![]){switch(_0xb35d78[_0x33d330++]){case'0':process[_0x42a237(0x1a3)][_0x42a237(0x133)]=JSON[_0x42a237(0x125)](this[_0x42a237(0x14c)]);continue;case'1':_0x31a76d[_0x42a237(0x175)](!_0x4bc185,!_0x10c58d)&&logger[_0x42a237(0x11b)]('Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework='+_0x4bc185+',\x20automationFramework='+_0x10c58d);continue;case'2':process[_0x42a237(0x1a3)][_0x42a237(0x1ad)]=JSON[_0x42a237(0x125)](this[_0x42a237(0x143)]);continue;case'3':this['automationFrameworkDetail']={'name':_0x10c58d,'version':_0x31a76d[_0x42a237(0x179)](getFrameworkVersion,_0x10c58d)};continue;case'4':this[_0x42a237(0x143)]={'name':_0x4bc185,'version':{[_0x4bc185]:_0x31a76d['LyEoq'](getFrameworkVersion,_0x4bc185)}};continue;}break;}}static[a62_0x4277e1(0x151)](_0x3f6532,_0x47fc3f){return _0x3f6532+':'+_0x47fc3f;}static[a62_0x4277e1(0x14a)](){const _0x1a492e=a62_0x4277e1;return process[_0x1a492e(0x15b)]+':'+threadId;}static[a62_0x4277e1(0x1a7)](_0x1f233e){const _0x8d2b5c=a62_0x4277e1;if(_0x1f233e[_0x8d2b5c(0x162)]&&_0x1f233e['testContextOptions'][_0x8d2b5c(0x19f)])return!![];return![];}static['shouldSkipSessionStatus'](_0x2ce8fb){const _0xa599d9=a62_0x4277e1;if(_0x2ce8fb['testContextOptions']&&_0x2ce8fb[_0xa599d9(0x162)][_0xa599d9(0x164)])return!![];return![];}static[a62_0x4277e1(0x15e)](_0x419456){const _0x16f89e=a62_0x4277e1,_0x3169ba=new RegExp(TestFrameworkConstants[_0x16f89e(0x17c)]);return _0x3169ba['test'](_0x419456);}static['mergeObject'](_0x34bd75,_0x4e5157){const _0x3aa6df=a62_0x4277e1,_0x5917e4={};_0x5917e4[_0x3aa6df(0x19c)]=function(_0x136ddf,_0x176f5f){return _0x136ddf!==_0x176f5f;},_0x5917e4['UUWHp']=function(_0x3da921,_0x465fdc){return _0x3da921===_0x465fdc;},_0x5917e4[_0x3aa6df(0x154)]=_0x3aa6df(0x1a1);const _0x2a4807=_0x5917e4;for(const [_0x56ea6b,_0x96acc6]of Object[_0x3aa6df(0x15a)](_0x4e5157)){if(_0x2a4807[_0x3aa6df(0x19c)](_0x96acc6,null)&&_0x2a4807[_0x3aa6df(0x101)](typeof _0x96acc6,_0x2a4807[_0x3aa6df(0x154)])&&!Array['isArray'](_0x96acc6))_0x34bd75[_0x56ea6b]=this[_0x3aa6df(0x134)](_0x34bd75[_0x56ea6b]||{},_0x96acc6);else Array[_0x3aa6df(0x121)](_0x96acc6)?_0x34bd75[_0x56ea6b]=(_0x34bd75[_0x56ea6b]||[])[_0x3aa6df(0x136)](_0x96acc6):_0x34bd75[_0x56ea6b]=_0x96acc6;}return _0x34bd75;}}module[a62_0x4277e1(0x178)]=CLIUtils;function a62_0x27ca(_0x567cd3,_0x28fb89){const _0x458421=a62_0x4584();return a62_0x27ca=function(_0x27ca36,_0x11f4a1){_0x27ca36=_0x27ca36-0xf8;let _0x570a00=_0x458421[_0x27ca36];return _0x570a00;},a62_0x27ca(_0x567cd3,_0x28fb89);}function a62_0x4584(){const _0x4887e3=['mtime','getHookRegistryKey','filePath','get','TmpqO','AkRXk','5498KluhVp','setupCliPath','sbmUN','unlink','entries','pid','.browserstack','hqadf','matchHookRegex','parse','AsFTm','iuurR','testContextOptions','./state/automationFrameworkState.js','skipSessionStatus','yFzdO','hDIOG','checkAndUpdateCli','Current\x20CLI\x20Path\x20Found:\x20','listen','PPwVb','path','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','Resolved\x20binary\x20path:\x20','pipe','AjKbj','./instances/testFrameworkInstance.js','qbPqg','getAutomationFrameworkDetail','QPTJV','createWriteStream','UsmtA','1263Qjllyh','Setting\x20required\x20permissions\x20to\x20','exports','LyEoq','TOuLO','../../helpers/performance/constants','HOOK_REGEX','statSync','map','arch','jumIj','../../helpers/performance/performance-tester.js','trim','chRyM','\x20version','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','yuHIR','cli','myQjw','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','../../helpers/test-observability/utils.js','getSdkLanguage','qMFeR','xFDZn','XLzRl','homedir','BOnKO','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','downloadFileStream','rOcSC','otymB','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','SHELL_EXECUTE_ERROR','WccJF','VQowx','../../../package.json','tmpdir','GlcIj','SDK_CLI_DOWNLOAD','isDevelopmentEnv','skipSessionName','48XCOtrv','object','1420sadQuw','env','getExistingCliPath','platform','getWritableDir','shouldSkipSessionName','0755','info','once','cli_version','BROWSERSTACK_BINARY_URL','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','qjSMg','readdirSync','CLIUtils','Downloading\x20SDK\x20binary\x20from:\x20','follow-redirects','downloaded_file.zip','bgmoL','BOATg','NKxoN','1|4|3|0|2','xnDFT','unix:/tmp/sdk-platform-','requestToUpdateCLI','UUWHp','fileName','data','125950RDqJnY','../../helpers/classLogger.js','end','./state/testFrameworkState.js','runShellCommand','Failed\x20to\x20download\x20binary,\x20Exception:\x20','util','basename','UeLWC','existsSync','HVoDd','Gevbc','kufPI','SDK_CLI_BIN_PATH','error','child_process','getCliDir','readEntry','join','../../helpers/utilities','lZJqM','fdrKF','warn','debug','Folder\x20','vtOnh','\x20already\x20exists','close','ZoGKg','isArray','122pPTLNT','FAiIU','uBHzr','stringify','isDirectory','development','openReadStream','66pglFjH','3371588EnCmqu','2704499AJaQpv','LLKRz','chmod','timeout','getSdkVersion','Configuring\x20Cli\x20path.','worker_threads','start','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','mergeObject','GET','concat','ZjYzW','getCLIParamsForDevEnv','url','startsWith','BROWSERSTACK_FILES_DIR','SDK_CLI_CHECK_UPDATE','3938310GsxtAH','split','format','gVrFU','version','658953wDtwDL','testFrameworkDetail','QdXGY','lazyEntries','getTestFrameworkDetail','BROWSERSTACK_CLI_ENV','pIgfR','.sock','getCurrentInstanceName','Error\x20while\x20reading\x20CLI\x20path:\x20','automationFrameworkDetail','cwd','../utils/apiUtilityMethods.js','downloadLatestBinary'];a62_0x4584=function(){return _0x4887e3;};return a62_0x4584();}