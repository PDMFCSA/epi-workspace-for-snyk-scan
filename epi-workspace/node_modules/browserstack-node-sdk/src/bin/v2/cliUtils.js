const a55_0x5d02ee=a55_0xe448;function a55_0xe448(_0x352976,_0x301790){const _0x45acb8=a55_0x45ac();return a55_0xe448=function(_0xe44801,_0xa95af1){_0xe44801=_0xe44801-0x68;let _0x5ac44b=_0x45acb8[_0xe44801];return _0x5ac44b;},a55_0xe448(_0x352976,_0x301790);}(function(_0xb10ae8,_0x3d32c8){const _0x5a2b1f=a55_0xe448,_0x2e2091=_0xb10ae8();while(!![]){try{const _0x578005=-parseInt(_0x5a2b1f(0xb3))/0x1*(parseInt(_0x5a2b1f(0xae))/0x2)+parseInt(_0x5a2b1f(0xbb))/0x3*(parseInt(_0x5a2b1f(0xd1))/0x4)+parseInt(_0x5a2b1f(0x104))/0x5*(parseInt(_0x5a2b1f(0xd8))/0x6)+parseInt(_0x5a2b1f(0x7a))/0x7*(parseInt(_0x5a2b1f(0xb2))/0x8)+parseInt(_0x5a2b1f(0x10e))/0x9*(-parseInt(_0x5a2b1f(0xf5))/0xa)+parseInt(_0x5a2b1f(0x118))/0xb+-parseInt(_0x5a2b1f(0x101))/0xc;if(_0x578005===_0x3d32c8)break;else _0x2e2091['push'](_0x2e2091['shift']());}catch(_0xe7a3f0){_0x2e2091['push'](_0x2e2091['shift']());}}}(a55_0x45ac,0xb7cbf));const fs=require('fs'),os=require('os'),url=require(a55_0x5d02ee(0x103)),path=require('path'),{exec}=require(a55_0x5d02ee(0x7e)),{https}=require(a55_0x5d02ee(0x83)),yauzl=require(a55_0x5d02ee(0x115)),util=require(a55_0x5d02ee(0x86)),{getFrameworkVersion}=require('../../helpers/test-observability/utils.js'),{threadId}=require(a55_0x5d02ee(0xb7)),PerformanceTester=require('../../helpers/performance/performance-tester.js'),{EVENTS:PerformanceEvents}=require('../../helpers/performance/constants'),{isNullOrEmpty,isWritable,setReadWriteAccess}=require('../../helpers/utilities'),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require('../../helpers/helper'),{BROWSERSTACK_API_URL,UPDATED_CLI_ENDPOINT}=require(a55_0x5d02ee(0x9a)),{createClassLogger}=require('../../helpers/classLogger.js'),TestFrameworkInstance=require(a55_0x5d02ee(0xd7)),HookState=require('./state/hookState.js'),TestFrameworkState=require(a55_0x5d02ee(0xed)),AutomationFrameworkState=require(a55_0x5d02ee(0xce)),TestFrameworkConstants=require('./framework/constants/testFrameworkConstants.js'),logger=createClassLogger(a55_0x5d02ee(0xb9));class CLIUtils{[a55_0x5d02ee(0x8b)]={};['testFrameworkDetail']={};static[a55_0x5d02ee(0xa4)](){const _0x29944c=a55_0x5d02ee,_0x2af154={};_0x2af154['bORzs']=function(_0x4cd87e,_0x3dabbc){return _0x4cd87e===_0x3dabbc;},_0x2af154[_0x29944c(0xe4)]=_0x29944c(0x112);const _0xb914e1=_0x2af154;return _0xb914e1['bORzs'](process[_0x29944c(0x80)][_0x29944c(0x10b)],_0xb914e1['SDdAo']);}static['getCLIParamsForDevEnv'](){const _0x3b7500=a55_0x5d02ee,_0x463e62={};return _0x463e62['id']=process[_0x3b7500(0x80)][_0x3b7500(0x10b)],_0x463e62[_0x3b7500(0xb4)]='unix:/tmp/sdk-platform-'+process['env'][_0x3b7500(0x10b)]+'.sock',_0x463e62;}static['getSdkVersion'](){const _0x350730=a55_0x5d02ee,_0x2dbc9d={'NyQMS':function(_0x3af00b,_0x3fa83a){return _0x3af00b(_0x3fa83a);},'fkfEa':_0x350730(0x71)};return _0x2dbc9d['NyQMS'](require,_0x2dbc9d['fkfEa'])[_0x350730(0x113)];}static[a55_0x5d02ee(0x6d)](){const _0x295ac4=a55_0x5d02ee,_0x3cfdfc={};_0x3cfdfc[_0x295ac4(0xe7)]='node';const _0x11db82=_0x3cfdfc;return _0x11db82[_0x295ac4(0xe7)];}static async[a55_0x5d02ee(0x79)](_0x372b21){const _0xdd9047=a55_0x5d02ee,_0x941226={'BVHGF':'Configuring\x20Cli\x20path.','WyDdo':function(_0x8d2b0e,_0x4f163a){return _0x8d2b0e(_0x4f163a);},'nKPYj':'No\x20writable\x20directory\x20available\x20for\x20the\x20CLI'};logger[_0xdd9047(0xa3)](_0x941226[_0xdd9047(0x91)]);const _0x3e250f=process[_0xdd9047(0x80)][_0xdd9047(0xeb)];if(!_0x941226[_0xdd9047(0xf2)](isNullOrEmpty,_0x3e250f))return logger[_0xdd9047(0xa3)](_0xdd9047(0xad)+_0x3e250f),_0x3e250f;try{const _0x146c66=this[_0xdd9047(0x108)]();if(_0x941226[_0xdd9047(0xf2)](isNullOrEmpty,_0x146c66))throw new Error(_0x941226[_0xdd9047(0xdd)]);const _0x391ab0=this[_0xdd9047(0xf3)](_0x146c66),_0x19a249=await this[_0xdd9047(0xc0)](_0x391ab0,_0x146c66,_0x372b21);return logger[_0xdd9047(0xa3)](_0xdd9047(0xe6)+_0x19a249),_0x19a249;}catch(_0x298176){logger[_0xdd9047(0xa3)](_0xdd9047(0x8e)+util[_0xdd9047(0xa8)](_0x298176));}return null;}static async[a55_0x5d02ee(0xc0)](_0x3c01e3,_0x4786bb,_0x4fa6ad){const _0x4736c4=a55_0x5d02ee,_0x417078={'uOUHx':function(_0x274c29){return _0x274c29();},'LeIOR':function(_0x38c441,_0x309fd3){return _0x38c441(_0x309fd3);},'TkuFj':function(_0x170ad9,_0x2de425,_0x5f5de4){return _0x170ad9(_0x2de425,_0x5f5de4);},'CynIo':'data','hNBry':_0x4736c4(0x103)};PerformanceTester['start'](PerformanceEvents[_0x4736c4(0xa0)]),logger[_0x4736c4(0x82)]('Current\x20CLI\x20Path\x20Found:\x20'+_0x3c01e3);const _0x1e9767=_0x417078[_0x4736c4(0xd4)](getHostInfo),_0x475a68={'sdk_version':CLIUtils[_0x4736c4(0x78)](),'os':_0x1e9767[_0x4736c4(0xcb)],'os_arch':_0x1e9767[_0x4736c4(0x9e)],'cli_version':'0','sdk_language':this[_0x4736c4(0x6d)]()};!_0x417078['LeIOR'](isNullOrEmpty,_0x3c01e3)&&(_0x475a68[_0x4736c4(0x88)]=await this[_0x4736c4(0x7d)](_0x3c01e3+_0x4736c4(0x9f)));const _0x5b800a=await this[_0x4736c4(0x97)](_0x475a68,_0x4fa6ad);process[_0x4736c4(0x80)][_0x4736c4(0x77)]&&(logger[_0x4736c4(0x82)]('Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20'+process['env'][_0x4736c4(0x77)]),_0x5b800a[_0x4736c4(0xfd)][_0x4736c4(0x103)]=process[_0x4736c4(0x80)][_0x4736c4(0x77)]);if(_0x417078['TkuFj'](nestedKeyValue,_0x5b800a,[_0x417078['CynIo'],_0x417078['hNBry']])){logger[_0x4736c4(0xa3)](_0x4736c4(0x6e)+_0x475a68[_0x4736c4(0x88)]);const _0x950897=await this[_0x4736c4(0xbf)](_0x417078[_0x4736c4(0xb0)](nestedKeyValue,_0x5b800a,[_0x417078['CynIo'],_0x417078[_0x4736c4(0xdf)]]),_0x4786bb);return PerformanceTester[_0x4736c4(0xc5)](PerformanceEvents[_0x4736c4(0xa0)]),_0x950897;}return PerformanceTester['end'](PerformanceEvents[_0x4736c4(0xa0)]),_0x3c01e3;}static[a55_0x5d02ee(0x108)](){const _0x3742db=a55_0x5d02ee,_0x244530={'ZuSYH':function(_0x1d286b,_0x23adb6){return _0x1d286b(_0x23adb6);},'KCemt':'No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','QCMKh':_0x3742db(0x85),'sftGh':function(_0x5aecc5,_0x4adf6d){return _0x5aecc5(_0x4adf6d);}},_0x4061f3=this[_0x3742db(0xec)]();try{if(_0x244530[_0x3742db(0x6b)](isNullOrEmpty,_0x4061f3))throw new Error(_0x244530[_0x3742db(0xe1)]);const _0x22d376=path[_0x3742db(0xb8)](_0x4061f3,_0x244530[_0x3742db(0xc6)]);return!fs[_0x3742db(0xaa)](_0x22d376)&&_0x244530['sftGh'](createDir,_0x22d376),_0x22d376;}catch(_0x485885){logger[_0x3742db(0xa3)](_0x3742db(0x92)+util[_0x3742db(0xa8)](_0x485885));}}static[a55_0x5d02ee(0xec)](){const _0x32887a=a55_0x5d02ee,_0x2d4a28={'yYckp':_0x32887a(0x114),'bzuyK':_0x32887a(0xac),'oMrWd':function(_0x425278,_0x5ef232){return _0x425278(_0x5ef232);},'Qojhk':function(_0x4a1e2b,_0x111d9c){return _0x4a1e2b(_0x111d9c);},'seqXK':function(_0x13be95,_0x4bf76e){return _0x13be95(_0x4bf76e);}},_0x11810d=[process[_0x32887a(0x80)]['BROWSERSTACK_FILES_DIR'],path[_0x32887a(0xb8)](os['homedir'](),_0x2d4a28[_0x32887a(0x87)]),path[_0x32887a(0xb8)](_0x2d4a28[_0x32887a(0x7f)],_0x2d4a28['yYckp'])];for(const _0x5daf68 of _0x11810d){if(_0x2d4a28[_0x32887a(0x9d)](isNullOrEmpty,_0x5daf68))continue;try{if(fs[_0x32887a(0xaa)](_0x5daf68)){logger[_0x32887a(0xa3)](_0x32887a(0x81)+_0x5daf68+_0x32887a(0xc1));if(!_0x2d4a28['oMrWd'](isWritable,_0x5daf68)){logger[_0x32887a(0xa3)](_0x32887a(0xda)+_0x5daf68);const _0x550600=_0x2d4a28[_0x32887a(0x9d)](setReadWriteAccess,_0x5daf68);!_0x2d4a28[_0x32887a(0x9d)](isTrue,_0x550600)&&logger[_0x32887a(0x99)](_0x32887a(0x7b)+_0x5daf68);}}else{logger[_0x32887a(0xa3)](_0x32887a(0x6f)+_0x5daf68),_0x2d4a28['oMrWd'](createDir,_0x5daf68),logger['debug']('Giving\x20write\x20permission\x20to\x20'+_0x5daf68);const _0x1c2db7=_0x2d4a28[_0x32887a(0xea)](setReadWriteAccess,_0x5daf68);!_0x2d4a28[_0x32887a(0xe2)](isTrue,_0x1c2db7)&&logger['warn'](_0x32887a(0x7b)+_0x5daf68);}return _0x5daf68;}catch(_0x10ea40){logger[_0x32887a(0xde)](_0x32887a(0x73)+util['format'](_0x10ea40));}}return null;}static['getExistingCliPath'](_0x4bfb14){const _0x31fe1e=a55_0x5d02ee,_0x7a719f={};_0x7a719f[_0x31fe1e(0xf1)]=function(_0x49ac87,_0x5e1c39){return _0x49ac87>_0x5e1c39;};const _0x464c91=_0x7a719f;try{if(!fs[_0x31fe1e(0xaa)](_0x4bfb14)||!fs[_0x31fe1e(0xa6)](_0x4bfb14)[_0x31fe1e(0xfa)]())return'';const _0x2e58b4=fs[_0x31fe1e(0xdb)](_0x4bfb14)[_0x31fe1e(0xf9)](_0x4db561=>path['join'](_0x4bfb14,_0x4db561))[_0x31fe1e(0xfe)](_0x2693cd=>fs[_0x31fe1e(0xa6)](_0x2693cd)[_0x31fe1e(0xe8)]()&&path[_0x31fe1e(0x110)](_0x2693cd)[_0x31fe1e(0xca)](_0x31fe1e(0xf4)));if(_0x464c91[_0x31fe1e(0xf1)](_0x2e58b4['length'],0x0)){const _0x4bb34b=_0x2e58b4[_0x31fe1e(0xf9)](_0xc52956=>({'filePath':_0xc52956,'mtime':fs[_0x31fe1e(0xa6)](_0xc52956)['mtime']}))['reduce']((_0x175e48,_0x1da267)=>{const _0x1c21c4=_0x31fe1e;if(!_0x175e48||!_0x175e48[_0x1c21c4(0x10d)])return _0x1da267;if(_0x464c91[_0x1c21c4(0xf1)](_0x1da267[_0x1c21c4(0x10d)],_0x175e48[_0x1c21c4(0x10d)]))return _0x1da267;return _0x175e48;},{});return _0x4bb34b?_0x4bb34b[_0x31fe1e(0x10f)]:'';}return'';}catch(_0x8b8a3){return logger[_0x31fe1e(0xde)](_0x31fe1e(0xcd)+util['format'](_0x8b8a3)),'';}}static [a55_0x5d02ee(0x97)]=async(_0x58cd77,_0x4ccf99)=>{const _0x5c6587=a55_0x5d02ee,_0x26c255={'Livjn':function(_0x2cadfb,_0xbc738e,_0x49d32f,_0x27ce1c,_0x463ac8,_0x5d0d15){return _0x2cadfb(_0xbc738e,_0x49d32f,_0x27ce1c,_0x463ac8,_0x5d0d15);},'fcTlT':_0x5c6587(0xb6)},_0x1bc02d={};_0x1bc02d['qs']=_0x58cd77;const _0xacfaea=await _0x26c255[_0x5c6587(0x116)](nodeRequest,_0x26c255['fcTlT'],UPDATED_CLI_ENDPOINT,_0x1bc02d,_0x4ccf99,BROWSERSTACK_API_URL);return logger[_0x5c6587(0xa3)](_0x5c6587(0x98)+JSON[_0x5c6587(0x9b)](_0xacfaea)),_0xacfaea;};static[a55_0x5d02ee(0x7d)](_0x40ea3d,_0x1b31e1=''){const _0x2e7fd1=a55_0x5d02ee,_0x556e56={'uOzlK':function(_0x104fb1,_0x140d59){return _0x104fb1(_0x140d59);},'qqMVd':_0x2e7fd1(0x68),'ejrGo':function(_0x24e3e3,_0x1ea80d,_0x4f651b,_0x209a3d){return _0x24e3e3(_0x1ea80d,_0x4f651b,_0x209a3d);},'PqSqF':_0x2e7fd1(0xde)};return new Promise((_0x145625,_0x2c04c7)=>{const _0x406fb9=_0x2e7fd1,_0x1eff5b={};_0x1eff5b[_0x406fb9(0xba)]=_0x1b31e1,_0x1eff5b[_0x406fb9(0xaf)]=0x1388;const _0x126a32=_0x556e56['ejrGo'](exec,_0x40ea3d,_0x1eff5b,(_0x32df05,_0x42e1f4,_0x10e1be)=>{const _0x53fba6=_0x406fb9;_0x32df05?_0x556e56[_0x53fba6(0x8f)](_0x145625,_0x10e1be[_0x53fba6(0x107)]()||_0x556e56[_0x53fba6(0xc4)]):_0x556e56[_0x53fba6(0x8f)](_0x145625,_0x42e1f4[_0x53fba6(0x107)]());});_0x126a32['on'](_0x556e56[_0x406fb9(0xc2)],()=>{_0x556e56['uOzlK'](_0x145625,_0x556e56['qqMVd']);});});}static [a55_0x5d02ee(0xbf)]=async(_0x26d870,_0x186ec1)=>{const _0x5553ed=a55_0x5d02ee,_0x16324c={'tYwMl':_0x5553ed(0x70),'OPxup':function(_0x37f7ec,_0x311902){return _0x37f7ec(_0x311902);},'ufaQN':'Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','mylvr':_0x5553ed(0xde),'SICXL':_0x5553ed(0xdc)};PerformanceTester[_0x5553ed(0xa5)](PerformanceEvents[_0x5553ed(0x72)]),logger[_0x5553ed(0xa3)]('Downloading\x20SDK\x20binary\x20from:\x20'+_0x26d870);try{const _0x42f89f=url[_0x5553ed(0x74)](_0x26d870),_0x3847b9=path['join'](_0x186ec1,_0x16324c[_0x5553ed(0xc9)]),_0x1adf87=fs['createWriteStream'](_0x3847b9);return new Promise((_0x3316c0,_0xbb5720)=>{const _0xdfdce6=_0x5553ed,_0x323218={'gFGpv':_0x16324c[_0xdfdce6(0xa1)],'dtcoe':function(_0x2df471,_0x295d3e){const _0x527bc0=_0xdfdce6;return _0x16324c[_0x527bc0(0xcf)](_0x2df471,_0x295d3e);},'KcrSS':_0x16324c[_0xdfdce6(0x75)],'ecMmY':function(_0x206d2c,_0x3c4787){return _0x16324c['OPxup'](_0x206d2c,_0x3c4787);},'WknXt':_0x16324c['mylvr']};https['get'](_0x42f89f,function(_0x3e6190){const _0x241f75=_0xdfdce6,_0x186aaf={'EzloD':_0x323218[_0x241f75(0xee)],'glhbA':function(_0x4c367b,_0x3421fe){return _0x323218['ecMmY'](_0x4c367b,_0x3421fe);}},_0x469368=null;_0x3e6190[_0x241f75(0x105)](_0x1adf87),_0x3e6190['on'](_0x323218['WknXt'],function(_0x25a31e){const _0x19be65=_0x241f75;logger[_0x19be65(0xde)](util[_0x19be65(0xa8)](_0x323218[_0x19be65(0xf0)],_0x25a31e)),PerformanceTester[_0x19be65(0xc5)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x19be65(0xa8)](_0x25a31e)),_0x323218['dtcoe'](_0xbb5720,_0x25a31e);}),_0x1adf87['on'](_0x323218[_0x241f75(0x100)],function(_0x2c8823){const _0x54f059=_0x241f75;logger[_0x54f059(0xde)](util['format'](_0x186aaf[_0x54f059(0x94)],_0x2c8823)),PerformanceTester[_0x54f059(0xc5)](PerformanceEvents[_0x54f059(0x72)],![],util[_0x54f059(0xa8)](_0x2c8823)),_0x186aaf[_0x54f059(0x8a)](_0xbb5720,_0x2c8823);}),CLIUtils[_0x241f75(0x6a)](_0x1adf87,_0x469368,_0x3847b9,_0x186ec1,_0x3316c0,_0xbb5720),PerformanceTester[_0x241f75(0xc5)](PerformanceEvents[_0x241f75(0x72)]);})['on'](_0x16324c[_0xdfdce6(0xd3)],function(_0x3ac63e){const _0x58bc2d=_0xdfdce6;logger[_0x58bc2d(0xde)](_0x58bc2d(0xd5)+util[_0x58bc2d(0xa8)](_0x3ac63e)),PerformanceTester[_0x58bc2d(0xc5)](PerformanceEvents[_0x58bc2d(0x72)],![],util['format'](_0x3ac63e)),_0x323218[_0x58bc2d(0xe9)](_0xbb5720,_0x3ac63e);});});}catch(_0x1f2f60){PerformanceTester[_0x5553ed(0xc5)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x5553ed(0xa8)](_0x1f2f60)),logger['debug'](_0x5553ed(0x9c)+util[_0x5553ed(0xa8)](_0x1f2f60));}};static[a55_0x5d02ee(0x6a)](_0x35958d,_0x5e078b,_0xe04f49,_0x53b131,_0x1fcabc,_0x63f48d){const _0x4a2cc8=a55_0x5d02ee,_0x91c312={'aQDMq':function(_0x4a03f6,_0x54fa0b){return _0x4a03f6(_0x54fa0b);},'eusPN':_0x4a2cc8(0xc5),'keRbt':function(_0x31e9c6,_0x534653){return _0x31e9c6===_0x534653;},'QRlCx':function(_0x38f210,_0x3a247c){return _0x38f210(_0x3a247c);},'PMrQE':_0x4a2cc8(0x96),'pDnWR':_0x4a2cc8(0xe0),'fZHCf':_0x4a2cc8(0xde),'irIgj':function(_0x4c0104,_0x14065e){return _0x4c0104(_0x14065e);},'iEPiv':_0x4a2cc8(0xd2)};_0x35958d['on'](_0x91c312[_0x4a2cc8(0x84)],function(){const _0x41e945=_0x4a2cc8,_0x3e4ae0={'zafzY':function(_0x3d1e7b,_0x270d61){const _0x79ff23=a55_0xe448;return _0x91c312[_0x79ff23(0x6c)](_0x3d1e7b,_0x270d61);}},_0x432bc2={};_0x432bc2[_0x41e945(0xfb)]=!![],yauzl['open'](_0xe04f49,_0x432bc2,function(_0x488140,_0x140c28){const _0x5f3ae6=_0x41e945,_0x4e871c={'aKgYr':function(_0x295e63,_0x4d69a5){const _0x25737f=a55_0xe448;return _0x91c312[_0x25737f(0x93)](_0x295e63,_0x4d69a5);},'bDrJV':_0x91c312[_0x5f3ae6(0x8c)],'eehOC':function(_0x3f9867,_0x901117){const _0x4d8dfa=_0x5f3ae6;return _0x91c312[_0x4d8dfa(0xa2)](_0x3f9867,_0x901117);},'rVMKH':function(_0x4a5ae2,_0xab8b22){return _0x91c312['aQDMq'](_0x4a5ae2,_0xab8b22);},'ydTOh':function(_0x5d28ba,_0x5c9074){return _0x91c312['QRlCx'](_0x5d28ba,_0x5c9074);},'yyaUX':_0x91c312[_0x5f3ae6(0xab)]};_0x488140&&_0x91c312[_0x5f3ae6(0x93)](_0x63f48d,_0x488140),_0x140c28[_0x5f3ae6(0xef)](),_0x140c28['on'](_0x91c312['pDnWR'],_0xd8db22=>{const _0x232a8e=_0x5f3ae6,_0x29ef3e={'ATlOs':function(_0x3b8bc5,_0x438e2b){return _0x4e871c['aKgYr'](_0x3b8bc5,_0x438e2b);},'LwXoo':_0x4e871c[_0x232a8e(0xe3)]};!_0x5e078b&&(_0x5e078b=_0xd8db22[_0x232a8e(0x117)]);if(/\/$/[_0x232a8e(0xf7)](_0xd8db22[_0x232a8e(0x117)]))_0x140c28[_0x232a8e(0xef)]();else{const _0x200285=fs['createWriteStream'](path[_0x232a8e(0xb8)](_0x53b131,_0xd8db22[_0x232a8e(0x117)]));_0x140c28[_0x232a8e(0x69)](_0xd8db22,function(_0x22e9fe,_0x37e083){const _0xf4bbb1=_0x232a8e;_0x22e9fe&&_0x29ef3e[_0xf4bbb1(0xcc)](_0x63f48d,_0x488140),_0x37e083['on'](_0x29ef3e[_0xf4bbb1(0xb5)],function(){const _0x222c6e=_0xf4bbb1;_0x200285[_0x222c6e(0xd2)](),_0x140c28[_0x222c6e(0xef)]();}),_0x37e083['pipe'](_0x200285);}),_0x4e871c['eehOC'](_0xd8db22[_0x232a8e(0x117)],_0x5e078b)&&_0x140c28['close']();}}),_0x140c28['on'](_0x91c312['fZHCf'],_0xc1387a=>{const _0xb66a59=_0x5f3ae6;_0x3e4ae0[_0xb66a59(0xa9)](_0x63f48d,_0xc1387a);}),_0x140c28[_0x5f3ae6(0xd9)](_0x91c312[_0x5f3ae6(0x8c)],()=>{const _0x46e8cc=_0x5f3ae6,_0x8d56f={'BsSKX':function(_0x1258b1,_0x1d45e4){const _0x4c85fd=a55_0xe448;return _0x4e871c[_0x4c85fd(0xe5)](_0x1258b1,_0x1d45e4);},'PRijP':function(_0x27fa86,_0x42eb33){return _0x4e871c['ydTOh'](_0x27fa86,_0x42eb33);}};fs[_0x46e8cc(0xbc)](_0xe04f49,_0x2dfa4c=>{const _0xf8a06e=_0x46e8cc;_0x2dfa4c&&logger[_0xf8a06e(0x99)](_0xf8a06e(0xbe)+_0xe04f49);}),fs[_0x46e8cc(0x95)](_0x53b131+'/'+_0x5e078b,_0x4e871c[_0x46e8cc(0xd0)],function(_0x20f304){const _0x3cf1c7=_0x46e8cc;_0x20f304&&_0x8d56f[_0x3cf1c7(0x106)](_0x63f48d,_0x20f304),_0x8d56f['PRijP'](_0x1fcabc,_0x53b131+'/'+_0x5e078b);}),_0x140c28[_0x46e8cc(0xd2)]();});});});}static[a55_0x5d02ee(0x7c)](){const _0x4c25dc=a55_0x5d02ee;if(process['env'][_0x4c25dc(0x90)])return JSON[_0x4c25dc(0x74)](process[_0x4c25dc(0x80)][_0x4c25dc(0x90)]);return this[_0x4c25dc(0xc3)];}static[a55_0x5d02ee(0x111)](){const _0x51842d=a55_0x5d02ee;if(process['env'][_0x51842d(0xfc)])return JSON['parse'](process[_0x51842d(0x80)][_0x51842d(0xfc)]);return this[_0x51842d(0x8b)];}static['setFrameworkDetail'](_0x2b8965,_0x245e9e){const _0x205043=a55_0x5d02ee,_0x56c32a={'PwvpO':_0x205043(0x89),'swHiq':function(_0x3ab15b,_0xa04352){return _0x3ab15b(_0xa04352);},'FgowY':function(_0x539863,_0x11bb53){return _0x539863||_0x11bb53;},'vNCHF':function(_0x1a4e9b,_0x172342){return _0x1a4e9b(_0x172342);}},_0x1cef91=_0x56c32a[_0x205043(0xc8)]['split']('|');let _0x5bcbfb=0x0;while(!![]){switch(_0x1cef91[_0x5bcbfb++]){case'0':this[_0x205043(0x8b)]={'name':_0x245e9e,'version':_0x56c32a[_0x205043(0xd6)](getFrameworkVersion,_0x245e9e)};continue;case'1':process['env'][_0x205043(0x90)]=JSON[_0x205043(0x9b)](this['testFrameworkDetail']);continue;case'2':_0x56c32a[_0x205043(0xbd)](!_0x2b8965,!_0x245e9e)&&logger['debug'](_0x205043(0xc7)+_0x2b8965+',\x20automationFramework='+_0x245e9e);continue;case'3':this[_0x205043(0xc3)]={'name':_0x2b8965,'version':{[_0x2b8965]:_0x56c32a[_0x205043(0xf6)](getFrameworkVersion,_0x2b8965)}};continue;case'4':process[_0x205043(0x80)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']=JSON[_0x205043(0x9b)](this[_0x205043(0x8b)]);continue;}break;}}static[a55_0x5d02ee(0x8d)](_0x2e513a,_0x2e242d){return _0x2e513a+':'+_0x2e242d;}static[a55_0x5d02ee(0xb1)](){const _0x5494a4=a55_0x5d02ee;return process[_0x5494a4(0xf8)]+':'+threadId;}static[a55_0x5d02ee(0x10a)](_0x5e0095){const _0x4c724f=a55_0x5d02ee;if(_0x5e0095['testContextOptions']&&_0x5e0095['testContextOptions'][_0x4c724f(0x10c)])return!![];return![];}static[a55_0x5d02ee(0xff)](_0x47b60a){const _0x16cbc6=a55_0x5d02ee;if(_0x47b60a[_0x16cbc6(0x102)]&&_0x47b60a[_0x16cbc6(0x102)]['skipSessionStatus'])return!![];return![];}static[a55_0x5d02ee(0xa7)](_0x48477d){const _0x1a669d=a55_0x5d02ee,_0x4b5a2c=new RegExp(TestFrameworkConstants[_0x1a669d(0x109)]);return _0x4b5a2c[_0x1a669d(0xf7)](_0x48477d);}}function a55_0x45ac(){const _0x4d1e08=['format','zafzY','existsSync','PMrQE','tmp','Development\x20Cli\x20Path:\x20','1228PPZflP','timeout','TkuFj','getCurrentInstanceName','628000lqEViN','1043iPfLiY','listen','LwXoo','GET','worker_threads','join','CLIUtils','cwd','132843CjKuHJ','unlink','FgowY','Failed\x20to\x20delete\x20zip\x20file:\x20','downloadLatestBinary','checkAndUpdateCli','\x20already\x20exist','PqSqF','testFrameworkDetail','qqMVd','end','QCMKh','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','PwvpO','SICXL','startsWith','platform','ATlOs','Error\x20while\x20reading\x20CLI\x20path:\x20','./state/automationFrameworkState.js','OPxup','yyaUX','4LSNsJR','close','mylvr','uOUHx','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','swHiq','./instances/testFrameworkInstance.js','246LMglYm','once','Giving\x20write\x20permission\x20to\x20','readdirSync','downloaded_file.zip','nKPYj','error','hNBry','entry','KCemt','seqXK','bDrJV','SDdAo','rVMKH','Resolved\x20binary\x20path:\x20','JvKLt','isFile','dtcoe','Qojhk','SDK_CLI_BIN_PATH','getWritableDir','./state/testFrameworkState.js','KcrSS','readEntry','gFGpv','MNUvn','WyDdo','getExistingCliPath','binary-','280aZbPVT','vNCHF','test','pid','map','isDirectory','lazyEntries','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','data','filter','shouldSkipSessionStatus','WknXt','2274600GUJmuo','testContextOptions','url','62360iNJHDJ','pipe','BsSKX','trim','getCliDir','HOOK_REGEX','shouldSkipSessionName','BROWSERSTACK_CLI_ENV','skipSessionName','mtime','180612akIHbg','filePath','basename','getAutomationFrameworkDetail','development','version','.browserstack','yauzl','Livjn','fileName','7117594XWiSPH','SHELL_EXECUTE_ERROR','openReadStream','downloadFileStream','ZuSYH','irIgj','getSdkLanguage','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','File\x20does\x20not\x20exist:\x20','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','../../../package.json','SDK_CLI_DOWNLOAD','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','parse','ufaQN','exports','BROWSERSTACK_BINARY_URL','getSdkVersion','setupCliPath','84sWDNVU','Unable\x20to\x20provide\x20write\x20permission\x20to\x20','getTestFrameworkDetail','runShellCommand','child_process','bzuyK','env','File\x20','info','follow-redirects','iEPiv','cli','util','yYckp','cli_version','2|3|0|4|1','glhbA','automationFrameworkDetail','eusPN','getHookRegistryKey','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','uOzlK','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','BVHGF','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','aQDMq','EzloD','chmod','0755','requestToUpdateCLI','response\x20','warn','../utils/constants','stringify','Failed\x20to\x20download\x20binary,\x20Exception:\x20','oMrWd','arch','\x20version','SDK_CLI_CHECK_UPDATE','tYwMl','keRbt','debug','isDevelopmentEnv','start','statSync','matchHookRegex'];a55_0x45ac=function(){return _0x4d1e08;};return a55_0x45ac();}module[a55_0x5d02ee(0x76)]=CLIUtils;