const a60_0xa32b39=a60_0x2744;function a60_0x2744(_0x1bd00e,_0xb8c60e){const _0x27130b=a60_0x2713();return a60_0x2744=function(_0x2744fc,_0x5e61d2){_0x2744fc=_0x2744fc-0x1a0;let _0x1d465b=_0x27130b[_0x2744fc];return _0x1d465b;},a60_0x2744(_0x1bd00e,_0xb8c60e);}(function(_0x4bf90,_0x528811){const _0x51a0d6=a60_0x2744,_0x1f81a7=_0x4bf90();while(!![]){try{const _0x284272=parseInt(_0x51a0d6(0x237))/0x1*(parseInt(_0x51a0d6(0x234))/0x2)+-parseInt(_0x51a0d6(0x25b))/0x3*(parseInt(_0x51a0d6(0x1af))/0x4)+-parseInt(_0x51a0d6(0x21e))/0x5+-parseInt(_0x51a0d6(0x206))/0x6*(parseInt(_0x51a0d6(0x24a))/0x7)+parseInt(_0x51a0d6(0x238))/0x8*(parseInt(_0x51a0d6(0x23d))/0x9)+-parseInt(_0x51a0d6(0x1e3))/0xa*(-parseInt(_0x51a0d6(0x20a))/0xb)+-parseInt(_0x51a0d6(0x1f9))/0xc;if(_0x284272===_0x528811)break;else _0x1f81a7['push'](_0x1f81a7['shift']());}catch(_0x42bbf1){_0x1f81a7['push'](_0x1f81a7['shift']());}}}(a60_0x2713,0x3311c));const fs=require('fs'),os=require('os'),url=require('url'),path=require(a60_0xa32b39(0x1ff)),{exec}=require('child_process'),{https}=require(a60_0xa32b39(0x25c)),yauzl=require(a60_0xa32b39(0x230)),util=require(a60_0xa32b39(0x245)),{getFrameworkVersion}=require(a60_0xa32b39(0x1e1)),{threadId}=require(a60_0xa32b39(0x1fd)),PerformanceTester=require(a60_0xa32b39(0x232)),{EVENTS:PerformanceEvents}=require(a60_0xa32b39(0x1ce)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require(a60_0xa32b39(0x253)),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a60_0xa32b39(0x240)),{BROWSERSTACK_API_URL,UPDATED_CLI_ENDPOINT}=require(a60_0xa32b39(0x24e)),{createClassLogger}=require(a60_0xa32b39(0x233)),TestFrameworkInstance=require(a60_0xa32b39(0x1cf)),HookState=require('./state/hookState.js'),TestFrameworkState=require(a60_0xa32b39(0x257)),AutomationFrameworkState=require(a60_0xa32b39(0x1b1)),TestFrameworkConstants=require(a60_0xa32b39(0x20e)),logger=createClassLogger(a60_0xa32b39(0x223));class CLIUtils{[a60_0xa32b39(0x1cc)]={};['testFrameworkDetail']={};static[a60_0xa32b39(0x1f0)](){const _0x36997c=a60_0xa32b39,_0x144b08={};_0x144b08[_0x36997c(0x1a7)]=function(_0x426d4c,_0x4f06ea){return _0x426d4c===_0x4f06ea;},_0x144b08[_0x36997c(0x1f3)]='development';const _0xd3096c=_0x144b08;return _0xd3096c['cPPPW'](process[_0x36997c(0x205)][_0x36997c(0x228)],_0xd3096c[_0x36997c(0x1f3)]);}static[a60_0xa32b39(0x1a4)](){const _0x47c1d6=a60_0xa32b39,_0x2d3fa0={};return _0x2d3fa0['id']=process[_0x47c1d6(0x205)][_0x47c1d6(0x228)],_0x2d3fa0['listen']=_0x47c1d6(0x1b2)+process[_0x47c1d6(0x205)]['BROWSERSTACK_CLI_ENV']+'.sock',_0x2d3fa0;}static['getSdkVersion'](){const _0x269306=a60_0xa32b39,_0x14caf8={'XsOYo':function(_0x8b0ad4,_0x5b367c){return _0x8b0ad4(_0x5b367c);},'ahSwe':'../../../package.json'};return _0x14caf8[_0x269306(0x1d9)](require,_0x14caf8['ahSwe'])[_0x269306(0x213)];}static[a60_0xa32b39(0x201)](){const _0x983be2=a60_0xa32b39,_0x5ac337={};_0x5ac337[_0x983be2(0x219)]='node';const _0x163d87=_0x5ac337;return _0x163d87['XARwT'];}static async['setupCliPath'](_0x15053b){const _0x2c876d=a60_0xa32b39,_0x3c4442={'MQYPO':_0x2c876d(0x1fa),'XdYtn':function(_0x54f8b9,_0x4614fc){return _0x54f8b9(_0x4614fc);},'XaInG':function(_0x4a88db,_0x42665b){return _0x4a88db(_0x42665b);},'bAxXV':_0x2c876d(0x227)};logger[_0x2c876d(0x222)](_0x3c4442[_0x2c876d(0x23f)]);const _0x31fb5e=process['env'][_0x2c876d(0x1a8)];if(!_0x3c4442[_0x2c876d(0x200)](isNullOrEmpty,_0x31fb5e))return logger[_0x2c876d(0x222)](_0x2c876d(0x1be)+_0x31fb5e),_0x31fb5e;try{const _0x27c883=this['getCliDir']();if(_0x3c4442[_0x2c876d(0x1c6)](isNullOrEmpty,_0x27c883))throw new Error(_0x3c4442[_0x2c876d(0x1dd)]);const _0x4b5006=this[_0x2c876d(0x1dc)](_0x27c883),_0x329813=await this[_0x2c876d(0x1a3)](_0x4b5006,_0x27c883,_0x15053b);return logger[_0x2c876d(0x222)](_0x2c876d(0x1c1)+_0x329813),_0x329813;}catch(_0x38d39e){logger['debug'](_0x2c876d(0x1d7)+util[_0x2c876d(0x1de)](_0x38d39e));}return null;}static async[a60_0xa32b39(0x1a3)](_0x5b815d,_0x3b79f8,_0x541e55){const _0x2813ae=a60_0xa32b39,_0x306223={'sXPOS':function(_0x27eb64){return _0x27eb64();},'JCiEA':function(_0x56b05d,_0x5cb1c1){return _0x56b05d(_0x5cb1c1);},'wulyG':function(_0x458ea0,_0x2a82b4,_0x6a09b1){return _0x458ea0(_0x2a82b4,_0x6a09b1);},'HJupm':'data','CIxQI':_0x2813ae(0x1ee)};PerformanceTester[_0x2813ae(0x22c)](PerformanceEvents[_0x2813ae(0x224)]),logger[_0x2813ae(0x21b)](_0x2813ae(0x21a)+_0x5b815d);const _0x3f9258=_0x306223[_0x2813ae(0x1b0)](getHostInfo),_0x494062={'sdk_version':CLIUtils[_0x2813ae(0x212)](),'os':_0x3f9258[_0x2813ae(0x20c)],'os_arch':_0x3f9258['arch'],'cli_version':'0','sdk_language':this[_0x2813ae(0x201)]()};!_0x306223[_0x2813ae(0x236)](isNullOrEmpty,_0x5b815d)&&(_0x494062[_0x2813ae(0x21f)]=await this[_0x2813ae(0x1fe)](_0x5b815d+_0x2813ae(0x1d3)));const _0x15e321=await this['requestToUpdateCLI'](_0x494062,_0x541e55);process[_0x2813ae(0x205)][_0x2813ae(0x1e9)]&&(logger[_0x2813ae(0x21b)]('Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20'+process[_0x2813ae(0x205)]['BROWSERSTACK_BINARY_URL']),_0x15e321[_0x2813ae(0x1b4)][_0x2813ae(0x1ee)]=process[_0x2813ae(0x205)][_0x2813ae(0x1e9)]);if(_0x306223[_0x2813ae(0x1b8)](nestedKeyValue,_0x15e321,[_0x306223[_0x2813ae(0x1ed)],_0x306223[_0x2813ae(0x239)]])){logger[_0x2813ae(0x222)](_0x2813ae(0x1a2)+_0x494062[_0x2813ae(0x21f)]);const _0x13438d=await this[_0x2813ae(0x1d4)](_0x306223[_0x2813ae(0x1b8)](nestedKeyValue,_0x15e321,[_0x306223[_0x2813ae(0x1ed)],_0x306223[_0x2813ae(0x239)]]),_0x3b79f8);return PerformanceTester['end'](PerformanceEvents[_0x2813ae(0x224)]),_0x13438d;}return PerformanceTester['end'](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x5b815d;}static[a60_0xa32b39(0x231)](){const _0x181225=a60_0xa32b39,_0x38e446={'qdEnT':function(_0x251832,_0x148e87){return _0x251832(_0x148e87);},'YrNDa':_0x181225(0x227),'uNCAf':'cli'},_0x1895d2=this[_0x181225(0x1ec)]();try{if(_0x38e446[_0x181225(0x226)](isNullOrEmpty,_0x1895d2))throw new Error(_0x38e446[_0x181225(0x25d)]);const _0x159f13=path[_0x181225(0x1fc)](_0x1895d2,_0x38e446['uNCAf']);return!fs[_0x181225(0x229)](_0x159f13)&&_0x38e446[_0x181225(0x226)](createDir,_0x159f13),_0x159f13;}catch(_0x331cf0){logger[_0x181225(0x222)](_0x181225(0x1bb)+util['format'](_0x331cf0));}}static[a60_0xa32b39(0x1ec)](){const _0x2d33fd=a60_0xa32b39,_0x13214f={'vjNma':'.browserstack','ihXXr':function(_0x3cb696,_0x261a4f){return _0x3cb696(_0x261a4f);},'AfjsD':function(_0x26104d,_0x5ebd96){return _0x26104d(_0x5ebd96);},'TYKQm':function(_0x372356,_0x1537e8){return _0x372356(_0x1537e8);}},_0x1bd955=[process['env'][_0x2d33fd(0x1fb)],path['join'](os['homedir'](),_0x13214f[_0x2d33fd(0x22d)]),path[_0x2d33fd(0x1fc)](os[_0x2d33fd(0x20d)](),_0x13214f['vjNma'])];for(const _0x236528 of _0x1bd955){if(_0x13214f[_0x2d33fd(0x259)](isNullOrEmpty,_0x236528))continue;try{if(fs[_0x2d33fd(0x229)](_0x236528)){logger[_0x2d33fd(0x222)](_0x2d33fd(0x1a0)+_0x236528+_0x2d33fd(0x214));if(!_0x13214f['ihXXr'](isModifiable,_0x236528)){logger[_0x2d33fd(0x222)]('Setting\x20required\x20permissions\x20to\x20'+_0x236528);const _0x2fa4b3=_0x13214f['AfjsD'](setReadWriteExecuteAccess,_0x236528);if(!_0x13214f[_0x2d33fd(0x1f2)](isTrue,_0x2fa4b3)){logger[_0x2d33fd(0x24f)](_0x2d33fd(0x1d6)+_0x236528);continue;}}}else{logger[_0x2d33fd(0x222)](_0x2d33fd(0x1b5)+_0x236528),_0x13214f['TYKQm'](createDir,_0x236528),logger[_0x2d33fd(0x222)](_0x2d33fd(0x242)+_0x236528);const _0x26b3f1=_0x13214f[_0x2d33fd(0x259)](setReadWriteExecuteAccess,_0x236528);!_0x13214f[_0x2d33fd(0x1f2)](isTrue,_0x26b3f1)&&logger[_0x2d33fd(0x24f)]('Unable\x20to\x20set\x20required\x20permissions\x20to\x20'+_0x236528);}return _0x236528;}catch(_0x5781ac){logger[_0x2d33fd(0x1a5)]('Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20'+util[_0x2d33fd(0x1de)](_0x5781ac));}}return null;}static['getExistingCliPath'](_0x823a8e){const _0x33466e=a60_0xa32b39,_0x13b98a={};_0x13b98a[_0x33466e(0x249)]=function(_0x4adeaf,_0x80d8a3){return _0x4adeaf>_0x80d8a3;},_0x13b98a[_0x33466e(0x1c7)]=function(_0x279c18,_0x193138){return _0x279c18>_0x193138;};const _0x5a89ef=_0x13b98a;try{if(!fs['existsSync'](_0x823a8e)||!fs[_0x33466e(0x1cb)](_0x823a8e)[_0x33466e(0x203)]())return'';const _0x18e5bc=fs[_0x33466e(0x1a6)](_0x823a8e)[_0x33466e(0x210)](_0xa2309d=>path['join'](_0x823a8e,_0xa2309d))[_0x33466e(0x1e7)](_0x2c367f=>fs[_0x33466e(0x1cb)](_0x2c367f)[_0x33466e(0x1e8)]()&&path[_0x33466e(0x1b7)](_0x2c367f)['startsWith'](_0x33466e(0x1c4)));if(_0x5a89ef[_0x33466e(0x1c7)](_0x18e5bc[_0x33466e(0x255)],0x0)){const _0x488cb0=_0x18e5bc[_0x33466e(0x210)](_0x15d0dd=>({'filePath':_0x15d0dd,'mtime':fs[_0x33466e(0x1cb)](_0x15d0dd)['mtime']}))[_0x33466e(0x247)]((_0x23aed9,_0x15397d)=>{const _0x80f429=_0x33466e;if(!_0x23aed9||!_0x23aed9[_0x80f429(0x1ab)])return _0x15397d;if(_0x5a89ef[_0x80f429(0x249)](_0x15397d[_0x80f429(0x1ab)],_0x23aed9['mtime']))return _0x15397d;return _0x23aed9;},{});return _0x488cb0?_0x488cb0[_0x33466e(0x221)]:'';}return'';}catch(_0x3306a4){return logger[_0x33466e(0x1a5)](_0x33466e(0x204)+util['format'](_0x3306a4)),'';}}static [a60_0xa32b39(0x244)]=async(_0x31aa5e,_0x2e0ae5)=>{const _0x22538b=a60_0xa32b39,_0x1349b8={'FtToR':function(_0x6a689a,_0x586892,_0x1ed78b,_0x146a67,_0x4ecfb1,_0x823733){return _0x6a689a(_0x586892,_0x1ed78b,_0x146a67,_0x4ecfb1,_0x823733);},'nFkvB':_0x22538b(0x218)},_0x2a5bb1={};_0x2a5bb1['qs']=_0x31aa5e;const _0x1fb960=await _0x1349b8[_0x22538b(0x235)](nodeRequest,_0x1349b8[_0x22538b(0x22e)],UPDATED_CLI_ENDPOINT,_0x2a5bb1,_0x2e0ae5,BROWSERSTACK_API_URL);return logger['debug'](_0x22538b(0x1ad)+JSON[_0x22538b(0x1f1)](_0x1fb960)),_0x1fb960;};static[a60_0xa32b39(0x1fe)](_0x3a7667,_0xcf7b17=''){const _0x36f68b=a60_0xa32b39,_0x31f90b={'AdSGk':function(_0x9a47e2,_0x5f57f4){return _0x9a47e2(_0x5f57f4);},'mgxcZ':'SHELL_EXECUTE_ERROR','ECPkV':function(_0x30f599,_0x1c2ac6){return _0x30f599(_0x1c2ac6);},'zmHAv':function(_0x40c13f,_0x2c5e17,_0x8a61b0,_0x507dae){return _0x40c13f(_0x2c5e17,_0x8a61b0,_0x507dae);},'YuVdZ':_0x36f68b(0x1a5)};return new Promise((_0x4792b3,_0x37f54a)=>{const _0x597145=_0x36f68b,_0xb89f82={'zjtXp':function(_0x1def69,_0x5d2e3a){const _0x514540=a60_0x2744;return _0x31f90b[_0x514540(0x1a1)](_0x1def69,_0x5d2e3a);},'Whzjo':_0x31f90b['mgxcZ']},_0x317406={};_0x317406[_0x597145(0x1b6)]=_0xcf7b17,_0x317406[_0x597145(0x25a)]=0x1388;const _0xdd5480=_0x31f90b['zmHAv'](exec,_0x3a7667,_0x317406,(_0x1fcf31,_0x21f2d2,_0xac2b4b)=>{const _0x43c536=_0x597145;_0x1fcf31?_0x31f90b[_0x43c536(0x20b)](_0x4792b3,_0xac2b4b[_0x43c536(0x209)]()||_0x31f90b[_0x43c536(0x256)]):_0x31f90b[_0x43c536(0x1a1)](_0x4792b3,_0x21f2d2[_0x43c536(0x209)]());});_0xdd5480['on'](_0x31f90b[_0x597145(0x22a)],()=>{const _0x797173=_0x597145;_0xb89f82[_0x797173(0x1f7)](_0x4792b3,_0xb89f82[_0x797173(0x22b)]);});});}static [a60_0xa32b39(0x1d4)]=async(_0x57e845,_0x326374)=>{const _0x53e446=a60_0xa32b39,_0x51acf4={'tKwJw':function(_0x4ec55a,_0x6b6b85){return _0x4ec55a(_0x6b6b85);},'HrQAI':_0x53e446(0x20f),'JrPgB':function(_0x452226,_0x6cbbb1){return _0x452226(_0x6cbbb1);},'nuHuU':_0x53e446(0x1c5),'JhpcM':function(_0x5deef3,_0x4bb718){return _0x5deef3(_0x4bb718);},'kWzvM':_0x53e446(0x1a5),'KByfG':_0x53e446(0x1ca)};PerformanceTester[_0x53e446(0x22c)](PerformanceEvents[_0x53e446(0x1e4)]),logger[_0x53e446(0x222)](_0x53e446(0x23c)+_0x57e845);try{const _0x5d2cd6=url[_0x53e446(0x1b3)](_0x57e845),_0x246659=path[_0x53e446(0x1fc)](_0x326374,_0x51acf4[_0x53e446(0x1bf)]),_0x5d83a8=fs[_0x53e446(0x23b)](_0x246659);return new Promise((_0x5b0ec7,_0x5e8bd2)=>{const _0x500e35=_0x53e446,_0x4bdf53={'phSjS':_0x51acf4[_0x500e35(0x1d1)],'FShCz':function(_0x288869,_0x4f848b){const _0x8c5468=_0x500e35;return _0x51acf4[_0x8c5468(0x1bc)](_0x288869,_0x4f848b);},'JPRhM':_0x51acf4[_0x500e35(0x207)],'lssDa':function(_0x477291,_0x5e7e38){return _0x51acf4['JhpcM'](_0x477291,_0x5e7e38);},'qCCuP':_0x51acf4[_0x500e35(0x252)]};https[_0x500e35(0x1aa)](_0x5d2cd6,function(_0xe34b68){const _0x311310=_0x500e35,_0x39f275={'KhNFX':_0x4bdf53[_0x311310(0x1df)],'sZRwW':function(_0x5db42e,_0x49b4ba){const _0x3d32a7=_0x311310;return _0x4bdf53[_0x3d32a7(0x24d)](_0x5db42e,_0x49b4ba);}},_0x312644=null;_0xe34b68['pipe'](_0x5d83a8),_0xe34b68['on'](_0x4bdf53['qCCuP'],function(_0xb0bf67){const _0x3ac64d=_0x311310;logger[_0x3ac64d(0x1a5)](util[_0x3ac64d(0x1de)](_0x39f275[_0x3ac64d(0x1e2)],_0xb0bf67)),PerformanceTester[_0x3ac64d(0x225)](PerformanceEvents[_0x3ac64d(0x1e4)],![],util[_0x3ac64d(0x1de)](_0xb0bf67)),_0x39f275[_0x3ac64d(0x1f8)](_0x5e8bd2,_0xb0bf67);}),_0x5d83a8['on'](_0x4bdf53[_0x311310(0x250)],function(_0x464380){const _0x405935=_0x311310;logger['error'](util['format'](_0x4bdf53[_0x405935(0x24c)],_0x464380)),PerformanceTester[_0x405935(0x225)](PerformanceEvents[_0x405935(0x1e4)],![],util['format'](_0x464380)),_0x4bdf53[_0x405935(0x215)](_0x5e8bd2,_0x464380);}),CLIUtils[_0x311310(0x1bd)](_0x5d83a8,_0x312644,_0x246659,_0x326374,_0x5b0ec7,_0x5e8bd2),PerformanceTester[_0x311310(0x225)](PerformanceEvents[_0x311310(0x1e4)]);})['on'](_0x51acf4[_0x500e35(0x252)],function(_0x337418){const _0x5c0592=_0x500e35;logger[_0x5c0592(0x1a5)](_0x5c0592(0x23a)+util['format'](_0x337418)),PerformanceTester[_0x5c0592(0x225)](PerformanceEvents[_0x5c0592(0x1e4)],![],util[_0x5c0592(0x1de)](_0x337418)),_0x51acf4['tKwJw'](_0x5e8bd2,_0x337418);});});}catch(_0x58f3a4){PerformanceTester[_0x53e446(0x225)](PerformanceEvents[_0x53e446(0x1e4)],![],util[_0x53e446(0x1de)](_0x58f3a4)),logger['debug']('Failed\x20to\x20download\x20binary,\x20Exception:\x20'+util[_0x53e446(0x1de)](_0x58f3a4));}};static[a60_0xa32b39(0x1bd)](_0x355881,_0x187846,_0x517f76,_0x1650af,_0x2f4fc0,_0x28d9dd){const _0x2caefb=a60_0xa32b39,_0x5879b1={'UIIEg':_0x2caefb(0x23e),'sIhZZ':function(_0x4d3279,_0x57f0b2){return _0x4d3279(_0x57f0b2);},'lzjsh':_0x2caefb(0x225),'vVfzA':function(_0x17f285,_0x1a30cc){return _0x17f285===_0x1a30cc;},'jrFYO':function(_0x4e97a0,_0x381914){return _0x4e97a0(_0x381914);},'rtxel':_0x2caefb(0x254),'FeQjg':_0x2caefb(0x1a5),'KXaXY':_0x2caefb(0x217)};_0x355881['on'](_0x5879b1[_0x2caefb(0x1f5)],function(){const _0x44b0de=_0x2caefb,_0x4aecdd={'IDabp':_0x5879b1['UIIEg'],'SbiMI':function(_0x50d1fb,_0x466e17){return _0x5879b1['sIhZZ'](_0x50d1fb,_0x466e17);},'BIYrb':_0x5879b1[_0x44b0de(0x1b9)],'sZsAg':function(_0x4cca38,_0xec7372){const _0xa44bda=_0x44b0de;return _0x5879b1[_0xa44bda(0x1a9)](_0x4cca38,_0xec7372);},'vZqYn':function(_0x31174d,_0x58c713){const _0x27df4c=_0x44b0de;return _0x5879b1[_0x27df4c(0x1ba)](_0x31174d,_0x58c713);},'iiZRd':function(_0x4572e2,_0x2c6c3e){const _0x2628de=_0x44b0de;return _0x5879b1[_0x2628de(0x1c8)](_0x4572e2,_0x2c6c3e);},'NMOKo':_0x5879b1[_0x44b0de(0x21c)],'mXDGw':_0x5879b1[_0x44b0de(0x220)]},_0x32d291={};_0x32d291['lazyEntries']=!![],yauzl[_0x44b0de(0x1e6)](_0x517f76,_0x32d291,function(_0x5f299f,_0x3be9da){const _0x372764=_0x44b0de,_0x5cf502={'vGaCL':function(_0x5e8045,_0x23cd73){const _0x1d323f=a60_0x2744;return _0x4aecdd[_0x1d323f(0x22f)](_0x5e8045,_0x23cd73);},'yjfew':_0x4aecdd[_0x372764(0x1d8)],'SsflR':function(_0xdbcb3d,_0x43e314){const _0x4f74c8=_0x372764;return _0x4aecdd[_0x4f74c8(0x1ef)](_0xdbcb3d,_0x43e314);},'trEQQ':function(_0x311178,_0x14d871){const _0x3268f6=_0x372764;return _0x4aecdd[_0x3268f6(0x22f)](_0x311178,_0x14d871);},'BsOPx':function(_0x49a700,_0x1472e8){const _0x2f8e61=_0x372764;return _0x4aecdd[_0x2f8e61(0x1d5)](_0x49a700,_0x1472e8);}};_0x5f299f&&_0x4aecdd[_0x372764(0x1d0)](_0x28d9dd,_0x5f299f),_0x3be9da[_0x372764(0x1ac)](),_0x3be9da['on'](_0x4aecdd['NMOKo'],_0x2c4c38=>{const _0x47e536=_0x372764,_0xbb3554={'VPujB':function(_0x2636e2,_0x117471){const _0x130a52=a60_0x2744;return _0x5cf502[_0x130a52(0x1c0)](_0x2636e2,_0x117471);},'QkSyH':_0x5cf502[_0x47e536(0x1e0)]};!_0x187846&&(_0x187846=_0x2c4c38[_0x47e536(0x24b)]);if(/\/$/[_0x47e536(0x258)](_0x2c4c38[_0x47e536(0x24b)]))_0x3be9da['readEntry']();else{const _0x380afb=fs[_0x47e536(0x23b)](path['join'](_0x1650af,_0x2c4c38[_0x47e536(0x24b)]));_0x3be9da[_0x47e536(0x1eb)](_0x2c4c38,function(_0x5aea4e,_0x3a6ce4){_0x5aea4e&&_0xbb3554['VPujB'](_0x28d9dd,_0x5f299f),_0x3a6ce4['on'](_0xbb3554['QkSyH'],function(){const _0x5b899d=a60_0x2744;_0x380afb['close'](),_0x3be9da[_0x5b899d(0x1ac)]();}),_0x3a6ce4['pipe'](_0x380afb);}),_0x5cf502[_0x47e536(0x1da)](_0x2c4c38[_0x47e536(0x24b)],_0x187846)&&_0x3be9da[_0x47e536(0x217)]();}}),_0x3be9da['on'](_0x4aecdd[_0x372764(0x1cd)],_0x596a49=>{_0x5cf502['trEQQ'](_0x28d9dd,_0x596a49);}),_0x3be9da['once'](_0x4aecdd[_0x372764(0x1d8)],()=>{const _0x40eb4f=_0x372764;fs[_0x40eb4f(0x1ea)](_0x517f76,_0x1e5a5d=>{const _0x4813a7=_0x40eb4f;_0x1e5a5d&&logger[_0x4813a7(0x24f)](_0x4813a7(0x21d)+_0x517f76);}),fs[_0x40eb4f(0x1ae)](_0x1650af+'/'+_0x187846,_0x4aecdd['IDabp'],function(_0x1cb448){const _0x3bbca6=_0x40eb4f;_0x1cb448&&_0x5cf502[_0x3bbca6(0x1f4)](_0x28d9dd,_0x1cb448),_0x5cf502['BsOPx'](_0x2f4fc0,_0x1650af+'/'+_0x187846);}),_0x3be9da[_0x40eb4f(0x217)]();});});});}static[a60_0xa32b39(0x241)](){const _0x49ebb7=a60_0xa32b39;if(process[_0x49ebb7(0x205)][_0x49ebb7(0x216)])return JSON['parse'](process[_0x49ebb7(0x205)][_0x49ebb7(0x216)]);return this[_0x49ebb7(0x251)];}static['getAutomationFrameworkDetail'](){const _0x4f09f1=a60_0xa32b39;if(process[_0x4f09f1(0x205)][_0x4f09f1(0x202)])return JSON[_0x4f09f1(0x1b3)](process[_0x4f09f1(0x205)][_0x4f09f1(0x202)]);return this[_0x4f09f1(0x1cc)];}static['setFrameworkDetail'](_0x1f98f6,_0x121aec){const _0x4a266a=a60_0xa32b39,_0x1e907c={'MItCS':'0|3|4|1|2','EPFdJ':function(_0x57ef09,_0x22f737){return _0x57ef09||_0x22f737;},'XQXwP':function(_0x2421df,_0xaf58f2){return _0x2421df(_0xaf58f2);},'OQENP':function(_0x39808a,_0x5803b5){return _0x39808a(_0x5803b5);}},_0x5c85fa=_0x1e907c['MItCS'][_0x4a266a(0x1c2)]('|');let _0x5ddab4=0x0;while(!![]){switch(_0x5c85fa[_0x5ddab4++]){case'0':_0x1e907c[_0x4a266a(0x1f6)](!_0x1f98f6,!_0x121aec)&&logger[_0x4a266a(0x222)](_0x4a266a(0x243)+_0x1f98f6+',\x20automationFramework='+_0x121aec);continue;case'1':process[_0x4a266a(0x205)][_0x4a266a(0x202)]=JSON[_0x4a266a(0x1f1)](this[_0x4a266a(0x1cc)]);continue;case'2':process[_0x4a266a(0x205)][_0x4a266a(0x216)]=JSON[_0x4a266a(0x1f1)](this[_0x4a266a(0x251)]);continue;case'3':this[_0x4a266a(0x251)]={'name':_0x1f98f6,'version':{[_0x1f98f6]:_0x1e907c[_0x4a266a(0x1d2)](getFrameworkVersion,_0x1f98f6)}};continue;case'4':this['automationFrameworkDetail']={'name':_0x121aec,'version':_0x1e907c[_0x4a266a(0x211)](getFrameworkVersion,_0x121aec)};continue;}break;}}static[a60_0xa32b39(0x1c9)](_0x1453bc,_0x4a096b){return _0x1453bc+':'+_0x4a096b;}static[a60_0xa32b39(0x248)](){const _0x4c50ad=a60_0xa32b39;return process[_0x4c50ad(0x208)]+':'+threadId;}static[a60_0xa32b39(0x1e5)](_0x1bb737){const _0x1bb4bb=a60_0xa32b39;if(_0x1bb737[_0x1bb4bb(0x1db)]&&_0x1bb737['testContextOptions']['skipSessionName'])return!![];return![];}static['shouldSkipSessionStatus'](_0x4ed7e0){const _0x1069b4=a60_0xa32b39;if(_0x4ed7e0['testContextOptions']&&_0x4ed7e0[_0x1069b4(0x1db)][_0x1069b4(0x1c3)])return!![];return![];}static['matchHookRegex'](_0x395203){const _0x210546=a60_0xa32b39,_0x5447f2=new RegExp(TestFrameworkConstants[_0x210546(0x246)]);return _0x5447f2[_0x210546(0x258)](_0x395203);}}module['exports']=CLIUtils;function a60_0x2713(){const _0x54a726=['sIhZZ','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','JrPgB','downloadFileStream','Development\x20Cli\x20Path:\x20','KByfG','vGaCL','Resolved\x20binary\x20path:\x20','split','skipSessionStatus','binary-','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','XaInG','mmIWV','jrFYO','getHookRegistryKey','downloaded_file.zip','statSync','automationFrameworkDetail','mXDGw','../../helpers/performance/constants','./instances/testFrameworkInstance.js','iiZRd','HrQAI','XQXwP','\x20version','downloadLatestBinary','vZqYn','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','BIYrb','XsOYo','SsflR','testContextOptions','getExistingCliPath','bAxXV','format','JPRhM','yjfew','../../helpers/test-observability/utils.js','KhNFX','4330ImQNOt','SDK_CLI_DOWNLOAD','shouldSkipSessionName','open','filter','isFile','BROWSERSTACK_BINARY_URL','unlink','openReadStream','getWritableDir','HJupm','url','sZsAg','isDevelopmentEnv','stringify','TYKQm','HCLQz','trEQQ','KXaXY','EPFdJ','zjtXp','sZRwW','1617528IANkef','Configuring\x20Cli\x20path.','BROWSERSTACK_FILES_DIR','join','worker_threads','runShellCommand','path','XdYtn','getSdkLanguage','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','isDirectory','Error\x20while\x20reading\x20CLI\x20path:\x20','env','17046eCOpTT','nuHuU','pid','trim','7436SLQJhZ','AdSGk','platform','tmpdir','./framework/constants/testFrameworkConstants.js','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','map','OQENP','getSdkVersion','version','\x20already\x20exists','FShCz','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','close','GET','XARwT','Current\x20CLI\x20Path\x20Found:\x20','info','rtxel','Failed\x20to\x20delete\x20zip\x20file:\x20','1533040CsiCjb','cli_version','FeQjg','filePath','debug','CLIUtils','SDK_CLI_CHECK_UPDATE','end','qdEnT','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','BROWSERSTACK_CLI_ENV','existsSync','YuVdZ','Whzjo','start','vjNma','nFkvB','SbiMI','yauzl','getCliDir','../../helpers/performance/performance-tester.js','../../helpers/classLogger.js','76828qnCAkh','FtToR','JCiEA','4JxtoTs','16uVHMfS','CIxQI','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','createWriteStream','Downloading\x20SDK\x20binary\x20from:\x20','1207593jjIwVN','0755','MQYPO','../../helpers/helper','getTestFrameworkDetail','Setting\x20required\x20permissions\x20to\x20','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','requestToUpdateCLI','util','HOOK_REGEX','reduce','getCurrentInstanceName','uujhw','28VKpaut','fileName','phSjS','lssDa','../utils/constants','warn','qCCuP','testFrameworkDetail','kWzvM','../../helpers/utilities','entry','length','mgxcZ','./state/testFrameworkState.js','test','ihXXr','timeout','6jkZBZs','follow-redirects','YrNDa','Folder\x20','ECPkV','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','checkAndUpdateCli','getCLIParamsForDevEnv','error','readdirSync','cPPPW','SDK_CLI_BIN_PATH','vVfzA','get','mtime','readEntry','response\x20','chmod','105544QpKCzs','sXPOS','./state/automationFrameworkState.js','unix:/tmp/sdk-platform-','parse','data','Folder\x20does\x20not\x20exist:\x20','cwd','basename','wulyG','lzjsh'];a60_0x2713=function(){return _0x54a726;};return a60_0x2713();}