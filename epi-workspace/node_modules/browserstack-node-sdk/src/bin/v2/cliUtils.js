const a64_0x5aa414=a64_0x3ecf;function a64_0x505d(){const _0x987328=['follow-redirects','Resolving\x20with\x20stdout:\x20\x22','LFhSY','IxIJc','Got\x20Error\x20while\x20downloading\x20SDK\x20binary\x20file\x20%s','Existing\x20binary\x20is\x20currently\x20in\x20use,\x20skipping\x20update\x20and\x20continuing\x20with\x20current\x20version:\x20','skipSessionName','downloadFileStream','unlink','automationFrameworkDetail','createWriteStream','2xmwgYS','SDK_CLI_CHECK_UPDATE','start','SDK_CLI_DOWNLOAD','WsrkE','XSYnn','readEntry','mVwlH','3058923zrGSRr','Error\x20while\x20reading\x20CLI\x20path:\x20','shouldSkipSessionName','Failed\x20to\x20delete\x20zip\x20file:\x20','isBinaryBusy','openReadStream','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','./instances/testFrameworkInstance.js','tmpdir','30792cqhEml','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','yauzl','listen','requestToUpdateCLI','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','Kbcnz','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','parse','platform','BROWSERSTACK_BINARY_URL','readdirSync','worker_threads','RbGiW','binary-','Failed\x20to\x20download\x20SDK\x20binary,\x20Exception:\x20','close','cli_version','BROWSERSTACK_CLI_ENV','Got\x20Error\x20in\x20SDK\x20binary\x20download\x20response\x20%s','HgnKx','../utils/constants','99zBOVCe','OxxVP','existsSync','openSync','2692cUtaka','version','qBFSa','chmod','Binary\x20is\x20busy:\x20','../../helpers/performance/performance-tester.js','gJckQ','statSync','trim','open','development','2645lrWAvv','Folder\x20does\x20not\x20exist:\x20','Got\x20Error\x20in\x20SDK\x20binary\x20downloading\x20request\x20','MYSTW','../../../package.json','getCliDir','EjzWq','getAutomationFrameworkDetail','lqShU','CLIUtils','qKiOT','ivDNS','fmrHZ',',\x20automationFramework=','Resolved\x20binary\x20path:\x20','yteSz','\x20version','join','dHfaY','zfeLf','exports','split','tFwaM','LKTuS','gztiH','info','getWritableDir','jtJVB','pid','end','homedir','pipe','debug','testFrameworkDetail','Setting\x20required\x20permissions\x20to\x20','checkAndUpdateCli','15318424tgWuKd','filePath','qtlDg','../../helpers/performance/constants','HOOK_REGEX','downloadLatestBinary','isArray','response\x20','DMEGP','startsWith','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','crnmK','../../helpers/test-observability/utils.js','dSkKt','getSdkVersion','format','SDK_CLI_BIN_PATH','filter','getSdkLanguage','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','dnnan','NgeYH','lNaTv','stringify','path','kDdZP','includes','cwd','isDirectory','reduce','yamQI','drtAn','BDnTn','.browserstack','GbGUa','0|3|2|1|4','downloaded_file.zip','5124OIYxYR','QSBtu','mOVhB','qpRNc','message','mergeObject','IUuEM','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','Folder\x20','error','Configuring\x20Cli\x20path.','getExistingCliPath','mRFIx','XkoRA','422243wrxMPl','entries','Binary\x20file\x20became\x20busy\x20during\x20write,\x20continuing\x20with\x20existing\x20binary:\x20','data','HeVWf','testContextOptions','isDevelopmentEnv','arch','./state/hookState.js','iNxeC','EgWkl','aepJO','cHgXq','1902OdrpHN','getCLIParamsForDevEnv','./state/testFrameworkState.js','closeSync','CYQPg','skipSessionStatus','CLI\x20version\x20found\x20despite\x20error:\x20\x22','iWyPc','warn','node','basename','EARbn','entry','wukAa','env','DtTWy','code','Development\x20Cli\x20Path:\x20','dkkPm','get','Current\x20CLI\x20Path\x20Found:\x20','child_process','unix:/tmp/sdk-platform-','runShellCommand','./framework/constants/testFrameworkConstants.js','map','fileName','mtime','2437920wWCFzV','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','gKVHE','\x20already\x20exists','yPZHl','qPTYP','SHELL_EXECUTE_ERROR','url','BROWSERSTACK_FILES_DIR','shouldSkipSessionStatus','.sock','cli','Downloading\x20SDK\x20binary\x20from:\x20','0755'];a64_0x505d=function(){return _0x987328;};return a64_0x505d();}(function(_0x134ae2,_0x419e4a){const _0x31033f=a64_0x3ecf,_0x335d76=_0x134ae2();while(!![]){try{const _0x269bfe=parseInt(_0x31033f(0x1bc))/0x1*(-parseInt(_0x31033f(0x1fe))/0x2)+-parseInt(_0x31033f(0x1c9))/0x3*(parseInt(_0x31033f(0x229))/0x4)+-parseInt(_0x31033f(0x234))/0x5*(parseInt(_0x31033f(0x1ae))/0x6)+parseInt(_0x31033f(0x206))/0x7+-parseInt(_0x31033f(0x20f))/0x8*(parseInt(_0x31033f(0x225))/0x9)+-parseInt(_0x31033f(0x1e5))/0xa+parseInt(_0x31033f(0x258))/0xb;if(_0x269bfe===_0x419e4a)break;else _0x335d76['push'](_0x335d76['shift']());}catch(_0x40b5f7){_0x335d76['push'](_0x335d76['shift']());}}}(a64_0x505d,0x3b43f));const fs=require('fs'),os=require('os'),url=require('url'),path=require(a64_0x5aa414(0x1a1)),{exec}=require(a64_0x5aa414(0x1de)),{https}=require(a64_0x5aa414(0x1f3)),yauzl=require(a64_0x5aa414(0x211)),util=require('util'),{getFrameworkVersion}=require(a64_0x5aa414(0x264)),{threadId}=require(a64_0x5aa414(0x21b)),PerformanceTester=require(a64_0x5aa414(0x22e)),{EVENTS:PerformanceEvents}=require(a64_0x5aa414(0x25b)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require('../../helpers/utilities'),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require('../../helpers/helper'),{UPDATED_CLI_ENDPOINT,BINARY_BUSY_ERROR_CODES}=require(a64_0x5aa414(0x224)),{createClassLogger}=require('../../helpers/classLogger.js'),TestFrameworkInstance=require(a64_0x5aa414(0x20d)),HookState=require(a64_0x5aa414(0x1c4)),TestFrameworkState=require(a64_0x5aa414(0x1cb)),AutomationFrameworkState=require('./state/automationFrameworkState.js'),TestFrameworkConstants=require(a64_0x5aa414(0x1e1)),logger=createClassLogger(a64_0x5aa414(0x23d)),{getBStackAPIUrl}=require('../utils/apiUtilityMethods.js');class CLIUtils{[a64_0x5aa414(0x1fc)]={};['testFrameworkDetail']={};static[a64_0x5aa414(0x1c2)](){const _0x2762db=a64_0x5aa414,_0x52961e={};_0x52961e[_0x2762db(0x247)]=function(_0x13617a,_0x446ae6){return _0x13617a===_0x446ae6;},_0x52961e[_0x2762db(0x237)]=_0x2762db(0x233);const _0x98dc31=_0x52961e;return _0x98dc31[_0x2762db(0x247)](process[_0x2762db(0x1d7)][_0x2762db(0x221)],_0x98dc31[_0x2762db(0x237)]);}static[a64_0x5aa414(0x1ca)](){const _0x54f054=a64_0x5aa414,_0x2b851b={};return _0x2b851b['id']=process[_0x54f054(0x1d7)][_0x54f054(0x221)],_0x2b851b[_0x54f054(0x212)]=_0x54f054(0x1df)+process['env'][_0x54f054(0x221)]+_0x54f054(0x1ef),_0x2b851b;}static[a64_0x5aa414(0x266)](){const _0x35f24d=a64_0x5aa414,_0x15b17d={'CYQPg':function(_0x38b69c,_0x2cf914){return _0x38b69c(_0x2cf914);},'QSBtu':_0x35f24d(0x238)};return _0x15b17d[_0x35f24d(0x1cd)](require,_0x15b17d[_0x35f24d(0x1af)])[_0x35f24d(0x22a)];}static[a64_0x5aa414(0x26a)](){const _0x5198cd=a64_0x5aa414,_0x36a330={};_0x36a330['DtTWy']=_0x5198cd(0x1d2);const _0x561884=_0x36a330;return _0x561884[_0x5198cd(0x1d8)];}static async['setupCliPath'](_0x59daa2){const _0x33cb71=a64_0x5aa414,_0x1ca97d={'lqShU':_0x33cb71(0x1b8),'jtJVB':function(_0x8b1d66,_0x173ae9){return _0x8b1d66(_0x173ae9);},'HgnKx':'No\x20writable\x20directory\x20available\x20for\x20the\x20CLI'};logger['debug'](_0x1ca97d[_0x33cb71(0x23c)]);const _0xd3b9d4=process[_0x33cb71(0x1d7)][_0x33cb71(0x268)];if(!_0x1ca97d[_0x33cb71(0x24f)](isNullOrEmpty,_0xd3b9d4))return logger[_0x33cb71(0x254)](_0x33cb71(0x1da)+_0xd3b9d4),_0xd3b9d4;try{const _0x540d36=this['getCliDir']();if(_0x1ca97d[_0x33cb71(0x24f)](isNullOrEmpty,_0x540d36))throw new Error(_0x1ca97d[_0x33cb71(0x223)]);const _0x504e8a=this[_0x33cb71(0x1b9)](_0x540d36),_0xb7558e=await this[_0x33cb71(0x257)](_0x504e8a,_0x540d36,_0x59daa2);return logger[_0x33cb71(0x254)](_0x33cb71(0x242)+_0xb7558e),_0xb7558e;}catch(_0x32a888){logger[_0x33cb71(0x254)](_0x33cb71(0x26b)+util[_0x33cb71(0x267)](_0x32a888));}return null;}static async[a64_0x5aa414(0x257)](_0x10d22f,_0x549bae,_0x134d63){const _0x2869bc=a64_0x5aa414,_0x72c0f9={'WsrkE':function(_0x3ea44f){return _0x3ea44f();},'OqJjo':function(_0x1e365b,_0x457b18){return _0x1e365b(_0x457b18);},'GbGUa':function(_0x1b2b9d,_0x144fd6,_0x782889){return _0x1b2b9d(_0x144fd6,_0x782889);},'gztiH':_0x2869bc(0x1bf),'Cdrom':_0x2869bc(0x1ec),'zNawR':function(_0x117347,_0x1b5d34){return _0x117347(_0x1b5d34);},'cHgXq':function(_0x1a3dbd,_0x1dbb2a,_0x2eae19){return _0x1a3dbd(_0x1dbb2a,_0x2eae19);}};PerformanceTester[_0x2869bc(0x200)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),logger[_0x2869bc(0x24d)](_0x2869bc(0x1dd)+_0x10d22f);const _0x10aab2=_0x72c0f9[_0x2869bc(0x202)](getHostInfo),_0x559503={'sdk_version':CLIUtils[_0x2869bc(0x266)](),'os':_0x10aab2[_0x2869bc(0x218)],'os_arch':_0x10aab2[_0x2869bc(0x1c3)],'cli_version':'0','sdk_language':this[_0x2869bc(0x26a)]()};!_0x72c0f9['OqJjo'](isNullOrEmpty,_0x10d22f)&&(_0x559503[_0x2869bc(0x220)]=await this[_0x2869bc(0x1e0)](_0x10d22f+_0x2869bc(0x244)));const _0x25f881=await this[_0x2869bc(0x213)](_0x559503,_0x134d63);process[_0x2869bc(0x1d7)][_0x2869bc(0x219)]&&(logger[_0x2869bc(0x24d)]('Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20'+process[_0x2869bc(0x1d7)][_0x2869bc(0x219)]),_0x25f881[_0x2869bc(0x1bf)][_0x2869bc(0x1ec)]=process[_0x2869bc(0x1d7)][_0x2869bc(0x219)]);if(_0x72c0f9[_0x2869bc(0x1ab)](nestedKeyValue,_0x25f881,[_0x72c0f9[_0x2869bc(0x24c)],_0x72c0f9['Cdrom']])){logger[_0x2869bc(0x254)](_0x2869bc(0x1e6)+_0x559503[_0x2869bc(0x220)]);if(!_0x72c0f9['zNawR'](isNullOrEmpty,_0x10d22f)&&this[_0x2869bc(0x20a)](_0x10d22f))return logger['warn'](_0x2869bc(0x1f8)+_0x10d22f),PerformanceTester[_0x2869bc(0x251)](PerformanceEvents[_0x2869bc(0x1ff)]),_0x10d22f;const _0x6236bd=await this[_0x2869bc(0x25d)](_0x72c0f9[_0x2869bc(0x1c8)](nestedKeyValue,_0x25f881,[_0x72c0f9[_0x2869bc(0x24c)],_0x72c0f9['Cdrom']]),_0x549bae);return PerformanceTester[_0x2869bc(0x251)](PerformanceEvents[_0x2869bc(0x1ff)]),_0x6236bd;}return PerformanceTester['end'](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x10d22f;}static[a64_0x5aa414(0x239)](){const _0x2395d1=a64_0x5aa414,_0x3eb88b={'EgWkl':function(_0x239b21,_0x280f76){return _0x239b21(_0x280f76);},'gJckQ':_0x2395d1(0x214),'qPTYP':_0x2395d1(0x1f0)},_0x45b120=this[_0x2395d1(0x24e)]();try{if(_0x3eb88b[_0x2395d1(0x1c6)](isNullOrEmpty,_0x45b120))throw new Error(_0x3eb88b[_0x2395d1(0x22f)]);const _0x419bcb=path[_0x2395d1(0x245)](_0x45b120,_0x3eb88b[_0x2395d1(0x1ea)]);return!fs[_0x2395d1(0x227)](_0x419bcb)&&_0x3eb88b[_0x2395d1(0x1c6)](createDir,_0x419bcb),_0x419bcb;}catch(_0x105981){logger[_0x2395d1(0x254)](_0x2395d1(0x216)+util[_0x2395d1(0x267)](_0x105981));}}static[a64_0x5aa414(0x24e)](){const _0x35261c=a64_0x5aa414,_0x233d8a={'Kbcnz':_0x35261c(0x1aa),'mRFIx':function(_0x13c8d5,_0x5e81c1){return _0x13c8d5(_0x5e81c1);},'dkkPm':function(_0x1b6b6c,_0x3cdba6){return _0x1b6b6c(_0x3cdba6);},'XkoRA':function(_0x3168ab,_0x1e1240){return _0x3168ab(_0x1e1240);}},_0x439f70=[process[_0x35261c(0x1d7)][_0x35261c(0x1ed)],path['join'](os[_0x35261c(0x252)](),_0x233d8a['Kbcnz']),path[_0x35261c(0x245)](os[_0x35261c(0x20e)](),_0x233d8a[_0x35261c(0x215)])];for(const _0x552fd6 of _0x439f70){if(_0x233d8a[_0x35261c(0x1ba)](isNullOrEmpty,_0x552fd6))continue;try{if(fs[_0x35261c(0x227)](_0x552fd6)){logger[_0x35261c(0x254)](_0x35261c(0x1b6)+_0x552fd6+_0x35261c(0x1e8));if(!_0x233d8a[_0x35261c(0x1ba)](isModifiable,_0x552fd6)){logger[_0x35261c(0x254)](_0x35261c(0x256)+_0x552fd6);const _0x12fb16=_0x233d8a[_0x35261c(0x1ba)](setReadWriteExecuteAccess,_0x552fd6);if(!_0x233d8a['mRFIx'](isTrue,_0x12fb16)){logger[_0x35261c(0x1d1)](_0x35261c(0x1b5)+_0x552fd6);continue;}}}else{logger[_0x35261c(0x254)](_0x35261c(0x235)+_0x552fd6),_0x233d8a[_0x35261c(0x1db)](createDir,_0x552fd6),logger[_0x35261c(0x254)]('Setting\x20required\x20permissions\x20to\x20'+_0x552fd6);const _0x5c975c=_0x233d8a[_0x35261c(0x1bb)](setReadWriteExecuteAccess,_0x552fd6);!_0x233d8a[_0x35261c(0x1db)](isTrue,_0x5c975c)&&logger[_0x35261c(0x1d1)](_0x35261c(0x1b5)+_0x552fd6);}return _0x552fd6;}catch(_0x106814){logger['error']('Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20'+util['format'](_0x106814));}}return null;}static[a64_0x5aa414(0x1b9)](_0x5f12c9){const _0x3d0322=a64_0x5aa414,_0x53bd44={};_0x53bd44[_0x3d0322(0x1b0)]=function(_0x5cdd61,_0x5ce4e1){return _0x5cdd61>_0x5ce4e1;};const _0xd825a=_0x53bd44;try{if(!fs[_0x3d0322(0x227)](_0x5f12c9)||!fs[_0x3d0322(0x230)](_0x5f12c9)[_0x3d0322(0x1a5)]())return'';const _0xb3af60=fs[_0x3d0322(0x21a)](_0x5f12c9)['map'](_0x536a23=>path[_0x3d0322(0x245)](_0x5f12c9,_0x536a23))[_0x3d0322(0x269)](_0x6e8ae3=>fs['statSync'](_0x6e8ae3)['isFile']()&&path[_0x3d0322(0x1d3)](_0x6e8ae3)[_0x3d0322(0x261)](_0x3d0322(0x21d)));if(_0xd825a[_0x3d0322(0x1b0)](_0xb3af60['length'],0x0)){const _0x4e7577=_0xb3af60[_0x3d0322(0x1e2)](_0x27a065=>({'filePath':_0x27a065,'mtime':fs[_0x3d0322(0x230)](_0x27a065)[_0x3d0322(0x1e4)]}))[_0x3d0322(0x1a6)]((_0x11b294,_0x27b766)=>{const _0x79019d=_0x3d0322;if(!_0x11b294||!_0x11b294[_0x79019d(0x1e4)])return _0x27b766;if(_0xd825a[_0x79019d(0x1b0)](_0x27b766['mtime'],_0x11b294[_0x79019d(0x1e4)]))return _0x27b766;return _0x11b294;},{});return _0x4e7577?_0x4e7577[_0x3d0322(0x259)]:'';}return'';}catch(_0x1c8d2e){return logger['error'](_0x3d0322(0x207)+util[_0x3d0322(0x267)](_0x1c8d2e)),'';}}static [a64_0x5aa414(0x213)]=async(_0x2d58e7,_0x4bc394)=>{const _0x4e1452=a64_0x5aa414,_0x3f7561={'qqkQk':function(_0x8fd455,_0xdd7601,_0x262509,_0x361cbc,_0x106c41){return _0x8fd455(_0xdd7601,_0x262509,_0x361cbc,_0x106c41);},'tFwaM':'GET'},_0x179eed={};_0x179eed['qs']=_0x2d58e7;const _0x2fefce=await _0x3f7561['qqkQk'](nodeRequest,_0x3f7561[_0x4e1452(0x24a)],UPDATED_CLI_ENDPOINT,_0x179eed,_0x4bc394);return logger[_0x4e1452(0x254)](_0x4e1452(0x25f)+JSON[_0x4e1452(0x26f)](_0x2fefce)),_0x2fefce;};static[a64_0x5aa414(0x20a)](_0x368aca){const _0xaa460c=a64_0x5aa414;try{const _0x2c9a80=fs[_0xaa460c(0x228)](_0x368aca,'r+');return fs[_0xaa460c(0x1cc)](_0x2c9a80),![];}catch(_0x48c30b){if(BINARY_BUSY_ERROR_CODES[_0xaa460c(0x1a3)](_0x48c30b[_0xaa460c(0x1d9)]))return logger[_0xaa460c(0x254)](_0xaa460c(0x22d)+_0x368aca),!![];return logger[_0xaa460c(0x254)]('Error\x20checking\x20if\x20binary\x20is\x20busy:\x20'+_0x48c30b['message']),![];}}static[a64_0x5aa414(0x1e0)](_0x4a2bce,_0x7f19ee=''){const _0x463dc8=a64_0x5aa414,_0x33aa67={'qpRNc':'version','xtxWT':function(_0x2481dc,_0x17080b){return _0x2481dc(_0x17080b);},'UHGwp':_0x463dc8(0x1eb),'NgeYH':function(_0x5b3992,_0x1e93b,_0x5d00f6,_0x4d240a){return _0x5b3992(_0x1e93b,_0x5d00f6,_0x4d240a);},'HeVWf':'error'};return new Promise((_0xcbf96a,_0x12f801)=>{const _0x13974f=_0x463dc8,_0x571220={'lyTuw':_0x33aa67[_0x13974f(0x1b1)],'mVwlH':function(_0x8a591b,_0xbc9210){return _0x33aa67['xtxWT'](_0x8a591b,_0xbc9210);},'qKiOT':_0x33aa67['UHGwp']},_0x4320a0={};_0x4320a0[_0x13974f(0x1a4)]=_0x7f19ee,_0x4320a0['timeout']=0x1388;const _0x330951=_0x33aa67[_0x13974f(0x26d)](exec,_0x4a2bce,_0x4320a0,(_0x20ad13,_0x4fcfee,_0x3c6e52)=>{const _0x5e1e87=_0x13974f;if(_0x20ad13){if(_0x4a2bce[_0x5e1e87(0x1a3)](_0x571220['lyTuw'])&&(_0x4fcfee[_0x5e1e87(0x231)]()||_0x3c6e52[_0x5e1e87(0x231)]())){const _0x13c240=_0x4fcfee['trim']()||_0x3c6e52[_0x5e1e87(0x231)]();logger[_0x5e1e87(0x254)](_0x5e1e87(0x1cf)+_0x13c240+'\x22'),_0x571220[_0x5e1e87(0x205)](_0xcbf96a,_0x13c240);}else _0x571220[_0x5e1e87(0x205)](_0xcbf96a,_0x3c6e52[_0x5e1e87(0x231)]()||_0x571220[_0x5e1e87(0x23e)]);}else logger[_0x5e1e87(0x254)](_0x5e1e87(0x1f4)+_0x4fcfee[_0x5e1e87(0x231)]()+'\x22'),_0x571220[_0x5e1e87(0x205)](_0xcbf96a,_0x4fcfee['trim']());});_0x330951['on'](_0x33aa67[_0x13974f(0x1c0)],()=>{const _0x306932=_0x13974f;_0x571220['mVwlH'](_0xcbf96a,_0x571220[_0x306932(0x23e)]);});});}static [a64_0x5aa414(0x25d)]=async(_0x44f92c,_0x3fc31c)=>{const _0x37a3a6=a64_0x5aa414,_0x15e579={'lNaTv':_0x37a3a6(0x222),'crnmK':function(_0x202384,_0x538bab){return _0x202384(_0x538bab);},'iNxeC':_0x37a3a6(0x1b7),'DMEGP':_0x37a3a6(0x1f7),'qBFSa':function(_0x95462f,_0x1cd80b){return _0x95462f(_0x1cd80b);},'PKJvD':_0x37a3a6(0x1ad)};PerformanceTester[_0x37a3a6(0x200)](PerformanceEvents[_0x37a3a6(0x201)]),logger[_0x37a3a6(0x254)](_0x37a3a6(0x1f1)+_0x44f92c);try{const _0x5a750a=url[_0x37a3a6(0x217)](_0x44f92c),_0x23fb65=path[_0x37a3a6(0x245)](_0x3fc31c,_0x15e579['PKJvD']),_0x424fb8=fs['createWriteStream'](_0x23fb65);return new Promise((_0x52e8f1,_0xfb4434)=>{const _0x13e148=_0x37a3a6,_0x4cc4a7={'EjzWq':_0x15e579[_0x13e148(0x260)],'EARbn':function(_0x11c6dc,_0x22943f){const _0x5eefd5=_0x13e148;return _0x15e579[_0x5eefd5(0x22b)](_0x11c6dc,_0x22943f);}};https[_0x13e148(0x1dc)](_0x5a750a,function(_0x441d45){const _0x475d1c=_0x13e148,_0x44aab3={'OxxVP':_0x15e579[_0x475d1c(0x26e)],'dHfaY':function(_0x488521,_0x39828c){const _0x4215c6=_0x475d1c;return _0x15e579[_0x4215c6(0x263)](_0x488521,_0x39828c);}},_0x14830c=null;_0x441d45[_0x475d1c(0x253)](_0x424fb8),_0x441d45['on'](_0x15e579[_0x475d1c(0x1c5)],function(_0x54ee14){const _0x11a2f6=_0x475d1c;logger['error'](util[_0x11a2f6(0x267)](_0x44aab3[_0x11a2f6(0x226)],_0x54ee14)),PerformanceTester[_0x11a2f6(0x251)](PerformanceEvents[_0x11a2f6(0x201)],![],util[_0x11a2f6(0x267)](_0x54ee14)),_0x44aab3[_0x11a2f6(0x246)](_0xfb4434,_0x54ee14);}),_0x424fb8['on'](_0x15e579[_0x475d1c(0x1c5)],function(_0x3597c4){const _0x27dfad=_0x475d1c;logger[_0x27dfad(0x1b7)](util[_0x27dfad(0x267)](_0x4cc4a7[_0x27dfad(0x23a)],_0x3597c4)),PerformanceTester[_0x27dfad(0x251)](PerformanceEvents[_0x27dfad(0x201)],![],util['format'](_0x3597c4)),_0x4cc4a7[_0x27dfad(0x1d4)](_0xfb4434,_0x3597c4);}),CLIUtils[_0x475d1c(0x1fa)](_0x424fb8,_0x14830c,_0x23fb65,_0x3fc31c,_0x52e8f1,_0xfb4434),PerformanceTester['end'](PerformanceEvents[_0x475d1c(0x201)]);})['on'](_0x15e579['iNxeC'],function(_0x42671c){const _0x1a05cb=_0x13e148;logger[_0x1a05cb(0x1b7)](_0x1a05cb(0x236)+util[_0x1a05cb(0x267)](_0x42671c)),PerformanceTester[_0x1a05cb(0x251)](PerformanceEvents[_0x1a05cb(0x201)],![],util[_0x1a05cb(0x267)](_0x42671c)),_0x4cc4a7[_0x1a05cb(0x1d4)](_0xfb4434,_0x42671c);});});}catch(_0x2f2a71){PerformanceTester['end'](PerformanceEvents[_0x37a3a6(0x201)],![],util[_0x37a3a6(0x267)](_0x2f2a71)),logger[_0x37a3a6(0x254)](_0x37a3a6(0x21e)+util[_0x37a3a6(0x267)](_0x2f2a71));}};static['downloadFileStream'](_0x2546de,_0x39cc0d,_0xfcb224,_0x5f4e16,_0x2349b3,_0x3b1b3c){const _0x479172=a64_0x5aa414,_0x3c8727={'IxIJc':function(_0x57410d,_0xc3467a){return _0x57410d(_0xc3467a);},'fmrHZ':function(_0x5449cd,_0x3f064d){return _0x5449cd(_0x3f064d);},'LFhSY':_0x479172(0x251),'ivDNS':function(_0x135c6f,_0x4007fa){return _0x135c6f(_0x4007fa);},'yteSz':'error','OIVzO':function(_0x4e74b6,_0x2457ec){return _0x4e74b6===_0x2457ec;},'EIcvD':_0x479172(0x1f2),'BDnTn':function(_0x4afcd5,_0x4147f0){return _0x4afcd5(_0x4147f0);},'gMFVt':_0x479172(0x1d5),'iWyPc':function(_0x12e504,_0x506144){return _0x12e504(_0x506144);},'LKTuS':_0x479172(0x21f)};_0x2546de['on'](_0x3c8727[_0x479172(0x24b)],function(){const _0x399c3d=_0x479172,_0x202dc5={'LTvPt':function(_0x39c047,_0x4402b1){const _0x317ad1=a64_0x3ecf;return _0x3c8727[_0x317ad1(0x1d0)](_0x39c047,_0x4402b1);}},_0x32e34c={};_0x32e34c['lazyEntries']=!![],yauzl[_0x399c3d(0x232)](_0xfcb224,_0x32e34c,function(_0x17dff4,_0x419db5){const _0x4af771=_0x399c3d,_0x441d14={'XSYnn':function(_0x196e03,_0x1c87bf){const _0x5012e9=a64_0x3ecf;return _0x3c8727[_0x5012e9(0x1f6)](_0x196e03,_0x1c87bf);},'gKVHE':function(_0xf1268e,_0x137162){const _0x1665f9=a64_0x3ecf;return _0x3c8727[_0x1665f9(0x240)](_0xf1268e,_0x137162);},'IUuEM':_0x3c8727[_0x4af771(0x1f5)],'aepJO':function(_0x2c056f,_0x3bc4c4){const _0x212ee1=_0x4af771;return _0x3c8727[_0x212ee1(0x23f)](_0x2c056f,_0x3bc4c4);},'InVdl':_0x3c8727[_0x4af771(0x243)],'qtlDg':function(_0x30294f,_0x40ebfb){return _0x3c8727['OIVzO'](_0x30294f,_0x40ebfb);},'yPZHl':_0x3c8727['EIcvD']};_0x17dff4&&_0x3c8727[_0x4af771(0x1a9)](_0x3b1b3c,_0x17dff4),_0x419db5[_0x4af771(0x204)](),_0x419db5['on'](_0x3c8727['gMFVt'],_0xdfd701=>{const _0x35b4d9=_0x4af771;!_0x39cc0d&&(_0x39cc0d=_0xdfd701[_0x35b4d9(0x1e3)]);if(/\/$/['test'](_0xdfd701[_0x35b4d9(0x1e3)]))_0x419db5['readEntry']();else{const _0x1ba262=_0xdfd701[_0x35b4d9(0x1e3)],_0x53da0c=path['join'](_0x5f4e16,_0x1ba262);let _0x1cea14;try{_0x1cea14=fs[_0x35b4d9(0x1fd)](_0x53da0c);}catch(_0x31cda8){if(BINARY_BUSY_ERROR_CODES['includes'](_0x31cda8[_0x35b4d9(0x1d9)])){logger['warn']('Binary\x20file\x20is\x20currently\x20in\x20use,\x20skipping\x20download\x20and\x20continuing\x20with\x20existing\x20binary:\x20'+_0x1ba262),fs[_0x35b4d9(0x1fb)](_0xfcb224,_0x575514=>{const _0x4313fb=_0x35b4d9;_0x575514&&logger[_0x4313fb(0x1d1)]('Failed\x20to\x20delete\x20zip\x20file:\x20'+_0xfcb224);}),_0x441d14[_0x35b4d9(0x1c7)](_0x2349b3,_0x53da0c);return;}_0x441d14[_0x35b4d9(0x1e7)](_0x3b1b3c,_0x31cda8);return;}_0x1cea14['on'](_0x441d14['InVdl'],_0x165796=>{const _0x39074c=_0x35b4d9;BINARY_BUSY_ERROR_CODES[_0x39074c(0x1a3)](_0x165796[_0x39074c(0x1d9)])?(logger[_0x39074c(0x1d1)](_0x39074c(0x1be)+_0x165796[_0x39074c(0x1b2)]),_0x1cea14[_0x39074c(0x21f)](),fs[_0x39074c(0x1fb)](_0xfcb224,_0x51701f=>{const _0x4d2600=_0x39074c;_0x51701f&&logger[_0x4d2600(0x1d1)](_0x4d2600(0x209)+_0xfcb224);}),_0x441d14[_0x39074c(0x203)](_0x2349b3,_0x53da0c)):_0x441d14[_0x39074c(0x203)](_0x3b1b3c,_0x165796);}),_0x419db5[_0x35b4d9(0x20b)](_0xdfd701,function(_0x54e723,_0x55c314){const _0xb848d0=_0x35b4d9;_0x54e723&&_0x441d14[_0xb848d0(0x1e7)](_0x3b1b3c,_0x54e723),_0x55c314['on'](_0x441d14[_0xb848d0(0x1b4)],function(){const _0x163b15=_0xb848d0;_0x1cea14[_0x163b15(0x21f)](),_0x419db5[_0x163b15(0x204)]();}),_0x55c314[_0xb848d0(0x253)](_0x1cea14);}),_0x441d14[_0x35b4d9(0x25a)](_0xdfd701[_0x35b4d9(0x1e3)],_0x39cc0d)&&_0x419db5[_0x35b4d9(0x21f)]();}}),_0x419db5['on'](_0x3c8727[_0x4af771(0x243)],_0x4bcd1f=>{_0x202dc5['LTvPt'](_0x3b1b3c,_0x4bcd1f);}),_0x419db5['once'](_0x3c8727[_0x4af771(0x1f5)],()=>{const _0x52e18f=_0x4af771,_0x339948={'drtAn':function(_0xa02b24,_0x2795d9){const _0x11170e=a64_0x3ecf;return _0x441d14[_0x11170e(0x1c7)](_0xa02b24,_0x2795d9);}};fs[_0x52e18f(0x1fb)](_0xfcb224,_0x33adbf=>{const _0x47a629=_0x52e18f;_0x33adbf&&logger[_0x47a629(0x1d1)](_0x47a629(0x209)+_0xfcb224);}),fs[_0x52e18f(0x22c)](path[_0x52e18f(0x245)](_0x5f4e16,_0x39cc0d),_0x441d14[_0x52e18f(0x1e9)],function(_0x34e948){const _0x2b8ad0=_0x52e18f;_0x34e948&&_0x339948[_0x2b8ad0(0x1a8)](_0x3b1b3c,_0x34e948),_0x339948[_0x2b8ad0(0x1a8)](_0x2349b3,path['join'](_0x5f4e16,_0x39cc0d));}),_0x419db5['close']();});});});}static['getTestFrameworkDetail'](){const _0x280c34=a64_0x5aa414;if(process[_0x280c34(0x1d7)][_0x280c34(0x262)])return JSON[_0x280c34(0x217)](process[_0x280c34(0x1d7)][_0x280c34(0x262)]);return this[_0x280c34(0x255)];}static[a64_0x5aa414(0x23b)](){const _0x5a62d8=a64_0x5aa414;if(process['env']['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL'])return JSON[_0x5a62d8(0x217)](process['env'][_0x5a62d8(0x20c)]);return this[_0x5a62d8(0x1fc)];}static['setFrameworkDetail'](_0xb764a9,_0xb99dca){const _0xdf64e5=a64_0x5aa414,_0x3df6ca={'yamQI':_0xdf64e5(0x1ac),'dSkKt':function(_0xee1ea9,_0x1dc7fc){return _0xee1ea9||_0x1dc7fc;},'wukAa':function(_0x59837c,_0x192cee){return _0x59837c(_0x192cee);},'kTqRp':function(_0x2404b1,_0x27cf99){return _0x2404b1(_0x27cf99);}},_0x389180=_0x3df6ca[_0xdf64e5(0x1a7)][_0xdf64e5(0x249)]('|');let _0x3adc2b=0x0;while(!![]){switch(_0x389180[_0x3adc2b++]){case'0':_0x3df6ca[_0xdf64e5(0x265)](!_0xb764a9,!_0xb99dca)&&logger[_0xdf64e5(0x254)](_0xdf64e5(0x210)+_0xb764a9+_0xdf64e5(0x241)+_0xb99dca);continue;case'1':process[_0xdf64e5(0x1d7)][_0xdf64e5(0x20c)]=JSON[_0xdf64e5(0x26f)](this['automationFrameworkDetail']);continue;case'2':this[_0xdf64e5(0x1fc)]={'name':_0xb99dca,'version':_0x3df6ca[_0xdf64e5(0x1d6)](getFrameworkVersion,_0xb99dca)};continue;case'3':this[_0xdf64e5(0x255)]={'name':_0xb764a9,'version':{[_0xb764a9]:_0x3df6ca['kTqRp'](getFrameworkVersion,_0xb764a9)}};continue;case'4':process[_0xdf64e5(0x1d7)]['BROWSERSTACK_TEST_FRAMEWORK_DETAIL']=JSON[_0xdf64e5(0x26f)](this[_0xdf64e5(0x255)]);continue;}break;}}static['getHookRegistryKey'](_0x18a654,_0x4afe55){return _0x18a654+':'+_0x4afe55;}static['getCurrentInstanceName'](){const _0x38dfb8=a64_0x5aa414;return process[_0x38dfb8(0x250)]+':'+threadId;}static[a64_0x5aa414(0x208)](_0x22e11c){const _0x2eaf87=a64_0x5aa414;if(_0x22e11c[_0x2eaf87(0x1c1)]&&_0x22e11c[_0x2eaf87(0x1c1)][_0x2eaf87(0x1f9)])return!![];return![];}static[a64_0x5aa414(0x1ee)](_0x14350c){const _0xec507e=a64_0x5aa414;if(_0x14350c[_0xec507e(0x1c1)]&&_0x14350c[_0xec507e(0x1c1)][_0xec507e(0x1ce)])return!![];return![];}static['matchHookRegex'](_0x5a2289){const _0x5d2aab=a64_0x5aa414,_0x227b19=new RegExp(TestFrameworkConstants[_0x5d2aab(0x25c)]);return _0x227b19['test'](_0x5a2289);}static['mergeObject'](_0x2aa080,_0x501ea7){const _0x54a5c5=a64_0x5aa414,_0x5a8a15={};_0x5a8a15[_0x54a5c5(0x26c)]=function(_0xdb041a,_0x71800d){return _0xdb041a!==_0x71800d;},_0x5a8a15['RbGiW']=function(_0x202fe3,_0x52482e){return _0x202fe3===_0x52482e;},_0x5a8a15[_0x54a5c5(0x1a2)]='object';const _0x2bde4a=_0x5a8a15;for(const [_0x16fe6e,_0x5676b3]of Object[_0x54a5c5(0x1bd)](_0x501ea7)){if(_0x2bde4a['dnnan'](_0x5676b3,null)&&_0x2bde4a[_0x54a5c5(0x21c)](typeof _0x5676b3,_0x2bde4a[_0x54a5c5(0x1a2)])&&!Array[_0x54a5c5(0x25e)](_0x5676b3))_0x2aa080[_0x16fe6e]=this[_0x54a5c5(0x1b3)](_0x2aa080[_0x16fe6e]||{},_0x5676b3);else Array[_0x54a5c5(0x25e)](_0x5676b3)?_0x2aa080[_0x16fe6e]=(_0x2aa080[_0x16fe6e]||[])['concat'](_0x5676b3):_0x2aa080[_0x16fe6e]=_0x5676b3;}return _0x2aa080;}}function a64_0x3ecf(_0x2d054c,_0x3c6992){const _0x505d7c=a64_0x505d();return a64_0x3ecf=function(_0x3ecff1,_0x35939d){_0x3ecff1=_0x3ecff1-0x1a1;let _0x23e52c=_0x505d7c[_0x3ecff1];return _0x23e52c;},a64_0x3ecf(_0x2d054c,_0x3c6992);}module[a64_0x5aa414(0x248)]=CLIUtils;