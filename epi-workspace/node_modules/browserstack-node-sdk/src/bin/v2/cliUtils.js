function a58_0x4e9e(_0x8b81ff,_0x288564){const _0x440789=a58_0x4407();return a58_0x4e9e=function(_0x4e9e7c,_0x513544){_0x4e9e7c=_0x4e9e7c-0x1ba;let _0xba3c75=_0x440789[_0x4e9e7c];return _0xba3c75;},a58_0x4e9e(_0x8b81ff,_0x288564);}const a58_0x5a52fe=a58_0x4e9e;(function(_0x21f5f0,_0x191eed){const _0x499d65=a58_0x4e9e,_0x242f06=_0x21f5f0();while(!![]){try{const _0x47e071=-parseInt(_0x499d65(0x1dc))/0x1*(parseInt(_0x499d65(0x21a))/0x2)+-parseInt(_0x499d65(0x224))/0x3*(-parseInt(_0x499d65(0x1c8))/0x4)+parseInt(_0x499d65(0x260))/0x5*(-parseInt(_0x499d65(0x203))/0x6)+parseInt(_0x499d65(0x23d))/0x7*(parseInt(_0x499d65(0x206))/0x8)+parseInt(_0x499d65(0x1e5))/0x9*(-parseInt(_0x499d65(0x21e))/0xa)+-parseInt(_0x499d65(0x1c0))/0xb+parseInt(_0x499d65(0x24c))/0xc;if(_0x47e071===_0x191eed)break;else _0x242f06['push'](_0x242f06['shift']());}catch(_0x393bb4){_0x242f06['push'](_0x242f06['shift']());}}}(a58_0x4407,0x33983));const fs=require('fs'),os=require('os'),url=require(a58_0x5a52fe(0x274)),path=require('path'),{exec}=require(a58_0x5a52fe(0x22f)),{https}=require(a58_0x5a52fe(0x211)),yauzl=require(a58_0x5a52fe(0x1fc)),util=require('util'),{getFrameworkVersion}=require('../../helpers/test-observability/utils.js'),{threadId}=require('worker_threads'),PerformanceTester=require('../../helpers/performance/performance-tester.js'),{EVENTS:PerformanceEvents}=require(a58_0x5a52fe(0x1fe)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require(a58_0x5a52fe(0x207)),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a58_0x5a52fe(0x1e3)),{BROWSERSTACK_API_URL,UPDATED_CLI_ENDPOINT}=require('../utils/constants'),{createClassLogger}=require(a58_0x5a52fe(0x268)),TestFrameworkInstance=require(a58_0x5a52fe(0x27d)),HookState=require('./state/hookState.js'),TestFrameworkState=require(a58_0x5a52fe(0x1fd)),AutomationFrameworkState=require(a58_0x5a52fe(0x1eb)),TestFrameworkConstants=require('./framework/constants/testFrameworkConstants.js'),logger=createClassLogger('CLIUtils');class CLIUtils{['automationFrameworkDetail']={};[a58_0x5a52fe(0x20b)]={};static[a58_0x5a52fe(0x21f)](){const _0x3166c5=a58_0x5a52fe,_0x171a3e={};_0x171a3e[_0x3166c5(0x27c)]=function(_0x462e75,_0x52c9cf){return _0x462e75===_0x52c9cf;},_0x171a3e[_0x3166c5(0x277)]=_0x3166c5(0x23c);const _0x4332f1=_0x171a3e;return _0x4332f1[_0x3166c5(0x27c)](process['env'][_0x3166c5(0x225)],_0x4332f1[_0x3166c5(0x277)]);}static[a58_0x5a52fe(0x1d6)](){const _0x24ea33=a58_0x5a52fe,_0x1a81e5={};return _0x1a81e5['id']=process['env'][_0x24ea33(0x225)],_0x1a81e5[_0x24ea33(0x24f)]=_0x24ea33(0x22a)+process[_0x24ea33(0x219)][_0x24ea33(0x225)]+_0x24ea33(0x259),_0x1a81e5;}static[a58_0x5a52fe(0x205)](){const _0x4a090f=a58_0x5a52fe,_0x4d7c19={'eFyxq':function(_0x48ce0f,_0xab0238){return _0x48ce0f(_0xab0238);},'Spoay':_0x4a090f(0x26c)};return _0x4d7c19[_0x4a090f(0x1c1)](require,_0x4d7c19[_0x4a090f(0x222)])[_0x4a090f(0x22c)];}static[a58_0x5a52fe(0x249)](){const _0x4a8888=a58_0x5a52fe,_0x555efd={};_0x555efd[_0x4a8888(0x241)]=_0x4a8888(0x1f5);const _0x1fbf11=_0x555efd;return _0x1fbf11[_0x4a8888(0x241)];}static async[a58_0x5a52fe(0x1c3)](_0x5a87b3){const _0x2c75a6=a58_0x5a52fe,_0x3367a9={'rxIUS':_0x2c75a6(0x24d),'ykbnS':function(_0x278e32,_0x5a8ed3){return _0x278e32(_0x5a8ed3);},'jFvIU':function(_0x71abc9,_0x19c5e0){return _0x71abc9(_0x19c5e0);},'oHiCZ':_0x2c75a6(0x212)};logger[_0x2c75a6(0x26e)](_0x3367a9[_0x2c75a6(0x257)]);const _0x1dd0b1=process[_0x2c75a6(0x219)][_0x2c75a6(0x1bf)];if(!_0x3367a9[_0x2c75a6(0x228)](isNullOrEmpty,_0x1dd0b1))return logger[_0x2c75a6(0x26e)](_0x2c75a6(0x235)+_0x1dd0b1),_0x1dd0b1;try{const _0x2db16c=this[_0x2c75a6(0x213)]();if(_0x3367a9[_0x2c75a6(0x233)](isNullOrEmpty,_0x2db16c))throw new Error(_0x3367a9['oHiCZ']);const _0x114c60=this['getExistingCliPath'](_0x2db16c),_0x4cfd92=await this['checkAndUpdateCli'](_0x114c60,_0x2db16c,_0x5a87b3);return logger[_0x2c75a6(0x26e)](_0x2c75a6(0x1f0)+_0x4cfd92),_0x4cfd92;}catch(_0x5b127b){logger[_0x2c75a6(0x26e)](_0x2c75a6(0x280)+util[_0x2c75a6(0x218)](_0x5b127b));}return null;}static async[a58_0x5a52fe(0x223)](_0x3d29f1,_0xe53b9f,_0x1d502d){const _0x4bdb3b=a58_0x5a52fe,_0x3dc559={'ScgAP':function(_0x13dfc0){return _0x13dfc0();},'tzzTd':function(_0x31a3d5,_0x464ea0){return _0x31a3d5(_0x464ea0);},'cnMni':function(_0xd4969a,_0x772284,_0x3b35e2){return _0xd4969a(_0x772284,_0x3b35e2);},'vXBxK':_0x4bdb3b(0x1bb),'nnEGj':_0x4bdb3b(0x274),'JDMOI':function(_0x4b8974,_0x36fa61,_0x56e5fe){return _0x4b8974(_0x36fa61,_0x56e5fe);}};PerformanceTester[_0x4bdb3b(0x26b)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),logger[_0x4bdb3b(0x279)]('Current\x20CLI\x20Path\x20Found:\x20'+_0x3d29f1);const _0x2e6455=_0x3dc559[_0x4bdb3b(0x237)](getHostInfo),_0x2747f9={'sdk_version':CLIUtils['getSdkVersion'](),'os':_0x2e6455[_0x4bdb3b(0x27f)],'os_arch':_0x2e6455[_0x4bdb3b(0x1e1)],'cli_version':'0','sdk_language':this['getSdkLanguage']()};!_0x3dc559['tzzTd'](isNullOrEmpty,_0x3d29f1)&&(_0x2747f9[_0x4bdb3b(0x1ba)]=await this[_0x4bdb3b(0x20e)](_0x3d29f1+_0x4bdb3b(0x1be)));const _0x41245b=await this[_0x4bdb3b(0x1d2)](_0x2747f9,_0x1d502d);process[_0x4bdb3b(0x219)][_0x4bdb3b(0x1cb)]&&(logger[_0x4bdb3b(0x279)](_0x4bdb3b(0x1ff)+process[_0x4bdb3b(0x219)][_0x4bdb3b(0x1cb)]),_0x41245b[_0x4bdb3b(0x1bb)][_0x4bdb3b(0x274)]=process[_0x4bdb3b(0x219)][_0x4bdb3b(0x1cb)]);if(_0x3dc559[_0x4bdb3b(0x208)](nestedKeyValue,_0x41245b,[_0x3dc559['vXBxK'],_0x3dc559[_0x4bdb3b(0x227)]])){logger[_0x4bdb3b(0x26e)](_0x4bdb3b(0x1f6)+_0x2747f9[_0x4bdb3b(0x1ba)]);const _0x2cedba=await this['downloadLatestBinary'](_0x3dc559[_0x4bdb3b(0x1da)](nestedKeyValue,_0x41245b,[_0x3dc559['vXBxK'],_0x3dc559[_0x4bdb3b(0x227)]]),_0xe53b9f);return PerformanceTester[_0x4bdb3b(0x20d)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x2cedba;}return PerformanceTester['end'](PerformanceEvents[_0x4bdb3b(0x25d)]),_0x3d29f1;}static[a58_0x5a52fe(0x213)](){const _0x4de524=a58_0x5a52fe,_0x19c994={'irJUM':function(_0xc69303,_0x83cee2){return _0xc69303(_0x83cee2);},'FHRgY':'No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','mRWQI':_0x4de524(0x1f8)},_0x16b98a=this['getWritableDir']();try{if(_0x19c994[_0x4de524(0x1d0)](isNullOrEmpty,_0x16b98a))throw new Error(_0x19c994[_0x4de524(0x1d1)]);const _0x15f84e=path[_0x4de524(0x262)](_0x16b98a,_0x19c994['mRWQI']);return!fs[_0x4de524(0x248)](_0x15f84e)&&_0x19c994[_0x4de524(0x1d0)](createDir,_0x15f84e),_0x15f84e;}catch(_0x5b6a2d){logger[_0x4de524(0x26e)](_0x4de524(0x1de)+util[_0x4de524(0x218)](_0x5b6a2d));}}static[a58_0x5a52fe(0x210)](){const _0x4b6b01=a58_0x5a52fe,_0x57d983={'SpiCD':_0x4b6b01(0x247),'YcjbN':'tmp','JCBdN':function(_0x51d904,_0x42df85){return _0x51d904(_0x42df85);},'xEklq':function(_0x3be1b3,_0x5040f3){return _0x3be1b3(_0x5040f3);},'aGPSd':function(_0x4820ac,_0x2e31f0){return _0x4820ac(_0x2e31f0);},'iUgMm':function(_0x351924,_0x34f398){return _0x351924(_0x34f398);},'VxPql':function(_0x21aa1c,_0x4cc397){return _0x21aa1c(_0x4cc397);}},_0x5e86ed=[process['env'][_0x4b6b01(0x204)],path[_0x4b6b01(0x262)](os[_0x4b6b01(0x251)](),_0x57d983[_0x4b6b01(0x1ee)]),path[_0x4b6b01(0x262)](_0x57d983[_0x4b6b01(0x250)],_0x57d983[_0x4b6b01(0x1ee)])];for(const _0x282174 of _0x5e86ed){if(_0x57d983[_0x4b6b01(0x1cc)](isNullOrEmpty,_0x282174))continue;try{if(fs[_0x4b6b01(0x248)](_0x282174)){logger[_0x4b6b01(0x26e)]('Folder\x20'+_0x282174+_0x4b6b01(0x1c5));if(!_0x57d983[_0x4b6b01(0x1fa)](isModifiable,_0x282174)){logger[_0x4b6b01(0x26e)](_0x4b6b01(0x26d)+_0x282174);const _0x2fa7be=_0x57d983[_0x4b6b01(0x1d4)](setReadWriteExecuteAccess,_0x282174);!_0x57d983[_0x4b6b01(0x1d4)](isTrue,_0x2fa7be)&&logger[_0x4b6b01(0x1f3)]('Unable\x20to\x20set\x20required\x20permissions\x20to\x20'+_0x282174);}}else{logger['debug'](_0x4b6b01(0x1ea)+_0x282174),_0x57d983[_0x4b6b01(0x26a)](createDir,_0x282174),logger[_0x4b6b01(0x26e)](_0x4b6b01(0x26d)+_0x282174);const _0x34b83c=_0x57d983['VxPql'](setReadWriteExecuteAccess,_0x282174);!_0x57d983[_0x4b6b01(0x1d4)](isTrue,_0x34b83c)&&logger[_0x4b6b01(0x1f3)](_0x4b6b01(0x214)+_0x282174);}return _0x282174;}catch(_0x4d2b5f){logger[_0x4b6b01(0x25e)](_0x4b6b01(0x1f4)+util['format'](_0x4d2b5f));}}return null;}static[a58_0x5a52fe(0x229)](_0xfe51b1){const _0x3eb229=a58_0x5a52fe,_0x3b483d={};_0x3b483d[_0x3eb229(0x234)]=function(_0x2665e9,_0xb5069f){return _0x2665e9>_0xb5069f;},_0x3b483d[_0x3eb229(0x244)]=function(_0x51c78b,_0x3ada48){return _0x51c78b>_0x3ada48;};const _0x5b4e14=_0x3b483d;try{if(!fs[_0x3eb229(0x248)](_0xfe51b1)||!fs[_0x3eb229(0x252)](_0xfe51b1)[_0x3eb229(0x230)]())return'';const _0x561712=fs[_0x3eb229(0x1bd)](_0xfe51b1)[_0x3eb229(0x1db)](_0x3de7a6=>path[_0x3eb229(0x262)](_0xfe51b1,_0x3de7a6))[_0x3eb229(0x243)](_0x52e3f8=>fs[_0x3eb229(0x252)](_0x52e3f8)['isFile']()&&path[_0x3eb229(0x24b)](_0x52e3f8)[_0x3eb229(0x1d7)](_0x3eb229(0x239)));if(_0x5b4e14[_0x3eb229(0x244)](_0x561712[_0x3eb229(0x201)],0x0)){const _0x5f4cc8=_0x561712[_0x3eb229(0x1db)](_0x3dee39=>({'filePath':_0x3dee39,'mtime':fs['statSync'](_0x3dee39)[_0x3eb229(0x217)]}))[_0x3eb229(0x258)]((_0x17305d,_0x4cf9d6)=>{const _0x42f916=_0x3eb229;if(!_0x17305d||!_0x17305d['mtime'])return _0x4cf9d6;if(_0x5b4e14[_0x42f916(0x234)](_0x4cf9d6[_0x42f916(0x217)],_0x17305d[_0x42f916(0x217)]))return _0x4cf9d6;return _0x17305d;},{});return _0x5f4cc8?_0x5f4cc8[_0x3eb229(0x1e6)]:'';}return'';}catch(_0x4eb000){return logger['error'](_0x3eb229(0x240)+util[_0x3eb229(0x218)](_0x4eb000)),'';}}static [a58_0x5a52fe(0x1d2)]=async(_0x14d6de,_0x44c624)=>{const _0x3bc34c=a58_0x5a52fe,_0x60fd58={'vmQnh':function(_0x3e8870,_0x4e1d88,_0x373060,_0x8b4326,_0x383cd2,_0x5cde2f){return _0x3e8870(_0x4e1d88,_0x373060,_0x8b4326,_0x383cd2,_0x5cde2f);},'oxixs':_0x3bc34c(0x232)},_0x463f7e={};_0x463f7e['qs']=_0x14d6de;const _0xf7b56c=await _0x60fd58['vmQnh'](nodeRequest,_0x60fd58[_0x3bc34c(0x23a)],UPDATED_CLI_ENDPOINT,_0x463f7e,_0x44c624,BROWSERSTACK_API_URL);return logger[_0x3bc34c(0x26e)]('response\x20'+JSON[_0x3bc34c(0x1e4)](_0xf7b56c)),_0xf7b56c;};static['runShellCommand'](_0x299d91,_0x1005eb=''){const _0x2a74fc=a58_0x5a52fe,_0x2f7dcd={'WKdDY':function(_0x472458,_0x35988d){return _0x472458(_0x35988d);},'UhcaM':'SHELL_EXECUTE_ERROR','mfqjO':function(_0x999869,_0x1ca221){return _0x999869(_0x1ca221);},'CWVCz':function(_0x224672,_0x17c42e){return _0x224672(_0x17c42e);},'KDYVM':function(_0x4eb755,_0x3f6d1b,_0x59c2da,_0x531aa7){return _0x4eb755(_0x3f6d1b,_0x59c2da,_0x531aa7);},'RDbgU':_0x2a74fc(0x25e)};return new Promise((_0x3acc93,_0x492f97)=>{const _0x45e2c6=_0x2a74fc,_0x3a3abc={'PpsHm':function(_0x1cf5dd,_0x54621a){const _0x2194a9=a58_0x4e9e;return _0x2f7dcd[_0x2194a9(0x21b)](_0x1cf5dd,_0x54621a);},'Czcad':_0x2f7dcd[_0x45e2c6(0x21d)],'LtsjV':function(_0x132737,_0x446f8d){const _0x3d71a5=_0x45e2c6;return _0x2f7dcd[_0x3d71a5(0x25b)](_0x132737,_0x446f8d);}},_0x17dbca={};_0x17dbca[_0x45e2c6(0x1ec)]=_0x1005eb,_0x17dbca[_0x45e2c6(0x202)]=0x1388;const _0x2fc5c8=_0x2f7dcd[_0x45e2c6(0x22d)](exec,_0x299d91,_0x17dbca,(_0x3a90d3,_0x13f40a,_0x458386)=>{const _0xdd9af7=_0x45e2c6;_0x3a90d3?_0x3a3abc[_0xdd9af7(0x1f7)](_0x3acc93,_0x458386[_0xdd9af7(0x1c6)]()||_0x3a3abc[_0xdd9af7(0x1c2)]):_0x3a3abc[_0xdd9af7(0x245)](_0x3acc93,_0x13f40a[_0xdd9af7(0x1c6)]());});_0x2fc5c8['on'](_0x2f7dcd['RDbgU'],()=>{const _0x5dd494=_0x45e2c6;_0x2f7dcd[_0x5dd494(0x226)](_0x3acc93,_0x2f7dcd[_0x5dd494(0x21d)]);});});}static ['downloadLatestBinary']=async(_0x523768,_0x452bd2)=>{const _0x38a980=a58_0x5a52fe,_0x1d6d3f={'wENWG':_0x38a980(0x1ca),'iSiXk':function(_0x4f90c9,_0x31f9d1){return _0x4f90c9(_0x31f9d1);},'HzByY':_0x38a980(0x209),'VIvFY':'error','CpiQo':_0x38a980(0x1e9)};PerformanceTester[_0x38a980(0x26b)](PerformanceEvents[_0x38a980(0x273)]),logger['debug'](_0x38a980(0x253)+_0x523768);try{const _0x2cb3c0=url['parse'](_0x523768),_0x145254=path[_0x38a980(0x262)](_0x452bd2,_0x1d6d3f['CpiQo']),_0x2e288a=fs[_0x38a980(0x27e)](_0x145254);return new Promise((_0x1987a8,_0x21ea0c)=>{const _0xfa4bc3=_0x38a980,_0x47c8b4={'CjEHn':_0x1d6d3f[_0xfa4bc3(0x255)],'BiBvC':function(_0x1405bb,_0x49cd60){const _0x751eef=_0xfa4bc3;return _0x1d6d3f[_0x751eef(0x236)](_0x1405bb,_0x49cd60);},'phtEB':_0x1d6d3f['HzByY'],'RDNCU':function(_0x3a6cca,_0x5a9c7a){const _0x23af1e=_0xfa4bc3;return _0x1d6d3f[_0x23af1e(0x236)](_0x3a6cca,_0x5a9c7a);},'pNAOU':_0x1d6d3f[_0xfa4bc3(0x1d5)]};https[_0xfa4bc3(0x278)](_0x2cb3c0,function(_0x5afdb0){const _0x42869b=_0xfa4bc3,_0x20f5f3={'DgCIv':_0x47c8b4[_0x42869b(0x1c9)],'bAdKf':function(_0x3018aa,_0x5b2ac4){const _0x298299=_0x42869b;return _0x47c8b4[_0x298299(0x256)](_0x3018aa,_0x5b2ac4);}},_0x5a6633=null;_0x5afdb0[_0x42869b(0x25f)](_0x2e288a),_0x5afdb0['on'](_0x47c8b4['pNAOU'],function(_0x401c45){const _0x3d18df=_0x42869b;logger['error'](util['format'](_0x47c8b4[_0x3d18df(0x246)],_0x401c45)),PerformanceTester[_0x3d18df(0x20d)](PerformanceEvents[_0x3d18df(0x273)],![],util[_0x3d18df(0x218)](_0x401c45)),_0x47c8b4['BiBvC'](_0x21ea0c,_0x401c45);}),_0x2e288a['on'](_0x47c8b4[_0x42869b(0x25c)],function(_0x4ee336){const _0x336e61=_0x42869b;logger[_0x336e61(0x25e)](util[_0x336e61(0x218)](_0x20f5f3[_0x336e61(0x1ce)],_0x4ee336)),PerformanceTester[_0x336e61(0x20d)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x336e61(0x218)](_0x4ee336)),_0x20f5f3[_0x336e61(0x1df)](_0x21ea0c,_0x4ee336);}),CLIUtils[_0x42869b(0x1ed)](_0x2e288a,_0x5a6633,_0x145254,_0x452bd2,_0x1987a8,_0x21ea0c),PerformanceTester[_0x42869b(0x20d)](PerformanceEvents[_0x42869b(0x273)]);})['on'](_0x1d6d3f[_0xfa4bc3(0x1d5)],function(_0x32a890){const _0x5a508d=_0xfa4bc3;logger['error'](_0x5a508d(0x22b)+util[_0x5a508d(0x218)](_0x32a890)),PerformanceTester[_0x5a508d(0x20d)](PerformanceEvents[_0x5a508d(0x273)],![],util['format'](_0x32a890)),_0x47c8b4['RDNCU'](_0x21ea0c,_0x32a890);});});}catch(_0x4a9fac){PerformanceTester[_0x38a980(0x20d)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x38a980(0x218)](_0x4a9fac)),logger[_0x38a980(0x26e)](_0x38a980(0x23b)+util[_0x38a980(0x218)](_0x4a9fac));}};static['downloadFileStream'](_0x37f083,_0x21b3ec,_0x1cad98,_0x20f0c5,_0x5ca0c7,_0x19aed0){const _0x12c9d9=a58_0x5a52fe,_0x50fa2f={'oSnjV':function(_0x43f91e,_0x9d4cad){return _0x43f91e(_0x9d4cad);},'Mtwmq':_0x12c9d9(0x20d),'WyMnI':function(_0x3d9a1e,_0x4af1ad){return _0x3d9a1e===_0x4af1ad;},'QCaVZ':function(_0x31c8ac,_0x46f57c){return _0x31c8ac(_0x46f57c);},'iFztJ':function(_0x4e12e7,_0x279761){return _0x4e12e7(_0x279761);},'DSDzU':_0x12c9d9(0x275),'TOCIH':_0x12c9d9(0x266),'WCkih':_0x12c9d9(0x25e),'YSHuF':_0x12c9d9(0x20f)};_0x37f083['on'](_0x50fa2f[_0x12c9d9(0x1bc)],function(){const _0x2c4846=_0x12c9d9,_0x3927ed={'lSFWe':function(_0x4e1ded,_0x1611c6){const _0xdbad60=a58_0x4e9e;return _0x50fa2f[_0xdbad60(0x272)](_0x4e1ded,_0x1611c6);},'SqXWx':_0x50fa2f[_0x2c4846(0x23f)],'TsIjV':function(_0x378d30,_0x58705f){return _0x50fa2f['WyMnI'](_0x378d30,_0x58705f);},'nFPlp':function(_0x3f9c1f,_0x2d56bb){const _0x393f3f=_0x2c4846;return _0x50fa2f[_0x393f3f(0x1d8)](_0x3f9c1f,_0x2d56bb);},'XchVz':function(_0x36738b,_0x257fdd){const _0x479dcb=_0x2c4846;return _0x50fa2f[_0x479dcb(0x272)](_0x36738b,_0x257fdd);},'DzPbE':function(_0xb1a2ae,_0xe0ee28){const _0x16c7c0=_0x2c4846;return _0x50fa2f[_0x16c7c0(0x215)](_0xb1a2ae,_0xe0ee28);},'XDFur':_0x50fa2f['DSDzU'],'pJhhc':_0x50fa2f[_0x2c4846(0x276)],'UpnsP':_0x50fa2f[_0x2c4846(0x220)]},_0x2ca36f={};_0x2ca36f[_0x2c4846(0x24e)]=!![],yauzl[_0x2c4846(0x254)](_0x1cad98,_0x2ca36f,function(_0x411848,_0x57c655){const _0x5df886=_0x2c4846,_0x30c343={'LjIGy':function(_0x130089,_0x86286d){const _0x2b4577=a58_0x4e9e;return _0x3927ed[_0x2b4577(0x27a)](_0x130089,_0x86286d);},'hsmGB':function(_0x2f9b14,_0x3c6545){const _0x40672c=a58_0x4e9e;return _0x3927ed[_0x40672c(0x264)](_0x2f9b14,_0x3c6545);},'SlSaO':function(_0x580d2c,_0x3b03d6){const _0xbb2224=a58_0x4e9e;return _0x3927ed[_0xbb2224(0x1d3)](_0x580d2c,_0x3b03d6);},'hSSNc':_0x3927ed[_0x5df886(0x1fb)]};_0x411848&&_0x3927ed[_0x5df886(0x264)](_0x19aed0,_0x411848),_0x57c655[_0x5df886(0x1dd)](),_0x57c655['on'](_0x3927ed[_0x5df886(0x231)],_0x5aa038=>{const _0x363aee=_0x5df886,_0x46f11f={'qkzwV':function(_0x5601cf,_0x40286a){const _0x4c3c8a=a58_0x4e9e;return _0x3927ed[_0x4c3c8a(0x1f9)](_0x5601cf,_0x40286a);},'CNwBN':_0x3927ed['SqXWx']};!_0x21b3ec&&(_0x21b3ec=_0x5aa038[_0x363aee(0x20c)]);if(/\/$/['test'](_0x5aa038[_0x363aee(0x20c)]))_0x57c655[_0x363aee(0x1dd)]();else{const _0x2ea14a=fs[_0x363aee(0x27e)](path[_0x363aee(0x262)](_0x20f0c5,_0x5aa038[_0x363aee(0x20c)]));_0x57c655['openReadStream'](_0x5aa038,function(_0x26bc60,_0x3a987c){const _0x22c80a=_0x363aee;_0x26bc60&&_0x46f11f[_0x22c80a(0x1f1)](_0x19aed0,_0x411848),_0x3a987c['on'](_0x46f11f[_0x22c80a(0x269)],function(){const _0x1a1bf4=_0x22c80a;_0x2ea14a['close'](),_0x57c655[_0x1a1bf4(0x1dd)]();}),_0x3a987c[_0x22c80a(0x25f)](_0x2ea14a);}),_0x3927ed['TsIjV'](_0x5aa038[_0x363aee(0x20c)],_0x21b3ec)&&_0x57c655['close']();}}),_0x57c655['on'](_0x3927ed[_0x5df886(0x1ef)],_0x1179f2=>{const _0xee0b2f=_0x5df886;_0x30c343[_0xee0b2f(0x270)](_0x19aed0,_0x1179f2);}),_0x57c655[_0x5df886(0x267)](_0x3927ed['SqXWx'],()=>{const _0x28ae12=_0x5df886,_0x1996f7={'QebXF':function(_0x3beddf,_0x1766a3){const _0xa6a20b=a58_0x4e9e;return _0x30c343[_0xa6a20b(0x22e)](_0x3beddf,_0x1766a3);},'kYIvU':function(_0x452d5d,_0x1cb29f){return _0x30c343['SlSaO'](_0x452d5d,_0x1cb29f);}};fs[_0x28ae12(0x1f2)](_0x1cad98,_0x34d306=>{const _0x159d11=_0x28ae12;_0x34d306&&logger[_0x159d11(0x1f3)](_0x159d11(0x24a)+_0x1cad98);}),fs[_0x28ae12(0x271)](_0x20f0c5+'/'+_0x21b3ec,_0x30c343[_0x28ae12(0x200)],function(_0x459b68){const _0x3a3e4a=_0x28ae12;_0x459b68&&_0x1996f7[_0x3a3e4a(0x1e8)](_0x19aed0,_0x459b68),_0x1996f7['kYIvU'](_0x5ca0c7,_0x20f0c5+'/'+_0x21b3ec);}),_0x57c655[_0x28ae12(0x20f)]();});});});}static[a58_0x5a52fe(0x1e0)](){const _0x71ca9b=a58_0x5a52fe;if(process[_0x71ca9b(0x219)][_0x71ca9b(0x26f)])return JSON[_0x71ca9b(0x263)](process[_0x71ca9b(0x219)][_0x71ca9b(0x26f)]);return this['testFrameworkDetail'];}static['getAutomationFrameworkDetail'](){const _0x5e6598=a58_0x5a52fe;if(process[_0x5e6598(0x219)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL'])return JSON['parse'](process[_0x5e6598(0x219)][_0x5e6598(0x265)]);return this['automationFrameworkDetail'];}static['setFrameworkDetail'](_0x47539a,_0x1b9fe1){const _0x243efd=a58_0x5a52fe,_0x31daa5={'uyUkQ':_0x243efd(0x1c7),'lYFdu':function(_0x380da1,_0x3c900d){return _0x380da1(_0x3c900d);},'JVFFO':function(_0x5e76ed,_0x11b498){return _0x5e76ed(_0x11b498);},'RfdWy':function(_0x12a18e,_0x14aecb){return _0x12a18e||_0x14aecb;}},_0x21f5bd=_0x31daa5[_0x243efd(0x1e2)][_0x243efd(0x1e7)]('|');let _0x1f3396=0x0;while(!![]){switch(_0x21f5bd[_0x1f3396++]){case'0':this[_0x243efd(0x20b)]={'name':_0x47539a,'version':{[_0x47539a]:_0x31daa5['lYFdu'](getFrameworkVersion,_0x47539a)}};continue;case'1':process[_0x243efd(0x219)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']=JSON[_0x243efd(0x1e4)](this['automationFrameworkDetail']);continue;case'2':process['env'][_0x243efd(0x26f)]=JSON[_0x243efd(0x1e4)](this[_0x243efd(0x20b)]);continue;case'3':this['automationFrameworkDetail']={'name':_0x1b9fe1,'version':_0x31daa5[_0x243efd(0x242)](getFrameworkVersion,_0x1b9fe1)};continue;case'4':_0x31daa5[_0x243efd(0x25a)](!_0x47539a,!_0x1b9fe1)&&logger[_0x243efd(0x26e)](_0x243efd(0x216)+_0x47539a+_0x243efd(0x1d9)+_0x1b9fe1);continue;}break;}}static[a58_0x5a52fe(0x1cd)](_0x5514ff,_0x70483d){return _0x5514ff+':'+_0x70483d;}static[a58_0x5a52fe(0x27b)](){const _0x5d424c=a58_0x5a52fe;return process[_0x5d424c(0x1c4)]+':'+threadId;}static[a58_0x5a52fe(0x21c)](_0x5e4e5b){const _0x51398e=a58_0x5a52fe;if(_0x5e4e5b[_0x51398e(0x23e)]&&_0x5e4e5b[_0x51398e(0x23e)][_0x51398e(0x20a)])return!![];return![];}static['shouldSkipSessionStatus'](_0x39aab6){const _0x27cd6e=a58_0x5a52fe;if(_0x39aab6[_0x27cd6e(0x23e)]&&_0x39aab6[_0x27cd6e(0x23e)][_0x27cd6e(0x1cf)])return!![];return![];}static['matchHookRegex'](_0xe56b9e){const _0x1fff58=a58_0x5a52fe,_0x3a35f5=new RegExp(TestFrameworkConstants[_0x1fff58(0x238)]);return _0x3a35f5[_0x1fff58(0x221)](_0xe56b9e);}}function a58_0x4407(){const _0x4eff6f=['MFjBL','Development\x20Cli\x20Path:\x20','iSiXk','ScgAP','HOOK_REGEX','binary-','oxixs','Failed\x20to\x20download\x20binary,\x20Exception:\x20','development','1757ybCrCG','testContextOptions','Mtwmq','Error\x20while\x20reading\x20CLI\x20path:\x20','sEjze','JVFFO','filter','WvRpi','LtsjV','CjEHn','.browserstack','existsSync','getSdkLanguage','Failed\x20to\x20delete\x20zip\x20file:\x20','basename','9427008XJEsdi','Configuring\x20Cli\x20path.','lazyEntries','listen','YcjbN','homedir','statSync','Downloading\x20SDK\x20binary\x20from:\x20','open','wENWG','RDNCU','rxIUS','reduce','.sock','RfdWy','CWVCz','pNAOU','SDK_CLI_CHECK_UPDATE','error','pipe','450Splwsz','exports','join','parse','XchVz','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','entry','once','../../helpers/classLogger.js','CNwBN','iUgMm','start','../../../package.json','Setting\x20required\x20permissions\x20to\x20','debug','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','LjIGy','chmod','oSnjV','SDK_CLI_DOWNLOAD','url','0755','TOCIH','JhUIC','get','info','nFPlp','getCurrentInstanceName','FTRVd','./instances/testFrameworkInstance.js','createWriteStream','platform','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','cli_version','data','YSHuF','readdirSync','\x20version','SDK_CLI_BIN_PATH','4416423NhFqqe','eFyxq','Czcad','setupCliPath','pid','\x20already\x20exists','trim','4|0|3|1|2','18316iYETHX','phtEB','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','BROWSERSTACK_BINARY_URL','JCBdN','getHookRegistryKey','DgCIv','skipSessionStatus','irJUM','FHRgY','requestToUpdateCLI','DzPbE','aGPSd','VIvFY','getCLIParamsForDevEnv','startsWith','QCaVZ',',\x20automationFramework=','JDMOI','map','1622aLuOuk','readEntry','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','bAdKf','getTestFrameworkDetail','arch','uyUkQ','../../helpers/helper','stringify','585mHSPMz','filePath','split','QebXF','downloaded_file.zip','Folder\x20does\x20not\x20exist:\x20','./state/automationFrameworkState.js','cwd','downloadFileStream','SpiCD','UpnsP','Resolved\x20binary\x20path:\x20','qkzwV','unlink','warn','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','node','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','PpsHm','cli','lSFWe','xEklq','XDFur','yauzl','./state/testFrameworkState.js','../../helpers/performance/constants','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','hSSNc','length','timeout','13164lwfmwy','BROWSERSTACK_FILES_DIR','getSdkVersion','1208oxmICV','../../helpers/utilities','cnMni','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','skipSessionName','testFrameworkDetail','fileName','end','runShellCommand','close','getWritableDir','follow-redirects','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','getCliDir','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','iFztJ','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','mtime','format','env','14auAyrM','mfqjO','shouldSkipSessionName','UhcaM','12260hdKROe','isDevelopmentEnv','WCkih','test','Spoay','checkAndUpdateCli','51WnPRZr','BROWSERSTACK_CLI_ENV','WKdDY','nnEGj','ykbnS','getExistingCliPath','unix:/tmp/sdk-platform-','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','version','KDYVM','hsmGB','child_process','isDirectory','pJhhc','GET','jFvIU'];a58_0x4407=function(){return _0x4eff6f;};return a58_0x4407();}module[a58_0x5a52fe(0x261)]=CLIUtils;