const a64_0x36d76a=a64_0x306b;(function(_0x1421c6,_0x4e56aa){const _0x2fde10=a64_0x306b,_0xb08ede=_0x1421c6();while(!![]){try{const _0x537d2f=-parseInt(_0x2fde10(0x22d))/0x1*(-parseInt(_0x2fde10(0x245))/0x2)+-parseInt(_0x2fde10(0x22f))/0x3*(parseInt(_0x2fde10(0x1af))/0x4)+-parseInt(_0x2fde10(0x243))/0x5+parseInt(_0x2fde10(0x218))/0x6+parseInt(_0x2fde10(0x1a5))/0x7+-parseInt(_0x2fde10(0x1db))/0x8+parseInt(_0x2fde10(0x1b2))/0x9;if(_0x537d2f===_0x4e56aa)break;else _0xb08ede['push'](_0xb08ede['shift']());}catch(_0x4fec48){_0xb08ede['push'](_0xb08ede['shift']());}}}(a64_0x20b2,0xde26a));const fs=require('fs'),os=require('os'),url=require(a64_0x36d76a(0x1e2)),path=require('path'),{exec}=require(a64_0x36d76a(0x1c8)),{https}=require(a64_0x36d76a(0x23c)),yauzl=require(a64_0x36d76a(0x1d7)),util=require(a64_0x36d76a(0x213)),{getFrameworkVersion}=require(a64_0x36d76a(0x19f)),{threadId}=require(a64_0x36d76a(0x25c)),PerformanceTester=require('../../helpers/performance/performance-tester.js'),{EVENTS:PerformanceEvents}=require('../../helpers/performance/constants'),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require('../../helpers/utilities'),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a64_0x36d76a(0x20e)),{UPDATED_CLI_ENDPOINT,BINARY_BUSY_ERROR_CODES}=require(a64_0x36d76a(0x261)),{createClassLogger}=require(a64_0x36d76a(0x1f9)),TestFrameworkInstance=require(a64_0x36d76a(0x1d5)),HookState=require(a64_0x36d76a(0x254)),TestFrameworkState=require(a64_0x36d76a(0x1ec)),AutomationFrameworkState=require(a64_0x36d76a(0x234)),TestFrameworkConstants=require(a64_0x36d76a(0x22a)),logger=createClassLogger(a64_0x36d76a(0x244)),{getBStackAPIUrl}=require(a64_0x36d76a(0x1bf));function a64_0x306b(_0x2b605b,_0x2457f3){const _0x20b25e=a64_0x20b2();return a64_0x306b=function(_0x306b9f,_0x3d0ca9){_0x306b9f=_0x306b9f-0x19e;let _0x4e9642=_0x20b25e[_0x306b9f];return _0x4e9642;},a64_0x306b(_0x2b605b,_0x2457f3);}class CLIUtils{[a64_0x36d76a(0x25d)]={};['testFrameworkDetail']={};static[a64_0x36d76a(0x1d2)](){const _0x4224bb=a64_0x36d76a,_0x19eeaf={};_0x19eeaf[_0x4224bb(0x226)]=function(_0x5a061d,_0x38187f){return _0x5a061d===_0x38187f;},_0x19eeaf[_0x4224bb(0x249)]=_0x4224bb(0x252);const _0x11273c=_0x19eeaf;return _0x11273c[_0x4224bb(0x226)](process[_0x4224bb(0x1c4)]['BROWSERSTACK_CLI_ENV'],_0x11273c[_0x4224bb(0x249)]);}static[a64_0x36d76a(0x1b0)](){const _0x5a6061=a64_0x36d76a,_0xe37a90={};return _0xe37a90['id']=process['env'][_0x5a6061(0x1b7)],_0xe37a90[_0x5a6061(0x1e9)]=_0x5a6061(0x1fa)+process['env'][_0x5a6061(0x1b7)]+_0x5a6061(0x1ad),_0xe37a90;}static[a64_0x36d76a(0x1e5)](){const _0x2f3e77=a64_0x36d76a,_0xc96faf={'ynCGQ':function(_0x58a8ee,_0x491584){return _0x58a8ee(_0x491584);},'hzxLm':_0x2f3e77(0x207)};return _0xc96faf[_0x2f3e77(0x1e7)](require,_0xc96faf[_0x2f3e77(0x235)])[_0x2f3e77(0x1f0)];}static[a64_0x36d76a(0x25e)](){const _0x5adaa3=a64_0x36d76a,_0x53c911={};_0x53c911[_0x5adaa3(0x1f2)]='node';const _0x11ed26=_0x53c911;return _0x11ed26['iVjOy'];}static async[a64_0x36d76a(0x24e)](_0x27b942){const _0x3207ca=a64_0x36d76a,_0x449113={'vQwVQ':_0x3207ca(0x1d3),'xBxIA':function(_0x4e620b,_0x16d9a7){return _0x4e620b(_0x16d9a7);},'XNUMh':_0x3207ca(0x251)};logger[_0x3207ca(0x1b8)](_0x449113[_0x3207ca(0x1a2)]);const _0x3da53d=process[_0x3207ca(0x1c4)][_0x3207ca(0x1aa)];if(!_0x449113[_0x3207ca(0x233)](isNullOrEmpty,_0x3da53d))return logger[_0x3207ca(0x1b8)]('Development\x20Cli\x20Path:\x20'+_0x3da53d),_0x3da53d;try{const _0x23a313=this['getCliDir']();if(_0x449113[_0x3207ca(0x233)](isNullOrEmpty,_0x23a313))throw new Error(_0x449113[_0x3207ca(0x1d8)]);const _0x4837c3=this[_0x3207ca(0x1ce)](_0x23a313),_0x24168d=await this[_0x3207ca(0x1ed)](_0x4837c3,_0x23a313,_0x27b942);return logger['debug']('Resolved\x20binary\x20path:\x20'+_0x24168d),_0x24168d;}catch(_0x4721e9){logger[_0x3207ca(0x1b8)]('Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20'+util[_0x3207ca(0x248)](_0x4721e9));}return null;}static async['checkAndUpdateCli'](_0x33c713,_0x37e9a0,_0x26ed49){const _0x436960=a64_0x36d76a,_0x1fab4b={'yalJz':function(_0x121b27){return _0x121b27();},'erCKc':function(_0x4c7ae0,_0x99430f){return _0x4c7ae0(_0x99430f);},'zJQzu':function(_0x23920b,_0x5f5cb9,_0x55843d){return _0x23920b(_0x5f5cb9,_0x55843d);},'DJwYT':_0x436960(0x1f4),'WHpUA':_0x436960(0x1e2),'sOmFe':function(_0x4806e5,_0x1b449e,_0x1f4e50){return _0x4806e5(_0x1b449e,_0x1f4e50);}};PerformanceTester['start'](PerformanceEvents[_0x436960(0x1c6)]),logger[_0x436960(0x1b6)](_0x436960(0x1ac)+_0x33c713);const _0x4494d5=_0x1fab4b[_0x436960(0x202)](getHostInfo),_0x1e29d7={'sdk_version':CLIUtils[_0x436960(0x1e5)](),'os':_0x4494d5[_0x436960(0x1a1)],'os_arch':_0x4494d5[_0x436960(0x22c)],'cli_version':'0','sdk_language':this[_0x436960(0x25e)]()};!_0x1fab4b[_0x436960(0x227)](isNullOrEmpty,_0x33c713)&&(_0x1e29d7['cli_version']=await this[_0x436960(0x201)](_0x33c713+'\x20version'));const _0x3c6f95=await this[_0x436960(0x1e3)](_0x1e29d7,_0x26ed49);process[_0x436960(0x1c4)]['BROWSERSTACK_BINARY_URL']&&(logger[_0x436960(0x1b6)](_0x436960(0x1ef)+process[_0x436960(0x1c4)][_0x436960(0x1a8)]),_0x3c6f95['data'][_0x436960(0x1e2)]=process['env'][_0x436960(0x1a8)]);if(_0x1fab4b['zJQzu'](nestedKeyValue,_0x3c6f95,[_0x1fab4b[_0x436960(0x1a6)],_0x1fab4b['WHpUA']])){logger[_0x436960(0x1b8)]('Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20'+_0x1e29d7[_0x436960(0x1d6)]);if(!_0x1fab4b['erCKc'](isNullOrEmpty,_0x33c713)&&this[_0x436960(0x231)](_0x33c713))return logger[_0x436960(0x1e6)](_0x436960(0x1bc)+_0x33c713),PerformanceTester[_0x436960(0x1bb)](PerformanceEvents[_0x436960(0x1c6)]),_0x33c713;const _0x5091de=await this[_0x436960(0x221)](_0x1fab4b[_0x436960(0x1e8)](nestedKeyValue,_0x3c6f95,[_0x1fab4b[_0x436960(0x1a6)],_0x1fab4b[_0x436960(0x1e1)]]),_0x37e9a0);return PerformanceTester[_0x436960(0x1bb)](PerformanceEvents[_0x436960(0x1c6)]),_0x5091de;}return PerformanceTester[_0x436960(0x1bb)](PerformanceEvents[_0x436960(0x1c6)]),_0x33c713;}static[a64_0x36d76a(0x1df)](){const _0x47eddd=a64_0x36d76a,_0x232f82={'PpEVg':function(_0x4377f1,_0x3472e5){return _0x4377f1(_0x3472e5);},'UOVyo':_0x47eddd(0x251),'rsZIl':_0x47eddd(0x225)},_0x474c5c=this['getWritableDir']();try{if(_0x232f82['PpEVg'](isNullOrEmpty,_0x474c5c))throw new Error(_0x232f82[_0x47eddd(0x1f6)]);const _0x46a003=path[_0x47eddd(0x1f8)](_0x474c5c,_0x232f82[_0x47eddd(0x246)]);return!fs[_0x47eddd(0x1be)](_0x46a003)&&_0x232f82[_0x47eddd(0x1ee)](createDir,_0x46a003),_0x46a003;}catch(_0x412e30){logger['debug']('Error\x20in\x20getting\x20writable\x20directory,\x20writableDir='+util[_0x47eddd(0x248)](_0x412e30));}}static['getWritableDir'](){const _0x1656f3=a64_0x36d76a,_0x1de517={'NXXSV':'.browserstack','TxxVl':function(_0x5cdd06,_0x5e3864){return _0x5cdd06(_0x5e3864);},'wEeOg':function(_0xfaee20,_0x45ceae){return _0xfaee20(_0x45ceae);},'rBZGU':function(_0xf74f12,_0x7fc743){return _0xf74f12(_0x7fc743);},'vJlbF':function(_0x46128d,_0x2f1e53){return _0x46128d(_0x2f1e53);}},_0x49b7c3=[process[_0x1656f3(0x1c4)][_0x1656f3(0x219)],path[_0x1656f3(0x1f8)](os[_0x1656f3(0x1a9)](),_0x1de517[_0x1656f3(0x241)]),path[_0x1656f3(0x1f8)](os[_0x1656f3(0x223)](),_0x1de517[_0x1656f3(0x241)])];for(const _0x72c4f0 of _0x49b7c3){if(_0x1de517[_0x1656f3(0x1f1)](isNullOrEmpty,_0x72c4f0))continue;try{if(fs[_0x1656f3(0x1be)](_0x72c4f0)){logger[_0x1656f3(0x1b8)](_0x1656f3(0x1a3)+_0x72c4f0+_0x1656f3(0x1ba));if(!_0x1de517[_0x1656f3(0x23b)](isModifiable,_0x72c4f0)){logger[_0x1656f3(0x1b8)](_0x1656f3(0x1a0)+_0x72c4f0);const _0x3140d8=_0x1de517[_0x1656f3(0x23b)](setReadWriteExecuteAccess,_0x72c4f0);if(!_0x1de517[_0x1656f3(0x239)](isTrue,_0x3140d8)){logger[_0x1656f3(0x1e6)]('Unable\x20to\x20set\x20required\x20permissions\x20to\x20'+_0x72c4f0);continue;}}}else{logger[_0x1656f3(0x1b8)](_0x1656f3(0x1bd)+_0x72c4f0),_0x1de517[_0x1656f3(0x1f1)](createDir,_0x72c4f0),logger[_0x1656f3(0x1b8)](_0x1656f3(0x1a0)+_0x72c4f0);const _0x47a861=_0x1de517[_0x1656f3(0x23b)](setReadWriteExecuteAccess,_0x72c4f0);!_0x1de517[_0x1656f3(0x1b5)](isTrue,_0x47a861)&&logger[_0x1656f3(0x1e6)](_0x1656f3(0x1fc)+_0x72c4f0);}return _0x72c4f0;}catch(_0x585ca0){logger[_0x1656f3(0x242)](_0x1656f3(0x240)+util['format'](_0x585ca0));}}return null;}static[a64_0x36d76a(0x1ce)](_0x92391c){const _0x2e6b11=a64_0x36d76a,_0x56c594={};_0x56c594[_0x2e6b11(0x204)]=function(_0x1132e6,_0x87e8e8){return _0x1132e6>_0x87e8e8;},_0x56c594['Zgjtr']=function(_0x2fedbe,_0x3c6d39){return _0x2fedbe>_0x3c6d39;};const _0x59fee1=_0x56c594;try{if(!fs['existsSync'](_0x92391c)||!fs['statSync'](_0x92391c)['isDirectory']())return'';const _0x4a8cb8=fs['readdirSync'](_0x92391c)[_0x2e6b11(0x1cc)](_0xf63755=>path[_0x2e6b11(0x1f8)](_0x92391c,_0xf63755))[_0x2e6b11(0x1ae)](_0x247222=>fs['statSync'](_0x247222)['isFile']()&&path[_0x2e6b11(0x1d9)](_0x247222)[_0x2e6b11(0x229)](_0x2e6b11(0x220)));if(_0x59fee1['Zgjtr'](_0x4a8cb8[_0x2e6b11(0x224)],0x0)){const _0x189ca8=_0x4a8cb8[_0x2e6b11(0x1cc)](_0x37bfaf=>({'filePath':_0x37bfaf,'mtime':fs['statSync'](_0x37bfaf)[_0x2e6b11(0x24b)]}))['reduce']((_0x25b108,_0xfdcbb8)=>{const _0x9404a5=_0x2e6b11;if(!_0x25b108||!_0x25b108[_0x9404a5(0x24b)])return _0xfdcbb8;if(_0x59fee1['tQKBI'](_0xfdcbb8[_0x9404a5(0x24b)],_0x25b108[_0x9404a5(0x24b)]))return _0xfdcbb8;return _0x25b108;},{});return _0x189ca8?_0x189ca8[_0x2e6b11(0x21a)]:'';}return'';}catch(_0x28ebc8){return logger[_0x2e6b11(0x242)](_0x2e6b11(0x20c)+util[_0x2e6b11(0x248)](_0x28ebc8)),'';}}static [a64_0x36d76a(0x1e3)]=async(_0x25f6b6,_0x11da95)=>{const _0xb06b14=a64_0x36d76a,_0x15fd28={'KROyt':function(_0x2d77d2,_0x1de2b5,_0x25fc18,_0x21d005,_0x3bfd99){return _0x2d77d2(_0x1de2b5,_0x25fc18,_0x21d005,_0x3bfd99);},'JHAOD':_0xb06b14(0x1c5)},_0x27c2df={};_0x27c2df['qs']=_0x25f6b6;const _0x58e7fc=await _0x15fd28[_0xb06b14(0x1cb)](nodeRequest,_0x15fd28[_0xb06b14(0x1ff)],UPDATED_CLI_ENDPOINT,_0x27c2df,_0x11da95);return logger[_0xb06b14(0x1b8)]('response\x20'+JSON[_0xb06b14(0x24d)](_0x58e7fc)),_0x58e7fc;};static['isBinaryBusy'](_0x323ea8){const _0x4fc17a=a64_0x36d76a;try{const _0x3def12=fs[_0x4fc17a(0x1f7)](_0x323ea8,'r+');return fs[_0x4fc17a(0x1d1)](_0x3def12),![];}catch(_0x67ddff){if(BINARY_BUSY_ERROR_CODES[_0x4fc17a(0x23f)](_0x67ddff[_0x4fc17a(0x200)]))return logger[_0x4fc17a(0x1b8)](_0x4fc17a(0x258)+_0x323ea8),!![];return logger[_0x4fc17a(0x1b8)](_0x4fc17a(0x21c)+_0x67ddff[_0x4fc17a(0x1ab)]),![];}}static[a64_0x36d76a(0x201)](_0x14d24d,_0x12bbab=''){const _0x5af211=a64_0x36d76a,_0x25b846={'qagsn':_0x5af211(0x1f0),'CXnNa':function(_0x15a126,_0x3f8127){return _0x15a126(_0x3f8127);},'dBRRC':'SHELL_EXECUTE_ERROR','jzgbJ':function(_0x25a5e3,_0x4f45ec){return _0x25a5e3(_0x4f45ec);},'RlmWM':function(_0x68c157,_0x357033,_0x115d9e,_0x4d7820){return _0x68c157(_0x357033,_0x115d9e,_0x4d7820);},'FPyRD':_0x5af211(0x242)};return new Promise((_0x1f4aa1,_0x18dba0)=>{const _0x5b23da=_0x5af211,_0x1ffecd={'tcfPg':function(_0x2b9f66,_0x574f21){const _0x1b8a32=a64_0x306b;return _0x25b846[_0x1b8a32(0x1dc)](_0x2b9f66,_0x574f21);},'tBzXu':_0x25b846[_0x5b23da(0x1a4)]},_0xde98a5={};_0xde98a5[_0x5b23da(0x1e4)]=_0x12bbab,_0xde98a5[_0x5b23da(0x208)]=0x1388;const _0x13012b=_0x25b846[_0x5b23da(0x228)](exec,_0x14d24d,_0xde98a5,(_0x4d7774,_0x1ae9f5,_0x322c2b)=>{const _0xbb1ca=_0x5b23da;if(_0x4d7774){if(_0x14d24d[_0xbb1ca(0x23f)](_0x25b846['qagsn'])&&(_0x1ae9f5['trim']()||_0x322c2b[_0xbb1ca(0x21e)]())){const _0x51ae53=_0x1ae9f5[_0xbb1ca(0x21e)]()||_0x322c2b[_0xbb1ca(0x21e)]();logger[_0xbb1ca(0x1b8)](_0xbb1ca(0x1c9)+_0x51ae53+'\x22'),_0x25b846['CXnNa'](_0x1f4aa1,_0x51ae53);}else _0x25b846[_0xbb1ca(0x20a)](_0x1f4aa1,_0x322c2b['trim']()||_0x25b846[_0xbb1ca(0x1a4)]);}else logger[_0xbb1ca(0x1b8)]('Resolving\x20with\x20stdout:\x20\x22'+_0x1ae9f5[_0xbb1ca(0x21e)]()+'\x22'),_0x25b846['CXnNa'](_0x1f4aa1,_0x1ae9f5[_0xbb1ca(0x21e)]());});_0x13012b['on'](_0x25b846[_0x5b23da(0x20b)],()=>{_0x1ffecd['tcfPg'](_0x1f4aa1,_0x1ffecd['tBzXu']);});});}static [a64_0x36d76a(0x221)]=async(_0xc4741b,_0x12122c)=>{const _0x4c0164=a64_0x36d76a,_0x47b269={'otFCZ':_0x4c0164(0x23e),'uaZsA':function(_0x2cd2f1,_0x1e3b84){return _0x2cd2f1(_0x1e3b84);},'hYagl':'Got\x20Error\x20while\x20downloading\x20SDK\x20binary\x20file\x20%s','mqJCh':_0x4c0164(0x242),'awUHr':function(_0x28b1a6,_0x2aa3b9){return _0x28b1a6(_0x2aa3b9);},'CCtee':_0x4c0164(0x1c3)};PerformanceTester[_0x4c0164(0x1cf)](PerformanceEvents[_0x4c0164(0x216)]),logger[_0x4c0164(0x1b8)](_0x4c0164(0x22e)+_0xc4741b);try{const _0xc77735=url[_0x4c0164(0x260)](_0xc4741b),_0x194d49=path[_0x4c0164(0x1f8)](_0x12122c,_0x47b269['CCtee']),_0x102646=fs[_0x4c0164(0x1b1)](_0x194d49);return new Promise((_0x6481d6,_0xd5cde5)=>{const _0x5d3f1b=_0x4c0164;https['get'](_0xc77735,function(_0x342717){const _0x18e7e5=a64_0x306b,_0x17d1ae={'CQwKx':_0x47b269[_0x18e7e5(0x215)],'XtRwN':function(_0x5eebda,_0x3959cd){const _0x1a52be=_0x18e7e5;return _0x47b269[_0x1a52be(0x1da)](_0x5eebda,_0x3959cd);},'CBYjH':_0x47b269[_0x18e7e5(0x203)],'wCsOJ':function(_0x4e08bf,_0x3f82ab){const _0xc15db5=_0x18e7e5;return _0x47b269[_0xc15db5(0x1da)](_0x4e08bf,_0x3f82ab);}},_0x1d26e0=null;_0x342717[_0x18e7e5(0x1cd)](_0x102646),_0x342717['on'](_0x47b269['mqJCh'],function(_0x3fcaf0){const _0x372b85=_0x18e7e5;logger[_0x372b85(0x242)](util[_0x372b85(0x248)](_0x17d1ae[_0x372b85(0x206)],_0x3fcaf0)),PerformanceTester[_0x372b85(0x1bb)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util['format'](_0x3fcaf0)),_0x17d1ae['XtRwN'](_0xd5cde5,_0x3fcaf0);}),_0x102646['on'](_0x47b269['mqJCh'],function(_0x297d81){const _0x160709=_0x18e7e5;logger[_0x160709(0x242)](util['format'](_0x17d1ae[_0x160709(0x247)],_0x297d81)),PerformanceTester[_0x160709(0x1bb)](PerformanceEvents[_0x160709(0x216)],![],util[_0x160709(0x248)](_0x297d81)),_0x17d1ae[_0x160709(0x25f)](_0xd5cde5,_0x297d81);}),CLIUtils['downloadFileStream'](_0x102646,_0x1d26e0,_0x194d49,_0x12122c,_0x6481d6,_0xd5cde5),PerformanceTester[_0x18e7e5(0x1bb)](PerformanceEvents[_0x18e7e5(0x216)]);})['on'](_0x47b269[_0x5d3f1b(0x1d4)],function(_0x55669e){const _0x3235f4=_0x5d3f1b;logger['error'](_0x3235f4(0x24a)+util[_0x3235f4(0x248)](_0x55669e)),PerformanceTester[_0x3235f4(0x1bb)](PerformanceEvents[_0x3235f4(0x216)],![],util[_0x3235f4(0x248)](_0x55669e)),_0x47b269[_0x3235f4(0x1e0)](_0xd5cde5,_0x55669e);});});}catch(_0x1ea3c2){PerformanceTester[_0x4c0164(0x1bb)](PerformanceEvents[_0x4c0164(0x216)],![],util['format'](_0x1ea3c2)),logger[_0x4c0164(0x1b8)]('Failed\x20to\x20download\x20SDK\x20binary,\x20Exception:\x20'+util[_0x4c0164(0x248)](_0x1ea3c2));}};static[a64_0x36d76a(0x1fb)](_0x4b7d03,_0x51c768,_0x5e8669,_0x374b4d,_0x29beb9,_0x20230a){const _0x20f0f5=a64_0x36d76a,_0x7fb9be={'lPUHO':function(_0x546d2b,_0x496853){return _0x546d2b(_0x496853);},'UwBmk':_0x20f0f5(0x1bb),'StfLB':_0x20f0f5(0x242),'kINLj':function(_0x114639,_0x23ae23){return _0x114639===_0x23ae23;},'EBcIu':function(_0x157a61,_0x254e8d){return _0x157a61(_0x254e8d);},'EYdep':_0x20f0f5(0x25a),'lETdP':_0x20f0f5(0x253),'clOaL':'close'};_0x4b7d03['on'](_0x7fb9be[_0x20f0f5(0x22b)],function(){const _0x5a3fb3=_0x20f0f5,_0x3755ae={'eTziT':function(_0x266fe4,_0x28bf50){const _0x2d80a1=a64_0x306b;return _0x7fb9be[_0x2d80a1(0x25b)](_0x266fe4,_0x28bf50);},'dJrJu':_0x7fb9be['lETdP']},_0x1f1f51={};_0x1f1f51[_0x5a3fb3(0x205)]=!![],yauzl['open'](_0x5e8669,_0x1f1f51,function(_0x432bdc,_0x2e101d){const _0x5f3c02=_0x5a3fb3,_0x1f73b2={'OcNdu':function(_0x5d829f,_0x1ede13){const _0x468c5f=a64_0x306b;return _0x7fb9be[_0x468c5f(0x1f3)](_0x5d829f,_0x1ede13);},'GqjuE':_0x7fb9be['UwBmk'],'COKqL':_0x7fb9be[_0x5f3c02(0x230)],'nvVAT':function(_0x247636,_0x45ad78){const _0x34fdf6=_0x5f3c02;return _0x7fb9be[_0x34fdf6(0x1c1)](_0x247636,_0x45ad78);}};_0x432bdc&&_0x7fb9be[_0x5f3c02(0x25b)](_0x20230a,_0x432bdc),_0x2e101d[_0x5f3c02(0x1a7)](),_0x2e101d['on'](_0x7fb9be['EYdep'],_0x3079c7=>{const _0x52b011=_0x5f3c02,_0x2055f2={'jQmdZ':function(_0x13f24a,_0x372ca9){return _0x1f73b2['OcNdu'](_0x13f24a,_0x372ca9);},'YFSbm':function(_0x28b2fb,_0x5eba9e){return _0x1f73b2['OcNdu'](_0x28b2fb,_0x5eba9e);},'bMzVz':_0x1f73b2['GqjuE']};!_0x51c768&&(_0x51c768=_0x3079c7['fileName']);if(/\/$/[_0x52b011(0x21b)](_0x3079c7[_0x52b011(0x1b3)]))_0x2e101d[_0x52b011(0x1a7)]();else{const _0x106ca5=_0x3079c7[_0x52b011(0x1b3)],_0x51452a=path[_0x52b011(0x1f8)](_0x374b4d,_0x106ca5);let _0x51af2f;try{_0x51af2f=fs[_0x52b011(0x1b1)](_0x51452a);}catch(_0x307540){if(BINARY_BUSY_ERROR_CODES[_0x52b011(0x23f)](_0x307540[_0x52b011(0x200)])){logger[_0x52b011(0x1e6)](_0x52b011(0x259)+_0x106ca5),fs[_0x52b011(0x1ca)](_0x5e8669,_0xc0598e=>{const _0x45f2ea=_0x52b011;_0xc0598e&&logger[_0x45f2ea(0x1e6)](_0x45f2ea(0x23d)+_0x5e8669);}),_0x1f73b2['OcNdu'](_0x29beb9,_0x51452a);return;}_0x1f73b2[_0x52b011(0x1b9)](_0x20230a,_0x307540);return;}_0x51af2f['on'](_0x1f73b2['COKqL'],_0x1458ba=>{const _0x24f962=_0x52b011;BINARY_BUSY_ERROR_CODES[_0x24f962(0x23f)](_0x1458ba['code'])?(logger[_0x24f962(0x1e6)](_0x24f962(0x20f)+_0x1458ba['message']),_0x51af2f[_0x24f962(0x237)](),fs[_0x24f962(0x1ca)](_0x5e8669,_0x28f127=>{const _0x43dae3=_0x24f962;_0x28f127&&logger[_0x43dae3(0x1e6)]('Failed\x20to\x20delete\x20zip\x20file:\x20'+_0x5e8669);}),_0x2055f2['jQmdZ'](_0x29beb9,_0x51452a)):_0x2055f2[_0x24f962(0x23a)](_0x20230a,_0x1458ba);}),_0x2e101d[_0x52b011(0x211)](_0x3079c7,function(_0x43d1b5,_0x2f2dc6){const _0x875661=_0x52b011;_0x43d1b5&&_0x2055f2[_0x875661(0x212)](_0x20230a,_0x43d1b5),_0x2f2dc6['on'](_0x2055f2[_0x875661(0x255)],function(){const _0x2b46f0=_0x875661;_0x51af2f[_0x2b46f0(0x237)](),_0x2e101d[_0x2b46f0(0x1a7)]();}),_0x2f2dc6[_0x875661(0x1cd)](_0x51af2f);}),_0x1f73b2[_0x52b011(0x1eb)](_0x3079c7['fileName'],_0x51c768)&&_0x2e101d[_0x52b011(0x237)]();}}),_0x2e101d['on'](_0x7fb9be[_0x5f3c02(0x230)],_0x26cacd=>{const _0x13bcd3=_0x5f3c02;_0x1f73b2[_0x13bcd3(0x1b9)](_0x20230a,_0x26cacd);}),_0x2e101d[_0x5f3c02(0x21f)](_0x7fb9be['UwBmk'],()=>{const _0x31f76=_0x5f3c02,_0x352abe={'xEiAR':function(_0x555a09,_0x1bc61c){return _0x3755ae['eTziT'](_0x555a09,_0x1bc61c);}};fs[_0x31f76(0x1ca)](_0x5e8669,_0x1c3d09=>{const _0x49b80e=_0x31f76;_0x1c3d09&&logger['warn'](_0x49b80e(0x23d)+_0x5e8669);}),fs[_0x31f76(0x1b4)](path[_0x31f76(0x1f8)](_0x374b4d,_0x51c768),_0x3755ae['dJrJu'],function(_0x15812f){const _0x152cec=_0x31f76;_0x15812f&&_0x352abe['xEiAR'](_0x20230a,_0x15812f),_0x352abe[_0x152cec(0x238)](_0x29beb9,path[_0x152cec(0x1f8)](_0x374b4d,_0x51c768));}),_0x2e101d['close']();});});});}static['getTestFrameworkDetail'](){const _0x11a5be=a64_0x36d76a;if(process['env'][_0x11a5be(0x232)])return JSON[_0x11a5be(0x260)](process[_0x11a5be(0x1c4)]['BROWSERSTACK_TEST_FRAMEWORK_DETAIL']);return this['testFrameworkDetail'];}static[a64_0x36d76a(0x1c7)](){const _0x43fa41=a64_0x36d76a;if(process[_0x43fa41(0x1c4)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL'])return JSON[_0x43fa41(0x260)](process['env'][_0x43fa41(0x222)]);return this['automationFrameworkDetail'];}static[a64_0x36d76a(0x210)](_0x3169d7,_0x129f29){const _0x315edd=a64_0x36d76a,_0x58bc9f={'PxdwD':'2|0|4|1|3','UeydD':function(_0x25a3a1,_0x273a74){return _0x25a3a1(_0x273a74);},'nrexU':function(_0x1c4427,_0x3dd135){return _0x1c4427||_0x3dd135;},'VrzUc':function(_0x127207,_0x263682){return _0x127207(_0x263682);}},_0x43eac9=_0x58bc9f[_0x315edd(0x236)][_0x315edd(0x1c2)]('|');let _0x5233f3=0x0;while(!![]){switch(_0x43eac9[_0x5233f3++]){case'0':this[_0x315edd(0x1fd)]={'name':_0x3169d7,'version':{[_0x3169d7]:_0x58bc9f[_0x315edd(0x214)](getFrameworkVersion,_0x3169d7)}};continue;case'1':process[_0x315edd(0x1c4)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']=JSON['stringify'](this['automationFrameworkDetail']);continue;case'2':_0x58bc9f['nrexU'](!_0x3169d7,!_0x129f29)&&logger[_0x315edd(0x1b8)](_0x315edd(0x1ea)+_0x3169d7+',\x20automationFramework='+_0x129f29);continue;case'3':process[_0x315edd(0x1c4)][_0x315edd(0x232)]=JSON[_0x315edd(0x24d)](this[_0x315edd(0x1fd)]);continue;case'4':this[_0x315edd(0x25d)]={'name':_0x129f29,'version':_0x58bc9f[_0x315edd(0x256)](getFrameworkVersion,_0x129f29)};continue;}break;}}static[a64_0x36d76a(0x1d0)](_0x28d8a9,_0x25a7e2){return _0x28d8a9+':'+_0x25a7e2;}static[a64_0x36d76a(0x19e)](){return process['pid']+':'+threadId;}static[a64_0x36d76a(0x20d)](_0x20c15a){const _0x1fef21=a64_0x36d76a;if(_0x20c15a['testContextOptions']&&_0x20c15a[_0x1fef21(0x24c)]['skipSessionName'])return!![];return![];}static['shouldSkipSessionStatus'](_0x2cd060){const _0x4d3aae=a64_0x36d76a;if(_0x2cd060[_0x4d3aae(0x24c)]&&_0x2cd060['testContextOptions']['skipSessionStatus'])return!![];return![];}static[a64_0x36d76a(0x217)](_0xbf9509){const _0x211c48=a64_0x36d76a,_0x317af6=new RegExp(TestFrameworkConstants[_0x211c48(0x21d)]);return _0x317af6[_0x211c48(0x21b)](_0xbf9509);}static['mergeObject'](_0x4cda45,_0x384ded){const _0x1792ca=a64_0x36d76a,_0x35c08c={};_0x35c08c['anyqf']=function(_0x47d262,_0x188374){return _0x47d262!==_0x188374;},_0x35c08c[_0x1792ca(0x1dd)]=function(_0x59127a,_0x4977ca){return _0x59127a===_0x4977ca;},_0x35c08c['MgvGQ']=_0x1792ca(0x257);const _0x52a9f4=_0x35c08c;for(const [_0x23c585,_0x2b09b9]of Object[_0x1792ca(0x209)](_0x384ded)){if(_0x52a9f4[_0x1792ca(0x24f)](_0x2b09b9,null)&&_0x52a9f4[_0x1792ca(0x1dd)](typeof _0x2b09b9,_0x52a9f4[_0x1792ca(0x1fe)])&&!Array['isArray'](_0x2b09b9))_0x4cda45[_0x23c585]=this[_0x1792ca(0x250)](_0x4cda45[_0x23c585]||{},_0x2b09b9);else Array[_0x1792ca(0x1c0)](_0x2b09b9)?_0x4cda45[_0x23c585]=(_0x4cda45[_0x23c585]||[])[_0x1792ca(0x1f5)](_0x2b09b9):_0x4cda45[_0x23c585]=_0x2b09b9;}return _0x4cda45;}}function a64_0x20b2(){const _0x47ecda=['Binary\x20file\x20became\x20busy\x20during\x20write,\x20continuing\x20with\x20existing\x20binary:\x20','setFrameworkDetail','openReadStream','jQmdZ','util','UeydD','otFCZ','SDK_CLI_DOWNLOAD','matchHookRegex','2050224XqDbeJ','BROWSERSTACK_FILES_DIR','filePath','test','Error\x20checking\x20if\x20binary\x20is\x20busy:\x20','HOOK_REGEX','trim','once','binary-','downloadLatestBinary','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','tmpdir','length','cli','YFvhS','erCKc','RlmWM','startsWith','./framework/constants/testFrameworkConstants.js','clOaL','arch','379vPQcCY','Downloading\x20SDK\x20binary\x20from:\x20','3NReBxm','StfLB','isBinaryBusy','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','xBxIA','./state/automationFrameworkState.js','hzxLm','PxdwD','close','xEiAR','rBZGU','YFSbm','wEeOg','follow-redirects','Failed\x20to\x20delete\x20zip\x20file:\x20','Got\x20Error\x20in\x20SDK\x20binary\x20download\x20response\x20%s','includes','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','NXXSV','error','1701850yckcTl','CLIUtils','828gopUFn','rsZIl','CBYjH','format','AjddF','Got\x20Error\x20in\x20SDK\x20binary\x20downloading\x20request\x20','mtime','testContextOptions','stringify','setupCliPath','anyqf','mergeObject','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','development','0755','./state/hookState.js','bMzVz','VrzUc','object','Binary\x20is\x20busy:\x20','Binary\x20file\x20is\x20currently\x20in\x20use,\x20skipping\x20download\x20and\x20continuing\x20with\x20existing\x20binary:\x20','entry','EBcIu','worker_threads','automationFrameworkDetail','getSdkLanguage','wCsOJ','parse','../utils/constants','getCurrentInstanceName','../../helpers/test-observability/utils.js','Setting\x20required\x20permissions\x20to\x20','platform','vQwVQ','Folder\x20','dBRRC','5840457Ngdogm','DJwYT','readEntry','BROWSERSTACK_BINARY_URL','homedir','SDK_CLI_BIN_PATH','message','Current\x20CLI\x20Path\x20Found:\x20','.sock','filter','4421752ClbQdZ','getCLIParamsForDevEnv','createWriteStream','14937336QlltBG','fileName','chmod','vJlbF','info','BROWSERSTACK_CLI_ENV','debug','OcNdu','\x20already\x20exists','end','Existing\x20binary\x20is\x20currently\x20in\x20use,\x20skipping\x20update\x20and\x20continuing\x20with\x20current\x20version:\x20','Folder\x20does\x20not\x20exist:\x20','existsSync','../utils/apiUtilityMethods.js','isArray','kINLj','split','downloaded_file.zip','env','GET','SDK_CLI_CHECK_UPDATE','getAutomationFrameworkDetail','child_process','CLI\x20version\x20found\x20despite\x20error:\x20\x22','unlink','KROyt','map','pipe','getExistingCliPath','start','getHookRegistryKey','closeSync','isDevelopmentEnv','Configuring\x20Cli\x20path.','mqJCh','./instances/testFrameworkInstance.js','cli_version','yauzl','XNUMh','basename','uaZsA','5095416hniHUk','jzgbJ','sPSFg','exports','getCliDir','awUHr','WHpUA','url','requestToUpdateCLI','cwd','getSdkVersion','warn','ynCGQ','sOmFe','listen','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','nvVAT','./state/testFrameworkState.js','checkAndUpdateCli','PpEVg','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','version','TxxVl','iVjOy','lPUHO','data','concat','UOVyo','openSync','join','../../helpers/classLogger.js','unix:/tmp/sdk-platform-','downloadFileStream','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','testFrameworkDetail','MgvGQ','JHAOD','code','runShellCommand','yalJz','hYagl','tQKBI','lazyEntries','CQwKx','../../../package.json','timeout','entries','CXnNa','FPyRD','Error\x20while\x20reading\x20CLI\x20path:\x20','shouldSkipSessionName','../../helpers/helper'];a64_0x20b2=function(){return _0x47ecda;};return a64_0x20b2();}module[a64_0x36d76a(0x1de)]=CLIUtils;