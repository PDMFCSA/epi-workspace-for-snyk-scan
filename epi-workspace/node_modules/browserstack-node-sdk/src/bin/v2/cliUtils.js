const a64_0x5dbcb6=a64_0x2011;function a64_0x2011(_0x2d75a5,_0x499d2a){const _0x1eaf34=a64_0x1eaf();return a64_0x2011=function(_0x2011e4,_0x5af79a){_0x2011e4=_0x2011e4-0x112;let _0x3121cc=_0x1eaf34[_0x2011e4];return _0x3121cc;},a64_0x2011(_0x2d75a5,_0x499d2a);}(function(_0x1057a3,_0x575fa8){const _0x7ff61f=a64_0x2011,_0x5ff3df=_0x1057a3();while(!![]){try{const _0x7009c8=-parseInt(_0x7ff61f(0x135))/0x1*(parseInt(_0x7ff61f(0x176))/0x2)+parseInt(_0x7ff61f(0x195))/0x3*(parseInt(_0x7ff61f(0x1a3))/0x4)+parseInt(_0x7ff61f(0x1c9))/0x5+-parseInt(_0x7ff61f(0x1bb))/0x6*(parseInt(_0x7ff61f(0x186))/0x7)+parseInt(_0x7ff61f(0x140))/0x8*(-parseInt(_0x7ff61f(0x1cc))/0x9)+parseInt(_0x7ff61f(0x1d6))/0xa+-parseInt(_0x7ff61f(0x17d))/0xb*(-parseInt(_0x7ff61f(0x1b3))/0xc);if(_0x7009c8===_0x575fa8)break;else _0x5ff3df['push'](_0x5ff3df['shift']());}catch(_0x56c4ad){_0x5ff3df['push'](_0x5ff3df['shift']());}}}(a64_0x1eaf,0x2bf1e));const fs=require('fs'),os=require('os'),url=require('url'),path=require(a64_0x5dbcb6(0x199)),{exec}=require(a64_0x5dbcb6(0x153)),{https}=require('follow-redirects'),yauzl=require(a64_0x5dbcb6(0x1a6)),util=require(a64_0x5dbcb6(0x17e)),{getFrameworkVersion}=require(a64_0x5dbcb6(0x156)),{threadId}=require(a64_0x5dbcb6(0x174)),PerformanceTester=require(a64_0x5dbcb6(0x1aa)),{EVENTS:PerformanceEvents}=require('../../helpers/performance/constants'),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require(a64_0x5dbcb6(0x167)),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a64_0x5dbcb6(0x18c)),{UPDATED_CLI_ENDPOINT,BINARY_BUSY_ERROR_CODES}=require(a64_0x5dbcb6(0x180)),{createClassLogger}=require('../../helpers/classLogger.js'),TestFrameworkInstance=require(a64_0x5dbcb6(0x113)),HookState=require(a64_0x5dbcb6(0x139)),TestFrameworkState=require(a64_0x5dbcb6(0x16d)),AutomationFrameworkState=require('./state/automationFrameworkState.js'),TestFrameworkConstants=require(a64_0x5dbcb6(0x129)),logger=createClassLogger(a64_0x5dbcb6(0x1b8)),{getBStackAPIUrl}=require(a64_0x5dbcb6(0x1a4));class CLIUtils{[a64_0x5dbcb6(0x14b)]={};[a64_0x5dbcb6(0x127)]={};static[a64_0x5dbcb6(0x19f)](){const _0x441f90=a64_0x5dbcb6,_0x3fa36c={};_0x3fa36c[_0x441f90(0x175)]=function(_0x253d20,_0x4098ba){return _0x253d20===_0x4098ba;},_0x3fa36c[_0x441f90(0x17b)]=_0x441f90(0x12c);const _0x1ca385=_0x3fa36c;return _0x1ca385[_0x441f90(0x175)](process[_0x441f90(0x1c4)][_0x441f90(0x182)],_0x1ca385[_0x441f90(0x17b)]);}static[a64_0x5dbcb6(0x1ac)](){const _0x507e6f=a64_0x5dbcb6,_0x358622={};return _0x358622['id']=process[_0x507e6f(0x1c4)][_0x507e6f(0x182)],_0x358622[_0x507e6f(0x142)]=_0x507e6f(0x1de)+process[_0x507e6f(0x1c4)][_0x507e6f(0x182)]+'.sock',_0x358622;}static['getSdkVersion'](){const _0x4524e6=a64_0x5dbcb6,_0x59c0d4={'ZRyXq':function(_0x552964,_0x242785){return _0x552964(_0x242785);},'OocUb':'../../../package.json'};return _0x59c0d4[_0x4524e6(0x1e0)](require,_0x59c0d4['OocUb'])[_0x4524e6(0x128)];}static['getSdkLanguage'](){const _0x1e1da0=a64_0x5dbcb6,_0x32ae5e={};_0x32ae5e[_0x1e1da0(0x11a)]=_0x1e1da0(0x192);const _0x148028=_0x32ae5e;return _0x148028[_0x1e1da0(0x11a)];}static async[a64_0x5dbcb6(0x1ab)](_0x5123df){const _0x230c00=a64_0x5dbcb6,_0x21b8f7={'eqmKF':_0x230c00(0x1a8),'ZwSDS':function(_0x126390,_0x9b1cc){return _0x126390(_0x9b1cc);},'oDoUR':function(_0x105063,_0x23ca88){return _0x105063(_0x23ca88);},'AjOIv':'No\x20writable\x20directory\x20available\x20for\x20the\x20CLI'};logger[_0x230c00(0x147)](_0x21b8f7[_0x230c00(0x16e)]);const _0x450e99=process[_0x230c00(0x1c4)][_0x230c00(0x16c)];if(!_0x21b8f7[_0x230c00(0x14d)](isNullOrEmpty,_0x450e99))return logger['debug'](_0x230c00(0x1e7)+_0x450e99),_0x450e99;try{const _0x487175=this[_0x230c00(0x116)]();if(_0x21b8f7[_0x230c00(0x1ba)](isNullOrEmpty,_0x487175))throw new Error(_0x21b8f7[_0x230c00(0x119)]);const _0x4b8f83=this[_0x230c00(0x193)](_0x487175),_0x3575a2=await this[_0x230c00(0x16a)](_0x4b8f83,_0x487175,_0x5123df);return logger['debug']('Resolved\x20binary\x20path:\x20'+_0x3575a2),_0x3575a2;}catch(_0x202690){logger[_0x230c00(0x147)](_0x230c00(0x162)+util['format'](_0x202690));}return null;}static async[a64_0x5dbcb6(0x16a)](_0x43c179,_0x479769,_0x4b5198){const _0x42e24e=a64_0x5dbcb6,_0x4d5a23={'qIXOe':function(_0x36ab17){return _0x36ab17();},'GWank':function(_0x2cc85d,_0x3bcabd){return _0x2cc85d(_0x3bcabd);},'ugkig':function(_0x3ece76,_0x69c41b,_0x517d11){return _0x3ece76(_0x69c41b,_0x517d11);},'wUWqO':'data','jXyAD':_0x42e24e(0x14c),'KRHOe':function(_0x36d79a,_0x48a894){return _0x36d79a(_0x48a894);}};PerformanceTester[_0x42e24e(0x13e)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),logger[_0x42e24e(0x1e1)]('Current\x20CLI\x20Path\x20Found:\x20'+_0x43c179);const _0x165241=_0x4d5a23[_0x42e24e(0x177)](getHostInfo),_0x128ec6={'sdk_version':CLIUtils[_0x42e24e(0x19a)](),'os':_0x165241[_0x42e24e(0x165)],'os_arch':_0x165241['arch'],'cli_version':'0','sdk_language':this[_0x42e24e(0x11c)]()};!_0x4d5a23[_0x42e24e(0x134)](isNullOrEmpty,_0x43c179)&&(_0x128ec6[_0x42e24e(0x152)]=await this[_0x42e24e(0x18e)](_0x43c179+_0x42e24e(0x150)));const _0x228700=await this[_0x42e24e(0x197)](_0x128ec6,_0x4b5198);process[_0x42e24e(0x1c4)][_0x42e24e(0x1da)]&&(logger[_0x42e24e(0x1e1)](_0x42e24e(0x1c8)+process[_0x42e24e(0x1c4)][_0x42e24e(0x1da)]),_0x228700[_0x42e24e(0x131)][_0x42e24e(0x14c)]=process[_0x42e24e(0x1c4)][_0x42e24e(0x1da)]);if(_0x4d5a23[_0x42e24e(0x1e6)](nestedKeyValue,_0x228700,[_0x4d5a23[_0x42e24e(0x19e)],_0x4d5a23[_0x42e24e(0x18a)]])){logger[_0x42e24e(0x147)](_0x42e24e(0x1d5)+_0x128ec6[_0x42e24e(0x152)]);if(!_0x4d5a23[_0x42e24e(0x181)](isNullOrEmpty,_0x43c179)&&this[_0x42e24e(0x1be)](_0x43c179))return logger[_0x42e24e(0x1bc)](_0x42e24e(0x196)+_0x43c179),PerformanceTester['end'](PerformanceEvents[_0x42e24e(0x1e3)]),_0x43c179;const _0x2c7149=await this['downloadLatestBinary'](_0x4d5a23[_0x42e24e(0x1e6)](nestedKeyValue,_0x228700,[_0x4d5a23['wUWqO'],_0x4d5a23['jXyAD']]),_0x479769);return PerformanceTester[_0x42e24e(0x168)](PerformanceEvents[_0x42e24e(0x1e3)]),_0x2c7149;}return PerformanceTester[_0x42e24e(0x168)](PerformanceEvents[_0x42e24e(0x1e3)]),_0x43c179;}static[a64_0x5dbcb6(0x116)](){const _0x3e6094=a64_0x5dbcb6,_0x12bdfd={'ArxAy':function(_0x5f0132,_0x5e5736){return _0x5f0132(_0x5e5736);},'UNTqK':_0x3e6094(0x171),'NKuay':_0x3e6094(0x122)},_0x38d7fb=this[_0x3e6094(0x118)]();try{if(_0x12bdfd[_0x3e6094(0x1dd)](isNullOrEmpty,_0x38d7fb))throw new Error(_0x12bdfd[_0x3e6094(0x14f)]);const _0x179031=path['join'](_0x38d7fb,_0x12bdfd[_0x3e6094(0x141)]);return!fs[_0x3e6094(0x15b)](_0x179031)&&_0x12bdfd['ArxAy'](createDir,_0x179031),_0x179031;}catch(_0xee3409){logger['debug'](_0x3e6094(0x1bd)+util[_0x3e6094(0x1d7)](_0xee3409));}}static[a64_0x5dbcb6(0x118)](){const _0x59863b=a64_0x5dbcb6,_0x3a09b4={'hGQID':_0x59863b(0x155),'ZmLpg':function(_0x2c01ad,_0x3d53e4){return _0x2c01ad(_0x3d53e4);},'ThAco':function(_0x2ba7fd,_0x269826){return _0x2ba7fd(_0x269826);},'qeDik':function(_0x374b8d,_0x51dc1f){return _0x374b8d(_0x51dc1f);},'ceeZH':function(_0x4b6c53,_0x57fbd9){return _0x4b6c53(_0x57fbd9);}},_0x30134f=[process[_0x59863b(0x1c4)]['BROWSERSTACK_FILES_DIR'],path[_0x59863b(0x18f)](os[_0x59863b(0x1cb)](),_0x3a09b4[_0x59863b(0x114)]),path['join'](os[_0x59863b(0x148)](),_0x3a09b4[_0x59863b(0x114)])];for(const _0x585eef of _0x30134f){if(_0x3a09b4[_0x59863b(0x146)](isNullOrEmpty,_0x585eef))continue;try{if(fs['existsSync'](_0x585eef)){logger[_0x59863b(0x147)]('Folder\x20'+_0x585eef+_0x59863b(0x151));if(!_0x3a09b4[_0x59863b(0x146)](isModifiable,_0x585eef)){logger['debug'](_0x59863b(0x123)+_0x585eef);const _0x111269=_0x3a09b4[_0x59863b(0x146)](setReadWriteExecuteAccess,_0x585eef);if(!_0x3a09b4[_0x59863b(0x169)](isTrue,_0x111269)){logger[_0x59863b(0x1bc)](_0x59863b(0x121)+_0x585eef);continue;}}}else{logger['debug'](_0x59863b(0x12f)+_0x585eef),_0x3a09b4[_0x59863b(0x146)](createDir,_0x585eef),logger['debug'](_0x59863b(0x123)+_0x585eef);const _0x133d62=_0x3a09b4['qeDik'](setReadWriteExecuteAccess,_0x585eef);!_0x3a09b4[_0x59863b(0x13d)](isTrue,_0x133d62)&&logger[_0x59863b(0x1bc)]('Unable\x20to\x20set\x20required\x20permissions\x20to\x20'+_0x585eef);}return _0x585eef;}catch(_0x35a620){logger[_0x59863b(0x12e)]('Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20'+util[_0x59863b(0x1d7)](_0x35a620));}}return null;}static[a64_0x5dbcb6(0x193)](_0x27c3ed){const _0x3fc09a=a64_0x5dbcb6,_0x52f33b={};_0x52f33b[_0x3fc09a(0x179)]=function(_0x3c319b,_0x422f9b){return _0x3c319b>_0x422f9b;};const _0x485f71=_0x52f33b;try{if(!fs[_0x3fc09a(0x15b)](_0x27c3ed)||!fs[_0x3fc09a(0x1ca)](_0x27c3ed)['isDirectory']())return'';const _0x25f91d=fs['readdirSync'](_0x27c3ed)[_0x3fc09a(0x14e)](_0x770306=>path[_0x3fc09a(0x18f)](_0x27c3ed,_0x770306))[_0x3fc09a(0x1b7)](_0x28fcf1=>fs['statSync'](_0x28fcf1)['isFile']()&&path['basename'](_0x28fcf1)[_0x3fc09a(0x166)]('binary-'));if(_0x485f71[_0x3fc09a(0x179)](_0x25f91d['length'],0x0)){const _0x254798=_0x25f91d[_0x3fc09a(0x14e)](_0x94f0ce=>({'filePath':_0x94f0ce,'mtime':fs[_0x3fc09a(0x1ca)](_0x94f0ce)[_0x3fc09a(0x12d)]}))[_0x3fc09a(0x194)]((_0x58f3c4,_0x78ee9a)=>{const _0x2c1fcd=_0x3fc09a;if(!_0x58f3c4||!_0x58f3c4[_0x2c1fcd(0x12d)])return _0x78ee9a;if(_0x485f71['jFWrD'](_0x78ee9a[_0x2c1fcd(0x12d)],_0x58f3c4[_0x2c1fcd(0x12d)]))return _0x78ee9a;return _0x58f3c4;},{});return _0x254798?_0x254798[_0x3fc09a(0x191)]:'';}return'';}catch(_0x8ad393){return logger[_0x3fc09a(0x12e)](_0x3fc09a(0x173)+util[_0x3fc09a(0x1d7)](_0x8ad393)),'';}}static [a64_0x5dbcb6(0x197)]=async(_0x9e6a1d,_0x423355)=>{const _0x1a99d5=a64_0x5dbcb6,_0x59f5c6={'jCSRx':function(_0x1a8cd3,_0x10f410,_0x3271fd,_0x30b7b4,_0x5a5f57){return _0x1a8cd3(_0x10f410,_0x3271fd,_0x30b7b4,_0x5a5f57);},'zTVQs':_0x1a99d5(0x1c6)},_0x1fe3ac={};_0x1fe3ac['qs']=_0x9e6a1d;const _0x1b65cb=await _0x59f5c6[_0x1a99d5(0x18d)](nodeRequest,_0x59f5c6[_0x1a99d5(0x1e5)],UPDATED_CLI_ENDPOINT,_0x1fe3ac,_0x423355);return logger[_0x1a99d5(0x147)](_0x1a99d5(0x1b2)+JSON['stringify'](_0x1b65cb)),_0x1b65cb;};static[a64_0x5dbcb6(0x1be)](_0x572e25){const _0x5ca377=a64_0x5dbcb6;try{const _0x4856be=fs[_0x5ca377(0x120)](_0x572e25,'r+');return fs['closeSync'](_0x4856be),![];}catch(_0x639fae){if(BINARY_BUSY_ERROR_CODES[_0x5ca377(0x1c3)](_0x639fae['code']))return logger[_0x5ca377(0x147)](_0x5ca377(0x15d)+_0x572e25),!![];return logger[_0x5ca377(0x147)](_0x5ca377(0x1bf)+_0x639fae[_0x5ca377(0x1a7)]),![];}}static[a64_0x5dbcb6(0x18e)](_0xacb03c,_0x114067=''){const _0x34e657=a64_0x5dbcb6,_0x5a7c70={'dggEB':_0x34e657(0x128),'ntORn':function(_0x49b2b5,_0x27166a){return _0x49b2b5(_0x27166a);},'OYWCA':_0x34e657(0x1a5),'SRHOk':function(_0xcc3d75,_0x57dbcd){return _0xcc3d75(_0x57dbcd);},'QPjGL':function(_0x524776,_0x5bfc40,_0x39e7dd,_0x4f4b48){return _0x524776(_0x5bfc40,_0x39e7dd,_0x4f4b48);},'RbtOz':'error'};return new Promise((_0x3602df,_0x682305)=>{const _0x55e8fd=_0x34e657,_0x1b0514={'oEvqK':_0x5a7c70[_0x55e8fd(0x170)],'OFXoL':function(_0x3f7073,_0x18779b){const _0xf4ac25=_0x55e8fd;return _0x5a7c70[_0xf4ac25(0x144)](_0x3f7073,_0x18779b);},'naCAt':_0x5a7c70[_0x55e8fd(0x1c0)],'EFYtq':function(_0x1456b3,_0x26d17b){const _0x534105=_0x55e8fd;return _0x5a7c70[_0x534105(0x126)](_0x1456b3,_0x26d17b);}},_0x3d0d88={};_0x3d0d88[_0x55e8fd(0x158)]=_0x114067,_0x3d0d88['timeout']=0x1388;const _0x566f6a=_0x5a7c70[_0x55e8fd(0x1ae)](exec,_0xacb03c,_0x3d0d88,(_0x567b81,_0x5adf9b,_0x428eae)=>{const _0x10ba73=_0x55e8fd;if(_0x567b81){if(_0xacb03c[_0x10ba73(0x1c3)](_0x1b0514['oEvqK'])&&(_0x5adf9b['trim']()||_0x428eae[_0x10ba73(0x1cf)]())){const _0x53dc6e=_0x5adf9b[_0x10ba73(0x1cf)]()||_0x428eae[_0x10ba73(0x1cf)]();logger[_0x10ba73(0x147)](_0x10ba73(0x11e)+_0x53dc6e+'\x22'),_0x1b0514['OFXoL'](_0x3602df,_0x53dc6e);}else _0x1b0514['OFXoL'](_0x3602df,_0x428eae[_0x10ba73(0x1cf)]()||_0x1b0514[_0x10ba73(0x115)]);}else logger[_0x10ba73(0x147)](_0x10ba73(0x1d4)+_0x5adf9b[_0x10ba73(0x1cf)]()+'\x22'),_0x1b0514[_0x10ba73(0x1a1)](_0x3602df,_0x5adf9b[_0x10ba73(0x1cf)]());});_0x566f6a['on'](_0x5a7c70[_0x55e8fd(0x1af)],()=>{const _0x4b60aa=_0x55e8fd;_0x1b0514[_0x4b60aa(0x1e2)](_0x3602df,_0x1b0514[_0x4b60aa(0x115)]);});});}static [a64_0x5dbcb6(0x1d8)]=async(_0x2a3d45,_0x1895cd)=>{const _0x3e082d=a64_0x5dbcb6,_0x27faf3={'LXXoz':function(_0x3765bc,_0x198101){return _0x3765bc(_0x198101);},'pwsIn':_0x3e082d(0x16f),'wEXQZ':function(_0x598054,_0x2323b6){return _0x598054(_0x2323b6);},'neaLP':_0x3e082d(0x112),'tJitU':_0x3e082d(0x12e),'SvwDG':_0x3e082d(0x1d1)};PerformanceTester[_0x3e082d(0x13e)](PerformanceEvents['SDK_CLI_DOWNLOAD']),logger[_0x3e082d(0x147)](_0x3e082d(0x19d)+_0x2a3d45);try{const _0x2e1091=url[_0x3e082d(0x19b)](_0x2a3d45),_0x3d7741=path[_0x3e082d(0x18f)](_0x1895cd,_0x27faf3[_0x3e082d(0x1b9)]),_0x712870=fs[_0x3e082d(0x1dc)](_0x3d7741);return new Promise((_0x2d045c,_0x4cb181)=>{const _0x268a52=_0x3e082d,_0x594a8a={'FiylL':_0x27faf3[_0x268a52(0x15a)],'XKKCA':function(_0xc442d1,_0x4f4862){const _0x4ee206=_0x268a52;return _0x27faf3[_0x4ee206(0x117)](_0xc442d1,_0x4f4862);},'bNXww':_0x27faf3['neaLP'],'YqtdK':function(_0x1b39cc,_0x26b54a){const _0xb61800=_0x268a52;return _0x27faf3[_0xb61800(0x14a)](_0x1b39cc,_0x26b54a);},'fMqUS':_0x27faf3[_0x268a52(0x1c7)]};https[_0x268a52(0x183)](_0x2e1091,function(_0x147ed6){const _0x3980d3=_0x268a52,_0x2cde38={'dxcQw':_0x594a8a['FiylL'],'zbSNG':function(_0x3817a5,_0x818e){const _0xaa8c2e=a64_0x2011;return _0x594a8a[_0xaa8c2e(0x163)](_0x3817a5,_0x818e);},'kdwpq':_0x594a8a[_0x3980d3(0x17a)],'bOWWv':function(_0x4f5b8f,_0x18b229){const _0x29a688=_0x3980d3;return _0x594a8a[_0x29a688(0x1b0)](_0x4f5b8f,_0x18b229);}},_0x3d9255=null;_0x147ed6[_0x3980d3(0x1a2)](_0x712870),_0x147ed6['on'](_0x594a8a['fMqUS'],function(_0xa00715){const _0x3681c0=_0x3980d3;logger[_0x3681c0(0x12e)](util[_0x3681c0(0x1d7)](_0x2cde38['dxcQw'],_0xa00715)),PerformanceTester[_0x3681c0(0x168)](PerformanceEvents[_0x3681c0(0x1df)],![],util[_0x3681c0(0x1d7)](_0xa00715)),_0x2cde38[_0x3681c0(0x1b6)](_0x4cb181,_0xa00715);}),_0x712870['on'](_0x594a8a[_0x3980d3(0x17c)],function(_0x82a954){const _0x25ffc5=_0x3980d3;logger['error'](util[_0x25ffc5(0x1d7)](_0x2cde38['kdwpq'],_0x82a954)),PerformanceTester[_0x25ffc5(0x168)](PerformanceEvents[_0x25ffc5(0x1df)],![],util[_0x25ffc5(0x1d7)](_0x82a954)),_0x2cde38[_0x25ffc5(0x198)](_0x4cb181,_0x82a954);}),CLIUtils[_0x3980d3(0x16b)](_0x712870,_0x3d9255,_0x3d7741,_0x1895cd,_0x2d045c,_0x4cb181),PerformanceTester[_0x3980d3(0x168)](PerformanceEvents[_0x3980d3(0x1df)]);})['on'](_0x27faf3[_0x268a52(0x1c7)],function(_0x3130dd){const _0x1a83f9=_0x268a52;logger[_0x1a83f9(0x12e)](_0x1a83f9(0x12b)+util[_0x1a83f9(0x1d7)](_0x3130dd)),PerformanceTester[_0x1a83f9(0x168)](PerformanceEvents[_0x1a83f9(0x1df)],![],util[_0x1a83f9(0x1d7)](_0x3130dd)),_0x27faf3[_0x1a83f9(0x14a)](_0x4cb181,_0x3130dd);});});}catch(_0x3bc22e){PerformanceTester['end'](PerformanceEvents[_0x3e082d(0x1df)],![],util[_0x3e082d(0x1d7)](_0x3bc22e)),logger['debug']('Failed\x20to\x20download\x20SDK\x20binary,\x20Exception:\x20'+util[_0x3e082d(0x1d7)](_0x3bc22e));}};static[a64_0x5dbcb6(0x16b)](_0x34672a,_0x17e465,_0x3801ef,_0x30f100,_0x30bd99,_0x5d3ce0){const _0x4ae02b=a64_0x5dbcb6,_0x3a167f={'LuWSA':function(_0x2ee807,_0x3ed5cb){return _0x2ee807(_0x3ed5cb);},'onkXH':'error','VagsX':function(_0xa6af1d,_0x2a6e6b){return _0xa6af1d===_0x2a6e6b;},'IDKep':function(_0x4c8928,_0x4e33e1){return _0x4c8928(_0x4e33e1);},'Wjlfj':_0x4ae02b(0x168),'lwHqn':function(_0x4bb1d7,_0x56abdd){return _0x4bb1d7(_0x56abdd);},'UuQSG':_0x4ae02b(0x190),'DYTha':'entry','WqOKn':_0x4ae02b(0x1c2)};_0x34672a['on'](_0x3a167f['WqOKn'],function(){const _0x16b597=_0x4ae02b,_0xb2a309={'Rbedc':function(_0x32451a,_0x31b60f){const _0x4e23d9=a64_0x2011;return _0x3a167f[_0x4e23d9(0x15e)](_0x32451a,_0x31b60f);},'qPEKs':function(_0x579adc,_0x34d620){const _0x321df2=a64_0x2011;return _0x3a167f[_0x321df2(0x15e)](_0x579adc,_0x34d620);},'BWaPO':_0x3a167f[_0x16b597(0x164)],'BCTZT':function(_0x229d26,_0x5af069){const _0x360f61=_0x16b597;return _0x3a167f[_0x360f61(0x15f)](_0x229d26,_0x5af069);},'WehBb':function(_0x8bc25d,_0xa23ae){return _0x3a167f['IDKep'](_0x8bc25d,_0xa23ae);},'fIAyf':_0x3a167f[_0x16b597(0x159)],'iyvuA':function(_0x17e133,_0x550b0a){return _0x3a167f['lwHqn'](_0x17e133,_0x550b0a);},'ByAUy':_0x3a167f[_0x16b597(0x13a)],'QNtcA':function(_0xa78e1f,_0xbf5d5e){const _0x353601=_0x16b597;return _0x3a167f[_0x353601(0x189)](_0xa78e1f,_0xbf5d5e);},'mEodt':_0x3a167f[_0x16b597(0x137)]},_0x5d2df9={};_0x5d2df9[_0x16b597(0x130)]=!![],yauzl[_0x16b597(0x184)](_0x3801ef,_0x5d2df9,function(_0x14704d,_0x229407){const _0x3c40a0=_0x16b597,_0xc0a2e5={'ajRAJ':function(_0x46701c,_0x35b914){return _0xb2a309['WehBb'](_0x46701c,_0x35b914);},'gVwyq':_0xb2a309[_0x3c40a0(0x17f)],'bgCSS':function(_0x56ed48,_0xb04ddd){const _0x2683d2=_0x3c40a0;return _0xb2a309[_0x2683d2(0x1e4)](_0x56ed48,_0xb04ddd);},'IjVEI':_0xb2a309[_0x3c40a0(0x1d9)]};_0x14704d&&_0xb2a309[_0x3c40a0(0x11f)](_0x5d3ce0,_0x14704d),_0x229407[_0x3c40a0(0x18b)](),_0x229407['on'](_0xb2a309[_0x3c40a0(0x13b)],_0x4a678a=>{const _0x36c832=_0x3c40a0,_0x42ae71={'kaXoo':function(_0x21cec3,_0x61d7d6){const _0x21eefa=a64_0x2011;return _0xb2a309[_0x21eefa(0x11b)](_0x21cec3,_0x61d7d6);}};!_0x17e465&&(_0x17e465=_0x4a678a[_0x36c832(0x11d)]);if(/\/$/[_0x36c832(0x1c1)](_0x4a678a[_0x36c832(0x11d)]))_0x229407['readEntry']();else{const _0xe19101=_0x4a678a['fileName'],_0x3a2637=path[_0x36c832(0x18f)](_0x30f100,_0xe19101);let _0x3953a7;try{_0x3953a7=fs[_0x36c832(0x1dc)](_0x3a2637);}catch(_0x41d24d){if(BINARY_BUSY_ERROR_CODES[_0x36c832(0x1c3)](_0x41d24d[_0x36c832(0x1a9)])){logger['warn'](_0x36c832(0x13c)+_0xe19101),fs[_0x36c832(0x143)](_0x3801ef,_0x5f3e3d=>{const _0x38927d=_0x36c832;_0x5f3e3d&&logger[_0x38927d(0x1bc)](_0x38927d(0x138)+_0x3801ef);}),_0xb2a309[_0x36c832(0x13f)](_0x30bd99,_0x3a2637);return;}_0xb2a309[_0x36c832(0x11b)](_0x5d3ce0,_0x41d24d);return;}_0x3953a7['on'](_0xb2a309[_0x36c832(0x157)],_0x4cbc34=>{const _0x231012=_0x36c832;BINARY_BUSY_ERROR_CODES[_0x231012(0x1c3)](_0x4cbc34[_0x231012(0x1a9)])?(logger[_0x231012(0x1bc)]('Binary\x20file\x20became\x20busy\x20during\x20write,\x20continuing\x20with\x20existing\x20binary:\x20'+_0x4cbc34[_0x231012(0x1a7)]),_0x3953a7['close'](),fs[_0x231012(0x143)](_0x3801ef,_0x44eae9=>{const _0x5f335c=_0x231012;_0x44eae9&&logger['warn'](_0x5f335c(0x138)+_0x3801ef);}),_0x42ae71['kaXoo'](_0x30bd99,_0x3a2637)):_0x42ae71['kaXoo'](_0x5d3ce0,_0x4cbc34);}),_0x229407[_0x36c832(0x178)](_0x4a678a,function(_0x3910dd,_0x30084a){const _0xcb4747=_0x36c832;_0x3910dd&&_0xc0a2e5[_0xcb4747(0x133)](_0x5d3ce0,_0x3910dd),_0x30084a['on'](_0xc0a2e5[_0xcb4747(0x1b4)],function(){const _0x5646ca=_0xcb4747;_0x3953a7[_0x5646ca(0x1c2)](),_0x229407['readEntry']();}),_0x30084a[_0xcb4747(0x1a2)](_0x3953a7);}),_0xb2a309['BCTZT'](_0x4a678a[_0x36c832(0x11d)],_0x17e465)&&_0x229407[_0x36c832(0x1c2)]();}}),_0x229407['on'](_0xb2a309[_0x3c40a0(0x157)],_0x345ef2=>{const _0x338794=_0x3c40a0;_0xc0a2e5[_0x338794(0x136)](_0x5d3ce0,_0x345ef2);}),_0x229407[_0x3c40a0(0x149)](_0xb2a309['fIAyf'],()=>{const _0x355c52=_0x3c40a0,_0x2f1f55={'ajjBO':function(_0x240c4d,_0x34ca64){const _0x1dd399=a64_0x2011;return _0xc0a2e5[_0x1dd399(0x136)](_0x240c4d,_0x34ca64);},'zsMtD':function(_0x124c4f,_0x210efd){return _0xc0a2e5['ajRAJ'](_0x124c4f,_0x210efd);}};fs[_0x355c52(0x143)](_0x3801ef,_0x3d6715=>{const _0x2fa942=_0x355c52;_0x3d6715&&logger[_0x2fa942(0x1bc)](_0x2fa942(0x138)+_0x3801ef);}),fs['chmod'](path[_0x355c52(0x18f)](_0x30f100,_0x17e465),_0xc0a2e5[_0x355c52(0x145)],function(_0x3143de){const _0x3c3809=_0x355c52;_0x3143de&&_0x2f1f55[_0x3c3809(0x1b1)](_0x5d3ce0,_0x3143de),_0x2f1f55[_0x3c3809(0x1ce)](_0x30bd99,path[_0x3c3809(0x18f)](_0x30f100,_0x17e465));}),_0x229407[_0x355c52(0x1c2)]();});});});}static[a64_0x5dbcb6(0x187)](){const _0x2df3e1=a64_0x5dbcb6;if(process[_0x2df3e1(0x1c4)][_0x2df3e1(0x161)])return JSON[_0x2df3e1(0x19b)](process['env'][_0x2df3e1(0x161)]);return this[_0x2df3e1(0x127)];}static[a64_0x5dbcb6(0x1db)](){const _0x5d3c01=a64_0x5dbcb6;if(process[_0x5d3c01(0x1c4)][_0x5d3c01(0x15c)])return JSON[_0x5d3c01(0x19b)](process[_0x5d3c01(0x1c4)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']);return this[_0x5d3c01(0x14b)];}static['setFrameworkDetail'](_0x2e509c,_0x70146e){const _0x182937=a64_0x5dbcb6,_0x2a5c72={'xQbdg':'3|2|1|4|0','qEpno':function(_0x3adc76,_0x33b462){return _0x3adc76(_0x33b462);},'XMoHq':function(_0x248e8a,_0x3c4e20){return _0x248e8a(_0x3c4e20);},'CBPgz':function(_0x5a1e42,_0x5503fb){return _0x5a1e42||_0x5503fb;}},_0x404a94=_0x2a5c72[_0x182937(0x188)][_0x182937(0x185)]('|');let _0x3c8cd6=0x0;while(!![]){switch(_0x404a94[_0x3c8cd6++]){case'0':process[_0x182937(0x1c4)][_0x182937(0x161)]=JSON[_0x182937(0x132)](this[_0x182937(0x127)]);continue;case'1':this[_0x182937(0x14b)]={'name':_0x70146e,'version':_0x2a5c72[_0x182937(0x1cd)](getFrameworkVersion,_0x70146e)};continue;case'2':this[_0x182937(0x127)]={'name':_0x2e509c,'version':{[_0x2e509c]:_0x2a5c72[_0x182937(0x12a)](getFrameworkVersion,_0x2e509c)}};continue;case'3':_0x2a5c72['CBPgz'](!_0x2e509c,!_0x70146e)&&logger[_0x182937(0x147)](_0x182937(0x154)+_0x2e509c+_0x182937(0x1d2)+_0x70146e);continue;case'4':process[_0x182937(0x1c4)][_0x182937(0x15c)]=JSON['stringify'](this[_0x182937(0x14b)]);continue;}break;}}static[a64_0x5dbcb6(0x172)](_0x2a1c32,_0x259135){return _0x2a1c32+':'+_0x259135;}static['getCurrentInstanceName'](){return process['pid']+':'+threadId;}static['shouldSkipSessionName'](_0x1e34f6){const _0x45d5f6=a64_0x5dbcb6;if(_0x1e34f6[_0x45d5f6(0x1d0)]&&_0x1e34f6['testContextOptions']['skipSessionName'])return!![];return![];}static['shouldSkipSessionStatus'](_0xddbc80){const _0x2850e2=a64_0x5dbcb6;if(_0xddbc80[_0x2850e2(0x1d0)]&&_0xddbc80['testContextOptions'][_0x2850e2(0x1b5)])return!![];return![];}static['matchHookRegex'](_0x383b02){const _0x4dbfb1=a64_0x5dbcb6,_0x313174=new RegExp(TestFrameworkConstants[_0x4dbfb1(0x124)]);return _0x313174['test'](_0x383b02);}static['mergeObject'](_0x4cc2e2,_0x2c76cb){const _0x19dc9d=a64_0x5dbcb6,_0x3a6366={};_0x3a6366['dwNkj']=function(_0x428b80,_0x516703){return _0x428b80!==_0x516703;},_0x3a6366[_0x19dc9d(0x1d3)]=function(_0x49f515,_0x5b454f){return _0x49f515===_0x5b454f;},_0x3a6366['Muzmp']='object';const _0xc4f8da=_0x3a6366;for(const [_0xcabd0c,_0x4d1c55]of Object[_0x19dc9d(0x1ad)](_0x2c76cb)){if(_0xc4f8da['dwNkj'](_0x4d1c55,null)&&_0xc4f8da['mDHqY'](typeof _0x4d1c55,_0xc4f8da[_0x19dc9d(0x1a0)])&&!Array[_0x19dc9d(0x125)](_0x4d1c55))_0x4cc2e2[_0xcabd0c]=this[_0x19dc9d(0x1c5)](_0x4cc2e2[_0xcabd0c]||{},_0x4d1c55);else Array['isArray'](_0x4d1c55)?_0x4cc2e2[_0xcabd0c]=(_0x4cc2e2[_0xcabd0c]||[])[_0x19dc9d(0x19c)](_0x4d1c55):_0x4cc2e2[_0xcabd0c]=_0x4d1c55;}return _0x4cc2e2;}}function a64_0x1eaf(){const _0x2a305f=['cli','Setting\x20required\x20permissions\x20to\x20','HOOK_REGEX','isArray','SRHOk','testFrameworkDetail','version','./framework/constants/testFrameworkConstants.js','XMoHq','Got\x20Error\x20in\x20SDK\x20binary\x20downloading\x20request\x20','development','mtime','error','Folder\x20does\x20not\x20exist:\x20','lazyEntries','data','stringify','ajRAJ','GWank','1fSLFmF','bgCSS','DYTha','Failed\x20to\x20delete\x20zip\x20file:\x20','./state/hookState.js','UuQSG','mEodt','Binary\x20file\x20is\x20currently\x20in\x20use,\x20skipping\x20download\x20and\x20continuing\x20with\x20existing\x20binary:\x20','ceeZH','start','qPEKs','48YbSDSI','NKuay','listen','unlink','ntORn','IjVEI','ZmLpg','debug','tmpdir','once','LXXoz','automationFrameworkDetail','url','ZwSDS','map','UNTqK','\x20version','\x20already\x20exists','cli_version','child_process','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','.browserstack','../../helpers/test-observability/utils.js','BWaPO','cwd','Wjlfj','pwsIn','existsSync','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','Binary\x20is\x20busy:\x20','LuWSA','VagsX','exports','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','XKKCA','onkXH','platform','startsWith','../../helpers/utilities','end','ThAco','checkAndUpdateCli','downloadFileStream','SDK_CLI_BIN_PATH','./state/testFrameworkState.js','eqmKF','Got\x20Error\x20in\x20SDK\x20binary\x20download\x20response\x20%s','dggEB','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','getHookRegistryKey','Error\x20while\x20reading\x20CLI\x20path:\x20','worker_threads','ySuPP','642204GYVTmk','qIXOe','openReadStream','jFWrD','bNXww','ZFiQh','fMqUS','99ImpWkK','util','fIAyf','../utils/constants','KRHOe','BROWSERSTACK_CLI_ENV','get','open','split','2225937VzUfLu','getTestFrameworkDetail','xQbdg','IDKep','jXyAD','readEntry','../../helpers/helper','jCSRx','runShellCommand','join','0755','filePath','node','getExistingCliPath','reduce','136560hxEKus','Existing\x20binary\x20is\x20currently\x20in\x20use,\x20skipping\x20update\x20and\x20continuing\x20with\x20current\x20version:\x20','requestToUpdateCLI','bOWWv','path','getSdkVersion','parse','concat','Downloading\x20SDK\x20binary\x20from:\x20','wUWqO','isDevelopmentEnv','Muzmp','EFYtq','pipe','8SdTFyw','../utils/apiUtilityMethods.js','SHELL_EXECUTE_ERROR','yauzl','message','Configuring\x20Cli\x20path.','code','../../helpers/performance/performance-tester.js','setupCliPath','getCLIParamsForDevEnv','entries','QPjGL','RbtOz','YqtdK','ajjBO','response\x20','703884xTfCkO','gVwyq','skipSessionStatus','zbSNG','filter','CLIUtils','SvwDG','oDoUR','6sAjIBa','warn','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','isBinaryBusy','Error\x20checking\x20if\x20binary\x20is\x20busy:\x20','OYWCA','test','close','includes','env','mergeObject','GET','tJitU','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','562325fVnsQF','statSync','homedir','25182jUSMDw','qEpno','zsMtD','trim','testContextOptions','downloaded_file.zip',',\x20automationFramework=','mDHqY','Resolving\x20with\x20stdout:\x20\x22','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','1044610lcmdEK','format','downloadLatestBinary','ByAUy','BROWSERSTACK_BINARY_URL','getAutomationFrameworkDetail','createWriteStream','ArxAy','unix:/tmp/sdk-platform-','SDK_CLI_DOWNLOAD','ZRyXq','info','OFXoL','SDK_CLI_CHECK_UPDATE','iyvuA','zTVQs','ugkig','Development\x20Cli\x20Path:\x20','Got\x20Error\x20while\x20downloading\x20SDK\x20binary\x20file\x20%s','./instances/testFrameworkInstance.js','hGQID','naCAt','getCliDir','wEXQZ','getWritableDir','AjOIv','KZPRp','Rbedc','getSdkLanguage','fileName','CLI\x20version\x20found\x20despite\x20error:\x20\x22','QNtcA','openSync','Unable\x20to\x20set\x20required\x20permissions\x20to\x20'];a64_0x1eaf=function(){return _0x2a305f;};return a64_0x1eaf();}module[a64_0x5dbcb6(0x160)]=CLIUtils;