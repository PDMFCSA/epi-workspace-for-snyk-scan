const a63_0xe05012=a63_0x2826;(function(_0x356a8a,_0x235566){const _0x14226a=a63_0x2826,_0x2a590d=_0x356a8a();while(!![]){try{const _0xd28fe1=parseInt(_0x14226a(0x18e))/0x1*(-parseInt(_0x14226a(0x1e7))/0x2)+parseInt(_0x14226a(0x1b7))/0x3+-parseInt(_0x14226a(0x146))/0x4+-parseInt(_0x14226a(0x184))/0x5*(-parseInt(_0x14226a(0x1f8))/0x6)+parseInt(_0x14226a(0x19d))/0x7*(parseInt(_0x14226a(0x173))/0x8)+parseInt(_0x14226a(0x1bb))/0x9+parseInt(_0x14226a(0x150))/0xa;if(_0xd28fe1===_0x235566)break;else _0x2a590d['push'](_0x2a590d['shift']());}catch(_0x160029){_0x2a590d['push'](_0x2a590d['shift']());}}}(a63_0x1740,0x9dde4));function a63_0x2826(_0x4107eb,_0x2c43bc){const _0x1740c9=a63_0x1740();return a63_0x2826=function(_0x28268a,_0x1e4f9a){_0x28268a=_0x28268a-0x13b;let _0x4b0cf1=_0x1740c9[_0x28268a];return _0x4b0cf1;},a63_0x2826(_0x4107eb,_0x2c43bc);}const fs=require('fs'),os=require('os'),url=require(a63_0xe05012(0x1f3)),path=require(a63_0xe05012(0x195)),{exec}=require('child_process'),{https}=require(a63_0xe05012(0x158)),yauzl=require(a63_0xe05012(0x15b)),util=require(a63_0xe05012(0x14d)),{getFrameworkVersion}=require(a63_0xe05012(0x14c)),{threadId}=require(a63_0xe05012(0x16c)),PerformanceTester=require(a63_0xe05012(0x19a)),{EVENTS:PerformanceEvents}=require(a63_0xe05012(0x17b)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require(a63_0xe05012(0x1e4)),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a63_0xe05012(0x1dd)),{UPDATED_CLI_ENDPOINT}=require(a63_0xe05012(0x1c0)),{createClassLogger}=require(a63_0xe05012(0x1b9)),TestFrameworkInstance=require(a63_0xe05012(0x193)),HookState=require(a63_0xe05012(0x202)),TestFrameworkState=require('./state/testFrameworkState.js'),AutomationFrameworkState=require(a63_0xe05012(0x1da)),TestFrameworkConstants=require('./framework/constants/testFrameworkConstants.js'),logger=createClassLogger(a63_0xe05012(0x185)),{getBStackAPIUrl}=require(a63_0xe05012(0x19f));class CLIUtils{[a63_0xe05012(0x1df)]={};['testFrameworkDetail']={};static['isDevelopmentEnv'](){const _0xbd8c7c=a63_0xe05012,_0x417f54={};_0x417f54['xZpzW']=function(_0x31dd81,_0xc81aad){return _0x31dd81===_0xc81aad;},_0x417f54[_0xbd8c7c(0x19e)]=_0xbd8c7c(0x1ec);const _0x12a039=_0x417f54;return _0x12a039['xZpzW'](process[_0xbd8c7c(0x1b8)]['BROWSERSTACK_CLI_ENV'],_0x12a039['jiQFO']);}static[a63_0xe05012(0x162)](){const _0x48bc43=a63_0xe05012,_0x8d04fe={};return _0x8d04fe['id']=process[_0x48bc43(0x1b8)][_0x48bc43(0x16a)],_0x8d04fe[_0x48bc43(0x181)]=_0x48bc43(0x1a2)+process[_0x48bc43(0x1b8)][_0x48bc43(0x16a)]+'.sock',_0x8d04fe;}static[a63_0xe05012(0x178)](){const _0xf9b707=a63_0xe05012,_0x427785={'uaWee':function(_0x2e88a5,_0x5c6985){return _0x2e88a5(_0x5c6985);},'piHdl':'../../../package.json'};return _0x427785[_0xf9b707(0x1fe)](require,_0x427785[_0xf9b707(0x1db)])[_0xf9b707(0x1c3)];}static[a63_0xe05012(0x186)](){const _0x4e480b=a63_0xe05012,_0x336e8c={};_0x336e8c[_0x4e480b(0x1e5)]='node';const _0xbae821=_0x336e8c;return _0xbae821[_0x4e480b(0x1e5)];}static async[a63_0xe05012(0x14b)](_0x152fe8){const _0x49f403=a63_0xe05012,_0x2f4af1={'peGRI':'Configuring\x20Cli\x20path.','ydzxH':function(_0x197500,_0x321021){return _0x197500(_0x321021);},'FmjPV':function(_0x2a804a,_0x15ffff){return _0x2a804a(_0x15ffff);},'erDMt':_0x49f403(0x1f6)};logger[_0x49f403(0x1dc)](_0x2f4af1[_0x49f403(0x16b)]);const _0x180d1a=process[_0x49f403(0x1b8)][_0x49f403(0x18d)];if(!_0x2f4af1[_0x49f403(0x1de)](isNullOrEmpty,_0x180d1a))return logger[_0x49f403(0x1dc)]('Development\x20Cli\x20Path:\x20'+_0x180d1a),_0x180d1a;try{const _0x42f0d2=this[_0x49f403(0x142)]();if(_0x2f4af1[_0x49f403(0x201)](isNullOrEmpty,_0x42f0d2))throw new Error(_0x2f4af1['erDMt']);const _0x5c5121=this[_0x49f403(0x144)](_0x42f0d2),_0x490ecc=await this[_0x49f403(0x1a6)](_0x5c5121,_0x42f0d2,_0x152fe8);return logger[_0x49f403(0x1dc)](_0x49f403(0x1c7)+_0x490ecc),_0x490ecc;}catch(_0x244f2a){logger['debug'](_0x49f403(0x18c)+util[_0x49f403(0x13f)](_0x244f2a));}return null;}static async[a63_0xe05012(0x1a6)](_0x490f3f,_0x2d1cbd,_0x144b6f){const _0x1f7227=a63_0xe05012,_0x412056={'LjpBT':function(_0x321001){return _0x321001();},'hBnLD':function(_0x2d3837,_0x588b14){return _0x2d3837(_0x588b14);},'vXooZ':function(_0x3dfcbc,_0x1b9025,_0x1d6ff9){return _0x3dfcbc(_0x1b9025,_0x1d6ff9);},'roJzB':'data','wSogS':'url','OUwni':function(_0x171b90,_0x2452de,_0x42f075){return _0x171b90(_0x2452de,_0x42f075);}};PerformanceTester[_0x1f7227(0x1d9)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),logger[_0x1f7227(0x1e3)](_0x1f7227(0x1a3)+_0x490f3f);const _0x2f6ae7=_0x412056[_0x1f7227(0x176)](getHostInfo),_0x105edb={'sdk_version':CLIUtils[_0x1f7227(0x178)](),'os':_0x2f6ae7[_0x1f7227(0x1c4)],'os_arch':_0x2f6ae7['arch'],'cli_version':'0','sdk_language':this['getSdkLanguage']()};!_0x412056[_0x1f7227(0x182)](isNullOrEmpty,_0x490f3f)&&(_0x105edb[_0x1f7227(0x199)]=await this[_0x1f7227(0x147)](_0x490f3f+_0x1f7227(0x1a1)));const _0xdae039=await this[_0x1f7227(0x1d3)](_0x105edb,_0x144b6f);process['env'][_0x1f7227(0x1ca)]&&(logger[_0x1f7227(0x1e3)](_0x1f7227(0x13d)+process[_0x1f7227(0x1b8)][_0x1f7227(0x1ca)]),_0xdae039[_0x1f7227(0x1a9)]['url']=process['env'][_0x1f7227(0x1ca)]);if(_0x412056[_0x1f7227(0x1ff)](nestedKeyValue,_0xdae039,[_0x412056[_0x1f7227(0x161)],_0x412056[_0x1f7227(0x1d6)]])){logger[_0x1f7227(0x1dc)](_0x1f7227(0x180)+_0x105edb['cli_version']);const _0x566ac6=await this[_0x1f7227(0x191)](_0x412056[_0x1f7227(0x165)](nestedKeyValue,_0xdae039,[_0x412056['roJzB'],_0x412056['wSogS']]),_0x2d1cbd);return PerformanceTester['end'](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x566ac6;}return PerformanceTester[_0x1f7227(0x160)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x490f3f;}static[a63_0xe05012(0x142)](){const _0x104345=a63_0xe05012,_0x547fe3={'hJMOE':function(_0x468d5d,_0x488f25){return _0x468d5d(_0x488f25);},'iKyiK':_0x104345(0x1f6),'nLEyC':_0x104345(0x17c)},_0x152b44=this[_0x104345(0x1e1)]();try{if(_0x547fe3['hJMOE'](isNullOrEmpty,_0x152b44))throw new Error(_0x547fe3[_0x104345(0x163)]);const _0x3b656d=path[_0x104345(0x1b4)](_0x152b44,_0x547fe3['nLEyC']);return!fs[_0x104345(0x1f7)](_0x3b656d)&&_0x547fe3[_0x104345(0x14f)](createDir,_0x3b656d),_0x3b656d;}catch(_0x2cdff9){logger[_0x104345(0x1dc)](_0x104345(0x187)+util['format'](_0x2cdff9));}}static[a63_0xe05012(0x1e1)](){const _0x3aa775=a63_0xe05012,_0x53d48c={'TPnDo':_0x3aa775(0x1cf),'QONkW':function(_0x34c8de,_0x983ef0){return _0x34c8de(_0x983ef0);},'NHrBS':function(_0x2a9fe0,_0x5d7462){return _0x2a9fe0(_0x5d7462);}},_0x84a38c=[process[_0x3aa775(0x1b8)][_0x3aa775(0x15a)],path[_0x3aa775(0x1b4)](os[_0x3aa775(0x1d1)](),_0x53d48c[_0x3aa775(0x200)]),path[_0x3aa775(0x1b4)](os[_0x3aa775(0x1c1)](),_0x53d48c[_0x3aa775(0x200)])];for(const _0x60c0ff of _0x84a38c){if(_0x53d48c['QONkW'](isNullOrEmpty,_0x60c0ff))continue;try{if(fs['existsSync'](_0x60c0ff)){logger[_0x3aa775(0x1dc)]('Folder\x20'+_0x60c0ff+'\x20already\x20exists');if(!_0x53d48c[_0x3aa775(0x18b)](isModifiable,_0x60c0ff)){logger[_0x3aa775(0x1dc)](_0x3aa775(0x19b)+_0x60c0ff);const _0x3786cd=_0x53d48c[_0x3aa775(0x183)](setReadWriteExecuteAccess,_0x60c0ff);if(!_0x53d48c[_0x3aa775(0x18b)](isTrue,_0x3786cd)){logger['warn']('Unable\x20to\x20set\x20required\x20permissions\x20to\x20'+_0x60c0ff);continue;}}}else{logger['debug']('Folder\x20does\x20not\x20exist:\x20'+_0x60c0ff),_0x53d48c[_0x3aa775(0x183)](createDir,_0x60c0ff),logger[_0x3aa775(0x1dc)](_0x3aa775(0x19b)+_0x60c0ff);const _0xf0b961=_0x53d48c[_0x3aa775(0x18b)](setReadWriteExecuteAccess,_0x60c0ff);!_0x53d48c[_0x3aa775(0x18b)](isTrue,_0xf0b961)&&logger[_0x3aa775(0x1be)](_0x3aa775(0x16e)+_0x60c0ff);}return _0x60c0ff;}catch(_0x2fb889){logger[_0x3aa775(0x13e)](_0x3aa775(0x203)+util[_0x3aa775(0x13f)](_0x2fb889));}}return null;}static[a63_0xe05012(0x144)](_0x164434){const _0x45b620=a63_0xe05012,_0xcf0745={};_0xcf0745[_0x45b620(0x17f)]=function(_0x309584,_0x56215b){return _0x309584>_0x56215b;};const _0x144eba=_0xcf0745;try{if(!fs[_0x45b620(0x1f7)](_0x164434)||!fs[_0x45b620(0x166)](_0x164434)[_0x45b620(0x1c5)]())return'';const _0x106b93=fs[_0x45b620(0x1ba)](_0x164434)[_0x45b620(0x1f2)](_0x5e2ffc=>path['join'](_0x164434,_0x5e2ffc))[_0x45b620(0x1fc)](_0x434b6a=>fs['statSync'](_0x434b6a)['isFile']()&&path[_0x45b620(0x167)](_0x434b6a)[_0x45b620(0x170)]('binary-'));if(_0x144eba[_0x45b620(0x17f)](_0x106b93[_0x45b620(0x18f)],0x0)){const _0x2fb635=_0x106b93['map'](_0xa69912=>({'filePath':_0xa69912,'mtime':fs[_0x45b620(0x166)](_0xa69912)[_0x45b620(0x1ab)]}))[_0x45b620(0x1ae)]((_0x46adce,_0x5ac4c3)=>{const _0x2e627c=_0x45b620;if(!_0x46adce||!_0x46adce['mtime'])return _0x5ac4c3;if(_0x144eba['qMrkK'](_0x5ac4c3[_0x2e627c(0x1ab)],_0x46adce[_0x2e627c(0x1ab)]))return _0x5ac4c3;return _0x46adce;},{});return _0x2fb635?_0x2fb635[_0x45b620(0x15f)]:'';}return'';}catch(_0x303618){return logger['error'](_0x45b620(0x174)+util['format'](_0x303618)),'';}}static [a63_0xe05012(0x1d3)]=async(_0x4a1808,_0x566ca8)=>{const _0x5ad32f=a63_0xe05012,_0x209e01={'kcqcd':function(_0x26b04d,_0x7044f6,_0x4a0718,_0x4633ba,_0x3c6dff){return _0x26b04d(_0x7044f6,_0x4a0718,_0x4633ba,_0x3c6dff);},'lIoXO':_0x5ad32f(0x1ad)},_0x370050={};_0x370050['qs']=_0x4a1808;const _0x509485=await _0x209e01['kcqcd'](nodeRequest,_0x209e01[_0x5ad32f(0x164)],UPDATED_CLI_ENDPOINT,_0x370050,_0x566ca8);return logger['debug']('response\x20'+JSON['stringify'](_0x509485)),_0x509485;};static['runShellCommand'](_0x41997e,_0xbdb5e8=''){const _0x4de838=a63_0xe05012,_0x4ad9e4={'NRNTh':_0x4de838(0x1c3),'ufznR':function(_0x2a107f,_0x6de87b){return _0x2a107f(_0x6de87b);},'qVqKX':_0x4de838(0x1f1),'rUwEl':function(_0x4ee4ef,_0x4ffd81){return _0x4ee4ef(_0x4ffd81);},'gcxrh':function(_0x3c6fc8,_0x5ebb4d,_0x269609,_0x548726){return _0x3c6fc8(_0x5ebb4d,_0x269609,_0x548726);},'wkPEq':_0x4de838(0x13e)};return new Promise((_0x343a7c,_0x171f96)=>{const _0x34f63d=_0x4de838,_0x428ce0={'EkJzl':function(_0x18c674,_0x55aebe){return _0x4ad9e4['rUwEl'](_0x18c674,_0x55aebe);},'NsoMW':_0x4ad9e4['qVqKX']},_0x151504={};_0x151504['cwd']=_0xbdb5e8,_0x151504['timeout']=0x1388;const _0x2b66c6=_0x4ad9e4[_0x34f63d(0x1a0)](exec,_0x41997e,_0x151504,(_0x515ce8,_0x420718,_0x48c4b5)=>{const _0x4ed333=_0x34f63d;if(_0x515ce8){if(_0x41997e[_0x4ed333(0x1cb)](_0x4ad9e4[_0x4ed333(0x172)])&&(_0x420718['trim']()||_0x48c4b5[_0x4ed333(0x1ea)]())){const _0xf48e1f=_0x420718[_0x4ed333(0x1ea)]()||_0x48c4b5[_0x4ed333(0x1ea)]();logger[_0x4ed333(0x1dc)]('CLI\x20version\x20found\x20despite\x20error:\x20\x22'+_0xf48e1f+'\x22'),_0x4ad9e4[_0x4ed333(0x1c6)](_0x343a7c,_0xf48e1f);}else _0x4ad9e4[_0x4ed333(0x1c6)](_0x343a7c,_0x48c4b5[_0x4ed333(0x1ea)]()||_0x4ad9e4[_0x4ed333(0x1d4)]);}else logger[_0x4ed333(0x1dc)](_0x4ed333(0x190)+_0x420718[_0x4ed333(0x1ea)]()+'\x22'),_0x4ad9e4['ufznR'](_0x343a7c,_0x420718[_0x4ed333(0x1ea)]());});_0x2b66c6['on'](_0x4ad9e4[_0x34f63d(0x157)],()=>{const _0x3bfbdc=_0x34f63d;_0x428ce0[_0x3bfbdc(0x1ee)](_0x343a7c,_0x428ce0[_0x3bfbdc(0x1b0)]);});});}static ['downloadLatestBinary']=async(_0x59cf29,_0x4d5830)=>{const _0xf30a63=a63_0xe05012,_0x39878a={'jGaWI':_0xf30a63(0x1d0),'Rmcyw':function(_0x56983e,_0x2b7f48){return _0x56983e(_0x2b7f48);},'tdXKU':_0xf30a63(0x1ef),'KSpBh':_0xf30a63(0x13e),'sqMYR':function(_0x3efe8b,_0x3c5747){return _0x3efe8b(_0x3c5747);},'cSFog':'downloaded_file.zip'};PerformanceTester[_0xf30a63(0x1d9)](PerformanceEvents['SDK_CLI_DOWNLOAD']),logger[_0xf30a63(0x1dc)]('Downloading\x20SDK\x20binary\x20from:\x20'+_0x59cf29);try{const _0x4b4a07=url['parse'](_0x59cf29),_0x5421a3=path[_0xf30a63(0x1b4)](_0x4d5830,_0x39878a[_0xf30a63(0x1e0)]),_0x2fb976=fs['createWriteStream'](_0x5421a3);return new Promise((_0x5f7fa2,_0x3c6bc3)=>{const _0x5e3d84=_0xf30a63,_0x5a500b={'igSsI':function(_0x463480,_0x3ee79f){const _0x2a48b0=a63_0x2826;return _0x39878a[_0x2a48b0(0x194)](_0x463480,_0x3ee79f);}};https[_0x5e3d84(0x156)](_0x4b4a07,function(_0x2dde28){const _0x5d7d1d=_0x5e3d84,_0x174a9e={'LPZzv':_0x39878a[_0x5d7d1d(0x1b6)],'wolyP':function(_0x4cff24,_0x242a66){const _0x267f3f=_0x5d7d1d;return _0x39878a[_0x267f3f(0x148)](_0x4cff24,_0x242a66);},'Vclcq':_0x39878a[_0x5d7d1d(0x1d5)],'MJQQQ':function(_0x386f81,_0x2b3300){const _0x127e80=_0x5d7d1d;return _0x39878a[_0x127e80(0x148)](_0x386f81,_0x2b3300);}},_0x20e8a2=null;_0x2dde28[_0x5d7d1d(0x152)](_0x2fb976),_0x2dde28['on'](_0x39878a['KSpBh'],function(_0x1db4e6){const _0x547b6c=_0x5d7d1d;logger[_0x547b6c(0x13e)](util[_0x547b6c(0x13f)](_0x174a9e[_0x547b6c(0x13b)],_0x1db4e6)),PerformanceTester['end'](PerformanceEvents[_0x547b6c(0x1bc)],![],util[_0x547b6c(0x13f)](_0x1db4e6)),_0x174a9e[_0x547b6c(0x192)](_0x3c6bc3,_0x1db4e6);}),_0x2fb976['on'](_0x39878a[_0x5d7d1d(0x1c8)],function(_0x5a53ca){const _0x44ef15=_0x5d7d1d;logger[_0x44ef15(0x13e)](util[_0x44ef15(0x13f)](_0x174a9e[_0x44ef15(0x1f0)],_0x5a53ca)),PerformanceTester[_0x44ef15(0x160)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x44ef15(0x13f)](_0x5a53ca)),_0x174a9e[_0x44ef15(0x149)](_0x3c6bc3,_0x5a53ca);}),CLIUtils[_0x5d7d1d(0x197)](_0x2fb976,_0x20e8a2,_0x5421a3,_0x4d5830,_0x5f7fa2,_0x3c6bc3),PerformanceTester[_0x5d7d1d(0x160)](PerformanceEvents[_0x5d7d1d(0x1bc)]);})['on'](_0x39878a['KSpBh'],function(_0x8cf9d9){const _0x2e22d8=_0x5e3d84;logger[_0x2e22d8(0x13e)](_0x2e22d8(0x198)+util['format'](_0x8cf9d9)),PerformanceTester['end'](PerformanceEvents[_0x2e22d8(0x1bc)],![],util[_0x2e22d8(0x13f)](_0x8cf9d9)),_0x5a500b[_0x2e22d8(0x179)](_0x3c6bc3,_0x8cf9d9);});});}catch(_0x5627e7){PerformanceTester[_0xf30a63(0x160)](PerformanceEvents[_0xf30a63(0x1bc)],![],util[_0xf30a63(0x13f)](_0x5627e7)),logger[_0xf30a63(0x1dc)]('Failed\x20to\x20download\x20binary,\x20Exception:\x20'+util[_0xf30a63(0x13f)](_0x5627e7));}};static[a63_0xe05012(0x197)](_0x4cf369,_0x1d85cc,_0x369d0d,_0x161a44,_0x5bdbba,_0x95146d){const _0x27ea3c=a63_0xe05012,_0x27c445={'DfBfd':function(_0x2ff507,_0xa66592){return _0x2ff507(_0xa66592);},'yPjGC':'end','qoaCk':function(_0x1772fe,_0x54f37a){return _0x1772fe===_0x54f37a;},'xNxsb':_0x27ea3c(0x1e8),'qScsM':_0x27ea3c(0x1cc),'DCUfP':_0x27ea3c(0x13e),'CxnOr':_0x27ea3c(0x17a)};_0x4cf369['on'](_0x27c445[_0x27ea3c(0x155)],function(){const _0x32e042=_0x27ea3c,_0x383351={'iAYsq':function(_0x255540,_0x37dff3){const _0x5659e9=a63_0x2826;return _0x27c445[_0x5659e9(0x141)](_0x255540,_0x37dff3);},'RYaWt':_0x27c445[_0x32e042(0x1ce)],'azAQE':function(_0x390e7d,_0x39c07b){const _0x231a1a=_0x32e042;return _0x27c445[_0x231a1a(0x13c)](_0x390e7d,_0x39c07b);},'GWBcS':function(_0x2a73ce,_0x590988){const _0x578ade=_0x32e042;return _0x27c445[_0x578ade(0x141)](_0x2a73ce,_0x590988);},'Kpagt':_0x27c445[_0x32e042(0x1a7)],'sEdqH':_0x27c445[_0x32e042(0x169)],'BqUYb':_0x27c445['DCUfP']},_0x246f0e={};_0x246f0e[_0x32e042(0x1fb)]=!![],yauzl[_0x32e042(0x17d)](_0x369d0d,_0x246f0e,function(_0x416ca0,_0x59f0db){const _0xd1881d=_0x32e042,_0x34b543={'NItNQ':function(_0x389441,_0x4dff33){const _0x40818a=a63_0x2826;return _0x383351[_0x40818a(0x14e)](_0x389441,_0x4dff33);},'lpWKo':_0x383351[_0xd1881d(0x16f)],'naxey':function(_0x198370,_0x2d34ad){const _0x519b0a=_0xd1881d;return _0x383351[_0x519b0a(0x1cd)](_0x198370,_0x2d34ad);},'AsQaB':function(_0x22cf9b,_0x87d73c){const _0xb71860=_0xd1881d;return _0x383351[_0xb71860(0x189)](_0x22cf9b,_0x87d73c);},'bkwhD':_0x383351[_0xd1881d(0x18a)]};_0x416ca0&&_0x383351['iAYsq'](_0x95146d,_0x416ca0),_0x59f0db[_0xd1881d(0x1a4)](),_0x59f0db['on'](_0x383351[_0xd1881d(0x1ac)],_0x23e531=>{const _0x2ece68=_0xd1881d;!_0x1d85cc&&(_0x1d85cc=_0x23e531[_0x2ece68(0x15c)]);if(/\/$/[_0x2ece68(0x1b2)](_0x23e531[_0x2ece68(0x15c)]))_0x59f0db[_0x2ece68(0x1a4)]();else{const _0x162153=fs[_0x2ece68(0x154)](path['join'](_0x161a44,_0x23e531[_0x2ece68(0x15c)]));_0x59f0db[_0x2ece68(0x19c)](_0x23e531,function(_0x45d99d,_0x3a16eb){const _0xa33ec9=_0x2ece68;_0x45d99d&&_0x34b543[_0xa33ec9(0x1b1)](_0x95146d,_0x416ca0),_0x3a16eb['on'](_0x34b543['lpWKo'],function(){const _0x7bfcf0=_0xa33ec9;_0x162153[_0x7bfcf0(0x17a)](),_0x59f0db[_0x7bfcf0(0x1a4)]();}),_0x3a16eb[_0xa33ec9(0x152)](_0x162153);}),_0x34b543[_0x2ece68(0x1e2)](_0x23e531[_0x2ece68(0x15c)],_0x1d85cc)&&_0x59f0db[_0x2ece68(0x17a)]();}}),_0x59f0db['on'](_0x383351[_0xd1881d(0x1c2)],_0x1de537=>{const _0x234102=_0xd1881d;_0x34b543[_0x234102(0x1d7)](_0x95146d,_0x1de537);}),_0x59f0db['once'](_0x383351['RYaWt'],()=>{const _0x621b2=_0xd1881d,_0x128bec={'krCEv':function(_0x4c9028,_0x3ed721){return _0x34b543['NItNQ'](_0x4c9028,_0x3ed721);},'IHGSm':function(_0x474b54,_0x4776d8){const _0x2d6a5c=a63_0x2826;return _0x34b543[_0x2d6a5c(0x1d7)](_0x474b54,_0x4776d8);}};fs[_0x621b2(0x159)](_0x369d0d,_0x2e39e1=>{const _0x14eb36=_0x621b2;_0x2e39e1&&logger[_0x14eb36(0x1be)](_0x14eb36(0x1e6)+_0x369d0d);}),fs[_0x621b2(0x1d2)](_0x161a44+'/'+_0x1d85cc,_0x34b543['bkwhD'],function(_0x5431f5){const _0x3e945a=_0x621b2;_0x5431f5&&_0x128bec[_0x3e945a(0x175)](_0x95146d,_0x5431f5),_0x128bec['IHGSm'](_0x5bdbba,_0x161a44+'/'+_0x1d85cc);}),_0x59f0db[_0x621b2(0x17a)]();});});});}static[a63_0xe05012(0x177)](){const _0x4148d3=a63_0xe05012;if(process[_0x4148d3(0x1b8)][_0x4148d3(0x196)])return JSON[_0x4148d3(0x14a)](process[_0x4148d3(0x1b8)]['BROWSERSTACK_TEST_FRAMEWORK_DETAIL']);return this['testFrameworkDetail'];}static[a63_0xe05012(0x1af)](){const _0x3e384e=a63_0xe05012;if(process[_0x3e384e(0x1b8)][_0x3e384e(0x1ed)])return JSON[_0x3e384e(0x14a)](process[_0x3e384e(0x1b8)][_0x3e384e(0x1ed)]);return this['automationFrameworkDetail'];}static[a63_0xe05012(0x171)](_0x5558a8,_0x3dfad5){const _0x40844b=a63_0xe05012,_0x35a76b={'duzSI':_0x40844b(0x151),'CExGN':function(_0x4cda3d,_0xe47689){return _0x4cda3d||_0xe47689;},'ukDkZ':function(_0x45802c,_0x959bfe){return _0x45802c(_0x959bfe);},'HdQJc':function(_0x478b31,_0x489343){return _0x478b31(_0x489343);}},_0x1bdf3e=_0x35a76b[_0x40844b(0x1a5)][_0x40844b(0x168)]('|');let _0x230081=0x0;while(!![]){switch(_0x1bdf3e[_0x230081++]){case'0':_0x35a76b[_0x40844b(0x1fd)](!_0x5558a8,!_0x3dfad5)&&logger['debug']('Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework='+_0x5558a8+_0x40844b(0x1c9)+_0x3dfad5);continue;case'1':process['env'][_0x40844b(0x196)]=JSON[_0x40844b(0x1d8)](this[_0x40844b(0x1bf)]);continue;case'2':this[_0x40844b(0x1df)]={'name':_0x3dfad5,'version':_0x35a76b[_0x40844b(0x1a8)](getFrameworkVersion,_0x3dfad5)};continue;case'3':process[_0x40844b(0x1b8)][_0x40844b(0x1ed)]=JSON[_0x40844b(0x1d8)](this['automationFrameworkDetail']);continue;case'4':this[_0x40844b(0x1bf)]={'name':_0x5558a8,'version':{[_0x5558a8]:_0x35a76b[_0x40844b(0x145)](getFrameworkVersion,_0x5558a8)}};continue;}break;}}static[a63_0xe05012(0x188)](_0x3c6447,_0x13732d){return _0x3c6447+':'+_0x13732d;}static[a63_0xe05012(0x15e)](){const _0x1558f2=a63_0xe05012;return process[_0x1558f2(0x1eb)]+':'+threadId;}static[a63_0xe05012(0x1aa)](_0x99a78c){const _0xe5523c=a63_0xe05012;if(_0x99a78c[_0xe5523c(0x1f4)]&&_0x99a78c[_0xe5523c(0x1f4)][_0xe5523c(0x1f9)])return!![];return![];}static[a63_0xe05012(0x143)](_0xb48a9f){const _0x173e2e=a63_0xe05012;if(_0xb48a9f[_0x173e2e(0x1f4)]&&_0xb48a9f[_0x173e2e(0x1f4)][_0x173e2e(0x1b3)])return!![];return![];}static[a63_0xe05012(0x1f5)](_0x32fc54){const _0x558fbd=a63_0xe05012,_0x840451=new RegExp(TestFrameworkConstants[_0x558fbd(0x16d)]);return _0x840451[_0x558fbd(0x1b2)](_0x32fc54);}static[a63_0xe05012(0x153)](_0xec3162,_0x32e288){const _0x555068=a63_0xe05012,_0x508591={};_0x508591['wnrFh']=function(_0x41ef87,_0x4c3ad8){return _0x41ef87!==_0x4c3ad8;},_0x508591[_0x555068(0x1fa)]=function(_0x593eae,_0x248b75){return _0x593eae===_0x248b75;},_0x508591[_0x555068(0x17e)]=_0x555068(0x1e9);const _0x746b05=_0x508591;for(const [_0x123b2b,_0x32f76e]of Object[_0x555068(0x140)](_0x32e288)){if(_0x746b05[_0x555068(0x1b5)](_0x32f76e,null)&&_0x746b05[_0x555068(0x1fa)](typeof _0x32f76e,_0x746b05['AesVl'])&&!Array[_0x555068(0x15d)](_0x32f76e))_0xec3162[_0x123b2b]=this[_0x555068(0x153)](_0xec3162[_0x123b2b]||{},_0x32f76e);else Array['isArray'](_0x32f76e)?_0xec3162[_0x123b2b]=(_0xec3162[_0x123b2b]||[])[_0x555068(0x1bd)](_0x32f76e):_0xec3162[_0x123b2b]=_0x32f76e;}return _0xec3162;}}module['exports']=CLIUtils;function a63_0x1740(){const _0x46469f=['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','EkJzl','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','Vclcq','SHELL_EXECUTE_ERROR','map','url','testContextOptions','matchHookRegex','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','existsSync','104856nFfMLL','skipSessionName','EMYEt','lazyEntries','filter','CExGN','uaWee','vXooZ','TPnDo','FmjPV','./state/hookState.js','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','LPZzv','qoaCk','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','error','format','entries','DfBfd','getCliDir','shouldSkipSessionStatus','getExistingCliPath','HdQJc','3152452VwrTtQ','runShellCommand','Rmcyw','MJQQQ','parse','setupCliPath','../../helpers/test-observability/utils.js','util','iAYsq','hJMOE','6269090RdFbIz','0|4|2|3|1','pipe','mergeObject','createWriteStream','CxnOr','get','wkPEq','follow-redirects','unlink','BROWSERSTACK_FILES_DIR','yauzl','fileName','isArray','getCurrentInstanceName','filePath','end','roJzB','getCLIParamsForDevEnv','iKyiK','lIoXO','OUwni','statSync','basename','split','qScsM','BROWSERSTACK_CLI_ENV','peGRI','worker_threads','HOOK_REGEX','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','RYaWt','startsWith','setFrameworkDetail','NRNTh','1152488iKBdwt','Error\x20while\x20reading\x20CLI\x20path:\x20','krCEv','LjpBT','getTestFrameworkDetail','getSdkVersion','igSsI','close','../../helpers/performance/constants','cli','open','AesVl','qMrkK','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','listen','hBnLD','QONkW','85MINcyP','CLIUtils','getSdkLanguage','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','getHookRegistryKey','GWBcS','Kpagt','NHrBS','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','SDK_CLI_BIN_PATH','137YhXHhO','length','Resolving\x20with\x20stdout:\x20\x22','downloadLatestBinary','wolyP','./instances/testFrameworkInstance.js','sqMYR','path','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','downloadFileStream','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','cli_version','../../helpers/performance/performance-tester.js','Setting\x20required\x20permissions\x20to\x20','openReadStream','7ASfccE','jiQFO','../utils/apiUtilityMethods.js','gcxrh','\x20version','unix:/tmp/sdk-platform-','Current\x20CLI\x20Path\x20Found:\x20','readEntry','duzSI','checkAndUpdateCli','xNxsb','ukDkZ','data','shouldSkipSessionName','mtime','sEdqH','GET','reduce','getAutomationFrameworkDetail','NsoMW','NItNQ','test','skipSessionStatus','join','wnrFh','jGaWI','3052617KhSGIt','env','../../helpers/classLogger.js','readdirSync','3082743SmJoBL','SDK_CLI_DOWNLOAD','concat','warn','testFrameworkDetail','../utils/constants','tmpdir','BqUYb','version','platform','isDirectory','ufznR','Resolved\x20binary\x20path:\x20','KSpBh',',\x20automationFramework=','BROWSERSTACK_BINARY_URL','includes','entry','azAQE','yPjGC','.browserstack','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','homedir','chmod','requestToUpdateCLI','qVqKX','tdXKU','wSogS','AsQaB','stringify','start','./state/automationFrameworkState.js','piHdl','debug','../../helpers/helper','ydzxH','automationFrameworkDetail','cSFog','getWritableDir','naxey','info','../../helpers/utilities','KBZVG','Failed\x20to\x20delete\x20zip\x20file:\x20','14502fWyXFp','0755','object','trim','pid','development'];a63_0x1740=function(){return _0x46469f;};return a63_0x1740();}