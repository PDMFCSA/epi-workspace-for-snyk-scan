const a56_0x18fc34=a56_0x1ef7;(function(_0x45e7d1,_0x611b4a){const _0x456418=a56_0x1ef7,_0x4af190=_0x45e7d1();while(!![]){try{const _0x3fa796=-parseInt(_0x456418(0x1b5))/0x1*(-parseInt(_0x456418(0x1db))/0x2)+-parseInt(_0x456418(0x1f9))/0x3+parseInt(_0x456418(0x19b))/0x4+parseInt(_0x456418(0x1d6))/0x5*(-parseInt(_0x456418(0x1ac))/0x6)+parseInt(_0x456418(0x203))/0x7*(-parseInt(_0x456418(0x1ef))/0x8)+-parseInt(_0x456418(0x1d3))/0x9*(-parseInt(_0x456418(0x20d))/0xa)+parseInt(_0x456418(0x210))/0xb;if(_0x3fa796===_0x611b4a)break;else _0x4af190['push'](_0x4af190['shift']());}catch(_0x35dc1e){_0x4af190['push'](_0x4af190['shift']());}}}(a56_0x2733,0xcfcf3));const fs=require('fs'),os=require('os'),url=require(a56_0x18fc34(0x1d2)),path=require(a56_0x18fc34(0x1b6)),{exec}=require('child_process'),{https}=require(a56_0x18fc34(0x1a5)),yauzl=require(a56_0x18fc34(0x219)),util=require(a56_0x18fc34(0x199)),{getFrameworkVersion}=require(a56_0x18fc34(0x1b8)),{threadId}=require(a56_0x18fc34(0x1f0)),PerformanceTester=require('../../helpers/performance/performance-tester.js'),{EVENTS:PerformanceEvents}=require(a56_0x18fc34(0x1dd)),{isNullOrEmpty,isWritable,setReadWriteAccess}=require('../../helpers/utilities'),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a56_0x18fc34(0x1f5)),{BROWSERSTACK_API_URL,UPDATED_CLI_ENDPOINT}=require(a56_0x18fc34(0x176)),{createClassLogger}=require('../../helpers/classLogger.js'),TestFrameworkInstance=require('./instances/testFrameworkInstance.js'),HookState=require(a56_0x18fc34(0x1a9)),TestFrameworkState=require(a56_0x18fc34(0x1cf)),AutomationFrameworkState=require(a56_0x18fc34(0x17a)),TestFrameworkConstants=require(a56_0x18fc34(0x1d5)),logger=createClassLogger(a56_0x18fc34(0x196));function a56_0x1ef7(_0x21e22e,_0x2c54d0){const _0x2733e3=a56_0x2733();return a56_0x1ef7=function(_0x1ef777,_0x4f09a6){_0x1ef777=_0x1ef777-0x16d;let _0x228c92=_0x2733e3[_0x1ef777];return _0x228c92;},a56_0x1ef7(_0x21e22e,_0x2c54d0);}function a56_0x2733(){const _0x520b38=['ckNel','downloadFileStream','response\x20','Development\x20Cli\x20Path:\x20','test','AUsVK','isDevelopmentEnv','8GEwxcg','worker_threads','FkjWk','BOHzs','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','mtime','../../helpers/helper','getWritableDir','readEntry','twLEO','3920166AaCqsp','../../../package.json',',\x20automationFramework=','File\x20does\x20not\x20exist:\x20','filePath','start','getCLIParamsForDevEnv','MBLvu','statSync','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','10566304frmyHF','MXJic','AJSYG','get','SDK_CLI_CHECK_UPDATE','jKpXO','wBWRN','checkAndUpdateCli','isFile','testFrameworkDetail','278800xJValu','error','getAutomationFrameworkDetail','35170454fxukoU','platform','runShellCommand','split','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','BROWSERSTACK_BINARY_URL','VBamt','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','downloaded_file.zip','yauzl','tmp','.browserstack','Error\x20while\x20reading\x20CLI\x20path:\x20','binary-','cli_version','SSRvr','join','getHookRegistryKey','ZXTAk','BROWSERSTACK_CLI_ENV','automationFrameworkDetail','dFItX','node','uKiHT','../utils/constants','RZYjv','fcbSS','setFrameworkDetail','./state/automationFrameworkState.js','once','LNcgp','LjfXG','SHELL_EXECUTE_ERROR','end','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','NRvpF','startsWith','testContextOptions','fILOY','OiNvR','.sock','lSPsh','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','format','zZTuE','coudE','arch','mazMJ','knZRX','downloadLatestBinary','0755','filter','debug','env','cwd','createWriteStream','CLIUtils','length','skipSessionName','util','requestToUpdateCLI','1317800wRrumM','0|2|1|3|4','GET','Unable\x20to\x20provide\x20write\x20permission\x20to\x20','nZZpE','development','Configuring\x20Cli\x20path.','OlIqc','TmIpA','data','follow-redirects','getSdkVersion','Resolved\x20binary\x20path:\x20','oaUgc','./state/hookState.js','getExistingCliPath','HOOK_REGEX','378yaMvZf','IcuCV','mbSAP','entry','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','tZSMA','stringify','YMQQA','OcECQ','1tLDWtd','path','trim','../../helpers/test-observability/utils.js','yvhKe','map','isDirectory','qyVJk','ebgrG','BROWSERSTACK_FILES_DIR','basename','iwqmK','existsSync','pipe','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','cli','Failed\x20to\x20download\x20binary,\x20Exception:\x20','getTestFrameworkDetail','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','getSdkLanguage','warn','parse','Uyosj','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','Giving\x20write\x20permission\x20to\x20','open','./state/testFrameworkState.js','SRcbr','Downloading\x20SDK\x20binary\x20from:\x20','url','63QajqmX','shouldSkipSessionStatus','./framework/constants/testFrameworkConstants.js','100785KzvIDl','pid','HyZgg','fileName','\x20version','2430696ZIazkj','SDK_CLI_BIN_PATH','../../helpers/performance/constants','info','ObMHz','unlink','version','reduce','openReadStream','SDK_CLI_DOWNLOAD','TYOpw','close','listen'];a56_0x2733=function(){return _0x520b38;};return a56_0x2733();}class CLIUtils{[a56_0x18fc34(0x172)]={};[a56_0x18fc34(0x20c)]={};static[a56_0x18fc34(0x1ee)](){const _0x1f4603=a56_0x18fc34,_0x1294ce={};_0x1294ce[_0x1f4603(0x173)]=function(_0x5ebd81,_0x511462){return _0x5ebd81===_0x511462;},_0x1294ce[_0x1f4603(0x181)]=_0x1f4603(0x1a0);const _0x355fd4=_0x1294ce;return _0x355fd4[_0x1f4603(0x173)](process['env'][_0x1f4603(0x171)],_0x355fd4[_0x1f4603(0x181)]);}static[a56_0x18fc34(0x1ff)](){const _0x70b1c0=a56_0x18fc34,_0x32d6e5={};return _0x32d6e5['id']=process[_0x70b1c0(0x193)][_0x70b1c0(0x171)],_0x32d6e5[_0x70b1c0(0x1e7)]='unix:/tmp/sdk-platform-'+process[_0x70b1c0(0x193)][_0x70b1c0(0x171)]+_0x70b1c0(0x186),_0x32d6e5;}static[a56_0x18fc34(0x1a6)](){const _0x5d45bc=a56_0x18fc34,_0x18751a={'SSRvr':function(_0x53358e,_0x32ac96){return _0x53358e(_0x32ac96);},'WhpyI':_0x5d45bc(0x1fa)};return _0x18751a[_0x5d45bc(0x16d)](require,_0x18751a['WhpyI'])[_0x5d45bc(0x1e1)];}static[a56_0x18fc34(0x1c8)](){const _0x1479d5=a56_0x18fc34,_0x5c515b={};_0x5c515b[_0x1479d5(0x1a2)]=_0x1479d5(0x174);const _0x27e786=_0x5c515b;return _0x27e786[_0x1479d5(0x1a2)];}static async['setupCliPath'](_0x47e7c1){const _0xd2fb97=a56_0x18fc34,_0x5bd67b={'uKiHT':_0xd2fb97(0x1a1),'knZRX':function(_0x51d076,_0xdcdc91){return _0x51d076(_0xdcdc91);},'QeYUH':'No\x20writable\x20directory\x20available\x20for\x20the\x20CLI'};logger[_0xd2fb97(0x192)](_0x5bd67b[_0xd2fb97(0x175)]);const _0x24cf00=process['env'][_0xd2fb97(0x1dc)];if(!_0x5bd67b[_0xd2fb97(0x18e)](isNullOrEmpty,_0x24cf00))return logger[_0xd2fb97(0x192)](_0xd2fb97(0x1eb)+_0x24cf00),_0x24cf00;try{const _0x495c80=this['getCliDir']();if(_0x5bd67b[_0xd2fb97(0x18e)](isNullOrEmpty,_0x495c80))throw new Error(_0x5bd67b['QeYUH']);const _0x32dcd6=this[_0xd2fb97(0x1aa)](_0x495c80),_0x336431=await this[_0xd2fb97(0x20a)](_0x32dcd6,_0x495c80,_0x47e7c1);return logger[_0xd2fb97(0x192)](_0xd2fb97(0x1a7)+_0x336431),_0x336431;}catch(_0x49f471){logger[_0xd2fb97(0x192)](_0xd2fb97(0x188)+util[_0xd2fb97(0x189)](_0x49f471));}return null;}static async[a56_0x18fc34(0x20a)](_0xfc1e2e,_0x5a3faa,_0x16d91c){const _0x5f4624=a56_0x18fc34,_0x4e4a08={'VBamt':function(_0x164934){return _0x164934();},'gkdsL':function(_0x5ced08,_0x458d16){return _0x5ced08(_0x458d16);},'YZvsx':function(_0x30bbd7,_0xf9de1b,_0x4d324f){return _0x30bbd7(_0xf9de1b,_0x4d324f);},'fcbSS':'data','RZYjv':_0x5f4624(0x1d2)};PerformanceTester['start'](PerformanceEvents[_0x5f4624(0x207)]),logger['info']('Current\x20CLI\x20Path\x20Found:\x20'+_0xfc1e2e);const _0x30232d=_0x4e4a08[_0x5f4624(0x216)](getHostInfo),_0x510f4a={'sdk_version':CLIUtils[_0x5f4624(0x1a6)](),'os':_0x30232d[_0x5f4624(0x211)],'os_arch':_0x30232d[_0x5f4624(0x18c)],'cli_version':'0','sdk_language':this[_0x5f4624(0x1c8)]()};!_0x4e4a08['gkdsL'](isNullOrEmpty,_0xfc1e2e)&&(_0x510f4a['cli_version']=await this['runShellCommand'](_0xfc1e2e+_0x5f4624(0x1da)));const _0x4bdfa0=await this['requestToUpdateCLI'](_0x510f4a,_0x16d91c);process[_0x5f4624(0x193)][_0x5f4624(0x215)]&&(logger[_0x5f4624(0x1de)](_0x5f4624(0x1b0)+process[_0x5f4624(0x193)][_0x5f4624(0x215)]),_0x4bdfa0[_0x5f4624(0x1a4)][_0x5f4624(0x1d2)]=process[_0x5f4624(0x193)][_0x5f4624(0x215)]);if(_0x4e4a08['YZvsx'](nestedKeyValue,_0x4bdfa0,[_0x4e4a08[_0x5f4624(0x178)],_0x4e4a08[_0x5f4624(0x177)]])){logger['debug']('Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20'+_0x510f4a[_0x5f4624(0x21e)]);const _0x97efc1=await this[_0x5f4624(0x18f)](_0x4e4a08['YZvsx'](nestedKeyValue,_0x4bdfa0,[_0x4e4a08[_0x5f4624(0x178)],_0x4e4a08['RZYjv']]),_0x5a3faa);return PerformanceTester[_0x5f4624(0x17f)](PerformanceEvents[_0x5f4624(0x207)]),_0x97efc1;}return PerformanceTester['end'](PerformanceEvents[_0x5f4624(0x207)]),_0xfc1e2e;}static['getCliDir'](){const _0x328ef8=a56_0x18fc34,_0x4c3f7b={'yvhKe':function(_0xaac8e9,_0x30e816){return _0xaac8e9(_0x30e816);},'IffGN':_0x328ef8(0x214),'JyZbw':_0x328ef8(0x1c4),'BOHzs':function(_0x126bb9,_0x2670bf){return _0x126bb9(_0x2670bf);}},_0xb07e51=this[_0x328ef8(0x1f6)]();try{if(_0x4c3f7b[_0x328ef8(0x1b9)](isNullOrEmpty,_0xb07e51))throw new Error(_0x4c3f7b['IffGN']);const _0x40c844=path[_0x328ef8(0x16e)](_0xb07e51,_0x4c3f7b['JyZbw']);return!fs[_0x328ef8(0x1c1)](_0x40c844)&&_0x4c3f7b[_0x328ef8(0x1f2)](createDir,_0x40c844),_0x40c844;}catch(_0x51cf00){logger[_0x328ef8(0x192)](_0x328ef8(0x1c3)+util['format'](_0x51cf00));}}static[a56_0x18fc34(0x1f6)](){const _0x225249=a56_0x18fc34,_0x96e51d={'tZSMA':_0x225249(0x21b),'HFOJQ':_0x225249(0x21a),'ckNel':function(_0x20a8e9,_0x4cd010){return _0x20a8e9(_0x4cd010);},'TmIpA':function(_0xc2be0e,_0x25edc4){return _0xc2be0e(_0x25edc4);}},_0x293f43=[process[_0x225249(0x193)][_0x225249(0x1be)],path[_0x225249(0x16e)](os['homedir'](),_0x96e51d[_0x225249(0x1b1)]),path[_0x225249(0x16e)](_0x96e51d['HFOJQ'],_0x96e51d[_0x225249(0x1b1)])];for(const _0x26c40d of _0x293f43){if(_0x96e51d[_0x225249(0x1e8)](isNullOrEmpty,_0x26c40d))continue;try{if(fs[_0x225249(0x1c1)](_0x26c40d)){logger[_0x225249(0x192)]('File\x20'+_0x26c40d+'\x20already\x20exist');if(!_0x96e51d['ckNel'](isWritable,_0x26c40d)){logger[_0x225249(0x192)](_0x225249(0x1cd)+_0x26c40d);const _0x266687=_0x96e51d[_0x225249(0x1e8)](setReadWriteAccess,_0x26c40d);!_0x96e51d[_0x225249(0x1e8)](isTrue,_0x266687)&&logger[_0x225249(0x1c9)]('Unable\x20to\x20provide\x20write\x20permission\x20to\x20'+_0x26c40d);}}else{logger[_0x225249(0x192)](_0x225249(0x1fc)+_0x26c40d),_0x96e51d[_0x225249(0x1a3)](createDir,_0x26c40d),logger[_0x225249(0x192)](_0x225249(0x1cd)+_0x26c40d);const _0x12dd3a=_0x96e51d[_0x225249(0x1a3)](setReadWriteAccess,_0x26c40d);!_0x96e51d[_0x225249(0x1e8)](isTrue,_0x12dd3a)&&logger[_0x225249(0x1c9)](_0x225249(0x19e)+_0x26c40d);}return _0x26c40d;}catch(_0x412cc4){logger[_0x225249(0x20e)](_0x225249(0x1cc)+util['format'](_0x412cc4));}}return null;}static[a56_0x18fc34(0x1aa)](_0xf15d44){const _0x41b6b2=a56_0x18fc34,_0x224a07={};_0x224a07[_0x41b6b2(0x170)]=function(_0xd1619b,_0x2ba6a4){return _0xd1619b>_0x2ba6a4;};const _0x2034f1=_0x224a07;try{if(!fs[_0x41b6b2(0x1c1)](_0xf15d44)||!fs['statSync'](_0xf15d44)[_0x41b6b2(0x1bb)]())return'';const _0x29d6ef=fs['readdirSync'](_0xf15d44)['map'](_0x3ddcb5=>path[_0x41b6b2(0x16e)](_0xf15d44,_0x3ddcb5))[_0x41b6b2(0x191)](_0x24e42e=>fs[_0x41b6b2(0x201)](_0x24e42e)[_0x41b6b2(0x20b)]()&&path[_0x41b6b2(0x1bf)](_0x24e42e)[_0x41b6b2(0x182)](_0x41b6b2(0x21d)));if(_0x2034f1[_0x41b6b2(0x170)](_0x29d6ef[_0x41b6b2(0x197)],0x0)){const _0x26fdad=_0x29d6ef[_0x41b6b2(0x1ba)](_0x26486c=>({'filePath':_0x26486c,'mtime':fs[_0x41b6b2(0x201)](_0x26486c)[_0x41b6b2(0x1f4)]}))[_0x41b6b2(0x1e2)]((_0x9ea4a,_0x249cbd)=>{const _0x5b21de=_0x41b6b2;if(!_0x9ea4a||!_0x9ea4a[_0x5b21de(0x1f4)])return _0x249cbd;if(_0x2034f1['ZXTAk'](_0x249cbd[_0x5b21de(0x1f4)],_0x9ea4a[_0x5b21de(0x1f4)]))return _0x249cbd;return _0x9ea4a;},{});return _0x26fdad?_0x26fdad[_0x41b6b2(0x1fd)]:'';}return'';}catch(_0x3b1fd0){return logger[_0x41b6b2(0x20e)](_0x41b6b2(0x21c)+util['format'](_0x3b1fd0)),'';}}static [a56_0x18fc34(0x19a)]=async(_0x187a0c,_0x15f67f)=>{const _0x1833d6=a56_0x18fc34,_0x1e0e6e={'Rzczw':function(_0x4598ac,_0x4ce1db,_0x4e70bb,_0x3f8dc4,_0x2560ac,_0x4c1030){return _0x4598ac(_0x4ce1db,_0x4e70bb,_0x3f8dc4,_0x2560ac,_0x4c1030);},'iwqmK':_0x1833d6(0x19d)},_0x52e864={};_0x52e864['qs']=_0x187a0c;const _0x4f04ea=await _0x1e0e6e['Rzczw'](nodeRequest,_0x1e0e6e[_0x1833d6(0x1c0)],UPDATED_CLI_ENDPOINT,_0x52e864,_0x15f67f,BROWSERSTACK_API_URL);return logger[_0x1833d6(0x192)](_0x1833d6(0x1ea)+JSON[_0x1833d6(0x1b2)](_0x4f04ea)),_0x4f04ea;};static[a56_0x18fc34(0x212)](_0x422a6a,_0x54877b=''){const _0x46d20c=a56_0x18fc34,_0x2b991a={'FkjWk':function(_0x1519ff,_0x379c72){return _0x1519ff(_0x379c72);},'MBLvu':_0x46d20c(0x17e),'AJSYG':function(_0xbb8869,_0x34afe2){return _0xbb8869(_0x34afe2);},'zZTuE':function(_0x58e188,_0x315ca7){return _0x58e188(_0x315ca7);},'SUBkA':function(_0x57cc22,_0x1d86d0,_0x52daa6,_0x4ffdf8){return _0x57cc22(_0x1d86d0,_0x52daa6,_0x4ffdf8);},'OiNvR':'error'};return new Promise((_0x5d5639,_0x17f1ed)=>{const _0x525e2a=_0x46d20c,_0x58be3b={'OEswV':function(_0x5c3f1d,_0x34f926){const _0x23fb17=a56_0x1ef7;return _0x2b991a[_0x23fb17(0x18a)](_0x5c3f1d,_0x34f926);},'ebgrG':_0x2b991a[_0x525e2a(0x200)]},_0x41bbca={};_0x41bbca[_0x525e2a(0x194)]=_0x54877b,_0x41bbca['timeout']=0x1388;const _0xd96ed1=_0x2b991a['SUBkA'](exec,_0x422a6a,_0x41bbca,(_0x21928c,_0x11ca68,_0x1a4a31)=>{const _0x4938af=_0x525e2a;_0x21928c?_0x2b991a[_0x4938af(0x1f1)](_0x5d5639,_0x1a4a31[_0x4938af(0x1b7)]()||_0x2b991a['MBLvu']):_0x2b991a[_0x4938af(0x205)](_0x5d5639,_0x11ca68[_0x4938af(0x1b7)]());});_0xd96ed1['on'](_0x2b991a[_0x525e2a(0x185)],()=>{const _0x5f1506=_0x525e2a;_0x58be3b['OEswV'](_0x5d5639,_0x58be3b[_0x5f1506(0x1bd)]);});});}static [a56_0x18fc34(0x18f)]=async(_0x1b5e4c,_0x1d6daf)=>{const _0x446a36=a56_0x18fc34,_0x5c630f={'mazMJ':_0x446a36(0x20e),'LjfXG':function(_0x56ecc9,_0x2d103e){return _0x56ecc9(_0x2d103e);},'Uyosj':'Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','zyrOb':function(_0x557ab2,_0x57e679){return _0x557ab2(_0x57e679);},'ObMHz':_0x446a36(0x217),'FiKvs':_0x446a36(0x218)};PerformanceTester[_0x446a36(0x1fe)](PerformanceEvents['SDK_CLI_DOWNLOAD']),logger[_0x446a36(0x192)](_0x446a36(0x1d1)+_0x1b5e4c);try{const _0x36a785=url[_0x446a36(0x1ca)](_0x1b5e4c),_0x469530=path['join'](_0x1d6daf,_0x5c630f['FiKvs']),_0x10d6cb=fs[_0x446a36(0x195)](_0x469530);return new Promise((_0x11694e,_0x434b1a)=>{const _0x4e7791=_0x446a36,_0x5c5d7b={'LNcgp':_0x5c630f[_0x4e7791(0x1cb)],'SRcbr':function(_0x9a05f5,_0x8ed79c){return _0x5c630f['zyrOb'](_0x9a05f5,_0x8ed79c);},'YMQQA':_0x5c630f[_0x4e7791(0x1df)],'wBWRN':function(_0x3e9631,_0x25c232){const _0x49a81a=_0x4e7791;return _0x5c630f[_0x49a81a(0x17d)](_0x3e9631,_0x25c232);}};https[_0x4e7791(0x206)](_0x36a785,function(_0x304012){const _0x2c79a9=_0x4e7791,_0x330571=null;_0x304012[_0x2c79a9(0x1c2)](_0x10d6cb),_0x304012['on'](_0x5c630f[_0x2c79a9(0x18d)],function(_0x3b3252){const _0x53a402=_0x2c79a9;logger[_0x53a402(0x20e)](util[_0x53a402(0x189)](_0x5c5d7b[_0x53a402(0x17c)],_0x3b3252)),PerformanceTester[_0x53a402(0x17f)](PerformanceEvents[_0x53a402(0x1e4)],![],util[_0x53a402(0x189)](_0x3b3252)),_0x5c5d7b[_0x53a402(0x1d0)](_0x434b1a,_0x3b3252);}),_0x10d6cb['on'](_0x5c630f[_0x2c79a9(0x18d)],function(_0x2ac89c){const _0x44e3c3=_0x2c79a9;logger[_0x44e3c3(0x20e)](util[_0x44e3c3(0x189)](_0x5c5d7b[_0x44e3c3(0x1b3)],_0x2ac89c)),PerformanceTester['end'](PerformanceEvents[_0x44e3c3(0x1e4)],![],util['format'](_0x2ac89c)),_0x5c5d7b[_0x44e3c3(0x209)](_0x434b1a,_0x2ac89c);}),CLIUtils[_0x2c79a9(0x1e9)](_0x10d6cb,_0x330571,_0x469530,_0x1d6daf,_0x11694e,_0x434b1a),PerformanceTester['end'](PerformanceEvents[_0x2c79a9(0x1e4)]);})['on'](_0x5c630f[_0x4e7791(0x18d)],function(_0x10ee9d){const _0x4e51d5=_0x4e7791;logger['error'](_0x4e51d5(0x180)+util[_0x4e51d5(0x189)](_0x10ee9d)),PerformanceTester[_0x4e51d5(0x17f)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x4e51d5(0x189)](_0x10ee9d)),_0x5c630f[_0x4e51d5(0x17d)](_0x434b1a,_0x10ee9d);});});}catch(_0x16a72e){PerformanceTester['end'](PerformanceEvents[_0x446a36(0x1e4)],![],util[_0x446a36(0x189)](_0x16a72e)),logger['debug'](_0x446a36(0x1c5)+util[_0x446a36(0x189)](_0x16a72e));}};static['downloadFileStream'](_0x439229,_0x182f00,_0x22ab5,_0x34163a,_0x390be2,_0x451ef6){const _0x3d05a9=a56_0x18fc34,_0x3f5d95={'HyZgg':function(_0x6755eb,_0x56e56c){return _0x6755eb(_0x56e56c);},'coudE':_0x3d05a9(0x17f),'OcECQ':function(_0x294362,_0x25caca){return _0x294362===_0x25caca;},'Yzlfx':function(_0x303064,_0x4532ce){return _0x303064(_0x4532ce);},'oaUgc':_0x3d05a9(0x1af),'wDsfD':'error','mbSAP':_0x3d05a9(0x190),'AUsVK':_0x3d05a9(0x1e6)};_0x439229['on'](_0x3f5d95[_0x3d05a9(0x1ed)],function(){const _0x43b03e=_0x3d05a9,_0x19424e={'fILOY':function(_0x44fd56,_0x2c59d9){const _0x2c8d9b=a56_0x1ef7;return _0x3f5d95[_0x2c8d9b(0x1d8)](_0x44fd56,_0x2c59d9);},'feppb':function(_0x52324d,_0x2f1f60){return _0x3f5d95['Yzlfx'](_0x52324d,_0x2f1f60);},'TYOpw':_0x3f5d95[_0x43b03e(0x1ae)]},_0x2bf845={};_0x2bf845['lazyEntries']=!![],yauzl[_0x43b03e(0x1ce)](_0x22ab5,_0x2bf845,function(_0x34a030,_0x4468cc){const _0x5572a9=_0x43b03e,_0x392254={'IcuCV':function(_0x305277,_0x163044){const _0x3dc2b1=a56_0x1ef7;return _0x3f5d95[_0x3dc2b1(0x1d8)](_0x305277,_0x163044);},'aWXSg':_0x3f5d95[_0x5572a9(0x18b)],'twLEO':function(_0x23378b,_0x33dc0c){const _0xa7c4d4=_0x5572a9;return _0x3f5d95[_0xa7c4d4(0x1b4)](_0x23378b,_0x33dc0c);}};_0x34a030&&_0x3f5d95['Yzlfx'](_0x451ef6,_0x34a030),_0x4468cc[_0x5572a9(0x1f7)](),_0x4468cc['on'](_0x3f5d95[_0x5572a9(0x1a8)],_0x46e9a4=>{const _0x210493=_0x5572a9;!_0x182f00&&(_0x182f00=_0x46e9a4[_0x210493(0x1d9)]);if(/\/$/[_0x210493(0x1ec)](_0x46e9a4[_0x210493(0x1d9)]))_0x4468cc[_0x210493(0x1f7)]();else{const _0x18faac=fs['createWriteStream'](path[_0x210493(0x16e)](_0x34163a,_0x46e9a4['fileName']));_0x4468cc[_0x210493(0x1e3)](_0x46e9a4,function(_0x406c6e,_0x4b484f){const _0x173cbe=_0x210493;_0x406c6e&&_0x392254[_0x173cbe(0x1ad)](_0x451ef6,_0x34a030),_0x4b484f['on'](_0x392254['aWXSg'],function(){const _0x5d7b71=_0x173cbe;_0x18faac[_0x5d7b71(0x1e6)](),_0x4468cc[_0x5d7b71(0x1f7)]();}),_0x4b484f['pipe'](_0x18faac);}),_0x392254[_0x210493(0x1f8)](_0x46e9a4[_0x210493(0x1d9)],_0x182f00)&&_0x4468cc[_0x210493(0x1e6)]();}}),_0x4468cc['on'](_0x3f5d95['wDsfD'],_0x173f13=>{_0x392254['IcuCV'](_0x451ef6,_0x173f13);}),_0x4468cc[_0x5572a9(0x17b)](_0x3f5d95[_0x5572a9(0x18b)],()=>{const _0x485abc=_0x5572a9,_0x488d3={'MXJic':function(_0x119428,_0x449e1b){const _0x1fdf08=a56_0x1ef7;return _0x19424e[_0x1fdf08(0x184)](_0x119428,_0x449e1b);},'GBwRM':function(_0x37d7f0,_0x195601){return _0x19424e['feppb'](_0x37d7f0,_0x195601);}};fs[_0x485abc(0x1e0)](_0x22ab5,_0x5b93e4=>{_0x5b93e4&&logger['warn']('Failed\x20to\x20delete\x20zip\x20file:\x20'+_0x22ab5);}),fs['chmod'](_0x34163a+'/'+_0x182f00,_0x19424e[_0x485abc(0x1e5)],function(_0x3af8f8){const _0x1aecb9=_0x485abc;_0x3af8f8&&_0x488d3[_0x1aecb9(0x204)](_0x451ef6,_0x3af8f8),_0x488d3['GBwRM'](_0x390be2,_0x34163a+'/'+_0x182f00);}),_0x4468cc[_0x485abc(0x1e6)]();});});});}static[a56_0x18fc34(0x1c6)](){const _0x1c8992=a56_0x18fc34;if(process[_0x1c8992(0x193)][_0x1c8992(0x202)])return JSON[_0x1c8992(0x1ca)](process[_0x1c8992(0x193)][_0x1c8992(0x202)]);return this[_0x1c8992(0x20c)];}static[a56_0x18fc34(0x20f)](){const _0x1c054e=a56_0x18fc34;if(process[_0x1c054e(0x193)][_0x1c054e(0x1c7)])return JSON[_0x1c054e(0x1ca)](process[_0x1c054e(0x193)][_0x1c054e(0x1c7)]);return this[_0x1c054e(0x172)];}static[a56_0x18fc34(0x179)](_0x146cfe,_0x4dc18f){const _0x203a47=a56_0x18fc34,_0x111894={'nZZpE':_0x203a47(0x19c),'qyVJk':function(_0x5153c4,_0x3c990c){return _0x5153c4||_0x3c990c;},'lSPsh':function(_0x35e142,_0xbb58a8){return _0x35e142(_0xbb58a8);},'jKpXO':function(_0x154088,_0x576b0b){return _0x154088(_0x576b0b);}},_0x50357b=_0x111894[_0x203a47(0x19f)][_0x203a47(0x213)]('|');let _0x42496b=0x0;while(!![]){switch(_0x50357b[_0x42496b++]){case'0':_0x111894[_0x203a47(0x1bc)](!_0x146cfe,!_0x4dc18f)&&logger[_0x203a47(0x192)](_0x203a47(0x1f3)+_0x146cfe+_0x203a47(0x1fb)+_0x4dc18f);continue;case'1':this['automationFrameworkDetail']={'name':_0x4dc18f,'version':_0x111894[_0x203a47(0x187)](getFrameworkVersion,_0x4dc18f)};continue;case'2':this[_0x203a47(0x20c)]={'name':_0x146cfe,'version':{[_0x146cfe]:_0x111894[_0x203a47(0x208)](getFrameworkVersion,_0x146cfe)}};continue;case'3':process['env']['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']=JSON[_0x203a47(0x1b2)](this['automationFrameworkDetail']);continue;case'4':process['env'][_0x203a47(0x202)]=JSON[_0x203a47(0x1b2)](this[_0x203a47(0x20c)]);continue;}break;}}static[a56_0x18fc34(0x16f)](_0x3d501f,_0x1ad4b9){return _0x3d501f+':'+_0x1ad4b9;}static['getCurrentInstanceName'](){const _0x209212=a56_0x18fc34;return process[_0x209212(0x1d7)]+':'+threadId;}static['shouldSkipSessionName'](_0x10eea5){const _0x3cdbf3=a56_0x18fc34;if(_0x10eea5[_0x3cdbf3(0x183)]&&_0x10eea5[_0x3cdbf3(0x183)][_0x3cdbf3(0x198)])return!![];return![];}static[a56_0x18fc34(0x1d4)](_0x16f381){const _0x407c3a=a56_0x18fc34;if(_0x16f381[_0x407c3a(0x183)]&&_0x16f381[_0x407c3a(0x183)]['skipSessionStatus'])return!![];return![];}static['matchHookRegex'](_0x13e943){const _0x5dd4d5=a56_0x18fc34,_0x2c2707=new RegExp(TestFrameworkConstants[_0x5dd4d5(0x1ab)]);return _0x2c2707[_0x5dd4d5(0x1ec)](_0x13e943);}}module['exports']=CLIUtils;