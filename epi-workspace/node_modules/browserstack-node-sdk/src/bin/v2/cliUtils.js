function a60_0x17cb(){const _0x4c3eb7=['Setting\x20required\x20permissions\x20to\x20','stringify','./state/testFrameworkState.js','qKzkF','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','../../helpers/utilities','BDBGr','getCurrentInstanceName','ORCDn','UYfFU','development','YvkKH','once','xSmJR','SDK_CLI_DOWNLOAD','./framework/constants/testFrameworkConstants.js','url','testContextOptions','fileName','readEntry','entry','RERrl','tcXzT','lXcNh','getTestFrameworkDetail','ewfPm','tmpdir','getHookRegistryKey','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','ZImvq','getExistingCliPath','Configuring\x20Cli\x20path.','../../../package.json','child_process','path','zANfH','../../helpers/performance/constants','azwzO','wSDLm','util','CweSG','testFrameworkDetail','foTJA','\x20already\x20exists','42KwMRib','shouldSkipSessionName','close','6MyJLBI','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','map','GET','getCliDir','automationFrameworkDetail','HeOpE','cli_version','end','shouldSkipSessionStatus','OoheC','BROWSERSTACK_CLI_ENV','EAOjO','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','417942DTutac','uMvXX','arch','lazyEntries','shTnV','ieWBl','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','17288710HTzHcb','node','data','aVVsZ','YtfNP','PwRMX','isFile','BRfDa','runShellCommand','filePath','startsWith','env','BROWSERSTACK_BINARY_URL','QCXNM','platform','1272WQnZue','timeout','mgqnl','KtxEh','vORJX','length','epSDR','.browserstack','open','uuoZt','./state/hookState.js','ehhxz','hrocr','IwziN','zshhl','test','OvZpg','KJjZc','Pbapb','basename','join','WYcHN','binary-','exports','existsSync','SHELL_EXECUTE_ERROR','QbVzH','SDK_CLI_BIN_PATH','start','../../helpers/helper','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','0|2|3|4|1','createWriteStream','format','downloadFileStream','../../helpers/test-observability/utils.js','checkAndUpdateCli','skipSessionStatus','parse','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','../utils/constants','qdRME','tQpeP','Development\x20Cli\x20Path:\x20','error','follow-redirects','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','getWritableDir','BROWSERSTACK_FILES_DIR','listen','readdirSync','CLIUtils','isDirectory','237772LYBJZM','qheCA','vMVCD','fRrfy','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','Folder\x20does\x20not\x20exist:\x20','reduce','yauzl','219174kzKEBH','.sock','trim','unlink','klasq','69867yVPNsO','statSync','SDK_CLI_CHECK_UPDATE','get','getSdkVersion','info','0755','requestToUpdateCLI','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','debug','homedir','ENtsh','OKLgA','RJdvA','./instances/testFrameworkInstance.js','wfOjb','pid','aGlQM','WzTVE','QIkbT','cwd','632947XktrWj','mtime','warn','Current\x20CLI\x20Path\x20Found:\x20','setupCliPath','downloadLatestBinary','pipe','koZEy','yhqoZ','PmJCR','Failed\x20to\x20download\x20binary,\x20Exception:\x20','5566360koTdxl','getSdkLanguage'];a60_0x17cb=function(){return _0x4c3eb7;};return a60_0x17cb();}function a60_0x39cc(_0x73d566,_0x4b78e9){const _0x17cb9e=a60_0x17cb();return a60_0x39cc=function(_0x39cc72,_0x151dd3){_0x39cc72=_0x39cc72-0xde;let _0x3ffd9b=_0x17cb9e[_0x39cc72];return _0x3ffd9b;},a60_0x39cc(_0x73d566,_0x4b78e9);}const a60_0x219e1b=a60_0x39cc;(function(_0xd8c52,_0x4d82a1){const _0x1c70ad=a60_0x39cc,_0x177dcf=_0xd8c52();while(!![]){try{const _0x1dfcf4=-parseInt(_0x1c70ad(0x107))/0x1+-parseInt(_0x1c70ad(0x151))/0x2+parseInt(_0x1c70ad(0x143))/0x3*(-parseInt(_0x1c70ad(0xe5))/0x4)+-parseInt(_0x1c70ad(0x112))/0x5+parseInt(_0x1c70ad(0xed))/0x6*(-parseInt(_0x1c70ad(0x140))/0x7)+parseInt(_0x1c70ad(0x167))/0x8*(parseInt(_0x1c70ad(0xf2))/0x9)+parseInt(_0x1c70ad(0x158))/0xa;if(_0x1dfcf4===_0x4d82a1)break;else _0x177dcf['push'](_0x177dcf['shift']());}catch(_0x40aa62){_0x177dcf['push'](_0x177dcf['shift']());}}}(a60_0x17cb,0xa38f2));const fs=require('fs'),os=require('os'),url=require(a60_0x219e1b(0x124)),path=require(a60_0x219e1b(0x136)),{exec}=require(a60_0x219e1b(0x135)),{https}=require(a60_0x219e1b(0x194)),yauzl=require(a60_0x219e1b(0xec)),util=require(a60_0x219e1b(0x13b)),{getFrameworkVersion}=require(a60_0x219e1b(0x18a)),{threadId}=require('worker_threads'),PerformanceTester=require('../../helpers/performance/performance-tester.js'),{EVENTS:PerformanceEvents}=require(a60_0x219e1b(0x138)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require(a60_0x219e1b(0x119)),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a60_0x219e1b(0x184)),{BROWSERSTACK_API_URL,UPDATED_CLI_ENDPOINT}=require(a60_0x219e1b(0x18f)),{createClassLogger}=require('../../helpers/classLogger.js'),TestFrameworkInstance=require(a60_0x219e1b(0x100)),HookState=require(a60_0x219e1b(0x171)),TestFrameworkState=require(a60_0x219e1b(0x116)),AutomationFrameworkState=require('./state/automationFrameworkState.js'),TestFrameworkConstants=require(a60_0x219e1b(0x123)),logger=createClassLogger(a60_0x219e1b(0xe3));class CLIUtils{[a60_0x219e1b(0x148)]={};[a60_0x219e1b(0x13d)]={};static['isDevelopmentEnv'](){const _0x4922da=a60_0x219e1b,_0x4c35ce={};_0x4c35ce[_0x4922da(0x14d)]=function(_0xdaefc2,_0x2310bb){return _0xdaefc2===_0x2310bb;},_0x4c35ce[_0x4922da(0x121)]=_0x4922da(0x11e);const _0x1297a7=_0x4c35ce;return _0x1297a7[_0x4922da(0x14d)](process[_0x4922da(0x163)][_0x4922da(0x14e)],_0x1297a7[_0x4922da(0x121)]);}static['getCLIParamsForDevEnv'](){const _0x5996cb=a60_0x219e1b,_0x1361f5={};return _0x1361f5['id']=process['env'][_0x5996cb(0x14e)],_0x1361f5[_0x5996cb(0xe1)]='unix:/tmp/sdk-platform-'+process[_0x5996cb(0x163)][_0x5996cb(0x14e)]+_0x5996cb(0xee),_0x1361f5;}static[a60_0x219e1b(0xf6)](){const _0x28384d=a60_0x219e1b,_0x2d1821={'foTJA':function(_0x4a9bd2,_0x206f3c){return _0x4a9bd2(_0x206f3c);},'nnfDx':_0x28384d(0x134)};return _0x2d1821[_0x28384d(0x13e)](require,_0x2d1821['nnfDx'])['version'];}static[a60_0x219e1b(0x113)](){const _0x37b9ac=a60_0x219e1b,_0x2a190d={};_0x2a190d[_0x37b9ac(0x15c)]=_0x37b9ac(0x159);const _0x92b8db=_0x2a190d;return _0x92b8db['YtfNP'];}static async[a60_0x219e1b(0x10b)](_0x2a35ca){const _0x419cce=a60_0x219e1b,_0x3a9f0e={'tcXzT':_0x419cce(0x133),'KtxEh':function(_0x472b97,_0x574348){return _0x472b97(_0x574348);},'HeOpE':_0x419cce(0xfa)};logger[_0x419cce(0xfb)](_0x3a9f0e[_0x419cce(0x12a)]);const _0x374d7c=process[_0x419cce(0x163)][_0x419cce(0x182)];if(!_0x3a9f0e[_0x419cce(0x16a)](isNullOrEmpty,_0x374d7c))return logger['debug'](_0x419cce(0x192)+_0x374d7c),_0x374d7c;try{const _0x592e87=this[_0x419cce(0x147)]();if(_0x3a9f0e[_0x419cce(0x16a)](isNullOrEmpty,_0x592e87))throw new Error(_0x3a9f0e[_0x419cce(0x149)]);const _0x2138b1=this[_0x419cce(0x132)](_0x592e87),_0x349f5d=await this[_0x419cce(0x18b)](_0x2138b1,_0x592e87,_0x2a35ca);return logger['debug']('Resolved\x20binary\x20path:\x20'+_0x349f5d),_0x349f5d;}catch(_0x440352){logger[_0x419cce(0xfb)](_0x419cce(0x118)+util[_0x419cce(0x188)](_0x440352));}return null;}static async['checkAndUpdateCli'](_0x1ababc,_0x1d05cd,_0x4bf4bf){const _0x38cf0f=a60_0x219e1b,_0x1fb9cf={'klasq':function(_0x82ee12){return _0x82ee12();},'qKzkF':function(_0x337e07,_0x55d17c){return _0x337e07(_0x55d17c);},'uMvXX':function(_0x4b35c9,_0x562255,_0xdca292){return _0x4b35c9(_0x562255,_0xdca292);},'lXcNh':_0x38cf0f(0x15a),'ORCDn':'url','zshhl':function(_0x3c3488,_0x1fda36,_0x7d6da3){return _0x3c3488(_0x1fda36,_0x7d6da3);}};PerformanceTester['start'](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),logger[_0x38cf0f(0xf7)](_0x38cf0f(0x10a)+_0x1ababc);const _0x480276=_0x1fb9cf[_0x38cf0f(0xf1)](getHostInfo),_0x488a54={'sdk_version':CLIUtils['getSdkVersion'](),'os':_0x480276[_0x38cf0f(0x166)],'os_arch':_0x480276[_0x38cf0f(0x153)],'cli_version':'0','sdk_language':this['getSdkLanguage']()};!_0x1fb9cf[_0x38cf0f(0x117)](isNullOrEmpty,_0x1ababc)&&(_0x488a54[_0x38cf0f(0x14a)]=await this[_0x38cf0f(0x160)](_0x1ababc+'\x20version'));const _0xd3c81=await this['requestToUpdateCLI'](_0x488a54,_0x4bf4bf);process[_0x38cf0f(0x163)][_0x38cf0f(0x164)]&&(logger[_0x38cf0f(0xf7)]('Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20'+process['env'][_0x38cf0f(0x164)]),_0xd3c81[_0x38cf0f(0x15a)][_0x38cf0f(0x124)]=process[_0x38cf0f(0x163)][_0x38cf0f(0x164)]);if(_0x1fb9cf[_0x38cf0f(0x152)](nestedKeyValue,_0xd3c81,[_0x1fb9cf[_0x38cf0f(0x12b)],_0x1fb9cf['ORCDn']])){logger[_0x38cf0f(0xfb)](_0x38cf0f(0x185)+_0x488a54[_0x38cf0f(0x14a)]);const _0x4b7a92=await this['downloadLatestBinary'](_0x1fb9cf[_0x38cf0f(0x175)](nestedKeyValue,_0xd3c81,[_0x1fb9cf[_0x38cf0f(0x12b)],_0x1fb9cf[_0x38cf0f(0x11c)]]),_0x1d05cd);return PerformanceTester[_0x38cf0f(0x14b)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x4b7a92;}return PerformanceTester[_0x38cf0f(0x14b)](PerformanceEvents[_0x38cf0f(0xf4)]),_0x1ababc;}static[a60_0x219e1b(0x147)](){const _0x267c0e=a60_0x219e1b,_0x2d3119={'aGlQM':function(_0x1f8848,_0x326339){return _0x1f8848(_0x326339);},'Zcgut':'No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','fRrfy':'cli','XXKaE':function(_0x25299f,_0x1ab4f0){return _0x25299f(_0x1ab4f0);}},_0x478c1e=this[_0x267c0e(0xdf)]();try{if(_0x2d3119[_0x267c0e(0x103)](isNullOrEmpty,_0x478c1e))throw new Error(_0x2d3119['Zcgut']);const _0x5bfb7d=path['join'](_0x478c1e,_0x2d3119[_0x267c0e(0xe8)]);return!fs[_0x267c0e(0x17f)](_0x5bfb7d)&&_0x2d3119['XXKaE'](createDir,_0x5bfb7d),_0x5bfb7d;}catch(_0xfa8416){logger['debug'](_0x267c0e(0x150)+util[_0x267c0e(0x188)](_0xfa8416));}}static['getWritableDir'](){const _0x91eabc=a60_0x219e1b,_0x5d33f3={'Pbapb':_0x91eabc(0x16e),'quEWy':function(_0x31b647,_0x21e0fe){return _0x31b647(_0x21e0fe);},'mgqnl':function(_0x43e865,_0x1f8c32){return _0x43e865(_0x1f8c32);},'QCXNM':function(_0x4fd528,_0x1ba390){return _0x4fd528(_0x1ba390);},'YvkKH':function(_0x56dcc3,_0xdd325c){return _0x56dcc3(_0xdd325c);},'uuoZt':function(_0x1bb815,_0x1d6c59){return _0x1bb815(_0x1d6c59);}},_0xfaef53=[process[_0x91eabc(0x163)][_0x91eabc(0xe0)],path[_0x91eabc(0x17b)](os[_0x91eabc(0xfc)](),_0x5d33f3[_0x91eabc(0x179)]),path[_0x91eabc(0x17b)](os[_0x91eabc(0x12e)](),_0x5d33f3['Pbapb'])];for(const _0x2e1298 of _0xfaef53){if(_0x5d33f3['quEWy'](isNullOrEmpty,_0x2e1298))continue;try{if(fs[_0x91eabc(0x17f)](_0x2e1298)){logger['debug']('Folder\x20'+_0x2e1298+_0x91eabc(0x13f));if(!_0x5d33f3[_0x91eabc(0x169)](isModifiable,_0x2e1298)){logger[_0x91eabc(0xfb)](_0x91eabc(0x114)+_0x2e1298);const _0x149d2a=_0x5d33f3[_0x91eabc(0x169)](setReadWriteExecuteAccess,_0x2e1298);if(!_0x5d33f3[_0x91eabc(0x165)](isTrue,_0x149d2a)){logger[_0x91eabc(0x109)](_0x91eabc(0x18e)+_0x2e1298);continue;}}}else{logger['debug'](_0x91eabc(0xea)+_0x2e1298),_0x5d33f3[_0x91eabc(0x11f)](createDir,_0x2e1298),logger[_0x91eabc(0xfb)](_0x91eabc(0x114)+_0x2e1298);const _0x5610be=_0x5d33f3[_0x91eabc(0x170)](setReadWriteExecuteAccess,_0x2e1298);!_0x5d33f3[_0x91eabc(0x11f)](isTrue,_0x5610be)&&logger[_0x91eabc(0x109)](_0x91eabc(0x18e)+_0x2e1298);}return _0x2e1298;}catch(_0x10a1be){logger[_0x91eabc(0x193)](_0x91eabc(0x195)+util[_0x91eabc(0x188)](_0x10a1be));}}return null;}static[a60_0x219e1b(0x132)](_0x4843dd){const _0x525a2e=a60_0x219e1b,_0x1fdb59={};_0x1fdb59['OKLgA']=function(_0x19c6ce,_0x2536dc){return _0x19c6ce>_0x2536dc;};const _0x700214=_0x1fdb59;try{if(!fs[_0x525a2e(0x17f)](_0x4843dd)||!fs['statSync'](_0x4843dd)[_0x525a2e(0xe4)]())return'';const _0x35dfa5=fs[_0x525a2e(0xe2)](_0x4843dd)[_0x525a2e(0x145)](_0x110b5a=>path[_0x525a2e(0x17b)](_0x4843dd,_0x110b5a))['filter'](_0x18bb3b=>fs[_0x525a2e(0xf3)](_0x18bb3b)[_0x525a2e(0x15e)]()&&path[_0x525a2e(0x17a)](_0x18bb3b)[_0x525a2e(0x162)](_0x525a2e(0x17d)));if(_0x700214[_0x525a2e(0xfe)](_0x35dfa5[_0x525a2e(0x16c)],0x0)){const _0x196841=_0x35dfa5[_0x525a2e(0x145)](_0x41a648=>({'filePath':_0x41a648,'mtime':fs[_0x525a2e(0xf3)](_0x41a648)[_0x525a2e(0x108)]}))[_0x525a2e(0xeb)]((_0x56c96f,_0xf20624)=>{const _0x584bd0=_0x525a2e;if(!_0x56c96f||!_0x56c96f[_0x584bd0(0x108)])return _0xf20624;if(_0x700214[_0x584bd0(0xfe)](_0xf20624['mtime'],_0x56c96f['mtime']))return _0xf20624;return _0x56c96f;},{});return _0x196841?_0x196841[_0x525a2e(0x161)]:'';}return'';}catch(_0x10ef6d){return logger['error']('Error\x20while\x20reading\x20CLI\x20path:\x20'+util[_0x525a2e(0x188)](_0x10ef6d)),'';}}static [a60_0x219e1b(0xf9)]=async(_0x45e8d,_0x4fbb89)=>{const _0x22858a=a60_0x219e1b,_0x343761={'RJdvA':function(_0x5fd4bb,_0x4e5ec1,_0x4a5ea7,_0x23b739,_0x12e236,_0x123e96){return _0x5fd4bb(_0x4e5ec1,_0x4a5ea7,_0x23b739,_0x12e236,_0x123e96);},'ieWBl':_0x22858a(0x146)},_0x62f1af={};_0x62f1af['qs']=_0x45e8d;const _0x16bf95=await _0x343761[_0x22858a(0xff)](nodeRequest,_0x343761[_0x22858a(0x156)],UPDATED_CLI_ENDPOINT,_0x62f1af,_0x4fbb89,BROWSERSTACK_API_URL);return logger[_0x22858a(0xfb)]('response\x20'+JSON['stringify'](_0x16bf95)),_0x16bf95;};static['runShellCommand'](_0x3269e9,_0x3ed8ea=''){const _0x41ed44=a60_0x219e1b,_0x230ef9={'pahsH':function(_0x3bed53,_0x3c5141){return _0x3bed53(_0x3c5141);},'ZImvq':_0x41ed44(0x180),'COtex':function(_0x213cb5,_0x3e2d50){return _0x213cb5(_0x3e2d50);},'BDBGr':function(_0x5ae79e,_0x150278){return _0x5ae79e(_0x150278);},'IwziN':function(_0x21acfd,_0x163ba0,_0x3ac8ed,_0x58670b){return _0x21acfd(_0x163ba0,_0x3ac8ed,_0x58670b);},'OvZpg':_0x41ed44(0x193)};return new Promise((_0x2ec86a,_0x186e30)=>{const _0x109bf4=_0x41ed44,_0x5a3682={'PmJCR':function(_0x161bb1,_0x7cc9ec){return _0x230ef9['COtex'](_0x161bb1,_0x7cc9ec);},'PwRMX':_0x230ef9[_0x109bf4(0x131)],'tQpeP':function(_0x28b3ac,_0xe60283){const _0x58634=_0x109bf4;return _0x230ef9[_0x58634(0x11a)](_0x28b3ac,_0xe60283);}},_0x5b9c01={};_0x5b9c01[_0x109bf4(0x106)]=_0x3ed8ea,_0x5b9c01[_0x109bf4(0x168)]=0x1388;const _0x585b29=_0x230ef9[_0x109bf4(0x174)](exec,_0x3269e9,_0x5b9c01,(_0x3e2ee0,_0x4fd022,_0x5c4518)=>{const _0x4efb12=_0x109bf4;_0x3e2ee0?_0x5a3682[_0x4efb12(0x110)](_0x2ec86a,_0x5c4518['trim']()||_0x5a3682[_0x4efb12(0x15d)]):_0x5a3682[_0x4efb12(0x191)](_0x2ec86a,_0x4fd022[_0x4efb12(0xef)]());});_0x585b29['on'](_0x230ef9[_0x109bf4(0x177)],()=>{const _0x43f7da=_0x109bf4;_0x230ef9['pahsH'](_0x2ec86a,_0x230ef9[_0x43f7da(0x131)]);});});}static [a60_0x219e1b(0x10c)]=async(_0xbbbdf6,_0x3fcd8c)=>{const _0x33406f=a60_0x219e1b,_0x3e1160={'vMVCD':_0x33406f(0x157),'yhqoZ':function(_0x3354b4,_0x1c062f){return _0x3354b4(_0x1c062f);},'vORJX':_0x33406f(0x193),'iFmfx':_0x33406f(0x130),'UYfFU':function(_0x104e39,_0xac54e3){return _0x104e39(_0xac54e3);},'aVVsZ':'downloaded_file.zip'};PerformanceTester[_0x33406f(0x183)](PerformanceEvents['SDK_CLI_DOWNLOAD']),logger[_0x33406f(0xfb)]('Downloading\x20SDK\x20binary\x20from:\x20'+_0xbbbdf6);try{const _0x20ac77=url[_0x33406f(0x18d)](_0xbbbdf6),_0x4b0dee=path['join'](_0x3fcd8c,_0x3e1160[_0x33406f(0x15b)]),_0x11ec55=fs[_0x33406f(0x187)](_0x4b0dee);return new Promise((_0x3e62e8,_0x17e729)=>{const _0xa3edda=_0x33406f,_0x3b4dcd={'epSDR':_0x3e1160['iFmfx'],'hMjPx':function(_0x498de3,_0x499d8e){const _0xc47027=a60_0x39cc;return _0x3e1160[_0xc47027(0x11d)](_0x498de3,_0x499d8e);}};https[_0xa3edda(0xf5)](_0x20ac77,function(_0x13097f){const _0x1b19bf=_0xa3edda,_0x1eda83={'DupcB':_0x3e1160[_0x1b19bf(0xe7)],'RERrl':function(_0x3d8181,_0xdda3b7){const _0x46cfad=_0x1b19bf;return _0x3e1160[_0x46cfad(0x10f)](_0x3d8181,_0xdda3b7);}},_0x2923d2=null;_0x13097f[_0x1b19bf(0x10d)](_0x11ec55),_0x13097f['on'](_0x3e1160[_0x1b19bf(0x16b)],function(_0x32f49f){const _0x6a7e56=_0x1b19bf;logger[_0x6a7e56(0x193)](util[_0x6a7e56(0x188)](_0x3b4dcd[_0x6a7e56(0x16d)],_0x32f49f)),PerformanceTester[_0x6a7e56(0x14b)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x6a7e56(0x188)](_0x32f49f)),_0x3b4dcd['hMjPx'](_0x17e729,_0x32f49f);}),_0x11ec55['on'](_0x3e1160[_0x1b19bf(0x16b)],function(_0x742a3){const _0x303823=_0x1b19bf;logger[_0x303823(0x193)](util[_0x303823(0x188)](_0x1eda83['DupcB'],_0x742a3)),PerformanceTester[_0x303823(0x14b)](PerformanceEvents[_0x303823(0x122)],![],util[_0x303823(0x188)](_0x742a3)),_0x1eda83[_0x303823(0x129)](_0x17e729,_0x742a3);}),CLIUtils['downloadFileStream'](_0x11ec55,_0x2923d2,_0x4b0dee,_0x3fcd8c,_0x3e62e8,_0x17e729),PerformanceTester[_0x1b19bf(0x14b)](PerformanceEvents[_0x1b19bf(0x122)]);})['on'](_0x3e1160[_0xa3edda(0x16b)],function(_0x4601b0){const _0x26bc42=_0xa3edda;logger[_0x26bc42(0x193)](_0x26bc42(0xde)+util[_0x26bc42(0x188)](_0x4601b0)),PerformanceTester[_0x26bc42(0x14b)](PerformanceEvents[_0x26bc42(0x122)],![],util[_0x26bc42(0x188)](_0x4601b0)),_0x3e1160[_0x26bc42(0x10f)](_0x17e729,_0x4601b0);});});}catch(_0x3448cd){PerformanceTester[_0x33406f(0x14b)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x33406f(0x188)](_0x3448cd)),logger[_0x33406f(0xfb)](_0x33406f(0x111)+util[_0x33406f(0x188)](_0x3448cd));}};static[a60_0x219e1b(0x189)](_0x1ed16e,_0x329a49,_0x5d2892,_0x49af3e,_0x31ada1,_0x4518f9){const _0x26b1dd=a60_0x219e1b,_0x53e756={'WYcHN':function(_0x3c4ff0,_0x38e8ef){return _0x3c4ff0===_0x38e8ef;},'ehhxz':_0x26b1dd(0xf8),'wfOjb':function(_0x170f64,_0x296d18){return _0x170f64(_0x296d18);},'QbVzH':'end','Bhmmw':function(_0x5abf27,_0x22560c){return _0x5abf27(_0x22560c);},'ENtsh':function(_0x5ed10f,_0x84cf94){return _0x5ed10f(_0x84cf94);},'hrocr':_0x26b1dd(0x128),'BRfDa':'error','CweSG':_0x26b1dd(0x142)};_0x1ed16e['on'](_0x53e756[_0x26b1dd(0x13c)],function(){const _0x21d266=_0x26b1dd,_0x240056={'koZEy':function(_0x23caf1,_0x327ecf){const _0x5db65d=a60_0x39cc;return _0x53e756[_0x5db65d(0x17c)](_0x23caf1,_0x327ecf);},'azwzO':_0x53e756[_0x21d266(0x172)],'shTnV':function(_0x9458ba,_0x1ada0b){const _0x2cc7a0=_0x21d266;return _0x53e756[_0x2cc7a0(0x101)](_0x9458ba,_0x1ada0b);},'zANfH':_0x53e756[_0x21d266(0x181)],'NWStJ':function(_0x56cf0b,_0x1b8ce4){return _0x53e756['Bhmmw'](_0x56cf0b,_0x1b8ce4);},'qdRME':function(_0x5e52aa,_0x56077f){const _0x40d3cf=_0x21d266;return _0x53e756[_0x40d3cf(0xfd)](_0x5e52aa,_0x56077f);},'WzTVE':_0x53e756[_0x21d266(0x173)],'lskVQ':_0x53e756[_0x21d266(0x15f)]},_0x24f70a={};_0x24f70a[_0x21d266(0x154)]=!![],yauzl[_0x21d266(0x16f)](_0x5d2892,_0x24f70a,function(_0xa18aa9,_0x511375){const _0x4b4a42=_0x21d266,_0x37d47c={'OPFmz':function(_0x2d18e6,_0x1b511b){const _0x4064d1=a60_0x39cc;return _0x240056[_0x4064d1(0x155)](_0x2d18e6,_0x1b511b);},'KJjZc':_0x240056[_0x4b4a42(0x137)],'EAOjO':function(_0x229a5b,_0x2417d4){const _0x1a18b5=_0x4b4a42;return _0x240056[_0x1a18b5(0x155)](_0x229a5b,_0x2417d4);},'QIkbT':function(_0x11e02e,_0x3c50ff){return _0x240056['NWStJ'](_0x11e02e,_0x3c50ff);}};_0xa18aa9&&_0x240056[_0x4b4a42(0x190)](_0x4518f9,_0xa18aa9),_0x511375[_0x4b4a42(0x127)](),_0x511375['on'](_0x240056[_0x4b4a42(0x104)],_0x32a42c=>{const _0xee229a=_0x4b4a42;!_0x329a49&&(_0x329a49=_0x32a42c[_0xee229a(0x126)]);if(/\/$/[_0xee229a(0x176)](_0x32a42c[_0xee229a(0x126)]))_0x511375[_0xee229a(0x127)]();else{const _0x583048=fs[_0xee229a(0x187)](path['join'](_0x49af3e,_0x32a42c['fileName']));_0x511375['openReadStream'](_0x32a42c,function(_0x4a5ff8,_0x27a3fa){const _0x28fea2=_0xee229a;_0x4a5ff8&&_0x37d47c['OPFmz'](_0x4518f9,_0xa18aa9),_0x27a3fa['on'](_0x37d47c[_0x28fea2(0x178)],function(){const _0x383e44=_0x28fea2;_0x583048[_0x383e44(0x142)](),_0x511375[_0x383e44(0x127)]();}),_0x27a3fa[_0x28fea2(0x10d)](_0x583048);}),_0x240056[_0xee229a(0x10e)](_0x32a42c[_0xee229a(0x126)],_0x329a49)&&_0x511375['close']();}}),_0x511375['on'](_0x240056['lskVQ'],_0x1b44bd=>{const _0xece32e=_0x4b4a42;_0x37d47c[_0xece32e(0x14f)](_0x4518f9,_0x1b44bd);}),_0x511375[_0x4b4a42(0x120)](_0x240056[_0x4b4a42(0x137)],()=>{const _0x53e20b=_0x4b4a42;fs[_0x53e20b(0xf0)](_0x5d2892,_0x306b67=>{const _0x3ae228=_0x53e20b;_0x306b67&&logger[_0x3ae228(0x109)]('Failed\x20to\x20delete\x20zip\x20file:\x20'+_0x5d2892);}),fs['chmod'](_0x49af3e+'/'+_0x329a49,_0x240056[_0x53e20b(0x139)],function(_0x55ecf4){const _0x341bf5=_0x53e20b;_0x55ecf4&&_0x37d47c['QIkbT'](_0x4518f9,_0x55ecf4),_0x37d47c[_0x341bf5(0x105)](_0x31ada1,_0x49af3e+'/'+_0x329a49);}),_0x511375[_0x53e20b(0x142)]();});});});}static[a60_0x219e1b(0x12c)](){const _0x2ed8e9=a60_0x219e1b;if(process['env'][_0x2ed8e9(0x144)])return JSON[_0x2ed8e9(0x18d)](process['env'][_0x2ed8e9(0x144)]);return this[_0x2ed8e9(0x13d)];}static['getAutomationFrameworkDetail'](){const _0x1f2db6=a60_0x219e1b;if(process[_0x1f2db6(0x163)][_0x1f2db6(0xe9)])return JSON[_0x1f2db6(0x18d)](process[_0x1f2db6(0x163)][_0x1f2db6(0xe9)]);return this[_0x1f2db6(0x148)];}static['setFrameworkDetail'](_0x2c78a9,_0x5e1b69){const _0x1a1d53=a60_0x219e1b,_0x1538fa={'ewfPm':_0x1a1d53(0x186),'qheCA':function(_0x24ae24,_0xe035c5){return _0x24ae24||_0xe035c5;},'wSDLm':function(_0x4bfd64,_0xfa14bd){return _0x4bfd64(_0xfa14bd);}},_0x1a104b=_0x1538fa[_0x1a1d53(0x12d)]['split']('|');let _0x4f6cb2=0x0;while(!![]){switch(_0x1a104b[_0x4f6cb2++]){case'0':_0x1538fa[_0x1a1d53(0xe6)](!_0x2c78a9,!_0x5e1b69)&&logger[_0x1a1d53(0xfb)]('Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework='+_0x2c78a9+',\x20automationFramework='+_0x5e1b69);continue;case'1':process['env'][_0x1a1d53(0x144)]=JSON[_0x1a1d53(0x115)](this[_0x1a1d53(0x13d)]);continue;case'2':this['testFrameworkDetail']={'name':_0x2c78a9,'version':{[_0x2c78a9]:_0x1538fa[_0x1a1d53(0x13a)](getFrameworkVersion,_0x2c78a9)}};continue;case'3':this[_0x1a1d53(0x148)]={'name':_0x5e1b69,'version':_0x1538fa[_0x1a1d53(0x13a)](getFrameworkVersion,_0x5e1b69)};continue;case'4':process[_0x1a1d53(0x163)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']=JSON[_0x1a1d53(0x115)](this[_0x1a1d53(0x148)]);continue;}break;}}static[a60_0x219e1b(0x12f)](_0xfa66d6,_0x14b5ae){return _0xfa66d6+':'+_0x14b5ae;}static[a60_0x219e1b(0x11b)](){const _0xbd4bfa=a60_0x219e1b;return process[_0xbd4bfa(0x102)]+':'+threadId;}static[a60_0x219e1b(0x141)](_0x15856f){const _0x4ce1a7=a60_0x219e1b;if(_0x15856f[_0x4ce1a7(0x125)]&&_0x15856f[_0x4ce1a7(0x125)]['skipSessionName'])return!![];return![];}static[a60_0x219e1b(0x14c)](_0x1dff48){const _0x7add7c=a60_0x219e1b;if(_0x1dff48[_0x7add7c(0x125)]&&_0x1dff48[_0x7add7c(0x125)][_0x7add7c(0x18c)])return!![];return![];}static['matchHookRegex'](_0x41983d){const _0x93ebd4=a60_0x219e1b,_0x5d5777=new RegExp(TestFrameworkConstants['HOOK_REGEX']);return _0x5d5777[_0x93ebd4(0x176)](_0x41983d);}}module[a60_0x219e1b(0x17e)]=CLIUtils;