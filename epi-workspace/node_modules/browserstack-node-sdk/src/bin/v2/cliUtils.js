const a64_0x59aa7d=a64_0x4907;(function(_0x2e5b1e,_0x4c1032){const _0xb350ae=a64_0x4907,_0x2c11a1=_0x2e5b1e();while(!![]){try{const _0x3db9b0=-parseInt(_0xb350ae(0x16b))/0x1+parseInt(_0xb350ae(0x199))/0x2*(-parseInt(_0xb350ae(0x10c))/0x3)+-parseInt(_0xb350ae(0x114))/0x4+parseInt(_0xb350ae(0x186))/0x5+parseInt(_0xb350ae(0x1b1))/0x6*(-parseInt(_0xb350ae(0x102))/0x7)+parseInt(_0xb350ae(0x16d))/0x8*(-parseInt(_0xb350ae(0x16c))/0x9)+parseInt(_0xb350ae(0x103))/0xa;if(_0x3db9b0===_0x4c1032)break;else _0x2c11a1['push'](_0x2c11a1['shift']());}catch(_0x1f6cc6){_0x2c11a1['push'](_0x2c11a1['shift']());}}}(a64_0xa142,0x92ea2));function a64_0x4907(_0x1ca7d7,_0x2e1a5b){const _0xa14271=a64_0xa142();return a64_0x4907=function(_0x49078a,_0x41339f){_0x49078a=_0x49078a-0xf1;let _0x16b592=_0xa14271[_0x49078a];return _0x16b592;},a64_0x4907(_0x1ca7d7,_0x2e1a5b);}const fs=require('fs'),os=require('os'),url=require(a64_0x59aa7d(0x17c)),path=require(a64_0x59aa7d(0x160)),{exec}=require(a64_0x59aa7d(0x18d)),{https}=require(a64_0x59aa7d(0x169)),yauzl=require(a64_0x59aa7d(0x19c)),util=require(a64_0x59aa7d(0x18e)),{getFrameworkVersion}=require('../../helpers/test-observability/utils.js'),{threadId}=require(a64_0x59aa7d(0x109)),PerformanceTester=require(a64_0x59aa7d(0x15b)),{EVENTS:PerformanceEvents}=require('../../helpers/performance/constants'),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require(a64_0x59aa7d(0x1a3)),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a64_0x59aa7d(0x19f)),{UPDATED_CLI_ENDPOINT,BINARY_BUSY_ERROR_CODES}=require('../utils/constants'),{createClassLogger}=require(a64_0x59aa7d(0x152)),TestFrameworkInstance=require(a64_0x59aa7d(0x1a9)),HookState=require(a64_0x59aa7d(0x180)),TestFrameworkState=require('./state/testFrameworkState.js'),AutomationFrameworkState=require('./state/automationFrameworkState.js'),TestFrameworkConstants=require(a64_0x59aa7d(0x116)),logger=createClassLogger(a64_0x59aa7d(0x175)),{getBStackAPIUrl}=require(a64_0x59aa7d(0x12a));class CLIUtils{[a64_0x59aa7d(0x18a)]={};[a64_0x59aa7d(0x188)]={};static[a64_0x59aa7d(0xf6)](){const _0x5d8746=a64_0x59aa7d,_0x2a328f={};_0x2a328f['FDovH']=function(_0x5baa1d,_0x301d60){return _0x5baa1d===_0x301d60;},_0x2a328f[_0x5d8746(0x17d)]='development';const _0x2fc6b6=_0x2a328f;return _0x2fc6b6[_0x5d8746(0x15f)](process['env'][_0x5d8746(0x17f)],_0x2fc6b6['jmJGa']);}static[a64_0x59aa7d(0x155)](){const _0x52d8c9=a64_0x59aa7d,_0x1bb24d={};return _0x1bb24d['id']=process[_0x52d8c9(0x181)][_0x52d8c9(0x17f)],_0x1bb24d[_0x52d8c9(0x133)]=_0x52d8c9(0x197)+process['env']['BROWSERSTACK_CLI_ENV']+'.sock',_0x1bb24d;}static[a64_0x59aa7d(0x118)](){const _0xb00b5e=a64_0x59aa7d,_0x361d67={'AKoCU':function(_0x47b64b,_0x3d04da){return _0x47b64b(_0x3d04da);},'XMdVP':_0xb00b5e(0x1b4)};return _0x361d67[_0xb00b5e(0x124)](require,_0x361d67['XMdVP'])['version'];}static[a64_0x59aa7d(0x11f)](){const _0x1bcb38=a64_0x59aa7d,_0x1c680e={};_0x1c680e[_0x1bcb38(0x10d)]=_0x1bcb38(0x106);const _0x345dff=_0x1c680e;return _0x345dff[_0x1bcb38(0x10d)];}static async['setupCliPath'](_0xcfec07){const _0x5ed0fc=a64_0x59aa7d,_0x27e49f={'UdxFG':_0x5ed0fc(0x13d),'mvpAQ':function(_0xbd207b,_0x15699f){return _0xbd207b(_0x15699f);},'YIAWW':function(_0x1a9131,_0x2985ab){return _0x1a9131(_0x2985ab);},'DNUxX':'No\x20writable\x20directory\x20available\x20for\x20the\x20CLI'};logger[_0x5ed0fc(0x198)](_0x27e49f[_0x5ed0fc(0x117)]);const _0x5b56f4=process['env']['SDK_CLI_BIN_PATH'];if(!_0x27e49f[_0x5ed0fc(0x183)](isNullOrEmpty,_0x5b56f4))return logger[_0x5ed0fc(0x198)]('Development\x20Cli\x20Path:\x20'+_0x5b56f4),_0x5b56f4;try{const _0x1c5bbe=this['getCliDir']();if(_0x27e49f[_0x5ed0fc(0x185)](isNullOrEmpty,_0x1c5bbe))throw new Error(_0x27e49f[_0x5ed0fc(0x17b)]);const _0x49b70f=this[_0x5ed0fc(0x121)](_0x1c5bbe),_0x369307=await this[_0x5ed0fc(0x16e)](_0x49b70f,_0x1c5bbe,_0xcfec07);return logger[_0x5ed0fc(0x198)]('Resolved\x20binary\x20path:\x20'+_0x369307),_0x369307;}catch(_0x79b6e4){logger[_0x5ed0fc(0x198)]('Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20'+util[_0x5ed0fc(0x113)](_0x79b6e4));}return null;}static async['checkAndUpdateCli'](_0x5478a1,_0xf3a917,_0x4eda4d){const _0x50ba57=a64_0x59aa7d,_0x3cf49e={'eZjmy':function(_0xb4e91f){return _0xb4e91f();},'vuWic':function(_0x2fc343,_0x1430cf){return _0x2fc343(_0x1430cf);},'PqrIH':function(_0x85b8fc,_0x20ec71,_0x194f90){return _0x85b8fc(_0x20ec71,_0x194f90);},'ZHSDi':_0x50ba57(0x139),'cRjxT':_0x50ba57(0x17c),'UGeBG':function(_0x34ce59,_0x752c8c,_0x16ab07){return _0x34ce59(_0x752c8c,_0x16ab07);}};PerformanceTester[_0x50ba57(0x151)](PerformanceEvents[_0x50ba57(0x166)]),logger['info'](_0x50ba57(0x15a)+_0x5478a1);const _0x22badf=_0x3cf49e[_0x50ba57(0x174)](getHostInfo),_0x9abf31={'sdk_version':CLIUtils[_0x50ba57(0x118)](),'os':_0x22badf[_0x50ba57(0x1b7)],'os_arch':_0x22badf[_0x50ba57(0x179)],'cli_version':'0','sdk_language':this[_0x50ba57(0x11f)]()};!_0x3cf49e[_0x50ba57(0x19b)](isNullOrEmpty,_0x5478a1)&&(_0x9abf31[_0x50ba57(0x146)]=await this[_0x50ba57(0x13c)](_0x5478a1+_0x50ba57(0x1ae)));const _0x2e98f6=await this[_0x50ba57(0x1a8)](_0x9abf31,_0x4eda4d);process['env'][_0x50ba57(0x12e)]&&(logger[_0x50ba57(0xfd)](_0x50ba57(0x187)+process[_0x50ba57(0x181)][_0x50ba57(0x12e)]),_0x2e98f6[_0x50ba57(0x139)][_0x50ba57(0x17c)]=process[_0x50ba57(0x181)][_0x50ba57(0x12e)]);if(_0x3cf49e['PqrIH'](nestedKeyValue,_0x2e98f6,[_0x3cf49e['ZHSDi'],_0x3cf49e['cRjxT']])){logger['debug'](_0x50ba57(0x11d)+_0x9abf31['cli_version']);if(!_0x3cf49e['vuWic'](isNullOrEmpty,_0x5478a1)&&this[_0x50ba57(0x161)](_0x5478a1))return logger[_0x50ba57(0x150)](_0x50ba57(0xff)+_0x5478a1),PerformanceTester['end'](PerformanceEvents[_0x50ba57(0x166)]),_0x5478a1;const _0x324138=await this[_0x50ba57(0x129)](_0x3cf49e[_0x50ba57(0x171)](nestedKeyValue,_0x2e98f6,[_0x3cf49e[_0x50ba57(0x192)],_0x3cf49e[_0x50ba57(0x1af)]]),_0xf3a917);return PerformanceTester[_0x50ba57(0x159)](PerformanceEvents[_0x50ba57(0x166)]),_0x324138;}return PerformanceTester[_0x50ba57(0x159)](PerformanceEvents[_0x50ba57(0x166)]),_0x5478a1;}static[a64_0x59aa7d(0x11a)](){const _0x12fa8e=a64_0x59aa7d,_0x4e7d15={'tCmzA':function(_0x55c4f4,_0x507d82){return _0x55c4f4(_0x507d82);},'hpVsp':'No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','kKxfu':'cli','jNbpV':function(_0x547d23,_0x7fb451){return _0x547d23(_0x7fb451);}},_0x3caf35=this[_0x12fa8e(0xf9)]();try{if(_0x4e7d15[_0x12fa8e(0x13a)](isNullOrEmpty,_0x3caf35))throw new Error(_0x4e7d15[_0x12fa8e(0x101)]);const _0x13c8c8=path[_0x12fa8e(0x127)](_0x3caf35,_0x4e7d15[_0x12fa8e(0x108)]);return!fs[_0x12fa8e(0x107)](_0x13c8c8)&&_0x4e7d15[_0x12fa8e(0x144)](createDir,_0x13c8c8),_0x13c8c8;}catch(_0x5e8c40){logger[_0x12fa8e(0x198)](_0x12fa8e(0x123)+util[_0x12fa8e(0x113)](_0x5e8c40));}}static[a64_0x59aa7d(0xf9)](){const _0x4c0bb4=a64_0x59aa7d,_0x14ecd1={'WvMkz':_0x4c0bb4(0x11c),'FUEDR':function(_0x6c059e,_0x5814bb){return _0x6c059e(_0x5814bb);},'XhdUK':function(_0x3905aa,_0x44b48d){return _0x3905aa(_0x44b48d);}},_0x47d639=[process[_0x4c0bb4(0x181)][_0x4c0bb4(0x184)],path[_0x4c0bb4(0x127)](os[_0x4c0bb4(0x125)](),_0x14ecd1['WvMkz']),path[_0x4c0bb4(0x127)](os['tmpdir'](),_0x14ecd1[_0x4c0bb4(0x1b6)])];for(const _0x58a121 of _0x47d639){if(_0x14ecd1[_0x4c0bb4(0x130)](isNullOrEmpty,_0x58a121))continue;try{if(fs[_0x4c0bb4(0x107)](_0x58a121)){logger[_0x4c0bb4(0x198)](_0x4c0bb4(0x14a)+_0x58a121+_0x4c0bb4(0x149));if(!_0x14ecd1['FUEDR'](isModifiable,_0x58a121)){logger[_0x4c0bb4(0x198)](_0x4c0bb4(0xf3)+_0x58a121);const _0x1faf53=_0x14ecd1[_0x4c0bb4(0x130)](setReadWriteExecuteAccess,_0x58a121);if(!_0x14ecd1['FUEDR'](isTrue,_0x1faf53)){logger[_0x4c0bb4(0x150)](_0x4c0bb4(0x12c)+_0x58a121);continue;}}}else{logger[_0x4c0bb4(0x198)](_0x4c0bb4(0x16a)+_0x58a121),_0x14ecd1[_0x4c0bb4(0x130)](createDir,_0x58a121),logger[_0x4c0bb4(0x198)](_0x4c0bb4(0xf3)+_0x58a121);const _0x2e18e0=_0x14ecd1[_0x4c0bb4(0x130)](setReadWriteExecuteAccess,_0x58a121);!_0x14ecd1['XhdUK'](isTrue,_0x2e18e0)&&logger['warn'](_0x4c0bb4(0x12c)+_0x58a121);}return _0x58a121;}catch(_0x43a254){logger['error'](_0x4c0bb4(0x137)+util[_0x4c0bb4(0x113)](_0x43a254));}}return null;}static['getExistingCliPath'](_0xebdc68){const _0x49b5f5=a64_0x59aa7d,_0x114398={};_0x114398['RrAXK']=function(_0x5aa603,_0x57d164){return _0x5aa603>_0x57d164;},_0x114398[_0x49b5f5(0xfa)]=function(_0x21d1c8,_0x45a1d9){return _0x21d1c8>_0x45a1d9;};const _0x411e6e=_0x114398;try{if(!fs[_0x49b5f5(0x107)](_0xebdc68)||!fs[_0x49b5f5(0x10a)](_0xebdc68)['isDirectory']())return'';const _0x485c10=fs['readdirSync'](_0xebdc68)[_0x49b5f5(0x11e)](_0x33af53=>path[_0x49b5f5(0x127)](_0xebdc68,_0x33af53))['filter'](_0x18efed=>fs[_0x49b5f5(0x10a)](_0x18efed)[_0x49b5f5(0x119)]()&&path[_0x49b5f5(0x189)](_0x18efed)['startsWith'](_0x49b5f5(0x153)));if(_0x411e6e['ebyJT'](_0x485c10['length'],0x0)){const _0x11cbaa=_0x485c10[_0x49b5f5(0x11e)](_0x39840e=>({'filePath':_0x39840e,'mtime':fs[_0x49b5f5(0x10a)](_0x39840e)['mtime']}))[_0x49b5f5(0x115)]((_0x1d20ea,_0xafaa87)=>{const _0x23842f=_0x49b5f5;if(!_0x1d20ea||!_0x1d20ea[_0x23842f(0x12d)])return _0xafaa87;if(_0x411e6e[_0x23842f(0x134)](_0xafaa87[_0x23842f(0x12d)],_0x1d20ea[_0x23842f(0x12d)]))return _0xafaa87;return _0x1d20ea;},{});return _0x11cbaa?_0x11cbaa[_0x49b5f5(0x191)]:'';}return'';}catch(_0x1a23c8){return logger[_0x49b5f5(0x1aa)](_0x49b5f5(0x156)+util[_0x49b5f5(0x113)](_0x1a23c8)),'';}}static [a64_0x59aa7d(0x1a8)]=async(_0x31d3e2,_0xab46f5)=>{const _0x590910=a64_0x59aa7d,_0x22dc26={'XvUde':function(_0x483f6f,_0xcb8154,_0xe6ec0f,_0x3e9794,_0x41ba36){return _0x483f6f(_0xcb8154,_0xe6ec0f,_0x3e9794,_0x41ba36);},'iqLoH':_0x590910(0x1a6)},_0x71bbbc={};_0x71bbbc['qs']=_0x31d3e2;const _0xc297d7=await _0x22dc26[_0x590910(0x1ad)](nodeRequest,_0x22dc26[_0x590910(0x15d)],UPDATED_CLI_ENDPOINT,_0x71bbbc,_0xab46f5);return logger[_0x590910(0x198)](_0x590910(0x196)+JSON[_0x590910(0x122)](_0xc297d7)),_0xc297d7;};static[a64_0x59aa7d(0x161)](_0x486ad1){const _0x1aa9d7=a64_0x59aa7d;try{const _0x2b636f=fs['openSync'](_0x486ad1,'r+');return fs['closeSync'](_0x2b636f),![];}catch(_0x488e1a){if(BINARY_BUSY_ERROR_CODES[_0x1aa9d7(0x11b)](_0x488e1a[_0x1aa9d7(0x157)]))return logger[_0x1aa9d7(0x198)](_0x1aa9d7(0x12b)+_0x486ad1),!![];return logger['debug']('Error\x20checking\x20if\x20binary\x20is\x20busy:\x20'+_0x488e1a[_0x1aa9d7(0x104)]),![];}}static[a64_0x59aa7d(0x13c)](_0x3272cd,_0x284930=''){const _0x96d9cc=a64_0x59aa7d,_0x5c1caa={'FljOH':_0x96d9cc(0x164),'zjLCq':function(_0x39fe9e,_0x2366c0){return _0x39fe9e(_0x2366c0);},'xyoZs':_0x96d9cc(0x13b),'lIUFY':function(_0x47c441,_0xba0200){return _0x47c441(_0xba0200);},'keIMw':function(_0x472c27,_0xc3a74d,_0x7cc601,_0x5e685e){return _0x472c27(_0xc3a74d,_0x7cc601,_0x5e685e);},'hfVvw':_0x96d9cc(0x1aa)};return new Promise((_0x13e9bf,_0x55b932)=>{const _0x43bba7=_0x96d9cc,_0x4fff53={};_0x4fff53[_0x43bba7(0x105)]=_0x284930,_0x4fff53[_0x43bba7(0xf8)]=0x1388;const _0x36cd4f=_0x5c1caa[_0x43bba7(0x17a)](exec,_0x3272cd,_0x4fff53,(_0x16fa24,_0x59e995,_0x2cf4d5)=>{const _0x1d8f4b=_0x43bba7;if(_0x16fa24){if(_0x3272cd[_0x1d8f4b(0x11b)](_0x5c1caa[_0x1d8f4b(0x194)])&&(_0x59e995[_0x1d8f4b(0x193)]()||_0x2cf4d5[_0x1d8f4b(0x193)]())){const _0x24859b=_0x59e995['trim']()||_0x2cf4d5[_0x1d8f4b(0x193)]();logger[_0x1d8f4b(0x198)]('CLI\x20version\x20found\x20despite\x20error:\x20\x22'+_0x24859b+'\x22'),_0x5c1caa[_0x1d8f4b(0x10b)](_0x13e9bf,_0x24859b);}else _0x5c1caa[_0x1d8f4b(0x10b)](_0x13e9bf,_0x2cf4d5['trim']()||_0x5c1caa[_0x1d8f4b(0x170)]);}else logger[_0x1d8f4b(0x198)](_0x1d8f4b(0x18c)+_0x59e995[_0x1d8f4b(0x193)]()+'\x22'),_0x5c1caa['lIUFY'](_0x13e9bf,_0x59e995['trim']());});_0x36cd4f['on'](_0x5c1caa[_0x43bba7(0xf2)],()=>{const _0x39f9b1=_0x43bba7;_0x5c1caa[_0x39f9b1(0x10b)](_0x13e9bf,_0x5c1caa[_0x39f9b1(0x170)]);});});}static [a64_0x59aa7d(0x129)]=async(_0xb39bb0,_0x40026e)=>{const _0x37fb94=a64_0x59aa7d,_0x2f4aa6={'EWIZj':function(_0x49c71a,_0x19fe21){return _0x49c71a(_0x19fe21);},'qpupp':_0x37fb94(0x14f),'NRotG':_0x37fb94(0x16f),'ylQJI':_0x37fb94(0x1aa),'DAQjG':'downloaded_file.zip'};PerformanceTester['start'](PerformanceEvents[_0x37fb94(0x143)]),logger[_0x37fb94(0x198)](_0x37fb94(0x128)+_0xb39bb0);try{const _0x3ba8c6=url[_0x37fb94(0x112)](_0xb39bb0),_0x293d2c=path[_0x37fb94(0x127)](_0x40026e,_0x2f4aa6[_0x37fb94(0x176)]),_0x22d549=fs['createWriteStream'](_0x293d2c);return new Promise((_0x1610e6,_0x3fa260)=>{const _0x563dc5=_0x37fb94,_0xca5c86={'eWttg':_0x2f4aa6[_0x563dc5(0x182)],'UlfFR':function(_0x3e7f9b,_0x504d4e){const _0x4cf76c=_0x563dc5;return _0x2f4aa6[_0x4cf76c(0x147)](_0x3e7f9b,_0x504d4e);},'azXYn':_0x2f4aa6[_0x563dc5(0x1b8)],'xCUCE':function(_0x51203d,_0x2a401a){const _0x2f65a3=_0x563dc5;return _0x2f4aa6[_0x2f65a3(0x147)](_0x51203d,_0x2a401a);},'kJjve':_0x2f4aa6['ylQJI']};https[_0x563dc5(0x1a4)](_0x3ba8c6,function(_0x3e699f){const _0x1df592=_0x563dc5,_0xbc0a34=null;_0x3e699f[_0x1df592(0x163)](_0x22d549),_0x3e699f['on'](_0xca5c86[_0x1df592(0xfb)],function(_0x185310){const _0x279cfc=_0x1df592;logger['error'](util[_0x279cfc(0x113)](_0xca5c86['eWttg'],_0x185310)),PerformanceTester[_0x279cfc(0x159)](PerformanceEvents[_0x279cfc(0x143)],![],util[_0x279cfc(0x113)](_0x185310)),_0xca5c86[_0x279cfc(0x1a5)](_0x3fa260,_0x185310);}),_0x22d549['on'](_0xca5c86[_0x1df592(0xfb)],function(_0x2e615c){const _0x11c66b=_0x1df592;logger[_0x11c66b(0x1aa)](util[_0x11c66b(0x113)](_0xca5c86[_0x11c66b(0x138)],_0x2e615c)),PerformanceTester[_0x11c66b(0x159)](PerformanceEvents[_0x11c66b(0x143)],![],util[_0x11c66b(0x113)](_0x2e615c)),_0xca5c86[_0x11c66b(0x1b5)](_0x3fa260,_0x2e615c);}),CLIUtils[_0x1df592(0x195)](_0x22d549,_0xbc0a34,_0x293d2c,_0x40026e,_0x1610e6,_0x3fa260),PerformanceTester[_0x1df592(0x159)](PerformanceEvents['SDK_CLI_DOWNLOAD']);})['on'](_0x2f4aa6['ylQJI'],function(_0x4296b2){const _0x5b5217=_0x563dc5;logger[_0x5b5217(0x1aa)]('Got\x20Error\x20in\x20SDK\x20binary\x20downloading\x20request\x20'+util[_0x5b5217(0x113)](_0x4296b2)),PerformanceTester[_0x5b5217(0x159)](PerformanceEvents[_0x5b5217(0x143)],![],util['format'](_0x4296b2)),_0x2f4aa6['EWIZj'](_0x3fa260,_0x4296b2);});});}catch(_0x4cfbbd){PerformanceTester[_0x37fb94(0x159)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x37fb94(0x113)](_0x4cfbbd)),logger['debug'](_0x37fb94(0x165)+util[_0x37fb94(0x113)](_0x4cfbbd));}};static['downloadFileStream'](_0x21098b,_0x20dbf3,_0x160417,_0x1c673e,_0x14140a,_0x3541d1){const _0x1b71a5=a64_0x59aa7d,_0x1d6fe2={'UiHLr':function(_0x5e2284,_0x52cf30){return _0x5e2284(_0x52cf30);},'wzctm':_0x1b71a5(0x159),'gtUpX':_0x1b71a5(0x1a0),'kCpma':_0x1b71a5(0x1aa),'fDsDp':function(_0x1b9a2c,_0xbe084f){return _0x1b9a2c(_0xbe084f);},'SLZZi':function(_0x49fcd2,_0x28f537){return _0x49fcd2===_0x28f537;},'AdaqN':function(_0x8b96ef,_0x2ece07){return _0x8b96ef(_0x2ece07);},'bxqWh':_0x1b71a5(0x1ab),'SYEvf':_0x1b71a5(0x15e)};_0x21098b['on'](_0x1d6fe2[_0x1b71a5(0x19e)],function(){const _0x50bed8=_0x1b71a5,_0x2a3922={'YHcsg':function(_0x4198df,_0x581a9f){return _0x1d6fe2['fDsDp'](_0x4198df,_0x581a9f);},'MUDTW':_0x1d6fe2[_0x50bed8(0x1ac)],'sMnbt':function(_0x2cc1bf,_0x3d7080){return _0x1d6fe2['SLZZi'](_0x2cc1bf,_0x3d7080);},'YerNH':function(_0x2d2658,_0x3aace9){const _0x20a2cd=_0x50bed8;return _0x1d6fe2[_0x20a2cd(0x154)](_0x2d2658,_0x3aace9);},'xLtat':function(_0x44b6a7,_0xf1056a){const _0x285c2e=_0x50bed8;return _0x1d6fe2[_0x285c2e(0x1b0)](_0x44b6a7,_0xf1056a);},'NFGYG':_0x1d6fe2[_0x50bed8(0x111)]},_0x404df8={};_0x404df8[_0x50bed8(0x173)]=!![],yauzl[_0x50bed8(0xfc)](_0x160417,_0x404df8,function(_0x410644,_0x16d947){const _0x4876c6=_0x50bed8,_0x4398d2={'jzqvz':function(_0x54bb1a,_0x6259ee){const _0x3e5caf=a64_0x4907;return _0x1d6fe2[_0x3e5caf(0x1b0)](_0x54bb1a,_0x6259ee);},'wOESy':_0x1d6fe2[_0x4876c6(0x140)]};_0x410644&&_0x1d6fe2[_0x4876c6(0x1b0)](_0x3541d1,_0x410644),_0x16d947[_0x4876c6(0x132)](),_0x16d947['on'](_0x1d6fe2[_0x4876c6(0x12f)],_0x4b0972=>{const _0x3fa322=_0x4876c6;!_0x20dbf3&&(_0x20dbf3=_0x4b0972[_0x3fa322(0x142)]);if(/\/$/[_0x3fa322(0x141)](_0x4b0972[_0x3fa322(0x142)]))_0x16d947[_0x3fa322(0x132)]();else{const _0x4cea6c=_0x4b0972[_0x3fa322(0x142)],_0x53d19d=path[_0x3fa322(0x127)](_0x1c673e,_0x4cea6c);let _0x2f1384;try{_0x2f1384=fs['createWriteStream'](_0x53d19d);}catch(_0x146816){if(BINARY_BUSY_ERROR_CODES[_0x3fa322(0x11b)](_0x146816[_0x3fa322(0x157)])){logger[_0x3fa322(0x150)](_0x3fa322(0x18f)+_0x4cea6c),fs['unlink'](_0x160417,_0x5283d0=>{const _0x63c19e=_0x3fa322;_0x5283d0&&logger[_0x63c19e(0x150)](_0x63c19e(0x13e)+_0x160417);}),_0x2a3922[_0x3fa322(0x172)](_0x14140a,_0x53d19d);return;}_0x2a3922[_0x3fa322(0x172)](_0x3541d1,_0x146816);return;}_0x2f1384['on'](_0x2a3922[_0x3fa322(0xf5)],_0x6d43b=>{const _0x463b18=_0x3fa322;BINARY_BUSY_ERROR_CODES[_0x463b18(0x11b)](_0x6d43b[_0x463b18(0x157)])?(logger[_0x463b18(0x150)](_0x463b18(0x13f)+_0x6d43b[_0x463b18(0x104)]),_0x2f1384[_0x463b18(0x15e)](),fs['unlink'](_0x160417,_0x17bc43=>{const _0xce7d08=_0x463b18;_0x17bc43&&logger['warn'](_0xce7d08(0x13e)+_0x160417);}),_0x4398d2[_0x463b18(0x162)](_0x14140a,_0x53d19d)):_0x4398d2[_0x463b18(0x162)](_0x3541d1,_0x6d43b);}),_0x16d947['openReadStream'](_0x4b0972,function(_0x540c6a,_0x2f42bb){const _0xf69836=_0x3fa322;_0x540c6a&&_0x4398d2['jzqvz'](_0x3541d1,_0x540c6a),_0x2f42bb['on'](_0x4398d2[_0xf69836(0x1a1)],function(){const _0x5681b7=_0xf69836;_0x2f1384[_0x5681b7(0x15e)](),_0x16d947[_0x5681b7(0x132)]();}),_0x2f42bb[_0xf69836(0x163)](_0x2f1384);}),_0x2a3922[_0x3fa322(0xf4)](_0x4b0972[_0x3fa322(0x142)],_0x20dbf3)&&_0x16d947['close']();}}),_0x16d947['on'](_0x1d6fe2[_0x4876c6(0x1ac)],_0x33adfa=>{const _0x1f82a7=_0x4876c6;_0x2a3922[_0x1f82a7(0x14e)](_0x3541d1,_0x33adfa);}),_0x16d947[_0x4876c6(0x14c)](_0x1d6fe2['wzctm'],()=>{const _0x2cf1e2=_0x4876c6,_0x3d66d5={'lyYGZ':function(_0xe31f34,_0x5ae5f4){return _0x2a3922['YerNH'](_0xe31f34,_0x5ae5f4);},'laTXk':function(_0x1d8cd9,_0x13158f){return _0x2a3922['xLtat'](_0x1d8cd9,_0x13158f);}};fs[_0x2cf1e2(0x148)](_0x160417,_0x2171f1=>{const _0x196456=_0x2cf1e2;_0x2171f1&&logger[_0x196456(0x150)](_0x196456(0x13e)+_0x160417);}),fs['chmod'](path['join'](_0x1c673e,_0x20dbf3),_0x2a3922['NFGYG'],function(_0x3c4599){const _0x49e152=_0x2cf1e2;_0x3c4599&&_0x3d66d5[_0x49e152(0x1a7)](_0x3541d1,_0x3c4599),_0x3d66d5[_0x49e152(0x1b2)](_0x14140a,path[_0x49e152(0x127)](_0x1c673e,_0x20dbf3));}),_0x16d947[_0x2cf1e2(0x15e)]();});});});}static[a64_0x59aa7d(0x178)](){const _0x1cf24c=a64_0x59aa7d;if(process[_0x1cf24c(0x181)][_0x1cf24c(0x19a)])return JSON['parse'](process[_0x1cf24c(0x181)][_0x1cf24c(0x19a)]);return this[_0x1cf24c(0x188)];}static[a64_0x59aa7d(0x131)](){const _0x4e861b=a64_0x59aa7d;if(process['env'][_0x4e861b(0x10e)])return JSON[_0x4e861b(0x112)](process[_0x4e861b(0x181)][_0x4e861b(0x10e)]);return this[_0x4e861b(0x18a)];}static[a64_0x59aa7d(0x190)](_0xc307c6,_0x17b1b5){const _0x9e6f8c=a64_0x59aa7d,_0x48bdaf={'DljIW':_0x9e6f8c(0x135),'mIIcV':function(_0x40495e,_0x248ce0){return _0x40495e(_0x248ce0);},'PIuhk':function(_0x243a1d,_0x3f9a63){return _0x243a1d(_0x3f9a63);},'gPCzf':function(_0x187898,_0x4bb325){return _0x187898||_0x4bb325;}},_0xc74b3b=_0x48bdaf[_0x9e6f8c(0x19d)][_0x9e6f8c(0x14b)]('|');let _0xa6f69e=0x0;while(!![]){switch(_0xc74b3b[_0xa6f69e++]){case'0':process['env']['BROWSERSTACK_TEST_FRAMEWORK_DETAIL']=JSON[_0x9e6f8c(0x122)](this['testFrameworkDetail']);continue;case'1':this[_0x9e6f8c(0x188)]={'name':_0xc307c6,'version':{[_0xc307c6]:_0x48bdaf['mIIcV'](getFrameworkVersion,_0xc307c6)}};continue;case'2':this['automationFrameworkDetail']={'name':_0x17b1b5,'version':_0x48bdaf[_0x9e6f8c(0x15c)](getFrameworkVersion,_0x17b1b5)};continue;case'3':_0x48bdaf[_0x9e6f8c(0x126)](!_0xc307c6,!_0x17b1b5)&&logger[_0x9e6f8c(0x198)](_0x9e6f8c(0xf7)+_0xc307c6+_0x9e6f8c(0x100)+_0x17b1b5);continue;case'4':process[_0x9e6f8c(0x181)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']=JSON[_0x9e6f8c(0x122)](this['automationFrameworkDetail']);continue;}break;}}static[a64_0x59aa7d(0x177)](_0x521fe1,_0x51b9d2){return _0x521fe1+':'+_0x51b9d2;}static[a64_0x59aa7d(0x14d)](){const _0x22b776=a64_0x59aa7d;return process[_0x22b776(0x136)]+':'+threadId;}static[a64_0x59aa7d(0x158)](_0x377843){const _0x977286=a64_0x59aa7d;if(_0x377843[_0x977286(0x1a2)]&&_0x377843['testContextOptions'][_0x977286(0x17e)])return!![];return![];}static['shouldSkipSessionStatus'](_0x326d40){const _0x3c6b86=a64_0x59aa7d;if(_0x326d40[_0x3c6b86(0x1a2)]&&_0x326d40[_0x3c6b86(0x1a2)][_0x3c6b86(0x120)])return!![];return![];}static[a64_0x59aa7d(0xfe)](_0x558bb7){const _0xb8bcc6=a64_0x59aa7d,_0x567004=new RegExp(TestFrameworkConstants['HOOK_REGEX']);return _0x567004[_0xb8bcc6(0x141)](_0x558bb7);}static[a64_0x59aa7d(0x18b)](_0x42d2fc,_0x30ea52){const _0x330093=a64_0x59aa7d,_0x963bb4={};_0x963bb4['iuSOP']=function(_0x242923,_0x4813e4){return _0x242923!==_0x4813e4;},_0x963bb4[_0x330093(0x1b3)]=function(_0x29fff8,_0x56599c){return _0x29fff8===_0x56599c;},_0x963bb4['cISET']=_0x330093(0x110);const _0x171cd3=_0x963bb4;for(const [_0x13657e,_0x5deefc]of Object[_0x330093(0x10f)](_0x30ea52)){if(_0x171cd3[_0x330093(0x145)](_0x5deefc,null)&&_0x171cd3[_0x330093(0x1b3)](typeof _0x5deefc,_0x171cd3[_0x330093(0x168)])&&!Array[_0x330093(0x167)](_0x5deefc))_0x42d2fc[_0x13657e]=this[_0x330093(0x18b)](_0x42d2fc[_0x13657e]||{},_0x5deefc);else Array[_0x330093(0x167)](_0x5deefc)?_0x42d2fc[_0x13657e]=(_0x42d2fc[_0x13657e]||[])['concat'](_0x5deefc):_0x42d2fc[_0x13657e]=_0x5deefc;}return _0x42d2fc;}}function a64_0xa142(){const _0x5a0564=['getHookRegistryKey','getTestFrameworkDetail','arch','keIMw','DNUxX','url','jmJGa','skipSessionName','BROWSERSTACK_CLI_ENV','./state/hookState.js','env','qpupp','mvpAQ','BROWSERSTACK_FILES_DIR','YIAWW','5824090kFfIwD','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','testFrameworkDetail','basename','automationFrameworkDetail','mergeObject','Resolving\x20with\x20stdout:\x20\x22','child_process','util','Binary\x20file\x20is\x20currently\x20in\x20use,\x20skipping\x20download\x20and\x20continuing\x20with\x20existing\x20binary:\x20','setFrameworkDetail','filePath','ZHSDi','trim','FljOH','downloadFileStream','response\x20','unix:/tmp/sdk-platform-','debug','6jkUPPg','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','vuWic','yauzl','DljIW','SYEvf','../../helpers/helper','entry','wOESy','testContextOptions','../../helpers/utilities','get','UlfFR','GET','lyYGZ','requestToUpdateCLI','./instances/testFrameworkInstance.js','error','0755','kCpma','XvUde','\x20version','cRjxT','UiHLr','408WlCXCw','laTXk','ledGj','../../../package.json','xCUCE','WvMkz','platform','NRotG','exports','hfVvw','Setting\x20required\x20permissions\x20to\x20','sMnbt','MUDTW','isDevelopmentEnv','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','timeout','getWritableDir','ebyJT','kJjve','open','info','matchHookRegex','Existing\x20binary\x20is\x20currently\x20in\x20use,\x20skipping\x20update\x20and\x20continuing\x20with\x20current\x20version:\x20',',\x20automationFramework=','hpVsp','56665QDPglj','13902260HKlTcP','message','cwd','node','existsSync','kKxfu','worker_threads','statSync','zjLCq','209928QQGbgi','djGBu','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','entries','object','bxqWh','parse','format','638152UAuytD','reduce','./framework/constants/testFrameworkConstants.js','UdxFG','getSdkVersion','isFile','getCliDir','includes','.browserstack','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','map','getSdkLanguage','skipSessionStatus','getExistingCliPath','stringify','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','AKoCU','homedir','gPCzf','join','Downloading\x20SDK\x20binary\x20from:\x20','downloadLatestBinary','../utils/apiUtilityMethods.js','Binary\x20is\x20busy:\x20','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','mtime','BROWSERSTACK_BINARY_URL','gtUpX','FUEDR','getAutomationFrameworkDetail','readEntry','listen','RrAXK','3|1|2|4|0','pid','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','azXYn','data','tCmzA','SHELL_EXECUTE_ERROR','runShellCommand','Configuring\x20Cli\x20path.','Failed\x20to\x20delete\x20zip\x20file:\x20','Binary\x20file\x20became\x20busy\x20during\x20write,\x20continuing\x20with\x20existing\x20binary:\x20','wzctm','test','fileName','SDK_CLI_DOWNLOAD','jNbpV','iuSOP','cli_version','EWIZj','unlink','\x20already\x20exists','Folder\x20','split','once','getCurrentInstanceName','YerNH','Got\x20Error\x20in\x20SDK\x20binary\x20download\x20response\x20%s','warn','start','../../helpers/classLogger.js','binary-','AdaqN','getCLIParamsForDevEnv','Error\x20while\x20reading\x20CLI\x20path:\x20','code','shouldSkipSessionName','end','Current\x20CLI\x20Path\x20Found:\x20','../../helpers/performance/performance-tester.js','PIuhk','iqLoH','close','FDovH','path','isBinaryBusy','jzqvz','pipe','version','Failed\x20to\x20download\x20SDK\x20binary,\x20Exception:\x20','SDK_CLI_CHECK_UPDATE','isArray','cISET','follow-redirects','Folder\x20does\x20not\x20exist:\x20','541486LSEtei','90PQZuJj','393496zQwxTp','checkAndUpdateCli','Got\x20Error\x20while\x20downloading\x20SDK\x20binary\x20file\x20%s','xyoZs','UGeBG','YHcsg','lazyEntries','eZjmy','CLIUtils','DAQjG'];a64_0xa142=function(){return _0x5a0564;};return a64_0xa142();}module[a64_0x59aa7d(0xf1)]=CLIUtils;