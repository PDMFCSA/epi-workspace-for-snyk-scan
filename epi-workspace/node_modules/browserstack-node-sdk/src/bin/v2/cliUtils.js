function a64_0xf87e(){const _0xc62ed5=['sDgiv','\x20version','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','mkxXB','dBTdo','debug','listen','./state/hookState.js','Setting\x20required\x20permissions\x20to\x20','getTestFrameworkDetail','GET','getCliDir','statSync','wrZXO','guMgy','./framework/constants/testFrameworkConstants.js','unix:/tmp/sdk-platform-','NWDHc','aPkHb','Configuring\x20Cli\x20path.','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','ADwrm','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','Downloading\x20SDK\x20binary\x20from:\x20','6235628TVDbuB','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','warn','nFytO','test','OKzMH','setFrameworkDetail','iPhqz','QIuPu','startsWith','openSync','getSdkVersion','276xwaLsv','../utils/constants','197320xxCzsq','iuPlv','bzShz','HOOK_REGEX','getCurrentInstanceName','url','DgrTR','join','lazyEntries','usXFU','env','split','OrgGf','platform','aSHJP','readEntry','data','44LFOSVS','../../helpers/performance/performance-tester.js','isArray','get','downloadFileStream','LAQBr','getHookRegistryKey','ZIIWG','entries','runShellCommand','rckCd','getSdkLanguage','SySCl','XBBJV','ARcmw','getWritableDir','aFtUY','NoLzA','0755','MpiTX','Folder\x20','BROWSERSTACK_CLI_ENV','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','1132sUVCFv','response\x20','code','../../../package.json','TcuuS','11648oAfSNf','.browserstack','FNjGH','Resolving\x20with\x20stdout:\x20\x22','error','135BWhwAt','includes','shouldSkipSessionName','binary-','hLNFq','shouldSkipSessionStatus','getExistingCliPath','Failed\x20to\x20download\x20binary,\x20Exception:\x20','jqfmd','exports','kjcjQ','1852655FCEObe','unlink','cli_version','./state/testFrameworkState.js','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','trim','worker_threads','CLIUtils','fxRlb','Binary\x20is\x20busy:\x20','WLxEv','xAtTn','requestToUpdateCLI','end','TbTQZ','fileName','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','xMbFL','MUNxr','mtime','pipe','AyPUF','reduce','wpUlY','arch','WusMr','zOrMg','FTpHc','Binary\x20file\x20is\x20currently\x20in\x20use,\x20skipping\x20download\x20and\x20continuing\x20with\x20existing\x20binary:\x20','jTqcd','CLI\x20version\x20found\x20despite\x20error:\x20\x22','TZzoD','existsSync','Error\x20checking\x20if\x20binary\x20is\x20busy:\x20','knfZx','hhGcs','closeSync','isFile','testContextOptions','mergeObject','start','dLnRO','development','matchHookRegex','timeout','tmpdir','xQGVW','Development\x20Cli\x20Path:\x20','Binary\x20file\x20became\x20busy\x20during\x20write,\x20continuing\x20with\x20existing\x20binary:\x20','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','urAaJ','version','\x20already\x20exists','Current\x20CLI\x20Path\x20Found:\x20','WndpI','cli','WljjF','2|4|1|0|3','olaxQ','.sock','message','mTJRc','llxZF','ezhih','../../helpers/performance/constants','automationFrameworkDetail','parse','yauzl','homedir','xLuLr','entry','nHYaj','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','util','readdirSync','GTvYp','eIWpX','info','VCney','stringify','basename','BROWSERSTACK_BINARY_URL','getCLIParamsForDevEnv','createWriteStream','./state/automationFrameworkState.js','skipSessionName','BJPjk','Resolved\x20binary\x20path:\x20','checkAndUpdateCli','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','BROWSERSTACK_FILES_DIR','zsuWr','getAutomationFrameworkDetail','../../helpers/test-observability/utils.js','map','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','format','../../helpers/classLogger.js','object','concat','../../helpers/utilities','node','SDK_CLI_BIN_PATH','SDK_CLI_DOWNLOAD','kqTdW','Failed\x20to\x20delete\x20zip\x20file:\x20','SDK_CLI_CHECK_UPDATE','Folder\x20does\x20not\x20exist:\x20','path','6qoHskv','testFrameworkDetail','./instances/testFrameworkInstance.js','1709390JADWrz','eQOxn','close','isBinaryBusy','483573kNHbTX','chmod'];a64_0xf87e=function(){return _0xc62ed5;};return a64_0xf87e();}const a64_0x4f69aa=a64_0x3d5b;(function(_0x5b5405,_0x9a31f7){const _0xe24f9a=a64_0x3d5b,_0x2bcbe3=_0x5b5405();while(!![]){try{const _0x1fa4fd=parseInt(_0xe24f9a(0x18d))/0x1*(parseInt(_0xe24f9a(0x163))/0x2)+-parseInt(_0xe24f9a(0x13d))/0x3+-parseInt(_0xe24f9a(0x192))/0x4+-parseInt(_0xe24f9a(0x1a2))/0x5*(-parseInt(_0xe24f9a(0x136))/0x6)+-parseInt(_0xe24f9a(0x157))/0x7+parseInt(_0xe24f9a(0x165))/0x8*(parseInt(_0xe24f9a(0x197))/0x9)+parseInt(_0xe24f9a(0x139))/0xa*(parseInt(_0xe24f9a(0x176))/0xb);if(_0x1fa4fd===_0x9a31f7)break;else _0x2bcbe3['push'](_0x2bcbe3['shift']());}catch(_0x413c92){_0x2bcbe3['push'](_0x2bcbe3['shift']());}}}(a64_0xf87e,0x80503));function a64_0x3d5b(_0x48da1b,_0xd87495){const _0xf87e2c=a64_0xf87e();return a64_0x3d5b=function(_0x3d5b34,_0xa95f0){_0x3d5b34=_0x3d5b34-0xf1;let _0x149ce=_0xf87e2c[_0x3d5b34];return _0x149ce;},a64_0x3d5b(_0x48da1b,_0xd87495);}const fs=require('fs'),os=require('os'),url=require(a64_0x4f69aa(0x16a)),path=require(a64_0x4f69aa(0x135)),{exec}=require('child_process'),{https}=require('follow-redirects'),yauzl=require(a64_0x4f69aa(0x10c)),util=require(a64_0x4f69aa(0x112)),{getFrameworkVersion}=require(a64_0x4f69aa(0x126)),{threadId}=require(a64_0x4f69aa(0x1a9)),PerformanceTester=require(a64_0x4f69aa(0x177)),{EVENTS:PerformanceEvents}=require(a64_0x4f69aa(0x109)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require(a64_0x4f69aa(0x12d)),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require('../../helpers/helper'),{UPDATED_CLI_ENDPOINT,BINARY_BUSY_ERROR_CODES}=require(a64_0x4f69aa(0x164)),{createClassLogger}=require(a64_0x4f69aa(0x12a)),TestFrameworkInstance=require(a64_0x4f69aa(0x138)),HookState=require(a64_0x4f69aa(0x146)),TestFrameworkState=require(a64_0x4f69aa(0x1a5)),AutomationFrameworkState=require(a64_0x4f69aa(0x11d)),TestFrameworkConstants=require(a64_0x4f69aa(0x14e)),logger=createClassLogger(a64_0x4f69aa(0x1aa)),{getBStackAPIUrl}=require('../utils/apiUtilityMethods.js');class CLIUtils{[a64_0x4f69aa(0x10a)]={};['testFrameworkDetail']={};static['isDevelopmentEnv'](){const _0x19f5d4=a64_0x4f69aa,_0xb6ebe2={};_0xb6ebe2[_0x19f5d4(0x1bc)]=function(_0xf6ee68,_0xcb886){return _0xf6ee68===_0xcb886;},_0xb6ebe2[_0x19f5d4(0x1c5)]=_0x19f5d4(0xf3);const _0x318d59=_0xb6ebe2;return _0x318d59[_0x19f5d4(0x1bc)](process[_0x19f5d4(0x16f)][_0x19f5d4(0x18b)],_0x318d59[_0x19f5d4(0x1c5)]);}static[a64_0x4f69aa(0x11b)](){const _0x435344=a64_0x4f69aa,_0x516746={};return _0x516746['id']=process['env'][_0x435344(0x18b)],_0x516746[_0x435344(0x145)]=_0x435344(0x14f)+process['env'][_0x435344(0x18b)]+_0x435344(0x104),_0x516746;}static[a64_0x4f69aa(0x162)](){const _0x1d0266=a64_0x4f69aa,_0x357ed0={'WndpI':function(_0x51fb24,_0x43bfcb){return _0x51fb24(_0x43bfcb);},'QIuPu':_0x1d0266(0x190)};return _0x357ed0[_0x1d0266(0xff)](require,_0x357ed0[_0x1d0266(0x15f)])[_0x1d0266(0xfc)];}static[a64_0x4f69aa(0x181)](){const _0x3efb1a=a64_0x4f69aa,_0x2d205a={};_0x2d205a[_0x3efb1a(0x166)]=_0x3efb1a(0x12e);const _0x435143=_0x2d205a;return _0x435143[_0x3efb1a(0x166)];}static async['setupCliPath'](_0x26dda7){const _0x3bcb35=a64_0x4f69aa,_0x497c5c={'xLuLr':_0x3bcb35(0x152),'OKzMH':function(_0x5c4c51,_0x4a0daf){return _0x5c4c51(_0x4a0daf);},'iPhqz':function(_0x46871b,_0x2902cf){return _0x46871b(_0x2902cf);},'hhGcs':_0x3bcb35(0x122)};logger['debug'](_0x497c5c[_0x3bcb35(0x10e)]);const _0x5d6c8a=process[_0x3bcb35(0x16f)][_0x3bcb35(0x12f)];if(!_0x497c5c[_0x3bcb35(0x15c)](isNullOrEmpty,_0x5d6c8a))return logger[_0x3bcb35(0x144)](_0x3bcb35(0xf8)+_0x5d6c8a),_0x5d6c8a;try{const _0x1b9437=this[_0x3bcb35(0x14a)]();if(_0x497c5c[_0x3bcb35(0x15e)](isNullOrEmpty,_0x1b9437))throw new Error(_0x497c5c[_0x3bcb35(0x1c6)]);const _0x3dc01f=this[_0x3bcb35(0x19d)](_0x1b9437),_0x2aeb48=await this[_0x3bcb35(0x121)](_0x3dc01f,_0x1b9437,_0x26dda7);return logger[_0x3bcb35(0x144)](_0x3bcb35(0x120)+_0x2aeb48),_0x2aeb48;}catch(_0x44bbbb){logger[_0x3bcb35(0x144)](_0x3bcb35(0x111)+util['format'](_0x44bbbb));}return null;}static async[a64_0x4f69aa(0x121)](_0x26f9b6,_0xf2dab6,_0x487d2f){const _0x4f5848=a64_0x4f69aa,_0x47687f={'CZViB':function(_0x5acee6){return _0x5acee6();},'jFgWS':function(_0x57c2b0,_0x514d1d){return _0x57c2b0(_0x514d1d);},'nHYaj':function(_0x213166,_0x2d7245,_0x4152a5){return _0x213166(_0x2d7245,_0x4152a5);},'xMbFL':_0x4f5848(0x175),'TZzoD':'url','MUNxr':function(_0x119c05,_0xe10e37){return _0x119c05(_0xe10e37);},'JXaia':function(_0x1aab15,_0x5f2538,_0x1223f5){return _0x1aab15(_0x5f2538,_0x1223f5);}};PerformanceTester[_0x4f5848(0xf1)](PerformanceEvents[_0x4f5848(0x133)]),logger[_0x4f5848(0x116)](_0x4f5848(0xfe)+_0x26f9b6);const _0x4b2128=_0x47687f['CZViB'](getHostInfo),_0x51ef54={'sdk_version':CLIUtils['getSdkVersion'](),'os':_0x4b2128[_0x4f5848(0x172)],'os_arch':_0x4b2128[_0x4f5848(0x1bb)],'cli_version':'0','sdk_language':this[_0x4f5848(0x181)]()};!_0x47687f['jFgWS'](isNullOrEmpty,_0x26f9b6)&&(_0x51ef54[_0x4f5848(0x1a4)]=await this[_0x4f5848(0x17f)](_0x26f9b6+_0x4f5848(0x140)));const _0xf6e0da=await this['requestToUpdateCLI'](_0x51ef54,_0x487d2f);process[_0x4f5848(0x16f)][_0x4f5848(0x11a)]&&(logger[_0x4f5848(0x116)](_0x4f5848(0x141)+process[_0x4f5848(0x16f)][_0x4f5848(0x11a)]),_0xf6e0da['data'][_0x4f5848(0x16a)]=process[_0x4f5848(0x16f)][_0x4f5848(0x11a)]);if(_0x47687f[_0x4f5848(0x110)](nestedKeyValue,_0xf6e0da,[_0x47687f[_0x4f5848(0x1b4)],_0x47687f[_0x4f5848(0x1c2)]])){logger[_0x4f5848(0x144)](_0x4f5848(0x158)+_0x51ef54[_0x4f5848(0x1a4)]);if(!_0x47687f[_0x4f5848(0x1b5)](isNullOrEmpty,_0x26f9b6)&&this[_0x4f5848(0x13c)](_0x26f9b6))return logger[_0x4f5848(0x159)]('Existing\x20binary\x20is\x20currently\x20in\x20use,\x20skipping\x20update\x20and\x20continuing\x20with\x20current\x20version:\x20'+_0x26f9b6),PerformanceTester[_0x4f5848(0x1b0)](PerformanceEvents[_0x4f5848(0x133)]),_0x26f9b6;const _0x5b373e=await this['downloadLatestBinary'](_0x47687f['JXaia'](nestedKeyValue,_0xf6e0da,[_0x47687f[_0x4f5848(0x1b4)],_0x47687f[_0x4f5848(0x1c2)]]),_0xf2dab6);return PerformanceTester['end'](PerformanceEvents[_0x4f5848(0x133)]),_0x5b373e;}return PerformanceTester['end'](PerformanceEvents[_0x4f5848(0x133)]),_0x26f9b6;}static[a64_0x4f69aa(0x14a)](){const _0x2801b1=a64_0x4f69aa,_0x4eb4d7={'fxRlb':function(_0x1063c1,_0x477353){return _0x1063c1(_0x477353);},'jqfmd':_0x2801b1(0x122),'MpiTX':_0x2801b1(0x100),'ARcmw':function(_0x3aee69,_0x13ab74){return _0x3aee69(_0x13ab74);}},_0x565db0=this[_0x2801b1(0x185)]();try{if(_0x4eb4d7[_0x2801b1(0x1ab)](isNullOrEmpty,_0x565db0))throw new Error(_0x4eb4d7[_0x2801b1(0x19f)]);const _0x2b5883=path[_0x2801b1(0x16c)](_0x565db0,_0x4eb4d7[_0x2801b1(0x189)]);return!fs[_0x2801b1(0x1c3)](_0x2b5883)&&_0x4eb4d7[_0x2801b1(0x184)](createDir,_0x2b5883),_0x2b5883;}catch(_0x54d45b){logger[_0x2801b1(0x144)](_0x2801b1(0x1a7)+util[_0x2801b1(0x129)](_0x54d45b));}}static[a64_0x4f69aa(0x185)](){const _0x215947=a64_0x4f69aa,_0x211542={'ZIIWG':_0x215947(0x193),'FTpHc':function(_0x44daee,_0x34b9e5){return _0x44daee(_0x34b9e5);},'GvVCO':function(_0x46fa33,_0x15b55b){return _0x46fa33(_0x15b55b);},'SySCl':function(_0x23d115,_0x3be0ec){return _0x23d115(_0x3be0ec);},'BJPjk':function(_0x51792e,_0x853f80){return _0x51792e(_0x853f80);},'NWDHc':function(_0x499e22,_0x5791c7){return _0x499e22(_0x5791c7);},'rckCd':function(_0x1690d7,_0x595be5){return _0x1690d7(_0x595be5);}},_0x22bebd=[process['env'][_0x215947(0x123)],path[_0x215947(0x16c)](os[_0x215947(0x10d)](),_0x211542[_0x215947(0x17d)]),path[_0x215947(0x16c)](os[_0x215947(0xf6)](),_0x211542[_0x215947(0x17d)])];for(const _0x1c31ba of _0x22bebd){if(_0x211542[_0x215947(0x1be)](isNullOrEmpty,_0x1c31ba))continue;try{if(fs['existsSync'](_0x1c31ba)){logger[_0x215947(0x144)](_0x215947(0x18a)+_0x1c31ba+_0x215947(0xfd));if(!_0x211542['GvVCO'](isModifiable,_0x1c31ba)){logger[_0x215947(0x144)](_0x215947(0x147)+_0x1c31ba);const _0x36acc7=_0x211542[_0x215947(0x182)](setReadWriteExecuteAccess,_0x1c31ba);if(!_0x211542[_0x215947(0x1be)](isTrue,_0x36acc7)){logger[_0x215947(0x159)](_0x215947(0x128)+_0x1c31ba);continue;}}}else{logger[_0x215947(0x144)](_0x215947(0x134)+_0x1c31ba),_0x211542[_0x215947(0x11f)](createDir,_0x1c31ba),logger[_0x215947(0x144)](_0x215947(0x147)+_0x1c31ba);const _0x29049f=_0x211542[_0x215947(0x150)](setReadWriteExecuteAccess,_0x1c31ba);!_0x211542[_0x215947(0x180)](isTrue,_0x29049f)&&logger[_0x215947(0x159)](_0x215947(0x128)+_0x1c31ba);}return _0x1c31ba;}catch(_0x302efc){logger[_0x215947(0x196)]('Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20'+util['format'](_0x302efc));}}return null;}static[a64_0x4f69aa(0x19d)](_0x383660){const _0x365c67=a64_0x4f69aa,_0x5952c3={};_0x5952c3[_0x365c67(0x117)]=function(_0x1432bd,_0x1bffb9){return _0x1432bd>_0x1bffb9;},_0x5952c3[_0x365c67(0x183)]=function(_0x1f2a15,_0x36c5e1){return _0x1f2a15>_0x36c5e1;};const _0x37715c=_0x5952c3;try{if(!fs[_0x365c67(0x1c3)](_0x383660)||!fs[_0x365c67(0x14b)](_0x383660)['isDirectory']())return'';const _0xb6dbd6=fs[_0x365c67(0x113)](_0x383660)[_0x365c67(0x127)](_0x5c5bef=>path['join'](_0x383660,_0x5c5bef))['filter'](_0x4e61a6=>fs[_0x365c67(0x14b)](_0x4e61a6)[_0x365c67(0x1c8)]()&&path[_0x365c67(0x119)](_0x4e61a6)[_0x365c67(0x160)](_0x365c67(0x19a)));if(_0x37715c[_0x365c67(0x183)](_0xb6dbd6['length'],0x0)){const _0x4a76c=_0xb6dbd6[_0x365c67(0x127)](_0x5e1b3c=>({'filePath':_0x5e1b3c,'mtime':fs[_0x365c67(0x14b)](_0x5e1b3c)[_0x365c67(0x1b6)]}))[_0x365c67(0x1b9)]((_0x37ca28,_0x4d785d)=>{const _0x13fb37=_0x365c67;if(!_0x37ca28||!_0x37ca28[_0x13fb37(0x1b6)])return _0x4d785d;if(_0x37715c[_0x13fb37(0x117)](_0x4d785d[_0x13fb37(0x1b6)],_0x37ca28[_0x13fb37(0x1b6)]))return _0x4d785d;return _0x37ca28;},{});return _0x4a76c?_0x4a76c['filePath']:'';}return'';}catch(_0x3b5a0b){return logger['error']('Error\x20while\x20reading\x20CLI\x20path:\x20'+util['format'](_0x3b5a0b)),'';}}static [a64_0x4f69aa(0x1af)]=async(_0x50bdaf,_0x39ee77)=>{const _0x24f58e=a64_0x4f69aa,_0x2cb705={'kqTdW':function(_0xfc987b,_0x871da2,_0x559ed0,_0x4cea7b,_0x5c1a9d){return _0xfc987b(_0x871da2,_0x559ed0,_0x4cea7b,_0x5c1a9d);},'lUbko':_0x24f58e(0x149)},_0x1e5568={};_0x1e5568['qs']=_0x50bdaf;const _0x737c72=await _0x2cb705[_0x24f58e(0x131)](nodeRequest,_0x2cb705['lUbko'],UPDATED_CLI_ENDPOINT,_0x1e5568,_0x39ee77);return logger['debug'](_0x24f58e(0x18e)+JSON[_0x24f58e(0x118)](_0x737c72)),_0x737c72;};static['isBinaryBusy'](_0x46480c){const _0x15e703=a64_0x4f69aa;try{const _0x27db0a=fs[_0x15e703(0x161)](_0x46480c,'r+');return fs[_0x15e703(0x1c7)](_0x27db0a),![];}catch(_0xc81d6){if(BINARY_BUSY_ERROR_CODES[_0x15e703(0x198)](_0xc81d6[_0x15e703(0x18f)]))return logger[_0x15e703(0x144)](_0x15e703(0x1ac)+_0x46480c),!![];return logger[_0x15e703(0x144)](_0x15e703(0x1c4)+_0xc81d6[_0x15e703(0x105)]),![];}}static['runShellCommand'](_0x10258c,_0x41d149=''){const _0x54fa22=a64_0x4f69aa,_0x373049={'zsuWr':'version','guMgy':function(_0x338082,_0x10e55d){return _0x338082(_0x10e55d);},'bzShz':function(_0x4643d4,_0x1512d4){return _0x4643d4(_0x1512d4);},'mTJRc':'SHELL_EXECUTE_ERROR','LAQBr':function(_0x1c0d96,_0x2970f2,_0x5d6e2a,_0x1c4b17){return _0x1c0d96(_0x2970f2,_0x5d6e2a,_0x1c4b17);},'ADwrm':_0x54fa22(0x196)};return new Promise((_0x597a6c,_0x504e14)=>{const _0x2057a7=_0x54fa22,_0x1a1909={'jTqcd':function(_0x363289,_0x558c8a){const _0x4cebaf=a64_0x3d5b;return _0x373049[_0x4cebaf(0x167)](_0x363289,_0x558c8a);},'AyPUF':_0x373049[_0x2057a7(0x106)]},_0x4d659f={};_0x4d659f['cwd']=_0x41d149,_0x4d659f[_0x2057a7(0xf5)]=0x1388;const _0x1ad1da=_0x373049[_0x2057a7(0x17b)](exec,_0x10258c,_0x4d659f,(_0x5abf75,_0x3918cd,_0x2b3371)=>{const _0x17cce5=_0x2057a7;if(_0x5abf75){if(_0x10258c[_0x17cce5(0x198)](_0x373049[_0x17cce5(0x124)])&&(_0x3918cd[_0x17cce5(0x1a8)]()||_0x2b3371[_0x17cce5(0x1a8)]())){const _0x599076=_0x3918cd[_0x17cce5(0x1a8)]()||_0x2b3371['trim']();logger['debug'](_0x17cce5(0x1c1)+_0x599076+'\x22'),_0x373049[_0x17cce5(0x14d)](_0x597a6c,_0x599076);}else _0x373049['bzShz'](_0x597a6c,_0x2b3371['trim']()||_0x373049[_0x17cce5(0x106)]);}else logger['debug'](_0x17cce5(0x195)+_0x3918cd[_0x17cce5(0x1a8)]()+'\x22'),_0x373049[_0x17cce5(0x14d)](_0x597a6c,_0x3918cd[_0x17cce5(0x1a8)]());});_0x1ad1da['on'](_0x373049[_0x2057a7(0x154)],()=>{const _0xeef4fb=_0x2057a7;_0x1a1909[_0xeef4fb(0x1c0)](_0x597a6c,_0x1a1909[_0xeef4fb(0x1b8)]);});});}static ['downloadLatestBinary']=async(_0x43a473,_0x3d5ab6)=>{const _0x567f21=a64_0x4f69aa,_0x5632bc={'aSHJP':function(_0x23b9f8,_0x3fb78d){return _0x23b9f8(_0x3fb78d);},'aFtUY':_0x567f21(0x153),'TNILe':_0x567f21(0x1b3),'zOrMg':function(_0x12b5a0,_0xea6760){return _0x12b5a0(_0xea6760);},'NoLzA':'error','OrgGf':'downloaded_file.zip'};PerformanceTester[_0x567f21(0xf1)](PerformanceEvents[_0x567f21(0x130)]),logger[_0x567f21(0x144)](_0x567f21(0x156)+_0x43a473);try{const _0x421d2e=url['parse'](_0x43a473),_0x49af30=path[_0x567f21(0x16c)](_0x3d5ab6,_0x5632bc[_0x567f21(0x171)]),_0x89e694=fs[_0x567f21(0x11c)](_0x49af30);return new Promise((_0x434618,_0x484b29)=>{const _0x2843cc=_0x567f21,_0x321c23={'FNjGH':_0x5632bc[_0x2843cc(0x186)],'QVktW':function(_0x24217e,_0xcf7dd8){return _0x5632bc['aSHJP'](_0x24217e,_0xcf7dd8);},'WljjF':_0x5632bc['TNILe'],'jiHtf':function(_0x3fde7b,_0x34c411){const _0x11fbc0=_0x2843cc;return _0x5632bc[_0x11fbc0(0x1bd)](_0x3fde7b,_0x34c411);},'GTvYp':_0x5632bc['NoLzA']};https[_0x2843cc(0x179)](_0x421d2e,function(_0x47b6ae){const _0x59b6c4=_0x2843cc,_0x590e13=null;_0x47b6ae[_0x59b6c4(0x1b7)](_0x89e694),_0x47b6ae['on'](_0x321c23[_0x59b6c4(0x114)],function(_0x33e2f2){const _0x44e44e=_0x59b6c4;logger[_0x44e44e(0x196)](util[_0x44e44e(0x129)](_0x321c23[_0x44e44e(0x194)],_0x33e2f2)),PerformanceTester[_0x44e44e(0x1b0)](PerformanceEvents[_0x44e44e(0x130)],![],util[_0x44e44e(0x129)](_0x33e2f2)),_0x321c23['QVktW'](_0x484b29,_0x33e2f2);}),_0x89e694['on'](_0x321c23[_0x59b6c4(0x114)],function(_0x959288){const _0x367562=_0x59b6c4;logger[_0x367562(0x196)](util[_0x367562(0x129)](_0x321c23[_0x367562(0x101)],_0x959288)),PerformanceTester['end'](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util['format'](_0x959288)),_0x321c23['jiHtf'](_0x484b29,_0x959288);}),CLIUtils['downloadFileStream'](_0x89e694,_0x590e13,_0x49af30,_0x3d5ab6,_0x434618,_0x484b29),PerformanceTester[_0x59b6c4(0x1b0)](PerformanceEvents['SDK_CLI_DOWNLOAD']);})['on'](_0x5632bc[_0x2843cc(0x187)],function(_0x3ed151){const _0x49142c=_0x2843cc;logger[_0x49142c(0x196)](_0x49142c(0x1a6)+util[_0x49142c(0x129)](_0x3ed151)),PerformanceTester[_0x49142c(0x1b0)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x49142c(0x129)](_0x3ed151)),_0x5632bc[_0x49142c(0x173)](_0x484b29,_0x3ed151);});});}catch(_0x1a13fe){PerformanceTester['end'](PerformanceEvents[_0x567f21(0x130)],![],util[_0x567f21(0x129)](_0x1a13fe)),logger[_0x567f21(0x144)](_0x567f21(0x19e)+util[_0x567f21(0x129)](_0x1a13fe));}};static[a64_0x4f69aa(0x17a)](_0x40ae97,_0x444c90,_0x3b9106,_0x212646,_0x1c9ae3,_0x5c1dc4){const _0x1b0e74=a64_0x4f69aa,_0x551504={'urAaJ':function(_0x3e3968,_0x2a3c50){return _0x3e3968(_0x2a3c50);},'aPkHb':_0x1b0e74(0x1b0),'kjcjQ':_0x1b0e74(0x188),'dBTdo':_0x1b0e74(0x10f),'TbTQZ':_0x1b0e74(0x196),'ezhih':function(_0x26140c,_0x38de54){return _0x26140c(_0x38de54);},'llxZF':function(_0x41fdce,_0xd0cbf9){return _0x41fdce===_0xd0cbf9;},'wpUlY':_0x1b0e74(0x13b)};_0x40ae97['on'](_0x551504[_0x1b0e74(0x1ba)],function(){const _0x55a8b6=_0x1b0e74,_0x4023f5={'dLnRO':function(_0x4642c1,_0x44cd71){const _0x11d4cd=a64_0x3d5b;return _0x551504[_0x11d4cd(0xfb)](_0x4642c1,_0x44cd71);},'WLxEv':function(_0x2e0004,_0x2504b1){const _0xc85a84=a64_0x3d5b;return _0x551504[_0xc85a84(0x108)](_0x2e0004,_0x2504b1);},'olaxQ':_0x551504[_0x55a8b6(0x1b1)],'hLNFq':function(_0x121c4c,_0x4dde83){const _0x35c172=_0x55a8b6;return _0x551504[_0x35c172(0x107)](_0x121c4c,_0x4dde83);}},_0x39932b={};_0x39932b[_0x55a8b6(0x16d)]=!![],yauzl['open'](_0x3b9106,_0x39932b,function(_0x5553e6,_0x454f2b){const _0x1f3dd7=_0x55a8b6,_0x1c408d={'xQGVW':function(_0x333b22,_0x8a84f2){const _0x50c50b=a64_0x3d5b;return _0x551504[_0x50c50b(0xfb)](_0x333b22,_0x8a84f2);},'mkxXB':_0x551504[_0x1f3dd7(0x151)],'DgrTR':_0x551504[_0x1f3dd7(0x1a1)]};_0x5553e6&&_0x551504[_0x1f3dd7(0xfb)](_0x5c1dc4,_0x5553e6),_0x454f2b[_0x1f3dd7(0x174)](),_0x454f2b['on'](_0x551504[_0x1f3dd7(0x143)],_0x23ad0c=>{const _0x1e9679=_0x1f3dd7,_0xeb5c6c={'usXFU':function(_0xd36747,_0x3957bc){const _0x3a5262=a64_0x3d5b;return _0x4023f5[_0x3a5262(0xf2)](_0xd36747,_0x3957bc);}};!_0x444c90&&(_0x444c90=_0x23ad0c[_0x1e9679(0x1b2)]);if(/\/$/[_0x1e9679(0x15b)](_0x23ad0c[_0x1e9679(0x1b2)]))_0x454f2b[_0x1e9679(0x174)]();else{const _0x255c39=_0x23ad0c[_0x1e9679(0x1b2)],_0xa03371=path[_0x1e9679(0x16c)](_0x212646,_0x255c39);let _0x14abde;try{_0x14abde=fs[_0x1e9679(0x11c)](_0xa03371);}catch(_0x5090af){if(BINARY_BUSY_ERROR_CODES[_0x1e9679(0x198)](_0x5090af[_0x1e9679(0x18f)])){logger[_0x1e9679(0x159)](_0x1e9679(0x1bf)+_0x255c39),fs[_0x1e9679(0x1a3)](_0x3b9106,_0x24c2e6=>{const _0x41d494=_0x1e9679;_0x24c2e6&&logger[_0x41d494(0x159)](_0x41d494(0x132)+_0x3b9106);}),_0x4023f5['WLxEv'](_0x1c9ae3,_0xa03371);return;}_0x4023f5[_0x1e9679(0xf2)](_0x5c1dc4,_0x5090af);return;}_0x14abde['on'](_0x4023f5[_0x1e9679(0x103)],_0x1564f9=>{const _0x4ca442=_0x1e9679;BINARY_BUSY_ERROR_CODES[_0x4ca442(0x198)](_0x1564f9[_0x4ca442(0x18f)])?(logger[_0x4ca442(0x159)](_0x4ca442(0xf9)+_0x1564f9[_0x4ca442(0x105)]),_0x14abde[_0x4ca442(0x13b)](),fs[_0x4ca442(0x1a3)](_0x3b9106,_0x9e4121=>{const _0x43273c=_0x4ca442;_0x9e4121&&logger['warn'](_0x43273c(0x132)+_0x3b9106);}),_0xeb5c6c[_0x4ca442(0x16e)](_0x1c9ae3,_0xa03371)):_0xeb5c6c[_0x4ca442(0x16e)](_0x5c1dc4,_0x1564f9);}),_0x454f2b['openReadStream'](_0x23ad0c,function(_0x579f0d,_0x2f9724){const _0x17dbb3=_0x1e9679;_0x579f0d&&_0x1c408d[_0x17dbb3(0xf7)](_0x5c1dc4,_0x579f0d),_0x2f9724['on'](_0x1c408d[_0x17dbb3(0x142)],function(){const _0x5d0b7d=_0x17dbb3;_0x14abde[_0x5d0b7d(0x13b)](),_0x454f2b[_0x5d0b7d(0x174)]();}),_0x2f9724['pipe'](_0x14abde);}),_0x4023f5[_0x1e9679(0x19b)](_0x23ad0c[_0x1e9679(0x1b2)],_0x444c90)&&_0x454f2b[_0x1e9679(0x13b)]();}}),_0x454f2b['on'](_0x551504[_0x1f3dd7(0x1b1)],_0x289408=>{const _0x36a42a=_0x1f3dd7;_0x4023f5[_0x36a42a(0x1ad)](_0x5c1dc4,_0x289408);}),_0x454f2b['once'](_0x551504[_0x1f3dd7(0x151)],()=>{const _0x29df75=_0x1f3dd7,_0x3fc33c={'nFytO':function(_0x371930,_0x2eddb4){const _0x4934b6=a64_0x3d5b;return _0x1c408d[_0x4934b6(0xf7)](_0x371930,_0x2eddb4);}};fs[_0x29df75(0x1a3)](_0x3b9106,_0x7cc329=>{_0x7cc329&&logger['warn']('Failed\x20to\x20delete\x20zip\x20file:\x20'+_0x3b9106);}),fs[_0x29df75(0x13e)](path[_0x29df75(0x16c)](_0x212646,_0x444c90),_0x1c408d[_0x29df75(0x16b)],function(_0x41c170){const _0x468dc3=_0x29df75;_0x41c170&&_0x3fc33c[_0x468dc3(0x15a)](_0x5c1dc4,_0x41c170),_0x3fc33c[_0x468dc3(0x15a)](_0x1c9ae3,path[_0x468dc3(0x16c)](_0x212646,_0x444c90));}),_0x454f2b[_0x29df75(0x13b)]();});});});}static[a64_0x4f69aa(0x148)](){const _0x5c3ab5=a64_0x4f69aa;if(process[_0x5c3ab5(0x16f)]['BROWSERSTACK_TEST_FRAMEWORK_DETAIL'])return JSON[_0x5c3ab5(0x10b)](process[_0x5c3ab5(0x16f)][_0x5c3ab5(0x155)]);return this[_0x5c3ab5(0x137)];}static[a64_0x4f69aa(0x125)](){const _0x18e28f=a64_0x4f69aa;if(process[_0x18e28f(0x16f)][_0x18e28f(0xfa)])return JSON['parse'](process['env']['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']);return this[_0x18e28f(0x10a)];}static[a64_0x4f69aa(0x15d)](_0x5386c8,_0x43ac00){const _0x2aa2d1=a64_0x4f69aa,_0x596b86={'eIWpX':_0x2aa2d1(0x102),'wrZXO':function(_0x71a5b5,_0x4c018d){return _0x71a5b5(_0x4c018d);},'xAtTn':function(_0x3f76ae,_0xe440af){return _0x3f76ae||_0xe440af;}},_0xf4cbf0=_0x596b86[_0x2aa2d1(0x115)][_0x2aa2d1(0x170)]('|');let _0xd9f845=0x0;while(!![]){switch(_0xf4cbf0[_0xd9f845++]){case'0':process[_0x2aa2d1(0x16f)][_0x2aa2d1(0xfa)]=JSON[_0x2aa2d1(0x118)](this['automationFrameworkDetail']);continue;case'1':this[_0x2aa2d1(0x10a)]={'name':_0x43ac00,'version':_0x596b86[_0x2aa2d1(0x14c)](getFrameworkVersion,_0x43ac00)};continue;case'2':_0x596b86[_0x2aa2d1(0x1ae)](!_0x5386c8,!_0x43ac00)&&logger[_0x2aa2d1(0x144)](_0x2aa2d1(0x18c)+_0x5386c8+',\x20automationFramework='+_0x43ac00);continue;case'3':process[_0x2aa2d1(0x16f)]['BROWSERSTACK_TEST_FRAMEWORK_DETAIL']=JSON[_0x2aa2d1(0x118)](this[_0x2aa2d1(0x137)]);continue;case'4':this[_0x2aa2d1(0x137)]={'name':_0x5386c8,'version':{[_0x5386c8]:_0x596b86[_0x2aa2d1(0x14c)](getFrameworkVersion,_0x5386c8)}};continue;}break;}}static[a64_0x4f69aa(0x17c)](_0x250548,_0x642766){return _0x250548+':'+_0x642766;}static[a64_0x4f69aa(0x169)](){return process['pid']+':'+threadId;}static[a64_0x4f69aa(0x199)](_0x389b5a){const _0x438371=a64_0x4f69aa;if(_0x389b5a['testContextOptions']&&_0x389b5a[_0x438371(0x1c9)][_0x438371(0x11e)])return!![];return![];}static[a64_0x4f69aa(0x19c)](_0xc6012a){const _0x1b12fa=a64_0x4f69aa;if(_0xc6012a[_0x1b12fa(0x1c9)]&&_0xc6012a['testContextOptions']['skipSessionStatus'])return!![];return![];}static[a64_0x4f69aa(0xf4)](_0x88d96c){const _0x1c1e57=a64_0x4f69aa,_0x4a2a16=new RegExp(TestFrameworkConstants[_0x1c1e57(0x168)]);return _0x4a2a16[_0x1c1e57(0x15b)](_0x88d96c);}static[a64_0x4f69aa(0x1ca)](_0x1504eb,_0x107adb){const _0x5152d9=a64_0x4f69aa,_0xb4338f={};_0xb4338f[_0x5152d9(0x13a)]=function(_0x3694cf,_0x3819d3){return _0x3694cf!==_0x3819d3;},_0xb4338f['sDgiv']=function(_0xb8efc1,_0x5df86b){return _0xb8efc1===_0x5df86b;},_0xb4338f[_0x5152d9(0x191)]=_0x5152d9(0x12b);const _0x3413b2=_0xb4338f;for(const [_0x744b90,_0x376559]of Object[_0x5152d9(0x17e)](_0x107adb)){if(_0x3413b2['eQOxn'](_0x376559,null)&&_0x3413b2[_0x5152d9(0x13f)](typeof _0x376559,_0x3413b2[_0x5152d9(0x191)])&&!Array['isArray'](_0x376559))_0x1504eb[_0x744b90]=this[_0x5152d9(0x1ca)](_0x1504eb[_0x744b90]||{},_0x376559);else Array[_0x5152d9(0x178)](_0x376559)?_0x1504eb[_0x744b90]=(_0x1504eb[_0x744b90]||[])[_0x5152d9(0x12c)](_0x376559):_0x1504eb[_0x744b90]=_0x376559;}return _0x1504eb;}}module[a64_0x4f69aa(0x1a0)]=CLIUtils;