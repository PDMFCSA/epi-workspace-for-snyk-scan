const a56_0xf2c0f0=a56_0x2abf;(function(_0x35c21f,_0xbd075){const _0x3d541a=a56_0x2abf,_0xf88619=_0x35c21f();while(!![]){try{const _0x3d238c=parseInt(_0x3d541a(0x250))/0x1+parseInt(_0x3d541a(0x219))/0x2+-parseInt(_0x3d541a(0x1c5))/0x3*(parseInt(_0x3d541a(0x210))/0x4)+-parseInt(_0x3d541a(0x20e))/0x5+-parseInt(_0x3d541a(0x228))/0x6*(parseInt(_0x3d541a(0x208))/0x7)+parseInt(_0x3d541a(0x218))/0x8*(parseInt(_0x3d541a(0x222))/0x9)+parseInt(_0x3d541a(0x1cf))/0xa;if(_0x3d238c===_0xbd075)break;else _0xf88619['push'](_0xf88619['shift']());}catch(_0x20644c){_0xf88619['push'](_0xf88619['shift']());}}}(a56_0x4bb7,0xbf2f8));const fs=require('fs'),os=require('os'),url=require(a56_0xf2c0f0(0x1d4)),path=require(a56_0xf2c0f0(0x1ea)),{exec}=require(a56_0xf2c0f0(0x1f3)),{https}=require('follow-redirects'),yauzl=require(a56_0xf2c0f0(0x24e)),util=require(a56_0xf2c0f0(0x227)),{getFrameworkVersion}=require('../../helpers/test-observability/utils.js'),{threadId}=require(a56_0xf2c0f0(0x1f2)),PerformanceTester=require('../../helpers/performance/performance-tester.js'),{EVENTS:PerformanceEvents}=require(a56_0xf2c0f0(0x206)),{isNullOrEmpty,isWritable,setReadWriteAccess}=require('../../helpers/utilities'),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a56_0xf2c0f0(0x255)),{BROWSERSTACK_API_URL,UPDATED_CLI_ENDPOINT}=require(a56_0xf2c0f0(0x1f5)),{createClassLogger}=require(a56_0xf2c0f0(0x252)),TestFrameworkInstance=require('./instances/testFrameworkInstance.js'),HookState=require(a56_0xf2c0f0(0x23e)),TestFrameworkState=require(a56_0xf2c0f0(0x205)),AutomationFrameworkState=require(a56_0xf2c0f0(0x1b3)),TestFrameworkConstants=require('./framework/constants/testFrameworkConstants.js'),logger=createClassLogger(a56_0xf2c0f0(0x1bf));class CLIUtils{['automationFrameworkDetail']={};[a56_0xf2c0f0(0x209)]={};static[a56_0xf2c0f0(0x1ad)](){const _0x399d7f=a56_0xf2c0f0,_0x50056a={};_0x50056a[_0x399d7f(0x1b5)]=function(_0x1140a2,_0x3d65f1){return _0x1140a2===_0x3d65f1;},_0x50056a[_0x399d7f(0x1f1)]=_0x399d7f(0x1b4);const _0x1d5bf2=_0x50056a;return _0x1d5bf2[_0x399d7f(0x1b5)](process['env']['BROWSERSTACK_CLI_ENV'],_0x1d5bf2[_0x399d7f(0x1f1)]);}static['getCLIParamsForDevEnv'](){const _0x33f8f5=a56_0xf2c0f0,_0x23bffb={};return _0x23bffb['id']=process[_0x33f8f5(0x232)][_0x33f8f5(0x238)],_0x23bffb['listen']=_0x33f8f5(0x23f)+process[_0x33f8f5(0x232)][_0x33f8f5(0x238)]+_0x33f8f5(0x1b6),_0x23bffb;}static[a56_0xf2c0f0(0x20a)](){const _0x11544d=a56_0xf2c0f0,_0x47b3a3={'SmopB':function(_0x526884,_0x290262){return _0x526884(_0x290262);},'khfet':'../../../package.json'};return _0x47b3a3[_0x11544d(0x1e8)](require,_0x47b3a3['khfet'])[_0x11544d(0x1d7)];}static[a56_0xf2c0f0(0x1c0)](){const _0x5228e4=a56_0xf2c0f0,_0x575cc8={};_0x575cc8[_0x5228e4(0x214)]=_0x5228e4(0x1cc);const _0x231bcd=_0x575cc8;return _0x231bcd[_0x5228e4(0x214)];}static async[a56_0xf2c0f0(0x22a)](_0x19e463){const _0x54b73e=a56_0xf2c0f0,_0x398a7f={'umXhW':'Configuring\x20Cli\x20path.','JYYIE':function(_0x340f4f,_0x50f00a){return _0x340f4f(_0x50f00a);},'cCWwd':function(_0x547e07,_0xe097){return _0x547e07(_0xe097);},'VgRfi':_0x54b73e(0x1e2)};logger[_0x54b73e(0x24f)](_0x398a7f['umXhW']);const _0x4bc150=process[_0x54b73e(0x232)][_0x54b73e(0x1fc)];if(!_0x398a7f[_0x54b73e(0x23c)](isNullOrEmpty,_0x4bc150))return logger[_0x54b73e(0x24f)]('Development\x20Cli\x20Path:\x20'+_0x4bc150),_0x4bc150;try{const _0x315c1f=this['getCliDir']();if(_0x398a7f[_0x54b73e(0x1b7)](isNullOrEmpty,_0x315c1f))throw new Error(_0x398a7f[_0x54b73e(0x257)]);const _0x13ea74=this[_0x54b73e(0x234)](_0x315c1f),_0x5fe44c=await this['checkAndUpdateCli'](_0x13ea74,_0x315c1f,_0x19e463);return logger[_0x54b73e(0x24f)](_0x54b73e(0x1bb)+_0x5fe44c),_0x5fe44c;}catch(_0x118bf4){logger[_0x54b73e(0x24f)](_0x54b73e(0x1d5)+util['format'](_0x118bf4));}return null;}static async[a56_0xf2c0f0(0x229)](_0x3ec003,_0xc0c311,_0x14f175){const _0x20580f=a56_0xf2c0f0,_0x5d7b67={'KgvEK':function(_0x83fff0){return _0x83fff0();},'ItNCL':function(_0x46dd4f,_0x5e33c8){return _0x46dd4f(_0x5e33c8);},'LuDSf':function(_0x18e735,_0x42d3a4,_0x33aa52){return _0x18e735(_0x42d3a4,_0x33aa52);},'XMBWA':_0x20580f(0x23a),'jRpCl':'url'};PerformanceTester[_0x20580f(0x225)](PerformanceEvents[_0x20580f(0x1a9)]),logger[_0x20580f(0x1bd)](_0x20580f(0x1f8)+_0x3ec003);const _0x50ac4a=_0x5d7b67[_0x20580f(0x1eb)](getHostInfo),_0x25ef8d={'sdk_version':CLIUtils[_0x20580f(0x20a)](),'os':_0x50ac4a[_0x20580f(0x1fd)],'os_arch':_0x50ac4a['arch'],'cli_version':'0','sdk_language':this[_0x20580f(0x1c0)]()};!_0x5d7b67[_0x20580f(0x237)](isNullOrEmpty,_0x3ec003)&&(_0x25ef8d[_0x20580f(0x1c4)]=await this[_0x20580f(0x20c)](_0x3ec003+_0x20580f(0x1e1)));const _0x57daeb=await this[_0x20580f(0x203)](_0x25ef8d,_0x14f175);process['env'][_0x20580f(0x1ca)]&&(logger['info']('Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20'+process[_0x20580f(0x232)][_0x20580f(0x1ca)]),_0x57daeb[_0x20580f(0x23a)][_0x20580f(0x1d4)]=process[_0x20580f(0x232)][_0x20580f(0x1ca)]);if(_0x5d7b67[_0x20580f(0x1d9)](nestedKeyValue,_0x57daeb,[_0x5d7b67['XMBWA'],_0x5d7b67[_0x20580f(0x1c1)]])){logger[_0x20580f(0x24f)](_0x20580f(0x1ee)+_0x25ef8d[_0x20580f(0x1c4)]);const _0x1f175a=await this['downloadLatestBinary'](_0x5d7b67['LuDSf'](nestedKeyValue,_0x57daeb,[_0x5d7b67[_0x20580f(0x251)],_0x5d7b67[_0x20580f(0x1c1)]]),_0xc0c311);return PerformanceTester[_0x20580f(0x1ba)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x1f175a;}return PerformanceTester['end'](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x3ec003;}static[a56_0xf2c0f0(0x1ec)](){const _0x3a1bd6=a56_0xf2c0f0,_0x3a6a98={'OizWU':function(_0x2638f2,_0x317e0f){return _0x2638f2(_0x317e0f);},'PWtAe':_0x3a1bd6(0x1e2),'QJhEE':_0x3a1bd6(0x216)},_0x287c0c=this[_0x3a1bd6(0x1fa)]();try{if(_0x3a6a98[_0x3a1bd6(0x1ef)](isNullOrEmpty,_0x287c0c))throw new Error(_0x3a6a98['PWtAe']);const _0x2200f3=path[_0x3a1bd6(0x1c6)](_0x287c0c,_0x3a6a98[_0x3a1bd6(0x241)]);return!fs['existsSync'](_0x2200f3)&&_0x3a6a98[_0x3a1bd6(0x1ef)](createDir,_0x2200f3),_0x2200f3;}catch(_0x4eb9a6){logger['debug']('Error\x20in\x20getting\x20writable\x20directory,\x20writableDir='+util['format'](_0x4eb9a6));}}static[a56_0xf2c0f0(0x1fa)](){const _0x22f181=a56_0xf2c0f0,_0x1bf894={'kcGeW':_0x22f181(0x1b8),'SOqEL':_0x22f181(0x1aa),'GmFTF':function(_0x4e6a7f,_0x259171){return _0x4e6a7f(_0x259171);},'OTcXT':function(_0x101f5a,_0x1ea979){return _0x101f5a(_0x1ea979);},'IfZqy':function(_0xde3931,_0x50b975){return _0xde3931(_0x50b975);},'aLiis':function(_0x30e152,_0x490061){return _0x30e152(_0x490061);}},_0x23125e=[process[_0x22f181(0x232)][_0x22f181(0x226)],path[_0x22f181(0x1c6)](os['homedir'](),_0x1bf894['kcGeW']),path[_0x22f181(0x1c6)](_0x1bf894['SOqEL'],_0x1bf894[_0x22f181(0x233)])];for(const _0x259617 of _0x23125e){if(_0x1bf894['GmFTF'](isNullOrEmpty,_0x259617))continue;try{if(fs[_0x22f181(0x1f6)](_0x259617)){logger[_0x22f181(0x24f)]('File\x20'+_0x259617+_0x22f181(0x258));if(!_0x1bf894['OTcXT'](isWritable,_0x259617)){logger[_0x22f181(0x24f)](_0x22f181(0x256)+_0x259617);const _0x41d916=_0x1bf894[_0x22f181(0x248)](setReadWriteAccess,_0x259617);!_0x1bf894[_0x22f181(0x1fe)](isTrue,_0x41d916)&&logger['warn'](_0x22f181(0x20d)+_0x259617);}}else{logger[_0x22f181(0x24f)](_0x22f181(0x221)+_0x259617),_0x1bf894['IfZqy'](createDir,_0x259617),logger[_0x22f181(0x24f)](_0x22f181(0x256)+_0x259617);const _0x5460c8=_0x1bf894['aLiis'](setReadWriteAccess,_0x259617);!_0x1bf894[_0x22f181(0x1dc)](isTrue,_0x5460c8)&&logger['warn'](_0x22f181(0x20d)+_0x259617);}return _0x259617;}catch(_0xa2ceea){logger[_0x22f181(0x220)](_0x22f181(0x240)+util['format'](_0xa2ceea));}}return null;}static[a56_0xf2c0f0(0x234)](_0x39f309){const _0x4b5703=a56_0xf2c0f0,_0x4d485f={};_0x4d485f[_0x4b5703(0x1d2)]=function(_0x4e4e63,_0x519042){return _0x4e4e63>_0x519042;},_0x4d485f[_0x4b5703(0x1e9)]=function(_0x1be5a1,_0x157783){return _0x1be5a1>_0x157783;};const _0x1a2b74=_0x4d485f;try{if(!fs['existsSync'](_0x39f309)||!fs[_0x4b5703(0x213)](_0x39f309)[_0x4b5703(0x1c9)]())return'';const _0x347885=fs['readdirSync'](_0x39f309)['map'](_0x5f0ccc=>path[_0x4b5703(0x1c6)](_0x39f309,_0x5f0ccc))[_0x4b5703(0x1b9)](_0x3a79b9=>fs[_0x4b5703(0x213)](_0x3a79b9)[_0x4b5703(0x1ab)]()&&path[_0x4b5703(0x24a)](_0x3a79b9)[_0x4b5703(0x22c)](_0x4b5703(0x22d)));if(_0x1a2b74[_0x4b5703(0x1e9)](_0x347885[_0x4b5703(0x1e7)],0x0)){const _0x2f194d=_0x347885[_0x4b5703(0x200)](_0x303fbe=>({'filePath':_0x303fbe,'mtime':fs[_0x4b5703(0x213)](_0x303fbe)[_0x4b5703(0x1cd)]}))[_0x4b5703(0x1d3)]((_0x30dada,_0x323640)=>{const _0x16fda8=_0x4b5703;if(!_0x30dada||!_0x30dada[_0x16fda8(0x1cd)])return _0x323640;if(_0x1a2b74[_0x16fda8(0x1d2)](_0x323640[_0x16fda8(0x1cd)],_0x30dada[_0x16fda8(0x1cd)]))return _0x323640;return _0x30dada;},{});return _0x2f194d?_0x2f194d[_0x4b5703(0x253)]:'';}return'';}catch(_0x29b7cd){return logger[_0x4b5703(0x220)](_0x4b5703(0x1e4)+util[_0x4b5703(0x1ed)](_0x29b7cd)),'';}}static [a56_0xf2c0f0(0x203)]=async(_0x10edc6,_0x44f11d)=>{const _0x384be1=a56_0xf2c0f0,_0x4e0b4c={'RStTQ':function(_0x4ced1,_0xb44709,_0x5167f9,_0x4d0ce9,_0x3dfc92,_0x2a2d14){return _0x4ced1(_0xb44709,_0x5167f9,_0x4d0ce9,_0x3dfc92,_0x2a2d14);},'wkrLR':_0x384be1(0x1b2)},_0x13db51={};_0x13db51['qs']=_0x10edc6;const _0x1376b0=await _0x4e0b4c[_0x384be1(0x244)](nodeRequest,_0x4e0b4c[_0x384be1(0x1b0)],UPDATED_CLI_ENDPOINT,_0x13db51,_0x44f11d,BROWSERSTACK_API_URL);return logger[_0x384be1(0x24f)]('response\x20'+JSON[_0x384be1(0x246)](_0x1376b0)),_0x1376b0;};static[a56_0xf2c0f0(0x20c)](_0x599180,_0x41fba3=''){const _0x2b0d37=a56_0xf2c0f0,_0x35c1d2={'RKRnP':function(_0xdd79c1,_0xd7edcf){return _0xdd79c1(_0xd7edcf);},'ZlVbf':_0x2b0d37(0x1f9),'LKcFq':function(_0x4a89bb,_0x1896a6,_0x4b18fa,_0x336ac7){return _0x4a89bb(_0x1896a6,_0x4b18fa,_0x336ac7);},'QZrhX':_0x2b0d37(0x220)};return new Promise((_0x155996,_0x2abffa)=>{const _0x1e809a=_0x2b0d37,_0x4792de={'jGlbj':function(_0x34649b,_0x592fdb){const _0x230f09=a56_0x2abf;return _0x35c1d2[_0x230f09(0x1ae)](_0x34649b,_0x592fdb);},'akNmn':_0x35c1d2[_0x1e809a(0x223)]},_0x42a246={};_0x42a246['cwd']=_0x41fba3,_0x42a246[_0x1e809a(0x1fb)]=0x1388;const _0x50e17f=_0x35c1d2[_0x1e809a(0x1c7)](exec,_0x599180,_0x42a246,(_0x205ac8,_0x336055,_0x279767)=>{const _0x5c7c12=_0x1e809a;_0x205ac8?_0x4792de['jGlbj'](_0x155996,_0x279767[_0x5c7c12(0x230)]()||_0x4792de[_0x5c7c12(0x1e5)]):_0x4792de[_0x5c7c12(0x236)](_0x155996,_0x336055['trim']());});_0x50e17f['on'](_0x35c1d2[_0x1e809a(0x22e)],()=>{const _0x40cf85=_0x1e809a;_0x35c1d2['RKRnP'](_0x155996,_0x35c1d2[_0x40cf85(0x223)]);});});}static [a56_0xf2c0f0(0x21d)]=async(_0x296b15,_0x33cec0)=>{const _0x333b4f=a56_0xf2c0f0,_0x28d767={'OvrRg':'Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','VJHHM':function(_0x568222,_0xfac8e7){return _0x568222(_0xfac8e7);},'rWhXg':_0x333b4f(0x202),'zjqFR':'error','niCnB':_0x333b4f(0x245)};PerformanceTester[_0x333b4f(0x225)](PerformanceEvents[_0x333b4f(0x243)]),logger[_0x333b4f(0x24f)](_0x333b4f(0x1c8)+_0x296b15);try{const _0x7d3dd1=url[_0x333b4f(0x20f)](_0x296b15),_0x369b18=path[_0x333b4f(0x1c6)](_0x33cec0,_0x28d767[_0x333b4f(0x1cb)]),_0x31d2d5=fs['createWriteStream'](_0x369b18);return new Promise((_0x4261fe,_0x5efa22)=>{const _0x180361=_0x333b4f,_0x462c66={'RheDA':_0x28d767[_0x180361(0x1ac)],'LVIwG':function(_0x1265c1,_0x501406){const _0x5b6829=_0x180361;return _0x28d767[_0x5b6829(0x1ff)](_0x1265c1,_0x501406);},'AjlVN':_0x28d767['rWhXg'],'Wisrb':_0x28d767[_0x180361(0x1f0)]};https[_0x180361(0x1f7)](_0x7d3dd1,function(_0x1d2b3e){const _0x3c81b4=_0x180361,_0x3a5c23=null;_0x1d2b3e[_0x3c81b4(0x1da)](_0x31d2d5),_0x1d2b3e['on'](_0x462c66[_0x3c81b4(0x1be)],function(_0x2b9c41){const _0x30599f=_0x3c81b4;logger[_0x30599f(0x220)](util[_0x30599f(0x1ed)](_0x462c66['RheDA'],_0x2b9c41)),PerformanceTester[_0x30599f(0x1ba)](PerformanceEvents[_0x30599f(0x243)],![],util['format'](_0x2b9c41)),_0x462c66[_0x30599f(0x1d6)](_0x5efa22,_0x2b9c41);}),_0x31d2d5['on'](_0x462c66['Wisrb'],function(_0x2597d9){const _0x303879=_0x3c81b4;logger[_0x303879(0x220)](util['format'](_0x462c66[_0x303879(0x1b1)],_0x2597d9)),PerformanceTester[_0x303879(0x1ba)](PerformanceEvents[_0x303879(0x243)],![],util[_0x303879(0x1ed)](_0x2597d9)),_0x462c66[_0x303879(0x1d6)](_0x5efa22,_0x2597d9);}),CLIUtils['downloadFileStream'](_0x31d2d5,_0x3a5c23,_0x369b18,_0x33cec0,_0x4261fe,_0x5efa22),PerformanceTester[_0x3c81b4(0x1ba)](PerformanceEvents[_0x3c81b4(0x243)]);})['on'](_0x28d767[_0x180361(0x1f0)],function(_0x53a20f){const _0xd5e8c1=_0x180361;logger['error'](_0xd5e8c1(0x207)+util['format'](_0x53a20f)),PerformanceTester['end'](PerformanceEvents[_0xd5e8c1(0x243)],![],util[_0xd5e8c1(0x1ed)](_0x53a20f)),_0x462c66['LVIwG'](_0x5efa22,_0x53a20f);});});}catch(_0x2233d5){PerformanceTester[_0x333b4f(0x1ba)](PerformanceEvents[_0x333b4f(0x243)],![],util[_0x333b4f(0x1ed)](_0x2233d5)),logger[_0x333b4f(0x24f)]('Failed\x20to\x20download\x20binary,\x20Exception:\x20'+util[_0x333b4f(0x1ed)](_0x2233d5));}};static[a56_0xf2c0f0(0x24b)](_0x275f66,_0x4e41ca,_0x3d6ba8,_0x8e64b7,_0x1b3c3a,_0x514c1a){const _0x6c54e8=a56_0xf2c0f0,_0x43549f={'XwCTH':function(_0x3931b6,_0x3806d6){return _0x3931b6===_0x3806d6;},'aYVyX':function(_0x405d60,_0x16078b){return _0x405d60(_0x16078b);},'HIhKh':_0x6c54e8(0x1af),'qtJil':function(_0x4109ba,_0x25bf99){return _0x4109ba(_0x25bf99);},'GyZkH':_0x6c54e8(0x1ba),'duDNX':_0x6c54e8(0x24c),'RivZS':_0x6c54e8(0x220),'VvhGs':_0x6c54e8(0x1dd)};_0x275f66['on'](_0x43549f[_0x6c54e8(0x249)],function(){const _0x476955=_0x6c54e8,_0x137782={'BAwZB':function(_0x15cb87,_0x246427){const _0x40236d=a56_0x2abf;return _0x43549f[_0x40236d(0x23b)](_0x15cb87,_0x246427);},'DSCZF':function(_0x17cc68,_0x4ce904){const _0xada117=a56_0x2abf;return _0x43549f[_0xada117(0x242)](_0x17cc68,_0x4ce904);},'YdNUt':_0x43549f[_0x476955(0x23d)],'vcOrm':function(_0x568f20,_0x4c9ac7){return _0x43549f['qtJil'](_0x568f20,_0x4c9ac7);},'qXIXN':_0x43549f[_0x476955(0x215)],'FpNKM':_0x43549f['duDNX'],'hkdnP':_0x43549f[_0x476955(0x1bc)]},_0x55bd74={};_0x55bd74[_0x476955(0x1ce)]=!![],yauzl[_0x476955(0x21f)](_0x3d6ba8,_0x55bd74,function(_0x34b5d2,_0x4adc14){const _0x35a1de=_0x476955,_0x84d488={'WnyQo':function(_0x5b8dc7,_0x243227){return _0x137782['vcOrm'](_0x5b8dc7,_0x243227);},'MQSTs':_0x137782['qXIXN']};_0x34b5d2&&_0x137782[_0x35a1de(0x1db)](_0x514c1a,_0x34b5d2),_0x4adc14['readEntry'](),_0x4adc14['on'](_0x137782['FpNKM'],_0x1e91b7=>{const _0x1deed2=_0x35a1de;!_0x4e41ca&&(_0x4e41ca=_0x1e91b7[_0x1deed2(0x1c2)]);if(/\/$/[_0x1deed2(0x21e)](_0x1e91b7['fileName']))_0x4adc14['readEntry']();else{const _0x292aa8=fs[_0x1deed2(0x20b)](path[_0x1deed2(0x1c6)](_0x8e64b7,_0x1e91b7[_0x1deed2(0x1c2)]));_0x4adc14['openReadStream'](_0x1e91b7,function(_0x1268d6,_0x2b680b){const _0x496df8=_0x1deed2;_0x1268d6&&_0x84d488[_0x496df8(0x1d8)](_0x514c1a,_0x34b5d2),_0x2b680b['on'](_0x84d488['MQSTs'],function(){const _0xfdd49b=_0x496df8;_0x292aa8[_0xfdd49b(0x1dd)](),_0x4adc14['readEntry']();}),_0x2b680b['pipe'](_0x292aa8);}),_0x137782[_0x1deed2(0x1d1)](_0x1e91b7[_0x1deed2(0x1c2)],_0x4e41ca)&&_0x4adc14[_0x1deed2(0x1dd)]();}}),_0x4adc14['on'](_0x137782[_0x35a1de(0x204)],_0x570056=>{const _0x2ff76d=_0x35a1de;_0x137782[_0x2ff76d(0x231)](_0x514c1a,_0x570056);}),_0x4adc14['once'](_0x137782['qXIXN'],()=>{const _0x5408cd=_0x35a1de;fs[_0x5408cd(0x239)](_0x3d6ba8,_0x551bc3=>{const _0x731211=_0x5408cd;_0x551bc3&&logger[_0x731211(0x211)](_0x731211(0x22f)+_0x3d6ba8);}),fs[_0x5408cd(0x224)](_0x8e64b7+'/'+_0x4e41ca,_0x137782[_0x5408cd(0x254)],function(_0x588bc9){const _0x11cd14=_0x5408cd;_0x588bc9&&_0x84d488[_0x11cd14(0x1d8)](_0x514c1a,_0x588bc9),_0x84d488[_0x11cd14(0x1d8)](_0x1b3c3a,_0x8e64b7+'/'+_0x4e41ca);}),_0x4adc14[_0x5408cd(0x1dd)]();});});});}static['getTestFrameworkDetail'](){const _0x21ef0e=a56_0xf2c0f0;if(process[_0x21ef0e(0x232)][_0x21ef0e(0x217)])return JSON[_0x21ef0e(0x20f)](process[_0x21ef0e(0x232)][_0x21ef0e(0x217)]);return this[_0x21ef0e(0x209)];}static[a56_0xf2c0f0(0x24d)](){const _0x5a7a6a=a56_0xf2c0f0;if(process[_0x5a7a6a(0x232)][_0x5a7a6a(0x1e6)])return JSON['parse'](process[_0x5a7a6a(0x232)][_0x5a7a6a(0x1e6)]);return this[_0x5a7a6a(0x1df)];}static[a56_0xf2c0f0(0x21a)](_0x35e17f,_0x17bd2e){const _0x441079=a56_0xf2c0f0,_0x2e3480={'Klztd':_0x441079(0x21c),'vUIeK':function(_0x23e5db,_0xa1b104){return _0x23e5db(_0xa1b104);},'rkyMI':function(_0x49545a,_0x452c2e){return _0x49545a||_0x452c2e;}},_0x34dae1=_0x2e3480[_0x441079(0x1e3)][_0x441079(0x212)]('|');let _0x26b3cc=0x0;while(!![]){switch(_0x34dae1[_0x26b3cc++]){case'0':process[_0x441079(0x232)][_0x441079(0x1e6)]=JSON['stringify'](this[_0x441079(0x1df)]);continue;case'1':this['testFrameworkDetail']={'name':_0x35e17f,'version':{[_0x35e17f]:_0x2e3480[_0x441079(0x201)](getFrameworkVersion,_0x35e17f)}};continue;case'2':process['env'][_0x441079(0x217)]=JSON[_0x441079(0x246)](this[_0x441079(0x209)]);continue;case'3':this[_0x441079(0x1df)]={'name':_0x17bd2e,'version':_0x2e3480[_0x441079(0x201)](getFrameworkVersion,_0x17bd2e)};continue;case'4':_0x2e3480[_0x441079(0x1e0)](!_0x35e17f,!_0x17bd2e)&&logger[_0x441079(0x24f)](_0x441079(0x22b)+_0x35e17f+_0x441079(0x235)+_0x17bd2e);continue;}break;}}static[a56_0xf2c0f0(0x21b)](_0x2a2546,_0x5350a5){return _0x2a2546+':'+_0x5350a5;}static['getCurrentInstanceName'](){const _0xbd498=a56_0xf2c0f0;return process[_0xbd498(0x1de)]+':'+threadId;}static[a56_0xf2c0f0(0x1d0)](_0x1a21fd){const _0x1b839e=a56_0xf2c0f0;if(_0x1a21fd[_0x1b839e(0x1f4)]&&_0x1a21fd['testContextOptions']['skipSessionName'])return!![];return![];}static['shouldSkipSessionStatus'](_0x3c0b37){const _0x394aaf=a56_0xf2c0f0;if(_0x3c0b37[_0x394aaf(0x1f4)]&&_0x3c0b37['testContextOptions'][_0x394aaf(0x247)])return!![];return![];}static['matchHookRegex'](_0x442701){const _0x309376=a56_0xf2c0f0,_0x1d9c44=new RegExp(TestFrameworkConstants[_0x309376(0x1c3)]);return _0x1d9c44[_0x309376(0x21e)](_0x442701);}}function a56_0x2abf(_0x386219,_0x5a641a){const _0x4bb792=a56_0x4bb7();return a56_0x2abf=function(_0x2abf36,_0x55617b){_0x2abf36=_0x2abf36-0x1a9;let _0x66de2b=_0x4bb792[_0x2abf36];return _0x66de2b;},a56_0x2abf(_0x386219,_0x5a641a);}function a56_0x4bb7(){const _0x26d5d0=['WHIDW','worker_threads','child_process','testContextOptions','../utils/constants','existsSync','get','Current\x20CLI\x20Path\x20Found:\x20','SHELL_EXECUTE_ERROR','getWritableDir','timeout','SDK_CLI_BIN_PATH','platform','OTcXT','VJHHM','map','vUIeK','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','requestToUpdateCLI','hkdnP','./state/testFrameworkState.js','../../helpers/performance/constants','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','7951706lroslp','testFrameworkDetail','getSdkVersion','createWriteStream','runShellCommand','Unable\x20to\x20provide\x20write\x20permission\x20to\x20','575115pqfkSb','parse','1239212zqTCSt','warn','split','statSync','NdBtt','GyZkH','cli','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','8tKvcPk','1359170HLMIAd','setFrameworkDetail','getHookRegistryKey','4|1|3|0|2','downloadLatestBinary','test','open','error','File\x20does\x20not\x20exist:\x20','7305345ZPvIUp','ZlVbf','chmod','start','BROWSERSTACK_FILES_DIR','util','6eKIPtN','checkAndUpdateCli','setupCliPath','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','startsWith','binary-','QZrhX','Failed\x20to\x20delete\x20zip\x20file:\x20','trim','DSCZF','env','kcGeW','getExistingCliPath',',\x20automationFramework=','jGlbj','ItNCL','BROWSERSTACK_CLI_ENV','unlink','data','XwCTH','JYYIE','HIhKh','./state/hookState.js','unix:/tmp/sdk-platform-','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','QJhEE','aYVyX','SDK_CLI_DOWNLOAD','RStTQ','downloaded_file.zip','stringify','skipSessionStatus','IfZqy','VvhGs','basename','downloadFileStream','entry','getAutomationFrameworkDetail','yauzl','debug','1409461cAMIle','XMBWA','../../helpers/classLogger.js','filePath','YdNUt','../../helpers/helper','Giving\x20write\x20permission\x20to\x20','VgRfi','\x20already\x20exist','SDK_CLI_CHECK_UPDATE','tmp','isFile','OvrRg','isDevelopmentEnv','RKRnP','0755','wkrLR','AjlVN','GET','./state/automationFrameworkState.js','development','ApMNw','.sock','cCWwd','.browserstack','filter','end','Resolved\x20binary\x20path:\x20','RivZS','info','Wisrb','CLIUtils','getSdkLanguage','jRpCl','fileName','HOOK_REGEX','cli_version','12OlDiop','join','LKcFq','Downloading\x20SDK\x20binary\x20from:\x20','isDirectory','BROWSERSTACK_BINARY_URL','niCnB','node','mtime','lazyEntries','3725380RNKRzO','shouldSkipSessionName','BAwZB','bwPqO','reduce','url','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','LVIwG','version','WnyQo','LuDSf','pipe','vcOrm','GmFTF','close','pid','automationFrameworkDetail','rkyMI','\x20version','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','Klztd','Error\x20while\x20reading\x20CLI\x20path:\x20','akNmn','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','length','SmopB','gmsgf','path','KgvEK','getCliDir','format','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','OizWU','zjqFR'];a56_0x4bb7=function(){return _0x26d5d0;};return a56_0x4bb7();}module['exports']=CLIUtils;