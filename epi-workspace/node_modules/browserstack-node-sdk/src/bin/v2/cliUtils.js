const a64_0x5e18d4=a64_0x5c29;(function(_0x24d667,_0x1f77f5){const _0x2d0df7=a64_0x5c29,_0x103ded=_0x24d667();while(!![]){try{const _0x3a87fd=parseInt(_0x2d0df7(0xc5))/0x1*(-parseInt(_0x2d0df7(0xec))/0x2)+-parseInt(_0x2d0df7(0x15a))/0x3+-parseInt(_0x2d0df7(0xb8))/0x4*(-parseInt(_0x2d0df7(0x192))/0x5)+-parseInt(_0x2d0df7(0xe0))/0x6*(parseInt(_0x2d0df7(0xd9))/0x7)+parseInt(_0x2d0df7(0x142))/0x8*(parseInt(_0x2d0df7(0x118))/0x9)+-parseInt(_0x2d0df7(0xd3))/0xa*(-parseInt(_0x2d0df7(0x11a))/0xb)+parseInt(_0x2d0df7(0x17b))/0xc*(-parseInt(_0x2d0df7(0x127))/0xd);if(_0x3a87fd===_0x1f77f5)break;else _0x103ded['push'](_0x103ded['shift']());}catch(_0x546155){_0x103ded['push'](_0x103ded['shift']());}}}(a64_0x4acb,0xa19cf));const fs=require('fs'),os=require('os'),url=require('url'),path=require(a64_0x5e18d4(0x177)),{exec}=require(a64_0x5e18d4(0x163)),{https}=require('follow-redirects'),yauzl=require(a64_0x5e18d4(0xd2)),util=require('util'),{getFrameworkVersion}=require(a64_0x5e18d4(0xe4)),{threadId}=require('worker_threads'),PerformanceTester=require(a64_0x5e18d4(0x18c)),{EVENTS:PerformanceEvents}=require(a64_0x5e18d4(0x14e)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require(a64_0x5e18d4(0xef)),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a64_0x5e18d4(0xd0)),{UPDATED_CLI_ENDPOINT,BINARY_BUSY_ERROR_CODES}=require(a64_0x5e18d4(0x102)),{createClassLogger}=require(a64_0x5e18d4(0x167)),TestFrameworkInstance=require(a64_0x5e18d4(0x16e)),HookState=require(a64_0x5e18d4(0x123)),TestFrameworkState=require(a64_0x5e18d4(0x117)),AutomationFrameworkState=require(a64_0x5e18d4(0x122)),TestFrameworkConstants=require(a64_0x5e18d4(0x113)),logger=createClassLogger(a64_0x5e18d4(0xf5)),{getBStackAPIUrl}=require(a64_0x5e18d4(0xba));class CLIUtils{[a64_0x5e18d4(0xc0)]={};['testFrameworkDetail']={};static[a64_0x5e18d4(0x13c)](){const _0x5bbd94=a64_0x5e18d4,_0x39de73={};_0x39de73[_0x5bbd94(0xe6)]=function(_0x2fc6b4,_0x56c115){return _0x2fc6b4===_0x56c115;},_0x39de73[_0x5bbd94(0x135)]=_0x5bbd94(0xed);const _0xf46c6d=_0x39de73;return _0xf46c6d['MyIPH'](process[_0x5bbd94(0x11c)]['BROWSERSTACK_CLI_ENV'],_0xf46c6d[_0x5bbd94(0x135)]);}static[a64_0x5e18d4(0x170)](){const _0x9836d0=a64_0x5e18d4,_0x21ae03={};return _0x21ae03['id']=process['env']['BROWSERSTACK_CLI_ENV'],_0x21ae03[_0x9836d0(0xe8)]=_0x9836d0(0x149)+process[_0x9836d0(0x11c)][_0x9836d0(0xfc)]+_0x9836d0(0x13a),_0x21ae03;}static[a64_0x5e18d4(0xcf)](){const _0x4be59e=a64_0x5e18d4,_0x50d158={'KRwqB':function(_0x510774,_0x369a84){return _0x510774(_0x369a84);},'xKZIm':_0x4be59e(0xe3)};return _0x50d158['KRwqB'](require,_0x50d158[_0x4be59e(0xfb)])[_0x4be59e(0x178)];}static[a64_0x5e18d4(0x175)](){const _0x491143=a64_0x5e18d4,_0x22641c={};_0x22641c['UEnvZ']=_0x491143(0x130);const _0x117c16=_0x22641c;return _0x117c16[_0x491143(0x108)];}static async[a64_0x5e18d4(0xca)](_0x42b7a9){const _0x13c3fa=a64_0x5e18d4,_0x17cee6={'rvKQr':'Configuring\x20Cli\x20path.','lvoDH':function(_0x27fe7c,_0x3615d9){return _0x27fe7c(_0x3615d9);},'LOboW':function(_0x46c3b7,_0x4ee41a){return _0x46c3b7(_0x4ee41a);},'ogizR':_0x13c3fa(0x153)};logger[_0x13c3fa(0x109)](_0x17cee6['rvKQr']);const _0x5b802a=process[_0x13c3fa(0x11c)]['SDK_CLI_BIN_PATH'];if(!_0x17cee6[_0x13c3fa(0xf8)](isNullOrEmpty,_0x5b802a))return logger['debug'](_0x13c3fa(0xbd)+_0x5b802a),_0x5b802a;try{const _0x2540fa=this[_0x13c3fa(0x132)]();if(_0x17cee6[_0x13c3fa(0x105)](isNullOrEmpty,_0x2540fa))throw new Error(_0x17cee6[_0x13c3fa(0x11d)]);const _0x15465c=this[_0x13c3fa(0x14c)](_0x2540fa),_0x3ba048=await this[_0x13c3fa(0x17f)](_0x15465c,_0x2540fa,_0x42b7a9);return logger[_0x13c3fa(0x109)](_0x13c3fa(0x16a)+_0x3ba048),_0x3ba048;}catch(_0x5ae157){logger['debug'](_0x13c3fa(0x11f)+util[_0x13c3fa(0x10e)](_0x5ae157));}return null;}static async[a64_0x5e18d4(0x17f)](_0x4a2c62,_0x4117ba,_0x383c0b){const _0x2470e2=a64_0x5e18d4,_0x327cf5={'uROXj':function(_0x55b555){return _0x55b555();},'ZWeiC':function(_0x4e95ae,_0x249304){return _0x4e95ae(_0x249304);},'kPFUD':function(_0x2b7fd3,_0x46dfb0,_0x2fa32f){return _0x2b7fd3(_0x46dfb0,_0x2fa32f);},'QuNfn':_0x2470e2(0x10c),'BcXUC':_0x2470e2(0x164),'KNUUY':function(_0x38a63d,_0x178f7b){return _0x38a63d(_0x178f7b);},'GfcCc':function(_0x4616db,_0x55a545,_0xa11a63){return _0x4616db(_0x55a545,_0xa11a63);}};PerformanceTester['start'](PerformanceEvents[_0x2470e2(0x12a)]),logger['info'](_0x2470e2(0x14a)+_0x4a2c62);const _0x3dcad9=_0x327cf5['uROXj'](getHostInfo),_0x3f2f43={'sdk_version':CLIUtils[_0x2470e2(0xcf)](),'os':_0x3dcad9[_0x2470e2(0x16b)],'os_arch':_0x3dcad9[_0x2470e2(0x188)],'cli_version':'0','sdk_language':this[_0x2470e2(0x175)]()};!_0x327cf5[_0x2470e2(0xc2)](isNullOrEmpty,_0x4a2c62)&&(_0x3f2f43['cli_version']=await this[_0x2470e2(0xce)](_0x4a2c62+'\x20version'));const _0x28af62=await this[_0x2470e2(0xd7)](_0x3f2f43,_0x383c0b);process['env'][_0x2470e2(0xf9)]&&(logger[_0x2470e2(0xf2)](_0x2470e2(0x18a)+process[_0x2470e2(0x11c)][_0x2470e2(0xf9)]),_0x28af62[_0x2470e2(0x10c)][_0x2470e2(0x164)]=process[_0x2470e2(0x11c)][_0x2470e2(0xf9)]);if(_0x327cf5[_0x2470e2(0x14d)](nestedKeyValue,_0x28af62,[_0x327cf5[_0x2470e2(0x184)],_0x327cf5[_0x2470e2(0x183)]])){logger[_0x2470e2(0x109)](_0x2470e2(0xda)+_0x3f2f43[_0x2470e2(0xfe)]);if(!_0x327cf5[_0x2470e2(0x17d)](isNullOrEmpty,_0x4a2c62)&&this[_0x2470e2(0x181)](_0x4a2c62))return logger[_0x2470e2(0x138)](_0x2470e2(0xd8)+_0x4a2c62),PerformanceTester[_0x2470e2(0x10a)](PerformanceEvents[_0x2470e2(0x12a)]),_0x4a2c62;const _0x229512=await this[_0x2470e2(0x148)](_0x327cf5['GfcCc'](nestedKeyValue,_0x28af62,[_0x327cf5['QuNfn'],_0x327cf5['BcXUC']]),_0x4117ba);return PerformanceTester[_0x2470e2(0x10a)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x229512;}return PerformanceTester['end'](PerformanceEvents[_0x2470e2(0x12a)]),_0x4a2c62;}static['getCliDir'](){const _0x4c676b=a64_0x5e18d4,_0x42ae64={'CsJpf':function(_0x296ab9,_0x423f92){return _0x296ab9(_0x423f92);},'vtvyF':_0x4c676b(0x153),'YQNvM':_0x4c676b(0x101)},_0x4f175e=this[_0x4c676b(0x158)]();try{if(_0x42ae64['CsJpf'](isNullOrEmpty,_0x4f175e))throw new Error(_0x42ae64['vtvyF']);const _0x43dcb8=path[_0x4c676b(0x159)](_0x4f175e,_0x42ae64[_0x4c676b(0x12f)]);return!fs['existsSync'](_0x43dcb8)&&_0x42ae64[_0x4c676b(0x176)](createDir,_0x43dcb8),_0x43dcb8;}catch(_0x4706c4){logger[_0x4c676b(0x109)](_0x4c676b(0x136)+util[_0x4c676b(0x10e)](_0x4706c4));}}static[a64_0x5e18d4(0x158)](){const _0x5ae628=a64_0x5e18d4,_0xf8c224={'cphyg':_0x5ae628(0xea),'YFegP':function(_0x295f05,_0x37c3ae){return _0x295f05(_0x37c3ae);},'ZqMSS':function(_0x20d12f,_0x204039){return _0x20d12f(_0x204039);},'mPyVQ':function(_0x3f897f,_0xaa43e1){return _0x3f897f(_0xaa43e1);},'XPKcq':function(_0x4d577c,_0x12835d){return _0x4d577c(_0x12835d);},'uUUZv':function(_0x5b421e,_0x5c46a8){return _0x5b421e(_0x5c46a8);}},_0x318122=[process['env'][_0x5ae628(0x134)],path[_0x5ae628(0x159)](os[_0x5ae628(0x161)](),_0xf8c224[_0x5ae628(0xc4)]),path['join'](os[_0x5ae628(0xc9)](),_0xf8c224['cphyg'])];for(const _0x34ebab of _0x318122){if(_0xf8c224[_0x5ae628(0x12c)](isNullOrEmpty,_0x34ebab))continue;try{if(fs[_0x5ae628(0xe9)](_0x34ebab)){logger[_0x5ae628(0x109)]('Folder\x20'+_0x34ebab+'\x20already\x20exists');if(!_0xf8c224[_0x5ae628(0x12c)](isModifiable,_0x34ebab)){logger[_0x5ae628(0x109)](_0x5ae628(0x141)+_0x34ebab);const _0x304c06=_0xf8c224[_0x5ae628(0x165)](setReadWriteExecuteAccess,_0x34ebab);if(!_0xf8c224[_0x5ae628(0xf3)](isTrue,_0x304c06)){logger[_0x5ae628(0x138)](_0x5ae628(0x171)+_0x34ebab);continue;}}}else{logger[_0x5ae628(0x109)](_0x5ae628(0x155)+_0x34ebab),_0xf8c224[_0x5ae628(0x14f)](createDir,_0x34ebab),logger[_0x5ae628(0x109)](_0x5ae628(0x141)+_0x34ebab);const _0x27037d=_0xf8c224[_0x5ae628(0x12c)](setReadWriteExecuteAccess,_0x34ebab);!_0xf8c224[_0x5ae628(0x114)](isTrue,_0x27037d)&&logger[_0x5ae628(0x138)](_0x5ae628(0x171)+_0x34ebab);}return _0x34ebab;}catch(_0x3c5139){logger[_0x5ae628(0x174)](_0x5ae628(0x128)+util[_0x5ae628(0x10e)](_0x3c5139));}}return null;}static[a64_0x5e18d4(0x14c)](_0x57dd98){const _0x6cceeb=a64_0x5e18d4,_0x4c35ee={};_0x4c35ee['UngJc']=function(_0x36a966,_0x249ede){return _0x36a966>_0x249ede;},_0x4c35ee[_0x6cceeb(0x12b)]=function(_0xf77bc,_0x135d65){return _0xf77bc>_0x135d65;};const _0x10445e=_0x4c35ee;try{if(!fs[_0x6cceeb(0xe9)](_0x57dd98)||!fs[_0x6cceeb(0xee)](_0x57dd98)['isDirectory']())return'';const _0x2b781f=fs[_0x6cceeb(0x13f)](_0x57dd98)[_0x6cceeb(0x179)](_0x4a9fc4=>path[_0x6cceeb(0x159)](_0x57dd98,_0x4a9fc4))[_0x6cceeb(0xd4)](_0x52c817=>fs[_0x6cceeb(0xee)](_0x52c817)['isFile']()&&path[_0x6cceeb(0x193)](_0x52c817)[_0x6cceeb(0x185)](_0x6cceeb(0x119)));if(_0x10445e['ZyprD'](_0x2b781f[_0x6cceeb(0xf1)],0x0)){const _0x3d642e=_0x2b781f[_0x6cceeb(0x179)](_0x852cc2=>({'filePath':_0x852cc2,'mtime':fs[_0x6cceeb(0xee)](_0x852cc2)['mtime']}))[_0x6cceeb(0x16c)]((_0x187725,_0x4f832c)=>{const _0x2b9e45=_0x6cceeb;if(!_0x187725||!_0x187725['mtime'])return _0x4f832c;if(_0x10445e[_0x2b9e45(0xfd)](_0x4f832c[_0x2b9e45(0x13e)],_0x187725['mtime']))return _0x4f832c;return _0x187725;},{});return _0x3d642e?_0x3d642e['filePath']:'';}return'';}catch(_0x1d8c85){return logger['error'](_0x6cceeb(0xc3)+util['format'](_0x1d8c85)),'';}}static [a64_0x5e18d4(0xd7)]=async(_0x3e4b30,_0x206d2a)=>{const _0x500447=a64_0x5e18d4,_0x1cc065={'udlxS':function(_0x14f38c,_0x24a78c,_0x1cd52f,_0x54900c,_0x37b030){return _0x14f38c(_0x24a78c,_0x1cd52f,_0x54900c,_0x37b030);},'JdCNh':_0x500447(0x169)},_0x484858={};_0x484858['qs']=_0x3e4b30;const _0x4d08ce=await _0x1cc065[_0x500447(0x103)](nodeRequest,_0x1cc065[_0x500447(0x154)],UPDATED_CLI_ENDPOINT,_0x484858,_0x206d2a);return logger[_0x500447(0x109)]('response\x20'+JSON[_0x500447(0x133)](_0x4d08ce)),_0x4d08ce;};static['isBinaryBusy'](_0x2ed4e4){const _0x2362ef=a64_0x5e18d4;try{const _0x49ce6d=fs[_0x2362ef(0x166)](_0x2ed4e4,'r+');return fs[_0x2362ef(0x15f)](_0x49ce6d),![];}catch(_0x2fc3c2){if(BINARY_BUSY_ERROR_CODES[_0x2362ef(0x140)](_0x2fc3c2[_0x2362ef(0x110)]))return logger[_0x2362ef(0x109)](_0x2362ef(0x168)+_0x2ed4e4),!![];return logger[_0x2362ef(0x109)](_0x2362ef(0x143)+_0x2fc3c2[_0x2362ef(0x12d)]),![];}}static['runShellCommand'](_0x23852d,_0x4c68c1=''){const _0x42c0dd=a64_0x5e18d4,_0xf9ea2b={'PDxBt':_0x42c0dd(0x178),'mitJH':function(_0x50606c,_0x42745d){return _0x50606c(_0x42745d);},'mmdnI':_0x42c0dd(0xe5),'RdmFY':function(_0x5e15be,_0x55a8e8){return _0x5e15be(_0x55a8e8);},'AYKlZ':function(_0x4ccd5d,_0x469804,_0x51337f,_0x433f61){return _0x4ccd5d(_0x469804,_0x51337f,_0x433f61);},'ETmWw':_0x42c0dd(0x174)};return new Promise((_0x5f28ef,_0x3e80b8)=>{const _0x173bad=_0x42c0dd,_0x14d0aa={'NnsuK':_0xf9ea2b['PDxBt'],'YvIjA':function(_0x1b12c7,_0x5dfd3a){const _0x5d4409=a64_0x5c29;return _0xf9ea2b[_0x5d4409(0x10b)](_0x1b12c7,_0x5dfd3a);},'HPftT':function(_0x1fd0f7,_0x17f749){return _0xf9ea2b['mitJH'](_0x1fd0f7,_0x17f749);},'vEQid':_0xf9ea2b[_0x173bad(0x172)],'xauXP':function(_0x32525e,_0x207219){const _0x2ea7cc=_0x173bad;return _0xf9ea2b[_0x2ea7cc(0x10b)](_0x32525e,_0x207219);},'RNMSl':function(_0x3ae29b,_0x1a8398){const _0x477c40=_0x173bad;return _0xf9ea2b[_0x477c40(0x190)](_0x3ae29b,_0x1a8398);}},_0x317732={};_0x317732['cwd']=_0x4c68c1,_0x317732[_0x173bad(0xc7)]=0x1388;const _0x48f55f=_0xf9ea2b[_0x173bad(0x18f)](exec,_0x23852d,_0x317732,(_0x58a05c,_0x326eff,_0x582d91)=>{const _0x39c3b1=_0x173bad;if(_0x58a05c){if(_0x23852d[_0x39c3b1(0x140)](_0x14d0aa[_0x39c3b1(0x12e)])&&(_0x326eff[_0x39c3b1(0x126)]()||_0x582d91['trim']())){const _0xcf0b0=_0x326eff['trim']()||_0x582d91['trim']();logger[_0x39c3b1(0x109)]('CLI\x20version\x20found\x20despite\x20error:\x20\x22'+_0xcf0b0+'\x22'),_0x14d0aa[_0x39c3b1(0xc6)](_0x5f28ef,_0xcf0b0);}else _0x14d0aa[_0x39c3b1(0x131)](_0x5f28ef,_0x582d91[_0x39c3b1(0x126)]()||_0x14d0aa[_0x39c3b1(0xcb)]);}else logger[_0x39c3b1(0x109)](_0x39c3b1(0x13d)+_0x326eff[_0x39c3b1(0x126)]()+'\x22'),_0x14d0aa[_0x39c3b1(0x10f)](_0x5f28ef,_0x326eff[_0x39c3b1(0x126)]());});_0x48f55f['on'](_0xf9ea2b[_0x173bad(0xfa)],()=>{const _0x1099b3=_0x173bad;_0x14d0aa[_0x1099b3(0x15e)](_0x5f28ef,_0x14d0aa[_0x1099b3(0xcb)]);});});}static [a64_0x5e18d4(0x148)]=async(_0x33c8b3,_0x302715)=>{const _0x467f51=a64_0x5e18d4,_0x29d83b={'MPbxb':_0x467f51(0x174),'xnBWa':_0x467f51(0x116),'iGRpZ':function(_0x4d28ea,_0x4a68a3){return _0x4d28ea(_0x4a68a3);},'oJnqd':_0x467f51(0x182),'PpDzE':_0x467f51(0x11e)};PerformanceTester[_0x467f51(0xd1)](PerformanceEvents[_0x467f51(0x139)]),logger['debug'](_0x467f51(0x162)+_0x33c8b3);try{const _0x354e84=url[_0x467f51(0x17c)](_0x33c8b3),_0x2a9f27=path[_0x467f51(0x159)](_0x302715,_0x29d83b[_0x467f51(0xd6)]),_0xf24679=fs[_0x467f51(0xeb)](_0x2a9f27);return new Promise((_0x1fdf69,_0x5e4c9d)=>{const _0x3a7400=_0x467f51,_0x22b5b7={'LeVtd':_0x29d83b[_0x3a7400(0x18b)],'VckKH':function(_0x20a672,_0x10b595){const _0xdd35ab=_0x3a7400;return _0x29d83b[_0xdd35ab(0x104)](_0x20a672,_0x10b595);},'YMCEG':_0x29d83b['oJnqd'],'eZCFg':function(_0x8caed1,_0x2aa95f){const _0xb78d63=_0x3a7400;return _0x29d83b[_0xb78d63(0x104)](_0x8caed1,_0x2aa95f);}};https[_0x3a7400(0x191)](_0x354e84,function(_0x5e7216){const _0x3535eb=_0x3a7400,_0x5c887d=null;_0x5e7216[_0x3535eb(0xc8)](_0xf24679),_0x5e7216['on'](_0x29d83b[_0x3535eb(0xb9)],function(_0x54886c){const _0x49ebaf=_0x3535eb;logger['error'](util[_0x49ebaf(0x10e)](_0x22b5b7[_0x49ebaf(0xc1)],_0x54886c)),PerformanceTester[_0x49ebaf(0x10a)](PerformanceEvents[_0x49ebaf(0x139)],![],util['format'](_0x54886c)),_0x22b5b7[_0x49ebaf(0x129)](_0x5e4c9d,_0x54886c);}),_0xf24679['on'](_0x29d83b['MPbxb'],function(_0x153eac){const _0x15fb1f=_0x3535eb;logger[_0x15fb1f(0x174)](util[_0x15fb1f(0x10e)](_0x22b5b7[_0x15fb1f(0x112)],_0x153eac)),PerformanceTester['end'](PerformanceEvents[_0x15fb1f(0x139)],![],util[_0x15fb1f(0x10e)](_0x153eac)),_0x22b5b7[_0x15fb1f(0xbf)](_0x5e4c9d,_0x153eac);}),CLIUtils[_0x3535eb(0xd5)](_0xf24679,_0x5c887d,_0x2a9f27,_0x302715,_0x1fdf69,_0x5e4c9d),PerformanceTester['end'](PerformanceEvents['SDK_CLI_DOWNLOAD']);})['on'](_0x29d83b[_0x3a7400(0xb9)],function(_0x47d12d){const _0x5ce257=_0x3a7400;logger[_0x5ce257(0x174)](_0x5ce257(0x124)+util[_0x5ce257(0x10e)](_0x47d12d)),PerformanceTester['end'](PerformanceEvents[_0x5ce257(0x139)],![],util[_0x5ce257(0x10e)](_0x47d12d)),_0x22b5b7[_0x5ce257(0x129)](_0x5e4c9d,_0x47d12d);});});}catch(_0x381aa0){PerformanceTester[_0x467f51(0x10a)](PerformanceEvents[_0x467f51(0x139)],![],util[_0x467f51(0x10e)](_0x381aa0)),logger[_0x467f51(0x109)](_0x467f51(0x137)+util[_0x467f51(0x10e)](_0x381aa0));}};static[a64_0x5e18d4(0xd5)](_0x40eede,_0x9e28d9,_0x2bdff1,_0x4c3e0b,_0x4675a3,_0x245d19){const _0x214f9a=a64_0x5e18d4,_0x3179ed={'jZwDa':function(_0x2f3a49,_0x252c7c){return _0x2f3a49(_0x252c7c);},'EyCSW':_0x214f9a(0xde),'fnnEi':function(_0x3e6e76,_0x118314){return _0x3e6e76(_0x118314);},'Yxhvl':'entry','mPpdr':_0x214f9a(0x174),'TlYQI':_0x214f9a(0x10a),'aBTAQ':function(_0x1a6edf,_0x4d6dcc){return _0x1a6edf(_0x4d6dcc);},'RbPwA':function(_0x83d17,_0x33bd38){return _0x83d17(_0x33bd38);},'yYrII':function(_0x502718,_0x192d6b){return _0x502718===_0x192d6b;},'wXCek':_0x214f9a(0x15b)};_0x40eede['on'](_0x3179ed[_0x214f9a(0xbe)],function(){const _0x59bdb2=_0x214f9a,_0xe2f9fd={'vvLbf':function(_0xba8423,_0x844653){const _0x3ae71f=a64_0x5c29;return _0x3179ed[_0x3ae71f(0x15c)](_0xba8423,_0x844653);},'xedeA':_0x3179ed[_0x59bdb2(0xcc)],'BGxzX':function(_0x52e373,_0x39a399){const _0x4860c9=_0x59bdb2;return _0x3179ed[_0x4860c9(0x18d)](_0x52e373,_0x39a399);},'FXBzu':function(_0x3790f6,_0x548b9d){const _0x1a7ce4=_0x59bdb2;return _0x3179ed[_0x1a7ce4(0x17a)](_0x3790f6,_0x548b9d);},'RVIGU':_0x3179ed[_0x59bdb2(0x145)],'yQIgT':function(_0x1da4b9,_0x15d7a8){const _0x5cbebf=_0x59bdb2;return _0x3179ed[_0x5cbebf(0x107)](_0x1da4b9,_0x15d7a8);},'Orcip':function(_0x4f923c,_0x2222ef){const _0x497523=_0x59bdb2;return _0x3179ed[_0x497523(0x18d)](_0x4f923c,_0x2222ef);}},_0x28d83b={};_0x28d83b[_0x59bdb2(0x16d)]=!![],yauzl[_0x59bdb2(0x173)](_0x2bdff1,_0x28d83b,function(_0x418e4b,_0x4c9eca){const _0x5997e6=_0x59bdb2,_0x105f94={'sfppi':function(_0x37cd52,_0x5043dc){const _0x22269b=a64_0x5c29;return _0x3179ed[_0x22269b(0x15c)](_0x37cd52,_0x5043dc);},'krlgt':function(_0x132a97,_0x3c6ced){const _0x43d45e=a64_0x5c29;return _0x3179ed[_0x43d45e(0x15c)](_0x132a97,_0x3c6ced);},'YoNol':_0x3179ed[_0x5997e6(0x111)]};_0x418e4b&&_0x3179ed[_0x5997e6(0x16f)](_0x245d19,_0x418e4b),_0x4c9eca[_0x5997e6(0x152)](),_0x4c9eca['on'](_0x3179ed[_0x5997e6(0x187)],_0x541d70=>{const _0x273e9f=_0x5997e6,_0x3b6df0={'fmDTL':function(_0x652341,_0x3a5774){const _0x2b1072=a64_0x5c29;return _0xe2f9fd[_0x2b1072(0x146)](_0x652341,_0x3a5774);},'jfJAT':_0xe2f9fd[_0x273e9f(0x121)]};!_0x9e28d9&&(_0x9e28d9=_0x541d70['fileName']);if(/\/$/[_0x273e9f(0xdc)](_0x541d70['fileName']))_0x4c9eca[_0x273e9f(0x152)]();else{const _0x2ccca5=_0x541d70[_0x273e9f(0x189)],_0x202bcb=path['join'](_0x4c3e0b,_0x2ccca5);let _0x186f47;try{_0x186f47=fs[_0x273e9f(0xeb)](_0x202bcb);}catch(_0x34bd0a){if(BINARY_BUSY_ERROR_CODES[_0x273e9f(0x140)](_0x34bd0a[_0x273e9f(0x110)])){logger['warn'](_0x273e9f(0x150)+_0x2ccca5),fs[_0x273e9f(0x147)](_0x2bdff1,_0x16300d=>{const _0x34828b=_0x273e9f;_0x16300d&&logger[_0x34828b(0x138)](_0x34828b(0x17e)+_0x2bdff1);}),_0xe2f9fd['BGxzX'](_0x4675a3,_0x202bcb);return;}_0xe2f9fd[_0x273e9f(0x151)](_0x245d19,_0x34bd0a);return;}_0x186f47['on'](_0xe2f9fd[_0x273e9f(0x186)],_0x1a35ee=>{const _0x41d0b8=_0x273e9f;BINARY_BUSY_ERROR_CODES[_0x41d0b8(0x140)](_0x1a35ee[_0x41d0b8(0x110)])?(logger[_0x41d0b8(0x138)](_0x41d0b8(0xbb)+_0x1a35ee[_0x41d0b8(0x12d)]),_0x186f47[_0x41d0b8(0x15b)](),fs[_0x41d0b8(0x147)](_0x2bdff1,_0x219251=>{const _0x3c8294=_0x41d0b8;_0x219251&&logger[_0x3c8294(0x138)]('Failed\x20to\x20delete\x20zip\x20file:\x20'+_0x2bdff1);}),_0x105f94[_0x41d0b8(0xdf)](_0x4675a3,_0x202bcb)):_0x105f94[_0x41d0b8(0xdf)](_0x245d19,_0x1a35ee);}),_0x4c9eca[_0x273e9f(0xf7)](_0x541d70,function(_0x4f5f26,_0x4a71a4){const _0x3b5aef=_0x273e9f;_0x4f5f26&&_0x3b6df0[_0x3b5aef(0xf4)](_0x245d19,_0x4f5f26),_0x4a71a4['on'](_0x3b6df0[_0x3b5aef(0xff)],function(){const _0x47511d=_0x3b5aef;_0x186f47[_0x47511d(0x15b)](),_0x4c9eca[_0x47511d(0x152)]();}),_0x4a71a4[_0x3b5aef(0xc8)](_0x186f47);}),_0xe2f9fd[_0x273e9f(0x156)](_0x541d70['fileName'],_0x9e28d9)&&_0x4c9eca[_0x273e9f(0x15b)]();}}),_0x4c9eca['on'](_0x3179ed[_0x5997e6(0x145)],_0xa6c214=>{_0xe2f9fd['Orcip'](_0x245d19,_0xa6c214);}),_0x4c9eca['once'](_0x3179ed['TlYQI'],()=>{const _0x4be395=_0x5997e6,_0x51dcfa={'oruXd':function(_0xcf48cc,_0x111a92){return _0x105f94['krlgt'](_0xcf48cc,_0x111a92);},'mONhV':function(_0x52d054,_0x401ac1){const _0x2aa54a=a64_0x5c29;return _0x105f94[_0x2aa54a(0xdf)](_0x52d054,_0x401ac1);}};fs[_0x4be395(0x147)](_0x2bdff1,_0x161313=>{const _0x4bbb30=_0x4be395;_0x161313&&logger[_0x4bbb30(0x138)](_0x4bbb30(0x17e)+_0x2bdff1);}),fs[_0x4be395(0xdd)](path[_0x4be395(0x159)](_0x4c3e0b,_0x9e28d9),_0x105f94['YoNol'],function(_0x2808bc){const _0x3d473d=_0x4be395;_0x2808bc&&_0x51dcfa['oruXd'](_0x245d19,_0x2808bc),_0x51dcfa[_0x3d473d(0x160)](_0x4675a3,path[_0x3d473d(0x159)](_0x4c3e0b,_0x9e28d9));}),_0x4c9eca[_0x4be395(0x15b)]();});});});}static[a64_0x5e18d4(0x180)](){const _0x47357c=a64_0x5e18d4;if(process[_0x47357c(0x11c)]['BROWSERSTACK_TEST_FRAMEWORK_DETAIL'])return JSON[_0x47357c(0x17c)](process[_0x47357c(0x11c)][_0x47357c(0xe1)]);return this[_0x47357c(0x100)];}static[a64_0x5e18d4(0x106)](){const _0x496459=a64_0x5e18d4;if(process['env']['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL'])return JSON[_0x496459(0x17c)](process[_0x496459(0x11c)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']);return this[_0x496459(0xc0)];}static['setFrameworkDetail'](_0x5207eb,_0x4b8550){const _0x5b03cd=a64_0x5e18d4,_0x1c3704={'hszxN':_0x5b03cd(0xe7),'IZjDJ':function(_0x3cddff,_0x2a0d57){return _0x3cddff(_0x2a0d57);},'idpKh':function(_0x12ec0c,_0xc3db1b){return _0x12ec0c||_0xc3db1b;},'VUfDA':function(_0x345904,_0x564b53){return _0x345904(_0x564b53);}},_0x123e39=_0x1c3704[_0x5b03cd(0x125)][_0x5b03cd(0x157)]('|');let _0x454fed=0x0;while(!![]){switch(_0x123e39[_0x454fed++]){case'0':process[_0x5b03cd(0x11c)][_0x5b03cd(0xe1)]=JSON[_0x5b03cd(0x133)](this[_0x5b03cd(0x100)]);continue;case'1':this[_0x5b03cd(0xc0)]={'name':_0x4b8550,'version':_0x1c3704[_0x5b03cd(0xe2)](getFrameworkVersion,_0x4b8550)};continue;case'2':_0x1c3704['idpKh'](!_0x5207eb,!_0x4b8550)&&logger[_0x5b03cd(0x109)]('Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework='+_0x5207eb+_0x5b03cd(0x13b)+_0x4b8550);continue;case'3':this[_0x5b03cd(0x100)]={'name':_0x5207eb,'version':{[_0x5207eb]:_0x1c3704[_0x5b03cd(0x144)](getFrameworkVersion,_0x5207eb)}};continue;case'4':process['env'][_0x5b03cd(0x14b)]=JSON[_0x5b03cd(0x133)](this['automationFrameworkDetail']);continue;}break;}}static['getHookRegistryKey'](_0x1ca36c,_0x3ef5f5){return _0x1ca36c+':'+_0x3ef5f5;}static['getCurrentInstanceName'](){const _0x315c8e=a64_0x5e18d4;return process[_0x315c8e(0x11b)]+':'+threadId;}static['shouldSkipSessionName'](_0xbce45a){const _0x1e6035=a64_0x5e18d4;if(_0xbce45a[_0x1e6035(0xf6)]&&_0xbce45a[_0x1e6035(0xf6)][_0x1e6035(0x120)])return!![];return![];}static[a64_0x5e18d4(0xf0)](_0x3a3d9d){const _0x1c4b43=a64_0x5e18d4;if(_0x3a3d9d[_0x1c4b43(0xf6)]&&_0x3a3d9d[_0x1c4b43(0xf6)]['skipSessionStatus'])return!![];return![];}static[a64_0x5e18d4(0xbc)](_0x27a297){const _0x3e2d04=a64_0x5e18d4,_0x2719a4=new RegExp(TestFrameworkConstants[_0x3e2d04(0xcd)]);return _0x2719a4['test'](_0x27a297);}static['mergeObject'](_0x300580,_0x3e3ac4){const _0x398b4f=a64_0x5e18d4,_0x2937dc={};_0x2937dc['SHBLn']=function(_0x54997c,_0x20a5de){return _0x54997c!==_0x20a5de;},_0x2937dc[_0x398b4f(0x115)]=function(_0x272caa,_0x11009c){return _0x272caa===_0x11009c;},_0x2937dc['TrYcd']='object';const _0x58aceb=_0x2937dc;for(const [_0x1eae22,_0x57101b]of Object[_0x398b4f(0xb7)](_0x3e3ac4)){if(_0x58aceb[_0x398b4f(0x10d)](_0x57101b,null)&&_0x58aceb[_0x398b4f(0x115)](typeof _0x57101b,_0x58aceb[_0x398b4f(0x18e)])&&!Array[_0x398b4f(0x15d)](_0x57101b))_0x300580[_0x1eae22]=this['mergeObject'](_0x300580[_0x1eae22]||{},_0x57101b);else Array[_0x398b4f(0x15d)](_0x57101b)?_0x300580[_0x1eae22]=(_0x300580[_0x1eae22]||[])['concat'](_0x57101b):_0x300580[_0x1eae22]=_0x57101b;}return _0x300580;}}module[a64_0x5e18d4(0xdb)]=CLIUtils;function a64_0x5c29(_0x1eb781,_0x4d2ba6){const _0x4acbf7=a64_0x4acb();return a64_0x5c29=function(_0x5c292c,_0x1a2e64){_0x5c292c=_0x5c292c-0xb7;let _0x11cda5=_0x4acbf7[_0x5c292c];return _0x11cda5;},a64_0x5c29(_0x1eb781,_0x4d2ba6);}function a64_0x4acb(){const _0x3d7409=['Resolved\x20binary\x20path:\x20','platform','reduce','lazyEntries','./instances/testFrameworkInstance.js','fnnEi','getCLIParamsForDevEnv','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','mmdnI','open','error','getSdkLanguage','CsJpf','path','version','map','RbPwA','1788cGiNMC','parse','KNUUY','Failed\x20to\x20delete\x20zip\x20file:\x20','checkAndUpdateCli','getTestFrameworkDetail','isBinaryBusy','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','BcXUC','QuNfn','startsWith','RVIGU','Yxhvl','arch','fileName','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','xnBWa','../../helpers/performance/performance-tester.js','aBTAQ','TrYcd','AYKlZ','RdmFY','get','5gTMYTB','basename','entries','3612668uPXHUO','MPbxb','../utils/apiUtilityMethods.js','Binary\x20file\x20became\x20busy\x20during\x20write,\x20continuing\x20with\x20existing\x20binary:\x20','matchHookRegex','Development\x20Cli\x20Path:\x20','wXCek','eZCFg','automationFrameworkDetail','LeVtd','ZWeiC','Error\x20while\x20reading\x20CLI\x20path:\x20','cphyg','32561EAuyuR','YvIjA','timeout','pipe','tmpdir','setupCliPath','vEQid','TlYQI','HOOK_REGEX','runShellCommand','getSdkVersion','../../helpers/helper','start','yauzl','10VwOoJt','filter','downloadFileStream','PpDzE','requestToUpdateCLI','Existing\x20binary\x20is\x20currently\x20in\x20use,\x20skipping\x20update\x20and\x20continuing\x20with\x20current\x20version:\x20','2403366hqZnkH','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','exports','test','chmod','0755','sfppi','18aqObvf','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','IZjDJ','../../../package.json','../../helpers/test-observability/utils.js','SHELL_EXECUTE_ERROR','MyIPH','2|3|1|4|0','listen','existsSync','.browserstack','createWriteStream','50TnbNaF','development','statSync','../../helpers/utilities','shouldSkipSessionStatus','length','info','mPyVQ','fmDTL','CLIUtils','testContextOptions','openReadStream','lvoDH','BROWSERSTACK_BINARY_URL','ETmWw','xKZIm','BROWSERSTACK_CLI_ENV','UngJc','cli_version','jfJAT','testFrameworkDetail','cli','../utils/constants','udlxS','iGRpZ','LOboW','getAutomationFrameworkDetail','yYrII','UEnvZ','debug','end','mitJH','data','SHBLn','format','xauXP','code','EyCSW','YMCEG','./framework/constants/testFrameworkConstants.js','uUUZv','ZCjQf','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','./state/testFrameworkState.js','153rYpWsE','binary-','13893781GfKHyd','pid','env','ogizR','downloaded_file.zip','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','skipSessionName','xedeA','./state/automationFrameworkState.js','./state/hookState.js','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','hszxN','trim','12662RDWizW','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','VckKH','SDK_CLI_CHECK_UPDATE','ZyprD','YFegP','message','NnsuK','YQNvM','node','HPftT','getCliDir','stringify','BROWSERSTACK_FILES_DIR','ySPnE','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','Failed\x20to\x20download\x20binary,\x20Exception:\x20','warn','SDK_CLI_DOWNLOAD','.sock',',\x20automationFramework=','isDevelopmentEnv','Resolving\x20with\x20stdout:\x20\x22','mtime','readdirSync','includes','Setting\x20required\x20permissions\x20to\x20','523208CLFqUV','Error\x20checking\x20if\x20binary\x20is\x20busy:\x20','VUfDA','mPpdr','vvLbf','unlink','downloadLatestBinary','unix:/tmp/sdk-platform-','Current\x20CLI\x20Path\x20Found:\x20','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','getExistingCliPath','kPFUD','../../helpers/performance/constants','XPKcq','Binary\x20file\x20is\x20currently\x20in\x20use,\x20skipping\x20download\x20and\x20continuing\x20with\x20existing\x20binary:\x20','FXBzu','readEntry','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','JdCNh','Folder\x20does\x20not\x20exist:\x20','yQIgT','split','getWritableDir','join','1880769bBksuB','close','jZwDa','isArray','RNMSl','closeSync','mONhV','homedir','Downloading\x20SDK\x20binary\x20from:\x20','child_process','url','ZqMSS','openSync','../../helpers/classLogger.js','Binary\x20is\x20busy:\x20','GET'];a64_0x4acb=function(){return _0x3d7409;};return a64_0x4acb();}