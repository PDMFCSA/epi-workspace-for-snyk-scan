const a60_0x137418=a60_0x295d;(function(_0x32f2bf,_0x178df7){const _0x26d417=a60_0x295d,_0x386059=_0x32f2bf();while(!![]){try{const _0x5f4c1d=-parseInt(_0x26d417(0x9c))/0x1+-parseInt(_0x26d417(0x10f))/0x2*(-parseInt(_0x26d417(0xd4))/0x3)+-parseInt(_0x26d417(0x11a))/0x4+parseInt(_0x26d417(0x143))/0x5+-parseInt(_0x26d417(0xde))/0x6+parseInt(_0x26d417(0xe9))/0x7*(parseInt(_0x26d417(0xab))/0x8)+-parseInt(_0x26d417(0xcb))/0x9*(parseInt(_0x26d417(0x11f))/0xa);if(_0x5f4c1d===_0x178df7)break;else _0x386059['push'](_0x386059['shift']());}catch(_0x22afaa){_0x386059['push'](_0x386059['shift']());}}}(a60_0x1057,0x4fe26));const fs=require('fs'),os=require('os'),url=require(a60_0x137418(0xad)),path=require(a60_0x137418(0xaa)),{exec}=require('child_process'),{https}=require(a60_0x137418(0xa8)),yauzl=require(a60_0x137418(0xd1)),util=require(a60_0x137418(0x124)),{getFrameworkVersion}=require(a60_0x137418(0x9e)),{threadId}=require(a60_0x137418(0xeb)),PerformanceTester=require(a60_0x137418(0xaf)),{EVENTS:PerformanceEvents}=require(a60_0x137418(0xdc)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require('../../helpers/utilities'),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a60_0x137418(0x121)),{BROWSERSTACK_API_URL,UPDATED_CLI_ENDPOINT}=require(a60_0x137418(0x128)),{createClassLogger}=require(a60_0x137418(0x123)),TestFrameworkInstance=require(a60_0x137418(0xac)),HookState=require(a60_0x137418(0x9b)),TestFrameworkState=require(a60_0x137418(0x12c)),AutomationFrameworkState=require(a60_0x137418(0x131)),TestFrameworkConstants=require(a60_0x137418(0x122)),logger=createClassLogger('CLIUtils');class CLIUtils{[a60_0x137418(0xa5)]={};['testFrameworkDetail']={};static['isDevelopmentEnv'](){const _0xdb6fbe=a60_0x137418,_0x548c61={};_0x548c61[_0xdb6fbe(0xc1)]=function(_0x1ab724,_0x334df2){return _0x1ab724===_0x334df2;},_0x548c61[_0xdb6fbe(0xcd)]=_0xdb6fbe(0xfd);const _0x101ef5=_0x548c61;return _0x101ef5['nWpxl'](process[_0xdb6fbe(0x116)][_0xdb6fbe(0x108)],_0x101ef5[_0xdb6fbe(0xcd)]);}static[a60_0x137418(0xbb)](){const _0x1dbb75=a60_0x137418,_0x361cd0={};return _0x361cd0['id']=process[_0x1dbb75(0x116)][_0x1dbb75(0x108)],_0x361cd0[_0x1dbb75(0x118)]=_0x1dbb75(0x12d)+process['env'][_0x1dbb75(0x108)]+'.sock',_0x361cd0;}static[a60_0x137418(0x139)](){const _0x254cd2=a60_0x137418,_0x22f411={'NlSjB':function(_0x14a2e9,_0x224bbd){return _0x14a2e9(_0x224bbd);},'dqWRa':_0x254cd2(0x101)};return _0x22f411[_0x254cd2(0x94)](require,_0x22f411['dqWRa'])[_0x254cd2(0x11e)];}static['getSdkLanguage'](){const _0x3684c2=a60_0x137418,_0x28928c={};_0x28928c['ryjGL']=_0x3684c2(0x112);const _0x30b919=_0x28928c;return _0x30b919[_0x3684c2(0xef)];}static async[a60_0x137418(0x120)](_0x11c1b8){const _0x1e0876=a60_0x137418,_0x548d00={'FbhEy':_0x1e0876(0xf0),'IoXNj':function(_0x226ea6,_0xfe59fa){return _0x226ea6(_0xfe59fa);},'XGMXi':_0x1e0876(0x13d)};logger[_0x1e0876(0xbf)](_0x548d00[_0x1e0876(0x142)]);const _0x2c5ba8=process[_0x1e0876(0x116)][_0x1e0876(0x114)];if(!_0x548d00[_0x1e0876(0x13b)](isNullOrEmpty,_0x2c5ba8))return logger[_0x1e0876(0xbf)]('Development\x20Cli\x20Path:\x20'+_0x2c5ba8),_0x2c5ba8;try{const _0xb0b804=this[_0x1e0876(0xae)]();if(_0x548d00[_0x1e0876(0x13b)](isNullOrEmpty,_0xb0b804))throw new Error(_0x548d00[_0x1e0876(0xe2)]);const _0xf7f260=this[_0x1e0876(0x107)](_0xb0b804),_0x475fea=await this[_0x1e0876(0x13a)](_0xf7f260,_0xb0b804,_0x11c1b8);return logger[_0x1e0876(0xbf)](_0x1e0876(0xf1)+_0x475fea),_0x475fea;}catch(_0xfd3c2e){logger[_0x1e0876(0xbf)]('Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20'+util['format'](_0xfd3c2e));}return null;}static async[a60_0x137418(0x13a)](_0x2513a1,_0x3e5fdd,_0x5521d6){const _0x59910f=a60_0x137418,_0xbd706b={'OVZsc':function(_0x376f47){return _0x376f47();},'GWtSZ':function(_0x574cc0,_0x2a1932){return _0x574cc0(_0x2a1932);},'jauhl':function(_0x415a25,_0x158e5d,_0x590032){return _0x415a25(_0x158e5d,_0x590032);},'TaxvP':_0x59910f(0x138),'ZpbXW':_0x59910f(0xad),'eQnBI':function(_0x278abc,_0x2067e8,_0x1e0a3c){return _0x278abc(_0x2067e8,_0x1e0a3c);}};PerformanceTester[_0x59910f(0xce)](PerformanceEvents[_0x59910f(0x113)]),logger['info'](_0x59910f(0x90)+_0x2513a1);const _0x4ce334=_0xbd706b['OVZsc'](getHostInfo),_0xd33629={'sdk_version':CLIUtils[_0x59910f(0x139)](),'os':_0x4ce334[_0x59910f(0xe7)],'os_arch':_0x4ce334[_0x59910f(0xb0)],'cli_version':'0','sdk_language':this['getSdkLanguage']()};!_0xbd706b[_0x59910f(0x111)](isNullOrEmpty,_0x2513a1)&&(_0xd33629[_0x59910f(0x125)]=await this[_0x59910f(0xe0)](_0x2513a1+_0x59910f(0xba)));const _0x4e7d42=await this['requestToUpdateCLI'](_0xd33629,_0x5521d6);process[_0x59910f(0x116)][_0x59910f(0xc8)]&&(logger[_0x59910f(0x115)](_0x59910f(0xf5)+process[_0x59910f(0x116)]['BROWSERSTACK_BINARY_URL']),_0x4e7d42[_0x59910f(0x138)][_0x59910f(0xad)]=process[_0x59910f(0x116)][_0x59910f(0xc8)]);if(_0xbd706b[_0x59910f(0xee)](nestedKeyValue,_0x4e7d42,[_0xbd706b[_0x59910f(0xe8)],_0xbd706b[_0x59910f(0x106)]])){logger[_0x59910f(0xbf)](_0x59910f(0x130)+_0xd33629['cli_version']);const _0x4f93f4=await this[_0x59910f(0xa7)](_0xbd706b[_0x59910f(0x13f)](nestedKeyValue,_0x4e7d42,[_0xbd706b[_0x59910f(0xe8)],_0xbd706b[_0x59910f(0x106)]]),_0x3e5fdd);return PerformanceTester[_0x59910f(0xe1)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x4f93f4;}return PerformanceTester['end'](PerformanceEvents[_0x59910f(0x113)]),_0x2513a1;}static[a60_0x137418(0xae)](){const _0x289556=a60_0x137418,_0x4429d0={'NLHbx':function(_0x30e083,_0x418a05){return _0x30e083(_0x418a05);},'pyDtb':_0x289556(0x13d),'GIgQb':_0x289556(0x99)},_0x448ed2=this[_0x289556(0xf9)]();try{if(_0x4429d0[_0x289556(0x13c)](isNullOrEmpty,_0x448ed2))throw new Error(_0x4429d0[_0x289556(0xe3)]);const _0x1d6e9d=path[_0x289556(0x140)](_0x448ed2,_0x4429d0['GIgQb']);return!fs['existsSync'](_0x1d6e9d)&&_0x4429d0[_0x289556(0x13c)](createDir,_0x1d6e9d),_0x1d6e9d;}catch(_0x4a89ae){logger['debug'](_0x289556(0x12a)+util[_0x289556(0xda)](_0x4a89ae));}}static['getWritableDir'](){const _0xbe184a=a60_0x137418,_0x45bd18={'sSTAT':'.browserstack','mciHS':function(_0x10761e,_0x4f976e){return _0x10761e(_0x4f976e);},'JsMnN':function(_0x5801e8,_0xd67f9c){return _0x5801e8(_0xd67f9c);},'iZQXQ':function(_0x33c8f9,_0xfe479c){return _0x33c8f9(_0xfe479c);}},_0x421cc3=[process[_0xbe184a(0x116)][_0xbe184a(0x10b)],path['join'](os[_0xbe184a(0x127)](),_0x45bd18[_0xbe184a(0xd2)]),path[_0xbe184a(0x140)](os[_0xbe184a(0xb5)](),_0x45bd18[_0xbe184a(0xd2)])];for(const _0xfa8ab2 of _0x421cc3){if(_0x45bd18[_0xbe184a(0xfb)](isNullOrEmpty,_0xfa8ab2))continue;try{if(fs[_0xbe184a(0xdb)](_0xfa8ab2)){logger[_0xbe184a(0xbf)](_0xbe184a(0x91)+_0xfa8ab2+_0xbe184a(0x134));if(!_0x45bd18[_0xbe184a(0x100)](isModifiable,_0xfa8ab2)){logger['debug'](_0xbe184a(0xf3)+_0xfa8ab2);const _0x75638a=_0x45bd18['mciHS'](setReadWriteExecuteAccess,_0xfa8ab2);if(!_0x45bd18['iZQXQ'](isTrue,_0x75638a)){logger[_0xbe184a(0xb3)](_0xbe184a(0xd0)+_0xfa8ab2);continue;}}}else{logger[_0xbe184a(0xbf)](_0xbe184a(0xb4)+_0xfa8ab2),_0x45bd18['mciHS'](createDir,_0xfa8ab2),logger[_0xbe184a(0xbf)](_0xbe184a(0xf3)+_0xfa8ab2);const _0xcf303=_0x45bd18[_0xbe184a(0x119)](setReadWriteExecuteAccess,_0xfa8ab2);!_0x45bd18['JsMnN'](isTrue,_0xcf303)&&logger[_0xbe184a(0xb3)](_0xbe184a(0xd0)+_0xfa8ab2);}return _0xfa8ab2;}catch(_0x212a64){logger[_0xbe184a(0x96)]('Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20'+util['format'](_0x212a64));}}return null;}static[a60_0x137418(0x107)](_0x4dbd99){const _0xba12ec=a60_0x137418,_0x572983={};_0x572983[_0xba12ec(0xb9)]=function(_0x12e60a,_0x2402e5){return _0x12e60a>_0x2402e5;},_0x572983[_0xba12ec(0xec)]=function(_0x5f1deb,_0x2bc9b7){return _0x5f1deb>_0x2bc9b7;};const _0x109702=_0x572983;try{if(!fs['existsSync'](_0x4dbd99)||!fs[_0xba12ec(0xcc)](_0x4dbd99)[_0xba12ec(0x147)]())return'';const _0x303a21=fs[_0xba12ec(0x97)](_0x4dbd99)[_0xba12ec(0x137)](_0x4764cb=>path['join'](_0x4dbd99,_0x4764cb))[_0xba12ec(0x102)](_0x4d9690=>fs[_0xba12ec(0xcc)](_0x4d9690)[_0xba12ec(0xc5)]()&&path['basename'](_0x4d9690)[_0xba12ec(0xb1)]('binary-'));if(_0x109702[_0xba12ec(0xec)](_0x303a21[_0xba12ec(0x110)],0x0)){const _0x19d4e5=_0x303a21[_0xba12ec(0x137)](_0x2befbd=>({'filePath':_0x2befbd,'mtime':fs['statSync'](_0x2befbd)[_0xba12ec(0xa4)]}))['reduce']((_0x3299d5,_0x28e1e5)=>{const _0x2fa4dc=_0xba12ec;if(!_0x3299d5||!_0x3299d5[_0x2fa4dc(0xa4)])return _0x28e1e5;if(_0x109702[_0x2fa4dc(0xb9)](_0x28e1e5[_0x2fa4dc(0xa4)],_0x3299d5[_0x2fa4dc(0xa4)]))return _0x28e1e5;return _0x3299d5;},{});return _0x19d4e5?_0x19d4e5[_0xba12ec(0xa2)]:'';}return'';}catch(_0xb2cc74){return logger['error'](_0xba12ec(0x109)+util[_0xba12ec(0xda)](_0xb2cc74)),'';}}static [a60_0x137418(0x12e)]=async(_0x1f11b7,_0x2f8800)=>{const _0x587fec=a60_0x137418,_0x1ba053={'iAyNf':function(_0xd9068d,_0x5ed88c,_0x1ccde5,_0x13b622,_0x5b0f47,_0x4370ec){return _0xd9068d(_0x5ed88c,_0x1ccde5,_0x13b622,_0x5b0f47,_0x4370ec);},'kZgGb':_0x587fec(0x136)},_0x458fc0={};_0x458fc0['qs']=_0x1f11b7;const _0x4d8826=await _0x1ba053[_0x587fec(0xa9)](nodeRequest,_0x1ba053[_0x587fec(0xd6)],UPDATED_CLI_ENDPOINT,_0x458fc0,_0x2f8800,BROWSERSTACK_API_URL);return logger['debug'](_0x587fec(0x8f)+JSON[_0x587fec(0x133)](_0x4d8826)),_0x4d8826;};static['runShellCommand'](_0x1b27c5,_0x2030ca=''){const _0xf22cad=a60_0x137418,_0x5ec809={'RyzEM':function(_0x1f5837,_0x4078ca){return _0x1f5837(_0x4078ca);},'ZuAuO':_0xf22cad(0xc4),'nCseC':function(_0x22ab7d,_0x31ff15,_0x11c7a4,_0x31f8bc){return _0x22ab7d(_0x31ff15,_0x11c7a4,_0x31f8bc);},'DWSFS':'error'};return new Promise((_0x31a18a,_0x37bcec)=>{const _0x1a5742=_0xf22cad,_0x2cae29={'sSNQm':function(_0x18f053,_0x2c992d){const _0x3e697f=a60_0x295d;return _0x5ec809[_0x3e697f(0x144)](_0x18f053,_0x2c992d);},'cTgTG':_0x5ec809[_0x1a5742(0xe5)]},_0x3568cf={};_0x3568cf[_0x1a5742(0xa0)]=_0x2030ca,_0x3568cf[_0x1a5742(0x92)]=0x1388;const _0xb5d792=_0x5ec809[_0x1a5742(0x126)](exec,_0x1b27c5,_0x3568cf,(_0x5ac60a,_0x3bf275,_0x4dc54d)=>{const _0x5c374e=_0x1a5742;_0x5ac60a?_0x2cae29[_0x5c374e(0x105)](_0x31a18a,_0x4dc54d[_0x5c374e(0x9f)]()||_0x2cae29['cTgTG']):_0x2cae29['sSNQm'](_0x31a18a,_0x3bf275[_0x5c374e(0x9f)]());});_0xb5d792['on'](_0x5ec809[_0x1a5742(0x10c)],()=>{const _0x509c10=_0x1a5742;_0x2cae29[_0x509c10(0x105)](_0x31a18a,_0x2cae29[_0x509c10(0xff)]);});});}static ['downloadLatestBinary']=async(_0x193b6a,_0x2f5312)=>{const _0x3b1a93=a60_0x137418,_0x323604={'bzuKH':_0x3b1a93(0x96),'NpWjb':_0x3b1a93(0xc2),'WuEHs':function(_0x4a579b,_0x552763){return _0x4a579b(_0x552763);},'EplhS':_0x3b1a93(0x146),'TrXdk':_0x3b1a93(0x95)};PerformanceTester[_0x3b1a93(0xce)](PerformanceEvents[_0x3b1a93(0x145)]),logger[_0x3b1a93(0xbf)](_0x3b1a93(0xca)+_0x193b6a);try{const _0x43984c=url['parse'](_0x193b6a),_0x45d9c7=path['join'](_0x2f5312,_0x323604['TrXdk']),_0x4e330e=fs[_0x3b1a93(0x8e)](_0x45d9c7);return new Promise((_0x31bf1d,_0x145dfb)=>{const _0x1a35b0=_0x3b1a93,_0xdf7ea2={'KdsWp':_0x323604['NpWjb'],'qHJgX':function(_0x96285,_0x5c7036){const _0x365edd=a60_0x295d;return _0x323604[_0x365edd(0xf8)](_0x96285,_0x5c7036);},'khyLF':_0x323604[_0x1a35b0(0x10e)]};https[_0x1a35b0(0xbc)](_0x43984c,function(_0x2039c1){const _0x309e01=_0x1a35b0,_0x24b703=null;_0x2039c1[_0x309e01(0x103)](_0x4e330e),_0x2039c1['on'](_0x323604['bzuKH'],function(_0x441c8a){const _0x119134=_0x309e01;logger['error'](util[_0x119134(0xda)](_0xdf7ea2['KdsWp'],_0x441c8a)),PerformanceTester[_0x119134(0xe1)](PerformanceEvents[_0x119134(0x145)],![],util[_0x119134(0xda)](_0x441c8a)),_0xdf7ea2[_0x119134(0xb2)](_0x145dfb,_0x441c8a);}),_0x4e330e['on'](_0x323604[_0x309e01(0x93)],function(_0x8b1eb1){const _0x46885a=_0x309e01;logger[_0x46885a(0x96)](util[_0x46885a(0xda)](_0xdf7ea2[_0x46885a(0xd5)],_0x8b1eb1)),PerformanceTester[_0x46885a(0xe1)](PerformanceEvents[_0x46885a(0x145)],![],util['format'](_0x8b1eb1)),_0xdf7ea2[_0x46885a(0xb2)](_0x145dfb,_0x8b1eb1);}),CLIUtils[_0x309e01(0xe4)](_0x4e330e,_0x24b703,_0x45d9c7,_0x2f5312,_0x31bf1d,_0x145dfb),PerformanceTester[_0x309e01(0xe1)](PerformanceEvents[_0x309e01(0x145)]);})['on'](_0x323604[_0x1a35b0(0x93)],function(_0x2584ee){const _0x3bc0b6=_0x1a35b0;logger[_0x3bc0b6(0x96)](_0x3bc0b6(0xa3)+util[_0x3bc0b6(0xda)](_0x2584ee)),PerformanceTester[_0x3bc0b6(0xe1)](PerformanceEvents[_0x3bc0b6(0x145)],![],util[_0x3bc0b6(0xda)](_0x2584ee)),_0xdf7ea2['qHJgX'](_0x145dfb,_0x2584ee);});});}catch(_0x19c899){PerformanceTester['end'](PerformanceEvents[_0x3b1a93(0x145)],![],util[_0x3b1a93(0xda)](_0x19c899)),logger[_0x3b1a93(0xbf)](_0x3b1a93(0xea)+util[_0x3b1a93(0xda)](_0x19c899));}};static[a60_0x137418(0xe4)](_0x24dfda,_0x3b5012,_0x1bdbab,_0x337511,_0x391c58,_0x27d64e){const _0x37ffa5=a60_0x137418,_0x53f5d3={'HQuZr':function(_0x527223,_0x3f4a07){return _0x527223(_0x3f4a07);},'ThwCx':_0x37ffa5(0xe1),'xiGAh':function(_0x30ecbd,_0x228370){return _0x30ecbd===_0x228370;},'XjCqT':_0x37ffa5(0xc0),'zftTW':_0x37ffa5(0x132),'NOpqF':_0x37ffa5(0x96),'qYHde':_0x37ffa5(0xfc)};_0x24dfda['on'](_0x53f5d3[_0x37ffa5(0xed)],function(){const _0x304505=_0x37ffa5,_0x4f7a3f={'otZmZ':function(_0x235247,_0x2aa32d){const _0x3d84ed=a60_0x295d;return _0x53f5d3[_0x3d84ed(0x9d)](_0x235247,_0x2aa32d);},'PfMVz':_0x53f5d3[_0x304505(0xd7)],'wTrcw':function(_0x2f57fd,_0x33a22b){return _0x53f5d3['xiGAh'](_0x2f57fd,_0x33a22b);},'jOliw':_0x53f5d3[_0x304505(0x117)],'gDqEk':function(_0x494da2,_0x4c490d){return _0x53f5d3['HQuZr'](_0x494da2,_0x4c490d);},'WxKrV':_0x53f5d3[_0x304505(0xb8)],'BsHFt':_0x53f5d3[_0x304505(0x104)]},_0x22c165={};_0x22c165['lazyEntries']=!![],yauzl[_0x304505(0xc7)](_0x1bdbab,_0x22c165,function(_0x1a9cb5,_0x3e9cda){const _0x3b664b=_0x304505,_0x35048c={'anQiG':function(_0x3f3340,_0x2b707e){const _0x485c45=a60_0x295d;return _0x4f7a3f[_0x485c45(0x135)](_0x3f3340,_0x2b707e);},'NxtAc':function(_0x22cf07,_0x42b1bf){return _0x4f7a3f['gDqEk'](_0x22cf07,_0x42b1bf);},'dtISY':function(_0x32e0af,_0x5de8c9){const _0x291f08=a60_0x295d;return _0x4f7a3f[_0x291f08(0xc9)](_0x32e0af,_0x5de8c9);}};_0x1a9cb5&&_0x4f7a3f['otZmZ'](_0x27d64e,_0x1a9cb5),_0x3e9cda['readEntry'](),_0x3e9cda['on'](_0x4f7a3f[_0x3b664b(0xf2)],_0x2950e4=>{const _0x281a1c=_0x3b664b,_0x43bf23={'Gfgwe':function(_0x1e547d,_0x3a61d1){const _0x5d1c36=a60_0x295d;return _0x4f7a3f[_0x5d1c36(0xc9)](_0x1e547d,_0x3a61d1);},'osmYJ':_0x4f7a3f[_0x281a1c(0x98)]};!_0x3b5012&&(_0x3b5012=_0x2950e4[_0x281a1c(0xfa)]);if(/\/$/[_0x281a1c(0x9a)](_0x2950e4[_0x281a1c(0xfa)]))_0x3e9cda[_0x281a1c(0xb6)]();else{const _0x5029db=fs['createWriteStream'](path[_0x281a1c(0x140)](_0x337511,_0x2950e4[_0x281a1c(0xfa)]));_0x3e9cda[_0x281a1c(0xfe)](_0x2950e4,function(_0x5e5677,_0x1a0fc1){const _0x59c258=_0x281a1c;_0x5e5677&&_0x43bf23[_0x59c258(0xcf)](_0x27d64e,_0x1a9cb5),_0x1a0fc1['on'](_0x43bf23[_0x59c258(0x11c)],function(){const _0x4bb905=_0x59c258;_0x5029db['close'](),_0x3e9cda[_0x4bb905(0xb6)]();}),_0x1a0fc1[_0x59c258(0x103)](_0x5029db);}),_0x4f7a3f['wTrcw'](_0x2950e4['fileName'],_0x3b5012)&&_0x3e9cda[_0x281a1c(0xfc)]();}}),_0x3e9cda['on'](_0x4f7a3f[_0x3b664b(0x12b)],_0x8d8338=>{const _0x4f1da3=_0x3b664b;_0x35048c[_0x4f1da3(0x12f)](_0x27d64e,_0x8d8338);}),_0x3e9cda[_0x3b664b(0xa6)](_0x4f7a3f[_0x3b664b(0x98)],()=>{const _0x135b0e=_0x3b664b;fs[_0x135b0e(0xf4)](_0x1bdbab,_0x1546a0=>{const _0x4f0376=_0x135b0e;_0x1546a0&&logger[_0x4f0376(0xb3)]('Failed\x20to\x20delete\x20zip\x20file:\x20'+_0x1bdbab);}),fs['chmod'](_0x337511+'/'+_0x3b5012,_0x4f7a3f[_0x135b0e(0xbe)],function(_0x48847d){const _0xcf7d7a=_0x135b0e;_0x48847d&&_0x35048c[_0xcf7d7a(0xe6)](_0x27d64e,_0x48847d),_0x35048c[_0xcf7d7a(0xbd)](_0x391c58,_0x337511+'/'+_0x3b5012);}),_0x3e9cda[_0x135b0e(0xfc)]();});});});}static['getTestFrameworkDetail'](){const _0x3aa794=a60_0x137418;if(process[_0x3aa794(0x116)][_0x3aa794(0x10a)])return JSON[_0x3aa794(0xd8)](process[_0x3aa794(0x116)]['BROWSERSTACK_TEST_FRAMEWORK_DETAIL']);return this[_0x3aa794(0x10d)];}static['getAutomationFrameworkDetail'](){const _0x5e6f88=a60_0x137418;if(process[_0x5e6f88(0x116)][_0x5e6f88(0xf6)])return JSON['parse'](process[_0x5e6f88(0x116)][_0x5e6f88(0xf6)]);return this[_0x5e6f88(0xa5)];}static['setFrameworkDetail'](_0x5b8980,_0x158df3){const _0x5d4f29=a60_0x137418,_0x1a1095={'iQuPM':_0x5d4f29(0xd3),'ubHbd':function(_0x557006,_0x11708d){return _0x557006(_0x11708d);},'QQvVT':function(_0x103b2a,_0x41d9c7){return _0x103b2a(_0x41d9c7);},'OsDFk':function(_0x1da676,_0x534511){return _0x1da676||_0x534511;}},_0x2acf86=_0x1a1095[_0x5d4f29(0xf7)][_0x5d4f29(0x141)]('|');let _0x17d950=0x0;while(!![]){switch(_0x2acf86[_0x17d950++]){case'0':this[_0x5d4f29(0xa5)]={'name':_0x158df3,'version':_0x1a1095['ubHbd'](getFrameworkVersion,_0x158df3)};continue;case'1':process['env'][_0x5d4f29(0xf6)]=JSON[_0x5d4f29(0x133)](this['automationFrameworkDetail']);continue;case'2':this[_0x5d4f29(0x10d)]={'name':_0x5b8980,'version':{[_0x5b8980]:_0x1a1095[_0x5d4f29(0xb7)](getFrameworkVersion,_0x5b8980)}};continue;case'3':_0x1a1095['OsDFk'](!_0x5b8980,!_0x158df3)&&logger[_0x5d4f29(0xbf)](_0x5d4f29(0xc3)+_0x5b8980+_0x5d4f29(0xc6)+_0x158df3);continue;case'4':process['env'][_0x5d4f29(0x10a)]=JSON[_0x5d4f29(0x133)](this['testFrameworkDetail']);continue;}break;}}static[a60_0x137418(0x129)](_0x223401,_0x33166e){return _0x223401+':'+_0x33166e;}static[a60_0x137418(0xd9)](){return process['pid']+':'+threadId;}static[a60_0x137418(0xdf)](_0x5ebab5){const _0x558456=a60_0x137418;if(_0x5ebab5['testContextOptions']&&_0x5ebab5[_0x558456(0xdd)][_0x558456(0x11d)])return!![];return![];}static[a60_0x137418(0x13e)](_0x4765c1){const _0x1f22ff=a60_0x137418;if(_0x4765c1[_0x1f22ff(0xdd)]&&_0x4765c1[_0x1f22ff(0xdd)][_0x1f22ff(0x11b)])return!![];return![];}static['matchHookRegex'](_0x1a1010){const _0x47d660=a60_0x137418,_0x224c82=new RegExp(TestFrameworkConstants['HOOK_REGEX']);return _0x224c82[_0x47d660(0x9a)](_0x1a1010);}}function a60_0x295d(_0x49cee1,_0x444145){const _0x1057bc=a60_0x1057();return a60_0x295d=function(_0x295d3f,_0x3cf45a){_0x295d3f=_0x295d3f-0x8e;let _0x1e2933=_0x1057bc[_0x295d3f];return _0x1e2933;},a60_0x295d(_0x49cee1,_0x444145);}function a60_0x1057(){const _0x39ea6a=['SHELL_EXECUTE_ERROR','isFile',',\x20automationFramework=','open','BROWSERSTACK_BINARY_URL','otZmZ','Downloading\x20SDK\x20binary\x20from:\x20','6973677hdzNnO','statSync','eiDZu','start','Gfgwe','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','yauzl','sSTAT','3|2|0|1|4','3gmvpnm','khyLF','kZgGb','ThwCx','parse','getCurrentInstanceName','format','existsSync','../../helpers/performance/constants','testContextOptions','1878654Ymnqfi','shouldSkipSessionName','runShellCommand','end','XGMXi','pyDtb','downloadFileStream','ZuAuO','NxtAc','platform','TaxvP','147217EKvoTu','Failed\x20to\x20download\x20binary,\x20Exception:\x20','worker_threads','hbRpM','qYHde','jauhl','ryjGL','Configuring\x20Cli\x20path.','Resolved\x20binary\x20path:\x20','WxKrV','Setting\x20required\x20permissions\x20to\x20','unlink','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','iQuPM','WuEHs','getWritableDir','fileName','mciHS','close','development','openReadStream','cTgTG','JsMnN','../../../package.json','filter','pipe','NOpqF','sSNQm','ZpbXW','getExistingCliPath','BROWSERSTACK_CLI_ENV','Error\x20while\x20reading\x20CLI\x20path:\x20','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','BROWSERSTACK_FILES_DIR','DWSFS','testFrameworkDetail','EplhS','1072756XyAnXP','length','GWtSZ','node','SDK_CLI_CHECK_UPDATE','SDK_CLI_BIN_PATH','info','env','XjCqT','listen','iZQXQ','961888eLqhlR','skipSessionStatus','osmYJ','skipSessionName','version','10rqgfEp','setupCliPath','../../helpers/helper','./framework/constants/testFrameworkConstants.js','../../helpers/classLogger.js','util','cli_version','nCseC','homedir','../utils/constants','getHookRegistryKey','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','BsHFt','./state/testFrameworkState.js','unix:/tmp/sdk-platform-','requestToUpdateCLI','anQiG','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','./state/automationFrameworkState.js','entry','stringify','\x20already\x20exists','gDqEk','GET','map','data','getSdkVersion','checkAndUpdateCli','IoXNj','NLHbx','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','shouldSkipSessionStatus','eQnBI','join','split','FbhEy','3153055PPEXCG','RyzEM','SDK_CLI_DOWNLOAD','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','isDirectory','createWriteStream','response\x20','Current\x20CLI\x20Path\x20Found:\x20','Folder\x20','timeout','bzuKH','NlSjB','downloaded_file.zip','error','readdirSync','PfMVz','cli','test','./state/hookState.js','37124YaOBhW','HQuZr','../../helpers/test-observability/utils.js','trim','cwd','exports','filePath','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','mtime','automationFrameworkDetail','once','downloadLatestBinary','follow-redirects','iAyNf','path','200ETQgcS','./instances/testFrameworkInstance.js','url','getCliDir','../../helpers/performance/performance-tester.js','arch','startsWith','qHJgX','warn','Folder\x20does\x20not\x20exist:\x20','tmpdir','readEntry','QQvVT','zftTW','rVKaz','\x20version','getCLIParamsForDevEnv','get','dtISY','jOliw','debug','0755','nWpxl','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework='];a60_0x1057=function(){return _0x39ea6a;};return a60_0x1057();}module[a60_0x137418(0xa1)]=CLIUtils;