function a64_0x1f66(_0x1b62ac,_0x49c932){const _0x51ff68=a64_0x51ff();return a64_0x1f66=function(_0x1f6681,_0x5b87b5){_0x1f6681=_0x1f6681-0xa9;let _0x4ea6e3=_0x51ff68[_0x1f6681];return _0x4ea6e3;},a64_0x1f66(_0x1b62ac,_0x49c932);}const a64_0x55f999=a64_0x1f66;(function(_0x52cc6e,_0x1b3cce){const _0x149ea6=a64_0x1f66,_0x207eaa=_0x52cc6e();while(!![]){try{const _0x570352=parseInt(_0x149ea6(0x112))/0x1*(-parseInt(_0x149ea6(0x162))/0x2)+-parseInt(_0x149ea6(0xf6))/0x3*(-parseInt(_0x149ea6(0x14d))/0x4)+parseInt(_0x149ea6(0x12f))/0x5*(parseInt(_0x149ea6(0x108))/0x6)+parseInt(_0x149ea6(0x159))/0x7*(parseInt(_0x149ea6(0xfb))/0x8)+-parseInt(_0x149ea6(0x117))/0x9*(parseInt(_0x149ea6(0xed))/0xa)+parseInt(_0x149ea6(0xb5))/0xb*(parseInt(_0x149ea6(0xce))/0xc)+-parseInt(_0x149ea6(0x153))/0xd;if(_0x570352===_0x1b3cce)break;else _0x207eaa['push'](_0x207eaa['shift']());}catch(_0x57da45){_0x207eaa['push'](_0x207eaa['shift']());}}}(a64_0x51ff,0xa60fb));const fs=require('fs'),os=require('os'),url=require(a64_0x55f999(0xbc)),path=require('path'),{exec}=require(a64_0x55f999(0x15f)),{https}=require(a64_0x55f999(0xda)),yauzl=require(a64_0x55f999(0x134)),util=require('util'),{getFrameworkVersion}=require(a64_0x55f999(0x115)),{threadId}=require('worker_threads'),PerformanceTester=require(a64_0x55f999(0xaa)),{EVENTS:PerformanceEvents}=require(a64_0x55f999(0x105)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require('../../helpers/utilities'),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require('../../helpers/helper'),{UPDATED_CLI_ENDPOINT,BINARY_BUSY_ERROR_CODES}=require('../utils/constants'),{createClassLogger}=require('../../helpers/classLogger.js'),TestFrameworkInstance=require('./instances/testFrameworkInstance.js'),HookState=require(a64_0x55f999(0x109)),TestFrameworkState=require(a64_0x55f999(0x118)),AutomationFrameworkState=require('./state/automationFrameworkState.js'),TestFrameworkConstants=require(a64_0x55f999(0x103)),logger=createClassLogger('CLIUtils'),{getBStackAPIUrl}=require(a64_0x55f999(0x133));class CLIUtils{['automationFrameworkDetail']={};[a64_0x55f999(0x144)]={};static[a64_0x55f999(0xf5)](){const _0x37a2ad=a64_0x55f999,_0x5244a3={};_0x5244a3[_0x37a2ad(0xa9)]=function(_0x40726f,_0x3516c1){return _0x40726f===_0x3516c1;},_0x5244a3[_0x37a2ad(0xb6)]=_0x37a2ad(0x15b);const _0x8835f4=_0x5244a3;return _0x8835f4['GasNv'](process['env'][_0x37a2ad(0xc5)],_0x8835f4[_0x37a2ad(0xb6)]);}static[a64_0x55f999(0x12e)](){const _0x4d74d2=a64_0x55f999,_0x1123d3={};return _0x1123d3['id']=process[_0x4d74d2(0xf1)]['BROWSERSTACK_CLI_ENV'],_0x1123d3[_0x4d74d2(0x11e)]=_0x4d74d2(0x12c)+process['env']['BROWSERSTACK_CLI_ENV']+_0x4d74d2(0xee),_0x1123d3;}static[a64_0x55f999(0xfe)](){const _0x1d6198=a64_0x55f999,_0x4bccfc={'YHXtB':function(_0x4ffac4,_0x384d1a){return _0x4ffac4(_0x384d1a);},'drIUW':'../../../package.json'};return _0x4bccfc[_0x1d6198(0xd9)](require,_0x4bccfc[_0x1d6198(0x166)])[_0x1d6198(0x15a)];}static[a64_0x55f999(0x143)](){const _0x3cbfcf=a64_0x55f999,_0x5abb01={};_0x5abb01[_0x3cbfcf(0xbf)]='node';const _0x4f6253=_0x5abb01;return _0x4f6253[_0x3cbfcf(0xbf)];}static async[a64_0x55f999(0x152)](_0x29af66){const _0x431dae=a64_0x55f999,_0x58d22a={'nPloc':_0x431dae(0x164),'YMXpM':function(_0x2415aa,_0x1672b7){return _0x2415aa(_0x1672b7);},'fYGDI':_0x431dae(0xf9)};logger['debug'](_0x58d22a[_0x431dae(0xc7)]);const _0x5070b7=process[_0x431dae(0xf1)]['SDK_CLI_BIN_PATH'];if(!_0x58d22a[_0x431dae(0xf4)](isNullOrEmpty,_0x5070b7))return logger[_0x431dae(0xfd)](_0x431dae(0x13d)+_0x5070b7),_0x5070b7;try{const _0x2406fa=this[_0x431dae(0x113)]();if(_0x58d22a[_0x431dae(0xf4)](isNullOrEmpty,_0x2406fa))throw new Error(_0x58d22a[_0x431dae(0x12d)]);const _0x49996e=this[_0x431dae(0x11b)](_0x2406fa),_0xa1b05d=await this[_0x431dae(0xe7)](_0x49996e,_0x2406fa,_0x29af66);return logger[_0x431dae(0xfd)](_0x431dae(0x13c)+_0xa1b05d),_0xa1b05d;}catch(_0x4403f1){logger[_0x431dae(0xfd)](_0x431dae(0x158)+util[_0x431dae(0xe9)](_0x4403f1));}return null;}static async[a64_0x55f999(0xe7)](_0x71d00d,_0x4ca3d0,_0x96d1c8){const _0x383534=a64_0x55f999,_0x3adfb6={'smMqx':function(_0x2d628c){return _0x2d628c();},'FPYBC':function(_0x20658c,_0x3a3fe7){return _0x20658c(_0x3a3fe7);},'WJirW':function(_0x20353f,_0x2ab71d,_0x26e2a3){return _0x20353f(_0x2ab71d,_0x26e2a3);},'cgXqR':_0x383534(0xc3),'UwrUk':'url','nSncT':function(_0x5cdf3c,_0x2db354){return _0x5cdf3c(_0x2db354);},'XYJqX':function(_0x348ce4,_0x932a6e,_0x5854ad){return _0x348ce4(_0x932a6e,_0x5854ad);}};PerformanceTester['start'](PerformanceEvents[_0x383534(0x157)]),logger[_0x383534(0x165)]('Current\x20CLI\x20Path\x20Found:\x20'+_0x71d00d);const _0x1fbddd=_0x3adfb6[_0x383534(0xab)](getHostInfo),_0x5eb3f2={'sdk_version':CLIUtils[_0x383534(0xfe)](),'os':_0x1fbddd[_0x383534(0xea)],'os_arch':_0x1fbddd['arch'],'cli_version':'0','sdk_language':this[_0x383534(0x143)]()};!_0x3adfb6[_0x383534(0x136)](isNullOrEmpty,_0x71d00d)&&(_0x5eb3f2[_0x383534(0x151)]=await this[_0x383534(0xaf)](_0x71d00d+_0x383534(0xd5)));const _0x34e9ce=await this['requestToUpdateCLI'](_0x5eb3f2,_0x96d1c8);process[_0x383534(0xf1)][_0x383534(0x168)]&&(logger['info']('Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20'+process['env'][_0x383534(0x168)]),_0x34e9ce[_0x383534(0xc3)]['url']=process[_0x383534(0xf1)]['BROWSERSTACK_BINARY_URL']);if(_0x3adfb6[_0x383534(0x139)](nestedKeyValue,_0x34e9ce,[_0x3adfb6[_0x383534(0xfc)],_0x3adfb6['UwrUk']])){logger[_0x383534(0xfd)](_0x383534(0x167)+_0x5eb3f2[_0x383534(0x151)]);if(!_0x3adfb6['nSncT'](isNullOrEmpty,_0x71d00d)&&this['isBinaryBusy'](_0x71d00d))return logger['warn'](_0x383534(0x161)+_0x71d00d),PerformanceTester[_0x383534(0x160)](PerformanceEvents[_0x383534(0x157)]),_0x71d00d;const _0x2b7b00=await this[_0x383534(0xae)](_0x3adfb6['XYJqX'](nestedKeyValue,_0x34e9ce,[_0x3adfb6['cgXqR'],_0x3adfb6[_0x383534(0xb7)]]),_0x4ca3d0);return PerformanceTester['end'](PerformanceEvents[_0x383534(0x157)]),_0x2b7b00;}return PerformanceTester['end'](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x71d00d;}static[a64_0x55f999(0x113)](){const _0xe253dd=a64_0x55f999,_0x501671={'Uesrp':function(_0x4b9270,_0x4aa5f1){return _0x4b9270(_0x4aa5f1);},'DFMeb':'No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','pBkUo':_0xe253dd(0x11f)},_0x129135=this[_0xe253dd(0x10d)]();try{if(_0x501671[_0xe253dd(0xec)](isNullOrEmpty,_0x129135))throw new Error(_0x501671[_0xe253dd(0x128)]);const _0x4b9d83=path[_0xe253dd(0xeb)](_0x129135,_0x501671[_0xe253dd(0xe1)]);return!fs['existsSync'](_0x4b9d83)&&_0x501671[_0xe253dd(0xec)](createDir,_0x4b9d83),_0x4b9d83;}catch(_0x906c95){logger[_0xe253dd(0xfd)]('Error\x20in\x20getting\x20writable\x20directory,\x20writableDir='+util[_0xe253dd(0xe9)](_0x906c95));}}static['getWritableDir'](){const _0x31ad97=a64_0x55f999,_0x5a2daf={'lcCpZ':'.browserstack','bbYjV':function(_0x1f2407,_0x4a4fcb){return _0x1f2407(_0x4a4fcb);},'isFkY':function(_0x14691b,_0xbe560c){return _0x14691b(_0xbe560c);},'OgZnc':function(_0x668317,_0x5cb7b2){return _0x668317(_0x5cb7b2);}},_0x1181f0=[process[_0x31ad97(0xf1)]['BROWSERSTACK_FILES_DIR'],path[_0x31ad97(0xeb)](os[_0x31ad97(0x101)](),_0x5a2daf[_0x31ad97(0x14b)]),path[_0x31ad97(0xeb)](os[_0x31ad97(0x104)](),_0x5a2daf[_0x31ad97(0x14b)])];for(const _0x4b20b1 of _0x1181f0){if(_0x5a2daf[_0x31ad97(0xde)](isNullOrEmpty,_0x4b20b1))continue;try{if(fs['existsSync'](_0x4b20b1)){logger[_0x31ad97(0xfd)]('Folder\x20'+_0x4b20b1+_0x31ad97(0xcb));if(!_0x5a2daf[_0x31ad97(0xde)](isModifiable,_0x4b20b1)){logger[_0x31ad97(0xfd)](_0x31ad97(0xf8)+_0x4b20b1);const _0x2e34a5=_0x5a2daf['bbYjV'](setReadWriteExecuteAccess,_0x4b20b1);if(!_0x5a2daf[_0x31ad97(0x141)](isTrue,_0x2e34a5)){logger[_0x31ad97(0xc2)](_0x31ad97(0xfa)+_0x4b20b1);continue;}}}else{logger[_0x31ad97(0xfd)]('Folder\x20does\x20not\x20exist:\x20'+_0x4b20b1),_0x5a2daf['isFkY'](createDir,_0x4b20b1),logger['debug'](_0x31ad97(0xf8)+_0x4b20b1);const _0x3bc742=_0x5a2daf['bbYjV'](setReadWriteExecuteAccess,_0x4b20b1);!_0x5a2daf['OgZnc'](isTrue,_0x3bc742)&&logger[_0x31ad97(0xc2)](_0x31ad97(0xfa)+_0x4b20b1);}return _0x4b20b1;}catch(_0x56461a){logger[_0x31ad97(0xc9)](_0x31ad97(0x122)+util[_0x31ad97(0xe9)](_0x56461a));}}return null;}static[a64_0x55f999(0x11b)](_0x25b0e8){const _0x597d64=a64_0x55f999,_0x41ac06={};_0x41ac06[_0x597d64(0xdd)]=function(_0x14fd68,_0x25c622){return _0x14fd68>_0x25c622;},_0x41ac06[_0x597d64(0x10b)]=function(_0x151d32,_0x1734ef){return _0x151d32>_0x1734ef;};const _0x1fa808=_0x41ac06;try{if(!fs[_0x597d64(0x107)](_0x25b0e8)||!fs[_0x597d64(0x135)](_0x25b0e8)[_0x597d64(0xc8)]())return'';const _0x2e7335=fs[_0x597d64(0xe5)](_0x25b0e8)[_0x597d64(0x11d)](_0x317904=>path[_0x597d64(0xeb)](_0x25b0e8,_0x317904))['filter'](_0x18c553=>fs['statSync'](_0x18c553)['isFile']()&&path['basename'](_0x18c553)[_0x597d64(0xb2)](_0x597d64(0x131)));if(_0x1fa808[_0x597d64(0x10b)](_0x2e7335['length'],0x0)){const _0x3544fb=_0x2e7335[_0x597d64(0x11d)](_0x54786b=>({'filePath':_0x54786b,'mtime':fs[_0x597d64(0x135)](_0x54786b)[_0x597d64(0x10c)]}))[_0x597d64(0xd3)]((_0x49fe1d,_0x5e020f)=>{const _0x1eb6f1=_0x597d64;if(!_0x49fe1d||!_0x49fe1d[_0x1eb6f1(0x10c)])return _0x5e020f;if(_0x1fa808[_0x1eb6f1(0xdd)](_0x5e020f[_0x1eb6f1(0x10c)],_0x49fe1d[_0x1eb6f1(0x10c)]))return _0x5e020f;return _0x49fe1d;},{});return _0x3544fb?_0x3544fb[_0x597d64(0xdc)]:'';}return'';}catch(_0x385afe){return logger[_0x597d64(0xc9)]('Error\x20while\x20reading\x20CLI\x20path:\x20'+util[_0x597d64(0xe9)](_0x385afe)),'';}}static [a64_0x55f999(0xb0)]=async(_0x941367,_0x28e999)=>{const _0x1cd635=a64_0x55f999,_0x29f3f2={'ekEmq':function(_0x3838a1,_0x375b15,_0x58064a,_0xaff369,_0xef2ec){return _0x3838a1(_0x375b15,_0x58064a,_0xaff369,_0xef2ec);},'KlqBf':'GET'},_0x692266={};_0x692266['qs']=_0x941367;const _0x542fd8=await _0x29f3f2[_0x1cd635(0x120)](nodeRequest,_0x29f3f2[_0x1cd635(0x146)],UPDATED_CLI_ENDPOINT,_0x692266,_0x28e999);return logger[_0x1cd635(0xfd)](_0x1cd635(0xc0)+JSON[_0x1cd635(0x11a)](_0x542fd8)),_0x542fd8;};static[a64_0x55f999(0xcf)](_0x2fd4c2){const _0x496f9d=a64_0x55f999;try{const _0x491f24=fs['openSync'](_0x2fd4c2,'r+');return fs[_0x496f9d(0x148)](_0x491f24),![];}catch(_0x2f580){if(BINARY_BUSY_ERROR_CODES[_0x496f9d(0x15d)](_0x2f580[_0x496f9d(0x154)]))return logger['debug'](_0x496f9d(0xc1)+_0x2fd4c2),!![];return logger[_0x496f9d(0xfd)](_0x496f9d(0x15e)+_0x2f580[_0x496f9d(0x10a)]),![];}}static[a64_0x55f999(0xaf)](_0x3f20ab,_0x35b6ce=''){const _0x162ed1=a64_0x55f999,_0x27d8ef={'yuZny':_0x162ed1(0x15a),'VtxiG':function(_0x56fdf3,_0x4deeb8){return _0x56fdf3(_0x4deeb8);},'CPWBw':'SHELL_EXECUTE_ERROR','vaORN':function(_0x40da16,_0x3727c5,_0x22fad0,_0x47f885){return _0x40da16(_0x3727c5,_0x22fad0,_0x47f885);},'bKtRR':_0x162ed1(0xc9)};return new Promise((_0x1f044a,_0x3cc7a5)=>{const _0x56d451=_0x162ed1,_0x2ccd9a={'BvWEX':function(_0x2c2f66,_0x1cb8fa){return _0x27d8ef['VtxiG'](_0x2c2f66,_0x1cb8fa);},'WtJYn':_0x27d8ef[_0x56d451(0x163)]},_0x168c58={};_0x168c58[_0x56d451(0x150)]=_0x35b6ce,_0x168c58['timeout']=0x1388;const _0x4363b4=_0x27d8ef[_0x56d451(0x155)](exec,_0x3f20ab,_0x168c58,(_0x5c6ba9,_0x4f55f9,_0x443bd2)=>{const _0x799520=_0x56d451;if(_0x5c6ba9){if(_0x3f20ab[_0x799520(0x15d)](_0x27d8ef[_0x799520(0xd6)])&&(_0x4f55f9['trim']()||_0x443bd2[_0x799520(0xad)]())){const _0x39a5a3=_0x4f55f9[_0x799520(0xad)]()||_0x443bd2[_0x799520(0xad)]();logger[_0x799520(0xfd)](_0x799520(0x110)+_0x39a5a3+'\x22'),_0x27d8ef[_0x799520(0x130)](_0x1f044a,_0x39a5a3);}else _0x27d8ef['VtxiG'](_0x1f044a,_0x443bd2[_0x799520(0xad)]()||_0x27d8ef[_0x799520(0x163)]);}else logger['debug'](_0x799520(0xef)+_0x4f55f9['trim']()+'\x22'),_0x27d8ef[_0x799520(0x130)](_0x1f044a,_0x4f55f9[_0x799520(0xad)]());});_0x4363b4['on'](_0x27d8ef['bKtRR'],()=>{const _0x3cce64=_0x56d451;_0x2ccd9a['BvWEX'](_0x1f044a,_0x2ccd9a[_0x3cce64(0xcd)]);});});}static [a64_0x55f999(0xae)]=async(_0x439c1b,_0x7b343f)=>{const _0x18dc18=a64_0x55f999,_0x402542={'uzbkf':_0x18dc18(0x140),'nItMZ':function(_0x20410c,_0x4bcb8a){return _0x20410c(_0x4bcb8a);},'HLysM':'error','KoGTo':_0x18dc18(0xbb),'NzvWz':function(_0x4a0613,_0x52a600){return _0x4a0613(_0x52a600);},'yhQFa':_0x18dc18(0xf0)};PerformanceTester[_0x18dc18(0x132)](PerformanceEvents[_0x18dc18(0xd1)]),logger['debug']('Downloading\x20SDK\x20binary\x20from:\x20'+_0x439c1b);try{const _0x1572d2=url[_0x18dc18(0xdf)](_0x439c1b),_0x60baac=path['join'](_0x7b343f,_0x402542[_0x18dc18(0xd4)]),_0x2cdf03=fs['createWriteStream'](_0x60baac);return new Promise((_0x3e20a0,_0x3e437e)=>{const _0x47bd55=_0x18dc18,_0x3294e3={'gKWNq':_0x402542[_0x47bd55(0x119)],'FLrwm':function(_0x4ffbf6,_0x4686c4){return _0x402542['nItMZ'](_0x4ffbf6,_0x4686c4);},'BEVEA':function(_0x493853,_0x1571f9){const _0x11e7bf=_0x47bd55;return _0x402542[_0x11e7bf(0x124)](_0x493853,_0x1571f9);}};https[_0x47bd55(0x10f)](_0x1572d2,function(_0x53e25a){const _0x32738b=_0x47bd55,_0x2c7e3e={'rANwX':_0x402542['uzbkf'],'REjBY':function(_0x16b021,_0x370249){const _0x5a7164=a64_0x1f66;return _0x402542[_0x5a7164(0x13e)](_0x16b021,_0x370249);}},_0x3c495f=null;_0x53e25a[_0x32738b(0xb9)](_0x2cdf03),_0x53e25a['on'](_0x402542[_0x32738b(0xca)],function(_0x174a3e){const _0x155795=_0x32738b;logger[_0x155795(0xc9)](util['format'](_0x2c7e3e[_0x155795(0xb4)],_0x174a3e)),PerformanceTester[_0x155795(0x160)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x155795(0xe9)](_0x174a3e)),_0x2c7e3e['REjBY'](_0x3e437e,_0x174a3e);}),_0x2cdf03['on'](_0x402542['HLysM'],function(_0x2e61e3){const _0x3d5f54=_0x32738b;logger['error'](util['format'](_0x3294e3[_0x3d5f54(0xf7)],_0x2e61e3)),PerformanceTester[_0x3d5f54(0x160)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util['format'](_0x2e61e3)),_0x3294e3[_0x3d5f54(0xb8)](_0x3e437e,_0x2e61e3);}),CLIUtils[_0x32738b(0xe0)](_0x2cdf03,_0x3c495f,_0x60baac,_0x7b343f,_0x3e20a0,_0x3e437e),PerformanceTester['end'](PerformanceEvents[_0x32738b(0xd1)]);})['on'](_0x402542['HLysM'],function(_0xb72f88){const _0x4fe608=_0x47bd55;logger[_0x4fe608(0xc9)](_0x4fe608(0xff)+util[_0x4fe608(0xe9)](_0xb72f88)),PerformanceTester[_0x4fe608(0x160)](PerformanceEvents[_0x4fe608(0xd1)],![],util[_0x4fe608(0xe9)](_0xb72f88)),_0x3294e3['BEVEA'](_0x3e437e,_0xb72f88);});});}catch(_0x16303){PerformanceTester[_0x18dc18(0x160)](PerformanceEvents[_0x18dc18(0xd1)],![],util[_0x18dc18(0xe9)](_0x16303)),logger[_0x18dc18(0xfd)](_0x18dc18(0xba)+util[_0x18dc18(0xe9)](_0x16303));}};static['downloadFileStream'](_0x4cba67,_0x2b4305,_0x2fd548,_0x531eb9,_0x1590fd,_0x339084){const _0x29e9f8=a64_0x55f999,_0x1d90db={'gLrRL':function(_0x44b4db,_0x3f7271){return _0x44b4db(_0x3f7271);},'tHFOu':'end','LSPhL':function(_0x6d76b8,_0x531400){return _0x6d76b8(_0x531400);},'CHDEl':_0x29e9f8(0xc9),'IqDLq':function(_0x5eca2e,_0x52f382){return _0x5eca2e===_0x52f382;},'HOvJH':function(_0x53d818,_0x1393ef){return _0x53d818(_0x1393ef);},'ActKG':'entry','BXRqY':_0x29e9f8(0xd0),'gBotn':'close'};_0x4cba67['on'](_0x1d90db['gBotn'],function(){const _0x5746fb=_0x29e9f8,_0x3d0789={'FTDcB':function(_0x264120,_0x1dcf69){const _0x42b7c3=a64_0x1f66;return _0x1d90db[_0x42b7c3(0x14f)](_0x264120,_0x1dcf69);},'vSgvS':_0x1d90db[_0x5746fb(0xdb)]},_0x2712eb={};_0x2712eb['lazyEntries']=!![],yauzl[_0x5746fb(0xd8)](_0x2fd548,_0x2712eb,function(_0x132b64,_0x6b010f){const _0x30f9b1=_0x5746fb,_0x2c87fc={'anVRe':function(_0x2531cc,_0x140be6){const _0x4f13fd=a64_0x1f66;return _0x1d90db[_0x4f13fd(0x14f)](_0x2531cc,_0x140be6);},'wrdBi':_0x1d90db[_0x30f9b1(0xe3)],'SFlaZ':function(_0x1bcfd1,_0x339ff6){const _0x4e7dba=_0x30f9b1;return _0x1d90db[_0x4e7dba(0x10e)](_0x1bcfd1,_0x339ff6);},'WMQkb':_0x1d90db[_0x30f9b1(0xe4)],'ifVNu':function(_0x25361d,_0x15baad){const _0x411f76=_0x30f9b1;return _0x1d90db[_0x411f76(0x137)](_0x25361d,_0x15baad);}};_0x132b64&&_0x1d90db['HOvJH'](_0x339084,_0x132b64),_0x6b010f[_0x30f9b1(0x102)](),_0x6b010f['on'](_0x1d90db[_0x30f9b1(0x123)],_0x562a7b=>{const _0x2fb644=_0x30f9b1,_0x2aa0cf={'vlHvm':function(_0x329bea,_0x3328a9){const _0x57ac8a=a64_0x1f66;return _0x2c87fc[_0x57ac8a(0x14c)](_0x329bea,_0x3328a9);},'nzmcm':function(_0xd59719,_0x43e99e){return _0x2c87fc['anVRe'](_0xd59719,_0x43e99e);},'JuuuA':_0x2c87fc['wrdBi']};!_0x2b4305&&(_0x2b4305=_0x562a7b['fileName']);if(/\/$/['test'](_0x562a7b[_0x2fb644(0x106)]))_0x6b010f[_0x2fb644(0x102)]();else{const _0x46e300=_0x562a7b[_0x2fb644(0x106)],_0x5f40e1=path[_0x2fb644(0xeb)](_0x531eb9,_0x46e300);let _0x1bf069;try{_0x1bf069=fs['createWriteStream'](_0x5f40e1);}catch(_0x501c26){if(BINARY_BUSY_ERROR_CODES[_0x2fb644(0x15d)](_0x501c26['code'])){logger['warn'](_0x2fb644(0x138)+_0x46e300),fs[_0x2fb644(0x111)](_0x2fd548,_0x4e5cab=>{const _0x2d73f0=_0x2fb644;_0x4e5cab&&logger[_0x2d73f0(0xc2)](_0x2d73f0(0x13a)+_0x2fd548);}),_0x2c87fc[_0x2fb644(0x14c)](_0x1590fd,_0x5f40e1);return;}_0x2c87fc['SFlaZ'](_0x339084,_0x501c26);return;}_0x1bf069['on'](_0x2c87fc[_0x2fb644(0x116)],_0x501915=>{const _0x4149aa=_0x2fb644;BINARY_BUSY_ERROR_CODES[_0x4149aa(0x15d)](_0x501915[_0x4149aa(0x154)])?(logger['warn'](_0x4149aa(0x114)+_0x501915[_0x4149aa(0x10a)]),_0x1bf069[_0x4149aa(0x147)](),fs[_0x4149aa(0x111)](_0x2fd548,_0x3cd2d0=>{const _0xa2cb6a=_0x4149aa;_0x3cd2d0&&logger[_0xa2cb6a(0xc2)](_0xa2cb6a(0x13a)+_0x2fd548);}),_0x2aa0cf['vlHvm'](_0x1590fd,_0x5f40e1)):_0x2aa0cf[_0x4149aa(0xf2)](_0x339084,_0x501915);}),_0x6b010f[_0x2fb644(0xe8)](_0x562a7b,function(_0x12a452,_0x293042){const _0x4acdaa=_0x2fb644;_0x12a452&&_0x2aa0cf['nzmcm'](_0x339084,_0x12a452),_0x293042['on'](_0x2aa0cf[_0x4acdaa(0x145)],function(){const _0x4f843d=_0x4acdaa;_0x1bf069[_0x4f843d(0x147)](),_0x6b010f[_0x4f843d(0x102)]();}),_0x293042[_0x4acdaa(0xb9)](_0x1bf069);}),_0x2c87fc['ifVNu'](_0x562a7b[_0x2fb644(0x106)],_0x2b4305)&&_0x6b010f['close']();}}),_0x6b010f['on'](_0x1d90db[_0x30f9b1(0xe4)],_0x5650f0=>{_0x2c87fc['anVRe'](_0x339084,_0x5650f0);}),_0x6b010f[_0x30f9b1(0xb3)](_0x1d90db[_0x30f9b1(0xe3)],()=>{const _0x243e4c=_0x30f9b1,_0x3d9cd6={'WpzSH':function(_0x504b24,_0x5e178f){const _0x59acc6=a64_0x1f66;return _0x3d0789[_0x59acc6(0x13b)](_0x504b24,_0x5e178f);},'lvNWr':function(_0x1b4c16,_0x583397){const _0x500107=a64_0x1f66;return _0x3d0789[_0x500107(0x13b)](_0x1b4c16,_0x583397);}};fs['unlink'](_0x2fd548,_0x40ebcc=>{const _0x4d2a23=a64_0x1f66;_0x40ebcc&&logger[_0x4d2a23(0xc2)](_0x4d2a23(0x13a)+_0x2fd548);}),fs['chmod'](path[_0x243e4c(0xeb)](_0x531eb9,_0x2b4305),_0x3d0789[_0x243e4c(0x14a)],function(_0x33a890){const _0x43369e=_0x243e4c;_0x33a890&&_0x3d9cd6[_0x43369e(0xe6)](_0x339084,_0x33a890),_0x3d9cd6[_0x43369e(0x14e)](_0x1590fd,path[_0x43369e(0xeb)](_0x531eb9,_0x2b4305));}),_0x6b010f['close']();});});});}static['getTestFrameworkDetail'](){const _0x234b62=a64_0x55f999;if(process[_0x234b62(0xf1)]['BROWSERSTACK_TEST_FRAMEWORK_DETAIL'])return JSON[_0x234b62(0xdf)](process['env'][_0x234b62(0xc4)]);return this[_0x234b62(0x144)];}static[a64_0x55f999(0xc6)](){const _0x3dd563=a64_0x55f999;if(process[_0x3dd563(0xf1)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL'])return JSON[_0x3dd563(0xdf)](process[_0x3dd563(0xf1)][_0x3dd563(0xbe)]);return this['automationFrameworkDetail'];}static[a64_0x55f999(0x13f)](_0x30a03c,_0x50bfa4){const _0x586d42=a64_0x55f999,_0x2fa94b={'Zbomx':_0x586d42(0x100),'dyqql':function(_0x53d921,_0x1ed8c0){return _0x53d921(_0x1ed8c0);},'EPuWh':function(_0x24e07a,_0x2fd1e2){return _0x24e07a||_0x2fd1e2;}},_0x26ddf9=_0x2fa94b[_0x586d42(0x156)][_0x586d42(0x15c)]('|');let _0x218e01=0x0;while(!![]){switch(_0x26ddf9[_0x218e01++]){case'0':this[_0x586d42(0xbd)]={'name':_0x50bfa4,'version':_0x2fa94b[_0x586d42(0x12b)](getFrameworkVersion,_0x50bfa4)};continue;case'1':process[_0x586d42(0xf1)][_0x586d42(0xbe)]=JSON[_0x586d42(0x11a)](this[_0x586d42(0xbd)]);continue;case'2':process[_0x586d42(0xf1)][_0x586d42(0xc4)]=JSON[_0x586d42(0x11a)](this[_0x586d42(0x144)]);continue;case'3':_0x2fa94b[_0x586d42(0xd7)](!_0x30a03c,!_0x50bfa4)&&logger[_0x586d42(0xfd)](_0x586d42(0x125)+_0x30a03c+',\x20automationFramework='+_0x50bfa4);continue;case'4':this[_0x586d42(0x144)]={'name':_0x30a03c,'version':{[_0x30a03c]:_0x2fa94b[_0x586d42(0x12b)](getFrameworkVersion,_0x30a03c)}};continue;}break;}}static[a64_0x55f999(0x149)](_0x30d50b,_0x3ad9e6){return _0x30d50b+':'+_0x3ad9e6;}static['getCurrentInstanceName'](){const _0x152ae2=a64_0x55f999;return process[_0x152ae2(0x12a)]+':'+threadId;}static[a64_0x55f999(0x11c)](_0x2726d2){const _0x275718=a64_0x55f999;if(_0x2726d2[_0x275718(0xac)]&&_0x2726d2[_0x275718(0xac)]['skipSessionName'])return!![];return![];}static[a64_0x55f999(0x129)](_0x393be4){const _0x4cbabd=a64_0x55f999;if(_0x393be4['testContextOptions']&&_0x393be4[_0x4cbabd(0xac)][_0x4cbabd(0xf3)])return!![];return![];}static[a64_0x55f999(0x127)](_0x2579b7){const _0x401b84=a64_0x55f999,_0x479b04=new RegExp(TestFrameworkConstants[_0x401b84(0x169)]);return _0x479b04['test'](_0x2579b7);}static['mergeObject'](_0x51c623,_0x2b3501){const _0x1024d1=a64_0x55f999,_0x23f7f9={};_0x23f7f9[_0x1024d1(0x121)]=function(_0x31b1a9,_0x27a850){return _0x31b1a9!==_0x27a850;},_0x23f7f9[_0x1024d1(0xb1)]=function(_0xaee62e,_0x49c989){return _0xaee62e===_0x49c989;},_0x23f7f9['ZaxTn']=_0x1024d1(0x126);const _0x1210af=_0x23f7f9;for(const [_0x242d07,_0x3a79df]of Object[_0x1024d1(0xe2)](_0x2b3501)){if(_0x1210af[_0x1024d1(0x121)](_0x3a79df,null)&&_0x1210af[_0x1024d1(0xb1)](typeof _0x3a79df,_0x1210af[_0x1024d1(0x142)])&&!Array[_0x1024d1(0xcc)](_0x3a79df))_0x51c623[_0x242d07]=this['mergeObject'](_0x51c623[_0x242d07]||{},_0x3a79df);else Array[_0x1024d1(0xcc)](_0x3a79df)?_0x51c623[_0x242d07]=(_0x51c623[_0x242d07]||[])[_0x1024d1(0xd2)](_0x3a79df):_0x51c623[_0x242d07]=_0x3a79df;}return _0x51c623;}}function a64_0x51ff(){const _0x95097=['Got\x20Error\x20while\x20downloading\x20SDK\x20binary\x20file\x20%s','url','automationFrameworkDetail','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','vFKeG','response\x20','Binary\x20is\x20busy:\x20','warn','data','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','BROWSERSTACK_CLI_ENV','getAutomationFrameworkDetail','nPloc','isDirectory','error','HLysM','\x20already\x20exists','isArray','WtJYn','163896SYbFHC','isBinaryBusy','0755','SDK_CLI_DOWNLOAD','concat','reduce','yhQFa','\x20version','yuZny','EPuWh','open','YHXtB','follow-redirects','BXRqY','filePath','IsLeo','bbYjV','parse','downloadFileStream','pBkUo','entries','tHFOu','CHDEl','readdirSync','WpzSH','checkAndUpdateCli','openReadStream','format','platform','join','Uesrp','1300poNoto','.sock','Resolving\x20with\x20stdout:\x20\x22','downloaded_file.zip','env','vlHvm','skipSessionStatus','YMXpM','isDevelopmentEnv','3qLxXXP','gKWNq','Setting\x20required\x20permissions\x20to\x20','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','8Mdrrgr','cgXqR','debug','getSdkVersion','Got\x20Error\x20in\x20SDK\x20binary\x20downloading\x20request\x20','3|4|0|1|2','homedir','readEntry','./framework/constants/testFrameworkConstants.js','tmpdir','../../helpers/performance/constants','fileName','existsSync','636HVYCmh','./state/hookState.js','message','WkjuI','mtime','getWritableDir','LSPhL','get','CLI\x20version\x20found\x20despite\x20error:\x20\x22','unlink','8swavnz','getCliDir','Binary\x20file\x20became\x20busy\x20during\x20write,\x20continuing\x20with\x20existing\x20binary:\x20','../../helpers/test-observability/utils.js','WMQkb','33093ovpVAh','./state/testFrameworkState.js','KoGTo','stringify','getExistingCliPath','shouldSkipSessionName','map','listen','cli','ekEmq','hHQTo','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','ActKG','NzvWz','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','object','matchHookRegex','DFMeb','shouldSkipSessionStatus','pid','dyqql','unix:/tmp/sdk-platform-','fYGDI','getCLIParamsForDevEnv','31015bXGVDg','VtxiG','binary-','start','../utils/apiUtilityMethods.js','yauzl','statSync','FPYBC','IqDLq','Binary\x20file\x20is\x20currently\x20in\x20use,\x20skipping\x20download\x20and\x20continuing\x20with\x20existing\x20binary:\x20','WJirW','Failed\x20to\x20delete\x20zip\x20file:\x20','FTDcB','Resolved\x20binary\x20path:\x20','Development\x20Cli\x20Path:\x20','nItMZ','setFrameworkDetail','Got\x20Error\x20in\x20SDK\x20binary\x20download\x20response\x20%s','isFkY','ZaxTn','getSdkLanguage','testFrameworkDetail','JuuuA','KlqBf','close','closeSync','getHookRegistryKey','vSgvS','lcCpZ','anVRe','1931092olsMtB','lvNWr','gLrRL','cwd','cli_version','setupCliPath','4335318HfgpbW','code','vaORN','Zbomx','SDK_CLI_CHECK_UPDATE','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','3336368zABQwj','version','development','split','includes','Error\x20checking\x20if\x20binary\x20is\x20busy:\x20','child_process','end','Existing\x20binary\x20is\x20currently\x20in\x20use,\x20skipping\x20update\x20and\x20continuing\x20with\x20current\x20version:\x20','167888SbYqLm','CPWBw','Configuring\x20Cli\x20path.','info','drIUW','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','BROWSERSTACK_BINARY_URL','HOOK_REGEX','GasNv','../../helpers/performance/performance-tester.js','smMqx','testContextOptions','trim','downloadLatestBinary','runShellCommand','requestToUpdateCLI','EQtjs','startsWith','once','rANwX','440tJYLqH','vbafL','UwrUk','FLrwm','pipe','Failed\x20to\x20download\x20SDK\x20binary,\x20Exception:\x20'];a64_0x51ff=function(){return _0x95097;};return a64_0x51ff();}module['exports']=CLIUtils;