const a62_0x4a5005=a62_0x53e4;(function(_0x2dcd7d,_0xc0ba35){const _0x51864f=a62_0x53e4,_0x47b4de=_0x2dcd7d();while(!![]){try{const _0x2bd9e8=parseInt(_0x51864f(0x268))/0x1*(parseInt(_0x51864f(0x269))/0x2)+parseInt(_0x51864f(0x21e))/0x3+-parseInt(_0x51864f(0x277))/0x4+-parseInt(_0x51864f(0x215))/0x5+parseInt(_0x51864f(0x1df))/0x6*(-parseInt(_0x51864f(0x1ce))/0x7)+-parseInt(_0x51864f(0x1ed))/0x8+-parseInt(_0x51864f(0x23e))/0x9*(-parseInt(_0x51864f(0x254))/0xa);if(_0x2bd9e8===_0xc0ba35)break;else _0x47b4de['push'](_0x47b4de['shift']());}catch(_0x4f6348){_0x47b4de['push'](_0x47b4de['shift']());}}}(a62_0x1111,0x62a03));const fs=require('fs'),os=require('os'),url=require(a62_0x4a5005(0x237)),path=require(a62_0x4a5005(0x1fc)),{exec}=require(a62_0x4a5005(0x208)),{https}=require(a62_0x4a5005(0x1f7)),yauzl=require(a62_0x4a5005(0x220)),util=require(a62_0x4a5005(0x272)),{getFrameworkVersion}=require('../../helpers/test-observability/utils.js'),{threadId}=require('worker_threads'),PerformanceTester=require(a62_0x4a5005(0x1cb)),{EVENTS:PerformanceEvents}=require('../../helpers/performance/constants'),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require(a62_0x4a5005(0x24a)),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a62_0x4a5005(0x1de)),{UPDATED_CLI_ENDPOINT}=require(a62_0x4a5005(0x1e5)),{createClassLogger}=require(a62_0x4a5005(0x1f1)),TestFrameworkInstance=require(a62_0x4a5005(0x1bc)),HookState=require('./state/hookState.js'),TestFrameworkState=require('./state/testFrameworkState.js'),AutomationFrameworkState=require(a62_0x4a5005(0x236)),TestFrameworkConstants=require('./framework/constants/testFrameworkConstants.js'),logger=createClassLogger(a62_0x4a5005(0x1d4)),{getBStackAPIUrl}=require('../utils/apiUtilityMethods.js');function a62_0x53e4(_0x40bf33,_0x3ce15e){const _0x1111e3=a62_0x1111();return a62_0x53e4=function(_0x53e431,_0x2a9a3d){_0x53e431=_0x53e431-0x1b8;let _0x48132e=_0x1111e3[_0x53e431];return _0x48132e;},a62_0x53e4(_0x40bf33,_0x3ce15e);}class CLIUtils{[a62_0x4a5005(0x1c3)]={};[a62_0x4a5005(0x1e1)]={};static[a62_0x4a5005(0x21d)](){const _0x15a7ce=a62_0x4a5005,_0x3b8868={};_0x3b8868['RlCTD']=function(_0xa9bf67,_0x5ce17d){return _0xa9bf67===_0x5ce17d;},_0x3b8868[_0x15a7ce(0x26c)]='development';const _0x472f4c=_0x3b8868;return _0x472f4c['RlCTD'](process[_0x15a7ce(0x1f9)][_0x15a7ce(0x1d8)],_0x472f4c[_0x15a7ce(0x26c)]);}static[a62_0x4a5005(0x263)](){const _0x4f6c6f=a62_0x4a5005,_0x2f7cd6={};return _0x2f7cd6['id']=process[_0x4f6c6f(0x1f9)]['BROWSERSTACK_CLI_ENV'],_0x2f7cd6[_0x4f6c6f(0x271)]=_0x4f6c6f(0x218)+process[_0x4f6c6f(0x1f9)][_0x4f6c6f(0x1d8)]+'.sock',_0x2f7cd6;}static['getSdkVersion'](){const _0x5783b8=a62_0x4a5005,_0x421617={'WWXhd':function(_0x1930ce,_0x127708){return _0x1930ce(_0x127708);},'Xjpof':_0x5783b8(0x26a)};return _0x421617[_0x5783b8(0x264)](require,_0x421617['Xjpof'])['version'];}static[a62_0x4a5005(0x266)](){const _0x4a5fd0=a62_0x4a5005,_0x212b9c={};_0x212b9c[_0x4a5fd0(0x235)]=_0x4a5fd0(0x1da);const _0xe2425=_0x212b9c;return _0xe2425[_0x4a5fd0(0x235)];}static async[a62_0x4a5005(0x1bb)](_0x2095cc){const _0x4e0c3d=a62_0x4a5005,_0x297fdd={'bBddB':_0x4e0c3d(0x1eb),'eAmKY':function(_0x49a4b7,_0x258a39){return _0x49a4b7(_0x258a39);},'tzCRZ':function(_0x50c5d1,_0x478395){return _0x50c5d1(_0x478395);},'QnaEz':_0x4e0c3d(0x22b)};logger[_0x4e0c3d(0x210)](_0x297fdd[_0x4e0c3d(0x223)]);const _0x155336=process['env']['SDK_CLI_BIN_PATH'];if(!_0x297fdd[_0x4e0c3d(0x1fd)](isNullOrEmpty,_0x155336))return logger[_0x4e0c3d(0x210)]('Development\x20Cli\x20Path:\x20'+_0x155336),_0x155336;try{const _0x331882=this[_0x4e0c3d(0x22d)]();if(_0x297fdd[_0x4e0c3d(0x250)](isNullOrEmpty,_0x331882))throw new Error(_0x297fdd[_0x4e0c3d(0x205)]);const _0x14a2b6=this[_0x4e0c3d(0x262)](_0x331882),_0x4a69f7=await this[_0x4e0c3d(0x201)](_0x14a2b6,_0x331882,_0x2095cc);return logger[_0x4e0c3d(0x210)](_0x4e0c3d(0x20d)+_0x4a69f7),_0x4a69f7;}catch(_0x4e2b28){logger[_0x4e0c3d(0x210)]('Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20'+util[_0x4e0c3d(0x212)](_0x4e2b28));}return null;}static async['checkAndUpdateCli'](_0x42bd34,_0x1d93d5,_0x34cd6f){const _0x4d54a8=a62_0x4a5005,_0x377b56={'kUaZg':function(_0x1d58bd){return _0x1d58bd();},'LBNSr':function(_0xb70cbe,_0x4d74b1){return _0xb70cbe(_0x4d74b1);},'WSRic':function(_0x38d4c5,_0x20c9d7,_0x3b3792){return _0x38d4c5(_0x20c9d7,_0x3b3792);},'DPJHR':_0x4d54a8(0x24e),'vMycD':_0x4d54a8(0x237),'SkUYw':function(_0xdc1848,_0xe94155,_0x51b032){return _0xdc1848(_0xe94155,_0x51b032);}};PerformanceTester[_0x4d54a8(0x24f)](PerformanceEvents[_0x4d54a8(0x1db)]),logger[_0x4d54a8(0x253)]('Current\x20CLI\x20Path\x20Found:\x20'+_0x42bd34);const _0x24600a=_0x377b56[_0x4d54a8(0x232)](getHostInfo),_0x1c3f95={'sdk_version':CLIUtils[_0x4d54a8(0x23c)](),'os':_0x24600a[_0x4d54a8(0x258)],'os_arch':_0x24600a[_0x4d54a8(0x1c9)],'cli_version':'0','sdk_language':this[_0x4d54a8(0x266)]()};!_0x377b56[_0x4d54a8(0x230)](isNullOrEmpty,_0x42bd34)&&(_0x1c3f95['cli_version']=await this['runShellCommand'](_0x42bd34+_0x4d54a8(0x275)));const _0x5e585d=await this[_0x4d54a8(0x221)](_0x1c3f95,_0x34cd6f);process[_0x4d54a8(0x1f9)][_0x4d54a8(0x1c0)]&&(logger[_0x4d54a8(0x253)](_0x4d54a8(0x1cf)+process['env'][_0x4d54a8(0x1c0)]),_0x5e585d[_0x4d54a8(0x24e)][_0x4d54a8(0x237)]=process[_0x4d54a8(0x1f9)]['BROWSERSTACK_BINARY_URL']);if(_0x377b56[_0x4d54a8(0x231)](nestedKeyValue,_0x5e585d,[_0x377b56[_0x4d54a8(0x1f8)],_0x377b56[_0x4d54a8(0x25b)]])){logger[_0x4d54a8(0x210)](_0x4d54a8(0x1c8)+_0x1c3f95[_0x4d54a8(0x1e2)]);const _0x469b63=await this[_0x4d54a8(0x20b)](_0x377b56[_0x4d54a8(0x211)](nestedKeyValue,_0x5e585d,[_0x377b56[_0x4d54a8(0x1f8)],_0x377b56['vMycD']]),_0x1d93d5);return PerformanceTester[_0x4d54a8(0x265)](PerformanceEvents[_0x4d54a8(0x1db)]),_0x469b63;}return PerformanceTester[_0x4d54a8(0x265)](PerformanceEvents[_0x4d54a8(0x1db)]),_0x42bd34;}static[a62_0x4a5005(0x22d)](){const _0x2aa57f=a62_0x4a5005,_0x363538={'PBZjC':function(_0x27cadb,_0x3ffa8d){return _0x27cadb(_0x3ffa8d);},'JKlvh':_0x2aa57f(0x22b),'uVMEc':_0x2aa57f(0x225)},_0x520633=this[_0x2aa57f(0x1d1)]();try{if(_0x363538[_0x2aa57f(0x22f)](isNullOrEmpty,_0x520633))throw new Error(_0x363538[_0x2aa57f(0x242)]);const _0x273198=path[_0x2aa57f(0x204)](_0x520633,_0x363538[_0x2aa57f(0x261)]);return!fs[_0x2aa57f(0x213)](_0x273198)&&_0x363538[_0x2aa57f(0x22f)](createDir,_0x273198),_0x273198;}catch(_0x201fd1){logger[_0x2aa57f(0x210)](_0x2aa57f(0x23d)+util[_0x2aa57f(0x212)](_0x201fd1));}}static['getWritableDir'](){const _0x55b1ae=a62_0x4a5005,_0x5287dc={'ryZjS':_0x55b1ae(0x227),'wweIX':function(_0x2fe934,_0x5c6197){return _0x2fe934(_0x5c6197);},'hECtg':function(_0x179140,_0x5852a7){return _0x179140(_0x5852a7);},'WnUpp':function(_0x6a8eea,_0x2b8c3d){return _0x6a8eea(_0x2b8c3d);}},_0x304beb=[process[_0x55b1ae(0x1f9)][_0x55b1ae(0x1d9)],path['join'](os['homedir'](),_0x5287dc[_0x55b1ae(0x241)]),path[_0x55b1ae(0x204)](os[_0x55b1ae(0x270)](),_0x5287dc[_0x55b1ae(0x241)])];for(const _0x325306 of _0x304beb){if(_0x5287dc[_0x55b1ae(0x1f2)](isNullOrEmpty,_0x325306))continue;try{if(fs[_0x55b1ae(0x213)](_0x325306)){logger[_0x55b1ae(0x210)](_0x55b1ae(0x200)+_0x325306+_0x55b1ae(0x1f3));if(!_0x5287dc[_0x55b1ae(0x246)](isModifiable,_0x325306)){logger[_0x55b1ae(0x210)](_0x55b1ae(0x1cd)+_0x325306);const _0x965815=_0x5287dc[_0x55b1ae(0x1f2)](setReadWriteExecuteAccess,_0x325306);if(!_0x5287dc[_0x55b1ae(0x246)](isTrue,_0x965815)){logger[_0x55b1ae(0x1fb)]('Unable\x20to\x20set\x20required\x20permissions\x20to\x20'+_0x325306);continue;}}}else{logger[_0x55b1ae(0x210)](_0x55b1ae(0x273)+_0x325306),_0x5287dc[_0x55b1ae(0x246)](createDir,_0x325306),logger[_0x55b1ae(0x210)](_0x55b1ae(0x1cd)+_0x325306);const _0xaee07b=_0x5287dc[_0x55b1ae(0x251)](setReadWriteExecuteAccess,_0x325306);!_0x5287dc[_0x55b1ae(0x1f2)](isTrue,_0xaee07b)&&logger['warn'](_0x55b1ae(0x24b)+_0x325306);}return _0x325306;}catch(_0x24d254){logger[_0x55b1ae(0x1f6)](_0x55b1ae(0x1dd)+util[_0x55b1ae(0x212)](_0x24d254));}}return null;}static[a62_0x4a5005(0x262)](_0x27a092){const _0x5b317b=a62_0x4a5005,_0x307d59={};_0x307d59[_0x5b317b(0x1e8)]=function(_0x4d252d,_0x3f4e13){return _0x4d252d>_0x3f4e13;},_0x307d59['zgiWT']=function(_0x245d9e,_0x4645a8){return _0x245d9e>_0x4645a8;};const _0x293a72=_0x307d59;try{if(!fs['existsSync'](_0x27a092)||!fs[_0x5b317b(0x1d0)](_0x27a092)[_0x5b317b(0x1bd)]())return'';const _0x4fc278=fs[_0x5b317b(0x1d5)](_0x27a092)[_0x5b317b(0x25e)](_0x213469=>path['join'](_0x27a092,_0x213469))[_0x5b317b(0x1e0)](_0x593237=>fs[_0x5b317b(0x1d0)](_0x593237)[_0x5b317b(0x229)]()&&path['basename'](_0x593237)[_0x5b317b(0x1ea)]('binary-'));if(_0x293a72['zgiWT'](_0x4fc278['length'],0x0)){const _0x4543da=_0x4fc278[_0x5b317b(0x25e)](_0x1049b1=>({'filePath':_0x1049b1,'mtime':fs[_0x5b317b(0x1d0)](_0x1049b1)['mtime']}))['reduce']((_0x494348,_0x26e45d)=>{const _0x54dd44=_0x5b317b;if(!_0x494348||!_0x494348[_0x54dd44(0x1c1)])return _0x26e45d;if(_0x293a72['JFlNU'](_0x26e45d[_0x54dd44(0x1c1)],_0x494348[_0x54dd44(0x1c1)]))return _0x26e45d;return _0x494348;},{});return _0x4543da?_0x4543da[_0x5b317b(0x203)]:'';}return'';}catch(_0xccb1b6){return logger[_0x5b317b(0x1f6)](_0x5b317b(0x21f)+util[_0x5b317b(0x212)](_0xccb1b6)),'';}}static [a62_0x4a5005(0x221)]=async(_0x781071,_0x3e64d9)=>{const _0x50ca28=a62_0x4a5005,_0x54361b={'USaSk':function(_0x145c21,_0x58b605,_0x379bd2,_0x721d3c,_0x2b3c41){return _0x145c21(_0x58b605,_0x379bd2,_0x721d3c,_0x2b3c41);},'pAFuC':_0x50ca28(0x1fa)},_0x29038a={};_0x29038a['qs']=_0x781071;const _0x492472=await _0x54361b['USaSk'](nodeRequest,_0x54361b['pAFuC'],UPDATED_CLI_ENDPOINT,_0x29038a,_0x3e64d9);return logger[_0x50ca28(0x210)](_0x50ca28(0x25c)+JSON[_0x50ca28(0x1e3)](_0x492472)),_0x492472;};static[a62_0x4a5005(0x26e)](_0x1718c1,_0x34e166=''){const _0xdc98ae=a62_0x4a5005,_0x54fcde={'jksue':function(_0x51b205,_0x44d22e){return _0x51b205(_0x44d22e);},'dxRLN':_0xdc98ae(0x222),'RgNqg':function(_0x1f451c,_0x532ead,_0x338a29,_0x178982){return _0x1f451c(_0x532ead,_0x338a29,_0x178982);},'rqTtO':_0xdc98ae(0x1f6)};return new Promise((_0x5b24a4,_0x400bbb)=>{const _0x350c92=_0xdc98ae,_0x51f936={};_0x51f936[_0x350c92(0x276)]=_0x34e166,_0x51f936[_0x350c92(0x25f)]=0x1388;const _0x114b37=_0x54fcde[_0x350c92(0x202)](exec,_0x1718c1,_0x51f936,(_0x3487e3,_0x47a2b7,_0x39e30c)=>{const _0x2631b8=_0x350c92;_0x3487e3?_0x54fcde[_0x2631b8(0x238)](_0x5b24a4,_0x39e30c[_0x2631b8(0x1b8)]()||_0x54fcde[_0x2631b8(0x23b)]):_0x54fcde[_0x2631b8(0x238)](_0x5b24a4,_0x47a2b7[_0x2631b8(0x1b8)]());});_0x114b37['on'](_0x54fcde['rqTtO'],()=>{_0x54fcde['jksue'](_0x5b24a4,_0x54fcde['dxRLN']);});});}static [a62_0x4a5005(0x20b)]=async(_0x4e6618,_0x3dbb6c)=>{const _0x10a7e5=a62_0x4a5005,_0x348aff={'eBMIy':function(_0x17c66f,_0x13b44c){return _0x17c66f(_0x13b44c);},'bgZww':'Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','EcXuQ':function(_0x47ed82,_0x77282){return _0x47ed82(_0x77282);},'LrcWu':_0x10a7e5(0x1c7),'knqfk':function(_0x5b61a7,_0x22bff6){return _0x5b61a7(_0x22bff6);},'lHbrw':_0x10a7e5(0x1f6),'cWFNa':_0x10a7e5(0x243)};PerformanceTester[_0x10a7e5(0x24f)](PerformanceEvents[_0x10a7e5(0x1d7)]),logger[_0x10a7e5(0x210)](_0x10a7e5(0x1ee)+_0x4e6618);try{const _0x1126be=url[_0x10a7e5(0x1d2)](_0x4e6618),_0x438ac4=path['join'](_0x3dbb6c,_0x348aff[_0x10a7e5(0x23f)]),_0x936f15=fs[_0x10a7e5(0x1f0)](_0x438ac4);return new Promise((_0x5de26f,_0x34aa7f)=>{const _0x1a76ab=_0x10a7e5,_0x8bef80={'SAdSk':_0x348aff[_0x1a76ab(0x22c)],'ZeaPh':function(_0x31348f,_0xdedfab){const _0x117879=_0x1a76ab;return _0x348aff[_0x117879(0x20c)](_0x31348f,_0xdedfab);},'IjAKA':_0x348aff[_0x1a76ab(0x1cc)],'ZBglA':function(_0x4378b8,_0x2aca0f){const _0x2540c8=_0x1a76ab;return _0x348aff[_0x2540c8(0x267)](_0x4378b8,_0x2aca0f);},'WGorO':_0x348aff['lHbrw']};https['get'](_0x1126be,function(_0x1d39c0){const _0x582e3f=_0x1a76ab,_0x4ef682={'BxhZV':_0x8bef80['IjAKA'],'OiDVm':function(_0x3ea33e,_0x4bc52f){const _0x510332=a62_0x53e4;return _0x8bef80[_0x510332(0x22a)](_0x3ea33e,_0x4bc52f);}},_0x52f61f=null;_0x1d39c0[_0x582e3f(0x21a)](_0x936f15),_0x1d39c0['on'](_0x8bef80[_0x582e3f(0x1bf)],function(_0x2fbc4c){const _0x41128a=_0x582e3f;logger[_0x41128a(0x1f6)](util[_0x41128a(0x212)](_0x4ef682[_0x41128a(0x26d)],_0x2fbc4c)),PerformanceTester[_0x41128a(0x265)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x41128a(0x212)](_0x2fbc4c)),_0x4ef682[_0x41128a(0x249)](_0x34aa7f,_0x2fbc4c);}),_0x936f15['on'](_0x8bef80[_0x582e3f(0x1bf)],function(_0x1a81bd){const _0x2d5bdf=_0x582e3f;logger['error'](util[_0x2d5bdf(0x212)](_0x8bef80[_0x2d5bdf(0x252)],_0x1a81bd)),PerformanceTester['end'](PerformanceEvents[_0x2d5bdf(0x1d7)],![],util[_0x2d5bdf(0x212)](_0x1a81bd)),_0x8bef80[_0x2d5bdf(0x25a)](_0x34aa7f,_0x1a81bd);}),CLIUtils[_0x582e3f(0x25d)](_0x936f15,_0x52f61f,_0x438ac4,_0x3dbb6c,_0x5de26f,_0x34aa7f),PerformanceTester[_0x582e3f(0x265)](PerformanceEvents['SDK_CLI_DOWNLOAD']);})['on'](_0x348aff['lHbrw'],function(_0x46db92){const _0x3a7dc3=_0x1a76ab;logger[_0x3a7dc3(0x1f6)](_0x3a7dc3(0x257)+util[_0x3a7dc3(0x212)](_0x46db92)),PerformanceTester[_0x3a7dc3(0x265)](PerformanceEvents[_0x3a7dc3(0x1d7)],![],util['format'](_0x46db92)),_0x348aff[_0x3a7dc3(0x24c)](_0x34aa7f,_0x46db92);});});}catch(_0x571d85){PerformanceTester[_0x10a7e5(0x265)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x10a7e5(0x212)](_0x571d85)),logger[_0x10a7e5(0x210)](_0x10a7e5(0x26f)+util['format'](_0x571d85));}};static[a62_0x4a5005(0x25d)](_0x391fe6,_0x2ba269,_0x4e495c,_0x371f80,_0x3279af,_0x1dc775){const _0x4c7fcd=a62_0x4a5005,_0x2a8529={'HjMyq':function(_0x460dbb,_0x1680b7){return _0x460dbb(_0x1680b7);},'POxCi':_0x4c7fcd(0x265),'FqEqs':function(_0x4f2089,_0x4c8269){return _0x4f2089(_0x4c8269);},'sYMqs':_0x4c7fcd(0x1d3),'ORDrt':_0x4c7fcd(0x21b),'wFYLq':_0x4c7fcd(0x1f6),'FBfPz':function(_0x367a1a,_0x217fce){return _0x367a1a===_0x217fce;},'ItaFW':function(_0x417603,_0x52c713){return _0x417603(_0x52c713);},'qYYAu':'close'};_0x391fe6['on'](_0x2a8529[_0x4c7fcd(0x20a)],function(){const _0x4568f1=_0x4c7fcd,_0x3186c3={'MbAhv':function(_0x2f1a3e,_0x58439f){const _0xeca50d=a62_0x53e4;return _0x2a8529[_0xeca50d(0x259)](_0x2f1a3e,_0x58439f);},'IEWXj':function(_0xeb06a3,_0x340f9f){const _0x54f5e0=a62_0x53e4;return _0x2a8529[_0x54f5e0(0x1f5)](_0xeb06a3,_0x340f9f);}},_0x5bebe2={};_0x5bebe2['lazyEntries']=!![],yauzl[_0x4568f1(0x248)](_0x4e495c,_0x5bebe2,function(_0x13414c,_0x400e8b){const _0x1b8814=_0x4568f1,_0x4f3e0f={'hUOZQ':function(_0x5d4787,_0x1a7cfa){return _0x2a8529['HjMyq'](_0x5d4787,_0x1a7cfa);},'lEwVS':_0x2a8529[_0x1b8814(0x245)],'tvGGW':function(_0x5f1c44,_0x3a6262){const _0x42c3f1=_0x1b8814;return _0x2a8529[_0x42c3f1(0x207)](_0x5f1c44,_0x3a6262);},'YiyCh':function(_0xa88c99,_0x4a9e05){const _0x30de64=_0x1b8814;return _0x2a8529[_0x30de64(0x234)](_0xa88c99,_0x4a9e05);},'ndOpU':_0x2a8529[_0x1b8814(0x1f4)]};_0x13414c&&_0x2a8529[_0x1b8814(0x234)](_0x1dc775,_0x13414c),_0x400e8b[_0x1b8814(0x1d6)](),_0x400e8b['on'](_0x2a8529[_0x1b8814(0x1be)],_0x565517=>{const _0x45aefa=_0x1b8814;!_0x2ba269&&(_0x2ba269=_0x565517[_0x45aefa(0x1ff)]);if(/\/$/[_0x45aefa(0x209)](_0x565517[_0x45aefa(0x1ff)]))_0x400e8b['readEntry']();else{const _0x2054a7=fs[_0x45aefa(0x1f0)](path['join'](_0x371f80,_0x565517[_0x45aefa(0x1ff)]));_0x400e8b[_0x45aefa(0x1ba)](_0x565517,function(_0x52a2f5,_0x425c74){const _0x53d3f8=_0x45aefa;_0x52a2f5&&_0x4f3e0f['hUOZQ'](_0x1dc775,_0x13414c),_0x425c74['on'](_0x4f3e0f[_0x53d3f8(0x1fe)],function(){const _0x408767=_0x53d3f8;_0x2054a7[_0x408767(0x206)](),_0x400e8b[_0x408767(0x1d6)]();}),_0x425c74['pipe'](_0x2054a7);}),_0x3186c3[_0x45aefa(0x244)](_0x565517[_0x45aefa(0x1ff)],_0x2ba269)&&_0x400e8b[_0x45aefa(0x206)]();}}),_0x400e8b['on'](_0x2a8529['wFYLq'],_0xfdd83=>{const _0x8f4170=_0x1b8814;_0x3186c3[_0x8f4170(0x1e6)](_0x1dc775,_0xfdd83);}),_0x400e8b['once'](_0x2a8529[_0x1b8814(0x245)],()=>{const _0x23e102=_0x1b8814,_0x4d0a8b={'fulic':function(_0x5970fb,_0x58c296){const _0x9927c8=a62_0x53e4;return _0x4f3e0f[_0x9927c8(0x216)](_0x5970fb,_0x58c296);},'ovvUw':function(_0xe52eec,_0x1c5a18){const _0x4459b7=a62_0x53e4;return _0x4f3e0f[_0x4459b7(0x23a)](_0xe52eec,_0x1c5a18);}};fs[_0x23e102(0x239)](_0x4e495c,_0x2213e8=>{const _0x2d440f=_0x23e102;_0x2213e8&&logger[_0x2d440f(0x1fb)](_0x2d440f(0x1e7)+_0x4e495c);}),fs[_0x23e102(0x1ca)](_0x371f80+'/'+_0x2ba269,_0x4f3e0f[_0x23e102(0x1dc)],function(_0x4a20a4){const _0x1c7145=_0x23e102;_0x4a20a4&&_0x4d0a8b[_0x1c7145(0x1c4)](_0x1dc775,_0x4a20a4),_0x4d0a8b[_0x1c7145(0x256)](_0x3279af,_0x371f80+'/'+_0x2ba269);}),_0x400e8b[_0x23e102(0x206)]();});});});}static[a62_0x4a5005(0x24d)](){const _0x51ec8b=a62_0x4a5005;if(process['env']['BROWSERSTACK_TEST_FRAMEWORK_DETAIL'])return JSON[_0x51ec8b(0x1d2)](process['env'][_0x51ec8b(0x1c6)]);return this[_0x51ec8b(0x1e1)];}static['getAutomationFrameworkDetail'](){const _0x1aec6c=a62_0x4a5005;if(process[_0x1aec6c(0x1f9)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL'])return JSON[_0x1aec6c(0x1d2)](process[_0x1aec6c(0x1f9)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']);return this[_0x1aec6c(0x1c3)];}static[a62_0x4a5005(0x1e9)](_0x17e612,_0x11e791){const _0x190eec=a62_0x4a5005,_0x430ed2={'auuFr':_0x190eec(0x228),'OPiTY':function(_0x4486cc,_0x410427){return _0x4486cc||_0x410427;},'GODpm':function(_0x4dcaec,_0x135179){return _0x4dcaec(_0x135179);},'CRMdf':function(_0x204357,_0x5944ad){return _0x204357(_0x5944ad);}},_0x2ed091=_0x430ed2[_0x190eec(0x1ec)]['split']('|');let _0x5c59fc=0x0;while(!![]){switch(_0x2ed091[_0x5c59fc++]){case'0':_0x430ed2[_0x190eec(0x20e)](!_0x17e612,!_0x11e791)&&logger[_0x190eec(0x210)](_0x190eec(0x274)+_0x17e612+',\x20automationFramework='+_0x11e791);continue;case'1':process[_0x190eec(0x1f9)][_0x190eec(0x1c6)]=JSON[_0x190eec(0x1e3)](this[_0x190eec(0x1e1)]);continue;case'2':process[_0x190eec(0x1f9)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']=JSON[_0x190eec(0x1e3)](this[_0x190eec(0x1c3)]);continue;case'3':this[_0x190eec(0x1e1)]={'name':_0x17e612,'version':{[_0x17e612]:_0x430ed2[_0x190eec(0x226)](getFrameworkVersion,_0x17e612)}};continue;case'4':this[_0x190eec(0x1c3)]={'name':_0x11e791,'version':_0x430ed2[_0x190eec(0x22e)](getFrameworkVersion,_0x11e791)};continue;}break;}}static['getHookRegistryKey'](_0x54db77,_0x3cedc0){return _0x54db77+':'+_0x3cedc0;}static[a62_0x4a5005(0x26b)](){const _0x449a7f=a62_0x4a5005;return process[_0x449a7f(0x1b9)]+':'+threadId;}static[a62_0x4a5005(0x20f)](_0x345cbe){const _0x4b6cd1=a62_0x4a5005;if(_0x345cbe[_0x4b6cd1(0x1c5)]&&_0x345cbe['testContextOptions'][_0x4b6cd1(0x1ef)])return!![];return![];}static[a62_0x4a5005(0x224)](_0x57feb5){const _0x1ef16e=a62_0x4a5005;if(_0x57feb5[_0x1ef16e(0x1c5)]&&_0x57feb5[_0x1ef16e(0x1c5)][_0x1ef16e(0x240)])return!![];return![];}static[a62_0x4a5005(0x21c)](_0x3e3735){const _0x3802e6=a62_0x4a5005,_0x4d8394=new RegExp(TestFrameworkConstants[_0x3802e6(0x219)]);return _0x4d8394[_0x3802e6(0x209)](_0x3e3735);}static[a62_0x4a5005(0x1c2)](_0x53a87c,_0xb29d8f){const _0x3ec0a5=a62_0x4a5005,_0x50ec6d={};_0x50ec6d[_0x3ec0a5(0x233)]=function(_0x2f2598,_0x5f541b){return _0x2f2598!==_0x5f541b;},_0x50ec6d[_0x3ec0a5(0x1e4)]=function(_0x475238,_0x33af15){return _0x475238===_0x33af15;},_0x50ec6d[_0x3ec0a5(0x217)]='object';const _0x463f49=_0x50ec6d;for(const [_0x4d0a21,_0x5c32ea]of Object[_0x3ec0a5(0x247)](_0xb29d8f)){if(_0x463f49[_0x3ec0a5(0x233)](_0x5c32ea,null)&&_0x463f49[_0x3ec0a5(0x1e4)](typeof _0x5c32ea,_0x463f49[_0x3ec0a5(0x217)])&&!Array[_0x3ec0a5(0x260)](_0x5c32ea))_0x53a87c[_0x4d0a21]=this[_0x3ec0a5(0x1c2)](_0x53a87c[_0x4d0a21]||{},_0x5c32ea);else Array[_0x3ec0a5(0x260)](_0x5c32ea)?_0x53a87c[_0x4d0a21]=(_0x53a87c[_0x4d0a21]||[])[_0x3ec0a5(0x255)](_0x5c32ea):_0x53a87c[_0x4d0a21]=_0x5c32ea;}return _0x53a87c;}}function a62_0x1111(){const _0x400edd=['open','OiDVm','../../helpers/utilities','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','eBMIy','getTestFrameworkDetail','data','start','tzCRZ','WnUpp','SAdSk','info','610HfmNkO','concat','ovvUw','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','platform','FBfPz','ZeaPh','vMycD','response\x20','downloadFileStream','map','timeout','isArray','uVMEc','getExistingCliPath','getCLIParamsForDevEnv','WWXhd','end','getSdkLanguage','knqfk','2PYlXXb','444326wEVKRl','../../../package.json','getCurrentInstanceName','AxjNr','BxhZV','runShellCommand','Failed\x20to\x20download\x20binary,\x20Exception:\x20','tmpdir','listen','util','Folder\x20does\x20not\x20exist:\x20','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','\x20version','cwd','637712xGSrqW','trim','pid','openReadStream','setupCliPath','./instances/testFrameworkInstance.js','isDirectory','ORDrt','WGorO','BROWSERSTACK_BINARY_URL','mtime','mergeObject','automationFrameworkDetail','fulic','testContextOptions','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','arch','chmod','../../helpers/performance/performance-tester.js','LrcWu','Setting\x20required\x20permissions\x20to\x20','2527LJUjYf','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','statSync','getWritableDir','parse','0755','CLIUtils','readdirSync','readEntry','SDK_CLI_DOWNLOAD','BROWSERSTACK_CLI_ENV','BROWSERSTACK_FILES_DIR','node','SDK_CLI_CHECK_UPDATE','ndOpU','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','../../helpers/helper','12180oFTKOn','filter','testFrameworkDetail','cli_version','stringify','ufKIJ','../utils/constants','IEWXj','Failed\x20to\x20delete\x20zip\x20file:\x20','JFlNU','setFrameworkDetail','startsWith','Configuring\x20Cli\x20path.','auuFr','2503776dRXtQX','Downloading\x20SDK\x20binary\x20from:\x20','skipSessionName','createWriteStream','../../helpers/classLogger.js','wweIX','\x20already\x20exists','sYMqs','ItaFW','error','follow-redirects','DPJHR','env','GET','warn','path','eAmKY','lEwVS','fileName','Folder\x20','checkAndUpdateCli','RgNqg','filePath','join','QnaEz','close','HjMyq','child_process','test','qYYAu','downloadLatestBinary','EcXuQ','Resolved\x20binary\x20path:\x20','OPiTY','shouldSkipSessionName','debug','SkUYw','format','existsSync','exports','1991020IEcQWl','tvGGW','WaBfS','unix:/tmp/sdk-platform-','HOOK_REGEX','pipe','entry','matchHookRegex','isDevelopmentEnv','995748FATmQn','Error\x20while\x20reading\x20CLI\x20path:\x20','yauzl','requestToUpdateCLI','SHELL_EXECUTE_ERROR','bBddB','shouldSkipSessionStatus','cli','GODpm','.browserstack','0|3|4|2|1','isFile','ZBglA','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','bgZww','getCliDir','CRMdf','PBZjC','LBNSr','WSRic','kUaZg','srUTO','FqEqs','cDOVr','./state/automationFrameworkState.js','url','jksue','unlink','YiyCh','dxRLN','getSdkVersion','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','181647EqMLyU','cWFNa','skipSessionStatus','ryZjS','JKlvh','downloaded_file.zip','MbAhv','POxCi','hECtg','entries'];a62_0x1111=function(){return _0x400edd;};return a62_0x1111();}module[a62_0x4a5005(0x214)]=CLIUtils;