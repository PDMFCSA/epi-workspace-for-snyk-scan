const a58_0x27f544=a58_0x4da2;function a58_0x4da2(_0x27103f,_0x33ac3f){const _0x146e3f=a58_0x146e();return a58_0x4da2=function(_0x4da21c,_0x3ae590){_0x4da21c=_0x4da21c-0xb5;let _0x5cef7f=_0x146e3f[_0x4da21c];return _0x5cef7f;},a58_0x4da2(_0x27103f,_0x33ac3f);}(function(_0x33ef53,_0x20eed2){const _0x5b14ac=a58_0x4da2,_0x3f4c3a=_0x33ef53();while(!![]){try{const _0x32b171=-parseInt(_0x5b14ac(0xf9))/0x1*(-parseInt(_0x5b14ac(0x152))/0x2)+parseInt(_0x5b14ac(0xd0))/0x3*(parseInt(_0x5b14ac(0x159))/0x4)+-parseInt(_0x5b14ac(0x118))/0x5+parseInt(_0x5b14ac(0xf6))/0x6*(-parseInt(_0x5b14ac(0x107))/0x7)+-parseInt(_0x5b14ac(0x15c))/0x8+-parseInt(_0x5b14ac(0xc1))/0x9+parseInt(_0x5b14ac(0x15f))/0xa;if(_0x32b171===_0x20eed2)break;else _0x3f4c3a['push'](_0x3f4c3a['shift']());}catch(_0x16f9a0){_0x3f4c3a['push'](_0x3f4c3a['shift']());}}}(a58_0x146e,0x880a7));const fs=require('fs'),os=require('os'),url=require(a58_0x27f544(0xe6)),path=require('path'),{exec}=require(a58_0x27f544(0xc0)),{https}=require(a58_0x27f544(0x103)),yauzl=require(a58_0x27f544(0x116)),util=require(a58_0x27f544(0xe0)),{getFrameworkVersion}=require(a58_0x27f544(0x13e)),{threadId}=require('worker_threads'),PerformanceTester=require(a58_0x27f544(0x144)),{EVENTS:PerformanceEvents}=require('../../helpers/performance/constants'),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require('../../helpers/utilities'),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a58_0x27f544(0x14d)),{BROWSERSTACK_API_URL,UPDATED_CLI_ENDPOINT}=require(a58_0x27f544(0xd1)),{createClassLogger}=require(a58_0x27f544(0x114)),TestFrameworkInstance=require(a58_0x27f544(0xec)),HookState=require(a58_0x27f544(0x146)),TestFrameworkState=require(a58_0x27f544(0x139)),AutomationFrameworkState=require(a58_0x27f544(0xe2)),TestFrameworkConstants=require(a58_0x27f544(0xd5)),logger=createClassLogger('CLIUtils');function a58_0x146e(){const _0x190b7b=['Setting\x20required\x20permissions\x20to\x20','fileName',',\x20automationFramework=','info','RQHef','ABSzK','rThPn','SDK_CLI_BIN_PATH','unix:/tmp/sdk-platform-','PUOHF','existsSync','Current\x20CLI\x20Path\x20Found:\x20','setupCliPath','oOzJQ','4|3|2|0|1','GET','node','response\x20','requestToUpdateCLI','open','SjVJQ','FWJKu','vYNBg','BBzmw','statSync','timeout','testContextOptions','development','Configuring\x20Cli\x20path.','XsgxL','checkAndUpdateCli','RNtcL','./state/testFrameworkState.js','xhBNp','openReadStream','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','listen','../../helpers/test-observability/utils.js','homedir','VZYHB','readEntry','iFVvE','QYZzS','../../helpers/performance/performance-tester.js','BROWSERSTACK_FILES_DIR','./state/hookState.js','Folder\x20','Vubho','chmod','data','Failed\x20to\x20delete\x20zip\x20file:\x20','pipe','../../helpers/helper','LuAbP','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','UJlwl','khsSJ','4vwAuWc','getSdkVersion','SgBtN','sXkJr','SHELL_EXECUTE_ERROR','.sock','ISzrO','32348NbnENb','DCLBw','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','400008nvvfxm','env','getAutomationFrameworkDetail','9555190iVtzzg','Clnmj','PYJFL','pid','Iwwny','gvLxx','error','hPrzl','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','cli_version','HOOK_REGEX','getSdkLanguage','trim','HDLSL','ZxXMk','getHookRegistryKey','map','setFrameworkDetail','tmpdir','parse','WcxgS','child_process','5615145rwjEnn','isFile','start','skipSessionName','cli','gEKkR','downloadFileStream','arch','NBlik','entry','filePath','automationFrameworkDetail','XWCvM','Downloading\x20SDK\x20binary\x20from:\x20','zNJKf','363sCGueY','../utils/constants','BsajQ','downloadLatestBinary','version','./framework/constants/testFrameworkConstants.js','startsWith','FKcjP','QMSLF','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','Folder\x20does\x20not\x20exist:\x20','test','../../../package.json','join','isDirectory','OPaBU','util','kSbCe','./state/automationFrameworkState.js','QjYRu','BROWSERSTACK_BINARY_URL','testFrameworkDetail','url','getWritableDir','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','SDK_CLI_CHECK_UPDATE','SDK_CLI_DOWNLOAD','./instances/testFrameworkInstance.js','ycKNU','end','unlink','UMxew','tKZfB','filter','zvLfE','getExistingCliPath','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','348012gQvTfS','warn','runShellCommand','328888soQnjo','Development\x20Cli\x20Path:\x20','format','createWriteStream','isDevelopmentEnv','debug','readdirSync','wVryD','DDIgG','BROWSERSTACK_CLI_ENV','follow-redirects','basename','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','lazyEntries','63nRDEfK','mtime','.browserstack','OzrVv','close','HrqJI','stringify','kJbPn','fsKwP','getCurrentInstanceName','\x20already\x20exists','once','getCliDir','../../helpers/classLogger.js','Resolved\x20binary\x20path:\x20','yauzl','ksKnf','4193375FbMtsB'];a58_0x146e=function(){return _0x190b7b;};return a58_0x146e();}class CLIUtils{[a58_0x27f544(0xcc)]={};[a58_0x27f544(0xe5)]={};static[a58_0x27f544(0xfd)](){const _0x432e60=a58_0x27f544,_0x2b955c={};_0x2b955c[_0x432e60(0x117)]=function(_0x1e4450,_0x561547){return _0x1e4450===_0x561547;},_0x2b955c[_0x432e60(0x140)]=_0x432e60(0x134);const _0x14e299=_0x2b955c;return _0x14e299[_0x432e60(0x117)](process[_0x432e60(0x15d)][_0x432e60(0x102)],_0x14e299[_0x432e60(0x140)]);}static['getCLIParamsForDevEnv'](){const _0x46cc3c=a58_0x27f544,_0x2a8333={};return _0x2a8333['id']=process[_0x46cc3c(0x15d)][_0x46cc3c(0x102)],_0x2a8333[_0x46cc3c(0x13d)]=_0x46cc3c(0x121)+process[_0x46cc3c(0x15d)][_0x46cc3c(0x102)]+_0x46cc3c(0x157),_0x2a8333;}static['getSdkVersion'](){const _0x43599d=a58_0x27f544,_0x5bda89={'kJbPn':function(_0x82a6ed,_0x5716e9){return _0x82a6ed(_0x5716e9);},'FWJKu':_0x43599d(0xdc)};return _0x5bda89[_0x43599d(0x10e)](require,_0x5bda89[_0x43599d(0x12e)])[_0x43599d(0xd4)];}static[a58_0x27f544(0xb6)](){const _0x247ee8=a58_0x27f544,_0x3fc13e={};_0x3fc13e[_0x247ee8(0xd8)]=_0x247ee8(0x129);const _0xd58dc6=_0x3fc13e;return _0xd58dc6[_0x247ee8(0xd8)];}static async[a58_0x27f544(0x125)](_0x2bf3cf){const _0xd4cb2e=a58_0x27f544,_0x11217c={'PYJFL':_0xd4cb2e(0x135),'OzrVv':function(_0x13c91b,_0x4354ef){return _0x13c91b(_0x4354ef);},'QjYRu':_0xd4cb2e(0xf5)};logger[_0xd4cb2e(0xfe)](_0x11217c[_0xd4cb2e(0x161)]);const _0x480d60=process[_0xd4cb2e(0x15d)][_0xd4cb2e(0x120)];if(!_0x11217c[_0xd4cb2e(0x10a)](isNullOrEmpty,_0x480d60))return logger[_0xd4cb2e(0xfe)](_0xd4cb2e(0xfa)+_0x480d60),_0x480d60;try{const _0x5dc745=this[_0xd4cb2e(0x113)]();if(_0x11217c[_0xd4cb2e(0x10a)](isNullOrEmpty,_0x5dc745))throw new Error(_0x11217c[_0xd4cb2e(0xe3)]);const _0x38a94b=this[_0xd4cb2e(0xf4)](_0x5dc745),_0xe023a2=await this[_0xd4cb2e(0x137)](_0x38a94b,_0x5dc745,_0x2bf3cf);return logger[_0xd4cb2e(0xfe)](_0xd4cb2e(0x115)+_0xe023a2),_0xe023a2;}catch(_0x35460f){logger[_0xd4cb2e(0xfe)](_0xd4cb2e(0xe8)+util[_0xd4cb2e(0xfb)](_0x35460f));}return null;}static async[a58_0x27f544(0x137)](_0x1ac0bf,_0x39038d,_0x2f2892){const _0x2df8af=a58_0x27f544,_0x12bdf6={'XsgxL':function(_0x1e5be9){return _0x1e5be9();},'oOzJQ':function(_0x4f3cfc,_0x4962d7){return _0x4f3cfc(_0x4962d7);},'tKZfB':function(_0x1e61a,_0x28d466,_0x37a2b6){return _0x1e61a(_0x28d466,_0x37a2b6);},'zNJKf':_0x2df8af(0x14a),'iFVvE':'url','EpxfI':function(_0x55b31f,_0x118154,_0x344c43){return _0x55b31f(_0x118154,_0x344c43);}};PerformanceTester['start'](PerformanceEvents[_0x2df8af(0xea)]),logger['info'](_0x2df8af(0x124)+_0x1ac0bf);const _0x385ce3=_0x12bdf6[_0x2df8af(0x136)](getHostInfo),_0x10df7b={'sdk_version':CLIUtils[_0x2df8af(0x153)](),'os':_0x385ce3['platform'],'os_arch':_0x385ce3[_0x2df8af(0xc8)],'cli_version':'0','sdk_language':this[_0x2df8af(0xb6)]()};!_0x12bdf6[_0x2df8af(0x126)](isNullOrEmpty,_0x1ac0bf)&&(_0x10df7b['cli_version']=await this[_0x2df8af(0xf8)](_0x1ac0bf+'\x20version'));const _0x1ae847=await this[_0x2df8af(0x12b)](_0x10df7b,_0x2f2892);process[_0x2df8af(0x15d)][_0x2df8af(0xe4)]&&(logger[_0x2df8af(0x11c)]('Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20'+process[_0x2df8af(0x15d)][_0x2df8af(0xe4)]),_0x1ae847[_0x2df8af(0x14a)][_0x2df8af(0xe6)]=process[_0x2df8af(0x15d)][_0x2df8af(0xe4)]);if(_0x12bdf6[_0x2df8af(0xf1)](nestedKeyValue,_0x1ae847,[_0x12bdf6['zNJKf'],_0x12bdf6[_0x2df8af(0x142)]])){logger[_0x2df8af(0xfe)](_0x2df8af(0x13c)+_0x10df7b[_0x2df8af(0x168)]);const _0x38b9e5=await this['downloadLatestBinary'](_0x12bdf6['EpxfI'](nestedKeyValue,_0x1ae847,[_0x12bdf6[_0x2df8af(0xcf)],_0x12bdf6[_0x2df8af(0x142)]]),_0x39038d);return PerformanceTester[_0x2df8af(0xee)](PerformanceEvents[_0x2df8af(0xea)]),_0x38b9e5;}return PerformanceTester[_0x2df8af(0xee)](PerformanceEvents[_0x2df8af(0xea)]),_0x1ac0bf;}static[a58_0x27f544(0x113)](){const _0x3370cf=a58_0x27f544,_0x4686d0={'hPrzl':function(_0x5e7668,_0x1a4993){return _0x5e7668(_0x1a4993);},'PUOHF':_0x3370cf(0xf5),'UlQZo':_0x3370cf(0xc5)},_0xf983c=this['getWritableDir']();try{if(_0x4686d0[_0x3370cf(0x166)](isNullOrEmpty,_0xf983c))throw new Error(_0x4686d0[_0x3370cf(0x122)]);const _0xb3f663=path[_0x3370cf(0xdd)](_0xf983c,_0x4686d0['UlQZo']);return!fs[_0x3370cf(0x123)](_0xb3f663)&&_0x4686d0[_0x3370cf(0x166)](createDir,_0xb3f663),_0xb3f663;}catch(_0x5c8665){logger['debug']('Error\x20in\x20getting\x20writable\x20directory,\x20writableDir='+util[_0x3370cf(0xfb)](_0x5c8665));}}static[a58_0x27f544(0xe7)](){const _0x1cdb6b=a58_0x27f544,_0x7b202f={'rThPn':_0x1cdb6b(0x109),'zvLfE':function(_0x2261cc,_0x58723f){return _0x2261cc(_0x58723f);},'BBzmw':function(_0x217258,_0x100298){return _0x217258(_0x100298);},'ABSzK':function(_0x5b2527,_0x556302){return _0x5b2527(_0x556302);},'UJlwl':function(_0x16176b,_0x20b0b5){return _0x16176b(_0x20b0b5);}},_0x152334=[process[_0x1cdb6b(0x15d)][_0x1cdb6b(0x145)],path[_0x1cdb6b(0xdd)](os[_0x1cdb6b(0x13f)](),_0x7b202f[_0x1cdb6b(0x11f)]),path[_0x1cdb6b(0xdd)](os[_0x1cdb6b(0xbd)](),_0x7b202f[_0x1cdb6b(0x11f)])];for(const _0x26d3ed of _0x152334){if(_0x7b202f[_0x1cdb6b(0xf3)](isNullOrEmpty,_0x26d3ed))continue;try{if(fs[_0x1cdb6b(0x123)](_0x26d3ed)){logger['debug'](_0x1cdb6b(0x147)+_0x26d3ed+_0x1cdb6b(0x111));if(!_0x7b202f[_0x1cdb6b(0x130)](isModifiable,_0x26d3ed)){logger[_0x1cdb6b(0xfe)](_0x1cdb6b(0x119)+_0x26d3ed);const _0x3adc29=_0x7b202f[_0x1cdb6b(0x11e)](setReadWriteExecuteAccess,_0x26d3ed);if(!_0x7b202f[_0x1cdb6b(0x11e)](isTrue,_0x3adc29)){logger[_0x1cdb6b(0xf7)](_0x1cdb6b(0x14f)+_0x26d3ed);continue;}}}else{logger[_0x1cdb6b(0xfe)](_0x1cdb6b(0xda)+_0x26d3ed),_0x7b202f[_0x1cdb6b(0x11e)](createDir,_0x26d3ed),logger[_0x1cdb6b(0xfe)](_0x1cdb6b(0x119)+_0x26d3ed);const _0x11c8de=_0x7b202f[_0x1cdb6b(0x150)](setReadWriteExecuteAccess,_0x26d3ed);!_0x7b202f['ABSzK'](isTrue,_0x11c8de)&&logger[_0x1cdb6b(0xf7)](_0x1cdb6b(0x14f)+_0x26d3ed);}return _0x26d3ed;}catch(_0x225a21){logger[_0x1cdb6b(0x165)](_0x1cdb6b(0x15b)+util[_0x1cdb6b(0xfb)](_0x225a21));}}return null;}static[a58_0x27f544(0xf4)](_0x193b42){const _0x4e4d07=a58_0x27f544,_0x239be3={};_0x239be3['fsKwP']=function(_0x19e7bb,_0x4943f7){return _0x19e7bb>_0x4943f7;},_0x239be3['DCLBw']=function(_0x3f9d5a,_0x25169d){return _0x3f9d5a>_0x25169d;};const _0x37e61e=_0x239be3;try{if(!fs['existsSync'](_0x193b42)||!fs[_0x4e4d07(0x131)](_0x193b42)[_0x4e4d07(0xde)]())return'';const _0x5d0f14=fs[_0x4e4d07(0xff)](_0x193b42)['map'](_0x4dbef3=>path[_0x4e4d07(0xdd)](_0x193b42,_0x4dbef3))[_0x4e4d07(0xf2)](_0x542a4c=>fs['statSync'](_0x542a4c)[_0x4e4d07(0xc2)]()&&path[_0x4e4d07(0x104)](_0x542a4c)[_0x4e4d07(0xd6)]('binary-'));if(_0x37e61e[_0x4e4d07(0x15a)](_0x5d0f14['length'],0x0)){const _0x75eaa0=_0x5d0f14[_0x4e4d07(0xbb)](_0x595659=>({'filePath':_0x595659,'mtime':fs[_0x4e4d07(0x131)](_0x595659)[_0x4e4d07(0x108)]}))['reduce']((_0x4ceda2,_0x2f0e69)=>{const _0x44112c=_0x4e4d07;if(!_0x4ceda2||!_0x4ceda2['mtime'])return _0x2f0e69;if(_0x37e61e[_0x44112c(0x10f)](_0x2f0e69['mtime'],_0x4ceda2[_0x44112c(0x108)]))return _0x2f0e69;return _0x4ceda2;},{});return _0x75eaa0?_0x75eaa0[_0x4e4d07(0xcb)]:'';}return'';}catch(_0x4cf56d){return logger[_0x4e4d07(0x165)]('Error\x20while\x20reading\x20CLI\x20path:\x20'+util[_0x4e4d07(0xfb)](_0x4cf56d)),'';}}static [a58_0x27f544(0x12b)]=async(_0x17311b,_0x1ad163)=>{const _0x2e21e9=a58_0x27f544,_0x553438={'LuAbP':function(_0x258582,_0xf8deed,_0x2d7081,_0x292a32,_0x1901f2,_0x3c4388){return _0x258582(_0xf8deed,_0x2d7081,_0x292a32,_0x1901f2,_0x3c4388);},'ycKNU':_0x2e21e9(0x128)},_0x42df42={};_0x42df42['qs']=_0x17311b;const _0x6a5aed=await _0x553438[_0x2e21e9(0x14e)](nodeRequest,_0x553438[_0x2e21e9(0xed)],UPDATED_CLI_ENDPOINT,_0x42df42,_0x1ad163,BROWSERSTACK_API_URL);return logger[_0x2e21e9(0xfe)](_0x2e21e9(0x12a)+JSON['stringify'](_0x6a5aed)),_0x6a5aed;};static[a58_0x27f544(0xf8)](_0x980e17,_0x350fc0=''){const _0x1a77c0=a58_0x27f544,_0x2e3562={'JUYKp':function(_0x148964,_0x5c7c5e){return _0x148964(_0x5c7c5e);},'RNtcL':_0x1a77c0(0x156),'NLfZo':function(_0x3cfa02,_0x37b355,_0x1930f6,_0x3d21c5){return _0x3cfa02(_0x37b355,_0x1930f6,_0x3d21c5);},'qvtPi':'error'};return new Promise((_0x133bd5,_0x4cdf8a)=>{const _0x489c03=_0x1a77c0,_0x41ff85={'NBlik':function(_0x3ecd2d,_0x27b044){return _0x2e3562['JUYKp'](_0x3ecd2d,_0x27b044);},'DDIgG':_0x2e3562['RNtcL']},_0x2d2e5d={};_0x2d2e5d['cwd']=_0x350fc0,_0x2d2e5d[_0x489c03(0x132)]=0x1388;const _0x25ad52=_0x2e3562['NLfZo'](exec,_0x980e17,_0x2d2e5d,(_0x481aa3,_0x48bb47,_0x537a7b)=>{const _0x3e8d20=_0x489c03;_0x481aa3?_0x2e3562['JUYKp'](_0x133bd5,_0x537a7b[_0x3e8d20(0xb7)]()||_0x2e3562[_0x3e8d20(0x138)]):_0x2e3562['JUYKp'](_0x133bd5,_0x48bb47['trim']());});_0x25ad52['on'](_0x2e3562['qvtPi'],()=>{const _0x2ea81c=_0x489c03;_0x41ff85[_0x2ea81c(0xc9)](_0x133bd5,_0x41ff85[_0x2ea81c(0x101)]);});});}static [a58_0x27f544(0xd3)]=async(_0x42ca37,_0x36794b)=>{const _0x4b298d=a58_0x27f544,_0x569ddf={'MjLfd':_0x4b298d(0x167),'Iwwny':function(_0x3e933e,_0x31c65e){return _0x3e933e(_0x31c65e);},'ZxXMk':'Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','agXeR':function(_0x255a60,_0x4ec37f){return _0x255a60(_0x4ec37f);},'vYNBg':_0x4b298d(0x165),'FKcjP':'downloaded_file.zip'};PerformanceTester[_0x4b298d(0xc3)](PerformanceEvents['SDK_CLI_DOWNLOAD']),logger['debug'](_0x4b298d(0xce)+_0x42ca37);try{const _0x52ed62=url[_0x4b298d(0xbe)](_0x42ca37),_0x5d9eaf=path['join'](_0x36794b,_0x569ddf[_0x4b298d(0xd7)]),_0x285630=fs[_0x4b298d(0xfc)](_0x5d9eaf);return new Promise((_0x547541,_0x2e5286)=>{const _0x57471e=_0x4b298d,_0x5f0f1d={'fCTmw':_0x569ddf['MjLfd'],'RQHef':function(_0x3ecd56,_0x484208){const _0x4cbbe9=a58_0x4da2;return _0x569ddf[_0x4cbbe9(0x163)](_0x3ecd56,_0x484208);},'HDLSL':_0x569ddf[_0x57471e(0xb9)],'aeJgK':function(_0x591778,_0x1f30be){return _0x569ddf['agXeR'](_0x591778,_0x1f30be);},'XWCvM':_0x569ddf[_0x57471e(0x12f)]};https['get'](_0x52ed62,function(_0x27d921){const _0x58c870=_0x57471e,_0x55b2e0={'sXkJr':_0x5f0f1d[_0x58c870(0xb8)],'UMxew':function(_0xfa8cff,_0x11825b){return _0x5f0f1d['aeJgK'](_0xfa8cff,_0x11825b);}},_0x37e3e1=null;_0x27d921[_0x58c870(0x14c)](_0x285630),_0x27d921['on'](_0x5f0f1d[_0x58c870(0xcd)],function(_0x17061f){const _0x23d602=_0x58c870;logger[_0x23d602(0x165)](util[_0x23d602(0xfb)](_0x55b2e0[_0x23d602(0x155)],_0x17061f)),PerformanceTester['end'](PerformanceEvents[_0x23d602(0xeb)],![],util[_0x23d602(0xfb)](_0x17061f)),_0x55b2e0[_0x23d602(0xf0)](_0x2e5286,_0x17061f);}),_0x285630['on'](_0x5f0f1d[_0x58c870(0xcd)],function(_0x5fff17){const _0x4e9cfc=_0x58c870;logger['error'](util[_0x4e9cfc(0xfb)](_0x5f0f1d['fCTmw'],_0x5fff17)),PerformanceTester['end'](PerformanceEvents[_0x4e9cfc(0xeb)],![],util[_0x4e9cfc(0xfb)](_0x5fff17)),_0x5f0f1d[_0x4e9cfc(0x11d)](_0x2e5286,_0x5fff17);}),CLIUtils[_0x58c870(0xc7)](_0x285630,_0x37e3e1,_0x5d9eaf,_0x36794b,_0x547541,_0x2e5286),PerformanceTester[_0x58c870(0xee)](PerformanceEvents[_0x58c870(0xeb)]);})['on'](_0x569ddf[_0x57471e(0x12f)],function(_0x30e5ee){const _0x1d7abf=_0x57471e;logger[_0x1d7abf(0x165)](_0x1d7abf(0x105)+util[_0x1d7abf(0xfb)](_0x30e5ee)),PerformanceTester['end'](PerformanceEvents[_0x1d7abf(0xeb)],![],util['format'](_0x30e5ee)),_0x5f0f1d[_0x1d7abf(0x11d)](_0x2e5286,_0x30e5ee);});});}catch(_0x355ae5){PerformanceTester[_0x4b298d(0xee)](PerformanceEvents[_0x4b298d(0xeb)],![],util['format'](_0x355ae5)),logger[_0x4b298d(0xfe)]('Failed\x20to\x20download\x20binary,\x20Exception:\x20'+util[_0x4b298d(0xfb)](_0x355ae5));}};static['downloadFileStream'](_0x54feab,_0x4de2bb,_0x15fc5b,_0x498242,_0x507b4f,_0x46f17b){const _0x52a95d=a58_0x27f544,_0x2fc64a={'xhBNp':function(_0xab48a8,_0x23f363){return _0xab48a8(_0x23f363);},'BsajQ':_0x52a95d(0xee),'tmGVR':function(_0x35eedb,_0x2c061e){return _0x35eedb===_0x2c061e;},'SjVJQ':function(_0x1fcda3,_0x502504){return _0x1fcda3(_0x502504);},'SgBtN':_0x52a95d(0xca),'Clnmj':'error','UqBQU':function(_0x1bea2b,_0x16fb30){return _0x1bea2b(_0x16fb30);},'khsSJ':'0755','wVryD':_0x52a95d(0x10b)};_0x54feab['on'](_0x2fc64a[_0x52a95d(0x100)],function(){const _0x498737=_0x52a95d,_0x12bef8={'gEKkR':function(_0x3bbf90,_0x843814){return _0x2fc64a['UqBQU'](_0x3bbf90,_0x843814);},'OPaBU':_0x2fc64a[_0x498737(0x151)]},_0x39ed69={};_0x39ed69[_0x498737(0x106)]=!![],yauzl[_0x498737(0x12c)](_0x15fc5b,_0x39ed69,function(_0x4f2fa8,_0x257b66){const _0x456143=_0x498737,_0x27031d={'kSbCe':function(_0x5cefda,_0x10a207){const _0x444459=a58_0x4da2;return _0x2fc64a[_0x444459(0x13a)](_0x5cefda,_0x10a207);},'ISzrO':_0x2fc64a[_0x456143(0xd2)],'HrqJI':function(_0x4e0fa9,_0x5b73cc){return _0x2fc64a['tmGVR'](_0x4e0fa9,_0x5b73cc);}};_0x4f2fa8&&_0x2fc64a[_0x456143(0x12d)](_0x46f17b,_0x4f2fa8),_0x257b66[_0x456143(0x141)](),_0x257b66['on'](_0x2fc64a[_0x456143(0x154)],_0x3631c3=>{const _0x3dd507=_0x456143,_0x5a6dff={'oVEDo':function(_0x1cc8ed,_0x5f59e9){const _0x44af12=a58_0x4da2;return _0x27031d[_0x44af12(0xe1)](_0x1cc8ed,_0x5f59e9);},'FtxzC':_0x27031d[_0x3dd507(0x158)]};!_0x4de2bb&&(_0x4de2bb=_0x3631c3[_0x3dd507(0x11a)]);if(/\/$/[_0x3dd507(0xdb)](_0x3631c3[_0x3dd507(0x11a)]))_0x257b66[_0x3dd507(0x141)]();else{const _0x51f93e=fs['createWriteStream'](path[_0x3dd507(0xdd)](_0x498242,_0x3631c3[_0x3dd507(0x11a)]));_0x257b66[_0x3dd507(0x13b)](_0x3631c3,function(_0x1e702c,_0x453bdf){_0x1e702c&&_0x5a6dff['oVEDo'](_0x46f17b,_0x4f2fa8),_0x453bdf['on'](_0x5a6dff['FtxzC'],function(){const _0x159c84=a58_0x4da2;_0x51f93e[_0x159c84(0x10b)](),_0x257b66[_0x159c84(0x141)]();}),_0x453bdf['pipe'](_0x51f93e);}),_0x27031d[_0x3dd507(0x10c)](_0x3631c3[_0x3dd507(0x11a)],_0x4de2bb)&&_0x257b66[_0x3dd507(0x10b)]();}}),_0x257b66['on'](_0x2fc64a[_0x456143(0x160)],_0x57a1c9=>{const _0x1b6dca=_0x456143;_0x12bef8[_0x1b6dca(0xc6)](_0x46f17b,_0x57a1c9);}),_0x257b66[_0x456143(0x112)](_0x2fc64a[_0x456143(0xd2)],()=>{const _0x1189e2=_0x456143,_0x2956ab={'Vubho':function(_0x4bf26d,_0x1ae5e4){return _0x12bef8['gEKkR'](_0x4bf26d,_0x1ae5e4);}};fs[_0x1189e2(0xef)](_0x15fc5b,_0x45ce4b=>{const _0x13e7e7=_0x1189e2;_0x45ce4b&&logger['warn'](_0x13e7e7(0x14b)+_0x15fc5b);}),fs[_0x1189e2(0x149)](_0x498242+'/'+_0x4de2bb,_0x12bef8[_0x1189e2(0xdf)],function(_0x16fb34){const _0x2d4881=_0x1189e2;_0x16fb34&&_0x2956ab[_0x2d4881(0x148)](_0x46f17b,_0x16fb34),_0x2956ab[_0x2d4881(0x148)](_0x507b4f,_0x498242+'/'+_0x4de2bb);}),_0x257b66[_0x1189e2(0x10b)]();});});});}static['getTestFrameworkDetail'](){const _0x45a48f=a58_0x27f544;if(process[_0x45a48f(0x15d)][_0x45a48f(0xd9)])return JSON[_0x45a48f(0xbe)](process[_0x45a48f(0x15d)][_0x45a48f(0xd9)]);return this[_0x45a48f(0xe5)];}static[a58_0x27f544(0x15e)](){const _0x388f4a=a58_0x27f544;if(process[_0x388f4a(0x15d)][_0x388f4a(0xe9)])return JSON[_0x388f4a(0xbe)](process[_0x388f4a(0x15d)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']);return this[_0x388f4a(0xcc)];}static[a58_0x27f544(0xbc)](_0x355db4,_0x30b262){const _0x4b43b6=a58_0x27f544,_0x5cdd2c={'gAkzi':_0x4b43b6(0x127),'QYZzS':function(_0x2e4320,_0x370284){return _0x2e4320(_0x370284);},'gvLxx':function(_0x406fb1,_0x5b80b0){return _0x406fb1(_0x5b80b0);},'WcxgS':function(_0x26043e,_0x1cabef){return _0x26043e||_0x1cabef;}},_0x250228=_0x5cdd2c['gAkzi']['split']('|');let _0x223b3a=0x0;while(!![]){switch(_0x250228[_0x223b3a++]){case'0':process['env'][_0x4b43b6(0xe9)]=JSON['stringify'](this['automationFrameworkDetail']);continue;case'1':process['env'][_0x4b43b6(0xd9)]=JSON[_0x4b43b6(0x10d)](this[_0x4b43b6(0xe5)]);continue;case'2':this[_0x4b43b6(0xcc)]={'name':_0x30b262,'version':_0x5cdd2c[_0x4b43b6(0x143)](getFrameworkVersion,_0x30b262)};continue;case'3':this['testFrameworkDetail']={'name':_0x355db4,'version':{[_0x355db4]:_0x5cdd2c[_0x4b43b6(0x164)](getFrameworkVersion,_0x355db4)}};continue;case'4':_0x5cdd2c[_0x4b43b6(0xbf)](!_0x355db4,!_0x30b262)&&logger[_0x4b43b6(0xfe)]('Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework='+_0x355db4+_0x4b43b6(0x11b)+_0x30b262);continue;}break;}}static[a58_0x27f544(0xba)](_0x492e88,_0x1676e3){return _0x492e88+':'+_0x1676e3;}static[a58_0x27f544(0x110)](){const _0x505797=a58_0x27f544;return process[_0x505797(0x162)]+':'+threadId;}static['shouldSkipSessionName'](_0x5110b6){const _0x569354=a58_0x27f544;if(_0x5110b6[_0x569354(0x133)]&&_0x5110b6[_0x569354(0x133)][_0x569354(0xc4)])return!![];return![];}static['shouldSkipSessionStatus'](_0x193ceb){const _0x280d8e=a58_0x27f544;if(_0x193ceb['testContextOptions']&&_0x193ceb[_0x280d8e(0x133)]['skipSessionStatus'])return!![];return![];}static['matchHookRegex'](_0x18f6f6){const _0x109af4=a58_0x27f544,_0x5cabde=new RegExp(TestFrameworkConstants[_0x109af4(0xb5)]);return _0x5cabde[_0x109af4(0xdb)](_0x18f6f6);}}module['exports']=CLIUtils;