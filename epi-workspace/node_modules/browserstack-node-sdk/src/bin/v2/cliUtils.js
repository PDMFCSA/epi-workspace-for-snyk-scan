const a58_0x5cf4d3=a58_0x6c55;function a58_0x39cc(){const _0x5607fa=['../../helpers/test-observability/utils.js','getCliDir','basename','QUSpv','./state/hookState.js','open','112552MgPNWs','BROWSERSTACK_BINARY_URL','\x20already\x20exists','path','4|0|1|2|3','requestToUpdateCLI','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','end','binary-','Ybewz','Configuring\x20Cli\x20path.','../../helpers/classLogger.js','automationFrameworkDetail','pipe','gjvoy','HOOK_REGEX','close','DIopo','euNCH','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','0755','EXDys','split','ycuSw','url','../../../package.json','once','util','getSdkLanguage','WTkYN','SHELL_EXECUTE_ERROR','pid','worker_threads','format','382713QvzyQR','getExistingCliPath','llGwe','./state/testFrameworkState.js','Downloading\x20SDK\x20binary\x20from:\x20','response\x20','existsSync','mtime','QoEGC','OIAEG','4338lDNwqX','filter','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','Current\x20CLI\x20Path\x20Found:\x20','XDcia','oQYRG','exports','fileName','.sock','testFrameworkDetail','431645oRAFxX','pvroI','Development\x20Cli\x20Path:\x20','createWriteStream','hwjZG','getCurrentInstanceName','gKGMH','lazyEntries','iXPAC','Resolved\x20binary\x20path:\x20','homedir','getWritableDir','info','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','../../helpers/performance/performance-tester.js','follow-redirects','TFlyd','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','isFile','FevuW','SDK_CLI_CHECK_UPDATE','UKZQO','Folder\x20','WizRA','parse','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','openReadStream','shouldSkipSessionName','arch','McEFZ','length','KZNVs','qMknN','reduce','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','downloaded_file.zip','pFrGY','GzKlW','pDGBN','BhVqQ','jvHXm','Failed\x20to\x20delete\x20zip\x20file:\x20','checkAndUpdateCli','version','skipSessionStatus','../../helpers/performance/constants','test','eEfsa','getCLIParamsForDevEnv','error','timeout','evwRO','node','startsWith','chmod','getSdkVersion','warn','start','setupCliPath','PmuxY','./instances/testFrameworkInstance.js','yauzl','GQfDy','eeiKT','matchHookRegex','VJbEw','FvuPL','isDevelopmentEnv','GtoGM','Setting\x20required\x20permissions\x20to\x20','Xzgvu','development','get','SDK_CLI_BIN_PATH','../../helpers/helper','readEntry','MKjYs','unlink','mbidH','xFubn','161591vxtshK','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','getAutomationFrameworkDetail','SJZob','env','BROWSERSTACK_CLI_ENV',',\x20automationFramework=','1170216FmWwRN','cli_version','trim','SDK_CLI_DOWNLOAD','platform','statSync','runShellCommand','420qcZvPM','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','data','KGUTO','testContextOptions','Folder\x20does\x20not\x20exist:\x20','listen','./state/automationFrameworkState.js','./framework/constants/testFrameworkConstants.js','362458yAmoxr','debug','downloadFileStream','setFrameworkDetail','TqEul','stringify','fmLIJ','AeDvG','join','OJTBx','GET','map','skipSessionName'];a58_0x39cc=function(){return _0x5607fa;};return a58_0x39cc();}(function(_0x345c9b,_0x25e1fe){const _0xec42ab=a58_0x6c55,_0x54f3f8=_0x345c9b();while(!![]){try{const _0x1bad80=-parseInt(_0xec42ab(0xaa))/0x1+parseInt(_0xec42ab(0xc1))/0x2+-parseInt(_0xec42ab(0xf6))/0x3+parseInt(_0xec42ab(0xd4))/0x4+parseInt(_0xec42ab(0x10a))/0x5+parseInt(_0xec42ab(0x100))/0x6*(-parseInt(_0xec42ab(0xb8))/0x7)+parseInt(_0xec42ab(0xb1))/0x8;if(_0x1bad80===_0x25e1fe)break;else _0x54f3f8['push'](_0x54f3f8['shift']());}catch(_0x737bef){_0x54f3f8['push'](_0x54f3f8['shift']());}}}(a58_0x39cc,0x1ab77));function a58_0x6c55(_0x23540e,_0x4b7b89){const _0x39cc2b=a58_0x39cc();return a58_0x6c55=function(_0x6c55ec,_0x3746e0){_0x6c55ec=_0x6c55ec-0x6b;let _0xdd0286=_0x39cc2b[_0x6c55ec];return _0xdd0286;},a58_0x6c55(_0x23540e,_0x4b7b89);}const fs=require('fs'),os=require('os'),url=require('url'),path=require(a58_0x5cf4d3(0xd7)),{exec}=require('child_process'),{https}=require(a58_0x5cf4d3(0x119)),yauzl=require(a58_0x5cf4d3(0x97)),util=require(a58_0x5cf4d3(0xef)),{getFrameworkVersion}=require(a58_0x5cf4d3(0xce)),{threadId}=require(a58_0x5cf4d3(0xf4)),PerformanceTester=require(a58_0x5cf4d3(0x118)),{EVENTS:PerformanceEvents}=require(a58_0x5cf4d3(0x87)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require('../../helpers/utilities'),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a58_0x5cf4d3(0xa4)),{BROWSERSTACK_API_URL,UPDATED_CLI_ENDPOINT}=require('../utils/constants'),{createClassLogger}=require(a58_0x5cf4d3(0xdf)),TestFrameworkInstance=require(a58_0x5cf4d3(0x96)),HookState=require(a58_0x5cf4d3(0xd2)),TestFrameworkState=require(a58_0x5cf4d3(0xf9)),AutomationFrameworkState=require(a58_0x5cf4d3(0xbf)),TestFrameworkConstants=require(a58_0x5cf4d3(0xc0)),logger=createClassLogger('CLIUtils');class CLIUtils{['automationFrameworkDetail']={};['testFrameworkDetail']={};static[a58_0x5cf4d3(0x9d)](){const _0x267afd=a58_0x5cf4d3,_0x5ed961={};_0x5ed961[_0x267afd(0x9b)]=function(_0x5598a3,_0xc6ca6a){return _0x5598a3===_0xc6ca6a;},_0x5ed961[_0x267afd(0x10b)]=_0x267afd(0xa1);const _0x3ed417=_0x5ed961;return _0x3ed417[_0x267afd(0x9b)](process[_0x267afd(0xae)]['BROWSERSTACK_CLI_ENV'],_0x3ed417[_0x267afd(0x10b)]);}static[a58_0x5cf4d3(0x8a)](){const _0x269b77=a58_0x5cf4d3,_0x42f6b4={};return _0x42f6b4['id']=process[_0x269b77(0xae)]['BROWSERSTACK_CLI_ENV'],_0x42f6b4[_0x269b77(0xbe)]='unix:/tmp/sdk-platform-'+process['env'][_0x269b77(0xaf)]+_0x269b77(0x108),_0x42f6b4;}static[a58_0x5cf4d3(0x91)](){const _0x435a17=a58_0x5cf4d3,_0x27419b={'MKjYs':function(_0x3f5c36,_0xba267f){return _0x3f5c36(_0xba267f);},'OIAEG':_0x435a17(0xed)};return _0x27419b[_0x435a17(0xa6)](require,_0x27419b[_0x435a17(0xff)])[_0x435a17(0x85)];}static['getSdkLanguage'](){const _0x301393=a58_0x5cf4d3,_0x1e4dda={};_0x1e4dda['TtWqW']=_0x301393(0x8e);const _0x1ca360=_0x1e4dda;return _0x1ca360['TtWqW'];}static async[a58_0x5cf4d3(0x94)](_0x8db1d2){const _0x9cab30=a58_0x5cf4d3,_0x24605d={'mbidH':_0x9cab30(0xde),'hiDCI':function(_0x39d6ae,_0x487721){return _0x39d6ae(_0x487721);},'XDcia':_0x9cab30(0xab)};logger[_0x9cab30(0xc2)](_0x24605d[_0x9cab30(0xa8)]);const _0x19f143=process[_0x9cab30(0xae)][_0x9cab30(0xa3)];if(!_0x24605d['hiDCI'](isNullOrEmpty,_0x19f143))return logger[_0x9cab30(0xc2)](_0x9cab30(0x10c)+_0x19f143),_0x19f143;try{const _0xb8f300=this[_0x9cab30(0xcf)]();if(_0x24605d['hiDCI'](isNullOrEmpty,_0xb8f300))throw new Error(_0x24605d[_0x9cab30(0x104)]);const _0x490d12=this[_0x9cab30(0xf7)](_0xb8f300),_0x4f6fb8=await this[_0x9cab30(0x84)](_0x490d12,_0xb8f300,_0x8db1d2);return logger[_0x9cab30(0xc2)](_0x9cab30(0x113)+_0x4f6fb8),_0x4f6fb8;}catch(_0x1b784d){logger[_0x9cab30(0xc2)](_0x9cab30(0xb9)+util['format'](_0x1b784d));}return null;}static async['checkAndUpdateCli'](_0x207227,_0x437e48,_0x410c48){const _0x50960b=a58_0x5cf4d3,_0x267443={'euNCH':function(_0x316b30){return _0x316b30();},'WTkYN':function(_0x4610d1,_0x5e6723){return _0x4610d1(_0x5e6723);},'pFrGY':function(_0x3017b8,_0x1ce1fc,_0x384b75){return _0x3017b8(_0x1ce1fc,_0x384b75);},'SJZob':_0x50960b(0xba),'QoEGC':_0x50960b(0xec)};PerformanceTester[_0x50960b(0x93)](PerformanceEvents[_0x50960b(0x6e)]),logger[_0x50960b(0x116)](_0x50960b(0x103)+_0x207227);const _0x7219f2=_0x267443[_0x50960b(0xe6)](getHostInfo),_0x48d1cd={'sdk_version':CLIUtils[_0x50960b(0x91)](),'os':_0x7219f2[_0x50960b(0xb5)],'os_arch':_0x7219f2[_0x50960b(0x76)],'cli_version':'0','sdk_language':this[_0x50960b(0xf0)]()};!_0x267443[_0x50960b(0xf1)](isNullOrEmpty,_0x207227)&&(_0x48d1cd[_0x50960b(0xb2)]=await this[_0x50960b(0xb7)](_0x207227+'\x20version'));const _0x46510d=await this[_0x50960b(0xd9)](_0x48d1cd,_0x410c48);process[_0x50960b(0xae)][_0x50960b(0xd5)]&&(logger[_0x50960b(0x116)](_0x50960b(0xe7)+process['env'][_0x50960b(0xd5)]),_0x46510d[_0x50960b(0xba)][_0x50960b(0xec)]=process[_0x50960b(0xae)][_0x50960b(0xd5)]);if(_0x267443[_0x50960b(0x7e)](nestedKeyValue,_0x46510d,[_0x267443[_0x50960b(0xad)],_0x267443['QoEGC']])){logger[_0x50960b(0xc2)]('Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20'+_0x48d1cd[_0x50960b(0xb2)]);const _0x414c59=await this['downloadLatestBinary'](_0x267443['pFrGY'](nestedKeyValue,_0x46510d,[_0x267443[_0x50960b(0xad)],_0x267443[_0x50960b(0xfe)]]),_0x437e48);return PerformanceTester[_0x50960b(0xdb)](PerformanceEvents[_0x50960b(0x6e)]),_0x414c59;}return PerformanceTester[_0x50960b(0xdb)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x207227;}static[a58_0x5cf4d3(0xcf)](){const _0x5a5ce4=a58_0x5cf4d3,_0x409588={'ycuSw':function(_0x14033e,_0x319756){return _0x14033e(_0x319756);},'UPLDl':_0x5a5ce4(0xab),'TqEul':'cli','QUSpv':function(_0x263258,_0xe0348d){return _0x263258(_0xe0348d);}},_0xf8385e=this[_0x5a5ce4(0x115)]();try{if(_0x409588[_0x5a5ce4(0xeb)](isNullOrEmpty,_0xf8385e))throw new Error(_0x409588['UPLDl']);const _0x331181=path[_0x5a5ce4(0xc9)](_0xf8385e,_0x409588[_0x5a5ce4(0xc5)]);return!fs[_0x5a5ce4(0xfc)](_0x331181)&&_0x409588[_0x5a5ce4(0xd1)](createDir,_0x331181),_0x331181;}catch(_0xf99733){logger[_0x5a5ce4(0xc2)]('Error\x20in\x20getting\x20writable\x20directory,\x20writableDir='+util[_0x5a5ce4(0xf5)](_0xf99733));}}static['getWritableDir'](){const _0x281a40=a58_0x5cf4d3,_0x92dcf2={'TFlyd':'.browserstack','eeiKT':'tmp','McEFZ':function(_0x5ae1b2,_0x31910a){return _0x5ae1b2(_0x31910a);}},_0x13a8d3=[process[_0x281a40(0xae)]['BROWSERSTACK_FILES_DIR'],path[_0x281a40(0xc9)](os[_0x281a40(0x114)](),_0x92dcf2[_0x281a40(0x11a)]),path[_0x281a40(0xc9)](_0x92dcf2[_0x281a40(0x99)],_0x92dcf2[_0x281a40(0x11a)])];for(const _0x24de0b of _0x13a8d3){if(_0x92dcf2[_0x281a40(0x77)](isNullOrEmpty,_0x24de0b))continue;try{if(fs[_0x281a40(0xfc)](_0x24de0b)){logger[_0x281a40(0xc2)](_0x281a40(0x70)+_0x24de0b+_0x281a40(0xd6));if(!_0x92dcf2[_0x281a40(0x77)](isModifiable,_0x24de0b)){logger[_0x281a40(0xc2)](_0x281a40(0x9f)+_0x24de0b);const _0x1d5e07=_0x92dcf2[_0x281a40(0x77)](setReadWriteExecuteAccess,_0x24de0b);!_0x92dcf2[_0x281a40(0x77)](isTrue,_0x1d5e07)&&logger[_0x281a40(0x92)](_0x281a40(0x6b)+_0x24de0b);}}else{logger['debug'](_0x281a40(0xbd)+_0x24de0b),_0x92dcf2[_0x281a40(0x77)](createDir,_0x24de0b),logger[_0x281a40(0xc2)](_0x281a40(0x9f)+_0x24de0b);const _0x468001=_0x92dcf2['McEFZ'](setReadWriteExecuteAccess,_0x24de0b);!_0x92dcf2[_0x281a40(0x77)](isTrue,_0x468001)&&logger[_0x281a40(0x92)](_0x281a40(0x6b)+_0x24de0b);}return _0x24de0b;}catch(_0x2e5169){logger[_0x281a40(0x8b)](_0x281a40(0x7c)+util['format'](_0x2e5169));}}return null;}static[a58_0x5cf4d3(0xf7)](_0x41514c){const _0x5e5cde=a58_0x5cf4d3,_0x26ed3c={};_0x26ed3c[_0x5e5cde(0xa0)]=function(_0x3a7d22,_0x471901){return _0x3a7d22>_0x471901;};const _0x7a7c38=_0x26ed3c;try{if(!fs[_0x5e5cde(0xfc)](_0x41514c)||!fs[_0x5e5cde(0xb6)](_0x41514c)['isDirectory']())return'';const _0x379a01=fs['readdirSync'](_0x41514c)[_0x5e5cde(0xcc)](_0x15a2a4=>path['join'](_0x41514c,_0x15a2a4))[_0x5e5cde(0x101)](_0x59f0f3=>fs[_0x5e5cde(0xb6)](_0x59f0f3)[_0x5e5cde(0x6c)]()&&path[_0x5e5cde(0xd0)](_0x59f0f3)[_0x5e5cde(0x8f)](_0x5e5cde(0xdc)));if(_0x7a7c38[_0x5e5cde(0xa0)](_0x379a01[_0x5e5cde(0x78)],0x0)){const _0x579d32=_0x379a01[_0x5e5cde(0xcc)](_0x30416b=>({'filePath':_0x30416b,'mtime':fs[_0x5e5cde(0xb6)](_0x30416b)['mtime']}))[_0x5e5cde(0x7b)]((_0x231f18,_0x479317)=>{const _0x371382=_0x5e5cde;if(!_0x231f18||!_0x231f18[_0x371382(0xfd)])return _0x479317;if(_0x7a7c38['Xzgvu'](_0x479317[_0x371382(0xfd)],_0x231f18[_0x371382(0xfd)]))return _0x479317;return _0x231f18;},{});return _0x579d32?_0x579d32['filePath']:'';}return'';}catch(_0xe511bb){return logger[_0x5e5cde(0x8b)]('Error\x20while\x20reading\x20CLI\x20path:\x20'+util[_0x5e5cde(0xf5)](_0xe511bb)),'';}}static [a58_0x5cf4d3(0xd9)]=async(_0x51abef,_0x29f5ab)=>{const _0x12849f=a58_0x5cf4d3,_0x8ac7c4={'QJvei':function(_0x53cf87,_0x1413c3,_0x377473,_0x587825,_0x4d2f6c,_0x205b46){return _0x53cf87(_0x1413c3,_0x377473,_0x587825,_0x4d2f6c,_0x205b46);},'IjqOB':_0x12849f(0xcb)},_0x51bd82={};_0x51bd82['qs']=_0x51abef;const _0x5bf187=await _0x8ac7c4['QJvei'](nodeRequest,_0x8ac7c4['IjqOB'],UPDATED_CLI_ENDPOINT,_0x51bd82,_0x29f5ab,BROWSERSTACK_API_URL);return logger[_0x12849f(0xc2)](_0x12849f(0xfb)+JSON[_0x12849f(0xc6)](_0x5bf187)),_0x5bf187;};static['runShellCommand'](_0x50189f,_0x48adf9=''){const _0x2fa82c=a58_0x5cf4d3,_0x566110={'PmuxY':function(_0x5cfd17,_0x4808ff){return _0x5cfd17(_0x4808ff);},'WizRA':_0x2fa82c(0xf2),'AtmYe':function(_0x2fa564,_0x450a0e,_0x1bf453,_0x96ee84){return _0x2fa564(_0x450a0e,_0x1bf453,_0x96ee84);},'Dvlkm':_0x2fa82c(0x8b)};return new Promise((_0x55ab38,_0x413fcd)=>{const _0x1c5a16=_0x2fa82c,_0x6e0304={};_0x6e0304['cwd']=_0x48adf9,_0x6e0304[_0x1c5a16(0x8c)]=0x1388;const _0x2a550c=_0x566110['AtmYe'](exec,_0x50189f,_0x6e0304,(_0x14b7c7,_0x5a277a,_0x4f9123)=>{const _0x48aa56=_0x1c5a16;_0x14b7c7?_0x566110[_0x48aa56(0x95)](_0x55ab38,_0x4f9123[_0x48aa56(0xb3)]()||_0x566110[_0x48aa56(0x71)]):_0x566110[_0x48aa56(0x95)](_0x55ab38,_0x5a277a[_0x48aa56(0xb3)]());});_0x2a550c['on'](_0x566110['Dvlkm'],()=>{const _0x2288d7=_0x1c5a16;_0x566110['PmuxY'](_0x55ab38,_0x566110[_0x2288d7(0x71)]);});});}static ['downloadLatestBinary']=async(_0x39a8dc,_0x51899a)=>{const _0x17d1fb=a58_0x5cf4d3,_0x4bee1c={'EXDys':_0x17d1fb(0x102),'evwRO':function(_0xffd7cd,_0x43ad8a){return _0xffd7cd(_0x43ad8a);},'BhVqQ':_0x17d1fb(0x73),'eEfsa':_0x17d1fb(0x8b),'OtOGQ':_0x17d1fb(0x7d)};PerformanceTester[_0x17d1fb(0x93)](PerformanceEvents['SDK_CLI_DOWNLOAD']),logger[_0x17d1fb(0xc2)](_0x17d1fb(0xfa)+_0x39a8dc);try{const _0x376494=url[_0x17d1fb(0x72)](_0x39a8dc),_0x1ddfbe=path[_0x17d1fb(0xc9)](_0x51899a,_0x4bee1c['OtOGQ']),_0xbc0f=fs[_0x17d1fb(0x10d)](_0x1ddfbe);return new Promise((_0x3c939e,_0x407475)=>{const _0x1419b8=_0x17d1fb,_0x2cf23b={'KGUTO':_0x4bee1c[_0x1419b8(0xe9)],'Ybewz':function(_0x38a5d5,_0x222784){return _0x4bee1c['evwRO'](_0x38a5d5,_0x222784);},'jvHXm':_0x4bee1c[_0x1419b8(0x81)],'GtoGM':function(_0x24a150,_0x578ce3){const _0x1ea9e3=_0x1419b8;return _0x4bee1c[_0x1ea9e3(0x8d)](_0x24a150,_0x578ce3);},'iXPAC':_0x4bee1c['eEfsa'],'yaosY':function(_0x2eefbb,_0x35f65f){const _0xd53666=_0x1419b8;return _0x4bee1c[_0xd53666(0x8d)](_0x2eefbb,_0x35f65f);}};https[_0x1419b8(0xa2)](_0x376494,function(_0x229b2c){const _0x2beb43=_0x1419b8,_0x133e9b=null;_0x229b2c[_0x2beb43(0xe1)](_0xbc0f),_0x229b2c['on'](_0x2cf23b[_0x2beb43(0x112)],function(_0x3e7b92){const _0x109cd8=_0x2beb43;logger['error'](util['format'](_0x2cf23b[_0x109cd8(0xbb)],_0x3e7b92)),PerformanceTester['end'](PerformanceEvents[_0x109cd8(0xb4)],![],util[_0x109cd8(0xf5)](_0x3e7b92)),_0x2cf23b[_0x109cd8(0xdd)](_0x407475,_0x3e7b92);}),_0xbc0f['on'](_0x2cf23b[_0x2beb43(0x112)],function(_0x4e769c){const _0x17f464=_0x2beb43;logger[_0x17f464(0x8b)](util[_0x17f464(0xf5)](_0x2cf23b[_0x17f464(0x82)],_0x4e769c)),PerformanceTester['end'](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x17f464(0xf5)](_0x4e769c)),_0x2cf23b[_0x17f464(0x9e)](_0x407475,_0x4e769c);}),CLIUtils[_0x2beb43(0xc3)](_0xbc0f,_0x133e9b,_0x1ddfbe,_0x51899a,_0x3c939e,_0x407475),PerformanceTester[_0x2beb43(0xdb)](PerformanceEvents['SDK_CLI_DOWNLOAD']);})['on'](_0x4bee1c[_0x1419b8(0x89)],function(_0x224830){const _0x35b5b6=_0x1419b8;logger[_0x35b5b6(0x8b)]('Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20'+util[_0x35b5b6(0xf5)](_0x224830)),PerformanceTester['end'](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x35b5b6(0xf5)](_0x224830)),_0x2cf23b['yaosY'](_0x407475,_0x224830);});});}catch(_0x4ba1d1){PerformanceTester['end'](PerformanceEvents[_0x17d1fb(0xb4)],![],util[_0x17d1fb(0xf5)](_0x4ba1d1)),logger[_0x17d1fb(0xc2)]('Failed\x20to\x20download\x20binary,\x20Exception:\x20'+util[_0x17d1fb(0xf5)](_0x4ba1d1));}};static['downloadFileStream'](_0x493042,_0x5a2a31,_0x49e49b,_0xfbb398,_0x3942c6,_0x21f4af){const _0x4a9c19=a58_0x5cf4d3,_0x4936ac={'GzKlW':function(_0x10cba1,_0x32eb49){return _0x10cba1(_0x32eb49);},'pDGBN':_0x4a9c19(0xe8),'gjvoy':function(_0xc8384a,_0x11dbdb){return _0xc8384a(_0x11dbdb);},'gtZsd':_0x4a9c19(0xdb),'DmZpS':function(_0x199074,_0x264283){return _0x199074===_0x264283;},'llGwe':'entry','OcddA':_0x4a9c19(0x8b),'DIopo':_0x4a9c19(0xe4)};_0x493042['on'](_0x4936ac[_0x4a9c19(0xe5)],function(){const _0x5d8d5f=_0x4a9c19,_0x129708={'hwjZG':function(_0x5f1a34,_0x59e490){const _0x2ca14a=a58_0x6c55;return _0x4936ac[_0x2ca14a(0x7f)](_0x5f1a34,_0x59e490);},'OJTBx':function(_0x289cd0,_0x2f68ba){return _0x4936ac['GzKlW'](_0x289cd0,_0x2f68ba);},'KZNVs':_0x4936ac[_0x5d8d5f(0x80)],'oQYRG':function(_0x8bb3fb,_0x532a24){const _0x13b141=_0x5d8d5f;return _0x4936ac[_0x13b141(0xe2)](_0x8bb3fb,_0x532a24);},'UKZQO':_0x4936ac['gtZsd'],'VQmci':function(_0xd95e6b,_0xdfd482){return _0x4936ac['DmZpS'](_0xd95e6b,_0xdfd482);},'FvuPL':_0x4936ac[_0x5d8d5f(0xf8)],'fmLIJ':_0x4936ac['OcddA']},_0x2c6a34={};_0x2c6a34[_0x5d8d5f(0x111)]=!![],yauzl[_0x5d8d5f(0xd3)](_0x49e49b,_0x2c6a34,function(_0x313b32,_0xc5e101){const _0x232c5c=_0x5d8d5f,_0x57555d={'qMknN':function(_0x58a0cc,_0x47b858){return _0x129708['oQYRG'](_0x58a0cc,_0x47b858);},'wrXQR':_0x129708[_0x232c5c(0x6f)],'xFubn':function(_0x31940c,_0x5090b3){return _0x129708['VQmci'](_0x31940c,_0x5090b3);}};_0x313b32&&_0x129708[_0x232c5c(0x105)](_0x21f4af,_0x313b32),_0xc5e101[_0x232c5c(0xa5)](),_0xc5e101['on'](_0x129708[_0x232c5c(0x9c)],_0x3a03bd=>{const _0x2155c2=_0x232c5c;!_0x5a2a31&&(_0x5a2a31=_0x3a03bd[_0x2155c2(0x107)]);if(/\/$/['test'](_0x3a03bd[_0x2155c2(0x107)]))_0xc5e101[_0x2155c2(0xa5)]();else{const _0x32c388=fs[_0x2155c2(0x10d)](path[_0x2155c2(0xc9)](_0xfbb398,_0x3a03bd[_0x2155c2(0x107)]));_0xc5e101[_0x2155c2(0x74)](_0x3a03bd,function(_0x251229,_0x41b851){const _0x1d99cb=_0x2155c2;_0x251229&&_0x57555d[_0x1d99cb(0x7a)](_0x21f4af,_0x313b32),_0x41b851['on'](_0x57555d['wrXQR'],function(){const _0x160a7f=_0x1d99cb;_0x32c388[_0x160a7f(0xe4)](),_0xc5e101[_0x160a7f(0xa5)]();}),_0x41b851['pipe'](_0x32c388);}),_0x57555d[_0x2155c2(0xa9)](_0x3a03bd[_0x2155c2(0x107)],_0x5a2a31)&&_0xc5e101[_0x2155c2(0xe4)]();}}),_0xc5e101['on'](_0x129708[_0x232c5c(0xc7)],_0x17504c=>{const _0x295dd4=_0x232c5c;_0x57555d[_0x295dd4(0x7a)](_0x21f4af,_0x17504c);}),_0xc5e101[_0x232c5c(0xee)](_0x129708[_0x232c5c(0x6f)],()=>{const _0x3442e9=_0x232c5c,_0x467fdb={'FevuW':function(_0x5b6405,_0x2e6be7){const _0x215b1f=a58_0x6c55;return _0x129708[_0x215b1f(0x10e)](_0x5b6405,_0x2e6be7);},'pcvRR':function(_0x4e2d6c,_0x2c7999){const _0x591aac=a58_0x6c55;return _0x129708[_0x591aac(0xca)](_0x4e2d6c,_0x2c7999);}};fs[_0x3442e9(0xa7)](_0x49e49b,_0x310038=>{const _0x3783d1=_0x3442e9;_0x310038&&logger[_0x3783d1(0x92)](_0x3783d1(0x83)+_0x49e49b);}),fs[_0x3442e9(0x90)](_0xfbb398+'/'+_0x5a2a31,_0x129708[_0x3442e9(0x79)],function(_0x2b1aef){const _0x5807bd=_0x3442e9;_0x2b1aef&&_0x467fdb[_0x5807bd(0x6d)](_0x21f4af,_0x2b1aef),_0x467fdb['pcvRR'](_0x3942c6,_0xfbb398+'/'+_0x5a2a31);}),_0xc5e101[_0x3442e9(0xe4)]();});});});}static['getTestFrameworkDetail'](){const _0x1c35f0=a58_0x5cf4d3;if(process[_0x1c35f0(0xae)][_0x1c35f0(0x117)])return JSON[_0x1c35f0(0x72)](process['env'][_0x1c35f0(0x117)]);return this[_0x1c35f0(0x109)];}static[a58_0x5cf4d3(0xac)](){const _0x556060=a58_0x5cf4d3;if(process[_0x556060(0xae)][_0x556060(0xda)])return JSON[_0x556060(0x72)](process[_0x556060(0xae)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']);return this[_0x556060(0xe0)];}static[a58_0x5cf4d3(0xc4)](_0x2dd94c,_0x40534d){const _0x3033ff=a58_0x5cf4d3,_0x29d8f5={'GQfDy':_0x3033ff(0xd8),'gKGMH':function(_0x3d89ba,_0x13839c){return _0x3d89ba(_0x13839c);},'gbwdh':function(_0x40bee3,_0x444fcf){return _0x40bee3(_0x444fcf);},'AeDvG':function(_0x2ead59,_0x566af4){return _0x2ead59||_0x566af4;}},_0x35ccbe=_0x29d8f5[_0x3033ff(0x98)][_0x3033ff(0xea)]('|');let _0x50618d=0x0;while(!![]){switch(_0x35ccbe[_0x50618d++]){case'0':this[_0x3033ff(0x109)]={'name':_0x2dd94c,'version':{[_0x2dd94c]:_0x29d8f5[_0x3033ff(0x110)](getFrameworkVersion,_0x2dd94c)}};continue;case'1':this[_0x3033ff(0xe0)]={'name':_0x40534d,'version':_0x29d8f5['gbwdh'](getFrameworkVersion,_0x40534d)};continue;case'2':process[_0x3033ff(0xae)][_0x3033ff(0xda)]=JSON[_0x3033ff(0xc6)](this['automationFrameworkDetail']);continue;case'3':process[_0x3033ff(0xae)][_0x3033ff(0x117)]=JSON[_0x3033ff(0xc6)](this['testFrameworkDetail']);continue;case'4':_0x29d8f5[_0x3033ff(0xc8)](!_0x2dd94c,!_0x40534d)&&logger['debug']('Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework='+_0x2dd94c+_0x3033ff(0xb0)+_0x40534d);continue;}break;}}static['getHookRegistryKey'](_0x159e0e,_0x46a410){return _0x159e0e+':'+_0x46a410;}static[a58_0x5cf4d3(0x10f)](){const _0x2fc4a2=a58_0x5cf4d3;return process[_0x2fc4a2(0xf3)]+':'+threadId;}static[a58_0x5cf4d3(0x75)](_0x4971a0){const _0x451414=a58_0x5cf4d3;if(_0x4971a0['testContextOptions']&&_0x4971a0['testContextOptions'][_0x451414(0xcd)])return!![];return![];}static['shouldSkipSessionStatus'](_0x4c0da7){const _0x7869e5=a58_0x5cf4d3;if(_0x4c0da7[_0x7869e5(0xbc)]&&_0x4c0da7[_0x7869e5(0xbc)][_0x7869e5(0x86)])return!![];return![];}static[a58_0x5cf4d3(0x9a)](_0x3c2895){const _0x56db59=a58_0x5cf4d3,_0x24f43b=new RegExp(TestFrameworkConstants[_0x56db59(0xe3)]);return _0x24f43b[_0x56db59(0x88)](_0x3c2895);}}module[a58_0x5cf4d3(0x106)]=CLIUtils;