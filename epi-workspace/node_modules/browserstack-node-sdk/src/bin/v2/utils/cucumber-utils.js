const a90_0x5453af=a90_0x45e9;(function(_0x1b1eab,_0x141bd9){const _0x300888=a90_0x45e9,_0x26387f=_0x1b1eab();while(!![]){try{const _0x58d92c=-parseInt(_0x300888(0x142))/0x1+-parseInt(_0x300888(0x102))/0x2*(parseInt(_0x300888(0xe2))/0x3)+parseInt(_0x300888(0xe9))/0x4*(parseInt(_0x300888(0x127))/0x5)+-parseInt(_0x300888(0x14c))/0x6+-parseInt(_0x300888(0xe1))/0x7+parseInt(_0x300888(0xe8))/0x8*(parseInt(_0x300888(0xd9))/0x9)+parseInt(_0x300888(0xf9))/0xa;if(_0x58d92c===_0x141bd9)break;else _0x26387f['push'](_0x26387f['shift']());}catch(_0x48e339){_0x26387f['push'](_0x26387f['shift']());}}}(a90_0x5db1,0x463ef));const path=require('path'),util=require(a90_0x5453af(0x11b)),{getGitMetaData,isUndefined,nestedKeyValue}=require('../../../helpers/helper.js'),logger=require(a90_0x5453af(0x119))[a90_0x5453af(0x13d)],{o11yClassErrorHandler}=require(a90_0x5453af(0xc7)),TestInfo=require('../TestInfo.js'),hooksMap={};function a90_0x45e9(_0x1d60d3,_0x376dd1){const _0x5db172=a90_0x5db1();return a90_0x45e9=function(_0x45e9e4,_0x4699a0){_0x45e9e4=_0x45e9e4-0xbc;let _0x4e90bf=_0x5db172[_0x45e9e4];return _0x4e90bf;},a90_0x45e9(_0x1d60d3,_0x376dd1);}function a90_0x5db1(){const _0x585090=['getHookRunEventData','configureGit','getTestUUID','winstonLogger','imGCp','length','createHookData','match','60535AwUZHd','flatMap','find','failureType','cells','rule','BEFORE_EACH','timestamp','ZCNxv','getCucumberHookType','529344Ojmrub','rBrCj','strip-ansi','GnHWr','sendHook','ozzve','map','duration_in_ms','filter','toString','status','split','exception','../../../helpers/test-observability/error-handler.js','cucumber','passed','UwkUs','scenario','dvWMm','HookRunStarted','relative','LxJYt','KQlhE','Rtrqi','testCaseFinished','AssertionError','KKZLL','UpRNC','sVxvo','join','tags','251649tFgvlM','hook','AFTER_EACH','debug','skipped','HALFQ','toLowerCase','exports','1569890DUrIVM','1333533wzmgFQ','ZAPus','hooks','uri','nanos','oJcGR','56rNCYNg','4nJyCod','zMfUo','getHookResult','format','sXqGS','forEach','astNodeIds','failure_type','value','kZana','fauWM','hookId','dJdga','failure','finished_at','failureData','6728020QVLKue','fKGjb','pickleStepId','failed','MoAxa','bREqm','browserstack-node-agent/src/bin/cucumber-js/test.setup.js','sendTestRunEventForCucumber','UnhandledError','2vxWSXy','OoYQD','IftSQ','root','fOetq','ANxnq','pending','Jqzvb','cbjdQ','uIDix','tagExpression','testStepFinished','jtHyv','BrRZN','failure_data','Exception\x20in\x20getHookRunEventData:\x20','message','ulroH','javascript','SKIPPED','CnKnv','odDFH','FAILED','../../../helpers/logger.js','PbBEH','util','sourceReference','_gitConfigPath','failure_reason','name','RykPX','_gitConfigured','examples','testStepResult','tableBody','children','DLtvL','1183690hfnKNz','feature','getScenarioExamples','DNqif','PuDXh','backtrace','eYyNk','NxgHe','GUGew','includes','every','uuid','createTestFrameworkData','push','gBAxd','result','KPZjj','unknown','CZpBq'];a90_0x5db1=function(){return _0x585090;};return a90_0x5db1();}class CucumberUtils{constructor(){const _0xf03f44=a90_0x5453af;this[_0xf03f44(0x121)]=![],this[_0xf03f44(0x11d)]=null;}async['createTestFrameworkData'](_0x5994e4,_0x3e3fca,_0x2302ac,_0x85282b,_0x13f590,_0x2185a9){const _0x2cbaef=a90_0x5453af,_0x1b1c69={'sXqGS':function(_0x5e2c14,_0x3781de){return _0x5e2c14===_0x3781de;},'NxgHe':_0x2cbaef(0x118),'UwkUs':_0x2cbaef(0xfc),'mSwUJ':_0x2cbaef(0x115),'NSDEh':_0x2cbaef(0xdd),'RykPX':function(_0x184092,_0x3d13ee){return _0x184092||_0x3d13ee;},'ZAPus':function(_0x2de125,_0x29805c){return _0x2de125+_0x29805c;},'whfTr':function(_0x4a25ae,_0x4c1588){return _0x4a25ae+_0x4c1588;},'cbjdQ':'test','KPZjj':_0x2cbaef(0x114),'KKZLL':_0x2cbaef(0xc8),'JmwHR':'pending','PbBEH':_0x2cbaef(0xc9),'kZana':function(_0x472514,_0x67c69b){return _0x472514!==_0x67c69b;},'CZpBq':function(_0x13da00,_0x23fc94){return _0x13da00/_0x23fc94;},'gBAxd':function(_0x4fd4d6,_0x423e2b){return _0x4fd4d6===_0x423e2b;},'imGCp':_0x2cbaef(0xbc),'KQlhE':function(_0x19c025,_0x1b7a6b){return _0x19c025(_0x1b7a6b);},'dvWMm':_0x2cbaef(0x138),'ozzve':_0x2cbaef(0xd3),'CnKnv':_0x2cbaef(0x101)},{feature:_0x4fb71f,scenario:_0x51e35c,steps:_0x5a551f,uuid:_0x5acec8,startedAt:_0x4d5231,finishedAt:_0x7d6bde}=_0x1b1c69[_0x2cbaef(0x120)](_0x5994e4,{}),_0x19da61=this['getScenarioExamples'](_0x85282b,_0x3e3fca);await this[_0x2cbaef(0x13b)]();const _0x13cc6c=_0x19da61?_0x1b1c69['ZAPus'](_0x1b1c69[_0x2cbaef(0xe3)](_0x1b1c69['whfTr'](_0x3e3fca[_0x2cbaef(0x11f)],'\x20('),_0x19da61[_0x2cbaef(0xd7)](',\x20')),')'):_0x3e3fca[_0x2cbaef(0x11f)],_0x38cf97={'id':_0x13f590,'uuid':_0x13f590,'startedAt':_0x4d5231,'finishedAt':_0x7d6bde,'type':_0x1b1c69[_0x2cbaef(0x10a)],'body':{'lang':_0x1b1c69[_0x2cbaef(0x137)],'code':null},'name':_0x13cc6c,'scopes':[_0x4fb71f&&_0x4fb71f[_0x2cbaef(0x11f)]?_0x4fb71f['name']:''],'tags':_0x3e3fca['tags']?_0x3e3fca[_0x2cbaef(0xd8)]['map'](({name:_0x4d4a2b})=>_0x4d4a2b):[],'file_name':_0x3e3fca[_0x2cbaef(0xe5)],'location':_0x3e3fca[_0x2cbaef(0xe5)],'vc_filepath':this[_0x2cbaef(0x11d)]&&_0x3e3fca[_0x2cbaef(0xe5)]?path[_0x2cbaef(0xce)](this[_0x2cbaef(0x11d)],_0x3e3fca[_0x2cbaef(0xe5)]):null,'framework':_0x1b1c69[_0x2cbaef(0xd4)],'result':_0x1b1c69['JmwHR'],'meta':{'feature':_0x4fb71f,'scenario':_0x51e35c,'steps':_0x5a551f,'examples':_0x19da61},'customRerunParam':{'rerun_name':_0x13cc6c}};if(_0x2302ac[_0x2cbaef(0xd2)]&&_0x5a551f){const _0x4adc08=_0x2302ac[_0x2cbaef(0xd2)];let _0x571b83=_0x1b1c69[_0x2cbaef(0x11a)];_0x5a551f[_0x2cbaef(0x131)](_0xc40667=>{const _0x53dc3a=_0x2cbaef;if(_0x1b1c69[_0x53dc3a(0xed)](_0xc40667[_0x53dc3a(0x136)],_0x1b1c69[_0x53dc3a(0x12e)]))return _0x571b83=_0x1b1c69['UwkUs'],_0x4adc08[_0x53dc3a(0xf6)]=_0xc40667[_0x53dc3a(0xf6)],_0x4adc08[_0x53dc3a(0x145)]=_0xc40667[_0x53dc3a(0x145)],![];else{if(_0x1b1c69[_0x53dc3a(0xed)](_0xc40667[_0x53dc3a(0x136)],_0x1b1c69['mSwUJ']))return _0x571b83=_0x1b1c69['NSDEh'],![];}return!![];}),_0x38cf97['finishedAt']=new Date()['toISOString'](),_0x38cf97['result']=_0x571b83;_0x4adc08[_0x2cbaef(0x149)]&&_0x1b1c69[_0x2cbaef(0xf2)](_0x4adc08[_0x2cbaef(0x149)][_0x2cbaef(0xe6)],undefined)?_0x38cf97[_0x2cbaef(0xc1)]=_0x1b1c69[_0x2cbaef(0x139)](_0x4adc08[_0x2cbaef(0x149)][_0x2cbaef(0xe6)],0xf4240):_0x38cf97[_0x2cbaef(0xc1)]=undefined;if(_0x1b1c69[_0x2cbaef(0x135)](_0x571b83,_0x1b1c69[_0x2cbaef(0xca)])){const {default:_0x2da902}=await import(_0x1b1c69[_0x2cbaef(0x13e)]);_0x38cf97[_0x2cbaef(0xf6)]=[{'backtrace':[_0x4adc08[_0x2cbaef(0xf6)]?_0x1b1c69[_0x2cbaef(0xd0)](_0x2da902,_0x4adc08[_0x2cbaef(0xf6)]):_0x1b1c69[_0x2cbaef(0xcc)]]}],_0x38cf97[_0x2cbaef(0x11e)]=_0x4adc08[_0x2cbaef(0xf6)]?_0x1b1c69[_0x2cbaef(0xd0)](_0x2da902,_0x4adc08['failure']):_0x4adc08[_0x2cbaef(0x112)],_0x4adc08[_0x2cbaef(0x145)]&&(_0x38cf97[_0x2cbaef(0xf0)]=_0x4adc08[_0x2cbaef(0x145)]['match'](/AssertError/)?_0x1b1c69[_0x2cbaef(0xbf)]:_0x1b1c69[_0x2cbaef(0x116)]);}}return _0x38cf97;}[a90_0x5453af(0x13a)](_0x3d7ec4,_0x4abd5a,_0x10b8c3,_0x178f62,_0x234d29,_0x7cc0a1){const _0x3c2929=a90_0x5453af,_0xc99238={'rBrCj':function(_0x19fd88,_0x1970e8){return _0x19fd88===_0x1970e8;},'sVxvo':'HookRunFinished','UpRNC':function(_0x2934c7,_0x3c29b1,_0x2c06b5){return _0x2934c7(_0x3c29b1,_0x2c06b5);},'eYyNk':'sourceReference','HALFQ':'uri','MoAxa':_0x3c2929(0x108),'DLtvL':_0x3c2929(0xda),'bREqm':_0x3c2929(0x114),'BrRZN':_0x3c2929(0x128),'fKGjb':_0x3c2929(0x11f),'IftSQ':_0x3c2929(0xc8)};try{if(_0xc99238[_0x3c2929(0x14d)](_0x10b8c3,_0xc99238[_0x3c2929(0xd6)])){const _0xda3251=new Date()['toISOString'](),_0x4f7395=hooksMap[_0x4abd5a];if(!_0x4f7395)return;const _0x3671b5=_0x4f7395[_0x3c2929(0x144)](_0x132d94=>_0x132d94[_0x3c2929(0x132)]===_0x178f62['id']);if(!_0x3671b5)return;const _0x2dc760=this['getHookResult'](_0x3d7ec4,_0x4abd5a);_0x3671b5[_0x3c2929(0x136)]=_0x2dc760[_0x3c2929(0xc4)],_0x3671b5[_0x3c2929(0xf7)]=_0xda3251,_0x3671b5[_0x3c2929(0xf0)]=_0x2dc760[_0x3c2929(0x145)];const _0x1c674d={};return _0x1c674d[_0x3c2929(0x12c)]=_0x2dc760[_0x3c2929(0xf8)],_0x3671b5[_0x3c2929(0x110)]=[_0x1c674d],_0x3671b5;}const _0x44b3b7=TestInfo[_0x3c2929(0x13c)](_0x4abd5a),_0x168e23=_0x3d7ec4[_0x3c2929(0xe4)][_0x3c2929(0x144)](_0x55443e=>_0x55443e['id']===_0x178f62[_0x3c2929(0xf4)]),_0x46aa3a=_0xc99238[_0x3c2929(0xd5)](nestedKeyValue,_0x168e23,[_0xc99238[_0x3c2929(0x12d)],_0xc99238[_0x3c2929(0xde)]]),_0x3c9fc4=new Date()['toISOString'](),_0x3a6e19=_0xc99238[_0x3c2929(0xfd)],_0x4d9740=_0x168e23[_0x3c2929(0x10c)]?_0x168e23[_0x3c2929(0x10c)][_0x3c2929(0xc5)]('\x20')[_0x3c2929(0xc2)](_0x3b57fa=>_0x3b57fa[_0x3c2929(0x130)]('@')):[],_0x216e1b={'uuid':_0x178f62['id'],'type':_0xc99238[_0x3c2929(0x126)],'hook_type':_0x7cc0a1,'name':_0x168e23[_0x3c2929(0x11f)],'body':{'lang':_0xc99238[_0x3c2929(0xfe)],'code':null},'tags':_0x4d9740,'test_run_id':_0x44b3b7,'scope':_0xc99238[_0x3c2929(0xd5)](nestedKeyValue,_0x234d29,[_0xc99238[_0x3c2929(0x10f)],_0xc99238[_0x3c2929(0xfa)]]),'scopes':[_0xc99238[_0x3c2929(0xd5)](nestedKeyValue,_0x234d29,[_0xc99238[_0x3c2929(0x10f)],_0xc99238[_0x3c2929(0xfa)]])||''],'file_name':_0x46aa3a,'location':_0x46aa3a,'vc_filepath':this[_0x3c2929(0x11d)]?path[_0x3c2929(0xce)](this['_gitConfigPath'],_0x46aa3a):null,'result':_0x3a6e19,'started_at':_0x3c9fc4,'framework':_0xc99238[_0x3c2929(0x104)]};return _0x216e1b;}catch(_0xc746cd){logger[_0x3c2929(0xdc)](_0x3c2929(0x111)+util[_0x3c2929(0xec)](_0xc746cd)+'\x20');}}async[a90_0x5453af(0x140)](_0x5e7ec8,_0x427131,_0x320805,_0x3c0199,_0x3f908a,_0x4d401d){const _0x16f7a2=a90_0x5453af,_0x302127={'uIDix':function(_0x9b3ca3,_0x5eb3f4){return _0x9b3ca3===_0x5eb3f4;},'odDFH':_0x16f7a2(0xcd),'vpadh':function(_0x462c6d,_0x4b91d9,_0x14ef58){return _0x462c6d(_0x4b91d9,_0x14ef58);},'jtHyv':_0x16f7a2(0x11c),'Rtrqi':_0x16f7a2(0xe5),'fOetq':_0x16f7a2(0xff),'PuDXh':'bstack'};try{const _0x16724c=_0x3c0199[_0x16f7a2(0x144)](_0x3b1e6d=>_0x3b1e6d['id']===_0x3f908a);if(!_0x16724c[_0x16f7a2(0xf4)])return;const _0x2514f3=this[_0x16f7a2(0x14b)](_0x3c0199,_0x16724c),_0x24b4b0=this['getHookRunEventData'](_0x5e7ec8,_0x427131,_0x320805,_0x16724c,_0x4d401d,_0x2514f3);if(!_0x24b4b0)return;_0x302127['uIDix'](_0x320805,_0x302127[_0x16f7a2(0x117)])&&(hooksMap[_0x427131]?hooksMap[_0x427131][_0x16f7a2(0x134)](_0x24b4b0):hooksMap[_0x427131]=[_0x24b4b0]);const _0x26fc0c=_0x5e7ec8[_0x16f7a2(0xe4)][_0x16f7a2(0x144)](_0x3f6b91=>_0x3f6b91['id']===_0x16724c[_0x16f7a2(0xf4)]),_0x4587e4=_0x302127['vpadh'](nestedKeyValue,_0x26fc0c,[_0x302127[_0x16f7a2(0x10e)],_0x302127[_0x16f7a2(0xd1)]]);if(!_0x4587e4)return;else{if(_0x4587e4[_0x16f7a2(0x130)](_0x302127[_0x16f7a2(0x106)]))return;}if(_0x302127[_0x16f7a2(0x10b)](_0x24b4b0['name'],_0x302127[_0x16f7a2(0x12b)]))return;return _0x24b4b0;}catch(_0x41789f){logger[_0x16f7a2(0xdc)]('Exception\x20in\x20createHookData:\x20'+util['format'](_0x41789f)+'\x20');}}[a90_0x5453af(0xeb)](_0x3f7694,_0x49d058){const _0x31e6d0=a90_0x5453af,_0x4b73ff={};_0x4b73ff['ANxnq']=function(_0x3675ad,_0x3c43b5){return _0x3675ad===_0x3c43b5;},_0x4b73ff[_0x31e6d0(0xcf)]=_0x31e6d0(0xfc),_0x4b73ff[_0x31e6d0(0xbd)]=function(_0x134731,_0x51050d){return _0x134731===_0x51050d;},_0x4b73ff[_0x31e6d0(0xea)]=function(_0x298366,_0xbe900){return _0x298366===_0xbe900;},_0x4b73ff[_0x31e6d0(0xf5)]=_0x31e6d0(0x101),_0x4b73ff[_0x31e6d0(0x109)]=_0x31e6d0(0xd3),_0x4b73ff[_0x31e6d0(0xe7)]=function(_0x4e249e,_0x250567){return _0x4e249e||_0x250567;};const _0x2a0231=_0x4b73ff,_0x1325d6=_0x3f7694[_0x31e6d0(0x10d)][_0x49d058][_0x31e6d0(0x123)];let _0x1f2d6,_0x2f84ba;return _0x1325d6&&_0x2a0231[_0x31e6d0(0x107)](_0x1325d6[_0x31e6d0(0xc4)][_0x31e6d0(0xc3)]()[_0x31e6d0(0xdf)](),_0x2a0231[_0x31e6d0(0xcf)])&&(_0x1f2d6=_0x2a0231['GnHWr'](_0x1325d6['exception'],undefined)?_0x1325d6[_0x31e6d0(0x112)]:_0x1325d6[_0x31e6d0(0xc6)][_0x31e6d0(0x112)],_0x2f84ba=_0x2a0231[_0x31e6d0(0xea)](_0x1325d6[_0x31e6d0(0xc6)],undefined)?_0x2a0231[_0x31e6d0(0xf5)]:_0x1325d6[_0x31e6d0(0x112)][_0x31e6d0(0x141)](/Assert/)?_0x2a0231[_0x31e6d0(0x109)]:_0x2a0231[_0x31e6d0(0xf5)]),{'status':_0x1325d6[_0x31e6d0(0xc4)][_0x31e6d0(0xdf)](),'failureType':_0x2a0231[_0x31e6d0(0xe7)](_0x2f84ba,null),'failureData':!_0x1f2d6?null:[_0x1f2d6]};}['getCucumberHookType'](_0x233130,_0x3888df){const _0x38c0bf=a90_0x5453af,_0x17717f={};_0x17717f[_0x38c0bf(0x103)]=function(_0x3a683b,_0x2b301d){return _0x3a683b===_0x2b301d;},_0x17717f['ZCNxv']=_0x38c0bf(0xdb),_0x17717f[_0x38c0bf(0x12a)]=_0x38c0bf(0x148);const _0x59368c=_0x17717f;let _0x3ad04f=![];for(const _0x316318 of _0x233130){_0x316318[_0x38c0bf(0xfb)]&&(_0x3ad04f=!![]);if(_0x59368c['OoYQD'](_0x3888df['id'],_0x316318['id']))return _0x3ad04f?_0x59368c[_0x38c0bf(0x14a)]:_0x59368c[_0x38c0bf(0x12a)];}}[a90_0x5453af(0x129)]=(_0x167801,_0x1450bd)=>{const _0x295e9a=a90_0x5453af,_0x173066={};_0x173066[_0x295e9a(0xf3)]=function(_0x1e9504,_0x23278e){return _0x1e9504===_0x23278e;},_0x173066[_0x295e9a(0x12f)]=function(_0x261698,_0x13e527){return _0x261698>_0x13e527;};const _0x567225=_0x173066;if(!(_0x1450bd[_0x295e9a(0xef)]&&_0x567225[_0x295e9a(0x12f)](_0x1450bd['astNodeIds'][_0x295e9a(0x13f)],0x1)))return;const _0x4c913e=_0x1450bd['astNodeIds'][0x0],_0x58c67f=_0x1450bd[_0x295e9a(0xef)][0x1],_0x23b097=_0x167801[_0x295e9a(0x128)]&&_0x167801[_0x295e9a(0x128)][_0x295e9a(0x125)]?_0x167801['feature']['children']:undefined;let _0x3567a1=[];_0x23b097&&_0x23b097[_0x295e9a(0xee)](_0x429462=>{const _0x5c3582=_0x295e9a;if(_0x429462[_0x5c3582(0x147)])_0x429462['rule'][_0x5c3582(0x125)][_0x5c3582(0xee)](_0x5f0998=>{const _0x59f80e=_0x5c3582;if(_0x5f0998[_0x59f80e(0xcb)]&&_0x567225[_0x59f80e(0xf3)](_0x5f0998[_0x59f80e(0xcb)]['id'],_0x4c913e)&&_0x5f0998['scenario'][_0x59f80e(0x122)]){const _0x43ab55=_0x5f0998['scenario'][_0x59f80e(0x122)]['flatMap'](_0x2b534a=>_0x2b534a[_0x59f80e(0x124)])['find'](_0x28b8c4=>_0x28b8c4['id']===_0x58c67f);let _0x4ac861;_0x43ab55&&_0x43ab55[_0x59f80e(0x146)]?_0x4ac861=_0x43ab55['cells']['map'](_0x39c531=>_0x39c531['value']):_0x4ac861=[],_0x4ac861&&(_0x3567a1=_0x4ac861);}});else{if(_0x429462['scenario']&&_0x567225[_0x5c3582(0xf3)](_0x429462[_0x5c3582(0xcb)]['id'],_0x4c913e)&&_0x429462['scenario']['examples']){const _0x5c4fda=_0x429462['scenario'][_0x5c3582(0x122)][_0x5c3582(0x143)](_0x5aa06d=>_0x5aa06d[_0x5c3582(0x124)])['find'](_0x19c1a0=>_0x19c1a0['id']===_0x58c67f);let _0x2db05a;_0x5c4fda&&_0x5c4fda['cells']?_0x2db05a=_0x5c4fda[_0x5c3582(0x146)][_0x5c3582(0xc0)](_0x3940b0=>_0x3940b0[_0x5c3582(0xf1)]):_0x2db05a=[],_0x2db05a&&(_0x3567a1=_0x2db05a);}}});if(_0x3567a1['length'])return _0x3567a1;return;};async[a90_0x5453af(0x13b)](){const _0x597aab=a90_0x5453af,_0x32e03c={'ulroH':function(_0x21c71d){return _0x21c71d();}};if(this[_0x597aab(0x121)])return this[_0x597aab(0x11d)];const _0x273617=await _0x32e03c[_0x597aab(0x113)](getGitMetaData);_0x273617&&(this[_0x597aab(0x11d)]=_0x273617[_0x597aab(0x105)]),this[_0x597aab(0x121)]=!![];}}module[a90_0x5453af(0xe0)]=o11yClassErrorHandler(CucumberUtils,[a90_0x5453af(0x13b),a90_0x5453af(0x129),a90_0x5453af(0x14b),'getHookResult',a90_0x5453af(0xbe),'getHookRunEventData',a90_0x5453af(0x100),a90_0x5453af(0x133)]);