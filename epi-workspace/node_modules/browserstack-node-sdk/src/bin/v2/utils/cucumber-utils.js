const a90_0xd47b3d=a90_0x1174;(function(_0x243943,_0x4bde35){const _0x35d4a8=a90_0x1174,_0x493703=_0x243943();while(!![]){try{const _0x4e4af0=parseInt(_0x35d4a8(0xc9))/0x1+-parseInt(_0x35d4a8(0xf8))/0x2+-parseInt(_0x35d4a8(0xf9))/0x3+parseInt(_0x35d4a8(0xd9))/0x4+parseInt(_0x35d4a8(0x123))/0x5+-parseInt(_0x35d4a8(0x12e))/0x6*(parseInt(_0x35d4a8(0x142))/0x7)+parseInt(_0x35d4a8(0xdb))/0x8*(-parseInt(_0x35d4a8(0x113))/0x9);if(_0x4e4af0===_0x4bde35)break;else _0x493703['push'](_0x493703['shift']());}catch(_0x4ac57d){_0x493703['push'](_0x493703['shift']());}}}(a90_0x237d,0xea206));function a90_0x237d(){const _0x9925a6=['failure','uhWAq','find','tagExpression','135esOCRm','uuid','Exception\x20in\x20getHookRunEventData:\x20','getHookResult','WYcqa','timestamp','GhevU','createTestFrameworkData','finishedAt','iOdJD','vNsmo','rule','failure_type','format','ZNued','FAILED','8352180HFJSbG','../../../helpers/helper.js','examples','AFTER_EACH','_gitConfigured','ZRBJp','mjYnC','failure_reason','sendTestRunEventForCucumber','testStepResult','scenario','17328abxFgn','LhPXe','PGHEH','ykBIs','name','SKIPPED','AssertionError','bstack','HookRunStarted','backtrace','duration_in_ms','hooks','iDfyy','flatMap','toLowerCase','cucumber','javascript','Ybeyd','aoIFG','Zfotn','105drBXVM','_gitConfigPath','configureGit','split','getHookRunEventData','Ckrsw','HTgOY','Exception\x20in\x20createHookData:\x20','winstonLogger','EqaQI','getCucumberHookType','omKLb','hookId','getScenarioExamples','421308GldEYv','HookRunFinished','hbsqR','util','join','tzViV','HAVDM','match','txgIU','result','YBXDp','includes','toISOString','cells','testStepFinished','debug','7559344YeoDba','failureType','1122424SPHIkq','filter','finished_at','map','pickleStepId','UnhandledError','relative','bJUVS','pcQHy','../TestInfo.js','UisJy','NCuVl','failed','uri','browserstack-node-agent/src/bin/cucumber-js/test.setup.js','message','zgKVg','qysvH','strip-ansi','nyqAy','pAMlS','../../../helpers/logger.js','passed','kLLUH','iZDHi','forEach','gyLYz','hESqt','sniKI','472536hgXoGj','1915395LXHFHi','status','pending','testCaseFinished','BEFORE_EACH','nanos','unknown','KWUBK','path','hMImW','fRHkg','value','astNodeIds','tags','children','exception','push','getTestUUID','sourceReference','hook','feature','fNNQG'];a90_0x237d=function(){return _0x9925a6;};return a90_0x237d();}const path=require(a90_0xd47b3d(0x101)),util=require(a90_0xd47b3d(0xcc)),{getGitMetaData,isUndefined,nestedKeyValue}=require(a90_0xd47b3d(0x124)),logger=require(a90_0xd47b3d(0xf0))[a90_0xd47b3d(0xc3)],{o11yClassErrorHandler}=require('../../../helpers/test-observability/error-handler.js'),TestInfo=require(a90_0xd47b3d(0xe4)),hooksMap={};class CucumberUtils{constructor(){const _0x296172=a90_0xd47b3d;this[_0x296172(0x127)]=![],this['_gitConfigPath']=null;}async[a90_0xd47b3d(0x11a)](_0x177a4c,_0x5ebcb3,_0x24df21,_0x37600d,_0x342a16,_0xd85e54){const _0x58b831=a90_0xd47b3d,_0x3466d4={'uhWAq':function(_0x1ad06f,_0x1112b4){return _0x1ad06f===_0x1112b4;},'WYcqa':_0x58b831(0x122),'LhPXe':_0x58b831(0xe7),'WNOzK':function(_0x1e471d,_0x5dc1a2){return _0x1e471d===_0x5dc1a2;},'eTSHR':_0x58b831(0x133),'uOcQV':'skipped','UisJy':function(_0x4e2580,_0x3a32c0){return _0x4e2580||_0x3a32c0;},'ZNued':function(_0x4d2eb2,_0x3b2bf8){return _0x4d2eb2+_0x3b2bf8;},'gyLYz':function(_0x33839f,_0x5a69bc){return _0x33839f+_0x5a69bc;},'HTgOY':function(_0x435449,_0x560384){return _0x435449+_0x560384;},'GhevU':'test','qysvH':_0x58b831(0x13e),'YUiQy':_0x58b831(0x13d),'nyqAy':_0x58b831(0xfb),'PGHEH':_0x58b831(0xf1),'Ckrsw':function(_0x7de167,_0x29a741){return _0x7de167!==_0x29a741;},'wrWLN':function(_0x31a363,_0x593aae){return _0x31a363/_0x593aae;},'pAMlS':_0x58b831(0xed),'Ybeyd':function(_0x63b06,_0x5af019){return _0x63b06(_0x5af019);},'mjYnC':_0x58b831(0xff),'Zfotn':function(_0x28f783,_0x48a0a4){return _0x28f783(_0x48a0a4);},'ElVLm':_0x58b831(0x134),'EqaQI':'UnhandledError'},{feature:_0x1f2505,scenario:_0x5f4f55,steps:_0x5334bd,uuid:_0x3ed46d,startedAt:_0x443094,finishedAt:_0x1e5a1b}=_0x3466d4[_0x58b831(0xe5)](_0x177a4c,{}),_0x5d4382=this[_0x58b831(0xc8)](_0x37600d,_0x5ebcb3);await this[_0x58b831(0xbd)]();const _0x2283f6=_0x5d4382?_0x3466d4[_0x58b831(0x121)](_0x3466d4[_0x58b831(0xf5)](_0x3466d4[_0x58b831(0xc1)](_0x5ebcb3[_0x58b831(0x132)],'\x20('),_0x5d4382[_0x58b831(0xcd)](',\x20')),')'):_0x5ebcb3['name'],_0x45c21c={'id':_0x342a16,'uuid':_0x342a16,'startedAt':_0x443094,'finishedAt':_0x1e5a1b,'type':_0x3466d4[_0x58b831(0x119)],'body':{'lang':_0x3466d4[_0x58b831(0xec)],'code':null},'name':_0x2283f6,'scopes':[_0x1f2505&&_0x1f2505['name']?_0x1f2505[_0x58b831(0x132)]:''],'tags':_0x5ebcb3[_0x58b831(0x106)]?_0x5ebcb3[_0x58b831(0x106)]['map'](({name:_0x36fb87})=>_0x36fb87):[],'file_name':_0x5ebcb3[_0x58b831(0xe8)],'location':_0x5ebcb3[_0x58b831(0xe8)],'vc_filepath':this[_0x58b831(0x143)]&&_0x5ebcb3[_0x58b831(0xe8)]?path['relative'](this[_0x58b831(0x143)],_0x5ebcb3[_0x58b831(0xe8)]):null,'framework':_0x3466d4['YUiQy'],'result':_0x3466d4[_0x58b831(0xee)],'meta':{'feature':_0x1f2505,'scenario':_0x5f4f55,'steps':_0x5334bd,'examples':_0x5d4382},'customRerunParam':{'rerun_name':_0x2283f6}};if(_0x24df21[_0x58b831(0xfc)]&&_0x5334bd){const _0x66a937=_0x24df21[_0x58b831(0xfc)];let _0x28d418=_0x3466d4[_0x58b831(0x130)];_0x5334bd['every'](_0x2b4343=>{const _0x422660=_0x58b831;if(_0x3466d4[_0x422660(0x110)](_0x2b4343['result'],_0x3466d4[_0x422660(0x117)]))return _0x28d418=_0x3466d4[_0x422660(0x12f)],_0x66a937[_0x422660(0x10f)]=_0x2b4343[_0x422660(0x10f)],_0x66a937['failureType']=_0x2b4343[_0x422660(0xda)],![];else{if(_0x3466d4['WNOzK'](_0x2b4343[_0x422660(0xd2)],_0x3466d4['eTSHR']))return _0x28d418=_0x3466d4['uOcQV'],![];}return!![];}),_0x45c21c[_0x58b831(0x11b)]=new Date()[_0x58b831(0xd5)](),_0x45c21c[_0x58b831(0xd2)]=_0x28d418;_0x66a937[_0x58b831(0x118)]&&_0x3466d4[_0x58b831(0xc0)](_0x66a937['timestamp'][_0x58b831(0xfe)],undefined)?_0x45c21c[_0x58b831(0x138)]=_0x3466d4['wrWLN'](_0x66a937[_0x58b831(0x118)][_0x58b831(0xfe)],0xf4240):_0x45c21c[_0x58b831(0x138)]=undefined;if(_0x3466d4['uhWAq'](_0x28d418,_0x3466d4[_0x58b831(0x12f)])){const {default:_0xf92712}=await import(_0x3466d4[_0x58b831(0xef)]);_0x45c21c[_0x58b831(0x10f)]=[{'backtrace':[_0x66a937[_0x58b831(0x10f)]?_0x3466d4[_0x58b831(0x13f)](_0xf92712,_0x66a937[_0x58b831(0x10f)]):_0x3466d4[_0x58b831(0x129)]]}],_0x45c21c[_0x58b831(0x12a)]=_0x66a937['failure']?_0x3466d4[_0x58b831(0x141)](_0xf92712,_0x66a937[_0x58b831(0x10f)]):_0x66a937['message'],_0x66a937[_0x58b831(0xda)]&&(_0x45c21c['failure_type']=_0x66a937[_0x58b831(0xda)][_0x58b831(0xd0)](/AssertError/)?_0x3466d4['ElVLm']:_0x3466d4[_0x58b831(0xc4)]);}}return _0x45c21c;}[a90_0xd47b3d(0xbf)](_0x2665dd,_0x165b7d,_0x31d148,_0x42da17,_0x4c76b6,_0x52e5a9){const _0x7667e6=a90_0xd47b3d,_0x5cc862={'ykBIs':function(_0x31f917,_0x20724e){return _0x31f917===_0x20724e;},'DKioY':_0x7667e6(0xca),'iZDHi':function(_0x4c30e3,_0x55121f,_0x2b981b){return _0x4c30e3(_0x55121f,_0x2b981b);},'VFoqE':_0x7667e6(0x10b),'fNNQG':_0x7667e6(0xe8),'vNsmo':_0x7667e6(0xfb),'hMImW':_0x7667e6(0x10c),'iOdJD':_0x7667e6(0x13e),'NCuVl':_0x7667e6(0x10d),'hESqt':_0x7667e6(0x132),'NuzFu':_0x7667e6(0x13d)};try{if(_0x5cc862[_0x7667e6(0x131)](_0x31d148,_0x5cc862['DKioY'])){const _0x522c9e=new Date()[_0x7667e6(0xd5)](),_0x1bcaeb=hooksMap[_0x165b7d];if(!_0x1bcaeb)return;const _0x527170=_0x1bcaeb[_0x7667e6(0x111)](_0x450cdd=>_0x450cdd[_0x7667e6(0x114)]===_0x42da17['id']);if(!_0x527170)return;const _0x3e283d=this[_0x7667e6(0x116)](_0x2665dd,_0x165b7d);_0x527170[_0x7667e6(0xd2)]=_0x3e283d[_0x7667e6(0xfa)],_0x527170[_0x7667e6(0xdd)]=_0x522c9e,_0x527170[_0x7667e6(0x11f)]=_0x3e283d['failureType'];const _0x49a1cc={};return _0x49a1cc[_0x7667e6(0x137)]=_0x3e283d['failureData'],_0x527170['failure_data']=[_0x49a1cc],_0x527170;}const _0x2aaa0f=TestInfo[_0x7667e6(0x10a)](_0x165b7d),_0x142d24=_0x2665dd[_0x7667e6(0x139)]['find'](_0xd29607=>_0xd29607['id']===_0x42da17[_0x7667e6(0xc7)]),_0x8d7543=_0x5cc862[_0x7667e6(0xf3)](nestedKeyValue,_0x142d24,[_0x5cc862['VFoqE'],_0x5cc862[_0x7667e6(0x10e)]]),_0x338229=new Date()[_0x7667e6(0xd5)](),_0x477e7f=_0x5cc862[_0x7667e6(0x11d)],_0x1be251=_0x142d24[_0x7667e6(0x112)]?_0x142d24[_0x7667e6(0x112)][_0x7667e6(0xbe)]('\x20')[_0x7667e6(0xdc)](_0x3431d6=>_0x3431d6[_0x7667e6(0xd4)]('@')):[],_0x4e2250={'uuid':_0x42da17['id'],'type':_0x5cc862[_0x7667e6(0x102)],'hook_type':_0x52e5a9,'name':_0x142d24[_0x7667e6(0x132)],'body':{'lang':_0x5cc862[_0x7667e6(0x11c)],'code':null},'tags':_0x1be251,'test_run_id':_0x2aaa0f,'scope':_0x5cc862[_0x7667e6(0xf3)](nestedKeyValue,_0x4c76b6,[_0x5cc862[_0x7667e6(0xe6)],_0x5cc862[_0x7667e6(0xf6)]]),'scopes':[_0x5cc862[_0x7667e6(0xf3)](nestedKeyValue,_0x4c76b6,[_0x5cc862[_0x7667e6(0xe6)],_0x5cc862[_0x7667e6(0xf6)]])||''],'file_name':_0x8d7543,'location':_0x8d7543,'vc_filepath':this[_0x7667e6(0x143)]?path[_0x7667e6(0xe1)](this['_gitConfigPath'],_0x8d7543):null,'result':_0x477e7f,'started_at':_0x338229,'framework':_0x5cc862['NuzFu']};return _0x4e2250;}catch(_0x1605a6){logger[_0x7667e6(0xd8)](_0x7667e6(0x115)+util['format'](_0x1605a6)+'\x20');}}async['createHookData'](_0x170a4b,_0x3f4018,_0x39d8ca,_0x17515d,_0x2d944e,_0x2b924d){const _0x5a000f=a90_0xd47b3d,_0x3e16da={'fRHkg':function(_0x280fc5,_0x47a0ba){return _0x280fc5===_0x47a0ba;},'iDfyy':_0x5a000f(0x136),'omKLb':function(_0x38ebf0,_0x3937e0,_0x2f8962){return _0x38ebf0(_0x3937e0,_0x2f8962);},'AXfOo':_0x5a000f(0x10b),'YBXDp':'uri','kLLUH':_0x5a000f(0xe9),'sniKI':_0x5a000f(0x135)};try{const _0x24bb76=_0x17515d[_0x5a000f(0x111)](_0xa3f826=>_0xa3f826['id']===_0x2d944e);if(!_0x24bb76[_0x5a000f(0xc7)])return;const _0x58f3fb=this['getCucumberHookType'](_0x17515d,_0x24bb76),_0x2d9414=this[_0x5a000f(0xbf)](_0x170a4b,_0x3f4018,_0x39d8ca,_0x24bb76,_0x2b924d,_0x58f3fb);if(!_0x2d9414)return;_0x3e16da[_0x5a000f(0x103)](_0x39d8ca,_0x3e16da[_0x5a000f(0x13a)])&&(hooksMap[_0x3f4018]?hooksMap[_0x3f4018][_0x5a000f(0x109)](_0x2d9414):hooksMap[_0x3f4018]=[_0x2d9414]);const _0x1fdc85=_0x170a4b[_0x5a000f(0x139)][_0x5a000f(0x111)](_0x32de64=>_0x32de64['id']===_0x24bb76[_0x5a000f(0xc7)]),_0x3f8e84=_0x3e16da[_0x5a000f(0xc6)](nestedKeyValue,_0x1fdc85,[_0x3e16da['AXfOo'],_0x3e16da[_0x5a000f(0xd3)]]);if(!_0x3f8e84)return;else{if(_0x3f8e84[_0x5a000f(0xd4)](_0x3e16da[_0x5a000f(0xf2)]))return;}if(_0x3e16da[_0x5a000f(0x103)](_0x2d9414['name'],_0x3e16da[_0x5a000f(0xf7)]))return;return _0x2d9414;}catch(_0x5be886){logger[_0x5a000f(0xd8)](_0x5a000f(0xc2)+util[_0x5a000f(0x120)](_0x5be886)+'\x20');}}['getHookResult'](_0x1ce50b,_0x42be4b){const _0x15062b=a90_0xd47b3d,_0x5980c9={};_0x5980c9[_0x15062b(0x140)]=function(_0x16721e,_0x1e1979){return _0x16721e===_0x1e1979;},_0x5980c9[_0x15062b(0xe2)]=_0x15062b(0xe7),_0x5980c9['pcQHy']=function(_0x3b3707,_0x207180){return _0x3b3707===_0x207180;},_0x5980c9['hbsqR']=_0x15062b(0xe0),_0x5980c9['HAVDM']=_0x15062b(0x134),_0x5980c9[_0x15062b(0x128)]=function(_0x2d4efa,_0x52e360){return _0x2d4efa||_0x52e360;};const _0x3afe42=_0x5980c9,_0x2d33f3=_0x1ce50b[_0x15062b(0xd7)][_0x42be4b][_0x15062b(0x12c)];let _0x2f5922,_0x481583;return _0x2d33f3&&_0x3afe42['aoIFG'](_0x2d33f3[_0x15062b(0xfa)]['toString']()[_0x15062b(0x13c)](),_0x3afe42[_0x15062b(0xe2)])&&(_0x2f5922=_0x3afe42[_0x15062b(0x140)](_0x2d33f3['exception'],undefined)?_0x2d33f3[_0x15062b(0xea)]:_0x2d33f3[_0x15062b(0x108)][_0x15062b(0xea)],_0x481583=_0x3afe42[_0x15062b(0xe3)](_0x2d33f3[_0x15062b(0x108)],undefined)?_0x3afe42[_0x15062b(0xcb)]:_0x2d33f3[_0x15062b(0xea)][_0x15062b(0xd0)](/Assert/)?_0x3afe42[_0x15062b(0xcf)]:_0x3afe42['hbsqR']),{'status':_0x2d33f3[_0x15062b(0xfa)]['toLowerCase'](),'failureType':_0x3afe42['ZRBJp'](_0x481583,null),'failureData':!_0x2f5922?null:[_0x2f5922]};}[a90_0xd47b3d(0xc5)](_0x450ad5,_0x95268e){const _0x468084=a90_0xd47b3d,_0x5bfbb4={};_0x5bfbb4['kAyJn']=function(_0x943b4,_0x22591b){return _0x943b4===_0x22591b;},_0x5bfbb4[_0x468084(0x100)]=_0x468084(0x126),_0x5bfbb4[_0x468084(0xeb)]=_0x468084(0xfd);const _0x488cf8=_0x5bfbb4;let _0x433d55=![];for(const _0x4183ce of _0x450ad5){_0x4183ce[_0x468084(0xdf)]&&(_0x433d55=!![]);if(_0x488cf8['kAyJn'](_0x95268e['id'],_0x4183ce['id']))return _0x433d55?_0x488cf8['KWUBK']:_0x488cf8['zgKVg'];}}[a90_0xd47b3d(0xc8)]=(_0x61ca9,_0x38be9d)=>{const _0x576de7=a90_0xd47b3d,_0x5a2952={};_0x5a2952[_0x576de7(0xce)]=function(_0x50ff0f,_0x653a6c){return _0x50ff0f===_0x653a6c;},_0x5a2952[_0x576de7(0xd1)]=function(_0x5481bd,_0x3b077d){return _0x5481bd>_0x3b077d;};const _0x1c1871=_0x5a2952;if(!(_0x38be9d[_0x576de7(0x105)]&&_0x1c1871['txgIU'](_0x38be9d['astNodeIds']['length'],0x1)))return;const _0x45a59d=_0x38be9d[_0x576de7(0x105)][0x0],_0x533dd2=_0x38be9d[_0x576de7(0x105)][0x1],_0x14b94f=_0x61ca9[_0x576de7(0x10d)]&&_0x61ca9['feature'][_0x576de7(0x107)]?_0x61ca9[_0x576de7(0x10d)][_0x576de7(0x107)]:undefined;let _0x2f32d2=[];_0x14b94f&&_0x14b94f['forEach'](_0x1b1d55=>{const _0x3bdda3=_0x576de7;if(_0x1b1d55[_0x3bdda3(0x11e)])_0x1b1d55[_0x3bdda3(0x11e)][_0x3bdda3(0x107)][_0x3bdda3(0xf4)](_0x2563c6=>{const _0x58f4b4=_0x3bdda3;if(_0x2563c6[_0x58f4b4(0x12d)]&&_0x1c1871['tzViV'](_0x2563c6[_0x58f4b4(0x12d)]['id'],_0x45a59d)&&_0x2563c6['scenario'][_0x58f4b4(0x125)]){const _0x1fa899=_0x2563c6['scenario'][_0x58f4b4(0x125)][_0x58f4b4(0x13b)](_0x312243=>_0x312243['tableBody'])[_0x58f4b4(0x111)](_0x44cd8b=>_0x44cd8b['id']===_0x533dd2);let _0x8b377e;_0x1fa899&&_0x1fa899[_0x58f4b4(0xd6)]?_0x8b377e=_0x1fa899[_0x58f4b4(0xd6)][_0x58f4b4(0xde)](_0x571164=>_0x571164[_0x58f4b4(0x104)]):_0x8b377e=[],_0x8b377e&&(_0x2f32d2=_0x8b377e);}});else{if(_0x1b1d55[_0x3bdda3(0x12d)]&&_0x1c1871[_0x3bdda3(0xce)](_0x1b1d55[_0x3bdda3(0x12d)]['id'],_0x45a59d)&&_0x1b1d55[_0x3bdda3(0x12d)][_0x3bdda3(0x125)]){const _0x41dbe3=_0x1b1d55[_0x3bdda3(0x12d)][_0x3bdda3(0x125)]['flatMap'](_0x59ff98=>_0x59ff98['tableBody'])[_0x3bdda3(0x111)](_0x30ce6f=>_0x30ce6f['id']===_0x533dd2);let _0x3805ff;_0x41dbe3&&_0x41dbe3['cells']?_0x3805ff=_0x41dbe3[_0x3bdda3(0xd6)][_0x3bdda3(0xde)](_0x1af883=>_0x1af883[_0x3bdda3(0x104)]):_0x3805ff=[],_0x3805ff&&(_0x2f32d2=_0x3805ff);}}});if(_0x2f32d2['length'])return _0x2f32d2;return;};async[a90_0xd47b3d(0xbd)](){const _0x4688bf=a90_0xd47b3d,_0x556b91={'lgCIT':function(_0x1022f5){return _0x1022f5();}};if(this[_0x4688bf(0x127)])return this[_0x4688bf(0x143)];const _0x43603b=await _0x556b91['lgCIT'](getGitMetaData);_0x43603b&&(this[_0x4688bf(0x143)]=_0x43603b['root']),this[_0x4688bf(0x127)]=!![];}}function a90_0x1174(_0x582559,_0x59ef91){const _0x237d4d=a90_0x237d();return a90_0x1174=function(_0x117491,_0xc61e74){_0x117491=_0x117491-0xbd;let _0x24b25b=_0x237d4d[_0x117491];return _0x24b25b;},a90_0x1174(_0x582559,_0x59ef91);}module['exports']=o11yClassErrorHandler(CucumberUtils,['configureGit',a90_0xd47b3d(0xc8),a90_0xd47b3d(0xc5),a90_0xd47b3d(0x116),'sendHook',a90_0xd47b3d(0xbf),a90_0xd47b3d(0x12b),'createTestFrameworkData']);