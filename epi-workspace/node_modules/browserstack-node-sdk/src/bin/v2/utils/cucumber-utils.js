const a88_0x1b3269=a88_0x1ff0;(function(_0x1bbad3,_0x2a677e){const _0x59d079=a88_0x1ff0,_0x1679fc=_0x1bbad3();while(!![]){try{const _0x44fd3e=parseInt(_0x59d079(0x102))/0x1*(-parseInt(_0x59d079(0xd9))/0x2)+parseInt(_0x59d079(0x10e))/0x3+-parseInt(_0x59d079(0xba))/0x4*(-parseInt(_0x59d079(0xcd))/0x5)+parseInt(_0x59d079(0x114))/0x6+parseInt(_0x59d079(0x116))/0x7*(parseInt(_0x59d079(0xe3))/0x8)+parseInt(_0x59d079(0xf4))/0x9+parseInt(_0x59d079(0xe1))/0xa*(-parseInt(_0x59d079(0x10d))/0xb);if(_0x44fd3e===_0x2a677e)break;else _0x1679fc['push'](_0x1679fc['shift']());}catch(_0x3eed4a){_0x1679fc['push'](_0x1679fc['shift']());}}}(a88_0x1df3,0x6d123));const path=require(a88_0x1b3269(0xd4)),util=require(a88_0x1b3269(0xdb)),{getGitMetaData,isUndefined,nestedKeyValue}=require(a88_0x1b3269(0xce)),logger=require(a88_0x1b3269(0x131))[a88_0x1b3269(0xe5)],{o11yClassErrorHandler}=require(a88_0x1b3269(0xfc)),TestInfo=require(a88_0x1b3269(0xed)),hooksMap={};function a88_0x1df3(){const _0x512358=['55JEiHsG','524712IAEzlo','sendHook','cells','tMrbu','toISOString','failure','1638864llnwVU','getScenarioExamples','7ZHjcXH','getTestUUID','FAILED','uri','bstack','YdxYl','KjPqW','unknown','eUWlz','ebscq','push','sourceReference','test','getHookRunEventData','OrakS','sendTestRunEventForCucumber','includes','KnNOY','javascript','flatMap','BEFORE_EACH','ojxwx','children','AssertionError','result','passed','getHookResult','../../../helpers/logger.js','find','yNwaG','ETiiv','toLowerCase','testStepFinished','exports','skipped','SuukD','zcHXb','SfkIx','browserstack-node-agent/src/bin/cucumber-js/test.setup.js','MMdzg','UeYsS','YaKZz','testCaseFinished','failed','hooks','astNodeIds','qkUwZ','MvnnI','wKJwA','length','tagExpression','10520OFkUnB','KifKc','Exception\x20in\x20getHookRunEventData:\x20','JLUmn','examples','QXxfD','duration_in_ms','_gitConfigPath','pending','filter','message','SKIPPED','failure_type','xquff','root','hookId','VrfTJ','HZQPD','IYvPE','65JAPvbF','../../../helpers/helper.js','pickleStepId','amLOF','backtrace','JPimZ','pgnxS','path','LaFVp','AFTER_EACH','status','HookRunStarted','1546UhYrJj','iyGmt','util','format','tags','forEach','rule','cTshb','2003370XJikbV','name','4645176CkWmap','failureType','winstonLogger','debug','lfTZf','Exception\x20in\x20createHookData:\x20','value','match','PMUum','getCucumberHookType','../TestInfo.js','cucumber','scenario','UnhandledError','createTestFrameworkData','HQhvB','timestamp','4116996cZqsIt','HookRunFinished','ngRGS','failure_data','exception','tableBody','relative','RnMRB','../../../helpers/test-observability/error-handler.js','ohzwj','dEFtm','finished_at','WCQcz','olBVz','93jodbKH','join','configureGit','GXZeZ','RooRy','iqmkS','feature','aBUWR','clwUq','nanos','_gitConfigured'];a88_0x1df3=function(){return _0x512358;};return a88_0x1df3();}function a88_0x1ff0(_0x4af9d4,_0x1f32ea){const _0x1df330=a88_0x1df3();return a88_0x1ff0=function(_0x1ff076,_0x29003a){_0x1ff076=_0x1ff076-0xaf;let _0x106381=_0x1df330[_0x1ff076];return _0x106381;},a88_0x1ff0(_0x4af9d4,_0x1f32ea);}class CucumberUtils{constructor(){const _0x1af4e5=a88_0x1b3269;this[_0x1af4e5(0x10c)]=![],this[_0x1af4e5(0xc1)]=null;}async[a88_0x1b3269(0xf1)](_0x147436,_0xc755c9,_0x454bde,_0x188957,_0x54ce12,_0x3fad9b){const _0x3bbade=a88_0x1b3269,_0x5951de={'RnMRB':function(_0x357e3a,_0x4c6420){return _0x357e3a===_0x4c6420;},'HQhvB':_0x3bbade(0x118),'lfTZf':_0x3bbade(0xb2),'ojxwx':function(_0x595bfe,_0x306f9a){return _0x595bfe===_0x306f9a;},'exqBb':_0x3bbade(0xc5),'weEjG':_0x3bbade(0x138),'PMUum':function(_0x5cb8b1,_0x2d31d8){return _0x5cb8b1||_0x2d31d8;},'ScXme':function(_0x52561c,_0x33aeee){return _0x52561c+_0x33aeee;},'sUReb':function(_0x3b91f0,_0x4b892a){return _0x3b91f0+_0x4b892a;},'RooRy':function(_0x10fc54,_0x2a5284){return _0x10fc54+_0x2a5284;},'pgnxS':_0x3bbade(0x122),'wKJwA':'javascript','WCQcz':_0x3bbade(0xee),'tMrbu':'pending','yNwaG':_0x3bbade(0x12f),'clwUq':function(_0x5e276c,_0x5388a2){return _0x5e276c!==_0x5388a2;},'IYvPE':function(_0x5004bb,_0x337c43){return _0x5004bb/_0x337c43;},'amLOF':'strip-ansi','KnNOY':function(_0x5dc0e6,_0x16c825){return _0x5dc0e6(_0x16c825);},'JLUmn':_0x3bbade(0x11d),'VrfTJ':function(_0x2df36a,_0x1d8469){return _0x2df36a(_0x1d8469);},'dEFtm':'AssertionError','zcHXb':_0x3bbade(0xf0)},{feature:_0x4a320b,scenario:_0x1d395e,steps:_0x1c10c5,uuid:_0x1ceaed,startedAt:_0x13e124,finishedAt:_0x779203}=_0x5951de[_0x3bbade(0xeb)](_0x147436,{}),_0x54585c=this[_0x3bbade(0x115)](_0x188957,_0xc755c9);await this['configureGit']();const _0x5466f5=_0x54585c?_0x5951de['ScXme'](_0x5951de['sUReb'](_0x5951de[_0x3bbade(0x106)](_0xc755c9['name'],'\x20('),_0x54585c[_0x3bbade(0x103)](',\x20')),')'):_0xc755c9['name'],_0x36cb74={'id':_0x54ce12,'uuid':_0x54ce12,'startedAt':_0x13e124,'finishedAt':_0x779203,'type':_0x5951de[_0x3bbade(0xd3)],'body':{'lang':_0x5951de[_0x3bbade(0xb7)],'code':null},'name':_0x5466f5,'scopes':[_0x4a320b&&_0x4a320b['name']?_0x4a320b[_0x3bbade(0xe2)]:''],'tags':_0xc755c9[_0x3bbade(0xdd)]?_0xc755c9['tags']['map'](({name:_0x34d795})=>_0x34d795):[],'file_name':_0xc755c9[_0x3bbade(0x119)],'location':_0xc755c9['uri'],'vc_filepath':this[_0x3bbade(0xc1)]&&_0xc755c9[_0x3bbade(0x119)]?path[_0x3bbade(0xfa)](this[_0x3bbade(0xc1)],_0xc755c9[_0x3bbade(0x119)]):null,'framework':_0x5951de[_0x3bbade(0x100)],'result':_0x5951de[_0x3bbade(0x111)],'meta':{'feature':_0x4a320b,'scenario':_0x1d395e,'steps':_0x1c10c5,'examples':_0x54585c},'customRerunParam':{'rerun_name':_0x5466f5}};if(_0x454bde['testCaseFinished']&&_0x1c10c5){const _0x248579=_0x454bde[_0x3bbade(0xb1)];let _0x1c096d=_0x5951de[_0x3bbade(0x133)];_0x1c10c5['every'](_0x16e970=>{const _0x563f6a=_0x3bbade;if(_0x5951de[_0x563f6a(0xfb)](_0x16e970[_0x563f6a(0x12e)],_0x5951de[_0x563f6a(0xf2)]))return _0x1c096d=_0x5951de[_0x563f6a(0xe7)],_0x248579[_0x563f6a(0x113)]=_0x16e970[_0x563f6a(0x113)],_0x248579['failureType']=_0x16e970[_0x563f6a(0xe4)],![];else{if(_0x5951de[_0x563f6a(0x12b)](_0x16e970[_0x563f6a(0x12e)],_0x5951de['exqBb']))return _0x1c096d=_0x5951de['weEjG'],![];}return!![];}),_0x36cb74['finishedAt']=new Date()[_0x3bbade(0x112)](),_0x36cb74[_0x3bbade(0x12e)]=_0x1c096d;_0x248579[_0x3bbade(0xf3)]&&_0x5951de[_0x3bbade(0x10a)](_0x248579['timestamp']['nanos'],undefined)?_0x36cb74[_0x3bbade(0xc0)]=_0x5951de[_0x3bbade(0xcc)](_0x248579['timestamp'][_0x3bbade(0x10b)],0xf4240):_0x36cb74['duration_in_ms']=undefined;if(_0x5951de['RnMRB'](_0x1c096d,_0x5951de[_0x3bbade(0xe7)])){const {default:_0x73c4ca}=await import(_0x5951de[_0x3bbade(0xd0)]);_0x36cb74['failure']=[{'backtrace':[_0x248579[_0x3bbade(0x113)]?_0x5951de[_0x3bbade(0x127)](_0x73c4ca,_0x248579['failure']):_0x5951de[_0x3bbade(0xbd)]]}],_0x36cb74['failure_reason']=_0x248579[_0x3bbade(0x113)]?_0x5951de[_0x3bbade(0xca)](_0x73c4ca,_0x248579[_0x3bbade(0x113)]):_0x248579['message'],_0x248579['failureType']&&(_0x36cb74['failure_type']=_0x248579[_0x3bbade(0xe4)][_0x3bbade(0xea)](/AssertError/)?_0x5951de[_0x3bbade(0xfe)]:_0x5951de[_0x3bbade(0x13a)]);}}return _0x36cb74;}[a88_0x1b3269(0x123)](_0x404564,_0x4e0d72,_0x3ce203,_0x1debca,_0x480fd7,_0x25ea41){const _0x158995=a88_0x1b3269,_0x24e935={'LaFVp':function(_0x415725,_0x3e482e){return _0x415725===_0x3e482e;},'trgNK':_0x158995(0xf5),'blMrQ':function(_0x8c8fab,_0x2d4ef2,_0x64fe1c){return _0x8c8fab(_0x2d4ef2,_0x64fe1c);},'aBUWR':_0x158995(0x121),'wDboO':_0x158995(0x119),'SuukD':_0x158995(0xc2),'MMdzg':'hook','YaKZz':_0x158995(0x128),'ngRGS':function(_0x210a34,_0x508cbd,_0x34fc42){return _0x210a34(_0x508cbd,_0x34fc42);},'MvnnI':'feature','ohzwj':_0x158995(0xe2),'KjPqW':'cucumber'};try{if(_0x24e935[_0x158995(0xd5)](_0x3ce203,_0x24e935['trgNK'])){const _0x20a610=new Date()[_0x158995(0x112)](),_0x6ef3de=hooksMap[_0x4e0d72];if(!_0x6ef3de)return;const _0x33a727=_0x6ef3de['find'](_0x5dd196=>_0x5dd196['uuid']===_0x1debca['id']);if(!_0x33a727)return;const _0x1ffd79=this[_0x158995(0x130)](_0x404564,_0x4e0d72);_0x33a727[_0x158995(0x12e)]=_0x1ffd79['status'],_0x33a727[_0x158995(0xff)]=_0x20a610,_0x33a727[_0x158995(0xc6)]=_0x1ffd79[_0x158995(0xe4)];const _0x177df5={};return _0x177df5[_0x158995(0xd1)]=_0x1ffd79['failureData'],_0x33a727[_0x158995(0xf7)]=[_0x177df5],_0x33a727;}const _0x3da219=TestInfo[_0x158995(0x117)](_0x4e0d72),_0x57f3e6=_0x404564[_0x158995(0xb3)][_0x158995(0x132)](_0xbc9865=>_0xbc9865['id']===_0x1debca[_0x158995(0xc9)]),_0x2702c1=_0x24e935['blMrQ'](nestedKeyValue,_0x57f3e6,[_0x24e935[_0x158995(0x109)],_0x24e935['wDboO']]),_0x25f424=new Date()[_0x158995(0x112)](),_0x4c955c=_0x24e935[_0x158995(0x139)],_0x4079a8=_0x57f3e6['tagExpression']?_0x57f3e6[_0x158995(0xb9)]['split']('\x20')[_0x158995(0xc3)](_0x3a04b8=>_0x3a04b8[_0x158995(0x126)]('@')):[],_0xf64e75={'uuid':_0x1debca['id'],'type':_0x24e935[_0x158995(0x13d)],'hook_type':_0x25ea41,'name':_0x57f3e6['name'],'body':{'lang':_0x24e935[_0x158995(0xb0)],'code':null},'tags':_0x4079a8,'test_run_id':_0x3da219,'scope':_0x24e935[_0x158995(0xf6)](nestedKeyValue,_0x480fd7,[_0x24e935['MvnnI'],_0x24e935['ohzwj']]),'scopes':[_0x24e935[_0x158995(0xf6)](nestedKeyValue,_0x480fd7,[_0x24e935[_0x158995(0xb6)],_0x24e935[_0x158995(0xfd)]])||''],'file_name':_0x2702c1,'location':_0x2702c1,'vc_filepath':this[_0x158995(0xc1)]?path[_0x158995(0xfa)](this[_0x158995(0xc1)],_0x2702c1):null,'result':_0x4c955c,'started_at':_0x25f424,'framework':_0x24e935[_0x158995(0x11c)]};return _0xf64e75;}catch(_0x1228d1){logger[_0x158995(0xe6)](_0x158995(0xbc)+util[_0x158995(0xdc)](_0x1228d1)+'\x20');}}async['createHookData'](_0x17eb1e,_0x581149,_0x14a8e0,_0x750575,_0x3838b3,_0x26be3c){const _0x171752=a88_0x1b3269,_0x376c53={'YdxYl':function(_0x4e03ab,_0x3d7179){return _0x4e03ab===_0x3d7179;},'jAYxa':_0x171752(0xd8),'OfJbz':function(_0x541e71,_0x2a1b06,_0x22e302){return _0x541e71(_0x2a1b06,_0x22e302);},'EPIdF':_0x171752(0x121),'olBVz':_0x171752(0x119),'iqmkS':_0x171752(0x13c),'ETiiv':function(_0x48164b,_0x208ac9){return _0x48164b===_0x208ac9;},'xquff':_0x171752(0x11a)};try{const _0x3e010c=_0x750575[_0x171752(0x132)](_0x1f4cf9=>_0x1f4cf9['id']===_0x3838b3);if(!_0x3e010c[_0x171752(0xc9)])return;const _0x53a934=this[_0x171752(0xec)](_0x750575,_0x3e010c),_0x2db60a=this[_0x171752(0x123)](_0x17eb1e,_0x581149,_0x14a8e0,_0x3e010c,_0x26be3c,_0x53a934);if(!_0x2db60a)return;_0x376c53[_0x171752(0x11b)](_0x14a8e0,_0x376c53['jAYxa'])&&(hooksMap[_0x581149]?hooksMap[_0x581149][_0x171752(0x120)](_0x2db60a):hooksMap[_0x581149]=[_0x2db60a]);const _0x4e048b=_0x17eb1e[_0x171752(0xb3)]['find'](_0x1bd05f=>_0x1bd05f['id']===_0x3e010c[_0x171752(0xc9)]),_0x335fcd=_0x376c53['OfJbz'](nestedKeyValue,_0x4e048b,[_0x376c53['EPIdF'],_0x376c53[_0x171752(0x101)]]);if(!_0x335fcd)return;else{if(_0x335fcd[_0x171752(0x126)](_0x376c53[_0x171752(0x107)]))return;}if(_0x376c53[_0x171752(0x134)](_0x2db60a[_0x171752(0xe2)],_0x376c53[_0x171752(0xc7)]))return;return _0x2db60a;}catch(_0x489fb3){logger[_0x171752(0xe6)](_0x171752(0xe8)+util['format'](_0x489fb3)+'\x20');}}[a88_0x1b3269(0x130)](_0xce26c3,_0x1979d9){const _0x595bfd=a88_0x1b3269,_0x2db65f={};_0x2db65f[_0x595bfd(0xcb)]=function(_0x1a75d1,_0x3423d9){return _0x1a75d1===_0x3423d9;},_0x2db65f[_0x595bfd(0xbb)]='failed',_0x2db65f['OrakS']=function(_0x12938e,_0x3e3433){return _0x12938e===_0x3e3433;},_0x2db65f['JPimZ']=_0x595bfd(0xf0),_0x2db65f['iyGmt']=_0x595bfd(0x12d),_0x2db65f['kQMvw']=function(_0xaa7d23,_0x2e72eb){return _0xaa7d23||_0x2e72eb;};const _0x3e117a=_0x2db65f,_0x203960=_0xce26c3[_0x595bfd(0x136)][_0x1979d9]['testStepResult'];let _0x2955a6,_0x378686;return _0x203960&&_0x3e117a[_0x595bfd(0xcb)](_0x203960[_0x595bfd(0xd7)]['toString']()[_0x595bfd(0x135)](),_0x3e117a[_0x595bfd(0xbb)])&&(_0x2955a6=_0x3e117a[_0x595bfd(0xcb)](_0x203960[_0x595bfd(0xf8)],undefined)?_0x203960[_0x595bfd(0xc4)]:_0x203960[_0x595bfd(0xf8)][_0x595bfd(0xc4)],_0x378686=_0x3e117a[_0x595bfd(0x124)](_0x203960[_0x595bfd(0xf8)],undefined)?_0x3e117a['JPimZ']:_0x203960['message'][_0x595bfd(0xea)](/Assert/)?_0x3e117a[_0x595bfd(0xda)]:_0x3e117a[_0x595bfd(0xd2)]),{'status':_0x203960[_0x595bfd(0xd7)][_0x595bfd(0x135)](),'failureType':_0x3e117a['kQMvw'](_0x378686,null),'failureData':!_0x2955a6?null:[_0x2955a6]};}[a88_0x1b3269(0xec)](_0xc2b5ef,_0x4fc4ce){const _0x419ff4=a88_0x1b3269,_0x20a9e6={};_0x20a9e6[_0x419ff4(0xbf)]=function(_0x5c3ca7,_0x1a4ad4){return _0x5c3ca7===_0x1a4ad4;},_0x20a9e6[_0x419ff4(0xb5)]=_0x419ff4(0xd6),_0x20a9e6[_0x419ff4(0xaf)]=_0x419ff4(0x12a);const _0x55917f=_0x20a9e6;let _0x1110b8=![];for(const _0x2b2f43 of _0xc2b5ef){_0x2b2f43[_0x419ff4(0xcf)]&&(_0x1110b8=!![]);if(_0x55917f[_0x419ff4(0xbf)](_0x4fc4ce['id'],_0x2b2f43['id']))return _0x1110b8?_0x55917f[_0x419ff4(0xb5)]:_0x55917f[_0x419ff4(0xaf)];}}[a88_0x1b3269(0x115)]=(_0x34c850,_0x3c1857)=>{const _0x445ed4=a88_0x1b3269,_0x2f76d3={};_0x2f76d3[_0x445ed4(0x11e)]=function(_0x4326d0,_0x10b99b){return _0x4326d0===_0x10b99b;},_0x2f76d3[_0x445ed4(0x13b)]=function(_0x505d16,_0x109638){return _0x505d16===_0x109638;},_0x2f76d3['ebscq']=function(_0x18d33b,_0x1ac218){return _0x18d33b>_0x1ac218;};const _0x63e21b=_0x2f76d3;if(!(_0x3c1857[_0x445ed4(0xb4)]&&_0x63e21b[_0x445ed4(0x11f)](_0x3c1857[_0x445ed4(0xb4)][_0x445ed4(0xb8)],0x1)))return;const _0x45d1e8=_0x3c1857[_0x445ed4(0xb4)][0x0],_0x915c82=_0x3c1857['astNodeIds'][0x1],_0x5471db=_0x34c850[_0x445ed4(0x108)]&&_0x34c850['feature'][_0x445ed4(0x12c)]?_0x34c850[_0x445ed4(0x108)]['children']:undefined;let _0xadc6a9=[];_0x5471db&&_0x5471db[_0x445ed4(0xde)](_0x27ff47=>{const _0x2ffafc=_0x445ed4,_0x2b832e={'GXZeZ':function(_0x127b00,_0x51214d){const _0x5efc95=a88_0x1ff0;return _0x63e21b[_0x5efc95(0x11e)](_0x127b00,_0x51214d);}};if(_0x27ff47[_0x2ffafc(0xdf)])_0x27ff47[_0x2ffafc(0xdf)][_0x2ffafc(0x12c)]['forEach'](_0x1f79e6=>{const _0x3320d7=_0x2ffafc;if(_0x1f79e6['scenario']&&_0x2b832e[_0x3320d7(0x105)](_0x1f79e6['scenario']['id'],_0x45d1e8)&&_0x1f79e6[_0x3320d7(0xef)][_0x3320d7(0xbe)]){const _0x41049f=_0x1f79e6[_0x3320d7(0xef)][_0x3320d7(0xbe)][_0x3320d7(0x129)](_0x3d7926=>_0x3d7926['tableBody'])[_0x3320d7(0x132)](_0x484077=>_0x484077['id']===_0x915c82);let _0x275ccc;_0x41049f&&_0x41049f[_0x3320d7(0x110)]?_0x275ccc=_0x41049f[_0x3320d7(0x110)]['map'](_0x47cfef=>_0x47cfef[_0x3320d7(0xe9)]):_0x275ccc=[],_0x275ccc&&(_0xadc6a9=_0x275ccc);}});else{if(_0x27ff47[_0x2ffafc(0xef)]&&_0x63e21b[_0x2ffafc(0x13b)](_0x27ff47['scenario']['id'],_0x45d1e8)&&_0x27ff47[_0x2ffafc(0xef)][_0x2ffafc(0xbe)]){const _0x11d932=_0x27ff47[_0x2ffafc(0xef)]['examples'][_0x2ffafc(0x129)](_0x2a7058=>_0x2a7058[_0x2ffafc(0xf9)])[_0x2ffafc(0x132)](_0x56194b=>_0x56194b['id']===_0x915c82);let _0x539d83;_0x11d932&&_0x11d932['cells']?_0x539d83=_0x11d932[_0x2ffafc(0x110)]['map'](_0x60f4dc=>_0x60f4dc[_0x2ffafc(0xe9)]):_0x539d83=[],_0x539d83&&(_0xadc6a9=_0x539d83);}}});if(_0xadc6a9[_0x445ed4(0xb8)])return _0xadc6a9;return;};async[a88_0x1b3269(0x104)](){const _0x23b60a=a88_0x1b3269,_0x4360ab={'cTshb':function(_0x1082e1){return _0x1082e1();}};if(this[_0x23b60a(0x10c)])return this['_gitConfigPath'];const _0xcd533e=await _0x4360ab[_0x23b60a(0xe0)](getGitMetaData);_0xcd533e&&(this[_0x23b60a(0xc1)]=_0xcd533e[_0x23b60a(0xc8)]),this[_0x23b60a(0x10c)]=!![];}}module[a88_0x1b3269(0x137)]=o11yClassErrorHandler(CucumberUtils,[a88_0x1b3269(0x104),a88_0x1b3269(0x115),'getCucumberHookType',a88_0x1b3269(0x130),a88_0x1b3269(0x10f),'getHookRunEventData',a88_0x1b3269(0x125),a88_0x1b3269(0xf1)]);