const a90_0x4a873b=a90_0x3e03;(function(_0x532d5f,_0x4db33f){const _0x155bd4=a90_0x3e03,_0x3ce1f7=_0x532d5f();while(!![]){try{const _0x187069=-parseInt(_0x155bd4(0x1a6))/0x1+-parseInt(_0x155bd4(0x15f))/0x2*(-parseInt(_0x155bd4(0x1b9))/0x3)+parseInt(_0x155bd4(0x196))/0x4+parseInt(_0x155bd4(0x171))/0x5*(-parseInt(_0x155bd4(0x172))/0x6)+-parseInt(_0x155bd4(0x1a2))/0x7+parseInt(_0x155bd4(0x169))/0x8+parseInt(_0x155bd4(0x1c8))/0x9*(parseInt(_0x155bd4(0x14b))/0xa);if(_0x187069===_0x4db33f)break;else _0x3ce1f7['push'](_0x3ce1f7['shift']());}catch(_0x5477bc){_0x3ce1f7['push'](_0x3ce1f7['shift']());}}}(a90_0x45fb,0x2e6e7));const path=require('path'),util=require(a90_0x4a873b(0x19c)),{getGitMetaData,isUndefined,nestedKeyValue}=require('../../../helpers/helper.js'),logger=require(a90_0x4a873b(0x186))['winstonLogger'],{o11yClassErrorHandler}=require(a90_0x4a873b(0x1c3)),TestInfo=require(a90_0x4a873b(0x14e)),hooksMap={};function a90_0x45fb(){const _0x123cab=['getCucumberHookType','format','failure_type','every','sendHook','testStepFinished','260bAoeiq','12828pdvHDu','getHookRunEventData','RSbPe','FAILED','kKmOR','uYLhb','PeQWB','sourceReference','uuid','createTestFrameworkData','getScenarioExamples','getHookResult','oDSIr','tags','uri','join','GUEPs','exception','SqcUT','createHookData','../../../helpers/logger.js','failure','browserstack-node-agent/src/bin/cucumber-js/test.setup.js','Exception\x20in\x20createHookData:\x20','cucumber','failure_reason','children','_gitConfigured','mlSRJ','hook','failed','push','bstack','WFJVE','debug','result','1347220KNMnOL','examples','javascript','finishedAt','feature','GoCdy','util','unknown','test','tagExpression','exports','getTestUUID','1232707aSRWGZ','YkjSm','hooks','KplhR','271439HQnsaV','name','uiXrM','passed','WvDJU','match','tableBody','relative','testCaseFinished','includes','_gitConfigPath','failure_data','scenario','bmPoI','filter','map','hESEM','cuZuX','message','1689rCEGcJ','GxWaM','HookRunFinished','pRCZW','cells','MWpzn','tJpma','testStepResult','duration_in_ms','nanos','../../../helpers/test-observability/error-handler.js','xbFxB','skipped','flatMap','length','54dCLshi','finished_at','find','tvGqg','AlrCv','KBBJt','UnhandledError','value','eaPBm','65990xAIQLX','AssertionError','ieEOH','../TestInfo.js','toLowerCase','MTxTd','status','UIFHw','BEFORE_EACH','faHDa','AFTER_EACH','failureData','DUtWX','astNodeIds','strip-ansi','forEach','toISOString','timestamp','failureType','pdobn','698syzUkx','configureGit','XkezO','hookId','pickleStepId','IIyvb','CBbSU','rule','pending','fmwKS','1408104CnXamt','ysbnK'];a90_0x45fb=function(){return _0x123cab;};return a90_0x45fb();}class CucumberUtils{constructor(){const _0x14238d=a90_0x4a873b;this[_0x14238d(0x18d)]=![],this[_0x14238d(0x1b0)]=null;}async[a90_0x4a873b(0x17b)](_0x210630,_0x318037,_0x4ee59e,_0x18bd13,_0x42faae,_0xb1d61e){const _0x50c099=a90_0x4a873b,_0x4c06f5={'JSuti':function(_0x3bb810,_0x5c822f){return _0x3bb810===_0x5c822f;},'fmwKS':_0x50c099(0x175),'DUtWX':_0x50c099(0x190),'UIFHw':function(_0x2ca740,_0x59f4d1){return _0x2ca740===_0x59f4d1;},'eNrsm':'SKIPPED','sInPi':_0x50c099(0x1c5),'sPBHH':function(_0xa9e630,_0x3b3f05){return _0xa9e630||_0x3b3f05;},'hESEM':function(_0x1b059b,_0x38fd27){return _0x1b059b+_0x38fd27;},'bmPoI':_0x50c099(0x19e),'XkezO':_0x50c099(0x198),'xbFxB':_0x50c099(0x18a),'RSbPe':_0x50c099(0x167),'GxWaM':_0x50c099(0x1a9),'GoCdy':function(_0x4a2d1c,_0x28cb13){return _0x4a2d1c!==_0x28cb13;},'nHgrg':function(_0x3d9f29,_0x59782d){return _0x3d9f29/_0x59782d;},'KBBJt':function(_0xc35914,_0x29051e){return _0xc35914===_0x29051e;},'erPNZ':_0x50c099(0x159),'ysbnK':function(_0x4cae64,_0x9e7566){return _0x4cae64(_0x9e7566);},'xDbIk':_0x50c099(0x19d),'eaPBm':'AssertionError','WFJVE':_0x50c099(0x148)},{feature:_0x50926a,scenario:_0x15b582,steps:_0x7d3e85,uuid:_0x2737b9,startedAt:_0x5d9bd9,finishedAt:_0x491a46}=_0x4c06f5['sPBHH'](_0x210630,{}),_0x4b2937=this[_0x50c099(0x17c)](_0x18bd13,_0x318037);await this[_0x50c099(0x160)]();const _0x4f0940=_0x4b2937?_0x4c06f5[_0x50c099(0x1b6)](_0x4c06f5['hESEM'](_0x4c06f5[_0x50c099(0x1b6)](_0x318037[_0x50c099(0x1a7)],'\x20('),_0x4b2937[_0x50c099(0x181)](',\x20')),')'):_0x318037[_0x50c099(0x1a7)],_0x57da38={'id':_0x42faae,'uuid':_0x42faae,'startedAt':_0x5d9bd9,'finishedAt':_0x491a46,'type':_0x4c06f5[_0x50c099(0x1b3)],'body':{'lang':_0x4c06f5[_0x50c099(0x161)],'code':null},'name':_0x4f0940,'scopes':[_0x50926a&&_0x50926a['name']?_0x50926a[_0x50c099(0x1a7)]:''],'tags':_0x318037[_0x50c099(0x17f)]?_0x318037[_0x50c099(0x17f)][_0x50c099(0x1b5)](({name:_0x2bb253})=>_0x2bb253):[],'file_name':_0x318037[_0x50c099(0x180)],'location':_0x318037[_0x50c099(0x180)],'vc_filepath':this[_0x50c099(0x1b0)]&&_0x318037[_0x50c099(0x180)]?path[_0x50c099(0x1ad)](this[_0x50c099(0x1b0)],_0x318037[_0x50c099(0x180)]):null,'framework':_0x4c06f5[_0x50c099(0x1c4)],'result':_0x4c06f5[_0x50c099(0x174)],'meta':{'feature':_0x50926a,'scenario':_0x15b582,'steps':_0x7d3e85,'examples':_0x4b2937},'customRerunParam':{'rerun_name':_0x4f0940}};if(_0x4ee59e[_0x50c099(0x1ae)]&&_0x7d3e85){const _0xefc59c=_0x4ee59e[_0x50c099(0x1ae)];let _0x1adfd4=_0x4c06f5[_0x50c099(0x1ba)];_0x7d3e85[_0x50c099(0x16e)](_0x3eda6a=>{const _0x2ec5e8=_0x50c099;if(_0x4c06f5['JSuti'](_0x3eda6a[_0x2ec5e8(0x195)],_0x4c06f5[_0x2ec5e8(0x168)]))return _0x1adfd4=_0x4c06f5[_0x2ec5e8(0x157)],_0xefc59c[_0x2ec5e8(0x187)]=_0x3eda6a['failure'],_0xefc59c[_0x2ec5e8(0x15d)]=_0x3eda6a[_0x2ec5e8(0x15d)],![];else{if(_0x4c06f5[_0x2ec5e8(0x152)](_0x3eda6a[_0x2ec5e8(0x195)],_0x4c06f5['eNrsm']))return _0x1adfd4=_0x4c06f5['sInPi'],![];}return!![];}),_0x57da38[_0x50c099(0x199)]=new Date()[_0x50c099(0x15b)](),_0x57da38['result']=_0x1adfd4;_0xefc59c[_0x50c099(0x15c)]&&_0x4c06f5[_0x50c099(0x19b)](_0xefc59c['timestamp']['nanos'],undefined)?_0x57da38[_0x50c099(0x1c1)]=_0x4c06f5['nHgrg'](_0xefc59c[_0x50c099(0x15c)][_0x50c099(0x1c2)],0xf4240):_0x57da38['duration_in_ms']=undefined;if(_0x4c06f5[_0x50c099(0x147)](_0x1adfd4,_0x4c06f5[_0x50c099(0x157)])){const {default:_0x456887}=await import(_0x4c06f5['erPNZ']);_0x57da38[_0x50c099(0x187)]=[{'backtrace':[_0xefc59c['failure']?_0x4c06f5[_0x50c099(0x16a)](_0x456887,_0xefc59c[_0x50c099(0x187)]):_0x4c06f5['xDbIk']]}],_0x57da38[_0x50c099(0x18b)]=_0xefc59c['failure']?_0x4c06f5[_0x50c099(0x16a)](_0x456887,_0xefc59c[_0x50c099(0x187)]):_0xefc59c[_0x50c099(0x1b8)],_0xefc59c['failureType']&&(_0x57da38[_0x50c099(0x16d)]=_0xefc59c['failureType'][_0x50c099(0x1ab)](/AssertError/)?_0x4c06f5[_0x50c099(0x14a)]:_0x4c06f5[_0x50c099(0x193)]);}}return _0x57da38;}[a90_0x4a873b(0x173)](_0x449f2d,_0x5f12e3,_0x2bb042,_0x14f68d,_0x1e3987,_0x3b19b4){const _0x272471=a90_0x4a873b,_0x4afa75={'PeQWB':function(_0x53fe2f,_0x54e686){return _0x53fe2f===_0x54e686;},'tJpma':_0x272471(0x1bb),'kKmOR':function(_0x3a3cdc,_0x21b68d,_0x3771fe){return _0x3a3cdc(_0x21b68d,_0x3771fe);},'jOyQr':_0x272471(0x179),'uYLhb':'uri','WvDJU':_0x272471(0x167),'IIyvb':_0x272471(0x18f),'GUEPs':_0x272471(0x198),'XSlrj':function(_0x48cb79,_0xffec07,_0x561dfa){return _0x48cb79(_0xffec07,_0x561dfa);},'pRCZW':_0x272471(0x19a),'oDSIr':_0x272471(0x1a7),'VpQKe':function(_0x4ef839,_0x568f9c,_0x24ebf3){return _0x4ef839(_0x568f9c,_0x24ebf3);},'YkjSm':'cucumber'};try{if(_0x4afa75[_0x272471(0x178)](_0x2bb042,_0x4afa75[_0x272471(0x1bf)])){const _0x2f08cc=new Date()[_0x272471(0x15b)](),_0x5ad837=hooksMap[_0x5f12e3];if(!_0x5ad837)return;const _0x3396cd=_0x5ad837['find'](_0x1f04e5=>_0x1f04e5[_0x272471(0x17a)]===_0x14f68d['id']);if(!_0x3396cd)return;const _0x5d82b9=this[_0x272471(0x17d)](_0x449f2d,_0x5f12e3);_0x3396cd[_0x272471(0x195)]=_0x5d82b9['status'],_0x3396cd[_0x272471(0x1c9)]=_0x2f08cc,_0x3396cd['failure_type']=_0x5d82b9[_0x272471(0x15d)];const _0x5f0b6d={};return _0x5f0b6d['backtrace']=_0x5d82b9[_0x272471(0x156)],_0x3396cd[_0x272471(0x1b1)]=[_0x5f0b6d],_0x3396cd;}const _0x279fc5=TestInfo[_0x272471(0x1a1)](_0x5f12e3),_0xe59dbf=_0x449f2d[_0x272471(0x1a4)][_0x272471(0x1ca)](_0x9b80c1=>_0x9b80c1['id']===_0x14f68d[_0x272471(0x162)]),_0x10a101=_0x4afa75[_0x272471(0x176)](nestedKeyValue,_0xe59dbf,[_0x4afa75['jOyQr'],_0x4afa75[_0x272471(0x177)]]),_0x2c43c9=new Date()['toISOString'](),_0x421bf6=_0x4afa75[_0x272471(0x1aa)],_0x82c10f=_0xe59dbf[_0x272471(0x19f)]?_0xe59dbf[_0x272471(0x19f)]['split']('\x20')[_0x272471(0x1b4)](_0x60630=>_0x60630[_0x272471(0x1af)]('@')):[],_0x4d8c56={'uuid':_0x14f68d['id'],'type':_0x4afa75[_0x272471(0x164)],'hook_type':_0x3b19b4,'name':_0xe59dbf[_0x272471(0x1a7)],'body':{'lang':_0x4afa75[_0x272471(0x182)],'code':null},'tags':_0x82c10f,'test_run_id':_0x279fc5,'scope':_0x4afa75['XSlrj'](nestedKeyValue,_0x1e3987,[_0x4afa75[_0x272471(0x1bc)],_0x4afa75[_0x272471(0x17e)]]),'scopes':[_0x4afa75['VpQKe'](nestedKeyValue,_0x1e3987,[_0x4afa75[_0x272471(0x1bc)],_0x4afa75['oDSIr']])||''],'file_name':_0x10a101,'location':_0x10a101,'vc_filepath':this[_0x272471(0x1b0)]?path[_0x272471(0x1ad)](this[_0x272471(0x1b0)],_0x10a101):null,'result':_0x421bf6,'started_at':_0x2c43c9,'framework':_0x4afa75[_0x272471(0x1a3)]};return _0x4d8c56;}catch(_0x1168d2){logger[_0x272471(0x194)]('Exception\x20in\x20getHookRunEventData:\x20'+util['format'](_0x1168d2)+'\x20');}}async[a90_0x4a873b(0x185)](_0x3e429b,_0x294683,_0x31832a,_0x2fa9e2,_0x1448a9,_0x37103f){const _0x187e4a=a90_0x4a873b,_0x35926c={'KplhR':function(_0x44e266,_0x22993c){return _0x44e266===_0x22993c;},'LkNwJ':'HookRunStarted','kIHnv':function(_0x31a6be,_0x2f2e60,_0xc3fb08){return _0x31a6be(_0x2f2e60,_0xc3fb08);},'gXMXO':_0x187e4a(0x179),'mlSRJ':_0x187e4a(0x180),'CBbSU':_0x187e4a(0x188),'uJAJB':_0x187e4a(0x192)};try{const _0x19aff8=_0x2fa9e2['find'](_0x5af601=>_0x5af601['id']===_0x1448a9);if(!_0x19aff8[_0x187e4a(0x162)])return;const _0x288ba4=this[_0x187e4a(0x16b)](_0x2fa9e2,_0x19aff8),_0x29c77e=this[_0x187e4a(0x173)](_0x3e429b,_0x294683,_0x31832a,_0x19aff8,_0x37103f,_0x288ba4);if(!_0x29c77e)return;_0x35926c[_0x187e4a(0x1a5)](_0x31832a,_0x35926c['LkNwJ'])&&(hooksMap[_0x294683]?hooksMap[_0x294683][_0x187e4a(0x191)](_0x29c77e):hooksMap[_0x294683]=[_0x29c77e]);const _0x7fcf77=_0x3e429b[_0x187e4a(0x1a4)][_0x187e4a(0x1ca)](_0x28025a=>_0x28025a['id']===_0x19aff8[_0x187e4a(0x162)]),_0xab0406=_0x35926c['kIHnv'](nestedKeyValue,_0x7fcf77,[_0x35926c['gXMXO'],_0x35926c[_0x187e4a(0x18e)]]);if(!_0xab0406)return;else{if(_0xab0406[_0x187e4a(0x1af)](_0x35926c[_0x187e4a(0x165)]))return;}if(_0x35926c[_0x187e4a(0x1a5)](_0x29c77e['name'],_0x35926c['uJAJB']))return;return _0x29c77e;}catch(_0x2dbc63){logger[_0x187e4a(0x194)](_0x187e4a(0x189)+util[_0x187e4a(0x16c)](_0x2dbc63)+'\x20');}}[a90_0x4a873b(0x17d)](_0x301b9e,_0x37d996){const _0x399efd=a90_0x4a873b,_0x406d1e={};_0x406d1e[_0x399efd(0x1cc)]=function(_0x3041e6,_0x2c0d00){return _0x3041e6===_0x2c0d00;},_0x406d1e[_0x399efd(0x1cb)]=_0x399efd(0x190),_0x406d1e['MWpzn']=function(_0x34b4bd,_0x5e0723){return _0x34b4bd===_0x5e0723;},_0x406d1e[_0x399efd(0x1a8)]='UnhandledError',_0x406d1e[_0x399efd(0x150)]=_0x399efd(0x14c),_0x406d1e[_0x399efd(0x15e)]=function(_0x81c031,_0x39c567){return _0x81c031||_0x39c567;};const _0x2c297a=_0x406d1e,_0x11f830=_0x301b9e[_0x399efd(0x170)][_0x37d996][_0x399efd(0x1c0)];let _0x20e340,_0x2627ed;return _0x11f830&&_0x2c297a[_0x399efd(0x1cc)](_0x11f830['status']['toString']()[_0x399efd(0x14f)](),_0x2c297a[_0x399efd(0x1cb)])&&(_0x20e340=_0x2c297a[_0x399efd(0x1cc)](_0x11f830[_0x399efd(0x183)],undefined)?_0x11f830[_0x399efd(0x1b8)]:_0x11f830[_0x399efd(0x183)]['message'],_0x2627ed=_0x2c297a[_0x399efd(0x1be)](_0x11f830['exception'],undefined)?_0x2c297a[_0x399efd(0x1a8)]:_0x11f830['message']['match'](/Assert/)?_0x2c297a[_0x399efd(0x150)]:_0x2c297a['uiXrM']),{'status':_0x11f830[_0x399efd(0x151)][_0x399efd(0x14f)](),'failureType':_0x2c297a['pdobn'](_0x2627ed,null),'failureData':!_0x20e340?null:[_0x20e340]};}[a90_0x4a873b(0x16b)](_0x1bc79a,_0x438f2e){const _0x5ba874=a90_0x4a873b,_0x4ec085={};_0x4ec085['EagPL']=function(_0x1c75e2,_0x1614ce){return _0x1c75e2===_0x1614ce;},_0x4ec085[_0x5ba874(0x14d)]=_0x5ba874(0x155),_0x4ec085[_0x5ba874(0x1b7)]=_0x5ba874(0x153);const _0x49fbd4=_0x4ec085;let _0x21efd9=![];for(const _0x5a7624 of _0x1bc79a){_0x5a7624[_0x5ba874(0x163)]&&(_0x21efd9=!![]);if(_0x49fbd4['EagPL'](_0x438f2e['id'],_0x5a7624['id']))return _0x21efd9?_0x49fbd4[_0x5ba874(0x14d)]:_0x49fbd4[_0x5ba874(0x1b7)];}}[a90_0x4a873b(0x17c)]=(_0x49ac37,_0x3434ef)=>{const _0x207b7c=a90_0x4a873b,_0x4a0b26={};_0x4a0b26[_0x207b7c(0x184)]=function(_0x1ff51a,_0x4bfa19){return _0x1ff51a===_0x4bfa19;},_0x4a0b26[_0x207b7c(0x154)]=function(_0x2331a3,_0x4a0f87){return _0x2331a3>_0x4a0f87;};const _0x27dd55=_0x4a0b26;if(!(_0x3434ef[_0x207b7c(0x158)]&&_0x27dd55[_0x207b7c(0x154)](_0x3434ef['astNodeIds'][_0x207b7c(0x1c7)],0x1)))return;const _0x3a69fa=_0x3434ef[_0x207b7c(0x158)][0x0],_0x252b49=_0x3434ef['astNodeIds'][0x1],_0x99d97=_0x49ac37[_0x207b7c(0x19a)]&&_0x49ac37['feature'][_0x207b7c(0x18c)]?_0x49ac37[_0x207b7c(0x19a)]['children']:undefined;let _0x27e314=[];_0x99d97&&_0x99d97[_0x207b7c(0x15a)](_0x145978=>{const _0xecb1fb=_0x207b7c;if(_0x145978[_0xecb1fb(0x166)])_0x145978[_0xecb1fb(0x166)][_0xecb1fb(0x18c)]['forEach'](_0x1ff3dd=>{const _0x1b66f4=_0xecb1fb;if(_0x1ff3dd[_0x1b66f4(0x1b2)]&&_0x27dd55[_0x1b66f4(0x184)](_0x1ff3dd[_0x1b66f4(0x1b2)]['id'],_0x3a69fa)&&_0x1ff3dd['scenario']['examples']){const _0x23bc87=_0x1ff3dd[_0x1b66f4(0x1b2)][_0x1b66f4(0x197)][_0x1b66f4(0x1c6)](_0x527727=>_0x527727['tableBody'])['find'](_0x238cb3=>_0x238cb3['id']===_0x252b49);let _0x2fff72;_0x23bc87&&_0x23bc87['cells']?_0x2fff72=_0x23bc87[_0x1b66f4(0x1bd)][_0x1b66f4(0x1b5)](_0x1ca3c7=>_0x1ca3c7['value']):_0x2fff72=[],_0x2fff72&&(_0x27e314=_0x2fff72);}});else{if(_0x145978[_0xecb1fb(0x1b2)]&&_0x27dd55[_0xecb1fb(0x184)](_0x145978[_0xecb1fb(0x1b2)]['id'],_0x3a69fa)&&_0x145978[_0xecb1fb(0x1b2)][_0xecb1fb(0x197)]){const _0x1150e6=_0x145978[_0xecb1fb(0x1b2)][_0xecb1fb(0x197)][_0xecb1fb(0x1c6)](_0x5b6225=>_0x5b6225[_0xecb1fb(0x1ac)])[_0xecb1fb(0x1ca)](_0x4200e1=>_0x4200e1['id']===_0x252b49);let _0x4c5a24;_0x1150e6&&_0x1150e6[_0xecb1fb(0x1bd)]?_0x4c5a24=_0x1150e6[_0xecb1fb(0x1bd)][_0xecb1fb(0x1b5)](_0x4ca125=>_0x4ca125[_0xecb1fb(0x149)]):_0x4c5a24=[],_0x4c5a24&&(_0x27e314=_0x4c5a24);}}});if(_0x27e314[_0x207b7c(0x1c7)])return _0x27e314;return;};async['configureGit'](){const _0xa9c287=a90_0x4a873b,_0x1e4a30={'amtwG':function(_0x4dd24b){return _0x4dd24b();}};if(this['_gitConfigured'])return this[_0xa9c287(0x1b0)];const _0xb4af11=await _0x1e4a30['amtwG'](getGitMetaData);_0xb4af11&&(this['_gitConfigPath']=_0xb4af11['root']),this[_0xa9c287(0x18d)]=!![];}}function a90_0x3e03(_0x285f23,_0x5af8d1){const _0x45fbbf=a90_0x45fb();return a90_0x3e03=function(_0x3e0309,_0x240fc4){_0x3e0309=_0x3e0309-0x147;let _0x39f360=_0x45fbbf[_0x3e0309];return _0x39f360;},a90_0x3e03(_0x285f23,_0x5af8d1);}module[a90_0x4a873b(0x1a0)]=o11yClassErrorHandler(CucumberUtils,[a90_0x4a873b(0x160),'getScenarioExamples','getCucumberHookType',a90_0x4a873b(0x17d),a90_0x4a873b(0x16f),a90_0x4a873b(0x173),'sendTestRunEventForCucumber',a90_0x4a873b(0x17b)]);