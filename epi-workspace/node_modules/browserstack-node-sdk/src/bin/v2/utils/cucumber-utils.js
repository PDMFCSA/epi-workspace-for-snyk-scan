const a88_0x38c706=a88_0x2321;function a88_0x537d(){const _0x1c9283=['Exception\x20in\x20createHookData:\x20','getCucumberHookType','pickleStepId','length','status','CIMCd','yzBHV','FUkfa','name','igOIT','98055MaPtiP','YMOtd','getTestUUID','mddOt','children','VJhzq','10628107uLMpWW','failure_data','LzyZh','forEach','SKIPPED','LtaQq','passed','join','nanos','lsSFZ','feature','split','_gitConfigPath','map','javascript','tiGCU','35180fuysoi','../../../helpers/logger.js','OEZSm','browserstack-node-agent/src/bin/cucumber-js/test.setup.js','duration_in_ms','TbSXN','flatMap','jysiG','filter','scenario','tags','pending','34ERuMqn','wrqEz','result','hHoqn','match','hooks','value','1071UzhbVZ','qKqrw','_gitConfigured','testStepResult','OXuJJ','zPeoc','../TestInfo.js','NaEum','YnfSh','find','Exception\x20in\x20getHookRunEventData:\x20','AgNHw','uuid','393866HEdEEk','aJvNd','FAILED','toISOString','aZawT','failed','includes','failureData','timestamp','getHookResult','createHookData','root','wToCW','exception','nrtCG','RYHxI','cells','failure','testCaseFinished','EdjJf','CqPfb','examples','tableBody','uri','failureType','configureGit','74373KsSmfj','yOxAk','284iidkML','YjyvB','AssertionError','debug','exports','hook','IowgD','createTestFrameworkData','../../../helpers/test-observability/error-handler.js','OkVDr','MbObc','BEFORE_EACH','util','trXko','astNodeIds','winstonLogger','toLowerCase','jTnhz','zNmSi','message','AFTER_EACH','lrjoh','276MrnKWX','ZWLhh','byMOB','8eiDakn','3839100dbUuez','HookRunFinished','skipped','NXzyh','vNPnp','unknown','rule','MzAhH','hookId','AcuIC','ZyvmG','toString','UnhandledError','PBFUi','CKKQe','sourceReference','666011DApgZb','getHookRunEventData','cucumber','getScenarioExamples','dBBZv','bstack','OsOCS','../../../helpers/helper.js','tagExpression'];a88_0x537d=function(){return _0x1c9283;};return a88_0x537d();}(function(_0x3b8af5,_0x59877d){const _0x35f00b=a88_0x2321,_0x36bd68=_0x3b8af5();while(!![]){try{const _0x44614e=-parseInt(_0x35f00b(0x21b))/0x1+parseInt(_0x35f00b(0x250))/0x2*(-parseInt(_0x35f00b(0x1ef))/0x3)+-parseInt(_0x35f00b(0x1f1))/0x4*(-parseInt(_0x35f00b(0x22e))/0x5)+-parseInt(_0x35f00b(0x20b))/0x6+-parseInt(_0x35f00b(0x234))/0x7*(-parseInt(_0x35f00b(0x20a))/0x8)+-parseInt(_0x35f00b(0x257))/0x9*(-parseInt(_0x35f00b(0x244))/0xa)+-parseInt(_0x35f00b(0x1d5))/0xb*(parseInt(_0x35f00b(0x207))/0xc);if(_0x44614e===_0x59877d)break;else _0x36bd68['push'](_0x36bd68['shift']());}catch(_0x258e41){_0x36bd68['push'](_0x36bd68['shift']());}}}(a88_0x537d,0xbe0ee));function a88_0x2321(_0x42453a,_0x1d5910){const _0x537dd6=a88_0x537d();return a88_0x2321=function(_0x2321c1,_0x35bfd3){_0x2321c1=_0x2321c1-0x1d2;let _0x4f6f95=_0x537dd6[_0x2321c1];return _0x4f6f95;},a88_0x2321(_0x42453a,_0x1d5910);}const path=require('path'),util=require(a88_0x38c706(0x1fd)),{getGitMetaData,isUndefined,nestedKeyValue}=require(a88_0x38c706(0x222)),logger=require(a88_0x38c706(0x245))[a88_0x38c706(0x200)],{o11yClassErrorHandler}=require(a88_0x38c706(0x1f9)),TestInfo=require(a88_0x38c706(0x25d)),hooksMap={};class CucumberUtils{constructor(){const _0x55cdc2=a88_0x38c706;this['_gitConfigured']=![],this[_0x55cdc2(0x240)]=null;}async['createTestFrameworkData'](_0x44e0f1,_0x2e542e,_0x54160c,_0x1532f7,_0xb9efb,_0x46e562){const _0xf768c4=a88_0x38c706,_0x2bd788={'zNmSi':function(_0x4e78cf,_0x413234){return _0x4e78cf===_0x413234;},'VJhzq':_0xf768c4(0x1d7),'CqPfb':_0xf768c4(0x1da),'RYHxI':function(_0x137d50,_0xa05703){return _0x137d50===_0xa05703;},'tiGCU':_0xf768c4(0x238),'ZWLhh':_0xf768c4(0x20d),'lodMm':function(_0x31d3f5,_0x45247e){return _0x31d3f5||_0x45247e;},'vNPnp':function(_0x4a1ba9,_0x2b7426){return _0x4a1ba9+_0x2b7426;},'hHoqn':'test','YjyvB':_0xf768c4(0x242),'NXzyh':'cucumber','yzBHV':_0xf768c4(0x24f),'OEZSm':_0xf768c4(0x23a),'LtaQq':function(_0x5898df,_0xf8240d){return _0x5898df!==_0xf8240d;},'jTnhz':function(_0x5d9091,_0x5ec668){return _0x5d9091/_0x5ec668;},'EdjJf':'strip-ansi','trXko':function(_0x1849b3,_0x44bf45){return _0x1849b3(_0x44bf45);},'aZawT':_0xf768c4(0x210),'OsOCS':function(_0x418ac4,_0x7d74c4){return _0x418ac4(_0x7d74c4);},'LzyZh':_0xf768c4(0x1f3),'byMOB':'UnhandledError'},{feature:_0x5d26d2,scenario:_0xe45eb8,steps:_0x4f6417,uuid:_0x39a83d,startedAt:_0x55d67f,finishedAt:_0x43e7b2}=_0x2bd788['lodMm'](_0x44e0f1,{}),_0x25f91f=this['getScenarioExamples'](_0x1532f7,_0x2e542e);await this[_0xf768c4(0x1ee)]();const _0x61df4=_0x25f91f?_0x2bd788[_0xf768c4(0x20f)](_0x2bd788[_0xf768c4(0x20f)](_0x2bd788[_0xf768c4(0x20f)](_0x2e542e[_0xf768c4(0x22c)],'\x20('),_0x25f91f[_0xf768c4(0x23b)](',\x20')),')'):_0x2e542e[_0xf768c4(0x22c)],_0x1d5824={'id':_0xb9efb,'uuid':_0xb9efb,'startedAt':_0x55d67f,'finishedAt':_0x43e7b2,'type':_0x2bd788[_0xf768c4(0x253)],'body':{'lang':_0x2bd788[_0xf768c4(0x1f2)],'code':null},'name':_0x61df4,'scopes':[_0x5d26d2&&_0x5d26d2['name']?_0x5d26d2[_0xf768c4(0x22c)]:''],'tags':_0x2e542e[_0xf768c4(0x24e)]?_0x2e542e[_0xf768c4(0x24e)]['map'](({name:_0x169725})=>_0x169725):[],'file_name':_0x2e542e[_0xf768c4(0x1ec)],'location':_0x2e542e[_0xf768c4(0x1ec)],'vc_filepath':this[_0xf768c4(0x240)]&&_0x2e542e[_0xf768c4(0x1ec)]?path['relative'](this['_gitConfigPath'],_0x2e542e['uri']):null,'framework':_0x2bd788[_0xf768c4(0x20e)],'result':_0x2bd788[_0xf768c4(0x22a)],'meta':{'feature':_0x5d26d2,'scenario':_0xe45eb8,'steps':_0x4f6417,'examples':_0x25f91f},'customRerunParam':{'rerun_name':_0x61df4}};if(_0x54160c[_0xf768c4(0x1e7)]&&_0x4f6417){const _0x7041f5=_0x54160c[_0xf768c4(0x1e7)];let _0x380181=_0x2bd788[_0xf768c4(0x246)];_0x4f6417['every'](_0x2a4997=>{const _0x50ad5a=_0xf768c4;if(_0x2bd788[_0x50ad5a(0x203)](_0x2a4997[_0x50ad5a(0x252)],_0x2bd788[_0x50ad5a(0x233)]))return _0x380181=_0x2bd788[_0x50ad5a(0x1e9)],_0x7041f5['failure']=_0x2a4997[_0x50ad5a(0x1e6)],_0x7041f5[_0x50ad5a(0x1ed)]=_0x2a4997[_0x50ad5a(0x1ed)],![];else{if(_0x2bd788[_0x50ad5a(0x1e4)](_0x2a4997[_0x50ad5a(0x252)],_0x2bd788[_0x50ad5a(0x243)]))return _0x380181=_0x2bd788[_0x50ad5a(0x208)],![];}return!![];}),_0x1d5824['finishedAt']=new Date()['toISOString'](),_0x1d5824[_0xf768c4(0x252)]=_0x380181;_0x7041f5['timestamp']&&_0x2bd788[_0xf768c4(0x239)](_0x7041f5[_0xf768c4(0x1dd)][_0xf768c4(0x23c)],undefined)?_0x1d5824[_0xf768c4(0x248)]=_0x2bd788[_0xf768c4(0x202)](_0x7041f5['timestamp'][_0xf768c4(0x23c)],0xf4240):_0x1d5824['duration_in_ms']=undefined;if(_0x2bd788[_0xf768c4(0x203)](_0x380181,_0x2bd788[_0xf768c4(0x1e9)])){const {default:_0x44f941}=await import(_0x2bd788[_0xf768c4(0x1e8)]);_0x1d5824['failure']=[{'backtrace':[_0x7041f5[_0xf768c4(0x1e6)]?_0x2bd788[_0xf768c4(0x1fe)](_0x44f941,_0x7041f5[_0xf768c4(0x1e6)]):_0x2bd788[_0xf768c4(0x1d9)]]}],_0x1d5824['failure_reason']=_0x7041f5[_0xf768c4(0x1e6)]?_0x2bd788[_0xf768c4(0x221)](_0x44f941,_0x7041f5[_0xf768c4(0x1e6)]):_0x7041f5[_0xf768c4(0x204)],_0x7041f5[_0xf768c4(0x1ed)]&&(_0x1d5824['failure_type']=_0x7041f5[_0xf768c4(0x1ed)][_0xf768c4(0x254)](/AssertError/)?_0x2bd788[_0xf768c4(0x236)]:_0x2bd788[_0xf768c4(0x209)]);}}return _0x1d5824;}[a88_0x38c706(0x21c)](_0x4a61a7,_0x372b11,_0x2d249e,_0x5708d5,_0x5084b6,_0x1adfa2){const _0x27f712=a88_0x38c706,_0x3b788e={'MbObc':function(_0x363f2d,_0x35cc88){return _0x363f2d===_0x35cc88;},'MTyRw':_0x27f712(0x20c),'MzAhH':function(_0x483736,_0x1e536e,_0x1485b8){return _0x483736(_0x1e536e,_0x1485b8);},'igOIT':_0x27f712(0x21a),'NaEum':_0x27f712(0x1ec),'AgNHw':_0x27f712(0x24f),'lrjoh':_0x27f712(0x1f6),'lsSFZ':_0x27f712(0x242),'CKKQe':_0x27f712(0x23e),'FUkfa':_0x27f712(0x22c),'TbSXN':_0x27f712(0x21d)};try{if(_0x3b788e[_0x27f712(0x1fb)](_0x2d249e,_0x3b788e['MTyRw'])){const _0x1b5262=new Date()['toISOString'](),_0xd7f719=hooksMap[_0x372b11];if(!_0xd7f719)return;const _0x40ddb5=_0xd7f719['find'](_0x50f2c4=>_0x50f2c4[_0x27f712(0x1d4)]===_0x5708d5['id']);if(!_0x40ddb5)return;const _0x3d7b88=this['getHookResult'](_0x4a61a7,_0x372b11);_0x40ddb5[_0x27f712(0x252)]=_0x3d7b88['status'],_0x40ddb5['finished_at']=_0x1b5262,_0x40ddb5['failure_type']=_0x3d7b88[_0x27f712(0x1ed)];const _0x233de7={};return _0x233de7['backtrace']=_0x3d7b88[_0x27f712(0x1dc)],_0x40ddb5[_0x27f712(0x235)]=[_0x233de7],_0x40ddb5;}const _0x288e62=TestInfo[_0x27f712(0x230)](_0x372b11),_0x3e2167=_0x4a61a7[_0x27f712(0x255)]['find'](_0x3ca5b6=>_0x3ca5b6['id']===_0x5708d5[_0x27f712(0x213)]),_0x1560d7=_0x3b788e[_0x27f712(0x212)](nestedKeyValue,_0x3e2167,[_0x3b788e[_0x27f712(0x22d)],_0x3b788e[_0x27f712(0x25e)]]),_0x346e55=new Date()[_0x27f712(0x1d8)](),_0x1db2e9=_0x3b788e[_0x27f712(0x1d3)],_0x1e0e52=_0x3e2167['tagExpression']?_0x3e2167[_0x27f712(0x223)][_0x27f712(0x23f)]('\x20')[_0x27f712(0x24c)](_0x296885=>_0x296885[_0x27f712(0x1db)]('@')):[],_0x372447={'uuid':_0x5708d5['id'],'type':_0x3b788e[_0x27f712(0x206)],'hook_type':_0x1adfa2,'name':_0x3e2167[_0x27f712(0x22c)],'body':{'lang':_0x3b788e[_0x27f712(0x23d)],'code':null},'tags':_0x1e0e52,'test_run_id':_0x288e62,'scope':_0x3b788e[_0x27f712(0x212)](nestedKeyValue,_0x5084b6,[_0x3b788e['CKKQe'],_0x3b788e[_0x27f712(0x22b)]]),'scopes':[_0x3b788e[_0x27f712(0x212)](nestedKeyValue,_0x5084b6,[_0x3b788e[_0x27f712(0x219)],_0x3b788e['FUkfa']])||''],'file_name':_0x1560d7,'location':_0x1560d7,'vc_filepath':this[_0x27f712(0x240)]?path['relative'](this[_0x27f712(0x240)],_0x1560d7):null,'result':_0x1db2e9,'started_at':_0x346e55,'framework':_0x3b788e[_0x27f712(0x249)]};return _0x372447;}catch(_0x324d43){logger['debug'](_0x27f712(0x1d2)+util['format'](_0x324d43)+'\x20');}}async[a88_0x38c706(0x1df)](_0x186da9,_0x3a5099,_0x33760f,_0x50941a,_0x329237,_0xb2bf0f){const _0x268c78=a88_0x38c706,_0x248ab3={'mddOt':function(_0x4a5bb7,_0x4bedf2){return _0x4a5bb7===_0x4bedf2;},'wrqEz':'HookRunStarted','yOxAk':function(_0x2441bd,_0x472f9c,_0x1ad47e){return _0x2441bd(_0x472f9c,_0x1ad47e);},'OkVDr':_0x268c78(0x21a),'OXuJJ':_0x268c78(0x1ec),'AcuIC':_0x268c78(0x247),'CIMCd':_0x268c78(0x220)};try{const _0x4439fe=_0x50941a['find'](_0x2fb512=>_0x2fb512['id']===_0x329237);if(!_0x4439fe['hookId'])return;const _0x595b9e=this[_0x268c78(0x225)](_0x50941a,_0x4439fe),_0x1fe4a9=this[_0x268c78(0x21c)](_0x186da9,_0x3a5099,_0x33760f,_0x4439fe,_0xb2bf0f,_0x595b9e);if(!_0x1fe4a9)return;_0x248ab3['mddOt'](_0x33760f,_0x248ab3[_0x268c78(0x251)])&&(hooksMap[_0x3a5099]?hooksMap[_0x3a5099]['push'](_0x1fe4a9):hooksMap[_0x3a5099]=[_0x1fe4a9]);const _0x56827d=_0x186da9[_0x268c78(0x255)][_0x268c78(0x260)](_0x39fefe=>_0x39fefe['id']===_0x4439fe[_0x268c78(0x213)]),_0x17262c=_0x248ab3[_0x268c78(0x1f0)](nestedKeyValue,_0x56827d,[_0x248ab3[_0x268c78(0x1fa)],_0x248ab3[_0x268c78(0x25b)]]);if(!_0x17262c)return;else{if(_0x17262c[_0x268c78(0x1db)](_0x248ab3[_0x268c78(0x214)]))return;}if(_0x248ab3[_0x268c78(0x231)](_0x1fe4a9['name'],_0x248ab3[_0x268c78(0x229)]))return;return _0x1fe4a9;}catch(_0x2726a5){logger[_0x268c78(0x1f4)](_0x268c78(0x224)+util['format'](_0x2726a5)+'\x20');}}['getHookResult'](_0x4ec72b,_0x2b9138){const _0x3188b0=a88_0x38c706,_0x37338b={};_0x37338b['Hdpts']=function(_0x568486,_0x3015e5){return _0x568486===_0x3015e5;},_0x37338b[_0x3188b0(0x218)]='failed',_0x37338b[_0x3188b0(0x25c)]=function(_0x1218d4,_0x2ec4ca){return _0x1218d4===_0x2ec4ca;},_0x37338b[_0x3188b0(0x258)]=function(_0x7ff40b,_0x5d051c){return _0x7ff40b===_0x5d051c;},_0x37338b['wToCW']=_0x3188b0(0x217),_0x37338b[_0x3188b0(0x24b)]='AssertionError',_0x37338b[_0x3188b0(0x21f)]=function(_0x39206d,_0x2309d9){return _0x39206d||_0x2309d9;};const _0x3a56c2=_0x37338b,_0x10969d=_0x4ec72b['testStepFinished'][_0x2b9138][_0x3188b0(0x25a)];let _0xc47875,_0x26f2c2;return _0x10969d&&_0x3a56c2['Hdpts'](_0x10969d[_0x3188b0(0x228)][_0x3188b0(0x216)]()[_0x3188b0(0x201)](),_0x3a56c2['PBFUi'])&&(_0xc47875=_0x3a56c2[_0x3188b0(0x25c)](_0x10969d[_0x3188b0(0x1e2)],undefined)?_0x10969d[_0x3188b0(0x204)]:_0x10969d[_0x3188b0(0x1e2)][_0x3188b0(0x204)],_0x26f2c2=_0x3a56c2[_0x3188b0(0x258)](_0x10969d[_0x3188b0(0x1e2)],undefined)?_0x3a56c2[_0x3188b0(0x1e1)]:_0x10969d['message'][_0x3188b0(0x254)](/Assert/)?_0x3a56c2[_0x3188b0(0x24b)]:_0x3a56c2['wToCW']),{'status':_0x10969d[_0x3188b0(0x228)][_0x3188b0(0x201)](),'failureType':_0x3a56c2[_0x3188b0(0x21f)](_0x26f2c2,null),'failureData':!_0xc47875?null:[_0xc47875]};}[a88_0x38c706(0x225)](_0x31f3ca,_0x403308){const _0x3dfcd3=a88_0x38c706,_0x4f9a3c={};_0x4f9a3c[_0x3dfcd3(0x1e3)]=function(_0x5d212c,_0x5778dd){return _0x5d212c===_0x5778dd;},_0x4f9a3c[_0x3dfcd3(0x22f)]=_0x3dfcd3(0x205),_0x4f9a3c[_0x3dfcd3(0x215)]=_0x3dfcd3(0x1fc);const _0x111b49=_0x4f9a3c;let _0xf5aa46=![];for(const _0x2cbc23 of _0x31f3ca){_0x2cbc23[_0x3dfcd3(0x226)]&&(_0xf5aa46=!![]);if(_0x111b49[_0x3dfcd3(0x1e3)](_0x403308['id'],_0x2cbc23['id']))return _0xf5aa46?_0x111b49[_0x3dfcd3(0x22f)]:_0x111b49[_0x3dfcd3(0x215)];}}[a88_0x38c706(0x21e)]=(_0x102aef,_0x3cd5bf)=>{const _0x194382=a88_0x38c706,_0x1d865d={};_0x1d865d[_0x194382(0x1d6)]=function(_0x5c0235,_0x216787){return _0x5c0235===_0x216787;},_0x1d865d['IowgD']=function(_0x200e85,_0x332abd){return _0x200e85>_0x332abd;};const _0xb93c96=_0x1d865d;if(!(_0x3cd5bf[_0x194382(0x1ff)]&&_0xb93c96[_0x194382(0x1f7)](_0x3cd5bf['astNodeIds']['length'],0x1)))return;const _0x54ebf1=_0x3cd5bf[_0x194382(0x1ff)][0x0],_0x3a3590=_0x3cd5bf['astNodeIds'][0x1],_0x337ea9=_0x102aef[_0x194382(0x23e)]&&_0x102aef[_0x194382(0x23e)][_0x194382(0x232)]?_0x102aef[_0x194382(0x23e)][_0x194382(0x232)]:undefined;let _0x34fece=[];_0x337ea9&&_0x337ea9[_0x194382(0x237)](_0xf010ae=>{const _0x1e34ce=_0x194382,_0xba1b0b={'YnfSh':function(_0x2ef317,_0x2cb3b6){const _0x3069e5=a88_0x2321;return _0xb93c96[_0x3069e5(0x1d6)](_0x2ef317,_0x2cb3b6);}};if(_0xf010ae[_0x1e34ce(0x211)])_0xf010ae[_0x1e34ce(0x211)][_0x1e34ce(0x232)][_0x1e34ce(0x237)](_0x189503=>{const _0x290ce2=_0x1e34ce;if(_0x189503['scenario']&&_0xba1b0b[_0x290ce2(0x25f)](_0x189503[_0x290ce2(0x24d)]['id'],_0x54ebf1)&&_0x189503['scenario'][_0x290ce2(0x1ea)]){const _0x27a101=_0x189503[_0x290ce2(0x24d)][_0x290ce2(0x1ea)][_0x290ce2(0x24a)](_0x32bb67=>_0x32bb67[_0x290ce2(0x1eb)])[_0x290ce2(0x260)](_0x8b2c9f=>_0x8b2c9f['id']===_0x3a3590);let _0x7662f4;_0x27a101&&_0x27a101[_0x290ce2(0x1e5)]?_0x7662f4=_0x27a101[_0x290ce2(0x1e5)][_0x290ce2(0x241)](_0x5b3b0b=>_0x5b3b0b['value']):_0x7662f4=[],_0x7662f4&&(_0x34fece=_0x7662f4);}});else{if(_0xf010ae[_0x1e34ce(0x24d)]&&_0xb93c96[_0x1e34ce(0x1d6)](_0xf010ae['scenario']['id'],_0x54ebf1)&&_0xf010ae[_0x1e34ce(0x24d)][_0x1e34ce(0x1ea)]){const _0x33c45e=_0xf010ae[_0x1e34ce(0x24d)][_0x1e34ce(0x1ea)][_0x1e34ce(0x24a)](_0x500c72=>_0x500c72[_0x1e34ce(0x1eb)])['find'](_0x1b52dd=>_0x1b52dd['id']===_0x3a3590);let _0x311cf5;_0x33c45e&&_0x33c45e[_0x1e34ce(0x1e5)]?_0x311cf5=_0x33c45e[_0x1e34ce(0x1e5)][_0x1e34ce(0x241)](_0x2612e8=>_0x2612e8[_0x1e34ce(0x256)]):_0x311cf5=[],_0x311cf5&&(_0x34fece=_0x311cf5);}}});if(_0x34fece[_0x194382(0x227)])return _0x34fece;return;};async[a88_0x38c706(0x1ee)](){const _0x5541ac=a88_0x38c706,_0x4c32fd={'hKKsg':function(_0x2a9607){return _0x2a9607();}};if(this[_0x5541ac(0x259)])return this[_0x5541ac(0x240)];const _0xcb5f4b=await _0x4c32fd['hKKsg'](getGitMetaData);_0xcb5f4b&&(this[_0x5541ac(0x240)]=_0xcb5f4b[_0x5541ac(0x1e0)]),this[_0x5541ac(0x259)]=!![];}}module[a88_0x38c706(0x1f5)]=o11yClassErrorHandler(CucumberUtils,[a88_0x38c706(0x1ee),'getScenarioExamples',a88_0x38c706(0x225),a88_0x38c706(0x1de),'sendHook',a88_0x38c706(0x21c),'sendTestRunEventForCucumber',a88_0x38c706(0x1f8)]);