const a90_0x31c157=a90_0x556f;(function(_0xb6f0e3,_0x13c6ab){const _0x246c57=a90_0x556f,_0x3d439b=_0xb6f0e3();while(!![]){try{const _0x49b02a=parseInt(_0x246c57(0x1c3))/0x1*(-parseInt(_0x246c57(0x1d5))/0x2)+parseInt(_0x246c57(0x1db))/0x3+parseInt(_0x246c57(0x1d6))/0x4*(-parseInt(_0x246c57(0x1aa))/0x5)+parseInt(_0x246c57(0x1c1))/0x6+-parseInt(_0x246c57(0x1ec))/0x7+parseInt(_0x246c57(0x20e))/0x8+-parseInt(_0x246c57(0x1e9))/0x9*(parseInt(_0x246c57(0x1c2))/0xa);if(_0x49b02a===_0x13c6ab)break;else _0x3d439b['push'](_0x3d439b['shift']());}catch(_0x5a5482){_0x3d439b['push'](_0x3d439b['shift']());}}}(a90_0x34e7,0x2f150));function a90_0x34e7(){const _0x5653cd=['name','HookRunStarted','dnCoX','UnhandledError','ejeey','browserstack-node-agent/src/bin/cucumber-js/test.setup.js','sendHook','SFgfb','SKIPPED','bstack','XfVCM','toISOString','HWZNY','debug','FAILED','NnEQZ','ogQOX','bTVtE','failed','configureGit','2063316TUqAef','90rJsTJo','18007OvcNoD','failure_type','failureType','testStepResult','passed','cucumber','sourceReference','AVtCx','timestamp','children','qZBmQ','toString','tableBody','mqRqJ','qKGGD','cells','QPnsf','ERVOO','2ANyzYF','371764NmovAj','AxKsd','_gitConfigPath','tagExpression','Yzecw','149523hvphZc','Exception\x20in\x20createHookData:\x20','every','getCucumberHookType','value','testCaseFinished','root','result','path','exception','BqHrT','hookId','failure_data','feature','35019SZzuKe','message','exports','841260HTNGmJ','astNodeIds','_gitConfigured','format','VFseU','relative','vGyZD','jOfup','javascript','finishedAt','pickleStepId','backtrace','../../../helpers/logger.js','getHookResult','../../../helpers/helper.js','XYGmi','vTKDz','skipped','length','winstonLogger','join','push','eumiW','sendTestRunEventForCucumber','failure_reason','BEFORE_EACH','gPUkb','map','getHookRunEventData','ODWMw','DvGgR','getScenarioExamples','oEMYZ','pending','522144rUdhkX','duration_in_ms','HookRunFinished','DpIsw','createHookData','find','../../../helpers/test-observability/error-handler.js','examples','VdvWZ','AssertionError','scenario','Exception\x20in\x20getHookRunEventData:\x20','uuid','tags','YVcvg','yKfTx','tXJHG','hooks','QeJDO','BLAnE','toLowerCase','status','createTestFrameworkData','flatMap','ptSES','includes','failure','uri','strip-ansi','../TestInfo.js','nanos','testStepFinished','5JUTeSj','btpza','QADsW'];a90_0x34e7=function(){return _0x5653cd;};return a90_0x34e7();}const path=require(a90_0x31c157(0x1e3)),util=require('util'),{getGitMetaData,isUndefined,nestedKeyValue}=require(a90_0x31c157(0x1fa)),logger=require(a90_0x31c157(0x1f8))[a90_0x31c157(0x1ff)],{o11yClassErrorHandler}=require(a90_0x31c157(0x190)),TestInfo=require(a90_0x31c157(0x1a7)),hooksMap={};class CucumberUtils{constructor(){const _0x5c04ae=a90_0x31c157;this['_gitConfigured']=![],this[_0x5c04ae(0x1d8)]=null;}async[a90_0x31c157(0x1a0)](_0x309004,_0x43334a,_0xfb960c,_0x2760c8,_0xffe40e,_0x521a83){const _0x140759=a90_0x31c157,_0x34b99b={'luVeN':function(_0x2ad261,_0x3cb96e){return _0x2ad261===_0x3cb96e;},'SFgfb':_0x140759(0x1bb),'oEMYZ':_0x140759(0x1bf),'eumiW':function(_0x48bdbb,_0x446868){return _0x48bdbb===_0x446868;},'vTKDz':_0x140759(0x1b5),'BqHrT':_0x140759(0x1fd),'Yzecw':function(_0x5816da,_0x508542){return _0x5816da||_0x508542;},'ODWMw':function(_0x50b668,_0xc34ff4){return _0x50b668+_0xc34ff4;},'XYGmi':function(_0x6dff79,_0x4f727e){return _0x6dff79+_0x4f727e;},'rkWxl':function(_0xcf07ac,_0x161a72){return _0xcf07ac+_0x161a72;},'bTVtE':'test','NMYhb':_0x140759(0x1f4),'ERVOO':'cucumber','DvGgR':_0x140759(0x20d),'cADDW':_0x140759(0x1c7),'QeJDO':function(_0x3c38b2,_0x5750dd){return _0x3c38b2!==_0x5750dd;},'VdvWZ':function(_0x467b42,_0xb8f304){return _0x467b42/_0xb8f304;},'MjjZm':_0x140759(0x1a6),'gPUkb':function(_0x4e9cb5,_0x5857f3){return _0x4e9cb5(_0x5857f3);},'QPnsf':'unknown','vqFsl':_0x140759(0x193),'VGXMO':_0x140759(0x1b0)},{feature:_0x449730,scenario:_0x1e580a,steps:_0x2b02c2,uuid:_0x27d096,startedAt:_0x40789a,finishedAt:_0x1ef9a4}=_0x34b99b[_0x140759(0x1da)](_0x309004,{}),_0x29924d=this[_0x140759(0x20b)](_0x2760c8,_0x43334a);await this[_0x140759(0x1c0)]();const _0x1adbee=_0x29924d?_0x34b99b[_0x140759(0x209)](_0x34b99b[_0x140759(0x1fb)](_0x34b99b['rkWxl'](_0x43334a['name'],'\x20('),_0x29924d[_0x140759(0x200)](',\x20')),')'):_0x43334a[_0x140759(0x1ad)],_0x7fd7b1={'id':_0xffe40e,'uuid':_0xffe40e,'startedAt':_0x40789a,'finishedAt':_0x1ef9a4,'type':_0x34b99b[_0x140759(0x1be)],'body':{'lang':_0x34b99b['NMYhb'],'code':null},'name':_0x1adbee,'scopes':[_0x449730&&_0x449730[_0x140759(0x1ad)]?_0x449730['name']:''],'tags':_0x43334a[_0x140759(0x197)]?_0x43334a[_0x140759(0x197)][_0x140759(0x207)](({name:_0x42140e})=>_0x42140e):[],'file_name':_0x43334a[_0x140759(0x1a5)],'location':_0x43334a[_0x140759(0x1a5)],'vc_filepath':this[_0x140759(0x1d8)]&&_0x43334a[_0x140759(0x1a5)]?path[_0x140759(0x1f1)](this[_0x140759(0x1d8)],_0x43334a['uri']):null,'framework':_0x34b99b[_0x140759(0x1d4)],'result':_0x34b99b[_0x140759(0x20a)],'meta':{'feature':_0x449730,'scenario':_0x1e580a,'steps':_0x2b02c2,'examples':_0x29924d},'customRerunParam':{'rerun_name':_0x1adbee}};if(_0xfb960c['testCaseFinished']&&_0x2b02c2){const _0x22c962=_0xfb960c[_0x140759(0x1e0)];let _0x78602b=_0x34b99b['cADDW'];_0x2b02c2[_0x140759(0x1dd)](_0x374654=>{const _0x3a2e33=_0x140759;if(_0x34b99b['luVeN'](_0x374654[_0x3a2e33(0x1e2)],_0x34b99b[_0x3a2e33(0x1b4)]))return _0x78602b=_0x34b99b[_0x3a2e33(0x20c)],_0x22c962[_0x3a2e33(0x1a4)]=_0x374654[_0x3a2e33(0x1a4)],_0x22c962[_0x3a2e33(0x1c5)]=_0x374654[_0x3a2e33(0x1c5)],![];else{if(_0x34b99b['eumiW'](_0x374654['result'],_0x34b99b[_0x3a2e33(0x1fc)]))return _0x78602b=_0x34b99b[_0x3a2e33(0x1e5)],![];}return!![];}),_0x7fd7b1[_0x140759(0x1f5)]=new Date()[_0x140759(0x1b8)](),_0x7fd7b1[_0x140759(0x1e2)]=_0x78602b;_0x22c962[_0x140759(0x1cb)]&&_0x34b99b[_0x140759(0x19c)](_0x22c962[_0x140759(0x1cb)][_0x140759(0x1a8)],undefined)?_0x7fd7b1[_0x140759(0x20f)]=_0x34b99b[_0x140759(0x192)](_0x22c962[_0x140759(0x1cb)]['nanos'],0xf4240):_0x7fd7b1[_0x140759(0x20f)]=undefined;if(_0x34b99b[_0x140759(0x202)](_0x78602b,_0x34b99b[_0x140759(0x20c)])){const {default:_0x440b2b}=await import(_0x34b99b['MjjZm']);_0x7fd7b1[_0x140759(0x1a4)]=[{'backtrace':[_0x22c962[_0x140759(0x1a4)]?_0x34b99b['gPUkb'](_0x440b2b,_0x22c962[_0x140759(0x1a4)]):_0x34b99b[_0x140759(0x1d3)]]}],_0x7fd7b1[_0x140759(0x204)]=_0x22c962[_0x140759(0x1a4)]?_0x34b99b[_0x140759(0x206)](_0x440b2b,_0x22c962['failure']):_0x22c962[_0x140759(0x1ea)],_0x22c962['failureType']&&(_0x7fd7b1['failure_type']=_0x22c962[_0x140759(0x1c5)]['match'](/AssertError/)?_0x34b99b['vqFsl']:_0x34b99b['VGXMO']);}}return _0x7fd7b1;}[a90_0x31c157(0x208)](_0x4e0b4b,_0x4135fe,_0x45b5e6,_0xa89197,_0x570a4e,_0x25712d){const _0x3516fe=a90_0x31c157,_0x526339={'AxKsd':function(_0x2ff340,_0x2fa2bf){return _0x2ff340===_0x2fa2bf;},'VFseU':_0x3516fe(0x210),'QADsW':function(_0x1075b0,_0x3e08c4,_0x9fd4a3){return _0x1075b0(_0x3e08c4,_0x9fd4a3);},'ejeey':_0x3516fe(0x1c9),'VDxTk':_0x3516fe(0x1a5),'AVtCx':'pending','HWZNY':'hook','NuleS':'javascript','XfVCM':function(_0x4e1504,_0x11eb07,_0x25e895){return _0x4e1504(_0x11eb07,_0x25e895);},'qKGGD':'feature','dnCoX':_0x3516fe(0x1ad),'jOfup':_0x3516fe(0x1c8)};try{if(_0x526339[_0x3516fe(0x1d7)](_0x45b5e6,_0x526339[_0x3516fe(0x1f0)])){const _0x392de2=new Date()['toISOString'](),_0x222549=hooksMap[_0x4135fe];if(!_0x222549)return;const _0x25002d=_0x222549[_0x3516fe(0x18f)](_0x1760a4=>_0x1760a4[_0x3516fe(0x196)]===_0xa89197['id']);if(!_0x25002d)return;const _0x36e3ec=this['getHookResult'](_0x4e0b4b,_0x4135fe);_0x25002d[_0x3516fe(0x1e2)]=_0x36e3ec[_0x3516fe(0x19f)],_0x25002d['finished_at']=_0x392de2,_0x25002d[_0x3516fe(0x1c4)]=_0x36e3ec[_0x3516fe(0x1c5)];const _0xd319a9={};return _0xd319a9[_0x3516fe(0x1f7)]=_0x36e3ec['failureData'],_0x25002d[_0x3516fe(0x1e7)]=[_0xd319a9],_0x25002d;}const _0x3d8dd5=TestInfo['getTestUUID'](_0x4135fe),_0x59adfb=_0x4e0b4b[_0x3516fe(0x19b)][_0x3516fe(0x18f)](_0x4b2091=>_0x4b2091['id']===_0xa89197[_0x3516fe(0x1e6)]),_0x59b27e=_0x526339[_0x3516fe(0x1ac)](nestedKeyValue,_0x59adfb,[_0x526339[_0x3516fe(0x1b1)],_0x526339['VDxTk']]),_0x450b8c=new Date()[_0x3516fe(0x1b8)](),_0x2c447d=_0x526339[_0x3516fe(0x1ca)],_0x11be38=_0x59adfb['tagExpression']?_0x59adfb[_0x3516fe(0x1d9)]['split']('\x20')['filter'](_0x2e8a07=>_0x2e8a07[_0x3516fe(0x1a3)]('@')):[],_0x357141={'uuid':_0xa89197['id'],'type':_0x526339[_0x3516fe(0x1b9)],'hook_type':_0x25712d,'name':_0x59adfb[_0x3516fe(0x1ad)],'body':{'lang':_0x526339['NuleS'],'code':null},'tags':_0x11be38,'test_run_id':_0x3d8dd5,'scope':_0x526339['XfVCM'](nestedKeyValue,_0x570a4e,[_0x526339['qKGGD'],_0x526339[_0x3516fe(0x1af)]]),'scopes':[_0x526339[_0x3516fe(0x1b7)](nestedKeyValue,_0x570a4e,[_0x526339[_0x3516fe(0x1d1)],_0x526339[_0x3516fe(0x1af)]])||''],'file_name':_0x59b27e,'location':_0x59b27e,'vc_filepath':this['_gitConfigPath']?path[_0x3516fe(0x1f1)](this['_gitConfigPath'],_0x59b27e):null,'result':_0x2c447d,'started_at':_0x450b8c,'framework':_0x526339[_0x3516fe(0x1f3)]};return _0x357141;}catch(_0x4b2203){logger[_0x3516fe(0x1ba)](_0x3516fe(0x195)+util['format'](_0x4b2203)+'\x20');}}async[a90_0x31c157(0x18e)](_0x503fc8,_0x4bbdbe,_0x29c6cf,_0x3b5bfe,_0x55524b,_0x2e4d88){const _0x4aec5b=a90_0x31c157,_0x16a867={'MVRyQ':function(_0x230751,_0x3efc6e){return _0x230751===_0x3efc6e;},'zMUwQ':_0x4aec5b(0x1ae),'JKnMG':function(_0x4ab149,_0x26ab8c,_0x28cdcb){return _0x4ab149(_0x26ab8c,_0x28cdcb);},'mwYRk':_0x4aec5b(0x1c9),'ogQOX':_0x4aec5b(0x1a5),'RDVeu':_0x4aec5b(0x1b2),'BLAnE':function(_0x18cf6e,_0x251d8a){return _0x18cf6e===_0x251d8a;},'zGiIT':_0x4aec5b(0x1b6)};try{const _0x3fc262=_0x3b5bfe[_0x4aec5b(0x18f)](_0x31fe97=>_0x31fe97['id']===_0x55524b);if(!_0x3fc262[_0x4aec5b(0x1e6)])return;const _0x34ddfd=this[_0x4aec5b(0x1de)](_0x3b5bfe,_0x3fc262),_0x3594fd=this[_0x4aec5b(0x208)](_0x503fc8,_0x4bbdbe,_0x29c6cf,_0x3fc262,_0x2e4d88,_0x34ddfd);if(!_0x3594fd)return;_0x16a867['MVRyQ'](_0x29c6cf,_0x16a867['zMUwQ'])&&(hooksMap[_0x4bbdbe]?hooksMap[_0x4bbdbe][_0x4aec5b(0x201)](_0x3594fd):hooksMap[_0x4bbdbe]=[_0x3594fd]);const _0x136dd8=_0x503fc8[_0x4aec5b(0x19b)]['find'](_0x2980b9=>_0x2980b9['id']===_0x3fc262[_0x4aec5b(0x1e6)]),_0x1d1cc1=_0x16a867['JKnMG'](nestedKeyValue,_0x136dd8,[_0x16a867['mwYRk'],_0x16a867[_0x4aec5b(0x1bd)]]);if(!_0x1d1cc1)return;else{if(_0x1d1cc1['includes'](_0x16a867['RDVeu']))return;}if(_0x16a867[_0x4aec5b(0x19d)](_0x3594fd[_0x4aec5b(0x1ad)],_0x16a867['zGiIT']))return;return _0x3594fd;}catch(_0x3dc15f){logger[_0x4aec5b(0x1ba)](_0x4aec5b(0x1dc)+util[_0x4aec5b(0x1ef)](_0x3dc15f)+'\x20');}}['getHookResult'](_0x19a4fe,_0x17e334){const _0x15e2d3=a90_0x31c157,_0x4bfe5d={};_0x4bfe5d[_0x15e2d3(0x1a2)]=function(_0x4c305b,_0x5670d3){return _0x4c305b===_0x5670d3;},_0x4bfe5d[_0x15e2d3(0x211)]=_0x15e2d3(0x1bf),_0x4bfe5d[_0x15e2d3(0x1cd)]=_0x15e2d3(0x1b0),_0x4bfe5d[_0x15e2d3(0x199)]='AssertionError',_0x4bfe5d['JPlgS']=function(_0x1a4565,_0x29fc81){return _0x1a4565||_0x29fc81;};const _0x5724be=_0x4bfe5d,_0x3b3fb6=_0x19a4fe[_0x15e2d3(0x1a9)][_0x17e334][_0x15e2d3(0x1c6)];let _0x59e182,_0x4e3a70;return _0x3b3fb6&&_0x5724be[_0x15e2d3(0x1a2)](_0x3b3fb6[_0x15e2d3(0x19f)][_0x15e2d3(0x1ce)]()['toLowerCase'](),_0x5724be['DpIsw'])&&(_0x59e182=_0x5724be['ptSES'](_0x3b3fb6[_0x15e2d3(0x1e4)],undefined)?_0x3b3fb6[_0x15e2d3(0x1ea)]:_0x3b3fb6['exception'][_0x15e2d3(0x1ea)],_0x4e3a70=_0x5724be[_0x15e2d3(0x1a2)](_0x3b3fb6[_0x15e2d3(0x1e4)],undefined)?_0x5724be[_0x15e2d3(0x1cd)]:_0x3b3fb6['message']['match'](/Assert/)?_0x5724be[_0x15e2d3(0x199)]:_0x5724be[_0x15e2d3(0x1cd)]),{'status':_0x3b3fb6['status'][_0x15e2d3(0x19e)](),'failureType':_0x5724be['JPlgS'](_0x4e3a70,null),'failureData':!_0x59e182?null:[_0x59e182]};}[a90_0x31c157(0x1de)](_0x3d71fb,_0x4c884b){const _0x4632c6=a90_0x31c157,_0x5b74de={};_0x5b74de[_0x4632c6(0x198)]=function(_0xe2abba,_0x3a8d9b){return _0xe2abba===_0x3a8d9b;},_0x5b74de[_0x4632c6(0x1d0)]='AFTER_EACH',_0x5b74de[_0x4632c6(0x1bc)]=_0x4632c6(0x205);const _0x2e809b=_0x5b74de;let _0x45813f=![];for(const _0x4e3bab of _0x3d71fb){_0x4e3bab[_0x4632c6(0x1f6)]&&(_0x45813f=!![]);if(_0x2e809b[_0x4632c6(0x198)](_0x4c884b['id'],_0x4e3bab['id']))return _0x45813f?_0x2e809b[_0x4632c6(0x1d0)]:_0x2e809b[_0x4632c6(0x1bc)];}}[a90_0x31c157(0x20b)]=(_0x161c99,_0x47948d)=>{const _0x159e05=a90_0x31c157,_0x37ceb6={};_0x37ceb6[_0x159e05(0x19a)]=function(_0x9e48bf,_0xd24769){return _0x9e48bf===_0xd24769;},_0x37ceb6[_0x159e05(0x1f2)]=function(_0x15d76d,_0x55ac50){return _0x15d76d>_0x55ac50;};const _0x4747c8=_0x37ceb6;if(!(_0x47948d['astNodeIds']&&_0x4747c8[_0x159e05(0x1f2)](_0x47948d[_0x159e05(0x1ed)][_0x159e05(0x1fe)],0x1)))return;const _0x237ace=_0x47948d[_0x159e05(0x1ed)][0x0],_0x4f2d9e=_0x47948d['astNodeIds'][0x1],_0x285d5f=_0x161c99[_0x159e05(0x1e8)]&&_0x161c99[_0x159e05(0x1e8)][_0x159e05(0x1cc)]?_0x161c99[_0x159e05(0x1e8)][_0x159e05(0x1cc)]:undefined;let _0x5c1bc2=[];_0x285d5f&&_0x285d5f['forEach'](_0x27b734=>{const _0x5add1c=_0x159e05;if(_0x27b734['rule'])_0x27b734['rule'][_0x5add1c(0x1cc)]['forEach'](_0x17093c=>{const _0x1469bf=_0x5add1c;if(_0x17093c['scenario']&&_0x4747c8[_0x1469bf(0x19a)](_0x17093c[_0x1469bf(0x194)]['id'],_0x237ace)&&_0x17093c[_0x1469bf(0x194)]['examples']){const _0x343bbd=_0x17093c[_0x1469bf(0x194)][_0x1469bf(0x191)][_0x1469bf(0x1a1)](_0x3da7e8=>_0x3da7e8[_0x1469bf(0x1cf)])[_0x1469bf(0x18f)](_0x33a01c=>_0x33a01c['id']===_0x4f2d9e);let _0x373d7a;_0x343bbd&&_0x343bbd[_0x1469bf(0x1d2)]?_0x373d7a=_0x343bbd[_0x1469bf(0x1d2)][_0x1469bf(0x207)](_0xdb8d58=>_0xdb8d58[_0x1469bf(0x1df)]):_0x373d7a=[],_0x373d7a&&(_0x5c1bc2=_0x373d7a);}});else{if(_0x27b734[_0x5add1c(0x194)]&&_0x4747c8[_0x5add1c(0x19a)](_0x27b734[_0x5add1c(0x194)]['id'],_0x237ace)&&_0x27b734[_0x5add1c(0x194)][_0x5add1c(0x191)]){const _0x30765f=_0x27b734[_0x5add1c(0x194)][_0x5add1c(0x191)][_0x5add1c(0x1a1)](_0x151b70=>_0x151b70[_0x5add1c(0x1cf)])[_0x5add1c(0x18f)](_0x41d0a4=>_0x41d0a4['id']===_0x4f2d9e);let _0x4effb0;_0x30765f&&_0x30765f['cells']?_0x4effb0=_0x30765f[_0x5add1c(0x1d2)][_0x5add1c(0x207)](_0x20a908=>_0x20a908[_0x5add1c(0x1df)]):_0x4effb0=[],_0x4effb0&&(_0x5c1bc2=_0x4effb0);}}});if(_0x5c1bc2[_0x159e05(0x1fe)])return _0x5c1bc2;return;};async[a90_0x31c157(0x1c0)](){const _0x28faf2=a90_0x31c157,_0x5d18c6={'btpza':function(_0x50678e){return _0x50678e();}};if(this[_0x28faf2(0x1ee)])return this[_0x28faf2(0x1d8)];const _0x158c9f=await _0x5d18c6[_0x28faf2(0x1ab)](getGitMetaData);_0x158c9f&&(this[_0x28faf2(0x1d8)]=_0x158c9f[_0x28faf2(0x1e1)]),this[_0x28faf2(0x1ee)]=!![];}}function a90_0x556f(_0x21b344,_0x4a7a4b){const _0x34e7c6=a90_0x34e7();return a90_0x556f=function(_0x556f6c,_0x4ccc7b){_0x556f6c=_0x556f6c-0x18e;let _0x493ff9=_0x34e7c6[_0x556f6c];return _0x493ff9;},a90_0x556f(_0x21b344,_0x4a7a4b);}module[a90_0x31c157(0x1eb)]=o11yClassErrorHandler(CucumberUtils,[a90_0x31c157(0x1c0),a90_0x31c157(0x20b),'getCucumberHookType',a90_0x31c157(0x1f9),a90_0x31c157(0x1b3),a90_0x31c157(0x208),a90_0x31c157(0x203),a90_0x31c157(0x1a0)]);