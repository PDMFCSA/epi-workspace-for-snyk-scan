const a90_0x52fa9a=a90_0x5b21;(function(_0x275932,_0x204b56){const _0x11f00a=a90_0x5b21,_0x198cbe=_0x275932();while(!![]){try{const _0xdff87=-parseInt(_0x11f00a(0x102))/0x1*(parseInt(_0x11f00a(0x16d))/0x2)+-parseInt(_0x11f00a(0x128))/0x3+-parseInt(_0x11f00a(0xfb))/0x4+parseInt(_0x11f00a(0x14a))/0x5*(parseInt(_0x11f00a(0x15c))/0x6)+parseInt(_0x11f00a(0x135))/0x7*(parseInt(_0x11f00a(0x108))/0x8)+parseInt(_0x11f00a(0x163))/0x9*(parseInt(_0x11f00a(0x116))/0xa)+parseInt(_0x11f00a(0x14f))/0xb;if(_0xdff87===_0x204b56)break;else _0x198cbe['push'](_0x198cbe['shift']());}catch(_0x4e5146){_0x198cbe['push'](_0x198cbe['shift']());}}}(a90_0x30d3,0x57b01));function a90_0x5b21(_0x5437d7,_0x3474f7){const _0x30d319=a90_0x30d3();return a90_0x5b21=function(_0x5b2192,_0x5b4b0e){_0x5b2192=_0x5b2192-0xf8;let _0x32568c=_0x30d319[_0x5b2192];return _0x32568c;},a90_0x5b21(_0x5437d7,_0x3474f7);}const path=require(a90_0x52fa9a(0x132)),util=require(a90_0x52fa9a(0x107)),{getGitMetaData,isUndefined,nestedKeyValue}=require(a90_0x52fa9a(0x15d)),logger=require(a90_0x52fa9a(0x169))['winstonLogger'],{o11yClassErrorHandler}=require('../../../helpers/test-observability/error-handler.js'),TestInfo=require(a90_0x52fa9a(0x165)),hooksMap={};class CucumberUtils{constructor(){const _0x26ce86=a90_0x52fa9a;this[_0x26ce86(0x15a)]=![],this[_0x26ce86(0x16b)]=null;}async[a90_0x52fa9a(0x11d)](_0x480fb3,_0x531770,_0x44e641,_0x4e00ed,_0x2dbba3,_0x51a044){const _0x4e1519=a90_0x52fa9a,_0x4589ae={'IqaqF':function(_0xe8571,_0x1c98e2){return _0xe8571===_0x1c98e2;},'rSLEI':_0x4e1519(0x126),'tHYIi':_0x4e1519(0x17a),'UwWmf':function(_0x4d268f,_0x54ada8){return _0x4d268f===_0x54ada8;},'HQtdB':_0x4e1519(0x12c),'TBrDm':_0x4e1519(0x129),'GjJHD':function(_0x178f97,_0x20480e){return _0x178f97||_0x20480e;},'uLSAy':function(_0x5d6863,_0x37e764){return _0x5d6863+_0x37e764;},'BqPUG':function(_0x39a346,_0x3e0070){return _0x39a346+_0x3e0070;},'WiLVm':_0x4e1519(0x160),'TMtob':_0x4e1519(0x12a),'oJzhL':_0x4e1519(0x130),'cGNCx':'pending','LlJou':_0x4e1519(0xfe),'vtjqn':function(_0x50b183,_0x30f126){return _0x50b183!==_0x30f126;},'hRVsK':function(_0x4503c4,_0x1c91b4){return _0x4503c4/_0x1c91b4;},'XYLSA':'strip-ansi','ZGkEr':function(_0x347145,_0x37cdc7){return _0x347145(_0x37cdc7);},'snrTN':_0x4e1519(0x188),'NdXAy':'AssertionError','JXLyA':_0x4e1519(0x159)},{feature:_0x99b4b7,scenario:_0x51c647,steps:_0x587f99,uuid:_0x678a86,startedAt:_0x1002de,finishedAt:_0x1eb1ab}=_0x4589ae[_0x4e1519(0x15e)](_0x480fb3,{}),_0x27657f=this['getScenarioExamples'](_0x4e00ed,_0x531770);await this[_0x4e1519(0x138)]();const _0x22e2e3=_0x27657f?_0x4589ae[_0x4e1519(0x146)](_0x4589ae[_0x4e1519(0x146)](_0x4589ae[_0x4e1519(0x141)](_0x531770[_0x4e1519(0x120)],'\x20('),_0x27657f[_0x4e1519(0x114)](',\x20')),')'):_0x531770[_0x4e1519(0x120)],_0x130dc0={'id':_0x2dbba3,'uuid':_0x2dbba3,'startedAt':_0x1002de,'finishedAt':_0x1eb1ab,'type':_0x4589ae[_0x4e1519(0x100)],'body':{'lang':_0x4589ae['TMtob'],'code':null},'name':_0x22e2e3,'scopes':[_0x99b4b7&&_0x99b4b7[_0x4e1519(0x120)]?_0x99b4b7[_0x4e1519(0x120)]:''],'tags':_0x531770[_0x4e1519(0x17b)]?_0x531770[_0x4e1519(0x17b)]['map'](({name:_0x2fe6df})=>_0x2fe6df):[],'file_name':_0x531770[_0x4e1519(0x125)],'location':_0x531770[_0x4e1519(0x125)],'vc_filepath':this['_gitConfigPath']&&_0x531770['uri']?path['relative'](this[_0x4e1519(0x16b)],_0x531770[_0x4e1519(0x125)]):null,'framework':_0x4589ae[_0x4e1519(0x10e)],'result':_0x4589ae[_0x4e1519(0x142)],'meta':{'feature':_0x99b4b7,'scenario':_0x51c647,'steps':_0x587f99,'examples':_0x27657f},'customRerunParam':{'rerun_name':_0x22e2e3}};if(_0x44e641[_0x4e1519(0x184)]&&_0x587f99){const _0x2b5e64=_0x44e641[_0x4e1519(0x184)];let _0x5263c0=_0x4589ae[_0x4e1519(0x134)];_0x587f99[_0x4e1519(0x143)](_0xada951=>{const _0x74ec7f=_0x4e1519;if(_0x4589ae['IqaqF'](_0xada951[_0x74ec7f(0x115)],_0x4589ae[_0x74ec7f(0x15f)]))return _0x5263c0=_0x4589ae[_0x74ec7f(0x123)],_0x2b5e64[_0x74ec7f(0x158)]=_0xada951[_0x74ec7f(0x158)],_0x2b5e64['failureType']=_0xada951[_0x74ec7f(0x156)],![];else{if(_0x4589ae[_0x74ec7f(0x101)](_0xada951[_0x74ec7f(0x115)],_0x4589ae['HQtdB']))return _0x5263c0=_0x4589ae[_0x74ec7f(0x111)],![];}return!![];}),_0x130dc0[_0x4e1519(0x137)]=new Date()['toISOString'](),_0x130dc0[_0x4e1519(0x115)]=_0x5263c0;_0x2b5e64['timestamp']&&_0x4589ae[_0x4e1519(0x113)](_0x2b5e64['timestamp'][_0x4e1519(0x13e)],undefined)?_0x130dc0['duration_in_ms']=_0x4589ae[_0x4e1519(0x139)](_0x2b5e64[_0x4e1519(0x186)][_0x4e1519(0x13e)],0xf4240):_0x130dc0['duration_in_ms']=undefined;if(_0x4589ae[_0x4e1519(0x101)](_0x5263c0,_0x4589ae[_0x4e1519(0x123)])){const {default:_0x589df4}=await import(_0x4589ae[_0x4e1519(0x155)]);_0x130dc0[_0x4e1519(0x158)]=[{'backtrace':[_0x2b5e64['failure']?_0x4589ae[_0x4e1519(0x11e)](_0x589df4,_0x2b5e64[_0x4e1519(0x158)]):_0x4589ae['snrTN']]}],_0x130dc0[_0x4e1519(0x11c)]=_0x2b5e64[_0x4e1519(0x158)]?_0x4589ae[_0x4e1519(0x11e)](_0x589df4,_0x2b5e64[_0x4e1519(0x158)]):_0x2b5e64['message'],_0x2b5e64[_0x4e1519(0x156)]&&(_0x130dc0['failure_type']=_0x2b5e64[_0x4e1519(0x156)]['match'](/AssertError/)?_0x4589ae[_0x4e1519(0xf9)]:_0x4589ae['JXLyA']);}}return _0x130dc0;}[a90_0x52fa9a(0x13f)](_0x43f11a,_0x5240a6,_0x211c06,_0x53e566,_0x11c3b7,_0x43fc90){const _0x5cdf97=a90_0x52fa9a,_0x17ebea={'CvXlG':function(_0x1621c5,_0x5dce6c){return _0x1621c5===_0x5dce6c;},'icUXN':'HookRunFinished','bSObf':function(_0x46a46b,_0x52166e,_0x47f39b){return _0x46a46b(_0x52166e,_0x47f39b);},'xwOpm':_0x5cdf97(0x110),'PisQR':_0x5cdf97(0x125),'KKgsj':_0x5cdf97(0x122),'dJnXc':_0x5cdf97(0x149),'IwLIe':'javascript','MgkAc':'feature','qxmRG':_0x5cdf97(0x120),'TtAzy':_0x5cdf97(0x130)};try{if(_0x17ebea[_0x5cdf97(0x154)](_0x211c06,_0x17ebea[_0x5cdf97(0x162)])){const _0x193a01=new Date()[_0x5cdf97(0x183)](),_0x784880=hooksMap[_0x5240a6];if(!_0x784880)return;const _0x5706be=_0x784880['find'](_0x3d2a4f=>_0x3d2a4f['uuid']===_0x53e566['id']);if(!_0x5706be)return;const _0x109839=this[_0x5cdf97(0x117)](_0x43f11a,_0x5240a6);_0x5706be['result']=_0x109839['status'],_0x5706be[_0x5cdf97(0x10f)]=_0x193a01,_0x5706be[_0x5cdf97(0x175)]=_0x109839['failureType'];const _0x3500e={};return _0x3500e[_0x5cdf97(0xff)]=_0x109839['failureData'],_0x5706be[_0x5cdf97(0x145)]=[_0x3500e],_0x5706be;}const _0x31cf2e=TestInfo[_0x5cdf97(0x150)](_0x5240a6),_0x2fefe1=_0x43f11a[_0x5cdf97(0x118)][_0x5cdf97(0x187)](_0x177f17=>_0x177f17['id']===_0x53e566[_0x5cdf97(0xfa)]),_0x383313=_0x17ebea[_0x5cdf97(0x178)](nestedKeyValue,_0x2fefe1,[_0x17ebea['xwOpm'],_0x17ebea[_0x5cdf97(0x106)]]),_0x2a3959=new Date()['toISOString'](),_0x558110=_0x17ebea['KKgsj'],_0x49cf2d=_0x2fefe1[_0x5cdf97(0x172)]?_0x2fefe1['tagExpression']['split']('\x20')[_0x5cdf97(0x16c)](_0x101ea1=>_0x101ea1['includes']('@')):[],_0xa059e6={'uuid':_0x53e566['id'],'type':_0x17ebea[_0x5cdf97(0x157)],'hook_type':_0x43fc90,'name':_0x2fefe1[_0x5cdf97(0x120)],'body':{'lang':_0x17ebea[_0x5cdf97(0x17f)],'code':null},'tags':_0x49cf2d,'test_run_id':_0x31cf2e,'scope':_0x17ebea[_0x5cdf97(0x178)](nestedKeyValue,_0x11c3b7,[_0x17ebea[_0x5cdf97(0x109)],_0x17ebea[_0x5cdf97(0x12f)]]),'scopes':[_0x17ebea['bSObf'](nestedKeyValue,_0x11c3b7,[_0x17ebea['MgkAc'],_0x17ebea[_0x5cdf97(0x12f)]])||''],'file_name':_0x383313,'location':_0x383313,'vc_filepath':this[_0x5cdf97(0x16b)]?path['relative'](this[_0x5cdf97(0x16b)],_0x383313):null,'result':_0x558110,'started_at':_0x2a3959,'framework':_0x17ebea[_0x5cdf97(0x12b)]};return _0xa059e6;}catch(_0x38a9f4){logger[_0x5cdf97(0x16e)](_0x5cdf97(0x147)+util[_0x5cdf97(0x112)](_0x38a9f4)+'\x20');}}async[a90_0x52fa9a(0x17d)](_0x28a10f,_0x217af0,_0xce6ac9,_0xade7f6,_0x128dff,_0xba8eb8){const _0x2884c8=a90_0x52fa9a,_0x25d2b1={'VvZhm':function(_0x4fb668,_0x4ee36c){return _0x4fb668===_0x4ee36c;},'mzUSa':_0x2884c8(0x170),'hFXme':function(_0x54f937,_0x10bcfd,_0x3496c1){return _0x54f937(_0x10bcfd,_0x3496c1);},'yfnMs':_0x2884c8(0x110),'erXda':_0x2884c8(0x125),'MkJsX':_0x2884c8(0x173),'NvPht':function(_0x51e959,_0x1ac36d){return _0x51e959===_0x1ac36d;},'WJYOm':_0x2884c8(0x182)};try{const _0x241d14=_0xade7f6[_0x2884c8(0x187)](_0x187ada=>_0x187ada['id']===_0x128dff);if(!_0x241d14['hookId'])return;const _0x26038b=this[_0x2884c8(0xf8)](_0xade7f6,_0x241d14),_0x522a77=this[_0x2884c8(0x13f)](_0x28a10f,_0x217af0,_0xce6ac9,_0x241d14,_0xba8eb8,_0x26038b);if(!_0x522a77)return;_0x25d2b1[_0x2884c8(0x171)](_0xce6ac9,_0x25d2b1[_0x2884c8(0x176)])&&(hooksMap[_0x217af0]?hooksMap[_0x217af0][_0x2884c8(0xfd)](_0x522a77):hooksMap[_0x217af0]=[_0x522a77]);const _0x1e18ea=_0x28a10f[_0x2884c8(0x118)][_0x2884c8(0x187)](_0x5945c3=>_0x5945c3['id']===_0x241d14['hookId']),_0x4e92c9=_0x25d2b1[_0x2884c8(0x16f)](nestedKeyValue,_0x1e18ea,[_0x25d2b1['yfnMs'],_0x25d2b1[_0x2884c8(0x17e)]]);if(!_0x4e92c9)return;else{if(_0x4e92c9['includes'](_0x25d2b1[_0x2884c8(0x164)]))return;}if(_0x25d2b1['NvPht'](_0x522a77['name'],_0x25d2b1[_0x2884c8(0x10d)]))return;return _0x522a77;}catch(_0x5c4339){logger[_0x2884c8(0x16e)](_0x2884c8(0x121)+util[_0x2884c8(0x112)](_0x5c4339)+'\x20');}}[a90_0x52fa9a(0x117)](_0x44b078,_0x4fb67e){const _0x294586=a90_0x52fa9a,_0x15c9f0={};_0x15c9f0[_0x294586(0x185)]=function(_0x4fbab6,_0x54e7bb){return _0x4fbab6===_0x54e7bb;},_0x15c9f0[_0x294586(0x140)]=_0x294586(0x17a),_0x15c9f0[_0x294586(0x11b)]=function(_0x1974a6,_0x452991){return _0x1974a6===_0x452991;},_0x15c9f0[_0x294586(0x167)]=function(_0x451dab,_0x48c892){return _0x451dab===_0x48c892;},_0x15c9f0[_0x294586(0x10b)]=_0x294586(0x159),_0x15c9f0[_0x294586(0x10a)]=_0x294586(0x11a),_0x15c9f0[_0x294586(0x12d)]=function(_0x104ec4,_0x1d4b9e){return _0x104ec4||_0x1d4b9e;};const _0x161dda=_0x15c9f0,_0x2e41b9=_0x44b078[_0x294586(0x104)][_0x4fb67e][_0x294586(0x152)];let _0x4a383a,_0x1b85d1;return _0x2e41b9&&_0x161dda[_0x294586(0x185)](_0x2e41b9[_0x294586(0x14d)][_0x294586(0x151)]()[_0x294586(0x144)](),_0x161dda['ufsbv'])&&(_0x4a383a=_0x161dda[_0x294586(0x11b)](_0x2e41b9[_0x294586(0x181)],undefined)?_0x2e41b9[_0x294586(0x148)]:_0x2e41b9[_0x294586(0x181)][_0x294586(0x148)],_0x1b85d1=_0x161dda['PPlBD'](_0x2e41b9[_0x294586(0x181)],undefined)?_0x161dda['fQjlo']:_0x2e41b9['message'][_0x294586(0x13a)](/Assert/)?_0x161dda[_0x294586(0x10a)]:_0x161dda['fQjlo']),{'status':_0x2e41b9['status'][_0x294586(0x144)](),'failureType':_0x161dda[_0x294586(0x12d)](_0x1b85d1,null),'failureData':!_0x4a383a?null:[_0x4a383a]};}[a90_0x52fa9a(0xf8)](_0x3cccf2,_0x53902e){const _0x26ce4a=a90_0x52fa9a,_0x443b7a={};_0x443b7a[_0x26ce4a(0xfc)]=function(_0x2088e5,_0x5008fc){return _0x2088e5===_0x5008fc;},_0x443b7a[_0x26ce4a(0x133)]=_0x26ce4a(0x177),_0x443b7a[_0x26ce4a(0x12e)]=_0x26ce4a(0x13b);const _0x293a9f=_0x443b7a;let _0x5e1615=![];for(const _0x1a9bce of _0x3cccf2){_0x1a9bce[_0x26ce4a(0x119)]&&(_0x5e1615=!![]);if(_0x293a9f['aFnqP'](_0x53902e['id'],_0x1a9bce['id']))return _0x5e1615?_0x293a9f[_0x26ce4a(0x133)]:_0x293a9f[_0x26ce4a(0x12e)];}}[a90_0x52fa9a(0x174)]=(_0x18f1ce,_0x273e6f)=>{const _0x389d8c=a90_0x52fa9a,_0xca3342={};_0xca3342[_0x389d8c(0x11f)]=function(_0x223ea9,_0x48766f){return _0x223ea9===_0x48766f;},_0xca3342[_0x389d8c(0x166)]=function(_0x58b331,_0x41d441){return _0x58b331===_0x41d441;},_0xca3342[_0x389d8c(0x179)]=function(_0x3f8243,_0x19b77e){return _0x3f8243>_0x19b77e;};const _0x531908=_0xca3342;if(!(_0x273e6f[_0x389d8c(0x136)]&&_0x531908['gfvbe'](_0x273e6f[_0x389d8c(0x136)][_0x389d8c(0x161)],0x1)))return;const _0x52bbfb=_0x273e6f[_0x389d8c(0x136)][0x0],_0xfe102e=_0x273e6f[_0x389d8c(0x136)][0x1],_0x4db3d5=_0x18f1ce[_0x389d8c(0x16a)]&&_0x18f1ce[_0x389d8c(0x16a)][_0x389d8c(0x10c)]?_0x18f1ce[_0x389d8c(0x16a)]['children']:undefined;let _0x2d1d35=[];_0x4db3d5&&_0x4db3d5['forEach'](_0x2b2d84=>{const _0x304615=_0x389d8c,_0x10d59c={'Fenwx':function(_0x2c9f67,_0x20d19c){return _0x531908['EyHai'](_0x2c9f67,_0x20d19c);}};if(_0x2b2d84[_0x304615(0x127)])_0x2b2d84[_0x304615(0x127)]['children'][_0x304615(0x15b)](_0x11ab33=>{const _0x12b528=_0x304615;if(_0x11ab33[_0x12b528(0x131)]&&_0x10d59c[_0x12b528(0x17c)](_0x11ab33[_0x12b528(0x131)]['id'],_0x52bbfb)&&_0x11ab33[_0x12b528(0x131)][_0x12b528(0x14b)]){const _0x4d66f5=_0x11ab33[_0x12b528(0x131)][_0x12b528(0x14b)][_0x12b528(0x105)](_0x42e115=>_0x42e115[_0x12b528(0x14c)])['find'](_0x2ecdf1=>_0x2ecdf1['id']===_0xfe102e);let _0x375f51;_0x4d66f5&&_0x4d66f5[_0x12b528(0x153)]?_0x375f51=_0x4d66f5[_0x12b528(0x153)][_0x12b528(0x180)](_0x16f4c0=>_0x16f4c0['value']):_0x375f51=[],_0x375f51&&(_0x2d1d35=_0x375f51);}});else{if(_0x2b2d84[_0x304615(0x131)]&&_0x531908[_0x304615(0x166)](_0x2b2d84['scenario']['id'],_0x52bbfb)&&_0x2b2d84[_0x304615(0x131)][_0x304615(0x14b)]){const _0x1e766d=_0x2b2d84[_0x304615(0x131)][_0x304615(0x14b)][_0x304615(0x105)](_0x31b312=>_0x31b312['tableBody'])['find'](_0x3f720b=>_0x3f720b['id']===_0xfe102e);let _0x537a14;_0x1e766d&&_0x1e766d[_0x304615(0x153)]?_0x537a14=_0x1e766d[_0x304615(0x153)][_0x304615(0x180)](_0x118f55=>_0x118f55[_0x304615(0x168)]):_0x537a14=[],_0x537a14&&(_0x2d1d35=_0x537a14);}}});if(_0x2d1d35[_0x389d8c(0x161)])return _0x2d1d35;return;};async[a90_0x52fa9a(0x138)](){const _0x3f51eb=a90_0x52fa9a,_0x31e016={'xKTBv':function(_0x4ae665){return _0x4ae665();}};if(this[_0x3f51eb(0x15a)])return this[_0x3f51eb(0x16b)];const _0x57b543=await _0x31e016[_0x3f51eb(0x103)](getGitMetaData);_0x57b543&&(this[_0x3f51eb(0x16b)]=_0x57b543[_0x3f51eb(0x13c)]),this[_0x3f51eb(0x15a)]=!![];}}function a90_0x30d3(){const _0x200eef=['tableBody','status','sendTestRunEventForCucumber','3862859CrFXYg','getTestUUID','toString','testStepResult','cells','CvXlG','XYLSA','failureType','dJnXc','failure','UnhandledError','_gitConfigured','forEach','4206WBSBmW','../../../helpers/helper.js','GjJHD','rSLEI','test','length','icUXN','2547YpfaDm','MkJsX','../TestInfo.js','FXddj','PPlBD','value','../../../helpers/logger.js','feature','_gitConfigPath','filter','8ecRUPj','debug','hFXme','HookRunStarted','VvZhm','tagExpression','browserstack-node-agent/src/bin/cucumber-js/test.setup.js','getScenarioExamples','failure_type','mzUSa','AFTER_EACH','bSObf','gfvbe','failed','tags','Fenwx','createHookData','erXda','IwLIe','map','exception','bstack','toISOString','testCaseFinished','gfCrB','timestamp','find','unknown','getCucumberHookType','NdXAy','hookId','2267196AjUvdT','aFnqP','push','passed','backtrace','WiLVm','UwWmf','142617WaUOOz','xKTBv','testStepFinished','flatMap','PisQR','util','54248WESAgI','MgkAc','pAmrk','fQjlo','children','WJYOm','oJzhL','finished_at','sourceReference','TBrDm','format','vtjqn','join','result','17510GZmyXx','getHookResult','hooks','pickleStepId','AssertionError','DdqEb','failure_reason','createTestFrameworkData','ZGkEr','EyHai','name','Exception\x20in\x20createHookData:\x20','pending','tHYIi','sendHook','uri','FAILED','rule','941553ncaEbl','skipped','javascript','TtAzy','SKIPPED','ytqAd','rEMpu','qxmRG','cucumber','scenario','path','UHbMc','LlJou','266eYOzad','astNodeIds','finishedAt','configureGit','hRVsK','match','BEFORE_EACH','root','exports','nanos','getHookRunEventData','ufsbv','BqPUG','cGNCx','every','toLowerCase','failure_data','uLSAy','Exception\x20in\x20getHookRunEventData:\x20','message','hook','5035ZrnGpG','examples'];a90_0x30d3=function(){return _0x200eef;};return a90_0x30d3();}module[a90_0x52fa9a(0x13d)]=o11yClassErrorHandler(CucumberUtils,[a90_0x52fa9a(0x138),a90_0x52fa9a(0x174),a90_0x52fa9a(0xf8),a90_0x52fa9a(0x117),a90_0x52fa9a(0x124),a90_0x52fa9a(0x13f),a90_0x52fa9a(0x14e),a90_0x52fa9a(0x11d)]);