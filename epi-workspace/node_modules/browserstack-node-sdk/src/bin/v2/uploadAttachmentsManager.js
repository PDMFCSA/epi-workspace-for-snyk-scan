const a89_0x3f6429=a89_0x262f;(function(_0x9c610d,_0x268eb5){const _0x36389c=a89_0x262f,_0x1a1554=_0x9c610d();while(!![]){try{const _0x5ddd63=parseInt(_0x36389c(0x254))/0x1*(-parseInt(_0x36389c(0x208))/0x2)+-parseInt(_0x36389c(0x232))/0x3+parseInt(_0x36389c(0x236))/0x4+parseInt(_0x36389c(0x1ff))/0x5*(parseInt(_0x36389c(0x250))/0x6)+parseInt(_0x36389c(0x235))/0x7+-parseInt(_0x36389c(0x219))/0x8*(parseInt(_0x36389c(0x1fe))/0x9)+parseInt(_0x36389c(0x249))/0xa*(-parseInt(_0x36389c(0x1fb))/0xb);if(_0x5ddd63===_0x268eb5)break;else _0x1a1554['push'](_0x1a1554['shift']());}catch(_0x696300){_0x1a1554['push'](_0x1a1554['shift']());}}}(a89_0x33d5,0x6d8c5));function a89_0x262f(_0x3746ad,_0x565f7c){const _0x33d507=a89_0x33d5();return a89_0x262f=function(_0x262f8e,_0x49419f){_0x262f8e=_0x262f8e-0x1e4;let _0x34297e=_0x33d507[_0x262f8e];return _0x34297e;},a89_0x262f(_0x3746ad,_0x565f7c);}function a89_0x33d5(){const _0xb29747=['getInstance','exports','1rYLkSC','LlnuN','UpOgm','KEY_FILE_LEVEL','../../helpers/classLogger.js','DCJzI','toFixed','Mdjjv','get','homedir','DLHbe','yhwQd','getTestFramework','File\x20downloaded\x20to:\x20%s','message','PVgzX','MIkCn','mkdirSync','NPEdY','force','trackFile:\x20Jest+Playwright\x20-\x20testId\x20(testIdentifier):\x20','./modules/playwrightDriverModule','BuildLevel','retry','resolveInstance','qrVOE','iGEma','startsWith','zzuAc','trackFile','size','buildHashedId','TestHubModule','trackFile:\x20TestFramework\x20not\x20available,\x20cannot\x20track\x20attachment','trackFile:\x20Cucumber+Playwright\x20-\x20testId:\x20','rDqUN','iWSBa','existsSync','DdxHF','gAGjJ','pipe','mTFjL','dBJqV','rmSync','trackFile:\x20Instance\x20not\x20available,\x20cannot\x20track\x20attachment','path','logger',',\x20filepath:\x20','POST','getAllData','11AmbVTe','./TestInfo','trackFile:\x20No\x20testId\x20available,\x20cannot\x20track\x20attachment','963UfStEW','5IFiMwA','Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.','TvjKU','util','Attachment\x20recevied\x20for\x20path:\x20%s','solTk','PBodv','debug','currentTest','29384UHvQzz','addMultipleEntries','uploadAttachmentsManager','YCuNw','copyFileSync','Cleared\x20attachment\x20folder','clearAttachments','modules','KEY_TEST_ATTACHMENTS','AkioR','https','./state/testFrameworkState','File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.','format','TAdMP','fwRpQ','Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','19248PlFESu','createWriteStream','./framework/constants/testFrameworkConstants','CKSVJ','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','setTestDetails','.browserstack','KEY_FILE_SIZE','zwNfA','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','ztHGa','uploadAttachments','honHi','close','OpzXO','testInfo','HELBD','trackFile:\x20Stored\x20attachment\x20in\x20TestInfo\x20file\x20for\x20testId:\x20','qIRXn','./browserstackCLI','statSync','yOPvw','basename','https://','bbKxm','2140137qdjCHx','sxddM','FXzdf','4877306Zmshlt','1960920oRheCR','UwVJQ','./framework/automationFramework','unlinkSync','kgeBY','Created\x20.browserstack\x20folder\x20at:\x20%s','vnicR','KEY_TEST_ID','NVeSv','TEST','toObject','Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload','__jestCurrentTestIdentifier','xgoQj','statusCode','LHtJz','./state/hookState','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','getTestDetails','6033550KYlDfs','trackFile:\x20Stored\x20attachment\x20in\x20instance\x20memory\x20for\x20testId:\x20','qHMio','getState','name','join','jest','5103534hvXVwO','Created\x20folder:\x20%s'];a89_0x33d5=function(){return _0xb29747;};return a89_0x33d5();}const os=require('os'),fs=require('fs'),path=require(a89_0x3f6429(0x1f6)),util=require(a89_0x3f6429(0x202)),BrowserstackCLI=require(a89_0x3f6429(0x22c)),https=require(a89_0x3f6429(0x212)),http=require('http'),AutomationFramework=require(a89_0x3f6429(0x238)),PlaywrightDriverModule=require(a89_0x3f6429(0x269)),TestInfo=require(a89_0x3f6429(0x1fc)),TestFrameworkConstants=require(a89_0x3f6429(0x21b)),{createClassLogger}=require(a89_0x3f6429(0x258));class uploadAttachmentsManager{static [a89_0x3f6429(0x1f7)]=createClassLogger(a89_0x3f6429(0x20a));static[a89_0x3f6429(0x224)](_0x418940,_0xb221bd=![]){const _0x2df5b8=a89_0x3f6429,_0x57522d={};_0x57522d[_0x2df5b8(0x263)]=function(_0x2473dc,_0x242061){return _0x2473dc/_0x242061;},_0x57522d[_0x2df5b8(0x23c)]=function(_0x434b9e,_0x130c42){return _0x434b9e*_0x130c42;},_0x57522d[_0x2df5b8(0x22e)]=function(_0x321ac8,_0xe49016){return _0x321ac8>_0xe49016;},_0x57522d[_0x2df5b8(0x24b)]='Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.',_0x57522d[_0x2df5b8(0x245)]=_0x2df5b8(0x261),_0x57522d[_0x2df5b8(0x1ec)]=function(_0xf0d9b2,_0x538651){return _0xf0d9b2===_0x538651;},_0x57522d['PVGaU']='finish',_0x57522d[_0x2df5b8(0x26e)]=_0x2df5b8(0x241),_0x57522d[_0x2df5b8(0x243)]=_0x2df5b8(0x222),_0x57522d['qJgXr']=_0x2df5b8(0x203),_0x57522d['gEnyg']=_0x2df5b8(0x21f),_0x57522d[_0x2df5b8(0x216)]=_0x2df5b8(0x247),_0x57522d[_0x2df5b8(0x256)]=_0x2df5b8(0x23b),_0x57522d[_0x2df5b8(0x26d)]=_0x2df5b8(0x251),_0x57522d[_0x2df5b8(0x1e5)]=function(_0x5c4e52,_0x245176){return _0x5c4e52===_0x245176;},_0x57522d[_0x2df5b8(0x225)]=_0x2df5b8(0x200),_0x57522d[_0x2df5b8(0x1f3)]=_0x2df5b8(0x230),_0x57522d[_0x2df5b8(0x25b)]='http://',_0x57522d['OpzXO']='error',_0x57522d[_0x2df5b8(0x266)]='Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s',_0x57522d[_0x2df5b8(0x237)]=function(_0x217517,_0x3d8556){return _0x217517*_0x3d8556;},_0x57522d[_0x2df5b8(0x229)]=function(_0x282221,_0x2cee81){return _0x282221>_0x2cee81;},_0x57522d[_0x2df5b8(0x211)]=_0x2df5b8(0x214);const _0x32dff2=_0x57522d;this[_0x2df5b8(0x1f7)][_0x2df5b8(0x206)](util[_0x2df5b8(0x215)](_0x32dff2['qJgXr'],_0x418940));const _0x16166f=os[_0x2df5b8(0x25d)](),_0x2f16b2=path[_0x2df5b8(0x24e)](_0x16166f,_0x32dff2['gEnyg']);!fs['existsSync'](_0x2f16b2)&&(this['logger'][_0x2df5b8(0x206)](util[_0x2df5b8(0x215)](_0x32dff2[_0x2df5b8(0x216)],_0x2f16b2)),fs[_0x2df5b8(0x265)](_0x2f16b2),this[_0x2df5b8(0x1f7)][_0x2df5b8(0x206)](util[_0x2df5b8(0x215)](_0x32dff2[_0x2df5b8(0x256)],_0x2f16b2)));const _0x5ccee0=BrowserstackCLI[_0x2df5b8(0x252)]()['modules']['TestHubModule']?.['testhubConfig']?.['toObject']()?.[_0x2df5b8(0x1e8)],_0x569a4b=path[_0x2df5b8(0x24e)](_0x2f16b2,_0x5ccee0);!fs[_0x2df5b8(0x1ee)](_0x569a4b)&&(fs[_0x2df5b8(0x265)](_0x569a4b),this[_0x2df5b8(0x1f7)][_0x2df5b8(0x206)](util[_0x2df5b8(0x215)](_0x32dff2['qrVOE'],_0x569a4b)));if(_0x32dff2[_0x2df5b8(0x1e5)](_0x418940['trim'](),'')){this[_0x2df5b8(0x1f7)][_0x2df5b8(0x206)](util[_0x2df5b8(0x215)](_0x32dff2[_0x2df5b8(0x225)]));return;}if(_0x418940[_0x2df5b8(0x1e4)](_0x32dff2[_0x2df5b8(0x1f3)])||_0x418940[_0x2df5b8(0x1e4)](_0x32dff2['Mdjjv'])){const _0x4bde03=_0x418940[_0x2df5b8(0x1e4)](_0x32dff2['dBJqV'])?https:http,_0x3aab0f=path[_0x2df5b8(0x22f)](_0x418940),_0x38eaa6=path[_0x2df5b8(0x24e)](_0x569a4b,_0x3aab0f),_0x3608a0=fs[_0x2df5b8(0x21a)](_0x38eaa6);_0x4bde03[_0x2df5b8(0x25c)](_0x418940,_0x580464=>{const _0x25b824=_0x2df5b8,_0x495939={'DLHbe':function(_0x2dcc5d,_0xb95df2){const _0xdf076a=a89_0x262f;return _0x32dff2[_0xdf076a(0x263)](_0x2dcc5d,_0xb95df2);},'zwNfA':function(_0x177d87,_0x53b0fd){const _0xd54b72=a89_0x262f;return _0x32dff2[_0xd54b72(0x23c)](_0x177d87,_0x53b0fd);},'qIRXn':function(_0x18f0be,_0x209904){const _0x2839d4=a89_0x262f;return _0x32dff2[_0x2839d4(0x22e)](_0x18f0be,_0x209904);},'CKSVJ':_0x32dff2['qHMio'],'FXzdf':_0x32dff2[_0x25b824(0x245)]};if(_0x32dff2[_0x25b824(0x1ec)](_0x580464[_0x25b824(0x244)],0xc8))_0x580464[_0x25b824(0x1f1)](_0x3608a0),_0x3608a0['on'](_0x32dff2['PVGaU'],()=>{const _0x5792e4=_0x25b824;_0x3608a0[_0x5792e4(0x226)]();const _0x3a0461=fs['statSync'](_0x38eaa6),_0x1e2376=_0x495939[_0x5792e4(0x25e)](_0x3a0461[_0x5792e4(0x1e7)],_0x495939[_0x5792e4(0x221)](0x400,0x400));if(_0x495939[_0x5792e4(0x22b)](_0x1e2376,0x64)){this[_0x5792e4(0x1f7)][_0x5792e4(0x206)](util[_0x5792e4(0x215)](_0x495939[_0x5792e4(0x21c)],_0x1e2376[_0x5792e4(0x25a)](0x2))),fs[_0x5792e4(0x239)](_0x38eaa6);return;}this['logger'][_0x5792e4(0x206)](util[_0x5792e4(0x215)](_0x495939[_0x5792e4(0x234)],_0x38eaa6)),uploadAttachmentsManager[_0x5792e4(0x1e6)](_0x38eaa6,_0xb221bd);});else{this[_0x25b824(0x1f7)][_0x25b824(0x206)](util['format'](_0x32dff2[_0x25b824(0x26e)],_0x580464[_0x25b824(0x244)])),_0x3608a0[_0x25b824(0x226)](),fs[_0x25b824(0x239)](_0x38eaa6);return;}})['on'](_0x32dff2[_0x2df5b8(0x227)],_0x3974e2=>{const _0x17ff70=_0x2df5b8;this[_0x17ff70(0x1f7)][_0x17ff70(0x206)](util[_0x17ff70(0x215)](_0x32dff2[_0x17ff70(0x243)],_0x3974e2[_0x17ff70(0x262)])),_0x3608a0[_0x17ff70(0x226)](),fs[_0x17ff70(0x239)](_0x38eaa6);return;});}else{if(!fs[_0x2df5b8(0x1ee)](_0x418940)){this[_0x2df5b8(0x1f7)][_0x2df5b8(0x206)](util['format'](_0x32dff2['NPEdY'],_0x418940));return;}const _0x4fd385=fs[_0x2df5b8(0x22d)](_0x418940),_0x6d8984=_0x32dff2['PVgzX'](_0x4fd385[_0x2df5b8(0x1e7)],_0x32dff2['UwVJQ'](0x400,0x400));if(_0x32dff2[_0x2df5b8(0x229)](_0x6d8984,0x64)){this[_0x2df5b8(0x1f7)]['debug'](util['format'](_0x32dff2['AkioR'],_0x6d8984[_0x2df5b8(0x25a)](0x2)));return;}const _0x1e6105=path[_0x2df5b8(0x22f)](_0x418940),_0x479caf=path[_0x2df5b8(0x24e)](_0x569a4b,_0x1e6105);fs[_0x2df5b8(0x20c)](_0x418940,_0x479caf),uploadAttachmentsManager[_0x2df5b8(0x1e6)](_0x479caf,_0xb221bd);}}static[a89_0x3f6429(0x1e6)](_0x45c704,_0x35b2a0){const _0x34d326=a89_0x3f6429,_0x8cb935={'NVeSv':function(_0x14277b,_0x5ebd2f){return _0x14277b(_0x5ebd2f);},'ztHGa':'./browserstackCLI','iWSBa':function(_0xaddef2,_0x3859e7){return _0xaddef2(_0x3859e7);},'kgeBY':'./cliUtils','yhwQd':function(_0x5baf15,_0x57a856){return _0x5baf15===_0x57a856;},'DCJzI':_0x34d326(0x24f),'YCuNw':_0x34d326(0x1fd),'solTk':_0x34d326(0x26a),'sxddM':'TestLevel','DdxHF':_0x34d326(0x1ea),'fwRpQ':_0x34d326(0x213),'MIkCn':function(_0x4f8a07,_0x18f8c7){return _0x4f8a07(_0x18f8c7);},'bbKxm':_0x34d326(0x246),'gAGjJ':_0x34d326(0x1f5),'LlnuN':_0x34d326(0x218),'vOlWo':_0x34d326(0x21d)};try{let _0x4d8576;const _0x25ad3d=global['__workerDetails']?.[_0x34d326(0x207)]?.[_0x34d326(0x228)],_0x56e470=_0x8cb935[_0x34d326(0x23e)](require,_0x8cb935[_0x34d326(0x223)]),_0x21afb3=_0x8cb935[_0x34d326(0x1ed)](require,_0x8cb935[_0x34d326(0x23a)]),_0x55cc4f=_0x56e470[_0x34d326(0x252)]()['isRunning']()&&_0x8cb935[_0x34d326(0x25f)](_0x21afb3['getTestFrameworkDetail']()?.[_0x34d326(0x24d)]?.['toLowerCase'](),_0x8cb935[_0x34d326(0x259)]);if(_0x55cc4f){_0x4d8576=global[_0x34d326(0x242)];if(!_0x4d8576){const _0x3923cd=AutomationFramework['getTrackedInstance']();_0x4d8576=AutomationFramework[_0x34d326(0x24c)](_0x3923cd,PlaywrightDriverModule[_0x34d326(0x23d)],'');}this['logger'][_0x34d326(0x206)](_0x34d326(0x268)+_0x4d8576);}else{if(!_0x25ad3d){const _0x5530c7=AutomationFramework['getTrackedInstance']();_0x4d8576=AutomationFramework[_0x34d326(0x24c)](_0x5530c7,PlaywrightDriverModule[_0x34d326(0x23d)],'');}else _0x4d8576=TestInfo['getTestIdentifierFromTestInfo'](_0x25ad3d,_0x25ad3d[_0x34d326(0x26b)]);this[_0x34d326(0x1f7)][_0x34d326(0x206)](_0x34d326(0x1eb)+_0x4d8576);}if(!_0x4d8576){this['logger'][_0x34d326(0x206)](_0x8cb935[_0x34d326(0x20b)]);return;}const _0x2d61ba={[TestFrameworkConstants[_0x34d326(0x220)]]:fs['statSync'](_0x45c704)[_0x34d326(0x1e7)],[TestFrameworkConstants['KEY_FILE_NAME']]:path[_0x34d326(0x22f)](_0x45c704),[TestFrameworkConstants['KEY_FILE_PATH']]:_0x45c704,[TestFrameworkConstants[_0x34d326(0x257)]]:_0x35b2a0?_0x8cb935[_0x34d326(0x204)]:_0x8cb935[_0x34d326(0x233)]};if(_0x55cc4f){const _0x5cc452=_0x56e470[_0x34d326(0x252)]()[_0x34d326(0x260)]();if(!_0x5cc452){this['logger'][_0x34d326(0x206)](_0x8cb935[_0x34d326(0x1ef)]);return;}const _0x2e1b5a=_0x8cb935['iWSBa'](require,_0x8cb935[_0x34d326(0x217)]),_0x12a6ba=_0x8cb935[_0x34d326(0x264)](require,_0x8cb935[_0x34d326(0x231)]),_0x40ed69=_0x5cc452[_0x34d326(0x26c)](_0x2e1b5a[_0x34d326(0x23f)],_0x12a6ba[_0x34d326(0x1f9)]);if(!_0x40ed69){this[_0x34d326(0x1f7)][_0x34d326(0x206)](_0x8cb935[_0x34d326(0x1f0)]);return;}const _0x4eb7cb=_0x40ed69[_0x34d326(0x1fa)]()[_0x34d326(0x25c)](_0x4d8576)||{},_0x992812=_0x4eb7cb[TestFrameworkConstants[_0x34d326(0x210)]]||{},_0x4c44d9={..._0x992812};_0x4c44d9[_0x45c704]=_0x2d61ba;const _0x3e837a=_0x4c44d9,_0x3116fa={[TestFrameworkConstants[_0x34d326(0x210)]]:_0x3e837a},_0x176694={};_0x176694[_0x4d8576]=_0x3116fa,_0x40ed69[_0x34d326(0x209)](_0x176694),this[_0x34d326(0x1f7)][_0x34d326(0x206)](_0x34d326(0x24a)+_0x4d8576+_0x34d326(0x1f8)+_0x45c704);}else{const _0x24f925=TestInfo[_0x34d326(0x248)](_0x4d8576),_0x378a26=_0x24f925[TestFrameworkConstants[_0x34d326(0x210)]]||{};_0x378a26[_0x45c704]=_0x2d61ba,_0x24f925[TestFrameworkConstants[_0x34d326(0x210)]]=_0x378a26,TestInfo[_0x34d326(0x21e)](_0x4d8576,_0x24f925),this[_0x34d326(0x1f7)][_0x34d326(0x206)](_0x34d326(0x22a)+_0x4d8576+_0x34d326(0x1f8)+_0x45c704);}this[_0x34d326(0x1f7)][_0x34d326(0x206)](util['format'](_0x8cb935[_0x34d326(0x255)],_0x45c704));}catch(_0x179cec){this['logger'][_0x34d326(0x206)](util[_0x34d326(0x215)](_0x8cb935['vOlWo'],_0x179cec[_0x34d326(0x262)]));}}static[a89_0x3f6429(0x20e)](){const _0x386854=a89_0x3f6429,_0x3824d1={};_0x3824d1[_0x386854(0x205)]=_0x386854(0x21f),_0x3824d1[_0x386854(0x201)]='No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s',_0x3824d1['mTFjL']=_0x386854(0x20d);const _0x2ab30e=_0x3824d1,_0x43f71e=os[_0x386854(0x25d)](),_0x400779=path['join'](_0x43f71e,_0x2ab30e[_0x386854(0x205)]);if(!fs[_0x386854(0x1ee)](_0x400779))return;const _0x4fbded=BrowserstackCLI[_0x386854(0x252)]()[_0x386854(0x20f)][_0x386854(0x1e9)]?.['testhubConfig']?.[_0x386854(0x240)]()?.['buildHashedId'],_0x20147d=_0x4fbded?path[_0x386854(0x24e)](_0x400779,_0x4fbded):null;if(!_0x20147d||!fs[_0x386854(0x1ee)](_0x20147d)){this[_0x386854(0x1f7)][_0x386854(0x206)](util['format'](_0x2ab30e[_0x386854(0x201)],_0x4fbded));return;}const _0x10576f={};_0x10576f['recursive']=!![],_0x10576f[_0x386854(0x267)]=!![],fs[_0x386854(0x1f4)](_0x20147d,_0x10576f),this[_0x386854(0x1f7)][_0x386854(0x206)](util[_0x386854(0x215)](_0x2ab30e[_0x386854(0x1f2)]));}}module[a89_0x3f6429(0x253)]=uploadAttachmentsManager;