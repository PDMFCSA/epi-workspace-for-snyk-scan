function a85_0xcf92(_0x49b054,_0x220bc0){const _0x4506a2=a85_0x4506();return a85_0xcf92=function(_0xcf920,_0x444b0e){_0xcf920=_0xcf920-0x1a2;let _0x35d205=_0x4506a2[_0xcf920];return _0x35d205;},a85_0xcf92(_0x49b054,_0x220bc0);}const a85_0x4f6f70=a85_0xcf92;(function(_0x5db436,_0x9d457c){const _0x40f8e3=a85_0xcf92,_0x3069ba=_0x5db436();while(!![]){try{const _0x28f4b9=parseInt(_0x40f8e3(0x1bb))/0x1*(parseInt(_0x40f8e3(0x207))/0x2)+parseInt(_0x40f8e3(0x1ac))/0x3+parseInt(_0x40f8e3(0x1bf))/0x4*(-parseInt(_0x40f8e3(0x1b7))/0x5)+parseInt(_0x40f8e3(0x1ad))/0x6*(-parseInt(_0x40f8e3(0x1b1))/0x7)+parseInt(_0x40f8e3(0x1cb))/0x8*(parseInt(_0x40f8e3(0x1f6))/0x9)+-parseInt(_0x40f8e3(0x209))/0xa*(parseInt(_0x40f8e3(0x1e9))/0xb)+parseInt(_0x40f8e3(0x20b))/0xc;if(_0x28f4b9===_0x9d457c)break;else _0x3069ba['push'](_0x3069ba['shift']());}catch(_0xc7378f){_0x3069ba['push'](_0x3069ba['shift']());}}}(a85_0x4506,0x8eeb5));function a85_0x4506(){const _0x35a102=['Created\x20folder:\x20%s','EocAz','join','KEY_FILE_SIZE','logger','BSNcy','unlinkSync','KEY_FILE_NAME','TestHubModule','startsWith','109505BrjeqE','trim','File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.','size','getTestIdentifierFromTestInfo','Created\x20.browserstack\x20folder\x20at:\x20%s','.browserstack','../../helpers/classLogger.js','SdufU','oGZOK','tHZXe','oyqVG','xsviq','99UUJDkh','testInfo','vPfBn','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','TestLevel','rmSync','get','http://','statSync','mOeaJ','./framework/automationFramework','dMvAX','HSSFb','zQfzN','format','KEY_TEST_ATTACHMENTS','recursive','4506iSRHee','copyFileSync','410KSbKvk','uploadAttachments','13410828sfoFna','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','message','clearAttachments','https://','debug','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','https','ghUvR','mXlXQ','path','toObject','Cleared\x20attachment\x20folder','wSHzG','nXnoI','trackFile','baioY','eGXeI','1916337coMGCA','2545698YmBXXA','exports','aNAjF','NiTsV','7FvVuUs','__workerDetails','lniOK','homedir','vaVAJ','votnX','68210IVfKQP','buildHashedId','fnNDh','KEY_FILE_PATH','211aZhbSd','setTestDetails','toFixed','uoKyA','276MuPYAe','NebMl','nGGNb','Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.','existsSync','testhubConfig','pipe','Ecwhm','yxoWs','finish','basename','BuildLevel','92656yUeVkl','mkdirSync','http','modules','util','dIBCp','oKMXt','KEY_TEST_ID','createWriteStream','getInstance','Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.','statusCode','Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload','force','hBOZx','getTrackedInstance','GesYd','getState','Attachment\x20recevied\x20for\x20path:\x20%s','GPONx'];a85_0x4506=function(){return _0x35a102;};return a85_0x4506();}const os=require('os'),fs=require('fs'),path=require(a85_0x4f6f70(0x1a4)),util=require(a85_0x4f6f70(0x1cf)),BrowserstackCLI=require('./browserstackCLI'),https=require(a85_0x4f6f70(0x213)),http=require(a85_0x4f6f70(0x1cd)),AutomationFramework=require(a85_0x4f6f70(0x200)),PlaywrightDriverModule=require('./modules/playwrightDriverModule'),TestInfo=require('./TestInfo'),TestFrameworkConstants=require('./framework/constants/testFrameworkConstants'),{createClassLogger}=require(a85_0x4f6f70(0x1f0));class uploadAttachmentsManager{static [a85_0x4f6f70(0x1e3)]=createClassLogger('uploadAttachmentsManager');static[a85_0x4f6f70(0x20a)](_0x898cf3,_0x5bb0d4=![]){const _0x15deed=a85_0x4f6f70,_0x41e43c={};_0x41e43c[_0x15deed(0x1d1)]=function(_0x42eee1,_0x38bcfb){return _0x42eee1/_0x38bcfb;},_0x41e43c[_0x15deed(0x1f2)]=function(_0x7f6901,_0x46e91b){return _0x7f6901*_0x46e91b;},_0x41e43c[_0x15deed(0x202)]=function(_0x5c8bf1,_0x4ee971){return _0x5c8bf1>_0x4ee971;},_0x41e43c[_0x15deed(0x201)]=_0x15deed(0x1c2),_0x41e43c[_0x15deed(0x1c0)]='File\x20downloaded\x20to:\x20%s',_0x41e43c[_0x15deed(0x1a3)]=function(_0x3c716,_0x321ed3){return _0x3c716===_0x321ed3;},_0x41e43c['hBOZx']=_0x15deed(0x1c8),_0x41e43c[_0x15deed(0x1b5)]=_0x15deed(0x1d7),_0x41e43c[_0x15deed(0x1f4)]=_0x15deed(0x212),_0x41e43c[_0x15deed(0x1de)]=_0x15deed(0x1dd),_0x41e43c[_0x15deed(0x1c1)]=_0x15deed(0x1ef),_0x41e43c[_0x15deed(0x1ab)]=_0x15deed(0x20c),_0x41e43c[_0x15deed(0x1b0)]=_0x15deed(0x1ee),_0x41e43c[_0x15deed(0x1f3)]=_0x15deed(0x1df),_0x41e43c[_0x15deed(0x1b3)]=_0x15deed(0x1d5),_0x41e43c[_0x15deed(0x1c6)]=_0x15deed(0x210),_0x41e43c[_0x15deed(0x1a8)]=_0x15deed(0x1fd),_0x41e43c[_0x15deed(0x1d0)]='error',_0x41e43c[_0x15deed(0x203)]='Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s',_0x41e43c[_0x15deed(0x1a2)]=function(_0x3f195f,_0x926e36){return _0x3f195f/_0x926e36;},_0x41e43c[_0x15deed(0x1f8)]=function(_0x2a5a80,_0x46c79a){return _0x2a5a80*_0x46c79a;},_0x41e43c['GxChU']=function(_0x54ef4d,_0x4abdfc){return _0x54ef4d>_0x4abdfc;},_0x41e43c[_0x15deed(0x1f5)]=_0x15deed(0x1eb);const _0x413f30=_0x41e43c;this[_0x15deed(0x1e3)]['debug'](util['format'](_0x413f30[_0x15deed(0x1de)],_0x898cf3));const _0x56c642=os[_0x15deed(0x1b4)](),_0x5e8f5e=path['join'](_0x56c642,_0x413f30[_0x15deed(0x1c1)]);!fs[_0x15deed(0x1c3)](_0x5e8f5e)&&(this[_0x15deed(0x1e3)]['debug'](util[_0x15deed(0x204)](_0x413f30[_0x15deed(0x1ab)],_0x5e8f5e)),fs[_0x15deed(0x1cc)](_0x5e8f5e),this['logger'][_0x15deed(0x211)](util[_0x15deed(0x204)](_0x413f30[_0x15deed(0x1b0)],_0x5e8f5e)));const _0x356cb3=BrowserstackCLI[_0x15deed(0x1d4)]()[_0x15deed(0x1ce)]['TestHubModule']?.[_0x15deed(0x1c4)]?.[_0x15deed(0x1a5)]()?.[_0x15deed(0x1b8)],_0x23dbde=path[_0x15deed(0x1e1)](_0x5e8f5e,_0x356cb3);!fs[_0x15deed(0x1c3)](_0x23dbde)&&(fs[_0x15deed(0x1cc)](_0x23dbde),this[_0x15deed(0x1e3)]['debug'](util[_0x15deed(0x204)](_0x413f30[_0x15deed(0x1f3)],_0x23dbde)));if(_0x413f30[_0x15deed(0x1a3)](_0x898cf3[_0x15deed(0x1ea)](),'')){this['logger']['debug'](util[_0x15deed(0x204)](_0x413f30[_0x15deed(0x1b3)]));return;}if(_0x898cf3['startsWith'](_0x413f30[_0x15deed(0x1c6)])||_0x898cf3[_0x15deed(0x1e8)](_0x413f30[_0x15deed(0x1a8)])){const _0x1242eb=_0x898cf3['startsWith'](_0x413f30[_0x15deed(0x1c6)])?https:http,_0x42590a=path[_0x15deed(0x1c9)](_0x898cf3),_0x3fbd35=path[_0x15deed(0x1e1)](_0x23dbde,_0x42590a),_0x158044=fs[_0x15deed(0x1d3)](_0x3fbd35);_0x1242eb[_0x15deed(0x1fc)](_0x898cf3,_0x2c991f=>{const _0x58502e=_0x15deed,_0x348da4={'GesYd':function(_0x2999ec,_0x2120a2){return _0x413f30['oKMXt'](_0x2999ec,_0x2120a2);},'votnX':function(_0x507e65,_0x51a6b5){return _0x413f30['oGZOK'](_0x507e65,_0x51a6b5);},'SdufU':function(_0x170bb4,_0xaf0b96){const _0x16def5=a85_0xcf92;return _0x413f30[_0x16def5(0x202)](_0x170bb4,_0xaf0b96);},'yxoWs':_0x413f30[_0x58502e(0x201)],'uoKyA':_0x413f30[_0x58502e(0x1c0)]};if(_0x413f30[_0x58502e(0x1a3)](_0x2c991f[_0x58502e(0x1d6)],0xc8))_0x2c991f[_0x58502e(0x1c5)](_0x158044),_0x158044['on'](_0x413f30[_0x58502e(0x1d9)],()=>{const _0x55c843=_0x58502e;_0x158044['close']();const _0x1d807e=fs[_0x55c843(0x1fe)](_0x3fbd35),_0x347f36=_0x348da4[_0x55c843(0x1db)](_0x1d807e['size'],_0x348da4[_0x55c843(0x1b6)](0x400,0x400));if(_0x348da4[_0x55c843(0x1f1)](_0x347f36,0x64)){this['logger']['debug'](util[_0x55c843(0x204)](_0x348da4[_0x55c843(0x1c7)],_0x347f36[_0x55c843(0x1bd)](0x2))),fs[_0x55c843(0x1e5)](_0x3fbd35);return;}this[_0x55c843(0x1e3)][_0x55c843(0x211)](util[_0x55c843(0x204)](_0x348da4[_0x55c843(0x1be)],_0x3fbd35)),uploadAttachmentsManager[_0x55c843(0x1a9)](_0x3fbd35,_0x5bb0d4);});else{this[_0x58502e(0x1e3)][_0x58502e(0x211)](util[_0x58502e(0x204)](_0x413f30[_0x58502e(0x1b5)],_0x2c991f[_0x58502e(0x1d6)])),_0x158044['close'](),fs[_0x58502e(0x1e5)](_0x3fbd35);return;}})['on'](_0x413f30[_0x15deed(0x1d0)],_0x188317=>{const _0x5290c9=_0x15deed;this['logger'][_0x5290c9(0x211)](util['format'](_0x413f30['oyqVG'],_0x188317[_0x5290c9(0x20e)])),_0x158044['close'](),fs[_0x5290c9(0x1e5)](_0x3fbd35);return;});}else{if(!fs[_0x15deed(0x1c3)](_0x898cf3)){this['logger']['debug'](util['format'](_0x413f30[_0x15deed(0x203)],_0x898cf3));return;}const _0x34d382=fs['statSync'](_0x898cf3),_0x546e2b=_0x413f30[_0x15deed(0x1a2)](_0x34d382['size'],_0x413f30[_0x15deed(0x1f8)](0x400,0x400));if(_0x413f30['GxChU'](_0x546e2b,0x64)){this[_0x15deed(0x1e3)][_0x15deed(0x211)](util[_0x15deed(0x204)](_0x413f30[_0x15deed(0x1f5)],_0x546e2b[_0x15deed(0x1bd)](0x2)));return;}const _0x3966e7=path['basename'](_0x898cf3),_0x1d7e28=path['join'](_0x23dbde,_0x3966e7);fs[_0x15deed(0x208)](_0x898cf3,_0x1d7e28),uploadAttachmentsManager[_0x15deed(0x1a9)](_0x1d7e28,_0x5bb0d4);}}static['trackFile'](_0x24006a,_0x2eabdb){const _0x261414=a85_0x4f6f70,_0x429319={};_0x429319[_0x261414(0x1b9)]=_0x261414(0x1ca),_0x429319[_0x261414(0x1e0)]=_0x261414(0x1fa),_0x429319[_0x261414(0x1a7)]=_0x261414(0x20d),_0x429319[_0x261414(0x1af)]=_0x261414(0x1f9);const _0x414d8a=_0x429319;try{let _0x1e860c;const _0x44ae8a=global[_0x261414(0x1b2)]?.['currentTest']?.[_0x261414(0x1f7)];if(!_0x44ae8a){const _0x28a732=AutomationFramework[_0x261414(0x1da)]();_0x1e860c=AutomationFramework[_0x261414(0x1dc)](_0x28a732,PlaywrightDriverModule[_0x261414(0x1d2)],'');}else _0x1e860c=TestInfo[_0x261414(0x1ed)](_0x44ae8a,_0x44ae8a['retry']);const _0x32f76d=TestInfo['getTestDetails'](_0x1e860c),_0x3828f8=_0x32f76d[TestFrameworkConstants[_0x261414(0x205)]]||{};_0x3828f8[_0x24006a]={[TestFrameworkConstants[_0x261414(0x1e2)]]:fs[_0x261414(0x1fe)](_0x24006a)[_0x261414(0x1ec)],[TestFrameworkConstants[_0x261414(0x1e6)]]:path['basename'](_0x24006a),[TestFrameworkConstants[_0x261414(0x1ba)]]:_0x24006a,[TestFrameworkConstants['KEY_FILE_LEVEL']]:_0x2eabdb?_0x414d8a[_0x261414(0x1b9)]:_0x414d8a['EocAz']},_0x32f76d[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]=_0x3828f8,TestInfo[_0x261414(0x1bc)](_0x1e860c,_0x32f76d),this['logger']['debug'](util[_0x261414(0x204)](_0x414d8a[_0x261414(0x1a7)],_0x24006a));}catch(_0x4d9fe2){this[_0x261414(0x1e3)]['debug'](util['format'](_0x414d8a[_0x261414(0x1af)],_0x4d9fe2[_0x261414(0x20e)]));}}static[a85_0x4f6f70(0x20f)](){const _0x324fcb=a85_0x4f6f70,_0x26d486={};_0x26d486['baioY']=_0x324fcb(0x1ef),_0x26d486[_0x324fcb(0x1e4)]='No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s',_0x26d486[_0x324fcb(0x1ff)]=_0x324fcb(0x1a6);const _0x31d042=_0x26d486,_0x49b09e=os[_0x324fcb(0x1b4)](),_0x314c9d=path[_0x324fcb(0x1e1)](_0x49b09e,_0x31d042[_0x324fcb(0x1aa)]);if(!fs[_0x324fcb(0x1c3)](_0x314c9d))return;const _0x336efe=BrowserstackCLI[_0x324fcb(0x1d4)]()[_0x324fcb(0x1ce)][_0x324fcb(0x1e7)]?.[_0x324fcb(0x1c4)]?.[_0x324fcb(0x1a5)]()?.[_0x324fcb(0x1b8)],_0x1bc9ab=_0x336efe?path[_0x324fcb(0x1e1)](_0x314c9d,_0x336efe):null;if(!_0x1bc9ab||!fs[_0x324fcb(0x1c3)](_0x1bc9ab)){this[_0x324fcb(0x1e3)][_0x324fcb(0x211)](util[_0x324fcb(0x204)](_0x31d042['BSNcy'],_0x336efe));return;}const _0x3427ec={};_0x3427ec[_0x324fcb(0x206)]=!![],_0x3427ec[_0x324fcb(0x1d8)]=!![],fs[_0x324fcb(0x1fb)](_0x1bc9ab,_0x3427ec),this[_0x324fcb(0x1e3)][_0x324fcb(0x211)](util[_0x324fcb(0x204)](_0x31d042[_0x324fcb(0x1ff)]));}}module[a85_0x4f6f70(0x1ae)]=uploadAttachmentsManager;