const a80_0x3808d7=a80_0x258c;function a80_0x258c(_0x40ecd5,_0x438db1){const _0x1f4355=a80_0x1f43();return a80_0x258c=function(_0x258c81,_0x5dae10){_0x258c81=_0x258c81-0x13a;let _0x1c55c7=_0x1f4355[_0x258c81];return _0x1c55c7;},a80_0x258c(_0x40ecd5,_0x438db1);}function a80_0x1f43(){const _0x5cb213=['Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','rEFTy','close','NDfAR','./browserstackCLI','buildHashedId','cOvGT','mkdirSync','statusCode','yudlo','Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.','112873uFVHGW','11759928yarCWX','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','GGJMO','uSBdu','unlinkSync','1418300zmOnts','../../helpers/classLogger.js','logger','KEY_FILE_NAME','344KuQdTi','join','getState','toObject','get','Fncjv','KEY_TEST_ATTACHMENTS','ElDgR','BuildLevel','https://','654136fZxMDy','modules','24VSFcnM','getTestDetails','TestHubModule','cudbH','./TestInfo','homedir','Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.','waKOz','TestLevel','finish','Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s','KEY_FILE_SIZE','gotMr','toFixed','uploadAttachmentsManager','1733232gssGjv','TTiVD','gvwls','message','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','Attachment\x20recevied\x20for\x20path:\x20%s','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','trackFile','trim','TkOqK','debug','fVflc','http://','error','xNrEE','KEY_FILE_LEVEL','copyFileSync','mIcAx','rmSync','size','eDYBQ','util','getInstance','File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.','./framework/constants/testFrameworkConstants','JWCTC','IbIVd','No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s','setTestDetails','11fqMnPV','force','TDmZG','exports','.browserstack','statSync','startsWith','2dWCnDi','format','testhubConfig','http','https','gUCmO','createWriteStream','Cleared\x20attachment\x20folder','qWBnC','path','xSGwn','88qsGGvX','KEY_FILE_PATH','NzEvn','82449MFBuer','rICZc','existsSync','11955IJqBAX'];a80_0x1f43=function(){return _0x5cb213;};return a80_0x1f43();}(function(_0x178d36,_0x386b4f){const _0x373f92=a80_0x258c,_0x228eee=_0x178d36();while(!![]){try{const _0x59fb80=parseInt(_0x373f92(0x19d))/0x1*(parseInt(_0x373f92(0x180))/0x2)+-parseInt(_0x373f92(0x15c))/0x3+-parseInt(_0x373f92(0x141))/0x4*(-parseInt(_0x373f92(0x191))/0x5)+-parseInt(_0x373f92(0x14d))/0x6*(parseInt(_0x373f92(0x14b))/0x7)+parseInt(_0x373f92(0x18b))/0x8*(parseInt(_0x373f92(0x18e))/0x9)+-parseInt(_0x373f92(0x13d))/0xa+-parseInt(_0x373f92(0x179))/0xb*(-parseInt(_0x373f92(0x19e))/0xc);if(_0x59fb80===_0x386b4f)break;else _0x228eee['push'](_0x228eee['shift']());}catch(_0x226cad){_0x228eee['push'](_0x228eee['shift']());}}}(a80_0x1f43,0x4aaea));const os=require('os'),fs=require('fs'),path=require(a80_0x3808d7(0x189)),util=require(a80_0x3808d7(0x171)),BrowserstackCLI=require(a80_0x3808d7(0x196)),https=require(a80_0x3808d7(0x184)),http=require(a80_0x3808d7(0x183)),AutomationFramework=require('./framework/automationFramework'),PlaywrightDriverModule=require('./modules/playwrightDriverModule'),TestInfo=require(a80_0x3808d7(0x151)),TestFrameworkConstants=require(a80_0x3808d7(0x174)),{createClassLogger}=require(a80_0x3808d7(0x13e));class uploadAttachmentsManager{static [a80_0x3808d7(0x13f)]=createClassLogger(a80_0x3808d7(0x15b));static['uploadAttachments'](_0xc162d1,_0x3c583f=![]){const _0x219203=a80_0x3808d7,_0x524eda={};_0x524eda['TTiVD']=function(_0x499c19,_0x46ff75){return _0x499c19/_0x46ff75;},_0x524eda['GGJMO']=function(_0x17d97d,_0x2531e7){return _0x17d97d*_0x2531e7;},_0x524eda[_0x219203(0x195)]=function(_0x3c700f,_0x3336ca){return _0x3c700f>_0x3336ca;},_0x524eda[_0x219203(0x148)]=_0x219203(0x153),_0x524eda['waKOz']='File\x20downloaded\x20to:\x20%s',_0x524eda['IbIVd']=function(_0x255118,_0x350974){return _0x255118===_0x350974;},_0x524eda[_0x219203(0x13b)]=_0x219203(0x156),_0x524eda[_0x219203(0x15e)]='Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload',_0x524eda[_0x219203(0x18a)]=_0x219203(0x162),_0x524eda[_0x219203(0x18f)]=_0x219203(0x161),_0x524eda[_0x219203(0x19b)]=_0x219203(0x17d),_0x524eda['rEFTy']=_0x219203(0x160),_0x524eda['JWCTC']='Created\x20.browserstack\x20folder\x20at:\x20%s',_0x524eda[_0x219203(0x198)]='Created\x20folder:\x20%s',_0x524eda[_0x219203(0x188)]=_0x219203(0x19c),_0x524eda[_0x219203(0x18d)]=_0x219203(0x14a),_0x524eda[_0x219203(0x167)]=_0x219203(0x168),_0x524eda['gUCmO']=_0x219203(0x169),_0x524eda[_0x219203(0x146)]=_0x219203(0x157),_0x524eda[_0x219203(0x159)]=function(_0x2c7c1c,_0x171538){return _0x2c7c1c*_0x171538;},_0x524eda[_0x219203(0x150)]=function(_0x2192f5,_0xe04660){return _0x2192f5>_0xe04660;},_0x524eda[_0x219203(0x16d)]=_0x219203(0x173);const _0x507f72=_0x524eda;this[_0x219203(0x13f)][_0x219203(0x166)](util[_0x219203(0x181)](_0x507f72['rICZc'],_0xc162d1));const _0x35e32e=os[_0x219203(0x152)](),_0x405b07=path['join'](_0x35e32e,_0x507f72[_0x219203(0x19b)]);!fs[_0x219203(0x190)](_0x405b07)&&(this[_0x219203(0x13f)][_0x219203(0x166)](util[_0x219203(0x181)](_0x507f72[_0x219203(0x193)],_0x405b07)),fs[_0x219203(0x199)](_0x405b07),this['logger'][_0x219203(0x166)](util[_0x219203(0x181)](_0x507f72[_0x219203(0x175)],_0x405b07)));const _0x2423ee=BrowserstackCLI['getInstance']()[_0x219203(0x14c)][_0x219203(0x14f)]?.[_0x219203(0x182)]?.[_0x219203(0x144)]()?.[_0x219203(0x197)],_0x23c859=path[_0x219203(0x142)](_0x405b07,_0x2423ee);!fs['existsSync'](_0x23c859)&&(fs[_0x219203(0x199)](_0x23c859),this['logger'][_0x219203(0x166)](util[_0x219203(0x181)](_0x507f72[_0x219203(0x198)],_0x23c859)));if(_0x507f72['IbIVd'](_0xc162d1[_0x219203(0x164)](),'')){this[_0x219203(0x13f)]['debug'](util[_0x219203(0x181)](_0x507f72[_0x219203(0x188)]));return;}if(_0xc162d1[_0x219203(0x17f)](_0x507f72['NzEvn'])||_0xc162d1['startsWith'](_0x507f72['fVflc'])){const _0x10c96c=_0xc162d1[_0x219203(0x17f)](_0x507f72['NzEvn'])?https:http,_0x34698d=path['basename'](_0xc162d1),_0x25cba1=path['join'](_0x23c859,_0x34698d),_0x328254=fs[_0x219203(0x186)](_0x25cba1);_0x10c96c[_0x219203(0x145)](_0xc162d1,_0x4845b4=>{const _0x22569a=_0x219203;if(_0x507f72[_0x22569a(0x176)](_0x4845b4['statusCode'],0xc8))_0x4845b4['pipe'](_0x328254),_0x328254['on'](_0x507f72[_0x22569a(0x13b)],()=>{const _0x186632=_0x22569a;_0x328254[_0x186632(0x194)]();const _0x577a71=fs['statSync'](_0x25cba1),_0x245d4c=_0x507f72[_0x186632(0x15d)](_0x577a71[_0x186632(0x16f)],_0x507f72[_0x186632(0x13a)](0x400,0x400));if(_0x507f72[_0x186632(0x195)](_0x245d4c,0x64)){this[_0x186632(0x13f)][_0x186632(0x166)](util[_0x186632(0x181)](_0x507f72[_0x186632(0x148)],_0x245d4c[_0x186632(0x15a)](0x2))),fs['unlinkSync'](_0x25cba1);return;}this['logger'][_0x186632(0x166)](util[_0x186632(0x181)](_0x507f72[_0x186632(0x154)],_0x25cba1)),uploadAttachmentsManager[_0x186632(0x163)](_0x25cba1,_0x3c583f);});else{this[_0x22569a(0x13f)][_0x22569a(0x166)](util[_0x22569a(0x181)](_0x507f72[_0x22569a(0x15e)],_0x4845b4[_0x22569a(0x19a)])),_0x328254[_0x22569a(0x194)](),fs[_0x22569a(0x13c)](_0x25cba1);return;}})['on'](_0x507f72[_0x219203(0x185)],_0x12fa63=>{const _0x154baa=_0x219203;this[_0x154baa(0x13f)][_0x154baa(0x166)](util[_0x154baa(0x181)](_0x507f72[_0x154baa(0x18a)],_0x12fa63[_0x154baa(0x15f)])),_0x328254[_0x154baa(0x194)](),fs['unlinkSync'](_0x25cba1);return;});}else{if(!fs[_0x219203(0x190)](_0xc162d1)){this[_0x219203(0x13f)][_0x219203(0x166)](util[_0x219203(0x181)](_0x507f72[_0x219203(0x146)],_0xc162d1));return;}const _0x3fbcd4=fs[_0x219203(0x17e)](_0xc162d1),_0x2e9967=_0x507f72[_0x219203(0x15d)](_0x3fbcd4[_0x219203(0x16f)],_0x507f72[_0x219203(0x159)](0x400,0x400));if(_0x507f72[_0x219203(0x150)](_0x2e9967,0x64)){this[_0x219203(0x13f)][_0x219203(0x166)](util[_0x219203(0x181)](_0x507f72['mIcAx'],_0x2e9967['toFixed'](0x2)));return;}const _0x47f873=path['basename'](_0xc162d1),_0x275a05=path[_0x219203(0x142)](_0x23c859,_0x47f873);fs[_0x219203(0x16c)](_0xc162d1,_0x275a05),uploadAttachmentsManager[_0x219203(0x163)](_0x275a05,_0x3c583f);}}static[a80_0x3808d7(0x163)](_0xa93486,_0x83d299){const _0x4818d2=a80_0x3808d7,_0x52dd07={};_0x52dd07['TDmZG']=_0x4818d2(0x149),_0x52dd07['LDmHX']=_0x4818d2(0x155),_0x52dd07['iZVpz']=_0x4818d2(0x192),_0x52dd07['eDYBQ']=_0x4818d2(0x19f);const _0x47c483=_0x52dd07;try{const _0x4d6ddc=AutomationFramework['getTrackedInstance'](),_0x2c9a37=AutomationFramework[_0x4818d2(0x143)](_0x4d6ddc,PlaywrightDriverModule['KEY_TEST_ID'],''),_0x3df2b8=TestInfo[_0x4818d2(0x14e)](_0x2c9a37),_0x4170e1=_0x3df2b8[TestFrameworkConstants[_0x4818d2(0x147)]]||{};_0x4170e1[_0xa93486]={[TestFrameworkConstants[_0x4818d2(0x158)]]:fs[_0x4818d2(0x17e)](_0xa93486)[_0x4818d2(0x16f)],[TestFrameworkConstants[_0x4818d2(0x140)]]:path['basename'](_0xa93486),[TestFrameworkConstants[_0x4818d2(0x18c)]]:_0xa93486,[TestFrameworkConstants[_0x4818d2(0x16b)]]:_0x83d299?_0x47c483[_0x4818d2(0x17b)]:_0x47c483['LDmHX']},_0x3df2b8[TestFrameworkConstants[_0x4818d2(0x147)]]=_0x4170e1,TestInfo[_0x4818d2(0x178)](_0x2c9a37,_0x3df2b8),this['logger'][_0x4818d2(0x166)](util[_0x4818d2(0x181)](_0x47c483['iZVpz'],_0xa93486));}catch(_0x44b62b){this[_0x4818d2(0x13f)][_0x4818d2(0x166)](util[_0x4818d2(0x181)](_0x47c483[_0x4818d2(0x170)],_0x44b62b[_0x4818d2(0x15f)]));}}static['clearAttachments'](){const _0x4be690=a80_0x3808d7,_0x5defa7={};_0x5defa7[_0x4be690(0x16a)]=_0x4be690(0x17d),_0x5defa7[_0x4be690(0x165)]=_0x4be690(0x177),_0x5defa7['SQcqH']=_0x4be690(0x187);const _0x2e5394=_0x5defa7,_0x45f10e=os['homedir'](),_0x54b66d=path[_0x4be690(0x142)](_0x45f10e,_0x2e5394[_0x4be690(0x16a)]);if(!fs[_0x4be690(0x190)](_0x54b66d))return;const _0x1f4981=BrowserstackCLI[_0x4be690(0x172)]()[_0x4be690(0x14c)]['TestHubModule']?.[_0x4be690(0x182)]?.[_0x4be690(0x144)]()?.[_0x4be690(0x197)],_0x50c5ad=_0x1f4981?path[_0x4be690(0x142)](_0x54b66d,_0x1f4981):null;if(!_0x50c5ad||!fs[_0x4be690(0x190)](_0x50c5ad)){this[_0x4be690(0x13f)][_0x4be690(0x166)](util['format'](_0x2e5394[_0x4be690(0x165)],_0x1f4981));return;}const _0x28681a={};_0x28681a['recursive']=!![],_0x28681a[_0x4be690(0x17a)]=!![],fs[_0x4be690(0x16e)](_0x50c5ad,_0x28681a),this['logger']['debug'](util[_0x4be690(0x181)](_0x2e5394['SQcqH']));}}module[a80_0x3808d7(0x17c)]=uploadAttachmentsManager;