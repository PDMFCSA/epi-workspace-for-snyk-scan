function a80_0x4c47(_0x744388,_0x1ad4b1){const _0x33b614=a80_0x33b6();return a80_0x4c47=function(_0x4c476b,_0x4a7e96){_0x4c476b=_0x4c476b-0xd5;let _0x4154cb=_0x33b614[_0x4c476b];return _0x4154cb;},a80_0x4c47(_0x744388,_0x1ad4b1);}const a80_0x24abc1=a80_0x4c47;(function(_0x20da07,_0x1b58d5){const _0x464d35=a80_0x4c47,_0x534703=_0x20da07();while(!![]){try{const _0x3d24bc=-parseInt(_0x464d35(0x13c))/0x1+parseInt(_0x464d35(0x119))/0x2*(-parseInt(_0x464d35(0xe9))/0x3)+-parseInt(_0x464d35(0x104))/0x4*(-parseInt(_0x464d35(0xf8))/0x5)+-parseInt(_0x464d35(0xf4))/0x6+-parseInt(_0x464d35(0xd6))/0x7*(-parseInt(_0x464d35(0xfd))/0x8)+-parseInt(_0x464d35(0x100))/0x9+parseInt(_0x464d35(0x128))/0xa*(parseInt(_0x464d35(0x12a))/0xb);if(_0x3d24bc===_0x1b58d5)break;else _0x534703['push'](_0x534703['shift']());}catch(_0x4feedb){_0x534703['push'](_0x534703['shift']());}}}(a80_0x33b6,0xa0b8c));const os=require('os'),fs=require('fs'),path=require(a80_0x24abc1(0x136)),util=require(a80_0x24abc1(0x11b)),BrowserstackCLI=require(a80_0x24abc1(0x102)),https=require('https'),http=require('http'),AutomationFramework=require(a80_0x24abc1(0x113)),PlaywrightDriverModule=require(a80_0x24abc1(0x130)),TestInfo=require(a80_0x24abc1(0xde)),TestFrameworkConstants=require(a80_0x24abc1(0x10e)),{createClassLogger}=require(a80_0x24abc1(0x129));function a80_0x33b6(){const _0x4fcfe0=['XckqC','Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.','homedir','TOSyI','clearAttachments','LGKJo','logger','3741550dDDGVC','../../helpers/classLogger.js','55IScMGg','File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.','toFixed','KEY_FILE_PATH','basename','getState','./modules/playwrightDriverModule','getTrackedInstance','NcODH','AlgyT','sXyAi','Created\x20.browserstack\x20folder\x20at:\x20%s','path','BuildLevel','trackFile','message','rmSync','tkgSm','180175PeYWaZ','http://','getTestDetails','7ySJTQa','RuPEO','modules','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload','hbjms','sPVDk','finish','./TestInfo','getInstance','Cleared\x20attachment\x20folder','KEY_TEST_ATTACHMENTS','KEY_FILE_SIZE','buildHashedId','createWriteStream','PbVOx','BtoJz','BhqBt','debug','9039OlkkBf','Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','testhubConfig','statSync','toObject','https://','KEY_TEST_ID','eZCVe','format','IJNOy','error','5191914REzVJl','TestHubModule','bfjre','uploadAttachments','80245LheCmy','MbkKY','setTestDetails','copyFileSync','WGCQE','3971704wQwhzv','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','qBaqu','2372121rZziFN','existsSync','./browserstackCLI','File\x20downloaded\x20to:\x20%s','224pBQEbn','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','startsWith','join','KEY_FILE_NAME','SFyzO','uNsms','mkdirSync','unlinkSync','Created\x20folder:\x20%s','./framework/constants/testFrameworkConstants','size','Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.','.browserstack','force','./framework/automationFramework','XNmSL','TestLevel','QddXW','kjaXF','LNlqr','862DqQIaf','EsDxU','util','close','No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s','uploadAttachmentsManager','trim','pZxFj'];a80_0x33b6=function(){return _0x4fcfe0;};return a80_0x33b6();}class uploadAttachmentsManager{static [a80_0x24abc1(0x127)]=createClassLogger(a80_0x24abc1(0x11e));static[a80_0x24abc1(0xf7)](_0x30cc0e,_0x2b0531=![]){const _0x1e51f5=a80_0x24abc1,_0x29f47f={};_0x29f47f[_0x1e51f5(0x126)]=function(_0x549165,_0x39e330){return _0x549165/_0x39e330;},_0x29f47f['uJCbb']=function(_0x1e3a7d,_0x893c27){return _0x1e3a7d*_0x893c27;},_0x29f47f[_0x1e51f5(0xfc)]=function(_0x14f0b0,_0x52f903){return _0x14f0b0>_0x52f903;},_0x29f47f['bfjre']=_0x1e51f5(0x122),_0x29f47f[_0x1e51f5(0xf0)]=_0x1e51f5(0x103),_0x29f47f[_0x1e51f5(0x120)]=function(_0x4c6071,_0x3bc219){return _0x4c6071===_0x3bc219;},_0x29f47f['hbjms']=_0x1e51f5(0xdd),_0x29f47f[_0x1e51f5(0x117)]=_0x1e51f5(0xda),_0x29f47f['AlgyT']=_0x1e51f5(0xd9),_0x29f47f['qBaqu']='Attachment\x20recevied\x20for\x20path:\x20%s',_0x29f47f[_0x1e51f5(0x121)]=_0x1e51f5(0x111),_0x29f47f['ewSHb']=_0x1e51f5(0x105),_0x29f47f[_0x1e51f5(0x118)]=_0x1e51f5(0x135),_0x29f47f[_0x1e51f5(0x134)]=_0x1e51f5(0x10d),_0x29f47f[_0x1e51f5(0x124)]=function(_0x253a61,_0x305dd6){return _0x253a61===_0x305dd6;},_0x29f47f[_0x1e51f5(0x132)]=_0x1e51f5(0x110),_0x29f47f[_0x1e51f5(0xd7)]=_0x1e51f5(0xee),_0x29f47f[_0x1e51f5(0x11a)]=_0x1e51f5(0x13d),_0x29f47f[_0x1e51f5(0xe5)]=_0x1e51f5(0xf3),_0x29f47f['kbCoa']='Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s',_0x29f47f['SFyzO']=function(_0x4e7fa8,_0x79ae19){return _0x4e7fa8/_0x79ae19;},_0x29f47f[_0x1e51f5(0xf9)]=function(_0x46c388,_0x15aaa2){return _0x46c388*_0x15aaa2;},_0x29f47f[_0x1e51f5(0x13b)]=_0x1e51f5(0x12b);const _0x2ef159=_0x29f47f;this[_0x1e51f5(0x127)][_0x1e51f5(0xe8)](util[_0x1e51f5(0xf1)](_0x2ef159[_0x1e51f5(0xff)],_0x30cc0e));const _0x1445f5=os[_0x1e51f5(0x123)](),_0x209992=path[_0x1e51f5(0x107)](_0x1445f5,_0x2ef159['XckqC']);!fs['existsSync'](_0x209992)&&(this[_0x1e51f5(0x127)][_0x1e51f5(0xe8)](util[_0x1e51f5(0xf1)](_0x2ef159['ewSHb'],_0x209992)),fs[_0x1e51f5(0x10b)](_0x209992),this[_0x1e51f5(0x127)][_0x1e51f5(0xe8)](util[_0x1e51f5(0xf1)](_0x2ef159['LNlqr'],_0x209992)));const _0x3b091c=BrowserstackCLI[_0x1e51f5(0xdf)]()[_0x1e51f5(0xd8)][_0x1e51f5(0xf5)]?.[_0x1e51f5(0xeb)]?.[_0x1e51f5(0xed)]()?.['buildHashedId'],_0x4a6f1e=path[_0x1e51f5(0x107)](_0x209992,_0x3b091c);!fs[_0x1e51f5(0x101)](_0x4a6f1e)&&(fs[_0x1e51f5(0x10b)](_0x4a6f1e),this[_0x1e51f5(0x127)][_0x1e51f5(0xe8)](util['format'](_0x2ef159[_0x1e51f5(0x134)],_0x4a6f1e)));if(_0x2ef159[_0x1e51f5(0x124)](_0x30cc0e[_0x1e51f5(0x11f)](),'')){this['logger']['debug'](util[_0x1e51f5(0xf1)](_0x2ef159['NcODH']));return;}if(_0x30cc0e[_0x1e51f5(0x106)](_0x2ef159[_0x1e51f5(0xd7)])||_0x30cc0e[_0x1e51f5(0x106)](_0x2ef159[_0x1e51f5(0x11a)])){const _0x271bea=_0x30cc0e[_0x1e51f5(0x106)](_0x2ef159[_0x1e51f5(0xd7)])?https:http,_0x3eb13f=path['basename'](_0x30cc0e),_0x1cc74c=path[_0x1e51f5(0x107)](_0x4a6f1e,_0x3eb13f),_0x198112=fs[_0x1e51f5(0xe4)](_0x1cc74c);_0x271bea['get'](_0x30cc0e,_0x3c21c9=>{const _0x2c9066=_0x1e51f5;if(_0x2ef159[_0x2c9066(0x120)](_0x3c21c9['statusCode'],0xc8))_0x3c21c9['pipe'](_0x198112),_0x198112['on'](_0x2ef159[_0x2c9066(0xdb)],()=>{const _0x143d83=_0x2c9066;_0x198112[_0x143d83(0x11c)]();const _0x511a43=fs[_0x143d83(0xec)](_0x1cc74c),_0x5cb26b=_0x2ef159[_0x143d83(0x126)](_0x511a43[_0x143d83(0x10f)],_0x2ef159['uJCbb'](0x400,0x400));if(_0x2ef159[_0x143d83(0xfc)](_0x5cb26b,0x64)){this[_0x143d83(0x127)]['debug'](util[_0x143d83(0xf1)](_0x2ef159[_0x143d83(0xf6)],_0x5cb26b[_0x143d83(0x12c)](0x2))),fs[_0x143d83(0x10c)](_0x1cc74c);return;}this[_0x143d83(0x127)][_0x143d83(0xe8)](util[_0x143d83(0xf1)](_0x2ef159['eZCVe'],_0x1cc74c)),uploadAttachmentsManager[_0x143d83(0x138)](_0x1cc74c,_0x2b0531);});else{this[_0x2c9066(0x127)][_0x2c9066(0xe8)](util[_0x2c9066(0xf1)](_0x2ef159['kjaXF'],_0x3c21c9['statusCode'])),_0x198112[_0x2c9066(0x11c)](),fs[_0x2c9066(0x10c)](_0x1cc74c);return;}})['on'](_0x2ef159[_0x1e51f5(0xe5)],_0x3353a9=>{const _0x2bb8f7=_0x1e51f5;this[_0x2bb8f7(0x127)][_0x2bb8f7(0xe8)](util[_0x2bb8f7(0xf1)](_0x2ef159[_0x2bb8f7(0x133)],_0x3353a9['message'])),_0x198112['close'](),fs[_0x2bb8f7(0x10c)](_0x1cc74c);return;});}else{if(!fs[_0x1e51f5(0x101)](_0x30cc0e)){this['logger'][_0x1e51f5(0xe8)](util['format'](_0x2ef159['kbCoa'],_0x30cc0e));return;}const _0x16d6a9=fs[_0x1e51f5(0xec)](_0x30cc0e),_0x2cbf6b=_0x2ef159[_0x1e51f5(0x109)](_0x16d6a9[_0x1e51f5(0x10f)],_0x2ef159[_0x1e51f5(0xf9)](0x400,0x400));if(_0x2ef159['WGCQE'](_0x2cbf6b,0x64)){this[_0x1e51f5(0x127)]['debug'](util[_0x1e51f5(0xf1)](_0x2ef159[_0x1e51f5(0x13b)],_0x2cbf6b[_0x1e51f5(0x12c)](0x2)));return;}const _0x1a3aee=path[_0x1e51f5(0x12e)](_0x30cc0e),_0x475ebe=path[_0x1e51f5(0x107)](_0x4a6f1e,_0x1a3aee);fs[_0x1e51f5(0xfb)](_0x30cc0e,_0x475ebe),uploadAttachmentsManager[_0x1e51f5(0x138)](_0x475ebe,_0x2b0531);}}static[a80_0x24abc1(0x138)](_0x37b3ae,_0x291170){const _0x566fe1=a80_0x24abc1,_0x9f7e1f={};_0x9f7e1f[_0x566fe1(0xdc)]=_0x566fe1(0x137),_0x9f7e1f[_0x566fe1(0x116)]=_0x566fe1(0x115),_0x9f7e1f[_0x566fe1(0xf2)]=_0x566fe1(0xea),_0x9f7e1f[_0x566fe1(0xe7)]=_0x566fe1(0xfe);const _0x1598bb=_0x9f7e1f;try{const _0x3811c7=AutomationFramework[_0x566fe1(0x131)](),_0x3196ea=AutomationFramework[_0x566fe1(0x12f)](_0x3811c7,PlaywrightDriverModule[_0x566fe1(0xef)],''),_0x120e5b=TestInfo[_0x566fe1(0xd5)](_0x3196ea),_0x44563b=_0x120e5b[TestFrameworkConstants[_0x566fe1(0xe1)]]||{};_0x44563b[_0x37b3ae]={[TestFrameworkConstants[_0x566fe1(0xe2)]]:fs[_0x566fe1(0xec)](_0x37b3ae)[_0x566fe1(0x10f)],[TestFrameworkConstants[_0x566fe1(0x108)]]:path[_0x566fe1(0x12e)](_0x37b3ae),[TestFrameworkConstants[_0x566fe1(0x12d)]]:_0x37b3ae,[TestFrameworkConstants['KEY_FILE_LEVEL']]:_0x291170?_0x1598bb[_0x566fe1(0xdc)]:_0x1598bb[_0x566fe1(0x116)]},_0x120e5b[TestFrameworkConstants[_0x566fe1(0xe1)]]=_0x44563b,TestInfo[_0x566fe1(0xfa)](_0x3196ea,_0x120e5b),this['logger'][_0x566fe1(0xe8)](util[_0x566fe1(0xf1)](_0x1598bb[_0x566fe1(0xf2)],_0x37b3ae));}catch(_0x47c9e2){this[_0x566fe1(0x127)]['debug'](util['format'](_0x1598bb['BhqBt'],_0x47c9e2[_0x566fe1(0x139)]));}}static[a80_0x24abc1(0x125)](){const _0x5f20e9=a80_0x24abc1,_0x4c8ae6={};_0x4c8ae6[_0x5f20e9(0xe6)]=_0x5f20e9(0x111),_0x4c8ae6[_0x5f20e9(0x10a)]=_0x5f20e9(0x11d),_0x4c8ae6[_0x5f20e9(0x114)]=_0x5f20e9(0xe0);const _0x9902a4=_0x4c8ae6,_0x7bca44=os[_0x5f20e9(0x123)](),_0x1e9dae=path[_0x5f20e9(0x107)](_0x7bca44,_0x9902a4[_0x5f20e9(0xe6)]);if(!fs[_0x5f20e9(0x101)](_0x1e9dae))return;const _0xb8212=BrowserstackCLI[_0x5f20e9(0xdf)]()[_0x5f20e9(0xd8)][_0x5f20e9(0xf5)]?.['testhubConfig']?.[_0x5f20e9(0xed)]()?.[_0x5f20e9(0xe3)],_0x4ff35f=_0xb8212?path[_0x5f20e9(0x107)](_0x1e9dae,_0xb8212):null;if(!_0x4ff35f||!fs[_0x5f20e9(0x101)](_0x4ff35f)){this[_0x5f20e9(0x127)][_0x5f20e9(0xe8)](util[_0x5f20e9(0xf1)](_0x9902a4['uNsms'],_0xb8212));return;}const _0x3031f4={};_0x3031f4['recursive']=!![],_0x3031f4[_0x5f20e9(0x112)]=!![],fs[_0x5f20e9(0x13a)](_0x4ff35f,_0x3031f4),this['logger'][_0x5f20e9(0xe8)](util['format'](_0x9902a4[_0x5f20e9(0x114)]));}}module['exports']=uploadAttachmentsManager;