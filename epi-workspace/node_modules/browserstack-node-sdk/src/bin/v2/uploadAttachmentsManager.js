function a78_0x32cc(){const _0x8993a2=['./framework/constants/testFrameworkConstants','trim','Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.','force','2436oolgpz','pqsvC','5TFRvVW','File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.','size','NLiHO','2Efhqgf','./browserstackCLI','2024swkwlT','close','logger','KEY_FILE_NAME','BuildLevel','mkdirSync','getTestDetails','./modules/playwrightDriverModule','NDHZF','unlinkSync','FLrSD','uploadAttachmentsManager','path','toFixed','BLuXi','util','statusCode','existsSync','RtBJv','Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.','testhubConfig','NiVtz','DXIzH','Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','basename','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','message','uploadAttachments','Created\x20folder:\x20%s','bQBXY','TozJr','wZxEE','171544qCXJFk','finish','OcjMH','5699660oeNwpA','bbWJU','Oafgi','2465970GdYiCz','JzIhx','Attachment\x20recevied\x20for\x20path:\x20%s','rHvle','homedir','get','getTrackedInstance','pXwUR','getState','modules','http://','clearAttachments','837194kkXFCy','exports','statSync','GtSoJ','rmSync','DwpRX','http','TestHubModule','tTUQY','BNUls','KEY_FILE_PATH','debug','trackFile','toObject','VYnXn','error','VcYFW','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','tcyDl','iYDoq','KEY_FILE_SIZE','KWPXr','format','KSnmY','Created\x20.browserstack\x20folder\x20at:\x20%s','KEY_FILE_LEVEL','startsWith','.browserstack','setTestDetails','join','./framework/automationFramework','https://','KEY_TEST_ID','createWriteStream','584703KrCqCG','893742nhiKdt','Cleared\x20attachment\x20folder','zsMZn','lSVfS','buildHashedId','eFufD','QGsfW'];a78_0x32cc=function(){return _0x8993a2;};return a78_0x32cc();}const a78_0x3deb65=a78_0x1069;function a78_0x1069(_0x30b7ac,_0x435145){const _0x32ccc4=a78_0x32cc();return a78_0x1069=function(_0x106952,_0x419c2c){_0x106952=_0x106952-0x162;let _0x30356e=_0x32ccc4[_0x106952];return _0x30356e;},a78_0x1069(_0x30b7ac,_0x435145);}(function(_0x40de29,_0xf402e4){const _0x3d70ad=a78_0x1069,_0x4a667c=_0x40de29();while(!![]){try{const _0x222172=parseInt(_0x3d70ad(0x17b))/0x1+-parseInt(_0x3d70ad(0x1af))/0x2*(-parseInt(_0x3d70ad(0x19e))/0x3)+-parseInt(_0x3d70ad(0x169))/0x4+-parseInt(_0x3d70ad(0x1ab))/0x5*(-parseInt(_0x3d70ad(0x16f))/0x6)+parseInt(_0x3d70ad(0x1a9))/0x7*(-parseInt(_0x3d70ad(0x1b1))/0x8)+-parseInt(_0x3d70ad(0x19d))/0x9+-parseInt(_0x3d70ad(0x16c))/0xa;if(_0x222172===_0xf402e4)break;else _0x4a667c['push'](_0x4a667c['shift']());}catch(_0x4ae076){_0x4a667c['push'](_0x4a667c['shift']());}}}(a78_0x32cc,0xbe7d0));const os=require('os'),fs=require('fs'),path=require(a78_0x3deb65(0x1bd)),util=require(a78_0x3deb65(0x1c0)),BrowserstackCLI=require(a78_0x3deb65(0x1b0)),https=require('https'),http=require(a78_0x3deb65(0x181)),AutomationFramework=require(a78_0x3deb65(0x199)),PlaywrightDriverModule=require(a78_0x3deb65(0x1b8)),TestInfo=require('./TestInfo'),TestFrameworkConstants=require(a78_0x3deb65(0x1a5)),{createClassLogger}=require('../../helpers/classLogger.js');class uploadAttachmentsManager{static [a78_0x3deb65(0x1b3)]=createClassLogger(a78_0x3deb65(0x1bc));static[a78_0x3deb65(0x164)](_0x345acc,_0x1d49ad=![]){const _0xbce6c6=a78_0x3deb65,_0x49e5de={};_0x49e5de[_0xbce6c6(0x1a1)]=function(_0x5e1df1,_0x56e82c){return _0x5e1df1/_0x56e82c;},_0x49e5de['tJsLE']=function(_0x379078,_0x1efa38){return _0x379078*_0x1efa38;},_0x49e5de['iYDoq']=function(_0x2fb8d3,_0x3e4972){return _0x2fb8d3>_0x3e4972;},_0x49e5de[_0xbce6c6(0x190)]=_0xbce6c6(0x1c4),_0x49e5de[_0xbce6c6(0x1a4)]='File\x20downloaded\x20to:\x20%s',_0x49e5de[_0xbce6c6(0x18d)]=function(_0x13a031,_0x3a25f5){return _0x13a031===_0x3a25f5;},_0x49e5de[_0xbce6c6(0x168)]=_0xbce6c6(0x16a),_0x49e5de['OcjMH']='Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload',_0x49e5de[_0xbce6c6(0x16d)]='Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload',_0x49e5de[_0xbce6c6(0x18b)]=_0xbce6c6(0x171),_0x49e5de[_0xbce6c6(0x1c7)]=_0xbce6c6(0x196),_0x49e5de[_0xbce6c6(0x1a3)]=_0xbce6c6(0x18c),_0x49e5de['rHvle']=_0xbce6c6(0x193),_0x49e5de[_0xbce6c6(0x192)]=_0xbce6c6(0x165),_0x49e5de[_0xbce6c6(0x1aa)]=function(_0x413af5,_0x2c8fd2){return _0x413af5===_0x2c8fd2;},_0x49e5de['NiVtz']=_0xbce6c6(0x1a7),_0x49e5de['BLuXi']=_0xbce6c6(0x19a),_0x49e5de[_0xbce6c6(0x170)]=_0xbce6c6(0x179),_0x49e5de[_0xbce6c6(0x1a0)]=_0xbce6c6(0x18a),_0x49e5de[_0xbce6c6(0x17e)]='Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s',_0x49e5de[_0xbce6c6(0x166)]=function(_0xa88d63,_0x4a4d76){return _0xa88d63*_0x4a4d76;},_0x49e5de['NLiHO']=function(_0xb8bea3,_0x2acc74){return _0xb8bea3>_0x2acc74;},_0x49e5de[_0xbce6c6(0x1c3)]=_0xbce6c6(0x1ac);const _0x536a51=_0x49e5de;this['logger'][_0xbce6c6(0x186)](util[_0xbce6c6(0x191)](_0x536a51[_0xbce6c6(0x18b)],_0x345acc));const _0x11f39b=os[_0xbce6c6(0x173)](),_0x30388c=path[_0xbce6c6(0x198)](_0x11f39b,_0x536a51[_0xbce6c6(0x1c7)]);!fs[_0xbce6c6(0x1c2)](_0x30388c)&&(this['logger']['debug'](util['format'](_0x536a51[_0xbce6c6(0x1a3)],_0x30388c)),fs['mkdirSync'](_0x30388c),this[_0xbce6c6(0x1b3)][_0xbce6c6(0x186)](util[_0xbce6c6(0x191)](_0x536a51[_0xbce6c6(0x172)],_0x30388c)));const _0x84ed56=BrowserstackCLI['getInstance']()[_0xbce6c6(0x178)][_0xbce6c6(0x182)]?.[_0xbce6c6(0x1c5)]?.['toObject']()?.[_0xbce6c6(0x1a2)],_0x4e642e=path[_0xbce6c6(0x198)](_0x30388c,_0x84ed56);!fs[_0xbce6c6(0x1c2)](_0x4e642e)&&(fs[_0xbce6c6(0x1b6)](_0x4e642e),this[_0xbce6c6(0x1b3)][_0xbce6c6(0x186)](util['format'](_0x536a51[_0xbce6c6(0x192)],_0x4e642e)));if(_0x536a51['pqsvC'](_0x345acc[_0xbce6c6(0x1a6)](),'')){this[_0xbce6c6(0x1b3)][_0xbce6c6(0x186)](util[_0xbce6c6(0x191)](_0x536a51[_0xbce6c6(0x1c6)]));return;}if(_0x345acc[_0xbce6c6(0x195)](_0x536a51[_0xbce6c6(0x1bf)])||_0x345acc[_0xbce6c6(0x195)](_0x536a51[_0xbce6c6(0x170)])){const _0x285a88=_0x345acc[_0xbce6c6(0x195)](_0x536a51['BLuXi'])?https:http,_0x216960=path[_0xbce6c6(0x1c9)](_0x345acc),_0x2f5de9=path[_0xbce6c6(0x198)](_0x4e642e,_0x216960),_0x6785dc=fs[_0xbce6c6(0x19c)](_0x2f5de9);_0x285a88[_0xbce6c6(0x174)](_0x345acc,_0x28799f=>{const _0x32f34c=_0xbce6c6,_0x1cf8e5={'BNUls':function(_0x261aca,_0x10ae56){return _0x536a51['lSVfS'](_0x261aca,_0x10ae56);},'pXwUR':function(_0x27a5cd,_0x22ef7d){return _0x536a51['tJsLE'](_0x27a5cd,_0x22ef7d);},'mpTeg':function(_0x539d91,_0x2d6e5a){const _0x23c399=a78_0x1069;return _0x536a51[_0x23c399(0x18e)](_0x539d91,_0x2d6e5a);},'FLrSD':_0x536a51['KWPXr'],'iqdMC':_0x536a51[_0x32f34c(0x1a4)]};if(_0x536a51[_0x32f34c(0x18d)](_0x28799f['statusCode'],0xc8))_0x28799f['pipe'](_0x6785dc),_0x6785dc['on'](_0x536a51[_0x32f34c(0x168)],()=>{const _0x15132f=_0x32f34c;_0x6785dc[_0x15132f(0x1b2)]();const _0x21bf7e=fs[_0x15132f(0x17d)](_0x2f5de9),_0x2fbaa1=_0x1cf8e5[_0x15132f(0x184)](_0x21bf7e[_0x15132f(0x1ad)],_0x1cf8e5[_0x15132f(0x176)](0x400,0x400));if(_0x1cf8e5['mpTeg'](_0x2fbaa1,0x64)){this[_0x15132f(0x1b3)]['debug'](util[_0x15132f(0x191)](_0x1cf8e5[_0x15132f(0x1bb)],_0x2fbaa1['toFixed'](0x2))),fs[_0x15132f(0x1ba)](_0x2f5de9);return;}this[_0x15132f(0x1b3)][_0x15132f(0x186)](util[_0x15132f(0x191)](_0x1cf8e5['iqdMC'],_0x2f5de9)),uploadAttachmentsManager[_0x15132f(0x187)](_0x2f5de9,_0x1d49ad);});else{this['logger'][_0x32f34c(0x186)](util[_0x32f34c(0x191)](_0x536a51[_0x32f34c(0x16b)],_0x28799f[_0x32f34c(0x1c1)])),_0x6785dc[_0x32f34c(0x1b2)](),fs[_0x32f34c(0x1ba)](_0x2f5de9);return;}})['on'](_0x536a51['zsMZn'],_0x51584b=>{const _0x36f199=_0xbce6c6;this[_0x36f199(0x1b3)][_0x36f199(0x186)](util[_0x36f199(0x191)](_0x536a51[_0x36f199(0x16d)],_0x51584b[_0x36f199(0x163)])),_0x6785dc['close'](),fs['unlinkSync'](_0x2f5de9);return;});}else{if(!fs['existsSync'](_0x345acc)){this[_0xbce6c6(0x1b3)][_0xbce6c6(0x186)](util[_0xbce6c6(0x191)](_0x536a51['GtSoJ'],_0x345acc));return;}const _0x52e63c=fs[_0xbce6c6(0x17d)](_0x345acc),_0x13c1dd=_0x536a51[_0xbce6c6(0x1a1)](_0x52e63c['size'],_0x536a51['bQBXY'](0x400,0x400));if(_0x536a51[_0xbce6c6(0x1ae)](_0x13c1dd,0x64)){this[_0xbce6c6(0x1b3)][_0xbce6c6(0x186)](util[_0xbce6c6(0x191)](_0x536a51['RtBJv'],_0x13c1dd[_0xbce6c6(0x1be)](0x2)));return;}const _0x39ce54=path[_0xbce6c6(0x1c9)](_0x345acc),_0x24c361=path['join'](_0x4e642e,_0x39ce54);fs['copyFileSync'](_0x345acc,_0x24c361),uploadAttachmentsManager[_0xbce6c6(0x187)](_0x24c361,_0x1d49ad);}}static['trackFile'](_0x5a505f,_0x1ea992){const _0x126369=a78_0x3deb65,_0x476b1a={};_0x476b1a[_0x126369(0x180)]=_0x126369(0x1b5),_0x476b1a[_0x126369(0x183)]='TestLevel',_0x476b1a[_0x126369(0x167)]=_0x126369(0x1c8),_0x476b1a[_0x126369(0x16e)]=_0x126369(0x162);const _0x48f92d=_0x476b1a;try{const _0x57ce92=AutomationFramework[_0x126369(0x175)](),_0x324f5e=AutomationFramework[_0x126369(0x177)](_0x57ce92,PlaywrightDriverModule[_0x126369(0x19b)],''),_0x4b02eb=TestInfo[_0x126369(0x1b7)](_0x324f5e),_0x4f2111=_0x4b02eb[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{};_0x4f2111[_0x5a505f]={[TestFrameworkConstants[_0x126369(0x18f)]]:fs[_0x126369(0x17d)](_0x5a505f)[_0x126369(0x1ad)],[TestFrameworkConstants[_0x126369(0x1b4)]]:path[_0x126369(0x1c9)](_0x5a505f),[TestFrameworkConstants[_0x126369(0x185)]]:_0x5a505f,[TestFrameworkConstants[_0x126369(0x194)]]:_0x1ea992?_0x48f92d['DwpRX']:_0x48f92d[_0x126369(0x183)]},_0x4b02eb[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]=_0x4f2111,TestInfo[_0x126369(0x197)](_0x324f5e,_0x4b02eb),this[_0x126369(0x1b3)][_0x126369(0x186)](util[_0x126369(0x191)](_0x48f92d[_0x126369(0x167)],_0x5a505f));}catch(_0x2d0649){this[_0x126369(0x1b3)][_0x126369(0x186)](util[_0x126369(0x191)](_0x48f92d[_0x126369(0x16e)],_0x2d0649[_0x126369(0x163)]));}}static[a78_0x3deb65(0x17a)](){const _0x2872f6=a78_0x3deb65,_0x4cd0c8={};_0x4cd0c8[_0x2872f6(0x189)]=_0x2872f6(0x196),_0x4cd0c8['NDHZF']=_0x2872f6(0x19f);const _0x7eb248=_0x4cd0c8,_0x52d3cc=os[_0x2872f6(0x173)](),_0x477c13=path[_0x2872f6(0x198)](_0x52d3cc,_0x7eb248[_0x2872f6(0x189)]);if(!fs[_0x2872f6(0x1c2)](_0x477c13))return;const _0x4ff310=BrowserstackCLI['getInstance']()['modules'][_0x2872f6(0x182)]?.[_0x2872f6(0x1c5)]?.[_0x2872f6(0x188)]()?.[_0x2872f6(0x1a2)],_0x358a4c=path['join'](_0x477c13,_0x4ff310);if(!fs[_0x2872f6(0x1c2)](_0x358a4c))return;const _0x11e6b2={};_0x11e6b2['recursive']=!![],_0x11e6b2[_0x2872f6(0x1a8)]=!![],fs[_0x2872f6(0x17f)](_0x358a4c,_0x11e6b2),this[_0x2872f6(0x1b3)][_0x2872f6(0x186)](util[_0x2872f6(0x191)](_0x7eb248[_0x2872f6(0x1b9)]));}}module[a78_0x3deb65(0x17c)]=uploadAttachmentsManager;