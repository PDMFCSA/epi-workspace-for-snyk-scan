const a89_0x431900=a89_0x1281;(function(_0x31f8bc,_0x15786a){const _0x3c8a72=a89_0x1281,_0xc86835=_0x31f8bc();while(!![]){try{const _0x378a3a=-parseInt(_0x3c8a72(0x115))/0x1+-parseInt(_0x3c8a72(0x16f))/0x2+parseInt(_0x3c8a72(0x127))/0x3+-parseInt(_0x3c8a72(0x170))/0x4*(parseInt(_0x3c8a72(0x152))/0x5)+parseInt(_0x3c8a72(0x146))/0x6*(parseInt(_0x3c8a72(0x194))/0x7)+-parseInt(_0x3c8a72(0x168))/0x8+parseInt(_0x3c8a72(0x11d))/0x9;if(_0x378a3a===_0x15786a)break;else _0xc86835['push'](_0xc86835['shift']());}catch(_0x1746c3){_0xc86835['push'](_0xc86835['shift']());}}}(a89_0x1d4a,0xce7cb));function a89_0x1281(_0x82a009,_0x3a156c){const _0x1d4af1=a89_0x1d4a();return a89_0x1281=function(_0x128160,_0x1d2144){_0x128160=_0x128160-0x10c;let _0x55c312=_0x1d4af1[_0x128160];return _0x55c312;},a89_0x1281(_0x82a009,_0x3a156c);}const os=require('os'),fs=require('fs'),path=require(a89_0x431900(0x160)),util=require(a89_0x431900(0x14e)),BrowserstackCLI=require(a89_0x431900(0x124)),https=require(a89_0x431900(0x110)),http=require(a89_0x431900(0x14b)),AutomationFramework=require(a89_0x431900(0x156)),PlaywrightDriverModule=require(a89_0x431900(0x15d)),TestInfo=require(a89_0x431900(0x147)),TestFrameworkConstants=require(a89_0x431900(0x148)),{createClassLogger}=require(a89_0x431900(0x129));class uploadAttachmentsManager{static [a89_0x431900(0x11b)]=createClassLogger('uploadAttachmentsManager');static['uploadAttachments'](_0x3e4e7b,_0x580ab5=![]){const _0x2a4d11=a89_0x431900,_0x56e931={};_0x56e931[_0x2a4d11(0x133)]=function(_0x3d477f,_0x8a21db){return _0x3d477f/_0x8a21db;},_0x56e931[_0x2a4d11(0x149)]=function(_0x9b62f,_0xe10255){return _0x9b62f*_0xe10255;},_0x56e931[_0x2a4d11(0x16a)]=function(_0x1978f6,_0x451ea3){return _0x1978f6>_0x451ea3;},_0x56e931['BTBZh']=_0x2a4d11(0x15e),_0x56e931[_0x2a4d11(0x180)]=_0x2a4d11(0x16e),_0x56e931[_0x2a4d11(0x145)]=function(_0x968723,_0x519805){return _0x968723===_0x519805;},_0x56e931[_0x2a4d11(0x182)]='finish',_0x56e931['aNiDa']='Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload',_0x56e931[_0x2a4d11(0x155)]=_0x2a4d11(0x13e),_0x56e931['kmIVP']=_0x2a4d11(0x113),_0x56e931[_0x2a4d11(0x172)]=_0x2a4d11(0x120),_0x56e931[_0x2a4d11(0x173)]=_0x2a4d11(0x153),_0x56e931['dbdSr']=_0x2a4d11(0x138),_0x56e931[_0x2a4d11(0x121)]=_0x2a4d11(0x17d),_0x56e931[_0x2a4d11(0x174)]='Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.',_0x56e931[_0x2a4d11(0x12b)]='https://',_0x56e931[_0x2a4d11(0x125)]=_0x2a4d11(0x128),_0x56e931[_0x2a4d11(0x189)]=_0x2a4d11(0x12d),_0x56e931[_0x2a4d11(0x122)]=_0x2a4d11(0x12a),_0x56e931[_0x2a4d11(0x11c)]=function(_0x44ad40,_0x2ef9a5){return _0x44ad40>_0x2ef9a5;},_0x56e931[_0x2a4d11(0x134)]='File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.';const _0x325630=_0x56e931;this[_0x2a4d11(0x11b)][_0x2a4d11(0x11a)](util[_0x2a4d11(0x16d)](_0x325630['kmIVP'],_0x3e4e7b));const _0xe88744=os[_0x2a4d11(0x14f)](),_0x53420e=path[_0x2a4d11(0x164)](_0xe88744,_0x325630[_0x2a4d11(0x172)]);!fs['existsSync'](_0x53420e)&&(this['logger'][_0x2a4d11(0x11a)](util['format'](_0x325630[_0x2a4d11(0x173)],_0x53420e)),fs[_0x2a4d11(0x140)](_0x53420e),this[_0x2a4d11(0x11b)][_0x2a4d11(0x11a)](util[_0x2a4d11(0x16d)](_0x325630['dbdSr'],_0x53420e)));const _0x38ab13=BrowserstackCLI[_0x2a4d11(0x150)]()['modules'][_0x2a4d11(0x17a)]?.[_0x2a4d11(0x131)]?.['toObject']()?.[_0x2a4d11(0x17f)],_0x3737f0=path['join'](_0x53420e,_0x38ab13);!fs[_0x2a4d11(0x135)](_0x3737f0)&&(fs[_0x2a4d11(0x140)](_0x3737f0),this['logger'][_0x2a4d11(0x11a)](util[_0x2a4d11(0x16d)](_0x325630[_0x2a4d11(0x121)],_0x3737f0)));if(_0x325630[_0x2a4d11(0x145)](_0x3e4e7b[_0x2a4d11(0x13d)](),'')){this['logger'][_0x2a4d11(0x11a)](util['format'](_0x325630[_0x2a4d11(0x174)]));return;}if(_0x3e4e7b['startsWith'](_0x325630[_0x2a4d11(0x12b)])||_0x3e4e7b[_0x2a4d11(0x17e)](_0x325630['ULxTL'])){const _0x5083be=_0x3e4e7b[_0x2a4d11(0x17e)](_0x325630[_0x2a4d11(0x12b)])?https:http,_0x21a0ff=path[_0x2a4d11(0x154)](_0x3e4e7b),_0x104cc0=path[_0x2a4d11(0x164)](_0x3737f0,_0x21a0ff),_0x22f30f=fs[_0x2a4d11(0x159)](_0x104cc0);_0x5083be[_0x2a4d11(0x18a)](_0x3e4e7b,_0x3b39b7=>{const _0x2b7f8a=_0x2a4d11,_0x446671={'xGEYQ':function(_0x166b62,_0xe686fe){const _0x13eba0=a89_0x1281;return _0x325630[_0x13eba0(0x133)](_0x166b62,_0xe686fe);},'DXpqK':function(_0x63baae,_0x140768){const _0x202b20=a89_0x1281;return _0x325630[_0x202b20(0x149)](_0x63baae,_0x140768);},'Ihasu':function(_0xbd8f1d,_0x260820){return _0x325630['rkzDc'](_0xbd8f1d,_0x260820);},'PRwqI':_0x325630['BTBZh'],'ddqzs':_0x325630[_0x2b7f8a(0x180)]};if(_0x325630[_0x2b7f8a(0x145)](_0x3b39b7[_0x2b7f8a(0x161)],0xc8))_0x3b39b7[_0x2b7f8a(0x118)](_0x22f30f),_0x22f30f['on'](_0x325630[_0x2b7f8a(0x182)],()=>{const _0x257b8a=_0x2b7f8a;_0x22f30f[_0x257b8a(0x181)]();const _0x3e3fee=fs[_0x257b8a(0x13c)](_0x104cc0),_0x551a7e=_0x446671[_0x257b8a(0x117)](_0x3e3fee[_0x257b8a(0x12e)],_0x446671['DXpqK'](0x400,0x400));if(_0x446671[_0x257b8a(0x15c)](_0x551a7e,0x64)){this['logger'][_0x257b8a(0x11a)](util['format'](_0x446671[_0x257b8a(0x157)],_0x551a7e['toFixed'](0x2))),fs[_0x257b8a(0x192)](_0x104cc0);return;}this[_0x257b8a(0x11b)]['debug'](util['format'](_0x446671[_0x257b8a(0x15b)],_0x104cc0)),uploadAttachmentsManager[_0x257b8a(0x190)](_0x104cc0,_0x580ab5);});else{this[_0x2b7f8a(0x11b)][_0x2b7f8a(0x11a)](util[_0x2b7f8a(0x16d)](_0x325630[_0x2b7f8a(0x143)],_0x3b39b7[_0x2b7f8a(0x161)])),_0x22f30f['close'](),fs['unlinkSync'](_0x104cc0);return;}})['on'](_0x325630[_0x2a4d11(0x189)],_0x20670a=>{const _0x20dec2=_0x2a4d11;this['logger'][_0x20dec2(0x11a)](util[_0x20dec2(0x16d)](_0x325630['cjLvY'],_0x20670a['message'])),_0x22f30f['close'](),fs[_0x20dec2(0x192)](_0x104cc0);return;});}else{if(!fs['existsSync'](_0x3e4e7b)){this[_0x2a4d11(0x11b)][_0x2a4d11(0x11a)](util[_0x2a4d11(0x16d)](_0x325630['ykSnw'],_0x3e4e7b));return;}const _0x8b8742=fs[_0x2a4d11(0x13c)](_0x3e4e7b),_0x2c2266=_0x325630[_0x2a4d11(0x133)](_0x8b8742[_0x2a4d11(0x12e)],_0x325630[_0x2a4d11(0x149)](0x400,0x400));if(_0x325630[_0x2a4d11(0x11c)](_0x2c2266,0x64)){this['logger'][_0x2a4d11(0x11a)](util[_0x2a4d11(0x16d)](_0x325630[_0x2a4d11(0x134)],_0x2c2266[_0x2a4d11(0x14c)](0x2)));return;}const _0x5b1be7=path[_0x2a4d11(0x154)](_0x3e4e7b),_0x7b6c3f=path[_0x2a4d11(0x164)](_0x3737f0,_0x5b1be7);fs[_0x2a4d11(0x184)](_0x3e4e7b,_0x7b6c3f),uploadAttachmentsManager['trackFile'](_0x7b6c3f,_0x580ab5);}}static['trackFile'](_0x1148da,_0x361dea){const _0x1e9a0f=a89_0x431900,_0x5af3be={'LTihq':function(_0x34334a,_0x323c0d){return _0x34334a(_0x323c0d);},'tqLEJ':'./browserstackCLI','ILgkn':function(_0x36143d,_0xd04fad){return _0x36143d(_0xd04fad);},'xZelM':_0x1e9a0f(0x185),'RMZAL':function(_0x24ed2b,_0x44e2f7){return _0x24ed2b===_0x44e2f7;},'Jvixc':_0x1e9a0f(0x18d),'YzvxS':_0x1e9a0f(0x18f),'USkiV':_0x1e9a0f(0x163),'vAKmW':_0x1e9a0f(0x123),'zObiX':_0x1e9a0f(0x112),'JpYNv':function(_0x46f630,_0x2b7520){return _0x46f630(_0x2b7520);},'lSboh':_0x1e9a0f(0x18c),'OkMxZ':function(_0x49e66a,_0x3a8858){return _0x49e66a(_0x3a8858);},'PVPMG':_0x1e9a0f(0x144),'dLexU':_0x1e9a0f(0x18e),'cbveS':_0x1e9a0f(0x175),'xTJBh':_0x1e9a0f(0x16b)};try{let _0x500d92;const _0x4686e9=global[_0x1e9a0f(0x193)]?.[_0x1e9a0f(0x12f)]?.[_0x1e9a0f(0x13b)],_0x5ecca8=_0x5af3be[_0x1e9a0f(0x187)](require,_0x5af3be[_0x1e9a0f(0x119)]),_0x270733=_0x5af3be['ILgkn'](require,_0x5af3be[_0x1e9a0f(0x17c)]),_0x4eceb7=_0x5ecca8[_0x1e9a0f(0x150)]()[_0x1e9a0f(0x10d)]()&&_0x5af3be['RMZAL'](_0x270733[_0x1e9a0f(0x14d)]()?.['name']?.['toLowerCase'](),_0x5af3be[_0x1e9a0f(0x16c)]);if(_0x4eceb7){_0x500d92=global[_0x1e9a0f(0x130)];if(!_0x500d92){const _0x1f6d9d=AutomationFramework[_0x1e9a0f(0x11f)]();_0x500d92=AutomationFramework['getState'](_0x1f6d9d,PlaywrightDriverModule[_0x1e9a0f(0x176)],'');}this[_0x1e9a0f(0x11b)]['debug']('trackFile:\x20Jest+Playwright\x20-\x20testId\x20(testIdentifier):\x20'+_0x500d92);}else{if(!_0x4686e9){const _0x29b5f1=AutomationFramework[_0x1e9a0f(0x11f)]();_0x500d92=AutomationFramework[_0x1e9a0f(0x11e)](_0x29b5f1,PlaywrightDriverModule[_0x1e9a0f(0x176)],'');}else _0x500d92=TestInfo[_0x1e9a0f(0x167)](_0x4686e9,_0x4686e9['retry']);this[_0x1e9a0f(0x11b)][_0x1e9a0f(0x11a)]('trackFile:\x20Cucumber+Playwright\x20-\x20testId:\x20'+_0x500d92);}if(!_0x500d92){this[_0x1e9a0f(0x11b)][_0x1e9a0f(0x11a)](_0x5af3be[_0x1e9a0f(0x166)]);return;}const _0x4380a5={[TestFrameworkConstants[_0x1e9a0f(0x111)]]:fs[_0x1e9a0f(0x13c)](_0x1148da)[_0x1e9a0f(0x12e)],[TestFrameworkConstants[_0x1e9a0f(0x15a)]]:path[_0x1e9a0f(0x154)](_0x1148da),[TestFrameworkConstants[_0x1e9a0f(0x116)]]:_0x1148da,[TestFrameworkConstants[_0x1e9a0f(0x162)]]:_0x361dea?_0x5af3be[_0x1e9a0f(0x10e)]:_0x5af3be[_0x1e9a0f(0x165)]};if(_0x4eceb7){const _0x5de734=_0x5ecca8[_0x1e9a0f(0x150)]()[_0x1e9a0f(0x18b)]();if(!_0x5de734){this[_0x1e9a0f(0x11b)][_0x1e9a0f(0x11a)](_0x5af3be[_0x1e9a0f(0x191)]);return;}const _0x1dd1a6=_0x5af3be[_0x1e9a0f(0x14a)](require,_0x5af3be[_0x1e9a0f(0x169)]),_0x1d733c=_0x5af3be[_0x1e9a0f(0x171)](require,_0x5af3be[_0x1e9a0f(0x15f)]),_0x5dc353=_0x5de734['resolveInstance'](_0x1dd1a6[_0x1e9a0f(0x178)],_0x1d733c[_0x1e9a0f(0x141)]);if(!_0x5dc353){this[_0x1e9a0f(0x11b)]['debug'](_0x5af3be[_0x1e9a0f(0x114)]);return;}const _0x524386=_0x5dc353['getAllData']()[_0x1e9a0f(0x18a)](_0x500d92)||{},_0x59dd01=_0x524386[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x47be6e={..._0x59dd01};_0x47be6e[_0x1148da]=_0x4380a5;const _0x36695d=_0x47be6e,_0xba3918={[TestFrameworkConstants[_0x1e9a0f(0x13a)]]:_0x36695d},_0x351533={};_0x351533[_0x500d92]=_0xba3918,_0x5dc353[_0x1e9a0f(0x186)](_0x351533),this['logger'][_0x1e9a0f(0x11a)](_0x1e9a0f(0x142)+_0x500d92+_0x1e9a0f(0x183)+_0x1148da);}else{const _0x2330c0=TestInfo[_0x1e9a0f(0x126)](_0x500d92),_0x58d9f2=_0x2330c0[TestFrameworkConstants[_0x1e9a0f(0x13a)]]||{};_0x58d9f2[_0x1148da]=_0x4380a5,_0x2330c0[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]=_0x58d9f2,TestInfo[_0x1e9a0f(0x158)](_0x500d92,_0x2330c0),this[_0x1e9a0f(0x11b)][_0x1e9a0f(0x11a)](_0x1e9a0f(0x12c)+_0x500d92+_0x1e9a0f(0x183)+_0x1148da);}this['logger'][_0x1e9a0f(0x11a)](util[_0x1e9a0f(0x16d)](_0x5af3be['cbveS'],_0x1148da));}catch(_0x5e761b){this['logger'][_0x1e9a0f(0x11a)](util[_0x1e9a0f(0x16d)](_0x5af3be[_0x1e9a0f(0x132)],_0x5e761b[_0x1e9a0f(0x151)]));}}static[a89_0x431900(0x10f)](){const _0x2bc183=a89_0x431900,_0x3b075b={};_0x3b075b['Oqnov']=_0x2bc183(0x120),_0x3b075b[_0x2bc183(0x179)]=_0x2bc183(0x136),_0x3b075b[_0x2bc183(0x17b)]=_0x2bc183(0x13f);const _0x39c856=_0x3b075b,_0xa407b5=os[_0x2bc183(0x14f)](),_0xdf40bb=path[_0x2bc183(0x164)](_0xa407b5,_0x39c856[_0x2bc183(0x10c)]);if(!fs[_0x2bc183(0x135)](_0xdf40bb))return;const _0x563464=BrowserstackCLI[_0x2bc183(0x150)]()['modules'][_0x2bc183(0x17a)]?.[_0x2bc183(0x131)]?.['toObject']()?.[_0x2bc183(0x17f)],_0x319248=_0x563464?path[_0x2bc183(0x164)](_0xdf40bb,_0x563464):null;if(!_0x319248||!fs[_0x2bc183(0x135)](_0x319248)){this[_0x2bc183(0x11b)]['debug'](util[_0x2bc183(0x16d)](_0x39c856[_0x2bc183(0x179)],_0x563464));return;}const _0x33891f={};_0x33891f[_0x2bc183(0x139)]=!![],_0x33891f[_0x2bc183(0x177)]=!![],fs[_0x2bc183(0x188)](_0x319248,_0x33891f),this[_0x2bc183(0x11b)]['debug'](util['format'](_0x39c856[_0x2bc183(0x17b)]));}}module[a89_0x431900(0x137)]=uploadAttachmentsManager;function a89_0x1d4a(){const _0x412b25=['message','2506205CxHkOw','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','basename','cjLvY','./framework/automationFramework','PRwqI','setTestDetails','createWriteStream','KEY_FILE_NAME','ddqzs','Ihasu','./modules/playwrightDriverModule','Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.','PVPMG','path','statusCode','KEY_FILE_LEVEL','BuildLevel','join','vAKmW','YzvxS','getTestIdentifierFromTestInfo','222728jCvnoE','lSboh','rkzDc','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','Jvixc','format','File\x20downloaded\x20to:\x20%s','3114868KjVlMF','4YVXIZm','OkMxZ','LCcDa','SnxlB','FGnfA','Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','KEY_TEST_ID','force','TEST','rscdg','TestHubModule','ZlWcN','xZelM','Created\x20folder:\x20%s','startsWith','buildHashedId','xdMZh','close','heewD',',\x20filepath:\x20','copyFileSync','./cliUtils','addMultipleEntries','LTihq','rmSync','eJWBo','get','getTestFramework','./state/testFrameworkState','jest','trackFile:\x20Instance\x20not\x20available,\x20cannot\x20track\x20attachment','trackFile:\x20No\x20testId\x20available,\x20cannot\x20track\x20attachment','trackFile','zObiX','unlinkSync','__workerDetails','7QYGBxl','Oqnov','isRunning','USkiV','clearAttachments','https','KEY_FILE_SIZE','trackFile:\x20TestFramework\x20not\x20available,\x20cannot\x20track\x20attachment','Attachment\x20recevied\x20for\x20path:\x20%s','dLexU','1071801IZJeJR','KEY_FILE_PATH','xGEYQ','pipe','tqLEJ','debug','logger','gVBtJ','24467814OLaOgO','getState','getTrackedInstance','.browserstack','qUSTL','ykSnw','TestLevel','./browserstackCLI','ULxTL','getTestDetails','3244857LaFvTM','http://','../../helpers/classLogger.js','Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s','QVezv','trackFile:\x20Stored\x20attachment\x20in\x20TestInfo\x20file\x20for\x20testId:\x20','error','size','currentTest','__jestCurrentTestIdentifier','testhubConfig','xTJBh','CBhcK','iVKfC','existsSync','No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s','exports','Created\x20.browserstack\x20folder\x20at:\x20%s','recursive','KEY_TEST_ATTACHMENTS','testInfo','statSync','trim','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','Cleared\x20attachment\x20folder','mkdirSync','POST','trackFile:\x20Stored\x20attachment\x20in\x20instance\x20memory\x20for\x20testId:\x20','aNiDa','./state/hookState','SZoeO','1222938xtpxXf','./TestInfo','./framework/constants/testFrameworkConstants','lLWXX','JpYNv','http','toFixed','getTestFrameworkDetail','util','homedir','getInstance'];a89_0x1d4a=function(){return _0x412b25;};return a89_0x1d4a();}