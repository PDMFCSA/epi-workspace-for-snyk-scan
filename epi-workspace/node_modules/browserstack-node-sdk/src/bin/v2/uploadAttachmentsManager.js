function a80_0x4e8c(){const _0x79972b=['toFixed','mAumH','Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','get','679lqiqOr','trim','util','DgECv','modules','2497488OqpbVi','vmzSy','getState','ywBdG','getTrackedInstance','debug','Created\x20.browserstack\x20folder\x20at:\x20%s','UqlTh','dXfsu','../../helpers/classLogger.js','huYjy','KEY_TEST_ATTACHMENTS','testhubConfig','816fpYxnk','startsWith','MZJeu','XexOS','existsSync','TestLevel','pipe','SuYQL','./modules/playwrightDriverModule','626568GXLCRe','statusCode','KEY_FILE_SIZE','Hvjsi','unlinkSync','6svnFoS','https','trackFile','gMLKa','81120vweCaK','TestHubModule','force','LatsE','buildHashedId','FJgHK','rmSync','message','Created\x20folder:\x20%s','uploadAttachmentsManager','./browserstackCLI','1141170elhupV','PDIyD','netpk','123748KSOGkC','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','join','createWriteStream','logger','BBaXE','Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload','getInstance','mkdirSync','BuildLevel','hEDed','exports','ydPRQ','115182SFppXH','wIsiW','setTestDetails','./TestInfo','recursive','jBPsn','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','UXxUE','./framework/constants/testFrameworkConstants','Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.','zEJoK','Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s','homedir','ltgns','KEY_FILE_NAME','statSync','mKMKU','getTestDetails','http','KEY_FILE_PATH','toObject','https://','Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.','format','.browserstack','No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s','copyFileSync','Attachment\x20recevied\x20for\x20path:\x20%s','path','size','EJTtd','close','hMQVO'];a80_0x4e8c=function(){return _0x79972b;};return a80_0x4e8c();}const a80_0x1a9259=a80_0x32da;function a80_0x32da(_0x41ef03,_0x440dbc){const _0x4e8c91=a80_0x4e8c();return a80_0x32da=function(_0x32daba,_0x145daa){_0x32daba=_0x32daba-0xae;let _0xe378af=_0x4e8c91[_0x32daba];return _0xe378af;},a80_0x32da(_0x41ef03,_0x440dbc);}(function(_0x31ec94,_0x13928f){const _0xa4e6f5=a80_0x32da,_0x3b4c46=_0x31ec94();while(!![]){try{const _0xa89c94=-parseInt(_0xa4e6f5(0xe1))/0x1+-parseInt(_0xa4e6f5(0xd8))/0x2+parseInt(_0xa4e6f5(0xdd))/0x3*(parseInt(_0xa4e6f5(0xef))/0x4)+parseInt(_0xa4e6f5(0xec))/0x5+-parseInt(_0xa4e6f5(0xcf))/0x6*(-parseInt(_0xa4e6f5(0xbd))/0x7)+parseInt(_0xa4e6f5(0xc2))/0x8+-parseInt(_0xa4e6f5(0xfc))/0x9;if(_0xa89c94===_0x13928f)break;else _0x3b4c46['push'](_0x3b4c46['shift']());}catch(_0x5a0bfb){_0x3b4c46['push'](_0x3b4c46['shift']());}}}(a80_0x4e8c,0x32d9c));const os=require('os'),fs=require('fs'),path=require(a80_0x1a9259(0xb4)),util=require(a80_0x1a9259(0xbf)),BrowserstackCLI=require(a80_0x1a9259(0xeb)),https=require(a80_0x1a9259(0xde)),http=require(a80_0x1a9259(0x10e)),AutomationFramework=require('./framework/automationFramework'),PlaywrightDriverModule=require(a80_0x1a9259(0xd7)),TestInfo=require(a80_0x1a9259(0xff)),TestFrameworkConstants=require(a80_0x1a9259(0x104)),{createClassLogger}=require(a80_0x1a9259(0xcb));class uploadAttachmentsManager{static ['logger']=createClassLogger(a80_0x1a9259(0xea));static['uploadAttachments'](_0x8aa08f,_0x4b021c=![]){const _0x2a70f8=a80_0x1a9259,_0x4a34d3={};_0x4a34d3[_0x2a70f8(0xf9)]=function(_0x194366,_0x387891){return _0x194366/_0x387891;},_0x4a34d3['XexOS']=function(_0x4ea1bf,_0x61d70){return _0x4ea1bf*_0x61d70;},_0x4a34d3[_0x2a70f8(0xd1)]=function(_0x58d565,_0x5370c6){return _0x58d565>_0x5370c6;},_0x4a34d3[_0x2a70f8(0xfd)]=_0x2a70f8(0x105),_0x4a34d3[_0x2a70f8(0x106)]='File\x20downloaded\x20to:\x20%s',_0x4a34d3['ltgns']=function(_0x1d2c2c,_0x3c11fb){return _0x1d2c2c===_0x3c11fb;},_0x4a34d3[_0x2a70f8(0xc3)]='finish',_0x4a34d3['netpk']=_0x2a70f8(0xf5),_0x4a34d3[_0x2a70f8(0xba)]=_0x2a70f8(0xf0),_0x4a34d3['hMnGv']=_0x2a70f8(0xb3),_0x4a34d3[_0x2a70f8(0xc9)]=_0x2a70f8(0xb0),_0x4a34d3[_0x2a70f8(0xf4)]=_0x2a70f8(0x102),_0x4a34d3[_0x2a70f8(0xd6)]=_0x2a70f8(0xc8),_0x4a34d3[_0x2a70f8(0xca)]=_0x2a70f8(0xe9),_0x4a34d3[_0x2a70f8(0xe6)]=_0x2a70f8(0xae),_0x4a34d3[_0x2a70f8(0xc5)]=_0x2a70f8(0x111),_0x4a34d3[_0x2a70f8(0xdb)]='http://',_0x4a34d3['TMfWa']='error',_0x4a34d3[_0x2a70f8(0xe4)]=_0x2a70f8(0x107),_0x4a34d3['jBPsn']=function(_0x508d71,_0x52a943){return _0x508d71/_0x52a943;},_0x4a34d3[_0x2a70f8(0xed)]=function(_0x3e919f,_0x356ded){return _0x3e919f*_0x356ded;},_0x4a34d3[_0x2a70f8(0xb6)]='File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.';const _0x3db5b5=_0x4a34d3;this[_0x2a70f8(0xf3)][_0x2a70f8(0xc7)](util[_0x2a70f8(0xaf)](_0x3db5b5['hMnGv'],_0x8aa08f));const _0xaec1e7=os[_0x2a70f8(0x108)](),_0x2b7214=path[_0x2a70f8(0xf1)](_0xaec1e7,_0x3db5b5['UqlTh']);!fs['existsSync'](_0x2b7214)&&(this[_0x2a70f8(0xf3)][_0x2a70f8(0xc7)](util['format'](_0x3db5b5[_0x2a70f8(0xf4)],_0x2b7214)),fs[_0x2a70f8(0xf7)](_0x2b7214),this[_0x2a70f8(0xf3)][_0x2a70f8(0xc7)](util[_0x2a70f8(0xaf)](_0x3db5b5['SuYQL'],_0x2b7214)));const _0x103f06=BrowserstackCLI[_0x2a70f8(0xf6)]()[_0x2a70f8(0xc1)][_0x2a70f8(0xe2)]?.['testhubConfig']?.[_0x2a70f8(0x110)]()?.['buildHashedId'],_0x4b2100=path[_0x2a70f8(0xf1)](_0x2b7214,_0x103f06);!fs[_0x2a70f8(0xd3)](_0x4b2100)&&(fs[_0x2a70f8(0xf7)](_0x4b2100),this[_0x2a70f8(0xf3)]['debug'](util['format'](_0x3db5b5[_0x2a70f8(0xca)],_0x4b2100)));if(_0x3db5b5[_0x2a70f8(0x109)](_0x8aa08f[_0x2a70f8(0xbe)](),'')){this[_0x2a70f8(0xf3)]['debug'](util[_0x2a70f8(0xaf)](_0x3db5b5[_0x2a70f8(0xe6)]));return;}if(_0x8aa08f[_0x2a70f8(0xd0)](_0x3db5b5['ywBdG'])||_0x8aa08f[_0x2a70f8(0xd0)](_0x3db5b5[_0x2a70f8(0xdb)])){const _0x562f2a=_0x8aa08f[_0x2a70f8(0xd0)](_0x3db5b5[_0x2a70f8(0xc5)])?https:http,_0x4d5f59=path['basename'](_0x8aa08f),_0x316479=path['join'](_0x4b2100,_0x4d5f59),_0x143f0f=fs[_0x2a70f8(0xf2)](_0x316479);_0x562f2a[_0x2a70f8(0xbc)](_0x8aa08f,_0x4bd4dd=>{const _0x485cfd=_0x2a70f8;if(_0x3db5b5[_0x485cfd(0x109)](_0x4bd4dd[_0x485cfd(0xd9)],0xc8))_0x4bd4dd[_0x485cfd(0xd5)](_0x143f0f),_0x143f0f['on'](_0x3db5b5['vmzSy'],()=>{const _0x7059c0=_0x485cfd;_0x143f0f[_0x7059c0(0xb7)]();const _0x5e885a=fs[_0x7059c0(0x10b)](_0x316479),_0x42dfa0=_0x3db5b5['hEDed'](_0x5e885a['size'],_0x3db5b5[_0x7059c0(0xd2)](0x400,0x400));if(_0x3db5b5['MZJeu'](_0x42dfa0,0x64)){this[_0x7059c0(0xf3)][_0x7059c0(0xc7)](util['format'](_0x3db5b5['wIsiW'],_0x42dfa0[_0x7059c0(0xb9)](0x2))),fs[_0x7059c0(0xdc)](_0x316479);return;}this[_0x7059c0(0xf3)][_0x7059c0(0xc7)](util[_0x7059c0(0xaf)](_0x3db5b5[_0x7059c0(0x106)],_0x316479)),uploadAttachmentsManager['trackFile'](_0x316479,_0x4b021c);});else{this[_0x485cfd(0xf3)][_0x485cfd(0xc7)](util['format'](_0x3db5b5[_0x485cfd(0xee)],_0x4bd4dd['statusCode'])),_0x143f0f['close'](),fs[_0x485cfd(0xdc)](_0x316479);return;}})['on'](_0x3db5b5['TMfWa'],_0x18057c=>{const _0x152567=_0x2a70f8;this[_0x152567(0xf3)][_0x152567(0xc7)](util[_0x152567(0xaf)](_0x3db5b5[_0x152567(0xba)],_0x18057c[_0x152567(0xe8)])),_0x143f0f['close'](),fs[_0x152567(0xdc)](_0x316479);return;});}else{if(!fs['existsSync'](_0x8aa08f)){this[_0x2a70f8(0xf3)][_0x2a70f8(0xc7)](util['format'](_0x3db5b5[_0x2a70f8(0xe4)],_0x8aa08f));return;}const _0x15f455=fs['statSync'](_0x8aa08f),_0xe52a34=_0x3db5b5[_0x2a70f8(0x101)](_0x15f455[_0x2a70f8(0xb5)],_0x3db5b5[_0x2a70f8(0xed)](0x400,0x400));if(_0x3db5b5[_0x2a70f8(0xd1)](_0xe52a34,0x64)){this[_0x2a70f8(0xf3)]['debug'](util['format'](_0x3db5b5[_0x2a70f8(0xb6)],_0xe52a34['toFixed'](0x2)));return;}const _0x3fa802=path['basename'](_0x8aa08f),_0xa50ff=path['join'](_0x4b2100,_0x3fa802);fs[_0x2a70f8(0xb2)](_0x8aa08f,_0xa50ff),uploadAttachmentsManager['trackFile'](_0xa50ff,_0x4b021c);}}static[a80_0x1a9259(0xdf)](_0x3004ab,_0x1d806a){const _0x48c2ac=a80_0x1a9259,_0x5a4013={};_0x5a4013[_0x48c2ac(0xe0)]=_0x48c2ac(0xf8),_0x5a4013[_0x48c2ac(0xcc)]=_0x48c2ac(0xd4),_0x5a4013[_0x48c2ac(0xc0)]=_0x48c2ac(0xbb),_0x5a4013[_0x48c2ac(0x10c)]='Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload';const _0x38bb07=_0x5a4013;try{const _0x1905d2=AutomationFramework[_0x48c2ac(0xc6)](),_0xe3e6a0=AutomationFramework[_0x48c2ac(0xc4)](_0x1905d2,PlaywrightDriverModule['KEY_TEST_ID'],''),_0x109b48=TestInfo[_0x48c2ac(0x10d)](_0xe3e6a0),_0x458c92=_0x109b48[TestFrameworkConstants[_0x48c2ac(0xcd)]]||{};_0x458c92[_0x3004ab]={[TestFrameworkConstants[_0x48c2ac(0xda)]]:fs[_0x48c2ac(0x10b)](_0x3004ab)[_0x48c2ac(0xb5)],[TestFrameworkConstants[_0x48c2ac(0x10a)]]:path['basename'](_0x3004ab),[TestFrameworkConstants[_0x48c2ac(0x10f)]]:_0x3004ab,[TestFrameworkConstants['KEY_FILE_LEVEL']]:_0x1d806a?_0x38bb07[_0x48c2ac(0xe0)]:_0x38bb07[_0x48c2ac(0xcc)]},_0x109b48[TestFrameworkConstants[_0x48c2ac(0xcd)]]=_0x458c92,TestInfo[_0x48c2ac(0xfe)](_0xe3e6a0,_0x109b48),this[_0x48c2ac(0xf3)][_0x48c2ac(0xc7)](util[_0x48c2ac(0xaf)](_0x38bb07[_0x48c2ac(0xc0)],_0x3004ab));}catch(_0x21c388){this['logger'][_0x48c2ac(0xc7)](util['format'](_0x38bb07['mKMKU'],_0x21c388[_0x48c2ac(0xe8)]));}}static['clearAttachments'](){const _0xadf4a=a80_0x1a9259,_0x4b7dff={};_0x4b7dff['UXxUE']='.browserstack',_0x4b7dff[_0xadf4a(0xfb)]=_0xadf4a(0xb1),_0x4b7dff['hMQVO']='Cleared\x20attachment\x20folder';const _0xd56be0=_0x4b7dff,_0x5dfd80=os['homedir'](),_0x576b4f=path[_0xadf4a(0xf1)](_0x5dfd80,_0xd56be0[_0xadf4a(0x103)]);if(!fs[_0xadf4a(0xd3)](_0x576b4f))return;const _0x1b7f53=BrowserstackCLI[_0xadf4a(0xf6)]()[_0xadf4a(0xc1)][_0xadf4a(0xe2)]?.[_0xadf4a(0xce)]?.[_0xadf4a(0x110)]()?.[_0xadf4a(0xe5)],_0x1ee15f=_0x1b7f53?path[_0xadf4a(0xf1)](_0x576b4f,_0x1b7f53):null;if(!_0x1ee15f||!fs[_0xadf4a(0xd3)](_0x1ee15f)){this['logger'][_0xadf4a(0xc7)](util[_0xadf4a(0xaf)](_0xd56be0['ydPRQ'],_0x1b7f53));return;}const _0x6bb463={};_0x6bb463[_0xadf4a(0x100)]=!![],_0x6bb463[_0xadf4a(0xe3)]=!![],fs[_0xadf4a(0xe7)](_0x1ee15f,_0x6bb463),this[_0xadf4a(0xf3)][_0xadf4a(0xc7)](util[_0xadf4a(0xaf)](_0xd56be0[_0xadf4a(0xb8)]));}}module[a80_0x1a9259(0xfa)]=uploadAttachmentsManager;