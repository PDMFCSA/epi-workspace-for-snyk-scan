const a88_0x5f15ed=a88_0x43e8;function a88_0x43e8(_0x47855c,_0x17ee61){const _0xc720c5=a88_0xc720();return a88_0x43e8=function(_0x43e886,_0x79b51f){_0x43e886=_0x43e886-0xb3;let _0x264619=_0xc720c5[_0x43e886];return _0x264619;},a88_0x43e8(_0x47855c,_0x17ee61);}(function(_0x545caa,_0x2f4561){const _0x4fb303=a88_0x43e8,_0x104ea8=_0x545caa();while(!![]){try{const _0x3a8eca=parseInt(_0x4fb303(0xbf))/0x1+parseInt(_0x4fb303(0xdb))/0x2*(-parseInt(_0x4fb303(0xfe))/0x3)+parseInt(_0x4fb303(0xce))/0x4*(parseInt(_0x4fb303(0xba))/0x5)+parseInt(_0x4fb303(0x117))/0x6+parseInt(_0x4fb303(0x10e))/0x7*(-parseInt(_0x4fb303(0x118))/0x8)+-parseInt(_0x4fb303(0x11f))/0x9+parseInt(_0x4fb303(0x103))/0xa;if(_0x3a8eca===_0x2f4561)break;else _0x104ea8['push'](_0x104ea8['shift']());}catch(_0x582546){_0x104ea8['push'](_0x104ea8['shift']());}}}(a88_0xc720,0xa10a2));const os=require('os'),fs=require('fs'),path=require(a88_0x5f15ed(0xd8)),util=require(a88_0x5f15ed(0xdd)),BrowserstackCLI=require(a88_0x5f15ed(0xc1)),https=require(a88_0x5f15ed(0x104)),http=require('http'),AutomationFramework=require(a88_0x5f15ed(0xb8)),PlaywrightDriverModule=require(a88_0x5f15ed(0xf8)),TestInfo=require(a88_0x5f15ed(0x124)),TestFrameworkConstants=require(a88_0x5f15ed(0xd3)),{createClassLogger}=require(a88_0x5f15ed(0x109));class uploadAttachmentsManager{static [a88_0x5f15ed(0xd1)]=createClassLogger('uploadAttachmentsManager');static[a88_0x5f15ed(0xe9)](_0x2d3425,_0x344696=![]){const _0x17b51c=a88_0x5f15ed,_0x4addcb={};_0x4addcb[_0x17b51c(0x127)]=function(_0x539ed2,_0x25260e){return _0x539ed2/_0x25260e;},_0x4addcb[_0x17b51c(0xc8)]=function(_0xc427ea,_0x59dfb0){return _0xc427ea*_0x59dfb0;},_0x4addcb[_0x17b51c(0xcb)]=function(_0x4dac63,_0x220b69){return _0x4dac63>_0x220b69;},_0x4addcb[_0x17b51c(0xca)]=_0x17b51c(0xf6),_0x4addcb[_0x17b51c(0xfd)]=_0x17b51c(0xd2),_0x4addcb[_0x17b51c(0x128)]=function(_0x32c4d5,_0x1ff155){return _0x32c4d5===_0x1ff155;},_0x4addcb['FEuUY']='finish',_0x4addcb[_0x17b51c(0xb9)]='Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload',_0x4addcb[_0x17b51c(0x111)]=_0x17b51c(0xf4),_0x4addcb[_0x17b51c(0xde)]=_0x17b51c(0xf9),_0x4addcb[_0x17b51c(0xcc)]='.browserstack',_0x4addcb[_0x17b51c(0xc5)]=_0x17b51c(0x106),_0x4addcb[_0x17b51c(0x122)]=_0x17b51c(0xf0),_0x4addcb['EjNXt']=_0x17b51c(0x107),_0x4addcb['ozUbG']=function(_0x4ae52e,_0x217a60){return _0x4ae52e===_0x217a60;},_0x4addcb[_0x17b51c(0xcd)]=_0x17b51c(0xe0),_0x4addcb[_0x17b51c(0x105)]=_0x17b51c(0x10d),_0x4addcb[_0x17b51c(0x10c)]=_0x17b51c(0x116),_0x4addcb['AQxPK']='error',_0x4addcb['JCsLX']=_0x17b51c(0xe2),_0x4addcb[_0x17b51c(0xe4)]=function(_0x4e1822,_0x4f930b){return _0x4e1822*_0x4f930b;},_0x4addcb[_0x17b51c(0xee)]=function(_0x370cef,_0x5b3364){return _0x370cef>_0x5b3364;},_0x4addcb[_0x17b51c(0x12b)]='File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.';const _0xb205c8=_0x4addcb;this[_0x17b51c(0xd1)][_0x17b51c(0xb5)](util[_0x17b51c(0xff)](_0xb205c8[_0x17b51c(0xde)],_0x2d3425));const _0x567f84=os['homedir'](),_0x480cb7=path[_0x17b51c(0x132)](_0x567f84,_0xb205c8['EOHbc']);!fs[_0x17b51c(0xbd)](_0x480cb7)&&(this[_0x17b51c(0xd1)][_0x17b51c(0xb5)](util[_0x17b51c(0xff)](_0xb205c8[_0x17b51c(0xc5)],_0x480cb7)),fs[_0x17b51c(0xc0)](_0x480cb7),this[_0x17b51c(0xd1)][_0x17b51c(0xb5)](util[_0x17b51c(0xff)](_0xb205c8[_0x17b51c(0x122)],_0x480cb7)));const _0x5b2e76=BrowserstackCLI[_0x17b51c(0xb6)]()[_0x17b51c(0xd0)][_0x17b51c(0xfc)]?.[_0x17b51c(0x131)]?.['toObject']()?.[_0x17b51c(0x12f)],_0x48cbac=path[_0x17b51c(0x132)](_0x480cb7,_0x5b2e76);!fs[_0x17b51c(0xbd)](_0x48cbac)&&(fs[_0x17b51c(0xc0)](_0x48cbac),this[_0x17b51c(0xd1)]['debug'](util[_0x17b51c(0xff)](_0xb205c8[_0x17b51c(0xd4)],_0x48cbac)));if(_0xb205c8[_0x17b51c(0x135)](_0x2d3425[_0x17b51c(0xe7)](),'')){this[_0x17b51c(0xd1)][_0x17b51c(0xb5)](util[_0x17b51c(0xff)](_0xb205c8[_0x17b51c(0xcd)]));return;}if(_0x2d3425['startsWith'](_0xb205c8[_0x17b51c(0x105)])||_0x2d3425[_0x17b51c(0xdc)](_0xb205c8[_0x17b51c(0x10c)])){const _0x38d896=_0x2d3425['startsWith'](_0xb205c8[_0x17b51c(0x105)])?https:http,_0x320c0d=path['basename'](_0x2d3425),_0x182237=path['join'](_0x48cbac,_0x320c0d),_0x4cf96d=fs['createWriteStream'](_0x182237);_0x38d896['get'](_0x2d3425,_0x15e17a=>{const _0x3b4bb2=_0x17b51c,_0x34108b={'FNwHC':function(_0x10d51e,_0x4af7aa){return _0xb205c8['UzGUZ'](_0x10d51e,_0x4af7aa);},'hiYWt':function(_0x15b95a,_0x4e3faf){const _0x588b53=a88_0x43e8;return _0xb205c8[_0x588b53(0xc8)](_0x15b95a,_0x4e3faf);},'ifmHu':function(_0x348987,_0x33d8dc){return _0xb205c8['KZzlw'](_0x348987,_0x33d8dc);},'LtNmL':_0xb205c8[_0x3b4bb2(0xca)],'VJgGO':_0xb205c8[_0x3b4bb2(0xfd)]};if(_0xb205c8[_0x3b4bb2(0x128)](_0x15e17a[_0x3b4bb2(0x134)],0xc8))_0x15e17a[_0x3b4bb2(0x130)](_0x4cf96d),_0x4cf96d['on'](_0xb205c8[_0x3b4bb2(0xc6)],()=>{const _0x528ee5=_0x3b4bb2;_0x4cf96d[_0x528ee5(0x108)]();const _0x51d22b=fs[_0x528ee5(0xf3)](_0x182237),_0x395eff=_0x34108b[_0x528ee5(0x112)](_0x51d22b['size'],_0x34108b['hiYWt'](0x400,0x400));if(_0x34108b[_0x528ee5(0xb4)](_0x395eff,0x64)){this[_0x528ee5(0xd1)][_0x528ee5(0xb5)](util['format'](_0x34108b['LtNmL'],_0x395eff[_0x528ee5(0x120)](0x2))),fs[_0x528ee5(0x133)](_0x182237);return;}this[_0x528ee5(0xd1)][_0x528ee5(0xb5)](util[_0x528ee5(0xff)](_0x34108b[_0x528ee5(0x10a)],_0x182237)),uploadAttachmentsManager[_0x528ee5(0xbb)](_0x182237,_0x344696);});else{this[_0x3b4bb2(0xd1)][_0x3b4bb2(0xb5)](util[_0x3b4bb2(0xff)](_0xb205c8[_0x3b4bb2(0xb9)],_0x15e17a[_0x3b4bb2(0x134)])),_0x4cf96d[_0x3b4bb2(0x108)](),fs[_0x3b4bb2(0x133)](_0x182237);return;}})['on'](_0xb205c8[_0x17b51c(0xcf)],_0x29e383=>{const _0x579472=_0x17b51c;this[_0x579472(0xd1)][_0x579472(0xb5)](util[_0x579472(0xff)](_0xb205c8[_0x579472(0x111)],_0x29e383[_0x579472(0x119)])),_0x4cf96d[_0x579472(0x108)](),fs[_0x579472(0x133)](_0x182237);return;});}else{if(!fs['existsSync'](_0x2d3425)){this[_0x17b51c(0xd1)][_0x17b51c(0xb5)](util[_0x17b51c(0xff)](_0xb205c8[_0x17b51c(0x12a)],_0x2d3425));return;}const _0x3d7f4c=fs[_0x17b51c(0xf3)](_0x2d3425),_0x59b6ed=_0xb205c8['UzGUZ'](_0x3d7f4c['size'],_0xb205c8['ELqmL'](0x400,0x400));if(_0xb205c8[_0x17b51c(0xee)](_0x59b6ed,0x64)){this[_0x17b51c(0xd1)][_0x17b51c(0xb5)](util[_0x17b51c(0xff)](_0xb205c8[_0x17b51c(0x12b)],_0x59b6ed[_0x17b51c(0x120)](0x2)));return;}const _0x37198e=path[_0x17b51c(0xd5)](_0x2d3425),_0x40eccb=path[_0x17b51c(0x132)](_0x48cbac,_0x37198e);fs[_0x17b51c(0xb3)](_0x2d3425,_0x40eccb),uploadAttachmentsManager[_0x17b51c(0xbb)](_0x40eccb,_0x344696);}}static[a88_0x5f15ed(0xbb)](_0x2cfe43,_0x42c245){const _0x508d7a=a88_0x5f15ed,_0x1fba6d={'hEaAb':function(_0x5e3b51,_0x1929c5){return _0x5e3b51(_0x1929c5);},'reYZF':_0x508d7a(0xc1),'imwyv':function(_0x35fe53,_0x1c636e){return _0x35fe53(_0x1c636e);},'qcEkD':'./cliUtils','YauxB':function(_0x46b3dd,_0x5e09e4){return _0x46b3dd===_0x5e09e4;},'bgljc':_0x508d7a(0xd9),'Giykr':_0x508d7a(0xe1),'xbTho':'BuildLevel','fZjJn':'TestLevel','RsTZR':_0x508d7a(0x11c),'ijpCu':function(_0x21428d,_0x38e393){return _0x21428d(_0x38e393);},'pglwl':_0x508d7a(0x101),'JsVjv':'./state/hookState','nDAeP':_0x508d7a(0x11e),'AUwme':_0x508d7a(0x102),'kPLOQ':_0x508d7a(0x129)};try{let _0x289c26;const _0x1cbbff=global[_0x508d7a(0x136)]?.['currentTest']?.[_0x508d7a(0xf2)],_0xbd6b25=_0x1fba6d['hEaAb'](require,_0x1fba6d['reYZF']),_0x33efbd=_0x1fba6d['imwyv'](require,_0x1fba6d[_0x508d7a(0x115)]),_0x5056fd=_0xbd6b25[_0x508d7a(0xb6)]()[_0x508d7a(0x10f)]()&&_0x1fba6d[_0x508d7a(0x11d)](_0x33efbd['getTestFrameworkDetail']()?.[_0x508d7a(0xe5)]?.[_0x508d7a(0xc7)](),_0x1fba6d['bgljc']);if(_0x5056fd){_0x289c26=global[_0x508d7a(0x12e)];if(!_0x289c26){const _0x5b9493=AutomationFramework['getTrackedInstance']();_0x289c26=AutomationFramework['getState'](_0x5b9493,PlaywrightDriverModule['KEY_TEST_ID'],'');}this['logger']['debug'](_0x508d7a(0x110)+_0x289c26);}else{if(!_0x1cbbff){const _0x55d0f6=AutomationFramework['getTrackedInstance']();_0x289c26=AutomationFramework['getState'](_0x55d0f6,PlaywrightDriverModule['KEY_TEST_ID'],'');}else _0x289c26=TestInfo[_0x508d7a(0xea)](_0x1cbbff,_0x1cbbff[_0x508d7a(0xda)]);this['logger']['debug'](_0x508d7a(0xf5)+_0x289c26);}if(!_0x289c26){this[_0x508d7a(0xd1)]['debug'](_0x1fba6d[_0x508d7a(0xeb)]);return;}const _0x4b8aad={[TestFrameworkConstants[_0x508d7a(0x137)]]:fs[_0x508d7a(0xf3)](_0x2cfe43)['size'],[TestFrameworkConstants[_0x508d7a(0xe6)]]:path[_0x508d7a(0xd5)](_0x2cfe43),[TestFrameworkConstants[_0x508d7a(0xc3)]]:_0x2cfe43,[TestFrameworkConstants[_0x508d7a(0xd6)]]:_0x42c245?_0x1fba6d[_0x508d7a(0x100)]:_0x1fba6d[_0x508d7a(0xbe)]};if(_0x5056fd){const _0x1b3525=_0xbd6b25[_0x508d7a(0xb6)]()[_0x508d7a(0x11b)]();if(!_0x1b3525){this['logger'][_0x508d7a(0xb5)](_0x1fba6d[_0x508d7a(0x12c)]);return;}const _0x45f49c=_0x1fba6d[_0x508d7a(0xfb)](require,_0x1fba6d['pglwl']),_0x2a4508=_0x1fba6d['imwyv'](require,_0x1fba6d[_0x508d7a(0xfa)]),_0x206b89=_0x1b3525[_0x508d7a(0x113)](_0x45f49c[_0x508d7a(0xe3)],_0x2a4508['POST']);if(!_0x206b89){this['logger'][_0x508d7a(0xb5)](_0x1fba6d[_0x508d7a(0x10b)]);return;}const _0xd3e984=_0x206b89[_0x508d7a(0xd7)]()[_0x508d7a(0xef)](_0x289c26)||{},_0x259950=_0xd3e984[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{},_0x2b7b6d={..._0x259950};_0x2b7b6d[_0x2cfe43]=_0x4b8aad;const _0x4c9974=_0x2b7b6d,_0x3d0592={[TestFrameworkConstants[_0x508d7a(0x114)]]:_0x4c9974},_0x854d44={};_0x854d44[_0x289c26]=_0x3d0592,_0x206b89[_0x508d7a(0x121)](_0x854d44),this['logger'][_0x508d7a(0xb5)](_0x508d7a(0x126)+_0x289c26+',\x20filepath:\x20'+_0x2cfe43);}else{const _0x205838=TestInfo[_0x508d7a(0xf1)](_0x289c26),_0x94d4c0=_0x205838[TestFrameworkConstants[_0x508d7a(0x114)]]||{};_0x94d4c0[_0x2cfe43]=_0x4b8aad,_0x205838[TestFrameworkConstants[_0x508d7a(0x114)]]=_0x94d4c0,TestInfo['setTestDetails'](_0x289c26,_0x205838),this[_0x508d7a(0xd1)][_0x508d7a(0xb5)]('trackFile:\x20Stored\x20attachment\x20in\x20TestInfo\x20file\x20for\x20testId:\x20'+_0x289c26+_0x508d7a(0xc2)+_0x2cfe43);}this[_0x508d7a(0xd1)][_0x508d7a(0xb5)](util[_0x508d7a(0xff)](_0x1fba6d[_0x508d7a(0xed)],_0x2cfe43));}catch(_0x37fc55){this[_0x508d7a(0xd1)][_0x508d7a(0xb5)](util['format'](_0x1fba6d[_0x508d7a(0xbc)],_0x37fc55[_0x508d7a(0x119)]));}}static['clearAttachments'](){const _0x241ec1=a88_0x5f15ed,_0x9f1c68={};_0x9f1c68['HmDYp']=_0x241ec1(0xdf),_0x9f1c68['WFXRC']=_0x241ec1(0xb7),_0x9f1c68[_0x241ec1(0xf7)]=_0x241ec1(0xec);const _0x317a46=_0x9f1c68,_0x3660a1=os[_0x241ec1(0x12d)](),_0xd3279a=path[_0x241ec1(0x132)](_0x3660a1,_0x317a46['HmDYp']);if(!fs[_0x241ec1(0xbd)](_0xd3279a))return;const _0x1caeff=BrowserstackCLI[_0x241ec1(0xb6)]()['modules'][_0x241ec1(0xfc)]?.[_0x241ec1(0x131)]?.[_0x241ec1(0xc4)]()?.['buildHashedId'],_0x5dfbc3=_0x1caeff?path[_0x241ec1(0x132)](_0xd3279a,_0x1caeff):null;if(!_0x5dfbc3||!fs['existsSync'](_0x5dfbc3)){this[_0x241ec1(0xd1)][_0x241ec1(0xb5)](util[_0x241ec1(0xff)](_0x317a46[_0x241ec1(0x125)],_0x1caeff));return;}const _0x31184c={};_0x31184c[_0x241ec1(0x123)]=!![],_0x31184c[_0x241ec1(0xc9)]=!![],fs[_0x241ec1(0xe8)](_0x5dfbc3,_0x31184c),this[_0x241ec1(0xd1)]['debug'](util[_0x241ec1(0xff)](_0x317a46['ioaXs']));}}module[a88_0x5f15ed(0x11a)]=uploadAttachmentsManager;function a88_0xc720(){const _0x97cf32=['resolveInstance','KEY_TEST_ATTACHMENTS','qcEkD','http://','1342824vTnbzl','9143528pzgCmn','message','exports','getTestFramework','trackFile:\x20TestFramework\x20not\x20available,\x20cannot\x20track\x20attachment','YauxB','trackFile:\x20Instance\x20not\x20available,\x20cannot\x20track\x20attachment','2926179anCnor','toFixed','addMultipleEntries','SwwDI','recursive','./TestInfo','WFXRC','trackFile:\x20Stored\x20attachment\x20in\x20instance\x20memory\x20for\x20testId:\x20','UzGUZ','hXWQu','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','JCsLX','JZjrr','RsTZR','homedir','__jestCurrentTestIdentifier','buildHashedId','pipe','testhubConfig','join','unlinkSync','statusCode','ozUbG','__workerDetails','KEY_FILE_SIZE','copyFileSync','ifmHu','debug','getInstance','No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s','./framework/automationFramework','eDknH','3920665fynDhR','trackFile','kPLOQ','existsSync','fZjJn','1143251mOEZMh','mkdirSync','./browserstackCLI',',\x20filepath:\x20','KEY_FILE_PATH','toObject','XAvRw','FEuUY','toLowerCase','KzCOD','force','RwRgU','KZzlw','EOHbc','tdtmb','4rQXVOw','AQxPK','modules','logger','File\x20downloaded\x20to:\x20%s','./framework/constants/testFrameworkConstants','EjNXt','basename','KEY_FILE_LEVEL','getAllData','path','jest','retry','1161232VUirzD','startsWith','util','LPVNA','.browserstack','Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.','trackFile:\x20No\x20testId\x20available,\x20cannot\x20track\x20attachment','Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s','TEST','ELqmL','name','KEY_FILE_NAME','trim','rmSync','uploadAttachments','getTestIdentifierFromTestInfo','Giykr','Cleared\x20attachment\x20folder','AUwme','kbtBl','get','Created\x20.browserstack\x20folder\x20at:\x20%s','getTestDetails','testInfo','statSync','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','trackFile:\x20Cucumber+Playwright\x20-\x20testId:\x20','Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.','ioaXs','./modules/playwrightDriverModule','Attachment\x20recevied\x20for\x20path:\x20%s','JsVjv','ijpCu','TestHubModule','IbhfO','3jqXpKl','format','xbTho','./state/testFrameworkState','Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','5571180QkDaEq','https','wqigZ','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','Created\x20folder:\x20%s','close','../../helpers/classLogger.js','VJgGO','nDAeP','RQCVN','https://','7yKAKBb','isRunning','trackFile:\x20Jest+Playwright\x20-\x20testId\x20(testIdentifier):\x20','SMuiV','FNwHC'];a88_0xc720=function(){return _0x97cf32;};return a88_0xc720();}