function a82_0x32da(_0xbe4d3c,_0x3e5152){const _0x1ae926=a82_0x1ae9();return a82_0x32da=function(_0x32dac1,_0x52ddf5){_0x32dac1=_0x32dac1-0x16b;let _0x57ebf3=_0x1ae926[_0x32dac1];return _0x57ebf3;},a82_0x32da(_0xbe4d3c,_0x3e5152);}const a82_0x245c45=a82_0x32da;(function(_0x300a81,_0x550ced){const _0x55aa4a=a82_0x32da,_0x4aa2a3=_0x300a81();while(!![]){try{const _0x15079b=parseInt(_0x55aa4a(0x18d))/0x1+parseInt(_0x55aa4a(0x19c))/0x2*(-parseInt(_0x55aa4a(0x18e))/0x3)+parseInt(_0x55aa4a(0x185))/0x4+-parseInt(_0x55aa4a(0x1a1))/0x5*(parseInt(_0x55aa4a(0x1bc))/0x6)+parseInt(_0x55aa4a(0x19d))/0x7*(-parseInt(_0x55aa4a(0x194))/0x8)+parseInt(_0x55aa4a(0x1ae))/0x9*(parseInt(_0x55aa4a(0x175))/0xa)+-parseInt(_0x55aa4a(0x1af))/0xb;if(_0x15079b===_0x550ced)break;else _0x4aa2a3['push'](_0x4aa2a3['shift']());}catch(_0x274319){_0x4aa2a3['push'](_0x4aa2a3['shift']());}}}(a82_0x1ae9,0x52a87));function a82_0x1ae9(){const _0x1f0357=['https','statusCode','statSync','./browserstackCLI','bMFie','getTestDetails','../../helpers/classLogger.js','tubeB','AkQvV','2348720lDhJzC','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','basename','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','exports','dXVfh','KdkLp','KEY_TEST_ATTACHMENTS','636358CIBajt','2718cnFpqY','uploadAttachments','unlinkSync','QTmLr','blqWr','toFixed','20312mmphfA','jkOrA','getInstance','force','uploadAttachmentsManager','DGban','./modules/playwrightDriverModule','debug','572VaiQdN','959wKqXig','toObject','testhubConfig','nhsLH','205fHFIqL','error','PydOe','rmSync','getTestIdentifierFromTestInfo','TestLevel','currentTest','Cleared\x20attachment\x20folder','pipe','Umgtz','http://','Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload','./framework/automationFramework','57141kelZbI','3456442VekZjY','Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.','hNzJr','rRQop','FJNCO','retry','.browserstack','copyFileSync','TSZjs','startsWith','TVERG','message','format','25362QRlEVt','tRuOg','createWriteStream','homedir','DVPFV','MSQKK','KEY_FILE_SIZE','trim','trackFile','mtbuF','vktGF','existsSync','idslN','MLtos','modules','https://','testInfo','./TestInfo','close','nhPVe','size','__workerDetails','FLbvB','XNvLv','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','get','path','fEcPh','finish','buildHashedId','join','util','330FHpjsn','logger','setTestDetails','File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.','Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s','TestHubModule','mihtz'];a82_0x1ae9=function(){return _0x1f0357;};return a82_0x1ae9();}const os=require('os'),fs=require('fs'),path=require(a82_0x245c45(0x16f)),util=require(a82_0x245c45(0x174)),BrowserstackCLI=require(a82_0x245c45(0x17f)),https=require(a82_0x245c45(0x17c)),http=require('http'),AutomationFramework=require(a82_0x245c45(0x1ad)),PlaywrightDriverModule=require(a82_0x245c45(0x19a)),TestInfo=require(a82_0x245c45(0x1cd)),TestFrameworkConstants=require('./framework/constants/testFrameworkConstants'),{createClassLogger}=require(a82_0x245c45(0x182));class uploadAttachmentsManager{static ['logger']=createClassLogger(a82_0x245c45(0x198));static[a82_0x245c45(0x18f)](_0x47df2a,_0xdb6158=![]){const _0x155593=a82_0x245c45,_0x588699={};_0x588699[_0x155593(0x1a0)]=function(_0x5a9e67,_0x1c7bb2){return _0x5a9e67/_0x1c7bb2;},_0x588699[_0x155593(0x183)]=function(_0x5b0731,_0x4e8b4e){return _0x5b0731*_0x4e8b4e;},_0x588699[_0x155593(0x184)]=function(_0x3ef41a,_0x3d73ba){return _0x3ef41a>_0x3d73ba;},_0x588699['DVPFV']='Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.',_0x588699[_0x155593(0x180)]='File\x20downloaded\x20to:\x20%s',_0x588699['Umgtz']=function(_0x31382e,_0x56d291){return _0x31382e===_0x56d291;},_0x588699['blqWr']=_0x155593(0x171),_0x588699[_0x155593(0x18a)]=_0x155593(0x1ac),_0x588699[_0x155593(0x191)]=_0x155593(0x188),_0x588699['fEcPh']='Attachment\x20recevied\x20for\x20path:\x20%s',_0x588699[_0x155593(0x16c)]=_0x155593(0x1b5),_0x588699[_0x155593(0x1b2)]=_0x155593(0x16d),_0x588699['hNzJr']='Created\x20.browserstack\x20folder\x20at:\x20%s',_0x588699[_0x155593(0x1c6)]='Created\x20folder:\x20%s',_0x588699[_0x155593(0x1c5)]=function(_0x3f2bfe,_0xf3ad94){return _0x3f2bfe===_0xf3ad94;},_0x588699[_0x155593(0x16b)]=_0x155593(0x1b0),_0x588699[_0x155593(0x1c8)]=_0x155593(0x1cb),_0x588699[_0x155593(0x199)]=_0x155593(0x1ab),_0x588699['KdkLp']=_0x155593(0x1a2),_0x588699[_0x155593(0x1a3)]=_0x155593(0x179),_0x588699['TVERG']=function(_0x3a6b4d,_0x59b321){return _0x3a6b4d*_0x59b321;},_0x588699['MLtos']=function(_0x1b0f81,_0x519487){return _0x1b0f81>_0x519487;},_0x588699[_0x155593(0x1b7)]=_0x155593(0x178);const _0x4b9b6a=_0x588699;this[_0x155593(0x176)]['debug'](util[_0x155593(0x1bb)](_0x4b9b6a[_0x155593(0x170)],_0x47df2a));const _0x53dad1=os[_0x155593(0x1bf)](),_0x1362e0=path[_0x155593(0x173)](_0x53dad1,_0x4b9b6a[_0x155593(0x16c)]);!fs[_0x155593(0x1c7)](_0x1362e0)&&(this[_0x155593(0x176)][_0x155593(0x19b)](util[_0x155593(0x1bb)](_0x4b9b6a[_0x155593(0x1b2)],_0x1362e0)),fs['mkdirSync'](_0x1362e0),this[_0x155593(0x176)]['debug'](util[_0x155593(0x1bb)](_0x4b9b6a[_0x155593(0x1b1)],_0x1362e0)));const _0x16060=BrowserstackCLI[_0x155593(0x196)]()[_0x155593(0x1ca)][_0x155593(0x17a)]?.[_0x155593(0x19f)]?.[_0x155593(0x19e)]()?.[_0x155593(0x172)],_0x5b5a22=path['join'](_0x1362e0,_0x16060);!fs[_0x155593(0x1c7)](_0x5b5a22)&&(fs['mkdirSync'](_0x5b5a22),this[_0x155593(0x176)][_0x155593(0x19b)](util[_0x155593(0x1bb)](_0x4b9b6a[_0x155593(0x1c6)],_0x5b5a22)));if(_0x4b9b6a['mtbuF'](_0x47df2a[_0x155593(0x1c3)](),'')){this['logger'][_0x155593(0x19b)](util['format'](_0x4b9b6a[_0x155593(0x16b)]));return;}if(_0x47df2a[_0x155593(0x1b8)](_0x4b9b6a[_0x155593(0x1c8)])||_0x47df2a[_0x155593(0x1b8)](_0x4b9b6a[_0x155593(0x199)])){const _0x5d5fe2=_0x47df2a[_0x155593(0x1b8)](_0x4b9b6a[_0x155593(0x1c8)])?https:http,_0x5e2d41=path[_0x155593(0x187)](_0x47df2a),_0x25645f=path[_0x155593(0x173)](_0x5b5a22,_0x5e2d41),_0x5a31f2=fs[_0x155593(0x1be)](_0x25645f);_0x5d5fe2[_0x155593(0x16e)](_0x47df2a,_0x36d450=>{const _0x29f349=_0x155593;if(_0x4b9b6a[_0x29f349(0x1aa)](_0x36d450['statusCode'],0xc8))_0x36d450[_0x29f349(0x1a9)](_0x5a31f2),_0x5a31f2['on'](_0x4b9b6a[_0x29f349(0x192)],()=>{const _0x545d22=_0x29f349;_0x5a31f2['close']();const _0x4efaf4=fs[_0x545d22(0x17e)](_0x25645f),_0x409761=_0x4b9b6a[_0x545d22(0x1a0)](_0x4efaf4['size'],_0x4b9b6a[_0x545d22(0x183)](0x400,0x400));if(_0x4b9b6a[_0x545d22(0x184)](_0x409761,0x64)){this[_0x545d22(0x176)][_0x545d22(0x19b)](util['format'](_0x4b9b6a[_0x545d22(0x1c0)],_0x409761[_0x545d22(0x193)](0x2))),fs[_0x545d22(0x190)](_0x25645f);return;}this['logger'][_0x545d22(0x19b)](util[_0x545d22(0x1bb)](_0x4b9b6a[_0x545d22(0x180)],_0x25645f)),uploadAttachmentsManager[_0x545d22(0x1c4)](_0x25645f,_0xdb6158);});else{this[_0x29f349(0x176)]['debug'](util[_0x29f349(0x1bb)](_0x4b9b6a[_0x29f349(0x18a)],_0x36d450[_0x29f349(0x17d)])),_0x5a31f2[_0x29f349(0x1ce)](),fs[_0x29f349(0x190)](_0x25645f);return;}})['on'](_0x4b9b6a[_0x155593(0x18b)],_0xc8f9c5=>{const _0x230ec2=_0x155593;this[_0x230ec2(0x176)][_0x230ec2(0x19b)](util[_0x230ec2(0x1bb)](_0x4b9b6a['QTmLr'],_0xc8f9c5[_0x230ec2(0x1ba)])),_0x5a31f2[_0x230ec2(0x1ce)](),fs['unlinkSync'](_0x25645f);return;});}else{if(!fs[_0x155593(0x1c7)](_0x47df2a)){this[_0x155593(0x176)]['debug'](util[_0x155593(0x1bb)](_0x4b9b6a[_0x155593(0x1a3)],_0x47df2a));return;}const _0x332366=fs[_0x155593(0x17e)](_0x47df2a),_0x312ee6=_0x4b9b6a[_0x155593(0x1a0)](_0x332366[_0x155593(0x1d0)],_0x4b9b6a[_0x155593(0x1b9)](0x400,0x400));if(_0x4b9b6a[_0x155593(0x1c9)](_0x312ee6,0x64)){this['logger'][_0x155593(0x19b)](util[_0x155593(0x1bb)](_0x4b9b6a[_0x155593(0x1b7)],_0x312ee6['toFixed'](0x2)));return;}const _0x4441d8=path[_0x155593(0x187)](_0x47df2a),_0xadf48d=path['join'](_0x5b5a22,_0x4441d8);fs[_0x155593(0x1b6)](_0x47df2a,_0xadf48d),uploadAttachmentsManager['trackFile'](_0xadf48d,_0xdb6158);}}static[a82_0x245c45(0x1c4)](_0xf0ef84,_0x39d4c8){const _0x506c65=a82_0x245c45,_0x1da6ea={};_0x1da6ea[_0x506c65(0x1b3)]='BuildLevel',_0x1da6ea[_0x506c65(0x17b)]=_0x506c65(0x1a6),_0x1da6ea[_0x506c65(0x1bd)]='Attachment\x20file\x20tracked\x20for\x20upload:\x20%s',_0x1da6ea['DQcet']=_0x506c65(0x186);const _0x2af405=_0x1da6ea;try{const _0xb4abb0=global[_0x506c65(0x1d1)]?.[_0x506c65(0x1a7)]?.[_0x506c65(0x1cc)],_0xdfc473=TestInfo[_0x506c65(0x1a5)](_0xb4abb0,_0xb4abb0[_0x506c65(0x1b4)]),_0x37cb4c=TestInfo[_0x506c65(0x181)](_0xdfc473),_0xee9948=_0x37cb4c[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{};_0xee9948[_0xf0ef84]={[TestFrameworkConstants[_0x506c65(0x1c2)]]:fs[_0x506c65(0x17e)](_0xf0ef84)['size'],[TestFrameworkConstants['KEY_FILE_NAME']]:path['basename'](_0xf0ef84),[TestFrameworkConstants['KEY_FILE_PATH']]:_0xf0ef84,[TestFrameworkConstants['KEY_FILE_LEVEL']]:_0x39d4c8?_0x2af405['FJNCO']:_0x2af405[_0x506c65(0x17b)]},_0x37cb4c[TestFrameworkConstants[_0x506c65(0x18c)]]=_0xee9948,TestInfo[_0x506c65(0x177)](_0xdfc473,_0x37cb4c),this[_0x506c65(0x176)][_0x506c65(0x19b)](util[_0x506c65(0x1bb)](_0x2af405[_0x506c65(0x1bd)],_0xf0ef84));}catch(_0xbe921f){this['logger'][_0x506c65(0x19b)](util[_0x506c65(0x1bb)](_0x2af405['DQcet'],_0xbe921f[_0x506c65(0x1ba)]));}}static['clearAttachments'](){const _0x31f374=a82_0x245c45,_0x135d2f={};_0x135d2f[_0x31f374(0x1c1)]=_0x31f374(0x1b5),_0x135d2f[_0x31f374(0x1cf)]='No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s',_0x135d2f[_0x31f374(0x195)]=_0x31f374(0x1a8);const _0x1c2917=_0x135d2f,_0xdec452=os[_0x31f374(0x1bf)](),_0x1beb68=path[_0x31f374(0x173)](_0xdec452,_0x1c2917[_0x31f374(0x1c1)]);if(!fs[_0x31f374(0x1c7)](_0x1beb68))return;const _0x492781=BrowserstackCLI[_0x31f374(0x196)]()[_0x31f374(0x1ca)][_0x31f374(0x17a)]?.[_0x31f374(0x19f)]?.['toObject']()?.['buildHashedId'],_0x5735fe=_0x492781?path[_0x31f374(0x173)](_0x1beb68,_0x492781):null;if(!_0x5735fe||!fs[_0x31f374(0x1c7)](_0x5735fe)){this[_0x31f374(0x176)][_0x31f374(0x19b)](util[_0x31f374(0x1bb)](_0x1c2917[_0x31f374(0x1cf)],_0x492781));return;}const _0xc6100c={};_0xc6100c['recursive']=!![],_0xc6100c[_0x31f374(0x197)]=!![],fs[_0x31f374(0x1a4)](_0x5735fe,_0xc6100c),this[_0x31f374(0x176)][_0x31f374(0x19b)](util[_0x31f374(0x1bb)](_0x1c2917[_0x31f374(0x195)]));}}module[a82_0x245c45(0x189)]=uploadAttachmentsManager;