const a89_0x3b47e4=a89_0x7111;(function(_0x2c9c9f,_0x191783){const _0x9a9722=a89_0x7111,_0x34adb0=_0x2c9c9f();while(!![]){try{const _0x2f7273=parseInt(_0x9a9722(0x1d1))/0x1*(-parseInt(_0x9a9722(0x224))/0x2)+parseInt(_0x9a9722(0x22d))/0x3+parseInt(_0x9a9722(0x1e8))/0x4+parseInt(_0x9a9722(0x202))/0x5+parseInt(_0x9a9722(0x232))/0x6*(parseInt(_0x9a9722(0x1db))/0x7)+parseInt(_0x9a9722(0x210))/0x8*(parseInt(_0x9a9722(0x23c))/0x9)+-parseInt(_0x9a9722(0x24e))/0xa;if(_0x2f7273===_0x191783)break;else _0x34adb0['push'](_0x34adb0['shift']());}catch(_0x44d62d){_0x34adb0['push'](_0x34adb0['shift']());}}}(a89_0x4ecb,0x3499b));const os=require('os'),fs=require('fs'),path=require(a89_0x3b47e4(0x205)),util=require(a89_0x3b47e4(0x204)),BrowserstackCLI=require(a89_0x3b47e4(0x1d0)),https=require(a89_0x3b47e4(0x218)),http=require('http'),AutomationFramework=require(a89_0x3b47e4(0x203)),PlaywrightDriverModule=require(a89_0x3b47e4(0x22e)),TestInfo=require(a89_0x3b47e4(0x242)),TestFrameworkConstants=require(a89_0x3b47e4(0x259)),{createClassLogger}=require(a89_0x3b47e4(0x1fd));function a89_0x7111(_0x313176,_0xf61ccf){const _0x4ecb4e=a89_0x4ecb();return a89_0x7111=function(_0x711195,_0x255749){_0x711195=_0x711195-0x1ce;let _0x1bd89c=_0x4ecb4e[_0x711195];return _0x1bd89c;},a89_0x7111(_0x313176,_0xf61ccf);}class uploadAttachmentsManager{static [a89_0x3b47e4(0x220)]=createClassLogger(a89_0x3b47e4(0x1ee));static[a89_0x3b47e4(0x201)](_0x3a45c9,_0x5da812=![]){const _0x48dcd0=a89_0x3b47e4,_0x2891a5={};_0x2891a5[_0x48dcd0(0x215)]=function(_0x197ed3,_0x4923d1){return _0x197ed3/_0x4923d1;},_0x2891a5[_0x48dcd0(0x22a)]=function(_0x4ca2dc,_0x55907d){return _0x4ca2dc*_0x55907d;},_0x2891a5[_0x48dcd0(0x1d9)]=function(_0x24f8be,_0x376723){return _0x24f8be>_0x376723;},_0x2891a5[_0x48dcd0(0x21e)]=_0x48dcd0(0x1fc),_0x2891a5['bgtBk']=_0x48dcd0(0x246),_0x2891a5[_0x48dcd0(0x1e6)]=function(_0x27214d,_0x58a771){return _0x27214d===_0x58a771;},_0x2891a5[_0x48dcd0(0x1ed)]=_0x48dcd0(0x248),_0x2891a5[_0x48dcd0(0x1e5)]=_0x48dcd0(0x1f1),_0x2891a5[_0x48dcd0(0x223)]=_0x48dcd0(0x1e2),_0x2891a5[_0x48dcd0(0x255)]=_0x48dcd0(0x1f6),_0x2891a5[_0x48dcd0(0x252)]='.browserstack',_0x2891a5[_0x48dcd0(0x200)]='.browserstack\x20folder\x20not\x20found\x20at:\x20%s',_0x2891a5['jqBSj']=_0x48dcd0(0x226),_0x2891a5['hIasV']=_0x48dcd0(0x256),_0x2891a5[_0x48dcd0(0x234)]=function(_0x3c2d04,_0x1bfe22){return _0x3c2d04===_0x1bfe22;},_0x2891a5[_0x48dcd0(0x225)]=_0x48dcd0(0x1f4),_0x2891a5[_0x48dcd0(0x238)]='https://',_0x2891a5[_0x48dcd0(0x212)]=_0x48dcd0(0x22f),_0x2891a5[_0x48dcd0(0x24b)]=_0x48dcd0(0x1d4),_0x2891a5['GJQIR']=_0x48dcd0(0x211),_0x2891a5[_0x48dcd0(0x1e0)]=function(_0x424e6d,_0x4e48c1){return _0x424e6d*_0x4e48c1;},_0x2891a5[_0x48dcd0(0x228)]='File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.';const _0x8338bc=_0x2891a5;this[_0x48dcd0(0x220)]['debug'](util[_0x48dcd0(0x1ea)](_0x8338bc[_0x48dcd0(0x255)],_0x3a45c9));const _0x5f3cae=os[_0x48dcd0(0x1ec)](),_0x4b3ca4=path[_0x48dcd0(0x21c)](_0x5f3cae,_0x8338bc['ctUHs']);!fs[_0x48dcd0(0x1e4)](_0x4b3ca4)&&(this['logger'][_0x48dcd0(0x20a)](util[_0x48dcd0(0x1ea)](_0x8338bc[_0x48dcd0(0x200)],_0x4b3ca4)),fs[_0x48dcd0(0x1e7)](_0x4b3ca4),this[_0x48dcd0(0x220)][_0x48dcd0(0x20a)](util[_0x48dcd0(0x1ea)](_0x8338bc[_0x48dcd0(0x247)],_0x4b3ca4)));const _0x24affe=BrowserstackCLI[_0x48dcd0(0x1e9)]()[_0x48dcd0(0x216)][_0x48dcd0(0x243)]?.['testhubConfig']?.['toObject']()?.[_0x48dcd0(0x258)],_0x467aee=path['join'](_0x4b3ca4,_0x24affe);!fs[_0x48dcd0(0x1e4)](_0x467aee)&&(fs[_0x48dcd0(0x1e7)](_0x467aee),this[_0x48dcd0(0x220)][_0x48dcd0(0x20a)](util[_0x48dcd0(0x1ea)](_0x8338bc[_0x48dcd0(0x221)],_0x467aee)));if(_0x8338bc['ZBEkU'](_0x3a45c9['trim'](),'')){this[_0x48dcd0(0x220)][_0x48dcd0(0x20a)](util[_0x48dcd0(0x1ea)](_0x8338bc[_0x48dcd0(0x225)]));return;}if(_0x3a45c9[_0x48dcd0(0x236)](_0x8338bc['iOhAt'])||_0x3a45c9[_0x48dcd0(0x236)](_0x8338bc[_0x48dcd0(0x212)])){const _0x831992=_0x3a45c9['startsWith'](_0x8338bc['iOhAt'])?https:http,_0xbd6807=path[_0x48dcd0(0x25a)](_0x3a45c9),_0x455df8=path['join'](_0x467aee,_0xbd6807),_0x373360=fs[_0x48dcd0(0x1e3)](_0x455df8);_0x831992[_0x48dcd0(0x1f7)](_0x3a45c9,_0x21f721=>{const _0x2a6833=_0x48dcd0,_0x69a696={'NQzkn':function(_0x55e2fb,_0x148fff){const _0x12114c=a89_0x7111;return _0x8338bc[_0x12114c(0x215)](_0x55e2fb,_0x148fff);},'gWodJ':function(_0x10dfc2,_0x4a1082){const _0x59d3db=a89_0x7111;return _0x8338bc[_0x59d3db(0x22a)](_0x10dfc2,_0x4a1082);},'ofbfJ':function(_0xc76925,_0x578129){const _0x3097e5=a89_0x7111;return _0x8338bc[_0x3097e5(0x1d9)](_0xc76925,_0x578129);},'TGQQd':_0x8338bc[_0x2a6833(0x21e)],'Mlmir':_0x8338bc[_0x2a6833(0x23d)]};if(_0x8338bc[_0x2a6833(0x1e6)](_0x21f721[_0x2a6833(0x214)],0xc8))_0x21f721[_0x2a6833(0x207)](_0x373360),_0x373360['on'](_0x8338bc[_0x2a6833(0x1ed)],()=>{const _0x490bd4=_0x2a6833;_0x373360[_0x490bd4(0x1df)]();const _0x38ce25=fs[_0x490bd4(0x20d)](_0x455df8),_0x2bab7f=_0x69a696[_0x490bd4(0x1f0)](_0x38ce25['size'],_0x69a696[_0x490bd4(0x1d6)](0x400,0x400));if(_0x69a696['ofbfJ'](_0x2bab7f,0x64)){this['logger'][_0x490bd4(0x20a)](util['format'](_0x69a696['TGQQd'],_0x2bab7f[_0x490bd4(0x237)](0x2))),fs[_0x490bd4(0x1f2)](_0x455df8);return;}this[_0x490bd4(0x220)][_0x490bd4(0x20a)](util[_0x490bd4(0x1ea)](_0x69a696[_0x490bd4(0x222)],_0x455df8)),uploadAttachmentsManager[_0x490bd4(0x24d)](_0x455df8,_0x5da812);});else{this[_0x2a6833(0x220)][_0x2a6833(0x20a)](util[_0x2a6833(0x1ea)](_0x8338bc[_0x2a6833(0x1e5)],_0x21f721[_0x2a6833(0x214)])),_0x373360[_0x2a6833(0x1df)](),fs['unlinkSync'](_0x455df8);return;}})['on'](_0x8338bc[_0x48dcd0(0x24b)],_0x4ddae3=>{const _0x4e957e=_0x48dcd0;this[_0x4e957e(0x220)][_0x4e957e(0x20a)](util[_0x4e957e(0x1ea)](_0x8338bc[_0x4e957e(0x223)],_0x4ddae3[_0x4e957e(0x253)])),_0x373360[_0x4e957e(0x1df)](),fs[_0x4e957e(0x1f2)](_0x455df8);return;});}else{if(!fs[_0x48dcd0(0x1e4)](_0x3a45c9)){this[_0x48dcd0(0x220)]['debug'](util[_0x48dcd0(0x1ea)](_0x8338bc[_0x48dcd0(0x1da)],_0x3a45c9));return;}const _0x4f8d99=fs[_0x48dcd0(0x20d)](_0x3a45c9),_0x248c58=_0x8338bc['oiDBz'](_0x4f8d99[_0x48dcd0(0x1eb)],_0x8338bc['JeomS'](0x400,0x400));if(_0x8338bc[_0x48dcd0(0x1d9)](_0x248c58,0x64)){this[_0x48dcd0(0x220)][_0x48dcd0(0x20a)](util['format'](_0x8338bc['KnWIh'],_0x248c58['toFixed'](0x2)));return;}const _0x343bcf=path[_0x48dcd0(0x25a)](_0x3a45c9),_0xd06c3f=path[_0x48dcd0(0x21c)](_0x467aee,_0x343bcf);fs[_0x48dcd0(0x1f3)](_0x3a45c9,_0xd06c3f),uploadAttachmentsManager[_0x48dcd0(0x24d)](_0xd06c3f,_0x5da812);}}static['trackFile'](_0x144c35,_0x454d7e){const _0x25fa7f=a89_0x3b47e4,_0x15379b={'awCKz':function(_0x5a4614,_0x5a1fd1){return _0x5a4614(_0x5a1fd1);},'XSgDj':_0x25fa7f(0x1d0),'DZvVa':function(_0x59cbb4,_0x5b4d69){return _0x59cbb4(_0x5b4d69);},'OmGqL':'./cliUtils','XNMgd':function(_0x591586,_0x188ba7){return _0x591586===_0x188ba7;},'yAIum':_0x25fa7f(0x227),'TWjCo':_0x25fa7f(0x254),'juPeQ':_0x25fa7f(0x231),'pecCz':_0x25fa7f(0x20e),'eNTbR':_0x25fa7f(0x244),'Jfvtx':function(_0x446f17,_0x48cb3e){return _0x446f17(_0x48cb3e);},'gLpYf':'./state/testFrameworkState','iVkom':'./state/hookState','ulRXe':_0x25fa7f(0x21a),'BIbUi':_0x25fa7f(0x1f9),'iasdV':_0x25fa7f(0x23a)};try{let _0x454cd0;const _0x12eb10=global['__workerDetails']?.['currentTest']?.[_0x25fa7f(0x1ff)],_0x239a19=_0x15379b['awCKz'](require,_0x15379b[_0x25fa7f(0x1d3)]),_0xaf06f6=_0x15379b[_0x25fa7f(0x1cf)](require,_0x15379b[_0x25fa7f(0x217)]),_0x3b6535=_0x239a19[_0x25fa7f(0x1e9)]()[_0x25fa7f(0x21d)]()&&_0x15379b['XNMgd'](_0xaf06f6[_0x25fa7f(0x257)]()?.[_0x25fa7f(0x21b)]?.[_0x25fa7f(0x1d5)](),_0x15379b[_0x25fa7f(0x1f5)]);if(_0x3b6535){_0x454cd0=global['__jestCurrentTestIdentifier'];if(!_0x454cd0){const _0x59afa2=AutomationFramework['getTrackedInstance']();_0x454cd0=AutomationFramework[_0x25fa7f(0x229)](_0x59afa2,PlaywrightDriverModule[_0x25fa7f(0x230)],'');}this[_0x25fa7f(0x220)][_0x25fa7f(0x20a)](_0x25fa7f(0x206)+_0x454cd0);}else{if(!_0x12eb10){const _0x435644=AutomationFramework[_0x25fa7f(0x24c)]();_0x454cd0=AutomationFramework[_0x25fa7f(0x229)](_0x435644,PlaywrightDriverModule[_0x25fa7f(0x230)],'');}else _0x454cd0=TestInfo[_0x25fa7f(0x239)](_0x12eb10,_0x12eb10[_0x25fa7f(0x23e)]);this['logger']['debug'](_0x25fa7f(0x1dc)+_0x454cd0);}if(!_0x454cd0){this[_0x25fa7f(0x220)]['debug'](_0x15379b[_0x25fa7f(0x22c)]);return;}const _0x33e355={[TestFrameworkConstants['KEY_FILE_SIZE']]:fs[_0x25fa7f(0x20d)](_0x144c35)[_0x25fa7f(0x1eb)],[TestFrameworkConstants['KEY_FILE_NAME']]:path['basename'](_0x144c35),[TestFrameworkConstants[_0x25fa7f(0x1d8)]]:_0x144c35,[TestFrameworkConstants[_0x25fa7f(0x22b)]]:_0x454d7e?_0x15379b[_0x25fa7f(0x213)]:_0x15379b['pecCz']};if(_0x3b6535){const _0x199063=_0x239a19['getInstance']()[_0x25fa7f(0x250)]();if(!_0x199063){this[_0x25fa7f(0x220)]['debug'](_0x15379b[_0x25fa7f(0x1ef)]);return;}const _0x1fb1a0=_0x15379b[_0x25fa7f(0x219)](require,_0x15379b[_0x25fa7f(0x1d2)]),_0x327235=_0x15379b[_0x25fa7f(0x245)](require,_0x15379b[_0x25fa7f(0x21f)]),_0x1c74d2=_0x199063[_0x25fa7f(0x1dd)](_0x1fb1a0[_0x25fa7f(0x1fa)],_0x327235[_0x25fa7f(0x233)]);if(!_0x1c74d2){this[_0x25fa7f(0x220)]['debug'](_0x15379b[_0x25fa7f(0x235)]);return;}const _0x3baae8=_0x1c74d2[_0x25fa7f(0x1ce)]()[_0x25fa7f(0x1f7)](_0x454cd0)||{},_0x4d37ba=_0x3baae8[TestFrameworkConstants[_0x25fa7f(0x20c)]]||{},_0xf5536c={..._0x4d37ba};_0xf5536c[_0x144c35]=_0x33e355;const _0x871fcd=_0xf5536c,_0x1a2091={[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]:_0x871fcd},_0x108f0f={};_0x108f0f[_0x454cd0]=_0x1a2091,_0x1c74d2['addMultipleEntries'](_0x108f0f),this[_0x25fa7f(0x220)][_0x25fa7f(0x20a)](_0x25fa7f(0x240)+_0x454cd0+_0x25fa7f(0x1fb)+_0x144c35);}else{const _0x38a8d4=TestInfo[_0x25fa7f(0x1d7)](_0x454cd0),_0x3d5268=_0x38a8d4[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{};_0x3d5268[_0x144c35]=_0x33e355,_0x38a8d4[TestFrameworkConstants[_0x25fa7f(0x20c)]]=_0x3d5268,TestInfo[_0x25fa7f(0x24a)](_0x454cd0,_0x38a8d4),this['logger'][_0x25fa7f(0x20a)](_0x25fa7f(0x1de)+_0x454cd0+_0x25fa7f(0x1fb)+_0x144c35);}this[_0x25fa7f(0x220)][_0x25fa7f(0x20a)](util[_0x25fa7f(0x1ea)](_0x15379b[_0x25fa7f(0x23b)],_0x144c35));}catch(_0x5397af){this[_0x25fa7f(0x220)][_0x25fa7f(0x20a)](util['format'](_0x15379b[_0x25fa7f(0x208)],_0x5397af['message']));}}static['clearAttachments'](){const _0x174ed3=a89_0x3b47e4,_0x5bff88={};_0x5bff88[_0x174ed3(0x24f)]=_0x174ed3(0x241),_0x5bff88[_0x174ed3(0x251)]=_0x174ed3(0x209),_0x5bff88[_0x174ed3(0x20b)]=_0x174ed3(0x23f);const _0x3c3524=_0x5bff88,_0x220caf=os['homedir'](),_0xb42ab7=path[_0x174ed3(0x21c)](_0x220caf,_0x3c3524[_0x174ed3(0x24f)]);if(!fs[_0x174ed3(0x1e4)](_0xb42ab7))return;const _0x247613=BrowserstackCLI[_0x174ed3(0x1e9)]()[_0x174ed3(0x216)]['TestHubModule']?.['testhubConfig']?.[_0x174ed3(0x1e1)]()?.[_0x174ed3(0x258)],_0x175438=_0x247613?path[_0x174ed3(0x21c)](_0xb42ab7,_0x247613):null;if(!_0x175438||!fs['existsSync'](_0x175438)){this[_0x174ed3(0x220)][_0x174ed3(0x20a)](util['format'](_0x3c3524['eWbOX'],_0x247613));return;}const _0x481195={};_0x481195[_0x174ed3(0x20f)]=!![],_0x481195[_0x174ed3(0x1f8)]=!![],fs[_0x174ed3(0x249)](_0x175438,_0x481195),this[_0x174ed3(0x220)][_0x174ed3(0x20a)](util['format'](_0x3c3524[_0x174ed3(0x20b)]));}}function a89_0x4ecb(){const _0x5a7d6c=['get','force','Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','TEST',',\x20filepath:\x20','Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.','../../helpers/classLogger.js','exports','testInfo','rmlxy','uploadAttachments','532565uqpmjB','./framework/automationFramework','util','path','trackFile:\x20Jest+Playwright\x20-\x20testId\x20(testIdentifier):\x20','pipe','iasdV','No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s','debug','kHPcr','KEY_TEST_ATTACHMENTS','statSync','TestLevel','recursive','14992qTBoUl','Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s','phKXG','juPeQ','statusCode','oiDBz','modules','OmGqL','https','Jfvtx','trackFile:\x20Instance\x20not\x20available,\x20cannot\x20track\x20attachment','name','join','isRunning','nwdOU','iVkom','logger','hIasV','Mlmir','wXNeT','1222IuXrXL','NoGLX','Created\x20.browserstack\x20folder\x20at:\x20%s','jest','KnWIh','getState','lCeGc','KEY_FILE_LEVEL','TWjCo','63888qwUtRE','./modules/playwrightDriverModule','http://','KEY_TEST_ID','BuildLevel','5400pMTbog','POST','ZBEkU','ulRXe','startsWith','toFixed','iOhAt','getTestIdentifierFromTestInfo','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','BIbUi','1836fAlxec','bgtBk','retry','Cleared\x20attachment\x20folder','trackFile:\x20Stored\x20attachment\x20in\x20instance\x20memory\x20for\x20testId:\x20','.browserstack','./TestInfo','TestHubModule','trackFile:\x20TestFramework\x20not\x20available,\x20cannot\x20track\x20attachment','awCKz','File\x20downloaded\x20to:\x20%s','jqBSj','finish','rmSync','setTestDetails','MGiZU','getTrackedInstance','trackFile','4412250DGPjZC','VhdyZ','getTestFramework','eWbOX','ctUHs','message','trackFile:\x20No\x20testId\x20available,\x20cannot\x20track\x20attachment','VKsio','Created\x20folder:\x20%s','getTestFrameworkDetail','buildHashedId','./framework/constants/testFrameworkConstants','basename','getAllData','DZvVa','./browserstackCLI','381QYqKiN','gLpYf','XSgDj','error','toLowerCase','gWodJ','getTestDetails','KEY_FILE_PATH','bwZbb','GJQIR','2310eVBFBW','trackFile:\x20Cucumber+Playwright\x20-\x20testId:\x20','resolveInstance','trackFile:\x20Stored\x20attachment\x20in\x20TestInfo\x20file\x20for\x20testId:\x20','close','JeomS','toObject','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','createWriteStream','existsSync','jLXyH','XstuZ','mkdirSync','329448wzGkjx','getInstance','format','size','homedir','eyBcs','uploadAttachmentsManager','eNTbR','NQzkn','Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload','unlinkSync','copyFileSync','Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.','yAIum','Attachment\x20recevied\x20for\x20path:\x20%s'];a89_0x4ecb=function(){return _0x5a7d6c;};return a89_0x4ecb();}module[a89_0x3b47e4(0x1fe)]=uploadAttachmentsManager;