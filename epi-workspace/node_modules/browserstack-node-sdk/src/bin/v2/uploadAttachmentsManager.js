function a89_0x13f3(_0x4ae80e,_0x2a82f3){const _0x4cf4a1=a89_0x4cf4();return a89_0x13f3=function(_0x13f322,_0x2b3e08){_0x13f322=_0x13f322-0xd3;let _0x380f48=_0x4cf4a1[_0x13f322];return _0x380f48;},a89_0x13f3(_0x4ae80e,_0x2a82f3);}const a89_0x1d6c15=a89_0x13f3;(function(_0x37323e,_0x298ed3){const _0x5ad12a=a89_0x13f3,_0x1be7f0=_0x37323e();while(!![]){try{const _0x436306=parseInt(_0x5ad12a(0x11c))/0x1*(-parseInt(_0x5ad12a(0x135))/0x2)+parseInt(_0x5ad12a(0x129))/0x3+-parseInt(_0x5ad12a(0x15c))/0x4+-parseInt(_0x5ad12a(0x127))/0x5+-parseInt(_0x5ad12a(0x150))/0x6*(-parseInt(_0x5ad12a(0x153))/0x7)+-parseInt(_0x5ad12a(0x102))/0x8+parseInt(_0x5ad12a(0xf2))/0x9;if(_0x436306===_0x298ed3)break;else _0x1be7f0['push'](_0x1be7f0['shift']());}catch(_0x21d650){_0x1be7f0['push'](_0x1be7f0['shift']());}}}(a89_0x4cf4,0xe5e87));const os=require('os'),fs=require('fs'),path=require('path'),util=require(a89_0x1d6c15(0x146)),BrowserstackCLI=require(a89_0x1d6c15(0x12b)),https=require(a89_0x1d6c15(0xe8)),http=require(a89_0x1d6c15(0x122)),AutomationFramework=require(a89_0x1d6c15(0x142)),PlaywrightDriverModule=require(a89_0x1d6c15(0xd4)),TestInfo=require(a89_0x1d6c15(0x106)),TestFrameworkConstants=require('./framework/constants/testFrameworkConstants'),{createClassLogger}=require(a89_0x1d6c15(0xd7));function a89_0x4cf4(){const _0x26d5bd=['ypadX','Cleared\x20attachment\x20folder','gNPlo','https://','YwZLg','unlinkSync','mwBSm','87113kRNRJZ','isRunning','join','MlwLf','debug','addMultipleEntries','http','pipe','dVbne','dsxDY','basename','2665440ibPwCP','format','1304700slUtWu','rmSync','./browserstackCLI','close','error','BuildLevel','QTSry','EJIzn','__jestCurrentTestIdentifier','CNxJP','tiYzV','getState','34sEbEkO','testhubConfig','POST','EEaJP','createWriteStream','JFlTQ','existsSync','QEpmj','./state/testFrameworkState','Created\x20folder:\x20%s','getAllData','sLfyx','uploadAttachments','./framework/automationFramework','testInfo','wvOos','KEY_TEST_ID','util','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','QiAQM','eUFIR','KEY_FILE_NAME','force','fbWux','xuUtQ','trackFile','204Jbodsd','Jijsl','trackFile:\x20Instance\x20not\x20available,\x20cannot\x20track\x20attachment','109228rzdAth','nKOin','toObject','logger','MnBOX','trackFile:\x20Stored\x20attachment\x20in\x20instance\x20memory\x20for\x20testId:\x20','HJDcw','uploadAttachmentsManager','get','5899448dmGNbb','trackFile:\x20Cucumber+Playwright\x20-\x20testId:\x20','recursive','./modules/playwrightDriverModule','getTrackedInstance',',\x20filepath:\x20','../../helpers/classLogger.js','statSync','LevrF','buildHashedId','mkdirSync','message','JDMiY','No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s','tzgZa','RFWTz','retry','toFixed','ofnGO','etBTw','TestLevel','size','trackFile:\x20No\x20testId\x20available,\x20cannot\x20track\x20attachment','https','modules','statusCode','Rzgcf','Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.','jest','.browserstack','Attachment\x20recevied\x20for\x20path:\x20%s','Created\x20.browserstack\x20folder\x20at:\x20%s','homedir','45628533pcOZzp','trackFile:\x20Stored\x20attachment\x20in\x20TestInfo\x20file\x20for\x20testId:\x20','exports','__workerDetails','TBRnk','File\x20downloaded\x20to:\x20%s','KEY_FILE_PATH','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','name','copyFileSync','nGBxA','getTestFramework','WQewI','clearAttachments','KEY_FILE_LEVEL','startsWith','12837592qxqqON','trackFile:\x20Jest+Playwright\x20-\x20testId\x20(testIdentifier):\x20','currentTest','getInstance','./TestInfo','KEY_TEST_ATTACHMENTS','Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s','lunCA','uPLCQ','KEY_FILE_SIZE','Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','TEST','wdixP','xnucj','http://','FQljR','VpiGz','TestHubModule','./cliUtils'];a89_0x4cf4=function(){return _0x26d5bd;};return a89_0x4cf4();}class uploadAttachmentsManager{static [a89_0x1d6c15(0x156)]=createClassLogger(a89_0x1d6c15(0x15a));static[a89_0x1d6c15(0x141)](_0x35a0b2,_0x5a9958=![]){const _0x5ab499=a89_0x1d6c15,_0x1a8bf7={};_0x1a8bf7[_0x5ab499(0x133)]=function(_0x5b805a,_0xb04be){return _0x5b805a/_0xb04be;},_0x1a8bf7[_0x5ab499(0x144)]=function(_0x599713,_0x1a1ae8){return _0x599713*_0x1a1ae8;},_0x1a8bf7[_0x5ab499(0x149)]=function(_0x1985f9,_0x310d63){return _0x1985f9>_0x310d63;},_0x1a8bf7[_0x5ab499(0x14e)]=_0x5ab499(0xec),_0x1a8bf7[_0x5ab499(0x10f)]=_0x5ab499(0xf7),_0x1a8bf7[_0x5ab499(0xe3)]=function(_0x3edf94,_0x321a42){return _0x3edf94===_0x321a42;},_0x1a8bf7['LevrF']='finish',_0x1a8bf7[_0x5ab499(0x124)]='Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload',_0x1a8bf7[_0x5ab499(0x157)]=_0x5ab499(0xf9),_0x1a8bf7['EEaJP']=_0x5ab499(0xef),_0x1a8bf7[_0x5ab499(0xfe)]=_0x5ab499(0xee),_0x1a8bf7[_0x5ab499(0x125)]=_0x5ab499(0x147),_0x1a8bf7[_0x5ab499(0x117)]=_0x5ab499(0xf0),_0x1a8bf7[_0x5ab499(0x111)]=_0x5ab499(0x13e),_0x1a8bf7[_0x5ab499(0xeb)]='Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.',_0x1a8bf7[_0x5ab499(0xfc)]=_0x5ab499(0x118),_0x1a8bf7[_0x5ab499(0x151)]=_0x5ab499(0x110),_0x1a8bf7['nKOin']=_0x5ab499(0x12d),_0x1a8bf7['sDCLC']=_0x5ab499(0x108),_0x1a8bf7['MlwLf']=function(_0x160989,_0x265d17){return _0x160989/_0x265d17;},_0x1a8bf7[_0x5ab499(0x115)]=function(_0x5b4aea,_0x38b9de){return _0x5b4aea>_0x38b9de;},_0x1a8bf7[_0x5ab499(0x130)]='File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.';const _0xfa03f=_0x1a8bf7;this[_0x5ab499(0x156)]['debug'](util[_0x5ab499(0x128)](_0xfa03f[_0x5ab499(0x138)],_0x35a0b2));const _0x193014=os['homedir'](),_0x10cd20=path[_0x5ab499(0x11e)](_0x193014,_0xfa03f[_0x5ab499(0xfe)]);!fs[_0x5ab499(0x13b)](_0x10cd20)&&(this[_0x5ab499(0x156)][_0x5ab499(0x120)](util[_0x5ab499(0x128)](_0xfa03f[_0x5ab499(0x125)],_0x10cd20)),fs[_0x5ab499(0xdb)](_0x10cd20),this['logger'][_0x5ab499(0x120)](util[_0x5ab499(0x128)](_0xfa03f[_0x5ab499(0x117)],_0x10cd20)));const _0x14ea0b=BrowserstackCLI[_0x5ab499(0x105)]()[_0x5ab499(0xe9)][_0x5ab499(0x113)]?.[_0x5ab499(0x136)]?.[_0x5ab499(0x155)]()?.[_0x5ab499(0xda)],_0x178263=path[_0x5ab499(0x11e)](_0x10cd20,_0x14ea0b);!fs[_0x5ab499(0x13b)](_0x178263)&&(fs['mkdirSync'](_0x178263),this['logger'][_0x5ab499(0x120)](util[_0x5ab499(0x128)](_0xfa03f[_0x5ab499(0x111)],_0x178263)));if(_0xfa03f[_0x5ab499(0xe3)](_0x35a0b2['trim'](),'')){this[_0x5ab499(0x156)][_0x5ab499(0x120)](util[_0x5ab499(0x128)](_0xfa03f[_0x5ab499(0xeb)]));return;}if(_0x35a0b2[_0x5ab499(0x101)](_0xfa03f['nGBxA'])||_0x35a0b2[_0x5ab499(0x101)](_0xfa03f[_0x5ab499(0x151)])){const _0x2d9d81=_0x35a0b2[_0x5ab499(0x101)](_0xfa03f[_0x5ab499(0xfc)])?https:http,_0x12de0f=path[_0x5ab499(0x126)](_0x35a0b2),_0x3c08d1=path[_0x5ab499(0x11e)](_0x178263,_0x12de0f),_0x8c9da6=fs[_0x5ab499(0x139)](_0x3c08d1);_0x2d9d81[_0x5ab499(0x15b)](_0x35a0b2,_0x322b31=>{const _0x54a24c=_0x5ab499,_0x3601f0={'sLfyx':function(_0x3eb07,_0xbec5ca){const _0x2dd041=a89_0x13f3;return _0xfa03f[_0x2dd041(0x133)](_0x3eb07,_0xbec5ca);},'mwBSm':function(_0x55d230,_0x52cb35){const _0xd2a815=a89_0x13f3;return _0xfa03f[_0xd2a815(0x144)](_0x55d230,_0x52cb35);},'QEpmj':function(_0x2027f9,_0x1da303){return _0xfa03f['QiAQM'](_0x2027f9,_0x1da303);},'TBRnk':_0xfa03f[_0x54a24c(0x14e)],'CNxJP':_0xfa03f['xnucj']};if(_0xfa03f[_0x54a24c(0xe3)](_0x322b31[_0x54a24c(0xea)],0xc8))_0x322b31[_0x54a24c(0x123)](_0x8c9da6),_0x8c9da6['on'](_0xfa03f[_0x54a24c(0xd9)],()=>{const _0x1b73e0=_0x54a24c;_0x8c9da6['close']();const _0x209ddc=fs[_0x1b73e0(0xd8)](_0x3c08d1),_0xaa597=_0x3601f0[_0x1b73e0(0x140)](_0x209ddc[_0x1b73e0(0xe6)],_0x3601f0[_0x1b73e0(0x11b)](0x400,0x400));if(_0x3601f0[_0x1b73e0(0x13c)](_0xaa597,0x64)){this[_0x1b73e0(0x156)][_0x1b73e0(0x120)](util['format'](_0x3601f0[_0x1b73e0(0xf6)],_0xaa597[_0x1b73e0(0xe2)](0x2))),fs[_0x1b73e0(0x11a)](_0x3c08d1);return;}this['logger'][_0x1b73e0(0x120)](util['format'](_0x3601f0[_0x1b73e0(0x132)],_0x3c08d1)),uploadAttachmentsManager[_0x1b73e0(0x14f)](_0x3c08d1,_0x5a9958);});else{this[_0x54a24c(0x156)]['debug'](util[_0x54a24c(0x128)](_0xfa03f[_0x54a24c(0x124)],_0x322b31['statusCode'])),_0x8c9da6['close'](),fs['unlinkSync'](_0x3c08d1);return;}})['on'](_0xfa03f[_0x5ab499(0x154)],_0x4a598d=>{const _0x1c12cf=_0x5ab499;this[_0x1c12cf(0x156)][_0x1c12cf(0x120)](util[_0x1c12cf(0x128)](_0xfa03f[_0x1c12cf(0x157)],_0x4a598d[_0x1c12cf(0xdc)])),_0x8c9da6[_0x1c12cf(0x12c)](),fs[_0x1c12cf(0x11a)](_0x3c08d1);return;});}else{if(!fs[_0x5ab499(0x13b)](_0x35a0b2)){this[_0x5ab499(0x156)][_0x5ab499(0x120)](util['format'](_0xfa03f['sDCLC'],_0x35a0b2));return;}const _0x1684ac=fs[_0x5ab499(0xd8)](_0x35a0b2),_0x532e2d=_0xfa03f[_0x5ab499(0x11f)](_0x1684ac[_0x5ab499(0xe6)],_0xfa03f['wvOos'](0x400,0x400));if(_0xfa03f[_0x5ab499(0x115)](_0x532e2d,0x64)){this[_0x5ab499(0x156)][_0x5ab499(0x120)](util['format'](_0xfa03f[_0x5ab499(0x130)],_0x532e2d[_0x5ab499(0xe2)](0x2)));return;}const _0x1a4d56=path[_0x5ab499(0x126)](_0x35a0b2),_0x2d0aae=path[_0x5ab499(0x11e)](_0x178263,_0x1a4d56);fs[_0x5ab499(0xfb)](_0x35a0b2,_0x2d0aae),uploadAttachmentsManager[_0x5ab499(0x14f)](_0x2d0aae,_0x5a9958);}}static[a89_0x1d6c15(0x14f)](_0x4c3e94,_0x47df03){const _0x4dc76b=a89_0x1d6c15,_0x46cf2f={'uPLCQ':function(_0x1e2d22,_0x5124b4){return _0x1e2d22(_0x5124b4);},'QTSry':'./browserstackCLI','wdixP':function(_0x56c899,_0x332bb1){return _0x56c899(_0x332bb1);},'eUFIR':_0x4dc76b(0x114),'HJDcw':function(_0x530f4c,_0xdc50fc){return _0x530f4c===_0xdc50fc;},'lunCA':_0x4dc76b(0xed),'piUum':_0x4dc76b(0xe7),'fbWux':_0x4dc76b(0x12e),'VpiGz':_0x4dc76b(0xe5),'NmnZG':'trackFile:\x20TestFramework\x20not\x20available,\x20cannot\x20track\x20attachment','JFlTQ':_0x4dc76b(0x13d),'olAEG':function(_0x3b3984,_0x48fc3e){return _0x3b3984(_0x48fc3e);},'dTuVf':'./state/hookState','RFWTz':_0x4dc76b(0x152),'YwZLg':_0x4dc76b(0x10c),'etBTw':_0x4dc76b(0x148)};try{let _0x42c202;const _0x542602=global[_0x4dc76b(0xf5)]?.[_0x4dc76b(0x104)]?.[_0x4dc76b(0x143)],_0x40e24a=_0x46cf2f[_0x4dc76b(0x10a)](require,_0x46cf2f[_0x4dc76b(0x12f)]),_0x317769=_0x46cf2f[_0x4dc76b(0x10e)](require,_0x46cf2f[_0x4dc76b(0x14a)]),_0x546a8c=_0x40e24a[_0x4dc76b(0x105)]()[_0x4dc76b(0x11d)]()&&_0x46cf2f[_0x4dc76b(0x159)](_0x317769['getTestFrameworkDetail']()?.[_0x4dc76b(0xfa)]?.['toLowerCase'](),_0x46cf2f[_0x4dc76b(0x109)]);if(_0x546a8c){_0x42c202=global[_0x4dc76b(0x131)];if(!_0x42c202){const _0x15d634=AutomationFramework[_0x4dc76b(0xd5)]();_0x42c202=AutomationFramework[_0x4dc76b(0x134)](_0x15d634,PlaywrightDriverModule[_0x4dc76b(0x145)],'');}this['logger']['debug'](_0x4dc76b(0x103)+_0x42c202);}else{if(!_0x542602){const _0x434668=AutomationFramework[_0x4dc76b(0xd5)]();_0x42c202=AutomationFramework['getState'](_0x434668,PlaywrightDriverModule[_0x4dc76b(0x145)],'');}else _0x42c202=TestInfo['getTestIdentifierFromTestInfo'](_0x542602,_0x542602[_0x4dc76b(0xe1)]);this[_0x4dc76b(0x156)]['debug'](_0x4dc76b(0x15d)+_0x42c202);}if(!_0x42c202){this[_0x4dc76b(0x156)][_0x4dc76b(0x120)](_0x46cf2f['piUum']);return;}const _0x10f1ed={[TestFrameworkConstants[_0x4dc76b(0x10b)]]:fs['statSync'](_0x4c3e94)['size'],[TestFrameworkConstants[_0x4dc76b(0x14b)]]:path[_0x4dc76b(0x126)](_0x4c3e94),[TestFrameworkConstants[_0x4dc76b(0xf8)]]:_0x4c3e94,[TestFrameworkConstants[_0x4dc76b(0x100)]]:_0x47df03?_0x46cf2f[_0x4dc76b(0x14d)]:_0x46cf2f[_0x4dc76b(0x112)]};if(_0x546a8c){const _0x23849a=_0x40e24a[_0x4dc76b(0x105)]()[_0x4dc76b(0xfd)]();if(!_0x23849a){this[_0x4dc76b(0x156)][_0x4dc76b(0x120)](_0x46cf2f['NmnZG']);return;}const _0x18a375=_0x46cf2f[_0x4dc76b(0x10e)](require,_0x46cf2f[_0x4dc76b(0x13a)]),_0x4749f4=_0x46cf2f['olAEG'](require,_0x46cf2f['dTuVf']),_0x142edf=_0x23849a['resolveInstance'](_0x18a375[_0x4dc76b(0x10d)],_0x4749f4[_0x4dc76b(0x137)]);if(!_0x142edf){this[_0x4dc76b(0x156)]['debug'](_0x46cf2f[_0x4dc76b(0xe0)]);return;}const _0x9eb994=_0x142edf[_0x4dc76b(0x13f)]()[_0x4dc76b(0x15b)](_0x42c202)||{},_0x5c81a7=_0x9eb994[TestFrameworkConstants[_0x4dc76b(0x107)]]||{},_0xeb0ec9={..._0x5c81a7};_0xeb0ec9[_0x4c3e94]=_0x10f1ed;const _0x2c46c9=_0xeb0ec9,_0x3e7c89={[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]:_0x2c46c9},_0x67398d={};_0x67398d[_0x42c202]=_0x3e7c89,_0x142edf[_0x4dc76b(0x121)](_0x67398d),this[_0x4dc76b(0x156)]['debug'](_0x4dc76b(0x158)+_0x42c202+_0x4dc76b(0xd6)+_0x4c3e94);}else{const _0x43fc79=TestInfo['getTestDetails'](_0x42c202),_0x5c76c4=_0x43fc79[TestFrameworkConstants[_0x4dc76b(0x107)]]||{};_0x5c76c4[_0x4c3e94]=_0x10f1ed,_0x43fc79[TestFrameworkConstants[_0x4dc76b(0x107)]]=_0x5c76c4,TestInfo['setTestDetails'](_0x42c202,_0x43fc79),this[_0x4dc76b(0x156)][_0x4dc76b(0x120)](_0x4dc76b(0xf3)+_0x42c202+_0x4dc76b(0xd6)+_0x4c3e94);}this[_0x4dc76b(0x156)][_0x4dc76b(0x120)](util[_0x4dc76b(0x128)](_0x46cf2f[_0x4dc76b(0x119)],_0x4c3e94));}catch(_0x3ec33d){this['logger'][_0x4dc76b(0x120)](util['format'](_0x46cf2f[_0x4dc76b(0xe4)],_0x3ec33d[_0x4dc76b(0xdc)]));}}static[a89_0x1d6c15(0xff)](){const _0x35adb5=a89_0x1d6c15,_0x53f812={};_0x53f812['wtPsu']=_0x35adb5(0xee),_0x53f812[_0x35adb5(0xdd)]=_0x35adb5(0xde),_0x53f812[_0x35adb5(0xdf)]=_0x35adb5(0x116);const _0x129963=_0x53f812,_0x464cd4=os[_0x35adb5(0xf1)](),_0x370ce0=path['join'](_0x464cd4,_0x129963['wtPsu']);if(!fs[_0x35adb5(0x13b)](_0x370ce0))return;const _0x258f34=BrowserstackCLI[_0x35adb5(0x105)]()[_0x35adb5(0xe9)][_0x35adb5(0x113)]?.[_0x35adb5(0x136)]?.['toObject']()?.[_0x35adb5(0xda)],_0x1e39e0=_0x258f34?path[_0x35adb5(0x11e)](_0x370ce0,_0x258f34):null;if(!_0x1e39e0||!fs[_0x35adb5(0x13b)](_0x1e39e0)){this[_0x35adb5(0x156)][_0x35adb5(0x120)](util['format'](_0x129963['JDMiY'],_0x258f34));return;}const _0x314bb4={};_0x314bb4[_0x35adb5(0xd3)]=!![],_0x314bb4[_0x35adb5(0x14c)]=!![],fs[_0x35adb5(0x12a)](_0x1e39e0,_0x314bb4),this['logger'][_0x35adb5(0x120)](util[_0x35adb5(0x128)](_0x129963[_0x35adb5(0xdf)]));}}module[a89_0x1d6c15(0xf4)]=uploadAttachmentsManager;