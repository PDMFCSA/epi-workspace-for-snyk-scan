function a80_0x51cd(){const _0x49af45=['Attachment\x20recevied\x20for\x20path:\x20%s','util','trackFile','./TestInfo','EqDYb','FAfSa','exports','startsWith','pipe','NDFJC','Cleared\x20attachment\x20folder','statusCode','Created\x20.browserstack\x20folder\x20at:\x20%s','get','force','Created\x20folder:\x20%s','getState','254030nhYdTU','logger','PKSpt','NNFgH','sxZhU','YiPtn','KEY_TEST_ID','KQvah','jaWAh','31552PUTnIX','wTZaT','KEY_TEST_ATTACHMENTS','../../helpers/classLogger.js','21SpscmJ','close','Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.','mkdirSync','uploadAttachmentsManager','wLnhb','Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload','path','bEGmO','rmSync','AEjJb','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','./browserstackCLI','.browserstack','./framework/constants/testFrameworkConstants','Gpxid','http','File\x20downloaded\x20to:\x20%s','wlogS','GPEQP','copyFileSync','./modules/playwrightDriverModule','WqnOT','1503042rubkWM','KEY_FILE_PATH','format','28171eYoBba','KOShg','iSBKj','join','homedir','56snguHj','mEQlE','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','https://','19nrxpQz','https','DwIlp','uploadAttachments','YjSsh','createWriteStream','size','modules','KEY_FILE_SIZE','3072429AeuGRg','getTestDetails','existsSync','JDVwd','hiYGp','TestLevel','lFttZ','TestHubModule','Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','debug','GhYaC','toObject','3336hoTIpL','9361176QuWpcl','HGMPh','QFAdS','unlinkSync','eHOIE','cvVLS','basename','toFixed','wmVww','265134EDwFXX','KEY_FILE_NAME','buildHashedId','UDVWW','message','trim','./framework/automationFramework','BuildLevel','statSync','10kstLHm','finish'];a80_0x51cd=function(){return _0x49af45;};return a80_0x51cd();}const a80_0x1fbdd4=a80_0x2e02;(function(_0x43f680,_0x3e319b){const _0x5a61cf=a80_0x2e02,_0x387ffb=_0x43f680();while(!![]){try{const _0x25a1d7=parseInt(_0x5a61cf(0xe4))/0x1*(parseInt(_0x5a61cf(0x128))/0x2)+parseInt(_0x5a61cf(0x103))/0x3*(parseInt(_0x5a61cf(0xe0))/0x4)+parseInt(_0x5a61cf(0x11f))/0x5+parseInt(_0x5a61cf(0xd8))/0x6*(-parseInt(_0x5a61cf(0x12c))/0x7)+parseInt(_0x5a61cf(0xfa))/0x8+parseInt(_0x5a61cf(0xed))/0x9*(-parseInt(_0x5a61cf(0x10c))/0xa)+parseInt(_0x5a61cf(0xdb))/0xb*(-parseInt(_0x5a61cf(0xf9))/0xc);if(_0x25a1d7===_0x3e319b)break;else _0x387ffb['push'](_0x387ffb['shift']());}catch(_0x563fc2){_0x387ffb['push'](_0x387ffb['shift']());}}}(a80_0x51cd,0xe8b29));const os=require('os'),fs=require('fs'),path=require(a80_0x1fbdd4(0xc8)),util=require(a80_0x1fbdd4(0x10f)),BrowserstackCLI=require(a80_0x1fbdd4(0xcd)),https=require(a80_0x1fbdd4(0xe5)),http=require(a80_0x1fbdd4(0xd1)),AutomationFramework=require(a80_0x1fbdd4(0x109)),PlaywrightDriverModule=require(a80_0x1fbdd4(0xd6)),TestInfo=require(a80_0x1fbdd4(0x111)),TestFrameworkConstants=require(a80_0x1fbdd4(0xcf)),{createClassLogger}=require(a80_0x1fbdd4(0x12b));class uploadAttachmentsManager{static [a80_0x1fbdd4(0x120)]=createClassLogger(a80_0x1fbdd4(0x130));static[a80_0x1fbdd4(0xe7)](_0x324268,_0x3cbe93=![]){const _0x4c40fc=a80_0x1fbdd4,_0x3336d4={};_0x3336d4[_0x4c40fc(0xfe)]=function(_0x15de72,_0x4fc66a){return _0x15de72/_0x4fc66a;},_0x3336d4[_0x4c40fc(0xe8)]=function(_0x17db9c,_0x203a3e){return _0x17db9c*_0x203a3e;},_0x3336d4[_0x4c40fc(0xf0)]=function(_0x32b47e,_0x28e132){return _0x32b47e>_0x28e132;},_0x3336d4[_0x4c40fc(0xd3)]='Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.',_0x3336d4[_0x4c40fc(0x112)]=_0x4c40fc(0xd2),_0x3336d4[_0x4c40fc(0xdd)]=function(_0x2f7d45,_0x3b1a9f){return _0x2f7d45===_0x3b1a9f;},_0x3336d4['bEGmO']=_0x4c40fc(0x10d),_0x3336d4['aWUgm']=_0x4c40fc(0xc7),_0x3336d4[_0x4c40fc(0xdc)]='Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload',_0x3336d4[_0x4c40fc(0xd7)]=_0x4c40fc(0x10e),_0x3336d4[_0x4c40fc(0x106)]=_0x4c40fc(0xce),_0x3336d4['TsSnj']=_0x4c40fc(0xe2),_0x3336d4[_0x4c40fc(0x102)]=_0x4c40fc(0x11a),_0x3336d4[_0x4c40fc(0xf1)]=_0x4c40fc(0x11d),_0x3336d4[_0x4c40fc(0x131)]=_0x4c40fc(0x12e),_0x3336d4['NNFgH']=_0x4c40fc(0xe3),_0x3336d4['AEjJb']='http://',_0x3336d4['GhYaC']='error',_0x3336d4[_0x4c40fc(0xfb)]='Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s',_0x3336d4[_0x4c40fc(0x129)]=function(_0x165d80,_0x1c4231){return _0x165d80/_0x1c4231;},_0x3336d4[_0x4c40fc(0x113)]=function(_0x6f59f,_0xfb74e7){return _0x6f59f*_0xfb74e7;},_0x3336d4[_0x4c40fc(0x121)]=function(_0x10affe,_0x555c06){return _0x10affe>_0x555c06;},_0x3336d4['GPEQP']='File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.';const _0x2ae3ef=_0x3336d4;this[_0x4c40fc(0x120)]['debug'](util[_0x4c40fc(0xda)](_0x2ae3ef[_0x4c40fc(0xd7)],_0x324268));const _0x88c340=os[_0x4c40fc(0xdf)](),_0x4079ee=path[_0x4c40fc(0xde)](_0x88c340,_0x2ae3ef[_0x4c40fc(0x106)]);!fs[_0x4c40fc(0xef)](_0x4079ee)&&(this['logger'][_0x4c40fc(0xf6)](util[_0x4c40fc(0xda)](_0x2ae3ef['TsSnj'],_0x4079ee)),fs[_0x4c40fc(0x12f)](_0x4079ee),this[_0x4c40fc(0x120)]['debug'](util[_0x4c40fc(0xda)](_0x2ae3ef['wmVww'],_0x4079ee)));const _0xa991bd=BrowserstackCLI['getInstance']()[_0x4c40fc(0xeb)][_0x4c40fc(0xf4)]?.['testhubConfig']?.[_0x4c40fc(0xf8)]()?.['buildHashedId'],_0x150178=path[_0x4c40fc(0xde)](_0x4079ee,_0xa991bd);!fs[_0x4c40fc(0xef)](_0x150178)&&(fs[_0x4c40fc(0x12f)](_0x150178),this['logger'][_0x4c40fc(0xf6)](util['format'](_0x2ae3ef[_0x4c40fc(0xf1)],_0x150178)));if(_0x2ae3ef['iSBKj'](_0x324268[_0x4c40fc(0x108)](),'')){this[_0x4c40fc(0x120)][_0x4c40fc(0xf6)](util[_0x4c40fc(0xda)](_0x2ae3ef['wLnhb']));return;}if(_0x324268[_0x4c40fc(0x115)](_0x2ae3ef[_0x4c40fc(0x122)])||_0x324268['startsWith'](_0x2ae3ef[_0x4c40fc(0xcb)])){const _0x5867fc=_0x324268['startsWith'](_0x2ae3ef[_0x4c40fc(0x122)])?https:http,_0x4cd62c=path[_0x4c40fc(0x100)](_0x324268),_0xcf5487=path['join'](_0x150178,_0x4cd62c),_0x1e47a2=fs[_0x4c40fc(0xe9)](_0xcf5487);_0x5867fc[_0x4c40fc(0x11b)](_0x324268,_0x32147e=>{const _0x446fd1=_0x4c40fc,_0x25f088={'QFAdS':function(_0x2d3def,_0x54bed4){const _0x25aae3=a80_0x2e02;return _0x2ae3ef[_0x25aae3(0xfe)](_0x2d3def,_0x54bed4);},'nuVsN':function(_0x102e59,_0x1f185f){const _0x5ea71c=a80_0x2e02;return _0x2ae3ef[_0x5ea71c(0xe8)](_0x102e59,_0x1f185f);},'NDFJC':function(_0x5737dd,_0x2f37b4){const _0x2db671=a80_0x2e02;return _0x2ae3ef[_0x2db671(0xf0)](_0x5737dd,_0x2f37b4);},'cvVLS':_0x2ae3ef[_0x446fd1(0xd3)],'lFttZ':_0x2ae3ef[_0x446fd1(0x112)]};if(_0x2ae3ef['iSBKj'](_0x32147e[_0x446fd1(0x119)],0xc8))_0x32147e[_0x446fd1(0x116)](_0x1e47a2),_0x1e47a2['on'](_0x2ae3ef[_0x446fd1(0xc9)],()=>{const _0x22869f=_0x446fd1;_0x1e47a2[_0x22869f(0x12d)]();const _0x4e9fbb=fs[_0x22869f(0x10b)](_0xcf5487),_0x6ca864=_0x25f088[_0x22869f(0xfc)](_0x4e9fbb[_0x22869f(0xea)],_0x25f088['nuVsN'](0x400,0x400));if(_0x25f088[_0x22869f(0x117)](_0x6ca864,0x64)){this[_0x22869f(0x120)][_0x22869f(0xf6)](util[_0x22869f(0xda)](_0x25f088[_0x22869f(0xff)],_0x6ca864['toFixed'](0x2))),fs[_0x22869f(0xfd)](_0xcf5487);return;}this[_0x22869f(0x120)]['debug'](util['format'](_0x25f088[_0x22869f(0xf3)],_0xcf5487)),uploadAttachmentsManager['trackFile'](_0xcf5487,_0x3cbe93);});else{this[_0x446fd1(0x120)][_0x446fd1(0xf6)](util['format'](_0x2ae3ef['aWUgm'],_0x32147e[_0x446fd1(0x119)])),_0x1e47a2['close'](),fs[_0x446fd1(0xfd)](_0xcf5487);return;}})['on'](_0x2ae3ef[_0x4c40fc(0xf7)],_0x2a6a47=>{const _0x4012b6=_0x4c40fc;this[_0x4012b6(0x120)]['debug'](util[_0x4012b6(0xda)](_0x2ae3ef[_0x4012b6(0xdc)],_0x2a6a47[_0x4012b6(0x107)])),_0x1e47a2[_0x4012b6(0x12d)](),fs[_0x4012b6(0xfd)](_0xcf5487);return;});}else{if(!fs[_0x4c40fc(0xef)](_0x324268)){this[_0x4c40fc(0x120)][_0x4c40fc(0xf6)](util[_0x4c40fc(0xda)](_0x2ae3ef[_0x4c40fc(0xfb)],_0x324268));return;}const _0x4bf3d3=fs[_0x4c40fc(0x10b)](_0x324268),_0x1e992c=_0x2ae3ef[_0x4c40fc(0x129)](_0x4bf3d3[_0x4c40fc(0xea)],_0x2ae3ef[_0x4c40fc(0x113)](0x400,0x400));if(_0x2ae3ef[_0x4c40fc(0x121)](_0x1e992c,0x64)){this[_0x4c40fc(0x120)][_0x4c40fc(0xf6)](util['format'](_0x2ae3ef[_0x4c40fc(0xd4)],_0x1e992c[_0x4c40fc(0x101)](0x2)));return;}const _0x2e9ccb=path[_0x4c40fc(0x100)](_0x324268),_0x5e4c43=path[_0x4c40fc(0xde)](_0x150178,_0x2e9ccb);fs[_0x4c40fc(0xd5)](_0x324268,_0x5e4c43),uploadAttachmentsManager[_0x4c40fc(0x110)](_0x5e4c43,_0x3cbe93);}}static[a80_0x1fbdd4(0x110)](_0x436cee,_0xd45fe6){const _0x596996=a80_0x1fbdd4,_0x2fe2e3={};_0x2fe2e3[_0x596996(0x127)]=_0x596996(0x10a),_0x2fe2e3[_0x596996(0xe6)]=_0x596996(0xf2),_0x2fe2e3[_0x596996(0xd0)]=_0x596996(0xf5),_0x2fe2e3['sxZhU']=_0x596996(0xcc);const _0x14bb25=_0x2fe2e3;try{const _0x253952=AutomationFramework['getTrackedInstance'](),_0x27fe75=AutomationFramework[_0x596996(0x11e)](_0x253952,PlaywrightDriverModule[_0x596996(0x125)],''),_0x540691=TestInfo[_0x596996(0xee)](_0x27fe75),_0x3361b4=_0x540691[TestFrameworkConstants[_0x596996(0x12a)]]||{};_0x3361b4[_0x436cee]={[TestFrameworkConstants[_0x596996(0xec)]]:fs[_0x596996(0x10b)](_0x436cee)[_0x596996(0xea)],[TestFrameworkConstants[_0x596996(0x104)]]:path[_0x596996(0x100)](_0x436cee),[TestFrameworkConstants[_0x596996(0xd9)]]:_0x436cee,[TestFrameworkConstants['KEY_FILE_LEVEL']]:_0xd45fe6?_0x14bb25[_0x596996(0x127)]:_0x14bb25[_0x596996(0xe6)]},_0x540691[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]=_0x3361b4,TestInfo['setTestDetails'](_0x27fe75,_0x540691),this[_0x596996(0x120)][_0x596996(0xf6)](util['format'](_0x14bb25['Gpxid'],_0x436cee));}catch(_0x22442f){this[_0x596996(0x120)][_0x596996(0xf6)](util['format'](_0x14bb25[_0x596996(0x123)],_0x22442f[_0x596996(0x107)]));}}static['clearAttachments'](){const _0x1ade7c=a80_0x1fbdd4,_0x26eaaf={};_0x26eaaf[_0x1ade7c(0xe1)]=_0x1ade7c(0xce),_0x26eaaf['YiPtn']='No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s',_0x26eaaf[_0x1ade7c(0x126)]=_0x1ade7c(0x118);const _0x30209a=_0x26eaaf,_0x4b5354=os[_0x1ade7c(0xdf)](),_0x40b829=path[_0x1ade7c(0xde)](_0x4b5354,_0x30209a['mEQlE']);if(!fs['existsSync'](_0x40b829))return;const _0x5e9193=BrowserstackCLI['getInstance']()[_0x1ade7c(0xeb)][_0x1ade7c(0xf4)]?.['testhubConfig']?.[_0x1ade7c(0xf8)]()?.[_0x1ade7c(0x105)],_0x284106=_0x5e9193?path[_0x1ade7c(0xde)](_0x40b829,_0x5e9193):null;if(!_0x284106||!fs[_0x1ade7c(0xef)](_0x284106)){this[_0x1ade7c(0x120)][_0x1ade7c(0xf6)](util[_0x1ade7c(0xda)](_0x30209a[_0x1ade7c(0x124)],_0x5e9193));return;}const _0xee43fb={};_0xee43fb['recursive']=!![],_0xee43fb[_0x1ade7c(0x11c)]=!![],fs[_0x1ade7c(0xca)](_0x284106,_0xee43fb),this[_0x1ade7c(0x120)]['debug'](util[_0x1ade7c(0xda)](_0x30209a[_0x1ade7c(0x126)]));}}function a80_0x2e02(_0x2a36c2,_0x25e221){const _0x51cdea=a80_0x51cd();return a80_0x2e02=function(_0x2e02a6,_0x300ee0){_0x2e02a6=_0x2e02a6-0xc7;let _0x3b29e8=_0x51cdea[_0x2e02a6];return _0x3b29e8;},a80_0x2e02(_0x2a36c2,_0x25e221);}module[a80_0x1fbdd4(0x114)]=uploadAttachmentsManager;