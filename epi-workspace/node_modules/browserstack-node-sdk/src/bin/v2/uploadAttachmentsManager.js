function a89_0xb258(){const _0x488d48=['4zHxeLW','9499GdmXSY','YbXNe','finish','retry','toLowerCase','ZbUBg','format','homedir','KEY_FILE_SIZE','getTrackedInstance','mAUkK','Cleared\x20attachment\x20folder','MoMTe','trackFile:\x20Stored\x20attachment\x20in\x20instance\x20memory\x20for\x20testId:\x20','2420099dAfypV','getInstance','get','resolveInstance','20FrImsG','guxvl','cOXft','__jestCurrentTestIdentifier','toObject','Created\x20.browserstack\x20folder\x20at:\x20%s','QoasD','cQEsv','./state/hookState','toFixed','./state/testFrameworkState','apMnv','cZtHM','exports','getTestDetails','829908ajVRyX','logger','TfpAt','13896454ayIesw','./framework/automationFramework','Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s','4986qywRee','./browserstackCLI','zNshY','trackFile:\x20TestFramework\x20not\x20available,\x20cannot\x20track\x20attachment','getAllData','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','TEST','yvOlh','force','KEY_FILE_NAME','IVIOv','CekPf','http','dOOPq','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','https://','CAQUU','size','75aBRWPh','HONdw','copyFileSync','YefsR','aWvSQ','BZGWW','Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','./cliUtils','unlinkSync','36hbtzQg','KEY_TEST_ID','./modules/playwrightDriverModule','QIBoM','TestLevel','Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.','trackFile','./TestInfo','KEY_TEST_ATTACHMENTS','testhubConfig','addMultipleEntries','rmSync','../../helpers/classLogger.js','trackFile:\x20Cucumber+Playwright\x20-\x20testId:\x20','basename','close','pipe','path','wMDPe','join','ohFMR','currentTest','http://','fzkat','trim','getTestIdentifierFromTestInfo','debug','Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload','BuildLevel','6384515IIELdj','startsWith','ISsWk','File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.','SbaDn','recursive','modules','statusCode','existsSync','File\x20downloaded\x20to:\x20%s','mkdirSync','message','fNdAn','WHoFV','82694qlUqnR','getState','buildHashedId','fahdN','setTestDetails','MwLGF','getTestFrameworkDetail','110599QrKUAG','Attachment\x20recevied\x20for\x20path:\x20%s','rSNNX','trackFile:\x20Stored\x20attachment\x20in\x20TestInfo\x20file\x20for\x20testId:\x20','util',',\x20filepath:\x20','pGgVp','eaxiB','96AgzYvu','createWriteStream','TestHubModule','statSync','.browserstack','clearAttachments'];a89_0xb258=function(){return _0x488d48;};return a89_0xb258();}const a89_0x5486b6=a89_0x3b89;(function(_0x6b9807,_0x3c2721){const _0x2a952e=a89_0x3b89,_0x21b20c=_0x6b9807();while(!![]){try{const _0x34e797=-parseInt(_0x2a952e(0x201))/0x1+-parseInt(_0x2a952e(0x1fa))/0x2*(parseInt(_0x2a952e(0x1c6))/0x3)+parseInt(_0x2a952e(0x20f))/0x4*(parseInt(_0x2a952e(0x1ec))/0x5)+-parseInt(_0x2a952e(0x1b4))/0x6*(parseInt(_0x2a952e(0x210))/0x7)+parseInt(_0x2a952e(0x209))/0x8*(-parseInt(_0x2a952e(0x1ae))/0x9)+-parseInt(_0x2a952e(0x19f))/0xa*(parseInt(_0x2a952e(0x19b))/0xb)+-parseInt(_0x2a952e(0x1cf))/0xc*(-parseInt(_0x2a952e(0x1b1))/0xd);if(_0x34e797===_0x3c2721)break;else _0x21b20c['push'](_0x21b20c['shift']());}catch(_0x55b014){_0x21b20c['push'](_0x21b20c['shift']());}}}(a89_0xb258,0xa26ba));const os=require('os'),fs=require('fs'),path=require(a89_0x5486b6(0x1e0)),util=require(a89_0x5486b6(0x205)),BrowserstackCLI=require(a89_0x5486b6(0x1b5)),https=require('https'),http=require(a89_0x5486b6(0x1c0)),AutomationFramework=require(a89_0x5486b6(0x1b2)),PlaywrightDriverModule=require(a89_0x5486b6(0x1d1)),TestInfo=require(a89_0x5486b6(0x1d6)),TestFrameworkConstants=require('./framework/constants/testFrameworkConstants'),{createClassLogger}=require(a89_0x5486b6(0x1db));class uploadAttachmentsManager{static [a89_0x5486b6(0x1af)]=createClassLogger('uploadAttachmentsManager');static['uploadAttachments'](_0x3cc038,_0x23c6c1=![]){const _0xc69ddc=a89_0x5486b6,_0x5c7ef0={};_0x5c7ef0['WHoFV']=function(_0x34715a,_0x208a59){return _0x34715a/_0x208a59;},_0x5c7ef0['mAUkK']=function(_0xdfafce,_0x3d2744){return _0xdfafce*_0x3d2744;},_0x5c7ef0[_0xc69ddc(0x1a6)]=function(_0x27307f,_0x6adba4){return _0x27307f>_0x6adba4;},_0x5c7ef0[_0xc69ddc(0x1be)]='Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.',_0x5c7ef0['xzUxQ']=_0xc69ddc(0x1f5),_0x5c7ef0[_0xc69ddc(0x1fd)]=function(_0x54bd3b,_0x24f480){return _0x54bd3b===_0x24f480;},_0x5c7ef0['zNshY']=_0xc69ddc(0x212),_0x5c7ef0['BZGWW']=_0xc69ddc(0x1ea),_0x5c7ef0[_0xc69ddc(0x1c9)]=_0xc69ddc(0x1c2),_0x5c7ef0['rSNNX']=_0xc69ddc(0x202),_0x5c7ef0[_0xc69ddc(0x211)]=_0xc69ddc(0x20d),_0x5c7ef0['CRwBJ']=_0xc69ddc(0x1b9),_0x5c7ef0[_0xc69ddc(0x1e6)]=_0xc69ddc(0x1a4),_0x5c7ef0[_0xc69ddc(0x1c4)]='Created\x20folder:\x20%s',_0x5c7ef0[_0xc69ddc(0x1aa)]=_0xc69ddc(0x1d4),_0x5c7ef0[_0xc69ddc(0x1ca)]=_0xc69ddc(0x1c3),_0x5c7ef0[_0xc69ddc(0x199)]=_0xc69ddc(0x1e5),_0x5c7ef0['QoasD']='error',_0x5c7ef0[_0xc69ddc(0x1c7)]=_0xc69ddc(0x1b3),_0x5c7ef0[_0xc69ddc(0x1ab)]=function(_0x47e433,_0x525933){return _0x47e433*_0x525933;},_0x5c7ef0['SbaDn']=_0xc69ddc(0x1ef);const _0x224718=_0x5c7ef0;this[_0xc69ddc(0x1af)]['debug'](util['format'](_0x224718[_0xc69ddc(0x203)],_0x3cc038));const _0x5af548=os[_0xc69ddc(0x217)](),_0x335ccf=path['join'](_0x5af548,_0x224718[_0xc69ddc(0x211)]);!fs['existsSync'](_0x335ccf)&&(this['logger'][_0xc69ddc(0x1e9)](util[_0xc69ddc(0x216)](_0x224718['CRwBJ'],_0x335ccf)),fs[_0xc69ddc(0x1f6)](_0x335ccf),this[_0xc69ddc(0x1af)]['debug'](util[_0xc69ddc(0x216)](_0x224718[_0xc69ddc(0x1e6)],_0x335ccf)));const _0x2094ec=BrowserstackCLI[_0xc69ddc(0x19c)]()[_0xc69ddc(0x1f2)][_0xc69ddc(0x20b)]?.[_0xc69ddc(0x1d8)]?.[_0xc69ddc(0x1a3)]()?.[_0xc69ddc(0x1fc)],_0x4a0705=path['join'](_0x335ccf,_0x2094ec);!fs[_0xc69ddc(0x1f4)](_0x4a0705)&&(fs[_0xc69ddc(0x1f6)](_0x4a0705),this[_0xc69ddc(0x1af)][_0xc69ddc(0x1e9)](util[_0xc69ddc(0x216)](_0x224718['CAQUU'],_0x4a0705)));if(_0x224718[_0xc69ddc(0x1fd)](_0x3cc038[_0xc69ddc(0x1e7)](),'')){this[_0xc69ddc(0x1af)]['debug'](util[_0xc69ddc(0x216)](_0x224718['apMnv']));return;}if(_0x3cc038[_0xc69ddc(0x1ed)](_0x224718[_0xc69ddc(0x1ca)])||_0x3cc038[_0xc69ddc(0x1ed)](_0x224718[_0xc69ddc(0x199)])){const _0x44dc7c=_0x3cc038[_0xc69ddc(0x1ed)](_0x224718['aWvSQ'])?https:http,_0x502b04=path['basename'](_0x3cc038),_0x314780=path['join'](_0x4a0705,_0x502b04),_0x266b68=fs[_0xc69ddc(0x20a)](_0x314780);_0x44dc7c[_0xc69ddc(0x19d)](_0x3cc038,_0x339d37=>{const _0x2f4ca0=_0xc69ddc,_0x108577={'hMUwq':function(_0x2d3465,_0x26fdf4){return _0x224718['WHoFV'](_0x2d3465,_0x26fdf4);},'QIBoM':function(_0x2c2e6d,_0x1789c6){const _0x5b589e=a89_0x3b89;return _0x224718[_0x5b589e(0x21a)](_0x2c2e6d,_0x1789c6);},'AWGpT':function(_0x52c4cb,_0xa3659c){return _0x224718['cQEsv'](_0x52c4cb,_0xa3659c);},'cOXft':_0x224718[_0x2f4ca0(0x1be)],'TfpAt':_0x224718['xzUxQ']};if(_0x224718[_0x2f4ca0(0x1fd)](_0x339d37[_0x2f4ca0(0x1f3)],0xc8))_0x339d37[_0x2f4ca0(0x1df)](_0x266b68),_0x266b68['on'](_0x224718[_0x2f4ca0(0x1b6)],()=>{const _0xbb4846=_0x2f4ca0;_0x266b68[_0xbb4846(0x1de)]();const _0x17da89=fs[_0xbb4846(0x20c)](_0x314780),_0x5148aa=_0x108577['hMUwq'](_0x17da89[_0xbb4846(0x1c5)],_0x108577[_0xbb4846(0x1d2)](0x400,0x400));if(_0x108577['AWGpT'](_0x5148aa,0x64)){this['logger'][_0xbb4846(0x1e9)](util[_0xbb4846(0x216)](_0x108577[_0xbb4846(0x1a1)],_0x5148aa[_0xbb4846(0x1a8)](0x2))),fs['unlinkSync'](_0x314780);return;}this[_0xbb4846(0x1af)]['debug'](util['format'](_0x108577[_0xbb4846(0x1b0)],_0x314780)),uploadAttachmentsManager[_0xbb4846(0x1d5)](_0x314780,_0x23c6c1);});else{this[_0x2f4ca0(0x1af)][_0x2f4ca0(0x1e9)](util[_0x2f4ca0(0x216)](_0x224718[_0x2f4ca0(0x1cb)],_0x339d37[_0x2f4ca0(0x1f3)])),_0x266b68['close'](),fs['unlinkSync'](_0x314780);return;}})['on'](_0x224718[_0xc69ddc(0x1a5)],_0x33cc92=>{const _0x45d16c=_0xc69ddc;this['logger'][_0x45d16c(0x1e9)](util[_0x45d16c(0x216)](_0x224718['YefsR'],_0x33cc92[_0x45d16c(0x1f7)])),_0x266b68[_0x45d16c(0x1de)](),fs[_0x45d16c(0x1ce)](_0x314780);return;});}else{if(!fs[_0xc69ddc(0x1f4)](_0x3cc038)){this[_0xc69ddc(0x1af)][_0xc69ddc(0x1e9)](util[_0xc69ddc(0x216)](_0x224718[_0xc69ddc(0x1c7)],_0x3cc038));return;}const _0x5a2537=fs['statSync'](_0x3cc038),_0x14cbe4=_0x224718[_0xc69ddc(0x1f9)](_0x5a2537[_0xc69ddc(0x1c5)],_0x224718[_0xc69ddc(0x1ab)](0x400,0x400));if(_0x224718[_0xc69ddc(0x1a6)](_0x14cbe4,0x64)){this[_0xc69ddc(0x1af)][_0xc69ddc(0x1e9)](util[_0xc69ddc(0x216)](_0x224718[_0xc69ddc(0x1f0)],_0x14cbe4['toFixed'](0x2)));return;}const _0x2b4811=path[_0xc69ddc(0x1dd)](_0x3cc038),_0x7ca446=path[_0xc69ddc(0x1e2)](_0x4a0705,_0x2b4811);fs[_0xc69ddc(0x1c8)](_0x3cc038,_0x7ca446),uploadAttachmentsManager[_0xc69ddc(0x1d5)](_0x7ca446,_0x23c6c1);}}static[a89_0x5486b6(0x1d5)](_0x491397,_0x25e0c5){const _0x4e5397=a89_0x5486b6,_0x4209f8={'zWnoV':function(_0x21c752,_0x5bcf97){return _0x21c752(_0x5bcf97);},'yvOlh':_0x4e5397(0x1b5),'eaxiB':function(_0x3864d5,_0x229999){return _0x3864d5(_0x229999);},'FhzvS':_0x4e5397(0x1cd),'fNdAn':function(_0x25895a,_0x1b238b){return _0x25895a===_0x1b238b;},'EYqio':'jest','wMDPe':'trackFile:\x20No\x20testId\x20available,\x20cannot\x20track\x20attachment','hQPBE':_0x4e5397(0x1eb),'MwLGF':_0x4e5397(0x1d3),'ZbUBg':_0x4e5397(0x1b7),'AEIuS':_0x4e5397(0x1a9),'guxvl':_0x4e5397(0x1a7),'nJznj':'trackFile:\x20Instance\x20not\x20available,\x20cannot\x20track\x20attachment','ISsWk':_0x4e5397(0x1cc),'pGgVp':'Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload'};try{let _0x29b71d;const _0x3b3525=global['__workerDetails']?.[_0x4e5397(0x1e4)]?.['testInfo'],_0x37f3e7=_0x4209f8['zWnoV'](require,_0x4209f8[_0x4e5397(0x1bb)]),_0x5c01c4=_0x4209f8[_0x4e5397(0x208)](require,_0x4209f8['FhzvS']),_0x1a5825=_0x37f3e7[_0x4e5397(0x19c)]()['isRunning']()&&_0x4209f8[_0x4e5397(0x1f8)](_0x5c01c4[_0x4e5397(0x200)]()?.['name']?.[_0x4e5397(0x214)](),_0x4209f8['EYqio']);if(_0x1a5825){_0x29b71d=global[_0x4e5397(0x1a2)];if(!_0x29b71d){const _0x35604a=AutomationFramework[_0x4e5397(0x219)]();_0x29b71d=AutomationFramework[_0x4e5397(0x1fb)](_0x35604a,PlaywrightDriverModule[_0x4e5397(0x1d0)],'');}this['logger']['debug']('trackFile:\x20Jest+Playwright\x20-\x20testId\x20(testIdentifier):\x20'+_0x29b71d);}else{if(!_0x3b3525){const _0xce257=AutomationFramework[_0x4e5397(0x219)]();_0x29b71d=AutomationFramework[_0x4e5397(0x1fb)](_0xce257,PlaywrightDriverModule[_0x4e5397(0x1d0)],'');}else _0x29b71d=TestInfo[_0x4e5397(0x1e8)](_0x3b3525,_0x3b3525[_0x4e5397(0x213)]);this[_0x4e5397(0x1af)][_0x4e5397(0x1e9)](_0x4e5397(0x1dc)+_0x29b71d);}if(!_0x29b71d){this['logger'][_0x4e5397(0x1e9)](_0x4209f8[_0x4e5397(0x1e1)]);return;}const _0x52a9ab={[TestFrameworkConstants[_0x4e5397(0x218)]]:fs[_0x4e5397(0x20c)](_0x491397)[_0x4e5397(0x1c5)],[TestFrameworkConstants[_0x4e5397(0x1bd)]]:path['basename'](_0x491397),[TestFrameworkConstants['KEY_FILE_PATH']]:_0x491397,[TestFrameworkConstants['KEY_FILE_LEVEL']]:_0x25e0c5?_0x4209f8['hQPBE']:_0x4209f8[_0x4e5397(0x1ff)]};if(_0x1a5825){const _0x1b49f2=_0x37f3e7['getInstance']()['getTestFramework']();if(!_0x1b49f2){this[_0x4e5397(0x1af)]['debug'](_0x4209f8[_0x4e5397(0x215)]);return;}const _0x1dc0e4=_0x4209f8[_0x4e5397(0x208)](require,_0x4209f8['AEIuS']),_0xfd1fe3=_0x4209f8['eaxiB'](require,_0x4209f8[_0x4e5397(0x1a0)]),_0x18ca42=_0x1b49f2[_0x4e5397(0x19e)](_0x1dc0e4[_0x4e5397(0x1ba)],_0xfd1fe3['POST']);if(!_0x18ca42){this['logger']['debug'](_0x4209f8['nJznj']);return;}const _0x4f64b1=_0x18ca42[_0x4e5397(0x1b8)]()[_0x4e5397(0x19d)](_0x29b71d)||{},_0x16b1e1=_0x4f64b1[TestFrameworkConstants[_0x4e5397(0x1d7)]]||{},_0x568378={..._0x16b1e1};_0x568378[_0x491397]=_0x52a9ab;const _0x59ff0c=_0x568378,_0x1ed9d5={[TestFrameworkConstants[_0x4e5397(0x1d7)]]:_0x59ff0c},_0x1181b1={};_0x1181b1[_0x29b71d]=_0x1ed9d5,_0x18ca42[_0x4e5397(0x1d9)](_0x1181b1),this[_0x4e5397(0x1af)]['debug'](_0x4e5397(0x19a)+_0x29b71d+_0x4e5397(0x206)+_0x491397);}else{const _0x398a24=TestInfo[_0x4e5397(0x1ad)](_0x29b71d),_0x526e29=_0x398a24[TestFrameworkConstants[_0x4e5397(0x1d7)]]||{};_0x526e29[_0x491397]=_0x52a9ab,_0x398a24[TestFrameworkConstants[_0x4e5397(0x1d7)]]=_0x526e29,TestInfo[_0x4e5397(0x1fe)](_0x29b71d,_0x398a24),this[_0x4e5397(0x1af)][_0x4e5397(0x1e9)](_0x4e5397(0x204)+_0x29b71d+_0x4e5397(0x206)+_0x491397);}this[_0x4e5397(0x1af)][_0x4e5397(0x1e9)](util[_0x4e5397(0x216)](_0x4209f8[_0x4e5397(0x1ee)],_0x491397));}catch(_0x5c601a){this[_0x4e5397(0x1af)][_0x4e5397(0x1e9)](util[_0x4e5397(0x216)](_0x4209f8[_0x4e5397(0x207)],_0x5c601a[_0x4e5397(0x1f7)]));}}static[a89_0x5486b6(0x20e)](){const _0x22b890=a89_0x5486b6,_0x155fc5={};_0x155fc5[_0x22b890(0x1c1)]=_0x22b890(0x20d),_0x155fc5[_0x22b890(0x1bf)]='No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s',_0x155fc5[_0x22b890(0x1e3)]=_0x22b890(0x21b);const _0xda80ec=_0x155fc5,_0x58433b=os[_0x22b890(0x217)](),_0x4796b7=path[_0x22b890(0x1e2)](_0x58433b,_0xda80ec[_0x22b890(0x1c1)]);if(!fs[_0x22b890(0x1f4)](_0x4796b7))return;const _0x1520fe=BrowserstackCLI[_0x22b890(0x19c)]()['modules'][_0x22b890(0x20b)]?.[_0x22b890(0x1d8)]?.[_0x22b890(0x1a3)]()?.['buildHashedId'],_0x2df771=_0x1520fe?path[_0x22b890(0x1e2)](_0x4796b7,_0x1520fe):null;if(!_0x2df771||!fs[_0x22b890(0x1f4)](_0x2df771)){this[_0x22b890(0x1af)][_0x22b890(0x1e9)](util[_0x22b890(0x216)](_0xda80ec[_0x22b890(0x1bf)],_0x1520fe));return;}const _0x3a25c2={};_0x3a25c2[_0x22b890(0x1f1)]=!![],_0x3a25c2[_0x22b890(0x1bc)]=!![],fs[_0x22b890(0x1da)](_0x2df771,_0x3a25c2),this[_0x22b890(0x1af)][_0x22b890(0x1e9)](util[_0x22b890(0x216)](_0xda80ec[_0x22b890(0x1e3)]));}}function a89_0x3b89(_0x24f630,_0x8d7b63){const _0xb258e3=a89_0xb258();return a89_0x3b89=function(_0x3b8987,_0x429e25){_0x3b8987=_0x3b8987-0x199;let _0x58547d=_0xb258e3[_0x3b8987];return _0x58547d;},a89_0x3b89(_0x24f630,_0x8d7b63);}module[a89_0x5486b6(0x1ac)]=uploadAttachmentsManager;