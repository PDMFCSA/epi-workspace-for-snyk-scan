const a89_0x587976=a89_0x4926;function a89_0x4926(_0x12dbb8,_0x46611c){const _0x1e231e=a89_0x1e23();return a89_0x4926=function(_0x492669,_0x87f4b5){_0x492669=_0x492669-0x11c;let _0x2c17a0=_0x1e231e[_0x492669];return _0x2c17a0;},a89_0x4926(_0x12dbb8,_0x46611c);}function a89_0x1e23(){const _0x2e66ab=['oHyGi','getAllData','451971JslGgS','Created\x20folder:\x20%s','5VsRDOF','ozowA','testhubConfig','PUUob','message','UajZE','error','basename','trackFile:\x20Stored\x20attachment\x20in\x20instance\x20memory\x20for\x20testId:\x20','mkdirSync','trackFile:\x20No\x20testId\x20available,\x20cannot\x20track\x20attachment','RUvaF','statusCode',',\x20filepath:\x20','toObject','clearAttachments','nptiv','Cleared\x20attachment\x20folder','HXOdw','427waNBZC','unlinkSync','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','modules','No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s','rDoor','KEY_TEST_ATTACHMENTS','name','File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.','QtCEt','427132oDWpbn','XTsDm','HzTFV','./state/hookState','KEY_FILE_PATH','getTestFramework','http://','https','size','copyFileSync','2777178ELdcTC','EtXUh','KEY_FILE_NAME','exports','getTestFrameworkDetail','KEY_TEST_ID','toLowerCase','ThRJd','SFOkR','format','buildHashedId','mlgOo','existsSync','trackFile:\x20Instance\x20not\x20available,\x20cannot\x20track\x20attachment','toFixed','PBKRT','1553229FElJbO','uvhWK','KEY_FILE_SIZE','./state/testFrameworkState','close','resolveInstance','./cliUtils','180202hZqgTQ','TestLevel','getInstance','zKyju','TiDOF','../../helpers/classLogger.js','homedir','addMultipleEntries','retry','statSync','XfxKM','BGLFX','rKxam','KEY_FILE_LEVEL','finish','feQNQ','QaTME','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','isRunning','__jestCurrentTestIdentifier','730VgCVKn','getTestDetails','http','trackFile:\x20Cucumber+Playwright\x20-\x20testId:\x20','recursive','./browserstackCLI','RwKmf','tmRex','startsWith','hYtsK','pipe','Hqqvo','aTdVh','POST','anPup','TestHubModule','join','./framework/constants/testFrameworkConstants','16RQXxAH','DMgFZ','.browserstack','1997387lAigTx','kOiQz','util','tnzlS','getTrackedInstance','setTestDetails','trackFile:\x20TestFramework\x20not\x20available,\x20cannot\x20track\x20attachment','https://','__workerDetails','./framework/automationFramework','xmdcX','GFjCf','trackFile','uploadAttachmentsManager','ZavEU','getState','./TestInfo','createWriteStream','eACxq','force','trim','debug','path','trackFile:\x20Stored\x20attachment\x20in\x20TestInfo\x20file\x20for\x20testId:\x20','3154RRrkgF','./modules/playwrightDriverModule','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','logger'];a89_0x1e23=function(){return _0x2e66ab;};return a89_0x1e23();}(function(_0x266ca3,_0x446410){const _0x17447a=a89_0x4926,_0x3c6914=_0x266ca3();while(!![]){try{const _0x580bc9=parseInt(_0x17447a(0x15e))/0x1*(-parseInt(_0x17447a(0x143))/0x2)+-parseInt(_0x17447a(0x182))/0x3+parseInt(_0x17447a(0x168))/0x4*(parseInt(_0x17447a(0x14b))/0x5)+parseInt(_0x17447a(0x172))/0x6+-parseInt(_0x17447a(0x12b))/0x7+-parseInt(_0x17447a(0x128))/0x8*(-parseInt(_0x17447a(0x149))/0x9)+parseInt(_0x17447a(0x19d))/0xa*(parseInt(_0x17447a(0x189))/0xb);if(_0x580bc9===_0x446410)break;else _0x3c6914['push'](_0x3c6914['shift']());}catch(_0x224933){_0x3c6914['push'](_0x3c6914['shift']());}}}(a89_0x1e23,0x5f183));const os=require('os'),fs=require('fs'),path=require(a89_0x587976(0x141)),util=require(a89_0x587976(0x12d)),BrowserstackCLI=require(a89_0x587976(0x1a2)),https=require(a89_0x587976(0x16f)),http=require(a89_0x587976(0x19f)),AutomationFramework=require(a89_0x587976(0x134)),PlaywrightDriverModule=require(a89_0x587976(0x144)),TestInfo=require(a89_0x587976(0x13b)),TestFrameworkConstants=require(a89_0x587976(0x127)),{createClassLogger}=require(a89_0x587976(0x18e));class uploadAttachmentsManager{static ['logger']=createClassLogger(a89_0x587976(0x138));static['uploadAttachments'](_0x325b53,_0x802925=![]){const _0x86d03a=a89_0x587976,_0xec6662={};_0xec6662['rDoor']=function(_0x67f641,_0x34d3b0){return _0x67f641/_0x34d3b0;},_0xec6662[_0x86d03a(0x183)]=function(_0x5d3176,_0x299838){return _0x5d3176*_0x299838;},_0xec6662[_0x86d03a(0x18d)]=function(_0x24ea39,_0x248d24){return _0x24ea39>_0x248d24;},_0xec6662['ozowA']='Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.',_0xec6662[_0x86d03a(0x13d)]='File\x20downloaded\x20to:\x20%s',_0xec6662[_0x86d03a(0x129)]=function(_0x376c33,_0x170ca6){return _0x376c33===_0x170ca6;},_0xec6662[_0x86d03a(0x181)]=_0x86d03a(0x197),_0xec6662[_0x86d03a(0x156)]='Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload',_0xec6662['aTdVh']=_0x86d03a(0x160),_0xec6662[_0x86d03a(0x198)]='Attachment\x20recevied\x20for\x20path:\x20%s',_0xec6662[_0x86d03a(0x135)]=_0x86d03a(0x12a),_0xec6662[_0x86d03a(0x193)]=_0x86d03a(0x145),_0xec6662[_0x86d03a(0x150)]='Created\x20.browserstack\x20folder\x20at:\x20%s',_0xec6662['BGLFX']=_0x86d03a(0x14a),_0xec6662['rKxam']='Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.',_0xec6662['kOiQz']=_0x86d03a(0x132),_0xec6662[_0x86d03a(0x11c)]=_0x86d03a(0x16e),_0xec6662[_0x86d03a(0x121)]=_0x86d03a(0x151),_0xec6662[_0x86d03a(0x14e)]='Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s',_0xec6662[_0x86d03a(0x179)]=_0x86d03a(0x166);const _0x56c29d=_0xec6662;this[_0x86d03a(0x146)][_0x86d03a(0x140)](util[_0x86d03a(0x17b)](_0x56c29d['feQNQ'],_0x325b53));const _0x3ce387=os[_0x86d03a(0x18f)](),_0xc3751b=path['join'](_0x3ce387,_0x56c29d['xmdcX']);!fs[_0x86d03a(0x17e)](_0xc3751b)&&(this[_0x86d03a(0x146)]['debug'](util[_0x86d03a(0x17b)](_0x56c29d[_0x86d03a(0x193)],_0xc3751b)),fs['mkdirSync'](_0xc3751b),this[_0x86d03a(0x146)]['debug'](util[_0x86d03a(0x17b)](_0x56c29d[_0x86d03a(0x150)],_0xc3751b)));const _0x5cd0b8=BrowserstackCLI[_0x86d03a(0x18b)]()[_0x86d03a(0x161)][_0x86d03a(0x125)]?.[_0x86d03a(0x14d)]?.[_0x86d03a(0x159)]()?.[_0x86d03a(0x17c)],_0x5baaf9=path[_0x86d03a(0x126)](_0xc3751b,_0x5cd0b8);!fs['existsSync'](_0x5baaf9)&&(fs[_0x86d03a(0x154)](_0x5baaf9),this['logger'][_0x86d03a(0x140)](util[_0x86d03a(0x17b)](_0x56c29d[_0x86d03a(0x194)],_0x5baaf9)));if(_0x56c29d['DMgFZ'](_0x325b53[_0x86d03a(0x13f)](),'')){this[_0x86d03a(0x146)][_0x86d03a(0x140)](util[_0x86d03a(0x17b)](_0x56c29d[_0x86d03a(0x195)]));return;}if(_0x325b53['startsWith'](_0x56c29d[_0x86d03a(0x12c)])||_0x325b53['startsWith'](_0x56c29d[_0x86d03a(0x11c)])){const _0x50a2de=_0x325b53[_0x86d03a(0x11e)](_0x56c29d['kOiQz'])?https:http,_0x5e7912=path[_0x86d03a(0x152)](_0x325b53),_0x17c089=path['join'](_0x5baaf9,_0x5e7912),_0x9190d=fs[_0x86d03a(0x13c)](_0x17c089);_0x50a2de['get'](_0x325b53,_0xeebc4e=>{const _0x46549c=_0x86d03a;if(_0x56c29d[_0x46549c(0x129)](_0xeebc4e[_0x46549c(0x157)],0xc8))_0xeebc4e[_0x46549c(0x120)](_0x9190d),_0x9190d['on'](_0x56c29d['PBKRT'],()=>{const _0x4128ea=_0x46549c;_0x9190d[_0x4128ea(0x186)]();const _0xdc1879=fs[_0x4128ea(0x192)](_0x17c089),_0x4464e0=_0x56c29d['rDoor'](_0xdc1879[_0x4128ea(0x170)],_0x56c29d[_0x4128ea(0x183)](0x400,0x400));if(_0x56c29d[_0x4128ea(0x18d)](_0x4464e0,0x64)){this[_0x4128ea(0x146)][_0x4128ea(0x140)](util[_0x4128ea(0x17b)](_0x56c29d[_0x4128ea(0x14c)],_0x4464e0[_0x4128ea(0x180)](0x2))),fs['unlinkSync'](_0x17c089);return;}this[_0x4128ea(0x146)][_0x4128ea(0x140)](util[_0x4128ea(0x17b)](_0x56c29d[_0x4128ea(0x13d)],_0x17c089)),uploadAttachmentsManager[_0x4128ea(0x137)](_0x17c089,_0x802925);});else{this[_0x46549c(0x146)][_0x46549c(0x140)](util[_0x46549c(0x17b)](_0x56c29d[_0x46549c(0x156)],_0xeebc4e[_0x46549c(0x157)])),_0x9190d[_0x46549c(0x186)](),fs[_0x46549c(0x15f)](_0x17c089);return;}})['on'](_0x56c29d['Hqqvo'],_0x4c73d8=>{const _0x42befe=_0x86d03a;this[_0x42befe(0x146)]['debug'](util[_0x42befe(0x17b)](_0x56c29d[_0x42befe(0x122)],_0x4c73d8[_0x42befe(0x14f)])),_0x9190d[_0x42befe(0x186)](),fs[_0x42befe(0x15f)](_0x17c089);return;});}else{if(!fs[_0x86d03a(0x17e)](_0x325b53)){this[_0x86d03a(0x146)]['debug'](util['format'](_0x56c29d[_0x86d03a(0x14e)],_0x325b53));return;}const _0x58bd94=fs[_0x86d03a(0x192)](_0x325b53),_0x2476ca=_0x56c29d[_0x86d03a(0x163)](_0x58bd94['size'],_0x56c29d[_0x86d03a(0x183)](0x400,0x400));if(_0x56c29d['TiDOF'](_0x2476ca,0x64)){this[_0x86d03a(0x146)]['debug'](util[_0x86d03a(0x17b)](_0x56c29d[_0x86d03a(0x179)],_0x2476ca[_0x86d03a(0x180)](0x2)));return;}const _0x50a65e=path[_0x86d03a(0x152)](_0x325b53),_0x2e2073=path[_0x86d03a(0x126)](_0x5baaf9,_0x50a65e);fs[_0x86d03a(0x171)](_0x325b53,_0x2e2073),uploadAttachmentsManager[_0x86d03a(0x137)](_0x2e2073,_0x802925);}}static['trackFile'](_0x53b771,_0x450f91){const _0x11d3e9=a89_0x587976,_0x46d489={'DNNOQ':function(_0x46de86,_0x392738){return _0x46de86(_0x392738);},'QtCEt':_0x11d3e9(0x1a2),'wwuIA':function(_0x36d46b,_0x415757){return _0x36d46b(_0x415757);},'XTsDm':_0x11d3e9(0x188),'HXOdw':function(_0xc03264,_0x54e4c6){return _0xc03264===_0x54e4c6;},'GFjCf':'jest','SFOkR':_0x11d3e9(0x155),'mlgOo':'BuildLevel','QaTME':_0x11d3e9(0x18a),'tnzlS':_0x11d3e9(0x131),'anPup':_0x11d3e9(0x185),'zKyju':function(_0x2ea8ce,_0x15a306){return _0x2ea8ce(_0x15a306);},'EtXUh':_0x11d3e9(0x16b),'hYtsK':_0x11d3e9(0x17f),'nptiv':'Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','tmRex':_0x11d3e9(0x19a)};try{let _0x23d77f;const _0x5942bf=global[_0x11d3e9(0x133)]?.['currentTest']?.['testInfo'],_0x3f5608=_0x46d489['DNNOQ'](require,_0x46d489[_0x11d3e9(0x167)]),_0x53ef6f=_0x46d489['wwuIA'](require,_0x46d489[_0x11d3e9(0x169)]),_0x2c1c25=_0x3f5608['getInstance']()[_0x11d3e9(0x19b)]()&&_0x46d489[_0x11d3e9(0x15d)](_0x53ef6f[_0x11d3e9(0x176)]()?.[_0x11d3e9(0x165)]?.[_0x11d3e9(0x178)](),_0x46d489[_0x11d3e9(0x136)]);if(_0x2c1c25){_0x23d77f=global[_0x11d3e9(0x19c)];if(!_0x23d77f){const _0x57ea50=AutomationFramework[_0x11d3e9(0x12f)]();_0x23d77f=AutomationFramework['getState'](_0x57ea50,PlaywrightDriverModule[_0x11d3e9(0x177)],'');}this[_0x11d3e9(0x146)][_0x11d3e9(0x140)]('trackFile:\x20Jest+Playwright\x20-\x20testId\x20(testIdentifier):\x20'+_0x23d77f);}else{if(!_0x5942bf){const _0x32a45c=AutomationFramework[_0x11d3e9(0x12f)]();_0x23d77f=AutomationFramework[_0x11d3e9(0x13a)](_0x32a45c,PlaywrightDriverModule['KEY_TEST_ID'],'');}else _0x23d77f=TestInfo['getTestIdentifierFromTestInfo'](_0x5942bf,_0x5942bf[_0x11d3e9(0x191)]);this[_0x11d3e9(0x146)][_0x11d3e9(0x140)](_0x11d3e9(0x1a0)+_0x23d77f);}if(!_0x23d77f){this[_0x11d3e9(0x146)][_0x11d3e9(0x140)](_0x46d489[_0x11d3e9(0x17a)]);return;}const _0x5d1de4={[TestFrameworkConstants[_0x11d3e9(0x184)]]:fs[_0x11d3e9(0x192)](_0x53b771)[_0x11d3e9(0x170)],[TestFrameworkConstants[_0x11d3e9(0x174)]]:path['basename'](_0x53b771),[TestFrameworkConstants[_0x11d3e9(0x16c)]]:_0x53b771,[TestFrameworkConstants[_0x11d3e9(0x196)]]:_0x450f91?_0x46d489[_0x11d3e9(0x17d)]:_0x46d489[_0x11d3e9(0x199)]};if(_0x2c1c25){const _0x2a313c=_0x3f5608['getInstance']()[_0x11d3e9(0x16d)]();if(!_0x2a313c){this[_0x11d3e9(0x146)]['debug'](_0x46d489[_0x11d3e9(0x12e)]);return;}const _0x1b2786=_0x46d489['DNNOQ'](require,_0x46d489[_0x11d3e9(0x124)]),_0x51f750=_0x46d489[_0x11d3e9(0x18c)](require,_0x46d489[_0x11d3e9(0x173)]),_0x113470=_0x2a313c[_0x11d3e9(0x187)](_0x1b2786['TEST'],_0x51f750[_0x11d3e9(0x123)]);if(!_0x113470){this[_0x11d3e9(0x146)][_0x11d3e9(0x140)](_0x46d489[_0x11d3e9(0x11f)]);return;}const _0x11f54b=_0x113470[_0x11d3e9(0x148)]()['get'](_0x23d77f)||{},_0x700d4c=_0x11f54b[TestFrameworkConstants[_0x11d3e9(0x164)]]||{},_0x5c82aa={..._0x700d4c};_0x5c82aa[_0x53b771]=_0x5d1de4;const _0x4d58b9=_0x5c82aa,_0x2bd2d7={[TestFrameworkConstants[_0x11d3e9(0x164)]]:_0x4d58b9},_0x58b6d4={};_0x58b6d4[_0x23d77f]=_0x2bd2d7,_0x113470[_0x11d3e9(0x190)](_0x58b6d4),this[_0x11d3e9(0x146)][_0x11d3e9(0x140)](_0x11d3e9(0x153)+_0x23d77f+_0x11d3e9(0x158)+_0x53b771);}else{const _0x25689d=TestInfo[_0x11d3e9(0x19e)](_0x23d77f),_0x535a19=_0x25689d[TestFrameworkConstants['KEY_TEST_ATTACHMENTS']]||{};_0x535a19[_0x53b771]=_0x5d1de4,_0x25689d[TestFrameworkConstants[_0x11d3e9(0x164)]]=_0x535a19,TestInfo[_0x11d3e9(0x130)](_0x23d77f,_0x25689d),this[_0x11d3e9(0x146)][_0x11d3e9(0x140)](_0x11d3e9(0x142)+_0x23d77f+_0x11d3e9(0x158)+_0x53b771);}this[_0x11d3e9(0x146)][_0x11d3e9(0x140)](util['format'](_0x46d489[_0x11d3e9(0x15b)],_0x53b771));}catch(_0x1f0294){this[_0x11d3e9(0x146)][_0x11d3e9(0x140)](util['format'](_0x46d489[_0x11d3e9(0x11d)],_0x1f0294[_0x11d3e9(0x14f)]));}}static[a89_0x587976(0x15a)](){const _0x4046d2=a89_0x587976,_0x422ed7={};_0x422ed7[_0x4046d2(0x16a)]=_0x4046d2(0x12a),_0x422ed7['ZavEU']=_0x4046d2(0x162),_0x422ed7['oHyGi']=_0x4046d2(0x15c);const _0x1a57be=_0x422ed7,_0x1a656d=os[_0x4046d2(0x18f)](),_0x5306fb=path[_0x4046d2(0x126)](_0x1a656d,_0x1a57be[_0x4046d2(0x16a)]);if(!fs[_0x4046d2(0x17e)](_0x5306fb))return;const _0x445aa1=BrowserstackCLI[_0x4046d2(0x18b)]()[_0x4046d2(0x161)]['TestHubModule']?.[_0x4046d2(0x14d)]?.[_0x4046d2(0x159)]()?.['buildHashedId'],_0x2a4670=_0x445aa1?path[_0x4046d2(0x126)](_0x5306fb,_0x445aa1):null;if(!_0x2a4670||!fs[_0x4046d2(0x17e)](_0x2a4670)){this[_0x4046d2(0x146)][_0x4046d2(0x140)](util[_0x4046d2(0x17b)](_0x1a57be[_0x4046d2(0x139)],_0x445aa1));return;}const _0x54abc6={};_0x54abc6[_0x4046d2(0x1a1)]=!![],_0x54abc6[_0x4046d2(0x13e)]=!![],fs['rmSync'](_0x2a4670,_0x54abc6),this[_0x4046d2(0x146)][_0x4046d2(0x140)](util[_0x4046d2(0x17b)](_0x1a57be[_0x4046d2(0x147)]));}}module[a89_0x587976(0x175)]=uploadAttachmentsManager;