const a80_0x5a86fb=a80_0x27b6;(function(_0xb9ab62,_0x42c0e6){const _0x27c2d5=a80_0x27b6,_0x48ddba=_0xb9ab62();while(!![]){try{const _0x1e62ed=-parseInt(_0x27c2d5(0xd1))/0x1+-parseInt(_0x27c2d5(0xea))/0x2+parseInt(_0x27c2d5(0x112))/0x3+-parseInt(_0x27c2d5(0xc7))/0x4*(-parseInt(_0x27c2d5(0xf1))/0x5)+-parseInt(_0x27c2d5(0xf9))/0x6*(parseInt(_0x27c2d5(0xf5))/0x7)+-parseInt(_0x27c2d5(0xce))/0x8+parseInt(_0x27c2d5(0xda))/0x9;if(_0x1e62ed===_0x42c0e6)break;else _0x48ddba['push'](_0x48ddba['shift']());}catch(_0x53feec){_0x48ddba['push'](_0x48ddba['shift']());}}}(a80_0x2cdb,0x365fb));const os=require('os'),fs=require('fs'),path=require(a80_0x5a86fb(0xf7)),util=require(a80_0x5a86fb(0xef)),BrowserstackCLI=require('./browserstackCLI'),https=require(a80_0x5a86fb(0x10b)),http=require(a80_0x5a86fb(0xc1)),AutomationFramework=require('./framework/automationFramework'),PlaywrightDriverModule=require(a80_0x5a86fb(0xf3)),TestInfo=require(a80_0x5a86fb(0x108)),TestFrameworkConstants=require(a80_0x5a86fb(0xde)),{createClassLogger}=require(a80_0x5a86fb(0x11a));function a80_0x27b6(_0x28a19e,_0x16362a){const _0x2cdb1a=a80_0x2cdb();return a80_0x27b6=function(_0x27b62f,_0x3293da){_0x27b62f=_0x27b62f-0xc1;let _0x123d64=_0x2cdb1a[_0x27b62f];return _0x123d64;},a80_0x27b6(_0x28a19e,_0x16362a);}class uploadAttachmentsManager{static [a80_0x5a86fb(0x11e)]=createClassLogger('uploadAttachmentsManager');static[a80_0x5a86fb(0x10d)](_0x13c379,_0x50dfca=![]){const _0x3639fe=a80_0x5a86fb,_0x3603c6={};_0x3603c6[_0x3639fe(0xf8)]=function(_0x37e5ce,_0x130716){return _0x37e5ce/_0x130716;},_0x3603c6[_0x3639fe(0xe3)]=function(_0xafa04b,_0x4d4402){return _0xafa04b*_0x4d4402;},_0x3603c6['FcVvl']=function(_0x33d6f0,_0x50e39){return _0x33d6f0>_0x50e39;},_0x3603c6['NLyfG']=_0x3639fe(0xf6),_0x3603c6[_0x3639fe(0x105)]=_0x3639fe(0xcb),_0x3603c6['bSDMG']=function(_0x4c8f30,_0x3a4e21){return _0x4c8f30===_0x3a4e21;},_0x3603c6['qOJsp']=_0x3639fe(0x116),_0x3603c6[_0x3639fe(0x100)]=_0x3639fe(0x119),_0x3603c6[_0x3639fe(0xed)]=_0x3639fe(0x118),_0x3603c6[_0x3639fe(0x107)]='Attachment\x20recevied\x20for\x20path:\x20%s',_0x3603c6[_0x3639fe(0xc2)]=_0x3639fe(0xdc),_0x3603c6[_0x3639fe(0xd6)]=_0x3639fe(0xd8),_0x3603c6[_0x3639fe(0xe4)]='Created\x20.browserstack\x20folder\x20at:\x20%s',_0x3603c6[_0x3639fe(0xdd)]=_0x3639fe(0x113),_0x3603c6[_0x3639fe(0xe2)]=_0x3639fe(0xc3),_0x3603c6[_0x3639fe(0xe5)]=_0x3639fe(0x117),_0x3603c6[_0x3639fe(0xec)]=_0x3639fe(0x106),_0x3603c6[_0x3639fe(0x109)]=_0x3639fe(0x11f),_0x3603c6[_0x3639fe(0xe9)]='Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s',_0x3603c6[_0x3639fe(0xc8)]=function(_0x4ecb77,_0x48432d){return _0x4ecb77/_0x48432d;},_0x3603c6[_0x3639fe(0xcd)]=function(_0x4acdd6,_0x576874){return _0x4acdd6*_0x576874;},_0x3603c6['mINBG']=_0x3639fe(0xdb);const _0x3c1266=_0x3603c6;this['logger']['debug'](util['format'](_0x3c1266[_0x3639fe(0x107)],_0x13c379));const _0x29c5f8=os['homedir'](),_0xc5d6e0=path[_0x3639fe(0x102)](_0x29c5f8,_0x3c1266[_0x3639fe(0xc2)]);!fs[_0x3639fe(0xc9)](_0xc5d6e0)&&(this['logger']['debug'](util[_0x3639fe(0x104)](_0x3c1266[_0x3639fe(0xd6)],_0xc5d6e0)),fs['mkdirSync'](_0xc5d6e0),this['logger'][_0x3639fe(0xfb)](util[_0x3639fe(0x104)](_0x3c1266[_0x3639fe(0xe4)],_0xc5d6e0)));const _0x539284=BrowserstackCLI[_0x3639fe(0xcc)]()[_0x3639fe(0xcf)][_0x3639fe(0x11d)]?.[_0x3639fe(0x124)]?.[_0x3639fe(0xf0)]()?.[_0x3639fe(0x103)],_0x5a09e3=path[_0x3639fe(0x102)](_0xc5d6e0,_0x539284);!fs['existsSync'](_0x5a09e3)&&(fs[_0x3639fe(0xe1)](_0x5a09e3),this[_0x3639fe(0x11e)][_0x3639fe(0xfb)](util[_0x3639fe(0x104)](_0x3c1266[_0x3639fe(0xdd)],_0x5a09e3)));if(_0x3c1266[_0x3639fe(0x10c)](_0x13c379[_0x3639fe(0x111)](),'')){this[_0x3639fe(0x11e)][_0x3639fe(0xfb)](util['format'](_0x3c1266[_0x3639fe(0xe2)]));return;}if(_0x13c379[_0x3639fe(0xe8)](_0x3c1266[_0x3639fe(0xe5)])||_0x13c379[_0x3639fe(0xe8)](_0x3c1266[_0x3639fe(0xec)])){const _0x576b97=_0x13c379[_0x3639fe(0xe8)](_0x3c1266[_0x3639fe(0xe5)])?https:http,_0x5a8b90=path['basename'](_0x13c379),_0x2731e5=path[_0x3639fe(0x102)](_0x5a09e3,_0x5a8b90),_0x5f23b0=fs['createWriteStream'](_0x2731e5);_0x576b97[_0x3639fe(0x120)](_0x13c379,_0x3437d1=>{const _0x448e0e=_0x3639fe;if(_0x3c1266[_0x448e0e(0x10c)](_0x3437d1[_0x448e0e(0x115)],0xc8))_0x3437d1['pipe'](_0x5f23b0),_0x5f23b0['on'](_0x3c1266[_0x448e0e(0xd3)],()=>{const _0x3afad6=_0x448e0e;_0x5f23b0['close']();const _0x44dab9=fs[_0x3afad6(0xfd)](_0x2731e5),_0x53df4c=_0x3c1266[_0x3afad6(0xf8)](_0x44dab9[_0x3afad6(0x101)],_0x3c1266['wProN'](0x400,0x400));if(_0x3c1266[_0x3afad6(0xee)](_0x53df4c,0x64)){this[_0x3afad6(0x11e)][_0x3afad6(0xfb)](util[_0x3afad6(0x104)](_0x3c1266[_0x3afad6(0xfa)],_0x53df4c[_0x3afad6(0xc6)](0x2))),fs[_0x3afad6(0xc4)](_0x2731e5);return;}this[_0x3afad6(0x11e)][_0x3afad6(0xfb)](util['format'](_0x3c1266[_0x3afad6(0x105)],_0x2731e5)),uploadAttachmentsManager['trackFile'](_0x2731e5,_0x50dfca);});else{this[_0x448e0e(0x11e)][_0x448e0e(0xfb)](util['format'](_0x3c1266[_0x448e0e(0x100)],_0x3437d1[_0x448e0e(0x115)])),_0x5f23b0[_0x448e0e(0xca)](),fs[_0x448e0e(0xc4)](_0x2731e5);return;}})['on'](_0x3c1266[_0x3639fe(0x109)],_0x2992a7=>{const _0x170471=_0x3639fe;this[_0x170471(0x11e)][_0x170471(0xfb)](util[_0x170471(0x104)](_0x3c1266[_0x170471(0xed)],_0x2992a7[_0x170471(0xeb)])),_0x5f23b0[_0x170471(0xca)](),fs[_0x170471(0xc4)](_0x2731e5);return;});}else{if(!fs['existsSync'](_0x13c379)){this['logger'][_0x3639fe(0xfb)](util[_0x3639fe(0x104)](_0x3c1266['oDncX'],_0x13c379));return;}const _0x147527=fs[_0x3639fe(0xfd)](_0x13c379),_0x552ea1=_0x3c1266[_0x3639fe(0xc8)](_0x147527[_0x3639fe(0x101)],_0x3c1266[_0x3639fe(0xcd)](0x400,0x400));if(_0x3c1266[_0x3639fe(0xee)](_0x552ea1,0x64)){this[_0x3639fe(0x11e)][_0x3639fe(0xfb)](util[_0x3639fe(0x104)](_0x3c1266[_0x3639fe(0x114)],_0x552ea1['toFixed'](0x2)));return;}const _0x587073=path[_0x3639fe(0xd0)](_0x13c379),_0x57c48b=path['join'](_0x5a09e3,_0x587073);fs[_0x3639fe(0x110)](_0x13c379,_0x57c48b),uploadAttachmentsManager[_0x3639fe(0xfc)](_0x57c48b,_0x50dfca);}}static[a80_0x5a86fb(0xfc)](_0x4b329b,_0x5dfd2c){const _0x2e9d54=a80_0x5a86fb,_0xd32e7f={};_0xd32e7f[_0x2e9d54(0xf4)]=_0x2e9d54(0xd9),_0xd32e7f[_0x2e9d54(0xe0)]=_0x2e9d54(0xe6),_0xd32e7f[_0x2e9d54(0x11c)]=_0x2e9d54(0x10e),_0xd32e7f[_0x2e9d54(0xff)]=_0x2e9d54(0xd4);const _0x344530=_0xd32e7f;try{const _0x281cb8=AutomationFramework[_0x2e9d54(0x11b)](),_0x30c975=AutomationFramework[_0x2e9d54(0xf2)](_0x281cb8,PlaywrightDriverModule[_0x2e9d54(0x125)],''),_0x10d529=TestInfo[_0x2e9d54(0xe7)](_0x30c975),_0x5be1e4=_0x10d529[TestFrameworkConstants[_0x2e9d54(0xd2)]]||{};_0x5be1e4[_0x4b329b]={[TestFrameworkConstants[_0x2e9d54(0xfe)]]:fs[_0x2e9d54(0xfd)](_0x4b329b)['size'],[TestFrameworkConstants[_0x2e9d54(0x10f)]]:path[_0x2e9d54(0xd0)](_0x4b329b),[TestFrameworkConstants['KEY_FILE_PATH']]:_0x4b329b,[TestFrameworkConstants['KEY_FILE_LEVEL']]:_0x5dfd2c?_0x344530[_0x2e9d54(0xf4)]:_0x344530[_0x2e9d54(0xe0)]},_0x10d529[TestFrameworkConstants[_0x2e9d54(0xd2)]]=_0x5be1e4,TestInfo[_0x2e9d54(0xdf)](_0x30c975,_0x10d529),this[_0x2e9d54(0x11e)]['debug'](util[_0x2e9d54(0x104)](_0x344530['pcPFo'],_0x4b329b));}catch(_0x4d245a){this[_0x2e9d54(0x11e)][_0x2e9d54(0xfb)](util[_0x2e9d54(0x104)](_0x344530[_0x2e9d54(0xff)],_0x4d245a[_0x2e9d54(0xeb)]));}}static[a80_0x5a86fb(0xd5)](){const _0x2aa7f1=a80_0x5a86fb,_0x13ad93={};_0x13ad93[_0x2aa7f1(0x121)]='.browserstack',_0x13ad93[_0x2aa7f1(0xc5)]=_0x2aa7f1(0x123);const _0x52b9a6=_0x13ad93,_0x303691=os['homedir'](),_0xbcad73=path['join'](_0x303691,_0x52b9a6[_0x2aa7f1(0x121)]);if(!fs[_0x2aa7f1(0xc9)](_0xbcad73))return;const _0x2f8214=BrowserstackCLI[_0x2aa7f1(0xcc)]()[_0x2aa7f1(0xcf)]['TestHubModule']?.[_0x2aa7f1(0x124)]?.[_0x2aa7f1(0xf0)]()?.[_0x2aa7f1(0x103)],_0x14d7e4=path[_0x2aa7f1(0x102)](_0xbcad73,_0x2f8214);if(!fs[_0x2aa7f1(0xc9)](_0x14d7e4))return;const _0x978d26={};_0x978d26['recursive']=!![],_0x978d26[_0x2aa7f1(0x122)]=!![],fs[_0x2aa7f1(0x10a)](_0x14d7e4,_0x978d26),this[_0x2aa7f1(0x11e)][_0x2aa7f1(0xfb)](util[_0x2aa7f1(0x104)](_0x52b9a6['iDBjo']));}}module[a80_0x5a86fb(0xd7)]=uploadAttachmentsManager;function a80_0x2cdb(){const _0x36b17d=['copyFileSync','trim','885339TelGfE','Created\x20folder:\x20%s','mINBG','statusCode','finish','https://','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload','../../helpers/classLogger.js','getTrackedInstance','pcPFo','TestHubModule','logger','error','get','KWVBR','force','Cleared\x20attachment\x20folder','testhubConfig','KEY_TEST_ID','http','xJzaB','Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.','unlinkSync','iDBjo','toFixed','87328sBXCjY','MyVZU','existsSync','close','File\x20downloaded\x20to:\x20%s','getInstance','LDBvq','2095248VYExbI','modules','basename','292516MqMSjt','KEY_TEST_ATTACHMENTS','qOJsp','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','clearAttachments','IPBbS','exports','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','BuildLevel','6869421RAJybL','File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.','.browserstack','xyvOI','./framework/constants/testFrameworkConstants','setTestDetails','LaYZC','mkdirSync','DdugM','wProN','SgivK','uDZTb','TestLevel','getTestDetails','startsWith','oDncX','309318fFNOcE','message','JcPDk','imMOl','FcVvl','util','toObject','55xuctWK','getState','./modules/playwrightDriverModule','rzbdr','7xJdWNn','Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.','path','jLwHw','2200428tMUzWd','NLyfG','debug','trackFile','statSync','KEY_FILE_SIZE','viXNs','xIDnk','size','join','buildHashedId','format','xExQL','http://','hMLwk','./TestInfo','yboHS','rmSync','https','bSDMG','uploadAttachments','Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','KEY_FILE_NAME'];a80_0x2cdb=function(){return _0x36b17d;};return a80_0x2cdb();}