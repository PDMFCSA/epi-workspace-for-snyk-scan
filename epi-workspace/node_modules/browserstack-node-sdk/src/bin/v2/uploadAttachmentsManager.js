function a82_0x5430(_0x5600f0,_0x28b17a){const _0x21f0ad=a82_0x21f0();return a82_0x5430=function(_0x543027,_0x4d68ea){_0x543027=_0x543027-0x140;let _0x22d6ae=_0x21f0ad[_0x543027];return _0x22d6ae;},a82_0x5430(_0x5600f0,_0x28b17a);}function a82_0x21f0(){const _0x2a40af=['oYmCE','./modules/playwrightDriverModule','Created\x20.browserstack\x20folder\x20at:\x20%s','.browserstack','YvpjH','Attachment\x20recevied\x20for\x20path:\x20%s','Jufil','DfwmQ','30iehgUT','createWriteStream','SaKXN','mkdirSync','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','BtTNB','97542oqazNm','TestLevel','iMIjt','modules','path','GBhMl','RZSyb','./framework/automationFramework','retry','KEY_FILE_NAME','3212297APlejW','Cleared\x20attachment\x20folder','Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s','7YmbVzk','JeAWf','gHINR','SEbvu','KEY_TEST_ATTACHMENTS','homedir','statSync','toFixed','jahyI','unlinkSync','size','./TestInfo','copyFileSync','join','otxpa','close','TestHubModule','No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s','trackFile','http://','format','hrvXZ','http','https','IzUQl','Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.','rdtXv','existsSync','ZqwPu','debug','getInstance','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','dcxGS','statusCode','KEY_FILE_LEVEL','wHBDa','basename','nPaOk','./browserstackCLI','uploadAttachments','shRmq','YSIRl','clearAttachments','exports','100cRcUMa','get','pipe','startsWith','File\x20downloaded\x20to:\x20%s','Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload','UDeVn','Attachment\x20file\x20tracked\x20for\x20upload:\x20%s','TFxtu','File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.','rHxgr','YycCa','__workerDetails','rmSync','BuildLevel','KEY_FILE_SIZE','https://','message','recursive','getTestIdentifierFromTestInfo','176748UhOzHe','SGSwa','logger','AIIBR','util','getTestDetails','Created\x20folder:\x20%s','lluXs','1960944tyUiWD','buildHashedId','testhubConfig','8DleQca','uploadAttachmentsManager','aadUv','78378XrHiwc','iimKM','Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.','SxoMk','5917528YWPlQw','toObject','1892036MsuREx'];a82_0x21f0=function(){return _0x2a40af;};return a82_0x21f0();}const a82_0x4e52f7=a82_0x5430;(function(_0x567eee,_0x3a2417){const _0x4de195=a82_0x5430,_0x4cf9e8=_0x567eee();while(!![]){try{const _0x1c60cd=parseInt(_0x4de195(0x147))/0x1*(parseInt(_0x4de195(0x144))/0x2)+parseInt(_0x4de195(0x141))/0x3+parseInt(_0x4de195(0x14d))/0x4+parseInt(_0x4de195(0x196))/0x5*(parseInt(_0x4de195(0x1aa))/0x6)+parseInt(_0x4de195(0x169))/0x7*(-parseInt(_0x4de195(0x14b))/0x8)+-parseInt(_0x4de195(0x15c))/0x9+-parseInt(_0x4de195(0x156))/0xa*(parseInt(_0x4de195(0x166))/0xb);if(_0x1c60cd===_0x3a2417)break;else _0x4cf9e8['push'](_0x4cf9e8['shift']());}catch(_0x53fc3c){_0x4cf9e8['push'](_0x4cf9e8['shift']());}}}(a82_0x21f0,0x6251f));const os=require('os'),fs=require('fs'),path=require(a82_0x4e52f7(0x160)),util=require(a82_0x4e52f7(0x1ae)),BrowserstackCLI=require(a82_0x4e52f7(0x190)),https=require(a82_0x4e52f7(0x180)),http=require(a82_0x4e52f7(0x17f)),AutomationFramework=require(a82_0x4e52f7(0x163)),PlaywrightDriverModule=require(a82_0x4e52f7(0x14f)),TestInfo=require(a82_0x4e52f7(0x174)),TestFrameworkConstants=require('./framework/constants/testFrameworkConstants'),{createClassLogger}=require('../../helpers/classLogger.js');class uploadAttachmentsManager{static [a82_0x4e52f7(0x1ac)]=createClassLogger(a82_0x4e52f7(0x145));static[a82_0x4e52f7(0x191)](_0x3d4c09,_0x59ce28=![]){const _0x26c67c=a82_0x4e52f7,_0x36847c={};_0x36847c[_0x26c67c(0x162)]=function(_0x52850e,_0x5304ba){return _0x52850e/_0x5304ba;},_0x36847c[_0x26c67c(0x185)]=function(_0xdd1f4f,_0x1333bc){return _0xdd1f4f*_0x1333bc;},_0x36847c[_0x26c67c(0x14a)]=function(_0x376098,_0x2cbaf7){return _0x376098>_0x2cbaf7;},_0x36847c[_0x26c67c(0x146)]=_0x26c67c(0x182),_0x36847c[_0x26c67c(0x148)]=_0x26c67c(0x19a),_0x36847c[_0x26c67c(0x154)]=function(_0x4ac871,_0xe85873){return _0x4ac871===_0xe85873;},_0x36847c[_0x26c67c(0x1a0)]='finish',_0x36847c[_0x26c67c(0x177)]=_0x26c67c(0x19b),_0x36847c['BtTNB']=_0x26c67c(0x189),_0x36847c[_0x26c67c(0x16c)]=_0x26c67c(0x153),_0x36847c[_0x26c67c(0x140)]=_0x26c67c(0x151),_0x36847c[_0x26c67c(0x19c)]=_0x26c67c(0x15a),_0x36847c[_0x26c67c(0x171)]=_0x26c67c(0x150),_0x36847c['DfwmQ']=_0x26c67c(0x1b0),_0x36847c[_0x26c67c(0x18d)]=function(_0x51e3a1,_0x2c3089){return _0x51e3a1===_0x2c3089;},_0x36847c[_0x26c67c(0x161)]=_0x26c67c(0x149),_0x36847c['YycCa']=_0x26c67c(0x1a6),_0x36847c['ndjyk']=_0x26c67c(0x17c),_0x36847c[_0x26c67c(0x192)]='error',_0x36847c[_0x26c67c(0x14e)]=_0x26c67c(0x168),_0x36847c['oelld']=function(_0xfb20b0,_0x234cc6){return _0xfb20b0*_0x234cc6;},_0x36847c[_0x26c67c(0x16a)]=function(_0x26ff88,_0x591e05){return _0x26ff88>_0x591e05;},_0x36847c[_0x26c67c(0x158)]=_0x26c67c(0x19f);const _0x8b68d5=_0x36847c;this[_0x26c67c(0x1ac)]['debug'](util[_0x26c67c(0x17d)](_0x8b68d5[_0x26c67c(0x16c)],_0x3d4c09));const _0x4174df=os[_0x26c67c(0x16e)](),_0x389a8a=path[_0x26c67c(0x176)](_0x4174df,_0x8b68d5[_0x26c67c(0x140)]);!fs[_0x26c67c(0x184)](_0x389a8a)&&(this[_0x26c67c(0x1ac)][_0x26c67c(0x186)](util['format'](_0x8b68d5[_0x26c67c(0x19c)],_0x389a8a)),fs[_0x26c67c(0x159)](_0x389a8a),this['logger']['debug'](util[_0x26c67c(0x17d)](_0x8b68d5[_0x26c67c(0x171)],_0x389a8a)));const _0x470093=BrowserstackCLI['getInstance']()[_0x26c67c(0x15f)][_0x26c67c(0x179)]?.[_0x26c67c(0x143)]?.['toObject']()?.[_0x26c67c(0x142)],_0x4ef934=path['join'](_0x389a8a,_0x470093);!fs[_0x26c67c(0x184)](_0x4ef934)&&(fs[_0x26c67c(0x159)](_0x4ef934),this[_0x26c67c(0x1ac)][_0x26c67c(0x186)](util['format'](_0x8b68d5[_0x26c67c(0x155)],_0x4ef934)));if(_0x8b68d5['wHBDa'](_0x3d4c09['trim'](),'')){this[_0x26c67c(0x1ac)][_0x26c67c(0x186)](util[_0x26c67c(0x17d)](_0x8b68d5[_0x26c67c(0x161)]));return;}if(_0x3d4c09[_0x26c67c(0x199)](_0x8b68d5[_0x26c67c(0x1a1)])||_0x3d4c09[_0x26c67c(0x199)](_0x8b68d5['ndjyk'])){const _0x2ada83=_0x3d4c09[_0x26c67c(0x199)](_0x8b68d5[_0x26c67c(0x1a1)])?https:http,_0x1e8b50=path[_0x26c67c(0x18e)](_0x3d4c09),_0x4a2594=path[_0x26c67c(0x176)](_0x4ef934,_0x1e8b50),_0x3118cf=fs[_0x26c67c(0x157)](_0x4a2594);_0x2ada83[_0x26c67c(0x197)](_0x3d4c09,_0x5d29d3=>{const _0x3d31c2=_0x26c67c,_0x22e8e0={'hrvXZ':function(_0x1bbb8d,_0x343956){const _0x3db613=a82_0x5430;return _0x8b68d5[_0x3db613(0x162)](_0x1bbb8d,_0x343956);},'TFxtu':function(_0x40430a,_0x47b9fb){const _0x2b09c4=a82_0x5430;return _0x8b68d5[_0x2b09c4(0x185)](_0x40430a,_0x47b9fb);},'gHINR':function(_0x43fea3,_0x19f543){const _0x188484=a82_0x5430;return _0x8b68d5[_0x188484(0x14a)](_0x43fea3,_0x19f543);},'IzUQl':_0x8b68d5[_0x3d31c2(0x146)],'rdtXv':_0x8b68d5[_0x3d31c2(0x148)]};if(_0x8b68d5[_0x3d31c2(0x154)](_0x5d29d3[_0x3d31c2(0x18b)],0xc8))_0x5d29d3[_0x3d31c2(0x198)](_0x3118cf),_0x3118cf['on'](_0x8b68d5[_0x3d31c2(0x1a0)],()=>{const _0x4cb05a=_0x3d31c2;_0x3118cf[_0x4cb05a(0x178)]();const _0x5a5a23=fs[_0x4cb05a(0x16f)](_0x4a2594),_0x1efc9b=_0x22e8e0[_0x4cb05a(0x17e)](_0x5a5a23['size'],_0x22e8e0[_0x4cb05a(0x19e)](0x400,0x400));if(_0x22e8e0[_0x4cb05a(0x16b)](_0x1efc9b,0x64)){this[_0x4cb05a(0x1ac)][_0x4cb05a(0x186)](util['format'](_0x22e8e0[_0x4cb05a(0x181)],_0x1efc9b[_0x4cb05a(0x170)](0x2))),fs[_0x4cb05a(0x172)](_0x4a2594);return;}this[_0x4cb05a(0x1ac)][_0x4cb05a(0x186)](util[_0x4cb05a(0x17d)](_0x22e8e0[_0x4cb05a(0x183)],_0x4a2594)),uploadAttachmentsManager[_0x4cb05a(0x17b)](_0x4a2594,_0x59ce28);});else{this['logger']['debug'](util[_0x3d31c2(0x17d)](_0x8b68d5[_0x3d31c2(0x177)],_0x5d29d3[_0x3d31c2(0x18b)])),_0x3118cf[_0x3d31c2(0x178)](),fs['unlinkSync'](_0x4a2594);return;}})['on'](_0x8b68d5[_0x26c67c(0x192)],_0x398d00=>{const _0x3d4407=_0x26c67c;this[_0x3d4407(0x1ac)]['debug'](util['format'](_0x8b68d5[_0x3d4407(0x15b)],_0x398d00[_0x3d4407(0x1a7)])),_0x3118cf[_0x3d4407(0x178)](),fs[_0x3d4407(0x172)](_0x4a2594);return;});}else{if(!fs[_0x26c67c(0x184)](_0x3d4c09)){this[_0x26c67c(0x1ac)][_0x26c67c(0x186)](util[_0x26c67c(0x17d)](_0x8b68d5['oYmCE'],_0x3d4c09));return;}const _0x1ee4cb=fs[_0x26c67c(0x16f)](_0x3d4c09),_0x14e87a=_0x8b68d5[_0x26c67c(0x162)](_0x1ee4cb[_0x26c67c(0x173)],_0x8b68d5['oelld'](0x400,0x400));if(_0x8b68d5['JeAWf'](_0x14e87a,0x64)){this['logger'][_0x26c67c(0x186)](util['format'](_0x8b68d5[_0x26c67c(0x158)],_0x14e87a[_0x26c67c(0x170)](0x2)));return;}const _0xa9b8e1=path['basename'](_0x3d4c09),_0x59e1e5=path['join'](_0x4ef934,_0xa9b8e1);fs[_0x26c67c(0x175)](_0x3d4c09,_0x59e1e5),uploadAttachmentsManager[_0x26c67c(0x17b)](_0x59e1e5,_0x59ce28);}}static[a82_0x4e52f7(0x17b)](_0x37f835,_0x3c8937){const _0x40f4cf=a82_0x4e52f7,_0x19febd={};_0x19febd[_0x40f4cf(0x1ab)]=_0x40f4cf(0x1a4),_0x19febd[_0x40f4cf(0x15e)]=_0x40f4cf(0x15d),_0x19febd[_0x40f4cf(0x18a)]=_0x40f4cf(0x19d),_0x19febd[_0x40f4cf(0x152)]=_0x40f4cf(0x188);const _0x576afc=_0x19febd;try{const _0x45e564=global[_0x40f4cf(0x1a2)]?.['currentTest']?.['testInfo'],_0x49100e=TestInfo[_0x40f4cf(0x1a9)](_0x45e564,_0x45e564[_0x40f4cf(0x164)]),_0x18ffd9=TestInfo[_0x40f4cf(0x1af)](_0x49100e),_0xcbb066=_0x18ffd9[TestFrameworkConstants[_0x40f4cf(0x16d)]]||{};_0xcbb066[_0x37f835]={[TestFrameworkConstants[_0x40f4cf(0x1a5)]]:fs[_0x40f4cf(0x16f)](_0x37f835)['size'],[TestFrameworkConstants[_0x40f4cf(0x165)]]:path[_0x40f4cf(0x18e)](_0x37f835),[TestFrameworkConstants['KEY_FILE_PATH']]:_0x37f835,[TestFrameworkConstants[_0x40f4cf(0x18c)]]:_0x3c8937?_0x576afc[_0x40f4cf(0x1ab)]:_0x576afc['iMIjt']},_0x18ffd9[TestFrameworkConstants[_0x40f4cf(0x16d)]]=_0xcbb066,TestInfo['setTestDetails'](_0x49100e,_0x18ffd9),this[_0x40f4cf(0x1ac)][_0x40f4cf(0x186)](util[_0x40f4cf(0x17d)](_0x576afc[_0x40f4cf(0x18a)],_0x37f835));}catch(_0x435b36){this[_0x40f4cf(0x1ac)][_0x40f4cf(0x186)](util[_0x40f4cf(0x17d)](_0x576afc[_0x40f4cf(0x152)],_0x435b36[_0x40f4cf(0x1a7)]));}}static[a82_0x4e52f7(0x194)](){const _0x379919=a82_0x4e52f7,_0x188087={};_0x188087[_0x379919(0x1ad)]='.browserstack',_0x188087['YSIRl']=_0x379919(0x17a),_0x188087[_0x379919(0x18f)]=_0x379919(0x167);const _0x286582=_0x188087,_0x23a020=os[_0x379919(0x16e)](),_0x4020ef=path[_0x379919(0x176)](_0x23a020,_0x286582['AIIBR']);if(!fs[_0x379919(0x184)](_0x4020ef))return;const _0x2a88f9=BrowserstackCLI[_0x379919(0x187)]()[_0x379919(0x15f)]['TestHubModule']?.[_0x379919(0x143)]?.[_0x379919(0x14c)]()?.['buildHashedId'],_0x1a08b5=_0x2a88f9?path['join'](_0x4020ef,_0x2a88f9):null;if(!_0x1a08b5||!fs['existsSync'](_0x1a08b5)){this[_0x379919(0x1ac)][_0x379919(0x186)](util[_0x379919(0x17d)](_0x286582[_0x379919(0x193)],_0x2a88f9));return;}const _0x58ee69={};_0x58ee69[_0x379919(0x1a8)]=!![],_0x58ee69['force']=!![],fs[_0x379919(0x1a3)](_0x1a08b5,_0x58ee69),this[_0x379919(0x1ac)][_0x379919(0x186)](util['format'](_0x286582[_0x379919(0x18f)]));}}module[a82_0x4e52f7(0x195)]=uploadAttachmentsManager;