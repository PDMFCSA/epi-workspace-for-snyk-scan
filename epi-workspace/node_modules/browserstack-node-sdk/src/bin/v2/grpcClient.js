const a64_0x8f1ea1=a64_0x4149;function a64_0x516c(){const _0x15e266=['16257dAsTHu','TestFrameworkEvent\x20request\x20successful','../utils/constants','fMfgv','end','binSessionId','stop-bin-session\x20response:\x20','debug','level','setHash','TestSessionEventRequest','ConnectBinSession\x20error:\x20','Sending\x20DriverInit','MSGbS','Sending\x20LogCreatedEvent','RZWLi','setLanguage','encode','start','TestFrameworkEvent\x20error:\x20','aPsTx','connect-bin-session\x20response:\x20','PNjUO','setUuid','setFrameworksList','setFrameworkName','WnZRN','LogCreatedEvent\x20request\x20successful','name','logger','Sending\x20TestSessionEvent','playwrightConfig','fbOlX','set','gZzdn','Getting\x20Playwright\x20config','addFrameworks','DriverInit\x20request\x20successful','TestFrameworkEventRequest','winstonLogger','StopBinSessionRequest','uaQBu','../../helpers/performance/constants','Error\x20in\x20TestFrameworkEvent:\x20','channel','nhxZz','DriverInit\x20error:\x20','setAttachmentType','vPUCP','moeJD','setCapabilities','UwKtV','processId','setFileName','setKind','1755906QVjUON','path','setUserInputParams','JGPgo','4079201AjQEhV','createInsecure','GrpcClient','error','connectBinSession','uzodB','frameworkSessionId','SDK_START_BIN_SESSION','setBinSessionId','BMDeb','46QzUtxO','mHrlK','ref','SDK_AUTOMATION_FRAMEWORK_INIT','ClDtN','kbDUe','SDK_CONNECT_BIN_SESSION','StopBinSession\x20successful','AccessibilityConfig\x20error:\x20','setEventJson','../../helpers/logger.js','logCreatedEvent','StartBinSession\x20error:\x20','slice','setFilePath','\x20and\x20listen\x20address:\x20','uuid','AutomationSession','setStartedAt','stringify','forEach','cugiV','Getting\x20Accessibility\x20config','setMessage','client','connect','threadId','../../helpers/performance/performance-tester.js','setTestFramework','AccessibilityConfigRequest','ZlyAh','tuaXx','tjLnY','getAutomationFrameworkDetail','setThreadId','XvKCl','Error\x20in\x20getAccessibilityConfig:\x20','getEnvVarsMap','listenAddress','2923016bgLRpP','setCliArgsList','1949299KOAAir','setConfig','test_run_uuid','Error\x20in\x20startBinSession:\x20','jagex','setSdkLanguage','getFrameworkVersionsMap','40zhjYUB','info','exports','vDuxr','setExecutionContext','setFrameworkSessionId','user_killed','setTestFrameworkName','HuHwb','fileName','Error\x20in\x20stopBinSession:\x20','version','xuNbB','CklQl','format','init','TestSessionEvent\x20error:\x20','setTestFrameworkState','setEndedAt','setTestFrameworkVersion','setRef','Connected\x20to\x20gRPC\x20server\x20at\x20','setProcessId','setPathConfig','setPlatformIndex','attachment_type','setSdkVersion','testFrameworkVersion','setFileSize','Error\x20in\x20DriverInit:\x20','cwd','ocabx','TEqBN','QJfnj','192Bmrrot','provider','Pyvin','getSdkVersion','nitkD','TestSessionEvent\x20request\x20successful','Error\x20in\x20LogCreatedEvent:\x20','cmeKe','ExecutionContext','getPlaywrightConfig','Stopping\x20signal\x20','@grpc/grpc-js','ZedVc','setHubUrl','zSdMQ','../../helpers/classLogger.js','hubUrl','Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address','accessibilityConfig','testSessionEvent','wDcWY','Stopping\x20bin\x20session','setExitCode','\x20listenAddr:\x20','frameworkVersion','argv','HBtjg','setFrameworkVersion','utf-8','grpc.keepalive_time_ms','hash','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','7248276bPnvaN','StartBinSessionRequest','No\x20gRPC\x20client\x20not\x20initialized.','setCustomMetadata','browserstack.yml','Error\x20in\x20getPlaywrightConfig:\x20','getSdkLanguage','StartBinSession\x20successful','testFrameworkState','pqtEh','mxnZb','getAccessibilityConfig','SDK_CLI_ON_STOP','DriverInitRequest','FkOuo','startBinSession','RkdKx','env','getInstance','Missing\x20binSessionId','phAac','StopBinSession\x20error:\x20','driverInit','timestamp','30539NWChau','stopBinSession','BROWSERSTACK_CLI_BIN_SESSION_ID','message','setProvider','5MNzPRL','owhrE'];a64_0x516c=function(){return _0x15e266;};return a64_0x516c();}function a64_0x4149(_0x125cf2,_0x44f761){const _0x516cc7=a64_0x516c();return a64_0x4149=function(_0x41496a,_0x3a8cf5){_0x41496a=_0x41496a-0xdc;let _0x2edd3b=_0x516cc7[_0x41496a];return _0x2edd3b;},a64_0x4149(_0x125cf2,_0x44f761);}(function(_0x388dca,_0xda5a91){const _0x499b98=a64_0x4149,_0x2c6c7e=_0x388dca();while(!![]){try{const _0x346ffb=parseInt(_0x499b98(0xf7))/0x1*(-parseInt(_0x499b98(0x143))/0x2)+-parseInt(_0x499b98(0xfe))/0x3*(parseInt(_0x499b98(0x195))/0x4)+parseInt(_0x499b98(0xfc))/0x5*(-parseInt(_0x499b98(0x135))/0x6)+parseInt(_0x499b98(0x139))/0x7+-parseInt(_0x499b98(0x16a))/0x8+parseInt(_0x499b98(0xdf))/0x9+-parseInt(_0x499b98(0x173))/0xa*(-parseInt(_0x499b98(0x16c))/0xb);if(_0x346ffb===_0xda5a91)break;else _0x2c6c7e['push'](_0x2c6c7e['shift']());}catch(_0x10637a){_0x2c6c7e['push'](_0x2c6c7e['shift']());}}}(a64_0x516c,0x744f6));const util=require('util'),logger=require(a64_0x8f1ea1(0x14d))[a64_0x8f1ea1(0x125)],grpc=require(a64_0x8f1ea1(0x1a0)),services=require('../../../generated/sdk_grpc_pb'),messages=require('../../../generated/sdk-messages_pb'),path=require(a64_0x8f1ea1(0x136)),CLIUtils=require('./cliUtils.js'),{createClassLogger}=require(a64_0x8f1ea1(0x1a4)),PerformanceTester=require(a64_0x8f1ea1(0x15e)),{EVENTS:PerformanceEvents}=require(a64_0x8f1ea1(0x128)),{PLAYWRIGHT_TRACE_LOGS}=require(a64_0x8f1ea1(0x100));class GrpcClient{static #instance=null;[a64_0x8f1ea1(0x103)]=null;[a64_0x8f1ea1(0x169)]=null;[a64_0x8f1ea1(0x12a)]=null;[a64_0x8f1ea1(0x15b)]=null;[a64_0x8f1ea1(0x11b)]=createClassLogger(a64_0x8f1ea1(0x13b));constructor(){}static[a64_0x8f1ea1(0xf1)](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}[a64_0x8f1ea1(0x182)](_0x5576e7){const _0x54c186=a64_0x8f1ea1,_0x2ec302={};_0x2ec302['mxnZb']=function(_0x4d649e,_0x55b715){return _0x4d649e||_0x55b715;};const _0x4dc107=_0x2ec302,{id:_0x275da9,listen:_0x2cb3af}=_0x5576e7;if(_0x4dc107[_0x54c186(0xe9)](!_0x275da9,!_0x2cb3af))throw new Error('Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20'+_0x275da9+_0x54c186(0x1ac)+_0x2cb3af);this[_0x54c186(0x103)]=_0x275da9,this[_0x54c186(0x169)]=_0x2cb3af,process['env']['BROWSERSTACK_CLI_BIN_SESSION_ID']=this[_0x54c186(0x103)],process[_0x54c186(0xf0)][_0x54c186(0xde)]=this['listenAddress'],this[_0x54c186(0x15c)](),this[_0x54c186(0x11b)][_0x54c186(0x174)]('Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20'+this[_0x54c186(0x103)]+_0x54c186(0x152)+this[_0x54c186(0x169)]);}[a64_0x8f1ea1(0x15c)](){const _0x2ee90e=a64_0x8f1ea1,_0xf92bc9={};_0xf92bc9[_0x2ee90e(0x1a9)]=_0x2ee90e(0x1a6);const _0x240e46=_0xf92bc9;let _0x367e0c=this[_0x2ee90e(0x169)];!_0x367e0c&&(_0x367e0c=process[_0x2ee90e(0xf0)]['BROWSERSTACK_CLI_BIN_LISTEN_ADDR']);!this[_0x2ee90e(0x103)]&&(this['binSessionId']=this[_0x2ee90e(0x103)]||process[_0x2ee90e(0xf0)][_0x2ee90e(0xf9)]);if(!_0x367e0c)throw new Error(_0x240e46[_0x2ee90e(0x1a9)]);const _0x4fb38e={};_0x4fb38e[_0x2ee90e(0xdc)]=0x2710,this['channel']=new grpc['Channel'](_0x367e0c,grpc['credentials']['createInsecure'](),_0x4fb38e),this[_0x2ee90e(0x15b)]=new services['SDKClient'](_0x367e0c,grpc['credentials'][_0x2ee90e(0x13a)]()),this[_0x2ee90e(0x11b)][_0x2ee90e(0x174)](_0x2ee90e(0x188)+_0x367e0c);}async[a64_0x8f1ea1(0xee)](){const _0x350394=a64_0x8f1ea1,_0x545f9b={'yAPoR':function(_0x22080f,_0x354136){return _0x22080f!==_0x354136;},'MSGbS':function(_0x3214a0,_0x143614){return _0x3214a0(_0x143614);},'nhxZz':_0x350394(0xe6),'cmeKe':function(_0x29e6ca,_0x20cc26){return _0x29e6ca(_0x20cc26);},'phAac':'startBinSession:\x20Calling\x20startBinSession','tJIqb':'No\x20gRPC\x20client\x20not\x20initialized.','zSdMQ':_0x350394(0xe3),'pqtEh':function(_0x1df9bd,_0x3975d4){return _0x1df9bd||_0x3975d4;}};PerformanceTester[_0x350394(0x110)](PerformanceEvents['SDK_START_BIN_SESSION']),this[_0x350394(0x11b)][_0x350394(0x174)](_0x545f9b[_0x350394(0xf3)]);try{!this[_0x350394(0x15b)]&&this[_0x350394(0x11b)]['info'](_0x545f9b['tJIqb']);const _0x3f4867=CLIUtils[_0x350394(0x198)](),_0x5231cb=CLIUtils['getAutomationFrameworkDetail'](),_0x210a06=_0x5231cb[_0x350394(0x11a)],_0x42d4bd=_0x5231cb[_0x350394(0x17e)],_0x3c0066=new messages[(_0x350394(0xe0))]();_0x3c0066[_0x350394(0x141)](this['binSessionId']),_0x3c0066[_0x350394(0x171)](CLIUtils[_0x350394(0xe5)]()),_0x3c0066[_0x350394(0x18d)](_0x3f4867),_0x3c0066['setPathProject'](process[_0x350394(0x191)]()),_0x3c0066[_0x350394(0x18a)](path['resolve'](process[_0x350394(0x191)](),_0x545f9b[_0x350394(0x1a3)]));const _0x58cd8a=_0x3c0066[_0x350394(0x168)]();Object['entries'](process['env'])[_0x350394(0x157)](([_0x5f0f37,_0x401935])=>{const _0x747a18=_0x350394;_0x545f9b['yAPoR'](_0x401935,undefined)&&_0x545f9b['yAPoR'](_0x401935,null)&&_0x58cd8a[_0x747a18(0x11f)](_0x5f0f37,_0x401935);}),_0x3c0066[_0x350394(0x16b)](process[_0x350394(0x1ae)][_0x350394(0x150)](0x2)),_0x3c0066[_0x350394(0x10e)](CLIUtils[_0x350394(0xe5)]()),_0x3c0066[_0x350394(0x15f)](_0x210a06);const _0x2269c5=_0x3c0066[_0x350394(0x172)]();return _0x2269c5[_0x350394(0x11f)](_0x210a06,_0x545f9b[_0x350394(0xe8)](_0x42d4bd,'')),_0x3c0066[_0x350394(0x122)](_0x210a06,_0x42d4bd),_0x3c0066[_0x350394(0x116)]([_0x210a06]),new Promise((_0x41d142,_0x5c8553)=>{this['client']['startBinSession'](_0x3c0066,(_0x1d3739,_0x466afc)=>{const _0x338882=a64_0x4149;if(_0x1d3739){this['logger']['error'](_0x338882(0x14f)+_0x1d3739[_0x338882(0xfa)]),_0x545f9b[_0x338882(0x10b)](_0x5c8553,_0x1d3739),PerformanceTester['end'](PerformanceEvents[_0x338882(0x140)],![],util[_0x338882(0x181)](_0x1d3739));return;}this[_0x338882(0x11b)]['info'](_0x545f9b[_0x338882(0x12b)]),PerformanceTester['end'](PerformanceEvents[_0x338882(0x140)]),_0x545f9b[_0x338882(0x19c)](_0x41d142,_0x466afc);});});}catch(_0x5b4667){this[_0x350394(0x11b)][_0x350394(0x13c)](_0x350394(0x16f)+util[_0x350394(0x181)](_0x5b4667)),PerformanceTester[_0x350394(0x102)](PerformanceEvents[_0x350394(0x140)],![],util[_0x350394(0x181)](_0x5b4667));throw _0x5b4667;}}async[a64_0x8f1ea1(0x13d)](){const _0x1f372f=a64_0x8f1ea1,_0x32eb67={'PNjUO':function(_0x57ab90,_0x20dd5a){return _0x57ab90(_0x20dd5a);},'XvKCl':'ConnectBinSession\x20successful','Mezor':'Connecting\x20bin\x20session','mjrVH':_0x1f372f(0xe1)};PerformanceTester[_0x1f372f(0x110)](PerformanceEvents[_0x1f372f(0x149)]),this[_0x1f372f(0x11b)][_0x1f372f(0x174)](_0x32eb67['Mezor']);try{!this[_0x1f372f(0x15b)]&&this[_0x1f372f(0x11b)]['info'](_0x32eb67['mjrVH']);const _0x5dd7e6=new messages['ConnectBinSessionRequest']();_0x5dd7e6['setBinSessionId'](this[_0x1f372f(0x103)]);const _0x5cd083=await new Promise((_0x14fd52,_0x4a1e41)=>{const _0x35adc8=_0x1f372f,_0x534d13={'tjLnY':function(_0x528578,_0x8384fc){const _0x3fa31e=a64_0x4149;return _0x32eb67[_0x3fa31e(0x114)](_0x528578,_0x8384fc);},'vDuxr':_0x32eb67[_0x35adc8(0x166)]};this[_0x35adc8(0x15b)][_0x35adc8(0x13d)](_0x5dd7e6,(_0x1ee2ee,_0x328115)=>{const _0x7fdc23=_0x35adc8;if(_0x1ee2ee){this['logger']['error'](_0x7fdc23(0x109)+_0x1ee2ee['message']),_0x534d13[_0x7fdc23(0x163)](_0x4a1e41,_0x1ee2ee),PerformanceTester[_0x7fdc23(0x102)](PerformanceEvents[_0x7fdc23(0x149)],![],util[_0x7fdc23(0x181)](_0x1ee2ee));return;}this[_0x7fdc23(0x11b)][_0x7fdc23(0x174)](_0x534d13[_0x7fdc23(0x176)]),PerformanceTester[_0x7fdc23(0x102)](PerformanceEvents[_0x7fdc23(0x149)]),_0x534d13[_0x7fdc23(0x163)](_0x14fd52,_0x328115);});});return this[_0x1f372f(0x11b)][_0x1f372f(0x105)](_0x1f372f(0x113)+util[_0x1f372f(0x181)](_0x5cd083)),_0x5cd083;}catch(_0x133bb7){PerformanceTester[_0x1f372f(0x102)](PerformanceEvents[_0x1f372f(0x149)],![],util['format'](_0x133bb7)),this[_0x1f372f(0x11b)]['error']('Error\x20in\x20connectBinSession:\x20'+util[_0x1f372f(0x181)](_0x133bb7));throw _0x133bb7;}}async['stopBinSession'](_0x263dfe={},_0x33f92e=null){const _0x4237e9=a64_0x8f1ea1,_0x4c33eb={'nitkD':function(_0x130a0b,_0xae2cf1){return _0x130a0b(_0xae2cf1);},'kbDUe':_0x4237e9(0x14a),'RkdKx':function(_0x3c37a9,_0x341f42){return _0x3c37a9(_0x341f42);},'fMfgv':_0x4237e9(0x1aa),'tuaXx':_0x4237e9(0xf2),'KlHnH':'No\x20gRPC\x20client\x20not\x20initialized.','gZzdn':_0x4237e9(0x179)};PerformanceTester[_0x4237e9(0x110)](PerformanceEvents[_0x4237e9(0xeb)]),this[_0x4237e9(0x11b)][_0x4237e9(0x174)](_0x4c33eb[_0x4237e9(0x101)]);try{if(!this[_0x4237e9(0x103)])throw new Error(_0x4c33eb[_0x4237e9(0x162)]);!this['client']&&this[_0x4237e9(0x11b)][_0x4237e9(0x174)](_0x4c33eb['KlHnH']);const _0x498d1b=new messages[(_0x4237e9(0x126))]();this[_0x4237e9(0x11b)][_0x4237e9(0x105)](_0x4237e9(0x19f)+JSON[_0x4237e9(0x156)](_0x33f92e)),_0x498d1b[_0x4237e9(0x141)](this[_0x4237e9(0x103)]),_0x498d1b[_0x4237e9(0xe2)](_0x263dfe),_0x498d1b['setExitSignal'](_0x33f92e?_0x33f92e:null),_0x498d1b['setExitReason'](_0x33f92e?_0x4c33eb[_0x4237e9(0x120)]:null),_0x498d1b[_0x4237e9(0x1ab)](_0x33f92e?0x1:0x0);const _0xce01df=await new Promise((_0x49c148,_0x19d3eb)=>{const _0x2427c0=_0x4237e9;this[_0x2427c0(0x15b)][_0x2427c0(0xf8)](_0x498d1b,(_0x1bca33,_0x41e903)=>{const _0x41d318=_0x2427c0;if(_0x1bca33){this[_0x41d318(0x11b)][_0x41d318(0x13c)](_0x41d318(0xf4)+_0x1bca33[_0x41d318(0xfa)]),_0x4c33eb[_0x41d318(0x199)](_0x19d3eb,_0x1bca33),PerformanceTester[_0x41d318(0x102)](PerformanceEvents['SDK_CLI_ON_STOP'],![],util['format'](_0x1bca33));return;}this[_0x41d318(0x11b)][_0x41d318(0x174)](_0x4c33eb[_0x41d318(0x148)]),PerformanceTester[_0x41d318(0x102)](PerformanceEvents[_0x41d318(0xeb)]),_0x4c33eb[_0x41d318(0xef)](_0x49c148,_0x41e903);});});return this[_0x4237e9(0x11b)][_0x4237e9(0x105)](_0x4237e9(0x104)+util['format'](_0xce01df)),_0xce01df;}catch(_0x3388e6){PerformanceTester['end'](PerformanceEvents[_0x4237e9(0xeb)],![],util[_0x4237e9(0x181)](_0x3388e6)),this[_0x4237e9(0x11b)][_0x4237e9(0x13c)](_0x4237e9(0x17d)+util['format'](_0x3388e6));}}async[a64_0x8f1ea1(0x19e)](_0x2048a4){const _0x4899a0=a64_0x8f1ea1,_0x7a6b3d={'gluES':function(_0x4194cf,_0x27f7be){return _0x4194cf(_0x27f7be);},'UwKtV':'PlaywrightConfig\x20request\x20successful','xuNbB':function(_0x47f66,_0x5ec368){return _0x47f66(_0x5ec368);},'fbOlX':_0x4899a0(0x121),'GOEft':_0x4899a0(0xe1)};PerformanceTester[_0x4899a0(0x110)](PerformanceEvents[_0x4899a0(0x146)]),this[_0x4899a0(0x11b)][_0x4899a0(0x174)](_0x7a6b3d[_0x4899a0(0x11e)]);try{!this[_0x4899a0(0x15b)]&&this['logger'][_0x4899a0(0x174)](_0x7a6b3d['GOEft']);const _0x5376fc=new messages['PlaywrightConfigRequest']();return _0x5376fc[_0x4899a0(0x141)](this[_0x4899a0(0x103)]),_0x5376fc[_0x4899a0(0x16d)](JSON[_0x4899a0(0x156)](_0x2048a4)),new Promise((_0x314e2a,_0x2cc894)=>{const _0x185d04=_0x4899a0;this['client'][_0x185d04(0x11d)](_0x5376fc,(_0xce5268,_0x488caf)=>{const _0x2f349e=_0x185d04;if(_0xce5268){this[_0x2f349e(0x11b)]['error']('PlaywrightConfig\x20error:\x20'+_0xce5268['message']),_0x7a6b3d['gluES'](_0x2cc894,_0xce5268),PerformanceTester[_0x2f349e(0x102)](PerformanceEvents[_0x2f349e(0x146)],![],util[_0x2f349e(0x181)](_0xce5268));return;}this[_0x2f349e(0x11b)][_0x2f349e(0x174)](_0x7a6b3d[_0x2f349e(0x131)]),PerformanceTester['end'](PerformanceEvents[_0x2f349e(0x146)]),_0x7a6b3d[_0x2f349e(0x17f)](_0x314e2a,_0x488caf);});});}catch(_0x14dd39){PerformanceTester['end'](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT'],![],util['format'](_0x14dd39)),this[_0x4899a0(0x11b)][_0x4899a0(0x13c)](_0x4899a0(0xe4)+util[_0x4899a0(0x181)](_0x14dd39));throw _0x14dd39;}}async[a64_0x8f1ea1(0xea)](_0x46a1d9){const _0x56cbce=a64_0x8f1ea1,_0x577a67={'CklQl':function(_0x4dd8fe,_0x1e288a){return _0x4dd8fe(_0x1e288a);},'WQcbV':'AccessibilityConfig\x20request\x20successful','uzodB':function(_0x1a300d,_0x1f53d2){return _0x1a300d(_0x1f53d2);},'aPsTx':_0x56cbce(0x159),'RZWLi':_0x56cbce(0x1b1)};this[_0x56cbce(0x11b)]['info'](_0x577a67[_0x56cbce(0x112)]);try{const _0x3b06f0=Buffer['from'](JSON[_0x56cbce(0x156)](_0x46a1d9['launchcaps']),_0x577a67[_0x56cbce(0x10d)]),_0x232dd8=new messages[(_0x56cbce(0x160))](),_0x284acf=CLIUtils[_0x56cbce(0x164)](),_0x34505e=_0x284acf['name'],_0x451d2e=_0x284acf[_0x56cbce(0x17e)];return _0x232dd8[_0x56cbce(0x141)](this[_0x56cbce(0x103)]),_0x232dd8['setPlatformIndex'](0x0),_0x232dd8[_0x56cbce(0x117)](_0x34505e),_0x232dd8[_0x56cbce(0x1b0)](_0x451d2e),_0x232dd8['setHubUrl'](_0x46a1d9[_0x56cbce(0x1a5)]),_0x232dd8[_0x56cbce(0x130)](_0x3b06f0),new Promise((_0x3beae9,_0x5333c0)=>{const _0x13ec44=_0x56cbce,_0x59d96f={'ZOOcx':function(_0x30fa5d,_0x51ff6b){const _0x441dd3=a64_0x4149;return _0x577a67[_0x441dd3(0x180)](_0x30fa5d,_0x51ff6b);},'FkOuo':_0x577a67['WQcbV'],'owhrE':function(_0x3062b5,_0x160a39){const _0x8661fb=a64_0x4149;return _0x577a67[_0x8661fb(0x13e)](_0x3062b5,_0x160a39);}};this[_0x13ec44(0x15b)][_0x13ec44(0x1a7)](_0x232dd8,(_0x5a3db0,_0x198d43)=>{const _0x517e87=_0x13ec44;if(_0x5a3db0){this[_0x517e87(0x11b)][_0x517e87(0x13c)](_0x517e87(0x14b)+_0x5a3db0[_0x517e87(0xfa)]),_0x59d96f['ZOOcx'](_0x5333c0,_0x5a3db0);return;}this[_0x517e87(0x11b)]['info'](_0x59d96f[_0x517e87(0xed)]),_0x59d96f[_0x517e87(0xfd)](_0x3beae9,_0x198d43);});});}catch(_0x420aab){this[_0x56cbce(0x11b)][_0x56cbce(0x13c)](_0x56cbce(0x167)+util[_0x56cbce(0x181)](_0x420aab));}}async[a64_0x8f1ea1(0x1a8)](_0x39c7d6){const _0x49c0ed=a64_0x8f1ea1,_0x4fc055={'QJfnj':function(_0x120d52,_0x416870){return _0x120d52(_0x416870);},'uaQBu':_0x49c0ed(0x19a),'TEqBN':_0x49c0ed(0x11c),'AQIBc':_0x49c0ed(0xe1)};this[_0x49c0ed(0x11b)][_0x49c0ed(0x174)](_0x4fc055[_0x49c0ed(0x193)]);try{!this['client']&&this[_0x49c0ed(0x11b)][_0x49c0ed(0x174)](_0x4fc055['AQIBc']);const {platformIndex:_0x414219,testFrameworkName:_0x181320,testFrameworkVersion:_0x321b00,testFrameworkState:_0x1b8a6c,testHookState:_0x867a4c,testUuid:_0x1823c3,automationSession:_0x3c8b6b,capabilities:_0x3091a2,executionContext:_0x55596f}=_0x39c7d6,_0x31f23a=new messages[(_0x49c0ed(0x108))]();_0x31f23a[_0x49c0ed(0x141)](this[_0x49c0ed(0x103)]),_0x31f23a['setPlatformIndex'](_0x414219),_0x31f23a[_0x49c0ed(0x17a)](_0x181320),_0x31f23a['setTestFrameworkVersion'](_0x321b00),_0x31f23a[_0x49c0ed(0x184)](_0x1b8a6c),_0x31f23a['setTestHookState'](_0x867a4c),_0x31f23a['setTestUuid'](_0x1823c3);const _0x16503a=new messages['TestSessionEventRequest'][(_0x49c0ed(0x154))]();_0x16503a[_0x49c0ed(0xfb)](_0x3c8b6b[_0x49c0ed(0x196)]),_0x16503a[_0x49c0ed(0x117)](_0x3c8b6b['frameworkName']),_0x16503a['setFrameworkVersion'](_0x3c8b6b[_0x49c0ed(0x1ad)]),_0x16503a[_0x49c0ed(0x178)](_0x3c8b6b[_0x49c0ed(0x13f)]),_0x16503a[_0x49c0ed(0x187)](_0x3c8b6b[_0x49c0ed(0x145)]),_0x16503a[_0x49c0ed(0x1a2)](_0x3c8b6b[_0x49c0ed(0x1a5)]),_0x31f23a['addAutomationSessions'](_0x16503a),_0x31f23a['setCapabilities'](_0x3091a2);const _0x26c10d=new messages['ExecutionContext']();return _0x26c10d[_0x49c0ed(0x189)](_0x55596f[_0x49c0ed(0x132)]),_0x26c10d[_0x49c0ed(0x165)](_0x55596f[_0x49c0ed(0x15d)]),_0x26c10d[_0x49c0ed(0x107)](_0x55596f['hash']),_0x31f23a[_0x49c0ed(0x177)](_0x26c10d),new Promise((_0x4d7023,_0x3c6ba8)=>{const _0x30be27=_0x49c0ed,_0x3a7ad4={'ClDtN':function(_0x512c67,_0x411d31){const _0x121c57=a64_0x4149;return _0x4fc055[_0x121c57(0x194)](_0x512c67,_0x411d31);},'WnZRN':_0x4fc055[_0x30be27(0x127)]};this['client'][_0x30be27(0x1a8)](_0x31f23a,(_0x197e46,_0x43a962)=>{const _0x465781=_0x30be27;if(_0x197e46){this[_0x465781(0x11b)]['error'](_0x465781(0x183)+_0x197e46[_0x465781(0xfa)]),_0x3a7ad4[_0x465781(0x147)](_0x3c6ba8,_0x197e46);return;}this['logger']['info'](_0x3a7ad4[_0x465781(0x118)]),_0x3a7ad4[_0x465781(0x147)](_0x4d7023,_0x43a962);});});}catch(_0x2b4431){this[_0x49c0ed(0x11b)]['error']('Error\x20in\x20TestSessionEvent:\x20'+util[_0x49c0ed(0x181)](_0x2b4431));throw _0x2b4431;}}async['testFrameworkEvent'](_0x1e975b){const _0x151782=a64_0x8f1ea1,_0x22ae29={'ZedVc':function(_0x59e96e,_0x4e52fa){return _0x59e96e(_0x4e52fa);},'SWqdA':_0x151782(0xff),'moeJD':'Sending\x20TestFrameworkEvent','cugiV':_0x151782(0xe1)};this[_0x151782(0x11b)][_0x151782(0x174)](_0x22ae29[_0x151782(0x12f)]);try{!this[_0x151782(0x15b)]&&this[_0x151782(0x11b)]['info'](_0x22ae29[_0x151782(0x158)]);const {platfromIndex:_0x366491,testFrameworkName:_0x12c9a3,testFrameworkVersion:_0x3720b0,testFrameworkState:_0x2fc55e,hookState:_0x1e6902,startedAt:_0x1148e0,endedAt:_0x2a1ed6,uuid:_0x3ef6d0,eventJson:_0x3e9229,executionContext:_0x8f18b1}=_0x1e975b,_0x2ca903=new messages[(_0x151782(0x124))]();_0x2ca903[_0x151782(0x141)](this[_0x151782(0x103)]),_0x2ca903[_0x151782(0x18b)](_0x366491),_0x2ca903[_0x151782(0x17a)](_0x12c9a3),_0x2ca903[_0x151782(0x186)](_0x3720b0),_0x2ca903[_0x151782(0x184)](_0x2fc55e),_0x2ca903['setTestHookState'](_0x1e6902),_0x2ca903[_0x151782(0x155)](_0x1148e0),_0x2ca903[_0x151782(0x185)](_0x2a1ed6),_0x2ca903[_0x151782(0x115)](_0x3ef6d0),_0x2ca903[_0x151782(0x14c)](_0x3e9229);const _0x590be9=new messages[(_0x151782(0x19d))]();return _0x590be9['setProcessId'](_0x8f18b1[_0x151782(0x132)]),_0x590be9[_0x151782(0x165)](_0x8f18b1[_0x151782(0x15d)]),_0x590be9[_0x151782(0x107)](_0x8f18b1[_0x151782(0xdd)]),_0x2ca903[_0x151782(0x177)](_0x590be9),new Promise((_0x732889,_0x4db3c3)=>{const _0x24c827=_0x151782;this[_0x24c827(0x15b)]['testFrameworkEvent'](_0x2ca903,(_0x40cc7c,_0x404739)=>{const _0x585972=_0x24c827;if(_0x40cc7c){this[_0x585972(0x11b)][_0x585972(0x13c)](_0x585972(0x111)+_0x40cc7c[_0x585972(0xfa)]),_0x22ae29[_0x585972(0x1a1)](_0x4db3c3,_0x40cc7c);return;}this[_0x585972(0x11b)][_0x585972(0x174)](_0x22ae29['SWqdA']),_0x22ae29['ZedVc'](_0x732889,_0x404739);});});}catch(_0x5d993b){this['logger'][_0x151782(0x13c)](_0x151782(0x129)+util[_0x151782(0x181)](_0x5d993b));throw _0x5d993b;}}async[a64_0x8f1ea1(0xf5)](_0x3f6243){const _0xc9b0d2=a64_0x8f1ea1,_0x1be5a9={'jagex':function(_0x43ecbe,_0x4b08e1){return _0x43ecbe(_0x4b08e1);},'BMDeb':_0xc9b0d2(0x123),'JGPgo':function(_0x365c0d,_0x268ae7){return _0x365c0d(_0x268ae7);},'vPUCP':_0xc9b0d2(0x10a),'VvKiw':_0xc9b0d2(0xe1)};this[_0xc9b0d2(0x11b)]['info'](_0x1be5a9[_0xc9b0d2(0x12e)]);try{!this[_0xc9b0d2(0x15b)]&&this[_0xc9b0d2(0x11b)]['info'](_0x1be5a9['VvKiw']);const {platformIndex:_0xf7c724,ref:_0x1a8cee,userInputParams:_0x5a91b5}=_0x3f6243,_0x480261=new messages[(_0xc9b0d2(0xec))]();return _0x480261[_0xc9b0d2(0x141)](this[_0xc9b0d2(0x103)]),_0x480261[_0xc9b0d2(0x18b)](_0xf7c724),_0x480261[_0xc9b0d2(0x187)](_0x1a8cee),_0x480261[_0xc9b0d2(0x137)](_0x5a91b5),new Promise((_0x582a5c,_0xfd20f8)=>{const _0x49a110=_0xc9b0d2;this[_0x49a110(0x15b)]['driverInit'](_0x480261,(_0x4ae914,_0x3007be)=>{const _0x33fa36=_0x49a110;if(_0x4ae914){this[_0x33fa36(0x11b)][_0x33fa36(0x13c)](_0x33fa36(0x12c)+_0x4ae914['message']),_0x1be5a9[_0x33fa36(0x170)](_0xfd20f8,_0x4ae914);return;}this['logger'][_0x33fa36(0x174)](_0x1be5a9[_0x33fa36(0x142)]),_0x1be5a9[_0x33fa36(0x138)](_0x582a5c,_0x3007be);});});}catch(_0x554d91){this['logger'][_0xc9b0d2(0x13c)](_0xc9b0d2(0x190)+util[_0xc9b0d2(0x181)](_0x554d91));throw _0x554d91;}}async[a64_0x8f1ea1(0x14e)](_0x4991d0){const _0x559e1a=a64_0x8f1ea1,_0x46418f={'YowQo':function(_0x4d8865,_0x24c483){return _0x4d8865===_0x24c483;},'ZlyAh':function(_0x4436e4,_0x20c7f6){return _0x4436e4(_0x20c7f6);},'HuHwb':_0x559e1a(0x119),'ocabx':_0x559e1a(0x10c),'HBtjg':_0x559e1a(0xe1)};this[_0x559e1a(0x11b)][_0x559e1a(0x174)](_0x46418f[_0x559e1a(0x192)]);try{!this[_0x559e1a(0x15b)]&&this[_0x559e1a(0x11b)][_0x559e1a(0x174)](_0x46418f[_0x559e1a(0x1af)]);const {platformIndex:_0x315dba,logs:_0x351470}=_0x4991d0,_0x48bd2c=new messages['LogCreatedEventRequest']();_0x48bd2c[_0x559e1a(0x141)](this[_0x559e1a(0x103)]),_0x48bd2c[_0x559e1a(0x18b)](_0x315dba);const _0x5ace62=_0x4991d0['testFrameworkName'],_0x28bd91=_0x4991d0[_0x559e1a(0x18e)],_0x1aa612=_0x4991d0[_0x559e1a(0xe7)];return _0x351470[_0x559e1a(0x157)](_0x1dbd4d=>{const _0x3148de=_0x559e1a,_0x2de4b1=new messages['LogCreatedEventRequest']['LogEntry']();_0x2de4b1[_0x3148de(0x17a)](_0x5ace62),_0x2de4b1[_0x3148de(0x186)](_0x28bd91),_0x2de4b1[_0x3148de(0x184)](_0x1aa612),_0x2de4b1['setTimestamp'](_0x1dbd4d[_0x3148de(0xf6)]),_0x2de4b1[_0x3148de(0x115)](_0x1dbd4d[_0x3148de(0x153)]),_0x2de4b1[_0x3148de(0x134)](_0x1dbd4d['kind']),_0x46418f['YowQo'](_0x1dbd4d['attachment_type'],PLAYWRIGHT_TRACE_LOGS)?(_0x2de4b1['setUuid'](_0x1dbd4d[_0x3148de(0x16e)]),_0x2de4b1[_0x3148de(0x15a)](new TextEncoder()[_0x3148de(0x10f)](JSON[_0x3148de(0x156)](_0x1dbd4d)))):_0x2de4b1[_0x3148de(0x15a)](new TextEncoder()[_0x3148de(0x10f)](_0x1dbd4d['message'])),_0x2de4b1['setLevel'](_0x1dbd4d[_0x3148de(0x106)]),_0x2de4b1[_0x3148de(0x133)](_0x1dbd4d?.[_0x3148de(0x17c)]||''),_0x2de4b1[_0x3148de(0x151)](_0x1dbd4d?.['filePath']||''),_0x2de4b1[_0x3148de(0x18f)](_0x1dbd4d?.['fileSize']||0x0),_0x2de4b1[_0x3148de(0x12d)](_0x1dbd4d?.[_0x3148de(0x18c)]||''),_0x48bd2c['addLogs'](_0x2de4b1);}),new Promise((_0x384eef,_0x4aba15)=>{const _0x5e1cd4=_0x559e1a,_0x352aff={'mHrlK':function(_0x166140,_0xd75185){const _0x3da86f=a64_0x4149;return _0x46418f[_0x3da86f(0x161)](_0x166140,_0xd75185);},'Pyvin':_0x46418f[_0x5e1cd4(0x17b)]};this[_0x5e1cd4(0x15b)][_0x5e1cd4(0x14e)](_0x48bd2c,(_0x322c92,_0x5f547b)=>{const _0xd6112d=_0x5e1cd4;if(_0x322c92){this[_0xd6112d(0x11b)][_0xd6112d(0x13c)]('LogCreatedEvent\x20error:\x20'+_0x322c92[_0xd6112d(0xfa)]),_0x352aff[_0xd6112d(0x144)](_0x4aba15,_0x322c92);return;}this['logger'][_0xd6112d(0x174)](_0x352aff[_0xd6112d(0x197)]),_0x352aff[_0xd6112d(0x144)](_0x384eef,_0x5f547b);});});}catch(_0x294979){this[_0x559e1a(0x11b)][_0x559e1a(0x13c)](_0x559e1a(0x19b)+util[_0x559e1a(0x181)](_0x294979));throw _0x294979;}}['getClient'](){const _0xcbcb45=a64_0x8f1ea1;return this[_0xcbcb45(0x15b)];}['getChannel'](){const _0x238983=a64_0x8f1ea1;return this[_0x238983(0x12a)];}}module[a64_0x8f1ea1(0x175)]=GrpcClient;