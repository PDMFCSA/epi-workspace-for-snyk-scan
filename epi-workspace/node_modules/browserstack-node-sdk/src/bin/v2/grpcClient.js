const a64_0x537c3f=a64_0x3e2d;function a64_0x3e2d(_0x3860f5,_0x4d3de0){const _0x29d181=a64_0x29d1();return a64_0x3e2d=function(_0x3e2d36,_0x42b5f2){_0x3e2d36=_0x3e2d36-0x8e;let _0x4008c5=_0x29d181[_0x3e2d36];return _0x4008c5;},a64_0x3e2d(_0x3860f5,_0x4d3de0);}(function(_0x3096cb,_0x562f45){const _0x6cc32c=a64_0x3e2d,_0x4619c7=_0x3096cb();while(!![]){try{const _0x1bc568=parseInt(_0x6cc32c(0x132))/0x1*(parseInt(_0x6cc32c(0x142))/0x2)+-parseInt(_0x6cc32c(0xb2))/0x3+parseInt(_0x6cc32c(0xe0))/0x4+-parseInt(_0x6cc32c(0xb1))/0x5+parseInt(_0x6cc32c(0x9a))/0x6+-parseInt(_0x6cc32c(0x124))/0x7+-parseInt(_0x6cc32c(0x94))/0x8*(-parseInt(_0x6cc32c(0x145))/0x9);if(_0x1bc568===_0x562f45)break;else _0x4619c7['push'](_0x4619c7['shift']());}catch(_0x6961c7){_0x4619c7['push'](_0x4619c7['shift']());}}}(a64_0x29d1,0xb2fbd));function a64_0x29d1(){const _0x10fa39=['LogCreatedEvent\x20request\x20successful','addFrameworks','StartBinSession\x20error:\x20','SDKClient','893LKHxJQ','stopBinSession','credentials','KUGhA','Sending\x20TestSessionEvent','setFrameworksList','IksKA','hubUrl','setThreadId','setUserInputParams','setFrameworkSessionId','StopBinSessionRequest','ExecutionContext','PsvoZ','fZmbQ','TestFrameworkEvent\x20error:\x20','1106hCtvRc','setMessage','getPlaywrightConfig','9vMMruO','frameworkName','client','fileSize','startBinSession','testFrameworkState','processId','end','kind','setSdkVersion','KEBnc','level','TestSessionEvent\x20request\x20successful','setTestHookState','info','forEach','../../../generated/sdk_grpc_pb','../utils/constants','setFrameworkVersion','setPathProject','xlISF','mZbBo','../../helpers/classLogger.js','utf-8','qbBPp','test_run_uuid','user_killed','binSessionId','BROWSERSTACK_CLI_BIN_SESSION_ID','BtUEH','setHash','ZJPut','RuKFD','launchcaps','ipFbY','18616408zzQIhg','setExitReason','RySdE','KmnNG','setStartedAt','listenAddress','6321450aDxSjf','uqbJg','encode','StopBinSession\x20error:\x20','Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20','createInsecure','winstonLogger','vmntH','eOIOb','gmNWc','setUuid','resolve','channel','NzCBx','../../helpers/performance/constants','ejvEc','setTestFrameworkVersion','from','tRscx','stringify','filePath','OOTpV','setPathConfig','6363225opKPpy','1653651EMpWzc','addAutomationSessions','setCliArgsList','init','../../helpers/performance/performance-tester.js','Stopping\x20signal\x20','setTestUuid','debug','testSessionEvent','setProcessId','TestFrameworkEventRequest','PlaywrightConfig\x20request\x20successful','cdhTA','slice','setTestFrameworkName','setBinSessionId','Error\x20in\x20DriverInit:\x20','connect','setAttachmentType','LogCreatedEventRequest','UbpSW','timestamp','Error\x20in\x20LogCreatedEvent:\x20','Stopping\x20bin\x20session','tbpOq','set','AutomationSession','dSaFh','uuid','LogCreatedEvent\x20error:\x20','setTimestamp','DriverInit\x20request\x20successful','TestFrameworkEvent\x20request\x20successful','PlaywrightConfigRequest','vvUur','format','setLanguage','No\x20gRPC\x20client\x20not\x20initialized.','Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address','GrpcClient','setPlatformIndex','setExitSignal','setExecutionContext','Getting\x20Playwright\x20config','setTestFrameworkState','../../../generated/sdk-messages_pb','31336HfvCot','QIBHg','argv','setProvider','version','LogEntry','Error\x20in\x20getPlaywrightConfig:\x20','name','Connected\x20to\x20gRPC\x20server\x20at\x20','ConnectBinSession\x20successful','Error\x20in\x20TestFrameworkEvent:\x20','TestSessionEventRequest','connect-bin-session\x20response:\x20','start','setFrameworkName','env','logCreatedEvent','addLogs','error','xHLvx','setTestFramework','Error\x20in\x20getAccessibilityConfig:\x20','getInstance','path','getAutomationFrameworkDetail','logger','iqIbc','setCapabilities','../../helpers/logger.js','Getting\x20Accessibility\x20config','ConnectBinSessionRequest','setRef','nWLFX','Missing\x20binSessionId','StartBinSessionRequest','SDK_CONNECT_BIN_SESSION','setKind','Enyyr','dQhQR','hash','\x20and\x20listen\x20address:\x20','TestSessionEvent\x20error:\x20','VvpHs','getAccessibilityConfig','TUafh','provider','SDK_AUTOMATION_FRAMEWORK_INIT','testFrameworkName','browserstack.yml','SDK_CLI_ON_STOP','setConfig','Sending\x20LogCreatedEvent','setFilePath','threadId','getEnvVarsMap','ConnectBinSession\x20error:\x20','\x20listenAddr:\x20','Connecting\x20bin\x20session','Channel','setEventJson','HKyIL','frameworkVersion','YpdFO','setFileSize','DriverInit\x20error:\x20','bQAwq','Sending\x20TestFrameworkEvent','YKsKf','9277170ySAKZS','aeLLx','attachment_type','SDK_START_BIN_SESSION','connectBinSession','setFileName','exports','StartBinSession\x20successful','fileName','message'];a64_0x29d1=function(){return _0x10fa39;};return a64_0x29d1();}const util=require('util'),logger=require(a64_0x537c3f(0xfc))[a64_0x537c3f(0xa0)],grpc=require('@grpc/grpc-js'),services=require(a64_0x537c3f(0x155)),messages=require(a64_0x537c3f(0xdf)),path=require(a64_0x537c3f(0xf7)),CLIUtils=require('./cliUtils.js'),{createClassLogger}=require(a64_0x537c3f(0x15b)),PerformanceTester=require(a64_0x537c3f(0xb6)),{EVENTS:PerformanceEvents}=require(a64_0x537c3f(0xa8)),{PLAYWRIGHT_TRACE_LOGS}=require(a64_0x537c3f(0x156));class GrpcClient{static #instance=null;[a64_0x537c3f(0x160)]=null;[a64_0x537c3f(0x99)]=null;[a64_0x537c3f(0xa6)]=null;[a64_0x537c3f(0x147)]=null;[a64_0x537c3f(0xf9)]=createClassLogger(a64_0x537c3f(0xd9));constructor(){}static[a64_0x537c3f(0xf6)](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}[a64_0x537c3f(0xb5)](_0x440d83){const _0x33fbed=a64_0x537c3f,_0x26d551={};_0x26d551[_0x33fbed(0xa3)]=function(_0xe6b5dd,_0x3c1a07){return _0xe6b5dd||_0x3c1a07;};const _0x16b152=_0x26d551,{id:_0x1fe4a3,listen:_0x2fcd3a}=_0x440d83;if(_0x16b152[_0x33fbed(0xa3)](!_0x1fe4a3,!_0x2fcd3a))throw new Error(_0x33fbed(0x9e)+_0x1fe4a3+_0x33fbed(0x118)+_0x2fcd3a);this['binSessionId']=_0x1fe4a3,this[_0x33fbed(0x99)]=_0x2fcd3a,process['env'][_0x33fbed(0x161)]=this[_0x33fbed(0x160)],process[_0x33fbed(0xef)]['BROWSERSTACK_CLI_BIN_LISTEN_ADDR']=this[_0x33fbed(0x99)],this[_0x33fbed(0xc3)](),this[_0x33fbed(0xf9)][_0x33fbed(0x153)]('Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20'+this[_0x33fbed(0x160)]+_0x33fbed(0x108)+this[_0x33fbed(0x99)]);}['connect'](){const _0x524e9d=a64_0x537c3f,_0x23206e={};_0x23206e['AMYxd']=_0x524e9d(0xd8);const _0x5f0524=_0x23206e;let _0x114bad=this['listenAddress'];!_0x114bad&&(_0x114bad=process['env']['BROWSERSTACK_CLI_BIN_LISTEN_ADDR']);!this[_0x524e9d(0x160)]&&(this[_0x524e9d(0x160)]=this[_0x524e9d(0x160)]||process['env'][_0x524e9d(0x161)]);if(!_0x114bad)throw new Error(_0x5f0524['AMYxd']);const _0x21ad03={};_0x21ad03['grpc.keepalive_time_ms']=0x2710,this[_0x524e9d(0xa6)]=new grpc[(_0x524e9d(0x11a))](_0x114bad,grpc['credentials'][_0x524e9d(0x9f)](),_0x21ad03),this[_0x524e9d(0x147)]=new services[(_0x524e9d(0x131))](_0x114bad,grpc[_0x524e9d(0x134)]['createInsecure']()),this[_0x524e9d(0xf9)][_0x524e9d(0x153)](_0x524e9d(0xe8)+_0x114bad);}async[a64_0x537c3f(0x149)](){const _0x3c3678=a64_0x537c3f,_0x9b3dd6={'HEgak':function(_0x3f1478,_0x2d0007){return _0x3f1478!==_0x2d0007;},'dQhQR':function(_0x274aac,_0x296f54){return _0x274aac!==_0x296f54;},'IksKA':function(_0x5db5d0,_0x21227c){return _0x5db5d0(_0x21227c);},'iSmul':_0x3c3678(0x12b),'YKsKf':'startBinSession:\x20Calling\x20startBinSession','ipFbY':_0x3c3678(0xd7),'aeLLx':_0x3c3678(0x110),'GrHVJ':function(_0xff2ec0,_0x27f5a4){return _0xff2ec0||_0x27f5a4;}};PerformanceTester[_0x3c3678(0xed)](PerformanceEvents['SDK_START_BIN_SESSION']),this[_0x3c3678(0xf9)]['info'](_0x9b3dd6[_0x3c3678(0x123)]);try{!this['client']&&this['logger'][_0x3c3678(0x153)](_0x9b3dd6[_0x3c3678(0x93)]);const _0x165d4f=CLIUtils['getSdkVersion'](),_0x451606=CLIUtils[_0x3c3678(0xf8)](),_0x56d02d=_0x451606[_0x3c3678(0xe7)],_0x5a3cc7=_0x451606['version'],_0x2ac5ef=new messages[(_0x3c3678(0x102))]();_0x2ac5ef['setBinSessionId'](this[_0x3c3678(0x160)]),_0x2ac5ef['setSdkLanguage'](CLIUtils['getSdkLanguage']()),_0x2ac5ef[_0x3c3678(0x14e)](_0x165d4f),_0x2ac5ef[_0x3c3678(0x158)](process['cwd']()),_0x2ac5ef[_0x3c3678(0xb0)](path[_0x3c3678(0xa5)](process['cwd'](),_0x9b3dd6[_0x3c3678(0x125)]));const _0x46975c=_0x2ac5ef[_0x3c3678(0x116)]();Object['entries'](process[_0x3c3678(0xef)])[_0x3c3678(0x154)](([_0x4f48e2,_0xfc0e9f])=>{const _0x4ef84c=_0x3c3678;_0x9b3dd6['HEgak'](_0xfc0e9f,undefined)&&_0x9b3dd6[_0x4ef84c(0x106)](_0xfc0e9f,null)&&_0x46975c[_0x4ef84c(0xcb)](_0x4f48e2,_0xfc0e9f);}),_0x2ac5ef[_0x3c3678(0xb4)](process[_0x3c3678(0xe2)][_0x3c3678(0xbf)](0x2)),_0x2ac5ef[_0x3c3678(0xd6)](CLIUtils['getSdkLanguage']()),_0x2ac5ef[_0x3c3678(0xf4)](_0x56d02d);const _0x1785d2=_0x2ac5ef['getFrameworkVersionsMap']();return _0x1785d2[_0x3c3678(0xcb)](_0x56d02d,_0x9b3dd6['GrHVJ'](_0x5a3cc7,'')),_0x2ac5ef[_0x3c3678(0x12f)](_0x56d02d,_0x5a3cc7),_0x2ac5ef[_0x3c3678(0x137)]([_0x56d02d]),new Promise((_0x539019,_0x577e88)=>{const _0x3e487e=_0x3c3678,_0x36731c={'xHLvx':function(_0x152c86,_0x32e8f9){const _0x30d9de=a64_0x3e2d;return _0x9b3dd6[_0x30d9de(0x138)](_0x152c86,_0x32e8f9);},'kowmU':_0x9b3dd6['iSmul']};this[_0x3e487e(0x147)]['startBinSession'](_0x2ac5ef,(_0x45b21b,_0xd0c318)=>{const _0x21e61f=_0x3e487e;if(_0x45b21b){this[_0x21e61f(0xf9)]['error'](_0x21e61f(0x130)+_0x45b21b[_0x21e61f(0x12d)]),_0x36731c['xHLvx'](_0x577e88,_0x45b21b),PerformanceTester[_0x21e61f(0x14c)](PerformanceEvents[_0x21e61f(0x127)],![],util[_0x21e61f(0xd5)](_0x45b21b));return;}this['logger'][_0x21e61f(0x153)](_0x36731c['kowmU']),PerformanceTester[_0x21e61f(0x14c)](PerformanceEvents[_0x21e61f(0x127)]),_0x36731c[_0x21e61f(0xf3)](_0x539019,_0xd0c318);});});}catch(_0x422034){this[_0x3c3678(0xf9)][_0x3c3678(0xf2)]('Error\x20in\x20startBinSession:\x20'+util[_0x3c3678(0xd5)](_0x422034)),PerformanceTester[_0x3c3678(0x14c)](PerformanceEvents['SDK_START_BIN_SESSION'],![],util[_0x3c3678(0xd5)](_0x422034));throw _0x422034;}}async[a64_0x537c3f(0x128)](){const _0x5ef024=a64_0x537c3f,_0x6dd6d7={'jbELa':function(_0x4e084a,_0x27db2c){return _0x4e084a(_0x27db2c);},'RuKFD':_0x5ef024(0xe9),'KmnNG':_0x5ef024(0x119),'YpdFO':_0x5ef024(0xd7)};PerformanceTester[_0x5ef024(0xed)](PerformanceEvents[_0x5ef024(0x103)]),this['logger'][_0x5ef024(0x153)](_0x6dd6d7[_0x5ef024(0x97)]);try{!this[_0x5ef024(0x147)]&&this[_0x5ef024(0xf9)][_0x5ef024(0x153)](_0x6dd6d7[_0x5ef024(0x11e)]);const _0x409780=new messages[(_0x5ef024(0xfe))]();_0x409780[_0x5ef024(0xc1)](this[_0x5ef024(0x160)]);const _0x58633d=await new Promise((_0x183e89,_0x2187a4)=>{const _0x1e7d3a=_0x5ef024,_0x79523f={'bQAwq':function(_0x157e63,_0x389e56){return _0x6dd6d7['jbELa'](_0x157e63,_0x389e56);},'iqIbc':_0x6dd6d7[_0x1e7d3a(0x91)]};this['client'][_0x1e7d3a(0x128)](_0x409780,(_0x576730,_0x4d9915)=>{const _0x44ad1b=_0x1e7d3a;if(_0x576730){this[_0x44ad1b(0xf9)][_0x44ad1b(0xf2)](_0x44ad1b(0x117)+_0x576730[_0x44ad1b(0x12d)]),_0x79523f[_0x44ad1b(0x121)](_0x2187a4,_0x576730),PerformanceTester[_0x44ad1b(0x14c)](PerformanceEvents['SDK_CONNECT_BIN_SESSION'],![],util[_0x44ad1b(0xd5)](_0x576730));return;}this['logger']['info'](_0x79523f[_0x44ad1b(0xfa)]),PerformanceTester[_0x44ad1b(0x14c)](PerformanceEvents[_0x44ad1b(0x103)]),_0x79523f[_0x44ad1b(0x121)](_0x183e89,_0x4d9915);});});return this[_0x5ef024(0xf9)][_0x5ef024(0xb9)](_0x5ef024(0xec)+util[_0x5ef024(0xd5)](_0x58633d)),_0x58633d;}catch(_0x11c01c){PerformanceTester[_0x5ef024(0x14c)](PerformanceEvents['SDK_CONNECT_BIN_SESSION'],![],util['format'](_0x11c01c)),this[_0x5ef024(0xf9)][_0x5ef024(0xf2)]('Error\x20in\x20connectBinSession:\x20'+util['format'](_0x11c01c));throw _0x11c01c;}}async[a64_0x537c3f(0x133)](_0x300244={},_0x313f72=null){const _0x32a22a=a64_0x537c3f,_0x1067c1={'KUGhA':function(_0xd5eb23,_0x473aa3){return _0xd5eb23(_0x473aa3);},'mZbBo':'StopBinSession\x20successful','xlISF':_0x32a22a(0xc9),'TUafh':_0x32a22a(0x101),'ejvEc':_0x32a22a(0xd7),'VvpHs':_0x32a22a(0x15f)};PerformanceTester[_0x32a22a(0xed)](PerformanceEvents['SDK_CLI_ON_STOP']),this[_0x32a22a(0xf9)]['info'](_0x1067c1[_0x32a22a(0x159)]);try{if(!this[_0x32a22a(0x160)])throw new Error(_0x1067c1[_0x32a22a(0x10c)]);!this[_0x32a22a(0x147)]&&this['logger'][_0x32a22a(0x153)](_0x1067c1[_0x32a22a(0xa9)]);const _0x166760=new messages[(_0x32a22a(0x13d))]();this[_0x32a22a(0xf9)][_0x32a22a(0xb9)](_0x32a22a(0xb7)+JSON[_0x32a22a(0xad)](_0x313f72)),_0x166760[_0x32a22a(0xc1)](this['binSessionId']),_0x166760['setCustomMetadata'](_0x300244),_0x166760[_0x32a22a(0xdb)](_0x313f72?_0x313f72:null),_0x166760[_0x32a22a(0x95)](_0x313f72?_0x1067c1[_0x32a22a(0x10a)]:null),_0x166760['setExitCode'](_0x313f72?0x1:0x0);const _0x503307=await new Promise((_0x3c2bcf,_0x365a23)=>{const _0x223a9a=_0x32a22a;this[_0x223a9a(0x147)][_0x223a9a(0x133)](_0x166760,(_0x26be3b,_0x3196fc)=>{const _0x2bd4da=_0x223a9a;if(_0x26be3b){this[_0x2bd4da(0xf9)][_0x2bd4da(0xf2)](_0x2bd4da(0x9d)+_0x26be3b[_0x2bd4da(0x12d)]),_0x1067c1[_0x2bd4da(0x135)](_0x365a23,_0x26be3b),PerformanceTester[_0x2bd4da(0x14c)](PerformanceEvents['SDK_CLI_ON_STOP'],![],util[_0x2bd4da(0xd5)](_0x26be3b));return;}this[_0x2bd4da(0xf9)]['info'](_0x1067c1[_0x2bd4da(0x15a)]),PerformanceTester['end'](PerformanceEvents[_0x2bd4da(0x111)]),_0x1067c1[_0x2bd4da(0x135)](_0x3c2bcf,_0x3196fc);});});return this[_0x32a22a(0xf9)]['debug']('stop-bin-session\x20response:\x20'+util['format'](_0x503307)),_0x503307;}catch(_0x5c9858){PerformanceTester[_0x32a22a(0x14c)](PerformanceEvents['SDK_CLI_ON_STOP'],![],util[_0x32a22a(0xd5)](_0x5c9858)),this[_0x32a22a(0xf9)][_0x32a22a(0xf2)]('Error\x20in\x20stopBinSession:\x20'+util[_0x32a22a(0xd5)](_0x5c9858));}}async[a64_0x537c3f(0x144)](_0x889cca){const _0x41fce4=a64_0x537c3f,_0x593399={'vvUur':function(_0x1e264a,_0x1e9ef3){return _0x1e264a(_0x1e9ef3);},'UbpSW':_0x41fce4(0xbd),'NzCBx':_0x41fce4(0xdd),'tbpOq':_0x41fce4(0xd7)};PerformanceTester[_0x41fce4(0xed)](PerformanceEvents[_0x41fce4(0x10e)]),this[_0x41fce4(0xf9)][_0x41fce4(0x153)](_0x593399[_0x41fce4(0xa7)]);try{!this[_0x41fce4(0x147)]&&this[_0x41fce4(0xf9)]['info'](_0x593399[_0x41fce4(0xca)]);const _0x3cd0fb=new messages[(_0x41fce4(0xd3))]();return _0x3cd0fb[_0x41fce4(0xc1)](this[_0x41fce4(0x160)]),_0x3cd0fb[_0x41fce4(0x112)](JSON['stringify'](_0x889cca)),new Promise((_0x3d0d82,_0x3372fd)=>{const _0x5ddec8=_0x41fce4,_0x48add5={'PsvoZ':function(_0x5efd65,_0x3b1a35){const _0x525d03=a64_0x3e2d;return _0x593399[_0x525d03(0xd4)](_0x5efd65,_0x3b1a35);},'BtUEH':_0x593399[_0x5ddec8(0xc6)]};this[_0x5ddec8(0x147)]['playwrightConfig'](_0x3cd0fb,(_0x54eada,_0x278119)=>{const _0x13d961=_0x5ddec8;if(_0x54eada){this[_0x13d961(0xf9)][_0x13d961(0xf2)]('PlaywrightConfig\x20error:\x20'+_0x54eada['message']),_0x48add5[_0x13d961(0x13f)](_0x3372fd,_0x54eada),PerformanceTester[_0x13d961(0x14c)](PerformanceEvents[_0x13d961(0x10e)],![],util[_0x13d961(0xd5)](_0x54eada));return;}this[_0x13d961(0xf9)][_0x13d961(0x153)](_0x48add5[_0x13d961(0x8e)]),PerformanceTester[_0x13d961(0x14c)](PerformanceEvents[_0x13d961(0x10e)]),_0x48add5['PsvoZ'](_0x3d0d82,_0x278119);});});}catch(_0x1bf139){PerformanceTester[_0x41fce4(0x14c)](PerformanceEvents[_0x41fce4(0x10e)],![],util[_0x41fce4(0xd5)](_0x1bf139)),this[_0x41fce4(0xf9)][_0x41fce4(0xf2)](_0x41fce4(0xe6)+util['format'](_0x1bf139));throw _0x1bf139;}}async[a64_0x537c3f(0x10b)](_0x1da6d1){const _0x4e38b4=a64_0x537c3f,_0x5ebbf0={'OOTpV':function(_0x5359ea,_0x2b306d){return _0x5359ea(_0x2b306d);},'Enyyr':'AccessibilityConfig\x20request\x20successful','KEBnc':_0x4e38b4(0xfd),'azFGb':_0x4e38b4(0x15c)};this['logger'][_0x4e38b4(0x153)](_0x5ebbf0[_0x4e38b4(0x14f)]);try{const _0x5b4d96=Buffer[_0x4e38b4(0xab)](JSON[_0x4e38b4(0xad)](_0x1da6d1[_0x4e38b4(0x92)]),_0x5ebbf0['azFGb']),_0x2060d4=new messages['AccessibilityConfigRequest'](),_0x344c21=CLIUtils[_0x4e38b4(0xf8)](),_0x475b1e=_0x344c21[_0x4e38b4(0xe7)],_0x1d7dd1=_0x344c21[_0x4e38b4(0xe4)];return _0x2060d4[_0x4e38b4(0xc1)](this[_0x4e38b4(0x160)]),_0x2060d4[_0x4e38b4(0xda)](0x0),_0x2060d4[_0x4e38b4(0xee)](_0x475b1e),_0x2060d4[_0x4e38b4(0x157)](_0x1d7dd1),_0x2060d4['setHubUrl'](_0x1da6d1[_0x4e38b4(0x139)]),_0x2060d4[_0x4e38b4(0xfb)](_0x5b4d96),new Promise((_0x13c12c,_0x50ad95)=>{const _0x3e69f4=_0x4e38b4;this[_0x3e69f4(0x147)]['accessibilityConfig'](_0x2060d4,(_0x37c123,_0x3ce317)=>{const _0xd02d9a=_0x3e69f4;if(_0x37c123){this[_0xd02d9a(0xf9)][_0xd02d9a(0xf2)]('AccessibilityConfig\x20error:\x20'+_0x37c123[_0xd02d9a(0x12d)]),_0x5ebbf0[_0xd02d9a(0xaf)](_0x50ad95,_0x37c123);return;}this[_0xd02d9a(0xf9)]['info'](_0x5ebbf0[_0xd02d9a(0x105)]),_0x5ebbf0['OOTpV'](_0x13c12c,_0x3ce317);});});}catch(_0x4665a8){this['logger'][_0x4e38b4(0xf2)](_0x4e38b4(0xf5)+util[_0x4e38b4(0xd5)](_0x4665a8));}}async['testSessionEvent'](_0x4d88b3){const _0x408849=a64_0x537c3f,_0xff815b={'nHDQl':function(_0x169a58,_0x3d39d7){return _0x169a58(_0x3d39d7);},'DIdlA':_0x408849(0x151),'xHNJL':_0x408849(0x136),'QIBHg':_0x408849(0xd7)};this[_0x408849(0xf9)]['info'](_0xff815b['xHNJL']);try{!this[_0x408849(0x147)]&&this[_0x408849(0xf9)][_0x408849(0x153)](_0xff815b[_0x408849(0xe1)]);const {platformIndex:_0x3192a9,testFrameworkName:_0x5d00ab,testFrameworkVersion:_0x4fe168,testFrameworkState:_0x21e2f2,testHookState:_0x60a163,testUuid:_0x2afac7,automationSession:_0x373ad8,capabilities:_0x562e18,executionContext:_0x5ce220}=_0x4d88b3,_0x405ec3=new messages['TestSessionEventRequest']();_0x405ec3[_0x408849(0xc1)](this[_0x408849(0x160)]),_0x405ec3[_0x408849(0xda)](_0x3192a9),_0x405ec3[_0x408849(0xc0)](_0x5d00ab),_0x405ec3['setTestFrameworkVersion'](_0x4fe168),_0x405ec3[_0x408849(0xde)](_0x21e2f2),_0x405ec3[_0x408849(0x152)](_0x60a163),_0x405ec3[_0x408849(0xb8)](_0x2afac7);const _0x34c759=new messages[(_0x408849(0xeb))][(_0x408849(0xcc))]();_0x34c759[_0x408849(0xe3)](_0x373ad8[_0x408849(0x10d)]),_0x34c759[_0x408849(0xee)](_0x373ad8[_0x408849(0x146)]),_0x34c759[_0x408849(0x157)](_0x373ad8[_0x408849(0x11d)]),_0x34c759[_0x408849(0x13c)](_0x373ad8['frameworkSessionId']),_0x34c759[_0x408849(0xff)](_0x373ad8['ref']),_0x34c759['setHubUrl'](_0x373ad8[_0x408849(0x139)]),_0x405ec3[_0x408849(0xb3)](_0x34c759),_0x405ec3[_0x408849(0xfb)](_0x562e18);const _0x4aff01=new messages[(_0x408849(0x13e))]();return _0x4aff01[_0x408849(0xbb)](_0x5ce220[_0x408849(0x14b)]),_0x4aff01['setThreadId'](_0x5ce220[_0x408849(0x115)]),_0x4aff01[_0x408849(0x8f)](_0x5ce220[_0x408849(0x107)]),_0x405ec3['setExecutionContext'](_0x4aff01),new Promise((_0x350bee,_0x32a65b)=>{const _0x5dcb5d=_0x408849,_0x576bfd={'dSaFh':function(_0x5686d6,_0x2bc724){return _0xff815b['nHDQl'](_0x5686d6,_0x2bc724);},'rtlMf':_0xff815b['DIdlA']};this[_0x5dcb5d(0x147)][_0x5dcb5d(0xba)](_0x405ec3,(_0x396000,_0x2d377b)=>{const _0x2f9b32=_0x5dcb5d;if(_0x396000){this[_0x2f9b32(0xf9)][_0x2f9b32(0xf2)](_0x2f9b32(0x109)+_0x396000[_0x2f9b32(0x12d)]),_0x576bfd[_0x2f9b32(0xcd)](_0x32a65b,_0x396000);return;}this[_0x2f9b32(0xf9)][_0x2f9b32(0x153)](_0x576bfd['rtlMf']),_0x576bfd[_0x2f9b32(0xcd)](_0x350bee,_0x2d377b);});});}catch(_0x327e79){this['logger']['error']('Error\x20in\x20TestSessionEvent:\x20'+util['format'](_0x327e79));throw _0x327e79;}}async['testFrameworkEvent'](_0x23ad01){const _0x5351be=a64_0x537c3f,_0x46d1cc={'uqbJg':function(_0xf5d552,_0x363f52){return _0xf5d552(_0x363f52);},'ZJPut':_0x5351be(0xd2),'WqKLV':function(_0x25fea7,_0x8baf2){return _0x25fea7(_0x8baf2);},'kqRry':_0x5351be(0x122),'RySdE':_0x5351be(0xd7)};this[_0x5351be(0xf9)][_0x5351be(0x153)](_0x46d1cc['kqRry']);try{!this[_0x5351be(0x147)]&&this[_0x5351be(0xf9)][_0x5351be(0x153)](_0x46d1cc[_0x5351be(0x96)]);const {platfromIndex:_0x1e5d0a,testFrameworkName:_0x3aac4b,testFrameworkVersion:_0xc289ec,testFrameworkState:_0x4f8a3d,hookState:_0x1d3148,startedAt:_0x44a8b1,endedAt:_0xacc37d,uuid:_0x7cf2c,eventJson:_0x24e91e,executionContext:_0x597be1}=_0x23ad01,_0x3667c8=new messages[(_0x5351be(0xbc))]();_0x3667c8[_0x5351be(0xc1)](this[_0x5351be(0x160)]),_0x3667c8['setPlatformIndex'](_0x1e5d0a),_0x3667c8[_0x5351be(0xc0)](_0x3aac4b),_0x3667c8[_0x5351be(0xaa)](_0xc289ec),_0x3667c8[_0x5351be(0xde)](_0x4f8a3d),_0x3667c8[_0x5351be(0x152)](_0x1d3148),_0x3667c8[_0x5351be(0x98)](_0x44a8b1),_0x3667c8['setEndedAt'](_0xacc37d),_0x3667c8[_0x5351be(0xa4)](_0x7cf2c),_0x3667c8[_0x5351be(0x11b)](_0x24e91e);const _0x2e1ebf=new messages[(_0x5351be(0x13e))]();return _0x2e1ebf[_0x5351be(0xbb)](_0x597be1[_0x5351be(0x14b)]),_0x2e1ebf[_0x5351be(0x13a)](_0x597be1[_0x5351be(0x115)]),_0x2e1ebf[_0x5351be(0x8f)](_0x597be1[_0x5351be(0x107)]),_0x3667c8[_0x5351be(0xdc)](_0x2e1ebf),new Promise((_0x1b60ad,_0x1a716e)=>{const _0x55fa99=_0x5351be,_0x488cbe={'HKyIL':function(_0x341efa,_0x166c88){const _0x4ca9a3=a64_0x3e2d;return _0x46d1cc[_0x4ca9a3(0x9b)](_0x341efa,_0x166c88);},'qbBPp':_0x46d1cc[_0x55fa99(0x90)],'fZmbQ':function(_0x4e68fe,_0x5b83e2){return _0x46d1cc['WqKLV'](_0x4e68fe,_0x5b83e2);}};this[_0x55fa99(0x147)]['testFrameworkEvent'](_0x3667c8,(_0x464cfe,_0x4c7dc6)=>{const _0x110083=_0x55fa99;if(_0x464cfe){this[_0x110083(0xf9)][_0x110083(0xf2)](_0x110083(0x141)+_0x464cfe[_0x110083(0x12d)]),_0x488cbe[_0x110083(0x11c)](_0x1a716e,_0x464cfe);return;}this[_0x110083(0xf9)]['info'](_0x488cbe[_0x110083(0x15d)]),_0x488cbe[_0x110083(0x140)](_0x1b60ad,_0x4c7dc6);});});}catch(_0x5542ee){this['logger'][_0x5351be(0xf2)](_0x5351be(0xea)+util[_0x5351be(0xd5)](_0x5542ee));throw _0x5542ee;}}async['driverInit'](_0x36d0ba){const _0x482318=a64_0x537c3f,_0x5a78d7={'tRscx':function(_0x584d7d,_0x43efd5){return _0x584d7d(_0x43efd5);},'cdhTA':_0x482318(0xd1),'sraHj':'Sending\x20DriverInit','fybwT':'No\x20gRPC\x20client\x20not\x20initialized.'};this[_0x482318(0xf9)][_0x482318(0x153)](_0x5a78d7['sraHj']);try{!this[_0x482318(0x147)]&&this[_0x482318(0xf9)][_0x482318(0x153)](_0x5a78d7['fybwT']);const {platformIndex:_0x539549,ref:_0x328b67,userInputParams:_0x153803}=_0x36d0ba,_0x5cbd6f=new messages['DriverInitRequest']();return _0x5cbd6f[_0x482318(0xc1)](this[_0x482318(0x160)]),_0x5cbd6f[_0x482318(0xda)](_0x539549),_0x5cbd6f['setRef'](_0x328b67),_0x5cbd6f[_0x482318(0x13b)](_0x153803),new Promise((_0x35bff3,_0x36df9a)=>{const _0x113236=_0x482318;this[_0x113236(0x147)]['driverInit'](_0x5cbd6f,(_0x35c4e1,_0x2b7718)=>{const _0x41c3e5=_0x113236;if(_0x35c4e1){this[_0x41c3e5(0xf9)]['error'](_0x41c3e5(0x120)+_0x35c4e1[_0x41c3e5(0x12d)]),_0x5a78d7[_0x41c3e5(0xac)](_0x36df9a,_0x35c4e1);return;}this['logger'][_0x41c3e5(0x153)](_0x5a78d7[_0x41c3e5(0xbe)]),_0x5a78d7[_0x41c3e5(0xac)](_0x35bff3,_0x2b7718);});});}catch(_0x5f5c08){this[_0x482318(0xf9)][_0x482318(0xf2)](_0x482318(0xc2)+util[_0x482318(0xd5)](_0x5f5c08));throw _0x5f5c08;}}async[a64_0x537c3f(0xf0)](_0x4c232d){const _0x244fff=a64_0x537c3f,_0x3d5950={'eOIOb':function(_0x1ffc48,_0x18eee9){return _0x1ffc48===_0x18eee9;},'rvgFX':function(_0xd1f5f0,_0x353c1b){return _0xd1f5f0(_0x353c1b);},'SKrSr':_0x244fff(0x12e),'AGSBW':function(_0x307ca6,_0x519ead){return _0x307ca6(_0x519ead);},'vmntH':_0x244fff(0x113),'nWLFX':_0x244fff(0xd7)};this['logger'][_0x244fff(0x153)](_0x3d5950[_0x244fff(0xa1)]);try{!this[_0x244fff(0x147)]&&this[_0x244fff(0xf9)]['info'](_0x3d5950[_0x244fff(0x100)]);const {platformIndex:_0x211031,logs:_0xf0db16}=_0x4c232d,_0x38264b=new messages[(_0x244fff(0xc5))]();_0x38264b[_0x244fff(0xc1)](this[_0x244fff(0x160)]),_0x38264b[_0x244fff(0xda)](_0x211031);const _0x5e4f74=_0x4c232d[_0x244fff(0x10f)],_0x5e1974=_0x4c232d['testFrameworkVersion'],_0x21a487=_0x4c232d[_0x244fff(0x14a)];return _0xf0db16['forEach'](_0x307bc7=>{const _0x5ae572=_0x244fff,_0x25db5a=new messages[(_0x5ae572(0xc5))][(_0x5ae572(0xe5))]();_0x25db5a[_0x5ae572(0xc0)](_0x5e4f74),_0x25db5a[_0x5ae572(0xaa)](_0x5e1974),_0x25db5a['setTestFrameworkState'](_0x21a487),_0x25db5a[_0x5ae572(0xd0)](_0x307bc7[_0x5ae572(0xc7)]),_0x25db5a['setUuid'](_0x307bc7[_0x5ae572(0xce)]),_0x25db5a[_0x5ae572(0x104)](_0x307bc7[_0x5ae572(0x14d)]),_0x3d5950[_0x5ae572(0xa2)](_0x307bc7[_0x5ae572(0x126)],PLAYWRIGHT_TRACE_LOGS)?(_0x25db5a[_0x5ae572(0xa4)](_0x307bc7[_0x5ae572(0x15e)]),_0x25db5a[_0x5ae572(0x143)](new TextEncoder()['encode'](JSON['stringify'](_0x307bc7)))):_0x25db5a['setMessage'](new TextEncoder()[_0x5ae572(0x9c)](_0x307bc7['message'])),_0x25db5a['setLevel'](_0x307bc7[_0x5ae572(0x150)]),_0x25db5a[_0x5ae572(0x129)](_0x307bc7?.[_0x5ae572(0x12c)]||''),_0x25db5a[_0x5ae572(0x114)](_0x307bc7?.[_0x5ae572(0xae)]||''),_0x25db5a[_0x5ae572(0x11f)](_0x307bc7?.[_0x5ae572(0x148)]||0x0),_0x25db5a[_0x5ae572(0xc4)](_0x307bc7?.['attachment_type']||''),_0x38264b[_0x5ae572(0xf1)](_0x25db5a);}),new Promise((_0xeab167,_0x44170b)=>{const _0x5df50d=_0x244fff;this[_0x5df50d(0x147)][_0x5df50d(0xf0)](_0x38264b,(_0x38603b,_0x230769)=>{const _0x3d8a77=_0x5df50d;if(_0x38603b){this['logger'][_0x3d8a77(0xf2)](_0x3d8a77(0xcf)+_0x38603b[_0x3d8a77(0x12d)]),_0x3d5950['rvgFX'](_0x44170b,_0x38603b);return;}this['logger']['info'](_0x3d5950['SKrSr']),_0x3d5950['AGSBW'](_0xeab167,_0x230769);});});}catch(_0x2a53d0){this[_0x244fff(0xf9)]['error'](_0x244fff(0xc8)+util['format'](_0x2a53d0));throw _0x2a53d0;}}['getClient'](){return this['client'];}['getChannel'](){const _0xaee505=a64_0x537c3f;return this[_0xaee505(0xa6)];}}module[a64_0x537c3f(0x12a)]=GrpcClient;