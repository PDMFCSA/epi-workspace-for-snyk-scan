const a71_0x56e4c2=a71_0x7c4e;(function(_0xbe4e9b,_0x44f558){const _0x202f0a=a71_0x7c4e,_0x109d5e=_0xbe4e9b();while(!![]){try{const _0x31e873=-parseInt(_0x202f0a(0x257))/0x1*(-parseInt(_0x202f0a(0x212))/0x2)+-parseInt(_0x202f0a(0x2a5))/0x3+-parseInt(_0x202f0a(0x1e4))/0x4+parseInt(_0x202f0a(0x251))/0x5+-parseInt(_0x202f0a(0x277))/0x6*(parseInt(_0x202f0a(0x29c))/0x7)+-parseInt(_0x202f0a(0x258))/0x8+parseInt(_0x202f0a(0x2ad))/0x9;if(_0x31e873===_0x44f558)break;else _0x109d5e['push'](_0x109d5e['shift']());}catch(_0x392863){_0x109d5e['push'](_0x109d5e['shift']());}}}(a71_0x21ae,0x66585));const util=require('util'),logger=require(a71_0x56e4c2(0x270))[a71_0x56e4c2(0x1f1)],grpc=require('@grpc/grpc-js'),services=require(a71_0x56e4c2(0x25d)),messages=require('../../../generated/sdk-messages_pb'),path=require(a71_0x56e4c2(0x1ff)),CLIUtils=require(a71_0x56e4c2(0x1ce)),{createClassLogger}=require('../../helpers/classLogger.js'),PerformanceTester=require(a71_0x56e4c2(0x22f)),{EVENTS:PerformanceEvents}=require(a71_0x56e4c2(0x28c)),{PLAYWRIGHT_TRACE_LOGS}=require(a71_0x56e4c2(0x290)),helper=require(a71_0x56e4c2(0x1dd));class GrpcClient{static #instance=null;['binSessionId']=null;['listenAddress']=null;[a71_0x56e4c2(0x28e)]=null;['client']=null;[a71_0x56e4c2(0x1e1)]=createClassLogger('GrpcClient');constructor(){}static['getInstance'](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}[a71_0x56e4c2(0x1f2)](_0x144f13){const _0x8100e5=a71_0x56e4c2,_0x560d36={};_0x560d36['pbxib']=function(_0x1fab6a,_0x3683e3){return _0x1fab6a||_0x3683e3;};const _0xb157ea=_0x560d36,{id:_0x54caaa,listen:_0x433936}=_0x144f13;if(_0xb157ea[_0x8100e5(0x284)](!_0x54caaa,!_0x433936))throw new Error('Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20'+_0x54caaa+_0x8100e5(0x1d6)+_0x433936);this[_0x8100e5(0x23c)]=_0x54caaa,this[_0x8100e5(0x233)]=_0x433936,process['env']['BROWSERSTACK_CLI_BIN_SESSION_ID']=this['binSessionId'],process['env'][_0x8100e5(0x28f)]=this['listenAddress'],this[_0x8100e5(0x262)](),this[_0x8100e5(0x1e1)]['info'](_0x8100e5(0x21e)+this[_0x8100e5(0x23c)]+_0x8100e5(0x1e9)+this[_0x8100e5(0x233)]);}[a71_0x56e4c2(0x262)](){const _0xfba866=a71_0x56e4c2,_0x1c2e59={};_0x1c2e59['losKb']='Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address';const _0x2f2a12=_0x1c2e59;let _0x2ed2cf=this[_0xfba866(0x233)];!_0x2ed2cf&&(_0x2ed2cf=process['env'][_0xfba866(0x28f)]);!this[_0xfba866(0x23c)]&&(this[_0xfba866(0x23c)]=this[_0xfba866(0x23c)]||process[_0xfba866(0x261)][_0xfba866(0x2af)]);if(!_0x2ed2cf)throw new Error(_0x2f2a12['losKb']);const _0x5d2f55={};_0x5d2f55[_0xfba866(0x231)]=0x2710,this[_0xfba866(0x28e)]=new grpc['Channel'](_0x2ed2cf,grpc['credentials']['createInsecure'](),_0x5d2f55),this[_0xfba866(0x26d)]=new services[(_0xfba866(0x243))](_0x2ed2cf,grpc[_0xfba866(0x226)]['createInsecure']()),this[_0xfba866(0x1e1)][_0xfba866(0x1db)]('Connected\x20to\x20gRPC\x20server\x20at\x20'+_0x2ed2cf);}async['startBinSession'](){const _0x1926e2=a71_0x56e4c2,_0x4b768b={'KVkrf':function(_0x1b1dab,_0x477a94){return _0x1b1dab!==_0x477a94;},'zatzw':function(_0x51f1f9,_0x41be96){return _0x51f1f9(_0x41be96);},'tfCLE':_0x1926e2(0x1f0),'NecsV':function(_0x318493,_0x4f1861){return _0x318493(_0x4f1861);},'TWnOQ':'startBinSession:\x20Calling\x20startBinSession','fegor':_0x1926e2(0x222),'bVqJr':_0x1926e2(0x27b),'UATbb':function(_0x21e024,_0x6b822b){return _0x21e024 instanceof _0x6b822b;},'EkMIl':function(_0x3b37ce,_0x5b4848){return _0x3b37ce===_0x5b4848;},'KgsfA':_0x1926e2(0x278),'yKAym':_0x1926e2(0x1e3),'MdtIg':_0x1926e2(0x291),'sAmZA':function(_0x12f11e,_0x24a26f){return _0x12f11e||_0x24a26f;}};PerformanceTester[_0x1926e2(0x1da)](PerformanceEvents[_0x1926e2(0x24d)]),this[_0x1926e2(0x1e1)][_0x1926e2(0x1db)](_0x4b768b[_0x1926e2(0x2a8)]);try{!this[_0x1926e2(0x26d)]&&this[_0x1926e2(0x1e1)]['info'](_0x4b768b[_0x1926e2(0x23b)]);const _0x92a07c=CLIUtils['getSdkVersion'](),_0x14fa57=CLIUtils[_0x1926e2(0x203)](),_0xb6ea25=_0x14fa57[_0x1926e2(0x1de)],_0x2f8572=_0x14fa57[_0x1926e2(0x26f)],_0x532b37=new messages['StartBinSessionRequest']();_0x532b37[_0x1926e2(0x218)](this['binSessionId']),_0x532b37[_0x1926e2(0x255)](CLIUtils[_0x1926e2(0x2a2)]()),_0x532b37['setSdkVersion'](_0x92a07c),_0x532b37[_0x1926e2(0x1d2)](process['cwd']());const _0x2a3e10=_0x532b37['getEnvVarsMap']();Object['entries'](process[_0x1926e2(0x261)])[_0x1926e2(0x1f7)](([_0x86b15,_0x513706])=>{const _0x401b6b=_0x1926e2;_0x4b768b[_0x401b6b(0x1ee)](_0x513706,undefined)&&_0x4b768b['KVkrf'](_0x513706,null)&&_0x2a3e10[_0x401b6b(0x1d7)](_0x86b15,_0x513706);});const _0x36c77e=_0x4b768b[_0x1926e2(0x227)](require,_0x4b768b[_0x1926e2(0x1cd)]),_0x524b0a=_0x36c77e[_0x1926e2(0x1ec)]()['getBrowserstackCliConfig'](),_0x4abfaa=[];_0x524b0a&&_0x4b768b[_0x1926e2(0x2ae)](_0x524b0a,Map)&&_0x524b0a[_0x1926e2(0x1f7)]((_0x1e0409,_0xcf5761)=>{const _0x2811c4=_0x1926e2;_0x4abfaa[_0x2811c4(0x217)](_0xcf5761+'='+_0x1e0409);});const _0x4f3f2c=process['argv'][_0x1926e2(0x29e)](0x2);_0x532b37[_0x1926e2(0x20f)]([..._0x4f3f2c,..._0x4abfaa]);let _0x4e65ea=null;if(_0x524b0a)for(const [_0x333b0b,_0x406c93]of _0x524b0a){if(_0x4b768b[_0x1926e2(0x1e5)](_0x333b0b,_0x4b768b['KgsfA'])){_0x4e65ea=_0x406c93;break;}}if(_0x4e65ea)_0x532b37['setPathConfig'](_0x4e65ea);else process[_0x1926e2(0x261)][_0x1926e2(0x2a9)]?_0x532b37['setPathConfig'](process[_0x1926e2(0x261)][_0x1926e2(0x2a9)]):_0x532b37[_0x1926e2(0x1e6)](path[_0x1926e2(0x1d8)](process[_0x1926e2(0x29d)](),_0x4b768b[_0x1926e2(0x2aa)]));this[_0x1926e2(0x1e1)]['info']('setCliArgs:\x20cliArgs='+JSON['stringify'](_0x4f3f2c)+_0x1926e2(0x29f)+(_0x524b0a?JSON['stringify']([..._0x524b0a]):_0x4b768b['MdtIg'])),_0x532b37[_0x1926e2(0x1ea)](CLIUtils['getSdkLanguage']()),_0x532b37[_0x1926e2(0x22c)](_0xb6ea25);const _0x852223=_0x532b37['getFrameworkVersionsMap']();return _0x852223[_0x1926e2(0x1d7)](_0xb6ea25,_0x4b768b[_0x1926e2(0x216)](_0x2f8572,'')),_0x532b37[_0x1926e2(0x211)](_0xb6ea25,_0x2f8572),_0x532b37[_0x1926e2(0x269)]([_0xb6ea25]),new Promise((_0x4cc2ae,_0x4b529b)=>{const _0xf57ed2=_0x1926e2;this[_0xf57ed2(0x26d)]['startBinSession'](_0x532b37,(_0xe408f4,_0x3c39bc)=>{const _0x23add5=_0xf57ed2;if(_0xe408f4){this['logger']['error']('StartBinSession\x20error:\x20'+_0xe408f4[_0x23add5(0x266)]),_0x4b768b['zatzw'](_0x4b529b,_0xe408f4),PerformanceTester['end'](PerformanceEvents['SDK_START_BIN_SESSION'],![],util[_0x23add5(0x265)](_0xe408f4));return;}this[_0x23add5(0x1e1)][_0x23add5(0x1db)](_0x4b768b['tfCLE']),PerformanceTester['end'](PerformanceEvents['SDK_START_BIN_SESSION']),_0x4b768b[_0x23add5(0x289)](_0x4cc2ae,_0x3c39bc);});});}catch(_0x1b51bd){this[_0x1926e2(0x1e1)][_0x1926e2(0x286)](_0x1926e2(0x252)+util[_0x1926e2(0x265)](_0x1b51bd)),PerformanceTester[_0x1926e2(0x264)](PerformanceEvents[_0x1926e2(0x24d)],![],util[_0x1926e2(0x265)](_0x1b51bd));throw _0x1b51bd;}}async[a71_0x56e4c2(0x297)](){const _0x15b5f4=a71_0x56e4c2,_0x36ed9d={'LBJUN':function(_0x46ba01,_0x2003e2){return _0x46ba01(_0x2003e2);},'VsSSs':_0x15b5f4(0x25b),'PgSsc':function(_0x327aed,_0x2463a8){return _0x327aed(_0x2463a8);},'dDxiE':_0x15b5f4(0x20c),'oQpdO':_0x15b5f4(0x222)};PerformanceTester[_0x15b5f4(0x1da)](PerformanceEvents[_0x15b5f4(0x293)]),this['logger'][_0x15b5f4(0x1db)](_0x36ed9d['dDxiE']);try{!this['client']&&this['logger'][_0x15b5f4(0x1db)](_0x36ed9d[_0x15b5f4(0x201)]);const _0x27076d=new messages[(_0x15b5f4(0x27e))]();_0x27076d[_0x15b5f4(0x218)](this[_0x15b5f4(0x23c)]);const _0x16801c=await new Promise((_0x61f1b3,_0x504fc5)=>{const _0x1cd9c5=_0x15b5f4;this[_0x1cd9c5(0x26d)][_0x1cd9c5(0x297)](_0x27076d,(_0x55fc15,_0x40acd7)=>{const _0x589c02=_0x1cd9c5;if(_0x55fc15){this[_0x589c02(0x1e1)][_0x589c02(0x286)](_0x589c02(0x24a)+_0x55fc15[_0x589c02(0x266)]),_0x36ed9d[_0x589c02(0x285)](_0x504fc5,_0x55fc15),PerformanceTester[_0x589c02(0x264)](PerformanceEvents[_0x589c02(0x293)],![],util[_0x589c02(0x265)](_0x55fc15));return;}this['logger'][_0x589c02(0x1db)](_0x36ed9d['VsSSs']),PerformanceTester[_0x589c02(0x264)](PerformanceEvents[_0x589c02(0x293)]),_0x36ed9d[_0x589c02(0x207)](_0x61f1b3,_0x40acd7);});});return this[_0x15b5f4(0x1e1)]['debug']('connect-bin-session\x20response:\x20'+util[_0x15b5f4(0x265)](_0x16801c)),_0x16801c;}catch(_0xe2de2d){PerformanceTester['end'](PerformanceEvents[_0x15b5f4(0x293)],![],util[_0x15b5f4(0x265)](_0xe2de2d)),this['logger'][_0x15b5f4(0x286)](_0x15b5f4(0x1e2)+util[_0x15b5f4(0x265)](_0xe2de2d));throw _0xe2de2d;}}async[a71_0x56e4c2(0x205)](_0x23cd8b={},_0x102f0b=null){const _0x2265af=a71_0x56e4c2,_0x1c8b49={'BBEts':function(_0x2d6418,_0x279bef){return _0x2d6418(_0x279bef);},'MljkH':'StopBinSession\x20successful','lQPLh':function(_0x396249,_0x2b8dee){return _0x396249(_0x2b8dee);},'CVQCM':_0x2265af(0x26c),'TRguJ':_0x2265af(0x224),'einwf':'No\x20gRPC\x20client\x20not\x20initialized.','ThTzg':'user_killed'};PerformanceTester[_0x2265af(0x1da)](PerformanceEvents['SDK_CLI_ON_STOP']),this[_0x2265af(0x1e1)][_0x2265af(0x1db)](_0x1c8b49[_0x2265af(0x232)]);try{if(!this[_0x2265af(0x23c)])throw new Error(_0x1c8b49[_0x2265af(0x260)]);!this[_0x2265af(0x26d)]&&this[_0x2265af(0x1e1)][_0x2265af(0x1db)](_0x1c8b49[_0x2265af(0x1eb)]);const _0x523cd2=new messages[(_0x2265af(0x271))]();this[_0x2265af(0x1e1)][_0x2265af(0x22d)](_0x2265af(0x210)+JSON[_0x2265af(0x237)](_0x102f0b)),_0x523cd2[_0x2265af(0x218)](this[_0x2265af(0x23c)]),_0x523cd2[_0x2265af(0x273)](_0x23cd8b),_0x523cd2['setExitSignal'](_0x102f0b?_0x102f0b:null),_0x523cd2[_0x2265af(0x1f4)](_0x102f0b?_0x1c8b49[_0x2265af(0x24f)]:null),_0x523cd2[_0x2265af(0x20a)](_0x102f0b?0x1:0x0);const _0x811bf0=await new Promise((_0x24a3c6,_0x475e05)=>{const _0x59805b=_0x2265af,_0x4bb2ed={'iyWBi':function(_0x11ad70,_0xd58bb5){const _0x1cafbb=a71_0x7c4e;return _0x1c8b49[_0x1cafbb(0x22b)](_0x11ad70,_0xd58bb5);},'UoCaX':_0x1c8b49[_0x59805b(0x1fb)],'Tdpsf':function(_0x4fc0b1,_0x124f98){const _0x240347=_0x59805b;return _0x1c8b49[_0x240347(0x28d)](_0x4fc0b1,_0x124f98);}};this['client'][_0x59805b(0x205)](_0x523cd2,(_0x2d6321,_0x3ae102)=>{const _0x54f562=_0x59805b;if(_0x2d6321){this[_0x54f562(0x1e1)]['error'](_0x54f562(0x23f)+_0x2d6321[_0x54f562(0x266)]),_0x4bb2ed[_0x54f562(0x298)](_0x475e05,_0x2d6321),PerformanceTester[_0x54f562(0x264)](PerformanceEvents[_0x54f562(0x26e)],![],util[_0x54f562(0x265)](_0x2d6321));return;}this[_0x54f562(0x1e1)][_0x54f562(0x1db)](_0x4bb2ed[_0x54f562(0x242)]),PerformanceTester['end'](PerformanceEvents[_0x54f562(0x26e)]),_0x4bb2ed[_0x54f562(0x294)](_0x24a3c6,_0x3ae102);});});return this[_0x2265af(0x1e1)][_0x2265af(0x22d)](_0x2265af(0x238)+util[_0x2265af(0x265)](_0x811bf0)),_0x811bf0;}catch(_0x3c8b27){PerformanceTester[_0x2265af(0x264)](PerformanceEvents['SDK_CLI_ON_STOP'],![],util[_0x2265af(0x265)](_0x3c8b27)),this[_0x2265af(0x1e1)][_0x2265af(0x286)](_0x2265af(0x1df)+util[_0x2265af(0x265)](_0x3c8b27));}}async[a71_0x56e4c2(0x2ab)](_0x5184ac){const _0xc14573=a71_0x56e4c2,_0x216134={'UKDTz':function(_0x4f018b,_0x19623f){return _0x4f018b(_0x19623f);},'ZEQTJ':'PlaywrightConfig\x20request\x20successful','sVmmf':function(_0x4afaa7,_0x398aea){return _0x4afaa7(_0x398aea);},'YqaAe':_0xc14573(0x1d0),'DbCTf':_0xc14573(0x222)};PerformanceTester['start'](PerformanceEvents[_0xc14573(0x2a7)]),this[_0xc14573(0x1e1)]['info'](_0x216134[_0xc14573(0x1d5)]);try{!this[_0xc14573(0x26d)]&&this['logger'][_0xc14573(0x1db)](_0x216134[_0xc14573(0x23a)]);const _0x3746b2=new messages[(_0xc14573(0x28a))]();return _0x3746b2[_0xc14573(0x218)](this[_0xc14573(0x23c)]),_0x3746b2[_0xc14573(0x220)](JSON[_0xc14573(0x237)](_0x5184ac)),new Promise((_0x1837bf,_0x50e07b)=>{const _0x5a8a9c={'bPrVN':function(_0x5f57ca,_0xc1cade){const _0x2f12cf=a71_0x7c4e;return _0x216134[_0x2f12cf(0x225)](_0x5f57ca,_0xc1cade);},'ZTMAK':_0x216134['ZEQTJ'],'HmWZv':function(_0x552160,_0x46876f){const _0x1a46af=a71_0x7c4e;return _0x216134[_0x1a46af(0x209)](_0x552160,_0x46876f);}};this['client']['playwrightConfig'](_0x3746b2,(_0x2f658e,_0x5db79f)=>{const _0x463671=a71_0x7c4e;if(_0x2f658e){this['logger'][_0x463671(0x286)](_0x463671(0x21a)+_0x2f658e[_0x463671(0x266)]),_0x5a8a9c[_0x463671(0x29b)](_0x50e07b,_0x2f658e),PerformanceTester['end'](PerformanceEvents[_0x463671(0x2a7)],![],util['format'](_0x2f658e));return;}this[_0x463671(0x1e1)][_0x463671(0x1db)](_0x5a8a9c[_0x463671(0x279)]),PerformanceTester[_0x463671(0x264)](PerformanceEvents[_0x463671(0x2a7)]),_0x5a8a9c['HmWZv'](_0x1837bf,_0x5db79f);});});}catch(_0x43a361){PerformanceTester['end'](PerformanceEvents[_0xc14573(0x2a7)],![],util['format'](_0x43a361)),this[_0xc14573(0x1e1)][_0xc14573(0x286)]('Error\x20in\x20getPlaywrightConfig:\x20'+util[_0xc14573(0x265)](_0x43a361));throw _0x43a361;}}async['getAccessibilityConfig'](_0x27abe9){const _0x3a1741=a71_0x56e4c2,_0x4b6c5e={'geSif':function(_0x1b6906,_0x525af7){return _0x1b6906(_0x525af7);},'Awecw':_0x3a1741(0x272),'WqFRo':'Getting\x20Accessibility\x20config','IXERO':'utf-8'};this[_0x3a1741(0x1e1)][_0x3a1741(0x1db)](_0x4b6c5e[_0x3a1741(0x1dc)]);try{const _0x23835b=Buffer[_0x3a1741(0x221)](JSON[_0x3a1741(0x237)](_0x27abe9[_0x3a1741(0x22e)]),_0x4b6c5e[_0x3a1741(0x281)]),_0x202e19=new messages[(_0x3a1741(0x249))](),_0x4058b5=CLIUtils[_0x3a1741(0x203)](),_0x85cb4e=_0x4058b5[_0x3a1741(0x1de)],_0xb64e52=_0x4058b5[_0x3a1741(0x26f)];return _0x202e19[_0x3a1741(0x218)](this[_0x3a1741(0x23c)]),_0x202e19[_0x3a1741(0x26b)](0x0),_0x202e19[_0x3a1741(0x1e8)](_0x85cb4e),_0x202e19[_0x3a1741(0x246)](_0xb64e52),_0x202e19[_0x3a1741(0x28b)](_0x27abe9[_0x3a1741(0x21c)]),_0x202e19[_0x3a1741(0x295)](_0x23835b),new Promise((_0x42504c,_0x2cd6d4)=>{const _0x34ea5b=_0x3a1741,_0x13afb4={'ERvJo':function(_0x533b0a,_0x2270e0){const _0x3b280a=a71_0x7c4e;return _0x4b6c5e[_0x3b280a(0x24e)](_0x533b0a,_0x2270e0);},'asrDk':_0x4b6c5e[_0x34ea5b(0x296)],'XvolD':function(_0x46e74f,_0x3ae7a4){return _0x4b6c5e['geSif'](_0x46e74f,_0x3ae7a4);}};this['client']['accessibilityConfig'](_0x202e19,(_0x285758,_0x5728bf)=>{const _0x2e8474=_0x34ea5b;if(_0x285758){this['logger'][_0x2e8474(0x286)](_0x2e8474(0x228)+_0x285758[_0x2e8474(0x266)]),_0x13afb4[_0x2e8474(0x1d4)](_0x2cd6d4,_0x285758);return;}this[_0x2e8474(0x1e1)][_0x2e8474(0x1db)](_0x13afb4[_0x2e8474(0x287)]),_0x13afb4[_0x2e8474(0x2a0)](_0x42504c,_0x5728bf);});});}catch(_0x54a65f){this['logger'][_0x3a1741(0x286)](_0x3a1741(0x214)+util[_0x3a1741(0x265)](_0x54a65f));}}async[a71_0x56e4c2(0x256)](_0x56cd10){const _0xfb3e11=a71_0x56e4c2,_0x391a3c={'TObVA':function(_0x4cc13f,_0x130c13){return _0x4cc13f(_0x130c13);},'mLnnk':'TestSessionEvent\x20request\x20successful','tviMG':function(_0xa764,_0x593dfb){return _0xa764(_0x593dfb);},'qDaOE':'Sending\x20TestSessionEvent','QyvCo':_0xfb3e11(0x222)};this[_0xfb3e11(0x1e1)][_0xfb3e11(0x1db)](_0x391a3c['qDaOE']);try{!this['client']&&this[_0xfb3e11(0x1e1)]['info'](_0x391a3c[_0xfb3e11(0x274)]);const {platformIndex:_0x9bff01,testFrameworkName:_0x48c54a,testFrameworkVersion:_0xe29de2,testFrameworkState:_0xe6866e,testHookState:_0x6504eb,testUuid:_0x357473,automationSession:_0x38294d,capabilities:_0x212f60,executionContext:_0x523b84}=_0x56cd10,_0xd1f96c=new messages[(_0xfb3e11(0x236))]();_0xd1f96c[_0xfb3e11(0x218)](this[_0xfb3e11(0x23c)]),_0xd1f96c['setPlatformIndex'](_0x9bff01),_0xd1f96c[_0xfb3e11(0x27a)](_0x48c54a),_0xd1f96c['setTestFrameworkVersion'](_0xe29de2),_0xd1f96c[_0xfb3e11(0x268)](_0xe6866e),_0xd1f96c['setTestHookState'](_0x6504eb),_0xd1f96c['setTestUuid'](_0x357473);const _0x250b27=new messages[(_0xfb3e11(0x236))]['AutomationSession']();_0x250b27[_0xfb3e11(0x288)](_0x38294d['provider']),_0x250b27['setFrameworkName'](_0x38294d[_0xfb3e11(0x1fd)]),_0x250b27[_0xfb3e11(0x246)](_0x38294d['frameworkVersion']),_0x250b27[_0xfb3e11(0x1ed)](_0x38294d[_0xfb3e11(0x219)]),_0x250b27[_0xfb3e11(0x244)](_0x38294d[_0xfb3e11(0x1fa)]),_0x250b27[_0xfb3e11(0x28b)](_0x38294d[_0xfb3e11(0x21c)]),_0xd1f96c[_0xfb3e11(0x20b)](_0x250b27),_0xd1f96c[_0xfb3e11(0x295)](_0x212f60);const _0xa65a3=new messages[(_0xfb3e11(0x275))]();return _0xa65a3['setProcessId'](_0x523b84[_0xfb3e11(0x24c)]),_0xa65a3[_0xfb3e11(0x230)](_0x523b84[_0xfb3e11(0x234)]),_0xa65a3[_0xfb3e11(0x202)](_0x523b84[_0xfb3e11(0x21b)]),_0xd1f96c['setExecutionContext'](_0xa65a3),new Promise((_0x115831,_0x3b7b47)=>{const _0x432183=_0xfb3e11;this[_0x432183(0x26d)][_0x432183(0x256)](_0xd1f96c,(_0x539c9e,_0x4f0b7a)=>{const _0x359c7c=_0x432183;if(_0x539c9e){this[_0x359c7c(0x1e1)][_0x359c7c(0x286)](_0x359c7c(0x282)+_0x539c9e[_0x359c7c(0x266)]),_0x391a3c[_0x359c7c(0x27f)](_0x3b7b47,_0x539c9e);return;}this[_0x359c7c(0x1e1)][_0x359c7c(0x1db)](_0x391a3c[_0x359c7c(0x215)]),_0x391a3c[_0x359c7c(0x23e)](_0x115831,_0x4f0b7a);});});}catch(_0x4358f3){this[_0xfb3e11(0x1e1)][_0xfb3e11(0x286)](_0xfb3e11(0x1d9)+util[_0xfb3e11(0x265)](_0x4358f3));throw _0x4358f3;}}async[a71_0x56e4c2(0x208)](_0x51d1d3){const _0x56bfa5=a71_0x56e4c2,_0x2be2ce={'ftqWc':function(_0x30af34,_0x18b2a9){return _0x30af34(_0x18b2a9);},'CNYJn':'TestFrameworkEvent\x20request\x20successful','TRDIQ':_0x56bfa5(0x1f6),'sLsdC':_0x56bfa5(0x222)};this[_0x56bfa5(0x1e1)][_0x56bfa5(0x1db)](_0x2be2ce[_0x56bfa5(0x229)]);try{!this[_0x56bfa5(0x26d)]&&this[_0x56bfa5(0x1e1)][_0x56bfa5(0x1db)](_0x2be2ce['sLsdC']);const {platfromIndex:_0x31fc74,testFrameworkName:_0x24a8fb,testFrameworkVersion:_0x25c213,testFrameworkState:_0x34609d,hookState:_0x5abb8b,startedAt:_0x397cda,endedAt:_0x4d7839,uuid:_0x3a8032,eventJson:_0x179de2,executionContext:_0x3fc263}=_0x51d1d3,_0x46384b=new messages['TestFrameworkEventRequest']();_0x46384b[_0x56bfa5(0x218)](this[_0x56bfa5(0x23c)]),_0x46384b[_0x56bfa5(0x26b)](_0x31fc74),_0x46384b['setTestFrameworkName'](_0x24a8fb),_0x46384b[_0x56bfa5(0x2a1)](_0x25c213),_0x46384b[_0x56bfa5(0x268)](_0x34609d),_0x46384b['setTestHookState'](_0x5abb8b),_0x46384b['setStartedAt'](_0x397cda),_0x46384b[_0x56bfa5(0x27d)](_0x4d7839),_0x46384b[_0x56bfa5(0x1f8)](_0x3a8032),_0x46384b[_0x56bfa5(0x206)](_0x179de2);const _0x3374f7=new messages[(_0x56bfa5(0x275))]();return _0x3374f7[_0x56bfa5(0x1cf)](_0x3fc263[_0x56bfa5(0x24c)]),_0x3374f7[_0x56bfa5(0x230)](_0x3fc263[_0x56bfa5(0x234)]),_0x3374f7[_0x56bfa5(0x202)](_0x3fc263[_0x56bfa5(0x21b)]),_0x46384b[_0x56bfa5(0x259)](_0x3374f7),new Promise((_0x53afa0,_0x3d58a2)=>{const _0x30de7c=_0x56bfa5,_0x3df6fa={'qetzK':function(_0x3f4e66,_0x4a1c35){return _0x2be2ce['ftqWc'](_0x3f4e66,_0x4a1c35);},'XlDOY':_0x2be2ce[_0x30de7c(0x23d)]};this['client'][_0x30de7c(0x208)](_0x46384b,(_0x14e709,_0x1ec02b)=>{const _0x215d8b=_0x30de7c;if(_0x14e709){this[_0x215d8b(0x1e1)][_0x215d8b(0x286)](_0x215d8b(0x1fc)+_0x14e709['message']),_0x3df6fa['qetzK'](_0x3d58a2,_0x14e709);return;}this[_0x215d8b(0x1e1)][_0x215d8b(0x1db)](_0x3df6fa[_0x215d8b(0x1e7)]),_0x3df6fa[_0x215d8b(0x25f)](_0x53afa0,_0x1ec02b);});});}catch(_0x3b5608){this['logger'][_0x56bfa5(0x286)](_0x56bfa5(0x240)+util[_0x56bfa5(0x265)](_0x3b5608));throw _0x3b5608;}}async[a71_0x56e4c2(0x263)](_0x48fe3b){const _0x4c9784=a71_0x56e4c2,_0x4ac746={'GeTPw':function(_0x3c28c7,_0x1829fa){return _0x3c28c7(_0x1829fa);},'msFcm':'DriverInit\x20request\x20successful','NGdFW':_0x4c9784(0x235),'Xteqv':_0x4c9784(0x222)};this[_0x4c9784(0x1e1)][_0x4c9784(0x1db)](_0x4ac746[_0x4c9784(0x267)]);try{!this[_0x4c9784(0x26d)]&&this[_0x4c9784(0x1e1)]['info'](_0x4ac746[_0x4c9784(0x21d)]);const {platformIndex:_0x1f0619,ref:_0x48f063,userInputParams:_0x2ec42f}=_0x48fe3b,_0x42b15e=new messages[(_0x4c9784(0x20d))]();return _0x42b15e[_0x4c9784(0x218)](this[_0x4c9784(0x23c)]),_0x42b15e['setPlatformIndex'](_0x1f0619),_0x42b15e['setRef'](_0x48f063),_0x42b15e[_0x4c9784(0x248)](_0x2ec42f),new Promise((_0x1e55fc,_0x51fdb6)=>{const _0x575836=_0x4c9784;this['client'][_0x575836(0x263)](_0x42b15e,(_0x4e0266,_0x1e5e86)=>{const _0x5354b8=_0x575836;if(_0x4e0266){this[_0x5354b8(0x1e1)][_0x5354b8(0x286)]('DriverInit\x20error:\x20'+_0x4e0266[_0x5354b8(0x266)]),_0x4ac746['GeTPw'](_0x51fdb6,_0x4e0266);return;}this['logger'][_0x5354b8(0x1db)](_0x4ac746[_0x5354b8(0x2b0)]),_0x4ac746[_0x5354b8(0x1f9)](_0x1e55fc,_0x1e5e86);});});}catch(_0x530002){this['logger'][_0x4c9784(0x286)](_0x4c9784(0x1e0)+util[_0x4c9784(0x265)](_0x530002));throw _0x530002;}}async[a71_0x56e4c2(0x223)](_0x2057f0){const _0x4ba126=a71_0x56e4c2,_0xf7a2d1={'wFZfu':function(_0x14326a,_0x3d244a){return _0x14326a===_0x3d244a;},'stjJu':function(_0x2de71d,_0x29b4e6){return _0x2de71d(_0x29b4e6);},'UUOqU':_0x4ba126(0x1ef),'UoGaG':'Sending\x20LogCreatedEvent','Dwpha':_0x4ba126(0x222)};this[_0x4ba126(0x1e1)][_0x4ba126(0x1db)](_0xf7a2d1['UoGaG']);try{!this['client']&&this[_0x4ba126(0x1e1)]['info'](_0xf7a2d1['Dwpha']);const {platformIndex:_0x2487d1,logs:_0x2ad11f}=_0x2057f0,_0x50b6ab=new messages[(_0x4ba126(0x27c))]();_0x50b6ab[_0x4ba126(0x218)](this['binSessionId']),_0x50b6ab[_0x4ba126(0x26b)](_0x2487d1);const _0x57a1ba=_0x2057f0[_0x4ba126(0x254)],_0x2ccfdb=_0x2057f0['testFrameworkVersion'],_0x5e1ff3=_0x2057f0[_0x4ba126(0x1f3)];return _0x2ad11f[_0x4ba126(0x1f7)](_0x50b9cf=>{const _0x135ec6=_0x4ba126,_0x8159b3=new messages[(_0x135ec6(0x27c))][(_0x135ec6(0x25e))]();_0x8159b3[_0x135ec6(0x27a)](_0x57a1ba),_0x8159b3[_0x135ec6(0x2a1)](_0x2ccfdb),_0x8159b3['setTestFrameworkState'](_0x5e1ff3),_0x8159b3[_0x135ec6(0x2a4)](_0x50b9cf['timestamp']),_0x8159b3[_0x135ec6(0x1f8)](_0x50b9cf[_0x135ec6(0x1f5)]),_0x8159b3[_0x135ec6(0x280)](_0x50b9cf[_0x135ec6(0x25c)]),_0xf7a2d1[_0x135ec6(0x22a)](_0x50b9cf[_0x135ec6(0x213)],PLAYWRIGHT_TRACE_LOGS)?(_0x8159b3['setUuid'](_0x50b9cf[_0x135ec6(0x1d1)]),_0x8159b3[_0x135ec6(0x25a)](new TextEncoder()['encode'](JSON[_0x135ec6(0x237)](_0x50b9cf)))):_0x8159b3['setMessage'](new TextEncoder()['encode'](_0x50b9cf[_0x135ec6(0x266)])),_0x8159b3[_0x135ec6(0x292)](_0x50b9cf[_0x135ec6(0x29a)]),_0x8159b3[_0x135ec6(0x2a6)](_0x50b9cf?.['fileName']||''),_0x8159b3[_0x135ec6(0x245)](_0x50b9cf?.[_0x135ec6(0x21f)]||''),_0x8159b3['setFileSize'](_0x50b9cf?.['fileSize']||0x0),_0x8159b3[_0x135ec6(0x250)](_0x50b9cf?.[_0x135ec6(0x213)]||''),_0x50b6ab[_0x135ec6(0x247)](_0x8159b3);}),new Promise((_0x26d4d1,_0x2dd295)=>{const _0x3e2927=_0x4ba126;this[_0x3e2927(0x26d)]['logCreatedEvent'](_0x50b6ab,(_0x33514b,_0x416a36)=>{const _0x3908c5=_0x3e2927;if(_0x33514b){this[_0x3908c5(0x1e1)][_0x3908c5(0x286)](_0x3908c5(0x253)+_0x33514b['message']),_0xf7a2d1[_0x3908c5(0x239)](_0x2dd295,_0x33514b);return;}this[_0x3908c5(0x1e1)]['info'](_0xf7a2d1['UUOqU']),_0xf7a2d1[_0x3908c5(0x239)](_0x26d4d1,_0x416a36);});});}catch(_0x470502){this['logger']['error']('Error\x20in\x20LogCreatedEvent:\x20'+util[_0x4ba126(0x265)](_0x470502));throw _0x470502;}}async[a71_0x56e4c2(0x26a)](_0x51d89e,_0x2b08e6,_0x519784){const _0x10f348=a71_0x56e4c2,_0x2788e8={'mbrAG':function(_0x1da7b5,_0x1f7dce){return _0x1da7b5(_0x1f7dce);},'HwKTy':function(_0x3013d7,_0xc8324e){return _0x3013d7(_0xc8324e);},'ckzTb':_0x10f348(0x2a3)};this[_0x10f348(0x1e1)][_0x10f348(0x22d)](_0x10f348(0x299)+_0x51d89e+_0x10f348(0x241)+_0x2b08e6+_0x10f348(0x24b)+_0x519784);try{if(!this[_0x10f348(0x26d)])return this[_0x10f348(0x1e1)][_0x10f348(0x22d)](_0x2788e8[_0x10f348(0x20e)]),null;const _0x2064eb=new messages[(_0x10f348(0x204))]();return _0x2064eb[_0x10f348(0x218)](_0x51d89e),_0x2064eb[_0x10f348(0x283)](_0x2b08e6),_0x2064eb[_0x10f348(0x276)](_0x519784),await new Promise(_0x4f2a55=>{const _0x38d6b5=_0x10f348;this[_0x38d6b5(0x26d)][_0x38d6b5(0x26a)](_0x2064eb,(_0x4e120d,_0x3d2ffb)=>{const _0x34d3e0=_0x38d6b5;if(_0x4e120d){this[_0x34d3e0(0x1e1)][_0x34d3e0(0x22d)](_0x34d3e0(0x1d3)+_0x4e120d),_0x2788e8['mbrAG'](_0x4f2a55,null);return;}this['logger'][_0x34d3e0(0x22d)]('FetchDriverExecuteParamsEvent\x20successful\x20-\x20success='+(_0x3d2ffb[_0x34d3e0(0x2ac)]&&_0x3d2ffb['getSuccess']())),_0x2788e8['HwKTy'](_0x4f2a55,_0x3d2ffb);});});}catch(_0x270d05){return this[_0x10f348(0x1e1)][_0x10f348(0x22d)](_0x10f348(0x1d3)+_0x270d05),null;}}['getClient'](){const _0x3f9c2b=a71_0x56e4c2;return this[_0x3f9c2b(0x26d)];}[a71_0x56e4c2(0x200)](){const _0x1d0c4b=a71_0x56e4c2;return this[_0x1d0c4b(0x28e)];}}function a71_0x7c4e(_0x4c2f59,_0x5066aa){const _0x21ae2f=a71_0x21ae();return a71_0x7c4e=function(_0x7c4e6e,_0x272de2){_0x7c4e6e=_0x7c4e6e-0x1cd;let _0x24dcc5=_0x21ae2f[_0x7c4e6e];return _0x24dcc5;},a71_0x7c4e(_0x4c2f59,_0x5066aa);}function a71_0x21ae(){const _0x2989b0=['testFrameworkState','setExitReason','uuid','Sending\x20TestFrameworkEvent','forEach','setUuid','GeTPw','ref','MljkH','TestFrameworkEvent\x20error:\x20','frameworkName','exports','path','getChannel','oQpdO','setHash','getAutomationFrameworkDetail','FetchDriverExecuteParamsEventRequest','stopBinSession','setEventJson','PgSsc','testFrameworkEvent','sVmmf','setExitCode','addAutomationSessions','Connecting\x20bin\x20session','DriverInitRequest','ckzTb','setCliArgsList','Stopping\x20signal\x20','addFrameworks','2dUgakY','attachment_type','Error\x20in\x20getAccessibilityConfig:\x20','mLnnk','sAmZA','push','setBinSessionId','frameworkSessionId','PlaywrightConfig\x20error:\x20','hash','hubUrl','Xteqv','Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20','filePath','setConfig','from','No\x20gRPC\x20client\x20not\x20initialized.','logCreatedEvent','Missing\x20binSessionId','UKDTz','credentials','zatzw','AccessibilityConfig\x20error:\x20','TRDIQ','wFZfu','BBEts','setTestFramework','debug','launchcaps','../../helpers/performance/performance-tester.js','setThreadId','grpc.keepalive_time_ms','CVQCM','listenAddress','threadId','Sending\x20DriverInit','TestSessionEventRequest','stringify','stop-bin-session\x20response:\x20','stjJu','DbCTf','fegor','binSessionId','CNYJn','tviMG','StopBinSession\x20error:\x20','Error\x20in\x20TestFrameworkEvent:\x20',',\x20product=','UoCaX','SDKClient','setRef','setFilePath','setFrameworkVersion','addLogs','setUserInputParams','AccessibilityConfigRequest','ConnectBinSession\x20error:\x20',',\x20scriptName=','processId','SDK_START_BIN_SESSION','geSif','ThTzg','setAttachmentType','102390tjmvkJ','Error\x20in\x20startBinSession:\x20','LogCreatedEvent\x20error:\x20','testFrameworkName','setSdkLanguage','testSessionEvent','581783FbOeyx','6422200YJmzjX','setExecutionContext','setMessage','ConnectBinSession\x20successful','kind','../../../generated/sdk_grpc_pb','LogEntry','qetzK','TRguJ','env','connect','driverInit','end','format','message','NGdFW','setTestFrameworkState','setFrameworksList','fetchDriverExecuteParamsEvent','setPlatformIndex','Stopping\x20bin\x20session','client','SDK_CLI_ON_STOP','version','../../helpers/logger.js','StopBinSessionRequest','AccessibilityConfig\x20request\x20successful','setCustomMetadata','QyvCo','ExecutionContext','setScriptName','2214avoZQJ','browserstackConfigFile','ZTMAK','setTestFrameworkName','./browserstackCLI.js','LogCreatedEventRequest','setEndedAt','ConnectBinSessionRequest','TObVA','setKind','IXERO','TestSessionEvent\x20error:\x20','setProduct','pbxib','LBJUN','error','asrDk','setProvider','NecsV','PlaywrightConfigRequest','setHubUrl','../../helpers/performance/constants','lQPLh','channel','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','../utils/constants','null','setLevel','SDK_CONNECT_BIN_SESSION','Tdpsf','setCapabilities','Awecw','connectBinSession','iyWBi','FetchDriverExecuteParamsEvent:\x20Calling\x20with\x20binSessionId=','level','bPrVN','5292XgGWxK','cwd','slice',',\x20parsedConfig=','XvolD','setTestFrameworkVersion','getSdkLanguage','No\x20gRPC\x20client\x20initialized.','setTimestamp','1193277RmDnxp','setFileName','SDK_AUTOMATION_FRAMEWORK_INIT','TWnOQ','BROWSERSTACK_CONFIG_FILE_PATH','yKAym','getPlaywrightConfig','getSuccess','14232150LXZSIN','UATbb','BROWSERSTACK_CLI_BIN_SESSION_ID','msFcm','bVqJr','./cliUtils.js','setProcessId','Getting\x20Playwright\x20config','test_run_uuid','setPathProject','Error\x20in\x20FetchDriverExecuteParamsEvent:\x20','ERvJo','YqaAe','\x20listenAddr:\x20','set','resolve','Error\x20in\x20TestSessionEvent:\x20','start','info','WqFRo','../../helpers/helper.js','name','Error\x20in\x20stopBinSession:\x20','Error\x20in\x20DriverInit:\x20','logger','Error\x20in\x20connectBinSession:\x20','browserstack.yml','1139632ustUnO','EkMIl','setPathConfig','XlDOY','setFrameworkName','\x20and\x20listen\x20address:\x20','setLanguage','einwf','getInstance','setFrameworkSessionId','KVkrf','LogCreatedEvent\x20request\x20successful','StartBinSession\x20successful','winstonLogger','init'];a71_0x21ae=function(){return _0x2989b0;};return a71_0x21ae();}module[a71_0x56e4c2(0x1fe)]=GrpcClient;