const a72_0x4e3b96=a72_0x3dcb;function a72_0x3dcb(_0x22acac,_0x5b221b){const _0x5da31c=a72_0x5da3();return a72_0x3dcb=function(_0x3dcb62,_0x517828){_0x3dcb62=_0x3dcb62-0x1e6;let _0x458727=_0x5da31c[_0x3dcb62];return _0x458727;},a72_0x3dcb(_0x22acac,_0x5b221b);}(function(_0x3189a5,_0x59e688){const _0x198f23=a72_0x3dcb,_0x3a604f=_0x3189a5();while(!![]){try{const _0x59fba8=-parseInt(_0x198f23(0x280))/0x1+parseInt(_0x198f23(0x26b))/0x2+parseInt(_0x198f23(0x29a))/0x3+-parseInt(_0x198f23(0x271))/0x4+parseInt(_0x198f23(0x2cd))/0x5*(parseInt(_0x198f23(0x2c5))/0x6)+parseInt(_0x198f23(0x28e))/0x7+-parseInt(_0x198f23(0x264))/0x8;if(_0x59fba8===_0x59e688)break;else _0x3a604f['push'](_0x3a604f['shift']());}catch(_0xf81f99){_0x3a604f['push'](_0x3a604f['shift']());}}}(a72_0x5da3,0xe207b));const util=require(a72_0x4e3b96(0x26a)),logger=require(a72_0x4e3b96(0x24e))['winstonLogger'],grpc=require(a72_0x4e3b96(0x275)),services=require(a72_0x4e3b96(0x2b7)),messages=require('../../../generated/sdk-messages_pb'),path=require(a72_0x4e3b96(0x225)),CLIUtils=require('./cliUtils.js'),{createClassLogger}=require('../../helpers/classLogger.js'),PerformanceTester=require(a72_0x4e3b96(0x24c)),{EVENTS:PerformanceEvents}=require(a72_0x4e3b96(0x294)),{PLAYWRIGHT_TRACE_LOGS}=require('../utils/constants'),helper=require(a72_0x4e3b96(0x2af));class GrpcClient{static #instance=null;[a72_0x4e3b96(0x210)]=null;[a72_0x4e3b96(0x2c1)]=null;[a72_0x4e3b96(0x205)]=null;['client']=null;[a72_0x4e3b96(0x2bf)]=createClassLogger(a72_0x4e3b96(0x25a));constructor(){}static[a72_0x4e3b96(0x20c)](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}[a72_0x4e3b96(0x248)](_0x5e60d1){const _0x4d8d4c=a72_0x4e3b96,_0x394846={};_0x394846['PUOlJ']=function(_0xd6bff0,_0x369175){return _0xd6bff0||_0x369175;};const _0x218273=_0x394846,{id:_0xd868fb,listen:_0x2c5635}=_0x5e60d1;if(_0x218273['PUOlJ'](!_0xd868fb,!_0x2c5635))throw new Error(_0x4d8d4c(0x241)+_0xd868fb+_0x4d8d4c(0x214)+_0x2c5635);this['binSessionId']=_0xd868fb,this['listenAddress']=_0x2c5635,process[_0x4d8d4c(0x1f7)][_0x4d8d4c(0x217)]=this[_0x4d8d4c(0x210)],process['env'][_0x4d8d4c(0x220)]=this[_0x4d8d4c(0x2c1)],this['connect'](),this[_0x4d8d4c(0x2bf)]['info'](_0x4d8d4c(0x27a)+this[_0x4d8d4c(0x210)]+_0x4d8d4c(0x2a5)+this[_0x4d8d4c(0x2c1)]);}['connect'](){const _0x352a6b=a72_0x4e3b96,_0x2fc7ac={};_0x2fc7ac['MYBbf']=_0x352a6b(0x28b);const _0x455a4d=_0x2fc7ac;let _0x4fb1a0=this[_0x352a6b(0x2c1)];!_0x4fb1a0&&(_0x4fb1a0=process[_0x352a6b(0x1f7)][_0x352a6b(0x220)]);!this[_0x352a6b(0x210)]&&(this[_0x352a6b(0x210)]=this[_0x352a6b(0x210)]||process[_0x352a6b(0x1f7)]['BROWSERSTACK_CLI_BIN_SESSION_ID']);if(!_0x4fb1a0)throw new Error(_0x455a4d[_0x352a6b(0x25f)]);const _0x13e43a={};_0x13e43a[_0x352a6b(0x2d3)]=0x2710,this['channel']=new grpc['Channel'](_0x4fb1a0,grpc[_0x352a6b(0x20a)]['createInsecure'](),_0x13e43a),this[_0x352a6b(0x2db)]=new services[(_0x352a6b(0x2a2))](_0x4fb1a0,grpc[_0x352a6b(0x20a)][_0x352a6b(0x208)]()),this[_0x352a6b(0x2bf)][_0x352a6b(0x1fb)](_0x352a6b(0x26c)+_0x4fb1a0);}async[a72_0x4e3b96(0x23c)](){const _0x2f3bc1=a72_0x4e3b96,_0x20d950={'kSgII':function(_0x553dc6,_0x50d2c4){return _0x553dc6!==_0x50d2c4;},'WydXy':function(_0xa312c9,_0x4b94a8){return _0xa312c9(_0x4b94a8);},'Uaacq':_0x2f3bc1(0x2c3),'WHgsb':_0x2f3bc1(0x2d8),'jRlvN':_0x2f3bc1(0x24a),'SKwFT':function(_0x4d20fb,_0x21076){return _0x4d20fb(_0x21076);},'SVqTz':_0x2f3bc1(0x298),'NwzZf':function(_0x5a32a3,_0x28931c){return _0x5a32a3 instanceof _0x28931c;},'mgYZb':function(_0x436b19,_0x4e4b5c){return _0x436b19===_0x4e4b5c;},'DZlpg':_0x2f3bc1(0x1ef),'attWs':_0x2f3bc1(0x281),'kNsTh':_0x2f3bc1(0x1e9),'wGziU':function(_0x219e1e,_0x1fa4d9){return _0x219e1e||_0x1fa4d9;},'cHgoL':function(_0x505579,_0x3722f8){return _0x505579||_0x3722f8;}};PerformanceTester['start'](PerformanceEvents[_0x2f3bc1(0x1f5)]),this['logger'][_0x2f3bc1(0x1fb)](_0x20d950[_0x2f3bc1(0x1fd)]);try{!this[_0x2f3bc1(0x2db)]&&this[_0x2f3bc1(0x2bf)]['info'](_0x20d950[_0x2f3bc1(0x2b4)]);const _0x471a89=CLIUtils[_0x2f3bc1(0x2c4)](),_0x566b97=CLIUtils[_0x2f3bc1(0x258)](),_0x112cf7=CLIUtils['getTestFrameworkDetail'](),_0x763cec=_0x566b97[_0x2f3bc1(0x254)],_0x2a17d2=_0x566b97['version'],_0x17c469=_0x112cf7[_0x2f3bc1(0x254)],_0x15f7a7=_0x112cf7[_0x2f3bc1(0x27e)]?_0x112cf7[_0x2f3bc1(0x27e)][_0x17c469]:'',_0x54594c=new messages['StartBinSessionRequest']();_0x54594c[_0x2f3bc1(0x230)](this[_0x2f3bc1(0x210)]),_0x54594c[_0x2f3bc1(0x2b1)](CLIUtils[_0x2f3bc1(0x2be)]()),_0x54594c[_0x2f3bc1(0x2cc)](_0x471a89),_0x54594c[_0x2f3bc1(0x28a)](process[_0x2f3bc1(0x268)]());const _0x739941=_0x54594c[_0x2f3bc1(0x2a4)]();Object[_0x2f3bc1(0x2c7)](process[_0x2f3bc1(0x1f7)])['forEach'](([_0x10ad40,_0x1e5314])=>{const _0x4724f2=_0x2f3bc1;_0x20d950[_0x4724f2(0x22f)](_0x1e5314,undefined)&&_0x20d950[_0x4724f2(0x22f)](_0x1e5314,null)&&_0x739941['set'](_0x10ad40,_0x1e5314);});const _0x3fc0f8=_0x20d950[_0x2f3bc1(0x2a7)](require,_0x20d950['SVqTz']),_0x5a020b=_0x3fc0f8[_0x2f3bc1(0x20c)]()['getBrowserstackCliConfig'](),_0x334e76=[];_0x5a020b&&_0x20d950[_0x2f3bc1(0x203)](_0x5a020b,Map)&&_0x5a020b[_0x2f3bc1(0x2ad)]((_0x2e0a23,_0xdab001)=>{const _0x3cfa7e=_0x2f3bc1;_0x334e76[_0x3cfa7e(0x24b)](_0xdab001+'='+_0x2e0a23);});const _0x49d233=process['argv'][_0x2f3bc1(0x2d5)](0x2);_0x54594c['setCliArgsList']([..._0x49d233,..._0x334e76]);let _0x30123f=null;if(_0x5a020b)for(const [_0x35a56d,_0x377cd7]of _0x5a020b){if(_0x20d950[_0x2f3bc1(0x27b)](_0x35a56d,_0x20d950[_0x2f3bc1(0x27d)])){_0x30123f=_0x377cd7;break;}}if(_0x30123f)_0x54594c[_0x2f3bc1(0x2da)](_0x30123f);else process[_0x2f3bc1(0x1f7)][_0x2f3bc1(0x1ee)]?_0x54594c[_0x2f3bc1(0x2da)](process['env'][_0x2f3bc1(0x1ee)]):_0x54594c['setPathConfig'](path[_0x2f3bc1(0x29c)](process[_0x2f3bc1(0x268)](),_0x20d950[_0x2f3bc1(0x236)]));this[_0x2f3bc1(0x2bf)][_0x2f3bc1(0x1fb)](_0x2f3bc1(0x28c)+JSON['stringify'](_0x49d233)+',\x20parsedConfig='+(_0x5a020b?JSON['stringify']([..._0x5a020b]):_0x20d950['kNsTh'])),_0x54594c[_0x2f3bc1(0x2d0)](CLIUtils['getSdkLanguage']()),_0x54594c['setTestFramework'](_0x17c469);const _0x208a90=_0x54594c[_0x2f3bc1(0x29b)]();return _0x208a90['set'](_0x763cec,_0x20d950[_0x2f3bc1(0x1fe)](_0x2a17d2,'')),_0x208a90[_0x2f3bc1(0x263)](_0x17c469,_0x20d950[_0x2f3bc1(0x223)](_0x15f7a7,'')),_0x54594c['addFrameworks'](_0x763cec,_0x2a17d2),_0x54594c[_0x2f3bc1(0x216)](_0x17c469,_0x15f7a7),_0x54594c['setFrameworksList']([_0x17c469,_0x763cec]),new Promise((_0x132c14,_0xea2332)=>{const _0x2e67db=_0x2f3bc1,_0x15658a={'rotHl':function(_0x5780db,_0x1c01ba){const _0x433ce2=a72_0x3dcb;return _0x20d950[_0x433ce2(0x261)](_0x5780db,_0x1c01ba);},'DiPhl':_0x20d950[_0x2e67db(0x276)],'gNLhS':function(_0xd8e9b8,_0x4e337d){const _0x5d5a05=_0x2e67db;return _0x20d950[_0x5d5a05(0x261)](_0xd8e9b8,_0x4e337d);}};this['client'][_0x2e67db(0x23c)](_0x54594c,(_0x471b7b,_0x4d3c57)=>{const _0x54e9d8=_0x2e67db;if(_0x471b7b){this['logger']['error'](_0x54e9d8(0x23d)+_0x471b7b['message']),_0x15658a[_0x54e9d8(0x253)](_0xea2332,_0x471b7b),PerformanceTester[_0x54e9d8(0x2d9)](PerformanceEvents[_0x54e9d8(0x1f5)],![],util[_0x54e9d8(0x25e)](_0x471b7b));return;}this[_0x54e9d8(0x2bf)][_0x54e9d8(0x1fb)](_0x15658a[_0x54e9d8(0x272)]),PerformanceTester[_0x54e9d8(0x2d9)](PerformanceEvents['SDK_START_BIN_SESSION']),_0x15658a['gNLhS'](_0x132c14,_0x4d3c57);});});}catch(_0xceccf8){this['logger'][_0x2f3bc1(0x2bd)](_0x2f3bc1(0x26d)+util['format'](_0xceccf8)),PerformanceTester[_0x2f3bc1(0x2d9)](PerformanceEvents[_0x2f3bc1(0x1f5)],![],util[_0x2f3bc1(0x25e)](_0xceccf8));throw _0xceccf8;}}async[a72_0x4e3b96(0x2a8)](){const _0x4213e5=a72_0x4e3b96,_0xabbe80={'jmmGj':function(_0x2c0bc2,_0x5a955f){return _0x2c0bc2(_0x5a955f);},'IAzhC':_0x4213e5(0x20b),'KpBcW':function(_0x38c439,_0x456a32){return _0x38c439(_0x456a32);},'Eqgxc':_0x4213e5(0x284),'XxyWM':_0x4213e5(0x24a)};PerformanceTester[_0x4213e5(0x239)](PerformanceEvents[_0x4213e5(0x242)]),this['logger']['info'](_0xabbe80['Eqgxc']);try{!this[_0x4213e5(0x2db)]&&this[_0x4213e5(0x2bf)][_0x4213e5(0x1fb)](_0xabbe80[_0x4213e5(0x2b2)]);const _0x13c110=new messages[(_0x4213e5(0x26f))]();_0x13c110[_0x4213e5(0x230)](this['binSessionId']);const _0x3ed3ef=await new Promise((_0x41a7de,_0x1f74c5)=>{const _0x4b9381=_0x4213e5;this[_0x4b9381(0x2db)][_0x4b9381(0x2a8)](_0x13c110,(_0x3d817b,_0x5d4dc2)=>{const _0x12234a=_0x4b9381;if(_0x3d817b){this[_0x12234a(0x2bf)][_0x12234a(0x2bd)](_0x12234a(0x2ca)+_0x3d817b[_0x12234a(0x296)]),_0xabbe80[_0x12234a(0x2c9)](_0x1f74c5,_0x3d817b),PerformanceTester[_0x12234a(0x2d9)](PerformanceEvents[_0x12234a(0x242)],![],util[_0x12234a(0x25e)](_0x3d817b));return;}this[_0x12234a(0x2bf)][_0x12234a(0x1fb)](_0xabbe80['IAzhC']),PerformanceTester['end'](PerformanceEvents['SDK_CONNECT_BIN_SESSION']),_0xabbe80[_0x12234a(0x243)](_0x41a7de,_0x5d4dc2);});});return this[_0x4213e5(0x2bf)][_0x4213e5(0x233)]('connect-bin-session\x20response:\x20'+util[_0x4213e5(0x25e)](_0x3ed3ef)),_0x3ed3ef;}catch(_0x174b35){PerformanceTester['end'](PerformanceEvents[_0x4213e5(0x242)],![],util['format'](_0x174b35)),this['logger'][_0x4213e5(0x2bd)](_0x4213e5(0x201)+util[_0x4213e5(0x25e)](_0x174b35));throw _0x174b35;}}async[a72_0x4e3b96(0x2b0)](_0x2c24fc={},_0x17e390=null){const _0x93704=a72_0x4e3b96,_0x153503={'yLREs':function(_0x25ab3a,_0x11b2f1){return _0x25ab3a(_0x11b2f1);},'eWgUS':_0x93704(0x249),'DUFcw':_0x93704(0x1eb),'ypbOy':_0x93704(0x1f2),'Yxcqd':_0x93704(0x24a),'vitec':'user_killed'};PerformanceTester[_0x93704(0x239)](PerformanceEvents[_0x93704(0x21f)]),this[_0x93704(0x2bf)]['info'](_0x153503[_0x93704(0x27c)]);try{if(!this[_0x93704(0x210)])throw new Error(_0x153503[_0x93704(0x269)]);!this[_0x93704(0x2db)]&&this[_0x93704(0x2bf)][_0x93704(0x1fb)](_0x153503[_0x93704(0x2cb)]);const _0x3ce03a=new messages[(_0x93704(0x20e))]();this[_0x93704(0x2bf)]['debug'](_0x93704(0x212)+JSON[_0x93704(0x282)](_0x17e390)),_0x3ce03a[_0x93704(0x230)](this[_0x93704(0x210)]),_0x3ce03a[_0x93704(0x27f)](_0x2c24fc),_0x3ce03a[_0x93704(0x21d)](_0x17e390?_0x17e390:null),_0x3ce03a[_0x93704(0x2a6)](_0x17e390?_0x153503[_0x93704(0x234)]:null),_0x3ce03a[_0x93704(0x21c)](_0x17e390?0x1:0x0);const _0x2d8194=await new Promise((_0xd1eb8c,_0x1fc8b9)=>{const _0x1321b0=_0x93704,_0x24821a={'rkvLX':function(_0x44a9f5,_0x4a29bc){const _0x47a977=a72_0x3dcb;return _0x153503[_0x47a977(0x22b)](_0x44a9f5,_0x4a29bc);},'HqcMV':_0x153503[_0x1321b0(0x21b)]};this[_0x1321b0(0x2db)][_0x1321b0(0x2b0)](_0x3ce03a,(_0x15d824,_0x2136bb)=>{const _0x3c0315=_0x1321b0;if(_0x15d824){this[_0x3c0315(0x2bf)][_0x3c0315(0x2bd)]('StopBinSession\x20error:\x20'+_0x15d824[_0x3c0315(0x296)]),_0x24821a['rkvLX'](_0x1fc8b9,_0x15d824),PerformanceTester[_0x3c0315(0x2d9)](PerformanceEvents[_0x3c0315(0x21f)],![],util['format'](_0x15d824));return;}this[_0x3c0315(0x2bf)]['info'](_0x24821a['HqcMV']),PerformanceTester[_0x3c0315(0x2d9)](PerformanceEvents['SDK_CLI_ON_STOP']),_0x24821a[_0x3c0315(0x213)](_0xd1eb8c,_0x2136bb);});});return this[_0x93704(0x2bf)][_0x93704(0x233)]('stop-bin-session\x20response:\x20'+util[_0x93704(0x25e)](_0x2d8194)),_0x2d8194;}catch(_0x3b5e41){PerformanceTester[_0x93704(0x2d9)](PerformanceEvents[_0x93704(0x21f)],![],util[_0x93704(0x25e)](_0x3b5e41)),this['logger'][_0x93704(0x2bd)]('Error\x20in\x20stopBinSession:\x20'+util[_0x93704(0x25e)](_0x3b5e41));}}async[a72_0x4e3b96(0x265)](_0x2abe0e){const _0x39f7f3=a72_0x4e3b96,_0x44acb1={'HuJdg':function(_0x23e170,_0x3966ad){return _0x23e170(_0x3966ad);},'WKrgz':_0x39f7f3(0x279),'mZciM':_0x39f7f3(0x24f),'WdetK':_0x39f7f3(0x24a)};PerformanceTester[_0x39f7f3(0x239)](PerformanceEvents[_0x39f7f3(0x246)]),this[_0x39f7f3(0x2bf)][_0x39f7f3(0x1fb)](_0x44acb1[_0x39f7f3(0x1e8)]);try{!this[_0x39f7f3(0x2db)]&&this['logger'][_0x39f7f3(0x1fb)](_0x44acb1[_0x39f7f3(0x207)]);const _0x30f09a=new messages['PlaywrightConfigRequest']();return _0x30f09a[_0x39f7f3(0x230)](this[_0x39f7f3(0x210)]),_0x30f09a[_0x39f7f3(0x274)](JSON[_0x39f7f3(0x282)](_0x2abe0e)),new Promise((_0x2379d2,_0x1fcbd2)=>{const _0x598feb=_0x39f7f3;this[_0x598feb(0x2db)][_0x598feb(0x250)](_0x30f09a,(_0x30fe16,_0x1e790e)=>{const _0x52c7d8=_0x598feb;if(_0x30fe16){this[_0x52c7d8(0x2bf)][_0x52c7d8(0x2bd)](_0x52c7d8(0x2b5)+_0x30fe16[_0x52c7d8(0x296)]),_0x44acb1[_0x52c7d8(0x228)](_0x1fcbd2,_0x30fe16),PerformanceTester[_0x52c7d8(0x2d9)](PerformanceEvents[_0x52c7d8(0x246)],![],util[_0x52c7d8(0x25e)](_0x30fe16));return;}this[_0x52c7d8(0x2bf)][_0x52c7d8(0x1fb)](_0x44acb1[_0x52c7d8(0x226)]),PerformanceTester[_0x52c7d8(0x2d9)](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT']),_0x44acb1[_0x52c7d8(0x228)](_0x2379d2,_0x1e790e);});});}catch(_0x106ee8){PerformanceTester[_0x39f7f3(0x2d9)](PerformanceEvents[_0x39f7f3(0x246)],![],util['format'](_0x106ee8)),this[_0x39f7f3(0x2bf)][_0x39f7f3(0x2bd)](_0x39f7f3(0x1f1)+util[_0x39f7f3(0x25e)](_0x106ee8));throw _0x106ee8;}}async[a72_0x4e3b96(0x283)](_0x2cee1e){const _0xe77743=a72_0x4e3b96,_0x25bb96={'mMKld':function(_0x218087,_0x2e1392){return _0x218087(_0x2e1392);},'BtuJZ':_0xe77743(0x25b),'rPKEJ':function(_0x52656a,_0x38df36){return _0x52656a(_0x38df36);},'ILLIN':_0xe77743(0x29d),'ZdTSk':'utf-8'};this['logger'][_0xe77743(0x1fb)](_0x25bb96[_0xe77743(0x277)]);try{const _0x501282=Buffer['from'](JSON[_0xe77743(0x282)](_0x2cee1e[_0xe77743(0x231)]),_0x25bb96[_0xe77743(0x259)]),_0x551a8e=new messages['AccessibilityConfigRequest'](),_0x39dcfb=CLIUtils[_0xe77743(0x258)](),_0xcb5583=_0x39dcfb[_0xe77743(0x254)],_0x3a8de0=_0x39dcfb[_0xe77743(0x27e)];return _0x551a8e['setBinSessionId'](this['binSessionId']),_0x551a8e[_0xe77743(0x267)](0x0),_0x551a8e['setFrameworkName'](_0xcb5583),_0x551a8e[_0xe77743(0x256)](_0x3a8de0),_0x551a8e[_0xe77743(0x1f6)](_0x2cee1e['hubUrl']),_0x551a8e[_0xe77743(0x1ea)](_0x501282),new Promise((_0x2af6ac,_0x793c83)=>{const _0xfa0fbe=_0xe77743;this[_0xfa0fbe(0x2db)]['accessibilityConfig'](_0x551a8e,(_0x290630,_0x2b272a)=>{const _0x45e3f8=_0xfa0fbe;if(_0x290630){this[_0x45e3f8(0x2bf)]['error'](_0x45e3f8(0x2bb)+_0x290630[_0x45e3f8(0x296)]),_0x25bb96[_0x45e3f8(0x2a1)](_0x793c83,_0x290630);return;}this[_0x45e3f8(0x2bf)][_0x45e3f8(0x1fb)](_0x25bb96[_0x45e3f8(0x2c6)]),_0x25bb96[_0x45e3f8(0x260)](_0x2af6ac,_0x2b272a);});});}catch(_0x3d631d){this['logger'][_0xe77743(0x2bd)](_0xe77743(0x2c0)+util['format'](_0x3d631d));}}async[a72_0x4e3b96(0x2cf)](_0x224861){const _0x2a57af=a72_0x4e3b96,_0x23d717={'WqjCH':function(_0x2d3b95,_0x1861f5){return _0x2d3b95(_0x1861f5);},'BYfwq':_0x2a57af(0x2d7),'zNcCi':_0x2a57af(0x292),'gzfNn':_0x2a57af(0x24a)};this[_0x2a57af(0x2bf)][_0x2a57af(0x1fb)](_0x23d717[_0x2a57af(0x1e6)]);try{!this['client']&&this[_0x2a57af(0x2bf)][_0x2a57af(0x1fb)](_0x23d717[_0x2a57af(0x289)]);const {platformIndex:_0x4862c1,testFrameworkName:_0x1dfd5e,testFrameworkVersion:_0x598a54,testFrameworkState:_0x42cc6d,testHookState:_0x49227d,testUuid:_0x2b5b9f,automationSession:_0x481ad8,capabilities:_0x3af30a,executionContext:_0x77efe}=_0x224861,_0x49e607=new messages[(_0x2a57af(0x20f))]();_0x49e607[_0x2a57af(0x230)](this[_0x2a57af(0x210)]),_0x49e607[_0x2a57af(0x267)](_0x4862c1),_0x49e607[_0x2a57af(0x270)](_0x1dfd5e),_0x49e607['setTestFrameworkVersion'](_0x598a54),_0x49e607['setTestFrameworkState'](_0x42cc6d),_0x49e607[_0x2a57af(0x257)](_0x49227d),_0x49e607[_0x2a57af(0x288)](_0x2b5b9f);const _0x54279b=new messages[(_0x2a57af(0x20f))][(_0x2a57af(0x23a))]();_0x54279b[_0x2a57af(0x2d6)](_0x481ad8[_0x2a57af(0x22a)]),_0x54279b[_0x2a57af(0x2ae)](_0x481ad8['frameworkName']),_0x54279b[_0x2a57af(0x256)](_0x481ad8[_0x2a57af(0x29e)]),_0x54279b[_0x2a57af(0x262)](_0x481ad8[_0x2a57af(0x20d)]),_0x54279b[_0x2a57af(0x229)](_0x481ad8['ref']),_0x54279b[_0x2a57af(0x1f6)](_0x481ad8[_0x2a57af(0x240)]),_0x49e607['addAutomationSessions'](_0x54279b),_0x49e607['setCapabilities'](_0x3af30a);const _0x2cbc6f=new messages[(_0x2a57af(0x2b9))]();return _0x2cbc6f[_0x2a57af(0x1ed)](_0x77efe[_0x2a57af(0x23b)]),_0x2cbc6f[_0x2a57af(0x2c2)](_0x77efe[_0x2a57af(0x22c)]),_0x2cbc6f[_0x2a57af(0x28f)](_0x77efe[_0x2a57af(0x2aa)]),_0x49e607[_0x2a57af(0x1f9)](_0x2cbc6f),new Promise((_0x154a19,_0x311d42)=>{const _0x319ac2=_0x2a57af;this[_0x319ac2(0x2db)]['testSessionEvent'](_0x49e607,(_0x4d9e15,_0xd72c05)=>{const _0xd2cfab=_0x319ac2;if(_0x4d9e15){this[_0xd2cfab(0x2bf)][_0xd2cfab(0x2bd)](_0xd2cfab(0x227)+_0x4d9e15['message']),_0x23d717[_0xd2cfab(0x25c)](_0x311d42,_0x4d9e15);return;}this[_0xd2cfab(0x2bf)][_0xd2cfab(0x1fb)](_0x23d717['BYfwq']),_0x23d717[_0xd2cfab(0x25c)](_0x154a19,_0xd72c05);});});}catch(_0xe9c82){this[_0x2a57af(0x2bf)][_0x2a57af(0x2bd)](_0x2a57af(0x200)+util['format'](_0xe9c82));throw _0xe9c82;}}async[a72_0x4e3b96(0x290)](_0x4e29c7){const _0x17095e=a72_0x4e3b96,_0x4c9f90={'HRZty':function(_0x94d92f,_0x4f7bf5){return _0x94d92f(_0x4f7bf5);},'aDwyl':_0x17095e(0x293),'SXrEp':function(_0x2bff60,_0x2514bb){return _0x2bff60(_0x2514bb);},'iPNuf':_0x17095e(0x2bc),'XgkMb':_0x17095e(0x24a)};this[_0x17095e(0x2bf)][_0x17095e(0x1fb)](_0x4c9f90[_0x17095e(0x24d)]);try{!this[_0x17095e(0x2db)]&&this[_0x17095e(0x2bf)][_0x17095e(0x1fb)](_0x4c9f90[_0x17095e(0x1e7)]);const {platfromIndex:_0x24fea9,testFrameworkName:_0x41ac9a,testFrameworkVersion:_0x3c36f4,testFrameworkState:_0x13f0d9,hookState:_0x19eba3,startedAt:_0x2c9f98,endedAt:_0x2edd07,uuid:_0xf5c3aa,eventJson:_0x552f7d,executionContext:_0x38c483}=_0x4e29c7,_0x2c8aa2=new messages[(_0x17095e(0x26e))]();_0x2c8aa2[_0x17095e(0x230)](this[_0x17095e(0x210)]),_0x2c8aa2[_0x17095e(0x267)](_0x24fea9),_0x2c8aa2[_0x17095e(0x270)](_0x41ac9a),_0x2c8aa2[_0x17095e(0x1f4)](_0x3c36f4),_0x2c8aa2['setTestFrameworkState'](_0x13f0d9),_0x2c8aa2[_0x17095e(0x257)](_0x19eba3),_0x2c8aa2[_0x17095e(0x2d2)](_0x2c9f98),_0x2c8aa2[_0x17095e(0x2a9)](_0x2edd07),_0x2c8aa2[_0x17095e(0x2b8)](_0xf5c3aa),_0x2c8aa2[_0x17095e(0x1fa)](_0x552f7d);const _0x45bb9e=new messages[(_0x17095e(0x2b9))]();return _0x45bb9e[_0x17095e(0x1ed)](_0x38c483['processId']),_0x45bb9e['setThreadId'](_0x38c483['threadId']),_0x45bb9e['setHash'](_0x38c483['hash']),_0x2c8aa2[_0x17095e(0x1f9)](_0x45bb9e),new Promise((_0x5999ac,_0x5e810e)=>{const _0x139acf=_0x17095e;this[_0x139acf(0x2db)]['testFrameworkEvent'](_0x2c8aa2,(_0x2c5556,_0xf80980)=>{const _0xb8fb6b=_0x139acf;if(_0x2c5556){this['logger'][_0xb8fb6b(0x2bd)](_0xb8fb6b(0x237)+_0x2c5556[_0xb8fb6b(0x296)]),_0x4c9f90['HRZty'](_0x5e810e,_0x2c5556);return;}this['logger'][_0xb8fb6b(0x1fb)](_0x4c9f90[_0xb8fb6b(0x2a3)]),_0x4c9f90['SXrEp'](_0x5999ac,_0xf80980);});});}catch(_0x547f82){this[_0x17095e(0x2bf)][_0x17095e(0x2bd)](_0x17095e(0x25d)+util[_0x17095e(0x25e)](_0x547f82));throw _0x547f82;}}async['driverInit'](_0x125e22){const _0x370137=a72_0x4e3b96,_0x156380={'YzPMs':function(_0x196eab,_0xbecdfe){return _0x196eab(_0xbecdfe);},'PRiNf':_0x370137(0x222),'dcrsQ':'Sending\x20DriverInit','ALovo':_0x370137(0x24a)};this[_0x370137(0x2bf)]['info'](_0x156380['dcrsQ']);try{!this['client']&&this[_0x370137(0x2bf)][_0x370137(0x1fb)](_0x156380[_0x370137(0x255)]);const {platformIndex:_0x3e408e,ref:_0x231def,userInputParams:_0x174940}=_0x125e22,_0x41fc18=new messages['DriverInitRequest']();return _0x41fc18[_0x370137(0x230)](this['binSessionId']),_0x41fc18[_0x370137(0x267)](_0x3e408e),_0x41fc18['setRef'](_0x231def),_0x41fc18[_0x370137(0x2b6)](_0x174940),new Promise((_0x395cf4,_0x6f5653)=>{const _0x322070=_0x370137;this[_0x322070(0x2db)][_0x322070(0x2d4)](_0x41fc18,(_0x13e64a,_0x3f2e54)=>{const _0x39160a=_0x322070;if(_0x13e64a){this['logger'][_0x39160a(0x2bd)](_0x39160a(0x251)+_0x13e64a[_0x39160a(0x296)]),_0x156380[_0x39160a(0x28d)](_0x6f5653,_0x13e64a);return;}this['logger'][_0x39160a(0x1fb)](_0x156380[_0x39160a(0x1f3)]),_0x156380[_0x39160a(0x28d)](_0x395cf4,_0x3f2e54);});});}catch(_0x47ab90){this[_0x370137(0x2bf)][_0x370137(0x2bd)](_0x370137(0x1fc)+util[_0x370137(0x25e)](_0x47ab90));throw _0x47ab90;}}async[a72_0x4e3b96(0x2dc)](_0x222b54){const _0x1ad551=a72_0x4e3b96,_0x52794f={'jVXLj':function(_0x2c2619,_0x10cee8){return _0x2c2619===_0x10cee8;},'XrklT':function(_0x3b713b,_0x2c952b){return _0x3b713b(_0x2c952b);},'CBYMF':'LogCreatedEvent\x20request\x20successful','inTjL':_0x1ad551(0x247),'hVuyO':_0x1ad551(0x24a)};this[_0x1ad551(0x2bf)]['info'](_0x52794f[_0x1ad551(0x286)]);try{!this[_0x1ad551(0x2db)]&&this[_0x1ad551(0x2bf)][_0x1ad551(0x1fb)](_0x52794f[_0x1ad551(0x202)]);const {platformIndex:_0x5bdc70,logs:_0x3f69b2}=_0x222b54,_0x26f4d7=new messages['LogCreatedEventRequest']();_0x26f4d7['setBinSessionId'](this['binSessionId']),_0x26f4d7[_0x1ad551(0x267)](_0x5bdc70);const _0x64a672=_0x222b54[_0x1ad551(0x2c8)],_0x47779d=_0x222b54[_0x1ad551(0x273)],_0x141177=_0x222b54[_0x1ad551(0x2ba)];return _0x3f69b2[_0x1ad551(0x2ad)](_0x3b7af2=>{const _0x42b2d1=_0x1ad551,_0x46f0da=new messages[(_0x42b2d1(0x1f8))][(_0x42b2d1(0x285))]();_0x46f0da[_0x42b2d1(0x270)](_0x64a672),_0x46f0da[_0x42b2d1(0x1f4)](_0x47779d),_0x46f0da[_0x42b2d1(0x278)](_0x141177),_0x46f0da[_0x42b2d1(0x266)](_0x3b7af2['timestamp']),_0x46f0da[_0x42b2d1(0x2b8)](_0x3b7af2[_0x42b2d1(0x245)]),_0x46f0da[_0x42b2d1(0x295)](_0x3b7af2[_0x42b2d1(0x29f)]),_0x52794f[_0x42b2d1(0x211)](_0x3b7af2[_0x42b2d1(0x1f0)],PLAYWRIGHT_TRACE_LOGS)?(_0x46f0da[_0x42b2d1(0x2b8)](_0x3b7af2[_0x42b2d1(0x215)]),_0x46f0da[_0x42b2d1(0x2b3)](new TextEncoder()['encode'](JSON[_0x42b2d1(0x282)](_0x3b7af2)))):_0x46f0da['setMessage'](new TextEncoder()[_0x42b2d1(0x23f)](_0x3b7af2[_0x42b2d1(0x296)])),_0x46f0da[_0x42b2d1(0x235)](_0x3b7af2['level']),_0x46f0da[_0x42b2d1(0x219)](_0x3b7af2?.[_0x42b2d1(0x291)]||''),_0x46f0da[_0x42b2d1(0x287)](_0x3b7af2?.[_0x42b2d1(0x209)]||''),_0x46f0da[_0x42b2d1(0x252)](_0x3b7af2?.[_0x42b2d1(0x2ac)]||0x0),_0x46f0da['setAttachmentType'](_0x3b7af2?.[_0x42b2d1(0x1f0)]||''),_0x26f4d7[_0x42b2d1(0x206)](_0x46f0da);}),new Promise((_0x2daae2,_0x253c65)=>{const _0x171cb1=_0x1ad551,_0x57bafb={'xVosT':function(_0x5f47b7,_0x3b028e){const _0x5d23f3=a72_0x3dcb;return _0x52794f[_0x5d23f3(0x221)](_0x5f47b7,_0x3b028e);},'Iznvv':_0x52794f[_0x171cb1(0x23e)]};this[_0x171cb1(0x2db)]['logCreatedEvent'](_0x26f4d7,(_0x2f79b9,_0x1bb19c)=>{const _0x420222=_0x171cb1;if(_0x2f79b9){this[_0x420222(0x2bf)][_0x420222(0x2bd)](_0x420222(0x218)+_0x2f79b9[_0x420222(0x296)]),_0x57bafb['xVosT'](_0x253c65,_0x2f79b9);return;}this['logger'][_0x420222(0x1fb)](_0x57bafb['Iznvv']),_0x57bafb[_0x420222(0x22d)](_0x2daae2,_0x1bb19c);});});}catch(_0x400123){this[_0x1ad551(0x2bf)][_0x1ad551(0x2bd)](_0x1ad551(0x2ab)+util['format'](_0x400123));throw _0x400123;}}async['fetchDriverExecuteParamsEvent'](_0x291f08,_0x146117,_0x426f57){const _0x32b31b=a72_0x4e3b96,_0x3bf117={'hpUAS':function(_0x48e5b9,_0x47e5e3){return _0x48e5b9(_0x47e5e3);},'YxAtS':_0x32b31b(0x244)};this[_0x32b31b(0x2bf)][_0x32b31b(0x233)]('FetchDriverExecuteParamsEvent:\x20Calling\x20with\x20binSessionId='+_0x291f08+_0x32b31b(0x22e)+_0x146117+_0x32b31b(0x204)+_0x426f57);try{if(!this[_0x32b31b(0x2db)])return this['logger']['debug'](_0x3bf117[_0x32b31b(0x2a0)]),null;const _0x249024=new messages[(_0x32b31b(0x1ec))]();return _0x249024[_0x32b31b(0x230)](_0x291f08),_0x249024[_0x32b31b(0x297)](_0x146117),_0x249024[_0x32b31b(0x21e)](_0x426f57),await new Promise(_0x4c9644=>{const _0x590f89=_0x32b31b,_0xd6acc={'KtupC':function(_0x111e92,_0x4f572a){return _0x3bf117['hpUAS'](_0x111e92,_0x4f572a);}};this[_0x590f89(0x2db)][_0x590f89(0x232)](_0x249024,(_0x54fed1,_0x28d946)=>{const _0x49de37=_0x590f89;if(_0x54fed1){this[_0x49de37(0x2bf)]['debug'](_0x49de37(0x1ff)+_0x54fed1),_0xd6acc[_0x49de37(0x2d1)](_0x4c9644,null);return;}this['logger']['debug'](_0x49de37(0x2ce)+(_0x28d946['getSuccess']&&_0x28d946[_0x49de37(0x224)]())),_0xd6acc[_0x49de37(0x2d1)](_0x4c9644,_0x28d946);});});}catch(_0xc022c3){return this['logger']['debug'](_0x32b31b(0x1ff)+_0xc022c3),null;}}[a72_0x4e3b96(0x238)](){const _0x1e4fa3=a72_0x4e3b96;return this[_0x1e4fa3(0x2db)];}[a72_0x4e3b96(0x299)](){const _0x129190=a72_0x4e3b96;return this[_0x129190(0x205)];}}module[a72_0x4e3b96(0x21a)]=GrpcClient;function a72_0x5da3(){const _0x4b59a2=['BROWSERSTACK_CLI_BIN_SESSION_ID','LogCreatedEvent\x20error:\x20','setFileName','exports','eWgUS','setExitCode','setExitSignal','setScriptName','SDK_CLI_ON_STOP','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','XrklT','DriverInit\x20request\x20successful','cHgoL','getSuccess','path','WKrgz','TestSessionEvent\x20error:\x20','HuJdg','setRef','provider','yLREs','threadId','xVosT',',\x20product=','kSgII','setBinSessionId','launchcaps','fetchDriverExecuteParamsEvent','debug','vitec','setLevel','attWs','TestFrameworkEvent\x20error:\x20','getClient','start','AutomationSession','processId','startBinSession','StartBinSession\x20error:\x20','CBYMF','encode','hubUrl','Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20','SDK_CONNECT_BIN_SESSION','KpBcW','No\x20gRPC\x20client\x20initialized.','uuid','SDK_AUTOMATION_FRAMEWORK_INIT','Sending\x20LogCreatedEvent','init','StopBinSession\x20successful','No\x20gRPC\x20client\x20not\x20initialized.','push','../../helpers/performance/performance-tester.js','iPNuf','../../helpers/logger.js','Getting\x20Playwright\x20config','playwrightConfig','DriverInit\x20error:\x20','setFileSize','rotHl','name','ALovo','setFrameworkVersion','setTestHookState','getAutomationFrameworkDetail','ZdTSk','GrpcClient','AccessibilityConfig\x20request\x20successful','WqjCH','Error\x20in\x20TestFrameworkEvent:\x20','format','MYBbf','rPKEJ','WydXy','setFrameworkSessionId','set','1376728hwyEIs','getPlaywrightConfig','setTimestamp','setPlatformIndex','cwd','ypbOy','util','233150vhmeID','Connected\x20to\x20gRPC\x20server\x20at\x20','Error\x20in\x20startBinSession:\x20','TestFrameworkEventRequest','ConnectBinSessionRequest','setTestFrameworkName','5338260aJIpLz','DiPhl','testFrameworkVersion','setConfig','@grpc/grpc-js','Uaacq','ILLIN','setTestFrameworkState','PlaywrightConfig\x20request\x20successful','Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20','mgYZb','DUFcw','DZlpg','version','setCustomMetadata','450422nsRPTY','browserstack.yml','stringify','getAccessibilityConfig','Connecting\x20bin\x20session','LogEntry','inTjL','setFilePath','setTestUuid','gzfNn','setPathProject','Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address','setCliArgs:\x20cliArgs=','YzPMs','2305604jXUBnB','setHash','testFrameworkEvent','fileName','Sending\x20TestSessionEvent','TestFrameworkEvent\x20request\x20successful','../../helpers/performance/constants','setKind','message','setProduct','./browserstackCLI.js','getChannel','1788468ILkjbx','getFrameworkVersionsMap','resolve','Getting\x20Accessibility\x20config','frameworkVersion','kind','YxAtS','mMKld','SDKClient','aDwyl','getEnvVarsMap','\x20and\x20listen\x20address:\x20','setExitReason','SKwFT','connectBinSession','setEndedAt','hash','Error\x20in\x20LogCreatedEvent:\x20','fileSize','forEach','setFrameworkName','../../helpers/helper.js','stopBinSession','setSdkLanguage','XxyWM','setMessage','jRlvN','PlaywrightConfig\x20error:\x20','setUserInputParams','../../../generated/sdk_grpc_pb','setUuid','ExecutionContext','testFrameworkState','AccessibilityConfig\x20error:\x20','Sending\x20TestFrameworkEvent','error','getSdkLanguage','logger','Error\x20in\x20getAccessibilityConfig:\x20','listenAddress','setThreadId','StartBinSession\x20successful','getSdkVersion','1840794onhiwP','BtuJZ','entries','testFrameworkName','jmmGj','ConnectBinSession\x20error:\x20','Yxcqd','setSdkVersion','30wMhxfo','FetchDriverExecuteParamsEvent\x20successful\x20-\x20success=','testSessionEvent','setLanguage','KtupC','setStartedAt','grpc.keepalive_time_ms','driverInit','slice','setProvider','TestSessionEvent\x20request\x20successful','startBinSession:\x20Calling\x20startBinSession','end','setPathConfig','client','logCreatedEvent','zNcCi','XgkMb','mZciM','null','setCapabilities','Stopping\x20bin\x20session','FetchDriverExecuteParamsEventRequest','setProcessId','BROWSERSTACK_CONFIG_FILE_PATH','browserstackConfigFile','attachment_type','Error\x20in\x20getPlaywrightConfig:\x20','Missing\x20binSessionId','PRiNf','setTestFrameworkVersion','SDK_START_BIN_SESSION','setHubUrl','env','LogCreatedEventRequest','setExecutionContext','setEventJson','info','Error\x20in\x20DriverInit:\x20','WHgsb','wGziU','Error\x20in\x20FetchDriverExecuteParamsEvent:\x20','Error\x20in\x20TestSessionEvent:\x20','Error\x20in\x20connectBinSession:\x20','hVuyO','NwzZf',',\x20scriptName=','channel','addLogs','WdetK','createInsecure','filePath','credentials','ConnectBinSession\x20successful','getInstance','frameworkSessionId','StopBinSessionRequest','TestSessionEventRequest','binSessionId','jVXLj','Stopping\x20signal\x20','rkvLX','\x20listenAddr:\x20','test_run_uuid','addFrameworks'];a72_0x5da3=function(){return _0x4b59a2;};return a72_0x5da3();}