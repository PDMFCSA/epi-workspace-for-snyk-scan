const a67_0x59e98e=a67_0x5c8f;(function(_0x2f12c4,_0x10cf9d){const _0xed6a69=a67_0x5c8f,_0x327d02=_0x2f12c4();while(!![]){try{const _0x1e4d23=parseInt(_0xed6a69(0x18e))/0x1*(-parseInt(_0xed6a69(0x1db))/0x2)+-parseInt(_0xed6a69(0x157))/0x3*(parseInt(_0xed6a69(0x1f3))/0x4)+-parseInt(_0xed6a69(0x239))/0x5*(parseInt(_0xed6a69(0x20b))/0x6)+parseInt(_0xed6a69(0x1e7))/0x7+parseInt(_0xed6a69(0x16a))/0x8*(-parseInt(_0xed6a69(0x1fc))/0x9)+parseInt(_0xed6a69(0x1fe))/0xa*(parseInt(_0xed6a69(0x1f7))/0xb)+parseInt(_0xed6a69(0x229))/0xc;if(_0x1e4d23===_0x10cf9d)break;else _0x327d02['push'](_0x327d02['shift']());}catch(_0x5773ee){_0x327d02['push'](_0x327d02['shift']());}}}(a67_0xf88a,0x7b6ce));function a67_0x5c8f(_0x4a54d8,_0xb36397){const _0xf88aa5=a67_0xf88a();return a67_0x5c8f=function(_0x5c8f41,_0x157fa7){_0x5c8f41=_0x5c8f41-0x151;let _0x5ced03=_0xf88aa5[_0x5c8f41];return _0x5ced03;},a67_0x5c8f(_0x4a54d8,_0xb36397);}function a67_0xf88a(){const _0x5978e8=['gfjQI','17594232BEgoRV','BjQOo','testFrameworkEvent','\x20listenAddr:\x20','StopBinSession\x20error:\x20',',\x20parsedConfig=','setUserInputParams','forEach','setUuid','attachment_type','Error\x20in\x20TestSessionEvent:\x20','binSessionId','irHwq','DriverInitRequest','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','SDK_START_BIN_SESSION','15CmTZVk','level','setEventJson','info','channel','setHubUrl','setLevel','3cdMCOs','TestFrameworkEventRequest','grpc.keepalive_time_ms','setFrameworkVersion','AutomationSession','setProcessId','browserstackConfigFile','push','start','StopBinSession\x20successful','setCapabilities','SDK_CONNECT_BIN_SESSION','cwd','setFrameworkSessionId','setExecutionContext','setTestUuid','qySSX','getBrowserstackCliConfig','cMsrD','664xWOunE','stop-bin-session\x20response:\x20','LUUFv','timestamp','@grpc/grpc-js','TestSessionEvent\x20request\x20successful','Error\x20in\x20connectBinSession:\x20','setFilePath','debug','hash','fileSize','setThreadId','Sending\x20DriverInit','stringify','testFrameworkState','Getting\x20Accessibility\x20config','Wjvzt','format','end','setRef','setTestFrameworkVersion','getSdkLanguage','listenAddress','BROWSERSTACK_CONFIG_FILE_PATH','qETXl','RPQGV','AccessibilityConfig\x20error:\x20','ueZHE','setLanguage','setTestHookState','setTimestamp','UFjKy','setPathConfig','setHash','AccessibilityConfigRequest','QfNhp','921887syoyWW','getAutomationFrameworkDetail','tdDEn','connectBinSession','message','wJbTK','exports','tBGUQ','dvaoi','SDK_AUTOMATION_FRAMEWORK_INIT','TestSessionEventRequest','Missing\x20binSessionId','setPlatformIndex','ConnectBinSessionRequest','PlaywrightConfigRequest','wrTzr','logger','error','createInsecure','getInstance','BROWSERSTACK_CLI_BIN_SESSION_ID','startBinSession','qsoTU','argv','fOPmW','yMvKG','Error\x20in\x20LogCreatedEvent:\x20','eSaLr','stopBinSession','Error\x20in\x20DriverInit:\x20','./browserstackCLI.js','processId','getEnvVarsMap','jkvTM','No\x20gRPC\x20client\x20not\x20initialized.','setExitReason','UjmQl','testFrameworkVersion','addAutomationSessions','browserstack.yml','Channel','DriverInit\x20error:\x20','StartBinSession\x20successful','AYmHu','user_killed','ref','Error\x20in\x20TestFrameworkEvent:\x20','DriverInit\x20request\x20successful','setSdkLanguage','frameworkVersion','Error\x20in\x20getAccessibilityConfig:\x20','setExitSignal','clrpY','slice','ukhkq','setFileSize','PlaywrightConfig\x20request\x20successful','gQrWR','init','env','nBRhb','GrpcClient','credentials','TestSessionEvent\x20error:\x20','client','getClient','WWBeq','setFrameworkName','../../../generated/sdk_grpc_pb','NrjJV','../../helpers/classLogger.js','filePath','Error\x20in\x20stopBinSession:\x20','startBinSession:\x20Calling\x20startBinSession','eRIDP','ConnectBinSession\x20successful','getSdkVersion','2zWWiTK','TestFrameworkEvent\x20error:\x20','HbYEe','hubUrl','LKopL','NOOJJ','LogCreatedEvent\x20error:\x20','getPlaywrightConfig','setAttachmentType','connect','setCliArgsList','setStartedAt','7077077HYQlXv','setBinSessionId','setExitCode','Connected\x20to\x20gRPC\x20server\x20at\x20','setTestFrameworkName','eRorY','dQjeQ','\x20and\x20listen\x20address:\x20','SDK_CLI_ON_STOP','ExecutionContext','SDKClient','threadId','903068IRkLRJ','getChannel','Sending\x20TestSessionEvent','accessibilityConfig','469348vbQUjL','IAvbX','testSessionEvent','PlaywrightConfig\x20error:\x20','name','41976vQelKZ','connect-bin-session\x20response:\x20','120kDXjGg','Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address','getFrameworkVersionsMap','launchcaps','YqEOn','StartBinSessionRequest','Sending\x20TestFrameworkEvent','addFrameworks','winstonLogger','TestFrameworkEvent\x20request\x20successful','logCreatedEvent','set','setKind','1897794YtVJue','./cliUtils.js','setSdkVersion','setPathProject','WTPnU','../../helpers/logger.js','iuIpy','encode','uhZEo','Getting\x20Playwright\x20config','vndMC','NTMXc','rNKjp','setTestFrameworkState','frameworkName','YNhox','Ttxcq','test_run_uuid','entries','setFrameworksList','setMessage','kind','playwrightConfig','uuid','LogCreatedEvent\x20request\x20successful','Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20','StopBinSessionRequest','../utils/constants','fJwCL'];a67_0xf88a=function(){return _0x5978e8;};return a67_0xf88a();}const util=require('util'),logger=require(a67_0x59e98e(0x210))[a67_0x59e98e(0x206)],grpc=require(a67_0x59e98e(0x16e)),services=require(a67_0x59e98e(0x1d2)),messages=require('../../../generated/sdk-messages_pb'),path=require('path'),CLIUtils=require(a67_0x59e98e(0x20c)),{createClassLogger}=require(a67_0x59e98e(0x1d4)),PerformanceTester=require('../../helpers/performance/performance-tester.js'),{EVENTS:PerformanceEvents}=require('../../helpers/performance/constants'),{PLAYWRIGHT_TRACE_LOGS}=require(a67_0x59e98e(0x226)),helper=require('../../helpers/helper.js');class GrpcClient{static #instance=null;[a67_0x59e98e(0x234)]=null;[a67_0x59e98e(0x180)]=null;[a67_0x59e98e(0x154)]=null;['client']=null;[a67_0x59e98e(0x19e)]=createClassLogger(a67_0x59e98e(0x1cb));constructor(){}static[a67_0x59e98e(0x1a1)](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}[a67_0x59e98e(0x1c8)](_0xeb936d){const _0x4351a0=a67_0x59e98e,_0x527a7c={};_0x527a7c[_0x4351a0(0x17a)]=function(_0xe778cd,_0x1bb577){return _0xe778cd||_0x1bb577;};const _0xbe2561=_0x527a7c,{id:_0x22e148,listen:_0x9f456e}=_0xeb936d;if(_0xbe2561[_0x4351a0(0x17a)](!_0x22e148,!_0x9f456e))throw new Error('Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20'+_0x22e148+_0x4351a0(0x22c)+_0x9f456e);this[_0x4351a0(0x234)]=_0x22e148,this['listenAddress']=_0x9f456e,process[_0x4351a0(0x1c9)][_0x4351a0(0x1a2)]=this[_0x4351a0(0x234)],process[_0x4351a0(0x1c9)]['BROWSERSTACK_CLI_BIN_LISTEN_ADDR']=this['listenAddress'],this[_0x4351a0(0x1e4)](),this['logger']['info'](_0x4351a0(0x224)+this[_0x4351a0(0x234)]+_0x4351a0(0x1ee)+this[_0x4351a0(0x180)]);}[a67_0x59e98e(0x1e4)](){const _0x12063b=a67_0x59e98e,_0x3a3f65={};_0x3a3f65[_0x12063b(0x182)]=_0x12063b(0x1ff);const _0x1d1128=_0x3a3f65;let _0x363079=this[_0x12063b(0x180)];!_0x363079&&(_0x363079=process['env'][_0x12063b(0x237)]);!this[_0x12063b(0x234)]&&(this[_0x12063b(0x234)]=this[_0x12063b(0x234)]||process[_0x12063b(0x1c9)][_0x12063b(0x1a2)]);if(!_0x363079)throw new Error(_0x1d1128['qETXl']);const _0x1e2e94={};_0x1e2e94[_0x12063b(0x159)]=0x2710,this[_0x12063b(0x154)]=new grpc[(_0x12063b(0x1b6))](_0x363079,grpc[_0x12063b(0x1cc)][_0x12063b(0x1a0)](),_0x1e2e94),this[_0x12063b(0x1ce)]=new services[(_0x12063b(0x1f1))](_0x363079,grpc['credentials'][_0x12063b(0x1a0)]()),this[_0x12063b(0x19e)]['info'](_0x12063b(0x1ea)+_0x363079);}async['startBinSession'](){const _0x74f653=a67_0x59e98e,_0x554869={'eRIDP':function(_0x46c4e7,_0x57fc9a){return _0x46c4e7!==_0x57fc9a;},'wJbTK':function(_0x1726d8,_0xbbacc6){return _0x1726d8(_0xbbacc6);},'dvaoi':_0x74f653(0x1b8),'YNhox':function(_0xddc75b,_0x5a2a84){return _0xddc75b(_0x5a2a84);},'tdDEn':_0x74f653(0x1d7),'uhZEo':_0x74f653(0x1b0),'gfjQI':_0x74f653(0x1ac),'UDxuf':function(_0xded174,_0x280570){return _0xded174 instanceof _0x280570;},'vndMC':function(_0xc21934,_0x344991){return _0xc21934===_0x344991;},'EOdLw':_0x74f653(0x15d),'hikTx':_0x74f653(0x1b5),'LUUFv':'null','tBGUQ':function(_0x18e75c,_0x3c610a){return _0x18e75c||_0x3c610a;}};PerformanceTester['start'](PerformanceEvents[_0x74f653(0x238)]),this[_0x74f653(0x19e)][_0x74f653(0x153)](_0x554869[_0x74f653(0x190)]);try{!this[_0x74f653(0x1ce)]&&this[_0x74f653(0x19e)]['info'](_0x554869[_0x74f653(0x213)]);const _0x3c329a=CLIUtils[_0x74f653(0x1da)](),_0x35b13d=CLIUtils[_0x74f653(0x18f)](),_0x29bb90=_0x35b13d[_0x74f653(0x1fb)],_0x8c93b5=_0x35b13d['version'],_0x521ca1=new messages[(_0x74f653(0x203))]();_0x521ca1['setBinSessionId'](this[_0x74f653(0x234)]),_0x521ca1[_0x74f653(0x1be)](CLIUtils[_0x74f653(0x17f)]()),_0x521ca1[_0x74f653(0x20d)](_0x3c329a),_0x521ca1[_0x74f653(0x20e)](process[_0x74f653(0x163)]());const _0xe90e8=_0x521ca1[_0x74f653(0x1ae)]();Object[_0x74f653(0x21d)](process[_0x74f653(0x1c9)])[_0x74f653(0x230)](([_0xda99ae,_0x433105])=>{const _0x1ea207=_0x74f653;_0x554869[_0x1ea207(0x1d8)](_0x433105,undefined)&&_0x554869['eRIDP'](_0x433105,null)&&_0xe90e8[_0x1ea207(0x209)](_0xda99ae,_0x433105);});const _0x26d62c=_0x554869[_0x74f653(0x193)](require,_0x554869[_0x74f653(0x228)]),_0xc749fa=_0x26d62c[_0x74f653(0x1a1)]()[_0x74f653(0x168)](),_0x45a545=[];_0xc749fa&&_0x554869['UDxuf'](_0xc749fa,Map)&&_0xc749fa[_0x74f653(0x230)]((_0x45a00d,_0x1cfb17)=>{const _0x472180=_0x74f653;_0x45a545[_0x472180(0x15e)](_0x1cfb17+'='+_0x45a00d);});const _0x19ef63=process[_0x74f653(0x1a5)][_0x74f653(0x1c3)](0x2);_0x521ca1[_0x74f653(0x1e5)]([..._0x19ef63,..._0x45a545]);let _0x5514d0=null;if(_0xc749fa)for(const [_0x2cbf7a,_0x5a0e14]of _0xc749fa){if(_0x554869[_0x74f653(0x215)](_0x2cbf7a,_0x554869['EOdLw'])){_0x5514d0=_0x5a0e14;break;}}if(_0x5514d0)_0x521ca1[_0x74f653(0x18a)](_0x5514d0);else process['env'][_0x74f653(0x181)]?_0x521ca1[_0x74f653(0x18a)](process[_0x74f653(0x1c9)][_0x74f653(0x181)]):_0x521ca1[_0x74f653(0x18a)](path['resolve'](process[_0x74f653(0x163)](),_0x554869['hikTx']));this[_0x74f653(0x19e)][_0x74f653(0x153)]('setCliArgs:\x20cliArgs='+JSON[_0x74f653(0x177)](_0x19ef63)+_0x74f653(0x22e)+(_0xc749fa?JSON[_0x74f653(0x177)]([..._0xc749fa]):_0x554869[_0x74f653(0x16c)])),_0x521ca1[_0x74f653(0x186)](CLIUtils[_0x74f653(0x17f)]()),_0x521ca1['setTestFramework'](_0x29bb90);const _0x7fe534=_0x521ca1[_0x74f653(0x200)]();return _0x7fe534[_0x74f653(0x209)](_0x29bb90,_0x554869[_0x74f653(0x195)](_0x8c93b5,'')),_0x521ca1[_0x74f653(0x205)](_0x29bb90,_0x8c93b5),_0x521ca1[_0x74f653(0x21e)]([_0x29bb90]),new Promise((_0x393319,_0x593631)=>{const _0x58e5d5=_0x74f653;this[_0x58e5d5(0x1ce)][_0x58e5d5(0x1a3)](_0x521ca1,(_0x5849d6,_0x280f8d)=>{const _0x2737c3=_0x58e5d5;if(_0x5849d6){this['logger']['error']('StartBinSession\x20error:\x20'+_0x5849d6[_0x2737c3(0x192)]),_0x554869[_0x2737c3(0x193)](_0x593631,_0x5849d6),PerformanceTester[_0x2737c3(0x17c)](PerformanceEvents[_0x2737c3(0x238)],![],util[_0x2737c3(0x17b)](_0x5849d6));return;}this['logger'][_0x2737c3(0x153)](_0x554869[_0x2737c3(0x196)]),PerformanceTester[_0x2737c3(0x17c)](PerformanceEvents[_0x2737c3(0x238)]),_0x554869[_0x2737c3(0x21a)](_0x393319,_0x280f8d);});});}catch(_0x695d14){this[_0x74f653(0x19e)]['error']('Error\x20in\x20startBinSession:\x20'+util[_0x74f653(0x17b)](_0x695d14)),PerformanceTester[_0x74f653(0x17c)](PerformanceEvents[_0x74f653(0x238)],![],util[_0x74f653(0x17b)](_0x695d14));throw _0x695d14;}}async[a67_0x59e98e(0x191)](){const _0x452aa1=a67_0x59e98e,_0x5bbac9={'BjQOo':function(_0x5d7f99,_0x1e60f4){return _0x5d7f99(_0x1e60f4);},'NTMXc':_0x452aa1(0x1d9),'jkvTM':'Connecting\x20bin\x20session','RPQGV':_0x452aa1(0x1b0)};PerformanceTester[_0x452aa1(0x15f)](PerformanceEvents[_0x452aa1(0x162)]),this[_0x452aa1(0x19e)][_0x452aa1(0x153)](_0x5bbac9[_0x452aa1(0x1af)]);try{!this[_0x452aa1(0x1ce)]&&this['logger'][_0x452aa1(0x153)](_0x5bbac9[_0x452aa1(0x183)]);const _0x3e87c=new messages[(_0x452aa1(0x19b))]();_0x3e87c[_0x452aa1(0x1e8)](this[_0x452aa1(0x234)]);const _0x2d5d12=await new Promise((_0x39feb4,_0x465779)=>{const _0x4cc786=_0x452aa1,_0xc53d6a={'Ttxcq':function(_0x4a1bf4,_0x1950d3){const _0x1dc4a3=a67_0x5c8f;return _0x5bbac9[_0x1dc4a3(0x22a)](_0x4a1bf4,_0x1950d3);},'fJwCL':_0x5bbac9[_0x4cc786(0x216)]};this[_0x4cc786(0x1ce)][_0x4cc786(0x191)](_0x3e87c,(_0x4c29ae,_0xd830da)=>{const _0x388540=_0x4cc786;if(_0x4c29ae){this['logger'][_0x388540(0x19f)]('ConnectBinSession\x20error:\x20'+_0x4c29ae[_0x388540(0x192)]),_0xc53d6a['Ttxcq'](_0x465779,_0x4c29ae),PerformanceTester[_0x388540(0x17c)](PerformanceEvents[_0x388540(0x162)],![],util[_0x388540(0x17b)](_0x4c29ae));return;}this['logger'][_0x388540(0x153)](_0xc53d6a[_0x388540(0x227)]),PerformanceTester['end'](PerformanceEvents[_0x388540(0x162)]),_0xc53d6a[_0x388540(0x21b)](_0x39feb4,_0xd830da);});});return this[_0x452aa1(0x19e)][_0x452aa1(0x172)](_0x452aa1(0x1fd)+util[_0x452aa1(0x17b)](_0x2d5d12)),_0x2d5d12;}catch(_0xf47b02){PerformanceTester['end'](PerformanceEvents[_0x452aa1(0x162)],![],util[_0x452aa1(0x17b)](_0xf47b02)),this[_0x452aa1(0x19e)]['error'](_0x452aa1(0x170)+util[_0x452aa1(0x17b)](_0xf47b02));throw _0xf47b02;}}async[a67_0x59e98e(0x1aa)](_0x1f9935={},_0x4af653=null){const _0x16683d=a67_0x59e98e,_0x4938d8={'irHwq':function(_0x56b859,_0x4993bd){return _0x56b859(_0x4993bd);},'NrjJV':_0x16683d(0x160),'qySSX':'Stopping\x20bin\x20session','QRlJx':_0x16683d(0x199),'dduHt':'No\x20gRPC\x20client\x20not\x20initialized.','GIUmF':_0x16683d(0x1ba)};PerformanceTester[_0x16683d(0x15f)](PerformanceEvents['SDK_CLI_ON_STOP']),this[_0x16683d(0x19e)][_0x16683d(0x153)](_0x4938d8[_0x16683d(0x167)]);try{if(!this[_0x16683d(0x234)])throw new Error(_0x4938d8['QRlJx']);!this[_0x16683d(0x1ce)]&&this[_0x16683d(0x19e)][_0x16683d(0x153)](_0x4938d8['dduHt']);const _0x69f2ab=new messages[(_0x16683d(0x225))]();this[_0x16683d(0x19e)]['debug']('Stopping\x20signal\x20'+JSON['stringify'](_0x4af653)),_0x69f2ab[_0x16683d(0x1e8)](this[_0x16683d(0x234)]),_0x69f2ab['setCustomMetadata'](_0x1f9935),_0x69f2ab[_0x16683d(0x1c1)](_0x4af653?_0x4af653:null),_0x69f2ab[_0x16683d(0x1b1)](_0x4af653?_0x4938d8['GIUmF']:null),_0x69f2ab[_0x16683d(0x1e9)](_0x4af653?0x1:0x0);const _0x284f02=await new Promise((_0x5bfa3c,_0x527ac4)=>{const _0xda4826=_0x16683d;this[_0xda4826(0x1ce)][_0xda4826(0x1aa)](_0x69f2ab,(_0x35d7cb,_0x1caf17)=>{const _0x179feb=_0xda4826;if(_0x35d7cb){this['logger'][_0x179feb(0x19f)](_0x179feb(0x22d)+_0x35d7cb[_0x179feb(0x192)]),_0x4938d8[_0x179feb(0x235)](_0x527ac4,_0x35d7cb),PerformanceTester[_0x179feb(0x17c)](PerformanceEvents[_0x179feb(0x1ef)],![],util['format'](_0x35d7cb));return;}this['logger'][_0x179feb(0x153)](_0x4938d8[_0x179feb(0x1d3)]),PerformanceTester['end'](PerformanceEvents[_0x179feb(0x1ef)]),_0x4938d8[_0x179feb(0x235)](_0x5bfa3c,_0x1caf17);});});return this['logger'][_0x16683d(0x172)](_0x16683d(0x16b)+util[_0x16683d(0x17b)](_0x284f02)),_0x284f02;}catch(_0x112e26){PerformanceTester['end'](PerformanceEvents['SDK_CLI_ON_STOP'],![],util[_0x16683d(0x17b)](_0x112e26)),this['logger'][_0x16683d(0x19f)](_0x16683d(0x1d6)+util[_0x16683d(0x17b)](_0x112e26));}}async[a67_0x59e98e(0x1e2)](_0x1bef17){const _0x5efe8c=a67_0x59e98e,_0xef6140={'clrpY':function(_0x35cf1f,_0x19faf4){return _0x35cf1f(_0x19faf4);},'IoIwn':_0x5efe8c(0x1c6),'fEYGp':_0x5efe8c(0x214),'WWBeq':'No\x20gRPC\x20client\x20not\x20initialized.'};PerformanceTester[_0x5efe8c(0x15f)](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT']),this[_0x5efe8c(0x19e)][_0x5efe8c(0x153)](_0xef6140['fEYGp']);try{!this['client']&&this[_0x5efe8c(0x19e)]['info'](_0xef6140[_0x5efe8c(0x1d0)]);const _0x103f69=new messages[(_0x5efe8c(0x19c))]();return _0x103f69[_0x5efe8c(0x1e8)](this['binSessionId']),_0x103f69['setConfig'](JSON[_0x5efe8c(0x177)](_0x1bef17)),new Promise((_0x5a72ae,_0x46421f)=>{const _0x9a3ac6=_0x5efe8c;this['client'][_0x9a3ac6(0x221)](_0x103f69,(_0x2ddb6c,_0x58ae5f)=>{const _0x555e60=_0x9a3ac6;if(_0x2ddb6c){this['logger'][_0x555e60(0x19f)](_0x555e60(0x1fa)+_0x2ddb6c['message']),_0xef6140[_0x555e60(0x1c2)](_0x46421f,_0x2ddb6c),PerformanceTester[_0x555e60(0x17c)](PerformanceEvents[_0x555e60(0x197)],![],util[_0x555e60(0x17b)](_0x2ddb6c));return;}this[_0x555e60(0x19e)][_0x555e60(0x153)](_0xef6140['IoIwn']),PerformanceTester[_0x555e60(0x17c)](PerformanceEvents[_0x555e60(0x197)]),_0xef6140[_0x555e60(0x1c2)](_0x5a72ae,_0x58ae5f);});});}catch(_0x149898){PerformanceTester[_0x5efe8c(0x17c)](PerformanceEvents[_0x5efe8c(0x197)],![],util[_0x5efe8c(0x17b)](_0x149898)),this['logger'][_0x5efe8c(0x19f)]('Error\x20in\x20getPlaywrightConfig:\x20'+util[_0x5efe8c(0x17b)](_0x149898));throw _0x149898;}}async['getAccessibilityConfig'](_0x17a92f){const _0x51aceb=a67_0x59e98e,_0x4f3e58={'QfNhp':function(_0x44796c,_0x124ef1){return _0x44796c(_0x124ef1);},'gQrWR':'AccessibilityConfig\x20request\x20successful','qQmGN':_0x51aceb(0x179),'iuIpy':'utf-8'};this['logger'][_0x51aceb(0x153)](_0x4f3e58['qQmGN']);try{const _0x19cf45=Buffer['from'](JSON['stringify'](_0x17a92f[_0x51aceb(0x201)]),_0x4f3e58[_0x51aceb(0x211)]),_0x4432b8=new messages[(_0x51aceb(0x18c))](),_0x552a38=CLIUtils[_0x51aceb(0x18f)](),_0x299c93=_0x552a38['name'],_0x4b26ad=_0x552a38['version'];return _0x4432b8['setBinSessionId'](this['binSessionId']),_0x4432b8[_0x51aceb(0x19a)](0x0),_0x4432b8[_0x51aceb(0x1d1)](_0x299c93),_0x4432b8[_0x51aceb(0x15a)](_0x4b26ad),_0x4432b8[_0x51aceb(0x155)](_0x17a92f[_0x51aceb(0x1de)]),_0x4432b8[_0x51aceb(0x161)](_0x19cf45),new Promise((_0x44204e,_0x26f751)=>{const _0x317329=_0x51aceb;this['client'][_0x317329(0x1f6)](_0x4432b8,(_0x3adbc2,_0x525500)=>{const _0x59112f=_0x317329;if(_0x3adbc2){this[_0x59112f(0x19e)][_0x59112f(0x19f)](_0x59112f(0x184)+_0x3adbc2[_0x59112f(0x192)]),_0x4f3e58[_0x59112f(0x18d)](_0x26f751,_0x3adbc2);return;}this[_0x59112f(0x19e)][_0x59112f(0x153)](_0x4f3e58[_0x59112f(0x1c7)]),_0x4f3e58[_0x59112f(0x18d)](_0x44204e,_0x525500);});});}catch(_0x2b94aa){this[_0x51aceb(0x19e)][_0x51aceb(0x19f)](_0x51aceb(0x1c0)+util[_0x51aceb(0x17b)](_0x2b94aa));}}async[a67_0x59e98e(0x1f9)](_0x55c418){const _0x59eb3f=a67_0x59e98e,_0x340d1e={'YqEOn':function(_0x143ccd,_0x4958d3){return _0x143ccd(_0x4958d3);},'LKopL':_0x59eb3f(0x16f),'AYmHu':_0x59eb3f(0x1f5),'ueZHE':'No\x20gRPC\x20client\x20not\x20initialized.'};this[_0x59eb3f(0x19e)][_0x59eb3f(0x153)](_0x340d1e[_0x59eb3f(0x1b9)]);try{!this[_0x59eb3f(0x1ce)]&&this['logger']['info'](_0x340d1e[_0x59eb3f(0x185)]);const {platformIndex:_0x368227,testFrameworkName:_0xec7e42,testFrameworkVersion:_0x50e545,testFrameworkState:_0x14be32,testHookState:_0x32bbb1,testUuid:_0x912c4d,automationSession:_0x347e25,capabilities:_0x2603ca,executionContext:_0x1f770f}=_0x55c418,_0x1fa233=new messages[(_0x59eb3f(0x198))]();_0x1fa233[_0x59eb3f(0x1e8)](this[_0x59eb3f(0x234)]),_0x1fa233['setPlatformIndex'](_0x368227),_0x1fa233[_0x59eb3f(0x1eb)](_0xec7e42),_0x1fa233[_0x59eb3f(0x17e)](_0x50e545),_0x1fa233[_0x59eb3f(0x218)](_0x14be32),_0x1fa233[_0x59eb3f(0x187)](_0x32bbb1),_0x1fa233[_0x59eb3f(0x166)](_0x912c4d);const _0x4d174a=new messages['TestSessionEventRequest'][(_0x59eb3f(0x15b))]();_0x4d174a['setProvider'](_0x347e25['provider']),_0x4d174a[_0x59eb3f(0x1d1)](_0x347e25[_0x59eb3f(0x219)]),_0x4d174a[_0x59eb3f(0x15a)](_0x347e25[_0x59eb3f(0x1bf)]),_0x4d174a[_0x59eb3f(0x164)](_0x347e25['frameworkSessionId']),_0x4d174a[_0x59eb3f(0x17d)](_0x347e25[_0x59eb3f(0x1bb)]),_0x4d174a[_0x59eb3f(0x155)](_0x347e25[_0x59eb3f(0x1de)]),_0x1fa233[_0x59eb3f(0x1b4)](_0x4d174a),_0x1fa233['setCapabilities'](_0x2603ca);const _0x4c07f2=new messages[(_0x59eb3f(0x1f0))]();return _0x4c07f2[_0x59eb3f(0x15c)](_0x1f770f[_0x59eb3f(0x1ad)]),_0x4c07f2[_0x59eb3f(0x175)](_0x1f770f[_0x59eb3f(0x1f2)]),_0x4c07f2[_0x59eb3f(0x18b)](_0x1f770f['hash']),_0x1fa233['setExecutionContext'](_0x4c07f2),new Promise((_0x584499,_0x29779d)=>{const _0x2511f6=_0x59eb3f,_0x32339c={'fOPmW':function(_0x409f78,_0x25b6cb){const _0x3df0b3=a67_0x5c8f;return _0x340d1e[_0x3df0b3(0x202)](_0x409f78,_0x25b6cb);},'NOOJJ':_0x340d1e[_0x2511f6(0x1df)],'cMsrD':function(_0x55609a,_0x42ad6e){const _0x40378b=_0x2511f6;return _0x340d1e[_0x40378b(0x202)](_0x55609a,_0x42ad6e);}};this[_0x2511f6(0x1ce)]['testSessionEvent'](_0x1fa233,(_0x5194b7,_0x1c6652)=>{const _0x472c74=_0x2511f6;if(_0x5194b7){this['logger'][_0x472c74(0x19f)](_0x472c74(0x1cd)+_0x5194b7[_0x472c74(0x192)]),_0x32339c[_0x472c74(0x1a6)](_0x29779d,_0x5194b7);return;}this[_0x472c74(0x19e)]['info'](_0x32339c[_0x472c74(0x1e0)]),_0x32339c[_0x472c74(0x169)](_0x584499,_0x1c6652);});});}catch(_0x38f2ca){this[_0x59eb3f(0x19e)]['error'](_0x59eb3f(0x233)+util[_0x59eb3f(0x17b)](_0x38f2ca));throw _0x38f2ca;}}async[a67_0x59e98e(0x22b)](_0x1c6ded){const _0x471c73=a67_0x59e98e,_0x19e6fd={'eRorY':function(_0x5094e7,_0x576878){return _0x5094e7(_0x576878);},'UjmQl':_0x471c73(0x207),'qsoTU':_0x471c73(0x204),'GaWvo':_0x471c73(0x1b0)};this[_0x471c73(0x19e)]['info'](_0x19e6fd[_0x471c73(0x1a4)]);try{!this[_0x471c73(0x1ce)]&&this[_0x471c73(0x19e)][_0x471c73(0x153)](_0x19e6fd['GaWvo']);const {platfromIndex:_0x1e29f0,testFrameworkName:_0x44961c,testFrameworkVersion:_0x106d61,testFrameworkState:_0x15c936,hookState:_0x13b81c,startedAt:_0x110766,endedAt:_0x25b1e9,uuid:_0x1f047a,eventJson:_0x24a4f0,executionContext:_0x19d521}=_0x1c6ded,_0x4431f6=new messages[(_0x471c73(0x158))]();_0x4431f6[_0x471c73(0x1e8)](this[_0x471c73(0x234)]),_0x4431f6[_0x471c73(0x19a)](_0x1e29f0),_0x4431f6[_0x471c73(0x1eb)](_0x44961c),_0x4431f6[_0x471c73(0x17e)](_0x106d61),_0x4431f6['setTestFrameworkState'](_0x15c936),_0x4431f6[_0x471c73(0x187)](_0x13b81c),_0x4431f6[_0x471c73(0x1e6)](_0x110766),_0x4431f6['setEndedAt'](_0x25b1e9),_0x4431f6['setUuid'](_0x1f047a),_0x4431f6[_0x471c73(0x152)](_0x24a4f0);const _0x412c91=new messages['ExecutionContext']();return _0x412c91[_0x471c73(0x15c)](_0x19d521[_0x471c73(0x1ad)]),_0x412c91[_0x471c73(0x175)](_0x19d521[_0x471c73(0x1f2)]),_0x412c91[_0x471c73(0x18b)](_0x19d521[_0x471c73(0x173)]),_0x4431f6[_0x471c73(0x165)](_0x412c91),new Promise((_0x4f782b,_0x136779)=>{const _0x5cbd12=_0x471c73;this['client'][_0x5cbd12(0x22b)](_0x4431f6,(_0x121b00,_0x26cbd0)=>{const _0x442148=_0x5cbd12;if(_0x121b00){this[_0x442148(0x19e)]['error'](_0x442148(0x1dc)+_0x121b00[_0x442148(0x192)]),_0x19e6fd[_0x442148(0x1ec)](_0x136779,_0x121b00);return;}this[_0x442148(0x19e)][_0x442148(0x153)](_0x19e6fd[_0x442148(0x1b2)]),_0x19e6fd[_0x442148(0x1ec)](_0x4f782b,_0x26cbd0);});});}catch(_0x1d2481){this['logger'][_0x471c73(0x19f)](_0x471c73(0x1bc)+util[_0x471c73(0x17b)](_0x1d2481));throw _0x1d2481;}}async['driverInit'](_0x19d0e1){const _0x43c2c3=a67_0x59e98e,_0x52ce0a={'eSaLr':function(_0x31209e,_0x55234f){return _0x31209e(_0x55234f);},'HbYEe':_0x43c2c3(0x1bd),'ukhkq':_0x43c2c3(0x176),'gqieh':_0x43c2c3(0x1b0)};this[_0x43c2c3(0x19e)]['info'](_0x52ce0a[_0x43c2c3(0x1c4)]);try{!this['client']&&this[_0x43c2c3(0x19e)][_0x43c2c3(0x153)](_0x52ce0a['gqieh']);const {platformIndex:_0x2b0692,ref:_0x36d5dd,userInputParams:_0x3c8806}=_0x19d0e1,_0x5e57fa=new messages[(_0x43c2c3(0x236))]();return _0x5e57fa['setBinSessionId'](this[_0x43c2c3(0x234)]),_0x5e57fa[_0x43c2c3(0x19a)](_0x2b0692),_0x5e57fa[_0x43c2c3(0x17d)](_0x36d5dd),_0x5e57fa[_0x43c2c3(0x22f)](_0x3c8806),new Promise((_0x5175bb,_0x26a289)=>{const _0x2d8599=_0x43c2c3,_0x5d34ac={'ZXswV':function(_0x4a43b4,_0x4d11aa){const _0x5670fe=a67_0x5c8f;return _0x52ce0a[_0x5670fe(0x1a9)](_0x4a43b4,_0x4d11aa);},'nBRhb':_0x52ce0a[_0x2d8599(0x1dd)],'wrTzr':function(_0x137850,_0x13fdca){const _0x562940=_0x2d8599;return _0x52ce0a[_0x562940(0x1a9)](_0x137850,_0x13fdca);}};this[_0x2d8599(0x1ce)]['driverInit'](_0x5e57fa,(_0x2a29d0,_0x5365e2)=>{const _0x271226=_0x2d8599;if(_0x2a29d0){this['logger'][_0x271226(0x19f)](_0x271226(0x1b7)+_0x2a29d0[_0x271226(0x192)]),_0x5d34ac['ZXswV'](_0x26a289,_0x2a29d0);return;}this[_0x271226(0x19e)][_0x271226(0x153)](_0x5d34ac[_0x271226(0x1ca)]),_0x5d34ac[_0x271226(0x19d)](_0x5175bb,_0x5365e2);});});}catch(_0x49b678){this[_0x43c2c3(0x19e)][_0x43c2c3(0x19f)](_0x43c2c3(0x1ab)+util[_0x43c2c3(0x17b)](_0x49b678));throw _0x49b678;}}async[a67_0x59e98e(0x208)](_0x40fd01){const _0x5da331=a67_0x59e98e,_0x56f50d={'UFjKy':function(_0x46e543,_0x1a525e){return _0x46e543===_0x1a525e;},'rNKjp':function(_0xd3aeb3,_0x5dbbea){return _0xd3aeb3(_0x5dbbea);},'IAvbX':_0x5da331(0x223),'yMvKG':'Sending\x20LogCreatedEvent','evsQe':'No\x20gRPC\x20client\x20not\x20initialized.'};this[_0x5da331(0x19e)][_0x5da331(0x153)](_0x56f50d[_0x5da331(0x1a7)]);try{!this[_0x5da331(0x1ce)]&&this[_0x5da331(0x19e)][_0x5da331(0x153)](_0x56f50d['evsQe']);const {platformIndex:_0x296bf9,logs:_0x12b357}=_0x40fd01,_0xa22a04=new messages['LogCreatedEventRequest']();_0xa22a04[_0x5da331(0x1e8)](this[_0x5da331(0x234)]),_0xa22a04['setPlatformIndex'](_0x296bf9);const _0xe164a7=_0x40fd01['testFrameworkName'],_0x413f98=_0x40fd01[_0x5da331(0x1b3)],_0x5654d5=_0x40fd01[_0x5da331(0x178)];return _0x12b357['forEach'](_0x7eadae=>{const _0x36e267=_0x5da331,_0x36820b=new messages['LogCreatedEventRequest']['LogEntry']();_0x36820b['setTestFrameworkName'](_0xe164a7),_0x36820b['setTestFrameworkVersion'](_0x413f98),_0x36820b[_0x36e267(0x218)](_0x5654d5),_0x36820b[_0x36e267(0x188)](_0x7eadae[_0x36e267(0x16d)]),_0x36820b[_0x36e267(0x231)](_0x7eadae[_0x36e267(0x222)]),_0x36820b[_0x36e267(0x20a)](_0x7eadae[_0x36e267(0x220)]),_0x56f50d[_0x36e267(0x189)](_0x7eadae['attachment_type'],PLAYWRIGHT_TRACE_LOGS)?(_0x36820b[_0x36e267(0x231)](_0x7eadae[_0x36e267(0x21c)]),_0x36820b[_0x36e267(0x21f)](new TextEncoder()[_0x36e267(0x212)](JSON[_0x36e267(0x177)](_0x7eadae)))):_0x36820b[_0x36e267(0x21f)](new TextEncoder()[_0x36e267(0x212)](_0x7eadae[_0x36e267(0x192)])),_0x36820b[_0x36e267(0x156)](_0x7eadae[_0x36e267(0x151)]),_0x36820b['setFileName'](_0x7eadae?.['fileName']||''),_0x36820b[_0x36e267(0x171)](_0x7eadae?.[_0x36e267(0x1d5)]||''),_0x36820b[_0x36e267(0x1c5)](_0x7eadae?.[_0x36e267(0x174)]||0x0),_0x36820b[_0x36e267(0x1e3)](_0x7eadae?.[_0x36e267(0x232)]||''),_0xa22a04['addLogs'](_0x36820b);}),new Promise((_0xb1c4b0,_0x3b906e)=>{const _0x2f30f7=_0x5da331,_0x186ab7={'dQjeQ':function(_0x3a31b6,_0x3fc422){const _0x12585f=a67_0x5c8f;return _0x56f50d[_0x12585f(0x217)](_0x3a31b6,_0x3fc422);},'WTPnU':_0x56f50d[_0x2f30f7(0x1f8)]};this['client'][_0x2f30f7(0x208)](_0xa22a04,(_0x4ef612,_0x282441)=>{const _0x505ad3=_0x2f30f7;if(_0x4ef612){this[_0x505ad3(0x19e)]['error'](_0x505ad3(0x1e1)+_0x4ef612[_0x505ad3(0x192)]),_0x186ab7[_0x505ad3(0x1ed)](_0x3b906e,_0x4ef612);return;}this[_0x505ad3(0x19e)][_0x505ad3(0x153)](_0x186ab7[_0x505ad3(0x20f)]),_0x186ab7[_0x505ad3(0x1ed)](_0xb1c4b0,_0x282441);});});}catch(_0x4d1348){this[_0x5da331(0x19e)]['error'](_0x5da331(0x1a8)+util[_0x5da331(0x17b)](_0x4d1348));throw _0x4d1348;}}[a67_0x59e98e(0x1cf)](){const _0x2d73ca=a67_0x59e98e;return this[_0x2d73ca(0x1ce)];}[a67_0x59e98e(0x1f4)](){const _0x2499f5=a67_0x59e98e;return this[_0x2499f5(0x154)];}}module[a67_0x59e98e(0x194)]=GrpcClient;