const a67_0x48b111=a67_0x58f5;(function(_0x59ff94,_0x449a73){const _0x20c357=a67_0x58f5,_0x3a615d=_0x59ff94();while(!![]){try{const _0x1f5814=parseInt(_0x20c357(0x2b1))/0x1+-parseInt(_0x20c357(0x2c7))/0x2*(-parseInt(_0x20c357(0x214))/0x3)+-parseInt(_0x20c357(0x25e))/0x4+-parseInt(_0x20c357(0x2c4))/0x5*(parseInt(_0x20c357(0x297))/0x6)+-parseInt(_0x20c357(0x2cc))/0x7*(-parseInt(_0x20c357(0x261))/0x8)+-parseInt(_0x20c357(0x22f))/0x9+parseInt(_0x20c357(0x224))/0xa;if(_0x1f5814===_0x449a73)break;else _0x3a615d['push'](_0x3a615d['shift']());}catch(_0x407907){_0x3a615d['push'](_0x3a615d['shift']());}}}(a67_0x1b14,0x2ccda));const util=require(a67_0x48b111(0x216)),logger=require(a67_0x48b111(0x295))[a67_0x48b111(0x203)],grpc=require('@grpc/grpc-js'),services=require(a67_0x48b111(0x2a0)),messages=require(a67_0x48b111(0x296)),path=require(a67_0x48b111(0x2a9)),CLIUtils=require(a67_0x48b111(0x1ff)),{createClassLogger}=require(a67_0x48b111(0x22b)),PerformanceTester=require(a67_0x48b111(0x29a)),{EVENTS:PerformanceEvents}=require(a67_0x48b111(0x284)),{PLAYWRIGHT_TRACE_LOGS}=require(a67_0x48b111(0x280)),helper=require(a67_0x48b111(0x2a4));class GrpcClient{static #instance=null;['binSessionId']=null;['listenAddress']=null;['channel']=null;['client']=null;[a67_0x48b111(0x2a6)]=createClassLogger(a67_0x48b111(0x253));constructor(){}static[a67_0x48b111(0x26a)](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}['init'](_0x3d2c8e){const _0x3a2d03=a67_0x48b111,_0x3f6973={};_0x3f6973[_0x3a2d03(0x2bf)]=function(_0x5c4f72,_0x36599e){return _0x5c4f72||_0x36599e;};const _0x13ff59=_0x3f6973,{id:_0x3a6fa7,listen:_0x1e5957}=_0x3d2c8e;if(_0x13ff59[_0x3a2d03(0x2bf)](!_0x3a6fa7,!_0x1e5957))throw new Error(_0x3a2d03(0x20d)+_0x3a6fa7+_0x3a2d03(0x278)+_0x1e5957);this[_0x3a2d03(0x2c8)]=_0x3a6fa7,this[_0x3a2d03(0x2ab)]=_0x1e5957,process[_0x3a2d03(0x21a)][_0x3a2d03(0x2da)]=this[_0x3a2d03(0x2c8)],process[_0x3a2d03(0x21a)][_0x3a2d03(0x23a)]=this['listenAddress'],this['connect'](),this[_0x3a2d03(0x2a6)]['info'](_0x3a2d03(0x20c)+this[_0x3a2d03(0x2c8)]+'\x20and\x20listen\x20address:\x20'+this['listenAddress']);}[a67_0x48b111(0x215)](){const _0x19c591=a67_0x48b111,_0x3783cc={};_0x3783cc[_0x19c591(0x27d)]='Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address';const _0x260ae4=_0x3783cc;let _0x48e4e9=this[_0x19c591(0x2ab)];!_0x48e4e9&&(_0x48e4e9=process[_0x19c591(0x21a)][_0x19c591(0x23a)]);!this[_0x19c591(0x2c8)]&&(this[_0x19c591(0x2c8)]=this[_0x19c591(0x2c8)]||process[_0x19c591(0x21a)]['BROWSERSTACK_CLI_BIN_SESSION_ID']);if(!_0x48e4e9)throw new Error(_0x260ae4['YZVfP']);const _0x43e150={};_0x43e150[_0x19c591(0x272)]=0x2710,this[_0x19c591(0x2aa)]=new grpc[(_0x19c591(0x27f))](_0x48e4e9,grpc['credentials'][_0x19c591(0x293)](),_0x43e150),this['client']=new services[(_0x19c591(0x24a))](_0x48e4e9,grpc['credentials'][_0x19c591(0x293)]()),this[_0x19c591(0x2a6)]['info'](_0x19c591(0x2b2)+_0x48e4e9);}async[a67_0x48b111(0x25c)](){const _0x2f7858=a67_0x48b111,_0x465d76={'SKmij':function(_0x3ffecf,_0x1a5ffe){return _0x3ffecf!==_0x1a5ffe;},'DXgNf':function(_0x4491ac,_0x1fc63c){return _0x4491ac(_0x1fc63c);},'YTIxg':_0x2f7858(0x219),'AocWq':_0x2f7858(0x252),'XYVxG':_0x2f7858(0x2c0),'aGjQg':'./browserstackCLI.js','BxdpQ':function(_0x5c1a3c,_0x52a6b1){return _0x5c1a3c instanceof _0x52a6b1;},'dRQCv':function(_0x508bc6,_0x49e55b){return _0x508bc6===_0x49e55b;},'mybpt':'browserstackConfigFile','Gbxio':_0x2f7858(0x286),'bEyFe':_0x2f7858(0x23d),'BhGxV':function(_0x19e60a,_0x2e1784){return _0x19e60a||_0x2e1784;}};PerformanceTester[_0x2f7858(0x2c2)](PerformanceEvents['SDK_START_BIN_SESSION']),this[_0x2f7858(0x2a6)][_0x2f7858(0x213)](_0x465d76[_0x2f7858(0x291)]);try{!this[_0x2f7858(0x28f)]&&this['logger'][_0x2f7858(0x213)](_0x465d76[_0x2f7858(0x28b)]);const _0x4de857=CLIUtils[_0x2f7858(0x25b)](),_0x1a7fc3=CLIUtils['getAutomationFrameworkDetail'](),_0x3efc5d=_0x1a7fc3[_0x2f7858(0x239)],_0x5c8d6c=_0x1a7fc3[_0x2f7858(0x2d1)],_0x1a6f68=new messages['StartBinSessionRequest']();_0x1a6f68['setBinSessionId'](this[_0x2f7858(0x2c8)]),_0x1a6f68[_0x2f7858(0x28c)](CLIUtils[_0x2f7858(0x1fe)]()),_0x1a6f68[_0x2f7858(0x242)](_0x4de857),_0x1a6f68[_0x2f7858(0x2bd)](process[_0x2f7858(0x210)]());const _0x563ed7=_0x1a6f68['getEnvVarsMap']();Object['entries'](process[_0x2f7858(0x21a)])['forEach'](([_0x43b8b2,_0x301540])=>{const _0x1d174d=_0x2f7858;_0x465d76[_0x1d174d(0x231)](_0x301540,undefined)&&_0x465d76[_0x1d174d(0x231)](_0x301540,null)&&_0x563ed7[_0x1d174d(0x2c3)](_0x43b8b2,_0x301540);});const _0x5ab8c2=_0x465d76['DXgNf'](require,_0x465d76['aGjQg']),_0x41f5a6=_0x5ab8c2[_0x2f7858(0x26a)]()['getBrowserstackCliConfig'](),_0x12953f=[];_0x41f5a6&&_0x465d76[_0x2f7858(0x26e)](_0x41f5a6,Map)&&_0x41f5a6[_0x2f7858(0x298)]((_0x51a47e,_0x37afe5)=>{const _0x368510=_0x2f7858;_0x12953f[_0x368510(0x27a)](_0x37afe5+'='+_0x51a47e);});const _0x3310a8=process[_0x2f7858(0x2db)]['slice'](0x2);_0x1a6f68[_0x2f7858(0x29f)]([..._0x3310a8,..._0x12953f]);let _0x992fa=null;if(_0x41f5a6)for(const [_0x18c078,_0x1e6367]of _0x41f5a6){if(_0x465d76[_0x2f7858(0x2b5)](_0x18c078,_0x465d76[_0x2f7858(0x1fd)])){_0x992fa=_0x1e6367;break;}}if(_0x992fa)_0x1a6f68[_0x2f7858(0x1fa)](_0x992fa);else process['env'][_0x2f7858(0x2d4)]?_0x1a6f68[_0x2f7858(0x1fa)](process['env'][_0x2f7858(0x2d4)]):_0x1a6f68[_0x2f7858(0x1fa)](path['resolve'](process[_0x2f7858(0x210)](),_0x465d76[_0x2f7858(0x269)]));this[_0x2f7858(0x2a6)][_0x2f7858(0x213)](_0x2f7858(0x2b8)+JSON['stringify'](_0x3310a8)+_0x2f7858(0x2a1)+(_0x41f5a6?JSON['stringify']([..._0x41f5a6]):_0x465d76[_0x2f7858(0x2b9)])),_0x1a6f68[_0x2f7858(0x2cd)](CLIUtils[_0x2f7858(0x1fe)]()),_0x1a6f68[_0x2f7858(0x26c)](_0x3efc5d);const _0x2f3ca9=_0x1a6f68[_0x2f7858(0x2a2)]();return _0x2f3ca9[_0x2f7858(0x2c3)](_0x3efc5d,_0x465d76['BhGxV'](_0x5c8d6c,'')),_0x1a6f68[_0x2f7858(0x259)](_0x3efc5d,_0x5c8d6c),_0x1a6f68[_0x2f7858(0x2b7)]([_0x3efc5d]),new Promise((_0x2951c2,_0x1bab87)=>{const _0x277123=_0x2f7858,_0x3e6839={'PXCEO':function(_0x2f2459,_0x3e8b51){const _0x5934ee=a67_0x58f5;return _0x465d76[_0x5934ee(0x223)](_0x2f2459,_0x3e8b51);},'pudOk':_0x465d76['YTIxg']};this[_0x277123(0x28f)]['startBinSession'](_0x1a6f68,(_0x2bccdf,_0x1a5419)=>{const _0x4f69ba=_0x277123;if(_0x2bccdf){this[_0x4f69ba(0x2a6)]['error'](_0x4f69ba(0x294)+_0x2bccdf['message']),_0x3e6839[_0x4f69ba(0x204)](_0x1bab87,_0x2bccdf),PerformanceTester[_0x4f69ba(0x229)](PerformanceEvents['SDK_START_BIN_SESSION'],![],util[_0x4f69ba(0x24c)](_0x2bccdf));return;}this[_0x4f69ba(0x2a6)][_0x4f69ba(0x213)](_0x3e6839[_0x4f69ba(0x279)]),PerformanceTester[_0x4f69ba(0x229)](PerformanceEvents['SDK_START_BIN_SESSION']),_0x3e6839['PXCEO'](_0x2951c2,_0x1a5419);});});}catch(_0x2ba427){this[_0x2f7858(0x2a6)][_0x2f7858(0x243)](_0x2f7858(0x225)+util[_0x2f7858(0x24c)](_0x2ba427)),PerformanceTester[_0x2f7858(0x229)](PerformanceEvents[_0x2f7858(0x27c)],![],util[_0x2f7858(0x24c)](_0x2ba427));throw _0x2ba427;}}async[a67_0x48b111(0x2b3)](){const _0x5ba9b8=a67_0x48b111,_0x3acf8b={'JhIpN':function(_0xa6debb,_0x2a95a4){return _0xa6debb(_0x2a95a4);},'sjLYT':_0x5ba9b8(0x22e),'sztSR':_0x5ba9b8(0x274),'AMHJi':_0x5ba9b8(0x2c0)};PerformanceTester['start'](PerformanceEvents[_0x5ba9b8(0x2a5)]),this[_0x5ba9b8(0x2a6)]['info'](_0x3acf8b[_0x5ba9b8(0x22a)]);try{!this['client']&&this[_0x5ba9b8(0x2a6)][_0x5ba9b8(0x213)](_0x3acf8b[_0x5ba9b8(0x241)]);const _0x4b67d0=new messages['ConnectBinSessionRequest']();_0x4b67d0['setBinSessionId'](this['binSessionId']);const _0x56a1c8=await new Promise((_0x46f739,_0x54fbf3)=>{const _0x33b579=_0x5ba9b8,_0x2de214={'MujYe':function(_0x19ab3a,_0x3318bc){const _0x109c58=a67_0x58f5;return _0x3acf8b[_0x109c58(0x23b)](_0x19ab3a,_0x3318bc);},'qYmSI':_0x3acf8b[_0x33b579(0x246)]};this[_0x33b579(0x28f)][_0x33b579(0x2b3)](_0x4b67d0,(_0x5719a0,_0x52d475)=>{const _0x4f8a5c=_0x33b579;if(_0x5719a0){this['logger'][_0x4f8a5c(0x243)]('ConnectBinSession\x20error:\x20'+_0x5719a0[_0x4f8a5c(0x27e)]),_0x2de214['MujYe'](_0x54fbf3,_0x5719a0),PerformanceTester[_0x4f8a5c(0x229)](PerformanceEvents[_0x4f8a5c(0x2a5)],![],util['format'](_0x5719a0));return;}this[_0x4f8a5c(0x2a6)]['info'](_0x2de214[_0x4f8a5c(0x271)]),PerformanceTester['end'](PerformanceEvents['SDK_CONNECT_BIN_SESSION']),_0x2de214['MujYe'](_0x46f739,_0x52d475);});});return this['logger'][_0x5ba9b8(0x2d8)](_0x5ba9b8(0x1f3)+util['format'](_0x56a1c8)),_0x56a1c8;}catch(_0x26ce0e){PerformanceTester[_0x5ba9b8(0x229)](PerformanceEvents[_0x5ba9b8(0x2a5)],![],util[_0x5ba9b8(0x24c)](_0x26ce0e)),this[_0x5ba9b8(0x2a6)][_0x5ba9b8(0x243)](_0x5ba9b8(0x23e)+util['format'](_0x26ce0e));throw _0x26ce0e;}}async[a67_0x48b111(0x26f)](_0x282043={},_0x14e13e=null){const _0x398974=a67_0x48b111,_0x49037d={'BxXBJ':function(_0x67954,_0x46a9b4){return _0x67954(_0x46a9b4);},'fDlbM':_0x398974(0x289),'yNhWa':_0x398974(0x292),'tlKmO':_0x398974(0x21b),'mLenj':_0x398974(0x2c0),'yqbbe':_0x398974(0x287)};PerformanceTester['start'](PerformanceEvents[_0x398974(0x283)]),this[_0x398974(0x2a6)][_0x398974(0x213)](_0x49037d[_0x398974(0x2a3)]);try{if(!this['binSessionId'])throw new Error(_0x49037d['tlKmO']);!this[_0x398974(0x28f)]&&this[_0x398974(0x2a6)]['info'](_0x49037d[_0x398974(0x25a)]);const _0x1c79e1=new messages[(_0x398974(0x25d))]();this['logger']['debug'](_0x398974(0x2c9)+JSON[_0x398974(0x245)](_0x14e13e)),_0x1c79e1[_0x398974(0x24e)](this['binSessionId']),_0x1c79e1[_0x398974(0x2be)](_0x282043),_0x1c79e1['setExitSignal'](_0x14e13e?_0x14e13e:null),_0x1c79e1[_0x398974(0x23c)](_0x14e13e?_0x49037d[_0x398974(0x22d)]:null),_0x1c79e1[_0x398974(0x234)](_0x14e13e?0x1:0x0);const _0x36f0f=await new Promise((_0xd0e8d8,_0x289a37)=>{const _0x3f2e16=_0x398974;this[_0x3f2e16(0x28f)][_0x3f2e16(0x26f)](_0x1c79e1,(_0x64b903,_0x6f851f)=>{const _0x5688b8=_0x3f2e16;if(_0x64b903){this[_0x5688b8(0x2a6)][_0x5688b8(0x243)](_0x5688b8(0x282)+_0x64b903[_0x5688b8(0x27e)]),_0x49037d[_0x5688b8(0x2d5)](_0x289a37,_0x64b903),PerformanceTester[_0x5688b8(0x229)](PerformanceEvents['SDK_CLI_ON_STOP'],![],util['format'](_0x64b903));return;}this[_0x5688b8(0x2a6)][_0x5688b8(0x213)](_0x49037d[_0x5688b8(0x200)]),PerformanceTester['end'](PerformanceEvents[_0x5688b8(0x283)]),_0x49037d[_0x5688b8(0x2d5)](_0xd0e8d8,_0x6f851f);});});return this[_0x398974(0x2a6)]['debug']('stop-bin-session\x20response:\x20'+util[_0x398974(0x24c)](_0x36f0f)),_0x36f0f;}catch(_0x325b31){PerformanceTester['end'](PerformanceEvents[_0x398974(0x283)],![],util[_0x398974(0x24c)](_0x325b31)),this[_0x398974(0x2a6)]['error'](_0x398974(0x1fb)+util['format'](_0x325b31));}}async[a67_0x48b111(0x20a)](_0x47b90a){const _0x2b4df4=a67_0x48b111,_0xaf7f55={'PYWOp':function(_0x468a9b,_0x5c4dab){return _0x468a9b(_0x5c4dab);},'ejwKv':_0x2b4df4(0x2d9),'LAkHM':_0x2b4df4(0x255),'CkxJx':_0x2b4df4(0x2c0)};PerformanceTester[_0x2b4df4(0x2c2)](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT']),this['logger'][_0x2b4df4(0x213)](_0xaf7f55[_0x2b4df4(0x2b0)]);try{!this[_0x2b4df4(0x28f)]&&this['logger'][_0x2b4df4(0x213)](_0xaf7f55[_0x2b4df4(0x2d6)]);const _0x294fb1=new messages[(_0x2b4df4(0x23f))]();return _0x294fb1[_0x2b4df4(0x24e)](this[_0x2b4df4(0x2c8)]),_0x294fb1[_0x2b4df4(0x26d)](JSON[_0x2b4df4(0x245)](_0x47b90a)),new Promise((_0x90bc73,_0x2db78c)=>{const _0x4d74c9=_0x2b4df4,_0x209cfd={'KoJKQ':function(_0x3c3e49,_0x5c4268){const _0x37cf3a=a67_0x58f5;return _0xaf7f55[_0x37cf3a(0x218)](_0x3c3e49,_0x5c4268);},'fIWky':_0xaf7f55['ejwKv']};this[_0x4d74c9(0x28f)]['playwrightConfig'](_0x294fb1,(_0x2bb76c,_0x2fa4ac)=>{const _0x146d77=_0x4d74c9;if(_0x2bb76c){this[_0x146d77(0x2a6)]['error'](_0x146d77(0x1f5)+_0x2bb76c[_0x146d77(0x27e)]),_0x209cfd[_0x146d77(0x20b)](_0x2db78c,_0x2bb76c),PerformanceTester[_0x146d77(0x229)](PerformanceEvents[_0x146d77(0x25f)],![],util[_0x146d77(0x24c)](_0x2bb76c));return;}this[_0x146d77(0x2a6)]['info'](_0x209cfd[_0x146d77(0x29c)]),PerformanceTester[_0x146d77(0x229)](PerformanceEvents[_0x146d77(0x25f)]),_0x209cfd['KoJKQ'](_0x90bc73,_0x2fa4ac);});});}catch(_0x8ba74f){PerformanceTester[_0x2b4df4(0x229)](PerformanceEvents[_0x2b4df4(0x25f)],![],util['format'](_0x8ba74f)),this[_0x2b4df4(0x2a6)][_0x2b4df4(0x243)](_0x2b4df4(0x248)+util['format'](_0x8ba74f));throw _0x8ba74f;}}async[a67_0x48b111(0x235)](_0x56840e){const _0x6b9d=a67_0x48b111,_0x45656e={'yrDUR':function(_0x5b0daa,_0x1b64fd){return _0x5b0daa(_0x1b64fd);},'yuGGd':_0x6b9d(0x1f4),'PUNdX':function(_0x246b53,_0x4f2cd5){return _0x246b53(_0x4f2cd5);},'xEtAT':_0x6b9d(0x2b6),'BxJcV':_0x6b9d(0x270)};this[_0x6b9d(0x2a6)]['info'](_0x45656e[_0x6b9d(0x237)]);try{const _0x161e12=Buffer[_0x6b9d(0x21f)](JSON[_0x6b9d(0x245)](_0x56840e[_0x6b9d(0x299)]),_0x45656e[_0x6b9d(0x222)]),_0x4e5c7d=new messages[(_0x6b9d(0x1f8))](),_0x4552f3=CLIUtils['getAutomationFrameworkDetail'](),_0x500de4=_0x4552f3[_0x6b9d(0x239)],_0x57bd98=_0x4552f3['version'];return _0x4e5c7d[_0x6b9d(0x24e)](this[_0x6b9d(0x2c8)]),_0x4e5c7d['setPlatformIndex'](0x0),_0x4e5c7d['setFrameworkName'](_0x500de4),_0x4e5c7d[_0x6b9d(0x266)](_0x57bd98),_0x4e5c7d[_0x6b9d(0x249)](_0x56840e[_0x6b9d(0x2ae)]),_0x4e5c7d[_0x6b9d(0x264)](_0x161e12),new Promise((_0x1e88f9,_0x4b1a74)=>{const _0x148180=_0x6b9d,_0x1e3c88={'XTfZE':function(_0x405909,_0x4d4094){const _0x517e55=a67_0x58f5;return _0x45656e[_0x517e55(0x28a)](_0x405909,_0x4d4094);},'tFywd':_0x45656e[_0x148180(0x28d)],'ZkjJx':function(_0x45a638,_0x37bedd){const _0x2ed8ed=_0x148180;return _0x45656e[_0x2ed8ed(0x1f7)](_0x45a638,_0x37bedd);}};this[_0x148180(0x28f)][_0x148180(0x226)](_0x4e5c7d,(_0xfe6a38,_0x270fd7)=>{const _0xe37ec7=_0x148180;if(_0xfe6a38){this[_0xe37ec7(0x2a6)][_0xe37ec7(0x243)](_0xe37ec7(0x29b)+_0xfe6a38['message']),_0x1e3c88[_0xe37ec7(0x228)](_0x4b1a74,_0xfe6a38);return;}this['logger'][_0xe37ec7(0x213)](_0x1e3c88['tFywd']),_0x1e3c88['ZkjJx'](_0x1e88f9,_0x270fd7);});});}catch(_0x540fcc){this['logger'][_0x6b9d(0x243)]('Error\x20in\x20getAccessibilityConfig:\x20'+util[_0x6b9d(0x24c)](_0x540fcc));}}async[a67_0x48b111(0x238)](_0x1bd2bc){const _0x2dc77a=a67_0x48b111,_0x2ec2b0={'qbwuI':function(_0x4d6d56,_0x49e845){return _0x4d6d56(_0x49e845);},'xyPAM':_0x2dc77a(0x29e),'YEDWe':_0x2dc77a(0x1f1),'tbstz':'No\x20gRPC\x20client\x20not\x20initialized.'};this[_0x2dc77a(0x2a6)]['info'](_0x2ec2b0[_0x2dc77a(0x202)]);try{!this[_0x2dc77a(0x28f)]&&this[_0x2dc77a(0x2a6)]['info'](_0x2ec2b0[_0x2dc77a(0x2ce)]);const {platformIndex:_0x26714d,testFrameworkName:_0x4f681a,testFrameworkVersion:_0x157d7d,testFrameworkState:_0x5c8f3a,testHookState:_0x45704f,testUuid:_0xf0a873,automationSession:_0xba4141,capabilities:_0x530dc7,executionContext:_0x1c280d}=_0x1bd2bc,_0x35b8b1=new messages[(_0x2dc77a(0x221))]();_0x35b8b1['setBinSessionId'](this['binSessionId']),_0x35b8b1[_0x2dc77a(0x285)](_0x26714d),_0x35b8b1[_0x2dc77a(0x29d)](_0x4f681a),_0x35b8b1[_0x2dc77a(0x207)](_0x157d7d),_0x35b8b1[_0x2dc77a(0x206)](_0x5c8f3a),_0x35b8b1[_0x2dc77a(0x250)](_0x45704f),_0x35b8b1[_0x2dc77a(0x281)](_0xf0a873);const _0x33586f=new messages['TestSessionEventRequest'][(_0x2dc77a(0x2b4))]();_0x33586f[_0x2dc77a(0x276)](_0xba4141[_0x2dc77a(0x2c1)]),_0x33586f['setFrameworkName'](_0xba4141[_0x2dc77a(0x2ca)]),_0x33586f[_0x2dc77a(0x266)](_0xba4141[_0x2dc77a(0x211)]),_0x33586f[_0x2dc77a(0x263)](_0xba4141[_0x2dc77a(0x208)]),_0x33586f[_0x2dc77a(0x277)](_0xba4141[_0x2dc77a(0x2d2)]),_0x33586f[_0x2dc77a(0x249)](_0xba4141[_0x2dc77a(0x2ae)]),_0x35b8b1['addAutomationSessions'](_0x33586f),_0x35b8b1[_0x2dc77a(0x264)](_0x530dc7);const _0x10919e=new messages['ExecutionContext']();return _0x10919e['setProcessId'](_0x1c280d['processId']),_0x10919e[_0x2dc77a(0x24d)](_0x1c280d[_0x2dc77a(0x21e)]),_0x10919e[_0x2dc77a(0x265)](_0x1c280d[_0x2dc77a(0x260)]),_0x35b8b1[_0x2dc77a(0x1fc)](_0x10919e),new Promise((_0x5c69ac,_0x480243)=>{const _0x45a833=_0x2dc77a,_0x552dda={'GEIVz':function(_0xf50b8b,_0x1d1b65){return _0x2ec2b0['qbwuI'](_0xf50b8b,_0x1d1b65);},'TWFvH':_0x2ec2b0[_0x45a833(0x28e)]};this[_0x45a833(0x28f)][_0x45a833(0x238)](_0x35b8b1,(_0x1ae377,_0x460ec7)=>{const _0x515439=_0x45a833;if(_0x1ae377){this[_0x515439(0x2a6)]['error']('TestSessionEvent\x20error:\x20'+_0x1ae377[_0x515439(0x27e)]),_0x552dda[_0x515439(0x247)](_0x480243,_0x1ae377);return;}this[_0x515439(0x2a6)][_0x515439(0x213)](_0x552dda[_0x515439(0x201)]),_0x552dda['GEIVz'](_0x5c69ac,_0x460ec7);});});}catch(_0x2aeec5){this[_0x2dc77a(0x2a6)][_0x2dc77a(0x243)](_0x2dc77a(0x1f2)+util[_0x2dc77a(0x24c)](_0x2aeec5));throw _0x2aeec5;}}async[a67_0x48b111(0x212)](_0x259d3b){const _0x1fa22b=a67_0x48b111,_0x494526={'pityf':function(_0x3be43a,_0x445901){return _0x3be43a(_0x445901);},'IDCqr':_0x1fa22b(0x290),'tYUbS':'Sending\x20TestFrameworkEvent','XJfED':_0x1fa22b(0x2c0)};this[_0x1fa22b(0x2a6)][_0x1fa22b(0x213)](_0x494526[_0x1fa22b(0x2c6)]);try{!this[_0x1fa22b(0x28f)]&&this['logger'][_0x1fa22b(0x213)](_0x494526[_0x1fa22b(0x2c5)]);const {platfromIndex:_0x5b7d0e,testFrameworkName:_0x299d95,testFrameworkVersion:_0x5c9ebd,testFrameworkState:_0x185295,hookState:_0x459c88,startedAt:_0x226088,endedAt:_0x1b262e,uuid:_0x1af404,eventJson:_0x2e6240,executionContext:_0x41f7f5}=_0x259d3b,_0x1d2984=new messages['TestFrameworkEventRequest']();_0x1d2984[_0x1fa22b(0x24e)](this[_0x1fa22b(0x2c8)]),_0x1d2984[_0x1fa22b(0x285)](_0x5b7d0e),_0x1d2984[_0x1fa22b(0x29d)](_0x299d95),_0x1d2984[_0x1fa22b(0x207)](_0x5c9ebd),_0x1d2984[_0x1fa22b(0x206)](_0x185295),_0x1d2984[_0x1fa22b(0x250)](_0x459c88),_0x1d2984[_0x1fa22b(0x257)](_0x226088),_0x1d2984[_0x1fa22b(0x262)](_0x1b262e),_0x1d2984[_0x1fa22b(0x233)](_0x1af404),_0x1d2984['setEventJson'](_0x2e6240);const _0x1b713b=new messages[(_0x1fa22b(0x232))]();return _0x1b713b[_0x1fa22b(0x267)](_0x41f7f5[_0x1fa22b(0x21d)]),_0x1b713b[_0x1fa22b(0x24d)](_0x41f7f5['threadId']),_0x1b713b[_0x1fa22b(0x265)](_0x41f7f5[_0x1fa22b(0x260)]),_0x1d2984['setExecutionContext'](_0x1b713b),new Promise((_0x10fbdf,_0x4aa0c9)=>{const _0x2f363d=_0x1fa22b,_0xfbe53e={'byhBc':function(_0x1abe52,_0x8d53b){const _0xc57dd7=a67_0x58f5;return _0x494526[_0xc57dd7(0x220)](_0x1abe52,_0x8d53b);},'YaKVB':_0x494526[_0x2f363d(0x244)]};this[_0x2f363d(0x28f)][_0x2f363d(0x212)](_0x1d2984,(_0xb88389,_0x43e569)=>{const _0xf80f2c=_0x2f363d;if(_0xb88389){this[_0xf80f2c(0x2a6)][_0xf80f2c(0x243)]('TestFrameworkEvent\x20error:\x20'+_0xb88389[_0xf80f2c(0x27e)]),_0xfbe53e[_0xf80f2c(0x2af)](_0x4aa0c9,_0xb88389);return;}this[_0xf80f2c(0x2a6)]['info'](_0xfbe53e[_0xf80f2c(0x240)]),_0xfbe53e[_0xf80f2c(0x2af)](_0x10fbdf,_0x43e569);});});}catch(_0x39754f){this['logger'][_0x1fa22b(0x243)](_0x1fa22b(0x217)+util[_0x1fa22b(0x24c)](_0x39754f));throw _0x39754f;}}async[a67_0x48b111(0x1f9)](_0x3057c8){const _0x2b4a9f=a67_0x48b111,_0x59457c={'tunqR':function(_0x45d863,_0x3afa92){return _0x45d863(_0x3afa92);},'OaguB':_0x2b4a9f(0x1f6),'rOhAq':_0x2b4a9f(0x2cb),'aoODD':_0x2b4a9f(0x2c0)};this[_0x2b4a9f(0x2a6)][_0x2b4a9f(0x213)](_0x59457c['rOhAq']);try{!this['client']&&this[_0x2b4a9f(0x2a6)][_0x2b4a9f(0x213)](_0x59457c[_0x2b4a9f(0x24b)]);const {platformIndex:_0x2d880c,ref:_0x32248d,userInputParams:_0x1049f8}=_0x3057c8,_0x18db27=new messages[(_0x2b4a9f(0x2cf))]();return _0x18db27[_0x2b4a9f(0x24e)](this[_0x2b4a9f(0x2c8)]),_0x18db27[_0x2b4a9f(0x285)](_0x2d880c),_0x18db27[_0x2b4a9f(0x277)](_0x32248d),_0x18db27[_0x2b4a9f(0x288)](_0x1049f8),new Promise((_0xd7701,_0x2b619a)=>{const _0xd92b57=_0x2b4a9f,_0x276526={'hxAfW':function(_0x193a0c,_0x112e42){return _0x59457c['tunqR'](_0x193a0c,_0x112e42);},'DXDXK':_0x59457c['OaguB']};this[_0xd92b57(0x28f)][_0xd92b57(0x1f9)](_0x18db27,(_0x21dcdf,_0xb8df62)=>{const _0x164aba=_0xd92b57;if(_0x21dcdf){this[_0x164aba(0x2a6)][_0x164aba(0x243)](_0x164aba(0x21c)+_0x21dcdf[_0x164aba(0x27e)]),_0x276526[_0x164aba(0x256)](_0x2b619a,_0x21dcdf);return;}this[_0x164aba(0x2a6)][_0x164aba(0x213)](_0x276526[_0x164aba(0x20e)]),_0x276526['hxAfW'](_0xd7701,_0xb8df62);});});}catch(_0x17cbc7){this[_0x2b4a9f(0x2a6)][_0x2b4a9f(0x243)]('Error\x20in\x20DriverInit:\x20'+util[_0x2b4a9f(0x24c)](_0x17cbc7));throw _0x17cbc7;}}async['logCreatedEvent'](_0x173246){const _0x2d78a2=a67_0x48b111,_0x196d4b={'nEFtL':function(_0x5a4e36,_0x47195a){return _0x5a4e36===_0x47195a;},'tvIZc':function(_0x240e2f,_0x11975d){return _0x240e2f(_0x11975d);},'hyKAE':_0x2d78a2(0x24f),'DMvOh':function(_0x27e8bb,_0x25f3fe){return _0x27e8bb(_0x25f3fe);},'ruHYu':_0x2d78a2(0x275),'qLvqz':_0x2d78a2(0x2c0)};this[_0x2d78a2(0x2a6)][_0x2d78a2(0x213)](_0x196d4b['ruHYu']);try{!this[_0x2d78a2(0x28f)]&&this[_0x2d78a2(0x2a6)]['info'](_0x196d4b['qLvqz']);const {platformIndex:_0x57b0c4,logs:_0x4f8706}=_0x173246,_0x35427d=new messages[(_0x2d78a2(0x2ba))]();_0x35427d[_0x2d78a2(0x24e)](this['binSessionId']),_0x35427d[_0x2d78a2(0x285)](_0x57b0c4);const _0xca9d91=_0x173246[_0x2d78a2(0x258)],_0x18c276=_0x173246[_0x2d78a2(0x27b)],_0x52fe35=_0x173246[_0x2d78a2(0x254)];return _0x4f8706['forEach'](_0x3ff90e=>{const _0x23fa08=_0x2d78a2,_0x2dd1f0=new messages[(_0x23fa08(0x2ba))]['LogEntry']();_0x2dd1f0[_0x23fa08(0x29d)](_0xca9d91),_0x2dd1f0[_0x23fa08(0x207)](_0x18c276),_0x2dd1f0[_0x23fa08(0x206)](_0x52fe35),_0x2dd1f0['setTimestamp'](_0x3ff90e['timestamp']),_0x2dd1f0[_0x23fa08(0x233)](_0x3ff90e[_0x23fa08(0x22c)]),_0x2dd1f0[_0x23fa08(0x273)](_0x3ff90e[_0x23fa08(0x2a8)]),_0x196d4b[_0x23fa08(0x227)](_0x3ff90e[_0x23fa08(0x26b)],PLAYWRIGHT_TRACE_LOGS)?(_0x2dd1f0[_0x23fa08(0x233)](_0x3ff90e[_0x23fa08(0x2d7)]),_0x2dd1f0[_0x23fa08(0x2ad)](new TextEncoder()[_0x23fa08(0x2bb)](JSON[_0x23fa08(0x245)](_0x3ff90e)))):_0x2dd1f0['setMessage'](new TextEncoder()[_0x23fa08(0x2bb)](_0x3ff90e['message'])),_0x2dd1f0[_0x23fa08(0x205)](_0x3ff90e['level']),_0x2dd1f0[_0x23fa08(0x20f)](_0x3ff90e?.[_0x23fa08(0x1f0)]||''),_0x2dd1f0[_0x23fa08(0x2d3)](_0x3ff90e?.[_0x23fa08(0x268)]||''),_0x2dd1f0[_0x23fa08(0x251)](_0x3ff90e?.[_0x23fa08(0x2bc)]||0x0),_0x2dd1f0['setAttachmentType'](_0x3ff90e?.[_0x23fa08(0x26b)]||''),_0x35427d[_0x23fa08(0x2ac)](_0x2dd1f0);}),new Promise((_0x3d8f2a,_0x4fe0b)=>{const _0x362927=_0x2d78a2;this[_0x362927(0x28f)]['logCreatedEvent'](_0x35427d,(_0x39c4c0,_0x59ab6a)=>{const _0xa4579=_0x362927;if(_0x39c4c0){this[_0xa4579(0x2a6)][_0xa4579(0x243)]('LogCreatedEvent\x20error:\x20'+_0x39c4c0[_0xa4579(0x27e)]),_0x196d4b['tvIZc'](_0x4fe0b,_0x39c4c0);return;}this[_0xa4579(0x2a6)][_0xa4579(0x213)](_0x196d4b[_0xa4579(0x230)]),_0x196d4b[_0xa4579(0x236)](_0x3d8f2a,_0x59ab6a);});});}catch(_0x18dfeb){this[_0x2d78a2(0x2a6)][_0x2d78a2(0x243)](_0x2d78a2(0x2a7)+util[_0x2d78a2(0x24c)](_0x18dfeb));throw _0x18dfeb;}}['getClient'](){const _0x420715=a67_0x48b111;return this[_0x420715(0x28f)];}[a67_0x48b111(0x209)](){const _0x2f75e9=a67_0x48b111;return this[_0x2f75e9(0x2aa)];}}function a67_0x58f5(_0x1593a8,_0x5a9d34){const _0x1b14c4=a67_0x1b14();return a67_0x58f5=function(_0x58f546,_0x32c062){_0x58f546=_0x58f546-0x1f0;let _0x6da886=_0x1b14c4[_0x58f546];return _0x6da886;},a67_0x58f5(_0x1593a8,_0x5a9d34);}function a67_0x1b14(){const _0x315b6b=['YaKVB','AMHJi','setSdkVersion','error','IDCqr','stringify','sjLYT','GEIVz','Error\x20in\x20getPlaywrightConfig:\x20','setHubUrl','SDKClient','aoODD','format','setThreadId','setBinSessionId','LogCreatedEvent\x20request\x20successful','setTestHookState','setFileSize','startBinSession:\x20Calling\x20startBinSession','GrpcClient','testFrameworkState','Getting\x20Playwright\x20config','hxAfW','setStartedAt','testFrameworkName','addFrameworks','mLenj','getSdkVersion','startBinSession','StopBinSessionRequest','298436NCNlsw','SDK_AUTOMATION_FRAMEWORK_INIT','hash','117192YDBFZk','setEndedAt','setFrameworkSessionId','setCapabilities','setHash','setFrameworkVersion','setProcessId','filePath','Gbxio','getInstance','attachment_type','setTestFramework','setConfig','BxdpQ','stopBinSession','utf-8','qYmSI','grpc.keepalive_time_ms','setKind','Connecting\x20bin\x20session','Sending\x20LogCreatedEvent','setProvider','setRef','\x20listenAddr:\x20','pudOk','push','testFrameworkVersion','SDK_START_BIN_SESSION','YZVfP','message','Channel','../utils/constants','setTestUuid','StopBinSession\x20error:\x20','SDK_CLI_ON_STOP','../../helpers/performance/constants','setPlatformIndex','browserstack.yml','user_killed','setUserInputParams','StopBinSession\x20successful','yrDUR','XYVxG','setSdkLanguage','yuGGd','xyPAM','client','TestFrameworkEvent\x20request\x20successful','AocWq','Stopping\x20bin\x20session','createInsecure','StartBinSession\x20error:\x20','../../helpers/logger.js','../../../generated/sdk-messages_pb','139170ogoufJ','forEach','launchcaps','../../helpers/performance/performance-tester.js','AccessibilityConfig\x20error:\x20','fIWky','setTestFrameworkName','TestSessionEvent\x20request\x20successful','setCliArgsList','../../../generated/sdk_grpc_pb',',\x20parsedConfig=','getFrameworkVersionsMap','yNhWa','../../helpers/helper.js','SDK_CONNECT_BIN_SESSION','logger','Error\x20in\x20LogCreatedEvent:\x20','kind','path','channel','listenAddress','addLogs','setMessage','hubUrl','byhBc','LAkHM','365041UBvMfR','Connected\x20to\x20gRPC\x20server\x20at\x20','connectBinSession','AutomationSession','dRQCv','Getting\x20Accessibility\x20config','setFrameworksList','setCliArgs:\x20cliArgs=','bEyFe','LogCreatedEventRequest','encode','fileSize','setPathProject','setCustomMetadata','MpbDU','No\x20gRPC\x20client\x20not\x20initialized.','provider','start','set','35MtaatW','XJfED','tYUbS','16EMFBPR','binSessionId','Stopping\x20signal\x20','frameworkName','Sending\x20DriverInit','7TkaAIy','setLanguage','tbstz','DriverInitRequest','exports','version','ref','setFilePath','BROWSERSTACK_CONFIG_FILE_PATH','BxXBJ','CkxJx','test_run_uuid','debug','PlaywrightConfig\x20request\x20successful','BROWSERSTACK_CLI_BIN_SESSION_ID','argv','fileName','Sending\x20TestSessionEvent','Error\x20in\x20TestSessionEvent:\x20','connect-bin-session\x20response:\x20','AccessibilityConfig\x20request\x20successful','PlaywrightConfig\x20error:\x20','DriverInit\x20request\x20successful','PUNdX','AccessibilityConfigRequest','driverInit','setPathConfig','Error\x20in\x20stopBinSession:\x20','setExecutionContext','mybpt','getSdkLanguage','./cliUtils.js','fDlbM','TWFvH','YEDWe','winstonLogger','PXCEO','setLevel','setTestFrameworkState','setTestFrameworkVersion','frameworkSessionId','getChannel','getPlaywrightConfig','KoJKQ','Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20','Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20','DXDXK','setFileName','cwd','frameworkVersion','testFrameworkEvent','info','29373bBmbVk','connect','util','Error\x20in\x20TestFrameworkEvent:\x20','PYWOp','StartBinSession\x20successful','env','Missing\x20binSessionId','DriverInit\x20error:\x20','processId','threadId','from','pityf','TestSessionEventRequest','BxJcV','DXgNf','2245270bLyhSP','Error\x20in\x20startBinSession:\x20','accessibilityConfig','nEFtL','XTfZE','end','sztSR','../../helpers/classLogger.js','uuid','yqbbe','ConnectBinSession\x20successful','2358513PLkccw','hyKAE','SKmij','ExecutionContext','setUuid','setExitCode','getAccessibilityConfig','DMvOh','xEtAT','testSessionEvent','name','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','JhIpN','setExitReason','null','Error\x20in\x20connectBinSession:\x20','PlaywrightConfigRequest'];a67_0x1b14=function(){return _0x315b6b;};return a67_0x1b14();}module[a67_0x48b111(0x2d0)]=GrpcClient;