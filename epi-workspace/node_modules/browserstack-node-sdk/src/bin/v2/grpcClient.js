const a67_0x33d958=a67_0x249b;(function(_0x23c21b,_0x451b7a){const _0x474da3=a67_0x249b,_0x24caf2=_0x23c21b();while(!![]){try{const _0x14aa40=parseInt(_0x474da3(0xc8))/0x1+-parseInt(_0x474da3(0x86))/0x2+-parseInt(_0x474da3(0xda))/0x3+parseInt(_0x474da3(0x119))/0x4+parseInt(_0x474da3(0x161))/0x5+-parseInt(_0x474da3(0x120))/0x6+parseInt(_0x474da3(0x98))/0x7*(parseInt(_0x474da3(0x154))/0x8);if(_0x14aa40===_0x451b7a)break;else _0x24caf2['push'](_0x24caf2['shift']());}catch(_0xafd4cd){_0x24caf2['push'](_0x24caf2['shift']());}}}(a67_0x1d94,0x6f975));const util=require(a67_0x33d958(0x138)),logger=require(a67_0x33d958(0xdb))[a67_0x33d958(0x85)],grpc=require(a67_0x33d958(0x12c)),services=require(a67_0x33d958(0xd9)),messages=require(a67_0x33d958(0x129)),path=require(a67_0x33d958(0x148)),CLIUtils=require(a67_0x33d958(0x146)),{createClassLogger}=require(a67_0x33d958(0x111)),PerformanceTester=require(a67_0x33d958(0xaa)),{EVENTS:PerformanceEvents}=require(a67_0x33d958(0x127)),{PLAYWRIGHT_TRACE_LOGS}=require(a67_0x33d958(0x14f)),helper=require(a67_0x33d958(0xc9));class GrpcClient{static #instance=null;[a67_0x33d958(0x7e)]=null;[a67_0x33d958(0x121)]=null;[a67_0x33d958(0x97)]=null;[a67_0x33d958(0x9c)]=null;[a67_0x33d958(0xb4)]=createClassLogger('GrpcClient');constructor(){}static[a67_0x33d958(0xe0)](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}['init'](_0x2d7d22){const _0x344b42=a67_0x33d958,_0x38c45c={};_0x38c45c['wWDMX']=function(_0x377ffd,_0x46c736){return _0x377ffd||_0x46c736;};const _0x252871=_0x38c45c,{id:_0x1a70ad,listen:_0x254615}=_0x2d7d22;if(_0x252871[_0x344b42(0xeb)](!_0x1a70ad,!_0x254615))throw new Error(_0x344b42(0xdf)+_0x1a70ad+_0x344b42(0xf7)+_0x254615);this[_0x344b42(0x7e)]=_0x1a70ad,this[_0x344b42(0x121)]=_0x254615,process[_0x344b42(0x14b)][_0x344b42(0x143)]=this[_0x344b42(0x7e)],process[_0x344b42(0x14b)][_0x344b42(0x96)]=this[_0x344b42(0x121)],this['connect'](),this['logger'][_0x344b42(0x13a)](_0x344b42(0x152)+this['binSessionId']+_0x344b42(0x15f)+this['listenAddress']);}[a67_0x33d958(0xa2)](){const _0x115279=a67_0x33d958,_0x2127de={};_0x2127de[_0x115279(0x104)]=_0x115279(0xcf);const _0x2fd0f0=_0x2127de;let _0x8b5f5c=this[_0x115279(0x121)];!_0x8b5f5c&&(_0x8b5f5c=process[_0x115279(0x14b)][_0x115279(0x96)]);!this['binSessionId']&&(this[_0x115279(0x7e)]=this[_0x115279(0x7e)]||process['env'][_0x115279(0x143)]);if(!_0x8b5f5c)throw new Error(_0x2fd0f0[_0x115279(0x104)]);const _0x51054d={};_0x51054d[_0x115279(0xb5)]=0x2710,this['channel']=new grpc[(_0x115279(0xbf))](_0x8b5f5c,grpc[_0x115279(0x83)][_0x115279(0x13f)](),_0x51054d),this['client']=new services[(_0x115279(0x108))](_0x8b5f5c,grpc[_0x115279(0x83)]['createInsecure']()),this['logger']['info']('Connected\x20to\x20gRPC\x20server\x20at\x20'+_0x8b5f5c);}async[a67_0x33d958(0x101)](){const _0x56b9c5=a67_0x33d958,_0x53f9ad={'CpEEw':function(_0x82da9a,_0x428de1){return _0x82da9a!==_0x428de1;},'xnpmW':function(_0x4dd634,_0x3003fd){return _0x4dd634(_0x3003fd);},'ufORj':_0x56b9c5(0xb9),'AnkGC':function(_0xc8dfa7,_0x49574b){return _0xc8dfa7(_0x49574b);},'Fabbc':'startBinSession:\x20Calling\x20startBinSession','zphzD':_0x56b9c5(0xbe),'faOsX':'browserstack.yml','VAicX':function(_0x3c0b1b,_0x40f118){return _0x3c0b1b(_0x40f118);},'CIqNG':_0x56b9c5(0xce),'qDkCu':function(_0x21997c,_0x4ecd6c){return _0x21997c instanceof _0x4ecd6c;},'wWuTc':'null','Fdxzv':function(_0x23936a,_0x595337){return _0x23936a||_0x595337;}};PerformanceTester[_0x56b9c5(0x82)](PerformanceEvents['SDK_START_BIN_SESSION']),this[_0x56b9c5(0xb4)][_0x56b9c5(0x13a)](_0x53f9ad[_0x56b9c5(0x155)]);try{!this[_0x56b9c5(0x9c)]&&this[_0x56b9c5(0xb4)]['info'](_0x53f9ad[_0x56b9c5(0xcd)]);const _0x294378=CLIUtils['getSdkVersion'](),_0xe7e9d=CLIUtils['getAutomationFrameworkDetail'](),_0x5b94ce=_0xe7e9d[_0x56b9c5(0x11f)],_0x436fc3=_0xe7e9d[_0x56b9c5(0xa8)],_0x597290=new messages['StartBinSessionRequest']();_0x597290[_0x56b9c5(0x14e)](this[_0x56b9c5(0x7e)]),_0x597290[_0x56b9c5(0xb8)](CLIUtils[_0x56b9c5(0x92)]()),_0x597290[_0x56b9c5(0xb3)](_0x294378),_0x597290[_0x56b9c5(0xdd)](process[_0x56b9c5(0xf1)]()),_0x597290['setPathConfig'](process[_0x56b9c5(0x14b)][_0x56b9c5(0x89)]?process[_0x56b9c5(0x14b)]['BROWSERSTACK_CONFIG_FILE_PATH']:path['resolve'](process[_0x56b9c5(0xf1)](),_0x53f9ad['faOsX']));const _0x426e55=_0x597290[_0x56b9c5(0x118)]();Object[_0x56b9c5(0xe5)](process[_0x56b9c5(0x14b)])[_0x56b9c5(0xe3)](([_0x58213d,_0x45c4f0])=>{const _0x60bd41=_0x56b9c5;_0x53f9ad[_0x60bd41(0xc6)](_0x45c4f0,undefined)&&_0x53f9ad[_0x60bd41(0xc6)](_0x45c4f0,null)&&_0x426e55[_0x60bd41(0x145)](_0x58213d,_0x45c4f0);});const _0x1e17f6=_0x53f9ad['VAicX'](require,_0x53f9ad[_0x56b9c5(0x93)]),_0x541465=_0x1e17f6[_0x56b9c5(0xe0)]()[_0x56b9c5(0x123)](),_0x4e1c0b=[];_0x541465&&_0x53f9ad[_0x56b9c5(0x88)](_0x541465,Map)&&_0x541465[_0x56b9c5(0xe3)]((_0x4da178,_0x4d98b5)=>{const _0x461f95=_0x56b9c5;_0x4e1c0b[_0x461f95(0xba)](_0x4d98b5+'='+_0x4da178);});const _0x4c7e13=process[_0x56b9c5(0xf0)][_0x56b9c5(0x114)](0x2);_0x597290['setCliArgsList']([..._0x4c7e13,..._0x4e1c0b]),this[_0x56b9c5(0xb4)][_0x56b9c5(0x13a)](_0x56b9c5(0xee)+JSON[_0x56b9c5(0xb1)](_0x4c7e13)+_0x56b9c5(0xef)+(_0x541465?JSON[_0x56b9c5(0xb1)]([..._0x541465]):_0x53f9ad[_0x56b9c5(0xa3)])),_0x597290[_0x56b9c5(0x139)](CLIUtils[_0x56b9c5(0x92)]()),_0x597290[_0x56b9c5(0xd4)](_0x5b94ce);const _0x4ae598=_0x597290['getFrameworkVersionsMap']();return _0x4ae598['set'](_0x5b94ce,_0x53f9ad['Fdxzv'](_0x436fc3,'')),_0x597290['addFrameworks'](_0x5b94ce,_0x436fc3),_0x597290[_0x56b9c5(0x7f)]([_0x5b94ce]),new Promise((_0x23c67c,_0x568ff0)=>{const _0x40d1a9=_0x56b9c5;this[_0x40d1a9(0x9c)]['startBinSession'](_0x597290,(_0x1716e0,_0x49e16e)=>{const _0x3dccbd=_0x40d1a9;if(_0x1716e0){this[_0x3dccbd(0xb4)][_0x3dccbd(0xb0)](_0x3dccbd(0xf8)+_0x1716e0[_0x3dccbd(0x91)]),_0x53f9ad[_0x3dccbd(0x12b)](_0x568ff0,_0x1716e0),PerformanceTester[_0x3dccbd(0xbc)](PerformanceEvents['SDK_START_BIN_SESSION'],![],util['format'](_0x1716e0));return;}this[_0x3dccbd(0xb4)][_0x3dccbd(0x13a)](_0x53f9ad['ufORj']),PerformanceTester[_0x3dccbd(0xbc)](PerformanceEvents[_0x3dccbd(0x9a)]),_0x53f9ad[_0x3dccbd(0xe6)](_0x23c67c,_0x49e16e);});});}catch(_0x1177fc){this['logger'][_0x56b9c5(0xb0)](_0x56b9c5(0x90)+util[_0x56b9c5(0xa7)](_0x1177fc)),PerformanceTester['end'](PerformanceEvents['SDK_START_BIN_SESSION'],![],util[_0x56b9c5(0xa7)](_0x1177fc));throw _0x1177fc;}}async[a67_0x33d958(0xd8)](){const _0x51a1b2=a67_0x33d958,_0x5296a9={'XAeLw':function(_0xd8d84e,_0xa87306){return _0xd8d84e(_0xa87306);},'NzDfn':_0x51a1b2(0xc4),'mFYka':'Connecting\x20bin\x20session','SUXzP':_0x51a1b2(0xbe)};PerformanceTester[_0x51a1b2(0x82)](PerformanceEvents[_0x51a1b2(0x15a)]),this[_0x51a1b2(0xb4)][_0x51a1b2(0x13a)](_0x5296a9[_0x51a1b2(0xdc)]);try{!this[_0x51a1b2(0x9c)]&&this[_0x51a1b2(0xb4)][_0x51a1b2(0x13a)](_0x5296a9[_0x51a1b2(0x124)]);const _0x2a20fc=new messages[(_0x51a1b2(0xec))]();_0x2a20fc[_0x51a1b2(0x14e)](this['binSessionId']);const _0x463996=await new Promise((_0xcf5f21,_0x8a24ec)=>{const _0x1663ad=_0x51a1b2,_0x3782d6={'JnfwE':function(_0x1ca7df,_0x104f3a){const _0x3a8547=a67_0x249b;return _0x5296a9[_0x3a8547(0x9f)](_0x1ca7df,_0x104f3a);},'xejWG':_0x5296a9['NzDfn']};this[_0x1663ad(0x9c)][_0x1663ad(0xd8)](_0x2a20fc,(_0x56a47a,_0x529143)=>{const _0x95a759=_0x1663ad;if(_0x56a47a){this[_0x95a759(0xb4)][_0x95a759(0xb0)](_0x95a759(0xb7)+_0x56a47a[_0x95a759(0x91)]),_0x3782d6[_0x95a759(0xca)](_0x8a24ec,_0x56a47a),PerformanceTester[_0x95a759(0xbc)](PerformanceEvents[_0x95a759(0x15a)],![],util[_0x95a759(0xa7)](_0x56a47a));return;}this['logger'][_0x95a759(0x13a)](_0x3782d6[_0x95a759(0x109)]),PerformanceTester[_0x95a759(0xbc)](PerformanceEvents[_0x95a759(0x15a)]),_0x3782d6['JnfwE'](_0xcf5f21,_0x529143);});});return this[_0x51a1b2(0xb4)]['debug'](_0x51a1b2(0x10c)+util['format'](_0x463996)),_0x463996;}catch(_0xf2b91b){PerformanceTester[_0x51a1b2(0xbc)](PerformanceEvents['SDK_CONNECT_BIN_SESSION'],![],util[_0x51a1b2(0xa7)](_0xf2b91b)),this[_0x51a1b2(0xb4)][_0x51a1b2(0xb0)]('Error\x20in\x20connectBinSession:\x20'+util[_0x51a1b2(0xa7)](_0xf2b91b));throw _0xf2b91b;}}async[a67_0x33d958(0xf9)](_0x4ff3a0={},_0x9b6bb0=null){const _0x1784f4=a67_0x33d958,_0xfb56db={'JuKMZ':function(_0x274f85,_0x3d7a34){return _0x274f85(_0x3d7a34);},'eUOyH':_0x1784f4(0x125),'aFWqu':_0x1784f4(0x10d),'YPYmZ':_0x1784f4(0x11c),'CTuTs':_0x1784f4(0xbe),'Bqvvt':_0x1784f4(0xf5)};PerformanceTester[_0x1784f4(0x82)](PerformanceEvents[_0x1784f4(0x10b)]),this[_0x1784f4(0xb4)][_0x1784f4(0x13a)](_0xfb56db[_0x1784f4(0xe1)]);try{if(!this[_0x1784f4(0x7e)])throw new Error(_0xfb56db[_0x1784f4(0x80)]);!this[_0x1784f4(0x9c)]&&this[_0x1784f4(0xb4)][_0x1784f4(0x13a)](_0xfb56db[_0x1784f4(0x8e)]);const _0x282b8e=new messages[(_0x1784f4(0x106))]();this[_0x1784f4(0xb4)][_0x1784f4(0x12f)](_0x1784f4(0xa4)+JSON['stringify'](_0x9b6bb0)),_0x282b8e['setBinSessionId'](this[_0x1784f4(0x7e)]),_0x282b8e[_0x1784f4(0xfd)](_0x4ff3a0),_0x282b8e[_0x1784f4(0xac)](_0x9b6bb0?_0x9b6bb0:null),_0x282b8e[_0x1784f4(0x103)](_0x9b6bb0?_0xfb56db[_0x1784f4(0x159)]:null),_0x282b8e[_0x1784f4(0x8f)](_0x9b6bb0?0x1:0x0);const _0x200a88=await new Promise((_0x9a28bc,_0x2399db)=>{const _0x5ccbfc=_0x1784f4,_0x23dbf5={'IsEOZ':function(_0x26679e,_0x506466){const _0x5ca158=a67_0x249b;return _0xfb56db[_0x5ca158(0xde)](_0x26679e,_0x506466);},'DJpZg':_0xfb56db[_0x5ccbfc(0x10e)]};this[_0x5ccbfc(0x9c)][_0x5ccbfc(0xf9)](_0x282b8e,(_0x5142e7,_0x55e974)=>{const _0x53a938=_0x5ccbfc;if(_0x5142e7){this[_0x53a938(0xb4)][_0x53a938(0xb0)](_0x53a938(0xc0)+_0x5142e7['message']),_0x23dbf5[_0x53a938(0xa0)](_0x2399db,_0x5142e7),PerformanceTester[_0x53a938(0xbc)](PerformanceEvents[_0x53a938(0x10b)],![],util[_0x53a938(0xa7)](_0x5142e7));return;}this[_0x53a938(0xb4)][_0x53a938(0x13a)](_0x23dbf5[_0x53a938(0x81)]),PerformanceTester[_0x53a938(0xbc)](PerformanceEvents[_0x53a938(0x10b)]),_0x23dbf5[_0x53a938(0xa0)](_0x9a28bc,_0x55e974);});});return this[_0x1784f4(0xb4)][_0x1784f4(0x12f)](_0x1784f4(0xae)+util[_0x1784f4(0xa7)](_0x200a88)),_0x200a88;}catch(_0x3fba81){PerformanceTester[_0x1784f4(0xbc)](PerformanceEvents['SDK_CLI_ON_STOP'],![],util['format'](_0x3fba81)),this['logger'][_0x1784f4(0xb0)](_0x1784f4(0xcb)+util[_0x1784f4(0xa7)](_0x3fba81));}}async[a67_0x33d958(0x134)](_0x4e9578){const _0x344380=a67_0x33d958,_0x1172d7={'YcenI':function(_0x3cb030,_0x4616b5){return _0x3cb030(_0x4616b5);},'CMBCE':'PlaywrightConfig\x20request\x20successful','xqWqx':_0x344380(0x9b),'JJeav':_0x344380(0xbe)};PerformanceTester[_0x344380(0x82)](PerformanceEvents[_0x344380(0xa9)]),this['logger']['info'](_0x1172d7[_0x344380(0x136)]);try{!this[_0x344380(0x9c)]&&this[_0x344380(0xb4)][_0x344380(0x13a)](_0x1172d7['JJeav']);const _0x4517bf=new messages[(_0x344380(0x10a))]();return _0x4517bf[_0x344380(0x14e)](this[_0x344380(0x7e)]),_0x4517bf[_0x344380(0x15c)](JSON[_0x344380(0xb1)](_0x4e9578)),new Promise((_0x2ec5e8,_0xb55bcf)=>{const _0x21ec6d=_0x344380,_0x1c22a4={'QfZkW':function(_0xe8f8b8,_0x4a37c8){return _0x1172d7['YcenI'](_0xe8f8b8,_0x4a37c8);},'JyHfW':_0x1172d7[_0x21ec6d(0x13c)]};this[_0x21ec6d(0x9c)][_0x21ec6d(0x128)](_0x4517bf,(_0x192d53,_0x1ce33f)=>{const _0x182553=_0x21ec6d;if(_0x192d53){this[_0x182553(0xb4)][_0x182553(0xb0)](_0x182553(0x130)+_0x192d53[_0x182553(0x91)]),_0x1c22a4[_0x182553(0x7d)](_0xb55bcf,_0x192d53),PerformanceTester[_0x182553(0xbc)](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT'],![],util[_0x182553(0xa7)](_0x192d53));return;}this[_0x182553(0xb4)][_0x182553(0x13a)](_0x1c22a4[_0x182553(0x150)]),PerformanceTester[_0x182553(0xbc)](PerformanceEvents[_0x182553(0xa9)]),_0x1c22a4[_0x182553(0x7d)](_0x2ec5e8,_0x1ce33f);});});}catch(_0x5d2b8f){PerformanceTester[_0x344380(0xbc)](PerformanceEvents[_0x344380(0xa9)],![],util[_0x344380(0xa7)](_0x5d2b8f)),this[_0x344380(0xb4)][_0x344380(0xb0)](_0x344380(0x15d)+util[_0x344380(0xa7)](_0x5d2b8f));throw _0x5d2b8f;}}async['getAccessibilityConfig'](_0x535204){const _0x479fec=a67_0x33d958,_0x8dc38e={'SzMWj':function(_0x5c33f1,_0x3d1df2){return _0x5c33f1(_0x3d1df2);},'XoIAK':'AccessibilityConfig\x20request\x20successful','LsalY':_0x479fec(0xff),'pUgNp':_0x479fec(0xb2)};this[_0x479fec(0xb4)]['info'](_0x8dc38e['LsalY']);try{const _0x7c6158=Buffer[_0x479fec(0xcc)](JSON[_0x479fec(0xb1)](_0x535204[_0x479fec(0xab)]),_0x8dc38e[_0x479fec(0x160)]),_0x3d9b6a=new messages['AccessibilityConfigRequest'](),_0x595c64=CLIUtils[_0x479fec(0x107)](),_0x36bc20=_0x595c64[_0x479fec(0x11f)],_0x168d46=_0x595c64[_0x479fec(0xa8)];return _0x3d9b6a['setBinSessionId'](this[_0x479fec(0x7e)]),_0x3d9b6a[_0x479fec(0x9e)](0x0),_0x3d9b6a['setFrameworkName'](_0x36bc20),_0x3d9b6a['setFrameworkVersion'](_0x168d46),_0x3d9b6a[_0x479fec(0x116)](_0x535204[_0x479fec(0x151)]),_0x3d9b6a[_0x479fec(0xfa)](_0x7c6158),new Promise((_0x32c6f2,_0x1e35e7)=>{const _0x38824e=_0x479fec;this[_0x38824e(0x9c)]['accessibilityConfig'](_0x3d9b6a,(_0x269b1d,_0x2e122e)=>{const _0x221b3f=_0x38824e;if(_0x269b1d){this[_0x221b3f(0xb4)][_0x221b3f(0xb0)](_0x221b3f(0xe9)+_0x269b1d[_0x221b3f(0x91)]),_0x8dc38e[_0x221b3f(0x12e)](_0x1e35e7,_0x269b1d);return;}this[_0x221b3f(0xb4)]['info'](_0x8dc38e[_0x221b3f(0x12d)]),_0x8dc38e['SzMWj'](_0x32c6f2,_0x2e122e);});});}catch(_0x5e45f6){this[_0x479fec(0xb4)][_0x479fec(0xb0)](_0x479fec(0x99)+util[_0x479fec(0xa7)](_0x5e45f6));}}async['testSessionEvent'](_0x502713){const _0x343d07=a67_0x33d958,_0x49bb1a={'RYhnz':function(_0x27818b,_0x236cf9){return _0x27818b(_0x236cf9);},'inkbt':_0x343d07(0xd0),'DolyD':_0x343d07(0x157),'VLRgZ':_0x343d07(0xbe)};this[_0x343d07(0xb4)][_0x343d07(0x13a)](_0x49bb1a[_0x343d07(0x12a)]);try{!this[_0x343d07(0x9c)]&&this[_0x343d07(0xb4)]['info'](_0x49bb1a[_0x343d07(0x14a)]);const {platformIndex:_0x262cba,testFrameworkName:_0x3155d5,testFrameworkVersion:_0x9916f3,testFrameworkState:_0x2c7cc4,testHookState:_0x34a8a3,testUuid:_0x40eb9d,automationSession:_0x472ac3,capabilities:_0x31ef70,executionContext:_0x4c7d74}=_0x502713,_0x20ad59=new messages[(_0x343d07(0xfb))]();_0x20ad59[_0x343d07(0x14e)](this[_0x343d07(0x7e)]),_0x20ad59[_0x343d07(0x9e)](_0x262cba),_0x20ad59[_0x343d07(0x117)](_0x3155d5),_0x20ad59['setTestFrameworkVersion'](_0x9916f3),_0x20ad59[_0x343d07(0x113)](_0x2c7cc4),_0x20ad59[_0x343d07(0xf6)](_0x34a8a3),_0x20ad59[_0x343d07(0xc2)](_0x40eb9d);const _0x1d6daf=new messages[(_0x343d07(0xfb))]['AutomationSession']();_0x1d6daf[_0x343d07(0x11e)](_0x472ac3[_0x343d07(0x110)]),_0x1d6daf['setFrameworkName'](_0x472ac3[_0x343d07(0xc1)]),_0x1d6daf[_0x343d07(0x158)](_0x472ac3[_0x343d07(0x140)]),_0x1d6daf[_0x343d07(0xf2)](_0x472ac3[_0x343d07(0xaf)]),_0x1d6daf[_0x343d07(0xe4)](_0x472ac3[_0x343d07(0x11d)]),_0x1d6daf[_0x343d07(0x116)](_0x472ac3[_0x343d07(0x151)]),_0x20ad59['addAutomationSessions'](_0x1d6daf),_0x20ad59[_0x343d07(0xfa)](_0x31ef70);const _0x5b73bf=new messages[(_0x343d07(0x15b))]();return _0x5b73bf['setProcessId'](_0x4c7d74[_0x343d07(0x84)]),_0x5b73bf[_0x343d07(0x144)](_0x4c7d74['threadId']),_0x5b73bf[_0x343d07(0x15e)](_0x4c7d74[_0x343d07(0x8b)]),_0x20ad59[_0x343d07(0xc7)](_0x5b73bf),new Promise((_0x3abd64,_0x2ec5f6)=>{const _0x3633a1=_0x343d07,_0x347b09={'VJtxC':function(_0x397ddb,_0x2cbb0c){const _0xb1e188=a67_0x249b;return _0x49bb1a[_0xb1e188(0x94)](_0x397ddb,_0x2cbb0c);},'fXEAX':_0x49bb1a[_0x3633a1(0x105)]};this['client'][_0x3633a1(0x102)](_0x20ad59,(_0x5b4ea8,_0x17369d)=>{const _0x164021=_0x3633a1;if(_0x5b4ea8){this['logger'][_0x164021(0xb0)](_0x164021(0x8a)+_0x5b4ea8['message']),_0x347b09[_0x164021(0xd2)](_0x2ec5f6,_0x5b4ea8);return;}this[_0x164021(0xb4)][_0x164021(0x13a)](_0x347b09[_0x164021(0x9d)]),_0x347b09['VJtxC'](_0x3abd64,_0x17369d);});});}catch(_0x45f04a){this[_0x343d07(0xb4)][_0x343d07(0xb0)](_0x343d07(0xf3)+util['format'](_0x45f04a));throw _0x45f04a;}}async[a67_0x33d958(0xbd)](_0x46c9e2){const _0x1dfd2b=a67_0x33d958,_0x296e93={'wWWyy':function(_0x3fade2,_0x3d3902){return _0x3fade2(_0x3d3902);},'UlfYC':_0x1dfd2b(0xd3),'loKcm':function(_0xf4de75,_0x349dee){return _0xf4de75(_0x349dee);},'FsiQm':_0x1dfd2b(0x153),'ugwEE':_0x1dfd2b(0xbe)};this[_0x1dfd2b(0xb4)][_0x1dfd2b(0x13a)](_0x296e93[_0x1dfd2b(0x11a)]);try{!this['client']&&this['logger']['info'](_0x296e93[_0x1dfd2b(0xfc)]);const {platfromIndex:_0x575ab8,testFrameworkName:_0xd07468,testFrameworkVersion:_0x5ba6ba,testFrameworkState:_0x4d3507,hookState:_0x1fcf96,startedAt:_0x126ed9,endedAt:_0x5c016d,uuid:_0x2b3ab9,eventJson:_0x3a8918,executionContext:_0x116fbc}=_0x46c9e2,_0xa75934=new messages[(_0x1dfd2b(0xa1))]();_0xa75934['setBinSessionId'](this[_0x1dfd2b(0x7e)]),_0xa75934['setPlatformIndex'](_0x575ab8),_0xa75934[_0x1dfd2b(0x117)](_0xd07468),_0xa75934['setTestFrameworkVersion'](_0x5ba6ba),_0xa75934['setTestFrameworkState'](_0x4d3507),_0xa75934['setTestHookState'](_0x1fcf96),_0xa75934['setStartedAt'](_0x126ed9),_0xa75934[_0x1dfd2b(0xb6)](_0x5c016d),_0xa75934[_0x1dfd2b(0x141)](_0x2b3ab9),_0xa75934[_0x1dfd2b(0xe7)](_0x3a8918);const _0x1e55d3=new messages['ExecutionContext']();return _0x1e55d3[_0x1dfd2b(0xc3)](_0x116fbc[_0x1dfd2b(0x84)]),_0x1e55d3[_0x1dfd2b(0x144)](_0x116fbc['threadId']),_0x1e55d3['setHash'](_0x116fbc[_0x1dfd2b(0x8b)]),_0xa75934[_0x1dfd2b(0xc7)](_0x1e55d3),new Promise((_0x52af24,_0x3ef510)=>{const _0x442ecf=_0x1dfd2b;this[_0x442ecf(0x9c)][_0x442ecf(0xbd)](_0xa75934,(_0x3a1bb0,_0x42ded7)=>{const _0x937dd6=_0x442ecf;if(_0x3a1bb0){this['logger'][_0x937dd6(0xb0)]('TestFrameworkEvent\x20error:\x20'+_0x3a1bb0[_0x937dd6(0x91)]),_0x296e93[_0x937dd6(0x131)](_0x3ef510,_0x3a1bb0);return;}this[_0x937dd6(0xb4)][_0x937dd6(0x13a)](_0x296e93[_0x937dd6(0x147)]),_0x296e93[_0x937dd6(0xd5)](_0x52af24,_0x42ded7);});});}catch(_0x2299f0){this[_0x1dfd2b(0xb4)][_0x1dfd2b(0xb0)]('Error\x20in\x20TestFrameworkEvent:\x20'+util[_0x1dfd2b(0xa7)](_0x2299f0));throw _0x2299f0;}}async['driverInit'](_0x57f68b){const _0x4ea665=a67_0x33d958,_0x119033={'FYDKC':function(_0x20704a,_0x50bce1){return _0x20704a(_0x50bce1);},'JcSyp':_0x4ea665(0x135),'pEqbj':function(_0x4d1142,_0x1aff39){return _0x4d1142(_0x1aff39);},'wkeud':_0x4ea665(0x8d),'vObEj':_0x4ea665(0xbe)};this[_0x4ea665(0xb4)]['info'](_0x119033['wkeud']);try{!this[_0x4ea665(0x9c)]&&this[_0x4ea665(0xb4)][_0x4ea665(0x13a)](_0x119033[_0x4ea665(0x13d)]);const {platformIndex:_0x182b73,ref:_0x5dbe1a,userInputParams:_0x11fb43}=_0x57f68b,_0x3024e2=new messages['DriverInitRequest']();return _0x3024e2['setBinSessionId'](this[_0x4ea665(0x7e)]),_0x3024e2['setPlatformIndex'](_0x182b73),_0x3024e2[_0x4ea665(0xe4)](_0x5dbe1a),_0x3024e2['setUserInputParams'](_0x11fb43),new Promise((_0x2761fb,_0x64bab1)=>{const _0x40d8c9=_0x4ea665;this['client'][_0x40d8c9(0xd7)](_0x3024e2,(_0x234148,_0x2dbef8)=>{const _0xd28718=_0x40d8c9;if(_0x234148){this[_0xd28718(0xb4)]['error'](_0xd28718(0x115)+_0x234148['message']),_0x119033['FYDKC'](_0x64bab1,_0x234148);return;}this[_0xd28718(0xb4)][_0xd28718(0x13a)](_0x119033[_0xd28718(0xe8)]),_0x119033['pEqbj'](_0x2761fb,_0x2dbef8);});});}catch(_0x5f563a){this[_0x4ea665(0xb4)]['error'](_0x4ea665(0xed)+util[_0x4ea665(0xa7)](_0x5f563a));throw _0x5f563a;}}async[a67_0x33d958(0xe2)](_0x43efe6){const _0x1c5aff=a67_0x33d958,_0x653cb4={'hkzky':function(_0x2e6946,_0x87c945){return _0x2e6946===_0x87c945;},'GTbDY':function(_0x387912,_0x410832){return _0x387912(_0x410832);},'cFdbX':_0x1c5aff(0x133),'aMKTc':_0x1c5aff(0x8c),'KdeDE':_0x1c5aff(0xbe)};this[_0x1c5aff(0xb4)][_0x1c5aff(0x13a)](_0x653cb4[_0x1c5aff(0x149)]);try{!this['client']&&this['logger'][_0x1c5aff(0x13a)](_0x653cb4[_0x1c5aff(0x11b)]);const {platformIndex:_0x4ff784,logs:_0x3a0dfd}=_0x43efe6,_0x1ef3fb=new messages[(_0x1c5aff(0x126))]();_0x1ef3fb['setBinSessionId'](this[_0x1c5aff(0x7e)]),_0x1ef3fb[_0x1c5aff(0x9e)](_0x4ff784);const _0x14db33=_0x43efe6[_0x1c5aff(0x137)],_0x42b858=_0x43efe6[_0x1c5aff(0x122)],_0x100919=_0x43efe6['testFrameworkState'];return _0x3a0dfd['forEach'](_0x2e609d=>{const _0x28852c=_0x1c5aff,_0x47d5d4=new messages[(_0x28852c(0x126))][(_0x28852c(0xfe))]();_0x47d5d4[_0x28852c(0x117)](_0x14db33),_0x47d5d4['setTestFrameworkVersion'](_0x42b858),_0x47d5d4[_0x28852c(0x113)](_0x100919),_0x47d5d4['setTimestamp'](_0x2e609d[_0x28852c(0xd1)]),_0x47d5d4[_0x28852c(0x141)](_0x2e609d['uuid']),_0x47d5d4[_0x28852c(0x10f)](_0x2e609d[_0x28852c(0x112)]),_0x653cb4[_0x28852c(0x87)](_0x2e609d[_0x28852c(0xf4)],PLAYWRIGHT_TRACE_LOGS)?(_0x47d5d4[_0x28852c(0x141)](_0x2e609d[_0x28852c(0x13b)]),_0x47d5d4[_0x28852c(0x13e)](new TextEncoder()[_0x28852c(0x14c)](JSON[_0x28852c(0xb1)](_0x2e609d)))):_0x47d5d4[_0x28852c(0x13e)](new TextEncoder()[_0x28852c(0x14c)](_0x2e609d[_0x28852c(0x91)])),_0x47d5d4[_0x28852c(0xa6)](_0x2e609d['level']),_0x47d5d4['setFileName'](_0x2e609d?.[_0x28852c(0xd6)]||''),_0x47d5d4[_0x28852c(0x14d)](_0x2e609d?.[_0x28852c(0xea)]||''),_0x47d5d4[_0x28852c(0x95)](_0x2e609d?.[_0x28852c(0x156)]||0x0),_0x47d5d4[_0x28852c(0xa5)](_0x2e609d?.[_0x28852c(0xf4)]||''),_0x1ef3fb['addLogs'](_0x47d5d4);}),new Promise((_0x5019b3,_0x420e34)=>{const _0x5ba8e2=_0x1c5aff;this['client'][_0x5ba8e2(0xe2)](_0x1ef3fb,(_0x3c3277,_0x56cf2b)=>{const _0x2387a6=_0x5ba8e2;if(_0x3c3277){this[_0x2387a6(0xb4)][_0x2387a6(0xb0)](_0x2387a6(0xc5)+_0x3c3277[_0x2387a6(0x91)]),_0x653cb4[_0x2387a6(0xad)](_0x420e34,_0x3c3277);return;}this[_0x2387a6(0xb4)][_0x2387a6(0x13a)](_0x653cb4[_0x2387a6(0x142)]),_0x653cb4[_0x2387a6(0xad)](_0x5019b3,_0x56cf2b);});});}catch(_0x459d1a){this[_0x1c5aff(0xb4)][_0x1c5aff(0xb0)](_0x1c5aff(0xbb)+util[_0x1c5aff(0xa7)](_0x459d1a));throw _0x459d1a;}}['getClient'](){return this['client'];}[a67_0x33d958(0x100)](){const _0x37f6e6=a67_0x33d958;return this[_0x37f6e6(0x97)];}}function a67_0x1d94(){const _0x51e085=['JyHfW','hubUrl','Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20','Sending\x20TestFrameworkEvent','344pBapRz','Fabbc','fileSize','Sending\x20TestSessionEvent','setFrameworkVersion','Bqvvt','SDK_CONNECT_BIN_SESSION','ExecutionContext','setConfig','Error\x20in\x20getPlaywrightConfig:\x20','setHash','\x20and\x20listen\x20address:\x20','pUgNp','2204630nnLLXU','QfZkW','binSessionId','setFrameworksList','YPYmZ','DJpZg','start','credentials','processId','winstonLogger','1546996ZSMZrL','hkzky','qDkCu','BROWSERSTACK_CONFIG_FILE_PATH','TestSessionEvent\x20error:\x20','hash','Sending\x20LogCreatedEvent','Sending\x20DriverInit','CTuTs','setExitCode','Error\x20in\x20startBinSession:\x20','message','getSdkLanguage','CIqNG','RYhnz','setFileSize','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','channel','1463ESKEsT','Error\x20in\x20getAccessibilityConfig:\x20','SDK_START_BIN_SESSION','Getting\x20Playwright\x20config','client','fXEAX','setPlatformIndex','XAeLw','IsEOZ','TestFrameworkEventRequest','connect','wWuTc','Stopping\x20signal\x20','setAttachmentType','setLevel','format','version','SDK_AUTOMATION_FRAMEWORK_INIT','../../helpers/performance/performance-tester.js','launchcaps','setExitSignal','GTbDY','stop-bin-session\x20response:\x20','frameworkSessionId','error','stringify','utf-8','setSdkVersion','logger','grpc.keepalive_time_ms','setEndedAt','ConnectBinSession\x20error:\x20','setSdkLanguage','StartBinSession\x20successful','push','Error\x20in\x20LogCreatedEvent:\x20','end','testFrameworkEvent','No\x20gRPC\x20client\x20not\x20initialized.','Channel','StopBinSession\x20error:\x20','frameworkName','setTestUuid','setProcessId','ConnectBinSession\x20successful','LogCreatedEvent\x20error:\x20','CpEEw','setExecutionContext','789090sBOQur','../../helpers/helper.js','JnfwE','Error\x20in\x20stopBinSession:\x20','from','zphzD','./browserstackCLI.js','Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address','TestSessionEvent\x20request\x20successful','timestamp','VJtxC','TestFrameworkEvent\x20request\x20successful','setTestFramework','loKcm','fileName','driverInit','connectBinSession','../../../generated/sdk_grpc_pb','374946CiCMJx','../../helpers/logger.js','mFYka','setPathProject','JuKMZ','Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20','getInstance','aFWqu','logCreatedEvent','forEach','setRef','entries','AnkGC','setEventJson','JcSyp','AccessibilityConfig\x20error:\x20','filePath','wWDMX','ConnectBinSessionRequest','Error\x20in\x20DriverInit:\x20','setCliArgs:\x20cliArgs=',',\x20parsedConfig=','argv','cwd','setFrameworkSessionId','Error\x20in\x20TestSessionEvent:\x20','attachment_type','user_killed','setTestHookState','\x20listenAddr:\x20','StartBinSession\x20error:\x20','stopBinSession','setCapabilities','TestSessionEventRequest','ugwEE','setCustomMetadata','LogEntry','Getting\x20Accessibility\x20config','getChannel','startBinSession','testSessionEvent','setExitReason','dfqqS','inkbt','StopBinSessionRequest','getAutomationFrameworkDetail','SDKClient','xejWG','PlaywrightConfigRequest','SDK_CLI_ON_STOP','connect-bin-session\x20response:\x20','Stopping\x20bin\x20session','eUOyH','setKind','provider','../../helpers/classLogger.js','kind','setTestFrameworkState','slice','DriverInit\x20error:\x20','setHubUrl','setTestFrameworkName','getEnvVarsMap','1528696myIvKD','FsiQm','KdeDE','Missing\x20binSessionId','ref','setProvider','name','1593720QkWOps','listenAddress','testFrameworkVersion','getBrowserstackCliConfig','SUXzP','StopBinSession\x20successful','LogCreatedEventRequest','../../helpers/performance/constants','playwrightConfig','../../../generated/sdk-messages_pb','DolyD','xnpmW','@grpc/grpc-js','XoIAK','SzMWj','debug','PlaywrightConfig\x20error:\x20','wWWyy','exports','LogCreatedEvent\x20request\x20successful','getPlaywrightConfig','DriverInit\x20request\x20successful','xqWqx','testFrameworkName','util','setLanguage','info','test_run_uuid','CMBCE','vObEj','setMessage','createInsecure','frameworkVersion','setUuid','cFdbX','BROWSERSTACK_CLI_BIN_SESSION_ID','setThreadId','set','./cliUtils.js','UlfYC','path','aMKTc','VLRgZ','env','encode','setFilePath','setBinSessionId','../utils/constants'];a67_0x1d94=function(){return _0x51e085;};return a67_0x1d94();}function a67_0x249b(_0x415f85,_0x4cbe3e){const _0x1d9472=a67_0x1d94();return a67_0x249b=function(_0x249b35,_0x999b29){_0x249b35=_0x249b35-0x7d;let _0xde8755=_0x1d9472[_0x249b35];return _0xde8755;},a67_0x249b(_0x415f85,_0x4cbe3e);}module[a67_0x33d958(0x132)]=GrpcClient;