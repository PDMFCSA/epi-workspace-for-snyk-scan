const a69_0x450c4a=a69_0x2a39;(function(_0x2f6d8d,_0x215377){const _0x46f124=a69_0x2a39,_0x3dad23=_0x2f6d8d();while(!![]){try{const _0x306990=parseInt(_0x46f124(0x145))/0x1*(-parseInt(_0x46f124(0x194))/0x2)+-parseInt(_0x46f124(0x1db))/0x3+parseInt(_0x46f124(0x205))/0x4+-parseInt(_0x46f124(0x169))/0x5*(parseInt(_0x46f124(0x1c1))/0x6)+-parseInt(_0x46f124(0x1ba))/0x7+-parseInt(_0x46f124(0x13c))/0x8*(-parseInt(_0x46f124(0x1ae))/0x9)+parseInt(_0x46f124(0x13a))/0xa;if(_0x306990===_0x215377)break;else _0x3dad23['push'](_0x3dad23['shift']());}catch(_0x134d7d){_0x3dad23['push'](_0x3dad23['shift']());}}}(a69_0x45ea,0x7bfe9));function a69_0x45ea(){const _0x7a380d=['ypCQN','null','Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address','processId','StartBinSession\x20error:\x20','setExitSignal','JGAqz','init','accessibilityConfig','9ziuMNG','@grpc/grpc-js','encode','client','level','cyqgt','bDXzb','test_run_uuid','connect-bin-session\x20response:\x20','uDfxt','DriverInit\x20error:\x20','StopBinSession\x20successful','6075986MZhewR','setCustomMetadata','LogCreatedEvent\x20error:\x20','getFrameworkVersionsMap','LogEntry','LlXVc','kpuMa','3912iIQhIz','setExitReason','ConnectBinSession\x20successful','setSdkVersion','user_killed','BhcXX','driverInit','fileName','from','TestSessionEventRequest','setMessage','Error\x20in\x20getAccessibilityConfig:\x20','credentials','PlaywrightConfigRequest','OsTta','BmesU','provider','../../helpers/classLogger.js','error','../utils/constants','setAttachmentType','./browserstackCLI.js','KqkBZ','setPlatformIndex','JOuWR','testFrameworkEvent','794634VVIBZm','testFrameworkVersion','addLogs','getChannel','URJwD','GWuNX','\x20listenAddr:\x20','setTestFrameworkName','StartBinSessionRequest',',\x20parsedConfig=','Stopping\x20bin\x20session','setPathConfig','lKNPB','message','forEach','path','connectBinSession','startBinSession','LPiTi','setLevel','setFrameworkSessionId','setProvider','setHubUrl','setEndedAt','setExecutionContext','No\x20gRPC\x20client\x20not\x20initialized.','getSdkVersion','../../../generated/sdk-messages_pb','hubUrl','setKind','setBinSessionId','stop-bin-session\x20response:\x20','setTestHookState','getSdkLanguage','\x20and\x20listen\x20address:\x20','Error\x20in\x20getPlaywrightConfig:\x20','LBDKC','omnUz','binSessionId','testSessionEvent','DriverInit\x20request\x20successful','../../helpers/performance/performance-tester.js','975836RESMsd','resolve','logger','PlaywrightConfig\x20error:\x20','getEnvVarsMap','argv','setTestFrameworkVersion','push','ConnectBinSessionRequest','Ninvq','mjBDT','setStartedAt','setTestFrameworkState','setTestFramework','Sending\x20LogCreatedEvent','../../helpers/helper.js','ONnxt','fileSize','TestFrameworkEvent\x20error:\x20','getBrowserstackCliConfig','AccessibilityConfig\x20request\x20successful','VIePM','cwd','attachment_type','setFrameworksList','fPBay','browserstack.yml','iHVFy','../../../generated/sdk_grpc_pb','AccessibilityConfig\x20error:\x20','Error\x20in\x20stopBinSession:\x20','StopBinSessionRequest','ENEDk','GkQfL','set','createInsecure','setSdkLanguage','27631890FNAKcN','RmUaI','4507056TZypoq','setTimestamp','info','SDK_AUTOMATION_FRAMEWORK_INIT','Sending\x20TestSessionEvent','gJaMr','setFrameworkName','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','dTTgT','1gbpLFt','setFrameworkVersion','StartBinSession\x20successful','addFrameworks','channel','end','KZEOI','slice','getClient','SDK_START_BIN_SESSION','getPlaywrightConfig','threadId','logCreatedEvent','Blqpr','timestamp','SDKClient','start','launchcaps','JjsyE','Missing\x20binSessionId','hash','setCapabilities','setConfig','browserstackConfigFile','LogCreatedEventRequest','pIXzC','name','iZZIW','setEventJson','stopBinSession','gBpxT','MMCAl','setExitCode','kSKxa','setUserInputParams','PlaywrightConfig\x20request\x20successful','7250ShqUJQ','testFrameworkName','format','AccessibilityConfigRequest','EpjKg','Sending\x20TestFrameworkEvent','utf-8','xeKhz','stringify','frameworkSessionId','xYKqF','env','./cliUtils.js','connect','Error\x20in\x20DriverInit:\x20','Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20','VmWAL','ZPufd','setCliArgs:\x20cliArgs=','setProcessId','StopBinSession\x20error:\x20','BROWSERSTACK_CLI_BIN_SESSION_ID','TeVNI','setCliArgsList','setHash','KyJXR','getAccessibilityConfig','SDK_CLI_ON_STOP','listenAddress','BROWSERSTACK_CONFIG_FILE_PATH','hTzAv','setRef','playwrightConfig','BdyGk','LogCreatedEvent\x20request\x20successful','bRDnC','debug','Getting\x20Playwright\x20config','Error\x20in\x20TestFrameworkEvent:\x20','setFilePath','mJpnr','Stopping\x20signal\x20','MfXHU','1968746PGaqMJ','setPathProject','Kyixl','ConnectBinSession\x20error:\x20','setFileSize','DriverInitRequest','arOpy','JXBiX','frameworkName','TestFrameworkEventRequest','Error\x20in\x20connectBinSession:\x20','version','Error\x20in\x20LogCreatedEvent:\x20','HHitm','TestFrameworkEvent\x20request\x20successful','jXHto','setUuid'];a69_0x45ea=function(){return _0x7a380d;};return a69_0x45ea();}function a69_0x2a39(_0x51a27f,_0x46c5f9){const _0x45ea31=a69_0x45ea();return a69_0x2a39=function(_0x2a392d,_0x114942){_0x2a392d=_0x2a392d-0x127;let _0x161a97=_0x45ea31[_0x2a392d];return _0x161a97;},a69_0x2a39(_0x51a27f,_0x46c5f9);}const util=require('util'),logger=require('../../helpers/logger.js')['winstonLogger'],grpc=require(a69_0x450c4a(0x1af)),services=require(a69_0x450c4a(0x131)),messages=require(a69_0x450c4a(0x1f6)),path=require(a69_0x450c4a(0x1ea)),CLIUtils=require(a69_0x450c4a(0x175)),{createClassLogger}=require(a69_0x450c4a(0x1d2)),PerformanceTester=require(a69_0x450c4a(0x204)),{EVENTS:PerformanceEvents}=require('../../helpers/performance/constants'),{PLAYWRIGHT_TRACE_LOGS}=require(a69_0x450c4a(0x1d4)),helper=require(a69_0x450c4a(0x214));class GrpcClient{static #instance=null;[a69_0x450c4a(0x201)]=null;[a69_0x450c4a(0x185)]=null;[a69_0x450c4a(0x149)]=null;[a69_0x450c4a(0x1b1)]=null;['logger']=createClassLogger('GrpcClient');constructor(){}static['getInstance'](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}[a69_0x450c4a(0x1ac)](_0x458152){const _0x4f1b03=a69_0x450c4a,_0x5dbf7e={};_0x5dbf7e['ONnxt']=function(_0x563dcd,_0x195861){return _0x563dcd||_0x195861;};const _0x1b4dea=_0x5dbf7e,{id:_0x1d30f1,listen:_0x5cebc3}=_0x458152;if(_0x1b4dea[_0x4f1b03(0x215)](!_0x1d30f1,!_0x5cebc3))throw new Error('Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20'+_0x1d30f1+_0x4f1b03(0x1e1)+_0x5cebc3);this[_0x4f1b03(0x201)]=_0x1d30f1,this[_0x4f1b03(0x185)]=_0x5cebc3,process[_0x4f1b03(0x174)][_0x4f1b03(0x17e)]=this[_0x4f1b03(0x201)],process['env']['BROWSERSTACK_CLI_BIN_LISTEN_ADDR']=this['listenAddress'],this[_0x4f1b03(0x176)](),this[_0x4f1b03(0x207)][_0x4f1b03(0x13e)](_0x4f1b03(0x178)+this[_0x4f1b03(0x201)]+_0x4f1b03(0x1fd)+this['listenAddress']);}['connect'](){const _0x160d95=a69_0x450c4a,_0x3a5015={};_0x3a5015[_0x160d95(0x17a)]=_0x160d95(0x1a7);const _0x4eae06=_0x3a5015;let _0x587c9f=this['listenAddress'];!_0x587c9f&&(_0x587c9f=process[_0x160d95(0x174)][_0x160d95(0x143)]);!this['binSessionId']&&(this[_0x160d95(0x201)]=this['binSessionId']||process[_0x160d95(0x174)]['BROWSERSTACK_CLI_BIN_SESSION_ID']);if(!_0x587c9f)throw new Error(_0x4eae06['ZPufd']);const _0x48a3b8={};_0x48a3b8['grpc.keepalive_time_ms']=0x2710,this['channel']=new grpc['Channel'](_0x587c9f,grpc[_0x160d95(0x1cd)][_0x160d95(0x138)](),_0x48a3b8),this[_0x160d95(0x1b1)]=new services[(_0x160d95(0x154))](_0x587c9f,grpc[_0x160d95(0x1cd)][_0x160d95(0x138)]()),this['logger']['info']('Connected\x20to\x20gRPC\x20server\x20at\x20'+_0x587c9f);}async['startBinSession'](){const _0x12258f=a69_0x450c4a,_0xe60e4c={'KyJXR':function(_0x16ff80,_0x391de9){return _0x16ff80!==_0x391de9;},'Blqpr':function(_0x26f953,_0x3418fb){return _0x26f953!==_0x3418fb;},'xYKqF':function(_0x49d22b,_0x4a44e1){return _0x49d22b(_0x4a44e1);},'pIXzC':_0x12258f(0x147),'URJwD':'startBinSession:\x20Calling\x20startBinSession','LlXVc':_0x12258f(0x1f4),'TpkYR':_0x12258f(0x1d6),'iPezb':function(_0x80de32,_0x31351e){return _0x80de32 instanceof _0x31351e;},'ybTiX':function(_0x711734,_0x466b9e){return _0x711734===_0x466b9e;},'mjBDT':_0x12258f(0x15c),'VIePM':_0x12258f(0x12f),'VmWAL':_0x12258f(0x1a6),'mNQZV':function(_0x1e44f4,_0x390825){return _0x1e44f4||_0x390825;}};PerformanceTester[_0x12258f(0x155)](PerformanceEvents['SDK_START_BIN_SESSION']),this[_0x12258f(0x207)][_0x12258f(0x13e)](_0xe60e4c[_0x12258f(0x1df)]);try{!this[_0x12258f(0x1b1)]&&this[_0x12258f(0x207)]['info'](_0xe60e4c[_0x12258f(0x1bf)]);const _0x2f27b8=CLIUtils[_0x12258f(0x1f5)](),_0x1254c8=CLIUtils['getAutomationFrameworkDetail'](),_0x4a2539=_0x1254c8['name'],_0xe592a9=_0x1254c8[_0x12258f(0x19f)],_0x50f501=new messages[(_0x12258f(0x1e3))]();_0x50f501['setBinSessionId'](this['binSessionId']),_0x50f501[_0x12258f(0x139)](CLIUtils['getSdkLanguage']()),_0x50f501[_0x12258f(0x1c4)](_0x2f27b8),_0x50f501[_0x12258f(0x195)](process[_0x12258f(0x12b)]());const _0x2a005b=_0x50f501[_0x12258f(0x209)]();Object['entries'](process[_0x12258f(0x174)])[_0x12258f(0x1e9)](([_0x4a604b,_0x2af898])=>{const _0x447cc3=_0x12258f;_0xe60e4c[_0x447cc3(0x182)](_0x2af898,undefined)&&_0xe60e4c[_0x447cc3(0x152)](_0x2af898,null)&&_0x2a005b[_0x447cc3(0x137)](_0x4a604b,_0x2af898);});const _0xc5de73=_0xe60e4c[_0x12258f(0x173)](require,_0xe60e4c['TpkYR']),_0x24fcd7=_0xc5de73['getInstance']()[_0x12258f(0x128)](),_0x28431b=[];_0x24fcd7&&_0xe60e4c['iPezb'](_0x24fcd7,Map)&&_0x24fcd7['forEach']((_0x28652a,_0x59f8b6)=>{const _0x3e2550=_0x12258f;_0x28431b[_0x3e2550(0x20c)](_0x59f8b6+'='+_0x28652a);});const _0x2b2f6e=process[_0x12258f(0x20a)][_0x12258f(0x14c)](0x2);_0x50f501[_0x12258f(0x180)]([..._0x2b2f6e,..._0x28431b]);let _0x2d220d=null;if(_0x24fcd7)for(const [_0x10b9b9,_0x1fd805]of _0x24fcd7){if(_0xe60e4c['ybTiX'](_0x10b9b9,_0xe60e4c[_0x12258f(0x20f)])){_0x2d220d=_0x1fd805;break;}}if(_0x2d220d)_0x50f501['setPathConfig'](_0x2d220d);else process[_0x12258f(0x174)][_0x12258f(0x186)]?_0x50f501[_0x12258f(0x1e6)](process[_0x12258f(0x174)]['BROWSERSTACK_CONFIG_FILE_PATH']):_0x50f501[_0x12258f(0x1e6)](path[_0x12258f(0x206)](process['cwd'](),_0xe60e4c[_0x12258f(0x12a)]));this[_0x12258f(0x207)]['info'](_0x12258f(0x17b)+JSON['stringify'](_0x2b2f6e)+_0x12258f(0x1e4)+(_0x24fcd7?JSON[_0x12258f(0x171)]([..._0x24fcd7]):_0xe60e4c[_0x12258f(0x179)])),_0x50f501['setLanguage'](CLIUtils[_0x12258f(0x1fc)]()),_0x50f501[_0x12258f(0x212)](_0x4a2539);const _0x525b3e=_0x50f501[_0x12258f(0x1bd)]();return _0x525b3e['set'](_0x4a2539,_0xe60e4c['mNQZV'](_0xe592a9,'')),_0x50f501[_0x12258f(0x148)](_0x4a2539,_0xe592a9),_0x50f501[_0x12258f(0x12d)]([_0x4a2539]),new Promise((_0x54f2a7,_0x1c216f)=>{const _0x1a7faf=_0x12258f;this['client'][_0x1a7faf(0x1ec)](_0x50f501,(_0x376fd5,_0x2d2183)=>{const _0xd44a5=_0x1a7faf;if(_0x376fd5){this['logger'][_0xd44a5(0x1d3)](_0xd44a5(0x1a9)+_0x376fd5['message']),_0xe60e4c[_0xd44a5(0x173)](_0x1c216f,_0x376fd5),PerformanceTester[_0xd44a5(0x14a)](PerformanceEvents[_0xd44a5(0x14e)],![],util['format'](_0x376fd5));return;}this['logger'][_0xd44a5(0x13e)](_0xe60e4c[_0xd44a5(0x15e)]),PerformanceTester[_0xd44a5(0x14a)](PerformanceEvents[_0xd44a5(0x14e)]),_0xe60e4c['xYKqF'](_0x54f2a7,_0x2d2183);});});}catch(_0x3e735b){this[_0x12258f(0x207)][_0x12258f(0x1d3)]('Error\x20in\x20startBinSession:\x20'+util[_0x12258f(0x16b)](_0x3e735b)),PerformanceTester[_0x12258f(0x14a)](PerformanceEvents[_0x12258f(0x14e)],![],util[_0x12258f(0x16b)](_0x3e735b));throw _0x3e735b;}}async[a69_0x450c4a(0x1eb)](){const _0x2d8fd4=a69_0x450c4a,_0x45d4bc={'JGAqz':function(_0x4edacc,_0x5e209d){return _0x4edacc(_0x5e209d);},'LPiTi':_0x2d8fd4(0x1c3),'JXBiX':'Connecting\x20bin\x20session','gJaMr':_0x2d8fd4(0x1f4)};PerformanceTester[_0x2d8fd4(0x155)](PerformanceEvents['SDK_CONNECT_BIN_SESSION']),this['logger']['info'](_0x45d4bc[_0x2d8fd4(0x19b)]);try{!this['client']&&this['logger']['info'](_0x45d4bc[_0x2d8fd4(0x141)]);const _0x34bd4d=new messages[(_0x2d8fd4(0x20d))]();_0x34bd4d[_0x2d8fd4(0x1f9)](this[_0x2d8fd4(0x201)]);const _0xcb0c40=await new Promise((_0x4ca864,_0x54796b)=>{const _0x387fa1=_0x2d8fd4;this[_0x387fa1(0x1b1)][_0x387fa1(0x1eb)](_0x34bd4d,(_0x103935,_0x3557a5)=>{const _0x353cc0=_0x387fa1;if(_0x103935){this['logger'][_0x353cc0(0x1d3)](_0x353cc0(0x197)+_0x103935[_0x353cc0(0x1e8)]),_0x45d4bc['JGAqz'](_0x54796b,_0x103935),PerformanceTester[_0x353cc0(0x14a)](PerformanceEvents['SDK_CONNECT_BIN_SESSION'],![],util[_0x353cc0(0x16b)](_0x103935));return;}this['logger'][_0x353cc0(0x13e)](_0x45d4bc[_0x353cc0(0x1ed)]),PerformanceTester['end'](PerformanceEvents['SDK_CONNECT_BIN_SESSION']),_0x45d4bc[_0x353cc0(0x1ab)](_0x4ca864,_0x3557a5);});});return this[_0x2d8fd4(0x207)][_0x2d8fd4(0x18d)](_0x2d8fd4(0x1b6)+util[_0x2d8fd4(0x16b)](_0xcb0c40)),_0xcb0c40;}catch(_0x316e6d){PerformanceTester[_0x2d8fd4(0x14a)](PerformanceEvents['SDK_CONNECT_BIN_SESSION'],![],util['format'](_0x316e6d)),this[_0x2d8fd4(0x207)]['error'](_0x2d8fd4(0x19e)+util['format'](_0x316e6d));throw _0x316e6d;}}async[a69_0x450c4a(0x162)](_0x369678={},_0x431dee=null){const _0x25c2f6=a69_0x450c4a,_0xf79682={'rhOwS':function(_0x266a93,_0x366458){return _0x266a93(_0x366458);},'HHitm':_0x25c2f6(0x1b9),'Ninvq':function(_0x1f3dae,_0x166859){return _0x1f3dae(_0x166859);},'hTzAv':_0x25c2f6(0x1e5),'BdyGk':_0x25c2f6(0x158),'kpuMa':'No\x20gRPC\x20client\x20not\x20initialized.','OsTta':_0x25c2f6(0x1c5)};PerformanceTester[_0x25c2f6(0x155)](PerformanceEvents[_0x25c2f6(0x184)]),this['logger'][_0x25c2f6(0x13e)](_0xf79682[_0x25c2f6(0x187)]);try{if(!this[_0x25c2f6(0x201)])throw new Error(_0xf79682[_0x25c2f6(0x18a)]);!this[_0x25c2f6(0x1b1)]&&this[_0x25c2f6(0x207)]['info'](_0xf79682[_0x25c2f6(0x1c0)]);const _0x2ce3a5=new messages[(_0x25c2f6(0x134))]();this[_0x25c2f6(0x207)][_0x25c2f6(0x18d)](_0x25c2f6(0x192)+JSON['stringify'](_0x431dee)),_0x2ce3a5['setBinSessionId'](this[_0x25c2f6(0x201)]),_0x2ce3a5[_0x25c2f6(0x1bb)](_0x369678),_0x2ce3a5[_0x25c2f6(0x1aa)](_0x431dee?_0x431dee:null),_0x2ce3a5[_0x25c2f6(0x1c2)](_0x431dee?_0xf79682[_0x25c2f6(0x1cf)]:null),_0x2ce3a5[_0x25c2f6(0x165)](_0x431dee?0x1:0x0);const _0x2c980e=await new Promise((_0x318587,_0xeee141)=>{const _0x2d58cc=_0x25c2f6,_0x2bdbae={'hsbWj':function(_0x581bf1,_0x482eda){return _0xf79682['rhOwS'](_0x581bf1,_0x482eda);},'kSKxa':_0xf79682[_0x2d58cc(0x1a1)],'KqkBZ':function(_0x33411a,_0x2845d4){const _0x136fd1=_0x2d58cc;return _0xf79682[_0x136fd1(0x20e)](_0x33411a,_0x2845d4);}};this[_0x2d58cc(0x1b1)][_0x2d58cc(0x162)](_0x2ce3a5,(_0x114dbf,_0x2cd526)=>{const _0x1872a7=_0x2d58cc;if(_0x114dbf){this[_0x1872a7(0x207)]['error'](_0x1872a7(0x17d)+_0x114dbf['message']),_0x2bdbae['hsbWj'](_0xeee141,_0x114dbf),PerformanceTester[_0x1872a7(0x14a)](PerformanceEvents[_0x1872a7(0x184)],![],util[_0x1872a7(0x16b)](_0x114dbf));return;}this[_0x1872a7(0x207)][_0x1872a7(0x13e)](_0x2bdbae[_0x1872a7(0x166)]),PerformanceTester[_0x1872a7(0x14a)](PerformanceEvents['SDK_CLI_ON_STOP']),_0x2bdbae[_0x1872a7(0x1d7)](_0x318587,_0x2cd526);});});return this[_0x25c2f6(0x207)]['debug'](_0x25c2f6(0x1fa)+util[_0x25c2f6(0x16b)](_0x2c980e)),_0x2c980e;}catch(_0x3836c1){PerformanceTester['end'](PerformanceEvents[_0x25c2f6(0x184)],![],util['format'](_0x3836c1)),this['logger']['error'](_0x25c2f6(0x133)+util[_0x25c2f6(0x16b)](_0x3836c1));}}async[a69_0x450c4a(0x14f)](_0x409a85){const _0x52084d=a69_0x450c4a,_0x2d0bb3={'EmFQU':function(_0x221a95,_0x1f6f5f){return _0x221a95(_0x1f6f5f);},'UHSOC':_0x52084d(0x168),'Kyixl':function(_0x18d1a2,_0x5977a7){return _0x18d1a2(_0x5977a7);},'GWuNX':_0x52084d(0x18e),'mJpnr':_0x52084d(0x1f4)};PerformanceTester['start'](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT']),this[_0x52084d(0x207)][_0x52084d(0x13e)](_0x2d0bb3[_0x52084d(0x1e0)]);try{!this[_0x52084d(0x1b1)]&&this['logger']['info'](_0x2d0bb3[_0x52084d(0x191)]);const _0x54838c=new messages[(_0x52084d(0x1ce))]();return _0x54838c[_0x52084d(0x1f9)](this[_0x52084d(0x201)]),_0x54838c[_0x52084d(0x15b)](JSON['stringify'](_0x409a85)),new Promise((_0xd4923e,_0x7d5e04)=>{const _0x34b56e=_0x52084d,_0x47d360={'LBDKC':function(_0x5e8913,_0x1471d6){return _0x2d0bb3['EmFQU'](_0x5e8913,_0x1471d6);},'PQdal':_0x2d0bb3['UHSOC'],'ENEDk':function(_0x1cac93,_0x4baa16){const _0x5ba8a8=a69_0x2a39;return _0x2d0bb3[_0x5ba8a8(0x196)](_0x1cac93,_0x4baa16);}};this[_0x34b56e(0x1b1)][_0x34b56e(0x189)](_0x54838c,(_0x2d6173,_0x5325a3)=>{const _0x50580a=_0x34b56e;if(_0x2d6173){this[_0x50580a(0x207)][_0x50580a(0x1d3)](_0x50580a(0x208)+_0x2d6173[_0x50580a(0x1e8)]),_0x47d360[_0x50580a(0x1ff)](_0x7d5e04,_0x2d6173),PerformanceTester[_0x50580a(0x14a)](PerformanceEvents[_0x50580a(0x13f)],![],util[_0x50580a(0x16b)](_0x2d6173));return;}this[_0x50580a(0x207)][_0x50580a(0x13e)](_0x47d360['PQdal']),PerformanceTester['end'](PerformanceEvents[_0x50580a(0x13f)]),_0x47d360[_0x50580a(0x135)](_0xd4923e,_0x5325a3);});});}catch(_0x12a93a){PerformanceTester[_0x52084d(0x14a)](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT'],![],util[_0x52084d(0x16b)](_0x12a93a)),this[_0x52084d(0x207)][_0x52084d(0x1d3)](_0x52084d(0x1fe)+util[_0x52084d(0x16b)](_0x12a93a));throw _0x12a93a;}}async[a69_0x450c4a(0x183)](_0xe54e11){const _0x451ff6=a69_0x450c4a,_0x5c186a={'pdCEo':function(_0x487ca3,_0x204f9d){return _0x487ca3(_0x204f9d);},'cyqgt':_0x451ff6(0x129),'iZZIW':'Getting\x20Accessibility\x20config','omnUz':_0x451ff6(0x16f)};this[_0x451ff6(0x207)][_0x451ff6(0x13e)](_0x5c186a[_0x451ff6(0x160)]);try{const _0x42ad59=Buffer[_0x451ff6(0x1c9)](JSON['stringify'](_0xe54e11[_0x451ff6(0x156)]),_0x5c186a[_0x451ff6(0x200)]),_0x39d151=new messages[(_0x451ff6(0x16c))](),_0x21c8a8=CLIUtils['getAutomationFrameworkDetail'](),_0x133c7a=_0x21c8a8[_0x451ff6(0x15f)],_0x3c71df=_0x21c8a8[_0x451ff6(0x19f)];return _0x39d151[_0x451ff6(0x1f9)](this[_0x451ff6(0x201)]),_0x39d151[_0x451ff6(0x1d8)](0x0),_0x39d151[_0x451ff6(0x142)](_0x133c7a),_0x39d151['setFrameworkVersion'](_0x3c71df),_0x39d151[_0x451ff6(0x1f1)](_0xe54e11[_0x451ff6(0x1f7)]),_0x39d151[_0x451ff6(0x15a)](_0x42ad59),new Promise((_0x1e2e16,_0x578c6f)=>{const _0x1e4412=_0x451ff6,_0x8cf1a0={'fPBay':function(_0x575d0e,_0x567288){return _0x5c186a['pdCEo'](_0x575d0e,_0x567288);},'TeVNI':_0x5c186a[_0x1e4412(0x1b3)]};this[_0x1e4412(0x1b1)][_0x1e4412(0x1ad)](_0x39d151,(_0x470bb7,_0x1c41a5)=>{const _0x3eb5b5=_0x1e4412;if(_0x470bb7){this[_0x3eb5b5(0x207)][_0x3eb5b5(0x1d3)](_0x3eb5b5(0x132)+_0x470bb7['message']),_0x8cf1a0[_0x3eb5b5(0x12e)](_0x578c6f,_0x470bb7);return;}this[_0x3eb5b5(0x207)]['info'](_0x8cf1a0[_0x3eb5b5(0x17f)]),_0x8cf1a0[_0x3eb5b5(0x12e)](_0x1e2e16,_0x1c41a5);});});}catch(_0xfa8964){this['logger'][_0x451ff6(0x1d3)](_0x451ff6(0x1cc)+util[_0x451ff6(0x16b)](_0xfa8964));}}async[a69_0x450c4a(0x202)](_0x338efe){const _0x26b9e1=a69_0x450c4a,_0x2165bb={'BhcXX':function(_0x2be704,_0x4928dd){return _0x2be704(_0x4928dd);},'JOuWR':'TestSessionEvent\x20request\x20successful','dTTgT':function(_0x21ea31,_0x4725a8){return _0x21ea31(_0x4725a8);},'MfXHU':_0x26b9e1(0x140),'gBpxT':_0x26b9e1(0x1f4)};this[_0x26b9e1(0x207)][_0x26b9e1(0x13e)](_0x2165bb[_0x26b9e1(0x193)]);try{!this[_0x26b9e1(0x1b1)]&&this[_0x26b9e1(0x207)]['info'](_0x2165bb[_0x26b9e1(0x163)]);const {platformIndex:_0x5d0eab,testFrameworkName:_0x3c5070,testFrameworkVersion:_0x298a9e,testFrameworkState:_0x242724,testHookState:_0x1da530,testUuid:_0x4a42b3,automationSession:_0x4638c3,capabilities:_0x5e7bd7,executionContext:_0x4b867c}=_0x338efe,_0x473d9c=new messages[(_0x26b9e1(0x1ca))]();_0x473d9c[_0x26b9e1(0x1f9)](this[_0x26b9e1(0x201)]),_0x473d9c[_0x26b9e1(0x1d8)](_0x5d0eab),_0x473d9c[_0x26b9e1(0x1e2)](_0x3c5070),_0x473d9c[_0x26b9e1(0x20b)](_0x298a9e),_0x473d9c[_0x26b9e1(0x211)](_0x242724),_0x473d9c[_0x26b9e1(0x1fb)](_0x1da530),_0x473d9c['setTestUuid'](_0x4a42b3);const _0xa215a5=new messages[(_0x26b9e1(0x1ca))]['AutomationSession']();_0xa215a5[_0x26b9e1(0x1f0)](_0x4638c3[_0x26b9e1(0x1d1)]),_0xa215a5[_0x26b9e1(0x142)](_0x4638c3[_0x26b9e1(0x19c)]),_0xa215a5[_0x26b9e1(0x146)](_0x4638c3['frameworkVersion']),_0xa215a5[_0x26b9e1(0x1ef)](_0x4638c3[_0x26b9e1(0x172)]),_0xa215a5[_0x26b9e1(0x188)](_0x4638c3['ref']),_0xa215a5[_0x26b9e1(0x1f1)](_0x4638c3[_0x26b9e1(0x1f7)]),_0x473d9c['addAutomationSessions'](_0xa215a5),_0x473d9c[_0x26b9e1(0x15a)](_0x5e7bd7);const _0xe50288=new messages['ExecutionContext']();return _0xe50288['setProcessId'](_0x4b867c['processId']),_0xe50288['setThreadId'](_0x4b867c[_0x26b9e1(0x150)]),_0xe50288[_0x26b9e1(0x181)](_0x4b867c[_0x26b9e1(0x159)]),_0x473d9c[_0x26b9e1(0x1f3)](_0xe50288),new Promise((_0x570f79,_0x12060c)=>{const _0x59e0d0=_0x26b9e1;this[_0x59e0d0(0x1b1)][_0x59e0d0(0x202)](_0x473d9c,(_0x4ba164,_0x4b1cc5)=>{const _0x1b2b79=_0x59e0d0;if(_0x4ba164){this[_0x1b2b79(0x207)][_0x1b2b79(0x1d3)]('TestSessionEvent\x20error:\x20'+_0x4ba164[_0x1b2b79(0x1e8)]),_0x2165bb[_0x1b2b79(0x1c6)](_0x12060c,_0x4ba164);return;}this[_0x1b2b79(0x207)]['info'](_0x2165bb[_0x1b2b79(0x1d9)]),_0x2165bb[_0x1b2b79(0x144)](_0x570f79,_0x4b1cc5);});});}catch(_0x4ae54a){this[_0x26b9e1(0x207)][_0x26b9e1(0x1d3)]('Error\x20in\x20TestSessionEvent:\x20'+util[_0x26b9e1(0x16b)](_0x4ae54a));throw _0x4ae54a;}}async[a69_0x450c4a(0x1da)](_0x4e0acd){const _0x461bd9=a69_0x450c4a,_0x5b241c={'BmesU':function(_0x230b77,_0x2d8c3a){return _0x230b77(_0x2d8c3a);},'EpjKg':_0x461bd9(0x1a2),'jXHto':_0x461bd9(0x16e),'ypCQN':_0x461bd9(0x1f4)};this[_0x461bd9(0x207)][_0x461bd9(0x13e)](_0x5b241c[_0x461bd9(0x1a3)]);try{!this['client']&&this[_0x461bd9(0x207)][_0x461bd9(0x13e)](_0x5b241c[_0x461bd9(0x1a5)]);const {platfromIndex:_0x256f0a,testFrameworkName:_0x2d4b68,testFrameworkVersion:_0x241adf,testFrameworkState:_0x31f0c3,hookState:_0x112103,startedAt:_0x29b27b,endedAt:_0x42831a,uuid:_0x580a50,eventJson:_0x4c079f,executionContext:_0x9b9b31}=_0x4e0acd,_0x369fda=new messages[(_0x461bd9(0x19d))]();_0x369fda[_0x461bd9(0x1f9)](this[_0x461bd9(0x201)]),_0x369fda[_0x461bd9(0x1d8)](_0x256f0a),_0x369fda[_0x461bd9(0x1e2)](_0x2d4b68),_0x369fda['setTestFrameworkVersion'](_0x241adf),_0x369fda[_0x461bd9(0x211)](_0x31f0c3),_0x369fda[_0x461bd9(0x1fb)](_0x112103),_0x369fda[_0x461bd9(0x210)](_0x29b27b),_0x369fda[_0x461bd9(0x1f2)](_0x42831a),_0x369fda[_0x461bd9(0x1a4)](_0x580a50),_0x369fda[_0x461bd9(0x161)](_0x4c079f);const _0x3ac4d5=new messages['ExecutionContext']();return _0x3ac4d5[_0x461bd9(0x17c)](_0x9b9b31[_0x461bd9(0x1a8)]),_0x3ac4d5['setThreadId'](_0x9b9b31[_0x461bd9(0x150)]),_0x3ac4d5[_0x461bd9(0x181)](_0x9b9b31['hash']),_0x369fda['setExecutionContext'](_0x3ac4d5),new Promise((_0x399f30,_0x2b345c)=>{const _0x3d68c7=_0x461bd9;this[_0x3d68c7(0x1b1)][_0x3d68c7(0x1da)](_0x369fda,(_0x417171,_0x46b38c)=>{const _0x26e656=_0x3d68c7;if(_0x417171){this['logger'][_0x26e656(0x1d3)](_0x26e656(0x127)+_0x417171['message']),_0x5b241c['BmesU'](_0x2b345c,_0x417171);return;}this[_0x26e656(0x207)][_0x26e656(0x13e)](_0x5b241c[_0x26e656(0x16d)]),_0x5b241c[_0x26e656(0x1d0)](_0x399f30,_0x46b38c);});});}catch(_0x37062d){this['logger']['error'](_0x461bd9(0x18f)+util[_0x461bd9(0x16b)](_0x37062d));throw _0x37062d;}}async['driverInit'](_0x2163fb){const _0x3405cc=a69_0x450c4a,_0x8e909c={'bDXzb':function(_0x325401,_0x1c154f){return _0x325401(_0x1c154f);},'xeKhz':_0x3405cc(0x203),'KZEOI':'Sending\x20DriverInit','MMCAl':_0x3405cc(0x1f4)};this['logger'][_0x3405cc(0x13e)](_0x8e909c[_0x3405cc(0x14b)]);try{!this['client']&&this[_0x3405cc(0x207)]['info'](_0x8e909c[_0x3405cc(0x164)]);const {platformIndex:_0x3c0cfd,ref:_0x376e27,userInputParams:_0x2f7689}=_0x2163fb,_0x3ea485=new messages[(_0x3405cc(0x199))]();return _0x3ea485['setBinSessionId'](this['binSessionId']),_0x3ea485[_0x3405cc(0x1d8)](_0x3c0cfd),_0x3ea485['setRef'](_0x376e27),_0x3ea485[_0x3405cc(0x167)](_0x2f7689),new Promise((_0x2358a1,_0x4cdf81)=>{const _0x2d7886=_0x3405cc,_0x2cf33c={'tAGFl':function(_0x166982,_0x14bfa){const _0x51af0d=a69_0x2a39;return _0x8e909c[_0x51af0d(0x1b4)](_0x166982,_0x14bfa);},'RmUaI':_0x8e909c[_0x2d7886(0x170)],'iHVFy':function(_0x35b187,_0x7be2ba){const _0x18fe31=_0x2d7886;return _0x8e909c[_0x18fe31(0x1b4)](_0x35b187,_0x7be2ba);}};this['client'][_0x2d7886(0x1c7)](_0x3ea485,(_0x57d1ed,_0x5ad6c0)=>{const _0x34e6b7=_0x2d7886;if(_0x57d1ed){this[_0x34e6b7(0x207)]['error'](_0x34e6b7(0x1b8)+_0x57d1ed['message']),_0x2cf33c['tAGFl'](_0x4cdf81,_0x57d1ed);return;}this[_0x34e6b7(0x207)]['info'](_0x2cf33c[_0x34e6b7(0x13b)]),_0x2cf33c[_0x34e6b7(0x130)](_0x2358a1,_0x5ad6c0);});});}catch(_0xd6d6c4){this[_0x3405cc(0x207)][_0x3405cc(0x1d3)](_0x3405cc(0x177)+util[_0x3405cc(0x16b)](_0xd6d6c4));throw _0xd6d6c4;}}async[a69_0x450c4a(0x151)](_0x53d29a){const _0xe6b00c=a69_0x450c4a,_0x54aef6={'arOpy':function(_0x4195f,_0x1fcf09){return _0x4195f===_0x1fcf09;},'bRDnC':function(_0x4c44b8,_0x1ad289){return _0x4c44b8(_0x1ad289);},'JjsyE':_0xe6b00c(0x18b),'GkQfL':function(_0x18fbfa,_0x1006de){return _0x18fbfa(_0x1006de);},'lKNPB':_0xe6b00c(0x213),'uDfxt':_0xe6b00c(0x1f4)};this[_0xe6b00c(0x207)][_0xe6b00c(0x13e)](_0x54aef6[_0xe6b00c(0x1e7)]);try{!this[_0xe6b00c(0x1b1)]&&this['logger']['info'](_0x54aef6[_0xe6b00c(0x1b7)]);const {platformIndex:_0x49801d,logs:_0x4f645d}=_0x53d29a,_0x217779=new messages[(_0xe6b00c(0x15d))]();_0x217779[_0xe6b00c(0x1f9)](this[_0xe6b00c(0x201)]),_0x217779[_0xe6b00c(0x1d8)](_0x49801d);const _0x1791f8=_0x53d29a[_0xe6b00c(0x16a)],_0x2b4d8e=_0x53d29a[_0xe6b00c(0x1dc)],_0x3a38a7=_0x53d29a['testFrameworkState'];return _0x4f645d['forEach'](_0x4350d0=>{const _0x557d0b=_0xe6b00c,_0x4e15cb=new messages['LogCreatedEventRequest'][(_0x557d0b(0x1be))]();_0x4e15cb[_0x557d0b(0x1e2)](_0x1791f8),_0x4e15cb[_0x557d0b(0x20b)](_0x2b4d8e),_0x4e15cb[_0x557d0b(0x211)](_0x3a38a7),_0x4e15cb[_0x557d0b(0x13d)](_0x4350d0[_0x557d0b(0x153)]),_0x4e15cb[_0x557d0b(0x1a4)](_0x4350d0['uuid']),_0x4e15cb[_0x557d0b(0x1f8)](_0x4350d0['kind']),_0x54aef6[_0x557d0b(0x19a)](_0x4350d0[_0x557d0b(0x12c)],PLAYWRIGHT_TRACE_LOGS)?(_0x4e15cb[_0x557d0b(0x1a4)](_0x4350d0[_0x557d0b(0x1b5)]),_0x4e15cb[_0x557d0b(0x1cb)](new TextEncoder()[_0x557d0b(0x1b0)](JSON[_0x557d0b(0x171)](_0x4350d0)))):_0x4e15cb[_0x557d0b(0x1cb)](new TextEncoder()[_0x557d0b(0x1b0)](_0x4350d0[_0x557d0b(0x1e8)])),_0x4e15cb[_0x557d0b(0x1ee)](_0x4350d0[_0x557d0b(0x1b2)]),_0x4e15cb['setFileName'](_0x4350d0?.[_0x557d0b(0x1c8)]||''),_0x4e15cb[_0x557d0b(0x190)](_0x4350d0?.['filePath']||''),_0x4e15cb[_0x557d0b(0x198)](_0x4350d0?.[_0x557d0b(0x216)]||0x0),_0x4e15cb[_0x557d0b(0x1d5)](_0x4350d0?.[_0x557d0b(0x12c)]||''),_0x217779[_0x557d0b(0x1dd)](_0x4e15cb);}),new Promise((_0x382307,_0x38e7e3)=>{const _0x16ea67=_0xe6b00c;this[_0x16ea67(0x1b1)][_0x16ea67(0x151)](_0x217779,(_0x1f10f0,_0x19edb2)=>{const _0x5028e2=_0x16ea67;if(_0x1f10f0){this[_0x5028e2(0x207)][_0x5028e2(0x1d3)](_0x5028e2(0x1bc)+_0x1f10f0[_0x5028e2(0x1e8)]),_0x54aef6[_0x5028e2(0x18c)](_0x38e7e3,_0x1f10f0);return;}this[_0x5028e2(0x207)][_0x5028e2(0x13e)](_0x54aef6[_0x5028e2(0x157)]),_0x54aef6[_0x5028e2(0x136)](_0x382307,_0x19edb2);});});}catch(_0x2d84ad){this[_0xe6b00c(0x207)]['error'](_0xe6b00c(0x1a0)+util[_0xe6b00c(0x16b)](_0x2d84ad));throw _0x2d84ad;}}[a69_0x450c4a(0x14d)](){const _0x5b71fc=a69_0x450c4a;return this[_0x5b71fc(0x1b1)];}[a69_0x450c4a(0x1de)](){const _0x39b7a9=a69_0x450c4a;return this[_0x39b7a9(0x149)];}}module['exports']=GrpcClient;