const a69_0x4b9d5e=a69_0xb91b;function a69_0xb91b(_0x7a7e44,_0x490b56){const _0x539fac=a69_0x539f();return a69_0xb91b=function(_0xb91b82,_0x14a49d){_0xb91b82=_0xb91b82-0x1d4;let _0x1471d1=_0x539fac[_0xb91b82];return _0x1471d1;},a69_0xb91b(_0x7a7e44,_0x490b56);}(function(_0x26cfef,_0x510084){const _0x4fe359=a69_0xb91b,_0x475b46=_0x26cfef();while(!![]){try{const _0x449e9f=parseInt(_0x4fe359(0x228))/0x1*(parseInt(_0x4fe359(0x230))/0x2)+-parseInt(_0x4fe359(0x211))/0x3+parseInt(_0x4fe359(0x241))/0x4*(parseInt(_0x4fe359(0x283))/0x5)+-parseInt(_0x4fe359(0x220))/0x6*(-parseInt(_0x4fe359(0x29c))/0x7)+-parseInt(_0x4fe359(0x2b6))/0x8*(-parseInt(_0x4fe359(0x2b0))/0x9)+-parseInt(_0x4fe359(0x223))/0xa+parseInt(_0x4fe359(0x210))/0xb;if(_0x449e9f===_0x510084)break;else _0x475b46['push'](_0x475b46['shift']());}catch(_0x38205e){_0x475b46['push'](_0x475b46['shift']());}}}(a69_0x539f,0xd3834));const util=require('util'),logger=require(a69_0x4b9d5e(0x23f))[a69_0x4b9d5e(0x296)],grpc=require(a69_0x4b9d5e(0x212)),services=require(a69_0x4b9d5e(0x2b7)),messages=require('../../../generated/sdk-messages_pb'),path=require('path'),CLIUtils=require('./cliUtils.js'),{createClassLogger}=require(a69_0x4b9d5e(0x1f4)),PerformanceTester=require(a69_0x4b9d5e(0x281)),{EVENTS:PerformanceEvents}=require(a69_0x4b9d5e(0x279)),{PLAYWRIGHT_TRACE_LOGS}=require(a69_0x4b9d5e(0x28a)),helper=require('../../helpers/helper.js');class GrpcClient{static #instance=null;[a69_0x4b9d5e(0x2ab)]=null;[a69_0x4b9d5e(0x262)]=null;[a69_0x4b9d5e(0x1db)]=null;[a69_0x4b9d5e(0x1f1)]=null;[a69_0x4b9d5e(0x2ae)]=createClassLogger('GrpcClient');constructor(){}static[a69_0x4b9d5e(0x25c)](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}[a69_0x4b9d5e(0x207)](_0x1c0f53){const _0x39c608=a69_0x4b9d5e,_0x27c743={};_0x27c743[_0x39c608(0x284)]=function(_0x457eff,_0x2af139){return _0x457eff||_0x2af139;};const _0x5d7f38=_0x27c743,{id:_0x23ab1d,listen:_0x4e3d07}=_0x1c0f53;if(_0x5d7f38[_0x39c608(0x284)](!_0x23ab1d,!_0x4e3d07))throw new Error('Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20'+_0x23ab1d+_0x39c608(0x24b)+_0x4e3d07);this[_0x39c608(0x2ab)]=_0x23ab1d,this['listenAddress']=_0x4e3d07,process['env']['BROWSERSTACK_CLI_BIN_SESSION_ID']=this[_0x39c608(0x2ab)],process['env']['BROWSERSTACK_CLI_BIN_LISTEN_ADDR']=this['listenAddress'],this['connect'](),this[_0x39c608(0x2ae)]['info'](_0x39c608(0x26f)+this[_0x39c608(0x2ab)]+_0x39c608(0x248)+this['listenAddress']);}[a69_0x4b9d5e(0x253)](){const _0x26b4c1=a69_0x4b9d5e,_0x6b77b1={};_0x6b77b1[_0x26b4c1(0x257)]=_0x26b4c1(0x2b1);const _0x200f0e=_0x6b77b1;let _0x4e3828=this[_0x26b4c1(0x262)];!_0x4e3828&&(_0x4e3828=process[_0x26b4c1(0x201)][_0x26b4c1(0x22a)]);!this['binSessionId']&&(this['binSessionId']=this[_0x26b4c1(0x2ab)]||process[_0x26b4c1(0x201)][_0x26b4c1(0x217)]);if(!_0x4e3828)throw new Error(_0x200f0e[_0x26b4c1(0x257)]);const _0x298327={};_0x298327[_0x26b4c1(0x203)]=0x2710,this[_0x26b4c1(0x1db)]=new grpc[(_0x26b4c1(0x1de))](_0x4e3828,grpc[_0x26b4c1(0x1d7)][_0x26b4c1(0x2a4)](),_0x298327),this[_0x26b4c1(0x1f1)]=new services[(_0x26b4c1(0x2a5))](_0x4e3828,grpc[_0x26b4c1(0x1d7)][_0x26b4c1(0x2a4)]()),this['logger'][_0x26b4c1(0x288)]('Connected\x20to\x20gRPC\x20server\x20at\x20'+_0x4e3828);}async[a69_0x4b9d5e(0x24e)](){const _0x397967=a69_0x4b9d5e,_0x52bd0e={'LlKVl':function(_0x28dab1,_0x36e2b1){return _0x28dab1!==_0x36e2b1;},'tSLYP':function(_0x509351,_0x5310db){return _0x509351(_0x5310db);},'cSrmX':_0x397967(0x1ff),'JvQIK':'startBinSession:\x20Calling\x20startBinSession','eFrvs':_0x397967(0x1f7),'XEMKi':function(_0x4e91f8,_0x9ec653){return _0x4e91f8(_0x9ec653);},'jdxYP':_0x397967(0x2a8),'joxro':function(_0x43fbc2,_0x45a9f0){return _0x43fbc2 instanceof _0x45a9f0;},'rAVRa':function(_0x30473a,_0x53c1a9){return _0x30473a===_0x53c1a9;},'cgVIU':'browserstackConfigFile','bmHoM':_0x397967(0x1fd),'MJWAf':_0x397967(0x1e7),'vGSXp':function(_0x4b3cdf,_0x58af80){return _0x4b3cdf||_0x58af80;}};PerformanceTester[_0x397967(0x298)](PerformanceEvents[_0x397967(0x1f3)]),this[_0x397967(0x2ae)]['info'](_0x52bd0e[_0x397967(0x2ac)]);try{!this[_0x397967(0x1f1)]&&this['logger'][_0x397967(0x288)](_0x52bd0e[_0x397967(0x255)]);const _0x59d28e=CLIUtils[_0x397967(0x1d4)](),_0xe65c21=CLIUtils['getAutomationFrameworkDetail'](),_0x27d40b=_0xe65c21['name'],_0x1f2394=_0xe65c21['version'],_0x213f0c=new messages[(_0x397967(0x280))]();_0x213f0c['setBinSessionId'](this[_0x397967(0x2ab)]),_0x213f0c[_0x397967(0x1e0)](CLIUtils[_0x397967(0x22d)]()),_0x213f0c[_0x397967(0x27a)](_0x59d28e),_0x213f0c[_0x397967(0x22c)](process[_0x397967(0x276)]());const _0xe5b85c=_0x213f0c[_0x397967(0x1fb)]();Object[_0x397967(0x282)](process[_0x397967(0x201)])['forEach'](([_0x25fa0e,_0x369be6])=>{const _0x1aba38=_0x397967;_0x52bd0e[_0x1aba38(0x2af)](_0x369be6,undefined)&&_0x52bd0e[_0x1aba38(0x2af)](_0x369be6,null)&&_0xe5b85c['set'](_0x25fa0e,_0x369be6);});const _0x48ef31=_0x52bd0e[_0x397967(0x289)](require,_0x52bd0e[_0x397967(0x266)]),_0x305a0f=_0x48ef31[_0x397967(0x25c)]()[_0x397967(0x23e)](),_0x53c9c1=[];_0x305a0f&&_0x52bd0e[_0x397967(0x238)](_0x305a0f,Map)&&_0x305a0f['forEach']((_0xa338f2,_0x2241d8)=>{const _0x2331ab=_0x397967;_0x53c9c1[_0x2331ab(0x245)](_0x2241d8+'='+_0xa338f2);});const _0x57adeb=process['argv'][_0x397967(0x2a6)](0x2);_0x213f0c[_0x397967(0x1d9)]([..._0x57adeb,..._0x53c9c1]);let _0xd40117=null;if(_0x305a0f)for(const [_0x32c5ef,_0x5a6bc1]of _0x305a0f){if(_0x52bd0e[_0x397967(0x22b)](_0x32c5ef,_0x52bd0e[_0x397967(0x26e)])){_0xd40117=_0x5a6bc1;break;}}if(_0xd40117)_0x213f0c['setPathConfig'](_0xd40117);else process[_0x397967(0x201)][_0x397967(0x1ee)]?_0x213f0c[_0x397967(0x20d)](process[_0x397967(0x201)][_0x397967(0x1ee)]):_0x213f0c[_0x397967(0x20d)](path[_0x397967(0x261)](process[_0x397967(0x276)](),_0x52bd0e[_0x397967(0x20c)]));this['logger'][_0x397967(0x288)](_0x397967(0x213)+JSON['stringify'](_0x57adeb)+',\x20parsedConfig='+(_0x305a0f?JSON[_0x397967(0x226)]([..._0x305a0f]):_0x52bd0e[_0x397967(0x21b)])),_0x213f0c[_0x397967(0x200)](CLIUtils[_0x397967(0x22d)]()),_0x213f0c[_0x397967(0x26a)](_0x27d40b);const _0xe1f4c0=_0x213f0c[_0x397967(0x225)]();return _0xe1f4c0[_0x397967(0x24d)](_0x27d40b,_0x52bd0e[_0x397967(0x1ec)](_0x1f2394,'')),_0x213f0c[_0x397967(0x28f)](_0x27d40b,_0x1f2394),_0x213f0c[_0x397967(0x2a2)]([_0x27d40b]),new Promise((_0xe6c681,_0x204e03)=>{const _0x2dcdd0=_0x397967;this['client'][_0x2dcdd0(0x24e)](_0x213f0c,(_0x24c915,_0x4ef1da)=>{const _0x56c222=_0x2dcdd0;if(_0x24c915){this[_0x56c222(0x2ae)][_0x56c222(0x204)]('StartBinSession\x20error:\x20'+_0x24c915['message']),_0x52bd0e[_0x56c222(0x236)](_0x204e03,_0x24c915),PerformanceTester[_0x56c222(0x251)](PerformanceEvents[_0x56c222(0x1f3)],![],util[_0x56c222(0x205)](_0x24c915));return;}this[_0x56c222(0x2ae)]['info'](_0x52bd0e[_0x56c222(0x206)]),PerformanceTester[_0x56c222(0x251)](PerformanceEvents[_0x56c222(0x1f3)]),_0x52bd0e[_0x56c222(0x236)](_0xe6c681,_0x4ef1da);});});}catch(_0x24a37a){this[_0x397967(0x2ae)][_0x397967(0x204)](_0x397967(0x272)+util[_0x397967(0x205)](_0x24a37a)),PerformanceTester['end'](PerformanceEvents[_0x397967(0x1f3)],![],util['format'](_0x24a37a));throw _0x24a37a;}}async[a69_0x4b9d5e(0x269)](){const _0xedb2fe=a69_0x4b9d5e,_0x18c1cc={'WApWD':function(_0x2077d6,_0x48b8e1){return _0x2077d6(_0x48b8e1);},'lRJZB':'ConnectBinSession\x20successful','HVfvk':function(_0x3936a5,_0x5d49f4){return _0x3936a5(_0x5d49f4);},'rvNkC':'Connecting\x20bin\x20session','MdUgn':_0xedb2fe(0x1f7)};PerformanceTester[_0xedb2fe(0x298)](PerformanceEvents[_0xedb2fe(0x1e9)]),this[_0xedb2fe(0x2ae)][_0xedb2fe(0x288)](_0x18c1cc[_0xedb2fe(0x25b)]);try{!this['client']&&this[_0xedb2fe(0x2ae)][_0xedb2fe(0x288)](_0x18c1cc['MdUgn']);const _0x1b8921=new messages['ConnectBinSessionRequest']();_0x1b8921[_0xedb2fe(0x259)](this[_0xedb2fe(0x2ab)]);const _0x5d06f7=await new Promise((_0xc00f31,_0x1efb2f)=>{const _0x3f6d61=_0xedb2fe;this[_0x3f6d61(0x1f1)][_0x3f6d61(0x269)](_0x1b8921,(_0x3b8b6e,_0x5d55cf)=>{const _0x5230a1=_0x3f6d61;if(_0x3b8b6e){this['logger'][_0x5230a1(0x204)]('ConnectBinSession\x20error:\x20'+_0x3b8b6e[_0x5230a1(0x2a3)]),_0x18c1cc[_0x5230a1(0x2a0)](_0x1efb2f,_0x3b8b6e),PerformanceTester['end'](PerformanceEvents[_0x5230a1(0x1e9)],![],util[_0x5230a1(0x205)](_0x3b8b6e));return;}this['logger']['info'](_0x18c1cc[_0x5230a1(0x24c)]),PerformanceTester[_0x5230a1(0x251)](PerformanceEvents['SDK_CONNECT_BIN_SESSION']),_0x18c1cc[_0x5230a1(0x21a)](_0xc00f31,_0x5d55cf);});});return this[_0xedb2fe(0x2ae)][_0xedb2fe(0x2b4)]('connect-bin-session\x20response:\x20'+util['format'](_0x5d06f7)),_0x5d06f7;}catch(_0x38c0ad){PerformanceTester[_0xedb2fe(0x251)](PerformanceEvents['SDK_CONNECT_BIN_SESSION'],![],util['format'](_0x38c0ad)),this[_0xedb2fe(0x2ae)][_0xedb2fe(0x204)]('Error\x20in\x20connectBinSession:\x20'+util[_0xedb2fe(0x205)](_0x38c0ad));throw _0x38c0ad;}}async['stopBinSession'](_0x178852={},_0x22cace=null){const _0x46e683=a69_0x4b9d5e,_0x4dd59d={'EHklw':function(_0x9d762a,_0x255448){return _0x9d762a(_0x255448);},'spVkO':_0x46e683(0x291),'WkTpD':function(_0x2d650d,_0x5d8567){return _0x2d650d(_0x5d8567);},'xaUxo':'Stopping\x20bin\x20session','bRzaJ':_0x46e683(0x2b2),'Bqzza':_0x46e683(0x1f7),'zzXgl':_0x46e683(0x1ed)};PerformanceTester['start'](PerformanceEvents[_0x46e683(0x270)]),this[_0x46e683(0x2ae)][_0x46e683(0x288)](_0x4dd59d['xaUxo']);try{if(!this[_0x46e683(0x2ab)])throw new Error(_0x4dd59d['bRzaJ']);!this[_0x46e683(0x1f1)]&&this[_0x46e683(0x2ae)]['info'](_0x4dd59d[_0x46e683(0x20f)]);const _0x782fd9=new messages['StopBinSessionRequest']();this['logger'][_0x46e683(0x2b4)](_0x46e683(0x235)+JSON[_0x46e683(0x226)](_0x22cace)),_0x782fd9[_0x46e683(0x259)](this[_0x46e683(0x2ab)]),_0x782fd9[_0x46e683(0x233)](_0x178852),_0x782fd9['setExitSignal'](_0x22cace?_0x22cace:null),_0x782fd9[_0x46e683(0x260)](_0x22cace?_0x4dd59d[_0x46e683(0x23b)]:null),_0x782fd9[_0x46e683(0x277)](_0x22cace?0x1:0x0);const _0x159edc=await new Promise((_0x1359f1,_0x5de10f)=>{const _0x5db0a6=_0x46e683;this[_0x5db0a6(0x1f1)][_0x5db0a6(0x29e)](_0x782fd9,(_0x53c866,_0x2724ad)=>{const _0x1bf212=_0x5db0a6;if(_0x53c866){this['logger']['error'](_0x1bf212(0x287)+_0x53c866[_0x1bf212(0x2a3)]),_0x4dd59d[_0x1bf212(0x256)](_0x5de10f,_0x53c866),PerformanceTester[_0x1bf212(0x251)](PerformanceEvents[_0x1bf212(0x270)],![],util[_0x1bf212(0x205)](_0x53c866));return;}this[_0x1bf212(0x2ae)][_0x1bf212(0x288)](_0x4dd59d[_0x1bf212(0x274)]),PerformanceTester[_0x1bf212(0x251)](PerformanceEvents[_0x1bf212(0x270)]),_0x4dd59d[_0x1bf212(0x1df)](_0x1359f1,_0x2724ad);});});return this[_0x46e683(0x2ae)][_0x46e683(0x2b4)](_0x46e683(0x27e)+util['format'](_0x159edc)),_0x159edc;}catch(_0x46203d){PerformanceTester['end'](PerformanceEvents[_0x46e683(0x270)],![],util['format'](_0x46203d)),this[_0x46e683(0x2ae)][_0x46e683(0x204)]('Error\x20in\x20stopBinSession:\x20'+util['format'](_0x46203d));}}async[a69_0x4b9d5e(0x263)](_0x517869){const _0x1db03a=a69_0x4b9d5e,_0x4ca806={'vYQBQ':function(_0x32d0b7,_0x328d6e){return _0x32d0b7(_0x328d6e);},'yyCtc':_0x1db03a(0x264),'HvvgM':'Getting\x20Playwright\x20config','CSGqx':_0x1db03a(0x1f7)};PerformanceTester['start'](PerformanceEvents[_0x1db03a(0x26b)]),this['logger'][_0x1db03a(0x288)](_0x4ca806['HvvgM']);try{!this[_0x1db03a(0x1f1)]&&this['logger'][_0x1db03a(0x288)](_0x4ca806[_0x1db03a(0x1fa)]);const _0xd66dbf=new messages[(_0x1db03a(0x249))]();return _0xd66dbf[_0x1db03a(0x259)](this[_0x1db03a(0x2ab)]),_0xd66dbf[_0x1db03a(0x250)](JSON[_0x1db03a(0x226)](_0x517869)),new Promise((_0x264f72,_0x53ad40)=>{const _0x113b27=_0x1db03a,_0x4f7a66={'wyXOY':function(_0x58173e,_0x313082){return _0x4ca806['vYQBQ'](_0x58173e,_0x313082);},'jUKee':_0x4ca806['yyCtc']};this[_0x113b27(0x1f1)][_0x113b27(0x1e5)](_0xd66dbf,(_0x522a69,_0x5b83fa)=>{const _0x275c54=_0x113b27;if(_0x522a69){this[_0x275c54(0x2ae)]['error'](_0x275c54(0x1f5)+_0x522a69[_0x275c54(0x2a3)]),_0x4f7a66['wyXOY'](_0x53ad40,_0x522a69),PerformanceTester['end'](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT'],![],util[_0x275c54(0x205)](_0x522a69));return;}this[_0x275c54(0x2ae)][_0x275c54(0x288)](_0x4f7a66['jUKee']),PerformanceTester['end'](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT']),_0x4f7a66['wyXOY'](_0x264f72,_0x5b83fa);});});}catch(_0x4610ed){PerformanceTester[_0x1db03a(0x251)](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT'],![],util[_0x1db03a(0x205)](_0x4610ed)),this[_0x1db03a(0x2ae)]['error'](_0x1db03a(0x20e)+util[_0x1db03a(0x205)](_0x4610ed));throw _0x4610ed;}}async[a69_0x4b9d5e(0x244)](_0x1c1224){const _0x1050fc=a69_0x4b9d5e,_0x40ebe5={'Zbnnn':function(_0x49e63c,_0x51c2c4){return _0x49e63c(_0x51c2c4);},'lVkpS':'AccessibilityConfig\x20request\x20successful','GyHdU':_0x1050fc(0x232),'NMVot':_0x1050fc(0x28c)};this['logger']['info'](_0x40ebe5[_0x1050fc(0x22e)]);try{const _0x549f0e=Buffer[_0x1050fc(0x224)](JSON['stringify'](_0x1c1224[_0x1050fc(0x1f0)]),_0x40ebe5['NMVot']),_0x12c1b7=new messages[(_0x1050fc(0x246))](),_0xab4bf1=CLIUtils[_0x1050fc(0x29f)](),_0xaf954c=_0xab4bf1['name'],_0x5060d0=_0xab4bf1[_0x1050fc(0x29a)];return _0x12c1b7['setBinSessionId'](this[_0x1050fc(0x2ab)]),_0x12c1b7[_0x1050fc(0x24a)](0x0),_0x12c1b7[_0x1050fc(0x215)](_0xaf954c),_0x12c1b7[_0x1050fc(0x23a)](_0x5060d0),_0x12c1b7[_0x1050fc(0x237)](_0x1c1224[_0x1050fc(0x275)]),_0x12c1b7[_0x1050fc(0x1e3)](_0x549f0e),new Promise((_0x3f5d99,_0x4164a6)=>{const _0x4ce491=_0x1050fc;this[_0x4ce491(0x1f1)][_0x4ce491(0x27d)](_0x12c1b7,(_0x3c78e8,_0x7abffa)=>{const _0x3b10c9=_0x4ce491;if(_0x3c78e8){this['logger'][_0x3b10c9(0x204)](_0x3b10c9(0x242)+_0x3c78e8[_0x3b10c9(0x2a3)]),_0x40ebe5[_0x3b10c9(0x2ad)](_0x4164a6,_0x3c78e8);return;}this[_0x3b10c9(0x2ae)][_0x3b10c9(0x288)](_0x40ebe5['lVkpS']),_0x40ebe5['Zbnnn'](_0x3f5d99,_0x7abffa);});});}catch(_0x588f59){this[_0x1050fc(0x2ae)]['error'](_0x1050fc(0x227)+util[_0x1050fc(0x205)](_0x588f59));}}async[a69_0x4b9d5e(0x25a)](_0x12caae){const _0x1f5298=a69_0x4b9d5e,_0x6eb5a={'WHTnY':function(_0xab2e18,_0xaeff6c){return _0xab2e18(_0xaeff6c);},'aizxo':'TestSessionEvent\x20request\x20successful','MoxuK':_0x1f5298(0x1e4),'LMigE':_0x1f5298(0x1f7)};this[_0x1f5298(0x2ae)][_0x1f5298(0x288)](_0x6eb5a[_0x1f5298(0x1e1)]);try{!this[_0x1f5298(0x1f1)]&&this[_0x1f5298(0x2ae)][_0x1f5298(0x288)](_0x6eb5a['LMigE']);const {platformIndex:_0x4d56b1,testFrameworkName:_0x2667ec,testFrameworkVersion:_0xc0f756,testFrameworkState:_0x3cdcd9,testHookState:_0x1a46c6,testUuid:_0x4f1219,automationSession:_0x4de2b9,capabilities:_0x207f07,executionContext:_0x439b75}=_0x12caae,_0x1ddcc9=new messages[(_0x1f5298(0x29b))]();_0x1ddcc9['setBinSessionId'](this[_0x1f5298(0x2ab)]),_0x1ddcc9[_0x1f5298(0x24a)](_0x4d56b1),_0x1ddcc9[_0x1f5298(0x1dd)](_0x2667ec),_0x1ddcc9[_0x1f5298(0x229)](_0xc0f756),_0x1ddcc9[_0x1f5298(0x1f9)](_0x3cdcd9),_0x1ddcc9[_0x1f5298(0x294)](_0x1a46c6),_0x1ddcc9[_0x1f5298(0x231)](_0x4f1219);const _0x16c3c6=new messages[(_0x1f5298(0x29b))][(_0x1f5298(0x1ea))]();_0x16c3c6[_0x1f5298(0x23d)](_0x4de2b9[_0x1f5298(0x299)]),_0x16c3c6[_0x1f5298(0x215)](_0x4de2b9[_0x1f5298(0x273)]),_0x16c3c6['setFrameworkVersion'](_0x4de2b9[_0x1f5298(0x23c)]),_0x16c3c6[_0x1f5298(0x271)](_0x4de2b9['frameworkSessionId']),_0x16c3c6[_0x1f5298(0x28b)](_0x4de2b9[_0x1f5298(0x21c)]),_0x16c3c6['setHubUrl'](_0x4de2b9[_0x1f5298(0x275)]),_0x1ddcc9['addAutomationSessions'](_0x16c3c6),_0x1ddcc9['setCapabilities'](_0x207f07);const _0x455ec5=new messages[(_0x1f5298(0x295))]();return _0x455ec5[_0x1f5298(0x209)](_0x439b75['processId']),_0x455ec5[_0x1f5298(0x293)](_0x439b75['threadId']),_0x455ec5[_0x1f5298(0x26d)](_0x439b75[_0x1f5298(0x243)]),_0x1ddcc9[_0x1f5298(0x1d6)](_0x455ec5),new Promise((_0x33145e,_0x4a443c)=>{const _0x34701c=_0x1f5298;this[_0x34701c(0x1f1)]['testSessionEvent'](_0x1ddcc9,(_0x3ffe0b,_0x4ca291)=>{const _0x289f64=_0x34701c;if(_0x3ffe0b){this[_0x289f64(0x2ae)][_0x289f64(0x204)](_0x289f64(0x2b3)+_0x3ffe0b[_0x289f64(0x2a3)]),_0x6eb5a['WHTnY'](_0x4a443c,_0x3ffe0b);return;}this[_0x289f64(0x2ae)][_0x289f64(0x288)](_0x6eb5a[_0x289f64(0x20a)]),_0x6eb5a['WHTnY'](_0x33145e,_0x4ca291);});});}catch(_0x2ab38e){this['logger']['error'](_0x1f5298(0x252)+util[_0x1f5298(0x205)](_0x2ab38e));throw _0x2ab38e;}}async[a69_0x4b9d5e(0x2a7)](_0x52ce0d){const _0x484b14=a69_0x4b9d5e,_0x43a92d={'Gzbmq':function(_0x259df3,_0x1f0b37){return _0x259df3(_0x1f0b37);},'EHIPo':_0x484b14(0x290),'zfnHu':function(_0x52c9f6,_0x45a445){return _0x52c9f6(_0x45a445);},'dvqOG':_0x484b14(0x286),'UALEy':_0x484b14(0x1f7)};this['logger'][_0x484b14(0x288)](_0x43a92d[_0x484b14(0x1e8)]);try{!this[_0x484b14(0x1f1)]&&this[_0x484b14(0x2ae)][_0x484b14(0x288)](_0x43a92d[_0x484b14(0x240)]);const {platfromIndex:_0x58d290,testFrameworkName:_0x406553,testFrameworkVersion:_0x3bf9de,testFrameworkState:_0x2c8b17,hookState:_0x20f891,startedAt:_0x422a46,endedAt:_0x30d767,uuid:_0x4813ad,eventJson:_0x1ad063,executionContext:_0x4fbcce}=_0x52ce0d,_0x2d5bcc=new messages['TestFrameworkEventRequest']();_0x2d5bcc['setBinSessionId'](this[_0x484b14(0x2ab)]),_0x2d5bcc[_0x484b14(0x24a)](_0x58d290),_0x2d5bcc['setTestFrameworkName'](_0x406553),_0x2d5bcc['setTestFrameworkVersion'](_0x3bf9de),_0x2d5bcc[_0x484b14(0x1f9)](_0x2c8b17),_0x2d5bcc[_0x484b14(0x294)](_0x20f891),_0x2d5bcc[_0x484b14(0x1f8)](_0x422a46),_0x2d5bcc['setEndedAt'](_0x30d767),_0x2d5bcc[_0x484b14(0x1eb)](_0x4813ad),_0x2d5bcc['setEventJson'](_0x1ad063);const _0x33a667=new messages['ExecutionContext']();return _0x33a667[_0x484b14(0x209)](_0x4fbcce[_0x484b14(0x1dc)]),_0x33a667['setThreadId'](_0x4fbcce[_0x484b14(0x1ef)]),_0x33a667[_0x484b14(0x26d)](_0x4fbcce[_0x484b14(0x243)]),_0x2d5bcc[_0x484b14(0x1d6)](_0x33a667),new Promise((_0x4a1b94,_0x580a74)=>{const _0x56d517=_0x484b14;this[_0x56d517(0x1f1)]['testFrameworkEvent'](_0x2d5bcc,(_0x530eda,_0x57ad15)=>{const _0x48c86a=_0x56d517;if(_0x530eda){this['logger']['error'](_0x48c86a(0x25e)+_0x530eda[_0x48c86a(0x2a3)]),_0x43a92d[_0x48c86a(0x1da)](_0x580a74,_0x530eda);return;}this[_0x48c86a(0x2ae)][_0x48c86a(0x288)](_0x43a92d['EHIPo']),_0x43a92d[_0x48c86a(0x258)](_0x4a1b94,_0x57ad15);});});}catch(_0xce88df){this['logger'][_0x484b14(0x204)](_0x484b14(0x218)+util['format'](_0xce88df));throw _0xce88df;}}async[a69_0x4b9d5e(0x1d5)](_0x438aec){const _0x3df100=a69_0x4b9d5e,_0x36a481={'BuUDq':function(_0x4f1492,_0x14fc9b){return _0x4f1492(_0x14fc9b);},'uDnOc':_0x3df100(0x27b),'avGZO':_0x3df100(0x21f),'mhYBG':'No\x20gRPC\x20client\x20not\x20initialized.'};this[_0x3df100(0x2ae)][_0x3df100(0x288)](_0x36a481[_0x3df100(0x1f6)]);try{!this['client']&&this[_0x3df100(0x2ae)][_0x3df100(0x288)](_0x36a481['mhYBG']);const {platformIndex:_0x45f582,ref:_0xa55b92,userInputParams:_0x4d8fce}=_0x438aec,_0x580be6=new messages[(_0x3df100(0x2b8))]();return _0x580be6[_0x3df100(0x259)](this[_0x3df100(0x2ab)]),_0x580be6['setPlatformIndex'](_0x45f582),_0x580be6[_0x3df100(0x28b)](_0xa55b92),_0x580be6[_0x3df100(0x2aa)](_0x4d8fce),new Promise((_0x285bd0,_0x32a523)=>{const _0x3fd04f=_0x3df100,_0x3e68af={'SBQTI':function(_0x3d34cc,_0x17b1a7){const _0x48faba=a69_0xb91b;return _0x36a481[_0x48faba(0x265)](_0x3d34cc,_0x17b1a7);},'vcCLt':_0x36a481[_0x3fd04f(0x292)],'zmkJZ':function(_0x1cc257,_0x35f089){const _0x35c31a=_0x3fd04f;return _0x36a481[_0x35c31a(0x265)](_0x1cc257,_0x35f089);}};this[_0x3fd04f(0x1f1)][_0x3fd04f(0x1d5)](_0x580be6,(_0x46b6d9,_0xcd8b8b)=>{const _0x4d370b=_0x3fd04f;if(_0x46b6d9){this[_0x4d370b(0x2ae)][_0x4d370b(0x204)](_0x4d370b(0x1fc)+_0x46b6d9[_0x4d370b(0x2a3)]),_0x3e68af[_0x4d370b(0x221)](_0x32a523,_0x46b6d9);return;}this['logger'][_0x4d370b(0x288)](_0x3e68af[_0x4d370b(0x267)]),_0x3e68af[_0x4d370b(0x27c)](_0x285bd0,_0xcd8b8b);});});}catch(_0x513cca){this[_0x3df100(0x2ae)]['error']('Error\x20in\x20DriverInit:\x20'+util['format'](_0x513cca));throw _0x513cca;}}async[a69_0x4b9d5e(0x1fe)](_0x424cf9){const _0x2aaeae=a69_0x4b9d5e,_0x595ff8={'ygFrV':function(_0x58e7e8,_0x4a9766){return _0x58e7e8===_0x4a9766;},'wnKcT':function(_0x1f2742,_0x3a4549){return _0x1f2742(_0x3a4549);},'czgHj':'LogCreatedEvent\x20request\x20successful','sKemW':'Sending\x20LogCreatedEvent','pDjom':_0x2aaeae(0x1f7)};this[_0x2aaeae(0x2ae)][_0x2aaeae(0x288)](_0x595ff8[_0x2aaeae(0x234)]);try{!this['client']&&this[_0x2aaeae(0x2ae)][_0x2aaeae(0x288)](_0x595ff8[_0x2aaeae(0x247)]);const {platformIndex:_0x551c78,logs:_0x5557f6}=_0x424cf9,_0x4f6a86=new messages[(_0x2aaeae(0x22f))]();_0x4f6a86[_0x2aaeae(0x259)](this[_0x2aaeae(0x2ab)]),_0x4f6a86[_0x2aaeae(0x24a)](_0x551c78);const _0x45ad0b=_0x424cf9['testFrameworkName'],_0x44d97b=_0x424cf9[_0x2aaeae(0x1f2)],_0x56cb29=_0x424cf9[_0x2aaeae(0x1e2)];return _0x5557f6[_0x2aaeae(0x21d)](_0x244078=>{const _0x494ad1=_0x2aaeae,_0x2b6692=new messages['LogCreatedEventRequest'][(_0x494ad1(0x25d))]();_0x2b6692['setTestFrameworkName'](_0x45ad0b),_0x2b6692[_0x494ad1(0x229)](_0x44d97b),_0x2b6692['setTestFrameworkState'](_0x56cb29),_0x2b6692[_0x494ad1(0x2a1)](_0x244078[_0x494ad1(0x278)]),_0x2b6692[_0x494ad1(0x1eb)](_0x244078[_0x494ad1(0x222)]),_0x2b6692[_0x494ad1(0x214)](_0x244078[_0x494ad1(0x297)]),_0x595ff8[_0x494ad1(0x24f)](_0x244078['attachment_type'],PLAYWRIGHT_TRACE_LOGS)?(_0x2b6692[_0x494ad1(0x1eb)](_0x244078[_0x494ad1(0x2b5)]),_0x2b6692[_0x494ad1(0x216)](new TextEncoder()[_0x494ad1(0x202)](JSON['stringify'](_0x244078)))):_0x2b6692[_0x494ad1(0x216)](new TextEncoder()[_0x494ad1(0x202)](_0x244078[_0x494ad1(0x2a3)])),_0x2b6692[_0x494ad1(0x285)](_0x244078['level']),_0x2b6692[_0x494ad1(0x239)](_0x244078?.['fileName']||''),_0x2b6692[_0x494ad1(0x28d)](_0x244078?.['filePath']||''),_0x2b6692[_0x494ad1(0x268)](_0x244078?.[_0x494ad1(0x20b)]||0x0),_0x2b6692[_0x494ad1(0x254)](_0x244078?.[_0x494ad1(0x26c)]||''),_0x4f6a86[_0x494ad1(0x208)](_0x2b6692);}),new Promise((_0x5a8097,_0x596924)=>{const _0x3ff4b6=_0x2aaeae,_0x55cae7={'XvwoB':function(_0x374d7b,_0x1ad227){const _0x21fb05=a69_0xb91b;return _0x595ff8[_0x21fb05(0x1d8)](_0x374d7b,_0x1ad227);},'cXHFv':_0x595ff8[_0x3ff4b6(0x1e6)]};this[_0x3ff4b6(0x1f1)][_0x3ff4b6(0x1fe)](_0x4f6a86,(_0x1779f9,_0x3ebf1d)=>{const _0x361993=_0x3ff4b6;if(_0x1779f9){this[_0x361993(0x2ae)][_0x361993(0x204)](_0x361993(0x27f)+_0x1779f9[_0x361993(0x2a3)]),_0x55cae7[_0x361993(0x28e)](_0x596924,_0x1779f9);return;}this[_0x361993(0x2ae)][_0x361993(0x288)](_0x55cae7[_0x361993(0x219)]),_0x55cae7[_0x361993(0x28e)](_0x5a8097,_0x3ebf1d);});});}catch(_0x3a8d5b){this[_0x2aaeae(0x2ae)][_0x2aaeae(0x204)](_0x2aaeae(0x29d)+util['format'](_0x3a8d5b));throw _0x3a8d5b;}}[a69_0x4b9d5e(0x25f)](){const _0x400833=a69_0x4b9d5e;return this[_0x400833(0x1f1)];}[a69_0x4b9d5e(0x21e)](){const _0x166058=a69_0x4b9d5e;return this[_0x166058(0x1db)];}}module[a69_0x4b9d5e(0x2a9)]=GrpcClient;function a69_0x539f(){const _0x42995a=['joxro','setFileName','setFrameworkVersion','zzXgl','frameworkVersion','setProvider','getBrowserstackCliConfig','../../helpers/logger.js','UALEy','28fuxxEn','AccessibilityConfig\x20error:\x20','hash','getAccessibilityConfig','push','AccessibilityConfigRequest','pDjom','\x20and\x20listen\x20address:\x20','PlaywrightConfigRequest','setPlatformIndex','\x20listenAddr:\x20','lRJZB','set','startBinSession','ygFrV','setConfig','end','Error\x20in\x20TestSessionEvent:\x20','connect','setAttachmentType','eFrvs','EHklw','EWqdy','zfnHu','setBinSessionId','testSessionEvent','rvNkC','getInstance','LogEntry','TestFrameworkEvent\x20error:\x20','getClient','setExitReason','resolve','listenAddress','getPlaywrightConfig','PlaywrightConfig\x20request\x20successful','BuUDq','jdxYP','vcCLt','setFileSize','connectBinSession','setTestFramework','SDK_AUTOMATION_FRAMEWORK_INIT','attachment_type','setHash','cgVIU','Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20','SDK_CLI_ON_STOP','setFrameworkSessionId','Error\x20in\x20startBinSession:\x20','frameworkName','spVkO','hubUrl','cwd','setExitCode','timestamp','../../helpers/performance/constants','setSdkVersion','DriverInit\x20request\x20successful','zmkJZ','accessibilityConfig','stop-bin-session\x20response:\x20','LogCreatedEvent\x20error:\x20','StartBinSessionRequest','../../helpers/performance/performance-tester.js','entries','525865dcCgTP','ISWCQ','setLevel','Sending\x20TestFrameworkEvent','StopBinSession\x20error:\x20','info','XEMKi','../utils/constants','setRef','utf-8','setFilePath','XvwoB','addFrameworks','TestFrameworkEvent\x20request\x20successful','StopBinSession\x20successful','uDnOc','setThreadId','setTestHookState','ExecutionContext','winstonLogger','kind','start','provider','version','TestSessionEventRequest','1036dsqcIS','Error\x20in\x20LogCreatedEvent:\x20','stopBinSession','getAutomationFrameworkDetail','WApWD','setTimestamp','setFrameworksList','message','createInsecure','SDKClient','slice','testFrameworkEvent','./browserstackCLI.js','exports','setUserInputParams','binSessionId','JvQIK','Zbnnn','logger','LlKVl','4810572AZFyGV','Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address','Missing\x20binSessionId','TestSessionEvent\x20error:\x20','debug','test_run_uuid','8zFBYVm','../../../generated/sdk_grpc_pb','DriverInitRequest','getSdkVersion','driverInit','setExecutionContext','credentials','wnKcT','setCliArgsList','Gzbmq','channel','processId','setTestFrameworkName','Channel','WkTpD','setSdkLanguage','MoxuK','testFrameworkState','setCapabilities','Sending\x20TestSessionEvent','playwrightConfig','czgHj','null','dvqOG','SDK_CONNECT_BIN_SESSION','AutomationSession','setUuid','vGSXp','user_killed','BROWSERSTACK_CONFIG_FILE_PATH','threadId','launchcaps','client','testFrameworkVersion','SDK_START_BIN_SESSION','../../helpers/classLogger.js','PlaywrightConfig\x20error:\x20','avGZO','No\x20gRPC\x20client\x20not\x20initialized.','setStartedAt','setTestFrameworkState','CSGqx','getEnvVarsMap','DriverInit\x20error:\x20','browserstack.yml','logCreatedEvent','StartBinSession\x20successful','setLanguage','env','encode','grpc.keepalive_time_ms','error','format','cSrmX','init','addLogs','setProcessId','aizxo','fileSize','bmHoM','setPathConfig','Error\x20in\x20getPlaywrightConfig:\x20','Bqzza','20572706alhKKt','3962757ktVgsR','@grpc/grpc-js','setCliArgs:\x20cliArgs=','setKind','setFrameworkName','setMessage','BROWSERSTACK_CLI_BIN_SESSION_ID','Error\x20in\x20TestFrameworkEvent:\x20','cXHFv','HVfvk','MJWAf','ref','forEach','getChannel','Sending\x20DriverInit','528rEXtTk','SBQTI','uuid','16339620WtTmGA','from','getFrameworkVersionsMap','stringify','Error\x20in\x20getAccessibilityConfig:\x20','333624Amxmsc','setTestFrameworkVersion','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','rAVRa','setPathProject','getSdkLanguage','GyHdU','LogCreatedEventRequest','4tMHXqe','setTestUuid','Getting\x20Accessibility\x20config','setCustomMetadata','sKemW','Stopping\x20signal\x20','tSLYP','setHubUrl'];a69_0x539f=function(){return _0x42995a;};return a69_0x539f();}