const a65_0x24eebb=a65_0x4d04;(function(_0x2feb64,_0x2ee4d5){const _0x207ab9=a65_0x4d04,_0x544657=_0x2feb64();while(!![]){try{const _0x12c828=-parseInt(_0x207ab9(0x15a))/0x1+parseInt(_0x207ab9(0x20f))/0x2+parseInt(_0x207ab9(0x232))/0x3*(parseInt(_0x207ab9(0x1dd))/0x4)+parseInt(_0x207ab9(0x209))/0x5*(parseInt(_0x207ab9(0x1c9))/0x6)+-parseInt(_0x207ab9(0x192))/0x7+-parseInt(_0x207ab9(0x1ba))/0x8+-parseInt(_0x207ab9(0x1d4))/0x9*(-parseInt(_0x207ab9(0x15d))/0xa);if(_0x12c828===_0x2ee4d5)break;else _0x544657['push'](_0x544657['shift']());}catch(_0x5ec9cd){_0x544657['push'](_0x544657['shift']());}}}(a65_0x1c63,0xf2c88));const util=require('util'),logger=require(a65_0x24eebb(0x1ce))[a65_0x24eebb(0x18c)],grpc=require(a65_0x24eebb(0x1b8)),services=require(a65_0x24eebb(0x1fb)),messages=require(a65_0x24eebb(0x1ed)),path=require(a65_0x24eebb(0x1cb)),CLIUtils=require(a65_0x24eebb(0x1e7)),{createClassLogger}=require(a65_0x24eebb(0x1b5)),PerformanceTester=require(a65_0x24eebb(0x182)),{EVENTS:PerformanceEvents}=require(a65_0x24eebb(0x1a2)),{PLAYWRIGHT_TRACE_LOGS}=require('../utils/constants'),helper=require(a65_0x24eebb(0x1f3));class GrpcClient{static #instance=null;['binSessionId']=null;[a65_0x24eebb(0x1df)]=null;['channel']=null;['client']=null;[a65_0x24eebb(0x15b)]=createClassLogger(a65_0x24eebb(0x19e));constructor(){}static['getInstance'](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}['init'](_0x190457){const _0x516d1a=a65_0x24eebb,_0x234c87={};_0x234c87['wCWqx']=function(_0x1e7d8d,_0x162b49){return _0x1e7d8d||_0x162b49;};const _0x2c57c9=_0x234c87,{id:_0x165ef1,listen:_0xf23926}=_0x190457;if(_0x2c57c9[_0x516d1a(0x169)](!_0x165ef1,!_0xf23926))throw new Error(_0x516d1a(0x207)+_0x165ef1+_0x516d1a(0x19b)+_0xf23926);this[_0x516d1a(0x231)]=_0x165ef1,this[_0x516d1a(0x1df)]=_0xf23926,process[_0x516d1a(0x1ac)][_0x516d1a(0x1ea)]=this['binSessionId'],process[_0x516d1a(0x1ac)]['BROWSERSTACK_CLI_BIN_LISTEN_ADDR']=this[_0x516d1a(0x1df)],this[_0x516d1a(0x1d2)](),this[_0x516d1a(0x15b)][_0x516d1a(0x234)](_0x516d1a(0x208)+this[_0x516d1a(0x231)]+_0x516d1a(0x1fa)+this[_0x516d1a(0x1df)]);}[a65_0x24eebb(0x1d2)](){const _0x14cd99=a65_0x24eebb,_0x5062e2={};_0x5062e2[_0x14cd99(0x161)]='Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address';const _0x2e5565=_0x5062e2;let _0x364af9=this[_0x14cd99(0x1df)];!_0x364af9&&(_0x364af9=process[_0x14cd99(0x1ac)][_0x14cd99(0x17c)]);!this[_0x14cd99(0x231)]&&(this[_0x14cd99(0x231)]=this[_0x14cd99(0x231)]||process[_0x14cd99(0x1ac)][_0x14cd99(0x1ea)]);if(!_0x364af9)throw new Error(_0x2e5565[_0x14cd99(0x161)]);const _0x5d9db9={};_0x5d9db9[_0x14cd99(0x1b4)]=0x2710,this['channel']=new grpc[(_0x14cd99(0x18a))](_0x364af9,grpc[_0x14cd99(0x194)][_0x14cd99(0x1cc)](),_0x5d9db9),this[_0x14cd99(0x22a)]=new services[(_0x14cd99(0x21c))](_0x364af9,grpc[_0x14cd99(0x194)]['createInsecure']()),this[_0x14cd99(0x15b)][_0x14cd99(0x234)](_0x14cd99(0x19d)+_0x364af9);}async[a65_0x24eebb(0x1d1)](){const _0x2a9e10=a65_0x24eebb,_0x11cd69={'KvbhL':function(_0x29b95b,_0x2557aa){return _0x29b95b!==_0x2557aa;},'VlEJv':function(_0x18752a,_0x1b1a91){return _0x18752a(_0x1b1a91);},'glFaM':_0x2a9e10(0x221),'yARsS':function(_0x5a27c9,_0x395aa9){return _0x5a27c9(_0x395aa9);},'SpUlV':'startBinSession:\x20Calling\x20startBinSession','qUoFr':_0x2a9e10(0x222),'YucOl':_0x2a9e10(0x1c7),'xzFDh':_0x2a9e10(0x233),'oAoZD':function(_0x12e297,_0xa26146){return _0x12e297 instanceof _0xa26146;},'MsUMW':_0x2a9e10(0x1dc),'HsKMe':function(_0x37fce1,_0x477d8e){return _0x37fce1||_0x477d8e;}};PerformanceTester[_0x2a9e10(0x1c3)](PerformanceEvents[_0x2a9e10(0x185)]),this[_0x2a9e10(0x15b)][_0x2a9e10(0x234)](_0x11cd69[_0x2a9e10(0x177)]);try{!this[_0x2a9e10(0x22a)]&&this[_0x2a9e10(0x15b)]['info'](_0x11cd69['qUoFr']);const _0x12bb5c=CLIUtils[_0x2a9e10(0x1c0)](),_0x5354b3=CLIUtils[_0x2a9e10(0x1bb)](),_0x30159b=_0x5354b3[_0x2a9e10(0x17b)],_0x3069c3=_0x5354b3[_0x2a9e10(0x215)],_0x3e1aea=new messages[(_0x2a9e10(0x211))]();_0x3e1aea[_0x2a9e10(0x22c)](this['binSessionId']),_0x3e1aea[_0x2a9e10(0x210)](CLIUtils[_0x2a9e10(0x175)]()),_0x3e1aea['setSdkVersion'](_0x12bb5c),_0x3e1aea[_0x2a9e10(0x159)](process['cwd']()),_0x3e1aea['setPathConfig'](process['env'][_0x2a9e10(0x17d)]?process['env'][_0x2a9e10(0x17d)]:path[_0x2a9e10(0x162)](process['cwd'](),_0x11cd69['YucOl']));const _0x6619c0=_0x3e1aea[_0x2a9e10(0x1fc)]();Object['entries'](process[_0x2a9e10(0x1ac)])[_0x2a9e10(0x1d7)](([_0xd004a7,_0x34d430])=>{const _0xf0acfd=_0x2a9e10;_0x11cd69['KvbhL'](_0x34d430,undefined)&&_0x11cd69[_0xf0acfd(0x1bc)](_0x34d430,null)&&_0x6619c0[_0xf0acfd(0x1d6)](_0xd004a7,_0x34d430);});const _0x2b5e7c=_0x11cd69[_0x2a9e10(0x1a5)](require,_0x11cd69[_0x2a9e10(0x186)]),_0x546c1d=_0x2b5e7c[_0x2a9e10(0x15c)]()['getBrowserstackCliConfig'](),_0x4d0448=[];_0x546c1d&&_0x11cd69[_0x2a9e10(0x18b)](_0x546c1d,Map)&&_0x546c1d[_0x2a9e10(0x1d7)]((_0x322a77,_0x27b2f6)=>{const _0x188809=_0x2a9e10;_0x4d0448[_0x188809(0x197)](_0x27b2f6+'='+_0x322a77);});const _0x899180=process[_0x2a9e10(0x1be)][_0x2a9e10(0x220)](0x2);_0x3e1aea[_0x2a9e10(0x1a8)]([..._0x899180,..._0x4d0448]),this[_0x2a9e10(0x15b)][_0x2a9e10(0x234)](_0x2a9e10(0x1d8)+JSON[_0x2a9e10(0x213)](_0x899180)+_0x2a9e10(0x167)+(_0x546c1d?JSON[_0x2a9e10(0x213)]([..._0x546c1d]):_0x11cd69[_0x2a9e10(0x230)])),_0x3e1aea['setLanguage'](CLIUtils[_0x2a9e10(0x175)]()),_0x3e1aea[_0x2a9e10(0x16d)](_0x30159b);const _0x44a0a8=_0x3e1aea[_0x2a9e10(0x1f0)]();return _0x44a0a8[_0x2a9e10(0x1d6)](_0x30159b,_0x11cd69[_0x2a9e10(0x190)](_0x3069c3,'')),_0x3e1aea['addFrameworks'](_0x30159b,_0x3069c3),_0x3e1aea['setFrameworksList']([_0x30159b]),new Promise((_0x25eb54,_0x6610b9)=>{const _0x298976=_0x2a9e10;this[_0x298976(0x22a)][_0x298976(0x1d1)](_0x3e1aea,(_0x12a5dc,_0x431024)=>{const _0x6555ea=_0x298976;if(_0x12a5dc){this[_0x6555ea(0x15b)][_0x6555ea(0x188)](_0x6555ea(0x1ad)+_0x12a5dc[_0x6555ea(0x184)]),_0x11cd69[_0x6555ea(0x1a5)](_0x6610b9,_0x12a5dc),PerformanceTester['end'](PerformanceEvents[_0x6555ea(0x185)],![],util[_0x6555ea(0x223)](_0x12a5dc));return;}this[_0x6555ea(0x15b)][_0x6555ea(0x234)](_0x11cd69['glFaM']),PerformanceTester[_0x6555ea(0x196)](PerformanceEvents[_0x6555ea(0x185)]),_0x11cd69['yARsS'](_0x25eb54,_0x431024);});});}catch(_0x39f119){this[_0x2a9e10(0x15b)][_0x2a9e10(0x188)](_0x2a9e10(0x171)+util[_0x2a9e10(0x223)](_0x39f119)),PerformanceTester['end'](PerformanceEvents[_0x2a9e10(0x185)],![],util[_0x2a9e10(0x223)](_0x39f119));throw _0x39f119;}}async[a65_0x24eebb(0x227)](){const _0x29a365=a65_0x24eebb,_0x45f175={'hGWud':function(_0x6ca6de,_0x3e8eaa){return _0x6ca6de(_0x3e8eaa);},'YEwZw':_0x29a365(0x1ab),'ViITC':function(_0x196ad7,_0x48fe65){return _0x196ad7(_0x48fe65);},'kznbG':_0x29a365(0x1bd),'ODeWS':'No\x20gRPC\x20client\x20not\x20initialized.'};PerformanceTester[_0x29a365(0x1c3)](PerformanceEvents[_0x29a365(0x16c)]),this[_0x29a365(0x15b)][_0x29a365(0x234)](_0x45f175[_0x29a365(0x1fe)]);try{!this[_0x29a365(0x22a)]&&this[_0x29a365(0x15b)][_0x29a365(0x234)](_0x45f175[_0x29a365(0x21b)]);const _0x1966e1=new messages['ConnectBinSessionRequest']();_0x1966e1[_0x29a365(0x22c)](this[_0x29a365(0x231)]);const _0x17d3f7=await new Promise((_0xf0e4ec,_0x40515f)=>{const _0x5674c0=_0x29a365;this[_0x5674c0(0x22a)][_0x5674c0(0x227)](_0x1966e1,(_0x197e77,_0x25eb3f)=>{const _0x482f79=_0x5674c0;if(_0x197e77){this['logger']['error'](_0x482f79(0x164)+_0x197e77[_0x482f79(0x184)]),_0x45f175[_0x482f79(0x1a6)](_0x40515f,_0x197e77),PerformanceTester[_0x482f79(0x196)](PerformanceEvents['SDK_CONNECT_BIN_SESSION'],![],util[_0x482f79(0x223)](_0x197e77));return;}this[_0x482f79(0x15b)]['info'](_0x45f175[_0x482f79(0x1a1)]),PerformanceTester[_0x482f79(0x196)](PerformanceEvents[_0x482f79(0x16c)]),_0x45f175[_0x482f79(0x1f4)](_0xf0e4ec,_0x25eb3f);});});return this['logger'][_0x29a365(0x18e)](_0x29a365(0x1ae)+util['format'](_0x17d3f7)),_0x17d3f7;}catch(_0x5d5015){PerformanceTester[_0x29a365(0x196)](PerformanceEvents['SDK_CONNECT_BIN_SESSION'],![],util[_0x29a365(0x223)](_0x5d5015)),this[_0x29a365(0x15b)][_0x29a365(0x188)](_0x29a365(0x179)+util[_0x29a365(0x223)](_0x5d5015));throw _0x5d5015;}}async[a65_0x24eebb(0x1a9)](_0x131685={},_0x2ba101=null){const _0x271c3d=a65_0x24eebb,_0x1b01f7={'OdbND':function(_0x56fbe2,_0x3b0496){return _0x56fbe2(_0x3b0496);},'xVQWD':_0x271c3d(0x18d),'ZrfSu':function(_0x93990e,_0x120b88){return _0x93990e(_0x120b88);},'MXWiA':_0x271c3d(0x181),'GRIWY':'Missing\x20binSessionId','uUxQx':_0x271c3d(0x222),'rsCzp':_0x271c3d(0x180)};PerformanceTester[_0x271c3d(0x1c3)](PerformanceEvents[_0x271c3d(0x18f)]),this['logger'][_0x271c3d(0x234)](_0x1b01f7[_0x271c3d(0x1c1)]);try{if(!this['binSessionId'])throw new Error(_0x1b01f7[_0x271c3d(0x1b3)]);!this[_0x271c3d(0x22a)]&&this['logger'][_0x271c3d(0x234)](_0x1b01f7[_0x271c3d(0x1a4)]);const _0x23bc12=new messages['StopBinSessionRequest']();this[_0x271c3d(0x15b)][_0x271c3d(0x18e)]('Stopping\x20signal\x20'+JSON[_0x271c3d(0x213)](_0x2ba101)),_0x23bc12[_0x271c3d(0x22c)](this['binSessionId']),_0x23bc12[_0x271c3d(0x168)](_0x131685),_0x23bc12[_0x271c3d(0x17f)](_0x2ba101?_0x2ba101:null),_0x23bc12[_0x271c3d(0x16f)](_0x2ba101?_0x1b01f7['rsCzp']:null),_0x23bc12['setExitCode'](_0x2ba101?0x1:0x0);const _0x2d242a=await new Promise((_0x2885fc,_0x245fcf)=>{const _0x20b8d7=_0x271c3d,_0x34780c={'SLwyq':function(_0x27ac8d,_0x5125a9){const _0x3a2a7a=a65_0x4d04;return _0x1b01f7[_0x3a2a7a(0x226)](_0x27ac8d,_0x5125a9);},'kzIvn':_0x1b01f7[_0x20b8d7(0x19a)],'Fdcse':function(_0x3e63a2,_0x1a93be){const _0x2d3b5e=_0x20b8d7;return _0x1b01f7[_0x2d3b5e(0x1fd)](_0x3e63a2,_0x1a93be);}};this[_0x20b8d7(0x22a)][_0x20b8d7(0x1a9)](_0x23bc12,(_0x5dcc58,_0x31a3f9)=>{const _0x3fb6f7=_0x20b8d7;if(_0x5dcc58){this[_0x3fb6f7(0x15b)][_0x3fb6f7(0x188)](_0x3fb6f7(0x1da)+_0x5dcc58['message']),_0x34780c[_0x3fb6f7(0x183)](_0x245fcf,_0x5dcc58),PerformanceTester[_0x3fb6f7(0x196)](PerformanceEvents[_0x3fb6f7(0x18f)],![],util[_0x3fb6f7(0x223)](_0x5dcc58));return;}this['logger'][_0x3fb6f7(0x234)](_0x34780c[_0x3fb6f7(0x15f)]),PerformanceTester[_0x3fb6f7(0x196)](PerformanceEvents[_0x3fb6f7(0x18f)]),_0x34780c[_0x3fb6f7(0x21a)](_0x2885fc,_0x31a3f9);});});return this[_0x271c3d(0x15b)][_0x271c3d(0x18e)](_0x271c3d(0x173)+util['format'](_0x2d242a)),_0x2d242a;}catch(_0x151e75){PerformanceTester[_0x271c3d(0x196)](PerformanceEvents['SDK_CLI_ON_STOP'],![],util[_0x271c3d(0x223)](_0x151e75)),this[_0x271c3d(0x15b)][_0x271c3d(0x188)]('Error\x20in\x20stopBinSession:\x20'+util['format'](_0x151e75));}}async['getPlaywrightConfig'](_0x56fdb2){const _0x88aa4f=a65_0x24eebb,_0x2fb958={'BYzrv':function(_0x5b2388,_0x45ec4d){return _0x5b2388(_0x45ec4d);},'mBssG':_0x88aa4f(0x17e),'CMEuy':function(_0x56b9a6,_0x32a05e){return _0x56b9a6(_0x32a05e);},'TfOtR':'Getting\x20Playwright\x20config','mwBqw':_0x88aa4f(0x222)};PerformanceTester[_0x88aa4f(0x1c3)](PerformanceEvents[_0x88aa4f(0x174)]),this[_0x88aa4f(0x15b)][_0x88aa4f(0x234)](_0x2fb958[_0x88aa4f(0x21f)]);try{!this['client']&&this['logger']['info'](_0x2fb958['mwBqw']);const _0x3a63f2=new messages['PlaywrightConfigRequest']();return _0x3a63f2[_0x88aa4f(0x22c)](this[_0x88aa4f(0x231)]),_0x3a63f2[_0x88aa4f(0x1e3)](JSON[_0x88aa4f(0x213)](_0x56fdb2)),new Promise((_0x3343ba,_0x24ba83)=>{const _0x1c5468=_0x88aa4f;this[_0x1c5468(0x22a)][_0x1c5468(0x1b1)](_0x3a63f2,(_0x1d0d89,_0x49bf29)=>{const _0x498a84=_0x1c5468;if(_0x1d0d89){this[_0x498a84(0x15b)]['error'](_0x498a84(0x160)+_0x1d0d89[_0x498a84(0x184)]),_0x2fb958[_0x498a84(0x1c2)](_0x24ba83,_0x1d0d89),PerformanceTester[_0x498a84(0x196)](PerformanceEvents[_0x498a84(0x174)],![],util[_0x498a84(0x223)](_0x1d0d89));return;}this[_0x498a84(0x15b)][_0x498a84(0x234)](_0x2fb958[_0x498a84(0x19f)]),PerformanceTester[_0x498a84(0x196)](PerformanceEvents[_0x498a84(0x174)]),_0x2fb958[_0x498a84(0x1c5)](_0x3343ba,_0x49bf29);});});}catch(_0x105c2e){PerformanceTester['end'](PerformanceEvents[_0x88aa4f(0x174)],![],util[_0x88aa4f(0x223)](_0x105c2e)),this[_0x88aa4f(0x15b)][_0x88aa4f(0x188)](_0x88aa4f(0x1f1)+util[_0x88aa4f(0x223)](_0x105c2e));throw _0x105c2e;}}async[a65_0x24eebb(0x15e)](_0x1ccec8){const _0x10371e=a65_0x24eebb,_0x51cc3a={'FEzJa':function(_0x499022,_0x2f11f6){return _0x499022(_0x2f11f6);},'wBSwf':_0x10371e(0x195),'Nffmy':function(_0x23cafe,_0x365876){return _0x23cafe(_0x365876);},'UgjJa':_0x10371e(0x17a),'gUUoV':'utf-8'};this['logger'][_0x10371e(0x234)](_0x51cc3a[_0x10371e(0x218)]);try{const _0x47c565=Buffer[_0x10371e(0x1af)](JSON[_0x10371e(0x213)](_0x1ccec8[_0x10371e(0x16b)]),_0x51cc3a['gUUoV']),_0x15f313=new messages[(_0x10371e(0x200))](),_0x185726=CLIUtils['getAutomationFrameworkDetail'](),_0x46fcf7=_0x185726[_0x10371e(0x17b)],_0x580c69=_0x185726[_0x10371e(0x215)];return _0x15f313['setBinSessionId'](this['binSessionId']),_0x15f313[_0x10371e(0x205)](0x0),_0x15f313['setFrameworkName'](_0x46fcf7),_0x15f313[_0x10371e(0x1b7)](_0x580c69),_0x15f313[_0x10371e(0x1c4)](_0x1ccec8[_0x10371e(0x214)]),_0x15f313['setCapabilities'](_0x47c565),new Promise((_0x20a7fc,_0x1ad85d)=>{this['client']['accessibilityConfig'](_0x15f313,(_0x15874b,_0x5c41fc)=>{const _0x3bcdcf=a65_0x4d04;if(_0x15874b){this['logger'][_0x3bcdcf(0x188)]('AccessibilityConfig\x20error:\x20'+_0x15874b[_0x3bcdcf(0x184)]),_0x51cc3a[_0x3bcdcf(0x1ca)](_0x1ad85d,_0x15874b);return;}this['logger'][_0x3bcdcf(0x234)](_0x51cc3a[_0x3bcdcf(0x21e)]),_0x51cc3a[_0x3bcdcf(0x22d)](_0x20a7fc,_0x5c41fc);});});}catch(_0x3b1f71){this[_0x10371e(0x15b)][_0x10371e(0x188)](_0x10371e(0x217)+util[_0x10371e(0x223)](_0x3b1f71));}}async[a65_0x24eebb(0x189)](_0x332282){const _0x1b3ecb=a65_0x24eebb,_0x12309c={'oLGOn':function(_0x2ef50f,_0x2c64f7){return _0x2ef50f(_0x2c64f7);},'nwlog':'TestSessionEvent\x20request\x20successful','HwYgn':_0x1b3ecb(0x203),'gdgzU':_0x1b3ecb(0x222)};this[_0x1b3ecb(0x15b)][_0x1b3ecb(0x234)](_0x12309c['HwYgn']);try{!this[_0x1b3ecb(0x22a)]&&this[_0x1b3ecb(0x15b)][_0x1b3ecb(0x234)](_0x12309c['gdgzU']);const {platformIndex:_0x3c7aee,testFrameworkName:_0x4916aa,testFrameworkVersion:_0x36c5ba,testFrameworkState:_0x3bad55,testHookState:_0x4e9af9,testUuid:_0x38bc07,automationSession:_0x2cf43b,capabilities:_0x3cd2c3,executionContext:_0x3db9a9}=_0x332282,_0x1e4437=new messages[(_0x1b3ecb(0x20d))]();_0x1e4437['setBinSessionId'](this[_0x1b3ecb(0x231)]),_0x1e4437[_0x1b3ecb(0x205)](_0x3c7aee),_0x1e4437[_0x1b3ecb(0x176)](_0x4916aa),_0x1e4437['setTestFrameworkVersion'](_0x36c5ba),_0x1e4437[_0x1b3ecb(0x228)](_0x3bad55),_0x1e4437[_0x1b3ecb(0x198)](_0x4e9af9),_0x1e4437[_0x1b3ecb(0x1f9)](_0x38bc07);const _0x162b40=new messages[(_0x1b3ecb(0x20d))]['AutomationSession']();_0x162b40[_0x1b3ecb(0x1b6)](_0x2cf43b[_0x1b3ecb(0x1e4)]),_0x162b40[_0x1b3ecb(0x1e8)](_0x2cf43b['frameworkName']),_0x162b40[_0x1b3ecb(0x1b7)](_0x2cf43b[_0x1b3ecb(0x1cd)]),_0x162b40[_0x1b3ecb(0x1d0)](_0x2cf43b[_0x1b3ecb(0x1ef)]),_0x162b40[_0x1b3ecb(0x1e0)](_0x2cf43b['ref']),_0x162b40[_0x1b3ecb(0x1c4)](_0x2cf43b['hubUrl']),_0x1e4437['addAutomationSessions'](_0x162b40),_0x1e4437['setCapabilities'](_0x3cd2c3);const _0x4778d9=new messages[(_0x1b3ecb(0x212))]();return _0x4778d9[_0x1b3ecb(0x1f7)](_0x3db9a9[_0x1b3ecb(0x16e)]),_0x4778d9[_0x1b3ecb(0x16a)](_0x3db9a9[_0x1b3ecb(0x204)]),_0x4778d9[_0x1b3ecb(0x172)](_0x3db9a9[_0x1b3ecb(0x1f5)]),_0x1e4437[_0x1b3ecb(0x202)](_0x4778d9),new Promise((_0x5082b5,_0x432a5d)=>{const _0x1fe456=_0x1b3ecb;this[_0x1fe456(0x22a)][_0x1fe456(0x189)](_0x1e4437,(_0x101a69,_0x372fd8)=>{const _0x2756f5=_0x1fe456;if(_0x101a69){this[_0x2756f5(0x15b)][_0x2756f5(0x188)]('TestSessionEvent\x20error:\x20'+_0x101a69[_0x2756f5(0x184)]),_0x12309c['oLGOn'](_0x432a5d,_0x101a69);return;}this[_0x2756f5(0x15b)][_0x2756f5(0x234)](_0x12309c['nwlog']),_0x12309c[_0x2756f5(0x1e6)](_0x5082b5,_0x372fd8);});});}catch(_0x3ea703){this[_0x1b3ecb(0x15b)]['error'](_0x1b3ecb(0x166)+util[_0x1b3ecb(0x223)](_0x3ea703));throw _0x3ea703;}}async['testFrameworkEvent'](_0x5d1ecc){const _0x19d961=a65_0x24eebb,_0xca5ca9={'rjHOy':function(_0x5611d7,_0x6d6b78){return _0x5611d7(_0x6d6b78);},'UAowA':_0x19d961(0x1de),'XbsbY':_0x19d961(0x1d5),'IyrlL':_0x19d961(0x222)};this[_0x19d961(0x15b)]['info'](_0xca5ca9[_0x19d961(0x191)]);try{!this[_0x19d961(0x22a)]&&this[_0x19d961(0x15b)][_0x19d961(0x234)](_0xca5ca9[_0x19d961(0x22f)]);const {platfromIndex:_0x208316,testFrameworkName:_0x4a34a5,testFrameworkVersion:_0x17e678,testFrameworkState:_0x3b5900,hookState:_0x3919b7,startedAt:_0x5c40c4,endedAt:_0x3c2a26,uuid:_0x460089,eventJson:_0x3638c5,executionContext:_0x8dd358}=_0x5d1ecc,_0x48f9ee=new messages[(_0x19d961(0x20c))]();_0x48f9ee[_0x19d961(0x22c)](this[_0x19d961(0x231)]),_0x48f9ee[_0x19d961(0x205)](_0x208316),_0x48f9ee[_0x19d961(0x176)](_0x4a34a5),_0x48f9ee[_0x19d961(0x225)](_0x17e678),_0x48f9ee[_0x19d961(0x228)](_0x3b5900),_0x48f9ee[_0x19d961(0x198)](_0x3919b7),_0x48f9ee[_0x19d961(0x1cf)](_0x5c40c4),_0x48f9ee[_0x19d961(0x224)](_0x3c2a26),_0x48f9ee[_0x19d961(0x165)](_0x460089),_0x48f9ee[_0x19d961(0x1c8)](_0x3638c5);const _0x1cde63=new messages['ExecutionContext']();return _0x1cde63[_0x19d961(0x1f7)](_0x8dd358[_0x19d961(0x16e)]),_0x1cde63[_0x19d961(0x16a)](_0x8dd358[_0x19d961(0x204)]),_0x1cde63[_0x19d961(0x172)](_0x8dd358[_0x19d961(0x1f5)]),_0x48f9ee[_0x19d961(0x202)](_0x1cde63),new Promise((_0x44fa2f,_0x5494e5)=>{const _0x1c9de4=_0x19d961,_0x116716={'Yfcco':function(_0x11481d,_0x5d26f5){return _0xca5ca9['rjHOy'](_0x11481d,_0x5d26f5);},'Ekexf':_0xca5ca9[_0x1c9de4(0x22e)]};this[_0x1c9de4(0x22a)][_0x1c9de4(0x193)](_0x48f9ee,(_0x36a767,_0x159156)=>{const _0x2e1e52=_0x1c9de4;if(_0x36a767){this['logger'][_0x2e1e52(0x188)](_0x2e1e52(0x1e5)+_0x36a767[_0x2e1e52(0x184)]),_0x116716['Yfcco'](_0x5494e5,_0x36a767);return;}this[_0x2e1e52(0x15b)][_0x2e1e52(0x234)](_0x116716[_0x2e1e52(0x206)]),_0x116716['Yfcco'](_0x44fa2f,_0x159156);});});}catch(_0x41fce0){this[_0x19d961(0x15b)]['error'](_0x19d961(0x199)+util[_0x19d961(0x223)](_0x41fce0));throw _0x41fce0;}}async[a65_0x24eebb(0x1a3)](_0x336a21){const _0x5d35d5=a65_0x24eebb,_0x69bced={'wjaqT':function(_0x5d09a8,_0x31e398){return _0x5d09a8(_0x31e398);},'jIROE':_0x5d35d5(0x163),'PwdxT':_0x5d35d5(0x1a7),'chtXx':_0x5d35d5(0x222)};this['logger'][_0x5d35d5(0x234)](_0x69bced[_0x5d35d5(0x216)]);try{!this[_0x5d35d5(0x22a)]&&this['logger'][_0x5d35d5(0x234)](_0x69bced['chtXx']);const {platformIndex:_0x5c868c,ref:_0x4f32ac,userInputParams:_0xa2b27c}=_0x336a21,_0x2a1f6d=new messages[(_0x5d35d5(0x1f8))]();return _0x2a1f6d[_0x5d35d5(0x22c)](this['binSessionId']),_0x2a1f6d[_0x5d35d5(0x205)](_0x5c868c),_0x2a1f6d[_0x5d35d5(0x1e0)](_0x4f32ac),_0x2a1f6d[_0x5d35d5(0x1aa)](_0xa2b27c),new Promise((_0x4bc96f,_0x1a4606)=>{const _0x1499c8={'nKHRK':function(_0x5b2bbe,_0x342388){return _0x69bced['wjaqT'](_0x5b2bbe,_0x342388);},'gSkvf':_0x69bced['jIROE']};this['client']['driverInit'](_0x2a1f6d,(_0x2b854e,_0x46a5d0)=>{const _0x55c752=a65_0x4d04;if(_0x2b854e){this['logger'][_0x55c752(0x188)](_0x55c752(0x1bf)+_0x2b854e['message']),_0x1499c8['nKHRK'](_0x1a4606,_0x2b854e);return;}this[_0x55c752(0x15b)][_0x55c752(0x234)](_0x1499c8[_0x55c752(0x1eb)]),_0x1499c8[_0x55c752(0x1e2)](_0x4bc96f,_0x46a5d0);});});}catch(_0x29308b){this[_0x5d35d5(0x15b)][_0x5d35d5(0x188)]('Error\x20in\x20DriverInit:\x20'+util[_0x5d35d5(0x223)](_0x29308b));throw _0x29308b;}}async[a65_0x24eebb(0x22b)](_0x50c763){const _0x1ecf9a=a65_0x24eebb,_0x20b53a={'sxNAM':function(_0x3bc287,_0x96a4e8){return _0x3bc287===_0x96a4e8;},'OVhSj':function(_0x5af40c,_0x55f9b5){return _0x5af40c(_0x55f9b5);},'fHngd':_0x1ecf9a(0x1b9),'fRIxQ':_0x1ecf9a(0x1ff),'zabXD':_0x1ecf9a(0x222)};this[_0x1ecf9a(0x15b)][_0x1ecf9a(0x234)](_0x20b53a[_0x1ecf9a(0x1c6)]);try{!this[_0x1ecf9a(0x22a)]&&this[_0x1ecf9a(0x15b)]['info'](_0x20b53a['zabXD']);const {platformIndex:_0x5d466a,logs:_0x53cf60}=_0x50c763,_0x178feb=new messages[(_0x1ecf9a(0x187))]();_0x178feb[_0x1ecf9a(0x22c)](this['binSessionId']),_0x178feb['setPlatformIndex'](_0x5d466a);const _0x3b859f=_0x50c763[_0x1ecf9a(0x1d9)],_0x110e69=_0x50c763[_0x1ecf9a(0x1e1)],_0x328c8c=_0x50c763[_0x1ecf9a(0x178)];return _0x53cf60[_0x1ecf9a(0x1d7)](_0x599f0a=>{const _0x519ad7=_0x1ecf9a,_0x41fff3=new messages[(_0x519ad7(0x187))]['LogEntry']();_0x41fff3[_0x519ad7(0x176)](_0x3b859f),_0x41fff3['setTestFrameworkVersion'](_0x110e69),_0x41fff3[_0x519ad7(0x228)](_0x328c8c),_0x41fff3[_0x519ad7(0x170)](_0x599f0a[_0x519ad7(0x20a)]),_0x41fff3[_0x519ad7(0x165)](_0x599f0a[_0x519ad7(0x1e9)]),_0x41fff3[_0x519ad7(0x1d3)](_0x599f0a['kind']),_0x20b53a[_0x519ad7(0x19c)](_0x599f0a[_0x519ad7(0x1f2)],PLAYWRIGHT_TRACE_LOGS)?(_0x41fff3['setUuid'](_0x599f0a[_0x519ad7(0x1f6)]),_0x41fff3[_0x519ad7(0x1db)](new TextEncoder()[_0x519ad7(0x20b)](JSON[_0x519ad7(0x213)](_0x599f0a)))):_0x41fff3[_0x519ad7(0x1db)](new TextEncoder()[_0x519ad7(0x20b)](_0x599f0a['message'])),_0x41fff3[_0x519ad7(0x1b0)](_0x599f0a['level']),_0x41fff3['setFileName'](_0x599f0a?.['fileName']||''),_0x41fff3[_0x519ad7(0x201)](_0x599f0a?.[_0x519ad7(0x235)]||''),_0x41fff3[_0x519ad7(0x1ec)](_0x599f0a?.[_0x519ad7(0x1ee)]||0x0),_0x41fff3[_0x519ad7(0x237)](_0x599f0a?.['attachment_type']||''),_0x178feb['addLogs'](_0x41fff3);}),new Promise((_0x59788e,_0x26ce52)=>{const _0x1b2bb2=_0x1ecf9a;this[_0x1b2bb2(0x22a)]['logCreatedEvent'](_0x178feb,(_0x26863b,_0x337e57)=>{const _0x8c399c=_0x1b2bb2;if(_0x26863b){this[_0x8c399c(0x15b)][_0x8c399c(0x188)](_0x8c399c(0x1a0)+_0x26863b[_0x8c399c(0x184)]),_0x20b53a[_0x8c399c(0x21d)](_0x26ce52,_0x26863b);return;}this['logger'][_0x8c399c(0x234)](_0x20b53a['fHngd']),_0x20b53a['OVhSj'](_0x59788e,_0x337e57);});});}catch(_0x2a0cc1){this[_0x1ecf9a(0x15b)][_0x1ecf9a(0x188)](_0x1ecf9a(0x219)+util['format'](_0x2a0cc1));throw _0x2a0cc1;}}[a65_0x24eebb(0x229)](){const _0x400985=a65_0x24eebb;return this[_0x400985(0x22a)];}[a65_0x24eebb(0x1b2)](){const _0x55d998=a65_0x24eebb;return this[_0x55d998(0x20e)];}}function a65_0x4d04(_0xddbc9a,_0x4cead2){const _0x1c63ca=a65_0x1c63();return a65_0x4d04=function(_0x4d04fb,_0x5832f3){_0x4d04fb=_0x4d04fb-0x159;let _0x1225c1=_0x1c63ca[_0x4d04fb];return _0x1225c1;},a65_0x4d04(_0xddbc9a,_0x4cead2);}module[a65_0x24eebb(0x236)]=GrpcClient;function a65_0x1c63(){const _0x16fde7=['credentials','AccessibilityConfig\x20request\x20successful','end','push','setTestHookState','Error\x20in\x20TestFrameworkEvent:\x20','xVQWD','\x20listenAddr:\x20','sxNAM','Connected\x20to\x20gRPC\x20server\x20at\x20','GrpcClient','mBssG','LogCreatedEvent\x20error:\x20','YEwZw','../../helpers/performance/constants','driverInit','uUxQx','VlEJv','hGWud','Sending\x20DriverInit','setCliArgsList','stopBinSession','setUserInputParams','ConnectBinSession\x20successful','env','StartBinSession\x20error:\x20','connect-bin-session\x20response:\x20','from','setLevel','playwrightConfig','getChannel','GRIWY','grpc.keepalive_time_ms','../../helpers/classLogger.js','setProvider','setFrameworkVersion','@grpc/grpc-js','LogCreatedEvent\x20request\x20successful','15185912SwkgTZ','getAutomationFrameworkDetail','KvbhL','Connecting\x20bin\x20session','argv','DriverInit\x20error:\x20','getSdkVersion','MXWiA','BYzrv','start','setHubUrl','CMEuy','fRIxQ','browserstack.yml','setEventJson','527574wHRRrp','FEzJa','path','createInsecure','frameworkVersion','../../helpers/logger.js','setStartedAt','setFrameworkSessionId','startBinSession','connect','setKind','171qKjLme','Sending\x20TestFrameworkEvent','set','forEach','setCliArgs:\x20cliArgs=','testFrameworkName','StopBinSession\x20error:\x20','setMessage','null','412CrANGE','TestFrameworkEvent\x20request\x20successful','listenAddress','setRef','testFrameworkVersion','nKHRK','setConfig','provider','TestFrameworkEvent\x20error:\x20','oLGOn','./cliUtils.js','setFrameworkName','uuid','BROWSERSTACK_CLI_BIN_SESSION_ID','gSkvf','setFileSize','../../../generated/sdk-messages_pb','fileSize','frameworkSessionId','getFrameworkVersionsMap','Error\x20in\x20getPlaywrightConfig:\x20','attachment_type','../../helpers/helper.js','ViITC','hash','test_run_uuid','setProcessId','DriverInitRequest','setTestUuid','\x20and\x20listen\x20address:\x20','../../../generated/sdk_grpc_pb','getEnvVarsMap','ZrfSu','kznbG','Sending\x20LogCreatedEvent','AccessibilityConfigRequest','setFilePath','setExecutionContext','Sending\x20TestSessionEvent','threadId','setPlatformIndex','Ekexf','Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20','Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20','15Rlcflq','timestamp','encode','TestFrameworkEventRequest','TestSessionEventRequest','channel','2612004MxUDDh','setSdkLanguage','StartBinSessionRequest','ExecutionContext','stringify','hubUrl','version','PwdxT','Error\x20in\x20getAccessibilityConfig:\x20','UgjJa','Error\x20in\x20LogCreatedEvent:\x20','Fdcse','ODeWS','SDKClient','OVhSj','wBSwf','TfOtR','slice','StartBinSession\x20successful','No\x20gRPC\x20client\x20not\x20initialized.','format','setEndedAt','setTestFrameworkVersion','OdbND','connectBinSession','setTestFrameworkState','getClient','client','logCreatedEvent','setBinSessionId','Nffmy','UAowA','IyrlL','MsUMW','binSessionId','53895FPXFoG','./browserstackCLI.js','info','filePath','exports','setAttachmentType','setPathProject','997550nAxIkn','logger','getInstance','934130yeLNBd','getAccessibilityConfig','kzIvn','PlaywrightConfig\x20error:\x20','vSaSX','resolve','DriverInit\x20request\x20successful','ConnectBinSession\x20error:\x20','setUuid','Error\x20in\x20TestSessionEvent:\x20',',\x20parsedConfig=','setCustomMetadata','wCWqx','setThreadId','launchcaps','SDK_CONNECT_BIN_SESSION','setTestFramework','processId','setExitReason','setTimestamp','Error\x20in\x20startBinSession:\x20','setHash','stop-bin-session\x20response:\x20','SDK_AUTOMATION_FRAMEWORK_INIT','getSdkLanguage','setTestFrameworkName','SpUlV','testFrameworkState','Error\x20in\x20connectBinSession:\x20','Getting\x20Accessibility\x20config','name','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','BROWSERSTACK_CONFIG_FILE_PATH','PlaywrightConfig\x20request\x20successful','setExitSignal','user_killed','Stopping\x20bin\x20session','../../helpers/performance/performance-tester.js','SLwyq','message','SDK_START_BIN_SESSION','xzFDh','LogCreatedEventRequest','error','testSessionEvent','Channel','oAoZD','winstonLogger','StopBinSession\x20successful','debug','SDK_CLI_ON_STOP','HsKMe','XbsbY','9133614yAbbsv','testFrameworkEvent'];a65_0x1c63=function(){return _0x16fde7;};return a65_0x1c63();}