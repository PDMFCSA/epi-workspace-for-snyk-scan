const a69_0x3924e8=a69_0x4324;(function(_0x1496c7,_0x1214c3){const _0x3d6630=a69_0x4324,_0x424a6c=_0x1496c7();while(!![]){try{const _0x6ceb48=-parseInt(_0x3d6630(0xf1))/0x1+-parseInt(_0x3d6630(0x96))/0x2*(parseInt(_0x3d6630(0x174))/0x3)+parseInt(_0x3d6630(0xe8))/0x4*(parseInt(_0x3d6630(0xac))/0x5)+parseInt(_0x3d6630(0x13b))/0x6+parseInt(_0x3d6630(0x9d))/0x7+-parseInt(_0x3d6630(0xde))/0x8*(parseInt(_0x3d6630(0x176))/0x9)+-parseInt(_0x3d6630(0x8e))/0xa*(parseInt(_0x3d6630(0x14f))/0xb);if(_0x6ceb48===_0x1214c3)break;else _0x424a6c['push'](_0x424a6c['shift']());}catch(_0x74b2dd){_0x424a6c['push'](_0x424a6c['shift']());}}}(a69_0x2b49,0xb88cf));function a69_0x2b49(){const _0x1c7845=['rovtk','../../../generated/sdk_grpc_pb','bNGEu','dsBhF','GjSXc','from','start','setTestFramework','format','hAKlZ','PlaywrightConfigRequest','Getting\x20Playwright\x20config','Error\x20in\x20LogCreatedEvent:\x20','RWgdV','info','Error\x20in\x20DriverInit:\x20','IiRih','WOqLe','cKBvl','PwLdC','version','setExecutionContext','SDK_CONNECT_BIN_SESSION','pSmpP','kind','driverInit','setUserInputParams','ref','ConnectBinSessionRequest','DriverInitRequest','getSdkVersion','SDK_AUTOMATION_FRAMEWORK_INIT','AccessibilityConfig\x20request\x20successful','\x20listenAddr:\x20','stringify','playwrightConfig','No\x20gRPC\x20client\x20not\x20initialized.','TsXCD','setRef','nJjTr','channel','DriverInit\x20error:\x20','XTrON','GgdbH','feMiS','../../helpers/performance/performance-tester.js','BtHhs','LINKl','QfCCJ','Error\x20in\x20TestSessionEvent:\x20','setFrameworkVersion','AavUg','setEventJson','setPathConfig','testFrameworkName','LizaD','Error\x20in\x20stopBinSession:\x20','getFrameworkVersionsMap','resolve','setTestFrameworkState','addLogs','7541586lHNQzd','setFrameworkName','AccessibilityConfigRequest','frameworkVersion','listenAddress','path','error','Missing\x20binSessionId','Error\x20in\x20TestFrameworkEvent:\x20','bUniL','Error\x20in\x20getAccessibilityConfig:\x20','createInsecure','BROWSERSTACK_CLI_BIN_SESSION_ID','addFrameworks','DIucZ','setProcessId','ConnectBinSession\x20error:\x20','credentials','LogCreatedEvent\x20request\x20successful','lXpTx','9772697AepMQK','wiOOR','./cliUtils.js','Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20','test_run_uuid','aFnwj','fileName','threadId','setTestHookState','StopBinSession\x20successful','level','TestSessionEvent\x20error:\x20','aWPKo','stopBinSession','lmHHM','Error\x20in\x20getPlaywrightConfig:\x20','testFrameworkEvent','setAttachmentType','stop-bin-session\x20response:\x20','Sending\x20LogCreatedEvent','PlaywrightConfig\x20error:\x20','setPlatformIndex','VqOSq','TestSessionEvent\x20request\x20successful','setHash','yteqn','PlaywrightConfig\x20request\x20successful','AYRik','message','filePath','AccessibilityConfig\x20error:\x20','getClient','LogCreatedEventRequest','setSdkLanguage','winstonLogger','kBOUn','cwd','385569DHMKhJ','Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20','9531OrqkEm','DriverInit\x20request\x20successful','Stopping\x20signal\x20','Channel','encode','10VXHdoR','setExitCode','BOcls','setCapabilities','addAutomationSessions','kiLxe','TestSessionEventRequest','setProvider','2FlQrdU','setTestFrameworkName','binSessionId','setFilePath','TestFrameworkEventRequest','frameworkName','setBinSessionId','3519677yQvgNt','end','getBrowserstackCliConfig','debug','TestFrameworkEvent\x20request\x20successful','connect-bin-session\x20response:\x20','yDYRr','StartBinSession\x20error:\x20','set','processId','SNgrx','startBinSession','setLevel','../utils/constants','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','10RlbqNn','slice','testFrameworkState','fuVKl','EKEEh','@grpc/grpc-js','Getting\x20Accessibility\x20config','uRMem','dczrj','Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address','oJzOd','ConnectBinSession\x20successful','setTimestamp','getInstance','hash','setFrameworksList','setThreadId','StartBinSession\x20successful','./browserstackCLI.js','accessibilityConfig','setCliArgsList','GrpcClient','xshPe','user_killed','BROWSERSTACK_CONFIG_FILE_PATH','setFileName','getChannel','init','name','testSessionEvent','xdsOJ','Error\x20in\x20startBinSession:\x20','setHubUrl','connect','KsApg','client','getAccessibilityConfig','setSdkVersion','forEach','browserstack.yml','setPathProject','getEnvVarsMap','logger','OZCOW','setUuid','Error\x20in\x20connectBinSession:\x20','fileSize','setEndedAt','uhuBE','attachment_type','7048NGGWXR','provider','timestamp','MJqho','qjtjd','SDK_START_BIN_SESSION','Sending\x20TestFrameworkEvent','Connecting\x20bin\x20session','SDK_CLI_ON_STOP','Stopping\x20bin\x20session','2032396EppKas','AutomationSession','env','yOdia','IkxGe','getSdkLanguage','frameworkSessionId','util','qZqvu','70092utteBJ','StopBinSessionRequest','uuid','getAutomationFrameworkDetail','startBinSession:\x20Calling\x20startBinSession','TestFrameworkEvent\x20error:\x20','setTestFrameworkVersion','ExecutionContext','\x20and\x20listen\x20address:\x20','cLoos','setFileSize','setKind','setMessage'];a69_0x2b49=function(){return _0x1c7845;};return a69_0x2b49();}const util=require(a69_0x3924e8(0xef)),logger=require('../../helpers/logger.js')[a69_0x3924e8(0x171)],grpc=require(a69_0x3924e8(0xb1)),services=require(a69_0x3924e8(0xff)),messages=require('../../../generated/sdk-messages_pb'),path=require(a69_0x3924e8(0x140)),CLIUtils=require(a69_0x3924e8(0x151)),{createClassLogger}=require('../../helpers/classLogger.js'),PerformanceTester=require(a69_0x3924e8(0x12b)),{EVENTS:PerformanceEvents}=require('../../helpers/performance/constants'),{PLAYWRIGHT_TRACE_LOGS}=require(a69_0x3924e8(0xaa)),helper=require('../../helpers/helper.js');class GrpcClient{static #instance=null;[a69_0x3924e8(0x98)]=null;[a69_0x3924e8(0x13f)]=null;['channel']=null;[a69_0x3924e8(0xcf)]=null;[a69_0x3924e8(0xd6)]=createClassLogger(a69_0x3924e8(0xc1));constructor(){}static[a69_0x3924e8(0xb9)](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}[a69_0x3924e8(0xc7)](_0x289629){const _0xae5fcb=a69_0x3924e8,_0x275331={};_0x275331[_0xae5fcb(0x111)]=function(_0x1a7923,_0x20833b){return _0x1a7923||_0x20833b;};const _0x58c84a=_0x275331,{id:_0x5aa055,listen:_0x17441f}=_0x289629;if(_0x58c84a[_0xae5fcb(0x111)](!_0x5aa055,!_0x17441f))throw new Error(_0xae5fcb(0x175)+_0x5aa055+_0xae5fcb(0x11f)+_0x17441f);this[_0xae5fcb(0x98)]=_0x5aa055,this[_0xae5fcb(0x13f)]=_0x17441f,process[_0xae5fcb(0xea)]['BROWSERSTACK_CLI_BIN_SESSION_ID']=this[_0xae5fcb(0x98)],process[_0xae5fcb(0xea)][_0xae5fcb(0xab)]=this['listenAddress'],this[_0xae5fcb(0xcd)](),this[_0xae5fcb(0xd6)]['info'](_0xae5fcb(0x152)+this[_0xae5fcb(0x98)]+_0xae5fcb(0xf9)+this['listenAddress']);}[a69_0x3924e8(0xcd)](){const _0x346456=a69_0x3924e8,_0x3bc19b={};_0x3bc19b[_0x346456(0x16a)]=_0x346456(0xb5);const _0x2ccc93=_0x3bc19b;let _0x22aa7c=this[_0x346456(0x13f)];!_0x22aa7c&&(_0x22aa7c=process[_0x346456(0xea)][_0x346456(0xab)]);!this[_0x346456(0x98)]&&(this['binSessionId']=this[_0x346456(0x98)]||process[_0x346456(0xea)][_0x346456(0x147)]);if(!_0x22aa7c)throw new Error(_0x2ccc93[_0x346456(0x16a)]);const _0x4138fe={};_0x4138fe['grpc.keepalive_time_ms']=0x2710,this[_0x346456(0x126)]=new grpc[(_0x346456(0x8c))](_0x22aa7c,grpc[_0x346456(0x14c)][_0x346456(0x146)](),_0x4138fe),this['client']=new services['SDKClient'](_0x22aa7c,grpc[_0x346456(0x14c)][_0x346456(0x146)]()),this['logger'][_0x346456(0x10c)]('Connected\x20to\x20gRPC\x20server\x20at\x20'+_0x22aa7c);}async[a69_0x3924e8(0xa8)](){const _0x697b82=a69_0x3924e8,_0x4f94e3={'iaZfO':function(_0x2b631b,_0x1693a1){return _0x2b631b!==_0x1693a1;},'qZqvu':function(_0x2dd96b,_0x455351){return _0x2dd96b!==_0x455351;},'MJqho':function(_0x1ba149,_0x2378fd){return _0x1ba149(_0x2378fd);},'yDYRr':_0x697b82(0xbd),'AavUg':_0x697b82(0xf5),'uhuBE':_0x697b82(0x122),'PNuFy':function(_0x58ebf8,_0x1f5d04){return _0x58ebf8(_0x1f5d04);},'kiLxe':_0x697b82(0xbe),'pSmpP':function(_0x2916d7,_0x401e5f){return _0x2916d7 instanceof _0x401e5f;},'IiRih':function(_0x36d14a,_0x57101f){return _0x36d14a===_0x57101f;},'YUiWy':'browserstackConfigFile','VqOSq':_0x697b82(0xd3),'LINKl':'null','feMiS':function(_0x1ad6e5,_0xd51726){return _0x1ad6e5||_0xd51726;}};PerformanceTester['start'](PerformanceEvents[_0x697b82(0xe3)]),this[_0x697b82(0xd6)]['info'](_0x4f94e3[_0x697b82(0x131)]);try{!this['client']&&this[_0x697b82(0xd6)][_0x697b82(0x10c)](_0x4f94e3[_0x697b82(0xdc)]);const _0xf01fdb=CLIUtils[_0x697b82(0x11c)](),_0x292e10=CLIUtils['getAutomationFrameworkDetail'](),_0x396f2e=_0x292e10[_0x697b82(0xc8)],_0x26d11c=_0x292e10[_0x697b82(0x112)],_0x30ac6b=new messages['StartBinSessionRequest']();_0x30ac6b[_0x697b82(0x9c)](this[_0x697b82(0x98)]),_0x30ac6b[_0x697b82(0x170)](CLIUtils[_0x697b82(0xed)]()),_0x30ac6b[_0x697b82(0xd1)](_0xf01fdb),_0x30ac6b[_0x697b82(0xd4)](process['cwd']());const _0x2a25e8=_0x30ac6b[_0x697b82(0xd5)]();Object['entries'](process[_0x697b82(0xea)])[_0x697b82(0xd2)](([_0x1ddd71,_0x3acdab])=>{const _0x3ece92=_0x697b82;_0x4f94e3['iaZfO'](_0x3acdab,undefined)&&_0x4f94e3[_0x3ece92(0xf0)](_0x3acdab,null)&&_0x2a25e8['set'](_0x1ddd71,_0x3acdab);});const _0xcbd1a9=_0x4f94e3['PNuFy'](require,_0x4f94e3[_0x697b82(0x93)]),_0xa120d2=_0xcbd1a9[_0x697b82(0xb9)]()[_0x697b82(0x9f)](),_0x2b547f=[];_0xa120d2&&_0x4f94e3[_0x697b82(0x115)](_0xa120d2,Map)&&_0xa120d2[_0x697b82(0xd2)]((_0x4fa1ce,_0xfcdbd1)=>{_0x2b547f['push'](_0xfcdbd1+'='+_0x4fa1ce);});const _0x5cef6c=process['argv'][_0x697b82(0xad)](0x2);_0x30ac6b[_0x697b82(0xc0)]([..._0x5cef6c,..._0x2b547f]);let _0x27dc8e=null;if(_0xa120d2)for(const [_0x115453,_0x39ae6c]of _0xa120d2){if(_0x4f94e3[_0x697b82(0x10e)](_0x115453,_0x4f94e3['YUiWy'])){_0x27dc8e=_0x39ae6c;break;}}if(_0x27dc8e)_0x30ac6b[_0x697b82(0x133)](_0x27dc8e);else process[_0x697b82(0xea)][_0x697b82(0xc4)]?_0x30ac6b[_0x697b82(0x133)](process[_0x697b82(0xea)][_0x697b82(0xc4)]):_0x30ac6b[_0x697b82(0x133)](path[_0x697b82(0x138)](process[_0x697b82(0x173)](),_0x4f94e3[_0x697b82(0x165)]));this[_0x697b82(0xd6)][_0x697b82(0x10c)]('setCliArgs:\x20cliArgs='+JSON[_0x697b82(0x120)](_0x5cef6c)+',\x20parsedConfig='+(_0xa120d2?JSON[_0x697b82(0x120)]([..._0xa120d2]):_0x4f94e3[_0x697b82(0x12d)])),_0x30ac6b['setLanguage'](CLIUtils[_0x697b82(0xed)]()),_0x30ac6b[_0x697b82(0x105)](_0x396f2e);const _0x4987fb=_0x30ac6b[_0x697b82(0x137)]();return _0x4987fb[_0x697b82(0xa5)](_0x396f2e,_0x4f94e3[_0x697b82(0x12a)](_0x26d11c,'')),_0x30ac6b[_0x697b82(0x148)](_0x396f2e,_0x26d11c),_0x30ac6b[_0x697b82(0xbb)]([_0x396f2e]),new Promise((_0x5757ba,_0x4ae304)=>{const _0x14557d=_0x697b82,_0x17e5a5={'LsFQe':function(_0x43304b,_0x53cc21){const _0x33ea48=a69_0x4324;return _0x4f94e3[_0x33ea48(0xe1)](_0x43304b,_0x53cc21);},'BOcls':_0x4f94e3[_0x14557d(0xa3)],'IkxGe':function(_0x367091,_0x38345e){const _0x32f281=_0x14557d;return _0x4f94e3[_0x32f281(0xe1)](_0x367091,_0x38345e);}};this[_0x14557d(0xcf)][_0x14557d(0xa8)](_0x30ac6b,(_0x368602,_0x3d754c)=>{const _0x14242c=_0x14557d;if(_0x368602){this[_0x14242c(0xd6)]['error'](_0x14242c(0xa4)+_0x368602[_0x14242c(0x16b)]),_0x17e5a5['LsFQe'](_0x4ae304,_0x368602),PerformanceTester['end'](PerformanceEvents['SDK_START_BIN_SESSION'],![],util['format'](_0x368602));return;}this[_0x14242c(0xd6)][_0x14242c(0x10c)](_0x17e5a5[_0x14242c(0x90)]),PerformanceTester[_0x14242c(0x9e)](PerformanceEvents[_0x14242c(0xe3)]),_0x17e5a5[_0x14242c(0xec)](_0x5757ba,_0x3d754c);});});}catch(_0x1d7dda){this[_0x697b82(0xd6)][_0x697b82(0x141)](_0x697b82(0xcb)+util[_0x697b82(0x106)](_0x1d7dda)),PerformanceTester['end'](PerformanceEvents[_0x697b82(0xe3)],![],util['format'](_0x1d7dda));throw _0x1d7dda;}}async['connectBinSession'](){const _0x476e93=a69_0x3924e8,_0x21ca1e={'nJjTr':function(_0x14a2dd,_0x46785f){return _0x14a2dd(_0x46785f);},'dsBhF':_0x476e93(0xb7),'BtHhs':_0x476e93(0xe5),'EKEEh':_0x476e93(0x122)};PerformanceTester[_0x476e93(0x104)](PerformanceEvents[_0x476e93(0x114)]),this[_0x476e93(0xd6)][_0x476e93(0x10c)](_0x21ca1e[_0x476e93(0x12c)]);try{!this['client']&&this[_0x476e93(0xd6)][_0x476e93(0x10c)](_0x21ca1e[_0x476e93(0xb0)]);const _0x1d7943=new messages[(_0x476e93(0x11a))]();_0x1d7943[_0x476e93(0x9c)](this[_0x476e93(0x98)]);const _0x2175d5=await new Promise((_0x175153,_0x5560fe)=>{const _0x6c5c4f=_0x476e93,_0x476f22={'SNgrx':function(_0x1f0efe,_0xc5cd6){const _0x234fd2=a69_0x4324;return _0x21ca1e[_0x234fd2(0x125)](_0x1f0efe,_0xc5cd6);},'qXaGk':_0x21ca1e[_0x6c5c4f(0x101)],'uRMem':function(_0x5d2d19,_0x56a38c){const _0x37967a=_0x6c5c4f;return _0x21ca1e[_0x37967a(0x125)](_0x5d2d19,_0x56a38c);}};this[_0x6c5c4f(0xcf)]['connectBinSession'](_0x1d7943,(_0xd4ec38,_0x19baaf)=>{const _0x3e8efc=_0x6c5c4f;if(_0xd4ec38){this[_0x3e8efc(0xd6)][_0x3e8efc(0x141)](_0x3e8efc(0x14b)+_0xd4ec38[_0x3e8efc(0x16b)]),_0x476f22[_0x3e8efc(0xa7)](_0x5560fe,_0xd4ec38),PerformanceTester[_0x3e8efc(0x9e)](PerformanceEvents[_0x3e8efc(0x114)],![],util[_0x3e8efc(0x106)](_0xd4ec38));return;}this[_0x3e8efc(0xd6)]['info'](_0x476f22['qXaGk']),PerformanceTester[_0x3e8efc(0x9e)](PerformanceEvents[_0x3e8efc(0x114)]),_0x476f22[_0x3e8efc(0xb3)](_0x175153,_0x19baaf);});});return this[_0x476e93(0xd6)][_0x476e93(0xa0)](_0x476e93(0xa2)+util['format'](_0x2175d5)),_0x2175d5;}catch(_0x5da418){PerformanceTester[_0x476e93(0x9e)](PerformanceEvents['SDK_CONNECT_BIN_SESSION'],![],util[_0x476e93(0x106)](_0x5da418)),this[_0x476e93(0xd6)][_0x476e93(0x141)](_0x476e93(0xd9)+util[_0x476e93(0x106)](_0x5da418));throw _0x5da418;}}async[a69_0x3924e8(0x15c)](_0x3d6e16={},_0x1e770b=null){const _0xdbea6a=a69_0x3924e8,_0x253643={'bNGEu':function(_0x12fb14,_0x4a3bf5){return _0x12fb14(_0x4a3bf5);},'cLoos':_0xdbea6a(0x158),'lmHHM':_0xdbea6a(0xe7),'yJMoq':_0xdbea6a(0x142),'rovtk':_0xdbea6a(0x122),'FuLSP':_0xdbea6a(0xc3)};PerformanceTester['start'](PerformanceEvents[_0xdbea6a(0xe6)]),this[_0xdbea6a(0xd6)][_0xdbea6a(0x10c)](_0x253643[_0xdbea6a(0x15d)]);try{if(!this[_0xdbea6a(0x98)])throw new Error(_0x253643['yJMoq']);!this['client']&&this[_0xdbea6a(0xd6)]['info'](_0x253643[_0xdbea6a(0xfe)]);const _0x239ac3=new messages[(_0xdbea6a(0xf2))]();this[_0xdbea6a(0xd6)][_0xdbea6a(0xa0)](_0xdbea6a(0x8b)+JSON[_0xdbea6a(0x120)](_0x1e770b)),_0x239ac3[_0xdbea6a(0x9c)](this[_0xdbea6a(0x98)]),_0x239ac3['setCustomMetadata'](_0x3d6e16),_0x239ac3['setExitSignal'](_0x1e770b?_0x1e770b:null),_0x239ac3['setExitReason'](_0x1e770b?_0x253643['FuLSP']:null),_0x239ac3[_0xdbea6a(0x8f)](_0x1e770b?0x1:0x0);const _0x4a1b6b=await new Promise((_0x4e6f1c,_0x3a7350)=>{const _0x28bd83=_0xdbea6a,_0x41b755={'GgdbH':function(_0x5ca6c3,_0x4290bb){const _0x4e0ece=a69_0x4324;return _0x253643[_0x4e0ece(0x100)](_0x5ca6c3,_0x4290bb);},'uMWsQ':_0x253643[_0x28bd83(0xfa)]};this[_0x28bd83(0xcf)]['stopBinSession'](_0x239ac3,(_0x27f6a8,_0x227f78)=>{const _0x30eee9=_0x28bd83;if(_0x27f6a8){this['logger']['error']('StopBinSession\x20error:\x20'+_0x27f6a8['message']),_0x41b755[_0x30eee9(0x129)](_0x3a7350,_0x27f6a8),PerformanceTester[_0x30eee9(0x9e)](PerformanceEvents[_0x30eee9(0xe6)],![],util['format'](_0x27f6a8));return;}this[_0x30eee9(0xd6)][_0x30eee9(0x10c)](_0x41b755['uMWsQ']),PerformanceTester[_0x30eee9(0x9e)](PerformanceEvents['SDK_CLI_ON_STOP']),_0x41b755[_0x30eee9(0x129)](_0x4e6f1c,_0x227f78);});});return this[_0xdbea6a(0xd6)][_0xdbea6a(0xa0)](_0xdbea6a(0x161)+util[_0xdbea6a(0x106)](_0x4a1b6b)),_0x4a1b6b;}catch(_0x3a6b04){PerformanceTester[_0xdbea6a(0x9e)](PerformanceEvents[_0xdbea6a(0xe6)],![],util[_0xdbea6a(0x106)](_0x3a6b04)),this[_0xdbea6a(0xd6)][_0xdbea6a(0x141)](_0xdbea6a(0x136)+util[_0xdbea6a(0x106)](_0x3a6b04));}}async['getPlaywrightConfig'](_0x8d0f36){const _0x8e9c04=a69_0x3924e8,_0x316687={'yOdia':function(_0x16cc7e,_0x196155){return _0x16cc7e(_0x196155);},'kBOUn':_0x8e9c04(0x169),'aWPKo':_0x8e9c04(0x109),'RWgdV':_0x8e9c04(0x122)};PerformanceTester[_0x8e9c04(0x104)](PerformanceEvents[_0x8e9c04(0x11d)]),this[_0x8e9c04(0xd6)][_0x8e9c04(0x10c)](_0x316687[_0x8e9c04(0x15b)]);try{!this['client']&&this['logger']['info'](_0x316687[_0x8e9c04(0x10b)]);const _0x533606=new messages[(_0x8e9c04(0x108))]();return _0x533606[_0x8e9c04(0x9c)](this[_0x8e9c04(0x98)]),_0x533606['setConfig'](JSON['stringify'](_0x8d0f36)),new Promise((_0x1bcd22,_0x1542bc)=>{const _0x1854be=_0x8e9c04;this[_0x1854be(0xcf)][_0x1854be(0x121)](_0x533606,(_0x6bdc9d,_0x3a8645)=>{const _0x5b9dc5=_0x1854be;if(_0x6bdc9d){this['logger'][_0x5b9dc5(0x141)](_0x5b9dc5(0x163)+_0x6bdc9d[_0x5b9dc5(0x16b)]),_0x316687['yOdia'](_0x1542bc,_0x6bdc9d),PerformanceTester[_0x5b9dc5(0x9e)](PerformanceEvents[_0x5b9dc5(0x11d)],![],util[_0x5b9dc5(0x106)](_0x6bdc9d));return;}this['logger'][_0x5b9dc5(0x10c)](_0x316687[_0x5b9dc5(0x172)]),PerformanceTester[_0x5b9dc5(0x9e)](PerformanceEvents[_0x5b9dc5(0x11d)]),_0x316687[_0x5b9dc5(0xeb)](_0x1bcd22,_0x3a8645);});});}catch(_0x42a193){PerformanceTester[_0x8e9c04(0x9e)](PerformanceEvents[_0x8e9c04(0x11d)],![],util[_0x8e9c04(0x106)](_0x42a193)),this[_0x8e9c04(0xd6)][_0x8e9c04(0x141)](_0x8e9c04(0x15e)+util['format'](_0x42a193));throw _0x42a193;}}async[a69_0x3924e8(0xd0)](_0x40cc95){const _0xbe468b=a69_0x3924e8,_0x4afe41={'TsXCD':function(_0x43423e,_0x12f265){return _0x43423e(_0x12f265);},'OZCOW':_0xbe468b(0x11e),'wiOOR':_0xbe468b(0xb2),'lXpTx':'utf-8'};this['logger']['info'](_0x4afe41[_0xbe468b(0x150)]);try{const _0x5e248f=Buffer[_0xbe468b(0x103)](JSON[_0xbe468b(0x120)](_0x40cc95['launchcaps']),_0x4afe41[_0xbe468b(0x14e)]),_0x1f1f51=new messages[(_0xbe468b(0x13d))](),_0x11902b=CLIUtils[_0xbe468b(0xf4)](),_0x42bebe=_0x11902b[_0xbe468b(0xc8)],_0x25ac58=_0x11902b[_0xbe468b(0x112)];return _0x1f1f51[_0xbe468b(0x9c)](this[_0xbe468b(0x98)]),_0x1f1f51[_0xbe468b(0x164)](0x0),_0x1f1f51[_0xbe468b(0x13c)](_0x42bebe),_0x1f1f51[_0xbe468b(0x130)](_0x25ac58),_0x1f1f51['setHubUrl'](_0x40cc95['hubUrl']),_0x1f1f51[_0xbe468b(0x91)](_0x5e248f),new Promise((_0x4c15db,_0x3de85e)=>{const _0x402c69=_0xbe468b;this[_0x402c69(0xcf)][_0x402c69(0xbf)](_0x1f1f51,(_0x276212,_0x2261db)=>{const _0x1611b6=_0x402c69;if(_0x276212){this[_0x1611b6(0xd6)][_0x1611b6(0x141)](_0x1611b6(0x16d)+_0x276212['message']),_0x4afe41['TsXCD'](_0x3de85e,_0x276212);return;}this[_0x1611b6(0xd6)][_0x1611b6(0x10c)](_0x4afe41[_0x1611b6(0xd7)]),_0x4afe41[_0x1611b6(0x123)](_0x4c15db,_0x2261db);});});}catch(_0x2e1bd2){this[_0xbe468b(0xd6)]['error'](_0xbe468b(0x145)+util['format'](_0x2e1bd2));}}async[a69_0x3924e8(0xc9)](_0x2cffbd){const _0x5843e0=a69_0x3924e8,_0x4eb0a7={'xshPe':function(_0x68535,_0x51d7ea){return _0x68535(_0x51d7ea);},'WOqLe':_0x5843e0(0x166),'QfCCJ':'Sending\x20TestSessionEvent','qjtjd':_0x5843e0(0x122)};this[_0x5843e0(0xd6)][_0x5843e0(0x10c)](_0x4eb0a7[_0x5843e0(0x12e)]);try{!this[_0x5843e0(0xcf)]&&this[_0x5843e0(0xd6)][_0x5843e0(0x10c)](_0x4eb0a7[_0x5843e0(0xe2)]);const {platformIndex:_0x1fc7d7,testFrameworkName:_0x29939c,testFrameworkVersion:_0x303a47,testFrameworkState:_0x35e4f5,testHookState:_0x152f21,testUuid:_0x86d8ea,automationSession:_0x2e3261,capabilities:_0x1549c4,executionContext:_0x2bd4ff}=_0x2cffbd,_0x356905=new messages['TestSessionEventRequest']();_0x356905['setBinSessionId'](this[_0x5843e0(0x98)]),_0x356905[_0x5843e0(0x164)](_0x1fc7d7),_0x356905[_0x5843e0(0x97)](_0x29939c),_0x356905['setTestFrameworkVersion'](_0x303a47),_0x356905[_0x5843e0(0x139)](_0x35e4f5),_0x356905[_0x5843e0(0x157)](_0x152f21),_0x356905['setTestUuid'](_0x86d8ea);const _0x5b4ebe=new messages[(_0x5843e0(0x94))][(_0x5843e0(0xe9))]();_0x5b4ebe[_0x5843e0(0x95)](_0x2e3261[_0x5843e0(0xdf)]),_0x5b4ebe[_0x5843e0(0x13c)](_0x2e3261[_0x5843e0(0x9b)]),_0x5b4ebe['setFrameworkVersion'](_0x2e3261[_0x5843e0(0x13e)]),_0x5b4ebe['setFrameworkSessionId'](_0x2e3261[_0x5843e0(0xee)]),_0x5b4ebe[_0x5843e0(0x124)](_0x2e3261[_0x5843e0(0x119)]),_0x5b4ebe[_0x5843e0(0xcc)](_0x2e3261['hubUrl']),_0x356905[_0x5843e0(0x92)](_0x5b4ebe),_0x356905['setCapabilities'](_0x1549c4);const _0x2dc947=new messages['ExecutionContext']();return _0x2dc947['setProcessId'](_0x2bd4ff[_0x5843e0(0xa6)]),_0x2dc947['setThreadId'](_0x2bd4ff[_0x5843e0(0x156)]),_0x2dc947['setHash'](_0x2bd4ff[_0x5843e0(0xba)]),_0x356905[_0x5843e0(0x113)](_0x2dc947),new Promise((_0x25b601,_0x3e07c2)=>{const _0xaa5ca6=_0x5843e0,_0x5a308c={'PYtQH':function(_0x32ea40,_0x4d5baf){const _0xf531a6=a69_0x4324;return _0x4eb0a7[_0xf531a6(0xc2)](_0x32ea40,_0x4d5baf);},'cKBvl':_0x4eb0a7[_0xaa5ca6(0x10f)]};this['client']['testSessionEvent'](_0x356905,(_0xe02db3,_0x36756a)=>{const _0x4129f3=_0xaa5ca6;if(_0xe02db3){this[_0x4129f3(0xd6)][_0x4129f3(0x141)](_0x4129f3(0x15a)+_0xe02db3[_0x4129f3(0x16b)]),_0x5a308c['PYtQH'](_0x3e07c2,_0xe02db3);return;}this['logger'][_0x4129f3(0x10c)](_0x5a308c[_0x4129f3(0x110)]),_0x5a308c['PYtQH'](_0x25b601,_0x36756a);});});}catch(_0x334e3c){this['logger']['error'](_0x5843e0(0x12f)+util[_0x5843e0(0x106)](_0x334e3c));throw _0x334e3c;}}async['testFrameworkEvent'](_0x4662d5){const _0x239f36=a69_0x3924e8,_0x540701={'xdsOJ':function(_0x2d083b,_0x43aca4){return _0x2d083b(_0x43aca4);},'fuVKl':_0x239f36(0xa1),'Moual':_0x239f36(0xe4),'yteqn':_0x239f36(0x122)};this[_0x239f36(0xd6)][_0x239f36(0x10c)](_0x540701['Moual']);try{!this[_0x239f36(0xcf)]&&this['logger'][_0x239f36(0x10c)](_0x540701[_0x239f36(0x168)]);const {platfromIndex:_0x478ace,testFrameworkName:_0x334e00,testFrameworkVersion:_0x286f9d,testFrameworkState:_0x1dd824,hookState:_0x31521d,startedAt:_0x59bd11,endedAt:_0x574de8,uuid:_0x3ed050,eventJson:_0x5c9268,executionContext:_0x26400f}=_0x4662d5,_0x2b7137=new messages[(_0x239f36(0x9a))]();_0x2b7137[_0x239f36(0x9c)](this['binSessionId']),_0x2b7137['setPlatformIndex'](_0x478ace),_0x2b7137[_0x239f36(0x97)](_0x334e00),_0x2b7137['setTestFrameworkVersion'](_0x286f9d),_0x2b7137[_0x239f36(0x139)](_0x1dd824),_0x2b7137[_0x239f36(0x157)](_0x31521d),_0x2b7137['setStartedAt'](_0x59bd11),_0x2b7137[_0x239f36(0xdb)](_0x574de8),_0x2b7137[_0x239f36(0xd8)](_0x3ed050),_0x2b7137[_0x239f36(0x132)](_0x5c9268);const _0x4ea8e1=new messages[(_0x239f36(0xf8))]();return _0x4ea8e1[_0x239f36(0x14a)](_0x26400f['processId']),_0x4ea8e1[_0x239f36(0xbc)](_0x26400f[_0x239f36(0x156)]),_0x4ea8e1[_0x239f36(0x167)](_0x26400f[_0x239f36(0xba)]),_0x2b7137[_0x239f36(0x113)](_0x4ea8e1),new Promise((_0x4af974,_0x526311)=>{const _0x191db2=_0x239f36;this[_0x191db2(0xcf)][_0x191db2(0x15f)](_0x2b7137,(_0x58ef55,_0x5d64dd)=>{const _0x819c9d=_0x191db2;if(_0x58ef55){this[_0x819c9d(0xd6)][_0x819c9d(0x141)](_0x819c9d(0xf6)+_0x58ef55[_0x819c9d(0x16b)]),_0x540701[_0x819c9d(0xca)](_0x526311,_0x58ef55);return;}this[_0x819c9d(0xd6)][_0x819c9d(0x10c)](_0x540701[_0x819c9d(0xaf)]),_0x540701[_0x819c9d(0xca)](_0x4af974,_0x5d64dd);});});}catch(_0x51dca3){this[_0x239f36(0xd6)]['error'](_0x239f36(0x143)+util[_0x239f36(0x106)](_0x51dca3));throw _0x51dca3;}}async['driverInit'](_0x3f4b56){const _0x40bf85=a69_0x3924e8,_0x422400={'KsApg':function(_0x1ad1ca,_0x78bfd0){return _0x1ad1ca(_0x78bfd0);},'GstVm':_0x40bf85(0x177),'LizaD':'Sending\x20DriverInit','oJzOd':_0x40bf85(0x122)};this[_0x40bf85(0xd6)][_0x40bf85(0x10c)](_0x422400[_0x40bf85(0x135)]);try{!this['client']&&this[_0x40bf85(0xd6)][_0x40bf85(0x10c)](_0x422400[_0x40bf85(0xb6)]);const {platformIndex:_0x91ef4f,ref:_0x2e1ca0,userInputParams:_0x4dec93}=_0x3f4b56,_0x40c293=new messages[(_0x40bf85(0x11b))]();return _0x40c293[_0x40bf85(0x9c)](this[_0x40bf85(0x98)]),_0x40c293[_0x40bf85(0x164)](_0x91ef4f),_0x40c293[_0x40bf85(0x124)](_0x2e1ca0),_0x40c293[_0x40bf85(0x118)](_0x4dec93),new Promise((_0x316150,_0x14e0e7)=>{const _0x31757f=_0x40bf85,_0x254fca={'aFnwj':function(_0x20db90,_0x5378a2){const _0x4e55a3=a69_0x4324;return _0x422400[_0x4e55a3(0xce)](_0x20db90,_0x5378a2);},'VmKJw':_0x422400['GstVm']};this[_0x31757f(0xcf)][_0x31757f(0x117)](_0x40c293,(_0x3df104,_0x3cf650)=>{const _0x37f860=_0x31757f;if(_0x3df104){this[_0x37f860(0xd6)][_0x37f860(0x141)](_0x37f860(0x127)+_0x3df104[_0x37f860(0x16b)]),_0x254fca[_0x37f860(0x154)](_0x14e0e7,_0x3df104);return;}this['logger'][_0x37f860(0x10c)](_0x254fca['VmKJw']),_0x254fca[_0x37f860(0x154)](_0x316150,_0x3cf650);});});}catch(_0x430448){this[_0x40bf85(0xd6)]['error'](_0x40bf85(0x10d)+util[_0x40bf85(0x106)](_0x430448));throw _0x430448;}}async['logCreatedEvent'](_0x3ae705){const _0x5369ed=a69_0x3924e8,_0x49c1ce={'hAKlZ':function(_0x4d91ff,_0x47d732){return _0x4d91ff===_0x47d732;},'bSNAJ':function(_0x44791b,_0x52c023){return _0x44791b(_0x52c023);},'DIucZ':_0x5369ed(0x14d),'bUniL':_0x5369ed(0x162),'GjSXc':_0x5369ed(0x122)};this['logger'][_0x5369ed(0x10c)](_0x49c1ce[_0x5369ed(0x144)]);try{!this['client']&&this[_0x5369ed(0xd6)][_0x5369ed(0x10c)](_0x49c1ce[_0x5369ed(0x102)]);const {platformIndex:_0x19be11,logs:_0x11159c}=_0x3ae705,_0x62c881=new messages[(_0x5369ed(0x16f))]();_0x62c881['setBinSessionId'](this[_0x5369ed(0x98)]),_0x62c881[_0x5369ed(0x164)](_0x19be11);const _0x5264f4=_0x3ae705[_0x5369ed(0x134)],_0x38d2f8=_0x3ae705['testFrameworkVersion'],_0x5aadcc=_0x3ae705[_0x5369ed(0xae)];return _0x11159c[_0x5369ed(0xd2)](_0x5c4356=>{const _0x165f0e=_0x5369ed,_0x1778a7=new messages[(_0x165f0e(0x16f))]['LogEntry']();_0x1778a7['setTestFrameworkName'](_0x5264f4),_0x1778a7[_0x165f0e(0xf7)](_0x38d2f8),_0x1778a7['setTestFrameworkState'](_0x5aadcc),_0x1778a7[_0x165f0e(0xb8)](_0x5c4356[_0x165f0e(0xe0)]),_0x1778a7[_0x165f0e(0xd8)](_0x5c4356[_0x165f0e(0xf3)]),_0x1778a7[_0x165f0e(0xfc)](_0x5c4356[_0x165f0e(0x116)]),_0x49c1ce[_0x165f0e(0x107)](_0x5c4356[_0x165f0e(0xdd)],PLAYWRIGHT_TRACE_LOGS)?(_0x1778a7[_0x165f0e(0xd8)](_0x5c4356[_0x165f0e(0x153)]),_0x1778a7[_0x165f0e(0xfd)](new TextEncoder()[_0x165f0e(0x8d)](JSON[_0x165f0e(0x120)](_0x5c4356)))):_0x1778a7[_0x165f0e(0xfd)](new TextEncoder()[_0x165f0e(0x8d)](_0x5c4356[_0x165f0e(0x16b)])),_0x1778a7[_0x165f0e(0xa9)](_0x5c4356[_0x165f0e(0x159)]),_0x1778a7[_0x165f0e(0xc5)](_0x5c4356?.[_0x165f0e(0x155)]||''),_0x1778a7[_0x165f0e(0x99)](_0x5c4356?.[_0x165f0e(0x16c)]||''),_0x1778a7[_0x165f0e(0xfb)](_0x5c4356?.[_0x165f0e(0xda)]||0x0),_0x1778a7[_0x165f0e(0x160)](_0x5c4356?.[_0x165f0e(0xdd)]||''),_0x62c881[_0x165f0e(0x13a)](_0x1778a7);}),new Promise((_0x41bdf4,_0x56e883)=>{const _0x8d25d=_0x5369ed,_0x319f98={'dczrj':function(_0x4cc3bf,_0x4d1d10){return _0x49c1ce['bSNAJ'](_0x4cc3bf,_0x4d1d10);},'XTrON':_0x49c1ce[_0x8d25d(0x149)]};this[_0x8d25d(0xcf)]['logCreatedEvent'](_0x62c881,(_0x2f4438,_0x38c624)=>{const _0xb7423b=_0x8d25d;if(_0x2f4438){this['logger'][_0xb7423b(0x141)]('LogCreatedEvent\x20error:\x20'+_0x2f4438[_0xb7423b(0x16b)]),_0x319f98[_0xb7423b(0xb4)](_0x56e883,_0x2f4438);return;}this[_0xb7423b(0xd6)][_0xb7423b(0x10c)](_0x319f98[_0xb7423b(0x128)]),_0x319f98['dczrj'](_0x41bdf4,_0x38c624);});});}catch(_0x4036b1){this['logger'][_0x5369ed(0x141)](_0x5369ed(0x10a)+util[_0x5369ed(0x106)](_0x4036b1));throw _0x4036b1;}}[a69_0x3924e8(0x16e)](){return this['client'];}[a69_0x3924e8(0xc6)](){const _0x572f4b=a69_0x3924e8;return this[_0x572f4b(0x126)];}}function a69_0x4324(_0x54386e,_0x3a9204){const _0x2b49aa=a69_0x2b49();return a69_0x4324=function(_0x43246d,_0x9d87ea){_0x43246d=_0x43246d-0x8b;let _0x2cf0e3=_0x2b49aa[_0x43246d];return _0x2cf0e3;},a69_0x4324(_0x54386e,_0x3a9204);}module['exports']=GrpcClient;