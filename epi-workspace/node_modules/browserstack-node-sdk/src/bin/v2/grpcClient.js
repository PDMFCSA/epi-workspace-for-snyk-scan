const a67_0x781db5=a67_0x3271;(function(_0x2a00cd,_0x459d9c){const _0x28550a=a67_0x3271,_0x5856f7=_0x2a00cd();while(!![]){try{const _0x1d7035=-parseInt(_0x28550a(0x27c))/0x1*(parseInt(_0x28550a(0x22b))/0x2)+parseInt(_0x28550a(0x1ca))/0x3+-parseInt(_0x28550a(0x225))/0x4+-parseInt(_0x28550a(0x221))/0x5*(parseInt(_0x28550a(0x27f))/0x6)+parseInt(_0x28550a(0x1be))/0x7+-parseInt(_0x28550a(0x200))/0x8+parseInt(_0x28550a(0x21b))/0x9*(parseInt(_0x28550a(0x270))/0xa);if(_0x1d7035===_0x459d9c)break;else _0x5856f7['push'](_0x5856f7['shift']());}catch(_0x5c53bd){_0x5856f7['push'](_0x5856f7['shift']());}}}(a67_0x19d9,0x2f9e7));const util=require(a67_0x781db5(0x247)),logger=require('../../helpers/logger.js')[a67_0x781db5(0x26a)],grpc=require('@grpc/grpc-js'),services=require(a67_0x781db5(0x219)),messages=require(a67_0x781db5(0x276)),path=require(a67_0x781db5(0x236)),CLIUtils=require(a67_0x781db5(0x214)),{createClassLogger}=require(a67_0x781db5(0x1f1)),PerformanceTester=require(a67_0x781db5(0x1e4)),{EVENTS:PerformanceEvents}=require('../../helpers/performance/constants'),{PLAYWRIGHT_TRACE_LOGS}=require('../utils/constants'),helper=require('../../helpers/helper.js');class GrpcClient{static #instance=null;[a67_0x781db5(0x243)]=null;[a67_0x781db5(0x271)]=null;['channel']=null;['client']=null;[a67_0x781db5(0x209)]=createClassLogger('GrpcClient');constructor(){}static['getInstance'](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}[a67_0x781db5(0x234)](_0x427ad9){const _0x2e1a51=a67_0x781db5,_0x335d4e={};_0x335d4e[_0x2e1a51(0x281)]=function(_0x1ce1c1,_0x57190b){return _0x1ce1c1||_0x57190b;};const _0x12a82b=_0x335d4e,{id:_0x430c56,listen:_0x46cf9d}=_0x427ad9;if(_0x12a82b[_0x2e1a51(0x281)](!_0x430c56,!_0x46cf9d))throw new Error(_0x2e1a51(0x1f7)+_0x430c56+_0x2e1a51(0x27e)+_0x46cf9d);this[_0x2e1a51(0x243)]=_0x430c56,this[_0x2e1a51(0x271)]=_0x46cf9d,process['env']['BROWSERSTACK_CLI_BIN_SESSION_ID']=this[_0x2e1a51(0x243)],process[_0x2e1a51(0x26d)][_0x2e1a51(0x1d3)]=this[_0x2e1a51(0x271)],this[_0x2e1a51(0x1d9)](),this[_0x2e1a51(0x209)]['info'](_0x2e1a51(0x287)+this[_0x2e1a51(0x243)]+'\x20and\x20listen\x20address:\x20'+this[_0x2e1a51(0x271)]);}[a67_0x781db5(0x1d9)](){const _0x3b10c9=a67_0x781db5,_0x28a400={};_0x28a400['rwGGk']=_0x3b10c9(0x25f);const _0x15ec97=_0x28a400;let _0x18e40f=this[_0x3b10c9(0x271)];!_0x18e40f&&(_0x18e40f=process[_0x3b10c9(0x26d)]['BROWSERSTACK_CLI_BIN_LISTEN_ADDR']);!this[_0x3b10c9(0x243)]&&(this[_0x3b10c9(0x243)]=this['binSessionId']||process['env'][_0x3b10c9(0x222)]);if(!_0x18e40f)throw new Error(_0x15ec97[_0x3b10c9(0x26f)]);const _0x3d954a={};_0x3d954a['grpc.keepalive_time_ms']=0x2710,this['channel']=new grpc[(_0x3b10c9(0x289))](_0x18e40f,grpc[_0x3b10c9(0x274)][_0x3b10c9(0x213)](),_0x3d954a),this[_0x3b10c9(0x229)]=new services['SDKClient'](_0x18e40f,grpc['credentials'][_0x3b10c9(0x213)]()),this[_0x3b10c9(0x209)]['info'](_0x3b10c9(0x1f9)+_0x18e40f);}async[a67_0x781db5(0x21d)](){const _0x2fb1b4=a67_0x781db5,_0x345a97={'XJpsL':function(_0x2b477f,_0x4153f9){return _0x2b477f!==_0x4153f9;},'HTyqD':function(_0x51c3b1,_0x151331){return _0x51c3b1(_0x151331);},'dpWPI':'StartBinSession\x20successful','faVmZ':_0x2fb1b4(0x23a),'ywehe':_0x2fb1b4(0x282),'jksyx':function(_0x76b080,_0x4296c3){return _0x76b080(_0x4296c3);},'REsTk':_0x2fb1b4(0x204),'dnnSx':function(_0x582c9e,_0x1cc6f9){return _0x582c9e instanceof _0x1cc6f9;},'scyhl':function(_0x10ab82,_0x4d4ae2){return _0x10ab82===_0x4d4ae2;},'ODeHM':_0x2fb1b4(0x1db),'eqTnx':_0x2fb1b4(0x241),'eGUOp':_0x2fb1b4(0x246),'OAODj':function(_0x40fc7e,_0x3c74d9){return _0x40fc7e||_0x3c74d9;}};PerformanceTester[_0x2fb1b4(0x233)](PerformanceEvents[_0x2fb1b4(0x223)]),this['logger']['info'](_0x345a97['faVmZ']);try{!this[_0x2fb1b4(0x229)]&&this[_0x2fb1b4(0x209)]['info'](_0x345a97['ywehe']);const _0x5e34f3=CLIUtils[_0x2fb1b4(0x23c)](),_0x28fd00=CLIUtils['getAutomationFrameworkDetail'](),_0x5cd8da=_0x28fd00[_0x2fb1b4(0x22c)],_0x2bb855=_0x28fd00[_0x2fb1b4(0x250)],_0x48d197=new messages[(_0x2fb1b4(0x20d))]();_0x48d197[_0x2fb1b4(0x266)](this[_0x2fb1b4(0x243)]),_0x48d197[_0x2fb1b4(0x1f5)](CLIUtils[_0x2fb1b4(0x23e)]()),_0x48d197[_0x2fb1b4(0x297)](_0x5e34f3),_0x48d197[_0x2fb1b4(0x264)](process[_0x2fb1b4(0x244)]());const _0x4572ec=_0x48d197[_0x2fb1b4(0x269)]();Object[_0x2fb1b4(0x267)](process[_0x2fb1b4(0x26d)])[_0x2fb1b4(0x207)](([_0x5e91a0,_0x22ea31])=>{const _0x270515=_0x2fb1b4;_0x345a97['XJpsL'](_0x22ea31,undefined)&&_0x345a97[_0x270515(0x20a)](_0x22ea31,null)&&_0x4572ec['set'](_0x5e91a0,_0x22ea31);});const _0x26757c=_0x345a97[_0x2fb1b4(0x1d0)](require,_0x345a97[_0x2fb1b4(0x1ed)]),_0x4a05d5=_0x26757c['getInstance']()[_0x2fb1b4(0x24d)](),_0x120549=[];_0x4a05d5&&_0x345a97['dnnSx'](_0x4a05d5,Map)&&_0x4a05d5['forEach']((_0x403483,_0x195dde)=>{const _0x179ca5=_0x2fb1b4;_0x120549[_0x179ca5(0x231)](_0x195dde+'='+_0x403483);});const _0x437be0=process[_0x2fb1b4(0x1c7)][_0x2fb1b4(0x218)](0x2);_0x48d197['setCliArgsList']([..._0x437be0,..._0x120549]);let _0x503fe5=null;if(_0x4a05d5)for(const [_0x3d80fd,_0xe5fc00]of _0x4a05d5){if(_0x345a97[_0x2fb1b4(0x1c6)](_0x3d80fd,_0x345a97[_0x2fb1b4(0x1e9)])){_0x503fe5=_0xe5fc00;break;}}if(_0x503fe5)_0x48d197[_0x2fb1b4(0x1f2)](_0x503fe5);else process[_0x2fb1b4(0x26d)][_0x2fb1b4(0x1ce)]?_0x48d197['setPathConfig'](process['env'][_0x2fb1b4(0x1ce)]):_0x48d197['setPathConfig'](path[_0x2fb1b4(0x1ec)](process[_0x2fb1b4(0x244)](),_0x345a97[_0x2fb1b4(0x284)]));this[_0x2fb1b4(0x209)]['info'](_0x2fb1b4(0x237)+JSON[_0x2fb1b4(0x21a)](_0x437be0)+_0x2fb1b4(0x216)+(_0x4a05d5?JSON[_0x2fb1b4(0x21a)]([..._0x4a05d5]):_0x345a97[_0x2fb1b4(0x1fe)])),_0x48d197['setLanguage'](CLIUtils[_0x2fb1b4(0x23e)]()),_0x48d197[_0x2fb1b4(0x260)](_0x5cd8da);const _0x1445d5=_0x48d197['getFrameworkVersionsMap']();return _0x1445d5[_0x2fb1b4(0x1bc)](_0x5cd8da,_0x345a97['OAODj'](_0x2bb855,'')),_0x48d197[_0x2fb1b4(0x1ea)](_0x5cd8da,_0x2bb855),_0x48d197[_0x2fb1b4(0x280)]([_0x5cd8da]),new Promise((_0x21202d,_0x23d0f7)=>{const _0x385e71=_0x2fb1b4;this[_0x385e71(0x229)][_0x385e71(0x21d)](_0x48d197,(_0x1ea986,_0x11949b)=>{const _0xe9a847=_0x385e71;if(_0x1ea986){this['logger'][_0xe9a847(0x1f4)](_0xe9a847(0x256)+_0x1ea986[_0xe9a847(0x1cd)]),_0x345a97[_0xe9a847(0x211)](_0x23d0f7,_0x1ea986),PerformanceTester['end'](PerformanceEvents[_0xe9a847(0x223)],![],util[_0xe9a847(0x27b)](_0x1ea986));return;}this[_0xe9a847(0x209)][_0xe9a847(0x1c1)](_0x345a97[_0xe9a847(0x1e1)]),PerformanceTester[_0xe9a847(0x293)](PerformanceEvents[_0xe9a847(0x223)]),_0x345a97[_0xe9a847(0x211)](_0x21202d,_0x11949b);});});}catch(_0x351e60){this[_0x2fb1b4(0x209)][_0x2fb1b4(0x1f4)](_0x2fb1b4(0x224)+util[_0x2fb1b4(0x27b)](_0x351e60)),PerformanceTester[_0x2fb1b4(0x293)](PerformanceEvents[_0x2fb1b4(0x223)],![],util[_0x2fb1b4(0x27b)](_0x351e60));throw _0x351e60;}}async['connectBinSession'](){const _0x4149a9=a67_0x781db5,_0x16deb8={'sDREE':function(_0x453c7c,_0xb98d1b){return _0x453c7c(_0xb98d1b);},'RYNos':'ConnectBinSession\x20successful','rhMcS':'Connecting\x20bin\x20session','zsJaW':_0x4149a9(0x282)};PerformanceTester[_0x4149a9(0x233)](PerformanceEvents[_0x4149a9(0x25b)]),this[_0x4149a9(0x209)][_0x4149a9(0x1c1)](_0x16deb8[_0x4149a9(0x1ff)]);try{!this['client']&&this[_0x4149a9(0x209)][_0x4149a9(0x1c1)](_0x16deb8[_0x4149a9(0x25c)]);const _0x5a88a8=new messages[(_0x4149a9(0x28e))]();_0x5a88a8[_0x4149a9(0x266)](this[_0x4149a9(0x243)]);const _0x15e7a3=await new Promise((_0x4655eb,_0x5a8907)=>{const _0x584a3d=_0x4149a9,_0x342aee={'moFlF':function(_0x4c5dc1,_0x2ad490){return _0x16deb8['sDREE'](_0x4c5dc1,_0x2ad490);},'nKwge':_0x16deb8[_0x584a3d(0x273)],'sMoWa':function(_0x1ab67e,_0x37cd00){const _0x30af6d=_0x584a3d;return _0x16deb8[_0x30af6d(0x1f6)](_0x1ab67e,_0x37cd00);}};this[_0x584a3d(0x229)]['connectBinSession'](_0x5a88a8,(_0x5ae940,_0x3a4799)=>{const _0x184235=_0x584a3d;if(_0x5ae940){this[_0x184235(0x209)]['error']('ConnectBinSession\x20error:\x20'+_0x5ae940[_0x184235(0x1cd)]),_0x342aee[_0x184235(0x283)](_0x5a8907,_0x5ae940),PerformanceTester[_0x184235(0x293)](PerformanceEvents[_0x184235(0x25b)],![],util[_0x184235(0x27b)](_0x5ae940));return;}this[_0x184235(0x209)][_0x184235(0x1c1)](_0x342aee['nKwge']),PerformanceTester[_0x184235(0x293)](PerformanceEvents[_0x184235(0x25b)]),_0x342aee['sMoWa'](_0x4655eb,_0x3a4799);});});return this[_0x4149a9(0x209)]['debug'](_0x4149a9(0x1d2)+util[_0x4149a9(0x27b)](_0x15e7a3)),_0x15e7a3;}catch(_0x59b38b){PerformanceTester[_0x4149a9(0x293)](PerformanceEvents[_0x4149a9(0x25b)],![],util[_0x4149a9(0x27b)](_0x59b38b)),this[_0x4149a9(0x209)]['error'](_0x4149a9(0x265)+util[_0x4149a9(0x27b)](_0x59b38b));throw _0x59b38b;}}async[a67_0x781db5(0x277)](_0x23d6d1={},_0x599239=null){const _0x1d51a7=a67_0x781db5,_0x10d1fb={'JlMyu':function(_0x484ed3,_0x32097d){return _0x484ed3(_0x32097d);},'CJqBv':_0x1d51a7(0x1c5),'almlD':'Stopping\x20bin\x20session','KJTgG':_0x1d51a7(0x226),'hyRok':'No\x20gRPC\x20client\x20not\x20initialized.','oDNfh':_0x1d51a7(0x22f)};PerformanceTester[_0x1d51a7(0x233)](PerformanceEvents[_0x1d51a7(0x1d5)]),this['logger'][_0x1d51a7(0x1c1)](_0x10d1fb['almlD']);try{if(!this[_0x1d51a7(0x243)])throw new Error(_0x10d1fb[_0x1d51a7(0x263)]);!this[_0x1d51a7(0x229)]&&this[_0x1d51a7(0x209)][_0x1d51a7(0x1c1)](_0x10d1fb[_0x1d51a7(0x206)]);const _0x25ecb3=new messages[(_0x1d51a7(0x1d7))]();this[_0x1d51a7(0x209)][_0x1d51a7(0x1da)](_0x1d51a7(0x1ee)+JSON[_0x1d51a7(0x21a)](_0x599239)),_0x25ecb3[_0x1d51a7(0x266)](this[_0x1d51a7(0x243)]),_0x25ecb3[_0x1d51a7(0x210)](_0x23d6d1),_0x25ecb3['setExitSignal'](_0x599239?_0x599239:null),_0x25ecb3[_0x1d51a7(0x24b)](_0x599239?_0x10d1fb[_0x1d51a7(0x279)]:null),_0x25ecb3['setExitCode'](_0x599239?0x1:0x0);const _0x54d1b0=await new Promise((_0x38b4c2,_0x2eba20)=>{const _0x76da24=_0x1d51a7,_0xef6f5f={'YRJft':function(_0x3dfed0,_0x59b187){const _0x59cba1=a67_0x3271;return _0x10d1fb[_0x59cba1(0x24f)](_0x3dfed0,_0x59b187);},'yRgka':_0x10d1fb[_0x76da24(0x208)]};this[_0x76da24(0x229)][_0x76da24(0x277)](_0x25ecb3,(_0x2b7f11,_0x14d451)=>{const _0x222c7e=_0x76da24;if(_0x2b7f11){this[_0x222c7e(0x209)][_0x222c7e(0x1f4)](_0x222c7e(0x232)+_0x2b7f11[_0x222c7e(0x1cd)]),_0xef6f5f[_0x222c7e(0x25a)](_0x2eba20,_0x2b7f11),PerformanceTester[_0x222c7e(0x293)](PerformanceEvents[_0x222c7e(0x1d5)],![],util[_0x222c7e(0x27b)](_0x2b7f11));return;}this[_0x222c7e(0x209)][_0x222c7e(0x1c1)](_0xef6f5f[_0x222c7e(0x245)]),PerformanceTester[_0x222c7e(0x293)](PerformanceEvents[_0x222c7e(0x1d5)]),_0xef6f5f[_0x222c7e(0x25a)](_0x38b4c2,_0x14d451);});});return this[_0x1d51a7(0x209)][_0x1d51a7(0x1da)]('stop-bin-session\x20response:\x20'+util[_0x1d51a7(0x27b)](_0x54d1b0)),_0x54d1b0;}catch(_0x1fbb9e){PerformanceTester['end'](PerformanceEvents[_0x1d51a7(0x1d5)],![],util[_0x1d51a7(0x27b)](_0x1fbb9e)),this[_0x1d51a7(0x209)]['error'](_0x1d51a7(0x1fb)+util[_0x1d51a7(0x27b)](_0x1fbb9e));}}async[a67_0x781db5(0x23b)](_0x2dd676){const _0x484ea3=a67_0x781db5,_0x11e39e={'JfOdV':function(_0x189fd6,_0x5ded57){return _0x189fd6(_0x5ded57);},'wySxM':'PlaywrightConfig\x20request\x20successful','QpItr':_0x484ea3(0x21f),'shSil':_0x484ea3(0x282)};PerformanceTester[_0x484ea3(0x233)](PerformanceEvents[_0x484ea3(0x258)]),this['logger'][_0x484ea3(0x1c1)](_0x11e39e[_0x484ea3(0x1e5)]);try{!this[_0x484ea3(0x229)]&&this[_0x484ea3(0x209)][_0x484ea3(0x1c1)](_0x11e39e[_0x484ea3(0x1cb)]);const _0x458cec=new messages[(_0x484ea3(0x23d))]();return _0x458cec[_0x484ea3(0x266)](this[_0x484ea3(0x243)]),_0x458cec[_0x484ea3(0x203)](JSON[_0x484ea3(0x21a)](_0x2dd676)),new Promise((_0x419e05,_0x20a75c)=>{const _0x509135=_0x484ea3;this[_0x509135(0x229)]['playwrightConfig'](_0x458cec,(_0x23459b,_0x10a088)=>{const _0x2df864=_0x509135;if(_0x23459b){this[_0x2df864(0x209)][_0x2df864(0x1f4)](_0x2df864(0x1e3)+_0x23459b['message']),_0x11e39e['JfOdV'](_0x20a75c,_0x23459b),PerformanceTester[_0x2df864(0x293)](PerformanceEvents[_0x2df864(0x258)],![],util['format'](_0x23459b));return;}this[_0x2df864(0x209)][_0x2df864(0x1c1)](_0x11e39e[_0x2df864(0x20f)]),PerformanceTester[_0x2df864(0x293)](PerformanceEvents[_0x2df864(0x258)]),_0x11e39e[_0x2df864(0x296)](_0x419e05,_0x10a088);});});}catch(_0x5a7473){PerformanceTester[_0x484ea3(0x293)](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT'],![],util['format'](_0x5a7473)),this['logger'][_0x484ea3(0x1f4)](_0x484ea3(0x294)+util[_0x484ea3(0x27b)](_0x5a7473));throw _0x5a7473;}}async['getAccessibilityConfig'](_0x5af65f){const _0xd4a66f=a67_0x781db5,_0x572ff6={'AHSDI':function(_0x4e0f45,_0x4425b3){return _0x4e0f45(_0x4425b3);},'bDheT':_0xd4a66f(0x299),'dNIQI':_0xd4a66f(0x1d1),'TxePG':_0xd4a66f(0x275)};this[_0xd4a66f(0x209)]['info'](_0x572ff6['dNIQI']);try{const _0x27f0d0=Buffer[_0xd4a66f(0x1cf)](JSON[_0xd4a66f(0x21a)](_0x5af65f[_0xd4a66f(0x272)]),_0x572ff6[_0xd4a66f(0x28c)]),_0x4d3cd8=new messages[(_0xd4a66f(0x22e))](),_0x45621e=CLIUtils[_0xd4a66f(0x1e8)](),_0x599a3a=_0x45621e['name'],_0x4005a5=_0x45621e[_0xd4a66f(0x250)];return _0x4d3cd8[_0xd4a66f(0x266)](this[_0xd4a66f(0x243)]),_0x4d3cd8[_0xd4a66f(0x252)](0x0),_0x4d3cd8[_0xd4a66f(0x295)](_0x599a3a),_0x4d3cd8['setFrameworkVersion'](_0x4005a5),_0x4d3cd8['setHubUrl'](_0x5af65f[_0xd4a66f(0x230)]),_0x4d3cd8[_0xd4a66f(0x1dc)](_0x27f0d0),new Promise((_0x31b901,_0xefff00)=>{const _0x2b10b9=_0xd4a66f;this['client'][_0x2b10b9(0x28f)](_0x4d3cd8,(_0x3f609b,_0x2d9424)=>{const _0x340f7c=_0x2b10b9;if(_0x3f609b){this[_0x340f7c(0x209)][_0x340f7c(0x1f4)](_0x340f7c(0x1c0)+_0x3f609b[_0x340f7c(0x1cd)]),_0x572ff6[_0x340f7c(0x28d)](_0xefff00,_0x3f609b);return;}this[_0x340f7c(0x209)][_0x340f7c(0x1c1)](_0x572ff6[_0x340f7c(0x201)]),_0x572ff6[_0x340f7c(0x28d)](_0x31b901,_0x2d9424);});});}catch(_0x20049f){this[_0xd4a66f(0x209)]['error']('Error\x20in\x20getAccessibilityConfig:\x20'+util[_0xd4a66f(0x27b)](_0x20049f));}}async[a67_0x781db5(0x25e)](_0x46956c){const _0xcbdb26=a67_0x781db5,_0x3afeac={'mAzBl':function(_0x29e1c1,_0x8e8ddb){return _0x29e1c1(_0x8e8ddb);},'cUivl':_0xcbdb26(0x254),'HGhQu':_0xcbdb26(0x205),'NMYSj':_0xcbdb26(0x282)};this[_0xcbdb26(0x209)]['info'](_0x3afeac[_0xcbdb26(0x22a)]);try{!this[_0xcbdb26(0x229)]&&this['logger'][_0xcbdb26(0x1c1)](_0x3afeac[_0xcbdb26(0x21c)]);const {platformIndex:_0x53b14c,testFrameworkName:_0x472b5b,testFrameworkVersion:_0x44bee3,testFrameworkState:_0x4f41ce,testHookState:_0x139f0d,testUuid:_0x10d628,automationSession:_0x2f9b51,capabilities:_0x263c8f,executionContext:_0x2379f0}=_0x46956c,_0x2c352f=new messages['TestSessionEventRequest']();_0x2c352f[_0xcbdb26(0x266)](this[_0xcbdb26(0x243)]),_0x2c352f[_0xcbdb26(0x252)](_0x53b14c),_0x2c352f[_0xcbdb26(0x1d8)](_0x472b5b),_0x2c352f[_0xcbdb26(0x1f8)](_0x44bee3),_0x2c352f[_0xcbdb26(0x1d4)](_0x4f41ce),_0x2c352f['setTestHookState'](_0x139f0d),_0x2c352f[_0xcbdb26(0x298)](_0x10d628);const _0x257ef8=new messages[(_0xcbdb26(0x1df))][(_0xcbdb26(0x1dd))]();_0x257ef8['setProvider'](_0x2f9b51[_0xcbdb26(0x249)]),_0x257ef8[_0xcbdb26(0x295)](_0x2f9b51['frameworkName']),_0x257ef8['setFrameworkVersion'](_0x2f9b51[_0xcbdb26(0x1d6)]),_0x257ef8[_0xcbdb26(0x227)](_0x2f9b51[_0xcbdb26(0x257)]),_0x257ef8['setRef'](_0x2f9b51['ref']),_0x257ef8[_0xcbdb26(0x22d)](_0x2f9b51['hubUrl']),_0x2c352f[_0xcbdb26(0x290)](_0x257ef8),_0x2c352f[_0xcbdb26(0x1dc)](_0x263c8f);const _0x1ae09d=new messages[(_0xcbdb26(0x253))]();return _0x1ae09d[_0xcbdb26(0x27a)](_0x2379f0[_0xcbdb26(0x228)]),_0x1ae09d['setThreadId'](_0x2379f0[_0xcbdb26(0x255)]),_0x1ae09d[_0xcbdb26(0x240)](_0x2379f0['hash']),_0x2c352f[_0xcbdb26(0x251)](_0x1ae09d),new Promise((_0x3266ad,_0x430b6f)=>{const _0x4b7cf4=_0xcbdb26,_0x2ed579={'vTlrg':function(_0x918655,_0xd6f6fe){const _0x1d0f5c=a67_0x3271;return _0x3afeac[_0x1d0f5c(0x217)](_0x918655,_0xd6f6fe);},'zxquY':_0x3afeac[_0x4b7cf4(0x288)]};this[_0x4b7cf4(0x229)]['testSessionEvent'](_0x2c352f,(_0x3ca4e1,_0xd9fc9)=>{const _0x47476c=_0x4b7cf4;if(_0x3ca4e1){this['logger']['error'](_0x47476c(0x212)+_0x3ca4e1[_0x47476c(0x1cd)]),_0x2ed579[_0x47476c(0x26e)](_0x430b6f,_0x3ca4e1);return;}this[_0x47476c(0x209)][_0x47476c(0x1c1)](_0x2ed579[_0x47476c(0x292)]),_0x2ed579[_0x47476c(0x26e)](_0x3266ad,_0xd9fc9);});});}catch(_0x352b6a){this[_0xcbdb26(0x209)][_0xcbdb26(0x1f4)]('Error\x20in\x20TestSessionEvent:\x20'+util[_0xcbdb26(0x27b)](_0x352b6a));throw _0x352b6a;}}async['testFrameworkEvent'](_0x24c009){const _0x3de693=a67_0x781db5,_0x4d9893={'vIRhu':function(_0x32165f,_0x5577a4){return _0x32165f(_0x5577a4);},'NyFLe':_0x3de693(0x242),'nemOo':_0x3de693(0x20b),'yfASP':_0x3de693(0x282)};this[_0x3de693(0x209)][_0x3de693(0x1c1)](_0x4d9893[_0x3de693(0x27d)]);try{!this[_0x3de693(0x229)]&&this['logger'][_0x3de693(0x1c1)](_0x4d9893[_0x3de693(0x1e0)]);const {platfromIndex:_0x4837ee,testFrameworkName:_0x2883bd,testFrameworkVersion:_0x4bc9e7,testFrameworkState:_0x42b165,hookState:_0x350191,startedAt:_0x12cf00,endedAt:_0x3f8d53,uuid:_0x224613,eventJson:_0x22cec9,executionContext:_0x2c06f3}=_0x24c009,_0x2f6a7a=new messages[(_0x3de693(0x24e))]();_0x2f6a7a[_0x3de693(0x266)](this[_0x3de693(0x243)]),_0x2f6a7a[_0x3de693(0x252)](_0x4837ee),_0x2f6a7a[_0x3de693(0x1d8)](_0x2883bd),_0x2f6a7a[_0x3de693(0x1f8)](_0x4bc9e7),_0x2f6a7a[_0x3de693(0x1d4)](_0x42b165),_0x2f6a7a[_0x3de693(0x1eb)](_0x350191),_0x2f6a7a[_0x3de693(0x202)](_0x12cf00),_0x2f6a7a['setEndedAt'](_0x3f8d53),_0x2f6a7a[_0x3de693(0x24c)](_0x224613),_0x2f6a7a[_0x3de693(0x26b)](_0x22cec9);const _0x4bc197=new messages['ExecutionContext']();return _0x4bc197[_0x3de693(0x27a)](_0x2c06f3[_0x3de693(0x228)]),_0x4bc197[_0x3de693(0x1bf)](_0x2c06f3['threadId']),_0x4bc197['setHash'](_0x2c06f3['hash']),_0x2f6a7a[_0x3de693(0x251)](_0x4bc197),new Promise((_0x6f45d,_0x5e652a)=>{const _0x2cfe8f=_0x3de693,_0x5ad6f3={'wdGIw':function(_0x32fe3d,_0x2cdd10){return _0x4d9893['vIRhu'](_0x32fe3d,_0x2cdd10);},'uOUHE':_0x4d9893[_0x2cfe8f(0x1fc)]};this[_0x2cfe8f(0x229)][_0x2cfe8f(0x268)](_0x2f6a7a,(_0x31f0c6,_0x5da279)=>{const _0x274840=_0x2cfe8f;if(_0x31f0c6){this[_0x274840(0x209)][_0x274840(0x1f4)](_0x274840(0x1e2)+_0x31f0c6[_0x274840(0x1cd)]),_0x5ad6f3[_0x274840(0x248)](_0x5e652a,_0x31f0c6);return;}this[_0x274840(0x209)][_0x274840(0x1c1)](_0x5ad6f3[_0x274840(0x26c)]),_0x5ad6f3['wdGIw'](_0x6f45d,_0x5da279);});});}catch(_0x58ce1f){this[_0x3de693(0x209)]['error'](_0x3de693(0x1ef)+util[_0x3de693(0x27b)](_0x58ce1f));throw _0x58ce1f;}}async['driverInit'](_0x527028){const _0x479b8b=a67_0x781db5,_0x5632de={'sxDGF':function(_0x217176,_0x1a5b2d){return _0x217176(_0x1a5b2d);},'KXvyt':_0x479b8b(0x1e6),'DSkbr':_0x479b8b(0x262),'BiBYi':_0x479b8b(0x282)};this[_0x479b8b(0x209)]['info'](_0x5632de[_0x479b8b(0x286)]);try{!this[_0x479b8b(0x229)]&&this['logger']['info'](_0x5632de[_0x479b8b(0x1f0)]);const {platformIndex:_0x402848,ref:_0x21e3e4,userInputParams:_0x5ae0fe}=_0x527028,_0x5f31c6=new messages['DriverInitRequest']();return _0x5f31c6[_0x479b8b(0x266)](this[_0x479b8b(0x243)]),_0x5f31c6[_0x479b8b(0x252)](_0x402848),_0x5f31c6['setRef'](_0x21e3e4),_0x5f31c6[_0x479b8b(0x1c8)](_0x5ae0fe),new Promise((_0x254d2,_0x448ad2)=>{const _0x17a8e1=_0x479b8b;this[_0x17a8e1(0x229)]['driverInit'](_0x5f31c6,(_0x2c4022,_0x24312b)=>{const _0x1294db=_0x17a8e1;if(_0x2c4022){this[_0x1294db(0x209)][_0x1294db(0x1f4)]('DriverInit\x20error:\x20'+_0x2c4022[_0x1294db(0x1cd)]),_0x5632de[_0x1294db(0x24a)](_0x448ad2,_0x2c4022);return;}this['logger'][_0x1294db(0x1c1)](_0x5632de[_0x1294db(0x25d)]),_0x5632de[_0x1294db(0x24a)](_0x254d2,_0x24312b);});});}catch(_0x35087c){this['logger']['error'](_0x479b8b(0x20c)+util['format'](_0x35087c));throw _0x35087c;}}async['logCreatedEvent'](_0x2ccb8a){const _0x5a463e=a67_0x781db5,_0x4c329e={'PiEmn':function(_0x270878,_0x499657){return _0x270878===_0x499657;},'jXErN':function(_0x2f7e75,_0x4ded9c){return _0x2f7e75(_0x4ded9c);},'NKACM':'LogCreatedEvent\x20request\x20successful','BEluZ':_0x5a463e(0x21e),'pjuyn':_0x5a463e(0x282)};this['logger'][_0x5a463e(0x1c1)](_0x4c329e['BEluZ']);try{!this[_0x5a463e(0x229)]&&this[_0x5a463e(0x209)][_0x5a463e(0x1c1)](_0x4c329e['pjuyn']);const {platformIndex:_0x595c2a,logs:_0x17dbb5}=_0x2ccb8a,_0x45d81e=new messages[(_0x5a463e(0x1e7))]();_0x45d81e[_0x5a463e(0x266)](this[_0x5a463e(0x243)]),_0x45d81e[_0x5a463e(0x252)](_0x595c2a);const _0x4d5677=_0x2ccb8a[_0x5a463e(0x1fd)],_0x5af539=_0x2ccb8a[_0x5a463e(0x1c4)],_0x133c8c=_0x2ccb8a[_0x5a463e(0x1fa)];return _0x17dbb5[_0x5a463e(0x207)](_0xb8665d=>{const _0x528c2f=_0x5a463e,_0x11eeee=new messages['LogCreatedEventRequest']['LogEntry']();_0x11eeee[_0x528c2f(0x1d8)](_0x4d5677),_0x11eeee[_0x528c2f(0x1f8)](_0x5af539),_0x11eeee[_0x528c2f(0x1d4)](_0x133c8c),_0x11eeee[_0x528c2f(0x1de)](_0xb8665d[_0x528c2f(0x1c9)]),_0x11eeee['setUuid'](_0xb8665d[_0x528c2f(0x1c3)]),_0x11eeee['setKind'](_0xb8665d[_0x528c2f(0x291)]),_0x4c329e['PiEmn'](_0xb8665d[_0x528c2f(0x1cc)],PLAYWRIGHT_TRACE_LOGS)?(_0x11eeee[_0x528c2f(0x24c)](_0xb8665d['test_run_uuid']),_0x11eeee[_0x528c2f(0x1c2)](new TextEncoder()['encode'](JSON[_0x528c2f(0x21a)](_0xb8665d)))):_0x11eeee[_0x528c2f(0x1c2)](new TextEncoder()[_0x528c2f(0x28a)](_0xb8665d[_0x528c2f(0x1cd)])),_0x11eeee[_0x528c2f(0x235)](_0xb8665d[_0x528c2f(0x215)]),_0x11eeee['setFileName'](_0xb8665d?.[_0x528c2f(0x20e)]||''),_0x11eeee[_0x528c2f(0x239)](_0xb8665d?.[_0x528c2f(0x1bd)]||''),_0x11eeee[_0x528c2f(0x278)](_0xb8665d?.[_0x528c2f(0x238)]||0x0),_0x11eeee[_0x528c2f(0x220)](_0xb8665d?.[_0x528c2f(0x1cc)]||''),_0x45d81e['addLogs'](_0x11eeee);}),new Promise((_0x56272a,_0x466cf9)=>{const _0x5bb829=_0x5a463e;this[_0x5bb829(0x229)][_0x5bb829(0x28b)](_0x45d81e,(_0x4e20ed,_0x16065a)=>{const _0x3193c3=_0x5bb829;if(_0x4e20ed){this[_0x3193c3(0x209)][_0x3193c3(0x1f4)]('LogCreatedEvent\x20error:\x20'+_0x4e20ed[_0x3193c3(0x1cd)]),_0x4c329e[_0x3193c3(0x23f)](_0x466cf9,_0x4e20ed);return;}this[_0x3193c3(0x209)][_0x3193c3(0x1c1)](_0x4c329e[_0x3193c3(0x261)]),_0x4c329e[_0x3193c3(0x23f)](_0x56272a,_0x16065a);});});}catch(_0x2a5d08){this[_0x5a463e(0x209)][_0x5a463e(0x1f4)](_0x5a463e(0x259)+util[_0x5a463e(0x27b)](_0x2a5d08));throw _0x2a5d08;}}['getClient'](){const _0xf15d06=a67_0x781db5;return this[_0xf15d06(0x229)];}['getChannel'](){const _0x22c0bd=a67_0x781db5;return this[_0x22c0bd(0x285)];}}function a67_0x19d9(){const _0x5942db=['AccessibilityConfig\x20error:\x20','info','setMessage','uuid','testFrameworkVersion','StopBinSession\x20successful','scyhl','argv','setUserInputParams','timestamp','577707ibyqCR','shSil','attachment_type','message','BROWSERSTACK_CONFIG_FILE_PATH','from','jksyx','Getting\x20Accessibility\x20config','connect-bin-session\x20response:\x20','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','setTestFrameworkState','SDK_CLI_ON_STOP','frameworkVersion','StopBinSessionRequest','setTestFrameworkName','connect','debug','browserstackConfigFile','setCapabilities','AutomationSession','setTimestamp','TestSessionEventRequest','yfASP','dpWPI','TestFrameworkEvent\x20error:\x20','PlaywrightConfig\x20error:\x20','../../helpers/performance/performance-tester.js','QpItr','DriverInit\x20request\x20successful','LogCreatedEventRequest','getAutomationFrameworkDetail','ODeHM','addFrameworks','setTestHookState','resolve','REsTk','Stopping\x20signal\x20','Error\x20in\x20TestFrameworkEvent:\x20','BiBYi','../../helpers/classLogger.js','setPathConfig','exports','error','setSdkLanguage','sDREE','Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20','setTestFrameworkVersion','Connected\x20to\x20gRPC\x20server\x20at\x20','testFrameworkState','Error\x20in\x20stopBinSession:\x20','NyFLe','testFrameworkName','eGUOp','rhMcS','833240SuJTYJ','bDheT','setStartedAt','setConfig','./browserstackCLI.js','Sending\x20TestSessionEvent','hyRok','forEach','CJqBv','logger','XJpsL','Sending\x20TestFrameworkEvent','Error\x20in\x20DriverInit:\x20','StartBinSessionRequest','fileName','wySxM','setCustomMetadata','HTyqD','TestSessionEvent\x20error:\x20','createInsecure','./cliUtils.js','level',',\x20parsedConfig=','mAzBl','slice','../../../generated/sdk_grpc_pb','stringify','9UxwcPz','NMYSj','startBinSession','Sending\x20LogCreatedEvent','Getting\x20Playwright\x20config','setAttachmentType','202855phLoxR','BROWSERSTACK_CLI_BIN_SESSION_ID','SDK_START_BIN_SESSION','Error\x20in\x20startBinSession:\x20','128712TVoyLr','Missing\x20binSessionId','setFrameworkSessionId','processId','client','HGhQu','914abJpmN','name','setHubUrl','AccessibilityConfigRequest','user_killed','hubUrl','push','StopBinSession\x20error:\x20','start','init','setLevel','path','setCliArgs:\x20cliArgs=','fileSize','setFilePath','startBinSession:\x20Calling\x20startBinSession','getPlaywrightConfig','getSdkVersion','PlaywrightConfigRequest','getSdkLanguage','jXErN','setHash','browserstack.yml','TestFrameworkEvent\x20request\x20successful','binSessionId','cwd','yRgka','null','util','wdGIw','provider','sxDGF','setExitReason','setUuid','getBrowserstackCliConfig','TestFrameworkEventRequest','JlMyu','version','setExecutionContext','setPlatformIndex','ExecutionContext','TestSessionEvent\x20request\x20successful','threadId','StartBinSession\x20error:\x20','frameworkSessionId','SDK_AUTOMATION_FRAMEWORK_INIT','Error\x20in\x20LogCreatedEvent:\x20','YRJft','SDK_CONNECT_BIN_SESSION','zsJaW','KXvyt','testSessionEvent','Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address','setTestFramework','NKACM','Sending\x20DriverInit','KJTgG','setPathProject','Error\x20in\x20connectBinSession:\x20','setBinSessionId','entries','testFrameworkEvent','getEnvVarsMap','winstonLogger','setEventJson','uOUHE','env','vTlrg','rwGGk','4830680nDqeMq','listenAddress','launchcaps','RYNos','credentials','utf-8','../../../generated/sdk-messages_pb','stopBinSession','setFileSize','oDNfh','setProcessId','format','469AsDgFK','nemOo','\x20listenAddr:\x20','30mIEifq','setFrameworksList','PcCRY','No\x20gRPC\x20client\x20not\x20initialized.','moFlF','eqTnx','channel','DSkbr','Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20','cUivl','Channel','encode','logCreatedEvent','TxePG','AHSDI','ConnectBinSessionRequest','accessibilityConfig','addAutomationSessions','kind','zxquY','end','Error\x20in\x20getPlaywrightConfig:\x20','setFrameworkName','JfOdV','setSdkVersion','setTestUuid','AccessibilityConfig\x20request\x20successful','set','filePath','510517jXNlNs','setThreadId'];a67_0x19d9=function(){return _0x5942db;};return a67_0x19d9();}function a67_0x3271(_0x14be0e,_0x149e11){const _0x19d9de=a67_0x19d9();return a67_0x3271=function(_0x3271fe,_0x369e86){_0x3271fe=_0x3271fe-0x1bc;let _0x5b3b45=_0x19d9de[_0x3271fe];return _0x5b3b45;},a67_0x3271(_0x14be0e,_0x149e11);}module[a67_0x781db5(0x1f3)]=GrpcClient;