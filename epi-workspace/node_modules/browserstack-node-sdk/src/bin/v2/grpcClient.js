const a72_0x43bbe7=a72_0x2b60;(function(_0x32606c,_0x4810c1){const _0x50a11d=a72_0x2b60,_0x2984fa=_0x32606c();while(!![]){try{const _0x469ad7=parseInt(_0x50a11d(0x101))/0x1*(parseInt(_0x50a11d(0x1db))/0x2)+-parseInt(_0x50a11d(0x1c8))/0x3+parseInt(_0x50a11d(0x1c2))/0x4*(-parseInt(_0x50a11d(0x198))/0x5)+-parseInt(_0x50a11d(0x1a6))/0x6+parseInt(_0x50a11d(0x191))/0x7*(parseInt(_0x50a11d(0x134))/0x8)+-parseInt(_0x50a11d(0x136))/0x9+parseInt(_0x50a11d(0xf1))/0xa;if(_0x469ad7===_0x4810c1)break;else _0x2984fa['push'](_0x2984fa['shift']());}catch(_0x511452){_0x2984fa['push'](_0x2984fa['shift']());}}}(a72_0x4c55,0xc956b));const util=require(a72_0x43bbe7(0x1a9)),logger=require(a72_0x43bbe7(0x13f))[a72_0x43bbe7(0x1cf)],grpc=require(a72_0x43bbe7(0x1a3)),services=require(a72_0x43bbe7(0x132)),messages=require(a72_0x43bbe7(0x154)),path=require(a72_0x43bbe7(0x1ae)),CLIUtils=require(a72_0x43bbe7(0x133)),{createClassLogger}=require(a72_0x43bbe7(0x15c)),PerformanceTester=require('../../helpers/performance/performance-tester.js'),{EVENTS:PerformanceEvents}=require(a72_0x43bbe7(0x143)),{PLAYWRIGHT_TRACE_LOGS}=require(a72_0x43bbe7(0x142)),helper=require(a72_0x43bbe7(0x12b));class GrpcClient{static #instance=null;[a72_0x43bbe7(0x1ea)]=null;['listenAddress']=null;[a72_0x43bbe7(0x185)]=null;[a72_0x43bbe7(0x1cd)]=null;['logger']=createClassLogger(a72_0x43bbe7(0x1de));constructor(){}static['getInstance'](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}[a72_0x43bbe7(0x147)](_0x4de03d){const _0x7073bb=a72_0x43bbe7,_0x154568={};_0x154568[_0x7073bb(0x1bd)]=function(_0x206926,_0x543d22){return _0x206926||_0x543d22;};const _0x4155e4=_0x154568,{id:_0x321985,listen:_0x1cdc2f}=_0x4de03d;if(_0x4155e4['LZaCp'](!_0x321985,!_0x1cdc2f))throw new Error(_0x7073bb(0x14a)+_0x321985+_0x7073bb(0x18e)+_0x1cdc2f);this[_0x7073bb(0x1ea)]=_0x321985,this['listenAddress']=_0x1cdc2f,process[_0x7073bb(0x15b)][_0x7073bb(0x1bc)]=this[_0x7073bb(0x1ea)],process[_0x7073bb(0x15b)][_0x7073bb(0x17d)]=this['listenAddress'],this[_0x7073bb(0x106)](),this[_0x7073bb(0x113)][_0x7073bb(0x135)]('Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20'+this[_0x7073bb(0x1ea)]+_0x7073bb(0x190)+this[_0x7073bb(0x166)]);}[a72_0x43bbe7(0x106)](){const _0x476553=a72_0x43bbe7,_0x213e26={};_0x213e26['uyNsa']=_0x476553(0x18c);const _0x52ce77=_0x213e26;let _0x3d9158=this[_0x476553(0x166)];!_0x3d9158&&(_0x3d9158=process[_0x476553(0x15b)][_0x476553(0x17d)]);!this[_0x476553(0x1ea)]&&(this['binSessionId']=this['binSessionId']||process[_0x476553(0x15b)][_0x476553(0x1bc)]);if(!_0x3d9158)throw new Error(_0x52ce77['uyNsa']);const _0x54cc70={};_0x54cc70[_0x476553(0x10f)]=0x2710,this[_0x476553(0x185)]=new grpc['Channel'](_0x3d9158,grpc[_0x476553(0x165)][_0x476553(0x1b3)](),_0x54cc70),this['client']=new services[(_0x476553(0xf2))](_0x3d9158,grpc[_0x476553(0x165)]['createInsecure']()),this[_0x476553(0x113)][_0x476553(0x135)](_0x476553(0x1a4)+_0x3d9158);}async[a72_0x43bbe7(0x148)](){const _0x4b4e31=a72_0x43bbe7,_0x150837={'XeaEG':function(_0x4677ed,_0xd25404){return _0x4677ed!==_0xd25404;},'nUVur':function(_0x5c20ff,_0x138576){return _0x5c20ff!==_0x138576;},'DuEIU':function(_0x534ae6,_0x10cc8c){return _0x534ae6(_0x10cc8c);},'ADahw':'StartBinSession\x20successful','NAYou':_0x4b4e31(0x1ba),'PVeJE':_0x4b4e31(0x19c),'WyxVh':function(_0x54c92e,_0x25955d){return _0x54c92e(_0x25955d);},'RJcyU':_0x4b4e31(0x164),'qArBs':function(_0x22498b,_0x86346){return _0x22498b instanceof _0x86346;},'RhixO':function(_0xfcef49,_0x3ac53c){return _0xfcef49===_0x3ac53c;},'IHFCP':_0x4b4e31(0x12f),'RPpBo':_0x4b4e31(0x14d),'ZVcep':_0x4b4e31(0x15d),'wFmEh':function(_0x264991,_0x518a1f){return _0x264991||_0x518a1f;}};PerformanceTester[_0x4b4e31(0x18f)](PerformanceEvents[_0x4b4e31(0x1a1)]),this[_0x4b4e31(0x113)][_0x4b4e31(0x135)](_0x150837[_0x4b4e31(0x115)]);try{!this['client']&&this[_0x4b4e31(0x113)]['info'](_0x150837[_0x4b4e31(0x16f)]);const _0xd84a5a=CLIUtils[_0x4b4e31(0x162)](),_0x357fd6=CLIUtils[_0x4b4e31(0x1d1)](),_0x473538=CLIUtils[_0x4b4e31(0x155)](),_0x4afa21=_0x357fd6['name'],_0x4dabd7=_0x357fd6[_0x4b4e31(0xf8)],_0x3dcf7c=_0x473538[_0x4b4e31(0x1d5)],_0x1e47da=_0x473538[_0x4b4e31(0xf8)]?_0x473538[_0x4b4e31(0xf8)][_0x3dcf7c]:'',_0x13a352=new messages[(_0x4b4e31(0x10d))]();_0x13a352[_0x4b4e31(0x105)](this['binSessionId']),_0x13a352['setSdkLanguage'](CLIUtils['getSdkLanguage']()),_0x13a352[_0x4b4e31(0x102)](_0xd84a5a),_0x13a352['setPathProject'](process[_0x4b4e31(0x1ab)]());const _0x205c5a=_0x13a352[_0x4b4e31(0x1af)]();Object[_0x4b4e31(0x111)](process[_0x4b4e31(0x15b)])['forEach'](([_0x426452,_0x2f4127])=>{const _0x485c95=_0x4b4e31;_0x150837[_0x485c95(0x1dd)](_0x2f4127,undefined)&&_0x150837[_0x485c95(0x180)](_0x2f4127,null)&&_0x205c5a[_0x485c95(0x121)](_0x426452,_0x2f4127);});const _0x5a74e5=_0x150837[_0x4b4e31(0x195)](require,_0x150837[_0x4b4e31(0x1d8)]),_0x1d28bf=_0x5a74e5[_0x4b4e31(0x1e6)]()[_0x4b4e31(0x116)](),_0x4baec3=[];_0x1d28bf&&_0x150837[_0x4b4e31(0x1cb)](_0x1d28bf,Map)&&_0x1d28bf[_0x4b4e31(0x19a)]((_0x211f5e,_0x287080)=>{_0x4baec3['push'](_0x287080+'='+_0x211f5e);});const _0x1a58e=process[_0x4b4e31(0x156)][_0x4b4e31(0x16d)](0x2);_0x13a352[_0x4b4e31(0x10e)]([..._0x1a58e,..._0x4baec3]);let _0x1dc365=null;if(_0x1d28bf)for(const [_0x258c7d,_0x38aa9f]of _0x1d28bf){if(_0x150837[_0x4b4e31(0x19b)](_0x258c7d,_0x150837[_0x4b4e31(0x1c0)])){_0x1dc365=_0x38aa9f;break;}}if(_0x1dc365)_0x13a352['setPathConfig'](_0x1dc365);else process[_0x4b4e31(0x15b)][_0x4b4e31(0x14b)]?_0x13a352[_0x4b4e31(0x13c)](process[_0x4b4e31(0x15b)][_0x4b4e31(0x14b)]):_0x13a352[_0x4b4e31(0x13c)](path[_0x4b4e31(0x199)](process[_0x4b4e31(0x1ab)](),_0x150837[_0x4b4e31(0x126)]));this[_0x4b4e31(0x113)][_0x4b4e31(0x135)]('setCliArgs:\x20cliArgs='+JSON['stringify'](_0x1a58e)+',\x20parsedConfig='+(_0x1d28bf?JSON['stringify']([..._0x1d28bf]):_0x150837['ZVcep'])),_0x13a352['setLanguage'](CLIUtils['getSdkLanguage']()),_0x13a352[_0x4b4e31(0x1b0)](_0x3dcf7c);const _0x3d7ac0=_0x13a352[_0x4b4e31(0x18b)]();return _0x3d7ac0['set'](_0x4afa21,_0x150837[_0x4b4e31(0x1bf)](_0x4dabd7,'')),_0x3d7ac0['set'](_0x3dcf7c,_0x150837[_0x4b4e31(0x1bf)](_0x1e47da,'')),_0x13a352[_0x4b4e31(0x11e)](_0x4afa21,_0x4dabd7),_0x13a352[_0x4b4e31(0x11e)](_0x3dcf7c,_0x1e47da),_0x13a352[_0x4b4e31(0x161)]([_0x3dcf7c,_0x4afa21]),new Promise((_0x187589,_0x497f10)=>{const _0x21d2a6=_0x4b4e31,_0x4e5370={'MYxAi':function(_0x1a1f0d,_0x29e63d){const _0x56de0f=a72_0x2b60;return _0x150837[_0x56de0f(0x178)](_0x1a1f0d,_0x29e63d);},'oCUhy':_0x150837[_0x21d2a6(0x16a)]};this['client'][_0x21d2a6(0x148)](_0x13a352,(_0xb46d94,_0x39369b)=>{const _0x417dd3=_0x21d2a6;if(_0xb46d94){this[_0x417dd3(0x113)][_0x417dd3(0x176)](_0x417dd3(0x1ad)+_0xb46d94['message']),_0x4e5370[_0x417dd3(0x186)](_0x497f10,_0xb46d94),PerformanceTester[_0x417dd3(0x171)](PerformanceEvents['SDK_START_BIN_SESSION'],![],util[_0x417dd3(0x1c3)](_0xb46d94));return;}this['logger'][_0x417dd3(0x135)](_0x4e5370[_0x417dd3(0x1df)]),PerformanceTester[_0x417dd3(0x171)](PerformanceEvents[_0x417dd3(0x1a1)]),_0x4e5370[_0x417dd3(0x186)](_0x187589,_0x39369b);});});}catch(_0x5bbf4d){this['logger']['error']('Error\x20in\x20startBinSession:\x20'+util[_0x4b4e31(0x1c3)](_0x5bbf4d)),PerformanceTester[_0x4b4e31(0x171)](PerformanceEvents['SDK_START_BIN_SESSION'],![],util[_0x4b4e31(0x1c3)](_0x5bbf4d));throw _0x5bbf4d;}}async[a72_0x43bbe7(0x100)](){const _0x58105e=a72_0x43bbe7,_0x332fb2={'JoAPI':function(_0xcbb896,_0x4e4fd4){return _0xcbb896(_0x4e4fd4);},'CYWyB':_0x58105e(0x10c),'phqYf':_0x58105e(0x1be),'bbxPd':_0x58105e(0x19c),'uaLWe':_0x58105e(0x1b5),'wYWNm':_0x58105e(0x182),'OFvwD':_0x58105e(0x1eb)};PerformanceTester['start'](PerformanceEvents[_0x58105e(0x1e4)]),this[_0x58105e(0x113)]['info'](_0x332fb2[_0x58105e(0x1d3)]);try{!this[_0x58105e(0x1cd)]&&this[_0x58105e(0x113)][_0x58105e(0x135)](_0x332fb2[_0x58105e(0x193)]);const _0x71c235=new messages[(_0x58105e(0x157))]();_0x71c235[_0x58105e(0x105)](this[_0x58105e(0x1ea)]);const _0x3109e7=await new Promise((_0x9b11c4,_0x33f4b8)=>{const _0x4db669=_0x58105e;this['client'][_0x4db669(0x100)](_0x71c235,(_0x44891c,_0x5c5850)=>{const _0x3aa36b=_0x4db669;if(_0x44891c){this[_0x3aa36b(0x113)][_0x3aa36b(0x176)]('ConnectBinSession\x20error:\x20'+_0x44891c[_0x3aa36b(0x145)]),_0x332fb2['JoAPI'](_0x33f4b8,_0x44891c),PerformanceTester[_0x3aa36b(0x171)](PerformanceEvents['SDK_CONNECT_BIN_SESSION'],![],util[_0x3aa36b(0x1c3)](_0x44891c));return;}this[_0x3aa36b(0x113)][_0x3aa36b(0x135)](_0x332fb2[_0x3aa36b(0x1f1)]),PerformanceTester[_0x3aa36b(0x171)](PerformanceEvents['SDK_CONNECT_BIN_SESSION']),_0x332fb2[_0x3aa36b(0x1e9)](_0x9b11c4,_0x5c5850);});}),_0x334426=util[_0x58105e(0x1c3)](_0x3109e7)['replace'](/"userName":"[^"]*"/g,_0x332fb2[_0x58105e(0x174)])[_0x58105e(0x1f0)](/"accessKey":"[^"]*"/g,_0x332fb2[_0x58105e(0x179)])[_0x58105e(0x1f0)](/"key":"[^"]*"/g,_0x332fb2[_0x58105e(0x160)]);return this[_0x58105e(0x113)][_0x58105e(0x1d2)](_0x58105e(0x1c5)+_0x334426),_0x3109e7;}catch(_0x5d6845){PerformanceTester[_0x58105e(0x171)](PerformanceEvents[_0x58105e(0x1e4)],![],util[_0x58105e(0x1c3)](_0x5d6845)),this[_0x58105e(0x113)][_0x58105e(0x176)](_0x58105e(0x158)+util[_0x58105e(0x1c3)](_0x5d6845));throw _0x5d6845;}}async[a72_0x43bbe7(0x1d7)](_0x26b1d4={},_0x3fe156=null){const _0x34c541=a72_0x43bbe7,_0x44c0de={'WoOlC':function(_0x60b60a,_0x550c1f){return _0x60b60a(_0x550c1f);},'IENuP':_0x34c541(0x1b8),'bCLCL':function(_0x5a0a62,_0x5899cc){return _0x5a0a62(_0x5899cc);},'kKjFe':_0x34c541(0xf3),'ywVZb':_0x34c541(0xef),'LbvDV':_0x34c541(0x19c),'HKIBU':'user_killed'};PerformanceTester['start'](PerformanceEvents[_0x34c541(0x1e2)]),this[_0x34c541(0x113)][_0x34c541(0x135)](_0x44c0de[_0x34c541(0x137)]);try{if(!this[_0x34c541(0x1ea)])throw new Error(_0x44c0de[_0x34c541(0x172)]);!this['client']&&this['logger'][_0x34c541(0x135)](_0x44c0de[_0x34c541(0x170)]);const _0x2fe7fc=new messages[(_0x34c541(0xf4))]();this['logger'][_0x34c541(0x1d2)]('Stopping\x20signal\x20'+JSON[_0x34c541(0x16b)](_0x3fe156)),_0x2fe7fc[_0x34c541(0x105)](this[_0x34c541(0x1ea)]),_0x2fe7fc[_0x34c541(0x17f)](_0x26b1d4),_0x2fe7fc[_0x34c541(0x177)](_0x3fe156?_0x3fe156:null),_0x2fe7fc[_0x34c541(0x118)](_0x3fe156?_0x44c0de[_0x34c541(0x15f)]:null),_0x2fe7fc[_0x34c541(0x1b7)](_0x3fe156?0x1:0x0);const _0x201aa6=await new Promise((_0xa7d6c5,_0x26cddb)=>{const _0xa8051b=_0x34c541;this['client'][_0xa8051b(0x1d7)](_0x2fe7fc,(_0x2b94db,_0x456a54)=>{const _0x3a5177=_0xa8051b;if(_0x2b94db){this['logger'][_0x3a5177(0x176)](_0x3a5177(0x1e7)+_0x2b94db[_0x3a5177(0x145)]),_0x44c0de[_0x3a5177(0x16c)](_0x26cddb,_0x2b94db),PerformanceTester[_0x3a5177(0x171)](PerformanceEvents['SDK_CLI_ON_STOP'],![],util[_0x3a5177(0x1c3)](_0x2b94db));return;}this['logger'][_0x3a5177(0x135)](_0x44c0de[_0x3a5177(0x1e1)]),PerformanceTester[_0x3a5177(0x171)](PerformanceEvents['SDK_CLI_ON_STOP']),_0x44c0de[_0x3a5177(0x107)](_0xa7d6c5,_0x456a54);});});return this[_0x34c541(0x113)]['debug'](_0x34c541(0xfb)+util[_0x34c541(0x1c3)](_0x201aa6)),_0x201aa6;}catch(_0x46cf89){PerformanceTester[_0x34c541(0x171)](PerformanceEvents[_0x34c541(0x1e2)],![],util[_0x34c541(0x1c3)](_0x46cf89)),this[_0x34c541(0x113)][_0x34c541(0x176)](_0x34c541(0x15e)+util[_0x34c541(0x1c3)](_0x46cf89));}}async[a72_0x43bbe7(0x131)](_0x4a0fc3){const _0x5eaf57=a72_0x43bbe7,_0x21086c={'jSgBl':function(_0x3d7121,_0x50563b){return _0x3d7121(_0x50563b);},'HTWQj':'PlaywrightConfig\x20request\x20successful','CuGhQ':'Getting\x20Playwright\x20config','Haqqw':_0x5eaf57(0x19c)};PerformanceTester['start'](PerformanceEvents[_0x5eaf57(0x110)]),this[_0x5eaf57(0x113)]['info'](_0x21086c['CuGhQ']);try{!this[_0x5eaf57(0x1cd)]&&this[_0x5eaf57(0x113)][_0x5eaf57(0x135)](_0x21086c[_0x5eaf57(0x173)]);const _0x2ff278=new messages[(_0x5eaf57(0xff))]();return _0x2ff278[_0x5eaf57(0x105)](this[_0x5eaf57(0x1ea)]),_0x2ff278[_0x5eaf57(0x17e)](JSON[_0x5eaf57(0x16b)](_0x4a0fc3)),new Promise((_0x54c749,_0x7884cf)=>{const _0x55151a=_0x5eaf57,_0x2c076b={'mZLIv':function(_0x188e1a,_0x886f93){const _0x4de062=a72_0x2b60;return _0x21086c[_0x4de062(0x1a0)](_0x188e1a,_0x886f93);},'vuCCY':_0x21086c['HTWQj']};this[_0x55151a(0x1cd)][_0x55151a(0x1aa)](_0x2ff278,(_0x4d46de,_0x7c9418)=>{const _0x13d669=_0x55151a;if(_0x4d46de){this['logger'][_0x13d669(0x176)](_0x13d669(0x152)+_0x4d46de[_0x13d669(0x145)]),_0x2c076b['mZLIv'](_0x7884cf,_0x4d46de),PerformanceTester['end'](PerformanceEvents[_0x13d669(0x110)],![],util[_0x13d669(0x1c3)](_0x4d46de));return;}this[_0x13d669(0x113)][_0x13d669(0x135)](_0x2c076b[_0x13d669(0x1b9)]),PerformanceTester[_0x13d669(0x171)](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT']),_0x2c076b[_0x13d669(0x128)](_0x54c749,_0x7c9418);});});}catch(_0x1b3c6a){PerformanceTester['end'](PerformanceEvents[_0x5eaf57(0x110)],![],util[_0x5eaf57(0x1c3)](_0x1b3c6a)),this[_0x5eaf57(0x113)]['error'](_0x5eaf57(0x1a7)+util[_0x5eaf57(0x1c3)](_0x1b3c6a));throw _0x1b3c6a;}}async[a72_0x43bbe7(0x17b)](_0x5ada80){const _0xe53822=a72_0x43bbe7,_0x1afecf={'laynx':function(_0x34fab4,_0x16736e){return _0x34fab4(_0x16736e);},'XpKUN':_0xe53822(0x19d),'fEMon':'Getting\x20Accessibility\x20config','pAuAM':_0xe53822(0x181)};this['logger'][_0xe53822(0x135)](_0x1afecf['fEMon']);try{const _0x22282b=Buffer['from'](JSON[_0xe53822(0x16b)](_0x5ada80[_0xe53822(0x1da)]),_0x1afecf[_0xe53822(0x17c)]),_0x4bfec2=new messages[(_0xe53822(0x1f2))](),_0x4e0b43=CLIUtils['getAutomationFrameworkDetail'](),_0x121863=_0x4e0b43[_0xe53822(0x1d5)],_0xa06a69=_0x4e0b43[_0xe53822(0xf8)];return _0x4bfec2[_0xe53822(0x105)](this[_0xe53822(0x1ea)]),_0x4bfec2[_0xe53822(0x123)](0x0),_0x4bfec2[_0xe53822(0x1d0)](_0x121863),_0x4bfec2['setFrameworkVersion'](_0xa06a69),_0x4bfec2[_0xe53822(0x1b6)](_0x5ada80[_0xe53822(0x11d)]),_0x4bfec2[_0xe53822(0x17a)](_0x22282b),new Promise((_0x15b1aa,_0x372580)=>{const _0x365ff5=_0xe53822;this[_0x365ff5(0x1cd)][_0x365ff5(0x12e)](_0x4bfec2,(_0x1b7d19,_0x309bf1)=>{const _0xfc77fa=_0x365ff5;if(_0x1b7d19){this[_0xfc77fa(0x113)][_0xfc77fa(0x176)](_0xfc77fa(0x10a)+_0x1b7d19[_0xfc77fa(0x145)]),_0x1afecf[_0xfc77fa(0x14f)](_0x372580,_0x1b7d19);return;}this[_0xfc77fa(0x113)][_0xfc77fa(0x135)](_0x1afecf[_0xfc77fa(0x1c1)]),_0x1afecf['laynx'](_0x15b1aa,_0x309bf1);});});}catch(_0x3b92cc){this[_0xe53822(0x113)][_0xe53822(0x176)](_0xe53822(0x122)+util[_0xe53822(0x1c3)](_0x3b92cc));}}async['testSessionEvent'](_0x3ba760){const _0x21b6ee=a72_0x43bbe7,_0x471c63={'vsrgw':function(_0x718f70,_0x15f5ca){return _0x718f70(_0x15f5ca);},'tJRPm':'TestSessionEvent\x20request\x20successful','zHZwk':_0x21b6ee(0xf7),'XhJiZ':'No\x20gRPC\x20client\x20not\x20initialized.'};this['logger'][_0x21b6ee(0x135)](_0x471c63[_0x21b6ee(0x169)]);try{!this['client']&&this[_0x21b6ee(0x113)][_0x21b6ee(0x135)](_0x471c63[_0x21b6ee(0x140)]);const {platformIndex:_0x44330a,testFrameworkName:_0x5dd562,testFrameworkVersion:_0x2f7231,testFrameworkState:_0x13ff24,testHookState:_0x2979fe,testUuid:_0x47e08b,automationSession:_0x1a32ea,capabilities:_0x3723ef,executionContext:_0x1a669e}=_0x3ba760,_0x2de91e=new messages['TestSessionEventRequest']();_0x2de91e[_0x21b6ee(0x105)](this[_0x21b6ee(0x1ea)]),_0x2de91e[_0x21b6ee(0x123)](_0x44330a),_0x2de91e['setTestFrameworkName'](_0x5dd562),_0x2de91e[_0x21b6ee(0x1e0)](_0x2f7231),_0x2de91e[_0x21b6ee(0x11b)](_0x13ff24),_0x2de91e['setTestHookState'](_0x2979fe),_0x2de91e[_0x21b6ee(0x12d)](_0x47e08b);const _0x1469c2=new messages[(_0x21b6ee(0x108))][(_0x21b6ee(0x1b1))]();_0x1469c2[_0x21b6ee(0x18a)](_0x1a32ea[_0x21b6ee(0x146)]),_0x1469c2[_0x21b6ee(0x1d0)](_0x1a32ea[_0x21b6ee(0xed)]),_0x1469c2[_0x21b6ee(0xee)](_0x1a32ea[_0x21b6ee(0x120)]),_0x1469c2[_0x21b6ee(0x11f)](_0x1a32ea[_0x21b6ee(0x10b)]),_0x1469c2['setRef'](_0x1a32ea[_0x21b6ee(0x138)]),_0x1469c2[_0x21b6ee(0x1b6)](_0x1a32ea[_0x21b6ee(0x11d)]),_0x2de91e[_0x21b6ee(0x1e3)](_0x1469c2),_0x2de91e['setCapabilities'](_0x3723ef);const _0x5c2b41=new messages['ExecutionContext']();return _0x5c2b41['setProcessId'](_0x1a669e[_0x21b6ee(0x18d)]),_0x5c2b41['setThreadId'](_0x1a669e['threadId']),_0x5c2b41[_0x21b6ee(0x1ec)](_0x1a669e[_0x21b6ee(0x1c7)]),_0x2de91e[_0x21b6ee(0xf5)](_0x5c2b41),new Promise((_0xa40c26,_0x27e7d6)=>{const _0x5d3ed4={'NBQsp':function(_0x5085d5,_0x4f571e){const _0x2d37e9=a72_0x2b60;return _0x471c63[_0x2d37e9(0x1ed)](_0x5085d5,_0x4f571e);},'eqOhJ':_0x471c63['tJRPm']};this['client']['testSessionEvent'](_0x2de91e,(_0x1c9ca6,_0x4cc44a)=>{const _0xead25c=a72_0x2b60;if(_0x1c9ca6){this[_0xead25c(0x113)][_0xead25c(0x176)](_0xead25c(0x103)+_0x1c9ca6['message']),_0x5d3ed4[_0xead25c(0x11c)](_0x27e7d6,_0x1c9ca6);return;}this['logger']['info'](_0x5d3ed4[_0xead25c(0x1bb)]),_0x5d3ed4[_0xead25c(0x11c)](_0xa40c26,_0x4cc44a);});});}catch(_0x574e02){this[_0x21b6ee(0x113)]['error'](_0x21b6ee(0x1dc)+util[_0x21b6ee(0x1c3)](_0x574e02));throw _0x574e02;}}async[a72_0x43bbe7(0x149)](_0x293c6d){const _0x5f2c41=a72_0x43bbe7,_0x48238b={'oEvaH':function(_0x5ac018,_0x4341b5){return _0x5ac018(_0x4341b5);},'RyrdD':_0x5f2c41(0x194),'jqVYu':_0x5f2c41(0x150),'RsSpq':_0x5f2c41(0x19c)};this[_0x5f2c41(0x113)][_0x5f2c41(0x135)](_0x48238b[_0x5f2c41(0x1d6)]);try{!this[_0x5f2c41(0x1cd)]&&this[_0x5f2c41(0x113)][_0x5f2c41(0x135)](_0x48238b[_0x5f2c41(0x129)]);const {platfromIndex:_0x46bfd9,testFrameworkName:_0x4181ff,testFrameworkVersion:_0x2bd91d,testFrameworkState:_0x5e27e5,hookState:_0x2aaa98,startedAt:_0xd7f7af,endedAt:_0x87612f,uuid:_0x50c8f2,eventJson:_0xfc1b56,executionContext:_0x46fc3d}=_0x293c6d,_0x3fbd98=new messages[(_0x5f2c41(0x15a))]();_0x3fbd98[_0x5f2c41(0x105)](this[_0x5f2c41(0x1ea)]),_0x3fbd98[_0x5f2c41(0x123)](_0x46bfd9),_0x3fbd98[_0x5f2c41(0x16e)](_0x4181ff),_0x3fbd98['setTestFrameworkVersion'](_0x2bd91d),_0x3fbd98['setTestFrameworkState'](_0x5e27e5),_0x3fbd98[_0x5f2c41(0x1ef)](_0x2aaa98),_0x3fbd98[_0x5f2c41(0x141)](_0xd7f7af),_0x3fbd98[_0x5f2c41(0x13d)](_0x87612f),_0x3fbd98[_0x5f2c41(0x114)](_0x50c8f2),_0x3fbd98[_0x5f2c41(0x1cc)](_0xfc1b56);const _0x46d4a7=new messages[(_0x5f2c41(0x189))]();return _0x46d4a7[_0x5f2c41(0x159)](_0x46fc3d[_0x5f2c41(0x18d)]),_0x46d4a7[_0x5f2c41(0x196)](_0x46fc3d[_0x5f2c41(0x163)]),_0x46d4a7['setHash'](_0x46fc3d[_0x5f2c41(0x1c7)]),_0x3fbd98['setExecutionContext'](_0x46d4a7),new Promise((_0x5972e7,_0x2d7b49)=>{const _0x2db4cb=_0x5f2c41;this[_0x2db4cb(0x1cd)][_0x2db4cb(0x149)](_0x3fbd98,(_0x44fe97,_0x14a795)=>{const _0x455819=_0x2db4cb;if(_0x44fe97){this[_0x455819(0x113)]['error'](_0x455819(0x187)+_0x44fe97[_0x455819(0x145)]),_0x48238b[_0x455819(0x117)](_0x2d7b49,_0x44fe97);return;}this[_0x455819(0x113)]['info'](_0x48238b[_0x455819(0x12a)]),_0x48238b[_0x455819(0x117)](_0x5972e7,_0x14a795);});});}catch(_0x471c2a){this[_0x5f2c41(0x113)][_0x5f2c41(0x176)](_0x5f2c41(0x139)+util[_0x5f2c41(0x1c3)](_0x471c2a));throw _0x471c2a;}}async[a72_0x43bbe7(0x13a)](_0x3679b2){const _0x29cc9a=a72_0x43bbe7,_0x82ef25={'JziZp':function(_0x19164a,_0x17550f){return _0x19164a(_0x17550f);},'nzwgy':_0x29cc9a(0x124),'ilmDi':function(_0x514107,_0x136d46){return _0x514107(_0x136d46);},'PEpLy':_0x29cc9a(0x109),'fMWgG':_0x29cc9a(0x19c)};this[_0x29cc9a(0x113)][_0x29cc9a(0x135)](_0x82ef25[_0x29cc9a(0x1ce)]);try{!this[_0x29cc9a(0x1cd)]&&this['logger'][_0x29cc9a(0x135)](_0x82ef25[_0x29cc9a(0x1e8)]);const {platformIndex:_0x5cadac,ref:_0x4d60ca,userInputParams:_0x47f85a}=_0x3679b2,_0x1f8028=new messages[(_0x29cc9a(0x104))]();return _0x1f8028[_0x29cc9a(0x105)](this[_0x29cc9a(0x1ea)]),_0x1f8028[_0x29cc9a(0x123)](_0x5cadac),_0x1f8028[_0x29cc9a(0xf0)](_0x4d60ca),_0x1f8028[_0x29cc9a(0x168)](_0x47f85a),new Promise((_0x2c52fc,_0x56a1f6)=>{const _0x396dc4=_0x29cc9a;this[_0x396dc4(0x1cd)]['driverInit'](_0x1f8028,(_0x2f8da8,_0x2b13ab)=>{const _0x42ca72=_0x396dc4;if(_0x2f8da8){this[_0x42ca72(0x113)][_0x42ca72(0x176)](_0x42ca72(0x183)+_0x2f8da8['message']),_0x82ef25[_0x42ca72(0x127)](_0x56a1f6,_0x2f8da8);return;}this[_0x42ca72(0x113)][_0x42ca72(0x135)](_0x82ef25[_0x42ca72(0x12c)]),_0x82ef25[_0x42ca72(0x125)](_0x2c52fc,_0x2b13ab);});});}catch(_0x44e7d7){this[_0x29cc9a(0x113)][_0x29cc9a(0x176)](_0x29cc9a(0x1ee)+util[_0x29cc9a(0x1c3)](_0x44e7d7));throw _0x44e7d7;}}async[a72_0x43bbe7(0x192)](_0xc05074){const _0xfabf79=a72_0x43bbe7,_0x2dab13={'dKPxX':function(_0x225fad,_0x1ec6cf){return _0x225fad===_0x1ec6cf;},'OyROd':function(_0xb92bde,_0x545c8a){return _0xb92bde(_0x545c8a);},'VTnmt':'LogCreatedEvent\x20request\x20successful','RgBCr':_0xfabf79(0x1a2),'cqnIp':_0xfabf79(0x19c)};this[_0xfabf79(0x113)]['info'](_0x2dab13['RgBCr']);try{!this[_0xfabf79(0x1cd)]&&this['logger'][_0xfabf79(0x135)](_0x2dab13[_0xfabf79(0x13b)]);const {platformIndex:_0x492ad9,logs:_0x1ebc54}=_0xc05074,_0x36b330=new messages[(_0xfabf79(0x119))]();_0x36b330['setBinSessionId'](this[_0xfabf79(0x1ea)]),_0x36b330[_0xfabf79(0x123)](_0x492ad9);const _0x16108f=_0xc05074[_0xfabf79(0xfe)],_0x80ef8c=_0xc05074['testFrameworkVersion'],_0x2ae546=_0xc05074['testFrameworkState'];return _0x1ebc54['forEach'](_0x45fe23=>{const _0x2f741d=_0xfabf79,_0x59ace2=new messages[(_0x2f741d(0x119))]['LogEntry']();_0x59ace2[_0x2f741d(0x16e)](_0x16108f),_0x59ace2['setTestFrameworkVersion'](_0x80ef8c),_0x59ace2[_0x2f741d(0x11b)](_0x2ae546),_0x59ace2[_0x2f741d(0x1d9)](_0x45fe23[_0x2f741d(0x19e)]),_0x59ace2[_0x2f741d(0x114)](_0x45fe23[_0x2f741d(0x184)]),_0x59ace2[_0x2f741d(0x153)](_0x45fe23['kind']),_0x2dab13[_0x2f741d(0x1a8)](_0x45fe23[_0x2f741d(0x1d4)],PLAYWRIGHT_TRACE_LOGS)?(_0x59ace2[_0x2f741d(0x114)](_0x45fe23[_0x2f741d(0xfc)]),_0x59ace2[_0x2f741d(0x197)](new TextEncoder()[_0x2f741d(0x1ac)](JSON[_0x2f741d(0x16b)](_0x45fe23)))):_0x59ace2[_0x2f741d(0x197)](new TextEncoder()[_0x2f741d(0x1ac)](_0x45fe23[_0x2f741d(0x145)])),_0x59ace2['setLevel'](_0x45fe23['level']),_0x59ace2[_0x2f741d(0x1c9)](_0x45fe23?.[_0x2f741d(0xec)]||''),_0x59ace2['setFilePath'](_0x45fe23?.[_0x2f741d(0x1c4)]||''),_0x59ace2[_0x2f741d(0x151)](_0x45fe23?.[_0x2f741d(0x175)]||0x0),_0x59ace2[_0x2f741d(0x1ca)](_0x45fe23?.[_0x2f741d(0x1d4)]||''),_0x36b330['addLogs'](_0x59ace2);}),new Promise((_0xf90ce3,_0x346925)=>{const _0x126306=_0xfabf79,_0x204dba={'kWvjn':function(_0x25f797,_0x9ef040){const _0x489530=a72_0x2b60;return _0x2dab13[_0x489530(0xfa)](_0x25f797,_0x9ef040);},'kdthN':_0x2dab13[_0x126306(0x1b4)],'OvVtN':function(_0x10c3ab,_0x285264){const _0x1841df=_0x126306;return _0x2dab13[_0x1841df(0xfa)](_0x10c3ab,_0x285264);}};this['client'][_0x126306(0x192)](_0x36b330,(_0x4705cc,_0x1fb264)=>{const _0x5428b6=_0x126306;if(_0x4705cc){this[_0x5428b6(0x113)][_0x5428b6(0x176)](_0x5428b6(0x130)+_0x4705cc[_0x5428b6(0x145)]),_0x204dba['kWvjn'](_0x346925,_0x4705cc);return;}this[_0x5428b6(0x113)]['info'](_0x204dba[_0x5428b6(0x19f)]),_0x204dba[_0x5428b6(0x188)](_0xf90ce3,_0x1fb264);});});}catch(_0x142b5c){this['logger'][_0xfabf79(0x176)](_0xfabf79(0x11a)+util[_0xfabf79(0x1c3)](_0x142b5c));throw _0x142b5c;}}async[a72_0x43bbe7(0xfd)](_0x212d18,_0x3bce54,_0x42e599){const _0x4d0169=a72_0x43bbe7,_0xe043a6={'KsZjC':function(_0x56a985,_0x71021d){return _0x56a985(_0x71021d);},'gFYsp':_0x4d0169(0x14e)};this[_0x4d0169(0x113)]['debug']('FetchDriverExecuteParamsEvent:\x20Calling\x20with\x20binSessionId='+_0x212d18+_0x4d0169(0xf6)+_0x3bce54+_0x4d0169(0x112)+_0x42e599);try{if(!this['client'])return this['logger'][_0x4d0169(0x1d2)](_0xe043a6[_0x4d0169(0x14c)]),null;const _0x4f6a2c=new messages[(_0x4d0169(0x144))]();return _0x4f6a2c[_0x4d0169(0x105)](_0x212d18),_0x4f6a2c[_0x4d0169(0x13e)](_0x3bce54),_0x4f6a2c[_0x4d0169(0x167)](_0x42e599),await new Promise(_0x283a84=>{const _0x80ad10={'WPMRu':function(_0x548750,_0x30e444){const _0x19e37e=a72_0x2b60;return _0xe043a6[_0x19e37e(0x1a5)](_0x548750,_0x30e444);},'NqtyF':function(_0xe80a07,_0x5e2d87){const _0x27d2d1=a72_0x2b60;return _0xe043a6[_0x27d2d1(0x1a5)](_0xe80a07,_0x5e2d87);}};this['client']['fetchDriverExecuteParamsEvent'](_0x4f6a2c,(_0x5cdb42,_0x33c432)=>{const _0x56d9eb=a72_0x2b60;if(_0x5cdb42){this[_0x56d9eb(0x113)][_0x56d9eb(0x1d2)]('Error\x20in\x20FetchDriverExecuteParamsEvent:\x20'+_0x5cdb42),_0x80ad10[_0x56d9eb(0xf9)](_0x283a84,null);return;}this[_0x56d9eb(0x113)][_0x56d9eb(0x1d2)]('FetchDriverExecuteParamsEvent\x20successful\x20-\x20success='+(_0x33c432['getSuccess']&&_0x33c432['getSuccess']())),_0x80ad10[_0x56d9eb(0x1c6)](_0x283a84,_0x33c432);});});}catch(_0x52a17f){return this[_0x4d0169(0x113)][_0x4d0169(0x1d2)]('Error\x20in\x20FetchDriverExecuteParamsEvent:\x20'+_0x52a17f),null;}}[a72_0x43bbe7(0x1e5)](){const _0x4c79f0=a72_0x43bbe7;return this[_0x4c79f0(0x1cd)];}[a72_0x43bbe7(0x1b2)](){return this['channel'];}}function a72_0x4c55(){const _0x251026=['LbvDV','end','ywVZb','Haqqw','uaLWe','fileSize','error','setExitSignal','DuEIU','wYWNm','setCapabilities','getAccessibilityConfig','pAuAM','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','setConfig','setCustomMetadata','nUVur','utf-8','\x22accessKey\x22:\x22[REDACTED]\x22','DriverInit\x20error:\x20','uuid','channel','MYxAi','TestFrameworkEvent\x20error:\x20','OvVtN','ExecutionContext','setProvider','getFrameworkVersionsMap','Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address','processId','\x20listenAddr:\x20','start','\x20and\x20listen\x20address:\x20','406PQfBge','logCreatedEvent','bbxPd','TestFrameworkEvent\x20request\x20successful','WyxVh','setThreadId','setMessage','5SSkzVS','resolve','forEach','RhixO','No\x20gRPC\x20client\x20not\x20initialized.','AccessibilityConfig\x20request\x20successful','timestamp','kdthN','jSgBl','SDK_START_BIN_SESSION','Sending\x20LogCreatedEvent','@grpc/grpc-js','Connected\x20to\x20gRPC\x20server\x20at\x20','KsZjC','2349210LpGUIn','Error\x20in\x20getPlaywrightConfig:\x20','dKPxX','util','playwrightConfig','cwd','encode','StartBinSession\x20error:\x20','path','getEnvVarsMap','setTestFramework','AutomationSession','getChannel','createInsecure','VTnmt','\x22userName\x22:\x22[REDACTED]\x22','setHubUrl','setExitCode','StopBinSession\x20successful','vuCCY','startBinSession:\x20Calling\x20startBinSession','eqOhJ','BROWSERSTACK_CLI_BIN_SESSION_ID','LZaCp','Connecting\x20bin\x20session','wFmEh','IHFCP','XpKUN','1085740jSbzqI','format','filePath','connect-bin-session\x20response:\x20','NqtyF','hash','753366yIZxKR','setFileName','setAttachmentType','qArBs','setEventJson','client','PEpLy','winstonLogger','setFrameworkName','getAutomationFrameworkDetail','debug','phqYf','attachment_type','name','jqVYu','stopBinSession','RJcyU','setTimestamp','launchcaps','23060DtkDej','Error\x20in\x20TestSessionEvent:\x20','XeaEG','GrpcClient','oCUhy','setTestFrameworkVersion','IENuP','SDK_CLI_ON_STOP','addAutomationSessions','SDK_CONNECT_BIN_SESSION','getClient','getInstance','StopBinSession\x20error:\x20','fMWgG','JoAPI','binSessionId','\x22key\x22:\x22[REDACTED]\x22','setHash','vsrgw','Error\x20in\x20DriverInit:\x20','setTestHookState','replace','CYWyB','AccessibilityConfigRequest','fileName','frameworkName','setFrameworkVersion','Missing\x20binSessionId','setRef','10206520kadYke','SDKClient','Stopping\x20bin\x20session','StopBinSessionRequest','setExecutionContext',',\x20product=','Sending\x20TestSessionEvent','version','WPMRu','OyROd','stop-bin-session\x20response:\x20','test_run_uuid','fetchDriverExecuteParamsEvent','testFrameworkName','PlaywrightConfigRequest','connectBinSession','3uGbfNB','setSdkVersion','TestSessionEvent\x20error:\x20','DriverInitRequest','setBinSessionId','connect','bCLCL','TestSessionEventRequest','Sending\x20DriverInit','AccessibilityConfig\x20error:\x20','frameworkSessionId','ConnectBinSession\x20successful','StartBinSessionRequest','setCliArgsList','grpc.keepalive_time_ms','SDK_AUTOMATION_FRAMEWORK_INIT','entries',',\x20scriptName=','logger','setUuid','NAYou','getBrowserstackCliConfig','oEvaH','setExitReason','LogCreatedEventRequest','Error\x20in\x20LogCreatedEvent:\x20','setTestFrameworkState','NBQsp','hubUrl','addFrameworks','setFrameworkSessionId','frameworkVersion','set','Error\x20in\x20getAccessibilityConfig:\x20','setPlatformIndex','DriverInit\x20request\x20successful','ilmDi','RPpBo','JziZp','mZLIv','RsSpq','RyrdD','../../helpers/helper.js','nzwgy','setTestUuid','accessibilityConfig','browserstackConfigFile','LogCreatedEvent\x20error:\x20','getPlaywrightConfig','../../../generated/sdk_grpc_pb','./cliUtils.js','165360nopsJI','info','4637943DddKsc','kKjFe','ref','Error\x20in\x20TestFrameworkEvent:\x20','driverInit','cqnIp','setPathConfig','setEndedAt','setProduct','../../helpers/logger.js','XhJiZ','setStartedAt','../utils/constants','../../helpers/performance/constants','FetchDriverExecuteParamsEventRequest','message','provider','init','startBinSession','testFrameworkEvent','Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20','BROWSERSTACK_CONFIG_FILE_PATH','gFYsp','browserstack.yml','No\x20gRPC\x20client\x20initialized.','laynx','Sending\x20TestFrameworkEvent','setFileSize','PlaywrightConfig\x20error:\x20','setKind','../../../generated/sdk-messages_pb','getTestFrameworkDetail','argv','ConnectBinSessionRequest','Error\x20in\x20connectBinSession:\x20','setProcessId','TestFrameworkEventRequest','env','../../helpers/classLogger.js','null','Error\x20in\x20stopBinSession:\x20','HKIBU','OFvwD','setFrameworksList','getSdkVersion','threadId','./browserstackCLI.js','credentials','listenAddress','setScriptName','setUserInputParams','zHZwk','ADahw','stringify','WoOlC','slice','setTestFrameworkName','PVeJE'];a72_0x4c55=function(){return _0x251026;};return a72_0x4c55();}function a72_0x2b60(_0x18b4cc,_0x487707){const _0x4c55af=a72_0x4c55();return a72_0x2b60=function(_0x2b606f,_0x17b7e2){_0x2b606f=_0x2b606f-0xec;let _0x56120b=_0x4c55af[_0x2b606f];return _0x56120b;},a72_0x2b60(_0x18b4cc,_0x487707);}module['exports']=GrpcClient;