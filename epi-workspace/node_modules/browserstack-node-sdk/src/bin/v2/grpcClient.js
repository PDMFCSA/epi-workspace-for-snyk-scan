const a67_0x5711d0=a67_0x1676;(function(_0x277b7c,_0x292785){const _0x174e50=a67_0x1676,_0xcf2edb=_0x277b7c();while(!![]){try{const _0x54abb9=parseInt(_0x174e50(0x74))/0x1+-parseInt(_0x174e50(0x81))/0x2*(-parseInt(_0x174e50(0xf3))/0x3)+-parseInt(_0x174e50(0x82))/0x4*(-parseInt(_0x174e50(0xd4))/0x5)+-parseInt(_0x174e50(0xd2))/0x6+-parseInt(_0x174e50(0xde))/0x7*(-parseInt(_0x174e50(0xac))/0x8)+-parseInt(_0x174e50(0xae))/0x9*(parseInt(_0x174e50(0xa5))/0xa)+-parseInt(_0x174e50(0x10f))/0xb*(parseInt(_0x174e50(0xe8))/0xc);if(_0x54abb9===_0x292785)break;else _0xcf2edb['push'](_0xcf2edb['shift']());}catch(_0x192806){_0xcf2edb['push'](_0xcf2edb['shift']());}}}(a67_0xfa15,0xdb824));const util=require('util'),logger=require(a67_0x5711d0(0x124))['winstonLogger'],grpc=require(a67_0x5711d0(0x86)),services=require(a67_0x5711d0(0x104)),messages=require(a67_0x5711d0(0x8b)),path=require('path'),CLIUtils=require(a67_0x5711d0(0x117)),{createClassLogger}=require(a67_0x5711d0(0xe3)),PerformanceTester=require(a67_0x5711d0(0xc7)),{EVENTS:PerformanceEvents}=require(a67_0x5711d0(0xe7)),{PLAYWRIGHT_TRACE_LOGS}=require(a67_0x5711d0(0xff)),helper=require('../../helpers/helper.js');function a67_0x1676(_0x35f765,_0x187f73){const _0xfa150d=a67_0xfa15();return a67_0x1676=function(_0x1676ac,_0x1b7c5b){_0x1676ac=_0x1676ac-0x6c;let _0x1d4b47=_0xfa150d[_0x1676ac];return _0x1d4b47;},a67_0x1676(_0x35f765,_0x187f73);}class GrpcClient{static #instance=null;['binSessionId']=null;[a67_0x5711d0(0x118)]=null;['channel']=null;['client']=null;[a67_0x5711d0(0xf1)]=createClassLogger('GrpcClient');constructor(){}static['getInstance'](){return!GrpcClient.#instance&&(GrpcClient.#instance=new GrpcClient()),GrpcClient.#instance;}[a67_0x5711d0(0xcb)](_0x47bcc5){const _0x43487e=a67_0x5711d0,_0x4a7d2c={};_0x4a7d2c[_0x43487e(0xaf)]=function(_0x249475,_0x4a4e35){return _0x249475||_0x4a4e35;};const _0x1328a6=_0x4a7d2c,{id:_0x41b057,listen:_0x54789a}=_0x47bcc5;if(_0x1328a6['zgmdH'](!_0x41b057,!_0x54789a))throw new Error('Unable\x20to\x20find\x20listen\x20addr\x20or\x20bin\x20session\x20id\x20binSessionId:\x20'+_0x41b057+_0x43487e(0x13e)+_0x54789a);this['binSessionId']=_0x41b057,this[_0x43487e(0x118)]=_0x54789a,process[_0x43487e(0x137)][_0x43487e(0x93)]=this[_0x43487e(0xab)],process[_0x43487e(0x137)]['BROWSERSTACK_CLI_BIN_LISTEN_ADDR']=this[_0x43487e(0x118)],this['connect'](),this[_0x43487e(0xf1)]['info'](_0x43487e(0x141)+this[_0x43487e(0xab)]+_0x43487e(0x145)+this[_0x43487e(0x118)]);}['connect'](){const _0x551b87=a67_0x5711d0,_0x39f96c={};_0x39f96c[_0x551b87(0xd8)]=_0x551b87(0xcc);const _0x579e65=_0x39f96c;let _0x5d8b73=this[_0x551b87(0x118)];!_0x5d8b73&&(_0x5d8b73=process[_0x551b87(0x137)][_0x551b87(0xa2)]);!this[_0x551b87(0xab)]&&(this[_0x551b87(0xab)]=this[_0x551b87(0xab)]||process[_0x551b87(0x137)][_0x551b87(0x93)]);if(!_0x5d8b73)throw new Error(_0x579e65[_0x551b87(0xd8)]);const _0xb4704b={};_0xb4704b['grpc.keepalive_time_ms']=0x2710,this['channel']=new grpc[(_0x551b87(0x10a))](_0x5d8b73,grpc[_0x551b87(0x6c)][_0x551b87(0xa8)](),_0xb4704b),this[_0x551b87(0x130)]=new services[(_0x551b87(0x94))](_0x5d8b73,grpc[_0x551b87(0x6c)][_0x551b87(0xa8)]()),this[_0x551b87(0xf1)][_0x551b87(0x7c)](_0x551b87(0x12b)+_0x5d8b73);}async['startBinSession'](){const _0x304e03=a67_0x5711d0,_0x6cc5ec={'gyPJl':function(_0xe9d555,_0x58024e){return _0xe9d555!==_0x58024e;},'ordKP':function(_0x374a95,_0x30dfaa){return _0x374a95!==_0x30dfaa;},'WmXxU':function(_0x3de86f,_0x261f9e){return _0x3de86f(_0x261f9e);},'avOmF':'StartBinSession\x20successful','OfLXQ':_0x304e03(0x9c),'iQFgi':'No\x20gRPC\x20client\x20not\x20initialized.','tsgSM':function(_0x528dea,_0x8b3722){return _0x528dea(_0x8b3722);},'uHeCH':_0x304e03(0x88),'wFjWZ':function(_0xbd0c8e,_0x1f3a8d){return _0xbd0c8e instanceof _0x1f3a8d;},'mGzoz':function(_0x10e8bd,_0x2c4110){return _0x10e8bd===_0x2c4110;},'giAnM':'browserstackConfigFile','qFfCu':_0x304e03(0x9a),'dyWbr':'null','DyNLx':function(_0x271cb8,_0x24cedc){return _0x271cb8||_0x24cedc;}};PerformanceTester['start'](PerformanceEvents[_0x304e03(0x14a)]),this['logger']['info'](_0x6cc5ec[_0x304e03(0x13f)]);try{!this[_0x304e03(0x130)]&&this['logger']['info'](_0x6cc5ec[_0x304e03(0x10c)]);const _0x1f981d=CLIUtils['getSdkVersion'](),_0x4c5351=CLIUtils[_0x304e03(0xb4)](),_0x54a1da=_0x4c5351[_0x304e03(0xbc)],_0x3af1e4=_0x4c5351[_0x304e03(0x116)],_0x2a8ab5=new messages[(_0x304e03(0x102))]();_0x2a8ab5[_0x304e03(0xf8)](this[_0x304e03(0xab)]),_0x2a8ab5['setSdkLanguage'](CLIUtils[_0x304e03(0x107)]()),_0x2a8ab5[_0x304e03(0x12e)](_0x1f981d),_0x2a8ab5[_0x304e03(0x146)](process[_0x304e03(0x76)]());const _0x52cc9a=_0x2a8ab5['getEnvVarsMap']();Object[_0x304e03(0xdc)](process[_0x304e03(0x137)])[_0x304e03(0x105)](([_0x1f9452,_0x2f22d2])=>{const _0x113633=_0x304e03;_0x6cc5ec[_0x113633(0xe5)](_0x2f22d2,undefined)&&_0x6cc5ec['ordKP'](_0x2f22d2,null)&&_0x52cc9a['set'](_0x1f9452,_0x2f22d2);});const _0x52c7cf=_0x6cc5ec[_0x304e03(0xa4)](require,_0x6cc5ec[_0x304e03(0x83)]),_0x308540=_0x52c7cf[_0x304e03(0x109)]()['getBrowserstackCliConfig'](),_0x5aae5b=[];_0x308540&&_0x6cc5ec[_0x304e03(0x13a)](_0x308540,Map)&&_0x308540[_0x304e03(0x105)]((_0x257491,_0x3a2b12)=>{const _0x5b0503=_0x304e03;_0x5aae5b[_0x5b0503(0xe2)](_0x3a2b12+'='+_0x257491);});const _0x32e53b=process['argv'][_0x304e03(0xd9)](0x2);_0x2a8ab5[_0x304e03(0xbb)]([..._0x32e53b,..._0x5aae5b]);let _0x30a372=null;if(_0x308540)for(const [_0x56eb4d,_0x593b61]of _0x308540){if(_0x6cc5ec[_0x304e03(0xfe)](_0x56eb4d,_0x6cc5ec[_0x304e03(0x149)])){_0x30a372=_0x593b61;break;}}if(_0x30a372)_0x2a8ab5[_0x304e03(0xce)](_0x30a372);else process[_0x304e03(0x137)]['BROWSERSTACK_CONFIG_FILE_PATH']?_0x2a8ab5[_0x304e03(0xce)](process[_0x304e03(0x137)][_0x304e03(0xb0)]):_0x2a8ab5[_0x304e03(0xce)](path['resolve'](process[_0x304e03(0x76)](),_0x6cc5ec['qFfCu']));this['logger'][_0x304e03(0x7c)](_0x304e03(0xd5)+JSON[_0x304e03(0xc9)](_0x32e53b)+',\x20parsedConfig='+(_0x308540?JSON[_0x304e03(0xc9)]([..._0x308540]):_0x6cc5ec['dyWbr'])),_0x2a8ab5[_0x304e03(0x79)](CLIUtils[_0x304e03(0x107)]()),_0x2a8ab5[_0x304e03(0xf7)](_0x54a1da);const _0x116153=_0x2a8ab5['getFrameworkVersionsMap']();return _0x116153[_0x304e03(0x75)](_0x54a1da,_0x6cc5ec[_0x304e03(0x122)](_0x3af1e4,'')),_0x2a8ab5[_0x304e03(0x97)](_0x54a1da,_0x3af1e4),_0x2a8ab5['setFrameworksList']([_0x54a1da]),new Promise((_0x4727bc,_0x5abd8f)=>{const _0x2fc473=_0x304e03;this['client'][_0x2fc473(0xea)](_0x2a8ab5,(_0x4f2ac4,_0x3fab3a)=>{const _0x498373=_0x2fc473;if(_0x4f2ac4){this[_0x498373(0xf1)]['error'](_0x498373(0xc1)+_0x4f2ac4['message']),_0x6cc5ec[_0x498373(0x14e)](_0x5abd8f,_0x4f2ac4),PerformanceTester['end'](PerformanceEvents[_0x498373(0x14a)],![],util['format'](_0x4f2ac4));return;}this[_0x498373(0xf1)][_0x498373(0x7c)](_0x6cc5ec[_0x498373(0x7a)]),PerformanceTester[_0x498373(0xbd)](PerformanceEvents[_0x498373(0x14a)]),_0x6cc5ec[_0x498373(0x14e)](_0x4727bc,_0x3fab3a);});});}catch(_0x3e0e2f){this[_0x304e03(0xf1)]['error'](_0x304e03(0x6f)+util[_0x304e03(0x13d)](_0x3e0e2f)),PerformanceTester[_0x304e03(0xbd)](PerformanceEvents['SDK_START_BIN_SESSION'],![],util[_0x304e03(0x13d)](_0x3e0e2f));throw _0x3e0e2f;}}async['connectBinSession'](){const _0x5e0a73=a67_0x5711d0,_0x1afe58={'rvjJY':function(_0x4757b8,_0x5a4683){return _0x4757b8(_0x5a4683);},'OSnxk':_0x5e0a73(0x12d),'dUGpg':_0x5e0a73(0x132),'fpNpa':_0x5e0a73(0x103)};PerformanceTester['start'](PerformanceEvents[_0x5e0a73(0x134)]),this[_0x5e0a73(0xf1)][_0x5e0a73(0x7c)](_0x1afe58[_0x5e0a73(0x9f)]);try{!this['client']&&this[_0x5e0a73(0xf1)]['info'](_0x1afe58[_0x5e0a73(0x119)]);const _0x4dda94=new messages[(_0x5e0a73(0xe0))]();_0x4dda94[_0x5e0a73(0xf8)](this[_0x5e0a73(0xab)]);const _0xe7d2d6=await new Promise((_0xc544d1,_0x45bc75)=>{const _0x4cde4a=_0x5e0a73;this['client'][_0x4cde4a(0x78)](_0x4dda94,(_0x2c2a6c,_0xa2f1e3)=>{const _0x17c87b=_0x4cde4a;if(_0x2c2a6c){this[_0x17c87b(0xf1)]['error']('ConnectBinSession\x20error:\x20'+_0x2c2a6c[_0x17c87b(0x71)]),_0x1afe58[_0x17c87b(0x108)](_0x45bc75,_0x2c2a6c),PerformanceTester[_0x17c87b(0xbd)](PerformanceEvents[_0x17c87b(0x134)],![],util[_0x17c87b(0x13d)](_0x2c2a6c));return;}this[_0x17c87b(0xf1)][_0x17c87b(0x7c)](_0x1afe58[_0x17c87b(0x113)]),PerformanceTester['end'](PerformanceEvents[_0x17c87b(0x134)]),_0x1afe58['rvjJY'](_0xc544d1,_0xa2f1e3);});});return this[_0x5e0a73(0xf1)]['debug'](_0x5e0a73(0xdb)+util['format'](_0xe7d2d6)),_0xe7d2d6;}catch(_0x36258a){PerformanceTester[_0x5e0a73(0xbd)](PerformanceEvents[_0x5e0a73(0x134)],![],util[_0x5e0a73(0x13d)](_0x36258a)),this[_0x5e0a73(0xf1)]['error']('Error\x20in\x20connectBinSession:\x20'+util[_0x5e0a73(0x13d)](_0x36258a));throw _0x36258a;}}async[a67_0x5711d0(0x91)](_0x10de43={},_0x128a00=null){const _0x4599b0=a67_0x5711d0,_0x1d9734={'XnFIw':function(_0x4bf55e,_0x1e0ce9){return _0x4bf55e(_0x1e0ce9);},'YMaDv':_0x4599b0(0xb6),'CbIsD':function(_0x12480c,_0x34be77){return _0x12480c(_0x34be77);},'AwZcW':_0x4599b0(0xed),'OzbOI':_0x4599b0(0xa0),'xZEJC':_0x4599b0(0x103),'dEpce':_0x4599b0(0x95)};PerformanceTester['start'](PerformanceEvents[_0x4599b0(0xb9)]),this[_0x4599b0(0xf1)][_0x4599b0(0x7c)](_0x1d9734[_0x4599b0(0x142)]);try{if(!this['binSessionId'])throw new Error(_0x1d9734[_0x4599b0(0x127)]);!this[_0x4599b0(0x130)]&&this[_0x4599b0(0xf1)][_0x4599b0(0x7c)](_0x1d9734['xZEJC']);const _0x1cbce0=new messages[(_0x4599b0(0xb1))]();this[_0x4599b0(0xf1)][_0x4599b0(0xfb)](_0x4599b0(0xe4)+JSON[_0x4599b0(0xc9)](_0x128a00)),_0x1cbce0[_0x4599b0(0xf8)](this[_0x4599b0(0xab)]),_0x1cbce0[_0x4599b0(0xa3)](_0x10de43),_0x1cbce0[_0x4599b0(0x7b)](_0x128a00?_0x128a00:null),_0x1cbce0['setExitReason'](_0x128a00?_0x1d9734[_0x4599b0(0xc8)]:null),_0x1cbce0[_0x4599b0(0x148)](_0x128a00?0x1:0x0);const _0x3cef39=await new Promise((_0x4f39f0,_0x5e2ac0)=>{this['client']['stopBinSession'](_0x1cbce0,(_0x37301f,_0x45db69)=>{const _0x5a3a63=a67_0x1676;if(_0x37301f){this['logger'][_0x5a3a63(0x12c)](_0x5a3a63(0x128)+_0x37301f['message']),_0x1d9734[_0x5a3a63(0xee)](_0x5e2ac0,_0x37301f),PerformanceTester[_0x5a3a63(0xbd)](PerformanceEvents[_0x5a3a63(0xb9)],![],util['format'](_0x37301f));return;}this['logger'][_0x5a3a63(0x7c)](_0x1d9734[_0x5a3a63(0xad)]),PerformanceTester[_0x5a3a63(0xbd)](PerformanceEvents[_0x5a3a63(0xb9)]),_0x1d9734[_0x5a3a63(0xca)](_0x4f39f0,_0x45db69);});});return this[_0x4599b0(0xf1)]['debug'](_0x4599b0(0x73)+util[_0x4599b0(0x13d)](_0x3cef39)),_0x3cef39;}catch(_0x333e30){PerformanceTester[_0x4599b0(0xbd)](PerformanceEvents[_0x4599b0(0xb9)],![],util[_0x4599b0(0x13d)](_0x333e30)),this[_0x4599b0(0xf1)][_0x4599b0(0x12c)]('Error\x20in\x20stopBinSession:\x20'+util['format'](_0x333e30));}}async[a67_0x5711d0(0xbf)](_0x530d93){const _0x9cd741=a67_0x5711d0,_0x28c04b={'VYYMI':function(_0x32b2db,_0x351955){return _0x32b2db(_0x351955);},'ZHDfV':_0x9cd741(0x123),'LbiXn':function(_0x5a9070,_0x28d83f){return _0x5a9070(_0x28d83f);},'bALdg':_0x9cd741(0x129),'qrOAc':_0x9cd741(0x103)};PerformanceTester[_0x9cd741(0x84)](PerformanceEvents[_0x9cd741(0xf6)]),this['logger'][_0x9cd741(0x7c)](_0x28c04b[_0x9cd741(0xd7)]);try{!this[_0x9cd741(0x130)]&&this[_0x9cd741(0xf1)][_0x9cd741(0x7c)](_0x28c04b[_0x9cd741(0x138)]);const _0x565ded=new messages[(_0x9cd741(0x125))]();return _0x565ded['setBinSessionId'](this[_0x9cd741(0xab)]),_0x565ded[_0x9cd741(0x10b)](JSON['stringify'](_0x530d93)),new Promise((_0x4d6510,_0x2fc74d)=>{const _0x10bddd=_0x9cd741,_0x21b316={'WBGrX':function(_0x5c059c,_0x5afbed){const _0x4ac1c0=a67_0x1676;return _0x28c04b[_0x4ac1c0(0xd3)](_0x5c059c,_0x5afbed);},'ysrtT':_0x28c04b[_0x10bddd(0x8f)],'ETSvR':function(_0x35d7b0,_0x39b595){return _0x28c04b['LbiXn'](_0x35d7b0,_0x39b595);}};this[_0x10bddd(0x130)][_0x10bddd(0xcd)](_0x565ded,(_0x4a4fd3,_0xc95708)=>{const _0x200c36=_0x10bddd;if(_0x4a4fd3){this[_0x200c36(0xf1)][_0x200c36(0x12c)](_0x200c36(0x133)+_0x4a4fd3[_0x200c36(0x71)]),_0x21b316[_0x200c36(0xdd)](_0x2fc74d,_0x4a4fd3),PerformanceTester[_0x200c36(0xbd)](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT'],![],util['format'](_0x4a4fd3));return;}this[_0x200c36(0xf1)][_0x200c36(0x7c)](_0x21b316[_0x200c36(0x12f)]),PerformanceTester[_0x200c36(0xbd)](PerformanceEvents[_0x200c36(0xf6)]),_0x21b316[_0x200c36(0x112)](_0x4d6510,_0xc95708);});});}catch(_0x487251){PerformanceTester[_0x9cd741(0xbd)](PerformanceEvents['SDK_AUTOMATION_FRAMEWORK_INIT'],![],util[_0x9cd741(0x13d)](_0x487251)),this['logger'][_0x9cd741(0x12c)](_0x9cd741(0xd1)+util[_0x9cd741(0x13d)](_0x487251));throw _0x487251;}}async[a67_0x5711d0(0x143)](_0x46916d){const _0x161423=a67_0x5711d0,_0x181d5b={'DKzNo':function(_0x21bd7f,_0x15ec4e){return _0x21bd7f(_0x15ec4e);},'Wnhcl':_0x161423(0x8e),'vcZQC':_0x161423(0x131),'ZvoPN':'utf-8'};this['logger']['info'](_0x181d5b['vcZQC']);try{const _0xacc234=Buffer[_0x161423(0x120)](JSON[_0x161423(0xc9)](_0x46916d[_0x161423(0xc6)]),_0x181d5b[_0x161423(0x110)]),_0x3858e6=new messages[(_0x161423(0x6e))](),_0x59eb41=CLIUtils[_0x161423(0xb4)](),_0x192385=_0x59eb41[_0x161423(0xbc)],_0x1d312c=_0x59eb41[_0x161423(0x116)];return _0x3858e6[_0x161423(0xf8)](this['binSessionId']),_0x3858e6[_0x161423(0x96)](0x0),_0x3858e6['setFrameworkName'](_0x192385),_0x3858e6[_0x161423(0xec)](_0x1d312c),_0x3858e6[_0x161423(0x90)](_0x46916d[_0x161423(0xe1)]),_0x3858e6['setCapabilities'](_0xacc234),new Promise((_0x1b0f20,_0x1ea3cf)=>{const _0x384fa0=_0x161423;this[_0x384fa0(0x130)][_0x384fa0(0x126)](_0x3858e6,(_0x3e1ead,_0x5d6b57)=>{const _0x4d5fbc=_0x384fa0;if(_0x3e1ead){this[_0x4d5fbc(0xf1)][_0x4d5fbc(0x12c)](_0x4d5fbc(0xa1)+_0x3e1ead[_0x4d5fbc(0x71)]),_0x181d5b[_0x4d5fbc(0xd0)](_0x1ea3cf,_0x3e1ead);return;}this[_0x4d5fbc(0xf1)][_0x4d5fbc(0x7c)](_0x181d5b[_0x4d5fbc(0xb2)]),_0x181d5b['DKzNo'](_0x1b0f20,_0x5d6b57);});});}catch(_0x26c739){this['logger']['error'](_0x161423(0xf4)+util[_0x161423(0x13d)](_0x26c739));}}async[a67_0x5711d0(0xf9)](_0x13e804){const _0x4c4822=a67_0x5711d0,_0x3d77c2={'QbvuP':function(_0x23fb7d,_0x2ce007){return _0x23fb7d(_0x2ce007);},'iOndI':'TestSessionEvent\x20request\x20successful','fsSwh':'Sending\x20TestSessionEvent','LCmhV':_0x4c4822(0x103)};this[_0x4c4822(0xf1)][_0x4c4822(0x7c)](_0x3d77c2['fsSwh']);try{!this[_0x4c4822(0x130)]&&this['logger'][_0x4c4822(0x7c)](_0x3d77c2[_0x4c4822(0x11e)]);const {platformIndex:_0x453ada,testFrameworkName:_0x1776a9,testFrameworkVersion:_0x76a73c,testFrameworkState:_0x1afb75,testHookState:_0x56adff,testUuid:_0x369cfb,automationSession:_0x30b940,capabilities:_0x18a3da,executionContext:_0x485d35}=_0x13e804,_0x2515e6=new messages[(_0x4c4822(0x13c))]();_0x2515e6[_0x4c4822(0xf8)](this[_0x4c4822(0xab)]),_0x2515e6[_0x4c4822(0x96)](_0x453ada),_0x2515e6[_0x4c4822(0xe6)](_0x1776a9),_0x2515e6[_0x4c4822(0xf0)](_0x76a73c),_0x2515e6[_0x4c4822(0xbe)](_0x1afb75),_0x2515e6[_0x4c4822(0x89)](_0x56adff),_0x2515e6[_0x4c4822(0x92)](_0x369cfb);const _0x515fc1=new messages[(_0x4c4822(0x13c))]['AutomationSession']();_0x515fc1['setProvider'](_0x30b940['provider']),_0x515fc1['setFrameworkName'](_0x30b940['frameworkName']),_0x515fc1[_0x4c4822(0xec)](_0x30b940[_0x4c4822(0x106)]),_0x515fc1[_0x4c4822(0x11d)](_0x30b940[_0x4c4822(0x8c)]),_0x515fc1[_0x4c4822(0x99)](_0x30b940[_0x4c4822(0x9b)]),_0x515fc1[_0x4c4822(0x90)](_0x30b940[_0x4c4822(0xe1)]),_0x2515e6['addAutomationSessions'](_0x515fc1),_0x2515e6[_0x4c4822(0x100)](_0x18a3da);const _0x24df7c=new messages['ExecutionContext']();return _0x24df7c[_0x4c4822(0x101)](_0x485d35[_0x4c4822(0xfd)]),_0x24df7c[_0x4c4822(0x10d)](_0x485d35[_0x4c4822(0xf2)]),_0x24df7c[_0x4c4822(0x13b)](_0x485d35[_0x4c4822(0x6d)]),_0x2515e6[_0x4c4822(0xc0)](_0x24df7c),new Promise((_0x86fcd,_0xca814d)=>{const _0x1926fe=_0x4c4822,_0x38b5e1={'RVpkb':function(_0x30f204,_0x40d9bb){const _0x21660a=a67_0x1676;return _0x3d77c2[_0x21660a(0xb3)](_0x30f204,_0x40d9bb);},'nhNqy':_0x3d77c2[_0x1926fe(0xb8)]};this[_0x1926fe(0x130)][_0x1926fe(0xf9)](_0x2515e6,(_0xda69b4,_0x261cfc)=>{const _0x21294a=_0x1926fe;if(_0xda69b4){this['logger'][_0x21294a(0x12c)](_0x21294a(0x11f)+_0xda69b4[_0x21294a(0x71)]),_0x38b5e1[_0x21294a(0xb5)](_0xca814d,_0xda69b4);return;}this[_0x21294a(0xf1)][_0x21294a(0x7c)](_0x38b5e1[_0x21294a(0xef)]),_0x38b5e1[_0x21294a(0xb5)](_0x86fcd,_0x261cfc);});});}catch(_0xf53fdc){this[_0x4c4822(0xf1)][_0x4c4822(0x12c)](_0x4c4822(0x135)+util[_0x4c4822(0x13d)](_0xf53fdc));throw _0xf53fdc;}}async[a67_0x5711d0(0x111)](_0x3235e0){const _0x44e6d8=a67_0x5711d0,_0x3c96e6={'BKqxh':function(_0x5ea07b,_0x49b94a){return _0x5ea07b(_0x49b94a);},'lNLPg':'TestFrameworkEvent\x20request\x20successful','AHjYa':function(_0x31ccc1,_0x59bd95){return _0x31ccc1(_0x59bd95);},'CYgrP':_0x44e6d8(0x87),'pRseT':'No\x20gRPC\x20client\x20not\x20initialized.'};this[_0x44e6d8(0xf1)][_0x44e6d8(0x7c)](_0x3c96e6[_0x44e6d8(0x12a)]);try{!this[_0x44e6d8(0x130)]&&this[_0x44e6d8(0xf1)][_0x44e6d8(0x7c)](_0x3c96e6[_0x44e6d8(0xe9)]);const {platfromIndex:_0x499f16,testFrameworkName:_0x551fdb,testFrameworkVersion:_0x16e142,testFrameworkState:_0x514b5f,hookState:_0x31c8fe,startedAt:_0x2c8e21,endedAt:_0xbb85d3,uuid:_0x4740ca,eventJson:_0x2b5590,executionContext:_0x243b93}=_0x3235e0,_0x23914c=new messages[(_0x44e6d8(0x7d))]();_0x23914c['setBinSessionId'](this[_0x44e6d8(0xab)]),_0x23914c[_0x44e6d8(0x96)](_0x499f16),_0x23914c[_0x44e6d8(0xe6)](_0x551fdb),_0x23914c[_0x44e6d8(0xf0)](_0x16e142),_0x23914c[_0x44e6d8(0xbe)](_0x514b5f),_0x23914c['setTestHookState'](_0x31c8fe),_0x23914c[_0x44e6d8(0x7f)](_0x2c8e21),_0x23914c[_0x44e6d8(0x140)](_0xbb85d3),_0x23914c[_0x44e6d8(0x11b)](_0x4740ca),_0x23914c[_0x44e6d8(0x115)](_0x2b5590);const _0x479bc3=new messages[(_0x44e6d8(0x14c))]();return _0x479bc3[_0x44e6d8(0x101)](_0x243b93['processId']),_0x479bc3[_0x44e6d8(0x10d)](_0x243b93['threadId']),_0x479bc3[_0x44e6d8(0x13b)](_0x243b93[_0x44e6d8(0x6d)]),_0x23914c['setExecutionContext'](_0x479bc3),new Promise((_0xc67baa,_0x2677e9)=>{const _0x26ad00=_0x44e6d8;this['client'][_0x26ad00(0x111)](_0x23914c,(_0x442bf4,_0x39d953)=>{const _0x5664fc=_0x26ad00;if(_0x442bf4){this[_0x5664fc(0xf1)][_0x5664fc(0x12c)](_0x5664fc(0xda)+_0x442bf4['message']),_0x3c96e6[_0x5664fc(0xaa)](_0x2677e9,_0x442bf4);return;}this[_0x5664fc(0xf1)][_0x5664fc(0x7c)](_0x3c96e6[_0x5664fc(0xc4)]),_0x3c96e6[_0x5664fc(0xfc)](_0xc67baa,_0x39d953);});});}catch(_0x302eed){this[_0x44e6d8(0xf1)][_0x44e6d8(0x12c)](_0x44e6d8(0xc5)+util[_0x44e6d8(0x13d)](_0x302eed));throw _0x302eed;}}async[a67_0x5711d0(0x9d)](_0x485b48){const _0xfabd02=a67_0x5711d0,_0x26fc38={'MoQDI':function(_0x229b0d,_0x23bd47){return _0x229b0d(_0x23bd47);},'oXpxz':_0xfabd02(0x144),'GKuDB':_0xfabd02(0x11a),'gIqwS':_0xfabd02(0x103)};this['logger']['info'](_0x26fc38['GKuDB']);try{!this['client']&&this['logger'][_0xfabd02(0x7c)](_0x26fc38[_0xfabd02(0xa6)]);const {platformIndex:_0x5059c2,ref:_0x123035,userInputParams:_0xd53d35}=_0x485b48,_0x181040=new messages['DriverInitRequest']();return _0x181040[_0xfabd02(0xf8)](this['binSessionId']),_0x181040[_0xfabd02(0x96)](_0x5059c2),_0x181040[_0xfabd02(0x99)](_0x123035),_0x181040[_0xfabd02(0x10e)](_0xd53d35),new Promise((_0x32229d,_0x14bed5)=>{const _0x549552=_0xfabd02;this[_0x549552(0x130)][_0x549552(0x9d)](_0x181040,(_0x40a1f8,_0x29b4bc)=>{const _0x4dac33=_0x549552;if(_0x40a1f8){this['logger']['error']('DriverInit\x20error:\x20'+_0x40a1f8[_0x4dac33(0x71)]),_0x26fc38[_0x4dac33(0x114)](_0x14bed5,_0x40a1f8);return;}this[_0x4dac33(0xf1)][_0x4dac33(0x7c)](_0x26fc38[_0x4dac33(0xcf)]),_0x26fc38[_0x4dac33(0x114)](_0x32229d,_0x29b4bc);});});}catch(_0x165a2f){this['logger'][_0xfabd02(0x12c)](_0xfabd02(0xdf)+util[_0xfabd02(0x13d)](_0x165a2f));throw _0x165a2f;}}async['logCreatedEvent'](_0x3e7928){const _0x488aad=a67_0x5711d0,_0x3e4253={'rggcs':function(_0x5bf1b2,_0xeb31f1){return _0x5bf1b2===_0xeb31f1;},'TnSIN':function(_0x222507,_0x219ad3){return _0x222507(_0x219ad3);},'zhpFU':_0x488aad(0x139),'UuCfc':function(_0x2e4139,_0x4c3426){return _0x2e4139(_0x4c3426);},'mbzrC':'Sending\x20LogCreatedEvent','fTAeS':_0x488aad(0x103)};this[_0x488aad(0xf1)][_0x488aad(0x7c)](_0x3e4253[_0x488aad(0xd6)]);try{!this[_0x488aad(0x130)]&&this[_0x488aad(0xf1)][_0x488aad(0x7c)](_0x3e4253[_0x488aad(0x14b)]);const {platformIndex:_0x5a246c,logs:_0x5cc69a}=_0x3e7928,_0x32f6ff=new messages['LogCreatedEventRequest']();_0x32f6ff[_0x488aad(0xf8)](this[_0x488aad(0xab)]),_0x32f6ff[_0x488aad(0x96)](_0x5a246c);const _0x2f3d4b=_0x3e7928[_0x488aad(0xb7)],_0x644951=_0x3e7928['testFrameworkVersion'],_0x580b71=_0x3e7928[_0x488aad(0x98)];return _0x5cc69a['forEach'](_0x55f6d1=>{const _0xd4d133=_0x488aad,_0x37eb4e=new messages[(_0xd4d133(0x9e))][(_0xd4d133(0x80))]();_0x37eb4e[_0xd4d133(0xe6)](_0x2f3d4b),_0x37eb4e['setTestFrameworkVersion'](_0x644951),_0x37eb4e[_0xd4d133(0xbe)](_0x580b71),_0x37eb4e['setTimestamp'](_0x55f6d1['timestamp']),_0x37eb4e[_0xd4d133(0x11b)](_0x55f6d1[_0xd4d133(0xc3)]),_0x37eb4e[_0xd4d133(0xf5)](_0x55f6d1['kind']),_0x3e4253['rggcs'](_0x55f6d1[_0xd4d133(0xeb)],PLAYWRIGHT_TRACE_LOGS)?(_0x37eb4e[_0xd4d133(0x11b)](_0x55f6d1[_0xd4d133(0x14d)]),_0x37eb4e[_0xd4d133(0x7e)](new TextEncoder()['encode'](JSON['stringify'](_0x55f6d1)))):_0x37eb4e['setMessage'](new TextEncoder()[_0xd4d133(0xfa)](_0x55f6d1[_0xd4d133(0x71)])),_0x37eb4e['setLevel'](_0x55f6d1[_0xd4d133(0xba)]),_0x37eb4e[_0xd4d133(0xa9)](_0x55f6d1?.['fileName']||''),_0x37eb4e[_0xd4d133(0xc2)](_0x55f6d1?.[_0xd4d133(0x121)]||''),_0x37eb4e['setFileSize'](_0x55f6d1?.['fileSize']||0x0),_0x37eb4e[_0xd4d133(0x147)](_0x55f6d1?.['attachment_type']||''),_0x32f6ff['addLogs'](_0x37eb4e);}),new Promise((_0x525259,_0x55efbc)=>{const _0x1b66d4=_0x488aad;this['client'][_0x1b66d4(0x77)](_0x32f6ff,(_0x5c094d,_0xfcec80)=>{const _0x3d4762=_0x1b66d4;if(_0x5c094d){this[_0x3d4762(0xf1)][_0x3d4762(0x12c)](_0x3d4762(0xa7)+_0x5c094d[_0x3d4762(0x71)]),_0x3e4253['TnSIN'](_0x55efbc,_0x5c094d);return;}this[_0x3d4762(0xf1)][_0x3d4762(0x7c)](_0x3e4253[_0x3d4762(0x72)]),_0x3e4253[_0x3d4762(0x8d)](_0x525259,_0xfcec80);});});}catch(_0x272eba){this[_0x488aad(0xf1)][_0x488aad(0x12c)](_0x488aad(0x136)+util[_0x488aad(0x13d)](_0x272eba));throw _0x272eba;}}[a67_0x5711d0(0x8a)](){const _0x372e7f=a67_0x5711d0;return this[_0x372e7f(0x130)];}[a67_0x5711d0(0x70)](){const _0x50c953=a67_0x5711d0;return this[_0x50c953(0x85)];}}module[a67_0x5711d0(0x11c)]=GrpcClient;function a67_0xfa15(){const _0x2616e7=['DKzNo','Error\x20in\x20getPlaywrightConfig:\x20','5471562IJeBAY','VYYMI','8587985AarzOf','setCliArgs:\x20cliArgs=','mbzrC','bALdg','zgDTk','slice','TestFrameworkEvent\x20error:\x20','connect-bin-session\x20response:\x20','entries','WBGrX','225309kiGStL','Error\x20in\x20DriverInit:\x20','ConnectBinSessionRequest','hubUrl','push','../../helpers/classLogger.js','Stopping\x20signal\x20','gyPJl','setTestFrameworkName','../../helpers/performance/constants','12yFNJco','pRseT','startBinSession','attachment_type','setFrameworkVersion','Stopping\x20bin\x20session','XnFIw','nhNqy','setTestFrameworkVersion','logger','threadId','3jXRWof','Error\x20in\x20getAccessibilityConfig:\x20','setKind','SDK_AUTOMATION_FRAMEWORK_INIT','setTestFramework','setBinSessionId','testSessionEvent','encode','debug','AHjYa','processId','mGzoz','../utils/constants','setCapabilities','setProcessId','StartBinSessionRequest','No\x20gRPC\x20client\x20not\x20initialized.','../../../generated/sdk_grpc_pb','forEach','frameworkVersion','getSdkLanguage','rvjJY','getInstance','Channel','setConfig','iQFgi','setThreadId','setUserInputParams','19151363lODOYh','ZvoPN','testFrameworkEvent','ETSvR','OSnxk','MoQDI','setEventJson','version','./cliUtils.js','listenAddress','fpNpa','Sending\x20DriverInit','setUuid','exports','setFrameworkSessionId','LCmhV','TestSessionEvent\x20error:\x20','from','filePath','DyNLx','PlaywrightConfig\x20request\x20successful','../../helpers/logger.js','PlaywrightConfigRequest','accessibilityConfig','OzbOI','StopBinSession\x20error:\x20','Getting\x20Playwright\x20config','CYgrP','Connected\x20to\x20gRPC\x20server\x20at\x20','error','ConnectBinSession\x20successful','setSdkVersion','ysrtT','client','Getting\x20Accessibility\x20config','Connecting\x20bin\x20session','PlaywrightConfig\x20error:\x20','SDK_CONNECT_BIN_SESSION','Error\x20in\x20TestSessionEvent:\x20','Error\x20in\x20LogCreatedEvent:\x20','env','qrOAc','LogCreatedEvent\x20request\x20successful','wFjWZ','setHash','TestSessionEventRequest','format','\x20listenAddr:\x20','OfLXQ','setEndedAt','Initialized\x20gRPC\x20client\x20with\x20bin\x20session\x20id:\x20','AwZcW','getAccessibilityConfig','DriverInit\x20request\x20successful','\x20and\x20listen\x20address:\x20','setPathProject','setAttachmentType','setExitCode','giAnM','SDK_START_BIN_SESSION','fTAeS','ExecutionContext','test_run_uuid','WmXxU','credentials','hash','AccessibilityConfigRequest','Error\x20in\x20startBinSession:\x20','getChannel','message','zhpFU','stop-bin-session\x20response:\x20','313635PQkzEL','set','cwd','logCreatedEvent','connectBinSession','setLanguage','avOmF','setExitSignal','info','TestFrameworkEventRequest','setMessage','setStartedAt','LogEntry','810736WYDvUT','4sKxNIp','uHeCH','start','channel','@grpc/grpc-js','Sending\x20TestFrameworkEvent','./browserstackCLI.js','setTestHookState','getClient','../../../generated/sdk-messages_pb','frameworkSessionId','UuCfc','AccessibilityConfig\x20request\x20successful','ZHDfV','setHubUrl','stopBinSession','setTestUuid','BROWSERSTACK_CLI_BIN_SESSION_ID','SDKClient','user_killed','setPlatformIndex','addFrameworks','testFrameworkState','setRef','browserstack.yml','ref','startBinSession:\x20Calling\x20startBinSession','driverInit','LogCreatedEventRequest','dUGpg','Missing\x20binSessionId','AccessibilityConfig\x20error:\x20','BROWSERSTACK_CLI_BIN_LISTEN_ADDR','setCustomMetadata','tsgSM','10pkWrUJ','gIqwS','LogCreatedEvent\x20error:\x20','createInsecure','setFileName','BKqxh','binSessionId','408JYDvjA','YMaDv','4734621BTcycb','zgmdH','BROWSERSTACK_CONFIG_FILE_PATH','StopBinSessionRequest','Wnhcl','QbvuP','getAutomationFrameworkDetail','RVpkb','StopBinSession\x20successful','testFrameworkName','iOndI','SDK_CLI_ON_STOP','level','setCliArgsList','name','end','setTestFrameworkState','getPlaywrightConfig','setExecutionContext','StartBinSession\x20error:\x20','setFilePath','uuid','lNLPg','Error\x20in\x20TestFrameworkEvent:\x20','launchcaps','../../helpers/performance/performance-tester.js','dEpce','stringify','CbIsD','init','Unable\x20to\x20determine\x20gRPC\x20server\x20listen\x20address','playwrightConfig','setPathConfig','oXpxz'];a67_0xfa15=function(){return _0x2616e7;};return a67_0xfa15();}