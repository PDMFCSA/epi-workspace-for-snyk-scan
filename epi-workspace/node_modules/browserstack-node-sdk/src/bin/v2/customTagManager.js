'use strict';function a65_0x3521(){const _0x49b972=['mvYfd','setTestDetails','field_type','2361032zQXzwR','20kNfkbE','./framework/automationFramework','AIPRm','values','./state/testFrameworkState','9939624jrFlLx',',\x20key=','resolveInstance','bwNnk','2245912kJOdoW',':jest-','multi_dropdown','includes','zqjeT','getTestDetails','GIReM','CustomTagManager.setCustomTags:\x20TestFramework\x20not\x20available\x20for\x20Jest+Playwright','EtCYA','currentTest','CustomTagManager.setCustomTags:\x20No\x20testIdentifier\x20found\x20for\x20Jest+Playwright.\x20This\x20may\x20occur\x20if\x20setCustomTags\x20is\x20called\x20outside\x20test\x20context.','KEY_TEST_ID','3810582zRmGDd','getTestFramework','./TestInfo','debug','getAllData','OmbuL','getState','Custom\x20tag\x20key\x20must\x20be\x20a\x20string','CgYWL','__workerDetails','MODULE_NAME','KEY_CUSTOM_TAGS','hgZha','trim','[CustomTagManager]\x20setCustomTags:\x20Created\x20new\x20tag\x20key=','getInstance','Custom\x20tag\x20value\x20cannot\x20be\x20empty','8221395ARdoeK','getBuildLevelTags','addMultipleEntries','retry','azROF','getTrackedInstance','get','CustomTagManager.setCustomTags:\x20Instance\x20not\x20available\x20for\x20Jest+Playwright','parseCommaSeparatedValues','./browserstackCLI','eWDSF',',\x20values=','string','uOlVI','UrTEM','jhRor','getTestIdentifierFromTestInfo','testhubConfig','POST','[CustomTagManager]\x20setCustomTags:\x20Stored\x20customTags\x20in\x20instance\x20memory\x20for\x20testIdentifier=','getTestUUID','809420yixUQZ','clearTags','__jestCurrentTestIdentifier','jest','buildHashedId','./cliUtils','\x20with\x20new\x20values=','isRunning','[CustomTagManager]\x20setCustomTags:\x20Jest+Playwright\x20-\x20testIdentifier=','[CustomTagManager]\x20setCustomTags:\x20Updated\x20existing\x20tag\x20key=','testInfo','IuVli','testLevelTags','Custom\x20tag\x20key\x20cannot\x20be\x20empty','srdqX','toLowerCase','36yugZfz','buildLevelTags','Custom\x20tag\x20value\x20must\x20be\x20a\x20string','125014eZsRfF','./modules/testhubModule','./framework/constants/testFrameworkConstants','stringify','qTDRI','TEST','modules'];a65_0x3521=function(){return _0x49b972;};return a65_0x3521();}const a65_0x4cf44d=a65_0x4a24;(function(_0x3286de,_0x274512){const _0x4976c8=a65_0x4a24,_0x12cbbc=_0x3286de();while(!![]){try{const _0x45135c=parseInt(_0x4976c8(0x1d3))/0x1+parseInt(_0x4976c8(0x1e7))/0x2+-parseInt(_0x4976c8(0x1f3))/0x3+parseInt(_0x4976c8(0x1c0))/0x4*(-parseInt(_0x4976c8(0x1de))/0x5)+parseInt(_0x4976c8(0x1e3))/0x6+-parseInt(_0x4976c8(0x1ab))/0x7+-parseInt(_0x4976c8(0x1dd))/0x8*(-parseInt(_0x4976c8(0x1d0))/0x9);if(_0x45135c===_0x274512)break;else _0x12cbbc['push'](_0x12cbbc['shift']());}catch(_0x8d8c96){_0x12cbbc['push'](_0x12cbbc['shift']());}}}(a65_0x3521,0xcae0f));function a65_0x4a24(_0x5c398e,_0x3e7f45){const _0x352104=a65_0x3521();return a65_0x4a24=function(_0x4a2474,_0x30be80){_0x4a2474=_0x4a2474-0x19b;let _0x1568d3=_0x352104[_0x4a2474];return _0x1568d3;},a65_0x4a24(_0x5c398e,_0x3e7f45);}const BrowserstackCLI=require(a65_0x4cf44d(0x1b4)),helper=require('../../helpers/helper'),AutomationFramework=require(a65_0x4cf44d(0x1df)),TestFrameworkConstants=require(a65_0x4cf44d(0x1d5)),PlaywrightDriverModule=require('./modules/playwrightDriverModule'),TestInfo=require(a65_0x4cf44d(0x19c)),TestHubModule=require(a65_0x4cf44d(0x1d4)),{createClassLogger}=require('../../helpers/classLogger'),logger=createClassLogger('CustomTagManager');class CustomTagManager{static [a65_0x4cf44d(0x1d1)]={};static [a65_0x4cf44d(0x1cc)]={};static['setCustomTags'](_0x2d4548,_0x1bcb4c,_0x1e0f25=![]){const _0x5bb00c=a65_0x4cf44d,_0x13c698={'AIPRm':function(_0x3a7f40,_0x39485f){return _0x3a7f40!==_0x39485f;},'qTDRI':_0x5bb00c(0x1b7),'hgZha':_0x5bb00c(0x1a1),'jhRor':function(_0x45b6a9,_0x3575e4){return _0x45b6a9!==_0x3575e4;},'cOCDO':_0x5bb00c(0x1d2),'eWDSF':function(_0x5a9699,_0x54aa6f){return _0x5a9699===_0x54aa6f;},'srdqX':_0x5bb00c(0x1cd),'CgYWL':function(_0x3eba80,_0x7c2781){return _0x3eba80===_0x7c2781;},'GIReM':_0x5bb00c(0x1aa),'IuVli':_0x5bb00c(0x1e9),'Zdnmb':_0x5bb00c(0x1e8),'mvYfd':function(_0x4fd9ec,_0x8f54a5){return _0x4fd9ec(_0x8f54a5);},'uOlVI':_0x5bb00c(0x1c5),'bwNnk':function(_0x49b9be,_0x232b57){return _0x49b9be===_0x232b57;},'YmRdx':_0x5bb00c(0x1c3),'OmbuL':_0x5bb00c(0x1f1),'EtCYA':_0x5bb00c(0x1ee),'zqjeT':function(_0x3a2899,_0x277932){return _0x3a2899(_0x277932);},'UrTEM':_0x5bb00c(0x1e2),'aYZyH':'./state/hookState','azROF':_0x5bb00c(0x1b2)};if(_0x13c698[_0x5bb00c(0x1e0)](typeof _0x2d4548,_0x13c698[_0x5bb00c(0x1d7)]))throw new Error(_0x13c698[_0x5bb00c(0x1a6)]);if(_0x13c698[_0x5bb00c(0x1ba)](typeof _0x1bcb4c,_0x13c698[_0x5bb00c(0x1d7)]))throw new Error(_0x13c698['cOCDO']);if(_0x13c698[_0x5bb00c(0x1b5)](_0x2d4548[_0x5bb00c(0x1a7)](),''))throw new Error(_0x13c698[_0x5bb00c(0x1ce)]);if(_0x13c698[_0x5bb00c(0x1a2)](_0x1bcb4c[_0x5bb00c(0x1a7)](),''))throw new Error(_0x13c698[_0x5bb00c(0x1ed)]);const _0x34aa9b=helper[_0x5bb00c(0x1b3)](_0x1bcb4c);if(_0x1e0f25){const _0x27816a=BrowserstackCLI[_0x5bb00c(0x1a9)]()[_0x5bb00c(0x1d9)][TestHubModule[_0x5bb00c(0x1a4)]];if(_0x27816a){const _0x2118d4=_0x27816a?.[_0x5bb00c(0x1bc)]?.['toObject']()?.[_0x5bb00c(0x1c4)];TestInfo[_0x5bb00c(0x1bf)](_0x2118d4);const _0x1a91af=TestInfo[_0x5bb00c(0x1ec)](_0x2118d4),_0x26b870=_0x1a91af[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{};if(!_0x26b870[_0x2d4548]){const _0x59ff95={};_0x59ff95[_0x5bb00c(0x1dc)]=_0x13c698[_0x5bb00c(0x1cb)],_0x59ff95['values']=[..._0x34aa9b],_0x26b870[_0x2d4548]=_0x59ff95;}else _0x26b870[_0x2d4548][_0x5bb00c(0x1e1)]=[..._0x34aa9b];_0x1a91af[TestFrameworkConstants[_0x5bb00c(0x1a5)]]=_0x26b870,TestInfo[_0x5bb00c(0x1db)](_0x2118d4,_0x1a91af),!this['buildLevelTags'][_0x2118d4]&&(this['buildLevelTags'][_0x2118d4]={}),this['buildLevelTags'][_0x2118d4][_0x2d4548]=[..._0x34aa9b];}}else{let _0x6149b3;const _0x2dbf00=global[_0x5bb00c(0x1c2)];let _0x1e5f6a=![];if(_0x2dbf00&&_0x2dbf00[_0x5bb00c(0x1ea)](_0x13c698['Zdnmb']))_0x1e5f6a=!![],_0x6149b3=_0x2dbf00;else try{const _0x288d23=_0x13c698['mvYfd'](require,_0x13c698[_0x5bb00c(0x1b8)]);if(BrowserstackCLI['getInstance']()[_0x5bb00c(0x1c7)]()){const _0x485293=_0x288d23['getTestFrameworkDetail']();if(_0x13c698[_0x5bb00c(0x1e6)](_0x485293?.['name']?.[_0x5bb00c(0x1cf)](),_0x13c698['YmRdx'])){const _0x1dfd1d=AutomationFramework[_0x5bb00c(0x1b0)]();_0x6149b3=AutomationFramework[_0x5bb00c(0x1a0)](_0x1dfd1d,PlaywrightDriverModule[_0x5bb00c(0x1f2)],''),_0x6149b3&&_0x6149b3['includes'](_0x13c698['Zdnmb'])&&(_0x1e5f6a=!![]);}}}catch(_0x3db74b){logger['debug']('CustomTagManager.setCustomTags\x20:\x20Error\x20detecting\x20Jest+Playwright:\x20'+_0x3db74b);}if(_0x1e5f6a){if(!_0x6149b3)throw new Error(_0x13c698[_0x5bb00c(0x19f)]);const _0x46bf96=BrowserstackCLI[_0x5bb00c(0x1a9)]()[_0x5bb00c(0x19b)]();if(!_0x46bf96)throw new Error(_0x13c698[_0x5bb00c(0x1ef)]);const _0x162c30=_0x13c698[_0x5bb00c(0x1eb)](require,_0x13c698[_0x5bb00c(0x1b9)]),_0x3a29ab=_0x13c698[_0x5bb00c(0x1da)](require,_0x13c698['aYZyH']),_0x1e0266=_0x46bf96[_0x5bb00c(0x1e5)](_0x162c30[_0x5bb00c(0x1d8)],_0x3a29ab[_0x5bb00c(0x1bd)]);if(!_0x1e0266)throw new Error(_0x13c698[_0x5bb00c(0x1af)]);const _0x1e2e85=_0x1e0266[_0x5bb00c(0x19e)]()[_0x5bb00c(0x1b1)](_0x6149b3)||{},_0x3776f2=_0x1e2e85[TestFrameworkConstants[_0x5bb00c(0x1a5)]]||{};logger[_0x5bb00c(0x19d)](_0x5bb00c(0x1c8)+_0x6149b3+_0x5bb00c(0x1e4)+_0x2d4548+_0x5bb00c(0x1b6)+JSON[_0x5bb00c(0x1d6)](_0x34aa9b)+',\x20existingTags='+JSON[_0x5bb00c(0x1d6)](_0x3776f2));if(!_0x3776f2[_0x2d4548]){const _0x1593d6={};_0x1593d6[_0x5bb00c(0x1dc)]=_0x13c698[_0x5bb00c(0x1cb)],_0x1593d6[_0x5bb00c(0x1e1)]=[..._0x34aa9b],_0x3776f2[_0x2d4548]=_0x1593d6,logger[_0x5bb00c(0x19d)](_0x5bb00c(0x1a8)+_0x2d4548+'\x20with\x20values='+JSON[_0x5bb00c(0x1d6)](_0x34aa9b));}else _0x3776f2[_0x2d4548][_0x5bb00c(0x1e1)]=[..._0x34aa9b],logger[_0x5bb00c(0x19d)](_0x5bb00c(0x1c9)+_0x2d4548+_0x5bb00c(0x1c6)+JSON[_0x5bb00c(0x1d6)](_0x34aa9b));const _0xc4347a={[TestFrameworkConstants[_0x5bb00c(0x1a5)]]:_0x3776f2},_0x5037c8={};_0x5037c8[_0x6149b3]=_0xc4347a,_0x1e0266[_0x5bb00c(0x1ad)](_0x5037c8),logger[_0x5bb00c(0x19d)](_0x5bb00c(0x1be)+_0x6149b3+',\x20finalTags='+JSON[_0x5bb00c(0x1d6)](_0x3776f2)),!this[_0x5bb00c(0x1cc)][_0x6149b3]&&(this[_0x5bb00c(0x1cc)][_0x6149b3]={}),this[_0x5bb00c(0x1cc)][_0x6149b3][_0x2d4548]=[..._0x34aa9b];}else{const _0x411436=global[_0x5bb00c(0x1a3)]?.[_0x5bb00c(0x1f0)]?.[_0x5bb00c(0x1ca)];if(!_0x411436){const _0x3137c3=AutomationFramework['getTrackedInstance']();_0x6149b3=AutomationFramework[_0x5bb00c(0x1a0)](_0x3137c3,PlaywrightDriverModule['KEY_TEST_ID'],'');}else _0x6149b3=TestInfo[_0x5bb00c(0x1bb)](_0x411436,_0x411436[_0x5bb00c(0x1ae)]);const _0x410ba0=TestInfo[_0x5bb00c(0x1ec)](_0x6149b3),_0x3b6ad3=_0x410ba0[TestFrameworkConstants[_0x5bb00c(0x1a5)]]||{};if(!_0x3b6ad3[_0x2d4548]){const _0x14388b={};_0x14388b[_0x5bb00c(0x1dc)]=_0x13c698[_0x5bb00c(0x1cb)],_0x14388b['values']=[..._0x34aa9b],_0x3b6ad3[_0x2d4548]=_0x14388b;}else _0x3b6ad3[_0x2d4548]['values']=[..._0x34aa9b];_0x410ba0[TestFrameworkConstants[_0x5bb00c(0x1a5)]]=_0x3b6ad3,TestInfo[_0x5bb00c(0x1db)](_0x6149b3,_0x410ba0),!this['testLevelTags'][_0x6149b3]&&(this[_0x5bb00c(0x1cc)][_0x6149b3]={}),this[_0x5bb00c(0x1cc)][_0x6149b3][_0x2d4548]=[..._0x34aa9b];}}}static[a65_0x4cf44d(0x1ac)](){const _0xf30f0b=a65_0x4cf44d,_0x5af20e={...this[_0xf30f0b(0x1d1)]};return _0x5af20e;}static['getTestLevelTags'](){const _0x3a9a5e={...this['testLevelTags']};return _0x3a9a5e;}static[a65_0x4cf44d(0x1c1)](){const _0x2e057e=a65_0x4cf44d;this[_0x2e057e(0x1d1)]={},this[_0x2e057e(0x1cc)]={};}}module['exports']=CustomTagManager;