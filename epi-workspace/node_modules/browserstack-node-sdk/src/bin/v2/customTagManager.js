'use strict';function a65_0x3034(_0x32027f,_0xdc97a0){const _0x4492c8=a65_0x4492();return a65_0x3034=function(_0x30349f,_0x29acb9){_0x30349f=_0x30349f-0x155;let _0x587ec3=_0x4492c8[_0x30349f];return _0x587ec3;},a65_0x3034(_0x32027f,_0xdc97a0);}const a65_0x1f0d52=a65_0x3034;(function(_0x3121df,_0x4e7915){const _0x3266c0=a65_0x3034,_0x2007f8=_0x3121df();while(!![]){try{const _0x2ea30c=parseInt(_0x3266c0(0x16c))/0x1+parseInt(_0x3266c0(0x160))/0x2*(-parseInt(_0x3266c0(0x171))/0x3)+-parseInt(_0x3266c0(0x178))/0x4+-parseInt(_0x3266c0(0x1a0))/0x5+-parseInt(_0x3266c0(0x155))/0x6*(parseInt(_0x3266c0(0x164))/0x7)+-parseInt(_0x3266c0(0x1a7))/0x8*(-parseInt(_0x3266c0(0x166))/0x9)+parseInt(_0x3266c0(0x16b))/0xa;if(_0x2ea30c===_0x4e7915)break;else _0x2007f8['push'](_0x2007f8['shift']());}catch(_0x179ef7){_0x2007f8['push'](_0x2007f8['shift']());}}}(a65_0x4492,0xa828b));const BrowserstackCLI=require('./browserstackCLI'),helper=require('../../helpers/helper'),AutomationFramework=require(a65_0x1f0d52(0x184)),TestFrameworkConstants=require(a65_0x1f0d52(0x1ae)),PlaywrightDriverModule=require('./modules/playwrightDriverModule'),TestInfo=require(a65_0x1f0d52(0x17f)),TestHubModule=require(a65_0x1f0d52(0x18b)),{createClassLogger}=require(a65_0x1f0d52(0x17b)),logger=createClassLogger(a65_0x1f0d52(0x193));function a65_0x4492(){const _0xed16a1=['name','getTestDetails','getTrackedInstance','getInstance','21395920BEdMeN','1371410bAegwD','buildLevelTags','exports','CustomTagManager.setCustomTags\x20:\x20Error\x20detecting\x20Jest+Playwright:\x20','getState','430929ZEFLhF',',\x20values=','setCustomTags','ihmbP','mLfQo','\x20with\x20values=','getTestFrameworkDetail','4290952gecffc','CustomTagManager.setCustomTags:\x20TestFramework\x20not\x20available\x20for\x20Jest+Playwright','./state/testFrameworkState','../../helpers/classLogger','\x20with\x20new\x20values=','field_type','Custom\x20tag\x20key\x20cannot\x20be\x20empty','./TestInfo','testhubConfig',',\x20finalTags=','getTestUUID','POST','./framework/automationFramework','TEST','multi_dropdown','getTestFramework','Custom\x20tag\x20key\x20must\x20be\x20a\x20string','retry','getTestIdentifierFromTestInfo','./modules/testhubModule','tAncQ','values',':jest-','modules','ePQKl','CustomTagManager.setCustomTags:\x20No\x20testIdentifier\x20found\x20for\x20Jest+Playwright.\x20This\x20may\x20occur\x20if\x20setCustomTags\x20is\x20called\x20outside\x20test\x20context.',',\x20existingTags=','CustomTagManager','KEY_TEST_ID','currentTest','MODULE_NAME','[CustomTagManager]\x20setCustomTags:\x20Jest+Playwright\x20-\x20testIdentifier=','[CustomTagManager]\x20setCustomTags:\x20Updated\x20existing\x20tag\x20key=','__workerDetails','resolveInstance','isRunning','./cliUtils','vwOZX','GdLLI','dfPvy','4714115MxQcgk','QDUkU','stringify','SHcoj','dAJYG','EsqPF','CZbUZ','99752ePBPSS','KEY_CUSTOM_TAGS','setTestDetails','debug','[CustomTagManager]\x20setCustomTags:\x20Stored\x20customTags\x20in\x20instance\x20memory\x20for\x20testIdentifier=','Custom\x20tag\x20value\x20cannot\x20be\x20empty','blwoR','./framework/constants/testFrameworkConstants','Qqzda','__jestCurrentTestIdentifier','39954FXkmFO','getBuildLevelTags','Custom\x20tag\x20value\x20must\x20be\x20a\x20string','addMultipleEntries','trim','./state/hookState','parseCommaSeparatedValues','FIGlP','jest','nRjfz','MGtiM','14YRavIZ','buildHashedId','getAllData','toLowerCase','525PLnHfl','testLevelTags','504UDhCXB'];a65_0x4492=function(){return _0xed16a1;};return a65_0x4492();}class CustomTagManager{static ['buildLevelTags']={};static [a65_0x1f0d52(0x165)]={};static[a65_0x1f0d52(0x173)](_0xaabbeb,_0x226d40,_0x466290=![]){const _0x598cbd=a65_0x1f0d52,_0xd4cf24={'Qqzda':function(_0x5a3a47,_0x562766){return _0x5a3a47!==_0x562766;},'CZbUZ':'string','SHcoj':_0x598cbd(0x188),'blwoR':function(_0x4dc75a,_0x559981){return _0x4dc75a!==_0x559981;},'MGtiM':_0x598cbd(0x157),'FIGlP':function(_0x23c970,_0x460447){return _0x23c970===_0x460447;},'dfPvy':_0x598cbd(0x17e),'yXWOQ':function(_0x3f1232,_0xb250ae){return _0x3f1232===_0xb250ae;},'EsqPF':_0x598cbd(0x1ac),'nRjfz':_0x598cbd(0x186),'mLfQo':_0x598cbd(0x18e),'jdMSm':function(_0xb433c1,_0x2aaf58){return _0xb433c1(_0x2aaf58);},'ihmbP':_0x598cbd(0x19c),'QDUkU':_0x598cbd(0x15d),'GdLLI':_0x598cbd(0x191),'vwOZX':_0x598cbd(0x179),'ePQKl':_0x598cbd(0x17a),'tAncQ':_0x598cbd(0x15a),'dAJYG':'CustomTagManager.setCustomTags:\x20Instance\x20not\x20available\x20for\x20Jest+Playwright'};if(_0xd4cf24[_0x598cbd(0x1af)](typeof _0xaabbeb,_0xd4cf24[_0x598cbd(0x1a6)]))throw new Error(_0xd4cf24[_0x598cbd(0x1a3)]);if(_0xd4cf24[_0x598cbd(0x1ad)](typeof _0x226d40,_0xd4cf24[_0x598cbd(0x1a6)]))throw new Error(_0xd4cf24[_0x598cbd(0x15f)]);if(_0xd4cf24[_0x598cbd(0x15c)](_0xaabbeb[_0x598cbd(0x159)](),''))throw new Error(_0xd4cf24[_0x598cbd(0x19f)]);if(_0xd4cf24['yXWOQ'](_0x226d40[_0x598cbd(0x159)](),''))throw new Error(_0xd4cf24[_0x598cbd(0x1a5)]);const _0x2ee2f8=helper[_0x598cbd(0x15b)](_0x226d40);if(_0x466290){const _0x2e20f3=BrowserstackCLI[_0x598cbd(0x16a)]()[_0x598cbd(0x18f)][TestHubModule[_0x598cbd(0x196)]];if(_0x2e20f3){const _0x5272e0=_0x2e20f3?.[_0x598cbd(0x180)]?.['toObject']()?.[_0x598cbd(0x161)];TestInfo[_0x598cbd(0x182)](_0x5272e0);const _0x22650b=TestInfo[_0x598cbd(0x168)](_0x5272e0),_0x36a287=_0x22650b[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{};if(!_0x36a287[_0xaabbeb]){const _0x4f49cb={};_0x4f49cb[_0x598cbd(0x17d)]=_0xd4cf24['nRjfz'],_0x4f49cb[_0x598cbd(0x18d)]=[..._0x2ee2f8],_0x36a287[_0xaabbeb]=_0x4f49cb;}else _0x36a287[_0xaabbeb][_0x598cbd(0x18d)]=[..._0x2ee2f8];_0x22650b[TestFrameworkConstants[_0x598cbd(0x1a8)]]=_0x36a287,TestInfo[_0x598cbd(0x1a9)](_0x5272e0,_0x22650b),!this[_0x598cbd(0x16d)][_0x5272e0]&&(this[_0x598cbd(0x16d)][_0x5272e0]={}),this[_0x598cbd(0x16d)][_0x5272e0][_0xaabbeb]=[..._0x2ee2f8];}}else{let _0x4fc21a;const _0x4f4788=global[_0x598cbd(0x1b0)];let _0x5e72f2=![];if(_0x4f4788&&_0x4f4788['includes'](_0xd4cf24[_0x598cbd(0x175)]))_0x5e72f2=!![],_0x4fc21a=_0x4f4788;else try{const _0x20ce1e=_0xd4cf24['jdMSm'](require,_0xd4cf24[_0x598cbd(0x174)]);if(BrowserstackCLI[_0x598cbd(0x16a)]()[_0x598cbd(0x19b)]()){const _0x2ead1e=_0x20ce1e[_0x598cbd(0x177)]();if(_0xd4cf24[_0x598cbd(0x15c)](_0x2ead1e?.[_0x598cbd(0x167)]?.[_0x598cbd(0x163)](),_0xd4cf24[_0x598cbd(0x1a1)])){const _0x24574f=AutomationFramework[_0x598cbd(0x169)]();_0x4fc21a=AutomationFramework[_0x598cbd(0x170)](_0x24574f,PlaywrightDriverModule[_0x598cbd(0x194)],''),_0x4fc21a&&_0x4fc21a['includes'](_0xd4cf24[_0x598cbd(0x175)])&&(_0x5e72f2=!![]);}}}catch(_0x75b4e){logger[_0x598cbd(0x1aa)](_0x598cbd(0x16f)+_0x75b4e);}if(_0x5e72f2){if(!_0x4fc21a)throw new Error(_0xd4cf24[_0x598cbd(0x19e)]);const _0x16f01b=BrowserstackCLI[_0x598cbd(0x16a)]()[_0x598cbd(0x187)]();if(!_0x16f01b)throw new Error(_0xd4cf24[_0x598cbd(0x19d)]);const _0x22d90f=_0xd4cf24['jdMSm'](require,_0xd4cf24[_0x598cbd(0x190)]),_0x1c553c=_0xd4cf24['jdMSm'](require,_0xd4cf24[_0x598cbd(0x18c)]),_0x2c5c84=_0x16f01b[_0x598cbd(0x19a)](_0x22d90f[_0x598cbd(0x185)],_0x1c553c[_0x598cbd(0x183)]);if(!_0x2c5c84)throw new Error(_0xd4cf24[_0x598cbd(0x1a4)]);const _0x2a2b85=_0x2c5c84[_0x598cbd(0x162)]()['get'](_0x4fc21a)||{},_0x8873bb=_0x2a2b85[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{};logger[_0x598cbd(0x1aa)](_0x598cbd(0x197)+_0x4fc21a+',\x20key='+_0xaabbeb+_0x598cbd(0x172)+JSON[_0x598cbd(0x1a2)](_0x2ee2f8)+_0x598cbd(0x192)+JSON[_0x598cbd(0x1a2)](_0x8873bb));if(!_0x8873bb[_0xaabbeb]){const _0x3b475a={};_0x3b475a['field_type']=_0xd4cf24[_0x598cbd(0x15e)],_0x3b475a['values']=[..._0x2ee2f8],_0x8873bb[_0xaabbeb]=_0x3b475a,logger[_0x598cbd(0x1aa)]('[CustomTagManager]\x20setCustomTags:\x20Created\x20new\x20tag\x20key='+_0xaabbeb+_0x598cbd(0x176)+JSON['stringify'](_0x2ee2f8));}else _0x8873bb[_0xaabbeb]['values']=[..._0x2ee2f8],logger[_0x598cbd(0x1aa)](_0x598cbd(0x198)+_0xaabbeb+_0x598cbd(0x17c)+JSON['stringify'](_0x2ee2f8));const _0x3bda49={[TestFrameworkConstants[_0x598cbd(0x1a8)]]:_0x8873bb},_0x4581ce={};_0x4581ce[_0x4fc21a]=_0x3bda49,_0x2c5c84[_0x598cbd(0x158)](_0x4581ce),logger['debug'](_0x598cbd(0x1ab)+_0x4fc21a+_0x598cbd(0x181)+JSON[_0x598cbd(0x1a2)](_0x8873bb)),!this[_0x598cbd(0x165)][_0x4fc21a]&&(this[_0x598cbd(0x165)][_0x4fc21a]={}),this[_0x598cbd(0x165)][_0x4fc21a][_0xaabbeb]=[..._0x2ee2f8];}else{const _0x573de8=global[_0x598cbd(0x199)]?.[_0x598cbd(0x195)]?.['testInfo'];if(!_0x573de8){const _0x25532e=AutomationFramework['getTrackedInstance']();_0x4fc21a=AutomationFramework['getState'](_0x25532e,PlaywrightDriverModule[_0x598cbd(0x194)],'');}else _0x4fc21a=TestInfo[_0x598cbd(0x18a)](_0x573de8,_0x573de8[_0x598cbd(0x189)]);const _0x524b1a=TestInfo[_0x598cbd(0x168)](_0x4fc21a),_0x1ea0a5=_0x524b1a[TestFrameworkConstants[_0x598cbd(0x1a8)]]||{};if(!_0x1ea0a5[_0xaabbeb]){const _0xa1acc7={};_0xa1acc7[_0x598cbd(0x17d)]=_0xd4cf24[_0x598cbd(0x15e)],_0xa1acc7[_0x598cbd(0x18d)]=[..._0x2ee2f8],_0x1ea0a5[_0xaabbeb]=_0xa1acc7;}else _0x1ea0a5[_0xaabbeb][_0x598cbd(0x18d)]=[..._0x2ee2f8];_0x524b1a[TestFrameworkConstants[_0x598cbd(0x1a8)]]=_0x1ea0a5,TestInfo[_0x598cbd(0x1a9)](_0x4fc21a,_0x524b1a),!this[_0x598cbd(0x165)][_0x4fc21a]&&(this['testLevelTags'][_0x4fc21a]={}),this[_0x598cbd(0x165)][_0x4fc21a][_0xaabbeb]=[..._0x2ee2f8];}}}static[a65_0x1f0d52(0x156)](){const _0x546657=a65_0x1f0d52,_0x35a01c={...this[_0x546657(0x16d)]};return _0x35a01c;}static['getTestLevelTags'](){const _0x112146=a65_0x1f0d52,_0x198418={...this[_0x112146(0x165)]};return _0x198418;}static['clearTags'](){const _0x48aead=a65_0x1f0d52;this[_0x48aead(0x16d)]={},this[_0x48aead(0x165)]={};}}module[a65_0x1f0d52(0x16e)]=CustomTagManager;