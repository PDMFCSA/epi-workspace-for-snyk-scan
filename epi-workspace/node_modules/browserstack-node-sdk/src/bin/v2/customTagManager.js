'use strict';function a65_0x5d7a(_0x1f7d7a,_0x4daa77){const _0x886053=a65_0x8860();return a65_0x5d7a=function(_0x5d7a81,_0x4b9450){_0x5d7a81=_0x5d7a81-0xdd;let _0x2a0996=_0x886053[_0x5d7a81];return _0x2a0996;},a65_0x5d7a(_0x1f7d7a,_0x4daa77);}const a65_0x37d357=a65_0x5d7a;(function(_0x445919,_0x51a63c){const _0x29d238=a65_0x5d7a,_0x284edd=_0x445919();while(!![]){try{const _0x1cedfb=parseInt(_0x29d238(0x104))/0x1+parseInt(_0x29d238(0x11d))/0x2+parseInt(_0x29d238(0xf4))/0x3+parseInt(_0x29d238(0x10b))/0x4*(parseInt(_0x29d238(0x11b))/0x5)+parseInt(_0x29d238(0x10e))/0x6+-parseInt(_0x29d238(0x11e))/0x7+-parseInt(_0x29d238(0x102))/0x8;if(_0x1cedfb===_0x51a63c)break;else _0x284edd['push'](_0x284edd['shift']());}catch(_0x420c1e){_0x284edd['push'](_0x284edd['shift']());}}}(a65_0x8860,0xc4900));const BrowserstackCLI=require('./browserstackCLI'),helper=require('../../helpers/helper'),AutomationFramework=require(a65_0x37d357(0x10c)),TestFrameworkConstants=require(a65_0x37d357(0x101)),PlaywrightDriverModule=require(a65_0x37d357(0xf8)),TestInfo=require('./TestInfo'),TestHubModule=require(a65_0x37d357(0x112)),{createClassLogger}=require(a65_0x37d357(0xde)),logger=createClassLogger(a65_0x37d357(0x125));function a65_0x8860(){const _0x2628c2=['getState','POST','getTestFramework','parseCommaSeparatedValues','CustomTagManager.setCustomTags:\x20TestFramework\x20not\x20available\x20for\x20Jest+Playwright','testInfo','toLowerCase','2075454sADENG','hnWrM','addMultipleEntries','modules','./modules/playwrightDriverModule','Custom\x20tag\x20value\x20cannot\x20be\x20empty','./state/testFrameworkState','exports','trim','stringify','toObject','SaDzs','testLevelTags','./framework/constants/testFrameworkConstants','14056048qYLqor','JGFZs','719035VEqhEk','isRunning','getTrackedInstance','fWuhy','__jestCurrentTestIdentifier','retry','BwPiB','1451368mGeAgl','./framework/automationFramework','bnIEG','3613272JBJBYf','setTestDetails','[CustomTagManager]\x20setCustomTags:\x20Stored\x20customTags\x20in\x20instance\x20memory\x20for\x20testIdentifier=','values','./modules/testhubModule','CustomTagManager.setCustomTags\x20:\x20Error\x20detecting\x20Jest+Playwright:\x20','./cliUtils','CustomTagManager.setCustomTags:\x20Instance\x20not\x20available\x20for\x20Jest+Playwright','OZjqq','multi_dropdown',',\x20key=','name','KEY_TEST_ID','5xgDCWm','AbvHq','1882430MEiGlK','5284972XfeqvO','testhubConfig','TxaPa','TEST','getTestDetails',',\x20finalTags=','ECjES','CustomTagManager','Wjtbb','Custom\x20tag\x20key\x20must\x20be\x20a\x20string','getTestFrameworkDetail','KEY_CUSTOM_TAGS','resolveInstance','./state/hookState','KIUnl','\x20with\x20new\x20values=','getTestUUID','jest','get','cjhnK','__workerDetails','string','buildLevelTags','debug','currentTest','sLGCu','../../helpers/classLogger','getAllData','getTestLevelTags','field_type','Custom\x20tag\x20key\x20cannot\x20be\x20empty','getTestIdentifierFromTestInfo','\x20with\x20values=','QDvNb','[CustomTagManager]\x20setCustomTags:\x20Updated\x20existing\x20tag\x20key=','includes','OyVLQ','getInstance','clearTags','CustomTagManager.setCustomTags:\x20No\x20testIdentifier\x20found\x20for\x20Jest+Playwright.\x20This\x20may\x20occur\x20if\x20setCustomTags\x20is\x20called\x20outside\x20test\x20context.','bkyaW'];a65_0x8860=function(){return _0x2628c2;};return a65_0x8860();}class CustomTagManager{static ['buildLevelTags']={};static ['testLevelTags']={};static['setCustomTags'](_0x111a44,_0x2bf2eb,_0x21772d=![]){const _0x8bc243=a65_0x37d357,_0x16d427={'iciAk':function(_0x59eec2,_0x2b1137){return _0x59eec2!==_0x2b1137;},'cjhnK':_0x8bc243(0x133),'OZjqq':_0x8bc243(0x127),'JGFZs':'Custom\x20tag\x20value\x20must\x20be\x20a\x20string','QDvNb':function(_0x194f33,_0x5481c9){return _0x194f33===_0x5481c9;},'AbvHq':_0x8bc243(0xe2),'Wjtbb':function(_0x12c63b,_0x3d331a){return _0x12c63b===_0x3d331a;},'BwPiB':_0x8bc243(0xf9),'TxaPa':_0x8bc243(0x117),'SaDzs':':jest-','KIUnl':function(_0x41b6cc,_0x30ddcd){return _0x41b6cc(_0x30ddcd);},'sLGCu':_0x8bc243(0x114),'bkyaW':function(_0x5328cc,_0x2d45a8){return _0x5328cc===_0x2d45a8;},'fWuhy':_0x8bc243(0x12f),'bnIEG':_0x8bc243(0xeb),'ZJxsA':_0x8bc243(0xf1),'hnWrM':_0x8bc243(0xfa),'ECjES':_0x8bc243(0x12b),'OyVLQ':_0x8bc243(0x115)};if(_0x16d427['iciAk'](typeof _0x111a44,_0x16d427[_0x8bc243(0x131)]))throw new Error(_0x16d427[_0x8bc243(0x116)]);if(_0x16d427['iciAk'](typeof _0x2bf2eb,_0x16d427[_0x8bc243(0x131)]))throw new Error(_0x16d427[_0x8bc243(0x103)]);if(_0x16d427[_0x8bc243(0xe5)](_0x111a44[_0x8bc243(0xfc)](),''))throw new Error(_0x16d427[_0x8bc243(0x11c)]);if(_0x16d427[_0x8bc243(0x126)](_0x2bf2eb[_0x8bc243(0xfc)](),''))throw new Error(_0x16d427[_0x8bc243(0x10a)]);const _0x339f90=helper[_0x8bc243(0xf0)](_0x2bf2eb);if(_0x21772d){const _0x107d90=BrowserstackCLI[_0x8bc243(0xe9)]()[_0x8bc243(0xf7)][TestHubModule['MODULE_NAME']];if(_0x107d90){const _0x110e07=_0x107d90?.[_0x8bc243(0x11f)]?.[_0x8bc243(0xfe)]()?.['buildHashedId'];TestInfo[_0x8bc243(0x12e)](_0x110e07);const _0x325f91=TestInfo[_0x8bc243(0x122)](_0x110e07),_0x587c4b=_0x325f91[TestFrameworkConstants[_0x8bc243(0x129)]]||{};if(!_0x587c4b[_0x111a44]){const _0x1e1f65={};_0x1e1f65[_0x8bc243(0xe1)]=_0x16d427[_0x8bc243(0x120)],_0x1e1f65['values']=[..._0x339f90],_0x587c4b[_0x111a44]=_0x1e1f65;}else _0x587c4b[_0x111a44][_0x8bc243(0x111)]=[..._0x339f90];_0x325f91[TestFrameworkConstants[_0x8bc243(0x129)]]=_0x587c4b,TestInfo[_0x8bc243(0x10f)](_0x110e07,_0x325f91),!this[_0x8bc243(0x134)][_0x110e07]&&(this[_0x8bc243(0x134)][_0x110e07]={}),this['buildLevelTags'][_0x110e07][_0x111a44]=[..._0x339f90];}}else{let _0x4dc02a;const _0x616712=global[_0x8bc243(0x108)];let _0x2644c7=![];if(_0x616712&&_0x616712[_0x8bc243(0xe7)](_0x16d427[_0x8bc243(0xff)]))_0x2644c7=!![],_0x4dc02a=_0x616712;else try{const _0x18dbf1=_0x16d427['KIUnl'](require,_0x16d427[_0x8bc243(0xdd)]);if(BrowserstackCLI[_0x8bc243(0xe9)]()[_0x8bc243(0x105)]()){const _0x4e5758=_0x18dbf1[_0x8bc243(0x128)]();if(_0x16d427[_0x8bc243(0xec)](_0x4e5758?.[_0x8bc243(0x119)]?.[_0x8bc243(0xf3)](),_0x16d427[_0x8bc243(0x107)])){const _0x12c62d=AutomationFramework[_0x8bc243(0x106)]();_0x4dc02a=AutomationFramework['getState'](_0x12c62d,PlaywrightDriverModule[_0x8bc243(0x11a)],''),_0x4dc02a&&_0x4dc02a[_0x8bc243(0xe7)](_0x16d427['SaDzs'])&&(_0x2644c7=!![]);}}}catch(_0x5f5da6){logger[_0x8bc243(0x135)](_0x8bc243(0x113)+_0x5f5da6);}if(_0x2644c7){if(!_0x4dc02a)throw new Error(_0x16d427[_0x8bc243(0x10d)]);const _0xab8517=BrowserstackCLI[_0x8bc243(0xe9)]()[_0x8bc243(0xef)]();if(!_0xab8517)throw new Error(_0x16d427['ZJxsA']);const _0x33fd23=_0x16d427[_0x8bc243(0x12c)](require,_0x16d427[_0x8bc243(0xf5)]),_0x37f685=_0x16d427[_0x8bc243(0x12c)](require,_0x16d427[_0x8bc243(0x124)]),_0x2ce6fb=_0xab8517[_0x8bc243(0x12a)](_0x33fd23[_0x8bc243(0x121)],_0x37f685[_0x8bc243(0xee)]);if(!_0x2ce6fb)throw new Error(_0x16d427[_0x8bc243(0xe8)]);const _0x4466d3=_0x2ce6fb[_0x8bc243(0xdf)]()[_0x8bc243(0x130)](_0x4dc02a)||{},_0x405a94=_0x4466d3[TestFrameworkConstants[_0x8bc243(0x129)]]||{};logger[_0x8bc243(0x135)]('[CustomTagManager]\x20setCustomTags:\x20Jest+Playwright\x20-\x20testIdentifier='+_0x4dc02a+_0x8bc243(0x118)+_0x111a44+',\x20values='+JSON[_0x8bc243(0xfd)](_0x339f90)+',\x20existingTags='+JSON[_0x8bc243(0xfd)](_0x405a94));if(!_0x405a94[_0x111a44]){const _0x85f748={};_0x85f748[_0x8bc243(0xe1)]=_0x16d427[_0x8bc243(0x120)],_0x85f748[_0x8bc243(0x111)]=[..._0x339f90],_0x405a94[_0x111a44]=_0x85f748,logger[_0x8bc243(0x135)]('[CustomTagManager]\x20setCustomTags:\x20Created\x20new\x20tag\x20key='+_0x111a44+_0x8bc243(0xe4)+JSON[_0x8bc243(0xfd)](_0x339f90));}else _0x405a94[_0x111a44][_0x8bc243(0x111)]=[..._0x339f90],logger['debug'](_0x8bc243(0xe6)+_0x111a44+_0x8bc243(0x12d)+JSON[_0x8bc243(0xfd)](_0x339f90));const _0x4a6483={[TestFrameworkConstants[_0x8bc243(0x129)]]:_0x405a94},_0x2e1f53={};_0x2e1f53[_0x4dc02a]=_0x4a6483,_0x2ce6fb[_0x8bc243(0xf6)](_0x2e1f53),logger[_0x8bc243(0x135)](_0x8bc243(0x110)+_0x4dc02a+_0x8bc243(0x123)+JSON[_0x8bc243(0xfd)](_0x405a94)),!this[_0x8bc243(0x100)][_0x4dc02a]&&(this[_0x8bc243(0x100)][_0x4dc02a]={}),this[_0x8bc243(0x100)][_0x4dc02a][_0x111a44]=[..._0x339f90];}else{const _0x3ebac2=global[_0x8bc243(0x132)]?.[_0x8bc243(0x136)]?.[_0x8bc243(0xf2)];if(!_0x3ebac2){const _0x426dae=AutomationFramework[_0x8bc243(0x106)]();_0x4dc02a=AutomationFramework[_0x8bc243(0xed)](_0x426dae,PlaywrightDriverModule[_0x8bc243(0x11a)],'');}else _0x4dc02a=TestInfo[_0x8bc243(0xe3)](_0x3ebac2,_0x3ebac2[_0x8bc243(0x109)]);const _0x386271=TestInfo[_0x8bc243(0x122)](_0x4dc02a),_0x5347db=_0x386271[TestFrameworkConstants[_0x8bc243(0x129)]]||{};if(!_0x5347db[_0x111a44]){const _0x3fa237={};_0x3fa237['field_type']=_0x16d427['TxaPa'],_0x3fa237[_0x8bc243(0x111)]=[..._0x339f90],_0x5347db[_0x111a44]=_0x3fa237;}else _0x5347db[_0x111a44]['values']=[..._0x339f90];_0x386271[TestFrameworkConstants[_0x8bc243(0x129)]]=_0x5347db,TestInfo[_0x8bc243(0x10f)](_0x4dc02a,_0x386271),!this['testLevelTags'][_0x4dc02a]&&(this['testLevelTags'][_0x4dc02a]={}),this['testLevelTags'][_0x4dc02a][_0x111a44]=[..._0x339f90];}}}static['getBuildLevelTags'](){const _0x5b3360=a65_0x37d357,_0x31d4b3={...this[_0x5b3360(0x134)]};return _0x31d4b3;}static[a65_0x37d357(0xe0)](){const _0x3c0416=a65_0x37d357,_0x447117={...this[_0x3c0416(0x100)]};return _0x447117;}static[a65_0x37d357(0xea)](){const _0x543a18=a65_0x37d357;this['buildLevelTags']={},this[_0x543a18(0x100)]={};}}module[a65_0x37d357(0xfb)]=CustomTagManager;