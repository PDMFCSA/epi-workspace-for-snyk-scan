'use strict';const a65_0x515b37=a65_0x4f50;function a65_0x4f50(_0x1bfb02,_0x434d40){const _0x13fcf3=a65_0x13fc();return a65_0x4f50=function(_0x4f50a2,_0x130ec4){_0x4f50a2=_0x4f50a2-0x1b4;let _0x1d05c8=_0x13fcf3[_0x4f50a2];return _0x1d05c8;},a65_0x4f50(_0x1bfb02,_0x434d40);}(function(_0x87d594,_0x3dfb29){const _0x2328b1=a65_0x4f50,_0x53189c=_0x87d594();while(!![]){try{const _0xe0af15=parseInt(_0x2328b1(0x1b4))/0x1*(parseInt(_0x2328b1(0x1ee))/0x2)+-parseInt(_0x2328b1(0x1c9))/0x3*(parseInt(_0x2328b1(0x1c8))/0x4)+parseInt(_0x2328b1(0x1f6))/0x5*(parseInt(_0x2328b1(0x1d5))/0x6)+-parseInt(_0x2328b1(0x1cf))/0x7*(-parseInt(_0x2328b1(0x1d1))/0x8)+-parseInt(_0x2328b1(0x1f0))/0x9*(-parseInt(_0x2328b1(0x1fc))/0xa)+parseInt(_0x2328b1(0x1ed))/0xb*(-parseInt(_0x2328b1(0x1e1))/0xc)+-parseInt(_0x2328b1(0x1cb))/0xd;if(_0xe0af15===_0x3dfb29)break;else _0x53189c['push'](_0x53189c['shift']());}catch(_0x5c0c2c){_0x53189c['push'](_0x53189c['shift']());}}}(a65_0x13fc,0x6e662));function a65_0x13fc(){const _0x336ff5=['TEST','./state/testFrameworkState','getTestFramework','[CustomTagManager]\x20setCustomTags:\x20Created\x20new\x20tag\x20key=','1139479TQduZA','241778xOmwpd','./browserstackCLI','9AlPykl','rwrEf','CivcQ','Custom\x20tag\x20key\x20must\x20be\x20a\x20string','includes','MODULE_NAME','25105hfCpfW','UzcWe','\x20with\x20new\x20values=','[CustomTagManager]\x20setCustomTags:\x20Stored\x20customTags\x20in\x20instance\x20memory\x20for\x20testIdentifier=','toObject','iccAV','3083480CVJAnl',',\x20existingTags=','currentTest','urPVk','CustomTagManager.setCustomTags\x20:\x20Error\x20detecting\x20Jest+Playwright:\x20','exports','getBuildLevelTags',':jest-','testLevelTags','bypoj','6MQaDUe','setCustomTags','getAllData','buildLevelTags','getTestIdentifierFromTestInfo','syfhb','\x20with\x20values=','./framework/constants/testFrameworkConstants','field_type','stringify','setTestDetails','jWmAc','./cliUtils','./state/hookState','ZvWET','values','NlBSL','parseCommaSeparatedValues','testInfo','kEzoE','7028vRLHUW','843EmbSVK',',\x20key=','7457515RAfRZs','get','KEY_CUSTOM_TAGS','getTestDetails','7AKxrUs','debug','5178704GttgXP','npMOw','../../helpers/classLogger','./modules/testhubModule','426GkwCXx','isRunning','WUFTX','[CustomTagManager]\x20setCustomTags:\x20Jest+Playwright\x20-\x20testIdentifier=','CustomTagManager.setCustomTags:\x20No\x20testIdentifier\x20found\x20for\x20Jest+Playwright.\x20This\x20may\x20occur\x20if\x20setCustomTags\x20is\x20called\x20outside\x20test\x20context.','RKIYA','Custom\x20tag\x20value\x20must\x20be\x20a\x20string','POST','getTestLevelTags','CustomTagManager.setCustomTags:\x20TestFramework\x20not\x20available\x20for\x20Jest+Playwright','modules','KEY_TEST_ID','60uVKzwc','__jestCurrentTestIdentifier','TSwJK','testhubConfig','getInstance','./modules/playwrightDriverModule','addMultipleEntries','getTrackedInstance'];a65_0x13fc=function(){return _0x336ff5;};return a65_0x13fc();}const BrowserstackCLI=require(a65_0x515b37(0x1ef)),helper=require('../../helpers/helper'),AutomationFramework=require('./framework/automationFramework'),TestFrameworkConstants=require(a65_0x515b37(0x1bb)),PlaywrightDriverModule=require(a65_0x515b37(0x1e6)),TestInfo=require('./TestInfo'),TestHubModule=require(a65_0x515b37(0x1d4)),{createClassLogger}=require(a65_0x515b37(0x1d3)),logger=createClassLogger('CustomTagManager');class CustomTagManager{static [a65_0x515b37(0x1b7)]={};static [a65_0x515b37(0x204)]={};static[a65_0x515b37(0x1b5)](_0x297bb1,_0x37dbc9,_0x2b132b=![]){const _0xa812f6=a65_0x515b37,_0x4bda89={'kEzoE':function(_0x28e8f5,_0x88ef35){return _0x28e8f5!==_0x88ef35;},'TSwJK':'string','RKIYA':_0xa812f6(0x1f3),'npMOw':_0xa812f6(0x1db),'UzcWe':function(_0x2ca0ad,_0x18471d){return _0x2ca0ad===_0x18471d;},'jWmAc':'Custom\x20tag\x20key\x20cannot\x20be\x20empty','iwLTQ':'Custom\x20tag\x20value\x20cannot\x20be\x20empty','WUFTX':'multi_dropdown','iccAV':_0xa812f6(0x203),'bypoj':function(_0x3117f0,_0x11982f){return _0x3117f0(_0x11982f);},'syfhb':_0xa812f6(0x1c0),'ZvWET':'jest','CivcQ':_0xa812f6(0x1d9),'rbahu':_0xa812f6(0x1de),'gABrS':function(_0x508b63,_0x3b1b03){return _0x508b63(_0x3b1b03);},'urPVk':_0xa812f6(0x1ea),'NlBSL':function(_0x86f43a,_0x24dd4a){return _0x86f43a(_0x24dd4a);},'AOdgH':_0xa812f6(0x1c1),'rwrEf':'CustomTagManager.setCustomTags:\x20Instance\x20not\x20available\x20for\x20Jest+Playwright'};if(_0x4bda89[_0xa812f6(0x1c7)](typeof _0x297bb1,_0x4bda89[_0xa812f6(0x1e3)]))throw new Error(_0x4bda89[_0xa812f6(0x1da)]);if(_0x4bda89[_0xa812f6(0x1c7)](typeof _0x37dbc9,_0x4bda89['TSwJK']))throw new Error(_0x4bda89[_0xa812f6(0x1d2)]);if(_0x4bda89[_0xa812f6(0x1f7)](_0x297bb1['trim'](),''))throw new Error(_0x4bda89[_0xa812f6(0x1bf)]);if(_0x4bda89['UzcWe'](_0x37dbc9['trim'](),''))throw new Error(_0x4bda89['iwLTQ']);const _0x5c95d1=helper[_0xa812f6(0x1c5)](_0x37dbc9);if(_0x2b132b){const _0x4dd3c1=BrowserstackCLI['getInstance']()[_0xa812f6(0x1df)][TestHubModule[_0xa812f6(0x1f5)]];if(_0x4dd3c1){const _0xdb9e77=_0x4dd3c1?.[_0xa812f6(0x1e4)]?.[_0xa812f6(0x1fa)]()?.['buildHashedId'];TestInfo['getTestUUID'](_0xdb9e77);const _0x38bf77=TestInfo[_0xa812f6(0x1ce)](_0xdb9e77),_0x54cd35=_0x38bf77[TestFrameworkConstants[_0xa812f6(0x1cd)]]||{};if(!_0x54cd35[_0x297bb1]){const _0x2701c2={};_0x2701c2['field_type']=_0x4bda89['WUFTX'],_0x2701c2[_0xa812f6(0x1c3)]=[..._0x5c95d1],_0x54cd35[_0x297bb1]=_0x2701c2;}else _0x54cd35[_0x297bb1][_0xa812f6(0x1c3)]=[..._0x5c95d1];_0x38bf77[TestFrameworkConstants[_0xa812f6(0x1cd)]]=_0x54cd35,TestInfo['setTestDetails'](_0xdb9e77,_0x38bf77),!this['buildLevelTags'][_0xdb9e77]&&(this[_0xa812f6(0x1b7)][_0xdb9e77]={}),this['buildLevelTags'][_0xdb9e77][_0x297bb1]=[..._0x5c95d1];}}else{let _0x27b0ad;const _0x52a806=global[_0xa812f6(0x1e2)];let _0x3b5ced=![];if(_0x52a806&&_0x52a806[_0xa812f6(0x1f4)](_0x4bda89[_0xa812f6(0x1fb)]))_0x3b5ced=!![],_0x27b0ad=_0x52a806;else try{const _0xa13660=_0x4bda89[_0xa812f6(0x205)](require,_0x4bda89[_0xa812f6(0x1b9)]);if(BrowserstackCLI[_0xa812f6(0x1e5)]()[_0xa812f6(0x1d6)]()){const _0x552f95=_0xa13660['getTestFrameworkDetail']();if(_0x4bda89[_0xa812f6(0x1f7)](_0x552f95?.['name']?.['toLowerCase'](),_0x4bda89[_0xa812f6(0x1c2)])){const _0x13cea9=AutomationFramework[_0xa812f6(0x1e8)]();_0x27b0ad=AutomationFramework['getState'](_0x13cea9,PlaywrightDriverModule[_0xa812f6(0x1e0)],''),_0x27b0ad&&_0x27b0ad['includes'](_0x4bda89[_0xa812f6(0x1fb)])&&(_0x3b5ced=!![]);}}}catch(_0x5c8816){logger['debug'](_0xa812f6(0x200)+_0x5c8816);}if(_0x3b5ced){if(!_0x27b0ad)throw new Error(_0x4bda89[_0xa812f6(0x1f2)]);const _0x38da3e=BrowserstackCLI[_0xa812f6(0x1e5)]()[_0xa812f6(0x1eb)]();if(!_0x38da3e)throw new Error(_0x4bda89['rbahu']);const _0x8602c=_0x4bda89['gABrS'](require,_0x4bda89[_0xa812f6(0x1ff)]),_0x4a8536=_0x4bda89[_0xa812f6(0x1c4)](require,_0x4bda89['AOdgH']),_0xf54623=_0x38da3e['resolveInstance'](_0x8602c[_0xa812f6(0x1e9)],_0x4a8536[_0xa812f6(0x1dc)]);if(!_0xf54623)throw new Error(_0x4bda89[_0xa812f6(0x1f1)]);const _0xef9e6a=_0xf54623[_0xa812f6(0x1b6)]()[_0xa812f6(0x1cc)](_0x27b0ad)||{},_0x413f64=_0xef9e6a[TestFrameworkConstants[_0xa812f6(0x1cd)]]||{};logger[_0xa812f6(0x1d0)](_0xa812f6(0x1d8)+_0x27b0ad+_0xa812f6(0x1ca)+_0x297bb1+',\x20values='+JSON[_0xa812f6(0x1bd)](_0x5c95d1)+_0xa812f6(0x1fd)+JSON[_0xa812f6(0x1bd)](_0x413f64));if(!_0x413f64[_0x297bb1]){const _0x483df2={};_0x483df2['field_type']=_0x4bda89[_0xa812f6(0x1d7)],_0x483df2[_0xa812f6(0x1c3)]=[..._0x5c95d1],_0x413f64[_0x297bb1]=_0x483df2,logger[_0xa812f6(0x1d0)](_0xa812f6(0x1ec)+_0x297bb1+_0xa812f6(0x1ba)+JSON[_0xa812f6(0x1bd)](_0x5c95d1));}else _0x413f64[_0x297bb1][_0xa812f6(0x1c3)]=[..._0x5c95d1],logger[_0xa812f6(0x1d0)]('[CustomTagManager]\x20setCustomTags:\x20Updated\x20existing\x20tag\x20key='+_0x297bb1+_0xa812f6(0x1f8)+JSON[_0xa812f6(0x1bd)](_0x5c95d1));const _0x17dbda={[TestFrameworkConstants[_0xa812f6(0x1cd)]]:_0x413f64},_0x281548={};_0x281548[_0x27b0ad]=_0x17dbda,_0xf54623[_0xa812f6(0x1e7)](_0x281548),logger[_0xa812f6(0x1d0)](_0xa812f6(0x1f9)+_0x27b0ad+',\x20finalTags='+JSON[_0xa812f6(0x1bd)](_0x413f64)),!this[_0xa812f6(0x204)][_0x27b0ad]&&(this[_0xa812f6(0x204)][_0x27b0ad]={}),this[_0xa812f6(0x204)][_0x27b0ad][_0x297bb1]=[..._0x5c95d1];}else{const _0x12d6ed=global['__workerDetails']?.[_0xa812f6(0x1fe)]?.[_0xa812f6(0x1c6)];if(!_0x12d6ed){const _0x1f31c2=AutomationFramework['getTrackedInstance']();_0x27b0ad=AutomationFramework['getState'](_0x1f31c2,PlaywrightDriverModule[_0xa812f6(0x1e0)],'');}else _0x27b0ad=TestInfo[_0xa812f6(0x1b8)](_0x12d6ed,_0x12d6ed['retry']);const _0x1fca0c=TestInfo[_0xa812f6(0x1ce)](_0x27b0ad),_0x468e73=_0x1fca0c[TestFrameworkConstants[_0xa812f6(0x1cd)]]||{};if(!_0x468e73[_0x297bb1]){const _0x2dc649={};_0x2dc649[_0xa812f6(0x1bc)]=_0x4bda89[_0xa812f6(0x1d7)],_0x2dc649[_0xa812f6(0x1c3)]=[..._0x5c95d1],_0x468e73[_0x297bb1]=_0x2dc649;}else _0x468e73[_0x297bb1][_0xa812f6(0x1c3)]=[..._0x5c95d1];_0x1fca0c[TestFrameworkConstants['KEY_CUSTOM_TAGS']]=_0x468e73,TestInfo[_0xa812f6(0x1be)](_0x27b0ad,_0x1fca0c),!this['testLevelTags'][_0x27b0ad]&&(this[_0xa812f6(0x204)][_0x27b0ad]={}),this[_0xa812f6(0x204)][_0x27b0ad][_0x297bb1]=[..._0x5c95d1];}}}static[a65_0x515b37(0x202)](){const _0x2930d5=a65_0x515b37,_0x6c6570={...this[_0x2930d5(0x1b7)]};return _0x6c6570;}static[a65_0x515b37(0x1dd)](){const _0x221908={...this['testLevelTags']};return _0x221908;}static['clearTags'](){const _0x31ef96=a65_0x515b37;this[_0x31ef96(0x1b7)]={},this[_0x31ef96(0x204)]={};}}module[a65_0x515b37(0x201)]=CustomTagManager;