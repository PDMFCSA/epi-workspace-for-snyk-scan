'use strict';const a65_0x155d74=a65_0x25ea;(function(_0x25e37f,_0x4b2fd2){const _0x26d448=a65_0x25ea,_0x332d72=_0x25e37f();while(!![]){try{const _0x2194b4=parseInt(_0x26d448(0x19d))/0x1*(-parseInt(_0x26d448(0x199))/0x2)+-parseInt(_0x26d448(0x1a1))/0x3+parseInt(_0x26d448(0x188))/0x4*(-parseInt(_0x26d448(0x1bb))/0x5)+parseInt(_0x26d448(0x1bd))/0x6+-parseInt(_0x26d448(0x182))/0x7*(-parseInt(_0x26d448(0x18f))/0x8)+parseInt(_0x26d448(0x1ad))/0x9*(-parseInt(_0x26d448(0x1c4))/0xa)+parseInt(_0x26d448(0x19b))/0xb*(parseInt(_0x26d448(0x1a7))/0xc);if(_0x2194b4===_0x4b2fd2)break;else _0x332d72['push'](_0x332d72['shift']());}catch(_0x2ffd29){_0x332d72['push'](_0x332d72['shift']());}}}(a65_0x20f8,0xdfb8d));function a65_0x25ea(_0x2081c3,_0x8681cc){const _0x20f8d2=a65_0x20f8();return a65_0x25ea=function(_0x25ea54,_0x5c8bd5){_0x25ea54=_0x25ea54-0x17b;let _0x37ca49=_0x20f8d2[_0x25ea54];return _0x37ca49;},a65_0x25ea(_0x2081c3,_0x8681cc);}const BrowserstackCLI=require(a65_0x155d74(0x1a6)),helper=require('../../helpers/helper'),AutomationFramework=require(a65_0x155d74(0x1a2)),TestFrameworkConstants=require(a65_0x155d74(0x191)),PlaywrightDriverModule=require(a65_0x155d74(0x1cc)),TestInfo=require('./TestInfo'),TestHubModule=require(a65_0x155d74(0x18c)),{createClassLogger}=require(a65_0x155d74(0x183)),logger=createClassLogger('CustomTagManager');class CustomTagManager{static ['buildLevelTags']={};static [a65_0x155d74(0x1c3)]={};static[a65_0x155d74(0x1b9)](_0x4e3687,_0x436a95,_0x3bf042=![]){const _0x11b0c8=a65_0x155d74,_0x3c14d8={'kGTKj':function(_0x2d4f50,_0x381814){return _0x2d4f50!==_0x381814;},'qbBmP':'string','lBHED':_0x11b0c8(0x1ac),'XrQxL':_0x11b0c8(0x194),'txpyY':function(_0xeb9cae,_0x50d5f2){return _0xeb9cae===_0x50d5f2;},'FxgdN':_0x11b0c8(0x1a8),'ZBeFu':_0x11b0c8(0x1be),'WYMzN':_0x11b0c8(0x189),'xukKN':_0x11b0c8(0x195),'qZeBK':function(_0x469fb4,_0x2e7716){return _0x469fb4(_0x2e7716);},'nZQMr':_0x11b0c8(0x1cd),'PViWy':'jest','wXyDi':'CustomTagManager.setCustomTags:\x20No\x20testIdentifier\x20found\x20for\x20Jest+Playwright.\x20This\x20may\x20occur\x20if\x20setCustomTags\x20is\x20called\x20outside\x20test\x20context.','Nlvbt':'CustomTagManager.setCustomTags:\x20TestFramework\x20not\x20available\x20for\x20Jest+Playwright','vaVTY':'./state/testFrameworkState','zgLPR':_0x11b0c8(0x1b8),'TAAmd':_0x11b0c8(0x1c2)};if(_0x3c14d8[_0x11b0c8(0x186)](typeof _0x4e3687,_0x3c14d8[_0x11b0c8(0x1c5)]))throw new Error(_0x3c14d8['lBHED']);if(_0x3c14d8['kGTKj'](typeof _0x436a95,_0x3c14d8[_0x11b0c8(0x1c5)]))throw new Error(_0x3c14d8[_0x11b0c8(0x198)]);if(_0x3c14d8[_0x11b0c8(0x184)](_0x4e3687[_0x11b0c8(0x1b5)](),''))throw new Error(_0x3c14d8[_0x11b0c8(0x192)]);if(_0x3c14d8[_0x11b0c8(0x184)](_0x436a95['trim'](),''))throw new Error(_0x3c14d8[_0x11b0c8(0x1c9)]);const _0x28a0bd=helper[_0x11b0c8(0x1b6)](_0x436a95);if(_0x3bf042){const _0x32f603=BrowserstackCLI['getInstance']()[_0x11b0c8(0x187)][TestHubModule[_0x11b0c8(0x1c6)]];if(_0x32f603){const _0x4f5e04=_0x32f603?.[_0x11b0c8(0x1b7)]?.[_0x11b0c8(0x17d)]()?.[_0x11b0c8(0x1ab)];TestInfo['getTestUUID'](_0x4f5e04);const _0xe81303=TestInfo[_0x11b0c8(0x197)](_0x4f5e04),_0x358bfb=_0xe81303[TestFrameworkConstants[_0x11b0c8(0x1a4)]]||{};if(!_0x358bfb[_0x4e3687]){const _0x46f684={};_0x46f684[_0x11b0c8(0x1b2)]=_0x3c14d8[_0x11b0c8(0x17c)],_0x46f684['values']=[..._0x28a0bd],_0x358bfb[_0x4e3687]=_0x46f684;}else _0x358bfb[_0x4e3687][_0x11b0c8(0x18a)]=[..._0x28a0bd];_0xe81303[TestFrameworkConstants[_0x11b0c8(0x1a4)]]=_0x358bfb,TestInfo['setTestDetails'](_0x4f5e04,_0xe81303),!this[_0x11b0c8(0x19f)][_0x4f5e04]&&(this[_0x11b0c8(0x19f)][_0x4f5e04]={}),this[_0x11b0c8(0x19f)][_0x4f5e04][_0x4e3687]=[..._0x28a0bd];}}else{let _0x5664c7;const _0x128811=global[_0x11b0c8(0x1b4)];let _0x3220b7=![];if(_0x128811&&_0x128811[_0x11b0c8(0x1ca)](_0x3c14d8[_0x11b0c8(0x1ba)]))_0x3220b7=!![],_0x5664c7=_0x128811;else try{const _0x3c2c47=_0x3c14d8[_0x11b0c8(0x181)](require,_0x3c14d8[_0x11b0c8(0x18d)]);if(BrowserstackCLI[_0x11b0c8(0x1c1)]()[_0x11b0c8(0x1d0)]()){const _0x16d315=_0x3c2c47[_0x11b0c8(0x1b1)]();if(_0x3c14d8[_0x11b0c8(0x184)](_0x16d315?.['name']?.[_0x11b0c8(0x1c7)](),_0x3c14d8[_0x11b0c8(0x18b)])){const _0x473258=AutomationFramework[_0x11b0c8(0x1ae)]();_0x5664c7=AutomationFramework['getState'](_0x473258,PlaywrightDriverModule[_0x11b0c8(0x185)],''),_0x5664c7&&_0x5664c7[_0x11b0c8(0x1ca)](_0x3c14d8[_0x11b0c8(0x1ba)])&&(_0x3220b7=!![]);}}}catch(_0x5eefbd){logger[_0x11b0c8(0x19e)]('CustomTagManager.setCustomTags\x20:\x20Error\x20detecting\x20Jest+Playwright:\x20'+_0x5eefbd);}if(_0x3220b7){if(!_0x5664c7)throw new Error(_0x3c14d8[_0x11b0c8(0x1c0)]);const _0x39a21e=BrowserstackCLI[_0x11b0c8(0x1c1)]()['getTestFramework']();if(!_0x39a21e)throw new Error(_0x3c14d8['Nlvbt']);const _0x56f5fb=_0x3c14d8[_0x11b0c8(0x181)](require,_0x3c14d8[_0x11b0c8(0x1cb)]),_0x51a4da=_0x3c14d8['qZeBK'](require,_0x3c14d8[_0x11b0c8(0x1aa)]),_0xb5372f=_0x39a21e[_0x11b0c8(0x17b)](_0x56f5fb['TEST'],_0x51a4da['POST']);if(!_0xb5372f)throw new Error(_0x3c14d8[_0x11b0c8(0x1a3)]);const _0x45c179=_0xb5372f['getAllData']()[_0x11b0c8(0x1af)](_0x5664c7)||{},_0x4506cf=_0x45c179[TestFrameworkConstants[_0x11b0c8(0x1a4)]]||{};logger[_0x11b0c8(0x19e)](_0x11b0c8(0x180)+_0x5664c7+_0x11b0c8(0x1b0)+_0x4e3687+',\x20values='+JSON['stringify'](_0x28a0bd)+',\x20existingTags='+JSON['stringify'](_0x4506cf));if(!_0x4506cf[_0x4e3687]){const _0x1187fc={};_0x1187fc[_0x11b0c8(0x1b2)]=_0x3c14d8[_0x11b0c8(0x17c)],_0x1187fc[_0x11b0c8(0x18a)]=[..._0x28a0bd],_0x4506cf[_0x4e3687]=_0x1187fc,logger[_0x11b0c8(0x19e)](_0x11b0c8(0x196)+_0x4e3687+_0x11b0c8(0x18e)+JSON[_0x11b0c8(0x1c8)](_0x28a0bd));}else _0x4506cf[_0x4e3687][_0x11b0c8(0x18a)]=[..._0x28a0bd],logger['debug'](_0x11b0c8(0x17e)+_0x4e3687+_0x11b0c8(0x193)+JSON['stringify'](_0x28a0bd));const _0x294e60={[TestFrameworkConstants['KEY_CUSTOM_TAGS']]:_0x4506cf},_0x30bf3c={};_0x30bf3c[_0x5664c7]=_0x294e60,_0xb5372f[_0x11b0c8(0x1a0)](_0x30bf3c),logger[_0x11b0c8(0x19e)](_0x11b0c8(0x1a5)+_0x5664c7+_0x11b0c8(0x1bc)+JSON[_0x11b0c8(0x1c8)](_0x4506cf)),!this['testLevelTags'][_0x5664c7]&&(this[_0x11b0c8(0x1c3)][_0x5664c7]={}),this[_0x11b0c8(0x1c3)][_0x5664c7][_0x4e3687]=[..._0x28a0bd];}else{const _0x3a0365=global[_0x11b0c8(0x1a9)]?.[_0x11b0c8(0x19a)]?.['testInfo'];if(!_0x3a0365){const _0x103c4f=AutomationFramework['getTrackedInstance']();_0x5664c7=AutomationFramework[_0x11b0c8(0x1b3)](_0x103c4f,PlaywrightDriverModule[_0x11b0c8(0x185)],'');}else _0x5664c7=TestInfo['getTestIdentifierFromTestInfo'](_0x3a0365,_0x3a0365[_0x11b0c8(0x1bf)]);const _0x569bd3=TestInfo[_0x11b0c8(0x197)](_0x5664c7),_0x52266a=_0x569bd3[TestFrameworkConstants[_0x11b0c8(0x1a4)]]||{};if(!_0x52266a[_0x4e3687]){const _0x310717={};_0x310717[_0x11b0c8(0x1b2)]=_0x3c14d8[_0x11b0c8(0x17c)],_0x310717[_0x11b0c8(0x18a)]=[..._0x28a0bd],_0x52266a[_0x4e3687]=_0x310717;}else _0x52266a[_0x4e3687][_0x11b0c8(0x18a)]=[..._0x28a0bd];_0x569bd3[TestFrameworkConstants[_0x11b0c8(0x1a4)]]=_0x52266a,TestInfo[_0x11b0c8(0x19c)](_0x5664c7,_0x569bd3),!this[_0x11b0c8(0x1c3)][_0x5664c7]&&(this[_0x11b0c8(0x1c3)][_0x5664c7]={}),this['testLevelTags'][_0x5664c7][_0x4e3687]=[..._0x28a0bd];}}}static[a65_0x155d74(0x190)](){const _0x331a7c={...this['buildLevelTags']};return _0x331a7c;}static[a65_0x155d74(0x1ce)](){const _0x5b3bf4=a65_0x155d74,_0x274af8={...this[_0x5b3bf4(0x1c3)]};return _0x274af8;}static[a65_0x155d74(0x17f)](){const _0x197859=a65_0x155d74;this[_0x197859(0x19f)]={},this[_0x197859(0x1c3)]={};}}function a65_0x20f8(){const _0x964d15=['isRunning','resolveInstance','WYMzN','toObject','[CustomTagManager]\x20setCustomTags:\x20Updated\x20existing\x20tag\x20key=','clearTags','[CustomTagManager]\x20setCustomTags:\x20Jest+Playwright\x20-\x20testIdentifier=','qZeBK','8890nYbWOJ','../../helpers/classLogger','txpyY','KEY_TEST_ID','kGTKj','modules','5901628ZhyHRU','multi_dropdown','values','PViWy','./modules/testhubModule','nZQMr','\x20with\x20values=','7848iDnBme','getBuildLevelTags','./framework/constants/testFrameworkConstants','FxgdN','\x20with\x20new\x20values=','Custom\x20tag\x20value\x20must\x20be\x20a\x20string',':jest-','[CustomTagManager]\x20setCustomTags:\x20Created\x20new\x20tag\x20key=','getTestDetails','XrQxL','57578BqdDJp','currentTest','19941955JfoSLJ','setTestDetails','17MqjJVL','debug','buildLevelTags','addMultipleEntries','3612462mzMuKR','./framework/automationFramework','TAAmd','KEY_CUSTOM_TAGS','[CustomTagManager]\x20setCustomTags:\x20Stored\x20customTags\x20in\x20instance\x20memory\x20for\x20testIdentifier=','./browserstackCLI','12vsjCrI','Custom\x20tag\x20key\x20cannot\x20be\x20empty','__workerDetails','zgLPR','buildHashedId','Custom\x20tag\x20key\x20must\x20be\x20a\x20string','36lspzAd','getTrackedInstance','get',',\x20key=','getTestFrameworkDetail','field_type','getState','__jestCurrentTestIdentifier','trim','parseCommaSeparatedValues','testhubConfig','./state/hookState','setCustomTags','xukKN','5hVSVim',',\x20finalTags=','9774480TFPiJn','Custom\x20tag\x20value\x20cannot\x20be\x20empty','retry','wXyDi','getInstance','CustomTagManager.setCustomTags:\x20Instance\x20not\x20available\x20for\x20Jest+Playwright','testLevelTags','1506290MqoyHS','qbBmP','MODULE_NAME','toLowerCase','stringify','ZBeFu','includes','vaVTY','./modules/playwrightDriverModule','./cliUtils','getTestLevelTags','exports'];a65_0x20f8=function(){return _0x964d15;};return a65_0x20f8();}module[a65_0x155d74(0x1cf)]=CustomTagManager;