'use strict';const a65_0x2dfa09=a65_0x553d;function a65_0x553d(_0x448431,_0x35bd16){const _0x4fd12c=a65_0x4fd1();return a65_0x553d=function(_0x553d7c,_0x5d2f23){_0x553d7c=_0x553d7c-0xf7;let _0x191a8f=_0x4fd12c[_0x553d7c];return _0x191a8f;},a65_0x553d(_0x448431,_0x35bd16);}(function(_0x285d67,_0x25751d){const _0x5a4e19=a65_0x553d,_0x14d568=_0x285d67();while(!![]){try{const _0x5f0e99=-parseInt(_0x5a4e19(0x14f))/0x1+parseInt(_0x5a4e19(0x12b))/0x2+parseInt(_0x5a4e19(0x10d))/0x3*(-parseInt(_0x5a4e19(0x111))/0x4)+-parseInt(_0x5a4e19(0xff))/0x5*(-parseInt(_0x5a4e19(0xf9))/0x6)+-parseInt(_0x5a4e19(0x143))/0x7+-parseInt(_0x5a4e19(0x136))/0x8+parseInt(_0x5a4e19(0x148))/0x9*(parseInt(_0x5a4e19(0x11c))/0xa);if(_0x5f0e99===_0x25751d)break;else _0x14d568['push'](_0x14d568['shift']());}catch(_0x4c7bab){_0x14d568['push'](_0x14d568['shift']());}}}(a65_0x4fd1,0x7f8e4));function a65_0x4fd1(){const _0x18bad1=['retry','__workerDetails','getTestFramework','debug','zifmu','getAllData','./framework/constants/testFrameworkConstants','../../helpers/classLogger','MODULE_NAME','7589030UYyCGl','getTestUUID','duQWX','KEY_TEST_ID','addMultipleEntries','zBRIS','vxjFX','jest','GHjEd','[CustomTagManager]\x20setCustomTags:\x20Jest+Playwright\x20-\x20testIdentifier=','CustomTagManager.setCustomTags\x20:\x20Error\x20detecting\x20Jest+Playwright:\x20','./TestInfo','\x20with\x20values=','toLowerCase','cCNDx','943354mbWOKS','values','field_type','modules','isRunning','TEST','testInfo','Custom\x20tag\x20key\x20cannot\x20be\x20empty','getState','BLijc','get','7350680ZwLSIA','testLevelTags','DnKgr','wLuWd','clearTags','Custom\x20tag\x20key\x20must\x20be\x20a\x20string','__jestCurrentTestIdentifier','[CustomTagManager]\x20setCustomTags:\x20Stored\x20customTags\x20in\x20instance\x20memory\x20for\x20testIdentifier=','Custom\x20tag\x20value\x20must\x20be\x20a\x20string','name','OEPLH','getInstance','getTestFrameworkDetail','5462100mUNjtd','setCustomTags','getBuildLevelTags','dnVyk','getTestIdentifierFromTestInfo','18mRThoc','resolveInstance','includes','edTcY','Custom\x20tag\x20value\x20cannot\x20be\x20empty','CustomTagManager.setCustomTags:\x20TestFramework\x20not\x20available\x20for\x20Jest+Playwright','POST','453981AkNBEj','KEY_CUSTOM_TAGS','trim','./modules/testhubModule','buildLevelTags',',\x20existingTags=','YGaCd','2451246zTZkKE','[CustomTagManager]\x20setCustomTags:\x20Updated\x20existing\x20tag\x20key=','LOaDB','aUROz','multi_dropdown','Ciiil','10dLEbhp','getTestLevelTags','stringify',',\x20finalTags=','getTestDetails','gAPLt',',\x20values=','buildHashedId','\x20with\x20new\x20values=','setTestDetails','Mcvdf','CustomTagManager','./framework/automationFramework','./state/testFrameworkState','3ULBaLA','getTrackedInstance','testhubConfig','CustomTagManager.setCustomTags:\x20No\x20testIdentifier\x20found\x20for\x20Jest+Playwright.\x20This\x20may\x20occur\x20if\x20setCustomTags\x20is\x20called\x20outside\x20test\x20context.','523924MyXmqW','./cliUtils'];a65_0x4fd1=function(){return _0x18bad1;};return a65_0x4fd1();}const BrowserstackCLI=require('./browserstackCLI'),helper=require('../../helpers/helper'),AutomationFramework=require(a65_0x2dfa09(0x10b)),TestFrameworkConstants=require(a65_0x2dfa09(0x119)),PlaywrightDriverModule=require('./modules/playwrightDriverModule'),TestInfo=require(a65_0x2dfa09(0x127)),TestHubModule=require(a65_0x2dfa09(0x152)),{createClassLogger}=require(a65_0x2dfa09(0x11a)),logger=createClassLogger(a65_0x2dfa09(0x10a));class CustomTagManager{static [a65_0x2dfa09(0x153)]={};static [a65_0x2dfa09(0x137)]={};static[a65_0x2dfa09(0x144)](_0x3c1846,_0x174f05,_0x2fd9c0=![]){const _0x311cb1=a65_0x2dfa09,_0x40bd92={'gAPLt':function(_0x4f3679,_0xbebe60){return _0x4f3679!==_0xbebe60;},'YGaCd':'string','duQWX':_0x311cb1(0x13b),'zifmu':_0x311cb1(0x13e),'GHjEd':function(_0x145761,_0x380e85){return _0x145761===_0x380e85;},'zBRIS':_0x311cb1(0x132),'Mcvdf':function(_0x58921a,_0xc06e37){return _0x58921a===_0xc06e37;},'vxjFX':_0x311cb1(0x14c),'dnVyk':_0x311cb1(0xfd),'cCNDx':':jest-','iyYAG':function(_0xdb954,_0x593140){return _0xdb954(_0x593140);},'DnKgr':_0x311cb1(0x112),'wLuWd':_0x311cb1(0x123),'LOaDB':_0x311cb1(0x110),'ZQQAd':_0x311cb1(0x14d),'OEPLH':function(_0x4f9e6d,_0x1b81a2){return _0x4f9e6d(_0x1b81a2);},'aUROz':_0x311cb1(0x10c),'BLijc':function(_0x53ed1e,_0x5e9cfb){return _0x53ed1e(_0x5e9cfb);},'Ciiil':'./state/hookState','edTcY':'CustomTagManager.setCustomTags:\x20Instance\x20not\x20available\x20for\x20Jest+Playwright'};if(_0x40bd92[_0x311cb1(0x104)](typeof _0x3c1846,_0x40bd92[_0x311cb1(0xf8)]))throw new Error(_0x40bd92[_0x311cb1(0x11e)]);if(_0x40bd92[_0x311cb1(0x104)](typeof _0x174f05,_0x40bd92['YGaCd']))throw new Error(_0x40bd92[_0x311cb1(0x117)]);if(_0x40bd92[_0x311cb1(0x124)](_0x3c1846['trim'](),''))throw new Error(_0x40bd92[_0x311cb1(0x121)]);if(_0x40bd92[_0x311cb1(0x109)](_0x174f05[_0x311cb1(0x151)](),''))throw new Error(_0x40bd92[_0x311cb1(0x122)]);const _0x5047d1=helper['parseCommaSeparatedValues'](_0x174f05);if(_0x2fd9c0){const _0x21212d=BrowserstackCLI['getInstance']()[_0x311cb1(0x12e)][TestHubModule[_0x311cb1(0x11b)]];if(_0x21212d){const _0x32676e=_0x21212d?.[_0x311cb1(0x10f)]?.['toObject']()?.[_0x311cb1(0x106)];TestInfo[_0x311cb1(0x11d)](_0x32676e);const _0xf12de4=TestInfo['getTestDetails'](_0x32676e),_0x482557=_0xf12de4[TestFrameworkConstants[_0x311cb1(0x150)]]||{};if(!_0x482557[_0x3c1846]){const _0x5b03eb={};_0x5b03eb[_0x311cb1(0x12d)]=_0x40bd92[_0x311cb1(0x146)],_0x5b03eb['values']=[..._0x5047d1],_0x482557[_0x3c1846]=_0x5b03eb;}else _0x482557[_0x3c1846][_0x311cb1(0x12c)]=[..._0x5047d1];_0xf12de4[TestFrameworkConstants['KEY_CUSTOM_TAGS']]=_0x482557,TestInfo[_0x311cb1(0x108)](_0x32676e,_0xf12de4),!this[_0x311cb1(0x153)][_0x32676e]&&(this[_0x311cb1(0x153)][_0x32676e]={}),this['buildLevelTags'][_0x32676e][_0x3c1846]=[..._0x5047d1];}}else{let _0x4da1cd;const _0x332817=global[_0x311cb1(0x13c)];let _0x2a9261=![];if(_0x332817&&_0x332817[_0x311cb1(0x14a)](_0x40bd92[_0x311cb1(0x12a)]))_0x2a9261=!![],_0x4da1cd=_0x332817;else try{const _0x5d2c17=_0x40bd92['iyYAG'](require,_0x40bd92[_0x311cb1(0x138)]);if(BrowserstackCLI[_0x311cb1(0x141)]()[_0x311cb1(0x12f)]()){const _0x2a9c86=_0x5d2c17[_0x311cb1(0x142)]();if(_0x40bd92[_0x311cb1(0x109)](_0x2a9c86?.[_0x311cb1(0x13f)]?.[_0x311cb1(0x129)](),_0x40bd92[_0x311cb1(0x139)])){const _0x181a2b=AutomationFramework[_0x311cb1(0x10e)]();_0x4da1cd=AutomationFramework['getState'](_0x181a2b,PlaywrightDriverModule[_0x311cb1(0x11f)],''),_0x4da1cd&&_0x4da1cd[_0x311cb1(0x14a)](_0x40bd92[_0x311cb1(0x12a)])&&(_0x2a9261=!![]);}}}catch(_0x48cf44){logger[_0x311cb1(0x116)](_0x311cb1(0x126)+_0x48cf44);}if(_0x2a9261){if(!_0x4da1cd)throw new Error(_0x40bd92[_0x311cb1(0xfb)]);const _0x459d29=BrowserstackCLI[_0x311cb1(0x141)]()[_0x311cb1(0x115)]();if(!_0x459d29)throw new Error(_0x40bd92['ZQQAd']);const _0x43f26f=_0x40bd92[_0x311cb1(0x140)](require,_0x40bd92[_0x311cb1(0xfc)]),_0x346fc4=_0x40bd92[_0x311cb1(0x134)](require,_0x40bd92[_0x311cb1(0xfe)]),_0x583d02=_0x459d29[_0x311cb1(0x149)](_0x43f26f[_0x311cb1(0x130)],_0x346fc4[_0x311cb1(0x14e)]);if(!_0x583d02)throw new Error(_0x40bd92[_0x311cb1(0x14b)]);const _0x3333e9=_0x583d02[_0x311cb1(0x118)]()[_0x311cb1(0x135)](_0x4da1cd)||{},_0x1af424=_0x3333e9[TestFrameworkConstants[_0x311cb1(0x150)]]||{};logger[_0x311cb1(0x116)](_0x311cb1(0x125)+_0x4da1cd+',\x20key='+_0x3c1846+_0x311cb1(0x105)+JSON[_0x311cb1(0x101)](_0x5047d1)+_0x311cb1(0xf7)+JSON[_0x311cb1(0x101)](_0x1af424));if(!_0x1af424[_0x3c1846]){const _0x5476c6={};_0x5476c6['field_type']=_0x40bd92[_0x311cb1(0x146)],_0x5476c6[_0x311cb1(0x12c)]=[..._0x5047d1],_0x1af424[_0x3c1846]=_0x5476c6,logger['debug']('[CustomTagManager]\x20setCustomTags:\x20Created\x20new\x20tag\x20key='+_0x3c1846+_0x311cb1(0x128)+JSON[_0x311cb1(0x101)](_0x5047d1));}else _0x1af424[_0x3c1846][_0x311cb1(0x12c)]=[..._0x5047d1],logger[_0x311cb1(0x116)](_0x311cb1(0xfa)+_0x3c1846+_0x311cb1(0x107)+JSON['stringify'](_0x5047d1));const _0x5a3835={[TestFrameworkConstants[_0x311cb1(0x150)]]:_0x1af424},_0x5e6fcc={};_0x5e6fcc[_0x4da1cd]=_0x5a3835,_0x583d02[_0x311cb1(0x120)](_0x5e6fcc),logger[_0x311cb1(0x116)](_0x311cb1(0x13d)+_0x4da1cd+_0x311cb1(0x102)+JSON['stringify'](_0x1af424)),!this[_0x311cb1(0x137)][_0x4da1cd]&&(this['testLevelTags'][_0x4da1cd]={}),this[_0x311cb1(0x137)][_0x4da1cd][_0x3c1846]=[..._0x5047d1];}else{const _0x37f873=global[_0x311cb1(0x114)]?.['currentTest']?.[_0x311cb1(0x131)];if(!_0x37f873){const _0x1008f8=AutomationFramework[_0x311cb1(0x10e)]();_0x4da1cd=AutomationFramework[_0x311cb1(0x133)](_0x1008f8,PlaywrightDriverModule['KEY_TEST_ID'],'');}else _0x4da1cd=TestInfo[_0x311cb1(0x147)](_0x37f873,_0x37f873[_0x311cb1(0x113)]);const _0x13af76=TestInfo[_0x311cb1(0x103)](_0x4da1cd),_0x1ecffe=_0x13af76[TestFrameworkConstants[_0x311cb1(0x150)]]||{};if(!_0x1ecffe[_0x3c1846]){const _0x23d36f={};_0x23d36f[_0x311cb1(0x12d)]=_0x40bd92[_0x311cb1(0x146)],_0x23d36f[_0x311cb1(0x12c)]=[..._0x5047d1],_0x1ecffe[_0x3c1846]=_0x23d36f;}else _0x1ecffe[_0x3c1846][_0x311cb1(0x12c)]=[..._0x5047d1];_0x13af76[TestFrameworkConstants[_0x311cb1(0x150)]]=_0x1ecffe,TestInfo['setTestDetails'](_0x4da1cd,_0x13af76),!this[_0x311cb1(0x137)][_0x4da1cd]&&(this[_0x311cb1(0x137)][_0x4da1cd]={}),this[_0x311cb1(0x137)][_0x4da1cd][_0x3c1846]=[..._0x5047d1];}}}static[a65_0x2dfa09(0x145)](){const _0x204bc9={...this['buildLevelTags']};return _0x204bc9;}static[a65_0x2dfa09(0x100)](){const _0x1db916=a65_0x2dfa09,_0x5bc8f2={...this[_0x1db916(0x137)]};return _0x5bc8f2;}static[a65_0x2dfa09(0x13a)](){const _0x57e636=a65_0x2dfa09;this[_0x57e636(0x153)]={},this[_0x57e636(0x137)]={};}}module['exports']=CustomTagManager;