'use strict';const a65_0x275eb5=a65_0x46c3;function a65_0x46c3(_0x5a31dd,_0x3594d8){const _0x2f72d9=a65_0x2f72();return a65_0x46c3=function(_0x46c36a,_0x343024){_0x46c36a=_0x46c36a-0x9e;let _0x2b4361=_0x2f72d9[_0x46c36a];return _0x2b4361;},a65_0x46c3(_0x5a31dd,_0x3594d8);}(function(_0xb6732e,_0x124f50){const _0x2309ff=a65_0x46c3,_0x2257df=_0xb6732e();while(!![]){try{const _0x5001a4=-parseInt(_0x2309ff(0xdb))/0x1+-parseInt(_0x2309ff(0xb3))/0x2+parseInt(_0x2309ff(0xd5))/0x3*(parseInt(_0x2309ff(0xa5))/0x4)+-parseInt(_0x2309ff(0xe7))/0x5*(-parseInt(_0x2309ff(0xec))/0x6)+parseInt(_0x2309ff(0xa4))/0x7*(-parseInt(_0x2309ff(0xad))/0x8)+-parseInt(_0x2309ff(0xca))/0x9*(parseInt(_0x2309ff(0xbf))/0xa)+parseInt(_0x2309ff(0xdd))/0xb*(parseInt(_0x2309ff(0xc2))/0xc);if(_0x5001a4===_0x124f50)break;else _0x2257df['push'](_0x2257df['shift']());}catch(_0x5c733c){_0x2257df['push'](_0x2257df['shift']());}}}(a65_0x2f72,0x418d1));const BrowserstackCLI=require('./browserstackCLI'),helper=require('../../helpers/helper'),AutomationFramework=require('./framework/automationFramework'),TestFrameworkConstants=require(a65_0x275eb5(0xa3)),PlaywrightDriverModule=require(a65_0x275eb5(0xa9)),TestInfo=require('./TestInfo'),TestHubModule=require(a65_0x275eb5(0xe2)),{createClassLogger}=require(a65_0x275eb5(0xd2)),logger=createClassLogger('CustomTagManager');function a65_0x2f72(){const _0x1dede9=['Custom\x20tag\x20key\x20must\x20be\x20a\x20string',',\x20existingTags=','name','exports','resolveInstance','testLevelTags','../../helpers/classLogger','VJpaM','CustomTagManager.setCustomTags\x20:\x20Error\x20detecting\x20Jest+Playwright:\x20','441759LNmytZ','wBvli','CustomTagManager.setCustomTags:\x20TestFramework\x20not\x20available\x20for\x20Jest+Playwright','field_type','GlPJM','parseCommaSeparatedValues','182599UJsKKd','POST','8564369OggUgu','ZQkMr','__workerDetails',':jest-','setTestDetails','./modules/testhubModule','setCustomTags','bVpOH','trim','\x20with\x20values=','5joGoOY','KEY_CUSTOM_TAGS','[CustomTagManager]\x20setCustomTags:\x20Updated\x20existing\x20tag\x20key=','./cliUtils','getTestLevelTags','2817372XMuuvR','toLowerCase','getTestIdentifierFromTestInfo','getBuildLevelTags','KEY_TEST_ID','./state/testFrameworkState','ojNzB','LBSiA','values','buildLevelTags','./framework/constants/testFrameworkConstants','35exKbnJ','4uXuwTr','stringify','Custom\x20tag\x20value\x20cannot\x20be\x20empty','Custom\x20tag\x20key\x20cannot\x20be\x20empty','./modules/playwrightDriverModule','Ttkvl','isRunning','./state/hookState','556408gLJeZs','TEST','__jestCurrentTestIdentifier','XbpgI',',\x20key=','getTestDetails','420912NwjXQQ','zgDVN','eefdD','[CustomTagManager]\x20setCustomTags:\x20Jest+Playwright\x20-\x20testIdentifier=','testhubConfig',',\x20finalTags=','includes','getState','getAllData','currentTest','modules','\x20with\x20new\x20values=','170MHEreN','debug','getTrackedInstance','12zdSuOg','CustomTagManager.setCustomTags:\x20Instance\x20not\x20available\x20for\x20Jest+Playwright','retry','get','[CustomTagManager]\x20setCustomTags:\x20Created\x20new\x20tag\x20key=','TcWQp','UVnFG','getInstance','204399FupFOy','[CustomTagManager]\x20setCustomTags:\x20Stored\x20customTags\x20in\x20instance\x20memory\x20for\x20testIdentifier='];a65_0x2f72=function(){return _0x1dede9;};return a65_0x2f72();}class CustomTagManager{static [a65_0x275eb5(0xa2)]={};static [a65_0x275eb5(0xd1)]={};static[a65_0x275eb5(0xe3)](_0xd9e338,_0x8737ce,_0x192a96=![]){const _0x246853=a65_0x275eb5,_0xfffeb1={'TcWQp':function(_0x3a705b,_0x53cd01){return _0x3a705b!==_0x53cd01;},'XVfWq':'string','LBSiA':_0x246853(0xcc),'XbpgI':'Custom\x20tag\x20value\x20must\x20be\x20a\x20string','wBvli':function(_0x359282,_0x1ca67b){return _0x359282===_0x1ca67b;},'lFlwj':_0x246853(0xa8),'lgdsB':_0x246853(0xa7),'ZQkMr':'multi_dropdown','GlPJM':_0x246853(0xe0),'csDjn':function(_0x44ee83,_0x5e2569){return _0x44ee83(_0x5e2569);},'VJpaM':_0x246853(0xea),'UVnFG':'jest','Ttkvl':'CustomTagManager.setCustomTags:\x20No\x20testIdentifier\x20found\x20for\x20Jest+Playwright.\x20This\x20may\x20occur\x20if\x20setCustomTags\x20is\x20called\x20outside\x20test\x20context.','ojNzB':_0x246853(0xd7),'bVpOH':function(_0x493996,_0x553441){return _0x493996(_0x553441);},'eefdD':_0x246853(0x9e),'zgDVN':function(_0x2de35e,_0x4d5803){return _0x2de35e(_0x4d5803);},'HBEir':_0x246853(0xac),'iFYfu':_0x246853(0xc3)};if(_0xfffeb1[_0x246853(0xc7)](typeof _0xd9e338,_0xfffeb1['XVfWq']))throw new Error(_0xfffeb1[_0x246853(0xa0)]);if(_0xfffeb1[_0x246853(0xc7)](typeof _0x8737ce,_0xfffeb1['XVfWq']))throw new Error(_0xfffeb1[_0x246853(0xb0)]);if(_0xfffeb1[_0x246853(0xd6)](_0xd9e338[_0x246853(0xe5)](),''))throw new Error(_0xfffeb1['lFlwj']);if(_0xfffeb1['wBvli'](_0x8737ce[_0x246853(0xe5)](),''))throw new Error(_0xfffeb1['lgdsB']);const _0x32e88c=helper[_0x246853(0xda)](_0x8737ce);if(_0x192a96){const _0x327dba=BrowserstackCLI[_0x246853(0xc9)]()[_0x246853(0xbd)][TestHubModule['MODULE_NAME']];if(_0x327dba){const _0x3bc495=_0x327dba?.[_0x246853(0xb7)]?.['toObject']()?.['buildHashedId'];TestInfo['getTestUUID'](_0x3bc495);const _0x51c0f6=TestInfo[_0x246853(0xb2)](_0x3bc495),_0x5f538b=_0x51c0f6[TestFrameworkConstants[_0x246853(0xe8)]]||{};if(!_0x5f538b[_0xd9e338]){const _0x3509b0={};_0x3509b0[_0x246853(0xd8)]=_0xfffeb1[_0x246853(0xde)],_0x3509b0[_0x246853(0xa1)]=[..._0x32e88c],_0x5f538b[_0xd9e338]=_0x3509b0;}else _0x5f538b[_0xd9e338][_0x246853(0xa1)]=[..._0x32e88c];_0x51c0f6[TestFrameworkConstants[_0x246853(0xe8)]]=_0x5f538b,TestInfo['setTestDetails'](_0x3bc495,_0x51c0f6),!this['buildLevelTags'][_0x3bc495]&&(this[_0x246853(0xa2)][_0x3bc495]={}),this[_0x246853(0xa2)][_0x3bc495][_0xd9e338]=[..._0x32e88c];}}else{let _0x1e677d;const _0x2989db=global[_0x246853(0xaf)];let _0x197a5e=![];if(_0x2989db&&_0x2989db['includes'](_0xfffeb1['GlPJM']))_0x197a5e=!![],_0x1e677d=_0x2989db;else try{const _0xf33d8a=_0xfffeb1['csDjn'](require,_0xfffeb1[_0x246853(0xd3)]);if(BrowserstackCLI[_0x246853(0xc9)]()[_0x246853(0xab)]()){const _0x268c26=_0xf33d8a['getTestFrameworkDetail']();if(_0xfffeb1[_0x246853(0xd6)](_0x268c26?.[_0x246853(0xce)]?.[_0x246853(0xed)](),_0xfffeb1[_0x246853(0xc8)])){const _0x5f70e9=AutomationFramework['getTrackedInstance']();_0x1e677d=AutomationFramework[_0x246853(0xba)](_0x5f70e9,PlaywrightDriverModule['KEY_TEST_ID'],''),_0x1e677d&&_0x1e677d[_0x246853(0xb9)](_0xfffeb1[_0x246853(0xd9)])&&(_0x197a5e=!![]);}}}catch(_0x277dd1){logger[_0x246853(0xc0)](_0x246853(0xd4)+_0x277dd1);}if(_0x197a5e){if(!_0x1e677d)throw new Error(_0xfffeb1[_0x246853(0xaa)]);const _0x12d207=BrowserstackCLI['getInstance']()['getTestFramework']();if(!_0x12d207)throw new Error(_0xfffeb1[_0x246853(0x9f)]);const _0x352a37=_0xfffeb1[_0x246853(0xe4)](require,_0xfffeb1[_0x246853(0xb5)]),_0x943f43=_0xfffeb1[_0x246853(0xb4)](require,_0xfffeb1['HBEir']),_0x334b3f=_0x12d207[_0x246853(0xd0)](_0x352a37[_0x246853(0xae)],_0x943f43[_0x246853(0xdc)]);if(!_0x334b3f)throw new Error(_0xfffeb1['iFYfu']);const _0x528efa=_0x334b3f[_0x246853(0xbb)]()[_0x246853(0xc5)](_0x1e677d)||{},_0x48721f=_0x528efa[TestFrameworkConstants[_0x246853(0xe8)]]||{};logger['debug'](_0x246853(0xb6)+_0x1e677d+_0x246853(0xb1)+_0xd9e338+',\x20values='+JSON[_0x246853(0xa6)](_0x32e88c)+_0x246853(0xcd)+JSON[_0x246853(0xa6)](_0x48721f));if(!_0x48721f[_0xd9e338]){const _0x56b546={};_0x56b546[_0x246853(0xd8)]=_0xfffeb1[_0x246853(0xde)],_0x56b546[_0x246853(0xa1)]=[..._0x32e88c],_0x48721f[_0xd9e338]=_0x56b546,logger[_0x246853(0xc0)](_0x246853(0xc6)+_0xd9e338+_0x246853(0xe6)+JSON[_0x246853(0xa6)](_0x32e88c));}else _0x48721f[_0xd9e338][_0x246853(0xa1)]=[..._0x32e88c],logger[_0x246853(0xc0)](_0x246853(0xe9)+_0xd9e338+_0x246853(0xbe)+JSON['stringify'](_0x32e88c));const _0x47ba0d={[TestFrameworkConstants[_0x246853(0xe8)]]:_0x48721f},_0x3658be={};_0x3658be[_0x1e677d]=_0x47ba0d,_0x334b3f['addMultipleEntries'](_0x3658be),logger['debug'](_0x246853(0xcb)+_0x1e677d+_0x246853(0xb8)+JSON[_0x246853(0xa6)](_0x48721f)),!this[_0x246853(0xd1)][_0x1e677d]&&(this[_0x246853(0xd1)][_0x1e677d]={}),this[_0x246853(0xd1)][_0x1e677d][_0xd9e338]=[..._0x32e88c];}else{const _0x3ab817=global[_0x246853(0xdf)]?.[_0x246853(0xbc)]?.['testInfo'];if(!_0x3ab817){const _0x368caa=AutomationFramework[_0x246853(0xc1)]();_0x1e677d=AutomationFramework['getState'](_0x368caa,PlaywrightDriverModule[_0x246853(0xf0)],'');}else _0x1e677d=TestInfo[_0x246853(0xee)](_0x3ab817,_0x3ab817[_0x246853(0xc4)]);const _0x374474=TestInfo[_0x246853(0xb2)](_0x1e677d),_0x80d110=_0x374474[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{};if(!_0x80d110[_0xd9e338]){const _0x5e7b6b={};_0x5e7b6b[_0x246853(0xd8)]=_0xfffeb1[_0x246853(0xde)],_0x5e7b6b[_0x246853(0xa1)]=[..._0x32e88c],_0x80d110[_0xd9e338]=_0x5e7b6b;}else _0x80d110[_0xd9e338][_0x246853(0xa1)]=[..._0x32e88c];_0x374474[TestFrameworkConstants[_0x246853(0xe8)]]=_0x80d110,TestInfo[_0x246853(0xe1)](_0x1e677d,_0x374474),!this['testLevelTags'][_0x1e677d]&&(this['testLevelTags'][_0x1e677d]={}),this[_0x246853(0xd1)][_0x1e677d][_0xd9e338]=[..._0x32e88c];}}}static[a65_0x275eb5(0xef)](){const _0x518f2f={...this['buildLevelTags']};return _0x518f2f;}static[a65_0x275eb5(0xeb)](){const _0x1cce32=a65_0x275eb5,_0x2b8575={...this[_0x1cce32(0xd1)]};return _0x2b8575;}static['clearTags'](){const _0x38f68d=a65_0x275eb5;this[_0x38f68d(0xa2)]={},this['testLevelTags']={};}}module[a65_0x275eb5(0xcf)]=CustomTagManager;