#!/usr/bin/env node
'use strict';const a28_0x16035c=a28_0x37f6;(function(_0x2369f6,_0x504c82){const _0xcea404=a28_0x37f6,_0xf2e981=_0x2369f6();while(!![]){try{const _0x204d19=-parseInt(_0xcea404(0x104))/0x1+parseInt(_0xcea404(0xdc))/0x2+parseInt(_0xcea404(0xd8))/0x3*(-parseInt(_0xcea404(0xf2))/0x4)+parseInt(_0xcea404(0x119))/0x5*(parseInt(_0xcea404(0xfb))/0x6)+parseInt(_0xcea404(0x10b))/0x7*(-parseInt(_0xcea404(0x117))/0x8)+parseInt(_0xcea404(0xf5))/0x9*(parseInt(_0xcea404(0xe3))/0xa)+parseInt(_0xcea404(0xda))/0xb*(parseInt(_0xcea404(0xf9))/0xc);if(_0x204d19===_0x504c82)break;else _0xf2e981['push'](_0xf2e981['shift']());}catch(_0x525420){_0xf2e981['push'](_0xf2e981['shift']());}}}(a28_0x47d1,0xa2307));function a28_0x37f6(_0x58a1d0,_0xa24593){const _0x47d1b3=a28_0x47d1();return a28_0x37f6=function(_0x37f6fc,_0x47db7d){_0x37f6fc=_0x37f6fc-0xd8;let _0x376eb4=_0x47d1b3[_0x37f6fc];return _0x376eb4;},a28_0x37f6(_0x58a1d0,_0xa24593);}const {spawn}=require(a28_0x16035c(0xdf)),path=require(a28_0x16035c(0x115)),helper=require('../../helpers/helper'),CLIUtils=require(a28_0x16035c(0x122)),{getLoadConfigPath,sleep}=require(a28_0x16035c(0x105)),logger=require('../../helpers/logger')[a28_0x16035c(0x107)];async function executeLoadTest(_0x26aa23){const _0x4504d0=a28_0x16035c,_0x1c46c7={'CqhIs':function(_0x36e4e0,_0x49d3a6){return _0x36e4e0(_0x49d3a6);},'wRoAl':'close','iifWJ':_0x4504d0(0xef),'rDVYi':_0x4504d0(0xf1),'Ojxwt':function(_0x1772d6){return _0x1772d6();},'QNyhD':_0x4504d0(0xf0),'TVtck':_0x4504d0(0x11c),'WJtEq':_0x4504d0(0xf8),'ckJRd':_0x4504d0(0xf3),'uIjur':function(_0x37328d){return _0x37328d();},'iJPKo':_0x4504d0(0xe5),'QcouJ':function(_0x3a71b2,_0x1fe5a9,_0x19aab2,_0xc3da05){return _0x3a71b2(_0x1fe5a9,_0x19aab2,_0xc3da05);},'SERVI':_0x4504d0(0x11a),'knDGA':_0x4504d0(0x11b),'LOkIZ':_0x4504d0(0xe8),'JmBdC':_0x4504d0(0xf7),'KSbPp':_0x4504d0(0x109),'SsNhD':_0x4504d0(0x10e),'WkXvu':function(_0x3c0e1b){return _0x3c0e1b();}};try{const _0x420d04=process[_0x4504d0(0x10f)][_0x4504d0(0x111)](0x2),_0x838631=_0x420d04[_0x4504d0(0x111)](0x1);logger[_0x4504d0(0xe2)]('Executing\x20load\x20test\x20with\x20arguments:\x20'+_0x838631);let _0x4a6254={};try{logger['debug'](_0x1c46c7[_0x4504d0(0xfd)]);const _0x4ea0d4={};_0x4ea0d4[_0x4504d0(0xeb)]=process['env'][_0x4504d0(0xf6)]||process[_0x4504d0(0x118)][_0x4504d0(0xfa)],_0x4ea0d4['accessKey']=process[_0x4504d0(0x118)][_0x4504d0(0x106)]||process[_0x4504d0(0x118)][_0x4504d0(0x114)],_0x4a6254=_0x4ea0d4;if(!_0x4a6254[_0x4504d0(0xeb)]||!_0x4a6254[_0x4504d0(0xf4)]){const _0x5beaf9=_0x1c46c7['CqhIs'](getLoadConfigPath,_0x26aa23[_0x4504d0(0x10f)]);logger[_0x4504d0(0xe2)](_0x4504d0(0x11f)+_0x5beaf9),_0x5beaf9&&(_0x4a6254=helper[_0x4504d0(0x120)](_0x5beaf9));}}catch(_0xffd19){logger[_0x4504d0(0x10c)](_0x4504d0(0xed)+_0xffd19[_0x4504d0(0x100)]),logger[_0x4504d0(0xe2)](_0x4504d0(0xe7)+(_0xffd19[_0x4504d0(0x121)]||JSON[_0x4504d0(0x113)](_0xffd19))),await _0x1c46c7[_0x4504d0(0x108)](sleep),process[_0x4504d0(0xe4)](0x1);}(!_0x4a6254[_0x4504d0(0xeb)]||!_0x4a6254['accessKey'])&&(logger[_0x4504d0(0x10c)](_0x1c46c7[_0x4504d0(0x10a)]),await _0x1c46c7[_0x4504d0(0x108)](sleep),process[_0x4504d0(0xe4)](0x1));const _0x4f341d=CLIUtils['getCliDir']();!_0x4f341d&&(logger[_0x4504d0(0x10c)](_0x1c46c7[_0x4504d0(0xdd)]),await _0x1c46c7[_0x4504d0(0x108)](sleep),process[_0x4504d0(0xe4)](0x1));let _0x43c7aa=CLIUtils[_0x4504d0(0xff)](_0x4f341d);try{!_0x43c7aa?(logger['debug'](_0x1c46c7[_0x4504d0(0xde)]),_0x43c7aa=await CLIUtils['checkAndUpdateCli']('',_0x4f341d,_0x4a6254)):(logger['debug'](_0x1c46c7[_0x4504d0(0xdb)]),_0x43c7aa=await CLIUtils['checkAndUpdateCli'](_0x43c7aa,_0x4f341d,_0x4a6254));}catch(_0x17ad7d){logger[_0x4504d0(0x10c)](_0x1c46c7[_0x4504d0(0x10a)]),logger[_0x4504d0(0xe2)](_0x4504d0(0xe0)+(_0x17ad7d[_0x4504d0(0x121)]||JSON[_0x4504d0(0x113)](_0x17ad7d))),await _0x1c46c7[_0x4504d0(0x102)](sleep),process[_0x4504d0(0xe4)](0x1);}!_0x43c7aa&&(logger[_0x4504d0(0x10c)](_0x1c46c7['QNyhD']),logger[_0x4504d0(0xe2)](_0x1c46c7[_0x4504d0(0x101)]),await _0x1c46c7['uIjur'](sleep),process['exit'](0x1));logger[_0x4504d0(0xe2)](_0x4504d0(0xea)+_0x43c7aa+_0x4504d0(0xe6)+_0x838631[_0x4504d0(0xd9)]('\x20'));const _0x3dd935=_0x1c46c7['QcouJ'](spawn,_0x43c7aa,[_0x1c46c7[_0x4504d0(0xec)],..._0x838631],{'stdio':_0x1c46c7[_0x4504d0(0xee)]});let _0x1377e8=![];const _0x40984f=new Promise(_0x5eb700=>{const _0x55219e=_0x4504d0,_0x3faf9d={'wqORE':function(_0x273e53,_0x2ad7a6){const _0x6749c1=a28_0x37f6;return _0x1c46c7[_0x6749c1(0x116)](_0x273e53,_0x2ad7a6);}};_0x3dd935['on'](_0x1c46c7[_0x55219e(0xfc)],_0x2b7f55=>{const _0x515dc3=_0x55219e;logger['debug'](_0x43c7aa+_0x515dc3(0x10d)+_0x2b7f55),_0x3faf9d['wqORE'](_0x5eb700,_0x2b7f55);});});[_0x1c46c7[_0x4504d0(0x110)],_0x1c46c7[_0x4504d0(0x11d)],_0x1c46c7['KSbPp'],_0x1c46c7[_0x4504d0(0x103)]][_0x4504d0(0x112)](_0x78bf7=>{const _0xb6cd2b=_0x4504d0,_0x573aa3={};_0x573aa3[_0xb6cd2b(0x11e)]=_0x1c46c7['iifWJ'];const _0x44a33b=_0x573aa3;process['on'](_0x78bf7,()=>{const _0x12a04f=_0xb6cd2b;if(_0x1377e8)return;_0x1377e8=!![],logger[_0x12a04f(0xe2)]('Received\x20'+_0x78bf7+',\x20forwarding\x20to\x20child\x20process...'),_0x3dd935&&!_0x3dd935['killed']&&(_0x3dd935[_0x12a04f(0xe1)](_0x78bf7),logger[_0x12a04f(0xe2)](_0x44a33b[_0x12a04f(0x11e)]));});});const _0x24c204=await _0x40984f;await _0x1c46c7[_0x4504d0(0x108)](sleep),process[_0x4504d0(0xe4)](_0x24c204);}catch(_0xf30e9d){logger[_0x4504d0(0x10c)](_0x4504d0(0xfe)+_0xf30e9d[_0x4504d0(0x100)]),logger[_0x4504d0(0xe2)](_0x4504d0(0xe7)+(_0xf30e9d['stack']||JSON[_0x4504d0(0x113)](_0xf30e9d))),await _0x1c46c7['WkXvu'](sleep),process[_0x4504d0(0xe4)](0x1);}}function a28_0x47d1(){const _0xacee06=['4XyCYpV','CLI\x20binary\x20found,\x20Checking\x20for\x20CLI\x20updates','accessKey','225EaLdzs','BROWSERSTACK_USERNAME','SIGTERM','CLI\x20binary\x20not\x20found,\x20downloading\x20latest\x20version','1140fcUWGM','BROWSERSTACK_USER','1371318SqhEbo','wRoAl','rDVYi','Failed\x20initiating\x20load\x20test:\x20','getExistingCliPath','message','iJPKo','uIjur','SsNhD','346378QAqGxb','./loadUtils','BROWSERSTACK_ACCESS_KEY','winstonLogger','Ojxwt','SIGQUIT','QNyhD','7OBAYxQ','error','\x20exited\x20with\x20code\x20','SIGHUP','argv','LOkIZ','slice','forEach','stringify','BROWSERSTACK_ACCESSKEY','path','CqhIs','1594584MhpSGU','env','5FYkkxZ','load','inherit','Failed\x20to\x20determine\x20CLI\x20directory','JmBdC','Lgyba','Configuration\x20path:\x20','readConfig','stack','../v2/cliUtils','3251949VLSyNs','join','19811vxKIxX','ckJRd','1650826FsuaWO','TVtck','WJtEq','child_process','Error\x20Details:\x20','kill','debug','427580rEZbds','exit','Failed\x20to\x20download\x20or\x20locate\x20CLI\x20binary','\x20load\x20','Error\x20details:\x20','SIGINT','exports','Spawning:\x20','userName','SERVI','Error\x20loading\x20configuration:\x20','knDGA','Waiting\x20for\x20child\x20process\x20to\x20exit...','Authentication\x20incomplete.\x20Please\x20add\x20your\x20userName\x20and\x20accessKey\x20to\x20either\x20the\x20browserstack.yml\x20file\x20or\x20as\x20environment\x20variables,\x20then\x20try\x20running\x20the\x20command\x20again.','Loading\x20configuration\x20using\x20environment\x20variables\x20if\x20available.'];a28_0x47d1=function(){return _0xacee06;};return a28_0x47d1();}module[a28_0x16035c(0xe9)]=executeLoadTest;