#!/usr/bin/env node
'use strict';const a28_0x141eb9=a28_0x1b7a;(function(_0x3234f0,_0x3ed510){const _0x8a3c1f=a28_0x1b7a,_0x525a37=_0x3234f0();while(!![]){try{const _0x1ac15c=-parseInt(_0x8a3c1f(0x120))/0x1+parseInt(_0x8a3c1f(0x13d))/0x2*(parseInt(_0x8a3c1f(0x135))/0x3)+parseInt(_0x8a3c1f(0x148))/0x4*(parseInt(_0x8a3c1f(0x14a))/0x5)+-parseInt(_0x8a3c1f(0x128))/0x6+parseInt(_0x8a3c1f(0x13b))/0x7*(parseInt(_0x8a3c1f(0x118))/0x8)+parseInt(_0x8a3c1f(0x12c))/0x9+parseInt(_0x8a3c1f(0x10c))/0xa*(-parseInt(_0x8a3c1f(0x10f))/0xb);if(_0x1ac15c===_0x3ed510)break;else _0x525a37['push'](_0x525a37['shift']());}catch(_0x5f3b55){_0x525a37['push'](_0x525a37['shift']());}}}(a28_0x41d5,0x5d9ed));function a28_0x41d5(){const _0x4958b8=['\x20exited\x20with\x20code\x20','wPnYg','Fuudo','SIGTERM','error','2984372eNialj','pdrhK','5WtvtUb','join','\x20load\x20','./loadUtils','exports','argv','stack','SIGQUIT','slice','userName','BROWSERSTACK_ACCESS_KEY','SIGINT','checkAndUpdateCli','2988800dOQgmd','Configuration\x20path:\x20','BROWSERSTACK_USERNAME','55mJJfht','HSNWn','Error\x20Details:\x20','Loading\x20configuration\x20using\x20environment\x20variables\x20if\x20available.','getExistingCliPath','winstonLogger','Jgaxa','CLI\x20binary\x20not\x20found,\x20downloading\x20latest\x20version','stringify','95512fIwDqN','BROWSERSTACK_ACCESSKEY','tFCeQ',',\x20forwarding\x20to\x20child\x20process...','mazys','Error\x20details:\x20','DrbGK','debug','281649mpXtkV','HvLJa','Failed\x20to\x20download\x20or\x20locate\x20CLI\x20binary','message','env','exit','roAMy','getCliDir','1837524XVQuog','Spawning:\x20','fkLtT','tGSot','4116699LvftaB','accessKey','killed','BROWSERSTACK_USER','load','CBuuk','EbSDu','child_process','Waiting\x20for\x20child\x20process\x20to\x20exit...','9WypDHf','CLI\x20binary\x20found,\x20Checking\x20for\x20CLI\x20updates','JSCsT','Failed\x20initiating\x20load\x20test:\x20','readConfig','zFQhU','357KLokUn','LyffC','435586yrXWkk','Received\x20','SIGHUP','mmiNx','GuOfg','../../helpers/helper'];a28_0x41d5=function(){return _0x4958b8;};return a28_0x41d5();}function a28_0x1b7a(_0x3b2011,_0x4505e4){const _0x41d500=a28_0x41d5();return a28_0x1b7a=function(_0x1b7a30,_0x20472a){_0x1b7a30=_0x1b7a30-0x108;let _0x257f5f=_0x41d500[_0x1b7a30];return _0x257f5f;},a28_0x1b7a(_0x3b2011,_0x4505e4);}const {spawn}=require(a28_0x141eb9(0x133)),path=require('path'),helper=require(a28_0x141eb9(0x142)),CLIUtils=require('../v2/cliUtils'),{getLoadConfigPath,sleep}=require(a28_0x141eb9(0x14d)),logger=require('../../helpers/logger')[a28_0x141eb9(0x114)];async function executeLoadTest(_0x39002a){const _0x1cdd3e=a28_0x141eb9,_0x4096e1={'zFQhU':function(_0x14bc2e,_0x1763ab){return _0x14bc2e(_0x1763ab);},'JSCsT':'close','HSNWn':_0x1cdd3e(0x134),'tFCeQ':_0x1cdd3e(0x112),'mazys':function(_0x20ce76){return _0x20ce76();},'tGSot':'Authentication\x20incomplete.\x20Please\x20add\x20your\x20userName\x20and\x20accessKey\x20to\x20either\x20the\x20browserstack.yml\x20file\x20or\x20as\x20environment\x20variables,\x20then\x20try\x20running\x20the\x20command\x20again.','pdrhK':'Failed\x20to\x20determine\x20CLI\x20directory','QkXKm':function(_0x4bc50d){return _0x4bc50d();},'GuOfg':_0x1cdd3e(0x116),'HvLJa':_0x1cdd3e(0x136),'CBuuk':function(_0x3640a8){return _0x3640a8();},'fMjhr':_0x1cdd3e(0x122),'yhAOc':function(_0x1cdb0f){return _0x1cdb0f();},'fkLtT':function(_0x302107,_0x3b9d78,_0x4634e3,_0x56ab03){return _0x302107(_0x3b9d78,_0x4634e3,_0x56ab03);},'DrbGK':_0x1cdd3e(0x130),'wPnYg':'inherit','LyffC':_0x1cdd3e(0x10a),'Fuudo':_0x1cdd3e(0x146),'EbSDu':_0x1cdd3e(0x151),'Jgaxa':_0x1cdd3e(0x13f),'mmiNx':function(_0x3014ef){return _0x3014ef();}};try{const _0x47171a=process[_0x1cdd3e(0x14f)][_0x1cdd3e(0x152)](0x2),_0x8a0d31=_0x47171a['slice'](0x1);logger['debug']('Executing\x20load\x20test\x20with\x20arguments:\x20'+_0x8a0d31);let _0x35c82c={};try{logger['debug'](_0x4096e1[_0x1cdd3e(0x11a)]);const _0x12f979={};_0x12f979[_0x1cdd3e(0x108)]=process[_0x1cdd3e(0x124)][_0x1cdd3e(0x10e)]||process[_0x1cdd3e(0x124)][_0x1cdd3e(0x12f)],_0x12f979['accessKey']=process[_0x1cdd3e(0x124)][_0x1cdd3e(0x109)]||process[_0x1cdd3e(0x124)][_0x1cdd3e(0x119)],_0x35c82c=_0x12f979;if(!_0x35c82c[_0x1cdd3e(0x108)]||!_0x35c82c['accessKey']){const _0x4595f4=_0x4096e1['zFQhU'](getLoadConfigPath,_0x39002a[_0x1cdd3e(0x14f)]);logger[_0x1cdd3e(0x11f)](_0x1cdd3e(0x10d)+_0x4595f4),_0x4595f4&&(_0x35c82c=helper[_0x1cdd3e(0x139)](_0x4595f4));}}catch(_0x1b99f3){logger['error']('Error\x20loading\x20configuration:\x20'+_0x1b99f3[_0x1cdd3e(0x123)]),logger[_0x1cdd3e(0x11f)](_0x1cdd3e(0x11d)+(_0x1b99f3[_0x1cdd3e(0x150)]||JSON['stringify'](_0x1b99f3))),await _0x4096e1[_0x1cdd3e(0x11c)](sleep),process[_0x1cdd3e(0x125)](0x1);}(!_0x35c82c[_0x1cdd3e(0x108)]||!_0x35c82c[_0x1cdd3e(0x12d)])&&(logger[_0x1cdd3e(0x147)](_0x4096e1[_0x1cdd3e(0x12b)]),await _0x4096e1[_0x1cdd3e(0x11c)](sleep),process[_0x1cdd3e(0x125)](0x1));const _0x1b4be9=CLIUtils[_0x1cdd3e(0x127)]();!_0x1b4be9&&(logger[_0x1cdd3e(0x147)](_0x4096e1[_0x1cdd3e(0x149)]),await _0x4096e1['QkXKm'](sleep),process['exit'](0x1));let _0x30adec=CLIUtils[_0x1cdd3e(0x113)](_0x1b4be9);try{!_0x30adec?(logger[_0x1cdd3e(0x11f)](_0x4096e1[_0x1cdd3e(0x141)]),_0x30adec=await CLIUtils[_0x1cdd3e(0x10b)]('',_0x1b4be9,_0x35c82c)):(logger['debug'](_0x4096e1[_0x1cdd3e(0x121)]),_0x30adec=await CLIUtils[_0x1cdd3e(0x10b)](_0x30adec,_0x1b4be9,_0x35c82c));}catch(_0x1f1712){logger[_0x1cdd3e(0x147)](_0x4096e1[_0x1cdd3e(0x12b)]),logger[_0x1cdd3e(0x11f)](_0x1cdd3e(0x111)+(_0x1f1712[_0x1cdd3e(0x150)]||JSON['stringify'](_0x1f1712))),await _0x4096e1[_0x1cdd3e(0x131)](sleep),process[_0x1cdd3e(0x125)](0x1);}!_0x30adec&&(logger[_0x1cdd3e(0x147)](_0x4096e1['tGSot']),logger[_0x1cdd3e(0x11f)](_0x4096e1['fMjhr']),await _0x4096e1['yhAOc'](sleep),process[_0x1cdd3e(0x125)](0x1));logger['debug'](_0x1cdd3e(0x129)+_0x30adec+_0x1cdd3e(0x14c)+_0x8a0d31[_0x1cdd3e(0x14b)]('\x20'));const _0x2ccf9a=_0x4096e1[_0x1cdd3e(0x12a)](spawn,_0x30adec,[_0x4096e1[_0x1cdd3e(0x11e)],..._0x8a0d31],{'stdio':_0x4096e1[_0x1cdd3e(0x144)]});let _0x1c620b=![];const _0x410f61=new Promise(_0xa38ebd=>{const _0x105e4e=_0x1cdd3e;_0x2ccf9a['on'](_0x4096e1[_0x105e4e(0x137)],_0x511b10=>{const _0x4bb38a=_0x105e4e;logger[_0x4bb38a(0x11f)](_0x30adec+_0x4bb38a(0x143)+_0x511b10),_0x4096e1[_0x4bb38a(0x13a)](_0xa38ebd,_0x511b10);});});[_0x4096e1[_0x1cdd3e(0x13c)],_0x4096e1[_0x1cdd3e(0x145)],_0x4096e1[_0x1cdd3e(0x132)],_0x4096e1[_0x1cdd3e(0x115)]]['forEach'](_0x3d9f6e=>{const _0x150c60=_0x1cdd3e,_0x1ec3cd={};_0x1ec3cd[_0x150c60(0x126)]=_0x4096e1[_0x150c60(0x110)];const _0x4d67f9=_0x1ec3cd;process['on'](_0x3d9f6e,()=>{const _0x425c9d=_0x150c60;if(_0x1c620b)return;_0x1c620b=!![],logger['debug'](_0x425c9d(0x13e)+_0x3d9f6e+_0x425c9d(0x11b)),_0x2ccf9a&&!_0x2ccf9a[_0x425c9d(0x12e)]&&(_0x2ccf9a['kill'](_0x3d9f6e),logger[_0x425c9d(0x11f)](_0x4d67f9[_0x425c9d(0x126)]));});});const _0x437198=await _0x410f61;await _0x4096e1[_0x1cdd3e(0x140)](sleep),process[_0x1cdd3e(0x125)](_0x437198);}catch(_0x4c25ec){logger['error'](_0x1cdd3e(0x138)+_0x4c25ec['message']),logger[_0x1cdd3e(0x11f)](_0x1cdd3e(0x11d)+(_0x4c25ec[_0x1cdd3e(0x150)]||JSON[_0x1cdd3e(0x117)](_0x4c25ec))),await _0x4096e1[_0x1cdd3e(0x140)](sleep),process[_0x1cdd3e(0x125)](0x1);}}module[a28_0x141eb9(0x14e)]=executeLoadTest;