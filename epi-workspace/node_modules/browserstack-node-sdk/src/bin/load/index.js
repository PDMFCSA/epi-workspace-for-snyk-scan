#!/usr/bin/env node
'use strict';const a28_0x111d69=a28_0x2c69;(function(_0x160ee2,_0x33eb5f){const _0x323a5a=a28_0x2c69,_0x1c038c=_0x160ee2();while(!![]){try{const _0x558295=-parseInt(_0x323a5a(0x16c))/0x1+parseInt(_0x323a5a(0x15c))/0x2+parseInt(_0x323a5a(0x162))/0x3*(parseInt(_0x323a5a(0x18d))/0x4)+parseInt(_0x323a5a(0x181))/0x5+parseInt(_0x323a5a(0x16e))/0x6+parseInt(_0x323a5a(0x190))/0x7*(parseInt(_0x323a5a(0x169))/0x8)+-parseInt(_0x323a5a(0x19d))/0x9;if(_0x558295===_0x33eb5f)break;else _0x1c038c['push'](_0x1c038c['shift']());}catch(_0x298397){_0x1c038c['push'](_0x1c038c['shift']());}}}(a28_0x4041,0xb4e68));function a28_0x2c69(_0x26c32d,_0x542492){const _0x40413e=a28_0x4041();return a28_0x2c69=function(_0x2c694a,_0x440173){_0x2c694a=_0x2c694a-0x15c;let _0x5e37ba=_0x40413e[_0x2c694a];return _0x5e37ba;},a28_0x2c69(_0x26c32d,_0x542492);}const {spawn}=require(a28_0x111d69(0x177)),path=require(a28_0x111d69(0x194)),helper=require(a28_0x111d69(0x163)),CLIUtils=require(a28_0x111d69(0x188)),{getLoadConfigPath,sleep}=require(a28_0x111d69(0x179)),logger=require(a28_0x111d69(0x17f))[a28_0x111d69(0x182)];async function executeLoadTest(_0x410254){const _0x350990=a28_0x111d69,_0x1bef66={'ANTOa':function(_0x3d9133,_0x57e66e){return _0x3d9133(_0x57e66e);},'jRAxP':_0x350990(0x16d),'OUeQy':_0x350990(0x15e),'UsyNH':_0x350990(0x197),'bKpay':function(_0x4783b4){return _0x4783b4();},'VItuc':'Authentication\x20incomplete.\x20Please\x20add\x20your\x20userName\x20and\x20accessKey\x20to\x20either\x20the\x20browserstack.yml\x20file\x20or\x20as\x20environment\x20variables,\x20then\x20try\x20running\x20the\x20command\x20again.','FmxbD':_0x350990(0x161),'ICxXy':function(_0x6d8334){return _0x6d8334();},'xuOiK':_0x350990(0x186),'HaaZp':_0x350990(0x17c),'QGkmq':_0x350990(0x17a),'ajdcl':function(_0x1c0e9c){return _0x1c0e9c();},'WxWww':function(_0x1f40b0,_0x47e008,_0x4282c3,_0x37616a){return _0x1f40b0(_0x47e008,_0x4282c3,_0x37616a);},'VtJkD':_0x350990(0x176),'HNzQB':_0x350990(0x165),'QSrEv':_0x350990(0x17e),'YSmqu':'SIGTERM','nPaUI':_0x350990(0x170),'HBoPT':_0x350990(0x171),'aFySR':function(_0x4c3ef1){return _0x4c3ef1();}};try{const _0x5d29d4=process[_0x350990(0x1a2)][_0x350990(0x198)](0x2),_0x500d36=_0x5d29d4['slice'](0x1);logger['debug'](_0x350990(0x167)+_0x500d36);let _0x573df6={};try{logger[_0x350990(0x168)](_0x1bef66[_0x350990(0x189)]);const _0x5bc616={};_0x5bc616[_0x350990(0x15d)]=process['env'][_0x350990(0x16b)]||process[_0x350990(0x18e)]['BROWSERSTACK_USER'],_0x5bc616['accessKey']=process[_0x350990(0x18e)]['BROWSERSTACK_ACCESS_KEY']||process[_0x350990(0x18e)][_0x350990(0x166)],_0x573df6=_0x5bc616;if(!_0x573df6['userName']||!_0x573df6[_0x350990(0x180)]){const _0x363c34=_0x1bef66[_0x350990(0x18f)](getLoadConfigPath,_0x410254[_0x350990(0x1a2)]);logger[_0x350990(0x168)](_0x350990(0x18b)+_0x363c34),_0x363c34&&(_0x573df6=helper['readConfig'](_0x363c34));}}catch(_0x3bbc98){logger[_0x350990(0x18c)](_0x350990(0x196)+_0x3bbc98['message']),logger[_0x350990(0x168)](_0x350990(0x164)+(_0x3bbc98['stack']||JSON[_0x350990(0x184)](_0x3bbc98))),await _0x1bef66[_0x350990(0x195)](sleep),process[_0x350990(0x187)](0x1);}(!_0x573df6[_0x350990(0x15d)]||!_0x573df6[_0x350990(0x180)])&&(logger[_0x350990(0x18c)](_0x1bef66['VItuc']),await _0x1bef66['bKpay'](sleep),process['exit'](0x1));const _0x516ea2=CLIUtils['getCliDir']();!_0x516ea2&&(logger['error'](_0x1bef66['FmxbD']),await _0x1bef66[_0x350990(0x19f)](sleep),process[_0x350990(0x187)](0x1));let _0xf70ac3=CLIUtils[_0x350990(0x183)](_0x516ea2);try{!_0xf70ac3?(logger[_0x350990(0x168)](_0x1bef66[_0x350990(0x18a)]),_0xf70ac3=await CLIUtils[_0x350990(0x1a0)]('',_0x516ea2,_0x573df6)):(logger[_0x350990(0x168)](_0x1bef66[_0x350990(0x16f)]),_0xf70ac3=await CLIUtils[_0x350990(0x1a0)](_0xf70ac3,_0x516ea2,_0x573df6));}catch(_0x22814a){logger[_0x350990(0x18c)](_0x1bef66[_0x350990(0x191)]),logger[_0x350990(0x168)](_0x350990(0x178)+(_0x22814a[_0x350990(0x174)]||JSON[_0x350990(0x184)](_0x22814a))),await _0x1bef66[_0x350990(0x195)](sleep),process['exit'](0x1);}!_0xf70ac3&&(logger['error'](_0x1bef66[_0x350990(0x191)]),logger[_0x350990(0x168)](_0x1bef66['QGkmq']),await _0x1bef66[_0x350990(0x19e)](sleep),process[_0x350990(0x187)](0x1));logger['debug'](_0x350990(0x175)+_0xf70ac3+_0x350990(0x160)+_0x500d36[_0x350990(0x19a)]('\x20'));const _0x2acfc3=_0x1bef66[_0x350990(0x173)](spawn,_0xf70ac3,[_0x1bef66[_0x350990(0x17b)],..._0x500d36],{'stdio':_0x1bef66[_0x350990(0x19b)]});let _0x2c8183=![];const _0x18c1f1=new Promise(_0x5bb2be=>{const _0x1668e5=_0x350990;_0x2acfc3['on'](_0x1bef66[_0x1668e5(0x192)],_0x48883e=>{const _0x26ca87=_0x1668e5;logger[_0x26ca87(0x168)](_0xf70ac3+_0x26ca87(0x17d)+_0x48883e),_0x1bef66['ANTOa'](_0x5bb2be,_0x48883e);});});[_0x1bef66['QSrEv'],_0x1bef66[_0x350990(0x199)],_0x1bef66['nPaUI'],_0x1bef66[_0x350990(0x15f)]][_0x350990(0x16a)](_0x5c01e1=>{process['on'](_0x5c01e1,()=>{const _0x4a0a6f=a28_0x2c69;if(_0x2c8183)return;_0x2c8183=!![],logger[_0x4a0a6f(0x168)]('Received\x20'+_0x5c01e1+',\x20forwarding\x20to\x20child\x20process...'),_0x2acfc3&&!_0x2acfc3['killed']&&(_0x2acfc3[_0x4a0a6f(0x193)](_0x5c01e1),logger[_0x4a0a6f(0x168)](_0x1bef66['OUeQy']));});});const _0xc40690=await _0x18c1f1;await _0x1bef66[_0x350990(0x19f)](sleep),process[_0x350990(0x187)](_0xc40690);}catch(_0x16cb0b){logger['error'](_0x350990(0x172)+_0x16cb0b[_0x350990(0x19c)]),logger[_0x350990(0x168)](_0x350990(0x164)+(_0x16cb0b[_0x350990(0x174)]||JSON[_0x350990(0x184)](_0x16cb0b))),await _0x1bef66[_0x350990(0x1a1)](sleep),process['exit'](0x1);}}function a28_0x4041(){const _0x4576ed=['YSmqu','join','HNzQB','message','22263435fDbfeK','ajdcl','ICxXy','checkAndUpdateCli','aFySR','argv','158544KJJPSQ','userName','Waiting\x20for\x20child\x20process\x20to\x20exit...','HBoPT','\x20load\x20','Failed\x20to\x20determine\x20CLI\x20directory','45531CmDztQ','../../helpers/helper','Error\x20details:\x20','inherit','BROWSERSTACK_ACCESSKEY','Executing\x20load\x20test\x20with\x20arguments:\x20','debug','32ywDaEy','forEach','BROWSERSTACK_USERNAME','450637mNAikG','close','6608664CGxFhk','HaaZp','SIGQUIT','SIGHUP','Failed\x20initiating\x20load\x20test:\x20','WxWww','stack','Spawning:\x20','load','child_process','Error\x20Details:\x20','./loadUtils','Failed\x20to\x20download\x20or\x20locate\x20CLI\x20binary','VtJkD','CLI\x20binary\x20found,\x20Checking\x20for\x20CLI\x20updates','\x20exited\x20with\x20code\x20','SIGINT','../../helpers/logger','accessKey','3141965TPegcH','winstonLogger','getExistingCliPath','stringify','exports','CLI\x20binary\x20not\x20found,\x20downloading\x20latest\x20version','exit','../v2/cliUtils','UsyNH','xuOiK','Configuration\x20path:\x20','error','204HRravp','env','ANTOa','1893822KTyTWX','VItuc','jRAxP','kill','path','bKpay','Error\x20loading\x20configuration:\x20','Loading\x20configuration\x20using\x20environment\x20variables\x20if\x20available.','slice'];a28_0x4041=function(){return _0x4576ed;};return a28_0x4041();}module[a28_0x111d69(0x185)]=executeLoadTest;