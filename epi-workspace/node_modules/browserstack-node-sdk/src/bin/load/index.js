#!/usr/bin/env node
'use strict';function a29_0x46d2(_0x343850,_0x6c0da0){const _0x1930fd=a29_0x1930();return a29_0x46d2=function(_0x46d23e,_0x4471b7){_0x46d23e=_0x46d23e-0x19d;let _0x43a727=_0x1930fd[_0x46d23e];return _0x43a727;},a29_0x46d2(_0x343850,_0x6c0da0);}const a29_0x442e5b=a29_0x46d2;(function(_0x532476,_0x58ed52){const _0x5ab697=a29_0x46d2,_0x7f90c3=_0x532476();while(!![]){try{const _0x2420e9=parseInt(_0x5ab697(0x1d1))/0x1+-parseInt(_0x5ab697(0x1e7))/0x2*(parseInt(_0x5ab697(0x1af))/0x3)+parseInt(_0x5ab697(0x19f))/0x4*(-parseInt(_0x5ab697(0x1c1))/0x5)+-parseInt(_0x5ab697(0x1b0))/0x6+parseInt(_0x5ab697(0x1c8))/0x7*(parseInt(_0x5ab697(0x1b4))/0x8)+-parseInt(_0x5ab697(0x1d4))/0x9*(parseInt(_0x5ab697(0x1ae))/0xa)+parseInt(_0x5ab697(0x1ce))/0xb;if(_0x2420e9===_0x58ed52)break;else _0x7f90c3['push'](_0x7f90c3['shift']());}catch(_0x3972b7){_0x7f90c3['push'](_0x7f90c3['shift']());}}}(a29_0x1930,0x2b7ce));const {spawn}=require(a29_0x442e5b(0x1a1)),path=require(a29_0x442e5b(0x1c4)),helper=require('../../helpers/helper'),CLIUtils=require(a29_0x442e5b(0x1be)),{getLoadConfigPath,sleep}=require(a29_0x442e5b(0x1bc)),logger=require(a29_0x442e5b(0x1e1))[a29_0x442e5b(0x1de)];async function executeLoadTest(_0x2c9bed){const _0x3a6cf1=a29_0x442e5b,_0x51fc43={'AkpfR':function(_0x628916,_0x1b2cb6){return _0x628916(_0x1b2cb6);},'dRCkf':_0x3a6cf1(0x1a7),'VsVlk':_0x3a6cf1(0x1b6),'LAPEu':'Loading\x20configuration\x20using\x20environment\x20variables\x20if\x20available.','DpZgR':function(_0x581efc,_0x5956be){return _0x581efc(_0x5956be);},'TeUHn':function(_0x10632b){return _0x10632b();},'ueyUE':_0x3a6cf1(0x1b1),'kgDGD':'Failed\x20to\x20determine\x20CLI\x20directory','KwThN':_0x3a6cf1(0x1b3),'NkJio':'CLI\x20binary\x20found,\x20Checking\x20for\x20CLI\x20updates','aTdVx':function(_0x9db2af){return _0x9db2af();},'GnIFz':_0x3a6cf1(0x1e4),'fXrfL':function(_0x6cad1){return _0x6cad1();},'BiTCT':function(_0x4e8bc5,_0x2c8cfd,_0x2ff217,_0x1fee50){return _0x4e8bc5(_0x2c8cfd,_0x2ff217,_0x1fee50);},'gNFVf':_0x3a6cf1(0x1c9),'UYyOR':_0x3a6cf1(0x1cc),'GhTOb':_0x3a6cf1(0x1d7),'svpdQ':'SIGTERM','riJhl':_0x3a6cf1(0x1a2),'quRcQ':_0x3a6cf1(0x1e3),'GIJar':function(_0x593243){return _0x593243();},'xEzMg':function(_0x3254f5){return _0x3254f5();}};try{const _0x41ba97=process[_0x3a6cf1(0x1b8)][_0x3a6cf1(0x1e6)](0x2),_0x435967=_0x41ba97[_0x3a6cf1(0x1e6)](0x1);logger[_0x3a6cf1(0x1b9)]('Executing\x20load\x20test\x20with\x20arguments:\x20'+_0x435967);let _0x20b543={};try{logger[_0x3a6cf1(0x1b9)](_0x51fc43[_0x3a6cf1(0x1ac)]);const _0x2ce2e4={};_0x2ce2e4['userName']=process[_0x3a6cf1(0x1d8)][_0x3a6cf1(0x1c2)]||process['env'][_0x3a6cf1(0x1cf)],_0x2ce2e4[_0x3a6cf1(0x1a9)]=process[_0x3a6cf1(0x1d8)]['BROWSERSTACK_ACCESS_KEY']||process['env'][_0x3a6cf1(0x1e5)],_0x20b543=_0x2ce2e4;if(!_0x20b543['userName']||!_0x20b543['accessKey']){const _0x1f3c6a=_0x51fc43['DpZgR'](getLoadConfigPath,_0x2c9bed[_0x3a6cf1(0x1b8)]);logger['debug']('Configuration\x20path:\x20'+_0x1f3c6a),_0x1f3c6a&&(_0x20b543=helper[_0x3a6cf1(0x1ab)](_0x1f3c6a));}}catch(_0x1910d8){logger[_0x3a6cf1(0x1e0)](_0x3a6cf1(0x1d0)+_0x1910d8[_0x3a6cf1(0x1d6)]),logger[_0x3a6cf1(0x1b9)](_0x3a6cf1(0x19e)+(_0x1910d8[_0x3a6cf1(0x1cd)]||JSON[_0x3a6cf1(0x1c0)](_0x1910d8))),await _0x51fc43[_0x3a6cf1(0x1df)](sleep),process[_0x3a6cf1(0x1dc)](0x1);}(!_0x20b543[_0x3a6cf1(0x1a6)]||!_0x20b543[_0x3a6cf1(0x1a9)])&&(logger['error'](_0x51fc43[_0x3a6cf1(0x1d3)]),await _0x51fc43['TeUHn'](sleep),process['exit'](0x1));const _0x42a4c7=CLIUtils[_0x3a6cf1(0x1b7)]();!_0x42a4c7&&(logger['error'](_0x51fc43[_0x3a6cf1(0x1bf)]),await _0x51fc43[_0x3a6cf1(0x1df)](sleep),process[_0x3a6cf1(0x1dc)](0x1));let _0x4c7022=CLIUtils[_0x3a6cf1(0x1a4)](_0x42a4c7);try{!_0x4c7022?(logger[_0x3a6cf1(0x1b9)](_0x51fc43[_0x3a6cf1(0x1ba)]),_0x4c7022=await CLIUtils[_0x3a6cf1(0x1dd)]('',_0x42a4c7,_0x20b543)):(logger[_0x3a6cf1(0x1b9)](_0x51fc43[_0x3a6cf1(0x1ad)]),_0x4c7022=await CLIUtils[_0x3a6cf1(0x1dd)](_0x4c7022,_0x42a4c7,_0x20b543));}catch(_0x2f9836){logger[_0x3a6cf1(0x1e0)](_0x51fc43[_0x3a6cf1(0x1d3)]),logger[_0x3a6cf1(0x1b9)]('Error\x20Details:\x20'+(_0x2f9836['stack']||JSON[_0x3a6cf1(0x1c0)](_0x2f9836))),await _0x51fc43[_0x3a6cf1(0x19d)](sleep),process[_0x3a6cf1(0x1dc)](0x1);}!_0x4c7022&&(logger[_0x3a6cf1(0x1e0)](_0x51fc43[_0x3a6cf1(0x1d3)]),logger[_0x3a6cf1(0x1b9)](_0x51fc43[_0x3a6cf1(0x1bb)]),await _0x51fc43[_0x3a6cf1(0x1b5)](sleep),process[_0x3a6cf1(0x1dc)](0x1));logger[_0x3a6cf1(0x1b9)]('Spawning:\x20'+_0x4c7022+_0x3a6cf1(0x1cb)+_0x435967[_0x3a6cf1(0x1b2)]('\x20'));const _0x4fe0d6=_0x51fc43[_0x3a6cf1(0x1c3)](spawn,_0x4c7022,[_0x51fc43[_0x3a6cf1(0x1e2)],..._0x435967],{'stdio':_0x51fc43[_0x3a6cf1(0x1a3)]});let _0x25614a=![];const _0xde197=new Promise(_0xf6f1ee=>{const _0x52d73b=_0x3a6cf1;_0x4fe0d6['on'](_0x51fc43[_0x52d73b(0x1d5)],_0x4d71ff=>{const _0x42dfcb=_0x52d73b;logger['debug'](_0x4c7022+_0x42dfcb(0x1ca)+_0x4d71ff),_0x51fc43[_0x42dfcb(0x1a5)](_0xf6f1ee,_0x4d71ff);});});[_0x51fc43['GhTOb'],_0x51fc43[_0x3a6cf1(0x1c6)],_0x51fc43['riJhl'],_0x51fc43[_0x3a6cf1(0x1bd)]][_0x3a6cf1(0x1c7)](_0x196f7e=>{process['on'](_0x196f7e,()=>{const _0x321530=a29_0x46d2;if(_0x25614a)return;_0x25614a=!![],logger[_0x321530(0x1b9)](_0x321530(0x1da)+_0x196f7e+_0x321530(0x1d2)),_0x4fe0d6&&!_0x4fe0d6['killed']&&(_0x4fe0d6[_0x321530(0x1a0)](_0x196f7e),logger[_0x321530(0x1b9)](_0x51fc43[_0x321530(0x1d9)]));});});const _0x56f9a0=await _0xde197;await _0x51fc43[_0x3a6cf1(0x1aa)](sleep),process[_0x3a6cf1(0x1dc)](_0x56f9a0);}catch(_0x36a5ff){logger[_0x3a6cf1(0x1e0)](_0x3a6cf1(0x1a8)+_0x36a5ff[_0x3a6cf1(0x1d6)]),logger[_0x3a6cf1(0x1b9)]('Error\x20details:\x20'+(_0x36a5ff['stack']||JSON[_0x3a6cf1(0x1c0)](_0x36a5ff))),await _0x51fc43[_0x3a6cf1(0x1db)](sleep),process[_0x3a6cf1(0x1dc)](0x1);}}module[a29_0x442e5b(0x1c5)]=executeLoadTest;function a29_0x1930(){const _0x1f041b=['SIGINT','env','VsVlk','Received\x20','xEzMg','exit','checkAndUpdateCli','winstonLogger','TeUHn','error','../../helpers/logger','gNFVf','SIGHUP','Failed\x20to\x20download\x20or\x20locate\x20CLI\x20binary','BROWSERSTACK_ACCESSKEY','slice','18978iZVViB','aTdVx','Error\x20details:\x20','4pSujUT','kill','child_process','SIGQUIT','UYyOR','getExistingCliPath','AkpfR','userName','close','Failed\x20initiating\x20load\x20test:\x20','accessKey','GIJar','readConfig','LAPEu','NkJio','1673580qahALl','66SGuiLg','852636rKXCMT','Authentication\x20incomplete.\x20Please\x20add\x20your\x20userName\x20and\x20accessKey\x20to\x20either\x20the\x20browserstack.yml\x20file\x20or\x20as\x20environment\x20variables,\x20then\x20try\x20running\x20the\x20command\x20again.','join','CLI\x20binary\x20not\x20found,\x20downloading\x20latest\x20version','438584CCQMQL','fXrfL','Waiting\x20for\x20child\x20process\x20to\x20exit...','getCliDir','argv','debug','KwThN','GnIFz','./loadUtils','quRcQ','../v2/cliUtils','kgDGD','stringify','429830GRCQVn','BROWSERSTACK_USERNAME','BiTCT','path','exports','svpdQ','forEach','7RjHJAM','load','\x20exited\x20with\x20code\x20','\x20load\x20','inherit','stack','8431819cSNaXr','BROWSERSTACK_USER','Error\x20loading\x20configuration:\x20','128320eePGTh',',\x20forwarding\x20to\x20child\x20process...','ueyUE','18aobtZv','dRCkf','message'];a29_0x1930=function(){return _0x1f041b;};return a29_0x1930();}