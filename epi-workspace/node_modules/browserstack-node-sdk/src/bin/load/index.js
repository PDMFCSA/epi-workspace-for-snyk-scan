#!/usr/bin/env node
'use strict';const a28_0x50a766=a28_0x5331;(function(_0xf012f1,_0x1b8e9c){const _0xe0c5c=a28_0x5331,_0x3f6e69=_0xf012f1();while(!![]){try{const _0x37515d=parseInt(_0xe0c5c(0x12a))/0x1+parseInt(_0xe0c5c(0x114))/0x2+-parseInt(_0xe0c5c(0x10e))/0x3*(-parseInt(_0xe0c5c(0x13f))/0x4)+parseInt(_0xe0c5c(0x12e))/0x5+parseInt(_0xe0c5c(0x13b))/0x6*(parseInt(_0xe0c5c(0x139))/0x7)+parseInt(_0xe0c5c(0x126))/0x8+-parseInt(_0xe0c5c(0x134))/0x9;if(_0x37515d===_0x1b8e9c)break;else _0x3f6e69['push'](_0x3f6e69['shift']());}catch(_0x3aa3ff){_0x3f6e69['push'](_0x3f6e69['shift']());}}}(a28_0x1502,0x328c3));const {spawn}=require(a28_0x50a766(0x108)),path=require(a28_0x50a766(0x123)),helper=require(a28_0x50a766(0x105)),CLIUtils=require('../v2/cliUtils'),{getLoadConfigPath,sleep}=require(a28_0x50a766(0x11f)),logger=require(a28_0x50a766(0x13e))[a28_0x50a766(0x113)];async function executeLoadTest(_0x555e26){const _0x28d6b1=a28_0x50a766,_0x2fe7c8={'AUrwb':function(_0x4fcbd3,_0x54caac){return _0x4fcbd3(_0x54caac);},'cSMuM':_0x28d6b1(0x127),'HDNmw':_0x28d6b1(0x109),'wOsVO':_0x28d6b1(0x107),'jmfpw':function(_0x2367a4,_0x1a6aff){return _0x2367a4(_0x1a6aff);},'jJkWR':function(_0x574d4d){return _0x574d4d();},'AnCxK':_0x28d6b1(0x11c),'dDzpU':_0x28d6b1(0x12d),'UuXZP':function(_0x2a6059){return _0x2a6059();},'KEIKU':_0x28d6b1(0x106),'zDwLI':_0x28d6b1(0x135),'OJpJS':function(_0x350659){return _0x350659();},'vBTRH':_0x28d6b1(0x111),'jkeyb':function(_0x47cc5a,_0x38db1f,_0x2ab048,_0x213945){return _0x47cc5a(_0x38db1f,_0x2ab048,_0x213945);},'JWGDL':'load','JvmlB':_0x28d6b1(0x117),'RSPNp':_0x28d6b1(0x138),'sfZpP':_0x28d6b1(0x130),'ELegt':'SIGQUIT','htILB':_0x28d6b1(0x121),'HmJyd':function(_0x536920){return _0x536920();},'RpAie':function(_0x1ac6a4){return _0x1ac6a4();}};try{const _0x17d2d3=process[_0x28d6b1(0x136)][_0x28d6b1(0x132)](0x2),_0x2d988d=_0x17d2d3[_0x28d6b1(0x132)](0x1);logger[_0x28d6b1(0x12b)](_0x28d6b1(0x13a)+_0x2d988d);let _0xa8c943={};try{logger[_0x28d6b1(0x12b)](_0x2fe7c8[_0x28d6b1(0x133)]);const _0x3d7321={};_0x3d7321[_0x28d6b1(0x125)]=process[_0x28d6b1(0x128)][_0x28d6b1(0x124)]||process[_0x28d6b1(0x128)][_0x28d6b1(0x11b)],_0x3d7321[_0x28d6b1(0x116)]=process[_0x28d6b1(0x128)][_0x28d6b1(0x10b)]||process['env'][_0x28d6b1(0x122)],_0xa8c943=_0x3d7321;if(!_0xa8c943[_0x28d6b1(0x125)]||!_0xa8c943['accessKey']){const _0x1197dc=_0x2fe7c8['jmfpw'](getLoadConfigPath,_0x555e26['argv']);logger['debug'](_0x28d6b1(0x120)+_0x1197dc),_0x1197dc&&(_0xa8c943=helper['readConfig'](_0x1197dc));}}catch(_0x24f1e9){logger[_0x28d6b1(0x102)](_0x28d6b1(0xfc)+_0x24f1e9['message']),logger[_0x28d6b1(0x12b)]('Error\x20details:\x20'+(_0x24f1e9[_0x28d6b1(0x137)]||JSON[_0x28d6b1(0x112)](_0x24f1e9))),await _0x2fe7c8[_0x28d6b1(0x10a)](sleep),process[_0x28d6b1(0x140)](0x1);}(!_0xa8c943[_0x28d6b1(0x125)]||!_0xa8c943['accessKey'])&&(logger[_0x28d6b1(0x102)](_0x2fe7c8['AnCxK']),await _0x2fe7c8[_0x28d6b1(0x10a)](sleep),process[_0x28d6b1(0x140)](0x1));const _0x6c800=CLIUtils[_0x28d6b1(0x11d)]();!_0x6c800&&(logger[_0x28d6b1(0x102)](_0x2fe7c8[_0x28d6b1(0xfb)]),await _0x2fe7c8[_0x28d6b1(0x10d)](sleep),process[_0x28d6b1(0x140)](0x1));let _0x5f49b7=CLIUtils['getExistingCliPath'](_0x6c800);try{!_0x5f49b7?(logger[_0x28d6b1(0x12b)](_0x2fe7c8['KEIKU']),_0x5f49b7=await CLIUtils[_0x28d6b1(0x141)]('',_0x6c800,_0xa8c943)):(logger['debug'](_0x2fe7c8[_0x28d6b1(0x10c)]),_0x5f49b7=await CLIUtils[_0x28d6b1(0x141)](_0x5f49b7,_0x6c800,_0xa8c943));}catch(_0x4611f7){logger['error'](_0x2fe7c8[_0x28d6b1(0x118)]),logger[_0x28d6b1(0x12b)](_0x28d6b1(0x11a)+(_0x4611f7[_0x28d6b1(0x137)]||JSON[_0x28d6b1(0x112)](_0x4611f7))),await _0x2fe7c8[_0x28d6b1(0xf8)](sleep),process[_0x28d6b1(0x140)](0x1);}!_0x5f49b7&&(logger[_0x28d6b1(0x102)](_0x2fe7c8[_0x28d6b1(0x118)]),logger['debug'](_0x2fe7c8['vBTRH']),await _0x2fe7c8[_0x28d6b1(0x10d)](sleep),process[_0x28d6b1(0x140)](0x1));logger[_0x28d6b1(0x12b)](_0x28d6b1(0x119)+_0x5f49b7+_0x28d6b1(0x129)+_0x2d988d[_0x28d6b1(0xfa)]('\x20'));const _0x51a119=_0x2fe7c8[_0x28d6b1(0x103)](spawn,_0x5f49b7,[_0x2fe7c8[_0x28d6b1(0x104)],..._0x2d988d],{'stdio':_0x2fe7c8[_0x28d6b1(0x131)]});let _0x20a6ad=![];const _0x355e07=new Promise(_0x191b17=>{const _0x5decad={'QrEoU':function(_0x2e35fa,_0x2b3f00){return _0x2fe7c8['AUrwb'](_0x2e35fa,_0x2b3f00);}};_0x51a119['on'](_0x2fe7c8['cSMuM'],_0xb5bba2=>{const _0x3f9a2c=a28_0x5331;logger['debug'](_0x5f49b7+_0x3f9a2c(0x11e)+_0xb5bba2),_0x5decad[_0x3f9a2c(0x10f)](_0x191b17,_0xb5bba2);});});[_0x2fe7c8[_0x28d6b1(0x13c)],_0x2fe7c8['sfZpP'],_0x2fe7c8[_0x28d6b1(0x12c)],_0x2fe7c8[_0x28d6b1(0x101)]][_0x28d6b1(0x12f)](_0x48f7ff=>{process['on'](_0x48f7ff,()=>{const _0x210d32=a28_0x5331;if(_0x20a6ad)return;_0x20a6ad=!![],logger[_0x210d32(0x12b)](_0x210d32(0xfd)+_0x48f7ff+',\x20forwarding\x20to\x20child\x20process...'),_0x51a119&&!_0x51a119[_0x210d32(0x13d)]&&(_0x51a119[_0x210d32(0xff)](_0x48f7ff),logger[_0x210d32(0x12b)](_0x2fe7c8[_0x210d32(0x110)]));});});const _0x272d51=await _0x355e07;await _0x2fe7c8[_0x28d6b1(0xf9)](sleep),process[_0x28d6b1(0x140)](_0x272d51);}catch(_0x3b449e){logger[_0x28d6b1(0x102)](_0x28d6b1(0xfe)+_0x3b449e['message']),logger[_0x28d6b1(0x12b)]('Error\x20details:\x20'+(_0x3b449e[_0x28d6b1(0x137)]||JSON[_0x28d6b1(0x112)](_0x3b449e))),await _0x2fe7c8[_0x28d6b1(0x115)](sleep),process[_0x28d6b1(0x140)](0x1);}}function a28_0x5331(_0x1facc,_0x470452){const _0x1502af=a28_0x1502();return a28_0x5331=function(_0x533183,_0x93c28d){_0x533183=_0x533183-0xf8;let _0x210823=_0x1502af[_0x533183];return _0x210823;},a28_0x5331(_0x1facc,_0x470452);}module[a28_0x50a766(0x100)]=executeLoadTest;function a28_0x1502(){const _0x7c03f0=['child_process','Waiting\x20for\x20child\x20process\x20to\x20exit...','jJkWR','BROWSERSTACK_ACCESS_KEY','zDwLI','UuXZP','3JwskFG','QrEoU','HDNmw','Failed\x20to\x20download\x20or\x20locate\x20CLI\x20binary','stringify','winstonLogger','820344RbckBK','RpAie','accessKey','inherit','AnCxK','Spawning:\x20','Error\x20Details:\x20','BROWSERSTACK_USER','Authentication\x20incomplete.\x20Please\x20add\x20your\x20userName\x20and\x20accessKey\x20to\x20either\x20the\x20browserstack.yml\x20file\x20or\x20as\x20environment\x20variables,\x20then\x20try\x20running\x20the\x20command\x20again.','getCliDir','\x20exited\x20with\x20code\x20','./loadUtils','Configuration\x20path:\x20','SIGHUP','BROWSERSTACK_ACCESSKEY','path','BROWSERSTACK_USERNAME','userName','1836472XRdzFy','close','env','\x20load\x20','108718wGklMG','debug','ELegt','Failed\x20to\x20determine\x20CLI\x20directory','806750VtILZI','forEach','SIGTERM','JvmlB','slice','wOsVO','7533486fCvRKr','CLI\x20binary\x20found,\x20Checking\x20for\x20CLI\x20updates','argv','stack','SIGINT','7ijOVMv','Executing\x20load\x20test\x20with\x20arguments:\x20','77604RuPNKW','RSPNp','killed','../../helpers/logger','485456MCkRzq','exit','checkAndUpdateCli','OJpJS','HmJyd','join','dDzpU','Error\x20loading\x20configuration:\x20','Received\x20','Failed\x20initiating\x20load\x20test:\x20','kill','exports','htILB','error','jkeyb','JWGDL','../../helpers/helper','CLI\x20binary\x20not\x20found,\x20downloading\x20latest\x20version','Loading\x20configuration\x20using\x20environment\x20variables\x20if\x20available.'];a28_0x1502=function(){return _0x7c03f0;};return a28_0x1502();}