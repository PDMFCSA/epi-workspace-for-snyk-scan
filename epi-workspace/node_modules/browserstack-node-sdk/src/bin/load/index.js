#!/usr/bin/env node
'use strict';const a27_0x346793=a27_0x1899;(function(_0x3a1b0b,_0x7cbc05){const _0x127d83=a27_0x1899,_0x16728c=_0x3a1b0b();while(!![]){try{const _0x5f3aae=-parseInt(_0x127d83(0x107))/0x1*(parseInt(_0x127d83(0xe1))/0x2)+parseInt(_0x127d83(0xe0))/0x3+parseInt(_0x127d83(0x108))/0x4*(-parseInt(_0x127d83(0xde))/0x5)+parseInt(_0x127d83(0x10c))/0x6*(-parseInt(_0x127d83(0x11a))/0x7)+parseInt(_0x127d83(0x104))/0x8*(-parseInt(_0x127d83(0xe9))/0x9)+parseInt(_0x127d83(0xed))/0xa+parseInt(_0x127d83(0x121))/0xb;if(_0x5f3aae===_0x7cbc05)break;else _0x16728c['push'](_0x16728c['shift']());}catch(_0x55a42c){_0x16728c['push'](_0x16728c['shift']());}}}(a27_0x1912,0x4e928));function a27_0x1912(){const _0x3217ee=['forEach','Configuration\x20loaded\x20successfully','./loadUtils','accessKey','No\x20configuration\x20file\x20found,\x20using\x20environment\x20variables\x20if\x20available.','yRClk','slice','utaWf','fEGbL','BROWSERSTACK_ACCESSKEY','child_process','../../helpers/helper','1446968pujVyx','Loading\x20configuration...','SIGINT','47487myFRSJ','2648uzREaT','Spawning:\x20','sAULy','Configuration\x20path:','1861668pFyyge','SIGHUP','wFoPE','env','killed','Waiting\x20for\x20child\x20process\x20to\x20exit...','RjYgR','qsPXz','SIGQUIT','pEbHP','username','winstonLogger','YbZVi','NmRTN','7lqnkcG','path','gusNc','Received\x20','Failed\x20to\x20determine\x20CLI\x20directory','checkAndUpdateCli','debug','15499825uWkJAQ','OpGwu','getCliDir','exports','readConfig','1990zAjsJI','exit','1190397RPZDrG','22hOspQj','iclIm','CLI\x20binary\x20found,\x20Checking\x20for\x20CLI\x20updates','sMGYy','\x20load\x20','BROWSERSTACK_ACCESS_KEY','\x20exited\x20with\x20code\x20','xNXNb','27nlbeRp','kill','NZwVh','includes','1546820dQKNje','SIGTERM','close','error','argv','Executing\x20load\x20test\x20with\x20arguments:','CLI\x20binary\x20not\x20found,\x20downloading\x20latest\x20version',',\x20forwarding\x20to\x20child\x20process...','Error\x20loading\x20configuration:','join','../../helpers/logger'];a27_0x1912=function(){return _0x3217ee;};return a27_0x1912();}const {spawn}=require(a27_0x346793(0x102)),path=require(a27_0x346793(0x11b)),helper=require(a27_0x346793(0x103)),logger=require(a27_0x346793(0xf7))[a27_0x346793(0x117)],CLIUtils=require('../v2/cliUtils'),{getLoadConfigPath}=require(a27_0x346793(0xfa));function a27_0x1899(_0x420b1d,_0x155e0d){const _0x191216=a27_0x1912();return a27_0x1899=function(_0x1899d0,_0x24972d){_0x1899d0=_0x1899d0-0xde;let _0xd0c817=_0x191216[_0x1899d0];return _0xd0c817;},a27_0x1899(_0x420b1d,_0x155e0d);}async function executeLoadTest(_0x332d68){const _0x4e2229=a27_0x346793,_0x5357e0={'sAULy':function(_0x29bc0a,_0xfa400a){return _0x29bc0a(_0xfa400a);},'NmRTN':_0x4e2229(0xef),'xNXNb':_0x4e2229(0x111),'gusNc':_0x4e2229(0xf2),'JNfME':'--help','yRClk':_0x4e2229(0x105),'utaWf':_0x4e2229(0x10b),'sMGYy':_0x4e2229(0xfc),'HVdgM':_0x4e2229(0xf9),'DGgFN':_0x4e2229(0xf5),'qsPXz':_0x4e2229(0x11e),'NZwVh':_0x4e2229(0xf3),'OpGwu':_0x4e2229(0xe3),'iclIm':'Failed\x20to\x20download\x20or\x20locate\x20CLI\x20binary','pEbHP':function(_0xfd241d,_0x738333,_0x1cc60b,_0x3ee96d){return _0xfd241d(_0x738333,_0x1cc60b,_0x3ee96d);},'wFoPE':'load','fEGbL':'inherit','YbZVi':_0x4e2229(0x106),'ADDKc':_0x4e2229(0xee),'YqqiK':_0x4e2229(0x114),'jfLTo':_0x4e2229(0x10d)};try{const _0xc9b85c=process[_0x4e2229(0xf1)][_0x4e2229(0xfe)](0x2),_0xa9508b=_0xc9b85c[_0x4e2229(0xfe)](0x1);logger[_0x4e2229(0x120)](_0x5357e0[_0x4e2229(0x11c)],_0xa9508b);const _0x2dabed=_0xa9508b[_0x4e2229(0xec)](_0x5357e0['JNfME'])||_0xa9508b['includes']('-h');let _0x37693a={};try{logger[_0x4e2229(0x120)](_0x5357e0[_0x4e2229(0xfd)]);const _0x195818=_0x5357e0[_0x4e2229(0x10a)](getLoadConfigPath,_0x332d68['argv']);logger['debug'](_0x5357e0[_0x4e2229(0xff)],_0x195818);if(_0x195818)_0x37693a=helper[_0x4e2229(0x125)](_0x195818);else{logger[_0x4e2229(0x120)](_0x5357e0[_0x4e2229(0xe4)]);const _0x307eba={};_0x307eba[_0x4e2229(0x116)]=process[_0x4e2229(0x10f)]['BROWSERSTACK_USERNAME']||process[_0x4e2229(0x10f)]['BROWSERSTACK_USER'],_0x307eba[_0x4e2229(0xfb)]=process['env'][_0x4e2229(0xe6)]||process[_0x4e2229(0x10f)][_0x4e2229(0x101)],_0x37693a=_0x307eba;}logger[_0x4e2229(0x120)](_0x5357e0['HVdgM']);}catch(_0x3a33f3){logger[_0x4e2229(0xf0)](_0x5357e0['DGgFN'],_0x3a33f3['message']),process['exit'](0x1);}const _0x5ca18b=CLIUtils[_0x4e2229(0x123)]();!_0x5ca18b&&(logger[_0x4e2229(0xf0)](_0x5357e0[_0x4e2229(0x113)]),process['exit'](0x1));let _0x32b510=CLIUtils['getExistingCliPath'](_0x5ca18b);!_0x32b510?(logger[_0x4e2229(0x120)](_0x5357e0[_0x4e2229(0xeb)]),_0x32b510=await CLIUtils[_0x4e2229(0x11f)]('',_0x5ca18b,_0x37693a)):(logger[_0x4e2229(0x120)](_0x5357e0[_0x4e2229(0x122)]),_0x32b510=await CLIUtils[_0x4e2229(0x11f)](_0x32b510,_0x5ca18b,_0x37693a));!_0x32b510&&(logger['error'](_0x5357e0[_0x4e2229(0xe2)]),process[_0x4e2229(0xdf)](0x1));logger[_0x4e2229(0x120)](_0x4e2229(0x109)+_0x32b510+_0x4e2229(0xe5)+_0xa9508b[_0x4e2229(0xf6)]('\x20'));const _0x426aeb=_0x5357e0[_0x4e2229(0x115)](spawn,_0x32b510,[_0x5357e0[_0x4e2229(0x10e)],..._0xa9508b],{'stdio':_0x5357e0[_0x4e2229(0x100)]});let _0x56aac2=![];const _0x46ec8e=new Promise(_0xab1bc9=>{const _0x209839=_0x4e2229;_0x426aeb['on'](_0x5357e0[_0x209839(0x119)],_0x6426c0=>{const _0x10a866=_0x209839;logger[_0x10a866(0x120)](_0x32b510+_0x10a866(0xe7)+_0x6426c0),_0x5357e0[_0x10a866(0x10a)](_0xab1bc9,_0x6426c0);});});[_0x5357e0[_0x4e2229(0x118)],_0x5357e0['ADDKc'],_0x5357e0['YqqiK'],_0x5357e0['jfLTo']][_0x4e2229(0xf8)](_0xa8aaf6=>{const _0x48afc9=_0x4e2229,_0x11589b={};_0x11589b[_0x48afc9(0x112)]=_0x5357e0[_0x48afc9(0xe8)];const _0x1e62d3=_0x11589b;process['on'](_0xa8aaf6,()=>{const _0x48b767=_0x48afc9;if(_0x56aac2)return;_0x56aac2=!![],logger[_0x48b767(0x120)](_0x48b767(0x11d)+_0xa8aaf6+_0x48b767(0xf4)),_0x426aeb&&!_0x426aeb[_0x48b767(0x110)]&&(_0x426aeb[_0x48b767(0xea)](_0xa8aaf6),logger[_0x48b767(0x120)](_0x1e62d3[_0x48b767(0x112)]));});});const _0x3c2114=await _0x46ec8e;process[_0x4e2229(0xdf)](_0x3c2114);}catch(_0x47d885){logger[_0x4e2229(0xf0)]('Failed\x20initiating\x20load\x20test:\x20'+_0x47d885['message']),process[_0x4e2229(0xdf)](0x1);}}module[a27_0x346793(0x124)]=executeLoadTest;