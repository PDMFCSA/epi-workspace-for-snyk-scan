#!/usr/bin/env node
'use strict';const a29_0x3fa6f3=a29_0x4792;(function(_0x82399a,_0x5dd23c){const _0x1ddda4=a29_0x4792,_0x1ee8dc=_0x82399a();while(!![]){try{const _0x1008e7=parseInt(_0x1ddda4(0xe1))/0x1*(-parseInt(_0x1ddda4(0xe5))/0x2)+parseInt(_0x1ddda4(0xd2))/0x3*(parseInt(_0x1ddda4(0xdf))/0x4)+parseInt(_0x1ddda4(0xdb))/0x5*(parseInt(_0x1ddda4(0xcc))/0x6)+parseInt(_0x1ddda4(0x100))/0x7*(parseInt(_0x1ddda4(0xf1))/0x8)+parseInt(_0x1ddda4(0xf0))/0x9+parseInt(_0x1ddda4(0xc3))/0xa*(parseInt(_0x1ddda4(0xe2))/0xb)+-parseInt(_0x1ddda4(0xd5))/0xc;if(_0x1008e7===_0x5dd23c)break;else _0x1ee8dc['push'](_0x1ee8dc['shift']());}catch(_0x1ec9a5){_0x1ee8dc['push'](_0x1ee8dc['shift']());}}}(a29_0xb047,0xc99b3));function a29_0x4792(_0x24a469,_0x199621){const _0xb047d1=a29_0xb047();return a29_0x4792=function(_0x479257,_0x3b289a){_0x479257=_0x479257-0xbd;let _0x293044=_0xb047d1[_0x479257];return _0x293044;},a29_0x4792(_0x24a469,_0x199621);}const {spawn}=require('child_process'),path=require(a29_0x3fa6f3(0xcb)),helper=require(a29_0x3fa6f3(0xc8)),CLIUtils=require(a29_0x3fa6f3(0xeb)),{getLoadConfigPath,sleep}=require(a29_0x3fa6f3(0xf2)),logger=require(a29_0x3fa6f3(0xd3))['winstonLogger'];async function executeLoadTest(_0x1e51c8){const _0x54a2e2=a29_0x3fa6f3,_0x1e3163={'gRpgr':function(_0x1849ad,_0x5b8b61){return _0x1849ad(_0x5b8b61);},'wVdsx':_0x54a2e2(0xbf),'uCAOV':_0x54a2e2(0xc2),'aPFEY':_0x54a2e2(0xde),'vySQs':function(_0x40e275){return _0x40e275();},'uIaqG':_0x54a2e2(0xd0),'cVelP':_0x54a2e2(0xef),'RZGkS':function(_0x21acaf){return _0x21acaf();},'EeQPX':_0x54a2e2(0xda),'qMeUm':'CLI\x20binary\x20found,\x20Checking\x20for\x20CLI\x20updates','tONXV':function(_0x198202){return _0x198202();},'KKPkO':_0x54a2e2(0xe6),'mEMZo':function(_0x156196){return _0x156196();},'iUpif':function(_0x2d2489,_0x50d2d6,_0x1aed4c,_0x156ef2){return _0x2d2489(_0x50d2d6,_0x1aed4c,_0x156ef2);},'NHTfO':_0x54a2e2(0xcd),'rheKY':_0x54a2e2(0x104),'jWkzt':'SIGINT','toAjy':_0x54a2e2(0xd1),'OzqLd':'SIGQUIT','IdMpq':_0x54a2e2(0xfc),'uSYxZ':function(_0x26786a){return _0x26786a();}};try{const _0x1e6bf7=process[_0x54a2e2(0xfe)]['slice'](0x2),_0x5d03a2=_0x1e6bf7[_0x54a2e2(0xd6)](0x1);logger[_0x54a2e2(0xbe)](_0x54a2e2(0xc1)+_0x5d03a2);let _0x58702c={};try{logger[_0x54a2e2(0xbe)](_0x1e3163['aPFEY']);const _0x284d2b={};_0x284d2b[_0x54a2e2(0xc9)]=process[_0x54a2e2(0xf7)][_0x54a2e2(0xce)]||process['env'][_0x54a2e2(0xfb)],_0x284d2b['accessKey']=process[_0x54a2e2(0xf7)][_0x54a2e2(0xbd)]||process['env'][_0x54a2e2(0xe0)],_0x58702c=_0x284d2b;if(!_0x58702c[_0x54a2e2(0xc9)]||!_0x58702c['accessKey']){const _0x43a3ec=_0x1e3163[_0x54a2e2(0xfd)](getLoadConfigPath,_0x1e51c8[_0x54a2e2(0xfe)]);logger[_0x54a2e2(0xbe)](_0x54a2e2(0x102)+_0x43a3ec),_0x43a3ec&&(_0x58702c=helper[_0x54a2e2(0x101)](_0x43a3ec));}}catch(_0x3646b5){logger[_0x54a2e2(0xed)](_0x54a2e2(0xd7)+_0x3646b5[_0x54a2e2(0xc5)]),logger['debug'](_0x54a2e2(0xd4)+(_0x3646b5['stack']||JSON[_0x54a2e2(0xf8)](_0x3646b5))),await _0x1e3163[_0x54a2e2(0xe9)](sleep),process[_0x54a2e2(0xc7)](0x1);}(!_0x58702c[_0x54a2e2(0xc9)]||!_0x58702c[_0x54a2e2(0xd8)])&&(logger[_0x54a2e2(0xed)](_0x1e3163[_0x54a2e2(0xfa)]),await _0x1e3163['vySQs'](sleep),process[_0x54a2e2(0xc7)](0x1));const _0x464258=CLIUtils[_0x54a2e2(0xf9)]();!_0x464258&&(logger[_0x54a2e2(0xed)](_0x1e3163[_0x54a2e2(0xf5)]),await _0x1e3163['RZGkS'](sleep),process[_0x54a2e2(0xc7)](0x1));let _0x3a7163=CLIUtils['getExistingCliPath'](_0x464258);try{!_0x3a7163?(logger[_0x54a2e2(0xbe)](_0x1e3163[_0x54a2e2(0xe8)]),_0x3a7163=await CLIUtils['checkAndUpdateCli']('',_0x464258,_0x58702c)):(logger[_0x54a2e2(0xbe)](_0x1e3163[_0x54a2e2(0x103)]),_0x3a7163=await CLIUtils[_0x54a2e2(0xea)](_0x3a7163,_0x464258,_0x58702c));}catch(_0x583ca9){logger[_0x54a2e2(0xed)](_0x1e3163[_0x54a2e2(0xfa)]),logger['debug'](_0x54a2e2(0xc0)+(_0x583ca9[_0x54a2e2(0xec)]||JSON[_0x54a2e2(0xf8)](_0x583ca9))),await _0x1e3163[_0x54a2e2(0xf3)](sleep),process[_0x54a2e2(0xc7)](0x1);}!_0x3a7163&&(logger[_0x54a2e2(0xed)](_0x1e3163['uIaqG']),logger[_0x54a2e2(0xbe)](_0x1e3163[_0x54a2e2(0xf6)]),await _0x1e3163[_0x54a2e2(0xd9)](sleep),process[_0x54a2e2(0xc7)](0x1));logger['debug']('Spawning:\x20'+_0x3a7163+_0x54a2e2(0xca)+_0x5d03a2[_0x54a2e2(0xcf)]('\x20'));const _0x2cbffd=_0x1e3163['iUpif'](spawn,_0x3a7163,[_0x1e3163[_0x54a2e2(0xc4)],..._0x5d03a2],{'stdio':_0x1e3163[_0x54a2e2(0xdc)]});let _0x4bef6b=![];const _0x316af2=new Promise(_0x4fffcc=>{const _0x394f4e=_0x54a2e2;_0x2cbffd['on'](_0x1e3163[_0x394f4e(0xe3)],_0x29d143=>{const _0x36a19c=_0x394f4e;logger[_0x36a19c(0xbe)](_0x3a7163+_0x36a19c(0xc6)+_0x29d143),_0x1e3163[_0x36a19c(0xfd)](_0x4fffcc,_0x29d143);});});[_0x1e3163[_0x54a2e2(0xe7)],_0x1e3163['toAjy'],_0x1e3163['OzqLd'],_0x1e3163['IdMpq']]['forEach'](_0x21030f=>{process['on'](_0x21030f,()=>{const _0x4544c3=a29_0x4792;if(_0x4bef6b)return;_0x4bef6b=!![],logger[_0x4544c3(0xbe)]('Received\x20'+_0x21030f+_0x4544c3(0xe4)),_0x2cbffd&&!_0x2cbffd[_0x4544c3(0xff)]&&(_0x2cbffd['kill'](_0x21030f),logger[_0x4544c3(0xbe)](_0x1e3163['uCAOV']));});});const _0xb4b006=await _0x316af2;await _0x1e3163[_0x54a2e2(0xf3)](sleep),process[_0x54a2e2(0xc7)](_0xb4b006);}catch(_0x3ecf53){logger['error'](_0x54a2e2(0xdd)+_0x3ecf53['message']),logger[_0x54a2e2(0xbe)]('Error\x20details:\x20'+(_0x3ecf53['stack']||JSON[_0x54a2e2(0xf8)](_0x3ecf53))),await _0x1e3163[_0x54a2e2(0xee)](sleep),process[_0x54a2e2(0xc7)](0x1);}}module[a29_0x3fa6f3(0xf4)]=executeLoadTest;function a29_0xb047(){const _0x967261=['282303TaSiOf','readConfig','Configuration\x20path:\x20','qMeUm','inherit','BROWSERSTACK_ACCESS_KEY','debug','close','Error\x20Details:\x20','Executing\x20load\x20test\x20with\x20arguments:\x20','Waiting\x20for\x20child\x20process\x20to\x20exit...','10qEZdUI','NHTfO','message','\x20exited\x20with\x20code\x20','exit','../../helpers/helper','userName','\x20load\x20','path','342FaVRQW','load','BROWSERSTACK_USERNAME','join','Authentication\x20incomplete.\x20Please\x20add\x20your\x20userName\x20and\x20accessKey\x20to\x20either\x20the\x20browserstack.yml\x20file\x20or\x20as\x20environment\x20variables,\x20then\x20try\x20running\x20the\x20command\x20again.','SIGTERM','3610821zdiHWF','../../helpers/logger','Error\x20details:\x20','41418456hwZqrv','slice','Error\x20loading\x20configuration:\x20','accessKey','mEMZo','CLI\x20binary\x20not\x20found,\x20downloading\x20latest\x20version','104845gGkUQB','rheKY','Failed\x20initiating\x20load\x20test:\x20','Loading\x20configuration\x20using\x20environment\x20variables\x20if\x20available.','4oFXMwj','BROWSERSTACK_ACCESSKEY','470zcDemF','16274082LIOsPg','wVdsx',',\x20forwarding\x20to\x20child\x20process...','4418AyKExw','Failed\x20to\x20download\x20or\x20locate\x20CLI\x20binary','jWkzt','EeQPX','vySQs','checkAndUpdateCli','../v2/cliUtils','stack','error','uSYxZ','Failed\x20to\x20determine\x20CLI\x20directory','2409336UZAmrb','232rfpYZN','./loadUtils','tONXV','exports','cVelP','KKPkO','env','stringify','getCliDir','uIaqG','BROWSERSTACK_USER','SIGHUP','gRpgr','argv','killed'];a29_0xb047=function(){return _0x967261;};return a29_0xb047();}