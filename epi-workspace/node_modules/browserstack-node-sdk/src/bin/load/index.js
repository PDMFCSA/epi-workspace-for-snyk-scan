#!/usr/bin/env node
'use strict';const a28_0x167108=a28_0x3f80;(function(_0x4d37d7,_0x392147){const _0x50a6fb=a28_0x3f80,_0x47df5c=_0x4d37d7();while(!![]){try{const _0x2df420=-parseInt(_0x50a6fb(0x7e))/0x1*(parseInt(_0x50a6fb(0x9b))/0x2)+parseInt(_0x50a6fb(0xc1))/0x3*(-parseInt(_0x50a6fb(0xb9))/0x4)+-parseInt(_0x50a6fb(0x89))/0x5*(parseInt(_0x50a6fb(0xbb))/0x6)+-parseInt(_0x50a6fb(0xb8))/0x7+parseInt(_0x50a6fb(0xa7))/0x8+-parseInt(_0x50a6fb(0x8d))/0x9+parseInt(_0x50a6fb(0x8b))/0xa;if(_0x2df420===_0x392147)break;else _0x47df5c['push'](_0x47df5c['shift']());}catch(_0x13405d){_0x47df5c['push'](_0x47df5c['shift']());}}}(a28_0x7473,0x18bd9));const {spawn}=require(a28_0x167108(0x7f)),path=require(a28_0x167108(0x99)),helper=require(a28_0x167108(0x86)),CLIUtils=require('../v2/cliUtils'),{getLoadConfigPath,sleep}=require(a28_0x167108(0xb1)),logger=require(a28_0x167108(0x7d))[a28_0x167108(0x92)];async function executeLoadTest(_0x4154e5){const _0x450409=a28_0x167108,_0x1c5cdd={'OiXlx':function(_0x4dfae8,_0x202b0b){return _0x4dfae8(_0x202b0b);},'xlHwh':'close','tshmt':'Waiting\x20for\x20child\x20process\x20to\x20exit...','aKNOa':_0x450409(0x96),'JDRxx':function(_0x5cd8f2,_0x2b3488){return _0x5cd8f2(_0x2b3488);},'tDXcA':function(_0x3d4e40){return _0x3d4e40();},'lbFnk':_0x450409(0xb5),'IadiA':'Failed\x20to\x20determine\x20CLI\x20directory','hFYtT':function(_0x328ccf){return _0x328ccf();},'nERTg':_0x450409(0xa4),'HfErX':_0x450409(0xae),'ebvBd':_0x450409(0xb2),'WNpmE':function(_0x3d94b0,_0x348ef5,_0x558cd6,_0xe6f4b3){return _0x3d94b0(_0x348ef5,_0x558cd6,_0xe6f4b3);},'bBqfi':'load','bjkRM':_0x450409(0xb6),'VrQWH':_0x450409(0x77),'ZzAFt':_0x450409(0xc0),'oDUmb':'SIGQUIT','UXGvt':'SIGHUP','Mawvd':function(_0x5a19fa){return _0x5a19fa();},'hdgrx':function(_0x491ddd){return _0x491ddd();}};try{const _0x3a7b0f=process[_0x450409(0x81)][_0x450409(0xad)](0x2),_0x4adeef=_0x3a7b0f[_0x450409(0xad)](0x1);logger[_0x450409(0x80)](_0x450409(0x91)+_0x4adeef);let _0x3db028={};try{logger[_0x450409(0x80)](_0x1c5cdd[_0x450409(0xa9)]);const _0x4e8e8c={};_0x4e8e8c[_0x450409(0xb7)]=process[_0x450409(0xbe)][_0x450409(0x7b)]||process[_0x450409(0xbe)][_0x450409(0x98)],_0x4e8e8c[_0x450409(0x9e)]=process[_0x450409(0xbe)][_0x450409(0xbd)]||process[_0x450409(0xbe)][_0x450409(0xa8)],_0x3db028=_0x4e8e8c;if(!_0x3db028[_0x450409(0xb7)]||!_0x3db028[_0x450409(0x9e)]){const _0x419587=_0x1c5cdd[_0x450409(0x8e)](getLoadConfigPath,_0x4154e5[_0x450409(0x81)]);logger['debug']('Configuration\x20path:\x20'+_0x419587),_0x419587&&(_0x3db028=helper[_0x450409(0x84)](_0x419587));}}catch(_0x440cd4){logger['error'](_0x450409(0xb0)+_0x440cd4[_0x450409(0xa3)]),logger[_0x450409(0x80)](_0x450409(0x9c)+(_0x440cd4['stack']||JSON[_0x450409(0xb3)](_0x440cd4))),await _0x1c5cdd[_0x450409(0x85)](sleep),process[_0x450409(0xa6)](0x1);}(!_0x3db028[_0x450409(0xb7)]||!_0x3db028[_0x450409(0x9e)])&&(logger['error'](_0x1c5cdd[_0x450409(0x8f)]),await _0x1c5cdd['tDXcA'](sleep),process['exit'](0x1));const _0x2ceec0=CLIUtils[_0x450409(0xac)]();!_0x2ceec0&&(logger['error'](_0x1c5cdd[_0x450409(0xa2)]),await _0x1c5cdd[_0x450409(0x88)](sleep),process['exit'](0x1));let _0x53de87=CLIUtils[_0x450409(0xbf)](_0x2ceec0);try{!_0x53de87?(logger[_0x450409(0x80)](_0x1c5cdd[_0x450409(0x93)]),_0x53de87=await CLIUtils[_0x450409(0xba)]('',_0x2ceec0,_0x3db028)):(logger[_0x450409(0x80)](_0x1c5cdd[_0x450409(0xb4)]),_0x53de87=await CLIUtils[_0x450409(0xba)](_0x53de87,_0x2ceec0,_0x3db028));}catch(_0x4af07f){logger[_0x450409(0x87)](_0x1c5cdd[_0x450409(0x8f)]),logger['debug'](_0x450409(0x7c)+(_0x4af07f[_0x450409(0x95)]||JSON[_0x450409(0xb3)](_0x4af07f))),await _0x1c5cdd['tDXcA'](sleep),process['exit'](0x1);}!_0x53de87&&(logger[_0x450409(0x87)](_0x1c5cdd[_0x450409(0x8f)]),logger[_0x450409(0x80)](_0x1c5cdd['ebvBd']),await _0x1c5cdd[_0x450409(0x85)](sleep),process[_0x450409(0xa6)](0x1));logger[_0x450409(0x80)](_0x450409(0x8c)+_0x53de87+_0x450409(0x7a)+_0x4adeef[_0x450409(0x94)]('\x20'));const _0x3b0349=_0x1c5cdd['WNpmE'](spawn,_0x53de87,[_0x1c5cdd[_0x450409(0xa0)],..._0x4adeef],{'stdio':_0x1c5cdd[_0x450409(0xa5)]});let _0x5144ca=![];const _0x458257=new Promise(_0x15f7af=>{const _0x3803e7=_0x450409;_0x3b0349['on'](_0x1c5cdd[_0x3803e7(0x8a)],_0x3378ba=>{const _0x329c1b=_0x3803e7;logger[_0x329c1b(0x80)](_0x53de87+_0x329c1b(0x82)+_0x3378ba),_0x1c5cdd[_0x329c1b(0x83)](_0x15f7af,_0x3378ba);});});[_0x1c5cdd[_0x450409(0x9a)],_0x1c5cdd['ZzAFt'],_0x1c5cdd[_0x450409(0xbc)],_0x1c5cdd[_0x450409(0x78)]][_0x450409(0x97)](_0xeb54ec=>{const _0x1c34de=_0x450409,_0x133fd4={};_0x133fd4[_0x1c34de(0xaa)]=_0x1c5cdd[_0x1c34de(0xa1)];const _0x1a7146=_0x133fd4;process['on'](_0xeb54ec,()=>{const _0x36cee8=_0x1c34de;if(_0x5144ca)return;_0x5144ca=!![],logger[_0x36cee8(0x80)]('Received\x20'+_0xeb54ec+_0x36cee8(0x9f)),_0x3b0349&&!_0x3b0349[_0x36cee8(0xaf)]&&(_0x3b0349['kill'](_0xeb54ec),logger[_0x36cee8(0x80)](_0x1a7146[_0x36cee8(0xaa)]));});});const _0x5571be=await _0x458257;await _0x1c5cdd[_0x450409(0x79)](sleep),process['exit'](_0x5571be);}catch(_0x17c953){logger[_0x450409(0x87)](_0x450409(0xab)+_0x17c953[_0x450409(0xa3)]),logger[_0x450409(0x80)](_0x450409(0x9c)+(_0x17c953[_0x450409(0x95)]||JSON[_0x450409(0xb3)](_0x17c953))),await _0x1c5cdd[_0x450409(0x90)](sleep),process['exit'](0x1);}}function a28_0x3f80(_0x435f18,_0x5b502e){const _0x7473c2=a28_0x7473();return a28_0x3f80=function(_0x3f8068,_0xce7ce4){_0x3f8068=_0x3f8068-0x77;let _0x573cf0=_0x7473c2[_0x3f8068];return _0x573cf0;},a28_0x3f80(_0x435f18,_0x5b502e);}function a28_0x7473(){const _0x3285d1=['VrQWH','2yoxYJt','Error\x20details:\x20','exports','accessKey',',\x20forwarding\x20to\x20child\x20process...','bBqfi','tshmt','IadiA','message','CLI\x20binary\x20not\x20found,\x20downloading\x20latest\x20version','bjkRM','exit','204776xsIwZe','BROWSERSTACK_ACCESSKEY','aKNOa','sFavt','Failed\x20initiating\x20load\x20test:\x20','getCliDir','slice','CLI\x20binary\x20found,\x20Checking\x20for\x20CLI\x20updates','killed','Error\x20loading\x20configuration:\x20','./loadUtils','Failed\x20to\x20download\x20or\x20locate\x20CLI\x20binary','stringify','HfErX','Authentication\x20incomplete.\x20Please\x20add\x20your\x20userName\x20and\x20accessKey\x20to\x20either\x20the\x20browserstack.yml\x20file\x20or\x20as\x20environment\x20variables,\x20then\x20try\x20running\x20the\x20command\x20again.','inherit','userName','489524uKeRAJ','645688JhpaKf','checkAndUpdateCli','66LjWyMj','oDUmb','BROWSERSTACK_ACCESS_KEY','env','getExistingCliPath','SIGTERM','3HXKrBk','SIGINT','UXGvt','Mawvd','\x20load\x20','BROWSERSTACK_USERNAME','Error\x20Details:\x20','../../helpers/logger','4407booFpZ','child_process','debug','argv','\x20exited\x20with\x20code\x20','OiXlx','readConfig','tDXcA','../../helpers/helper','error','hFYtT','67935ixswbH','xlHwh','5119280rbegTU','Spawning:\x20','458730oFvSMi','JDRxx','lbFnk','hdgrx','Executing\x20load\x20test\x20with\x20arguments:\x20','winstonLogger','nERTg','join','stack','Loading\x20configuration\x20using\x20environment\x20variables\x20if\x20available.','forEach','BROWSERSTACK_USER','path'];a28_0x7473=function(){return _0x3285d1;};return a28_0x7473();}module[a28_0x167108(0x9d)]=executeLoadTest;