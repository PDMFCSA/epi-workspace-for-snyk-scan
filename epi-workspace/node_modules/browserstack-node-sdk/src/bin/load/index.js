#!/usr/bin/env node
'use strict';const a27_0x46baaf=a27_0x4b08;(function(_0x440dc9,_0x53d947){const _0x1b7e43=a27_0x4b08,_0xc4ae80=_0x440dc9();while(!![]){try{const _0x52079a=-parseInt(_0x1b7e43(0x141))/0x1*(-parseInt(_0x1b7e43(0x120))/0x2)+parseInt(_0x1b7e43(0x131))/0x3*(-parseInt(_0x1b7e43(0x13a))/0x4)+-parseInt(_0x1b7e43(0x123))/0x5*(parseInt(_0x1b7e43(0x14d))/0x6)+-parseInt(_0x1b7e43(0x145))/0x7*(-parseInt(_0x1b7e43(0x147))/0x8)+-parseInt(_0x1b7e43(0x126))/0x9*(parseInt(_0x1b7e43(0x105))/0xa)+-parseInt(_0x1b7e43(0x135))/0xb*(parseInt(_0x1b7e43(0x121))/0xc)+parseInt(_0x1b7e43(0x14e))/0xd;if(_0x52079a===_0x53d947)break;else _0xc4ae80['push'](_0xc4ae80['shift']());}catch(_0x33ce31){_0xc4ae80['push'](_0xc4ae80['shift']());}}}(a27_0xe8ca,0xa75a5));function a27_0x4b08(_0x4bfc7b,_0x100fc4){const _0xe8caab=a27_0xe8ca();return a27_0x4b08=function(_0x4b08a3,_0x22d703){_0x4b08a3=_0x4b08a3-0x103;let _0x45decb=_0xe8caab[_0x4b08a3];return _0x45decb;},a27_0x4b08(_0x4bfc7b,_0x100fc4);}const {spawn}=require(a27_0x46baaf(0x11e)),path=require(a27_0x46baaf(0x113)),helper=require(a27_0x46baaf(0x119)),CLIUtils=require(a27_0x46baaf(0x10a)),{getLoadConfigPath,sleep}=require(a27_0x46baaf(0x103)),logger=require(a27_0x46baaf(0x127))[a27_0x46baaf(0x146)];async function executeLoadTest(_0x3acb42){const _0x5cc314=a27_0x46baaf,_0x29d463={'EzvZd':function(_0x254d98,_0x2929f5){return _0x254d98(_0x2929f5);},'ugzIv':_0x5cc314(0x12d),'iEVPe':_0x5cc314(0x10c),'YmeFZ':_0x5cc314(0x124),'dBdDm':function(_0x46d866,_0x29aba3){return _0x46d866(_0x29aba3);},'MRMcq':function(_0xc648f7){return _0xc648f7();},'URYtz':'Authentication\x20incomplete.\x20Please\x20add\x20your\x20userName\x20and\x20accessKey\x20to\x20either\x20the\x20browserstack.yml\x20file\x20or\x20as\x20environment\x20variables,\x20then\x20try\x20running\x20the\x20command\x20again.','SsgEu':function(_0x3c376e){return _0x3c376e();},'JnLZE':_0x5cc314(0x110),'xQKMH':function(_0x2379b1){return _0x2379b1();},'Tfmpf':'CLI\x20binary\x20not\x20found,\x20downloading\x20latest\x20version','AMSny':_0x5cc314(0x143),'iYzkd':_0x5cc314(0x14b),'UHEHb':function(_0x2e7214){return _0x2e7214();},'RvWgX':function(_0x4bf9b9,_0x255bf0,_0x341fba,_0x59314e){return _0x4bf9b9(_0x255bf0,_0x341fba,_0x59314e);},'Dhbvf':_0x5cc314(0x12b),'zAjej':_0x5cc314(0x142),'RnyyQ':_0x5cc314(0x132),'WHwjY':_0x5cc314(0x114),'uFbeP':_0x5cc314(0x136),'VJREP':_0x5cc314(0x10e),'RdqPX':function(_0x434190){return _0x434190();},'oBnsh':function(_0x1bdc7e){return _0x1bdc7e();}};try{const _0x528678=process['argv'][_0x5cc314(0x112)](0x2),_0x12a472=_0x528678[_0x5cc314(0x112)](0x1);logger[_0x5cc314(0x11a)](_0x5cc314(0x13d)+_0x12a472);let _0x236412={};try{logger['debug'](_0x29d463[_0x5cc314(0x138)]);const _0x322648={};_0x322648['userName']=process[_0x5cc314(0x128)][_0x5cc314(0x13c)]||process[_0x5cc314(0x128)][_0x5cc314(0x12c)],_0x322648['accessKey']=process[_0x5cc314(0x128)][_0x5cc314(0x10b)]||process[_0x5cc314(0x128)][_0x5cc314(0x111)],_0x236412=_0x322648;if(!_0x236412[_0x5cc314(0x11f)]||!_0x236412[_0x5cc314(0x10d)]){const _0x20cd4e=_0x29d463[_0x5cc314(0x14a)](getLoadConfigPath,_0x3acb42[_0x5cc314(0x116)]);logger[_0x5cc314(0x11a)]('Configuration\x20path:\x20'+_0x20cd4e),_0x20cd4e&&(_0x236412=helper[_0x5cc314(0x125)](_0x20cd4e));}}catch(_0x55dc29){logger[_0x5cc314(0x106)](_0x5cc314(0x108)+_0x55dc29['message']),logger[_0x5cc314(0x11a)](_0x5cc314(0x140)+(_0x55dc29[_0x5cc314(0x134)]||JSON[_0x5cc314(0x11b)](_0x55dc29))),await _0x29d463[_0x5cc314(0x118)](sleep),process[_0x5cc314(0x107)](0x1);}(!_0x236412[_0x5cc314(0x11f)]||!_0x236412[_0x5cc314(0x10d)])&&(logger['error'](_0x29d463[_0x5cc314(0x11c)]),await _0x29d463[_0x5cc314(0x13f)](sleep),process['exit'](0x1));const _0xc17360=CLIUtils[_0x5cc314(0x144)]();!_0xc17360&&(logger[_0x5cc314(0x106)](_0x29d463['JnLZE']),await _0x29d463[_0x5cc314(0x148)](sleep),process['exit'](0x1));let _0x4a6548=CLIUtils['getExistingCliPath'](_0xc17360);try{!_0x4a6548?(logger[_0x5cc314(0x11a)](_0x29d463[_0x5cc314(0x139)]),_0x4a6548=await CLIUtils[_0x5cc314(0x104)]('',_0xc17360,_0x236412)):(logger[_0x5cc314(0x11a)](_0x29d463['AMSny']),_0x4a6548=await CLIUtils[_0x5cc314(0x104)](_0x4a6548,_0xc17360,_0x236412));}catch(_0x266762){logger['error'](_0x29d463[_0x5cc314(0x11c)]),logger['debug']('Error\x20Details:\x20'+(_0x266762[_0x5cc314(0x134)]||JSON[_0x5cc314(0x11b)](_0x266762))),await _0x29d463[_0x5cc314(0x118)](sleep),process[_0x5cc314(0x107)](0x1);}!_0x4a6548&&(logger[_0x5cc314(0x106)](_0x29d463[_0x5cc314(0x11c)]),logger[_0x5cc314(0x11a)](_0x29d463['iYzkd']),await _0x29d463['UHEHb'](sleep),process['exit'](0x1));logger[_0x5cc314(0x11a)]('Spawning:\x20'+_0x4a6548+_0x5cc314(0x115)+_0x12a472[_0x5cc314(0x129)]('\x20'));const _0x541fa0=_0x29d463[_0x5cc314(0x122)](spawn,_0x4a6548,[_0x29d463[_0x5cc314(0x13b)],..._0x12a472],{'stdio':_0x29d463[_0x5cc314(0x13e)]});let _0x9f92ff=![];const _0x5af1d6=new Promise(_0x51da23=>{const _0x4d15d0=_0x5cc314,_0x4a5b66={'daleF':function(_0x3c8b86,_0x3a0f95){const _0x23c13a=a27_0x4b08;return _0x29d463[_0x23c13a(0x130)](_0x3c8b86,_0x3a0f95);}};_0x541fa0['on'](_0x29d463[_0x4d15d0(0x12e)],_0x511b7e=>{const _0x355af0=_0x4d15d0;logger[_0x355af0(0x11a)](_0x4a6548+'\x20exited\x20with\x20code\x20'+_0x511b7e),_0x4a5b66[_0x355af0(0x149)](_0x51da23,_0x511b7e);});});[_0x29d463['RnyyQ'],_0x29d463[_0x5cc314(0x14c)],_0x29d463[_0x5cc314(0x14f)],_0x29d463['VJREP']][_0x5cc314(0x109)](_0x2213e4=>{process['on'](_0x2213e4,()=>{const _0x1242c4=a27_0x4b08;if(_0x9f92ff)return;_0x9f92ff=!![],logger['debug']('Received\x20'+_0x2213e4+',\x20forwarding\x20to\x20child\x20process...'),_0x541fa0&&!_0x541fa0[_0x1242c4(0x117)]&&(_0x541fa0[_0x1242c4(0x137)](_0x2213e4),logger[_0x1242c4(0x11a)](_0x29d463['iEVPe']));});});const _0x1b8ab9=await _0x5af1d6;await _0x29d463[_0x5cc314(0x12a)](sleep),process['exit'](_0x1b8ab9);}catch(_0x288275){logger[_0x5cc314(0x106)](_0x5cc314(0x10f)+_0x288275[_0x5cc314(0x11d)]),logger[_0x5cc314(0x11a)](_0x5cc314(0x140)+(_0x288275['stack']||JSON[_0x5cc314(0x11b)](_0x288275))),await _0x29d463[_0x5cc314(0x12f)](sleep),process[_0x5cc314(0x107)](0x1);}}module[a27_0x46baaf(0x133)]=executeLoadTest;function a27_0xe8ca(){const _0x86b525=['\x20load\x20','argv','killed','MRMcq','../../helpers/helper','debug','stringify','URYtz','message','child_process','userName','66454nhtOhJ','10984236FWInSO','RvWgX','20LwilsQ','Loading\x20configuration\x20using\x20environment\x20variables\x20if\x20available.','readConfig','9mFZAAN','../../helpers/logger','env','join','RdqPX','load','BROWSERSTACK_USER','close','ugzIv','oBnsh','EzvZd','174THxPZU','SIGINT','exports','stack','11ZqrFKg','SIGQUIT','kill','YmeFZ','Tfmpf','17196JynsWK','Dhbvf','BROWSERSTACK_USERNAME','Executing\x20load\x20test\x20with\x20arguments:\x20','zAjej','SsgEu','Error\x20details:\x20','7qgQiFN','inherit','CLI\x20binary\x20found,\x20Checking\x20for\x20CLI\x20updates','getCliDir','7JsGgYQ','winstonLogger','1387544SXNFLc','xQKMH','daleF','dBdDm','Failed\x20to\x20download\x20or\x20locate\x20CLI\x20binary','WHwjY','1407306deqsdk','40277991tKZDUB','uFbeP','./loadUtils','checkAndUpdateCli','7159630Elfnop','error','exit','Error\x20loading\x20configuration:\x20','forEach','../v2/cliUtils','BROWSERSTACK_ACCESS_KEY','Waiting\x20for\x20child\x20process\x20to\x20exit...','accessKey','SIGHUP','Failed\x20initiating\x20load\x20test:\x20','Failed\x20to\x20determine\x20CLI\x20directory','BROWSERSTACK_ACCESSKEY','slice','path','SIGTERM'];a27_0xe8ca=function(){return _0x86b525;};return a27_0xe8ca();}