#!/usr/bin/env node
'use strict';const a28_0x332d0c=a28_0x39f6;(function(_0x281b1f,_0x5a33d3){const _0xb037a4=a28_0x39f6,_0x3b5135=_0x281b1f();while(!![]){try{const _0x2bd678=-parseInt(_0xb037a4(0x1cb))/0x1+parseInt(_0xb037a4(0x1b0))/0x2+parseInt(_0xb037a4(0x1ac))/0x3*(parseInt(_0xb037a4(0x1e8))/0x4)+parseInt(_0xb037a4(0x1bb))/0x5+-parseInt(_0xb037a4(0x1d6))/0x6+parseInt(_0xb037a4(0x1da))/0x7*(-parseInt(_0xb037a4(0x1b1))/0x8)+parseInt(_0xb037a4(0x1ad))/0x9;if(_0x2bd678===_0x5a33d3)break;else _0x3b5135['push'](_0x3b5135['shift']());}catch(_0x1a1bb3){_0x3b5135['push'](_0x3b5135['shift']());}}}(a28_0x1f5e,0xe6eac));function a28_0x1f5e(){const _0x4543b3=['kill','exports','SIGINT','readConfig','load','2355100TdWzGa','SIGTERM','killed','Executing\x20load\x20test\x20with\x20arguments:\x20','Waiting\x20for\x20child\x20process\x20to\x20exit...','exit','stringify','qlCyv','./loadUtils','userName','BqnuC','inherit','BROWSERSTACK_USERNAME','Error\x20details:\x20','Configuration\x20path:\x20','getCliDir','972874fgrbCv','winstonLogger','checkAndUpdateCli','../../helpers/logger','eFFUt','jCjVk','argv','zrkuT','mzogo',',\x20forwarding\x20to\x20child\x20process...','mgNaf','9998826aBaIqr','../../helpers/helper','jhDJU','ZiEoZ','7lcGcPt','\x20load\x20','error','BROWSERSTACK_USER','ZYcDy','Loading\x20configuration\x20using\x20environment\x20variables\x20if\x20available.','Error\x20Details:\x20','HgeKj','env','Failed\x20to\x20download\x20or\x20locate\x20CLI\x20binary','Failed\x20initiating\x20load\x20test:\x20','SIGHUP','slice','Received\x20','12rACmAf','message','XgCvn','SIGQUIT','pDWpE','child_process','getExistingCliPath','Error\x20loading\x20configuration:\x20','Spawning:\x20','debug','bOsjo','Authentication\x20incomplete.\x20Please\x20add\x20your\x20userName\x20and\x20accessKey\x20to\x20either\x20the\x20browserstack.yml\x20file\x20or\x20as\x20environment\x20variables,\x20then\x20try\x20running\x20the\x20command\x20again.','825960eOrGiT','17575200XShpRb','yHtlS','tuutC','1202520XusjLV','2126872KUbnyU','accessKey','CLI\x20binary\x20not\x20found,\x20downloading\x20latest\x20version','tzPGu','Failed\x20to\x20determine\x20CLI\x20directory'];a28_0x1f5e=function(){return _0x4543b3;};return a28_0x1f5e();}const {spawn}=require(a28_0x332d0c(0x1ed)),path=require('path'),helper=require(a28_0x332d0c(0x1d7)),CLIUtils=require('../v2/cliUtils'),{getLoadConfigPath,sleep}=require(a28_0x332d0c(0x1c3)),logger=require(a28_0x332d0c(0x1ce))[a28_0x332d0c(0x1cc)];async function executeLoadTest(_0x27dee4){const _0x2afa9e=a28_0x332d0c,_0x2cb0ee={'zrkuT':function(_0x2c0ca7,_0x5147a5){return _0x2c0ca7(_0x5147a5);},'ZYcDy':'close','XgCvn':_0x2afa9e(0x1bf),'KQEXk':_0x2afa9e(0x1df),'tuutC':function(_0xbc850d){return _0xbc850d();},'tzPGu':_0x2afa9e(0x1ab),'ZiEoZ':_0x2afa9e(0x1b5),'bOsjo':function(_0x2a5a7d){return _0x2a5a7d();},'hGKNv':_0x2afa9e(0x1b3),'yHtlS':'CLI\x20binary\x20found,\x20Checking\x20for\x20CLI\x20updates','dDdra':_0x2afa9e(0x1e3),'qlCyv':function(_0x3e4959,_0x50eeb1,_0x1795e0,_0x27a8f7){return _0x3e4959(_0x50eeb1,_0x1795e0,_0x27a8f7);},'eFFUt':_0x2afa9e(0x1ba),'HgeKj':_0x2afa9e(0x1c6),'BqnuC':_0x2afa9e(0x1b8),'jCjVk':_0x2afa9e(0x1bc),'jhDJU':_0x2afa9e(0x1eb),'mzogo':_0x2afa9e(0x1e5),'sZwaJ':function(_0x12432b){return _0x12432b();},'pDWpE':function(_0x54b21c){return _0x54b21c();}};try{const _0x362547=process[_0x2afa9e(0x1d1)][_0x2afa9e(0x1e6)](0x2),_0x5b85b2=_0x362547['slice'](0x1);logger[_0x2afa9e(0x1f1)](_0x2afa9e(0x1be)+_0x5b85b2);let _0x423bca={};try{logger[_0x2afa9e(0x1f1)](_0x2cb0ee['KQEXk']);const _0x38f77d={};_0x38f77d['userName']=process['env'][_0x2afa9e(0x1c7)]||process['env'][_0x2afa9e(0x1dd)],_0x38f77d[_0x2afa9e(0x1b2)]=process[_0x2afa9e(0x1e2)]['BROWSERSTACK_ACCESS_KEY']||process[_0x2afa9e(0x1e2)]['BROWSERSTACK_ACCESSKEY'],_0x423bca=_0x38f77d;if(!_0x423bca[_0x2afa9e(0x1c4)]||!_0x423bca[_0x2afa9e(0x1b2)]){const _0x4c2d4b=_0x2cb0ee[_0x2afa9e(0x1d2)](getLoadConfigPath,_0x27dee4['argv']);logger[_0x2afa9e(0x1f1)](_0x2afa9e(0x1c9)+_0x4c2d4b),_0x4c2d4b&&(_0x423bca=helper[_0x2afa9e(0x1b9)](_0x4c2d4b));}}catch(_0x3def6f){logger['error'](_0x2afa9e(0x1ef)+_0x3def6f[_0x2afa9e(0x1e9)]),logger[_0x2afa9e(0x1f1)](_0x2afa9e(0x1c8)+(_0x3def6f['stack']||JSON['stringify'](_0x3def6f))),await _0x2cb0ee[_0x2afa9e(0x1af)](sleep),process[_0x2afa9e(0x1c0)](0x1);}(!_0x423bca[_0x2afa9e(0x1c4)]||!_0x423bca['accessKey'])&&(logger[_0x2afa9e(0x1dc)](_0x2cb0ee[_0x2afa9e(0x1b4)]),await _0x2cb0ee[_0x2afa9e(0x1af)](sleep),process[_0x2afa9e(0x1c0)](0x1));const _0x513e31=CLIUtils[_0x2afa9e(0x1ca)]();!_0x513e31&&(logger[_0x2afa9e(0x1dc)](_0x2cb0ee[_0x2afa9e(0x1d9)]),await _0x2cb0ee[_0x2afa9e(0x1f2)](sleep),process[_0x2afa9e(0x1c0)](0x1));let _0x5cfaf1=CLIUtils[_0x2afa9e(0x1ee)](_0x513e31);try{!_0x5cfaf1?(logger[_0x2afa9e(0x1f1)](_0x2cb0ee['hGKNv']),_0x5cfaf1=await CLIUtils[_0x2afa9e(0x1cd)]('',_0x513e31,_0x423bca)):(logger[_0x2afa9e(0x1f1)](_0x2cb0ee[_0x2afa9e(0x1ae)]),_0x5cfaf1=await CLIUtils['checkAndUpdateCli'](_0x5cfaf1,_0x513e31,_0x423bca));}catch(_0x4f2308){logger[_0x2afa9e(0x1dc)](_0x2cb0ee[_0x2afa9e(0x1b4)]),logger[_0x2afa9e(0x1f1)](_0x2afa9e(0x1e0)+(_0x4f2308['stack']||JSON[_0x2afa9e(0x1c1)](_0x4f2308))),await _0x2cb0ee['tuutC'](sleep),process['exit'](0x1);}!_0x5cfaf1&&(logger[_0x2afa9e(0x1dc)](_0x2cb0ee[_0x2afa9e(0x1b4)]),logger[_0x2afa9e(0x1f1)](_0x2cb0ee['dDdra']),await _0x2cb0ee[_0x2afa9e(0x1af)](sleep),process[_0x2afa9e(0x1c0)](0x1));logger[_0x2afa9e(0x1f1)](_0x2afa9e(0x1f0)+_0x5cfaf1+_0x2afa9e(0x1db)+_0x5b85b2['join']('\x20'));const _0x3b2428=_0x2cb0ee[_0x2afa9e(0x1c2)](spawn,_0x5cfaf1,[_0x2cb0ee[_0x2afa9e(0x1cf)],..._0x5b85b2],{'stdio':_0x2cb0ee[_0x2afa9e(0x1e1)]});let _0xfe42e3=![];const _0x1601bb=new Promise(_0x2032fa=>{const _0x32add2=_0x2afa9e;_0x3b2428['on'](_0x2cb0ee[_0x32add2(0x1de)],_0x16e4dd=>{const _0x2327b5=_0x32add2;logger[_0x2327b5(0x1f1)](_0x5cfaf1+'\x20exited\x20with\x20code\x20'+_0x16e4dd),_0x2cb0ee['zrkuT'](_0x2032fa,_0x16e4dd);});});[_0x2cb0ee[_0x2afa9e(0x1c5)],_0x2cb0ee[_0x2afa9e(0x1d0)],_0x2cb0ee[_0x2afa9e(0x1d8)],_0x2cb0ee[_0x2afa9e(0x1d3)]]['forEach'](_0x15e7b6=>{const _0x3dbb2d=_0x2afa9e,_0x4be60={};_0x4be60[_0x3dbb2d(0x1d5)]=_0x2cb0ee[_0x3dbb2d(0x1ea)];const _0x10c1fe=_0x4be60;process['on'](_0x15e7b6,()=>{const _0x1f1862=_0x3dbb2d;if(_0xfe42e3)return;_0xfe42e3=!![],logger[_0x1f1862(0x1f1)](_0x1f1862(0x1e7)+_0x15e7b6+_0x1f1862(0x1d4)),_0x3b2428&&!_0x3b2428[_0x1f1862(0x1bd)]&&(_0x3b2428[_0x1f1862(0x1b6)](_0x15e7b6),logger[_0x1f1862(0x1f1)](_0x10c1fe['mgNaf']));});});const _0x2e5197=await _0x1601bb;await _0x2cb0ee['sZwaJ'](sleep),process[_0x2afa9e(0x1c0)](_0x2e5197);}catch(_0x52c3ac){logger[_0x2afa9e(0x1dc)](_0x2afa9e(0x1e4)+_0x52c3ac[_0x2afa9e(0x1e9)]),logger['debug']('Error\x20details:\x20'+(_0x52c3ac['stack']||JSON[_0x2afa9e(0x1c1)](_0x52c3ac))),await _0x2cb0ee[_0x2afa9e(0x1ec)](sleep),process['exit'](0x1);}}function a28_0x39f6(_0x1e24b1,_0xb0d752){const _0x1f5e71=a28_0x1f5e();return a28_0x39f6=function(_0x39f607,_0x52309e){_0x39f607=_0x39f607-0x1ab;let _0x211159=_0x1f5e71[_0x39f607];return _0x211159;},a28_0x39f6(_0x1e24b1,_0xb0d752);}module[a28_0x332d0c(0x1b7)]=executeLoadTest;