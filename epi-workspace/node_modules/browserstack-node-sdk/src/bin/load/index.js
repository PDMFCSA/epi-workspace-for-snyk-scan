#!/usr/bin/env node
'use strict';const a28_0x139649=a28_0x57ee;(function(_0x12694c,_0x3a338e){const _0x32b8aa=a28_0x57ee,_0x638128=_0x12694c();while(!![]){try{const _0x3666b4=parseInt(_0x32b8aa(0x176))/0x1*(parseInt(_0x32b8aa(0x196))/0x2)+-parseInt(_0x32b8aa(0x163))/0x3+parseInt(_0x32b8aa(0x171))/0x4*(-parseInt(_0x32b8aa(0x198))/0x5)+parseInt(_0x32b8aa(0x17e))/0x6+parseInt(_0x32b8aa(0x17c))/0x7*(parseInt(_0x32b8aa(0x183))/0x8)+parseInt(_0x32b8aa(0x17f))/0x9+-parseInt(_0x32b8aa(0x166))/0xa;if(_0x3666b4===_0x3a338e)break;else _0x638128['push'](_0x638128['shift']());}catch(_0xc09384){_0x638128['push'](_0x638128['shift']());}}}(a28_0x7734,0x940fa));const {spawn}=require(a28_0x139649(0x15a)),path=require('path'),helper=require(a28_0x139649(0x174)),CLIUtils=require('../v2/cliUtils'),{getLoadConfigPath,sleep}=require(a28_0x139649(0x16d)),logger=require('../../helpers/logger')[a28_0x139649(0x164)];function a28_0x57ee(_0x422443,_0x85d968){const _0x77349b=a28_0x7734();return a28_0x57ee=function(_0x57eede,_0x3dbf9e){_0x57eede=_0x57eede-0x15a;let _0x4ac812=_0x77349b[_0x57eede];return _0x4ac812;},a28_0x57ee(_0x422443,_0x85d968);}async function executeLoadTest(_0x4c21d8){const _0x1cb318=a28_0x139649,_0x11dc25={'hurZY':function(_0x359ecd,_0x41bc2b){return _0x359ecd(_0x41bc2b);},'WBONG':_0x1cb318(0x197),'PRbPd':_0x1cb318(0x185),'kbENA':_0x1cb318(0x15c),'OAMpq':function(_0xd5be6){return _0xd5be6();},'LhTpX':'Authentication\x20incomplete.\x20Please\x20add\x20your\x20userName\x20and\x20accessKey\x20to\x20either\x20the\x20browserstack.yml\x20file\x20or\x20as\x20environment\x20variables,\x20then\x20try\x20running\x20the\x20command\x20again.','JVuYn':function(_0x34958e){return _0x34958e();},'MQpMs':_0x1cb318(0x184),'YvHMz':'CLI\x20binary\x20not\x20found,\x20downloading\x20latest\x20version','xqVaU':_0x1cb318(0x193),'EMdnx':_0x1cb318(0x186),'ZQvRv':function(_0x1ffb70){return _0x1ffb70();},'QJJGb':function(_0x31ee6a,_0x3800d6,_0x1838d6,_0x430c0b){return _0x31ee6a(_0x3800d6,_0x1838d6,_0x430c0b);},'FDQDN':_0x1cb318(0x170),'KwMhv':'inherit','gYVDX':_0x1cb318(0x15d),'rJeYa':_0x1cb318(0x18e),'YoHYw':'SIGQUIT','yZUGQ':_0x1cb318(0x16f),'YTeIS':function(_0x34bd48){return _0x34bd48();}};try{const _0x46a7c9=process['argv'][_0x1cb318(0x19f)](0x2),_0x481f38=_0x46a7c9[_0x1cb318(0x19f)](0x1);logger[_0x1cb318(0x173)](_0x1cb318(0x18d)+_0x481f38);let _0x2dba5f={};try{logger[_0x1cb318(0x173)](_0x11dc25['kbENA']);const _0x33d934={};_0x33d934[_0x1cb318(0x178)]=process[_0x1cb318(0x190)][_0x1cb318(0x1a0)]||process['env'][_0x1cb318(0x182)],_0x33d934[_0x1cb318(0x172)]=process[_0x1cb318(0x190)][_0x1cb318(0x16a)]||process[_0x1cb318(0x190)][_0x1cb318(0x17d)],_0x2dba5f=_0x33d934;if(!_0x2dba5f[_0x1cb318(0x178)]||!_0x2dba5f['accessKey']){const _0x357ca6=_0x11dc25[_0x1cb318(0x161)](getLoadConfigPath,_0x4c21d8[_0x1cb318(0x17b)]);logger[_0x1cb318(0x173)](_0x1cb318(0x18c)+_0x357ca6),_0x357ca6&&(_0x2dba5f=helper[_0x1cb318(0x19d)](_0x357ca6));}}catch(_0x116bb6){logger[_0x1cb318(0x175)](_0x1cb318(0x169)+_0x116bb6[_0x1cb318(0x18b)]),logger[_0x1cb318(0x173)]('Error\x20details:\x20'+(_0x116bb6[_0x1cb318(0x15b)]||JSON[_0x1cb318(0x18f)](_0x116bb6))),await _0x11dc25['OAMpq'](sleep),process[_0x1cb318(0x162)](0x1);}(!_0x2dba5f[_0x1cb318(0x178)]||!_0x2dba5f[_0x1cb318(0x172)])&&(logger['error'](_0x11dc25[_0x1cb318(0x18a)]),await _0x11dc25['JVuYn'](sleep),process['exit'](0x1));const _0x4362b1=CLIUtils[_0x1cb318(0x16b)]();!_0x4362b1&&(logger[_0x1cb318(0x175)](_0x11dc25[_0x1cb318(0x16c)]),await _0x11dc25['JVuYn'](sleep),process[_0x1cb318(0x162)](0x1));let _0x1fb682=CLIUtils[_0x1cb318(0x15f)](_0x4362b1);try{!_0x1fb682?(logger['debug'](_0x11dc25[_0x1cb318(0x17a)]),_0x1fb682=await CLIUtils['checkAndUpdateCli']('',_0x4362b1,_0x2dba5f)):(logger['debug'](_0x11dc25[_0x1cb318(0x179)]),_0x1fb682=await CLIUtils[_0x1cb318(0x191)](_0x1fb682,_0x4362b1,_0x2dba5f));}catch(_0x4679de){logger[_0x1cb318(0x175)](_0x11dc25[_0x1cb318(0x18a)]),logger[_0x1cb318(0x173)](_0x1cb318(0x168)+(_0x4679de[_0x1cb318(0x15b)]||JSON[_0x1cb318(0x18f)](_0x4679de))),await _0x11dc25[_0x1cb318(0x199)](sleep),process[_0x1cb318(0x162)](0x1);}!_0x1fb682&&(logger[_0x1cb318(0x175)](_0x11dc25[_0x1cb318(0x18a)]),logger[_0x1cb318(0x173)](_0x11dc25[_0x1cb318(0x187)]),await _0x11dc25['ZQvRv'](sleep),process['exit'](0x1));logger[_0x1cb318(0x173)](_0x1cb318(0x181)+_0x1fb682+'\x20load\x20'+_0x481f38[_0x1cb318(0x16e)]('\x20'));const _0x6a1b66=_0x11dc25[_0x1cb318(0x189)](spawn,_0x1fb682,[_0x11dc25[_0x1cb318(0x19c)],..._0x481f38],{'stdio':_0x11dc25['KwMhv']});let _0x6cdf5e=![];const _0x4c0d3a=new Promise(_0x50d06c=>{const _0x4570e5=_0x1cb318;_0x6a1b66['on'](_0x11dc25[_0x4570e5(0x195)],_0x46e52c=>{const _0x3f329c=_0x4570e5;logger[_0x3f329c(0x173)](_0x1fb682+_0x3f329c(0x160)+_0x46e52c),_0x11dc25['hurZY'](_0x50d06c,_0x46e52c);});});[_0x11dc25[_0x1cb318(0x19b)],_0x11dc25[_0x1cb318(0x177)],_0x11dc25['YoHYw'],_0x11dc25[_0x1cb318(0x165)]]['forEach'](_0x438d12=>{const _0x41cba3=_0x1cb318,_0x209ece={};_0x209ece['RRMBc']=_0x11dc25[_0x41cba3(0x180)];const _0x5111d1=_0x209ece;process['on'](_0x438d12,()=>{const _0x5f231e=_0x41cba3;if(_0x6cdf5e)return;_0x6cdf5e=!![],logger[_0x5f231e(0x173)](_0x5f231e(0x19e)+_0x438d12+_0x5f231e(0x188)),_0x6a1b66&&!_0x6a1b66['killed']&&(_0x6a1b66[_0x5f231e(0x15e)](_0x438d12),logger[_0x5f231e(0x173)](_0x5111d1[_0x5f231e(0x192)]));});});const _0x120b16=await _0x4c0d3a;await _0x11dc25[_0x1cb318(0x194)](sleep),process[_0x1cb318(0x162)](_0x120b16);}catch(_0x234b26){logger[_0x1cb318(0x175)](_0x1cb318(0x167)+_0x234b26[_0x1cb318(0x18b)]),logger[_0x1cb318(0x173)](_0x1cb318(0x1a1)+(_0x234b26[_0x1cb318(0x15b)]||JSON[_0x1cb318(0x18f)](_0x234b26))),await _0x11dc25['YTeIS'](sleep),process['exit'](0x1);}}module[a28_0x139649(0x19a)]=executeLoadTest;function a28_0x7734(){const _0x6da3d9=['BROWSERSTACK_USER','7888NcAcbs','Failed\x20to\x20determine\x20CLI\x20directory','Waiting\x20for\x20child\x20process\x20to\x20exit...','Failed\x20to\x20download\x20or\x20locate\x20CLI\x20binary','EMdnx',',\x20forwarding\x20to\x20child\x20process...','QJJGb','LhTpX','message','Configuration\x20path:\x20','Executing\x20load\x20test\x20with\x20arguments:\x20','SIGTERM','stringify','env','checkAndUpdateCli','RRMBc','CLI\x20binary\x20found,\x20Checking\x20for\x20CLI\x20updates','JVuYn','WBONG','2Zmcuir','close','10Esgaud','OAMpq','exports','gYVDX','FDQDN','readConfig','Received\x20','slice','BROWSERSTACK_USERNAME','Error\x20details:\x20','child_process','stack','Loading\x20configuration\x20using\x20environment\x20variables\x20if\x20available.','SIGINT','kill','getExistingCliPath','\x20exited\x20with\x20code\x20','hurZY','exit','1887924VAMwsw','winstonLogger','yZUGQ','11193560oIQWVm','Failed\x20initiating\x20load\x20test:\x20','Error\x20Details:\x20','Error\x20loading\x20configuration:\x20','BROWSERSTACK_ACCESS_KEY','getCliDir','MQpMs','./loadUtils','join','SIGHUP','load','893168YnohoW','accessKey','debug','../../helpers/helper','error','644107CqpxaP','rJeYa','userName','xqVaU','YvHMz','argv','8071PKUNIN','BROWSERSTACK_ACCESSKEY','4777290FrjSTl','2020734ekOpbG','PRbPd','Spawning:\x20'];a28_0x7734=function(){return _0x6da3d9;};return a28_0x7734();}