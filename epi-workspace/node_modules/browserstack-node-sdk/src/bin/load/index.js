#!/usr/bin/env node
'use strict';const a27_0x15a11e=a27_0x2716;function a27_0x2716(_0x1bc463,_0x2b25a7){const _0x11adf9=a27_0x11ad();return a27_0x2716=function(_0x271615,_0xca66dd){_0x271615=_0x271615-0x1b2;let _0x4dc864=_0x11adf9[_0x271615];return _0x4dc864;},a27_0x2716(_0x1bc463,_0x2b25a7);}(function(_0x47b1ec,_0x493ff3){const _0x205353=a27_0x2716,_0x445c5e=_0x47b1ec();while(!![]){try{const _0x5e06e7=-parseInt(_0x205353(0x1d4))/0x1*(parseInt(_0x205353(0x1b5))/0x2)+-parseInt(_0x205353(0x1cd))/0x3*(-parseInt(_0x205353(0x1e0))/0x4)+-parseInt(_0x205353(0x1f7))/0x5+-parseInt(_0x205353(0x1e4))/0x6+parseInt(_0x205353(0x1d7))/0x7*(parseInt(_0x205353(0x1c0))/0x8)+parseInt(_0x205353(0x1f3))/0x9*(parseInt(_0x205353(0x1ca))/0xa)+-parseInt(_0x205353(0x1e2))/0xb*(-parseInt(_0x205353(0x1ba))/0xc);if(_0x5e06e7===_0x493ff3)break;else _0x445c5e['push'](_0x445c5e['shift']());}catch(_0x5e0a2f){_0x445c5e['push'](_0x445c5e['shift']());}}}(a27_0x11ad,0xe4c44));function a27_0x11ad(){const _0x1f30c0=['BneAV','debug','kill','Failed\x20initiating\x20load\x20test:\x20','./loadUtils','221aKWTJk','killed','--help','188244fyIVgk','Executing\x20load\x20test\x20with\x20arguments:','Spawning:\x20','SIGHUP','readConfig','\x20load\x20','HuFlY','message','SIGQUIT','28TTRdrH','HLbKI','187PyfDUq','inherit','239106YHcFzt','forEach','../../helpers/logger','../v2/cliUtils','Waiting\x20for\x20child\x20process\x20to\x20exit...','Received\x20','No\x20configuration\x20file\x20found,\x20using\x20environment\x20variables\x20if\x20available.','BROWSERSTACK_USERNAME','checkAndUpdateCli','VnJns','path','slice','getExistingCliPath','exit','WsxME','1561689dNbhIH','ZVxFM','SIGTERM','accessKey','7713520rNCPRK','Error\x20loading\x20configuration:','Configuration\x20path:','load','RQxdi','sXxAD','10734kiWGQb','\x20exited\x20with\x20code\x20','includes','exports','error','631128JMoMAR','argv','CLI\x20binary\x20found,\x20Checking\x20for\x20CLI\x20updates','env','LJFfH','CLI\x20binary\x20not\x20found,\x20downloading\x20latest\x20version','8BvDCgo','FUJip','wSctn','child_process','close','Loading\x20configuration...','YOQes','BROWSERSTACK_ACCESSKEY',',\x20forwarding\x20to\x20child\x20process...','SQcep','60qVaKhY','SIGINT','winstonLogger','747246ubazTt','username'];a27_0x11ad=function(){return _0x1f30c0;};return a27_0x11ad();}const {spawn}=require(a27_0x15a11e(0x1c3)),path=require(a27_0x15a11e(0x1ee)),helper=require('../../helpers/helper'),logger=require(a27_0x15a11e(0x1e6))[a27_0x15a11e(0x1cc)],CLIUtils=require(a27_0x15a11e(0x1e7)),{getLoadConfigPath}=require(a27_0x15a11e(0x1d3));async function executeLoadTest(_0x152f29){const _0x17780a=a27_0x15a11e,_0x24eb38={'VnJns':function(_0xb7fa6b,_0x2f5836){return _0xb7fa6b(_0x2f5836);},'RQxdi':_0x17780a(0x1c4),'FryOL':_0x17780a(0x1e8),'rmHYz':_0x17780a(0x1d8),'FUJip':_0x17780a(0x1d6),'SQcep':_0x17780a(0x1c5),'sXxAD':_0x17780a(0x1f9),'HLbKI':_0x17780a(0x1ea),'BneAV':'Configuration\x20loaded\x20successfully','mxNNU':_0x17780a(0x1f8),'gCfvx':'Failed\x20to\x20determine\x20CLI\x20directory','diIQb':_0x17780a(0x1bf),'RreID':_0x17780a(0x1bc),'LJFfH':'Failed\x20to\x20download\x20or\x20locate\x20CLI\x20binary','WVkpJ':function(_0x30daad,_0x1099ee,_0x46129b,_0x6bdf96){return _0x30daad(_0x1099ee,_0x46129b,_0x6bdf96);},'YOQes':_0x17780a(0x1b2),'LFizP':_0x17780a(0x1e3),'ZbwWn':_0x17780a(0x1cb),'WsxME':_0x17780a(0x1f5),'wSctn':_0x17780a(0x1df),'HuFlY':_0x17780a(0x1da)};try{const _0x3fdf9f=process[_0x17780a(0x1bb)]['slice'](0x2),_0xbe5ae6=_0x3fdf9f[_0x17780a(0x1ef)](0x1);logger[_0x17780a(0x1d0)](_0x24eb38['rmHYz'],_0xbe5ae6);const _0x27829b=_0xbe5ae6['includes'](_0x24eb38[_0x17780a(0x1c1)])||_0xbe5ae6[_0x17780a(0x1b7)]('-h');let _0x2b78e0={};try{logger['debug'](_0x24eb38[_0x17780a(0x1c9)]);const _0x557836=_0x24eb38[_0x17780a(0x1ed)](getLoadConfigPath,_0x152f29[_0x17780a(0x1bb)]);logger[_0x17780a(0x1d0)](_0x24eb38[_0x17780a(0x1b4)],_0x557836);if(_0x557836)_0x2b78e0=helper[_0x17780a(0x1db)](_0x557836);else{logger['debug'](_0x24eb38[_0x17780a(0x1e1)]);const _0x20c383={};_0x20c383[_0x17780a(0x1ce)]=process['env'][_0x17780a(0x1eb)]||process['env']['BROWSERSTACK_USER'],_0x20c383[_0x17780a(0x1f6)]=process[_0x17780a(0x1bd)]['BROWSERSTACK_ACCESS_KEY']||process[_0x17780a(0x1bd)][_0x17780a(0x1c7)],_0x2b78e0=_0x20c383;}logger[_0x17780a(0x1d0)](_0x24eb38[_0x17780a(0x1cf)]);}catch(_0x361c39){logger[_0x17780a(0x1b9)](_0x24eb38['mxNNU'],_0x361c39[_0x17780a(0x1de)]),process[_0x17780a(0x1f1)](0x1);}const _0x5b5cb5=CLIUtils['getCliDir']();!_0x5b5cb5&&(logger[_0x17780a(0x1b9)](_0x24eb38['gCfvx']),process[_0x17780a(0x1f1)](0x1));let _0x57c31d=CLIUtils[_0x17780a(0x1f0)](_0x5b5cb5);!_0x57c31d?(logger[_0x17780a(0x1d0)](_0x24eb38['diIQb']),_0x57c31d=await CLIUtils[_0x17780a(0x1ec)]('',_0x5b5cb5,_0x2b78e0)):(logger[_0x17780a(0x1d0)](_0x24eb38['RreID']),_0x57c31d=await CLIUtils[_0x17780a(0x1ec)](_0x57c31d,_0x5b5cb5,_0x2b78e0));!_0x57c31d&&(logger['error'](_0x24eb38[_0x17780a(0x1be)]),process[_0x17780a(0x1f1)](0x1));logger['debug'](_0x17780a(0x1d9)+_0x57c31d+_0x17780a(0x1dc)+_0xbe5ae6['join']('\x20'));const _0x2b2eb7=_0x24eb38['WVkpJ'](spawn,_0x57c31d,[_0x24eb38[_0x17780a(0x1c6)],..._0xbe5ae6],{'stdio':_0x24eb38['LFizP']});let _0x4d2659=![];const _0x115263=new Promise(_0x375a70=>{const _0x1628ec=_0x17780a,_0x300eff={'fYLCJ':function(_0x3e87c1,_0x1d6ac1){const _0x4092d0=a27_0x2716;return _0x24eb38[_0x4092d0(0x1ed)](_0x3e87c1,_0x1d6ac1);}};_0x2b2eb7['on'](_0x24eb38[_0x1628ec(0x1b3)],_0x325ef9=>{const _0x118f65=_0x1628ec;logger[_0x118f65(0x1d0)](_0x57c31d+_0x118f65(0x1b6)+_0x325ef9),_0x300eff['fYLCJ'](_0x375a70,_0x325ef9);});});[_0x24eb38['ZbwWn'],_0x24eb38[_0x17780a(0x1f2)],_0x24eb38[_0x17780a(0x1c2)],_0x24eb38[_0x17780a(0x1dd)]][_0x17780a(0x1e5)](_0x15ee3d=>{const _0x46f996=_0x17780a,_0x2d4d77={};_0x2d4d77[_0x46f996(0x1f4)]=_0x24eb38['FryOL'];const _0x222dd6=_0x2d4d77;process['on'](_0x15ee3d,()=>{const _0x5ea625=_0x46f996;if(_0x4d2659)return;_0x4d2659=!![],logger['debug'](_0x5ea625(0x1e9)+_0x15ee3d+_0x5ea625(0x1c8)),_0x2b2eb7&&!_0x2b2eb7[_0x5ea625(0x1d5)]&&(_0x2b2eb7[_0x5ea625(0x1d1)](_0x15ee3d),logger['debug'](_0x222dd6[_0x5ea625(0x1f4)]));});});const _0x42b016=await _0x115263;process[_0x17780a(0x1f1)](_0x42b016);}catch(_0x547d54){logger[_0x17780a(0x1b9)](_0x17780a(0x1d2)+_0x547d54[_0x17780a(0x1de)]),process[_0x17780a(0x1f1)](0x1);}}module[a27_0x15a11e(0x1b8)]=executeLoadTest;