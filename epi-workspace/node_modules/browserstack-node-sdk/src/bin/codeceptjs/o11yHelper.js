const a4_0x441178=a4_0x5d3b;(function(_0x166b1e,_0x5a192a){const _0x121fba=a4_0x5d3b,_0x50cd88=_0x166b1e();while(!![]){try{const _0x56561a=parseInt(_0x121fba(0x254))/0x1+parseInt(_0x121fba(0x185))/0x2+parseInt(_0x121fba(0x175))/0x3+parseInt(_0x121fba(0x1cf))/0x4*(parseInt(_0x121fba(0x1ed))/0x5)+-parseInt(_0x121fba(0x20f))/0x6+parseInt(_0x121fba(0x194))/0x7+-parseInt(_0x121fba(0x22d))/0x8;if(_0x56561a===_0x5a192a)break;else _0x50cd88['push'](_0x50cd88['shift']());}catch(_0x253202){_0x50cd88['push'](_0x50cd88['shift']());}}}(a4_0x3bc2,0x7994d));const path=require(a4_0x441178(0x253)),fs=require('fs'),{v4:uuidv4}=require(a4_0x441178(0x1e5)),{importFileFromPWCore,nestedKeyValue,parseWSEndpoint,isUndefined}=require('../../helpers/helper'),testOpsHelper=require(a4_0x441178(0x23d)),{getTestEnv}=require(a4_0x441178(0x1f7)),{FRAMEWORKS}=require(a4_0x441178(0x21e)),logger=require(a4_0x441178(0x1a5))[a4_0x441178(0x23a)],SessionHandler=require('../../helpers/test-observability/sessionHandler'),RequestQueueHandler=require('../../helpers/test-observability/requestQueueHandler'),PlaywrightSessionDetails=require(a4_0x441178(0x237)),debug=testOpsHelper[a4_0x441178(0x1c3)],{processAccessibilityCaps}=require(a4_0x441178(0x1c9)),Constants=require(a4_0x441178(0x17c)),{fetchPlatformDetails}=require('./helper.js'),{shouldProcessEventForTesthub,appendTesthubParams}=require(a4_0x441178(0x241)),STATE_PASSED=a4_0x441178(0x210),STATE_FAILED=a4_0x441178(0x1f1),a4_0x60e318={};a4_0x60e318['TEST_RUN_STARTED']='TestRunStarted',a4_0x60e318[a4_0x441178(0x22e)]=a4_0x441178(0x1a0),a4_0x60e318[a4_0x441178(0x1e4)]=a4_0x441178(0x1ae),a4_0x60e318[a4_0x441178(0x1d6)]=a4_0x441178(0x195),a4_0x60e318[a4_0x441178(0x1f6)]='HookRunFinished';function a4_0x5d3b(_0x38012e,_0x31c825){const _0x3bc250=a4_0x3bc2();return a4_0x5d3b=function(_0x5d3bcd,_0x5d716d){_0x5d3bcd=_0x5d3bcd-0x16d;let _0x3d3805=_0x3bc250[_0x5d3bcd];return _0x3d3805;},a4_0x5d3b(_0x38012e,_0x31c825);}const TEST_EVENTS=a4_0x60e318,parseEvent=_0x520e3b=>{const _0x352962=a4_0x441178,_0x31157f={};_0x31157f[_0x352962(0x17e)]=function(_0x23f5f9,_0x294298){return _0x23f5f9<_0x294298;},_0x31157f[_0x352962(0x204)]=function(_0x2562d4,_0x1158c3){return _0x2562d4===_0x1158c3;},_0x31157f[_0x352962(0x1dc)]='test',_0x31157f[_0x352962(0x1f2)]=_0x352962(0x1a6),_0x31157f[_0x352962(0x21f)]=_0x352962(0x17a),_0x31157f[_0x352962(0x176)]=_0x352962(0x1d7),_0x31157f[_0x352962(0x170)]='finished';const _0x2da87b=_0x31157f,_0x14cb19=_0x520e3b[_0x352962(0x233)](/^(.*)Run(.*)$/);if(!_0x14cb19)return null;if(_0x2da87b[_0x352962(0x17e)](_0x14cb19[_0x352962(0x227)],0x3))return null;const _0x47e8b8=_0x14cb19[0x1]['toLowerCase'](),_0x12bd20=_0x14cb19[0x2][_0x352962(0x217)]();return{'test':_0x2da87b[_0x352962(0x204)](_0x47e8b8,_0x2da87b[_0x352962(0x1dc)]),'hook':_0x2da87b[_0x352962(0x204)](_0x47e8b8,_0x2da87b[_0x352962(0x1f2)]),'skipped':_0x2da87b['esAcJ'](_0x12bd20,_0x2da87b[_0x352962(0x21f)]),'started':_0x2da87b['esAcJ'](_0x12bd20,_0x2da87b[_0x352962(0x176)]),'finished':_0x2da87b['esAcJ'](_0x12bd20,_0x2da87b['UhSSn'])};},mockPWBrowserType=_0x5d843d=>{const _0x492210=a4_0x441178,_0x533aa0={'rEQTZ':function(_0x151147,_0x59b80b){return _0x151147===_0x59b80b;},'lktRR':_0x492210(0x181),'HocHa':function(_0x2e73a8,_0x380608,_0x17c532){return _0x2e73a8(_0x380608,_0x17c532);},'fYQQv':_0x492210(0x1b9),'zOEMh':function(_0x25c990,_0x17156e){return _0x25c990(_0x17156e);},'YPHlY':_0x492210(0x1df),'UsEnE':_0x492210(0x1de),'IKisn':'client','dDYFk':'browserType.js','abGSr':function(_0x5a8cb0,_0x329549){return _0x5a8cb0(_0x329549);},'rPZDm':function(_0x20c806,_0x4e4193){return _0x20c806(_0x4e4193);},'Dmaoe':_0x492210(0x1eb),'kEKaQ':_0x492210(0x1ab),'mrIop':_0x492210(0x1ec)},_0x503c6f=path[_0x492210(0x21a)](_0x533aa0[_0x492210(0x223)],_0x533aa0[_0x492210(0x255)],_0x533aa0['dDYFk']),_0x1f4d62=_0x533aa0['abGSr'](importFileFromPWCore,_0x503c6f);if(!_0x1f4d62){_0x533aa0[_0x492210(0x1cd)](debug,_0x533aa0[_0x492210(0x212)]);return;}const _0x3e3df5=_0x1f4d62[_0x492210(0x1d2)],_0x6b114c=_0x3e3df5['prototype'];if(_0x6b114c[_0x492210(0x1c0)])return;const _0x1dda8c=_0x6b114c[_0x492210(0x1ab)];Object['defineProperty'](_0x6b114c,_0x533aa0[_0x492210(0x235)],{'get':function(){return async function _0x248f1e(_0xf72882,_0x149451){const _0x8ef235=a4_0x5d3b,_0x5f4a8b={'IKxKS':function(_0x4ecb1c,_0x4e7ade){const _0x57c244=a4_0x5d3b;return _0x533aa0[_0x57c244(0x1bb)](_0x4ecb1c,_0x4e7ade);},'LNxoV':_0x533aa0['lktRR']},_0x21a2f7=_0x533aa0[_0x8ef235(0x1b7)](nestedKeyValue,_0xf72882,[_0x533aa0['fYQQv']])||_0xf72882;let _0x57a684=null,_0x1522cd=null;try{[_0x1522cd,_0x57a684]=_0x21a2f7?_0x533aa0[_0x8ef235(0x193)](parseWSEndpoint,_0x21a2f7):[null,null],global['__platformCaps']=_0x57a684,_0x1522cd[_0x8ef235(0x1ea)](_0x533aa0[_0x8ef235(0x1e9)])&&(global[_0x8ef235(0x242)]=_0x533aa0['YPHlY']);}catch(_0x2506fe){logger['debug']('Failed\x20to\x20parse\x20wsendpoint\x20'+_0x21a2f7+'\x20'+_0x2506fe);}_0x533aa0[_0x8ef235(0x1b7)](processAccessibilityCaps,_0x57a684,_0x1522cd);if(global[_0x8ef235(0x1a3)]){const _0x3c378e=await _0x6b114c[_0x8ef235(0x1bf)]['apply'](this,[''+Constants['PLAYWRIGHT_HUB_URL']+_0x533aa0['zOEMh'](encodeURIComponent,JSON[_0x8ef235(0x200)](_0x57a684))]);return PlaywrightSessionDetails[_0x8ef235(0x1bd)](_0x3c378e,_0x5d843d,_0x21a2f7),_0x3c378e;}return _0x1dda8c[_0x8ef235(0x1aa)](this,arguments)['then'](_0x4193a2=>{const _0x5ddd4b=_0x8ef235;let _0x2a6529=_0xf72882[_0x5ddd4b(0x1b9)];return _0x5f4a8b[_0x5ddd4b(0x239)](typeof _0xf72882,_0x5f4a8b[_0x5ddd4b(0x1fc)])&&(_0x2a6529=_0xf72882),PlaywrightSessionDetails['setupBrowserDetails'](_0x4193a2,_0x5d843d,_0x2a6529),_0x4193a2;});};}});const _0x17a32e=_0x6b114c['launch'];Object[_0x492210(0x22f)](_0x6b114c,_0x533aa0[_0x492210(0x1bc)],{'get':function(){return async function _0x37005a(){const _0x5473a6=a4_0x5d3b;return _0x17a32e['apply'](this,arguments)[_0x5473a6(0x1cc)](_0x5b2d9d=>{const _0x34463d=_0x5473a6;return PlaywrightSessionDetails[_0x34463d(0x1bd)](_0x5b2d9d,null),_0x5b2d9d;});};}});};function a4_0x3bc2(){const _0x56b17e=['RaPZo','now','lib','browserstack','title','peQXy','VWPQk','currentHook','TEST_RUN_SKIPPED','uuid','mapTestHooks','Exception\x20in\x20uploading\x20platform\x20details\x20to\x20Observability\x20with\x20error\x20:\x20','toISOString','YPHlY','includes','Not\x20able\x20to\x20import\x20Browser','launch','3330xGotls','duration','test','retryOf','failed','MzqQJ','text','STATE_FAILED','LogCreated','HOOK_RUN_FINISHED','../mocha/test-observability/mochaUtils','file_name','hRMnw','logs','gkwDr','LNxoV','body','testAnalyticsId','captureEvent','stringify','FPElC','pid','finished_at','esAcJ','failure_reason_expanded','RAPhO','getHierarchy','name','parent','getInstance','toUpperCase','dwvGR','oHnau','split','433152GOEKEb','passed','DAeDH','Dmaoe','fGBgw','uCuEw','resetSkipTestHooks','USqPh','toLowerCase','nzjeQ','_afterEach','join','kBHPb','hook_type','fLRER','../../helpers/test-observability/constants','VXSIT','suites','currentTest','getHookType','UsEnE','HYFOX','expanded','forEach','length','hqQpD','backtrace','xTPsu','sendCBTInfo','GKUPz','15712736AyIRiI','TEST_RUN_FINISHED','defineProperty','SvpXp','failed\x20to\x20get\x20root\x20parent\x20file\x20','result','match','file','kEKaQ','enabled','../playwright/sessionDetails','keyword','IKxKS','winstonLogger','event_type','getHooksForTest','../../helpers/test-observability/utils','cRNDi','_testEnv','\x20with\x20error\x20:\x20','../../helpers/testhub/utils.js','__cloud_provider___','getRootParentFile','tags','TuBmc','type','xbmsB','gHXBB','err','Exception\x20in\x20populating\x20test\x20data\x20for\x20event\x20','hmXVz','failureData','TEST_EVENTS','success','bddSteps','initializeBddStep','YnaDu','hooks','path','411641PDFkbQ','IKisn','3|5|1|4|2|0','hook_run_uuid','TdYmL','util','concat','UhSSn','CODECEPT','codeceptjs','start','push','2269494qxaRzB','TmTal','OTlvX','FPbmD','Exception\x20in\x20uploading\x20log\x20data\x20to\x20Observability\x20with\x20error\x20:\x20','skipped','bYqkT','../utils/constants','startedAt','enEGf','find','pending','string','_beforeEach','wVDeD','_beforeAll','11898XTKmBo','ECiDO','bs:addLog:','Exception\x20in\x20sending\x20test\x20data\x20for\x20event\x20','finished','.git','ctx','OMPLs','stepAnalyticsId','RLhpB','errorsDetailed','message','Playwright','YSIsM','zOEMh','4873337jsBnWG','HookRunStarted','zwjUj','toString','driver','bGHnW','prefixTestPath','JnLgQ','feature','Oeisd','failure','status','TestRunFinished','integrations','File\x20path\x20could\x20not\x20be\x20found','accessibilityPlatform','shutdown','../../helpers/logger','hook','test_run','CXcna','clvYx','apply','connect','WYyRy','comment','TestRunSkipped','ybYJu','ftaur','constructor','frameworkName','NUyJX','sep','markedStatus','uploadEventData','HocHa','EqcAS','wsEndpoint','yvfQL','rEQTZ','mrIop','setupBrowserDetails','NuHdY','connectOverCDP','obsBrowserTypeMockApplied','bddStepStart','appendTestItemLog','debug','findGitConfig','getTime','_afterAll','eohES','iOqtU','../playwright/accessibility-helper','dirname','bind','then','rPZDm','patchConsoleLogger','3988TFBZKP','getCBTInfo','test_run_uuid','BrowserType','exports','hookAnalyticsId','qjqmL','HOOK_RUN_STARTED','started','replace','stop','_paths','HVwLM'];a4_0x3bc2=function(){return _0x56b17e;};return a4_0x3bc2();}class O11yHelper{[a4_0x441178(0x221)]=null;[a4_0x441178(0x1e3)]=null;[a4_0x441178(0x236)]=![];[a4_0x441178(0x1b2)]=![];constructor(_0x45270c,_0x3d9236){const _0x3f2179=a4_0x441178,_0x4ecc93={'GKUPz':_0x3f2179(0x256),'HVwLM':function(_0x4799f9,_0x2c3ca2){return _0x4799f9===_0x2c3ca2;},'RAPhO':_0x3f2179(0x191),'fLRER':function(_0x4c36f9,_0xdb862e){return _0x4c36f9(_0xdb862e);},'QyrXX':function(_0xa4ec44){return _0xa4ec44();},'CXcna':function(_0x1f4f88){return _0x1f4f88();}},_0x5a1686=_0x4ecc93[_0x3f2179(0x22c)][_0x3f2179(0x20e)]('|');let _0x341ce9=0x0;while(!![]){switch(_0x5a1686[_0x341ce9++]){case'0':this[_0x3f2179(0x198)]&&_0x4ecc93[_0x3f2179(0x1db)](this['driver'][_0x3f2179(0x1b1)][_0x3f2179(0x208)],_0x4ecc93[_0x3f2179(0x206)])&&_0x4ecc93[_0x3f2179(0x21d)](mockPWBrowserType,null);continue;case'1':this[_0x3f2179(0x198)]=_0x45270c;continue;case'2':this['_paths']=new testOpsHelper['PathHelper']({'cwd':process['cwd']()},this[_0x3f2179(0x23f)]['location_prefix']);continue;case'3':this['enabled']=_0x4ecc93['QyrXX'](shouldProcessEventForTesthub);continue;case'4':this[_0x3f2179(0x23f)]=_0x4ecc93[_0x3f2179(0x1a8)](getTestEnv);continue;case'5':this[_0x3f2179(0x1b2)]=_0x3d9236[_0x3f2179(0x1b2)];continue;}break;}}[a4_0x441178(0x173)](){const _0x501709=a4_0x441178;if(!this[_0x501709(0x236)])return;testOpsHelper[_0x501709(0x1ce)](),process['removeAllListeners']('bs:addLog:'+process[_0x501709(0x202)]),process['on'](_0x501709(0x187)+process[_0x501709(0x202)],this[_0x501709(0x1c2)][_0x501709(0x1cb)](this));}async[a4_0x441178(0x1d9)](){const _0x32d54e=a4_0x441178;await RequestQueueHandler[_0x32d54e(0x20a)]()[_0x32d54e(0x1a4)]();}async[a4_0x441178(0x1c2)](_0x24002a){const _0x3e4c0e=a4_0x441178,_0x4e3ee1={'USqPh':_0x3e4c0e(0x1f5),'Oeisd':function(_0x3b9340,_0x1795c9){return _0x3b9340(_0x1795c9);}};try{this[_0x3e4c0e(0x1e3)]&&!this[_0x3e4c0e(0x1e3)][_0x3e4c0e(0x1b5)]&&(_0x24002a[_0x3e4c0e(0x257)]=this[_0x3e4c0e(0x1e3)][_0x3e4c0e(0x1d4)]);!_0x24002a[_0x3e4c0e(0x257)]&&this[_0x3e4c0e(0x221)]&&!this[_0x3e4c0e(0x221)]['markedStatus']&&(_0x24002a['test_run_uuid']=this['currentTest']['testAnalyticsId']);if(_0x24002a['hook_run_uuid']||_0x24002a[_0x3e4c0e(0x1d1)]){const _0x3dd671={};_0x3dd671[_0x3e4c0e(0x23b)]=_0x4e3ee1[_0x3e4c0e(0x216)],_0x3dd671[_0x3e4c0e(0x1fa)]=[_0x24002a],await SessionHandler['uploadEventData'](_0x3dd671);}}catch(_0x14dd65){_0x4e3ee1[_0x3e4c0e(0x19d)](debug,_0x3e4c0e(0x179)+_0x14dd65);}}async[a4_0x441178(0x22b)](_0x115093){const _0x5079b4=a4_0x441178,_0x1ea4a6={'qjqmL':'CBTSessionCreated','FPbmD':function(_0x4403e7,_0x182a74){return _0x4403e7(_0x182a74);}};if(!this[_0x5079b4(0x236)])return;const _0x357caa=this[_0x5079b4(0x1d0)](this[_0x5079b4(0x198)]);try{const _0x2310dc={};_0x2310dc[_0x5079b4(0x1e5)]=_0x115093,_0x2310dc[_0x5079b4(0x1a1)]=_0x357caa;const _0x599649=_0x2310dc,_0x52c31e={};_0x52c31e[_0x5079b4(0x23b)]=_0x1ea4a6[_0x5079b4(0x1d5)],_0x52c31e[_0x5079b4(0x1a7)]=_0x599649,await SessionHandler[_0x5079b4(0x1b6)](_0x52c31e);}catch(_0x85f71d){_0x1ea4a6[_0x5079b4(0x178)](debug,_0x5079b4(0x1e7)+_0x85f71d);}}[a4_0x441178(0x1d0)](_0x4f077b){const _0x2c70cb={'vBasc':function(_0xc13b73,_0x7044b1){return _0xc13b73(_0x7044b1);}};return _0x2c70cb['vBasc'](fetchPlatformDetails,_0x4f077b);}[a4_0x441178(0x215)]=_0xc7c771=>{const _0x23d9fe=a4_0x441178,_0x1ff6c5={};_0x1ff6c5[_0x23d9fe(0x213)]='_beforeEach',_0x1ff6c5['FrleZ']='_afterEach';const _0x57f2e1=_0x1ff6c5;if(!_0xc7c771||!_0xc7c771[_0x23d9fe(0x209)])return;[_0x57f2e1['fGBgw'],_0x57f2e1['FrleZ']]['forEach'](_0x531966=>{const _0x2e85f0=_0x23d9fe,_0x2f6321=_0xc7c771[_0x2e85f0(0x209)][_0x531966];_0x2f6321[_0x2e85f0(0x226)](_0x476909=>{_0x476909['hookAnalyticsId']&&(_0x476909['hookAnalyticsId']=null);});});};[a4_0x441178(0x1e6)](_0x452e40){const _0x4e0100=a4_0x441178,_0x183f4e={'wVDeD':_0x4e0100(0x172),'lGDyO':function(_0xcaa2e5){return _0xcaa2e5();},'YXPvU':function(_0x1790f9,_0x1c9261){return _0x1790f9===_0x1c9261;},'WYyRy':_0x4e0100(0x219),'bYqkT':_0x4e0100(0x184),'ECiDO':_0x4e0100(0x1c6),'SvpXp':_0x4e0100(0x182)};if(!_0x452e40||!_0x452e40[_0x4e0100(0x209)])return;[_0x183f4e[_0x4e0100(0x17b)],_0x183f4e[_0x4e0100(0x186)],_0x183f4e[_0x4e0100(0x230)],_0x183f4e[_0x4e0100(0x1ac)]][_0x4e0100(0x226)](_0xcc8bc3=>{const _0x4ad63b=_0x4e0100,_0x534390=_0x452e40[_0x4ad63b(0x209)][_0xcc8bc3]||[];_0x534390[_0x4ad63b(0x226)](_0x5d243f=>{const _0x32afb8=_0x4ad63b;if(_0x5d243f['title']['includes'](_0x183f4e[_0x32afb8(0x183)]))return;if(!_0x5d243f[_0x32afb8(0x1d4)])_0x5d243f[_0x32afb8(0x1d4)]=_0x183f4e['lGDyO'](uuidv4);else _0x5d243f['markedStatus']&&_0x183f4e['YXPvU'](_0xcc8bc3,_0x183f4e[_0x32afb8(0x1ac)])&&(_0x5d243f[_0x32afb8(0x1d4)]=_0x183f4e['lGDyO'](uuidv4),delete _0x5d243f[_0x32afb8(0x1b5)]);});}),this[_0x4e0100(0x1e6)](_0x452e40[_0x4e0100(0x209)]);}['getHooksForTest'](_0x16c47c){const _0x22e0f4=a4_0x441178,_0x4c96fe={};_0x4c96fe[_0x22e0f4(0x201)]='_beforeAll',_0x4c96fe[_0x22e0f4(0x218)]=_0x22e0f4(0x1c6),_0x4c96fe[_0x22e0f4(0x1ba)]=_0x22e0f4(0x182),_0x4c96fe['dwvGR']=_0x22e0f4(0x219);const _0x4276d1=_0x4c96fe;if(!_0x16c47c||!_0x16c47c['parent'])return[];const _0x8337e8=[];return[_0x4276d1[_0x22e0f4(0x201)],_0x4276d1['nzjeQ'],_0x4276d1['yvfQL'],_0x4276d1[_0x22e0f4(0x20c)]][_0x22e0f4(0x226)](_0x49c3b1=>{const _0x287893=_0x22e0f4,_0x1cfd74=_0x16c47c[_0x287893(0x209)][_0x49c3b1]||[];_0x1cfd74['forEach'](_0x17356e=>{const _0x4b034e=_0x287893;_0x17356e[_0x4b034e(0x1d4)]&&_0x8337e8['push'](_0x17356e[_0x4b034e(0x1d4)]);});}),[][_0x22e0f4(0x16f)](_0x8337e8,this[_0x22e0f4(0x23c)](_0x16c47c[_0x22e0f4(0x209)]));}[a4_0x441178(0x222)](_0x72174d){const _0xf1261a=a4_0x441178,_0x38e7c9=/^"(?<hook>.*)" hook:.*$/,_0x28ff16=_0x72174d[_0xf1261a(0x1e0)],_0x2a9b2a=_0x28ff16[_0xf1261a(0x233)](_0x38e7c9);if(_0x2a9b2a&&_0x2a9b2a['groups'])return _0x2a9b2a['groups']['hook'][_0xf1261a(0x20b)]()[_0xf1261a(0x1d8)]('\x20','_');return null;}[a4_0x441178(0x1c4)](_0x48a0aa){const _0x34b61e=a4_0x441178,_0x56a956={};_0x56a956[_0x34b61e(0x21b)]=function(_0x57d5ac,_0x584e0b){return _0x57d5ac===_0x584e0b;},_0x56a956['JfFdi']=function(_0x8f71,_0x1890a0){return _0x8f71===_0x1890a0;},_0x56a956['jgAce']=function(_0x16b567,_0xdd3f18){return _0x16b567===_0xdd3f18;},_0x56a956['YSIsM']=function(_0x87dcb8,_0x195cb3){return _0x87dcb8===_0x195cb3;},_0x56a956[_0x34b61e(0x19b)]=_0x34b61e(0x18a),_0x56a956[_0x34b61e(0x177)]='config';const _0x2beb89=_0x56a956,_0x3cd941=path[_0x34b61e(0x1b4)];if(_0x2beb89[_0x34b61e(0x21b)](_0x48a0aa,null)||_0x2beb89['JfFdi'](_0x48a0aa,'')||_0x2beb89['jgAce'](_0x48a0aa,_0x3cd941)||_0x2beb89[_0x34b61e(0x192)](_0x48a0aa,path['dirname'](_0x48a0aa)))return null;try{return fs['statSync'](path[_0x34b61e(0x21a)](_0x48a0aa,_0x2beb89[_0x34b61e(0x19b)],_0x2beb89[_0x34b61e(0x177)])),_0x48a0aa;}catch(_0x4d6674){const _0x554cd4=path[_0x34b61e(0x1ca)](_0x48a0aa);return this['findGitConfig'](_0x554cd4);}}[a4_0x441178(0x243)](_0x47b8c2){const _0x52961d=a4_0x441178,_0x24cc51={};_0x24cc51['YnaDu']=function(_0x38e4ae,_0x2aa478){return _0x38e4ae>_0x2aa478;};const _0x406384=_0x24cc51;if(_0x47b8c2[_0x52961d(0x234)])return _0x47b8c2[_0x52961d(0x234)];if(_0x47b8c2[_0x52961d(0x18b)]){const _0x234edc=_0x47b8c2[_0x52961d(0x18b)]['currentTest']?this[_0x52961d(0x243)](_0x47b8c2[_0x52961d(0x18b)][_0x52961d(0x221)]):null;if(_0x234edc)return _0x234edc;}if(_0x47b8c2[_0x52961d(0x209)]){const _0x4a1047=this['getRootParentFile'](_0x47b8c2['parent'])||(_0x47b8c2['parent'][_0x52961d(0x18b)]&&_0x47b8c2[_0x52961d(0x209)]['ctx'][_0x52961d(0x221)]?this[_0x52961d(0x243)](_0x47b8c2[_0x52961d(0x209)][_0x52961d(0x18b)][_0x52961d(0x221)]):null);if(_0x4a1047)return _0x4a1047;_0x47b8c2[_0x52961d(0x209)][_0x52961d(0x220)]&&_0x406384[_0x52961d(0x251)](_0x47b8c2[_0x52961d(0x209)][_0x52961d(0x220)][_0x52961d(0x227)],0x0)&&_0x47b8c2[_0x52961d(0x209)]['suites']['forEach'](_0x5bd255=>{const _0x195e08=_0x52961d,_0x57ead9=_0x5bd255[_0x195e08(0x18b)]?this[_0x195e08(0x243)](_0x5bd255['ctx']):null;if(_0x57ead9)return _0x57ead9;});}return null;}[a4_0x441178(0x207)](_0x16f86b){const _0x5a9c2d=a4_0x441178,_0x56502c={};_0x56502c[_0x5a9c2d(0x1be)]=function(_0x114548,_0x556fc1){return _0x114548!==_0x556fc1;};const _0xee6d10=_0x56502c,_0x4537a9=[];if(_0x16f86b&&_0x16f86b[_0x5a9c2d(0x209)]){let _0x19ad28=_0x16f86b[_0x5a9c2d(0x209)];while(_0x19ad28&&_0xee6d10[_0x5a9c2d(0x1be)](_0x19ad28[_0x5a9c2d(0x1e0)],'')){_0x4537a9[_0x5a9c2d(0x174)](_0x19ad28[_0x5a9c2d(0x1e0)]),_0x19ad28=_0x19ad28[_0x5a9c2d(0x209)];}}return _0x4537a9;}[a4_0x441178(0x1ff)](_0x41c10a,_0x3cbc12,_0x4fa5f1=undefined){const _0x428b70=a4_0x441178,_0x36268b={'xTPsu':function(_0x359ac5,_0x2260a9){return _0x359ac5(_0x2260a9);},'iOqtU':function(_0xb00b2b){return _0xb00b2b();},'VWPQk':function(_0x2eea13){return _0x2eea13();},'hmXVz':function(_0x126a14){return _0x126a14();},'NUyJX':function(_0x5ae39a,_0x23b6ae){return _0x5ae39a(_0x23b6ae);},'oYxmO':_0x428b70(0x16e),'ybYJu':_0x428b70(0x249),'gHXBB':function(_0x467626,_0x41bc3a){return _0x467626!==_0x41bc3a;},'sjThv':_0x428b70(0x1a2),'bGHnW':_0x428b70(0x180),'oHnau':_0x428b70(0x1f1),'HYFOX':_0x428b70(0x210),'YjIJc':'skipped','uCuEw':'javascript','RKFzY':function(_0x1d4ac1,_0x40300a){return _0x1d4ac1-_0x40300a;},'hgEhe':function(_0x2ffcb4,_0x21b8a4,_0x26da7e,_0x28d836,_0x55b809){return _0x2ffcb4(_0x21b8a4,_0x26da7e,_0x28d836,_0x55b809);},'hqQpD':function(_0x15fbd5,_0xc6f897){return _0x15fbd5!==_0xc6f897;},'xbmsB':_0x428b70(0x1a1),'peQXy':'meta','eohES':_0x428b70(0x19e),'TdYmL':'failure_backtrace','TuBmc':_0x428b70(0x229),'gkwDr':_0x428b70(0x205),'clvYx':_0x428b70(0x225),'AGeGS':function(_0x87a806,_0xaa0709){return _0x87a806===_0xaa0709;},'OMPLs':'hook_run','zwjUj':_0x428b70(0x1a7)};if(!this['enabled'])return;try{if(_0x3cbc12['fn']&&_0x3cbc12['fn'][_0x428b70(0x197)]()['match'](/browserstack internal helper hook/))return;const _0x35ea23=_0x36268b[_0x428b70(0x22a)](parseEvent,_0x41c10a);if(!_0x35ea23)return;if(_0x35ea23[_0x428b70(0x1ef)]){this[_0x428b70(0x221)]=_0x3cbc12,this[_0x428b70(0x1e3)]=null;if(_0x35ea23[_0x428b70(0x1d7)]||_0x35ea23[_0x428b70(0x17a)]){_0x3cbc12['startedAt']=new Date(),_0x3cbc12['markedStatus']=![];if(!_0x3cbc12['testAnalyticsId'])_0x3cbc12[_0x428b70(0x1fe)]=_0x36268b[_0x428b70(0x1c8)](uuidv4);else _0x3cbc12[_0x428b70(0x1b5)]&&(!_0x3cbc12[_0x428b70(0x1f0)]&&(_0x3cbc12['retryOf']=_0x3cbc12[_0x428b70(0x1fe)]),_0x3cbc12['testAnalyticsId']=_0x36268b[_0x428b70(0x1e2)](uuidv4));}}else{if(_0x35ea23[_0x428b70(0x1a6)]){this[_0x428b70(0x1e3)]=_0x3cbc12;if(_0x35ea23[_0x428b70(0x1d7)]){_0x3cbc12[_0x428b70(0x17d)]=new Date(),_0x3cbc12[_0x428b70(0x1b5)]=![];if(!_0x3cbc12[_0x428b70(0x1d4)])_0x3cbc12[_0x428b70(0x1d4)]=_0x36268b['VWPQk'](uuidv4);else _0x3cbc12['hookAnalyticsId']&&_0x3cbc12['markedStatus']&&(_0x3cbc12[_0x428b70(0x1d4)]=_0x36268b[_0x428b70(0x24b)](uuidv4));}}}if(_0x35ea23[_0x428b70(0x189)]&&_0x3cbc12['markedStatus'])return;let _0xde7514;try{_0xde7514=this[_0x428b70(0x243)](_0x3cbc12);}catch(_0x55b2c5){logger[_0x428b70(0x1c3)](_0x428b70(0x231)+_0x55b2c5),_0xde7514=null;}const _0x1a731c=_0x36268b[_0x428b70(0x1b3)](require,_0x36268b['oYxmO']);let _0x1a83a9=[];_0x4fa5f1&&(_0x1a83a9=[_0x4fa5f1,_0x36268b[_0x428b70(0x1af)]]);const _0x1def53=_0x36268b['gHXBB'](_0x3cbc12[_0x428b70(0x18f)],undefined)?_0x1a731c['inspect'](_0x3cbc12['errorsDetailed'][0x0]):_0x36268b[_0x428b70(0x248)](_0x4fa5f1,undefined)?_0x4fa5f1[_0x428b70(0x197)]():undefined,_0xa2337b=_0xde7514?this[_0x428b70(0x1c4)](_0xde7514):null,_0x1677d8=_0xde7514?this[_0x428b70(0x1da)][_0x428b70(0x19a)](this['getRootParentFile'](_0x3cbc12)):_0x36268b['sjThv'];let _0x34d44d=_0x36268b[_0x428b70(0x199)];const _0x15034f=!_0x35ea23['started']?new Date()[_0x428b70(0x1e8)]():null;if(_0x35ea23[_0x428b70(0x189)])_0x34d44d=_0x4fa5f1?_0x36268b['oHnau']:_0x36268b[_0x428b70(0x224)],_0x3cbc12['markedStatus']=!![];else _0x35ea23[_0x428b70(0x17a)]&&(_0x34d44d=_0x36268b['YjIJc'],_0x3cbc12[_0x428b70(0x1b5)]=!![]);const _0x111687={'framework':this[_0x428b70(0x1b2)],'uuid':_0x3cbc12[_0x428b70(0x1fe)]||_0x3cbc12[_0x428b70(0x1d4)],'name':_0x3cbc12[_0x428b70(0x1e0)],'body':{'lang':_0x36268b[_0x428b70(0x214)],'code':_0x3cbc12['body'][_0x428b70(0x197)]()},'type':_0x3cbc12[_0x428b70(0x246)],'scope':_0x3cbc12['fullTitle'](),'scopes':this[_0x428b70(0x207)](_0x3cbc12),'file_name':_0x1677d8,'vc_filepath':_0xa2337b?path['relative'](_0xa2337b,_0xde7514):null,'location':_0x1677d8,'result':_0x34d44d,'failure_reason':_0x1def53,'duration_in_ms':_0x3cbc12[_0x428b70(0x1ee)]||(_0x35ea23['finished']||_0x35ea23[_0x428b70(0x17a)])?_0x36268b['RKFzY'](Date[_0x428b70(0x1dd)](),new Date(_0x3cbc12['startedAt'])[_0x428b70(0x1c5)]()):null,'started_at':new Date(_0x3cbc12[_0x428b70(0x17d)])[_0x428b70(0x1e8)](),'finished_at':_0x15034f,'failure':testOpsHelper[_0x428b70(0x24c)][_0x428b70(0x1aa)](null,_0x1a83a9),'failure_type':!_0x1def53?null:testOpsHelper['getFailureType'](_0x1def53),'retry_of':_0x3cbc12[_0x428b70(0x1f0)]||null,'tags':_0x3cbc12[_0x428b70(0x244)]||[],'customRerunParam':{'rerun_name':_0x3cbc12['fullTitle']()}};_0x36268b['hgEhe'](appendTesthubParams,_0x111687,_0x41c10a,_0x3cbc12,FRAMEWORKS[_0x428b70(0x171)]);if(_0x35ea23['hook'])[_0x111687[_0x428b70(0x21c)],_0x111687[_0x428b70(0x208)]]=[this[_0x428b70(0x222)](_0x3cbc12),_0x3cbc12[_0x428b70(0x18b)][_0x428b70(0x1ef)][_0x428b70(0x1e0)]],_0x35ea23[_0x428b70(0x189)]?_0x36268b[_0x428b70(0x228)](_0x111687['result'],_0x36268b[_0x428b70(0x20d)])&&(_0x111687[_0x428b70(0x232)]=_0x36268b['HYFOX']):_0x111687[_0x428b70(0x1fd)]={};else _0x35ea23[_0x428b70(0x1ef)]&&(this[_0x428b70(0x1e6)](_0x3cbc12),_0x35ea23[_0x428b70(0x17a)]&&this['resetSkipTestHooks'](_0x3cbc12),(_0x35ea23[_0x428b70(0x189)]||_0x35ea23['skipped'])&&(_0x111687[_0x428b70(0x252)]=this[_0x428b70(0x23c)](_0x3cbc12)));this['driver']&&(_0x35ea23[_0x428b70(0x1d7)]||_0x35ea23[_0x428b70(0x17a)])&&(_0x111687[_0x36268b[_0x428b70(0x247)]]=this['getCBTInfo'](this[_0x428b70(0x198)]));_0x35ea23[_0x428b70(0x1ef)]&&_0x35ea23[_0x428b70(0x189)]&&_0x3cbc12[_0x428b70(0x24f)]&&(_0x111687[_0x36268b[_0x428b70(0x1e1)]]={'feature':{'name':_0x3cbc12[_0x428b70(0x209)][_0x428b70(0x19c)]['name'],'path':_0x111687[_0x428b70(0x1f8)],'description':_0x3cbc12[_0x428b70(0x209)][_0x428b70(0x1ad)]},'scenario':{'name':_0x3cbc12[_0x428b70(0x1e0)]},'steps':_0x3cbc12[_0x428b70(0x24f)]});const _0x1b7369=_0x111687[_0x36268b[_0x428b70(0x1c7)]][0x0];_0x1b7369&&(_0x111687[_0x36268b[_0x428b70(0x16d)]]=_0x1b7369[_0x36268b[_0x428b70(0x245)]],_0x111687[_0x36268b[_0x428b70(0x1fb)]]=_0x1b7369[_0x36268b[_0x428b70(0x1a9)]]);if(_0x3cbc12['bddSteps'])for(const _0x1d9b1f of _0x3cbc12[_0x428b70(0x24f)]){!_0x1d9b1f[_0x428b70(0x203)]&&(_0x1d9b1f['finished_at']=new Date()['toISOString'](),_0x36268b['AGeGS'](_0x1d9b1f['result'],_0x36268b[_0x428b70(0x199)])&&(_0x1b7369?(_0x1d9b1f['result']=_0x36268b[_0x428b70(0x20d)],_0x1d9b1f[_0x428b70(0x19e)]=_0x1b7369[_0x36268b[_0x428b70(0x245)]][0x0]):_0x1d9b1f[_0x428b70(0x232)]=_0x36268b[_0x428b70(0x224)]));}const _0x1477d4={};_0x1477d4['event_type']=_0x35ea23[_0x428b70(0x17a)]?TEST_EVENTS[_0x428b70(0x22e)]:_0x41c10a;const _0x37df97=_0x1477d4;return _0x35ea23[_0x428b70(0x1a6)]?_0x37df97[_0x36268b[_0x428b70(0x18c)]]=_0x111687:_0x37df97[_0x36268b[_0x428b70(0x196)]]=_0x111687,_0x37df97;}catch(_0x32a473){logger['debug'](_0x428b70(0x24a)+_0x41c10a+'\x20with\x20error\x20:\x20'+_0x32a473);}}async['fireEvent'](_0x117a48,_0x5213d2){const _0x1694d7=a4_0x441178;if(!this[_0x1694d7(0x236)]||!_0x5213d2||!_0x117a48)return![];try{return await SessionHandler[_0x1694d7(0x1b6)](_0x5213d2);}catch(_0x36e9d7){logger[_0x1694d7(0x1c3)](_0x1694d7(0x188)+_0x117a48+_0x1694d7(0x240)+_0x36e9d7);}}[a4_0x441178(0x250)](_0x1b0060){const _0x4aa70a=a4_0x441178,_0x5158a8={};_0x5158a8[_0x4aa70a(0x1f9)]=_0x4aa70a(0x180);const _0x22fa2c=_0x5158a8;return{'id':_0x1b0060['stepAnalyticsId'],'text':_0x1b0060[_0x4aa70a(0x1f3)],'keyword':_0x1b0060[_0x4aa70a(0x238)],'started_at':_0x1b0060['startedAt'][_0x4aa70a(0x1e8)](),'result':_0x22fa2c[_0x4aa70a(0x1f9)]};}[a4_0x441178(0x1c1)](_0x49a4be){const _0xb0de3b=a4_0x441178,_0x5b2736={'RLhpB':function(_0x169397){return _0x169397();}};!this[_0xb0de3b(0x221)][_0xb0de3b(0x24f)]&&(this[_0xb0de3b(0x221)][_0xb0de3b(0x24f)]=[]),!_0x49a4be[_0xb0de3b(0x18d)]&&(_0x49a4be[_0xb0de3b(0x18d)]=_0x5b2736[_0xb0de3b(0x18e)](uuidv4),_0x49a4be['startedAt']=new Date(),this[_0xb0de3b(0x221)][_0xb0de3b(0x24f)][_0xb0de3b(0x174)](this[_0xb0de3b(0x250)](_0x49a4be)));}['bddStepFinish'](_0x5133e3){const _0x214022=a4_0x441178,_0x55df24={'EqcAS':function(_0x16c440,_0x17d83c){return _0x16c440(_0x17d83c);},'DAeDH':_0x214022(0x24e),'EQdbQ':'pending','cRNDi':_0x214022(0x210),'ftaur':function(_0xd6837f,_0x34476d){return _0xd6837f-_0x34476d;}};let _0x502d2a=this['currentTest'][_0x214022(0x24f)][_0x214022(0x17f)](_0x18bfa8=>_0x18bfa8['id']===_0x5133e3[_0x214022(0x18d)]);_0x55df24[_0x214022(0x1b8)](isUndefined,_0x502d2a)&&(_0x502d2a=this[_0x214022(0x250)](_0x5133e3)),_0x502d2a[_0x214022(0x232)]=[_0x55df24[_0x214022(0x211)],_0x55df24['EQdbQ']]['includes'](_0x5133e3[_0x214022(0x19f)])?_0x55df24[_0x214022(0x23e)]:_0x5133e3[_0x214022(0x19f)],_0x502d2a['finished_at']=new Date()[_0x214022(0x1e8)](),_0x502d2a[_0x214022(0x1ee)]=_0x55df24[_0x214022(0x1b0)](Date[_0x214022(0x1dd)](),_0x5133e3[_0x214022(0x17d)][_0x214022(0x1c5)]()),_0x502d2a[_0x214022(0x19e)]=_0x5133e3[_0x214022(0x249)]?_0x5133e3['err'][_0x214022(0x190)]:null;}}const a4_0x350f1c={};a4_0x350f1c['O11yHelper']=O11yHelper,a4_0x350f1c['STATE_PASSED']=STATE_PASSED,a4_0x350f1c[a4_0x441178(0x1f4)]=STATE_FAILED,a4_0x350f1c[a4_0x441178(0x24d)]=TEST_EVENTS,module[a4_0x441178(0x1d3)]=a4_0x350f1c;