const a4_0x3478f4=a4_0x2142;(function(_0x4f5233,_0x2be528){const _0x14af97=a4_0x2142,_0x424ae3=_0x4f5233();while(!![]){try{const _0x20809c=parseInt(_0x14af97(0x194))/0x1+parseInt(_0x14af97(0x1ed))/0x2+-parseInt(_0x14af97(0x187))/0x3+parseInt(_0x14af97(0x157))/0x4+parseInt(_0x14af97(0x196))/0x5+-parseInt(_0x14af97(0x15a))/0x6*(-parseInt(_0x14af97(0x15b))/0x7)+-parseInt(_0x14af97(0x1bb))/0x8;if(_0x20809c===_0x2be528)break;else _0x424ae3['push'](_0x424ae3['shift']());}catch(_0x502efd){_0x424ae3['push'](_0x424ae3['shift']());}}}(a4_0x136f,0x2e85b));const path=require(a4_0x3478f4(0x18f)),fs=require('fs'),{v4:uuidv4}=require('uuid'),{importFileFromPWCore,nestedKeyValue,parseWSEndpoint,isUndefined}=require('../../helpers/helper'),testOpsHelper=require(a4_0x3478f4(0x1d7)),{getTestEnv}=require('../mocha/test-observability/mochaUtils'),{FRAMEWORKS}=require(a4_0x3478f4(0x13b)),logger=require('../../helpers/logger')[a4_0x3478f4(0x164)],SessionHandler=require(a4_0x3478f4(0x1c6)),RequestQueueHandler=require('../../helpers/test-observability/requestQueueHandler'),PlaywrightSessionDetails=require(a4_0x3478f4(0x151)),debug=testOpsHelper[a4_0x3478f4(0x178)],{processAccessibilityCaps}=require(a4_0x3478f4(0x183)),Constants=require('../utils/constants'),{fetchPlatformDetails}=require(a4_0x3478f4(0x1f3)),{shouldProcessEventForTesthub,appendTesthubParams}=require(a4_0x3478f4(0x113)),constants=require('../utils/constants'),STATE_PASSED=a4_0x3478f4(0x1bc),STATE_FAILED=a4_0x3478f4(0x153),a4_0x2f4978={};function a4_0x2142(_0x4659db,_0x481201){const _0x136f7f=a4_0x136f();return a4_0x2142=function(_0x2142b3,_0x1c2fc1){_0x2142b3=_0x2142b3-0xfd;let _0x47cd92=_0x136f7f[_0x2142b3];return _0x47cd92;},a4_0x2142(_0x4659db,_0x481201);}a4_0x2f4978[a4_0x3478f4(0x105)]=a4_0x3478f4(0x106),a4_0x2f4978['TEST_RUN_FINISHED']=a4_0x3478f4(0x101),a4_0x2f4978[a4_0x3478f4(0x1de)]=a4_0x3478f4(0x12c),a4_0x2f4978[a4_0x3478f4(0x173)]='HookRunStarted',a4_0x2f4978[a4_0x3478f4(0x17a)]='HookRunFinished';function a4_0x136f(){const _0x484a74=['shutdown','SwxPa','parent','HOOK_RUN_STARTED','result','launch','\x20with\x20error\x20:\x20','toISOString','debug','LogCreated','HOOK_RUN_FINISHED','getInstance','.git','then','fullTitle','skipped','CODECEPT','NrHzA','HTnht','../playwright/accessibility-helper','bs:addLog:','toLowerCase','markedStatus','239535nUCZAZ','now','title','status','split','PDoUX','enabled','TEST_EVENTS','path','pid','removeAllListeners','gHWPG','BScTA','247317YaaOAk','integrations','1890035KhBHyk','rnRLn','forEach','WCApu','hybAc','brKOy','ctx','start','__platformCaps','meta','nGwZB','uliEX','obsBrowserTypeMockApplied','UOLTR','test_run','QpnBZ','uaoMF','find','PathHelper','appendTestItemLog','finished','cwd','Ihjjd','bLucF','failure','asYwk','MUEIJ','DxgcG','tags','_testEnv','browserstack','hKpzH','dAzCf','match','TISuc','getCBTInfo','join','5863304XycYOB','passed','rifik','stepAnalyticsId','XFAXc','XwFxD','File\x20path\x20could\x20not\x20be\x20found','feature','message','lnPPv','sep','../../helpers/test-observability/sessionHandler','type','MIozk','findGitConfig','length','client','groups','apply','bddSteps','hook','_afterAll','wsEndpoint','uCFFf','uPlPx','TEST_REPORTING_ANALYTICS','errorsDetailed','browserType.js','../../helpers/test-observability/utils','Yugjp','xfVCK','lnxoV','YKkkj','getTime','ENPMX','TEST_RUN_SKIPPED','JBqBq','statSync','testAnalyticsId','QYSgx','getFailureType','MpWnY','PnAIU','DruOX','Exception\x20in\x20sending\x20test\x20data\x20for\x20event\x20','Exception\x20in\x20populating\x20test\x20data\x20for\x20event\x20','getHookType','logs','finished_at','backtrace','190336uMgmHj','BROWSERSTACK','NDJGE','string','getRootParentFile','UKsPM','./helper.js','_paths','_beforeAll','connect','imkhm','lib','concat','NxJMK','TestRunFinished','push','currentHook','jntof','TEST_RUN_STARTED','TestRunStarted','DWxET','KamTe','suites','wXQxW','file_name','retryOf','codeceptjs','bddStepStart','_beforeEach','test','includes','setupBrowserDetails','../../helpers/testhub/utils.js','cfSvk','captureEvent','name','hook_run','uuid','PCZsA','BlBRq','EgBWy','TEST_RUN_FINISHED','getHooksForTest','initializeBddStep','POgVq','oRYHP','failureData','O11yHelper','uploadEventData','lWIjA','driver','hooks','event_type','toString','currentTest','location_prefix','wKivH','TestRunSkipped','frameworkName','_afterEach','VkePO','resetSkipTestHooks','AkZiF','5|1|2|4|3|0','inspect','fireEvent','PORsI','bCVZU','Playwright','startedAt','Not\x20able\x20to\x20import\x20Browser','qcvAu','../../helpers/test-observability/constants','lsafm','defineProperty','stop','BoWIl','STATE_FAILED','failed\x20to\x20get\x20root\x20parent\x20file\x20','DVSEG','YoGIa','pending','relative','Odsex','CBTSessionCreated','SOvBt','BSwdI','started','hook_run_uuid','JdFaE','err','jZoRO','hookAnalyticsId','FgvEy','../playwright/sessionDetails','__cloud_provider___','failed','comment','MMErZ','body','88796EWaTJe','prefixTestPath','tDfFl','1563732wBTNcW','7toUZwh','AwzyG','iRsoM','replace','wuUFb','failure_reason_expanded','duration','getHierarchy','file','winstonLogger','NwqYg','keyword','hSfOo','bddStepFinish','dirname','ymDBF','stringify','SKvSc','JtIYv','hook_type','test_run_uuid'];a4_0x136f=function(){return _0x484a74;};return a4_0x136f();}const TEST_EVENTS=a4_0x2f4978,parseEvent=_0x444c36=>{const _0x2b2d6c=a4_0x3478f4,_0x53306d={};_0x53306d[_0x2b2d6c(0x13c)]=function(_0x3322cc,_0x3b2363){return _0x3322cc<_0x3b2363;},_0x53306d[_0x2b2d6c(0x19b)]=function(_0x4d51a1,_0xebb6d7){return _0x4d51a1===_0xebb6d7;},_0x53306d['HTnht']='test',_0x53306d['hSfOo']=function(_0x52a35e,_0x1b79e1){return _0x52a35e===_0x1b79e1;},_0x53306d[_0x2b2d6c(0x199)]='hook',_0x53306d[_0x2b2d6c(0x10a)]=_0x2b2d6c(0x17f),_0x53306d[_0x2b2d6c(0x1e2)]=function(_0x5f8dc9,_0x28a275){return _0x5f8dc9===_0x28a275;},_0x53306d[_0x2b2d6c(0x1f2)]='started',_0x53306d[_0x2b2d6c(0x193)]=function(_0x5542f1,_0x4f264c){return _0x5542f1===_0x4f264c;},_0x53306d[_0x2b2d6c(0x1da)]='finished';const _0x33e510=_0x53306d,_0x556769=_0x444c36['match'](/^(.*)Run(.*)$/);if(!_0x556769)return null;if(_0x33e510[_0x2b2d6c(0x13c)](_0x556769[_0x2b2d6c(0x1ca)],0x3))return null;const _0x52f8fa=_0x556769[0x1]['toLowerCase'](),_0x154390=_0x556769[0x2][_0x2b2d6c(0x185)]();return{'test':_0x33e510[_0x2b2d6c(0x19b)](_0x52f8fa,_0x33e510[_0x2b2d6c(0x182)]),'hook':_0x33e510[_0x2b2d6c(0x167)](_0x52f8fa,_0x33e510[_0x2b2d6c(0x199)]),'skipped':_0x33e510[_0x2b2d6c(0x19b)](_0x154390,_0x33e510[_0x2b2d6c(0x10a)]),'started':_0x33e510[_0x2b2d6c(0x1e2)](_0x154390,_0x33e510[_0x2b2d6c(0x1f2)]),'finished':_0x33e510[_0x2b2d6c(0x193)](_0x154390,_0x33e510[_0x2b2d6c(0x1da)])};},mockPWBrowserType=_0x1cd8c9=>{const _0x3d0c1c=a4_0x3478f4,_0x20e7c7={'cfSvk':function(_0x42871d,_0x560e38){return _0x42871d===_0x560e38;},'hybAc':_0x3d0c1c(0x1f0),'dAzCf':function(_0x528649,_0x2c0dc3,_0x460967){return _0x528649(_0x2c0dc3,_0x460967);},'TZrCy':_0x3d0c1c(0x1d1),'MpWnY':function(_0x13e7af,_0x5b779b){return _0x13e7af(_0x5b779b);},'BTthC':_0x3d0c1c(0x1b4),'qwIHO':function(_0x39ad13,_0x2933f8,_0x8badfa){return _0x39ad13(_0x2933f8,_0x8badfa);},'Ihjjd':_0x3d0c1c(0xfe),'imkhm':_0x3d0c1c(0x1cb),'yCtPX':_0x3d0c1c(0x1d6),'bCVZU':_0x3d0c1c(0x139),'BFfjp':_0x3d0c1c(0x1f6),'MMErZ':_0x3d0c1c(0x175)},_0x39611d=path[_0x3d0c1c(0x1ba)](_0x20e7c7[_0x3d0c1c(0x1ac)],_0x20e7c7[_0x3d0c1c(0xfd)],_0x20e7c7['yCtPX']),_0x1df82b=_0x20e7c7[_0x3d0c1c(0x1e4)](importFileFromPWCore,_0x39611d);if(!_0x1df82b){_0x20e7c7[_0x3d0c1c(0x1e4)](debug,_0x20e7c7[_0x3d0c1c(0x136)]);return;}const _0x43f9d6=_0x1df82b['BrowserType'],_0x2fd7d8=_0x43f9d6['prototype'];if(_0x2fd7d8[_0x3d0c1c(0x1a2)])return;const _0x5a05df=_0x2fd7d8[_0x3d0c1c(0x1f6)];Object[_0x3d0c1c(0x13d)](_0x2fd7d8,_0x20e7c7['BFfjp'],{'get':function(){const _0x4a05d0=_0x3d0c1c,_0x22db96={'SKvSc':function(_0x456c67,_0x455131){const _0x4447e5=a4_0x2142;return _0x20e7c7[_0x4447e5(0x114)](_0x456c67,_0x455131);},'NwqYg':_0x20e7c7[_0x4a05d0(0x19a)],'BSwdI':function(_0x3423d6,_0x3e8b49,_0x511334){const _0x5a524a=_0x4a05d0;return _0x20e7c7[_0x5a524a(0x1b6)](_0x3423d6,_0x3e8b49,_0x511334);},'Odsex':_0x20e7c7['TZrCy'],'BlBRq':function(_0x629337,_0x44665a){return _0x20e7c7['MpWnY'](_0x629337,_0x44665a);},'sUyZN':_0x20e7c7['BTthC'],'xfVCK':function(_0x21beca,_0x42a4d8,_0x45b92e){return _0x20e7c7['qwIHO'](_0x21beca,_0x42a4d8,_0x45b92e);},'XFAXc':function(_0x471ab5,_0x22ef43){const _0x43e8f0=_0x4a05d0;return _0x20e7c7[_0x43e8f0(0x1e4)](_0x471ab5,_0x22ef43);}};return async function _0x23dcdf(_0x14991a,_0x56feff){const _0x1877f9=_0x4a05d0,_0x50a433={'DGJNx':function(_0x3000a0,_0x141620){const _0x315dc7=a4_0x2142;return _0x22db96[_0x315dc7(0x16c)](_0x3000a0,_0x141620);},'nMloG':_0x22db96[_0x1877f9(0x165)]},_0x4829ca=_0x22db96[_0x1877f9(0x149)](nestedKeyValue,_0x14991a,[_0x22db96[_0x1877f9(0x146)]])||_0x14991a;let _0x3733c3=null,_0x530e0b=null;try{[_0x530e0b,_0x3733c3]=_0x4829ca?_0x22db96[_0x1877f9(0x11a)](parseWSEndpoint,_0x4829ca):[null,null],global[_0x1877f9(0x19e)]=_0x3733c3,logger[_0x1877f9(0x178)]('Checking\x20for\x20accessibility\x20automation\x20session\x20with\x20'+_0x530e0b),_0x530e0b['includes'](Constants[_0x1877f9(0x1ee)])&&(global[_0x1877f9(0x152)]=_0x22db96['sUyZN']);}catch(_0x313ef8){logger[_0x1877f9(0x178)]('Failed\x20to\x20parse\x20wsendpoint\x20'+_0x4829ca+'\x20'+_0x313ef8);}_0x22db96[_0x1877f9(0x1d9)](processAccessibilityCaps,_0x3733c3,_0x530e0b);if(global['accessibilityPlatform']){const _0x48ce42=await _0x2fd7d8['connectOverCDP'][_0x1877f9(0x1cd)](this,[''+Constants['PLAYWRIGHT_HUB_URL']+_0x22db96[_0x1877f9(0x1bf)](encodeURIComponent,JSON[_0x1877f9(0x16b)](_0x3733c3))]);return PlaywrightSessionDetails[_0x1877f9(0x112)](_0x48ce42,_0x1cd8c9,_0x4829ca),_0x48ce42;}return _0x5a05df[_0x1877f9(0x1cd)](this,arguments)['then'](_0xdb21b4=>{const _0x1f0a66=_0x1877f9;let _0x20815d=_0x14991a[_0x1f0a66(0x1d1)];return _0x50a433['DGJNx'](typeof _0x14991a,_0x50a433['nMloG'])&&(_0x20815d=_0x14991a),PlaywrightSessionDetails[_0x1f0a66(0x112)](_0xdb21b4,_0x1cd8c9,_0x20815d),_0xdb21b4;});};}});const _0xcedd=_0x2fd7d8['launch'];Object[_0x3d0c1c(0x13d)](_0x2fd7d8,_0x20e7c7[_0x3d0c1c(0x155)],{'get':function(){return async function _0x4a106f(){const _0x1225d3=a4_0x2142;return _0xcedd['apply'](this,arguments)[_0x1225d3(0x17d)](_0x355aea=>{const _0x32e6ff=_0x1225d3;return PlaywrightSessionDetails[_0x32e6ff(0x112)](_0x355aea,null),_0x355aea;});};}});};class O11yHelper{[a4_0x3478f4(0x129)]=null;[a4_0x3478f4(0x103)]=null;[a4_0x3478f4(0x18d)]=![];[a4_0x3478f4(0x12d)]=![];constructor(_0x3f5d93,_0x1aefa9){const _0x279092=a4_0x3478f4,_0x2a0dbc={'rnRLn':_0x279092(0x132),'TISuc':function(_0x2b2f7c,_0x25e43d){return _0x2b2f7c===_0x25e43d;},'Yugjp':_0x279092(0x137),'EgBWy':function(_0x273613,_0x3cf3a8){return _0x273613(_0x3cf3a8);},'qcvAu':function(_0x4e80eb){return _0x4e80eb();},'POgVq':function(_0x449661){return _0x449661();}},_0x6965aa=_0x2a0dbc[_0x279092(0x197)][_0x279092(0x18b)]('|');let _0xeaa4b4=0x0;while(!![]){switch(_0x6965aa[_0xeaa4b4++]){case'0':this['driver']&&_0x2a0dbc[_0x279092(0x1b8)](this[_0x279092(0x125)]['constructor']['name'],_0x2a0dbc[_0x279092(0x1d8)])&&_0x2a0dbc[_0x279092(0x11b)](mockPWBrowserType,null);continue;case'1':this[_0x279092(0x12d)]=_0x1aefa9['frameworkName'];continue;case'2':this[_0x279092(0x125)]=_0x3f5d93;continue;case'3':this[_0x279092(0x1f4)]=new testOpsHelper[(_0x279092(0x1a8))]({'cwd':process[_0x279092(0x1ab)]()},this[_0x279092(0x1b3)][_0x279092(0x12a)]);continue;case'4':this[_0x279092(0x1b3)]=_0x2a0dbc[_0x279092(0x13a)](getTestEnv);continue;case'5':this[_0x279092(0x18d)]=_0x2a0dbc[_0x279092(0x11f)](shouldProcessEventForTesthub);continue;}break;}}[a4_0x3478f4(0x19d)](){const _0x1cccad=a4_0x3478f4;if(!this[_0x1cccad(0x18d)])return;testOpsHelper['patchConsoleLogger'](),process[_0x1cccad(0x191)](_0x1cccad(0x184)+process['pid']),process['on']('bs:addLog:'+process[_0x1cccad(0x190)],this[_0x1cccad(0x1a9)]['bind'](this));}async[a4_0x3478f4(0x13e)](){const _0x1d4f79=a4_0x3478f4;await RequestQueueHandler[_0x1d4f79(0x17b)]()[_0x1d4f79(0x170)]();}async['appendTestItemLog'](_0x297fe9){const _0x556d75=a4_0x3478f4,_0x54d034={'QpnBZ':_0x556d75(0x179),'nOIyc':function(_0x1fc9f4,_0x3216cc){return _0x1fc9f4(_0x3216cc);}};try{this[_0x556d75(0x103)]&&!this[_0x556d75(0x103)]['markedStatus']&&(_0x297fe9[_0x556d75(0x14b)]=this[_0x556d75(0x103)][_0x556d75(0x14f)]);!_0x297fe9[_0x556d75(0x14b)]&&this[_0x556d75(0x129)]&&!this[_0x556d75(0x129)][_0x556d75(0x186)]&&(_0x297fe9[_0x556d75(0x16f)]=this[_0x556d75(0x129)]['testAnalyticsId']);if(_0x297fe9[_0x556d75(0x14b)]||_0x297fe9[_0x556d75(0x16f)]){const _0x248548={};_0x248548['event_type']=_0x54d034[_0x556d75(0x1a5)],_0x248548[_0x556d75(0x1ea)]=[_0x297fe9],await SessionHandler[_0x556d75(0x123)](_0x248548);}}catch(_0x311637){_0x54d034['nOIyc'](debug,'Exception\x20in\x20uploading\x20log\x20data\x20to\x20'+constants[_0x556d75(0x1d4)]+_0x556d75(0x176)+_0x311637);}}async['sendCBTInfo'](_0x13783c){const _0x5d1cc9=a4_0x3478f4,_0x43cb1d={'VkePO':_0x5d1cc9(0x147),'PnAIU':function(_0x3faf36,_0x5caafe){return _0x3faf36(_0x5caafe);}};if(!this[_0x5d1cc9(0x18d)])return;const _0x3bc329=this['getCBTInfo'](this[_0x5d1cc9(0x125)]);try{const _0xfae899={};_0xfae899[_0x5d1cc9(0x118)]=_0x13783c,_0xfae899[_0x5d1cc9(0x195)]=_0x3bc329;const _0x21a54d=_0xfae899,_0x10d5d4={};_0x10d5d4[_0x5d1cc9(0x127)]=_0x43cb1d[_0x5d1cc9(0x12f)],_0x10d5d4[_0x5d1cc9(0x1a4)]=_0x21a54d,await SessionHandler[_0x5d1cc9(0x123)](_0x10d5d4);}catch(_0x3c4315){_0x43cb1d[_0x5d1cc9(0x1e5)](debug,'Exception\x20in\x20uploading\x20platform\x20details\x20to\x20'+constants[_0x5d1cc9(0x1d4)]+'\x20with\x20error\x20:\x20'+_0x3c4315);}}[a4_0x3478f4(0x1b9)](_0x23c877){const _0xc69609=a4_0x3478f4,_0x8618f3={'MIozk':function(_0xcf7b59,_0x2ee314){return _0xcf7b59(_0x2ee314);}};return _0x8618f3[_0xc69609(0x1c8)](fetchPlatformDetails,_0x23c877);}[a4_0x3478f4(0x130)]=_0x296a2a=>{const _0x1c0953=a4_0x3478f4,_0x377962={};_0x377962[_0x1c0953(0x1ef)]=_0x1c0953(0x10f),_0x377962['uliEX']=_0x1c0953(0x12e);const _0x4d7a14=_0x377962;if(!_0x296a2a||!_0x296a2a['parent'])return;[_0x4d7a14[_0x1c0953(0x1ef)],_0x4d7a14[_0x1c0953(0x1a1)]][_0x1c0953(0x198)](_0x407b96=>{const _0x482838=_0x1c0953,_0x3effb6=_0x296a2a[_0x482838(0x172)][_0x407b96];_0x3effb6[_0x482838(0x198)](_0x112c83=>{const _0x293b08=_0x482838;_0x112c83[_0x293b08(0x14f)]&&(_0x112c83[_0x293b08(0x14f)]=null);});});};['mapTestHooks'](_0x31b85d){const _0x39f56f=a4_0x3478f4,_0x341ac1={'lnPPv':_0x39f56f(0x10d),'YKkkj':function(_0x523345){return _0x523345();},'DxgcG':function(_0x18f40e,_0x47d275){return _0x18f40e===_0x47d275;},'FgvEy':'_afterEach','KDxZQ':function(_0x27a0ff){return _0x27a0ff();},'wKivH':'_beforeAll','PORsI':_0x39f56f(0x1d0),'PDoUX':_0x39f56f(0x10f)};if(!_0x31b85d||!_0x31b85d['parent'])return;[_0x341ac1[_0x39f56f(0x12b)],_0x341ac1[_0x39f56f(0x135)],_0x341ac1[_0x39f56f(0x18c)],_0x341ac1[_0x39f56f(0x150)]][_0x39f56f(0x198)](_0x1fdf9a=>{const _0x54c112=_0x39f56f,_0x5574f2=_0x31b85d[_0x54c112(0x172)][_0x1fdf9a]||[];_0x5574f2[_0x54c112(0x198)](_0x3e5c8a=>{const _0x4ea082=_0x54c112;if(_0x3e5c8a[_0x4ea082(0x189)]['includes'](_0x341ac1[_0x4ea082(0x1c4)]))return;if(!_0x3e5c8a[_0x4ea082(0x14f)])_0x3e5c8a[_0x4ea082(0x14f)]=_0x341ac1[_0x4ea082(0x1db)](uuidv4);else _0x3e5c8a[_0x4ea082(0x186)]&&_0x341ac1[_0x4ea082(0x1b1)](_0x1fdf9a,_0x341ac1['FgvEy'])&&(_0x3e5c8a['hookAnalyticsId']=_0x341ac1['KDxZQ'](uuidv4),delete _0x3e5c8a[_0x4ea082(0x186)]);});}),this['mapTestHooks'](_0x31b85d[_0x39f56f(0x172)]);}['getHooksForTest'](_0x76dd81){const _0x2b3423=a4_0x3478f4,_0x4803c5={};_0x4803c5[_0x2b3423(0x131)]=_0x2b3423(0x1f5),_0x4803c5['aqlTq']='_afterAll',_0x4803c5[_0x2b3423(0x104)]=_0x2b3423(0x10f),_0x4803c5[_0x2b3423(0x1dd)]=_0x2b3423(0x12e);const _0x5b28d7=_0x4803c5;if(!_0x76dd81||!_0x76dd81[_0x2b3423(0x172)])return[];const _0x1ba8f3=[];return[_0x5b28d7[_0x2b3423(0x131)],_0x5b28d7['aqlTq'],_0x5b28d7['jntof'],_0x5b28d7[_0x2b3423(0x1dd)]]['forEach'](_0x2187c1=>{const _0x120a27=_0x2b3423,_0x3368fe=_0x76dd81[_0x120a27(0x172)][_0x2187c1]||[];_0x3368fe[_0x120a27(0x198)](_0x5bf79b=>{const _0x54a8f4=_0x120a27;_0x5bf79b[_0x54a8f4(0x14f)]&&_0x1ba8f3[_0x54a8f4(0x102)](_0x5bf79b[_0x54a8f4(0x14f)]);});}),[][_0x2b3423(0xff)](_0x1ba8f3,this[_0x2b3423(0x11d)](_0x76dd81[_0x2b3423(0x172)]));}[a4_0x3478f4(0x1e9)](_0x5a23f4){const _0x2e4e23=a4_0x3478f4,_0x1be594=/^"(?<hook>.*)" hook:.*$/,_0x69e67d=_0x5a23f4[_0x2e4e23(0x189)],_0x122d21=_0x69e67d[_0x2e4e23(0x1b7)](_0x1be594);if(_0x122d21&&_0x122d21[_0x2e4e23(0x1cc)])return _0x122d21[_0x2e4e23(0x1cc)][_0x2e4e23(0x1cf)]['toUpperCase']()[_0x2e4e23(0x15e)]('\x20','_');return null;}[a4_0x3478f4(0x1c9)](_0x2ce2e1){const _0x1ceac5=a4_0x3478f4,_0x2fe580={};_0x2fe580[_0x1ceac5(0x1a3)]=function(_0x379652,_0x43cbba){return _0x379652===_0x43cbba;},_0x2fe580[_0x1ceac5(0x14e)]=function(_0x6df035,_0x35c54d){return _0x6df035===_0x35c54d;},_0x2fe580[_0x1ceac5(0x192)]=function(_0x2a5fd7,_0x38309f){return _0x2a5fd7===_0x38309f;},_0x2fe580[_0x1ceac5(0x13f)]=_0x1ceac5(0x17c),_0x2fe580['DruOX']='config';const _0x32caa8=_0x2fe580,_0x216464=path[_0x1ceac5(0x1c5)];if(_0x32caa8[_0x1ceac5(0x1a3)](_0x2ce2e1,null)||_0x32caa8['jZoRO'](_0x2ce2e1,'')||_0x32caa8[_0x1ceac5(0x14e)](_0x2ce2e1,_0x216464)||_0x32caa8[_0x1ceac5(0x192)](_0x2ce2e1,path[_0x1ceac5(0x169)](_0x2ce2e1)))return null;try{return fs[_0x1ceac5(0x1e0)](path[_0x1ceac5(0x1ba)](_0x2ce2e1,_0x32caa8[_0x1ceac5(0x13f)],_0x32caa8[_0x1ceac5(0x1e6)])),_0x2ce2e1;}catch(_0x4e8c92){const _0x269310=path['dirname'](_0x2ce2e1);return this['findGitConfig'](_0x269310);}}[a4_0x3478f4(0x1f1)](_0x37a8c7){const _0x31833d=a4_0x3478f4,_0xdfe9e6={};_0xdfe9e6[_0x31833d(0x120)]=function(_0x279d77,_0x334c4c){return _0x279d77>_0x334c4c;};const _0x42d8ba=_0xdfe9e6;if(_0x37a8c7['file'])return _0x37a8c7[_0x31833d(0x163)];if(_0x37a8c7[_0x31833d(0x19c)]){const _0x210efb=_0x37a8c7[_0x31833d(0x19c)][_0x31833d(0x129)]?this['getRootParentFile'](_0x37a8c7[_0x31833d(0x19c)]['currentTest']):null;if(_0x210efb)return _0x210efb;}if(_0x37a8c7[_0x31833d(0x172)]){const _0x4605a3=this['getRootParentFile'](_0x37a8c7[_0x31833d(0x172)])||(_0x37a8c7[_0x31833d(0x172)][_0x31833d(0x19c)]&&_0x37a8c7[_0x31833d(0x172)][_0x31833d(0x19c)][_0x31833d(0x129)]?this[_0x31833d(0x1f1)](_0x37a8c7[_0x31833d(0x172)][_0x31833d(0x19c)]['currentTest']):null);if(_0x4605a3)return _0x4605a3;_0x37a8c7[_0x31833d(0x172)][_0x31833d(0x109)]&&_0x42d8ba[_0x31833d(0x120)](_0x37a8c7['parent'][_0x31833d(0x109)]['length'],0x0)&&_0x37a8c7[_0x31833d(0x172)][_0x31833d(0x109)][_0x31833d(0x198)](_0x128c77=>{const _0x313427=_0x31833d,_0x5d2658=_0x128c77[_0x313427(0x19c)]?this[_0x313427(0x1f1)](_0x128c77['ctx']):null;if(_0x5d2658)return _0x5d2658;});}return null;}[a4_0x3478f4(0x162)](_0x3b66de){const _0x4aa90a=a4_0x3478f4,_0x212d32={};_0x212d32[_0x4aa90a(0x143)]=function(_0x2be956,_0x2eeab5){return _0x2be956!==_0x2eeab5;};const _0x417f74=_0x212d32,_0x2d9c38=[];if(_0x3b66de&&_0x3b66de[_0x4aa90a(0x172)]){let _0x5d6b4e=_0x3b66de[_0x4aa90a(0x172)];while(_0x5d6b4e&&_0x417f74[_0x4aa90a(0x143)](_0x5d6b4e[_0x4aa90a(0x189)],'')){_0x2d9c38[_0x4aa90a(0x102)](_0x5d6b4e[_0x4aa90a(0x189)]),_0x5d6b4e=_0x5d6b4e[_0x4aa90a(0x172)];}}return _0x2d9c38;}[a4_0x3478f4(0x115)](_0x1d72a0,_0x1c7b27,_0x2a8609=undefined){const _0x2d87d3=a4_0x3478f4,_0x2663f9={'XwFxD':function(_0x377bc8,_0x2969e7){return _0x377bc8(_0x2969e7);},'uPlPx':function(_0x1f64ea){return _0x1f64ea();},'iZBnr':function(_0xa1a565,_0x1be70f){return _0xa1a565(_0x1be70f);},'wuUFb':'util','PCZsA':_0x2d87d3(0x14d),'uCFFf':function(_0x451857,_0x148239){return _0x451857!==_0x148239;},'AwzyG':_0x2d87d3(0x1c1),'rifik':_0x2d87d3(0x144),'bLucF':_0x2d87d3(0x153),'JtIYv':_0x2d87d3(0x1bc),'iRsoM':_0x2d87d3(0x17f),'DVSEG':'javascript','nGwZB':function(_0x262403,_0x4e6f1e){return _0x262403-_0x4e6f1e;},'lWIjA':function(_0x45552e,_0x26de1e,_0x4e82d3,_0x199c13,_0x42a5f7){return _0x45552e(_0x26de1e,_0x4e82d3,_0x199c13,_0x42a5f7);},'asYwk':'integrations','NxJMK':_0x2d87d3(0x19f),'JBqBq':_0x2d87d3(0x1ae),'DWxET':'failure_backtrace','MUEIJ':_0x2d87d3(0x1ec),'RaHzS':_0x2d87d3(0x160),'hKpzH':'expanded','vGciy':function(_0x5e29cc,_0xd09c38){return _0x5e29cc===_0xd09c38;},'WyeZQ':_0x2d87d3(0x117),'ymDBF':_0x2d87d3(0x1a4)};if(!this[_0x2d87d3(0x18d)])return;try{if(_0x1c7b27['fn']&&_0x1c7b27['fn']['toString']()[_0x2d87d3(0x1b7)](/browserstack internal helper hook/))return;const _0x2d277e=_0x2663f9[_0x2d87d3(0x1c0)](parseEvent,_0x1d72a0);if(!_0x2d277e)return;if(_0x2d277e[_0x2d87d3(0x110)]){this[_0x2d87d3(0x129)]=_0x1c7b27,this[_0x2d87d3(0x103)]=null;if(_0x2d277e[_0x2d87d3(0x14a)]||_0x2d277e[_0x2d87d3(0x17f)]){_0x1c7b27['startedAt']=new Date(),_0x1c7b27[_0x2d87d3(0x186)]=![];if(!_0x1c7b27['testAnalyticsId'])_0x1c7b27[_0x2d87d3(0x1e1)]=_0x2663f9[_0x2d87d3(0x1d3)](uuidv4);else _0x1c7b27[_0x2d87d3(0x186)]&&(!_0x1c7b27['retryOf']&&(_0x1c7b27[_0x2d87d3(0x10c)]=_0x1c7b27[_0x2d87d3(0x1e1)]),_0x1c7b27[_0x2d87d3(0x1e1)]=_0x2663f9[_0x2d87d3(0x1d3)](uuidv4));}}else{if(_0x2d277e['hook']){this[_0x2d87d3(0x103)]=_0x1c7b27;if(_0x2d277e['started']){_0x1c7b27[_0x2d87d3(0x138)]=new Date(),_0x1c7b27[_0x2d87d3(0x186)]=![];if(!_0x1c7b27[_0x2d87d3(0x14f)])_0x1c7b27[_0x2d87d3(0x14f)]=_0x2663f9[_0x2d87d3(0x1d3)](uuidv4);else _0x1c7b27[_0x2d87d3(0x14f)]&&_0x1c7b27['markedStatus']&&(_0x1c7b27[_0x2d87d3(0x14f)]=_0x2663f9[_0x2d87d3(0x1d3)](uuidv4));}}}if(_0x2d277e['finished']&&_0x1c7b27['markedStatus'])return;let _0x348b53;try{_0x348b53=this[_0x2d87d3(0x1f1)](_0x1c7b27);}catch(_0x47c8b3){logger[_0x2d87d3(0x178)](_0x2d87d3(0x141)+_0x47c8b3),_0x348b53=null;}const _0x406370=_0x2663f9['iZBnr'](require,_0x2663f9[_0x2d87d3(0x15f)]);let _0x470aac=[];_0x2a8609&&(_0x470aac=[_0x2a8609,_0x2663f9[_0x2d87d3(0x119)]]);const _0x1b1c4a=_0x2663f9[_0x2d87d3(0x1d2)](_0x1c7b27[_0x2d87d3(0x1d5)],undefined)?_0x406370[_0x2d87d3(0x133)](_0x1c7b27[_0x2d87d3(0x1d5)][0x0]):_0x2663f9[_0x2d87d3(0x1d2)](_0x2a8609,undefined)?_0x2a8609[_0x2d87d3(0x128)]():undefined,_0x278b34=_0x348b53?this[_0x2d87d3(0x1c9)](_0x348b53):null,_0x5ed90b=_0x348b53?this[_0x2d87d3(0x1f4)][_0x2d87d3(0x158)](this[_0x2d87d3(0x1f1)](_0x1c7b27)):_0x2663f9[_0x2d87d3(0x15c)];let _0x3b150e=_0x2663f9[_0x2d87d3(0x1bd)];const _0x4751ed=!_0x2d277e[_0x2d87d3(0x14a)]?new Date()['toISOString']():null;if(_0x2d277e[_0x2d87d3(0x1aa)])_0x3b150e=_0x2a8609?_0x2663f9[_0x2d87d3(0x1ad)]:_0x2663f9[_0x2d87d3(0x16d)],_0x1c7b27[_0x2d87d3(0x186)]=!![];else _0x2d277e[_0x2d87d3(0x17f)]&&(_0x3b150e=_0x2663f9[_0x2d87d3(0x15d)],_0x1c7b27[_0x2d87d3(0x186)]=!![]);const _0x379c85={'framework':this['frameworkName'],'uuid':_0x1c7b27[_0x2d87d3(0x1e1)]||_0x1c7b27[_0x2d87d3(0x14f)],'name':_0x1c7b27[_0x2d87d3(0x189)],'body':{'lang':_0x2663f9[_0x2d87d3(0x142)],'code':_0x1c7b27[_0x2d87d3(0x156)][_0x2d87d3(0x128)]()},'type':_0x1c7b27[_0x2d87d3(0x1c7)],'scope':_0x1c7b27['fullTitle'](),'scopes':this[_0x2d87d3(0x162)](_0x1c7b27),'file_name':_0x5ed90b,'vc_filepath':_0x278b34?path[_0x2d87d3(0x145)](_0x278b34,_0x348b53):null,'location':_0x5ed90b,'result':_0x3b150e,'failure_reason':_0x1b1c4a,'duration_in_ms':_0x1c7b27[_0x2d87d3(0x161)]||(_0x2d277e[_0x2d87d3(0x1aa)]||_0x2d277e[_0x2d87d3(0x17f)])?_0x2663f9[_0x2d87d3(0x1a0)](Date[_0x2d87d3(0x188)](),new Date(_0x1c7b27[_0x2d87d3(0x138)])['getTime']()):null,'started_at':new Date(_0x1c7b27[_0x2d87d3(0x138)])[_0x2d87d3(0x177)](),'finished_at':_0x4751ed,'failure':testOpsHelper[_0x2d87d3(0x121)][_0x2d87d3(0x1cd)](null,_0x470aac),'failure_type':!_0x1b1c4a?null:testOpsHelper[_0x2d87d3(0x1e3)](_0x1b1c4a),'retry_of':_0x1c7b27[_0x2d87d3(0x10c)]||null,'tags':_0x1c7b27[_0x2d87d3(0x1b2)]||[],'customRerunParam':{'rerun_name':_0x1c7b27[_0x2d87d3(0x17e)]()}};_0x2663f9[_0x2d87d3(0x124)](appendTesthubParams,_0x379c85,_0x1d72a0,_0x1c7b27,FRAMEWORKS[_0x2d87d3(0x180)]);if(_0x2d277e[_0x2d87d3(0x1cf)])[_0x379c85[_0x2d87d3(0x16e)],_0x379c85['name']]=[this[_0x2d87d3(0x1e9)](_0x1c7b27),_0x1c7b27['ctx']['test'][_0x2d87d3(0x189)]],_0x2d277e[_0x2d87d3(0x1aa)]?_0x2663f9[_0x2d87d3(0x1d2)](_0x379c85[_0x2d87d3(0x174)],_0x2663f9[_0x2d87d3(0x1ad)])&&(_0x379c85[_0x2d87d3(0x174)]=_0x2663f9[_0x2d87d3(0x16d)]):_0x379c85['body']={};else _0x2d277e[_0x2d87d3(0x110)]&&(this['mapTestHooks'](_0x1c7b27),_0x2d277e['skipped']&&this[_0x2d87d3(0x130)](_0x1c7b27),(_0x2d277e[_0x2d87d3(0x1aa)]||_0x2d277e[_0x2d87d3(0x17f)])&&(_0x379c85[_0x2d87d3(0x126)]=this[_0x2d87d3(0x11d)](_0x1c7b27)));this[_0x2d87d3(0x125)]&&(_0x2d277e[_0x2d87d3(0x14a)]||_0x2d277e[_0x2d87d3(0x17f)])&&(_0x379c85[_0x2663f9[_0x2d87d3(0x1af)]]=this[_0x2d87d3(0x1b9)](this[_0x2d87d3(0x125)]));_0x2d277e[_0x2d87d3(0x110)]&&_0x2d277e[_0x2d87d3(0x1aa)]&&_0x1c7b27['bddSteps']&&(_0x379c85[_0x2663f9[_0x2d87d3(0x100)]]={'feature':{'name':_0x1c7b27[_0x2d87d3(0x172)][_0x2d87d3(0x1c2)][_0x2d87d3(0x116)],'path':_0x379c85[_0x2d87d3(0x10b)],'description':_0x1c7b27['parent'][_0x2d87d3(0x154)]},'scenario':{'name':_0x1c7b27[_0x2d87d3(0x189)]},'steps':_0x1c7b27['bddSteps']});const _0x4b8c7d=_0x379c85[_0x2663f9[_0x2d87d3(0x1df)]][0x0];_0x4b8c7d&&(_0x379c85[_0x2663f9[_0x2d87d3(0x107)]]=_0x4b8c7d[_0x2663f9[_0x2d87d3(0x1b0)]],_0x379c85[_0x2663f9['RaHzS']]=_0x4b8c7d[_0x2663f9[_0x2d87d3(0x1b5)]]);if(_0x1c7b27[_0x2d87d3(0x1ce)])for(const _0x974ec8 of _0x1c7b27['bddSteps']){!_0x974ec8[_0x2d87d3(0x1eb)]&&(_0x974ec8[_0x2d87d3(0x1eb)]=new Date()[_0x2d87d3(0x177)](),_0x2663f9['vGciy'](_0x974ec8['result'],_0x2663f9[_0x2d87d3(0x1bd)])&&(_0x4b8c7d?(_0x974ec8[_0x2d87d3(0x174)]=_0x2663f9[_0x2d87d3(0x1ad)],_0x974ec8['failure']=_0x4b8c7d[_0x2663f9[_0x2d87d3(0x1b0)]][0x0]):_0x974ec8[_0x2d87d3(0x174)]=_0x2663f9[_0x2d87d3(0x16d)]));}const _0x126784={};_0x126784[_0x2d87d3(0x127)]=_0x2d277e[_0x2d87d3(0x17f)]?TEST_EVENTS[_0x2d87d3(0x11c)]:_0x1d72a0;const _0x1d237a=_0x126784;return _0x2d277e[_0x2d87d3(0x1cf)]?_0x1d237a[_0x2663f9['WyeZQ']]=_0x379c85:_0x1d237a[_0x2663f9[_0x2d87d3(0x16a)]]=_0x379c85,_0x1d237a;}catch(_0x27a08a){logger[_0x2d87d3(0x178)](_0x2d87d3(0x1e8)+_0x1d72a0+_0x2d87d3(0x176)+_0x27a08a);}}async[a4_0x3478f4(0x134)](_0x4a6933,_0x3294d6){const _0x2c7197=a4_0x3478f4;if(!this['enabled']||!_0x3294d6||!_0x4a6933)return![];try{return await SessionHandler['uploadEventData'](_0x3294d6);}catch(_0x37de91){logger['debug'](_0x2c7197(0x1e7)+_0x4a6933+_0x2c7197(0x176)+_0x37de91);}}[a4_0x3478f4(0x11e)](_0x3ed771){const _0x19a915=a4_0x3478f4,_0x58e205={};_0x58e205[_0x19a915(0x181)]=_0x19a915(0x144);const _0x3d7231=_0x58e205;return{'id':_0x3ed771[_0x19a915(0x1be)],'text':_0x3ed771['text'],'keyword':_0x3ed771[_0x19a915(0x166)],'started_at':_0x3ed771[_0x19a915(0x138)]['toISOString'](),'result':_0x3d7231[_0x19a915(0x181)]};}[a4_0x3478f4(0x10e)](_0x1526f3){const _0x3672ce=a4_0x3478f4,_0x4ded9b={'KamTe':function(_0x4c86a7){return _0x4c86a7();}};!this['currentTest']['bddSteps']&&(this['currentTest'][_0x3672ce(0x1ce)]=[]),!_0x1526f3['stepAnalyticsId']&&(_0x1526f3[_0x3672ce(0x1be)]=_0x4ded9b[_0x3672ce(0x108)](uuidv4),_0x1526f3[_0x3672ce(0x138)]=new Date(),this[_0x3672ce(0x129)]['bddSteps']['push'](this[_0x3672ce(0x11e)](_0x1526f3)));}[a4_0x3478f4(0x168)](_0x408287){const _0xcdf9cd=a4_0x3478f4,_0x20715f={'uaoMF':function(_0x55667e,_0x47f7da){return _0x55667e(_0x47f7da);},'SOvBt':'success','tDfFl':_0xcdf9cd(0x144),'SwxPa':_0xcdf9cd(0x1bc),'JdFaE':function(_0x4945c2,_0x40f95b){return _0x4945c2-_0x40f95b;}};let _0x15ff59=this[_0xcdf9cd(0x129)][_0xcdf9cd(0x1ce)][_0xcdf9cd(0x1a7)](_0x555e9c=>_0x555e9c['id']===_0x408287[_0xcdf9cd(0x1be)]);_0x20715f[_0xcdf9cd(0x1a6)](isUndefined,_0x15ff59)&&(_0x15ff59=this[_0xcdf9cd(0x11e)](_0x408287)),_0x15ff59[_0xcdf9cd(0x174)]=[_0x20715f[_0xcdf9cd(0x148)],_0x20715f[_0xcdf9cd(0x159)]][_0xcdf9cd(0x111)](_0x408287[_0xcdf9cd(0x18a)])?_0x20715f[_0xcdf9cd(0x171)]:_0x408287[_0xcdf9cd(0x18a)],_0x15ff59['finished_at']=new Date()[_0xcdf9cd(0x177)](),_0x15ff59[_0xcdf9cd(0x161)]=_0x20715f[_0xcdf9cd(0x14c)](Date[_0xcdf9cd(0x188)](),_0x408287[_0xcdf9cd(0x138)][_0xcdf9cd(0x1dc)]()),_0x15ff59[_0xcdf9cd(0x1ae)]=_0x408287[_0xcdf9cd(0x14d)]?_0x408287['err'][_0xcdf9cd(0x1c3)]:null;}}const a4_0x3984ae={};a4_0x3984ae[a4_0x3478f4(0x122)]=O11yHelper,a4_0x3984ae['STATE_PASSED']=STATE_PASSED,a4_0x3984ae[a4_0x3478f4(0x140)]=STATE_FAILED,a4_0x3984ae[a4_0x3478f4(0x18e)]=TEST_EVENTS,module['exports']=a4_0x3984ae;