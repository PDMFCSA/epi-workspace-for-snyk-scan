const a4_0x104731=a4_0x3bc3;(function(_0x219478,_0x2e2c0b){const _0x2f193f=a4_0x3bc3,_0x999f5=_0x219478();while(!![]){try{const _0x582556=parseInt(_0x2f193f(0x14f))/0x1*(-parseInt(_0x2f193f(0xdd))/0x2)+parseInt(_0x2f193f(0xf8))/0x3+-parseInt(_0x2f193f(0x186))/0x4+-parseInt(_0x2f193f(0xfb))/0x5*(parseInt(_0x2f193f(0x18a))/0x6)+-parseInt(_0x2f193f(0x103))/0x7*(-parseInt(_0x2f193f(0x196))/0x8)+parseInt(_0x2f193f(0x110))/0x9*(-parseInt(_0x2f193f(0xe1))/0xa)+parseInt(_0x2f193f(0x16c))/0xb;if(_0x582556===_0x2e2c0b)break;else _0x999f5['push'](_0x999f5['shift']());}catch(_0x293b38){_0x999f5['push'](_0x999f5['shift']());}}}(a4_0x499d,0xaae8d));const path=require(a4_0x104731(0xec)),fs=require('fs'),{v4:uuidv4}=require(a4_0x104731(0x158)),{importFileFromPWCore,nestedKeyValue,parseWSEndpoint,isUndefined}=require(a4_0x104731(0xd5)),testOpsHelper=require(a4_0x104731(0x199)),{getTestEnv}=require(a4_0x104731(0xb9)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),logger=require('../../helpers/logger')[a4_0x104731(0x112)],SessionHandler=require(a4_0x104731(0xda)),RequestQueueHandler=require(a4_0x104731(0x19a)),PlaywrightSessionDetails=require(a4_0x104731(0x16f)),debug=testOpsHelper['debug'],{processAccessibilityCaps}=require('../playwright/accessibility-helper'),Constants=require(a4_0x104731(0x175)),{fetchPlatformDetails}=require(a4_0x104731(0x146)),{shouldProcessEventForTesthub,appendTesthubParams}=require(a4_0x104731(0x182)),constants=require(a4_0x104731(0x175)),STATE_PASSED='passed',STATE_FAILED=a4_0x104731(0x101),a4_0x4a13b7={};a4_0x4a13b7[a4_0x104731(0x19b)]=a4_0x104731(0xcc),a4_0x4a13b7[a4_0x104731(0x172)]=a4_0x104731(0xde),a4_0x4a13b7[a4_0x104731(0x1aa)]=a4_0x104731(0xf6),a4_0x4a13b7[a4_0x104731(0x118)]=a4_0x104731(0xbd),a4_0x4a13b7['HOOK_RUN_FINISHED']=a4_0x104731(0x111);const TEST_EVENTS=a4_0x4a13b7,parseEvent=_0x5ad7d9=>{const _0x3c95fd=a4_0x104731,_0x3a1882={};_0x3a1882[_0x3c95fd(0x191)]=function(_0x3767f4,_0x1fc513){return _0x3767f4<_0x1fc513;},_0x3a1882['CukKo']=function(_0xce7526,_0x5d6c6c){return _0xce7526===_0x5d6c6c;},_0x3a1882['YMtNj']='test',_0x3a1882[_0x3c95fd(0x13e)]=_0x3c95fd(0x1a7),_0x3a1882[_0x3c95fd(0x170)]=function(_0x1830b2,_0x44413c){return _0x1830b2===_0x44413c;},_0x3a1882[_0x3c95fd(0x10a)]=_0x3c95fd(0x1a1),_0x3a1882[_0x3c95fd(0xe8)]=function(_0x5ae886,_0x11cae4){return _0x5ae886===_0x11cae4;},_0x3a1882[_0x3c95fd(0x192)]=_0x3c95fd(0x18c),_0x3a1882['tusdt']=function(_0x1d7c1f,_0x37d455){return _0x1d7c1f===_0x37d455;},_0x3a1882[_0x3c95fd(0x150)]=_0x3c95fd(0x16d);const _0x6b1cbf=_0x3a1882,_0x48803b=_0x5ad7d9[_0x3c95fd(0x185)](/^(.*)Run(.*)$/);if(!_0x48803b)return null;if(_0x6b1cbf[_0x3c95fd(0x191)](_0x48803b[_0x3c95fd(0x15a)],0x3))return null;const _0x3795d3=_0x48803b[0x1][_0x3c95fd(0x144)](),_0x481597=_0x48803b[0x2][_0x3c95fd(0x144)]();return{'test':_0x6b1cbf[_0x3c95fd(0x15d)](_0x3795d3,_0x6b1cbf['YMtNj']),'hook':_0x6b1cbf[_0x3c95fd(0x15d)](_0x3795d3,_0x6b1cbf[_0x3c95fd(0x13e)]),'skipped':_0x6b1cbf['OWEfe'](_0x481597,_0x6b1cbf[_0x3c95fd(0x10a)]),'started':_0x6b1cbf[_0x3c95fd(0xe8)](_0x481597,_0x6b1cbf[_0x3c95fd(0x192)]),'finished':_0x6b1cbf[_0x3c95fd(0xcb)](_0x481597,_0x6b1cbf['hBVGZ'])};},mockPWBrowserType=_0x23643b=>{const _0x76a6d5=a4_0x104731,_0x1c930f={'hsTSi':function(_0x3848fa,_0x56eefb,_0x5bb46f){return _0x3848fa(_0x56eefb,_0x5bb46f);},'jtXAa':_0x76a6d5(0xdb),'QgCCv':function(_0x116b86,_0x37d69f){return _0x116b86(_0x37d69f);},'piJms':_0x76a6d5(0x145),'TYRnp':function(_0x45397d,_0x58368a,_0x297c28){return _0x45397d(_0x58368a,_0x297c28);},'Tgues':function(_0x1ea076,_0x8cd53a){return _0x1ea076===_0x8cd53a;},'HULYe':'string','qTRvy':'lib','QsBQc':_0x76a6d5(0x113),'jDyNv':_0x76a6d5(0x12a),'LFfOJ':function(_0x141bba,_0xfb28df){return _0x141bba(_0xfb28df);},'KqkAY':_0x76a6d5(0xce),'nYHQx':_0x76a6d5(0xf0),'EzKdI':_0x76a6d5(0x100)},_0x281dcc=path['join'](_0x1c930f[_0x76a6d5(0xd7)],_0x1c930f['QsBQc'],_0x1c930f[_0x76a6d5(0x153)]),_0xfbe05b=_0x1c930f[_0x76a6d5(0xba)](importFileFromPWCore,_0x281dcc);if(!_0xfbe05b){_0x1c930f[_0x76a6d5(0xba)](debug,_0x1c930f[_0x76a6d5(0x115)]);return;}const _0x1aa143=_0xfbe05b[_0x76a6d5(0x156)],_0x1bbf49=_0x1aa143[_0x76a6d5(0xe9)];if(_0x1bbf49[_0x76a6d5(0xe0)])return;const _0x260c2a=_0x1bbf49['connect'];Object[_0x76a6d5(0x11b)](_0x1bbf49,_0x1c930f[_0x76a6d5(0x19f)],{'get':function(){const _0x55c8c7=_0x76a6d5,_0x5d78c0={'YGgYe':function(_0x382fbc,_0x4ecdfd){const _0x39fc2d=a4_0x3bc3;return _0x1c930f[_0x39fc2d(0x107)](_0x382fbc,_0x4ecdfd);},'uGwuU':_0x1c930f[_0x55c8c7(0xc8)]};return async function _0x26fa2b(_0x2367e4,_0x23fce4){const _0x5e25d5=_0x55c8c7,_0x330ce6=_0x1c930f['hsTSi'](nestedKeyValue,_0x2367e4,[_0x1c930f[_0x5e25d5(0x177)]])||_0x2367e4;let _0x3e6d69=null,_0x458cf9=null;try{[_0x458cf9,_0x3e6d69]=_0x330ce6?_0x1c930f[_0x5e25d5(0x189)](parseWSEndpoint,_0x330ce6):[null,null],global[_0x5e25d5(0x14a)]=_0x3e6d69,logger[_0x5e25d5(0x161)](_0x5e25d5(0x18f)+_0x458cf9),_0x458cf9[_0x5e25d5(0x136)](Constants['BROWSERSTACK'])&&(global[_0x5e25d5(0x10f)]=_0x1c930f[_0x5e25d5(0xbe)]);}catch(_0x5c441c){logger[_0x5e25d5(0x161)](_0x5e25d5(0x116)+_0x330ce6+'\x20'+_0x5c441c);}_0x1c930f['TYRnp'](processAccessibilityCaps,_0x3e6d69,_0x458cf9);if(global[_0x5e25d5(0xc4)]){const _0x30a6d3=await _0x1bbf49[_0x5e25d5(0x152)][_0x5e25d5(0xf3)](this,[''+Constants[_0x5e25d5(0x169)]+_0x1c930f[_0x5e25d5(0x189)](encodeURIComponent,JSON[_0x5e25d5(0x157)](_0x3e6d69))]);return PlaywrightSessionDetails[_0x5e25d5(0x1ab)](_0x30a6d3,_0x23643b,_0x330ce6),_0x30a6d3;}return _0x260c2a[_0x5e25d5(0xf3)](this,arguments)[_0x5e25d5(0x179)](_0x319181=>{const _0x37fd43=_0x5e25d5;let _0x43e779=_0x2367e4[_0x37fd43(0xdb)];return _0x5d78c0[_0x37fd43(0xd1)](typeof _0x2367e4,_0x5d78c0[_0x37fd43(0x132)])&&(_0x43e779=_0x2367e4),PlaywrightSessionDetails['setupBrowserDetails'](_0x319181,_0x23643b,_0x43e779),_0x319181;});};}});const _0x5d2e5d=_0x1bbf49[_0x76a6d5(0x100)];Object[_0x76a6d5(0x11b)](_0x1bbf49,_0x1c930f[_0x76a6d5(0x15f)],{'get':function(){return async function _0x2127cf(){const _0x3fd7f3=a4_0x3bc3;return _0x5d2e5d[_0x3fd7f3(0xf3)](this,arguments)['then'](_0x31f91a=>{return PlaywrightSessionDetails['setupBrowserDetails'](_0x31f91a,null),_0x31f91a;});};}});};class O11yHelper{[a4_0x104731(0xc3)]=null;[a4_0x104731(0x142)]=null;[a4_0x104731(0xe6)]=![];[a4_0x104731(0x197)]=![];constructor(_0x4c4404,_0x1abab8){const _0x7dc5aa=a4_0x104731,_0x2bd728={'EjKjq':_0x7dc5aa(0x130),'lnIXo':function(_0x217a25,_0x3ebdad){return _0x217a25===_0x3ebdad;},'EPjrv':_0x7dc5aa(0x181),'TSTqC':function(_0x369c16,_0x42b633){return _0x369c16(_0x42b633);},'uBoUS':function(_0x2bb966){return _0x2bb966();},'oxFpn':function(_0x52265c){return _0x52265c();}},_0x50a914=_0x2bd728['EjKjq'][_0x7dc5aa(0x104)]('|');let _0x25653f=0x0;while(!![]){switch(_0x50a914[_0x25653f++]){case'0':this['frameworkName']=_0x1abab8[_0x7dc5aa(0x197)];continue;case'1':this[_0x7dc5aa(0xef)]&&_0x2bd728[_0x7dc5aa(0x1a8)](this[_0x7dc5aa(0xef)][_0x7dc5aa(0x138)][_0x7dc5aa(0x11e)],_0x2bd728[_0x7dc5aa(0x13b)])&&_0x2bd728[_0x7dc5aa(0xf7)](mockPWBrowserType,null);continue;case'2':this[_0x7dc5aa(0x162)]=new testOpsHelper[(_0x7dc5aa(0x11f))]({'cwd':process[_0x7dc5aa(0x19c)]()},this[_0x7dc5aa(0xc0)][_0x7dc5aa(0x165)]);continue;case'3':this[_0x7dc5aa(0xc0)]=_0x2bd728['uBoUS'](getTestEnv);continue;case'4':this[_0x7dc5aa(0xef)]=_0x4c4404;continue;case'5':this[_0x7dc5aa(0xe6)]=_0x2bd728[_0x7dc5aa(0xb5)](shouldProcessEventForTesthub);continue;}break;}}['start'](){const _0x24c08e=a4_0x104731;if(!this[_0x24c08e(0xe6)])return;testOpsHelper[_0x24c08e(0x16a)](),process['removeAllListeners'](_0x24c08e(0x1a0)+process['pid']),process['on'](_0x24c08e(0x1a0)+process[_0x24c08e(0x1a6)],this['appendTestItemLog']['bind'](this));}async[a4_0x104731(0xf5)](){await RequestQueueHandler['getInstance']()['shutdown']();}async['appendTestItemLog'](_0x48c4c6){const _0x5b40f3=a4_0x104731,_0x37f4ff={'TksVh':_0x5b40f3(0x17b),'zpdwI':function(_0x4fbe48,_0x2c9b49){return _0x4fbe48(_0x2c9b49);}};try{this['currentHook']&&!this['currentHook']['markedStatus']&&(_0x48c4c6['hook_run_uuid']=this[_0x5b40f3(0x142)]['hookAnalyticsId']);!_0x48c4c6[_0x5b40f3(0x187)]&&this[_0x5b40f3(0xc3)]&&!this[_0x5b40f3(0xc3)][_0x5b40f3(0xc6)]&&(_0x48c4c6[_0x5b40f3(0x143)]=this['currentTest']['testAnalyticsId']);if(_0x48c4c6[_0x5b40f3(0x187)]||_0x48c4c6[_0x5b40f3(0x143)]){const _0x404b2e={};_0x404b2e[_0x5b40f3(0x10e)]=_0x37f4ff[_0x5b40f3(0x160)],_0x404b2e[_0x5b40f3(0xdc)]=[_0x48c4c6],await SessionHandler[_0x5b40f3(0xc9)](_0x404b2e);}}catch(_0x48305c){_0x37f4ff[_0x5b40f3(0xe4)](debug,_0x5b40f3(0xfd)+constants[_0x5b40f3(0xfc)]+'\x20with\x20error\x20:\x20'+_0x48305c);}}async[a4_0x104731(0xf2)](_0x5ad060){const _0x9af58=a4_0x104731,_0x535f62={'ttiWh':_0x9af58(0x15e),'kBGjI':function(_0x7cd0ec,_0x3681a7){return _0x7cd0ec(_0x3681a7);}};if(!this[_0x9af58(0xe6)])return;const _0x1ac1af=this[_0x9af58(0x11a)](this[_0x9af58(0xef)]);try{const _0x9673e3={};_0x9673e3[_0x9af58(0x158)]=_0x5ad060,_0x9673e3[_0x9af58(0x15b)]=_0x1ac1af;const _0x282156=_0x9673e3,_0x1ede65={};_0x1ede65['event_type']=_0x535f62[_0x9af58(0x14c)],_0x1ede65[_0x9af58(0xe2)]=_0x282156,await SessionHandler[_0x9af58(0xc9)](_0x1ede65);}catch(_0x47c95f){_0x535f62[_0x9af58(0x1a3)](debug,_0x9af58(0xb6)+constants['TEST_REPORTING_ANALYTICS']+_0x9af58(0x188)+_0x47c95f);}}[a4_0x104731(0x11a)](_0x78bd28){const _0x2b7093=a4_0x104731,_0x7f1be0={'DVduQ':function(_0x3d04c0,_0x9de00f){return _0x3d04c0(_0x9de00f);}};return _0x7f1be0[_0x2b7093(0x12d)](fetchPlatformDetails,_0x78bd28);}[a4_0x104731(0x17a)]=_0x5a117c=>{const _0x52ad3e=a4_0x104731,_0x1638e3={};_0x1638e3['gZNQZ']=_0x52ad3e(0x164),_0x1638e3[_0x52ad3e(0x18d)]='_afterEach';const _0xb9d177=_0x1638e3;if(!_0x5a117c||!_0x5a117c[_0x52ad3e(0x10b)])return;[_0xb9d177[_0x52ad3e(0xbc)],_0xb9d177['KTzal']][_0x52ad3e(0x18b)](_0x1f2dae=>{const _0x4868b9=_0x52ad3e,_0x8fb22d=_0x5a117c[_0x4868b9(0x10b)][_0x1f2dae];_0x8fb22d[_0x4868b9(0x18b)](_0x224b37=>{const _0x59ba80=_0x4868b9;_0x224b37[_0x59ba80(0x16e)]&&(_0x224b37[_0x59ba80(0x16e)]=null);});});};[a4_0x104731(0x194)](_0x4ede4d){const _0x5a50c0=a4_0x104731,_0x3ec16c={'HvpAd':_0x5a50c0(0x11d),'fifAS':function(_0x54f3dc){return _0x54f3dc();},'XCNDG':function(_0x5e14d8,_0x43393d){return _0x5e14d8===_0x43393d;},'yHcUH':_0x5a50c0(0x134),'zecQv':function(_0x2c0647){return _0x2c0647();},'mRZlj':_0x5a50c0(0xcf),'CqhzA':_0x5a50c0(0x193),'DSEKm':_0x5a50c0(0x164)};if(!_0x4ede4d||!_0x4ede4d[_0x5a50c0(0x10b)])return;[_0x3ec16c[_0x5a50c0(0xff)],_0x3ec16c['CqhzA'],_0x3ec16c[_0x5a50c0(0x122)],_0x3ec16c[_0x5a50c0(0xbb)]][_0x5a50c0(0x18b)](_0x3bdd0f=>{const _0x154e98=_0x5a50c0,_0x3c19f4={'vhCIk':_0x3ec16c[_0x154e98(0x121)],'QqQjY':function(_0xc26bd0){const _0x5afddd=_0x154e98;return _0x3ec16c[_0x5afddd(0x12c)](_0xc26bd0);},'eSkSr':function(_0x1a2eb0,_0x15c5e0){const _0x544959=_0x154e98;return _0x3ec16c[_0x544959(0x135)](_0x1a2eb0,_0x15c5e0);},'RAfmd':_0x3ec16c[_0x154e98(0xbb)],'vLJRl':function(_0x1b6306){const _0x16c919=_0x154e98;return _0x3ec16c[_0x16c919(0x114)](_0x1b6306);}},_0x2b7fdb=_0x4ede4d['parent'][_0x3bdd0f]||[];_0x2b7fdb[_0x154e98(0x18b)](_0xf984b6=>{const _0x40e11d=_0x154e98;if(_0xf984b6['title'][_0x40e11d(0x136)](_0x3c19f4[_0x40e11d(0xe7)]))return;if(!_0xf984b6[_0x40e11d(0x16e)])_0xf984b6['hookAnalyticsId']=_0x3c19f4[_0x40e11d(0x168)](uuidv4);else _0xf984b6[_0x40e11d(0xc6)]&&_0x3c19f4[_0x40e11d(0x17d)](_0x3bdd0f,_0x3c19f4['RAfmd'])&&(_0xf984b6[_0x40e11d(0x16e)]=_0x3c19f4[_0x40e11d(0x174)](uuidv4),delete _0xf984b6['markedStatus']);});}),this[_0x5a50c0(0x194)](_0x4ede4d[_0x5a50c0(0x10b)]);}['getHooksForTest'](_0x22b758){const _0x22489f=a4_0x104731,_0x8488e2={};_0x8488e2[_0x22489f(0x10c)]=_0x22489f(0xcf),_0x8488e2[_0x22489f(0x133)]='_afterAll',_0x8488e2[_0x22489f(0x14b)]=_0x22489f(0x164),_0x8488e2[_0x22489f(0x149)]=_0x22489f(0x134);const _0x20e1ac=_0x8488e2;if(!_0x22b758||!_0x22b758[_0x22489f(0x10b)])return[];const _0x5e2d3f=[];return[_0x20e1ac[_0x22489f(0x10c)],_0x20e1ac['lHNOZ'],_0x20e1ac['YvZeI'],_0x20e1ac[_0x22489f(0x149)]][_0x22489f(0x18b)](_0xe8430f=>{const _0x4a6cba=_0x22489f,_0x17284f=_0x22b758[_0x4a6cba(0x10b)][_0xe8430f]||[];_0x17284f[_0x4a6cba(0x18b)](_0x562b36=>{const _0x342851=_0x4a6cba;_0x562b36[_0x342851(0x16e)]&&_0x5e2d3f['push'](_0x562b36[_0x342851(0x16e)]);});}),[][_0x22489f(0xd4)](_0x5e2d3f,this[_0x22489f(0xee)](_0x22b758[_0x22489f(0x10b)]));}[a4_0x104731(0x151)](_0x31a0d1){const _0x47551d=a4_0x104731,_0x25decd=/^"(?<hook>.*)" hook:.*$/,_0xd23c67=_0x31a0d1[_0x47551d(0xf9)],_0x2eecb6=_0xd23c67[_0x47551d(0x185)](_0x25decd);if(_0x2eecb6&&_0x2eecb6[_0x47551d(0x117)])return _0x2eecb6[_0x47551d(0x117)][_0x47551d(0x1a7)]['toUpperCase']()['replace']('\x20','_');return null;}[a4_0x104731(0x12b)](_0x31ec0c){const _0x40bfc9=a4_0x104731,_0x580e8e={};_0x580e8e[_0x40bfc9(0x173)]=function(_0x44f48c,_0x41cb71){return _0x44f48c===_0x41cb71;},_0x580e8e[_0x40bfc9(0x13a)]=function(_0x199963,_0x1c0563){return _0x199963===_0x1c0563;},_0x580e8e['TQsSV']=function(_0x5665c4,_0x53c2af){return _0x5665c4===_0x53c2af;},_0x580e8e[_0x40bfc9(0x13f)]='.git',_0x580e8e[_0x40bfc9(0x123)]='config';const _0x3d6372=_0x580e8e,_0x2d50f4=path['sep'];if(_0x3d6372[_0x40bfc9(0x173)](_0x31ec0c,null)||_0x3d6372[_0x40bfc9(0x13a)](_0x31ec0c,'')||_0x3d6372[_0x40bfc9(0x14e)](_0x31ec0c,_0x2d50f4)||_0x3d6372[_0x40bfc9(0x173)](_0x31ec0c,path['dirname'](_0x31ec0c)))return null;try{return fs['statSync'](path[_0x40bfc9(0x17c)](_0x31ec0c,_0x3d6372[_0x40bfc9(0x13f)],_0x3d6372['HLYgP'])),_0x31ec0c;}catch(_0x149ee6){const _0x4ddb47=path['dirname'](_0x31ec0c);return this[_0x40bfc9(0x12b)](_0x4ddb47);}}['getRootParentFile'](_0xcd0f21){const _0x238288=a4_0x104731,_0x5ac726={};_0x5ac726['qSTgx']=function(_0x18fa05,_0x53bdf5){return _0x18fa05>_0x53bdf5;};const _0x1e5aae=_0x5ac726;if(_0xcd0f21[_0x238288(0x127)])return _0xcd0f21['file'];if(_0xcd0f21[_0x238288(0xed)]){const _0x3664e9=_0xcd0f21['ctx'][_0x238288(0xc3)]?this['getRootParentFile'](_0xcd0f21[_0x238288(0xed)][_0x238288(0xc3)]):null;if(_0x3664e9)return _0x3664e9;}if(_0xcd0f21[_0x238288(0x10b)]){const _0x19ca9d=this[_0x238288(0x178)](_0xcd0f21[_0x238288(0x10b)])||(_0xcd0f21[_0x238288(0x10b)][_0x238288(0xed)]&&_0xcd0f21[_0x238288(0x10b)][_0x238288(0xed)][_0x238288(0xc3)]?this[_0x238288(0x178)](_0xcd0f21[_0x238288(0x10b)][_0x238288(0xed)][_0x238288(0xc3)]):null);if(_0x19ca9d)return _0x19ca9d;_0xcd0f21['parent'][_0x238288(0xd9)]&&_0x1e5aae[_0x238288(0xdf)](_0xcd0f21[_0x238288(0x10b)][_0x238288(0xd9)][_0x238288(0x15a)],0x0)&&_0xcd0f21[_0x238288(0x10b)][_0x238288(0xd9)][_0x238288(0x18b)](_0x322119=>{const _0x366d20=_0x238288,_0x3b13d2=_0x322119[_0x366d20(0xed)]?this[_0x366d20(0x178)](_0x322119['ctx']):null;if(_0x3b13d2)return _0x3b13d2;});}return null;}[a4_0x104731(0x16b)](_0x18ac7f){const _0x5450c7=a4_0x104731,_0x39973a={};_0x39973a[_0x5450c7(0x1a5)]=function(_0x40c112,_0x26b0e9){return _0x40c112!==_0x26b0e9;};const _0x26d6ab=_0x39973a,_0x3c1ed0=[];if(_0x18ac7f&&_0x18ac7f[_0x5450c7(0x10b)]){let _0x4ef11c=_0x18ac7f['parent'];while(_0x4ef11c&&_0x26d6ab[_0x5450c7(0x1a5)](_0x4ef11c['title'],'')){_0x3c1ed0['push'](_0x4ef11c['title']),_0x4ef11c=_0x4ef11c['parent'];}}return _0x3c1ed0;}[a4_0x104731(0x12e)](_0x3e42b0,_0x408637,_0x4dd3cc=undefined){const _0x20af24=a4_0x104731,_0x370927={'AYdDp':function(_0x4d1d46,_0x392564){return _0x4d1d46(_0x392564);},'XKuVg':function(_0x1e13b4){return _0x1e13b4();},'pEzxe':function(_0x25078){return _0x25078();},'QYWbq':_0x20af24(0x190),'eovHX':'err','vZMoO':function(_0x21bc97,_0x19e65d){return _0x21bc97!==_0x19e65d;},'cYaub':'File\x20path\x20could\x20not\x20be\x20found','upgZV':_0x20af24(0x125),'xeYqC':_0x20af24(0x101),'jEktz':'passed','oWXsa':_0x20af24(0x1a1),'DalqH':_0x20af24(0x137),'vOipM':function(_0x3fa851,_0x446559){return _0x3fa851-_0x446559;},'VhZUj':function(_0x109dc8,_0x2d2696,_0x573331,_0x1ec768,_0x2c0d03){return _0x109dc8(_0x2d2696,_0x573331,_0x1ec768,_0x2c0d03);},'SCdmw':'integrations','iBIyg':_0x20af24(0x109),'WwuSY':_0x20af24(0xc5),'GeXEh':_0x20af24(0xe3),'kZFhW':'backtrace','UPcAe':_0x20af24(0x106),'oxyhr':'expanded','ClHLz':function(_0x279b61,_0x43258a){return _0x279b61===_0x43258a;},'bEYVC':'hook_run','zSDvV':_0x20af24(0xe2)};if(!this['enabled'])return;try{if(_0x408637['fn']&&_0x408637['fn']['toString']()[_0x20af24(0x185)](/browserstack internal helper hook/))return;const _0x51b4cc=_0x370927[_0x20af24(0x19d)](parseEvent,_0x3e42b0);if(!_0x51b4cc)return;if(_0x51b4cc[_0x20af24(0x131)]){this[_0x20af24(0xc3)]=_0x408637,this['currentHook']=null;if(_0x51b4cc[_0x20af24(0x18c)]||_0x51b4cc[_0x20af24(0x1a1)]){_0x408637[_0x20af24(0x1a2)]=new Date(),_0x408637['markedStatus']=![];if(!_0x408637[_0x20af24(0xb7)])_0x408637[_0x20af24(0xb7)]=_0x370927[_0x20af24(0x140)](uuidv4);else _0x408637['markedStatus']&&(!_0x408637[_0x20af24(0x147)]&&(_0x408637[_0x20af24(0x147)]=_0x408637[_0x20af24(0xb7)]),_0x408637['testAnalyticsId']=_0x370927[_0x20af24(0x140)](uuidv4));}}else{if(_0x51b4cc[_0x20af24(0x1a7)]){this[_0x20af24(0x142)]=_0x408637;if(_0x51b4cc[_0x20af24(0x18c)]){_0x408637[_0x20af24(0x1a2)]=new Date(),_0x408637[_0x20af24(0xc6)]=![];if(!_0x408637[_0x20af24(0x16e)])_0x408637['hookAnalyticsId']=_0x370927['pEzxe'](uuidv4);else _0x408637[_0x20af24(0x16e)]&&_0x408637[_0x20af24(0xc6)]&&(_0x408637[_0x20af24(0x16e)]=_0x370927['pEzxe'](uuidv4));}}}if(_0x51b4cc[_0x20af24(0x16d)]&&_0x408637['markedStatus'])return;let _0x10e581;try{_0x10e581=this[_0x20af24(0x178)](_0x408637);}catch(_0x18d8e6){logger[_0x20af24(0x161)]('failed\x20to\x20get\x20root\x20parent\x20file\x20'+_0x18d8e6),_0x10e581=null;}const _0xcc5763=_0x370927[_0x20af24(0x19d)](require,_0x370927[_0x20af24(0x102)]);let _0x226156=[];_0x4dd3cc&&(_0x226156=[_0x4dd3cc,_0x370927[_0x20af24(0x108)]]);const _0x12e24d=_0x370927['vZMoO'](_0x408637[_0x20af24(0x163)],undefined)?_0xcc5763[_0x20af24(0x171)](_0x408637[_0x20af24(0x163)][0x0]):_0x370927[_0x20af24(0x19e)](_0x4dd3cc,undefined)?_0x4dd3cc[_0x20af24(0x14d)]():undefined,_0x2b79a4=_0x10e581?this[_0x20af24(0x12b)](_0x10e581):null,_0x4277ed=_0x10e581?this['_paths']['prefixTestPath'](this[_0x20af24(0x178)](_0x408637)):_0x370927[_0x20af24(0xc7)];let _0x1e584a=_0x370927[_0x20af24(0xd8)];const _0x3996fc=!_0x51b4cc[_0x20af24(0x18c)]?new Date()[_0x20af24(0xf4)]():null;if(_0x51b4cc[_0x20af24(0x16d)])_0x1e584a=_0x4dd3cc?_0x370927[_0x20af24(0xeb)]:_0x370927[_0x20af24(0x15c)],_0x408637[_0x20af24(0xc6)]=!![];else _0x51b4cc['skipped']&&(_0x1e584a=_0x370927[_0x20af24(0x119)],_0x408637['markedStatus']=!![]);const _0x30e043={'framework':this[_0x20af24(0x197)],'uuid':_0x408637[_0x20af24(0xb7)]||_0x408637[_0x20af24(0x16e)],'name':_0x408637[_0x20af24(0xf9)],'body':{'lang':_0x370927[_0x20af24(0x155)],'code':_0x408637[_0x20af24(0x141)]['toString']()},'type':_0x408637[_0x20af24(0x184)],'scope':_0x408637[_0x20af24(0x11c)](),'scopes':this['getHierarchy'](_0x408637),'file_name':_0x4277ed,'vc_filepath':_0x2b79a4?path[_0x20af24(0xbf)](_0x2b79a4,_0x10e581):null,'location':_0x4277ed,'result':_0x1e584a,'failure_reason':_0x12e24d,'duration_in_ms':_0x408637[_0x20af24(0x105)]||(_0x51b4cc[_0x20af24(0x16d)]||_0x51b4cc['skipped'])?_0x370927[_0x20af24(0xca)](Date[_0x20af24(0xb8)](),new Date(_0x408637['startedAt'])[_0x20af24(0x13d)]()):null,'started_at':new Date(_0x408637[_0x20af24(0x1a2)])[_0x20af24(0xf4)](),'finished_at':_0x3996fc,'failure':testOpsHelper['failureData']['apply'](null,_0x226156),'failure_type':!_0x12e24d?null:testOpsHelper[_0x20af24(0x128)](_0x12e24d),'retry_of':_0x408637[_0x20af24(0x147)]||null,'tags':_0x408637[_0x20af24(0x124)]||[],'customRerunParam':{'rerun_name':_0x408637[_0x20af24(0x11c)]()}};_0x370927['VhZUj'](appendTesthubParams,_0x30e043,_0x3e42b0,_0x408637,FRAMEWORKS['CODECEPT']);if(_0x51b4cc[_0x20af24(0x1a7)])[_0x30e043[_0x20af24(0x167)],_0x30e043['name']]=[this[_0x20af24(0x151)](_0x408637),_0x408637[_0x20af24(0xed)]['test'][_0x20af24(0xf9)]],_0x51b4cc[_0x20af24(0x16d)]?_0x370927[_0x20af24(0x19e)](_0x30e043[_0x20af24(0xfe)],_0x370927[_0x20af24(0xeb)])&&(_0x30e043[_0x20af24(0xfe)]=_0x370927[_0x20af24(0x15c)]):_0x30e043[_0x20af24(0x141)]={};else _0x51b4cc['test']&&(this[_0x20af24(0x194)](_0x408637),_0x51b4cc[_0x20af24(0x1a1)]&&this[_0x20af24(0x17a)](_0x408637),(_0x51b4cc[_0x20af24(0x16d)]||_0x51b4cc[_0x20af24(0x1a1)])&&(_0x30e043['hooks']=this[_0x20af24(0xee)](_0x408637)));this[_0x20af24(0xef)]&&(_0x51b4cc[_0x20af24(0x18c)]||_0x51b4cc[_0x20af24(0x1a1)])&&(_0x30e043[_0x370927[_0x20af24(0x176)]]=this[_0x20af24(0x11a)](this['driver']));_0x51b4cc[_0x20af24(0x131)]&&_0x51b4cc[_0x20af24(0x16d)]&&_0x408637['bddSteps']&&(_0x30e043[_0x370927[_0x20af24(0x17f)]]={'feature':{'name':_0x408637['parent'][_0x20af24(0x12f)]['name'],'path':_0x30e043['file_name'],'description':_0x408637[_0x20af24(0x10b)][_0x20af24(0xcd)]},'scenario':{'name':_0x408637[_0x20af24(0xf9)]},'steps':_0x408637[_0x20af24(0x18e)]});const _0x38f4c4=_0x30e043[_0x370927['WwuSY']][0x0];_0x38f4c4&&(_0x30e043[_0x370927[_0x20af24(0xea)]]=_0x38f4c4[_0x370927[_0x20af24(0x126)]],_0x30e043[_0x370927[_0x20af24(0x148)]]=_0x38f4c4[_0x370927[_0x20af24(0x139)]]);if(_0x408637[_0x20af24(0x18e)])for(const _0x31c10f of _0x408637['bddSteps']){!_0x31c10f[_0x20af24(0x13c)]&&(_0x31c10f['finished_at']=new Date()[_0x20af24(0xf4)](),_0x370927[_0x20af24(0x129)](_0x31c10f[_0x20af24(0xfe)],_0x370927[_0x20af24(0xd8)])&&(_0x38f4c4?(_0x31c10f[_0x20af24(0xfe)]=_0x370927[_0x20af24(0xeb)],_0x31c10f[_0x20af24(0xc5)]=_0x38f4c4[_0x370927[_0x20af24(0x126)]][0x0]):_0x31c10f[_0x20af24(0xfe)]=_0x370927[_0x20af24(0x15c)]));}const _0x4e8816={};_0x4e8816[_0x20af24(0x10e)]=_0x51b4cc[_0x20af24(0x1a1)]?TEST_EVENTS[_0x20af24(0x172)]:_0x3e42b0;const _0x3d779a=_0x4e8816;return _0x51b4cc[_0x20af24(0x1a7)]?_0x3d779a[_0x370927[_0x20af24(0x1a9)]]=_0x30e043:_0x3d779a[_0x370927[_0x20af24(0x183)]]=_0x30e043,_0x3d779a;}catch(_0x5751c8){logger['debug']('Exception\x20in\x20populating\x20test\x20data\x20for\x20event\x20'+_0x3e42b0+'\x20with\x20error\x20:\x20'+_0x5751c8);}}async[a4_0x104731(0xc1)](_0x1b7e06,_0x580065){const _0x3e5dde=a4_0x104731;if(!this[_0x3e5dde(0xe6)]||!_0x580065||!_0x1b7e06)return![];try{return await SessionHandler[_0x3e5dde(0xc9)](_0x580065);}catch(_0x4bfa50){logger[_0x3e5dde(0x161)]('Exception\x20in\x20sending\x20test\x20data\x20for\x20event\x20'+_0x1b7e06+_0x3e5dde(0x188)+_0x4bfa50);}}[a4_0x104731(0x166)](_0x55933f){const _0x58b225=a4_0x104731,_0x4bd9d8={};_0x4bd9d8[_0x58b225(0xe5)]=_0x58b225(0x125);const _0x33efe7=_0x4bd9d8;return{'id':_0x55933f[_0x58b225(0xf1)],'text':_0x55933f[_0x58b225(0x198)],'keyword':_0x55933f[_0x58b225(0xfa)],'started_at':_0x55933f[_0x58b225(0x1a2)]['toISOString'](),'result':_0x33efe7['HZreO']};}['bddStepStart'](_0x235f16){const _0x200b2d=a4_0x104731,_0x557d33={'ISVIs':function(_0x4757dc){return _0x4757dc();}};!this[_0x200b2d(0xc3)][_0x200b2d(0x18e)]&&(this[_0x200b2d(0xc3)]['bddSteps']=[]),!_0x235f16['stepAnalyticsId']&&(_0x235f16[_0x200b2d(0xf1)]=_0x557d33[_0x200b2d(0xb4)](uuidv4),_0x235f16[_0x200b2d(0x1a2)]=new Date(),this[_0x200b2d(0xc3)]['bddSteps']['push'](this[_0x200b2d(0x166)](_0x235f16)));}[a4_0x104731(0xd2)](_0x30e82b){const _0x4eae82=a4_0x104731,_0x125027={'LZYAO':function(_0x494948,_0x8754e4){return _0x494948(_0x8754e4);},'JKpHf':_0x4eae82(0x195),'sHXnI':'pending','CZyhZ':_0x4eae82(0x1a4),'myKMv':function(_0x19a161,_0x224d5e){return _0x19a161-_0x224d5e;}};let _0x52e515=this[_0x4eae82(0xc3)][_0x4eae82(0x18e)][_0x4eae82(0x154)](_0x7f3e55=>_0x7f3e55['id']===_0x30e82b[_0x4eae82(0xf1)]);_0x125027['LZYAO'](isUndefined,_0x52e515)&&(_0x52e515=this[_0x4eae82(0x166)](_0x30e82b)),_0x52e515[_0x4eae82(0xfe)]=[_0x125027['JKpHf'],_0x125027[_0x4eae82(0x180)]][_0x4eae82(0x136)](_0x30e82b[_0x4eae82(0xd3)])?_0x125027[_0x4eae82(0xc2)]:_0x30e82b[_0x4eae82(0xd3)],_0x52e515['finished_at']=new Date()['toISOString'](),_0x52e515[_0x4eae82(0x105)]=_0x125027[_0x4eae82(0x159)](Date[_0x4eae82(0xb8)](),_0x30e82b['startedAt'][_0x4eae82(0x13d)]()),_0x52e515['failure']=_0x30e82b['err']?_0x30e82b[_0x4eae82(0x17e)]['message']:null;}}const a4_0x1b6aba={};a4_0x1b6aba[a4_0x104731(0xd0)]=O11yHelper,a4_0x1b6aba[a4_0x104731(0x120)]=STATE_PASSED,a4_0x1b6aba[a4_0x104731(0x10d)]=STATE_FAILED,a4_0x1b6aba['TEST_EVENTS']=TEST_EVENTS,module[a4_0x104731(0xd6)]=a4_0x1b6aba;function a4_0x3bc3(_0x5ed825,_0x375def){const _0x499df0=a4_0x499d();return a4_0x3bc3=function(_0x3bc339,_0x1f9884){_0x3bc339=_0x3bc339-0xb4;let _0x56e168=_0x499df0[_0x3bc339];return _0x56e168;},a4_0x3bc3(_0x5ed825,_0x375def);}function a4_0x499d(){const _0x4a7f9c=['vhCIk','JPDyI','prototype','GeXEh','xeYqC','path','ctx','getHooksForTest','driver','connect','stepAnalyticsId','sendCBTInfo','apply','toISOString','stop','TestRunSkipped','TSTqC','3393288zyjfyY','title','keyword','5545zABddV','TEST_REPORTING_ANALYTICS','Exception\x20in\x20uploading\x20log\x20data\x20to\x20','result','mRZlj','launch','failed','QYWbq','7wNNAkj','split','duration','failure_reason_expanded','Tgues','eovHX','meta','meBEH','parent','HyCQd','STATE_FAILED','event_type','__cloud_provider___','32211VkEfIi','HookRunFinished','winstonLogger','client','zecQv','KqkAY','Failed\x20to\x20parse\x20wsendpoint\x20','groups','HOOK_RUN_STARTED','oWXsa','getCBTInfo','defineProperty','fullTitle','codeceptjs','name','PathHelper','STATE_PASSED','HvpAd','DSEKm','HLYgP','tags','pending','kZFhW','file','getFailureType','ClHLz','browserType.js','findGitConfig','fifAS','DVduQ','captureEvent','feature','5|0|4|3|2|1','test','uGwuU','lHNOZ','_afterEach','XCNDG','includes','javascript','constructor','oxyhr','SNKwS','EPjrv','finished_at','getTime','PllMj','qcVqy','XKuVg','body','currentHook','test_run_uuid','toLowerCase','browserstack','./helper.js','retryOf','UPcAe','nuCZo','__platformCaps','YvZeI','ttiWh','toString','TQsSV','40349ncIxsN','hBVGZ','getHookType','connectOverCDP','jDyNv','find','DalqH','BrowserType','stringify','uuid','myKMv','length','integrations','jEktz','CukKo','CBTSessionCreated','EzKdI','TksVh','debug','_paths','errorsDetailed','_beforeEach','location_prefix','initializeBddStep','hook_type','QqQjY','PLAYWRIGHT_HUB_URL','patchConsoleLogger','getHierarchy','14915857yQwsfV','finished','hookAnalyticsId','../playwright/sessionDetails','OWEfe','inspect','TEST_RUN_FINISHED','CZGTI','vLJRl','../utils/constants','SCdmw','jtXAa','getRootParentFile','then','resetSkipTestHooks','LogCreated','join','eSkSr','err','iBIyg','sHXnI','Playwright','../../helpers/testhub/utils.js','zSDvV','type','match','1368480SXKyeK','hook_run_uuid','\x20with\x20error\x20:\x20','QgCCv','5214IdOdHo','forEach','started','KTzal','bddSteps','Checking\x20for\x20accessibility\x20automation\x20session\x20with\x20','util','aaEvy','PMPKj','_afterAll','mapTestHooks','success','8743736EEKfMH','frameworkName','text','../../helpers/test-observability/utils','../../helpers/test-observability/requestQueueHandler','TEST_RUN_STARTED','cwd','AYdDp','vZMoO','nYHQx','bs:addLog:','skipped','startedAt','kBGjI','passed','TeVTF','pid','hook','lnIXo','bEYVC','TEST_RUN_SKIPPED','setupBrowserDetails','ISVIs','oxFpn','Exception\x20in\x20uploading\x20platform\x20details\x20to\x20','testAnalyticsId','now','../mocha/test-observability/mochaUtils','LFfOJ','yHcUH','gZNQZ','HookRunStarted','piJms','relative','_testEnv','fireEvent','CZyhZ','currentTest','accessibilityPlatform','failure','markedStatus','cYaub','HULYe','uploadEventData','vOipM','tusdt','TestRunStarted','comment','Not\x20able\x20to\x20import\x20Browser','_beforeAll','O11yHelper','YGgYe','bddStepFinish','status','concat','../../helpers/helper','exports','qTRvy','upgZV','suites','../../helpers/test-observability/sessionHandler','wsEndpoint','logs','28cYHAxh','TestRunFinished','qSTgx','obsBrowserTypeMockApplied','2820aWAuLf','test_run','failure_backtrace','zpdwI','HZreO','enabled'];a4_0x499d=function(){return _0x4a7f9c;};return a4_0x499d();}