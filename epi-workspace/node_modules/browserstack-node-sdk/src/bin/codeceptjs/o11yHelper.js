const a4_0x3e1156=a4_0x582b;(function(_0x3d32c4,_0x3d8265){const _0x1ab48e=a4_0x582b,_0x1154f9=_0x3d32c4();while(!![]){try{const _0x26afbd=parseInt(_0x1ab48e(0x27e))/0x1*(parseInt(_0x1ab48e(0x1ae))/0x2)+parseInt(_0x1ab48e(0x252))/0x3+parseInt(_0x1ab48e(0x244))/0x4+-parseInt(_0x1ab48e(0x1ca))/0x5*(-parseInt(_0x1ab48e(0x1ad))/0x6)+-parseInt(_0x1ab48e(0x201))/0x7+parseInt(_0x1ab48e(0x261))/0x8*(parseInt(_0x1ab48e(0x1f8))/0x9)+-parseInt(_0x1ab48e(0x1b7))/0xa*(parseInt(_0x1ab48e(0x27c))/0xb);if(_0x26afbd===_0x3d8265)break;else _0x1154f9['push'](_0x1154f9['shift']());}catch(_0x215c32){_0x1154f9['push'](_0x1154f9['shift']());}}}(a4_0x3d3c,0xa93c6));const path=require(a4_0x3e1156(0x1d4)),fs=require('fs'),{v4:uuidv4}=require(a4_0x3e1156(0x220)),{importFileFromPWCore,nestedKeyValue,parseWSEndpoint,isUndefined}=require(a4_0x3e1156(0x1de)),testOpsHelper=require(a4_0x3e1156(0x276)),{getTestEnv}=require(a4_0x3e1156(0x1cb)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),logger=require(a4_0x3e1156(0x23e))[a4_0x3e1156(0x1a3)],SessionHandler=require(a4_0x3e1156(0x1f1)),RequestQueueHandler=require('../../helpers/test-observability/requestQueueHandler'),PlaywrightSessionDetails=require(a4_0x3e1156(0x1a4)),debug=testOpsHelper[a4_0x3e1156(0x28b)],{processAccessibilityCaps}=require('../playwright/accessibility-helper'),Constants=require(a4_0x3e1156(0x19f)),{fetchPlatformDetails}=require('./helper.js'),{shouldProcessEventForTesthub,appendTesthubParams}=require(a4_0x3e1156(0x1b1)),STATE_PASSED='passed',STATE_FAILED=a4_0x3e1156(0x278),a4_0x5acceb={};function a4_0x582b(_0x1b54fc,_0x5235f4){const _0x3d3c32=a4_0x3d3c();return a4_0x582b=function(_0x582bfb,_0x30a17a){_0x582bfb=_0x582bfb-0x19a;let _0x385420=_0x3d3c32[_0x582bfb];return _0x385420;},a4_0x582b(_0x1b54fc,_0x5235f4);}a4_0x5acceb[a4_0x3e1156(0x22f)]=a4_0x3e1156(0x207),a4_0x5acceb[a4_0x3e1156(0x290)]=a4_0x3e1156(0x280),a4_0x5acceb[a4_0x3e1156(0x1c5)]='TestRunSkipped',a4_0x5acceb[a4_0x3e1156(0x288)]=a4_0x3e1156(0x19a),a4_0x5acceb[a4_0x3e1156(0x1a0)]='HookRunFinished';const TEST_EVENTS=a4_0x5acceb,parseEvent=_0x3da79a=>{const _0xa2911=a4_0x3e1156,_0x4dd569={};_0x4dd569[_0xa2911(0x250)]=function(_0x37020e,_0x3fcac3){return _0x37020e<_0x3fcac3;},_0x4dd569[_0xa2911(0x259)]=function(_0x12935e,_0x36f32c){return _0x12935e===_0x36f32c;},_0x4dd569[_0xa2911(0x21c)]='test',_0x4dd569[_0xa2911(0x1ac)]=_0xa2911(0x24f),_0x4dd569[_0xa2911(0x28a)]=_0xa2911(0x227),_0x4dd569[_0xa2911(0x1d1)]=_0xa2911(0x202),_0x4dd569[_0xa2911(0x233)]=function(_0x55bc4,_0x51b6a9){return _0x55bc4===_0x51b6a9;},_0x4dd569[_0xa2911(0x251)]=_0xa2911(0x200);const _0x5897e4=_0x4dd569,_0x513fc4=_0x3da79a[_0xa2911(0x21b)](/^(.*)Run(.*)$/);if(!_0x513fc4)return null;if(_0x5897e4[_0xa2911(0x250)](_0x513fc4[_0xa2911(0x28d)],0x3))return null;const _0x51c330=_0x513fc4[0x1][_0xa2911(0x1e1)](),_0x4d2bc2=_0x513fc4[0x2][_0xa2911(0x1e1)]();return{'test':_0x5897e4[_0xa2911(0x259)](_0x51c330,_0x5897e4[_0xa2911(0x21c)]),'hook':_0x5897e4[_0xa2911(0x259)](_0x51c330,_0x5897e4[_0xa2911(0x1ac)]),'skipped':_0x5897e4[_0xa2911(0x259)](_0x4d2bc2,_0x5897e4['roNCT']),'started':_0x5897e4[_0xa2911(0x259)](_0x4d2bc2,_0x5897e4['HbvxQ']),'finished':_0x5897e4[_0xa2911(0x233)](_0x4d2bc2,_0x5897e4['lBQry'])};},mockPWBrowserType=_0xc4e2a=>{const _0x260cca=a4_0x3e1156,_0x2b7e19={'hDFGO':function(_0x374008,_0x3e31ac,_0x1252e2){return _0x374008(_0x3e31ac,_0x1252e2);},'uFALN':_0x260cca(0x24b),'ALrtC':function(_0x50f649,_0xf37dd9){return _0x50f649(_0xf37dd9);},'OMUit':_0x260cca(0x27a),'HCRTQ':function(_0x40fb32,_0x11e47a,_0x26eada){return _0x40fb32(_0x11e47a,_0x26eada);},'woZag':function(_0x19ff30,_0x131e51){return _0x19ff30===_0x131e51;},'cjoKD':'string','HmzEA':'lib','ZVxgg':_0x260cca(0x286),'gyIBf':_0x260cca(0x218),'BFUEP':_0x260cca(0x242),'yAcFx':'connect','IBLiG':'launch'},_0x4ea60b=path['join'](_0x2b7e19[_0x260cca(0x1b8)],_0x2b7e19[_0x260cca(0x21a)],_0x2b7e19[_0x260cca(0x283)]),_0x54e44a=_0x2b7e19[_0x260cca(0x284)](importFileFromPWCore,_0x4ea60b);if(!_0x54e44a){_0x2b7e19['ALrtC'](debug,_0x2b7e19[_0x260cca(0x1c7)]);return;}const _0x4bc669=_0x54e44a[_0x260cca(0x1ef)],_0x500090=_0x4bc669[_0x260cca(0x1f6)];if(_0x500090['obsBrowserTypeMockApplied'])return;const _0xb6d41e=_0x500090[_0x260cca(0x206)];Object['defineProperty'](_0x500090,_0x2b7e19[_0x260cca(0x267)],{'get':function(){const _0xbe751b=_0x260cca,_0x1cfb4d={'Ocjym':function(_0x3465c8,_0x3cfc4c){return _0x2b7e19['woZag'](_0x3465c8,_0x3cfc4c);},'BBCko':_0x2b7e19[_0xbe751b(0x1e0)]};return async function _0x56c3cd(_0x54e73d,_0x2bf4bb){const _0x9ac212=_0xbe751b,_0x595505=_0x2b7e19[_0x9ac212(0x1c2)](nestedKeyValue,_0x54e73d,[_0x2b7e19[_0x9ac212(0x1cc)]])||_0x54e73d;let _0x4bda12=null,_0x2e4a42=null;try{[_0x2e4a42,_0x4bda12]=_0x595505?_0x2b7e19[_0x9ac212(0x284)](parseWSEndpoint,_0x595505):[null,null],global['__platformCaps']=_0x4bda12,_0x2e4a42['includes'](_0x2b7e19[_0x9ac212(0x23a)])&&(global[_0x9ac212(0x1fc)]=_0x2b7e19[_0x9ac212(0x23a)]);}catch(_0x3efae0){logger[_0x9ac212(0x28b)]('Failed\x20to\x20parse\x20wsendpoint\x20'+_0x595505+'\x20'+_0x3efae0);}_0x2b7e19[_0x9ac212(0x1af)](processAccessibilityCaps,_0x4bda12,_0x2e4a42);if(global[_0x9ac212(0x26a)]){const _0x5b0fa3=await _0x500090['connectOverCDP']['apply'](this,[''+Constants[_0x9ac212(0x1d0)]+_0x2b7e19['ALrtC'](encodeURIComponent,JSON[_0x9ac212(0x23b)](_0x4bda12))]);return PlaywrightSessionDetails[_0x9ac212(0x236)](_0x5b0fa3,_0xc4e2a,_0x595505),_0x5b0fa3;}return _0xb6d41e[_0x9ac212(0x1e5)](this,arguments)[_0x9ac212(0x1c1)](_0x39cc68=>{const _0x2b7e0a=_0x9ac212;let _0x5c8558=_0x54e73d[_0x2b7e0a(0x24b)];return _0x1cfb4d[_0x2b7e0a(0x230)](typeof _0x54e73d,_0x1cfb4d[_0x2b7e0a(0x273)])&&(_0x5c8558=_0x54e73d),PlaywrightSessionDetails[_0x2b7e0a(0x236)](_0x39cc68,_0xc4e2a,_0x5c8558),_0x39cc68;});};}});const _0x45680f=_0x500090['launch'];Object[_0x260cca(0x1a7)](_0x500090,_0x2b7e19[_0x260cca(0x226)],{'get':function(){return async function _0x44abfc(){const _0x26353a=a4_0x582b;return _0x45680f['apply'](this,arguments)[_0x26353a(0x1c1)](_0x5c8482=>{const _0x2499aa=_0x26353a;return PlaywrightSessionDetails[_0x2499aa(0x236)](_0x5c8482,null),_0x5c8482;});};}});};class O11yHelper{[a4_0x3e1156(0x20b)]=null;[a4_0x3e1156(0x19c)]=null;['enabled']=![];[a4_0x3e1156(0x1a2)]=![];constructor(_0x323011,_0xe76ed0){const _0x4d2011=a4_0x3e1156,_0x595387={'fIhoK':_0x4d2011(0x1c0),'SzEWm':function(_0x17c141){return _0x17c141();},'fBRhx':function(_0x596a4c){return _0x596a4c();},'uBQzk':function(_0x3c3784,_0x2c91fa){return _0x3c3784===_0x2c91fa;},'ZTeIk':_0x4d2011(0x19d),'XvnCw':function(_0x1e3bc8,_0x31f872){return _0x1e3bc8(_0x31f872);}},_0x471647=_0x595387[_0x4d2011(0x1e4)][_0x4d2011(0x1e3)]('|');let _0x1a388b=0x0;while(!![]){switch(_0x471647[_0x1a388b++]){case'0':this['_paths']=new testOpsHelper[(_0x4d2011(0x1b2))]({'cwd':process[_0x4d2011(0x281)]()},this['_testEnv']['location_prefix']);continue;case'1':this[_0x4d2011(0x1b0)]=_0x595387[_0x4d2011(0x246)](getTestEnv);continue;case'2':this[_0x4d2011(0x1a2)]=_0xe76ed0[_0x4d2011(0x1a2)];continue;case'3':this[_0x4d2011(0x22d)]=_0x323011;continue;case'4':this[_0x4d2011(0x1fb)]=_0x595387[_0x4d2011(0x25e)](shouldProcessEventForTesthub);continue;case'5':this[_0x4d2011(0x22d)]&&_0x595387[_0x4d2011(0x209)](this[_0x4d2011(0x22d)][_0x4d2011(0x1e7)][_0x4d2011(0x224)],_0x595387[_0x4d2011(0x28f)])&&_0x595387[_0x4d2011(0x26b)](mockPWBrowserType,null);continue;}break;}}['start'](){const _0x50619b=a4_0x3e1156;if(!this['enabled'])return;testOpsHelper[_0x50619b(0x232)](),process[_0x50619b(0x1ee)](_0x50619b(0x1a8)+process[_0x50619b(0x1cf)]),process['on'](_0x50619b(0x1a8)+process[_0x50619b(0x1cf)],this[_0x50619b(0x1dd)]['bind'](this));}async[a4_0x3e1156(0x212)](){const _0x452254=a4_0x3e1156;await RequestQueueHandler[_0x452254(0x1b5)]()['shutdown']();}async[a4_0x3e1156(0x1dd)](_0x35d660){const _0x23b9be=a4_0x3e1156,_0x557c53={'FmrXh':_0x23b9be(0x222),'WDoPl':function(_0x445d62,_0x49557b){return _0x445d62(_0x49557b);}};try{this['currentHook']&&!this[_0x23b9be(0x19c)]['markedStatus']&&(_0x35d660[_0x23b9be(0x237)]=this[_0x23b9be(0x19c)][_0x23b9be(0x25b)]);!_0x35d660['hook_run_uuid']&&this[_0x23b9be(0x20b)]&&!this[_0x23b9be(0x20b)][_0x23b9be(0x1e6)]&&(_0x35d660[_0x23b9be(0x20c)]=this[_0x23b9be(0x20b)][_0x23b9be(0x1a6)]);if(_0x35d660['hook_run_uuid']||_0x35d660['test_run_uuid']){const _0x318982={};_0x318982[_0x23b9be(0x221)]=_0x557c53[_0x23b9be(0x269)],_0x318982[_0x23b9be(0x1d7)]=[_0x35d660],await SessionHandler[_0x23b9be(0x205)](_0x318982);}}catch(_0x462b2c){_0x557c53[_0x23b9be(0x282)](debug,_0x23b9be(0x26c)+_0x462b2c);}}async[a4_0x3e1156(0x234)](_0xb451e7){const _0x1cc545=a4_0x3e1156,_0x4f1387={'OhQdP':'CBTSessionCreated','aNqpS':function(_0x46b562,_0x41eef2){return _0x46b562(_0x41eef2);}};if(!this[_0x1cc545(0x1fb)])return;const _0x196b1f=this[_0x1cc545(0x1aa)](this[_0x1cc545(0x22d)]);try{const _0x47e593={};_0x47e593[_0x1cc545(0x220)]=_0xb451e7,_0x47e593[_0x1cc545(0x1c6)]=_0x196b1f;const _0x472a56=_0x47e593,_0x465b41={};_0x465b41[_0x1cc545(0x221)]=_0x4f1387[_0x1cc545(0x208)],_0x465b41[_0x1cc545(0x266)]=_0x472a56,await SessionHandler[_0x1cc545(0x205)](_0x465b41);}catch(_0x44893e){_0x4f1387[_0x1cc545(0x253)](debug,_0x1cc545(0x1be)+_0x44893e);}}[a4_0x3e1156(0x1aa)](_0xe6fa2d){const _0x283170=a4_0x3e1156,_0x2174e8={'RfgRD':function(_0x370db3,_0x1f0c32){return _0x370db3(_0x1f0c32);}};return _0x2174e8[_0x283170(0x1df)](fetchPlatformDetails,_0xe6fa2d);}[a4_0x3e1156(0x1ec)]=_0x473e50=>{const _0x58bb66=a4_0x3e1156,_0x492625={};_0x492625['HXcQI']=_0x58bb66(0x245),_0x492625[_0x58bb66(0x271)]=_0x58bb66(0x25d);const _0x70ce22=_0x492625;if(!_0x473e50||!_0x473e50[_0x58bb66(0x1c4)])return;[_0x70ce22[_0x58bb66(0x1f2)],_0x70ce22[_0x58bb66(0x271)]][_0x58bb66(0x22e)](_0x5971ab=>{const _0x2a107a=_0x58bb66,_0x33090d=_0x473e50[_0x2a107a(0x1c4)][_0x5971ab];_0x33090d[_0x2a107a(0x22e)](_0x21daec=>{const _0x3089d8=_0x2a107a;_0x21daec[_0x3089d8(0x25b)]&&(_0x21daec[_0x3089d8(0x25b)]=null);});});};[a4_0x3e1156(0x27f)](_0x576884){const _0x3127fc=a4_0x3e1156,_0x281328={'FQBxj':_0x3127fc(0x23d),'XJvOC':function(_0x17fccd){return _0x17fccd();},'qKgNX':function(_0x1c52e1,_0x3e7ebd){return _0x1c52e1===_0x3e7ebd;},'NsAOR':_0x3127fc(0x25d),'vTgnV':_0x3127fc(0x25f),'awUMl':_0x3127fc(0x241),'dihHE':_0x3127fc(0x245)};if(!_0x576884||!_0x576884['parent'])return;[_0x281328['vTgnV'],_0x281328['awUMl'],_0x281328['dihHE'],_0x281328[_0x3127fc(0x219)]]['forEach'](_0x34ade7=>{const _0x5eaa64=_0x3127fc,_0x5f4d8=_0x576884[_0x5eaa64(0x1c4)][_0x34ade7]||[];_0x5f4d8['forEach'](_0x4085bc=>{const _0xc4d460=_0x5eaa64;if(_0x4085bc[_0xc4d460(0x1f9)][_0xc4d460(0x1f3)](_0x281328[_0xc4d460(0x258)]))return;if(!_0x4085bc[_0xc4d460(0x25b)])_0x4085bc[_0xc4d460(0x25b)]=_0x281328[_0xc4d460(0x1fd)](uuidv4);else _0x4085bc[_0xc4d460(0x1e6)]&&_0x281328[_0xc4d460(0x228)](_0x34ade7,_0x281328[_0xc4d460(0x219)])&&(_0x4085bc[_0xc4d460(0x25b)]=_0x281328[_0xc4d460(0x1fd)](uuidv4),delete _0x4085bc[_0xc4d460(0x1e6)]);});}),this[_0x3127fc(0x27f)](_0x576884[_0x3127fc(0x1c4)]);}[a4_0x3e1156(0x22a)](_0x24bd13){const _0x114c27=a4_0x3e1156,_0x43d5fe={};_0x43d5fe[_0x114c27(0x213)]=_0x114c27(0x25f),_0x43d5fe[_0x114c27(0x223)]=_0x114c27(0x241),_0x43d5fe['ewvUK']=_0x114c27(0x245),_0x43d5fe['JWJpO']=_0x114c27(0x25d);const _0x3c928f=_0x43d5fe;if(!_0x24bd13||!_0x24bd13[_0x114c27(0x1c4)])return[];const _0x399df8=[];return[_0x3c928f[_0x114c27(0x213)],_0x3c928f[_0x114c27(0x223)],_0x3c928f[_0x114c27(0x1d2)],_0x3c928f['JWJpO']][_0x114c27(0x22e)](_0x4ecc5f=>{const _0x8c8493=_0x114c27,_0x379ae6=_0x24bd13[_0x8c8493(0x1c4)][_0x4ecc5f]||[];_0x379ae6['forEach'](_0xa372b2=>{const _0x34fa87=_0x8c8493;_0xa372b2[_0x34fa87(0x25b)]&&_0x399df8[_0x34fa87(0x231)](_0xa372b2[_0x34fa87(0x25b)]);});}),[][_0x114c27(0x204)](_0x399df8,this[_0x114c27(0x22a)](_0x24bd13[_0x114c27(0x1c4)]));}[a4_0x3e1156(0x254)](_0x1ab8f2){const _0x4e0eb9=a4_0x3e1156,_0x1758a9=/^"(?<hook>.*)" hook:.*$/,_0x164a5a=_0x1ab8f2[_0x4e0eb9(0x1f9)],_0xedc483=_0x164a5a[_0x4e0eb9(0x21b)](_0x1758a9);if(_0xedc483&&_0xedc483[_0x4e0eb9(0x20e)])return _0xedc483[_0x4e0eb9(0x20e)][_0x4e0eb9(0x24f)][_0x4e0eb9(0x265)]()[_0x4e0eb9(0x249)]('\x20','_');return null;}[a4_0x3e1156(0x285)](_0x41f417){const _0x488618=a4_0x3e1156,_0x1af35b={};_0x1af35b[_0x488618(0x24a)]=function(_0x21d35a,_0x42e490){return _0x21d35a===_0x42e490;},_0x1af35b[_0x488618(0x1f4)]=function(_0x208cc4,_0x390976){return _0x208cc4===_0x390976;},_0x1af35b[_0x488618(0x26d)]=_0x488618(0x264),_0x1af35b[_0x488618(0x256)]=_0x488618(0x1d3);const _0x7e719a=_0x1af35b,_0x3b1be8=path[_0x488618(0x1f5)];if(_0x7e719a[_0x488618(0x24a)](_0x41f417,null)||_0x7e719a['wEaWI'](_0x41f417,'')||_0x7e719a[_0x488618(0x24a)](_0x41f417,_0x3b1be8)||_0x7e719a[_0x488618(0x24a)](_0x41f417,path['dirname'](_0x41f417)))return null;try{return fs[_0x488618(0x25c)](path['join'](_0x41f417,_0x7e719a['wJUdz'],_0x7e719a[_0x488618(0x256)])),_0x41f417;}catch(_0x456ead){const _0x1d931b=path['dirname'](_0x41f417);return this['findGitConfig'](_0x1d931b);}}[a4_0x3e1156(0x1c8)](_0xcbe7dc){const _0x116af0=a4_0x3e1156,_0x3b5aac={};_0x3b5aac[_0x116af0(0x24e)]=function(_0xd5aeff,_0x2b47cc){return _0xd5aeff>_0x2b47cc;};const _0x10ba3c=_0x3b5aac;if(_0xcbe7dc[_0x116af0(0x247)])return _0xcbe7dc['file'];if(_0xcbe7dc[_0x116af0(0x24d)]){const _0x5c0787=_0xcbe7dc[_0x116af0(0x24d)][_0x116af0(0x20b)]?this[_0x116af0(0x1c8)](_0xcbe7dc[_0x116af0(0x24d)][_0x116af0(0x20b)]):null;if(_0x5c0787)return _0x5c0787;}if(_0xcbe7dc[_0x116af0(0x1c4)]){const _0xe5e78f=this[_0x116af0(0x1c8)](_0xcbe7dc[_0x116af0(0x1c4)])||(_0xcbe7dc[_0x116af0(0x1c4)][_0x116af0(0x24d)]&&_0xcbe7dc[_0x116af0(0x1c4)][_0x116af0(0x24d)][_0x116af0(0x20b)]?this['getRootParentFile'](_0xcbe7dc[_0x116af0(0x1c4)]['ctx'][_0x116af0(0x20b)]):null);if(_0xe5e78f)return _0xe5e78f;_0xcbe7dc[_0x116af0(0x1c4)][_0x116af0(0x277)]&&_0x10ba3c[_0x116af0(0x24e)](_0xcbe7dc[_0x116af0(0x1c4)][_0x116af0(0x277)][_0x116af0(0x28d)],0x0)&&_0xcbe7dc[_0x116af0(0x1c4)]['suites'][_0x116af0(0x22e)](_0x20e4bc=>{const _0x16c880=_0x116af0,_0x1c23c4=_0x20e4bc['ctx']?this['getRootParentFile'](_0x20e4bc[_0x16c880(0x24d)]):null;if(_0x1c23c4)return _0x1c23c4;});}return null;}[a4_0x3e1156(0x262)](_0x511f0f){const _0x5ae0ec=a4_0x3e1156,_0x390aed={};_0x390aed[_0x5ae0ec(0x216)]=function(_0x5b5efa,_0x45d39e){return _0x5b5efa!==_0x45d39e;};const _0x1418ba=_0x390aed,_0x1cc344=[];if(_0x511f0f&&_0x511f0f['parent']){let _0x4fde7=_0x511f0f[_0x5ae0ec(0x1c4)];while(_0x4fde7&&_0x1418ba[_0x5ae0ec(0x216)](_0x4fde7[_0x5ae0ec(0x1f9)],'')){_0x1cc344['push'](_0x4fde7[_0x5ae0ec(0x1f9)]),_0x4fde7=_0x4fde7['parent'];}}return _0x1cc344;}[a4_0x3e1156(0x22b)](_0x2af072,_0x296d8b,_0x289b52=undefined){const _0x520331=a4_0x3e1156,_0x131338={'DDIIZ':function(_0x45910b,_0x15edd8){return _0x45910b(_0x15edd8);},'mstdJ':function(_0x383d85){return _0x383d85();},'NjXvH':function(_0x2486fa){return _0x2486fa();},'tGfxA':function(_0x2e9041){return _0x2e9041();},'ZuUhm':'util','qiRNY':_0x520331(0x1e9),'Kmehf':function(_0x579ada,_0x37f1d4){return _0x579ada!==_0x37f1d4;},'QaScJ':_0x520331(0x260),'HoIZd':_0x520331(0x1db),'tjvSu':_0x520331(0x278),'RtGZN':'passed','DXOHK':'skipped','zdAXs':_0x520331(0x243),'sbwLF':function(_0x299b6b,_0x2c3ee8){return _0x299b6b-_0x2c3ee8;},'XQfNX':function(_0x3fb97a,_0x134266,_0x23b28a,_0xa3ca26,_0xf51cce){return _0x3fb97a(_0x134266,_0x23b28a,_0xa3ca26,_0xf51cce);},'bTZpy':'integrations','jxCDp':_0x520331(0x1f7),'phBfE':_0x520331(0x1ff),'FUvri':_0x520331(0x1d8),'KsZxL':_0x520331(0x229),'FWNhU':_0x520331(0x1bf),'YhyeF':_0x520331(0x217),'YMnfO':function(_0xd9e38f,_0x3ba59a){return _0xd9e38f===_0x3ba59a;},'cICRg':_0x520331(0x21d),'owKeK':_0x520331(0x266)};if(!this[_0x520331(0x1fb)])return;try{if(_0x296d8b['fn']&&_0x296d8b['fn'][_0x520331(0x1b9)]()['match'](/browserstack internal helper hook/))return;const _0x381ef4=_0x131338['DDIIZ'](parseEvent,_0x2af072);if(!_0x381ef4)return;if(_0x381ef4[_0x520331(0x1ab)]){this[_0x520331(0x20b)]=_0x296d8b,this[_0x520331(0x19c)]=null;if(_0x381ef4['started']||_0x381ef4[_0x520331(0x227)]){_0x296d8b[_0x520331(0x19e)]=new Date(),_0x296d8b[_0x520331(0x1e6)]=![];if(!_0x296d8b[_0x520331(0x1a6)])_0x296d8b[_0x520331(0x1a6)]=_0x131338[_0x520331(0x22c)](uuidv4);else _0x296d8b[_0x520331(0x1e6)]&&(!_0x296d8b[_0x520331(0x268)]&&(_0x296d8b[_0x520331(0x268)]=_0x296d8b[_0x520331(0x1a6)]),_0x296d8b['testAnalyticsId']=_0x131338[_0x520331(0x248)](uuidv4));}}else{if(_0x381ef4[_0x520331(0x24f)]){this['currentHook']=_0x296d8b;if(_0x381ef4[_0x520331(0x202)]){_0x296d8b[_0x520331(0x19e)]=new Date(),_0x296d8b['markedStatus']=![];if(!_0x296d8b['hookAnalyticsId'])_0x296d8b['hookAnalyticsId']=_0x131338[_0x520331(0x1fa)](uuidv4);else _0x296d8b[_0x520331(0x25b)]&&_0x296d8b[_0x520331(0x1e6)]&&(_0x296d8b[_0x520331(0x25b)]=_0x131338[_0x520331(0x248)](uuidv4));}}}if(_0x381ef4['finished']&&_0x296d8b[_0x520331(0x1e6)])return;let _0x2116f4;try{_0x2116f4=this[_0x520331(0x1c8)](_0x296d8b);}catch(_0x5c8d5d){logger[_0x520331(0x28b)](_0x520331(0x1f0)+_0x5c8d5d),_0x2116f4=null;}const _0x2f0bf0=_0x131338[_0x520331(0x1d5)](require,_0x131338[_0x520331(0x240)]);let _0xd4a92f=[];_0x289b52&&(_0xd4a92f=[_0x289b52,_0x131338[_0x520331(0x215)]]);const _0x3e831b=_0x131338[_0x520331(0x20a)](_0x296d8b['errorsDetailed'],undefined)?_0x2f0bf0[_0x520331(0x257)](_0x296d8b['errorsDetailed'][0x0]):_0x131338[_0x520331(0x20a)](_0x289b52,undefined)?_0x289b52[_0x520331(0x1b9)]():undefined,_0x52a1b9=_0x2116f4?this['findGitConfig'](_0x2116f4):null,_0x47cf2c=_0x2116f4?this[_0x520331(0x270)][_0x520331(0x274)](this[_0x520331(0x1c8)](_0x296d8b)):_0x131338[_0x520331(0x225)];let _0x13fdc1=_0x131338[_0x520331(0x23c)];const _0x46119a=!_0x381ef4[_0x520331(0x202)]?new Date()[_0x520331(0x1bb)]():null;if(_0x381ef4['finished'])_0x13fdc1=_0x289b52?_0x131338['tjvSu']:_0x131338['RtGZN'],_0x296d8b[_0x520331(0x1e6)]=!![];else _0x381ef4[_0x520331(0x227)]&&(_0x13fdc1=_0x131338['DXOHK'],_0x296d8b[_0x520331(0x1e6)]=!![]);const _0x5aa37e={'framework':this[_0x520331(0x1a2)],'uuid':_0x296d8b[_0x520331(0x1a6)]||_0x296d8b[_0x520331(0x25b)],'name':_0x296d8b[_0x520331(0x1f9)],'body':{'lang':_0x131338[_0x520331(0x1cd)],'code':_0x296d8b['body'][_0x520331(0x1b9)]()},'type':_0x296d8b[_0x520331(0x238)],'scope':_0x296d8b[_0x520331(0x1eb)](),'scopes':this['getHierarchy'](_0x296d8b),'file_name':_0x47cf2c,'vc_filepath':_0x52a1b9?path[_0x520331(0x1b6)](_0x52a1b9,_0x2116f4):null,'location':_0x47cf2c,'result':_0x13fdc1,'failure_reason':_0x3e831b,'duration_in_ms':_0x296d8b[_0x520331(0x28c)]||(_0x381ef4['finished']||_0x381ef4['skipped'])?_0x131338[_0x520331(0x211)](Date['now'](),new Date(_0x296d8b[_0x520331(0x19e)])['getTime']()):null,'started_at':new Date(_0x296d8b['startedAt'])[_0x520331(0x1bb)](),'finished_at':_0x46119a,'failure':testOpsHelper[_0x520331(0x1ed)][_0x520331(0x1e5)](null,_0xd4a92f),'failure_type':!_0x3e831b?null:testOpsHelper[_0x520331(0x27b)](_0x3e831b),'retry_of':_0x296d8b['retryOf']||null,'tags':_0x296d8b[_0x520331(0x1b3)]||[],'customRerunParam':{'rerun_name':_0x296d8b['fullTitle']()}};_0x131338[_0x520331(0x289)](appendTesthubParams,_0x5aa37e,_0x2af072,_0x296d8b,FRAMEWORKS[_0x520331(0x25a)]);if(_0x381ef4[_0x520331(0x24f)])[_0x5aa37e[_0x520331(0x1fe)],_0x5aa37e['name']]=[this[_0x520331(0x254)](_0x296d8b),_0x296d8b[_0x520331(0x24d)][_0x520331(0x1ab)][_0x520331(0x1f9)]],_0x381ef4[_0x520331(0x200)]?_0x131338[_0x520331(0x20a)](_0x5aa37e[_0x520331(0x1d6)],_0x131338[_0x520331(0x239)])&&(_0x5aa37e['result']=_0x131338[_0x520331(0x235)]):_0x5aa37e[_0x520331(0x26f)]={};else _0x381ef4['test']&&(this[_0x520331(0x27f)](_0x296d8b),_0x381ef4[_0x520331(0x227)]&&this[_0x520331(0x1ec)](_0x296d8b),(_0x381ef4[_0x520331(0x200)]||_0x381ef4[_0x520331(0x227)])&&(_0x5aa37e[_0x520331(0x27d)]=this[_0x520331(0x22a)](_0x296d8b)));this[_0x520331(0x22d)]&&(_0x381ef4[_0x520331(0x202)]||_0x381ef4[_0x520331(0x227)])&&(_0x5aa37e[_0x131338[_0x520331(0x24c)]]=this['getCBTInfo'](this['driver']));_0x381ef4['test']&&_0x381ef4[_0x520331(0x200)]&&_0x296d8b[_0x520331(0x1b4)]&&(_0x5aa37e[_0x131338[_0x520331(0x1bd)]]={'feature':{'name':_0x296d8b[_0x520331(0x1c4)]['feature'][_0x520331(0x224)],'path':_0x5aa37e[_0x520331(0x23f)],'description':_0x296d8b['parent'][_0x520331(0x1dc)]},'scenario':{'name':_0x296d8b[_0x520331(0x1f9)]},'steps':_0x296d8b[_0x520331(0x1b4)]});const _0xa9dea2=_0x5aa37e[_0x131338[_0x520331(0x1a5)]][0x0];_0xa9dea2&&(_0x5aa37e[_0x131338[_0x520331(0x1ce)]]=_0xa9dea2[_0x131338[_0x520331(0x21e)]],_0x5aa37e[_0x131338['FWNhU']]=_0xa9dea2[_0x131338['YhyeF']]);if(_0x296d8b[_0x520331(0x1b4)])for(const _0x4556b9 of _0x296d8b['bddSteps']){!_0x4556b9[_0x520331(0x1a1)]&&(_0x4556b9[_0x520331(0x1a1)]=new Date()[_0x520331(0x1bb)](),_0x131338[_0x520331(0x20d)](_0x4556b9['result'],_0x131338['HoIZd'])&&(_0xa9dea2?(_0x4556b9[_0x520331(0x1d6)]=_0x131338[_0x520331(0x239)],_0x4556b9[_0x520331(0x1ff)]=_0xa9dea2[_0x131338[_0x520331(0x21e)]][0x0]):_0x4556b9[_0x520331(0x1d6)]=_0x131338[_0x520331(0x235)]));}const _0x57cf42={};_0x57cf42[_0x520331(0x221)]=_0x381ef4['skipped']?TEST_EVENTS[_0x520331(0x290)]:_0x2af072;const _0x225c96=_0x57cf42;return _0x381ef4[_0x520331(0x24f)]?_0x225c96[_0x131338[_0x520331(0x210)]]=_0x5aa37e:_0x225c96[_0x131338[_0x520331(0x263)]]=_0x5aa37e,_0x225c96;}catch(_0x262b9b){logger[_0x520331(0x28b)]('Exception\x20in\x20populating\x20test\x20data\x20for\x20event\x20'+_0x2af072+'\x20with\x20error\x20:\x20'+_0x262b9b);}}async[a4_0x3e1156(0x275)](_0x35dd24,_0x52a177){const _0xe20aae=a4_0x3e1156;if(!this[_0xe20aae(0x1fb)]||!_0x52a177||!_0x35dd24)return![];try{return await SessionHandler[_0xe20aae(0x205)](_0x52a177);}catch(_0x491e7a){logger['debug'](_0xe20aae(0x272)+_0x35dd24+_0xe20aae(0x1c3)+_0x491e7a);}}[a4_0x3e1156(0x21f)](_0x1e9b63){const _0x56dc85=a4_0x3e1156,_0x1799c6={};_0x1799c6[_0x56dc85(0x1a9)]=_0x56dc85(0x1db);const _0x400880=_0x1799c6;return{'id':_0x1e9b63[_0x56dc85(0x1d9)],'text':_0x1e9b63[_0x56dc85(0x19b)],'keyword':_0x1e9b63['keyword'],'started_at':_0x1e9b63[_0x56dc85(0x19e)][_0x56dc85(0x1bb)](),'result':_0x400880[_0x56dc85(0x1a9)]};}[a4_0x3e1156(0x1e8)](_0x112468){const _0x111131=a4_0x3e1156,_0x594ab1={'ZKZNF':function(_0x4eee9d){return _0x4eee9d();}};!this[_0x111131(0x20b)][_0x111131(0x1b4)]&&(this[_0x111131(0x20b)]['bddSteps']=[]),!_0x112468[_0x111131(0x1d9)]&&(_0x112468['stepAnalyticsId']=_0x594ab1[_0x111131(0x26e)](uuidv4),_0x112468[_0x111131(0x19e)]=new Date(),this[_0x111131(0x20b)][_0x111131(0x1b4)][_0x111131(0x231)](this['initializeBddStep'](_0x112468)));}[a4_0x3e1156(0x214)](_0x330c33){const _0x2fcffc=a4_0x3e1156,_0x23f64d={'EJDTu':function(_0x35f30b,_0x4dbc01){return _0x35f30b(_0x4dbc01);},'IvfdF':_0x2fcffc(0x287),'BDMDF':'pending','eTVcp':'passed','cxySF':function(_0x5bb226,_0x1d4d95){return _0x5bb226-_0x1d4d95;}};let _0x5e6f0b=this[_0x2fcffc(0x20b)]['bddSteps']['find'](_0xf1993c=>_0xf1993c['id']===_0x330c33[_0x2fcffc(0x1d9)]);_0x23f64d[_0x2fcffc(0x1ea)](isUndefined,_0x5e6f0b)&&(_0x5e6f0b=this['initializeBddStep'](_0x330c33)),_0x5e6f0b['result']=[_0x23f64d['IvfdF'],_0x23f64d[_0x2fcffc(0x28e)]]['includes'](_0x330c33[_0x2fcffc(0x1bc)])?_0x23f64d[_0x2fcffc(0x1e2)]:_0x330c33[_0x2fcffc(0x1bc)],_0x5e6f0b['finished_at']=new Date()[_0x2fcffc(0x1bb)](),_0x5e6f0b[_0x2fcffc(0x28c)]=_0x23f64d[_0x2fcffc(0x1c9)](Date[_0x2fcffc(0x279)](),_0x330c33[_0x2fcffc(0x19e)][_0x2fcffc(0x203)]()),_0x5e6f0b[_0x2fcffc(0x1ff)]=_0x330c33[_0x2fcffc(0x1e9)]?_0x330c33[_0x2fcffc(0x1e9)]['message']:null;}}function a4_0x3d3c(){const _0x4a9f43=['startedAt','../utils/constants','HOOK_RUN_FINISHED','finished_at','frameworkName','winstonLogger','../playwright/sessionDetails','phBfE','testAnalyticsId','defineProperty','bs:addLog:','niWIF','getCBTInfo','test','bgJZq','6GYIHuB','214GghvCx','HCRTQ','_testEnv','../../helpers/testhub/utils.js','PathHelper','tags','bddSteps','getInstance','relative','3548950XaVTGf','HmzEA','toString','STATE_FAILED','toISOString','status','jxCDp','Exception\x20in\x20uploading\x20platform\x20details\x20to\x20Observability\x20with\x20error\x20:\x20','failure_reason_expanded','4|2|3|1|0|5','then','hDFGO','\x20with\x20error\x20:\x20','parent','TEST_RUN_SKIPPED','integrations','BFUEP','getRootParentFile','cxySF','2482985HsDFMI','../mocha/test-observability/mochaUtils','uFALN','zdAXs','FUvri','pid','PLAYWRIGHT_HUB_URL','HbvxQ','ewvUK','config','path','DDIIZ','result','logs','failure_backtrace','stepAnalyticsId','O11yHelper','pending','comment','appendTestItemLog','../../helpers/helper','RfgRD','cjoKD','toLowerCase','eTVcp','split','fIhoK','apply','markedStatus','constructor','bddStepStart','err','EJDTu','fullTitle','resetSkipTestHooks','failureData','removeAllListeners','BrowserType','failed\x20to\x20get\x20root\x20parent\x20file\x20','../../helpers/test-observability/sessionHandler','HXcQI','includes','wEaWI','sep','prototype','meta','9OkoTvk','title','tGfxA','enabled','__cloud_provider___','XJvOC','hook_type','failure','finished','1971095SQnIQa','started','getTime','concat','uploadEventData','connect','TestRunStarted','OhQdP','uBQzk','Kmehf','currentTest','test_run_uuid','YMnfO','groups','TEST_EVENTS','cICRg','sbwLF','stop','uDhWA','bddStepFinish','qiRNY','nnbaO','expanded','browserType.js','NsAOR','ZVxgg','match','kztZA','hook_run','KsZxL','initializeBddStep','uuid','event_type','LogCreated','wcRKf','name','QaScJ','IBLiG','skipped','qKgNX','backtrace','getHooksForTest','captureEvent','mstdJ','driver','forEach','TEST_RUN_STARTED','Ocjym','push','patchConsoleLogger','uIDgv','sendCBTInfo','RtGZN','setupBrowserDetails','hook_run_uuid','type','tjvSu','OMUit','stringify','HoIZd','codeceptjs','../../helpers/logger','file_name','ZuUhm','_afterAll','Not\x20able\x20to\x20import\x20Browser','javascript','4134968mDFyJm','_beforeEach','SzEWm','file','NjXvH','replace','xzxvh','wsEndpoint','bTZpy','ctx','KpFgu','hook','QJQAp','lBQry','3117612fdpDME','aNqpS','getHookType','exports','IAHTZ','inspect','FQBxj','jYDGN','CODECEPT','hookAnalyticsId','statSync','_afterEach','fBRhx','_beforeAll','File\x20path\x20could\x20not\x20be\x20found','7272904hSHMqp','getHierarchy','owKeK','.git','toUpperCase','test_run','yAcFx','retryOf','FmrXh','accessibilityPlatform','XvnCw','Exception\x20in\x20uploading\x20log\x20data\x20to\x20Observability\x20with\x20error\x20:\x20','wJUdz','ZKZNF','body','_paths','HhyLE','Exception\x20in\x20sending\x20test\x20data\x20for\x20event\x20','BBCko','prefixTestPath','fireEvent','../../helpers/test-observability/utils','suites','failed','now','browserstack','getFailureType','110jlXvDs','hooks','9767KSjdtX','mapTestHooks','TestRunFinished','cwd','WDoPl','gyIBf','ALrtC','findGitConfig','client','success','HOOK_RUN_STARTED','XQfNX','roNCT','debug','duration','length','BDMDF','ZTeIk','TEST_RUN_FINISHED','HookRunStarted','text','currentHook','Playwright'];a4_0x3d3c=function(){return _0x4a9f43;};return a4_0x3d3c();}const a4_0x4aaeb0={};a4_0x4aaeb0[a4_0x3e1156(0x1da)]=O11yHelper,a4_0x4aaeb0['STATE_PASSED']=STATE_PASSED,a4_0x4aaeb0[a4_0x3e1156(0x1ba)]=STATE_FAILED,a4_0x4aaeb0[a4_0x3e1156(0x20f)]=TEST_EVENTS,module[a4_0x3e1156(0x255)]=a4_0x4aaeb0;