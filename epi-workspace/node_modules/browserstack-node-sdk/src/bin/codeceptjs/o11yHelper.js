const a4_0x5e4407=a4_0x370f;(function(_0x4cc72f,_0x4ae7ad){const _0x2edbb8=a4_0x370f,_0x3e862f=_0x4cc72f();while(!![]){try{const _0x538947=-parseInt(_0x2edbb8(0x2ba))/0x1+-parseInt(_0x2edbb8(0x284))/0x2*(-parseInt(_0x2edbb8(0x281))/0x3)+-parseInt(_0x2edbb8(0x23e))/0x4*(parseInt(_0x2edbb8(0x23b))/0x5)+-parseInt(_0x2edbb8(0x2a8))/0x6*(parseInt(_0x2edbb8(0x267))/0x7)+-parseInt(_0x2edbb8(0x2af))/0x8*(-parseInt(_0x2edbb8(0x1e8))/0x9)+-parseInt(_0x2edbb8(0x220))/0xa*(-parseInt(_0x2edbb8(0x21a))/0xb)+parseInt(_0x2edbb8(0x26a))/0xc*(parseInt(_0x2edbb8(0x20a))/0xd);if(_0x538947===_0x4ae7ad)break;else _0x3e862f['push'](_0x3e862f['shift']());}catch(_0x361586){_0x3e862f['push'](_0x3e862f['shift']());}}}(a4_0x441e,0x4fd43));const path=require(a4_0x5e4407(0x2a6)),fs=require('fs'),{v4:uuidv4}=require(a4_0x5e4407(0x2ab)),{importFileFromPWCore,nestedKeyValue,parseWSEndpoint,isUndefined}=require('../../helpers/helper'),testOpsHelper=require(a4_0x5e4407(0x238)),{getTestEnv}=require('../mocha/test-observability/mochaUtils'),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),logger=require(a4_0x5e4407(0x20f))[a4_0x5e4407(0x29c)],SessionHandler=require(a4_0x5e4407(0x244)),RequestQueueHandler=require('../../helpers/test-observability/requestQueueHandler'),PlaywrightSessionDetails=require(a4_0x5e4407(0x236)),debug=testOpsHelper[a4_0x5e4407(0x1e7)],{processAccessibilityCaps}=require(a4_0x5e4407(0x29f)),Constants=require('../utils/constants'),{fetchPlatformDetails}=require(a4_0x5e4407(0x2ad)),{shouldProcessEventForTesthub,appendTesthubParams}=require(a4_0x5e4407(0x269)),constants=require('../utils/constants'),STATE_PASSED=a4_0x5e4407(0x25c),STATE_FAILED=a4_0x5e4407(0x268),a4_0x2c0c7a={};a4_0x2c0c7a['TEST_RUN_STARTED']=a4_0x5e4407(0x27c),a4_0x2c0c7a[a4_0x5e4407(0x27f)]='TestRunFinished',a4_0x2c0c7a[a4_0x5e4407(0x260)]='TestRunSkipped',a4_0x2c0c7a[a4_0x5e4407(0x24f)]=a4_0x5e4407(0x21c),a4_0x2c0c7a['HOOK_RUN_FINISHED']=a4_0x5e4407(0x280);const TEST_EVENTS=a4_0x2c0c7a,parseEvent=_0xaa0be1=>{const _0x16410a=a4_0x5e4407,_0xb50239={};_0xb50239[_0x16410a(0x22c)]=function(_0xd4a919,_0x29afb8){return _0xd4a919<_0x29afb8;},_0xb50239['lbAez']=function(_0x2b2dea,_0x6eb19){return _0x2b2dea===_0x6eb19;},_0xb50239['DCKGI']='test',_0xb50239[_0x16410a(0x231)]=function(_0x434df3,_0x14b0fb){return _0x434df3===_0x14b0fb;},_0xb50239[_0x16410a(0x221)]=_0x16410a(0x1d9),_0xb50239['GWdlZ']=function(_0x11d03f,_0x270b1f){return _0x11d03f===_0x270b1f;},_0xb50239[_0x16410a(0x2c0)]=_0x16410a(0x270),_0xb50239[_0x16410a(0x1ea)]=function(_0x24f5fb,_0x1a10f0){return _0x24f5fb===_0x1a10f0;},_0xb50239[_0x16410a(0x1ff)]=_0x16410a(0x289),_0xb50239['dnHHi']=function(_0x2b7a72,_0x4e3467){return _0x2b7a72===_0x4e3467;},_0xb50239[_0x16410a(0x21f)]=_0x16410a(0x1d8);const _0x13a3bd=_0xb50239,_0x4302db=_0xaa0be1[_0x16410a(0x276)](/^(.*)Run(.*)$/);if(!_0x4302db)return null;if(_0x13a3bd[_0x16410a(0x22c)](_0x4302db[_0x16410a(0x223)],0x3))return null;const _0x237cc8=_0x4302db[0x1][_0x16410a(0x233)](),_0x454af0=_0x4302db[0x2][_0x16410a(0x233)]();return{'test':_0x13a3bd[_0x16410a(0x28c)](_0x237cc8,_0x13a3bd[_0x16410a(0x23f)]),'hook':_0x13a3bd[_0x16410a(0x231)](_0x237cc8,_0x13a3bd['jkQtZ']),'skipped':_0x13a3bd['GWdlZ'](_0x454af0,_0x13a3bd[_0x16410a(0x2c0)]),'started':_0x13a3bd[_0x16410a(0x1ea)](_0x454af0,_0x13a3bd[_0x16410a(0x1ff)]),'finished':_0x13a3bd['dnHHi'](_0x454af0,_0x13a3bd[_0x16410a(0x21f)])};},mockPWBrowserType=_0x1262b0=>{const _0x1681b0=a4_0x5e4407,_0x40c332={'voZVt':function(_0x394011,_0x5b1e11){return _0x394011===_0x5b1e11;},'KCYGV':'string','KwOye':function(_0x6913db,_0x2958d6,_0x1d2d1f){return _0x6913db(_0x2958d6,_0x1d2d1f);},'oFfYG':_0x1681b0(0x21e),'AEdpP':function(_0x392bab,_0x2232ab){return _0x392bab(_0x2232ab);},'TMgzn':_0x1681b0(0x213),'swtIV':_0x1681b0(0x230),'fTRWo':_0x1681b0(0x266),'YrJDY':'browserType.js','mODAR':function(_0x34f530,_0x2c5805){return _0x34f530(_0x2c5805);},'dhCju':_0x1681b0(0x264),'axiJA':'connect','pgVao':_0x1681b0(0x290)},_0x8439c6=path[_0x1681b0(0x20c)](_0x40c332['swtIV'],_0x40c332[_0x1681b0(0x255)],_0x40c332['YrJDY']),_0x40a13a=_0x40c332[_0x1681b0(0x293)](importFileFromPWCore,_0x8439c6);if(!_0x40a13a){_0x40c332['AEdpP'](debug,_0x40c332['dhCju']);return;}const _0x4a4251=_0x40a13a['BrowserType'],_0x4dffd7=_0x4a4251[_0x1681b0(0x219)];if(_0x4dffd7['obsBrowserTypeMockApplied'])return;const _0x2adaef=_0x4dffd7['connect'];Object[_0x1681b0(0x277)](_0x4dffd7,_0x40c332['axiJA'],{'get':function(){const _0x282c27=_0x1681b0,_0xe54826={'DSeAM':function(_0x4fed0e,_0x7af593){const _0x1765be=a4_0x370f;return _0x40c332[_0x1765be(0x1dc)](_0x4fed0e,_0x7af593);},'PHLph':_0x40c332['KCYGV'],'kyrNP':function(_0x1acb14,_0x32c3fc,_0x241a0e){const _0x492b6b=a4_0x370f;return _0x40c332[_0x492b6b(0x250)](_0x1acb14,_0x32c3fc,_0x241a0e);},'xFSyg':_0x40c332[_0x282c27(0x2a0)],'qZSrv':function(_0x553a34,_0x77ead1){const _0x90cfa5=_0x282c27;return _0x40c332[_0x90cfa5(0x2bc)](_0x553a34,_0x77ead1);},'IEnwd':_0x40c332[_0x282c27(0x26f)]};return async function _0x52eb61(_0x23adea,_0x2edc5f){const _0x3f4cec=_0x282c27,_0x2da97a=_0xe54826[_0x3f4cec(0x1e3)](nestedKeyValue,_0x23adea,[_0xe54826[_0x3f4cec(0x210)]])||_0x23adea;let _0x5b1df6=null,_0x374d90=null;try{[_0x374d90,_0x5b1df6]=_0x2da97a?_0xe54826[_0x3f4cec(0x1dd)](parseWSEndpoint,_0x2da97a):[null,null],global[_0x3f4cec(0x217)]=_0x5b1df6,logger[_0x3f4cec(0x1e7)](_0x3f4cec(0x1f8)+_0x374d90),_0x374d90[_0x3f4cec(0x241)](Constants['BROWSERSTACK'])&&(global[_0x3f4cec(0x27e)]=_0xe54826[_0x3f4cec(0x1f6)]);}catch(_0x30786f){logger[_0x3f4cec(0x1e7)](_0x3f4cec(0x2c1)+_0x2da97a+'\x20'+_0x30786f);}_0xe54826[_0x3f4cec(0x1e3)](processAccessibilityCaps,_0x5b1df6,_0x374d90);if(global[_0x3f4cec(0x1ee)]){const _0x59944f=await _0x4dffd7[_0x3f4cec(0x1e1)][_0x3f4cec(0x265)](this,[''+Constants[_0x3f4cec(0x2bb)]+_0xe54826[_0x3f4cec(0x1dd)](encodeURIComponent,JSON[_0x3f4cec(0x25d)](_0x5b1df6))]);return PlaywrightSessionDetails['setupBrowserDetails'](_0x59944f,_0x1262b0,_0x2da97a),_0x59944f;}return _0x2adaef['apply'](this,arguments)[_0x3f4cec(0x1e4)](_0x222c02=>{const _0x32d5c4=_0x3f4cec;let _0x9be5a3=_0x23adea['wsEndpoint'];return _0xe54826[_0x32d5c4(0x28a)](typeof _0x23adea,_0xe54826[_0x32d5c4(0x2b4)])&&(_0x9be5a3=_0x23adea),PlaywrightSessionDetails[_0x32d5c4(0x2b9)](_0x222c02,_0x1262b0,_0x9be5a3),_0x222c02;});};}});const _0x4d2c7d=_0x4dffd7[_0x1681b0(0x290)];Object[_0x1681b0(0x277)](_0x4dffd7,_0x40c332['pgVao'],{'get':function(){return async function _0x26e078(){const _0x21da6f=a4_0x370f;return _0x4d2c7d[_0x21da6f(0x265)](this,arguments)['then'](_0x5459b8=>{const _0xdad51=_0x21da6f;return PlaywrightSessionDetails[_0xdad51(0x2b9)](_0x5459b8,null),_0x5459b8;});};}});};class O11yHelper{[a4_0x5e4407(0x24a)]=null;[a4_0x5e4407(0x211)]=null;['enabled']=![];[a4_0x5e4407(0x2a4)]=![];constructor(_0x561e18,_0x1056c7){const _0x1d04ba=a4_0x5e4407,_0x556f63={'Aymge':_0x1d04ba(0x258),'saNjH':function(_0x483572,_0x33b05e){return _0x483572===_0x33b05e;},'wiJea':_0x1d04ba(0x294),'ZxWfl':function(_0x52cf97,_0x58d5d7){return _0x52cf97(_0x58d5d7);},'DIIzo':function(_0x2c0cd5){return _0x2c0cd5();},'NiCPj':function(_0x1dcd3b){return _0x1dcd3b();}},_0x6a93ff=_0x556f63[_0x1d04ba(0x1f0)][_0x1d04ba(0x22a)]('|');let _0x13569a=0x0;while(!![]){switch(_0x6a93ff[_0x13569a++]){case'0':this['_paths']=new testOpsHelper['PathHelper']({'cwd':process[_0x1d04ba(0x251)]()},this[_0x1d04ba(0x2a1)]['location_prefix']);continue;case'1':this[_0x1d04ba(0x22f)]&&_0x556f63[_0x1d04ba(0x291)](this[_0x1d04ba(0x22f)]['constructor'][_0x1d04ba(0x228)],_0x556f63['wiJea'])&&_0x556f63[_0x1d04ba(0x263)](mockPWBrowserType,null);continue;case'2':this[_0x1d04ba(0x2a4)]=_0x1056c7['frameworkName'];continue;case'3':this[_0x1d04ba(0x2b0)]=_0x556f63[_0x1d04ba(0x274)](shouldProcessEventForTesthub);continue;case'4':this['driver']=_0x561e18;continue;case'5':this[_0x1d04ba(0x2a1)]=_0x556f63['NiCPj'](getTestEnv);continue;}break;}}[a4_0x5e4407(0x20b)](){const _0x467bdb=a4_0x5e4407;if(!this[_0x467bdb(0x2b0)])return;testOpsHelper[_0x467bdb(0x1ec)](),process['removeAllListeners'](_0x467bdb(0x2b6)+process['pid']),process['on'](_0x467bdb(0x2b6)+process[_0x467bdb(0x203)],this[_0x467bdb(0x22e)][_0x467bdb(0x252)](this));}async[a4_0x5e4407(0x249)](){const _0xde77e=a4_0x5e4407;await RequestQueueHandler[_0xde77e(0x261)]()[_0xde77e(0x245)]();}async[a4_0x5e4407(0x22e)](_0xbdb72e){const _0x284b8b=a4_0x5e4407,_0x222ad2={'PqrPd':_0x284b8b(0x237),'NoPVj':function(_0x27ac3c,_0x1aee48){return _0x27ac3c(_0x1aee48);}};try{this[_0x284b8b(0x211)]&&!this[_0x284b8b(0x211)][_0x284b8b(0x20e)]&&(_0xbdb72e[_0x284b8b(0x234)]=this[_0x284b8b(0x211)]['hookAnalyticsId']);!_0xbdb72e[_0x284b8b(0x234)]&&this['currentTest']&&!this[_0x284b8b(0x24a)][_0x284b8b(0x20e)]&&(_0xbdb72e[_0x284b8b(0x1d7)]=this[_0x284b8b(0x24a)]['testAnalyticsId']);if(_0xbdb72e[_0x284b8b(0x234)]||_0xbdb72e[_0x284b8b(0x1d7)]){const _0x56333b={};_0x56333b[_0x284b8b(0x25e)]=_0x222ad2[_0x284b8b(0x1da)],_0x56333b[_0x284b8b(0x1fc)]=[_0xbdb72e],await SessionHandler[_0x284b8b(0x25a)](_0x56333b);}}catch(_0x50b06f){_0x222ad2[_0x284b8b(0x275)](debug,_0x284b8b(0x222)+constants['TEST_REPORTING_ANALYTICS']+_0x284b8b(0x2b5)+_0x50b06f);}}async['sendCBTInfo'](_0x67630f){const _0x2115d7=a4_0x5e4407,_0x4c91be={'lFGys':_0x2115d7(0x2c4),'ljQDm':function(_0x1de9dd,_0x577a50){return _0x1de9dd(_0x577a50);}};if(!this['enabled'])return;const _0x3098dd=this[_0x2115d7(0x225)](this['driver']);try{const _0x5c61ca={};_0x5c61ca[_0x2115d7(0x2ab)]=_0x67630f,_0x5c61ca['integrations']=_0x3098dd;const _0x31b52b=_0x5c61ca,_0x24614f={};_0x24614f[_0x2115d7(0x25e)]=_0x4c91be['lFGys'],_0x24614f[_0x2115d7(0x299)]=_0x31b52b,await SessionHandler[_0x2115d7(0x25a)](_0x24614f);}catch(_0x409613){_0x4c91be[_0x2115d7(0x28d)](debug,_0x2115d7(0x247)+constants['TEST_REPORTING_ANALYTICS']+_0x2115d7(0x2b5)+_0x409613);}}[a4_0x5e4407(0x225)](_0x49ce04){const _0x373098=a4_0x5e4407,_0x1436f5={'CecAX':function(_0x3c04c5,_0x403681){return _0x3c04c5(_0x403681);}};return _0x1436f5[_0x373098(0x23a)](fetchPlatformDetails,_0x49ce04);}[a4_0x5e4407(0x1f9)]=_0x4deeb6=>{const _0x3057db=a4_0x5e4407,_0x52f6bf={};_0x52f6bf[_0x3057db(0x2a2)]=_0x3057db(0x1f7),_0x52f6bf[_0x3057db(0x279)]='_afterEach';const _0x36c5f5=_0x52f6bf;if(!_0x4deeb6||!_0x4deeb6[_0x3057db(0x282)])return;[_0x36c5f5[_0x3057db(0x2a2)],_0x36c5f5['ZlVeS']]['forEach'](_0x363288=>{const _0x3d8e7f=_0x3057db,_0x52f44c=_0x4deeb6[_0x3d8e7f(0x282)][_0x363288];_0x52f44c[_0x3d8e7f(0x26c)](_0x2bfd43=>{_0x2bfd43['hookAnalyticsId']&&(_0x2bfd43['hookAnalyticsId']=null);});});};['mapTestHooks'](_0x4474c3){const _0x53a7ca=a4_0x5e4407,_0x5ed9e2={'EfGHi':_0x53a7ca(0x2a5),'XHDAi':function(_0x3328bd){return _0x3328bd();},'ZvtdQ':function(_0x4be8b2,_0xd45455){return _0x4be8b2===_0xd45455;},'wqXdv':'_afterEach','GdVRj':'_beforeAll','uLxoc':_0x53a7ca(0x2a3),'Faeit':_0x53a7ca(0x1f7)};if(!_0x4474c3||!_0x4474c3[_0x53a7ca(0x282)])return;[_0x5ed9e2[_0x53a7ca(0x2c2)],_0x5ed9e2[_0x53a7ca(0x201)],_0x5ed9e2[_0x53a7ca(0x200)],_0x5ed9e2[_0x53a7ca(0x253)]][_0x53a7ca(0x26c)](_0x2e2626=>{const _0x24631c=_0x53a7ca,_0x577b29=_0x4474c3[_0x24631c(0x282)][_0x2e2626]||[];_0x577b29[_0x24631c(0x26c)](_0x51e763=>{const _0x1d4983=_0x24631c;if(_0x51e763[_0x1d4983(0x240)][_0x1d4983(0x241)](_0x5ed9e2[_0x1d4983(0x1e2)]))return;if(!_0x51e763['hookAnalyticsId'])_0x51e763[_0x1d4983(0x1eb)]=_0x5ed9e2[_0x1d4983(0x204)](uuidv4);else _0x51e763['markedStatus']&&_0x5ed9e2[_0x1d4983(0x29d)](_0x2e2626,_0x5ed9e2[_0x1d4983(0x253)])&&(_0x51e763[_0x1d4983(0x1eb)]=_0x5ed9e2[_0x1d4983(0x204)](uuidv4),delete _0x51e763[_0x1d4983(0x20e)]);});}),this['mapTestHooks'](_0x4474c3[_0x53a7ca(0x282)]);}[a4_0x5e4407(0x205)](_0x319479){const _0xf347c6=a4_0x5e4407,_0x14d793={};_0x14d793[_0xf347c6(0x2a7)]=_0xf347c6(0x24b),_0x14d793[_0xf347c6(0x2a9)]=_0xf347c6(0x2a3),_0x14d793[_0xf347c6(0x239)]='_beforeEach',_0x14d793[_0xf347c6(0x23d)]='_afterEach';const _0x2e0089=_0x14d793;if(!_0x319479||!_0x319479[_0xf347c6(0x282)])return[];const _0x41c284=[];return[_0x2e0089[_0xf347c6(0x2a7)],_0x2e0089[_0xf347c6(0x2a9)],_0x2e0089['FCXPR'],_0x2e0089[_0xf347c6(0x23d)]]['forEach'](_0x1cc15f=>{const _0x202b78=_0xf347c6,_0x4c6b73=_0x319479[_0x202b78(0x282)][_0x1cc15f]||[];_0x4c6b73['forEach'](_0x260224=>{const _0x2cf4d8=_0x202b78;_0x260224[_0x2cf4d8(0x1eb)]&&_0x41c284[_0x2cf4d8(0x248)](_0x260224[_0x2cf4d8(0x1eb)]);});}),[][_0xf347c6(0x2b3)](_0x41c284,this[_0xf347c6(0x205)](_0x319479[_0xf347c6(0x282)]));}['getHookType'](_0x528b67){const _0x216e56=a4_0x5e4407,_0xb776ba=/^"(?<hook>.*)" hook:.*$/,_0x3b698e=_0x528b67[_0x216e56(0x240)],_0x5e389d=_0x3b698e[_0x216e56(0x276)](_0xb776ba);if(_0x5e389d&&_0x5e389d[_0x216e56(0x286)])return _0x5e389d[_0x216e56(0x286)]['hook']['toUpperCase']()[_0x216e56(0x29e)]('\x20','_');return null;}[a4_0x5e4407(0x1ed)](_0x5599c6){const _0x16b56e=a4_0x5e4407,_0x4cdb9a={};_0x4cdb9a[_0x16b56e(0x273)]=function(_0x281abe,_0x431eac){return _0x281abe===_0x431eac;},_0x4cdb9a[_0x16b56e(0x292)]=function(_0x14fb93,_0x55b00b){return _0x14fb93===_0x55b00b;},_0x4cdb9a['Crhfz']=_0x16b56e(0x23c),_0x4cdb9a[_0x16b56e(0x20d)]=_0x16b56e(0x24e);const _0x266520=_0x4cdb9a,_0x2319b5=path['sep'];if(_0x266520[_0x16b56e(0x273)](_0x5599c6,null)||_0x266520[_0x16b56e(0x273)](_0x5599c6,'')||_0x266520[_0x16b56e(0x273)](_0x5599c6,_0x2319b5)||_0x266520[_0x16b56e(0x292)](_0x5599c6,path[_0x16b56e(0x214)](_0x5599c6)))return null;try{return fs[_0x16b56e(0x26b)](path[_0x16b56e(0x20c)](_0x5599c6,_0x266520['Crhfz'],_0x266520[_0x16b56e(0x20d)])),_0x5599c6;}catch(_0x7d93c9){const _0x1a0d52=path[_0x16b56e(0x214)](_0x5599c6);return this['findGitConfig'](_0x1a0d52);}}[a4_0x5e4407(0x259)](_0x43970c){const _0x2060d5=a4_0x5e4407,_0x19dcab={};_0x19dcab[_0x2060d5(0x28f)]=function(_0x3e9ecb,_0x126310){return _0x3e9ecb>_0x126310;};const _0x22bc38=_0x19dcab;if(_0x43970c[_0x2060d5(0x1e6)])return _0x43970c[_0x2060d5(0x1e6)];if(_0x43970c[_0x2060d5(0x235)]){const _0x138ed9=_0x43970c[_0x2060d5(0x235)]['currentTest']?this['getRootParentFile'](_0x43970c[_0x2060d5(0x235)]['currentTest']):null;if(_0x138ed9)return _0x138ed9;}if(_0x43970c[_0x2060d5(0x282)]){const _0x5e5172=this[_0x2060d5(0x259)](_0x43970c['parent'])||(_0x43970c[_0x2060d5(0x282)]['ctx']&&_0x43970c['parent']['ctx'][_0x2060d5(0x24a)]?this[_0x2060d5(0x259)](_0x43970c[_0x2060d5(0x282)][_0x2060d5(0x235)][_0x2060d5(0x24a)]):null);if(_0x5e5172)return _0x5e5172;_0x43970c[_0x2060d5(0x282)][_0x2060d5(0x202)]&&_0x22bc38[_0x2060d5(0x28f)](_0x43970c[_0x2060d5(0x282)][_0x2060d5(0x202)][_0x2060d5(0x223)],0x0)&&_0x43970c[_0x2060d5(0x282)][_0x2060d5(0x202)]['forEach'](_0x44c9da=>{const _0x21f278=_0x2060d5,_0x259437=_0x44c9da[_0x21f278(0x235)]?this['getRootParentFile'](_0x44c9da[_0x21f278(0x235)]):null;if(_0x259437)return _0x259437;});}return null;}['getHierarchy'](_0x26d06d){const _0x323374=a4_0x5e4407,_0xd4509b={};_0xd4509b[_0x323374(0x1f5)]=function(_0x50926a,_0xda84de){return _0x50926a!==_0xda84de;};const _0x1d2e43=_0xd4509b,_0x1cf6dc=[];if(_0x26d06d&&_0x26d06d['parent']){let _0x4e35d3=_0x26d06d[_0x323374(0x282)];while(_0x4e35d3&&_0x1d2e43[_0x323374(0x1f5)](_0x4e35d3[_0x323374(0x240)],'')){_0x1cf6dc[_0x323374(0x248)](_0x4e35d3[_0x323374(0x240)]),_0x4e35d3=_0x4e35d3[_0x323374(0x282)];}}return _0x1cf6dc;}['captureEvent'](_0x3658ac,_0x23bd88,_0xe699f3=undefined){const _0x5c09d7=a4_0x5e4407,_0x2707b3={'onLQX':function(_0x3f7003,_0x4fcd23){return _0x3f7003(_0x4fcd23);},'ZglyA':function(_0x2850b4){return _0x2850b4();},'HhKcu':_0x5c09d7(0x1f4),'DcNsK':'err','HGdnn':function(_0x1d7d39,_0x2b20d7){return _0x1d7d39!==_0x2b20d7;},'ABZtj':_0x5c09d7(0x24d),'Aiaax':'pending','vPWMo':'failed','ULHOr':_0x5c09d7(0x25c),'JfNzl':_0x5c09d7(0x270),'uKftg':_0x5c09d7(0x1ef),'UHwEa':function(_0x25aa7c,_0x4841f2){return _0x25aa7c-_0x4841f2;},'PkDbF':function(_0x1b7f36,_0x4f0b42,_0x3a612a,_0x1c1e67,_0x412cd8){return _0x1b7f36(_0x4f0b42,_0x3a612a,_0x1c1e67,_0x412cd8);},'WoZKp':_0x5c09d7(0x209),'JZVHO':_0x5c09d7(0x296),'jjzez':_0x5c09d7(0x29b),'QHSQO':'failure_backtrace','LtvgG':'backtrace','BhkOq':_0x5c09d7(0x271),'TGxAB':'expanded','VOhVU':function(_0x3cd27e,_0x40c06b){return _0x3cd27e===_0x40c06b;},'BwSPI':_0x5c09d7(0x1fe),'wZztz':_0x5c09d7(0x299)};if(!this[_0x5c09d7(0x2b0)])return;try{if(_0x23bd88['fn']&&_0x23bd88['fn'][_0x5c09d7(0x227)]()['match'](/browserstack internal helper hook/))return;const _0x3e8ce8=_0x2707b3[_0x5c09d7(0x224)](parseEvent,_0x3658ac);if(!_0x3e8ce8)return;if(_0x3e8ce8['test']){this[_0x5c09d7(0x24a)]=_0x23bd88,this['currentHook']=null;if(_0x3e8ce8[_0x5c09d7(0x289)]||_0x3e8ce8[_0x5c09d7(0x270)]){_0x23bd88['startedAt']=new Date(),_0x23bd88[_0x5c09d7(0x20e)]=![];if(!_0x23bd88['testAnalyticsId'])_0x23bd88['testAnalyticsId']=_0x2707b3[_0x5c09d7(0x218)](uuidv4);else _0x23bd88[_0x5c09d7(0x20e)]&&(!_0x23bd88[_0x5c09d7(0x25f)]&&(_0x23bd88['retryOf']=_0x23bd88[_0x5c09d7(0x1f2)]),_0x23bd88[_0x5c09d7(0x1f2)]=_0x2707b3[_0x5c09d7(0x218)](uuidv4));}}else{if(_0x3e8ce8[_0x5c09d7(0x1d9)]){this['currentHook']=_0x23bd88;if(_0x3e8ce8[_0x5c09d7(0x289)]){_0x23bd88['startedAt']=new Date(),_0x23bd88[_0x5c09d7(0x20e)]=![];if(!_0x23bd88['hookAnalyticsId'])_0x23bd88[_0x5c09d7(0x1eb)]=_0x2707b3['ZglyA'](uuidv4);else _0x23bd88[_0x5c09d7(0x1eb)]&&_0x23bd88[_0x5c09d7(0x20e)]&&(_0x23bd88['hookAnalyticsId']=_0x2707b3['ZglyA'](uuidv4));}}}if(_0x3e8ce8[_0x5c09d7(0x1d8)]&&_0x23bd88['markedStatus'])return;let _0x3ba76e;try{_0x3ba76e=this[_0x5c09d7(0x259)](_0x23bd88);}catch(_0xcc55b2){logger['debug'](_0x5c09d7(0x26e)+_0xcc55b2),_0x3ba76e=null;}const _0x2bca0b=_0x2707b3[_0x5c09d7(0x224)](require,_0x2707b3['HhKcu']);let _0x1951e3=[];_0xe699f3&&(_0x1951e3=[_0xe699f3,_0x2707b3[_0x5c09d7(0x283)]]);const _0x5dbb18=_0x2707b3[_0x5c09d7(0x212)](_0x23bd88['errorsDetailed'],undefined)?_0x2bca0b[_0x5c09d7(0x1df)](_0x23bd88[_0x5c09d7(0x24c)][0x0]):_0x2707b3['HGdnn'](_0xe699f3,undefined)?_0xe699f3[_0x5c09d7(0x227)]():undefined,_0x108810=_0x3ba76e?this[_0x5c09d7(0x1ed)](_0x3ba76e):null,_0x57b489=_0x3ba76e?this[_0x5c09d7(0x242)]['prefixTestPath'](this['getRootParentFile'](_0x23bd88)):_0x2707b3[_0x5c09d7(0x285)];let _0x34fab0=_0x2707b3[_0x5c09d7(0x298)];const _0x180c4b=!_0x3e8ce8[_0x5c09d7(0x289)]?new Date()[_0x5c09d7(0x26d)]():null;if(_0x3e8ce8[_0x5c09d7(0x1d8)])_0x34fab0=_0xe699f3?_0x2707b3[_0x5c09d7(0x1db)]:_0x2707b3['ULHOr'],_0x23bd88['markedStatus']=!![];else _0x3e8ce8[_0x5c09d7(0x270)]&&(_0x34fab0=_0x2707b3['JfNzl'],_0x23bd88[_0x5c09d7(0x20e)]=!![]);const _0x45cda4={'framework':this['frameworkName'],'uuid':_0x23bd88[_0x5c09d7(0x1f2)]||_0x23bd88['hookAnalyticsId'],'name':_0x23bd88[_0x5c09d7(0x240)],'body':{'lang':_0x2707b3['uKftg'],'code':_0x23bd88[_0x5c09d7(0x229)][_0x5c09d7(0x227)]()},'type':_0x23bd88['type'],'scope':_0x23bd88['fullTitle'](),'scopes':this[_0x5c09d7(0x257)](_0x23bd88),'file_name':_0x57b489,'vc_filepath':_0x108810?path['relative'](_0x108810,_0x3ba76e):null,'location':_0x57b489,'result':_0x34fab0,'failure_reason':_0x5dbb18,'duration_in_ms':_0x23bd88['duration']||(_0x3e8ce8[_0x5c09d7(0x1d8)]||_0x3e8ce8[_0x5c09d7(0x270)])?_0x2707b3[_0x5c09d7(0x208)](Date['now'](),new Date(_0x23bd88[_0x5c09d7(0x28e)])[_0x5c09d7(0x25b)]()):null,'started_at':new Date(_0x23bd88[_0x5c09d7(0x28e)])[_0x5c09d7(0x26d)](),'finished_at':_0x180c4b,'failure':testOpsHelper[_0x5c09d7(0x29a)][_0x5c09d7(0x265)](null,_0x1951e3),'failure_type':!_0x5dbb18?null:testOpsHelper['getFailureType'](_0x5dbb18),'retry_of':_0x23bd88[_0x5c09d7(0x25f)]||null,'tags':_0x23bd88[_0x5c09d7(0x2aa)]||[],'customRerunParam':{'rerun_name':_0x23bd88['fullTitle']()}};_0x2707b3['PkDbF'](appendTesthubParams,_0x45cda4,_0x3658ac,_0x23bd88,FRAMEWORKS[_0x5c09d7(0x21b)]);if(_0x3e8ce8[_0x5c09d7(0x1d9)])[_0x45cda4[_0x5c09d7(0x22d)],_0x45cda4[_0x5c09d7(0x228)]]=[this[_0x5c09d7(0x1fa)](_0x23bd88),_0x23bd88['ctx'][_0x5c09d7(0x226)][_0x5c09d7(0x240)]],_0x3e8ce8[_0x5c09d7(0x1d8)]?_0x2707b3[_0x5c09d7(0x212)](_0x45cda4[_0x5c09d7(0x2b7)],_0x2707b3[_0x5c09d7(0x1db)])&&(_0x45cda4[_0x5c09d7(0x2b7)]=_0x2707b3[_0x5c09d7(0x1f3)]):_0x45cda4[_0x5c09d7(0x229)]={};else _0x3e8ce8[_0x5c09d7(0x226)]&&(this[_0x5c09d7(0x1e9)](_0x23bd88),_0x3e8ce8[_0x5c09d7(0x270)]&&this[_0x5c09d7(0x1f9)](_0x23bd88),(_0x3e8ce8['finished']||_0x3e8ce8[_0x5c09d7(0x270)])&&(_0x45cda4['hooks']=this[_0x5c09d7(0x205)](_0x23bd88)));this[_0x5c09d7(0x22f)]&&(_0x3e8ce8[_0x5c09d7(0x289)]||_0x3e8ce8[_0x5c09d7(0x270)])&&(_0x45cda4[_0x2707b3[_0x5c09d7(0x206)]]=this[_0x5c09d7(0x225)](this[_0x5c09d7(0x22f)]));_0x3e8ce8['test']&&_0x3e8ce8['finished']&&_0x23bd88[_0x5c09d7(0x216)]&&(_0x45cda4[_0x2707b3[_0x5c09d7(0x1f1)]]={'feature':{'name':_0x23bd88[_0x5c09d7(0x282)]['feature']['name'],'path':_0x45cda4[_0x5c09d7(0x254)],'description':_0x23bd88[_0x5c09d7(0x282)]['comment']},'scenario':{'name':_0x23bd88[_0x5c09d7(0x240)]},'steps':_0x23bd88[_0x5c09d7(0x216)]});const _0x31adda=_0x45cda4[_0x2707b3[_0x5c09d7(0x27b)]][0x0];_0x31adda&&(_0x45cda4[_0x2707b3[_0x5c09d7(0x1fb)]]=_0x31adda[_0x2707b3[_0x5c09d7(0x272)]],_0x45cda4[_0x2707b3[_0x5c09d7(0x2bd)]]=_0x31adda[_0x2707b3[_0x5c09d7(0x1fd)]]);if(_0x23bd88['bddSteps'])for(const _0x191aad of _0x23bd88['bddSteps']){!_0x191aad[_0x5c09d7(0x297)]&&(_0x191aad[_0x5c09d7(0x297)]=new Date()[_0x5c09d7(0x26d)](),_0x2707b3[_0x5c09d7(0x2c3)](_0x191aad['result'],_0x2707b3['Aiaax'])&&(_0x31adda?(_0x191aad[_0x5c09d7(0x2b7)]=_0x2707b3[_0x5c09d7(0x1db)],_0x191aad[_0x5c09d7(0x29b)]=_0x31adda[_0x2707b3[_0x5c09d7(0x272)]][0x0]):_0x191aad[_0x5c09d7(0x2b7)]=_0x2707b3['ULHOr']));}const _0x866b56={};_0x866b56['event_type']=_0x3e8ce8[_0x5c09d7(0x270)]?TEST_EVENTS[_0x5c09d7(0x27f)]:_0x3658ac;const _0x5753d5=_0x866b56;return _0x3e8ce8[_0x5c09d7(0x1d9)]?_0x5753d5[_0x2707b3[_0x5c09d7(0x262)]]=_0x45cda4:_0x5753d5[_0x2707b3['wZztz']]=_0x45cda4,_0x5753d5;}catch(_0x5aea59){logger['debug']('Exception\x20in\x20populating\x20test\x20data\x20for\x20event\x20'+_0x3658ac+_0x5c09d7(0x2b5)+_0x5aea59);}}async[a4_0x5e4407(0x1de)](_0xdc5d96,_0xe04e6){const _0x3a7eb3=a4_0x5e4407;if(!this[_0x3a7eb3(0x2b0)]||!_0xe04e6||!_0xdc5d96)return![];try{return await SessionHandler['uploadEventData'](_0xe04e6);}catch(_0x244049){logger[_0x3a7eb3(0x1e7)](_0x3a7eb3(0x207)+_0xdc5d96+_0x3a7eb3(0x2b5)+_0x244049);}}['initializeBddStep'](_0x2f251d){const _0x4bfa74=a4_0x5e4407,_0x5d0caf={};_0x5d0caf[_0x4bfa74(0x22b)]=_0x4bfa74(0x278);const _0x50cfaf=_0x5d0caf;return{'id':_0x2f251d[_0x4bfa74(0x288)],'text':_0x2f251d[_0x4bfa74(0x2b8)],'keyword':_0x2f251d[_0x4bfa74(0x246)],'started_at':_0x2f251d[_0x4bfa74(0x28e)][_0x4bfa74(0x26d)](),'result':_0x50cfaf[_0x4bfa74(0x22b)]};}[a4_0x5e4407(0x215)](_0x3c2350){const _0x3d7b43=a4_0x5e4407,_0x2223b1={'doVYK':function(_0x5d6a1d){return _0x5d6a1d();}};!this[_0x3d7b43(0x24a)]['bddSteps']&&(this[_0x3d7b43(0x24a)][_0x3d7b43(0x216)]=[]),!_0x3c2350[_0x3d7b43(0x288)]&&(_0x3c2350[_0x3d7b43(0x288)]=_0x2223b1[_0x3d7b43(0x2b2)](uuidv4),_0x3c2350[_0x3d7b43(0x28e)]=new Date(),this[_0x3d7b43(0x24a)][_0x3d7b43(0x216)]['push'](this[_0x3d7b43(0x2be)](_0x3c2350)));}[a4_0x5e4407(0x1e0)](_0x4d96aa){const _0x242c7e=a4_0x5e4407,_0x10a302={'qGwaP':function(_0x55f81e,_0xb7b4f7){return _0x55f81e(_0xb7b4f7);},'vFpUS':_0x242c7e(0x27d),'kKLNE':_0x242c7e(0x278),'rQfzo':_0x242c7e(0x25c),'aAySX':function(_0x5e5ed1,_0x25b5aa){return _0x5e5ed1-_0x25b5aa;}};let _0x1d4b14=this[_0x242c7e(0x24a)][_0x242c7e(0x216)]['find'](_0x157d8e=>_0x157d8e['id']===_0x4d96aa[_0x242c7e(0x288)]);_0x10a302[_0x242c7e(0x28b)](isUndefined,_0x1d4b14)&&(_0x1d4b14=this['initializeBddStep'](_0x4d96aa)),_0x1d4b14[_0x242c7e(0x2b7)]=[_0x10a302[_0x242c7e(0x295)],_0x10a302[_0x242c7e(0x232)]]['includes'](_0x4d96aa[_0x242c7e(0x287)])?_0x10a302['rQfzo']:_0x4d96aa[_0x242c7e(0x287)],_0x1d4b14['finished_at']=new Date()['toISOString'](),_0x1d4b14[_0x242c7e(0x2b1)]=_0x10a302[_0x242c7e(0x27a)](Date[_0x242c7e(0x2ae)](),_0x4d96aa[_0x242c7e(0x28e)][_0x242c7e(0x25b)]()),_0x1d4b14[_0x242c7e(0x29b)]=_0x4d96aa[_0x242c7e(0x2ac)]?_0x4d96aa[_0x242c7e(0x2ac)][_0x242c7e(0x21d)]:null;}}const a4_0x56c8a3={};function a4_0x441e(){const _0x4f7860=['failed','../../helpers/testhub/utils.js','204OwkZrs','statSync','forEach','toISOString','failed\x20to\x20get\x20root\x20parent\x20file\x20','TMgzn','skipped','failure_reason_expanded','LtvgG','NNyVj','DIIzo','NoPVj','match','defineProperty','pending','ZlVeS','aAySX','jjzez','TestRunStarted','success','__cloud_provider___','TEST_RUN_FINISHED','HookRunFinished','1137HuaijB','parent','DcNsK','1090AhHyPN','ABZtj','groups','status','stepAnalyticsId','started','DSeAM','qGwaP','lbAez','ljQDm','startedAt','fUSkk','launch','saNjH','UPxiS','mODAR','Playwright','vFpUS','meta','finished_at','Aiaax','test_run','failureData','failure','winstonLogger','ZvtdQ','replace','../playwright/accessibility-helper','oFfYG','_testEnv','mNwhl','_afterAll','frameworkName','codeceptjs','path','pbohu','37290QslGdm','EXZPx','tags','uuid','err','./helper.js','now','8jLgAcA','enabled','duration','doVYK','concat','PHLph','\x20with\x20error\x20:\x20','bs:addLog:','result','text','setupBrowserDetails','542170VjQZtO','PLAYWRIGHT_HUB_URL','AEdpP','BhkOq','initializeBddStep','STATE_PASSED','uCPQB','Failed\x20to\x20parse\x20wsendpoint\x20','GdVRj','VOhVU','CBTSessionCreated','test_run_uuid','finished','hook','PqrPd','vPWMo','voZVt','qZSrv','fireEvent','inspect','bddStepFinish','connectOverCDP','EfGHi','kyrNP','then','O11yHelper','file','debug','328005zbinoL','mapTestHooks','LaCKo','hookAnalyticsId','patchConsoleLogger','findGitConfig','accessibilityPlatform','javascript','Aymge','JZVHO','testAnalyticsId','ULHOr','util','KQeLt','IEnwd','_beforeEach','Checking\x20for\x20accessibility\x20automation\x20session\x20with\x20','resetSkipTestHooks','getHookType','QHSQO','logs','TGxAB','hook_run','FlPwz','Faeit','uLxoc','suites','pid','XHDAi','getHooksForTest','WoZKp','Exception\x20in\x20sending\x20test\x20data\x20for\x20event\x20','UHwEa','integrations','821158YlOtLK','start','join','cMQbX','markedStatus','../../helpers/logger','xFSyg','currentHook','HGdnn','browserstack','dirname','bddStepStart','bddSteps','__platformCaps','ZglyA','prototype','495Bfsuak','CODECEPT','HookRunStarted','message','wsEndpoint','eGkmF','1250spHekb','jkQtZ','Exception\x20in\x20uploading\x20log\x20data\x20to\x20','length','onLQX','getCBTInfo','test','toString','name','body','split','KvFdN','fzzsp','hook_type','appendTestItemLog','driver','lib','khZmn','kKLNE','toLowerCase','hook_run_uuid','ctx','../playwright/sessionDetails','LogCreated','../../helpers/test-observability/utils','FCXPR','CecAX','195zBwtYA','.git','RvlWk','12708iwJwCG','DCKGI','title','includes','_paths','STATE_FAILED','../../helpers/test-observability/sessionHandler','shutdown','keyword','Exception\x20in\x20uploading\x20platform\x20details\x20to\x20','push','stop','currentTest','_beforeAll','errorsDetailed','File\x20path\x20could\x20not\x20be\x20found','config','HOOK_RUN_STARTED','KwOye','cwd','bind','wqXdv','file_name','fTRWo','TEST_EVENTS','getHierarchy','3|2|4|5|0|1','getRootParentFile','uploadEventData','getTime','passed','stringify','event_type','retryOf','TEST_RUN_SKIPPED','getInstance','BwSPI','ZxWfl','Not\x20able\x20to\x20import\x20Browser','apply','client','371WGVnzO'];a4_0x441e=function(){return _0x4f7860;};return a4_0x441e();}function a4_0x370f(_0x3bc5c6,_0x3006f0){const _0x441edc=a4_0x441e();return a4_0x370f=function(_0x370fbc,_0x5baa57){_0x370fbc=_0x370fbc-0x1d7;let _0x52b1e8=_0x441edc[_0x370fbc];return _0x52b1e8;},a4_0x370f(_0x3bc5c6,_0x3006f0);}a4_0x56c8a3[a4_0x5e4407(0x1e5)]=O11yHelper,a4_0x56c8a3[a4_0x5e4407(0x2bf)]=STATE_PASSED,a4_0x56c8a3[a4_0x5e4407(0x243)]=STATE_FAILED,a4_0x56c8a3[a4_0x5e4407(0x256)]=TEST_EVENTS,module['exports']=a4_0x56c8a3;