const a4_0x5cd52e=a4_0x2723;function a4_0x2723(_0x452978,_0x6a94fb){const _0x850a58=a4_0x850a();return a4_0x2723=function(_0x2723e0,_0x195739){_0x2723e0=_0x2723e0-0x122;let _0x4f591b=_0x850a58[_0x2723e0];return _0x4f591b;},a4_0x2723(_0x452978,_0x6a94fb);}(function(_0x45c7e6,_0x2d056a){const _0x468ede=a4_0x2723,_0x54b3d4=_0x45c7e6();while(!![]){try{const _0x11c29b=-parseInt(_0x468ede(0x137))/0x1*(-parseInt(_0x468ede(0x1ed))/0x2)+-parseInt(_0x468ede(0x1ea))/0x3*(-parseInt(_0x468ede(0x201))/0x4)+-parseInt(_0x468ede(0x184))/0x5*(parseInt(_0x468ede(0x1c7))/0x6)+parseInt(_0x468ede(0x150))/0x7+parseInt(_0x468ede(0x1e4))/0x8+-parseInt(_0x468ede(0x1cb))/0x9*(parseInt(_0x468ede(0x141))/0xa)+parseInt(_0x468ede(0x1d6))/0xb*(-parseInt(_0x468ede(0x1bd))/0xc);if(_0x11c29b===_0x2d056a)break;else _0x54b3d4['push'](_0x54b3d4['shift']());}catch(_0x407bd5){_0x54b3d4['push'](_0x54b3d4['shift']());}}}(a4_0x850a,0xc9098));const path=require(a4_0x5cd52e(0x19d)),fs=require('fs'),{v4:uuidv4}=require(a4_0x5cd52e(0x163)),{importFileFromPWCore,nestedKeyValue,parseWSEndpoint,isUndefined}=require(a4_0x5cd52e(0x1b1)),testOpsHelper=require('../../helpers/test-observability/utils'),{getTestEnv}=require(a4_0x5cd52e(0x162)),{FRAMEWORKS}=require(a4_0x5cd52e(0x193)),logger=require(a4_0x5cd52e(0x1c3))[a4_0x5cd52e(0x1e8)],SessionHandler=require(a4_0x5cd52e(0x1bc)),RequestQueueHandler=require(a4_0x5cd52e(0x1d9)),PlaywrightSessionDetails=require('../playwright/sessionDetails'),debug=testOpsHelper[a4_0x5cd52e(0x181)],{processAccessibilityCaps}=require(a4_0x5cd52e(0x1ff)),Constants=require(a4_0x5cd52e(0x1a0)),{fetchPlatformDetails}=require(a4_0x5cd52e(0x15a)),{shouldProcessEventForTesthub,appendTesthubParams}=require('../../helpers/testhub/utils.js'),STATE_PASSED='passed',STATE_FAILED=a4_0x5cd52e(0x186),a4_0x445912={};a4_0x445912['TEST_RUN_STARTED']=a4_0x5cd52e(0x1ef),a4_0x445912[a4_0x5cd52e(0x1c6)]='TestRunFinished',a4_0x445912[a4_0x5cd52e(0x1ee)]=a4_0x5cd52e(0x20d),a4_0x445912[a4_0x5cd52e(0x13c)]='HookRunStarted',a4_0x445912['HOOK_RUN_FINISHED']=a4_0x5cd52e(0x1fe);const TEST_EVENTS=a4_0x445912,parseEvent=_0x4a541d=>{const _0x461c87=a4_0x5cd52e,_0x9420e4={};_0x9420e4[_0x461c87(0x12a)]=function(_0x4d05a7,_0x5eb443){return _0x4d05a7<_0x5eb443;},_0x9420e4['zBXeR']=function(_0x525839,_0x557a95){return _0x525839===_0x557a95;},_0x9420e4['QcPll']='test',_0x9420e4[_0x461c87(0x19a)]=_0x461c87(0x152),_0x9420e4[_0x461c87(0x1f5)]=function(_0x5105b7,_0x40ac21){return _0x5105b7===_0x40ac21;},_0x9420e4[_0x461c87(0x1d0)]='skipped',_0x9420e4[_0x461c87(0x189)]=_0x461c87(0x176),_0x9420e4[_0x461c87(0x12e)]=function(_0x2a1e83,_0x382c57){return _0x2a1e83===_0x382c57;},_0x9420e4[_0x461c87(0x17c)]=_0x461c87(0x160);const _0x24749b=_0x9420e4,_0x37f196=_0x4a541d[_0x461c87(0x169)](/^(.*)Run(.*)$/);if(!_0x37f196)return null;if(_0x24749b[_0x461c87(0x12a)](_0x37f196[_0x461c87(0x20e)],0x3))return null;const _0x125707=_0x37f196[0x1][_0x461c87(0x172)](),_0x56c3bc=_0x37f196[0x2]['toLowerCase']();return{'test':_0x24749b[_0x461c87(0x1b4)](_0x125707,_0x24749b[_0x461c87(0x165)]),'hook':_0x24749b[_0x461c87(0x1b4)](_0x125707,_0x24749b[_0x461c87(0x19a)]),'skipped':_0x24749b['UJLtk'](_0x56c3bc,_0x24749b['TYgzT']),'started':_0x24749b[_0x461c87(0x1f5)](_0x56c3bc,_0x24749b[_0x461c87(0x189)]),'finished':_0x24749b[_0x461c87(0x12e)](_0x56c3bc,_0x24749b[_0x461c87(0x17c)])};},mockPWBrowserType=_0x2c5300=>{const _0x467a07=a4_0x5cd52e,_0x3dbaeb={'iLYgb':function(_0x1384ce,_0x3aba10){return _0x1384ce===_0x3aba10;},'vUtEJ':_0x467a07(0x149),'SCSrA':function(_0x4f8cf5,_0x3c4645,_0x199194){return _0x4f8cf5(_0x3c4645,_0x199194);},'liwSs':_0x467a07(0x14e),'Amnpt':function(_0x19f8e7,_0x42d139){return _0x19f8e7(_0x42d139);},'nXaxk':'browserstack','NxNwj':_0x467a07(0x1da),'dZnTT':_0x467a07(0x1a8),'rgVvI':_0x467a07(0x16f),'QHibn':function(_0x1f49c9,_0x19064c){return _0x1f49c9(_0x19064c);},'FJuHQ':_0x467a07(0x16b),'dDEVS':'connect','YTAlU':_0x467a07(0x205)},_0x17cb6f=path[_0x467a07(0x1fc)](_0x3dbaeb[_0x467a07(0x140)],_0x3dbaeb[_0x467a07(0x1a6)],_0x3dbaeb[_0x467a07(0x1dc)]),_0x54ef36=_0x3dbaeb['Amnpt'](importFileFromPWCore,_0x17cb6f);if(!_0x54ef36){_0x3dbaeb[_0x467a07(0x1d2)](debug,_0x3dbaeb[_0x467a07(0x1dd)]);return;}const _0xe3bddd=_0x54ef36[_0x467a07(0x1fd)],_0x307e8a=_0xe3bddd[_0x467a07(0x1e9)];if(_0x307e8a[_0x467a07(0x1ad)])return;const _0x2186ba=_0x307e8a[_0x467a07(0x1a4)];Object[_0x467a07(0x1d7)](_0x307e8a,_0x3dbaeb['dDEVS'],{'get':function(){const _0x299ae1=_0x467a07,_0x4172e0={'BWfTt':function(_0x3280b2,_0x3a5da0){const _0x48977b=a4_0x2723;return _0x3dbaeb[_0x48977b(0x1f8)](_0x3280b2,_0x3a5da0);},'eDSbI':_0x3dbaeb['vUtEJ'],'dgreI':function(_0x4d74bc,_0x19bc59,_0x187801){const _0x5658ec=a4_0x2723;return _0x3dbaeb[_0x5658ec(0x1ce)](_0x4d74bc,_0x19bc59,_0x187801);},'OdUGg':_0x3dbaeb[_0x299ae1(0x143)],'pZhWZ':function(_0x255bb3,_0x20ec07){const _0x42bd19=_0x299ae1;return _0x3dbaeb[_0x42bd19(0x1b2)](_0x255bb3,_0x20ec07);},'zBDbr':_0x3dbaeb['nXaxk']};return async function _0x342046(_0x8715cc,_0x1e0fb9){const _0x1cfab6=_0x299ae1,_0x4fe2d0={'aUoJb':function(_0x5d99c8,_0x43f237){const _0x2a786c=a4_0x2723;return _0x4172e0[_0x2a786c(0x170)](_0x5d99c8,_0x43f237);},'WIpdi':_0x4172e0['eDSbI']},_0x27e994=_0x4172e0[_0x1cfab6(0x1c2)](nestedKeyValue,_0x8715cc,[_0x4172e0[_0x1cfab6(0x1fb)]])||_0x8715cc;let _0x24d606=null,_0xdaeb75=null;try{[_0xdaeb75,_0x24d606]=_0x27e994?_0x4172e0[_0x1cfab6(0x183)](parseWSEndpoint,_0x27e994):[null,null],global['__platformCaps']=_0x24d606,logger['debug'](_0x1cfab6(0x179)+_0xdaeb75),_0xdaeb75[_0x1cfab6(0x147)](Constants[_0x1cfab6(0x1a1)])&&(global['__cloud_provider___']=_0x4172e0['zBDbr']);}catch(_0x23bb4f){logger['debug'](_0x1cfab6(0x1b0)+_0x27e994+'\x20'+_0x23bb4f);}_0x4172e0[_0x1cfab6(0x1c2)](processAccessibilityCaps,_0x24d606,_0xdaeb75);if(global['accessibilityPlatform']){const _0x4e59b6=await _0x307e8a[_0x1cfab6(0x1f0)]['apply'](this,[''+Constants[_0x1cfab6(0x1e1)]+_0x4172e0['pZhWZ'](encodeURIComponent,JSON[_0x1cfab6(0x1ab)](_0x24d606))]);return PlaywrightSessionDetails[_0x1cfab6(0x13d)](_0x4e59b6,_0x2c5300,_0x27e994),_0x4e59b6;}return _0x2186ba['apply'](this,arguments)[_0x1cfab6(0x187)](_0x1965f6=>{const _0x3b95a3=_0x1cfab6;let _0x2b7cd3=_0x8715cc['wsEndpoint'];return _0x4fe2d0[_0x3b95a3(0x19f)](typeof _0x8715cc,_0x4fe2d0['WIpdi'])&&(_0x2b7cd3=_0x8715cc),PlaywrightSessionDetails['setupBrowserDetails'](_0x1965f6,_0x2c5300,_0x2b7cd3),_0x1965f6;});};}});const _0x2210bf=_0x307e8a[_0x467a07(0x205)];Object[_0x467a07(0x1d7)](_0x307e8a,_0x3dbaeb['YTAlU'],{'get':function(){return async function _0x12208c(){const _0xb5ac21=a4_0x2723;return _0x2210bf['apply'](this,arguments)[_0xb5ac21(0x187)](_0x5304bb=>{const _0x47c500=_0xb5ac21;return PlaywrightSessionDetails[_0x47c500(0x13d)](_0x5304bb,null),_0x5304bb;});};}});};class O11yHelper{[a4_0x5cd52e(0x20c)]=null;[a4_0x5cd52e(0x19c)]=null;[a4_0x5cd52e(0x202)]=![];['frameworkName']=![];constructor(_0x24f221,_0x257a73){const _0x292fa0=a4_0x5cd52e,_0x329175={'iQSlb':_0x292fa0(0x14a),'WUQfz':function(_0x3695e3){return _0x3695e3();},'OTXJY':function(_0x5b1878,_0x553025){return _0x5b1878===_0x553025;},'wciEo':'Playwright','iZbhT':function(_0x152ccd,_0x23a202){return _0x152ccd(_0x23a202);}},_0x217bfd=_0x329175[_0x292fa0(0x1af)][_0x292fa0(0x14c)]('|');let _0x59c91b=0x0;while(!![]){switch(_0x217bfd[_0x59c91b++]){case'0':this[_0x292fa0(0x167)]=new testOpsHelper['PathHelper']({'cwd':process['cwd']()},this[_0x292fa0(0x13e)][_0x292fa0(0x17e)]);continue;case'1':this[_0x292fa0(0x202)]=_0x329175[_0x292fa0(0x17b)](shouldProcessEventForTesthub);continue;case'2':this[_0x292fa0(0x166)]=_0x257a73[_0x292fa0(0x166)];continue;case'3':this[_0x292fa0(0x13e)]=_0x329175[_0x292fa0(0x17b)](getTestEnv);continue;case'4':this['driver']=_0x24f221;continue;case'5':this[_0x292fa0(0x1cf)]&&_0x329175[_0x292fa0(0x14d)](this['driver'][_0x292fa0(0x1d5)]['name'],_0x329175['wciEo'])&&_0x329175[_0x292fa0(0x126)](mockPWBrowserType,null);continue;}break;}}[a4_0x5cd52e(0x142)](){const _0x21d070=a4_0x5cd52e;if(!this[_0x21d070(0x202)])return;testOpsHelper[_0x21d070(0x1a2)](),process[_0x21d070(0x12b)](_0x21d070(0x1fa)+process[_0x21d070(0x122)]),process['on']('bs:addLog:'+process[_0x21d070(0x122)],this[_0x21d070(0x16c)]['bind'](this));}async[a4_0x5cd52e(0x1f4)](){const _0x186faa=a4_0x5cd52e;await RequestQueueHandler['getInstance']()[_0x186faa(0x1e0)]();}async[a4_0x5cd52e(0x16c)](_0x52c9ed){const _0x4d9f7d=a4_0x5cd52e,_0x1554dd={'HWNkp':'LogCreated','JeTot':function(_0x40561f,_0x5bb61f){return _0x40561f(_0x5bb61f);}};try{this[_0x4d9f7d(0x19c)]&&!this[_0x4d9f7d(0x19c)][_0x4d9f7d(0x18b)]&&(_0x52c9ed[_0x4d9f7d(0x1df)]=this[_0x4d9f7d(0x19c)][_0x4d9f7d(0x210)]);!_0x52c9ed[_0x4d9f7d(0x1df)]&&this['currentTest']&&!this[_0x4d9f7d(0x20c)][_0x4d9f7d(0x18b)]&&(_0x52c9ed[_0x4d9f7d(0x1be)]=this[_0x4d9f7d(0x20c)][_0x4d9f7d(0x1a7)]);if(_0x52c9ed[_0x4d9f7d(0x1df)]||_0x52c9ed['test_run_uuid']){const _0x4402e9={};_0x4402e9[_0x4d9f7d(0x192)]=_0x1554dd[_0x4d9f7d(0x208)],_0x4402e9[_0x4d9f7d(0x1c4)]=[_0x52c9ed],await SessionHandler[_0x4d9f7d(0x151)](_0x4402e9);}}catch(_0xdc66ae){_0x1554dd[_0x4d9f7d(0x128)](debug,_0x4d9f7d(0x1bb)+_0xdc66ae);}}async['sendCBTInfo'](_0x35761d){const _0x301fcc=a4_0x5cd52e,_0x220722={'USmBh':_0x301fcc(0x211),'uRLjE':function(_0x621303,_0x82f799){return _0x621303(_0x82f799);}};if(!this[_0x301fcc(0x202)])return;const _0x2c9e8e=this['getCBTInfo'](this[_0x301fcc(0x1cf)]);try{const _0x4304f1={};_0x4304f1[_0x301fcc(0x163)]=_0x35761d,_0x4304f1[_0x301fcc(0x1f9)]=_0x2c9e8e;const _0x28410a=_0x4304f1,_0x430b56={};_0x430b56[_0x301fcc(0x192)]=_0x220722[_0x301fcc(0x1e6)],_0x430b56[_0x301fcc(0x213)]=_0x28410a,await SessionHandler[_0x301fcc(0x151)](_0x430b56);}catch(_0xbbf909){_0x220722[_0x301fcc(0x12d)](debug,_0x301fcc(0x1f3)+_0xbbf909);}}[a4_0x5cd52e(0x148)](_0x10d62e){const _0x535383=a4_0x5cd52e,_0x4c2d56={'ACrEv':function(_0x165ef1,_0x25c7ac){return _0x165ef1(_0x25c7ac);}};return _0x4c2d56[_0x535383(0x1cc)](fetchPlatformDetails,_0x10d62e);}['resetSkipTestHooks']=_0x3aec73=>{const _0x1b21ae=a4_0x5cd52e,_0x50d1f6={};_0x50d1f6['GDCvk']='_beforeEach',_0x50d1f6['DVCjr']='_afterEach';const _0x48e383=_0x50d1f6;if(!_0x3aec73||!_0x3aec73[_0x1b21ae(0x13f)])return;[_0x48e383[_0x1b21ae(0x146)],_0x48e383[_0x1b21ae(0x1f6)]][_0x1b21ae(0x130)](_0x5626f3=>{const _0x17a77a=_0x1b21ae,_0x3883e4=_0x3aec73[_0x17a77a(0x13f)][_0x5626f3];_0x3883e4[_0x17a77a(0x130)](_0x2a0526=>{const _0x33ad4e=_0x17a77a;_0x2a0526[_0x33ad4e(0x210)]&&(_0x2a0526['hookAnalyticsId']=null);});});};[a4_0x5cd52e(0x1c5)](_0x452ca4){const _0x4a95f9=a4_0x5cd52e,_0x4579e6={'ntLOh':_0x4a95f9(0x1b5),'QAVpL':function(_0x4d7d86){return _0x4d7d86();},'sippL':function(_0x2d02cf,_0x287a44){return _0x2d02cf===_0x287a44;},'dsJtv':'_afterEach','uDjCE':_0x4a95f9(0x188),'ugafZ':_0x4a95f9(0x1b7),'wlXNF':_0x4a95f9(0x1ac)};if(!_0x452ca4||!_0x452ca4[_0x4a95f9(0x13f)])return;[_0x4579e6['uDjCE'],_0x4579e6['ugafZ'],_0x4579e6[_0x4a95f9(0x15f)],_0x4579e6[_0x4a95f9(0x17d)]][_0x4a95f9(0x130)](_0x4f1a67=>{const _0x4e6885=_0x4a95f9,_0x132972={'WeEUo':_0x4579e6[_0x4e6885(0x145)],'Warmo':function(_0x493d2e){const _0xa540d8=_0x4e6885;return _0x4579e6[_0xa540d8(0x156)](_0x493d2e);},'qloZo':function(_0x592b48,_0x2733cf){const _0x1c2c3f=_0x4e6885;return _0x4579e6[_0x1c2c3f(0x18a)](_0x592b48,_0x2733cf);},'LYZbQ':_0x4579e6[_0x4e6885(0x17d)]},_0x383f2e=_0x452ca4[_0x4e6885(0x13f)][_0x4f1a67]||[];_0x383f2e[_0x4e6885(0x130)](_0x16c291=>{const _0x30db05=_0x4e6885;if(_0x16c291[_0x30db05(0x212)]['includes'](_0x132972['WeEUo']))return;if(!_0x16c291[_0x30db05(0x210)])_0x16c291[_0x30db05(0x210)]=_0x132972['Warmo'](uuidv4);else _0x16c291[_0x30db05(0x18b)]&&_0x132972['qloZo'](_0x4f1a67,_0x132972[_0x30db05(0x194)])&&(_0x16c291[_0x30db05(0x210)]=_0x132972[_0x30db05(0x1a9)](uuidv4),delete _0x16c291['markedStatus']);});}),this[_0x4a95f9(0x1c5)](_0x452ca4[_0x4a95f9(0x13f)]);}[a4_0x5cd52e(0x159)](_0x37a35e){const _0x331b93=a4_0x5cd52e,_0x2967fe={};_0x2967fe[_0x331b93(0x175)]=_0x331b93(0x188),_0x2967fe[_0x331b93(0x206)]=_0x331b93(0x1b7),_0x2967fe[_0x331b93(0x1f2)]=_0x331b93(0x1ac),_0x2967fe[_0x331b93(0x154)]=_0x331b93(0x155);const _0xd5cbb4=_0x2967fe;if(!_0x37a35e||!_0x37a35e[_0x331b93(0x13f)])return[];const _0x3d6217=[];return[_0xd5cbb4[_0x331b93(0x175)],_0xd5cbb4[_0x331b93(0x206)],_0xd5cbb4[_0x331b93(0x1f2)],_0xd5cbb4['fDZHM']][_0x331b93(0x130)](_0x1d0486=>{const _0xf26232=_0x331b93,_0x91dfa1=_0x37a35e[_0xf26232(0x13f)][_0x1d0486]||[];_0x91dfa1['forEach'](_0x151fbf=>{const _0x373d55=_0xf26232;_0x151fbf[_0x373d55(0x210)]&&_0x3d6217[_0x373d55(0x1b6)](_0x151fbf[_0x373d55(0x210)]);});}),[]['concat'](_0x3d6217,this[_0x331b93(0x159)](_0x37a35e['parent']));}[a4_0x5cd52e(0x1c1)](_0x27d698){const _0x225180=a4_0x5cd52e,_0x276879=/^"(?<hook>.*)" hook:.*$/,_0x1c6d5d=_0x27d698[_0x225180(0x212)],_0x1924ba=_0x1c6d5d[_0x225180(0x169)](_0x276879);if(_0x1924ba&&_0x1924ba[_0x225180(0x13b)])return _0x1924ba[_0x225180(0x13b)]['hook'][_0x225180(0x19b)]()[_0x225180(0x203)]('\x20','_');return null;}[a4_0x5cd52e(0x19e)](_0x151d08){const _0x3aa2e1=a4_0x5cd52e,_0x3122c2={};_0x3122c2[_0x3aa2e1(0x178)]=function(_0x1afd6a,_0xade9c5){return _0x1afd6a===_0xade9c5;},_0x3122c2[_0x3aa2e1(0x13a)]=function(_0x208d7d,_0x223458){return _0x208d7d===_0x223458;},_0x3122c2[_0x3aa2e1(0x123)]=function(_0x22812b,_0x282fec){return _0x22812b===_0x282fec;},_0x3122c2[_0x3aa2e1(0x136)]=_0x3aa2e1(0x12c),_0x3122c2[_0x3aa2e1(0x177)]=_0x3aa2e1(0x1e3);const _0x1b067c=_0x3122c2,_0x354635=path[_0x3aa2e1(0x1b9)];if(_0x1b067c['MoiKF'](_0x151d08,null)||_0x1b067c[_0x3aa2e1(0x13a)](_0x151d08,'')||_0x1b067c[_0x3aa2e1(0x178)](_0x151d08,_0x354635)||_0x1b067c[_0x3aa2e1(0x123)](_0x151d08,path['dirname'](_0x151d08)))return null;try{return fs[_0x3aa2e1(0x15c)](path['join'](_0x151d08,_0x1b067c['GCiXq'],_0x1b067c[_0x3aa2e1(0x177)])),_0x151d08;}catch(_0x4bc3dd){const _0x132ec8=path[_0x3aa2e1(0x161)](_0x151d08);return this[_0x3aa2e1(0x19e)](_0x132ec8);}}[a4_0x5cd52e(0x1b8)](_0x255df0){const _0x234e52=a4_0x5cd52e,_0x1ddc92={};_0x1ddc92['jEuHu']=function(_0x2737e1,_0x221a05){return _0x2737e1>_0x221a05;};const _0x4335bd=_0x1ddc92;if(_0x255df0[_0x234e52(0x1ba)])return _0x255df0['file'];if(_0x255df0['ctx']){const _0x46fe6e=_0x255df0[_0x234e52(0x1d8)]['currentTest']?this[_0x234e52(0x1b8)](_0x255df0[_0x234e52(0x1d8)][_0x234e52(0x20c)]):null;if(_0x46fe6e)return _0x46fe6e;}if(_0x255df0[_0x234e52(0x13f)]){const _0x5ea762=this[_0x234e52(0x1b8)](_0x255df0[_0x234e52(0x13f)])||(_0x255df0['parent'][_0x234e52(0x1d8)]&&_0x255df0[_0x234e52(0x13f)]['ctx'][_0x234e52(0x20c)]?this[_0x234e52(0x1b8)](_0x255df0[_0x234e52(0x13f)][_0x234e52(0x1d8)]['currentTest']):null);if(_0x5ea762)return _0x5ea762;_0x255df0['parent'][_0x234e52(0x124)]&&_0x4335bd['jEuHu'](_0x255df0[_0x234e52(0x13f)][_0x234e52(0x124)][_0x234e52(0x20e)],0x0)&&_0x255df0[_0x234e52(0x13f)][_0x234e52(0x124)][_0x234e52(0x130)](_0x392062=>{const _0xf2d3db=_0x234e52,_0x42a769=_0x392062[_0xf2d3db(0x1d8)]?this[_0xf2d3db(0x1b8)](_0x392062[_0xf2d3db(0x1d8)]):null;if(_0x42a769)return _0x42a769;});}return null;}[a4_0x5cd52e(0x1b3)](_0x4c50df){const _0x3e933d=a4_0x5cd52e,_0x296d89={};_0x296d89[_0x3e933d(0x144)]=function(_0x3b7ab0,_0x3fa5c4){return _0x3b7ab0!==_0x3fa5c4;};const _0x109796=_0x296d89,_0x19c202=[];if(_0x4c50df&&_0x4c50df[_0x3e933d(0x13f)]){let _0x1981dd=_0x4c50df[_0x3e933d(0x13f)];while(_0x1981dd&&_0x109796[_0x3e933d(0x144)](_0x1981dd['title'],'')){_0x19c202[_0x3e933d(0x1b6)](_0x1981dd['title']),_0x1981dd=_0x1981dd[_0x3e933d(0x13f)];}}return _0x19c202;}[a4_0x5cd52e(0x15b)](_0x89e09d,_0x4f47b5,_0x45f85f=undefined){const _0x422d7e=a4_0x5cd52e,_0xfbd7f1={'KWXIl':function(_0x2b395b,_0x38703d){return _0x2b395b(_0x38703d);},'fRWPQ':function(_0x2a44fc){return _0x2a44fc();},'RceLl':function(_0x4f7696){return _0x4f7696();},'DYtmG':function(_0xb90f0f,_0x27e313){return _0xb90f0f(_0x27e313);},'nBGuP':_0x422d7e(0x18e),'PlbHY':'err','ThSZR':function(_0x5c034e,_0x56d216){return _0x5c034e!==_0x56d216;},'XzruP':_0x422d7e(0x158),'rAGqx':_0x422d7e(0x1eb),'bFWfL':_0x422d7e(0x186),'zMOlE':_0x422d7e(0x153),'YWJcI':_0x422d7e(0x1bf),'dpBzr':'javascript','fGyXF':function(_0x217877,_0x406a7b){return _0x217877-_0x406a7b;},'UJoDs':function(_0x4b3ac1,_0x28cce9,_0x3641e2,_0x44f4d0,_0x47fb1d){return _0x4b3ac1(_0x28cce9,_0x3641e2,_0x44f4d0,_0x47fb1d);},'jQcWP':function(_0x1c8633,_0x1b6b2e){return _0x1c8633!==_0x1b6b2e;},'uokHs':_0x422d7e(0x1f9),'hJIop':'meta','UioPj':_0x422d7e(0x200),'exXHG':_0x422d7e(0x138),'ykQoT':_0x422d7e(0x132),'yTpZM':'failure_reason_expanded','MJCNu':'expanded','qmBlR':function(_0x760687,_0x5696b0){return _0x760687===_0x5696b0;},'BpDWk':'hook_run','GRaLZ':_0x422d7e(0x213)};if(!this[_0x422d7e(0x202)])return;try{if(_0x4f47b5['fn']&&_0x4f47b5['fn']['toString']()[_0x422d7e(0x169)](/browserstack internal helper hook/))return;const _0x1e4e55=_0xfbd7f1[_0x422d7e(0x133)](parseEvent,_0x89e09d);if(!_0x1e4e55)return;if(_0x1e4e55[_0x422d7e(0x171)]){this['currentTest']=_0x4f47b5,this[_0x422d7e(0x19c)]=null;if(_0x1e4e55[_0x422d7e(0x176)]||_0x1e4e55['skipped']){_0x4f47b5['startedAt']=new Date(),_0x4f47b5['markedStatus']=![];if(!_0x4f47b5[_0x422d7e(0x1a7)])_0x4f47b5[_0x422d7e(0x1a7)]=_0xfbd7f1[_0x422d7e(0x20f)](uuidv4);else _0x4f47b5['markedStatus']&&(!_0x4f47b5[_0x422d7e(0x18c)]&&(_0x4f47b5['retryOf']=_0x4f47b5[_0x422d7e(0x1a7)]),_0x4f47b5[_0x422d7e(0x1a7)]=_0xfbd7f1[_0x422d7e(0x20f)](uuidv4));}}else{if(_0x1e4e55[_0x422d7e(0x152)]){this[_0x422d7e(0x19c)]=_0x4f47b5;if(_0x1e4e55['started']){_0x4f47b5['startedAt']=new Date(),_0x4f47b5[_0x422d7e(0x18b)]=![];if(!_0x4f47b5[_0x422d7e(0x210)])_0x4f47b5[_0x422d7e(0x210)]=_0xfbd7f1['RceLl'](uuidv4);else _0x4f47b5[_0x422d7e(0x210)]&&_0x4f47b5[_0x422d7e(0x18b)]&&(_0x4f47b5[_0x422d7e(0x210)]=_0xfbd7f1[_0x422d7e(0x16e)](uuidv4));}}}if(_0x1e4e55[_0x422d7e(0x160)]&&_0x4f47b5[_0x422d7e(0x18b)])return;let _0x5c73f8;try{_0x5c73f8=this['getRootParentFile'](_0x4f47b5);}catch(_0x21b7e2){logger[_0x422d7e(0x181)](_0x422d7e(0x173)+_0x21b7e2),_0x5c73f8=null;}const _0xc7a86e=_0xfbd7f1[_0x422d7e(0x20b)](require,_0xfbd7f1['nBGuP']);let _0x401d30=[];_0x45f85f&&(_0x401d30=[_0x45f85f,_0xfbd7f1[_0x422d7e(0x12f)]]);const _0x571e13=_0xfbd7f1[_0x422d7e(0x1a5)](_0x4f47b5[_0x422d7e(0x14f)],undefined)?_0xc7a86e['inspect'](_0x4f47b5['errorsDetailed'][0x0]):_0xfbd7f1['ThSZR'](_0x45f85f,undefined)?_0x45f85f[_0x422d7e(0x134)]():undefined,_0x39e55e=_0x5c73f8?this[_0x422d7e(0x19e)](_0x5c73f8):null,_0x4df2c2=_0x5c73f8?this[_0x422d7e(0x167)][_0x422d7e(0x1f1)](this[_0x422d7e(0x1b8)](_0x4f47b5)):_0xfbd7f1[_0x422d7e(0x207)];let _0x4ad7e2=_0xfbd7f1['rAGqx'];const _0x17e5cf=!_0x1e4e55[_0x422d7e(0x176)]?new Date()['toISOString']():null;if(_0x1e4e55[_0x422d7e(0x160)])_0x4ad7e2=_0x45f85f?_0xfbd7f1[_0x422d7e(0x1ca)]:_0xfbd7f1[_0x422d7e(0x1e5)],_0x4f47b5['markedStatus']=!![];else _0x1e4e55['skipped']&&(_0x4ad7e2=_0xfbd7f1[_0x422d7e(0x127)],_0x4f47b5[_0x422d7e(0x18b)]=!![]);const _0x4610fd={'framework':this[_0x422d7e(0x166)],'uuid':_0x4f47b5[_0x422d7e(0x1a7)]||_0x4f47b5[_0x422d7e(0x210)],'name':_0x4f47b5[_0x422d7e(0x212)],'body':{'lang':_0xfbd7f1['dpBzr'],'code':_0x4f47b5[_0x422d7e(0x191)][_0x422d7e(0x134)]()},'type':_0x4f47b5[_0x422d7e(0x129)],'scope':_0x4f47b5['fullTitle'](),'scopes':this[_0x422d7e(0x1b3)](_0x4f47b5),'file_name':_0x4df2c2,'vc_filepath':_0x39e55e?path[_0x422d7e(0x1c0)](_0x39e55e,_0x5c73f8):null,'location':_0x4df2c2,'result':_0x4ad7e2,'failure_reason':_0x571e13,'duration_in_ms':_0x4f47b5[_0x422d7e(0x196)]||(_0x1e4e55['finished']||_0x1e4e55[_0x422d7e(0x1bf)])?_0xfbd7f1[_0x422d7e(0x204)](Date['now'](),new Date(_0x4f47b5[_0x422d7e(0x131)])[_0x422d7e(0x168)]()):null,'started_at':new Date(_0x4f47b5[_0x422d7e(0x131)])[_0x422d7e(0x139)](),'finished_at':_0x17e5cf,'failure':testOpsHelper[_0x422d7e(0x17a)][_0x422d7e(0x180)](null,_0x401d30),'failure_type':!_0x571e13?null:testOpsHelper['getFailureType'](_0x571e13),'retry_of':_0x4f47b5[_0x422d7e(0x18c)]||null,'tags':_0x4f47b5[_0x422d7e(0x18f)]||[],'customRerunParam':{'rerun_name':_0x4f47b5[_0x422d7e(0x1e7)]()}};_0xfbd7f1[_0x422d7e(0x15d)](appendTesthubParams,_0x4610fd,_0x89e09d,_0x4f47b5,FRAMEWORKS[_0x422d7e(0x15e)]);if(_0x1e4e55[_0x422d7e(0x152)])[_0x4610fd['hook_type'],_0x4610fd['name']]=[this['getHookType'](_0x4f47b5),_0x4f47b5[_0x422d7e(0x1d8)][_0x422d7e(0x171)][_0x422d7e(0x212)]],_0x1e4e55[_0x422d7e(0x160)]?_0xfbd7f1['jQcWP'](_0x4610fd[_0x422d7e(0x18d)],_0xfbd7f1[_0x422d7e(0x1ca)])&&(_0x4610fd['result']=_0xfbd7f1[_0x422d7e(0x1e5)]):_0x4610fd[_0x422d7e(0x191)]={};else _0x1e4e55[_0x422d7e(0x171)]&&(this['mapTestHooks'](_0x4f47b5),_0x1e4e55[_0x422d7e(0x1bf)]&&this[_0x422d7e(0x199)](_0x4f47b5),(_0x1e4e55[_0x422d7e(0x160)]||_0x1e4e55[_0x422d7e(0x1bf)])&&(_0x4610fd[_0x422d7e(0x1aa)]=this[_0x422d7e(0x159)](_0x4f47b5)));this[_0x422d7e(0x1cf)]&&(_0x1e4e55[_0x422d7e(0x176)]||_0x1e4e55[_0x422d7e(0x1bf)])&&(_0x4610fd[_0xfbd7f1[_0x422d7e(0x215)]]=this[_0x422d7e(0x148)](this['driver']));_0x1e4e55['test']&&_0x1e4e55['finished']&&_0x4f47b5['bddSteps']&&(_0x4610fd[_0xfbd7f1[_0x422d7e(0x174)]]={'feature':{'name':_0x4f47b5[_0x422d7e(0x13f)]['feature']['name'],'path':_0x4610fd[_0x422d7e(0x164)],'description':_0x4f47b5[_0x422d7e(0x13f)][_0x422d7e(0x1c8)]},'scenario':{'name':_0x4f47b5[_0x422d7e(0x212)]},'steps':_0x4f47b5[_0x422d7e(0x16d)]});const _0x228e96=_0x4610fd[_0xfbd7f1[_0x422d7e(0x198)]][0x0];_0x228e96&&(_0x4610fd[_0xfbd7f1[_0x422d7e(0x135)]]=_0x228e96[_0xfbd7f1[_0x422d7e(0x1a3)]],_0x4610fd[_0xfbd7f1['yTpZM']]=_0x228e96[_0xfbd7f1['MJCNu']]);if(_0x4f47b5[_0x422d7e(0x16d)])for(const _0x256867 of _0x4f47b5['bddSteps']){!_0x256867['finished_at']&&(_0x256867[_0x422d7e(0x157)]=new Date()[_0x422d7e(0x139)](),_0xfbd7f1['qmBlR'](_0x256867[_0x422d7e(0x18d)],_0xfbd7f1[_0x422d7e(0x1d4)])&&(_0x228e96?(_0x256867[_0x422d7e(0x18d)]=_0xfbd7f1[_0x422d7e(0x1ca)],_0x256867[_0x422d7e(0x200)]=_0x228e96[_0xfbd7f1[_0x422d7e(0x1a3)]][0x0]):_0x256867[_0x422d7e(0x18d)]=_0xfbd7f1[_0x422d7e(0x1e5)]));}const _0x20e621={};_0x20e621[_0x422d7e(0x192)]=_0x1e4e55['skipped']?TEST_EVENTS[_0x422d7e(0x1c6)]:_0x89e09d;const _0x5484c6=_0x20e621;return _0x1e4e55[_0x422d7e(0x152)]?_0x5484c6[_0xfbd7f1[_0x422d7e(0x1cd)]]=_0x4610fd:_0x5484c6[_0xfbd7f1[_0x422d7e(0x17f)]]=_0x4610fd,_0x5484c6;}catch(_0x3fc029){logger['debug'](_0x422d7e(0x1ae)+_0x89e09d+_0x422d7e(0x1e2)+_0x3fc029);}}async[a4_0x5cd52e(0x1db)](_0x1023da,_0x4e9e10){const _0xff79bd=a4_0x5cd52e;if(!this[_0xff79bd(0x202)]||!_0x4e9e10||!_0x1023da)return![];try{return await SessionHandler[_0xff79bd(0x151)](_0x4e9e10);}catch(_0x433029){logger[_0xff79bd(0x181)]('Exception\x20in\x20sending\x20test\x20data\x20for\x20event\x20'+_0x1023da+'\x20with\x20error\x20:\x20'+_0x433029);}}[a4_0x5cd52e(0x195)](_0x460fd1){const _0xbf6691=a4_0x5cd52e,_0x1d88ed={};_0x1d88ed[_0xbf6691(0x1d3)]=_0xbf6691(0x1eb);const _0x110c87=_0x1d88ed;return{'id':_0x460fd1['stepAnalyticsId'],'text':_0x460fd1['text'],'keyword':_0x460fd1[_0xbf6691(0x16a)],'started_at':_0x460fd1['startedAt'][_0xbf6691(0x139)](),'result':_0x110c87[_0xbf6691(0x1d3)]};}[a4_0x5cd52e(0x125)](_0x2ae1be){const _0x1ed1a9=a4_0x5cd52e,_0x49163f={'kAHPb':function(_0x3a42b6){return _0x3a42b6();}};!this[_0x1ed1a9(0x20c)][_0x1ed1a9(0x16d)]&&(this[_0x1ed1a9(0x20c)][_0x1ed1a9(0x16d)]=[]),!_0x2ae1be[_0x1ed1a9(0x14b)]&&(_0x2ae1be[_0x1ed1a9(0x14b)]=_0x49163f[_0x1ed1a9(0x190)](uuidv4),_0x2ae1be[_0x1ed1a9(0x131)]=new Date(),this[_0x1ed1a9(0x20c)]['bddSteps']['push'](this[_0x1ed1a9(0x195)](_0x2ae1be)));}['bddStepFinish'](_0x11ae35){const _0x5f3e24=a4_0x5cd52e,_0x369d18={'IQMaT':function(_0x42f7e1,_0x46f380){return _0x42f7e1(_0x46f380);},'XYtJm':_0x5f3e24(0x185),'jeynR':_0x5f3e24(0x1eb),'Vwkaz':_0x5f3e24(0x153),'pkAxQ':function(_0xb0adfd,_0x4a5892){return _0xb0adfd-_0x4a5892;}};let _0x38df2c=this[_0x5f3e24(0x20c)][_0x5f3e24(0x16d)]['find'](_0x29ecb6=>_0x29ecb6['id']===_0x11ae35['stepAnalyticsId']);_0x369d18[_0x5f3e24(0x1d1)](isUndefined,_0x38df2c)&&(_0x38df2c=this[_0x5f3e24(0x195)](_0x11ae35)),_0x38df2c[_0x5f3e24(0x18d)]=[_0x369d18[_0x5f3e24(0x182)],_0x369d18[_0x5f3e24(0x1f7)]][_0x5f3e24(0x147)](_0x11ae35[_0x5f3e24(0x197)])?_0x369d18[_0x5f3e24(0x214)]:_0x11ae35['status'],_0x38df2c[_0x5f3e24(0x157)]=new Date()[_0x5f3e24(0x139)](),_0x38df2c['duration']=_0x369d18['pkAxQ'](Date['now'](),_0x11ae35[_0x5f3e24(0x131)][_0x5f3e24(0x168)]()),_0x38df2c[_0x5f3e24(0x200)]=_0x11ae35[_0x5f3e24(0x20a)]?_0x11ae35[_0x5f3e24(0x20a)]['message']:null;}}const a4_0x17aa45={};function a4_0x850a(){const _0x41e81f=['replace','fGyXF','launch','jeGKp','XzruP','HWNkp','exports','err','DYtmG','currentTest','TestRunSkipped','length','fRWPQ','hookAnalyticsId','CBTSessionCreated','title','test_run','Vwkaz','uokHs','pid','LUrjc','suites','bddStepStart','iZbhT','YWJcI','JeTot','type','PCitd','removeAllListeners','.git','uRLjE','jHbaj','PlbHY','forEach','startedAt','backtrace','KWXIl','toString','exXHG','GCiXq','4227neJYxf','failure_backtrace','toISOString','EigML','groups','HOOK_RUN_STARTED','setupBrowserDetails','_testEnv','parent','NxNwj','73100VHJADm','start','liwSs','Ikebk','ntLOh','GDCvk','includes','getCBTInfo','string','1|2|4|3|0|5','stepAnalyticsId','split','OTXJY','wsEndpoint','errorsDetailed','11027429KWbmoa','uploadEventData','hook','passed','fDZHM','_afterEach','QAVpL','finished_at','File\x20path\x20could\x20not\x20be\x20found','getHooksForTest','./helper.js','captureEvent','statSync','UJoDs','CODECEPT','wlXNF','finished','dirname','../mocha/test-observability/mochaUtils','uuid','file_name','QcPll','frameworkName','_paths','getTime','match','keyword','Not\x20able\x20to\x20import\x20Browser','appendTestItemLog','bddSteps','RceLl','browserType.js','BWfTt','test','toLowerCase','failed\x20to\x20get\x20root\x20parent\x20file\x20','hJIop','LAshQ','started','jYiUn','MoiKF','Checking\x20for\x20accessibility\x20automation\x20session\x20with\x20','failureData','WUQfz','VbFfV','dsJtv','location_prefix','GRaLZ','apply','debug','XYtJm','pZhWZ','785GnhJSR','success','failed','then','_beforeAll','MSpwz','sippL','markedStatus','retryOf','result','util','tags','kAHPb','body','event_type','../../helpers/test-observability/constants','LYZbQ','initializeBddStep','duration','status','UioPj','resetSkipTestHooks','VWOin','toUpperCase','currentHook','path','findGitConfig','aUoJb','../utils/constants','BROWSERSTACK','patchConsoleLogger','ykQoT','connect','ThSZR','dZnTT','testAnalyticsId','client','Warmo','hooks','stringify','_beforeEach','obsBrowserTypeMockApplied','Exception\x20in\x20populating\x20test\x20data\x20for\x20event\x20','iQSlb','Failed\x20to\x20parse\x20wsendpoint\x20','../../helpers/helper','Amnpt','getHierarchy','zBXeR','codeceptjs','push','_afterAll','getRootParentFile','sep','file','Exception\x20in\x20uploading\x20log\x20data\x20to\x20Observability\x20with\x20error\x20:\x20','../../helpers/test-observability/sessionHandler','1439364UyhOag','test_run_uuid','skipped','relative','getHookType','dgreI','../../helpers/logger','logs','mapTestHooks','TEST_RUN_FINISHED','34338ZuUqqL','comment','O11yHelper','bFWfL','36PAXymL','ACrEv','BpDWk','SCSrA','driver','TYgzT','IQMaT','QHibn','KnALn','rAGqx','constructor','187XACAMH','defineProperty','ctx','../../helpers/test-observability/requestQueueHandler','lib','fireEvent','rgVvI','FJuHQ','TEST_EVENTS','hook_run_uuid','shutdown','PLAYWRIGHT_HUB_URL','\x20with\x20error\x20:\x20','config','2943888YPavps','zMOlE','USmBh','fullTitle','winstonLogger','prototype','1390449XBJKbW','pending','STATE_FAILED','216IkBDkX','TEST_RUN_SKIPPED','TestRunStarted','connectOverCDP','prefixTestPath','vrptb','Exception\x20in\x20uploading\x20platform\x20details\x20to\x20Observability\x20with\x20error\x20:\x20','stop','UJLtk','DVCjr','jeynR','iLYgb','integrations','bs:addLog:','OdUGg','join','BrowserType','HookRunFinished','../playwright/accessibility-helper','failure','12kMFfTh','enabled'];a4_0x850a=function(){return _0x41e81f;};return a4_0x850a();}a4_0x17aa45[a4_0x5cd52e(0x1c9)]=O11yHelper,a4_0x17aa45['STATE_PASSED']=STATE_PASSED,a4_0x17aa45[a4_0x5cd52e(0x1ec)]=STATE_FAILED,a4_0x17aa45[a4_0x5cd52e(0x1de)]=TEST_EVENTS,module[a4_0x5cd52e(0x209)]=a4_0x17aa45;