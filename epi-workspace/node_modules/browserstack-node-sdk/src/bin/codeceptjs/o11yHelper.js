const a4_0x2c3b6d=a4_0x45bc;(function(_0x43251b,_0x1031d6){const _0x22fa7a=a4_0x45bc,_0x172154=_0x43251b();while(!![]){try{const _0xd8903d=-parseInt(_0x22fa7a(0x107))/0x1+parseInt(_0x22fa7a(0xd5))/0x2*(parseInt(_0x22fa7a(0xa4))/0x3)+parseInt(_0x22fa7a(0xcc))/0x4*(-parseInt(_0x22fa7a(0xe4))/0x5)+parseInt(_0x22fa7a(0xb9))/0x6+-parseInt(_0x22fa7a(0xb3))/0x7+-parseInt(_0x22fa7a(0xfb))/0x8*(-parseInt(_0x22fa7a(0x187))/0x9)+parseInt(_0x22fa7a(0xfc))/0xa;if(_0xd8903d===_0x1031d6)break;else _0x172154['push'](_0x172154['shift']());}catch(_0x2bb7a9){_0x172154['push'](_0x172154['shift']());}}}(a4_0x5a66,0x570da));const path=require(a4_0x2c3b6d(0x138)),fs=require('fs'),{v4:uuidv4}=require('uuid'),{importFileFromPWCore,nestedKeyValue,parseWSEndpoint,isUndefined}=require(a4_0x2c3b6d(0xd8)),testOpsHelper=require(a4_0x2c3b6d(0x13a)),{getTestEnv}=require(a4_0x2c3b6d(0x120)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),logger=require('../../helpers/logger')[a4_0x2c3b6d(0x15b)],SessionHandler=require(a4_0x2c3b6d(0x102)),RequestQueueHandler=require('../../helpers/test-observability/requestQueueHandler'),PlaywrightSessionDetails=require('../playwright/sessionDetails'),debug=testOpsHelper[a4_0x2c3b6d(0xf6)],{processAccessibilityCaps}=require(a4_0x2c3b6d(0x154)),Constants=require(a4_0x2c3b6d(0x153)),{fetchPlatformDetails}=require(a4_0x2c3b6d(0xf8)),{shouldProcessEventForTesthub,appendTesthubParams}=require('../../helpers/testhub/utils.js'),STATE_PASSED='passed',STATE_FAILED=a4_0x2c3b6d(0xa9),a4_0x1adcbc={};a4_0x1adcbc[a4_0x2c3b6d(0x140)]='TestRunStarted',a4_0x1adcbc[a4_0x2c3b6d(0x139)]='TestRunFinished',a4_0x1adcbc[a4_0x2c3b6d(0x17b)]=a4_0x2c3b6d(0x12e),a4_0x1adcbc['HOOK_RUN_STARTED']=a4_0x2c3b6d(0xc0),a4_0x1adcbc[a4_0x2c3b6d(0xde)]='HookRunFinished';const TEST_EVENTS=a4_0x1adcbc,parseEvent=_0x259999=>{const _0x3362e8=a4_0x2c3b6d,_0x34b21f={};_0x34b21f[_0x3362e8(0x15d)]=function(_0x5f4e32,_0x2abed9){return _0x5f4e32<_0x2abed9;},_0x34b21f[_0x3362e8(0x110)]=function(_0xd576f2,_0x3395cb){return _0xd576f2===_0x3395cb;},_0x34b21f['ubEvB']=_0x3362e8(0xb8),_0x34b21f[_0x3362e8(0x122)]=_0x3362e8(0xd0),_0x34b21f['HIWPX']=_0x3362e8(0x11b),_0x34b21f[_0x3362e8(0x166)]=_0x3362e8(0xa7),_0x34b21f[_0x3362e8(0xb0)]=function(_0x3e116e,_0x4508d5){return _0x3e116e===_0x4508d5;},_0x34b21f['rBzmG']='finished';const _0x43d7c0=_0x34b21f,_0x4261bc=_0x259999['match'](/^(.*)Run(.*)$/);if(!_0x4261bc)return null;if(_0x43d7c0['qsucl'](_0x4261bc['length'],0x3))return null;const _0x3132fc=_0x4261bc[0x1][_0x3362e8(0x121)](),_0x462a20=_0x4261bc[0x2][_0x3362e8(0x121)]();return{'test':_0x43d7c0['tbiJy'](_0x3132fc,_0x43d7c0[_0x3362e8(0x16e)]),'hook':_0x43d7c0[_0x3362e8(0x110)](_0x3132fc,_0x43d7c0['eKPOB']),'skipped':_0x43d7c0['tbiJy'](_0x462a20,_0x43d7c0[_0x3362e8(0xda)]),'started':_0x43d7c0[_0x3362e8(0x110)](_0x462a20,_0x43d7c0[_0x3362e8(0x166)]),'finished':_0x43d7c0[_0x3362e8(0xb0)](_0x462a20,_0x43d7c0[_0x3362e8(0x11a)])};},mockPWBrowserType=_0x64a59c=>{const _0xbd2bd0=a4_0x2c3b6d,_0x4b594c={'MGcpG':function(_0x316210,_0x4ff3da){return _0x316210===_0x4ff3da;},'muQhZ':'string','ZxGXj':function(_0xaf77e0,_0x303550,_0x2b2891){return _0xaf77e0(_0x303550,_0x2b2891);},'fhCZT':_0xbd2bd0(0x17c),'kmAMZ':function(_0x542f2c,_0x1ffbb8){return _0x542f2c(_0x1ffbb8);},'Tmxal':_0xbd2bd0(0xc9),'VCIeu':function(_0xa1b7e4,_0x2f0506,_0x2d691b){return _0xa1b7e4(_0x2f0506,_0x2d691b);},'BykHs':_0xbd2bd0(0x137),'AlTcg':_0xbd2bd0(0xbe),'PXAIT':'browserType.js','vejCP':_0xbd2bd0(0x114),'xVmxh':_0xbd2bd0(0xe9),'ipSvN':_0xbd2bd0(0xb1)},_0x4f83da=path[_0xbd2bd0(0x128)](_0x4b594c['BykHs'],_0x4b594c[_0xbd2bd0(0xcd)],_0x4b594c['PXAIT']),_0x55d993=_0x4b594c[_0xbd2bd0(0x146)](importFileFromPWCore,_0x4f83da);if(!_0x55d993){_0x4b594c[_0xbd2bd0(0x146)](debug,_0x4b594c[_0xbd2bd0(0x17f)]);return;}const _0x139bd3=_0x55d993[_0xbd2bd0(0xfa)],_0x5a0af6=_0x139bd3['prototype'];if(_0x5a0af6[_0xbd2bd0(0xad)])return;const _0x291eb9=_0x5a0af6[_0xbd2bd0(0xe9)];Object[_0xbd2bd0(0x167)](_0x5a0af6,_0x4b594c[_0xbd2bd0(0x179)],{'get':function(){const _0x36dadc={'mbbbg':function(_0x59a4cc,_0x19de3f){const _0x4769fb=a4_0x45bc;return _0x4b594c[_0x4769fb(0x14d)](_0x59a4cc,_0x19de3f);},'mwtQb':_0x4b594c['muQhZ'],'VeiKe':function(_0x49d98b,_0x11fd3a,_0x663c18){const _0x416a45=a4_0x45bc;return _0x4b594c[_0x416a45(0x118)](_0x49d98b,_0x11fd3a,_0x663c18);},'JqbOZ':_0x4b594c['fhCZT'],'KZCOY':function(_0x18520d,_0x11ff78){const _0xdc4552=a4_0x45bc;return _0x4b594c[_0xdc4552(0x146)](_0x18520d,_0x11ff78);},'bUoep':_0x4b594c['Tmxal'],'HpNlK':function(_0x56d070,_0x3105e8,_0x409636){const _0x2ca8e4=a4_0x45bc;return _0x4b594c[_0x2ca8e4(0x180)](_0x56d070,_0x3105e8,_0x409636);}};return async function _0x1c4280(_0x39cfa4,_0x404bd8){const _0x5caaf0=a4_0x45bc,_0x1e318e=_0x36dadc['VeiKe'](nestedKeyValue,_0x39cfa4,[_0x36dadc['JqbOZ']])||_0x39cfa4;let _0x42483f=null,_0x751b00=null;try{[_0x751b00,_0x42483f]=_0x1e318e?_0x36dadc[_0x5caaf0(0x103)](parseWSEndpoint,_0x1e318e):[null,null],global['__platformCaps']=_0x42483f,logger[_0x5caaf0(0xf6)]('Checking\x20for\x20accessibility\x20automation\x20session\x20with\x20'+_0x751b00),_0x751b00[_0x5caaf0(0x10c)](Constants[_0x5caaf0(0xec)])&&(global[_0x5caaf0(0x18c)]=_0x36dadc[_0x5caaf0(0x105)]);}catch(_0x57a0f6){logger[_0x5caaf0(0xf6)](_0x5caaf0(0x108)+_0x1e318e+'\x20'+_0x57a0f6);}_0x36dadc['HpNlK'](processAccessibilityCaps,_0x42483f,_0x751b00);if(global[_0x5caaf0(0x136)]){const _0x3af6da=await _0x5a0af6[_0x5caaf0(0x164)]['apply'](this,[''+Constants['PLAYWRIGHT_HUB_URL']+_0x36dadc[_0x5caaf0(0x103)](encodeURIComponent,JSON[_0x5caaf0(0x106)](_0x42483f))]);return PlaywrightSessionDetails[_0x5caaf0(0xf5)](_0x3af6da,_0x64a59c,_0x1e318e),_0x3af6da;}return _0x291eb9[_0x5caaf0(0xc1)](this,arguments)[_0x5caaf0(0xf3)](_0x5c3b18=>{const _0x53f186=_0x5caaf0;let _0x568154=_0x39cfa4[_0x53f186(0x17c)];return _0x36dadc[_0x53f186(0x175)](typeof _0x39cfa4,_0x36dadc[_0x53f186(0xb4)])&&(_0x568154=_0x39cfa4),PlaywrightSessionDetails[_0x53f186(0xf5)](_0x5c3b18,_0x64a59c,_0x568154),_0x5c3b18;});};}});const _0x195fa9=_0x5a0af6[_0xbd2bd0(0xb1)];Object[_0xbd2bd0(0x167)](_0x5a0af6,_0x4b594c['ipSvN'],{'get':function(){return async function _0x4530c3(){const _0x1862ad=a4_0x45bc;return _0x195fa9[_0x1862ad(0xc1)](this,arguments)['then'](_0x19e929=>{const _0x28a1df=_0x1862ad;return PlaywrightSessionDetails[_0x28a1df(0xf5)](_0x19e929,null),_0x19e929;});};}});};class O11yHelper{[a4_0x2c3b6d(0x144)]=null;['currentHook']=null;['enabled']=![];[a4_0x2c3b6d(0xbc)]=![];constructor(_0x1b1bc9,_0x1c2d50){const _0x378829=a4_0x2c3b6d,_0x54263f={'gaiTk':_0x378829(0xa6),'jqsFv':function(_0x4f4985){return _0x4f4985();},'HCUVH':function(_0x4645b5){return _0x4645b5();},'GAOeF':function(_0xa88c24,_0x4a261f){return _0xa88c24===_0x4a261f;},'FtTBe':'Playwright','YswXS':function(_0x4a4a39,_0x366680){return _0x4a4a39(_0x366680);}},_0x1beb55=_0x54263f[_0x378829(0x158)][_0x378829(0xf2)]('|');let _0x352ca5=0x0;while(!![]){switch(_0x1beb55[_0x352ca5++]){case'0':this[_0x378829(0x132)]=_0x1b1bc9;continue;case'1':this['frameworkName']=_0x1c2d50[_0x378829(0xbc)];continue;case'2':this[_0x378829(0x157)]=_0x54263f['jqsFv'](getTestEnv);continue;case'3':this[_0x378829(0x126)]=new testOpsHelper[(_0x378829(0x15a))]({'cwd':process[_0x378829(0x129)]()},this[_0x378829(0x157)]['location_prefix']);continue;case'4':this[_0x378829(0xae)]=_0x54263f[_0x378829(0x113)](shouldProcessEventForTesthub);continue;case'5':this[_0x378829(0x132)]&&_0x54263f['GAOeF'](this[_0x378829(0x132)][_0x378829(0xd6)][_0x378829(0xd3)],_0x54263f['FtTBe'])&&_0x54263f[_0x378829(0xe3)](mockPWBrowserType,null);continue;}break;}}['start'](){const _0x1b98eb=a4_0x2c3b6d;if(!this[_0x1b98eb(0xae)])return;testOpsHelper['patchConsoleLogger'](),process[_0x1b98eb(0x18e)]('bs:addLog:'+process[_0x1b98eb(0xd1)]),process['on']('bs:addLog:'+process[_0x1b98eb(0xd1)],this[_0x1b98eb(0xc4)][_0x1b98eb(0xcb)](this));}async[a4_0x2c3b6d(0x151)](){const _0x2f66a0=a4_0x2c3b6d;await RequestQueueHandler[_0x2f66a0(0xc8)]()[_0x2f66a0(0x14e)]();}async[a4_0x2c3b6d(0xc4)](_0x377d32){const _0x2493f0=a4_0x2c3b6d,_0x537011={'vnGHE':'LogCreated','yEUdp':function(_0x2e5d89,_0x5e5bc4){return _0x2e5d89(_0x5e5bc4);}};try{this['currentHook']&&!this[_0x2493f0(0xce)][_0x2493f0(0x142)]&&(_0x377d32[_0x2493f0(0xd4)]=this[_0x2493f0(0xce)]['hookAnalyticsId']);!_0x377d32['hook_run_uuid']&&this[_0x2493f0(0x144)]&&!this[_0x2493f0(0x144)][_0x2493f0(0x142)]&&(_0x377d32[_0x2493f0(0x17e)]=this[_0x2493f0(0x144)][_0x2493f0(0xc7)]);if(_0x377d32['hook_run_uuid']||_0x377d32[_0x2493f0(0x17e)]){const _0x248b30={};_0x248b30[_0x2493f0(0x18d)]=_0x537011[_0x2493f0(0xf4)],_0x248b30[_0x2493f0(0xe2)]=[_0x377d32],await SessionHandler[_0x2493f0(0x10e)](_0x248b30);}}catch(_0x5e408e){_0x537011['yEUdp'](debug,_0x2493f0(0x17d)+_0x5e408e);}}async[a4_0x2c3b6d(0xdc)](_0x18edeb){const _0x17b038=a4_0x2c3b6d,_0x4815d0={'bskuQ':_0x17b038(0xdd),'UlVeL':function(_0x169974,_0x4439d9){return _0x169974(_0x4439d9);}};if(!this[_0x17b038(0xae)])return;const _0x5d7ce6=this[_0x17b038(0x165)](this[_0x17b038(0x132)]);try{const _0x832122={};_0x832122['uuid']=_0x18edeb,_0x832122['integrations']=_0x5d7ce6;const _0x390a24=_0x832122,_0x1e28e4={};_0x1e28e4[_0x17b038(0x18d)]=_0x4815d0['bskuQ'],_0x1e28e4[_0x17b038(0x15e)]=_0x390a24,await SessionHandler[_0x17b038(0x10e)](_0x1e28e4);}catch(_0x2e9f28){_0x4815d0[_0x17b038(0x12d)](debug,_0x17b038(0x111)+_0x2e9f28);}}['getCBTInfo'](_0x2bc972){const _0x1db1e={'HcPyn':function(_0x818bd9,_0x569b00){return _0x818bd9(_0x569b00);}};return _0x1db1e['HcPyn'](fetchPlatformDetails,_0x2bc972);}[a4_0x2c3b6d(0x124)]=_0x19c323=>{const _0x56fff8=a4_0x2c3b6d,_0x2958f4={};_0x2958f4[_0x56fff8(0xf7)]=_0x56fff8(0x16b),_0x2958f4[_0x56fff8(0x184)]=_0x56fff8(0xd7);const _0x410b93=_0x2958f4;if(!_0x19c323||!_0x19c323['parent'])return;[_0x410b93[_0x56fff8(0xf7)],_0x410b93['LMbap']]['forEach'](_0x3ca586=>{const _0x196b9e=_0x56fff8,_0x4c4cc0=_0x19c323[_0x196b9e(0x123)][_0x3ca586];_0x4c4cc0[_0x196b9e(0x100)](_0x1094be=>{const _0x59e621=_0x196b9e;_0x1094be[_0x59e621(0x16f)]&&(_0x1094be[_0x59e621(0x16f)]=null);});});};['mapTestHooks'](_0x1d30fa){const _0x563c1b=a4_0x2c3b6d,_0x40c848={'WebcX':_0x563c1b(0x193),'giIix':function(_0x23ee95){return _0x23ee95();},'DmzsC':function(_0x1bda2a,_0x3e913e){return _0x1bda2a===_0x3e913e;},'sdlZI':_0x563c1b(0xd7),'eIlBf':_0x563c1b(0x159),'aMUTa':'_afterAll','EpLdR':'_beforeEach'};if(!_0x1d30fa||!_0x1d30fa[_0x563c1b(0x123)])return;[_0x40c848[_0x563c1b(0xef)],_0x40c848[_0x563c1b(0x116)],_0x40c848[_0x563c1b(0xb5)],_0x40c848[_0x563c1b(0x147)]][_0x563c1b(0x100)](_0x28db3d=>{const _0x5aa8ee=_0x563c1b,_0x2985b4={'BvUpH':_0x40c848['WebcX'],'fQNca':function(_0x923a20){const _0x507d2e=a4_0x45bc;return _0x40c848[_0x507d2e(0x189)](_0x923a20);},'PLUxq':function(_0x52bfa4,_0x26e4bb){const _0x5f4119=a4_0x45bc;return _0x40c848[_0x5f4119(0x173)](_0x52bfa4,_0x26e4bb);},'qODEt':_0x40c848[_0x5aa8ee(0x147)]},_0x26925b=_0x1d30fa[_0x5aa8ee(0x123)][_0x28db3d]||[];_0x26925b['forEach'](_0x3d72ca=>{const _0x5853d1=_0x5aa8ee;if(_0x3d72ca[_0x5853d1(0x18b)][_0x5853d1(0x10c)](_0x2985b4[_0x5853d1(0x134)]))return;if(!_0x3d72ca['hookAnalyticsId'])_0x3d72ca[_0x5853d1(0x16f)]=_0x2985b4[_0x5853d1(0x16d)](uuidv4);else _0x3d72ca['markedStatus']&&_0x2985b4['PLUxq'](_0x28db3d,_0x2985b4[_0x5853d1(0x172)])&&(_0x3d72ca[_0x5853d1(0x16f)]=_0x2985b4[_0x5853d1(0x16d)](uuidv4),delete _0x3d72ca[_0x5853d1(0x142)]);});}),this[_0x563c1b(0xac)](_0x1d30fa[_0x563c1b(0x123)]);}['getHooksForTest'](_0x4c3284){const _0x1918e5=a4_0x2c3b6d,_0x25d25e={};_0x25d25e[_0x1918e5(0xc2)]=_0x1918e5(0x159),_0x25d25e[_0x1918e5(0x174)]=_0x1918e5(0x13c),_0x25d25e[_0x1918e5(0x14f)]=_0x1918e5(0x16b),_0x25d25e[_0x1918e5(0x188)]=_0x1918e5(0xd7);const _0x4b21f1=_0x25d25e;if(!_0x4c3284||!_0x4c3284['parent'])return[];const _0x1dcd2e=[];return[_0x4b21f1[_0x1918e5(0xc2)],_0x4b21f1[_0x1918e5(0x174)],_0x4b21f1[_0x1918e5(0x14f)],_0x4b21f1['KwNaP']][_0x1918e5(0x100)](_0x95620e=>{const _0x351854=_0x4c3284['parent'][_0x95620e]||[];_0x351854['forEach'](_0x228404=>{const _0x5eb8e5=a4_0x45bc;_0x228404[_0x5eb8e5(0x16f)]&&_0x1dcd2e['push'](_0x228404['hookAnalyticsId']);});}),[][_0x1918e5(0x171)](_0x1dcd2e,this[_0x1918e5(0x12c)](_0x4c3284[_0x1918e5(0x123)]));}[a4_0x2c3b6d(0x15f)](_0x39adcb){const _0xfc8a3e=a4_0x2c3b6d,_0x4dea90=/^"(?<hook>.*)" hook:.*$/,_0x515a7e=_0x39adcb['title'],_0x376f55=_0x515a7e[_0xfc8a3e(0x10b)](_0x4dea90);if(_0x376f55&&_0x376f55['groups'])return _0x376f55[_0xfc8a3e(0x14b)][_0xfc8a3e(0xd0)][_0xfc8a3e(0x145)]()[_0xfc8a3e(0x170)]('\x20','_');return null;}['findGitConfig'](_0x4ee8de){const _0x6332d6=a4_0x2c3b6d,_0x35c03c={};_0x35c03c['jGYvO']=function(_0x100087,_0x21d933){return _0x100087===_0x21d933;},_0x35c03c[_0x6332d6(0xbf)]=function(_0x530b19,_0xbe3ecc){return _0x530b19===_0xbe3ecc;},_0x35c03c[_0x6332d6(0x18f)]=function(_0x27e234,_0xc4152a){return _0x27e234===_0xc4152a;},_0x35c03c['gIVDG']=function(_0x2f650a,_0xa7bee2){return _0x2f650a===_0xa7bee2;},_0x35c03c[_0x6332d6(0xba)]=_0x6332d6(0x13f),_0x35c03c[_0x6332d6(0x162)]=_0x6332d6(0x119);const _0x59ac1b=_0x35c03c,_0x3520ae=path[_0x6332d6(0x181)];if(_0x59ac1b['jGYvO'](_0x4ee8de,null)||_0x59ac1b['kdIGb'](_0x4ee8de,'')||_0x59ac1b[_0x6332d6(0x18f)](_0x4ee8de,_0x3520ae)||_0x59ac1b[_0x6332d6(0x192)](_0x4ee8de,path[_0x6332d6(0xca)](_0x4ee8de)))return null;try{return fs['statSync'](path[_0x6332d6(0x128)](_0x4ee8de,_0x59ac1b[_0x6332d6(0xba)],_0x59ac1b[_0x6332d6(0x162)])),_0x4ee8de;}catch(_0xa9d8b7){const _0x371209=path[_0x6332d6(0xca)](_0x4ee8de);return this[_0x6332d6(0xdb)](_0x371209);}}[a4_0x2c3b6d(0x15c)](_0x2871fe){const _0x48aa17=a4_0x2c3b6d,_0x219bae={};_0x219bae[_0x48aa17(0xa5)]=function(_0x5514f6,_0x14294a){return _0x5514f6>_0x14294a;};const _0x2f9a1c=_0x219bae;if(_0x2871fe[_0x48aa17(0xe7)])return _0x2871fe['file'];if(_0x2871fe['ctx']){const _0x269d02=_0x2871fe[_0x48aa17(0x125)]['currentTest']?this['getRootParentFile'](_0x2871fe['ctx'][_0x48aa17(0x144)]):null;if(_0x269d02)return _0x269d02;}if(_0x2871fe[_0x48aa17(0x123)]){const _0x21b070=this['getRootParentFile'](_0x2871fe['parent'])||(_0x2871fe[_0x48aa17(0x123)]['ctx']&&_0x2871fe['parent']['ctx']['currentTest']?this[_0x48aa17(0x15c)](_0x2871fe[_0x48aa17(0x123)]['ctx'][_0x48aa17(0x144)]):null);if(_0x21b070)return _0x21b070;_0x2871fe['parent'][_0x48aa17(0x18a)]&&_0x2f9a1c['ScBng'](_0x2871fe[_0x48aa17(0x123)][_0x48aa17(0x18a)][_0x48aa17(0x13d)],0x0)&&_0x2871fe[_0x48aa17(0x123)][_0x48aa17(0x18a)]['forEach'](_0x109df9=>{const _0x4ed0dc=_0x48aa17,_0x6e3549=_0x109df9[_0x4ed0dc(0x125)]?this[_0x4ed0dc(0x15c)](_0x109df9['ctx']):null;if(_0x6e3549)return _0x6e3549;});}return null;}[a4_0x2c3b6d(0x10f)](_0x478589){const _0x168dd5=a4_0x2c3b6d,_0x4fb170={};_0x4fb170[_0x168dd5(0x186)]=function(_0x46dd8d,_0x3e05ca){return _0x46dd8d!==_0x3e05ca;};const _0x1ccb0c=_0x4fb170,_0x5b5bea=[];if(_0x478589&&_0x478589[_0x168dd5(0x123)]){let _0x362ccd=_0x478589['parent'];while(_0x362ccd&&_0x1ccb0c['ganhd'](_0x362ccd['title'],'')){_0x5b5bea[_0x168dd5(0xbd)](_0x362ccd['title']),_0x362ccd=_0x362ccd[_0x168dd5(0x123)];}}return _0x5b5bea;}[a4_0x2c3b6d(0xcf)](_0x48b96f,_0xdcc4fb,_0x8e84ea=undefined){const _0x29325e=a4_0x2c3b6d,_0x5dc7e6={'bgjjS':function(_0x345eba,_0x3a09c8){return _0x345eba(_0x3a09c8);},'pAZFK':function(_0x3e2bcd){return _0x3e2bcd();},'QRKuW':function(_0x248175){return _0x248175();},'fVXIE':_0x29325e(0xd2),'QBHGn':'err','osAYQ':function(_0x2f9631,_0x4400de){return _0x2f9631!==_0x4400de;},'TybYE':function(_0x19b9e5,_0xd29fb){return _0x19b9e5!==_0xd29fb;},'QdfKm':'File\x20path\x20could\x20not\x20be\x20found','kljhn':_0x29325e(0x130),'khZAK':_0x29325e(0xa9),'JBIMT':_0x29325e(0x155),'ykRkq':_0x29325e(0x11b),'YOVZC':_0x29325e(0xdf),'BNOqh':function(_0x10f99c,_0x219363){return _0x10f99c-_0x219363;},'mLZGd':function(_0x5a8111,_0x322b01,_0x532e43,_0x5f4cba,_0x4ee664){return _0x5a8111(_0x322b01,_0x532e43,_0x5f4cba,_0x4ee664);},'vTKOK':function(_0x5276c0,_0x2552d5){return _0x5276c0!==_0x2552d5;},'WoZre':_0x29325e(0x185),'CGhYT':_0x29325e(0xe0),'YAjWS':_0x29325e(0x101),'cwZSz':_0x29325e(0x148),'UDoEp':_0x29325e(0x16a),'gpWrM':_0x29325e(0x152),'hVLvY':_0x29325e(0xc6),'qoAJj':function(_0x51f867,_0x3722ff){return _0x51f867===_0x3722ff;},'PRkBD':_0x29325e(0x160),'VfmVb':_0x29325e(0x15e)};if(!this[_0x29325e(0xae)])return;try{if(_0xdcc4fb['fn']&&_0xdcc4fb['fn'][_0x29325e(0xab)]()['match'](/browserstack internal helper hook/))return;const _0x577d63=_0x5dc7e6[_0x29325e(0x183)](parseEvent,_0x48b96f);if(!_0x577d63)return;if(_0x577d63[_0x29325e(0xb8)]){this['currentTest']=_0xdcc4fb,this['currentHook']=null;if(_0x577d63[_0x29325e(0xa7)]||_0x577d63['skipped']){_0xdcc4fb[_0x29325e(0x115)]=new Date(),_0xdcc4fb[_0x29325e(0x142)]=![];if(!_0xdcc4fb[_0x29325e(0xc7)])_0xdcc4fb[_0x29325e(0xc7)]=_0x5dc7e6[_0x29325e(0xb2)](uuidv4);else _0xdcc4fb['markedStatus']&&(!_0xdcc4fb[_0x29325e(0xfd)]&&(_0xdcc4fb[_0x29325e(0xfd)]=_0xdcc4fb[_0x29325e(0xc7)]),_0xdcc4fb[_0x29325e(0xc7)]=_0x5dc7e6[_0x29325e(0xb2)](uuidv4));}}else{if(_0x577d63[_0x29325e(0xd0)]){this[_0x29325e(0xce)]=_0xdcc4fb;if(_0x577d63[_0x29325e(0xa7)]){_0xdcc4fb[_0x29325e(0x115)]=new Date(),_0xdcc4fb[_0x29325e(0x142)]=![];if(!_0xdcc4fb[_0x29325e(0x16f)])_0xdcc4fb[_0x29325e(0x16f)]=_0x5dc7e6[_0x29325e(0x13e)](uuidv4);else _0xdcc4fb[_0x29325e(0x16f)]&&_0xdcc4fb[_0x29325e(0x142)]&&(_0xdcc4fb[_0x29325e(0x16f)]=_0x5dc7e6['QRKuW'](uuidv4));}}}if(_0x577d63[_0x29325e(0x11c)]&&_0xdcc4fb[_0x29325e(0x142)])return;let _0x37d7ec;try{_0x37d7ec=this[_0x29325e(0x15c)](_0xdcc4fb);}catch(_0xe48760){logger['debug'](_0x29325e(0x191)+_0xe48760),_0x37d7ec=null;}const _0xf54a87=_0x5dc7e6['bgjjS'](require,_0x5dc7e6[_0x29325e(0x169)]);let _0x3cce20=[];_0x8e84ea&&(_0x3cce20=[_0x8e84ea,_0x5dc7e6[_0x29325e(0x12a)]]);const _0x32a9b2=_0x5dc7e6[_0x29325e(0xf9)](_0xdcc4fb[_0x29325e(0xc5)],undefined)?_0xf54a87['inspect'](_0xdcc4fb['errorsDetailed'][0x0]):_0x5dc7e6['TybYE'](_0x8e84ea,undefined)?_0x8e84ea['toString']():undefined,_0x5930f1=_0x37d7ec?this[_0x29325e(0xdb)](_0x37d7ec):null,_0x389784=_0x37d7ec?this[_0x29325e(0x126)][_0x29325e(0xc3)](this[_0x29325e(0x15c)](_0xdcc4fb)):_0x5dc7e6['QdfKm'];let _0x129f52=_0x5dc7e6['kljhn'];const _0x344f64=!_0x577d63[_0x29325e(0xa7)]?new Date()[_0x29325e(0xf0)]():null;if(_0x577d63[_0x29325e(0x11c)])_0x129f52=_0x8e84ea?_0x5dc7e6[_0x29325e(0x143)]:_0x5dc7e6[_0x29325e(0x177)],_0xdcc4fb[_0x29325e(0x142)]=!![];else _0x577d63[_0x29325e(0x11b)]&&(_0x129f52=_0x5dc7e6[_0x29325e(0xd9)],_0xdcc4fb['markedStatus']=!![]);const _0x4a34a2={'framework':this[_0x29325e(0xbc)],'uuid':_0xdcc4fb[_0x29325e(0xc7)]||_0xdcc4fb[_0x29325e(0x16f)],'name':_0xdcc4fb[_0x29325e(0x18b)],'body':{'lang':_0x5dc7e6['YOVZC'],'code':_0xdcc4fb[_0x29325e(0xee)][_0x29325e(0xab)]()},'type':_0xdcc4fb[_0x29325e(0xa8)],'scope':_0xdcc4fb['fullTitle'](),'scopes':this[_0x29325e(0x10f)](_0xdcc4fb),'file_name':_0x389784,'vc_filepath':_0x5930f1?path[_0x29325e(0x141)](_0x5930f1,_0x37d7ec):null,'location':_0x389784,'result':_0x129f52,'failure_reason':_0x32a9b2,'duration_in_ms':_0xdcc4fb['duration']||(_0x577d63[_0x29325e(0x11c)]||_0x577d63[_0x29325e(0x11b)])?_0x5dc7e6[_0x29325e(0x10a)](Date['now'](),new Date(_0xdcc4fb[_0x29325e(0x115)])['getTime']()):null,'started_at':new Date(_0xdcc4fb[_0x29325e(0x115)])['toISOString'](),'finished_at':_0x344f64,'failure':testOpsHelper[_0x29325e(0xeb)]['apply'](null,_0x3cce20),'failure_type':!_0x32a9b2?null:testOpsHelper[_0x29325e(0x112)](_0x32a9b2),'retry_of':_0xdcc4fb['retryOf']||null,'tags':_0xdcc4fb[_0x29325e(0x12f)]||[],'customRerunParam':{'rerun_name':_0xdcc4fb[_0x29325e(0x149)]()}};_0x5dc7e6['mLZGd'](appendTesthubParams,_0x4a34a2,_0x48b96f,_0xdcc4fb,FRAMEWORKS[_0x29325e(0x16c)]);if(_0x577d63[_0x29325e(0xd0)])[_0x4a34a2[_0x29325e(0x150)],_0x4a34a2[_0x29325e(0xd3)]]=[this[_0x29325e(0x15f)](_0xdcc4fb),_0xdcc4fb['ctx'][_0x29325e(0xb8)][_0x29325e(0x18b)]],_0x577d63['finished']?_0x5dc7e6['vTKOK'](_0x4a34a2[_0x29325e(0xf1)],_0x5dc7e6[_0x29325e(0x143)])&&(_0x4a34a2[_0x29325e(0xf1)]=_0x5dc7e6[_0x29325e(0x177)]):_0x4a34a2[_0x29325e(0xee)]={};else _0x577d63[_0x29325e(0xb8)]&&(this[_0x29325e(0xac)](_0xdcc4fb),_0x577d63[_0x29325e(0x11b)]&&this[_0x29325e(0x124)](_0xdcc4fb),(_0x577d63['finished']||_0x577d63[_0x29325e(0x11b)])&&(_0x4a34a2[_0x29325e(0xe6)]=this[_0x29325e(0x12c)](_0xdcc4fb)));this[_0x29325e(0x132)]&&(_0x577d63[_0x29325e(0xa7)]||_0x577d63[_0x29325e(0x11b)])&&(_0x4a34a2[_0x5dc7e6[_0x29325e(0xaf)]]=this[_0x29325e(0x165)](this[_0x29325e(0x132)]));_0x577d63[_0x29325e(0xb8)]&&_0x577d63[_0x29325e(0x11c)]&&_0xdcc4fb[_0x29325e(0x11e)]&&(_0x4a34a2[_0x5dc7e6[_0x29325e(0x194)]]={'feature':{'name':_0xdcc4fb[_0x29325e(0x123)][_0x29325e(0x11d)]['name'],'path':_0x4a34a2[_0x29325e(0xbb)],'description':_0xdcc4fb[_0x29325e(0x123)][_0x29325e(0x133)]},'scenario':{'name':_0xdcc4fb[_0x29325e(0x18b)]},'steps':_0xdcc4fb[_0x29325e(0x11e)]});const _0x3266fc=_0x4a34a2[_0x5dc7e6['YAjWS']][0x0];_0x3266fc&&(_0x4a34a2[_0x5dc7e6[_0x29325e(0x161)]]=_0x3266fc[_0x5dc7e6['UDoEp']],_0x4a34a2[_0x5dc7e6['gpWrM']]=_0x3266fc[_0x5dc7e6[_0x29325e(0x135)]]);if(_0xdcc4fb[_0x29325e(0x11e)])for(const _0x45af23 of _0xdcc4fb[_0x29325e(0x11e)]){!_0x45af23[_0x29325e(0xed)]&&(_0x45af23[_0x29325e(0xed)]=new Date()[_0x29325e(0xf0)](),_0x5dc7e6[_0x29325e(0x178)](_0x45af23[_0x29325e(0xf1)],_0x5dc7e6[_0x29325e(0x127)])&&(_0x3266fc?(_0x45af23[_0x29325e(0xf1)]=_0x5dc7e6[_0x29325e(0x143)],_0x45af23['failure']=_0x3266fc[_0x5dc7e6[_0x29325e(0xe8)]][0x0]):_0x45af23[_0x29325e(0xf1)]=_0x5dc7e6[_0x29325e(0x177)]));}const _0xbbbb40={};_0xbbbb40['event_type']=_0x577d63[_0x29325e(0x11b)]?TEST_EVENTS[_0x29325e(0x139)]:_0x48b96f;const _0x106015=_0xbbbb40;return _0x577d63['hook']?_0x106015[_0x5dc7e6[_0x29325e(0xe5)]]=_0x4a34a2:_0x106015[_0x5dc7e6[_0x29325e(0xe1)]]=_0x4a34a2,_0x106015;}catch(_0x5407fe){logger['debug']('Exception\x20in\x20populating\x20test\x20data\x20for\x20event\x20'+_0x48b96f+_0x29325e(0xb7)+_0x5407fe);}}async['fireEvent'](_0x1e5b5c,_0x51115d){const _0x553c4a=a4_0x2c3b6d;if(!this[_0x553c4a(0xae)]||!_0x51115d||!_0x1e5b5c)return![];try{return await SessionHandler[_0x553c4a(0x10e)](_0x51115d);}catch(_0x5d5c00){logger[_0x553c4a(0xf6)](_0x553c4a(0x17a)+_0x1e5b5c+_0x553c4a(0xb7)+_0x5d5c00);}}[a4_0x2c3b6d(0xaa)](_0x31be8f){const _0x29eb32=a4_0x2c3b6d,_0x128f64={};_0x128f64[_0x29eb32(0x109)]=_0x29eb32(0x130);const _0x1a7608=_0x128f64;return{'id':_0x31be8f[_0x29eb32(0x104)],'text':_0x31be8f['text'],'keyword':_0x31be8f[_0x29eb32(0x182)],'started_at':_0x31be8f[_0x29eb32(0x115)][_0x29eb32(0xf0)](),'result':_0x1a7608[_0x29eb32(0x109)]};}[a4_0x2c3b6d(0x11f)](_0xa94d41){const _0x47b28a=a4_0x2c3b6d,_0x31c465={'qDmJt':function(_0x6a50c7){return _0x6a50c7();}};!this[_0x47b28a(0x144)]['bddSteps']&&(this[_0x47b28a(0x144)]['bddSteps']=[]),!_0xa94d41['stepAnalyticsId']&&(_0xa94d41[_0x47b28a(0x104)]=_0x31c465[_0x47b28a(0x13b)](uuidv4),_0xa94d41[_0x47b28a(0x115)]=new Date(),this['currentTest'][_0x47b28a(0x11e)][_0x47b28a(0xbd)](this['initializeBddStep'](_0xa94d41)));}[a4_0x2c3b6d(0x176)](_0x13d093){const _0x3076a9=a4_0x2c3b6d,_0x3a18bf={'YeuBO':function(_0x253876,_0x6f883e){return _0x253876(_0x6f883e);},'UiKgU':_0x3076a9(0x195),'DAUTZ':_0x3076a9(0x130),'Rvkct':_0x3076a9(0x155),'ZTXIE':function(_0x5db8fa,_0x5b4f01){return _0x5db8fa-_0x5b4f01;}};let _0x465a62=this[_0x3076a9(0x144)][_0x3076a9(0x11e)][_0x3076a9(0x190)](_0x13611c=>_0x13611c['id']===_0x13d093[_0x3076a9(0x104)]);_0x3a18bf['YeuBO'](isUndefined,_0x465a62)&&(_0x465a62=this[_0x3076a9(0xaa)](_0x13d093)),_0x465a62[_0x3076a9(0xf1)]=[_0x3a18bf[_0x3076a9(0x12b)],_0x3a18bf[_0x3076a9(0x14a)]][_0x3076a9(0x10c)](_0x13d093[_0x3076a9(0x117)])?_0x3a18bf['Rvkct']:_0x13d093[_0x3076a9(0x117)],_0x465a62[_0x3076a9(0xed)]=new Date()[_0x3076a9(0xf0)](),_0x465a62[_0x3076a9(0xff)]=_0x3a18bf[_0x3076a9(0x156)](Date[_0x3076a9(0x10d)](),_0x13d093[_0x3076a9(0x115)][_0x3076a9(0xb6)]()),_0x465a62['failure']=_0x13d093[_0x3076a9(0x163)]?_0x13d093[_0x3076a9(0x163)][_0x3076a9(0xea)]:null;}}const a4_0x2cc078={};a4_0x2cc078[a4_0x2c3b6d(0x131)]=O11yHelper,a4_0x2cc078[a4_0x2c3b6d(0x14c)]=STATE_PASSED,a4_0x2cc078[a4_0x2c3b6d(0xfe)]=STATE_FAILED,a4_0x2cc078['TEST_EVENTS']=TEST_EVENTS,module[a4_0x2c3b6d(0x168)]=a4_0x2cc078;function a4_0x45bc(_0x39015f,_0x185f49){const _0x5a66c9=a4_0x5a66();return a4_0x45bc=function(_0x45bc95,_0x44d003){_0x45bc95=_0x45bc95-0xa4;let _0x4c58e5=_0x5a66c9[_0x45bc95];return _0x4c58e5;},a4_0x45bc(_0x39015f,_0x185f49);}function a4_0x5a66(){const _0x121b85=['comment','BvUpH','hVLvY','accessibilityPlatform','lib','path','TEST_RUN_FINISHED','../../helpers/test-observability/utils','qDmJt','_afterAll','length','QRKuW','.git','TEST_RUN_STARTED','relative','markedStatus','khZAK','currentTest','toUpperCase','kmAMZ','sdlZI','failure_backtrace','fullTitle','DAUTZ','groups','STATE_PASSED','MGcpG','shutdown','wLQYJ','hook_type','stop','failure_reason_expanded','../utils/constants','../playwright/accessibility-helper','passed','ZTXIE','_testEnv','gaiTk','_beforeAll','PathHelper','winstonLogger','getRootParentFile','qsucl','test_run','getHookType','hook_run','cwZSz','Kypae','err','connectOverCDP','getCBTInfo','qtvdN','defineProperty','exports','fVXIE','backtrace','_beforeEach','CODECEPT','fQNca','ubEvB','hookAnalyticsId','replace','concat','qODEt','DmzsC','xtKsk','mbbbg','bddStepFinish','JBIMT','qoAJj','xVmxh','Exception\x20in\x20sending\x20test\x20data\x20for\x20event\x20','TEST_RUN_SKIPPED','wsEndpoint','Exception\x20in\x20uploading\x20log\x20data\x20to\x20Observability\x20with\x20error\x20:\x20','test_run_uuid','vejCP','VCIeu','sep','keyword','bgjjS','LMbap','integrations','ganhd','6543rUvVHX','KwNaP','giIix','suites','title','__cloud_provider___','event_type','removeAllListeners','ThDVh','find','failed\x20to\x20get\x20root\x20parent\x20file\x20','gIVDG','codeceptjs','CGhYT','success','22290xIqsVV','ScBng','4|1|0|2|3|5','started','type','failed','initializeBddStep','toString','mapTestHooks','obsBrowserTypeMockApplied','enabled','WoZre','xuJMI','launch','pAZFK','473998huIfPM','mwtQb','EpLdR','getTime','\x20with\x20error\x20:\x20','test','3459198iYsHIH','MRryV','file_name','frameworkName','push','client','kdIGb','HookRunStarted','apply','CFkDD','prefixTestPath','appendTestItemLog','errorsDetailed','expanded','testAnalyticsId','getInstance','browserstack','dirname','bind','4NvvCMR','AlTcg','currentHook','captureEvent','hook','pid','util','name','hook_run_uuid','68EPNZgW','constructor','_afterEach','../../helpers/helper','ykRkq','HIWPX','findGitConfig','sendCBTInfo','CBTSessionCreated','HOOK_RUN_FINISHED','javascript','meta','VfmVb','logs','YswXS','2403335Zinunx','PRkBD','hooks','file','UDoEp','connect','message','failureData','BROWSERSTACK','finished_at','body','eIlBf','toISOString','result','split','then','vnGHE','setupBrowserDetails','debug','ldHIX','./helper.js','osAYQ','BrowserType','880fXhOOQ','2389600dyXGAJ','retryOf','STATE_FAILED','duration','forEach','failure','../../helpers/test-observability/sessionHandler','KZCOY','stepAnalyticsId','bUoep','stringify','243132cbfUsg','Failed\x20to\x20parse\x20wsendpoint\x20','unVJh','BNOqh','match','includes','now','uploadEventData','getHierarchy','tbiJy','Exception\x20in\x20uploading\x20platform\x20details\x20to\x20Observability\x20with\x20error\x20:\x20','getFailureType','HCUVH','Not\x20able\x20to\x20import\x20Browser','startedAt','aMUTa','status','ZxGXj','config','rBzmG','skipped','finished','feature','bddSteps','bddStepStart','../mocha/test-observability/mochaUtils','toLowerCase','eKPOB','parent','resetSkipTestHooks','ctx','_paths','kljhn','join','cwd','QBHGn','UiKgU','getHooksForTest','UlVeL','TestRunSkipped','tags','pending','O11yHelper','driver'];a4_0x5a66=function(){return _0x121b85;};return a4_0x5a66();}