#!/usr/bin/env node
'use strict';const a2_0x378bfe=a2_0x409f;(function(_0xa33f08,_0x162b38){const _0x33b5d1=a2_0x409f,_0x527937=_0xa33f08();while(!![]){try{const _0x2ec499=parseInt(_0x33b5d1(0x167))/0x1+parseInt(_0x33b5d1(0x14f))/0x2+parseInt(_0x33b5d1(0x14a))/0x3*(parseInt(_0x33b5d1(0x13c))/0x4)+parseInt(_0x33b5d1(0x156))/0x5*(-parseInt(_0x33b5d1(0x14e))/0x6)+-parseInt(_0x33b5d1(0x103))/0x7*(-parseInt(_0x33b5d1(0x11c))/0x8)+-parseInt(_0x33b5d1(0x171))/0x9*(parseInt(_0x33b5d1(0x149))/0xa)+-parseInt(_0x33b5d1(0x13d))/0xb*(-parseInt(_0x33b5d1(0x13a))/0xc);if(_0x2ec499===_0x162b38)break;else _0x527937['push'](_0x527937['shift']());}catch(_0x169c6c){_0x527937['push'](_0x527937['shift']());}}}(a2_0x32ae,0xbf79a));function a2_0x409f(_0x16bc29,_0x50b00d){const _0x32ae8d=a2_0x32ae();return a2_0x409f=function(_0x409f60,_0x2c2a04){_0x409f60=_0x409f60-0xf1;let _0xd56673=_0x32ae8d[_0x409f60];return _0xd56673;},a2_0x409f(_0x16bc29,_0x50b00d);}const fs=require('fs'),path=require(a2_0x378bfe(0x137)),util=require(a2_0x378bfe(0x133)),process=require('process'),logger=require('../../helpers/logger')[a2_0x378bfe(0xf8)],{default:BrowserStackSetup}=require(a2_0x378bfe(0x163)),helper=require(a2_0x378bfe(0x131)),utilities=require(a2_0x378bfe(0x12e)),{checkAccessibilityPlatformConfig}=require(a2_0x378bfe(0x118)),{setAccessibilityCapabilities}=require(a2_0x378bfe(0x126)),{requireModule,nestedKeyValue,isBrowserstackInfra}=require('../../helpers/helper'),CodeceptJS=requireModule(a2_0x378bfe(0x10b),'codeceptjs'),testOpsHelper=require(a2_0x378bfe(0x115)),TestHubHandler=require(a2_0x378bfe(0x165)),constants=require(a2_0x378bfe(0x17f)),PerformanceTester=require(a2_0x378bfe(0x108)),{FRAMEWORKS}=require(a2_0x378bfe(0xfd)),PerformanceEvents=require('../../helpers/performance/constants')[a2_0x378bfe(0x169)],_testErrorData=[],getUserCodeceptJSConfigs=(_0x5557dd,_0x55ba52)=>{const _0x1dff2a=a2_0x378bfe,_0x4c6629={};_0x4c6629[_0x1dff2a(0xf7)]=function(_0x31f7cd,_0x3cf230){return _0x31f7cd===_0x3cf230;},_0x4c6629['CtjLr']=_0x1dff2a(0x161),_0x4c6629[_0x1dff2a(0x11b)]='codecept.json';const _0xbbdbd2=_0x4c6629;let _0x650fe0=null;const _0x1c598d={};let _0x233158=_0x55ba52[_0x1dff2a(0x114)](_0x5a90c2=>_0x5a90c2===_0x1dff2a(0x150));_0xbbdbd2[_0x1dff2a(0xf7)](_0x233158,-0x1)&&(_0x233158=_0x55ba52['findIndex'](_0x36fec8=>_0x36fec8==='-c'));if(!helper[_0x1dff2a(0x178)](_0x5557dd[_0x1dff2a(0x170)])&&fs['existsSync'](path['join'](process[_0x1dff2a(0x10c)](),_0x5557dd[_0x1dff2a(0x170)])))_0x650fe0=path[_0x1dff2a(0x168)](process['cwd'](),_0x5557dd['config']),_0x55ba52[_0x1dff2a(0x107)](_0x233158,0x2);else{if(!helper['isUndefined'](_0x5557dd['c'])&&fs[_0x1dff2a(0x11e)](path['join'](process['cwd'](),_0x5557dd['c'])))_0x650fe0=path[_0x1dff2a(0x168)](process[_0x1dff2a(0x10c)](),_0x5557dd['c']),_0x55ba52[_0x1dff2a(0x107)](_0x233158,0x2);else{if(fs[_0x1dff2a(0x11e)](path[_0x1dff2a(0x168)](process[_0x1dff2a(0x10c)](),_0xbbdbd2[_0x1dff2a(0x110)])))_0x650fe0=path[_0x1dff2a(0x168)](process[_0x1dff2a(0x10c)](),_0xbbdbd2['CtjLr']);else fs[_0x1dff2a(0x11e)](path['join'](process[_0x1dff2a(0x10c)](),_0xbbdbd2['JCVNJ']))&&(_0x650fe0=path['join'](process[_0x1dff2a(0x10c)](),_0xbbdbd2[_0x1dff2a(0x11b)]));}}return process[_0x1dff2a(0x135)]['USER_CONFIG_DETAILS_PATH']=_0x650fe0,_0x650fe0;},getO11yRerunPattern=()=>{const _0xd6bb66=a2_0x378bfe,_0x3a9d6d=helper[_0xd6bb66(0x11a)](process['env'][_0xd6bb66(0x180)]);if(_0x3a9d6d){const _0x1b6143=process['env'][_0xd6bb66(0x17a)],_0x26efd6=[];if(helper[_0xd6bb66(0x177)](_0x1b6143)&&!helper[_0xd6bb66(0x178)](_0x1b6143)){_0x1b6143[_0xd6bb66(0x136)](',')[_0xd6bb66(0x105)](_0x1c1ac4=>{const _0x5819e1=_0xd6bb66;_0x26efd6[_0x5819e1(0x175)]('('+_0x1c1ac4['trim']()+')');});const _0x5a3a03='^'+_0x26efd6[_0xd6bb66(0x168)]('|')+'$';return _0x5a3a03;}}return null;},a2_0x502738={};a2_0x502738['chrome']=a2_0x378bfe(0x12c),a2_0x502738[a2_0x378bfe(0x172)]=a2_0x378bfe(0x12c),a2_0x502738[a2_0x378bfe(0x125)]=a2_0x378bfe(0x106),a2_0x502738[a2_0x378bfe(0x159)]=a2_0x378bfe(0x13b);const pwToCodeceptBrowser=a2_0x502738;async function run(_0x43a489,_0x11dbd5,_0x18c2e4){const _0x50ceb5=a2_0x378bfe,_0x35fed2={'hXczw':function(_0x36e39f,_0x1f98d5){return _0x36e39f+_0x1f98d5;},'aossS':function(_0xc1fb17,_0x6881cd){return _0xc1fb17(_0x6881cd);},'jFUGB':function(_0x5fc762,_0x2a81e9,_0x5e5bdd){return _0x5fc762(_0x2a81e9,_0x5e5bdd);},'pgzHu':_0x50ceb5(0x117),'PraQd':function(_0x108ef6){return _0x108ef6();},'zIyYn':_0x50ceb5(0x12f),'YIzRS':'Passed\x20:\x20','duxAW':'Started\x20:\x20','AcSRV':_0x50ceb5(0x146),'pGncB':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','joWLW':function(_0x231eb5,_0x666bec,_0x1f8ed5){return _0x231eb5(_0x666bec,_0x1f8ed5);},'QtiWR':_0x50ceb5(0x151),'UPMHI':_0x50ceb5(0x157),'wPmNT':function(_0xb27f93,_0x585518){return _0xb27f93!=_0x585518;},'eNyRD':function(_0x291c67,_0x56119b){return _0x291c67===_0x56119b;},'PsANj':function(_0x1a6712,_0x3bb4a5,_0x2e047e){return _0x1a6712(_0x3bb4a5,_0x2e047e);},'fyYSv':'gherkin','HbkIK':function(_0x3b6fc7,_0x5858e9){return _0x3b6fc7(_0x5858e9);},'pwcHK':function(_0x2f75d9){return _0x2f75d9();},'rHFLI':function(_0x5024b0,_0x306b5e){return _0x5024b0*_0x306b5e;},'jXdeY':function(_0x1adeeb,_0x349529,_0x37af6d){return _0x1adeeb(_0x349529,_0x37af6d);},'EVZSU':_0x50ceb5(0x10e),'hWHyw':_0x50ceb5(0x15e),'hqGyK':_0x50ceb5(0x155),'yZwjZ':'BrowserStackPlugin.js','FicFM':'browserStackCwd','YrmUH':function(_0x18b9d9){return _0x18b9d9();}};await _0x18c2e4[_0x50ceb5(0x16f)](_0x43a489),await helper[_0x50ceb5(0x158)](_0x18c2e4['config']);if(!_0x18c2e4['config'])return;process[_0x50ceb5(0x16b)]=_0x43a489[_0x50ceb5(0x16b)];_0x43a489[_0x50ceb5(0x16b)]&&(process[_0x50ceb5(0x135)][_0x50ceb5(0x16b)]=_0x43a489[_0x50ceb5(0x16b)]);const _0x52ea65=_0x35fed2[_0x50ceb5(0x147)](getUserCodeceptJSConfigs,_0x43a489,_0x11dbd5);let _0x1f9809={};_0x52ea65?(logger[_0x50ceb5(0x179)]('Getting\x20your\x20codeceptjs\x20configs\x20from\x20'+_0x52ea65),_0x1f9809=CodeceptJS['config'][_0x50ceb5(0x164)](_0x52ea65)):logger[_0x50ceb5(0x179)](_0x35fed2[_0x50ceb5(0x16d)]);let _0x2385b6=![];_0x35fed2[_0x50ceb5(0x10d)](nestedKeyValue,_0x1f9809,[_0x35fed2[_0x50ceb5(0x173)],_0x35fed2['QtiWR']])&&(_0x2385b6=!![]);const _0xc9b17=_0x2385b6?_0x35fed2[_0x50ceb5(0xfc)]:_0x35fed2[_0x50ceb5(0x15b)];let _0x183dad=!_0x2385b6?helper['useW3C'](_0x18c2e4[_0x50ceb5(0x170)]):![];!helper['isUndefined'](_0x18c2e4['config']['accessibilityOptions'])&&(process['env']['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON['stringify'](_0x18c2e4['config'][_0x50ceb5(0x145)]));let _0x3500da=_0x18c2e4[_0x50ceb5(0x170)][_0x50ceb5(0xf6)];_0x3500da=_0x3500da||_0x35fed2[_0x50ceb5(0x12a)](checkAccessibilityPlatformConfig,_0x18c2e4['config']),process[_0x50ceb5(0x135)][_0x50ceb5(0x162)]=_0x3500da;_0x3500da&&(_0x183dad=!_0x3500da);_0x35fed2[_0x50ceb5(0xf3)](_0x18c2e4['config'][_0x50ceb5(0x153)],null)?process[_0x50ceb5(0x135)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x18c2e4['config'][_0x50ceb5(0x153)]:process[_0x50ceb5(0x135)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x35fed2[_0x50ceb5(0xf4)](_0xc9b17,_0x35fed2['QtiWR']);const _0x2aee31=_0x35fed2[_0x50ceb5(0x17e)](nestedKeyValue,_0x1f9809,[_0x35fed2['fyYSv']]),_0x562806=_0x2aee31&&!helper[_0x50ceb5(0x127)](_0x2aee31)?FRAMEWORKS['CODECEPT_CUCUMBER']:FRAMEWORKS[_0x50ceb5(0x121)],_0x1e5559=await TestHubHandler['launchBuild'](_0x562806,_0x18c2e4);_0x3500da&&_0x35fed2[_0x50ceb5(0x11d)](setAccessibilityCapabilities,_0x18c2e4[_0x50ceb5(0x170)]);const _0x44b698={},_0x213841=[],_0x71297c=_0x18c2e4[_0x50ceb5(0x170)][_0x50ceb5(0x16e)]||helper[_0x50ceb5(0x144)](_0x43a489,_0x11dbd5,_0x18c2e4[_0x50ceb5(0x170)],constants[_0x50ceb5(0x10f)][_0x50ceb5(0x121)])||0x1;let _0x27f23d=0x1;if(_0x35fed2[_0x50ceb5(0xf2)](isBrowserstackInfra)){const _0x1d756a=helper['prepareCapabilities'](_0x18c2e4['config'],_0x183dad,constants[_0x50ceb5(0x10f)]['CODECEPT']);_0x1d756a[_0x50ceb5(0x142)](_0x525199=>{helper['setAdditionalCapabilities'](_0x525199);}),helper[_0x50ceb5(0x16c)](_0x18c2e4['config'])?_0x27f23d=_0x35fed2[_0x50ceb5(0x129)](_0x71297c,_0x18c2e4[_0x50ceb5(0x170)][_0x50ceb5(0x154)]['length']):_0x27f23d=_0x71297c,_0x1d756a[_0x50ceb5(0x142)](_0x4c7ec3=>{const _0x2a628b=_0x50ceb5,_0x7dd2f3=_0x35fed2['hXczw'](helper[_0x2a628b(0x143)](_0x4c7ec3,'_'),'_'+Date['now']()),_0x500ccc=((()=>{const _0x89e775=_0x2a628b;if(_0x2385b6){const _0x11b980=pwToCodeceptBrowser[_0x4c7ec3[_0x89e775(0x119)]]||_0x4c7ec3[_0x89e775(0x119)];return{'browser':_0x11b980,[_0x11b980]:{'browserWSEndpoint':_0x35fed2[_0x89e775(0x152)](helper[_0x89e775(0x11f)](_0x18c2e4['config']),_0x35fed2['aossS'](encodeURIComponent,JSON[_0x89e775(0x141)](_0x4c7ec3)))}};}const _0x1b353a={};return _0x1b353a['desiredCapabilities']=_0x4c7ec3,_0x1b353a;})()),_0x34b97f=_0x35fed2['jFUGB'](nestedKeyValue,_0x1f9809,[_0x35fed2['pgzHu'],_0xc9b17]);_0x44b698[_0x7dd2f3]=_0x34b97f?helper['mergeDeep'](_0x500ccc,_0x34b97f):_0x500ccc,!_0x2385b6&&(_0x44b698[_0x7dd2f3]['browser']=_0x4c7ec3[_0x2a628b(0x119)]||_0x500ccc['browser']),_0x213841[_0x2a628b(0x175)](_0x7dd2f3);});}else{_0x27f23d=0x1;if(_0x2385b6){const _0x2c95ac=_0x35fed2[_0x50ceb5(0x14c)](nestedKeyValue,_0x1f9809,[_0x35fed2[_0x50ceb5(0x173)],_0xc9b17,_0x35fed2[_0x50ceb5(0xff)]]),_0x5b8bb7=_0x35fed2[_0x50ceb5(0x14c)](nestedKeyValue,_0x1f9809,[_0x35fed2[_0x50ceb5(0x173)],_0xc9b17,_0x2c95ac]);_0x5b8bb7&&_0x5b8bb7[_0x50ceb5(0xfb)]&&(_0x5b8bb7[_0x50ceb5(0xfb)]=helper['prepareCapabilities'](null,null,_0x562806[_0x50ceb5(0x100)](),null,null,_0x5b8bb7[_0x50ceb5(0xfb)]));}else _0x1f9809[_0x35fed2[_0x50ceb5(0x173)]][_0xc9b17][_0x35fed2[_0x50ceb5(0x148)]]=helper[_0x50ceb5(0x102)](null,null,_0x562806[_0x50ceb5(0x100)](),_0x35fed2[_0x50ceb5(0x14c)](nestedKeyValue,_0x1f9809,[_0x35fed2[_0x50ceb5(0x173)],_0xc9b17,_0x35fed2[_0x50ceb5(0x148)]]),null,null);_0x44b698[_0x35fed2[_0x50ceb5(0x132)]]=_0x1f9809,_0x213841[_0x50ceb5(0x175)](_0x35fed2['hqGyK']);}const _0x4a2983={};_0x4a2983[_0x50ceb5(0x113)]=_0x52ea65;const _0x382f1e=_0x4a2983,_0x436728=path['join'](__dirname,_0x35fed2[_0x50ceb5(0xfe)]),_0x14db00=process[_0x50ceb5(0x10c)]();process[_0x50ceb5(0x135)][_0x35fed2[_0x50ceb5(0x13f)]]=_0x14db00,process['chdir'](path['dirname'](_0x52ea65));const _0x120110=new CodeceptJS[(_0x50ceb5(0xf5))](null,_0x382f1e),_0x468e3f=_0x120110[_0x50ceb5(0x16a)](_0x27f23d),_0x102411=testOpsHelper[_0x50ceb5(0x112)](),_0x360f0a=_0x213841[_0x50ceb5(0x105)](_0x374b9f=>{const _0x189bc8=_0x50ceb5,_0x1d3741={};_0x1d3741[_0x189bc8(0x151)]=_0x44b698[_0x374b9f];const _0x5365d3={};_0x5365d3['WebDriver']=_0x44b698[_0x374b9f];const _0x122693=_0x2385b6?_0x1d3741:_0x5365d3,_0x556793=_0x35fed2[_0x189bc8(0x13e)](getO11yRerunPattern),_0x27ab91={};_0x27ab91[_0x189bc8(0x117)]=_0x122693;const _0x1322a6={};_0x1322a6[_0x189bc8(0x17b)]=_0x436728,_0x1322a6[_0x189bc8(0x128)]=!![],_0x1322a6[_0x189bc8(0x15a)]=_0x18c2e4[_0x189bc8(0x170)][_0x189bc8(0x130)]['skipSessionName'],_0x1322a6[_0x189bc8(0x174)]=_0x18c2e4[_0x189bc8(0x170)]['testContextOptions']['skipSessionStatus'],_0x1322a6[_0x189bc8(0x153)]=_0x102411,_0x1322a6[_0x189bc8(0x109)]=_0x562806;const _0x22c213={};_0x22c213[_0x189bc8(0x116)]=_0x1322a6;const _0x147ee3={};return _0x147ee3[_0x189bc8(0x139)]=_0x22c213,helper['mergeDeep']({},_0x1f9809,_0x35fed2[_0x189bc8(0x13e)](isBrowserstackInfra)?_0x27ab91:{},_0x556793?{'grep':_0x556793}:{},_0x147ee3);});for(const _0x1c3885 of _0x360f0a){for(const _0x56925d of _0x468e3f){const _0x2bb01c=_0x120110[_0x50ceb5(0x14b)]();_0x2bb01c['addTests'](_0x56925d),_0x2bb01c[_0x50ceb5(0x140)](_0x1c3885);const _0x4af612={};_0x4af612['config']=_0x52ea65,_0x2bb01c[_0x50ceb5(0x101)](_0x4af612);}}_0x120110['on'](CodeceptJS[_0x50ceb5(0x12d)][_0x50ceb5(0x15f)]['failed'],(_0x27b344,_0x4f1fb3)=>{const _0x4740f5=_0x50ceb5;console[_0x4740f5(0x122)](_0x35fed2[_0x4740f5(0x134)],_0x27b344['title']);const _0x473f25={[_0x27b344['title']]:_0x27b344[_0x4740f5(0x17c)][_0x4740f5(0x160)]};_testErrorData[_0x4740f5(0x175)](_0x473f25);}),_0x120110['on'](CodeceptJS[_0x50ceb5(0x12d)][_0x50ceb5(0x15f)][_0x50ceb5(0x166)],async _0x40ada7=>{const _0x41fe0a=_0x50ceb5;console['log'](_0x35fed2[_0x41fe0a(0x12b)],_0x40ada7[_0x41fe0a(0x104)]);}),_0x120110['on'](CodeceptJS[_0x50ceb5(0x12d)][_0x50ceb5(0x15f)]['before'],async _0x2d7140=>{const _0x34f827=_0x50ceb5;console[_0x34f827(0x122)](_0x35fed2['duxAW'],_0x2d7140['title']);}),_0x120110['on'](CodeceptJS[_0x50ceb5(0x12d)]['all'][_0x50ceb5(0x120)],async()=>{const _0x5d5548=_0x50ceb5,_0x296eb3=_0x35fed2['AcSRV'][_0x5d5548(0x136)]('|');let _0x519fcd=0x0;while(!![]){switch(_0x296eb3[_0x519fcd++]){case'0':PerformanceTester['start'](PerformanceEvents[_0x5d5548(0xfa)]);continue;case'1':try{await TestHubHandler['stop']();}catch(_0xd34a18){logger[_0x5d5548(0x123)]('Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20'+util[_0x5d5548(0x111)](_0xd34a18));}continue;case'2':_0x18c2e4[_0x5d5548(0x124)]=_testErrorData;continue;case'3':testOpsHelper[_0x5d5548(0xf9)]();continue;case'4':utilities['finalExecution'](_0x18c2e4);continue;case'5':_0x120110[_0x5d5548(0xf1)]();continue;}break;}});async function _0x3b2397(){const _0x5d3e2e=_0x50ceb5;try{await _0x120110['bootstrapAll'](),await _0x120110[_0x5d3e2e(0x17d)]();}finally{process[_0x5d3e2e(0x15c)](_0x14db00),await _0x120110[_0x5d3e2e(0x176)]();}}PerformanceTester[_0x50ceb5(0x14d)](PerformanceEvents[_0x50ceb5(0x10a)]),_0x35fed2[_0x50ceb5(0x138)](_0x3b2397);}module[a2_0x378bfe(0x15d)]=run;function a2_0x32ae(){const _0x28d1aa=['BROWSERSTACK_RERUN','printResults','pwcHK','wPmNT','eNyRD','Workers','accessibility','pptOF','winstonLogger','printBuildLink','SDK_CLEANUP','browserWSEndpoint','QtiWR','../../helpers/test-observability/constants','yZwjZ','EVZSU','toLowerCase','addOptions','prepareCapabilities','21bqAIPB','title','map','firefox','slice','../../helpers/performance/performance-tester','frameworkName','SDK_SETUP','codeceptjs/lib/index.js','cwd','joWLW','browser','FRAMEWORKS','CtjLr','format','isTestObservabilitySession','testConfig','findIndex','../../helpers/test-observability/utils','BrowserStackPlugin','helpers','../../helpers/accessibility-automation/helper','browserName','isTrue','JCVNJ','1713256pixfvh','HbkIK','existsSync','getPlaywrightUrl','result','CODECEPT','log','debug','errorMessage','playwright-firefox','../../bin/playwright/accessibility-helper','isEmpty','enabled','rHFLI','aossS','YIzRS','chromium','event','../../helpers/utilities','Failed\x20:\x20','testContextOptions','../../helpers/helper','hqGyK','util','zIyYn','env','split','path','YrmUH','plugins','12cpBLXO','webkit','92bfaqiW','3837768ysAyWM','PraQd','FicFM','addConfig','stringify','forEach','getPlatformName','getUserWorkerCount','accessibilityOptions','0|2|3|4|1|5','jFUGB','hWHyw','717350eGYlCn','129687mQagBY','spawn','jXdeY','end','6HcXObt','221956GmDYut','--config','Playwright','hXczw','testObservability','platforms','root','3756575DteoNH','WebDriver','handleApp','playwright-webkit','skipSessionName','UPMHI','chdir','exports','desiredCapabilities','test','stack','codecept.conf.js','BROWSERSTACK_TEST_ACCESSIBILITY_YML','../../helpers/BrowserStackSetup','load','../../helpers/testhub/testhubHandler','passed','228078JuEsww','join','EVENTS','createGroupsOfSuites','profile','validPlatformsPresent','pGncB','parallelsPerPlatform','initialize','config','99wwpbcE','playwright-chromium','pgzHu','skipSessionStatus','push','teardownAll','validateRerunTestList','isUndefined','info','BROWSERSTACK_RERUN_TESTS','require','err','run','PsANj','../utils/constants'];a2_0x32ae=function(){return _0x28d1aa;};return a2_0x32ae();}