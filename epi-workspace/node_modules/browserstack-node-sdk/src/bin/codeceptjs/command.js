#!/usr/bin/env node
'use strict';const a2_0x58c4e5=a2_0x45eb;(function(_0x172030,_0x3ea47c){const _0x57ece2=a2_0x45eb,_0x310ad4=_0x172030();while(!![]){try{const _0x528ddc=-parseInt(_0x57ece2(0x15f))/0x1*(parseInt(_0x57ece2(0x155))/0x2)+-parseInt(_0x57ece2(0x103))/0x3+-parseInt(_0x57ece2(0x173))/0x4*(-parseInt(_0x57ece2(0x120))/0x5)+-parseInt(_0x57ece2(0x149))/0x6*(parseInt(_0x57ece2(0x16c))/0x7)+parseInt(_0x57ece2(0x141))/0x8+-parseInt(_0x57ece2(0x136))/0x9*(parseInt(_0x57ece2(0x17b))/0xa)+parseInt(_0x57ece2(0x11f))/0xb*(parseInt(_0x57ece2(0x13a))/0xc);if(_0x528ddc===_0x3ea47c)break;else _0x310ad4['push'](_0x310ad4['shift']());}catch(_0x26ffe0){_0x310ad4['push'](_0x310ad4['shift']());}}}(a2_0x3354,0xb5935));const fs=require('fs'),path=require(a2_0x58c4e5(0xf7)),util=require(a2_0x58c4e5(0x121)),process=require('process'),logger=require(a2_0x58c4e5(0x10d))[a2_0x58c4e5(0x109)],{default:BrowserStackSetup}=require(a2_0x58c4e5(0x111)),helper=require(a2_0x58c4e5(0x117)),utilities=require(a2_0x58c4e5(0x127)),{checkAccessibilityPlatformConfig}=require('../../helpers/accessibility-automation/helper'),{setAccessibilityCapabilities}=require(a2_0x58c4e5(0xf5)),{requireModule,nestedKeyValue,isBrowserstackInfra}=require(a2_0x58c4e5(0x117)),CodeceptJS=requireModule(a2_0x58c4e5(0x13c),a2_0x58c4e5(0x175)),testOpsHelper=require(a2_0x58c4e5(0x163)),TestHubHandler=require(a2_0x58c4e5(0xf1)),constants=require('../utils/constants'),PerformanceTester=require(a2_0x58c4e5(0xed)),{FRAMEWORKS}=require(a2_0x58c4e5(0x10c)),PerformanceEvents=require(a2_0x58c4e5(0x129))[a2_0x58c4e5(0xf2)],_testErrorData=[],getUserCodeceptJSConfigs=(_0x518cd7,_0x1273a5)=>{const _0x19dbca=a2_0x58c4e5,_0x46160b={};_0x46160b['ULfEU']=function(_0x3886b3,_0x59db08){return _0x3886b3===_0x59db08;},_0x46160b['JIheu']=_0x19dbca(0x144),_0x46160b['sQHHK']='codecept.json';const _0x9965e5=_0x46160b;let _0x1a1891=null;const _0x3ced59={};let _0x320bb1=_0x1273a5[_0x19dbca(0x137)](_0x19a9e4=>_0x19a9e4===_0x19dbca(0x158));_0x9965e5['ULfEU'](_0x320bb1,-0x1)&&(_0x320bb1=_0x1273a5[_0x19dbca(0x137)](_0x48ae49=>_0x48ae49==='-c'));if(!helper[_0x19dbca(0x153)](_0x518cd7['config'])&&fs['existsSync'](path[_0x19dbca(0x10b)](process[_0x19dbca(0x161)](),_0x518cd7[_0x19dbca(0x16d)])))_0x1a1891=path['join'](process[_0x19dbca(0x161)](),_0x518cd7['config']),_0x1273a5[_0x19dbca(0x13e)](_0x320bb1,0x2);else{if(!helper['isUndefined'](_0x518cd7['c'])&&fs['existsSync'](path[_0x19dbca(0x10b)](process[_0x19dbca(0x161)](),_0x518cd7['c'])))_0x1a1891=path[_0x19dbca(0x10b)](process[_0x19dbca(0x161)](),_0x518cd7['c']),_0x1273a5[_0x19dbca(0x13e)](_0x320bb1,0x2);else{if(fs[_0x19dbca(0x150)](path[_0x19dbca(0x10b)](process[_0x19dbca(0x161)](),_0x9965e5[_0x19dbca(0x124)])))_0x1a1891=path[_0x19dbca(0x10b)](process[_0x19dbca(0x161)](),_0x9965e5[_0x19dbca(0x124)]);else fs['existsSync'](path['join'](process[_0x19dbca(0x161)](),_0x9965e5[_0x19dbca(0x16a)]))&&(_0x1a1891=path[_0x19dbca(0x10b)](process[_0x19dbca(0x161)](),_0x9965e5['sQHHK']));}}return process[_0x19dbca(0x142)]['USER_CONFIG_DETAILS_PATH']=_0x1a1891,_0x1a1891;},getO11yRerunPattern=()=>{const _0x450ff4=a2_0x58c4e5,_0x3e7ddf=helper[_0x450ff4(0x139)](process['env'][_0x450ff4(0x11d)]);if(_0x3e7ddf){const _0x53d211=process['env'][_0x450ff4(0xfe)],_0x18f0ce=[];if(helper[_0x450ff4(0x126)](_0x53d211)&&!helper[_0x450ff4(0x153)](_0x53d211)){_0x53d211[_0x450ff4(0x148)](',')[_0x450ff4(0x10a)](_0x5f03e1=>{const _0x194343=_0x450ff4;_0x18f0ce[_0x194343(0x159)]('('+_0x5f03e1['trim']()+')');});const _0x4d2bb1='^'+_0x18f0ce[_0x450ff4(0x10b)]('|')+'$';return _0x4d2bb1;}}return null;},a2_0xe90684={};function a2_0x45eb(_0x444c55,_0x4d4171){const _0x3354f4=a2_0x3354();return a2_0x45eb=function(_0x45eb0f,_0x400242){_0x45eb0f=_0x45eb0f-0xe7;let _0x1fd234=_0x3354f4[_0x45eb0f];return _0x1fd234;},a2_0x45eb(_0x444c55,_0x4d4171);}function a2_0x3354(){const _0x423c1f=['log','stringify','1|4|3|0|5|2','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','sQHHK','start','7979657AznoRl','config','run','dIDEV','skipSessionStatus','validPlatformsPresent','Workers','626216FAVUZb','BROWSERSTACK_TEST_OBSERVABILITY_YML','codeceptjs','testContextOptions','length','replace','debug','playwright-chromium','133780CbcMEJ','cLZQJ','testObservability','initialize','testConfig','root','xCjjq','BROWSERSTACK_TEST_ACCESSIBILITY_YML','../../helpers/performance/performance-tester','FRAMEWORKS','host','bootstrapAll','../../helpers/testhub/testhubHandler','EVENTS','DxbeO','isEmpty','../../bin/playwright/accessibility-helper','TeJuT','path','handleApp','finalExecution','parallelsPerPlatform','chdir','title','BrowserStackPlugin','BROWSERSTACK_RERUN_TESTS','browserWSEndpoint','pThnd','Playwright','toLowerCase','3061245tutsHK','SDK_CLEANUP','all','enabled','browser','browserStackCwd','winstonLogger','map','join','../../helpers/test-observability/constants','../../helpers/logger','AmBgn','event','desiredCapabilities','../../helpers/BrowserStackSetup','playwright-firefox','Passed\x20:\x20','user','test','getPlatformName','../../helpers/helper','helpers','nqrKu','firefox','browserName','Failed\x20:\x20','BROWSERSTACK_RERUN','WsnVv','275mgBVHn','20jKyPKH','util','playwright-webkit','getUserWorkerCount','JIheu','dirname','validateRerunTestList','../../helpers/utilities','bXxpq','../../helpers/performance/constants','/wd/hub','sBAur','accessibilityOptions','teardownAll','wzlYH','spawn','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','gherkin','platforms','load','prepareCapabilities','WebDriver','45gExNHs','findIndex','chromium','isTrue','812028fwnoKx','printResults','codeceptjs/lib/index.js','profile','slice','result','stop','9876584nONFjr','env','Started\x20:\x20','codecept.conf.js','RMkrA','Idqwn','addConfig','split','6btzkVI','exports','CODECEPT','addOptions','info','jMBDI','moxsD','existsSync','printBuildLink','isTestObservabilitySession','isUndefined','assign','33230DJtwKX','end','err','--config','push','heiWn','woLqG','lAKYD','useW3C','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','35DdtVje','userName','cwd','accessKey','../../helpers/test-observability/utils','skipSessionName','mergeDeep'];a2_0x3354=function(){return _0x423c1f;};return a2_0x3354();}a2_0xe90684['chrome']=a2_0x58c4e5(0x138),a2_0xe90684[a2_0x58c4e5(0x17a)]=a2_0x58c4e5(0x138),a2_0xe90684[a2_0x58c4e5(0x112)]=a2_0x58c4e5(0x11a),a2_0xe90684[a2_0x58c4e5(0x122)]='webkit';const pwToCodeceptBrowser=a2_0xe90684;async function run(_0x1ffdef,_0x25e213,_0x5b36b6){const _0x31c700=a2_0x58c4e5,_0x6966e1={'nqrKu':function(_0x315305,_0x5f2857){return _0x315305+_0x5f2857;},'Idqwn':function(_0x421e6d,_0x4b604f){return _0x421e6d(_0x4b604f);},'RMkrA':function(_0x2956dd,_0x241d40,_0xbff533){return _0x2956dd(_0x241d40,_0xbff533);},'sBAur':_0x31c700(0x118),'lAKYD':function(_0x4a3849){return _0x4a3849();},'DxbeO':_0x31c700(0x12a),'aKuVO':_0x31c700(0x11c),'moxsD':_0x31c700(0x113),'fZOdD':_0x31c700(0x143),'WsnVv':_0x31c700(0x168),'SdzCN':_0x31c700(0x169),'pThnd':_0x31c700(0x101),'viEnb':_0x31c700(0x135),'bXxpq':function(_0x183ac5,_0x7fb41e){return _0x183ac5(_0x7fb41e);},'xCjjq':function(_0x101af2,_0x39c2a8){return _0x101af2!=_0x39c2a8;},'cLZQJ':function(_0x2b865c,_0x377148){return _0x2b865c===_0x377148;},'wzlYH':_0x31c700(0x131),'PsykS':function(_0x5517d1,_0x44f3c2){return _0x5517d1(_0x44f3c2);},'TeJuT':function(_0x5971f5){return _0x5971f5();},'dIDEV':function(_0x46cd6c,_0xc91884){return _0x46cd6c*_0xc91884;},'UfxJt':_0x31c700(0x107),'heiWn':_0x31c700(0x110),'jMBDI':_0x31c700(0xea),'BxNOf':'BrowserStackPlugin.js','AmBgn':_0x31c700(0x108),'woLqG':function(_0x14fc07){return _0x14fc07();}};await _0x5b36b6[_0x31c700(0xe8)](_0x1ffdef),await helper[_0x31c700(0xf8)](_0x5b36b6[_0x31c700(0x16d)]);if(!_0x5b36b6[_0x31c700(0x16d)])return;process['profile']=_0x1ffdef[_0x31c700(0x13d)];_0x1ffdef['profile']&&(process[_0x31c700(0x142)][_0x31c700(0x13d)]=_0x1ffdef[_0x31c700(0x13d)]);const _0x380624=_0x6966e1[_0x31c700(0x145)](getUserCodeceptJSConfigs,_0x1ffdef,_0x25e213);let _0x1f39d8={};_0x380624?(logger[_0x31c700(0x14d)]('Getting\x20your\x20codeceptjs\x20configs\x20from\x20'+_0x380624),_0x1f39d8=CodeceptJS[_0x31c700(0x16d)][_0x31c700(0x133)](_0x380624)):logger[_0x31c700(0x14d)](_0x6966e1['SdzCN']);let _0x11190e=![];_0x6966e1[_0x31c700(0x145)](nestedKeyValue,_0x1f39d8,[_0x6966e1['sBAur'],_0x6966e1[_0x31c700(0x100)]])&&(_0x11190e=!![]);const _0x5a528f=_0x11190e?_0x6966e1[_0x31c700(0x100)]:_0x6966e1['viEnb'];let _0x5ef37e=!_0x11190e?helper[_0x31c700(0x15d)](_0x5b36b6['config']):![];!helper[_0x31c700(0x153)](_0x5b36b6['config']['accessibilityOptions'])&&(process[_0x31c700(0x142)][_0x31c700(0x15e)]=JSON['stringify'](_0x5b36b6[_0x31c700(0x16d)][_0x31c700(0x12c)]));let _0x1558bd=_0x5b36b6[_0x31c700(0x16d)]['accessibility'];_0x1558bd=_0x1558bd||_0x6966e1[_0x31c700(0x128)](checkAccessibilityPlatformConfig,_0x5b36b6[_0x31c700(0x16d)]),process[_0x31c700(0x142)][_0x31c700(0xec)]=_0x1558bd;_0x1558bd&&(_0x5ef37e=!_0x1558bd);_0x6966e1[_0x31c700(0xeb)](_0x5b36b6['config'][_0x31c700(0xe7)],null)?process[_0x31c700(0x142)][_0x31c700(0x174)]=_0x5b36b6[_0x31c700(0x16d)][_0x31c700(0xe7)]:process[_0x31c700(0x142)][_0x31c700(0x174)]=_0x6966e1[_0x31c700(0x17c)](_0x5a528f,_0x6966e1['pThnd']);const _0x5a6b26=_0x6966e1[_0x31c700(0x145)](nestedKeyValue,_0x1f39d8,[_0x6966e1[_0x31c700(0x12e)]]),_0x10ed4c=_0x5a6b26&&!helper[_0x31c700(0xf4)](_0x5a6b26)?FRAMEWORKS['CODECEPT_CUCUMBER']:FRAMEWORKS[_0x31c700(0x14b)],_0x58a6e8=await TestHubHandler['launchBuild'](_0x10ed4c,_0x5b36b6);_0x1558bd&&_0x6966e1['PsykS'](setAccessibilityCapabilities,_0x5b36b6[_0x31c700(0x16d)]);const _0x5af6f9={},_0x32b43e=[],_0x30a718=_0x5b36b6[_0x31c700(0x16d)][_0x31c700(0xfa)]||helper[_0x31c700(0x123)](_0x1ffdef,_0x25e213,_0x5b36b6[_0x31c700(0x16d)],constants[_0x31c700(0xee)][_0x31c700(0x14b)])||0x1;let _0x5bf5fd=0x1;if(_0x6966e1[_0x31c700(0xf6)](isBrowserstackInfra)){const _0x16b951=helper[_0x31c700(0x134)](_0x5b36b6[_0x31c700(0x16d)],_0x5ef37e,constants[_0x31c700(0xee)]['CODECEPT']);_0x16b951['forEach'](_0x42210a=>{helper['setAdditionalCapabilities'](_0x42210a);}),helper[_0x31c700(0x171)](_0x5b36b6[_0x31c700(0x16d)])?_0x5bf5fd=_0x6966e1[_0x31c700(0x16f)](_0x30a718,_0x5b36b6[_0x31c700(0x16d)][_0x31c700(0x132)][_0x31c700(0x177)]):_0x5bf5fd=_0x30a718,_0x16b951['forEach'](_0x1050e4=>{const _0x323587=_0x31c700,_0x20bd73=_0x6966e1[_0x323587(0x119)](helper[_0x323587(0x116)](_0x1050e4,'_'),'_'+Date['now']()),_0x23254e=((()=>{const _0x313c29=_0x323587;if(_0x11190e){const _0x3ec234=pwToCodeceptBrowser[_0x1050e4[_0x313c29(0x11b)]]||_0x1050e4[_0x313c29(0x11b)];return{'browser':_0x3ec234,[_0x3ec234]:{'browserWSEndpoint':_0x6966e1[_0x313c29(0x119)](helper['getPlaywrightUrl'](_0x5b36b6['config']),_0x6966e1[_0x313c29(0x146)](encodeURIComponent,JSON[_0x313c29(0x167)](_0x1050e4)))}};}const _0x18052a={};return _0x18052a[_0x313c29(0x110)]=_0x1050e4,_0x18052a[_0x313c29(0x114)]=_0x5b36b6[_0x313c29(0x16d)][_0x313c29(0x160)],_0x18052a['key']=_0x5b36b6['config'][_0x313c29(0x162)],_0x18052a;})()),_0x5ea246=_0x6966e1[_0x323587(0x145)](nestedKeyValue,_0x1f39d8,[_0x6966e1[_0x323587(0x12b)],_0x5a528f]);_0x5af6f9[_0x20bd73]=_0x5ea246?helper[_0x323587(0x165)](_0x23254e,_0x5ea246):_0x23254e;if(!_0x11190e){_0x5af6f9[_0x20bd73][_0x323587(0x107)]=_0x1050e4['browserName']||_0x23254e[_0x323587(0x107)];if(_0x6966e1[_0x323587(0x15c)](isBrowserstackInfra)){_0x5af6f9[_0x20bd73][_0x323587(0xef)]=constants['hubUrl']['replace'](_0x6966e1[_0x323587(0xf3)],'')[_0x323587(0x178)](/https?:\/\//,'');;_0x5af6f9[_0x20bd73][_0x323587(0xf7)]=_0x6966e1[_0x323587(0xf3)];}}_0x32b43e[_0x323587(0x159)](_0x20bd73);});}else{_0x5bf5fd=0x1;if(_0x11190e){const _0x255855=_0x6966e1[_0x31c700(0x145)](nestedKeyValue,_0x1f39d8,[_0x6966e1['sBAur'],_0x5a528f,_0x6966e1['UfxJt']]),_0x39e871=_0x6966e1['RMkrA'](nestedKeyValue,_0x1f39d8,[_0x6966e1[_0x31c700(0x12b)],_0x5a528f,_0x255855]);if(_0x39e871&&_0x39e871[_0x31c700(0xff)]){const _0x36f92f={};_0x36f92f['platforms']=[],_0x39e871['browserWSEndpoint']=helper['prepareCapabilities'](Object[_0x31c700(0x154)]({},_0x5b36b6[_0x31c700(0x16d)],_0x36f92f),null,_0x10ed4c[_0x31c700(0x102)](),null,null,_0x39e871[_0x31c700(0xff)]);}}else{const _0x32ce43={};_0x32ce43['platforms']=[],_0x1f39d8[_0x6966e1[_0x31c700(0x12b)]][_0x5a528f][_0x6966e1[_0x31c700(0x15a)]]=helper[_0x31c700(0x134)](Object[_0x31c700(0x154)]({},_0x5b36b6[_0x31c700(0x16d)],_0x32ce43),null,_0x10ed4c['toLowerCase'](),_0x6966e1[_0x31c700(0x145)](nestedKeyValue,_0x1f39d8,[_0x6966e1[_0x31c700(0x12b)],_0x5a528f,_0x6966e1[_0x31c700(0x15a)]])||{},null,null);}_0x5af6f9[_0x6966e1[_0x31c700(0x14e)]]=_0x1f39d8,_0x32b43e[_0x31c700(0x159)](_0x6966e1[_0x31c700(0x14e)]);}const _0x49e165={};_0x49e165[_0x31c700(0xe9)]=_0x380624;const _0x439c05=_0x49e165,_0x4a2c62=path['join'](__dirname,_0x6966e1['BxNOf']),_0x2181ec=process['cwd']();process[_0x31c700(0x142)][_0x6966e1[_0x31c700(0x10e)]]=_0x2181ec,process[_0x31c700(0xfb)](path[_0x31c700(0x125)](_0x380624));const _0x5ef519=new CodeceptJS[(_0x31c700(0x172))](null,_0x439c05),_0x2454d4=_0x5ef519['createGroupsOfSuites'](_0x5bf5fd),_0x38cd85=testOpsHelper[_0x31c700(0x152)](),_0xfd87da=_0x32b43e['map'](_0x25a041=>{const _0x59b30d=_0x31c700,_0x4e2408={};_0x4e2408[_0x59b30d(0x101)]=_0x5af6f9[_0x25a041];const _0x2a716e={};_0x2a716e[_0x59b30d(0x135)]=_0x5af6f9[_0x25a041];const _0x1b5279=_0x11190e?_0x4e2408:_0x2a716e,_0x1ab981=_0x6966e1[_0x59b30d(0x15c)](getO11yRerunPattern),_0x2ff2b9={};_0x2ff2b9['helpers']=_0x1b5279;const _0x1d83d2={};_0x1d83d2['require']=_0x4a2c62,_0x1d83d2[_0x59b30d(0x106)]=!![],_0x1d83d2[_0x59b30d(0x164)]=_0x5b36b6[_0x59b30d(0x16d)][_0x59b30d(0x176)][_0x59b30d(0x164)],_0x1d83d2[_0x59b30d(0x170)]=_0x5b36b6['config'][_0x59b30d(0x176)][_0x59b30d(0x170)],_0x1d83d2[_0x59b30d(0xe7)]=_0x38cd85,_0x1d83d2['frameworkName']=_0x10ed4c;const _0x57d0c2={};_0x57d0c2[_0x59b30d(0xfd)]=_0x1d83d2;const _0x416a7a={};return _0x416a7a['plugins']=_0x57d0c2,helper[_0x59b30d(0x165)]({},_0x1f39d8,_0x6966e1[_0x59b30d(0x15c)](isBrowserstackInfra)?_0x2ff2b9:{},_0x1ab981?{'grep':_0x1ab981}:{},_0x416a7a);});for(const _0x5039aa of _0xfd87da){for(const _0x48daed of _0x2454d4){const _0x456ed7=_0x5ef519[_0x31c700(0x12f)]();_0x456ed7['addTests'](_0x48daed),_0x456ed7[_0x31c700(0x147)](_0x5039aa);const _0x50e8a5={};_0x50e8a5[_0x31c700(0x16d)]=_0x380624,_0x456ed7[_0x31c700(0x14c)](_0x50e8a5);}}_0x5ef519['on'](CodeceptJS['event']['test']['failed'],(_0x2e9eb7,_0x1a6eb3)=>{const _0x2f1672=_0x31c700;console['log'](_0x6966e1['aKuVO'],_0x2e9eb7[_0x2f1672(0xfc)]);const _0x193c03={[_0x2e9eb7[_0x2f1672(0xfc)]]:_0x2e9eb7[_0x2f1672(0x157)]['stack']};_testErrorData[_0x2f1672(0x159)](_0x193c03);}),_0x5ef519['on'](CodeceptJS[_0x31c700(0x10f)][_0x31c700(0x115)]['passed'],async _0x408e14=>{const _0x11433a=_0x31c700;console[_0x11433a(0x166)](_0x6966e1[_0x11433a(0x14f)],_0x408e14[_0x11433a(0xfc)]);}),_0x5ef519['on'](CodeceptJS[_0x31c700(0x10f)][_0x31c700(0x115)]['before'],async _0xf4525b=>{const _0x226662=_0x31c700;console[_0x226662(0x166)](_0x6966e1['fZOdD'],_0xf4525b['title']);}),_0x5ef519['on'](CodeceptJS[_0x31c700(0x10f)][_0x31c700(0x105)][_0x31c700(0x13f)],async()=>{const _0x4bb5e0=_0x31c700,_0x599459=_0x6966e1[_0x4bb5e0(0x11e)]['split']('|');let _0x1d566e=0x0;while(!![]){switch(_0x599459[_0x1d566e++]){case'0':utilities[_0x4bb5e0(0xf9)](_0x5b36b6);continue;case'1':PerformanceTester[_0x4bb5e0(0x16b)](PerformanceEvents[_0x4bb5e0(0x104)]);continue;case'2':_0x5ef519[_0x4bb5e0(0x13b)]();continue;case'3':testOpsHelper[_0x4bb5e0(0x151)]();continue;case'4':_0x5b36b6['errorMessage']=_testErrorData;continue;case'5':try{await TestHubHandler[_0x4bb5e0(0x140)]();}catch(_0x291fcd){logger[_0x4bb5e0(0x179)](_0x4bb5e0(0x130)+util['format'](_0x291fcd));}continue;}break;}});async function _0x2c5c43(){const _0x2e7bf9=_0x31c700;try{await _0x5ef519[_0x2e7bf9(0xf0)](),await _0x5ef519[_0x2e7bf9(0x16e)]();}finally{process['chdir'](_0x2181ec),await _0x5ef519[_0x2e7bf9(0x12d)]();}}PerformanceTester[_0x31c700(0x156)](PerformanceEvents['SDK_SETUP']),_0x6966e1[_0x31c700(0x15b)](_0x2c5c43);}module[a2_0x58c4e5(0x14a)]=run;