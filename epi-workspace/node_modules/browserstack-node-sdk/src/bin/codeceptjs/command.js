#!/usr/bin/env node
'use strict';const a2_0x40c662=a2_0x36a7;(function(_0x3aaf6b,_0x356420){const _0x5e820b=a2_0x36a7,_0x130af4=_0x3aaf6b();while(!![]){try{const _0x403960=parseInt(_0x5e820b(0x161))/0x1*(parseInt(_0x5e820b(0xfb))/0x2)+parseInt(_0x5e820b(0x169))/0x3+parseInt(_0x5e820b(0x159))/0x4+parseInt(_0x5e820b(0x109))/0x5+-parseInt(_0x5e820b(0x127))/0x6+-parseInt(_0x5e820b(0x16e))/0x7*(-parseInt(_0x5e820b(0x131))/0x8)+-parseInt(_0x5e820b(0x13e))/0x9;if(_0x403960===_0x356420)break;else _0x130af4['push'](_0x130af4['shift']());}catch(_0x3628d4){_0x130af4['push'](_0x130af4['shift']());}}}(a2_0x4bf1,0xe00db));const fs=require('fs'),path=require(a2_0x40c662(0x17a)),util=require('util'),process=require(a2_0x40c662(0x173)),logger=require(a2_0x40c662(0x17b))[a2_0x40c662(0x125)],{default:BrowserStackSetup}=require(a2_0x40c662(0x12d)),helper=require('../../helpers/helper'),utilities=require('../../helpers/utilities'),{checkAccessibilityPlatformConfig}=require(a2_0x40c662(0x18b)),{setAccessibilityCapabilities}=require(a2_0x40c662(0x15e)),{requireModule,nestedKeyValue,isBrowserstackInfra}=require('../../helpers/helper'),CodeceptJS=requireModule(a2_0x40c662(0x174),a2_0x40c662(0x104)),testOpsHelper=require('../../helpers/test-observability/utils'),TestHubHandler=require(a2_0x40c662(0x106)),constants=require(a2_0x40c662(0x17e)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a2_0x40c662(0x12c))[a2_0x40c662(0x147)],_testErrorData=[],getUserCodeceptJSConfigs=(_0x5868a2,_0x2971cd)=>{const _0x5a9a63=a2_0x40c662,_0xe2d415={};_0xe2d415[_0x5a9a63(0x10b)]=function(_0x48f1d9,_0x541553){return _0x48f1d9===_0x541553;},_0xe2d415[_0x5a9a63(0x143)]=_0x5a9a63(0x16d),_0xe2d415[_0x5a9a63(0x13a)]='codecept.json';const _0x39799c=_0xe2d415;let _0x309363=null;const _0x216418={};let _0x1bd6b6=_0x2971cd[_0x5a9a63(0x191)](_0x3de12c=>_0x3de12c===_0x5a9a63(0x14e));_0x39799c[_0x5a9a63(0x10b)](_0x1bd6b6,-0x1)&&(_0x1bd6b6=_0x2971cd['findIndex'](_0x475ab0=>_0x475ab0==='-c'));if(!helper[_0x5a9a63(0x142)](_0x5868a2[_0x5a9a63(0x100)])&&fs[_0x5a9a63(0x16a)](path['join'](process[_0x5a9a63(0x10d)](),_0x5868a2[_0x5a9a63(0x100)])))_0x309363=path['join'](process[_0x5a9a63(0x10d)](),_0x5868a2['config']),_0x2971cd[_0x5a9a63(0xff)](_0x1bd6b6,0x2);else{if(!helper[_0x5a9a63(0x142)](_0x5868a2['c'])&&fs[_0x5a9a63(0x16a)](path['join'](process['cwd'](),_0x5868a2['c'])))_0x309363=path[_0x5a9a63(0x132)](process[_0x5a9a63(0x10d)](),_0x5868a2['c']),_0x2971cd[_0x5a9a63(0xff)](_0x1bd6b6,0x2);else{if(fs['existsSync'](path[_0x5a9a63(0x132)](process[_0x5a9a63(0x10d)](),_0x39799c[_0x5a9a63(0x143)])))_0x309363=path[_0x5a9a63(0x132)](process[_0x5a9a63(0x10d)](),_0x39799c[_0x5a9a63(0x143)]);else fs['existsSync'](path[_0x5a9a63(0x132)](process[_0x5a9a63(0x10d)](),_0x39799c[_0x5a9a63(0x13a)]))&&(_0x309363=path['join'](process[_0x5a9a63(0x10d)](),_0x39799c[_0x5a9a63(0x13a)]));}}return process['env']['USER_CONFIG_DETAILS_PATH']=_0x309363,_0x309363;},getO11yRerunPattern=()=>{const _0x2d9ffc=a2_0x40c662,_0x35af0d=helper['isTrue'](process[_0x2d9ffc(0x10c)][_0x2d9ffc(0x15d)]);if(_0x35af0d){const _0x2c0972=process['env'][_0x2d9ffc(0x154)],_0x51a328=[];if(helper[_0x2d9ffc(0x189)](_0x2c0972)&&!helper[_0x2d9ffc(0x142)](_0x2c0972)){_0x2c0972[_0x2d9ffc(0x148)](',')[_0x2d9ffc(0x115)](_0x243f3e=>{const _0x1f36a2=_0x2d9ffc;_0x51a328[_0x1f36a2(0x110)]('('+_0x243f3e['trim']()+')');});const _0x29b917='^'+_0x51a328[_0x2d9ffc(0x132)]('|')+'$';return _0x29b917;}}return null;},a2_0x212a5a={};a2_0x212a5a[a2_0x40c662(0x11e)]='chromium',a2_0x212a5a[a2_0x40c662(0x126)]=a2_0x40c662(0x114),a2_0x212a5a[a2_0x40c662(0x14a)]=a2_0x40c662(0x12a),a2_0x212a5a[a2_0x40c662(0x185)]=a2_0x40c662(0x14f);const pwToCodeceptBrowser=a2_0x212a5a;function a2_0x36a7(_0x398eee,_0x3d9157){const _0x4bf11a=a2_0x4bf1();return a2_0x36a7=function(_0x36a79c,_0x3bce37){_0x36a79c=_0x36a79c-0xf9;let _0x279e93=_0x4bf11a[_0x36a79c];return _0x279e93;},a2_0x36a7(_0x398eee,_0x3d9157);}async function run(_0x5dcb51,_0x5ea9f6){const _0x567315=a2_0x40c662,_0x345547={'zFfKo':function(_0x29d6ec,_0x80157d){return _0x29d6ec+_0x80157d;},'bRgop':function(_0x4658df,_0xdf7742){return _0x4658df(_0xdf7742);},'IDQdX':function(_0x16dd3e,_0x1480b3,_0x2bfd52){return _0x16dd3e(_0x1480b3,_0x2bfd52);},'ICPOI':_0x567315(0x170),'ljgQJ':function(_0x5ea689){return _0x5ea689();},'zvZwQ':_0x567315(0x108),'nJsOo':_0x567315(0x15f),'GpPCZ':'Started\x20:\x20','vXmzL':'3|4|0|1|5|2','QdkJO':_0x567315(0x104),'RFfAC':_0x567315(0x192),'YpCQG':_0x567315(0x166),'SuLQi':_0x567315(0x137),'dmtix':function(_0x1e7503,_0x3a4eb9){return _0x1e7503(_0x3a4eb9);},'AitjZ':function(_0xfbaa7f,_0xfbffc9){return _0xfbaa7f!=_0xfbffc9;},'wMUBX':function(_0x3bfdc3,_0x43d8fe){return _0x3bfdc3===_0x43d8fe;},'Mhmof':_0x567315(0x182),'TfERI':function(_0x57d129,_0x36f5d5){return _0x57d129+_0x36f5d5;},'gvNhJ':'-cucumber','tVCwm':function(_0x3d0f96,_0x5ef10a){return _0x3d0f96(_0x5ef10a);},'DEhIx':function(_0x1085a8){return _0x1085a8();},'RJaft':function(_0x5e6bb4,_0x13d355){return _0x5e6bb4*_0x13d355;},'PdGxY':_0x567315(0x190),'TmWht':function(_0x483f42,_0x2635cc,_0x31af8f){return _0x483f42(_0x2635cc,_0x31af8f);},'iVpeC':_0x567315(0x121),'SkVjV':_0x567315(0x177),'wITlX':_0x567315(0x138),'bJlwT':'browserStackCwd','YAXRy':function(_0x366b1a){return _0x366b1a();}},_0x4d637a=new BrowserStackSetup(_0x5dcb51,_0x345547['QdkJO']);await _0x4d637a[_0x567315(0x14d)](),await helper[_0x567315(0x15b)](_0x4d637a[_0x567315(0x100)]);if(!_0x4d637a[_0x567315(0x100)])return;process['profile']=_0x5dcb51[_0x567315(0x156)];_0x5dcb51[_0x567315(0x156)]&&(process[_0x567315(0x10c)][_0x567315(0x156)]=_0x5dcb51[_0x567315(0x156)]);const _0x1beabe=_0x345547['IDQdX'](getUserCodeceptJSConfigs,_0x5dcb51,_0x5ea9f6);let _0x4767a0={};_0x1beabe?(logger['info'](_0x567315(0x12b)+_0x1beabe),_0x4767a0=CodeceptJS[_0x567315(0x100)][_0x567315(0x120)](_0x1beabe)):logger[_0x567315(0x188)](_0x345547[_0x567315(0xfd)]);let _0x120d5a=![];_0x345547[_0x567315(0x122)](nestedKeyValue,_0x4767a0,[_0x345547[_0x567315(0x162)],_0x345547[_0x567315(0x136)]])&&(_0x120d5a=!![]);const _0x410365=_0x120d5a?_0x345547[_0x567315(0x136)]:_0x345547[_0x567315(0x17d)];let _0x22b13c=!_0x120d5a?helper[_0x567315(0x18a)](_0x4d637a['config']):![];!helper[_0x567315(0x142)](_0x4d637a['config'][_0x567315(0x118)])&&(process[_0x567315(0x10c)][_0x567315(0x18e)]=JSON[_0x567315(0x11c)](_0x4d637a[_0x567315(0x100)][_0x567315(0x118)]));let _0x1504a1=_0x4d637a['config'][_0x567315(0x113)];_0x1504a1=_0x1504a1||_0x345547[_0x567315(0x15c)](checkAccessibilityPlatformConfig,_0x4d637a[_0x567315(0x100)]),process[_0x567315(0x10c)][_0x567315(0x119)]=_0x1504a1;_0x1504a1&&(_0x22b13c=!_0x1504a1);_0x345547[_0x567315(0x117)](_0x4d637a[_0x567315(0x100)]['testObservability'],null)?process[_0x567315(0x10c)][_0x567315(0x18f)]=_0x4d637a[_0x567315(0x100)][_0x567315(0x111)]:process[_0x567315(0x10c)][_0x567315(0x18f)]=_0x345547[_0x567315(0x184)](_0x410365,_0x345547[_0x567315(0x136)]);const _0x26c274=_0x345547[_0x567315(0x122)](nestedKeyValue,_0x4767a0,[_0x345547[_0x567315(0x140)]]),_0x184e5d=_0x345547['TfERI'](_0x345547[_0x567315(0xfe)],_0x26c274&&!helper[_0x567315(0x186)](_0x26c274)?_0x345547[_0x567315(0x10a)]:''),_0x30f0f8=await TestHubHandler[_0x567315(0x163)](_0x184e5d,_0x4d637a);_0x1504a1&&_0x345547[_0x567315(0x13b)](setAccessibilityCapabilities,_0x4d637a[_0x567315(0x100)]);const _0x2e4ccb={},_0x26bffd=[],_0x58349f=_0x4d637a[_0x567315(0x100)][_0x567315(0x16f)]||helper[_0x567315(0x16b)](_0x5dcb51,_0x5ea9f6,_0x4d637a[_0x567315(0x100)],constants[_0x567315(0x18d)][_0x567315(0x130)])||0x1;let _0x4f3e0a=0x1;if(_0x345547['DEhIx'](isBrowserstackInfra)){const _0x1bf3ba=helper[_0x567315(0x18c)](_0x4d637a[_0x567315(0x100)],_0x22b13c,constants[_0x567315(0x18d)][_0x567315(0x130)]);_0x1bf3ba[_0x567315(0x144)](_0x4a3aca=>{const _0x229ed6=_0x567315;helper[_0x229ed6(0x128)](_0x4a3aca);}),helper[_0x567315(0x176)](_0x4d637a[_0x567315(0x100)])?_0x4f3e0a=_0x345547[_0x567315(0x141)](_0x58349f,_0x4d637a[_0x567315(0x100)]['platforms'][_0x567315(0x112)]):_0x4f3e0a=_0x58349f,_0x1bf3ba[_0x567315(0x144)](_0x5ea287=>{const _0x37c6be=_0x567315,_0x5021e7={'yJUlj':function(_0x5b9262,_0xf35e13){const _0x229ab2=a2_0x36a7;return _0x345547[_0x229ab2(0x12e)](_0x5b9262,_0xf35e13);},'tuHvO':function(_0x2c53be,_0x1167c8){const _0x1af2b5=a2_0x36a7;return _0x345547[_0x1af2b5(0x183)](_0x2c53be,_0x1167c8);}},_0x79422a=_0x345547[_0x37c6be(0x12e)](helper[_0x37c6be(0x13c)](_0x5ea287,'_'),'_'+Date['now']()),_0x4cec26=((()=>{const _0x13dc4b=_0x37c6be;if(_0x120d5a){const _0x2f8629=pwToCodeceptBrowser[_0x5ea287['browserName']]||_0x5ea287[_0x13dc4b(0x171)];return{'browser':_0x2f8629,[_0x2f8629]:{'browserWSEndpoint':_0x5021e7['yJUlj'](helper[_0x13dc4b(0x11d)](_0x4d637a[_0x13dc4b(0x100)]),_0x5021e7[_0x13dc4b(0x15a)](encodeURIComponent,JSON[_0x13dc4b(0x11c)](_0x5ea287)))}};}const _0x11c22e={};return _0x11c22e[_0x13dc4b(0x121)]=_0x5ea287,_0x11c22e;})()),_0x3ae579=_0x345547[_0x37c6be(0x122)](nestedKeyValue,_0x4767a0,[_0x345547[_0x37c6be(0x162)],_0x410365]);_0x2e4ccb[_0x79422a]=_0x3ae579?helper[_0x37c6be(0x16c)](_0x4cec26,_0x3ae579):_0x4cec26,!_0x120d5a&&(_0x2e4ccb[_0x79422a][_0x37c6be(0x190)]=_0x5ea287['browserName']||_0x4cec26[_0x37c6be(0x190)]),_0x26bffd['push'](_0x79422a);});}else{_0x4f3e0a=0x1;if(_0x120d5a){const _0x300277=_0x345547['IDQdX'](nestedKeyValue,_0x4767a0,[_0x345547[_0x567315(0x162)],_0x410365,_0x345547[_0x567315(0x103)]]),_0x19e529=_0x345547[_0x567315(0x129)](nestedKeyValue,_0x4767a0,[_0x345547[_0x567315(0x162)],_0x410365,_0x300277]);_0x19e529&&_0x19e529[_0x567315(0x157)]&&(_0x19e529[_0x567315(0x157)]=helper[_0x567315(0x18c)](null,null,_0x184e5d[_0x567315(0x133)](),null,null,_0x19e529[_0x567315(0x157)]));}else _0x4767a0[_0x345547[_0x567315(0x162)]][_0x410365][_0x345547[_0x567315(0x194)]]=helper[_0x567315(0x18c)](null,null,_0x184e5d[_0x567315(0x133)](),_0x345547['IDQdX'](nestedKeyValue,_0x4767a0,[_0x345547[_0x567315(0x162)],_0x410365,_0x345547[_0x567315(0x194)]]),null,null);_0x2e4ccb[_0x345547[_0x567315(0x116)]]=_0x4767a0,_0x26bffd[_0x567315(0x110)](_0x345547[_0x567315(0x116)]);}const _0x222b70={};_0x222b70['testConfig']=_0x1beabe;const _0x18f091=_0x222b70,_0x5dfc41=path[_0x567315(0x132)](__dirname,_0x345547[_0x567315(0x165)]),_0x1bfc7f=process[_0x567315(0x10d)]();process[_0x567315(0x10c)][_0x345547['bJlwT']]=_0x1bfc7f,process[_0x567315(0x124)](path[_0x567315(0x135)](_0x1beabe));const _0x408d78=new CodeceptJS[(_0x567315(0x164))](null,_0x18f091),_0x4b64f3=_0x408d78['createGroupsOfSuites'](_0x4f3e0a),_0x34583c=testOpsHelper[_0x567315(0x193)](),_0x4c8003=_0x26bffd['map'](_0x375848=>{const _0xfb0a00=_0x567315,_0x571edf={};_0x571edf[_0xfb0a00(0x166)]=_0x2e4ccb[_0x375848];const _0x139fce={};_0x139fce[_0xfb0a00(0x137)]=_0x2e4ccb[_0x375848];const _0x5e45cd=_0x120d5a?_0x571edf:_0x139fce,_0x3c4a1d=_0x345547[_0xfb0a00(0x139)](getO11yRerunPattern),_0x4cb8fc={};_0x4cb8fc[_0xfb0a00(0x170)]=_0x5e45cd;const _0x585164={};_0x585164[_0xfb0a00(0x10e)]=_0x5dfc41,_0x585164[_0xfb0a00(0x17c)]=!![],_0x585164[_0xfb0a00(0x101)]=_0x4d637a[_0xfb0a00(0x100)]['testContextOptions']['skipSessionName'],_0x585164[_0xfb0a00(0x105)]=_0x4d637a[_0xfb0a00(0x100)][_0xfb0a00(0x146)][_0xfb0a00(0x105)],_0x585164['testObservability']=_0x34583c,_0x585164[_0xfb0a00(0x13f)]=_0x184e5d;const _0xf4f628={};_0xf4f628[_0xfb0a00(0x17f)]=_0x585164;const _0x4ac7ae={};return _0x4ac7ae[_0xfb0a00(0x180)]=_0xf4f628,helper[_0xfb0a00(0x16c)]({},_0x4767a0,_0x345547[_0xfb0a00(0x139)](isBrowserstackInfra)?_0x4cb8fc:{},_0x3c4a1d?{'grep':_0x3c4a1d}:{},_0x4ac7ae);});for(const _0x5e99a5 of _0x4c8003){for(const _0x5cf462 of _0x4b64f3){const _0x1b0169=_0x408d78[_0x567315(0x14c)]();_0x1b0169[_0x567315(0x149)](_0x5cf462),_0x1b0169[_0x567315(0x155)](_0x5e99a5);const _0x49e918={};_0x49e918[_0x567315(0x100)]=_0x1beabe,_0x1b0169[_0x567315(0x160)](_0x49e918);}}_0x408d78['on'](CodeceptJS[_0x567315(0x10f)][_0x567315(0x107)]['failed'],(_0x5838c8,_0x161e81)=>{const _0x4012c1=_0x567315;console['log'](_0x345547[_0x4012c1(0x134)],_0x5838c8[_0x4012c1(0x152)]);const _0x5a5f1d={[_0x5838c8[_0x4012c1(0x152)]]:_0x5838c8[_0x4012c1(0x14b)][_0x4012c1(0x12f)]};_testErrorData[_0x4012c1(0x110)](_0x5a5f1d);}),_0x408d78['on'](CodeceptJS[_0x567315(0x10f)][_0x567315(0x107)][_0x567315(0x13d)],async _0x5ae4ae=>{const _0x3ad59f=_0x567315;console[_0x3ad59f(0x151)](_0x345547['nJsOo'],_0x5ae4ae[_0x3ad59f(0x152)]);}),_0x408d78['on'](CodeceptJS[_0x567315(0x10f)]['test'][_0x567315(0x167)],async _0xa07732=>{const _0x50609d=_0x567315;console['log'](_0x345547[_0x50609d(0x11f)],_0xa07732[_0x50609d(0x152)]);}),_0x408d78['on'](CodeceptJS[_0x567315(0x10f)][_0x567315(0x175)]['result'],async()=>{const _0x449b92=_0x567315,_0x5c1130=_0x345547[_0x449b92(0x102)][_0x449b92(0x148)]('|');let _0x475411=0x0;while(!![]){switch(_0x5c1130[_0x475411++]){case'0':testOpsHelper[_0x449b92(0x150)]();continue;case'1':utilities[_0x449b92(0xfa)](_0x4d637a);continue;case'2':_0x408d78[_0x449b92(0x153)]();continue;case'3':PerformanceTester[_0x449b92(0x123)](PerformanceEvents[_0x449b92(0x187)]);continue;case'4':_0x4d637a[_0x449b92(0x178)]=_testErrorData;continue;case'5':try{await TestHubHandler[_0x449b92(0xfc)]();}catch(_0x2f3259){logger[_0x449b92(0x11b)](_0x449b92(0x158)+util[_0x449b92(0xf9)](_0x2f3259));}continue;}break;}});async function _0x3443d5(){const _0x1c0a26=_0x567315;try{await _0x408d78[_0x1c0a26(0x11a)](),await _0x408d78[_0x1c0a26(0x145)]();}finally{process[_0x1c0a26(0x124)](_0x1bfc7f),await _0x408d78['teardownAll']();}}PerformanceTester[_0x567315(0x179)](PerformanceEvents[_0x567315(0x181)]),_0x345547[_0x567315(0x172)](_0x3443d5);}module[a2_0x40c662(0x168)]=run;function a2_0x4bf1(){const _0x1a62d0=['BROWSERSTACK_TEST_ACCESSIBILITY_YML','bootstrapAll','debug','stringify','getPlaywrightUrl','chrome','GpPCZ','load','desiredCapabilities','IDQdX','start','chdir','winstonLogger','playwright-chromium','1654278HgSIZL','setAdditionalCapabilities','TmWht','firefox','Getting\x20your\x20codeceptjs\x20configs\x20from\x20','../../helpers/performance/constants','../../helpers/BrowserStackSetup','zFfKo','stack','CODECEPT','1480fBsuyG','join','toLowerCase','zvZwQ','dirname','YpCQG','WebDriver','BrowserStackPlugin.js','ljgQJ','AWpUc','tVCwm','getPlatformName','passed','20293677qSKhMy','frameworkName','Mhmof','RJaft','isUndefined','iJkzP','forEach','run','testContextOptions','EVENTS','split','addTests','playwright-firefox','err','spawn','initialize','--config','webkit','printBuildLink','log','title','printResults','BROWSERSTACK_RERUN_TESTS','addConfig','profile','browserWSEndpoint','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','1260364oJLPqn','tuHvO','handleApp','dmtix','BROWSERSTACK_RERUN','../../bin/playwright/accessibility-helper','Passed\x20:\x20','addOptions','6oUgyIv','ICPOI','launchBuild','Workers','wITlX','Playwright','before','exports','1173837qPZoLB','existsSync','getUserWorkerCount','mergeDeep','codecept.conf.js','41069NilSjI','parallelsPerPlatform','helpers','browserName','YAXRy','process','codeceptjs/lib/index.js','all','validPlatformsPresent','root','errorMessage','end','path','../../helpers/logger','enabled','SuLQi','../utils/constants','BrowserStackPlugin','plugins','SDK_SETUP','gherkin','bRgop','wMUBX','playwright-webkit','isEmpty','SDK_CLEANUP','info','validateRerunTestList','useW3C','../../helpers/accessibility-automation/helper','prepareCapabilities','FRAMEWORKS','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','BROWSERSTACK_TEST_OBSERVABILITY_YML','browser','findIndex','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','isTestObservabilitySession','iVpeC','format','finalExecution','159512ciFhml','stop','RFfAC','QdkJO','slice','config','skipSessionName','vXmzL','PdGxY','codeceptjs','skipSessionStatus','../../helpers/testhub/testhubHandler','test','Failed\x20:\x20','5889940mKbdbY','gvNhJ','RAqCK','env','cwd','require','event','push','testObservability','length','accessibility','chromium','map','SkVjV','AitjZ','accessibilityOptions'];a2_0x4bf1=function(){return _0x1a62d0;};return a2_0x4bf1();}