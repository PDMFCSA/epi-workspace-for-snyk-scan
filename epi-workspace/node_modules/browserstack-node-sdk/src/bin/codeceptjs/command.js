#!/usr/bin/env node
'use strict';const a2_0x104b21=a2_0xc863;(function(_0x53c258,_0x443a3e){const _0x324b69=a2_0xc863,_0x538606=_0x53c258();while(!![]){try{const _0x4ac2c6=-parseInt(_0x324b69(0x1f5))/0x1*(parseInt(_0x324b69(0x20e))/0x2)+parseInt(_0x324b69(0x1a9))/0x3+-parseInt(_0x324b69(0x214))/0x4*(parseInt(_0x324b69(0x1bb))/0x5)+parseInt(_0x324b69(0x1de))/0x6+-parseInt(_0x324b69(0x1fb))/0x7+-parseInt(_0x324b69(0x1fa))/0x8+parseInt(_0x324b69(0x1dc))/0x9*(parseInt(_0x324b69(0x1ab))/0xa);if(_0x4ac2c6===_0x443a3e)break;else _0x538606['push'](_0x538606['shift']());}catch(_0x48dab4){_0x538606['push'](_0x538606['shift']());}}}(a2_0x1824,0xc0fb1));function a2_0xc863(_0x5e4f1d,_0x321977){const _0x1824ac=a2_0x1824();return a2_0xc863=function(_0xc8632,_0x3974ea){_0xc8632=_0xc8632-0x193;let _0x59a9eb=_0x1824ac[_0xc8632];return _0x59a9eb;},a2_0xc863(_0x5e4f1d,_0x321977);}const fs=require('fs'),path=require(a2_0x104b21(0x1c8)),util=require(a2_0x104b21(0x1c1)),process=require(a2_0x104b21(0x1c3)),logger=require(a2_0x104b21(0x1ad))[a2_0x104b21(0x1ae)],{default:BrowserStackSetup}=require(a2_0x104b21(0x19f)),helper=require(a2_0x104b21(0x208)),utilities=require(a2_0x104b21(0x1a8)),{checkAccessibilityPlatformConfig}=require(a2_0x104b21(0x1fe)),{setAccessibilityCapabilities}=require(a2_0x104b21(0x1d3)),{requireModule,nestedKeyValue,isBrowserstackInfra}=require(a2_0x104b21(0x208)),CodeceptJS=requireModule(a2_0x104b21(0x1af),a2_0x104b21(0x20b)),testOpsHelper=require(a2_0x104b21(0x1ee)),TestHubHandler=require(a2_0x104b21(0x1ed)),constants=require('../utils/constants'),PerformanceTester=require(a2_0x104b21(0x1c9)),{FRAMEWORKS}=require(a2_0x104b21(0x1df)),PerformanceEvents=require(a2_0x104b21(0x1f9))[a2_0x104b21(0x209)],_testErrorData=[],getUserCodeceptJSConfigs=(_0x1810d3,_0x414ac8)=>{const _0x52e7c0=a2_0x104b21,_0x468c9e={};_0x468c9e[_0x52e7c0(0x1e2)]=function(_0x397b95,_0x4007c8){return _0x397b95===_0x4007c8;},_0x468c9e[_0x52e7c0(0x1cd)]=_0x52e7c0(0x220),_0x468c9e[_0x52e7c0(0x21d)]=_0x52e7c0(0x1e5);const _0x386b99=_0x468c9e;let _0x2e4bfb=null;const _0x5e6bc5={};let _0x5114ff=_0x414ac8[_0x52e7c0(0x1e1)](_0x4a74c9=>_0x4a74c9===_0x52e7c0(0x1ac));_0x386b99[_0x52e7c0(0x1e2)](_0x5114ff,-0x1)&&(_0x5114ff=_0x414ac8[_0x52e7c0(0x1e1)](_0x32f818=>_0x32f818==='-c'));if(!helper['isUndefined'](_0x1810d3[_0x52e7c0(0x1e4)])&&fs[_0x52e7c0(0x1b7)](path['join'](process['cwd'](),_0x1810d3['config'])))_0x2e4bfb=path[_0x52e7c0(0x21e)](process[_0x52e7c0(0x194)](),_0x1810d3[_0x52e7c0(0x1e4)]),_0x414ac8[_0x52e7c0(0x1c6)](_0x5114ff,0x2);else{if(!helper[_0x52e7c0(0x1a2)](_0x1810d3['c'])&&fs[_0x52e7c0(0x1b7)](path[_0x52e7c0(0x21e)](process['cwd'](),_0x1810d3['c'])))_0x2e4bfb=path[_0x52e7c0(0x21e)](process['cwd'](),_0x1810d3['c']),_0x414ac8[_0x52e7c0(0x1c6)](_0x5114ff,0x2);else{if(fs[_0x52e7c0(0x1b7)](path[_0x52e7c0(0x21e)](process[_0x52e7c0(0x194)](),_0x386b99[_0x52e7c0(0x1cd)])))_0x2e4bfb=path[_0x52e7c0(0x21e)](process['cwd'](),_0x386b99[_0x52e7c0(0x1cd)]);else fs[_0x52e7c0(0x1b7)](path[_0x52e7c0(0x21e)](process['cwd'](),_0x386b99[_0x52e7c0(0x21d)]))&&(_0x2e4bfb=path[_0x52e7c0(0x21e)](process[_0x52e7c0(0x194)](),_0x386b99[_0x52e7c0(0x21d)]));}}return process[_0x52e7c0(0x19a)][_0x52e7c0(0x1f3)]=_0x2e4bfb,_0x2e4bfb;},getO11yRerunPattern=()=>{const _0x3a06a7=a2_0x104b21,_0x3df7c8=helper[_0x3a06a7(0x1c2)](process[_0x3a06a7(0x19a)][_0x3a06a7(0x202)]);if(_0x3df7c8){const _0xb868b=process[_0x3a06a7(0x19a)][_0x3a06a7(0x1e0)],_0x238939=[];if(helper['validateRerunTestList'](_0xb868b)&&!helper[_0x3a06a7(0x1a2)](_0xb868b)){_0xb868b[_0x3a06a7(0x1bf)](',')[_0x3a06a7(0x1a4)](_0x2f5dc6=>{const _0x15587a=_0x3a06a7;_0x238939[_0x15587a(0x1aa)]('('+_0x2f5dc6[_0x15587a(0x1d4)]()+')');});const _0x4c5709='^'+_0x238939['join']('|')+'$';return _0x4c5709;}}return null;},a2_0x8ef587={};function a2_0x1824(){const _0x1f856b=['toLowerCase','HQngY','finalExecution','../../helpers/testhub/testhubHandler','../../helpers/test-observability/utils','playwright-firefox','webkit','spawn','bootstrapAll','USER_CONFIG_DETAILS_PATH','playwright-chromium','622123WbZnyy','profile','failed','Started\x20:\x20','../../helpers/performance/constants','4531456gkeVgi','1449588bLIJxK','Getting\x20your\x20codeceptjs\x20configs\x20from\x20','helpers','../../helpers/accessibility-automation/helper','addOptions','isTestObservabilitySession','addTests','BROWSERSTACK_RERUN','firefox','zelRh','useW3C','gFJeN','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','../../helpers/helper','EVENTS','mergeDeep','codeceptjs','stack','chromium','2WAdxMV','SfSsQ','BrowserStackPlugin','BROWSERSTACK_TEST_OBSERVABILITY_YML','BROWSERSTACK_TEST_ACCESSIBILITY_YML','load','16508KQrkVP','browserStackCwd','root','forEach','YEWof','uoTQs','WGrwy','format','accessibilityOptions','RSKfp','join','yScwc','codecept.conf.js','test','KHycW','prepareCapabilities','cwd','event','testContextOptions','mKOaL','stringify','plugins','env','clKhL','gherkin','CODECEPT','WebDriver','../../helpers/BrowserStackSetup','isEmpty','uJAgH','isUndefined','printResults','map','getPlaywrightUrl','browserWSEndpoint','BrowserStackPlugin.js','../../helpers/utilities','3292476ULZyqj','push','4860470cgUkbN','--config','../../helpers/logger','winstonLogger','codeceptjs/lib/index.js','launchBuild','jzVAj','accessibility','XvVTe','SDK_SETUP','dirname','testConfig','existsSync','validPlatformsPresent','testObservability','CnJVC','925MmkBQf','errorMessage','getUserWorkerCount','stop','split','Failed\x20:\x20','util','isTrue','process','info','skipSessionStatus','slice','getPlatformName','path','../../helpers/performance/performance-tester','BFuvK','createGroupsOfSuites','browserName','HcHaD','exports','end','desiredCapabilities','browser','Workers','../../bin/playwright/accessibility-helper','trim','length','chdir','FRAMEWORKS','before','TQptx','chrome','title','18aNWGln','require','5279982OBncSP','../../helpers/test-observability/constants','BROWSERSTACK_RERUN_TESTS','findIndex','SmxGK','Playwright','config','codecept.json','log','passed','start','parallelsPerPlatform'];a2_0x1824=function(){return _0x1f856b;};return a2_0x1824();}a2_0x8ef587[a2_0x104b21(0x1da)]=a2_0x104b21(0x20d),a2_0x8ef587[a2_0x104b21(0x1f4)]=a2_0x104b21(0x20d),a2_0x8ef587[a2_0x104b21(0x1ef)]=a2_0x104b21(0x203),a2_0x8ef587['playwright-webkit']=a2_0x104b21(0x1f0);const pwToCodeceptBrowser=a2_0x8ef587;async function run(_0x410eac,_0x2ddc2b,_0x28be51){const _0x253a9e=a2_0x104b21,_0x366f00={'TQptx':function(_0x287612,_0x4a66b5){return _0x287612+_0x4a66b5;},'clKhL':function(_0x3d0ba0,_0x251f1a){return _0x3d0ba0(_0x251f1a);},'YEWof':function(_0x418947,_0x2ab093,_0x5f0eb0){return _0x418947(_0x2ab093,_0x5f0eb0);},'XvVTe':_0x253a9e(0x1fd),'BFuvK':function(_0x43f31d){return _0x43f31d();},'gFJeN':_0x253a9e(0x1c0),'rVcfQ':'Passed\x20:\x20','ybUYF':_0x253a9e(0x1f8),'tpwLV':'3|5|1|0|4|2','OoSwC':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','uJAgH':function(_0xb16569,_0x13457b,_0x17628a){return _0xb16569(_0x13457b,_0x17628a);},'mKOaL':_0x253a9e(0x1e3),'HQngY':_0x253a9e(0x19e),'CnJVC':function(_0x335b23,_0x2590e5){return _0x335b23!=_0x2590e5;},'ZnThH':function(_0x3b1e53,_0x5f029f){return _0x3b1e53===_0x5f029f;},'uoTQs':_0x253a9e(0x19c),'mNLwS':function(_0x4f403e,_0x4dd767){return _0x4f403e*_0x4dd767;},'WGrwy':function(_0x1db032,_0x308917,_0x5d8949){return _0x1db032(_0x308917,_0x5d8949);},'SfSsQ':'browser','jzVAj':'desiredCapabilities','zelRh':_0x253a9e(0x216),'yScwc':_0x253a9e(0x1a7),'KHycW':_0x253a9e(0x215)};await _0x28be51['initialize'](_0x410eac),await helper['handleApp'](_0x28be51[_0x253a9e(0x1e4)]);if(!_0x28be51[_0x253a9e(0x1e4)])return;process[_0x253a9e(0x1f6)]=_0x410eac[_0x253a9e(0x1f6)];_0x410eac[_0x253a9e(0x1f6)]&&(process[_0x253a9e(0x19a)][_0x253a9e(0x1f6)]=_0x410eac['profile']);const _0x27d747=_0x366f00['YEWof'](getUserCodeceptJSConfigs,_0x410eac,_0x2ddc2b);let _0x182144={};_0x27d747?(logger[_0x253a9e(0x1c4)](_0x253a9e(0x1fc)+_0x27d747),_0x182144=CodeceptJS[_0x253a9e(0x1e4)][_0x253a9e(0x213)](_0x27d747)):logger[_0x253a9e(0x1c4)](_0x366f00['OoSwC']);let _0xd696e=![];_0x366f00['uJAgH'](nestedKeyValue,_0x182144,[_0x366f00[_0x253a9e(0x1b3)],_0x366f00[_0x253a9e(0x197)]])&&(_0xd696e=!![]);const _0x1e7b43=_0xd696e?_0x366f00[_0x253a9e(0x197)]:_0x366f00[_0x253a9e(0x1eb)];let _0x3fb238=!_0xd696e?helper[_0x253a9e(0x205)](_0x28be51[_0x253a9e(0x1e4)]):![];!helper[_0x253a9e(0x1a2)](_0x28be51['config'][_0x253a9e(0x21c)])&&(process['env'][_0x253a9e(0x207)]=JSON[_0x253a9e(0x198)](_0x28be51[_0x253a9e(0x1e4)]['accessibilityOptions']));let _0x15c121=_0x28be51['config'][_0x253a9e(0x1b2)];_0x15c121=_0x15c121||_0x366f00[_0x253a9e(0x19b)](checkAccessibilityPlatformConfig,_0x28be51[_0x253a9e(0x1e4)]),process[_0x253a9e(0x19a)][_0x253a9e(0x212)]=_0x15c121;_0x15c121&&(_0x3fb238=!_0x15c121);_0x366f00[_0x253a9e(0x1ba)](_0x28be51[_0x253a9e(0x1e4)]['testObservability'],null)?process['env'][_0x253a9e(0x211)]=_0x28be51[_0x253a9e(0x1e4)][_0x253a9e(0x1b9)]:process['env'][_0x253a9e(0x211)]=_0x366f00['ZnThH'](_0x1e7b43,_0x366f00['mKOaL']);const _0x41450a=_0x366f00['uJAgH'](nestedKeyValue,_0x182144,[_0x366f00[_0x253a9e(0x219)]]),_0x21d029=_0x41450a&&!helper[_0x253a9e(0x1a0)](_0x41450a)?FRAMEWORKS['CODECEPT_CUCUMBER']:FRAMEWORKS[_0x253a9e(0x19d)],_0x43a163=await TestHubHandler[_0x253a9e(0x1b0)](_0x21d029,_0x28be51);_0x15c121&&_0x366f00[_0x253a9e(0x19b)](setAccessibilityCapabilities,_0x28be51[_0x253a9e(0x1e4)]);const _0x271e2d={},_0x55339e=[],_0x201969=_0x28be51['config'][_0x253a9e(0x1e9)]||helper[_0x253a9e(0x1bd)](_0x410eac,_0x2ddc2b,_0x28be51[_0x253a9e(0x1e4)],constants[_0x253a9e(0x1d7)]['CODECEPT'])||0x1;let _0x22d657=0x1;if(_0x366f00[_0x253a9e(0x1ca)](isBrowserstackInfra)){const _0x4e0fd6=helper['prepareCapabilities'](_0x28be51[_0x253a9e(0x1e4)],_0x3fb238,constants[_0x253a9e(0x1d7)][_0x253a9e(0x19d)]);_0x4e0fd6[_0x253a9e(0x217)](_0x3bc302=>{helper['setAdditionalCapabilities'](_0x3bc302);}),helper[_0x253a9e(0x1b8)](_0x28be51[_0x253a9e(0x1e4)])?_0x22d657=_0x366f00['mNLwS'](_0x201969,_0x28be51['config']['platforms'][_0x253a9e(0x1d5)]):_0x22d657=_0x201969,_0x4e0fd6[_0x253a9e(0x217)](_0x3f9e24=>{const _0x2e0864=_0x253a9e,_0x40f1be=_0x366f00[_0x2e0864(0x1d9)](helper[_0x2e0864(0x1c7)](_0x3f9e24,'_'),'_'+Date['now']()),_0x5870c8=((()=>{const _0x190bb9=_0x2e0864;if(_0xd696e){const _0x3d17a2=pwToCodeceptBrowser[_0x3f9e24[_0x190bb9(0x1cc)]]||_0x3f9e24[_0x190bb9(0x1cc)];return{'browser':_0x3d17a2,[_0x3d17a2]:{'browserWSEndpoint':_0x366f00[_0x190bb9(0x1d9)](helper[_0x190bb9(0x1a5)](_0x28be51['config']),_0x366f00[_0x190bb9(0x19b)](encodeURIComponent,JSON['stringify'](_0x3f9e24)))}};}const _0x43eb88={};return _0x43eb88[_0x190bb9(0x1d0)]=_0x3f9e24,_0x43eb88;})()),_0x400e1e=_0x366f00[_0x2e0864(0x218)](nestedKeyValue,_0x182144,[_0x366f00['XvVTe'],_0x1e7b43]);_0x271e2d[_0x40f1be]=_0x400e1e?helper[_0x2e0864(0x20a)](_0x5870c8,_0x400e1e):_0x5870c8,!_0xd696e&&(_0x271e2d[_0x40f1be][_0x2e0864(0x1d1)]=_0x3f9e24[_0x2e0864(0x1cc)]||_0x5870c8[_0x2e0864(0x1d1)]),_0x55339e['push'](_0x40f1be);});}else{_0x22d657=0x1;if(_0xd696e){const _0x36c1c4=_0x366f00[_0x253a9e(0x21a)](nestedKeyValue,_0x182144,[_0x366f00[_0x253a9e(0x1b3)],_0x1e7b43,_0x366f00[_0x253a9e(0x20f)]]),_0x458788=_0x366f00[_0x253a9e(0x218)](nestedKeyValue,_0x182144,[_0x366f00[_0x253a9e(0x1b3)],_0x1e7b43,_0x36c1c4]);_0x458788&&_0x458788[_0x253a9e(0x1a6)]&&(_0x458788['browserWSEndpoint']=helper[_0x253a9e(0x193)](null,null,_0x21d029[_0x253a9e(0x1ea)](),null,null,_0x458788[_0x253a9e(0x1a6)]));}else _0x182144[_0x366f00['XvVTe']][_0x1e7b43][_0x366f00[_0x253a9e(0x1b1)]]=helper[_0x253a9e(0x193)](null,null,_0x21d029[_0x253a9e(0x1ea)](),_0x366f00[_0x253a9e(0x1a1)](nestedKeyValue,_0x182144,[_0x366f00[_0x253a9e(0x1b3)],_0x1e7b43,_0x366f00[_0x253a9e(0x1b1)]]),null,null);_0x271e2d[_0x366f00[_0x253a9e(0x204)]]=_0x182144,_0x55339e[_0x253a9e(0x1aa)](_0x366f00['zelRh']);}const _0x2ca4ad={};_0x2ca4ad[_0x253a9e(0x1b6)]=_0x27d747;const _0x3537e9=_0x2ca4ad,_0x14cb37=path[_0x253a9e(0x21e)](__dirname,_0x366f00[_0x253a9e(0x21f)]),_0xfbf701=process['cwd']();process[_0x253a9e(0x19a)][_0x366f00[_0x253a9e(0x222)]]=_0xfbf701,process[_0x253a9e(0x1d6)](path[_0x253a9e(0x1b5)](_0x27d747));const _0x32a6b9=new CodeceptJS[(_0x253a9e(0x1d2))](null,_0x3537e9),_0x156620=_0x32a6b9[_0x253a9e(0x1cb)](_0x22d657),_0x36ad34=testOpsHelper[_0x253a9e(0x200)](),_0x3a5a05=_0x55339e['map'](_0x27dcd4=>{const _0x3c8080=_0x253a9e,_0x4535d1={};_0x4535d1[_0x3c8080(0x1e3)]=_0x271e2d[_0x27dcd4];const _0x2cffae={};_0x2cffae['WebDriver']=_0x271e2d[_0x27dcd4];const _0x167253=_0xd696e?_0x4535d1:_0x2cffae,_0x32f1d6=_0x366f00['BFuvK'](getO11yRerunPattern),_0x40fccd={};_0x40fccd[_0x3c8080(0x1fd)]=_0x167253;const _0x299f61={};_0x299f61[_0x3c8080(0x1dd)]=_0x14cb37,_0x299f61['enabled']=!![],_0x299f61['skipSessionName']=_0x28be51[_0x3c8080(0x1e4)][_0x3c8080(0x196)]['skipSessionName'],_0x299f61[_0x3c8080(0x1c5)]=_0x28be51[_0x3c8080(0x1e4)][_0x3c8080(0x196)]['skipSessionStatus'],_0x299f61[_0x3c8080(0x1b9)]=_0x36ad34,_0x299f61['frameworkName']=_0x21d029;const _0x1e0826={};_0x1e0826[_0x3c8080(0x210)]=_0x299f61;const _0x18f98e={};return _0x18f98e[_0x3c8080(0x199)]=_0x1e0826,helper[_0x3c8080(0x20a)]({},_0x182144,_0x366f00[_0x3c8080(0x1ca)](isBrowserstackInfra)?_0x40fccd:{},_0x32f1d6?{'grep':_0x32f1d6}:{},_0x18f98e);});for(const _0x1d6fe5 of _0x3a5a05){for(const _0x16b985 of _0x156620){const _0x3c4c56=_0x32a6b9[_0x253a9e(0x1f1)]();_0x3c4c56[_0x253a9e(0x201)](_0x16b985),_0x3c4c56['addConfig'](_0x1d6fe5);const _0x4fe77d={};_0x4fe77d[_0x253a9e(0x1e4)]=_0x27d747,_0x3c4c56[_0x253a9e(0x1ff)](_0x4fe77d);}}_0x32a6b9['on'](CodeceptJS['event'][_0x253a9e(0x221)][_0x253a9e(0x1f7)],(_0x3a3a76,_0x40617a)=>{const _0x7438df=_0x253a9e;console[_0x7438df(0x1e6)](_0x366f00[_0x7438df(0x206)],_0x3a3a76[_0x7438df(0x1db)]);const _0x461993={[_0x3a3a76[_0x7438df(0x1db)]]:_0x3a3a76['err'][_0x7438df(0x20c)]};_testErrorData['push'](_0x461993);}),_0x32a6b9['on'](CodeceptJS[_0x253a9e(0x195)]['test'][_0x253a9e(0x1e7)],async _0xfbf626=>{console['log'](_0x366f00['rVcfQ'],_0xfbf626['title']);}),_0x32a6b9['on'](CodeceptJS[_0x253a9e(0x195)][_0x253a9e(0x221)][_0x253a9e(0x1d8)],async _0x29f63a=>{const _0xf23b67=_0x253a9e;console[_0xf23b67(0x1e6)](_0x366f00['ybUYF'],_0x29f63a[_0xf23b67(0x1db)]);}),_0x32a6b9['on'](CodeceptJS[_0x253a9e(0x195)]['all']['result'],async()=>{const _0x29263c=_0x253a9e,_0x8d5924=_0x366f00['tpwLV'][_0x29263c(0x1bf)]('|');let _0x4f8582=0x0;while(!![]){switch(_0x8d5924[_0x4f8582++]){case'0':utilities[_0x29263c(0x1ec)](_0x28be51);continue;case'1':testOpsHelper['printBuildLink']();continue;case'2':_0x32a6b9[_0x29263c(0x1a3)]();continue;case'3':PerformanceTester[_0x29263c(0x1e8)](PerformanceEvents['SDK_CLEANUP']);continue;case'4':try{await TestHubHandler[_0x29263c(0x1be)]();}catch(_0x45bc3c){logger['debug']('Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20'+util[_0x29263c(0x21b)](_0x45bc3c));}continue;case'5':_0x28be51[_0x29263c(0x1bc)]=_testErrorData;continue;}break;}});async function _0x576364(){const _0x30fe25=_0x253a9e;try{await _0x32a6b9[_0x30fe25(0x1f2)](),await _0x32a6b9['run']();}finally{process[_0x30fe25(0x1d6)](_0xfbf701),await _0x32a6b9['teardownAll']();}}PerformanceTester[_0x253a9e(0x1cf)](PerformanceEvents[_0x253a9e(0x1b4)]),_0x366f00[_0x253a9e(0x1ca)](_0x576364);}module[a2_0x104b21(0x1ce)]=run;