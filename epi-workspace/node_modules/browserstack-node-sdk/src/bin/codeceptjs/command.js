#!/usr/bin/env node
'use strict';function a2_0x1a52(_0xa9fd09,_0x19d413){const _0x53a623=a2_0x53a6();return a2_0x1a52=function(_0x1a52bf,_0x7980cd){_0x1a52bf=_0x1a52bf-0x119;let _0x9fde9c=_0x53a623[_0x1a52bf];return _0x9fde9c;},a2_0x1a52(_0xa9fd09,_0x19d413);}const a2_0x2ba508=a2_0x1a52;(function(_0x46b01f,_0x142e76){const _0x16a610=a2_0x1a52,_0x3c13be=_0x46b01f();while(!![]){try{const _0x5b80ad=parseInt(_0x16a610(0x134))/0x1*(parseInt(_0x16a610(0x1af))/0x2)+parseInt(_0x16a610(0x139))/0x3*(-parseInt(_0x16a610(0x12c))/0x4)+parseInt(_0x16a610(0x123))/0x5*(parseInt(_0x16a610(0x157))/0x6)+-parseInt(_0x16a610(0x193))/0x7+-parseInt(_0x16a610(0x11e))/0x8+-parseInt(_0x16a610(0x187))/0x9*(parseInt(_0x16a610(0x198))/0xa)+parseInt(_0x16a610(0x16a))/0xb*(parseInt(_0x16a610(0x11b))/0xc);if(_0x5b80ad===_0x142e76)break;else _0x3c13be['push'](_0x3c13be['shift']());}catch(_0x475ab4){_0x3c13be['push'](_0x3c13be['shift']());}}}(a2_0x53a6,0xd1e51));const fs=require('fs'),path=require(a2_0x2ba508(0x18f)),util=require(a2_0x2ba508(0x152)),process=require(a2_0x2ba508(0x133)),logger=require(a2_0x2ba508(0x175))[a2_0x2ba508(0x185)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a2_0x2ba508(0x16e)),utilities=require(a2_0x2ba508(0x124)),{checkAccessibilityPlatformConfig}=require('../../helpers/accessibility-automation/helper'),{setAccessibilityCapabilities}=require('../../bin/playwright/accessibility-helper'),{requireModule,nestedKeyValue,isBrowserstackInfra}=require(a2_0x2ba508(0x16e)),CodeceptJS=requireModule(a2_0x2ba508(0x194),a2_0x2ba508(0x168)),testOpsHelper=require(a2_0x2ba508(0x18c)),TestHubHandler=require('../../helpers/testhub/testhubHandler'),constants=require(a2_0x2ba508(0x172)),PerformanceTester=require(a2_0x2ba508(0x1ac)),{FRAMEWORKS}=require(a2_0x2ba508(0x12f)),PerformanceEvents=require(a2_0x2ba508(0x195))[a2_0x2ba508(0x184)],_testErrorData=[],getUserCodeceptJSConfigs=(_0x56a7ed,_0x19a9e5)=>{const _0x148d9e=a2_0x2ba508,_0x3d7084={};_0x3d7084[_0x148d9e(0x19c)]=function(_0x48ad6d,_0x277f5b){return _0x48ad6d===_0x277f5b;},_0x3d7084['yykGe']=_0x148d9e(0x14c),_0x3d7084['QCjVB']=_0x148d9e(0x189);const _0x2215be=_0x3d7084;let _0x10964f=null;const _0x3c9ca0={};let _0x313f97=_0x19a9e5[_0x148d9e(0x142)](_0x45babb=>_0x45babb==='--config');_0x2215be[_0x148d9e(0x19c)](_0x313f97,-0x1)&&(_0x313f97=_0x19a9e5[_0x148d9e(0x142)](_0x57e025=>_0x57e025==='-c'));if(!helper['isUndefined'](_0x56a7ed['config'])&&fs[_0x148d9e(0x148)](path[_0x148d9e(0x1a7)](process[_0x148d9e(0x164)](),_0x56a7ed[_0x148d9e(0x176)])))_0x10964f=path[_0x148d9e(0x1a7)](process[_0x148d9e(0x164)](),_0x56a7ed[_0x148d9e(0x176)]),_0x19a9e5[_0x148d9e(0x16f)](_0x313f97,0x2);else{if(!helper['isUndefined'](_0x56a7ed['c'])&&fs[_0x148d9e(0x148)](path['join'](process['cwd'](),_0x56a7ed['c'])))_0x10964f=path[_0x148d9e(0x1a7)](process[_0x148d9e(0x164)](),_0x56a7ed['c']),_0x19a9e5[_0x148d9e(0x16f)](_0x313f97,0x2);else{if(fs['existsSync'](path['join'](process['cwd'](),_0x2215be[_0x148d9e(0x1ab)])))_0x10964f=path['join'](process[_0x148d9e(0x164)](),_0x2215be[_0x148d9e(0x1ab)]);else fs['existsSync'](path['join'](process[_0x148d9e(0x164)](),_0x2215be[_0x148d9e(0x15f)]))&&(_0x10964f=path[_0x148d9e(0x1a7)](process[_0x148d9e(0x164)](),_0x2215be[_0x148d9e(0x15f)]));}}return process[_0x148d9e(0x13a)][_0x148d9e(0x16b)]=_0x10964f,_0x10964f;},getO11yRerunPattern=()=>{const _0x470488=a2_0x2ba508,_0xf93e3c=helper[_0x470488(0x160)](process[_0x470488(0x13a)]['BROWSERSTACK_RERUN']);if(_0xf93e3c){const _0x32c78d=process[_0x470488(0x13a)][_0x470488(0x173)],_0x5c46f7=[];if(helper[_0x470488(0x138)](_0x32c78d)&&!helper[_0x470488(0x12b)](_0x32c78d)){_0x32c78d['split'](',')[_0x470488(0x1a5)](_0x299c61=>{const _0x463103=_0x470488;_0x5c46f7[_0x463103(0x136)]('('+_0x299c61[_0x463103(0x163)]()+')');});const _0x5cc8ac='^'+_0x5c46f7[_0x470488(0x1a7)]('|')+'$';return _0x5cc8ac;}}return null;},a2_0x4ea587={};a2_0x4ea587[a2_0x2ba508(0x158)]=a2_0x2ba508(0x1a1),a2_0x4ea587[a2_0x2ba508(0x170)]=a2_0x2ba508(0x1a1),a2_0x4ea587[a2_0x2ba508(0x18a)]=a2_0x2ba508(0x151),a2_0x4ea587[a2_0x2ba508(0x19a)]=a2_0x2ba508(0x132);function a2_0x53a6(){const _0x1fbe0c=['printBuildLink','skipSessionName','7564968sBhKRj','vYGvu','kTLqL','getPlatformName','getPlaywrightUrl','21445ZqcKka','../../helpers/utilities','isTestObservabilitySession','passed','run','getUserWorkerCount','uCAwx','JpNxq','isUndefined','748aeTXbn','format','Workers','../../helpers/test-observability/constants','split','OfSCd','webkit','process','79711adfbdB','Getting\x20your\x20codeceptjs\x20configs\x20from\x20','push','Playwright','validateRerunTestList','23739gDmfbH','env','dfLCG','profile','bootstrapAll','toLowerCase','iXbxb','Started\x20:\x20','laYNI','findIndex','JjUPA','BrowserStackPlugin.js','stringify','SDK_SETUP','event','existsSync','skipSessionStatus','PXVFC','exports','codecept.conf.js','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','load','test','ZhTcG','firefox','util','dKTwE','lCQpB','frameworkName','now','150lZFDsr','chrome','initialize','browserStackCwd','info','swknW','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','stop','QCjVB','isTrue','MpyyY','testObservability','trim','cwd','before','browserWSEndpoint','require','codeceptjs','helpers','32703iTMgQS','USER_CONFIG_DETAILS_PATH','launchBuild','browser','../../helpers/helper','slice','playwright-chromium','debug','../utils/constants','BROWSERSTACK_RERUN_TESTS','end','../../helpers/logger','config','mergeDeep','title','plugins','RDAly','errorMessage','WebDriver','desiredCapabilities','4|5|2|3|1|0','JfyPZ','addConfig','BROWSERSTACK_TEST_OBSERVABILITY_YML','TfsxA','isEmpty','EVENTS','winstonLogger','printResults','109530tuhkIJ','parallelsPerPlatform','codecept.json','playwright-firefox','SDK_CLEANUP','../../helpers/test-observability/utils','all','BROWSERSTACK_TEST_ACCESSIBILITY_YML','path','dirname','teardownAll','chdir','8098748XELsQa','codeceptjs/lib/index.js','../../helpers/performance/constants','enabled','CODECEPT_CUCUMBER','680wwMTpH','spawn','playwright-webkit','SMtrE','OBJSy','length','AJhxD','accessibilityOptions','forEach','chromium','useW3C','CODECEPT','BrowserStackPlugin','map','log','join','browserName','yduQX','addTests','yykGe','../../helpers/performance/performance-tester','testContextOptions','accessibility','38wYydjW','VyVpa','prepareCapabilities','14724suCvkg'];a2_0x53a6=function(){return _0x1fbe0c;};return a2_0x53a6();}const pwToCodeceptBrowser=a2_0x4ea587;async function run(_0x5f1401,_0x4a1bdb,_0x1d0be3){const _0x388bd2=a2_0x2ba508,_0x201627={'uCAwx':function(_0x18db7c,_0x194a13){return _0x18db7c+_0x194a13;},'dfLCG':function(_0x2b3723,_0x5316b9){return _0x2b3723(_0x5316b9);},'TfsxA':function(_0xe6b197,_0x2a7518,_0x5a35d1){return _0xe6b197(_0x2a7518,_0x5a35d1);},'AJhxD':'helpers','RDAly':function(_0x10e759){return _0x10e759();},'SMtrE':function(_0x3017f0){return _0x3017f0();},'JfyPZ':'Failed\x20:\x20','PXVFC':'Passed\x20:\x20','yduQX':_0x388bd2(0x140),'QeAwd':_0x388bd2(0x17e),'MpyyY':_0x388bd2(0x15d),'vYGvu':function(_0x2c6ef6,_0x3d3620,_0x4e83a9){return _0x2c6ef6(_0x3d3620,_0x4e83a9);},'cnrTt':_0x388bd2(0x137),'iXbxb':_0x388bd2(0x17c),'vlnvk':function(_0x5461b3,_0x1d63af){return _0x5461b3(_0x1d63af);},'laYNI':function(_0x2a3785,_0xf53906){return _0x2a3785!=_0xf53906;},'gyfsE':function(_0x5b33ce,_0x439884){return _0x5b33ce===_0x439884;},'OfSCd':'gherkin','kTLqL':function(_0x5a290d,_0x5cb2e3){return _0x5a290d(_0x5cb2e3);},'VyVpa':function(_0x5b937b){return _0x5b937b();},'dKTwE':function(_0x5394d9,_0x17973a){return _0x5394d9*_0x17973a;},'JouRJ':_0x388bd2(0x16d),'JjUPA':_0x388bd2(0x17d),'lCQpB':function(_0x17c875,_0x1f25fb,_0xf315bf){return _0x17c875(_0x1f25fb,_0xf315bf);},'ZhTcG':'root','swknW':_0x388bd2(0x144),'JpNxq':_0x388bd2(0x15a)};await _0x1d0be3[_0x388bd2(0x159)](_0x5f1401),await helper['handleApp'](_0x1d0be3[_0x388bd2(0x176)]);if(!_0x1d0be3['config'])return;process[_0x388bd2(0x13c)]=_0x5f1401['profile'];_0x5f1401[_0x388bd2(0x13c)]&&(process[_0x388bd2(0x13a)][_0x388bd2(0x13c)]=_0x5f1401[_0x388bd2(0x13c)]);const _0x126dc9=_0x201627[_0x388bd2(0x182)](getUserCodeceptJSConfigs,_0x5f1401,_0x4a1bdb);let _0x39cd27={};_0x126dc9?(logger[_0x388bd2(0x15b)](_0x388bd2(0x135)+_0x126dc9),_0x39cd27=CodeceptJS[_0x388bd2(0x176)][_0x388bd2(0x14e)](_0x126dc9)):logger[_0x388bd2(0x15b)](_0x201627[_0x388bd2(0x161)]);let _0x86d401=![];_0x201627[_0x388bd2(0x11f)](nestedKeyValue,_0x39cd27,[_0x201627[_0x388bd2(0x19e)],_0x201627['cnrTt']])&&(_0x86d401=!![]);const _0x5b99a2=_0x86d401?_0x201627['cnrTt']:_0x201627[_0x388bd2(0x13f)];let _0x5a6dba=!_0x86d401?helper[_0x388bd2(0x1a2)](_0x1d0be3[_0x388bd2(0x176)]):![];!helper[_0x388bd2(0x12b)](_0x1d0be3[_0x388bd2(0x176)][_0x388bd2(0x19f)])&&(process['env']['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON['stringify'](_0x1d0be3[_0x388bd2(0x176)][_0x388bd2(0x19f)]));let _0x4a2653=_0x1d0be3['config'][_0x388bd2(0x1ae)];_0x4a2653=_0x4a2653||_0x201627['vlnvk'](checkAccessibilityPlatformConfig,_0x1d0be3[_0x388bd2(0x176)]),process[_0x388bd2(0x13a)][_0x388bd2(0x18e)]=_0x4a2653;_0x4a2653&&(_0x5a6dba=!_0x4a2653);_0x201627[_0x388bd2(0x141)](_0x1d0be3[_0x388bd2(0x176)][_0x388bd2(0x162)],null)?process[_0x388bd2(0x13a)][_0x388bd2(0x181)]=_0x1d0be3[_0x388bd2(0x176)][_0x388bd2(0x162)]:process[_0x388bd2(0x13a)][_0x388bd2(0x181)]=_0x201627['gyfsE'](_0x5b99a2,_0x201627['cnrTt']);const _0x2f72b7=_0x201627[_0x388bd2(0x182)](nestedKeyValue,_0x39cd27,[_0x201627[_0x388bd2(0x131)]]),_0x60551f=_0x2f72b7&&!helper[_0x388bd2(0x183)](_0x2f72b7)?FRAMEWORKS[_0x388bd2(0x197)]:FRAMEWORKS[_0x388bd2(0x1a3)],_0xec4f88=await TestHubHandler[_0x388bd2(0x16c)](_0x60551f,_0x1d0be3);_0x4a2653&&_0x201627[_0x388bd2(0x120)](setAccessibilityCapabilities,_0x1d0be3['config']);const _0x399753={},_0x455529=[],_0x3f4b1a=_0x1d0be3[_0x388bd2(0x176)][_0x388bd2(0x188)]||helper[_0x388bd2(0x128)](_0x5f1401,_0x4a1bdb,_0x1d0be3[_0x388bd2(0x176)],constants['FRAMEWORKS'][_0x388bd2(0x1a3)])||0x1;let _0xe718b2=0x1;if(_0x201627[_0x388bd2(0x119)](isBrowserstackInfra)){const _0x71f57b=helper[_0x388bd2(0x11a)](_0x1d0be3['config'],_0x5a6dba,constants['FRAMEWORKS'][_0x388bd2(0x1a3)]);_0x71f57b[_0x388bd2(0x1a0)](_0x212960=>{helper['setAdditionalCapabilities'](_0x212960);}),helper['validPlatformsPresent'](_0x1d0be3[_0x388bd2(0x176)])?_0xe718b2=_0x201627[_0x388bd2(0x153)](_0x3f4b1a,_0x1d0be3[_0x388bd2(0x176)]['platforms'][_0x388bd2(0x19d)]):_0xe718b2=_0x3f4b1a,_0x71f57b['forEach'](_0x18f838=>{const _0x2617ab=_0x388bd2,_0x34e54e=_0x201627['uCAwx'](helper[_0x2617ab(0x121)](_0x18f838,'_'),'_'+Date[_0x2617ab(0x156)]()),_0x5765ec=((()=>{const _0x3a92e3=_0x2617ab;if(_0x86d401){const _0x465a2c=pwToCodeceptBrowser[_0x18f838[_0x3a92e3(0x1a8)]]||_0x18f838[_0x3a92e3(0x1a8)];return{'browser':_0x465a2c,[_0x465a2c]:{'browserWSEndpoint':_0x201627[_0x3a92e3(0x129)](helper[_0x3a92e3(0x122)](_0x1d0be3[_0x3a92e3(0x176)]),_0x201627[_0x3a92e3(0x13b)](encodeURIComponent,JSON[_0x3a92e3(0x145)](_0x18f838)))}};}const _0x365340={};return _0x365340[_0x3a92e3(0x17d)]=_0x18f838,_0x365340;})()),_0x5b85fc=_0x201627[_0x2617ab(0x182)](nestedKeyValue,_0x39cd27,[_0x201627[_0x2617ab(0x19e)],_0x5b99a2]);_0x399753[_0x34e54e]=_0x5b85fc?helper[_0x2617ab(0x177)](_0x5765ec,_0x5b85fc):_0x5765ec,!_0x86d401&&(_0x399753[_0x34e54e][_0x2617ab(0x16d)]=_0x18f838['browserName']||_0x5765ec[_0x2617ab(0x16d)]),_0x455529[_0x2617ab(0x136)](_0x34e54e);});}else{_0xe718b2=0x1;if(_0x86d401){const _0x2f5f4a=_0x201627['TfsxA'](nestedKeyValue,_0x39cd27,[_0x201627['AJhxD'],_0x5b99a2,_0x201627['JouRJ']]),_0x5b6b76=_0x201627['TfsxA'](nestedKeyValue,_0x39cd27,[_0x201627[_0x388bd2(0x19e)],_0x5b99a2,_0x2f5f4a]);_0x5b6b76&&_0x5b6b76[_0x388bd2(0x166)]&&(_0x5b6b76['browserWSEndpoint']=helper[_0x388bd2(0x11a)](null,null,_0x60551f[_0x388bd2(0x13e)](),null,null,_0x5b6b76[_0x388bd2(0x166)]));}else _0x39cd27[_0x201627[_0x388bd2(0x19e)]][_0x5b99a2][_0x201627[_0x388bd2(0x143)]]=helper[_0x388bd2(0x11a)](null,null,_0x60551f[_0x388bd2(0x13e)](),_0x201627[_0x388bd2(0x154)](nestedKeyValue,_0x39cd27,[_0x201627[_0x388bd2(0x19e)],_0x5b99a2,_0x201627['JjUPA']]),null,null);_0x399753[_0x201627[_0x388bd2(0x150)]]=_0x39cd27,_0x455529[_0x388bd2(0x136)](_0x201627[_0x388bd2(0x150)]);}const _0x59b6b4={};_0x59b6b4['testConfig']=_0x126dc9;const _0x183aec=_0x59b6b4,_0x5b3313=path[_0x388bd2(0x1a7)](__dirname,_0x201627[_0x388bd2(0x15c)]),_0x286d35=process[_0x388bd2(0x164)]();process['env'][_0x201627[_0x388bd2(0x12a)]]=_0x286d35,process[_0x388bd2(0x192)](path[_0x388bd2(0x190)](_0x126dc9));const _0x5c2c4b=new CodeceptJS[(_0x388bd2(0x12e))](null,_0x183aec),_0x69b7=_0x5c2c4b['createGroupsOfSuites'](_0xe718b2),_0x201de3=testOpsHelper[_0x388bd2(0x125)](),_0x4d4ad9=_0x455529[_0x388bd2(0x1a5)](_0x1f9436=>{const _0x462f6=_0x388bd2,_0x34b668={};_0x34b668[_0x462f6(0x137)]=_0x399753[_0x1f9436];const _0x14ea34={};_0x14ea34['WebDriver']=_0x399753[_0x1f9436];const _0x22bd17=_0x86d401?_0x34b668:_0x14ea34,_0x482954=_0x201627['RDAly'](getO11yRerunPattern),_0x1e86bc={};_0x1e86bc[_0x462f6(0x169)]=_0x22bd17;const _0x261b5f={};_0x261b5f[_0x462f6(0x167)]=_0x5b3313,_0x261b5f[_0x462f6(0x196)]=!![],_0x261b5f[_0x462f6(0x11d)]=_0x1d0be3[_0x462f6(0x176)][_0x462f6(0x1ad)][_0x462f6(0x11d)],_0x261b5f[_0x462f6(0x149)]=_0x1d0be3[_0x462f6(0x176)][_0x462f6(0x1ad)][_0x462f6(0x149)],_0x261b5f[_0x462f6(0x162)]=_0x201de3,_0x261b5f[_0x462f6(0x155)]=_0x60551f;const _0x2c1338={};_0x2c1338[_0x462f6(0x1a4)]=_0x261b5f;const _0x258d3a={};return _0x258d3a[_0x462f6(0x179)]=_0x2c1338,helper[_0x462f6(0x177)]({},_0x39cd27,_0x201627[_0x462f6(0x19b)](isBrowserstackInfra)?_0x1e86bc:{},_0x482954?{'grep':_0x482954}:{},_0x258d3a);});for(const _0x204947 of _0x4d4ad9){for(const _0x551006 of _0x69b7){const _0x1cf949=_0x5c2c4b[_0x388bd2(0x199)]();_0x1cf949[_0x388bd2(0x1aa)](_0x551006),_0x1cf949[_0x388bd2(0x180)](_0x204947);const _0x80f5fe={};_0x80f5fe[_0x388bd2(0x176)]=_0x126dc9,_0x1cf949['addOptions'](_0x80f5fe);}}_0x5c2c4b['on'](CodeceptJS[_0x388bd2(0x147)]['test']['failed'],(_0x3ef934,_0x11e4cf)=>{const _0x399e64=_0x388bd2;console[_0x399e64(0x1a6)](_0x201627[_0x399e64(0x17f)],_0x3ef934['title']);const _0x34c9a0={[_0x3ef934[_0x399e64(0x178)]]:_0x3ef934['err']['stack']};_testErrorData[_0x399e64(0x136)](_0x34c9a0);}),_0x5c2c4b['on'](CodeceptJS[_0x388bd2(0x147)][_0x388bd2(0x14f)][_0x388bd2(0x126)],async _0x4015fd=>{const _0x2f1c5f=_0x388bd2;console[_0x2f1c5f(0x1a6)](_0x201627[_0x2f1c5f(0x14a)],_0x4015fd['title']);}),_0x5c2c4b['on'](CodeceptJS['event'][_0x388bd2(0x14f)][_0x388bd2(0x165)],async _0xb5ab44=>{const _0x2fcc5e=_0x388bd2;console['log'](_0x201627[_0x2fcc5e(0x1a9)],_0xb5ab44[_0x2fcc5e(0x178)]);}),_0x5c2c4b['on'](CodeceptJS[_0x388bd2(0x147)][_0x388bd2(0x18d)]['result'],async()=>{const _0x475207=_0x388bd2,_0x21900a=_0x201627['QeAwd'][_0x475207(0x130)]('|');let _0x3e8e91=0x0;while(!![]){switch(_0x21900a[_0x3e8e91++]){case'0':_0x5c2c4b[_0x475207(0x186)]();continue;case'1':try{await TestHubHandler[_0x475207(0x15e)]();}catch(_0x338992){logger[_0x475207(0x171)](_0x475207(0x14d)+util[_0x475207(0x12d)](_0x338992));}continue;case'2':testOpsHelper[_0x475207(0x11c)]();continue;case'3':utilities['finalExecution'](_0x1d0be3);continue;case'4':PerformanceTester['start'](PerformanceEvents[_0x475207(0x18b)]);continue;case'5':_0x1d0be3[_0x475207(0x17b)]=_testErrorData;continue;}break;}});async function _0x244aa3(){const _0x29151b=_0x388bd2;try{await _0x5c2c4b[_0x29151b(0x13d)](),await _0x5c2c4b[_0x29151b(0x127)]();}finally{process[_0x29151b(0x192)](_0x286d35),await _0x5c2c4b[_0x29151b(0x191)]();}}PerformanceTester[_0x388bd2(0x174)](PerformanceEvents[_0x388bd2(0x146)]),_0x201627[_0x388bd2(0x17a)](_0x244aa3);}module[a2_0x2ba508(0x14b)]=run;