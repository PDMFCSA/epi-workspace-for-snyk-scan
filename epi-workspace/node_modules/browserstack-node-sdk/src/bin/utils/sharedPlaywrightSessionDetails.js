const a60_0x3db09e=a60_0x2020;(function(_0x2128fb,_0x5d4042){const _0x48029d=a60_0x2020,_0x2d22bf=_0x2128fb();while(!![]){try{const _0x3e9144=parseInt(_0x48029d(0x1b5))/0x1*(-parseInt(_0x48029d(0x14e))/0x2)+-parseInt(_0x48029d(0x117))/0x3*(-parseInt(_0x48029d(0x173))/0x4)+-parseInt(_0x48029d(0x15c))/0x5+parseInt(_0x48029d(0x164))/0x6+-parseInt(_0x48029d(0x16f))/0x7*(parseInt(_0x48029d(0x163))/0x8)+parseInt(_0x48029d(0x1ba))/0x9*(parseInt(_0x48029d(0x140))/0xa)+parseInt(_0x48029d(0x1af))/0xb*(parseInt(_0x48029d(0x126))/0xc);if(_0x3e9144===_0x5d4042)break;else _0x2d22bf['push'](_0x2d22bf['shift']());}catch(_0x4dbfbd){_0x2d22bf['push'](_0x2d22bf['shift']());}}}(a60_0x5881,0x3222c));function a60_0x2020(_0x474045,_0x4dd157){const _0x5881c3=a60_0x5881();return a60_0x2020=function(_0x20204b,_0x4aed69){_0x20204b=_0x20204b-0x10f;let _0x48618f=_0x5881c3[_0x20204b];return _0x48618f;},a60_0x2020(_0x474045,_0x4dd157);}const path=require(a60_0x3db09e(0x1bd)),url=require(a60_0x3db09e(0x141)),util=require(a60_0x3db09e(0x1a0)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x3db09e(0x120)),{o11yErrorHandler}=require(a60_0x3db09e(0x1c9)),{debug,getPlatformDetails}=require(a60_0x3db09e(0x13f)),logger=require(a60_0x3db09e(0x17a))[a60_0x3db09e(0x17d)],constants=require(a60_0x3db09e(0x1ac)),AutomationFramework=require('../v2/framework/automationFramework'),BrowserstackCLI=require(a60_0x3db09e(0x156)),AutomationFrameworkState=require('../v2/state/automationFrameworkState.js'),HookState=require('../v2/state/hookState.js'),{platform}=require('os'),getBrowserNameFromChannel=_0x791656=>{const _0x2cb95d=a60_0x3db09e,_0x5b29b3={};_0x5b29b3[_0x2cb95d(0x167)]=_0x2cb95d(0x1b2),_0x5b29b3[_0x2cb95d(0x1d2)]=_0x2cb95d(0x1d7),_0x5b29b3[_0x2cb95d(0x171)]='firefox',_0x5b29b3['kSKtJ']=_0x2cb95d(0x1b1);const _0x2936e4=_0x5b29b3;if(_0x791656[_0x2cb95d(0x185)](_0x2936e4[_0x2cb95d(0x167)]))return _0x2936e4[_0x2cb95d(0x167)];if(_0x791656['includes'](_0x2936e4[_0x2cb95d(0x1d2)]))return _0x2936e4[_0x2cb95d(0x1d2)];if(_0x791656[_0x2cb95d(0x185)](_0x2936e4['fIxfX']))return _0x2936e4['fIxfX'];if(_0x791656[_0x2cb95d(0x185)](_0x2936e4['kSKtJ']))return _0x2936e4[_0x2cb95d(0x135)];},getBrowserFromWSEndpoint=_0x55eb06=>{const _0x96a626=a60_0x3db09e,_0x48989f={'DuCyT':'bstack:options','JRjNR':function(_0x318e8c,_0x39827d){return _0x318e8c(_0x39827d);},'ZrvDI':function(_0x59c83b,_0x145191){return _0x59c83b(_0x145191);},'jiYJf':_0x96a626(0x1d7),'pLwtn':_0x96a626(0x11c),'XEakp':_0x96a626(0x1ae),'pDRDA':_0x96a626(0x19c),'LNyql':'safari','pqHzu':'webkit','txhkj':'chrome'};try{const _0x2e2c56=url['parse'](_0x55eb06),_0x1ded29=new URLSearchParams(_0x2e2c56[_0x96a626(0x13d)]),_0x2d7ba4=Object[_0x96a626(0x14a)](_0x1ded29['entries']()),_0x4f5dbf=[_0x2d7ba4[_0x96a626(0x19e)],_0x2d7ba4[_0x96a626(0x1bc)],_0x2d7ba4['desiredCapabilities'],_0x2d7ba4[_0x96a626(0x110)]];for(const _0x11a198 of _0x4f5dbf){if(_0x11a198)try{const _0x464eff=JSON[_0x96a626(0x16a)](_0x11a198),_0x1acfdf=_0x464eff[_0x96a626(0x111)]||_0x464eff[_0x96a626(0x1a4)]||_0x464eff[_0x48989f[_0x96a626(0x154)]]?.['browserName'];if(_0x1acfdf)return _0x48989f[_0x96a626(0x1ce)](debug,_0x96a626(0x1d3)+_0x1acfdf),_0x1acfdf[_0x96a626(0x177)]();}catch(_0x5c4304){_0x48989f['ZrvDI'](debug,_0x96a626(0x187)+_0x5c4304['message']);}}if(_0x55eb06[_0x96a626(0x185)](_0x48989f[_0x96a626(0x151)])||_0x55eb06['includes'](_0x48989f[_0x96a626(0x13a)]))return _0x48989f[_0x96a626(0x151)];if(_0x55eb06[_0x96a626(0x185)](_0x48989f[_0x96a626(0x16c)])||_0x55eb06[_0x96a626(0x185)](_0x48989f[_0x96a626(0x1cd)]))return _0x48989f[_0x96a626(0x16c)];if(_0x55eb06[_0x96a626(0x185)](_0x48989f[_0x96a626(0x1b3)])||_0x55eb06[_0x96a626(0x185)](_0x48989f['pqHzu']))return _0x48989f[_0x96a626(0x1b3)];return _0x48989f['txhkj'];}catch(_0x2aaae2){return _0x48989f['ZrvDI'](debug,_0x96a626(0x19b)+_0x2aaae2[_0x96a626(0x1c8)]()),_0x48989f[_0x96a626(0x1a3)];}},getCloudProviderFromWsEndpoint=_0x40f6b3=>{const _0x3a75b3=a60_0x3db09e,_0x9448ba={};_0x9448ba[_0x3a75b3(0x133)]=_0x3a75b3(0x1cc),_0x9448ba[_0x3a75b3(0x179)]=_0x3a75b3(0x1c5);const _0x3df408=_0x9448ba;if(_0x40f6b3[_0x3a75b3(0x185)](constants[_0x3a75b3(0x1b9)])||_0x40f6b3[_0x3a75b3(0x185)](constants[_0x3a75b3(0x18e)]))return _0x3df408['QmNPg'];return _0x3df408[_0x3a75b3(0x179)];},a60_0x53af79={};a60_0x53af79[a60_0x3db09e(0x1ab)]=undefined,a60_0x53af79[a60_0x3db09e(0x118)]=undefined,a60_0x53af79[a60_0x3db09e(0x1a4)]=undefined,a60_0x53af79[a60_0x3db09e(0x122)]=undefined,a60_0x53af79['platform']=undefined,a60_0x53af79[a60_0x3db09e(0x196)]=undefined,a60_0x53af79[a60_0x3db09e(0x19d)]=undefined,a60_0x53af79[a60_0x3db09e(0x1bc)]={};class SharedPlaywrightSessionDetails{static [a60_0x3db09e(0x15f)]=a60_0x53af79;constructor(){const _0x496ae4=a60_0x3db09e,_0x2d2e80={};_0x2d2e80['puvfw']=_0x496ae4(0x1b6);const _0x591f3a=_0x2d2e80;throw new Error(_0x591f3a[_0x496ae4(0x11f)]);}static [a60_0x3db09e(0x169)]=null;static[a60_0x3db09e(0x132)](_0x26d9eb,_0x10763d,_0x474a25=null){const _0x16b000=a60_0x3db09e,_0x245a07={'UzfbL':function(_0xe80609,_0x37e0ae){return _0xe80609===_0x37e0ae;},'UPXjB':'function','FKQEi':'Browser\x20is\x20not\x20defined\x20or\x20not\x20available','ZEfxJ':_0x16b000(0x176),'QnvsD':_0x16b000(0x18b),'KgTzl':function(_0x1aa4b3,_0x22a42d,_0x121d13){return _0x1aa4b3(_0x22a42d,_0x121d13);},'aFGNl':_0x16b000(0x1d1),'ftAxr':_0x16b000(0x11b),'JbDYw':function(_0x452d75,_0x10ddb9,_0x355e8e){return _0x452d75(_0x10ddb9,_0x355e8e);},'VQrkY':_0x16b000(0x158),'EzGgi':_0x16b000(0x17b),'cUNyx':_0x16b000(0x114),'BFsjD':function(_0x8ac9f1,_0x5d7f66){return _0x8ac9f1(_0x5d7f66);},'eHemE':function(_0x2ff9ee,_0x4baadf){return _0x2ff9ee===_0x4baadf;},'FNuMO':'browserstack','NPquk':_0x16b000(0x1d8),'dYeYw':'automate','gyVOa':function(_0x17bbba,_0x33fd08){return _0x17bbba(_0x33fd08);},'wfPxe':function(_0x15dd0e,_0x5bdf40){return _0x15dd0e===_0x5bdf40;},'WCcdn':_0x16b000(0x180),'tmZAo':function(_0x377304,_0x2e3d9c){return _0x377304+_0x2e3d9c;},'INikD':_0x16b000(0x149),'QBTvy':function(_0x1ea5dc){return _0x1ea5dc();},'CLmzg':_0x16b000(0x132)},_0x93f042=this;return _0x245a07[_0x16b000(0x16e)](o11yErrorHandler,async function _0xf97734(_0x59580f,_0x9e0239,_0x355eed=null){const _0x57ccca=_0x16b000;let _0x29cf3d=_0x59580f[_0x57ccca(0x14d)],_0xc797a5=null;_0x59580f&&_0x245a07[_0x57ccca(0x12a)](typeof _0x59580f['version'],_0x245a07['UPXjB'])?_0xc797a5=_0x59580f[_0x57ccca(0x16b)]():logger[_0x57ccca(0x119)](_0x245a07[_0x57ccca(0x137)]);let _0x4ef4bb=null;_0x59580f&&_0x245a07[_0x57ccca(0x12a)](typeof _0x59580f[_0x57ccca(0x1d5)],_0x245a07[_0x57ccca(0x160)])?_0x4ef4bb=_0x59580f[_0x57ccca(0x1d5)]():logger[_0x57ccca(0x119)](_0x245a07['ZEfxJ']);let _0x47bdcc=null,_0x4555ff=null,_0x4ae67b=null,_0x2669b1=_0x245a07[_0x57ccca(0x142)];if(_0x59580f['_connection'][_0x57ccca(0x15d)]()||global[_0x57ccca(0x184)]){let _0x5f27cc=null;_0x245a07['KgTzl'](nestedKeyValue,_0x59580f,[_0x245a07[_0x57ccca(0x191)],_0x245a07[_0x57ccca(0x127)]])?_0x5f27cc=_0x59580f[_0x57ccca(0x1d1)][_0x57ccca(0x11b)]:_0x5f27cc=_0x245a07[_0x57ccca(0x16e)](nestedKeyValue,_0x9e0239,[_0x245a07[_0x57ccca(0x194)],_0x245a07[_0x57ccca(0x150)],_0x245a07[_0x57ccca(0x130)]]);const _0x5bd870=_0x355eed||_0x5f27cc&&_0x5f27cc[_0x57ccca(0x1ca)];if(_0x5bd870){_0x2669b1=_0x245a07[_0x57ccca(0x13e)](getCloudProviderFromWsEndpoint,_0x5bd870);if(_0x245a07['eHemE'](_0x2669b1,_0x245a07[_0x57ccca(0x13b)])){_0x4ae67b=constants[_0x57ccca(0x18d)][_0x57ccca(0x1b8)](_0x5bd870)?_0x245a07[_0x57ccca(0x199)]:_0x245a07['dYeYw'];const _0xbfd98f=_0x245a07['gyVOa'](getBrowserFromWSEndpoint,_0x5bd870);if(_0xbfd98f&&(!_0x29cf3d||_0x245a07['wfPxe'](_0x29cf3d,_0x245a07[_0x57ccca(0x12f)])))_0x29cf3d=_0xbfd98f,logger[_0x57ccca(0x119)](_0x57ccca(0x18f)+_0x29cf3d);else _0x29cf3d&&logger['debug'](_0x57ccca(0x14c)+_0x29cf3d);_0x47bdcc=_0x93f042[_0x57ccca(0x15f)][_0x57ccca(0x124)],_0x4555ff=_0x93f042[_0x57ccca(0x15f)][_0x57ccca(0x196)];}}}else{_0x9e0239&&_0x9e0239[_0x57ccca(0x158)]&&_0x9e0239['project'][_0x57ccca(0x17b)]&&_0x9e0239['project'][_0x57ccca(0x17b)][_0x57ccca(0x1a2)]?_0x29cf3d=_0x245a07[_0x57ccca(0x13e)](getBrowserNameFromChannel,_0x9e0239[_0x57ccca(0x158)][_0x57ccca(0x17b)][_0x57ccca(0x1a2)]):_0x29cf3d=_0x245a07[_0x57ccca(0x14b)](_0x245a07[_0x57ccca(0x161)],_0x29cf3d[_0x57ccca(0x177)]());const _0xf48270=await _0x245a07[_0x57ccca(0x1a5)](getPlatformDetails);_0x47bdcc=_0xf48270[_0x57ccca(0x144)],_0x4555ff=_0xf48270['platformVersion'];}const _0x3b56ed={};_0x3b56ed[_0x57ccca(0x1a4)]=_0x29cf3d,_0x3b56ed[_0x57ccca(0x122)]=_0xc797a5,_0x3b56ed[_0x57ccca(0x1bc)]={},_0x3b56ed[_0x57ccca(0x124)]=_0x47bdcc,_0x3b56ed['platform_version']=_0x4555ff,_0x3b56ed[_0x57ccca(0x19d)]=_0x4ae67b;const _0x3ed033=_0x3b56ed;_0x4ef4bb&&(_0x3ed033[_0x57ccca(0x1bc)][_0x57ccca(0x143)]=_0x4ef4bb);const _0x5bf52d={};_0x5bf52d[_0x57ccca(0x1ab)]=_0x2669b1,_0x93f042['currentSessionDetails']=Object[_0x57ccca(0x170)]({},_0x93f042[_0x57ccca(0x15f)],_0x5bf52d,_0x3ed033);const _0x241673={};_0x241673['browser']=_0x93f042[_0x57ccca(0x15f)]['browser'],_0x241673['browserVersion']=_0x93f042[_0x57ccca(0x15f)][_0x57ccca(0x122)],_0x241673['platform']=_0x93f042['currentSessionDetails'][_0x57ccca(0x124)],_0x241673[_0x57ccca(0x197)]=_0x93f042[_0x57ccca(0x15f)][_0x57ccca(0x196)],_0x241673[_0x57ccca(0x1ab)]=_0x93f042[_0x57ccca(0x15f)][_0x57ccca(0x1ab)],_0x241673[_0x57ccca(0x19d)]=_0x93f042[_0x57ccca(0x15f)][_0x57ccca(0x19d)],logger['debug'](_0x57ccca(0x15b)+JSON['stringify'](_0x241673));},_0x245a07[_0x16b000(0x131)])(_0x26d9eb,_0x10763d,_0x474a25);}static['patch'](){const _0x5123da=a60_0x3db09e;this[_0x5123da(0x113)](),this[_0x5123da(0x1d6)]();}static[a60_0x3db09e(0x113)](){const _0x549c73=a60_0x3db09e,_0x44094b={'alreq':function(_0x1bcd34,_0x45163c){return _0x1bcd34(_0x45163c);},'wchHE':function(_0x196c34,_0x18d756){return _0x196c34(_0x18d756);},'Mkbma':'lib','bHrJN':'client','kKxkz':'connection.js','nXCKH':function(_0x23d28c,_0x21c82c){return _0x23d28c(_0x21c82c);},'fYBoT':function(_0x361c95,_0x59b84e){return _0x361c95(_0x59b84e);},'vibXE':_0x549c73(0x159),'ojLpa':function(_0x31ab58,_0x1b345d){return _0x31ab58(_0x1b345d);},'DlDbc':function(_0x5645dd,_0xc0f487){return _0x5645dd!=_0xc0f487;},'wNhSZ':_0x549c73(0x17f),'NysJj':_0x549c73(0x11e),'yGGon':'Successfully\x20patched\x20Connection.dispatch','TKPou':function(_0x51a20c,_0x216072){return _0x51a20c(_0x216072);}},_0x3bf180=this;if(!this[_0x549c73(0x116)])try{const _0x4ebf38=[path['join'](_0x44094b[_0x549c73(0x12c)],_0x44094b[_0x549c73(0x15e)],_0x44094b[_0x549c73(0x1d0)]),path[_0x549c73(0x1a1)](_0x44094b[_0x549c73(0x12c)],_0x44094b[_0x549c73(0x1d0)]),path[_0x549c73(0x1a1)](_0x44094b['bHrJN'],_0x44094b['kKxkz'])];for(const _0x2b4b95 of _0x4ebf38){try{const _0x4ffdda=_0x44094b[_0x549c73(0x1c1)](importFileFromPWCore,_0x2b4b95);if(_0x4ffdda&&_0x4ffdda[_0x549c73(0x116)]){this[_0x549c73(0x116)]=_0x4ffdda[_0x549c73(0x116)],logger[_0x549c73(0x119)](_0x549c73(0x175)+_0x2b4b95);break;}}catch(_0x38e90b){_0x44094b[_0x549c73(0x1b0)](debug,'Failed\x20to\x20import\x20connection\x20from\x20'+_0x2b4b95+':\x20'+_0x38e90b[_0x549c73(0x1c8)]());}}if(!this[_0x549c73(0x116)]){_0x44094b[_0x549c73(0x1b0)](debug,_0x44094b['vibXE']);return;}}catch(_0x55b792){_0x44094b[_0x549c73(0x18c)](debug,'Error\x20in\x20importing\x20connection\x20'+_0x55b792[_0x549c73(0x1c8)]());return;}const _0x55bb13=this[_0x549c73(0x116)];try{if(_0x44094b['DlDbc'](_0x55bb13,null)){const _0x1cd61b=_0x55bb13[_0x549c73(0x125)][_0x549c73(0x11e)];if(!_0x44094b['alreq'](isFalse,process[_0x549c73(0x146)][_0x549c73(0x165)])){if(_0x55bb13['prototype']['_bstackDispatchPatched']){logger[_0x549c73(0x119)](_0x44094b[_0x549c73(0x1a7)]);return;}Object[_0x549c73(0x1a9)](_0x55bb13[_0x549c73(0x125)],_0x44094b[_0x549c73(0x19a)],{'get':function(){return async function _0x5e136d(_0x188f4a){const _0x209c93=a60_0x2020;if(BrowserstackCLI['getInstance']()[_0x209c93(0x17c)]()){const _0x1f350d={};_0x1f350d['message']=_0x188f4a,await BrowserstackCLI['getInstance']()[_0x209c93(0x1cb)]()[_0x209c93(0x174)](AutomationFrameworkState[_0x209c93(0x1c3)],HookState[_0x209c93(0x1c6)],_0x1f350d);}else{const _0x476246=_0x188f4a&&_0x188f4a[_0x209c93(0x178)]&&_0x188f4a[_0x209c93(0x178)][_0x209c93(0x168)];if(_0x476246){const _0x81bb22=_0x476246[_0x209c93(0x1bb)],_0x5cca02=_0x476246[_0x209c93(0x186)];_0x5cca02&&(_0x44094b[_0x209c93(0x1b4)](debug,_0x209c93(0x181)+_0x5cca02['toString']()),_0x3bf180[_0x209c93(0x15f)][_0x209c93(0x124)]=_0x5cca02[_0x209c93(0x144)],_0x3bf180[_0x209c93(0x15f)][_0x209c93(0x196)]=_0x5cca02[_0x209c93(0x197)]),_0x81bb22&&(_0x44094b['wchHE'](debug,_0x209c93(0x190)+_0x81bb22),_0x3bf180[_0x209c93(0x15f)][_0x209c93(0x118)]=_0x81bb22);}}return _0x1cd61b['apply'](this,arguments);};}}),_0x55bb13['prototype'][_0x549c73(0x136)]=!![],logger[_0x549c73(0x119)](_0x44094b['yGGon']);}}}catch(_0x2b0226){_0x44094b[_0x549c73(0x1ad)](debug,_0x549c73(0x192)+_0x2b0226),_0x3bf180[_0x549c73(0x169)]=_0x2b0226['toString']();}}static[a60_0x3db09e(0x1d6)](){const _0x2365db=a60_0x3db09e,_0x1ccb03={'BaNpY':function(_0x12d1fa,_0x2f7eb2){return _0x12d1fa(_0x2f7eb2);},'VrQNW':function(_0x287005,_0x23b806){return _0x287005(_0x23b806);},'bozgB':_0x2365db(0x11a),'ptBwI':_0x2365db(0x147),'DybSr':_0x2365db(0x180),'CJvtW':_0x2365db(0x134),'tVHSd':function(_0x2ae6d3,_0x15ab6a){return _0x2ae6d3(_0x15ab6a);},'tSlGI':function(_0x16cd08,_0x4a9051){return _0x16cd08(_0x4a9051);},'ModML':_0x2365db(0x139),'EHzMA':_0x2365db(0x12d),'WehTI':function(_0xb09e9,_0x38ad9e){return _0xb09e9!=_0x38ad9e;},'vgWcb':'CRConnection\x20already\x20patched','UysOx':'_onMessage','vGGfF':_0x2365db(0x11d),'aCnba':function(_0x4d791b,_0x43cf06){return _0x4d791b(_0x43cf06);}},_0x588e87=this;let _0x592677=null;try{const _0x2e4421=path['join'](_0x1ccb03[_0x2365db(0x17e)],_0x1ccb03[_0x2365db(0x166)],_0x1ccb03['DybSr'],_0x1ccb03['CJvtW']),_0x49bb87=_0x1ccb03[_0x2365db(0x112)](importFileFromPWCore,_0x2e4421);!_0x49bb87?_0x1ccb03[_0x2365db(0x162)](debug,_0x1ccb03[_0x2365db(0x1aa)]):_0x592677=_0x49bb87['CRConnection'];}catch(_0x3968d3){_0x1ccb03['BaNpY'](debug,_0x1ccb03[_0x2365db(0x1c2)]);}try{if(_0x1ccb03[_0x2365db(0x19f)](_0x592677,null)){const _0x4a8066=_0x592677['prototype'][_0x2365db(0x138)];if(_0x592677[_0x2365db(0x125)][_0x2365db(0x13c)]){logger['debug'](_0x1ccb03[_0x2365db(0x128)]);return;}Object[_0x2365db(0x1a9)](_0x592677['prototype'],_0x1ccb03[_0x2365db(0x157)],{'get':function(){const _0x1166c1={'uJawN':function(_0xb7f653,_0x3b6051){const _0x9d4e7d=a60_0x2020;return _0x1ccb03[_0x9d4e7d(0x1cf)](_0xb7f653,_0x3b6051);},'RqOdR':function(_0x3fbe77,_0x5e05cd){return _0x1ccb03['VrQNW'](_0x3fbe77,_0x5e05cd);}};return async function _0x4109b1(_0x499d5c){const _0x11e224=a60_0x2020;try{if(BrowserstackCLI[_0x11e224(0x152)]()[_0x11e224(0x17c)]()){const _0x4ad704={};_0x4ad704[_0x11e224(0x1c7)]=_0x499d5c,await BrowserstackCLI[_0x11e224(0x152)]()['getAutomationFramework']()[_0x11e224(0x174)](AutomationFrameworkState[_0x11e224(0x1c3)],HookState[_0x11e224(0x1c6)],_0x4ad704),delete _0x499d5c[_0x11e224(0x129)];}else{const _0x1ca4d8=_0x499d5c['bStackParams'];if(_0x1ca4d8){delete _0x499d5c['bStackParams'];const _0x3aff52=_0x1ca4d8[_0x11e224(0x1bb)],_0x46e89f=_0x1ca4d8[_0x11e224(0x186)];_0x46e89f&&(_0x1166c1['uJawN'](debug,_0x11e224(0x15a)+_0x46e89f[_0x11e224(0x1c8)]()),_0x588e87[_0x11e224(0x15f)][_0x11e224(0x124)]=_0x46e89f[_0x11e224(0x144)],_0x588e87[_0x11e224(0x15f)][_0x11e224(0x196)]=_0x46e89f['platformVersion']),_0x3aff52&&(_0x1166c1[_0x11e224(0x172)](debug,_0x11e224(0x153)+_0x3aff52),_0x588e87[_0x11e224(0x15f)]['bsSessionId']=_0x3aff52);}}}catch(_0x2a3fcc){_0x1166c1['RqOdR'](debug,'Error\x20in\x20finding\x20platform\x20details\x20'+_0x2a3fcc['toString']());}return _0x4a8066['apply'](this,arguments);};}}),_0x592677[_0x2365db(0x125)][_0x2365db(0x13c)]=!![],logger[_0x2365db(0x119)](_0x1ccb03[_0x2365db(0x193)]);}}catch(_0x4c19ad){_0x1ccb03['aCnba'](debug,_0x2365db(0x16d)+_0x4c19ad),_0x588e87[_0x2365db(0x169)]=_0x4c19ad[_0x2365db(0x1c8)]();}}static[a60_0x3db09e(0x121)](_0x4c92a1,_0x4382da){const _0x1d8eb9=a60_0x3db09e,_0x36a9ff={'UTeXV':'bstack:options','biJeg':function(_0x18f0d1,_0x1b3fba){return _0x18f0d1||_0x1b3fba;},'RGWWB':function(_0x23bead,_0x30ad51){return _0x23bead||_0x30ad51;},'NXcLc':function(_0x278c91,_0xcd8e33){return _0x278c91===_0xcd8e33;},'Dqeyi':_0x1d8eb9(0x1c4),'Sqwmq':_0x1d8eb9(0x198),'riauN':function(_0x5c70b9,_0x5949a1){return _0x5c70b9(_0x5949a1);},'QnvOa':function(_0x45dc4a,_0x2607ed){return _0x45dc4a(_0x2607ed);},'mXCaW':function(_0x5674e4,_0x34ea14){return _0x5674e4(_0x34ea14);}};let _0x72dfed=null,_0x42a3fb=null;try{const _0x5bb6bc=[_0x4382da,global[_0x1d8eb9(0x148)],global['capabilties']];for(const _0x4c18c1 of _0x5bb6bc){if(_0x4c18c1&&(!_0x42a3fb||!_0x42a3fb[_0x1d8eb9(0x1bb)])){const _0x4b8204=_0x4c18c1['sessionId']||_0x4c18c1[_0x36a9ff[_0x1d8eb9(0x10f)]]?.['sessionId'],_0x32f7a5=_0x4c18c1[_0x1d8eb9(0x111)]||_0x4c18c1[_0x1d8eb9(0x1a4)]||_0x4c18c1[_0x36a9ff[_0x1d8eb9(0x10f)]]?.['browserName'],_0x136500=_0x4c18c1['browserVersion']||_0x4c18c1[_0x1d8eb9(0x122)]||_0x4c18c1[_0x36a9ff[_0x1d8eb9(0x10f)]]?.[_0x1d8eb9(0x1b7)],_0x17f398=_0x4c18c1['os']||_0x4c18c1['platform']||_0x4c18c1[_0x36a9ff[_0x1d8eb9(0x10f)]]?.['os'],_0x33c770=_0x4c18c1[_0x1d8eb9(0x183)]||_0x4c18c1[_0x1d8eb9(0x182)]||_0x4c18c1[_0x36a9ff['UTeXV']]?.['osVersion'];if(_0x36a9ff[_0x1d8eb9(0x1bf)](_0x4b8204,_0x32f7a5)||_0x17f398){const _0x167506={};_0x167506[_0x1d8eb9(0x111)]=_0x32f7a5,_0x167506[_0x1d8eb9(0x1b7)]=_0x136500,_0x167506['os']=_0x17f398,_0x167506[_0x1d8eb9(0x183)]=_0x33c770,_0x167506[_0x1d8eb9(0x144)]=_0x4c18c1[_0x1d8eb9(0x144)]||_0x17f398,_0x167506['platformVersion']=_0x4c18c1['platformVersion']||_0x33c770;const _0x3fbaaa={};_0x3fbaaa[_0x1d8eb9(0x1bb)]=_0x4b8204,_0x3fbaaa[_0x1d8eb9(0x186)]=_0x167506,_0x42a3fb=_0x3fbaaa;if(_0x36a9ff['RGWWB'](_0x4b8204,_0x32f7a5)){logger['debug']('BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser='+_0x32f7a5+',\x20os='+_0x17f398);break;}}}}if(_0x4c92a1&&_0x36a9ff[_0x1d8eb9(0x123)](typeof _0x4c92a1,_0x36a9ff[_0x1d8eb9(0x1be)]))try{const _0x2eafbb=url[_0x1d8eb9(0x16a)](_0x4c92a1),_0x20c328=new URLSearchParams(_0x2eafbb['query']),_0x38a5e2=Object['fromEntries'](_0x20c328[_0x1d8eb9(0x1a6)]()),_0x137839=[_0x38a5e2[_0x1d8eb9(0x19e)],_0x38a5e2[_0x1d8eb9(0x1bc)],_0x38a5e2[_0x1d8eb9(0x145)]];for(const _0x2fd646 of _0x137839){if(_0x2fd646&&(!_0x72dfed||!_0x72dfed[_0x1d8eb9(0x1bb)]))try{const _0x8bf215=JSON['parse'](_0x2fd646),_0x177304={};_0x177304[_0x1d8eb9(0x1bb)]=_0x8bf215['sessionId']||_0x8bf215[_0x36a9ff[_0x1d8eb9(0x10f)]]?.['sessionId'],_0x177304[_0x1d8eb9(0x186)]={},_0x177304[_0x1d8eb9(0x186)][_0x1d8eb9(0x111)]=_0x8bf215[_0x1d8eb9(0x111)]||_0x8bf215['browser'],_0x177304[_0x1d8eb9(0x186)]['browserVersion']=_0x8bf215[_0x1d8eb9(0x1b7)]||_0x8bf215[_0x1d8eb9(0x122)],_0x177304[_0x1d8eb9(0x186)]['os']=_0x8bf215['os']||_0x8bf215['platform'],_0x177304[_0x1d8eb9(0x186)][_0x1d8eb9(0x183)]=_0x8bf215[_0x1d8eb9(0x183)]||_0x8bf215[_0x1d8eb9(0x182)],_0x177304[_0x1d8eb9(0x186)][_0x1d8eb9(0x144)]=_0x8bf215[_0x1d8eb9(0x144)]||_0x8bf215['os']||_0x8bf215[_0x1d8eb9(0x124)],_0x177304[_0x1d8eb9(0x186)][_0x1d8eb9(0x197)]=_0x8bf215[_0x1d8eb9(0x197)]||_0x8bf215['osVersion']||_0x8bf215[_0x1d8eb9(0x182)],_0x72dfed=_0x177304;if(_0x72dfed[_0x1d8eb9(0x1bb)]||_0x72dfed['platformDetails'][_0x1d8eb9(0x111)]){logger[_0x1d8eb9(0x119)](_0x36a9ff[_0x1d8eb9(0x14f)]);break;}}catch(_0x2d0ff3){_0x36a9ff[_0x1d8eb9(0x18a)](debug,_0x1d8eb9(0x1c0)+_0x2d0ff3[_0x1d8eb9(0x1c8)]());}}}catch(_0x3cf279){_0x36a9ff[_0x1d8eb9(0x189)](debug,'Error\x20parsing\x20WebSocket\x20endpoint:\x20'+_0x3cf279[_0x1d8eb9(0x1c8)]());}}catch(_0x2cb311){_0x36a9ff[_0x1d8eb9(0x12e)](debug,_0x1d8eb9(0x12b)+util['format'](_0x2cb311));}const _0x2a0529={};return _0x2a0529[_0x1d8eb9(0x168)]=_0x72dfed,_0x2a0529[_0x1d8eb9(0x129)]=_0x42a3fb,_0x2a0529;}static async[a60_0x3db09e(0x1a8)](_0x380cca,_0x1b36ce){const _0x1dccf9=a60_0x3db09e,_0x541b30={'vNDEh':function(_0x30dda7,_0x239e01){return _0x30dda7||_0x239e01;},'gBHVf':'Triggering\x20PLAYWRIGHT_DISPATCH\x20event','xtZHh':function(_0xf1ec20,_0x4fdbcb){return _0xf1ec20(_0x4fdbcb);}};try{if(!BrowserstackCLI['getInstance']()[_0x1dccf9(0x17c)]())return;if(_0x541b30[_0x1dccf9(0x155)](_0x380cca,_0x1b36ce)){logger[_0x1dccf9(0x119)](_0x541b30['gBHVf']);const _0x129758={'params':_0x380cca?{'bsParams':_0x380cca}:null,'bStackParams':_0x541b30[_0x1dccf9(0x155)](_0x1b36ce,null)},_0x40ef87=AutomationFramework[_0x1dccf9(0x188)](),_0x283b6a={};_0x283b6a[_0x1dccf9(0x1c7)]=_0x129758,_0x283b6a[_0x1dccf9(0x195)]=_0x40ef87,await BrowserstackCLI[_0x1dccf9(0x152)]()[_0x1dccf9(0x1cb)]()[_0x1dccf9(0x174)](AutomationFrameworkState[_0x1dccf9(0x1c3)],HookState[_0x1dccf9(0x1c6)],_0x283b6a);}}catch(_0x5b341a){_0x541b30['xtZHh'](debug,_0x1dccf9(0x1d4)+util['format'](_0x5b341a));}}static['getDetails'](){const _0x102529=a60_0x3db09e;return this[_0x102529(0x15f)];}}module[a60_0x3db09e(0x115)]=SharedPlaywrightSessionDetails;function a60_0x5881(){const _0x36762b=['QnvOa','riauN','local_grid','ojLpa','ATS_WSS_URL_REGEX','BSTACK_ATS_URL','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','Setting\x20session\x20id\x20received\x20from\x20BS\x20','aFGNl','Error\x20in\x20applying\x20Connection\x20patch\x20','vGGfF','VQrkY','instance','platform_version','platformVersion','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','NPquk','NysJj','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','gecko','product','caps','WehTI','util','join','channel','txhkj','browser','QBTvy','entries','wNhSZ','triggerPlaywrightDispatchEvent','defineProperty','ModML','cloudProvider','./constants','TKPou','firefox','16027BNLuGJ','fYBoT','safari','chrome','LNyql','alreq','394513WKEsty','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','browserVersion','test','BSTACK_URL','9BIyGpo','sessionId','capabilities','path','Dqeyi','biJeg','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','nXCKH','EHzMA','PLAYWRIGHT_DISPATCH','string','unknown_grid','POST','message','toString','../../helpers/test-observability/error-handler','wsEndpoint','getAutomationFramework','browserstack','pDRDA','JRjNR','BaNpY','kKxkz','_browserType','HKtza','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','model','patchCRConnection','edge','turboscale','UTeXV','browserstack_capabilities','browserName','tVHSd','patchConnection','connectOptions','exports','Connection','660SDMxBz','bsSessionId','debug','lib','_defaultConnectOptions','msedge','Successfully\x20patched\x20CRConnection._onMessage','dispatch','puvfw','../../helpers/helper','extractBrowserStackParams','browser_version','NXcLc','platform','prototype','912kpFfcq','ftAxr','vgWcb','bStackParams','UzfbL','Error\x20extracting\x20BrowserStack\x20parameters:\x20','Mkbma','Error\x20in\x20importing\x20crConnection','mXCaW','WCcdn','cUNyx','CLmzg','setupBrowserDetails','QmNPg','crConnection.js','kSKtJ','_bstackDispatchPatched','FKQEi','_onMessage','Not\x20able\x20to\x20import\x20crConnection','pLwtn','FNuMO','_bstackCRPatched','query','BFsjD','../../helpers/test-observability/utils','3847660XUccgY','url','QnvsD','deviceModel','platformName','desiredCapabilities','env','server','__platformCaps','playwright-','fromEntries','tmZAo','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','_name','2AGSSBa','Sqwmq','EzGgi','jiYJf','getInstance','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','DuCyT','vNDEh','../v2/browserstackCLI','UysOx','project','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','Session\x20details\x20setup\x20complete:\x20','1308055wmFCRK','isRemote','bHrJN','currentSessionDetails','UPXjB','INikD','tSlGI','98824xhjCzy','1078248LRGajT','BROWSERSTACK_TEST_OBSERVABILITY','ptBwI','npBEF','bsParams','sessionError','parse','version','XEakp','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','JbDYw','14dBVNVF','assign','fIxfX','uJawN','3836STaHew','trackEvent','Found\x20Connection\x20class\x20at:\x20','Device\x20Model\x20is\x20not\x20available','toLowerCase','params','ACMiv','../../helpers/logger','use','isRunning','winstonLogger','bozgB','Connection\x20dispatch\x20already\x20patched','chromium','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','os_version','osVersion','accessibilityPlatform','includes','platformDetails','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','getTrackedInstance'];a60_0x5881=function(){return _0x36762b;};return a60_0x5881();}