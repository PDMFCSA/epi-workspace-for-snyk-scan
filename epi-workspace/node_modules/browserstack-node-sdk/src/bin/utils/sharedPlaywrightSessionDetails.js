const a60_0x5d2983=a60_0x1ab4;function a60_0x4fbc(){const _0x3bf75e=['QlKtl','Error\x20parsing\x20WebSocket\x20endpoint:\x20','fWZHn','RfPXX','format','local_grid','platform_version','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','CRConnection','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','product','5818872bAqyYw','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','gZMRw','4xUIJZM','PMMBv','chromium','pCOYX','apply','lKHQA','Successfully\x20patched\x20CRConnection._onMessage','browserName','getInstance','16ZqEfLi',',\x20os=','caps','platformName','smEsC','isRunning','extractBrowserStackParams','BSTACK_URL','defineProperty','POST','mnnJq','LelBG','_connection','__platformCaps','triggerPlaywrightDispatchEvent','model','bPLpj','../v2/browserstackCLI','../v2/framework/automationFramework','qjOaK','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','patchCRConnection','function','stringify','3854720ELxozR','env','oVCLj','version','OqUJt','connection.js','vLYmc','FQHze','7574760OpqSYv','use','uKdWq','OMmxJ','WWAkA','getTrackedInstance','test','isRemote','xlWqR','getDetails','msedge','jsaWd','url','bsParams','BSTACK_ATS_URL','IkdzG','CJVHS','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','browser','edge','nDZff','68522CSTwSG','_defaultConnectOptions','cloudProvider','entries','RPwXt','capabilities','_bstackCRPatched','xuewu','UHrfB','Device\x20Model\x20is\x20not\x20available','desiredCapabilities','message','Setting\x20session\x20id\x20received\x20from\x20BS\x20','VjoFg','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','HaslV','FTjsY','sessionId','automate','YLiXS','YIIri','crConnection.js','CRConnection\x20already\x20patched','nuZNH','../v2/state/automationFrameworkState.js','chrome','browser_version','sessionError','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','_bstackDispatchPatched','channel','oxIGu','bsSessionId','client','deviceModel','jncah','_onMessage','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','ATS_WSS_URL_REGEX','osVersion','platform','turboscale','kvmEy','path','LQPHL','string','xUZYO','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','query','MBMrx','Tdtsh','hGBKS','dispatch','includes','platformDetails','trackEvent','fromEntries','_browserType','parse','OoMNf','bstack:options','unknown_grid','../../helpers/helper','10FBPCII','../../helpers/test-observability/error-handler','firefox','FfJlU','hooVu','bStackParams','TDaZp','tyKka','browserstack','Error\x20extracting\x20BrowserStack\x20parameters:\x20','YiiPl','tVygy','ifDbf','EhlYs','debug','instance','6434414XoiioC','tabke','RrijH','FhaTO','PLAYWRIGHT_DISPATCH','Error\x20in\x20importing\x20connection\x20','526338nEwceK','toString','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','ZTjtA','nvGOp','YKvif','ZerrW','getAutomationFramework','VVItS','1873329oRkDss','util','CImBe','Connection','platformVersion','patchConnection','gQuTi','browserVersion','JKada','toLowerCase','prototype','woehA','dRvVk','project','browserstack_capabilities','../../helpers/logger','Failed\x20to\x20import\x20connection\x20from\x20','wsEndpoint','FXlyR','wAkRI','currentSessionDetails','gecko','YGboJ','join','safari','yRwZt','sjSuf','params','os_version'];a60_0x4fbc=function(){return _0x3bf75e;};return a60_0x4fbc();}(function(_0x3a9ef5,_0x54cdf9){const _0x2c922b=a60_0x1ab4,_0x13bf67=_0x3a9ef5();while(!![]){try{const _0x33120b=parseInt(_0x2c922b(0x1e4))/0x1+-parseInt(_0x2c922b(0x23a))/0x2+-parseInt(_0x2c922b(0x244))/0x3*(-parseInt(_0x2c922b(0x26f))/0x4)+-parseInt(_0x2c922b(0x224))/0x5*(-parseInt(_0x2c922b(0x26c))/0x6)+parseInt(_0x2c922b(0x234))/0x7*(-parseInt(_0x2c922b(0x278))/0x8)+parseInt(_0x2c922b(0x1cf))/0x9+-parseInt(_0x2c922b(0x1c7))/0xa;if(_0x33120b===_0x54cdf9)break;else _0x13bf67['push'](_0x13bf67['shift']());}catch(_0xaf5045){_0x13bf67['push'](_0x13bf67['shift']());}}}(a60_0x4fbc,0xf1030));const path=require(a60_0x5d2983(0x210)),url=require(a60_0x5d2983(0x1db)),util=require(a60_0x5d2983(0x245)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x5d2983(0x223)),{o11yErrorHandler}=require(a60_0x5d2983(0x225)),{debug,getPlatformDetails}=require('../../helpers/test-observability/utils'),logger=require(a60_0x5d2983(0x253))['winstonLogger'],constants=require('./constants'),AutomationFramework=require(a60_0x5d2983(0x1c1)),BrowserstackCLI=require(a60_0x5d2983(0x1c0)),AutomationFrameworkState=require(a60_0x5d2983(0x1fc)),HookState=require('../v2/state/hookState.js'),{platform}=require('os'),getBrowserNameFromChannel=_0x412caf=>{const _0x1b6c83=a60_0x5d2983,_0x36c104={};_0x36c104[_0x1b6c83(0x25d)]=_0x1b6c83(0x1fd),_0x36c104['xuewu']=_0x1b6c83(0x1e2),_0x36c104[_0x1b6c83(0x1ce)]=_0x1b6c83(0x226),_0x36c104[_0x1b6c83(0x213)]=_0x1b6c83(0x25c);const _0x39176b=_0x36c104;if(_0x412caf[_0x1b6c83(0x21a)](_0x39176b[_0x1b6c83(0x25d)]))return _0x39176b[_0x1b6c83(0x25d)];if(_0x412caf[_0x1b6c83(0x21a)](_0x39176b[_0x1b6c83(0x1eb)]))return _0x39176b[_0x1b6c83(0x1eb)];if(_0x412caf[_0x1b6c83(0x21a)](_0x39176b[_0x1b6c83(0x1ce)]))return _0x39176b['FQHze'];if(_0x412caf[_0x1b6c83(0x21a)](_0x39176b[_0x1b6c83(0x213)]))return _0x39176b[_0x1b6c83(0x213)];},getBrowserFromWSEndpoint=_0x2d8bb0=>{const _0x2b8b21=a60_0x5d2983,_0x4e0efb={'EhlYs':_0x2b8b21(0x221),'ZTjtA':function(_0x52c78e,_0xe9e0b){return _0x52c78e(_0xe9e0b);},'Tdtsh':_0x2b8b21(0x1e2),'jsaWd':_0x2b8b21(0x1d9),'ifDbf':_0x2b8b21(0x226),'LQPHL':_0x2b8b21(0x259),'OoMNf':_0x2b8b21(0x25c),'nvGOp':'webkit','ZerrW':_0x2b8b21(0x1fd),'WWAkA':function(_0x12e8e7,_0xff4524){return _0x12e8e7(_0xff4524);}};try{const _0x4d43ed=url[_0x2b8b21(0x21f)](_0x2d8bb0),_0xc1c5d3=new URLSearchParams(_0x4d43ed[_0x2b8b21(0x215)]),_0x115b4f=Object[_0x2b8b21(0x21d)](_0xc1c5d3[_0x2b8b21(0x1e7)]()),_0x184a6a=[_0x115b4f['caps'],_0x115b4f['capabilities'],_0x115b4f['desiredCapabilities'],_0x115b4f[_0x2b8b21(0x252)]];for(const _0x99d72e of _0x184a6a){if(_0x99d72e)try{const _0x57d86d=JSON[_0x2b8b21(0x21f)](_0x99d72e),_0x532302=_0x57d86d[_0x2b8b21(0x276)]||_0x57d86d[_0x2b8b21(0x1e1)]||_0x57d86d[_0x4e0efb[_0x2b8b21(0x231)]]?.[_0x2b8b21(0x276)];if(_0x532302)return _0x4e0efb[_0x2b8b21(0x23e)](debug,'Browser\x20found\x20in\x20WebSocket\x20caps:\x20'+_0x532302),_0x532302[_0x2b8b21(0x24d)]();}catch(_0x34d1c4){_0x4e0efb[_0x2b8b21(0x23e)](debug,_0x2b8b21(0x268)+_0x34d1c4[_0x2b8b21(0x1ef)]);}}if(_0x2d8bb0['includes'](_0x4e0efb['Tdtsh'])||_0x2d8bb0['includes'](_0x4e0efb[_0x2b8b21(0x1da)]))return _0x4e0efb[_0x2b8b21(0x217)];if(_0x2d8bb0[_0x2b8b21(0x21a)](_0x4e0efb[_0x2b8b21(0x230)])||_0x2d8bb0['includes'](_0x4e0efb[_0x2b8b21(0x211)]))return _0x4e0efb['ifDbf'];if(_0x2d8bb0[_0x2b8b21(0x21a)](_0x4e0efb[_0x2b8b21(0x220)])||_0x2d8bb0[_0x2b8b21(0x21a)](_0x4e0efb[_0x2b8b21(0x23f)]))return _0x4e0efb[_0x2b8b21(0x220)];return _0x4e0efb[_0x2b8b21(0x241)];}catch(_0x1da393){return _0x4e0efb[_0x2b8b21(0x1d3)](debug,_0x2b8b21(0x1c3)+_0x1da393[_0x2b8b21(0x23b)]()),_0x4e0efb['ZerrW'];}},getCloudProviderFromWsEndpoint=_0x5c86ee=>{const _0x25ee1a=a60_0x5d2983,_0xe5a9b5={};_0xe5a9b5['fWZHn']=_0x25ee1a(0x22c),_0xe5a9b5[_0x25ee1a(0x1e8)]=_0x25ee1a(0x222);const _0x3e7c94=_0xe5a9b5;if(_0x5c86ee[_0x25ee1a(0x21a)](constants[_0x25ee1a(0x27f)])||_0x5c86ee[_0x25ee1a(0x21a)](constants[_0x25ee1a(0x1dd)]))return _0x3e7c94[_0x25ee1a(0x263)];return _0x3e7c94[_0x25ee1a(0x1e8)];},a60_0x59a276={};a60_0x59a276['cloudProvider']=undefined,a60_0x59a276[a60_0x5d2983(0x205)]=undefined,a60_0x59a276[a60_0x5d2983(0x1e1)]=undefined,a60_0x59a276[a60_0x5d2983(0x1fe)]=undefined,a60_0x59a276[a60_0x5d2983(0x20d)]=undefined,a60_0x59a276[a60_0x5d2983(0x267)]=undefined,a60_0x59a276[a60_0x5d2983(0x26b)]=undefined,a60_0x59a276[a60_0x5d2983(0x1e9)]={};class SharedPlaywrightSessionDetails{static ['currentSessionDetails']=a60_0x59a276;constructor(){const _0x5eaefc=a60_0x5d2983,_0x4ed3d3={};_0x4ed3d3[_0x5eaefc(0x257)]=_0x5eaefc(0x26d);const _0x123326=_0x4ed3d3;throw new Error(_0x123326[_0x5eaefc(0x257)]);}static [a60_0x5d2983(0x1ff)]=null;static['setupBrowserDetails'](_0x95fb21,_0x159823,_0x3187c3=null){const _0x256a1b=a60_0x5d2983,_0x4b644b={'qjOaK':function(_0x5d9edc,_0x1463ec){return _0x5d9edc===_0x1463ec;},'OMmxJ':_0x256a1b(0x1c5),'tuXxM':_0x256a1b(0x26a),'FXlyR':function(_0x52e2eb,_0x447944){return _0x52e2eb===_0x447944;},'hGBKS':_0x256a1b(0x1ed),'jncah':_0x256a1b(0x266),'QlKtl':function(_0x2a3b43,_0x4a7c29,_0x1ed550){return _0x2a3b43(_0x4a7c29,_0x1ed550);},'FHCVJ':_0x256a1b(0x21e),'MBMrx':_0x256a1b(0x1e5),'FTjsY':function(_0x2ecaee,_0x6836fc,_0x254af1){return _0x2ecaee(_0x6836fc,_0x254af1);},'uKdWq':_0x256a1b(0x251),'iNdMO':_0x256a1b(0x1d0),'tyKka':'connectOptions','xlWqR':function(_0x1ebcd4,_0x26dcb9){return _0x1ebcd4(_0x26dcb9);},'hooVu':function(_0x52e6b0,_0x13eaf7){return _0x52e6b0===_0x13eaf7;},'OqUJt':_0x256a1b(0x22c),'YLiXS':_0x256a1b(0x20e),'SFrNE':_0x256a1b(0x1f6),'oxIGu':_0x256a1b(0x271),'tabke':function(_0x3bea17,_0x522595){return _0x3bea17(_0x522595);},'lKHQA':function(_0x3194b9,_0x68e615){return _0x3194b9+_0x68e615;},'LelBG':'playwright-','gZMRw':function(_0x5a71cf){return _0x5a71cf();},'sjSuf':function(_0x45e79a,_0x278f22,_0x140a96){return _0x45e79a(_0x278f22,_0x140a96);},'DBvcC':'setupBrowserDetails'},_0x35ea9a=this;return _0x4b644b[_0x256a1b(0x25e)](o11yErrorHandler,async function _0x769229(_0x25962c,_0x2a36ca,_0x274789=null){const _0x559653=_0x256a1b;let _0x59168d=_0x25962c['_name'],_0xc9e80c=null;_0x25962c&&_0x4b644b['qjOaK'](typeof _0x25962c[_0x559653(0x1ca)],_0x4b644b[_0x559653(0x1d2)])?_0xc9e80c=_0x25962c[_0x559653(0x1ca)]():logger[_0x559653(0x232)](_0x4b644b['tuXxM']);let _0x18c76e=null;_0x25962c&&_0x4b644b[_0x559653(0x256)](typeof _0x25962c[_0x559653(0x1be)],_0x4b644b['OMmxJ'])?_0x18c76e=_0x25962c[_0x559653(0x1be)]():logger[_0x559653(0x232)](_0x4b644b[_0x559653(0x218)]);let _0xb40c0d=null,_0x5d778d=null,_0x488644=null,_0x7a754d=_0x4b644b[_0x559653(0x208)];if(_0x25962c[_0x559653(0x1bb)][_0x559653(0x1d6)]()||global['accessibilityPlatform']){let _0x5852e4=null;_0x4b644b[_0x559653(0x261)](nestedKeyValue,_0x25962c,[_0x4b644b['FHCVJ'],_0x4b644b[_0x559653(0x216)]])?_0x5852e4=_0x25962c['_browserType']['_defaultConnectOptions']:_0x5852e4=_0x4b644b[_0x559653(0x1f4)](nestedKeyValue,_0x2a36ca,[_0x4b644b[_0x559653(0x1d1)],_0x4b644b['iNdMO'],_0x4b644b[_0x559653(0x22b)]]);const _0xcbb695=_0x274789||_0x5852e4&&_0x5852e4[_0x559653(0x255)];if(_0xcbb695){_0x7a754d=_0x4b644b['xlWqR'](getCloudProviderFromWsEndpoint,_0xcbb695);if(_0x4b644b[_0x559653(0x228)](_0x7a754d,_0x4b644b[_0x559653(0x1cb)])){_0x488644=constants[_0x559653(0x20b)][_0x559653(0x1d5)](_0xcbb695)?_0x4b644b[_0x559653(0x1f7)]:_0x4b644b['SFrNE'];const _0x48bff5=_0x4b644b[_0x559653(0x1d7)](getBrowserFromWSEndpoint,_0xcbb695);if(_0x48bff5&&(!_0x59168d||_0x4b644b[_0x559653(0x1c2)](_0x59168d,_0x4b644b[_0x559653(0x204)])))_0x59168d=_0x48bff5,logger['debug']('Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20'+_0x59168d);else _0x59168d&&logger['debug']('Using\x20browser\x20name\x20from\x20browser\x20object:\x20'+_0x59168d);_0xb40c0d=_0x35ea9a[_0x559653(0x258)]['platform'],_0x5d778d=_0x35ea9a[_0x559653(0x258)]['platform_version'];}}}else{_0x2a36ca&&_0x2a36ca['project']&&_0x2a36ca['project'][_0x559653(0x1d0)]&&_0x2a36ca[_0x559653(0x251)][_0x559653(0x1d0)][_0x559653(0x203)]?_0x59168d=_0x4b644b[_0x559653(0x235)](getBrowserNameFromChannel,_0x2a36ca[_0x559653(0x251)][_0x559653(0x1d0)][_0x559653(0x203)]):_0x59168d=_0x4b644b[_0x559653(0x274)](_0x4b644b[_0x559653(0x1ba)],_0x59168d[_0x559653(0x24d)]());const _0x8b648e=await _0x4b644b[_0x559653(0x26e)](getPlatformDetails);_0xb40c0d=_0x8b648e[_0x559653(0x27b)],_0x5d778d=_0x8b648e[_0x559653(0x248)];}const _0x485cf2={};_0x485cf2[_0x559653(0x1e1)]=_0x59168d,_0x485cf2[_0x559653(0x1fe)]=_0xc9e80c,_0x485cf2[_0x559653(0x1e9)]={},_0x485cf2[_0x559653(0x20d)]=_0xb40c0d,_0x485cf2['platform_version']=_0x5d778d,_0x485cf2['product']=_0x488644;const _0x52e698=_0x485cf2;_0x18c76e&&(_0x52e698[_0x559653(0x1e9)][_0x559653(0x207)]=_0x18c76e);const _0x392737={};_0x392737[_0x559653(0x1e6)]=_0x7a754d,_0x35ea9a[_0x559653(0x258)]=Object['assign']({},_0x35ea9a[_0x559653(0x258)],_0x392737,_0x52e698);const _0x3da880={};_0x3da880[_0x559653(0x1e1)]=_0x35ea9a['currentSessionDetails'][_0x559653(0x1e1)],_0x3da880[_0x559653(0x24b)]=_0x35ea9a[_0x559653(0x258)][_0x559653(0x1fe)],_0x3da880[_0x559653(0x20d)]=_0x35ea9a[_0x559653(0x258)][_0x559653(0x20d)],_0x3da880[_0x559653(0x248)]=_0x35ea9a[_0x559653(0x258)]['platform_version'],_0x3da880[_0x559653(0x1e6)]=_0x35ea9a[_0x559653(0x258)][_0x559653(0x1e6)],_0x3da880[_0x559653(0x26b)]=_0x35ea9a[_0x559653(0x258)][_0x559653(0x26b)],logger[_0x559653(0x232)]('Session\x20details\x20setup\x20complete:\x20'+JSON[_0x559653(0x1c6)](_0x3da880));},_0x4b644b['DBvcC'])(_0x95fb21,_0x159823,_0x3187c3);}static['patch'](){const _0x1572a2=a60_0x5d2983;this['patchConnection'](),this[_0x1572a2(0x1c4)]();}static[a60_0x5d2983(0x249)](){const _0x528bf3=a60_0x5d2983,_0x2cee8a={'smEsC':function(_0x2c3194,_0x51faeb){return _0x2c3194(_0x51faeb);},'RrijH':'lib','YIIri':_0x528bf3(0x206),'CJVHS':_0x528bf3(0x1cc),'JKada':function(_0x226ea9,_0x12e211){return _0x226ea9(_0x12e211);},'YKvif':'Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','mnnJq':function(_0x11188d,_0x1993b0){return _0x11188d(_0x1993b0);},'CImBe':function(_0x50f824,_0x458572){return _0x50f824!=_0x458572;},'nuZNH':function(_0x4f6714,_0x43d72f){return _0x4f6714(_0x43d72f);},'dRvVk':'Connection\x20dispatch\x20already\x20patched','tVygy':_0x528bf3(0x219),'vjKnB':'Successfully\x20patched\x20Connection.dispatch','gQuTi':function(_0x5e8892,_0x5771a0){return _0x5e8892(_0x5771a0);}},_0x3f68f7=this;if(!this[_0x528bf3(0x247)])try{const _0x4f804a=[path[_0x528bf3(0x25b)](_0x2cee8a[_0x528bf3(0x236)],_0x2cee8a[_0x528bf3(0x1f8)],_0x2cee8a[_0x528bf3(0x1df)]),path[_0x528bf3(0x25b)](_0x2cee8a[_0x528bf3(0x236)],_0x2cee8a[_0x528bf3(0x1df)]),path['join'](_0x2cee8a[_0x528bf3(0x1f8)],_0x2cee8a['CJVHS'])];for(const _0x4c6b0e of _0x4f804a){try{const _0x435467=_0x2cee8a['smEsC'](importFileFromPWCore,_0x4c6b0e);if(_0x435467&&_0x435467[_0x528bf3(0x247)]){this[_0x528bf3(0x247)]=_0x435467[_0x528bf3(0x247)],logger[_0x528bf3(0x232)]('Found\x20Connection\x20class\x20at:\x20'+_0x4c6b0e);break;}}catch(_0x37f351){_0x2cee8a[_0x528bf3(0x24c)](debug,_0x528bf3(0x254)+_0x4c6b0e+':\x20'+_0x37f351[_0x528bf3(0x23b)]());}}if(!this[_0x528bf3(0x247)]){_0x2cee8a[_0x528bf3(0x27c)](debug,_0x2cee8a[_0x528bf3(0x240)]);return;}}catch(_0x126689){_0x2cee8a[_0x528bf3(0x1b9)](debug,_0x528bf3(0x239)+_0x126689[_0x528bf3(0x23b)]());return;}const _0x285688=this['Connection'];try{if(_0x2cee8a[_0x528bf3(0x246)](_0x285688,null)){const _0x46964f=_0x285688['prototype'][_0x528bf3(0x219)];if(!_0x2cee8a[_0x528bf3(0x1fb)](isFalse,process[_0x528bf3(0x1c8)]['BROWSERSTACK_TEST_OBSERVABILITY'])){if(_0x285688['prototype'][_0x528bf3(0x202)]){logger['debug'](_0x2cee8a[_0x528bf3(0x250)]);return;}Object[_0x528bf3(0x280)](_0x285688[_0x528bf3(0x24e)],_0x2cee8a[_0x528bf3(0x22f)],{'get':function(){return async function _0x2d2fb3(_0x20a499){const _0x4960d2=a60_0x1ab4;if(BrowserstackCLI[_0x4960d2(0x277)]()[_0x4960d2(0x27d)]()){const _0x4db5bd={};_0x4db5bd['message']=_0x20a499,await BrowserstackCLI[_0x4960d2(0x277)]()[_0x4960d2(0x242)]()['trackEvent'](AutomationFrameworkState[_0x4960d2(0x238)],HookState[_0x4960d2(0x281)],_0x4db5bd);}else{const _0x29f9da=_0x20a499&&_0x20a499[_0x4960d2(0x25f)]&&_0x20a499[_0x4960d2(0x25f)][_0x4960d2(0x1dc)];if(_0x29f9da){const _0x460e11=_0x29f9da[_0x4960d2(0x1f5)],_0x58412d=_0x29f9da[_0x4960d2(0x21b)];_0x58412d&&(_0x2cee8a[_0x4960d2(0x27c)](debug,_0x4960d2(0x1e0)+_0x58412d[_0x4960d2(0x23b)]()),_0x3f68f7[_0x4960d2(0x258)][_0x4960d2(0x20d)]=_0x58412d[_0x4960d2(0x27b)],_0x3f68f7[_0x4960d2(0x258)]['platform_version']=_0x58412d['platformVersion']),_0x460e11&&(_0x2cee8a[_0x4960d2(0x27c)](debug,_0x4960d2(0x1f0)+_0x460e11),_0x3f68f7[_0x4960d2(0x258)]['bsSessionId']=_0x460e11);}}return _0x46964f[_0x4960d2(0x273)](this,arguments);};}}),_0x285688[_0x528bf3(0x24e)][_0x528bf3(0x202)]=!![],logger['debug'](_0x2cee8a['vjKnB']);}}}catch(_0x166099){_0x2cee8a[_0x528bf3(0x24a)](debug,'Error\x20in\x20applying\x20Connection\x20patch\x20'+_0x166099),_0x3f68f7['sessionError']=_0x166099[_0x528bf3(0x23b)]();}}static[a60_0x5d2983(0x1c4)](){const _0x3a94ef=a60_0x5d2983,_0x578eb5={'IkdzG':function(_0x22e103,_0x719b78){return _0x22e103(_0x719b78);},'uLmPg':'lib','rFnlC':'server','YiiPl':_0x3a94ef(0x271),'YGboJ':_0x3a94ef(0x1f9),'oVCLj':function(_0x33aa08,_0x2e6e64){return _0x33aa08(_0x2e6e64);},'HaslV':function(_0x16d03b,_0x38b738){return _0x16d03b(_0x38b738);},'nDZff':'Not\x20able\x20to\x20import\x20crConnection','pCOYX':function(_0x29e5c9,_0x38dd64){return _0x29e5c9(_0x38dd64);},'RfPXX':'Error\x20in\x20importing\x20crConnection','jXxHG':function(_0x510093,_0x51e258){return _0x510093!=_0x51e258;},'bPLpj':_0x3a94ef(0x1fa),'FfJlU':_0x3a94ef(0x209),'FhaTO':_0x3a94ef(0x275)},_0x5e1018=this;let _0xb2b227=null;try{const _0x538aea=path[_0x3a94ef(0x25b)](_0x578eb5['uLmPg'],_0x578eb5['rFnlC'],_0x578eb5[_0x3a94ef(0x22e)],_0x578eb5[_0x3a94ef(0x25a)]),_0x845a9d=_0x578eb5[_0x3a94ef(0x1c9)](importFileFromPWCore,_0x538aea);!_0x845a9d?_0x578eb5[_0x3a94ef(0x1f3)](debug,_0x578eb5[_0x3a94ef(0x1e3)]):_0xb2b227=_0x845a9d[_0x3a94ef(0x269)];}catch(_0x153639){_0x578eb5[_0x3a94ef(0x272)](debug,_0x578eb5[_0x3a94ef(0x264)]);}try{if(_0x578eb5['jXxHG'](_0xb2b227,null)){const _0x193a12=_0xb2b227[_0x3a94ef(0x24e)][_0x3a94ef(0x209)];if(_0xb2b227[_0x3a94ef(0x24e)]['_bstackCRPatched']){logger[_0x3a94ef(0x232)](_0x578eb5[_0x3a94ef(0x1bf)]);return;}Object[_0x3a94ef(0x280)](_0xb2b227['prototype'],_0x578eb5[_0x3a94ef(0x227)],{'get':function(){return async function _0x4c696e(_0x135fd0){const _0x3f6e5e=a60_0x1ab4;try{if(BrowserstackCLI[_0x3f6e5e(0x277)]()['isRunning']()){const _0x47ee12={};_0x47ee12['message']=_0x135fd0,await BrowserstackCLI['getInstance']()[_0x3f6e5e(0x242)]()[_0x3f6e5e(0x21c)](AutomationFrameworkState[_0x3f6e5e(0x238)],HookState[_0x3f6e5e(0x281)],_0x47ee12),delete _0x135fd0[_0x3f6e5e(0x229)];}else{const _0x3fff73=_0x135fd0[_0x3f6e5e(0x229)];if(_0x3fff73){delete _0x135fd0[_0x3f6e5e(0x229)];const _0x567aee=_0x3fff73[_0x3f6e5e(0x1f5)],_0x3ae89b=_0x3fff73[_0x3f6e5e(0x21b)];_0x3ae89b&&(_0x578eb5[_0x3f6e5e(0x1de)](debug,_0x3f6e5e(0x200)+_0x3ae89b['toString']()),_0x5e1018[_0x3f6e5e(0x258)][_0x3f6e5e(0x20d)]=_0x3ae89b[_0x3f6e5e(0x27b)],_0x5e1018[_0x3f6e5e(0x258)][_0x3f6e5e(0x267)]=_0x3ae89b[_0x3f6e5e(0x248)]),_0x567aee&&(_0x578eb5['IkdzG'](debug,_0x3f6e5e(0x214)+_0x567aee),_0x5e1018[_0x3f6e5e(0x258)][_0x3f6e5e(0x205)]=_0x567aee);}}}catch(_0x1a0e82){_0x578eb5[_0x3f6e5e(0x1de)](debug,'Error\x20in\x20finding\x20platform\x20details\x20'+_0x1a0e82[_0x3f6e5e(0x23b)]());}return _0x193a12[_0x3f6e5e(0x273)](this,arguments);};}}),_0xb2b227[_0x3a94ef(0x24e)][_0x3a94ef(0x1ea)]=!![],logger[_0x3a94ef(0x232)](_0x578eb5[_0x3a94ef(0x237)]);}}catch(_0xe54a27){_0x578eb5[_0x3a94ef(0x1c9)](debug,_0x3a94ef(0x1f2)+_0xe54a27),_0x5e1018['sessionError']=_0xe54a27['toString']();}}static[a60_0x5d2983(0x27e)](_0x1dd276,_0x13b381){const _0x45363b=a60_0x5d2983,_0x45822c={'TDaZp':_0x45363b(0x221),'ICJeE':function(_0x3f8252,_0x584bb9){return _0x3f8252||_0x584bb9;},'UHrfB':function(_0x2617e3,_0x72d0aa){return _0x2617e3===_0x72d0aa;},'PMMBv':_0x45363b(0x212),'kvmEy':_0x45363b(0x23c),'woehA':function(_0x45ac4e,_0x479896){return _0x45ac4e(_0x479896);}};let _0x4c39f8=null,_0x5131a6=null;try{const _0x3f3d63=[_0x13b381,global[_0x45363b(0x1bc)],global['capabilties']];for(const _0x3bf6f2 of _0x3f3d63){if(_0x3bf6f2&&(!_0x5131a6||!_0x5131a6[_0x45363b(0x1f5)])){const _0x532ec6=_0x3bf6f2[_0x45363b(0x1f5)]||_0x3bf6f2[_0x45822c[_0x45363b(0x22a)]]?.[_0x45363b(0x1f5)],_0x35ec33=_0x3bf6f2[_0x45363b(0x276)]||_0x3bf6f2[_0x45363b(0x1e1)]||_0x3bf6f2[_0x45822c[_0x45363b(0x22a)]]?.[_0x45363b(0x276)],_0x3768ff=_0x3bf6f2[_0x45363b(0x24b)]||_0x3bf6f2[_0x45363b(0x1fe)]||_0x3bf6f2[_0x45822c['TDaZp']]?.['browserVersion'],_0x33e45c=_0x3bf6f2['os']||_0x3bf6f2[_0x45363b(0x20d)]||_0x3bf6f2[_0x45822c['TDaZp']]?.['os'],_0x1d7df5=_0x3bf6f2[_0x45363b(0x20c)]||_0x3bf6f2['os_version']||_0x3bf6f2[_0x45822c[_0x45363b(0x22a)]]?.['osVersion'];if(_0x45822c['ICJeE'](_0x532ec6,_0x35ec33)||_0x33e45c){const _0x108c45={};_0x108c45[_0x45363b(0x276)]=_0x35ec33,_0x108c45[_0x45363b(0x24b)]=_0x3768ff,_0x108c45['os']=_0x33e45c,_0x108c45['osVersion']=_0x1d7df5,_0x108c45[_0x45363b(0x27b)]=_0x3bf6f2['platformName']||_0x33e45c,_0x108c45['platformVersion']=_0x3bf6f2[_0x45363b(0x248)]||_0x1d7df5;const _0x3d721f={};_0x3d721f[_0x45363b(0x1f5)]=_0x532ec6,_0x3d721f[_0x45363b(0x21b)]=_0x108c45,_0x5131a6=_0x3d721f;if(_0x45822c['ICJeE'](_0x532ec6,_0x35ec33)){logger[_0x45363b(0x232)](_0x45363b(0x201)+_0x35ec33+_0x45363b(0x279)+_0x33e45c);break;}}}}if(_0x1dd276&&_0x45822c[_0x45363b(0x1ec)](typeof _0x1dd276,_0x45822c[_0x45363b(0x270)]))try{const _0x59857e=url[_0x45363b(0x21f)](_0x1dd276),_0x122b80=new URLSearchParams(_0x59857e[_0x45363b(0x215)]),_0x402944=Object[_0x45363b(0x21d)](_0x122b80[_0x45363b(0x1e7)]()),_0x4aae75=[_0x402944[_0x45363b(0x27a)],_0x402944['capabilities'],_0x402944[_0x45363b(0x1ee)]];for(const _0x1a3781 of _0x4aae75){if(_0x1a3781&&(!_0x4c39f8||!_0x4c39f8[_0x45363b(0x1f5)]))try{const _0x52026f=JSON[_0x45363b(0x21f)](_0x1a3781),_0x48e322={};_0x48e322[_0x45363b(0x1f5)]=_0x52026f[_0x45363b(0x1f5)]||_0x52026f[_0x45822c[_0x45363b(0x22a)]]?.[_0x45363b(0x1f5)],_0x48e322[_0x45363b(0x21b)]={},_0x48e322[_0x45363b(0x21b)][_0x45363b(0x276)]=_0x52026f['browserName']||_0x52026f[_0x45363b(0x1e1)],_0x48e322[_0x45363b(0x21b)][_0x45363b(0x24b)]=_0x52026f[_0x45363b(0x24b)]||_0x52026f[_0x45363b(0x1fe)],_0x48e322[_0x45363b(0x21b)]['os']=_0x52026f['os']||_0x52026f[_0x45363b(0x20d)],_0x48e322[_0x45363b(0x21b)][_0x45363b(0x20c)]=_0x52026f[_0x45363b(0x20c)]||_0x52026f['os_version'],_0x48e322[_0x45363b(0x21b)][_0x45363b(0x27b)]=_0x52026f['platformName']||_0x52026f['os']||_0x52026f[_0x45363b(0x20d)],_0x48e322[_0x45363b(0x21b)][_0x45363b(0x248)]=_0x52026f[_0x45363b(0x248)]||_0x52026f[_0x45363b(0x20c)]||_0x52026f[_0x45363b(0x260)],_0x4c39f8=_0x48e322;if(_0x4c39f8['sessionId']||_0x4c39f8[_0x45363b(0x21b)][_0x45363b(0x276)]){logger['debug'](_0x45822c[_0x45363b(0x20f)]);break;}}catch(_0x4592e8){_0x45822c[_0x45363b(0x24f)](debug,'Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20'+_0x4592e8[_0x45363b(0x23b)]());}}}catch(_0x51f978){_0x45822c[_0x45363b(0x24f)](debug,_0x45363b(0x262)+_0x51f978[_0x45363b(0x23b)]());}}catch(_0x2b10f8){_0x45822c[_0x45363b(0x24f)](debug,_0x45363b(0x22d)+util[_0x45363b(0x265)](_0x2b10f8));}const _0x52b67d={};return _0x52b67d['bsParams']=_0x4c39f8,_0x52b67d[_0x45363b(0x229)]=_0x5131a6,_0x52b67d;}static async[a60_0x5d2983(0x1bd)](_0x3700f6,_0xda6351){const _0x2e6737=a60_0x5d2983,_0x47be7f={'VjoFg':function(_0x169266,_0x5da5d0){return _0x169266||_0x5da5d0;},'KFpkd':_0x2e6737(0x23d),'vLYmc':function(_0x4fd0bf,_0x36722e){return _0x4fd0bf||_0x36722e;},'VVItS':function(_0x15dd93,_0xeae0fe){return _0x15dd93(_0xeae0fe);}};try{if(!BrowserstackCLI[_0x2e6737(0x277)]()[_0x2e6737(0x27d)]())return;if(_0x47be7f[_0x2e6737(0x1f1)](_0x3700f6,_0xda6351)){logger[_0x2e6737(0x232)](_0x47be7f['KFpkd']);const _0x17eda5={'params':_0x3700f6?{'bsParams':_0x3700f6}:null,'bStackParams':_0x47be7f[_0x2e6737(0x1cd)](_0xda6351,null)},_0x238ccd=AutomationFramework[_0x2e6737(0x1d4)](),_0x3785f4={};_0x3785f4[_0x2e6737(0x1ef)]=_0x17eda5,_0x3785f4[_0x2e6737(0x233)]=_0x238ccd,await BrowserstackCLI['getInstance']()[_0x2e6737(0x242)]()['trackEvent'](AutomationFrameworkState[_0x2e6737(0x238)],HookState[_0x2e6737(0x281)],_0x3785f4);}}catch(_0x209258){_0x47be7f[_0x2e6737(0x243)](debug,_0x2e6737(0x20a)+util[_0x2e6737(0x265)](_0x209258));}}static[a60_0x5d2983(0x1d8)](){const _0x440bed=a60_0x5d2983;return this[_0x440bed(0x258)];}}function a60_0x1ab4(_0x5236aa,_0x49867b){const _0x4fbca0=a60_0x4fbc();return a60_0x1ab4=function(_0x1ab489,_0x208e96){_0x1ab489=_0x1ab489-0x1b9;let _0xc10f5c=_0x4fbca0[_0x1ab489];return _0xc10f5c;},a60_0x1ab4(_0x5236aa,_0x49867b);}module['exports']=SharedPlaywrightSessionDetails;