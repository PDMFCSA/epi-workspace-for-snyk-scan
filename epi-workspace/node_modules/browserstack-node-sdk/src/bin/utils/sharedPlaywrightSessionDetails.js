const a60_0x4121a8=a60_0xaa67;(function(_0x1cd867,_0x212479){const _0x4d024a=a60_0xaa67,_0x54bf67=_0x1cd867();while(!![]){try{const _0x6ccca0=-parseInt(_0x4d024a(0x7b))/0x1*(-parseInt(_0x4d024a(0x75))/0x2)+-parseInt(_0x4d024a(0x78))/0x3+-parseInt(_0x4d024a(0xa4))/0x4+parseInt(_0x4d024a(0xa8))/0x5*(-parseInt(_0x4d024a(0xda))/0x6)+-parseInt(_0x4d024a(0x81))/0x7*(parseInt(_0x4d024a(0xd2))/0x8)+-parseInt(_0x4d024a(0xc5))/0x9+parseInt(_0x4d024a(0x73))/0xa;if(_0x6ccca0===_0x212479)break;else _0x54bf67['push'](_0x54bf67['shift']());}catch(_0x5d1c56){_0x54bf67['push'](_0x54bf67['shift']());}}}(a60_0x21d6,0xa8f7c));function a60_0xaa67(_0x58b029,_0x14b8bd){const _0x21d6f5=a60_0x21d6();return a60_0xaa67=function(_0xaa67b1,_0x39004b){_0xaa67b1=_0xaa67b1-0x71;let _0x4b95be=_0x21d6f5[_0xaa67b1];return _0x4b95be;},a60_0xaa67(_0x58b029,_0x14b8bd);}const path=require(a60_0x4121a8(0xce)),url=require(a60_0x4121a8(0xe8)),util=require(a60_0x4121a8(0x13c)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x4121a8(0x121)),{o11yErrorHandler}=require(a60_0x4121a8(0xc7)),{debug,getPlatformDetails}=require(a60_0x4121a8(0x113)),logger=require('../../helpers/logger')['winstonLogger'],constants=require(a60_0x4121a8(0xf7)),AutomationFramework=require(a60_0x4121a8(0xa1)),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require(a60_0x4121a8(0x89)),HookState=require(a60_0x4121a8(0xbc)),{platform}=require('os'),getBrowserNameFromChannel=_0x4d8aa2=>{const _0x204d11=a60_0x4121a8,_0x1790f3={};_0x1790f3[_0x204d11(0xae)]=_0x204d11(0x10f),_0x1790f3[_0x204d11(0x141)]=_0x204d11(0x137),_0x1790f3[_0x204d11(0xcd)]=_0x204d11(0xaa),_0x1790f3[_0x204d11(0x99)]=_0x204d11(0x11a);const _0x368fad=_0x1790f3;if(_0x4d8aa2[_0x204d11(0x131)](_0x368fad[_0x204d11(0xae)]))return _0x368fad[_0x204d11(0xae)];if(_0x4d8aa2[_0x204d11(0x131)](_0x368fad['QzCPv']))return _0x368fad[_0x204d11(0x141)];if(_0x4d8aa2['includes'](_0x368fad[_0x204d11(0xcd)]))return _0x368fad[_0x204d11(0xcd)];if(_0x4d8aa2[_0x204d11(0x131)](_0x368fad[_0x204d11(0x99)]))return _0x368fad[_0x204d11(0x99)];},getBrowserFromWSEndpoint=_0x75e7c2=>{const _0x41223a=a60_0x4121a8,_0x530fd2={'lknST':_0x41223a(0xaf),'cWyKm':function(_0x359d72,_0x565e15){return _0x359d72(_0x565e15);},'Xinud':function(_0xefc53a,_0xcec401){return _0xefc53a(_0xcec401);},'GCUKj':'edge','avMZe':'msedge','pDREW':_0x41223a(0xaa),'DfaKH':_0x41223a(0x11b),'NkMpl':'safari','pPHCs':_0x41223a(0xab),'MzGUh':_0x41223a(0x10f)};try{const _0xe0611d=url[_0x41223a(0xc6)](_0x75e7c2),_0x5e02ea=new URLSearchParams(_0xe0611d[_0x41223a(0x12b)]),_0x292c78=Object[_0x41223a(0x88)](_0x5e02ea[_0x41223a(0x128)]()),_0x534c65=[_0x292c78[_0x41223a(0xfe)],_0x292c78['capabilities'],_0x292c78[_0x41223a(0x120)],_0x292c78[_0x41223a(0x96)]];for(const _0x2cb594 of _0x534c65){if(_0x2cb594)try{const _0x2713d4=JSON[_0x41223a(0xc6)](_0x2cb594),_0x28e375=_0x2713d4[_0x41223a(0xd9)]||_0x2713d4[_0x41223a(0x77)]||_0x2713d4[_0x530fd2[_0x41223a(0xe2)]]?.[_0x41223a(0xd9)];if(_0x28e375)return _0x530fd2[_0x41223a(0x140)](debug,'Browser\x20found\x20in\x20WebSocket\x20caps:\x20'+_0x28e375),_0x28e375['toLowerCase']();}catch(_0x44e750){_0x530fd2[_0x41223a(0x12e)](debug,_0x41223a(0x13f)+_0x44e750[_0x41223a(0xdf)]);}}if(_0x75e7c2[_0x41223a(0x131)](_0x530fd2[_0x41223a(0x93)])||_0x75e7c2[_0x41223a(0x131)](_0x530fd2[_0x41223a(0x103)]))return _0x530fd2[_0x41223a(0x93)];if(_0x75e7c2['includes'](_0x530fd2[_0x41223a(0x126)])||_0x75e7c2[_0x41223a(0x131)](_0x530fd2[_0x41223a(0x8f)]))return _0x530fd2[_0x41223a(0x126)];if(_0x75e7c2[_0x41223a(0x131)](_0x530fd2[_0x41223a(0xc3)])||_0x75e7c2[_0x41223a(0x131)](_0x530fd2[_0x41223a(0x118)]))return _0x530fd2[_0x41223a(0xc3)];return _0x530fd2[_0x41223a(0xe4)];}catch(_0x17b696){return _0x530fd2[_0x41223a(0x12e)](debug,_0x41223a(0xca)+_0x17b696[_0x41223a(0xd8)]()),_0x530fd2[_0x41223a(0xe4)];}},getCloudProviderFromWsEndpoint=_0x4b73f1=>{const _0x4eb64e=a60_0x4121a8,_0x5b8e46={};_0x5b8e46['FmhlZ']='browserstack',_0x5b8e46[_0x4eb64e(0x72)]=_0x4eb64e(0x10c);const _0x10a668=_0x5b8e46;if(_0x4b73f1[_0x4eb64e(0x131)](constants['BSTACK_URL'])||_0x4b73f1[_0x4eb64e(0x131)](constants['BSTACK_ATS_URL']))return _0x10a668['FmhlZ'];return _0x10a668[_0x4eb64e(0x72)];},a60_0x503d76={};function a60_0x21d6(){const _0x1e2285=['bStackParams','entries','browser_version','gJoIW','query','project','lib','Xinud','turboscale','playwright-','includes','extractBrowserStackParams','osVersion','connectOptions','SxDNR','cloudProvider','edge','use','platformVersion','format','kwNTd','util','AumGu','deviceModel','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','cWyKm','QzCPv','KIBgS','browserVersion','TYdKh','45246060tYovop','VZvlY','2372738XQFUQU','channel','browser','3950157yyQvBW','toLowerCase','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','1tOsmqK','bfXDZ','XHGGB','server','version','lmNpk','192689chRQFy','platform_version','CRConnection\x20already\x20patched','os_version','Error\x20in\x20applying\x20Connection\x20patch\x20','YjFsU','apply','fromEntries','../v2/state/automationFrameworkState.js','isRemote','ndVlb','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','kQmID','CHPbb','DfaKH','uvBmq','bzWnM','Successfully\x20patched\x20Connection.dispatch','GCUKj','capabilties','TfZmf','browserstack_capabilities','local_grid','DLiOR','xBfXI','saCjk','Found\x20Connection\x20class\x20at:\x20','BgUZP','instance','platformDetails','sessionError','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','../v2/framework/automationFramework','bsParams','getDetails','4962052YkPYTU','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','browserstack','patchConnection','4731365waWHFm','JmRuD','firefox','webkit','function','YaTJD','DBMJp','bstack:options','params','Error\x20in\x20finding\x20platform\x20details\x20','patchCRConnection','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','PmvMz','_connection','capabilities','platformName','Bucri','setupBrowserDetails','VijeG','Error\x20parsing\x20WebSocket\x20endpoint:\x20','../v2/state/hookState.js','JuWyC','Session\x20details\x20setup\x20complete:\x20','mWRGh','_browserType','fUlEE','Connection\x20dispatch\x20already\x20patched','NkMpl','nCBDG','5958369WzvDeu','parse','../../helpers/test-observability/error-handler','cRnoU','hZAIZ','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','CRConnection','QOBli','aHGiO','path','triggerPlaywrightDispatchEvent','qZANT','wNmLw','248OAcGva','model','KZLAA','ATS_WSS_URL_REGEX','QysXd','CViWC','toString','browserName','6WOBxZj','currentSessionDetails','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','automate','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','message','defineProperty','HFCSB','lknST','fdBkW','MzGUh','uFlXK','Error\x20in\x20importing\x20connection\x20','cYGco','url','join','wdzwO','TfvLr','_defaultConnectOptions','bsSessionId','chromium','_bstackCRPatched','getTrackedInstance','patch','env','Connection','debug','FgEOJ','isRunning','./constants','accessibilityPlatform','connection.js','OnkTu','getInstance','trackEvent','product','caps','stringify','_onMessage','_bstackDispatchPatched','jmGxK','avMZe','qBsLc','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','QXXfA','sessionId','prototype','exports','qeBGG','PLAYWRIGHT_DISPATCH','unknown_grid','_name','Not\x20able\x20to\x20import\x20crConnection','chrome','getAutomationFramework','dispatch','sclsv','../../helpers/test-observability/utils','BROWSERSTACK_TEST_OBSERVABILITY','POST','yVPIu','wsEndpoint','pPHCs','crConnection.js','safari','gecko','Failed\x20to\x20import\x20connection\x20from\x20','OeJZF','string','XIhOJ','desiredCapabilities','../../helpers/helper','Pvenh','Device\x20Model\x20is\x20not\x20available',',\x20os=','platform','pDREW'];a60_0x21d6=function(){return _0x1e2285;};return a60_0x21d6();}a60_0x503d76[a60_0x4121a8(0x136)]=undefined,a60_0x503d76[a60_0x4121a8(0xed)]=undefined,a60_0x503d76['browser']=undefined,a60_0x503d76['browser_version']=undefined,a60_0x503d76[a60_0x4121a8(0x125)]=undefined,a60_0x503d76[a60_0x4121a8(0x82)]=undefined,a60_0x503d76[a60_0x4121a8(0xfd)]=undefined,a60_0x503d76[a60_0x4121a8(0xb6)]={};class SharedPlaywrightSessionDetails{static [a60_0x4121a8(0xdb)]=a60_0x503d76;constructor(){const _0x11f0af=a60_0x4121a8,_0x5c16f5={};_0x5c16f5[_0x11f0af(0xf5)]=_0x11f0af(0xb3);const _0x2b9cc2=_0x5c16f5;throw new Error(_0x2b9cc2[_0x11f0af(0xf5)]);}static [a60_0x4121a8(0x9f)]=null;static[a60_0x4121a8(0xb9)](_0x6dd98c,_0x48bf28,_0x42fa9d=null){const _0x5b7444=a60_0x4121a8,_0x4f8f31={'BgUZP':function(_0x9d899c,_0x560105){return _0x9d899c===_0x560105;},'Pvenh':_0x5b7444(0xac),'YxjeD':_0x5b7444(0xde),'cYGco':_0x5b7444(0x123),'YaTJD':_0x5b7444(0x97),'Bucri':function(_0x4fb91c,_0x3c5d65,_0x53690a){return _0x4fb91c(_0x3c5d65,_0x53690a);},'bzWnM':_0x5b7444(0xc0),'YjFsU':_0x5b7444(0xec),'OnkTu':function(_0x42f898,_0x2f5d4e,_0x2b62ff){return _0x42f898(_0x2f5d4e,_0x2b62ff);},'uvBmq':_0x5b7444(0x12c),'PmvMz':_0x5b7444(0x138),'DOpXB':_0x5b7444(0x134),'VZvlY':function(_0x78ee64,_0x5b5dda){return _0x78ee64(_0x5b5dda);},'JmRuD':_0x5b7444(0xa6),'Qvhvi':_0x5b7444(0x12f),'fdBkW':_0x5b7444(0xdd),'hZAIZ':function(_0x3ae003,_0x27e9d1){return _0x3ae003(_0x27e9d1);},'AumGu':function(_0x3ba27a,_0x40b3a4){return _0x3ba27a===_0x40b3a4;},'QFnjk':_0x5b7444(0xee),'jmGxK':function(_0x144486,_0x208040){return _0x144486+_0x208040;},'wNmLw':_0x5b7444(0x130),'pZjYH':function(_0x5a2385){return _0x5a2385();},'lmNpk':_0x5b7444(0xb9)},_0x5a5a96=this;return _0x4f8f31[_0x5b7444(0xb8)](o11yErrorHandler,async function _0x52ad07(_0xceab9c,_0x49c01a,_0x4193a4=null){const _0x34e94f=_0x5b7444;let _0x83f1e1=_0xceab9c[_0x34e94f(0x10d)],_0x5cfe1e=null;_0xceab9c&&_0x4f8f31['BgUZP'](typeof _0xceab9c[_0x34e94f(0x7f)],_0x4f8f31['Pvenh'])?_0x5cfe1e=_0xceab9c[_0x34e94f(0x7f)]():logger[_0x34e94f(0xf4)](_0x4f8f31['YxjeD']);let _0xdc6318=null;_0xceab9c&&_0x4f8f31['BgUZP'](typeof _0xceab9c[_0x34e94f(0xd3)],_0x4f8f31[_0x34e94f(0x122)])?_0xdc6318=_0xceab9c[_0x34e94f(0xd3)]():logger[_0x34e94f(0xf4)](_0x4f8f31[_0x34e94f(0xe7)]);let _0x5a70c1=null,_0x1f409d=null,_0xcf8cd6=null,_0x2d279b=_0x4f8f31[_0x34e94f(0xad)];if(_0xceab9c[_0x34e94f(0xb5)][_0x34e94f(0x8a)]()||global[_0x34e94f(0xf8)]){let _0x12a3f8=null;_0x4f8f31[_0x34e94f(0xb8)](nestedKeyValue,_0xceab9c,[_0x4f8f31[_0x34e94f(0x91)],_0x4f8f31[_0x34e94f(0x86)]])?_0x12a3f8=_0xceab9c[_0x34e94f(0xc0)][_0x34e94f(0xec)]:_0x12a3f8=_0x4f8f31[_0x34e94f(0xfa)](nestedKeyValue,_0x49c01a,[_0x4f8f31[_0x34e94f(0x90)],_0x4f8f31[_0x34e94f(0xb4)],_0x4f8f31['DOpXB']]);const _0x4bb4fd=_0x4193a4||_0x12a3f8&&_0x12a3f8[_0x34e94f(0x117)];if(_0x4bb4fd){_0x2d279b=_0x4f8f31[_0x34e94f(0x74)](getCloudProviderFromWsEndpoint,_0x4bb4fd);if(_0x4f8f31[_0x34e94f(0x9c)](_0x2d279b,_0x4f8f31[_0x34e94f(0xa9)])){_0xcf8cd6=constants[_0x34e94f(0xd5)]['test'](_0x4bb4fd)?_0x4f8f31['Qvhvi']:_0x4f8f31[_0x34e94f(0xe3)];const _0x216d7d=_0x4f8f31[_0x34e94f(0xc9)](getBrowserFromWSEndpoint,_0x4bb4fd);if(_0x216d7d&&(!_0x83f1e1||_0x4f8f31[_0x34e94f(0x13d)](_0x83f1e1,_0x4f8f31['QFnjk'])))_0x83f1e1=_0x216d7d,logger['debug']('Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20'+_0x83f1e1);else _0x83f1e1&&logger[_0x34e94f(0xf4)](_0x34e94f(0x7a)+_0x83f1e1);_0x5a70c1=_0x5a5a96[_0x34e94f(0xdb)][_0x34e94f(0x125)],_0x1f409d=_0x5a5a96['currentSessionDetails'][_0x34e94f(0x82)];}}}else{_0x49c01a&&_0x49c01a['project']&&_0x49c01a[_0x34e94f(0x12c)][_0x34e94f(0x138)]&&_0x49c01a[_0x34e94f(0x12c)][_0x34e94f(0x138)][_0x34e94f(0x76)]?_0x83f1e1=_0x4f8f31[_0x34e94f(0xc9)](getBrowserNameFromChannel,_0x49c01a[_0x34e94f(0x12c)][_0x34e94f(0x138)][_0x34e94f(0x76)]):_0x83f1e1=_0x4f8f31[_0x34e94f(0x102)](_0x4f8f31[_0x34e94f(0xd1)],_0x83f1e1[_0x34e94f(0x79)]());const _0x5a8aa8=await _0x4f8f31['pZjYH'](getPlatformDetails);_0x5a70c1=_0x5a8aa8[_0x34e94f(0xb7)],_0x1f409d=_0x5a8aa8[_0x34e94f(0x139)];}const _0x53941d={};_0x53941d[_0x34e94f(0x77)]=_0x83f1e1,_0x53941d[_0x34e94f(0x129)]=_0x5cfe1e,_0x53941d[_0x34e94f(0xb6)]={},_0x53941d[_0x34e94f(0x125)]=_0x5a70c1,_0x53941d[_0x34e94f(0x82)]=_0x1f409d,_0x53941d['product']=_0xcf8cd6;const _0x10a935=_0x53941d;_0xdc6318&&(_0x10a935['capabilities'][_0x34e94f(0x13e)]=_0xdc6318);const _0x32cf3f={};_0x32cf3f[_0x34e94f(0x136)]=_0x2d279b,_0x5a5a96[_0x34e94f(0xdb)]=Object['assign']({},_0x5a5a96[_0x34e94f(0xdb)],_0x32cf3f,_0x10a935);const _0x2b9651={};_0x2b9651[_0x34e94f(0x77)]=_0x5a5a96['currentSessionDetails'][_0x34e94f(0x77)],_0x2b9651[_0x34e94f(0x71)]=_0x5a5a96[_0x34e94f(0xdb)][_0x34e94f(0x129)],_0x2b9651['platform']=_0x5a5a96[_0x34e94f(0xdb)][_0x34e94f(0x125)],_0x2b9651[_0x34e94f(0x139)]=_0x5a5a96[_0x34e94f(0xdb)][_0x34e94f(0x82)],_0x2b9651['cloudProvider']=_0x5a5a96[_0x34e94f(0xdb)][_0x34e94f(0x136)],_0x2b9651['product']=_0x5a5a96[_0x34e94f(0xdb)][_0x34e94f(0xfd)],logger[_0x34e94f(0xf4)](_0x34e94f(0xbe)+JSON[_0x34e94f(0xff)](_0x2b9651));},_0x4f8f31[_0x5b7444(0x80)])(_0x6dd98c,_0x48bf28,_0x42fa9d);}static[a60_0x4121a8(0xf1)](){const _0x511acd=a60_0x4121a8;this[_0x511acd(0xa7)](),this[_0x511acd(0xb2)]();}static[a60_0x4121a8(0xa7)](){const _0x104e90=a60_0x4121a8,_0x52b20a={'qeBGG':function(_0x575384,_0x153c63){return _0x575384(_0x153c63);},'mWRGh':'lib','kwNTd':'client','OeJZF':_0x104e90(0xf9),'nCBDG':function(_0x212e5a,_0x2ff1d5){return _0x212e5a(_0x2ff1d5);},'gJoIW':function(_0x4a7339,_0x3ae1fb){return _0x4a7339(_0x3ae1fb);},'QXXfA':'Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','KZLAA':function(_0x2523d4,_0x4fab06){return _0x2523d4!=_0x4fab06;},'TfZmf':function(_0x494ba8,_0x36d081){return _0x494ba8(_0x36d081);},'kQmID':_0x104e90(0xc2),'fUlEE':_0x104e90(0x111),'saCjk':_0x104e90(0x92),'yVPIu':function(_0xe507a4,_0x2cb43e){return _0xe507a4(_0x2cb43e);}},_0x4a5a58=this;if(!this['Connection'])try{const _0xde3b52=[path[_0x104e90(0xe9)](_0x52b20a[_0x104e90(0xbf)],_0x52b20a[_0x104e90(0x13b)],_0x52b20a[_0x104e90(0x11d)]),path[_0x104e90(0xe9)](_0x52b20a[_0x104e90(0xbf)],_0x52b20a[_0x104e90(0x11d)]),path[_0x104e90(0xe9)](_0x52b20a[_0x104e90(0x13b)],_0x52b20a[_0x104e90(0x11d)])];for(const _0x5521f2 of _0xde3b52){try{const _0x311585=_0x52b20a[_0x104e90(0x10a)](importFileFromPWCore,_0x5521f2);if(_0x311585&&_0x311585[_0x104e90(0xf3)]){this['Connection']=_0x311585['Connection'],logger[_0x104e90(0xf4)](_0x104e90(0x9b)+_0x5521f2);break;}}catch(_0x27414f){_0x52b20a[_0x104e90(0xc4)](debug,_0x104e90(0x11c)+_0x5521f2+':\x20'+_0x27414f['toString']());}}if(!this['Connection']){_0x52b20a[_0x104e90(0x12a)](debug,_0x52b20a[_0x104e90(0x106)]);return;}}catch(_0x27ba17){_0x52b20a[_0x104e90(0x10a)](debug,_0x104e90(0xe6)+_0x27ba17['toString']());return;}const _0x58631a=this['Connection'];try{if(_0x52b20a[_0x104e90(0xd4)](_0x58631a,null)){const _0x404cb3=_0x58631a[_0x104e90(0x108)][_0x104e90(0x111)];if(!_0x52b20a[_0x104e90(0x95)](isFalse,process[_0x104e90(0xf2)][_0x104e90(0x114)])){if(_0x58631a[_0x104e90(0x108)][_0x104e90(0x101)]){logger['debug'](_0x52b20a[_0x104e90(0x8d)]);return;}Object['defineProperty'](_0x58631a[_0x104e90(0x108)],_0x52b20a[_0x104e90(0xc1)],{'get':function(){return async function _0x41da50(_0x2dd81e){const _0x106f87=a60_0xaa67;if(BrowserstackCLI[_0x106f87(0xfb)]()[_0x106f87(0xf6)]()){const _0xa2a678={};_0xa2a678[_0x106f87(0xdf)]=_0x2dd81e,await BrowserstackCLI['getInstance']()[_0x106f87(0x110)]()['trackEvent'](AutomationFrameworkState[_0x106f87(0x10b)],HookState[_0x106f87(0x115)],_0xa2a678);}else{const _0x12a202=_0x2dd81e&&_0x2dd81e[_0x106f87(0xb0)]&&_0x2dd81e[_0x106f87(0xb0)][_0x106f87(0xa2)];if(_0x12a202){const _0x4e352c=_0x12a202[_0x106f87(0x107)],_0x89e021=_0x12a202[_0x106f87(0x9e)];_0x89e021&&(_0x52b20a['qeBGG'](debug,'Setting\x20platform\x20details\x20received\x20from\x20BS:\x20'+_0x89e021[_0x106f87(0xd8)]()),_0x4a5a58['currentSessionDetails'][_0x106f87(0x125)]=_0x89e021[_0x106f87(0xb7)],_0x4a5a58['currentSessionDetails'][_0x106f87(0x82)]=_0x89e021[_0x106f87(0x139)]),_0x4e352c&&(_0x52b20a[_0x106f87(0x10a)](debug,'Setting\x20session\x20id\x20received\x20from\x20BS\x20'+_0x4e352c),_0x4a5a58[_0x106f87(0xdb)]['bsSessionId']=_0x4e352c);}}return _0x404cb3[_0x106f87(0x87)](this,arguments);};}}),_0x58631a['prototype']['_bstackDispatchPatched']=!![],logger[_0x104e90(0xf4)](_0x52b20a[_0x104e90(0x9a)]);}}}catch(_0x17090c){_0x52b20a[_0x104e90(0x116)](debug,_0x104e90(0x85)+_0x17090c),_0x4a5a58[_0x104e90(0x9f)]=_0x17090c[_0x104e90(0xd8)]();}}static[a60_0x4121a8(0xb2)](){const _0x4fa8ee=a60_0x4121a8,_0x49d607={'cRnoU':function(_0x32ef50,_0x4644b8){return _0x32ef50(_0x4644b8);},'vqdbs':_0x4fa8ee(0x12d),'zdqDw':_0x4fa8ee(0x7e),'sclsv':_0x4fa8ee(0xee),'DLiOR':_0x4fa8ee(0x119),'QysXd':function(_0x326dce,_0x3c6583){return _0x326dce(_0x3c6583);},'XIhOJ':_0x4fa8ee(0x10e),'qBsLc':function(_0x1ac4f0,_0x14d577){return _0x1ac4f0(_0x14d577);},'CHPbb':'Error\x20in\x20importing\x20crConnection','SxDNR':function(_0x178bf5,_0x235083){return _0x178bf5!=_0x235083;},'uFlXK':_0x4fa8ee(0x83),'HFCSB':_0x4fa8ee(0x100),'JuWyC':'Successfully\x20patched\x20CRConnection._onMessage'},_0x2d5a65=this;let _0x562a45=null;try{const _0x1b54f8=path[_0x4fa8ee(0xe9)](_0x49d607['vqdbs'],_0x49d607['zdqDw'],_0x49d607[_0x4fa8ee(0x112)],_0x49d607[_0x4fa8ee(0x98)]),_0x503cd4=_0x49d607['cRnoU'](importFileFromPWCore,_0x1b54f8);!_0x503cd4?_0x49d607[_0x4fa8ee(0xd6)](debug,_0x49d607[_0x4fa8ee(0x11f)]):_0x562a45=_0x503cd4[_0x4fa8ee(0xcb)];}catch(_0x3f36a3){_0x49d607[_0x4fa8ee(0x104)](debug,_0x49d607[_0x4fa8ee(0x8e)]);}try{if(_0x49d607[_0x4fa8ee(0x135)](_0x562a45,null)){const _0x33d50=_0x562a45['prototype'][_0x4fa8ee(0x100)];if(_0x562a45['prototype'][_0x4fa8ee(0xef)]){logger[_0x4fa8ee(0xf4)](_0x49d607[_0x4fa8ee(0xe5)]);return;}Object[_0x4fa8ee(0xe0)](_0x562a45[_0x4fa8ee(0x108)],_0x49d607[_0x4fa8ee(0xe1)],{'get':function(){return async function _0x44cd43(_0x384d29){const _0x4a1bf8=a60_0xaa67;try{if(BrowserstackCLI[_0x4a1bf8(0xfb)]()[_0x4a1bf8(0xf6)]()){const _0x25e505={};_0x25e505[_0x4a1bf8(0xdf)]=_0x384d29,await BrowserstackCLI[_0x4a1bf8(0xfb)]()[_0x4a1bf8(0x110)]()[_0x4a1bf8(0xfc)](AutomationFrameworkState[_0x4a1bf8(0x10b)],HookState[_0x4a1bf8(0x115)],_0x25e505),delete _0x384d29['bStackParams'];}else{const _0x6764d6=_0x384d29[_0x4a1bf8(0x127)];if(_0x6764d6){delete _0x384d29[_0x4a1bf8(0x127)];const _0x8dffde=_0x6764d6['sessionId'],_0xee0773=_0x6764d6[_0x4a1bf8(0x9e)];_0xee0773&&(_0x49d607[_0x4a1bf8(0xc8)](debug,'Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20'+_0xee0773[_0x4a1bf8(0xd8)]()),_0x2d5a65[_0x4a1bf8(0xdb)][_0x4a1bf8(0x125)]=_0xee0773[_0x4a1bf8(0xb7)],_0x2d5a65[_0x4a1bf8(0xdb)]['platform_version']=_0xee0773['platformVersion']),_0x8dffde&&(_0x49d607[_0x4a1bf8(0xc8)](debug,_0x4a1bf8(0x8c)+_0x8dffde),_0x2d5a65[_0x4a1bf8(0xdb)][_0x4a1bf8(0xed)]=_0x8dffde);}}}catch(_0x17307a){_0x49d607['cRnoU'](debug,_0x4a1bf8(0xb1)+_0x17307a[_0x4a1bf8(0xd8)]());}return _0x33d50['apply'](this,arguments);};}}),_0x562a45['prototype'][_0x4fa8ee(0xef)]=!![],logger[_0x4fa8ee(0xf4)](_0x49d607[_0x4fa8ee(0xbd)]);}}catch(_0xb9753d){_0x49d607['cRnoU'](debug,_0x4fa8ee(0x105)+_0xb9753d),_0x2d5a65[_0x4fa8ee(0x9f)]=_0xb9753d['toString']();}}static[a60_0x4121a8(0x132)](_0x100862,_0x36bf54){const _0x491fca=a60_0x4121a8,_0x17a9d8={'KIBgS':_0x491fca(0xaf),'wdzwO':function(_0x5e6bc9,_0xec229a){return _0x5e6bc9||_0xec229a;},'ndVlb':function(_0x375ed3,_0x21795a){return _0x375ed3||_0x21795a;},'QOBli':function(_0x237780,_0x2bb819){return _0x237780===_0x2bb819;},'GJpln':_0x491fca(0x11e),'bfXDZ':_0x491fca(0xdc),'qIJQY':function(_0x126ed7,_0x3ab4fa){return _0x126ed7(_0x3ab4fa);},'TfvLr':function(_0x44df28,_0x42aeb8){return _0x44df28(_0x42aeb8);},'qZANT':function(_0x458d80,_0x417a73){return _0x458d80(_0x417a73);}};let _0x3a3b69=null,_0x112a13=null;try{const _0x43640a=[_0x36bf54,global['__platformCaps'],global[_0x491fca(0x94)]];for(const _0x21da8b of _0x43640a){if(_0x21da8b&&(!_0x112a13||!_0x112a13[_0x491fca(0x107)])){const _0x145289=_0x21da8b[_0x491fca(0x107)]||_0x21da8b[_0x17a9d8[_0x491fca(0x142)]]?.['sessionId'],_0x1c9276=_0x21da8b[_0x491fca(0xd9)]||_0x21da8b[_0x491fca(0x77)]||_0x21da8b[_0x17a9d8[_0x491fca(0x142)]]?.[_0x491fca(0xd9)],_0x2a36f5=_0x21da8b[_0x491fca(0x71)]||_0x21da8b[_0x491fca(0x129)]||_0x21da8b[_0x17a9d8['KIBgS']]?.[_0x491fca(0x71)],_0xdb4daf=_0x21da8b['os']||_0x21da8b[_0x491fca(0x125)]||_0x21da8b[_0x17a9d8[_0x491fca(0x142)]]?.['os'],_0x32faec=_0x21da8b[_0x491fca(0x133)]||_0x21da8b['os_version']||_0x21da8b[_0x17a9d8[_0x491fca(0x142)]]?.[_0x491fca(0x133)];if(_0x17a9d8[_0x491fca(0xea)](_0x145289,_0x1c9276)||_0xdb4daf){const _0x2feada={};_0x2feada[_0x491fca(0xd9)]=_0x1c9276,_0x2feada[_0x491fca(0x71)]=_0x2a36f5,_0x2feada['os']=_0xdb4daf,_0x2feada['osVersion']=_0x32faec,_0x2feada[_0x491fca(0xb7)]=_0x21da8b['platformName']||_0xdb4daf,_0x2feada['platformVersion']=_0x21da8b[_0x491fca(0x139)]||_0x32faec;const _0x2f9f9a={};_0x2f9f9a[_0x491fca(0x107)]=_0x145289,_0x2f9f9a[_0x491fca(0x9e)]=_0x2feada,_0x112a13=_0x2f9f9a;if(_0x17a9d8[_0x491fca(0x8b)](_0x145289,_0x1c9276)){logger[_0x491fca(0xf4)]('BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser='+_0x1c9276+_0x491fca(0x124)+_0xdb4daf);break;}}}}if(_0x100862&&_0x17a9d8[_0x491fca(0xcc)](typeof _0x100862,_0x17a9d8['GJpln']))try{const _0x117a90=url[_0x491fca(0xc6)](_0x100862),_0x393851=new URLSearchParams(_0x117a90[_0x491fca(0x12b)]),_0xa1d8bf=Object['fromEntries'](_0x393851[_0x491fca(0x128)]()),_0x1a58e6=[_0xa1d8bf[_0x491fca(0xfe)],_0xa1d8bf['capabilities'],_0xa1d8bf['desiredCapabilities']];for(const _0x376515 of _0x1a58e6){if(_0x376515&&(!_0x3a3b69||!_0x3a3b69[_0x491fca(0x107)]))try{const _0x33583e=JSON['parse'](_0x376515),_0x2d8ca6={};_0x2d8ca6[_0x491fca(0x107)]=_0x33583e[_0x491fca(0x107)]||_0x33583e[_0x17a9d8[_0x491fca(0x142)]]?.['sessionId'],_0x2d8ca6[_0x491fca(0x9e)]={},_0x2d8ca6[_0x491fca(0x9e)]['browserName']=_0x33583e['browserName']||_0x33583e[_0x491fca(0x77)],_0x2d8ca6[_0x491fca(0x9e)]['browserVersion']=_0x33583e[_0x491fca(0x71)]||_0x33583e['browser_version'],_0x2d8ca6[_0x491fca(0x9e)]['os']=_0x33583e['os']||_0x33583e[_0x491fca(0x125)],_0x2d8ca6[_0x491fca(0x9e)][_0x491fca(0x133)]=_0x33583e[_0x491fca(0x133)]||_0x33583e['os_version'],_0x2d8ca6[_0x491fca(0x9e)][_0x491fca(0xb7)]=_0x33583e[_0x491fca(0xb7)]||_0x33583e['os']||_0x33583e[_0x491fca(0x125)],_0x2d8ca6[_0x491fca(0x9e)][_0x491fca(0x139)]=_0x33583e[_0x491fca(0x139)]||_0x33583e[_0x491fca(0x133)]||_0x33583e[_0x491fca(0x84)],_0x3a3b69=_0x2d8ca6;if(_0x3a3b69[_0x491fca(0x107)]||_0x3a3b69[_0x491fca(0x9e)][_0x491fca(0xd9)]){logger[_0x491fca(0xf4)](_0x17a9d8[_0x491fca(0x7c)]);break;}}catch(_0x22c191){_0x17a9d8['qIJQY'](debug,_0x491fca(0xa5)+_0x22c191[_0x491fca(0xd8)]());}}}catch(_0x3f7344){_0x17a9d8[_0x491fca(0xeb)](debug,_0x491fca(0xbb)+_0x3f7344[_0x491fca(0xd8)]());}}catch(_0x25ecbe){_0x17a9d8[_0x491fca(0xd0)](debug,'Error\x20extracting\x20BrowserStack\x20parameters:\x20'+util[_0x491fca(0x13a)](_0x25ecbe));}const _0x5480b5={};return _0x5480b5[_0x491fca(0xa2)]=_0x3a3b69,_0x5480b5[_0x491fca(0x127)]=_0x112a13,_0x5480b5;}static async[a60_0x4121a8(0xcf)](_0x16cdea,_0x37b239){const _0x4eaa62=a60_0x4121a8,_0x153058={'CViWC':function(_0x42e7ca,_0x126588){return _0x42e7ca||_0x126588;},'XHGGB':_0x4eaa62(0xa0),'VijeG':function(_0xdd78e3,_0x4ccba2){return _0xdd78e3||_0x4ccba2;},'qSnHK':function(_0x20c70f,_0x4a479b){return _0x20c70f(_0x4a479b);}};try{if(!BrowserstackCLI['getInstance']()[_0x4eaa62(0xf6)]())return;if(_0x153058[_0x4eaa62(0xd7)](_0x16cdea,_0x37b239)){logger['debug'](_0x153058[_0x4eaa62(0x7d)]);const _0x4c9fb9={'params':_0x16cdea?{'bsParams':_0x16cdea}:null,'bStackParams':_0x153058[_0x4eaa62(0xba)](_0x37b239,null)},_0x5d461e=AutomationFramework[_0x4eaa62(0xf0)](),_0x3c9a31={};_0x3c9a31[_0x4eaa62(0xdf)]=_0x4c9fb9,_0x3c9a31[_0x4eaa62(0x9d)]=_0x5d461e,await BrowserstackCLI[_0x4eaa62(0xfb)]()[_0x4eaa62(0x110)]()[_0x4eaa62(0xfc)](AutomationFrameworkState[_0x4eaa62(0x10b)],HookState['POST'],_0x3c9a31);}}catch(_0x1e55e4){_0x153058['qSnHK'](debug,'Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20'+util[_0x4eaa62(0x13a)](_0x1e55e4));}}static[a60_0x4121a8(0xa3)](){const _0x2e3ad1=a60_0x4121a8;return this[_0x2e3ad1(0xdb)];}}module[a60_0x4121a8(0x109)]=SharedPlaywrightSessionDetails;