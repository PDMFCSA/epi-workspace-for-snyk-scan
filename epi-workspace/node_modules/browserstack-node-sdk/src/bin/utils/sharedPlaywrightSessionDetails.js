function a60_0x18fa(_0x7008c5,_0x558c83){const _0x407868=a60_0x4078();return a60_0x18fa=function(_0x18fa91,_0x5d348b){_0x18fa91=_0x18fa91-0x18d;let _0x83918=_0x407868[_0x18fa91];return _0x83918;},a60_0x18fa(_0x7008c5,_0x558c83);}const a60_0x1d0f54=a60_0x18fa;function a60_0x4078(){const _0xd2052a=['KtBrn','setupBrowserDetails','Error\x20in\x20importing\x20crConnection','includes','isRunning','ATS_WSS_URL_REGEX','hUaiu','392OwSoAU','deviceModel','QBeqa','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','string','gecko','_browserType','Session\x20details\x20setup\x20complete:\x20','WmJWd','LKrHB','4133763mSSDwn','uynWi','Failed\x20to\x20import\x20connection\x20from\x20','Found\x20Connection\x20class\x20at:\x20','../../helpers/helper','unknown_grid','toString','version','CZxnW','615381GVJslY','msedge','getDetails','khonN','util','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','OAAfV','hBtkU','browserstack','platformName','BROWSERSTACK_TEST_OBSERVABILITY','path','sessionId','bstack:options','Error\x20in\x20finding\x20platform\x20details\x20','parse','sessionError','browserName','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','lib','connectOptions','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','HLmoW','XEmPI','../v2/state/automationFrameworkState.js','bsSessionId','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','format','Not\x20able\x20to\x20import\x20crConnection','JQoVa','params','CtnMj','MbTir','join','platformDetails','_onMessage','RUUqa','lDTzX','../../helpers/test-observability/utils','exports','ADUZE','NnuSn','caps','NFoki','dGbFX','edge','entries','KBuaE','currentSessionDetails','ybAEe','UoDou','Error\x20in\x20importing\x20connection\x20','getAutomationFramework','42497xpPyAa','Eskjl','iSxDu','CRConnection','patchConnection','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','BNuTh','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','product','2810425ckUWmD','DgNrX','PdewY','bStackParams','getInstance','firefox','fromEntries','__platformCaps','tMQvJ','ktkAc','project','QfEJm','jUOYo','DTqHc','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','UFTuk','capabilities','query','jnHqX','dispatch','cloudProvider','local_grid','SMTSI','browserVersion','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','sToNC','siEdn','sMhoQ','PLAYWRIGHT_DISPATCH','pNjhH','playwright-','chrome','prototype','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','_connection','apply','Qjtgk','fsVWf','platform_version','safari','../v2/state/hookState.js','osVersion','debug','Error\x20extracting\x20BrowserStack\x20parameters:\x20','yAvMn','_defaultConnectOptions','xWBRi','patch','Connection','winstonLogger','Device\x20Model\x20is\x20not\x20available','platformVersion','9394VJnHZw','extractBrowserStackParams','NBFNI','vTNBi','message','OUVjF','env','ZxfsB','NoEmI','desiredCapabilities','triggerPlaywrightDispatchEvent','browser','url','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','assign','platform','Successfully\x20patched\x20CRConnection._onMessage','UEPqD','IbBgM','Alriq','isRemote','GXdfB','GXvvI','_name','_bstackCRPatched','accessibilityPlatform','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','use','webkit','Error\x20parsing\x20WebSocket\x20endpoint:\x20','115214EMIaYf','bsParams','wsEndpoint','Vlbnp','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','trackEvent','6LjHBQT','2086552YuvzMN','Error\x20in\x20applying\x20Connection\x20patch\x20','vnTos','NCLTv','LcBNT','KPEzZ','os_version','WGESI','jMdIV','defineProperty','aipAp','automate','chromium','_bstackDispatchPatched','TBBnZ','Successfully\x20patched\x20Connection.dispatch','POST','browser_version','toLowerCase','test','kTZgT','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','QbgNH','bDcDZ','model','connection.js','./constants'];a60_0x4078=function(){return _0xd2052a;};return a60_0x4078();}(function(_0x2742b9,_0x51131c){const _0x4a30d5=a60_0x18fa,_0x30dd12=_0x2742b9();while(!![]){try{const _0x38739f=-parseInt(_0x4a30d5(0x19f))/0x1+-parseInt(_0x4a30d5(0x1bd))/0x2+parseInt(_0x4a30d5(0x1f9))/0x3+parseInt(_0x4a30d5(0x1c4))/0x4+parseInt(_0x4a30d5(0x237))/0x5*(parseInt(_0x4a30d5(0x1c3))/0x6)+-parseInt(_0x4a30d5(0x22e))/0x7*(parseInt(_0x4a30d5(0x1e6))/0x8)+-parseInt(_0x4a30d5(0x1f0))/0x9;if(_0x38739f===_0x51131c)break;else _0x30dd12['push'](_0x30dd12['shift']());}catch(_0x2163a8){_0x30dd12['push'](_0x30dd12['shift']());}}}(a60_0x4078,0x718a7));const path=require(a60_0x1d0f54(0x204)),url=require(a60_0x1d0f54(0x1ab)),util=require(a60_0x1d0f54(0x1fd)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x1d0f54(0x1f4)),{o11yErrorHandler}=require('../../helpers/test-observability/error-handler'),{debug,getPlatformDetails}=require(a60_0x1d0f54(0x21f)),logger=require('../../helpers/logger')[a60_0x1d0f54(0x19c)],constants=require(a60_0x1d0f54(0x1de)),AutomationFramework=require('../v2/framework/automationFramework'),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require(a60_0x1d0f54(0x211)),HookState=require(a60_0x1d0f54(0x193)),{platform}=require('os'),getBrowserNameFromChannel=_0x43568e=>{const _0x9e0737=a60_0x1d0f54,_0x72da18={};_0x72da18[_0x9e0737(0x222)]=_0x9e0737(0x256),_0x72da18['UFTuk']=_0x9e0737(0x226),_0x72da18[_0x9e0737(0x21d)]=_0x9e0737(0x23c),_0x72da18[_0x9e0737(0x254)]=_0x9e0737(0x192);const _0x581c8d=_0x72da18;if(_0x43568e[_0x9e0737(0x1e2)](_0x581c8d[_0x9e0737(0x222)]))return _0x581c8d[_0x9e0737(0x222)];if(_0x43568e[_0x9e0737(0x1e2)](_0x581c8d[_0x9e0737(0x246)]))return _0x581c8d[_0x9e0737(0x246)];if(_0x43568e[_0x9e0737(0x1e2)](_0x581c8d[_0x9e0737(0x21d)]))return _0x581c8d[_0x9e0737(0x21d)];if(_0x43568e['includes'](_0x581c8d[_0x9e0737(0x254)]))return _0x581c8d['pNjhH'];},getBrowserFromWSEndpoint=_0x14627=>{const _0x5d8b37=a60_0x1d0f54,_0x12643f={'IsIKz':_0x5d8b37(0x206),'iSxDu':function(_0x1c4f89,_0x1121c9){return _0x1c4f89(_0x1121c9);},'UEPqD':function(_0xc494ae,_0x9ec977){return _0xc494ae(_0x9ec977);},'jnHqX':_0x5d8b37(0x226),'Vlbnp':_0x5d8b37(0x1fa),'ybAEe':'firefox','KPEzZ':_0x5d8b37(0x1eb),'Eskjl':_0x5d8b37(0x192),'qQJZm':_0x5d8b37(0x1bb),'OUVjF':_0x5d8b37(0x256),'GXdfB':function(_0x3b0644,_0x462362){return _0x3b0644(_0x462362);}};try{const _0x382a28=url[_0x5d8b37(0x208)](_0x14627),_0x2ca846=new URLSearchParams(_0x382a28[_0x5d8b37(0x248)]),_0x5b0301=Object['fromEntries'](_0x2ca846[_0x5d8b37(0x227)]()),_0x497a33=[_0x5b0301[_0x5d8b37(0x223)],_0x5b0301[_0x5d8b37(0x247)],_0x5b0301[_0x5d8b37(0x1a8)],_0x5b0301['browserstack_capabilities']];for(const _0x271e6e of _0x497a33){if(_0x271e6e)try{const _0x3f1afa=JSON['parse'](_0x271e6e),_0x3315cc=_0x3f1afa[_0x5d8b37(0x20a)]||_0x3f1afa[_0x5d8b37(0x1aa)]||_0x3f1afa[_0x12643f['IsIKz']]?.[_0x5d8b37(0x20a)];if(_0x3315cc)return _0x12643f[_0x5d8b37(0x230)](debug,_0x5d8b37(0x20e)+_0x3315cc),_0x3315cc['toLowerCase']();}catch(_0x414323){_0x12643f[_0x5d8b37(0x1b0)](debug,_0x5d8b37(0x245)+_0x414323['message']);}}if(_0x14627['includes'](_0x12643f[_0x5d8b37(0x249)])||_0x14627['includes'](_0x12643f[_0x5d8b37(0x1c0)]))return _0x12643f[_0x5d8b37(0x249)];if(_0x14627[_0x5d8b37(0x1e2)](_0x12643f[_0x5d8b37(0x22a)])||_0x14627[_0x5d8b37(0x1e2)](_0x12643f[_0x5d8b37(0x1c9)]))return _0x12643f['ybAEe'];if(_0x14627[_0x5d8b37(0x1e2)](_0x12643f[_0x5d8b37(0x22f)])||_0x14627['includes'](_0x12643f['qQJZm']))return _0x12643f[_0x5d8b37(0x22f)];return _0x12643f[_0x5d8b37(0x1a4)];}catch(_0x2e9812){return _0x12643f[_0x5d8b37(0x1b4)](debug,_0x5d8b37(0x1b9)+_0x2e9812[_0x5d8b37(0x1f6)]()),_0x12643f[_0x5d8b37(0x1a4)];}},getCloudProviderFromWsEndpoint=_0x2356d1=>{const _0x19d2fa=a60_0x1d0f54,_0x417d3d={};_0x417d3d[_0x19d2fa(0x240)]=_0x19d2fa(0x201),_0x417d3d[_0x19d2fa(0x21e)]=_0x19d2fa(0x1f5);const _0x4a3546=_0x417d3d;if(_0x2356d1[_0x19d2fa(0x1e2)](constants['BSTACK_URL'])||_0x2356d1[_0x19d2fa(0x1e2)](constants['BSTACK_ATS_URL']))return _0x4a3546[_0x19d2fa(0x240)];return _0x4a3546[_0x19d2fa(0x21e)];},a60_0x1abedb={};a60_0x1abedb['cloudProvider']=undefined,a60_0x1abedb[a60_0x1d0f54(0x212)]=undefined,a60_0x1abedb[a60_0x1d0f54(0x1aa)]=undefined,a60_0x1abedb[a60_0x1d0f54(0x1d5)]=undefined,a60_0x1abedb['platform']=undefined,a60_0x1abedb['platform_version']=undefined,a60_0x1abedb['product']=undefined,a60_0x1abedb[a60_0x1d0f54(0x247)]={};class SharedPlaywrightSessionDetails{static [a60_0x1d0f54(0x229)]=a60_0x1abedb;constructor(){const _0x3fe160=a60_0x1d0f54,_0x198f61={};_0x198f61['LcBNT']=_0x3fe160(0x24f);const _0x9d9b24=_0x198f61;throw new Error(_0x9d9b24[_0x3fe160(0x1c8)]);}static [a60_0x1d0f54(0x209)]=null;static[a60_0x1d0f54(0x1e0)](_0x2bebb1,_0xd22f3e,_0x1a7017=null){const _0x4c4fbf=a60_0x1d0f54,_0x177fb2={'NoEmI':function(_0x14cbd3,_0x3d9c4e){return _0x14cbd3===_0x3d9c4e;},'siEdn':'function','DKfMH':_0x4c4fbf(0x233),'dGbFX':function(_0x5884cb,_0x21b5d2){return _0x5884cb===_0x21b5d2;},'akgfc':_0x4c4fbf(0x19d),'MbTir':_0x4c4fbf(0x24c),'jUOYo':function(_0x1a252d,_0x39005b,_0x483f2b){return _0x1a252d(_0x39005b,_0x483f2b);},'kodxV':_0x4c4fbf(0x1ec),'IbBgM':_0x4c4fbf(0x198),'WGESI':function(_0x4e55c7,_0x50f96d,_0x105f27){return _0x4e55c7(_0x50f96d,_0x105f27);},'NBFNI':_0x4c4fbf(0x241),'NCLTv':'use','KtBrn':_0x4c4fbf(0x20d),'kTZgT':function(_0x1825ab,_0x1557d7){return _0x1825ab(_0x1557d7);},'aipAp':function(_0x322c01,_0x5dd6dc){return _0x322c01===_0x5dd6dc;},'Ceszj':'browserstack','sToNC':'turboscale','BNuTh':_0x4c4fbf(0x1cf),'EKIhf':_0x4c4fbf(0x1d0),'ADUZE':function(_0x35a446,_0x3bd9dd){return _0x35a446+_0x3bd9dd;},'OAAfV':_0x4c4fbf(0x255),'hUaiu':function(_0x3fdf2d){return _0x3fdf2d();},'QBkIQ':'setupBrowserDetails'},_0x27b43e=this;return _0x177fb2['WGESI'](o11yErrorHandler,async function _0x5653ae(_0x3fdf70,_0x14174b,_0x9ed824=null){const _0x1753b1=_0x4c4fbf;let _0x5d2b2a=_0x3fdf70[_0x1753b1(0x1b6)],_0x2159d1=null;_0x3fdf70&&_0x177fb2[_0x1753b1(0x1a7)](typeof _0x3fdf70[_0x1753b1(0x1f7)],_0x177fb2['siEdn'])?_0x2159d1=_0x3fdf70[_0x1753b1(0x1f7)]():logger[_0x1753b1(0x195)](_0x177fb2['DKfMH']);let _0x4f7fd8=null;_0x3fdf70&&_0x177fb2[_0x1753b1(0x225)](typeof _0x3fdf70[_0x1753b1(0x1dc)],_0x177fb2[_0x1753b1(0x251)])?_0x4f7fd8=_0x3fdf70[_0x1753b1(0x1dc)]():logger['debug'](_0x177fb2['akgfc']);let _0x154f58=null,_0x5d3c13=null,_0x3f37e6=null,_0x5698ee=_0x177fb2[_0x1753b1(0x219)];if(_0x3fdf70[_0x1753b1(0x18d)][_0x1753b1(0x1b3)]()||global[_0x1753b1(0x1b8)]){let _0x5ee112=null;_0x177fb2[_0x1753b1(0x243)](nestedKeyValue,_0x3fdf70,[_0x177fb2['kodxV'],_0x177fb2[_0x1753b1(0x1b1)]])?_0x5ee112=_0x3fdf70['_browserType'][_0x1753b1(0x198)]:_0x5ee112=_0x177fb2[_0x1753b1(0x1cb)](nestedKeyValue,_0x14174b,[_0x177fb2[_0x1753b1(0x1a1)],_0x177fb2[_0x1753b1(0x1c7)],_0x177fb2[_0x1753b1(0x1df)]]);const _0x3ad753=_0x9ed824||_0x5ee112&&_0x5ee112[_0x1753b1(0x1bf)];if(_0x3ad753){_0x5698ee=_0x177fb2[_0x1753b1(0x1d8)](getCloudProviderFromWsEndpoint,_0x3ad753);if(_0x177fb2[_0x1753b1(0x1ce)](_0x5698ee,_0x177fb2['Ceszj'])){_0x3f37e6=constants[_0x1753b1(0x1e4)][_0x1753b1(0x1d7)](_0x3ad753)?_0x177fb2[_0x1753b1(0x250)]:_0x177fb2[_0x1753b1(0x234)];const _0x271ed1=_0x177fb2[_0x1753b1(0x1d8)](getBrowserFromWSEndpoint,_0x3ad753);if(_0x271ed1&&(!_0x5d2b2a||_0x177fb2[_0x1753b1(0x1ce)](_0x5d2b2a,_0x177fb2['EKIhf'])))_0x5d2b2a=_0x271ed1,logger[_0x1753b1(0x195)](_0x1753b1(0x1d9)+_0x5d2b2a);else _0x5d2b2a&&logger[_0x1753b1(0x195)](_0x1753b1(0x1e9)+_0x5d2b2a);_0x154f58=_0x27b43e['currentSessionDetails'][_0x1753b1(0x1ae)],_0x5d3c13=_0x27b43e[_0x1753b1(0x229)]['platform_version'];}}}else{_0x14174b&&_0x14174b[_0x1753b1(0x241)]&&_0x14174b['project'][_0x1753b1(0x1ba)]&&_0x14174b[_0x1753b1(0x241)][_0x1753b1(0x1ba)]['channel']?_0x5d2b2a=_0x177fb2[_0x1753b1(0x1d8)](getBrowserNameFromChannel,_0x14174b[_0x1753b1(0x241)][_0x1753b1(0x1ba)]['channel']):_0x5d2b2a=_0x177fb2[_0x1753b1(0x221)](_0x177fb2[_0x1753b1(0x1ff)],_0x5d2b2a[_0x1753b1(0x1d6)]());const _0x3e4090=await _0x177fb2[_0x1753b1(0x1e5)](getPlatformDetails);_0x154f58=_0x3e4090[_0x1753b1(0x202)],_0x5d3c13=_0x3e4090['platformVersion'];}const _0x154df6={};_0x154df6[_0x1753b1(0x1aa)]=_0x5d2b2a,_0x154df6['browser_version']=_0x2159d1,_0x154df6[_0x1753b1(0x247)]={},_0x154df6[_0x1753b1(0x1ae)]=_0x154f58,_0x154df6['platform_version']=_0x5d3c13,_0x154df6[_0x1753b1(0x236)]=_0x3f37e6;const _0x45b15f=_0x154df6;_0x4f7fd8&&(_0x45b15f[_0x1753b1(0x247)][_0x1753b1(0x1e7)]=_0x4f7fd8);const _0x494170={};_0x494170[_0x1753b1(0x24b)]=_0x5698ee,_0x27b43e[_0x1753b1(0x229)]=Object[_0x1753b1(0x1ad)]({},_0x27b43e[_0x1753b1(0x229)],_0x494170,_0x45b15f);const _0x1b8688={};_0x1b8688['browser']=_0x27b43e[_0x1753b1(0x229)][_0x1753b1(0x1aa)],_0x1b8688[_0x1753b1(0x24e)]=_0x27b43e[_0x1753b1(0x229)][_0x1753b1(0x1d5)],_0x1b8688[_0x1753b1(0x1ae)]=_0x27b43e[_0x1753b1(0x229)][_0x1753b1(0x1ae)],_0x1b8688[_0x1753b1(0x19e)]=_0x27b43e[_0x1753b1(0x229)][_0x1753b1(0x191)],_0x1b8688[_0x1753b1(0x24b)]=_0x27b43e[_0x1753b1(0x229)][_0x1753b1(0x24b)],_0x1b8688['product']=_0x27b43e[_0x1753b1(0x229)][_0x1753b1(0x236)],logger[_0x1753b1(0x195)](_0x1753b1(0x1ed)+JSON['stringify'](_0x1b8688));},_0x177fb2['QBkIQ'])(_0x2bebb1,_0xd22f3e,_0x1a7017);}static[a60_0x1d0f54(0x19a)](){const _0x5f340d=a60_0x1d0f54;this[_0x5f340d(0x232)](),this['patchCRConnection']();}static[a60_0x1d0f54(0x232)](){const _0x55244a=a60_0x1d0f54,_0x527f4a={'uynWi':function(_0x204b7d,_0x510f95){return _0x204b7d(_0x510f95);},'LKrHB':_0x55244a(0x20c),'DTqHc':'client','XEmPI':_0x55244a(0x1dd),'ZTESY':function(_0x34e321,_0x3378f5){return _0x34e321(_0x3378f5);},'NFoki':_0x55244a(0x258),'KBuaE':function(_0x2ccdbb,_0x539501){return _0x2ccdbb!=_0x539501;},'GXvvI':'Connection\x20dispatch\x20already\x20patched','vnTos':_0x55244a(0x24a),'yAvMn':_0x55244a(0x1d3),'xFmSs':function(_0x48a062,_0x489d34){return _0x48a062(_0x489d34);}},_0x116655=this;if(!this[_0x55244a(0x19b)])try{const _0x41b33a=[path[_0x55244a(0x21a)](_0x527f4a[_0x55244a(0x1ef)],_0x527f4a[_0x55244a(0x244)],_0x527f4a['XEmPI']),path['join'](_0x527f4a[_0x55244a(0x1ef)],_0x527f4a[_0x55244a(0x210)]),path['join'](_0x527f4a[_0x55244a(0x244)],_0x527f4a[_0x55244a(0x210)])];for(const _0xc29224 of _0x41b33a){try{const _0xda010f=_0x527f4a[_0x55244a(0x1f1)](importFileFromPWCore,_0xc29224);if(_0xda010f&&_0xda010f[_0x55244a(0x19b)]){this[_0x55244a(0x19b)]=_0xda010f['Connection'],logger[_0x55244a(0x195)](_0x55244a(0x1f3)+_0xc29224);break;}}catch(_0x384a64){_0x527f4a['uynWi'](debug,_0x55244a(0x1f2)+_0xc29224+':\x20'+_0x384a64[_0x55244a(0x1f6)]());}}if(!this[_0x55244a(0x19b)]){_0x527f4a['ZTESY'](debug,_0x527f4a[_0x55244a(0x224)]);return;}}catch(_0x1437ad){_0x527f4a['ZTESY'](debug,_0x55244a(0x22c)+_0x1437ad[_0x55244a(0x1f6)]());return;}const _0x17cc57=this[_0x55244a(0x19b)];try{if(_0x527f4a[_0x55244a(0x228)](_0x17cc57,null)){const _0x226fff=_0x17cc57[_0x55244a(0x257)][_0x55244a(0x24a)];if(!_0x527f4a[_0x55244a(0x1f1)](isFalse,process[_0x55244a(0x1a5)][_0x55244a(0x203)])){if(_0x17cc57[_0x55244a(0x257)][_0x55244a(0x1d1)]){logger[_0x55244a(0x195)](_0x527f4a[_0x55244a(0x1b5)]);return;}Object['defineProperty'](_0x17cc57[_0x55244a(0x257)],_0x527f4a[_0x55244a(0x1c6)],{'get':function(){const _0x251775={'bDcDZ':function(_0xcfa5fc,_0x5c962e){return _0x527f4a['uynWi'](_0xcfa5fc,_0x5c962e);}};return async function _0x1db36b(_0x563912){const _0x35e1d8=a60_0x18fa;if(BrowserstackCLI[_0x35e1d8(0x23b)]()[_0x35e1d8(0x1e3)]()){const _0x339a5d={};_0x339a5d[_0x35e1d8(0x1a3)]=_0x563912,await BrowserstackCLI['getInstance']()[_0x35e1d8(0x22d)]()[_0x35e1d8(0x1c2)](AutomationFrameworkState[_0x35e1d8(0x253)],HookState['POST'],_0x339a5d);}else{const _0xf9c871=_0x563912&&_0x563912['params']&&_0x563912[_0x35e1d8(0x217)]['bsParams'];if(_0xf9c871){const _0x263b1f=_0xf9c871[_0x35e1d8(0x205)],_0x447662=_0xf9c871[_0x35e1d8(0x21b)];_0x447662&&(_0x251775[_0x35e1d8(0x1db)](debug,_0x35e1d8(0x1ac)+_0x447662[_0x35e1d8(0x1f6)]()),_0x116655[_0x35e1d8(0x229)][_0x35e1d8(0x1ae)]=_0x447662[_0x35e1d8(0x202)],_0x116655[_0x35e1d8(0x229)][_0x35e1d8(0x191)]=_0x447662[_0x35e1d8(0x19e)]),_0x263b1f&&(_0x251775[_0x35e1d8(0x1db)](debug,'Setting\x20session\x20id\x20received\x20from\x20BS\x20'+_0x263b1f),_0x116655[_0x35e1d8(0x229)]['bsSessionId']=_0x263b1f);}}return _0x226fff[_0x35e1d8(0x18e)](this,arguments);};}}),_0x17cc57[_0x55244a(0x257)][_0x55244a(0x1d1)]=!![],logger[_0x55244a(0x195)](_0x527f4a[_0x55244a(0x197)]);}}}catch(_0x2bd4e9){_0x527f4a['xFmSs'](debug,_0x55244a(0x1c5)+_0x2bd4e9),_0x116655[_0x55244a(0x209)]=_0x2bd4e9['toString']();}}static['patchCRConnection'](){const _0x5370cc=a60_0x1d0f54,_0x294b68={'khonN':function(_0x1a34ba,_0x2a0c45){return _0x1a34ba(_0x2a0c45);},'tMQvJ':function(_0x42e9a3,_0x1017ea){return _0x42e9a3(_0x1017ea);},'CZxnW':_0x5370cc(0x20c),'QbgNH':'server','TBBnZ':_0x5370cc(0x1d0),'QfEJm':'crConnection.js','JQoVa':function(_0x181337,_0x33aa45){return _0x181337(_0x33aa45);},'jMdIV':function(_0x5399a8,_0x3fe590){return _0x5399a8(_0x3fe590);},'QBeqa':_0x5370cc(0x215),'WmJWd':_0x5370cc(0x1e1),'PdewY':function(_0x1bbb50,_0xebddbf){return _0x1bbb50!=_0xebddbf;},'sMhoQ':'CRConnection\x20already\x20patched','jJbkE':'_onMessage','Alriq':_0x5370cc(0x1af),'hBtkU':function(_0x20c5fb,_0xf2db94){return _0x20c5fb(_0xf2db94);}},_0x286b65=this;let _0x4a8b36=null;try{const _0x5894a5=path[_0x5370cc(0x21a)](_0x294b68[_0x5370cc(0x1f8)],_0x294b68[_0x5370cc(0x1da)],_0x294b68[_0x5370cc(0x1d2)],_0x294b68[_0x5370cc(0x242)]),_0x4e4f0b=_0x294b68[_0x5370cc(0x216)](importFileFromPWCore,_0x5894a5);!_0x4e4f0b?_0x294b68[_0x5370cc(0x1cc)](debug,_0x294b68[_0x5370cc(0x1e8)]):_0x4a8b36=_0x4e4f0b[_0x5370cc(0x231)];}catch(_0x2d07a8){_0x294b68[_0x5370cc(0x1fc)](debug,_0x294b68[_0x5370cc(0x1ee)]);}try{if(_0x294b68[_0x5370cc(0x239)](_0x4a8b36,null)){const _0x5e5ba8=_0x4a8b36['prototype'][_0x5370cc(0x21c)];if(_0x4a8b36[_0x5370cc(0x257)][_0x5370cc(0x1b7)]){logger[_0x5370cc(0x195)](_0x294b68[_0x5370cc(0x252)]);return;}Object[_0x5370cc(0x1cd)](_0x4a8b36[_0x5370cc(0x257)],_0x294b68['jJbkE'],{'get':function(){const _0x389e13={'jHJFI':function(_0x68f65e,_0x32d5fc){const _0x152cf6=a60_0x18fa;return _0x294b68[_0x152cf6(0x1fc)](_0x68f65e,_0x32d5fc);},'ZxfsB':function(_0x4f8f79,_0x52aac3){const _0x395c66=a60_0x18fa;return _0x294b68[_0x395c66(0x23f)](_0x4f8f79,_0x52aac3);}};return async function _0x2ac0ae(_0x50cbc1){const _0x55a7d0=a60_0x18fa;try{if(BrowserstackCLI[_0x55a7d0(0x23b)]()[_0x55a7d0(0x1e3)]()){const _0x4a5d68={};_0x4a5d68[_0x55a7d0(0x1a3)]=_0x50cbc1,await BrowserstackCLI[_0x55a7d0(0x23b)]()[_0x55a7d0(0x22d)]()['trackEvent'](AutomationFrameworkState[_0x55a7d0(0x253)],HookState[_0x55a7d0(0x1d4)],_0x4a5d68),delete _0x50cbc1[_0x55a7d0(0x23a)];}else{const _0x36d981=_0x50cbc1['bStackParams'];if(_0x36d981){delete _0x50cbc1[_0x55a7d0(0x23a)];const _0x1fb653=_0x36d981[_0x55a7d0(0x205)],_0x71a5e2=_0x36d981[_0x55a7d0(0x21b)];_0x71a5e2&&(_0x389e13['jHJFI'](debug,_0x55a7d0(0x235)+_0x71a5e2[_0x55a7d0(0x1f6)]()),_0x286b65['currentSessionDetails'][_0x55a7d0(0x1ae)]=_0x71a5e2['platformName'],_0x286b65[_0x55a7d0(0x229)][_0x55a7d0(0x191)]=_0x71a5e2[_0x55a7d0(0x19e)]),_0x1fb653&&(_0x389e13[_0x55a7d0(0x1a6)](debug,_0x55a7d0(0x213)+_0x1fb653),_0x286b65[_0x55a7d0(0x229)][_0x55a7d0(0x212)]=_0x1fb653);}}}catch(_0x5591fc){_0x389e13[_0x55a7d0(0x1a6)](debug,_0x55a7d0(0x207)+_0x5591fc[_0x55a7d0(0x1f6)]());}return _0x5e5ba8[_0x55a7d0(0x18e)](this,arguments);};}}),_0x4a8b36[_0x5370cc(0x257)]['_bstackCRPatched']=!![],logger['debug'](_0x294b68[_0x5370cc(0x1b2)]);}}catch(_0x474044){_0x294b68[_0x5370cc(0x200)](debug,_0x5370cc(0x1c1)+_0x474044),_0x286b65[_0x5370cc(0x209)]=_0x474044['toString']();}}static[a60_0x1d0f54(0x1a0)](_0x576821,_0x420a3f){const _0x5f4c35=a60_0x1d0f54,_0x1a7302={'fsVWf':'bstack:options','HLmoW':function(_0x4a96d2,_0x46d9f8){return _0x4a96d2||_0x46d9f8;},'DgNrX':function(_0x502771,_0x51d6f3){return _0x502771===_0x51d6f3;},'yjTie':_0x5f4c35(0x1ea),'CtnMj':_0x5f4c35(0x1fe),'SMTSI':function(_0x1157a0,_0x2d13cf){return _0x1157a0(_0x2d13cf);},'Qjtgk':function(_0x4bd009,_0x2cbc5b){return _0x4bd009(_0x2cbc5b);}};let _0x371ec5=null,_0x1840d3=null;try{const _0x25329a=[_0x420a3f,global[_0x5f4c35(0x23e)],global['capabilties']];for(const _0x16e16b of _0x25329a){if(_0x16e16b&&(!_0x1840d3||!_0x1840d3[_0x5f4c35(0x205)])){const _0xf31c08=_0x16e16b[_0x5f4c35(0x205)]||_0x16e16b[_0x1a7302[_0x5f4c35(0x190)]]?.[_0x5f4c35(0x205)],_0x40059b=_0x16e16b['browserName']||_0x16e16b[_0x5f4c35(0x1aa)]||_0x16e16b[_0x1a7302[_0x5f4c35(0x190)]]?.['browserName'],_0x168613=_0x16e16b[_0x5f4c35(0x24e)]||_0x16e16b[_0x5f4c35(0x1d5)]||_0x16e16b[_0x1a7302['fsVWf']]?.[_0x5f4c35(0x24e)],_0x1b1d68=_0x16e16b['os']||_0x16e16b[_0x5f4c35(0x1ae)]||_0x16e16b[_0x1a7302['fsVWf']]?.['os'],_0x5621c4=_0x16e16b[_0x5f4c35(0x194)]||_0x16e16b['os_version']||_0x16e16b[_0x1a7302[_0x5f4c35(0x190)]]?.[_0x5f4c35(0x194)];if(_0x1a7302['HLmoW'](_0xf31c08,_0x40059b)||_0x1b1d68){const _0x51387a={};_0x51387a[_0x5f4c35(0x20a)]=_0x40059b,_0x51387a[_0x5f4c35(0x24e)]=_0x168613,_0x51387a['os']=_0x1b1d68,_0x51387a['osVersion']=_0x5621c4,_0x51387a[_0x5f4c35(0x202)]=_0x16e16b[_0x5f4c35(0x202)]||_0x1b1d68,_0x51387a[_0x5f4c35(0x19e)]=_0x16e16b[_0x5f4c35(0x19e)]||_0x5621c4;const _0x42cbe7={};_0x42cbe7[_0x5f4c35(0x205)]=_0xf31c08,_0x42cbe7[_0x5f4c35(0x21b)]=_0x51387a,_0x1840d3=_0x42cbe7;if(_0x1a7302[_0x5f4c35(0x20f)](_0xf31c08,_0x40059b)){logger[_0x5f4c35(0x195)](_0x5f4c35(0x20b)+_0x40059b+',\x20os='+_0x1b1d68);break;}}}}if(_0x576821&&_0x1a7302[_0x5f4c35(0x238)](typeof _0x576821,_0x1a7302['yjTie']))try{const _0x12ad92=url[_0x5f4c35(0x208)](_0x576821),_0x57f566=new URLSearchParams(_0x12ad92[_0x5f4c35(0x248)]),_0x7ab09d=Object[_0x5f4c35(0x23d)](_0x57f566['entries']()),_0x5047d4=[_0x7ab09d['caps'],_0x7ab09d[_0x5f4c35(0x247)],_0x7ab09d[_0x5f4c35(0x1a8)]];for(const _0x43eb5b of _0x5047d4){if(_0x43eb5b&&(!_0x371ec5||!_0x371ec5[_0x5f4c35(0x205)]))try{const _0x2fc2c9=JSON[_0x5f4c35(0x208)](_0x43eb5b),_0x3f1ced={};_0x3f1ced['sessionId']=_0x2fc2c9[_0x5f4c35(0x205)]||_0x2fc2c9[_0x1a7302[_0x5f4c35(0x190)]]?.[_0x5f4c35(0x205)],_0x3f1ced[_0x5f4c35(0x21b)]={},_0x3f1ced[_0x5f4c35(0x21b)]['browserName']=_0x2fc2c9[_0x5f4c35(0x20a)]||_0x2fc2c9[_0x5f4c35(0x1aa)],_0x3f1ced[_0x5f4c35(0x21b)][_0x5f4c35(0x24e)]=_0x2fc2c9[_0x5f4c35(0x24e)]||_0x2fc2c9[_0x5f4c35(0x1d5)],_0x3f1ced[_0x5f4c35(0x21b)]['os']=_0x2fc2c9['os']||_0x2fc2c9[_0x5f4c35(0x1ae)],_0x3f1ced[_0x5f4c35(0x21b)]['osVersion']=_0x2fc2c9[_0x5f4c35(0x194)]||_0x2fc2c9[_0x5f4c35(0x1ca)],_0x3f1ced[_0x5f4c35(0x21b)]['platformName']=_0x2fc2c9[_0x5f4c35(0x202)]||_0x2fc2c9['os']||_0x2fc2c9[_0x5f4c35(0x1ae)],_0x3f1ced[_0x5f4c35(0x21b)][_0x5f4c35(0x19e)]=_0x2fc2c9[_0x5f4c35(0x19e)]||_0x2fc2c9[_0x5f4c35(0x194)]||_0x2fc2c9[_0x5f4c35(0x1ca)],_0x371ec5=_0x3f1ced;if(_0x371ec5[_0x5f4c35(0x205)]||_0x371ec5[_0x5f4c35(0x21b)][_0x5f4c35(0x20a)]){logger[_0x5f4c35(0x195)](_0x1a7302[_0x5f4c35(0x218)]);break;}}catch(_0x290fce){_0x1a7302[_0x5f4c35(0x24d)](debug,'Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20'+_0x290fce['toString']());}}}catch(_0x57ca8c){_0x1a7302[_0x5f4c35(0x24d)](debug,_0x5f4c35(0x1bc)+_0x57ca8c[_0x5f4c35(0x1f6)]());}}catch(_0x328e2e){_0x1a7302[_0x5f4c35(0x18f)](debug,_0x5f4c35(0x196)+util['format'](_0x328e2e));}const _0x11c098={};return _0x11c098[_0x5f4c35(0x1be)]=_0x371ec5,_0x11c098[_0x5f4c35(0x23a)]=_0x1840d3,_0x11c098;}static async[a60_0x1d0f54(0x1a9)](_0x5d81f4,_0x977d70){const _0x463a7b=a60_0x1d0f54,_0x33a88d={'vTNBi':function(_0x126335,_0x3791a5){return _0x126335||_0x3791a5;},'UoDou':'Triggering\x20PLAYWRIGHT_DISPATCH\x20event','xWBRi':function(_0x44671f,_0x4d6b54){return _0x44671f(_0x4d6b54);}};try{if(!BrowserstackCLI[_0x463a7b(0x23b)]()['isRunning']())return;if(_0x33a88d['vTNBi'](_0x5d81f4,_0x977d70)){logger[_0x463a7b(0x195)](_0x33a88d[_0x463a7b(0x22b)]);const _0x5d0c87={'params':_0x5d81f4?{'bsParams':_0x5d81f4}:null,'bStackParams':_0x33a88d[_0x463a7b(0x1a2)](_0x977d70,null)},_0x37b5ad=AutomationFramework['getTrackedInstance'](),_0x1fdd84={};_0x1fdd84[_0x463a7b(0x1a3)]=_0x5d0c87,_0x1fdd84['instance']=_0x37b5ad,await BrowserstackCLI['getInstance']()[_0x463a7b(0x22d)]()[_0x463a7b(0x1c2)](AutomationFrameworkState[_0x463a7b(0x253)],HookState[_0x463a7b(0x1d4)],_0x1fdd84);}}catch(_0xb93562){_0x33a88d[_0x463a7b(0x199)](debug,'Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20'+util[_0x463a7b(0x214)](_0xb93562));}}static[a60_0x1d0f54(0x1fb)](){return this['currentSessionDetails'];}}module[a60_0x1d0f54(0x220)]=SharedPlaywrightSessionDetails;