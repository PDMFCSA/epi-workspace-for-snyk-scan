const a60_0x41ba67=a60_0x565b;function a60_0x565b(_0x3d6e3b,_0x53c8bb){const _0x502979=a60_0x5029();return a60_0x565b=function(_0x565b38,_0x2990f2){_0x565b38=_0x565b38-0xdb;let _0x4d40c2=_0x502979[_0x565b38];return _0x4d40c2;},a60_0x565b(_0x3d6e3b,_0x53c8bb);}(function(_0x2f2e8b,_0x155f0b){const _0x3f409f=a60_0x565b,_0x202078=_0x2f2e8b();while(!![]){try{const _0x30ba23=-parseInt(_0x3f409f(0x156))/0x1*(-parseInt(_0x3f409f(0x191))/0x2)+parseInt(_0x3f409f(0x19c))/0x3*(-parseInt(_0x3f409f(0x1a3))/0x4)+parseInt(_0x3f409f(0x132))/0x5+-parseInt(_0x3f409f(0x1aa))/0x6*(parseInt(_0x3f409f(0x111))/0x7)+parseInt(_0x3f409f(0x1ac))/0x8*(parseInt(_0x3f409f(0x12c))/0x9)+-parseInt(_0x3f409f(0x1a8))/0xa*(parseInt(_0x3f409f(0x13e))/0xb)+parseInt(_0x3f409f(0x18d))/0xc;if(_0x30ba23===_0x155f0b)break;else _0x202078['push'](_0x202078['shift']());}catch(_0x54501e){_0x202078['push'](_0x202078['shift']());}}}(a60_0x5029,0xa9137));const path=require(a60_0x41ba67(0x11a)),url=require(a60_0x41ba67(0x19d)),util=require(a60_0x41ba67(0x178)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x41ba67(0x140)),{o11yErrorHandler}=require(a60_0x41ba67(0x161)),{debug,getPlatformDetails}=require(a60_0x41ba67(0x1a7)),logger=require(a60_0x41ba67(0xfd))[a60_0x41ba67(0x10d)],constants=require(a60_0x41ba67(0x115)),AutomationFramework=require(a60_0x41ba67(0x108)),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require('../v2/state/automationFrameworkState.js'),HookState=require('../v2/state/hookState.js'),{platform}=require('os'),getBrowserNameFromChannel=_0x18311a=>{const _0x729db8=a60_0x41ba67,_0x48176e={};_0x48176e[_0x729db8(0x11e)]=_0x729db8(0x12a),_0x48176e['XJJMv']=_0x729db8(0x122),_0x48176e[_0x729db8(0x118)]=_0x729db8(0xe8),_0x48176e[_0x729db8(0x192)]=_0x729db8(0xe1);const _0x41084b=_0x48176e;if(_0x18311a[_0x729db8(0x171)](_0x41084b['UqPbp']))return _0x41084b[_0x729db8(0x11e)];if(_0x18311a['includes'](_0x41084b[_0x729db8(0x123)]))return _0x41084b[_0x729db8(0x123)];if(_0x18311a['includes'](_0x41084b['yYcIz']))return _0x41084b['yYcIz'];if(_0x18311a[_0x729db8(0x171)](_0x41084b[_0x729db8(0x192)]))return _0x41084b[_0x729db8(0x192)];},getBrowserFromWSEndpoint=_0x329646=>{const _0x2809ce=a60_0x41ba67,_0x2b2a78={'dCMHU':_0x2809ce(0x155),'dfmMq':function(_0x311dc9,_0x1f72d3){return _0x311dc9(_0x1f72d3);},'lJqmh':_0x2809ce(0x122),'GgJAQ':_0x2809ce(0xf9),'oRwGB':_0x2809ce(0xe8),'xEgDJ':_0x2809ce(0x125),'lPneA':'safari','Ezfon':'webkit','zbGxt':'chrome','LwHHO':function(_0xe6841e,_0x421723){return _0xe6841e(_0x421723);}};try{const _0x3516ab=url[_0x2809ce(0x17b)](_0x329646),_0x2404c5=new URLSearchParams(_0x3516ab['query']),_0x502e68=Object[_0x2809ce(0x18e)](_0x2404c5[_0x2809ce(0xf0)]()),_0x34d5a8=[_0x502e68[_0x2809ce(0xe3)],_0x502e68[_0x2809ce(0x120)],_0x502e68[_0x2809ce(0xdd)],_0x502e68[_0x2809ce(0x198)]];for(const _0x134e9e of _0x34d5a8){if(_0x134e9e)try{const _0xff2178=JSON['parse'](_0x134e9e),_0xdccc70=_0xff2178['browserName']||_0xff2178[_0x2809ce(0x196)]||_0xff2178[_0x2b2a78[_0x2809ce(0xed)]]?.[_0x2809ce(0x134)];if(_0xdccc70)return _0x2b2a78[_0x2809ce(0x12e)](debug,_0x2809ce(0x137)+_0xdccc70),_0xdccc70[_0x2809ce(0x12f)]();}catch(_0x1dc61b){_0x2b2a78[_0x2809ce(0x12e)](debug,'Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20'+_0x1dc61b[_0x2809ce(0x174)]);}}if(_0x329646[_0x2809ce(0x171)](_0x2b2a78['lJqmh'])||_0x329646[_0x2809ce(0x171)](_0x2b2a78[_0x2809ce(0x16e)]))return _0x2b2a78[_0x2809ce(0xdc)];if(_0x329646[_0x2809ce(0x171)](_0x2b2a78['oRwGB'])||_0x329646['includes'](_0x2b2a78['xEgDJ']))return _0x2b2a78['oRwGB'];if(_0x329646['includes'](_0x2b2a78[_0x2809ce(0x18c)])||_0x329646['includes'](_0x2b2a78[_0x2809ce(0x148)]))return _0x2b2a78[_0x2809ce(0x18c)];return _0x2b2a78[_0x2809ce(0x19f)];}catch(_0x564c1a){return _0x2b2a78[_0x2809ce(0x13d)](debug,'Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20'+_0x564c1a['toString']()),_0x2b2a78['zbGxt'];}},getCloudProviderFromWsEndpoint=_0x168f88=>{const _0x1c852d=a60_0x41ba67,_0x37816f={};_0x37816f[_0x1c852d(0x14d)]=_0x1c852d(0x14a),_0x37816f[_0x1c852d(0x142)]=_0x1c852d(0x166);const _0x32ff14=_0x37816f;if(_0x168f88[_0x1c852d(0x171)](constants['BSTACK_URL'])||_0x168f88[_0x1c852d(0x171)](constants[_0x1c852d(0x150)]))return _0x32ff14[_0x1c852d(0x14d)];return _0x32ff14[_0x1c852d(0x142)];},a60_0x5ab797={};a60_0x5ab797[a60_0x41ba67(0xeb)]=undefined,a60_0x5ab797[a60_0x41ba67(0x170)]=undefined,a60_0x5ab797[a60_0x41ba67(0x196)]=undefined,a60_0x5ab797[a60_0x41ba67(0x18b)]=undefined,a60_0x5ab797['platform']=undefined,a60_0x5ab797[a60_0x41ba67(0x14c)]=undefined,a60_0x5ab797['product']=undefined,a60_0x5ab797[a60_0x41ba67(0x120)]={};class SharedPlaywrightSessionDetails{static [a60_0x41ba67(0x15b)]=a60_0x5ab797;constructor(){const _0x32bfd1=a60_0x41ba67,_0x24b95e={};_0x24b95e[_0x32bfd1(0x186)]='Invalid\x20constructor,\x20please\x20use\x20static\x20methods';const _0x2c8266=_0x24b95e;throw new Error(_0x2c8266[_0x32bfd1(0x186)]);}static [a60_0x41ba67(0x11b)]=null;static[a60_0x41ba67(0xde)](_0x22aa71,_0x16780a,_0x1d501b=null){const _0x5a9cd4=a60_0x41ba67,_0x502cb3={'auFkN':function(_0x3813f3,_0x16f0d3){return _0x3813f3===_0x16f0d3;},'wFSgL':_0x5a9cd4(0x199),'kIoUp':_0x5a9cd4(0xfc),'QDtBu':function(_0x54ad01,_0x367d8e){return _0x54ad01===_0x367d8e;},'fWJFA':_0x5a9cd4(0x182),'OGTJx':_0x5a9cd4(0x10c),'VaDRc':function(_0x4558c8,_0x5b789e,_0x2db164){return _0x4558c8(_0x5b789e,_0x2db164);},'oGJur':_0x5a9cd4(0xf3),'RjQmj':_0x5a9cd4(0x116),'jZvzs':function(_0x4efcdb,_0x3adf5c,_0x4e7184){return _0x4efcdb(_0x3adf5c,_0x4e7184);},'VvnoT':_0x5a9cd4(0x14f),'rUbdx':_0x5a9cd4(0x13a),'hoHCm':_0x5a9cd4(0x14e),'aQMOV':function(_0x2ff38b,_0x327597){return _0x2ff38b(_0x327597);},'DwJWt':function(_0x30455d,_0x2456ab){return _0x30455d===_0x2456ab;},'HruYn':'browserstack','zduwk':'turboscale','dVFdT':_0x5a9cd4(0x117),'vTyUv':function(_0x8fe5fa,_0x779941){return _0x8fe5fa(_0x779941);},'ahDqD':function(_0x5c8c08,_0x2f9a40){return _0x5c8c08===_0x2f9a40;},'yeiTM':_0x5a9cd4(0x163),'JXAbQ':function(_0x121d90,_0x1bbec6){return _0x121d90+_0x1bbec6;},'PnLhJ':'playwright-','VefZL':function(_0x54952d){return _0x54952d();},'dRFiv':function(_0x37e230,_0x299b85,_0x2af10e){return _0x37e230(_0x299b85,_0x2af10e);},'FkHsG':_0x5a9cd4(0xde)},_0x16f52c=this;return _0x502cb3[_0x5a9cd4(0x146)](o11yErrorHandler,async function _0x3d81c7(_0x295224,_0x4612f8,_0x3bbd53=null){const _0x1acb98=_0x5a9cd4;let _0x4db27f=_0x295224[_0x1acb98(0xe4)],_0x37dd82=null;_0x295224&&_0x502cb3['auFkN'](typeof _0x295224[_0x1acb98(0x105)],_0x502cb3[_0x1acb98(0x103)])?_0x37dd82=_0x295224[_0x1acb98(0x105)]():logger[_0x1acb98(0x104)](_0x502cb3[_0x1acb98(0xec)]);let _0x13fbf0=null;_0x295224&&_0x502cb3[_0x1acb98(0xfb)](typeof _0x295224['model'],_0x502cb3[_0x1acb98(0x103)])?_0x13fbf0=_0x295224[_0x1acb98(0x17f)]():logger[_0x1acb98(0x104)](_0x502cb3['fWJFA']);let _0x31696a=null,_0x9f4cbb=null,_0x3181f7=null,_0x23e0c8=_0x502cb3['OGTJx'];if(_0x295224['_connection'][_0x1acb98(0x1a4)]()||global['accessibilityPlatform']){let _0x5aa852=null;_0x502cb3[_0x1acb98(0x138)](nestedKeyValue,_0x295224,[_0x502cb3[_0x1acb98(0x160)],_0x502cb3[_0x1acb98(0x13f)]])?_0x5aa852=_0x295224[_0x1acb98(0xf3)][_0x1acb98(0x116)]:_0x5aa852=_0x502cb3[_0x1acb98(0x12b)](nestedKeyValue,_0x4612f8,[_0x502cb3[_0x1acb98(0x17a)],_0x502cb3[_0x1acb98(0x168)],_0x502cb3[_0x1acb98(0x127)]]);const _0x36a83a=_0x3bbd53||_0x5aa852&&_0x5aa852[_0x1acb98(0xe5)];if(_0x36a83a){_0x23e0c8=_0x502cb3[_0x1acb98(0x173)](getCloudProviderFromWsEndpoint,_0x36a83a);if(_0x502cb3[_0x1acb98(0x102)](_0x23e0c8,_0x502cb3[_0x1acb98(0xe7)])){_0x3181f7=constants[_0x1acb98(0x15a)][_0x1acb98(0x172)](_0x36a83a)?_0x502cb3[_0x1acb98(0x1ad)]:_0x502cb3['dVFdT'];const _0x7afbbc=_0x502cb3['vTyUv'](getBrowserFromWSEndpoint,_0x36a83a);if(_0x7afbbc&&(!_0x4db27f||_0x502cb3['ahDqD'](_0x4db27f,_0x502cb3[_0x1acb98(0xf6)])))_0x4db27f=_0x7afbbc,logger[_0x1acb98(0x104)](_0x1acb98(0x147)+_0x4db27f);else _0x4db27f&&logger['debug']('Using\x20browser\x20name\x20from\x20browser\x20object:\x20'+_0x4db27f);_0x31696a=_0x16f52c[_0x1acb98(0x15b)][_0x1acb98(0x121)],_0x9f4cbb=_0x16f52c[_0x1acb98(0x15b)]['platform_version'];}}}else{_0x4612f8&&_0x4612f8[_0x1acb98(0x14f)]&&_0x4612f8[_0x1acb98(0x14f)][_0x1acb98(0x13a)]&&_0x4612f8[_0x1acb98(0x14f)][_0x1acb98(0x13a)][_0x1acb98(0x176)]?_0x4db27f=_0x502cb3[_0x1acb98(0x159)](getBrowserNameFromChannel,_0x4612f8['project'][_0x1acb98(0x13a)][_0x1acb98(0x176)]):_0x4db27f=_0x502cb3[_0x1acb98(0x130)](_0x502cb3[_0x1acb98(0x15f)],_0x4db27f[_0x1acb98(0x12f)]());const _0x2217a0=await _0x502cb3[_0x1acb98(0xef)](getPlatformDetails);_0x31696a=_0x2217a0['platformName'],_0x9f4cbb=_0x2217a0['platformVersion'];}const _0x297c8f={};_0x297c8f[_0x1acb98(0x196)]=_0x4db27f,_0x297c8f[_0x1acb98(0x18b)]=_0x37dd82,_0x297c8f['capabilities']={},_0x297c8f[_0x1acb98(0x121)]=_0x31696a,_0x297c8f[_0x1acb98(0x14c)]=_0x9f4cbb,_0x297c8f[_0x1acb98(0x18a)]=_0x3181f7;const _0xd48dba=_0x297c8f;_0x13fbf0&&(_0xd48dba[_0x1acb98(0x120)][_0x1acb98(0x179)]=_0x13fbf0);const _0x47054f={};_0x47054f[_0x1acb98(0xeb)]=_0x23e0c8,_0x16f52c['currentSessionDetails']=Object['assign']({},_0x16f52c[_0x1acb98(0x15b)],_0x47054f,_0xd48dba);const _0x357cb5={};_0x357cb5[_0x1acb98(0x196)]=_0x16f52c['currentSessionDetails']['browser'],_0x357cb5[_0x1acb98(0x100)]=_0x16f52c['currentSessionDetails'][_0x1acb98(0x18b)],_0x357cb5[_0x1acb98(0x121)]=_0x16f52c[_0x1acb98(0x15b)][_0x1acb98(0x121)],_0x357cb5['platformVersion']=_0x16f52c['currentSessionDetails']['platform_version'],_0x357cb5[_0x1acb98(0xeb)]=_0x16f52c['currentSessionDetails'][_0x1acb98(0xeb)],_0x357cb5[_0x1acb98(0x18a)]=_0x16f52c[_0x1acb98(0x15b)][_0x1acb98(0x18a)],logger[_0x1acb98(0x104)](_0x1acb98(0x165)+JSON[_0x1acb98(0xf5)](_0x357cb5));},_0x502cb3[_0x5a9cd4(0x112)])(_0x22aa71,_0x16780a,_0x1d501b);}static[a60_0x41ba67(0x16c)](){const _0xd28dc9=a60_0x41ba67;this[_0xd28dc9(0x135)](),this[_0xd28dc9(0x152)]();}static[a60_0x41ba67(0x135)](){const _0x5b7b55=a60_0x41ba67,_0x53508f={'OSasm':function(_0x1ca855,_0xcc9086){return _0x1ca855(_0xcc9086);},'CQivi':_0x5b7b55(0x10a),'jWfxa':_0x5b7b55(0x1ae),'xrcrd':_0x5b7b55(0xe2),'exBLN':function(_0x39f9e1,_0x4944bf){return _0x39f9e1(_0x4944bf);},'xmzBM':_0x5b7b55(0xdf),'qcDDL':function(_0x5c7ba4,_0x2a1a9c){return _0x5c7ba4!=_0x2a1a9c;},'ipVRi':function(_0x4da8eb,_0x183716){return _0x4da8eb(_0x183716);},'JelCr':_0x5b7b55(0x184),'UhmQQ':'dispatch','wxvHT':_0x5b7b55(0x19b),'hYayY':function(_0x281659,_0x3e8b01){return _0x281659(_0x3e8b01);}},_0x151a57=this;if(!this[_0x5b7b55(0x11d)])try{const _0xdda95b=[path['join'](_0x53508f[_0x5b7b55(0x19a)],_0x53508f['jWfxa'],_0x53508f[_0x5b7b55(0x1ab)]),path[_0x5b7b55(0x114)](_0x53508f['CQivi'],_0x53508f[_0x5b7b55(0x1ab)]),path[_0x5b7b55(0x114)](_0x53508f[_0x5b7b55(0x177)],_0x53508f[_0x5b7b55(0x1ab)])];for(const _0x44442d of _0xdda95b){try{const _0x2757bd=_0x53508f[_0x5b7b55(0x106)](importFileFromPWCore,_0x44442d);if(_0x2757bd&&_0x2757bd[_0x5b7b55(0x11d)]){this[_0x5b7b55(0x11d)]=_0x2757bd[_0x5b7b55(0x11d)],logger[_0x5b7b55(0x104)]('Found\x20Connection\x20class\x20at:\x20'+_0x44442d);break;}}catch(_0x1c70fe){_0x53508f[_0x5b7b55(0x144)](debug,'Failed\x20to\x20import\x20connection\x20from\x20'+_0x44442d+':\x20'+_0x1c70fe[_0x5b7b55(0xea)]());}}if(!this[_0x5b7b55(0x11d)]){_0x53508f['OSasm'](debug,_0x53508f[_0x5b7b55(0xe6)]);return;}}catch(_0x17fca5){_0x53508f[_0x5b7b55(0x144)](debug,_0x5b7b55(0x181)+_0x17fca5[_0x5b7b55(0xea)]());return;}const _0x46c124=this['Connection'];try{if(_0x53508f['qcDDL'](_0x46c124,null)){const _0x14d47a=_0x46c124[_0x5b7b55(0xf2)][_0x5b7b55(0x128)];if(!_0x53508f[_0x5b7b55(0x149)](isFalse,process[_0x5b7b55(0x1af)]['BROWSERSTACK_TEST_OBSERVABILITY'])){if(_0x46c124[_0x5b7b55(0xf2)]['_bstackDispatchPatched']){logger['debug'](_0x53508f[_0x5b7b55(0x154)]);return;}Object[_0x5b7b55(0x187)](_0x46c124[_0x5b7b55(0xf2)],_0x53508f['UhmQQ'],{'get':function(){const _0x5494db={'RQaeX':function(_0x54481a,_0xc750d0){const _0x379da3=a60_0x565b;return _0x53508f[_0x379da3(0x144)](_0x54481a,_0xc750d0);}};return async function _0x35ff20(_0x360c1a){const _0xad6abe=a60_0x565b;if(BrowserstackCLI[_0xad6abe(0x113)]()[_0xad6abe(0x1a2)]()){const _0xe978d1={};_0xe978d1[_0xad6abe(0x174)]=_0x360c1a,await BrowserstackCLI['getInstance']()[_0xad6abe(0x136)]()[_0xad6abe(0x139)](AutomationFrameworkState[_0xad6abe(0x15c)],HookState['POST'],_0xe978d1);}else{const _0x3ae95e=_0x360c1a&&_0x360c1a[_0xad6abe(0xee)]&&_0x360c1a[_0xad6abe(0xee)][_0xad6abe(0x15e)];if(_0x3ae95e){const _0x2bc889=_0x3ae95e[_0xad6abe(0x119)],_0x431c83=_0x3ae95e[_0xad6abe(0x15d)];_0x431c83&&(_0x5494db['RQaeX'](debug,_0xad6abe(0xf1)+_0x431c83[_0xad6abe(0xea)]()),_0x151a57[_0xad6abe(0x15b)]['platform']=_0x431c83[_0xad6abe(0x164)],_0x151a57['currentSessionDetails']['platform_version']=_0x431c83['platformVersion']),_0x2bc889&&(_0x5494db[_0xad6abe(0xfe)](debug,_0xad6abe(0xf8)+_0x2bc889),_0x151a57[_0xad6abe(0x15b)]['bsSessionId']=_0x2bc889);}}return _0x14d47a[_0xad6abe(0x14b)](this,arguments);};}}),_0x46c124[_0x5b7b55(0xf2)][_0x5b7b55(0x10f)]=!![],logger['debug'](_0x53508f[_0x5b7b55(0x131)]);}}}catch(_0x3bf5cb){_0x53508f[_0x5b7b55(0x194)](debug,_0x5b7b55(0x195)+_0x3bf5cb),_0x151a57[_0x5b7b55(0x11b)]=_0x3bf5cb[_0x5b7b55(0xea)]();}}static[a60_0x41ba67(0x152)](){const _0x2c7d2f=a60_0x41ba67,_0x369e79={'aILXP':function(_0x3c3b1b,_0x46ba84){return _0x3c3b1b(_0x46ba84);},'siMgH':function(_0x2ea40a,_0x5d6a9c){return _0x2ea40a(_0x5d6a9c);},'EEPRi':_0x2c7d2f(0x10a),'WQEif':_0x2c7d2f(0x1a5),'xtRLI':_0x2c7d2f(0x163),'DaakU':'crConnection.js','zuYiJ':function(_0x216c4a,_0x280874){return _0x216c4a(_0x280874);},'nYSZF':_0x2c7d2f(0x18f),'SqFGg':function(_0x442003,_0x87f5d6){return _0x442003(_0x87f5d6);},'QBfsp':_0x2c7d2f(0x17d),'Gesjy':function(_0x234ad3,_0x43a141){return _0x234ad3!=_0x43a141;},'zsdTd':_0x2c7d2f(0x19e),'OzfJL':_0x2c7d2f(0x189),'KnMzB':_0x2c7d2f(0x129),'mVNRJ':function(_0x45fcc2,_0x4e1ddd){return _0x45fcc2(_0x4e1ddd);}},_0x1f861c=this;let _0x4a7c3e=null;try{const _0x4bb6a1=path[_0x2c7d2f(0x114)](_0x369e79[_0x2c7d2f(0x16b)],_0x369e79['WQEif'],_0x369e79['xtRLI'],_0x369e79[_0x2c7d2f(0x143)]),_0x5655ed=_0x369e79['siMgH'](importFileFromPWCore,_0x4bb6a1);!_0x5655ed?_0x369e79[_0x2c7d2f(0x158)](debug,_0x369e79[_0x2c7d2f(0x10b)]):_0x4a7c3e=_0x5655ed[_0x2c7d2f(0x151)];}catch(_0x3be5cb){_0x369e79[_0x2c7d2f(0x109)](debug,_0x369e79[_0x2c7d2f(0x180)]);}try{if(_0x369e79['Gesjy'](_0x4a7c3e,null)){const _0x53a63c=_0x4a7c3e['prototype']['_onMessage'];if(_0x4a7c3e[_0x2c7d2f(0xf2)][_0x2c7d2f(0x124)]){logger['debug'](_0x369e79[_0x2c7d2f(0x183)]);return;}Object['defineProperty'](_0x4a7c3e[_0x2c7d2f(0xf2)],_0x369e79[_0x2c7d2f(0x162)],{'get':function(){const _0x499469={'FslHN':function(_0x46fa05,_0x5a53c5){const _0x1b9c5d=a60_0x565b;return _0x369e79[_0x1b9c5d(0x1a1)](_0x46fa05,_0x5a53c5);},'cNfuy':function(_0xf5efa7,_0x1a794a){const _0x57ae51=a60_0x565b;return _0x369e79[_0x57ae51(0xdb)](_0xf5efa7,_0x1a794a);}};return async function _0x1e14c8(_0x26d1e2){const _0x5680b1=a60_0x565b;try{if(BrowserstackCLI[_0x5680b1(0x113)]()[_0x5680b1(0x1a2)]()){const _0x4e4c44={};_0x4e4c44[_0x5680b1(0x174)]=_0x26d1e2,await BrowserstackCLI['getInstance']()['getAutomationFramework']()[_0x5680b1(0x139)](AutomationFrameworkState[_0x5680b1(0x15c)],HookState[_0x5680b1(0x12d)],_0x4e4c44),delete _0x26d1e2[_0x5680b1(0x190)];}else{const _0xa5d18c=_0x26d1e2[_0x5680b1(0x190)];if(_0xa5d18c){delete _0x26d1e2[_0x5680b1(0x190)];const _0x5d9d68=_0xa5d18c[_0x5680b1(0x119)],_0x3c2f39=_0xa5d18c[_0x5680b1(0x15d)];_0x3c2f39&&(_0x499469[_0x5680b1(0x126)](debug,_0x5680b1(0x10e)+_0x3c2f39[_0x5680b1(0xea)]()),_0x1f861c[_0x5680b1(0x15b)][_0x5680b1(0x121)]=_0x3c2f39[_0x5680b1(0x164)],_0x1f861c[_0x5680b1(0x15b)][_0x5680b1(0x14c)]=_0x3c2f39[_0x5680b1(0x17e)]),_0x5d9d68&&(_0x499469[_0x5680b1(0x185)](debug,_0x5680b1(0x13c)+_0x5d9d68),_0x1f861c[_0x5680b1(0x15b)][_0x5680b1(0x170)]=_0x5d9d68);}}}catch(_0x56aabc){_0x499469[_0x5680b1(0x126)](debug,_0x5680b1(0x153)+_0x56aabc['toString']());}return _0x53a63c[_0x5680b1(0x14b)](this,arguments);};}}),_0x4a7c3e[_0x2c7d2f(0xf2)][_0x2c7d2f(0x124)]=!![],logger['debug'](_0x369e79[_0x2c7d2f(0x193)]);}}catch(_0x3086a3){_0x369e79[_0x2c7d2f(0x169)](debug,_0x2c7d2f(0x16f)+_0x3086a3),_0x1f861c['sessionError']=_0x3086a3['toString']();}}static[a60_0x41ba67(0x101)](_0x1cd4f6,_0x268547){const _0x19c8f2=a60_0x41ba67,_0x2081e3={'hpexs':_0x19c8f2(0x155),'Tzhjn':function(_0x50a2f3,_0x526b38){return _0x50a2f3||_0x526b38;},'GQXwV':function(_0x2f3083,_0x38abb7){return _0x2f3083||_0x38abb7;},'AkCiJ':function(_0xf4498b,_0x572e74){return _0xf4498b===_0x572e74;},'yFEXo':_0x19c8f2(0x188),'lYLOE':_0x19c8f2(0x16a),'mTiUJ':function(_0x47986a,_0x5cb627){return _0x47986a(_0x5cb627);}};let _0x4cf753=null,_0x553dbe=null;try{const _0x3e2550=[_0x268547,global['__platformCaps'],global[_0x19c8f2(0xe9)]];for(const _0x546985 of _0x3e2550){if(_0x546985&&(!_0x553dbe||!_0x553dbe[_0x19c8f2(0x119)])){const _0x1ea605=_0x546985[_0x19c8f2(0x119)]||_0x546985[_0x2081e3['hpexs']]?.['sessionId'],_0x50f4ea=_0x546985['browserName']||_0x546985[_0x19c8f2(0x196)]||_0x546985[_0x2081e3[_0x19c8f2(0x16d)]]?.['browserName'],_0x458a81=_0x546985['browserVersion']||_0x546985[_0x19c8f2(0x18b)]||_0x546985[_0x2081e3[_0x19c8f2(0x16d)]]?.[_0x19c8f2(0x100)],_0x17447b=_0x546985['os']||_0x546985['platform']||_0x546985[_0x2081e3[_0x19c8f2(0x16d)]]?.['os'],_0x1b0959=_0x546985['osVersion']||_0x546985[_0x19c8f2(0x1a6)]||_0x546985[_0x2081e3[_0x19c8f2(0x16d)]]?.[_0x19c8f2(0x17c)];if(_0x2081e3[_0x19c8f2(0x13b)](_0x1ea605,_0x50f4ea)||_0x17447b){const _0x54ea2d={};_0x54ea2d[_0x19c8f2(0x134)]=_0x50f4ea,_0x54ea2d[_0x19c8f2(0x100)]=_0x458a81,_0x54ea2d['os']=_0x17447b,_0x54ea2d['osVersion']=_0x1b0959,_0x54ea2d[_0x19c8f2(0x164)]=_0x546985[_0x19c8f2(0x164)]||_0x17447b,_0x54ea2d[_0x19c8f2(0x17e)]=_0x546985['platformVersion']||_0x1b0959;const _0x32091e={};_0x32091e[_0x19c8f2(0x119)]=_0x1ea605,_0x32091e['platformDetails']=_0x54ea2d,_0x553dbe=_0x32091e;if(_0x2081e3[_0x19c8f2(0x197)](_0x1ea605,_0x50f4ea)){logger['debug']('BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser='+_0x50f4ea+_0x19c8f2(0x167)+_0x17447b);break;}}}}if(_0x1cd4f6&&_0x2081e3[_0x19c8f2(0xe0)](typeof _0x1cd4f6,_0x2081e3[_0x19c8f2(0x11f)]))try{const _0x38486a=url[_0x19c8f2(0x17b)](_0x1cd4f6),_0x57a423=new URLSearchParams(_0x38486a[_0x19c8f2(0x1a0)]),_0x5481cd=Object[_0x19c8f2(0x18e)](_0x57a423[_0x19c8f2(0xf0)]()),_0x4e42fd=[_0x5481cd['caps'],_0x5481cd[_0x19c8f2(0x120)],_0x5481cd[_0x19c8f2(0xdd)]];for(const _0x28bdd9 of _0x4e42fd){if(_0x28bdd9&&(!_0x4cf753||!_0x4cf753['sessionId']))try{const _0x167e09=JSON[_0x19c8f2(0x17b)](_0x28bdd9),_0x5aba56={};_0x5aba56[_0x19c8f2(0x119)]=_0x167e09['sessionId']||_0x167e09[_0x2081e3[_0x19c8f2(0x16d)]]?.[_0x19c8f2(0x119)],_0x5aba56[_0x19c8f2(0x15d)]={},_0x5aba56[_0x19c8f2(0x15d)][_0x19c8f2(0x134)]=_0x167e09[_0x19c8f2(0x134)]||_0x167e09[_0x19c8f2(0x196)],_0x5aba56[_0x19c8f2(0x15d)][_0x19c8f2(0x100)]=_0x167e09[_0x19c8f2(0x100)]||_0x167e09[_0x19c8f2(0x18b)],_0x5aba56[_0x19c8f2(0x15d)]['os']=_0x167e09['os']||_0x167e09[_0x19c8f2(0x121)],_0x5aba56[_0x19c8f2(0x15d)][_0x19c8f2(0x17c)]=_0x167e09[_0x19c8f2(0x17c)]||_0x167e09['os_version'],_0x5aba56[_0x19c8f2(0x15d)][_0x19c8f2(0x164)]=_0x167e09[_0x19c8f2(0x164)]||_0x167e09['os']||_0x167e09[_0x19c8f2(0x121)],_0x5aba56[_0x19c8f2(0x15d)][_0x19c8f2(0x17e)]=_0x167e09[_0x19c8f2(0x17e)]||_0x167e09[_0x19c8f2(0x17c)]||_0x167e09[_0x19c8f2(0x1a6)],_0x4cf753=_0x5aba56;if(_0x4cf753[_0x19c8f2(0x119)]||_0x4cf753[_0x19c8f2(0x15d)][_0x19c8f2(0x134)]){logger['debug'](_0x2081e3[_0x19c8f2(0x141)]);break;}}catch(_0x2d63a0){_0x2081e3['mTiUJ'](debug,'Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20'+_0x2d63a0[_0x19c8f2(0xea)]());}}}catch(_0x4f9350){_0x2081e3['mTiUJ'](debug,_0x19c8f2(0x145)+_0x4f9350[_0x19c8f2(0xea)]());}}catch(_0x208f02){_0x2081e3['mTiUJ'](debug,_0x19c8f2(0xfa)+util['format'](_0x208f02));}const _0x3004d9={};return _0x3004d9[_0x19c8f2(0x15e)]=_0x4cf753,_0x3004d9['bStackParams']=_0x553dbe,_0x3004d9;}static async[a60_0x41ba67(0x107)](_0x406f11,_0x25c456){const _0x21fd71=a60_0x41ba67,_0x4f51a4={'sbtPf':function(_0x100c5b,_0x9cac8c){return _0x100c5b||_0x9cac8c;},'WdYDk':_0x21fd71(0xff),'eYQwz':function(_0x554d31,_0x13541d){return _0x554d31||_0x13541d;},'qVVnM':function(_0x25952b,_0x20cf63){return _0x25952b(_0x20cf63);}};try{if(!BrowserstackCLI[_0x21fd71(0x113)]()[_0x21fd71(0x1a2)]())return;if(_0x4f51a4[_0x21fd71(0x175)](_0x406f11,_0x25c456)){logger[_0x21fd71(0x104)](_0x4f51a4[_0x21fd71(0x1a9)]);const _0x414101={'params':_0x406f11?{'bsParams':_0x406f11}:null,'bStackParams':_0x4f51a4[_0x21fd71(0xf7)](_0x25c456,null)},_0x1924f7=AutomationFramework[_0x21fd71(0x11c)](),_0x85441={};_0x85441[_0x21fd71(0x174)]=_0x414101,_0x85441['instance']=_0x1924f7,await BrowserstackCLI['getInstance']()['getAutomationFramework']()[_0x21fd71(0x139)](AutomationFrameworkState[_0x21fd71(0x15c)],HookState['POST'],_0x85441);}}catch(_0x404a9a){_0x4f51a4[_0x21fd71(0x133)](debug,_0x21fd71(0xf4)+util['format'](_0x404a9a));}}static[a60_0x41ba67(0x157)](){const _0x175259=a60_0x41ba67;return this[_0x175259(0x15b)];}}function a60_0x5029(){const _0x4fb73b=['hpexs','GgJAQ','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','bsSessionId','includes','test','aQMOV','message','sbtPf','channel','jWfxa','util','deviceModel','VvnoT','parse','osVersion','Error\x20in\x20importing\x20crConnection','platformVersion','model','QBfsp','Error\x20in\x20importing\x20connection\x20','Device\x20Model\x20is\x20not\x20available','zsdTd','Connection\x20dispatch\x20already\x20patched','cNfuy','XNOfA','defineProperty','string','_onMessage','product','browser_version','lPneA','16442160vhmGdE','fromEntries','Not\x20able\x20to\x20import\x20crConnection','bStackParams','6onpgGj','vIrcu','KnMzB','hYayY','Error\x20in\x20applying\x20Connection\x20patch\x20','browser','GQXwV','browserstack_capabilities','function','CQivi','Successfully\x20patched\x20Connection.dispatch','17160lOpElq','url','CRConnection\x20already\x20patched','zbGxt','query','aILXP','isRunning','212gJzJFi','isRemote','server','os_version','../../helpers/test-observability/utils','50BjRgVV','WdYDk','1980402CDUEED','xrcrd','8qGsnBv','zduwk','client','env','siMgH','lJqmh','desiredCapabilities','setupBrowserDetails','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','AkCiJ','safari','connection.js','caps','_name','wsEndpoint','xmzBM','HruYn','firefox','capabilties','toString','cloudProvider','kIoUp','dCMHU','params','VefZL','entries','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','prototype','_browserType','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','stringify','yeiTM','eYQwz','Setting\x20session\x20id\x20received\x20from\x20BS\x20','msedge','Error\x20extracting\x20BrowserStack\x20parameters:\x20','QDtBu','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','../../helpers/logger','RQaeX','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','browserVersion','extractBrowserStackParams','DwJWt','wFSgL','debug','version','exBLN','triggerPlaywrightDispatchEvent','../v2/framework/automationFramework','SqFGg','lib','nYSZF','local_grid','winstonLogger','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','_bstackDispatchPatched','exports','7ZXFusT','FkHsG','getInstance','join','./constants','_defaultConnectOptions','automate','yYcIz','sessionId','path','sessionError','getTrackedInstance','Connection','UqPbp','yFEXo','capabilities','platform','edge','XJJMv','_bstackCRPatched','gecko','FslHN','hoHCm','dispatch','Successfully\x20patched\x20CRConnection._onMessage','chrome','jZvzs','994779gMHRMw','POST','dfmMq','toLowerCase','JXAbQ','wxvHT','47335WREMYh','qVVnM','browserName','patchConnection','getAutomationFramework','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','VaDRc','trackEvent','use','Tzhjn','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','LwHHO','2325367OtaCme','RjQmj','../../helpers/helper','lYLOE','zdELM','DaakU','OSasm','Error\x20parsing\x20WebSocket\x20endpoint:\x20','dRFiv','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','Ezfon','ipVRi','browserstack','apply','platform_version','SuoyS','connectOptions','project','BSTACK_ATS_URL','CRConnection','patchCRConnection','Error\x20in\x20finding\x20platform\x20details\x20','JelCr','bstack:options','297523wKiKBp','getDetails','zuYiJ','vTyUv','ATS_WSS_URL_REGEX','currentSessionDetails','PLAYWRIGHT_DISPATCH','platformDetails','bsParams','PnLhJ','oGJur','../../helpers/test-observability/error-handler','OzfJL','chromium','platformName','Session\x20details\x20setup\x20complete:\x20','unknown_grid',',\x20os=','rUbdx','mVNRJ','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','EEPRi','patch'];a60_0x5029=function(){return _0x4fb73b;};return a60_0x5029();}module[a60_0x41ba67(0x110)]=SharedPlaywrightSessionDetails;