const a60_0x443aaf=a60_0x5b24;function a60_0x16d1(){const _0x81d32a=['safari','exports','params','client','lib','40034xTlKZj','gecko','Device\x20Model\x20is\x20not\x20available','fromEntries','query','Not\x20able\x20to\x20import\x20crConnection','defineProperty','iqzgk','EbZQu','trackEvent','NJIMZ','UoSFA','Found\x20Connection\x20class\x20at:\x20','prototype','Error\x20in\x20finding\x20platform\x20details\x20','myyUd','browserVersion','firefox','extractBrowserStackParams','../../helpers/test-observability/utils','caps','getAutomationFramework','Session\x20details\x20setup\x20complete:\x20','UCriB','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','iEoIv','setupBrowserDetails','83034Bjawjq','bStackParams','KYaLj','chrome','crConnection.js','bstack:options','../v2/framework/automationFramework','../../helpers/logger','browser_version','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','9303204XwlxhM','Error\x20in\x20importing\x20connection\x20','wsEndpoint','browser','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','project','Failed\x20to\x20import\x20connection\x20from\x20','dbOfN','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','BSTACK_ATS_URL','sessionId','RIXeV','_bstackCRPatched','dispatch','1141270NjzLMx','RDezf','jOsTO','browserstack','winstonLogger','Error\x20extracting\x20BrowserStack\x20parameters:\x20','platformDetails','vRxVK','patchConnection','OgAPz','../../helpers/helper','epfzD','NMpKf','aTeny','ZyLKk','sessionError','cloudProvider','LKqYS','22WHbaLk','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','deviceModel','RJIll','OISsp','JtMCY','model','includes','triggerPlaywrightDispatchEvent','patchCRConnection','edge','playwright-','bLUBO','BROWSERSTACK_TEST_OBSERVABILITY','dGahj','gpQUa','platformVersion','bsSessionId','util','chromium','entries','froOX','os_version','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','apply','LNYqe','ecfOp','aqyxU','272WRnuZd','KjMKz','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','use','toLowerCase','5WRpGtU','43WMXsTF','wsjai','connectOptions','connection.js','nwfWb','YLAnX','IXYHY','_onMessage','capabilities','LtDRV','platform','browserName','_connection','msqfa','2068094XVtpOU','EGPJL','function','POST','NvmLT','rsxHH','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','GwpYg','osVersion','Successfully\x20patched\x20CRConnection._onMessage','accessibilityPlatform','unknown_grid','platform_version','EagoM','EirHw','BNTeS','_bstackDispatchPatched','MuxAj','ATS_WSS_URL_REGEX','Error\x20in\x20importing\x20crConnection','server','JEAXl','mkSSs','zoPWn','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','EoATK','lRsMi','channel','format','currentSessionDetails','getDetails','join','isRunning','SehIb','local_grid','url','HTKey','XLvfo','PLAYWRIGHT_DISPATCH','bsParams',',\x20os=','product','Error\x20in\x20applying\x20Connection\x20patch\x20','grmJb','zjtdh','gIzKO','env','CygAX','Connection','instance','187676EIxbLA','getInstance','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','_defaultConnectOptions','desiredCapabilities','jbWRh','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','HlyMT','715CizTEf','QaBLc','WVmnz','toString','msedge','__platformCaps','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','CRConnection','cYxQG','psucV','662988IteDoz','BPMiq','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','ukkEx','debug','path','3wzAZhT','browserstack_capabilities','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','../../helpers/test-observability/error-handler','platformName','oAqoS','YOwOr','CRConnection\x20already\x20patched','parse'];a60_0x16d1=function(){return _0x81d32a;};return a60_0x16d1();}(function(_0x2a5ea,_0x138240){const _0x4d95e5=a60_0x5b24,_0x25ec44=_0x2a5ea();while(!![]){try{const _0x41e391=parseInt(_0x4d95e5(0x1b2))/0x1*(-parseInt(_0x4d95e5(0x218))/0x2)+-parseInt(_0x4d95e5(0x20a))/0x3*(-parseInt(_0x4d95e5(0x1f2))/0x4)+parseInt(_0x4d95e5(0x1b1))/0x5*(-parseInt(_0x4d95e5(0x170))/0x6)+parseInt(_0x4d95e5(0x1c0))/0x7+-parseInt(_0x4d95e5(0x1ac))/0x8*(parseInt(_0x4d95e5(0x233))/0x9)+parseInt(_0x4d95e5(0x17e))/0xa*(parseInt(_0x4d95e5(0x190))/0xb)+parseInt(_0x4d95e5(0x204))/0xc*(parseInt(_0x4d95e5(0x1fa))/0xd);if(_0x41e391===_0x138240)break;else _0x25ec44['push'](_0x25ec44['shift']());}catch(_0x2d85be){_0x25ec44['push'](_0x25ec44['shift']());}}}(a60_0x16d1,0xd7e89));const path=require(a60_0x443aaf(0x209)),url=require(a60_0x443aaf(0x1e3)),util=require(a60_0x443aaf(0x1a2)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x443aaf(0x188)),{o11yErrorHandler}=require(a60_0x443aaf(0x20d)),{debug,getPlatformDetails}=require(a60_0x443aaf(0x22b)),logger=require(a60_0x443aaf(0x16d))[a60_0x443aaf(0x182)],constants=require('./constants'),AutomationFramework=require(a60_0x443aaf(0x239)),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require('../v2/state/automationFrameworkState.js'),HookState=require('../v2/state/hookState.js'),{platform}=require('os'),getBrowserNameFromChannel=_0x56c317=>{const _0x562eb4=a60_0x443aaf,_0x20d91d={};_0x20d91d[_0x562eb4(0x223)]=_0x562eb4(0x236),_0x20d91d['psucV']=_0x562eb4(0x19a),_0x20d91d['ecfOp']=_0x562eb4(0x229),_0x20d91d['KjMKz']=_0x562eb4(0x213);const _0x795783=_0x20d91d;if(_0x56c317[_0x562eb4(0x197)](_0x795783[_0x562eb4(0x223)]))return _0x795783[_0x562eb4(0x223)];if(_0x56c317[_0x562eb4(0x197)](_0x795783[_0x562eb4(0x203)]))return _0x795783['psucV'];if(_0x56c317[_0x562eb4(0x197)](_0x795783[_0x562eb4(0x1aa)]))return _0x795783['ecfOp'];if(_0x56c317[_0x562eb4(0x197)](_0x795783[_0x562eb4(0x1ad)]))return _0x795783[_0x562eb4(0x1ad)];},getBrowserFromWSEndpoint=_0x319156=>{const _0x65f09d=a60_0x443aaf,_0x284273={'myyUd':_0x65f09d(0x238),'fNMQr':function(_0x2ccf0e,_0x1e770f){return _0x2ccf0e(_0x1e770f);},'dlGwD':function(_0x5c34c8,_0x13db2d){return _0x5c34c8(_0x13db2d);},'NJIMZ':_0x65f09d(0x19a),'grmJb':_0x65f09d(0x1fe),'HlyMT':_0x65f09d(0x229),'OgAPz':_0x65f09d(0x219),'msqfa':_0x65f09d(0x213),'CygAX':'webkit','dGahj':_0x65f09d(0x236),'LtDRV':function(_0x585b97,_0x25961a){return _0x585b97(_0x25961a);}};try{const _0x4fa588=url[_0x65f09d(0x212)](_0x319156),_0x49b953=new URLSearchParams(_0x4fa588['query']),_0x59e6f0=Object[_0x65f09d(0x21b)](_0x49b953[_0x65f09d(0x1a4)]()),_0x42e534=[_0x59e6f0[_0x65f09d(0x22c)],_0x59e6f0[_0x65f09d(0x1ba)],_0x59e6f0['desiredCapabilities'],_0x59e6f0[_0x65f09d(0x20b)]];for(const _0x447b06 of _0x42e534){if(_0x447b06)try{const _0x5a0b13=JSON[_0x65f09d(0x212)](_0x447b06),_0xf1a471=_0x5a0b13[_0x65f09d(0x1bd)]||_0x5a0b13[_0x65f09d(0x173)]||_0x5a0b13[_0x284273[_0x65f09d(0x227)]]?.[_0x65f09d(0x1bd)];if(_0xf1a471)return _0x284273['fNMQr'](debug,'Browser\x20found\x20in\x20WebSocket\x20caps:\x20'+_0xf1a471),_0xf1a471[_0x65f09d(0x1b0)]();}catch(_0x1bf62a){_0x284273['dlGwD'](debug,_0x65f09d(0x206)+_0x1bf62a['message']);}}if(_0x319156['includes'](_0x284273['NJIMZ'])||_0x319156[_0x65f09d(0x197)](_0x284273[_0x65f09d(0x1eb)]))return _0x284273[_0x65f09d(0x222)];if(_0x319156[_0x65f09d(0x197)](_0x284273[_0x65f09d(0x1f9)])||_0x319156['includes'](_0x284273[_0x65f09d(0x187)]))return _0x284273[_0x65f09d(0x1f9)];if(_0x319156[_0x65f09d(0x197)](_0x284273[_0x65f09d(0x1bf)])||_0x319156[_0x65f09d(0x197)](_0x284273[_0x65f09d(0x1ef)]))return _0x284273[_0x65f09d(0x1bf)];return _0x284273[_0x65f09d(0x19e)];}catch(_0x54b550){return _0x284273[_0x65f09d(0x1bb)](debug,_0x65f09d(0x174)+_0x54b550[_0x65f09d(0x1fd)]()),_0x284273[_0x65f09d(0x19e)];}},getCloudProviderFromWsEndpoint=_0x289365=>{const _0x550c26=a60_0x443aaf,_0x293f34={};_0x293f34[_0x550c26(0x18a)]='browserstack',_0x293f34[_0x550c26(0x1d9)]=_0x550c26(0x1cb);const _0x3fecc0=_0x293f34;if(_0x289365['includes'](constants['BSTACK_URL'])||_0x289365['includes'](constants[_0x550c26(0x179)]))return _0x3fecc0['NMpKf'];return _0x3fecc0[_0x550c26(0x1d9)];},a60_0x1355cf={};a60_0x1355cf[a60_0x443aaf(0x18e)]=undefined,a60_0x1355cf[a60_0x443aaf(0x1a1)]=undefined,a60_0x1355cf[a60_0x443aaf(0x173)]=undefined,a60_0x1355cf[a60_0x443aaf(0x16e)]=undefined,a60_0x1355cf[a60_0x443aaf(0x1bc)]=undefined,a60_0x1355cf[a60_0x443aaf(0x1cc)]=undefined,a60_0x1355cf[a60_0x443aaf(0x1e9)]=undefined,a60_0x1355cf[a60_0x443aaf(0x1ba)]={};function a60_0x5b24(_0x1d0b2e,_0x2ab082){const _0x16d1ca=a60_0x16d1();return a60_0x5b24=function(_0x5b246b,_0x3b1680){_0x5b246b=_0x5b246b-0x16d;let _0x2d1d33=_0x16d1ca[_0x5b246b];return _0x2d1d33;},a60_0x5b24(_0x1d0b2e,_0x2ab082);}class SharedPlaywrightSessionDetails{static [a60_0x443aaf(0x1dd)]=a60_0x1355cf;constructor(){const _0x159044=a60_0x443aaf,_0xa4fd01={};_0xa4fd01[_0x159044(0x18c)]=_0x159044(0x1f8);const _0x3998ff=_0xa4fd01;throw new Error(_0x3998ff[_0x159044(0x18c)]);}static ['sessionError']=null;static[a60_0x443aaf(0x232)](_0x3526d2,_0x300948,_0x5d1362=null){const _0x160e11=a60_0x443aaf,_0x61973f={'jOsTO':function(_0x74a016,_0x19da6c){return _0x74a016===_0x19da6c;},'GwpYg':_0x160e11(0x1c2),'bLUBO':'Browser\x20is\x20not\x20defined\x20or\x20not\x20available','UCriB':_0x160e11(0x21a),'rsxHH':_0x160e11(0x1e2),'PwXGy':function(_0x6e32eb,_0xd02715,_0x2b35b6){return _0x6e32eb(_0xd02715,_0x2b35b6);},'iEoIv':'_browserType','mImyx':_0x160e11(0x1f5),'APjBR':function(_0x5adcdc,_0x2132f8,_0x3defc9){return _0x5adcdc(_0x2132f8,_0x3defc9);},'WVmnz':_0x160e11(0x175),'RDezf':_0x160e11(0x1af),'YOwOr':_0x160e11(0x1b4),'RIXeV':function(_0x4a69bb,_0x4e255e){return _0x4a69bb(_0x4e255e);},'gIzKO':function(_0x13d92a,_0x38d4ab){return _0x13d92a===_0x38d4ab;},'MuxAj':_0x160e11(0x181),'iqzgk':'turboscale','dbOfN':'automate','jbWRh':_0x160e11(0x1a3),'vRxVK':function(_0x20b03b,_0x56dd31){return _0x20b03b(_0x56dd31);},'aqyxU':function(_0x5ef018,_0x56e2e2){return _0x5ef018+_0x56e2e2;},'KTSfe':_0x160e11(0x19b),'gpQUa':function(_0x3e26e8){return _0x3e26e8();},'OeotZ':function(_0x1ec939,_0x3a60dd,_0x568197){return _0x1ec939(_0x3a60dd,_0x568197);},'KYaLj':'setupBrowserDetails'},_0x2fc649=this;return _0x61973f['OeotZ'](o11yErrorHandler,async function _0x543d84(_0x87b9ce,_0x864006,_0x305d4c=null){const _0x2b360f=_0x160e11;let _0x59b80d=_0x87b9ce['_name'],_0x496187=null;_0x87b9ce&&_0x61973f['jOsTO'](typeof _0x87b9ce['version'],_0x61973f[_0x2b360f(0x1c7)])?_0x496187=_0x87b9ce['version']():logger[_0x2b360f(0x208)](_0x61973f[_0x2b360f(0x19c)]);let _0x2a2f3a=null;_0x87b9ce&&_0x61973f[_0x2b360f(0x180)](typeof _0x87b9ce[_0x2b360f(0x196)],_0x61973f[_0x2b360f(0x1c7)])?_0x2a2f3a=_0x87b9ce[_0x2b360f(0x196)]():logger['debug'](_0x61973f[_0x2b360f(0x22f)]);let _0x3d43ee=null,_0x349b25=null,_0x35ad06=null,_0x1adbb8=_0x61973f[_0x2b360f(0x1c5)];if(_0x87b9ce[_0x2b360f(0x1be)]['isRemote']()||global[_0x2b360f(0x1ca)]){let _0x594a0b=null;_0x61973f['PwXGy'](nestedKeyValue,_0x87b9ce,[_0x61973f[_0x2b360f(0x231)],_0x61973f['mImyx']])?_0x594a0b=_0x87b9ce['_browserType'][_0x2b360f(0x1f5)]:_0x594a0b=_0x61973f['APjBR'](nestedKeyValue,_0x864006,[_0x61973f[_0x2b360f(0x1fc)],_0x61973f[_0x2b360f(0x17f)],_0x61973f[_0x2b360f(0x210)]]);const _0x1c4ca3=_0x305d4c||_0x594a0b&&_0x594a0b[_0x2b360f(0x172)];if(_0x1c4ca3){_0x1adbb8=_0x61973f[_0x2b360f(0x17b)](getCloudProviderFromWsEndpoint,_0x1c4ca3);if(_0x61973f[_0x2b360f(0x1ed)](_0x1adbb8,_0x61973f[_0x2b360f(0x1d1)])){_0x35ad06=constants[_0x2b360f(0x1d2)]['test'](_0x1c4ca3)?_0x61973f[_0x2b360f(0x21f)]:_0x61973f[_0x2b360f(0x177)];const _0x28cccb=_0x61973f[_0x2b360f(0x17b)](getBrowserFromWSEndpoint,_0x1c4ca3);if(_0x28cccb&&(!_0x59b80d||_0x61973f[_0x2b360f(0x180)](_0x59b80d,_0x61973f[_0x2b360f(0x1f7)])))_0x59b80d=_0x28cccb,logger['debug'](_0x2b360f(0x16f)+_0x59b80d);else _0x59b80d&&logger[_0x2b360f(0x208)](_0x2b360f(0x1ae)+_0x59b80d);_0x3d43ee=_0x2fc649[_0x2b360f(0x1dd)]['platform'],_0x349b25=_0x2fc649[_0x2b360f(0x1dd)][_0x2b360f(0x1cc)];}}}else{_0x864006&&_0x864006[_0x2b360f(0x175)]&&_0x864006[_0x2b360f(0x175)][_0x2b360f(0x1af)]&&_0x864006[_0x2b360f(0x175)][_0x2b360f(0x1af)][_0x2b360f(0x1db)]?_0x59b80d=_0x61973f[_0x2b360f(0x185)](getBrowserNameFromChannel,_0x864006['project']['use']['channel']):_0x59b80d=_0x61973f[_0x2b360f(0x1ab)](_0x61973f['KTSfe'],_0x59b80d[_0x2b360f(0x1b0)]());const _0x37385d=await _0x61973f[_0x2b360f(0x19f)](getPlatformDetails);_0x3d43ee=_0x37385d['platformName'],_0x349b25=_0x37385d[_0x2b360f(0x1a0)];}const _0xceca39={};_0xceca39[_0x2b360f(0x173)]=_0x59b80d,_0xceca39[_0x2b360f(0x16e)]=_0x496187,_0xceca39[_0x2b360f(0x1ba)]={},_0xceca39[_0x2b360f(0x1bc)]=_0x3d43ee,_0xceca39[_0x2b360f(0x1cc)]=_0x349b25,_0xceca39[_0x2b360f(0x1e9)]=_0x35ad06;const _0x5c22c1=_0xceca39;_0x2a2f3a&&(_0x5c22c1[_0x2b360f(0x1ba)][_0x2b360f(0x192)]=_0x2a2f3a);const _0x153804={};_0x153804[_0x2b360f(0x18e)]=_0x1adbb8,_0x2fc649[_0x2b360f(0x1dd)]=Object['assign']({},_0x2fc649[_0x2b360f(0x1dd)],_0x153804,_0x5c22c1);const _0x8752a6={};_0x8752a6[_0x2b360f(0x173)]=_0x2fc649[_0x2b360f(0x1dd)][_0x2b360f(0x173)],_0x8752a6[_0x2b360f(0x228)]=_0x2fc649['currentSessionDetails']['browser_version'],_0x8752a6[_0x2b360f(0x1bc)]=_0x2fc649[_0x2b360f(0x1dd)][_0x2b360f(0x1bc)],_0x8752a6['platformVersion']=_0x2fc649[_0x2b360f(0x1dd)][_0x2b360f(0x1cc)],_0x8752a6['cloudProvider']=_0x2fc649['currentSessionDetails'][_0x2b360f(0x18e)],_0x8752a6[_0x2b360f(0x1e9)]=_0x2fc649[_0x2b360f(0x1dd)][_0x2b360f(0x1e9)],logger[_0x2b360f(0x208)](_0x2b360f(0x22e)+JSON['stringify'](_0x8752a6));},_0x61973f[_0x160e11(0x235)])(_0x3526d2,_0x300948,_0x5d1362);}static['patch'](){const _0x37fedc=a60_0x443aaf;this[_0x37fedc(0x186)](),this[_0x37fedc(0x199)]();}static['patchConnection'](){const _0x196594=a60_0x443aaf,_0x310b07={'aTeny':function(_0x153959,_0x1820b3){return _0x153959(_0x1820b3);},'HTKey':function(_0x3d9f13,_0x569b2e){return _0x3d9f13(_0x569b2e);},'EirHw':_0x196594(0x217),'froOX':_0x196594(0x216),'QaBLc':_0x196594(0x1b5),'EbZQu':function(_0x166308,_0x1307fc){return _0x166308(_0x1307fc);},'NCxfS':_0x196594(0x191),'KsEMs':function(_0x1da837,_0x80f333){return _0x1da837(_0x80f333);},'BPMiq':function(_0x5c3ad8,_0x5714fd){return _0x5c3ad8!=_0x5714fd;},'SehIb':function(_0x18c8d0,_0x446a6b){return _0x18c8d0(_0x446a6b);},'cYxQG':'Connection\x20dispatch\x20already\x20patched','lRsMi':_0x196594(0x17d),'jvrTD':'Successfully\x20patched\x20Connection.dispatch','EGPJL':function(_0x2b1869,_0x29c6c3){return _0x2b1869(_0x29c6c3);}},_0x1d02f8=this;if(!this['Connection'])try{const _0x59cfe9=[path['join'](_0x310b07[_0x196594(0x1ce)],_0x310b07[_0x196594(0x1a5)],_0x310b07[_0x196594(0x1fb)]),path[_0x196594(0x1df)](_0x310b07[_0x196594(0x1ce)],_0x310b07[_0x196594(0x1fb)]),path[_0x196594(0x1df)](_0x310b07[_0x196594(0x1a5)],_0x310b07[_0x196594(0x1fb)])];for(const _0x4fb1e2 of _0x59cfe9){try{const _0x3c2942=_0x310b07[_0x196594(0x18b)](importFileFromPWCore,_0x4fb1e2);if(_0x3c2942&&_0x3c2942[_0x196594(0x1f0)]){this[_0x196594(0x1f0)]=_0x3c2942['Connection'],logger[_0x196594(0x208)](_0x196594(0x224)+_0x4fb1e2);break;}}catch(_0x31ac5b){_0x310b07[_0x196594(0x220)](debug,_0x196594(0x176)+_0x4fb1e2+':\x20'+_0x31ac5b[_0x196594(0x1fd)]());}}if(!this['Connection']){_0x310b07[_0x196594(0x1e4)](debug,_0x310b07['NCxfS']);return;}}catch(_0x466d9f){_0x310b07['KsEMs'](debug,_0x196594(0x171)+_0x466d9f[_0x196594(0x1fd)]());return;}const _0x38e9f6=this[_0x196594(0x1f0)];try{if(_0x310b07[_0x196594(0x205)](_0x38e9f6,null)){const _0x5559a7=_0x38e9f6[_0x196594(0x225)][_0x196594(0x17d)];if(!_0x310b07[_0x196594(0x1e1)](isFalse,process[_0x196594(0x1ee)][_0x196594(0x19d)])){if(_0x38e9f6[_0x196594(0x225)]['_bstackDispatchPatched']){logger[_0x196594(0x208)](_0x310b07[_0x196594(0x202)]);return;}Object['defineProperty'](_0x38e9f6[_0x196594(0x225)],_0x310b07[_0x196594(0x1da)],{'get':function(){return async function _0x1a2105(_0x1db151){const _0x1567b3=a60_0x5b24;if(BrowserstackCLI[_0x1567b3(0x1f3)]()[_0x1567b3(0x1e0)]()){const _0x2c943c={};_0x2c943c['message']=_0x1db151,await BrowserstackCLI[_0x1567b3(0x1f3)]()[_0x1567b3(0x22d)]()[_0x1567b3(0x221)](AutomationFrameworkState[_0x1567b3(0x1e6)],HookState[_0x1567b3(0x1c3)],_0x2c943c);}else{const _0x120741=_0x1db151&&_0x1db151[_0x1567b3(0x215)]&&_0x1db151[_0x1567b3(0x215)][_0x1567b3(0x1e7)];if(_0x120741){const _0x351750=_0x120741[_0x1567b3(0x17a)],_0x594cb6=_0x120741[_0x1567b3(0x184)];_0x594cb6&&(_0x310b07[_0x1567b3(0x18b)](debug,_0x1567b3(0x20c)+_0x594cb6[_0x1567b3(0x1fd)]()),_0x1d02f8[_0x1567b3(0x1dd)][_0x1567b3(0x1bc)]=_0x594cb6[_0x1567b3(0x20e)],_0x1d02f8['currentSessionDetails'][_0x1567b3(0x1cc)]=_0x594cb6['platformVersion']),_0x351750&&(_0x310b07['HTKey'](debug,'Setting\x20session\x20id\x20received\x20from\x20BS\x20'+_0x351750),_0x1d02f8['currentSessionDetails'][_0x1567b3(0x1a1)]=_0x351750);}}return _0x5559a7[_0x1567b3(0x1a8)](this,arguments);};}}),_0x38e9f6[_0x196594(0x225)][_0x196594(0x1d0)]=!![],logger[_0x196594(0x208)](_0x310b07['jvrTD']);}}}catch(_0x1711d4){_0x310b07[_0x196594(0x1c1)](debug,_0x196594(0x1ea)+_0x1711d4),_0x1d02f8[_0x196594(0x18d)]=_0x1711d4[_0x196594(0x1fd)]();}}static[a60_0x443aaf(0x199)](){const _0x1ff6b2=a60_0x443aaf,_0x519e3a={'JEAXl':function(_0x793617,_0x1f0ad7){return _0x793617(_0x1f0ad7);},'RJIll':'lib','IxjLK':_0x1ff6b2(0x1d4),'zjtdh':_0x1ff6b2(0x1a3),'EagoM':_0x1ff6b2(0x237),'BNTeS':function(_0x2991e8,_0x4caa78){return _0x2991e8(_0x4caa78);},'iGpeO':_0x1ff6b2(0x21d),'NvmLT':function(_0x3f0416,_0x3c2379){return _0x3f0416(_0x3c2379);},'nwfWb':_0x1ff6b2(0x1d3),'YLAnX':function(_0x4835a4,_0x2d1fb2){return _0x4835a4!=_0x2d1fb2;},'wsjai':_0x1ff6b2(0x211),'LKqYS':_0x1ff6b2(0x1b9),'OISsp':_0x1ff6b2(0x1c9),'epfzD':function(_0x431de5,_0x39bc88){return _0x431de5(_0x39bc88);}},_0x5d60e4=this;let _0x1048ec=null;try{const _0x6bf3a1=path[_0x1ff6b2(0x1df)](_0x519e3a[_0x1ff6b2(0x193)],_0x519e3a['IxjLK'],_0x519e3a[_0x1ff6b2(0x1ec)],_0x519e3a[_0x1ff6b2(0x1cd)]),_0x291508=_0x519e3a['JEAXl'](importFileFromPWCore,_0x6bf3a1);!_0x291508?_0x519e3a[_0x1ff6b2(0x1cf)](debug,_0x519e3a['iGpeO']):_0x1048ec=_0x291508[_0x1ff6b2(0x201)];}catch(_0x3d8b08){_0x519e3a[_0x1ff6b2(0x1c4)](debug,_0x519e3a[_0x1ff6b2(0x1b6)]);}try{if(_0x519e3a[_0x1ff6b2(0x1b7)](_0x1048ec,null)){const _0x1d6940=_0x1048ec[_0x1ff6b2(0x225)][_0x1ff6b2(0x1b9)];if(_0x1048ec['prototype'][_0x1ff6b2(0x17c)]){logger[_0x1ff6b2(0x208)](_0x519e3a[_0x1ff6b2(0x1b3)]);return;}Object[_0x1ff6b2(0x21e)](_0x1048ec[_0x1ff6b2(0x225)],_0x519e3a[_0x1ff6b2(0x18f)],{'get':function(){const _0xa31ea5={'JtMCY':function(_0x2b431e,_0x4de3fc){const _0x6c0c6a=a60_0x5b24;return _0x519e3a[_0x6c0c6a(0x1d5)](_0x2b431e,_0x4de3fc);}};return async function _0x338bf9(_0x50329b){const _0x4da3ba=a60_0x5b24;try{if(BrowserstackCLI[_0x4da3ba(0x1f3)]()['isRunning']()){const _0x16375f={};_0x16375f['message']=_0x50329b,await BrowserstackCLI[_0x4da3ba(0x1f3)]()['getAutomationFramework']()[_0x4da3ba(0x221)](AutomationFrameworkState[_0x4da3ba(0x1e6)],HookState[_0x4da3ba(0x1c3)],_0x16375f),delete _0x50329b[_0x4da3ba(0x234)];}else{const _0x4937cf=_0x50329b[_0x4da3ba(0x234)];if(_0x4937cf){delete _0x50329b['bStackParams'];const _0x3725bd=_0x4937cf['sessionId'],_0x5bf3b8=_0x4937cf['platformDetails'];_0x5bf3b8&&(_0xa31ea5[_0x4da3ba(0x195)](debug,_0x4da3ba(0x1a7)+_0x5bf3b8[_0x4da3ba(0x1fd)]()),_0x5d60e4['currentSessionDetails'][_0x4da3ba(0x1bc)]=_0x5bf3b8[_0x4da3ba(0x20e)],_0x5d60e4[_0x4da3ba(0x1dd)]['platform_version']=_0x5bf3b8[_0x4da3ba(0x1a0)]),_0x3725bd&&(_0xa31ea5[_0x4da3ba(0x195)](debug,_0x4da3ba(0x230)+_0x3725bd),_0x5d60e4[_0x4da3ba(0x1dd)][_0x4da3ba(0x1a1)]=_0x3725bd);}}}catch(_0x46632c){_0xa31ea5['JtMCY'](debug,_0x4da3ba(0x226)+_0x46632c[_0x4da3ba(0x1fd)]());}return _0x1d6940[_0x4da3ba(0x1a8)](this,arguments);};}}),_0x1048ec[_0x1ff6b2(0x225)]['_bstackCRPatched']=!![],logger[_0x1ff6b2(0x208)](_0x519e3a[_0x1ff6b2(0x194)]);}}catch(_0xa0db2d){_0x519e3a[_0x1ff6b2(0x189)](debug,_0x1ff6b2(0x1f4)+_0xa0db2d),_0x5d60e4[_0x1ff6b2(0x18d)]=_0xa0db2d['toString']();}}static[a60_0x443aaf(0x22a)](_0x260b2d,_0x4b2293){const _0x579c3b=a60_0x443aaf,_0x132939={'XLvfo':_0x579c3b(0x238),'IXYHY':function(_0x2ae1cb,_0x56d58e){return _0x2ae1cb||_0x56d58e;},'JJrfM':function(_0x4a96e4,_0x1ca15b){return _0x4a96e4===_0x1ca15b;},'ukkEx':'string','zoPWn':_0x579c3b(0x200),'ovOXL':function(_0x2f1e06,_0x9c7980){return _0x2f1e06(_0x9c7980);},'LNYqe':function(_0x472386,_0x4e7717){return _0x472386(_0x4e7717);}};let _0x1308d8=null,_0x5eca3f=null;try{const _0x3d2a6b=[_0x4b2293,global[_0x579c3b(0x1ff)],global['capabilties']];for(const _0x9fd06b of _0x3d2a6b){if(_0x9fd06b&&(!_0x5eca3f||!_0x5eca3f[_0x579c3b(0x17a)])){const _0x4444f9=_0x9fd06b[_0x579c3b(0x17a)]||_0x9fd06b[_0x132939['XLvfo']]?.['sessionId'],_0x583cc6=_0x9fd06b['browserName']||_0x9fd06b[_0x579c3b(0x173)]||_0x9fd06b[_0x132939[_0x579c3b(0x1e5)]]?.[_0x579c3b(0x1bd)],_0x5e8e97=_0x9fd06b[_0x579c3b(0x228)]||_0x9fd06b[_0x579c3b(0x16e)]||_0x9fd06b[_0x132939[_0x579c3b(0x1e5)]]?.[_0x579c3b(0x228)],_0x17c8a4=_0x9fd06b['os']||_0x9fd06b[_0x579c3b(0x1bc)]||_0x9fd06b[_0x132939[_0x579c3b(0x1e5)]]?.['os'],_0x432885=_0x9fd06b[_0x579c3b(0x1c8)]||_0x9fd06b[_0x579c3b(0x1a6)]||_0x9fd06b[_0x132939['XLvfo']]?.[_0x579c3b(0x1c8)];if(_0x132939[_0x579c3b(0x1b8)](_0x4444f9,_0x583cc6)||_0x17c8a4){const _0x1f1ef4={};_0x1f1ef4['browserName']=_0x583cc6,_0x1f1ef4[_0x579c3b(0x228)]=_0x5e8e97,_0x1f1ef4['os']=_0x17c8a4,_0x1f1ef4[_0x579c3b(0x1c8)]=_0x432885,_0x1f1ef4[_0x579c3b(0x20e)]=_0x9fd06b[_0x579c3b(0x20e)]||_0x17c8a4,_0x1f1ef4['platformVersion']=_0x9fd06b[_0x579c3b(0x1a0)]||_0x432885;const _0x44553c={};_0x44553c['sessionId']=_0x4444f9,_0x44553c[_0x579c3b(0x184)]=_0x1f1ef4,_0x5eca3f=_0x44553c;if(_0x132939['IXYHY'](_0x4444f9,_0x583cc6)){logger[_0x579c3b(0x208)](_0x579c3b(0x1c6)+_0x583cc6+_0x579c3b(0x1e8)+_0x17c8a4);break;}}}}if(_0x260b2d&&_0x132939['JJrfM'](typeof _0x260b2d,_0x132939[_0x579c3b(0x207)]))try{const _0x526cec=url['parse'](_0x260b2d),_0x30fdf7=new URLSearchParams(_0x526cec[_0x579c3b(0x21c)]),_0x193c20=Object[_0x579c3b(0x21b)](_0x30fdf7[_0x579c3b(0x1a4)]()),_0x572477=[_0x193c20[_0x579c3b(0x22c)],_0x193c20['capabilities'],_0x193c20[_0x579c3b(0x1f6)]];for(const _0x4a4644 of _0x572477){if(_0x4a4644&&(!_0x1308d8||!_0x1308d8[_0x579c3b(0x17a)]))try{const _0x37d3ce=JSON[_0x579c3b(0x212)](_0x4a4644),_0x27b397={};_0x27b397[_0x579c3b(0x17a)]=_0x37d3ce[_0x579c3b(0x17a)]||_0x37d3ce[_0x132939[_0x579c3b(0x1e5)]]?.[_0x579c3b(0x17a)],_0x27b397[_0x579c3b(0x184)]={},_0x27b397[_0x579c3b(0x184)][_0x579c3b(0x1bd)]=_0x37d3ce[_0x579c3b(0x1bd)]||_0x37d3ce[_0x579c3b(0x173)],_0x27b397[_0x579c3b(0x184)][_0x579c3b(0x228)]=_0x37d3ce[_0x579c3b(0x228)]||_0x37d3ce[_0x579c3b(0x16e)],_0x27b397[_0x579c3b(0x184)]['os']=_0x37d3ce['os']||_0x37d3ce[_0x579c3b(0x1bc)],_0x27b397[_0x579c3b(0x184)][_0x579c3b(0x1c8)]=_0x37d3ce[_0x579c3b(0x1c8)]||_0x37d3ce[_0x579c3b(0x1a6)],_0x27b397[_0x579c3b(0x184)]['platformName']=_0x37d3ce[_0x579c3b(0x20e)]||_0x37d3ce['os']||_0x37d3ce['platform'],_0x27b397[_0x579c3b(0x184)][_0x579c3b(0x1a0)]=_0x37d3ce[_0x579c3b(0x1a0)]||_0x37d3ce[_0x579c3b(0x1c8)]||_0x37d3ce[_0x579c3b(0x1a6)],_0x1308d8=_0x27b397;if(_0x1308d8[_0x579c3b(0x17a)]||_0x1308d8[_0x579c3b(0x184)]['browserName']){logger['debug'](_0x132939[_0x579c3b(0x1d7)]);break;}}catch(_0x50f2ee){_0x132939['ovOXL'](debug,_0x579c3b(0x1d8)+_0x50f2ee[_0x579c3b(0x1fd)]());}}}catch(_0x1c1bd3){_0x132939['LNYqe'](debug,'Error\x20parsing\x20WebSocket\x20endpoint:\x20'+_0x1c1bd3[_0x579c3b(0x1fd)]());}}catch(_0x1876bf){_0x132939[_0x579c3b(0x1a9)](debug,_0x579c3b(0x183)+util[_0x579c3b(0x1dc)](_0x1876bf));}const _0x55f6b8={};return _0x55f6b8['bsParams']=_0x1308d8,_0x55f6b8['bStackParams']=_0x5eca3f,_0x55f6b8;}static async[a60_0x443aaf(0x198)](_0xd0e381,_0x1ca251){const _0x53b784=a60_0x443aaf,_0x3adee4={'mkSSs':function(_0x4c8835,_0x115ab9){return _0x4c8835||_0x115ab9;},'oAqoS':_0x53b784(0x178),'ncqTN':function(_0x4b1136,_0x34df9c){return _0x4b1136||_0x34df9c;},'bQQtK':function(_0x1d3268,_0x46f62c){return _0x1d3268(_0x46f62c);}};try{if(!BrowserstackCLI[_0x53b784(0x1f3)]()[_0x53b784(0x1e0)]())return;if(_0x3adee4[_0x53b784(0x1d6)](_0xd0e381,_0x1ca251)){logger[_0x53b784(0x208)](_0x3adee4[_0x53b784(0x20f)]);const _0x293cb3={'params':_0xd0e381?{'bsParams':_0xd0e381}:null,'bStackParams':_0x3adee4['ncqTN'](_0x1ca251,null)},_0x5af4dc=AutomationFramework['getTrackedInstance'](),_0x539dac={};_0x539dac['message']=_0x293cb3,_0x539dac[_0x53b784(0x1f1)]=_0x5af4dc,await BrowserstackCLI[_0x53b784(0x1f3)]()['getAutomationFramework']()[_0x53b784(0x221)](AutomationFrameworkState[_0x53b784(0x1e6)],HookState[_0x53b784(0x1c3)],_0x539dac);}}catch(_0xc34e96){_0x3adee4['bQQtK'](debug,'Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20'+util[_0x53b784(0x1dc)](_0xc34e96));}}static[a60_0x443aaf(0x1de)](){const _0x56ec71=a60_0x443aaf;return this[_0x56ec71(0x1dd)];}}module[a60_0x443aaf(0x214)]=SharedPlaywrightSessionDetails;