const a60_0x32fb0d=a60_0x4feb;function a60_0x20ab(){const _0x5ee905=['fTvGQ','browser_version','winstonLogger','FLTGC','getTrackedInstance','deviceModel','chromium','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','unknown_grid','entries','connection.js','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','patchConnection','debug','Session\x20details\x20setup\x20complete:\x20','BROWSERSTACK_TEST_OBSERVABILITY','677972PBBNJW','capabilities','QLXze','Error\x20in\x20applying\x20Connection\x20patch\x20','channel','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','363000pbzfNm','ikFoA','meggB','playwright-','UKxag','niWlZ','onpFD','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','__platformCaps','prototype','_defaultConnectOptions','OLZgy','firefox','BLpke','TrUBp','../../helpers/logger','string','browserVersion','Connection\x20dispatch\x20already\x20patched','util','uNhiv','QvoAp','Found\x20Connection\x20class\x20at:\x20','../v2/browserstackCLI','bTpfG','function','fBklj','accessibilityPlatform','RCRwc','lCBTU','wXNus','url','Zknsw','chrome','patchCRConnection','CVvVR','iHGhp','hDnsS','toLowerCase','Error\x20in\x20finding\x20platform\x20details\x20','EOgxy','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','caps','SGpix','rVCoV','parse','product','join','bsSessionId','aVBEf','Error\x20parsing\x20WebSocket\x20endpoint:\x20','msedge','getDetails','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','ZjCdl','chjCn','trackEvent','fwBsF','EUkDk','Device\x20Model\x20is\x20not\x20available','bsParams','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','Setting\x20session\x20id\x20received\x20from\x20BS\x20','edge','platformName','message','env','zSHqB','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','crConnection.js','Failed\x20to\x20import\x20connection\x20from\x20','EmlRn','local_grid','instance','sQhIS','10661049upesHY','DCLrp','Error\x20in\x20importing\x20connection\x20','SBdXo','rFnwp','jPDFk',',\x20os=','BSTACK_ATS_URL','drVKl','desiredCapabilities','automate','_onMessage','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','shSwD','PLAYWRIGHT_DISPATCH','browserstack','server','browserName','osVersion','VZhVA','jiVDS','bStackParams','platform_version','fILJq','LLsyJ','patch','query','qQfpP','ATS_WSS_URL_REGEX','../../helpers/helper','lbppI','cloudProvider','477087qTRRFy','currentSessionDetails','EBUxJ','ZYJzc','model','assign','sessionError','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','RCwMV','isRemote','project','getInstance','SqRoh','BNpdH','version','bstack:options','BSTACK_URL','isRunning','dAfIA','faVpN','exports','oGWfw','dispatch','CRConnection\x20already\x20patched','apply','fromEntries','gecko','_connection','VUROL','_bstackCRPatched','includes','kAYfH','Iblvd','params','jEvRm','webkit','Connection','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','platform','yYkVM','941772oynIuK','getAutomationFramework','connectOptions','POST','Not\x20able\x20to\x20import\x20crConnection','Successfully\x20patched\x20Connection.dispatch','CRConnection','format','LcHzG','platformDetails','sLPSa','../v2/state/hookState.js','setupBrowserDetails','654295OUCtbt','browser','triggerPlaywrightDispatchEvent','1476366budHXk','../v2/framework/automationFramework','turboscale','SOvry','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','mZgcS','QNWRr','JoeGo','oYNWt','os_version','test','Error\x20extracting\x20BrowserStack\x20parameters:\x20','nNPBR','use','client','_browserType','safari','platformVersion','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','sessionId','_name','defineProperty','_bstackDispatchPatched','toString'];a60_0x20ab=function(){return _0x5ee905;};return a60_0x20ab();}(function(_0x237f52,_0x3f55ed){const _0x130b80=a60_0x4feb,_0x370ac3=_0x237f52();while(!![]){try{const _0x14d5a4=-parseInt(_0x130b80(0x139))/0x1+-parseInt(_0x130b80(0x171))/0x2+parseInt(_0x130b80(0xce))/0x3+parseInt(_0x130b80(0xc8))/0x4+parseInt(_0x130b80(0x16e))/0x5+-parseInt(_0x130b80(0x161))/0x6+parseInt(_0x130b80(0x119))/0x7;if(_0x14d5a4===_0x3f55ed)break;else _0x370ac3['push'](_0x370ac3['shift']());}catch(_0x1c5e9e){_0x370ac3['push'](_0x370ac3['shift']());}}}(a60_0x20ab,0x8badf));const path=require('path'),url=require(a60_0x32fb0d(0xed)),util=require(a60_0x32fb0d(0xe1)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x32fb0d(0x136)),{o11yErrorHandler}=require('../../helpers/test-observability/error-handler'),{debug,getPlatformDetails}=require('../../helpers/test-observability/utils'),logger=require(a60_0x32fb0d(0xdd))[a60_0x32fb0d(0xba)],constants=require('./constants'),AutomationFramework=require(a60_0x32fb0d(0x172)),BrowserstackCLI=require(a60_0x32fb0d(0xe5)),AutomationFrameworkState=require('../v2/state/automationFrameworkState.js'),HookState=require(a60_0x32fb0d(0x16c)),{platform}=require('os'),getBrowserNameFromChannel=_0x5ba5df=>{const _0x3d7713=a60_0x32fb0d,_0x14da4c={};_0x14da4c[_0x3d7713(0x17e)]=_0x3d7713(0xef),_0x14da4c[_0x3d7713(0x13c)]=_0x3d7713(0x10d),_0x14da4c['VUROL']=_0x3d7713(0xda),_0x14da4c[_0x3d7713(0xf3)]=_0x3d7713(0xb0);const _0x4e8724=_0x14da4c;if(_0x5ba5df['includes'](_0x4e8724['nNPBR']))return _0x4e8724[_0x3d7713(0x17e)];if(_0x5ba5df[_0x3d7713(0x157)](_0x4e8724[_0x3d7713(0x13c)]))return _0x4e8724[_0x3d7713(0x13c)];if(_0x5ba5df['includes'](_0x4e8724['VUROL']))return _0x4e8724[_0x3d7713(0x155)];if(_0x5ba5df[_0x3d7713(0x157)](_0x4e8724[_0x3d7713(0xf3)]))return _0x4e8724[_0x3d7713(0xf3)];},getBrowserFromWSEndpoint=_0x203d90=>{const _0x1d53d0=a60_0x32fb0d,_0x35d169={'lWudY':'bstack:options','oXYBl':function(_0x3986fa,_0x1d7285){return _0x3986fa(_0x1d7285);},'LckXn':function(_0x30e055,_0x18e282){return _0x30e055(_0x18e282);},'Iblvd':_0x1d53d0(0x10d),'SGpix':_0x1d53d0(0x101),'QLXze':_0x1d53d0(0xda),'fBklj':_0x1d53d0(0x153),'UKxag':'safari','ZjCdl':_0x1d53d0(0x15c),'CVvVR':_0x1d53d0(0xef),'TrUBp':function(_0x59fe55,_0x284256){return _0x59fe55(_0x284256);}};try{const _0x43f558=url['parse'](_0x203d90),_0x80c9cb=new URLSearchParams(_0x43f558[_0x1d53d0(0x133)]),_0x3697a9=Object[_0x1d53d0(0x152)](_0x80c9cb[_0x1d53d0(0xc1)]()),_0x27d5e4=[_0x3697a9[_0x1d53d0(0xf8)],_0x3697a9[_0x1d53d0(0xc9)],_0x3697a9[_0x1d53d0(0x122)],_0x3697a9['browserstack_capabilities']];for(const _0xe0dc6c of _0x27d5e4){if(_0xe0dc6c)try{const _0x3239b1=JSON[_0x1d53d0(0xfb)](_0xe0dc6c),_0x4ad117=_0x3239b1['browserName']||_0x3239b1[_0x1d53d0(0x16f)]||_0x3239b1[_0x35d169['lWudY']]?.[_0x1d53d0(0x12a)];if(_0x4ad117)return _0x35d169['oXYBl'](debug,_0x1d53d0(0x176)+_0x4ad117),_0x4ad117[_0x1d53d0(0xf4)]();}catch(_0x65b86a){_0x35d169['LckXn'](debug,_0x1d53d0(0xf7)+_0x65b86a[_0x1d53d0(0x10f)]);}}if(_0x203d90['includes'](_0x35d169[_0x1d53d0(0x159)])||_0x203d90['includes'](_0x35d169[_0x1d53d0(0xf9)]))return _0x35d169[_0x1d53d0(0x159)];if(_0x203d90[_0x1d53d0(0x157)](_0x35d169[_0x1d53d0(0xca)])||_0x203d90[_0x1d53d0(0x157)](_0x35d169[_0x1d53d0(0xe8)]))return _0x35d169[_0x1d53d0(0xca)];if(_0x203d90[_0x1d53d0(0x157)](_0x35d169[_0x1d53d0(0xd2)])||_0x203d90[_0x1d53d0(0x157)](_0x35d169[_0x1d53d0(0x104)]))return _0x35d169['UKxag'];return _0x35d169[_0x1d53d0(0xf1)];}catch(_0x51c558){return _0x35d169[_0x1d53d0(0xdc)](debug,_0x1d53d0(0xcd)+_0x51c558[_0x1d53d0(0xb7)]()),_0x35d169[_0x1d53d0(0xf1)];}},getCloudProviderFromWsEndpoint=_0x517669=>{const _0x5b1a69=a60_0x32fb0d,_0x321fdd={};_0x321fdd[_0x5b1a69(0x160)]='browserstack',_0x321fdd[_0x5b1a69(0xe6)]=_0x5b1a69(0xc0);const _0x13f908=_0x321fdd;if(_0x517669[_0x5b1a69(0x157)](constants[_0x5b1a69(0x149)])||_0x517669['includes'](constants[_0x5b1a69(0x120)]))return _0x13f908[_0x5b1a69(0x160)];return _0x13f908[_0x5b1a69(0xe6)];},a60_0x5ad74b={};function a60_0x4feb(_0x483d4a,_0x1f26be){const _0x20abd3=a60_0x20ab();return a60_0x4feb=function(_0x4feba9,_0x273a55){_0x4feba9=_0x4feba9-0xad;let _0x4f71d0=_0x20abd3[_0x4feba9];return _0x4f71d0;},a60_0x4feb(_0x483d4a,_0x1f26be);}a60_0x5ad74b['cloudProvider']=undefined,a60_0x5ad74b[a60_0x32fb0d(0xfe)]=undefined,a60_0x5ad74b['browser']=undefined,a60_0x5ad74b[a60_0x32fb0d(0xb9)]=undefined,a60_0x5ad74b[a60_0x32fb0d(0x15f)]=undefined,a60_0x5ad74b['platform_version']=undefined,a60_0x5ad74b[a60_0x32fb0d(0xfc)]=undefined,a60_0x5ad74b[a60_0x32fb0d(0xc9)]={};class SharedPlaywrightSessionDetails{static [a60_0x32fb0d(0x13a)]=a60_0x5ad74b;constructor(){const _0x4f3576=a60_0x32fb0d,_0x4c9ac6={};_0x4c9ac6[_0x4f3576(0x126)]=_0x4f3576(0x103);const _0x4f240a=_0x4c9ac6;throw new Error(_0x4f240a['shSwD']);}static ['sessionError']=null;static[a60_0x32fb0d(0x16d)](_0x2fdcd6,_0x24a6d6,_0xe142ac=null){const _0x4587e0=a60_0x32fb0d,_0xfb327a={'JoeGo':function(_0x2d4282,_0x4ccec1){return _0x2d4282===_0x4ccec1;},'EBUxJ':_0x4587e0(0xe7),'aVBEf':'Browser\x20is\x20not\x20defined\x20or\x20not\x20available','Zknsw':_0x4587e0(0x109),'DCLrp':_0x4587e0(0x116),'drVKl':function(_0x414757,_0x5f3cbd,_0x352fab){return _0x414757(_0x5f3cbd,_0x352fab);},'QNWRr':_0x4587e0(0xaf),'meggB':_0x4587e0(0xd8),'rcZDM':_0x4587e0(0x143),'CKexN':_0x4587e0(0xad),'OLZgy':_0x4587e0(0x163),'jEvRm':function(_0x4d2ee0,_0x469442){return _0x4d2ee0(_0x469442);},'rFnwp':function(_0x4fb617,_0x1907f1){return _0x4fb617===_0x1907f1;},'OPxxP':_0x4587e0(0x128),'sLPSa':_0x4587e0(0x173),'SOvry':_0x4587e0(0x123),'DEbNo':function(_0xd16729,_0x15825d){return _0xd16729===_0x15825d;},'zSHqB':_0x4587e0(0xbe),'faVpN':function(_0x5bc249,_0xbde627){return _0x5bc249(_0xbde627);},'iHGhp':function(_0x271be4,_0x44299a){return _0x271be4+_0x44299a;},'uNhiv':_0x4587e0(0xd1),'wJgnT':function(_0xe867e6){return _0xe867e6();},'voHYd':function(_0x397b81,_0x23613c,_0x3a4f9f){return _0x397b81(_0x23613c,_0x3a4f9f);},'QvoAp':_0x4587e0(0x16d)},_0x1573d0=this;return _0xfb327a['voHYd'](o11yErrorHandler,async function _0x555d13(_0x4683f4,_0x315a4a,_0x271ed8=null){const _0xb20b38=_0x4587e0;let _0x1919bf=_0x4683f4[_0xb20b38(0xb4)],_0x53b785=null;_0x4683f4&&_0xfb327a[_0xb20b38(0x179)](typeof _0x4683f4[_0xb20b38(0x147)],_0xfb327a[_0xb20b38(0x13b)])?_0x53b785=_0x4683f4['version']():logger[_0xb20b38(0xc5)](_0xfb327a[_0xb20b38(0xff)]);let _0x230622=null;_0x4683f4&&_0xfb327a[_0xb20b38(0x179)](typeof _0x4683f4[_0xb20b38(0x13d)],_0xfb327a['EBUxJ'])?_0x230622=_0x4683f4[_0xb20b38(0x13d)]():logger['debug'](_0xfb327a[_0xb20b38(0xee)]);let _0x548324=null,_0xd7cf40=null,_0x54525a=null,_0x40d5d8=_0xfb327a[_0xb20b38(0x11a)];if(_0x4683f4[_0xb20b38(0x154)][_0xb20b38(0x142)]()||global[_0xb20b38(0xe9)]){let _0x190bf3=null;_0xfb327a[_0xb20b38(0x121)](nestedKeyValue,_0x4683f4,[_0xfb327a[_0xb20b38(0x178)],_0xfb327a[_0xb20b38(0xd0)]])?_0x190bf3=_0x4683f4[_0xb20b38(0xaf)]['_defaultConnectOptions']:_0x190bf3=_0xfb327a[_0xb20b38(0x121)](nestedKeyValue,_0x315a4a,[_0xfb327a['rcZDM'],_0xfb327a['CKexN'],_0xfb327a[_0xb20b38(0xd9)]]);const _0x3e1be4=_0x271ed8||_0x190bf3&&_0x190bf3['wsEndpoint'];if(_0x3e1be4){_0x40d5d8=_0xfb327a[_0xb20b38(0x15b)](getCloudProviderFromWsEndpoint,_0x3e1be4);if(_0xfb327a[_0xb20b38(0x11d)](_0x40d5d8,_0xfb327a['OPxxP'])){_0x54525a=constants[_0xb20b38(0x135)][_0xb20b38(0x17c)](_0x3e1be4)?_0xfb327a[_0xb20b38(0x16b)]:_0xfb327a[_0xb20b38(0x174)];const _0x1793e2=_0xfb327a[_0xb20b38(0x15b)](getBrowserFromWSEndpoint,_0x3e1be4);if(_0x1793e2&&(!_0x1919bf||_0xfb327a['DEbNo'](_0x1919bf,_0xfb327a[_0xb20b38(0x111)])))_0x1919bf=_0x1793e2,logger['debug'](_0xb20b38(0xc3)+_0x1919bf);else _0x1919bf&&logger['debug'](_0xb20b38(0x125)+_0x1919bf);_0x548324=_0x1573d0[_0xb20b38(0x13a)][_0xb20b38(0x15f)],_0xd7cf40=_0x1573d0[_0xb20b38(0x13a)][_0xb20b38(0x12f)];}}}else{_0x315a4a&&_0x315a4a['project']&&_0x315a4a[_0xb20b38(0x143)][_0xb20b38(0xad)]&&_0x315a4a['project'][_0xb20b38(0xad)][_0xb20b38(0xcc)]?_0x1919bf=_0xfb327a[_0xb20b38(0x14c)](getBrowserNameFromChannel,_0x315a4a[_0xb20b38(0x143)][_0xb20b38(0xad)][_0xb20b38(0xcc)]):_0x1919bf=_0xfb327a[_0xb20b38(0xf2)](_0xfb327a[_0xb20b38(0xe2)],_0x1919bf[_0xb20b38(0xf4)]());const _0x495aa3=await _0xfb327a['wJgnT'](getPlatformDetails);_0x548324=_0x495aa3[_0xb20b38(0x10e)],_0xd7cf40=_0x495aa3[_0xb20b38(0xb1)];}const _0x711a91={};_0x711a91[_0xb20b38(0x16f)]=_0x1919bf,_0x711a91['browser_version']=_0x53b785,_0x711a91[_0xb20b38(0xc9)]={},_0x711a91['platform']=_0x548324,_0x711a91[_0xb20b38(0x12f)]=_0xd7cf40,_0x711a91[_0xb20b38(0xfc)]=_0x54525a;const _0x3c5473=_0x711a91;_0x230622&&(_0x3c5473[_0xb20b38(0xc9)][_0xb20b38(0xbd)]=_0x230622);const _0x922fcd={};_0x922fcd[_0xb20b38(0x138)]=_0x40d5d8,_0x1573d0[_0xb20b38(0x13a)]=Object[_0xb20b38(0x13e)]({},_0x1573d0[_0xb20b38(0x13a)],_0x922fcd,_0x3c5473);const _0x292de3={};_0x292de3['browser']=_0x1573d0[_0xb20b38(0x13a)][_0xb20b38(0x16f)],_0x292de3[_0xb20b38(0xdf)]=_0x1573d0[_0xb20b38(0x13a)][_0xb20b38(0xb9)],_0x292de3[_0xb20b38(0x15f)]=_0x1573d0['currentSessionDetails']['platform'],_0x292de3['platformVersion']=_0x1573d0[_0xb20b38(0x13a)][_0xb20b38(0x12f)],_0x292de3[_0xb20b38(0x138)]=_0x1573d0[_0xb20b38(0x13a)][_0xb20b38(0x138)],_0x292de3[_0xb20b38(0xfc)]=_0x1573d0['currentSessionDetails']['product'],logger['debug'](_0xb20b38(0xc6)+JSON['stringify'](_0x292de3));},_0xfb327a[_0x4587e0(0xe3)])(_0x2fdcd6,_0x24a6d6,_0xe142ac);}static[a60_0x32fb0d(0x132)](){const _0x4c4dba=a60_0x32fb0d;this[_0x4c4dba(0xc4)](),this[_0x4c4dba(0xf0)]();}static[a60_0x32fb0d(0xc4)](){const _0x18697c=a60_0x32fb0d,_0x3f8ef9={'sQhIS':function(_0x403195,_0x51a205){return _0x403195(_0x51a205);},'niWlZ':'lib','jPDFk':_0x18697c(0xae),'fwBsF':_0x18697c(0xc2),'oGWfw':function(_0x291ac2,_0x51ef20){return _0x291ac2(_0x51ef20);},'AwIAs':function(_0xa9c9aa,_0x2d804d){return _0xa9c9aa(_0x2d804d);},'lCBTU':_0x18697c(0x175),'fTvGQ':function(_0x2fbbc5,_0xafb9a3){return _0x2fbbc5(_0xafb9a3);},'Kgldv':function(_0x54bcf8,_0x110ae1){return _0x54bcf8!=_0x110ae1;},'VZhVA':function(_0x1a1f4d,_0x5585ae){return _0x1a1f4d(_0x5585ae);},'wXNus':_0x18697c(0xe0),'kAYfH':_0x18697c(0x14f),'GqYWT':_0x18697c(0x166)},_0x2b9a27=this;if(!this[_0x18697c(0x15d)])try{const _0x349dd5=[path[_0x18697c(0xfd)](_0x3f8ef9['niWlZ'],_0x3f8ef9['jPDFk'],_0x3f8ef9[_0x18697c(0x107)]),path[_0x18697c(0xfd)](_0x3f8ef9[_0x18697c(0xd3)],_0x3f8ef9['fwBsF']),path['join'](_0x3f8ef9[_0x18697c(0x11e)],_0x3f8ef9[_0x18697c(0x107)])];for(const _0x543512 of _0x349dd5){try{const _0x153aca=_0x3f8ef9[_0x18697c(0x118)](importFileFromPWCore,_0x543512);if(_0x153aca&&_0x153aca[_0x18697c(0x15d)]){this[_0x18697c(0x15d)]=_0x153aca[_0x18697c(0x15d)],logger[_0x18697c(0xc5)](_0x18697c(0xe4)+_0x543512);break;}}catch(_0x3bfd8c){_0x3f8ef9[_0x18697c(0x14e)](debug,_0x18697c(0x114)+_0x543512+':\x20'+_0x3bfd8c[_0x18697c(0xb7)]());}}if(!this[_0x18697c(0x15d)]){_0x3f8ef9['AwIAs'](debug,_0x3f8ef9[_0x18697c(0xeb)]);return;}}catch(_0x3c6b58){_0x3f8ef9[_0x18697c(0xb8)](debug,_0x18697c(0x11b)+_0x3c6b58[_0x18697c(0xb7)]());return;}const _0x3c207c=this['Connection'];try{if(_0x3f8ef9['Kgldv'](_0x3c207c,null)){const _0x4a729f=_0x3c207c[_0x18697c(0xd7)][_0x18697c(0x14f)];if(!_0x3f8ef9[_0x18697c(0x12c)](isFalse,process[_0x18697c(0x110)][_0x18697c(0xc7)])){if(_0x3c207c[_0x18697c(0xd7)][_0x18697c(0xb6)]){logger[_0x18697c(0xc5)](_0x3f8ef9[_0x18697c(0xec)]);return;}Object[_0x18697c(0xb5)](_0x3c207c[_0x18697c(0xd7)],_0x3f8ef9[_0x18697c(0x158)],{'get':function(){const _0x1f054a={'ikFoA':function(_0x55181f,_0x246748){const _0x364828=a60_0x4feb;return _0x3f8ef9[_0x364828(0x118)](_0x55181f,_0x246748);}};return async function _0x58eeed(_0x6871ce){const _0x5741fb=a60_0x4feb;if(BrowserstackCLI[_0x5741fb(0x144)]()['isRunning']()){const _0x29dd92={};_0x29dd92[_0x5741fb(0x10f)]=_0x6871ce,await BrowserstackCLI[_0x5741fb(0x144)]()['getAutomationFramework']()[_0x5741fb(0x106)](AutomationFrameworkState[_0x5741fb(0x127)],HookState['POST'],_0x29dd92);}else{const _0x5db1bd=_0x6871ce&&_0x6871ce['params']&&_0x6871ce[_0x5741fb(0x15a)][_0x5741fb(0x10a)];if(_0x5db1bd){const _0x451a24=_0x5db1bd[_0x5741fb(0xb3)],_0x3ae756=_0x5db1bd[_0x5741fb(0x16a)];_0x3ae756&&(_0x1f054a[_0x5741fb(0xcf)](debug,_0x5741fb(0x10b)+_0x3ae756[_0x5741fb(0xb7)]()),_0x2b9a27['currentSessionDetails'][_0x5741fb(0x15f)]=_0x3ae756[_0x5741fb(0x10e)],_0x2b9a27[_0x5741fb(0x13a)][_0x5741fb(0x12f)]=_0x3ae756[_0x5741fb(0xb1)]),_0x451a24&&(_0x1f054a[_0x5741fb(0xcf)](debug,_0x5741fb(0x10c)+_0x451a24),_0x2b9a27['currentSessionDetails']['bsSessionId']=_0x451a24);}}return _0x4a729f[_0x5741fb(0x151)](this,arguments);};}}),_0x3c207c[_0x18697c(0xd7)]['_bstackDispatchPatched']=!![],logger['debug'](_0x3f8ef9['GqYWT']);}}}catch(_0x49ea9b){_0x3f8ef9['AwIAs'](debug,_0x18697c(0xcb)+_0x49ea9b),_0x2b9a27[_0x18697c(0x13f)]=_0x49ea9b[_0x18697c(0xb7)]();}}static['patchCRConnection'](){const _0x101c44=a60_0x32fb0d,_0x37366e={'RCwMV':function(_0x4af1a8,_0x4dbb74){return _0x4af1a8(_0x4dbb74);},'EmlRn':function(_0x403c8a,_0x29f093){return _0x403c8a(_0x29f093);},'dAfIA':function(_0x39b2f7,_0x1cc94a){return _0x39b2f7(_0x1cc94a);},'PpfjE':'lib','lbppI':_0x101c44(0x129),'qQfpP':_0x101c44(0xbe),'LcHzG':_0x101c44(0x113),'jiVDS':function(_0x565807,_0x2c0f45){return _0x565807(_0x2c0f45);},'EOgxy':_0x101c44(0x165),'BNpdH':function(_0x3582eb,_0x2e7ccf){return _0x3582eb(_0x2e7ccf);},'EzbMN':'Error\x20in\x20importing\x20crConnection','mZgcS':function(_0xf2cdc1,_0x34809b){return _0xf2cdc1!=_0x34809b;},'tCxlq':_0x101c44(0x150),'fILJq':_0x101c44(0x124),'LLsyJ':'Successfully\x20patched\x20CRConnection._onMessage'},_0x298162=this;let _0x40fd3e=null;try{const _0x24d612=path[_0x101c44(0xfd)](_0x37366e['PpfjE'],_0x37366e[_0x101c44(0x137)],_0x37366e[_0x101c44(0x134)],_0x37366e[_0x101c44(0x169)]),_0xd467e6=_0x37366e[_0x101c44(0x141)](importFileFromPWCore,_0x24d612);!_0xd467e6?_0x37366e[_0x101c44(0x12d)](debug,_0x37366e[_0x101c44(0xf6)]):_0x40fd3e=_0xd467e6[_0x101c44(0x167)];}catch(_0x4d7f72){_0x37366e[_0x101c44(0x146)](debug,_0x37366e['EzbMN']);}try{if(_0x37366e[_0x101c44(0x177)](_0x40fd3e,null)){const _0x58f1ed=_0x40fd3e['prototype'][_0x101c44(0x124)];if(_0x40fd3e['prototype'][_0x101c44(0x156)]){logger[_0x101c44(0xc5)](_0x37366e['tCxlq']);return;}Object[_0x101c44(0xb5)](_0x40fd3e[_0x101c44(0xd7)],_0x37366e[_0x101c44(0x130)],{'get':function(){return async function _0x42475f(_0x15b715){const _0x2958db=a60_0x4feb;try{if(BrowserstackCLI[_0x2958db(0x144)]()[_0x2958db(0x14a)]()){const _0x106910={};_0x106910[_0x2958db(0x10f)]=_0x15b715,await BrowserstackCLI[_0x2958db(0x144)]()[_0x2958db(0x162)]()[_0x2958db(0x106)](AutomationFrameworkState[_0x2958db(0x127)],HookState['POST'],_0x106910),delete _0x15b715['bStackParams'];}else{const _0x10ff09=_0x15b715[_0x2958db(0x12e)];if(_0x10ff09){delete _0x15b715[_0x2958db(0x12e)];const _0x5cf9d5=_0x10ff09['sessionId'],_0x2bcbdb=_0x10ff09['platformDetails'];_0x2bcbdb&&(_0x37366e[_0x2958db(0x141)](debug,_0x2958db(0x15e)+_0x2bcbdb[_0x2958db(0xb7)]()),_0x298162[_0x2958db(0x13a)][_0x2958db(0x15f)]=_0x2bcbdb['platformName'],_0x298162['currentSessionDetails'][_0x2958db(0x12f)]=_0x2bcbdb[_0x2958db(0xb1)]),_0x5cf9d5&&(_0x37366e[_0x2958db(0x115)](debug,'Setting\x20session\x20id\x20received\x20from\x20browserstack\x20'+_0x5cf9d5),_0x298162[_0x2958db(0x13a)]['bsSessionId']=_0x5cf9d5);}}}catch(_0x469b98){_0x37366e[_0x2958db(0x14b)](debug,_0x2958db(0xf5)+_0x469b98[_0x2958db(0xb7)]());}return _0x58f1ed[_0x2958db(0x151)](this,arguments);};}}),_0x40fd3e[_0x101c44(0xd7)]['_bstackCRPatched']=!![],logger[_0x101c44(0xc5)](_0x37366e[_0x101c44(0x131)]);}}catch(_0x2f32c9){_0x37366e[_0x101c44(0x12d)](debug,'Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20'+_0x2f32c9),_0x298162['sessionError']=_0x2f32c9['toString']();}}static['extractBrowserStackParams'](_0x357c8b,_0x2c7983){const _0x4cb5c3=a60_0x32fb0d,_0x21b2c4={'EUkDk':_0x4cb5c3(0x148),'rVCoV':function(_0x398280,_0x2a947f){return _0x398280||_0x2a947f;},'RCRwc':function(_0x52f550,_0x38dcd7){return _0x52f550===_0x38dcd7;},'SBdXo':_0x4cb5c3(0xde),'BLpke':_0x4cb5c3(0xb2),'SqRoh':function(_0x419243,_0x137111){return _0x419243(_0x137111);},'oYNWt':function(_0x1628e4,_0x2fec8d){return _0x1628e4(_0x2fec8d);}};let _0x239a6a=null,_0x4e50dc=null;try{const _0x3ed815=[_0x2c7983,global[_0x4cb5c3(0xd6)],global['capabilties']];for(const _0x4fa934 of _0x3ed815){if(_0x4fa934&&(!_0x4e50dc||!_0x4e50dc[_0x4cb5c3(0xb3)])){const _0x440fbe=_0x4fa934[_0x4cb5c3(0xb3)]||_0x4fa934[_0x21b2c4[_0x4cb5c3(0x108)]]?.[_0x4cb5c3(0xb3)],_0x26e6ee=_0x4fa934[_0x4cb5c3(0x12a)]||_0x4fa934[_0x4cb5c3(0x16f)]||_0x4fa934[_0x21b2c4[_0x4cb5c3(0x108)]]?.[_0x4cb5c3(0x12a)],_0xdb2a8b=_0x4fa934[_0x4cb5c3(0xdf)]||_0x4fa934['browser_version']||_0x4fa934[_0x21b2c4[_0x4cb5c3(0x108)]]?.[_0x4cb5c3(0xdf)],_0x21087e=_0x4fa934['os']||_0x4fa934['platform']||_0x4fa934[_0x21b2c4[_0x4cb5c3(0x108)]]?.['os'],_0x158825=_0x4fa934[_0x4cb5c3(0x12b)]||_0x4fa934['os_version']||_0x4fa934[_0x21b2c4[_0x4cb5c3(0x108)]]?.[_0x4cb5c3(0x12b)];if(_0x21b2c4[_0x4cb5c3(0xfa)](_0x440fbe,_0x26e6ee)||_0x21087e){const _0x40ef30={};_0x40ef30[_0x4cb5c3(0x12a)]=_0x26e6ee,_0x40ef30[_0x4cb5c3(0xdf)]=_0xdb2a8b,_0x40ef30['os']=_0x21087e,_0x40ef30['osVersion']=_0x158825,_0x40ef30[_0x4cb5c3(0x10e)]=_0x4fa934[_0x4cb5c3(0x10e)]||_0x21087e,_0x40ef30['platformVersion']=_0x4fa934[_0x4cb5c3(0xb1)]||_0x158825;const _0x3e708d={};_0x3e708d[_0x4cb5c3(0xb3)]=_0x440fbe,_0x3e708d[_0x4cb5c3(0x16a)]=_0x40ef30,_0x4e50dc=_0x3e708d;if(_0x21b2c4['rVCoV'](_0x440fbe,_0x26e6ee)){logger[_0x4cb5c3(0xc5)](_0x4cb5c3(0xd5)+_0x26e6ee+_0x4cb5c3(0x11f)+_0x21087e);break;}}}}if(_0x357c8b&&_0x21b2c4[_0x4cb5c3(0xea)](typeof _0x357c8b,_0x21b2c4[_0x4cb5c3(0x11c)]))try{const _0xa0c980=url[_0x4cb5c3(0xfb)](_0x357c8b),_0x1fd788=new URLSearchParams(_0xa0c980[_0x4cb5c3(0x133)]),_0x3a089a=Object[_0x4cb5c3(0x152)](_0x1fd788[_0x4cb5c3(0xc1)]()),_0x415dbd=[_0x3a089a[_0x4cb5c3(0xf8)],_0x3a089a[_0x4cb5c3(0xc9)],_0x3a089a[_0x4cb5c3(0x122)]];for(const _0x315cb2 of _0x415dbd){if(_0x315cb2&&(!_0x239a6a||!_0x239a6a[_0x4cb5c3(0xb3)]))try{const _0x35a428=JSON[_0x4cb5c3(0xfb)](_0x315cb2),_0x49f915={};_0x49f915[_0x4cb5c3(0xb3)]=_0x35a428[_0x4cb5c3(0xb3)]||_0x35a428[_0x21b2c4[_0x4cb5c3(0x108)]]?.[_0x4cb5c3(0xb3)],_0x49f915[_0x4cb5c3(0x16a)]={},_0x49f915[_0x4cb5c3(0x16a)][_0x4cb5c3(0x12a)]=_0x35a428[_0x4cb5c3(0x12a)]||_0x35a428[_0x4cb5c3(0x16f)],_0x49f915[_0x4cb5c3(0x16a)][_0x4cb5c3(0xdf)]=_0x35a428['browserVersion']||_0x35a428[_0x4cb5c3(0xb9)],_0x49f915[_0x4cb5c3(0x16a)]['os']=_0x35a428['os']||_0x35a428['platform'],_0x49f915[_0x4cb5c3(0x16a)][_0x4cb5c3(0x12b)]=_0x35a428[_0x4cb5c3(0x12b)]||_0x35a428[_0x4cb5c3(0x17b)],_0x49f915[_0x4cb5c3(0x16a)]['platformName']=_0x35a428['platformName']||_0x35a428['os']||_0x35a428[_0x4cb5c3(0x15f)],_0x49f915[_0x4cb5c3(0x16a)]['platformVersion']=_0x35a428[_0x4cb5c3(0xb1)]||_0x35a428['osVersion']||_0x35a428[_0x4cb5c3(0x17b)],_0x239a6a=_0x49f915;if(_0x239a6a[_0x4cb5c3(0xb3)]||_0x239a6a['platformDetails'][_0x4cb5c3(0x12a)]){logger[_0x4cb5c3(0xc5)](_0x21b2c4[_0x4cb5c3(0xdb)]);break;}}catch(_0x33a4c8){_0x21b2c4['SqRoh'](debug,_0x4cb5c3(0x112)+_0x33a4c8[_0x4cb5c3(0xb7)]());}}}catch(_0x532c7a){_0x21b2c4[_0x4cb5c3(0x17a)](debug,_0x4cb5c3(0x100)+_0x532c7a[_0x4cb5c3(0xb7)]());}}catch(_0x2ec217){_0x21b2c4[_0x4cb5c3(0x145)](debug,_0x4cb5c3(0x17d)+util[_0x4cb5c3(0x168)](_0x2ec217));}const _0x174f55={};return _0x174f55[_0x4cb5c3(0x10a)]=_0x239a6a,_0x174f55[_0x4cb5c3(0x12e)]=_0x4e50dc,_0x174f55;}static async[a60_0x32fb0d(0x170)](_0x1bae36,_0x551be0){const _0x47fe02=a60_0x32fb0d,_0x2c8579={'onpFD':function(_0xae1e98,_0x52c69f){return _0xae1e98||_0x52c69f;},'FLTGC':_0x47fe02(0xbf),'chjCn':function(_0x41dd40,_0x57edf9){return _0x41dd40(_0x57edf9);}};try{if(!BrowserstackCLI['getInstance']()[_0x47fe02(0x14a)]())return;if(_0x2c8579[_0x47fe02(0xd4)](_0x1bae36,_0x551be0)){logger['debug'](_0x2c8579[_0x47fe02(0xbb)]);const _0x53d96e={'params':_0x1bae36?{'bsParams':_0x1bae36}:null,'bStackParams':_0x2c8579[_0x47fe02(0xd4)](_0x551be0,null)},_0x13ad45=AutomationFramework[_0x47fe02(0xbc)](),_0x35a1b8={};_0x35a1b8[_0x47fe02(0x10f)]=_0x53d96e,_0x35a1b8[_0x47fe02(0x117)]=_0x13ad45,await BrowserstackCLI['getInstance']()[_0x47fe02(0x162)]()[_0x47fe02(0x106)](AutomationFrameworkState[_0x47fe02(0x127)],HookState[_0x47fe02(0x164)],_0x35a1b8);}}catch(_0x26761f){_0x2c8579[_0x47fe02(0x105)](debug,_0x47fe02(0x140)+util[_0x47fe02(0x168)](_0x26761f));}}static[a60_0x32fb0d(0x102)](){const _0xecc1d=a60_0x32fb0d;return this[_0xecc1d(0x13a)];}}module[a60_0x32fb0d(0x14d)]=SharedPlaywrightSessionDetails;