const a60_0x382f8b=a60_0x333b;(function(_0x1e5227,_0x8a4ae6){const _0x26a5d7=a60_0x333b,_0x1e6ea9=_0x1e5227();while(!![]){try{const _0x158b7b=-parseInt(_0x26a5d7(0x1ef))/0x1*(-parseInt(_0x26a5d7(0x1e6))/0x2)+-parseInt(_0x26a5d7(0x1b4))/0x3*(parseInt(_0x26a5d7(0x216))/0x4)+parseInt(_0x26a5d7(0x1d1))/0x5*(-parseInt(_0x26a5d7(0x23f))/0x6)+parseInt(_0x26a5d7(0x22c))/0x7+parseInt(_0x26a5d7(0x1cb))/0x8*(-parseInt(_0x26a5d7(0x1e8))/0x9)+-parseInt(_0x26a5d7(0x23a))/0xa*(parseInt(_0x26a5d7(0x237))/0xb)+-parseInt(_0x26a5d7(0x205))/0xc*(-parseInt(_0x26a5d7(0x195))/0xd);if(_0x158b7b===_0x8a4ae6)break;else _0x1e6ea9['push'](_0x1e6ea9['shift']());}catch(_0x428b0c){_0x1e6ea9['push'](_0x1e6ea9['shift']());}}}(a60_0x49ab,0x450fc));const path=require(a60_0x382f8b(0x252)),url=require('url'),util=require(a60_0x382f8b(0x1c8)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require('../../helpers/helper'),{o11yErrorHandler}=require(a60_0x382f8b(0x1b8)),{debug,getPlatformDetails}=require(a60_0x382f8b(0x24a)),logger=require('../../helpers/logger')[a60_0x382f8b(0x1ea)],constants=require(a60_0x382f8b(0x1f8)),AutomationFramework=require(a60_0x382f8b(0x1a4)),BrowserstackCLI=require(a60_0x382f8b(0x1b0)),AutomationFrameworkState=require('../v2/state/automationFrameworkState.js'),HookState=require('../v2/state/hookState.js'),{platform}=require('os'),getBrowserNameFromChannel=_0x457fc9=>{const _0x35de59=a60_0x382f8b,_0x43202d={};_0x43202d['hVURi']=_0x35de59(0x1b9),_0x43202d[_0x35de59(0x1f0)]=_0x35de59(0x1da),_0x43202d[_0x35de59(0x1ee)]=_0x35de59(0x258),_0x43202d['HLGmD']=_0x35de59(0x1d0);const _0x557d47=_0x43202d;if(_0x457fc9[_0x35de59(0x1ca)](_0x557d47[_0x35de59(0x243)]))return _0x557d47['hVURi'];if(_0x457fc9[_0x35de59(0x1ca)](_0x557d47[_0x35de59(0x1f0)]))return _0x557d47['MJJDI'];if(_0x457fc9['includes'](_0x557d47[_0x35de59(0x1ee)]))return _0x557d47[_0x35de59(0x1ee)];if(_0x457fc9[_0x35de59(0x1ca)](_0x557d47[_0x35de59(0x24c)]))return _0x557d47['HLGmD'];},getBrowserFromWSEndpoint=_0x147a77=>{const _0x446d7e=a60_0x382f8b,_0x2e453f={'tMvDB':_0x446d7e(0x238),'bMBhe':function(_0x41d84e,_0x2c1a8e){return _0x41d84e(_0x2c1a8e);},'FUaLi':_0x446d7e(0x1da),'bfgON':'msedge','LXNbZ':_0x446d7e(0x258),'tVeIG':'gecko','QSMsb':'safari','fwRtC':'webkit','Uaivm':_0x446d7e(0x1b9),'KxmRL':function(_0x32d26b,_0x25e661){return _0x32d26b(_0x25e661);}};try{const _0x3d3db5=url[_0x446d7e(0x208)](_0x147a77),_0x381542=new URLSearchParams(_0x3d3db5[_0x446d7e(0x211)]),_0x3299e1=Object[_0x446d7e(0x1fa)](_0x381542[_0x446d7e(0x21d)]()),_0x308972=[_0x3299e1['caps'],_0x3299e1[_0x446d7e(0x210)],_0x3299e1[_0x446d7e(0x1fc)],_0x3299e1['browserstack_capabilities']];for(const _0x399592 of _0x308972){if(_0x399592)try{const _0x4e8c6e=JSON['parse'](_0x399592),_0x30ec6e=_0x4e8c6e[_0x446d7e(0x20c)]||_0x4e8c6e[_0x446d7e(0x20a)]||_0x4e8c6e[_0x2e453f[_0x446d7e(0x23d)]]?.['browserName'];if(_0x30ec6e)return _0x2e453f[_0x446d7e(0x1ed)](debug,_0x446d7e(0x1ec)+_0x30ec6e),_0x30ec6e[_0x446d7e(0x19e)]();}catch(_0x449aa5){_0x2e453f[_0x446d7e(0x1ed)](debug,_0x446d7e(0x22e)+_0x449aa5[_0x446d7e(0x1d9)]);}}if(_0x147a77['includes'](_0x2e453f[_0x446d7e(0x247)])||_0x147a77[_0x446d7e(0x1ca)](_0x2e453f[_0x446d7e(0x207)]))return _0x2e453f[_0x446d7e(0x247)];if(_0x147a77[_0x446d7e(0x1ca)](_0x2e453f[_0x446d7e(0x1f2)])||_0x147a77[_0x446d7e(0x1ca)](_0x2e453f[_0x446d7e(0x25d)]))return _0x2e453f[_0x446d7e(0x1f2)];if(_0x147a77[_0x446d7e(0x1ca)](_0x2e453f[_0x446d7e(0x1dc)])||_0x147a77[_0x446d7e(0x1ca)](_0x2e453f['fwRtC']))return _0x2e453f[_0x446d7e(0x1dc)];return _0x2e453f[_0x446d7e(0x1bd)];}catch(_0x4ad944){return _0x2e453f[_0x446d7e(0x235)](debug,_0x446d7e(0x244)+_0x4ad944[_0x446d7e(0x1a8)]()),_0x2e453f[_0x446d7e(0x1bd)];}},getCloudProviderFromWsEndpoint=_0x131bcd=>{const _0x28beb7=a60_0x382f8b,_0x4dbd5e={};_0x4dbd5e['pRrLq']='browserstack',_0x4dbd5e[_0x28beb7(0x22d)]=_0x28beb7(0x1d3);const _0x595448=_0x4dbd5e;if(_0x131bcd[_0x28beb7(0x1ca)](constants[_0x28beb7(0x1b6)])||_0x131bcd['includes'](constants['BSTACK_ATS_URL']))return _0x595448['pRrLq'];return _0x595448['phXKu'];},a60_0x1bf0c6={};function a60_0x333b(_0x45d8f9,_0x8a934b){const _0x49abed=a60_0x49ab();return a60_0x333b=function(_0x333bc9,_0x534447){_0x333bc9=_0x333bc9-0x195;let _0x28557b=_0x49abed[_0x333bc9];return _0x28557b;},a60_0x333b(_0x45d8f9,_0x8a934b);}function a60_0x49ab(){const _0xf27b52=['ikzaw','lib','capabilities','query','server','Found\x20Connection\x20class\x20at:\x20','ZBLbi','novZt','112NEyBMA','connection.js','env','trackEvent','os_version','extractBrowserStackParams','platform','entries','patch','WAYLZ','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','version','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','Error\x20in\x20importing\x20crConnection','exEFt','uhVKS','AkyUH','Device\x20Model\x20is\x20not\x20available','OWKhG','qTtdK','Connection','platformDetails','3708488qMSIiD','phXKu','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','client','exports','soCmp','EppgE','deviceModel','onNzC','KxmRL','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','11zuHZmQ','bstack:options','apply','1506970TiJhnc','platformName','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','tMvDB','tuYJU','1795686xrxzxr','triggerPlaywrightDispatchEvent','model','string','hVURi','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','Not\x20able\x20to\x20import\x20crConnection','_bstackDispatchPatched','FUaLi','GyKQw','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','../../helpers/test-observability/utils','CRConnection','HLGmD','Dffwq','gbATK','patchConnection','browser_version','gkPjc','path','CIYuz','test','product','ATS_WSS_URL_REGEX','isRemote','firefox','chromium','format','gMZoV','Failed\x20to\x20import\x20connection\x20from\x20','tVeIG','stringify','pdaRx','debug','533ijXCrn','bPeWU','ulInP','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','Successfully\x20patched\x20CRConnection._onMessage','qSGle','cloudProvider','KPkSo','defineProperty','toLowerCase','turboscale','Error\x20in\x20finding\x20platform\x20details\x20','Session\x20details\x20setup\x20complete:\x20','RyoqD','_onMessage','../v2/framework/automationFramework','ECzIH','GICiZ','RADbx','toString','capabilties','instance','sessionId','osVersion','playwright-','JCncn','assign','../v2/browserstackCLI','IiCzY','tjuCS','WgOkM','51153sBESnh','pUkdp','BSTACK_URL','CRConnection\x20already\x20patched','../../helpers/test-observability/error-handler','chrome','project','onKEz','ivnVi','Uaivm','getTrackedInstance','patchCRConnection','WYQYF',',\x20os=','params','_connection','cOldi','ytnzL','Setting\x20session\x20id\x20received\x20from\x20BS\x20','_defaultConnectOptions','util','prototype','includes','344skVWOf','PLAYWRIGHT_DISPATCH','use','browserVersion','RFaso','safari','5lidqwC','channel','unknown_grid','dispatch','WmBOz','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','Error\x20in\x20applying\x20Connection\x20patch\x20','getInstance','message','edge','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','QSMsb','SwOKf','platform_version','KJVLr','getDetails','sessionError','_browserType','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','bsParams','join','515594cbGlwC','Error\x20parsing\x20WebSocket\x20endpoint:\x20','59769ZssDDu','browserstack','winstonLogger','bStackParams','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','bMBhe','gfktq','2VqTrFs','MJJDI','currentSessionDetails','LXNbZ','getAutomationFramework','qUdgp','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','_name','__platformCaps','./constants','fVRYo','fromEntries','setupBrowserDetails','desiredCapabilities','automate','OmqxG','Error\x20in\x20importing\x20connection\x20','isRunning','POST','pOviI','BROWSERSTACK_TEST_OBSERVABILITY','accessibilityPlatform','131844RPVhtf','platformVersion','bfgON','parse','bsSessionId','browser','crConnection.js','browserName','jAYNQ'];a60_0x49ab=function(){return _0xf27b52;};return a60_0x49ab();}a60_0x1bf0c6[a60_0x382f8b(0x19b)]=undefined,a60_0x1bf0c6['bsSessionId']=undefined,a60_0x1bf0c6['browser']=undefined,a60_0x1bf0c6['browser_version']=undefined,a60_0x1bf0c6[a60_0x382f8b(0x21c)]=undefined,a60_0x1bf0c6['platform_version']=undefined,a60_0x1bf0c6[a60_0x382f8b(0x255)]=undefined,a60_0x1bf0c6['capabilities']={};class SharedPlaywrightSessionDetails{static [a60_0x382f8b(0x1f1)]=a60_0x1bf0c6;constructor(){const _0x3776d3=a60_0x382f8b,_0x15dbde={};_0x15dbde[_0x3776d3(0x1fe)]=_0x3776d3(0x1db);const _0x5c9b02=_0x15dbde;throw new Error(_0x5c9b02[_0x3776d3(0x1fe)]);}static [a60_0x382f8b(0x1e1)]=null;static[a60_0x382f8b(0x1fb)](_0x2d91ec,_0x5d875b,_0x2a4164=null){const _0xa84ecb=a60_0x382f8b,_0x4fee4d={'onNzC':function(_0x2d16d7,_0x3b425e){return _0x2d16d7===_0x3b425e;},'novZt':'function','ivnVi':_0xa84ecb(0x198),'onKEz':_0xa84ecb(0x227),'KPkSo':'local_grid','gbATK':function(_0x7216aa,_0x457f9e,_0x1bc911){return _0x7216aa(_0x457f9e,_0x1bc911);},'ytnzL':_0xa84ecb(0x1e2),'pdaRx':_0xa84ecb(0x1c7),'cOldi':_0xa84ecb(0x1ba),'gkPjc':_0xa84ecb(0x1cd),'ulInP':'connectOptions','fedGR':function(_0x34689e,_0x5bcaaa){return _0x34689e(_0x5bcaaa);},'jAYNQ':function(_0x78c623,_0x3fc7f9){return _0x78c623===_0x3fc7f9;},'SwOKf':_0xa84ecb(0x1e9),'VJMwn':_0xa84ecb(0x19f),'WAYLZ':_0xa84ecb(0x1fd),'Dffwq':function(_0x4e15cf,_0x1f1551){return _0x4e15cf(_0x1f1551);},'uhVKS':'chromium','FxBKL':function(_0x2cbfc3,_0x3a3ded){return _0x2cbfc3(_0x3a3ded);},'pOviI':function(_0x4cfbef,_0x346697){return _0x4cfbef+_0x346697;},'CIYuz':_0xa84ecb(0x1ad),'qhhzr':function(_0xbe7faf){return _0xbe7faf();},'GICiZ':_0xa84ecb(0x1fb)},_0x4756b5=this;return _0x4fee4d[_0xa84ecb(0x24e)](o11yErrorHandler,async function _0xb3eb8b(_0x3af3f0,_0x12460f,_0x477a48=null){const _0x45b498=_0xa84ecb;let _0x4eb910=_0x3af3f0[_0x45b498(0x1f6)],_0xc61ed6=null;_0x3af3f0&&_0x4fee4d['onNzC'](typeof _0x3af3f0[_0x45b498(0x221)],_0x4fee4d['novZt'])?_0xc61ed6=_0x3af3f0[_0x45b498(0x221)]():logger[_0x45b498(0x260)](_0x4fee4d[_0x45b498(0x1bc)]);let _0x20c2b3=null;_0x3af3f0&&_0x4fee4d[_0x45b498(0x234)](typeof _0x3af3f0[_0x45b498(0x241)],_0x4fee4d[_0x45b498(0x215)])?_0x20c2b3=_0x3af3f0[_0x45b498(0x241)]():logger[_0x45b498(0x260)](_0x4fee4d[_0x45b498(0x1bb)]);let _0x4ec28a=null,_0x1b9d81=null,_0xaadd60=null,_0x53a107=_0x4fee4d[_0x45b498(0x19c)];if(_0x3af3f0[_0x45b498(0x1c3)][_0x45b498(0x257)]()||global[_0x45b498(0x204)]){let _0x507c1d=null;_0x4fee4d[_0x45b498(0x24e)](nestedKeyValue,_0x3af3f0,[_0x4fee4d[_0x45b498(0x1c5)],_0x4fee4d[_0x45b498(0x25f)]])?_0x507c1d=_0x3af3f0[_0x45b498(0x1e2)][_0x45b498(0x1c7)]:_0x507c1d=_0x4fee4d[_0x45b498(0x24e)](nestedKeyValue,_0x12460f,[_0x4fee4d[_0x45b498(0x1c4)],_0x4fee4d[_0x45b498(0x251)],_0x4fee4d[_0x45b498(0x197)]]);const _0x5bd55d=_0x477a48||_0x507c1d&&_0x507c1d['wsEndpoint'];if(_0x5bd55d){_0x53a107=_0x4fee4d['fedGR'](getCloudProviderFromWsEndpoint,_0x5bd55d);if(_0x4fee4d[_0x45b498(0x20d)](_0x53a107,_0x4fee4d[_0x45b498(0x1dd)])){_0xaadd60=constants[_0x45b498(0x256)][_0x45b498(0x254)](_0x5bd55d)?_0x4fee4d['VJMwn']:_0x4fee4d[_0x45b498(0x21f)];const _0x41a9cd=_0x4fee4d[_0x45b498(0x24d)](getBrowserFromWSEndpoint,_0x5bd55d);if(_0x41a9cd&&(!_0x4eb910||_0x4fee4d[_0x45b498(0x20d)](_0x4eb910,_0x4fee4d[_0x45b498(0x225)])))_0x4eb910=_0x41a9cd,logger[_0x45b498(0x260)]('Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20'+_0x4eb910);else _0x4eb910&&logger['debug'](_0x45b498(0x23c)+_0x4eb910);_0x4ec28a=_0x4756b5[_0x45b498(0x1f1)]['platform'],_0x1b9d81=_0x4756b5[_0x45b498(0x1f1)][_0x45b498(0x1de)];}}}else{_0x12460f&&_0x12460f[_0x45b498(0x1ba)]&&_0x12460f['project'][_0x45b498(0x1cd)]&&_0x12460f[_0x45b498(0x1ba)]['use'][_0x45b498(0x1d2)]?_0x4eb910=_0x4fee4d['FxBKL'](getBrowserNameFromChannel,_0x12460f[_0x45b498(0x1ba)]['use']['channel']):_0x4eb910=_0x4fee4d[_0x45b498(0x202)](_0x4fee4d[_0x45b498(0x253)],_0x4eb910[_0x45b498(0x19e)]());const _0x2dbe62=await _0x4fee4d['qhhzr'](getPlatformDetails);_0x4ec28a=_0x2dbe62[_0x45b498(0x23b)],_0x1b9d81=_0x2dbe62[_0x45b498(0x206)];}const _0x49fd10={};_0x49fd10[_0x45b498(0x20a)]=_0x4eb910,_0x49fd10[_0x45b498(0x250)]=_0xc61ed6,_0x49fd10[_0x45b498(0x210)]={},_0x49fd10[_0x45b498(0x21c)]=_0x4ec28a,_0x49fd10[_0x45b498(0x1de)]=_0x1b9d81,_0x49fd10[_0x45b498(0x255)]=_0xaadd60;const _0x64e76a=_0x49fd10;_0x20c2b3&&(_0x64e76a[_0x45b498(0x210)][_0x45b498(0x233)]=_0x20c2b3);const _0x312b94={};_0x312b94[_0x45b498(0x19b)]=_0x53a107,_0x4756b5[_0x45b498(0x1f1)]=Object[_0x45b498(0x1af)]({},_0x4756b5[_0x45b498(0x1f1)],_0x312b94,_0x64e76a);const _0x1f7fb7={};_0x1f7fb7[_0x45b498(0x20a)]=_0x4756b5[_0x45b498(0x1f1)]['browser'],_0x1f7fb7[_0x45b498(0x1ce)]=_0x4756b5[_0x45b498(0x1f1)]['browser_version'],_0x1f7fb7[_0x45b498(0x21c)]=_0x4756b5[_0x45b498(0x1f1)]['platform'],_0x1f7fb7[_0x45b498(0x206)]=_0x4756b5[_0x45b498(0x1f1)][_0x45b498(0x1de)],_0x1f7fb7[_0x45b498(0x19b)]=_0x4756b5[_0x45b498(0x1f1)][_0x45b498(0x19b)],_0x1f7fb7[_0x45b498(0x255)]=_0x4756b5[_0x45b498(0x1f1)][_0x45b498(0x255)],logger[_0x45b498(0x260)](_0x45b498(0x1a1)+JSON[_0x45b498(0x25e)](_0x1f7fb7));},_0x4fee4d[_0xa84ecb(0x1a6)])(_0x2d91ec,_0x5d875b,_0x2a4164);}static[a60_0x382f8b(0x21e)](){const _0x20aefd=a60_0x382f8b;this[_0x20aefd(0x24f)](),this[_0x20aefd(0x1bf)]();}static[a60_0x382f8b(0x24f)](){const _0x28a432=a60_0x382f8b,_0x185d1a={'WgOkM':function(_0x57c30d,_0x110b71){return _0x57c30d(_0x110b71);},'zVfYt':function(_0x5ea8ba,_0x1cceea){return _0x5ea8ba(_0x1cceea);},'qSGle':_0x28a432(0x20f),'qTtdK':_0x28a432(0x22f),'JCncn':_0x28a432(0x217),'GyKQw':_0x28a432(0x1e3),'RyoqD':function(_0x452bb2,_0x446b31){return _0x452bb2(_0x446b31);},'bPeWU':function(_0x3143da,_0x56be3e){return _0x3143da!=_0x56be3e;},'mdcxP':'Connection\x20dispatch\x20already\x20patched','pUkdp':_0x28a432(0x1d4),'OhNXw':'Successfully\x20patched\x20Connection.dispatch'},_0x17366f=this;if(!this['Connection'])try{const _0x5674ba=[path[_0x28a432(0x1e5)](_0x185d1a[_0x28a432(0x19a)],_0x185d1a[_0x28a432(0x229)],_0x185d1a[_0x28a432(0x1ae)]),path[_0x28a432(0x1e5)](_0x185d1a['qSGle'],_0x185d1a[_0x28a432(0x1ae)]),path['join'](_0x185d1a[_0x28a432(0x229)],_0x185d1a[_0x28a432(0x1ae)])];for(const _0x4313cb of _0x5674ba){try{const _0x46b1b3=_0x185d1a[_0x28a432(0x1b3)](importFileFromPWCore,_0x4313cb);if(_0x46b1b3&&_0x46b1b3[_0x28a432(0x22a)]){this[_0x28a432(0x22a)]=_0x46b1b3[_0x28a432(0x22a)],logger[_0x28a432(0x260)](_0x28a432(0x213)+_0x4313cb);break;}}catch(_0x94c1a8){_0x185d1a['WgOkM'](debug,_0x28a432(0x25c)+_0x4313cb+':\x20'+_0x94c1a8['toString']());}}if(!this['Connection']){_0x185d1a[_0x28a432(0x1b3)](debug,_0x185d1a[_0x28a432(0x248)]);return;}}catch(_0x5e607e){_0x185d1a[_0x28a432(0x1a2)](debug,_0x28a432(0x1ff)+_0x5e607e['toString']());return;}const _0x2c7909=this['Connection'];try{if(_0x185d1a[_0x28a432(0x196)](_0x2c7909,null)){const _0xb5dc41=_0x2c7909['prototype'][_0x28a432(0x1d4)];if(!_0x185d1a['RyoqD'](isFalse,process[_0x28a432(0x218)][_0x28a432(0x203)])){if(_0x2c7909[_0x28a432(0x1c9)][_0x28a432(0x246)]){logger[_0x28a432(0x260)](_0x185d1a['mdcxP']);return;}Object['defineProperty'](_0x2c7909['prototype'],_0x185d1a[_0x28a432(0x1b5)],{'get':function(){const _0x1530fb={'ikzaw':function(_0x298d30,_0x1220f5){const _0x57d218=a60_0x333b;return _0x185d1a[_0x57d218(0x1b3)](_0x298d30,_0x1220f5);},'WYQYF':function(_0x29b37a,_0x52b8f5){return _0x185d1a['zVfYt'](_0x29b37a,_0x52b8f5);}};return async function _0x398dc3(_0x4a5503){const _0x1b8604=a60_0x333b;if(BrowserstackCLI['getInstance']()[_0x1b8604(0x200)]()){const _0x4860f9={};_0x4860f9[_0x1b8604(0x1d9)]=_0x4a5503,await BrowserstackCLI['getInstance']()[_0x1b8604(0x1f3)]()[_0x1b8604(0x219)](AutomationFrameworkState[_0x1b8604(0x1cc)],HookState['POST'],_0x4860f9);}else{const _0x3b52e3=_0x4a5503&&_0x4a5503[_0x1b8604(0x1c2)]&&_0x4a5503['params'][_0x1b8604(0x1e4)];if(_0x3b52e3){const _0xeea064=_0x3b52e3[_0x1b8604(0x1ab)],_0xe196bc=_0x3b52e3[_0x1b8604(0x22b)];_0xe196bc&&(_0x1530fb[_0x1b8604(0x20e)](debug,_0x1b8604(0x220)+_0xe196bc['toString']()),_0x17366f['currentSessionDetails'][_0x1b8604(0x21c)]=_0xe196bc[_0x1b8604(0x23b)],_0x17366f['currentSessionDetails'][_0x1b8604(0x1de)]=_0xe196bc[_0x1b8604(0x206)]),_0xeea064&&(_0x1530fb[_0x1b8604(0x1c0)](debug,_0x1b8604(0x1c6)+_0xeea064),_0x17366f[_0x1b8604(0x1f1)][_0x1b8604(0x209)]=_0xeea064);}}return _0xb5dc41[_0x1b8604(0x239)](this,arguments);};}}),_0x2c7909['prototype'][_0x28a432(0x246)]=!![],logger[_0x28a432(0x260)](_0x185d1a['OhNXw']);}}}catch(_0x1689f1){_0x185d1a['WgOkM'](debug,_0x28a432(0x1d7)+_0x1689f1),_0x17366f[_0x28a432(0x1e1)]=_0x1689f1[_0x28a432(0x1a8)]();}}static[a60_0x382f8b(0x1bf)](){const _0x551f2f=a60_0x382f8b,_0x12348d={'RFaso':function(_0x253ddd,_0x5aad5a){return _0x253ddd(_0x5aad5a);},'gMZoV':function(_0x3ac3a8,_0x1d6e57){return _0x3ac3a8(_0x1d6e57);},'RKDED':_0x551f2f(0x20f),'soCmp':_0x551f2f(0x212),'XfWap':_0x551f2f(0x259),'qSaTU':_0x551f2f(0x20b),'OWKhG':function(_0x1a1d1a,_0x1ea2c5){return _0x1a1d1a(_0x1ea2c5);},'tuYJU':_0x551f2f(0x245),'fVRYo':_0x551f2f(0x223),'EppgE':function(_0x51da06,_0x550d3a){return _0x51da06!=_0x550d3a;},'IiCzY':_0x551f2f(0x1b7),'AkyUH':_0x551f2f(0x1a3),'qUdgp':_0x551f2f(0x199),'WmBOz':function(_0x13c6c3,_0x3b2f8){return _0x13c6c3(_0x3b2f8);}},_0x3b9a9d=this;let _0x272084=null;try{const _0x7dc003=path[_0x551f2f(0x1e5)](_0x12348d['RKDED'],_0x12348d[_0x551f2f(0x231)],_0x12348d['XfWap'],_0x12348d['qSaTU']),_0x55bfcf=_0x12348d['gMZoV'](importFileFromPWCore,_0x7dc003);!_0x55bfcf?_0x12348d[_0x551f2f(0x228)](debug,_0x12348d[_0x551f2f(0x23e)]):_0x272084=_0x55bfcf[_0x551f2f(0x24b)];}catch(_0xce92e5){_0x12348d[_0x551f2f(0x25b)](debug,_0x12348d[_0x551f2f(0x1f9)]);}try{if(_0x12348d[_0x551f2f(0x232)](_0x272084,null)){const _0x101799=_0x272084[_0x551f2f(0x1c9)][_0x551f2f(0x1a3)];if(_0x272084[_0x551f2f(0x1c9)]['_bstackCRPatched']){logger[_0x551f2f(0x260)](_0x12348d[_0x551f2f(0x1b1)]);return;}Object[_0x551f2f(0x19d)](_0x272084[_0x551f2f(0x1c9)],_0x12348d[_0x551f2f(0x226)],{'get':function(){const _0x3a5612={'ECzIH':function(_0x37d8d3,_0x7f4f4c){const _0x4a8515=a60_0x333b;return _0x12348d[_0x4a8515(0x1cf)](_0x37d8d3,_0x7f4f4c);},'exEFt':function(_0x49db60,_0x5534b8){const _0x5647bb=a60_0x333b;return _0x12348d[_0x5647bb(0x25b)](_0x49db60,_0x5534b8);}};return async function _0x5c5adc(_0x3b8526){const _0x291380=a60_0x333b;try{if(BrowserstackCLI['getInstance']()[_0x291380(0x200)]()){const _0x98f27b={};_0x98f27b[_0x291380(0x1d9)]=_0x3b8526,await BrowserstackCLI['getInstance']()[_0x291380(0x1f3)]()[_0x291380(0x219)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState['POST'],_0x98f27b),delete _0x3b8526[_0x291380(0x1eb)];}else{const _0x1c834f=_0x3b8526[_0x291380(0x1eb)];if(_0x1c834f){delete _0x3b8526[_0x291380(0x1eb)];const _0x28424a=_0x1c834f[_0x291380(0x1ab)],_0x4c4905=_0x1c834f[_0x291380(0x22b)];_0x4c4905&&(_0x3a5612[_0x291380(0x1a5)](debug,'Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20'+_0x4c4905['toString']()),_0x3b9a9d[_0x291380(0x1f1)][_0x291380(0x21c)]=_0x4c4905[_0x291380(0x23b)],_0x3b9a9d['currentSessionDetails'][_0x291380(0x1de)]=_0x4c4905[_0x291380(0x206)]),_0x28424a&&(_0x3a5612[_0x291380(0x1a5)](debug,_0x291380(0x249)+_0x28424a),_0x3b9a9d[_0x291380(0x1f1)][_0x291380(0x209)]=_0x28424a);}}}catch(_0x4ec623){_0x3a5612[_0x291380(0x224)](debug,_0x291380(0x1a0)+_0x4ec623['toString']());}return _0x101799[_0x291380(0x239)](this,arguments);};}}),_0x272084[_0x551f2f(0x1c9)]['_bstackCRPatched']=!![],logger[_0x551f2f(0x260)](_0x12348d[_0x551f2f(0x1f4)]);}}catch(_0x5ba3c1){_0x12348d[_0x551f2f(0x1d5)](debug,'Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20'+_0x5ba3c1),_0x3b9a9d['sessionError']=_0x5ba3c1[_0x551f2f(0x1a8)]();}}static[a60_0x382f8b(0x21b)](_0x20085b,_0x547d38){const _0x3f76e5=a60_0x382f8b,_0x3d710d={'ZBLbi':_0x3f76e5(0x238),'KVkHH':function(_0x1c72de,_0x501b60){return _0x1c72de||_0x501b60;},'MyHSn':function(_0x16f1f6,_0x49f82a){return _0x16f1f6||_0x49f82a;},'TgCBs':function(_0x2910e0,_0x1dbe05){return _0x2910e0===_0x1dbe05;},'oZRiF':_0x3f76e5(0x242),'RADbx':_0x3f76e5(0x1d6),'KJVLr':function(_0x5fe05d,_0x5d6924){return _0x5fe05d(_0x5d6924);}};let _0x3438e1=null,_0x2022ad=null;try{const _0x2ae635=[_0x547d38,global[_0x3f76e5(0x1f7)],global[_0x3f76e5(0x1a9)]];for(const _0x512a0a of _0x2ae635){if(_0x512a0a&&(!_0x2022ad||!_0x2022ad['sessionId'])){const _0x1f92f5=_0x512a0a[_0x3f76e5(0x1ab)]||_0x512a0a[_0x3d710d[_0x3f76e5(0x214)]]?.['sessionId'],_0x5a5cfb=_0x512a0a[_0x3f76e5(0x20c)]||_0x512a0a[_0x3f76e5(0x20a)]||_0x512a0a[_0x3d710d[_0x3f76e5(0x214)]]?.[_0x3f76e5(0x20c)],_0x10d063=_0x512a0a['browserVersion']||_0x512a0a[_0x3f76e5(0x250)]||_0x512a0a[_0x3d710d['ZBLbi']]?.[_0x3f76e5(0x1ce)],_0x5863a9=_0x512a0a['os']||_0x512a0a['platform']||_0x512a0a[_0x3d710d[_0x3f76e5(0x214)]]?.['os'],_0x43ed7d=_0x512a0a[_0x3f76e5(0x1ac)]||_0x512a0a[_0x3f76e5(0x21a)]||_0x512a0a[_0x3d710d[_0x3f76e5(0x214)]]?.[_0x3f76e5(0x1ac)];if(_0x3d710d['KVkHH'](_0x1f92f5,_0x5a5cfb)||_0x5863a9){const _0x251d7d={};_0x251d7d['browserName']=_0x5a5cfb,_0x251d7d['browserVersion']=_0x10d063,_0x251d7d['os']=_0x5863a9,_0x251d7d[_0x3f76e5(0x1ac)]=_0x43ed7d,_0x251d7d['platformName']=_0x512a0a[_0x3f76e5(0x23b)]||_0x5863a9,_0x251d7d[_0x3f76e5(0x206)]=_0x512a0a['platformVersion']||_0x43ed7d;const _0x371bb8={};_0x371bb8[_0x3f76e5(0x1ab)]=_0x1f92f5,_0x371bb8[_0x3f76e5(0x22b)]=_0x251d7d,_0x2022ad=_0x371bb8;if(_0x3d710d['MyHSn'](_0x1f92f5,_0x5a5cfb)){logger[_0x3f76e5(0x260)](_0x3f76e5(0x236)+_0x5a5cfb+_0x3f76e5(0x1c1)+_0x5863a9);break;}}}}if(_0x20085b&&_0x3d710d['TgCBs'](typeof _0x20085b,_0x3d710d['oZRiF']))try{const _0x1ac4fd=url[_0x3f76e5(0x208)](_0x20085b),_0x39f40a=new URLSearchParams(_0x1ac4fd[_0x3f76e5(0x211)]),_0x20a762=Object[_0x3f76e5(0x1fa)](_0x39f40a[_0x3f76e5(0x21d)]()),_0x58b83c=[_0x20a762['caps'],_0x20a762[_0x3f76e5(0x210)],_0x20a762['desiredCapabilities']];for(const _0x4729b5 of _0x58b83c){if(_0x4729b5&&(!_0x3438e1||!_0x3438e1[_0x3f76e5(0x1ab)]))try{const _0x6099c=JSON[_0x3f76e5(0x208)](_0x4729b5),_0x30eb28={};_0x30eb28[_0x3f76e5(0x1ab)]=_0x6099c[_0x3f76e5(0x1ab)]||_0x6099c[_0x3d710d['ZBLbi']]?.[_0x3f76e5(0x1ab)],_0x30eb28[_0x3f76e5(0x22b)]={},_0x30eb28[_0x3f76e5(0x22b)][_0x3f76e5(0x20c)]=_0x6099c[_0x3f76e5(0x20c)]||_0x6099c['browser'],_0x30eb28[_0x3f76e5(0x22b)][_0x3f76e5(0x1ce)]=_0x6099c[_0x3f76e5(0x1ce)]||_0x6099c[_0x3f76e5(0x250)],_0x30eb28[_0x3f76e5(0x22b)]['os']=_0x6099c['os']||_0x6099c[_0x3f76e5(0x21c)],_0x30eb28[_0x3f76e5(0x22b)][_0x3f76e5(0x1ac)]=_0x6099c[_0x3f76e5(0x1ac)]||_0x6099c[_0x3f76e5(0x21a)],_0x30eb28[_0x3f76e5(0x22b)][_0x3f76e5(0x23b)]=_0x6099c['platformName']||_0x6099c['os']||_0x6099c[_0x3f76e5(0x21c)],_0x30eb28[_0x3f76e5(0x22b)][_0x3f76e5(0x206)]=_0x6099c[_0x3f76e5(0x206)]||_0x6099c[_0x3f76e5(0x1ac)]||_0x6099c[_0x3f76e5(0x21a)],_0x3438e1=_0x30eb28;if(_0x3438e1[_0x3f76e5(0x1ab)]||_0x3438e1[_0x3f76e5(0x22b)][_0x3f76e5(0x20c)]){logger['debug'](_0x3d710d[_0x3f76e5(0x1a7)]);break;}}catch(_0x722f5f){_0x3d710d['KJVLr'](debug,_0x3f76e5(0x222)+_0x722f5f[_0x3f76e5(0x1a8)]());}}}catch(_0x2a00e8){_0x3d710d[_0x3f76e5(0x1df)](debug,_0x3f76e5(0x1e7)+_0x2a00e8[_0x3f76e5(0x1a8)]());}}catch(_0x1a5f54){_0x3d710d['KJVLr'](debug,'Error\x20extracting\x20BrowserStack\x20parameters:\x20'+util[_0x3f76e5(0x25a)](_0x1a5f54));}const _0x400585={};return _0x400585['bsParams']=_0x3438e1,_0x400585[_0x3f76e5(0x1eb)]=_0x2022ad,_0x400585;}static async[a60_0x382f8b(0x240)](_0x3e0718,_0x5981f5){const _0x360245=a60_0x382f8b,_0x958891={'IRKlK':function(_0x2da017,_0x30679b){return _0x2da017||_0x30679b;},'tjuCS':'Triggering\x20PLAYWRIGHT_DISPATCH\x20event','IKPtB':function(_0x21fcdb,_0x49bfc2){return _0x21fcdb(_0x49bfc2);}};try{if(!BrowserstackCLI['getInstance']()[_0x360245(0x200)]())return;if(_0x958891['IRKlK'](_0x3e0718,_0x5981f5)){logger[_0x360245(0x260)](_0x958891[_0x360245(0x1b2)]);const _0x4b0feb={'params':_0x3e0718?{'bsParams':_0x3e0718}:null,'bStackParams':_0x958891['IRKlK'](_0x5981f5,null)},_0x2e965b=AutomationFramework[_0x360245(0x1be)](),_0x31022e={};_0x31022e[_0x360245(0x1d9)]=_0x4b0feb,_0x31022e[_0x360245(0x1aa)]=_0x2e965b,await BrowserstackCLI[_0x360245(0x1d8)]()[_0x360245(0x1f3)]()[_0x360245(0x219)](AutomationFrameworkState[_0x360245(0x1cc)],HookState[_0x360245(0x201)],_0x31022e);}}catch(_0x2f58f1){_0x958891['IKPtB'](debug,_0x360245(0x1f5)+util[_0x360245(0x25a)](_0x2f58f1));}}static[a60_0x382f8b(0x1e0)](){const _0x208304=a60_0x382f8b;return this[_0x208304(0x1f1)];}}module[a60_0x382f8b(0x230)]=SharedPlaywrightSessionDetails;