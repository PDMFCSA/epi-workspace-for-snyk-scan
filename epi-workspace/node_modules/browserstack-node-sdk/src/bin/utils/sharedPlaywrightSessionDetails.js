const a60_0x3bccb8=a60_0x5b9f;function a60_0x2d86(){const _0x313944=['ymkjH','DJBxd','bstack:options','HHOxW','client','tbyoI','platformName','triggerPlaywrightDispatchEvent','join','entries','_bstackCRPatched','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','39rTedsJ','msedge','CRConnection','./constants','connectOptions','getInstance','url','ZpBmZ','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','mNHNu','edge','currentSessionDetails','PFaus','local_grid','MEANs','KTWDQ','function','patch','yUjTx','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','getAutomationFramework','message','capabilities','dispatch','_browserType','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','model','zsxvB','sessionId','test','platform_version','msmFW','stringify','use','ycnyB','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','deviceModel','vHruC','Gqxiq','_bstackDispatchPatched','KSiJt','connection.js','2505283UwePFm','25766mXsvuR','UfxUa','../v2/state/hookState.js','_name','browser_version','sAAdK','browserVersion','CRConnection\x20already\x20patched','KyWmK','product','_defaultConnectOptions','params','../v2/framework/automationFramework','setupBrowserDetails','hXTWU','firefox','PLAYWRIGHT_DISPATCH','NEIgu','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','Error\x20in\x20applying\x20Connection\x20patch\x20','SorGc','platformVersion','CRpzS','isRemote','patchCRConnection','CiRDB','version','NnvhP','SjJOV','toString','browserName','QXXoY','dpIpu','uqHyH','UWQog','fromEntries','Not\x20able\x20to\x20import\x20crConnection','playwright-','Error\x20in\x20importing\x20crConnection','NSOyO','wsEndpoint','7xZWAcE','SoClb','kLURH','automate','../v2/state/automationFrameworkState.js','awimy','35097GageFF','vzEAB','104Nspeuk','isRunning','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','cloudProvider','_onMessage','debug','Jbqvg','62343UziTUL','prototype','BSTACK_ATS_URL','exports','os_version','NABYi','SmqgL','135426QzZeJY','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','patchConnection','Connection','BSTACK_URL','browser','ATS_WSS_URL_REGEX','util','Connection\x20dispatch\x20already\x20patched','Found\x20Connection\x20class\x20at:\x20','tUzJc','iqkOK','Session\x20details\x20setup\x20complete:\x20','qEagn','FpEku','8LxwgTr','../../helpers/helper','FKfAk','bStackParams','uHMKj','parse','Successfully\x20patched\x20Connection.dispatch','1426056gnZTuA','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','lib','xFwAf','safari','bsSessionId','trackEvent','VHmdB','OajwN','crConnection.js','toLowerCase','iBLYR',',\x20os=','770qNIzVm','pXCDX','BxCdc','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','144728axjwbf','lPWfF','_connection','extractBrowserStackParams','BtoWg','XRVBG','ddvuI','project','sessionError','WOWrE','chrome','RDDwi','OZnCm','webkit','server','includes','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','nWpZs','QtdLm','10dcbfxB','MSypU','pEvnY','assign','sHbQN','Error\x20in\x20importing\x20connection\x20','WFxso','eEQUv','query','awVKg','turboscale','accessibilityPlatform','getTrackedInstance','bsParams','GYSlw','RgUSf','platformDetails','osVersion','../../helpers/test-observability/utils','gecko','desiredCapabilities','apply','browserstack','platform','defineProperty','PinvA','Error\x20extracting\x20BrowserStack\x20parameters:\x20','../../helpers/test-observability/error-handler','ttWRZ','qRMUm','channel','chromium'];a60_0x2d86=function(){return _0x313944;};return a60_0x2d86();}(function(_0x33faaf,_0x8231eb){const _0x280d16=a60_0x5b9f,_0x16f55c=_0x33faaf();while(!![]){try{const _0x268c5d=-parseInt(_0x280d16(0x1f7))/0x1*(parseInt(_0x280d16(0x245))/0x2)+-parseInt(_0x280d16(0x226))/0x3*(parseInt(_0x280d16(0x228))/0x4)+parseInt(_0x280d16(0x270))/0x5*(parseInt(_0x280d16(0x236))/0x6)+-parseInt(_0x280d16(0x220))/0x7*(-parseInt(_0x280d16(0x25d))/0x8)+-parseInt(_0x280d16(0x22f))/0x9*(-parseInt(_0x280d16(0x259))/0xa)+-parseInt(_0x280d16(0x1f6))/0xb+parseInt(_0x280d16(0x24c))/0xc*(parseInt(_0x280d16(0x1cc))/0xd);if(_0x268c5d===_0x8231eb)break;else _0x16f55c['push'](_0x16f55c['shift']());}catch(_0x453b13){_0x16f55c['push'](_0x16f55c['shift']());}}}(a60_0x2d86,0x4dab7));const path=require('path'),url=require(a60_0x3bccb8(0x1d2)),util=require(a60_0x3bccb8(0x23d)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x3bccb8(0x246)),{o11yErrorHandler}=require(a60_0x3bccb8(0x1bb)),{debug,getPlatformDetails}=require(a60_0x3bccb8(0x1b2)),logger=require('../../helpers/logger')['winstonLogger'],constants=require(a60_0x3bccb8(0x1cf)),AutomationFramework=require(a60_0x3bccb8(0x203)),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require(a60_0x3bccb8(0x224)),HookState=require(a60_0x3bccb8(0x1f9)),{platform}=require('os'),getBrowserNameFromChannel=_0x3340bc=>{const _0x59f38f=a60_0x3bccb8,_0x4cd4a1={};_0x4cd4a1['FKfAk']=_0x59f38f(0x267),_0x4cd4a1[_0x59f38f(0x1b9)]='edge',_0x4cd4a1['WFxso']='firefox',_0x4cd4a1[_0x59f38f(0x1c0)]=_0x59f38f(0x250);const _0x58455c=_0x4cd4a1;if(_0x3340bc[_0x59f38f(0x26c)](_0x58455c[_0x59f38f(0x247)]))return _0x58455c[_0x59f38f(0x247)];if(_0x3340bc[_0x59f38f(0x26c)](_0x58455c['PinvA']))return _0x58455c[_0x59f38f(0x1b9)];if(_0x3340bc[_0x59f38f(0x26c)](_0x58455c[_0x59f38f(0x276)]))return _0x58455c['WFxso'];if(_0x3340bc[_0x59f38f(0x26c)](_0x58455c[_0x59f38f(0x1c0)]))return _0x58455c[_0x59f38f(0x1c0)];},getBrowserFromWSEndpoint=_0x1c5b05=>{const _0x43dcdb=a60_0x3bccb8,_0x34bac3={'loTfA':_0x43dcdb(0x1c2),'iBLYR':function(_0x29da78,_0x585c61){return _0x29da78(_0x585c61);},'CiRDB':_0x43dcdb(0x1d6),'QXXoY':_0x43dcdb(0x1cd),'OZnCm':_0x43dcdb(0x206),'MwTPR':_0x43dcdb(0x1b3),'PFaus':_0x43dcdb(0x250),'hXTWU':_0x43dcdb(0x26a),'ZfiwR':_0x43dcdb(0x267)};try{const _0x16c4ae=url['parse'](_0x1c5b05),_0x3047e0=new URLSearchParams(_0x16c4ae[_0x43dcdb(0x278)]),_0x54930a=Object[_0x43dcdb(0x21a)](_0x3047e0[_0x43dcdb(0x1c9)]()),_0x35e2f8=[_0x54930a['caps'],_0x54930a[_0x43dcdb(0x1e2)],_0x54930a[_0x43dcdb(0x1b4)],_0x54930a['browserstack_capabilities']];for(const _0x551a48 of _0x35e2f8){if(_0x551a48)try{const _0x4a8637=JSON['parse'](_0x551a48),_0x4de2ce=_0x4a8637[_0x43dcdb(0x215)]||_0x4a8637[_0x43dcdb(0x23b)]||_0x4a8637[_0x34bac3['loTfA']]?.[_0x43dcdb(0x215)];if(_0x4de2ce)return _0x34bac3[_0x43dcdb(0x257)](debug,_0x43dcdb(0x25c)+_0x4de2ce),_0x4de2ce[_0x43dcdb(0x256)]();}catch(_0xe13b3e){_0x34bac3['iBLYR'](debug,'Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20'+_0xe13b3e[_0x43dcdb(0x1e1)]);}}if(_0x1c5b05[_0x43dcdb(0x26c)](_0x34bac3[_0x43dcdb(0x210)])||_0x1c5b05[_0x43dcdb(0x26c)](_0x34bac3[_0x43dcdb(0x216)]))return _0x34bac3[_0x43dcdb(0x210)];if(_0x1c5b05['includes'](_0x34bac3[_0x43dcdb(0x269)])||_0x1c5b05[_0x43dcdb(0x26c)](_0x34bac3['MwTPR']))return _0x34bac3['OZnCm'];if(_0x1c5b05[_0x43dcdb(0x26c)](_0x34bac3[_0x43dcdb(0x1d8)])||_0x1c5b05[_0x43dcdb(0x26c)](_0x34bac3[_0x43dcdb(0x205)]))return _0x34bac3[_0x43dcdb(0x1d8)];return _0x34bac3['ZfiwR'];}catch(_0x11fa5d){return _0x34bac3[_0x43dcdb(0x257)](debug,'Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20'+_0x11fa5d[_0x43dcdb(0x214)]()),_0x34bac3['ZfiwR'];}},getCloudProviderFromWsEndpoint=_0x559d7d=>{const _0x1e49f2=a60_0x3bccb8,_0xdc7881={};_0xdc7881[_0x1e49f2(0x227)]=_0x1e49f2(0x1b6),_0xdc7881[_0x1e49f2(0x1d3)]='unknown_grid';const _0x4e1f9d=_0xdc7881;if(_0x559d7d[_0x1e49f2(0x26c)](constants[_0x1e49f2(0x23a)])||_0x559d7d['includes'](constants[_0x1e49f2(0x231)]))return _0x4e1f9d['vzEAB'];return _0x4e1f9d['ZpBmZ'];},a60_0x59a3f4={};a60_0x59a3f4[a60_0x3bccb8(0x22b)]=undefined,a60_0x59a3f4[a60_0x3bccb8(0x251)]=undefined,a60_0x59a3f4['browser']=undefined,a60_0x59a3f4[a60_0x3bccb8(0x1fb)]=undefined,a60_0x59a3f4['platform']=undefined,a60_0x59a3f4[a60_0x3bccb8(0x1ea)]=undefined,a60_0x59a3f4['product']=undefined,a60_0x59a3f4[a60_0x3bccb8(0x1e2)]={};class SharedPlaywrightSessionDetails{static [a60_0x3bccb8(0x1d7)]=a60_0x59a3f4;constructor(){const _0x33fa9e=a60_0x3bccb8,_0x3aac82={};_0x3aac82[_0x33fa9e(0x249)]='Invalid\x20constructor,\x20please\x20use\x20static\x20methods';const _0x69bc7=_0x3aac82;throw new Error(_0x69bc7['uHMKj']);}static [a60_0x3bccb8(0x265)]=null;static[a60_0x3bccb8(0x204)](_0x2156f7,_0x598ef0,_0x54b7f6=null){const _0x11237d=a60_0x3bccb8,_0x313bc8={'FpEku':function(_0x91d79,_0x4734c0){return _0x91d79===_0x4734c0;},'VHmdB':_0x11237d(0x1dc),'AMVNU':_0x11237d(0x209),'UWQog':function(_0x1813fb,_0x1b177a){return _0x1813fb===_0x1b177a;},'NnvhP':'Device\x20Model\x20is\x20not\x20available','nWpZs':_0x11237d(0x1d9),'UfxUa':function(_0x2de2f3,_0x14955a,_0x41049b){return _0x2de2f3(_0x14955a,_0x41049b);},'CRpzS':_0x11237d(0x1e4),'tUzJc':_0x11237d(0x201),'yUjTx':function(_0x326151,_0x9b458c,_0x225378){return _0x326151(_0x9b458c,_0x225378);},'MSypU':_0x11237d(0x264),'dTIby':_0x11237d(0x1ed),'HHOxW':_0x11237d(0x1d0),'OkPld':function(_0x398845,_0x4ae225){return _0x398845(_0x4ae225);},'sHbQN':'browserstack','BtoWg':_0x11237d(0x1aa),'RDDwi':_0x11237d(0x223),'tbyoI':function(_0x2a10dd,_0x127d94){return _0x2a10dd(_0x127d94);},'RgUSf':function(_0x5364ee,_0x26d373){return _0x5364ee===_0x26d373;},'NABYi':_0x11237d(0x1bf),'SjJOV':function(_0x587465,_0x1026b0){return _0x587465+_0x1026b0;},'ypQjl':_0x11237d(0x21c),'msmFW':function(_0x1d828f){return _0x1d828f();},'pEvnY':'setupBrowserDetails'},_0x2afc86=this;return _0x313bc8[_0x11237d(0x1f8)](o11yErrorHandler,async function _0x36f4fd(_0x1b5916,_0x14656f,_0x3e42dd=null){const _0x14f966=_0x11237d;let _0x27cc93=_0x1b5916[_0x14f966(0x1fa)],_0x2c33a7=null;_0x1b5916&&_0x313bc8[_0x14f966(0x244)](typeof _0x1b5916[_0x14f966(0x211)],_0x313bc8[_0x14f966(0x253)])?_0x2c33a7=_0x1b5916[_0x14f966(0x211)]():logger[_0x14f966(0x22d)](_0x313bc8['AMVNU']);let _0xbb51fb=null;_0x1b5916&&_0x313bc8[_0x14f966(0x219)](typeof _0x1b5916[_0x14f966(0x1e6)],_0x313bc8[_0x14f966(0x253)])?_0xbb51fb=_0x1b5916['model']():logger[_0x14f966(0x22d)](_0x313bc8[_0x14f966(0x212)]);let _0xd8487=null,_0x313dcb=null,_0x388536=null,_0x386c4c=_0x313bc8[_0x14f966(0x26e)];if(_0x1b5916[_0x14f966(0x25f)][_0x14f966(0x20e)]()||global[_0x14f966(0x1ab)]){let _0x4d564f=null;_0x313bc8[_0x14f966(0x1f8)](nestedKeyValue,_0x1b5916,[_0x313bc8[_0x14f966(0x20d)],_0x313bc8[_0x14f966(0x240)]])?_0x4d564f=_0x1b5916[_0x14f966(0x1e4)][_0x14f966(0x201)]:_0x4d564f=_0x313bc8[_0x14f966(0x1de)](nestedKeyValue,_0x14656f,[_0x313bc8[_0x14f966(0x271)],_0x313bc8['dTIby'],_0x313bc8[_0x14f966(0x1c3)]]);const _0x46fd17=_0x3e42dd||_0x4d564f&&_0x4d564f[_0x14f966(0x21f)];if(_0x46fd17){_0x386c4c=_0x313bc8['OkPld'](getCloudProviderFromWsEndpoint,_0x46fd17);if(_0x313bc8[_0x14f966(0x219)](_0x386c4c,_0x313bc8[_0x14f966(0x274)])){_0x388536=constants[_0x14f966(0x23c)][_0x14f966(0x1e9)](_0x46fd17)?_0x313bc8[_0x14f966(0x261)]:_0x313bc8[_0x14f966(0x268)];const _0x3f11d2=_0x313bc8[_0x14f966(0x1c5)](getBrowserFromWSEndpoint,_0x46fd17);if(_0x3f11d2&&(!_0x27cc93||_0x313bc8[_0x14f966(0x1af)](_0x27cc93,_0x313bc8[_0x14f966(0x234)])))_0x27cc93=_0x3f11d2,logger['debug'](_0x14f966(0x1df)+_0x27cc93);else _0x27cc93&&logger['debug'](_0x14f966(0x1ef)+_0x27cc93);_0xd8487=_0x2afc86[_0x14f966(0x1d7)][_0x14f966(0x1b7)],_0x313dcb=_0x2afc86[_0x14f966(0x1d7)][_0x14f966(0x1ea)];}}}else{_0x14656f&&_0x14656f[_0x14f966(0x264)]&&_0x14656f['project'][_0x14f966(0x1ed)]&&_0x14656f[_0x14f966(0x264)][_0x14f966(0x1ed)]['channel']?_0x27cc93=_0x313bc8[_0x14f966(0x1c5)](getBrowserNameFromChannel,_0x14656f[_0x14f966(0x264)][_0x14f966(0x1ed)][_0x14f966(0x1be)]):_0x27cc93=_0x313bc8[_0x14f966(0x213)](_0x313bc8['ypQjl'],_0x27cc93[_0x14f966(0x256)]());const _0x4e01da=await _0x313bc8[_0x14f966(0x1eb)](getPlatformDetails);_0xd8487=_0x4e01da['platformName'],_0x313dcb=_0x4e01da[_0x14f966(0x20c)];}const _0x470a96={};_0x470a96['browser']=_0x27cc93,_0x470a96['browser_version']=_0x2c33a7,_0x470a96['capabilities']={},_0x470a96[_0x14f966(0x1b7)]=_0xd8487,_0x470a96[_0x14f966(0x1ea)]=_0x313dcb,_0x470a96['product']=_0x388536;const _0x378219=_0x470a96;_0xbb51fb&&(_0x378219['capabilities'][_0x14f966(0x1f0)]=_0xbb51fb);const _0x448c9c={};_0x448c9c[_0x14f966(0x22b)]=_0x386c4c,_0x2afc86['currentSessionDetails']=Object[_0x14f966(0x273)]({},_0x2afc86[_0x14f966(0x1d7)],_0x448c9c,_0x378219);const _0x50541d={};_0x50541d[_0x14f966(0x23b)]=_0x2afc86[_0x14f966(0x1d7)][_0x14f966(0x23b)],_0x50541d[_0x14f966(0x1fd)]=_0x2afc86[_0x14f966(0x1d7)][_0x14f966(0x1fb)],_0x50541d[_0x14f966(0x1b7)]=_0x2afc86[_0x14f966(0x1d7)][_0x14f966(0x1b7)],_0x50541d[_0x14f966(0x20c)]=_0x2afc86[_0x14f966(0x1d7)]['platform_version'],_0x50541d[_0x14f966(0x22b)]=_0x2afc86['currentSessionDetails'][_0x14f966(0x22b)],_0x50541d[_0x14f966(0x200)]=_0x2afc86[_0x14f966(0x1d7)]['product'],logger[_0x14f966(0x22d)](_0x14f966(0x242)+JSON[_0x14f966(0x1ec)](_0x50541d));},_0x313bc8[_0x11237d(0x272)])(_0x2156f7,_0x598ef0,_0x54b7f6);}static[a60_0x3bccb8(0x1dd)](){const _0x3bcf9e=a60_0x3bccb8;this[_0x3bcf9e(0x238)](),this[_0x3bcf9e(0x20f)]();}static[a60_0x3bccb8(0x238)](){const _0x259b2b=a60_0x3bccb8,_0x503899={'Jbqvg':function(_0x370777,_0x4c17fb){return _0x370777(_0x4c17fb);},'NEIgu':function(_0x1d111c,_0x48b515){return _0x1d111c(_0x48b515);},'iqkOK':_0x259b2b(0x24e),'uqHyH':_0x259b2b(0x1c4),'SorGc':_0x259b2b(0x1f5),'KyWmK':function(_0x577e84,_0x244581){return _0x577e84(_0x244581);},'awimy':function(_0xab94ba,_0x329f1f){return _0xab94ba(_0x329f1f);},'DJBxd':_0x259b2b(0x1cb),'SoClb':function(_0x49672a,_0x4aa5ae){return _0x49672a!=_0x4aa5ae;},'qEagn':function(_0x3fd39b,_0x32ce58){return _0x3fd39b(_0x32ce58);},'SmqgL':_0x259b2b(0x23e),'eEQUv':_0x259b2b(0x1e3),'ttWRZ':_0x259b2b(0x24b)},_0x240b77=this;if(!this['Connection'])try{const _0x3e0527=[path[_0x259b2b(0x1c8)](_0x503899[_0x259b2b(0x241)],_0x503899[_0x259b2b(0x218)],_0x503899[_0x259b2b(0x20b)]),path[_0x259b2b(0x1c8)](_0x503899[_0x259b2b(0x241)],_0x503899[_0x259b2b(0x20b)]),path[_0x259b2b(0x1c8)](_0x503899['uqHyH'],_0x503899[_0x259b2b(0x20b)])];for(const _0x5f4f13 of _0x3e0527){try{const _0x3d25a7=_0x503899[_0x259b2b(0x22e)](importFileFromPWCore,_0x5f4f13);if(_0x3d25a7&&_0x3d25a7[_0x259b2b(0x239)]){this[_0x259b2b(0x239)]=_0x3d25a7['Connection'],logger[_0x259b2b(0x22d)](_0x259b2b(0x23f)+_0x5f4f13);break;}}catch(_0x4c7604){_0x503899[_0x259b2b(0x1ff)](debug,'Failed\x20to\x20import\x20connection\x20from\x20'+_0x5f4f13+':\x20'+_0x4c7604[_0x259b2b(0x214)]());}}if(!this[_0x259b2b(0x239)]){_0x503899['awimy'](debug,_0x503899[_0x259b2b(0x1c1)]);return;}}catch(_0x16d1e6){_0x503899[_0x259b2b(0x225)](debug,_0x259b2b(0x275)+_0x16d1e6[_0x259b2b(0x214)]());return;}const _0x4218ad=this[_0x259b2b(0x239)];try{if(_0x503899[_0x259b2b(0x221)](_0x4218ad,null)){const _0x202078=_0x4218ad[_0x259b2b(0x230)][_0x259b2b(0x1e3)];if(!_0x503899[_0x259b2b(0x243)](isFalse,process['env']['BROWSERSTACK_TEST_OBSERVABILITY'])){if(_0x4218ad[_0x259b2b(0x230)][_0x259b2b(0x1f3)]){logger[_0x259b2b(0x22d)](_0x503899[_0x259b2b(0x235)]);return;}Object[_0x259b2b(0x1b8)](_0x4218ad[_0x259b2b(0x230)],_0x503899[_0x259b2b(0x277)],{'get':function(){return async function _0xf4d80f(_0xa4a050){const _0x461d2d=a60_0x5b9f;if(BrowserstackCLI[_0x461d2d(0x1d1)]()[_0x461d2d(0x229)]()){const _0x365266={};_0x365266[_0x461d2d(0x1e1)]=_0xa4a050,await BrowserstackCLI['getInstance']()[_0x461d2d(0x1e0)]()[_0x461d2d(0x252)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState['POST'],_0x365266);}else{const _0x5a6a6e=_0xa4a050&&_0xa4a050[_0x461d2d(0x202)]&&_0xa4a050[_0x461d2d(0x202)]['bsParams'];if(_0x5a6a6e){const _0x5b5ce2=_0x5a6a6e[_0x461d2d(0x1e8)],_0x223065=_0x5a6a6e[_0x461d2d(0x1b0)];_0x223065&&(_0x503899[_0x461d2d(0x22e)](debug,'Setting\x20platform\x20details\x20received\x20from\x20BS:\x20'+_0x223065['toString']()),_0x240b77[_0x461d2d(0x1d7)][_0x461d2d(0x1b7)]=_0x223065[_0x461d2d(0x1c6)],_0x240b77['currentSessionDetails']['platform_version']=_0x223065[_0x461d2d(0x20c)]),_0x5b5ce2&&(_0x503899[_0x461d2d(0x208)](debug,'Setting\x20session\x20id\x20received\x20from\x20BS\x20'+_0x5b5ce2),_0x240b77['currentSessionDetails'][_0x461d2d(0x251)]=_0x5b5ce2);}}return _0x202078[_0x461d2d(0x1b5)](this,arguments);};}}),_0x4218ad[_0x259b2b(0x230)][_0x259b2b(0x1f3)]=!![],logger[_0x259b2b(0x22d)](_0x503899[_0x259b2b(0x1bc)]);}}}catch(_0x1c2d65){_0x503899[_0x259b2b(0x22e)](debug,_0x259b2b(0x20a)+_0x1c2d65),_0x240b77['sessionError']=_0x1c2d65[_0x259b2b(0x214)]();}}static[a60_0x3bccb8(0x20f)](){const _0x13c375=a60_0x3bccb8,_0x21cf05={'OajwN':function(_0x7710cd,_0x1c29bd){return _0x7710cd(_0x1c29bd);},'BxCdc':function(_0x27f7f6,_0x15325c){return _0x27f7f6(_0x15325c);},'lPWfF':function(_0x1e23aa,_0x1ffe10){return _0x1e23aa(_0x1ffe10);},'GYSlw':_0x13c375(0x24e),'dpIpu':_0x13c375(0x26b),'mNHNu':_0x13c375(0x1bf),'kLURH':_0x13c375(0x255),'vPyZQ':function(_0x57f4e5,_0x31e89d){return _0x57f4e5(_0x31e89d);},'Giruk':_0x13c375(0x21b),'XRVBG':_0x13c375(0x21d),'WOWrE':function(_0x5d7eac,_0x196a77){return _0x5d7eac!=_0x196a77;},'QtdLm':_0x13c375(0x1fe),'Gqxiq':_0x13c375(0x22c),'qKvpR':'Successfully\x20patched\x20CRConnection._onMessage'},_0x82bcbe=this;let _0x53c2e7=null;try{const _0x500d88=path[_0x13c375(0x1c8)](_0x21cf05[_0x13c375(0x1ae)],_0x21cf05[_0x13c375(0x217)],_0x21cf05[_0x13c375(0x1d5)],_0x21cf05[_0x13c375(0x222)]),_0x44ed05=_0x21cf05[_0x13c375(0x25e)](importFileFromPWCore,_0x500d88);!_0x44ed05?_0x21cf05['vPyZQ'](debug,_0x21cf05['Giruk']):_0x53c2e7=_0x44ed05[_0x13c375(0x1ce)];}catch(_0x5e89c9){_0x21cf05[_0x13c375(0x254)](debug,_0x21cf05[_0x13c375(0x262)]);}try{if(_0x21cf05[_0x13c375(0x266)](_0x53c2e7,null)){const _0x38e708=_0x53c2e7[_0x13c375(0x230)]['_onMessage'];if(_0x53c2e7[_0x13c375(0x230)][_0x13c375(0x1ca)]){logger[_0x13c375(0x22d)](_0x21cf05[_0x13c375(0x26f)]);return;}Object['defineProperty'](_0x53c2e7[_0x13c375(0x230)],_0x21cf05[_0x13c375(0x1f2)],{'get':function(){const _0xe4471c={'vHruC':function(_0x58421b,_0x13bddf){const _0x4d5739=a60_0x5b9f;return _0x21cf05[_0x4d5739(0x254)](_0x58421b,_0x13bddf);},'rVQDd':function(_0x4f5c91,_0xb3a4f){const _0x491a5a=a60_0x5b9f;return _0x21cf05[_0x491a5a(0x25b)](_0x4f5c91,_0xb3a4f);},'SZfed':function(_0x513282,_0x1d686e){const _0x467487=a60_0x5b9f;return _0x21cf05[_0x467487(0x25e)](_0x513282,_0x1d686e);}};return async function _0x9b2ac2(_0x47ac63){const _0x61abcc=a60_0x5b9f;try{if(BrowserstackCLI['getInstance']()[_0x61abcc(0x229)]()){const _0x561ed6={};_0x561ed6[_0x61abcc(0x1e1)]=_0x47ac63,await BrowserstackCLI[_0x61abcc(0x1d1)]()[_0x61abcc(0x1e0)]()[_0x61abcc(0x252)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState['POST'],_0x561ed6),delete _0x47ac63[_0x61abcc(0x248)];}else{const _0x1c81cc=_0x47ac63['bStackParams'];if(_0x1c81cc){delete _0x47ac63['bStackParams'];const _0x3d7a4c=_0x1c81cc[_0x61abcc(0x1e8)],_0x29255f=_0x1c81cc['platformDetails'];_0x29255f&&(_0xe4471c[_0x61abcc(0x1f1)](debug,_0x61abcc(0x22a)+_0x29255f[_0x61abcc(0x214)]()),_0x82bcbe['currentSessionDetails']['platform']=_0x29255f[_0x61abcc(0x1c6)],_0x82bcbe[_0x61abcc(0x1d7)][_0x61abcc(0x1ea)]=_0x29255f[_0x61abcc(0x20c)]),_0x3d7a4c&&(_0xe4471c['rVQDd'](debug,_0x61abcc(0x1d4)+_0x3d7a4c),_0x82bcbe['currentSessionDetails'][_0x61abcc(0x251)]=_0x3d7a4c);}}}catch(_0x26fddd){_0xe4471c['SZfed'](debug,'Error\x20in\x20finding\x20platform\x20details\x20'+_0x26fddd['toString']());}return _0x38e708[_0x61abcc(0x1b5)](this,arguments);};}}),_0x53c2e7[_0x13c375(0x230)]['_bstackCRPatched']=!![],logger['debug'](_0x21cf05['qKvpR']);}}catch(_0x3de686){_0x21cf05[_0x13c375(0x254)](debug,_0x13c375(0x237)+_0x3de686),_0x82bcbe['sessionError']=_0x3de686['toString']();}}static[a60_0x3bccb8(0x260)](_0x1da056,_0x1a0e99){const _0x4ebcf9=a60_0x3bccb8,_0x5b1219={'ycnyB':_0x4ebcf9(0x1c2),'zsxvB':function(_0x1003cd,_0x382581){return _0x1003cd||_0x382581;},'awVKg':function(_0x43bc33,_0x28f1aa){return _0x43bc33||_0x28f1aa;},'sAAdK':function(_0x41ada1,_0x405825){return _0x41ada1===_0x405825;},'NSOyO':'string','pXCDX':_0x4ebcf9(0x24d),'MEANs':function(_0x3a28f9,_0x1922a6){return _0x3a28f9(_0x1922a6);},'ddvuI':function(_0x7c34e3,_0x15cd90){return _0x7c34e3(_0x15cd90);},'xFwAf':function(_0x16bb8f,_0x54e236){return _0x16bb8f(_0x54e236);}};let _0xb211c4=null,_0x32b7eb=null;try{const _0x5852d8=[_0x1a0e99,global['__platformCaps'],global['capabilties']];for(const _0x232473 of _0x5852d8){if(_0x232473&&(!_0x32b7eb||!_0x32b7eb['sessionId'])){const _0x4351d3=_0x232473[_0x4ebcf9(0x1e8)]||_0x232473[_0x5b1219[_0x4ebcf9(0x1ee)]]?.[_0x4ebcf9(0x1e8)],_0x95b802=_0x232473[_0x4ebcf9(0x215)]||_0x232473['browser']||_0x232473[_0x5b1219[_0x4ebcf9(0x1ee)]]?.[_0x4ebcf9(0x215)],_0xfd5108=_0x232473[_0x4ebcf9(0x1fd)]||_0x232473[_0x4ebcf9(0x1fb)]||_0x232473[_0x5b1219[_0x4ebcf9(0x1ee)]]?.[_0x4ebcf9(0x1fd)],_0x39552e=_0x232473['os']||_0x232473[_0x4ebcf9(0x1b7)]||_0x232473[_0x5b1219['ycnyB']]?.['os'],_0x4424ca=_0x232473[_0x4ebcf9(0x1b1)]||_0x232473[_0x4ebcf9(0x233)]||_0x232473[_0x5b1219['ycnyB']]?.[_0x4ebcf9(0x1b1)];if(_0x5b1219[_0x4ebcf9(0x1e7)](_0x4351d3,_0x95b802)||_0x39552e){const _0x38c4f3={};_0x38c4f3['browserName']=_0x95b802,_0x38c4f3[_0x4ebcf9(0x1fd)]=_0xfd5108,_0x38c4f3['os']=_0x39552e,_0x38c4f3[_0x4ebcf9(0x1b1)]=_0x4424ca,_0x38c4f3['platformName']=_0x232473[_0x4ebcf9(0x1c6)]||_0x39552e,_0x38c4f3[_0x4ebcf9(0x20c)]=_0x232473['platformVersion']||_0x4424ca;const _0x558802={};_0x558802[_0x4ebcf9(0x1e8)]=_0x4351d3,_0x558802[_0x4ebcf9(0x1b0)]=_0x38c4f3,_0x32b7eb=_0x558802;if(_0x5b1219[_0x4ebcf9(0x1a9)](_0x4351d3,_0x95b802)){logger[_0x4ebcf9(0x22d)]('BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser='+_0x95b802+_0x4ebcf9(0x258)+_0x39552e);break;}}}}if(_0x1da056&&_0x5b1219[_0x4ebcf9(0x1fc)](typeof _0x1da056,_0x5b1219[_0x4ebcf9(0x21e)]))try{const _0x4c7748=url[_0x4ebcf9(0x24a)](_0x1da056),_0x1eb7e0=new URLSearchParams(_0x4c7748[_0x4ebcf9(0x278)]),_0x1808cc=Object[_0x4ebcf9(0x21a)](_0x1eb7e0[_0x4ebcf9(0x1c9)]()),_0x83c8b3=[_0x1808cc['caps'],_0x1808cc['capabilities'],_0x1808cc[_0x4ebcf9(0x1b4)]];for(const _0x54c724 of _0x83c8b3){if(_0x54c724&&(!_0xb211c4||!_0xb211c4[_0x4ebcf9(0x1e8)]))try{const _0x196a03=JSON['parse'](_0x54c724),_0xab8933={};_0xab8933[_0x4ebcf9(0x1e8)]=_0x196a03[_0x4ebcf9(0x1e8)]||_0x196a03[_0x5b1219[_0x4ebcf9(0x1ee)]]?.[_0x4ebcf9(0x1e8)],_0xab8933[_0x4ebcf9(0x1b0)]={},_0xab8933[_0x4ebcf9(0x1b0)][_0x4ebcf9(0x215)]=_0x196a03[_0x4ebcf9(0x215)]||_0x196a03[_0x4ebcf9(0x23b)],_0xab8933[_0x4ebcf9(0x1b0)][_0x4ebcf9(0x1fd)]=_0x196a03['browserVersion']||_0x196a03[_0x4ebcf9(0x1fb)],_0xab8933[_0x4ebcf9(0x1b0)]['os']=_0x196a03['os']||_0x196a03[_0x4ebcf9(0x1b7)],_0xab8933[_0x4ebcf9(0x1b0)][_0x4ebcf9(0x1b1)]=_0x196a03[_0x4ebcf9(0x1b1)]||_0x196a03[_0x4ebcf9(0x233)],_0xab8933[_0x4ebcf9(0x1b0)]['platformName']=_0x196a03['platformName']||_0x196a03['os']||_0x196a03[_0x4ebcf9(0x1b7)],_0xab8933[_0x4ebcf9(0x1b0)][_0x4ebcf9(0x20c)]=_0x196a03[_0x4ebcf9(0x20c)]||_0x196a03['osVersion']||_0x196a03[_0x4ebcf9(0x233)],_0xb211c4=_0xab8933;if(_0xb211c4[_0x4ebcf9(0x1e8)]||_0xb211c4['platformDetails'][_0x4ebcf9(0x215)]){logger[_0x4ebcf9(0x22d)](_0x5b1219[_0x4ebcf9(0x25a)]);break;}}catch(_0x3ea58f){_0x5b1219[_0x4ebcf9(0x1da)](debug,_0x4ebcf9(0x26d)+_0x3ea58f[_0x4ebcf9(0x214)]());}}}catch(_0x1576ea){_0x5b1219[_0x4ebcf9(0x263)](debug,'Error\x20parsing\x20WebSocket\x20endpoint:\x20'+_0x1576ea['toString']());}}catch(_0x405b12){_0x5b1219[_0x4ebcf9(0x24f)](debug,_0x4ebcf9(0x1ba)+util['format'](_0x405b12));}const _0x54b783={};return _0x54b783[_0x4ebcf9(0x1ad)]=_0xb211c4,_0x54b783[_0x4ebcf9(0x248)]=_0x32b7eb,_0x54b783;}static async[a60_0x3bccb8(0x1c7)](_0x1d11d8,_0x4ce040){const _0x1468c0=a60_0x3bccb8,_0x3211a3={'KTWDQ':function(_0x732cf1,_0x516840){return _0x732cf1||_0x516840;},'qRMUm':'Triggering\x20PLAYWRIGHT_DISPATCH\x20event','kcYRX':function(_0x408f5f,_0x3acb89){return _0x408f5f||_0x3acb89;},'KSiJt':function(_0x289143,_0x3e5f80){return _0x289143(_0x3e5f80);}};try{if(!BrowserstackCLI['getInstance']()[_0x1468c0(0x229)]())return;if(_0x3211a3[_0x1468c0(0x1db)](_0x1d11d8,_0x4ce040)){logger[_0x1468c0(0x22d)](_0x3211a3[_0x1468c0(0x1bd)]);const _0x43e0e5={'params':_0x1d11d8?{'bsParams':_0x1d11d8}:null,'bStackParams':_0x3211a3['kcYRX'](_0x4ce040,null)},_0x53bb39=AutomationFramework[_0x1468c0(0x1ac)](),_0x5ba8d5={};_0x5ba8d5['message']=_0x43e0e5,_0x5ba8d5['instance']=_0x53bb39,await BrowserstackCLI[_0x1468c0(0x1d1)]()[_0x1468c0(0x1e0)]()[_0x1468c0(0x252)](AutomationFrameworkState[_0x1468c0(0x207)],HookState['POST'],_0x5ba8d5);}}catch(_0x4577d2){_0x3211a3[_0x1468c0(0x1f4)](debug,_0x1468c0(0x1e5)+util['format'](_0x4577d2));}}static['getDetails'](){const _0x1be2d8=a60_0x3bccb8;return this[_0x1be2d8(0x1d7)];}}function a60_0x5b9f(_0x301069,_0x46d5f0){const _0x2d8687=a60_0x2d86();return a60_0x5b9f=function(_0x5b9f95,_0x3607b4){_0x5b9f95=_0x5b9f95-0x1a9;let _0x48f038=_0x2d8687[_0x5b9f95];return _0x48f038;},a60_0x5b9f(_0x301069,_0x46d5f0);}module[a60_0x3bccb8(0x232)]=SharedPlaywrightSessionDetails;