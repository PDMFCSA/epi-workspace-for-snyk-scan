const a60_0x485d97=a60_0x1c8b;function a60_0x5f9a(){const _0x1c7561=['bsSessionId','KVmbx','wsEndpoint','Tdleo','rCHSC','5338503vfsMvZ','_bstackDispatchPatched','use','tshtq','OzBan','toString','prototype','gQCiQ','10445460AKydZL','deviceModel','jcWuj','capabilties','PFqcY','assign','PadbL','server','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','bwwCJ','iOXsK','MeuOO','entries','_connection','channel','Usmoc','Failed\x20to\x20import\x20connection\x20from\x20','platformDetails','Error\x20in\x20importing\x20crConnection','afSXx','isRunning','../../helpers/test-observability/utils','PLAYWRIGHT_DISPATCH','_browserType','join','UlXSM','env','sessionError','mFYzo','lib','FDtSl','DCXjE','params','browserVersion','firefox','os_version','unknown_grid','152148NVvRrH','Error\x20in\x20applying\x20Connection\x20patch\x20','IefKd','turboscale','XTusH','test','../../helpers/logger','njrdE','osVersion','mSYIW','webkit','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','edge','product','extractBrowserStackParams','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','kvMOH','dispatch','KQehu','Successfully\x20patched\x20Connection.dispatch','sessionId','BSTACK_ATS_URL','qHSgJ','string','patchCRConnection','accessibilityPlatform','caps','agxzd','desiredCapabilities','QIYyQ','81944SnOJLE','debug','qvoxM','cqIts','POST','HKynL','util','apply','TyEyw','eKXmS','chromium','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','isRemote','GJWez','platformVersion','crConnection.js','message','wiOiU','BeVHw','1644KcMLqr','safari','119Asjtqy','model','NYCry','NAwcf','_name','zeNZP','capabilities','Not\x20able\x20to\x20import\x20crConnection','12JAOcAr','./constants','FRBmd','Connection','Error\x20in\x20importing\x20connection\x20','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','iteDI','cloudProvider','format','ATS_WSS_URL_REGEX','query','123560OpnVaW','SoMlm','BSTACK_URL','BROWSERSTACK_TEST_OBSERVABILITY','Connection\x20dispatch\x20already\x20patched','bstack:options','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','trackEvent','msedge','getInstance','platform','vqOfc','browser','ayJOT','browser_version','CRConnection','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','EKomx','_defaultConnectOptions','Error\x20in\x20finding\x20platform\x20details\x20','__platformCaps','version','includes','browserstack','PIpvR','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','defineProperty','chrome','DmWiB','automate','browserName','../v2/browserstackCLI','currentSessionDetails','parse','ElepI','url','../../helpers/helper','MJCid','platformName','CwvYC','7AQJWlx','KZNao','TDEfU','browserstack_capabilities','crwhY','XcCcE',',\x20os=','ihLGp','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','Device\x20Model\x20is\x20not\x20available','connectOptions','platform_version','instance','gecko','yPKJw','../v2/framework/automationFramework','project','../v2/state/automationFrameworkState.js','2438810JvTdlr','KIZeq','giNes','tjvZU','patchConnection','ULiJA','connection.js','WNFpr','yDiVp','YmUOG','bsParams','Successfully\x20patched\x20CRConnection._onMessage','bWxVM','_bstackCRPatched','EFxHF','nZSkI','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','fhury','zNHEh','function','patch','Session\x20details\x20setup\x20complete:\x20','winstonLogger','_onMessage','XBgvI','fromEntries','getAutomationFramework','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','getDetails','bStackParams','ytXHz','getTrackedInstance','NhxAh'];a60_0x5f9a=function(){return _0x1c7561;};return a60_0x5f9a();}(function(_0x2c7f35,_0xc9a7bf){const _0x35ce81=a60_0x1c8b,_0x47d60a=_0x2c7f35();while(!![]){try{const _0x247c7c=-parseInt(_0x35ce81(0x184))/0x1*(parseInt(_0x35ce81(0x21a))/0x2)+-parseInt(_0x35ce81(0x224))/0x3*(-parseInt(_0x35ce81(0x22f))/0x4)+parseInt(_0x35ce81(0x196))/0x5+parseInt(_0x35ce81(0x1e9))/0x6+parseInt(_0x35ce81(0x21c))/0x7*(parseInt(_0x35ce81(0x207))/0x8)+parseInt(_0x35ce81(0x1bc))/0x9+-parseInt(_0x35ce81(0x1c4))/0xa;if(_0x247c7c===_0xc9a7bf)break;else _0x47d60a['push'](_0x47d60a['shift']());}catch(_0x5a0895){_0x47d60a['push'](_0x47d60a['shift']());}}}(a60_0x5f9a,0x5658e));function a60_0x1c8b(_0x221b38,_0x22c7c3){const _0x5f9a24=a60_0x5f9a();return a60_0x1c8b=function(_0x1c8b15,_0x39aabc){_0x1c8b15=_0x1c8b15-0x17d;let _0xfce462=_0x5f9a24[_0x1c8b15];return _0xfce462;},a60_0x1c8b(_0x221b38,_0x22c7c3);}const path=require('path'),url=require(a60_0x485d97(0x17f)),util=require(a60_0x485d97(0x20d)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x485d97(0x180)),{o11yErrorHandler}=require('../../helpers/test-observability/error-handler'),{debug,getPlatformDetails}=require(a60_0x485d97(0x1d9)),logger=require(a60_0x485d97(0x1ef))[a60_0x485d97(0x1ac)],constants=require(a60_0x485d97(0x225)),AutomationFramework=require(a60_0x485d97(0x193)),BrowserstackCLI=require(a60_0x485d97(0x24e)),AutomationFrameworkState=require(a60_0x485d97(0x195)),HookState=require('../v2/state/hookState.js'),{platform}=require('os'),getBrowserNameFromChannel=_0xc7d2b0=>{const _0x1ca924=a60_0x485d97,_0x3bd903={};_0x3bd903[_0x1ca924(0x20c)]=_0x1ca924(0x24a),_0x3bd903[_0x1ca924(0x186)]='edge',_0x3bd903[_0x1ca924(0x1a5)]='firefox',_0x3bd903[_0x1ca924(0x1b8)]=_0x1ca924(0x21b);const _0x5bc5ba=_0x3bd903;if(_0xc7d2b0[_0x1ca924(0x245)](_0x5bc5ba[_0x1ca924(0x20c)]))return _0x5bc5ba[_0x1ca924(0x20c)];if(_0xc7d2b0['includes'](_0x5bc5ba[_0x1ca924(0x186)]))return _0x5bc5ba['TDEfU'];if(_0xc7d2b0[_0x1ca924(0x245)](_0x5bc5ba[_0x1ca924(0x1a5)]))return _0x5bc5ba['nZSkI'];if(_0xc7d2b0[_0x1ca924(0x245)](_0x5bc5ba['KVmbx']))return _0x5bc5ba[_0x1ca924(0x1b8)];},getBrowserFromWSEndpoint=_0x1fb311=>{const _0xf0e742=a60_0x485d97,_0x303bd3={'QIYyQ':_0xf0e742(0x234),'MPbKE':function(_0xe0d728,_0x238ccc){return _0xe0d728(_0x238ccc);},'OzBan':function(_0x383f99,_0x5d18d9){return _0x383f99(_0x5d18d9);},'EKomx':_0xf0e742(0x1f5),'ElepI':_0xf0e742(0x237),'TyEyw':_0xf0e742(0x1e6),'iteDI':_0xf0e742(0x191),'ytXHz':_0xf0e742(0x21b),'zNHEh':_0xf0e742(0x1f3),'bWxVM':_0xf0e742(0x24a),'Tdleo':function(_0x3f7dc2,_0x4eacbb){return _0x3f7dc2(_0x4eacbb);}};try{const _0x3b52a3=url[_0xf0e742(0x17d)](_0x1fb311),_0x3c1bd5=new URLSearchParams(_0x3b52a3[_0xf0e742(0x22e)]),_0x6a3d33=Object[_0xf0e742(0x1af)](_0x3c1bd5[_0xf0e742(0x1d0)]()),_0x1c3a29=[_0x6a3d33[_0xf0e742(0x203)],_0x6a3d33[_0xf0e742(0x222)],_0x6a3d33[_0xf0e742(0x205)],_0x6a3d33[_0xf0e742(0x187)]];for(const _0x53326c of _0x1c3a29){if(_0x53326c)try{const _0x90a846=JSON[_0xf0e742(0x17d)](_0x53326c),_0x2c0b0f=_0x90a846[_0xf0e742(0x24d)]||_0x90a846['browser']||_0x90a846[_0x303bd3[_0xf0e742(0x206)]]?.['browserName'];if(_0x2c0b0f)return _0x303bd3['MPbKE'](debug,_0xf0e742(0x235)+_0x2c0b0f),_0x2c0b0f['toLowerCase']();}catch(_0x48a27c){_0x303bd3[_0xf0e742(0x1c0)](debug,_0xf0e742(0x23f)+_0x48a27c[_0xf0e742(0x217)]);}}if(_0x1fb311[_0xf0e742(0x245)](_0x303bd3['EKomx'])||_0x1fb311['includes'](_0x303bd3[_0xf0e742(0x17e)]))return _0x303bd3[_0xf0e742(0x240)];if(_0x1fb311[_0xf0e742(0x245)](_0x303bd3[_0xf0e742(0x20f)])||_0x1fb311[_0xf0e742(0x245)](_0x303bd3[_0xf0e742(0x22a)]))return _0x303bd3[_0xf0e742(0x20f)];if(_0x1fb311[_0xf0e742(0x245)](_0x303bd3[_0xf0e742(0x1b4)])||_0x1fb311[_0xf0e742(0x245)](_0x303bd3[_0xf0e742(0x1a8)]))return _0x303bd3[_0xf0e742(0x1b4)];return _0x303bd3[_0xf0e742(0x1a2)];}catch(_0x1bd2fb){return _0x303bd3[_0xf0e742(0x1ba)](debug,_0xf0e742(0x1f4)+_0x1bd2fb[_0xf0e742(0x1c1)]()),_0x303bd3['bWxVM'];}},getCloudProviderFromWsEndpoint=_0x13abc2=>{const _0x48e06a=a60_0x485d97,_0xdb40f5={};_0xdb40f5[_0x48e06a(0x1d7)]=_0x48e06a(0x246),_0xdb40f5['kIbuO']=_0x48e06a(0x1e8);const _0x4fa629=_0xdb40f5;if(_0x13abc2[_0x48e06a(0x245)](constants[_0x48e06a(0x231)])||_0x13abc2[_0x48e06a(0x245)](constants[_0x48e06a(0x1fe)]))return _0x4fa629[_0x48e06a(0x1d7)];return _0x4fa629['kIbuO'];},a60_0x124c03={};a60_0x124c03[a60_0x485d97(0x22b)]=undefined,a60_0x124c03[a60_0x485d97(0x1b7)]=undefined,a60_0x124c03[a60_0x485d97(0x23b)]=undefined,a60_0x124c03['browser_version']=undefined,a60_0x124c03['platform']=undefined,a60_0x124c03['platform_version']=undefined,a60_0x124c03['product']=undefined,a60_0x124c03[a60_0x485d97(0x222)]={};class SharedPlaywrightSessionDetails{static [a60_0x485d97(0x24f)]=a60_0x124c03;constructor(){const _0x47d9e2=a60_0x485d97,_0x1b8a97={};_0x1b8a97[_0x47d9e2(0x21e)]='Invalid\x20constructor,\x20please\x20use\x20static\x20methods';const _0x8638f8=_0x1b8a97;throw new Error(_0x8638f8[_0x47d9e2(0x21e)]);}static [a60_0x485d97(0x1df)]=null;static['setupBrowserDetails'](_0x220afc,_0x4a70ae,_0x23438c=null){const _0x517d8f=a60_0x485d97,_0x30db65={'eKXmS':function(_0x3e99c5,_0x3cda5b){return _0x3e99c5===_0x3cda5b;},'rCHSC':_0x517d8f(0x1a9),'PadbL':'Browser\x20is\x20not\x20defined\x20or\x20not\x20available','MeuOO':_0x517d8f(0x18d),'DCXjE':'local_grid','XcCcE':function(_0x151f6a,_0x438a19,_0x3318cf){return _0x151f6a(_0x438a19,_0x3318cf);},'ULiJA':'_browserType','gQCiQ':_0x517d8f(0x241),'KIZeq':'project','ihLGp':_0x517d8f(0x1be),'mSYIW':_0x517d8f(0x18e),'cqIts':function(_0xefbeeb,_0x569be0){return _0xefbeeb(_0x569be0);},'Usmoc':'browserstack','yYJng':_0x517d8f(0x1ec),'bjqaB':_0x517d8f(0x24c),'GJWez':function(_0x37b8b4,_0x1d14cb){return _0x37b8b4(_0x1d14cb);},'XBgvI':_0x517d8f(0x211),'SLdFV':function(_0x463dbe,_0x290ee5){return _0x463dbe+_0x290ee5;},'EFxHF':'playwright-','WNFpr':function(_0x3db4ed){return _0x3db4ed();},'kvMOH':function(_0x2d0a8a,_0x56156b,_0xf996bc){return _0x2d0a8a(_0x56156b,_0xf996bc);},'FDtSl':'setupBrowserDetails'},_0xa95667=this;return _0x30db65[_0x517d8f(0x1f9)](o11yErrorHandler,async function _0x3a2849(_0x58428a,_0x35142d,_0x22f641=null){const _0x39f85d=_0x517d8f;let _0x4ee0a9=_0x58428a[_0x39f85d(0x220)],_0x40e994=null;_0x58428a&&_0x30db65[_0x39f85d(0x210)](typeof _0x58428a['version'],_0x30db65[_0x39f85d(0x1bb)])?_0x40e994=_0x58428a[_0x39f85d(0x244)]():logger['debug'](_0x30db65[_0x39f85d(0x1ca)]);let _0x45337b=null;_0x58428a&&_0x30db65[_0x39f85d(0x210)](typeof _0x58428a['model'],_0x30db65[_0x39f85d(0x1bb)])?_0x45337b=_0x58428a[_0x39f85d(0x21d)]():logger[_0x39f85d(0x208)](_0x30db65[_0x39f85d(0x1cf)]);let _0x3ace8a=null,_0x442481=null,_0x5a5ffe=null,_0x62850c=_0x30db65[_0x39f85d(0x1e3)];if(_0x58428a[_0x39f85d(0x1d1)][_0x39f85d(0x213)]()||global[_0x39f85d(0x202)]){let _0x5182d3=null;_0x30db65[_0x39f85d(0x189)](nestedKeyValue,_0x58428a,[_0x30db65[_0x39f85d(0x19b)],_0x30db65[_0x39f85d(0x1c3)]])?_0x5182d3=_0x58428a[_0x39f85d(0x1db)][_0x39f85d(0x241)]:_0x5182d3=_0x30db65['XcCcE'](nestedKeyValue,_0x35142d,[_0x30db65[_0x39f85d(0x197)],_0x30db65[_0x39f85d(0x18b)],_0x30db65[_0x39f85d(0x1f2)]]);const _0x12c3dd=_0x22f641||_0x5182d3&&_0x5182d3[_0x39f85d(0x1b9)];if(_0x12c3dd){_0x62850c=_0x30db65[_0x39f85d(0x20a)](getCloudProviderFromWsEndpoint,_0x12c3dd);if(_0x30db65[_0x39f85d(0x210)](_0x62850c,_0x30db65[_0x39f85d(0x1d3)])){_0x5a5ffe=constants[_0x39f85d(0x22d)][_0x39f85d(0x1ee)](_0x12c3dd)?_0x30db65['yYJng']:_0x30db65['bjqaB'];const _0x3a2606=_0x30db65[_0x39f85d(0x214)](getBrowserFromWSEndpoint,_0x12c3dd);if(_0x3a2606&&(!_0x4ee0a9||_0x30db65['eKXmS'](_0x4ee0a9,_0x30db65[_0x39f85d(0x1ae)])))_0x4ee0a9=_0x3a2606,logger[_0x39f85d(0x208)]('Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20'+_0x4ee0a9);else _0x4ee0a9&&logger['debug'](_0x39f85d(0x18c)+_0x4ee0a9);_0x3ace8a=_0xa95667[_0x39f85d(0x24f)]['platform'],_0x442481=_0xa95667[_0x39f85d(0x24f)]['platform_version'];}}}else{_0x35142d&&_0x35142d['project']&&_0x35142d[_0x39f85d(0x194)][_0x39f85d(0x1be)]&&_0x35142d[_0x39f85d(0x194)]['use']['channel']?_0x4ee0a9=_0x30db65['GJWez'](getBrowserNameFromChannel,_0x35142d['project']['use'][_0x39f85d(0x1d2)]):_0x4ee0a9=_0x30db65['SLdFV'](_0x30db65[_0x39f85d(0x1a4)],_0x4ee0a9['toLowerCase']());const _0xcaa11=await _0x30db65[_0x39f85d(0x19d)](getPlatformDetails);_0x3ace8a=_0xcaa11[_0x39f85d(0x182)],_0x442481=_0xcaa11[_0x39f85d(0x215)];}const _0x4d648f={};_0x4d648f[_0x39f85d(0x23b)]=_0x4ee0a9,_0x4d648f[_0x39f85d(0x23d)]=_0x40e994,_0x4d648f[_0x39f85d(0x222)]={},_0x4d648f['platform']=_0x3ace8a,_0x4d648f[_0x39f85d(0x18f)]=_0x442481,_0x4d648f[_0x39f85d(0x1f6)]=_0x5a5ffe;const _0x14d10d=_0x4d648f;_0x45337b&&(_0x14d10d[_0x39f85d(0x222)][_0x39f85d(0x1c5)]=_0x45337b);const _0x88aa89={};_0x88aa89[_0x39f85d(0x22b)]=_0x62850c,_0xa95667[_0x39f85d(0x24f)]=Object[_0x39f85d(0x1c9)]({},_0xa95667['currentSessionDetails'],_0x88aa89,_0x14d10d);const _0xf7a950={};_0xf7a950[_0x39f85d(0x23b)]=_0xa95667['currentSessionDetails'][_0x39f85d(0x23b)],_0xf7a950['browserVersion']=_0xa95667[_0x39f85d(0x24f)][_0x39f85d(0x23d)],_0xf7a950[_0x39f85d(0x239)]=_0xa95667[_0x39f85d(0x24f)][_0x39f85d(0x239)],_0xf7a950[_0x39f85d(0x215)]=_0xa95667[_0x39f85d(0x24f)][_0x39f85d(0x18f)],_0xf7a950[_0x39f85d(0x22b)]=_0xa95667[_0x39f85d(0x24f)][_0x39f85d(0x22b)],_0xf7a950[_0x39f85d(0x1f6)]=_0xa95667[_0x39f85d(0x24f)][_0x39f85d(0x1f6)],logger[_0x39f85d(0x208)](_0x39f85d(0x1ab)+JSON['stringify'](_0xf7a950));},_0x30db65[_0x517d8f(0x1e2)])(_0x220afc,_0x4a70ae,_0x23438c);}static[a60_0x485d97(0x1aa)](){const _0x29d614=a60_0x485d97;this[_0x29d614(0x19a)](),this[_0x29d614(0x201)]();}static['patchConnection'](){const _0x26d9cf=a60_0x485d97,_0x125e98={'mFYzo':function(_0x230acb,_0x163d61){return _0x230acb(_0x163d61);},'tshtq':function(_0x3ffe8d,_0x344eee){return _0x3ffe8d(_0x344eee);},'yDiVp':'lib','KQehu':'client','jcWuj':_0x26d9cf(0x19c),'UlXSM':function(_0x255df8,_0x49becd){return _0x255df8(_0x49becd);},'geoAy':function(_0x44c76f,_0x1e8945){return _0x44c76f(_0x1e8945);},'wiOiU':function(_0x25adeb,_0x4e7dbe){return _0x25adeb(_0x4e7dbe);},'PIpvR':_0x26d9cf(0x1cc),'bwwCJ':function(_0x3965cc,_0x333242){return _0x3965cc(_0x333242);},'NhxAh':function(_0x159139,_0x1285a2){return _0x159139!=_0x1285a2;},'njrdE':_0x26d9cf(0x233),'SrIJr':_0x26d9cf(0x1fa),'kidUY':_0x26d9cf(0x1fc),'XwuMj':function(_0x51842a,_0x420511){return _0x51842a(_0x420511);}},_0x39458a=this;if(!this[_0x26d9cf(0x227)])try{const _0x36d805=[path[_0x26d9cf(0x1dc)](_0x125e98[_0x26d9cf(0x19e)],_0x125e98[_0x26d9cf(0x1fb)],_0x125e98[_0x26d9cf(0x1c6)]),path[_0x26d9cf(0x1dc)](_0x125e98[_0x26d9cf(0x19e)],_0x125e98['jcWuj']),path['join'](_0x125e98['KQehu'],_0x125e98[_0x26d9cf(0x1c6)])];for(const _0x13bf4a of _0x36d805){try{const _0x2d7af4=_0x125e98[_0x26d9cf(0x1dd)](importFileFromPWCore,_0x13bf4a);if(_0x2d7af4&&_0x2d7af4[_0x26d9cf(0x227)]){this['Connection']=_0x2d7af4['Connection'],logger[_0x26d9cf(0x208)]('Found\x20Connection\x20class\x20at:\x20'+_0x13bf4a);break;}}catch(_0x5f75a6){_0x125e98['geoAy'](debug,_0x26d9cf(0x1d4)+_0x13bf4a+':\x20'+_0x5f75a6[_0x26d9cf(0x1c1)]());}}if(!this['Connection']){_0x125e98[_0x26d9cf(0x218)](debug,_0x125e98[_0x26d9cf(0x247)]);return;}}catch(_0x96dc4e){_0x125e98[_0x26d9cf(0x1cd)](debug,_0x26d9cf(0x228)+_0x96dc4e[_0x26d9cf(0x1c1)]());return;}const _0x1c8639=this[_0x26d9cf(0x227)];try{if(_0x125e98[_0x26d9cf(0x1b6)](_0x1c8639,null)){const _0x247ac7=_0x1c8639[_0x26d9cf(0x1c2)][_0x26d9cf(0x1fa)];if(!_0x125e98[_0x26d9cf(0x1cd)](isFalse,process[_0x26d9cf(0x1de)][_0x26d9cf(0x232)])){if(_0x1c8639[_0x26d9cf(0x1c2)][_0x26d9cf(0x1bd)]){logger[_0x26d9cf(0x208)](_0x125e98[_0x26d9cf(0x1f0)]);return;}Object['defineProperty'](_0x1c8639[_0x26d9cf(0x1c2)],_0x125e98['SrIJr'],{'get':function(){return async function _0x2b6595(_0x82124c){const _0x184b27=a60_0x1c8b;if(BrowserstackCLI[_0x184b27(0x238)]()['isRunning']()){const _0x384fce={};_0x384fce[_0x184b27(0x217)]=_0x82124c,await BrowserstackCLI[_0x184b27(0x238)]()[_0x184b27(0x1b0)]()[_0x184b27(0x236)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState[_0x184b27(0x20b)],_0x384fce);}else{const _0x444036=_0x82124c&&_0x82124c[_0x184b27(0x1e4)]&&_0x82124c[_0x184b27(0x1e4)][_0x184b27(0x1a0)];if(_0x444036){const _0x4e3659=_0x444036[_0x184b27(0x1fd)],_0x1122e8=_0x444036[_0x184b27(0x1d5)];_0x1122e8&&(_0x125e98[_0x184b27(0x1e0)](debug,'Setting\x20platform\x20details\x20received\x20from\x20BS:\x20'+_0x1122e8[_0x184b27(0x1c1)]()),_0x39458a[_0x184b27(0x24f)][_0x184b27(0x239)]=_0x1122e8['platformName'],_0x39458a[_0x184b27(0x24f)][_0x184b27(0x18f)]=_0x1122e8[_0x184b27(0x215)]),_0x4e3659&&(_0x125e98[_0x184b27(0x1bf)](debug,'Setting\x20session\x20id\x20received\x20from\x20BS\x20'+_0x4e3659),_0x39458a[_0x184b27(0x24f)][_0x184b27(0x1b7)]=_0x4e3659);}}return _0x247ac7[_0x184b27(0x20e)](this,arguments);};}}),_0x1c8639[_0x26d9cf(0x1c2)][_0x26d9cf(0x1bd)]=!![],logger[_0x26d9cf(0x208)](_0x125e98['kidUY']);}}}catch(_0x3b2a53){_0x125e98['XwuMj'](debug,_0x26d9cf(0x1ea)+_0x3b2a53),_0x39458a[_0x26d9cf(0x1df)]=_0x3b2a53[_0x26d9cf(0x1c1)]();}}static[a60_0x485d97(0x201)](){const _0x1bac84=a60_0x485d97,_0x21ccd3={'CwvYC':function(_0x8ed097,_0x3c85ef){return _0x8ed097(_0x3c85ef);},'giNes':function(_0x2cf958,_0x215fee){return _0x2cf958(_0x215fee);},'MJCid':_0x1bac84(0x1e1),'vqOfc':_0x1bac84(0x1cb),'SoMlm':_0x1bac84(0x211),'ayJOT':_0x1bac84(0x216),'IefKd':function(_0x56c4d9,_0x21f412){return _0x56c4d9(_0x21f412);},'DnOEq':_0x1bac84(0x223),'tjvZU':function(_0x167f20,_0x3b1548){return _0x167f20(_0x3b1548);},'iOXsK':_0x1bac84(0x1d6),'bikLs':function(_0x2a46fd,_0x559330){return _0x2a46fd!=_0x559330;},'FRBmd':'CRConnection\x20already\x20patched','fhury':_0x1bac84(0x1ad),'zeNZP':_0x1bac84(0x1a1),'itFmg':function(_0xea7fc1,_0xcb81c0){return _0xea7fc1(_0xcb81c0);}},_0x4f1dd0=this;let _0x43a199=null;try{const _0x5e2c0a=path[_0x1bac84(0x1dc)](_0x21ccd3[_0x1bac84(0x181)],_0x21ccd3[_0x1bac84(0x23a)],_0x21ccd3[_0x1bac84(0x230)],_0x21ccd3[_0x1bac84(0x23c)]),_0x10dc9c=_0x21ccd3[_0x1bac84(0x198)](importFileFromPWCore,_0x5e2c0a);!_0x10dc9c?_0x21ccd3[_0x1bac84(0x1eb)](debug,_0x21ccd3['DnOEq']):_0x43a199=_0x10dc9c[_0x1bac84(0x23e)];}catch(_0x6025b9){_0x21ccd3[_0x1bac84(0x199)](debug,_0x21ccd3[_0x1bac84(0x1ce)]);}try{if(_0x21ccd3['bikLs'](_0x43a199,null)){const _0x201419=_0x43a199[_0x1bac84(0x1c2)]['_onMessage'];if(_0x43a199[_0x1bac84(0x1c2)][_0x1bac84(0x1a3)]){logger[_0x1bac84(0x208)](_0x21ccd3[_0x1bac84(0x226)]);return;}Object[_0x1bac84(0x249)](_0x43a199[_0x1bac84(0x1c2)],_0x21ccd3[_0x1bac84(0x1a7)],{'get':function(){const _0xdd22ec={'PFqcY':function(_0x418401,_0x3e47a5){const _0x84c481=a60_0x1c8b;return _0x21ccd3[_0x84c481(0x183)](_0x418401,_0x3e47a5);},'agxzd':function(_0x1a958c,_0x2d7f32){const _0x59bc1c=a60_0x1c8b;return _0x21ccd3[_0x59bc1c(0x198)](_0x1a958c,_0x2d7f32);},'IlfXq':function(_0x1c1d10,_0x542e06){return _0x21ccd3['CwvYC'](_0x1c1d10,_0x542e06);}};return async function _0x173497(_0x5b7e41){const _0x8869e0=a60_0x1c8b;try{if(BrowserstackCLI[_0x8869e0(0x238)]()[_0x8869e0(0x1d8)]()){const _0x3d28d8={};_0x3d28d8[_0x8869e0(0x217)]=_0x5b7e41,await BrowserstackCLI[_0x8869e0(0x238)]()[_0x8869e0(0x1b0)]()[_0x8869e0(0x236)](AutomationFrameworkState[_0x8869e0(0x1da)],HookState[_0x8869e0(0x20b)],_0x3d28d8),delete _0x5b7e41[_0x8869e0(0x1b3)];}else{const _0x119c30=_0x5b7e41[_0x8869e0(0x1b3)];if(_0x119c30){delete _0x5b7e41[_0x8869e0(0x1b3)];const _0x56d3d2=_0x119c30[_0x8869e0(0x1fd)],_0x482b3a=_0x119c30[_0x8869e0(0x1d5)];_0x482b3a&&(_0xdd22ec[_0x8869e0(0x1c8)](debug,_0x8869e0(0x1a6)+_0x482b3a[_0x8869e0(0x1c1)]()),_0x4f1dd0[_0x8869e0(0x24f)][_0x8869e0(0x239)]=_0x482b3a['platformName'],_0x4f1dd0[_0x8869e0(0x24f)]['platform_version']=_0x482b3a['platformVersion']),_0x56d3d2&&(_0xdd22ec[_0x8869e0(0x204)](debug,'Setting\x20session\x20id\x20received\x20from\x20browserstack\x20'+_0x56d3d2),_0x4f1dd0[_0x8869e0(0x24f)]['bsSessionId']=_0x56d3d2);}}}catch(_0x31d6b5){_0xdd22ec['IlfXq'](debug,_0x8869e0(0x242)+_0x31d6b5[_0x8869e0(0x1c1)]());}return _0x201419[_0x8869e0(0x20e)](this,arguments);};}}),_0x43a199[_0x1bac84(0x1c2)][_0x1bac84(0x1a3)]=!![],logger[_0x1bac84(0x208)](_0x21ccd3[_0x1bac84(0x221)]);}}catch(_0x561457){_0x21ccd3['itFmg'](debug,_0x1bac84(0x1b1)+_0x561457),_0x4f1dd0[_0x1bac84(0x1df)]=_0x561457[_0x1bac84(0x1c1)]();}}static[a60_0x485d97(0x1f7)](_0xc49609,_0x48597b){const _0x9cfa8=a60_0x485d97,_0x149e53={'BeVHw':_0x9cfa8(0x234),'DmWiB':function(_0x4abbaa,_0x32f26c){return _0x4abbaa||_0x32f26c;},'qvoxM':function(_0x1a8a7b,_0x709740){return _0x1a8a7b||_0x709740;},'ZyLBv':function(_0x49b5b3,_0xdc5a03){return _0x49b5b3===_0xdc5a03;},'aSjZP':_0x9cfa8(0x200),'KZNao':_0x9cfa8(0x248),'YdaqE':function(_0x400299,_0x4d3e57){return _0x400299(_0x4d3e57);},'YmUOG':function(_0x113f21,_0x3c6b77){return _0x113f21(_0x3c6b77);},'yPKJw':function(_0xcf7efc,_0x9475dd){return _0xcf7efc(_0x9475dd);}};let _0xeaa030=null,_0x15b28c=null;try{const _0x51e19c=[_0x48597b,global[_0x9cfa8(0x243)],global[_0x9cfa8(0x1c7)]];for(const _0xea025e of _0x51e19c){if(_0xea025e&&(!_0x15b28c||!_0x15b28c[_0x9cfa8(0x1fd)])){const _0x1afca4=_0xea025e['sessionId']||_0xea025e[_0x149e53[_0x9cfa8(0x219)]]?.[_0x9cfa8(0x1fd)],_0x34b33c=_0xea025e[_0x9cfa8(0x24d)]||_0xea025e[_0x9cfa8(0x23b)]||_0xea025e[_0x149e53[_0x9cfa8(0x219)]]?.[_0x9cfa8(0x24d)],_0x47e4a1=_0xea025e[_0x9cfa8(0x1e5)]||_0xea025e[_0x9cfa8(0x23d)]||_0xea025e[_0x149e53['BeVHw']]?.[_0x9cfa8(0x1e5)],_0x355266=_0xea025e['os']||_0xea025e[_0x9cfa8(0x239)]||_0xea025e[_0x149e53[_0x9cfa8(0x219)]]?.['os'],_0x41cde4=_0xea025e[_0x9cfa8(0x1f1)]||_0xea025e[_0x9cfa8(0x1e7)]||_0xea025e[_0x149e53[_0x9cfa8(0x219)]]?.[_0x9cfa8(0x1f1)];if(_0x149e53[_0x9cfa8(0x24b)](_0x1afca4,_0x34b33c)||_0x355266){const _0x28f3ea={};_0x28f3ea[_0x9cfa8(0x24d)]=_0x34b33c,_0x28f3ea[_0x9cfa8(0x1e5)]=_0x47e4a1,_0x28f3ea['os']=_0x355266,_0x28f3ea[_0x9cfa8(0x1f1)]=_0x41cde4,_0x28f3ea[_0x9cfa8(0x182)]=_0xea025e[_0x9cfa8(0x182)]||_0x355266,_0x28f3ea['platformVersion']=_0xea025e[_0x9cfa8(0x215)]||_0x41cde4;const _0x138d6a={};_0x138d6a[_0x9cfa8(0x1fd)]=_0x1afca4,_0x138d6a['platformDetails']=_0x28f3ea,_0x15b28c=_0x138d6a;if(_0x149e53[_0x9cfa8(0x209)](_0x1afca4,_0x34b33c)){logger['debug']('BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser='+_0x34b33c+_0x9cfa8(0x18a)+_0x355266);break;}}}}if(_0xc49609&&_0x149e53['ZyLBv'](typeof _0xc49609,_0x149e53['aSjZP']))try{const _0x2041e6=url[_0x9cfa8(0x17d)](_0xc49609),_0x5421f4=new URLSearchParams(_0x2041e6[_0x9cfa8(0x22e)]),_0x44ce6d=Object[_0x9cfa8(0x1af)](_0x5421f4[_0x9cfa8(0x1d0)]()),_0x1ebc51=[_0x44ce6d[_0x9cfa8(0x203)],_0x44ce6d[_0x9cfa8(0x222)],_0x44ce6d[_0x9cfa8(0x205)]];for(const _0x568c1e of _0x1ebc51){if(_0x568c1e&&(!_0xeaa030||!_0xeaa030['sessionId']))try{const _0xc941cb=JSON[_0x9cfa8(0x17d)](_0x568c1e),_0xefe225={};_0xefe225[_0x9cfa8(0x1fd)]=_0xc941cb['sessionId']||_0xc941cb[_0x149e53[_0x9cfa8(0x219)]]?.[_0x9cfa8(0x1fd)],_0xefe225[_0x9cfa8(0x1d5)]={},_0xefe225[_0x9cfa8(0x1d5)][_0x9cfa8(0x24d)]=_0xc941cb[_0x9cfa8(0x24d)]||_0xc941cb[_0x9cfa8(0x23b)],_0xefe225[_0x9cfa8(0x1d5)][_0x9cfa8(0x1e5)]=_0xc941cb[_0x9cfa8(0x1e5)]||_0xc941cb[_0x9cfa8(0x23d)],_0xefe225[_0x9cfa8(0x1d5)]['os']=_0xc941cb['os']||_0xc941cb[_0x9cfa8(0x239)],_0xefe225[_0x9cfa8(0x1d5)][_0x9cfa8(0x1f1)]=_0xc941cb[_0x9cfa8(0x1f1)]||_0xc941cb[_0x9cfa8(0x1e7)],_0xefe225[_0x9cfa8(0x1d5)][_0x9cfa8(0x182)]=_0xc941cb[_0x9cfa8(0x182)]||_0xc941cb['os']||_0xc941cb[_0x9cfa8(0x239)],_0xefe225[_0x9cfa8(0x1d5)]['platformVersion']=_0xc941cb['platformVersion']||_0xc941cb['osVersion']||_0xc941cb[_0x9cfa8(0x1e7)],_0xeaa030=_0xefe225;if(_0xeaa030[_0x9cfa8(0x1fd)]||_0xeaa030[_0x9cfa8(0x1d5)][_0x9cfa8(0x24d)]){logger[_0x9cfa8(0x208)](_0x149e53[_0x9cfa8(0x185)]);break;}}catch(_0x4de4e9){_0x149e53['YdaqE'](debug,_0x9cfa8(0x1f8)+_0x4de4e9[_0x9cfa8(0x1c1)]());}}}catch(_0x597fb7){_0x149e53[_0x9cfa8(0x19f)](debug,'Error\x20parsing\x20WebSocket\x20endpoint:\x20'+_0x597fb7[_0x9cfa8(0x1c1)]());}}catch(_0x48b67c){_0x149e53[_0x9cfa8(0x192)](debug,'Error\x20extracting\x20BrowserStack\x20parameters:\x20'+util[_0x9cfa8(0x22c)](_0x48b67c));}const _0x74d978={};return _0x74d978[_0x9cfa8(0x1a0)]=_0xeaa030,_0x74d978[_0x9cfa8(0x1b3)]=_0x15b28c,_0x74d978;}static async['triggerPlaywrightDispatchEvent'](_0x510f5a,_0x581d7c){const _0x41744e=a60_0x485d97,_0x13f43c={'XTusH':function(_0x500985,_0x1635d8){return _0x500985||_0x1635d8;},'crwhY':_0x41744e(0x212),'qHSgJ':function(_0x150fdf,_0x4382f3){return _0x150fdf||_0x4382f3;},'NAwcf':function(_0x35722c,_0x1c6954){return _0x35722c(_0x1c6954);}};try{if(!BrowserstackCLI['getInstance']()[_0x41744e(0x1d8)]())return;if(_0x13f43c[_0x41744e(0x1ed)](_0x510f5a,_0x581d7c)){logger['debug'](_0x13f43c[_0x41744e(0x188)]);const _0x205fff={'params':_0x510f5a?{'bsParams':_0x510f5a}:null,'bStackParams':_0x13f43c[_0x41744e(0x1ff)](_0x581d7c,null)},_0x2d76c5=AutomationFramework[_0x41744e(0x1b5)](),_0x483ca3={};_0x483ca3[_0x41744e(0x217)]=_0x205fff,_0x483ca3[_0x41744e(0x190)]=_0x2d76c5,await BrowserstackCLI[_0x41744e(0x238)]()[_0x41744e(0x1b0)]()[_0x41744e(0x236)](AutomationFrameworkState[_0x41744e(0x1da)],HookState['POST'],_0x483ca3);}}catch(_0x217dde){_0x13f43c[_0x41744e(0x21f)](debug,_0x41744e(0x229)+util[_0x41744e(0x22c)](_0x217dde));}}static[a60_0x485d97(0x1b2)](){return this['currentSessionDetails'];}}module['exports']=SharedPlaywrightSessionDetails;