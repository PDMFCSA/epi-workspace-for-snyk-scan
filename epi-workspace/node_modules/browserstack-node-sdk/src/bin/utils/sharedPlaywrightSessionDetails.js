const a60_0x22aa0f=a60_0x5ebe;function a60_0x5ebe(_0xfe0f82,_0x41a903){const _0x2671bd=a60_0x2671();return a60_0x5ebe=function(_0x5ebe1b,_0x2e4889){_0x5ebe1b=_0x5ebe1b-0xae;let _0x196bef=_0x2671bd[_0x5ebe1b];return _0x196bef;},a60_0x5ebe(_0xfe0f82,_0x41a903);}function a60_0x2671(){const _0x45e813=['join','getAutomationFramework','prLmH','connectOptions','TXwQK','8151984hWWpez','platform_version','IxTuz','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','patchCRConnection','LBOsc','bsParams','VPbuH','jORrr','Error\x20in\x20importing\x20connection\x20','os_version','AAKgZ','chrome','ciiGS','browserstack','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','webkit','POST','./constants','isRemote','ivtgf','Successfully\x20patched\x20Connection.dispatch','DaeHk','use','DZizk','prototype','bstack:options','fromEntries','IyUtV','exports','FRRmd','Failed\x20to\x20import\x20connection\x20from\x20','lib','accessibilityPlatform','product','getTrackedInstance','capabilties','platform','XDPFM','snUjc','bZdQx','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','oNvwD','../../helpers/test-observability/utils','jTFix','getInstance','Connection','firefox','XpAkh','VCLUo','wBpEg','QZBoj','getDetails','desiredCapabilities','Error\x20in\x20importing\x20crConnection','capabilities','24dBZVsl','170EeZITV','../v2/framework/automationFramework','patchConnection','extractBrowserStackParams','Setting\x20session\x20id\x20received\x20from\x20BS\x20','connection.js','51955IOCrwV','kHoQG','gCoCx','SyTWZ','_onMessage','SZlaV','Atmot','../v2/state/hookState.js','params','playwright-','channel','edge','Etuct','BROWSERSTACK_TEST_OBSERVABILITY','qgnrV','msedge','SNLTd','caps','currentSessionDetails','_defaultConnectOptions','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','Error\x20extracting\x20BrowserStack\x20parameters:\x20','174534mBeFJN','GumeL','browser_version','safari','xffXK','1030344TxCGDO','browserVersion','rfnSk','browserName','model','bStackParams','bsOOA','BSTACK_URL','turboscale','979366EAtMvr','wNMlU','XZdzU','../v2/browserstackCLI','gUKBf','pohEs','message','automate','sessionId','Ujqxf','fVDou','_name','server','toString','NBnBP','trackEvent','winstonLogger','browser','osVersion','qARao','PLAYWRIGHT_DISPATCH','uueUg','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','_bstackDispatchPatched','aCBZw','stringify','platformDetails','_bstackCRPatched','Not\x20able\x20to\x20import\x20crConnection','apply','rMhzd','jSZRD','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','string','chromium','ioAzY','BSTACK_ATS_URL','lKpcc','toLowerCase','wsEndpoint','parse','__platformCaps','platformVersion','assign','entries','UspZr','zXJRB','jwvWD','QAMIW','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','defineProperty','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','Found\x20Connection\x20class\x20at:\x20','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','includes','../v2/state/automationFrameworkState.js','../../helpers/logger','_browserType','VVEVp','gecko','ATS_WSS_URL_REGEX','CRConnection\x20already\x20patched','env','Connection\x20dispatch\x20already\x20patched','cloudProvider','GeRAi','platformName','10236ViZsle','Error\x20parsing\x20WebSocket\x20endpoint:\x20','setupBrowserDetails','isRunning','Ecygk','MyaEH','sessionError','browserstack_capabilities','Error\x20in\x20finding\x20platform\x20details\x20','bsSessionId','bgsZD','MGMhi','GHsKb','CMVOM','Yemay','424VGuMdV','CRConnection','433611lKapWW','format','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','debug','bfWyJ','query','project'];a60_0x2671=function(){return _0x45e813;};return a60_0x2671();}(function(_0x3ec275,_0x460f44){const _0xecf8c4=a60_0x5ebe,_0xc25127=_0x3ec275();while(!![]){try{const _0x278c6b=parseInt(_0xecf8c4(0xc9))/0x1+-parseInt(_0xecf8c4(0xbb))/0x2+parseInt(_0xecf8c4(0x10c))/0x3*(-parseInt(_0xecf8c4(0x11b))/0x4)+-parseInt(_0xecf8c4(0x168))/0x5*(-parseInt(_0xecf8c4(0x161))/0x6)+parseInt(_0xecf8c4(0xc0))/0x7+-parseInt(_0xecf8c4(0x129))/0x8+parseInt(_0xecf8c4(0x11d))/0x9*(parseInt(_0xecf8c4(0x162))/0xa);if(_0x278c6b===_0x460f44)break;else _0xc25127['push'](_0xc25127['shift']());}catch(_0xc044ac){_0xc25127['push'](_0xc25127['shift']());}}}(a60_0x2671,0x7ec3c));const path=require('path'),url=require('url'),util=require('util'),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require('../../helpers/helper'),{o11yErrorHandler}=require('../../helpers/test-observability/error-handler'),{debug,getPlatformDetails}=require(a60_0x22aa0f(0x154)),logger=require(a60_0x22aa0f(0x101))[a60_0x22aa0f(0xd9)],constants=require(a60_0x22aa0f(0x13b)),AutomationFramework=require(a60_0x22aa0f(0x163)),BrowserstackCLI=require(a60_0x22aa0f(0xcc)),AutomationFrameworkState=require(a60_0x22aa0f(0x100)),HookState=require(a60_0x22aa0f(0x16f)),{platform}=require('os'),getBrowserNameFromChannel=_0x3ad908=>{const _0x55b281=a60_0x22aa0f,_0x37f951={};_0x37f951[_0x55b281(0x117)]=_0x55b281(0x135),_0x37f951['LBOsc']='edge',_0x37f951[_0x55b281(0x103)]=_0x55b281(0x158),_0x37f951[_0x55b281(0x15b)]=_0x55b281(0xbe);const _0x241f82=_0x37f951;if(_0x3ad908[_0x55b281(0xff)](_0x241f82[_0x55b281(0x117)]))return _0x241f82[_0x55b281(0x117)];if(_0x3ad908[_0x55b281(0xff)](_0x241f82[_0x55b281(0x12e)]))return _0x241f82[_0x55b281(0x12e)];if(_0x3ad908['includes'](_0x241f82[_0x55b281(0x103)]))return _0x241f82[_0x55b281(0x103)];if(_0x3ad908[_0x55b281(0xff)](_0x241f82[_0x55b281(0x15b)]))return _0x241f82['wBpEg'];},getBrowserFromWSEndpoint=_0xa61502=>{const _0x1277d2=a60_0x22aa0f,_0xd0e32c={'bfWyJ':_0x1277d2(0x143),'WaAIs':function(_0x2b9b12,_0x5cae2e){return _0x2b9b12(_0x5cae2e);},'jDMYV':function(_0x74574e,_0x468b0d){return _0x74574e(_0x468b0d);},'MyaEH':_0x1277d2(0xb0),'bZdQx':_0x1277d2(0xb4),'rfnSk':_0x1277d2(0x158),'mKvdg':_0x1277d2(0x104),'Ecygk':_0x1277d2(0xbe),'jTFix':_0x1277d2(0x139),'GeRAi':_0x1277d2(0x135),'GumeL':function(_0x23d187,_0x1a5914){return _0x23d187(_0x1a5914);}};try{const _0x45c53b=url[_0x1277d2(0xf1)](_0xa61502),_0x19032f=new URLSearchParams(_0x45c53b[_0x1277d2(0x122)]),_0xe704c1=Object[_0x1277d2(0x144)](_0x19032f[_0x1277d2(0xf5)]()),_0x3f4a41=[_0xe704c1[_0x1277d2(0xb6)],_0xe704c1['capabilities'],_0xe704c1[_0x1277d2(0x15e)],_0xe704c1[_0x1277d2(0x113)]];for(const _0x103757 of _0x3f4a41){if(_0x103757)try{const _0x230346=JSON['parse'](_0x103757),_0x205bbb=_0x230346[_0x1277d2(0xc3)]||_0x230346[_0x1277d2(0xda)]||_0x230346[_0xd0e32c[_0x1277d2(0x121)]]?.[_0x1277d2(0xc3)];if(_0x205bbb)return _0xd0e32c['WaAIs'](debug,_0x1277d2(0xfa)+_0x205bbb),_0x205bbb[_0x1277d2(0xef)]();}catch(_0x5d88cb){_0xd0e32c['jDMYV'](debug,_0x1277d2(0xfc)+_0x5d88cb[_0x1277d2(0xcf)]);}}if(_0xa61502[_0x1277d2(0xff)](_0xd0e32c[_0x1277d2(0x111)])||_0xa61502[_0x1277d2(0xff)](_0xd0e32c[_0x1277d2(0x151)]))return _0xd0e32c[_0x1277d2(0x111)];if(_0xa61502[_0x1277d2(0xff)](_0xd0e32c[_0x1277d2(0xc2)])||_0xa61502[_0x1277d2(0xff)](_0xd0e32c['mKvdg']))return _0xd0e32c['rfnSk'];if(_0xa61502['includes'](_0xd0e32c[_0x1277d2(0x110)])||_0xa61502[_0x1277d2(0xff)](_0xd0e32c[_0x1277d2(0x155)]))return _0xd0e32c['Ecygk'];return _0xd0e32c[_0x1277d2(0x10a)];}catch(_0x4abc53){return _0xd0e32c[_0x1277d2(0xbc)](debug,'Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20'+_0x4abc53['toString']()),_0xd0e32c[_0x1277d2(0x10a)];}},getCloudProviderFromWsEndpoint=_0x3e93fe=>{const _0x4a168e=a60_0x22aa0f,_0x5739c4={};_0x5739c4[_0x4a168e(0xbf)]=_0x4a168e(0x137),_0x5739c4[_0x4a168e(0xf8)]='unknown_grid';const _0x48251c=_0x5739c4;if(_0x3e93fe['includes'](constants[_0x4a168e(0xc7)])||_0x3e93fe[_0x4a168e(0xff)](constants[_0x4a168e(0xed)]))return _0x48251c['xffXK'];return _0x48251c[_0x4a168e(0xf8)];},a60_0x39ec40={};a60_0x39ec40[a60_0x22aa0f(0x109)]=undefined,a60_0x39ec40[a60_0x22aa0f(0x115)]=undefined,a60_0x39ec40['browser']=undefined,a60_0x39ec40[a60_0x22aa0f(0xbd)]=undefined,a60_0x39ec40[a60_0x22aa0f(0x14e)]=undefined,a60_0x39ec40[a60_0x22aa0f(0x12a)]=undefined,a60_0x39ec40[a60_0x22aa0f(0x14b)]=undefined,a60_0x39ec40[a60_0x22aa0f(0x160)]={};class SharedPlaywrightSessionDetails{static [a60_0x22aa0f(0xb7)]=a60_0x39ec40;constructor(){const _0x493321=a60_0x22aa0f,_0x54fea1={};_0x54fea1['OwmWO']=_0x493321(0x138);const _0x8fbd77=_0x54fea1;throw new Error(_0x8fbd77['OwmWO']);}static ['sessionError']=null;static['setupBrowserDetails'](_0x2f851d,_0x5af408,_0x4a53e8=null){const _0x1ece8b=a60_0x22aa0f,_0x469da2={'nUjRZ':function(_0x3f5ee7,_0x1c6fb1){return _0x3f5ee7===_0x1c6fb1;},'CMVOM':'function','wNMlU':'Browser\x20is\x20not\x20defined\x20or\x20not\x20available','TXwQK':function(_0x565d51,_0x334b63){return _0x565d51===_0x334b63;},'prLmH':'Device\x20Model\x20is\x20not\x20available','SZlaV':'local_grid','VCLUo':function(_0x59df7c,_0x488315,_0x453d13){return _0x59df7c(_0x488315,_0x453d13);},'ioAzY':'_browserType','aCBZw':_0x1ece8b(0xb8),'PEYzg':_0x1ece8b(0x123),'Mmprn':_0x1ece8b(0x140),'fVDou':_0x1ece8b(0x127),'SyTWZ':function(_0x188a6c,_0x186776){return _0x188a6c(_0x186776);},'wKbsA':function(_0x36155c,_0x51d095){return _0x36155c===_0x51d095;},'bgsZD':_0x1ece8b(0x137),'KKgQr':_0x1ece8b(0xc8),'Etuct':_0x1ece8b(0xd0),'pohEs':function(_0x462560,_0x33065c){return _0x462560===_0x33065c;},'UspZr':_0x1ece8b(0xeb),'GHsKb':function(_0x4cd6d2,_0x2cbf44){return _0x4cd6d2(_0x2cbf44);},'ciiGS':function(_0x1033ff,_0x574d52){return _0x1033ff+_0x574d52;},'XtkKS':_0x1ece8b(0xae),'jORrr':function(_0x26e758){return _0x26e758();},'Atmot':_0x1ece8b(0x10e)},_0x4cafff=this;return _0x469da2[_0x1ece8b(0x15a)](o11yErrorHandler,async function _0x4a4aae(_0x2704c1,_0x284266,_0xe40069=null){const _0x74bb24=_0x1ece8b;let _0x373327=_0x2704c1[_0x74bb24(0xd4)],_0x3d647=null;_0x2704c1&&_0x469da2['nUjRZ'](typeof _0x2704c1['version'],_0x469da2['CMVOM'])?_0x3d647=_0x2704c1['version']():logger[_0x74bb24(0x120)](_0x469da2[_0x74bb24(0xca)]);let _0x5132a1=null;_0x2704c1&&_0x469da2[_0x74bb24(0x128)](typeof _0x2704c1[_0x74bb24(0xc4)],_0x469da2[_0x74bb24(0x119)])?_0x5132a1=_0x2704c1[_0x74bb24(0xc4)]():logger[_0x74bb24(0x120)](_0x469da2[_0x74bb24(0x126)]);let _0x5c27e1=null,_0x1e234d=null,_0x2c95d4=null,_0x5be5e9=_0x469da2[_0x74bb24(0x16d)];if(_0x2704c1['_connection'][_0x74bb24(0x13c)]()||global[_0x74bb24(0x14a)]){let _0x2cea0a=null;_0x469da2[_0x74bb24(0x15a)](nestedKeyValue,_0x2704c1,[_0x469da2[_0x74bb24(0xec)],_0x469da2[_0x74bb24(0xe1)]])?_0x2cea0a=_0x2704c1[_0x74bb24(0x102)][_0x74bb24(0xb8)]:_0x2cea0a=_0x469da2[_0x74bb24(0x15a)](nestedKeyValue,_0x284266,[_0x469da2['PEYzg'],_0x469da2['Mmprn'],_0x469da2[_0x74bb24(0xd3)]]);const _0x1fda43=_0xe40069||_0x2cea0a&&_0x2cea0a[_0x74bb24(0xf0)];if(_0x1fda43){_0x5be5e9=_0x469da2[_0x74bb24(0x16b)](getCloudProviderFromWsEndpoint,_0x1fda43);if(_0x469da2['wKbsA'](_0x5be5e9,_0x469da2[_0x74bb24(0x116)])){_0x2c95d4=constants[_0x74bb24(0x105)]['test'](_0x1fda43)?_0x469da2['KKgQr']:_0x469da2[_0x74bb24(0xb1)];const _0x1681e9=_0x469da2['SyTWZ'](getBrowserFromWSEndpoint,_0x1fda43);if(_0x1681e9&&(!_0x373327||_0x469da2[_0x74bb24(0xce)](_0x373327,_0x469da2[_0x74bb24(0xf6)])))_0x373327=_0x1681e9,logger[_0x74bb24(0x120)](_0x74bb24(0xb9)+_0x373327);else _0x373327&&logger[_0x74bb24(0x120)](_0x74bb24(0x12c)+_0x373327);_0x5c27e1=_0x4cafff[_0x74bb24(0xb7)][_0x74bb24(0x14e)],_0x1e234d=_0x4cafff[_0x74bb24(0xb7)][_0x74bb24(0x12a)];}}}else{_0x284266&&_0x284266[_0x74bb24(0x123)]&&_0x284266[_0x74bb24(0x123)]['use']&&_0x284266['project'][_0x74bb24(0x140)][_0x74bb24(0xaf)]?_0x373327=_0x469da2[_0x74bb24(0x118)](getBrowserNameFromChannel,_0x284266[_0x74bb24(0x123)][_0x74bb24(0x140)][_0x74bb24(0xaf)]):_0x373327=_0x469da2[_0x74bb24(0x136)](_0x469da2['XtkKS'],_0x373327['toLowerCase']());const _0x5eed96=await _0x469da2[_0x74bb24(0x131)](getPlatformDetails);_0x5c27e1=_0x5eed96['platformName'],_0x1e234d=_0x5eed96[_0x74bb24(0xf3)];}const _0x5e7240={};_0x5e7240[_0x74bb24(0xda)]=_0x373327,_0x5e7240[_0x74bb24(0xbd)]=_0x3d647,_0x5e7240['capabilities']={},_0x5e7240['platform']=_0x5c27e1,_0x5e7240['platform_version']=_0x1e234d,_0x5e7240[_0x74bb24(0x14b)]=_0x2c95d4;const _0x5b6e62=_0x5e7240;_0x5132a1&&(_0x5b6e62[_0x74bb24(0x160)]['deviceModel']=_0x5132a1);const _0x4991da={};_0x4991da[_0x74bb24(0x109)]=_0x5be5e9,_0x4cafff[_0x74bb24(0xb7)]=Object[_0x74bb24(0xf4)]({},_0x4cafff[_0x74bb24(0xb7)],_0x4991da,_0x5b6e62);const _0x49adad={};_0x49adad[_0x74bb24(0xda)]=_0x4cafff['currentSessionDetails'][_0x74bb24(0xda)],_0x49adad['browserVersion']=_0x4cafff[_0x74bb24(0xb7)][_0x74bb24(0xbd)],_0x49adad['platform']=_0x4cafff[_0x74bb24(0xb7)]['platform'],_0x49adad[_0x74bb24(0xf3)]=_0x4cafff['currentSessionDetails'][_0x74bb24(0x12a)],_0x49adad[_0x74bb24(0x109)]=_0x4cafff[_0x74bb24(0xb7)][_0x74bb24(0x109)],_0x49adad[_0x74bb24(0x14b)]=_0x4cafff[_0x74bb24(0xb7)][_0x74bb24(0x14b)],logger[_0x74bb24(0x120)]('Session\x20details\x20setup\x20complete:\x20'+JSON[_0x74bb24(0xe2)](_0x49adad));},_0x469da2[_0x1ece8b(0x16e)])(_0x2f851d,_0x5af408,_0x4a53e8);}static['patch'](){const _0x5078e0=a60_0x22aa0f;this[_0x5078e0(0x164)](),this[_0x5078e0(0x12d)]();}static['patchConnection'](){const _0x85d516=a60_0x22aa0f,_0x2e2fc9={'IyUtV':function(_0x3be5a3,_0x5eb12d){return _0x3be5a3(_0x5eb12d);},'QAMIW':_0x85d516(0x149),'oNvwD':'client','ivtgf':_0x85d516(0x167),'XZdzU':function(_0x4d4c6b,_0x19b326){return _0x4d4c6b(_0x19b326);},'qgnrV':function(_0x4eb383,_0x2b7b2e){return _0x4eb383(_0x2b7b2e);},'Ujqxf':'Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','ddLZT':function(_0x2eb6d6,_0x12d317){return _0x2eb6d6!=_0x12d317;},'mRRGK':function(_0x35f829,_0x4c903){return _0x35f829(_0x4c903);},'uueUg':_0x85d516(0x108),'Yemay':'dispatch','gCoCx':_0x85d516(0x13e)},_0x3dd396=this;if(!this[_0x85d516(0x157)])try{const _0x246dc0=[path[_0x85d516(0x124)](_0x2e2fc9[_0x85d516(0xf9)],_0x2e2fc9[_0x85d516(0x153)],_0x2e2fc9[_0x85d516(0x13d)]),path[_0x85d516(0x124)](_0x2e2fc9[_0x85d516(0xf9)],_0x2e2fc9[_0x85d516(0x13d)]),path['join'](_0x2e2fc9[_0x85d516(0x153)],_0x2e2fc9[_0x85d516(0x13d)])];for(const _0x2a4bdf of _0x246dc0){try{const _0x83b59=_0x2e2fc9['IyUtV'](importFileFromPWCore,_0x2a4bdf);if(_0x83b59&&_0x83b59['Connection']){this[_0x85d516(0x157)]=_0x83b59['Connection'],logger[_0x85d516(0x120)](_0x85d516(0xfd)+_0x2a4bdf);break;}}catch(_0x734371){_0x2e2fc9[_0x85d516(0xcb)](debug,_0x85d516(0x148)+_0x2a4bdf+':\x20'+_0x734371[_0x85d516(0xd6)]());}}if(!this[_0x85d516(0x157)]){_0x2e2fc9[_0x85d516(0xb3)](debug,_0x2e2fc9[_0x85d516(0xd2)]);return;}}catch(_0x54b415){_0x2e2fc9[_0x85d516(0xcb)](debug,_0x85d516(0x132)+_0x54b415[_0x85d516(0xd6)]());return;}const _0x1cc936=this[_0x85d516(0x157)];try{if(_0x2e2fc9['ddLZT'](_0x1cc936,null)){const _0x1f11dd=_0x1cc936[_0x85d516(0x142)]['dispatch'];if(!_0x2e2fc9['mRRGK'](isFalse,process[_0x85d516(0x107)][_0x85d516(0xb2)])){if(_0x1cc936[_0x85d516(0x142)][_0x85d516(0xe0)]){logger['debug'](_0x2e2fc9[_0x85d516(0xde)]);return;}Object[_0x85d516(0xfb)](_0x1cc936['prototype'],_0x2e2fc9[_0x85d516(0x11a)],{'get':function(){return async function _0x5af8e6(_0x56b861){const _0x3af7c1=a60_0x5ebe;if(BrowserstackCLI[_0x3af7c1(0x156)]()[_0x3af7c1(0x10f)]()){const _0x4a6eb2={};_0x4a6eb2[_0x3af7c1(0xcf)]=_0x56b861,await BrowserstackCLI[_0x3af7c1(0x156)]()[_0x3af7c1(0x125)]()[_0x3af7c1(0xd8)](AutomationFrameworkState[_0x3af7c1(0xdd)],HookState[_0x3af7c1(0x13a)],_0x4a6eb2);}else{const _0x5d588c=_0x56b861&&_0x56b861['params']&&_0x56b861[_0x3af7c1(0x170)][_0x3af7c1(0x12f)];if(_0x5d588c){const _0xc3533e=_0x5d588c[_0x3af7c1(0xd1)],_0xfacf03=_0x5d588c[_0x3af7c1(0xe3)];_0xfacf03&&(_0x2e2fc9['IyUtV'](debug,_0x3af7c1(0x11f)+_0xfacf03[_0x3af7c1(0xd6)]()),_0x3dd396['currentSessionDetails'][_0x3af7c1(0x14e)]=_0xfacf03[_0x3af7c1(0x10b)],_0x3dd396[_0x3af7c1(0xb7)][_0x3af7c1(0x12a)]=_0xfacf03[_0x3af7c1(0xf3)]),_0xc3533e&&(_0x2e2fc9[_0x3af7c1(0x145)](debug,_0x3af7c1(0x166)+_0xc3533e),_0x3dd396[_0x3af7c1(0xb7)][_0x3af7c1(0x115)]=_0xc3533e);}}return _0x1f11dd[_0x3af7c1(0xe6)](this,arguments);};}}),_0x1cc936[_0x85d516(0x142)]['_bstackDispatchPatched']=!![],logger[_0x85d516(0x120)](_0x2e2fc9[_0x85d516(0x16a)]);}}}catch(_0x4591cf){_0x2e2fc9[_0x85d516(0xcb)](debug,'Error\x20in\x20applying\x20Connection\x20patch\x20'+_0x4591cf),_0x3dd396[_0x85d516(0x112)]=_0x4591cf[_0x85d516(0xd6)]();}}static[a60_0x22aa0f(0x12d)](){const _0x4545cf=a60_0x22aa0f,_0x591dcb={'lKpcc':function(_0x4cd3ec,_0x509a13){return _0x4cd3ec(_0x509a13);},'QZBoj':function(_0x5002e8,_0x27b6ba){return _0x5002e8(_0x27b6ba);},'IxTuz':_0x4545cf(0x149),'lOpCO':_0x4545cf(0xd5),'NBnBP':_0x4545cf(0xeb),'bsOOA':'crConnection.js','DZizk':function(_0x4eb5f4,_0x2a4ea3){return _0x4eb5f4(_0x2a4ea3);},'WvnCa':_0x4545cf(0xe5),'TJWzk':_0x4545cf(0x15f),'rMhzd':function(_0x49beab,_0x30911e){return _0x49beab!=_0x30911e;},'qARao':_0x4545cf(0x106),'SNLTd':_0x4545cf(0x16c),'VPbuH':'Successfully\x20patched\x20CRConnection._onMessage','zXJRB':function(_0x2d0230,_0x529b03){return _0x2d0230(_0x529b03);}},_0xd4ee0a=this;let _0x3eb302=null;try{const _0x392095=path['join'](_0x591dcb[_0x4545cf(0x12b)],_0x591dcb['lOpCO'],_0x591dcb[_0x4545cf(0xd7)],_0x591dcb[_0x4545cf(0xc6)]),_0x2d9ed2=_0x591dcb[_0x4545cf(0xee)](importFileFromPWCore,_0x392095);!_0x2d9ed2?_0x591dcb[_0x4545cf(0x141)](debug,_0x591dcb['WvnCa']):_0x3eb302=_0x2d9ed2[_0x4545cf(0x11c)];}catch(_0x20a866){_0x591dcb[_0x4545cf(0x15c)](debug,_0x591dcb['TJWzk']);}try{if(_0x591dcb[_0x4545cf(0xe7)](_0x3eb302,null)){const _0x21ab7a=_0x3eb302[_0x4545cf(0x142)]['_onMessage'];if(_0x3eb302['prototype'][_0x4545cf(0xe4)]){logger[_0x4545cf(0x120)](_0x591dcb[_0x4545cf(0xdc)]);return;}Object[_0x4545cf(0xfb)](_0x3eb302[_0x4545cf(0x142)],_0x591dcb[_0x4545cf(0xb5)],{'get':function(){return async function _0xe3dfac(_0x40ac20){const _0x4a30a6=a60_0x5ebe;try{if(BrowserstackCLI[_0x4a30a6(0x156)]()[_0x4a30a6(0x10f)]()){const _0x500880={};_0x500880[_0x4a30a6(0xcf)]=_0x40ac20,await BrowserstackCLI[_0x4a30a6(0x156)]()[_0x4a30a6(0x125)]()[_0x4a30a6(0xd8)](AutomationFrameworkState[_0x4a30a6(0xdd)],HookState[_0x4a30a6(0x13a)],_0x500880),delete _0x40ac20['bStackParams'];}else{const _0x2595af=_0x40ac20[_0x4a30a6(0xc5)];if(_0x2595af){delete _0x40ac20[_0x4a30a6(0xc5)];const _0x4057be=_0x2595af['sessionId'],_0x306d6c=_0x2595af[_0x4a30a6(0xe3)];_0x306d6c&&(_0x591dcb[_0x4a30a6(0xee)](debug,_0x4a30a6(0xe9)+_0x306d6c[_0x4a30a6(0xd6)]()),_0xd4ee0a['currentSessionDetails'][_0x4a30a6(0x14e)]=_0x306d6c[_0x4a30a6(0x10b)],_0xd4ee0a['currentSessionDetails']['platform_version']=_0x306d6c[_0x4a30a6(0xf3)]),_0x4057be&&(_0x591dcb[_0x4a30a6(0x15c)](debug,_0x4a30a6(0xfe)+_0x4057be),_0xd4ee0a[_0x4a30a6(0xb7)][_0x4a30a6(0x115)]=_0x4057be);}}}catch(_0x35eadb){_0x591dcb[_0x4a30a6(0xee)](debug,_0x4a30a6(0x114)+_0x35eadb[_0x4a30a6(0xd6)]());}return _0x21ab7a['apply'](this,arguments);};}}),_0x3eb302[_0x4545cf(0x142)][_0x4545cf(0xe4)]=!![],logger['debug'](_0x591dcb[_0x4545cf(0x130)]);}}catch(_0x528ecb){_0x591dcb[_0x4545cf(0xf7)](debug,'Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20'+_0x528ecb),_0xd4ee0a[_0x4545cf(0x112)]=_0x528ecb[_0x4545cf(0xd6)]();}}static[a60_0x22aa0f(0x165)](_0x3be0e4,_0x4112f8){const _0x1c0e22=a60_0x22aa0f,_0x367582={'FRRmd':_0x1c0e22(0x143),'snUjc':function(_0x36a0d4,_0x3c27ec){return _0x36a0d4||_0x3c27ec;},'AAKgZ':function(_0x177bcb,_0x191bfb){return _0x177bcb===_0x191bfb;},'gUKBf':_0x1c0e22(0xea),'jSZRD':'BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','XDPFM':function(_0x38dd9c,_0x15a557){return _0x38dd9c(_0x15a557);},'DaeHk':function(_0x3f8848,_0x41de19){return _0x3f8848(_0x41de19);}};let _0x223574=null,_0x5336fb=null;try{const _0x31777a=[_0x4112f8,global[_0x1c0e22(0xf2)],global[_0x1c0e22(0x14d)]];for(const _0x251958 of _0x31777a){if(_0x251958&&(!_0x5336fb||!_0x5336fb[_0x1c0e22(0xd1)])){const _0x23a9c6=_0x251958[_0x1c0e22(0xd1)]||_0x251958[_0x367582[_0x1c0e22(0x147)]]?.[_0x1c0e22(0xd1)],_0x2a42b1=_0x251958[_0x1c0e22(0xc3)]||_0x251958[_0x1c0e22(0xda)]||_0x251958[_0x367582[_0x1c0e22(0x147)]]?.[_0x1c0e22(0xc3)],_0xf2874c=_0x251958[_0x1c0e22(0xc1)]||_0x251958['browser_version']||_0x251958[_0x367582[_0x1c0e22(0x147)]]?.[_0x1c0e22(0xc1)],_0x20a92b=_0x251958['os']||_0x251958[_0x1c0e22(0x14e)]||_0x251958[_0x367582['FRRmd']]?.['os'],_0xd23047=_0x251958[_0x1c0e22(0xdb)]||_0x251958[_0x1c0e22(0x133)]||_0x251958[_0x367582['FRRmd']]?.[_0x1c0e22(0xdb)];if(_0x367582[_0x1c0e22(0x150)](_0x23a9c6,_0x2a42b1)||_0x20a92b){const _0x4c9100={};_0x4c9100[_0x1c0e22(0xc3)]=_0x2a42b1,_0x4c9100[_0x1c0e22(0xc1)]=_0xf2874c,_0x4c9100['os']=_0x20a92b,_0x4c9100[_0x1c0e22(0xdb)]=_0xd23047,_0x4c9100[_0x1c0e22(0x10b)]=_0x251958[_0x1c0e22(0x10b)]||_0x20a92b,_0x4c9100[_0x1c0e22(0xf3)]=_0x251958[_0x1c0e22(0xf3)]||_0xd23047;const _0x464822={};_0x464822[_0x1c0e22(0xd1)]=_0x23a9c6,_0x464822[_0x1c0e22(0xe3)]=_0x4c9100,_0x5336fb=_0x464822;if(_0x367582[_0x1c0e22(0x150)](_0x23a9c6,_0x2a42b1)){logger['debug']('BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser='+_0x2a42b1+',\x20os='+_0x20a92b);break;}}}}if(_0x3be0e4&&_0x367582[_0x1c0e22(0x134)](typeof _0x3be0e4,_0x367582[_0x1c0e22(0xcd)]))try{const _0xe86c0d=url[_0x1c0e22(0xf1)](_0x3be0e4),_0x4fa26f=new URLSearchParams(_0xe86c0d[_0x1c0e22(0x122)]),_0x1cc23e=Object[_0x1c0e22(0x144)](_0x4fa26f['entries']()),_0x2de851=[_0x1cc23e[_0x1c0e22(0xb6)],_0x1cc23e[_0x1c0e22(0x160)],_0x1cc23e['desiredCapabilities']];for(const _0x4f2422 of _0x2de851){if(_0x4f2422&&(!_0x223574||!_0x223574[_0x1c0e22(0xd1)]))try{const _0x42f82b=JSON[_0x1c0e22(0xf1)](_0x4f2422),_0x2bea4a={};_0x2bea4a[_0x1c0e22(0xd1)]=_0x42f82b['sessionId']||_0x42f82b[_0x367582[_0x1c0e22(0x147)]]?.['sessionId'],_0x2bea4a[_0x1c0e22(0xe3)]={},_0x2bea4a[_0x1c0e22(0xe3)][_0x1c0e22(0xc3)]=_0x42f82b['browserName']||_0x42f82b[_0x1c0e22(0xda)],_0x2bea4a[_0x1c0e22(0xe3)][_0x1c0e22(0xc1)]=_0x42f82b[_0x1c0e22(0xc1)]||_0x42f82b[_0x1c0e22(0xbd)],_0x2bea4a[_0x1c0e22(0xe3)]['os']=_0x42f82b['os']||_0x42f82b[_0x1c0e22(0x14e)],_0x2bea4a[_0x1c0e22(0xe3)]['osVersion']=_0x42f82b[_0x1c0e22(0xdb)]||_0x42f82b[_0x1c0e22(0x133)],_0x2bea4a[_0x1c0e22(0xe3)][_0x1c0e22(0x10b)]=_0x42f82b['platformName']||_0x42f82b['os']||_0x42f82b[_0x1c0e22(0x14e)],_0x2bea4a[_0x1c0e22(0xe3)][_0x1c0e22(0xf3)]=_0x42f82b['platformVersion']||_0x42f82b[_0x1c0e22(0xdb)]||_0x42f82b['os_version'],_0x223574=_0x2bea4a;if(_0x223574[_0x1c0e22(0xd1)]||_0x223574[_0x1c0e22(0xe3)][_0x1c0e22(0xc3)]){logger[_0x1c0e22(0x120)](_0x367582[_0x1c0e22(0xe8)]);break;}}catch(_0xb0a694){_0x367582[_0x1c0e22(0x14f)](debug,'Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20'+_0xb0a694[_0x1c0e22(0xd6)]());}}}catch(_0x4c1081){_0x367582[_0x1c0e22(0x14f)](debug,_0x1c0e22(0x10d)+_0x4c1081[_0x1c0e22(0xd6)]());}}catch(_0x27a003){_0x367582[_0x1c0e22(0x13f)](debug,_0x1c0e22(0xba)+util['format'](_0x27a003));}const _0x5a8a16={};return _0x5a8a16[_0x1c0e22(0x12f)]=_0x223574,_0x5a8a16[_0x1c0e22(0xc5)]=_0x5336fb,_0x5a8a16;}static async['triggerPlaywrightDispatchEvent'](_0x51f965,_0x39f139){const _0x11f406=a60_0x22aa0f,_0x4b2a54={'ljjRM':function(_0x147c89,_0x2b62e2){return _0x147c89||_0x2b62e2;},'XpAkh':_0x11f406(0xdf),'gZWVr':function(_0x5e77df,_0x4e246d){return _0x5e77df||_0x4e246d;},'kHoQG':function(_0x3731a0,_0x517ffd){return _0x3731a0(_0x517ffd);}};try{if(!BrowserstackCLI[_0x11f406(0x156)]()[_0x11f406(0x10f)]())return;if(_0x4b2a54['ljjRM'](_0x51f965,_0x39f139)){logger[_0x11f406(0x120)](_0x4b2a54[_0x11f406(0x159)]);const _0x4747e6={'params':_0x51f965?{'bsParams':_0x51f965}:null,'bStackParams':_0x4b2a54['gZWVr'](_0x39f139,null)},_0x163567=AutomationFramework[_0x11f406(0x14c)](),_0x3f573d={};_0x3f573d[_0x11f406(0xcf)]=_0x4747e6,_0x3f573d['instance']=_0x163567,await BrowserstackCLI['getInstance']()[_0x11f406(0x125)]()['trackEvent'](AutomationFrameworkState[_0x11f406(0xdd)],HookState[_0x11f406(0x13a)],_0x3f573d);}}catch(_0x1b8201){_0x4b2a54[_0x11f406(0x169)](debug,_0x11f406(0x152)+util[_0x11f406(0x11e)](_0x1b8201));}}static[a60_0x22aa0f(0x15d)](){return this['currentSessionDetails'];}}module[a60_0x22aa0f(0x146)]=SharedPlaywrightSessionDetails;