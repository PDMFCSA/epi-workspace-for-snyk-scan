const a60_0x483929=a60_0x14d6;(function(_0x4c6b48,_0x2122df){const _0x1786b2=a60_0x14d6,_0x1cfb70=_0x4c6b48();while(!![]){try{const _0x37d71b=-parseInt(_0x1786b2(0x1d2))/0x1+-parseInt(_0x1786b2(0x23c))/0x2+-parseInt(_0x1786b2(0x23a))/0x3*(-parseInt(_0x1786b2(0x223))/0x4)+parseInt(_0x1786b2(0x1c0))/0x5*(parseInt(_0x1786b2(0x218))/0x6)+parseInt(_0x1786b2(0x199))/0x7*(parseInt(_0x1786b2(0x18d))/0x8)+parseInt(_0x1786b2(0x1a0))/0x9+-parseInt(_0x1786b2(0x19f))/0xa;if(_0x37d71b===_0x2122df)break;else _0x1cfb70['push'](_0x1cfb70['shift']());}catch(_0x5e71f6){_0x1cfb70['push'](_0x1cfb70['shift']());}}}(a60_0x1e89,0x220b8));const path=require(a60_0x483929(0x186)),url=require(a60_0x483929(0x1c9)),util=require(a60_0x483929(0x1a8)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x483929(0x205)),{o11yErrorHandler}=require(a60_0x483929(0x1b7)),{debug,getPlatformDetails}=require(a60_0x483929(0x1bf)),logger=require(a60_0x483929(0x19a))['winstonLogger'],constants=require(a60_0x483929(0x1f2)),AutomationFramework=require(a60_0x483929(0x206)),BrowserstackCLI=require(a60_0x483929(0x22e)),AutomationFrameworkState=require(a60_0x483929(0x23b)),HookState=require('../v2/state/hookState.js'),{platform}=require('os'),getBrowserNameFromChannel=_0x4397cb=>{const _0x4808cc=a60_0x483929,_0xd39bd9={};_0xd39bd9['fnNrE']=_0x4808cc(0x173),_0xd39bd9[_0x4808cc(0x1a9)]='edge',_0xd39bd9[_0x4808cc(0x239)]=_0x4808cc(0x1e3),_0xd39bd9[_0x4808cc(0x1a6)]=_0x4808cc(0x1c7);const _0x4c9a7a=_0xd39bd9;if(_0x4397cb[_0x4808cc(0x1c5)](_0x4c9a7a[_0x4808cc(0x21f)]))return _0x4c9a7a[_0x4808cc(0x21f)];if(_0x4397cb[_0x4808cc(0x1c5)](_0x4c9a7a['JBtZy']))return _0x4c9a7a[_0x4808cc(0x1a9)];if(_0x4397cb['includes'](_0x4c9a7a[_0x4808cc(0x239)]))return _0x4c9a7a[_0x4808cc(0x239)];if(_0x4397cb[_0x4808cc(0x1c5)](_0x4c9a7a[_0x4808cc(0x1a6)]))return _0x4c9a7a['NxNKk'];},getBrowserFromWSEndpoint=_0x4d5edb=>{const _0x45ec9c=a60_0x483929,_0x5bf41a={'feipY':_0x45ec9c(0x234),'AmsOe':function(_0x4713be,_0x11db9c){return _0x4713be(_0x11db9c);},'exSke':_0x45ec9c(0x1fd),'vjqlP':_0x45ec9c(0x1fa),'XZxcc':'firefox','lhRHN':_0x45ec9c(0x1af),'iAJVj':_0x45ec9c(0x1c7),'uwLST':_0x45ec9c(0x1e1),'ccKCD':'chrome'};try{const _0x4306f1=url[_0x45ec9c(0x20d)](_0x4d5edb),_0x85b852=new URLSearchParams(_0x4306f1[_0x45ec9c(0x1ed)]),_0x46b544=Object[_0x45ec9c(0x1f5)](_0x85b852['entries']()),_0x3363e6=[_0x46b544[_0x45ec9c(0x209)],_0x46b544['capabilities'],_0x46b544[_0x45ec9c(0x1aa)],_0x46b544['browserstack_capabilities']];for(const _0x3c4661 of _0x3363e6){if(_0x3c4661)try{const _0x52f6a6=JSON[_0x45ec9c(0x20d)](_0x3c4661),_0x5a7895=_0x52f6a6[_0x45ec9c(0x1a2)]||_0x52f6a6[_0x45ec9c(0x21b)]||_0x52f6a6[_0x5bf41a[_0x45ec9c(0x17e)]]?.[_0x45ec9c(0x1a2)];if(_0x5a7895)return _0x5bf41a['AmsOe'](debug,_0x45ec9c(0x17f)+_0x5a7895),_0x5a7895[_0x45ec9c(0x1bc)]();}catch(_0x24f2c6){_0x5bf41a['AmsOe'](debug,_0x45ec9c(0x19b)+_0x24f2c6[_0x45ec9c(0x1cc)]);}}if(_0x4d5edb['includes'](_0x5bf41a[_0x45ec9c(0x1c2)])||_0x4d5edb[_0x45ec9c(0x1c5)](_0x5bf41a[_0x45ec9c(0x1e7)]))return _0x5bf41a['exSke'];if(_0x4d5edb[_0x45ec9c(0x1c5)](_0x5bf41a[_0x45ec9c(0x1ba)])||_0x4d5edb['includes'](_0x5bf41a[_0x45ec9c(0x1e2)]))return _0x5bf41a[_0x45ec9c(0x1ba)];if(_0x4d5edb[_0x45ec9c(0x1c5)](_0x5bf41a[_0x45ec9c(0x1ae)])||_0x4d5edb[_0x45ec9c(0x1c5)](_0x5bf41a['uwLST']))return _0x5bf41a[_0x45ec9c(0x1ae)];return _0x5bf41a[_0x45ec9c(0x20b)];}catch(_0x1780f9){return _0x5bf41a[_0x45ec9c(0x18a)](debug,_0x45ec9c(0x219)+_0x1780f9['toString']()),_0x5bf41a['ccKCD'];}},getCloudProviderFromWsEndpoint=_0x1c8ff2=>{const _0x1baf48=a60_0x483929,_0x37947e={};_0x37947e[_0x1baf48(0x1f9)]='browserstack',_0x37947e[_0x1baf48(0x1cb)]=_0x1baf48(0x21a);const _0x223a14=_0x37947e;if(_0x1c8ff2[_0x1baf48(0x1c5)](constants[_0x1baf48(0x1e6)])||_0x1c8ff2[_0x1baf48(0x1c5)](constants['BSTACK_ATS_URL']))return _0x223a14[_0x1baf48(0x1f9)];return _0x223a14[_0x1baf48(0x1cb)];},a60_0x31683b={};a60_0x31683b[a60_0x483929(0x1dc)]=undefined,a60_0x31683b[a60_0x483929(0x198)]=undefined,a60_0x31683b[a60_0x483929(0x21b)]=undefined,a60_0x31683b[a60_0x483929(0x189)]=undefined,a60_0x31683b[a60_0x483929(0x17b)]=undefined,a60_0x31683b['platform_version']=undefined,a60_0x31683b[a60_0x483929(0x1c4)]=undefined,a60_0x31683b[a60_0x483929(0x200)]={};function a60_0x14d6(_0x2e294f,_0x4e77bd){const _0x1e8994=a60_0x1e89();return a60_0x14d6=function(_0x14d667,_0x28ba78){_0x14d667=_0x14d667-0x16e;let _0x568fd6=_0x1e8994[_0x14d667];return _0x568fd6;},a60_0x14d6(_0x2e294f,_0x4e77bd);}class SharedPlaywrightSessionDetails{static [a60_0x483929(0x22b)]=a60_0x31683b;constructor(){const _0x34984e=a60_0x483929,_0x269f33={};_0x269f33[_0x34984e(0x1db)]=_0x34984e(0x1fe);const _0x4282be=_0x269f33;throw new Error(_0x4282be[_0x34984e(0x1db)]);}static [a60_0x483929(0x20c)]=null;static[a60_0x483929(0x1b0)](_0x8a7a66,_0x2d4c38,_0x469764=null){const _0x42a0f5=a60_0x483929,_0x58fda9={'PJPHn':function(_0x97e6b7,_0x573e94){return _0x97e6b7===_0x573e94;},'loKsW':_0x42a0f5(0x237),'UYwdU':_0x42a0f5(0x174),'yYvFv':_0x42a0f5(0x188),'lFrCr':_0x42a0f5(0x211),'oUGBO':function(_0x4e4a6d,_0x39f38d,_0xf37a6e){return _0x4e4a6d(_0x39f38d,_0xf37a6e);},'NlATG':_0x42a0f5(0x1d5),'cUsHg':_0x42a0f5(0x1dd),'wekLA':function(_0x3e5cf4,_0x859f22,_0x3e4e41){return _0x3e5cf4(_0x859f22,_0x3e4e41);},'Wgelj':_0x42a0f5(0x21e),'KRvFC':_0x42a0f5(0x1f6),'jYsoM':'connectOptions','xCLaH':function(_0x4e2597,_0x12b2f2){return _0x4e2597(_0x12b2f2);},'ItdLt':_0x42a0f5(0x201),'FkCVV':'turboscale','dhlhx':'automate','QSebj':function(_0x126c01,_0x5e1ad7){return _0x126c01(_0x5e1ad7);},'kahDU':_0x42a0f5(0x1e9),'XuunU':function(_0x38c4b4,_0x483a72){return _0x38c4b4+_0x483a72;},'jghUs':_0x42a0f5(0x1c3),'GyDVJ':function(_0x4b97f8){return _0x4b97f8();},'wdiLl':_0x42a0f5(0x1b0)},_0x319ebd=this;return _0x58fda9['oUGBO'](o11yErrorHandler,async function _0x3e4eb2(_0x12df37,_0x3531e7,_0x52631c=null){const _0x155982=_0x42a0f5;let _0x3b371d=_0x12df37['_name'],_0x3073ba=null;_0x12df37&&_0x58fda9[_0x155982(0x22d)](typeof _0x12df37[_0x155982(0x1b1)],_0x58fda9['loKsW'])?_0x3073ba=_0x12df37[_0x155982(0x1b1)]():logger['debug'](_0x58fda9['UYwdU']);let _0x5030e5=null;_0x12df37&&_0x58fda9[_0x155982(0x22d)](typeof _0x12df37[_0x155982(0x1b6)],_0x58fda9[_0x155982(0x1ad)])?_0x5030e5=_0x12df37[_0x155982(0x1b6)]():logger[_0x155982(0x1b9)](_0x58fda9[_0x155982(0x222)]);let _0x5c5090=null,_0x2dd5f5=null,_0x108baf=null,_0x39fb56=_0x58fda9[_0x155982(0x181)];if(_0x12df37[_0x155982(0x178)][_0x155982(0x1d8)]()||global['accessibilityPlatform']){let _0x58de7f=null;_0x58fda9[_0x155982(0x230)](nestedKeyValue,_0x12df37,[_0x58fda9[_0x155982(0x20e)],_0x58fda9[_0x155982(0x190)]])?_0x58de7f=_0x12df37[_0x155982(0x1d5)][_0x155982(0x1dd)]:_0x58de7f=_0x58fda9[_0x155982(0x216)](nestedKeyValue,_0x3531e7,[_0x58fda9[_0x155982(0x183)],_0x58fda9[_0x155982(0x1f1)],_0x58fda9[_0x155982(0x1d7)]]);const _0x385c9a=_0x52631c||_0x58de7f&&_0x58de7f['wsEndpoint'];if(_0x385c9a){_0x39fb56=_0x58fda9[_0x155982(0x233)](getCloudProviderFromWsEndpoint,_0x385c9a);if(_0x58fda9['PJPHn'](_0x39fb56,_0x58fda9['ItdLt'])){_0x108baf=constants[_0x155982(0x1ff)][_0x155982(0x16f)](_0x385c9a)?_0x58fda9[_0x155982(0x187)]:_0x58fda9[_0x155982(0x1e5)];const _0x364f8d=_0x58fda9['QSebj'](getBrowserFromWSEndpoint,_0x385c9a);if(_0x364f8d&&(!_0x3b371d||_0x58fda9['PJPHn'](_0x3b371d,_0x58fda9[_0x155982(0x185)])))_0x3b371d=_0x364f8d,logger[_0x155982(0x1b9)](_0x155982(0x179)+_0x3b371d);else _0x3b371d&&logger[_0x155982(0x1b9)](_0x155982(0x1a5)+_0x3b371d);_0x5c5090=_0x319ebd[_0x155982(0x22b)][_0x155982(0x17b)],_0x2dd5f5=_0x319ebd['currentSessionDetails'][_0x155982(0x1b5)];}}}else{_0x3531e7&&_0x3531e7[_0x155982(0x21e)]&&_0x3531e7['project'][_0x155982(0x1f6)]&&_0x3531e7[_0x155982(0x21e)]['use']['channel']?_0x3b371d=_0x58fda9['QSebj'](getBrowserNameFromChannel,_0x3531e7[_0x155982(0x21e)]['use'][_0x155982(0x1c1)]):_0x3b371d=_0x58fda9['XuunU'](_0x58fda9[_0x155982(0x1a4)],_0x3b371d[_0x155982(0x1bc)]());const _0x86655a=await _0x58fda9['GyDVJ'](getPlatformDetails);_0x5c5090=_0x86655a[_0x155982(0x1b8)],_0x2dd5f5=_0x86655a[_0x155982(0x1d0)];}const _0x5314b2={};_0x5314b2['browser']=_0x3b371d,_0x5314b2[_0x155982(0x189)]=_0x3073ba,_0x5314b2['capabilities']={},_0x5314b2[_0x155982(0x17b)]=_0x5c5090,_0x5314b2[_0x155982(0x1b5)]=_0x2dd5f5,_0x5314b2[_0x155982(0x1c4)]=_0x108baf;const _0x9964ab=_0x5314b2;_0x5030e5&&(_0x9964ab[_0x155982(0x200)][_0x155982(0x20f)]=_0x5030e5);const _0x481a73={};_0x481a73[_0x155982(0x1dc)]=_0x39fb56,_0x319ebd[_0x155982(0x22b)]=Object[_0x155982(0x1df)]({},_0x319ebd['currentSessionDetails'],_0x481a73,_0x9964ab);const _0x571b24={};_0x571b24[_0x155982(0x21b)]=_0x319ebd['currentSessionDetails'][_0x155982(0x21b)],_0x571b24['browserVersion']=_0x319ebd[_0x155982(0x22b)][_0x155982(0x189)],_0x571b24[_0x155982(0x17b)]=_0x319ebd[_0x155982(0x22b)]['platform'],_0x571b24[_0x155982(0x1d0)]=_0x319ebd['currentSessionDetails'][_0x155982(0x1b5)],_0x571b24['cloudProvider']=_0x319ebd['currentSessionDetails']['cloudProvider'],_0x571b24[_0x155982(0x1c4)]=_0x319ebd[_0x155982(0x22b)][_0x155982(0x1c4)],logger[_0x155982(0x1b9)](_0x155982(0x210)+JSON[_0x155982(0x221)](_0x571b24));},_0x58fda9[_0x42a0f5(0x1ee)])(_0x8a7a66,_0x2d4c38,_0x469764);}static[a60_0x483929(0x236)](){const _0x103c9c=a60_0x483929;this[_0x103c9c(0x1eb)](),this[_0x103c9c(0x1c8)]();}static[a60_0x483929(0x1eb)](){const _0x2892ad=a60_0x483929,_0x1097c0={'ZHJBC':function(_0x31f437,_0x517dd9){return _0x31f437(_0x517dd9);},'nKpwm':function(_0x155000,_0x44376b){return _0x155000(_0x44376b);},'WxnIj':_0x2892ad(0x20a),'OsfeW':_0x2892ad(0x1ab),'reycI':_0x2892ad(0x22a),'WIkLM':function(_0x4ac9de,_0xdda41){return _0x4ac9de(_0xdda41);},'njJKA':function(_0x3269b7,_0x4c8fbf){return _0x3269b7(_0x4c8fbf);},'KVMoa':_0x2892ad(0x18e),'aAHit':function(_0x19c00e,_0xb88309){return _0x19c00e(_0xb88309);},'pwLlb':function(_0x205761,_0x5ae044){return _0x205761!=_0x5ae044;},'jCEoI':_0x2892ad(0x21d),'HkwSN':_0x2892ad(0x1a7),'nimpg':_0x2892ad(0x18c),'KtPBA':function(_0x762405,_0x4a46a8){return _0x762405(_0x4a46a8);}},_0x38a86f=this;if(!this['Connection'])try{const _0x5ba81f=[path[_0x2892ad(0x1b4)](_0x1097c0[_0x2892ad(0x1f7)],_0x1097c0[_0x2892ad(0x1ac)],_0x1097c0[_0x2892ad(0x191)]),path[_0x2892ad(0x1b4)](_0x1097c0[_0x2892ad(0x1f7)],_0x1097c0['reycI']),path[_0x2892ad(0x1b4)](_0x1097c0[_0x2892ad(0x1ac)],_0x1097c0[_0x2892ad(0x191)])];for(const _0x2800b2 of _0x5ba81f){try{const _0x48ce98=_0x1097c0[_0x2892ad(0x1e4)](importFileFromPWCore,_0x2800b2);if(_0x48ce98&&_0x48ce98[_0x2892ad(0x1b2)]){this[_0x2892ad(0x1b2)]=_0x48ce98[_0x2892ad(0x1b2)],logger['debug'](_0x2892ad(0x196)+_0x2800b2);break;}}catch(_0x55b3dc){_0x1097c0[_0x2892ad(0x182)](debug,_0x2892ad(0x1d4)+_0x2800b2+':\x20'+_0x55b3dc[_0x2892ad(0x22c)]());}}if(!this['Connection']){_0x1097c0['njJKA'](debug,_0x1097c0[_0x2892ad(0x1be)]);return;}}catch(_0x275737){_0x1097c0[_0x2892ad(0x1f8)](debug,_0x2892ad(0x1bb)+_0x275737[_0x2892ad(0x22c)]());return;}const _0xd7e311=this[_0x2892ad(0x1b2)];try{if(_0x1097c0[_0x2892ad(0x192)](_0xd7e311,null)){const _0x567980=_0xd7e311['prototype']['dispatch'];if(!_0x1097c0[_0x2892ad(0x1e4)](isFalse,process[_0x2892ad(0x228)]['BROWSERSTACK_TEST_OBSERVABILITY'])){if(_0xd7e311[_0x2892ad(0x1ea)][_0x2892ad(0x1f3)]){logger[_0x2892ad(0x1b9)](_0x1097c0[_0x2892ad(0x1ef)]);return;}Object[_0x2892ad(0x184)](_0xd7e311['prototype'],_0x1097c0[_0x2892ad(0x17a)],{'get':function(){return async function _0x4415ff(_0x3f0b68){const _0xde4256=a60_0x14d6;if(BrowserstackCLI[_0xde4256(0x213)]()[_0xde4256(0x1a1)]()){const _0x593576={};_0x593576[_0xde4256(0x1cc)]=_0x3f0b68,await BrowserstackCLI[_0xde4256(0x213)]()[_0xde4256(0x212)]()[_0xde4256(0x1ca)](AutomationFrameworkState[_0xde4256(0x220)],HookState[_0xde4256(0x193)],_0x593576);}else{const _0x394ba7=_0x3f0b68&&_0x3f0b68[_0xde4256(0x1ce)]&&_0x3f0b68['params']['bsParams'];if(_0x394ba7){const _0x340261=_0x394ba7[_0xde4256(0x177)],_0xb01d32=_0x394ba7[_0xde4256(0x235)];_0xb01d32&&(_0x1097c0[_0xde4256(0x21c)](debug,_0xde4256(0x172)+_0xb01d32[_0xde4256(0x22c)]()),_0x38a86f[_0xde4256(0x22b)][_0xde4256(0x17b)]=_0xb01d32[_0xde4256(0x1b8)],_0x38a86f[_0xde4256(0x22b)]['platform_version']=_0xb01d32[_0xde4256(0x1d0)]),_0x340261&&(_0x1097c0[_0xde4256(0x1fb)](debug,'Setting\x20session\x20id\x20received\x20from\x20BS\x20'+_0x340261),_0x38a86f[_0xde4256(0x22b)]['bsSessionId']=_0x340261);}}return _0x567980[_0xde4256(0x17d)](this,arguments);};}}),_0xd7e311[_0x2892ad(0x1ea)][_0x2892ad(0x1f3)]=!![],logger[_0x2892ad(0x1b9)](_0x1097c0['nimpg']);}}}catch(_0x108248){_0x1097c0[_0x2892ad(0x1bd)](debug,_0x2892ad(0x232)+_0x108248),_0x38a86f[_0x2892ad(0x20c)]=_0x108248[_0x2892ad(0x22c)]();}}static['patchCRConnection'](){const _0x5541dd=a60_0x483929,_0x1caa62={'hheNM':function(_0x4315ea,_0xfb0ab3){return _0x4315ea(_0xfb0ab3);},'ymkmP':function(_0x54209c,_0x330087){return _0x54209c(_0x330087);},'HbKZI':_0x5541dd(0x20a),'TYWNV':_0x5541dd(0x1cf),'tjVFM':_0x5541dd(0x1e9),'adgHU':_0x5541dd(0x22f),'uhIDR':function(_0x4140d7,_0x3434f1){return _0x4140d7(_0x3434f1);},'qikEn':function(_0x3fc936,_0x321512){return _0x3fc936(_0x321512);},'rifJK':_0x5541dd(0x203),'ozYYh':_0x5541dd(0x176),'exryr':function(_0x4a3ce8,_0x5e37ef){return _0x4a3ce8!=_0x5e37ef;},'FAjpN':_0x5541dd(0x19d),'nQbIk':'_onMessage','BSzwa':'Successfully\x20patched\x20CRConnection._onMessage'},_0x402673=this;let _0x557764=null;try{const _0x5a2823=path[_0x5541dd(0x1b4)](_0x1caa62[_0x5541dd(0x18f)],_0x1caa62['TYWNV'],_0x1caa62['tjVFM'],_0x1caa62[_0x5541dd(0x1f4)]),_0x2d113c=_0x1caa62[_0x5541dd(0x18b)](importFileFromPWCore,_0x5a2823);!_0x2d113c?_0x1caa62[_0x5541dd(0x1da)](debug,_0x1caa62['rifJK']):_0x557764=_0x2d113c[_0x5541dd(0x1ec)];}catch(_0x3fd8ce){_0x1caa62['ymkmP'](debug,_0x1caa62[_0x5541dd(0x1d6)]);}try{if(_0x1caa62[_0x5541dd(0x204)](_0x557764,null)){const _0x21f104=_0x557764['prototype'][_0x5541dd(0x231)];if(_0x557764[_0x5541dd(0x1ea)][_0x5541dd(0x197)]){logger['debug'](_0x1caa62[_0x5541dd(0x1f0)]);return;}Object[_0x5541dd(0x184)](_0x557764[_0x5541dd(0x1ea)],_0x1caa62[_0x5541dd(0x227)],{'get':function(){return async function _0x55c624(_0x53f67a){const _0x4f7504=a60_0x14d6;try{if(BrowserstackCLI[_0x4f7504(0x213)]()[_0x4f7504(0x1a1)]()){const _0x2be726={};_0x2be726[_0x4f7504(0x1cc)]=_0x53f67a,await BrowserstackCLI['getInstance']()['getAutomationFramework']()[_0x4f7504(0x1ca)](AutomationFrameworkState[_0x4f7504(0x220)],HookState[_0x4f7504(0x193)],_0x2be726),delete _0x53f67a[_0x4f7504(0x1fc)];}else{const _0x523372=_0x53f67a[_0x4f7504(0x1fc)];if(_0x523372){delete _0x53f67a['bStackParams'];const _0x37d388=_0x523372['sessionId'],_0x539ff5=_0x523372['platformDetails'];_0x539ff5&&(_0x1caa62['hheNM'](debug,'Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20'+_0x539ff5[_0x4f7504(0x22c)]()),_0x402673['currentSessionDetails']['platform']=_0x539ff5['platformName'],_0x402673[_0x4f7504(0x22b)][_0x4f7504(0x1b5)]=_0x539ff5['platformVersion']),_0x37d388&&(_0x1caa62[_0x4f7504(0x19e)](debug,_0x4f7504(0x215)+_0x37d388),_0x402673[_0x4f7504(0x22b)][_0x4f7504(0x198)]=_0x37d388);}}}catch(_0x3544a1){_0x1caa62[_0x4f7504(0x1d1)](debug,_0x4f7504(0x1a3)+_0x3544a1[_0x4f7504(0x22c)]());}return _0x21f104[_0x4f7504(0x17d)](this,arguments);};}}),_0x557764[_0x5541dd(0x1ea)][_0x5541dd(0x197)]=!![],logger[_0x5541dd(0x1b9)](_0x1caa62['BSzwa']);}}catch(_0x36ca70){_0x1caa62[_0x5541dd(0x18b)](debug,'Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20'+_0x36ca70),_0x402673['sessionError']=_0x36ca70[_0x5541dd(0x22c)]();}}static[a60_0x483929(0x1de)](_0x24789d,_0x5b60e7){const _0x3e22c6=a60_0x483929,_0x25add8={'lsASS':_0x3e22c6(0x234),'XNMHT':function(_0x3f6b15,_0x1b0aea){return _0x3f6b15||_0x1b0aea;},'yxcjU':function(_0x35d657,_0x175030){return _0x35d657===_0x175030;},'RBvOj':_0x3e22c6(0x1d3),'CZhpQ':_0x3e22c6(0x1d9),'EZKrO':function(_0x56b40b,_0x308ab3){return _0x56b40b(_0x308ab3);},'LxEJn':function(_0x2d9a4f,_0xaf2fb){return _0x2d9a4f(_0xaf2fb);}};let _0x416f9e=null,_0x4a84a1=null;try{const _0x16705d=[_0x5b60e7,global[_0x3e22c6(0x194)],global[_0x3e22c6(0x224)]];for(const _0x539500 of _0x16705d){if(_0x539500&&(!_0x4a84a1||!_0x4a84a1[_0x3e22c6(0x177)])){const _0x13ca94=_0x539500[_0x3e22c6(0x177)]||_0x539500[_0x25add8[_0x3e22c6(0x229)]]?.[_0x3e22c6(0x177)],_0x288ed5=_0x539500[_0x3e22c6(0x1a2)]||_0x539500[_0x3e22c6(0x21b)]||_0x539500[_0x25add8[_0x3e22c6(0x229)]]?.['browserName'],_0x495db5=_0x539500['browserVersion']||_0x539500[_0x3e22c6(0x189)]||_0x539500[_0x25add8['lsASS']]?.[_0x3e22c6(0x19c)],_0x5268c8=_0x539500['os']||_0x539500['platform']||_0x539500[_0x25add8[_0x3e22c6(0x229)]]?.['os'],_0x383be2=_0x539500[_0x3e22c6(0x202)]||_0x539500[_0x3e22c6(0x171)]||_0x539500[_0x25add8[_0x3e22c6(0x229)]]?.[_0x3e22c6(0x202)];if(_0x25add8['XNMHT'](_0x13ca94,_0x288ed5)||_0x5268c8){const _0x3fc109={};_0x3fc109[_0x3e22c6(0x1a2)]=_0x288ed5,_0x3fc109['browserVersion']=_0x495db5,_0x3fc109['os']=_0x5268c8,_0x3fc109['osVersion']=_0x383be2,_0x3fc109['platformName']=_0x539500[_0x3e22c6(0x1b8)]||_0x5268c8,_0x3fc109['platformVersion']=_0x539500[_0x3e22c6(0x1d0)]||_0x383be2;const _0xa50d80={};_0xa50d80[_0x3e22c6(0x177)]=_0x13ca94,_0xa50d80[_0x3e22c6(0x235)]=_0x3fc109,_0x4a84a1=_0xa50d80;if(_0x25add8['XNMHT'](_0x13ca94,_0x288ed5)){logger['debug']('BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser='+_0x288ed5+_0x3e22c6(0x195)+_0x5268c8);break;}}}}if(_0x24789d&&_0x25add8['yxcjU'](typeof _0x24789d,_0x25add8[_0x3e22c6(0x180)]))try{const _0x57f93b=url[_0x3e22c6(0x20d)](_0x24789d),_0x60e4d7=new URLSearchParams(_0x57f93b[_0x3e22c6(0x1ed)]),_0x35e45b=Object[_0x3e22c6(0x1f5)](_0x60e4d7['entries']()),_0x52f8b5=[_0x35e45b['caps'],_0x35e45b[_0x3e22c6(0x200)],_0x35e45b[_0x3e22c6(0x1aa)]];for(const _0x33a22b of _0x52f8b5){if(_0x33a22b&&(!_0x416f9e||!_0x416f9e[_0x3e22c6(0x177)]))try{const _0x332691=JSON[_0x3e22c6(0x20d)](_0x33a22b),_0x5133ec={};_0x5133ec['sessionId']=_0x332691['sessionId']||_0x332691[_0x25add8[_0x3e22c6(0x229)]]?.[_0x3e22c6(0x177)],_0x5133ec[_0x3e22c6(0x235)]={},_0x5133ec[_0x3e22c6(0x235)][_0x3e22c6(0x1a2)]=_0x332691['browserName']||_0x332691[_0x3e22c6(0x21b)],_0x5133ec[_0x3e22c6(0x235)][_0x3e22c6(0x19c)]=_0x332691['browserVersion']||_0x332691[_0x3e22c6(0x189)],_0x5133ec[_0x3e22c6(0x235)]['os']=_0x332691['os']||_0x332691['platform'],_0x5133ec[_0x3e22c6(0x235)][_0x3e22c6(0x202)]=_0x332691[_0x3e22c6(0x202)]||_0x332691['os_version'],_0x5133ec[_0x3e22c6(0x235)][_0x3e22c6(0x1b8)]=_0x332691[_0x3e22c6(0x1b8)]||_0x332691['os']||_0x332691[_0x3e22c6(0x17b)],_0x5133ec[_0x3e22c6(0x235)][_0x3e22c6(0x1d0)]=_0x332691['platformVersion']||_0x332691[_0x3e22c6(0x202)]||_0x332691[_0x3e22c6(0x171)],_0x416f9e=_0x5133ec;if(_0x416f9e['sessionId']||_0x416f9e[_0x3e22c6(0x235)]['browserName']){logger['debug'](_0x25add8[_0x3e22c6(0x208)]);break;}}catch(_0x167dbe){_0x25add8[_0x3e22c6(0x1c6)](debug,_0x3e22c6(0x238)+_0x167dbe[_0x3e22c6(0x22c)]());}}}catch(_0xf59eb3){_0x25add8[_0x3e22c6(0x1c6)](debug,_0x3e22c6(0x16e)+_0xf59eb3[_0x3e22c6(0x22c)]());}}catch(_0x2301b9){_0x25add8[_0x3e22c6(0x1cd)](debug,_0x3e22c6(0x1e0)+util['format'](_0x2301b9));}const _0x421205={};return _0x421205[_0x3e22c6(0x214)]=_0x416f9e,_0x421205[_0x3e22c6(0x1fc)]=_0x4a84a1,_0x421205;}static async['triggerPlaywrightDispatchEvent'](_0x299536,_0x48c594){const _0x35dee2=a60_0x483929,_0x1a9368={'oHabS':function(_0x4ea6b8,_0x26ceaa){return _0x4ea6b8||_0x26ceaa;},'HgqKw':_0x35dee2(0x225),'buiMt':function(_0x41c378,_0x38c0d7){return _0x41c378(_0x38c0d7);}};try{if(!BrowserstackCLI[_0x35dee2(0x213)]()['isRunning']())return;if(_0x1a9368[_0x35dee2(0x207)](_0x299536,_0x48c594)){logger['debug'](_0x1a9368['HgqKw']);const _0x59a0e0={'params':_0x299536?{'bsParams':_0x299536}:null,'bStackParams':_0x1a9368[_0x35dee2(0x207)](_0x48c594,null)},_0x48e245=AutomationFramework[_0x35dee2(0x17c)](),_0x1a682f={};_0x1a682f[_0x35dee2(0x1cc)]=_0x59a0e0,_0x1a682f[_0x35dee2(0x1e8)]=_0x48e245,await BrowserstackCLI[_0x35dee2(0x213)]()[_0x35dee2(0x212)]()['trackEvent'](AutomationFrameworkState[_0x35dee2(0x220)],HookState[_0x35dee2(0x193)],_0x1a682f);}}catch(_0x5dfbd3){_0x1a9368[_0x35dee2(0x175)](debug,_0x35dee2(0x170)+util[_0x35dee2(0x217)](_0x5dfbd3));}}static[a60_0x483929(0x226)](){const _0xaf3fee=a60_0x483929;return this[_0xaf3fee(0x22b)];}}function a60_0x1e89(){const _0x16f20b=['unknown_grid','browser','ZHJBC','Connection\x20dispatch\x20already\x20patched','project','fnNrE','PLAYWRIGHT_DISPATCH','stringify','yYvFv','165516kfcQcD','capabilties','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','getDetails','nQbIk','env','lsASS','connection.js','currentSessionDetails','toString','PJPHn','../v2/browserstackCLI','crConnection.js','oUGBO','_onMessage','Error\x20in\x20applying\x20Connection\x20patch\x20','xCLaH','bstack:options','platformDetails','patch','function','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','hhdah','18xeyjIb','../v2/state/automationFrameworkState.js','222230fnMRVW','Error\x20parsing\x20WebSocket\x20endpoint:\x20','test','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','os_version','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','chrome','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','buiMt','Error\x20in\x20importing\x20crConnection','sessionId','_connection','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','HkwSN','platform','getTrackedInstance','apply','feipY','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','RBvOj','lFrCr','njJKA','Wgelj','defineProperty','kahDU','path','FkCVV','Device\x20Model\x20is\x20not\x20available','browser_version','AmsOe','uhIDR','Successfully\x20patched\x20Connection.dispatch','1433008PCddbV','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','HbKZI','cUsHg','reycI','pwLlb','POST','__platformCaps',',\x20os=','Found\x20Connection\x20class\x20at:\x20','_bstackCRPatched','bsSessionId','7rOIMAz','../../helpers/logger','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','browserVersion','CRConnection\x20already\x20patched','ymkmP','5580000qmDLLc','1862982RRLZmw','isRunning','browserName','Error\x20in\x20finding\x20platform\x20details\x20','jghUs','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','NxNKk','dispatch','util','JBtZy','desiredCapabilities','client','OsfeW','loKsW','iAJVj','gecko','setupBrowserDetails','version','Connection','exports','join','platform_version','model','../../helpers/test-observability/error-handler','platformName','debug','XZxcc','Error\x20in\x20importing\x20connection\x20','toLowerCase','KtPBA','KVMoa','../../helpers/test-observability/utils','5zvNXgJ','channel','exSke','playwright-','product','includes','EZKrO','safari','patchCRConnection','url','trackEvent','ZHryL','message','LxEJn','params','server','platformVersion','hheNM','93798ZjdvEH','string','Failed\x20to\x20import\x20connection\x20from\x20','_browserType','ozYYh','jYsoM','isRemote','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','qikEn','IqzRE','cloudProvider','_defaultConnectOptions','extractBrowserStackParams','assign','Error\x20extracting\x20BrowserStack\x20parameters:\x20','webkit','lhRHN','firefox','WIkLM','dhlhx','BSTACK_URL','vjqlP','instance','chromium','prototype','patchConnection','CRConnection','query','wdiLl','jCEoI','FAjpN','KRvFC','./constants','_bstackDispatchPatched','adgHU','fromEntries','use','WxnIj','aAHit','xhYVi','msedge','nKpwm','bStackParams','edge','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','ATS_WSS_URL_REGEX','capabilities','browserstack','osVersion','Not\x20able\x20to\x20import\x20crConnection','exryr','../../helpers/helper','../v2/framework/automationFramework','oHabS','CZhpQ','caps','lib','ccKCD','sessionError','parse','NlATG','deviceModel','Session\x20details\x20setup\x20complete:\x20','local_grid','getAutomationFramework','getInstance','bsParams','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','wekLA','format','1607778ytAupM','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20'];a60_0x1e89=function(){return _0x16f20b;};return a60_0x1e89();}module[a60_0x483929(0x1b3)]=SharedPlaywrightSessionDetails;