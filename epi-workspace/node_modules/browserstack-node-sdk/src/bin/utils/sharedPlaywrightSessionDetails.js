const a60_0x2342c9=a60_0x81d5;(function(_0x567db8,_0x4586b1){const _0x5735ea=a60_0x81d5,_0x39bd8f=_0x567db8();while(!![]){try{const _0x10f27a=-parseInt(_0x5735ea(0x1da))/0x1*(parseInt(_0x5735ea(0x1db))/0x2)+parseInt(_0x5735ea(0x18f))/0x3*(-parseInt(_0x5735ea(0x193))/0x4)+-parseInt(_0x5735ea(0x177))/0x5+-parseInt(_0x5735ea(0x1a6))/0x6*(parseInt(_0x5735ea(0x1cf))/0x7)+-parseInt(_0x5735ea(0x17a))/0x8*(-parseInt(_0x5735ea(0x215))/0x9)+-parseInt(_0x5735ea(0x175))/0xa*(-parseInt(_0x5735ea(0x18b))/0xb)+parseInt(_0x5735ea(0x20c))/0xc;if(_0x10f27a===_0x4586b1)break;else _0x39bd8f['push'](_0x39bd8f['shift']());}catch(_0x119c5c){_0x39bd8f['push'](_0x39bd8f['shift']());}}}(a60_0x2e31,0x80b4e));const path=require(a60_0x2342c9(0x1be)),url=require('url'),util=require(a60_0x2342c9(0x1e5)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x2342c9(0x19b)),{o11yErrorHandler}=require(a60_0x2342c9(0x21a)),{debug,getPlatformDetails}=require(a60_0x2342c9(0x202)),logger=require(a60_0x2342c9(0x1a2))[a60_0x2342c9(0x1f1)],constants=require('./constants'),AutomationFramework=require(a60_0x2342c9(0x218)),BrowserstackCLI=require(a60_0x2342c9(0x213)),AutomationFrameworkState=require(a60_0x2342c9(0x185)),HookState=require(a60_0x2342c9(0x18a)),{platform}=require('os'),getBrowserNameFromChannel=_0x5b67b8=>{const _0xddb6ca=a60_0x2342c9,_0x3630a1={};_0x3630a1[_0xddb6ca(0x20f)]=_0xddb6ca(0x1b2),_0x3630a1[_0xddb6ca(0x191)]=_0xddb6ca(0x1de),_0x3630a1[_0xddb6ca(0x224)]=_0xddb6ca(0x200),_0x3630a1[_0xddb6ca(0x21e)]=_0xddb6ca(0x1c5);const _0x5124c4=_0x3630a1;if(_0x5b67b8[_0xddb6ca(0x1e6)](_0x5124c4['QVWPR']))return _0x5124c4[_0xddb6ca(0x20f)];if(_0x5b67b8[_0xddb6ca(0x1e6)](_0x5124c4['mSGif']))return _0x5124c4[_0xddb6ca(0x191)];if(_0x5b67b8[_0xddb6ca(0x1e6)](_0x5124c4[_0xddb6ca(0x224)]))return _0x5124c4[_0xddb6ca(0x224)];if(_0x5b67b8[_0xddb6ca(0x1e6)](_0x5124c4[_0xddb6ca(0x21e)]))return _0x5124c4['DKNmT'];},getBrowserFromWSEndpoint=_0x39f81f=>{const _0x3531d8=a60_0x2342c9,_0x1758bf={'pkjNz':'bstack:options','LjOAV':function(_0x3b1f2c,_0x51a35e){return _0x3b1f2c(_0x51a35e);},'QUbpG':_0x3531d8(0x1de),'EJHud':_0x3531d8(0x1a5),'iCBxy':'firefox','vzhRe':'gecko','jMDBa':_0x3531d8(0x1c5),'waVTh':_0x3531d8(0x1ee),'SJAGZ':_0x3531d8(0x1b2)};try{const _0xfb3d8d=url[_0x3531d8(0x1fc)](_0x39f81f),_0x1f0cdb=new URLSearchParams(_0xfb3d8d[_0x3531d8(0x18e)]),_0x1aa815=Object[_0x3531d8(0x207)](_0x1f0cdb[_0x3531d8(0x220)]()),_0x37480d=[_0x1aa815['caps'],_0x1aa815['capabilities'],_0x1aa815[_0x3531d8(0x1eb)],_0x1aa815['browserstack_capabilities']];for(const _0x6fdd26 of _0x37480d){if(_0x6fdd26)try{const _0x27388f=JSON['parse'](_0x6fdd26),_0x56ec44=_0x27388f['browserName']||_0x27388f[_0x3531d8(0x1a8)]||_0x27388f[_0x1758bf[_0x3531d8(0x178)]]?.[_0x3531d8(0x199)];if(_0x56ec44)return _0x1758bf[_0x3531d8(0x1f8)](debug,_0x3531d8(0x209)+_0x56ec44),_0x56ec44[_0x3531d8(0x169)]();}catch(_0x3cd9cc){_0x1758bf[_0x3531d8(0x1f8)](debug,_0x3531d8(0x1fb)+_0x3cd9cc[_0x3531d8(0x1ca)]);}}if(_0x39f81f[_0x3531d8(0x1e6)](_0x1758bf[_0x3531d8(0x1d4)])||_0x39f81f[_0x3531d8(0x1e6)](_0x1758bf['EJHud']))return _0x1758bf[_0x3531d8(0x1d4)];if(_0x39f81f[_0x3531d8(0x1e6)](_0x1758bf[_0x3531d8(0x173)])||_0x39f81f[_0x3531d8(0x1e6)](_0x1758bf[_0x3531d8(0x201)]))return _0x1758bf[_0x3531d8(0x173)];if(_0x39f81f[_0x3531d8(0x1e6)](_0x1758bf[_0x3531d8(0x189)])||_0x39f81f['includes'](_0x1758bf[_0x3531d8(0x1e0)]))return _0x1758bf['jMDBa'];return _0x1758bf[_0x3531d8(0x1a1)];}catch(_0x1ca2f0){return _0x1758bf[_0x3531d8(0x1f8)](debug,_0x3531d8(0x206)+_0x1ca2f0[_0x3531d8(0x186)]()),_0x1758bf[_0x3531d8(0x1a1)];}},getCloudProviderFromWsEndpoint=_0x92c1ae=>{const _0x5c6c82=a60_0x2342c9,_0x36c20b={};_0x36c20b[_0x5c6c82(0x194)]=_0x5c6c82(0x1a0),_0x36c20b[_0x5c6c82(0x1f0)]=_0x5c6c82(0x22c);const _0x1f269f=_0x36c20b;if(_0x92c1ae[_0x5c6c82(0x1e6)](constants[_0x5c6c82(0x17f)])||_0x92c1ae['includes'](constants[_0x5c6c82(0x1a9)]))return _0x1f269f[_0x5c6c82(0x194)];return _0x1f269f[_0x5c6c82(0x1f0)];},a60_0x3a34fb={};a60_0x3a34fb[a60_0x2342c9(0x1e2)]=undefined,a60_0x3a34fb[a60_0x2342c9(0x1c8)]=undefined,a60_0x3a34fb[a60_0x2342c9(0x1a8)]=undefined,a60_0x3a34fb[a60_0x2342c9(0x170)]=undefined,a60_0x3a34fb[a60_0x2342c9(0x176)]=undefined,a60_0x3a34fb['platform_version']=undefined,a60_0x3a34fb[a60_0x2342c9(0x1dc)]=undefined,a60_0x3a34fb[a60_0x2342c9(0x17c)]={};function a60_0x81d5(_0x29b0fe,_0x3f58d8){const _0x2e3117=a60_0x2e31();return a60_0x81d5=function(_0x81d5bb,_0x36661b){_0x81d5bb=_0x81d5bb-0x168;let _0x5a60e0=_0x2e3117[_0x81d5bb];return _0x5a60e0;},a60_0x81d5(_0x29b0fe,_0x3f58d8);}class SharedPlaywrightSessionDetails{static [a60_0x2342c9(0x1b9)]=a60_0x3a34fb;constructor(){const _0x7e7a68=a60_0x2342c9,_0x107404={};_0x107404[_0x7e7a68(0x223)]='Invalid\x20constructor,\x20please\x20use\x20static\x20methods';const _0x4ff97b=_0x107404;throw new Error(_0x4ff97b[_0x7e7a68(0x223)]);}static [a60_0x2342c9(0x190)]=null;static[a60_0x2342c9(0x1d3)](_0x52d10f,_0x3fdac2,_0x57189f=null){const _0x31c93c=a60_0x2342c9,_0x47f304={'XqcKN':function(_0x3247e7,_0x284825){return _0x3247e7===_0x284825;},'rVpiF':_0x31c93c(0x195),'mYgmi':'Browser\x20is\x20not\x20defined\x20or\x20not\x20available','eqnBF':function(_0x21daf7,_0x3ce835){return _0x21daf7===_0x3ce835;},'jaeEs':_0x31c93c(0x172),'sSpxA':'local_grid','rDGSN':function(_0xcd05d0,_0x2978e5,_0x527645){return _0xcd05d0(_0x2978e5,_0x527645);},'wOADZ':_0x31c93c(0x20b),'zqaPO':_0x31c93c(0x1ce),'eDClo':function(_0xb9f8d3,_0x1ecd83,_0x43b409){return _0xb9f8d3(_0x1ecd83,_0x43b409);},'JrxsH':_0x31c93c(0x198),'KASlv':_0x31c93c(0x1e1),'eTQhu':_0x31c93c(0x19a),'QWjqd':function(_0x1bec03,_0x5c41af){return _0x1bec03(_0x5c41af);},'iCaqi':_0x31c93c(0x1a0),'kfCEm':'turboscale','NyRsF':'automate','aOXxN':_0x31c93c(0x17e),'BfLkk':function(_0x396be9,_0xa2714e){return _0x396be9+_0xa2714e;},'jMgWK':'playwright-','RtAoV':function(_0x16a70d){return _0x16a70d();},'LafUg':function(_0x5581c4,_0x30ec31,_0xd2dc77){return _0x5581c4(_0x30ec31,_0xd2dc77);},'jmcgB':'setupBrowserDetails'},_0x55d7d7=this;return _0x47f304[_0x31c93c(0x1c0)](o11yErrorHandler,async function _0x35b123(_0xf82e01,_0x5b50b2,_0x49b880=null){const _0x487e36=_0x31c93c;let _0x14d919=_0xf82e01[_0x487e36(0x229)],_0x2bb949=null;_0xf82e01&&_0x47f304[_0x487e36(0x1d6)](typeof _0xf82e01[_0x487e36(0x1b3)],_0x47f304['rVpiF'])?_0x2bb949=_0xf82e01[_0x487e36(0x1b3)]():logger[_0x487e36(0x19e)](_0x47f304[_0x487e36(0x1ba)]);let _0x1c0843=null;_0xf82e01&&_0x47f304['eqnBF'](typeof _0xf82e01[_0x487e36(0x1b1)],_0x47f304['rVpiF'])?_0x1c0843=_0xf82e01[_0x487e36(0x1b1)]():logger[_0x487e36(0x19e)](_0x47f304[_0x487e36(0x1cc)]);let _0x4151f0=null,_0x20aa65=null,_0x4d190c=null,_0x4d7c7a=_0x47f304[_0x487e36(0x227)];if(_0xf82e01[_0x487e36(0x1bd)][_0x487e36(0x226)]()||global['accessibilityPlatform']){let _0x200bd8=null;_0x47f304['rDGSN'](nestedKeyValue,_0xf82e01,[_0x47f304[_0x487e36(0x1a7)],_0x47f304[_0x487e36(0x181)]])?_0x200bd8=_0xf82e01[_0x487e36(0x20b)][_0x487e36(0x1ce)]:_0x200bd8=_0x47f304[_0x487e36(0x197)](nestedKeyValue,_0x5b50b2,[_0x47f304['JrxsH'],_0x47f304[_0x487e36(0x17d)],_0x47f304[_0x487e36(0x180)]]);const _0xa0b16c=_0x49b880||_0x200bd8&&_0x200bd8[_0x487e36(0x16f)];if(_0xa0b16c){_0x4d7c7a=_0x47f304['QWjqd'](getCloudProviderFromWsEndpoint,_0xa0b16c);if(_0x47f304['eqnBF'](_0x4d7c7a,_0x47f304[_0x487e36(0x1ed)])){_0x4d190c=constants[_0x487e36(0x182)][_0x487e36(0x203)](_0xa0b16c)?_0x47f304['kfCEm']:_0x47f304['NyRsF'];const _0x1de52a=_0x47f304[_0x487e36(0x1b7)](getBrowserFromWSEndpoint,_0xa0b16c);if(_0x1de52a&&(!_0x14d919||_0x47f304['eqnBF'](_0x14d919,_0x47f304[_0x487e36(0x192)])))_0x14d919=_0x1de52a,logger['debug']('Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20'+_0x14d919);else _0x14d919&&logger[_0x487e36(0x19e)](_0x487e36(0x1e3)+_0x14d919);_0x4151f0=_0x55d7d7[_0x487e36(0x1b9)][_0x487e36(0x176)],_0x20aa65=_0x55d7d7['currentSessionDetails'][_0x487e36(0x21c)];}}}else{_0x5b50b2&&_0x5b50b2['project']&&_0x5b50b2[_0x487e36(0x198)][_0x487e36(0x1e1)]&&_0x5b50b2[_0x487e36(0x198)][_0x487e36(0x1e1)][_0x487e36(0x216)]?_0x14d919=_0x47f304[_0x487e36(0x1b7)](getBrowserNameFromChannel,_0x5b50b2[_0x487e36(0x198)][_0x487e36(0x1e1)]['channel']):_0x14d919=_0x47f304[_0x487e36(0x204)](_0x47f304[_0x487e36(0x211)],_0x14d919[_0x487e36(0x169)]());const _0x415789=await _0x47f304['RtAoV'](getPlatformDetails);_0x4151f0=_0x415789['platformName'],_0x20aa65=_0x415789['platformVersion'];}const _0x53fc36={};_0x53fc36[_0x487e36(0x1a8)]=_0x14d919,_0x53fc36['browser_version']=_0x2bb949,_0x53fc36['capabilities']={},_0x53fc36[_0x487e36(0x176)]=_0x4151f0,_0x53fc36['platform_version']=_0x20aa65,_0x53fc36[_0x487e36(0x1dc)]=_0x4d190c;const _0x3932d4=_0x53fc36;_0x1c0843&&(_0x3932d4[_0x487e36(0x17c)][_0x487e36(0x16a)]=_0x1c0843);const _0x2bc055={};_0x2bc055[_0x487e36(0x1e2)]=_0x4d7c7a,_0x55d7d7[_0x487e36(0x1b9)]=Object['assign']({},_0x55d7d7['currentSessionDetails'],_0x2bc055,_0x3932d4);const _0x593fe2={};_0x593fe2[_0x487e36(0x1a8)]=_0x55d7d7[_0x487e36(0x1b9)][_0x487e36(0x1a8)],_0x593fe2[_0x487e36(0x1ea)]=_0x55d7d7['currentSessionDetails'][_0x487e36(0x170)],_0x593fe2[_0x487e36(0x176)]=_0x55d7d7['currentSessionDetails'][_0x487e36(0x176)],_0x593fe2[_0x487e36(0x228)]=_0x55d7d7[_0x487e36(0x1b9)][_0x487e36(0x21c)],_0x593fe2[_0x487e36(0x1e2)]=_0x55d7d7['currentSessionDetails'][_0x487e36(0x1e2)],_0x593fe2[_0x487e36(0x1dc)]=_0x55d7d7[_0x487e36(0x1b9)]['product'],logger['debug']('Session\x20details\x20setup\x20complete:\x20'+JSON[_0x487e36(0x21b)](_0x593fe2));},_0x47f304[_0x31c93c(0x1f4)])(_0x52d10f,_0x3fdac2,_0x57189f);}static['patch'](){const _0x412071=a60_0x2342c9;this[_0x412071(0x19c)](),this['patchCRConnection']();}static[a60_0x2342c9(0x19c)](){const _0x447375=a60_0x2342c9,_0x2a5e87={'Ouink':function(_0x500ec1,_0x5bb9d5){return _0x500ec1(_0x5bb9d5);},'VgTxn':function(_0x4070e1,_0x5ee5d1){return _0x4070e1(_0x5ee5d1);},'nTwKn':_0x447375(0x1f9),'Tllbt':_0x447375(0x1ff),'iNrPN':_0x447375(0x1cb),'KFnfZ':function(_0x522cea,_0x2c8971){return _0x522cea(_0x2c8971);},'lOFsi':function(_0x31b3b5,_0x9cadb3){return _0x31b3b5(_0x9cadb3);},'cphMX':_0x447375(0x18c),'SAaqo':function(_0xeb5460,_0x887cae){return _0xeb5460!=_0x887cae;},'QuwAE':_0x447375(0x179),'dSTOe':_0x447375(0x1d5),'RJaFE':'Successfully\x20patched\x20Connection.dispatch'},_0x4249e3=this;if(!this['Connection'])try{const _0x35e1a1=[path[_0x447375(0x1ab)](_0x2a5e87[_0x447375(0x208)],_0x2a5e87['Tllbt'],_0x2a5e87['iNrPN']),path[_0x447375(0x1ab)](_0x2a5e87[_0x447375(0x208)],_0x2a5e87[_0x447375(0x22b)]),path[_0x447375(0x1ab)](_0x2a5e87['Tllbt'],_0x2a5e87[_0x447375(0x22b)])];for(const _0x2ca538 of _0x35e1a1){try{const _0x130c7f=_0x2a5e87[_0x447375(0x1c2)](importFileFromPWCore,_0x2ca538);if(_0x130c7f&&_0x130c7f[_0x447375(0x214)]){this[_0x447375(0x214)]=_0x130c7f[_0x447375(0x214)],logger[_0x447375(0x19e)](_0x447375(0x20a)+_0x2ca538);break;}}catch(_0x445db3){_0x2a5e87[_0x447375(0x1c2)](debug,_0x447375(0x1e4)+_0x2ca538+':\x20'+_0x445db3['toString']());}}if(!this[_0x447375(0x214)]){_0x2a5e87[_0x447375(0x1c9)](debug,_0x2a5e87[_0x447375(0x217)]);return;}}catch(_0x497ba2){_0x2a5e87[_0x447375(0x1c2)](debug,_0x447375(0x171)+_0x497ba2['toString']());return;}const _0x5885a5=this[_0x447375(0x214)];try{if(_0x2a5e87[_0x447375(0x1af)](_0x5885a5,null)){const _0x3aa3b8=_0x5885a5['prototype'][_0x447375(0x1d5)];if(!_0x2a5e87['lOFsi'](isFalse,process['env'][_0x447375(0x19f)])){if(_0x5885a5['prototype'][_0x447375(0x1d0)]){logger[_0x447375(0x19e)](_0x2a5e87[_0x447375(0x1b4)]);return;}Object['defineProperty'](_0x5885a5[_0x447375(0x1e8)],_0x2a5e87['dSTOe'],{'get':function(){return async function _0x13d135(_0x487619){const _0x1f3051=a60_0x81d5;if(BrowserstackCLI[_0x1f3051(0x196)]()[_0x1f3051(0x1df)]()){const _0x24c44b={};_0x24c44b['message']=_0x487619,await BrowserstackCLI[_0x1f3051(0x196)]()[_0x1f3051(0x20d)]()[_0x1f3051(0x1b0)](AutomationFrameworkState[_0x1f3051(0x184)],HookState['POST'],_0x24c44b);}else{const _0x453c54=_0x487619&&_0x487619[_0x1f3051(0x22e)]&&_0x487619[_0x1f3051(0x22e)][_0x1f3051(0x1bc)];if(_0x453c54){const _0x4e4129=_0x453c54[_0x1f3051(0x205)],_0x381e9f=_0x453c54[_0x1f3051(0x1b8)];_0x381e9f&&(_0x2a5e87['Ouink'](debug,'Setting\x20platform\x20details\x20received\x20from\x20BS:\x20'+_0x381e9f['toString']()),_0x4249e3[_0x1f3051(0x1b9)][_0x1f3051(0x176)]=_0x381e9f[_0x1f3051(0x1f7)],_0x4249e3[_0x1f3051(0x1b9)][_0x1f3051(0x21c)]=_0x381e9f[_0x1f3051(0x228)]),_0x4e4129&&(_0x2a5e87[_0x1f3051(0x1d8)](debug,_0x1f3051(0x168)+_0x4e4129),_0x4249e3[_0x1f3051(0x1b9)][_0x1f3051(0x1c8)]=_0x4e4129);}}return _0x3aa3b8[_0x1f3051(0x1c7)](this,arguments);};}}),_0x5885a5[_0x447375(0x1e8)]['_bstackDispatchPatched']=!![],logger['debug'](_0x2a5e87[_0x447375(0x1cd)]);}}}catch(_0x17d489){_0x2a5e87[_0x447375(0x188)](debug,_0x447375(0x1ec)+_0x17d489),_0x4249e3[_0x447375(0x190)]=_0x17d489[_0x447375(0x186)]();}}static[a60_0x2342c9(0x1d9)](){const _0x223b8a=a60_0x2342c9,_0x58a2dc={'YgaRO':function(_0x32b247,_0x308532){return _0x32b247(_0x308532);},'MTQGi':function(_0xc91b30,_0x28e72f){return _0xc91b30(_0x28e72f);},'FgPvx':_0x223b8a(0x1f9),'cWicW':'server','KNqsa':'chromium','lVmLc':_0x223b8a(0x22f),'wRxQl':_0x223b8a(0x16e),'DZhsI':_0x223b8a(0x1c4),'xiuaZ':function(_0x4309fd,_0x7ebe14){return _0x4309fd!=_0x7ebe14;},'fxlIw':_0x223b8a(0x174),'KhAmn':_0x223b8a(0x1aa),'nOANg':_0x223b8a(0x1d7)},_0x2cf65b=this;let _0xf0287b=null;try{const _0x22a712=path[_0x223b8a(0x1ab)](_0x58a2dc[_0x223b8a(0x21d)],_0x58a2dc[_0x223b8a(0x18d)],_0x58a2dc[_0x223b8a(0x221)],_0x58a2dc[_0x223b8a(0x183)]),_0x918e2e=_0x58a2dc[_0x223b8a(0x1a3)](importFileFromPWCore,_0x22a712);!_0x918e2e?_0x58a2dc[_0x223b8a(0x1ac)](debug,_0x58a2dc[_0x223b8a(0x19d)]):_0xf0287b=_0x918e2e[_0x223b8a(0x1bf)];}catch(_0x142507){_0x58a2dc[_0x223b8a(0x1a3)](debug,_0x58a2dc['DZhsI']);}try{if(_0x58a2dc['xiuaZ'](_0xf0287b,null)){const _0x1d6598=_0xf0287b['prototype'][_0x223b8a(0x1aa)];if(_0xf0287b['prototype'][_0x223b8a(0x1ae)]){logger[_0x223b8a(0x19e)](_0x58a2dc[_0x223b8a(0x1fd)]);return;}Object[_0x223b8a(0x222)](_0xf0287b[_0x223b8a(0x1e8)],_0x58a2dc['KhAmn'],{'get':function(){const _0x2b43b0={'HXbeh':function(_0x32ee9b,_0x381a14){const _0x1ea8a9=a60_0x81d5;return _0x58a2dc[_0x1ea8a9(0x1ac)](_0x32ee9b,_0x381a14);},'qaPqa':function(_0x41631c,_0x2ffa7e){const _0xadbe07=a60_0x81d5;return _0x58a2dc[_0xadbe07(0x1a3)](_0x41631c,_0x2ffa7e);}};return async function _0x26228f(_0x17c24e){const _0x406df0=a60_0x81d5;try{if(BrowserstackCLI['getInstance']()[_0x406df0(0x1df)]()){const _0x1b11ce={};_0x1b11ce['message']=_0x17c24e,await BrowserstackCLI[_0x406df0(0x196)]()[_0x406df0(0x20d)]()[_0x406df0(0x1b0)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState[_0x406df0(0x1e7)],_0x1b11ce),delete _0x17c24e[_0x406df0(0x1a4)];}else{const _0x26483b=_0x17c24e[_0x406df0(0x1a4)];if(_0x26483b){delete _0x17c24e[_0x406df0(0x1a4)];const _0xd9a27c=_0x26483b[_0x406df0(0x205)],_0x486f57=_0x26483b[_0x406df0(0x1b8)];_0x486f57&&(_0x2b43b0[_0x406df0(0x1f3)](debug,_0x406df0(0x21f)+_0x486f57[_0x406df0(0x186)]()),_0x2cf65b[_0x406df0(0x1b9)][_0x406df0(0x176)]=_0x486f57[_0x406df0(0x1f7)],_0x2cf65b[_0x406df0(0x1b9)][_0x406df0(0x21c)]=_0x486f57['platformVersion']),_0xd9a27c&&(_0x2b43b0[_0x406df0(0x1f5)](debug,'Setting\x20session\x20id\x20received\x20from\x20browserstack\x20'+_0xd9a27c),_0x2cf65b[_0x406df0(0x1b9)][_0x406df0(0x1c8)]=_0xd9a27c);}}}catch(_0x33b52f){_0x2b43b0[_0x406df0(0x1f5)](debug,_0x406df0(0x16b)+_0x33b52f['toString']());}return _0x1d6598[_0x406df0(0x1c7)](this,arguments);};}}),_0xf0287b[_0x223b8a(0x1e8)][_0x223b8a(0x1ae)]=!![],logger['debug'](_0x58a2dc['nOANg']);}}catch(_0x565579){_0x58a2dc['MTQGi'](debug,_0x223b8a(0x1f6)+_0x565579),_0x2cf65b[_0x223b8a(0x190)]=_0x565579[_0x223b8a(0x186)]();}}static[a60_0x2342c9(0x17b)](_0x4dd091,_0x5db5c6){const _0x4a3cdb=a60_0x2342c9,_0x3a2cc8={'BaTIB':'bstack:options','DAiMz':function(_0xa8268,_0x2cb846){return _0xa8268||_0x2cb846;},'KFLlD':function(_0x579ac7,_0x48781f){return _0x579ac7||_0x48781f;},'LWMdH':function(_0x245459,_0x10839d){return _0x245459===_0x10839d;},'pqTvn':_0x4a3cdb(0x1e9),'wknzv':'BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','BwBbX':function(_0x2ff7d5,_0x1dde95){return _0x2ff7d5(_0x1dde95);},'KUuAX':function(_0x210b5d,_0x5b6169){return _0x210b5d(_0x5b6169);}};let _0x35da9b=null,_0x1128d2=null;try{const _0x117f6f=[_0x5db5c6,global[_0x4a3cdb(0x1ef)],global['capabilties']];for(const _0x40b049 of _0x117f6f){if(_0x40b049&&(!_0x1128d2||!_0x1128d2[_0x4a3cdb(0x205)])){const _0xcf150d=_0x40b049[_0x4a3cdb(0x205)]||_0x40b049[_0x3a2cc8['BaTIB']]?.['sessionId'],_0x48b8f5=_0x40b049[_0x4a3cdb(0x199)]||_0x40b049[_0x4a3cdb(0x1a8)]||_0x40b049[_0x3a2cc8['BaTIB']]?.[_0x4a3cdb(0x199)],_0x48c644=_0x40b049[_0x4a3cdb(0x1ea)]||_0x40b049[_0x4a3cdb(0x170)]||_0x40b049[_0x3a2cc8[_0x4a3cdb(0x212)]]?.[_0x4a3cdb(0x1ea)],_0x87d38a=_0x40b049['os']||_0x40b049[_0x4a3cdb(0x176)]||_0x40b049[_0x3a2cc8[_0x4a3cdb(0x212)]]?.['os'],_0xe43011=_0x40b049[_0x4a3cdb(0x1fa)]||_0x40b049[_0x4a3cdb(0x1fe)]||_0x40b049[_0x3a2cc8[_0x4a3cdb(0x212)]]?.['osVersion'];if(_0x3a2cc8[_0x4a3cdb(0x1b5)](_0xcf150d,_0x48b8f5)||_0x87d38a){const _0x1c5718={};_0x1c5718[_0x4a3cdb(0x199)]=_0x48b8f5,_0x1c5718['browserVersion']=_0x48c644,_0x1c5718['os']=_0x87d38a,_0x1c5718[_0x4a3cdb(0x1fa)]=_0xe43011,_0x1c5718[_0x4a3cdb(0x1f7)]=_0x40b049['platformName']||_0x87d38a,_0x1c5718[_0x4a3cdb(0x228)]=_0x40b049[_0x4a3cdb(0x228)]||_0xe43011;const _0xf9ecd={};_0xf9ecd[_0x4a3cdb(0x205)]=_0xcf150d,_0xf9ecd['platformDetails']=_0x1c5718,_0x1128d2=_0xf9ecd;if(_0x3a2cc8['KFLlD'](_0xcf150d,_0x48b8f5)){logger['debug'](_0x4a3cdb(0x20e)+_0x48b8f5+',\x20os='+_0x87d38a);break;}}}}if(_0x4dd091&&_0x3a2cc8[_0x4a3cdb(0x1c6)](typeof _0x4dd091,_0x3a2cc8[_0x4a3cdb(0x210)]))try{const _0x446f51=url[_0x4a3cdb(0x1fc)](_0x4dd091),_0x41c688=new URLSearchParams(_0x446f51[_0x4a3cdb(0x18e)]),_0x15510b=Object[_0x4a3cdb(0x207)](_0x41c688[_0x4a3cdb(0x220)]()),_0x52bb35=[_0x15510b[_0x4a3cdb(0x1c1)],_0x15510b[_0x4a3cdb(0x17c)],_0x15510b[_0x4a3cdb(0x1eb)]];for(const _0x1df005 of _0x52bb35){if(_0x1df005&&(!_0x35da9b||!_0x35da9b[_0x4a3cdb(0x205)]))try{const _0x23a74c=JSON[_0x4a3cdb(0x1fc)](_0x1df005),_0x3a8de1={};_0x3a8de1[_0x4a3cdb(0x205)]=_0x23a74c[_0x4a3cdb(0x205)]||_0x23a74c[_0x3a2cc8[_0x4a3cdb(0x212)]]?.['sessionId'],_0x3a8de1[_0x4a3cdb(0x1b8)]={},_0x3a8de1[_0x4a3cdb(0x1b8)][_0x4a3cdb(0x199)]=_0x23a74c['browserName']||_0x23a74c['browser'],_0x3a8de1[_0x4a3cdb(0x1b8)][_0x4a3cdb(0x1ea)]=_0x23a74c['browserVersion']||_0x23a74c[_0x4a3cdb(0x170)],_0x3a8de1[_0x4a3cdb(0x1b8)]['os']=_0x23a74c['os']||_0x23a74c['platform'],_0x3a8de1[_0x4a3cdb(0x1b8)][_0x4a3cdb(0x1fa)]=_0x23a74c[_0x4a3cdb(0x1fa)]||_0x23a74c[_0x4a3cdb(0x1fe)],_0x3a8de1[_0x4a3cdb(0x1b8)]['platformName']=_0x23a74c[_0x4a3cdb(0x1f7)]||_0x23a74c['os']||_0x23a74c['platform'],_0x3a8de1[_0x4a3cdb(0x1b8)]['platformVersion']=_0x23a74c['platformVersion']||_0x23a74c[_0x4a3cdb(0x1fa)]||_0x23a74c['os_version'],_0x35da9b=_0x3a8de1;if(_0x35da9b[_0x4a3cdb(0x205)]||_0x35da9b[_0x4a3cdb(0x1b8)][_0x4a3cdb(0x199)]){logger['debug'](_0x3a2cc8[_0x4a3cdb(0x1dd)]);break;}}catch(_0x18b845){_0x3a2cc8[_0x4a3cdb(0x16c)](debug,_0x4a3cdb(0x1bb)+_0x18b845[_0x4a3cdb(0x186)]());}}}catch(_0x5cd812){_0x3a2cc8[_0x4a3cdb(0x1f2)](debug,_0x4a3cdb(0x219)+_0x5cd812['toString']());}}catch(_0x293946){_0x3a2cc8[_0x4a3cdb(0x1f2)](debug,_0x4a3cdb(0x22d)+util[_0x4a3cdb(0x187)](_0x293946));}const _0x4d6b5e={};return _0x4d6b5e[_0x4a3cdb(0x1bc)]=_0x35da9b,_0x4d6b5e[_0x4a3cdb(0x1a4)]=_0x1128d2,_0x4d6b5e;}static async['triggerPlaywrightDispatchEvent'](_0x1c1e55,_0x20274e){const _0x493f22=a60_0x2342c9,_0x3112d3={'QtCFT':function(_0x328b2d,_0x1db6bb){return _0x328b2d||_0x1db6bb;},'zrUtd':_0x493f22(0x1c3),'UgKpQ':function(_0x56d696,_0x3eaee8){return _0x56d696||_0x3eaee8;},'czQvx':function(_0x2636e3,_0x25abff){return _0x2636e3(_0x25abff);}};try{if(!BrowserstackCLI[_0x493f22(0x196)]()[_0x493f22(0x1df)]())return;if(_0x3112d3[_0x493f22(0x16d)](_0x1c1e55,_0x20274e)){logger['debug'](_0x3112d3['zrUtd']);const _0x435996={'params':_0x1c1e55?{'bsParams':_0x1c1e55}:null,'bStackParams':_0x3112d3[_0x493f22(0x225)](_0x20274e,null)},_0x2d2a96=AutomationFramework[_0x493f22(0x1d2)](),_0x115b68={};_0x115b68[_0x493f22(0x1ca)]=_0x435996,_0x115b68[_0x493f22(0x1b6)]=_0x2d2a96,await BrowserstackCLI[_0x493f22(0x196)]()[_0x493f22(0x20d)]()[_0x493f22(0x1b0)](AutomationFrameworkState[_0x493f22(0x184)],HookState[_0x493f22(0x1e7)],_0x115b68);}}catch(_0x3a35a2){_0x3112d3[_0x493f22(0x1ad)](debug,_0x493f22(0x1d1)+util[_0x493f22(0x187)](_0x3a35a2));}}static[a60_0x2342c9(0x22a)](){const _0x59753f=a60_0x2342c9;return this[_0x59753f(0x1b9)];}}function a60_0x2e31(){const _0x57c83d=['waVTh','use','cloudProvider','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','Failed\x20to\x20import\x20connection\x20from\x20','util','includes','POST','prototype','string','browserVersion','desiredCapabilities','Error\x20in\x20applying\x20Connection\x20patch\x20','iCaqi','webkit','__platformCaps','uqkZW','winstonLogger','KUuAX','HXbeh','jmcgB','qaPqa','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','platformName','LjOAV','lib','osVersion','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','parse','fxlIw','os_version','client','firefox','vzhRe','../../helpers/test-observability/utils','test','BfLkk','sessionId','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','fromEntries','nTwKn','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','Found\x20Connection\x20class\x20at:\x20','_browserType','12401052dcdlBt','getAutomationFramework','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','QVWPR','pqTvn','jMgWK','BaTIB','../v2/browserstackCLI','Connection','8968923qrddZH','channel','cphMX','../v2/framework/automationFramework','Error\x20parsing\x20WebSocket\x20endpoint:\x20','../../helpers/test-observability/error-handler','stringify','platform_version','FgPvx','DKNmT','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','entries','KNqsa','defineProperty','atHLz','JxVsf','UgKpQ','isRemote','sSpxA','platformVersion','_name','getDetails','iNrPN','unknown_grid','Error\x20extracting\x20BrowserStack\x20parameters:\x20','params','crConnection.js','Setting\x20session\x20id\x20received\x20from\x20BS\x20','toLowerCase','deviceModel','Error\x20in\x20finding\x20platform\x20details\x20','BwBbX','QtCFT','Not\x20able\x20to\x20import\x20crConnection','wsEndpoint','browser_version','Error\x20in\x20importing\x20connection\x20','Device\x20Model\x20is\x20not\x20available','iCBxy','CRConnection\x20already\x20patched','2418230WDgmzw','platform','4287835uvwLrO','pkjNz','Connection\x20dispatch\x20already\x20patched','8dioeLl','extractBrowserStackParams','capabilities','KASlv','chromium','BSTACK_URL','eTQhu','zqaPO','ATS_WSS_URL_REGEX','lVmLc','PLAYWRIGHT_DISPATCH','../v2/state/automationFrameworkState.js','toString','format','Ouink','jMDBa','../v2/state/hookState.js','44wYQgEH','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','cWicW','query','6tDOkwZ','sessionError','mSGif','aOXxN','688208rRLHyQ','LxmKP','function','getInstance','eDClo','project','browserName','connectOptions','../../helpers/helper','patchConnection','wRxQl','debug','BROWSERSTACK_TEST_OBSERVABILITY','browserstack','SJAGZ','../../helpers/logger','MTQGi','bStackParams','msedge','292962oZqWIA','wOADZ','browser','BSTACK_ATS_URL','_onMessage','join','YgaRO','czQvx','_bstackCRPatched','SAaqo','trackEvent','model','chrome','version','QuwAE','DAiMz','instance','QWjqd','platformDetails','currentSessionDetails','mYgmi','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','bsParams','_connection','path','CRConnection','LafUg','caps','KFnfZ','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','Error\x20in\x20importing\x20crConnection','safari','LWMdH','apply','bsSessionId','lOFsi','message','connection.js','jaeEs','RJaFE','_defaultConnectOptions','49gtjYXJ','_bstackDispatchPatched','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','getTrackedInstance','setupBrowserDetails','QUbpG','dispatch','XqcKN','Successfully\x20patched\x20CRConnection._onMessage','VgTxn','patchCRConnection','121yTmtqz','15316jkmXoZ','product','wknzv','edge','isRunning'];a60_0x2e31=function(){return _0x57c83d;};return a60_0x2e31();}module['exports']=SharedPlaywrightSessionDetails;