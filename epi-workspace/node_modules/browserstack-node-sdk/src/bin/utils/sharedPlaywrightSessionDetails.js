const a60_0x4f73ae=a60_0x1cef;(function(_0x29aad0,_0x427e4f){const _0x1845a9=a60_0x1cef,_0x24ac2c=_0x29aad0();while(!![]){try{const _0x2be5b3=parseInt(_0x1845a9(0x211))/0x1*(-parseInt(_0x1845a9(0x249))/0x2)+-parseInt(_0x1845a9(0x229))/0x3*(parseInt(_0x1845a9(0x240))/0x4)+parseInt(_0x1845a9(0x22e))/0x5*(-parseInt(_0x1845a9(0x202))/0x6)+parseInt(_0x1845a9(0x261))/0x7+-parseInt(_0x1845a9(0x245))/0x8*(parseInt(_0x1845a9(0x27c))/0x9)+-parseInt(_0x1845a9(0x28a))/0xa+parseInt(_0x1845a9(0x213))/0xb*(parseInt(_0x1845a9(0x224))/0xc);if(_0x2be5b3===_0x427e4f)break;else _0x24ac2c['push'](_0x24ac2c['shift']());}catch(_0x443ac7){_0x24ac2c['push'](_0x24ac2c['shift']());}}}(a60_0x1381,0xbdcce));const path=require(a60_0x4f73ae(0x268)),url=require(a60_0x4f73ae(0x24e)),util=require('util'),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x4f73ae(0x1e8)),{o11yErrorHandler}=require(a60_0x4f73ae(0x204)),{debug,getPlatformDetails}=require(a60_0x4f73ae(0x217)),logger=require('../../helpers/logger')['winstonLogger'],constants=require(a60_0x4f73ae(0x238)),AutomationFramework=require(a60_0x4f73ae(0x24f)),BrowserstackCLI=require(a60_0x4f73ae(0x23c)),AutomationFrameworkState=require(a60_0x4f73ae(0x21a)),HookState=require(a60_0x4f73ae(0x1f8)),{platform}=require('os'),getBrowserNameFromChannel=_0x38d90f=>{const _0x414a2d=a60_0x4f73ae,_0x2a45dd={};_0x2a45dd[_0x414a2d(0x1f7)]='chrome',_0x2a45dd['jgrKT']=_0x414a2d(0x221),_0x2a45dd[_0x414a2d(0x1ee)]=_0x414a2d(0x24b),_0x2a45dd[_0x414a2d(0x284)]='safari';const _0x161219=_0x2a45dd;if(_0x38d90f[_0x414a2d(0x27d)](_0x161219[_0x414a2d(0x1f7)]))return _0x161219['YlICj'];if(_0x38d90f[_0x414a2d(0x27d)](_0x161219[_0x414a2d(0x20c)]))return _0x161219[_0x414a2d(0x20c)];if(_0x38d90f[_0x414a2d(0x27d)](_0x161219[_0x414a2d(0x1ee)]))return _0x161219[_0x414a2d(0x1ee)];if(_0x38d90f['includes'](_0x161219[_0x414a2d(0x284)]))return _0x161219['IzGqC'];},getBrowserFromWSEndpoint=_0x408b35=>{const _0x250284=a60_0x4f73ae,_0x4e0ad0={'RsvYq':_0x250284(0x1e5),'ViYdY':function(_0xee9f09,_0x299338){return _0xee9f09(_0x299338);},'Jvcze':_0x250284(0x221),'ggvmw':_0x250284(0x298),'VxErk':'firefox','XQanm':'gecko','Cgtsv':_0x250284(0x21f),'NJjgz':'webkit','HxDbP':'chrome','rXCwW':function(_0x2959e0,_0x4867f3){return _0x2959e0(_0x4867f3);}};try{const _0x33108b=url[_0x250284(0x22c)](_0x408b35),_0x183089=new URLSearchParams(_0x33108b[_0x250284(0x20a)]),_0x45ce1e=Object[_0x250284(0x1f3)](_0x183089[_0x250284(0x296)]()),_0x34557e=[_0x45ce1e[_0x250284(0x203)],_0x45ce1e['capabilities'],_0x45ce1e[_0x250284(0x243)],_0x45ce1e[_0x250284(0x255)]];for(const _0x2f482e of _0x34557e){if(_0x2f482e)try{const _0x586354=JSON[_0x250284(0x22c)](_0x2f482e),_0x5399a1=_0x586354[_0x250284(0x25e)]||_0x586354[_0x250284(0x27a)]||_0x586354[_0x4e0ad0[_0x250284(0x1fb)]]?.[_0x250284(0x25e)];if(_0x5399a1)return _0x4e0ad0[_0x250284(0x205)](debug,'Browser\x20found\x20in\x20WebSocket\x20caps:\x20'+_0x5399a1),_0x5399a1[_0x250284(0x259)]();}catch(_0x260d60){_0x4e0ad0['ViYdY'](debug,'Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20'+_0x260d60[_0x250284(0x273)]);}}if(_0x408b35[_0x250284(0x27d)](_0x4e0ad0[_0x250284(0x28f)])||_0x408b35['includes'](_0x4e0ad0[_0x250284(0x26c)]))return _0x4e0ad0['Jvcze'];if(_0x408b35[_0x250284(0x27d)](_0x4e0ad0[_0x250284(0x201)])||_0x408b35['includes'](_0x4e0ad0[_0x250284(0x1f1)]))return _0x4e0ad0['VxErk'];if(_0x408b35[_0x250284(0x27d)](_0x4e0ad0[_0x250284(0x287)])||_0x408b35['includes'](_0x4e0ad0['NJjgz']))return _0x4e0ad0[_0x250284(0x287)];return _0x4e0ad0[_0x250284(0x234)];}catch(_0x3e045b){return _0x4e0ad0[_0x250284(0x23f)](debug,_0x250284(0x25f)+_0x3e045b[_0x250284(0x1f2)]()),_0x4e0ad0[_0x250284(0x234)];}},getCloudProviderFromWsEndpoint=_0x576cc3=>{const _0x27cfa8=a60_0x4f73ae,_0x2d973e={};_0x2d973e[_0x27cfa8(0x226)]=_0x27cfa8(0x295),_0x2d973e[_0x27cfa8(0x206)]='unknown_grid';const _0x6b4f23=_0x2d973e;if(_0x576cc3['includes'](constants[_0x27cfa8(0x291)])||_0x576cc3[_0x27cfa8(0x27d)](constants[_0x27cfa8(0x241)]))return _0x6b4f23['dAYMe'];return _0x6b4f23['tNkMV'];},a60_0xe7e215={};function a60_0x1cef(_0x4c17ce,_0x32a35c){const _0x138121=a60_0x1381();return a60_0x1cef=function(_0x1cefdd,_0x4a0e2f){_0x1cefdd=_0x1cefdd-0x1e1;let _0x2e8b8f=_0x138121[_0x1cefdd];return _0x2e8b8f;},a60_0x1cef(_0x4c17ce,_0x32a35c);}a60_0xe7e215[a60_0x4f73ae(0x22f)]=undefined,a60_0xe7e215[a60_0x4f73ae(0x26e)]=undefined,a60_0xe7e215[a60_0x4f73ae(0x27a)]=undefined,a60_0xe7e215['browser_version']=undefined,a60_0xe7e215['platform']=undefined,a60_0xe7e215[a60_0x4f73ae(0x250)]=undefined,a60_0xe7e215[a60_0x4f73ae(0x20f)]=undefined,a60_0xe7e215[a60_0x4f73ae(0x258)]={};class SharedPlaywrightSessionDetails{static ['currentSessionDetails']=a60_0xe7e215;constructor(){const _0x1cbadc=a60_0x4f73ae,_0x4b3eef={};_0x4b3eef[_0x1cbadc(0x21e)]='Invalid\x20constructor,\x20please\x20use\x20static\x20methods';const _0x486687=_0x4b3eef;throw new Error(_0x486687[_0x1cbadc(0x21e)]);}static [a60_0x4f73ae(0x27b)]=null;static[a60_0x4f73ae(0x27f)](_0x88d477,_0x26a4e1,_0x5899d5=null){const _0x101d5b=a60_0x4f73ae,_0x28e105={'pTEqt':function(_0x52969e,_0x27f85f){return _0x52969e===_0x27f85f;},'UvMlK':_0x101d5b(0x219),'nXTLR':'Browser\x20is\x20not\x20defined\x20or\x20not\x20available','pqZuP':'Device\x20Model\x20is\x20not\x20available','dnYTL':_0x101d5b(0x1ff),'bwksO':function(_0x3c57bd,_0x565a5b,_0x2eb0eb){return _0x3c57bd(_0x565a5b,_0x2eb0eb);},'xjseK':'_browserType','MhEeA':'_defaultConnectOptions','uYtdR':_0x101d5b(0x1ed),'GDbUB':'use','fdNyr':'connectOptions','HpnzT':function(_0x54cb81,_0x2c9813){return _0x54cb81(_0x2c9813);},'mFJBa':function(_0x278de0,_0x4ae05a){return _0x278de0===_0x4ae05a;},'NNSyE':'browserstack','uXvzp':'turboscale','ZxRfQ':_0x101d5b(0x279),'wedXC':function(_0x23dc4a,_0xa8bc52){return _0x23dc4a(_0xa8bc52);},'Sieef':function(_0xefcefb,_0x32207c){return _0xefcefb===_0x32207c;},'LPvaa':_0x101d5b(0x29e),'vudoR':function(_0x374891,_0x381c8e){return _0x374891+_0x381c8e;},'eYMYx':_0x101d5b(0x297),'MiUMY':function(_0x245cf4){return _0x245cf4();},'yxQXb':function(_0x41df8f,_0x4d8a1b,_0x44edb7){return _0x41df8f(_0x4d8a1b,_0x44edb7);},'wytcg':'setupBrowserDetails'},_0x171d70=this;return _0x28e105[_0x101d5b(0x257)](o11yErrorHandler,async function _0x96e9c8(_0x3dfa75,_0x452533,_0x3d8c2d=null){const _0x22caf1=_0x101d5b;let _0x2311f6=_0x3dfa75[_0x22caf1(0x237)],_0x30e281=null;_0x3dfa75&&_0x28e105[_0x22caf1(0x2a3)](typeof _0x3dfa75[_0x22caf1(0x294)],_0x28e105[_0x22caf1(0x21d)])?_0x30e281=_0x3dfa75[_0x22caf1(0x294)]():logger['debug'](_0x28e105[_0x22caf1(0x28e)]);let _0x5eb1c3=null;_0x3dfa75&&_0x28e105[_0x22caf1(0x2a3)](typeof _0x3dfa75[_0x22caf1(0x1f4)],_0x28e105[_0x22caf1(0x21d)])?_0x5eb1c3=_0x3dfa75[_0x22caf1(0x1f4)]():logger[_0x22caf1(0x25c)](_0x28e105['pqZuP']);let _0x136a2d=null,_0x34c684=null,_0x48b31b=null,_0x1e7f81=_0x28e105[_0x22caf1(0x244)];if(_0x3dfa75['_connection'][_0x22caf1(0x283)]()||global['accessibilityPlatform']){let _0x373a34=null;_0x28e105[_0x22caf1(0x23d)](nestedKeyValue,_0x3dfa75,[_0x28e105[_0x22caf1(0x232)],_0x28e105[_0x22caf1(0x208)]])?_0x373a34=_0x3dfa75[_0x22caf1(0x271)]['_defaultConnectOptions']:_0x373a34=_0x28e105[_0x22caf1(0x23d)](nestedKeyValue,_0x452533,[_0x28e105['uYtdR'],_0x28e105[_0x22caf1(0x1ef)],_0x28e105[_0x22caf1(0x288)]]);const _0x191a65=_0x3d8c2d||_0x373a34&&_0x373a34['wsEndpoint'];if(_0x191a65){_0x1e7f81=_0x28e105[_0x22caf1(0x275)](getCloudProviderFromWsEndpoint,_0x191a65);if(_0x28e105['mFJBa'](_0x1e7f81,_0x28e105[_0x22caf1(0x209)])){_0x48b31b=constants[_0x22caf1(0x24a)][_0x22caf1(0x262)](_0x191a65)?_0x28e105[_0x22caf1(0x1eb)]:_0x28e105['ZxRfQ'];const _0x374624=_0x28e105['wedXC'](getBrowserFromWSEndpoint,_0x191a65);if(_0x374624&&(!_0x2311f6||_0x28e105['Sieef'](_0x2311f6,_0x28e105[_0x22caf1(0x299)])))_0x2311f6=_0x374624,logger[_0x22caf1(0x25c)](_0x22caf1(0x20b)+_0x2311f6);else _0x2311f6&&logger['debug'](_0x22caf1(0x248)+_0x2311f6);_0x136a2d=_0x171d70[_0x22caf1(0x1fa)]['platform'],_0x34c684=_0x171d70['currentSessionDetails'][_0x22caf1(0x250)];}}}else{_0x452533&&_0x452533['project']&&_0x452533[_0x22caf1(0x1ed)][_0x22caf1(0x272)]&&_0x452533[_0x22caf1(0x1ed)]['use'][_0x22caf1(0x26d)]?_0x2311f6=_0x28e105[_0x22caf1(0x275)](getBrowserNameFromChannel,_0x452533[_0x22caf1(0x1ed)]['use']['channel']):_0x2311f6=_0x28e105['vudoR'](_0x28e105[_0x22caf1(0x274)],_0x2311f6[_0x22caf1(0x259)]());const _0x2aa730=await _0x28e105[_0x22caf1(0x218)](getPlatformDetails);_0x136a2d=_0x2aa730['platformName'],_0x34c684=_0x2aa730[_0x22caf1(0x23e)];}const _0x1a441e={};_0x1a441e['browser']=_0x2311f6,_0x1a441e[_0x22caf1(0x251)]=_0x30e281,_0x1a441e[_0x22caf1(0x258)]={},_0x1a441e[_0x22caf1(0x263)]=_0x136a2d,_0x1a441e[_0x22caf1(0x250)]=_0x34c684,_0x1a441e[_0x22caf1(0x20f)]=_0x48b31b;const _0x23f305=_0x1a441e;_0x5eb1c3&&(_0x23f305[_0x22caf1(0x258)][_0x22caf1(0x242)]=_0x5eb1c3);const _0x3aa865={};_0x3aa865[_0x22caf1(0x22f)]=_0x1e7f81,_0x171d70['currentSessionDetails']=Object['assign']({},_0x171d70[_0x22caf1(0x1fa)],_0x3aa865,_0x23f305);const _0x2e2e94={};_0x2e2e94[_0x22caf1(0x27a)]=_0x171d70[_0x22caf1(0x1fa)][_0x22caf1(0x27a)],_0x2e2e94[_0x22caf1(0x278)]=_0x171d70[_0x22caf1(0x1fa)][_0x22caf1(0x251)],_0x2e2e94[_0x22caf1(0x263)]=_0x171d70[_0x22caf1(0x1fa)][_0x22caf1(0x263)],_0x2e2e94[_0x22caf1(0x23e)]=_0x171d70[_0x22caf1(0x1fa)]['platform_version'],_0x2e2e94[_0x22caf1(0x22f)]=_0x171d70[_0x22caf1(0x1fa)][_0x22caf1(0x22f)],_0x2e2e94[_0x22caf1(0x20f)]=_0x171d70[_0x22caf1(0x1fa)][_0x22caf1(0x20f)],logger[_0x22caf1(0x25c)](_0x22caf1(0x28d)+JSON['stringify'](_0x2e2e94));},_0x28e105[_0x101d5b(0x1f0)])(_0x88d477,_0x26a4e1,_0x5899d5);}static['patch'](){const _0x251834=a60_0x4f73ae;this[_0x251834(0x1e1)](),this[_0x251834(0x23b)]();}static[a60_0x4f73ae(0x1e1)](){const _0x3a2806=a60_0x4f73ae,_0x4939c8={'hkKgR':function(_0x3109b1,_0x2424ef){return _0x3109b1(_0x2424ef);},'OoYJH':_0x3a2806(0x1e6),'umXsj':_0x3a2806(0x228),'DjCDp':'connection.js','fRwYR':function(_0x470702,_0x28817e){return _0x470702(_0x28817e);},'wHipb':function(_0xb42096,_0x3945d8){return _0xb42096(_0x3945d8);},'ZkQKK':'Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','ZYMxO':function(_0x193b48,_0x5c0232){return _0x193b48!=_0x5c0232;},'VqDia':_0x3a2806(0x29c),'NbLfN':'dispatch','hSFUe':_0x3a2806(0x222)},_0x5a6815=this;if(!this[_0x3a2806(0x256)])try{const _0x300941=[path[_0x3a2806(0x289)](_0x4939c8[_0x3a2806(0x1fc)],_0x4939c8[_0x3a2806(0x28b)],_0x4939c8[_0x3a2806(0x215)]),path[_0x3a2806(0x289)](_0x4939c8[_0x3a2806(0x1fc)],_0x4939c8['DjCDp']),path['join'](_0x4939c8[_0x3a2806(0x28b)],_0x4939c8[_0x3a2806(0x215)])];for(const _0x51015c of _0x300941){try{const _0x29a9d2=_0x4939c8[_0x3a2806(0x281)](importFileFromPWCore,_0x51015c);if(_0x29a9d2&&_0x29a9d2[_0x3a2806(0x256)]){this[_0x3a2806(0x256)]=_0x29a9d2[_0x3a2806(0x256)],logger[_0x3a2806(0x25c)](_0x3a2806(0x212)+_0x51015c);break;}}catch(_0x195b25){_0x4939c8[_0x3a2806(0x23a)](debug,_0x3a2806(0x231)+_0x51015c+':\x20'+_0x195b25[_0x3a2806(0x1f2)]());}}if(!this[_0x3a2806(0x256)]){_0x4939c8[_0x3a2806(0x20e)](debug,_0x4939c8[_0x3a2806(0x27e)]);return;}}catch(_0x3641ae){_0x4939c8[_0x3a2806(0x23a)](debug,_0x3a2806(0x220)+_0x3641ae[_0x3a2806(0x1f2)]());return;}const _0x2b6e59=this[_0x3a2806(0x256)];try{if(_0x4939c8[_0x3a2806(0x21c)](_0x2b6e59,null)){const _0x329918=_0x2b6e59[_0x3a2806(0x230)]['dispatch'];if(!_0x4939c8[_0x3a2806(0x20e)](isFalse,process[_0x3a2806(0x265)][_0x3a2806(0x225)])){if(_0x2b6e59['prototype'][_0x3a2806(0x1ea)]){logger[_0x3a2806(0x25c)](_0x4939c8[_0x3a2806(0x21b)]);return;}Object[_0x3a2806(0x280)](_0x2b6e59[_0x3a2806(0x230)],_0x4939c8[_0x3a2806(0x28c)],{'get':function(){const _0x27c9b5={'UcjcE':function(_0x139f38,_0x1c44aa){return _0x4939c8['hkKgR'](_0x139f38,_0x1c44aa);}};return async function _0x599baf(_0x1e8a5a){const _0x31578e=a60_0x1cef;if(BrowserstackCLI[_0x31578e(0x1e2)]()['isRunning']()){const _0x2221ba={};_0x2221ba['message']=_0x1e8a5a,await BrowserstackCLI['getInstance']()[_0x31578e(0x233)]()[_0x31578e(0x1e4)](AutomationFrameworkState[_0x31578e(0x22b)],HookState['POST'],_0x2221ba);}else{const _0x37d738=_0x1e8a5a&&_0x1e8a5a[_0x31578e(0x235)]&&_0x1e8a5a[_0x31578e(0x235)][_0x31578e(0x1fe)];if(_0x37d738){const _0x3f13f6=_0x37d738[_0x31578e(0x22d)],_0x5866e1=_0x37d738['platformDetails'];_0x5866e1&&(_0x27c9b5[_0x31578e(0x253)](debug,'Setting\x20platform\x20details\x20received\x20from\x20BS:\x20'+_0x5866e1[_0x31578e(0x1f2)]()),_0x5a6815[_0x31578e(0x1fa)][_0x31578e(0x263)]=_0x5866e1[_0x31578e(0x25d)],_0x5a6815[_0x31578e(0x1fa)][_0x31578e(0x250)]=_0x5866e1[_0x31578e(0x23e)]),_0x3f13f6&&(_0x27c9b5[_0x31578e(0x253)](debug,_0x31578e(0x2a4)+_0x3f13f6),_0x5a6815[_0x31578e(0x1fa)][_0x31578e(0x26e)]=_0x3f13f6);}}return _0x329918['apply'](this,arguments);};}}),_0x2b6e59['prototype'][_0x3a2806(0x1ea)]=!![],logger['debug'](_0x4939c8[_0x3a2806(0x260)]);}}}catch(_0x346024){_0x4939c8['wHipb'](debug,_0x3a2806(0x1fd)+_0x346024),_0x5a6815[_0x3a2806(0x27b)]=_0x346024['toString']();}}static['patchCRConnection'](){const _0x14eb65=a60_0x4f73ae,_0x5d5104={'Npulz':function(_0x2b6823,_0x122412){return _0x2b6823(_0x122412);},'LLvvB':function(_0x4a939d,_0x5a22cd){return _0x4a939d(_0x5a22cd);},'KDNlV':'lib','NagDl':'server','jcRXN':'chromium','tHgmC':'crConnection.js','QfJBE':function(_0x4a52f0,_0x4c323e){return _0x4a52f0(_0x4c323e);},'uwOaJ':function(_0x463715,_0x189ae5){return _0x463715(_0x189ae5);},'FtJmK':_0x14eb65(0x1e9),'sdzaA':_0x14eb65(0x207),'kopbW':function(_0x2a6f13,_0x489130){return _0x2a6f13!=_0x489130;},'oruuE':_0x14eb65(0x1e7),'lpqmn':_0x14eb65(0x239),'MqZMq':_0x14eb65(0x1f5)},_0xaba97a=this;let _0x9f20b6=null;try{const _0x342b2e=path[_0x14eb65(0x289)](_0x5d5104[_0x14eb65(0x266)],_0x5d5104[_0x14eb65(0x24d)],_0x5d5104['jcRXN'],_0x5d5104[_0x14eb65(0x26b)]),_0x1b3b26=_0x5d5104['QfJBE'](importFileFromPWCore,_0x342b2e);!_0x1b3b26?_0x5d5104[_0x14eb65(0x246)](debug,_0x5d5104[_0x14eb65(0x26f)]):_0x9f20b6=_0x1b3b26[_0x14eb65(0x2a1)];}catch(_0x5d4610){_0x5d5104[_0x14eb65(0x26a)](debug,_0x5d5104[_0x14eb65(0x264)]);}try{if(_0x5d5104[_0x14eb65(0x269)](_0x9f20b6,null)){const _0x4ba24e=_0x9f20b6[_0x14eb65(0x230)]['_onMessage'];if(_0x9f20b6[_0x14eb65(0x230)]['_bstackCRPatched']){logger[_0x14eb65(0x25c)](_0x5d5104['oruuE']);return;}Object[_0x14eb65(0x280)](_0x9f20b6[_0x14eb65(0x230)],_0x5d5104[_0x14eb65(0x223)],{'get':function(){return async function _0x45f5fd(_0xb7e73){const _0x4d77ec=a60_0x1cef;try{if(BrowserstackCLI['getInstance']()[_0x4d77ec(0x29a)]()){const _0x3ef9ea={};_0x3ef9ea['message']=_0xb7e73,await BrowserstackCLI['getInstance']()[_0x4d77ec(0x233)]()[_0x4d77ec(0x1e4)](AutomationFrameworkState[_0x4d77ec(0x22b)],HookState[_0x4d77ec(0x1e3)],_0x3ef9ea),delete _0xb7e73[_0x4d77ec(0x2a2)];}else{const _0x464dd8=_0xb7e73['bStackParams'];if(_0x464dd8){delete _0xb7e73[_0x4d77ec(0x2a2)];const _0x5d42c2=_0x464dd8[_0x4d77ec(0x22d)],_0x56527a=_0x464dd8['platformDetails'];_0x56527a&&(_0x5d5104[_0x4d77ec(0x24c)](debug,_0x4d77ec(0x214)+_0x56527a['toString']()),_0xaba97a[_0x4d77ec(0x1fa)][_0x4d77ec(0x263)]=_0x56527a['platformName'],_0xaba97a[_0x4d77ec(0x1fa)][_0x4d77ec(0x250)]=_0x56527a[_0x4d77ec(0x23e)]),_0x5d42c2&&(_0x5d5104[_0x4d77ec(0x24c)](debug,'Setting\x20session\x20id\x20received\x20from\x20browserstack\x20'+_0x5d42c2),_0xaba97a[_0x4d77ec(0x1fa)]['bsSessionId']=_0x5d42c2);}}}catch(_0x131c02){_0x5d5104[_0x4d77ec(0x26a)](debug,_0x4d77ec(0x1f6)+_0x131c02[_0x4d77ec(0x1f2)]());}return _0x4ba24e[_0x4d77ec(0x292)](this,arguments);};}}),_0x9f20b6[_0x14eb65(0x230)]['_bstackCRPatched']=!![],logger['debug'](_0x5d5104['MqZMq']);}}catch(_0x5869b1){_0x5d5104[_0x14eb65(0x270)](debug,_0x14eb65(0x1f9)+_0x5869b1),_0xaba97a[_0x14eb65(0x27b)]=_0x5869b1[_0x14eb65(0x1f2)]();}}static[a60_0x4f73ae(0x25b)](_0x11184e,_0x19ec9a){const _0x374424=a60_0x4f73ae,_0x42c689={'OALVK':_0x374424(0x1e5),'TsxEo':function(_0x46fa30,_0x29770a){return _0x46fa30||_0x29770a;},'XoSCp':function(_0x47ca84,_0x105eaf){return _0x47ca84||_0x105eaf;},'bpXmn':function(_0x5ef4df,_0x1e2059){return _0x5ef4df===_0x1e2059;},'sBgNe':_0x374424(0x252),'zjzIV':'BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','kczBF':function(_0x15508a,_0x23f5d6){return _0x15508a(_0x23f5d6);}};let _0x35dd2e=null,_0x2e1bfd=null;try{const _0x16ee37=[_0x19ec9a,global[_0x374424(0x25a)],global[_0x374424(0x254)]];for(const _0x132a07 of _0x16ee37){if(_0x132a07&&(!_0x2e1bfd||!_0x2e1bfd[_0x374424(0x22d)])){const _0x466ee5=_0x132a07[_0x374424(0x22d)]||_0x132a07[_0x42c689[_0x374424(0x282)]]?.['sessionId'],_0x453437=_0x132a07['browserName']||_0x132a07[_0x374424(0x27a)]||_0x132a07[_0x42c689[_0x374424(0x282)]]?.['browserName'],_0x6798fc=_0x132a07[_0x374424(0x278)]||_0x132a07[_0x374424(0x251)]||_0x132a07[_0x42c689[_0x374424(0x282)]]?.[_0x374424(0x278)],_0x4104f5=_0x132a07['os']||_0x132a07[_0x374424(0x263)]||_0x132a07[_0x42c689[_0x374424(0x282)]]?.['os'],_0x414e26=_0x132a07[_0x374424(0x227)]||_0x132a07[_0x374424(0x22a)]||_0x132a07[_0x42c689[_0x374424(0x282)]]?.['osVersion'];if(_0x42c689[_0x374424(0x277)](_0x466ee5,_0x453437)||_0x4104f5){const _0x1b57fe={};_0x1b57fe[_0x374424(0x25e)]=_0x453437,_0x1b57fe[_0x374424(0x278)]=_0x6798fc,_0x1b57fe['os']=_0x4104f5,_0x1b57fe['osVersion']=_0x414e26,_0x1b57fe[_0x374424(0x25d)]=_0x132a07[_0x374424(0x25d)]||_0x4104f5,_0x1b57fe[_0x374424(0x23e)]=_0x132a07[_0x374424(0x23e)]||_0x414e26;const _0x42fbb9={};_0x42fbb9[_0x374424(0x22d)]=_0x466ee5,_0x42fbb9[_0x374424(0x29d)]=_0x1b57fe,_0x2e1bfd=_0x42fbb9;if(_0x42c689[_0x374424(0x210)](_0x466ee5,_0x453437)){logger['debug'](_0x374424(0x1ec)+_0x453437+_0x374424(0x286)+_0x4104f5);break;}}}}if(_0x11184e&&_0x42c689['bpXmn'](typeof _0x11184e,_0x42c689[_0x374424(0x290)]))try{const _0x57c564=url['parse'](_0x11184e),_0x2a40fc=new URLSearchParams(_0x57c564[_0x374424(0x20a)]),_0x3935ae=Object[_0x374424(0x1f3)](_0x2a40fc[_0x374424(0x296)]()),_0x33c776=[_0x3935ae[_0x374424(0x203)],_0x3935ae['capabilities'],_0x3935ae[_0x374424(0x243)]];for(const _0x2a3165 of _0x33c776){if(_0x2a3165&&(!_0x35dd2e||!_0x35dd2e[_0x374424(0x22d)]))try{const _0x3f96f6=JSON[_0x374424(0x22c)](_0x2a3165),_0x5b6682={};_0x5b6682[_0x374424(0x22d)]=_0x3f96f6[_0x374424(0x22d)]||_0x3f96f6[_0x42c689[_0x374424(0x282)]]?.[_0x374424(0x22d)],_0x5b6682[_0x374424(0x29d)]={},_0x5b6682[_0x374424(0x29d)][_0x374424(0x25e)]=_0x3f96f6[_0x374424(0x25e)]||_0x3f96f6[_0x374424(0x27a)],_0x5b6682[_0x374424(0x29d)][_0x374424(0x278)]=_0x3f96f6[_0x374424(0x278)]||_0x3f96f6[_0x374424(0x251)],_0x5b6682[_0x374424(0x29d)]['os']=_0x3f96f6['os']||_0x3f96f6['platform'],_0x5b6682[_0x374424(0x29d)][_0x374424(0x227)]=_0x3f96f6[_0x374424(0x227)]||_0x3f96f6[_0x374424(0x22a)],_0x5b6682[_0x374424(0x29d)][_0x374424(0x25d)]=_0x3f96f6[_0x374424(0x25d)]||_0x3f96f6['os']||_0x3f96f6[_0x374424(0x263)],_0x5b6682[_0x374424(0x29d)][_0x374424(0x23e)]=_0x3f96f6['platformVersion']||_0x3f96f6[_0x374424(0x227)]||_0x3f96f6[_0x374424(0x22a)],_0x35dd2e=_0x5b6682;if(_0x35dd2e['sessionId']||_0x35dd2e[_0x374424(0x29d)]['browserName']){logger['debug'](_0x42c689['zjzIV']);break;}}catch(_0x2c3cc8){_0x42c689[_0x374424(0x2a0)](debug,_0x374424(0x247)+_0x2c3cc8[_0x374424(0x1f2)]());}}}catch(_0x497828){_0x42c689[_0x374424(0x2a0)](debug,_0x374424(0x236)+_0x497828[_0x374424(0x1f2)]());}}catch(_0x54c601){_0x42c689[_0x374424(0x2a0)](debug,'Error\x20extracting\x20BrowserStack\x20parameters:\x20'+util[_0x374424(0x267)](_0x54c601));}const _0x53b4c4={};return _0x53b4c4[_0x374424(0x1fe)]=_0x35dd2e,_0x53b4c4['bStackParams']=_0x2e1bfd,_0x53b4c4;}static async[a60_0x4f73ae(0x276)](_0x537542,_0x1642cd){const _0x27c984=a60_0x4f73ae,_0x4fda21={'aEXaT':function(_0xc271d3,_0x12ee36){return _0xc271d3||_0x12ee36;},'aETwE':_0x27c984(0x200),'QSoil':function(_0x50a8d4,_0x5c507c){return _0x50a8d4(_0x5c507c);}};try{if(!BrowserstackCLI['getInstance']()['isRunning']())return;if(_0x4fda21[_0x27c984(0x29b)](_0x537542,_0x1642cd)){logger['debug'](_0x4fda21[_0x27c984(0x285)]);const _0xc64d93={'params':_0x537542?{'bsParams':_0x537542}:null,'bStackParams':_0x4fda21['aEXaT'](_0x1642cd,null)},_0x393f1b=AutomationFramework[_0x27c984(0x20d)](),_0x2b5149={};_0x2b5149[_0x27c984(0x273)]=_0xc64d93,_0x2b5149[_0x27c984(0x216)]=_0x393f1b,await BrowserstackCLI['getInstance']()[_0x27c984(0x233)]()[_0x27c984(0x1e4)](AutomationFrameworkState[_0x27c984(0x22b)],HookState[_0x27c984(0x1e3)],_0x2b5149);}}catch(_0x47b2e1){_0x4fda21[_0x27c984(0x293)](debug,'Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20'+util[_0x27c984(0x267)](_0x47b2e1));}}static['getDetails'](){const _0x32f54d=a60_0x4f73ae;return this[_0x32f54d(0x1fa)];}}module[a60_0x4f73ae(0x29f)]=SharedPlaywrightSessionDetails;function a60_0x1381(){const _0x7e41e2=['bStackParams','pTEqt','Setting\x20session\x20id\x20received\x20from\x20BS\x20','patchConnection','getInstance','POST','trackEvent','bstack:options','lib','CRConnection\x20already\x20patched','../../helpers/helper','Not\x20able\x20to\x20import\x20crConnection','_bstackDispatchPatched','uXvzp','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','project','YlgWZ','GDbUB','wytcg','XQanm','toString','fromEntries','model','Successfully\x20patched\x20CRConnection._onMessage','Error\x20in\x20finding\x20platform\x20details\x20','YlICj','../v2/state/hookState.js','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','currentSessionDetails','RsvYq','OoYJH','Error\x20in\x20applying\x20Connection\x20patch\x20','bsParams','local_grid','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','VxErk','2640QjPAEJ','caps','../../helpers/test-observability/error-handler','ViYdY','tNkMV','Error\x20in\x20importing\x20crConnection','MhEeA','NNSyE','query','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','jgrKT','getTrackedInstance','wHipb','product','XoSCp','2VyjXxC','Found\x20Connection\x20class\x20at:\x20','65201125ZrIpjx','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','DjCDp','instance','../../helpers/test-observability/utils','MiUMY','function','../v2/state/automationFrameworkState.js','VqDia','ZYMxO','UvMlK','nBOwc','safari','Error\x20in\x20importing\x20connection\x20','edge','Successfully\x20patched\x20Connection.dispatch','lpqmn','12vqQKZO','BROWSERSTACK_TEST_OBSERVABILITY','dAYMe','osVersion','client','12yqvqrr','os_version','PLAYWRIGHT_DISPATCH','parse','sessionId','8290VwLnLP','cloudProvider','prototype','Failed\x20to\x20import\x20connection\x20from\x20','xjseK','getAutomationFramework','HxDbP','params','Error\x20parsing\x20WebSocket\x20endpoint:\x20','_name','./constants','_onMessage','fRwYR','patchCRConnection','../v2/browserstackCLI','bwksO','platformVersion','rXCwW','1409056YBpOTV','BSTACK_ATS_URL','deviceModel','desiredCapabilities','dnYTL','437152KFJmvf','uwOaJ','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','1457308vFeOyQ','ATS_WSS_URL_REGEX','firefox','Npulz','NagDl','url','../v2/framework/automationFramework','platform_version','browser_version','string','UcjcE','capabilties','browserstack_capabilities','Connection','yxQXb','capabilities','toLowerCase','__platformCaps','extractBrowserStackParams','debug','platformName','browserName','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','hSFUe','1487906VUvPIM','test','platform','sdzaA','env','KDNlV','format','path','kopbW','LLvvB','tHgmC','ggvmw','channel','bsSessionId','FtJmK','QfJBE','_browserType','use','message','eYMYx','HpnzT','triggerPlaywrightDispatchEvent','TsxEo','browserVersion','automate','browser','sessionError','108srjgDK','includes','ZkQKK','setupBrowserDetails','defineProperty','hkKgR','OALVK','isRemote','IzGqC','aETwE',',\x20os=','Cgtsv','fdNyr','join','11108990TnOjBX','umXsj','NbLfN','Session\x20details\x20setup\x20complete:\x20','nXTLR','Jvcze','sBgNe','BSTACK_URL','apply','QSoil','version','browserstack','entries','playwright-','msedge','LPvaa','isRunning','aEXaT','Connection\x20dispatch\x20already\x20patched','platformDetails','chromium','exports','kczBF','CRConnection'];a60_0x1381=function(){return _0x7e41e2;};return a60_0x1381();}