function a60_0x9fb2(){const _0x176b97=['vbCFZ','LyooS','channel','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','platformName','platformVersion','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','CRConnection','_browserType','dnteL','connectOptions','NyFQz','WbGGB','version','osVersion','unknown_grid','Error\x20in\x20applying\x20Connection\x20patch\x20','Not\x20able\x20to\x20import\x20crConnection','Found\x20Connection\x20class\x20at:\x20','1298516YaVGDS','pcqll','gecko','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','UQxKA','EjKIT','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','WzepP','lcBfH','aSDau','instance','server','os_version','HgcQJ','WHJlQ','PLAYWRIGHT_DISPATCH','local_grid','Successfully\x20patched\x20CRConnection._onMessage','lMNYT','edge','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','capabilities','MYfXN','Connection','prototype','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','patchConnection','NrpzD','cBcjs','UifVo','EonQE','FihfI','path','_bstackCRPatched','firefox','NZyEr','yveOA','QjYrq','toString','IPTEI','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','sessionId','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','CuSDL','_bstackDispatchPatched','lib','BSTACK_URL','../../helpers/test-observability/utils','bCYMw','fromEntries','deviceModel','_connection','apply','BQNjF','isRunning','platformDetails','desiredCapabilities','webkit','patchCRConnection','axTkf','params','ZTYlE','use','patch','product','model','playwright-','_defaultConnectOptions','./constants','Session\x20details\x20setup\x20complete:\x20','Error\x20in\x20importing\x20connection\x20','_onMessage','entries','../../helpers/test-observability/error-handler','zVVJP','vzstC','OufPv','assign','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','Error\x20in\x20importing\x20crConnection','zbaNM','util','debug','Error\x20extracting\x20BrowserStack\x20parameters:\x20','cloudProvider','__platformCaps','zSEVv','browser_version','bsParams','Gjocs','browserstack','CrOVn','automate','getDetails','Device\x20Model\x20is\x20not\x20available','BUzHc','../v2/state/hookState.js','Successfully\x20patched\x20Connection.dispatch','getAutomationFramework','UORdQ','iPhuK','message','capabilties','caps','Connection\x20dispatch\x20already\x20patched','HjHOL','turboscale','POST','ijiXy','currentSessionDetails','browserName','2576915QvsaUx','zEkoU','../v2/state/automationFrameworkState.js','VDouO','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','defineProperty','YkcuR','axTyR','jNVvl','wsEndpoint','trackEvent','bHKTR','GeXhM','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','ZIqUv','bsSessionId','safari','browserVersion','BROWSERSTACK_TEST_OBSERVABILITY','accessibilityPlatform','bStackParams','sfdoB','getInstance','tVQuo','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','165481PHEQBb','igfqs','browser','exports','EnrWK','dXEge','query','join','ZDRjw','oktze','JwrTA','aOLRP','project','EDHgq','QhdwS','bstack:options','mUAkK','Error\x20in\x20finding\x20platform\x20details\x20','platform_version','toLowerCase','OFIoG','isRemote','oCFJe','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','platform','RmlJV','parse','sessionError','327948CNYmJF','chromium','yYZqL','function','../v2/browserstackCLI','includes','env','4362295hhHpaU','Setting\x20session\x20id\x20received\x20from\x20BS\x20','3211456XkUFGS','GXIHC','triggerPlaywrightDispatchEvent','940068IkTuYN','format'];a60_0x9fb2=function(){return _0x176b97;};return a60_0x9fb2();}const a60_0x186c4f=a60_0x2757;function a60_0x2757(_0x28316e,_0x46570f){const _0x9fb234=a60_0x9fb2();return a60_0x2757=function(_0x275747,_0x19d9a3){_0x275747=_0x275747-0x1c9;let _0x11163e=_0x9fb234[_0x275747];return _0x11163e;},a60_0x2757(_0x28316e,_0x46570f);}(function(_0x3044e0,_0x310890){const _0x26c41c=a60_0x2757,_0x53c6cc=_0x3044e0();while(!![]){try{const _0x268ee3=-parseInt(_0x26c41c(0x209))/0x1+-parseInt(_0x26c41c(0x246))/0x2+parseInt(_0x26c41c(0x231))/0x3+parseInt(_0x26c41c(0x22e))/0x4+-parseInt(_0x26c41c(0x1f0))/0x5+parseInt(_0x26c41c(0x225))/0x6+parseInt(_0x26c41c(0x22c))/0x7;if(_0x268ee3===_0x310890)break;else _0x53c6cc['push'](_0x53c6cc['shift']());}catch(_0x599ab5){_0x53c6cc['push'](_0x53c6cc['shift']());}}}(a60_0x9fb2,0x71445));const path=require(a60_0x186c4f(0x266)),url=require('url'),util=require(a60_0x186c4f(0x1d2)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require('../../helpers/helper'),{o11yErrorHandler}=require(a60_0x186c4f(0x1ca)),{debug,getPlatformDetails}=require(a60_0x186c4f(0x275)),logger=require('../../helpers/logger')['winstonLogger'],constants=require(a60_0x186c4f(0x28a)),AutomationFramework=require('../v2/framework/automationFramework'),BrowserstackCLI=require(a60_0x186c4f(0x229)),AutomationFrameworkState=require(a60_0x186c4f(0x1f2)),HookState=require(a60_0x186c4f(0x1e1)),{platform}=require('os'),getBrowserNameFromChannel=_0x5ec5fc=>{const _0xb7c580=a60_0x186c4f,_0x36d2bf={};_0x36d2bf['Gjocs']='chrome',_0x36d2bf[_0xb7c580(0x216)]=_0xb7c580(0x259),_0x36d2bf[_0xb7c580(0x1cc)]=_0xb7c580(0x268),_0x36d2bf[_0xb7c580(0x26a)]=_0xb7c580(0x200);const _0x3a1cfa=_0x36d2bf;if(_0x5ec5fc[_0xb7c580(0x22a)](_0x3a1cfa[_0xb7c580(0x1da)]))return _0x3a1cfa[_0xb7c580(0x1da)];if(_0x5ec5fc[_0xb7c580(0x22a)](_0x3a1cfa[_0xb7c580(0x216)]))return _0x3a1cfa['EDHgq'];if(_0x5ec5fc[_0xb7c580(0x22a)](_0x3a1cfa[_0xb7c580(0x1cc)]))return _0x3a1cfa[_0xb7c580(0x1cc)];if(_0x5ec5fc[_0xb7c580(0x22a)](_0x3a1cfa['yveOA']))return _0x3a1cfa['yveOA'];},getBrowserFromWSEndpoint=_0x56f977=>{const _0x818104=a60_0x186c4f,_0xca1777={'ijiXy':'bstack:options','bCYMw':function(_0x1c933d,_0x5d197e){return _0x1c933d(_0x5d197e);},'ckZvE':_0x818104(0x259),'YkcuR':'msedge','oktze':_0x818104(0x268),'dnteL':_0x818104(0x248),'ZIqUv':_0x818104(0x200),'OEcUM':_0x818104(0x27f),'axTyR':'chrome','UJRdx':function(_0x406a6e,_0x2a13f9){return _0x406a6e(_0x2a13f9);}};try{const _0x23f4ef=url[_0x818104(0x223)](_0x56f977),_0xd32702=new URLSearchParams(_0x23f4ef['query']),_0x5360e0=Object['fromEntries'](_0xd32702[_0x818104(0x1c9)]()),_0x2bc387=[_0x5360e0[_0x818104(0x1e8)],_0x5360e0[_0x818104(0x25b)],_0x5360e0[_0x818104(0x27e)],_0x5360e0['browserstack_capabilities']];for(const _0x150371 of _0x2bc387){if(_0x150371)try{const _0x3f5487=JSON[_0x818104(0x223)](_0x150371),_0x3f42d3=_0x3f5487['browserName']||_0x3f5487[_0x818104(0x20b)]||_0x3f5487[_0xca1777[_0x818104(0x1ed)]]?.['browserName'];if(_0x3f42d3)return _0xca1777[_0x818104(0x276)](debug,'Browser\x20found\x20in\x20WebSocket\x20caps:\x20'+_0x3f42d3),_0x3f42d3[_0x818104(0x21c)]();}catch(_0x48620f){_0xca1777[_0x818104(0x276)](debug,'Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20'+_0x48620f[_0x818104(0x1e6)]);}}if(_0x56f977['includes'](_0xca1777['ckZvE'])||_0x56f977['includes'](_0xca1777[_0x818104(0x1f6)]))return _0xca1777['ckZvE'];if(_0x56f977[_0x818104(0x22a)](_0xca1777[_0x818104(0x212)])||_0x56f977[_0x818104(0x22a)](_0xca1777[_0x818104(0x23c)]))return _0xca1777['oktze'];if(_0x56f977['includes'](_0xca1777[_0x818104(0x1fe)])||_0x56f977[_0x818104(0x22a)](_0xca1777['OEcUM']))return _0xca1777[_0x818104(0x1fe)];return _0xca1777[_0x818104(0x1f7)];}catch(_0x2ceeda){return _0xca1777['UJRdx'](debug,_0x818104(0x236)+_0x2ceeda[_0x818104(0x26c)]()),_0xca1777[_0x818104(0x1f7)];}},getCloudProviderFromWsEndpoint=_0x3709ee=>{const _0x2182a3=a60_0x186c4f,_0x56ba62={};_0x56ba62['NrpzD']=_0x2182a3(0x1db),_0x56ba62['UORdQ']=_0x2182a3(0x242);const _0x567ede=_0x56ba62;if(_0x3709ee[_0x2182a3(0x22a)](constants[_0x2182a3(0x274)])||_0x3709ee['includes'](constants['BSTACK_ATS_URL']))return _0x567ede[_0x2182a3(0x261)];return _0x567ede[_0x2182a3(0x1e4)];},a60_0x94b8f6={};a60_0x94b8f6[a60_0x186c4f(0x1d5)]=undefined,a60_0x94b8f6[a60_0x186c4f(0x1ff)]=undefined,a60_0x94b8f6['browser']=undefined,a60_0x94b8f6[a60_0x186c4f(0x1d8)]=undefined,a60_0x94b8f6[a60_0x186c4f(0x221)]=undefined,a60_0x94b8f6[a60_0x186c4f(0x21b)]=undefined,a60_0x94b8f6[a60_0x186c4f(0x286)]=undefined,a60_0x94b8f6[a60_0x186c4f(0x25b)]={};class SharedPlaywrightSessionDetails{static [a60_0x186c4f(0x1ee)]=a60_0x94b8f6;constructor(){const _0x204ffe=a60_0x186c4f,_0x3dc140={};_0x3dc140[_0x204ffe(0x27b)]=_0x204ffe(0x270);const _0x2313ea=_0x3dc140;throw new Error(_0x2313ea[_0x204ffe(0x27b)]);}static [a60_0x186c4f(0x224)]=null;static['setupBrowserDetails'](_0x3ba6d5,_0x3722e3,_0x432490=null){const _0x3258bf=a60_0x186c4f,_0x18c37c={'GeXhM':function(_0x28272c,_0x181462){return _0x28272c===_0x181462;},'gYjqu':_0x3258bf(0x228),'UQxKA':_0x3258bf(0x25a),'CuSDL':function(_0x38a997,_0x29dd93){return _0x38a997===_0x29dd93;},'cBcjs':_0x3258bf(0x1df),'yYZqL':_0x3258bf(0x256),'jNVvl':function(_0x1b6d00,_0x109b15,_0x40eea5){return _0x1b6d00(_0x109b15,_0x40eea5);},'lMNYT':_0x3258bf(0x23b),'mUAkK':'_defaultConnectOptions','LyooS':function(_0x22ff4b,_0x3566e7,_0x1f3375){return _0x22ff4b(_0x3566e7,_0x1f3375);},'VDouO':_0x3258bf(0x215),'aOLRP':_0x3258bf(0x284),'GXIHC':_0x3258bf(0x23d),'RmlJV':function(_0x151915,_0x413477){return _0x151915(_0x413477);},'axTkf':function(_0x3036f1,_0x5ef135){return _0x3036f1===_0x5ef135;},'etkBN':_0x3258bf(0x1db),'KifUm':_0x3258bf(0x1eb),'ZDRjw':_0x3258bf(0x1dd),'WbGGB':'chromium','zbaNM':function(_0x2127c4,_0x3881d9){return _0x2127c4+_0x3881d9;},'bHKTR':_0x3258bf(0x288),'zEkoU':function(_0x436d96){return _0x436d96();},'zSEVv':function(_0x148471,_0x58809d,_0x44e2b2){return _0x148471(_0x58809d,_0x44e2b2);},'OFIoG':'setupBrowserDetails'},_0x12b217=this;return _0x18c37c[_0x3258bf(0x1d7)](o11yErrorHandler,async function _0x4702d5(_0xa72439,_0x3a3f9e,_0xd535ac=null){const _0x1838ff=_0x3258bf;let _0x236ca2=_0xa72439['_name'],_0x9e209=null;_0xa72439&&_0x18c37c[_0x1838ff(0x1fc)](typeof _0xa72439['version'],_0x18c37c['gYjqu'])?_0x9e209=_0xa72439[_0x1838ff(0x240)]():logger['debug'](_0x18c37c[_0x1838ff(0x24a)]);let _0x3df413=null;_0xa72439&&_0x18c37c[_0x1838ff(0x271)](typeof _0xa72439['model'],_0x18c37c['gYjqu'])?_0x3df413=_0xa72439[_0x1838ff(0x287)]():logger[_0x1838ff(0x1d3)](_0x18c37c[_0x1838ff(0x262)]);let _0x102e13=null,_0x2f7613=null,_0x218b6b=null,_0x161c1b=_0x18c37c[_0x1838ff(0x227)];if(_0xa72439[_0x1838ff(0x279)][_0x1838ff(0x21e)]()||global[_0x1838ff(0x203)]){let _0x5083e6=null;_0x18c37c[_0x1838ff(0x1f8)](nestedKeyValue,_0xa72439,[_0x18c37c[_0x1838ff(0x258)],_0x18c37c[_0x1838ff(0x219)]])?_0x5083e6=_0xa72439[_0x1838ff(0x23b)][_0x1838ff(0x289)]:_0x5083e6=_0x18c37c[_0x1838ff(0x234)](nestedKeyValue,_0x3a3f9e,[_0x18c37c[_0x1838ff(0x1f3)],_0x18c37c[_0x1838ff(0x214)],_0x18c37c[_0x1838ff(0x22f)]]);const _0x5a0c42=_0xd535ac||_0x5083e6&&_0x5083e6[_0x1838ff(0x1f9)];if(_0x5a0c42){_0x161c1b=_0x18c37c[_0x1838ff(0x222)](getCloudProviderFromWsEndpoint,_0x5a0c42);if(_0x18c37c[_0x1838ff(0x281)](_0x161c1b,_0x18c37c['etkBN'])){_0x218b6b=constants['ATS_WSS_URL_REGEX']['test'](_0x5a0c42)?_0x18c37c['KifUm']:_0x18c37c[_0x1838ff(0x211)];const _0x4d7963=_0x18c37c[_0x1838ff(0x222)](getBrowserFromWSEndpoint,_0x5a0c42);if(_0x4d7963&&(!_0x236ca2||_0x18c37c[_0x1838ff(0x281)](_0x236ca2,_0x18c37c[_0x1838ff(0x23f)])))_0x236ca2=_0x4d7963,logger[_0x1838ff(0x1d3)](_0x1838ff(0x26e)+_0x236ca2);else _0x236ca2&&logger[_0x1838ff(0x1d3)](_0x1838ff(0x239)+_0x236ca2);_0x102e13=_0x12b217[_0x1838ff(0x1ee)][_0x1838ff(0x221)],_0x2f7613=_0x12b217['currentSessionDetails'][_0x1838ff(0x21b)];}}}else{_0x3a3f9e&&_0x3a3f9e['project']&&_0x3a3f9e[_0x1838ff(0x215)][_0x1838ff(0x284)]&&_0x3a3f9e['project'][_0x1838ff(0x284)][_0x1838ff(0x235)]?_0x236ca2=_0x18c37c[_0x1838ff(0x222)](getBrowserNameFromChannel,_0x3a3f9e[_0x1838ff(0x215)][_0x1838ff(0x284)][_0x1838ff(0x235)]):_0x236ca2=_0x18c37c[_0x1838ff(0x1d1)](_0x18c37c[_0x1838ff(0x1fb)],_0x236ca2[_0x1838ff(0x21c)]());const _0x261a9a=await _0x18c37c[_0x1838ff(0x1f1)](getPlatformDetails);_0x102e13=_0x261a9a[_0x1838ff(0x237)],_0x2f7613=_0x261a9a['platformVersion'];}const _0x319753={};_0x319753[_0x1838ff(0x20b)]=_0x236ca2,_0x319753[_0x1838ff(0x1d8)]=_0x9e209,_0x319753[_0x1838ff(0x25b)]={},_0x319753['platform']=_0x102e13,_0x319753[_0x1838ff(0x21b)]=_0x2f7613,_0x319753[_0x1838ff(0x286)]=_0x218b6b;const _0x4513ee=_0x319753;_0x3df413&&(_0x4513ee[_0x1838ff(0x25b)][_0x1838ff(0x278)]=_0x3df413);const _0xbf2977={};_0xbf2977[_0x1838ff(0x1d5)]=_0x161c1b,_0x12b217[_0x1838ff(0x1ee)]=Object[_0x1838ff(0x1ce)]({},_0x12b217[_0x1838ff(0x1ee)],_0xbf2977,_0x4513ee);const _0x5ac7f0={};_0x5ac7f0['browser']=_0x12b217['currentSessionDetails']['browser'],_0x5ac7f0['browserVersion']=_0x12b217[_0x1838ff(0x1ee)][_0x1838ff(0x1d8)],_0x5ac7f0[_0x1838ff(0x221)]=_0x12b217[_0x1838ff(0x1ee)]['platform'],_0x5ac7f0[_0x1838ff(0x238)]=_0x12b217['currentSessionDetails'][_0x1838ff(0x21b)],_0x5ac7f0[_0x1838ff(0x1d5)]=_0x12b217[_0x1838ff(0x1ee)][_0x1838ff(0x1d5)],_0x5ac7f0['product']=_0x12b217[_0x1838ff(0x1ee)]['product'],logger['debug'](_0x1838ff(0x28b)+JSON['stringify'](_0x5ac7f0));},_0x18c37c[_0x3258bf(0x21d)])(_0x3ba6d5,_0x3722e3,_0x432490);}static[a60_0x186c4f(0x285)](){const _0x416e8c=a60_0x186c4f;this[_0x416e8c(0x260)](),this[_0x416e8c(0x280)]();}static[a60_0x186c4f(0x260)](){const _0x3dcfd9=a60_0x186c4f,_0x424a4f={'igfqs':function(_0x28367e,_0x5d157d){return _0x28367e(_0x5d157d);},'MYfXN':_0x3dcfd9(0x273),'CrOVn':'client','NyFQz':'connection.js','lcBfH':function(_0x4b6d23,_0x3f5287){return _0x4b6d23(_0x3f5287);},'oCFJe':function(_0x3e6975,_0x36f204){return _0x3e6975(_0x36f204);},'EjKIT':'Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','sfdoB':function(_0x10696f,_0x32e007){return _0x10696f!=_0x32e007;},'aSDau':_0x3dcfd9(0x1e9),'YqPAj':'dispatch','heTay':_0x3dcfd9(0x1e2),'QjYrq':function(_0x333fb7,_0x11febb){return _0x333fb7(_0x11febb);}},_0x18a33d=this;if(!this[_0x3dcfd9(0x25d)])try{const _0x57f5eb=[path[_0x3dcfd9(0x210)](_0x424a4f[_0x3dcfd9(0x25c)],_0x424a4f[_0x3dcfd9(0x1dc)],_0x424a4f['NyFQz']),path[_0x3dcfd9(0x210)](_0x424a4f[_0x3dcfd9(0x25c)],_0x424a4f[_0x3dcfd9(0x23e)]),path[_0x3dcfd9(0x210)](_0x424a4f[_0x3dcfd9(0x1dc)],_0x424a4f[_0x3dcfd9(0x23e)])];for(const _0x300dbc of _0x57f5eb){try{const _0xf6b41b=_0x424a4f[_0x3dcfd9(0x24e)](importFileFromPWCore,_0x300dbc);if(_0xf6b41b&&_0xf6b41b[_0x3dcfd9(0x25d)]){this[_0x3dcfd9(0x25d)]=_0xf6b41b[_0x3dcfd9(0x25d)],logger[_0x3dcfd9(0x1d3)](_0x3dcfd9(0x245)+_0x300dbc);break;}}catch(_0x537c92){_0x424a4f[_0x3dcfd9(0x20a)](debug,'Failed\x20to\x20import\x20connection\x20from\x20'+_0x300dbc+':\x20'+_0x537c92['toString']());}}if(!this[_0x3dcfd9(0x25d)]){_0x424a4f[_0x3dcfd9(0x21f)](debug,_0x424a4f[_0x3dcfd9(0x24b)]);return;}}catch(_0x2a0da0){_0x424a4f[_0x3dcfd9(0x20a)](debug,_0x3dcfd9(0x28c)+_0x2a0da0[_0x3dcfd9(0x26c)]());return;}const _0x25a795=this[_0x3dcfd9(0x25d)];try{if(_0x424a4f[_0x3dcfd9(0x205)](_0x25a795,null)){const _0x391ddb=_0x25a795[_0x3dcfd9(0x25e)]['dispatch'];if(!_0x424a4f[_0x3dcfd9(0x21f)](isFalse,process[_0x3dcfd9(0x22b)][_0x3dcfd9(0x202)])){if(_0x25a795['prototype'][_0x3dcfd9(0x272)]){logger['debug'](_0x424a4f[_0x3dcfd9(0x24f)]);return;}Object[_0x3dcfd9(0x1f5)](_0x25a795[_0x3dcfd9(0x25e)],_0x424a4f['YqPAj'],{'get':function(){const _0x38c2dc={'ZTYlE':function(_0xaca447,_0x308f6b){const _0x5d906d=a60_0x2757;return _0x424a4f[_0x5d906d(0x20a)](_0xaca447,_0x308f6b);},'iPhuK':function(_0x9a1395,_0x389b25){const _0xc9e955=a60_0x2757;return _0x424a4f[_0xc9e955(0x20a)](_0x9a1395,_0x389b25);}};return async function _0xf06f93(_0x3c8aed){const _0x49f4c2=a60_0x2757;if(BrowserstackCLI['getInstance']()['isRunning']()){const _0x3bdb7d={};_0x3bdb7d[_0x49f4c2(0x1e6)]=_0x3c8aed,await BrowserstackCLI[_0x49f4c2(0x206)]()[_0x49f4c2(0x1e3)]()[_0x49f4c2(0x1fa)](AutomationFrameworkState[_0x49f4c2(0x255)],HookState[_0x49f4c2(0x1ec)],_0x3bdb7d);}else{const _0x555840=_0x3c8aed&&_0x3c8aed[_0x49f4c2(0x282)]&&_0x3c8aed[_0x49f4c2(0x282)][_0x49f4c2(0x1d9)];if(_0x555840){const _0x24a1a3=_0x555840[_0x49f4c2(0x26f)],_0x11afb2=_0x555840[_0x49f4c2(0x27d)];_0x11afb2&&(_0x38c2dc[_0x49f4c2(0x283)](debug,'Setting\x20platform\x20details\x20received\x20from\x20BS:\x20'+_0x11afb2['toString']()),_0x18a33d[_0x49f4c2(0x1ee)][_0x49f4c2(0x221)]=_0x11afb2[_0x49f4c2(0x237)],_0x18a33d[_0x49f4c2(0x1ee)][_0x49f4c2(0x21b)]=_0x11afb2[_0x49f4c2(0x238)]),_0x24a1a3&&(_0x38c2dc[_0x49f4c2(0x1e5)](debug,_0x49f4c2(0x22d)+_0x24a1a3),_0x18a33d[_0x49f4c2(0x1ee)]['bsSessionId']=_0x24a1a3);}}return _0x391ddb[_0x49f4c2(0x27a)](this,arguments);};}}),_0x25a795['prototype'][_0x3dcfd9(0x272)]=!![],logger[_0x3dcfd9(0x1d3)](_0x424a4f['heTay']);}}}catch(_0x2c9b83){_0x424a4f[_0x3dcfd9(0x26b)](debug,_0x3dcfd9(0x243)+_0x2c9b83),_0x18a33d[_0x3dcfd9(0x224)]=_0x2c9b83[_0x3dcfd9(0x26c)]();}}static['patchCRConnection'](){const _0x8b27f0=a60_0x186c4f,_0x2261c8={'HjHOL':function(_0x579cb9,_0x27cbdb){return _0x579cb9(_0x27cbdb);},'Kwvlf':function(_0x3610b8,_0x58cbb5){return _0x3610b8(_0x58cbb5);},'dcBqR':_0x8b27f0(0x273),'EnrWK':_0x8b27f0(0x251),'vbCFZ':_0x8b27f0(0x226),'IshzH':'crConnection.js','xKUMd':function(_0x4ba0c2,_0x35e64f){return _0x4ba0c2(_0x35e64f);},'RQUer':_0x8b27f0(0x244),'EskwZ':function(_0x18e3ba,_0x129f93){return _0x18e3ba(_0x129f93);},'HgcQJ':_0x8b27f0(0x1d0),'IPTEI':function(_0x4b9204,_0x2b8130){return _0x4b9204!=_0x2b8130;},'NZyEr':'CRConnection\x20already\x20patched','QhdwS':_0x8b27f0(0x28d),'FihfI':_0x8b27f0(0x257),'JwrTA':function(_0x13a1f0,_0xb1bccf){return _0x13a1f0(_0xb1bccf);}},_0x2b67b1=this;let _0xf58ab1=null;try{const _0x2718f9=path['join'](_0x2261c8['dcBqR'],_0x2261c8[_0x8b27f0(0x20d)],_0x2261c8[_0x8b27f0(0x233)],_0x2261c8['IshzH']),_0x387a1e=_0x2261c8['xKUMd'](importFileFromPWCore,_0x2718f9);!_0x387a1e?_0x2261c8['xKUMd'](debug,_0x2261c8['RQUer']):_0xf58ab1=_0x387a1e[_0x8b27f0(0x23a)];}catch(_0x42f291){_0x2261c8['EskwZ'](debug,_0x2261c8[_0x8b27f0(0x253)]);}try{if(_0x2261c8[_0x8b27f0(0x26d)](_0xf58ab1,null)){const _0x8bdb0f=_0xf58ab1['prototype']['_onMessage'];if(_0xf58ab1[_0x8b27f0(0x25e)][_0x8b27f0(0x267)]){logger[_0x8b27f0(0x1d3)](_0x2261c8[_0x8b27f0(0x269)]);return;}Object[_0x8b27f0(0x1f5)](_0xf58ab1['prototype'],_0x2261c8[_0x8b27f0(0x217)],{'get':function(){const _0x29b2f3={'pcqll':function(_0x13314a,_0x2387f3){const _0x5cf4fc=a60_0x2757;return _0x2261c8[_0x5cf4fc(0x1ea)](_0x13314a,_0x2387f3);},'UifVo':function(_0x75519e,_0x4d7dfd){return _0x2261c8['Kwvlf'](_0x75519e,_0x4d7dfd);}};return async function _0x278825(_0x1d5a38){const _0x386acb=a60_0x2757;try{if(BrowserstackCLI[_0x386acb(0x206)]()[_0x386acb(0x27c)]()){const _0x2a48cb={};_0x2a48cb[_0x386acb(0x1e6)]=_0x1d5a38,await BrowserstackCLI[_0x386acb(0x206)]()[_0x386acb(0x1e3)]()[_0x386acb(0x1fa)](AutomationFrameworkState[_0x386acb(0x255)],HookState[_0x386acb(0x1ec)],_0x2a48cb),delete _0x1d5a38[_0x386acb(0x204)];}else{const _0x3f2f58=_0x1d5a38[_0x386acb(0x204)];if(_0x3f2f58){delete _0x1d5a38[_0x386acb(0x204)];const _0x129186=_0x3f2f58[_0x386acb(0x26f)],_0x51abd8=_0x3f2f58[_0x386acb(0x27d)];_0x51abd8&&(_0x29b2f3[_0x386acb(0x247)](debug,_0x386acb(0x1cf)+_0x51abd8['toString']()),_0x2b67b1[_0x386acb(0x1ee)][_0x386acb(0x221)]=_0x51abd8['platformName'],_0x2b67b1[_0x386acb(0x1ee)][_0x386acb(0x21b)]=_0x51abd8['platformVersion']),_0x129186&&(_0x29b2f3[_0x386acb(0x247)](debug,_0x386acb(0x208)+_0x129186),_0x2b67b1[_0x386acb(0x1ee)][_0x386acb(0x1ff)]=_0x129186);}}}catch(_0x264799){_0x29b2f3[_0x386acb(0x263)](debug,_0x386acb(0x21a)+_0x264799[_0x386acb(0x26c)]());}return _0x8bdb0f['apply'](this,arguments);};}}),_0xf58ab1[_0x8b27f0(0x25e)]['_bstackCRPatched']=!![],logger[_0x8b27f0(0x1d3)](_0x2261c8[_0x8b27f0(0x265)]);}}catch(_0x25c601){_0x2261c8[_0x8b27f0(0x213)](debug,_0x8b27f0(0x1f4)+_0x25c601),_0x2b67b1['sessionError']=_0x25c601[_0x8b27f0(0x26c)]();}}static['extractBrowserStackParams'](_0x2f5d97,_0x1c2566){const _0x53dc3c=a60_0x186c4f,_0x998c79={'dXEge':_0x53dc3c(0x218),'WHJlQ':function(_0x156b39,_0x26e227){return _0x156b39||_0x26e227;},'RtudP':function(_0x4a068a,_0x5a95f1){return _0x4a068a===_0x5a95f1;},'OufPv':'string','ADvmz':_0x53dc3c(0x25f),'WzepP':function(_0x163932,_0xa09dd5){return _0x163932(_0xa09dd5);},'zVVJP':function(_0x584445,_0xc9e027){return _0x584445(_0xc9e027);},'tVQuo':function(_0x249690,_0x5d739a){return _0x249690(_0x5d739a);}};let _0x54630b=null,_0x1e0c57=null;try{const _0x2f2bdd=[_0x1c2566,global[_0x53dc3c(0x1d6)],global[_0x53dc3c(0x1e7)]];for(const _0x5aa736 of _0x2f2bdd){if(_0x5aa736&&(!_0x1e0c57||!_0x1e0c57[_0x53dc3c(0x26f)])){const _0x4e6321=_0x5aa736[_0x53dc3c(0x26f)]||_0x5aa736[_0x998c79[_0x53dc3c(0x20e)]]?.[_0x53dc3c(0x26f)],_0x2de339=_0x5aa736[_0x53dc3c(0x1ef)]||_0x5aa736[_0x53dc3c(0x20b)]||_0x5aa736[_0x998c79[_0x53dc3c(0x20e)]]?.[_0x53dc3c(0x1ef)],_0x1b855f=_0x5aa736['browserVersion']||_0x5aa736[_0x53dc3c(0x1d8)]||_0x5aa736[_0x998c79['dXEge']]?.[_0x53dc3c(0x201)],_0x4ff5ed=_0x5aa736['os']||_0x5aa736['platform']||_0x5aa736[_0x998c79[_0x53dc3c(0x20e)]]?.['os'],_0xaffc2c=_0x5aa736[_0x53dc3c(0x241)]||_0x5aa736['os_version']||_0x5aa736[_0x998c79[_0x53dc3c(0x20e)]]?.[_0x53dc3c(0x241)];if(_0x998c79[_0x53dc3c(0x254)](_0x4e6321,_0x2de339)||_0x4ff5ed){const _0x4e3b29={};_0x4e3b29[_0x53dc3c(0x1ef)]=_0x2de339,_0x4e3b29[_0x53dc3c(0x201)]=_0x1b855f,_0x4e3b29['os']=_0x4ff5ed,_0x4e3b29['osVersion']=_0xaffc2c,_0x4e3b29[_0x53dc3c(0x237)]=_0x5aa736[_0x53dc3c(0x237)]||_0x4ff5ed,_0x4e3b29[_0x53dc3c(0x238)]=_0x5aa736[_0x53dc3c(0x238)]||_0xaffc2c;const _0x169f93={};_0x169f93[_0x53dc3c(0x26f)]=_0x4e6321,_0x169f93[_0x53dc3c(0x27d)]=_0x4e3b29,_0x1e0c57=_0x169f93;if(_0x998c79[_0x53dc3c(0x254)](_0x4e6321,_0x2de339)){logger[_0x53dc3c(0x1d3)](_0x53dc3c(0x1fd)+_0x2de339+',\x20os='+_0x4ff5ed);break;}}}}if(_0x2f5d97&&_0x998c79['RtudP'](typeof _0x2f5d97,_0x998c79[_0x53dc3c(0x1cd)]))try{const _0x506a49=url[_0x53dc3c(0x223)](_0x2f5d97),_0x7e0d04=new URLSearchParams(_0x506a49[_0x53dc3c(0x20f)]),_0x5da438=Object[_0x53dc3c(0x277)](_0x7e0d04[_0x53dc3c(0x1c9)]()),_0x45e790=[_0x5da438['caps'],_0x5da438[_0x53dc3c(0x25b)],_0x5da438['desiredCapabilities']];for(const _0x118752 of _0x45e790){if(_0x118752&&(!_0x54630b||!_0x54630b[_0x53dc3c(0x26f)]))try{const _0x278ad7=JSON[_0x53dc3c(0x223)](_0x118752),_0x590e8c={};_0x590e8c['sessionId']=_0x278ad7[_0x53dc3c(0x26f)]||_0x278ad7[_0x998c79[_0x53dc3c(0x20e)]]?.[_0x53dc3c(0x26f)],_0x590e8c[_0x53dc3c(0x27d)]={},_0x590e8c[_0x53dc3c(0x27d)][_0x53dc3c(0x1ef)]=_0x278ad7[_0x53dc3c(0x1ef)]||_0x278ad7[_0x53dc3c(0x20b)],_0x590e8c[_0x53dc3c(0x27d)][_0x53dc3c(0x201)]=_0x278ad7[_0x53dc3c(0x201)]||_0x278ad7[_0x53dc3c(0x1d8)],_0x590e8c[_0x53dc3c(0x27d)]['os']=_0x278ad7['os']||_0x278ad7[_0x53dc3c(0x221)],_0x590e8c[_0x53dc3c(0x27d)]['osVersion']=_0x278ad7['osVersion']||_0x278ad7[_0x53dc3c(0x252)],_0x590e8c[_0x53dc3c(0x27d)][_0x53dc3c(0x237)]=_0x278ad7['platformName']||_0x278ad7['os']||_0x278ad7[_0x53dc3c(0x221)],_0x590e8c[_0x53dc3c(0x27d)][_0x53dc3c(0x238)]=_0x278ad7[_0x53dc3c(0x238)]||_0x278ad7[_0x53dc3c(0x241)]||_0x278ad7['os_version'],_0x54630b=_0x590e8c;if(_0x54630b[_0x53dc3c(0x26f)]||_0x54630b[_0x53dc3c(0x27d)][_0x53dc3c(0x1ef)]){logger[_0x53dc3c(0x1d3)](_0x998c79['ADvmz']);break;}}catch(_0x2587a6){_0x998c79[_0x53dc3c(0x24d)](debug,_0x53dc3c(0x249)+_0x2587a6[_0x53dc3c(0x26c)]());}}}catch(_0x2f72aa){_0x998c79[_0x53dc3c(0x1cb)](debug,'Error\x20parsing\x20WebSocket\x20endpoint:\x20'+_0x2f72aa['toString']());}}catch(_0xd36aa6){_0x998c79[_0x53dc3c(0x207)](debug,_0x53dc3c(0x1d4)+util[_0x53dc3c(0x232)](_0xd36aa6));}const _0x5ea5cb={};return _0x5ea5cb[_0x53dc3c(0x1d9)]=_0x54630b,_0x5ea5cb[_0x53dc3c(0x204)]=_0x1e0c57,_0x5ea5cb;}static async[a60_0x186c4f(0x230)](_0x6ab7c,_0x20e4f2){const _0x1c3faa=a60_0x186c4f,_0x361ebc={'BUzHc':function(_0x1c6496,_0x44da56){return _0x1c6496||_0x44da56;},'DoFTw':_0x1c3faa(0x220),'EonQE':function(_0x2c93a3,_0xcbcd06){return _0x2c93a3(_0xcbcd06);}};try{if(!BrowserstackCLI['getInstance']()[_0x1c3faa(0x27c)]())return;if(_0x361ebc[_0x1c3faa(0x1e0)](_0x6ab7c,_0x20e4f2)){logger[_0x1c3faa(0x1d3)](_0x361ebc['DoFTw']);const _0x267987={'params':_0x6ab7c?{'bsParams':_0x6ab7c}:null,'bStackParams':_0x361ebc[_0x1c3faa(0x1e0)](_0x20e4f2,null)},_0x1f9a05=AutomationFramework['getTrackedInstance'](),_0x24ffdf={};_0x24ffdf[_0x1c3faa(0x1e6)]=_0x267987,_0x24ffdf[_0x1c3faa(0x250)]=_0x1f9a05,await BrowserstackCLI['getInstance']()['getAutomationFramework']()[_0x1c3faa(0x1fa)](AutomationFrameworkState[_0x1c3faa(0x255)],HookState['POST'],_0x24ffdf);}}catch(_0x58134f){_0x361ebc[_0x1c3faa(0x264)](debug,_0x1c3faa(0x24c)+util['format'](_0x58134f));}}static[a60_0x186c4f(0x1de)](){const _0x486fd2=a60_0x186c4f;return this[_0x486fd2(0x1ee)];}}module[a60_0x186c4f(0x20c)]=SharedPlaywrightSessionDetails;