const a60_0x300325=a60_0x4350;function a60_0x506f(){const _0x2c8760=['msedge','chromium','accessibilityPlatform','edge','CRConnection\x20already\x20patched','XgXnq','cloudProvider','playwright-','debug','message','qzpWB','browserstack','GrCki','Connection','fQbuX','sessionId','browserstack_capabilities','exports','stringify','../v2/state/automationFrameworkState.js','POST','Dqxtn','eGpfa','gecko','version','PgMJL','KIOIf','osVersion','isRemote','client','SLZOs','Error\x20in\x20applying\x20Connection\x20patch\x20','util','sessionError','fromEntries','capabilties','patchCRConnection','20778795BfnsVR','../v2/browserstackCLI','firefox','trackEvent','browser','automate','platform','zxXrF','rHOFL','oZJWT','../v2/state/hookState.js','htmFv','PfHsS','_bstackDispatchPatched','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','MrEyH','includes','platformName','OcFAf','CRConnection','JSefR','MKiPi','../../helpers/test-observability/error-handler','capabilities',',\x20os=','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','gTZXB','format','dUtIT','_defaultConnectOptions','currentSessionDetails','platformDetails','winstonLogger','lsHbS','platformVersion','VDSWW','local_grid','gzfBK','CkYgB','Session\x20details\x20setup\x20complete:\x20','setupBrowserDetails','Connection\x20dispatch\x20already\x20patched','query','_browserType','defineProperty','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','eQzLp','sdCFA','../../helpers/test-observability/utils','dispatch','8811656OQMZQx','use','EscWo','safari','_name','tCXOs','EjwFb','BSTACK_URL','toString','324925lrBzxa','string','Qatte','LOtaI','acSiQ','join','function','lib','829563XheKAS','UAJMi','project','params','connectOptions','ZyUxl','rKplS','model','parse','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','MtwvC','../v2/framework/automationFramework','patchConnection','RQMAI','isRunning','desiredCapabilities','browser_version','EqOAs','bStackParams','QHPtk','NiabW','hOrLL','krYDl','QKYgy','webkit','__platformCaps','LECXo','DmuOD','FfQvw','BROWSERSTACK_TEST_OBSERVABILITY','EXdfj','assign','grzWN','Setting\x20session\x20id\x20received\x20from\x20BS\x20','Successfully\x20patched\x20CRConnection._onMessage','toLowerCase','getAutomationFramework','agqEU','322ziDTDS','DTmzf','browserName','prototype','caps','PLAYWRIGHT_DISPATCH','Successfully\x20patched\x20Connection.dispatch','Found\x20Connection\x20class\x20at:\x20','RFCLP','chrome','entries','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','_onMessage','channel','getTrackedInstance','855180uvSFyy','browserVersion','TNawp','Error\x20parsing\x20WebSocket\x20endpoint:\x20','../../helpers/helper','hyJwy','_bstackCRPatched','bstack:options','pbuiD','url','crConnection.js','UmAJf','qaMzi','IMsWr','getInstance','ykhDA','kjiKX','ORdCV','Error\x20in\x20importing\x20crConnection','patch','ebWeO','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','./constants','Error\x20extracting\x20BrowserStack\x20parameters:\x20','36zsVuIU','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','ceAvW','oTaIv','90546uOTePG','tGJIf','bsSessionId','bsParams','Not\x20able\x20to\x20import\x20crConnection','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','fLBEm','JdVRe','platform_version','../../helpers/logger','os_version','XBlzK','1698975CAbOQg','wsEndpoint','product','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20'];a60_0x506f=function(){return _0x2c8760;};return a60_0x506f();}(function(_0x1e8d11,_0x53e6b6){const _0x7f3f42=a60_0x4350,_0x192d5c=_0x1e8d11();while(!![]){try{const _0x53e887=parseInt(_0x7f3f42(0x1dd))/0x1+parseInt(_0x7f3f42(0x212))/0x2+-parseInt(_0x7f3f42(0x23a))/0x3+parseInt(_0x7f3f42(0x22a))/0x4*(-parseInt(_0x7f3f42(0x1d5))/0x5)+parseInt(_0x7f3f42(0x22e))/0x6*(-parseInt(_0x7f3f42(0x203))/0x7)+-parseInt(_0x7f3f42(0x1cc))/0x8+parseInt(_0x7f3f42(0x199))/0x9;if(_0x53e887===_0x53e6b6)break;else _0x192d5c['push'](_0x192d5c['shift']());}catch(_0x28ba57){_0x192d5c['push'](_0x192d5c['shift']());}}}(a60_0x506f,0x97243));const path=require('path'),url=require(a60_0x300325(0x21b)),util=require(a60_0x300325(0x194)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x300325(0x216)),{o11yErrorHandler}=require(a60_0x300325(0x1b0)),{debug,getPlatformDetails}=require(a60_0x300325(0x1ca)),logger=require(a60_0x300325(0x237))[a60_0x300325(0x1ba)],constants=require(a60_0x300325(0x228)),AutomationFramework=require(a60_0x300325(0x1e8)),BrowserstackCLI=require(a60_0x300325(0x19a)),AutomationFrameworkState=require(a60_0x300325(0x187)),HookState=require(a60_0x300325(0x1a3)),{platform}=require('os'),getBrowserNameFromChannel=_0x16565e=>{const _0x12e174=a60_0x300325,_0x9f6b1={};_0x9f6b1['UAJMi']=_0x12e174(0x20c),_0x9f6b1[_0x12e174(0x217)]=_0x12e174(0x241),_0x9f6b1['EBcBB']=_0x12e174(0x19b),_0x9f6b1[_0x12e174(0x1d8)]='safari';const _0x2f75c6=_0x9f6b1;if(_0x16565e['includes'](_0x2f75c6['UAJMi']))return _0x2f75c6[_0x12e174(0x1de)];if(_0x16565e[_0x12e174(0x1aa)](_0x2f75c6[_0x12e174(0x217)]))return _0x2f75c6['hyJwy'];if(_0x16565e['includes'](_0x2f75c6['EBcBB']))return _0x2f75c6['EBcBB'];if(_0x16565e['includes'](_0x2f75c6['LOtaI']))return _0x2f75c6['LOtaI'];},getBrowserFromWSEndpoint=_0xd201ad=>{const _0x203705=a60_0x300325,_0x1d429c={'nZdSH':_0x203705(0x219),'KIOIf':function(_0x3a15e3,_0x27d3d4){return _0x3a15e3(_0x27d3d4);},'eQzLp':function(_0x3a94f3,_0xaec6dc){return _0x3a94f3(_0xaec6dc);},'QHPtk':_0x203705(0x241),'Dqxtn':_0x203705(0x23e),'tGJIf':_0x203705(0x19b),'GYmRG':_0x203705(0x18b),'RQMAI':_0x203705(0x1cf),'EqOAs':_0x203705(0x1f5),'MrEyH':_0x203705(0x20c)};try{const _0x4cbeda=url['parse'](_0xd201ad),_0x107f71=new URLSearchParams(_0x4cbeda[_0x203705(0x1c4)]),_0x2c5681=Object['fromEntries'](_0x107f71[_0x203705(0x20d)]()),_0x14a356=[_0x2c5681[_0x203705(0x207)],_0x2c5681[_0x203705(0x1b1)],_0x2c5681[_0x203705(0x1ec)],_0x2c5681[_0x203705(0x184)]];for(const _0x46ca50 of _0x14a356){if(_0x46ca50)try{const _0x4ddb99=JSON[_0x203705(0x1e5)](_0x46ca50),_0x19ef21=_0x4ddb99['browserName']||_0x4ddb99[_0x203705(0x19d)]||_0x4ddb99[_0x1d429c['nZdSH']]?.[_0x203705(0x205)];if(_0x19ef21)return _0x1d429c[_0x203705(0x18e)](debug,'Browser\x20found\x20in\x20WebSocket\x20caps:\x20'+_0x19ef21),_0x19ef21[_0x203705(0x200)]();}catch(_0x4e8059){_0x1d429c[_0x203705(0x1c8)](debug,_0x203705(0x1e6)+_0x4e8059[_0x203705(0x247)]);}}if(_0xd201ad[_0x203705(0x1aa)](_0x1d429c[_0x203705(0x1f0)])||_0xd201ad['includes'](_0x1d429c[_0x203705(0x189)]))return _0x1d429c[_0x203705(0x1f0)];if(_0xd201ad['includes'](_0x1d429c['tGJIf'])||_0xd201ad[_0x203705(0x1aa)](_0x1d429c['GYmRG']))return _0x1d429c[_0x203705(0x22f)];if(_0xd201ad[_0x203705(0x1aa)](_0x1d429c[_0x203705(0x1ea)])||_0xd201ad['includes'](_0x1d429c[_0x203705(0x1ee)]))return _0x1d429c[_0x203705(0x1ea)];return _0x1d429c[_0x203705(0x1a9)];}catch(_0x4da4be){return _0x1d429c[_0x203705(0x1c8)](debug,_0x203705(0x1a7)+_0x4da4be[_0x203705(0x1d4)]()),_0x1d429c[_0x203705(0x1a9)];}},getCloudProviderFromWsEndpoint=_0x5b197c=>{const _0x24a1df=a60_0x300325,_0xdfb335={};_0xdfb335[_0x24a1df(0x222)]='browserstack',_0xdfb335[_0x24a1df(0x20b)]='unknown_grid';const _0x310783=_0xdfb335;if(_0x5b197c[_0x24a1df(0x1aa)](constants[_0x24a1df(0x1d3)])||_0x5b197c[_0x24a1df(0x1aa)](constants['BSTACK_ATS_URL']))return _0x310783[_0x24a1df(0x222)];return _0x310783['RFCLP'];},a60_0x4c19d8={};a60_0x4c19d8[a60_0x300325(0x244)]=undefined,a60_0x4c19d8[a60_0x300325(0x230)]=undefined,a60_0x4c19d8[a60_0x300325(0x19d)]=undefined,a60_0x4c19d8[a60_0x300325(0x1ed)]=undefined,a60_0x4c19d8[a60_0x300325(0x19f)]=undefined,a60_0x4c19d8[a60_0x300325(0x236)]=undefined,a60_0x4c19d8['product']=undefined,a60_0x4c19d8[a60_0x300325(0x1b1)]={};function a60_0x4350(_0x331d56,_0x747209){const _0x506f6a=a60_0x506f();return a60_0x4350=function(_0x435030,_0x3b08b1){_0x435030=_0x435030-0x181;let _0x133ea9=_0x506f6a[_0x435030];return _0x133ea9;},a60_0x4350(_0x331d56,_0x747209);}class SharedPlaywrightSessionDetails{static [a60_0x300325(0x1b8)]=a60_0x4c19d8;constructor(){const _0x126613=a60_0x300325,_0x2cd55d={};_0x2cd55d[_0x126613(0x1a5)]=_0x126613(0x22b);const _0x4e5f29=_0x2cd55d;throw new Error(_0x4e5f29[_0x126613(0x1a5)]);}static [a60_0x300325(0x195)]=null;static[a60_0x300325(0x1c2)](_0x4513ee,_0x2c942b,_0x20e59d=null){const _0x156d57=a60_0x300325,_0x532420={'FfQvw':function(_0x31879d,_0xf53a61){return _0x31879d===_0xf53a61;},'rHOFL':_0x156d57(0x1db),'krYDl':'Browser\x20is\x20not\x20defined\x20or\x20not\x20available','VDSWW':function(_0x12d6ea,_0x4cae03){return _0x12d6ea===_0x4cae03;},'UmAJf':'Device\x20Model\x20is\x20not\x20available','XBlzK':_0x156d57(0x1be),'rKplS':function(_0x23aa08,_0x37adfc,_0x2dfe54){return _0x23aa08(_0x37adfc,_0x2dfe54);},'WyGMa':_0x156d57(0x1c5),'PgMJL':_0x156d57(0x1b7),'oTaIv':_0x156d57(0x1df),'LECXo':'use','BSGdv':_0x156d57(0x1e1),'OcFAf':function(_0x270f0a,_0x3c5b26){return _0x270f0a(_0x3c5b26);},'gzfBK':function(_0x5e20a7,_0x29b32a){return _0x5e20a7===_0x29b32a;},'zxXrF':_0x156d57(0x249),'KNZDY':'turboscale','Qatte':_0x156d57(0x19e),'agqEU':function(_0x2a797c,_0x38cbd6){return _0x2a797c(_0x38cbd6);},'vUfOl':_0x156d57(0x23f),'pbuiD':function(_0x1642d0,_0x6e40cc){return _0x1642d0(_0x6e40cc);},'MtwvC':function(_0x2b6446,_0x3f27d6){return _0x2b6446+_0x3f27d6;},'CkYgB':_0x156d57(0x245),'dUtIT':function(_0x4a39f5){return _0x4a39f5();},'bKDuq':function(_0x3f22ff,_0x188628,_0x398fbe){return _0x3f22ff(_0x188628,_0x398fbe);},'DmuOD':_0x156d57(0x1c2)},_0x379f31=this;return _0x532420['bKDuq'](o11yErrorHandler,async function _0x5db54f(_0x581a97,_0x5e4711,_0x30e343=null){const _0x5a9345=_0x156d57;let _0x433754=_0x581a97[_0x5a9345(0x1d0)],_0x2d37db=null;_0x581a97&&_0x532420[_0x5a9345(0x1f9)](typeof _0x581a97[_0x5a9345(0x18c)],_0x532420[_0x5a9345(0x1a1)])?_0x2d37db=_0x581a97[_0x5a9345(0x18c)]():logger[_0x5a9345(0x246)](_0x532420[_0x5a9345(0x1f3)]);let _0x247cc4=null;_0x581a97&&_0x532420[_0x5a9345(0x1bd)](typeof _0x581a97[_0x5a9345(0x1e4)],_0x532420[_0x5a9345(0x1a1)])?_0x247cc4=_0x581a97['model']():logger[_0x5a9345(0x246)](_0x532420[_0x5a9345(0x21d)]);let _0x174012=null,_0x4d2b55=null,_0x16c5bd=null,_0x561c4d=_0x532420[_0x5a9345(0x239)];if(_0x581a97['_connection'][_0x5a9345(0x190)]()||global[_0x5a9345(0x240)]){let _0x1f9f41=null;_0x532420[_0x5a9345(0x1e3)](nestedKeyValue,_0x581a97,[_0x532420['WyGMa'],_0x532420[_0x5a9345(0x18d)]])?_0x1f9f41=_0x581a97[_0x5a9345(0x1c5)][_0x5a9345(0x1b7)]:_0x1f9f41=_0x532420[_0x5a9345(0x1e3)](nestedKeyValue,_0x5e4711,[_0x532420[_0x5a9345(0x22d)],_0x532420[_0x5a9345(0x1f7)],_0x532420['BSGdv']]);const _0x21a932=_0x30e343||_0x1f9f41&&_0x1f9f41[_0x5a9345(0x23b)];if(_0x21a932){_0x561c4d=_0x532420[_0x5a9345(0x1ac)](getCloudProviderFromWsEndpoint,_0x21a932);if(_0x532420[_0x5a9345(0x1bf)](_0x561c4d,_0x532420[_0x5a9345(0x1a0)])){_0x16c5bd=constants['ATS_WSS_URL_REGEX']['test'](_0x21a932)?_0x532420['KNZDY']:_0x532420[_0x5a9345(0x1d7)];const _0x4e591d=_0x532420[_0x5a9345(0x202)](getBrowserFromWSEndpoint,_0x21a932);if(_0x4e591d&&(!_0x433754||_0x532420[_0x5a9345(0x1f9)](_0x433754,_0x532420['vUfOl'])))_0x433754=_0x4e591d,logger[_0x5a9345(0x246)](_0x5a9345(0x23d)+_0x433754);else _0x433754&&logger[_0x5a9345(0x246)]('Using\x20browser\x20name\x20from\x20browser\x20object:\x20'+_0x433754);_0x174012=_0x379f31[_0x5a9345(0x1b8)][_0x5a9345(0x19f)],_0x4d2b55=_0x379f31[_0x5a9345(0x1b8)][_0x5a9345(0x236)];}}}else{_0x5e4711&&_0x5e4711['project']&&_0x5e4711['project']['use']&&_0x5e4711[_0x5a9345(0x1df)][_0x5a9345(0x1cd)][_0x5a9345(0x210)]?_0x433754=_0x532420[_0x5a9345(0x21a)](getBrowserNameFromChannel,_0x5e4711[_0x5a9345(0x1df)][_0x5a9345(0x1cd)][_0x5a9345(0x210)]):_0x433754=_0x532420[_0x5a9345(0x1e7)](_0x532420[_0x5a9345(0x1c0)],_0x433754[_0x5a9345(0x200)]());const _0x187960=await _0x532420[_0x5a9345(0x1b6)](getPlatformDetails);_0x174012=_0x187960[_0x5a9345(0x1ab)],_0x4d2b55=_0x187960['platformVersion'];}const _0xcf69c4={};_0xcf69c4['browser']=_0x433754,_0xcf69c4[_0x5a9345(0x1ed)]=_0x2d37db,_0xcf69c4[_0x5a9345(0x1b1)]={},_0xcf69c4[_0x5a9345(0x19f)]=_0x174012,_0xcf69c4[_0x5a9345(0x236)]=_0x4d2b55,_0xcf69c4[_0x5a9345(0x23c)]=_0x16c5bd;const _0x1e3eec=_0xcf69c4;_0x247cc4&&(_0x1e3eec[_0x5a9345(0x1b1)]['deviceModel']=_0x247cc4);const _0x10118d={};_0x10118d['cloudProvider']=_0x561c4d,_0x379f31[_0x5a9345(0x1b8)]=Object[_0x5a9345(0x1fc)]({},_0x379f31[_0x5a9345(0x1b8)],_0x10118d,_0x1e3eec);const _0xd8d489={};_0xd8d489[_0x5a9345(0x19d)]=_0x379f31[_0x5a9345(0x1b8)][_0x5a9345(0x19d)],_0xd8d489[_0x5a9345(0x213)]=_0x379f31[_0x5a9345(0x1b8)]['browser_version'],_0xd8d489[_0x5a9345(0x19f)]=_0x379f31[_0x5a9345(0x1b8)]['platform'],_0xd8d489['platformVersion']=_0x379f31['currentSessionDetails']['platform_version'],_0xd8d489[_0x5a9345(0x244)]=_0x379f31['currentSessionDetails'][_0x5a9345(0x244)],_0xd8d489[_0x5a9345(0x23c)]=_0x379f31['currentSessionDetails'][_0x5a9345(0x23c)],logger[_0x5a9345(0x246)](_0x5a9345(0x1c1)+JSON[_0x5a9345(0x186)](_0xd8d489));},_0x532420[_0x156d57(0x1f8)])(_0x4513ee,_0x2c942b,_0x20e59d);}static[a60_0x300325(0x225)](){const _0x24df79=a60_0x300325;this[_0x24df79(0x1e9)](),this[_0x24df79(0x198)]();}static[a60_0x300325(0x1e9)](){const _0x2fda61=a60_0x300325,_0x3ab014={'grzWN':function(_0x4d2972,_0x545f05){return _0x4d2972(_0x545f05);},'DJMve':function(_0x463c79,_0xad56f5){return _0x463c79(_0xad56f5);},'fQbuX':'lib','lsHbS':_0x2fda61(0x191),'XgXnq':'connection.js','EXdfj':function(_0x168e17,_0x58a72c){return _0x168e17(_0x58a72c);},'NiabW':function(_0x3510b5,_0x1ffcd7){return _0x3510b5(_0x1ffcd7);},'ORdCV':function(_0x5c85a3,_0x5c4f0f){return _0x5c85a3(_0x5c4f0f);},'oZJWT':_0x2fda61(0x1b3),'Yuoqb':function(_0x29ccb1,_0x5c69b5){return _0x29ccb1!=_0x5c69b5;},'tZdNN':function(_0x2e30dc,_0x296676){return _0x2e30dc(_0x296676);},'ebWeO':_0x2fda61(0x1c3),'oVohQ':'dispatch','eGpfa':_0x2fda61(0x209),'TjSwL':function(_0xe927d1,_0x1fcf8a){return _0xe927d1(_0x1fcf8a);}},_0x58a56f=this;if(!this[_0x2fda61(0x181)])try{const _0x4b1807=[path[_0x2fda61(0x1da)](_0x3ab014[_0x2fda61(0x182)],_0x3ab014[_0x2fda61(0x1bb)],_0x3ab014[_0x2fda61(0x243)]),path[_0x2fda61(0x1da)](_0x3ab014['fQbuX'],_0x3ab014['XgXnq']),path[_0x2fda61(0x1da)](_0x3ab014[_0x2fda61(0x1bb)],_0x3ab014[_0x2fda61(0x243)])];for(const _0x5100d0 of _0x4b1807){try{const _0x5af774=_0x3ab014['EXdfj'](importFileFromPWCore,_0x5100d0);if(_0x5af774&&_0x5af774[_0x2fda61(0x181)]){this[_0x2fda61(0x181)]=_0x5af774['Connection'],logger[_0x2fda61(0x246)](_0x2fda61(0x20a)+_0x5100d0);break;}}catch(_0x441bf8){_0x3ab014[_0x2fda61(0x1f1)](debug,'Failed\x20to\x20import\x20connection\x20from\x20'+_0x5100d0+':\x20'+_0x441bf8['toString']());}}if(!this['Connection']){_0x3ab014[_0x2fda61(0x223)](debug,_0x3ab014[_0x2fda61(0x1a2)]);return;}}catch(_0x3d9c27){_0x3ab014[_0x2fda61(0x1fb)](debug,'Error\x20in\x20importing\x20connection\x20'+_0x3d9c27['toString']());return;}const _0x2bb9f0=this[_0x2fda61(0x181)];try{if(_0x3ab014['Yuoqb'](_0x2bb9f0,null)){const _0x5343f1=_0x2bb9f0[_0x2fda61(0x206)][_0x2fda61(0x1cb)];if(!_0x3ab014['tZdNN'](isFalse,process['env'][_0x2fda61(0x1fa)])){if(_0x2bb9f0['prototype'][_0x2fda61(0x1a6)]){logger[_0x2fda61(0x246)](_0x3ab014[_0x2fda61(0x226)]);return;}Object['defineProperty'](_0x2bb9f0['prototype'],_0x3ab014['oVohQ'],{'get':function(){return async function _0x6496da(_0x578e9f){const _0x2913a0=a60_0x4350;if(BrowserstackCLI[_0x2913a0(0x220)]()[_0x2913a0(0x1eb)]()){const _0x1b211e={};_0x1b211e[_0x2913a0(0x247)]=_0x578e9f,await BrowserstackCLI['getInstance']()[_0x2913a0(0x201)]()[_0x2913a0(0x19c)](AutomationFrameworkState[_0x2913a0(0x208)],HookState['POST'],_0x1b211e);}else{const _0x1e9f52=_0x578e9f&&_0x578e9f[_0x2913a0(0x1e0)]&&_0x578e9f[_0x2913a0(0x1e0)]['bsParams'];if(_0x1e9f52){const _0xe140a=_0x1e9f52[_0x2913a0(0x183)],_0x3eca95=_0x1e9f52[_0x2913a0(0x1b9)];_0x3eca95&&(_0x3ab014[_0x2913a0(0x1fd)](debug,'Setting\x20platform\x20details\x20received\x20from\x20BS:\x20'+_0x3eca95['toString']()),_0x58a56f[_0x2913a0(0x1b8)][_0x2913a0(0x19f)]=_0x3eca95[_0x2913a0(0x1ab)],_0x58a56f['currentSessionDetails'][_0x2913a0(0x236)]=_0x3eca95[_0x2913a0(0x1bc)]),_0xe140a&&(_0x3ab014['DJMve'](debug,_0x2913a0(0x1fe)+_0xe140a),_0x58a56f[_0x2913a0(0x1b8)][_0x2913a0(0x230)]=_0xe140a);}}return _0x5343f1['apply'](this,arguments);};}}),_0x2bb9f0[_0x2fda61(0x206)][_0x2fda61(0x1a6)]=!![],logger[_0x2fda61(0x246)](_0x3ab014[_0x2fda61(0x18a)]);}}}catch(_0x5280bd){_0x3ab014['TjSwL'](debug,_0x2fda61(0x193)+_0x5280bd),_0x58a56f[_0x2fda61(0x195)]=_0x5280bd[_0x2fda61(0x1d4)]();}}static[a60_0x300325(0x198)](){const _0xb4f13e=a60_0x300325,_0x340a6d={'EscWo':function(_0x2a9463,_0x4f909a){return _0x2a9463(_0x4f909a);},'ceAvW':function(_0x20ccf8,_0x13653b){return _0x20ccf8(_0x13653b);},'qzpWB':_0xb4f13e(0x1dc),'qaMzi':'server','ykhDA':_0xb4f13e(0x23f),'htmFv':_0xb4f13e(0x21c),'gTZXB':function(_0x5aadfe,_0x44668c){return _0x5aadfe(_0x44668c);},'IMsWr':_0xb4f13e(0x232),'TNawp':_0xb4f13e(0x224),'tCXOs':function(_0x412760,_0x2d8a62){return _0x412760!=_0x2d8a62;},'QKYgy':_0xb4f13e(0x242),'JSefR':_0xb4f13e(0x20f),'fLBEm':_0xb4f13e(0x1ff)},_0x4adf5e=this;let _0x20f52b=null;try{const _0x3b02d2=path['join'](_0x340a6d[_0xb4f13e(0x248)],_0x340a6d[_0xb4f13e(0x21e)],_0x340a6d[_0xb4f13e(0x221)],_0x340a6d[_0xb4f13e(0x1a4)]),_0x338190=_0x340a6d[_0xb4f13e(0x1ce)](importFileFromPWCore,_0x3b02d2);!_0x338190?_0x340a6d[_0xb4f13e(0x1b4)](debug,_0x340a6d[_0xb4f13e(0x21f)]):_0x20f52b=_0x338190[_0xb4f13e(0x1ad)];}catch(_0x5b1f18){_0x340a6d['EscWo'](debug,_0x340a6d[_0xb4f13e(0x214)]);}try{if(_0x340a6d[_0xb4f13e(0x1d1)](_0x20f52b,null)){const _0x5156dc=_0x20f52b['prototype'][_0xb4f13e(0x20f)];if(_0x20f52b[_0xb4f13e(0x206)][_0xb4f13e(0x218)]){logger['debug'](_0x340a6d[_0xb4f13e(0x1f4)]);return;}Object[_0xb4f13e(0x1c6)](_0x20f52b[_0xb4f13e(0x206)],_0x340a6d[_0xb4f13e(0x1ae)],{'get':function(){const _0x45b092={'GrCki':function(_0x46f9a6,_0x52f394){const _0x44f071=a60_0x4350;return _0x340a6d[_0x44f071(0x1ce)](_0x46f9a6,_0x52f394);},'aYVrE':function(_0x4e7552,_0x448baf){return _0x340a6d['ceAvW'](_0x4e7552,_0x448baf);}};return async function _0x452a54(_0x2909b5){const _0x23712d=a60_0x4350;try{if(BrowserstackCLI['getInstance']()[_0x23712d(0x1eb)]()){const _0x13c39a={};_0x13c39a[_0x23712d(0x247)]=_0x2909b5,await BrowserstackCLI[_0x23712d(0x220)]()['getAutomationFramework']()[_0x23712d(0x19c)](AutomationFrameworkState[_0x23712d(0x208)],HookState[_0x23712d(0x188)],_0x13c39a),delete _0x2909b5[_0x23712d(0x1ef)];}else{const _0x33b165=_0x2909b5[_0x23712d(0x1ef)];if(_0x33b165){delete _0x2909b5[_0x23712d(0x1ef)];const _0x299baa=_0x33b165[_0x23712d(0x183)],_0x3cbc92=_0x33b165[_0x23712d(0x1b9)];_0x3cbc92&&(_0x45b092[_0x23712d(0x24a)](debug,_0x23712d(0x1c7)+_0x3cbc92[_0x23712d(0x1d4)]()),_0x4adf5e[_0x23712d(0x1b8)][_0x23712d(0x19f)]=_0x3cbc92[_0x23712d(0x1ab)],_0x4adf5e[_0x23712d(0x1b8)][_0x23712d(0x236)]=_0x3cbc92['platformVersion']),_0x299baa&&(_0x45b092['aYVrE'](debug,_0x23712d(0x1a8)+_0x299baa),_0x4adf5e[_0x23712d(0x1b8)][_0x23712d(0x230)]=_0x299baa);}}}catch(_0x134022){_0x45b092[_0x23712d(0x24a)](debug,'Error\x20in\x20finding\x20platform\x20details\x20'+_0x134022['toString']());}return _0x5156dc['apply'](this,arguments);};}}),_0x20f52b['prototype']['_bstackCRPatched']=!![],logger[_0xb4f13e(0x246)](_0x340a6d[_0xb4f13e(0x234)]);}}catch(_0x7db139){_0x340a6d[_0xb4f13e(0x22c)](debug,'Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20'+_0x7db139),_0x4adf5e['sessionError']=_0x7db139['toString']();}}static['extractBrowserStackParams'](_0x539728,_0x328f46){const _0x17ad66=a60_0x300325,_0x3d41a3={'SLZOs':_0x17ad66(0x219),'hOrLL':function(_0x4fc01f,_0x174c21){return _0x4fc01f||_0x174c21;},'MKiPi':function(_0x55c36d,_0x450966){return _0x55c36d||_0x450966;},'THLct':function(_0x492de9,_0x3cc19f){return _0x492de9===_0x3cc19f;},'DTmzf':_0x17ad66(0x1d6),'BNptH':_0x17ad66(0x20e),'acSiQ':function(_0x20366b,_0xef0785){return _0x20366b(_0xef0785);},'ZyUxl':function(_0x56ed7f,_0x442dde){return _0x56ed7f(_0x442dde);}};let _0x7ca5df=null,_0x959826=null;try{const _0x7e32e0=[_0x328f46,global[_0x17ad66(0x1f6)],global[_0x17ad66(0x197)]];for(const _0x283faa of _0x7e32e0){if(_0x283faa&&(!_0x959826||!_0x959826[_0x17ad66(0x183)])){const _0xfb5d09=_0x283faa['sessionId']||_0x283faa[_0x3d41a3[_0x17ad66(0x192)]]?.[_0x17ad66(0x183)],_0x1130a8=_0x283faa[_0x17ad66(0x205)]||_0x283faa[_0x17ad66(0x19d)]||_0x283faa[_0x3d41a3[_0x17ad66(0x192)]]?.[_0x17ad66(0x205)],_0x350216=_0x283faa[_0x17ad66(0x213)]||_0x283faa[_0x17ad66(0x1ed)]||_0x283faa[_0x3d41a3[_0x17ad66(0x192)]]?.['browserVersion'],_0x520d25=_0x283faa['os']||_0x283faa[_0x17ad66(0x19f)]||_0x283faa[_0x3d41a3[_0x17ad66(0x192)]]?.['os'],_0x22e8b1=_0x283faa[_0x17ad66(0x18f)]||_0x283faa[_0x17ad66(0x238)]||_0x283faa[_0x3d41a3[_0x17ad66(0x192)]]?.[_0x17ad66(0x18f)];if(_0x3d41a3[_0x17ad66(0x1f2)](_0xfb5d09,_0x1130a8)||_0x520d25){const _0x472191={};_0x472191[_0x17ad66(0x205)]=_0x1130a8,_0x472191[_0x17ad66(0x213)]=_0x350216,_0x472191['os']=_0x520d25,_0x472191[_0x17ad66(0x18f)]=_0x22e8b1,_0x472191['platformName']=_0x283faa[_0x17ad66(0x1ab)]||_0x520d25,_0x472191[_0x17ad66(0x1bc)]=_0x283faa[_0x17ad66(0x1bc)]||_0x22e8b1;const _0x108140={};_0x108140['sessionId']=_0xfb5d09,_0x108140[_0x17ad66(0x1b9)]=_0x472191,_0x959826=_0x108140;if(_0x3d41a3[_0x17ad66(0x1af)](_0xfb5d09,_0x1130a8)){logger[_0x17ad66(0x246)](_0x17ad66(0x233)+_0x1130a8+_0x17ad66(0x1b2)+_0x520d25);break;}}}}if(_0x539728&&_0x3d41a3['THLct'](typeof _0x539728,_0x3d41a3[_0x17ad66(0x204)]))try{const _0x21aaf7=url[_0x17ad66(0x1e5)](_0x539728),_0x4fb2d9=new URLSearchParams(_0x21aaf7[_0x17ad66(0x1c4)]),_0x226fed=Object[_0x17ad66(0x196)](_0x4fb2d9[_0x17ad66(0x20d)]()),_0x423abb=[_0x226fed[_0x17ad66(0x207)],_0x226fed[_0x17ad66(0x1b1)],_0x226fed[_0x17ad66(0x1ec)]];for(const _0x20635c of _0x423abb){if(_0x20635c&&(!_0x7ca5df||!_0x7ca5df[_0x17ad66(0x183)]))try{const _0x4e35fd=JSON[_0x17ad66(0x1e5)](_0x20635c),_0x55340e={};_0x55340e[_0x17ad66(0x183)]=_0x4e35fd[_0x17ad66(0x183)]||_0x4e35fd[_0x3d41a3[_0x17ad66(0x192)]]?.['sessionId'],_0x55340e[_0x17ad66(0x1b9)]={},_0x55340e[_0x17ad66(0x1b9)][_0x17ad66(0x205)]=_0x4e35fd['browserName']||_0x4e35fd['browser'],_0x55340e[_0x17ad66(0x1b9)][_0x17ad66(0x213)]=_0x4e35fd['browserVersion']||_0x4e35fd[_0x17ad66(0x1ed)],_0x55340e[_0x17ad66(0x1b9)]['os']=_0x4e35fd['os']||_0x4e35fd[_0x17ad66(0x19f)],_0x55340e[_0x17ad66(0x1b9)]['osVersion']=_0x4e35fd[_0x17ad66(0x18f)]||_0x4e35fd['os_version'],_0x55340e[_0x17ad66(0x1b9)][_0x17ad66(0x1ab)]=_0x4e35fd[_0x17ad66(0x1ab)]||_0x4e35fd['os']||_0x4e35fd[_0x17ad66(0x19f)],_0x55340e[_0x17ad66(0x1b9)]['platformVersion']=_0x4e35fd[_0x17ad66(0x1bc)]||_0x4e35fd[_0x17ad66(0x18f)]||_0x4e35fd['os_version'],_0x7ca5df=_0x55340e;if(_0x7ca5df['sessionId']||_0x7ca5df[_0x17ad66(0x1b9)][_0x17ad66(0x205)]){logger[_0x17ad66(0x246)](_0x3d41a3['BNptH']);break;}}catch(_0x17dad9){_0x3d41a3['acSiQ'](debug,'Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20'+_0x17dad9[_0x17ad66(0x1d4)]());}}}catch(_0x54469e){_0x3d41a3[_0x17ad66(0x1e2)](debug,_0x17ad66(0x215)+_0x54469e[_0x17ad66(0x1d4)]());}}catch(_0x2c9709){_0x3d41a3[_0x17ad66(0x1d9)](debug,_0x17ad66(0x229)+util[_0x17ad66(0x1b5)](_0x2c9709));}const _0xac8a75={};return _0xac8a75[_0x17ad66(0x231)]=_0x7ca5df,_0xac8a75[_0x17ad66(0x1ef)]=_0x959826,_0xac8a75;}static async['triggerPlaywrightDispatchEvent'](_0x5cbd0f,_0x47fdb4){const _0x3978a6=a60_0x300325,_0x199c3c={'sdCFA':function(_0x228369,_0x185b25){return _0x228369||_0x185b25;},'EjwFb':_0x3978a6(0x227),'JdVRe':function(_0x325a38,_0x116235){return _0x325a38(_0x116235);}};try{if(!BrowserstackCLI[_0x3978a6(0x220)]()['isRunning']())return;if(_0x199c3c[_0x3978a6(0x1c9)](_0x5cbd0f,_0x47fdb4)){logger[_0x3978a6(0x246)](_0x199c3c[_0x3978a6(0x1d2)]);const _0x1b8554={'params':_0x5cbd0f?{'bsParams':_0x5cbd0f}:null,'bStackParams':_0x199c3c[_0x3978a6(0x1c9)](_0x47fdb4,null)},_0x4e4982=AutomationFramework[_0x3978a6(0x211)](),_0x26eedc={};_0x26eedc[_0x3978a6(0x247)]=_0x1b8554,_0x26eedc['instance']=_0x4e4982,await BrowserstackCLI[_0x3978a6(0x220)]()['getAutomationFramework']()[_0x3978a6(0x19c)](AutomationFrameworkState[_0x3978a6(0x208)],HookState[_0x3978a6(0x188)],_0x26eedc);}}catch(_0x33da83){_0x199c3c[_0x3978a6(0x235)](debug,'Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20'+util['format'](_0x33da83));}}static['getDetails'](){const _0x40affb=a60_0x300325;return this[_0x40affb(0x1b8)];}}module[a60_0x300325(0x185)]=SharedPlaywrightSessionDetails;