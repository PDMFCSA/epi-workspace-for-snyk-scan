const a60_0x53bedc=a60_0x46dc;function a60_0x4e02(){const _0x31debd=['bPAkJ','_browserType','url','PLAYWRIGHT_DISPATCH','capabilities','nxvKa','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','MtVvZ','FretS','SMFko','209pOBHNf','Error\x20in\x20importing\x20crConnection','isRunning','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','format','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','../v2/framework/automationFramework','140xByGHL','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','oyiXc','12AAMoWF','VCVkY','SYBfN','capabilties','winstonLogger','4LYAqyc','prototype','Successfully\x20patched\x20Connection.dispatch','SKCIi','YOBoV','tFuVz','cloudProvider','instance','toString','Error\x20extracting\x20BrowserStack\x20parameters:\x20','LRQnO','_bstackCRPatched','firefox','../../helpers/logger','Yldns','Connection','Failed\x20to\x20import\x20connection\x20from\x20','pwOrX','_bstackDispatchPatched','osVersion','CRConnection\x20already\x20patched','gecko','env','setupBrowserDetails','KjdVT','dispatch','playwright-','xbfns','OQCLW','desiredCapabilities','DQqJw','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','XadQX','webkit','browserName','ATS_WSS_URL_REGEX','browserVersion','sessionId','BbQJJ','Not\x20able\x20to\x20import\x20crConnection','_connection','bsSessionId','IpWwZ','turboscale','edge','Fwijm','trackEvent','1321461xwDZZP','POST','BSTACK_URL','84680kLCuUc','crConnection.js','fromEntries','../../helpers/test-observability/error-handler','connection.js','apply','WHPtn','mARIg','TZlov','mOkaI','CRConnection','gveUt','channel','iAgCB','triggerPlaywrightDispatchEvent','20isiCcK','message','_defaultConnectOptions','lib','exports','getInstance','use','gDXaN','assign','debug','fcHcr','browserstack_capabilities','version','uQBUu','AqBEv','uNKwl','odAGZ','platform_version','lGoIM','assWX','IAlLm','../v2/state/automationFrameworkState.js','platformDetails','safari','product','os_version','zCoiH','Setting\x20session\x20id\x20received\x20from\x20BS\x20','yNghN','msedge','OmtBb','MEbvc','TMveX','aXRTT','uecHU','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','dfHTV','wsEndpoint','Found\x20Connection\x20class\x20at:\x20','toLowerCase','params','pXXzX','connectOptions','caps','27663mRKccN','ikeRt','model','Error\x20in\x20importing\x20connection\x20','EMVgN','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','function','chrome','Error\x20in\x20applying\x20Connection\x20patch\x20','__platformCaps','getTrackedInstance','ZSxzB','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','project','oIWDH','platform','BROWSERSTACK_TEST_OBSERVABILITY','./constants','LMSKp','_name','QgKyU','SLzqQ','bStackParams','query','sessionError','KZGmb','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','browser','DLEvd','Device\x20Model\x20is\x20not\x20available','../../helpers/helper','MAONV','accessibilityPlatform','includes','202270zYIFKh','bstack:options','../v2/state/hookState.js','currentSessionDetails','join','defineProperty','WuvqQ','hUoml','452172MNuvoH','platformName','LUJne','getAutomationFramework','2229590WDQwAX','patchCRConnection','client','platformVersion','deviceModel','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','browser_version','Fyrxc','gMmGg','browserstack','QqnIc','YQhOv','util','patchConnection','chromium','unknown_grid','crZwH','bsParams','../../helpers/test-observability/utils','Error\x20parsing\x20WebSocket\x20endpoint:\x20','server',',\x20os=','parse','entries','Connection\x20dispatch\x20already\x20patched','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','awghh','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','local_grid','58686tBicMf','getDetails'];a60_0x4e02=function(){return _0x31debd;};return a60_0x4e02();}(function(_0x1edc58,_0x4b3526){const _0x2b57a2=a60_0x46dc,_0x48b184=_0x1edc58();while(!![]){try{const _0x5f3382=parseInt(_0x2b57a2(0x22f))/0x1*(parseInt(_0x2b57a2(0x24a))/0x2)+parseInt(_0x2b57a2(0x1e4))/0x3*(-parseInt(_0x2b57a2(0x1b8))/0x4)+parseInt(_0x2b57a2(0x206))/0x5*(-parseInt(_0x2b57a2(0x245))/0x6)+-parseInt(_0x2b57a2(0x242))/0x7*(parseInt(_0x2b57a2(0x1a9))/0x8)+-parseInt(_0x2b57a2(0x1a6))/0x9+-parseInt(_0x2b57a2(0x212))/0xa+-parseInt(_0x2b57a2(0x23b))/0xb*(-parseInt(_0x2b57a2(0x20e))/0xc);if(_0x5f3382===_0x4b3526)break;else _0x48b184['push'](_0x48b184['shift']());}catch(_0x35825c){_0x48b184['push'](_0x48b184['shift']());}}}(a60_0x4e02,0x1e78a));const path=require('path'),url=require(a60_0x53bedc(0x233)),util=require(a60_0x53bedc(0x21e)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x53bedc(0x202)),{o11yErrorHandler}=require(a60_0x53bedc(0x1ac)),{debug,getPlatformDetails}=require(a60_0x53bedc(0x224)),logger=require(a60_0x53bedc(0x257))[a60_0x53bedc(0x249)],constants=require(a60_0x53bedc(0x1f5)),AutomationFramework=require(a60_0x53bedc(0x241)),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require(a60_0x53bedc(0x1cd)),HookState=require(a60_0x53bedc(0x208)),{platform}=require('os'),getBrowserNameFromChannel=_0x1aa391=>{const _0x3d9b2b=a60_0x53bedc,_0xcd462={};_0xcd462[_0x3d9b2b(0x1ef)]=_0x3d9b2b(0x1eb),_0xcd462['pwOrX']=_0x3d9b2b(0x1a3),_0xcd462[_0x3d9b2b(0x1b4)]=_0x3d9b2b(0x256),_0xcd462['LRQnO']=_0x3d9b2b(0x1cf);const _0x439d51=_0xcd462;if(_0x1aa391[_0x3d9b2b(0x205)](_0x439d51[_0x3d9b2b(0x1ef)]))return _0x439d51['ZSxzB'];if(_0x1aa391['includes'](_0x439d51[_0x3d9b2b(0x25b)]))return _0x439d51['pwOrX'];if(_0x1aa391[_0x3d9b2b(0x205)](_0x439d51[_0x3d9b2b(0x1b4)]))return _0x439d51[_0x3d9b2b(0x1b4)];if(_0x1aa391['includes'](_0x439d51[_0x3d9b2b(0x254)]))return _0x439d51[_0x3d9b2b(0x254)];},getBrowserFromWSEndpoint=_0x50d1e5=>{const _0xc31867=a60_0x53bedc,_0xabeb78={'IAlLm':_0xc31867(0x207),'crZwH':function(_0x3e8c95,_0x4cb8e9){return _0x3e8c95(_0x4cb8e9);},'derxZ':function(_0x30f946,_0x2fcb21){return _0x30f946(_0x2fcb21);},'Fyrxc':_0xc31867(0x1a3),'Yldns':_0xc31867(0x1d5),'WHPtn':_0xc31867(0x256),'nIzOB':_0xc31867(0x25f),'dfHTV':_0xc31867(0x1cf),'uecHU':_0xc31867(0x198),'YOBoV':_0xc31867(0x1eb)};try{const _0x3efacd=url[_0xc31867(0x228)](_0x50d1e5),_0x1ecdb0=new URLSearchParams(_0x3efacd[_0xc31867(0x1fb)]),_0x32da52=Object[_0xc31867(0x1ab)](_0x1ecdb0[_0xc31867(0x229)]()),_0x1ed89f=[_0x32da52[_0xc31867(0x1e3)],_0x32da52[_0xc31867(0x235)],_0x32da52[_0xc31867(0x267)],_0x32da52[_0xc31867(0x1c3)]];for(const _0x2d2fcd of _0x1ed89f){if(_0x2d2fcd)try{const _0x29b3d6=JSON[_0xc31867(0x228)](_0x2d2fcd),_0x538c96=_0x29b3d6[_0xc31867(0x199)]||_0x29b3d6[_0xc31867(0x1ff)]||_0x29b3d6[_0xabeb78[_0xc31867(0x1cc)]]?.[_0xc31867(0x199)];if(_0x538c96)return _0xabeb78['crZwH'](debug,_0xc31867(0x1db)+_0x538c96),_0x538c96[_0xc31867(0x1df)]();}catch(_0x1e95e7){_0xabeb78['derxZ'](debug,_0xc31867(0x22d)+_0x1e95e7[_0xc31867(0x1b9)]);}}if(_0x50d1e5['includes'](_0xabeb78[_0xc31867(0x219)])||_0x50d1e5[_0xc31867(0x205)](_0xabeb78[_0xc31867(0x258)]))return _0xabeb78[_0xc31867(0x219)];if(_0x50d1e5[_0xc31867(0x205)](_0xabeb78['WHPtn'])||_0x50d1e5[_0xc31867(0x205)](_0xabeb78['nIzOB']))return _0xabeb78[_0xc31867(0x1af)];if(_0x50d1e5['includes'](_0xabeb78[_0xc31867(0x1dc)])||_0x50d1e5['includes'](_0xabeb78[_0xc31867(0x1da)]))return _0xabeb78[_0xc31867(0x1dc)];return _0xabeb78[_0xc31867(0x24e)];}catch(_0x31fe51){return _0xabeb78[_0xc31867(0x222)](debug,_0xc31867(0x240)+_0x31fe51[_0xc31867(0x252)]()),_0xabeb78['YOBoV'];}},getCloudProviderFromWsEndpoint=_0x3aa8d9=>{const _0x164f76=a60_0x53bedc,_0x1132ef={};_0x1132ef[_0x164f76(0x244)]=_0x164f76(0x21b),_0x1132ef[_0x164f76(0x239)]=_0x164f76(0x221);const _0x12dc15=_0x1132ef;if(_0x3aa8d9['includes'](constants[_0x164f76(0x1a8)])||_0x3aa8d9[_0x164f76(0x205)](constants['BSTACK_ATS_URL']))return _0x12dc15['oyiXc'];return _0x12dc15[_0x164f76(0x239)];},a60_0x47e6ab={};a60_0x47e6ab[a60_0x53bedc(0x250)]=undefined,a60_0x47e6ab['bsSessionId']=undefined,a60_0x47e6ab[a60_0x53bedc(0x1ff)]=undefined,a60_0x47e6ab[a60_0x53bedc(0x218)]=undefined,a60_0x47e6ab[a60_0x53bedc(0x1f3)]=undefined,a60_0x47e6ab[a60_0x53bedc(0x1c9)]=undefined,a60_0x47e6ab[a60_0x53bedc(0x1d0)]=undefined,a60_0x47e6ab[a60_0x53bedc(0x235)]={};function a60_0x46dc(_0x524e5e,_0x576992){const _0x4e0218=a60_0x4e02();return a60_0x46dc=function(_0x46dc1e,_0x73fb2c){_0x46dc1e=_0x46dc1e-0x196;let _0x153782=_0x4e0218[_0x46dc1e];return _0x153782;},a60_0x46dc(_0x524e5e,_0x576992);}class SharedPlaywrightSessionDetails{static ['currentSessionDetails']=a60_0x47e6ab;constructor(){const _0x509a2e=a60_0x53bedc,_0x1e2bc5={};_0x1e2bc5['XadQX']=_0x509a2e(0x196);const _0x3ef797=_0x1e2bc5;throw new Error(_0x3ef797[_0x509a2e(0x197)]);}static [a60_0x53bedc(0x1fc)]=null;static[a60_0x53bedc(0x261)](_0x377cf6,_0x2474a1,_0x4c2f83=null){const _0x3a2fa2=a60_0x53bedc,_0x309a01={'YQhOv':function(_0x37e7c4,_0x8e77bc){return _0x37e7c4===_0x8e77bc;},'yNghN':_0x3a2fa2(0x1ea),'SYBfN':_0x3a2fa2(0x1fe),'WuvqQ':_0x3a2fa2(0x201),'bPAkJ':_0x3a2fa2(0x22e),'SMFko':function(_0x1fbbda,_0x9c9bec,_0x13cfb7){return _0x1fbbda(_0x9c9bec,_0x13cfb7);},'odAGZ':_0x3a2fa2(0x232),'LMSKp':_0x3a2fa2(0x1ba),'MEbvc':_0x3a2fa2(0x1f1),'tFuVz':_0x3a2fa2(0x1be),'LUJne':_0x3a2fa2(0x1e2),'TZlov':function(_0x5f2fca,_0x20516e){return _0x5f2fca(_0x20516e);},'nxvKa':_0x3a2fa2(0x21b),'hBNHJ':_0x3a2fa2(0x1a2),'MtVvZ':'automate','aXRTT':function(_0x5b83dd,_0x51e369){return _0x5b83dd===_0x51e369;},'QgKyU':'chromium','DQqJw':function(_0x89dac4,_0x36ed64){return _0x89dac4+_0x36ed64;},'uQBUu':_0x3a2fa2(0x264),'XKHtz':function(_0x183fd6){return _0x183fd6();},'ticTJ':'setupBrowserDetails'},_0xb7c49e=this;return _0x309a01[_0x3a2fa2(0x23a)](o11yErrorHandler,async function _0x1bab4a(_0x204346,_0x5a289f,_0x5acb19=null){const _0x4976d3=_0x3a2fa2;let _0x19f1dd=_0x204346[_0x4976d3(0x1f7)],_0x16cee6=null;_0x204346&&_0x309a01[_0x4976d3(0x21d)](typeof _0x204346[_0x4976d3(0x1c4)],_0x309a01[_0x4976d3(0x1d4)])?_0x16cee6=_0x204346[_0x4976d3(0x1c4)]():logger[_0x4976d3(0x1c1)](_0x309a01[_0x4976d3(0x247)]);let _0x4bb4f7=null;_0x204346&&_0x309a01[_0x4976d3(0x21d)](typeof _0x204346[_0x4976d3(0x1e6)],_0x309a01[_0x4976d3(0x1d4)])?_0x4bb4f7=_0x204346['model']():logger[_0x4976d3(0x1c1)](_0x309a01[_0x4976d3(0x20c)]);let _0xfefaba=null,_0x52ec09=null,_0xe1eb88=null,_0x34dca4=_0x309a01[_0x4976d3(0x231)];if(_0x204346[_0x4976d3(0x19f)]['isRemote']()||global[_0x4976d3(0x204)]){let _0x8e43d5=null;_0x309a01[_0x4976d3(0x23a)](nestedKeyValue,_0x204346,[_0x309a01[_0x4976d3(0x1c8)],_0x309a01[_0x4976d3(0x1f6)]])?_0x8e43d5=_0x204346['_browserType'][_0x4976d3(0x1ba)]:_0x8e43d5=_0x309a01['SMFko'](nestedKeyValue,_0x5a289f,[_0x309a01[_0x4976d3(0x1d7)],_0x309a01[_0x4976d3(0x24f)],_0x309a01[_0x4976d3(0x210)]]);const _0x565f34=_0x5acb19||_0x8e43d5&&_0x8e43d5[_0x4976d3(0x1dd)];if(_0x565f34){_0x34dca4=_0x309a01[_0x4976d3(0x1b1)](getCloudProviderFromWsEndpoint,_0x565f34);if(_0x309a01[_0x4976d3(0x21d)](_0x34dca4,_0x309a01[_0x4976d3(0x236)])){_0xe1eb88=constants[_0x4976d3(0x19a)]['test'](_0x565f34)?_0x309a01['hBNHJ']:_0x309a01[_0x4976d3(0x238)];const _0x19d093=_0x309a01[_0x4976d3(0x1b1)](getBrowserFromWSEndpoint,_0x565f34);if(_0x19d093&&(!_0x19f1dd||_0x309a01[_0x4976d3(0x1d9)](_0x19f1dd,_0x309a01[_0x4976d3(0x1f8)])))_0x19f1dd=_0x19d093,logger[_0x4976d3(0x1c1)](_0x4976d3(0x243)+_0x19f1dd);else _0x19f1dd&&logger[_0x4976d3(0x1c1)](_0x4976d3(0x1e9)+_0x19f1dd);_0xfefaba=_0xb7c49e[_0x4976d3(0x209)][_0x4976d3(0x1f3)],_0x52ec09=_0xb7c49e['currentSessionDetails'][_0x4976d3(0x1c9)];}}}else{_0x5a289f&&_0x5a289f[_0x4976d3(0x1f1)]&&_0x5a289f[_0x4976d3(0x1f1)]['use']&&_0x5a289f[_0x4976d3(0x1f1)][_0x4976d3(0x1be)][_0x4976d3(0x1b5)]?_0x19f1dd=_0x309a01[_0x4976d3(0x1b1)](getBrowserNameFromChannel,_0x5a289f[_0x4976d3(0x1f1)][_0x4976d3(0x1be)][_0x4976d3(0x1b5)]):_0x19f1dd=_0x309a01[_0x4976d3(0x268)](_0x309a01[_0x4976d3(0x1c5)],_0x19f1dd['toLowerCase']());const _0x120990=await _0x309a01['XKHtz'](getPlatformDetails);_0xfefaba=_0x120990[_0x4976d3(0x20f)],_0x52ec09=_0x120990['platformVersion'];}const _0x49d28b={};_0x49d28b['browser']=_0x19f1dd,_0x49d28b[_0x4976d3(0x218)]=_0x16cee6,_0x49d28b['capabilities']={},_0x49d28b[_0x4976d3(0x1f3)]=_0xfefaba,_0x49d28b[_0x4976d3(0x1c9)]=_0x52ec09,_0x49d28b[_0x4976d3(0x1d0)]=_0xe1eb88;const _0x4258ff=_0x49d28b;_0x4bb4f7&&(_0x4258ff[_0x4976d3(0x235)][_0x4976d3(0x216)]=_0x4bb4f7);const _0x453c0c={};_0x453c0c[_0x4976d3(0x250)]=_0x34dca4,_0xb7c49e[_0x4976d3(0x209)]=Object[_0x4976d3(0x1c0)]({},_0xb7c49e[_0x4976d3(0x209)],_0x453c0c,_0x4258ff);const _0x25f7f9={};_0x25f7f9[_0x4976d3(0x1ff)]=_0xb7c49e['currentSessionDetails'][_0x4976d3(0x1ff)],_0x25f7f9[_0x4976d3(0x19b)]=_0xb7c49e['currentSessionDetails'][_0x4976d3(0x218)],_0x25f7f9[_0x4976d3(0x1f3)]=_0xb7c49e[_0x4976d3(0x209)][_0x4976d3(0x1f3)],_0x25f7f9[_0x4976d3(0x215)]=_0xb7c49e[_0x4976d3(0x209)][_0x4976d3(0x1c9)],_0x25f7f9[_0x4976d3(0x250)]=_0xb7c49e[_0x4976d3(0x209)][_0x4976d3(0x250)],_0x25f7f9[_0x4976d3(0x1d0)]=_0xb7c49e[_0x4976d3(0x209)][_0x4976d3(0x1d0)],logger[_0x4976d3(0x1c1)]('Session\x20details\x20setup\x20complete:\x20'+JSON['stringify'](_0x25f7f9));},_0x309a01['ticTJ'])(_0x377cf6,_0x2474a1,_0x4c2f83);}static['patch'](){const _0x7a5623=a60_0x53bedc;this['patchConnection'](),this[_0x7a5623(0x213)]();}static[a60_0x53bedc(0x21f)](){const _0x2fbffd=a60_0x53bedc,_0x4389f2={'IpWwZ':function(_0x115020,_0x340863){return _0x115020(_0x340863);},'yShUr':'lib','fcHcr':_0x2fbffd(0x214),'DLEvd':_0x2fbffd(0x1ad),'OmtBb':function(_0x2a4b59,_0x3201b9){return _0x2a4b59(_0x3201b9);},'MAONV':_0x2fbffd(0x237),'TMveX':function(_0x5edc4e,_0x485ec8){return _0x5edc4e!=_0x485ec8;},'uNKwl':_0x2fbffd(0x22a),'gMmGg':'dispatch','KjdVT':_0x2fbffd(0x24c),'moLOj':function(_0x3e642b,_0x50c60a){return _0x3e642b(_0x50c60a);}},_0x2e4b3c=this;if(!this[_0x2fbffd(0x259)])try{const _0x7a881f=[path[_0x2fbffd(0x20a)](_0x4389f2['yShUr'],_0x4389f2[_0x2fbffd(0x1c2)],_0x4389f2[_0x2fbffd(0x200)]),path[_0x2fbffd(0x20a)](_0x4389f2['yShUr'],_0x4389f2['DLEvd']),path[_0x2fbffd(0x20a)](_0x4389f2['fcHcr'],_0x4389f2[_0x2fbffd(0x200)])];for(const _0x22a036 of _0x7a881f){try{const _0xf74f68=_0x4389f2[_0x2fbffd(0x1a1)](importFileFromPWCore,_0x22a036);if(_0xf74f68&&_0xf74f68[_0x2fbffd(0x259)]){this[_0x2fbffd(0x259)]=_0xf74f68[_0x2fbffd(0x259)],logger[_0x2fbffd(0x1c1)](_0x2fbffd(0x1de)+_0x22a036);break;}}catch(_0x4a321d){_0x4389f2[_0x2fbffd(0x1d6)](debug,_0x2fbffd(0x25a)+_0x22a036+':\x20'+_0x4a321d[_0x2fbffd(0x252)]());}}if(!this[_0x2fbffd(0x259)]){_0x4389f2['OmtBb'](debug,_0x4389f2[_0x2fbffd(0x203)]);return;}}catch(_0x74a168){_0x4389f2['IpWwZ'](debug,_0x2fbffd(0x1e7)+_0x74a168[_0x2fbffd(0x252)]());return;}const _0x50eae7=this['Connection'];try{if(_0x4389f2[_0x2fbffd(0x1d8)](_0x50eae7,null)){const _0x2513b1=_0x50eae7[_0x2fbffd(0x24b)][_0x2fbffd(0x263)];if(!_0x4389f2[_0x2fbffd(0x1d6)](isFalse,process[_0x2fbffd(0x260)][_0x2fbffd(0x1f4)])){if(_0x50eae7['prototype'][_0x2fbffd(0x25c)]){logger['debug'](_0x4389f2[_0x2fbffd(0x1c7)]);return;}Object['defineProperty'](_0x50eae7[_0x2fbffd(0x24b)],_0x4389f2[_0x2fbffd(0x21a)],{'get':function(){return async function _0x2213d1(_0x3b3649){const _0x754592=a60_0x46dc;if(BrowserstackCLI[_0x754592(0x1bd)]()['isRunning']()){const _0x413695={};_0x413695['message']=_0x3b3649,await BrowserstackCLI[_0x754592(0x1bd)]()['getAutomationFramework']()['trackEvent'](AutomationFrameworkState[_0x754592(0x234)],HookState[_0x754592(0x1a7)],_0x413695);}else{const _0x2ed863=_0x3b3649&&_0x3b3649[_0x754592(0x1e0)]&&_0x3b3649[_0x754592(0x1e0)][_0x754592(0x223)];if(_0x2ed863){const _0x1e3a38=_0x2ed863[_0x754592(0x19c)],_0x56d899=_0x2ed863[_0x754592(0x1ce)];_0x56d899&&(_0x4389f2[_0x754592(0x1a1)](debug,_0x754592(0x1f0)+_0x56d899[_0x754592(0x252)]()),_0x2e4b3c['currentSessionDetails'][_0x754592(0x1f3)]=_0x56d899['platformName'],_0x2e4b3c['currentSessionDetails'][_0x754592(0x1c9)]=_0x56d899[_0x754592(0x215)]),_0x1e3a38&&(_0x4389f2['IpWwZ'](debug,_0x754592(0x1d3)+_0x1e3a38),_0x2e4b3c[_0x754592(0x209)][_0x754592(0x1a0)]=_0x1e3a38);}}return _0x2513b1[_0x754592(0x1ae)](this,arguments);};}}),_0x50eae7[_0x2fbffd(0x24b)][_0x2fbffd(0x25c)]=!![],logger[_0x2fbffd(0x1c1)](_0x4389f2[_0x2fbffd(0x262)]);}}}catch(_0x6c8654){_0x4389f2['moLOj'](debug,_0x2fbffd(0x1ec)+_0x6c8654),_0x2e4b3c[_0x2fbffd(0x1fc)]=_0x6c8654['toString']();}}static['patchCRConnection'](){const _0x3afb22=a60_0x53bedc,_0x2d9e9f={'BbQJJ':function(_0x229336,_0x1975a1){return _0x229336(_0x1975a1);},'KZGmb':function(_0x3b4e89,_0x5c7257){return _0x3b4e89(_0x5c7257);},'EMVgN':function(_0x342a88,_0x2b479e){return _0x342a88(_0x2b479e);},'awghh':_0x3afb22(0x1bb),'zCoiH':_0x3afb22(0x226),'xbfns':_0x3afb22(0x220),'Fwijm':_0x3afb22(0x1aa),'ikeRt':function(_0x40c1c2,_0x21ced8){return _0x40c1c2(_0x21ced8);},'SLzqQ':function(_0xcfe8ae,_0x17af26){return _0xcfe8ae(_0x17af26);},'AqBEv':_0x3afb22(0x19e),'VCVkY':function(_0xe0dac6,_0x4c10f2){return _0xe0dac6(_0x4c10f2);},'ZGhdA':_0x3afb22(0x23c),'mARIg':function(_0x106e5e,_0x3600fc){return _0x106e5e!=_0x3600fc;},'assWX':_0x3afb22(0x25e),'pXXzX':'_onMessage','xcYNt':'Successfully\x20patched\x20CRConnection._onMessage','QqnIc':function(_0x28f48e,_0x500907){return _0x28f48e(_0x500907);}},_0x91e384=this;let _0x2728ed=null;try{const _0x96c20a=path[_0x3afb22(0x20a)](_0x2d9e9f[_0x3afb22(0x22c)],_0x2d9e9f[_0x3afb22(0x1d2)],_0x2d9e9f[_0x3afb22(0x265)],_0x2d9e9f[_0x3afb22(0x1a4)]),_0x1b69e7=_0x2d9e9f[_0x3afb22(0x1e5)](importFileFromPWCore,_0x96c20a);!_0x1b69e7?_0x2d9e9f[_0x3afb22(0x1f9)](debug,_0x2d9e9f[_0x3afb22(0x1c6)]):_0x2728ed=_0x1b69e7[_0x3afb22(0x1b3)];}catch(_0x2ac42b){_0x2d9e9f[_0x3afb22(0x246)](debug,_0x2d9e9f['ZGhdA']);}try{if(_0x2d9e9f[_0x3afb22(0x1b0)](_0x2728ed,null)){const _0x21efe5=_0x2728ed['prototype']['_onMessage'];if(_0x2728ed[_0x3afb22(0x24b)][_0x3afb22(0x255)]){logger['debug'](_0x2d9e9f[_0x3afb22(0x1cb)]);return;}Object[_0x3afb22(0x20b)](_0x2728ed[_0x3afb22(0x24b)],_0x2d9e9f[_0x3afb22(0x1e1)],{'get':function(){return async function _0x578dbd(_0x2a12e3){const _0x5a70cc=a60_0x46dc;try{if(BrowserstackCLI[_0x5a70cc(0x1bd)]()[_0x5a70cc(0x23d)]()){const _0x4b4a6b={};_0x4b4a6b[_0x5a70cc(0x1b9)]=_0x2a12e3,await BrowserstackCLI[_0x5a70cc(0x1bd)]()[_0x5a70cc(0x211)]()[_0x5a70cc(0x1a5)](AutomationFrameworkState[_0x5a70cc(0x234)],HookState[_0x5a70cc(0x1a7)],_0x4b4a6b),delete _0x2a12e3[_0x5a70cc(0x1fa)];}else{const _0x58aa5b=_0x2a12e3[_0x5a70cc(0x1fa)];if(_0x58aa5b){delete _0x2a12e3[_0x5a70cc(0x1fa)];const _0x6333a4=_0x58aa5b[_0x5a70cc(0x19c)],_0x469dd3=_0x58aa5b[_0x5a70cc(0x1ce)];_0x469dd3&&(_0x2d9e9f[_0x5a70cc(0x19d)](debug,_0x5a70cc(0x217)+_0x469dd3[_0x5a70cc(0x252)]()),_0x91e384['currentSessionDetails'][_0x5a70cc(0x1f3)]=_0x469dd3[_0x5a70cc(0x20f)],_0x91e384[_0x5a70cc(0x209)][_0x5a70cc(0x1c9)]=_0x469dd3[_0x5a70cc(0x215)]),_0x6333a4&&(_0x2d9e9f[_0x5a70cc(0x1fd)](debug,'Setting\x20session\x20id\x20received\x20from\x20browserstack\x20'+_0x6333a4),_0x91e384[_0x5a70cc(0x209)][_0x5a70cc(0x1a0)]=_0x6333a4);}}}catch(_0x5cad24){_0x2d9e9f[_0x5a70cc(0x1e8)](debug,'Error\x20in\x20finding\x20platform\x20details\x20'+_0x5cad24[_0x5a70cc(0x252)]());}return _0x21efe5[_0x5a70cc(0x1ae)](this,arguments);};}}),_0x2728ed[_0x3afb22(0x24b)]['_bstackCRPatched']=!![],logger[_0x3afb22(0x1c1)](_0x2d9e9f['xcYNt']);}}catch(_0x22602d){_0x2d9e9f[_0x3afb22(0x21c)](debug,_0x3afb22(0x23e)+_0x22602d),_0x91e384['sessionError']=_0x22602d[_0x3afb22(0x252)]();}}static['extractBrowserStackParams'](_0x359861,_0x285fbb){const _0x580064=a60_0x53bedc,_0x16d751={'hUoml':'bstack:options','pyozN':function(_0xf237a0,_0x23240e){return _0xf237a0||_0x23240e;},'EROkJ':function(_0x2780d8,_0x5cf475){return _0x2780d8||_0x5cf475;},'lGoIM':function(_0x382521,_0x5517ec){return _0x382521===_0x5517ec;},'OQCLW':'string','QTkCc':'BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','gDXaN':function(_0xa3787,_0x396998){return _0xa3787(_0x396998);},'oIWDH':function(_0x423491,_0x533a6b){return _0x423491(_0x533a6b);}};let _0x59be4d=null,_0x5192b1=null;try{const _0x28e234=[_0x285fbb,global[_0x580064(0x1ed)],global[_0x580064(0x248)]];for(const _0x194946 of _0x28e234){if(_0x194946&&(!_0x5192b1||!_0x5192b1[_0x580064(0x19c)])){const _0xcbaac3=_0x194946['sessionId']||_0x194946[_0x16d751[_0x580064(0x20d)]]?.[_0x580064(0x19c)],_0x44eb20=_0x194946[_0x580064(0x199)]||_0x194946[_0x580064(0x1ff)]||_0x194946[_0x16d751[_0x580064(0x20d)]]?.['browserName'],_0x2cf129=_0x194946[_0x580064(0x19b)]||_0x194946[_0x580064(0x218)]||_0x194946[_0x16d751[_0x580064(0x20d)]]?.['browserVersion'],_0x77088a=_0x194946['os']||_0x194946['platform']||_0x194946[_0x16d751['hUoml']]?.['os'],_0x2ed181=_0x194946['osVersion']||_0x194946[_0x580064(0x1d1)]||_0x194946[_0x16d751[_0x580064(0x20d)]]?.['osVersion'];if(_0x16d751['pyozN'](_0xcbaac3,_0x44eb20)||_0x77088a){const _0x237396={};_0x237396[_0x580064(0x199)]=_0x44eb20,_0x237396[_0x580064(0x19b)]=_0x2cf129,_0x237396['os']=_0x77088a,_0x237396[_0x580064(0x25d)]=_0x2ed181,_0x237396[_0x580064(0x20f)]=_0x194946[_0x580064(0x20f)]||_0x77088a,_0x237396[_0x580064(0x215)]=_0x194946[_0x580064(0x215)]||_0x2ed181;const _0x25a293={};_0x25a293[_0x580064(0x19c)]=_0xcbaac3,_0x25a293[_0x580064(0x1ce)]=_0x237396,_0x5192b1=_0x25a293;if(_0x16d751['EROkJ'](_0xcbaac3,_0x44eb20)){logger[_0x580064(0x1c1)]('BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser='+_0x44eb20+_0x580064(0x227)+_0x77088a);break;}}}}if(_0x359861&&_0x16d751[_0x580064(0x1ca)](typeof _0x359861,_0x16d751[_0x580064(0x266)]))try{const _0x38e649=url[_0x580064(0x228)](_0x359861),_0x542e84=new URLSearchParams(_0x38e649[_0x580064(0x1fb)]),_0x3d58ca=Object['fromEntries'](_0x542e84[_0x580064(0x229)]()),_0x20fa18=[_0x3d58ca[_0x580064(0x1e3)],_0x3d58ca[_0x580064(0x235)],_0x3d58ca[_0x580064(0x267)]];for(const _0x38e510 of _0x20fa18){if(_0x38e510&&(!_0x59be4d||!_0x59be4d[_0x580064(0x19c)]))try{const _0x6491c1=JSON[_0x580064(0x228)](_0x38e510),_0x12ba69={};_0x12ba69[_0x580064(0x19c)]=_0x6491c1[_0x580064(0x19c)]||_0x6491c1[_0x16d751[_0x580064(0x20d)]]?.[_0x580064(0x19c)],_0x12ba69[_0x580064(0x1ce)]={},_0x12ba69[_0x580064(0x1ce)]['browserName']=_0x6491c1[_0x580064(0x199)]||_0x6491c1[_0x580064(0x1ff)],_0x12ba69[_0x580064(0x1ce)][_0x580064(0x19b)]=_0x6491c1[_0x580064(0x19b)]||_0x6491c1[_0x580064(0x218)],_0x12ba69[_0x580064(0x1ce)]['os']=_0x6491c1['os']||_0x6491c1[_0x580064(0x1f3)],_0x12ba69[_0x580064(0x1ce)][_0x580064(0x25d)]=_0x6491c1[_0x580064(0x25d)]||_0x6491c1[_0x580064(0x1d1)],_0x12ba69[_0x580064(0x1ce)]['platformName']=_0x6491c1['platformName']||_0x6491c1['os']||_0x6491c1[_0x580064(0x1f3)],_0x12ba69[_0x580064(0x1ce)][_0x580064(0x215)]=_0x6491c1[_0x580064(0x215)]||_0x6491c1[_0x580064(0x25d)]||_0x6491c1[_0x580064(0x1d1)],_0x59be4d=_0x12ba69;if(_0x59be4d['sessionId']||_0x59be4d[_0x580064(0x1ce)]['browserName']){logger[_0x580064(0x1c1)](_0x16d751['QTkCc']);break;}}catch(_0xca072b){_0x16d751[_0x580064(0x1bf)](debug,'Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20'+_0xca072b[_0x580064(0x252)]());}}}catch(_0x2bd744){_0x16d751[_0x580064(0x1f2)](debug,_0x580064(0x225)+_0x2bd744[_0x580064(0x252)]());}}catch(_0x4c42e7){_0x16d751[_0x580064(0x1bf)](debug,_0x580064(0x253)+util[_0x580064(0x23f)](_0x4c42e7));}const _0x44a034={};return _0x44a034[_0x580064(0x223)]=_0x59be4d,_0x44a034[_0x580064(0x1fa)]=_0x5192b1,_0x44a034;}static async[a60_0x53bedc(0x1b7)](_0x5a7eaa,_0x16067b){const _0x5ac850=a60_0x53bedc,_0x3615b0={'iAgCB':function(_0x24e133,_0x6115be){return _0x24e133||_0x6115be;},'mOkaI':_0x5ac850(0x22b),'SKCIi':function(_0x4eb2e1,_0x184eff){return _0x4eb2e1(_0x184eff);}};try{if(!BrowserstackCLI[_0x5ac850(0x1bd)]()[_0x5ac850(0x23d)]())return;if(_0x3615b0[_0x5ac850(0x1b6)](_0x5a7eaa,_0x16067b)){logger[_0x5ac850(0x1c1)](_0x3615b0[_0x5ac850(0x1b2)]);const _0x3aea97={'params':_0x5a7eaa?{'bsParams':_0x5a7eaa}:null,'bStackParams':_0x3615b0['iAgCB'](_0x16067b,null)},_0x295fca=AutomationFramework[_0x5ac850(0x1ee)](),_0x5e4137={};_0x5e4137[_0x5ac850(0x1b9)]=_0x3aea97,_0x5e4137[_0x5ac850(0x251)]=_0x295fca,await BrowserstackCLI[_0x5ac850(0x1bd)]()[_0x5ac850(0x211)]()[_0x5ac850(0x1a5)](AutomationFrameworkState[_0x5ac850(0x234)],HookState[_0x5ac850(0x1a7)],_0x5e4137);}}catch(_0x5154a0){_0x3615b0[_0x5ac850(0x24d)](debug,'Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20'+util['format'](_0x5154a0));}}static[a60_0x53bedc(0x230)](){const _0x1c4d2d=a60_0x53bedc;return this[_0x1c4d2d(0x209)];}}module[a60_0x53bedc(0x1bc)]=SharedPlaywrightSessionDetails;