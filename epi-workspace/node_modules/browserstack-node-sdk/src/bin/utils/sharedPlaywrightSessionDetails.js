function a60_0x4133(){const _0x4320d7=['534258CCkFRO','XHENQ','getAutomationFramework','BSTACK_URL','includes','debug','Setting\x20session\x20id\x20received\x20from\x20BS\x20','capabilties','local_grid','yoGVA','_bstackCRPatched','wyjtu','CztHG','platformName','cloudProvider','aJBZw','gecko','ISgZx','join',',\x20os=','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','cIBbq','dtkDO','parse','ICfvU','crConnection.js','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','Error\x20extracting\x20BrowserStack\x20parameters:\x20','BSTACK_ATS_URL','Error\x20in\x20importing\x20crConnection','4221WxUjGm','os_version','mAtZw','vkNSj','patchCRConnection','../v2/state/hookState.js','__platformCaps','chromium','turboscale','Connection','lJJlL','../v2/state/automationFrameworkState.js','webkit','use','url','IEaXs','browser_version','msedge','triggerPlaywrightDispatchEvent','test','hZItO','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','qSINt','agqoK','WZnHT','platformVersion','project','Device\x20Model\x20is\x20not\x20available','XHpZH','DJeqz','apply','3717304PbLiSW','bsParams','accessibilityPlatform','edge','caps','toString','SILic','BtfHZ','62100rLMxAS','platform_version','stringify','bStackParams','entries','env','egMWa','bAxqO','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','server','browserVersion','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','lib','defineProperty','STidN','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','dispatch','osVersion','isRunning','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','xWCkY','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','_onMessage','./constants','zMCJk','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','bsSessionId','bstack:options','connectOptions','automate','14243877VGXGXk','util','_bstackDispatchPatched','product','message','IIsph','isRemote','desiredCapabilities','deviceModel','Connection\x20dispatch\x20already\x20patched','OEniy','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','BROWSERSTACK_TEST_OBSERVABILITY','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','capabilities','../v2/browserstackCLI','YpDLG','_defaultConnectOptions','getTrackedInstance','KAXIU','POST','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','EBNld','sessionId','platformDetails','1136MUzLyw','NyOIv','browserName','Error\x20parsing\x20WebSocket\x20endpoint:\x20','ATS_WSS_URL_REGEX','yuOuf','trackEvent','getInstance','currentSessionDetails','firefox','njyhN','version','tDNfa','path','chrome','VURJo','nAoFl','GgzHW','getDetails','10MYVLGC','_browserType','cFqiI','ZeNTR','uJcrH','model','_connection','params','../../helpers/helper','../../helpers/test-observability/utils','setupBrowserDetails','643178pFwbrI','PLAYWRIGHT_DISPATCH','channel','playwright-','CRConnection','781434WstcHr','Ckdhn','assign','jqmHj','fromEntries','platform','patchConnection','connection.js','browser','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','../v2/framework/automationFramework','BrvIU','ChwOY','Failed\x20to\x20import\x20connection\x20from\x20','ibJsn','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','lnSza','HNlpQ','bMzzb','tzSjr','query','prototype','mvXXp','wdiyi','Error\x20in\x20applying\x20Connection\x20patch\x20','VajYN','browserstack','HZkkL','sipKG','client','opNvh','format','YvUjc','instance','sessionError','safari'];a60_0x4133=function(){return _0x4320d7;};return a60_0x4133();}const a60_0xb1c3f3=a60_0xe748;(function(_0x93eb26,_0x574af){const _0x5cf672=a60_0xe748,_0x14bd08=_0x93eb26();while(!![]){try{const _0x203c59=parseInt(_0x5cf672(0x1b4))/0x1+parseInt(_0x5cf672(0x1b9))/0x2+parseInt(_0x5cf672(0x15f))/0x3+parseInt(_0x5cf672(0x157))/0x4+-parseInt(_0x5cf672(0x1a9))/0x5*(-parseInt(_0x5cf672(0x11a))/0x6)+-parseInt(_0x5cf672(0x138))/0x7*(parseInt(_0x5cf672(0x196))/0x8)+-parseInt(_0x5cf672(0x17d))/0x9;if(_0x203c59===_0x574af)break;else _0x14bd08['push'](_0x14bd08['shift']());}catch(_0xe91cb1){_0x14bd08['push'](_0x14bd08['shift']());}}}(a60_0x4133,0x788a0));function a60_0xe748(_0x424e63,_0x10aeb4){const _0x4133ab=a60_0x4133();return a60_0xe748=function(_0xe74815,_0xbcee8d){_0xe74815=_0xe74815-0xff;let _0x4376fe=_0x4133ab[_0xe74815];return _0x4376fe;},a60_0xe748(_0x424e63,_0x10aeb4);}const path=require(a60_0xb1c3f3(0x1a3)),url=require(a60_0xb1c3f3(0x146)),util=require(a60_0xb1c3f3(0x17e)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0xb1c3f3(0x1b1)),{o11yErrorHandler}=require('../../helpers/test-observability/error-handler'),{debug,getPlatformDetails}=require(a60_0xb1c3f3(0x1b2)),logger=require('../../helpers/logger')['winstonLogger'],constants=require(a60_0xb1c3f3(0x176)),AutomationFramework=require(a60_0xb1c3f3(0x100)),BrowserstackCLI=require(a60_0xb1c3f3(0x18c)),AutomationFrameworkState=require(a60_0xb1c3f3(0x143)),HookState=require(a60_0xb1c3f3(0x13d)),{platform}=require('os'),getBrowserNameFromChannel=_0x5df491=>{const _0x5a78a5=a60_0xb1c3f3,_0x5920fb={};_0x5920fb['DJeqz']=_0x5a78a5(0x1a4),_0x5920fb['NyOIv']=_0x5a78a5(0x15a),_0x5920fb[_0x5a78a5(0x1ba)]=_0x5a78a5(0x19f),_0x5920fb[_0x5a78a5(0x1ad)]=_0x5a78a5(0x119);const _0x5e63d7=_0x5920fb;if(_0x5df491[_0x5a78a5(0x11e)](_0x5e63d7[_0x5a78a5(0x155)]))return _0x5e63d7['DJeqz'];if(_0x5df491[_0x5a78a5(0x11e)](_0x5e63d7[_0x5a78a5(0x197)]))return _0x5e63d7[_0x5a78a5(0x197)];if(_0x5df491[_0x5a78a5(0x11e)](_0x5e63d7[_0x5a78a5(0x1ba)]))return _0x5e63d7[_0x5a78a5(0x1ba)];if(_0x5df491[_0x5a78a5(0x11e)](_0x5e63d7[_0x5a78a5(0x1ad)]))return _0x5e63d7[_0x5a78a5(0x1ad)];},getBrowserFromWSEndpoint=_0x38239e=>{const _0x1d28c2=a60_0xb1c3f3,_0x53332f={'mAtZw':'bstack:options','egMWa':function(_0xbe4ac5,_0x25d91f){return _0xbe4ac5(_0x25d91f);},'xWCkY':'edge','opNvh':_0x1d28c2(0x149),'agqoK':_0x1d28c2(0x19f),'lJJlL':_0x1d28c2(0x12a),'WWKBE':_0x1d28c2(0x119),'hnOpX':_0x1d28c2(0x144),'GgzHW':_0x1d28c2(0x1a4)};try{const _0x4d4a4d=url['parse'](_0x38239e),_0x4cf918=new URLSearchParams(_0x4d4a4d[_0x1d28c2(0x10a)]),_0x563cb3=Object[_0x1d28c2(0x1bd)](_0x4cf918[_0x1d28c2(0x163)]()),_0x8c0518=[_0x563cb3[_0x1d28c2(0x15b)],_0x563cb3['capabilities'],_0x563cb3[_0x1d28c2(0x184)],_0x563cb3['browserstack_capabilities']];for(const _0x4340b5 of _0x8c0518){if(_0x4340b5)try{const _0x3eb1f5=JSON[_0x1d28c2(0x131)](_0x4340b5),_0x4c0d86=_0x3eb1f5[_0x1d28c2(0x198)]||_0x3eb1f5[_0x1d28c2(0x1c1)]||_0x3eb1f5[_0x53332f[_0x1d28c2(0x13a)]]?.[_0x1d28c2(0x198)];if(_0x4c0d86)return _0x53332f[_0x1d28c2(0x165)](debug,_0x1d28c2(0x105)+_0x4c0d86),_0x4c0d86['toLowerCase']();}catch(_0x165918){_0x53332f[_0x1d28c2(0x165)](debug,_0x1d28c2(0x178)+_0x165918[_0x1d28c2(0x181)]);}}if(_0x38239e['includes'](_0x53332f[_0x1d28c2(0x173)])||_0x38239e[_0x1d28c2(0x11e)](_0x53332f[_0x1d28c2(0x114)]))return _0x53332f[_0x1d28c2(0x173)];if(_0x38239e['includes'](_0x53332f[_0x1d28c2(0x14f)])||_0x38239e['includes'](_0x53332f[_0x1d28c2(0x142)]))return _0x53332f[_0x1d28c2(0x14f)];if(_0x38239e[_0x1d28c2(0x11e)](_0x53332f['WWKBE'])||_0x38239e[_0x1d28c2(0x11e)](_0x53332f['hnOpX']))return _0x53332f['WWKBE'];return _0x53332f[_0x1d28c2(0x1a7)];}catch(_0x9396e2){return _0x53332f[_0x1d28c2(0x165)](debug,_0x1d28c2(0x188)+_0x9396e2[_0x1d28c2(0x15c)]()),_0x53332f[_0x1d28c2(0x1a7)];}},getCloudProviderFromWsEndpoint=_0x3ab695=>{const _0x158128=a60_0xb1c3f3,_0x3c9345={};_0x3c9345[_0x158128(0x126)]=_0x158128(0x110),_0x3c9345[_0x158128(0x109)]='unknown_grid';const _0x4e6c24=_0x3c9345;if(_0x3ab695['includes'](constants[_0x158128(0x11d)])||_0x3ab695[_0x158128(0x11e)](constants[_0x158128(0x136)]))return _0x4e6c24['CztHG'];return _0x4e6c24[_0x158128(0x109)];},a60_0x23669c={};a60_0x23669c[a60_0xb1c3f3(0x128)]=undefined,a60_0x23669c['bsSessionId']=undefined,a60_0x23669c[a60_0xb1c3f3(0x1c1)]=undefined,a60_0x23669c[a60_0xb1c3f3(0x148)]=undefined,a60_0x23669c[a60_0xb1c3f3(0x1be)]=undefined,a60_0x23669c[a60_0xb1c3f3(0x160)]=undefined,a60_0x23669c[a60_0xb1c3f3(0x180)]=undefined,a60_0x23669c[a60_0xb1c3f3(0x18b)]={};class SharedPlaywrightSessionDetails{static [a60_0xb1c3f3(0x19e)]=a60_0x23669c;constructor(){const _0x20635b=a60_0xb1c3f3,_0x1f1a40={};_0x1f1a40[_0x20635b(0x14e)]=_0x20635b(0x192);const _0x48476a=_0x1f1a40;throw new Error(_0x48476a[_0x20635b(0x14e)]);}static [a60_0xb1c3f3(0x118)]=null;static[a60_0xb1c3f3(0x1b3)](_0x26a370,_0x12e241,_0x57e327=null){const _0x3a7882=a60_0xb1c3f3,_0x4e36a7={'ICfvU':function(_0x3dbc9f,_0x4278b4){return _0x3dbc9f===_0x4278b4;},'sipKG':'function','nAoFl':_0x3a7882(0xff),'ISgZx':function(_0x529ceb,_0x579838){return _0x529ceb===_0x579838;},'uJxri':_0x3a7882(0x153),'EBNld':_0x3a7882(0x122),'IIsph':function(_0x589c44,_0x368eaa,_0x3b6dc4){return _0x589c44(_0x368eaa,_0x3b6dc4);},'HZkkL':_0x3a7882(0x1aa),'mvXXp':'_defaultConnectOptions','dtkDO':'project','YvUjc':_0x3a7882(0x145),'ibJsn':_0x3a7882(0x17b),'VURJo':function(_0x56b6bb,_0x14c73b){return _0x56b6bb(_0x14c73b);},'wdiyi':'browserstack','BtfHZ':_0x3a7882(0x140),'yuOuf':_0x3a7882(0x17c),'IrohZ':function(_0x33cce5,_0x58ec45){return _0x33cce5(_0x58ec45);},'zblmb':'chromium','vkNSj':function(_0x22985a,_0x549930){return _0x22985a(_0x549930);},'LrjBq':function(_0x236fc9,_0x514bfe){return _0x236fc9+_0x514bfe;},'Nxhtf':_0x3a7882(0x1b7),'XHENQ':function(_0x1fcee9){return _0x1fcee9();},'AbWPP':function(_0x555fe0,_0x2a68b7,_0x1796ff){return _0x555fe0(_0x2a68b7,_0x1796ff);},'IEaXs':'setupBrowserDetails'},_0x27a750=this;return _0x4e36a7['AbWPP'](o11yErrorHandler,async function _0x2277a1(_0x51c790,_0x5e51db,_0x37c01d=null){const _0x153042=_0x3a7882;let _0x3f8e5f=_0x51c790['_name'],_0x534576=null;_0x51c790&&_0x4e36a7[_0x153042(0x132)](typeof _0x51c790['version'],_0x4e36a7['sipKG'])?_0x534576=_0x51c790[_0x153042(0x1a1)]():logger['debug'](_0x4e36a7[_0x153042(0x1a6)]);let _0x576bc6=null;_0x51c790&&_0x4e36a7[_0x153042(0x12b)](typeof _0x51c790[_0x153042(0x1ae)],_0x4e36a7[_0x153042(0x112)])?_0x576bc6=_0x51c790['model']():logger[_0x153042(0x11f)](_0x4e36a7['uJxri']);let _0x51866c=null,_0x57ed16=null,_0x4e7c04=null,_0x44ca14=_0x4e36a7[_0x153042(0x193)];if(_0x51c790[_0x153042(0x1af)][_0x153042(0x183)]()||global[_0x153042(0x159)]){let _0x3004d2=null;_0x4e36a7[_0x153042(0x182)](nestedKeyValue,_0x51c790,[_0x4e36a7[_0x153042(0x111)],_0x4e36a7[_0x153042(0x10c)]])?_0x3004d2=_0x51c790[_0x153042(0x1aa)][_0x153042(0x18e)]:_0x3004d2=_0x4e36a7['IIsph'](nestedKeyValue,_0x5e51db,[_0x4e36a7[_0x153042(0x130)],_0x4e36a7[_0x153042(0x116)],_0x4e36a7[_0x153042(0x104)]]);const _0x574e9c=_0x37c01d||_0x3004d2&&_0x3004d2['wsEndpoint'];if(_0x574e9c){_0x44ca14=_0x4e36a7[_0x153042(0x1a5)](getCloudProviderFromWsEndpoint,_0x574e9c);if(_0x4e36a7[_0x153042(0x12b)](_0x44ca14,_0x4e36a7[_0x153042(0x10d)])){_0x4e7c04=constants[_0x153042(0x19a)][_0x153042(0x14b)](_0x574e9c)?_0x4e36a7[_0x153042(0x15e)]:_0x4e36a7[_0x153042(0x19b)];const _0x27141a=_0x4e36a7['IrohZ'](getBrowserFromWSEndpoint,_0x574e9c);if(_0x27141a&&(!_0x3f8e5f||_0x4e36a7[_0x153042(0x132)](_0x3f8e5f,_0x4e36a7['zblmb'])))_0x3f8e5f=_0x27141a,logger[_0x153042(0x11f)](_0x153042(0x12e)+_0x3f8e5f);else _0x3f8e5f&&logger[_0x153042(0x11f)]('Using\x20browser\x20name\x20from\x20browser\x20object:\x20'+_0x3f8e5f);_0x51866c=_0x27a750['currentSessionDetails'][_0x153042(0x1be)],_0x57ed16=_0x27a750[_0x153042(0x19e)]['platform_version'];}}}else{_0x5e51db&&_0x5e51db[_0x153042(0x152)]&&_0x5e51db[_0x153042(0x152)][_0x153042(0x145)]&&_0x5e51db[_0x153042(0x152)][_0x153042(0x145)][_0x153042(0x1b6)]?_0x3f8e5f=_0x4e36a7[_0x153042(0x13b)](getBrowserNameFromChannel,_0x5e51db['project']['use']['channel']):_0x3f8e5f=_0x4e36a7['LrjBq'](_0x4e36a7['Nxhtf'],_0x3f8e5f['toLowerCase']());const _0x162f13=await _0x4e36a7[_0x153042(0x11b)](getPlatformDetails);_0x51866c=_0x162f13['platformName'],_0x57ed16=_0x162f13[_0x153042(0x151)];}const _0x2a4d6f={};_0x2a4d6f[_0x153042(0x1c1)]=_0x3f8e5f,_0x2a4d6f['browser_version']=_0x534576,_0x2a4d6f['capabilities']={},_0x2a4d6f[_0x153042(0x1be)]=_0x51866c,_0x2a4d6f[_0x153042(0x160)]=_0x57ed16,_0x2a4d6f[_0x153042(0x180)]=_0x4e7c04;const _0x5878ed=_0x2a4d6f;_0x576bc6&&(_0x5878ed[_0x153042(0x18b)][_0x153042(0x185)]=_0x576bc6);const _0x347088={};_0x347088[_0x153042(0x128)]=_0x44ca14,_0x27a750[_0x153042(0x19e)]=Object[_0x153042(0x1bb)]({},_0x27a750[_0x153042(0x19e)],_0x347088,_0x5878ed);const _0x115948={};_0x115948[_0x153042(0x1c1)]=_0x27a750[_0x153042(0x19e)]['browser'],_0x115948[_0x153042(0x169)]=_0x27a750[_0x153042(0x19e)][_0x153042(0x148)],_0x115948['platform']=_0x27a750[_0x153042(0x19e)][_0x153042(0x1be)],_0x115948[_0x153042(0x151)]=_0x27a750['currentSessionDetails'][_0x153042(0x160)],_0x115948[_0x153042(0x128)]=_0x27a750[_0x153042(0x19e)][_0x153042(0x128)],_0x115948[_0x153042(0x180)]=_0x27a750[_0x153042(0x19e)][_0x153042(0x180)],logger[_0x153042(0x11f)]('Session\x20details\x20setup\x20complete:\x20'+JSON[_0x153042(0x161)](_0x115948));},_0x4e36a7[_0x3a7882(0x147)])(_0x26a370,_0x12e241,_0x57e327);}static['patch'](){const _0x4c90e2=a60_0xb1c3f3;this[_0x4c90e2(0x1bf)](),this[_0x4c90e2(0x13c)]();}static[a60_0xb1c3f3(0x1bf)](){const _0x61d980=a60_0xb1c3f3,_0x5c1491={'KAXIU':function(_0x508139,_0x2acd3d){return _0x508139(_0x2acd3d);},'jqmHj':_0x61d980(0x16b),'hZItO':_0x61d980(0x113),'bAxqO':_0x61d980(0x1c0),'dzKpp':function(_0x4d399a,_0x2aa2b4){return _0x4d399a(_0x2aa2b4);},'BcQDd':function(_0x3c82d8,_0x28a689){return _0x3c82d8(_0x28a689);},'ChwOY':_0x61d980(0x14d),'TvKna':function(_0x1b59b3,_0x279493){return _0x1b59b3!=_0x279493;},'mcijj':function(_0x58a134,_0x2914b7){return _0x58a134(_0x2914b7);},'HNlpQ':_0x61d980(0x186),'YpDLG':'dispatch','xHkDb':'Successfully\x20patched\x20Connection.dispatch','ekAkh':function(_0x3f83cd,_0x33a8e6){return _0x3f83cd(_0x33a8e6);}},_0x339803=this;if(!this[_0x61d980(0x141)])try{const _0xa044c9=[path[_0x61d980(0x12c)](_0x5c1491['jqmHj'],_0x5c1491[_0x61d980(0x14c)],_0x5c1491['bAxqO']),path[_0x61d980(0x12c)](_0x5c1491[_0x61d980(0x1bc)],_0x5c1491[_0x61d980(0x166)]),path['join'](_0x5c1491[_0x61d980(0x14c)],_0x5c1491[_0x61d980(0x166)])];for(const _0x28658c of _0xa044c9){try{const _0x1411eb=_0x5c1491[_0x61d980(0x190)](importFileFromPWCore,_0x28658c);if(_0x1411eb&&_0x1411eb['Connection']){this[_0x61d980(0x141)]=_0x1411eb['Connection'],logger[_0x61d980(0x11f)]('Found\x20Connection\x20class\x20at:\x20'+_0x28658c);break;}}catch(_0x318973){_0x5c1491['dzKpp'](debug,_0x61d980(0x103)+_0x28658c+':\x20'+_0x318973[_0x61d980(0x15c)]());}}if(!this[_0x61d980(0x141)]){_0x5c1491['BcQDd'](debug,_0x5c1491[_0x61d980(0x102)]);return;}}catch(_0x2e3648){_0x5c1491[_0x61d980(0x190)](debug,'Error\x20in\x20importing\x20connection\x20'+_0x2e3648[_0x61d980(0x15c)]());return;}const _0x4fdd76=this['Connection'];try{if(_0x5c1491['TvKna'](_0x4fdd76,null)){const _0x42783c=_0x4fdd76['prototype'][_0x61d980(0x16f)];if(!_0x5c1491['mcijj'](isFalse,process[_0x61d980(0x164)][_0x61d980(0x189)])){if(_0x4fdd76[_0x61d980(0x10b)][_0x61d980(0x17f)]){logger[_0x61d980(0x11f)](_0x5c1491[_0x61d980(0x107)]);return;}Object[_0x61d980(0x16c)](_0x4fdd76[_0x61d980(0x10b)],_0x5c1491[_0x61d980(0x18d)],{'get':function(){return async function _0x1e768d(_0x5efb61){const _0x504b52=a60_0xe748;if(BrowserstackCLI['getInstance']()[_0x504b52(0x171)]()){const _0x945d58={};_0x945d58[_0x504b52(0x181)]=_0x5efb61,await BrowserstackCLI[_0x504b52(0x19d)]()['getAutomationFramework']()[_0x504b52(0x19c)](AutomationFrameworkState[_0x504b52(0x1b5)],HookState[_0x504b52(0x191)],_0x945d58);}else{const _0x3f9257=_0x5efb61&&_0x5efb61[_0x504b52(0x1b0)]&&_0x5efb61[_0x504b52(0x1b0)][_0x504b52(0x158)];if(_0x3f9257){const _0x455745=_0x3f9257[_0x504b52(0x194)],_0x4a2c72=_0x3f9257[_0x504b52(0x195)];_0x4a2c72&&(_0x5c1491[_0x504b52(0x190)](debug,_0x504b52(0x16e)+_0x4a2c72['toString']()),_0x339803[_0x504b52(0x19e)][_0x504b52(0x1be)]=_0x4a2c72[_0x504b52(0x127)],_0x339803['currentSessionDetails'][_0x504b52(0x160)]=_0x4a2c72[_0x504b52(0x151)]),_0x455745&&(_0x5c1491[_0x504b52(0x190)](debug,_0x504b52(0x120)+_0x455745),_0x339803['currentSessionDetails'][_0x504b52(0x179)]=_0x455745);}}return _0x42783c[_0x504b52(0x156)](this,arguments);};}}),_0x4fdd76['prototype']['_bstackDispatchPatched']=!![],logger['debug'](_0x5c1491['xHkDb']);}}}catch(_0x189fce){_0x5c1491['ekAkh'](debug,_0x61d980(0x10e)+_0x189fce),_0x339803[_0x61d980(0x118)]=_0x189fce[_0x61d980(0x15c)]();}}static[a60_0xb1c3f3(0x13c)](){const _0x3d5b5b=a60_0xb1c3f3,_0x566f37={'tDNfa':function(_0x560467,_0x3ad3a1){return _0x560467(_0x3ad3a1);},'XHpZH':function(_0x26ce5e,_0x2b1b2d){return _0x26ce5e(_0x2b1b2d);},'cFqiI':'lib','njyhN':_0x3d5b5b(0x168),'VajYN':_0x3d5b5b(0x13f),'lnSza':_0x3d5b5b(0x133),'cIBbq':function(_0x3d7cf8,_0x4b8160){return _0x3d7cf8(_0x4b8160);},'fHqrC':'Not\x20able\x20to\x20import\x20crConnection','SILic':_0x3d5b5b(0x137),'yoGVA':function(_0x359c89,_0x36f22f){return _0x359c89!=_0x36f22f;},'wyjtu':'CRConnection\x20already\x20patched','BrvIU':'_onMessage','KYjMS':'Successfully\x20patched\x20CRConnection._onMessage'},_0x2cf205=this;let _0xaa8869=null;try{const _0xbb002a=path[_0x3d5b5b(0x12c)](_0x566f37[_0x3d5b5b(0x1ab)],_0x566f37[_0x3d5b5b(0x1a0)],_0x566f37[_0x3d5b5b(0x10f)],_0x566f37[_0x3d5b5b(0x106)]),_0x2fe437=_0x566f37[_0x3d5b5b(0x12f)](importFileFromPWCore,_0xbb002a);!_0x2fe437?_0x566f37['cIBbq'](debug,_0x566f37['fHqrC']):_0xaa8869=_0x2fe437[_0x3d5b5b(0x1b8)];}catch(_0x3eddb7){_0x566f37[_0x3d5b5b(0x1a2)](debug,_0x566f37[_0x3d5b5b(0x15d)]);}try{if(_0x566f37[_0x3d5b5b(0x123)](_0xaa8869,null)){const _0x46a161=_0xaa8869[_0x3d5b5b(0x10b)][_0x3d5b5b(0x175)];if(_0xaa8869[_0x3d5b5b(0x10b)][_0x3d5b5b(0x124)]){logger[_0x3d5b5b(0x11f)](_0x566f37[_0x3d5b5b(0x125)]);return;}Object['defineProperty'](_0xaa8869['prototype'],_0x566f37[_0x3d5b5b(0x101)],{'get':function(){return async function _0x306e30(_0x329241){const _0x1f5233=a60_0xe748;try{if(BrowserstackCLI['getInstance']()[_0x1f5233(0x171)]()){const _0x567b18={};_0x567b18[_0x1f5233(0x181)]=_0x329241,await BrowserstackCLI[_0x1f5233(0x19d)]()[_0x1f5233(0x11c)]()[_0x1f5233(0x19c)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState[_0x1f5233(0x191)],_0x567b18),delete _0x329241['bStackParams'];}else{const _0x38cd73=_0x329241[_0x1f5233(0x162)];if(_0x38cd73){delete _0x329241[_0x1f5233(0x162)];const _0x2a1445=_0x38cd73[_0x1f5233(0x194)],_0xda834a=_0x38cd73['platformDetails'];_0xda834a&&(_0x566f37[_0x1f5233(0x1a2)](debug,_0x1f5233(0x16a)+_0xda834a[_0x1f5233(0x15c)]()),_0x2cf205[_0x1f5233(0x19e)][_0x1f5233(0x1be)]=_0xda834a[_0x1f5233(0x127)],_0x2cf205['currentSessionDetails'][_0x1f5233(0x160)]=_0xda834a['platformVersion']),_0x2a1445&&(_0x566f37['tDNfa'](debug,_0x1f5233(0x134)+_0x2a1445),_0x2cf205[_0x1f5233(0x19e)][_0x1f5233(0x179)]=_0x2a1445);}}}catch(_0x3cc88f){_0x566f37[_0x1f5233(0x154)](debug,'Error\x20in\x20finding\x20platform\x20details\x20'+_0x3cc88f['toString']());}return _0x46a161[_0x1f5233(0x156)](this,arguments);};}}),_0xaa8869[_0x3d5b5b(0x10b)][_0x3d5b5b(0x124)]=!![],logger[_0x3d5b5b(0x11f)](_0x566f37['KYjMS']);}}catch(_0x599044){_0x566f37[_0x3d5b5b(0x12f)](debug,'Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20'+_0x599044),_0x2cf205['sessionError']=_0x599044['toString']();}}static['extractBrowserStackParams'](_0x526725,_0x2fd21d){const _0x2dffd1=a60_0xb1c3f3,_0x11e17c={'ZeNTR':_0x2dffd1(0x17a),'CybEm':function(_0x1adee9,_0x33f482){return _0x1adee9||_0x33f482;},'dHwOQ':function(_0x554664,_0x2f1c7a){return _0x554664||_0x2f1c7a;},'EzIRa':function(_0x13184e,_0x30b63e){return _0x13184e===_0x30b63e;},'STidN':'string','aJBZw':_0x2dffd1(0x167),'WZnHT':function(_0x24a731,_0x87ad27){return _0x24a731(_0x87ad27);},'bMzzb':function(_0x1ae5a7,_0xb0566b){return _0x1ae5a7(_0xb0566b);}};let _0x7a69c6=null,_0x50d45d=null;try{const _0x1a4eeb=[_0x2fd21d,global[_0x2dffd1(0x13e)],global[_0x2dffd1(0x121)]];for(const _0x4ff019 of _0x1a4eeb){if(_0x4ff019&&(!_0x50d45d||!_0x50d45d['sessionId'])){const _0x574050=_0x4ff019['sessionId']||_0x4ff019[_0x11e17c['ZeNTR']]?.[_0x2dffd1(0x194)],_0x43a88f=_0x4ff019['browserName']||_0x4ff019[_0x2dffd1(0x1c1)]||_0x4ff019[_0x11e17c[_0x2dffd1(0x1ac)]]?.[_0x2dffd1(0x198)],_0x34776e=_0x4ff019['browserVersion']||_0x4ff019['browser_version']||_0x4ff019[_0x11e17c[_0x2dffd1(0x1ac)]]?.[_0x2dffd1(0x169)],_0x2b9909=_0x4ff019['os']||_0x4ff019['platform']||_0x4ff019[_0x11e17c[_0x2dffd1(0x1ac)]]?.['os'],_0x10d4a6=_0x4ff019['osVersion']||_0x4ff019[_0x2dffd1(0x139)]||_0x4ff019[_0x11e17c[_0x2dffd1(0x1ac)]]?.[_0x2dffd1(0x170)];if(_0x11e17c['CybEm'](_0x574050,_0x43a88f)||_0x2b9909){const _0x2f9f0e={};_0x2f9f0e[_0x2dffd1(0x198)]=_0x43a88f,_0x2f9f0e[_0x2dffd1(0x169)]=_0x34776e,_0x2f9f0e['os']=_0x2b9909,_0x2f9f0e[_0x2dffd1(0x170)]=_0x10d4a6,_0x2f9f0e[_0x2dffd1(0x127)]=_0x4ff019['platformName']||_0x2b9909,_0x2f9f0e[_0x2dffd1(0x151)]=_0x4ff019[_0x2dffd1(0x151)]||_0x10d4a6;const _0x414cb8={};_0x414cb8['sessionId']=_0x574050,_0x414cb8[_0x2dffd1(0x195)]=_0x2f9f0e,_0x50d45d=_0x414cb8;if(_0x11e17c['dHwOQ'](_0x574050,_0x43a88f)){logger['debug'](_0x2dffd1(0x18a)+_0x43a88f+_0x2dffd1(0x12d)+_0x2b9909);break;}}}}if(_0x526725&&_0x11e17c['EzIRa'](typeof _0x526725,_0x11e17c[_0x2dffd1(0x16d)]))try{const _0x203d3f=url['parse'](_0x526725),_0x5d96f0=new URLSearchParams(_0x203d3f['query']),_0x541080=Object[_0x2dffd1(0x1bd)](_0x5d96f0[_0x2dffd1(0x163)]()),_0x1ab59b=[_0x541080['caps'],_0x541080[_0x2dffd1(0x18b)],_0x541080['desiredCapabilities']];for(const _0x9b5de7 of _0x1ab59b){if(_0x9b5de7&&(!_0x7a69c6||!_0x7a69c6[_0x2dffd1(0x194)]))try{const _0x1b95a0=JSON[_0x2dffd1(0x131)](_0x9b5de7),_0x46012b={};_0x46012b[_0x2dffd1(0x194)]=_0x1b95a0[_0x2dffd1(0x194)]||_0x1b95a0[_0x11e17c[_0x2dffd1(0x1ac)]]?.[_0x2dffd1(0x194)],_0x46012b[_0x2dffd1(0x195)]={},_0x46012b[_0x2dffd1(0x195)][_0x2dffd1(0x198)]=_0x1b95a0['browserName']||_0x1b95a0[_0x2dffd1(0x1c1)],_0x46012b[_0x2dffd1(0x195)][_0x2dffd1(0x169)]=_0x1b95a0[_0x2dffd1(0x169)]||_0x1b95a0['browser_version'],_0x46012b[_0x2dffd1(0x195)]['os']=_0x1b95a0['os']||_0x1b95a0[_0x2dffd1(0x1be)],_0x46012b[_0x2dffd1(0x195)][_0x2dffd1(0x170)]=_0x1b95a0[_0x2dffd1(0x170)]||_0x1b95a0[_0x2dffd1(0x139)],_0x46012b[_0x2dffd1(0x195)][_0x2dffd1(0x127)]=_0x1b95a0[_0x2dffd1(0x127)]||_0x1b95a0['os']||_0x1b95a0[_0x2dffd1(0x1be)],_0x46012b[_0x2dffd1(0x195)][_0x2dffd1(0x151)]=_0x1b95a0[_0x2dffd1(0x151)]||_0x1b95a0[_0x2dffd1(0x170)]||_0x1b95a0[_0x2dffd1(0x139)],_0x7a69c6=_0x46012b;if(_0x7a69c6[_0x2dffd1(0x194)]||_0x7a69c6['platformDetails'][_0x2dffd1(0x198)]){logger[_0x2dffd1(0x11f)](_0x11e17c[_0x2dffd1(0x129)]);break;}}catch(_0x316cdd){_0x11e17c[_0x2dffd1(0x150)](debug,'Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20'+_0x316cdd[_0x2dffd1(0x15c)]());}}}catch(_0x7ee8fd){_0x11e17c['WZnHT'](debug,_0x2dffd1(0x199)+_0x7ee8fd[_0x2dffd1(0x15c)]());}}catch(_0x13e53b){_0x11e17c[_0x2dffd1(0x108)](debug,_0x2dffd1(0x135)+util[_0x2dffd1(0x115)](_0x13e53b));}const _0x2ddf75={};return _0x2ddf75['bsParams']=_0x7a69c6,_0x2ddf75['bStackParams']=_0x50d45d,_0x2ddf75;}static async[a60_0xb1c3f3(0x14a)](_0x10d601,_0x1847e8){const _0x5410ab=a60_0xb1c3f3,_0x371cd8={'rIben':function(_0x432510,_0x3b92b4){return _0x432510||_0x3b92b4;},'OEniy':_0x5410ab(0x174),'zMCJk':function(_0x4b4991,_0x4df49c){return _0x4b4991(_0x4df49c);}};try{if(!BrowserstackCLI[_0x5410ab(0x19d)]()[_0x5410ab(0x171)]())return;if(_0x371cd8['rIben'](_0x10d601,_0x1847e8)){logger[_0x5410ab(0x11f)](_0x371cd8[_0x5410ab(0x187)]);const _0x48bdfb={'params':_0x10d601?{'bsParams':_0x10d601}:null,'bStackParams':_0x371cd8['rIben'](_0x1847e8,null)},_0x2ca75b=AutomationFramework[_0x5410ab(0x18f)](),_0x121375={};_0x121375['message']=_0x48bdfb,_0x121375[_0x5410ab(0x117)]=_0x2ca75b,await BrowserstackCLI[_0x5410ab(0x19d)]()[_0x5410ab(0x11c)]()[_0x5410ab(0x19c)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState['POST'],_0x121375);}}catch(_0x3af69a){_0x371cd8[_0x5410ab(0x177)](debug,_0x5410ab(0x172)+util[_0x5410ab(0x115)](_0x3af69a));}}static[a60_0xb1c3f3(0x1a8)](){const _0xba61c3=a60_0xb1c3f3;return this[_0xba61c3(0x19e)];}}module['exports']=SharedPlaywrightSessionDetails;