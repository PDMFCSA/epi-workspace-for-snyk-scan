const a60_0x59c4e5=a60_0x243e;(function(_0x402a2e,_0x2bd175){const _0x3cc801=a60_0x243e,_0xf20e33=_0x402a2e();while(!![]){try{const _0x4ead1b=-parseInt(_0x3cc801(0x1e0))/0x1*(parseInt(_0x3cc801(0x193))/0x2)+parseInt(_0x3cc801(0x153))/0x3*(parseInt(_0x3cc801(0x1db))/0x4)+-parseInt(_0x3cc801(0x169))/0x5*(parseInt(_0x3cc801(0x1a3))/0x6)+parseInt(_0x3cc801(0x18b))/0x7+-parseInt(_0x3cc801(0x19d))/0x8+-parseInt(_0x3cc801(0x189))/0x9+parseInt(_0x3cc801(0x16e))/0xa;if(_0x4ead1b===_0x2bd175)break;else _0xf20e33['push'](_0xf20e33['shift']());}catch(_0x3e8f90){_0xf20e33['push'](_0xf20e33['shift']());}}}(a60_0x582c,0x76dda));const path=require(a60_0x59c4e5(0x15e)),url=require(a60_0x59c4e5(0x1ed)),util=require('util'),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x59c4e5(0x19f)),{o11yErrorHandler}=require(a60_0x59c4e5(0x1a7)),{debug,getPlatformDetails}=require(a60_0x59c4e5(0x1da)),logger=require('../../helpers/logger')['winstonLogger'],constants=require(a60_0x59c4e5(0x139)),AutomationFramework=require(a60_0x59c4e5(0x1ea)),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require(a60_0x59c4e5(0x161)),HookState=require('../v2/state/hookState.js'),{platform}=require('os'),getBrowserNameFromChannel=_0x291b70=>{const _0x12d504=a60_0x59c4e5,_0x2d453b={};_0x2d453b[_0x12d504(0x14d)]=_0x12d504(0x1a9),_0x2d453b[_0x12d504(0x1d5)]=_0x12d504(0x167),_0x2d453b['rySXn']=_0x12d504(0x17b),_0x2d453b[_0x12d504(0x19a)]='safari';const _0x11d30d=_0x2d453b;if(_0x291b70['includes'](_0x11d30d[_0x12d504(0x14d)]))return _0x11d30d[_0x12d504(0x14d)];if(_0x291b70[_0x12d504(0x1e1)](_0x11d30d[_0x12d504(0x1d5)]))return _0x11d30d[_0x12d504(0x1d5)];if(_0x291b70[_0x12d504(0x1e1)](_0x11d30d['rySXn']))return _0x11d30d[_0x12d504(0x173)];if(_0x291b70['includes'](_0x11d30d[_0x12d504(0x19a)]))return _0x11d30d[_0x12d504(0x19a)];},getBrowserFromWSEndpoint=_0x6c7b37=>{const _0x5e187b=a60_0x59c4e5,_0x1ddcea={'drYRw':_0x5e187b(0x127),'hAetN':function(_0x19c864,_0x48d107){return _0x19c864(_0x48d107);},'yNHWc':_0x5e187b(0x167),'LvtxG':'msedge','LXrNu':_0x5e187b(0x17b),'jAhEG':_0x5e187b(0x1d8),'rtSHU':_0x5e187b(0x1c0),'ncRJy':_0x5e187b(0x1ef),'xIeGQ':_0x5e187b(0x1a9),'fPlPU':function(_0x5a6f0e,_0x2bfece){return _0x5a6f0e(_0x2bfece);}};try{const _0x5b2ec7=url['parse'](_0x6c7b37),_0xdd2f10=new URLSearchParams(_0x5b2ec7[_0x5e187b(0x16d)]),_0x1bbb61=Object[_0x5e187b(0x13b)](_0xdd2f10['entries']()),_0x53aaee=[_0x1bbb61[_0x5e187b(0x18c)],_0x1bbb61[_0x5e187b(0x144)],_0x1bbb61[_0x5e187b(0x138)],_0x1bbb61[_0x5e187b(0x1b8)]];for(const _0x2fefff of _0x53aaee){if(_0x2fefff)try{const _0x1c9f49=JSON[_0x5e187b(0x1b2)](_0x2fefff),_0x2ceb3a=_0x1c9f49[_0x5e187b(0x156)]||_0x1c9f49[_0x5e187b(0x157)]||_0x1c9f49[_0x1ddcea[_0x5e187b(0x1d4)]]?.[_0x5e187b(0x156)];if(_0x2ceb3a)return _0x1ddcea[_0x5e187b(0x1d3)](debug,_0x5e187b(0x19e)+_0x2ceb3a),_0x2ceb3a[_0x5e187b(0x1de)]();}catch(_0x2319b5){_0x1ddcea[_0x5e187b(0x1d3)](debug,_0x5e187b(0x1d6)+_0x2319b5[_0x5e187b(0x171)]);}}if(_0x6c7b37[_0x5e187b(0x1e1)](_0x1ddcea[_0x5e187b(0x18e)])||_0x6c7b37[_0x5e187b(0x1e1)](_0x1ddcea['LvtxG']))return _0x1ddcea[_0x5e187b(0x18e)];if(_0x6c7b37[_0x5e187b(0x1e1)](_0x1ddcea[_0x5e187b(0x1ca)])||_0x6c7b37['includes'](_0x1ddcea[_0x5e187b(0x1c3)]))return _0x1ddcea['LXrNu'];if(_0x6c7b37[_0x5e187b(0x1e1)](_0x1ddcea[_0x5e187b(0x1e7)])||_0x6c7b37[_0x5e187b(0x1e1)](_0x1ddcea['ncRJy']))return _0x1ddcea['rtSHU'];return _0x1ddcea[_0x5e187b(0x181)];}catch(_0x41982b){return _0x1ddcea['fPlPU'](debug,_0x5e187b(0x1c8)+_0x41982b[_0x5e187b(0x15d)]()),_0x1ddcea[_0x5e187b(0x181)];}},getCloudProviderFromWsEndpoint=_0x5c0304=>{const _0x317ab6=a60_0x59c4e5,_0x49f582={};_0x49f582[_0x317ab6(0x188)]=_0x317ab6(0x14a),_0x49f582['RSRYE']=_0x317ab6(0x1e4);const _0x9bf1fa=_0x49f582;if(_0x5c0304[_0x317ab6(0x1e1)](constants[_0x317ab6(0x1a6)])||_0x5c0304[_0x317ab6(0x1e1)](constants[_0x317ab6(0x14c)]))return _0x9bf1fa[_0x317ab6(0x188)];return _0x9bf1fa[_0x317ab6(0x17d)];},a60_0x52ec3d={};a60_0x52ec3d[a60_0x59c4e5(0x185)]=undefined,a60_0x52ec3d[a60_0x59c4e5(0x198)]=undefined,a60_0x52ec3d[a60_0x59c4e5(0x157)]=undefined,a60_0x52ec3d[a60_0x59c4e5(0x16b)]=undefined,a60_0x52ec3d[a60_0x59c4e5(0x1be)]=undefined,a60_0x52ec3d[a60_0x59c4e5(0x19c)]=undefined,a60_0x52ec3d[a60_0x59c4e5(0x152)]=undefined,a60_0x52ec3d[a60_0x59c4e5(0x144)]={};function a60_0x582c(){const _0x2d3d5a=['Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','client','platform','HHsCK','safari','deviceModel','platformName','jAhEG','_bstackDispatchPatched','_defaultConnectOptions','hCyYS','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','IQTIj','LXrNu','Error\x20extracting\x20BrowserStack\x20parameters:\x20','platformDetails','debug','_name','ZlZvm','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','getTrackedInstance','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','hAetN','drYRw','tgCvv','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','_connection','gecko','patchCRConnection','../../helpers/test-observability/utils','248sJIhfM','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','ebCMv','toLowerCase','zKQFl','162kZudDy','includes','platformVersion','osVersion','unknown_grid',',\x20os=','vklDO','rtSHU','iClQJ','channel','../v2/framework/automationFramework','isRunning','patch','url','currentSessionDetails','webkit','_bstackCRPatched','AYJwc','bstack:options','trackEvent','pULRH','AiIgg','eZWlR','_onMessage','defineProperty','getDetails','use','yLdUR','string','sessionError','Error\x20in\x20importing\x20connection\x20','project','ZMKoI','server','LLXTE','desiredCapabilities','./constants','exports','fromEntries','_browserType','nxXck','JgAnt','oeaCD','bStackParams','triggerPlaywrightDispatchEvent','tWpSl','zQNNB','capabilities','Session\x20details\x20setup\x20complete:\x20','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','POST','browserVersion','patchConnection','browserstack','gafHE','BSTACK_ATS_URL','Jjtqw','join','prototype','getInstance','XZZeL','product','14082pmFeog','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','ldjts','browserName','browser','stringify','Not\x20able\x20to\x20import\x20crConnection','oxRJr','Successfully\x20patched\x20Connection.dispatch','Connection\x20dispatch\x20already\x20patched','toString','path','params','VIxgo','../v2/state/automationFrameworkState.js','ZFctR','ORGRt','function','CRConnection\x20already\x20patched','LoONW','edge','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','5hAXzEz','entries','browser_version','CrAdF','query','16470240Eymkjb','Error\x20in\x20applying\x20Connection\x20patch\x20','FDmgl','message','Found\x20Connection\x20class\x20at:\x20','rySXn','UMwGH','nnoHd','model','sessionId','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','bsParams','mKsjO','firefox','lib','RSRYE','crConnection.js','extractBrowserStackParams','rrVCq','xIeGQ','OYIzu','assign','dzigL','cloudProvider','capabilties','turboscale','rfwue','2094813NFMZXf','lJzmh','5816160ZpQKQg','caps','isRemote','yNHWc','ozzig','JjJxw','__platformCaps','Connection','8972pamWjU','gMGBe','JKZSF','local_grid','wsEndpoint','bsSessionId','MPkVw','UzyKm','apply','platform_version','4214128kaiQfi','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','../../helpers/helper','setupBrowserDetails','dispatch','os_version','4774818LNejDs','lIjqO','chromium','BSTACK_URL','../../helpers/test-observability/error-handler','EwQqX','chrome','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','test','version','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','vpewW','PLAYWRIGHT_DISPATCH','Setting\x20session\x20id\x20received\x20from\x20BS\x20','cfZBP','parse','format','iMHRw','Error\x20in\x20finding\x20platform\x20details\x20','dRnnm','SxpyY','browserstack_capabilities','getAutomationFramework','VaGpR','env'];a60_0x582c=function(){return _0x2d3d5a;};return a60_0x582c();}function a60_0x243e(_0xb3eadd,_0x519c12){const _0x582c45=a60_0x582c();return a60_0x243e=function(_0x243eaa,_0x24c223){_0x243eaa=_0x243eaa-0x127;let _0x4afc4f=_0x582c45[_0x243eaa];return _0x4afc4f;},a60_0x243e(_0xb3eadd,_0x519c12);}class SharedPlaywrightSessionDetails{static ['currentSessionDetails']=a60_0x52ec3d;constructor(){const _0x3b742e=a60_0x59c4e5,_0x12e9c5={};_0x12e9c5[_0x3b742e(0x155)]=_0x3b742e(0x146);const _0x4a81f5=_0x12e9c5;throw new Error(_0x4a81f5[_0x3b742e(0x155)]);}static [a60_0x59c4e5(0x132)]=null;static[a60_0x59c4e5(0x1a0)](_0x176445,_0x1bb902,_0x32a221=null){const _0x4f8ef7=a60_0x59c4e5,_0x54dcfb={'zQNNB':function(_0x36f570,_0x193895){return _0x36f570===_0x193895;},'JgAnt':_0x4f8ef7(0x164),'XZZeL':_0x4f8ef7(0x178),'nXJdn':function(_0x2f8bd1,_0x4e8f2e){return _0x2f8bd1===_0x4e8f2e;},'hCyYS':'Device\x20Model\x20is\x20not\x20available','iClQJ':_0x4f8ef7(0x196),'cfZBP':function(_0x3d2874,_0xe13922,_0x2a6694){return _0x3d2874(_0xe13922,_0x2a6694);},'ReTur':_0x4f8ef7(0x13c),'HHsCK':_0x4f8ef7(0x1c5),'lIjqO':_0x4f8ef7(0x134),'kqOpF':_0x4f8ef7(0x12f),'LLXTE':'connectOptions','yLdUR':function(_0x3a9bec,_0x429dc1){return _0x3a9bec(_0x429dc1);},'DGMRl':function(_0x42cead,_0x5d60fa){return _0x42cead===_0x5d60fa;},'UPuyL':'browserstack','JjJxw':_0x4f8ef7(0x187),'IQTIj':'automate','wlvdE':function(_0x489382,_0x40eb55){return _0x489382(_0x40eb55);},'AYJwc':function(_0x585f9e,_0x28f11b){return _0x585f9e===_0x28f11b;},'VaGpR':_0x4f8ef7(0x1a5),'nnoHd':function(_0x4b1ffd,_0x5f209a){return _0x4b1ffd+_0x5f209a;},'oeaCD':'playwright-','vklDO':function(_0x33eac5){return _0x33eac5();},'SxpyY':function(_0x41eb4e,_0x10cb57,_0x56f32b){return _0x41eb4e(_0x10cb57,_0x56f32b);},'dRnnm':'setupBrowserDetails'},_0x50ed53=this;return _0x54dcfb[_0x4f8ef7(0x1b7)](o11yErrorHandler,async function _0x46985b(_0x35d0e9,_0x44fedf,_0x417bdc=null){const _0x1573d8=_0x4f8ef7;let _0x1a847c=_0x35d0e9[_0x1573d8(0x1ce)],_0x8459b1=null;_0x35d0e9&&_0x54dcfb[_0x1573d8(0x143)](typeof _0x35d0e9['version'],_0x54dcfb[_0x1573d8(0x13e)])?_0x8459b1=_0x35d0e9[_0x1573d8(0x1ac)]():logger['debug'](_0x54dcfb[_0x1573d8(0x151)]);let _0x1be064=null;_0x35d0e9&&_0x54dcfb['nXJdn'](typeof _0x35d0e9[_0x1573d8(0x176)],_0x54dcfb[_0x1573d8(0x13e)])?_0x1be064=_0x35d0e9['model']():logger[_0x1573d8(0x1cd)](_0x54dcfb[_0x1573d8(0x1c6)]);let _0x58ceea=null,_0x2020e4=null,_0x223cba=null,_0x21026a=_0x54dcfb[_0x1573d8(0x1e8)];if(_0x35d0e9[_0x1573d8(0x1d7)][_0x1573d8(0x18d)]()||global['accessibilityPlatform']){let _0x1ab093=null;_0x54dcfb[_0x1573d8(0x1b1)](nestedKeyValue,_0x35d0e9,[_0x54dcfb['ReTur'],_0x54dcfb[_0x1573d8(0x1bf)]])?_0x1ab093=_0x35d0e9[_0x1573d8(0x13c)][_0x1573d8(0x1c5)]:_0x1ab093=_0x54dcfb[_0x1573d8(0x1b1)](nestedKeyValue,_0x44fedf,[_0x54dcfb[_0x1573d8(0x1a4)],_0x54dcfb['kqOpF'],_0x54dcfb[_0x1573d8(0x137)]]);const _0x4b19c3=_0x417bdc||_0x1ab093&&_0x1ab093[_0x1573d8(0x197)];if(_0x4b19c3){_0x21026a=_0x54dcfb[_0x1573d8(0x130)](getCloudProviderFromWsEndpoint,_0x4b19c3);if(_0x54dcfb['DGMRl'](_0x21026a,_0x54dcfb['UPuyL'])){_0x223cba=constants['ATS_WSS_URL_REGEX'][_0x1573d8(0x1ab)](_0x4b19c3)?_0x54dcfb[_0x1573d8(0x190)]:_0x54dcfb[_0x1573d8(0x1c9)];const _0x1c01be=_0x54dcfb['wlvdE'](getBrowserFromWSEndpoint,_0x4b19c3);if(_0x1c01be&&(!_0x1a847c||_0x54dcfb[_0x1573d8(0x1f1)](_0x1a847c,_0x54dcfb[_0x1573d8(0x1ba)])))_0x1a847c=_0x1c01be,logger['debug'](_0x1573d8(0x154)+_0x1a847c);else _0x1a847c&&logger[_0x1573d8(0x1cd)](_0x1573d8(0x1d0)+_0x1a847c);_0x58ceea=_0x50ed53[_0x1573d8(0x1ee)][_0x1573d8(0x1be)],_0x2020e4=_0x50ed53['currentSessionDetails'][_0x1573d8(0x19c)];}}}else{_0x44fedf&&_0x44fedf[_0x1573d8(0x134)]&&_0x44fedf['project'][_0x1573d8(0x12f)]&&_0x44fedf['project'][_0x1573d8(0x12f)][_0x1573d8(0x1e9)]?_0x1a847c=_0x54dcfb[_0x1573d8(0x130)](getBrowserNameFromChannel,_0x44fedf['project']['use'][_0x1573d8(0x1e9)]):_0x1a847c=_0x54dcfb[_0x1573d8(0x175)](_0x54dcfb[_0x1573d8(0x13f)],_0x1a847c[_0x1573d8(0x1de)]());const _0x4301fa=await _0x54dcfb[_0x1573d8(0x1e6)](getPlatformDetails);_0x58ceea=_0x4301fa[_0x1573d8(0x1c2)],_0x2020e4=_0x4301fa[_0x1573d8(0x1e2)];}const _0x563535={};_0x563535['browser']=_0x1a847c,_0x563535['browser_version']=_0x8459b1,_0x563535['capabilities']={},_0x563535[_0x1573d8(0x1be)]=_0x58ceea,_0x563535[_0x1573d8(0x19c)]=_0x2020e4,_0x563535[_0x1573d8(0x152)]=_0x223cba;const _0x4d4b4e=_0x563535;_0x1be064&&(_0x4d4b4e[_0x1573d8(0x144)][_0x1573d8(0x1c1)]=_0x1be064);const _0x4e9b48={};_0x4e9b48[_0x1573d8(0x185)]=_0x21026a,_0x50ed53[_0x1573d8(0x1ee)]=Object[_0x1573d8(0x183)]({},_0x50ed53['currentSessionDetails'],_0x4e9b48,_0x4d4b4e);const _0x18acb0={};_0x18acb0['browser']=_0x50ed53[_0x1573d8(0x1ee)]['browser'],_0x18acb0[_0x1573d8(0x148)]=_0x50ed53[_0x1573d8(0x1ee)][_0x1573d8(0x16b)],_0x18acb0['platform']=_0x50ed53[_0x1573d8(0x1ee)]['platform'],_0x18acb0['platformVersion']=_0x50ed53[_0x1573d8(0x1ee)][_0x1573d8(0x19c)],_0x18acb0[_0x1573d8(0x185)]=_0x50ed53['currentSessionDetails'][_0x1573d8(0x185)],_0x18acb0[_0x1573d8(0x152)]=_0x50ed53['currentSessionDetails']['product'],logger['debug'](_0x1573d8(0x145)+JSON[_0x1573d8(0x158)](_0x18acb0));},_0x54dcfb[_0x4f8ef7(0x1b6)])(_0x176445,_0x1bb902,_0x32a221);}static[a60_0x59c4e5(0x1ec)](){const _0x26a99a=a60_0x59c4e5;this[_0x26a99a(0x149)](),this[_0x26a99a(0x1d9)]();}static[a60_0x59c4e5(0x149)](){const _0x2068fc=a60_0x59c4e5,_0x2bff9e={'gMGBe':function(_0x214ddf,_0x497de7){return _0x214ddf(_0x497de7);},'iMHRw':function(_0x1515e5,_0x396d45){return _0x1515e5(_0x396d45);},'pULRH':_0x2068fc(0x17c),'JKZSF':_0x2068fc(0x1bd),'dzigL':'connection.js','AiIgg':function(_0xba090f,_0x484c86){return _0xba090f(_0x484c86);},'rrVCq':function(_0x148f5b,_0x236602){return _0x148f5b(_0x236602);},'OYIzu':'Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','PzZxW':function(_0x15636c,_0x54f177){return _0x15636c!=_0x54f177;},'sZypE':function(_0x56b578,_0x299466){return _0x56b578(_0x299466);},'eZWlR':_0x2068fc(0x15c),'chTID':'dispatch','mbPnH':_0x2068fc(0x15b),'TjXnK':function(_0x4df8aa,_0x400066){return _0x4df8aa(_0x400066);}},_0x227605=this;if(!this[_0x2068fc(0x192)])try{const _0x1b1304=[path[_0x2068fc(0x14e)](_0x2bff9e[_0x2068fc(0x129)],_0x2bff9e[_0x2068fc(0x195)],_0x2bff9e[_0x2068fc(0x184)]),path['join'](_0x2bff9e[_0x2068fc(0x129)],_0x2bff9e['dzigL']),path[_0x2068fc(0x14e)](_0x2bff9e[_0x2068fc(0x195)],_0x2bff9e[_0x2068fc(0x184)])];for(const _0x5ac4a8 of _0x1b1304){try{const _0x337230=_0x2bff9e[_0x2068fc(0x194)](importFileFromPWCore,_0x5ac4a8);if(_0x337230&&_0x337230[_0x2068fc(0x192)]){this[_0x2068fc(0x192)]=_0x337230['Connection'],logger[_0x2068fc(0x1cd)](_0x2068fc(0x172)+_0x5ac4a8);break;}}catch(_0x43c1f2){_0x2bff9e[_0x2068fc(0x12a)](debug,'Failed\x20to\x20import\x20connection\x20from\x20'+_0x5ac4a8+':\x20'+_0x43c1f2[_0x2068fc(0x15d)]());}}if(!this[_0x2068fc(0x192)]){_0x2bff9e[_0x2068fc(0x180)](debug,_0x2bff9e[_0x2068fc(0x182)]);return;}}catch(_0x225383){_0x2bff9e[_0x2068fc(0x180)](debug,_0x2068fc(0x133)+_0x225383[_0x2068fc(0x15d)]());return;}const _0x2310a7=this[_0x2068fc(0x192)];try{if(_0x2bff9e['PzZxW'](_0x2310a7,null)){const _0x2cde05=_0x2310a7[_0x2068fc(0x14f)][_0x2068fc(0x1a1)];if(!_0x2bff9e['sZypE'](isFalse,process[_0x2068fc(0x1bb)]['BROWSERSTACK_TEST_OBSERVABILITY'])){if(_0x2310a7[_0x2068fc(0x14f)]['_bstackDispatchPatched']){logger[_0x2068fc(0x1cd)](_0x2bff9e[_0x2068fc(0x12b)]);return;}Object['defineProperty'](_0x2310a7[_0x2068fc(0x14f)],_0x2bff9e['chTID'],{'get':function(){return async function _0x2aa4ef(_0x8f579c){const _0x32ff7f=a60_0x243e;if(BrowserstackCLI[_0x32ff7f(0x150)]()[_0x32ff7f(0x1eb)]()){const _0x325048={};_0x325048['message']=_0x8f579c,await BrowserstackCLI[_0x32ff7f(0x150)]()[_0x32ff7f(0x1b9)]()[_0x32ff7f(0x128)](AutomationFrameworkState[_0x32ff7f(0x1af)],HookState[_0x32ff7f(0x147)],_0x325048);}else{const _0x16daf7=_0x8f579c&&_0x8f579c['params']&&_0x8f579c[_0x32ff7f(0x15f)][_0x32ff7f(0x179)];if(_0x16daf7){const _0x542cd4=_0x16daf7[_0x32ff7f(0x177)],_0x429eef=_0x16daf7[_0x32ff7f(0x1cc)];_0x429eef&&(_0x2bff9e[_0x32ff7f(0x194)](debug,_0x32ff7f(0x1dc)+_0x429eef['toString']()),_0x227605[_0x32ff7f(0x1ee)][_0x32ff7f(0x1be)]=_0x429eef[_0x32ff7f(0x1c2)],_0x227605[_0x32ff7f(0x1ee)]['platform_version']=_0x429eef['platformVersion']),_0x542cd4&&(_0x2bff9e[_0x32ff7f(0x1b4)](debug,_0x32ff7f(0x1b0)+_0x542cd4),_0x227605[_0x32ff7f(0x1ee)][_0x32ff7f(0x198)]=_0x542cd4);}}return _0x2cde05[_0x32ff7f(0x19b)](this,arguments);};}}),_0x2310a7[_0x2068fc(0x14f)][_0x2068fc(0x1c4)]=!![],logger[_0x2068fc(0x1cd)](_0x2bff9e['mbPnH']);}}}catch(_0x542491){_0x2bff9e['TjXnK'](debug,_0x2068fc(0x16f)+_0x542491),_0x227605['sessionError']=_0x542491[_0x2068fc(0x15d)]();}}static[a60_0x59c4e5(0x1d9)](){const _0x312733=a60_0x59c4e5,_0x26ec3b={'zKQFl':function(_0x4896fb,_0x18ae74){return _0x4896fb(_0x18ae74);},'lJzmh':_0x312733(0x17c),'VIxgo':_0x312733(0x136),'ZFctR':_0x312733(0x1a5),'LoONW':_0x312733(0x17e),'EwQqX':function(_0x4d44d3,_0x261a53){return _0x4d44d3(_0x261a53);},'mKsjO':function(_0x5685d9,_0x1f14ac){return _0x5685d9(_0x1f14ac);},'nxXck':_0x312733(0x159),'OBdVZ':'Error\x20in\x20importing\x20crConnection','FDmgl':function(_0x1c0740,_0x3b99ef){return _0x1c0740!=_0x3b99ef;},'ebCMv':_0x312733(0x165),'gafHE':'_onMessage','ozzig':'Successfully\x20patched\x20CRConnection._onMessage','ZlZvm':function(_0x170e8a,_0x13f6d8){return _0x170e8a(_0x13f6d8);}},_0x2d9f47=this;let _0x564529=null;try{const _0x1ed6e1=path[_0x312733(0x14e)](_0x26ec3b[_0x312733(0x18a)],_0x26ec3b[_0x312733(0x160)],_0x26ec3b[_0x312733(0x162)],_0x26ec3b[_0x312733(0x166)]),_0x567102=_0x26ec3b[_0x312733(0x1a8)](importFileFromPWCore,_0x1ed6e1);!_0x567102?_0x26ec3b[_0x312733(0x17a)](debug,_0x26ec3b[_0x312733(0x13d)]):_0x564529=_0x567102['CRConnection'];}catch(_0x240a20){_0x26ec3b[_0x312733(0x17a)](debug,_0x26ec3b['OBdVZ']);}try{if(_0x26ec3b[_0x312733(0x170)](_0x564529,null)){const _0xd089ce=_0x564529[_0x312733(0x14f)][_0x312733(0x12c)];if(_0x564529['prototype']['_bstackCRPatched']){logger[_0x312733(0x1cd)](_0x26ec3b[_0x312733(0x1dd)]);return;}Object[_0x312733(0x12d)](_0x564529[_0x312733(0x14f)],_0x26ec3b[_0x312733(0x14b)],{'get':function(){const _0x31e2fc={'ZMKoI':function(_0x1c687b,_0x2db99c){const _0x17d8d2=a60_0x243e;return _0x26ec3b[_0x17d8d2(0x1df)](_0x1c687b,_0x2db99c);}};return async function _0x286e01(_0x599ce2){const _0x3c3f14=a60_0x243e;try{if(BrowserstackCLI[_0x3c3f14(0x150)]()[_0x3c3f14(0x1eb)]()){const _0x4151df={};_0x4151df[_0x3c3f14(0x171)]=_0x599ce2,await BrowserstackCLI[_0x3c3f14(0x150)]()[_0x3c3f14(0x1b9)]()['trackEvent'](AutomationFrameworkState[_0x3c3f14(0x1af)],HookState[_0x3c3f14(0x147)],_0x4151df),delete _0x599ce2['bStackParams'];}else{const _0x2be78f=_0x599ce2[_0x3c3f14(0x140)];if(_0x2be78f){delete _0x599ce2['bStackParams'];const _0x182c2a=_0x2be78f['sessionId'],_0x4ac773=_0x2be78f[_0x3c3f14(0x1cc)];_0x4ac773&&(_0x31e2fc['ZMKoI'](debug,_0x3c3f14(0x168)+_0x4ac773[_0x3c3f14(0x15d)]()),_0x2d9f47[_0x3c3f14(0x1ee)][_0x3c3f14(0x1be)]=_0x4ac773['platformName'],_0x2d9f47['currentSessionDetails']['platform_version']=_0x4ac773[_0x3c3f14(0x1e2)]),_0x182c2a&&(_0x31e2fc[_0x3c3f14(0x135)](debug,_0x3c3f14(0x1bc)+_0x182c2a),_0x2d9f47[_0x3c3f14(0x1ee)][_0x3c3f14(0x198)]=_0x182c2a);}}}catch(_0x1c4a50){_0x31e2fc['ZMKoI'](debug,_0x3c3f14(0x1b5)+_0x1c4a50[_0x3c3f14(0x15d)]());}return _0xd089ce['apply'](this,arguments);};}}),_0x564529['prototype'][_0x312733(0x1f0)]=!![],logger[_0x312733(0x1cd)](_0x26ec3b[_0x312733(0x18f)]);}}catch(_0x509da6){_0x26ec3b[_0x312733(0x1cf)](debug,_0x312733(0x1d2)+_0x509da6),_0x2d9f47[_0x312733(0x132)]=_0x509da6[_0x312733(0x15d)]();}}static[a60_0x59c4e5(0x17f)](_0xc8633c,_0x23cf28){const _0x21c1e0=a60_0x59c4e5,_0x374057={'vpewW':_0x21c1e0(0x127),'oxRJr':function(_0x1e201e,_0x2a1133){return _0x1e201e||_0x2a1133;},'CrAdF':function(_0x3f9823,_0x29575b){return _0x3f9823===_0x29575b;},'XZepI':_0x21c1e0(0x131),'ccXbV':_0x21c1e0(0x1ad),'ORGRt':function(_0x555155,_0x1c28e1){return _0x555155(_0x1c28e1);},'MPkVw':function(_0x4ebd3c,_0x569fa7){return _0x4ebd3c(_0x569fa7);}};let _0x4f140e=null,_0x4b78e3=null;try{const _0x241eb9=[_0x23cf28,global[_0x21c1e0(0x191)],global[_0x21c1e0(0x186)]];for(const _0x2c7354 of _0x241eb9){if(_0x2c7354&&(!_0x4b78e3||!_0x4b78e3[_0x21c1e0(0x177)])){const _0x12e0a7=_0x2c7354[_0x21c1e0(0x177)]||_0x2c7354[_0x374057[_0x21c1e0(0x1ae)]]?.[_0x21c1e0(0x177)],_0x3ea3e0=_0x2c7354[_0x21c1e0(0x156)]||_0x2c7354[_0x21c1e0(0x157)]||_0x2c7354[_0x374057[_0x21c1e0(0x1ae)]]?.['browserName'],_0x5e7f9a=_0x2c7354[_0x21c1e0(0x148)]||_0x2c7354[_0x21c1e0(0x16b)]||_0x2c7354[_0x374057[_0x21c1e0(0x1ae)]]?.[_0x21c1e0(0x148)],_0x2d1bfa=_0x2c7354['os']||_0x2c7354[_0x21c1e0(0x1be)]||_0x2c7354[_0x374057['vpewW']]?.['os'],_0x4a0d2d=_0x2c7354[_0x21c1e0(0x1e3)]||_0x2c7354[_0x21c1e0(0x1a2)]||_0x2c7354[_0x374057[_0x21c1e0(0x1ae)]]?.[_0x21c1e0(0x1e3)];if(_0x374057['oxRJr'](_0x12e0a7,_0x3ea3e0)||_0x2d1bfa){const _0x256e93={};_0x256e93[_0x21c1e0(0x156)]=_0x3ea3e0,_0x256e93['browserVersion']=_0x5e7f9a,_0x256e93['os']=_0x2d1bfa,_0x256e93[_0x21c1e0(0x1e3)]=_0x4a0d2d,_0x256e93['platformName']=_0x2c7354[_0x21c1e0(0x1c2)]||_0x2d1bfa,_0x256e93['platformVersion']=_0x2c7354[_0x21c1e0(0x1e2)]||_0x4a0d2d;const _0x4e1c3f={};_0x4e1c3f[_0x21c1e0(0x177)]=_0x12e0a7,_0x4e1c3f[_0x21c1e0(0x1cc)]=_0x256e93,_0x4b78e3=_0x4e1c3f;if(_0x374057[_0x21c1e0(0x15a)](_0x12e0a7,_0x3ea3e0)){logger[_0x21c1e0(0x1cd)]('BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser='+_0x3ea3e0+_0x21c1e0(0x1e5)+_0x2d1bfa);break;}}}}if(_0xc8633c&&_0x374057[_0x21c1e0(0x16c)](typeof _0xc8633c,_0x374057['XZepI']))try{const _0x523f7f=url['parse'](_0xc8633c),_0x38f462=new URLSearchParams(_0x523f7f[_0x21c1e0(0x16d)]),_0x58d3e4=Object[_0x21c1e0(0x13b)](_0x38f462[_0x21c1e0(0x16a)]()),_0x304a09=[_0x58d3e4[_0x21c1e0(0x18c)],_0x58d3e4[_0x21c1e0(0x144)],_0x58d3e4['desiredCapabilities']];for(const _0x3894a7 of _0x304a09){if(_0x3894a7&&(!_0x4f140e||!_0x4f140e[_0x21c1e0(0x177)]))try{const _0x48227c=JSON['parse'](_0x3894a7),_0x1a878c={};_0x1a878c['sessionId']=_0x48227c['sessionId']||_0x48227c[_0x374057[_0x21c1e0(0x1ae)]]?.[_0x21c1e0(0x177)],_0x1a878c[_0x21c1e0(0x1cc)]={},_0x1a878c[_0x21c1e0(0x1cc)][_0x21c1e0(0x156)]=_0x48227c[_0x21c1e0(0x156)]||_0x48227c['browser'],_0x1a878c[_0x21c1e0(0x1cc)][_0x21c1e0(0x148)]=_0x48227c[_0x21c1e0(0x148)]||_0x48227c[_0x21c1e0(0x16b)],_0x1a878c[_0x21c1e0(0x1cc)]['os']=_0x48227c['os']||_0x48227c[_0x21c1e0(0x1be)],_0x1a878c[_0x21c1e0(0x1cc)]['osVersion']=_0x48227c[_0x21c1e0(0x1e3)]||_0x48227c[_0x21c1e0(0x1a2)],_0x1a878c[_0x21c1e0(0x1cc)]['platformName']=_0x48227c[_0x21c1e0(0x1c2)]||_0x48227c['os']||_0x48227c[_0x21c1e0(0x1be)],_0x1a878c[_0x21c1e0(0x1cc)][_0x21c1e0(0x1e2)]=_0x48227c['platformVersion']||_0x48227c[_0x21c1e0(0x1e3)]||_0x48227c[_0x21c1e0(0x1a2)],_0x4f140e=_0x1a878c;if(_0x4f140e[_0x21c1e0(0x177)]||_0x4f140e[_0x21c1e0(0x1cc)][_0x21c1e0(0x156)]){logger[_0x21c1e0(0x1cd)](_0x374057['ccXbV']);break;}}catch(_0x31ee8f){_0x374057[_0x21c1e0(0x163)](debug,_0x21c1e0(0x1c7)+_0x31ee8f[_0x21c1e0(0x15d)]());}}}catch(_0x2b2246){_0x374057[_0x21c1e0(0x163)](debug,'Error\x20parsing\x20WebSocket\x20endpoint:\x20'+_0x2b2246[_0x21c1e0(0x15d)]());}}catch(_0x1712a6){_0x374057[_0x21c1e0(0x199)](debug,_0x21c1e0(0x1cb)+util['format'](_0x1712a6));}const _0x5b0607={};return _0x5b0607[_0x21c1e0(0x179)]=_0x4f140e,_0x5b0607[_0x21c1e0(0x140)]=_0x4b78e3,_0x5b0607;}static async[a60_0x59c4e5(0x141)](_0x5efe7d,_0x11c251){const _0x133980=a60_0x59c4e5,_0x5c323c={'tWpSl':function(_0x34be77,_0x5b0036){return _0x34be77||_0x5b0036;},'UMwGH':_0x133980(0x1aa),'qsSEE':function(_0x480581,_0x5b6383){return _0x480581(_0x5b6383);}};try{if(!BrowserstackCLI[_0x133980(0x150)]()['isRunning']())return;if(_0x5c323c[_0x133980(0x142)](_0x5efe7d,_0x11c251)){logger['debug'](_0x5c323c[_0x133980(0x174)]);const _0x2c47cc={'params':_0x5efe7d?{'bsParams':_0x5efe7d}:null,'bStackParams':_0x5c323c[_0x133980(0x142)](_0x11c251,null)},_0x25f0d4=AutomationFramework[_0x133980(0x1d1)](),_0x45d1c={};_0x45d1c[_0x133980(0x171)]=_0x2c47cc,_0x45d1c['instance']=_0x25f0d4,await BrowserstackCLI[_0x133980(0x150)]()[_0x133980(0x1b9)]()[_0x133980(0x128)](AutomationFrameworkState[_0x133980(0x1af)],HookState['POST'],_0x45d1c);}}catch(_0xf0b7a4){_0x5c323c['qsSEE'](debug,'Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20'+util[_0x133980(0x1b3)](_0xf0b7a4));}}static[a60_0x59c4e5(0x12e)](){const _0x28c6f6=a60_0x59c4e5;return this[_0x28c6f6(0x1ee)];}}module[a60_0x59c4e5(0x13a)]=SharedPlaywrightSessionDetails;