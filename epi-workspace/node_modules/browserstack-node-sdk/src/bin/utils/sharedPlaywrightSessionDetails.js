function a60_0x2d7c(_0x349706,_0x8e9f36){const _0x451ee3=a60_0x451e();return a60_0x2d7c=function(_0x2d7ce8,_0x2de8bb){_0x2d7ce8=_0x2d7ce8-0x86;let _0x1e3067=_0x451ee3[_0x2d7ce8];return _0x1e3067;},a60_0x2d7c(_0x349706,_0x8e9f36);}const a60_0x39726c=a60_0x2d7c;(function(_0x19c6d9,_0xa69645){const _0x24d67d=a60_0x2d7c,_0x43a903=_0x19c6d9();while(!![]){try{const _0x8e3ee4=parseInt(_0x24d67d(0x96))/0x1*(parseInt(_0x24d67d(0x88))/0x2)+parseInt(_0x24d67d(0xcd))/0x3*(-parseInt(_0x24d67d(0x147))/0x4)+-parseInt(_0x24d67d(0x102))/0x5*(-parseInt(_0x24d67d(0x98))/0x6)+-parseInt(_0x24d67d(0x99))/0x7+-parseInt(_0x24d67d(0xe3))/0x8+parseInt(_0x24d67d(0x114))/0x9+-parseInt(_0x24d67d(0x123))/0xa*(-parseInt(_0x24d67d(0x106))/0xb);if(_0x8e3ee4===_0xa69645)break;else _0x43a903['push'](_0x43a903['shift']());}catch(_0x1307ab){_0x43a903['push'](_0x43a903['shift']());}}}(a60_0x451e,0x23768));function a60_0x451e(){const _0x47a9b7=['Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','winstonLogger','fromEntries','122826xofKLw','qjgGp','browserVersion','nInIC','ifSMB','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','YQaae','HcEmR','nQslK','SiTZL','_onMessage','firefox','env','connectOptions','1651086Rlwrfr','rnncA','patchConnection','sessionId','platform','Error\x20in\x20importing\x20connection\x20','LKNJK','JBPpj','currentSessionDetails','elWkU','model','patchCRConnection','automate','WpqyU','Connection','80kGusBm','CRConnection\x20already\x20patched','string','bsSessionId','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','defineProperty','dJNUf','url','_browserType','platform_version','QqPhx','product','PmYwR','../../helpers/test-observability/error-handler','capabilities','getInstance','POST','nqbrz','format','xSuFY','fIcht','PLAYWRIGHT_DISPATCH','qrioh','platformDetails','sLLyl','playwright-','rUkfr','eoSWw','msedge','function','sOKSi','QThpO','use','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','extractBrowserStackParams','stringify','44xsKkfG','../../helpers/logger','lib','server','version','includes','Session\x20details\x20setup\x20complete:\x20','MvCui','../v2/browserstackCLI','bsParams','XNhZI','98TourVJ','browserName','../../helpers/test-observability/utils','sessionError','Error\x20in\x20importing\x20crConnection','eJubi','accessibilityPlatform','tEuWH','platformVersion','wUMnL','_connection','bStackParams','npGtM','toLowerCase','121cbufxC','channel','1391442Jiaslp','1896783rhflDh','ybDdY','chromium','Error\x20in\x20finding\x20platform\x20details\x20','bstack:options','unknown_grid','os_version','qJTIZ','browser_version','test','client','Rakse','crConnection.js','debug','SByiN','Error\x20extracting\x20BrowserStack\x20parameters:\x20','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','SAhkW','OVOVs','BSTACK_URL','BHcQr',',\x20os=','nNoCy','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','setupBrowserDetails','isRemote','desiredCapabilities','tIZqC','Connection\x20dispatch\x20already\x20patched','cloudProvider','isRunning','gecko','RsleQ','ooYoN','join','AZnbx','_name','triggerPlaywrightDispatchEvent','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','BROWSERSTACK_TEST_OBSERVABILITY','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','browserstack_capabilities','bsojQ','deviceModel','project','apply','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','Device\x20Model\x20is\x20not\x20available','zGZhl','Successfully\x20patched\x20Connection.dispatch','gbAxM','trackEvent','14319SIkLTm','rMXpj','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','browserstack','Setting\x20session\x20id\x20received\x20from\x20BS\x20','_defaultConnectOptions','toString','browser','../v2/framework/automationFramework','fChxl','path','_bstackCRPatched','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','webkit','Nfcwl','BwhKE','message','cRoWn','dxqLm','chrome','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','platformName','335120kUbHsq','EbvGD','../../helpers/helper','safari','__platformCaps','osVersion','wsEndpoint','getTrackedInstance','CUVhu','dispatch','eVzeC','parse','MzNfU','./constants','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','EvcAp','FcsJx','_bstackDispatchPatched','bsxEu','ybBRs','iGKQA','prototype','getAutomationFramework','connection.js','params','query','Error\x20parsing\x20WebSocket\x20endpoint:\x20','instance','../v2/state/automationFrameworkState.js','entries','BSTACK_ATS_URL','5tsGqMj'];a60_0x451e=function(){return _0x47a9b7;};return a60_0x451e();}const path=require(a60_0x39726c(0xd7)),url=require(a60_0x39726c(0x12a)),util=require('util'),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x39726c(0xe5)),{o11yErrorHandler}=require(a60_0x39726c(0x130)),{debug,getPlatformDetails}=require(a60_0x39726c(0x8a)),logger=require(a60_0x39726c(0x148))[a60_0x39726c(0x104)],constants=require(a60_0x39726c(0xf0)),AutomationFramework=require(a60_0x39726c(0xd5)),BrowserstackCLI=require(a60_0x39726c(0x14f)),AutomationFrameworkState=require(a60_0x39726c(0xff)),HookState=require('../v2/state/hookState.js'),{platform}=require('os'),getBrowserNameFromChannel=_0x5613cd=>{const _0x2d5ad6=a60_0x39726c,_0x278eb8={};_0x278eb8[_0x2d5ad6(0xaf)]=_0x2d5ad6(0xe0),_0x278eb8[_0x2d5ad6(0xa4)]='edge',_0x278eb8[_0x2d5ad6(0x139)]=_0x2d5ad6(0x111),_0x278eb8[_0x2d5ad6(0x8d)]=_0x2d5ad6(0xe6);const _0x411270=_0x278eb8;if(_0x5613cd[_0x2d5ad6(0x14c)](_0x411270[_0x2d5ad6(0xaf)]))return _0x411270[_0x2d5ad6(0xaf)];if(_0x5613cd['includes'](_0x411270[_0x2d5ad6(0xa4)]))return _0x411270[_0x2d5ad6(0xa4)];if(_0x5613cd['includes'](_0x411270[_0x2d5ad6(0x139)]))return _0x411270[_0x2d5ad6(0x139)];if(_0x5613cd[_0x2d5ad6(0x14c)](_0x411270[_0x2d5ad6(0x8d)]))return _0x411270[_0x2d5ad6(0x8d)];},getBrowserFromWSEndpoint=_0x375138=>{const _0x53cd72=a60_0x39726c,_0x469453={'BHcQr':'bstack:options','cRoWn':function(_0x23a7a8,_0x320242){return _0x23a7a8(_0x320242);},'sOKSi':function(_0x1509e6,_0x4bfa04){return _0x1509e6(_0x4bfa04);},'SAhkW':'edge','gbAxM':_0x53cd72(0x13f),'qjgGp':_0x53cd72(0x111),'oSDVA':_0x53cd72(0xb8),'HcEmR':'safari','fIcht':_0x53cd72(0xda),'iGKQA':'chrome'};try{const _0x425962=url[_0x53cd72(0xee)](_0x375138),_0x252eee=new URLSearchParams(_0x425962['query']),_0x634b91=Object[_0x53cd72(0x105)](_0x252eee[_0x53cd72(0x100)]()),_0x2155c9=[_0x634b91['caps'],_0x634b91['capabilities'],_0x634b91['desiredCapabilities'],_0x634b91[_0x53cd72(0xc2)]];for(const _0x2e792a of _0x2155c9){if(_0x2e792a)try{const _0x45d88c=JSON[_0x53cd72(0xee)](_0x2e792a),_0x5d1c8c=_0x45d88c[_0x53cd72(0x89)]||_0x45d88c[_0x53cd72(0xd4)]||_0x45d88c[_0x469453[_0x53cd72(0xad)]]?.[_0x53cd72(0x89)];if(_0x5d1c8c)return _0x469453[_0x53cd72(0xde)](debug,_0x53cd72(0xa9)+_0x5d1c8c),_0x5d1c8c['toLowerCase']();}catch(_0x4c7099){_0x469453[_0x53cd72(0x141)](debug,_0x53cd72(0x10b)+_0x4c7099[_0x53cd72(0xdd)]);}}if(_0x375138['includes'](_0x469453['SAhkW'])||_0x375138[_0x53cd72(0x14c)](_0x469453[_0x53cd72(0xcb)]))return _0x469453[_0x53cd72(0xaa)];if(_0x375138[_0x53cd72(0x14c)](_0x469453[_0x53cd72(0x107)])||_0x375138[_0x53cd72(0x14c)](_0x469453['oSDVA']))return _0x469453[_0x53cd72(0x107)];if(_0x375138[_0x53cd72(0x14c)](_0x469453[_0x53cd72(0x10d)])||_0x375138[_0x53cd72(0x14c)](_0x469453[_0x53cd72(0x137)]))return _0x469453[_0x53cd72(0x10d)];return _0x469453['iGKQA'];}catch(_0x46c330){return _0x469453[_0x53cd72(0x141)](debug,'Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20'+_0x46c330['toString']()),_0x469453[_0x53cd72(0xf7)];}},getCloudProviderFromWsEndpoint=_0x10c574=>{const _0x195ad8=a60_0x39726c,_0x36db01={};_0x36db01[_0x195ad8(0x10e)]=_0x195ad8(0xd0),_0x36db01[_0x195ad8(0xdf)]=_0x195ad8(0x9e);const _0x45f9cc=_0x36db01;if(_0x10c574[_0x195ad8(0x14c)](constants[_0x195ad8(0xac)])||_0x10c574[_0x195ad8(0x14c)](constants[_0x195ad8(0x101)]))return _0x45f9cc[_0x195ad8(0x10e)];return _0x45f9cc[_0x195ad8(0xdf)];},a60_0x10e2d5={};a60_0x10e2d5[a60_0x39726c(0xb6)]=undefined,a60_0x10e2d5['bsSessionId']=undefined,a60_0x10e2d5['browser']=undefined,a60_0x10e2d5[a60_0x39726c(0xa1)]=undefined,a60_0x10e2d5['platform']=undefined,a60_0x10e2d5[a60_0x39726c(0x12c)]=undefined,a60_0x10e2d5['product']=undefined,a60_0x10e2d5['capabilities']={};class SharedPlaywrightSessionDetails{static [a60_0x39726c(0x11c)]=a60_0x10e2d5;constructor(){const _0x96c733=a60_0x39726c,_0x190ad8={};_0x190ad8['Qjjru']=_0x96c733(0xbf);const _0x57c165=_0x190ad8;throw new Error(_0x57c165['Qjjru']);}static [a60_0x39726c(0x8b)]=null;static[a60_0x39726c(0xb1)](_0x468691,_0x118a28,_0x59b788=null){const _0x199cb2=a60_0x39726c,_0x4ccb9e={'eVzeC':function(_0x298f57,_0x1b20f9){return _0x298f57===_0x1b20f9;},'elWkU':_0x199cb2(0x140),'PmYwR':_0x199cb2(0xf1),'ruoeR':_0x199cb2(0xc8),'ybBRs':'local_grid','OWeWT':function(_0x4a7d67,_0x40c0d3,_0xd65523){return _0x4a7d67(_0x40c0d3,_0xd65523);},'RFeoN':'_browserType','QThpO':'_defaultConnectOptions','EbvGD':function(_0x1e0b67,_0x44b1f3,_0x3d4899){return _0x1e0b67(_0x44b1f3,_0x3d4899);},'kcbTT':'project','KTFYG':'use','rwfBJ':_0x199cb2(0x113),'rUkfr':function(_0x140d61,_0x52dc34){return _0x140d61(_0x52dc34);},'YQaae':function(_0x55fa0e,_0x10b5f1){return _0x55fa0e===_0x10b5f1;},'sLLyl':_0x199cb2(0xd0),'qJTIZ':'turboscale','MzNfU':_0x199cb2(0x120),'tIZqC':function(_0x556c37,_0x314d07){return _0x556c37(_0x314d07);},'BwhKE':function(_0x3cec23,_0x20f5d8){return _0x3cec23===_0x20f5d8;},'UsLLB':_0x199cb2(0x9b),'siNnY':function(_0xfcd904,_0x51b4a){return _0xfcd904+_0x51b4a;},'BRmIs':_0x199cb2(0x13c),'CUVhu':function(_0x5c4f52){return _0x5c4f52();},'LKNJK':function(_0x5c9bba,_0x25bc49,_0xf84ca2){return _0x5c9bba(_0x25bc49,_0xf84ca2);},'fChxl':_0x199cb2(0xb1)},_0x1c515f=this;return _0x4ccb9e[_0x199cb2(0x11a)](o11yErrorHandler,async function _0x589f11(_0x33aa76,_0x54ba0c,_0x19d66d=null){const _0x4e6058=_0x199cb2;let _0xd53431=_0x33aa76[_0x4e6058(0xbd)],_0x481bae=null;_0x33aa76&&_0x4ccb9e[_0x4e6058(0xed)](typeof _0x33aa76[_0x4e6058(0x14b)],_0x4ccb9e[_0x4e6058(0x11d)])?_0x481bae=_0x33aa76['version']():logger[_0x4e6058(0xa6)](_0x4ccb9e[_0x4e6058(0x12f)]);let _0x579a12=null;_0x33aa76&&_0x4ccb9e[_0x4e6058(0xed)](typeof _0x33aa76['model'],_0x4ccb9e[_0x4e6058(0x11d)])?_0x579a12=_0x33aa76[_0x4e6058(0x11e)]():logger[_0x4e6058(0xa6)](_0x4ccb9e['ruoeR']);let _0x4e8a2b=null,_0x4dc9fd=null,_0x55c6e7=null,_0x312766=_0x4ccb9e[_0x4e6058(0xf6)];if(_0x33aa76[_0x4e6058(0x92)][_0x4e6058(0xb2)]()||global[_0x4e6058(0x8e)]){let _0x588247=null;_0x4ccb9e['OWeWT'](nestedKeyValue,_0x33aa76,[_0x4ccb9e['RFeoN'],_0x4ccb9e[_0x4e6058(0x142)]])?_0x588247=_0x33aa76[_0x4e6058(0x12b)][_0x4e6058(0xd2)]:_0x588247=_0x4ccb9e[_0x4e6058(0xe4)](nestedKeyValue,_0x54ba0c,[_0x4ccb9e['kcbTT'],_0x4ccb9e['KTFYG'],_0x4ccb9e['rwfBJ']]);const _0x46a3c4=_0x19d66d||_0x588247&&_0x588247[_0x4e6058(0xe9)];if(_0x46a3c4){_0x312766=_0x4ccb9e['rUkfr'](getCloudProviderFromWsEndpoint,_0x46a3c4);if(_0x4ccb9e[_0x4e6058(0x10c)](_0x312766,_0x4ccb9e[_0x4e6058(0x13b)])){_0x55c6e7=constants['ATS_WSS_URL_REGEX'][_0x4e6058(0xa2)](_0x46a3c4)?_0x4ccb9e[_0x4e6058(0xa0)]:_0x4ccb9e[_0x4e6058(0xef)];const _0x3843ba=_0x4ccb9e[_0x4e6058(0xb4)](getBrowserFromWSEndpoint,_0x46a3c4);if(_0x3843ba&&(!_0xd53431||_0x4ccb9e[_0x4e6058(0xdc)](_0xd53431,_0x4ccb9e['UsLLB'])))_0xd53431=_0x3843ba,logger['debug'](_0x4e6058(0xc7)+_0xd53431);else _0xd53431&&logger['debug'](_0x4e6058(0xb0)+_0xd53431);_0x4e8a2b=_0x1c515f[_0x4e6058(0x11c)][_0x4e6058(0x118)],_0x4dc9fd=_0x1c515f['currentSessionDetails']['platform_version'];}}}else{_0x54ba0c&&_0x54ba0c[_0x4e6058(0xc5)]&&_0x54ba0c[_0x4e6058(0xc5)][_0x4e6058(0x143)]&&_0x54ba0c[_0x4e6058(0xc5)][_0x4e6058(0x143)]['channel']?_0xd53431=_0x4ccb9e[_0x4e6058(0x13d)](getBrowserNameFromChannel,_0x54ba0c[_0x4e6058(0xc5)]['use'][_0x4e6058(0x97)]):_0xd53431=_0x4ccb9e['siNnY'](_0x4ccb9e['BRmIs'],_0xd53431[_0x4e6058(0x95)]());const _0x221252=await _0x4ccb9e[_0x4e6058(0xeb)](getPlatformDetails);_0x4e8a2b=_0x221252['platformName'],_0x4dc9fd=_0x221252[_0x4e6058(0x90)];}const _0x3c4d28={};_0x3c4d28['browser']=_0xd53431,_0x3c4d28[_0x4e6058(0xa1)]=_0x481bae,_0x3c4d28[_0x4e6058(0x131)]={},_0x3c4d28['platform']=_0x4e8a2b,_0x3c4d28[_0x4e6058(0x12c)]=_0x4dc9fd,_0x3c4d28[_0x4e6058(0x12e)]=_0x55c6e7;const _0x26c1c4=_0x3c4d28;_0x579a12&&(_0x26c1c4[_0x4e6058(0x131)][_0x4e6058(0xc4)]=_0x579a12);const _0x1f8f05={};_0x1f8f05['cloudProvider']=_0x312766,_0x1c515f[_0x4e6058(0x11c)]=Object['assign']({},_0x1c515f[_0x4e6058(0x11c)],_0x1f8f05,_0x26c1c4);const _0x343f28={};_0x343f28[_0x4e6058(0xd4)]=_0x1c515f[_0x4e6058(0x11c)]['browser'],_0x343f28[_0x4e6058(0x108)]=_0x1c515f['currentSessionDetails'][_0x4e6058(0xa1)],_0x343f28[_0x4e6058(0x118)]=_0x1c515f[_0x4e6058(0x11c)][_0x4e6058(0x118)],_0x343f28[_0x4e6058(0x90)]=_0x1c515f[_0x4e6058(0x11c)][_0x4e6058(0x12c)],_0x343f28[_0x4e6058(0xb6)]=_0x1c515f[_0x4e6058(0x11c)]['cloudProvider'],_0x343f28[_0x4e6058(0x12e)]=_0x1c515f[_0x4e6058(0x11c)][_0x4e6058(0x12e)],logger[_0x4e6058(0xa6)](_0x4e6058(0x14d)+JSON[_0x4e6058(0x146)](_0x343f28));},_0x4ccb9e[_0x199cb2(0xd6)])(_0x468691,_0x118a28,_0x59b788);}static['patch'](){const _0xcbf427=a60_0x39726c;this['patchConnection'](),this[_0xcbf427(0x11f)]();}static[a60_0x39726c(0x116)](){const _0x14df79=a60_0x39726c,_0x395361={'QqPhx':function(_0x363146,_0x41dec8){return _0x363146(_0x41dec8);},'xSuFY':function(_0x1087e4,_0x390f50){return _0x1087e4(_0x390f50);},'rnncA':_0x14df79(0x149),'pswNR':_0x14df79(0xa3),'nqbrz':_0x14df79(0xfa),'SByiN':function(_0x2c0020,_0x352647){return _0x2c0020(_0x352647);},'xopNN':_0x14df79(0xcf),'vTqAo':function(_0x26f5cc,_0x49a78c){return _0x26f5cc(_0x49a78c);},'AZnbx':function(_0x5ee70a,_0x5dc66a){return _0x5ee70a!=_0x5dc66a;},'dJNUf':function(_0x1480c2,_0x58d67f){return _0x1480c2(_0x58d67f);},'WpqyU':_0x14df79(0xb5),'JBPpj':_0x14df79(0xec),'SiTZL':_0x14df79(0xca),'ujDTE':function(_0x4d184e,_0x1d4e3c){return _0x4d184e(_0x1d4e3c);}},_0x1db0b7=this;if(!this['Connection'])try{const _0x3dc472=[path[_0x14df79(0xbb)](_0x395361[_0x14df79(0x115)],_0x395361['pswNR'],_0x395361[_0x14df79(0x134)]),path[_0x14df79(0xbb)](_0x395361[_0x14df79(0x115)],_0x395361[_0x14df79(0x134)]),path[_0x14df79(0xbb)](_0x395361['pswNR'],_0x395361[_0x14df79(0x134)])];for(const _0x61b449 of _0x3dc472){try{const _0x23b09d=_0x395361[_0x14df79(0x12d)](importFileFromPWCore,_0x61b449);if(_0x23b09d&&_0x23b09d[_0x14df79(0x122)]){this[_0x14df79(0x122)]=_0x23b09d['Connection'],logger[_0x14df79(0xa6)]('Found\x20Connection\x20class\x20at:\x20'+_0x61b449);break;}}catch(_0xa849c3){_0x395361[_0x14df79(0xa7)](debug,'Failed\x20to\x20import\x20connection\x20from\x20'+_0x61b449+':\x20'+_0xa849c3['toString']());}}if(!this[_0x14df79(0x122)]){_0x395361['QqPhx'](debug,_0x395361['xopNN']);return;}}catch(_0x4cbc91){_0x395361['vTqAo'](debug,_0x14df79(0x119)+_0x4cbc91[_0x14df79(0xd3)]());return;}const _0x59b0b7=this['Connection'];try{if(_0x395361[_0x14df79(0xbc)](_0x59b0b7,null)){const _0x2b17c7=_0x59b0b7[_0x14df79(0xf8)][_0x14df79(0xec)];if(!_0x395361[_0x14df79(0x129)](isFalse,process[_0x14df79(0x112)][_0x14df79(0xc0)])){if(_0x59b0b7['prototype'][_0x14df79(0xf4)]){logger[_0x14df79(0xa6)](_0x395361[_0x14df79(0x121)]);return;}Object[_0x14df79(0x128)](_0x59b0b7['prototype'],_0x395361[_0x14df79(0x11b)],{'get':function(){return async function _0x2bc679(_0x3d9157){const _0x5dbc4f=a60_0x2d7c;if(BrowserstackCLI[_0x5dbc4f(0x132)]()['isRunning']()){const _0x1651a2={};_0x1651a2['message']=_0x3d9157,await BrowserstackCLI['getInstance']()[_0x5dbc4f(0xf9)]()['trackEvent'](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState['POST'],_0x1651a2);}else{const _0x5ceaea=_0x3d9157&&_0x3d9157[_0x5dbc4f(0xfb)]&&_0x3d9157['params'][_0x5dbc4f(0x86)];if(_0x5ceaea){const _0x12786f=_0x5ceaea['sessionId'],_0x213ea8=_0x5ceaea[_0x5dbc4f(0x13a)];_0x213ea8&&(_0x395361[_0x5dbc4f(0x12d)](debug,_0x5dbc4f(0x103)+_0x213ea8[_0x5dbc4f(0xd3)]()),_0x1db0b7[_0x5dbc4f(0x11c)][_0x5dbc4f(0x118)]=_0x213ea8['platformName'],_0x1db0b7['currentSessionDetails'][_0x5dbc4f(0x12c)]=_0x213ea8[_0x5dbc4f(0x90)]),_0x12786f&&(_0x395361[_0x5dbc4f(0x136)](debug,_0x5dbc4f(0xd1)+_0x12786f),_0x1db0b7[_0x5dbc4f(0x11c)][_0x5dbc4f(0x126)]=_0x12786f);}}return _0x2b17c7[_0x5dbc4f(0xc6)](this,arguments);};}}),_0x59b0b7['prototype'][_0x14df79(0xf4)]=!![],logger[_0x14df79(0xa6)](_0x395361[_0x14df79(0x10f)]);}}}catch(_0x17d8c5){_0x395361['ujDTE'](debug,'Error\x20in\x20applying\x20Connection\x20patch\x20'+_0x17d8c5),_0x1db0b7['sessionError']=_0x17d8c5[_0x14df79(0xd3)]();}}static['patchCRConnection'](){const _0x18db65=a60_0x39726c,_0x5446fa={'wUMnL':function(_0x2428d3,_0x17fe8e){return _0x2428d3(_0x17fe8e);},'eoSWw':_0x18db65(0x149),'TKinL':_0x18db65(0x14a),'ybDdY':_0x18db65(0x9b),'MvCui':_0x18db65(0xa5),'ooYoN':function(_0x2bd617,_0x35a8f2){return _0x2bd617(_0x35a8f2);},'aHRgC':function(_0x40fac8,_0x4ae4b8){return _0x40fac8(_0x4ae4b8);},'XNhZI':'Not\x20able\x20to\x20import\x20crConnection','zQgYj':_0x18db65(0x8c),'EvcAp':function(_0x8a6048,_0x23fbe1){return _0x8a6048!=_0x23fbe1;},'OVOVs':_0x18db65(0x124),'Wtgtx':_0x18db65(0x110),'JnnPH':'Successfully\x20patched\x20CRConnection._onMessage','zGZhl':function(_0x5414cc,_0x110ac9){return _0x5414cc(_0x110ac9);}},_0x5de080=this;let _0x232fa9=null;try{const _0x460127=path[_0x18db65(0xbb)](_0x5446fa[_0x18db65(0x13e)],_0x5446fa['TKinL'],_0x5446fa[_0x18db65(0x9a)],_0x5446fa[_0x18db65(0x14e)]),_0x431b46=_0x5446fa[_0x18db65(0xba)](importFileFromPWCore,_0x460127);!_0x431b46?_0x5446fa['aHRgC'](debug,_0x5446fa[_0x18db65(0x87)]):_0x232fa9=_0x431b46['CRConnection'];}catch(_0x13b99c){_0x5446fa[_0x18db65(0xba)](debug,_0x5446fa['zQgYj']);}try{if(_0x5446fa[_0x18db65(0xf2)](_0x232fa9,null)){const _0x3104d5=_0x232fa9['prototype']['_onMessage'];if(_0x232fa9[_0x18db65(0xf8)]['_bstackCRPatched']){logger[_0x18db65(0xa6)](_0x5446fa[_0x18db65(0xab)]);return;}Object[_0x18db65(0x128)](_0x232fa9['prototype'],_0x5446fa['Wtgtx'],{'get':function(){return async function _0x40a1a9(_0x3e42d3){const _0x48e26e=a60_0x2d7c;try{if(BrowserstackCLI[_0x48e26e(0x132)]()['isRunning']()){const _0x418846={};_0x418846[_0x48e26e(0xdd)]=_0x3e42d3,await BrowserstackCLI[_0x48e26e(0x132)]()[_0x48e26e(0xf9)]()[_0x48e26e(0xcc)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState[_0x48e26e(0x133)],_0x418846),delete _0x3e42d3['bStackParams'];}else{const _0xa2022a=_0x3e42d3['bStackParams'];if(_0xa2022a){delete _0x3e42d3[_0x48e26e(0x93)];const _0x50d88a=_0xa2022a[_0x48e26e(0x117)],_0x441ce5=_0xa2022a[_0x48e26e(0x13a)];_0x441ce5&&(_0x5446fa[_0x48e26e(0x91)](debug,_0x48e26e(0xe1)+_0x441ce5[_0x48e26e(0xd3)]()),_0x5de080[_0x48e26e(0x11c)][_0x48e26e(0x118)]=_0x441ce5[_0x48e26e(0xe2)],_0x5de080['currentSessionDetails'][_0x48e26e(0x12c)]=_0x441ce5['platformVersion']),_0x50d88a&&(_0x5446fa[_0x48e26e(0x91)](debug,'Setting\x20session\x20id\x20received\x20from\x20browserstack\x20'+_0x50d88a),_0x5de080['currentSessionDetails'][_0x48e26e(0x126)]=_0x50d88a);}}}catch(_0x334bd8){_0x5446fa['wUMnL'](debug,_0x48e26e(0x9c)+_0x334bd8['toString']());}return _0x3104d5[_0x48e26e(0xc6)](this,arguments);};}}),_0x232fa9[_0x18db65(0xf8)][_0x18db65(0xd8)]=!![],logger[_0x18db65(0xa6)](_0x5446fa['JnnPH']);}}catch(_0x1a4b27){_0x5446fa[_0x18db65(0xc9)](debug,_0x18db65(0xc1)+_0x1a4b27),_0x5de080[_0x18db65(0x8b)]=_0x1a4b27['toString']();}}static[a60_0x39726c(0x145)](_0x297815,_0x115548){const _0x7def55=a60_0x39726c,_0x334aad={'bsxEu':_0x7def55(0x9d),'rMXpj':function(_0x1448fd,_0x51c7cf){return _0x1448fd||_0x51c7cf;},'Nfcwl':function(_0x32d5a4,_0x2649e2){return _0x32d5a4||_0x2649e2;},'RsleQ':function(_0x482d25,_0x3d36c6){return _0x482d25===_0x3d36c6;},'bsojQ':_0x7def55(0x125),'npGtM':_0x7def55(0xd9),'FcsJx':function(_0x185381,_0x2e0362){return _0x185381(_0x2e0362);}};let _0x4b051f=null,_0x5f2166=null;try{const _0xaa734d=[_0x115548,global[_0x7def55(0xe7)],global['capabilties']];for(const _0xf3309e of _0xaa734d){if(_0xf3309e&&(!_0x5f2166||!_0x5f2166['sessionId'])){const _0x213523=_0xf3309e[_0x7def55(0x117)]||_0xf3309e[_0x334aad[_0x7def55(0xf5)]]?.[_0x7def55(0x117)],_0x49f329=_0xf3309e['browserName']||_0xf3309e[_0x7def55(0xd4)]||_0xf3309e[_0x334aad['bsxEu']]?.[_0x7def55(0x89)],_0x118563=_0xf3309e['browserVersion']||_0xf3309e['browser_version']||_0xf3309e[_0x334aad[_0x7def55(0xf5)]]?.[_0x7def55(0x108)],_0x72df40=_0xf3309e['os']||_0xf3309e['platform']||_0xf3309e[_0x334aad[_0x7def55(0xf5)]]?.['os'],_0x44fba6=_0xf3309e[_0x7def55(0xe8)]||_0xf3309e[_0x7def55(0x9f)]||_0xf3309e[_0x334aad['bsxEu']]?.[_0x7def55(0xe8)];if(_0x334aad[_0x7def55(0xce)](_0x213523,_0x49f329)||_0x72df40){const _0x3b2f77={};_0x3b2f77[_0x7def55(0x89)]=_0x49f329,_0x3b2f77[_0x7def55(0x108)]=_0x118563,_0x3b2f77['os']=_0x72df40,_0x3b2f77['osVersion']=_0x44fba6,_0x3b2f77[_0x7def55(0xe2)]=_0xf3309e[_0x7def55(0xe2)]||_0x72df40,_0x3b2f77[_0x7def55(0x90)]=_0xf3309e['platformVersion']||_0x44fba6;const _0x48b814={};_0x48b814[_0x7def55(0x117)]=_0x213523,_0x48b814[_0x7def55(0x13a)]=_0x3b2f77,_0x5f2166=_0x48b814;if(_0x334aad[_0x7def55(0xdb)](_0x213523,_0x49f329)){logger['debug'](_0x7def55(0x144)+_0x49f329+_0x7def55(0xae)+_0x72df40);break;}}}}if(_0x297815&&_0x334aad[_0x7def55(0xb9)](typeof _0x297815,_0x334aad[_0x7def55(0xc3)]))try{const _0x315b93=url[_0x7def55(0xee)](_0x297815),_0x5c79a4=new URLSearchParams(_0x315b93[_0x7def55(0xfc)]),_0x4741ff=Object['fromEntries'](_0x5c79a4[_0x7def55(0x100)]()),_0x216af4=[_0x4741ff['caps'],_0x4741ff[_0x7def55(0x131)],_0x4741ff[_0x7def55(0xb3)]];for(const _0x58ff0a of _0x216af4){if(_0x58ff0a&&(!_0x4b051f||!_0x4b051f[_0x7def55(0x117)]))try{const _0x5aebaf=JSON[_0x7def55(0xee)](_0x58ff0a),_0x2bf37f={};_0x2bf37f['sessionId']=_0x5aebaf[_0x7def55(0x117)]||_0x5aebaf[_0x334aad[_0x7def55(0xf5)]]?.[_0x7def55(0x117)],_0x2bf37f[_0x7def55(0x13a)]={},_0x2bf37f[_0x7def55(0x13a)][_0x7def55(0x89)]=_0x5aebaf['browserName']||_0x5aebaf[_0x7def55(0xd4)],_0x2bf37f[_0x7def55(0x13a)]['browserVersion']=_0x5aebaf[_0x7def55(0x108)]||_0x5aebaf[_0x7def55(0xa1)],_0x2bf37f[_0x7def55(0x13a)]['os']=_0x5aebaf['os']||_0x5aebaf[_0x7def55(0x118)],_0x2bf37f[_0x7def55(0x13a)]['osVersion']=_0x5aebaf[_0x7def55(0xe8)]||_0x5aebaf[_0x7def55(0x9f)],_0x2bf37f[_0x7def55(0x13a)][_0x7def55(0xe2)]=_0x5aebaf[_0x7def55(0xe2)]||_0x5aebaf['os']||_0x5aebaf[_0x7def55(0x118)],_0x2bf37f[_0x7def55(0x13a)][_0x7def55(0x90)]=_0x5aebaf[_0x7def55(0x90)]||_0x5aebaf[_0x7def55(0xe8)]||_0x5aebaf[_0x7def55(0x9f)],_0x4b051f=_0x2bf37f;if(_0x4b051f[_0x7def55(0x117)]||_0x4b051f['platformDetails'][_0x7def55(0x89)]){logger[_0x7def55(0xa6)](_0x334aad[_0x7def55(0x94)]);break;}}catch(_0x23f7ad){_0x334aad[_0x7def55(0xf3)](debug,'Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20'+_0x23f7ad[_0x7def55(0xd3)]());}}}catch(_0x39f76d){_0x334aad[_0x7def55(0xf3)](debug,_0x7def55(0xfd)+_0x39f76d['toString']());}}catch(_0x19f2a8){_0x334aad['FcsJx'](debug,_0x7def55(0xa8)+util[_0x7def55(0x135)](_0x19f2a8));}const _0x1a447d={};return _0x1a447d[_0x7def55(0x86)]=_0x4b051f,_0x1a447d[_0x7def55(0x93)]=_0x5f2166,_0x1a447d;}static async[a60_0x39726c(0xbe)](_0x1529ec,_0x3c3b9f){const _0x4f8696=a60_0x39726c,_0x157f77={'tEuWH':function(_0x3100a8,_0x3f8643){return _0x3100a8||_0x3f8643;},'nInIC':_0x4f8696(0x127),'ifSMB':function(_0x5d39ab,_0x4a904c){return _0x5d39ab||_0x4a904c;},'bjhVr':function(_0x1c4a7c,_0x348630){return _0x1c4a7c(_0x348630);}};try{if(!BrowserstackCLI['getInstance']()[_0x4f8696(0xb7)]())return;if(_0x157f77[_0x4f8696(0x8f)](_0x1529ec,_0x3c3b9f)){logger[_0x4f8696(0xa6)](_0x157f77[_0x4f8696(0x109)]);const _0x285e15={'params':_0x1529ec?{'bsParams':_0x1529ec}:null,'bStackParams':_0x157f77[_0x4f8696(0x10a)](_0x3c3b9f,null)},_0x42f1b1=AutomationFramework[_0x4f8696(0xea)](),_0x4b74f9={};_0x4b74f9['message']=_0x285e15,_0x4b74f9[_0x4f8696(0xfe)]=_0x42f1b1,await BrowserstackCLI[_0x4f8696(0x132)]()[_0x4f8696(0xf9)]()[_0x4f8696(0xcc)](AutomationFrameworkState[_0x4f8696(0x138)],HookState[_0x4f8696(0x133)],_0x4b74f9);}}catch(_0x49cac9){_0x157f77['bjhVr'](debug,'Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20'+util['format'](_0x49cac9));}}static['getDetails'](){return this['currentSessionDetails'];}}module['exports']=SharedPlaywrightSessionDetails;