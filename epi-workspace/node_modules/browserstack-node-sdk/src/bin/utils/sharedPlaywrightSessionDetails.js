const a60_0x379ba2=a60_0x49d6;(function(_0x5d62ee,_0x2dffe2){const _0x3133ab=a60_0x49d6,_0x21e153=_0x5d62ee();while(!![]){try{const _0x2d7020=parseInt(_0x3133ab(0x1f2))/0x1*(parseInt(_0x3133ab(0x17b))/0x2)+parseInt(_0x3133ab(0x197))/0x3+-parseInt(_0x3133ab(0x1b6))/0x4*(parseInt(_0x3133ab(0x21f))/0x5)+-parseInt(_0x3133ab(0x21d))/0x6*(-parseInt(_0x3133ab(0x196))/0x7)+parseInt(_0x3133ab(0x190))/0x8*(-parseInt(_0x3133ab(0x1a8))/0x9)+parseInt(_0x3133ab(0x216))/0xa+-parseInt(_0x3133ab(0x1fd))/0xb*(parseInt(_0x3133ab(0x201))/0xc);if(_0x2d7020===_0x2dffe2)break;else _0x21e153['push'](_0x21e153['shift']());}catch(_0x261be2){_0x21e153['push'](_0x21e153['shift']());}}}(a60_0x58f9,0xab521));function a60_0x49d6(_0x3da078,_0x3b7dbc){const _0x58f9d6=a60_0x58f9();return a60_0x49d6=function(_0x49d600,_0x30610f){_0x49d600=_0x49d600-0x169;let _0x14dac7=_0x58f9d6[_0x49d600];return _0x14dac7;},a60_0x49d6(_0x3da078,_0x3b7dbc);}const path=require(a60_0x379ba2(0x1d7)),url=require(a60_0x379ba2(0x174)),util=require(a60_0x379ba2(0x1be)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a60_0x379ba2(0x223)),{o11yErrorHandler}=require(a60_0x379ba2(0x1a9)),{debug,getPlatformDetails}=require(a60_0x379ba2(0x199)),logger=require(a60_0x379ba2(0x215))['winstonLogger'],constants=require(a60_0x379ba2(0x229)),AutomationFramework=require(a60_0x379ba2(0x18a)),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require(a60_0x379ba2(0x22f)),HookState=require(a60_0x379ba2(0x1a1)),{platform}=require('os'),getBrowserNameFromChannel=_0x56de1e=>{const _0x109bfe=a60_0x379ba2,_0xa3da5={};_0xa3da5[_0x109bfe(0x232)]=_0x109bfe(0x210),_0xa3da5[_0x109bfe(0x173)]=_0x109bfe(0x1ec),_0xa3da5[_0x109bfe(0x1c1)]=_0x109bfe(0x1ad),_0xa3da5[_0x109bfe(0x171)]=_0x109bfe(0x1fe);const _0x520f05=_0xa3da5;if(_0x56de1e[_0x109bfe(0x1f9)](_0x520f05[_0x109bfe(0x232)]))return _0x520f05['cFUHA'];if(_0x56de1e['includes'](_0x520f05[_0x109bfe(0x173)]))return _0x520f05[_0x109bfe(0x173)];if(_0x56de1e[_0x109bfe(0x1f9)](_0x520f05[_0x109bfe(0x1c1)]))return _0x520f05[_0x109bfe(0x1c1)];if(_0x56de1e[_0x109bfe(0x1f9)](_0x520f05['rrhgp']))return _0x520f05[_0x109bfe(0x171)];},getBrowserFromWSEndpoint=_0xb1f1be=>{const _0x2d9c96=a60_0x379ba2,_0x2ae7ee={'nlAJL':_0x2d9c96(0x21a),'JCBKP':function(_0x5f31db,_0x529a04){return _0x5f31db(_0x529a04);},'hiuEY':function(_0x4b8655,_0x419cc5){return _0x4b8655(_0x419cc5);},'fztVY':_0x2d9c96(0x1ec),'QfmEx':'msedge','UuCAE':_0x2d9c96(0x1ad),'PbJQy':_0x2d9c96(0x225),'Xdbhi':_0x2d9c96(0x1fe),'dfxuJ':_0x2d9c96(0x1e0),'JxmQr':_0x2d9c96(0x210)};try{const _0x413ef4=url['parse'](_0xb1f1be),_0x1b5c4c=new URLSearchParams(_0x413ef4['query']),_0x2d32d3=Object[_0x2d9c96(0x1e7)](_0x1b5c4c[_0x2d9c96(0x1c4)]()),_0x41c785=[_0x2d32d3['caps'],_0x2d32d3[_0x2d9c96(0x214)],_0x2d32d3[_0x2d9c96(0x1d1)],_0x2d32d3[_0x2d9c96(0x195)]];for(const _0x3d93e9 of _0x41c785){if(_0x3d93e9)try{const _0x2f3a8c=JSON[_0x2d9c96(0x231)](_0x3d93e9),_0x315e27=_0x2f3a8c[_0x2d9c96(0x20e)]||_0x2f3a8c['browser']||_0x2f3a8c[_0x2ae7ee[_0x2d9c96(0x18f)]]?.[_0x2d9c96(0x20e)];if(_0x315e27)return _0x2ae7ee[_0x2d9c96(0x209)](debug,'Browser\x20found\x20in\x20WebSocket\x20caps:\x20'+_0x315e27),_0x315e27[_0x2d9c96(0x19d)]();}catch(_0xb85f24){_0x2ae7ee[_0x2d9c96(0x1cd)](debug,'Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20'+_0xb85f24[_0x2d9c96(0x228)]);}}if(_0xb1f1be[_0x2d9c96(0x1f9)](_0x2ae7ee['fztVY'])||_0xb1f1be['includes'](_0x2ae7ee[_0x2d9c96(0x1f5)]))return _0x2ae7ee[_0x2d9c96(0x180)];if(_0xb1f1be[_0x2d9c96(0x1f9)](_0x2ae7ee[_0x2d9c96(0x1dd)])||_0xb1f1be[_0x2d9c96(0x1f9)](_0x2ae7ee['PbJQy']))return _0x2ae7ee['UuCAE'];if(_0xb1f1be[_0x2d9c96(0x1f9)](_0x2ae7ee[_0x2d9c96(0x224)])||_0xb1f1be[_0x2d9c96(0x1f9)](_0x2ae7ee[_0x2d9c96(0x16f)]))return _0x2ae7ee[_0x2d9c96(0x224)];return _0x2ae7ee[_0x2d9c96(0x1f4)];}catch(_0x50345d){return _0x2ae7ee['JCBKP'](debug,_0x2d9c96(0x217)+_0x50345d[_0x2d9c96(0x219)]()),_0x2ae7ee[_0x2d9c96(0x1f4)];}},getCloudProviderFromWsEndpoint=_0x5920af=>{const _0x32fa33=a60_0x379ba2,_0xe10af={};_0xe10af[_0x32fa33(0x1a5)]=_0x32fa33(0x1e9),_0xe10af[_0x32fa33(0x21b)]='unknown_grid';const _0x39cef9=_0xe10af;if(_0x5920af[_0x32fa33(0x1f9)](constants[_0x32fa33(0x1de)])||_0x5920af['includes'](constants[_0x32fa33(0x1ea)]))return _0x39cef9[_0x32fa33(0x1a5)];return _0x39cef9[_0x32fa33(0x21b)];},a60_0x49db1c={};function a60_0x58f9(){const _0x37c660=['tpofw','Connection\x20dispatch\x20already\x20patched','triggerPlaywrightDispatchEvent','capabilities','../../helpers/logger','5951510bZHApq','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','toString','bstack:options','JguRI','capabilties','144YERGuA','YIEpu','80hjlvFO','lBlqa','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','connectOptions','../../helpers/helper','Xdbhi','gecko','ebhQr','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','message','./constants','bsSessionId','browserVersion','lib','prototype','channel','../v2/state/automationFrameworkState.js','env','parse','cFUHA','btlTz','platformName','Bucrg','PLAYWRIGHT_DISPATCH','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','ATS_WSS_URL_REGEX','WoPRR','Session\x20details\x20setup\x20complete:\x20','local_grid','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','cloudProvider','DGrlf','RvnYK','dfxuJ','platform_version','rrhgp','sessionId','ccyqa','url','mUmWv','LAucj','dispatch','ixUGr','accessibilityPlatform','join','28646pZrVsP','BROWSERSTACK_TEST_OBSERVABILITY','RiybD','CRConnection\x20already\x20patched','getInstance','fztVY','playwright-','ohmOj','isRunning','debug','jJkYF','function','WeQNU','Error\x20in\x20applying\x20Connection\x20patch\x20','caps','../v2/framework/automationFramework','Rdgda','connection.js','client','Vetlp','nlAJL','24zkvemz','getTrackedInstance','Successfully\x20patched\x20Connection.dispatch','QxHEy','model','browserstack_capabilities','272132fLswNQ','1232022UJXnTo','os_version','../../helpers/test-observability/utils','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','query','CRConnection','toLowerCase','HANkG','platformVersion','WllrO','../v2/state/hookState.js','_name','oUXch','rQkdr','frlsG','setupBrowserDetails','version','233181hveSLN','../../helpers/test-observability/error-handler','UahoW','Failed\x20to\x20import\x20connection\x20from\x20','ctBnV','firefox','HrIro','Error\x20extracting\x20BrowserStack\x20parameters:\x20','iUwJp','ADJur','osVersion','platform','qnaFX','_defaultConnectOptions','40328RcHSni','jDrFe','patchCRConnection','sessionError','JgiGk','chromium','_onMessage','dxPvv','util','deviceModel','project','swtdc','stringify','qwyRe','entries','bStackParams','xNneA','dgfps','product','currentSessionDetails','_bstackDispatchPatched','Device\x20Model\x20is\x20not\x20available','automate','hiuEY','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','platformDetails','Found\x20Connection\x20class\x20at:\x20','desiredCapabilities','htZKV','string','defineProperty','byXuM',',\x20os=','path','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','apply','POST','xDxtO','patch','UuCAE','BSTACK_URL','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','webkit','aGPwz','wHbeI','EhmVF','use','getAutomationFramework','bjiES','fromEntries','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','browserstack','BSTACK_ATS_URL','WaoXC','edge','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','wsEndpoint','Error\x20parsing\x20WebSocket\x20endpoint:\x20','browser_version','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','41MlCuCb','browser','JxmQr','QfmEx','lesWx','_browserType','params','includes','VhjyP','Not\x20able\x20to\x20import\x20crConnection','_bstackCRPatched','17438564qAskzA','safari','assign','gscIW','12JaxWGj','trackEvent','Connection','Error\x20in\x20finding\x20platform\x20details\x20','Successfully\x20patched\x20CRConnection._onMessage','gIutT','bsParams','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','JCBKP','getDetails','patchConnection','turboscale','ZwVvD','browserName','server','chrome'];a60_0x58f9=function(){return _0x37c660;};return a60_0x58f9();}a60_0x49db1c[a60_0x379ba2(0x16c)]=undefined,a60_0x49db1c[a60_0x379ba2(0x22a)]=undefined,a60_0x49db1c[a60_0x379ba2(0x1f3)]=undefined,a60_0x49db1c[a60_0x379ba2(0x1f0)]=undefined,a60_0x49db1c['platform']=undefined,a60_0x49db1c[a60_0x379ba2(0x170)]=undefined,a60_0x49db1c[a60_0x379ba2(0x1c8)]=undefined,a60_0x49db1c[a60_0x379ba2(0x214)]={};class SharedPlaywrightSessionDetails{static [a60_0x379ba2(0x1c9)]=a60_0x49db1c;constructor(){const _0x223e32=a60_0x379ba2,_0x35b507={};_0x35b507[_0x223e32(0x1a3)]=_0x223e32(0x208);const _0x162c3b=_0x35b507;throw new Error(_0x162c3b[_0x223e32(0x1a3)]);}static [a60_0x379ba2(0x1b9)]=null;static[a60_0x379ba2(0x1a6)](_0x5da533,_0x43ae5d,_0x372b89=null){const _0x5ea487=a60_0x379ba2,_0x12c351={'ohmOj':function(_0x3af9a5,_0x367b3e){return _0x3af9a5===_0x367b3e;},'wHbeI':_0x5ea487(0x186),'Vetlp':_0x5ea487(0x19a),'nCohQ':_0x5ea487(0x1cb),'JgiGk':_0x5ea487(0x16a),'DxzbF':function(_0x18a35f,_0x5f168c,_0x4a914d){return _0x18a35f(_0x5f168c,_0x4a914d);},'dloZd':_0x5ea487(0x1f7),'lBlqa':_0x5ea487(0x1b5),'mhoxc':function(_0x541310,_0x46ed39,_0x2c5276){return _0x541310(_0x46ed39,_0x2c5276);},'ixUGr':_0x5ea487(0x1c0),'RiybD':'use','ADJur':_0x5ea487(0x222),'YIEpu':function(_0x3b7903,_0x1836f9){return _0x3b7903(_0x1836f9);},'UahoW':'browserstack','HrIro':_0x5ea487(0x20c),'jcVbI':_0x5ea487(0x1cc),'mUmWv':_0x5ea487(0x1bb),'lesWx':function(_0x941aa5,_0xdde9dd){return _0x941aa5(_0xdde9dd);},'BwMSM':function(_0x5c6c98,_0x19b0a0){return _0x5c6c98+_0x19b0a0;},'HANkG':_0x5ea487(0x181),'qfRsy':function(_0x50153a){return _0x50153a();},'RvnYK':function(_0x4a30bb,_0x18d097,_0x366f9c){return _0x4a30bb(_0x18d097,_0x366f9c);},'iPCOY':_0x5ea487(0x1a6)},_0x1ff7e8=this;return _0x12c351[_0x5ea487(0x16e)](o11yErrorHandler,async function _0x24f045(_0xdf7f87,_0x574e29,_0x1eb4ce=null){const _0xffaacb=_0x5ea487;let _0x39c755=_0xdf7f87[_0xffaacb(0x1a2)],_0x5816b4=null;_0xdf7f87&&_0x12c351[_0xffaacb(0x182)](typeof _0xdf7f87[_0xffaacb(0x1a7)],_0x12c351[_0xffaacb(0x1e2)])?_0x5816b4=_0xdf7f87[_0xffaacb(0x1a7)]():logger[_0xffaacb(0x184)](_0x12c351[_0xffaacb(0x18e)]);let _0x5c6200=null;_0xdf7f87&&_0x12c351[_0xffaacb(0x182)](typeof _0xdf7f87[_0xffaacb(0x194)],_0x12c351[_0xffaacb(0x1e2)])?_0x5c6200=_0xdf7f87[_0xffaacb(0x194)]():logger[_0xffaacb(0x184)](_0x12c351['nCohQ']);let _0x54965f=null,_0xc5ef8f=null,_0x1b323d=null,_0x54d8d6=_0x12c351[_0xffaacb(0x1ba)];if(_0xdf7f87['_connection']['isRemote']()||global[_0xffaacb(0x179)]){let _0x48c507=null;_0x12c351['DxzbF'](nestedKeyValue,_0xdf7f87,[_0x12c351['dloZd'],_0x12c351[_0xffaacb(0x220)]])?_0x48c507=_0xdf7f87[_0xffaacb(0x1f7)][_0xffaacb(0x1b5)]:_0x48c507=_0x12c351['mhoxc'](nestedKeyValue,_0x574e29,[_0x12c351[_0xffaacb(0x178)],_0x12c351[_0xffaacb(0x17d)],_0x12c351[_0xffaacb(0x1b1)]]);const _0x568831=_0x1eb4ce||_0x48c507&&_0x48c507[_0xffaacb(0x1ee)];if(_0x568831){_0x54d8d6=_0x12c351['YIEpu'](getCloudProviderFromWsEndpoint,_0x568831);if(_0x12c351[_0xffaacb(0x182)](_0x54d8d6,_0x12c351[_0xffaacb(0x1aa)])){_0x1b323d=constants[_0xffaacb(0x238)]['test'](_0x568831)?_0x12c351[_0xffaacb(0x1ae)]:_0x12c351['jcVbI'];const _0x9ede96=_0x12c351[_0xffaacb(0x21e)](getBrowserFromWSEndpoint,_0x568831);if(_0x9ede96&&(!_0x39c755||_0x12c351[_0xffaacb(0x182)](_0x39c755,_0x12c351[_0xffaacb(0x175)])))_0x39c755=_0x9ede96,logger[_0xffaacb(0x184)](_0xffaacb(0x1e8)+_0x39c755);else _0x39c755&&logger[_0xffaacb(0x184)](_0xffaacb(0x227)+_0x39c755);_0x54965f=_0x1ff7e8['currentSessionDetails'][_0xffaacb(0x1b3)],_0xc5ef8f=_0x1ff7e8['currentSessionDetails']['platform_version'];}}}else{_0x574e29&&_0x574e29[_0xffaacb(0x1c0)]&&_0x574e29[_0xffaacb(0x1c0)]['use']&&_0x574e29[_0xffaacb(0x1c0)][_0xffaacb(0x1e4)][_0xffaacb(0x22e)]?_0x39c755=_0x12c351[_0xffaacb(0x1f6)](getBrowserNameFromChannel,_0x574e29[_0xffaacb(0x1c0)][_0xffaacb(0x1e4)][_0xffaacb(0x22e)]):_0x39c755=_0x12c351['BwMSM'](_0x12c351[_0xffaacb(0x19e)],_0x39c755['toLowerCase']());const _0x16b692=await _0x12c351['qfRsy'](getPlatformDetails);_0x54965f=_0x16b692[_0xffaacb(0x234)],_0xc5ef8f=_0x16b692[_0xffaacb(0x19f)];}const _0x439264={};_0x439264[_0xffaacb(0x1f3)]=_0x39c755,_0x439264['browser_version']=_0x5816b4,_0x439264[_0xffaacb(0x214)]={},_0x439264['platform']=_0x54965f,_0x439264[_0xffaacb(0x170)]=_0xc5ef8f,_0x439264['product']=_0x1b323d;const _0x4d8f5b=_0x439264;_0x5c6200&&(_0x4d8f5b[_0xffaacb(0x214)][_0xffaacb(0x1bf)]=_0x5c6200);const _0x33c081={};_0x33c081[_0xffaacb(0x16c)]=_0x54d8d6,_0x1ff7e8[_0xffaacb(0x1c9)]=Object[_0xffaacb(0x1ff)]({},_0x1ff7e8[_0xffaacb(0x1c9)],_0x33c081,_0x4d8f5b);const _0x280cd7={};_0x280cd7[_0xffaacb(0x1f3)]=_0x1ff7e8[_0xffaacb(0x1c9)][_0xffaacb(0x1f3)],_0x280cd7[_0xffaacb(0x22b)]=_0x1ff7e8[_0xffaacb(0x1c9)][_0xffaacb(0x1f0)],_0x280cd7[_0xffaacb(0x1b3)]=_0x1ff7e8[_0xffaacb(0x1c9)]['platform'],_0x280cd7[_0xffaacb(0x19f)]=_0x1ff7e8[_0xffaacb(0x1c9)][_0xffaacb(0x170)],_0x280cd7['cloudProvider']=_0x1ff7e8[_0xffaacb(0x1c9)][_0xffaacb(0x16c)],_0x280cd7[_0xffaacb(0x1c8)]=_0x1ff7e8[_0xffaacb(0x1c9)][_0xffaacb(0x1c8)],logger['debug'](_0xffaacb(0x169)+JSON[_0xffaacb(0x1c2)](_0x280cd7));},_0x12c351['iPCOY'])(_0x5da533,_0x43ae5d,_0x372b89);}static[a60_0x379ba2(0x1dc)](){const _0x28afdb=a60_0x379ba2;this[_0x28afdb(0x20b)](),this[_0x28afdb(0x1b8)]();}static['patchConnection'](){const _0x1b659b=a60_0x379ba2,_0xe663e5={'WoPRR':function(_0x4573aa,_0x5c88d5){return _0x4573aa(_0x5c88d5);},'LAucj':_0x1b659b(0x22c),'WaoXC':_0x1b659b(0x18d),'efTdT':_0x1b659b(0x18c),'bjiES':function(_0x380d8b,_0x47a8c7){return _0x380d8b(_0x47a8c7);},'HyjFD':_0x1b659b(0x16b),'ZwVvD':function(_0x350341,_0x2b4177){return _0x350341!=_0x2b4177;},'Rdgda':function(_0x5b762e,_0x1cbb23){return _0x5b762e(_0x1cbb23);},'WllrO':_0x1b659b(0x212),'byXuM':_0x1b659b(0x177),'dgfps':_0x1b659b(0x192),'iUwJp':function(_0x4d0522,_0xc3521c){return _0x4d0522(_0xc3521c);}},_0x41d6df=this;if(!this[_0x1b659b(0x203)])try{const _0x268cff=[path[_0x1b659b(0x17a)](_0xe663e5['LAucj'],_0xe663e5[_0x1b659b(0x1eb)],_0xe663e5['efTdT']),path['join'](_0xe663e5[_0x1b659b(0x176)],_0xe663e5['efTdT']),path['join'](_0xe663e5[_0x1b659b(0x1eb)],_0xe663e5['efTdT'])];for(const _0x391282 of _0x268cff){try{const _0x39219a=_0xe663e5[_0x1b659b(0x239)](importFileFromPWCore,_0x391282);if(_0x39219a&&_0x39219a[_0x1b659b(0x203)]){this['Connection']=_0x39219a['Connection'],logger['debug'](_0x1b659b(0x1d0)+_0x391282);break;}}catch(_0x2b4d88){_0xe663e5['bjiES'](debug,_0x1b659b(0x1ab)+_0x391282+':\x20'+_0x2b4d88[_0x1b659b(0x219)]());}}if(!this[_0x1b659b(0x203)]){_0xe663e5['bjiES'](debug,_0xe663e5['HyjFD']);return;}}catch(_0x176704){_0xe663e5[_0x1b659b(0x1e6)](debug,'Error\x20in\x20importing\x20connection\x20'+_0x176704[_0x1b659b(0x219)]());return;}const _0x38dfcd=this[_0x1b659b(0x203)];try{if(_0xe663e5[_0x1b659b(0x20d)](_0x38dfcd,null)){const _0x58b289=_0x38dfcd[_0x1b659b(0x22d)][_0x1b659b(0x177)];if(!_0xe663e5[_0x1b659b(0x18b)](isFalse,process[_0x1b659b(0x230)][_0x1b659b(0x17c)])){if(_0x38dfcd[_0x1b659b(0x22d)][_0x1b659b(0x1ca)]){logger['debug'](_0xe663e5[_0x1b659b(0x1a0)]);return;}Object[_0x1b659b(0x1d4)](_0x38dfcd['prototype'],_0xe663e5[_0x1b659b(0x1d5)],{'get':function(){const _0x3e67bd={'qnaFX':function(_0x445f4e,_0x2aff1e){return _0xe663e5['WoPRR'](_0x445f4e,_0x2aff1e);}};return async function _0x3a4716(_0x3f2b81){const _0x2452da=a60_0x49d6;if(BrowserstackCLI[_0x2452da(0x17f)]()[_0x2452da(0x183)]()){const _0x3a310b={};_0x3a310b[_0x2452da(0x228)]=_0x3f2b81,await BrowserstackCLI[_0x2452da(0x17f)]()['getAutomationFramework']()[_0x2452da(0x202)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState[_0x2452da(0x1da)],_0x3a310b);}else{const _0xcb10ce=_0x3f2b81&&_0x3f2b81[_0x2452da(0x1f8)]&&_0x3f2b81['params']['bsParams'];if(_0xcb10ce){const _0x488f72=_0xcb10ce[_0x2452da(0x172)],_0x2bf42e=_0xcb10ce[_0x2452da(0x1cf)];_0x2bf42e&&(_0x3e67bd[_0x2452da(0x1b4)](debug,_0x2452da(0x221)+_0x2bf42e['toString']()),_0x41d6df['currentSessionDetails'][_0x2452da(0x1b3)]=_0x2bf42e['platformName'],_0x41d6df[_0x2452da(0x1c9)][_0x2452da(0x170)]=_0x2bf42e['platformVersion']),_0x488f72&&(_0x3e67bd[_0x2452da(0x1b4)](debug,'Setting\x20session\x20id\x20received\x20from\x20BS\x20'+_0x488f72),_0x41d6df[_0x2452da(0x1c9)]['bsSessionId']=_0x488f72);}}return _0x58b289[_0x2452da(0x1d9)](this,arguments);};}}),_0x38dfcd[_0x1b659b(0x22d)][_0x1b659b(0x1ca)]=!![],logger['debug'](_0xe663e5[_0x1b659b(0x1c7)]);}}}catch(_0x2fa4ba){_0xe663e5[_0x1b659b(0x1b0)](debug,_0x1b659b(0x188)+_0x2fa4ba),_0x41d6df['sessionError']=_0x2fa4ba[_0x1b659b(0x219)]();}}static['patchCRConnection'](){const _0x55c8d=a60_0x379ba2,_0x8fd90a={'Bucrg':function(_0x386890,_0xd5e013){return _0x386890(_0xd5e013);},'qwyRe':_0x55c8d(0x22c),'rQkdr':_0x55c8d(0x20f),'VhjyP':_0x55c8d(0x1bb),'tpofw':'crConnection.js','CNXwm':function(_0x148e76,_0x58fc20){return _0x148e76(_0x58fc20);},'WeQNU':_0x55c8d(0x1fb),'tOORk':function(_0x2fe7a2,_0x4f6c05){return _0x2fe7a2(_0x4f6c05);},'xDxtO':'Error\x20in\x20importing\x20crConnection','ebhQr':function(_0x1ee505,_0x1c57cc){return _0x1ee505!=_0x1c57cc;},'AwtBA':_0x55c8d(0x17e),'gIutT':_0x55c8d(0x1bc),'aGPwz':_0x55c8d(0x205),'jJkYF':function(_0x6bac9a,_0x325d75){return _0x6bac9a(_0x325d75);}},_0x5224ae=this;let _0x483895=null;try{const _0x5e56f7=path[_0x55c8d(0x17a)](_0x8fd90a[_0x55c8d(0x1c3)],_0x8fd90a[_0x55c8d(0x1a4)],_0x8fd90a[_0x55c8d(0x1fa)],_0x8fd90a[_0x55c8d(0x211)]),_0x33aa4=_0x8fd90a[_0x55c8d(0x235)](importFileFromPWCore,_0x5e56f7);!_0x33aa4?_0x8fd90a['CNXwm'](debug,_0x8fd90a[_0x55c8d(0x187)]):_0x483895=_0x33aa4[_0x55c8d(0x19c)];}catch(_0x5f486b){_0x8fd90a['tOORk'](debug,_0x8fd90a[_0x55c8d(0x1db)]);}try{if(_0x8fd90a[_0x55c8d(0x226)](_0x483895,null)){const _0x5c2bae=_0x483895['prototype'][_0x55c8d(0x1bc)];if(_0x483895[_0x55c8d(0x22d)]['_bstackCRPatched']){logger[_0x55c8d(0x184)](_0x8fd90a['AwtBA']);return;}Object['defineProperty'](_0x483895['prototype'],_0x8fd90a[_0x55c8d(0x206)],{'get':function(){const _0x268052={'xNneA':function(_0x1ce616,_0x19cace){const _0x20a574=a60_0x49d6;return _0x8fd90a[_0x20a574(0x235)](_0x1ce616,_0x19cace);},'gscIW':function(_0x39ff3a,_0x112bc2){return _0x8fd90a['Bucrg'](_0x39ff3a,_0x112bc2);}};return async function _0x264763(_0x588d57){const _0x3c559b=a60_0x49d6;try{if(BrowserstackCLI[_0x3c559b(0x17f)]()[_0x3c559b(0x183)]()){const _0x3ae8d9={};_0x3ae8d9[_0x3c559b(0x228)]=_0x588d57,await BrowserstackCLI[_0x3c559b(0x17f)]()[_0x3c559b(0x1e5)]()[_0x3c559b(0x202)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState['POST'],_0x3ae8d9),delete _0x588d57[_0x3c559b(0x1c5)];}else{const _0xd97afb=_0x588d57[_0x3c559b(0x1c5)];if(_0xd97afb){delete _0x588d57['bStackParams'];const _0x526626=_0xd97afb[_0x3c559b(0x172)],_0x16b9a2=_0xd97afb[_0x3c559b(0x1cf)];_0x16b9a2&&(_0x268052[_0x3c559b(0x1c6)](debug,_0x3c559b(0x1f1)+_0x16b9a2['toString']()),_0x5224ae['currentSessionDetails'][_0x3c559b(0x1b3)]=_0x16b9a2[_0x3c559b(0x234)],_0x5224ae[_0x3c559b(0x1c9)]['platform_version']=_0x16b9a2[_0x3c559b(0x19f)]),_0x526626&&(_0x268052[_0x3c559b(0x1c6)](debug,_0x3c559b(0x218)+_0x526626),_0x5224ae[_0x3c559b(0x1c9)]['bsSessionId']=_0x526626);}}}catch(_0x400ff0){_0x268052[_0x3c559b(0x200)](debug,_0x3c559b(0x204)+_0x400ff0[_0x3c559b(0x219)]());}return _0x5c2bae['apply'](this,arguments);};}}),_0x483895[_0x55c8d(0x22d)][_0x55c8d(0x1fc)]=!![],logger[_0x55c8d(0x184)](_0x8fd90a[_0x55c8d(0x1e1)]);}}catch(_0x3e847d){_0x8fd90a[_0x55c8d(0x185)](debug,_0x55c8d(0x1d8)+_0x3e847d),_0x5224ae['sessionError']=_0x3e847d[_0x55c8d(0x219)]();}}static['extractBrowserStackParams'](_0x21c194,_0x48dc01){const _0x3a75ce=a60_0x379ba2,_0x234424={'QxHEy':_0x3a75ce(0x21a),'HdsrM':function(_0x142046,_0x52ae7f){return _0x142046||_0x52ae7f;},'btlTz':function(_0x33bcb4,_0x368edd){return _0x33bcb4||_0x368edd;},'ctBnV':function(_0x42feec,_0x9224ef){return _0x42feec===_0x9224ef;},'EhmVF':_0x3a75ce(0x1d3),'DGrlf':_0x3a75ce(0x1ce),'dxPvv':function(_0x359b4a,_0x46e060){return _0x359b4a(_0x46e060);}};let _0x4fb54b=null,_0x8610e4=null;try{const _0x57d643=[_0x48dc01,global['__platformCaps'],global[_0x3a75ce(0x21c)]];for(const _0x306b8b of _0x57d643){if(_0x306b8b&&(!_0x8610e4||!_0x8610e4[_0x3a75ce(0x172)])){const _0x2d17b2=_0x306b8b['sessionId']||_0x306b8b[_0x234424[_0x3a75ce(0x193)]]?.[_0x3a75ce(0x172)],_0x25bf04=_0x306b8b['browserName']||_0x306b8b[_0x3a75ce(0x1f3)]||_0x306b8b[_0x234424[_0x3a75ce(0x193)]]?.[_0x3a75ce(0x20e)],_0x2f981d=_0x306b8b['browserVersion']||_0x306b8b[_0x3a75ce(0x1f0)]||_0x306b8b[_0x234424[_0x3a75ce(0x193)]]?.['browserVersion'],_0x5d044e=_0x306b8b['os']||_0x306b8b[_0x3a75ce(0x1b3)]||_0x306b8b[_0x234424[_0x3a75ce(0x193)]]?.['os'],_0xb8f8f8=_0x306b8b[_0x3a75ce(0x1b2)]||_0x306b8b[_0x3a75ce(0x198)]||_0x306b8b[_0x234424[_0x3a75ce(0x193)]]?.[_0x3a75ce(0x1b2)];if(_0x234424['HdsrM'](_0x2d17b2,_0x25bf04)||_0x5d044e){const _0x57da11={};_0x57da11[_0x3a75ce(0x20e)]=_0x25bf04,_0x57da11[_0x3a75ce(0x22b)]=_0x2f981d,_0x57da11['os']=_0x5d044e,_0x57da11[_0x3a75ce(0x1b2)]=_0xb8f8f8,_0x57da11[_0x3a75ce(0x234)]=_0x306b8b[_0x3a75ce(0x234)]||_0x5d044e,_0x57da11[_0x3a75ce(0x19f)]=_0x306b8b['platformVersion']||_0xb8f8f8;const _0x17c6cb={};_0x17c6cb['sessionId']=_0x2d17b2,_0x17c6cb[_0x3a75ce(0x1cf)]=_0x57da11,_0x8610e4=_0x17c6cb;if(_0x234424[_0x3a75ce(0x233)](_0x2d17b2,_0x25bf04)){logger[_0x3a75ce(0x184)](_0x3a75ce(0x1df)+_0x25bf04+_0x3a75ce(0x1d6)+_0x5d044e);break;}}}}if(_0x21c194&&_0x234424[_0x3a75ce(0x1ac)](typeof _0x21c194,_0x234424[_0x3a75ce(0x1e3)]))try{const _0x89ed8d=url[_0x3a75ce(0x231)](_0x21c194),_0x55679e=new URLSearchParams(_0x89ed8d[_0x3a75ce(0x19b)]),_0x4c0432=Object[_0x3a75ce(0x1e7)](_0x55679e[_0x3a75ce(0x1c4)]()),_0x464002=[_0x4c0432[_0x3a75ce(0x189)],_0x4c0432[_0x3a75ce(0x214)],_0x4c0432[_0x3a75ce(0x1d1)]];for(const _0x10570b of _0x464002){if(_0x10570b&&(!_0x4fb54b||!_0x4fb54b[_0x3a75ce(0x172)]))try{const _0x4ded18=JSON[_0x3a75ce(0x231)](_0x10570b),_0x27eee1={};_0x27eee1[_0x3a75ce(0x172)]=_0x4ded18['sessionId']||_0x4ded18[_0x234424[_0x3a75ce(0x193)]]?.[_0x3a75ce(0x172)],_0x27eee1[_0x3a75ce(0x1cf)]={},_0x27eee1[_0x3a75ce(0x1cf)][_0x3a75ce(0x20e)]=_0x4ded18[_0x3a75ce(0x20e)]||_0x4ded18[_0x3a75ce(0x1f3)],_0x27eee1[_0x3a75ce(0x1cf)][_0x3a75ce(0x22b)]=_0x4ded18[_0x3a75ce(0x22b)]||_0x4ded18[_0x3a75ce(0x1f0)],_0x27eee1[_0x3a75ce(0x1cf)]['os']=_0x4ded18['os']||_0x4ded18['platform'],_0x27eee1[_0x3a75ce(0x1cf)][_0x3a75ce(0x1b2)]=_0x4ded18['osVersion']||_0x4ded18['os_version'],_0x27eee1[_0x3a75ce(0x1cf)][_0x3a75ce(0x234)]=_0x4ded18[_0x3a75ce(0x234)]||_0x4ded18['os']||_0x4ded18[_0x3a75ce(0x1b3)],_0x27eee1[_0x3a75ce(0x1cf)][_0x3a75ce(0x19f)]=_0x4ded18['platformVersion']||_0x4ded18['osVersion']||_0x4ded18[_0x3a75ce(0x198)],_0x4fb54b=_0x27eee1;if(_0x4fb54b[_0x3a75ce(0x172)]||_0x4fb54b[_0x3a75ce(0x1cf)][_0x3a75ce(0x20e)]){logger[_0x3a75ce(0x184)](_0x234424[_0x3a75ce(0x16d)]);break;}}catch(_0x3224ee){_0x234424[_0x3a75ce(0x1bd)](debug,_0x3a75ce(0x1ed)+_0x3224ee[_0x3a75ce(0x219)]());}}}catch(_0x3c00b2){_0x234424[_0x3a75ce(0x1bd)](debug,_0x3a75ce(0x1ef)+_0x3c00b2[_0x3a75ce(0x219)]());}}catch(_0x490de9){_0x234424[_0x3a75ce(0x1bd)](debug,_0x3a75ce(0x1af)+util['format'](_0x490de9));}const _0x1fe73c={};return _0x1fe73c[_0x3a75ce(0x207)]=_0x4fb54b,_0x1fe73c[_0x3a75ce(0x1c5)]=_0x8610e4,_0x1fe73c;}static async[a60_0x379ba2(0x213)](_0x5634b9,_0x447fa0){const _0x302f6e=a60_0x379ba2,_0x35ed27={'htZKV':function(_0x103d73,_0x4bec1f){return _0x103d73||_0x4bec1f;},'zFmhE':_0x302f6e(0x237),'gPfqj':function(_0x136bb9,_0x2fa53a){return _0x136bb9||_0x2fa53a;},'jDrFe':function(_0x46230f,_0x5049b0){return _0x46230f(_0x5049b0);}};try{if(!BrowserstackCLI[_0x302f6e(0x17f)]()['isRunning']())return;if(_0x35ed27[_0x302f6e(0x1d2)](_0x5634b9,_0x447fa0)){logger[_0x302f6e(0x184)](_0x35ed27['zFmhE']);const _0x2ccb37={'params':_0x5634b9?{'bsParams':_0x5634b9}:null,'bStackParams':_0x35ed27['gPfqj'](_0x447fa0,null)},_0x5114f1=AutomationFramework[_0x302f6e(0x191)](),_0x1b8658={};_0x1b8658[_0x302f6e(0x228)]=_0x2ccb37,_0x1b8658['instance']=_0x5114f1,await BrowserstackCLI[_0x302f6e(0x17f)]()[_0x302f6e(0x1e5)]()[_0x302f6e(0x202)](AutomationFrameworkState[_0x302f6e(0x236)],HookState[_0x302f6e(0x1da)],_0x1b8658);}}catch(_0x5a6590){_0x35ed27[_0x302f6e(0x1b7)](debug,'Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20'+util['format'](_0x5a6590));}}static[a60_0x379ba2(0x20a)](){const _0x1760fc=a60_0x379ba2;return this[_0x1760fc(0x1c9)];}}module['exports']=SharedPlaywrightSessionDetails;