const a54_0x48ced1=a54_0x5655;(function(_0xbdb5cf,_0x5b069f){const _0x3b8681=a54_0x5655,_0x1b712d=_0xbdb5cf();while(!![]){try{const _0x550bdd=-parseInt(_0x3b8681(0x1a6))/0x1+-parseInt(_0x3b8681(0x194))/0x2*(-parseInt(_0x3b8681(0x1af))/0x3)+parseInt(_0x3b8681(0x15a))/0x4*(-parseInt(_0x3b8681(0x15f))/0x5)+parseInt(_0x3b8681(0x18d))/0x6*(parseInt(_0x3b8681(0x1a2))/0x7)+parseInt(_0x3b8681(0x1bc))/0x8+parseInt(_0x3b8681(0x191))/0x9+-parseInt(_0x3b8681(0x157))/0xa*(parseInt(_0x3b8681(0x15d))/0xb);if(_0x550bdd===_0x5b069f)break;else _0x1b712d['push'](_0x1b712d['shift']());}catch(_0x130903){_0x1b712d['push'](_0x1b712d['shift']());}}}(a54_0x9c69,0x5fa8d));const logger=require(a54_0x48ced1(0x190))[a54_0x48ced1(0x17c)],BrowserstackCLI=require(a54_0x48ced1(0x183)),GrpcClient=require(a54_0x48ced1(0x19d)),constants=require(a54_0x48ced1(0x19f));function a54_0x9c69(){const _0x4f391d=['winstonLogger','reportSSLCertIssue','Error\x20in\x20getting\x20error\x20details\x20for\x20','XczFb','push','sfOrQ','uIWDL','../v2/browserstackCLI','gVgjP','logError','size','zmzyK','toString','reportSessionLinkingIssue','FRHoy','SSL\x20Certificate\x20Issue\x20details\x20not\x20found','getErrorMessage','24054LDdpWn','from','hLzlb','../../helpers/logger','5203017iLdxbA','errorCode','SfduM','2HtEHGz','getFinalErrorMessage','KhVUe','lqTuz','gFtgy','replace','Process\x20Interruption\x20details\x20not\x20found:','YdEbL','xoDXV','../v2/grpcClient','vSpzx','./constants','error','MElxd','35HzoEyu','reportFinalDetectionState','[ClientTroubleShootingService]\x20','getAggregatedErrorCodes','534108DvugVj','KLaCz','Akzte','base64','checkForErrorsOccuredInCLI','getAggregatedClientTroubleshootingErrors','finalErrorMessage','documentationLink','WkYNU','1462080riUKKY','SgENm','keys','gpSqL','errorCodesOccurredInCLI','warn','ssl\x20cert\x20issue','GmSoB','Session\x20Linking\x20Issue','getErrorCodesOccurredInCli','Connectivity\x20Issue\x20details\x20not\x20found','KRNij','Conflicting\x20Env\x20Var\x20details\x20not\x20found','5174904mdvaik','WznrG','qWJTA','7605150aArDHu','exports','getInstance','284xXbOvn','eVqRm','EegOm','11nGzazl','getErrorCode','3235UPNJvV','errorCodes','length','Error\x20in\x20getting\x20aggregated\x20error\x20codes:','logSituation','dXNKa','{CLIENT_TROUBLESHOOTING_DOCUMENTATION}','Session\x20Linking\x20Issue\x20details\x20not\x20found','mHWMG','RTJRc','getCachedErrorCodes','conflicting\x20env\x20var\x20detected','.browserstack\x20Folder\x20Not\x20Accessible\x20details\x20not\x20found','lqFYt','isRunning','reportProcessInterruptionSituation','vpufZ','getErrorDetails','{ENV_VAR}','isArray','getSuccess','FrdgH','parse','{ERROR_CODES}','errorCodesOccurredWhenCLINotRunning','errorMessage','cachedErrorCodes','ourMC','Process\x20Interruption'];a54_0x9c69=function(){return _0x4f391d;};return a54_0x9c69();}class ClientTroubleShootingService{static [a54_0x48ced1(0x179)]=null;static [a54_0x48ced1(0x177)]=new Set();static async[a54_0x48ced1(0x170)](_0xd5235d){const _0x341ba8=a54_0x48ced1,_0x1ee198={};_0x1ee198[_0x341ba8(0x16f)]=function(_0x4d0356,_0x539100){return _0x4d0356!==_0x539100;};const _0x127d91=_0x1ee198;try{if(BrowserstackCLI[_0x341ba8(0x159)]()[_0x341ba8(0x16d)]()){const _0x520986=await GrpcClient['getInstance']()['reportClientTroubleshootingError'](_0xd5235d);if(_0x127d91['vpufZ'](_0x520986,null)&&_0x520986['getSuccess']())return{'errorCode':_0x520986[_0x341ba8(0x15e)](),'errorMessage':_0x520986[_0x341ba8(0x18c)]()};return{};}return{};}catch(_0xa81b30){return this[_0x341ba8(0x185)](_0x341ba8(0x17e)+_0xd5235d+':',_0xa81b30),{};}}static async['getAggregatedErrorCodes'](){const _0x214c28=a54_0x48ced1,_0x4a354d={};_0x4a354d[_0x214c28(0x187)]=function(_0x442378,_0x4ae911){return _0x442378!==_0x4ae911;},_0x4a354d[_0x214c28(0x19b)]=_0x214c28(0x1a9),_0x4a354d[_0x214c28(0x15c)]=_0x214c28(0x162);const _0x449303=_0x4a354d;try{if(BrowserstackCLI[_0x214c28(0x159)]()[_0x214c28(0x16d)]()){const _0x22a659=await GrpcClient['getInstance']()[_0x214c28(0x1ab)]();if(_0x449303['zmzyK'](_0x22a659,null)&&_0x22a659[_0x214c28(0x173)]()){const _0x302a1a=Buffer[_0x214c28(0x18e)](_0x22a659['getErrorCodes'](),_0x449303[_0x214c28(0x19b)])[_0x214c28(0x188)](),_0x5d211e=_0x302a1a?JSON[_0x214c28(0x175)](_0x302a1a):[],_0x2ae03d=_0x22a659['getDocumentationLink'](),_0xe1b20e=_0x22a659[_0x214c28(0x195)](),_0x20ece4=Buffer[_0x214c28(0x18e)](_0x22a659[_0x214c28(0x1b8)](),_0x449303['YdEbL'])[_0x214c28(0x188)](),_0x4ff970=_0x20ece4?JSON['parse'](_0x20ece4):[],_0x228135={};return _0x228135[_0x214c28(0x160)]=_0x5d211e,_0x228135[_0x214c28(0x1ad)]=_0x2ae03d,_0x228135[_0x214c28(0x1ac)]=_0xe1b20e,_0x228135[_0x214c28(0x1b3)]=_0x4ff970,_0x228135;}const _0x2b15ab={};return _0x2b15ab[_0x214c28(0x160)]=[],_0x2b15ab['documentationLink']='',_0x2b15ab[_0x214c28(0x1ac)]='',_0x2b15ab[_0x214c28(0x1b3)]=[],_0x2b15ab;}const _0x396d9a={};return _0x396d9a[_0x214c28(0x160)]=[],_0x396d9a[_0x214c28(0x1ad)]='',_0x396d9a['finalErrorMessage']='',_0x396d9a['errorCodesOccurredInCLI']=[],_0x396d9a;}catch(_0x2787a4){this[_0x214c28(0x185)](_0x449303[_0x214c28(0x15c)],_0x2787a4);const _0x1579a1={};return _0x1579a1[_0x214c28(0x160)]=[],_0x1579a1[_0x214c28(0x1ad)]='',_0x1579a1[_0x214c28(0x1ac)]='',_0x1579a1[_0x214c28(0x1b3)]=[],_0x1579a1;}}static[a54_0x48ced1(0x163)](_0x3bc1d7,_0x23dc74){const _0x45576b=a54_0x48ced1;logger[_0x45576b(0x1b4)](_0x3bc1d7+':\x20'+_0x23dc74);}static[a54_0x48ced1(0x1aa)](_0x4a1a67){const _0xbe93bc=a54_0x48ced1,_0xff6025={};_0xff6025[_0xbe93bc(0x155)]=function(_0x1f4f68,_0x1f682a){return _0x1f4f68!=_0x1f682a;},_0xff6025[_0xbe93bc(0x184)]=function(_0x11490c,_0x40a958){return _0x11490c!=_0x40a958;},_0xff6025[_0xbe93bc(0x19c)]=function(_0xccd6ff,_0xbcd47d){return _0xccd6ff>_0xbcd47d;},_0xff6025['RTJRc']=function(_0x26043f,_0x2228af){return _0x26043f!=_0x2228af;},_0xff6025[_0xbe93bc(0x18f)]=function(_0x317e9f,_0xf4a8a3){return _0x317e9f!=_0xf4a8a3;};const _0x4db5be=_0xff6025,_0x3f5500=[];if(_0x4db5be['WznrG'](_0x4a1a67,null)&&_0x4db5be[_0xbe93bc(0x184)](_0x4a1a67['errorCodesOccurredInCLI'],null)&&_0x4db5be[_0xbe93bc(0x19c)](_0x4a1a67[_0xbe93bc(0x1b3)][_0xbe93bc(0x161)],0x0))for(const _0xedcff of _0x4a1a67[_0xbe93bc(0x1b3)]){_0x4db5be[_0xbe93bc(0x168)](_0xedcff[_0xbe93bc(0x192)],null)&&_0x4db5be[_0xbe93bc(0x18f)](_0xedcff[_0xbe93bc(0x178)],null)&&(_0x3f5500[_0xbe93bc(0x180)](_0xedcff[_0xbe93bc(0x192)]),this[_0xbe93bc(0x163)](_0xedcff[_0xbe93bc(0x192)],_0xedcff[_0xbe93bc(0x178)]));}return _0x3f5500;}static[a54_0x48ced1(0x169)](){const _0x14c445=a54_0x48ced1;return this[_0x14c445(0x179)];}static[a54_0x48ced1(0x185)](_0x9b6a0f,_0x4a53bb){const _0x30b74c=a54_0x48ced1,_0x2eab60={};_0x2eab60[_0x30b74c(0x1b2)]=function(_0x575b92,_0x19e6d0){return _0x575b92===_0x19e6d0;},_0x2eab60[_0x30b74c(0x17f)]='object';const _0x2e339e=_0x2eab60;if(_0x2e339e[_0x30b74c(0x1b2)](typeof _0x4a53bb,_0x2e339e[_0x30b74c(0x17f)]))try{logger[_0x30b74c(0x1a0)](_0x30b74c(0x1a4)+_0x9b6a0f+'\x20'+JSON['stringify'](_0x4a53bb));}catch(_0x53c4a6){logger[_0x30b74c(0x1a0)]('[ClientTroubleShootingService]\x20'+_0x9b6a0f+'\x20'+_0x4a53bb);}else logger[_0x30b74c(0x1a0)](_0x30b74c(0x1a4)+_0x9b6a0f+'\x20'+_0x4a53bb);}static async[a54_0x48ced1(0x16e)](_0x4ae6c8){const _0x3d49ff=a54_0x48ced1,_0x34eb1d={};_0x34eb1d[_0x3d49ff(0x156)]=_0x3d49ff(0x17b),_0x34eb1d[_0x3d49ff(0x1a1)]=function(_0x5bdfe1,_0x13b486){return _0x5bdfe1===_0x13b486;},_0x34eb1d['BdLyh']=_0x3d49ff(0x19a),_0x34eb1d[_0x3d49ff(0x1b6)]='{SIGNAL}';const _0x31aa91=_0x34eb1d,_0x1d53ef=await this[_0x3d49ff(0x170)](_0x31aa91[_0x3d49ff(0x156)]);if(_0x31aa91[_0x3d49ff(0x1a1)](Object[_0x3d49ff(0x1b1)](_0x1d53ef)[_0x3d49ff(0x161)],0x0)){this[_0x3d49ff(0x185)](_0x31aa91['BdLyh'],_0x1d53ef);return;}this[_0x3d49ff(0x163)](_0x1d53ef['errorCode'],_0x1d53ef[_0x3d49ff(0x178)][_0x3d49ff(0x199)](_0x31aa91[_0x3d49ff(0x1b6)],_0x4ae6c8));}static async[a54_0x48ced1(0x189)](){const _0x14cf88=a54_0x48ced1,_0x598182={};_0x598182[_0x14cf88(0x17a)]=_0x14cf88(0x1b7),_0x598182[_0x14cf88(0x1b0)]=function(_0x4e6a46,_0x96e33b){return _0x4e6a46===_0x96e33b;},_0x598182[_0x14cf88(0x182)]=_0x14cf88(0x166);const _0x42a7d1=_0x598182,_0x6bcc2d=await this[_0x14cf88(0x170)](_0x42a7d1[_0x14cf88(0x17a)]);if(_0x42a7d1[_0x14cf88(0x1b0)](Object['keys'](_0x6bcc2d)[_0x14cf88(0x161)],0x0)){this[_0x14cf88(0x185)](_0x42a7d1[_0x14cf88(0x182)],_0x6bcc2d);return;}this['logSituation'](_0x6bcc2d['errorCode'],_0x6bcc2d[_0x14cf88(0x178)]);}static async['reportConnectivityIssue'](){const _0x3af3ee=a54_0x48ced1,_0x50f854={};_0x50f854[_0x3af3ee(0x193)]='browserstack\x20cloud\x20not\x20reachable',_0x50f854['sfOrQ']=function(_0x48b523,_0x500186){return _0x48b523===_0x500186;},_0x50f854[_0x3af3ee(0x174)]=_0x3af3ee(0x1b9);const _0x573234=_0x50f854,_0x30e18a=await this[_0x3af3ee(0x170)](_0x573234[_0x3af3ee(0x193)]);if(_0x573234[_0x3af3ee(0x181)](Object[_0x3af3ee(0x1b1)](_0x30e18a)[_0x3af3ee(0x161)],0x0)){this[_0x3af3ee(0x185)](_0x573234[_0x3af3ee(0x174)],_0x30e18a);return;}this[_0x3af3ee(0x163)](_0x30e18a[_0x3af3ee(0x192)],_0x30e18a['errorMessage']);}static async[a54_0x48ced1(0x17d)](){const _0x3d1160=a54_0x48ced1,_0xd2288e={};_0xd2288e[_0x3d1160(0x1ae)]=_0x3d1160(0x1b5),_0xd2288e[_0x3d1160(0x18a)]=function(_0x346ef8,_0x344221){return _0x346ef8===_0x344221;},_0xd2288e['lqFYt']=_0x3d1160(0x18b);const _0x2c0389=_0xd2288e,_0x2b34ea=await this[_0x3d1160(0x170)](_0x2c0389[_0x3d1160(0x1ae)]);if(_0x2c0389['FRHoy'](Object[_0x3d1160(0x1b1)](_0x2b34ea)[_0x3d1160(0x161)],0x0)){this[_0x3d1160(0x185)](_0x2c0389[_0x3d1160(0x16c)],_0x2b34ea);return;}this[_0x3d1160(0x163)](_0x2b34ea[_0x3d1160(0x192)],_0x2b34ea[_0x3d1160(0x178)]);}static['reportDotBrowserStackFolderNotAccessibleIssue'](){const _0x2ae772=a54_0x48ced1,_0x3433c7={};_0x3433c7['XyLzv']='.browserstack\x20folder\x20not\x20accessible',_0x3433c7[_0x2ae772(0x198)]=function(_0x10f952,_0x1e1571){return _0x10f952===_0x1e1571;},_0x3433c7[_0x2ae772(0x197)]=_0x2ae772(0x16b);const _0x458578=_0x3433c7,_0x5d7d6a=constants['CLIENT_TROUBLESHOOTING_HASH'][_0x458578['XyLzv']];if(_0x458578['gFtgy'](Object[_0x2ae772(0x1b1)](_0x5d7d6a)[_0x2ae772(0x161)],0x0)){this[_0x2ae772(0x185)](_0x458578['lqTuz'],_0x5d7d6a);return;}this[_0x2ae772(0x177)]['add'](_0x5d7d6a[0x0]),this[_0x2ae772(0x163)](_0x5d7d6a[0x0],_0x5d7d6a[0x1]);}static async['reportConflictingEnvVarIssue'](_0x318121){const _0x4daebe=a54_0x48ced1,_0x273f32={};_0x273f32[_0x4daebe(0x164)]=_0x4daebe(0x16a),_0x273f32[_0x4daebe(0x167)]=function(_0x24ed09,_0x5f1c84){return _0x24ed09===_0x5f1c84;},_0x273f32[_0x4daebe(0x19e)]=_0x4daebe(0x1bb),_0x273f32[_0x4daebe(0x1a8)]=_0x4daebe(0x171);const _0x32a7ec=_0x273f32,_0x578ef0=await this['getErrorDetails'](_0x32a7ec['dXNKa']);if(_0x32a7ec[_0x4daebe(0x167)](Object['keys'](_0x578ef0)['length'],0x0)){this[_0x4daebe(0x185)](_0x32a7ec[_0x4daebe(0x19e)],_0x578ef0);return;}const _0x5313be=_0x578ef0[_0x4daebe(0x178)]['replace'](_0x32a7ec[_0x4daebe(0x1a8)],_0x318121);this[_0x4daebe(0x163)](_0x578ef0[_0x4daebe(0x192)],_0x5313be);}static async[a54_0x48ced1(0x1a3)](){const _0x548798=a54_0x48ced1,_0x4148cd={};_0x4148cd[_0x548798(0x1ba)]=function(_0x4a7624,_0x566bc6){return _0x4a7624>_0x566bc6;},_0x4148cd[_0x548798(0x15b)]=function(_0x107574,_0xbcbb01){return _0x107574>_0xbcbb01;},_0x4148cd[_0x548798(0x196)]=_0x548798(0x176),_0x4148cd[_0x548798(0x1a7)]=_0x548798(0x165);const _0x48e668=_0x4148cd,_0x4f3452=await this[_0x548798(0x1a5)](),_0x5d235f=this[_0x548798(0x1aa)](_0x4f3452),_0x30cd82=Array[_0x548798(0x172)](_0x4f3452[_0x548798(0x160)])?_0x4f3452[_0x548798(0x160)]:[],_0x3bbf76=_0x48e668['KRNij'](this[_0x548798(0x177)][_0x548798(0x186)],0x0)?Array['from'](this[_0x548798(0x177)]):[],_0x48a3ed=new Set([..._0x30cd82,..._0x5d235f,..._0x3bbf76]),_0x3a72ee=Array['from'](_0x48a3ed);if(_0x48e668[_0x548798(0x15b)](_0x3a72ee['length'],0x0)){const _0x2241d4=_0x4f3452[_0x548798(0x1ac)][_0x548798(0x199)](_0x48e668[_0x548798(0x196)],_0x3a72ee['join'](',\x20'))['replace'](_0x48e668[_0x548798(0x1a7)],_0x4f3452[_0x548798(0x1ad)]);logger[_0x548798(0x1b4)](_0x2241d4),this[_0x548798(0x179)]=_0x3a72ee;}}}function a54_0x5655(_0x208dee,_0x360dc3){const _0x9c691a=a54_0x9c69();return a54_0x5655=function(_0x5655b4,_0x38e25c){_0x5655b4=_0x5655b4-0x155;let _0x11802c=_0x9c691a[_0x5655b4];return _0x11802c;},a54_0x5655(_0x208dee,_0x360dc3);}module[a54_0x48ced1(0x158)]=ClientTroubleShootingService;