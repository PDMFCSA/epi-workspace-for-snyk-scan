const a54_0x5c5dbc=a54_0x1177;function a54_0x1177(_0xe385af,_0x3a6d41){const _0x320667=a54_0x3206();return a54_0x1177=function(_0x11776e,_0x5a2918){_0x11776e=_0x11776e-0x1ec;let _0xdf8e1c=_0x320667[_0x11776e];return _0xdf8e1c;},a54_0x1177(_0xe385af,_0x3a6d41);}(function(_0x3b5379,_0xe6197){const _0xcc9619=a54_0x1177,_0x3c3154=_0x3b5379();while(!![]){try{const _0x2d4be0=parseInt(_0xcc9619(0x21b))/0x1+parseInt(_0xcc9619(0x209))/0x2*(parseInt(_0xcc9619(0x233))/0x3)+parseInt(_0xcc9619(0x243))/0x4*(-parseInt(_0xcc9619(0x229))/0x5)+-parseInt(_0xcc9619(0x20f))/0x6*(parseInt(_0xcc9619(0x21c))/0x7)+-parseInt(_0xcc9619(0x20c))/0x8+-parseInt(_0xcc9619(0x218))/0x9*(-parseInt(_0xcc9619(0x237))/0xa)+parseInt(_0xcc9619(0x1fd))/0xb;if(_0x2d4be0===_0xe6197)break;else _0x3c3154['push'](_0x3c3154['shift']());}catch(_0x8fb8a1){_0x3c3154['push'](_0x3c3154['shift']());}}}(a54_0x3206,0x7b0a0));function a54_0x3206(){const _0x22cd3d=['283112JtjBlx','../v2/browserstackCLI','errorCode','Session\x20Linking\x20Issue','reportConnectivityIssue','reportFinalDetectionState','ycJHe','gCGHN','size','SSL\x20Certificate\x20Issue\x20details\x20not\x20found','toString','isArray','Rujsh','{SIGNAL}','../../helpers/logger','gIrJy','stringify','browserstack\x20cloud\x20not\x20reachable','NxUtF','nwvjf','hMiHC','base64','Process\x20Interruption\x20details\x20not\x20found:','nJpdE','warn','errorMessage','Vcitf','Conflicting\x20Env\x20Var\x20details\x20not\x20found','getDocumentationLink','isRunning','gveRn','lsxgu','466103eykeGh','reportDotBrowserStackFolderNotAccessibleIssue','errorCodes','reportConflictingEnvVarIssue','{CLIENT_TROUBLESHOOTING_DOCUMENTATION}','getErrorCodes','dVFXE','SqEWj','finalErrorMessage','parse','reportProcessInterruptionSituation','documentationLink','90742tNUlag','{ERROR_CODES}','.browserstack\x20folder\x20not\x20accessible','7063888UaSfRT','../v2/grpcClient','keys','96270pVnhTt','jPHPL','hRYxn','push','getFinalErrorMessage','TvADW','getErrorCode','YIDdc','logSituation','99spSDod','BPtYC','xucpR','702007NbJisf','35RuieDQ','getInstance','YftGK','reportClientTroubleshootingError','errorCodesOccurredWhenCLINotRunning','getErrorCodesOccurredInCli','nxsHQ','conflicting\x20env\x20var\x20detected','getAggregatedClientTroubleshootingErrors','getAggregatedErrorCodes','XJWMD','ilLPZ','errorCodesOccurredInCLI','55GKpzJx','getErrorDetails','tuDkD','yJFRX','nMBIh','length','cachedErrorCodes','MgCFF','join','[ClientTroubleShootingService]\x20','33tSGpFX','error','from','Process\x20Interruption','911160qqMWXB','getSuccess','logError','vALbS','gxMNK','reportSSLCertIssue','RwUGa','replace','zYrfl','checkForErrorsOccuredInCLI','reportSessionLinkingIssue','winstonLogger'];a54_0x3206=function(){return _0x22cd3d;};return a54_0x3206();}const logger=require(a54_0x5c5dbc(0x251))[a54_0x5c5dbc(0x242)],BrowserstackCLI=require(a54_0x5c5dbc(0x244)),GrpcClient=require(a54_0x5c5dbc(0x20d)),constants=require('./constants');class ClientTroubleShootingService{static [a54_0x5c5dbc(0x22f)]=null;static [a54_0x5c5dbc(0x220)]=new Set();static async[a54_0x5c5dbc(0x22a)](_0x25dd51){const _0x1d8842=a54_0x5c5dbc,_0x1cf7ff={};_0x1cf7ff[_0x1d8842(0x23b)]=function(_0x172b7c,_0x450641){return _0x172b7c!==_0x450641;};const _0x13e812=_0x1cf7ff;try{if(BrowserstackCLI['getInstance']()[_0x1d8842(0x1fa)]()){const _0x1e7105=await GrpcClient[_0x1d8842(0x21d)]()[_0x1d8842(0x21f)](_0x25dd51);if(_0x13e812[_0x1d8842(0x23b)](_0x1e7105,null)&&_0x1e7105[_0x1d8842(0x238)]())return{'errorCode':_0x1e7105[_0x1d8842(0x215)](),'errorMessage':_0x1e7105['getErrorMessage']()};return{};}return{};}catch(_0x12784e){return this[_0x1d8842(0x239)]('Error\x20in\x20getting\x20error\x20details\x20for\x20'+_0x25dd51+':',_0x12784e),{};}}static async['getAggregatedErrorCodes'](){const _0xc4c38d=a54_0x5c5dbc,_0x3ff3b4={};_0x3ff3b4['SqEWj']=function(_0x576905,_0x21bf98){return _0x576905!==_0x21bf98;},_0x3ff3b4[_0xc4c38d(0x22c)]=_0xc4c38d(0x1f2),_0x3ff3b4['tuDkD']='Error\x20in\x20getting\x20aggregated\x20error\x20codes:';const _0x39019d=_0x3ff3b4;try{if(BrowserstackCLI[_0xc4c38d(0x21d)]()['isRunning']()){const _0x4901f0=await GrpcClient[_0xc4c38d(0x21d)]()[_0xc4c38d(0x224)]();if(_0x39019d[_0xc4c38d(0x204)](_0x4901f0,null)&&_0x4901f0[_0xc4c38d(0x238)]()){const _0x2bc8ea=Buffer[_0xc4c38d(0x235)](_0x4901f0[_0xc4c38d(0x202)](),_0x39019d[_0xc4c38d(0x22c)])[_0xc4c38d(0x24d)](),_0xfacf0e=_0x2bc8ea?JSON[_0xc4c38d(0x206)](_0x2bc8ea):[],_0x1d5107=_0x4901f0[_0xc4c38d(0x1f9)](),_0x519a51=_0x4901f0[_0xc4c38d(0x213)](),_0x5b9356=Buffer[_0xc4c38d(0x235)](_0x4901f0[_0xc4c38d(0x221)](),_0x39019d[_0xc4c38d(0x22c)])[_0xc4c38d(0x24d)](),_0x5ddaf0=_0x5b9356?JSON[_0xc4c38d(0x206)](_0x5b9356):[],_0x9595af={};return _0x9595af[_0xc4c38d(0x1ff)]=_0xfacf0e,_0x9595af[_0xc4c38d(0x208)]=_0x1d5107,_0x9595af[_0xc4c38d(0x205)]=_0x519a51,_0x9595af[_0xc4c38d(0x228)]=_0x5ddaf0,_0x9595af;}const _0x192a26={};return _0x192a26['errorCodes']=[],_0x192a26[_0xc4c38d(0x208)]='',_0x192a26[_0xc4c38d(0x205)]='',_0x192a26[_0xc4c38d(0x228)]=[],_0x192a26;}const _0x4f7016={};return _0x4f7016[_0xc4c38d(0x1ff)]=[],_0x4f7016[_0xc4c38d(0x208)]='',_0x4f7016[_0xc4c38d(0x205)]='',_0x4f7016[_0xc4c38d(0x228)]=[],_0x4f7016;}catch(_0x2261b1){this[_0xc4c38d(0x239)](_0x39019d[_0xc4c38d(0x22b)],_0x2261b1);const _0x57723a={};return _0x57723a['errorCodes']=[],_0x57723a[_0xc4c38d(0x208)]='',_0x57723a[_0xc4c38d(0x205)]='',_0x57723a['errorCodesOccurredInCLI']=[],_0x57723a;}}static['logSituation'](_0x3807e,_0x4dce8c){const _0x2104ae=a54_0x5c5dbc;logger[_0x2104ae(0x1f5)](_0x3807e+':\x20'+_0x4dce8c);}static['checkForErrorsOccuredInCLI'](_0x145e90){const _0x3c9720=a54_0x5c5dbc,_0x188b9e={};_0x188b9e[_0x3c9720(0x214)]=function(_0x44bb8c,_0x3645a6){return _0x44bb8c!=_0x3645a6;},_0x188b9e[_0x3c9720(0x24f)]=function(_0x55c76b,_0x2900aa){return _0x55c76b>_0x2900aa;},_0x188b9e['gveRn']=function(_0x56eb05,_0x3d4131){return _0x56eb05!=_0x3d4131;};const _0x21c774=_0x188b9e,_0x2eb756=[];if(_0x21c774[_0x3c9720(0x214)](_0x145e90,null)&&_0x21c774[_0x3c9720(0x214)](_0x145e90['errorCodesOccurredInCLI'],null)&&_0x21c774[_0x3c9720(0x24f)](_0x145e90[_0x3c9720(0x228)][_0x3c9720(0x22e)],0x0))for(const _0x330ae8 of _0x145e90[_0x3c9720(0x228)]){_0x21c774[_0x3c9720(0x1fb)](_0x330ae8[_0x3c9720(0x245)],null)&&_0x21c774[_0x3c9720(0x214)](_0x330ae8[_0x3c9720(0x1f6)],null)&&(_0x2eb756[_0x3c9720(0x212)](_0x330ae8['errorCode']),this[_0x3c9720(0x217)](_0x330ae8['errorCode'],_0x330ae8['errorMessage']));}return _0x2eb756;}static['getCachedErrorCodes'](){const _0x28b63f=a54_0x5c5dbc;return this[_0x28b63f(0x22f)];}static[a54_0x5c5dbc(0x239)](_0x57078f,_0x5a8d7d){const _0x3b3ba5=a54_0x5c5dbc,_0x311403={};_0x311403[_0x3b3ba5(0x1f0)]=function(_0x3fce96,_0x361423){return _0x3fce96===_0x361423;},_0x311403['hRYxn']='object';const _0x14b0f7=_0x311403;if(_0x14b0f7[_0x3b3ba5(0x1f0)](typeof _0x5a8d7d,_0x14b0f7[_0x3b3ba5(0x211)]))try{logger[_0x3b3ba5(0x234)](_0x3b3ba5(0x232)+_0x57078f+'\x20'+JSON[_0x3b3ba5(0x1ed)](_0x5a8d7d));}catch(_0x640ae0){logger[_0x3b3ba5(0x234)](_0x3b3ba5(0x232)+_0x57078f+'\x20'+_0x5a8d7d);}else logger['error'](_0x3b3ba5(0x232)+_0x57078f+'\x20'+_0x5a8d7d);}static async[a54_0x5c5dbc(0x207)](_0xfacca2){const _0x2a8a8e=a54_0x5c5dbc,_0x1b73b8={};_0x1b73b8['YftGK']=_0x2a8a8e(0x236),_0x1b73b8[_0x2a8a8e(0x1f4)]=function(_0x28c6fb,_0x44fb31){return _0x28c6fb===_0x44fb31;},_0x1b73b8[_0x2a8a8e(0x226)]=_0x2a8a8e(0x1f3),_0x1b73b8[_0x2a8a8e(0x249)]=_0x2a8a8e(0x250);const _0x3b4ec9=_0x1b73b8,_0x175adc=await this['getErrorDetails'](_0x3b4ec9[_0x2a8a8e(0x21e)]);if(_0x3b4ec9[_0x2a8a8e(0x1f4)](Object['keys'](_0x175adc)[_0x2a8a8e(0x22e)],0x0)){this[_0x2a8a8e(0x239)](_0x3b4ec9[_0x2a8a8e(0x226)],_0x175adc);return;}this['logSituation'](_0x175adc[_0x2a8a8e(0x245)],_0x175adc[_0x2a8a8e(0x1f6)][_0x2a8a8e(0x23e)](_0x3b4ec9['ycJHe'],_0xfacca2));}static async[a54_0x5c5dbc(0x241)](){const _0x33086b=a54_0x5c5dbc,_0x24fd4c={};_0x24fd4c[_0x33086b(0x219)]=_0x33086b(0x246),_0x24fd4c['gIrJy']=function(_0xef8ad8,_0x43c871){return _0xef8ad8===_0x43c871;},_0x24fd4c[_0x33086b(0x23a)]='Session\x20Linking\x20Issue\x20details\x20not\x20found';const _0x16da10=_0x24fd4c,_0x2b42d6=await this[_0x33086b(0x22a)](_0x16da10[_0x33086b(0x219)]);if(_0x16da10[_0x33086b(0x1ec)](Object[_0x33086b(0x20e)](_0x2b42d6)[_0x33086b(0x22e)],0x0)){this[_0x33086b(0x239)](_0x16da10[_0x33086b(0x23a)],_0x2b42d6);return;}this[_0x33086b(0x217)](_0x2b42d6[_0x33086b(0x245)],_0x2b42d6['errorMessage']);}static async[a54_0x5c5dbc(0x247)](){const _0x1a9e3f=a54_0x5c5dbc,_0x13d57d={};_0x13d57d['ilLPZ']=_0x1a9e3f(0x1ee),_0x13d57d['bkQPF']=function(_0x2b22a0,_0x38e1a7){return _0x2b22a0===_0x38e1a7;},_0x13d57d[_0x1a9e3f(0x24a)]='Connectivity\x20Issue\x20details\x20not\x20found';const _0x704496=_0x13d57d,_0xdea49b=await this[_0x1a9e3f(0x22a)](_0x704496[_0x1a9e3f(0x227)]);if(_0x704496['bkQPF'](Object[_0x1a9e3f(0x20e)](_0xdea49b)[_0x1a9e3f(0x22e)],0x0)){this[_0x1a9e3f(0x239)](_0x704496[_0x1a9e3f(0x24a)],_0xdea49b);return;}this[_0x1a9e3f(0x217)](_0xdea49b[_0x1a9e3f(0x245)],_0xdea49b[_0x1a9e3f(0x1f6)]);}static async[a54_0x5c5dbc(0x23c)](){const _0x257895=a54_0x5c5dbc,_0x15a308={};_0x15a308['nxsHQ']='ssl\x20cert\x20issue',_0x15a308[_0x257895(0x216)]=function(_0x54f123,_0x585b57){return _0x54f123===_0x585b57;},_0x15a308[_0x257895(0x1ef)]=_0x257895(0x24c);const _0x316c64=_0x15a308,_0x5dec8e=await this['getErrorDetails'](_0x316c64[_0x257895(0x222)]);if(_0x316c64['YIDdc'](Object['keys'](_0x5dec8e)[_0x257895(0x22e)],0x0)){this[_0x257895(0x239)](_0x316c64[_0x257895(0x1ef)],_0x5dec8e);return;}this[_0x257895(0x217)](_0x5dec8e[_0x257895(0x245)],_0x5dec8e[_0x257895(0x1f6)]);}static[a54_0x5c5dbc(0x1fe)](){const _0x77397=a54_0x5c5dbc,_0x2cab68={};_0x2cab68[_0x77397(0x23f)]=_0x77397(0x20b),_0x2cab68[_0x77397(0x22d)]=function(_0x5cdb4f,_0x535dd9){return _0x5cdb4f===_0x535dd9;},_0x2cab68['xucpR']='.browserstack\x20Folder\x20Not\x20Accessible\x20details\x20not\x20found';const _0x391461=_0x2cab68,_0x166752=constants['CLIENT_TROUBLESHOOTING_HASH'][_0x391461[_0x77397(0x23f)]];if(_0x391461['nMBIh'](Object[_0x77397(0x20e)](_0x166752)[_0x77397(0x22e)],0x0)){this[_0x77397(0x239)](_0x391461[_0x77397(0x21a)],_0x166752);return;}this['errorCodesOccurredWhenCLINotRunning']['add'](_0x166752[0x0]),this[_0x77397(0x217)](_0x166752[0x0],_0x166752[0x1]);}static async[a54_0x5c5dbc(0x200)](_0x24942e){const _0xc1a52d=a54_0x5c5dbc,_0x1e4452={};_0x1e4452[_0xc1a52d(0x210)]=_0xc1a52d(0x223),_0x1e4452['dVFXE']=function(_0x251475,_0x9fd2b3){return _0x251475===_0x9fd2b3;},_0x1e4452['RwUGa']=_0xc1a52d(0x1f8),_0x1e4452[_0xc1a52d(0x1f1)]='{ENV_VAR}';const _0x3910eb=_0x1e4452,_0x5e61a9=await this[_0xc1a52d(0x22a)](_0x3910eb[_0xc1a52d(0x210)]);if(_0x3910eb[_0xc1a52d(0x203)](Object[_0xc1a52d(0x20e)](_0x5e61a9)[_0xc1a52d(0x22e)],0x0)){this[_0xc1a52d(0x239)](_0x3910eb[_0xc1a52d(0x23d)],_0x5e61a9);return;}const _0x15b745=_0x5e61a9[_0xc1a52d(0x1f6)]['replace'](_0x3910eb[_0xc1a52d(0x1f1)],_0x24942e);this[_0xc1a52d(0x217)](_0x5e61a9[_0xc1a52d(0x245)],_0x15b745);}static async[a54_0x5c5dbc(0x248)](){const _0x138233=a54_0x5c5dbc,_0x70fc1b={};_0x70fc1b[_0x138233(0x230)]=function(_0x1c8a2e,_0x278923){return _0x1c8a2e>_0x278923;},_0x70fc1b[_0x138233(0x1fc)]=function(_0x275031,_0x31bac1){return _0x275031>_0x31bac1;},_0x70fc1b['YynDK']=_0x138233(0x20a),_0x70fc1b[_0x138233(0x1f7)]=_0x138233(0x201);const _0x55561b=_0x70fc1b,_0x4036e3=await this[_0x138233(0x225)](),_0xb41256=this[_0x138233(0x240)](_0x4036e3),_0x3f4077=Array[_0x138233(0x24e)](_0x4036e3['errorCodes'])?_0x4036e3[_0x138233(0x1ff)]:[],_0x30973b=_0x55561b['MgCFF'](this[_0x138233(0x220)][_0x138233(0x24b)],0x0)?Array[_0x138233(0x235)](this['errorCodesOccurredWhenCLINotRunning']):[],_0x2f0405=new Set([..._0x3f4077,..._0xb41256,..._0x30973b]),_0x25ee50=Array['from'](_0x2f0405);if(_0x55561b['lsxgu'](_0x25ee50[_0x138233(0x22e)],0x0)){const _0x5891b7=_0x4036e3[_0x138233(0x205)]['replace'](_0x55561b['YynDK'],_0x25ee50[_0x138233(0x231)](',\x20'))['replace'](_0x55561b[_0x138233(0x1f7)],_0x4036e3[_0x138233(0x208)]);logger[_0x138233(0x1f5)](_0x5891b7),this[_0x138233(0x22f)]=_0x25ee50;}}}module['exports']=ClientTroubleShootingService;