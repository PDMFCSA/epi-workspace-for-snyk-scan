const a54_0x190117=a54_0x2c71;(function(_0x317ea5,_0x4e88cf){const _0x2425b2=a54_0x2c71,_0x3dfdee=_0x317ea5();while(!![]){try{const _0x50fdd2=parseInt(_0x2425b2(0x180))/0x1*(parseInt(_0x2425b2(0x1ab))/0x2)+-parseInt(_0x2425b2(0x1c8))/0x3+parseInt(_0x2425b2(0x1b0))/0x4*(-parseInt(_0x2425b2(0x175))/0x5)+parseInt(_0x2425b2(0x1a5))/0x6+-parseInt(_0x2425b2(0x1c6))/0x7*(-parseInt(_0x2425b2(0x17d))/0x8)+-parseInt(_0x2425b2(0x197))/0x9*(parseInt(_0x2425b2(0x16c))/0xa)+parseInt(_0x2425b2(0x19f))/0xb*(parseInt(_0x2425b2(0x1aa))/0xc);if(_0x50fdd2===_0x4e88cf)break;else _0x3dfdee['push'](_0x3dfdee['shift']());}catch(_0x5a3537){_0x3dfdee['push'](_0x3dfdee['shift']());}}}(a54_0x12dd,0x76427));const logger=require(a54_0x190117(0x1b3))['winstonLogger'],BrowserstackCLI=require('../v2/browserstackCLI'),GrpcClient=require(a54_0x190117(0x1a0)),constants=require(a54_0x190117(0x1b8));function a54_0x12dd(){const _0x5b7679=['reportClientTroubleshootingError','xAIoh','Process\x20Interruption\x20details\x20not\x20found:','base64','parse','errorCodesOccurredWhenCLINotRunning','Error\x20in\x20getting\x20error\x20details\x20for\x20','9611173hTFRpz','../v2/grpcClient','jSJFS','join','[ClientTroubleShootingService]\x20','oStlx','2085840IFIFfF','getErrorCodesOccurredInCli','.browserstack\x20folder\x20not\x20accessible','reportConnectivityIssue','size','12FwByPH','208592xlyBBh','JtUmK','VyyYS','CLIENT_TROUBLESHOOTING_HASH','getCachedErrorCodes','20KYDFaJ','documentationLink','finalErrorMessage','../../helpers/logger','tetkY','reportFinalDetectionState','logSituation','errorMessage','./constants','conflicting\x20env\x20var\x20detected','PEnUP','TqjTv','warn','ZoRdP','Process\x20Interruption','logError','lSqkm','push','errorCode','getInstance','reportSessionLinkingIssue','tRccy','88851BwJSte','reportSSLCertIssue','1447884ofBnCo','DUjNS','Error\x20in\x20getting\x20aggregated\x20error\x20codes:','zJoiz','dluiu','getAggregatedClientTroubleshootingErrors','checkForErrorsOccuredInCLI','stringify','ssl\x20cert\x20issue','error','kXMgL','reportConflictingEnvVarIssue','YPgUB','toString','3570200eFfKmC','{CLIENT_TROUBLESHOOTING_DOCUMENTATION}','TcXVw','SSL\x20Certificate\x20Issue\x20details\x20not\x20found','OFWOK','errorCodes','kOjsl','cachedErrorCodes','HXSGK','529760xsgvpZ','Connectivity\x20Issue\x20details\x20not\x20found','keys','hmgln','{ERROR_CODES}','getSuccess','sZaXd','cuftd','32MiWAtA','getAggregatedErrorCodes','TvfRY','9JMJQXF','dEevQ','isRunning','iNBZm','xZuyR','{ENV_VAR}','replace','length','vGauh','getErrorMessage','browserstack\x20cloud\x20not\x20reachable','getDocumentationLink','JFAJz','errorCodesOccurredInCLI','JYUZA','AxwGb','sjSFF','getErrorDetails','RbJHW','Conflicting\x20Env\x20Var\x20details\x20not\x20found','getFinalErrorMessage','ZMlUJ','from','18BjJKkm'];a54_0x12dd=function(){return _0x5b7679;};return a54_0x12dd();}class ClientTroubleShootingService{static [a54_0x190117(0x173)]=null;static [a54_0x190117(0x19d)]=new Set();static async[a54_0x190117(0x191)](_0x1e893e){const _0x20b853=a54_0x190117,_0x4e7402={};_0x4e7402[_0x20b853(0x18f)]=function(_0x387490,_0xe637d8){return _0x387490!==_0xe637d8;};const _0x436756=_0x4e7402;try{if(BrowserstackCLI[_0x20b853(0x1c3)]()['isRunning']()){const _0x2404e3=await GrpcClient['getInstance']()[_0x20b853(0x198)](_0x1e893e);if(_0x436756[_0x20b853(0x18f)](_0x2404e3,null)&&_0x2404e3[_0x20b853(0x17a)]())return{'errorCode':_0x2404e3['getErrorCode'](),'errorMessage':_0x2404e3[_0x20b853(0x189)]()};return{};}}catch(_0x36e887){return this[_0x20b853(0x1bf)](_0x20b853(0x19e)+_0x1e893e+':',_0x36e887),{};}}static async['getAggregatedErrorCodes'](){const _0x2e776d=a54_0x190117,_0x14c722={};_0x14c722['dluiu']=function(_0x578db2,_0x45244e){return _0x578db2!==_0x45244e;},_0x14c722[_0x2e776d(0x195)]=_0x2e776d(0x19b),_0x14c722[_0x2e776d(0x184)]=_0x2e776d(0x1ca);const _0x22149a=_0x14c722;try{if(BrowserstackCLI['getInstance']()[_0x2e776d(0x182)]()){const _0x5e5ae4=await GrpcClient[_0x2e776d(0x1c3)]()[_0x2e776d(0x1cd)]();if(_0x22149a[_0x2e776d(0x1cc)](_0x5e5ae4,null)&&_0x5e5ae4[_0x2e776d(0x17a)]()){const _0x554532=Buffer['from'](_0x5e5ae4['getErrorCodes'](),_0x22149a[_0x2e776d(0x195)])['toString'](),_0x329fd2=_0x554532?JSON[_0x2e776d(0x19c)](_0x554532):[],_0x1ae76d=_0x5e5ae4[_0x2e776d(0x18b)](),_0x537d7f=_0x5e5ae4[_0x2e776d(0x194)](),_0x550a7e=Buffer[_0x2e776d(0x196)](_0x5e5ae4[_0x2e776d(0x1a6)](),_0x22149a[_0x2e776d(0x195)])[_0x2e776d(0x16b)](),_0x103b19=_0x550a7e?JSON[_0x2e776d(0x19c)](_0x550a7e):[],_0x101c1b={};return _0x101c1b[_0x2e776d(0x171)]=_0x329fd2,_0x101c1b[_0x2e776d(0x1b1)]=_0x1ae76d,_0x101c1b[_0x2e776d(0x1b2)]=_0x537d7f,_0x101c1b[_0x2e776d(0x18d)]=_0x103b19,_0x101c1b;}const _0x5b0222={};return _0x5b0222[_0x2e776d(0x171)]=[],_0x5b0222[_0x2e776d(0x1b1)]='',_0x5b0222[_0x2e776d(0x1b2)]='',_0x5b0222[_0x2e776d(0x18d)]=[],_0x5b0222;}const _0x2c0624={};return _0x2c0624['errorCodes']=[],_0x2c0624['documentationLink']='',_0x2c0624[_0x2e776d(0x1b2)]='',_0x2c0624[_0x2e776d(0x18d)]=[],_0x2c0624;}catch(_0x142d4d){this[_0x2e776d(0x1bf)](_0x22149a[_0x2e776d(0x184)],_0x142d4d);const _0x2f65bd={};return _0x2f65bd['errorCodes']=[],_0x2f65bd['documentationLink']='',_0x2f65bd[_0x2e776d(0x1b2)]='',_0x2f65bd[_0x2e776d(0x18d)]=[],_0x2f65bd;}}static[a54_0x190117(0x1b6)](_0x4da195,_0x17f368){const _0x32c1f8=a54_0x190117;logger[_0x32c1f8(0x1bc)](_0x4da195+':\x20'+_0x17f368);}static[a54_0x190117(0x1ce)](_0x40b06f){const _0x3e6886=a54_0x190117,_0x873660={};_0x873660[_0x3e6886(0x1c9)]=function(_0x2ce8fa,_0x1af475){return _0x2ce8fa!=_0x1af475;},_0x873660[_0x3e6886(0x1ac)]=function(_0x2debb0,_0x2fc1ff){return _0x2debb0!=_0x2fc1ff;},_0x873660['TvfRY']=function(_0x495b49,_0x37658e){return _0x495b49>_0x37658e;},_0x873660['TqjTv']=function(_0x210d38,_0x57db49){return _0x210d38!=_0x57db49;};const _0x3a0748=_0x873660,_0xa544c4=[];if(_0x3a0748[_0x3e6886(0x1c9)](_0x40b06f,null)&&_0x3a0748[_0x3e6886(0x1ac)](_0x40b06f[_0x3e6886(0x18d)],null)&&_0x3a0748[_0x3e6886(0x17f)](_0x40b06f[_0x3e6886(0x18d)]['length'],0x0))for(const _0x5439ff of _0x40b06f[_0x3e6886(0x18d)]){_0x3a0748[_0x3e6886(0x1c9)](_0x5439ff['errorCode'],null)&&_0x3a0748[_0x3e6886(0x1bb)](_0x5439ff[_0x3e6886(0x1b7)],null)&&(_0xa544c4[_0x3e6886(0x1c1)](_0x5439ff[_0x3e6886(0x1c2)]),this[_0x3e6886(0x1b6)](_0x5439ff[_0x3e6886(0x1c2)],_0x5439ff['errorMessage']));}return _0xa544c4;}static[a54_0x190117(0x1af)](){return this['cachedErrorCodes'];}static[a54_0x190117(0x1bf)](_0x2effb1,_0x139dd7){const _0x4d3b97=a54_0x190117,_0x3823c4={};_0x3823c4[_0x4d3b97(0x188)]=function(_0x1ede2e,_0x4ffc41){return _0x1ede2e===_0x4ffc41;},_0x3823c4[_0x4d3b97(0x16a)]='object';const _0x137a14=_0x3823c4;if(_0x137a14[_0x4d3b97(0x188)](typeof _0x139dd7,_0x137a14[_0x4d3b97(0x16a)]))try{logger['error']('[ClientTroubleShootingService]\x20'+_0x2effb1+'\x20'+JSON[_0x4d3b97(0x1cf)](_0x139dd7));}catch(_0x209c8d){logger[_0x4d3b97(0x1d1)](_0x4d3b97(0x1a3)+_0x2effb1+'\x20'+_0x139dd7);}else logger[_0x4d3b97(0x1d1)](_0x4d3b97(0x1a3)+_0x2effb1+'\x20'+_0x139dd7);}static async['reportProcessInterruptionSituation'](_0x339ac2){const _0x413c42=a54_0x190117,_0x4dede3={};_0x4dede3[_0x413c42(0x18e)]=_0x413c42(0x1be),_0x4dede3[_0x413c42(0x18c)]=function(_0x47af3c,_0x85485b){return _0x47af3c===_0x85485b;},_0x4dede3[_0x413c42(0x1bd)]=_0x413c42(0x19a),_0x4dede3['oStlx']='{SIGNAL}';const _0xba238=_0x4dede3,_0x516759=await this[_0x413c42(0x191)](_0xba238['JYUZA']);if(_0xba238['JFAJz'](Object[_0x413c42(0x177)](_0x516759)[_0x413c42(0x187)],0x0)){this[_0x413c42(0x1bf)](_0xba238[_0x413c42(0x1bd)],_0x516759);return;}this[_0x413c42(0x1b6)](_0x516759['errorCode'],_0x516759[_0x413c42(0x1b7)][_0x413c42(0x186)](_0xba238[_0x413c42(0x1a4)],_0x339ac2));}static async[a54_0x190117(0x1c4)](){const _0x377752=a54_0x190117,_0x33e6d0={};_0x33e6d0['VyyYS']='Session\x20Linking\x20Issue',_0x33e6d0[_0x377752(0x181)]=function(_0x4a565e,_0x291f09){return _0x4a565e===_0x291f09;},_0x33e6d0[_0x377752(0x190)]='Session\x20Linking\x20Issue\x20details\x20not\x20found';const _0x3257c1=_0x33e6d0,_0x276722=await this[_0x377752(0x191)](_0x3257c1[_0x377752(0x1ad)]);if(_0x3257c1[_0x377752(0x181)](Object[_0x377752(0x177)](_0x276722)[_0x377752(0x187)],0x0)){this[_0x377752(0x1bf)](_0x3257c1[_0x377752(0x190)],_0x276722);return;}this['logSituation'](_0x276722[_0x377752(0x1c2)],_0x276722['errorMessage']);}static async[a54_0x190117(0x1a8)](){const _0x55b672=a54_0x190117,_0x17212b={};_0x17212b[_0x55b672(0x183)]=_0x55b672(0x18a),_0x17212b[_0x55b672(0x192)]=function(_0x43371f,_0x125632){return _0x43371f===_0x125632;},_0x17212b[_0x55b672(0x178)]=_0x55b672(0x176);const _0x5b5838=_0x17212b,_0x489480=await this['getErrorDetails'](_0x5b5838[_0x55b672(0x183)]);if(_0x5b5838[_0x55b672(0x192)](Object[_0x55b672(0x177)](_0x489480)[_0x55b672(0x187)],0x0)){this[_0x55b672(0x1bf)](_0x5b5838[_0x55b672(0x178)],_0x489480);return;}this['logSituation'](_0x489480[_0x55b672(0x1c2)],_0x489480[_0x55b672(0x1b7)]);}static async[a54_0x190117(0x1c7)](){const _0x52c716=a54_0x190117,_0x27fefa={};_0x27fefa[_0x52c716(0x168)]=_0x52c716(0x1d0),_0x27fefa[_0x52c716(0x1cb)]=function(_0x4ab963,_0x319255){return _0x4ab963===_0x319255;},_0x27fefa[_0x52c716(0x16e)]=_0x52c716(0x16f);const _0x2f59af=_0x27fefa,_0x4b361f=await this[_0x52c716(0x191)](_0x2f59af[_0x52c716(0x168)]);if(_0x2f59af['zJoiz'](Object[_0x52c716(0x177)](_0x4b361f)[_0x52c716(0x187)],0x0)){this['logError'](_0x2f59af[_0x52c716(0x16e)],_0x4b361f);return;}this[_0x52c716(0x1b6)](_0x4b361f[_0x52c716(0x1c2)],_0x4b361f[_0x52c716(0x1b7)]);}static['reportDotBrowserStackFolderNotAccessibleIssue'](){const _0x420b08=a54_0x190117,_0x2a3dc9={};_0x2a3dc9[_0x420b08(0x17b)]=_0x420b08(0x1a7),_0x2a3dc9[_0x420b08(0x170)]=function(_0x6af6b1,_0x3a4c82){return _0x6af6b1===_0x3a4c82;},_0x2a3dc9[_0x420b08(0x17c)]='.browserstack\x20Folder\x20Not\x20Accessible\x20details\x20not\x20found';const _0x8666d7=_0x2a3dc9,_0x374f2b=constants[_0x420b08(0x1ae)][_0x8666d7[_0x420b08(0x17b)]];if(_0x8666d7[_0x420b08(0x170)](Object[_0x420b08(0x177)](_0x374f2b)[_0x420b08(0x187)],0x0)){this[_0x420b08(0x1bf)](_0x8666d7[_0x420b08(0x17c)],_0x374f2b);return;}this[_0x420b08(0x19d)]['add'](_0x374f2b[0x0]),this[_0x420b08(0x1b6)](_0x374f2b[0x0],_0x374f2b[0x1]);}static async[a54_0x190117(0x169)](_0x14ea3a){const _0x1f5580=a54_0x190117,_0x1607b2={};_0x1607b2['tetkY']=_0x1f5580(0x1b9),_0x1607b2[_0x1f5580(0x1a1)]=function(_0x5e9d63,_0x7a221a){return _0x5e9d63===_0x7a221a;},_0x1607b2[_0x1f5580(0x199)]=_0x1f5580(0x193),_0x1607b2[_0x1f5580(0x1c0)]=_0x1f5580(0x185);const _0x5ae3ce=_0x1607b2,_0x498882=await this['getErrorDetails'](_0x5ae3ce[_0x1f5580(0x1b4)]);if(_0x5ae3ce[_0x1f5580(0x1a1)](Object[_0x1f5580(0x177)](_0x498882)['length'],0x0)){this[_0x1f5580(0x1bf)](_0x5ae3ce['xAIoh'],_0x498882);return;}const _0x2f11c6=_0x498882['errorMessage']['replace'](_0x5ae3ce[_0x1f5580(0x1c0)],_0x14ea3a);this[_0x1f5580(0x1b6)](_0x498882[_0x1f5580(0x1c2)],_0x2f11c6);}static async[a54_0x190117(0x1b5)](){const _0x52e235=a54_0x190117,_0x3c3226={};_0x3c3226['kOjsl']=function(_0xaf5df3,_0x565627){return _0xaf5df3>_0x565627;},_0x3c3226[_0x52e235(0x1ba)]=function(_0x5794e5,_0xba1265){return _0x5794e5>_0xba1265;},_0x3c3226[_0x52e235(0x174)]=_0x52e235(0x179),_0x3c3226[_0x52e235(0x1c5)]=_0x52e235(0x16d);const _0x4ba1a3=_0x3c3226,_0x366054=await this[_0x52e235(0x17e)](),_0x31ac7c=this[_0x52e235(0x1ce)](_0x366054),_0x239c33=Array['isArray'](_0x366054['errorCodes'])?_0x366054['errorCodes']:[],_0x4d41fe=_0x4ba1a3[_0x52e235(0x172)](this[_0x52e235(0x19d)][_0x52e235(0x1a9)],0x0)?Array['from'](this[_0x52e235(0x19d)]):[],_0x4a86e2=new Set([..._0x239c33,..._0x31ac7c,..._0x4d41fe]),_0x41771c=Array[_0x52e235(0x196)](_0x4a86e2);if(_0x4ba1a3[_0x52e235(0x1ba)](_0x41771c[_0x52e235(0x187)],0x0)){const _0xe14787=_0x366054['finalErrorMessage']['replace'](_0x4ba1a3[_0x52e235(0x174)],_0x41771c[_0x52e235(0x1a2)](',\x20'))[_0x52e235(0x186)](_0x4ba1a3[_0x52e235(0x1c5)],_0x366054['documentationLink']);logger[_0x52e235(0x1bc)](_0xe14787),this[_0x52e235(0x173)]=_0x41771c;}}}function a54_0x2c71(_0x1de7b8,_0x4b0fc8){const _0x12ddc8=a54_0x12dd();return a54_0x2c71=function(_0x2c718b,_0x5d37af){_0x2c718b=_0x2c718b-0x168;let _0x2c2a34=_0x12ddc8[_0x2c718b];return _0x2c2a34;},a54_0x2c71(_0x1de7b8,_0x4b0fc8);}module['exports']=ClientTroubleShootingService;