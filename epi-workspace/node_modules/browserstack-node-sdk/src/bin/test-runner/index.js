const a46_0x4ed904=a46_0x18ec;(function(_0x167615,_0x48def5){const _0x20a406=a46_0x18ec,_0x1e6fe6=_0x167615();while(!![]){try{const _0x27359a=parseInt(_0x20a406(0x221))/0x1*(parseInt(_0x20a406(0x23c))/0x2)+-parseInt(_0x20a406(0x212))/0x3*(parseInt(_0x20a406(0x23f))/0x4)+-parseInt(_0x20a406(0x240))/0x5+parseInt(_0x20a406(0x1f4))/0x6+-parseInt(_0x20a406(0x206))/0x7+parseInt(_0x20a406(0x1ef))/0x8*(-parseInt(_0x20a406(0x249))/0x9)+parseInt(_0x20a406(0x22c))/0xa;if(_0x27359a===_0x48def5)break;else _0x1e6fe6['push'](_0x1e6fe6['shift']());}catch(_0x4fa6dc){_0x1e6fe6['push'](_0x1e6fe6['shift']());}}}(a46_0x3147,0x528ec));function a46_0x18ec(_0x489fa9,_0x1b1d9d){const _0x31479=a46_0x3147();return a46_0x18ec=function(_0x18ece3,_0x5e7be0){_0x18ece3=_0x18ece3-0x1ee;let _0x4b26b6=_0x31479[_0x18ece3];return _0x4b26b6;},a46_0x18ec(_0x489fa9,_0x1b1d9d);}function a46_0x3147(){const _0x4458f3=['3459960cmKZzN','../../helpers/performance/performance-tester','cucumberWorker','cmNiy','parallelTestRun','Cfhga','map','sHnqd','Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20','info','hIpkY','yToBU','parallelCucumberRun','format','stop','debug','399668BWcMPP','pipe','../../helpers/test-observability/constants','4aWXQYY','942295EEbCpE','getStderr','HKGwk','vanillaWorker','EVENTS','HWdOU','KZOHc','then','dzWar','464859KFyEXf','Worker','aQGvh','jest-worker','\x20for','tTugR','../../helpers/testhub/testhubHandler','ggVmx','worker','config','SDK_SETUP','lyFrY','configuration','exit','16XRtMfb','push','stdout','exitCode','end','1787964mFMzop','bXtaj','resolve','VYKxG','SOLLV','getStdout','error','_child','getWorkers','test-file-failure','platform','nZDbQ','test-file-success','platforms','failureCount','stderr','UjgFy','../../helpers/test-observability/utils','106442kYHqXC','../../helpers/logger','LUvdd','ysHVl','parallelVanillaRun','dqLDH','test-file-start','length','./testWorker.js','zqquW','send','GQNgx','1195605lGfNNe','platform-run-failure','hnFhC','kYjSj','postMessage','ZYYdP','all','platform-run-success','Exception\x20in\x20sending\x20worker\x20message\x20','Workers\x20failed\x20to\x20exit\x20gracefully','p-limit','platformCaps','YfjDp','../../helpers/performance/constants','emit','2BrVAfQ','util','mqTye','log','MOCHA','results','HAeeH','emittery','Uehjh','_workerPool','json'];a46_0x3147=function(){return _0x4458f3;};return a46_0x3147();}const Worker=require(a46_0x4ed904(0x24c))[a46_0x4ed904(0x24a)],Emittery=require(a46_0x4ed904(0x228)),pLimit=require(a46_0x4ed904(0x21c)),{parentPort}=require('worker_threads'),util=require(a46_0x4ed904(0x222)),logger=require(a46_0x4ed904(0x207))['winstonLogger'],PerformanceTester=require(a46_0x4ed904(0x22d)),PerformanceEvents=require(a46_0x4ed904(0x21f))[a46_0x4ed904(0x244)],{debug}=require(a46_0x4ed904(0x205)),TestHubHandler=require(a46_0x4ed904(0x24f)),{FRAMEWORKS}=require(a46_0x4ed904(0x23e));exports[a46_0x4ed904(0x230)]=(_0x1f2b8b,_0x488d33,_0x42af4d)=>new Promise(async _0x5a5285=>{const _0x38dc5f=a46_0x4ed904,_0x962513={'hIpkY':_0x38dc5f(0x202),'ZYYdP':function(_0x325f7d,_0x3aafa8){return _0x325f7d+_0x3aafa8;},'lyFrY':_0x38dc5f(0x226),'Cfhga':_0x38dc5f(0x21b),'FJFcl':function(_0x5558ad,_0x4f4aac){return _0x5558ad(_0x4f4aac);},'wtDOv':function(_0xadb2b1,_0xc773bf){return _0xadb2b1(_0xc773bf);},'HKGwk':_0x38dc5f(0x20c),'HAeeH':_0x38dc5f(0x20e),'sCwXT':'worker','cmNiy':_0x38dc5f(0x22b),'bXtaj':'pipe','KZOHc':function(_0x4009a0,_0x1e92e0){return _0x4009a0*_0x1e92e0;},'NpMxZ':_0x38dc5f(0x200),'GQNgx':_0x38dc5f(0x1fd),'tTugR':function(_0x247575,_0x2211b9){return _0x247575(_0x2211b9);}},_0x1717bc=_0x42af4d[_0x38dc5f(0x252)],_0x2f7b1b={},_0x37d2f3=await TestHubHandler['launchBuild'](FRAMEWORKS[_0x38dc5f(0x225)],_0x42af4d),_0x392ac6=new Worker(require['resolve'](_0x962513[_0x38dc5f(0x227)]),{'exposedMethods':[_0x962513['sCwXT']],'forkOptions':{'serialization':_0x962513[_0x38dc5f(0x22f)],'stdio':_0x962513[_0x38dc5f(0x1f5)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x962513[_0x38dc5f(0x246)](_0x488d33,0x1),'enableWorkerThreads':!![]}),_0x5afa51=new Emittery();_0x5afa51['on'](_0x962513['NpMxZ'],_0x1f0b71=>{const _0x559153=_0x38dc5f;_0x2f7b1b[_0x1f0b71[0x0]]?(_0x2f7b1b[_0x1f0b71[0x0]][_0x962513[_0x559153(0x236)]]=_0x962513[_0x559153(0x217)](_0x2f7b1b[_0x1f0b71[0x0]][_0x962513[_0x559153(0x236)]],_0x1f0b71[0x1][_0x962513['hIpkY']]),_0x2f7b1b[_0x1f0b71[0x0]][_0x962513[_0x559153(0x254)]]=[..._0x2f7b1b[_0x1f0b71[0x0]][_0x962513[_0x559153(0x254)]],..._0x1f0b71[0x1][_0x962513[_0x559153(0x254)]]]):_0x2f7b1b[_0x1f0b71[0x0]]={'failureCount':_0x1f0b71[0x1][_0x962513[_0x559153(0x236)]],'results':[..._0x1f0b71[0x1][_0x962513[_0x559153(0x254)]]]};}),_0x5afa51['on'](_0x962513[_0x38dc5f(0x211)],_0x2c7ce0=>console[_0x38dc5f(0x224)](_0x2c7ce0[0x1]));_0x392ac6[_0x38dc5f(0x1f9)]()&&_0x392ac6[_0x38dc5f(0x1f9)]()[_0x38dc5f(0x23d)](process['stdout']);_0x392ac6['getStderr']()&&_0x392ac6[_0x38dc5f(0x241)]()[_0x38dc5f(0x23d)](process['stderr']);const _0x24f9a6=async()=>{const _0x157fcd=_0x38dc5f,{forceExited:_0x27efa5}=await _0x392ac6['end']();_0x27efa5&&console[_0x157fcd(0x1fa)](_0x962513[_0x157fcd(0x231)]);try{await TestHubHandler[_0x157fcd(0x23a)]();}catch(_0x3ba414){_0x962513['FJFcl'](debug,_0x157fcd(0x234)+_0x3ba414);}_0x962513['wtDOv'](_0x5a5285,_0x2f7b1b);},_0xd0ba40=_0x962513[_0x38dc5f(0x24e)](pLimit,_0x962513[_0x38dc5f(0x246)](_0x488d33,0x1)),_0x36ac95=_0x5b77fa=>_0xd0ba40(async()=>{const _0x158a70=_0x38dc5f;await _0x5afa51[_0x158a70(0x220)](_0x962513[_0x158a70(0x242)],_0x5b77fa);const _0x102444=_0x392ac6[_0x158a70(0x251)](_0x5b77fa,_0x1717bc);try{parentPort&&_0x102444['UNSTABLE_onCustomMessage'](_0x1e8f5a=>{const _0x56cd81=_0x158a70;try{parentPort[_0x56cd81(0x216)](_0x1e8f5a);}catch(_0x405a78){logger['debug'](_0x56cd81(0x21a)+util[_0x56cd81(0x239)](_0x405a78));}});}catch(_0x313e20){logger[_0x158a70(0x23b)]('Exception\x20in\x20adding\x20custom\x20message\x20channel\x20'+util[_0x158a70(0x239)](_0x313e20));}return _0x102444;});PerformanceTester[_0x38dc5f(0x1f3)](PerformanceEvents[_0x38dc5f(0x253)]),Promise[_0x38dc5f(0x218)](_0x1f2b8b['map'](_0xadc907=>_0x36ac95(_0xadc907)['then'](_0x44682a=>_0x5afa51[_0x38dc5f(0x220)](_0x38dc5f(0x200),[_0xadc907[_0x38dc5f(0x255)][_0x38dc5f(0x1fe)],_0x44682a]),_0x3e96e7=>_0x5afa51['emit']('test-file-failure',[_0xadc907,_0x3e96e7]))))[_0x38dc5f(0x247)](_0x24f9a6,_0x24f9a6);}),exports[a46_0x4ed904(0x238)]=(_0x6663b5,_0x381716,_0x2d32df,_0x1d27bd,_0x2d24ac)=>{const _0x2790cd=a46_0x4ed904,_0x53ba2c={'HWdOU':'platform-run-start','aQGvh':'Workers\x20failed\x20to\x20exit\x20gracefully','CVnDC':function(_0x2aecd6,_0x17c262){return _0x2aecd6(_0x17c262);},'LUvdd':_0x2790cd(0x20e),'ceKvE':_0x2790cd(0x22e),'ndNDX':_0x2790cd(0x22b),'UjgFy':'pipe','sHnqd':_0x2790cd(0x219),'dqLDH':_0x2790cd(0x213),'nZDbQ':function(_0x35cd45,_0x3b95d6){return _0x35cd45(_0x3b95d6);}};return new Promise(_0x3c3ccd=>{const _0x2bf7b6=_0x2790cd,_0x51d4e2={'Uehjh':_0x53ba2c[_0x2bf7b6(0x24b)],'WgbaP':function(_0x1f1465,_0x104f90){return _0x53ba2c['CVnDC'](_0x1f1465,_0x104f90);}},_0x342cb6=[],_0x1c03af=new Worker(require[_0x2bf7b6(0x1f6)](_0x53ba2c[_0x2bf7b6(0x208)]),{'exposedMethods':[_0x53ba2c['ceKvE']],'forkOptions':{'serialization':_0x53ba2c['ndNDX'],'stdio':_0x53ba2c[_0x2bf7b6(0x204)]},'numWorkers':_0x6663b5[_0x2bf7b6(0x20d)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x44a632=new Emittery();_0x44a632['on'](_0x53ba2c[_0x2bf7b6(0x233)],_0x3799f3=>{const _0x4b0e2c=_0x2bf7b6;_0x342cb6[_0x4b0e2c(0x1f0)]([_0x3799f3[0x0],_0x3799f3[0x1]]);}),_0x44a632['on'](_0x53ba2c[_0x2bf7b6(0x20b)],_0x5c9a0d=>console['log'](_0x5c9a0d[0x1]));_0x1c03af['getStdout']()&&_0x1c03af['getStdout']()[_0x2bf7b6(0x23d)](process['stdout']);_0x1c03af[_0x2bf7b6(0x241)]()&&_0x1c03af[_0x2bf7b6(0x241)]()[_0x2bf7b6(0x23d)](process['stderr']);const _0x2e8cc8=async()=>{const _0x52fb75=_0x2bf7b6,{forceExited:_0x31589b}=await _0x1c03af[_0x52fb75(0x1f3)]();_0x31589b&&console['error'](_0x51d4e2[_0x52fb75(0x229)]),_0x51d4e2['WgbaP'](_0x3c3ccd,_0x342cb6);},_0x5a19f9=_0x53ba2c[_0x2bf7b6(0x1ff)](pLimit,_0x6663b5[_0x2bf7b6(0x20d)]||0x1),_0x3bab5e=(_0xae597b,_0x307402)=>_0x5a19f9(async()=>{const _0x345b7a=_0x2bf7b6;return await _0x44a632[_0x345b7a(0x220)](_0x53ba2c[_0x345b7a(0x245)],_0xae597b),_0x381716[_0x345b7a(0x21d)]=_0x2d32df[_0x345b7a(0x201)][_0x307402],_0x1c03af[_0x345b7a(0x22e)](_0xae597b,_0x381716,_0x2d32df,_0x1d27bd,_0x2d24ac);});Promise[_0x2bf7b6(0x218)](_0x6663b5['map']((_0x31de67,_0x8cdf4)=>_0x3bab5e(_0x31de67,_0x8cdf4)[_0x2bf7b6(0x247)](_0x25375b=>_0x44a632[_0x2bf7b6(0x220)](_0x2bf7b6(0x219),[_0x31de67,_0x25375b]),_0x1f08fa=>_0x44a632[_0x2bf7b6(0x220)]('platform-run-failure',[_0x31de67,_0x1f08fa]))))['then'](_0x2e8cc8,_0x2e8cc8);});},exports[a46_0x4ed904(0x20a)]=(_0x2c5617,_0x239fd7)=>new Promise(_0x4e0b97=>{const _0x5a1b21=a46_0x4ed904,_0x3d9ac7={'zqquW':_0x5a1b21(0x1ee),'dzWar':function(_0xffedc5,_0x545983){return _0xffedc5===_0x545983;},'ysHVl':function(_0xebdb00,_0x495640){return _0xebdb00!==_0x495640;},'WWqeF':_0x5a1b21(0x21b),'yToBU':function(_0x2fead9,_0x32a229){return _0x2fead9(_0x32a229);},'hnFhC':'./testWorker.js','SOLLV':_0x5a1b21(0x243),'GHxbY':_0x5a1b21(0x22b),'kYjSj':'pipe','ggVmx':_0x5a1b21(0x200),'YfjDp':'test-file-failure'},_0x27e846={},_0x30cff2=new Worker(require['resolve'](_0x3d9ac7[_0x5a1b21(0x214)]),{'exposedMethods':[_0x3d9ac7[_0x5a1b21(0x1f8)]],'forkOptions':{'serialization':_0x3d9ac7['GHxbY'],'stdio':_0x3d9ac7[_0x5a1b21(0x215)]},'numWorkers':_0x239fd7,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x11f69e=new Emittery();_0x11f69e['on'](_0x3d9ac7[_0x5a1b21(0x250)],_0x346c91=>{const _0x576023=_0x5a1b21;_0x346c91[0x0]&&logger[_0x576023(0x235)]('Running\x20'+_0x346c91[0x1]+_0x576023(0x24d),_0x346c91[0x0]);}),_0x11f69e['on'](_0x3d9ac7[_0x5a1b21(0x21e)],_0xbf2335=>{const _0x58731f=_0x5a1b21;process[_0x58731f(0x1f2)]=0x1;});_0x30cff2[_0x5a1b21(0x1f9)]()&&_0x30cff2[_0x5a1b21(0x1f9)]()[_0x5a1b21(0x23d)](process[_0x5a1b21(0x1f1)]);_0x30cff2[_0x5a1b21(0x241)]()&&_0x30cff2['getStderr']()['pipe'](process[_0x5a1b21(0x203)]);const _0x5132d6=async()=>{const _0x5a99b4=_0x5a1b21,_0x3bcef4={'VYKxG':function(_0x5ea05d,_0x5f07f5){const _0x2854a2=a46_0x18ec;return _0x3d9ac7[_0x2854a2(0x248)](_0x5ea05d,_0x5f07f5);},'mqTye':function(_0x10445a,_0x346856){const _0x11c7e5=a46_0x18ec;return _0x3d9ac7[_0x11c7e5(0x209)](_0x10445a,_0x346856);}};let _0x281218=0x0;const _0x1cea76=_0x30cff2[_0x5a99b4(0x22a)][_0x5a99b4(0x1fc)](),_0x50e7a0=()=>{},_0x44c78c=_0x1cea76['map'](async _0x3e8394=>{const _0x4d4b2a=_0x5a99b4;_0x3e8394[_0x4d4b2a(0x210)]([0x2,![]],_0x50e7a0,_0x50e7a0,_0x50e7a0),_0x3e8394[_0x4d4b2a(0x1fb)]['on'](_0x3d9ac7[_0x4d4b2a(0x20f)],_0x4849f7=>{const _0xd76d9d=_0x4d4b2a;_0x3bcef4[_0xd76d9d(0x1f7)](_0x281218,0x0)&&_0x3bcef4[_0xd76d9d(0x223)](_0x4849f7,0x0)&&(_0x281218=_0x4849f7);}),await _0x3e8394['waitForExit']();});await Promise['all'](_0x44c78c),process[_0x5a99b4(0x1f2)]=_0x281218;const {forceExited:_0x3515f2}=await _0x30cff2[_0x5a99b4(0x1f3)]();_0x3515f2&&console['error'](_0x3d9ac7['WWqeF']),_0x3d9ac7[_0x5a99b4(0x237)](_0x4e0b97,_0x27e846);},_0x5d1595=_0x3d9ac7[_0x5a1b21(0x237)](pLimit,_0x239fd7),_0x41657c=_0x2733c7=>_0x5d1595(async()=>{const _0x3e21f9=_0x5a1b21;return _0x30cff2[_0x3e21f9(0x243)](_0x2733c7);});Promise[_0x5a1b21(0x218)](_0x2c5617[_0x5a1b21(0x232)](_0x308dc1=>_0x41657c(_0x308dc1)[_0x5a1b21(0x247)](_0x2e0a7e=>_0x11f69e[_0x5a1b21(0x220)](_0x5a1b21(0x200),[_0x308dc1['configuration'][_0x5a1b21(0x1fe)],_0x308dc1['configuration']['file']]),_0xbe70a=>_0x11f69e['emit']('test-file-failure',[_0x308dc1,_0xbe70a]))))[_0x5a1b21(0x247)](_0x5132d6,_0x5132d6);});