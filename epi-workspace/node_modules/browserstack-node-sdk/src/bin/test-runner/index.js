const a46_0x127702=a46_0x1611;function a46_0x2944(){const _0xe64e8a=['file','../../helpers/test-observability/utils','postMessage','worker','GcUyH','platform-run-success','DtrbR','resolve','IIltM','./testWorker.js','configuration','test-file-success','6bEzblZ','jest-worker','5802lhppfi','platforms','winstonLogger','exitCode','_workerPool','platform','286CnkYHP','3191100dFfQFV','Worker','map','YKvqB','487877fXyrBI','bvryW','gnLzC','push','gUyQh','getWorkers','GXurz','emittery','SepjB','all','test-file-start','end','ViVws','288koitBU','216280VByEKf','log','error','pipe','VinDY','parallelCucumberRun','Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20','EUBVD','getStderr','Workers\x20failed\x20to\x20exit\x20gracefully','JXiQO','getStdout','stderr','301OkSlQz','363535hlhdVv','UNSTABLE_onCustomMessage','test-file-failure','format','../../helpers/performance/constants','platform-run-failure','parallelVanillaRun','length','info','wXkFC','uwVaI','worker_threads','PdEtK','QvLuJ','fUpFM','stdout','platform-run-start','HVkRf','FKJin','LvjEV','ekIKV','json','cucumberWorker','debug','../../helpers/performance/performance-tester','VwPDW','AqtUM','Bbeyf','Exception\x20in\x20adding\x20custom\x20message\x20channel\x20','KJXkC','eYkiW','410590yXKErG','48MZCKWV','then','_child','SDWUb','../../helpers/testhub/testhubHandler','uMbhl','emit','aQlDW','36MtcuPf','BAVvm','1377056aINsPX','UDltB'];a46_0x2944=function(){return _0xe64e8a;};return a46_0x2944();}(function(_0x3a50d3,_0x32b37e){const _0x1452f1=a46_0x1611,_0x4a1a3b=_0x3a50d3();while(!![]){try{const _0x3da7ee=-parseInt(_0x1452f1(0x109))/0x1*(-parseInt(_0x1452f1(0x10f))/0x2)+-parseInt(_0x1452f1(0x107))/0x3*(-parseInt(_0x1452f1(0xf9))/0x4)+-parseInt(_0x1452f1(0xcf))/0x5*(parseInt(_0x1452f1(0xf7))/0x6)+-parseInt(_0x1452f1(0xce))/0x7*(-parseInt(_0x1452f1(0x122))/0x8)+-parseInt(_0x1452f1(0x121))/0x9*(parseInt(_0x1452f1(0xee))/0xa)+-parseInt(_0x1452f1(0x110))/0xb+parseInt(_0x1452f1(0xef))/0xc*(parseInt(_0x1452f1(0x114))/0xd);if(_0x3da7ee===_0x32b37e)break;else _0x4a1a3b['push'](_0x4a1a3b['shift']());}catch(_0x3fd88d){_0x4a1a3b['push'](_0x4a1a3b['shift']());}}}(a46_0x2944,0xc104d));const Worker=require(a46_0x127702(0x108))[a46_0x127702(0x111)],Emittery=require(a46_0x127702(0x11b)),pLimit=require('p-limit'),{parentPort}=require(a46_0x127702(0xda)),util=require('util'),logger=require('../../helpers/logger')[a46_0x127702(0x10b)],PerformanceTester=require(a46_0x127702(0xe7)),PerformanceEvents=require(a46_0x127702(0xd3))['EVENTS'],{debug}=require(a46_0x127702(0xfc)),TestHubHandler=require(a46_0x127702(0xf3));function a46_0x1611(_0x497840,_0x7242d9){const _0x294481=a46_0x2944();return a46_0x1611=function(_0x16118d,_0x55ca25){_0x16118d=_0x16118d-0xce;let _0x43ab04=_0x294481[_0x16118d];return _0x43ab04;},a46_0x1611(_0x497840,_0x7242d9);}exports['parallelTestRun']=(_0x52a8c2,_0x317ac3,_0x2e903c)=>new Promise(async _0x133968=>{const _0x53ccb0=a46_0x127702,_0x3c6df9={'AqtUM':'failureCount','fUpFM':function(_0x42b1de,_0x58eea9){return _0x42b1de+_0x58eea9;},'ekIKV':'results','gnLzC':_0x53ccb0(0x12b),'QvLuJ':function(_0x13334f,_0x62d6cd){return _0x13334f(_0x62d6cd);},'LqQjh':function(_0x47b101,_0x10affa){return _0x47b101(_0x10affa);},'SDWUb':_0x53ccb0(0x11e),'BAVvm':_0x53ccb0(0x104),'ViVws':_0x53ccb0(0xfe),'bqdeG':'json','bvryW':'pipe','oXqjY':function(_0x26f81f,_0x41c243){return _0x26f81f*_0x41c243;},'iRdmB':_0x53ccb0(0x106),'zgScR':'test-file-failure','DtrbR':function(_0x5e92fb,_0x4b0803){return _0x5e92fb(_0x4b0803);},'EUBVD':function(_0x315dae,_0x429b11){return _0x315dae*_0x429b11;}},_0x4d9aba=_0x2e903c['config'],_0x3d95e2={},_0x2912b9=new Worker(require[_0x53ccb0(0x102)](_0x3c6df9[_0x53ccb0(0xf8)]),{'exposedMethods':[_0x3c6df9[_0x53ccb0(0x120)]],'forkOptions':{'serialization':_0x3c6df9['bqdeG'],'stdio':_0x3c6df9[_0x53ccb0(0x115)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x3c6df9['oXqjY'](_0x317ac3,0x1),'enableWorkerThreads':!![]}),_0x4b03db=new Emittery();_0x4b03db['on'](_0x3c6df9['iRdmB'],_0x38404e=>{const _0x20d08f=_0x53ccb0;_0x3d95e2[_0x38404e[0x0]]?(_0x3d95e2[_0x38404e[0x0]][_0x3c6df9['AqtUM']]=_0x3c6df9[_0x20d08f(0xdd)](_0x3d95e2[_0x38404e[0x0]][_0x3c6df9[_0x20d08f(0xe9)]],_0x38404e[0x1][_0x3c6df9[_0x20d08f(0xe9)]]),_0x3d95e2[_0x38404e[0x0]][_0x3c6df9[_0x20d08f(0xe3)]]=[..._0x3d95e2[_0x38404e[0x0]][_0x3c6df9[_0x20d08f(0xe3)]],..._0x38404e[0x1][_0x3c6df9[_0x20d08f(0xe3)]]]):_0x3d95e2[_0x38404e[0x0]]={'failureCount':_0x38404e[0x1][_0x3c6df9[_0x20d08f(0xe9)]],'results':[..._0x38404e[0x1][_0x3c6df9[_0x20d08f(0xe3)]]]};}),_0x4b03db['on'](_0x3c6df9['zgScR'],_0x593dee=>console[_0x53ccb0(0x123)](_0x593dee[0x1]));_0x2912b9[_0x53ccb0(0x12d)]()&&_0x2912b9[_0x53ccb0(0x12d)]()[_0x53ccb0(0x125)](process[_0x53ccb0(0xde)]);_0x2912b9[_0x53ccb0(0x12a)]()&&_0x2912b9[_0x53ccb0(0x12a)]()[_0x53ccb0(0x125)](process[_0x53ccb0(0x12e)]);const _0x4259b5=async()=>{const _0x3aee27=_0x53ccb0,{forceExited:_0xbcfccf}=await _0x2912b9[_0x3aee27(0x11f)]();_0xbcfccf&&console[_0x3aee27(0x124)](_0x3c6df9[_0x3aee27(0x116)]);try{await TestHubHandler['stop']();}catch(_0xe3b7a4){_0x3c6df9[_0x3aee27(0xdc)](debug,_0x3aee27(0x128)+_0xe3b7a4);}_0x3c6df9['LqQjh'](_0x133968,_0x3d95e2);},_0x38ec1a=_0x3c6df9[_0x53ccb0(0x101)](pLimit,_0x3c6df9[_0x53ccb0(0x129)](_0x317ac3,0x1)),_0x4f23ec=_0x470b1e=>_0x38ec1a(async()=>{const _0x3a894e=_0x53ccb0;await _0x4b03db[_0x3a894e(0xf5)](_0x3c6df9[_0x3a894e(0xf2)],_0x470b1e);const _0x2472b3=_0x2912b9[_0x3a894e(0xfe)](_0x470b1e,_0x4d9aba);try{parentPort&&_0x2472b3[_0x3a894e(0xd0)](_0x4a2d59=>{const _0x368600=_0x3a894e;try{parentPort[_0x368600(0xfd)](_0x4a2d59);}catch(_0x5872f0){logger['debug']('Exception\x20in\x20sending\x20worker\x20message\x20'+util[_0x368600(0xd2)](_0x5872f0));}});}catch(_0x23bdc2){logger[_0x3a894e(0xe6)](_0x3a894e(0xeb)+util[_0x3a894e(0xd2)](_0x23bdc2));}return _0x2472b3;});PerformanceTester['end'](PerformanceEvents['SDK_SETUP']),Promise[_0x53ccb0(0x11d)](_0x52a8c2[_0x53ccb0(0x112)](_0x2aa5f5=>_0x4f23ec(_0x2aa5f5)['then'](_0x1f3fbf=>_0x4b03db[_0x53ccb0(0xf5)]('test-file-success',[_0x2aa5f5[_0x53ccb0(0x105)][_0x53ccb0(0x10e)],_0x1f3fbf]),_0x322fd3=>_0x4b03db[_0x53ccb0(0xf5)](_0x53ccb0(0xd1),[_0x2aa5f5,_0x322fd3]))))[_0x53ccb0(0xf0)](_0x4259b5,_0x4259b5);}),exports[a46_0x127702(0x127)]=(_0x57b53c,_0x271590,_0x5a351b,_0x3d2eff,_0x5b5e95)=>{const _0x18b95d=a46_0x127702,_0x2f0b00={'Bbeyf':_0x18b95d(0x12b),'HVkRf':function(_0x19474b,_0x557804){return _0x19474b(_0x557804);},'uwVaI':_0x18b95d(0xdf),'JXiQO':_0x18b95d(0x104),'aQlDW':_0x18b95d(0xe5),'GXurz':_0x18b95d(0xe4),'tfHkn':_0x18b95d(0x125),'LvjEV':_0x18b95d(0x100),'SepjB':'platform-run-failure','YKvqB':function(_0xf8df13,_0x3cdb40){return _0xf8df13(_0x3cdb40);}};return new Promise(_0x258309=>{const _0x4e5a97=_0x18b95d,_0x2540bf={};_0x2540bf[_0x4e5a97(0xec)]=_0x2f0b00[_0x4e5a97(0xd9)];const _0x286622=_0x2540bf,_0x7e16b=[],_0x3a11c1=new Worker(require['resolve'](_0x2f0b00[_0x4e5a97(0x12c)]),{'exposedMethods':[_0x2f0b00[_0x4e5a97(0xf6)]],'forkOptions':{'serialization':_0x2f0b00[_0x4e5a97(0x11a)],'stdio':_0x2f0b00['tfHkn']},'numWorkers':_0x57b53c[_0x4e5a97(0xd6)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x466bef=new Emittery();_0x466bef['on'](_0x2f0b00[_0x4e5a97(0xe2)],_0x59d059=>{const _0x1e30bb=_0x4e5a97;_0x7e16b[_0x1e30bb(0x117)]([_0x59d059[0x0],_0x59d059[0x1]]);}),_0x466bef['on'](_0x2f0b00[_0x4e5a97(0x11c)],_0x25314b=>console[_0x4e5a97(0x123)](_0x25314b[0x1]));_0x3a11c1[_0x4e5a97(0x12d)]()&&_0x3a11c1[_0x4e5a97(0x12d)]()[_0x4e5a97(0x125)](process[_0x4e5a97(0xde)]);_0x3a11c1[_0x4e5a97(0x12a)]()&&_0x3a11c1['getStderr']()[_0x4e5a97(0x125)](process['stderr']);const _0x348c7a=async()=>{const _0x2f751a=_0x4e5a97,{forceExited:_0x3f6186}=await _0x3a11c1[_0x2f751a(0x11f)]();_0x3f6186&&console['error'](_0x2f0b00[_0x2f751a(0xea)]),_0x2f0b00[_0x2f751a(0xe0)](_0x258309,_0x7e16b);},_0x5b2246=_0x2f0b00[_0x4e5a97(0x113)](pLimit,_0x57b53c['length']||0x1),_0x4ce653=(_0x59ce41,_0xd5fd31)=>_0x5b2246(async()=>{const _0x301057=_0x4e5a97;return await _0x466bef[_0x301057(0xf5)](_0x286622[_0x301057(0xec)],_0x59ce41),_0x271590['platformCaps']=_0x5a351b[_0x301057(0x10a)][_0xd5fd31],_0x3a11c1['cucumberWorker'](_0x59ce41,_0x271590,_0x5a351b,_0x3d2eff,_0x5b5e95);});Promise[_0x4e5a97(0x11d)](_0x57b53c[_0x4e5a97(0x112)]((_0x5018fc,_0xad586e)=>_0x4ce653(_0x5018fc,_0xad586e)[_0x4e5a97(0xf0)](_0x248de0=>_0x466bef['emit'](_0x4e5a97(0x100),[_0x5018fc,_0x248de0]),_0x1163d0=>_0x466bef[_0x4e5a97(0xf5)](_0x4e5a97(0xd4),[_0x5018fc,_0x1163d0]))))[_0x4e5a97(0xf0)](_0x348c7a,_0x348c7a);});},exports[a46_0x127702(0xd5)]=(_0xc7dbce,_0x5beaad)=>new Promise(_0x4ac5f6=>{const _0x5f457d=a46_0x127702,_0x13b661={'IIltM':function(_0x216fef,_0x17cc60){return _0x216fef===_0x17cc60;},'PdEtK':function(_0x56d2a2,_0x1b4972){return _0x56d2a2!==_0x1b4972;},'VwPDW':'exit','FKJin':_0x5f457d(0x12b),'ySSaN':function(_0x541075,_0x142aa3){return _0x541075(_0x142aa3);},'LunXS':_0x5f457d(0x104),'wXkFC':'vanillaWorker','gUyQh':_0x5f457d(0xe4),'GcUyH':_0x5f457d(0x125),'UDltB':_0x5f457d(0x106),'uMbhl':_0x5f457d(0xd1),'VinDY':function(_0x554d33,_0x598d47){return _0x554d33(_0x598d47);}},_0x2b6b2e={},_0x1e4589=new Worker(require[_0x5f457d(0x102)](_0x13b661['LunXS']),{'exposedMethods':[_0x13b661[_0x5f457d(0xd8)]],'forkOptions':{'serialization':_0x13b661[_0x5f457d(0x118)],'stdio':_0x13b661[_0x5f457d(0xff)]},'numWorkers':_0x5beaad,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x47a7e0=new Emittery();_0x47a7e0['on'](_0x13b661[_0x5f457d(0xfa)],_0x570304=>{const _0x4c720b=_0x5f457d;_0x570304[0x0]&&logger[_0x4c720b(0xd7)]('Running\x20'+_0x570304[0x1]+'\x20for',_0x570304[0x0]);}),_0x47a7e0['on'](_0x13b661[_0x5f457d(0xf4)],_0x1748cc=>{const _0x5e82e2=_0x5f457d;process[_0x5e82e2(0x10c)]=0x1;});_0x1e4589[_0x5f457d(0x12d)]()&&_0x1e4589['getStdout']()['pipe'](process[_0x5f457d(0xde)]);_0x1e4589[_0x5f457d(0x12a)]()&&_0x1e4589['getStderr']()['pipe'](process[_0x5f457d(0x12e)]);const _0x4d1eb9=async()=>{const _0x7bed88=_0x5f457d,_0x35534e={'tYefK':function(_0x463ed9,_0x18e353){const _0xd88a22=a46_0x1611;return _0x13b661[_0xd88a22(0x103)](_0x463ed9,_0x18e353);},'sZZbT':function(_0x19ed96,_0x6877d8){const _0x36b88f=a46_0x1611;return _0x13b661[_0x36b88f(0xdb)](_0x19ed96,_0x6877d8);},'eYkiW':_0x13b661[_0x7bed88(0xe8)]};let _0x2fd250=0x0;const _0x492d90=_0x1e4589[_0x7bed88(0x10d)][_0x7bed88(0x119)](),_0x45ea2b=()=>{},_0x9c4820=_0x492d90[_0x7bed88(0x112)](async _0x271561=>{const _0x217ea9=_0x7bed88;_0x271561['send']([0x2,![]],_0x45ea2b,_0x45ea2b,_0x45ea2b),_0x271561[_0x217ea9(0xf1)]['on'](_0x35534e[_0x217ea9(0xed)],_0x55a504=>{_0x35534e['tYefK'](_0x2fd250,0x0)&&_0x35534e['sZZbT'](_0x55a504,0x0)&&(_0x2fd250=_0x55a504);}),await _0x271561['waitForExit']();});await Promise[_0x7bed88(0x11d)](_0x9c4820),process[_0x7bed88(0x10c)]=_0x2fd250;const {forceExited:_0x1e1d9a}=await _0x1e4589[_0x7bed88(0x11f)]();_0x1e1d9a&&console[_0x7bed88(0x124)](_0x13b661[_0x7bed88(0xe1)]),_0x13b661['ySSaN'](_0x4ac5f6,_0x2b6b2e);},_0x575b50=_0x13b661[_0x5f457d(0x126)](pLimit,_0x5beaad),_0xe85be5=_0x2ee409=>_0x575b50(async()=>{return _0x1e4589['vanillaWorker'](_0x2ee409);});Promise[_0x5f457d(0x11d)](_0xc7dbce[_0x5f457d(0x112)](_0x20463d=>_0xe85be5(_0x20463d)[_0x5f457d(0xf0)](_0x5c8f73=>_0x47a7e0[_0x5f457d(0xf5)](_0x5f457d(0x106),[_0x20463d[_0x5f457d(0x105)][_0x5f457d(0x10e)],_0x20463d[_0x5f457d(0x105)][_0x5f457d(0xfb)]]),_0x3e5000=>_0x47a7e0[_0x5f457d(0xf5)]('test-file-failure',[_0x20463d,_0x3e5000]))))[_0x5f457d(0xf0)](_0x4d1eb9,_0x4d1eb9);});