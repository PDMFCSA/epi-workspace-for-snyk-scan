const a50_0x80a0b5=a50_0x585f;function a50_0x585f(_0x577041,_0x4bc99f){const _0x575dd2=a50_0x575d();return a50_0x585f=function(_0x585f70,_0x2d0d12){_0x585f70=_0x585f70-0xdd;let _0x493268=_0x575dd2[_0x585f70];return _0x493268;},a50_0x585f(_0x577041,_0x4bc99f);}(function(_0x314a08,_0x4c1b78){const _0xfb7d34=a50_0x585f,_0x3d7fb6=_0x314a08();while(!![]){try{const _0x3433f3=-parseInt(_0xfb7d34(0x128))/0x1*(-parseInt(_0xfb7d34(0x11a))/0x2)+-parseInt(_0xfb7d34(0xe1))/0x3+-parseInt(_0xfb7d34(0xe0))/0x4+-parseInt(_0xfb7d34(0xed))/0x5+-parseInt(_0xfb7d34(0x11e))/0x6*(parseInt(_0xfb7d34(0xf0))/0x7)+parseInt(_0xfb7d34(0xe2))/0x8+parseInt(_0xfb7d34(0x12e))/0x9*(parseInt(_0xfb7d34(0xe3))/0xa);if(_0x3433f3===_0x4c1b78)break;else _0x3d7fb6['push'](_0x3d7fb6['shift']());}catch(_0x24077b){_0x3d7fb6['push'](_0x3d7fb6['shift']());}}}(a50_0x575d,0xdf17f));function a50_0x575d(){const _0x52acea=['format','qcWtq','CwSrJ','worker','platform-run-failure','platforms','222748EiFVWq','PDNhO','yhoCI','yminI','lviJO','CDKsF','24945885qNdSjL','EVENTS','HHNUz','jlxGc','../../helpers/logger','json','Exception\x20in\x20adding\x20custom\x20message\x20channel\x20','test-file-start','bqhOZ','util','platform','./testWorker.js','file','exitCode','oYANc','test-file-failure','Running\x20','6660716wxzjiM','1337430SCHDBo','5784880VOaLFS','10zuzGKk','Workers\x20failed\x20to\x20exit\x20gracefully','exit','length','debug','stderr','getStdout','p-limit','configuration','vanillaWorker','5970105VmGUqv','info','all','602yryvMH','push','oCTgO','getStderr','mEAhC','GhwVf','platform-run-success','test-file-success','error','iLUdx','resolve','kepHp','lIVsh','stdout','LbGtk','parallelCucumberRun','parallelTestRun','zRSbL','pipe','waitForExit','log','mWvjg','BMEwx','FOjVs','_child','MIBVt','parallelVanillaRun','end','xqkqA','qipEZ','lDyYc','XkPft','piaZG','platformCaps','worker_threads','cucumberWorker','failureCount','../../helpers/performance/constants','then','emit','tMwpf','../../helpers/testhub/testhubHandler','16JsVHaB','kEcPG','uzMqx','emittery','73818pywCAl','results','map','IoSoq'];a50_0x575d=function(){return _0x52acea;};return a50_0x575d();}const Worker=require('jest-worker')['Worker'],Emittery=require(a50_0x80a0b5(0x11d)),pLimit=require(a50_0x80a0b5(0xea)),{parentPort}=require(a50_0x80a0b5(0x112)),util=require(a50_0x80a0b5(0x137)),logger=require(a50_0x80a0b5(0x132))['winstonLogger'],PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a50_0x80a0b5(0x115))[a50_0x80a0b5(0x12f)],{debug}=require('../../helpers/test-observability/utils'),TestHubHandler=require(a50_0x80a0b5(0x119));exports[a50_0x80a0b5(0x100)]=(_0xe23ab0,_0x1ac541,_0x9e99b6)=>new Promise(async _0x11c8da=>{const _0x5c91d4=a50_0x80a0b5,_0x1984d6={'mWvjg':_0x5c91d4(0x114),'CwSrJ':function(_0x51ae0a,_0x33faba){return _0x51ae0a+_0x33faba;},'XkPft':_0x5c91d4(0x11f),'lDyYc':'Workers\x20failed\x20to\x20exit\x20gracefully','BTEkY':function(_0x53b6ea,_0x298a87){return _0x53b6ea(_0x298a87);},'GVNCD':function(_0x3b8d6b,_0x5a2747){return _0x3b8d6b(_0x5a2747);},'qcWtq':_0x5c91d4(0x135),'zRSbL':_0x5c91d4(0x139),'GhwVf':_0x5c91d4(0x125),'oYANc':_0x5c91d4(0x133),'iLUdx':_0x5c91d4(0x102),'qipEZ':function(_0x40c4c9,_0x183294){return _0x40c4c9*_0x183294;},'PomAi':_0x5c91d4(0xf7),'HHNUz':_0x5c91d4(0xde),'MIBVt':function(_0x4109ee,_0x5a7e5f){return _0x4109ee(_0x5a7e5f);},'kepHp':function(_0x55edea,_0x5a889e){return _0x55edea*_0x5a889e;}},_0x4bf470=_0x9e99b6['config'],_0x408ac5={},_0x3f65be=new Worker(require[_0x5c91d4(0xfa)](_0x1984d6[_0x5c91d4(0x101)]),{'exposedMethods':[_0x1984d6[_0x5c91d4(0xf5)]],'forkOptions':{'serialization':_0x1984d6[_0x5c91d4(0xdd)],'stdio':_0x1984d6[_0x5c91d4(0xf9)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x1984d6[_0x5c91d4(0x10d)](_0x1ac541,0x1),'enableWorkerThreads':!![]}),_0x36604c=new Emittery();_0x36604c['on'](_0x1984d6['PomAi'],_0x12f90d=>{const _0x56acf2=_0x5c91d4;_0x408ac5[_0x12f90d[0x0]]?(_0x408ac5[_0x12f90d[0x0]][_0x1984d6[_0x56acf2(0x105)]]=_0x1984d6[_0x56acf2(0x124)](_0x408ac5[_0x12f90d[0x0]][_0x1984d6[_0x56acf2(0x105)]],_0x12f90d[0x1][_0x1984d6[_0x56acf2(0x105)]]),_0x408ac5[_0x12f90d[0x0]][_0x1984d6[_0x56acf2(0x10f)]]=[..._0x408ac5[_0x12f90d[0x0]][_0x1984d6['XkPft']],..._0x12f90d[0x1][_0x1984d6[_0x56acf2(0x10f)]]]):_0x408ac5[_0x12f90d[0x0]]={'failureCount':_0x12f90d[0x1][_0x1984d6['mWvjg']],'results':[..._0x12f90d[0x1][_0x1984d6[_0x56acf2(0x10f)]]]};}),_0x36604c['on'](_0x1984d6[_0x5c91d4(0x130)],_0x4fa10f=>console[_0x5c91d4(0x104)](_0x4fa10f[0x1]));_0x3f65be[_0x5c91d4(0xe9)]()&&_0x3f65be[_0x5c91d4(0xe9)]()['pipe'](process['stdout']);_0x3f65be['getStderr']()&&_0x3f65be[_0x5c91d4(0xf3)]()[_0x5c91d4(0x102)](process['stderr']);const _0x15c05a=async()=>{const _0x5dcdcb=_0x5c91d4,{forceExited:_0x2f83be}=await _0x3f65be[_0x5dcdcb(0x10b)]();_0x2f83be&&console['error'](_0x1984d6[_0x5dcdcb(0x10e)]);try{await TestHubHandler['stop']();}catch(_0x9e784c){_0x1984d6['BTEkY'](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20'+_0x9e784c);}_0x1984d6['GVNCD'](_0x11c8da,_0x408ac5);},_0x27f95e=_0x1984d6[_0x5c91d4(0x109)](pLimit,_0x1984d6[_0x5c91d4(0xfb)](_0x1ac541,0x1)),_0x589e47=_0x3745f0=>_0x27f95e(async()=>{const _0x79b36=_0x5c91d4;await _0x36604c['emit'](_0x1984d6[_0x79b36(0x123)],_0x3745f0);const _0x4a59f7=_0x3f65be['worker'](_0x3745f0,_0x4bf470);try{parentPort&&_0x4a59f7['UNSTABLE_onCustomMessage'](_0x3db147=>{const _0x44cffe=_0x79b36;try{parentPort['postMessage'](_0x3db147);}catch(_0x4678aa){logger[_0x44cffe(0xe7)]('Exception\x20in\x20sending\x20worker\x20message\x20'+util[_0x44cffe(0x122)](_0x4678aa));}});}catch(_0x2d3f10){logger[_0x79b36(0xe7)](_0x79b36(0x134)+util[_0x79b36(0x122)](_0x2d3f10));}return _0x4a59f7;});PerformanceTester['end'](PerformanceEvents['SDK_SETUP']),Promise[_0x5c91d4(0xef)](_0xe23ab0[_0x5c91d4(0x120)](_0x4602c1=>_0x589e47(_0x4602c1)['then'](_0x45cf02=>_0x36604c[_0x5c91d4(0x117)]('test-file-success',[_0x4602c1[_0x5c91d4(0xeb)][_0x5c91d4(0x138)],_0x45cf02]),_0x4de232=>_0x36604c[_0x5c91d4(0x117)](_0x5c91d4(0xde),[_0x4602c1,_0x4de232]))))[_0x5c91d4(0x116)](_0x15c05a,_0x15c05a);}),exports[a50_0x80a0b5(0xff)]=(_0x1d29a0,_0x21c01c,_0x37d0b6,_0x7a104a,_0x284f1e)=>{const _0xb22aa1=a50_0x80a0b5,_0x2cfd1f={'BMEwx':_0xb22aa1(0xe4),'fZcEz':function(_0x2a8bdc,_0x2f11e1){return _0x2a8bdc(_0x2f11e1);},'jlxGc':'platform-run-start','piaZG':'./testWorker.js','LbGtk':_0xb22aa1(0x113),'mEAhC':'json','xqkqA':_0xb22aa1(0x102),'CbxtB':_0xb22aa1(0xf6),'yhoCI':'platform-run-failure','yminI':function(_0x368ce9,_0xc218b7){return _0x368ce9(_0xc218b7);}};return new Promise(_0x3b8a4a=>{const _0x3b2aba=_0xb22aa1,_0x4e464a=[],_0x583406=new Worker(require['resolve'](_0x2cfd1f[_0x3b2aba(0x110)]),{'exposedMethods':[_0x2cfd1f[_0x3b2aba(0xfe)]],'forkOptions':{'serialization':_0x2cfd1f[_0x3b2aba(0xf4)],'stdio':_0x2cfd1f[_0x3b2aba(0x10c)]},'numWorkers':_0x1d29a0[_0x3b2aba(0xe6)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x1ffd24=new Emittery();_0x1ffd24['on'](_0x2cfd1f['CbxtB'],_0x347150=>{const _0x2d325e=_0x3b2aba;_0x4e464a[_0x2d325e(0xf1)]([_0x347150[0x0],_0x347150[0x1]]);}),_0x1ffd24['on'](_0x2cfd1f[_0x3b2aba(0x12a)],_0x5b5b24=>console[_0x3b2aba(0x104)](_0x5b5b24[0x1]));_0x583406[_0x3b2aba(0xe9)]()&&_0x583406[_0x3b2aba(0xe9)]()['pipe'](process[_0x3b2aba(0xfd)]);_0x583406[_0x3b2aba(0xf3)]()&&_0x583406[_0x3b2aba(0xf3)]()[_0x3b2aba(0x102)](process[_0x3b2aba(0xe8)]);const _0x44f959=async()=>{const _0x1de783=_0x3b2aba,{forceExited:_0x4f91b7}=await _0x583406[_0x1de783(0x10b)]();_0x4f91b7&&console[_0x1de783(0xf8)](_0x2cfd1f[_0x1de783(0x106)]),_0x2cfd1f['fZcEz'](_0x3b8a4a,_0x4e464a);},_0x5dea19=_0x2cfd1f[_0x3b2aba(0x12b)](pLimit,_0x1d29a0[_0x3b2aba(0xe6)]||0x1),_0x6f9b76=(_0x203591,_0x2b0a72)=>_0x5dea19(async()=>{const _0x42e89c=_0x3b2aba;return await _0x1ffd24[_0x42e89c(0x117)](_0x2cfd1f[_0x42e89c(0x131)],_0x203591),_0x21c01c[_0x42e89c(0x111)]=_0x37d0b6[_0x42e89c(0x127)][_0x2b0a72],_0x583406[_0x42e89c(0x113)](_0x203591,_0x21c01c,_0x37d0b6,_0x7a104a,_0x284f1e);});Promise[_0x3b2aba(0xef)](_0x1d29a0['map']((_0x309827,_0x3bfc21)=>_0x6f9b76(_0x309827,_0x3bfc21)['then'](_0x1fea3f=>_0x1ffd24[_0x3b2aba(0x117)](_0x3b2aba(0xf6),[_0x309827,_0x1fea3f]),_0x1fffde=>_0x1ffd24[_0x3b2aba(0x117)](_0x3b2aba(0x126),[_0x309827,_0x1fffde]))))[_0x3b2aba(0x116)](_0x44f959,_0x44f959);});},exports[a50_0x80a0b5(0x10a)]=(_0xeb49d9,_0x470d2e)=>new Promise(_0x2dbe93=>{const _0x1aa7da=a50_0x80a0b5,_0x5d6f5e={'tMwpf':function(_0x3f15c3,_0x4a0ea1){return _0x3f15c3===_0x4a0ea1;},'oCTgO':function(_0x3c2d69,_0x11e361){return _0x3c2d69!==_0x11e361;},'PDNhO':_0x1aa7da(0xe5),'lviJO':_0x1aa7da(0xe4),'Qmvlz':function(_0x391aa1,_0x1f1fc9){return _0x391aa1(_0x1f1fc9);},'bqhOZ':_0x1aa7da(0x139),'iJUKf':_0x1aa7da(0xec),'lIVsh':_0x1aa7da(0x133),'FOjVs':_0x1aa7da(0x102),'IoSoq':_0x1aa7da(0xf7),'CDKsF':'test-file-failure'},_0x10b6b6={},_0x5c3caf=new Worker(require[_0x1aa7da(0xfa)](_0x5d6f5e[_0x1aa7da(0x136)]),{'exposedMethods':[_0x5d6f5e['iJUKf']],'forkOptions':{'serialization':_0x5d6f5e[_0x1aa7da(0xfc)],'stdio':_0x5d6f5e[_0x1aa7da(0x107)]},'numWorkers':_0x470d2e,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x171c5c=new Emittery();_0x171c5c['on'](_0x5d6f5e[_0x1aa7da(0x121)],_0x54f4ef=>{const _0x42ffe6=_0x1aa7da;_0x54f4ef[0x0]&&logger[_0x42ffe6(0xee)](_0x42ffe6(0xdf)+_0x54f4ef[0x1]+'\x20for',_0x54f4ef[0x0]);}),_0x171c5c['on'](_0x5d6f5e[_0x1aa7da(0x12d)],_0x4367e7=>{process['exitCode']=0x1;});_0x5c3caf[_0x1aa7da(0xe9)]()&&_0x5c3caf['getStdout']()[_0x1aa7da(0x102)](process[_0x1aa7da(0xfd)]);_0x5c3caf['getStderr']()&&_0x5c3caf[_0x1aa7da(0xf3)]()[_0x1aa7da(0x102)](process[_0x1aa7da(0xe8)]);const _0x84cff1=async()=>{const _0x3d71b2=_0x1aa7da;let _0x153d6a=0x0;const _0x50b84b=_0x5c3caf['_workerPool']['getWorkers'](),_0x578832=()=>{},_0x5656da=_0x50b84b[_0x3d71b2(0x120)](async _0x46e1a9=>{const _0x456ec4=_0x3d71b2,_0x3079b3={'uzMqx':function(_0xa44adc,_0x41e03f){const _0x5056ea=a50_0x585f;return _0x5d6f5e[_0x5056ea(0x118)](_0xa44adc,_0x41e03f);},'kEcPG':function(_0xc00c41,_0x5bb6b9){const _0x3c79dd=a50_0x585f;return _0x5d6f5e[_0x3c79dd(0xf2)](_0xc00c41,_0x5bb6b9);}};_0x46e1a9['send']([0x2,![]],_0x578832,_0x578832,_0x578832),_0x46e1a9[_0x456ec4(0x108)]['on'](_0x5d6f5e[_0x456ec4(0x129)],_0xf88a69=>{const _0x1d1757=_0x456ec4;_0x3079b3[_0x1d1757(0x11c)](_0x153d6a,0x0)&&_0x3079b3[_0x1d1757(0x11b)](_0xf88a69,0x0)&&(_0x153d6a=_0xf88a69);}),await _0x46e1a9[_0x456ec4(0x103)]();});await Promise[_0x3d71b2(0xef)](_0x5656da),process[_0x3d71b2(0x13b)]=_0x153d6a;const {forceExited:_0x3e498b}=await _0x5c3caf[_0x3d71b2(0x10b)]();_0x3e498b&&console[_0x3d71b2(0xf8)](_0x5d6f5e[_0x3d71b2(0x12c)]),_0x5d6f5e['Qmvlz'](_0x2dbe93,_0x10b6b6);},_0x5ce948=_0x5d6f5e['Qmvlz'](pLimit,_0x470d2e),_0x4bda5c=_0x5cdf1a=>_0x5ce948(async()=>{const _0x48d03e=_0x1aa7da;return _0x5c3caf[_0x48d03e(0xec)](_0x5cdf1a);});Promise[_0x1aa7da(0xef)](_0xeb49d9[_0x1aa7da(0x120)](_0x577c0e=>_0x4bda5c(_0x577c0e)[_0x1aa7da(0x116)](_0x5f2393=>_0x171c5c[_0x1aa7da(0x117)]('test-file-success',[_0x577c0e[_0x1aa7da(0xeb)]['platform'],_0x577c0e[_0x1aa7da(0xeb)][_0x1aa7da(0x13a)]]),_0x1d1f48=>_0x171c5c[_0x1aa7da(0x117)](_0x1aa7da(0xde),[_0x577c0e,_0x1d1f48]))))['then'](_0x84cff1,_0x84cff1);});