const a46_0x226f7b=a46_0x470b;function a46_0x49de(){const _0x1ffc0a=['resolve','parallelCucumberRun','itmih','all','then','platform-run-start','end','mdcdC','test-file-failure','platform-run-failure','aDllF','platforms','NbYTu','vanillaWorker','Exception\x20in\x20adding\x20custom\x20message\x20channel\x20','393kivbRj','757151ooAVqu','324oyEihi','96170VLAOAZ','zMExg','7230797nimyQH','GKALj','parallelVanillaRun','aGxVp','_child','length','Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20','BTTJR','GgVcW','format','ujlur','util','error','1104873EahMqg','stderr','glsgE','getStderr','parallelTestRun','EcxBY','./testWorker.js','exitCode','winstonLogger','configuration','9OIhdPV','Workers\x20failed\x20to\x20exit\x20gracefully','JycNy','getStdout','test-file-success','platform-run-success','HctHh','zLeEh','nkQBJ','stdout','file','bupSZ','worker','ETNFM','map','json','NYHXY','EVENTS','140ACUGCL','../../helpers/test-observability/utils','\x20for','WcoTn','stop','cucumberWorker','UNSTABLE_onCustomMessage','pipe','info','JkCXH','18210OkKJLu','fcpPk','pTWYT','tYgsu','DMcuU','log','jest-worker','../../helpers/performance/constants','postMessage','cJVrt','SDK_SETUP','XhjIp','results','Running\x20','DAqVQ','prgwk','Worker','../../helpers/testhub/testhubHandler','rACKv','worker_threads','2400056mgPBRn','moBWH','emittery','_workerPool','VBBHy','debug','send','platform','../../helpers/logger','4399860ykyxsX','zbpoy','emit','getWorkers','OWuLJ'];a46_0x49de=function(){return _0x1ffc0a;};return a46_0x49de();}(function(_0x2e1bfc,_0x183f42){const _0x2b0aa8=a46_0x470b,_0x57134c=_0x2e1bfc();while(!![]){try{const _0x324874=-parseInt(_0x2b0aa8(0x14d))/0x1+-parseInt(_0x2b0aa8(0x11b))/0x2*(parseInt(_0x2b0aa8(0x14c))/0x3)+-parseInt(_0x2b0aa8(0x138))/0x4+parseInt(_0x2b0aa8(0x14f))/0x5*(parseInt(_0x2b0aa8(0x14e))/0x6)+parseInt(_0x2b0aa8(0x151))/0x7+parseInt(_0x2b0aa8(0x12f))/0x8*(parseInt(_0x2b0aa8(0x168))/0x9)+parseInt(_0x2b0aa8(0x111))/0xa*(parseInt(_0x2b0aa8(0x15e))/0xb);if(_0x324874===_0x183f42)break;else _0x57134c['push'](_0x57134c['shift']());}catch(_0x489af3){_0x57134c['push'](_0x57134c['shift']());}}}(a46_0x49de,0xb1b89));const Worker=require(a46_0x226f7b(0x121))[a46_0x226f7b(0x12b)],Emittery=require(a46_0x226f7b(0x131)),pLimit=require('p-limit'),{parentPort}=require(a46_0x226f7b(0x12e)),util=require(a46_0x226f7b(0x15c)),logger=require(a46_0x226f7b(0x137))[a46_0x226f7b(0x166)],PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a46_0x226f7b(0x122))[a46_0x226f7b(0x110)],{debug}=require(a46_0x226f7b(0x112)),TestHubHandler=require(a46_0x226f7b(0x12c));function a46_0x470b(_0x1fb954,_0x37be8f){const _0x49dec4=a46_0x49de();return a46_0x470b=function(_0x470b87,_0x2b3c6c){_0x470b87=_0x470b87-0x109;let _0x4d1180=_0x49dec4[_0x470b87];return _0x4d1180;},a46_0x470b(_0x1fb954,_0x37be8f);}exports[a46_0x226f7b(0x162)]=(_0x20a2bf,_0x456a77,_0x1a05a4)=>new Promise(async _0x2ffebb=>{const _0x25cfcb=a46_0x226f7b,_0x2ee749={'EcxBY':'failureCount','zbpoy':function(_0x3b457e,_0x8aa62d){return _0x3b457e+_0x8aa62d;},'VBBHy':_0x25cfcb(0x127),'bupSZ':_0x25cfcb(0x169),'itmih':function(_0x28f002,_0x270377){return _0x28f002(_0x270377);},'mdcdC':'test-file-start','UaAye':_0x25cfcb(0x164),'DAqVQ':_0x25cfcb(0x10b),'cJVrt':'json','GgVcW':_0x25cfcb(0x118),'aDllF':function(_0x211820,_0x5941e4){return _0x211820*_0x5941e4;},'GKALj':_0x25cfcb(0x16c),'nkQBJ':_0x25cfcb(0x145),'uRukm':function(_0x11a87c,_0x39c66c){return _0x11a87c(_0x39c66c);},'fcpPk':function(_0x3c9546,_0x3ca338){return _0x3c9546*_0x3ca338;}},_0x46c9b5=_0x1a05a4['config'],_0x4e296d={},_0x509420=new Worker(require[_0x25cfcb(0x13d)](_0x2ee749['UaAye']),{'exposedMethods':[_0x2ee749[_0x25cfcb(0x129)]],'forkOptions':{'serialization':_0x2ee749[_0x25cfcb(0x124)],'stdio':_0x2ee749[_0x25cfcb(0x159)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x2ee749[_0x25cfcb(0x147)](_0x456a77,0x1),'enableWorkerThreads':!![]}),_0x44c625=new Emittery();_0x44c625['on'](_0x2ee749[_0x25cfcb(0x152)],_0x925a91=>{const _0x35627e=_0x25cfcb;_0x4e296d[_0x925a91[0x0]]?(_0x4e296d[_0x925a91[0x0]][_0x2ee749[_0x35627e(0x163)]]=_0x2ee749[_0x35627e(0x139)](_0x4e296d[_0x925a91[0x0]][_0x2ee749['EcxBY']],_0x925a91[0x1][_0x2ee749[_0x35627e(0x163)]]),_0x4e296d[_0x925a91[0x0]][_0x2ee749[_0x35627e(0x133)]]=[..._0x4e296d[_0x925a91[0x0]][_0x2ee749[_0x35627e(0x133)]],..._0x925a91[0x1][_0x2ee749[_0x35627e(0x133)]]]):_0x4e296d[_0x925a91[0x0]]={'failureCount':_0x925a91[0x1][_0x2ee749[_0x35627e(0x163)]],'results':[..._0x925a91[0x1][_0x2ee749['VBBHy']]]};}),_0x44c625['on'](_0x2ee749[_0x25cfcb(0x170)],_0x55d700=>console[_0x25cfcb(0x120)](_0x55d700[0x1]));_0x509420['getStdout']()&&_0x509420['getStdout']()['pipe'](process['stdout']);_0x509420['getStderr']()&&_0x509420[_0x25cfcb(0x161)]()[_0x25cfcb(0x118)](process[_0x25cfcb(0x15f)]);const _0x1f730e=async()=>{const _0x1ed6c4=_0x25cfcb,{forceExited:_0x1ee5ce}=await _0x509420['end']();_0x1ee5ce&&console[_0x1ed6c4(0x15d)](_0x2ee749[_0x1ed6c4(0x10a)]);try{await TestHubHandler[_0x1ed6c4(0x115)]();}catch(_0xb22be2){_0x2ee749[_0x1ed6c4(0x13f)](debug,_0x1ed6c4(0x157)+_0xb22be2);}_0x2ee749['itmih'](_0x2ffebb,_0x4e296d);},_0x15fefb=_0x2ee749['uRukm'](pLimit,_0x2ee749[_0x25cfcb(0x11c)](_0x456a77,0x1)),_0x3fb2f8=_0x1ae08a=>_0x15fefb(async()=>{const _0x4844ca=_0x25cfcb;await _0x44c625[_0x4844ca(0x13a)](_0x2ee749[_0x4844ca(0x144)],_0x1ae08a);const _0x372627=_0x509420['worker'](_0x1ae08a,_0x46c9b5);try{parentPort&&_0x372627[_0x4844ca(0x117)](_0x11c4e7=>{const _0x41bc55=_0x4844ca;try{parentPort[_0x41bc55(0x123)](_0x11c4e7);}catch(_0x13a0da){logger[_0x41bc55(0x134)]('Exception\x20in\x20sending\x20worker\x20message\x20'+util[_0x41bc55(0x15a)](_0x13a0da));}});}catch(_0x57bce8){logger[_0x4844ca(0x134)](_0x4844ca(0x14b)+util[_0x4844ca(0x15a)](_0x57bce8));}return _0x372627;});PerformanceTester[_0x25cfcb(0x143)](PerformanceEvents[_0x25cfcb(0x125)]),Promise[_0x25cfcb(0x140)](_0x20a2bf[_0x25cfcb(0x10d)](_0xbb5829=>_0x3fb2f8(_0xbb5829)['then'](_0x4c9790=>_0x44c625[_0x25cfcb(0x13a)]('test-file-success',[_0xbb5829[_0x25cfcb(0x167)]['platform'],_0x4c9790]),_0x4c7341=>_0x44c625[_0x25cfcb(0x13a)](_0x25cfcb(0x145),[_0xbb5829,_0x4c7341]))))[_0x25cfcb(0x141)](_0x1f730e,_0x1f730e);}),exports[a46_0x226f7b(0x13e)]=(_0x38cf75,_0x328ab0,_0x543e31,_0x42a513,_0x36a4bf)=>{const _0x4ada9a=a46_0x226f7b,_0x585188={'aGxVp':'Workers\x20failed\x20to\x20exit\x20gracefully','rACKv':function(_0x32741b,_0x2a5b83){return _0x32741b(_0x2a5b83);},'JycNy':_0x4ada9a(0x142),'OWuLJ':_0x4ada9a(0x164),'zLeEh':_0x4ada9a(0x116),'moBWH':_0x4ada9a(0x10e),'WcoTn':_0x4ada9a(0x118),'yyCiq':_0x4ada9a(0x16d),'JHvDP':'platform-run-failure','prgwk':function(_0x20ff1f,_0x294a8){return _0x20ff1f(_0x294a8);}};return new Promise(_0x434e19=>{const _0x48a4e0=_0x4ada9a,_0x2eef22={'BTTJR':_0x585188[_0x48a4e0(0x154)],'yTlgm':function(_0x4db7d2,_0x55db8c){const _0x5ae439=_0x48a4e0;return _0x585188[_0x5ae439(0x12d)](_0x4db7d2,_0x55db8c);},'HctHh':_0x585188[_0x48a4e0(0x16a)]},_0x663d3a=[],_0x19c890=new Worker(require[_0x48a4e0(0x13d)](_0x585188[_0x48a4e0(0x13c)]),{'exposedMethods':[_0x585188[_0x48a4e0(0x16f)]],'forkOptions':{'serialization':_0x585188[_0x48a4e0(0x130)],'stdio':_0x585188[_0x48a4e0(0x114)]},'numWorkers':_0x38cf75[_0x48a4e0(0x156)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x32e227=new Emittery();_0x32e227['on'](_0x585188['yyCiq'],_0x57a89e=>{_0x663d3a['push']([_0x57a89e[0x0],_0x57a89e[0x1]]);}),_0x32e227['on'](_0x585188['JHvDP'],_0x50d0d3=>console[_0x48a4e0(0x120)](_0x50d0d3[0x1]));_0x19c890[_0x48a4e0(0x16b)]()&&_0x19c890[_0x48a4e0(0x16b)]()[_0x48a4e0(0x118)](process['stdout']);_0x19c890[_0x48a4e0(0x161)]()&&_0x19c890['getStderr']()[_0x48a4e0(0x118)](process[_0x48a4e0(0x15f)]);const _0x215958=async()=>{const _0x2b23ea=_0x48a4e0,{forceExited:_0x1a2061}=await _0x19c890[_0x2b23ea(0x143)]();_0x1a2061&&console['error'](_0x2eef22[_0x2b23ea(0x158)]),_0x2eef22['yTlgm'](_0x434e19,_0x663d3a);},_0x2efb2d=_0x585188[_0x48a4e0(0x12a)](pLimit,_0x38cf75['length']||0x1),_0x4000e8=(_0x39ee43,_0x47b172)=>_0x2efb2d(async()=>{const _0x5bbf22=_0x48a4e0;return await _0x32e227[_0x5bbf22(0x13a)](_0x2eef22[_0x5bbf22(0x16e)],_0x39ee43),_0x328ab0['platformCaps']=_0x543e31[_0x5bbf22(0x148)][_0x47b172],_0x19c890[_0x5bbf22(0x116)](_0x39ee43,_0x328ab0,_0x543e31,_0x42a513,_0x36a4bf);});Promise[_0x48a4e0(0x140)](_0x38cf75[_0x48a4e0(0x10d)]((_0x279199,_0x3841bb)=>_0x4000e8(_0x279199,_0x3841bb)[_0x48a4e0(0x141)](_0x2f8543=>_0x32e227[_0x48a4e0(0x13a)](_0x48a4e0(0x16d),[_0x279199,_0x2f8543]),_0x492a78=>_0x32e227[_0x48a4e0(0x13a)](_0x48a4e0(0x146),[_0x279199,_0x492a78]))))[_0x48a4e0(0x141)](_0x215958,_0x215958);});},exports[a46_0x226f7b(0x153)]=(_0xf6069c,_0x36a2b9)=>new Promise(_0x54d012=>{const _0x46c00e=a46_0x226f7b,_0x457aee={'DMcuU':function(_0x29e1c5,_0x199075){return _0x29e1c5===_0x199075;},'tYgsu':function(_0x164ecd,_0x5b929d){return _0x164ecd!==_0x5b929d;},'gGAAJ':'exit','ujlur':'Workers\x20failed\x20to\x20exit\x20gracefully','XhjIp':function(_0x44ff79,_0x2eb3d2){return _0x44ff79(_0x2eb3d2);},'ETNFM':_0x46c00e(0x164),'JkCXH':_0x46c00e(0x14a),'pTWYT':_0x46c00e(0x10e),'sPbfQ':_0x46c00e(0x118),'NgbNY':_0x46c00e(0x16c),'glsgE':_0x46c00e(0x145),'BoNFn':function(_0x28521a,_0x30004a){return _0x28521a(_0x30004a);}},_0x32cacf={},_0x20aeb6=new Worker(require[_0x46c00e(0x13d)](_0x457aee[_0x46c00e(0x10c)]),{'exposedMethods':[_0x457aee[_0x46c00e(0x11a)]],'forkOptions':{'serialization':_0x457aee[_0x46c00e(0x11d)],'stdio':_0x457aee['sPbfQ']},'numWorkers':_0x36a2b9,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x5f2c5a=new Emittery();_0x5f2c5a['on'](_0x457aee['NgbNY'],_0x24a2c7=>{const _0x24e1b6=_0x46c00e;_0x24a2c7[0x0]&&logger[_0x24e1b6(0x119)](_0x24e1b6(0x128)+_0x24a2c7[0x1]+_0x24e1b6(0x113),_0x24a2c7[0x0]);}),_0x5f2c5a['on'](_0x457aee[_0x46c00e(0x160)],_0x4875be=>{process['exitCode']=0x1;});_0x20aeb6[_0x46c00e(0x16b)]()&&_0x20aeb6['getStdout']()[_0x46c00e(0x118)](process[_0x46c00e(0x171)]);_0x20aeb6[_0x46c00e(0x161)]()&&_0x20aeb6['getStderr']()[_0x46c00e(0x118)](process[_0x46c00e(0x15f)]);const _0x48c5c7=async()=>{const _0x4f07a3=_0x46c00e,_0x56e134={'zMExg':function(_0x2052d1,_0x1566a0){const _0x1aaad6=a46_0x470b;return _0x457aee[_0x1aaad6(0x11f)](_0x2052d1,_0x1566a0);},'NYHXY':function(_0xeb3e96,_0x3eea50){const _0x5ba51a=a46_0x470b;return _0x457aee[_0x5ba51a(0x11e)](_0xeb3e96,_0x3eea50);},'NbYTu':_0x457aee['gGAAJ']};let _0x2b2eef=0x0;const _0x1a1bc9=_0x20aeb6[_0x4f07a3(0x132)][_0x4f07a3(0x13b)](),_0x41b10b=()=>{},_0x5551d9=_0x1a1bc9[_0x4f07a3(0x10d)](async _0x461ed5=>{const _0x21f5d8=_0x4f07a3;_0x461ed5[_0x21f5d8(0x135)]([0x2,![]],_0x41b10b,_0x41b10b,_0x41b10b),_0x461ed5[_0x21f5d8(0x155)]['on'](_0x56e134[_0x21f5d8(0x149)],_0x1a4c39=>{const _0x58d220=_0x21f5d8;_0x56e134[_0x58d220(0x150)](_0x2b2eef,0x0)&&_0x56e134[_0x58d220(0x10f)](_0x1a4c39,0x0)&&(_0x2b2eef=_0x1a4c39);}),await _0x461ed5['waitForExit']();});await Promise[_0x4f07a3(0x140)](_0x5551d9),process[_0x4f07a3(0x165)]=_0x2b2eef;const {forceExited:_0x37be5b}=await _0x20aeb6[_0x4f07a3(0x143)]();_0x37be5b&&console[_0x4f07a3(0x15d)](_0x457aee[_0x4f07a3(0x15b)]),_0x457aee[_0x4f07a3(0x126)](_0x54d012,_0x32cacf);},_0x1fd7c3=_0x457aee['BoNFn'](pLimit,_0x36a2b9),_0x580615=_0x11c56b=>_0x1fd7c3(async()=>{return _0x20aeb6['vanillaWorker'](_0x11c56b);});Promise[_0x46c00e(0x140)](_0xf6069c[_0x46c00e(0x10d)](_0x3f5ee6=>_0x580615(_0x3f5ee6)[_0x46c00e(0x141)](_0x62ed14=>_0x5f2c5a[_0x46c00e(0x13a)](_0x46c00e(0x16c),[_0x3f5ee6['configuration'][_0x46c00e(0x136)],_0x3f5ee6[_0x46c00e(0x167)][_0x46c00e(0x109)]]),_0x5c5297=>_0x5f2c5a['emit']('test-file-failure',[_0x3f5ee6,_0x5c5297]))))[_0x46c00e(0x141)](_0x48c5c7,_0x48c5c7);});