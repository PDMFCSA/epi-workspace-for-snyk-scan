const a50_0x39c8ff=a50_0x1d2b;(function(_0x5ba605,_0x5c7a57){const _0x2e60b2=a50_0x1d2b,_0xc55061=_0x5ba605();while(!![]){try{const _0x389a72=parseInt(_0x2e60b2(0x12d))/0x1*(-parseInt(_0x2e60b2(0x132))/0x2)+-parseInt(_0x2e60b2(0x131))/0x3+-parseInt(_0x2e60b2(0x16b))/0x4+-parseInt(_0x2e60b2(0x13b))/0x5*(parseInt(_0x2e60b2(0x152))/0x6)+parseInt(_0x2e60b2(0x164))/0x7+parseInt(_0x2e60b2(0x149))/0x8*(-parseInt(_0x2e60b2(0x137))/0x9)+-parseInt(_0x2e60b2(0x13c))/0xa*(-parseInt(_0x2e60b2(0x15b))/0xb);if(_0x389a72===_0x5c7a57)break;else _0xc55061['push'](_0xc55061['shift']());}catch(_0x4bec1c){_0xc55061['push'](_0xc55061['shift']());}}}(a50_0x3d8f,0xb6fa8));const Worker=require(a50_0x39c8ff(0x147))[a50_0x39c8ff(0x158)],Emittery=require(a50_0x39c8ff(0x151)),pLimit=require(a50_0x39c8ff(0x143)),{parentPort}=require(a50_0x39c8ff(0x16c)),util=require('util'),logger=require(a50_0x39c8ff(0x169))[a50_0x39c8ff(0x16d)],PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require('../../helpers/performance/constants')[a50_0x39c8ff(0x15a)],{debug}=require(a50_0x39c8ff(0x128)),TestHubHandler=require(a50_0x39c8ff(0x14e));exports[a50_0x39c8ff(0x153)]=(_0x868cd4,_0x331023,_0x1bf54a)=>new Promise(async _0x472241=>{const _0x5b0f48=a50_0x39c8ff,_0x765f20={'oPfBs':'failureCount','manoR':function(_0x137483,_0x52ee33){return _0x137483+_0x52ee33;},'qrVHs':_0x5b0f48(0x11b),'KqiCC':_0x5b0f48(0x123),'fLnCw':function(_0x33c765,_0x455754){return _0x33c765(_0x455754);},'LTjqv':function(_0x4f2e60,_0x500a70){return _0x4f2e60(_0x500a70);},'cyZBY':_0x5b0f48(0x157),'UKEre':_0x5b0f48(0x118),'ennmN':_0x5b0f48(0x146),'MMGYP':'json','Kwbhx':'pipe','CoHDe':function(_0x2a3d5a,_0x2b0d08){return _0x2a3d5a*_0x2b0d08;},'KNNjO':'test-file-success','MWQcT':'test-file-failure','uhELs':function(_0x43c8f5,_0x2b0072){return _0x43c8f5(_0x2b0072);},'hFVne':function(_0x84f733,_0xfa8283){return _0x84f733*_0xfa8283;}},_0xbd6d80=_0x1bf54a[_0x5b0f48(0x14b)],_0x5820a8={},_0xf42fb5=new Worker(require['resolve'](_0x765f20['UKEre']),{'exposedMethods':[_0x765f20[_0x5b0f48(0x12e)]],'forkOptions':{'serialization':_0x765f20[_0x5b0f48(0x16e)],'stdio':_0x765f20[_0x5b0f48(0x141)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x765f20[_0x5b0f48(0x170)](_0x331023,0x1),'enableWorkerThreads':!![]}),_0x5f4f80=new Emittery();_0x5f4f80['on'](_0x765f20[_0x5b0f48(0x12a)],_0x24f03a=>{const _0xa5bbb3=_0x5b0f48;_0x5820a8[_0x24f03a[0x0]]?(_0x5820a8[_0x24f03a[0x0]][_0x765f20[_0xa5bbb3(0x13e)]]=_0x765f20[_0xa5bbb3(0x179)](_0x5820a8[_0x24f03a[0x0]][_0x765f20[_0xa5bbb3(0x13e)]],_0x24f03a[0x1][_0x765f20[_0xa5bbb3(0x13e)]]),_0x5820a8[_0x24f03a[0x0]][_0x765f20[_0xa5bbb3(0x15c)]]=[..._0x5820a8[_0x24f03a[0x0]][_0x765f20['qrVHs']],..._0x24f03a[0x1][_0x765f20[_0xa5bbb3(0x15c)]]]):_0x5820a8[_0x24f03a[0x0]]={'failureCount':_0x24f03a[0x1][_0x765f20[_0xa5bbb3(0x13e)]],'results':[..._0x24f03a[0x1][_0x765f20['qrVHs']]]};}),_0x5f4f80['on'](_0x765f20['MWQcT'],_0x18d227=>console['log'](_0x18d227[0x1]));_0xf42fb5[_0x5b0f48(0x162)]()&&_0xf42fb5[_0x5b0f48(0x162)]()['pipe'](process[_0x5b0f48(0x144)]);_0xf42fb5[_0x5b0f48(0x172)]()&&_0xf42fb5['getStderr']()['pipe'](process[_0x5b0f48(0x14d)]);const _0x4c5786=async()=>{const _0x202c5c=_0x5b0f48,{forceExited:_0x445092}=await _0xf42fb5[_0x202c5c(0x160)]();_0x445092&&console[_0x202c5c(0x133)](_0x765f20[_0x202c5c(0x156)]);try{await TestHubHandler[_0x202c5c(0x138)]();}catch(_0x565a17){_0x765f20['fLnCw'](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20'+_0x565a17);}_0x765f20[_0x202c5c(0x171)](_0x472241,_0x5820a8);},_0xaefc5=_0x765f20[_0x5b0f48(0x122)](pLimit,_0x765f20[_0x5b0f48(0x142)](_0x331023,0x1)),_0x30fcbc=_0x371cd4=>_0xaefc5(async()=>{const _0x3a4f30=_0x5b0f48;await _0x5f4f80[_0x3a4f30(0x15e)](_0x765f20[_0x3a4f30(0x120)],_0x371cd4);const _0x3a8f4d=_0xf42fb5[_0x3a4f30(0x146)](_0x371cd4,_0xbd6d80);try{parentPort&&_0x3a8f4d[_0x3a4f30(0x15d)](_0x2b9ffd=>{const _0x1ee3cd=_0x3a4f30;try{parentPort[_0x1ee3cd(0x161)](_0x2b9ffd);}catch(_0x22a6ed){logger[_0x1ee3cd(0x176)](_0x1ee3cd(0x12c)+util[_0x1ee3cd(0x175)](_0x22a6ed));}});}catch(_0x19b81b){logger['debug']('Exception\x20in\x20adding\x20custom\x20message\x20channel\x20'+util[_0x3a4f30(0x175)](_0x19b81b));}return _0x3a8f4d;});PerformanceTester[_0x5b0f48(0x160)](PerformanceEvents['SDK_SETUP']),Promise['all'](_0x868cd4[_0x5b0f48(0x11c)](_0x1f88fc=>_0x30fcbc(_0x1f88fc)['then'](_0x7a591b=>_0x5f4f80[_0x5b0f48(0x15e)](_0x5b0f48(0x125),[_0x1f88fc[_0x5b0f48(0x130)]['platform'],_0x7a591b]),_0x452334=>_0x5f4f80[_0x5b0f48(0x15e)](_0x5b0f48(0x124),[_0x1f88fc,_0x452334]))))[_0x5b0f48(0x11d)](_0x4c5786,_0x4c5786);}),exports[a50_0x39c8ff(0x13f)]=(_0x2348f3,_0x52b706,_0x1656da,_0x237403,_0x5852d8)=>{const _0x43d4ad=a50_0x39c8ff,_0x24e47f={'UvPTz':_0x43d4ad(0x14c),'kURhF':_0x43d4ad(0x123),'Qgblo':function(_0xf5e432,_0x256643){return _0xf5e432(_0x256643);},'OHddt':_0x43d4ad(0x118),'dfDeP':_0x43d4ad(0x167),'lWNNo':'json','KfQui':_0x43d4ad(0x13a),'Zxvkj':_0x43d4ad(0x126),'cpSbP':_0x43d4ad(0x163),'Pemky':function(_0x54f8dc,_0x18fd9e){return _0x54f8dc(_0x18fd9e);}};return new Promise(_0x4fb2a7=>{const _0x2195f0=_0x43d4ad,_0x3855a0={'sHTJF':_0x24e47f[_0x2195f0(0x155)],'DhIhm':function(_0xb73774,_0x23a8ef){const _0x57947f=_0x2195f0;return _0x24e47f[_0x57947f(0x159)](_0xb73774,_0x23a8ef);}},_0x562e88=[],_0x541766=new Worker(require[_0x2195f0(0x129)](_0x24e47f[_0x2195f0(0x168)]),{'exposedMethods':[_0x24e47f['dfDeP']],'forkOptions':{'serialization':_0x24e47f[_0x2195f0(0x121)],'stdio':_0x24e47f[_0x2195f0(0x14a)]},'numWorkers':_0x2348f3[_0x2195f0(0x11a)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x1c01ea=new Emittery();_0x1c01ea['on'](_0x24e47f[_0x2195f0(0x145)],_0x3157dd=>{const _0x5e9595=_0x2195f0;_0x562e88[_0x5e9595(0x166)]([_0x3157dd[0x0],_0x3157dd[0x1]]);}),_0x1c01ea['on'](_0x24e47f['cpSbP'],_0x2ad369=>console[_0x2195f0(0x135)](_0x2ad369[0x1]));_0x541766[_0x2195f0(0x162)]()&&_0x541766['getStdout']()['pipe'](process[_0x2195f0(0x144)]);_0x541766[_0x2195f0(0x172)]()&&_0x541766[_0x2195f0(0x172)]()[_0x2195f0(0x13a)](process['stderr']);const _0x86ecc4=async()=>{const _0x52f7d1=_0x2195f0,{forceExited:_0x7d8ca3}=await _0x541766[_0x52f7d1(0x160)]();_0x7d8ca3&&console[_0x52f7d1(0x133)](_0x3855a0[_0x52f7d1(0x150)]),_0x3855a0[_0x52f7d1(0x11f)](_0x4fb2a7,_0x562e88);},_0x208fb6=_0x24e47f['Pemky'](pLimit,_0x2348f3[_0x2195f0(0x11a)]||0x1),_0x4655f4=(_0x2a53c4,_0x3b6397)=>_0x208fb6(async()=>{const _0x46309b=_0x2195f0;return await _0x1c01ea[_0x46309b(0x15e)](_0x24e47f['UvPTz'],_0x2a53c4),_0x52b706['platformCaps']=_0x1656da[_0x46309b(0x127)][_0x3b6397],_0x541766['cucumberWorker'](_0x2a53c4,_0x52b706,_0x1656da,_0x237403,_0x5852d8);});Promise['all'](_0x2348f3[_0x2195f0(0x11c)]((_0x4e29d9,_0x866978)=>_0x4655f4(_0x4e29d9,_0x866978)[_0x2195f0(0x11d)](_0xf66941=>_0x1c01ea['emit']('platform-run-success',[_0x4e29d9,_0xf66941]),_0x2c9fe4=>_0x1c01ea[_0x2195f0(0x15e)](_0x2195f0(0x163),[_0x4e29d9,_0x2c9fe4]))))[_0x2195f0(0x11d)](_0x86ecc4,_0x86ecc4);});},exports['parallelVanillaRun']=(_0x179ff5,_0x3c5922)=>new Promise(_0x12b2ec=>{const _0x5d9ffd=a50_0x39c8ff,_0x8875de={'YdvGQ':function(_0x1672b0,_0x134bc5){return _0x1672b0===_0x134bc5;},'TLxIq':function(_0x4208e9,_0x6e6f23){return _0x4208e9!==_0x6e6f23;},'YsbqV':_0x5d9ffd(0x136),'sIIfH':_0x5d9ffd(0x123),'xPUvE':function(_0x4e6899,_0x1d33e3){return _0x4e6899(_0x1d33e3);},'sRGwq':_0x5d9ffd(0x118),'qhlYY':'vanillaWorker','DcHxc':'json','LADRx':_0x5d9ffd(0x13a),'AOiNt':_0x5d9ffd(0x125),'UHucl':'test-file-failure','FKcxt':function(_0x5ac75d,_0x148f88){return _0x5ac75d(_0x148f88);}},_0x18303c={},_0x5e2b40=new Worker(require[_0x5d9ffd(0x129)](_0x8875de[_0x5d9ffd(0x16a)]),{'exposedMethods':[_0x8875de[_0x5d9ffd(0x116)]],'forkOptions':{'serialization':_0x8875de[_0x5d9ffd(0x173)],'stdio':_0x8875de[_0x5d9ffd(0x139)]},'numWorkers':_0x3c5922,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x4e2236=new Emittery();_0x4e2236['on'](_0x8875de['AOiNt'],_0x31db5=>{const _0x2ea035=_0x5d9ffd;_0x31db5[0x0]&&logger['info'](_0x2ea035(0x165)+_0x31db5[0x1]+'\x20for',_0x31db5[0x0]);}),_0x4e2236['on'](_0x8875de[_0x5d9ffd(0x119)],_0x11ff77=>{const _0xd0ff08=_0x5d9ffd;process[_0xd0ff08(0x154)]=0x1;});_0x5e2b40[_0x5d9ffd(0x162)]()&&_0x5e2b40['getStdout']()[_0x5d9ffd(0x13a)](process['stdout']);_0x5e2b40[_0x5d9ffd(0x172)]()&&_0x5e2b40['getStderr']()[_0x5d9ffd(0x13a)](process['stderr']);const _0x477d75=async()=>{const _0xac2716=_0x5d9ffd,_0x13e11a={'SoqEV':function(_0x2764b3,_0x1c6a75){const _0x43e7b6=a50_0x1d2b;return _0x8875de[_0x43e7b6(0x178)](_0x2764b3,_0x1c6a75);},'LUmLk':function(_0x1cbe54,_0x542191){const _0x187fff=a50_0x1d2b;return _0x8875de[_0x187fff(0x134)](_0x1cbe54,_0x542191);},'mzYxp':_0x8875de[_0xac2716(0x12f)]};let _0x347adb=0x0;const _0x268a02=_0x5e2b40[_0xac2716(0x11e)]['getWorkers'](),_0x210fc6=()=>{},_0xe73168=_0x268a02['map'](async _0x4d034c=>{const _0xed8d04=_0xac2716,_0x52afb5={'KydfQ':function(_0x4aca7b,_0x57dd03){const _0x1dec08=a50_0x1d2b;return _0x13e11a[_0x1dec08(0x12b)](_0x4aca7b,_0x57dd03);},'fRxUU':function(_0x290fa8,_0x166205){const _0x899922=a50_0x1d2b;return _0x13e11a[_0x899922(0x15f)](_0x290fa8,_0x166205);}};_0x4d034c['send']([0x2,![]],_0x210fc6,_0x210fc6,_0x210fc6),_0x4d034c[_0xed8d04(0x14f)]['on'](_0x13e11a[_0xed8d04(0x177)],_0x27ffb5=>{const _0x2e278f=_0xed8d04;_0x52afb5[_0x2e278f(0x140)](_0x347adb,0x0)&&_0x52afb5[_0x2e278f(0x13d)](_0x27ffb5,0x0)&&(_0x347adb=_0x27ffb5);}),await _0x4d034c['waitForExit']();});await Promise['all'](_0xe73168),process['exitCode']=_0x347adb;const {forceExited:_0x30d21d}=await _0x5e2b40[_0xac2716(0x160)]();_0x30d21d&&console[_0xac2716(0x133)](_0x8875de[_0xac2716(0x148)]),_0x8875de['xPUvE'](_0x12b2ec,_0x18303c);},_0x1cf0ca=_0x8875de[_0x5d9ffd(0x117)](pLimit,_0x3c5922),_0x4fbf94=_0xffb4a7=>_0x1cf0ca(async()=>{const _0x4256f0=_0x5d9ffd;return _0x5e2b40[_0x4256f0(0x16f)](_0xffb4a7);});Promise[_0x5d9ffd(0x174)](_0x179ff5[_0x5d9ffd(0x11c)](_0x45dcd7=>_0x4fbf94(_0x45dcd7)[_0x5d9ffd(0x11d)](_0x5cbf7f=>_0x4e2236[_0x5d9ffd(0x15e)](_0x5d9ffd(0x125),[_0x45dcd7['configuration']['platform'],_0x45dcd7[_0x5d9ffd(0x130)]['file']]),_0x43f99c=>_0x4e2236[_0x5d9ffd(0x15e)]('test-file-failure',[_0x45dcd7,_0x43f99c]))))['then'](_0x477d75,_0x477d75);});function a50_0x1d2b(_0x3f9cd7,_0x542a48){const _0x3d8f7b=a50_0x3d8f();return a50_0x1d2b=function(_0x1d2b7a,_0x2c7561){_0x1d2b7a=_0x1d2b7a-0x116;let _0x41950a=_0x3d8f7b[_0x1d2b7a];return _0x41950a;},a50_0x1d2b(_0x3f9cd7,_0x542a48);}function a50_0x3d8f(){const _0x547a54=['cucumberWorker','OHddt','../../helpers/logger','sRGwq','833372CfTJkj','worker_threads','winstonLogger','MMGYP','vanillaWorker','CoHDe','LTjqv','getStderr','DcHxc','all','format','debug','mzYxp','YdvGQ','manoR','qhlYY','FKcxt','./testWorker.js','UHucl','length','results','map','then','_workerPool','DhIhm','cyZBY','lWNNo','uhELs','Workers\x20failed\x20to\x20exit\x20gracefully','test-file-failure','test-file-success','platform-run-success','platforms','../../helpers/test-observability/utils','resolve','KNNjO','SoqEV','Exception\x20in\x20sending\x20worker\x20message\x20','1QhJBMb','ennmN','YsbqV','configuration','2439804UsmExd','527124NcSSsy','error','TLxIq','log','exit','9aYsxGP','stop','LADRx','pipe','505hZsJiU','420310VmYGOz','fRxUU','oPfBs','parallelCucumberRun','KydfQ','Kwbhx','hFVne','p-limit','stdout','Zxvkj','worker','jest-worker','sIIfH','6622984MiGnwr','KfQui','config','platform-run-start','stderr','../../helpers/testhub/testhubHandler','_child','sHTJF','emittery','54408JRMfHU','parallelTestRun','exitCode','kURhF','KqiCC','test-file-start','Worker','Qgblo','EVENTS','814pVNfWr','qrVHs','UNSTABLE_onCustomMessage','emit','LUmLk','end','postMessage','getStdout','platform-run-failure','4676700gkaUYN','Running\x20','push'];a50_0x3d8f=function(){return _0x547a54;};return a50_0x3d8f();}