const a49_0x2fe66c=a49_0x1377;function a49_0x1377(_0x557e9b,_0x363428){const _0x1cbc22=a49_0x1cbc();return a49_0x1377=function(_0x1377df,_0x883d5c){_0x1377df=_0x1377df-0x1c3;let _0x449141=_0x1cbc22[_0x1377df];return _0x449141;},a49_0x1377(_0x557e9b,_0x363428);}(function(_0x4d6a9d,_0x2e26a8){const _0x3e7aa2=a49_0x1377,_0x55566c=_0x4d6a9d();while(!![]){try{const _0x52f02b=parseInt(_0x3e7aa2(0x213))/0x1*(parseInt(_0x3e7aa2(0x1c9))/0x2)+-parseInt(_0x3e7aa2(0x200))/0x3+parseInt(_0x3e7aa2(0x20c))/0x4+-parseInt(_0x3e7aa2(0x1f6))/0x5+-parseInt(_0x3e7aa2(0x1fc))/0x6*(-parseInt(_0x3e7aa2(0x1f9))/0x7)+-parseInt(_0x3e7aa2(0x1fa))/0x8*(-parseInt(_0x3e7aa2(0x1e8))/0x9)+-parseInt(_0x3e7aa2(0x1d4))/0xa;if(_0x52f02b===_0x2e26a8)break;else _0x55566c['push'](_0x55566c['shift']());}catch(_0x2c5072){_0x55566c['push'](_0x55566c['shift']());}}}(a49_0x1cbc,0xef421));const Worker=require('jest-worker')[a49_0x2fe66c(0x1fb)],Emittery=require('emittery'),pLimit=require(a49_0x2fe66c(0x203)),{parentPort}=require(a49_0x2fe66c(0x1e3)),util=require('util'),logger=require(a49_0x2fe66c(0x21f))[a49_0x2fe66c(0x202)],PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require('../../helpers/performance/constants')[a49_0x2fe66c(0x1c4)],{debug}=require(a49_0x2fe66c(0x204)),TestHubHandler=require('../../helpers/testhub/testhubHandler');exports[a49_0x2fe66c(0x216)]=(_0xd7300e,_0x58a1e7,_0x145a6a)=>new Promise(async _0x3542c7=>{const _0x47833c=a49_0x2fe66c,_0x4f14f1={'vaYpV':'failureCount','gzVUf':function(_0x382718,_0x190b09){return _0x382718+_0x190b09;},'uzSFb':_0x47833c(0x1dd),'ZSPLu':_0x47833c(0x1cb),'irNTO':function(_0x3d7dbf,_0x324099){return _0x3d7dbf(_0x324099);},'cWWLQ':function(_0x2567d6,_0x17ce25){return _0x2567d6(_0x17ce25);},'mTPSQ':_0x47833c(0x1c3),'mSsTd':_0x47833c(0x1ea),'duaAx':_0x47833c(0x1ef),'OnAOp':'json','uoJlY':_0x47833c(0x1df),'jNKJb':function(_0x1c690f,_0x1a46e3){return _0x1c690f*_0x1a46e3;},'FpMWX':_0x47833c(0x206),'UHlzP':'test-file-failure'},_0x47dc6e=_0x145a6a[_0x47833c(0x209)],_0x17d851={},_0x20f63c=new Worker(require[_0x47833c(0x1ec)](_0x4f14f1[_0x47833c(0x1f0)]),{'exposedMethods':[_0x4f14f1[_0x47833c(0x215)]],'forkOptions':{'serialization':_0x4f14f1[_0x47833c(0x1f3)],'stdio':_0x4f14f1[_0x47833c(0x21e)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x4f14f1[_0x47833c(0x1e9)](_0x58a1e7,0x1),'enableWorkerThreads':!![]}),_0x332859=new Emittery();_0x332859['on'](_0x4f14f1[_0x47833c(0x21d)],_0x98027c=>{const _0x2ec7ab=_0x47833c;_0x17d851[_0x98027c[0x0]]?(_0x17d851[_0x98027c[0x0]][_0x4f14f1[_0x2ec7ab(0x219)]]=_0x4f14f1[_0x2ec7ab(0x205)](_0x17d851[_0x98027c[0x0]][_0x4f14f1['vaYpV']],_0x98027c[0x1][_0x4f14f1['vaYpV']]),_0x17d851[_0x98027c[0x0]][_0x4f14f1[_0x2ec7ab(0x1ed)]]=[..._0x17d851[_0x98027c[0x0]][_0x4f14f1['uzSFb']],..._0x98027c[0x1][_0x4f14f1[_0x2ec7ab(0x1ed)]]]):_0x17d851[_0x98027c[0x0]]={'failureCount':_0x98027c[0x1][_0x4f14f1[_0x2ec7ab(0x219)]],'results':[..._0x98027c[0x1][_0x4f14f1[_0x2ec7ab(0x1ed)]]]};}),_0x332859['on'](_0x4f14f1[_0x47833c(0x1da)],_0x201886=>console[_0x47833c(0x1f1)](_0x201886[0x1]));_0x20f63c[_0x47833c(0x1ca)]()&&_0x20f63c['getStdout']()['pipe'](process[_0x47833c(0x1ff)]);_0x20f63c[_0x47833c(0x1d9)]()&&_0x20f63c[_0x47833c(0x1d9)]()[_0x47833c(0x1df)](process[_0x47833c(0x20d)]);const _0x4f9819=async()=>{const _0x2636a9=_0x47833c,{forceExited:_0x5512b5}=await _0x20f63c[_0x2636a9(0x207)]();_0x5512b5&&console[_0x2636a9(0x1e0)](_0x4f14f1['ZSPLu']);try{await TestHubHandler[_0x2636a9(0x20b)]();}catch(_0x309ba1){_0x4f14f1[_0x2636a9(0x21b)](debug,_0x2636a9(0x1e4)+_0x309ba1);}_0x4f14f1['cWWLQ'](_0x3542c7,_0x17d851);},_0x54f55e=_0x4f14f1[_0x47833c(0x21b)](pLimit,_0x4f14f1[_0x47833c(0x1e9)](_0x58a1e7,0x1)),_0x4e23cf=_0x366e76=>_0x54f55e(async()=>{const _0x73f72b=_0x47833c;await _0x332859[_0x73f72b(0x201)](_0x4f14f1['mTPSQ'],_0x366e76);const _0x4d57ee=_0x20f63c[_0x73f72b(0x1ef)](_0x366e76,_0x47dc6e);try{parentPort&&_0x4d57ee[_0x73f72b(0x1dc)](_0x2f217d=>{const _0x5551da=_0x73f72b;try{parentPort[_0x5551da(0x1cf)](_0x2f217d);}catch(_0x54fb63){logger[_0x5551da(0x1d1)]('Exception\x20in\x20sending\x20worker\x20message\x20'+util['format'](_0x54fb63));}});}catch(_0x927ccd){logger[_0x73f72b(0x1d1)]('Exception\x20in\x20adding\x20custom\x20message\x20channel\x20'+util[_0x73f72b(0x1e1)](_0x927ccd));}return _0x4d57ee;});PerformanceTester[_0x47833c(0x207)](PerformanceEvents[_0x47833c(0x1fd)]),Promise['all'](_0xd7300e[_0x47833c(0x1f5)](_0x1db9b6=>_0x4e23cf(_0x1db9b6)[_0x47833c(0x1c8)](_0x1f886c=>_0x332859[_0x47833c(0x201)]('test-file-success',[_0x1db9b6[_0x47833c(0x1e5)][_0x47833c(0x1d2)],_0x1f886c]),_0x153c6f=>_0x332859['emit']('test-file-failure',[_0x1db9b6,_0x153c6f]))))['then'](_0x4f9819,_0x4f9819);}),exports[a49_0x2fe66c(0x1cc)]=(_0x409969,_0x392aaa,_0x223c61,_0x39ee1c,_0x21e410)=>{const _0x1f82ab=a49_0x2fe66c,_0x2ef28a={'PiHlK':'Workers\x20failed\x20to\x20exit\x20gracefully','WCduQ':function(_0x155e65,_0x5a0341){return _0x155e65(_0x5a0341);},'RqdIx':_0x1f82ab(0x20f),'nxuyf':_0x1f82ab(0x1ea),'UksAl':_0x1f82ab(0x1f7),'Tdcvt':_0x1f82ab(0x1d5),'uoisI':_0x1f82ab(0x1df),'vMDJl':'platform-run-success','YUvmP':_0x1f82ab(0x1fe),'dCxTa':function(_0x749281,_0x38deb6){return _0x749281(_0x38deb6);}};return new Promise(_0x26f62a=>{const _0x12660f=_0x1f82ab,_0x5287d3={};_0x5287d3[_0x12660f(0x1eb)]=_0x2ef28a[_0x12660f(0x1e2)];const _0x1049ed=_0x5287d3,_0x17fec7=[],_0x2fb063=new Worker(require[_0x12660f(0x1ec)](_0x2ef28a['nxuyf']),{'exposedMethods':[_0x2ef28a[_0x12660f(0x1cd)]],'forkOptions':{'serialization':_0x2ef28a[_0x12660f(0x1db)],'stdio':_0x2ef28a[_0x12660f(0x1c7)]},'numWorkers':_0x409969[_0x12660f(0x214)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x500651=new Emittery();_0x500651['on'](_0x2ef28a[_0x12660f(0x208)],_0x19ba18=>{const _0x6f1057=_0x12660f;_0x17fec7[_0x6f1057(0x1d7)]([_0x19ba18[0x0],_0x19ba18[0x1]]);}),_0x500651['on'](_0x2ef28a[_0x12660f(0x20e)],_0x5093c9=>console[_0x12660f(0x1f1)](_0x5093c9[0x1]));_0x2fb063['getStdout']()&&_0x2fb063[_0x12660f(0x1ca)]()[_0x12660f(0x1df)](process[_0x12660f(0x1ff)]);_0x2fb063['getStderr']()&&_0x2fb063[_0x12660f(0x1d9)]()['pipe'](process[_0x12660f(0x20d)]);const _0x462fc5=async()=>{const _0x245f5a=_0x12660f,{forceExited:_0x46ef1a}=await _0x2fb063[_0x245f5a(0x207)]();_0x46ef1a&&console[_0x245f5a(0x1e0)](_0x2ef28a['PiHlK']),_0x2ef28a[_0x245f5a(0x217)](_0x26f62a,_0x17fec7);},_0x22684d=_0x2ef28a[_0x12660f(0x21a)](pLimit,_0x409969[_0x12660f(0x214)]||0x1),_0x264d68=(_0x10a9cb,_0x174bfb)=>_0x22684d(async()=>{const _0x405437=_0x12660f;return await _0x500651[_0x405437(0x201)](_0x1049ed[_0x405437(0x1eb)],_0x10a9cb),_0x392aaa[_0x405437(0x1c6)]=_0x223c61[_0x405437(0x1f8)][_0x174bfb],_0x2fb063['cucumberWorker'](_0x10a9cb,_0x392aaa,_0x223c61,_0x39ee1c,_0x21e410);});Promise[_0x12660f(0x1e7)](_0x409969[_0x12660f(0x1f5)]((_0x1deb54,_0x31648a)=>_0x264d68(_0x1deb54,_0x31648a)[_0x12660f(0x1c8)](_0x5ebd54=>_0x500651[_0x12660f(0x201)]('platform-run-success',[_0x1deb54,_0x5ebd54]),_0x2064af=>_0x500651[_0x12660f(0x201)](_0x12660f(0x1fe),[_0x1deb54,_0x2064af]))))[_0x12660f(0x1c8)](_0x462fc5,_0x462fc5);});},exports[a49_0x2fe66c(0x1ce)]=(_0x276b1a,_0x590fbb)=>new Promise(_0x19404b=>{const _0x1c9db8=a49_0x2fe66c,_0x17d6ba={'kBZaC':function(_0x416bc9,_0x46d947){return _0x416bc9===_0x46d947;},'TViHj':function(_0x2c13a7,_0x3f3fb8){return _0x2c13a7!==_0x3f3fb8;},'XQtbC':_0x1c9db8(0x1ee),'HMODe':_0x1c9db8(0x1cb),'mxjro':function(_0x4a1401,_0xb23018){return _0x4a1401(_0xb23018);},'TAPAS':_0x1c9db8(0x1ea),'apEMh':'vanillaWorker','kuDaE':_0x1c9db8(0x1d5),'uRWcf':'pipe','xjYKf':_0x1c9db8(0x206),'ouGBh':_0x1c9db8(0x212)},_0x2715d9={},_0x1fd320=new Worker(require[_0x1c9db8(0x1ec)](_0x17d6ba['TAPAS']),{'exposedMethods':[_0x17d6ba[_0x1c9db8(0x20a)]],'forkOptions':{'serialization':_0x17d6ba[_0x1c9db8(0x1d6)],'stdio':_0x17d6ba[_0x1c9db8(0x1f2)]},'numWorkers':_0x590fbb,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x4c3bbd=new Emittery();_0x4c3bbd['on'](_0x17d6ba['xjYKf'],_0x50d6c1=>{const _0x1e641d=_0x1c9db8;_0x50d6c1[0x0]&&logger[_0x1e641d(0x210)](_0x1e641d(0x218)+_0x50d6c1[0x1]+_0x1e641d(0x1f4),_0x50d6c1[0x0]);}),_0x4c3bbd['on'](_0x17d6ba['ouGBh'],_0x573b1c=>{process['exitCode']=0x1;});_0x1fd320[_0x1c9db8(0x1ca)]()&&_0x1fd320[_0x1c9db8(0x1ca)]()['pipe'](process[_0x1c9db8(0x1ff)]);_0x1fd320[_0x1c9db8(0x1d9)]()&&_0x1fd320[_0x1c9db8(0x1d9)]()[_0x1c9db8(0x1df)](process[_0x1c9db8(0x20d)]);const _0x20f14b=async()=>{const _0x183f9a=_0x1c9db8,_0x4a8a3a={'yWyIl':function(_0x39e75a,_0x25be47){return _0x17d6ba['kBZaC'](_0x39e75a,_0x25be47);},'VqSOj':function(_0x101044,_0x302001){return _0x17d6ba['TViHj'](_0x101044,_0x302001);},'hlkKd':_0x17d6ba[_0x183f9a(0x1e6)]};let _0x468203=0x0;const _0x2dcd87=_0x1fd320[_0x183f9a(0x211)]['getWorkers'](),_0x1f982c=()=>{},_0x3610b8=_0x2dcd87[_0x183f9a(0x1f5)](async _0x2caedf=>{const _0x317df6=_0x183f9a,_0x109f1d={'TPbsC':function(_0x1deea8,_0x333b95){const _0x226811=a49_0x1377;return _0x4a8a3a[_0x226811(0x21c)](_0x1deea8,_0x333b95);},'wiPCw':function(_0x3cef8f,_0x536f33){const _0x483cbc=a49_0x1377;return _0x4a8a3a[_0x483cbc(0x1d3)](_0x3cef8f,_0x536f33);}};_0x2caedf['send']([0x2,![]],_0x1f982c,_0x1f982c,_0x1f982c),_0x2caedf[_0x317df6(0x1de)]['on'](_0x4a8a3a['hlkKd'],_0x4e40e6=>{_0x109f1d['TPbsC'](_0x468203,0x0)&&_0x109f1d['wiPCw'](_0x4e40e6,0x0)&&(_0x468203=_0x4e40e6);}),await _0x2caedf['waitForExit']();});await Promise[_0x183f9a(0x1e7)](_0x3610b8),process[_0x183f9a(0x1d0)]=_0x468203;const {forceExited:_0xcf1d0a}=await _0x1fd320['end']();_0xcf1d0a&&console[_0x183f9a(0x1e0)](_0x17d6ba[_0x183f9a(0x1d8)]),_0x17d6ba[_0x183f9a(0x1c5)](_0x19404b,_0x2715d9);},_0x59e6c5=_0x17d6ba[_0x1c9db8(0x1c5)](pLimit,_0x590fbb),_0x2aeb13=_0x3d1497=>_0x59e6c5(async()=>{return _0x1fd320['vanillaWorker'](_0x3d1497);});Promise[_0x1c9db8(0x1e7)](_0x276b1a[_0x1c9db8(0x1f5)](_0x530f6c=>_0x2aeb13(_0x530f6c)[_0x1c9db8(0x1c8)](_0x26af23=>_0x4c3bbd['emit'](_0x1c9db8(0x206),[_0x530f6c[_0x1c9db8(0x1e5)][_0x1c9db8(0x1d2)],_0x530f6c[_0x1c9db8(0x1e5)]['file']]),_0x438414=>_0x4c3bbd['emit'](_0x1c9db8(0x212),[_0x530f6c,_0x438414]))))['then'](_0x20f14b,_0x20f14b);});function a49_0x1cbc(){const _0x4a8566=['1GGbKUY','length','duaAx','parallelTestRun','WCduQ','Running\x20','vaYpV','dCxTa','irNTO','yWyIl','FpMWX','uoJlY','../../helpers/logger','test-file-start','EVENTS','mxjro','platformCaps','uoisI','then','3484298iQzYbP','getStdout','Workers\x20failed\x20to\x20exit\x20gracefully','parallelCucumberRun','UksAl','parallelVanillaRun','postMessage','exitCode','debug','platform','VqSOj','28962780ITdQMS','json','kuDaE','push','HMODe','getStderr','UHlzP','Tdcvt','UNSTABLE_onCustomMessage','results','_child','pipe','error','format','RqdIx','worker_threads','Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20','configuration','XQtbC','all','306VdYlkp','jNKJb','./testWorker.js','sHjng','resolve','uzSFb','exit','worker','mSsTd','log','uRWcf','OnAOp','\x20for','map','3942215wdoVFQ','cucumberWorker','platforms','2996JKZyjf','327624SZVjdc','Worker','6738ndtqOg','SDK_SETUP','platform-run-failure','stdout','1344300jYTNWf','emit','winstonLogger','p-limit','../../helpers/test-observability/utils','gzVUf','test-file-success','end','vMDJl','config','apEMh','stop','5990508mlLLbI','stderr','YUvmP','platform-run-start','info','_workerPool','test-file-failure'];a49_0x1cbc=function(){return _0x4a8566;};return a49_0x1cbc();}