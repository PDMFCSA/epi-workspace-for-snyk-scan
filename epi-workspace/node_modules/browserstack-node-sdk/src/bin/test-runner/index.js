const a51_0x2db3fb=a51_0x5727;function a51_0x2bd8(){const _0x2a1a3f=['hpHkz','VxyVh','info','waitForExit','getWorkers','gHvwp','getStdout','UNSTABLE_onCustomMessage','Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20','vfyzA','cucumberWorker','json','TkjKN','jsPYx','parallelVanillaRun','_workerPool','resolve','stdout','YWaCV','lZIGN','winstonLogger','Worker','platform-run-start','pipe','results','GqhcQ','EVENTS','eQMUO','365ukgHbw','531TKxolQ','emit','vanillaWorker','aCEtH','getStderr','then','GBsUR','SDK_SETUP','all','../../helpers/test-observability/utils','rOyma','map','Running\x20','rfrMv','abZNo','6XpZPgI','Exception\x20in\x20sending\x20worker\x20message\x20','XTAOp','nLpYh','6365408ofHPuN','postMessage','end','716294UapEsS','Kwhpp','test-file-start','error','ZjHDd','uFhKH','stop','platform','platforms','length','file','154292FzJmSK','7974820EddGtC','test-file-success','LUkHv','stderr','parallelTestRun','2269616KtrEJl','cZGKK','exitCode','NlEXt','Workers\x20failed\x20to\x20exit\x20gracefully','format','p-limit','../../helpers/testhub/testhubHandler','debug','worker','IjBni','./testWorker.js','puEgE','_child','configuration','send','GiSJz','log','\x20for','../../helpers/performance/constants','bPuZt','IvrMH','platform-run-success','30512pOEWug','test-file-failure','47130KIAIhq','cSPtY','onHDJ'];a51_0x2bd8=function(){return _0x2a1a3f;};return a51_0x2bd8();}function a51_0x5727(_0x1746a3,_0x2db0ae){const _0x2bd8a3=a51_0x2bd8();return a51_0x5727=function(_0x5727c2,_0x2da5d8){_0x5727c2=_0x5727c2-0x1cc;let _0x34d161=_0x2bd8a3[_0x5727c2];return _0x34d161;},a51_0x5727(_0x1746a3,_0x2db0ae);}(function(_0xcd62dc,_0x49fb4c){const _0x5c53f2=a51_0x5727,_0x434ccc=_0xcd62dc();while(!![]){try{const _0x10d4c8=-parseInt(_0x5c53f2(0x226))/0x1+parseInt(_0x5c53f2(0x1d1))/0x2+parseInt(_0x5c53f2(0x21f))/0x3*(parseInt(_0x5c53f2(0x1d7))/0x4)+-parseInt(_0x5c53f2(0x20f))/0x5*(-parseInt(_0x5c53f2(0x1f0))/0x6)+parseInt(_0x5c53f2(0x223))/0x7+-parseInt(_0x5c53f2(0x1ee))/0x8*(parseInt(_0x5c53f2(0x210))/0x9)+-parseInt(_0x5c53f2(0x1d2))/0xa;if(_0x10d4c8===_0x49fb4c)break;else _0x434ccc['push'](_0x434ccc['shift']());}catch(_0x18bb5a){_0x434ccc['push'](_0x434ccc['shift']());}}}(a51_0x2bd8,0xe9607));const Worker=require('jest-worker')[a51_0x2db3fb(0x208)],Emittery=require('emittery'),pLimit=require(a51_0x2db3fb(0x1dd)),{parentPort}=require('worker_threads'),util=require('util'),logger=require('../../helpers/logger')[a51_0x2db3fb(0x207)],PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a51_0x2db3fb(0x1ea))[a51_0x2db3fb(0x20d)],{debug}=require(a51_0x2db3fb(0x219)),TestHubHandler=require(a51_0x2db3fb(0x1de));exports[a51_0x2db3fb(0x1d6)]=(_0x395fea,_0x365293,_0xc9d2f)=>new Promise(async _0x147747=>{const _0x8265f3=a51_0x2db3fb,_0x1171a4={'rfrMv':'failureCount','IjBni':function(_0x3f8d0f,_0x427eb0){return _0x3f8d0f+_0x427eb0;},'aCEtH':_0x8265f3(0x20b),'jsPYx':'Workers\x20failed\x20to\x20exit\x20gracefully','abZNo':function(_0x39bb62,_0x6d3528){return _0x39bb62(_0x6d3528);},'IvrMH':_0x8265f3(0x228),'VxyVh':_0x8265f3(0x1e2),'puEgE':_0x8265f3(0x1e0),'GMmEf':_0x8265f3(0x1fe),'hcQcS':_0x8265f3(0x20a),'cSPtY':function(_0xfd0616,_0x5c980f){return _0xfd0616*_0x5c980f;},'GiSJz':_0x8265f3(0x1d3),'tpvRF':_0x8265f3(0x1ef),'LUkHv':function(_0x2db4ff,_0x238337){return _0x2db4ff*_0x238337;}},_0x298e23=_0xc9d2f['config'],_0x179a5d={},_0x32fe2d=new Worker(require['resolve'](_0x1171a4[_0x8265f3(0x1f4)]),{'exposedMethods':[_0x1171a4[_0x8265f3(0x1e3)]],'forkOptions':{'serialization':_0x1171a4['GMmEf'],'stdio':_0x1171a4['hcQcS']},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x1171a4[_0x8265f3(0x1f1)](_0x365293,0x1),'enableWorkerThreads':!![]}),_0x40bf29=new Emittery();_0x40bf29['on'](_0x1171a4[_0x8265f3(0x1e7)],_0x56123a=>{const _0x3ac5e5=_0x8265f3;_0x179a5d[_0x56123a[0x0]]?(_0x179a5d[_0x56123a[0x0]][_0x1171a4[_0x3ac5e5(0x21d)]]=_0x1171a4[_0x3ac5e5(0x1e1)](_0x179a5d[_0x56123a[0x0]][_0x1171a4[_0x3ac5e5(0x21d)]],_0x56123a[0x1][_0x1171a4[_0x3ac5e5(0x21d)]]),_0x179a5d[_0x56123a[0x0]][_0x1171a4['aCEtH']]=[..._0x179a5d[_0x56123a[0x0]][_0x1171a4[_0x3ac5e5(0x213)]],..._0x56123a[0x1][_0x1171a4[_0x3ac5e5(0x213)]]]):_0x179a5d[_0x56123a[0x0]]={'failureCount':_0x56123a[0x1][_0x1171a4[_0x3ac5e5(0x21d)]],'results':[..._0x56123a[0x1][_0x1171a4['aCEtH']]]};}),_0x40bf29['on'](_0x1171a4['tpvRF'],_0x4d633d=>console[_0x8265f3(0x1e8)](_0x4d633d[0x1]));_0x32fe2d[_0x8265f3(0x1f9)]()&&_0x32fe2d[_0x8265f3(0x1f9)]()[_0x8265f3(0x20a)](process[_0x8265f3(0x204)]);_0x32fe2d[_0x8265f3(0x214)]()&&_0x32fe2d[_0x8265f3(0x214)]()[_0x8265f3(0x20a)](process[_0x8265f3(0x1d5)]);const _0x4ea4d7=async()=>{const _0x2fcc20=_0x8265f3,{forceExited:_0x9770d0}=await _0x32fe2d[_0x2fcc20(0x225)]();_0x9770d0&&console[_0x2fcc20(0x229)](_0x1171a4[_0x2fcc20(0x200)]);try{await TestHubHandler[_0x2fcc20(0x1cc)]();}catch(_0x510dc2){_0x1171a4[_0x2fcc20(0x21e)](debug,_0x2fcc20(0x1fb)+_0x510dc2);}_0x1171a4['abZNo'](_0x147747,_0x179a5d);},_0x512c44=_0x1171a4[_0x8265f3(0x21e)](pLimit,_0x1171a4[_0x8265f3(0x1d4)](_0x365293,0x1)),_0x19dc6d=_0x27a42a=>_0x512c44(async()=>{const _0x20d54b=_0x8265f3;await _0x40bf29[_0x20d54b(0x211)](_0x1171a4[_0x20d54b(0x1ec)],_0x27a42a);const _0x466ac8=_0x32fe2d[_0x20d54b(0x1e0)](_0x27a42a,_0x298e23);try{parentPort&&_0x466ac8[_0x20d54b(0x1fa)](_0x11f894=>{const _0x4ac6cd=_0x20d54b;try{parentPort[_0x4ac6cd(0x224)](_0x11f894);}catch(_0x23f975){logger[_0x4ac6cd(0x1df)](_0x4ac6cd(0x220)+util[_0x4ac6cd(0x1dc)](_0x23f975));}});}catch(_0x5dc188){logger[_0x20d54b(0x1df)]('Exception\x20in\x20adding\x20custom\x20message\x20channel\x20'+util[_0x20d54b(0x1dc)](_0x5dc188));}return _0x466ac8;});PerformanceTester[_0x8265f3(0x225)](PerformanceEvents[_0x8265f3(0x217)]),Promise[_0x8265f3(0x218)](_0x395fea[_0x8265f3(0x21b)](_0x19d746=>_0x19dc6d(_0x19d746)[_0x8265f3(0x215)](_0xc44a90=>_0x40bf29[_0x8265f3(0x211)]('test-file-success',[_0x19d746[_0x8265f3(0x1e5)][_0x8265f3(0x1cd)],_0xc44a90]),_0x3b9df0=>_0x40bf29[_0x8265f3(0x211)](_0x8265f3(0x1ef),[_0x19d746,_0x3b9df0]))))[_0x8265f3(0x215)](_0x4ea4d7,_0x4ea4d7);}),exports['parallelCucumberRun']=(_0x18c301,_0x32b683,_0xfaed,_0x1a08aa,_0x30cd28)=>{const _0x53f1c5=a51_0x2db3fb,_0x7bb010={'vfyzA':_0x53f1c5(0x1db),'bPuZt':function(_0x16a5ee,_0xd13845){return _0x16a5ee(_0xd13845);},'jYSoF':_0x53f1c5(0x209),'lZIGN':_0x53f1c5(0x1e2),'onHDJ':_0x53f1c5(0x1fd),'dFMsr':_0x53f1c5(0x1fe),'uFhKH':_0x53f1c5(0x20a),'nLpYh':_0x53f1c5(0x1ed),'fgxEL':'platform-run-failure'};return new Promise(_0x4a4c7d=>{const _0x150551=_0x53f1c5,_0x5446b1={'TkjKN':_0x7bb010[_0x150551(0x1fc)],'Kwhpp':function(_0x43e2c4,_0x2cd507){const _0x4a9aac=_0x150551;return _0x7bb010[_0x4a9aac(0x1eb)](_0x43e2c4,_0x2cd507);},'gHvwp':_0x7bb010['jYSoF']},_0x571809=[],_0x297e1e=new Worker(require[_0x150551(0x203)](_0x7bb010[_0x150551(0x206)]),{'exposedMethods':[_0x7bb010[_0x150551(0x1f2)]],'forkOptions':{'serialization':_0x7bb010['dFMsr'],'stdio':_0x7bb010[_0x150551(0x22b)]},'numWorkers':_0x18c301['length']||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x2e300d=new Emittery();_0x2e300d['on'](_0x7bb010[_0x150551(0x222)],_0x38fde9=>{_0x571809['push']([_0x38fde9[0x0],_0x38fde9[0x1]]);}),_0x2e300d['on'](_0x7bb010['fgxEL'],_0x4a3b09=>console[_0x150551(0x1e8)](_0x4a3b09[0x1]));_0x297e1e[_0x150551(0x1f9)]()&&_0x297e1e[_0x150551(0x1f9)]()[_0x150551(0x20a)](process['stdout']);_0x297e1e[_0x150551(0x214)]()&&_0x297e1e[_0x150551(0x214)]()[_0x150551(0x20a)](process['stderr']);const _0x2ddb48=async()=>{const _0x5041b1=_0x150551,{forceExited:_0x5b1fa0}=await _0x297e1e[_0x5041b1(0x225)]();_0x5b1fa0&&console[_0x5041b1(0x229)](_0x5446b1[_0x5041b1(0x1ff)]),_0x5446b1[_0x5041b1(0x227)](_0x4a4c7d,_0x571809);},_0x227e76=_0x7bb010[_0x150551(0x1eb)](pLimit,_0x18c301[_0x150551(0x1cf)]||0x1),_0x3529b3=(_0x2c76dc,_0x440334)=>_0x227e76(async()=>{const _0x512c2f=_0x150551;return await _0x2e300d[_0x512c2f(0x211)](_0x5446b1[_0x512c2f(0x1f8)],_0x2c76dc),_0x32b683['platformCaps']=_0xfaed[_0x512c2f(0x1ce)][_0x440334],_0x297e1e['cucumberWorker'](_0x2c76dc,_0x32b683,_0xfaed,_0x1a08aa,_0x30cd28);});Promise['all'](_0x18c301[_0x150551(0x21b)]((_0x4fc238,_0x403503)=>_0x3529b3(_0x4fc238,_0x403503)[_0x150551(0x215)](_0x58c367=>_0x2e300d[_0x150551(0x211)](_0x150551(0x1ed),[_0x4fc238,_0x58c367]),_0x1e6829=>_0x2e300d[_0x150551(0x211)]('platform-run-failure',[_0x4fc238,_0x1e6829]))))[_0x150551(0x215)](_0x2ddb48,_0x2ddb48);});},exports[a51_0x2db3fb(0x201)]=(_0x2f1208,_0x1ebe81)=>new Promise(_0x1b61b1=>{const _0x3a7324=a51_0x2db3fb,_0x4c185c={'erlTM':'exit','jikCs':function(_0x1f9a15,_0x5b7381){return _0x1f9a15===_0x5b7381;},'GqhcQ':function(_0x2f9dd0,_0x420776){return _0x2f9dd0!==_0x420776;},'eQMUO':_0x3a7324(0x1db),'rOyma':function(_0x1b9dbf,_0x1f9a38){return _0x1b9dbf(_0x1f9a38);},'NlEXt':_0x3a7324(0x1e2),'ZjHDd':_0x3a7324(0x212),'XTAOp':_0x3a7324(0x1fe),'GBsUR':_0x3a7324(0x20a),'YWaCV':_0x3a7324(0x1d3),'hpHkz':'test-file-failure','cZGKK':function(_0x86c51d,_0x39bfe9){return _0x86c51d(_0x39bfe9);}},_0x3923fa={},_0x54c633=new Worker(require[_0x3a7324(0x203)](_0x4c185c[_0x3a7324(0x1da)]),{'exposedMethods':[_0x4c185c[_0x3a7324(0x22a)]],'forkOptions':{'serialization':_0x4c185c[_0x3a7324(0x221)],'stdio':_0x4c185c[_0x3a7324(0x216)]},'numWorkers':_0x1ebe81,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x2729dd=new Emittery();_0x2729dd['on'](_0x4c185c[_0x3a7324(0x205)],_0x4ad945=>{const _0x51477f=_0x3a7324;_0x4ad945[0x0]&&logger[_0x51477f(0x1f5)](_0x51477f(0x21c)+_0x4ad945[0x1]+_0x51477f(0x1e9),_0x4ad945[0x0]);}),_0x2729dd['on'](_0x4c185c[_0x3a7324(0x1f3)],_0x66da88=>{const _0x50210c=_0x3a7324;process[_0x50210c(0x1d9)]=0x1;});_0x54c633[_0x3a7324(0x1f9)]()&&_0x54c633[_0x3a7324(0x1f9)]()[_0x3a7324(0x20a)](process['stdout']);_0x54c633[_0x3a7324(0x214)]()&&_0x54c633[_0x3a7324(0x214)]()[_0x3a7324(0x20a)](process[_0x3a7324(0x1d5)]);const _0x1f7304=async()=>{const _0x4ac0c5=_0x3a7324,_0x4b6d98={'DflBn':function(_0x1605ce,_0x293b8b){return _0x4c185c['jikCs'](_0x1605ce,_0x293b8b);},'FLVIf':function(_0x2ea13c,_0x258420){const _0x485c9d=a51_0x5727;return _0x4c185c[_0x485c9d(0x20c)](_0x2ea13c,_0x258420);}};let _0x5dcc46=0x0;const _0x4d61be=_0x54c633[_0x4ac0c5(0x202)][_0x4ac0c5(0x1f7)](),_0x4714aa=()=>{},_0x55d675=_0x4d61be[_0x4ac0c5(0x21b)](async _0x4c008d=>{const _0x2c6379=_0x4ac0c5;_0x4c008d[_0x2c6379(0x1e6)]([0x2,![]],_0x4714aa,_0x4714aa,_0x4714aa),_0x4c008d[_0x2c6379(0x1e4)]['on'](_0x4c185c['erlTM'],_0x2caea8=>{_0x4b6d98['DflBn'](_0x5dcc46,0x0)&&_0x4b6d98['FLVIf'](_0x2caea8,0x0)&&(_0x5dcc46=_0x2caea8);}),await _0x4c008d[_0x2c6379(0x1f6)]();});await Promise[_0x4ac0c5(0x218)](_0x55d675),process[_0x4ac0c5(0x1d9)]=_0x5dcc46;const {forceExited:_0x2b627c}=await _0x54c633[_0x4ac0c5(0x225)]();_0x2b627c&&console[_0x4ac0c5(0x229)](_0x4c185c[_0x4ac0c5(0x20e)]),_0x4c185c[_0x4ac0c5(0x21a)](_0x1b61b1,_0x3923fa);},_0x121d3c=_0x4c185c[_0x3a7324(0x1d8)](pLimit,_0x1ebe81),_0x1c6d8d=_0xe3b3f2=>_0x121d3c(async()=>{return _0x54c633['vanillaWorker'](_0xe3b3f2);});Promise[_0x3a7324(0x218)](_0x2f1208[_0x3a7324(0x21b)](_0x5a6f1a=>_0x1c6d8d(_0x5a6f1a)[_0x3a7324(0x215)](_0x122163=>_0x2729dd[_0x3a7324(0x211)](_0x3a7324(0x1d3),[_0x5a6f1a[_0x3a7324(0x1e5)][_0x3a7324(0x1cd)],_0x5a6f1a[_0x3a7324(0x1e5)][_0x3a7324(0x1d0)]]),_0x445ae6=>_0x2729dd[_0x3a7324(0x211)](_0x3a7324(0x1ef),[_0x5a6f1a,_0x445ae6]))))[_0x3a7324(0x215)](_0x1f7304,_0x1f7304);});