const a51_0x3e646f=a51_0x5a2b;(function(_0x3e9a47,_0x553558){const _0x5f5487=a51_0x5a2b,_0x1153cf=_0x3e9a47();while(!![]){try{const _0x59e57f=-parseInt(_0x5f5487(0x147))/0x1*(parseInt(_0x5f5487(0x116))/0x2)+parseInt(_0x5f5487(0x11a))/0x3*(-parseInt(_0x5f5487(0x109))/0x4)+-parseInt(_0x5f5487(0x11e))/0x5*(-parseInt(_0x5f5487(0x13f))/0x6)+parseInt(_0x5f5487(0x156))/0x7*(-parseInt(_0x5f5487(0x11c))/0x8)+-parseInt(_0x5f5487(0x138))/0x9*(parseInt(_0x5f5487(0xfc))/0xa)+-parseInt(_0x5f5487(0x117))/0xb*(parseInt(_0x5f5487(0x12c))/0xc)+parseInt(_0x5f5487(0x155))/0xd*(parseInt(_0x5f5487(0x11b))/0xe);if(_0x59e57f===_0x553558)break;else _0x1153cf['push'](_0x1153cf['shift']());}catch(_0x3f984c){_0x1153cf['push'](_0x1153cf['shift']());}}}(a51_0x470d,0xb22ba));const Worker=require(a51_0x3e646f(0x146))[a51_0x3e646f(0x150)],Emittery=require(a51_0x3e646f(0x13d)),pLimit=require(a51_0x3e646f(0x143)),{parentPort}=require('worker_threads'),util=require(a51_0x3e646f(0x125)),logger=require(a51_0x3e646f(0x131))['winstonLogger'],PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require('../../helpers/performance/constants')[a51_0x3e646f(0x157)],{debug}=require('../../helpers/test-observability/utils'),TestHubHandler=require('../../helpers/testhub/testhubHandler');function a51_0x5a2b(_0x3317a0,_0x2ea8d4){const _0x470d67=a51_0x470d();return a51_0x5a2b=function(_0x5a2b4d,_0x57483b){_0x5a2b4d=_0x5a2b4d-0xf8;let _0x46bb0e=_0x470d67[_0x5a2b4d];return _0x46bb0e;},a51_0x5a2b(_0x3317a0,_0x2ea8d4);}exports[a51_0x3e646f(0x148)]=(_0x234c1c,_0x28fc9a,_0x3465dc)=>new Promise(async _0x31ad57=>{const _0x588643=a51_0x3e646f,_0x27010f={'HJzBR':'failureCount','EyQbP':function(_0xb8fddf,_0x3d0f80){return _0xb8fddf+_0x3d0f80;},'sjyVa':'results','CjMcO':_0x588643(0x127),'nUnGU':function(_0x550914,_0x28ab55){return _0x550914(_0x28ab55);},'CVaty':_0x588643(0x122),'eZCPY':'./testWorker.js','ovmdT':'worker','kGxpN':_0x588643(0x10d),'waZpO':_0x588643(0x135),'wZRNY':function(_0x3f833a,_0x5327d9){return _0x3f833a*_0x5327d9;},'vuJGX':_0x588643(0x12d),'XpwEZ':_0x588643(0x14c),'DyNge':function(_0x5e39cd,_0x5d0be9){return _0x5e39cd(_0x5d0be9);},'dcGvW':function(_0x3608bd,_0x54f592){return _0x3608bd*_0x54f592;}},_0xac0abc=_0x3465dc[_0x588643(0x12f)],_0x3cd3ab={},_0x157098=new Worker(require[_0x588643(0xf8)](_0x27010f['eZCPY']),{'exposedMethods':[_0x27010f[_0x588643(0x136)]],'forkOptions':{'serialization':_0x27010f[_0x588643(0x101)],'stdio':_0x27010f[_0x588643(0x128)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x27010f['wZRNY'](_0x28fc9a,0x1),'enableWorkerThreads':!![]}),_0x67dc7=new Emittery();_0x67dc7['on'](_0x27010f['vuJGX'],_0x5f3c7e=>{const _0x314d1e=_0x588643;_0x3cd3ab[_0x5f3c7e[0x0]]?(_0x3cd3ab[_0x5f3c7e[0x0]][_0x27010f['HJzBR']]=_0x27010f[_0x314d1e(0xf9)](_0x3cd3ab[_0x5f3c7e[0x0]][_0x27010f[_0x314d1e(0x12e)]],_0x5f3c7e[0x1][_0x27010f[_0x314d1e(0x12e)]]),_0x3cd3ab[_0x5f3c7e[0x0]][_0x27010f[_0x314d1e(0x124)]]=[..._0x3cd3ab[_0x5f3c7e[0x0]][_0x27010f[_0x314d1e(0x124)]],..._0x5f3c7e[0x1][_0x27010f[_0x314d1e(0x124)]]]):_0x3cd3ab[_0x5f3c7e[0x0]]={'failureCount':_0x5f3c7e[0x1][_0x27010f[_0x314d1e(0x12e)]],'results':[..._0x5f3c7e[0x1][_0x27010f[_0x314d1e(0x124)]]]};}),_0x67dc7['on'](_0x27010f[_0x588643(0xfe)],_0x27cb80=>console[_0x588643(0x13b)](_0x27cb80[0x1]));_0x157098[_0x588643(0x13c)]()&&_0x157098[_0x588643(0x13c)]()[_0x588643(0x135)](process[_0x588643(0x14f)]);_0x157098['getStderr']()&&_0x157098['getStderr']()['pipe'](process['stderr']);const _0x5ba007=async()=>{const _0x2efaac=_0x588643,{forceExited:_0x3033e4}=await _0x157098[_0x2efaac(0x107)]();_0x3033e4&&console[_0x2efaac(0x10c)](_0x27010f[_0x2efaac(0x108)]);try{await TestHubHandler[_0x2efaac(0x134)]();}catch(_0x2f687d){_0x27010f['nUnGU'](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20'+_0x2f687d);}_0x27010f[_0x2efaac(0x10f)](_0x31ad57,_0x3cd3ab);},_0x40c830=_0x27010f['DyNge'](pLimit,_0x27010f['dcGvW'](_0x28fc9a,0x1)),_0x40da88=_0x24f5cd=>_0x40c830(async()=>{const _0x3c2095=_0x588643;await _0x67dc7['emit'](_0x27010f[_0x3c2095(0x137)],_0x24f5cd);const _0x45fc4c=_0x157098[_0x3c2095(0xfb)](_0x24f5cd,_0xac0abc);try{parentPort&&_0x45fc4c['UNSTABLE_onCustomMessage'](_0x9ab232=>{const _0x274d08=_0x3c2095;try{parentPort[_0x274d08(0x142)](_0x9ab232);}catch(_0x1d17c5){logger[_0x274d08(0x140)](_0x274d08(0x119)+util[_0x274d08(0x111)](_0x1d17c5));}});}catch(_0x1cf3ac){logger['debug'](_0x3c2095(0x154)+util[_0x3c2095(0x111)](_0x1cf3ac));}return _0x45fc4c;});PerformanceTester[_0x588643(0x107)](PerformanceEvents[_0x588643(0x11d)]),Promise[_0x588643(0x10a)](_0x234c1c[_0x588643(0x114)](_0x2d1f2b=>_0x40da88(_0x2d1f2b)['then'](_0x3f7cf0=>_0x67dc7[_0x588643(0x100)](_0x588643(0x12d),[_0x2d1f2b[_0x588643(0x10b)]['platform'],_0x3f7cf0]),_0x5aaeb5=>_0x67dc7[_0x588643(0x100)](_0x588643(0x14c),[_0x2d1f2b,_0x5aaeb5]))))[_0x588643(0x14a)](_0x5ba007,_0x5ba007);}),exports[a51_0x3e646f(0x126)]=(_0x276220,_0x42245b,_0x246d1b,_0x177eee,_0x5db789)=>{const _0x4fac3c=a51_0x3e646f,_0x21c50b={'ABpwx':_0x4fac3c(0x127),'syLme':function(_0x1b3d94,_0x59fcf3){return _0x1b3d94(_0x59fcf3);},'GEuKi':'platform-run-start','ABWWn':'./testWorker.js','wzwJP':'cucumberWorker','WjMyZ':_0x4fac3c(0x10d),'MDtUn':_0x4fac3c(0x135),'rXFLi':_0x4fac3c(0x149),'bflcC':_0x4fac3c(0x153),'YwZtG':function(_0x54bb8b,_0x3846b0){return _0x54bb8b(_0x3846b0);}};return new Promise(_0xff2120=>{const _0x4bb648=_0x4fac3c,_0x6e8e4=[],_0x2ee40d=new Worker(require[_0x4bb648(0xf8)](_0x21c50b[_0x4bb648(0x145)]),{'exposedMethods':[_0x21c50b['wzwJP']],'forkOptions':{'serialization':_0x21c50b[_0x4bb648(0x141)],'stdio':_0x21c50b[_0x4bb648(0x106)]},'numWorkers':_0x276220[_0x4bb648(0x133)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x41775c=new Emittery();_0x41775c['on'](_0x21c50b[_0x4bb648(0x104)],_0x370c38=>{const _0x306f81=_0x4bb648;_0x6e8e4[_0x306f81(0x152)]([_0x370c38[0x0],_0x370c38[0x1]]);}),_0x41775c['on'](_0x21c50b['bflcC'],_0x590222=>console[_0x4bb648(0x13b)](_0x590222[0x1]));_0x2ee40d['getStdout']()&&_0x2ee40d[_0x4bb648(0x13c)]()['pipe'](process[_0x4bb648(0x14f)]);_0x2ee40d[_0x4bb648(0x139)]()&&_0x2ee40d[_0x4bb648(0x139)]()[_0x4bb648(0x135)](process['stderr']);const _0x54b221=async()=>{const _0x443a16=_0x4bb648,{forceExited:_0x4fbc06}=await _0x2ee40d['end']();_0x4fbc06&&console[_0x443a16(0x10c)](_0x21c50b[_0x443a16(0x14e)]),_0x21c50b[_0x443a16(0xff)](_0xff2120,_0x6e8e4);},_0x32c2a3=_0x21c50b[_0x4bb648(0x113)](pLimit,_0x276220[_0x4bb648(0x133)]||0x1),_0x21091b=(_0x3224a8,_0x5bed7f)=>_0x32c2a3(async()=>{const _0x484b0e=_0x4bb648;return await _0x41775c[_0x484b0e(0x100)](_0x21c50b[_0x484b0e(0x132)],_0x3224a8),_0x42245b['platformCaps']=_0x246d1b['platforms'][_0x5bed7f],_0x2ee40d[_0x484b0e(0x110)](_0x3224a8,_0x42245b,_0x246d1b,_0x177eee,_0x5db789);});Promise[_0x4bb648(0x10a)](_0x276220[_0x4bb648(0x114)]((_0x3d041c,_0x23dbcf)=>_0x21091b(_0x3d041c,_0x23dbcf)[_0x4bb648(0x14a)](_0x42e001=>_0x41775c[_0x4bb648(0x100)]('platform-run-success',[_0x3d041c,_0x42e001]),_0x2701e2=>_0x41775c[_0x4bb648(0x100)](_0x4bb648(0x153),[_0x3d041c,_0x2701e2]))))[_0x4bb648(0x14a)](_0x54b221,_0x54b221);});},exports[a51_0x3e646f(0x12a)]=(_0x140ffb,_0x27925a)=>new Promise(_0x2e5320=>{const _0xfa3894=a51_0x3e646f,_0x540af3={'bKoyg':function(_0x2d1404,_0x486d2b){return _0x2d1404===_0x486d2b;},'dolNj':function(_0x5eac05,_0xd7490b){return _0x5eac05!==_0xd7490b;},'VADlc':'exit','hviEg':_0xfa3894(0x127),'LroMq':function(_0x1d3410,_0x5803be){return _0x1d3410(_0x5803be);},'ToAUN':_0xfa3894(0x13a),'QUxYP':_0xfa3894(0x14d),'CgIrn':_0xfa3894(0x10d),'cDzFC':_0xfa3894(0x135),'zgmmf':_0xfa3894(0x12d),'PWdMJ':_0xfa3894(0x14c)},_0x44681e={},_0x1042be=new Worker(require['resolve'](_0x540af3['ToAUN']),{'exposedMethods':[_0x540af3[_0xfa3894(0x10e)]],'forkOptions':{'serialization':_0x540af3[_0xfa3894(0x144)],'stdio':_0x540af3[_0xfa3894(0x13e)]},'numWorkers':_0x27925a,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x59b339=new Emittery();_0x59b339['on'](_0x540af3[_0xfa3894(0xfa)],_0x107afa=>{const _0x52812a=_0xfa3894;_0x107afa[0x0]&&logger['info'](_0x52812a(0x130)+_0x107afa[0x1]+'\x20for',_0x107afa[0x0]);}),_0x59b339['on'](_0x540af3[_0xfa3894(0x158)],_0xd0e943=>{process['exitCode']=0x1;});_0x1042be[_0xfa3894(0x13c)]()&&_0x1042be[_0xfa3894(0x13c)]()[_0xfa3894(0x135)](process[_0xfa3894(0x14f)]);_0x1042be[_0xfa3894(0x139)]()&&_0x1042be['getStderr']()[_0xfa3894(0x135)](process['stderr']);const _0x1c82a8=async()=>{const _0x581808=_0xfa3894,_0x59ceb2={'OuNXy':function(_0x38d37d,_0x17977d){const _0xdf9cb8=a51_0x5a2b;return _0x540af3[_0xdf9cb8(0x103)](_0x38d37d,_0x17977d);},'cOLXq':function(_0x1a82e2,_0x4d7456){const _0x4f71ba=a51_0x5a2b;return _0x540af3[_0x4f71ba(0x129)](_0x1a82e2,_0x4d7456);},'LKQbi':_0x540af3[_0x581808(0x105)]};let _0x3542b7=0x0;const _0x358e19=_0x1042be['_workerPool']['getWorkers'](),_0xfa94d8=()=>{},_0x54decc=_0x358e19[_0x581808(0x114)](async _0x28b84c=>{const _0x2c16ba=_0x581808,_0x3e8a28={'JNgja':function(_0x61ce03,_0x1dbad4){const _0x413b1e=a51_0x5a2b;return _0x59ceb2[_0x413b1e(0x118)](_0x61ce03,_0x1dbad4);},'qRveX':function(_0x3a1487,_0x6d197e){const _0x1a46c0=a51_0x5a2b;return _0x59ceb2[_0x1a46c0(0xfd)](_0x3a1487,_0x6d197e);}};_0x28b84c[_0x2c16ba(0x14b)]([0x2,![]],_0xfa94d8,_0xfa94d8,_0xfa94d8),_0x28b84c[_0x2c16ba(0x102)]['on'](_0x59ceb2[_0x2c16ba(0x115)],_0x4b4db1=>{const _0x2a0284=_0x2c16ba;_0x3e8a28[_0x2a0284(0x121)](_0x3542b7,0x0)&&_0x3e8a28['qRveX'](_0x4b4db1,0x0)&&(_0x3542b7=_0x4b4db1);}),await _0x28b84c[_0x2c16ba(0x123)]();});await Promise[_0x581808(0x10a)](_0x54decc),process[_0x581808(0x120)]=_0x3542b7;const {forceExited:_0x4ae646}=await _0x1042be[_0x581808(0x107)]();_0x4ae646&&console[_0x581808(0x10c)](_0x540af3[_0x581808(0x11f)]),_0x540af3[_0x581808(0x12b)](_0x2e5320,_0x44681e);},_0x1765d5=_0x540af3[_0xfa3894(0x12b)](pLimit,_0x27925a),_0x42e177=_0x41bf20=>_0x1765d5(async()=>{return _0x1042be['vanillaWorker'](_0x41bf20);});Promise[_0xfa3894(0x10a)](_0x140ffb[_0xfa3894(0x114)](_0x127c31=>_0x42e177(_0x127c31)['then'](_0x5bb0cd=>_0x59b339[_0xfa3894(0x100)](_0xfa3894(0x12d),[_0x127c31['configuration'][_0xfa3894(0x112)],_0x127c31[_0xfa3894(0x10b)][_0xfa3894(0x151)]]),_0x48ebb1=>_0x59b339[_0xfa3894(0x100)](_0xfa3894(0x14c),[_0x127c31,_0x48ebb1]))))[_0xfa3894(0x14a)](_0x1c82a8,_0x1c82a8);});function a51_0x470d(){const _0x6c54c=['EVENTS','PWdMJ','resolve','EyQbP','zgmmf','worker','34480ulNqPd','cOLXq','XpwEZ','syLme','emit','kGxpN','_child','bKoyg','rXFLi','VADlc','MDtUn','end','CjMcO','28laFBUt','all','configuration','error','json','QUxYP','nUnGU','cucumberWorker','format','platform','YwZtG','map','LKQbi','2sqaaER','630597VkaTog','OuNXy','Exception\x20in\x20sending\x20worker\x20message\x20','533493vfDQbR','33698vlhprW','432fEOqiy','SDK_SETUP','10HbOQnr','hviEg','exitCode','JNgja','test-file-start','waitForExit','sjyVa','util','parallelCucumberRun','Workers\x20failed\x20to\x20exit\x20gracefully','waZpO','dolNj','parallelVanillaRun','LroMq','204vsiWHE','test-file-success','HJzBR','config','Running\x20','../../helpers/logger','GEuKi','length','stop','pipe','ovmdT','CVaty','3150tDsfal','getStderr','./testWorker.js','log','getStdout','emittery','cDzFC','1410942tUFxmD','debug','WjMyZ','postMessage','p-limit','CgIrn','ABWWn','jest-worker','907721GIiReY','parallelTestRun','platform-run-success','then','send','test-file-failure','vanillaWorker','ABpwx','stdout','Worker','file','push','platform-run-failure','Exception\x20in\x20adding\x20custom\x20message\x20channel\x20','28587ppeZaE','90692ccNckA'];a51_0x470d=function(){return _0x6c54c;};return a51_0x470d();}