const a50_0x585df6=a50_0x930d;(function(_0x12b53d,_0x311fc3){const _0xf47d5e=a50_0x930d,_0x3bbedd=_0x12b53d();while(!![]){try{const _0x1efc91=-parseInt(_0xf47d5e(0x18e))/0x1+-parseInt(_0xf47d5e(0x177))/0x2*(parseInt(_0xf47d5e(0x162))/0x3)+-parseInt(_0xf47d5e(0x1a4))/0x4*(parseInt(_0xf47d5e(0x1a2))/0x5)+-parseInt(_0xf47d5e(0x15c))/0x6*(-parseInt(_0xf47d5e(0x168))/0x7)+parseInt(_0xf47d5e(0x17c))/0x8+parseInt(_0xf47d5e(0x172))/0x9*(parseInt(_0xf47d5e(0x17b))/0xa)+parseInt(_0xf47d5e(0x159))/0xb;if(_0x1efc91===_0x311fc3)break;else _0x3bbedd['push'](_0x3bbedd['shift']());}catch(_0x130ff4){_0x3bbedd['push'](_0x3bbedd['shift']());}}}(a50_0x5473,0x93c85));const Worker=require(a50_0x585df6(0x14c))[a50_0x585df6(0x155)],Emittery=require('emittery'),pLimit=require(a50_0x585df6(0x1a5)),{parentPort}=require(a50_0x585df6(0x157)),util=require(a50_0x585df6(0x195)),logger=require(a50_0x585df6(0x165))[a50_0x585df6(0x19f)],PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a50_0x585df6(0x152))['EVENTS'],{debug}=require('../../helpers/test-observability/utils'),TestHubHandler=require(a50_0x585df6(0x187));function a50_0x5473(){const _0x2b0b53=['zDkLR','format','10VPilxm','9641784RlGOra','configuration','getStderr','exit','FGzty','Workers\x20failed\x20to\x20exit\x20gracefully','gXRcK','AKTpc','VUgdD','resolve','length','../../helpers/testhub/testhubHandler','stderr','waitForExit','all','_child','QyxMy','pipe','109606pttzmn','worker','json','Exception\x20in\x20sending\x20worker\x20message\x20','parallelTestRun','test-file-start','zGsqk','util','OgiVn','BoPGA','OTdEs','SDK_SETUP','test-file-success','jFOsu','PvoYW','./testWorker.js','results','winstonLogger','hsURv','SrVpL','288395hgHvlJ','JHGRb','20aBXESO','p-limit','test-file-failure','debug','exitCode','ilbDM','jest-worker','platforms','vanillaWorker','parallelCucumberRun','zrnmw','UNSTABLE_onCustomMessage','../../helpers/performance/constants','stdout','map','Worker','platform-run-start','worker_threads','jKyDh','2576442HGqOLK','end','rgvIP','12LiMwOK','emit','_workerPool','getWorkers','arFQN','lricO','105gJrgvd','fIWvE','error','../../helpers/logger','wNxXG','info','1268939JqKHxo','then','ZpSAn','uUPXc','EsirM','IZfEj','file','getStdout','NmMrD','rXXAf','2361411oRZvea','YYGTx','platform-run-success','push','Running\x20','60632GYhcwc','config'];a50_0x5473=function(){return _0x2b0b53;};return a50_0x5473();}function a50_0x930d(_0x3f9706,_0x1064c0){const _0x54738b=a50_0x5473();return a50_0x930d=function(_0x930d15,_0xd4003c){_0x930d15=_0x930d15-0x14a;let _0x36ce04=_0x54738b[_0x930d15];return _0x36ce04;},a50_0x930d(_0x3f9706,_0x1064c0);}exports[a50_0x585df6(0x192)]=(_0xb9f198,_0x1151ad,_0x462ddb)=>new Promise(async _0x557d82=>{const _0x310be6=a50_0x585df6,_0x1c8a9e={'ilbDM':'failureCount','JHGRb':function(_0xfafd42,_0xe856f0){return _0xfafd42+_0xe856f0;},'jKyDh':_0x310be6(0x19e),'hXMPC':_0x310be6(0x181),'rgvIP':function(_0xf3a97,_0x3560de){return _0xf3a97(_0x3560de);},'YYGTx':function(_0x2b5913,_0x11c7d4){return _0x2b5913(_0x11c7d4);},'zDkLR':_0x310be6(0x193),'arFQN':_0x310be6(0x19d),'ZpSAn':_0x310be6(0x18f),'OgiVn':_0x310be6(0x190),'SrVpL':_0x310be6(0x18d),'NmMrD':function(_0x56be5b,_0x35214a){return _0x56be5b*_0x35214a;},'zGsqk':_0x310be6(0x19a),'FGzty':_0x310be6(0x1a6),'zrnmw':function(_0x251048,_0x2eac65){return _0x251048*_0x2eac65;}},_0x656c25=_0x462ddb[_0x310be6(0x178)],_0x4a0c9a={},_0x29ee2c=new Worker(require['resolve'](_0x1c8a9e[_0x310be6(0x160)]),{'exposedMethods':[_0x1c8a9e[_0x310be6(0x16a)]],'forkOptions':{'serialization':_0x1c8a9e[_0x310be6(0x196)],'stdio':_0x1c8a9e[_0x310be6(0x1a1)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x1c8a9e[_0x310be6(0x170)](_0x1151ad,0x1),'enableWorkerThreads':!![]}),_0x484b17=new Emittery();_0x484b17['on'](_0x1c8a9e[_0x310be6(0x194)],_0x203c75=>{const _0x2767ab=_0x310be6;_0x4a0c9a[_0x203c75[0x0]]?(_0x4a0c9a[_0x203c75[0x0]][_0x1c8a9e['ilbDM']]=_0x1c8a9e[_0x2767ab(0x1a3)](_0x4a0c9a[_0x203c75[0x0]][_0x1c8a9e[_0x2767ab(0x14b)]],_0x203c75[0x1][_0x1c8a9e[_0x2767ab(0x14b)]]),_0x4a0c9a[_0x203c75[0x0]][_0x1c8a9e[_0x2767ab(0x158)]]=[..._0x4a0c9a[_0x203c75[0x0]][_0x1c8a9e[_0x2767ab(0x158)]],..._0x203c75[0x1][_0x1c8a9e[_0x2767ab(0x158)]]]):_0x4a0c9a[_0x203c75[0x0]]={'failureCount':_0x203c75[0x1][_0x1c8a9e[_0x2767ab(0x14b)]],'results':[..._0x203c75[0x1][_0x1c8a9e['jKyDh']]]};}),_0x484b17['on'](_0x1c8a9e[_0x310be6(0x180)],_0xbfdc6e=>console['log'](_0xbfdc6e[0x1]));_0x29ee2c[_0x310be6(0x16f)]()&&_0x29ee2c[_0x310be6(0x16f)]()[_0x310be6(0x18d)](process[_0x310be6(0x153)]);_0x29ee2c['getStderr']()&&_0x29ee2c[_0x310be6(0x17e)]()[_0x310be6(0x18d)](process[_0x310be6(0x188)]);const _0x57728e=async()=>{const _0x3a0bf2=_0x310be6,{forceExited:_0x180d31}=await _0x29ee2c[_0x3a0bf2(0x15a)]();_0x180d31&&console[_0x3a0bf2(0x164)](_0x1c8a9e['hXMPC']);try{await TestHubHandler['stop']();}catch(_0x2b8b24){_0x1c8a9e['rgvIP'](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20'+_0x2b8b24);}_0x1c8a9e[_0x3a0bf2(0x173)](_0x557d82,_0x4a0c9a);},_0x5c5a82=_0x1c8a9e[_0x310be6(0x15b)](pLimit,_0x1c8a9e[_0x310be6(0x150)](_0x1151ad,0x1)),_0x558817=_0x2cde80=>_0x5c5a82(async()=>{const _0x163551=_0x310be6;await _0x484b17[_0x163551(0x15d)](_0x1c8a9e[_0x163551(0x179)],_0x2cde80);const _0x1f8320=_0x29ee2c[_0x163551(0x18f)](_0x2cde80,_0x656c25);try{parentPort&&_0x1f8320[_0x163551(0x151)](_0x3928a0=>{const _0x1b8236=_0x163551;try{parentPort['postMessage'](_0x3928a0);}catch(_0x52cd17){logger[_0x1b8236(0x1a7)](_0x1b8236(0x191)+util[_0x1b8236(0x17a)](_0x52cd17));}});}catch(_0x2d9444){logger[_0x163551(0x1a7)]('Exception\x20in\x20adding\x20custom\x20message\x20channel\x20'+util[_0x163551(0x17a)](_0x2d9444));}return _0x1f8320;});PerformanceTester[_0x310be6(0x15a)](PerformanceEvents[_0x310be6(0x199)]),Promise[_0x310be6(0x18a)](_0xb9f198['map'](_0x2cb295=>_0x558817(_0x2cb295)[_0x310be6(0x169)](_0x636a5c=>_0x484b17['emit'](_0x310be6(0x19a),[_0x2cb295['configuration']['platform'],_0x636a5c]),_0x1b1dc5=>_0x484b17[_0x310be6(0x15d)]('test-file-failure',[_0x2cb295,_0x1b1dc5]))))[_0x310be6(0x169)](_0x57728e,_0x57728e);}),exports[a50_0x585df6(0x14f)]=(_0x135d3e,_0x1ece68,_0x5dac1a,_0x541dea,_0x484b7c)=>{const _0x91ca76=a50_0x585df6,_0x5e29eb={'wNxXG':_0x91ca76(0x181),'AKTpc':function(_0x22c433,_0x28e4bb){return _0x22c433(_0x28e4bb);},'BoPGA':_0x91ca76(0x156),'IZfEj':'./testWorker.js','gfyaE':'cucumberWorker','OTdEs':_0x91ca76(0x190),'VUgdD':_0x91ca76(0x18d),'OfRZc':_0x91ca76(0x174),'hsURv':'platform-run-failure','itLii':function(_0xf7cbeb,_0x392f39){return _0xf7cbeb(_0x392f39);}};return new Promise(_0x1bdf64=>{const _0x5e6686=_0x91ca76,_0x5053de=[],_0x115f1f=new Worker(require[_0x5e6686(0x185)](_0x5e29eb[_0x5e6686(0x16d)]),{'exposedMethods':[_0x5e29eb['gfyaE']],'forkOptions':{'serialization':_0x5e29eb[_0x5e6686(0x198)],'stdio':_0x5e29eb[_0x5e6686(0x184)]},'numWorkers':_0x135d3e['length']||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x592509=new Emittery();_0x592509['on'](_0x5e29eb['OfRZc'],_0x314308=>{const _0x3e85a8=_0x5e6686;_0x5053de[_0x3e85a8(0x175)]([_0x314308[0x0],_0x314308[0x1]]);}),_0x592509['on'](_0x5e29eb[_0x5e6686(0x1a0)],_0x504ffa=>console['log'](_0x504ffa[0x1]));_0x115f1f[_0x5e6686(0x16f)]()&&_0x115f1f[_0x5e6686(0x16f)]()[_0x5e6686(0x18d)](process[_0x5e6686(0x153)]);_0x115f1f['getStderr']()&&_0x115f1f[_0x5e6686(0x17e)]()['pipe'](process[_0x5e6686(0x188)]);const _0x11491f=async()=>{const _0x5138cb=_0x5e6686,{forceExited:_0x27d678}=await _0x115f1f[_0x5138cb(0x15a)]();_0x27d678&&console[_0x5138cb(0x164)](_0x5e29eb[_0x5138cb(0x166)]),_0x5e29eb[_0x5138cb(0x183)](_0x1bdf64,_0x5053de);},_0x31a4a2=_0x5e29eb['itLii'](pLimit,_0x135d3e[_0x5e6686(0x186)]||0x1),_0x45e9af=(_0x4d2e02,_0x54de5e)=>_0x31a4a2(async()=>{const _0x17d149=_0x5e6686;return await _0x592509[_0x17d149(0x15d)](_0x5e29eb[_0x17d149(0x197)],_0x4d2e02),_0x1ece68['platformCaps']=_0x5dac1a[_0x17d149(0x14d)][_0x54de5e],_0x115f1f['cucumberWorker'](_0x4d2e02,_0x1ece68,_0x5dac1a,_0x541dea,_0x484b7c);});Promise['all'](_0x135d3e[_0x5e6686(0x154)]((_0x131a3f,_0x367823)=>_0x45e9af(_0x131a3f,_0x367823)[_0x5e6686(0x169)](_0x26f688=>_0x592509['emit']('platform-run-success',[_0x131a3f,_0x26f688]),_0x330b05=>_0x592509[_0x5e6686(0x15d)]('platform-run-failure',[_0x131a3f,_0x330b05]))))['then'](_0x11491f,_0x11491f);});},exports['parallelVanillaRun']=(_0x794a94,_0x2b6e12)=>new Promise(_0x558671=>{const _0x2b5772=a50_0x585df6,_0x4e56b9={'jFOsu':_0x2b5772(0x17f),'FqEXG':function(_0x36cabb,_0x20ae41){return _0x36cabb===_0x20ae41;},'rXXAf':function(_0x519b88,_0x5ac340){return _0x519b88!==_0x5ac340;},'QyxMy':_0x2b5772(0x181),'PvoYW':function(_0x5a21e5,_0x46023c){return _0x5a21e5(_0x46023c);},'EsirM':_0x2b5772(0x19d),'yjLYe':_0x2b5772(0x14e),'tlLbZ':_0x2b5772(0x190),'lricO':_0x2b5772(0x18d),'uUPXc':'test-file-success','fIWvE':_0x2b5772(0x1a6)},_0x10e755={},_0x30d2d2=new Worker(require[_0x2b5772(0x185)](_0x4e56b9[_0x2b5772(0x16c)]),{'exposedMethods':[_0x4e56b9['yjLYe']],'forkOptions':{'serialization':_0x4e56b9['tlLbZ'],'stdio':_0x4e56b9[_0x2b5772(0x161)]},'numWorkers':_0x2b6e12,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x32b607=new Emittery();_0x32b607['on'](_0x4e56b9[_0x2b5772(0x16b)],_0x1cee79=>{const _0x5e7859=_0x2b5772;_0x1cee79[0x0]&&logger[_0x5e7859(0x167)](_0x5e7859(0x176)+_0x1cee79[0x1]+'\x20for',_0x1cee79[0x0]);}),_0x32b607['on'](_0x4e56b9[_0x2b5772(0x163)],_0x18e087=>{const _0x278b60=_0x2b5772;process[_0x278b60(0x14a)]=0x1;});_0x30d2d2[_0x2b5772(0x16f)]()&&_0x30d2d2[_0x2b5772(0x16f)]()[_0x2b5772(0x18d)](process[_0x2b5772(0x153)]);_0x30d2d2[_0x2b5772(0x17e)]()&&_0x30d2d2['getStderr']()[_0x2b5772(0x18d)](process[_0x2b5772(0x188)]);const _0x4958c4=async()=>{const _0x2df800=_0x2b5772,_0x167a9a={'gXRcK':function(_0x48e6ce,_0x2f6a68){return _0x4e56b9['FqEXG'](_0x48e6ce,_0x2f6a68);},'TofVI':function(_0x537077,_0x53ef1f){const _0x5d142b=a50_0x930d;return _0x4e56b9[_0x5d142b(0x171)](_0x537077,_0x53ef1f);}};let _0x5e5ba1=0x0;const _0xee8767=_0x30d2d2[_0x2df800(0x15e)][_0x2df800(0x15f)](),_0x49c231=()=>{},_0xa2d89f=_0xee8767['map'](async _0x59a06f=>{const _0x3cd600=_0x2df800;_0x59a06f['send']([0x2,![]],_0x49c231,_0x49c231,_0x49c231),_0x59a06f[_0x3cd600(0x18b)]['on'](_0x4e56b9[_0x3cd600(0x19b)],_0x1e9934=>{const _0x57dfda=_0x3cd600;_0x167a9a[_0x57dfda(0x182)](_0x5e5ba1,0x0)&&_0x167a9a['TofVI'](_0x1e9934,0x0)&&(_0x5e5ba1=_0x1e9934);}),await _0x59a06f[_0x3cd600(0x189)]();});await Promise[_0x2df800(0x18a)](_0xa2d89f),process[_0x2df800(0x14a)]=_0x5e5ba1;const {forceExited:_0x31b119}=await _0x30d2d2[_0x2df800(0x15a)]();_0x31b119&&console[_0x2df800(0x164)](_0x4e56b9[_0x2df800(0x18c)]),_0x4e56b9['PvoYW'](_0x558671,_0x10e755);},_0x58236e=_0x4e56b9[_0x2b5772(0x19c)](pLimit,_0x2b6e12),_0x180ff2=_0x386ce4=>_0x58236e(async()=>{return _0x30d2d2['vanillaWorker'](_0x386ce4);});Promise[_0x2b5772(0x18a)](_0x794a94[_0x2b5772(0x154)](_0x522e78=>_0x180ff2(_0x522e78)[_0x2b5772(0x169)](_0x464fff=>_0x32b607[_0x2b5772(0x15d)](_0x2b5772(0x19a),[_0x522e78[_0x2b5772(0x17d)]['platform'],_0x522e78[_0x2b5772(0x17d)][_0x2b5772(0x16e)]]),_0x4e9249=>_0x32b607['emit'](_0x2b5772(0x1a6),[_0x522e78,_0x4e9249]))))[_0x2b5772(0x169)](_0x4958c4,_0x4958c4);});