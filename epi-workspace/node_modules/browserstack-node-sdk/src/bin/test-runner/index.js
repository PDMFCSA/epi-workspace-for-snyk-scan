const a49_0x214135=a49_0x512b;(function(_0x4256df,_0x1481f0){const _0x1815f9=a49_0x512b,_0x4a1941=_0x4256df();while(!![]){try{const _0x4374ef=parseInt(_0x1815f9(0xda))/0x1*(parseInt(_0x1815f9(0xe9))/0x2)+-parseInt(_0x1815f9(0xba))/0x3+-parseInt(_0x1815f9(0xec))/0x4*(-parseInt(_0x1815f9(0x113))/0x5)+-parseInt(_0x1815f9(0x119))/0x6*(parseInt(_0x1815f9(0x103))/0x7)+parseInt(_0x1815f9(0xc8))/0x8*(parseInt(_0x1815f9(0xd7))/0x9)+parseInt(_0x1815f9(0xdd))/0xa*(parseInt(_0x1815f9(0x115))/0xb)+-parseInt(_0x1815f9(0x11d))/0xc;if(_0x4374ef===_0x1481f0)break;else _0x4a1941['push'](_0x4a1941['shift']());}catch(_0x15618a){_0x4a1941['push'](_0x4a1941['shift']());}}}(a49_0x5437,0x51ad7));function a49_0x512b(_0x95178c,_0x1fba50){const _0x5437f6=a49_0x5437();return a49_0x512b=function(_0x512bc5,_0x569cd8){_0x512bc5=_0x512bc5-0xb8;let _0x55de5c=_0x5437f6[_0x512bc5];return _0x55de5c;},a49_0x512b(_0x95178c,_0x1fba50);}function a49_0x5437(){const _0x145957=['206632kcBIDj','amzyG','debug','rfInA','Workers\x20failed\x20to\x20exit\x20gracefully','waitForExit','OvvYf','platformCaps','parallelCucumberRun','UNSTABLE_onCustomMessage','getStdout','dVTKF','Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20','test-file-start','platform','135gnypMy','log','json','4814UoSSnv','oYSFG','../../helpers/test-observability/utils','861190mIWYfO','send','Worker','jizWg','YpSru','format','p-limit','uVHIP','vKguZ','muzsj','iboOk','platform-run-failure','58iWkjon','emit','then','268TwylDo','./testWorker.js','TiXJr','exitCode','results','EVENTS','yiFdH','FgxBp','JpHbv','error','pRzTW','_child','end','CDfwl','hZHFH','test-file-failure','push','pEKVB','yBmWg','fATwx','VltUp','ushJL','util','1174516ivneTG','stdout','parallelVanillaRun','DVSSc','pipe','kDTqJ','file','platforms','../../helpers/performance/constants','ZoGyO','TYiRd','length','cucumberWorker','getWorkers','all','vanillaWorker','23935wVxLyH','FtVpZ','22NuufcH','test-file-success','failureCount','SDK_SETUP','6thDykg','XHawE','getStderr','platform-run-start','4257144mNEWYG','exit','stop','stderr','488721GFJRyF','Exception\x20in\x20sending\x20worker\x20message\x20','AHJNj','wgIkI','BQHBS','resolve','\x20for','config','worker_threads','../../helpers/testhub/testhubHandler','worker','QfEWG','platform-run-success','info'];a49_0x5437=function(){return _0x145957;};return a49_0x5437();}const Worker=require('jest-worker')[a49_0x214135(0xdf)],Emittery=require('emittery'),pLimit=require(a49_0x214135(0xe3)),{parentPort}=require(a49_0x214135(0xc2)),util=require(a49_0x214135(0x102)),logger=require('../../helpers/logger')['winstonLogger'],PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a49_0x214135(0x10b))[a49_0x214135(0xf1)],{debug}=require(a49_0x214135(0xdc)),TestHubHandler=require(a49_0x214135(0xc3));exports['parallelTestRun']=(_0x581bcf,_0x3b826d,_0x30d92c)=>new Promise(async _0x13db6c=>{const _0x337c12=a49_0x214135,_0x24db34={'uVHIP':_0x337c12(0x117),'kDTqJ':function(_0x29ea99,_0x347f04){return _0x29ea99+_0x347f04;},'AHJNj':_0x337c12(0xf0),'Oehqi':_0x337c12(0xcc),'lkKmo':function(_0x28e35f,_0x4c4f5d){return _0x28e35f(_0x4c4f5d);},'hZHFH':function(_0x400115,_0x48d8df){return _0x400115(_0x48d8df);},'TYiRd':_0x337c12(0xd5),'wgIkI':_0x337c12(0xed),'RUdKX':_0x337c12(0xc4),'dVTKF':'json','YpSru':_0x337c12(0x107),'pEKVB':function(_0x59f815,_0x341db1){return _0x59f815*_0x341db1;},'epLwS':_0x337c12(0x116),'MGoOD':_0x337c12(0xfb),'FtVpZ':function(_0x136d31,_0x3c791a){return _0x136d31(_0x3c791a);},'VltUp':function(_0x41708b,_0x4264ae){return _0x41708b*_0x4264ae;}},_0x24cbad=_0x30d92c[_0x337c12(0xc1)],_0x421e02={},_0x41c5c7=new Worker(require[_0x337c12(0xbf)](_0x24db34[_0x337c12(0xbd)]),{'exposedMethods':[_0x24db34['RUdKX']],'forkOptions':{'serialization':_0x24db34[_0x337c12(0xd3)],'stdio':_0x24db34[_0x337c12(0xe1)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x24db34[_0x337c12(0xfd)](_0x3b826d,0x1),'enableWorkerThreads':!![]}),_0x58393b=new Emittery();_0x58393b['on'](_0x24db34['epLwS'],_0x3e1f78=>{const _0x1f88f7=_0x337c12;_0x421e02[_0x3e1f78[0x0]]?(_0x421e02[_0x3e1f78[0x0]][_0x24db34[_0x1f88f7(0xe4)]]=_0x24db34[_0x1f88f7(0x108)](_0x421e02[_0x3e1f78[0x0]][_0x24db34[_0x1f88f7(0xe4)]],_0x3e1f78[0x1][_0x24db34[_0x1f88f7(0xe4)]]),_0x421e02[_0x3e1f78[0x0]][_0x24db34['AHJNj']]=[..._0x421e02[_0x3e1f78[0x0]][_0x24db34['AHJNj']],..._0x3e1f78[0x1][_0x24db34[_0x1f88f7(0xbc)]]]):_0x421e02[_0x3e1f78[0x0]]={'failureCount':_0x3e1f78[0x1][_0x24db34['uVHIP']],'results':[..._0x3e1f78[0x1][_0x24db34['AHJNj']]]};}),_0x58393b['on'](_0x24db34['MGoOD'],_0x22c822=>console['log'](_0x22c822[0x1]));_0x41c5c7[_0x337c12(0xd2)]()&&_0x41c5c7['getStdout']()['pipe'](process[_0x337c12(0x104)]);_0x41c5c7[_0x337c12(0x11b)]()&&_0x41c5c7[_0x337c12(0x11b)]()['pipe'](process[_0x337c12(0xb9)]);const _0x4ec89e=async()=>{const _0x8ef4f2=_0x337c12,{forceExited:_0x2db1d1}=await _0x41c5c7[_0x8ef4f2(0xf8)]();_0x2db1d1&&console[_0x8ef4f2(0xf5)](_0x24db34['Oehqi']);try{await TestHubHandler[_0x8ef4f2(0xb8)]();}catch(_0x5ca4c6){_0x24db34['lkKmo'](debug,_0x8ef4f2(0xd4)+_0x5ca4c6);}_0x24db34[_0x8ef4f2(0xfa)](_0x13db6c,_0x421e02);},_0x5079a9=_0x24db34[_0x337c12(0x114)](pLimit,_0x24db34[_0x337c12(0x100)](_0x3b826d,0x1)),_0x1ff8c1=_0x48779b=>_0x5079a9(async()=>{const _0x36dec7=_0x337c12;await _0x58393b[_0x36dec7(0xea)](_0x24db34[_0x36dec7(0x10d)],_0x48779b);const _0x509edb=_0x41c5c7[_0x36dec7(0xc4)](_0x48779b,_0x24cbad);try{parentPort&&_0x509edb[_0x36dec7(0xd1)](_0x4950e7=>{const _0x2bc82f=_0x36dec7;try{parentPort['postMessage'](_0x4950e7);}catch(_0x352e4d){logger['debug'](_0x2bc82f(0xbb)+util['format'](_0x352e4d));}});}catch(_0x3765d2){logger[_0x36dec7(0xca)]('Exception\x20in\x20adding\x20custom\x20message\x20channel\x20'+util[_0x36dec7(0xe2)](_0x3765d2));}return _0x509edb;});PerformanceTester['end'](PerformanceEvents[_0x337c12(0x118)]),Promise['all'](_0x581bcf['map'](_0x1d3302=>_0x1ff8c1(_0x1d3302)[_0x337c12(0xeb)](_0x998a0b=>_0x58393b['emit'](_0x337c12(0x116),[_0x1d3302['configuration']['platform'],_0x998a0b]),_0x418e31=>_0x58393b[_0x337c12(0xea)]('test-file-failure',[_0x1d3302,_0x418e31]))))[_0x337c12(0xeb)](_0x4ec89e,_0x4ec89e);}),exports[a49_0x214135(0xd0)]=(_0x207e53,_0x18d3b5,_0x34d076,_0x4edd7c,_0x1ad1d6)=>{const _0x884862=a49_0x214135,_0xd5fc43={'TiXJr':_0x884862(0xcc),'OvvYf':function(_0x5d1b64,_0x24c50c){return _0x5d1b64(_0x24c50c);},'DVSSc':_0x884862(0x11c),'yiFdH':_0x884862(0xed),'QfEWG':'cucumberWorker','muzsj':_0x884862(0xd9),'pRzTW':'pipe','JpHbv':_0x884862(0xc6),'FgxBp':_0x884862(0xe8)};return new Promise(_0x351ac6=>{const _0x1dc8ad=_0x884862,_0x2b0446=[],_0x4995c3=new Worker(require[_0x1dc8ad(0xbf)](_0xd5fc43[_0x1dc8ad(0xf2)]),{'exposedMethods':[_0xd5fc43[_0x1dc8ad(0xc5)]],'forkOptions':{'serialization':_0xd5fc43[_0x1dc8ad(0xe6)],'stdio':_0xd5fc43[_0x1dc8ad(0xf6)]},'numWorkers':_0x207e53[_0x1dc8ad(0x10e)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x53d241=new Emittery();_0x53d241['on'](_0xd5fc43[_0x1dc8ad(0xf4)],_0x516046=>{const _0xdd20cf=_0x1dc8ad;_0x2b0446[_0xdd20cf(0xfc)]([_0x516046[0x0],_0x516046[0x1]]);}),_0x53d241['on'](_0xd5fc43[_0x1dc8ad(0xf3)],_0x5c02fa=>console[_0x1dc8ad(0xd8)](_0x5c02fa[0x1]));_0x4995c3[_0x1dc8ad(0xd2)]()&&_0x4995c3[_0x1dc8ad(0xd2)]()[_0x1dc8ad(0x107)](process[_0x1dc8ad(0x104)]);_0x4995c3[_0x1dc8ad(0x11b)]()&&_0x4995c3[_0x1dc8ad(0x11b)]()[_0x1dc8ad(0x107)](process[_0x1dc8ad(0xb9)]);const _0x3f4d06=async()=>{const _0x14df22=_0x1dc8ad,{forceExited:_0x307c14}=await _0x4995c3[_0x14df22(0xf8)]();_0x307c14&&console['error'](_0xd5fc43[_0x14df22(0xee)]),_0xd5fc43['OvvYf'](_0x351ac6,_0x2b0446);},_0x1fe8d5=_0xd5fc43[_0x1dc8ad(0xce)](pLimit,_0x207e53[_0x1dc8ad(0x10e)]||0x1),_0x5d4143=(_0x2f1931,_0xc453fb)=>_0x1fe8d5(async()=>{const _0x549e6e=_0x1dc8ad;return await _0x53d241['emit'](_0xd5fc43[_0x549e6e(0x106)],_0x2f1931),_0x18d3b5[_0x549e6e(0xcf)]=_0x34d076[_0x549e6e(0x10a)][_0xc453fb],_0x4995c3[_0x549e6e(0x10f)](_0x2f1931,_0x18d3b5,_0x34d076,_0x4edd7c,_0x1ad1d6);});Promise[_0x1dc8ad(0x111)](_0x207e53['map']((_0x5c1eac,_0x30aeda)=>_0x5d4143(_0x5c1eac,_0x30aeda)[_0x1dc8ad(0xeb)](_0xefc49f=>_0x53d241[_0x1dc8ad(0xea)]('platform-run-success',[_0x5c1eac,_0xefc49f]),_0x3f199c=>_0x53d241[_0x1dc8ad(0xea)]('platform-run-failure',[_0x5c1eac,_0x3f199c]))))[_0x1dc8ad(0xeb)](_0x3f4d06,_0x3f4d06);});},exports[a49_0x214135(0x105)]=(_0x5e9c67,_0x459a20)=>new Promise(_0x41e056=>{const _0x27e674=a49_0x214135,_0x5258e4={'JWGGM':function(_0x5c1e75,_0xb0ad2d){return _0x5c1e75===_0xb0ad2d;},'BQHBS':function(_0x2be776,_0x11b643){return _0x2be776!==_0x11b643;},'XHawE':_0x27e674(0x11e),'oYSFG':_0x27e674(0xcc),'amzyG':function(_0x58be5c,_0x7b135a){return _0x58be5c(_0x7b135a);},'yBmWg':'./testWorker.js','iboOk':_0x27e674(0x112),'jizWg':'json','ZoGyO':_0x27e674(0x107),'CDfwl':_0x27e674(0x116),'ushJL':_0x27e674(0xfb),'rfInA':function(_0x5d384c,_0x6eabdd){return _0x5d384c(_0x6eabdd);}},_0x51b72d={},_0x413e9a=new Worker(require[_0x27e674(0xbf)](_0x5258e4[_0x27e674(0xfe)]),{'exposedMethods':[_0x5258e4[_0x27e674(0xe7)]],'forkOptions':{'serialization':_0x5258e4[_0x27e674(0xe0)],'stdio':_0x5258e4[_0x27e674(0x10c)]},'numWorkers':_0x459a20,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x3cf086=new Emittery();_0x3cf086['on'](_0x5258e4[_0x27e674(0xf9)],_0x318bc4=>{const _0x2894a0=_0x27e674;_0x318bc4[0x0]&&logger[_0x2894a0(0xc7)]('Running\x20'+_0x318bc4[0x1]+_0x2894a0(0xc0),_0x318bc4[0x0]);}),_0x3cf086['on'](_0x5258e4[_0x27e674(0x101)],_0x2c33a5=>{const _0xd1b03a=_0x27e674;process[_0xd1b03a(0xef)]=0x1;});_0x413e9a['getStdout']()&&_0x413e9a[_0x27e674(0xd2)]()['pipe'](process['stdout']);_0x413e9a['getStderr']()&&_0x413e9a[_0x27e674(0x11b)]()['pipe'](process[_0x27e674(0xb9)]);const _0x201bab=async()=>{const _0x32f245=_0x27e674;let _0x3f5490=0x0;const _0x5f5ada=_0x413e9a['_workerPool'][_0x32f245(0x110)](),_0x294dab=()=>{},_0x5a93d=_0x5f5ada['map'](async _0x26befc=>{const _0x171d2f=_0x32f245,_0x3eae78={'vKguZ':function(_0x32007d,_0xb6a23b){return _0x5258e4['JWGGM'](_0x32007d,_0xb6a23b);},'fATwx':function(_0x383180,_0x4b6509){const _0x29d6b6=a49_0x512b;return _0x5258e4[_0x29d6b6(0xbe)](_0x383180,_0x4b6509);}};_0x26befc[_0x171d2f(0xde)]([0x2,![]],_0x294dab,_0x294dab,_0x294dab),_0x26befc[_0x171d2f(0xf7)]['on'](_0x5258e4[_0x171d2f(0x11a)],_0x4f0435=>{const _0x47e0fb=_0x171d2f;_0x3eae78[_0x47e0fb(0xe5)](_0x3f5490,0x0)&&_0x3eae78[_0x47e0fb(0xff)](_0x4f0435,0x0)&&(_0x3f5490=_0x4f0435);}),await _0x26befc[_0x171d2f(0xcd)]();});await Promise[_0x32f245(0x111)](_0x5a93d),process['exitCode']=_0x3f5490;const {forceExited:_0x4a5dd7}=await _0x413e9a['end']();_0x4a5dd7&&console['error'](_0x5258e4[_0x32f245(0xdb)]),_0x5258e4[_0x32f245(0xc9)](_0x41e056,_0x51b72d);},_0x8157b1=_0x5258e4[_0x27e674(0xcb)](pLimit,_0x459a20),_0x43ce0f=_0x273df0=>_0x8157b1(async()=>{const _0x171831=_0x27e674;return _0x413e9a[_0x171831(0x112)](_0x273df0);});Promise[_0x27e674(0x111)](_0x5e9c67['map'](_0x38fc21=>_0x43ce0f(_0x38fc21)[_0x27e674(0xeb)](_0x585c8e=>_0x3cf086['emit'](_0x27e674(0x116),[_0x38fc21['configuration'][_0x27e674(0xd6)],_0x38fc21['configuration'][_0x27e674(0x109)]]),_0xab9d8b=>_0x3cf086[_0x27e674(0xea)](_0x27e674(0xfb),[_0x38fc21,_0xab9d8b]))))[_0x27e674(0xeb)](_0x201bab,_0x201bab);});