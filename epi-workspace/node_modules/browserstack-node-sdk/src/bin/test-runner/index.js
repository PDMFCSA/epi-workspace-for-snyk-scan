const a46_0x398bb7=a46_0x1c83;(function(_0x257707,_0x50e3ac){const _0x14265c=a46_0x1c83,_0x2a5735=_0x257707();while(!![]){try{const _0x318f61=-parseInt(_0x14265c(0x199))/0x1+-parseInt(_0x14265c(0x17f))/0x2*(parseInt(_0x14265c(0x1b2))/0x3)+parseInt(_0x14265c(0x196))/0x4*(-parseInt(_0x14265c(0x17e))/0x5)+parseInt(_0x14265c(0x1bc))/0x6+parseInt(_0x14265c(0x1b4))/0x7*(-parseInt(_0x14265c(0x194))/0x8)+parseInt(_0x14265c(0x198))/0x9*(parseInt(_0x14265c(0x1c5))/0xa)+parseInt(_0x14265c(0x179))/0xb;if(_0x318f61===_0x50e3ac)break;else _0x2a5735['push'](_0x2a5735['shift']());}catch(_0x3deab9){_0x2a5735['push'](_0x2a5735['shift']());}}}(a46_0x57c4,0x8f526));const Worker=require('jest-worker')[a46_0x398bb7(0x1ac)],Emittery=require(a46_0x398bb7(0x17c)),pLimit=require(a46_0x398bb7(0x1d0)),{parentPort}=require('worker_threads'),util=require(a46_0x398bb7(0x1b8)),logger=require(a46_0x398bb7(0x1d1))[a46_0x398bb7(0x188)],PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a46_0x398bb7(0x1a6))[a46_0x398bb7(0x1c2)],{debug}=require('../../helpers/test-observability/utils'),TestHubHandler=require(a46_0x398bb7(0x177));function a46_0x57c4(){const _0x2a1dc8=['1380bRDdwU','test-file-failure','1351QsurCd','configuration','_child','mEVMG','util','JGOlM','exit','DkmUL','802734PBzuZC','LCvRB','IyEYz','Running\x20','aNmSP','stop','EVENTS','stdout','getStdout','3931230TTwOrz','config','stderr','platform-run-start','./testWorker.js','iWoTx','xcKQg','end','UNSTABLE_onCustomMessage','Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20','NeOEF','p-limit','../../helpers/logger','Udnkf','getStderr','bKKJz','JpJcq','KygSt','avMAi','log','bqoBD','then','RkUuM','_workerPool','../../helpers/testhub/testhubHandler','info','19513692tLkRmh','resolve','wmxQT','emittery','emit','3715oghDjY','746nuPisq','cucumberWorker','worker','sANqz','waitForExit','exitCode','format','json','pipe','winstonLogger','debug','ovvhH','JMuJl','EwTSF','parallelVanillaRun','vanillaWorker','SPJWL','Workers\x20failed\x20to\x20exit\x20gracefully','parallelCucumberRun','Ojgzp','Iozmq','21544nvyLQY','platform','1384FroXGd','map','18VMnhEL','1158554efWfpz','length','uQTxf','error','UFosJ','postMessage','Exception\x20in\x20sending\x20worker\x20message\x20','\x20for','failureCount','oMHhw','LKgmm','results','parallelTestRun','../../helpers/performance/constants','platform-run-failure','ODWKl','send','file','AfoKn','Worker','all','NfUdW','platformCaps','platform-run-success','RwqNa'];a46_0x57c4=function(){return _0x2a1dc8;};return a46_0x57c4();}function a46_0x1c83(_0x4039cc,_0x3ed6eb){const _0x57c4e3=a46_0x57c4();return a46_0x1c83=function(_0x1c8379,_0x29c731){_0x1c8379=_0x1c8379-0x177;let _0x5caccb=_0x57c4e3[_0x1c8379];return _0x5caccb;},a46_0x1c83(_0x4039cc,_0x3ed6eb);}exports[a46_0x398bb7(0x1a5)]=(_0x50d041,_0x44b33a,_0x26ea63)=>new Promise(async _0x5d2a0d=>{const _0x4ad1d2=a46_0x398bb7,_0x28b90d={'LCvRB':_0x4ad1d2(0x1a1),'ODWKl':function(_0x3d24b0,_0x1f998f){return _0x3d24b0+_0x1f998f;},'uQTxf':_0x4ad1d2(0x1a4),'mEVMG':_0x4ad1d2(0x190),'aNmSP':function(_0x582645,_0x23aa11){return _0x582645(_0x23aa11);},'SPJWL':function(_0x231416,_0x49aed5){return _0x231416(_0x49aed5);},'bKKJz':'test-file-start','LKgmm':_0x4ad1d2(0x1c9),'sANqz':'worker','RwqNa':_0x4ad1d2(0x186),'xcKQg':_0x4ad1d2(0x187),'EwTSF':function(_0x57697,_0x4aaee6){return _0x57697*_0x4aaee6;},'zqzQe':'test-file-success','JGOlM':_0x4ad1d2(0x1b3),'DkmUL':function(_0x1de04c,_0x36ba80){return _0x1de04c(_0x36ba80);}},_0x7111b3=_0x26ea63[_0x4ad1d2(0x1c6)],_0x3606b1={},_0x5386b6=new Worker(require[_0x4ad1d2(0x17a)](_0x28b90d[_0x4ad1d2(0x1a3)]),{'exposedMethods':[_0x28b90d[_0x4ad1d2(0x182)]],'forkOptions':{'serialization':_0x28b90d[_0x4ad1d2(0x1b1)],'stdio':_0x28b90d[_0x4ad1d2(0x1cb)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x28b90d[_0x4ad1d2(0x18c)](_0x44b33a,0x1),'enableWorkerThreads':!![]}),_0x2d1b33=new Emittery();_0x2d1b33['on'](_0x28b90d['zqzQe'],_0x24b392=>{const _0x1e16f5=_0x4ad1d2;_0x3606b1[_0x24b392[0x0]]?(_0x3606b1[_0x24b392[0x0]][_0x28b90d[_0x1e16f5(0x1bd)]]=_0x28b90d[_0x1e16f5(0x1a8)](_0x3606b1[_0x24b392[0x0]][_0x28b90d[_0x1e16f5(0x1bd)]],_0x24b392[0x1][_0x28b90d[_0x1e16f5(0x1bd)]]),_0x3606b1[_0x24b392[0x0]][_0x28b90d[_0x1e16f5(0x19b)]]=[..._0x3606b1[_0x24b392[0x0]][_0x28b90d[_0x1e16f5(0x19b)]],..._0x24b392[0x1][_0x28b90d['uQTxf']]]):_0x3606b1[_0x24b392[0x0]]={'failureCount':_0x24b392[0x1][_0x28b90d['LCvRB']],'results':[..._0x24b392[0x1][_0x28b90d[_0x1e16f5(0x19b)]]]};}),_0x2d1b33['on'](_0x28b90d[_0x4ad1d2(0x1b9)],_0x3ed30f=>console[_0x4ad1d2(0x1d8)](_0x3ed30f[0x1]));_0x5386b6['getStdout']()&&_0x5386b6[_0x4ad1d2(0x1c4)]()[_0x4ad1d2(0x187)](process[_0x4ad1d2(0x1c3)]);_0x5386b6[_0x4ad1d2(0x1d3)]()&&_0x5386b6[_0x4ad1d2(0x1d3)]()[_0x4ad1d2(0x187)](process['stderr']);const _0x9f2b6d=async()=>{const _0x554bc4=_0x4ad1d2,{forceExited:_0xf09252}=await _0x5386b6[_0x554bc4(0x1cc)]();_0xf09252&&console[_0x554bc4(0x19c)](_0x28b90d[_0x554bc4(0x1b7)]);try{await TestHubHandler[_0x554bc4(0x1c1)]();}catch(_0x1933d4){_0x28b90d[_0x554bc4(0x1c0)](debug,_0x554bc4(0x1ce)+_0x1933d4);}_0x28b90d[_0x554bc4(0x18f)](_0x5d2a0d,_0x3606b1);},_0x4d745a=_0x28b90d[_0x4ad1d2(0x1bb)](pLimit,_0x28b90d[_0x4ad1d2(0x18c)](_0x44b33a,0x1)),_0x10bc21=_0x524865=>_0x4d745a(async()=>{const _0x330439=_0x4ad1d2;await _0x2d1b33[_0x330439(0x17d)](_0x28b90d[_0x330439(0x1d4)],_0x524865);const _0x3bef7d=_0x5386b6[_0x330439(0x181)](_0x524865,_0x7111b3);try{parentPort&&_0x3bef7d[_0x330439(0x1cd)](_0x273fa3=>{const _0x37b0b4=_0x330439;try{parentPort[_0x37b0b4(0x19e)](_0x273fa3);}catch(_0x46a724){logger[_0x37b0b4(0x189)](_0x37b0b4(0x19f)+util[_0x37b0b4(0x185)](_0x46a724));}});}catch(_0x1666bf){logger[_0x330439(0x189)]('Exception\x20in\x20adding\x20custom\x20message\x20channel\x20'+util[_0x330439(0x185)](_0x1666bf));}return _0x3bef7d;});PerformanceTester[_0x4ad1d2(0x1cc)](PerformanceEvents['SDK_SETUP']),Promise[_0x4ad1d2(0x1ad)](_0x50d041[_0x4ad1d2(0x197)](_0x4d42b6=>_0x10bc21(_0x4d42b6)[_0x4ad1d2(0x1da)](_0x262463=>_0x2d1b33['emit']('test-file-success',[_0x4d42b6[_0x4ad1d2(0x1b5)][_0x4ad1d2(0x195)],_0x262463]),_0x37d692=>_0x2d1b33[_0x4ad1d2(0x17d)]('test-file-failure',[_0x4d42b6,_0x37d692]))))['then'](_0x9f2b6d,_0x9f2b6d);}),exports[a46_0x398bb7(0x191)]=(_0x2ffcc8,_0x105ab2,_0x6e04e8,_0x12bdf7,_0x215eca)=>{const _0x1e67b3=a46_0x398bb7,_0x3232f5={'avMAi':_0x1e67b3(0x190),'iWoTx':function(_0x38f00a,_0xe5a6c2){return _0x38f00a(_0xe5a6c2);},'bqoBD':_0x1e67b3(0x1c8),'Iozmq':'./testWorker.js','JpJcq':_0x1e67b3(0x180),'OyVjP':_0x1e67b3(0x186),'NeOEF':'pipe','UYykd':_0x1e67b3(0x1b0),'KygSt':'platform-run-failure'};return new Promise(_0x316709=>{const _0x597dca=_0x1e67b3,_0x15f3af={'Udnkf':_0x3232f5[_0x597dca(0x1d7)],'pDTDE':function(_0xcfaf57,_0x26871f){const _0x7b890=_0x597dca;return _0x3232f5[_0x7b890(0x1ca)](_0xcfaf57,_0x26871f);},'WIpbJ':_0x3232f5[_0x597dca(0x1d9)]},_0x5ca658=[],_0x117019=new Worker(require[_0x597dca(0x17a)](_0x3232f5[_0x597dca(0x193)]),{'exposedMethods':[_0x3232f5[_0x597dca(0x1d5)]],'forkOptions':{'serialization':_0x3232f5['OyVjP'],'stdio':_0x3232f5[_0x597dca(0x1cf)]},'numWorkers':_0x2ffcc8[_0x597dca(0x19a)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x1ea351=new Emittery();_0x1ea351['on'](_0x3232f5['UYykd'],_0x2a07a5=>{_0x5ca658['push']([_0x2a07a5[0x0],_0x2a07a5[0x1]]);}),_0x1ea351['on'](_0x3232f5[_0x597dca(0x1d6)],_0x52f1c6=>console[_0x597dca(0x1d8)](_0x52f1c6[0x1]));_0x117019[_0x597dca(0x1c4)]()&&_0x117019[_0x597dca(0x1c4)]()[_0x597dca(0x187)](process[_0x597dca(0x1c3)]);_0x117019[_0x597dca(0x1d3)]()&&_0x117019['getStderr']()[_0x597dca(0x187)](process[_0x597dca(0x1c7)]);const _0x143a78=async()=>{const _0x2a7e7b=_0x597dca,{forceExited:_0x2736d9}=await _0x117019[_0x2a7e7b(0x1cc)]();_0x2736d9&&console[_0x2a7e7b(0x19c)](_0x15f3af[_0x2a7e7b(0x1d2)]),_0x15f3af['pDTDE'](_0x316709,_0x5ca658);},_0x481583=_0x3232f5[_0x597dca(0x1ca)](pLimit,_0x2ffcc8[_0x597dca(0x19a)]||0x1),_0x1a1cf9=(_0x3ad276,_0x1f1162)=>_0x481583(async()=>{const _0x1a0c9f=_0x597dca;return await _0x1ea351[_0x1a0c9f(0x17d)](_0x15f3af['WIpbJ'],_0x3ad276),_0x105ab2[_0x1a0c9f(0x1af)]=_0x6e04e8['platforms'][_0x1f1162],_0x117019[_0x1a0c9f(0x180)](_0x3ad276,_0x105ab2,_0x6e04e8,_0x12bdf7,_0x215eca);});Promise['all'](_0x2ffcc8['map']((_0x351868,_0x233b84)=>_0x1a1cf9(_0x351868,_0x233b84)[_0x597dca(0x1da)](_0x86f3b0=>_0x1ea351[_0x597dca(0x17d)]('platform-run-success',[_0x351868,_0x86f3b0]),_0x40e24f=>_0x1ea351['emit'](_0x597dca(0x1a7),[_0x351868,_0x40e24f]))))[_0x597dca(0x1da)](_0x143a78,_0x143a78);});},exports[a46_0x398bb7(0x18d)]=(_0x1e8d09,_0x119e14)=>new Promise(_0x21e811=>{const _0x491921=a46_0x398bb7,_0x3afe2e={'RbUSg':function(_0x36cd20,_0xdd6ea2){return _0x36cd20===_0xdd6ea2;},'AfoKn':function(_0x50c4b3,_0x1c327b){return _0x50c4b3!==_0x1c327b;},'Ojgzp':_0x491921(0x1ba),'jutav':_0x491921(0x190),'UFosJ':function(_0x4403ff,_0x2837c7){return _0x4403ff(_0x2837c7);},'RkUuM':_0x491921(0x1c9),'IyEYz':_0x491921(0x18e),'LkYHC':_0x491921(0x186),'ovvhH':'pipe','JMuJl':'test-file-success','wmxQT':_0x491921(0x1b3),'iIjSQ':function(_0x31c537,_0x594ca0){return _0x31c537(_0x594ca0);}},_0x45947a={},_0x571d34=new Worker(require['resolve'](_0x3afe2e[_0x491921(0x1db)]),{'exposedMethods':[_0x3afe2e[_0x491921(0x1be)]],'forkOptions':{'serialization':_0x3afe2e['LkYHC'],'stdio':_0x3afe2e[_0x491921(0x18a)]},'numWorkers':_0x119e14,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x1e45b8=new Emittery();_0x1e45b8['on'](_0x3afe2e[_0x491921(0x18b)],_0x6b8ede=>{const _0x16ab27=_0x491921;_0x6b8ede[0x0]&&logger[_0x16ab27(0x178)](_0x16ab27(0x1bf)+_0x6b8ede[0x1]+_0x16ab27(0x1a0),_0x6b8ede[0x0]);}),_0x1e45b8['on'](_0x3afe2e[_0x491921(0x17b)],_0x3ee1fb=>{process['exitCode']=0x1;});_0x571d34[_0x491921(0x1c4)]()&&_0x571d34[_0x491921(0x1c4)]()[_0x491921(0x187)](process[_0x491921(0x1c3)]);_0x571d34['getStderr']()&&_0x571d34[_0x491921(0x1d3)]()[_0x491921(0x187)](process[_0x491921(0x1c7)]);const _0x300ed4=async()=>{const _0x149021=_0x491921;let _0x23c47c=0x0;const _0x41f1b4=_0x571d34[_0x149021(0x1dc)]['getWorkers'](),_0x23d6aa=()=>{},_0x2b5d54=_0x41f1b4[_0x149021(0x197)](async _0x3e2300=>{const _0x1c2694=_0x149021,_0x104535={'NfUdW':function(_0x170905,_0x5291df){return _0x3afe2e['RbUSg'](_0x170905,_0x5291df);},'oMHhw':function(_0x58d90f,_0x2683d7){const _0x22c884=a46_0x1c83;return _0x3afe2e[_0x22c884(0x1ab)](_0x58d90f,_0x2683d7);}};_0x3e2300[_0x1c2694(0x1a9)]([0x2,![]],_0x23d6aa,_0x23d6aa,_0x23d6aa),_0x3e2300[_0x1c2694(0x1b6)]['on'](_0x3afe2e[_0x1c2694(0x192)],_0x3ca0c3=>{const _0x3b644a=_0x1c2694;_0x104535[_0x3b644a(0x1ae)](_0x23c47c,0x0)&&_0x104535[_0x3b644a(0x1a2)](_0x3ca0c3,0x0)&&(_0x23c47c=_0x3ca0c3);}),await _0x3e2300[_0x1c2694(0x183)]();});await Promise['all'](_0x2b5d54),process[_0x149021(0x184)]=_0x23c47c;const {forceExited:_0x4268cd}=await _0x571d34[_0x149021(0x1cc)]();_0x4268cd&&console[_0x149021(0x19c)](_0x3afe2e['jutav']),_0x3afe2e[_0x149021(0x19d)](_0x21e811,_0x45947a);},_0x2535b5=_0x3afe2e['iIjSQ'](pLimit,_0x119e14),_0x5aa5f2=_0x48dcea=>_0x2535b5(async()=>{const _0xf8ee46=_0x491921;return _0x571d34[_0xf8ee46(0x18e)](_0x48dcea);});Promise[_0x491921(0x1ad)](_0x1e8d09['map'](_0x14b329=>_0x5aa5f2(_0x14b329)[_0x491921(0x1da)](_0x191b6c=>_0x1e45b8[_0x491921(0x17d)]('test-file-success',[_0x14b329['configuration']['platform'],_0x14b329[_0x491921(0x1b5)][_0x491921(0x1aa)]]),_0x3f57b2=>_0x1e45b8['emit']('test-file-failure',[_0x14b329,_0x3f57b2]))))[_0x491921(0x1da)](_0x300ed4,_0x300ed4);});