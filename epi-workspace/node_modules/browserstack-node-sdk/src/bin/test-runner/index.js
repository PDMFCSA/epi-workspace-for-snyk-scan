const a51_0x360a96=a51_0x14d6;(function(_0x5708da,_0x8916a2){const _0x55aeb5=a51_0x14d6,_0x44ec6a=_0x5708da();while(!![]){try{const _0x53dc04=-parseInt(_0x55aeb5(0x164))/0x1+-parseInt(_0x55aeb5(0x199))/0x2+parseInt(_0x55aeb5(0x19e))/0x3*(-parseInt(_0x55aeb5(0x19d))/0x4)+parseInt(_0x55aeb5(0x179))/0x5*(parseInt(_0x55aeb5(0x161))/0x6)+-parseInt(_0x55aeb5(0x168))/0x7*(-parseInt(_0x55aeb5(0x18c))/0x8)+-parseInt(_0x55aeb5(0x167))/0x9+parseInt(_0x55aeb5(0x18d))/0xa;if(_0x53dc04===_0x8916a2)break;else _0x44ec6a['push'](_0x44ec6a['shift']());}catch(_0x41a380){_0x44ec6a['push'](_0x44ec6a['shift']());}}}(a51_0x3ae0,0x592ee));const Worker=require('jest-worker')[a51_0x360a96(0x17c)],Emittery=require('emittery'),pLimit=require('p-limit'),{parentPort}=require('worker_threads'),util=require(a51_0x360a96(0x175)),logger=require(a51_0x360a96(0x195))['winstonLogger'],PerformanceTester=require(a51_0x360a96(0x14e)),PerformanceEvents=require(a51_0x360a96(0x1a5))[a51_0x360a96(0x190)],{debug}=require(a51_0x360a96(0x18e)),TestHubHandler=require(a51_0x360a96(0x156));function a51_0x3ae0(){const _0x1bff26=['EcPKt','platform-run-success','end','stdout','iryBm','Workers\x20failed\x20to\x20exit\x20gracefully','map','pAWXu','8RSpnGi','2737780ilxrDu','../../helpers/test-observability/utils','_child','EVENTS','waitForExit','log','parallelTestRun','hnJbA','../../helpers/logger','RsRAV','postMessage','format','393968aeLUQF','exit','send','mCprX','244528DVOcHe','33XJGBka','Running\x20','Exception\x20in\x20adding\x20custom\x20message\x20channel\x20','yflSo','thlsl','Ogwko','exitCode','../../helpers/performance/constants','length','platformCaps','getStdout','configuration','platform-run-failure','parallelCucumberRun','test-file-success','GCxFu','../../helpers/performance/performance-tester','NIIWO','YQviH','./testWorker.js','SJfjW','qPUaP','platform','qlsql','../../helpers/testhub/testhubHandler','qwmiG','Exception\x20in\x20sending\x20worker\x20message\x20','push','_workerPool','resolve','config','vanillaWorker','emit','file','cucumberWorker','4315074WZNYKA','stop','nbpKb','301091UdBZUU','getStderr','all','668133Jkvumj','4319707LttaiZ','mDbKw','error','MlLac','VDNbT','mBPuJ','qGnUt','json','results','test-file-start','info','test-file-failure','ZqBqA','util','then','cmJbV','viLAI','5nbWzdy','stderr','ZORAP','Worker','KbttY','teyuc','platform-run-start','debug','pipe','bpGvm','ASYty'];a51_0x3ae0=function(){return _0x1bff26;};return a51_0x3ae0();}function a51_0x14d6(_0x2127e4,_0x5b6a8c){const _0x3ae09a=a51_0x3ae0();return a51_0x14d6=function(_0x14d61d,_0x28bdd3){_0x14d61d=_0x14d61d-0x14d;let _0x23233f=_0x3ae09a[_0x14d61d];return _0x23233f;},a51_0x14d6(_0x2127e4,_0x5b6a8c);}exports[a51_0x360a96(0x193)]=(_0x2d8e38,_0x2d56a9,_0x4c1602)=>new Promise(async _0x19f499=>{const _0x40f1dd=a51_0x360a96,_0xb3a667={'thlsl':'failureCount','qlsql':function(_0x1482cd,_0x3bd89f){return _0x1482cd+_0x3bd89f;},'ASYty':_0x40f1dd(0x170),'cmJbV':_0x40f1dd(0x189),'teyuc':function(_0x5536f4,_0x58c5ca){return _0x5536f4(_0x58c5ca);},'bpGvm':_0x40f1dd(0x171),'Ogwko':_0x40f1dd(0x151),'mBPuJ':'worker','qGnUt':_0x40f1dd(0x16f),'MlLac':_0x40f1dd(0x181),'NIIWO':function(_0x4e4b7a,_0x129f66){return _0x4e4b7a*_0x129f66;},'GYfkg':_0x40f1dd(0x1ac),'mCprX':_0x40f1dd(0x173),'ZAXdf':function(_0x251670,_0x5290f2){return _0x251670(_0x5290f2);}},_0x16e63c=_0x4c1602[_0x40f1dd(0x15c)],_0x4e3b5f={},_0x4a696b=new Worker(require[_0x40f1dd(0x15b)](_0xb3a667[_0x40f1dd(0x1a3)]),{'exposedMethods':[_0xb3a667[_0x40f1dd(0x16d)]],'forkOptions':{'serialization':_0xb3a667[_0x40f1dd(0x16e)],'stdio':_0xb3a667[_0x40f1dd(0x16b)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0xb3a667[_0x40f1dd(0x14f)](_0x2d56a9,0x1),'enableWorkerThreads':!![]}),_0x3b6171=new Emittery();_0x3b6171['on'](_0xb3a667['GYfkg'],_0x52582e=>{const _0x887ee2=_0x40f1dd;_0x4e3b5f[_0x52582e[0x0]]?(_0x4e3b5f[_0x52582e[0x0]][_0xb3a667['thlsl']]=_0xb3a667[_0x887ee2(0x155)](_0x4e3b5f[_0x52582e[0x0]][_0xb3a667[_0x887ee2(0x1a2)]],_0x52582e[0x1][_0xb3a667[_0x887ee2(0x1a2)]]),_0x4e3b5f[_0x52582e[0x0]][_0xb3a667['ASYty']]=[..._0x4e3b5f[_0x52582e[0x0]][_0xb3a667['ASYty']],..._0x52582e[0x1][_0xb3a667[_0x887ee2(0x183)]]]):_0x4e3b5f[_0x52582e[0x0]]={'failureCount':_0x52582e[0x1][_0xb3a667['thlsl']],'results':[..._0x52582e[0x1][_0xb3a667[_0x887ee2(0x183)]]]};}),_0x3b6171['on'](_0xb3a667[_0x40f1dd(0x19c)],_0x381df9=>console[_0x40f1dd(0x192)](_0x381df9[0x1]));_0x4a696b[_0x40f1dd(0x1a8)]()&&_0x4a696b[_0x40f1dd(0x1a8)]()[_0x40f1dd(0x181)](process[_0x40f1dd(0x187)]);_0x4a696b[_0x40f1dd(0x165)]()&&_0x4a696b[_0x40f1dd(0x165)]()[_0x40f1dd(0x181)](process['stderr']);const _0x33c744=async()=>{const _0x1d6c5e=_0x40f1dd,{forceExited:_0x2a74b5}=await _0x4a696b[_0x1d6c5e(0x186)]();_0x2a74b5&&console[_0x1d6c5e(0x16a)](_0xb3a667[_0x1d6c5e(0x177)]);try{await TestHubHandler[_0x1d6c5e(0x162)]();}catch(_0x1c6a8e){_0xb3a667[_0x1d6c5e(0x17e)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20'+_0x1c6a8e);}_0xb3a667[_0x1d6c5e(0x17e)](_0x19f499,_0x4e3b5f);},_0x41c263=_0xb3a667['ZAXdf'](pLimit,_0xb3a667[_0x40f1dd(0x14f)](_0x2d56a9,0x1)),_0x187d3d=_0x16629c=>_0x41c263(async()=>{const _0x1e3f2d=_0x40f1dd;await _0x3b6171['emit'](_0xb3a667[_0x1e3f2d(0x182)],_0x16629c);const _0x27865e=_0x4a696b['worker'](_0x16629c,_0x16e63c);try{parentPort&&_0x27865e['UNSTABLE_onCustomMessage'](_0x4efa4c=>{const _0x3a2190=_0x1e3f2d;try{parentPort[_0x3a2190(0x197)](_0x4efa4c);}catch(_0x567c67){logger[_0x3a2190(0x180)](_0x3a2190(0x158)+util[_0x3a2190(0x198)](_0x567c67));}});}catch(_0x4751cd){logger[_0x1e3f2d(0x180)](_0x1e3f2d(0x1a0)+util[_0x1e3f2d(0x198)](_0x4751cd));}return _0x27865e;});PerformanceTester['end'](PerformanceEvents['SDK_SETUP']),Promise[_0x40f1dd(0x166)](_0x2d8e38[_0x40f1dd(0x18a)](_0x4f6778=>_0x187d3d(_0x4f6778)[_0x40f1dd(0x176)](_0x2bf64a=>_0x3b6171['emit'](_0x40f1dd(0x1ac),[_0x4f6778[_0x40f1dd(0x1a9)][_0x40f1dd(0x154)],_0x2bf64a]),_0x584025=>_0x3b6171[_0x40f1dd(0x15e)](_0x40f1dd(0x173),[_0x4f6778,_0x584025]))))['then'](_0x33c744,_0x33c744);}),exports[a51_0x360a96(0x1ab)]=(_0x120417,_0x387ce3,_0x35e529,_0x27753b,_0x21b1f6)=>{const _0x54ebcb=a51_0x360a96,_0x6eb9f5={'VxKRS':_0x54ebcb(0x189),'RsRAV':function(_0x325d02,_0x3e1afb){return _0x325d02(_0x3e1afb);},'hnJbA':_0x54ebcb(0x17f),'YQviH':_0x54ebcb(0x151),'viLAI':_0x54ebcb(0x160),'arGWb':_0x54ebcb(0x16f),'EcPKt':_0x54ebcb(0x181),'KbttY':_0x54ebcb(0x185),'lIfBb':_0x54ebcb(0x1aa)};return new Promise(_0x2d3d32=>{const _0x1c30c1=_0x54ebcb,_0x2694f9={'iryBm':_0x6eb9f5['VxKRS'],'pAWXu':function(_0x1fc2e1,_0xbc8af3){const _0x3e6f=a51_0x14d6;return _0x6eb9f5[_0x3e6f(0x196)](_0x1fc2e1,_0xbc8af3);},'ZqBqA':_0x6eb9f5[_0x1c30c1(0x194)]},_0x2eab17=[],_0x5e7219=new Worker(require[_0x1c30c1(0x15b)](_0x6eb9f5[_0x1c30c1(0x150)]),{'exposedMethods':[_0x6eb9f5[_0x1c30c1(0x178)]],'forkOptions':{'serialization':_0x6eb9f5['arGWb'],'stdio':_0x6eb9f5[_0x1c30c1(0x184)]},'numWorkers':_0x120417[_0x1c30c1(0x1a6)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x20371c=new Emittery();_0x20371c['on'](_0x6eb9f5[_0x1c30c1(0x17d)],_0x4fd861=>{const _0x1efd6f=_0x1c30c1;_0x2eab17[_0x1efd6f(0x159)]([_0x4fd861[0x0],_0x4fd861[0x1]]);}),_0x20371c['on'](_0x6eb9f5['lIfBb'],_0xd3b6ae=>console['log'](_0xd3b6ae[0x1]));_0x5e7219['getStdout']()&&_0x5e7219[_0x1c30c1(0x1a8)]()[_0x1c30c1(0x181)](process[_0x1c30c1(0x187)]);_0x5e7219['getStderr']()&&_0x5e7219['getStderr']()[_0x1c30c1(0x181)](process[_0x1c30c1(0x17a)]);const _0xd3a805=async()=>{const _0x10938=_0x1c30c1,{forceExited:_0x3a60dc}=await _0x5e7219[_0x10938(0x186)]();_0x3a60dc&&console[_0x10938(0x16a)](_0x2694f9[_0x10938(0x188)]),_0x2694f9[_0x10938(0x18b)](_0x2d3d32,_0x2eab17);},_0x1c7aa2=_0x6eb9f5[_0x1c30c1(0x196)](pLimit,_0x120417['length']||0x1),_0x3dcfeb=(_0x12b53f,_0x13f014)=>_0x1c7aa2(async()=>{const _0x3c2d37=_0x1c30c1;return await _0x20371c[_0x3c2d37(0x15e)](_0x2694f9[_0x3c2d37(0x174)],_0x12b53f),_0x387ce3[_0x3c2d37(0x1a7)]=_0x35e529['platforms'][_0x13f014],_0x5e7219[_0x3c2d37(0x160)](_0x12b53f,_0x387ce3,_0x35e529,_0x27753b,_0x21b1f6);});Promise[_0x1c30c1(0x166)](_0x120417[_0x1c30c1(0x18a)]((_0x856f7e,_0x64f25a)=>_0x3dcfeb(_0x856f7e,_0x64f25a)[_0x1c30c1(0x176)](_0x8e0b04=>_0x20371c['emit'](_0x1c30c1(0x185),[_0x856f7e,_0x8e0b04]),_0x559ad9=>_0x20371c[_0x1c30c1(0x15e)](_0x1c30c1(0x1aa),[_0x856f7e,_0x559ad9]))))['then'](_0xd3a805,_0xd3a805);});},exports['parallelVanillaRun']=(_0x554279,_0x435fe5)=>new Promise(_0x2760c6=>{const _0x514cfc=a51_0x360a96,_0x3cac3a={'yflSo':function(_0x1bc3c7,_0x3caf8f){return _0x1bc3c7===_0x3caf8f;},'nbpKb':function(_0x19546f,_0x4907eb){return _0x19546f!==_0x4907eb;},'mDbKw':_0x514cfc(0x19a),'EYZtQ':'Workers\x20failed\x20to\x20exit\x20gracefully','VDNbT':function(_0x4aa1d2,_0x5a82bd){return _0x4aa1d2(_0x5a82bd);},'qwmiG':_0x514cfc(0x151),'ZORAP':_0x514cfc(0x15d),'GDvyp':_0x514cfc(0x16f),'UYMwQ':_0x514cfc(0x181),'GCxFu':'test-file-success','vdiqN':_0x514cfc(0x173)},_0x219205={},_0x437e0f=new Worker(require['resolve'](_0x3cac3a[_0x514cfc(0x157)]),{'exposedMethods':[_0x3cac3a[_0x514cfc(0x17b)]],'forkOptions':{'serialization':_0x3cac3a['GDvyp'],'stdio':_0x3cac3a['UYMwQ']},'numWorkers':_0x435fe5,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x498a9f=new Emittery();_0x498a9f['on'](_0x3cac3a[_0x514cfc(0x14d)],_0x5a3d49=>{const _0xdc135a=_0x514cfc;_0x5a3d49[0x0]&&logger[_0xdc135a(0x172)](_0xdc135a(0x19f)+_0x5a3d49[0x1]+'\x20for',_0x5a3d49[0x0]);}),_0x498a9f['on'](_0x3cac3a['vdiqN'],_0x49e4d2=>{process['exitCode']=0x1;});_0x437e0f['getStdout']()&&_0x437e0f['getStdout']()[_0x514cfc(0x181)](process[_0x514cfc(0x187)]);_0x437e0f[_0x514cfc(0x165)]()&&_0x437e0f[_0x514cfc(0x165)]()['pipe'](process[_0x514cfc(0x17a)]);const _0x1451e6=async()=>{const _0x44ed8f=_0x514cfc;let _0x1095f0=0x0;const _0x4de6c7=_0x437e0f[_0x44ed8f(0x15a)]['getWorkers'](),_0x1fefa9=()=>{},_0x5dfbbb=_0x4de6c7[_0x44ed8f(0x18a)](async _0x4d65aa=>{const _0x512556=_0x44ed8f,_0xd9d456={'SJfjW':function(_0x5a39e4,_0x1102e4){const _0x5e4a7b=a51_0x14d6;return _0x3cac3a[_0x5e4a7b(0x1a1)](_0x5a39e4,_0x1102e4);},'qPUaP':function(_0x29101f,_0x21a1ce){const _0x180eb5=a51_0x14d6;return _0x3cac3a[_0x180eb5(0x163)](_0x29101f,_0x21a1ce);}};_0x4d65aa[_0x512556(0x19b)]([0x2,![]],_0x1fefa9,_0x1fefa9,_0x1fefa9),_0x4d65aa[_0x512556(0x18f)]['on'](_0x3cac3a[_0x512556(0x169)],_0x492ef2=>{const _0x14131c=_0x512556;_0xd9d456[_0x14131c(0x152)](_0x1095f0,0x0)&&_0xd9d456[_0x14131c(0x153)](_0x492ef2,0x0)&&(_0x1095f0=_0x492ef2);}),await _0x4d65aa[_0x512556(0x191)]();});await Promise[_0x44ed8f(0x166)](_0x5dfbbb),process[_0x44ed8f(0x1a4)]=_0x1095f0;const {forceExited:_0x23ee03}=await _0x437e0f[_0x44ed8f(0x186)]();_0x23ee03&&console[_0x44ed8f(0x16a)](_0x3cac3a['EYZtQ']),_0x3cac3a[_0x44ed8f(0x16c)](_0x2760c6,_0x219205);},_0x257b92=_0x3cac3a[_0x514cfc(0x16c)](pLimit,_0x435fe5),_0x5e783b=_0x480abd=>_0x257b92(async()=>{const _0x532388=_0x514cfc;return _0x437e0f[_0x532388(0x15d)](_0x480abd);});Promise[_0x514cfc(0x166)](_0x554279[_0x514cfc(0x18a)](_0x5236f6=>_0x5e783b(_0x5236f6)['then'](_0x3c5b8d=>_0x498a9f[_0x514cfc(0x15e)]('test-file-success',[_0x5236f6[_0x514cfc(0x1a9)][_0x514cfc(0x154)],_0x5236f6[_0x514cfc(0x1a9)][_0x514cfc(0x15f)]]),_0x23dd74=>_0x498a9f['emit'](_0x514cfc(0x173),[_0x5236f6,_0x23dd74]))))[_0x514cfc(0x176)](_0x1451e6,_0x1451e6);});