const a49_0x1c53e4=a49_0x3b94;(function(_0x36d459,_0x9735ff){const _0x844fe7=a49_0x3b94,_0x2e6006=_0x36d459();while(!![]){try{const _0x28d31e=parseInt(_0x844fe7(0xed))/0x1*(-parseInt(_0x844fe7(0x11c))/0x2)+-parseInt(_0x844fe7(0xce))/0x3*(parseInt(_0x844fe7(0x107))/0x4)+parseInt(_0x844fe7(0xc5))/0x5+-parseInt(_0x844fe7(0x105))/0x6+-parseInt(_0x844fe7(0xc9))/0x7+parseInt(_0x844fe7(0xd7))/0x8*(-parseInt(_0x844fe7(0xf9))/0x9)+parseInt(_0x844fe7(0x10e))/0xa;if(_0x28d31e===_0x9735ff)break;else _0x2e6006['push'](_0x2e6006['shift']());}catch(_0x27004d){_0x2e6006['push'](_0x2e6006['shift']());}}}(a49_0x3916,0x29b13));function a49_0x3b94(_0x264161,_0x5d149b){const _0x391608=a49_0x3916();return a49_0x3b94=function(_0x3b94b2,_0x152607){_0x3b94b2=_0x3b94b2-0xbd;let _0x38680a=_0x391608[_0x3b94b2];return _0x38680a;},a49_0x3b94(_0x264161,_0x5d149b);}function a49_0x3916(){const _0x43767b=['TmaEB','125470gOWjvw','exitCode','mJIyK','end','1751309wlNuBO','iiJkY','UqBRw','debug','platform-run-start','309EHVyrU','test-file-failure','chiXw','nduEX','stop','OtIue','../../helpers/performance/constants','BUBdd','exit','248kAsAxx','youbr','FsTBh','_child','log','uCErD','qenIY','platform-run-failure','emit','platforms','test-file-start','MnGGm','config','platform','bmoVx','Exception\x20in\x20sending\x20worker\x20message\x20','p-limit','util','pJHII','worker','_workerPool','./testWorker.js','281641elhogT','Workers\x20failed\x20to\x20exit\x20gracefully','test-file-success','platform-run-success','configuration','SDK_SETUP','results','postMessage','error','waitForExit','getStdout','file','29907ngfHxw','EVENTS','resolve','AxETh','pipe','ivYmw','length','jnKPE','\x20for','cWYjg','nEgAm','../../helpers/performance/performance-tester','359166OGyxSm','FqXMS','7964jKSuZh','info','then','getStderr','send','json','stdout','10454520BfTgnr','map','jyREC','YuEgz','jLAwX','ZsXpb','all','Worker','REQTF','cucumberWorker','getWorkers','stderr','vanillaWorker','parallelCucumberRun','2zXeBnX','hvJow','parallelTestRun','AkuBU','eEocc','platformCaps','hSYBu','jest-worker'];a49_0x3916=function(){return _0x43767b;};return a49_0x3916();}const Worker=require(a49_0x1c53e4(0xc3))[a49_0x1c53e4(0x115)],Emittery=require('emittery'),pLimit=require(a49_0x1c53e4(0xe7)),{parentPort}=require('worker_threads'),util=require(a49_0x1c53e4(0xe8)),logger=require('../../helpers/logger')['winstonLogger'],PerformanceTester=require(a49_0x1c53e4(0x104)),PerformanceEvents=require(a49_0x1c53e4(0xd4))[a49_0x1c53e4(0xfa)],{debug}=require('../../helpers/test-observability/utils'),TestHubHandler=require('../../helpers/testhub/testhubHandler');exports[a49_0x1c53e4(0xbe)]=(_0x38e96a,_0x1ae1cc,_0x2f046d)=>new Promise(async _0x16a68f=>{const _0x3f7b09=a49_0x1c53e4,_0x310152={'UqBRw':'failureCount','chiXw':function(_0x431d22,_0x5e55d2){return _0x431d22+_0x5e55d2;},'nduEX':_0x3f7b09(0xf3),'FqXMS':'Workers\x20failed\x20to\x20exit\x20gracefully','REQTF':function(_0x1f42b3,_0x72b474){return _0x1f42b3(_0x72b474);},'pJHII':function(_0x34f51e,_0x237860){return _0x34f51e(_0x237860);},'CHIPg':_0x3f7b09(0xe1),'iiJkY':_0x3f7b09(0xec),'jnKPE':_0x3f7b09(0xea),'bmoVx':_0x3f7b09(0x10c),'nEgAm':_0x3f7b09(0xfd),'TmaEB':function(_0xac5d1e,_0x40ce44){return _0xac5d1e*_0x40ce44;},'fLesQ':_0x3f7b09(0xef),'AkuBU':_0x3f7b09(0xcf)},_0x4ed2e1=_0x2f046d[_0x3f7b09(0xe3)],_0x4eab55={},_0x1a8cf0=new Worker(require[_0x3f7b09(0xfb)](_0x310152[_0x3f7b09(0xca)]),{'exposedMethods':[_0x310152[_0x3f7b09(0x100)]],'forkOptions':{'serialization':_0x310152[_0x3f7b09(0xe5)],'stdio':_0x310152[_0x3f7b09(0x103)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x310152[_0x3f7b09(0xc4)](_0x1ae1cc,0x1),'enableWorkerThreads':!![]}),_0x18c1db=new Emittery();_0x18c1db['on'](_0x310152['fLesQ'],_0xad839a=>{const _0x214f4a=_0x3f7b09;_0x4eab55[_0xad839a[0x0]]?(_0x4eab55[_0xad839a[0x0]][_0x310152['UqBRw']]=_0x310152[_0x214f4a(0xd0)](_0x4eab55[_0xad839a[0x0]][_0x310152[_0x214f4a(0xcb)]],_0xad839a[0x1][_0x310152[_0x214f4a(0xcb)]]),_0x4eab55[_0xad839a[0x0]][_0x310152[_0x214f4a(0xd1)]]=[..._0x4eab55[_0xad839a[0x0]][_0x310152[_0x214f4a(0xd1)]],..._0xad839a[0x1][_0x310152[_0x214f4a(0xd1)]]]):_0x4eab55[_0xad839a[0x0]]={'failureCount':_0xad839a[0x1][_0x310152[_0x214f4a(0xcb)]],'results':[..._0xad839a[0x1][_0x310152[_0x214f4a(0xd1)]]]};}),_0x18c1db['on'](_0x310152[_0x3f7b09(0xbf)],_0x11448b=>console['log'](_0x11448b[0x1]));_0x1a8cf0['getStdout']()&&_0x1a8cf0[_0x3f7b09(0xf7)]()['pipe'](process[_0x3f7b09(0x10d)]);_0x1a8cf0[_0x3f7b09(0x10a)]()&&_0x1a8cf0[_0x3f7b09(0x10a)]()[_0x3f7b09(0xfd)](process[_0x3f7b09(0x119)]);const _0x4bf8c8=async()=>{const _0x3dd0e3=_0x3f7b09,{forceExited:_0x52cf10}=await _0x1a8cf0[_0x3dd0e3(0xc8)]();_0x52cf10&&console[_0x3dd0e3(0xf5)](_0x310152[_0x3dd0e3(0x106)]);try{await TestHubHandler[_0x3dd0e3(0xd2)]();}catch(_0x39febb){_0x310152[_0x3dd0e3(0x116)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20'+_0x39febb);}_0x310152[_0x3dd0e3(0xe9)](_0x16a68f,_0x4eab55);},_0x281af0=_0x310152['pJHII'](pLimit,_0x310152['TmaEB'](_0x1ae1cc,0x1)),_0x29258a=_0x36ae12=>_0x281af0(async()=>{const _0x33f70d=_0x3f7b09;await _0x18c1db[_0x33f70d(0xdf)](_0x310152['CHIPg'],_0x36ae12);const _0x42a1ad=_0x1a8cf0[_0x33f70d(0xea)](_0x36ae12,_0x4ed2e1);try{parentPort&&_0x42a1ad['UNSTABLE_onCustomMessage'](_0x107b96=>{const _0x3ff80f=_0x33f70d;try{parentPort[_0x3ff80f(0xf4)](_0x107b96);}catch(_0x4bb758){logger[_0x3ff80f(0xcc)](_0x3ff80f(0xe6)+util['format'](_0x4bb758));}});}catch(_0x26be63){logger['debug']('Exception\x20in\x20adding\x20custom\x20message\x20channel\x20'+util['format'](_0x26be63));}return _0x42a1ad;});PerformanceTester[_0x3f7b09(0xc8)](PerformanceEvents[_0x3f7b09(0xf2)]),Promise[_0x3f7b09(0x114)](_0x38e96a['map'](_0x5d018d=>_0x29258a(_0x5d018d)['then'](_0xa7daeb=>_0x18c1db['emit'](_0x3f7b09(0xef),[_0x5d018d[_0x3f7b09(0xf1)][_0x3f7b09(0xe4)],_0xa7daeb]),_0x54fc80=>_0x18c1db[_0x3f7b09(0xdf)](_0x3f7b09(0xcf),[_0x5d018d,_0x54fc80]))))[_0x3f7b09(0x109)](_0x4bf8c8,_0x4bf8c8);}),exports[a49_0x1c53e4(0x11b)]=(_0x3af761,_0x4ca8e2,_0x27566e,_0x47ffd7,_0x2e964e)=>{const _0x1d0e14=a49_0x1c53e4,_0x48cba0={'BUBdd':_0x1d0e14(0xcd),'jyREC':_0x1d0e14(0xee),'MnGGm':function(_0x43ae0c,_0x465376){return _0x43ae0c(_0x465376);},'eEocc':_0x1d0e14(0xec),'hSixB':_0x1d0e14(0x117),'bfPEF':_0x1d0e14(0x10c),'Maqcx':_0x1d0e14(0xfd),'OtIue':_0x1d0e14(0xf0),'ivYmw':_0x1d0e14(0xde)};return new Promise(_0x9cb78=>{const _0x2adb7e=_0x1d0e14,_0x43f8c6={'cWYjg':_0x48cba0[_0x2adb7e(0x110)],'mWynv':function(_0x450462,_0x37cba4){return _0x48cba0['MnGGm'](_0x450462,_0x37cba4);}},_0x3c22dd=[],_0x2a123e=new Worker(require[_0x2adb7e(0xfb)](_0x48cba0[_0x2adb7e(0xc0)]),{'exposedMethods':[_0x48cba0['hSixB']],'forkOptions':{'serialization':_0x48cba0['bfPEF'],'stdio':_0x48cba0['Maqcx']},'numWorkers':_0x3af761[_0x2adb7e(0xff)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x1a4023=new Emittery();_0x1a4023['on'](_0x48cba0[_0x2adb7e(0xd3)],_0x500a4a=>{_0x3c22dd['push']([_0x500a4a[0x0],_0x500a4a[0x1]]);}),_0x1a4023['on'](_0x48cba0[_0x2adb7e(0xfe)],_0x1cdbb9=>console[_0x2adb7e(0xdb)](_0x1cdbb9[0x1]));_0x2a123e['getStdout']()&&_0x2a123e[_0x2adb7e(0xf7)]()[_0x2adb7e(0xfd)](process[_0x2adb7e(0x10d)]);_0x2a123e[_0x2adb7e(0x10a)]()&&_0x2a123e[_0x2adb7e(0x10a)]()[_0x2adb7e(0xfd)](process[_0x2adb7e(0x119)]);const _0x349a81=async()=>{const _0x1ecacf=_0x2adb7e,{forceExited:_0x39ef49}=await _0x2a123e[_0x1ecacf(0xc8)]();_0x39ef49&&console[_0x1ecacf(0xf5)](_0x43f8c6[_0x1ecacf(0x102)]),_0x43f8c6['mWynv'](_0x9cb78,_0x3c22dd);},_0xc4df1e=_0x48cba0[_0x2adb7e(0xe2)](pLimit,_0x3af761['length']||0x1),_0x36b185=(_0x402e9f,_0x372274)=>_0xc4df1e(async()=>{const _0x408774=_0x2adb7e;return await _0x1a4023['emit'](_0x48cba0[_0x408774(0xd5)],_0x402e9f),_0x4ca8e2[_0x408774(0xc1)]=_0x27566e[_0x408774(0xe0)][_0x372274],_0x2a123e[_0x408774(0x117)](_0x402e9f,_0x4ca8e2,_0x27566e,_0x47ffd7,_0x2e964e);});Promise[_0x2adb7e(0x114)](_0x3af761['map']((_0xbec0a8,_0x3b9df7)=>_0x36b185(_0xbec0a8,_0x3b9df7)['then'](_0x3449df=>_0x1a4023[_0x2adb7e(0xdf)](_0x2adb7e(0xf0),[_0xbec0a8,_0x3449df]),_0x5cb708=>_0x1a4023[_0x2adb7e(0xdf)](_0x2adb7e(0xde),[_0xbec0a8,_0x5cb708]))))['then'](_0x349a81,_0x349a81);});},exports['parallelVanillaRun']=(_0x3b4bb0,_0x381b94)=>new Promise(_0x134310=>{const _0x5c6d12=a49_0x1c53e4,_0x53a862={'ZsXpb':function(_0x58943d,_0x2293d5){return _0x58943d===_0x2293d5;},'gCebv':function(_0x5997d9,_0x51bd8d){return _0x5997d9!==_0x51bd8d;},'hSYBu':_0x5c6d12(0xd6),'FsTBh':_0x5c6d12(0xee),'youbr':function(_0x48210c,_0x52fd63){return _0x48210c(_0x52fd63);},'SFFuW':_0x5c6d12(0xec),'uCErD':'vanillaWorker','qovTD':_0x5c6d12(0x10c),'AxETh':'pipe','jLAwX':_0x5c6d12(0xef),'xMYUD':_0x5c6d12(0xcf)},_0x8f76d={},_0x579ed2=new Worker(require[_0x5c6d12(0xfb)](_0x53a862['SFFuW']),{'exposedMethods':[_0x53a862[_0x5c6d12(0xdc)]],'forkOptions':{'serialization':_0x53a862['qovTD'],'stdio':_0x53a862[_0x5c6d12(0xfc)]},'numWorkers':_0x381b94,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x48842d=new Emittery();_0x48842d['on'](_0x53a862[_0x5c6d12(0x112)],_0x37807b=>{const _0x3225a1=_0x5c6d12;_0x37807b[0x0]&&logger[_0x3225a1(0x108)]('Running\x20'+_0x37807b[0x1]+_0x3225a1(0x101),_0x37807b[0x0]);}),_0x48842d['on'](_0x53a862['xMYUD'],_0x579767=>{const _0x2d0172=_0x5c6d12;process[_0x2d0172(0xc6)]=0x1;});_0x579ed2[_0x5c6d12(0xf7)]()&&_0x579ed2[_0x5c6d12(0xf7)]()['pipe'](process[_0x5c6d12(0x10d)]);_0x579ed2['getStderr']()&&_0x579ed2[_0x5c6d12(0x10a)]()[_0x5c6d12(0xfd)](process[_0x5c6d12(0x119)]);const _0x5c5f83=async()=>{const _0x1e71b2=_0x5c6d12,_0x2d36f3={'hvJow':function(_0x4a241a,_0x3cb609){const _0x439fb6=a49_0x3b94;return _0x53a862[_0x439fb6(0x113)](_0x4a241a,_0x3cb609);},'mJIyK':function(_0x1473f4,_0x2c6d00){return _0x53a862['gCebv'](_0x1473f4,_0x2c6d00);},'HJXkj':_0x53a862[_0x1e71b2(0xc2)]};let _0x18520e=0x0;const _0x269d9d=_0x579ed2[_0x1e71b2(0xeb)][_0x1e71b2(0x118)](),_0x5d0b23=()=>{},_0x417ace=_0x269d9d[_0x1e71b2(0x10f)](async _0x6426d1=>{const _0x4d34d9=_0x1e71b2,_0x133717={'YuEgz':function(_0x27b4db,_0x4ca28d){const _0x3944d7=a49_0x3b94;return _0x2d36f3[_0x3944d7(0xbd)](_0x27b4db,_0x4ca28d);},'qenIY':function(_0x277003,_0x4d8504){const _0xe95c0e=a49_0x3b94;return _0x2d36f3[_0xe95c0e(0xc7)](_0x277003,_0x4d8504);}};_0x6426d1[_0x4d34d9(0x10b)]([0x2,![]],_0x5d0b23,_0x5d0b23,_0x5d0b23),_0x6426d1[_0x4d34d9(0xda)]['on'](_0x2d36f3['HJXkj'],_0x347bc7=>{const _0x590eb6=_0x4d34d9;_0x133717[_0x590eb6(0x111)](_0x18520e,0x0)&&_0x133717[_0x590eb6(0xdd)](_0x347bc7,0x0)&&(_0x18520e=_0x347bc7);}),await _0x6426d1[_0x4d34d9(0xf6)]();});await Promise[_0x1e71b2(0x114)](_0x417ace),process[_0x1e71b2(0xc6)]=_0x18520e;const {forceExited:_0x39798b}=await _0x579ed2[_0x1e71b2(0xc8)]();_0x39798b&&console[_0x1e71b2(0xf5)](_0x53a862[_0x1e71b2(0xd9)]),_0x53a862[_0x1e71b2(0xd8)](_0x134310,_0x8f76d);},_0x570fc2=_0x53a862[_0x5c6d12(0xd8)](pLimit,_0x381b94),_0x111574=_0x517a04=>_0x570fc2(async()=>{const _0x751743=_0x5c6d12;return _0x579ed2[_0x751743(0x11a)](_0x517a04);});Promise[_0x5c6d12(0x114)](_0x3b4bb0[_0x5c6d12(0x10f)](_0x4f64d7=>_0x111574(_0x4f64d7)[_0x5c6d12(0x109)](_0x42b622=>_0x48842d[_0x5c6d12(0xdf)](_0x5c6d12(0xef),[_0x4f64d7[_0x5c6d12(0xf1)][_0x5c6d12(0xe4)],_0x4f64d7[_0x5c6d12(0xf1)][_0x5c6d12(0xf8)]]),_0xee938b=>_0x48842d[_0x5c6d12(0xdf)](_0x5c6d12(0xcf),[_0x4f64d7,_0xee938b]))))['then'](_0x5c5f83,_0x5c5f83);});