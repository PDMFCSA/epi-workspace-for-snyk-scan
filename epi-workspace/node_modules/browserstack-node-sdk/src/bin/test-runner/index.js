const a49_0x32cf77=a49_0x1751;function a49_0x1c70(){const _0x28dc75=['emit','WOAqj','../../helpers/testhub/testhubHandler','parallelCucumberRun','platform-run-failure','configuration','MQTqf','worker','stop','winstonLogger','_workerPool','wMUCC','zjUcW','EmTPx','push','OjRRB','util','parallelVanillaRun','failureCount','../../helpers/performance/constants','vanillaWorker','config','Worker','jest-worker','Rhjmb','8MstywR','end','then','tGajg','pZuoM','tcjIe','../../helpers/test-observability/utils','mdgKj','TWrww','4844932ZSREqr','../../helpers/logger','worker_threads','results','uGxQf','waitForExit','./testWorker.js','p-limit','1138715LSOcFZ','nfnhZ','test-file-failure','cCazv','length','wXipz','Exception\x20in\x20adding\x20custom\x20message\x20channel\x20','2553747QzneOZ','pipe','format','all','exit','\x20for','stderr','uEWoj','map','exitCode','platforms','OFBrt','emittery','232154meppnv','info','aJOBa','cucumberWorker','log','SDK_SETUP','getWorkers','Rxcrf','sVpCE','759645BaiXFk','getStdout','LwsHX','stdout','debug','urwyS','ACRbs','json','968231gurXpM','platform-run-start','error','8053620GZrlBZ','Prpgq','send','getStderr','_child','test-file-success','3BvQokc','parallelTestRun','MaWmj','KZgHX','platform','platform-run-success','fNrkB'];a49_0x1c70=function(){return _0x28dc75;};return a49_0x1c70();}(function(_0x30c749,_0xd67ff2){const _0x4650b4=a49_0x1751,_0x4f9a0f=_0x30c749();while(!![]){try{const _0x340e6d=parseInt(_0x4650b4(0x17d))/0x1+parseInt(_0x4650b4(0x16c))/0x2*(-parseInt(_0x4650b4(0x186))/0x3)+parseInt(_0x4650b4(0x1af))/0x4+-parseInt(_0x4650b4(0x158))/0x5+-parseInt(_0x4650b4(0x180))/0x6+-parseInt(_0x4650b4(0x15f))/0x7*(-parseInt(_0x4650b4(0x1a6))/0x8)+-parseInt(_0x4650b4(0x175))/0x9;if(_0x340e6d===_0xd67ff2)break;else _0x4f9a0f['push'](_0x4f9a0f['shift']());}catch(_0x285bec){_0x4f9a0f['push'](_0x4f9a0f['shift']());}}}(a49_0x1c70,0xbce9e));const Worker=require(a49_0x32cf77(0x1a4))[a49_0x32cf77(0x1a3)],Emittery=require(a49_0x32cf77(0x16b)),pLimit=require(a49_0x32cf77(0x157)),{parentPort}=require(a49_0x32cf77(0x152)),util=require(a49_0x32cf77(0x19d)),logger=require(a49_0x32cf77(0x1b0))[a49_0x32cf77(0x196)],PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a49_0x32cf77(0x1a0))['EVENTS'],{debug}=require(a49_0x32cf77(0x1ac)),TestHubHandler=require(a49_0x32cf77(0x18f));function a49_0x1751(_0x2db1be,_0x10f21d){const _0x1c7020=a49_0x1c70();return a49_0x1751=function(_0x17512a,_0x20429a){_0x17512a=_0x17512a-0x152;let _0x57b51f=_0x1c7020[_0x17512a];return _0x57b51f;},a49_0x1751(_0x2db1be,_0x10f21d);}exports[a49_0x32cf77(0x187)]=(_0x56317c,_0x1fe14f,_0x55a816)=>new Promise(async _0x1c052f=>{const _0x544436=a49_0x32cf77,_0x46c8f4={'ACRbs':_0x544436(0x19f),'BbEhT':function(_0x17805a,_0xade411){return _0x17805a+_0xade411;},'wXipz':_0x544436(0x153),'VzDOe':'Workers\x20failed\x20to\x20exit\x20gracefully','zjUcW':function(_0x1c8c11,_0x999a0a){return _0x1c8c11(_0x999a0a);},'tGajg':function(_0x10f9af,_0xb002c7){return _0x10f9af(_0xb002c7);},'sVpCE':'test-file-start','MaWmj':_0x544436(0x156),'lJykf':'worker','Rhjmb':_0x544436(0x17c),'LwsHX':_0x544436(0x160),'WOAqj':function(_0x2a724b,_0x4c17d0){return _0x2a724b*_0x4c17d0;},'cCazv':_0x544436(0x185),'tcjIe':'test-file-failure'},_0x4c4391=_0x55a816[_0x544436(0x1a2)],_0x244509={},_0x1bc24c=new Worker(require['resolve'](_0x46c8f4[_0x544436(0x188)]),{'exposedMethods':[_0x46c8f4['lJykf']],'forkOptions':{'serialization':_0x46c8f4[_0x544436(0x1a5)],'stdio':_0x46c8f4[_0x544436(0x177)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x46c8f4[_0x544436(0x18e)](_0x1fe14f,0x1),'enableWorkerThreads':!![]}),_0x1fbded=new Emittery();_0x1fbded['on'](_0x46c8f4[_0x544436(0x15b)],_0x3a4ac8=>{const _0x44fa1a=_0x544436;_0x244509[_0x3a4ac8[0x0]]?(_0x244509[_0x3a4ac8[0x0]][_0x46c8f4[_0x44fa1a(0x17b)]]=_0x46c8f4['BbEhT'](_0x244509[_0x3a4ac8[0x0]][_0x46c8f4[_0x44fa1a(0x17b)]],_0x3a4ac8[0x1][_0x46c8f4[_0x44fa1a(0x17b)]]),_0x244509[_0x3a4ac8[0x0]][_0x46c8f4['wXipz']]=[..._0x244509[_0x3a4ac8[0x0]][_0x46c8f4[_0x44fa1a(0x15d)]],..._0x3a4ac8[0x1][_0x46c8f4[_0x44fa1a(0x15d)]]]):_0x244509[_0x3a4ac8[0x0]]={'failureCount':_0x3a4ac8[0x1][_0x46c8f4[_0x44fa1a(0x17b)]],'results':[..._0x3a4ac8[0x1][_0x46c8f4[_0x44fa1a(0x15d)]]]};}),_0x1fbded['on'](_0x46c8f4[_0x544436(0x1ab)],_0x2312a=>console[_0x544436(0x170)](_0x2312a[0x1]));_0x1bc24c[_0x544436(0x176)]()&&_0x1bc24c[_0x544436(0x176)]()[_0x544436(0x160)](process[_0x544436(0x178)]);_0x1bc24c[_0x544436(0x183)]()&&_0x1bc24c[_0x544436(0x183)]()[_0x544436(0x160)](process[_0x544436(0x165)]);const _0x46c848=async()=>{const _0x47c4a7=_0x544436,{forceExited:_0xd08ee9}=await _0x1bc24c[_0x47c4a7(0x1a7)]();_0xd08ee9&&console[_0x47c4a7(0x17f)](_0x46c8f4['VzDOe']);try{await TestHubHandler[_0x47c4a7(0x195)]();}catch(_0x5d9d6f){_0x46c8f4[_0x47c4a7(0x199)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20'+_0x5d9d6f);}_0x46c8f4['tGajg'](_0x1c052f,_0x244509);},_0x2a15d1=_0x46c8f4[_0x544436(0x1a9)](pLimit,_0x46c8f4[_0x544436(0x18e)](_0x1fe14f,0x1)),_0x17a316=_0x165552=>_0x2a15d1(async()=>{const _0x121364=_0x544436;await _0x1fbded[_0x121364(0x18d)](_0x46c8f4[_0x121364(0x174)],_0x165552);const _0x1f2869=_0x1bc24c[_0x121364(0x194)](_0x165552,_0x4c4391);try{parentPort&&_0x1f2869['UNSTABLE_onCustomMessage'](_0x34d8b3=>{const _0xf5f488=_0x121364;try{parentPort['postMessage'](_0x34d8b3);}catch(_0xba661){logger['debug']('Exception\x20in\x20sending\x20worker\x20message\x20'+util[_0xf5f488(0x161)](_0xba661));}});}catch(_0x206309){logger[_0x121364(0x179)](_0x121364(0x15e)+util[_0x121364(0x161)](_0x206309));}return _0x1f2869;});PerformanceTester[_0x544436(0x1a7)](PerformanceEvents[_0x544436(0x171)]),Promise[_0x544436(0x162)](_0x56317c[_0x544436(0x167)](_0x18c413=>_0x17a316(_0x18c413)[_0x544436(0x1a8)](_0x45d64f=>_0x1fbded[_0x544436(0x18d)]('test-file-success',[_0x18c413[_0x544436(0x192)]['platform'],_0x45d64f]),_0x4d9953=>_0x1fbded[_0x544436(0x18d)]('test-file-failure',[_0x18c413,_0x4d9953]))))[_0x544436(0x1a8)](_0x46c848,_0x46c848);}),exports[a49_0x32cf77(0x190)]=(_0x283b8b,_0xbd5c32,_0x4ea209,_0x20a490,_0x47069f)=>{const _0x357f25=a49_0x32cf77,_0x1497e7={'KZgHX':'Workers\x20failed\x20to\x20exit\x20gracefully','uGxQf':function(_0x8a966c,_0x227dc6){return _0x8a966c(_0x227dc6);},'MIdhM':_0x357f25(0x17e),'OjRRB':_0x357f25(0x156),'mdgKj':_0x357f25(0x16f),'wMUCC':_0x357f25(0x17c),'LPWTB':_0x357f25(0x160),'Rxcrf':_0x357f25(0x18b),'aJOBa':_0x357f25(0x191)};return new Promise(_0x5b0cac=>{const _0xb59f06=_0x357f25,_0x476b59=[],_0x13fe39=new Worker(require['resolve'](_0x1497e7[_0xb59f06(0x19c)]),{'exposedMethods':[_0x1497e7[_0xb59f06(0x1ad)]],'forkOptions':{'serialization':_0x1497e7[_0xb59f06(0x198)],'stdio':_0x1497e7['LPWTB']},'numWorkers':_0x283b8b[_0xb59f06(0x15c)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x166731=new Emittery();_0x166731['on'](_0x1497e7[_0xb59f06(0x173)],_0x2944e4=>{const _0x4159fb=_0xb59f06;_0x476b59[_0x4159fb(0x19b)]([_0x2944e4[0x0],_0x2944e4[0x1]]);}),_0x166731['on'](_0x1497e7[_0xb59f06(0x16e)],_0x887ba3=>console[_0xb59f06(0x170)](_0x887ba3[0x1]));_0x13fe39[_0xb59f06(0x176)]()&&_0x13fe39[_0xb59f06(0x176)]()[_0xb59f06(0x160)](process['stdout']);_0x13fe39[_0xb59f06(0x183)]()&&_0x13fe39[_0xb59f06(0x183)]()[_0xb59f06(0x160)](process[_0xb59f06(0x165)]);const _0x2308e1=async()=>{const _0x1fb438=_0xb59f06,{forceExited:_0x218aaa}=await _0x13fe39[_0x1fb438(0x1a7)]();_0x218aaa&&console['error'](_0x1497e7[_0x1fb438(0x189)]),_0x1497e7[_0x1fb438(0x154)](_0x5b0cac,_0x476b59);},_0x115542=_0x1497e7['uGxQf'](pLimit,_0x283b8b['length']||0x1),_0x3843d2=(_0x5076b8,_0x43ba96)=>_0x115542(async()=>{const _0x498893=_0xb59f06;return await _0x166731[_0x498893(0x18d)](_0x1497e7['MIdhM'],_0x5076b8),_0xbd5c32['platformCaps']=_0x4ea209[_0x498893(0x169)][_0x43ba96],_0x13fe39[_0x498893(0x16f)](_0x5076b8,_0xbd5c32,_0x4ea209,_0x20a490,_0x47069f);});Promise[_0xb59f06(0x162)](_0x283b8b[_0xb59f06(0x167)]((_0x5b7f0f,_0x286301)=>_0x3843d2(_0x5b7f0f,_0x286301)[_0xb59f06(0x1a8)](_0x5d41c1=>_0x166731[_0xb59f06(0x18d)]('platform-run-success',[_0x5b7f0f,_0x5d41c1]),_0x53adf6=>_0x166731[_0xb59f06(0x18d)](_0xb59f06(0x191),[_0x5b7f0f,_0x53adf6]))))[_0xb59f06(0x1a8)](_0x2308e1,_0x2308e1);});},exports[a49_0x32cf77(0x19e)]=(_0x4f4d42,_0x3c65c3)=>new Promise(_0x56c8b7=>{const _0x159b7f=a49_0x32cf77,_0x5471c2={'pZuoM':_0x159b7f(0x163),'EmTPx':function(_0x3b5806,_0x1bd99a){return _0x3b5806===_0x1bd99a;},'MQTqf':function(_0x2c45cb,_0x4410d9){return _0x2c45cb!==_0x4410d9;},'fNrkB':'Workers\x20failed\x20to\x20exit\x20gracefully','mfTde':function(_0x325753,_0x47e0af){return _0x325753(_0x47e0af);},'uEWoj':'./testWorker.js','smTQW':_0x159b7f(0x1a1),'PQPnk':_0x159b7f(0x17c),'TWrww':_0x159b7f(0x160),'Prpgq':_0x159b7f(0x185),'urwyS':_0x159b7f(0x15a),'BeYAl':function(_0x42ef5f,_0x516084){return _0x42ef5f(_0x516084);}},_0x3e6b74={},_0x542b04=new Worker(require['resolve'](_0x5471c2[_0x159b7f(0x166)]),{'exposedMethods':[_0x5471c2['smTQW']],'forkOptions':{'serialization':_0x5471c2['PQPnk'],'stdio':_0x5471c2[_0x159b7f(0x1ae)]},'numWorkers':_0x3c65c3,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x2a5aa8=new Emittery();_0x2a5aa8['on'](_0x5471c2[_0x159b7f(0x181)],_0x12cd1a=>{const _0x50aaef=_0x159b7f;_0x12cd1a[0x0]&&logger[_0x50aaef(0x16d)]('Running\x20'+_0x12cd1a[0x1]+_0x50aaef(0x164),_0x12cd1a[0x0]);}),_0x2a5aa8['on'](_0x5471c2[_0x159b7f(0x17a)],_0x1d99a6=>{const _0x8064d6=_0x159b7f;process[_0x8064d6(0x168)]=0x1;});_0x542b04[_0x159b7f(0x176)]()&&_0x542b04[_0x159b7f(0x176)]()[_0x159b7f(0x160)](process['stdout']);_0x542b04[_0x159b7f(0x183)]()&&_0x542b04['getStderr']()[_0x159b7f(0x160)](process[_0x159b7f(0x165)]);const _0x4e83df=async()=>{const _0x5e1969=_0x159b7f,_0x1586b8={'nfnhZ':function(_0x4e0719,_0x219a1d){const _0x28dcf6=a49_0x1751;return _0x5471c2[_0x28dcf6(0x19a)](_0x4e0719,_0x219a1d);},'OFBrt':function(_0x38bff1,_0x36db18){const _0x1649ef=a49_0x1751;return _0x5471c2[_0x1649ef(0x193)](_0x38bff1,_0x36db18);}};let _0x2c79a1=0x0;const _0x454fdb=_0x542b04[_0x5e1969(0x197)][_0x5e1969(0x172)](),_0x1d0d43=()=>{},_0x5d19ad=_0x454fdb[_0x5e1969(0x167)](async _0x200640=>{const _0x22a999=_0x5e1969;_0x200640[_0x22a999(0x182)]([0x2,![]],_0x1d0d43,_0x1d0d43,_0x1d0d43),_0x200640[_0x22a999(0x184)]['on'](_0x5471c2[_0x22a999(0x1aa)],_0x4b610f=>{const _0x776c8e=_0x22a999;_0x1586b8[_0x776c8e(0x159)](_0x2c79a1,0x0)&&_0x1586b8[_0x776c8e(0x16a)](_0x4b610f,0x0)&&(_0x2c79a1=_0x4b610f);}),await _0x200640[_0x22a999(0x155)]();});await Promise[_0x5e1969(0x162)](_0x5d19ad),process['exitCode']=_0x2c79a1;const {forceExited:_0x40703c}=await _0x542b04['end']();_0x40703c&&console[_0x5e1969(0x17f)](_0x5471c2[_0x5e1969(0x18c)]),_0x5471c2['mfTde'](_0x56c8b7,_0x3e6b74);},_0x28434b=_0x5471c2['BeYAl'](pLimit,_0x3c65c3),_0x121b96=_0x2a6a7f=>_0x28434b(async()=>{const _0x55a4e9=_0x159b7f;return _0x542b04[_0x55a4e9(0x1a1)](_0x2a6a7f);});Promise['all'](_0x4f4d42['map'](_0x3f3655=>_0x121b96(_0x3f3655)[_0x159b7f(0x1a8)](_0x5ce710=>_0x2a5aa8[_0x159b7f(0x18d)](_0x159b7f(0x185),[_0x3f3655[_0x159b7f(0x192)][_0x159b7f(0x18a)],_0x3f3655[_0x159b7f(0x192)]['file']]),_0x5d2ceb=>_0x2a5aa8[_0x159b7f(0x18d)](_0x159b7f(0x15a),[_0x3f3655,_0x5d2ceb]))))[_0x159b7f(0x1a8)](_0x4e83df,_0x4e83df);});