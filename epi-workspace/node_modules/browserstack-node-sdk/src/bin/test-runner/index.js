const a49_0x1cb42e=a49_0x2e29;function a49_0x2e29(_0x3699b8,_0x5b1522){const _0x130d73=a49_0x130d();return a49_0x2e29=function(_0x2e299e,_0x5988d2){_0x2e299e=_0x2e299e-0xf8;let _0x11cfc3=_0x130d73[_0x2e299e];return _0x11cfc3;},a49_0x2e29(_0x3699b8,_0x5b1522);}function a49_0x130d(){const _0x257098=['configuration','./testWorker.js','Exception\x20in\x20adding\x20custom\x20message\x20channel\x20','bVYCB','oczpF','stderr','VHXVe','2206735XTzlix','UvRLJ','json','aNjxL','vanillaWorker','Hxfxx','AvkWb','plJRs','Workers\x20failed\x20to\x20exit\x20gracefully','1346355AiQZbu','parallelCucumberRun','platform-run-start','getStderr','KmxfJ','444374jepvSQ','keySr','jest-worker','waitForExit','failureCount','11OvhfEG','tkNAN','aoEGX','all','parallelTestRun','../../helpers/logger','end','OEVTb','push','Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20','_workerPool','SDK_SETUP','XLwcr','platformCaps','YLFLz','emittery','YOGbk','exitCode','platform-run-failure','iotFP','298553wbvZLM','3452372WSZwEn','test-file-start','stdout','AjepL','send','sjoWI','then','JrMEw','Running\x20','pipe','cucumberWorker','_child','worker_threads','getStdout','YcKLl','../../helpers/performance/constants','1769290icMUkx','platforms','length','rKeob','Exception\x20in\x20sending\x20worker\x20message\x20','error','UWJDm','platform','qBsds','stop','sLFPo','info','18LWIyZE','format','log','map','test-file-failure','parallelVanillaRun','winstonLogger','resolve','Worker','platform-run-success','EVENTS','util','3YxjLSu','GtGhH','16972610UCbFQJ','hUGEI','emit','\x20for','../../helpers/test-observability/utils','8KkJNIe','TCUGJ','grdTP','nfJCO','test-file-success','debug','slGdj','ulxNP','eBrAI','worker'];a49_0x130d=function(){return _0x257098;};return a49_0x130d();}(function(_0x12eba5,_0x38d462){const _0x39af98=a49_0x2e29,_0x3fb308=_0x12eba5();while(!![]){try{const _0x59d82b=-parseInt(_0x39af98(0x107))/0x1+parseInt(_0x39af98(0x118))/0x2*(parseInt(_0x39af98(0x130))/0x3)+-parseInt(_0x39af98(0x108))/0x4+-parseInt(_0x39af98(0x148))/0x5+parseInt(_0x39af98(0x124))/0x6*(-parseInt(_0x39af98(0x156))/0x7)+parseInt(_0x39af98(0x137))/0x8*(-parseInt(_0x39af98(0x151))/0x9)+-parseInt(_0x39af98(0x132))/0xa*(-parseInt(_0x39af98(0x15b))/0xb);if(_0x59d82b===_0x38d462)break;else _0x3fb308['push'](_0x3fb308['shift']());}catch(_0x387e02){_0x3fb308['push'](_0x3fb308['shift']());}}}(a49_0x130d,0x9bf98));const Worker=require(a49_0x1cb42e(0x158))[a49_0x1cb42e(0x12c)],Emittery=require(a49_0x1cb42e(0x102)),pLimit=require('p-limit'),{parentPort}=require(a49_0x1cb42e(0x114)),util=require(a49_0x1cb42e(0x12f)),logger=require(a49_0x1cb42e(0xf8))[a49_0x1cb42e(0x12a)],PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a49_0x1cb42e(0x117))[a49_0x1cb42e(0x12e)],{debug}=require(a49_0x1cb42e(0x136)),TestHubHandler=require('../../helpers/testhub/testhubHandler');exports[a49_0x1cb42e(0x15f)]=(_0x3f35bd,_0x4ff053,_0x441d31)=>new Promise(async _0x3ce391=>{const _0xf7313f=a49_0x1cb42e,_0x90655c={'tkNAN':_0xf7313f(0x15a),'eBrAI':function(_0x3a8381,_0x5d08a8){return _0x3a8381+_0x5d08a8;},'Hxfxx':'results','tBuVi':'Workers\x20failed\x20to\x20exit\x20gracefully','bVYCB':function(_0x32356f,_0x5a449f){return _0x32356f(_0x5a449f);},'rKeob':function(_0x1e4652,_0x58f2dd){return _0x1e4652(_0x58f2dd);},'Ylcly':_0xf7313f(0x109),'YOGbk':'./testWorker.js','nfJCO':_0xf7313f(0x140),'sjoWI':_0xf7313f(0x14a),'mPqcx':_0xf7313f(0x111),'grdTP':function(_0x22b0b0,_0x2aa48d){return _0x22b0b0*_0x2aa48d;},'QldXZ':_0xf7313f(0x13b),'aoEGX':_0xf7313f(0x128)},_0x28cf86=_0x441d31['config'],_0x2c9cbd={},_0x3bf78d=new Worker(require[_0xf7313f(0x12b)](_0x90655c[_0xf7313f(0x103)]),{'exposedMethods':[_0x90655c[_0xf7313f(0x13a)]],'forkOptions':{'serialization':_0x90655c[_0xf7313f(0x10d)],'stdio':_0x90655c['mPqcx']},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x90655c[_0xf7313f(0x139)](_0x4ff053,0x1),'enableWorkerThreads':!![]}),_0x3af34c=new Emittery();_0x3af34c['on'](_0x90655c['QldXZ'],_0x5493ec=>{const _0x411d6f=_0xf7313f;_0x2c9cbd[_0x5493ec[0x0]]?(_0x2c9cbd[_0x5493ec[0x0]][_0x90655c[_0x411d6f(0x15c)]]=_0x90655c[_0x411d6f(0x13f)](_0x2c9cbd[_0x5493ec[0x0]][_0x90655c[_0x411d6f(0x15c)]],_0x5493ec[0x1][_0x90655c[_0x411d6f(0x15c)]]),_0x2c9cbd[_0x5493ec[0x0]][_0x90655c['Hxfxx']]=[..._0x2c9cbd[_0x5493ec[0x0]][_0x90655c[_0x411d6f(0x14d)]],..._0x5493ec[0x1][_0x90655c[_0x411d6f(0x14d)]]]):_0x2c9cbd[_0x5493ec[0x0]]={'failureCount':_0x5493ec[0x1][_0x90655c['tkNAN']],'results':[..._0x5493ec[0x1][_0x90655c[_0x411d6f(0x14d)]]]};}),_0x3af34c['on'](_0x90655c[_0xf7313f(0x15d)],_0x4e5973=>console[_0xf7313f(0x126)](_0x4e5973[0x1]));_0x3bf78d['getStdout']()&&_0x3bf78d[_0xf7313f(0x115)]()[_0xf7313f(0x111)](process[_0xf7313f(0x10a)]);_0x3bf78d['getStderr']()&&_0x3bf78d[_0xf7313f(0x154)]()[_0xf7313f(0x111)](process[_0xf7313f(0x146)]);const _0x29ce5e=async()=>{const _0x54f9d2=_0xf7313f,{forceExited:_0x1d4ead}=await _0x3bf78d['end']();_0x1d4ead&&console[_0x54f9d2(0x11d)](_0x90655c['tBuVi']);try{await TestHubHandler[_0x54f9d2(0x121)]();}catch(_0x4b80fc){_0x90655c[_0x54f9d2(0x144)](debug,_0x54f9d2(0xfc)+_0x4b80fc);}_0x90655c[_0x54f9d2(0x11b)](_0x3ce391,_0x2c9cbd);},_0x4fe93b=_0x90655c[_0xf7313f(0x11b)](pLimit,_0x90655c['grdTP'](_0x4ff053,0x1)),_0x2e3dfb=_0x30da12=>_0x4fe93b(async()=>{const _0x25ef4d=_0xf7313f;await _0x3af34c[_0x25ef4d(0x134)](_0x90655c['Ylcly'],_0x30da12);const _0x5ecd00=_0x3bf78d[_0x25ef4d(0x140)](_0x30da12,_0x28cf86);try{parentPort&&_0x5ecd00['UNSTABLE_onCustomMessage'](_0x6d52bb=>{const _0x26ead4=_0x25ef4d;try{parentPort['postMessage'](_0x6d52bb);}catch(_0x49bebe){logger[_0x26ead4(0x13c)](_0x26ead4(0x11c)+util[_0x26ead4(0x125)](_0x49bebe));}});}catch(_0x5d49c3){logger[_0x25ef4d(0x13c)](_0x25ef4d(0x143)+util[_0x25ef4d(0x125)](_0x5d49c3));}return _0x5ecd00;});PerformanceTester['end'](PerformanceEvents[_0xf7313f(0xfe)]),Promise[_0xf7313f(0x15e)](_0x3f35bd['map'](_0x326ff7=>_0x2e3dfb(_0x326ff7)[_0xf7313f(0x10e)](_0x318078=>_0x3af34c[_0xf7313f(0x134)](_0xf7313f(0x13b),[_0x326ff7[_0xf7313f(0x141)][_0xf7313f(0x11f)],_0x318078]),_0x1e7195=>_0x3af34c['emit']('test-file-failure',[_0x326ff7,_0x1e7195]))))[_0xf7313f(0x10e)](_0x29ce5e,_0x29ce5e);}),exports[a49_0x1cb42e(0x152)]=(_0x42d6df,_0x240058,_0x5c8997,_0x17ea17,_0xf99455)=>{const _0x384160=a49_0x1cb42e,_0x1dd059={'slGdj':_0x384160(0x150),'hUGEI':function(_0x534930,_0x2951d9){return _0x534930(_0x2951d9);},'qCEzV':_0x384160(0x153),'UvRLJ':'./testWorker.js','fptnu':_0x384160(0x112),'KmxfJ':_0x384160(0x14a),'UWJDm':_0x384160(0x111),'GtGhH':'platform-run-success','eDDdc':_0x384160(0x105)};return new Promise(_0x597169=>{const _0x5f035a=_0x384160,_0x32ba0b={'AjepL':_0x1dd059[_0x5f035a(0x13d)],'UvBcQ':function(_0x85bf7a,_0x1fbcac){const _0x15bfed=_0x5f035a;return _0x1dd059[_0x15bfed(0x133)](_0x85bf7a,_0x1fbcac);},'JrMEw':_0x1dd059['qCEzV']},_0x5f28d3=[],_0x2a389b=new Worker(require[_0x5f035a(0x12b)](_0x1dd059[_0x5f035a(0x149)]),{'exposedMethods':[_0x1dd059['fptnu']],'forkOptions':{'serialization':_0x1dd059[_0x5f035a(0x155)],'stdio':_0x1dd059[_0x5f035a(0x11e)]},'numWorkers':_0x42d6df[_0x5f035a(0x11a)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x3916bc=new Emittery();_0x3916bc['on'](_0x1dd059[_0x5f035a(0x131)],_0x2e4fad=>{const _0x102f3a=_0x5f035a;_0x5f28d3[_0x102f3a(0xfb)]([_0x2e4fad[0x0],_0x2e4fad[0x1]]);}),_0x3916bc['on'](_0x1dd059['eDDdc'],_0x2d6064=>console[_0x5f035a(0x126)](_0x2d6064[0x1]));_0x2a389b[_0x5f035a(0x115)]()&&_0x2a389b[_0x5f035a(0x115)]()[_0x5f035a(0x111)](process['stdout']);_0x2a389b[_0x5f035a(0x154)]()&&_0x2a389b[_0x5f035a(0x154)]()[_0x5f035a(0x111)](process[_0x5f035a(0x146)]);const _0x1e805f=async()=>{const _0x4418c9=_0x5f035a,{forceExited:_0x553c05}=await _0x2a389b[_0x4418c9(0xf9)]();_0x553c05&&console[_0x4418c9(0x11d)](_0x32ba0b[_0x4418c9(0x10b)]),_0x32ba0b['UvBcQ'](_0x597169,_0x5f28d3);},_0x33db62=_0x1dd059[_0x5f035a(0x133)](pLimit,_0x42d6df[_0x5f035a(0x11a)]||0x1),_0x48e954=(_0x2d23dd,_0x41069a)=>_0x33db62(async()=>{const _0x13b5c3=_0x5f035a;return await _0x3916bc[_0x13b5c3(0x134)](_0x32ba0b[_0x13b5c3(0x10f)],_0x2d23dd),_0x240058[_0x13b5c3(0x100)]=_0x5c8997[_0x13b5c3(0x119)][_0x41069a],_0x2a389b[_0x13b5c3(0x112)](_0x2d23dd,_0x240058,_0x5c8997,_0x17ea17,_0xf99455);});Promise[_0x5f035a(0x15e)](_0x42d6df[_0x5f035a(0x127)]((_0x36961a,_0x43b69e)=>_0x48e954(_0x36961a,_0x43b69e)['then'](_0x1cffe8=>_0x3916bc[_0x5f035a(0x134)](_0x5f035a(0x12d),[_0x36961a,_0x1cffe8]),_0x5c1b7a=>_0x3916bc['emit']('platform-run-failure',[_0x36961a,_0x5c1b7a]))))[_0x5f035a(0x10e)](_0x1e805f,_0x1e805f);});},exports[a49_0x1cb42e(0x129)]=(_0x20fc6a,_0x3136fc)=>new Promise(_0x102c3a=>{const _0x21b7ce=a49_0x1cb42e,_0x346d7d={'oczpF':function(_0x4a0066,_0x1a78f0){return _0x4a0066===_0x1a78f0;},'jTTFb':function(_0x34b5bf,_0x3f0b09){return _0x34b5bf!==_0x3f0b09;},'qBsds':'exit','YLFLz':_0x21b7ce(0x150),'OEVTb':function(_0xbb4d20,_0xae4b9f){return _0xbb4d20(_0xae4b9f);},'XLwcr':_0x21b7ce(0x142),'keySr':_0x21b7ce(0x14c),'iotFP':_0x21b7ce(0x14a),'AvkWb':'pipe','TCUGJ':'test-file-success','YcKLl':_0x21b7ce(0x128),'QREsZ':function(_0x267c25,_0x39baee){return _0x267c25(_0x39baee);}},_0x568f98={},_0x4daa41=new Worker(require[_0x21b7ce(0x12b)](_0x346d7d[_0x21b7ce(0xff)]),{'exposedMethods':[_0x346d7d[_0x21b7ce(0x157)]],'forkOptions':{'serialization':_0x346d7d[_0x21b7ce(0x106)],'stdio':_0x346d7d[_0x21b7ce(0x14e)]},'numWorkers':_0x3136fc,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x49067d=new Emittery();_0x49067d['on'](_0x346d7d[_0x21b7ce(0x138)],_0x550b4b=>{const _0x34ce98=_0x21b7ce;_0x550b4b[0x0]&&logger[_0x34ce98(0x123)](_0x34ce98(0x110)+_0x550b4b[0x1]+_0x34ce98(0x135),_0x550b4b[0x0]);}),_0x49067d['on'](_0x346d7d[_0x21b7ce(0x116)],_0x36457b=>{const _0x4743e0=_0x21b7ce;process[_0x4743e0(0x104)]=0x1;});_0x4daa41[_0x21b7ce(0x115)]()&&_0x4daa41[_0x21b7ce(0x115)]()[_0x21b7ce(0x111)](process[_0x21b7ce(0x10a)]);_0x4daa41[_0x21b7ce(0x154)]()&&_0x4daa41[_0x21b7ce(0x154)]()['pipe'](process[_0x21b7ce(0x146)]);const _0x30f299=async()=>{const _0x1883e1=_0x21b7ce,_0x40893d={'sLFPo':function(_0x6efeac,_0x1cbd24){const _0x3beae2=a49_0x2e29;return _0x346d7d[_0x3beae2(0x145)](_0x6efeac,_0x1cbd24);},'aNjxL':function(_0x436599,_0x2f96b3){return _0x346d7d['jTTFb'](_0x436599,_0x2f96b3);},'VHXVe':_0x346d7d[_0x1883e1(0x120)]};let _0x34a9c8=0x0;const _0x3d169a=_0x4daa41[_0x1883e1(0xfd)]['getWorkers'](),_0x7ada62=()=>{},_0x459213=_0x3d169a[_0x1883e1(0x127)](async _0x4102be=>{const _0x4e1858=_0x1883e1,_0x53156a={'ulxNP':function(_0x3732cd,_0x257d4a){const _0x248169=a49_0x2e29;return _0x40893d[_0x248169(0x122)](_0x3732cd,_0x257d4a);},'plJRs':function(_0x4a4083,_0x31fbd2){const _0x9ede23=a49_0x2e29;return _0x40893d[_0x9ede23(0x14b)](_0x4a4083,_0x31fbd2);}};_0x4102be[_0x4e1858(0x10c)]([0x2,![]],_0x7ada62,_0x7ada62,_0x7ada62),_0x4102be[_0x4e1858(0x113)]['on'](_0x40893d[_0x4e1858(0x147)],_0x4aac1b=>{const _0xd2da2c=_0x4e1858;_0x53156a[_0xd2da2c(0x13e)](_0x34a9c8,0x0)&&_0x53156a[_0xd2da2c(0x14f)](_0x4aac1b,0x0)&&(_0x34a9c8=_0x4aac1b);}),await _0x4102be[_0x4e1858(0x159)]();});await Promise['all'](_0x459213),process[_0x1883e1(0x104)]=_0x34a9c8;const {forceExited:_0x5c582e}=await _0x4daa41[_0x1883e1(0xf9)]();_0x5c582e&&console['error'](_0x346d7d[_0x1883e1(0x101)]),_0x346d7d[_0x1883e1(0xfa)](_0x102c3a,_0x568f98);},_0x5d5568=_0x346d7d['QREsZ'](pLimit,_0x3136fc),_0x57f6c9=_0x45143d=>_0x5d5568(async()=>{const _0x2566ec=_0x21b7ce;return _0x4daa41[_0x2566ec(0x14c)](_0x45143d);});Promise[_0x21b7ce(0x15e)](_0x20fc6a[_0x21b7ce(0x127)](_0x47152c=>_0x57f6c9(_0x47152c)[_0x21b7ce(0x10e)](_0x32a687=>_0x49067d[_0x21b7ce(0x134)](_0x21b7ce(0x13b),[_0x47152c[_0x21b7ce(0x141)][_0x21b7ce(0x11f)],_0x47152c[_0x21b7ce(0x141)]['file']]),_0x4e0d11=>_0x49067d[_0x21b7ce(0x134)](_0x21b7ce(0x128),[_0x47152c,_0x4e0d11]))))['then'](_0x30f299,_0x30f299);});