#!/usr/bin/env node
'use strict';const a14_0x5919ea=a14_0xbd56;function a14_0x1363(){const _0x3a45a9=['\x0amodule.exports\x20=\x20config;','vVnvq','nnqWZ','Getting\x20your\x20jest\x20configs\x20from\x20package.json','stringify','CUatF','../../helpers/testhub/utils','exports','customEnvironment.js','abortBuildOnFailure','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','uYqRW','info','browserStackPercyOptions','NiZxu','OwNUr','env','PhFNl','skipSessionName','workingDir','NEPRz','child\x20process\x20exited\x20with\x20code\x20','reporters','./test-observability/test-details','customTestRunner.js','path','stop','\x20with\x20browserstack\x20jest\x20configs','force','maxFailures','push','AQPFZ','DBbht','../../helpers/BrowserStackSetup','EVENTS','QTtGU','cjs','./test-observability/helper','failureThresholdCount','testRunner','default','FNzbh','child_process','msuKA','isUndefined','DmHMI','testContextOptions','maxWorkers','MODULE','\x0a\x20\x20\x20\x20','1362132sQCZBn','setup','failFast','32xqoDII','splice','cgjTK','Unable\x20to\x20find\x20jest-circus,\x20','inherit','RfSSJ','GONey','BROWSERSTACK_TEST_ACCESSIBILITY_YML','skipSessionStatus','WHivn','jest_browserstack.config.cjs','platforms','12325360fHONjc','resolve','kpSTP','\x20:\x20','parseTestOrchestrationOptions','testObservability','PACKAGE_TYPE','launchBuild','findIndex','serial__','end','Getting\x20your\x20jest\x20configs\x20from\x20','../../helpers/testhub/testhubHandler','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','setupTCGAuth','Deleted\x20fail-fast\x20state\x20folder:\x20','jest','parallelsPerPlatform','../../helpers/logger','GRrWf','proxySettings','test-observability','GwARS','retryTestsOnFailure','accessibilityOptions','prOeM','JEST','EJHZp','log','maxRetries','true','readFileSync','KgWoS','nNMrP','util','SDK_SETUP','assign','jest.config.','3575866sCuOhs','length','pdoab','shutdown','kRLbO','742032rHypEe','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','FRAMEWORKS','errorMessage','recursive','getTCGConfigFilePaths','102828PrxUTv','package.json','runner','../../helpers/test-observability/utils','browserStackLogLevel','nNoaz','platform','false','setupFilesAfterEnv','testTimeout','5mufCSM','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','JEbnz','TtwfF','existsSync','vKKSB','RBKdE','USER_CONFIG_DETAILS_PATH','retries__','testEnvironment','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','--config','isBrowserstackInfra','join','cwd','getErrorMessageFromResults','Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20','../../helpers/test-observability/constants','jest.setup.js','../../helpers/accessibility-automation/helper','slice',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','BSTACK_JEST_TEST_ENV','5993460knFyLj','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','requireModule','Creating\x20','EOSAC','isNotUndefined','debug','shouldProcessEventForTesthub','winstonLogger','getHubUrl','start','accessibility','logLevel','../../helpers/performance/performance-tester','customTestRunnerTemplate.js','platformCaps','Error\x20while\x20parsing\x20','capabilities','../../helpers/performance/constants','writeFileSync','config','../utils/constants','initialize','handleApp','close','finalExecution','useW3C','error','jest-config/build/readConfigFileAndSetRootDir.js','testEnvironmentOptions','unlinkSync','PvISB','3690548zKwwYX','BROWSERSTACK_TEST_OBSERVABILITY_YML','FvcXn','Deleting\x20','../../helpers/utilities','setupFiles','turboScaleUrl','customCircus.js','SDK_CLEANUP','requireSeleniumWebdriver','../../helpers/percy/utils','teLdY','jREuw','ZKUya','timeout__'];a14_0x1363=function(){return _0x3a45a9;};return a14_0x1363();}(function(_0x15ceb6,_0x29f76d){const _0x4ab483=a14_0xbd56,_0x66ae1c=_0x15ceb6();while(!![]){try{const _0x4d6bd9=-parseInt(_0x4ab483(0x238))/0x1+-parseInt(_0x4ab483(0x201))/0x2*(parseInt(_0x4ab483(0x23e))/0x3)+parseInt(_0x4ab483(0x27f))/0x4*(parseInt(_0x4ab483(0x248))/0x5)+-parseInt(_0x4ab483(0x1fe))/0x6+parseInt(_0x4ab483(0x233))/0x7+parseInt(_0x4ab483(0x20d))/0x8+-parseInt(_0x4ab483(0x25f))/0x9;if(_0x4d6bd9===_0x29f76d)break;else _0x66ae1c['push'](_0x66ae1c['shift']());}catch(_0x56826a){_0x66ae1c['push'](_0x66ae1c['shift']());}}}(a14_0x1363,0xc10cf));const fs=require('fs'),path=require(a14_0x5919ea(0x2a7)),util=require(a14_0x5919ea(0x22f)),{spawn}=require(a14_0x5919ea(0x1f6)),logger=require(a14_0x5919ea(0x21f))[a14_0x5919ea(0x267)],{default:BrowserStackSetup}=require(a14_0x5919ea(0x2af)),helper=require('../../helpers/helper'),utilities=require(a14_0x5919ea(0x283)),constants=require(a14_0x5919ea(0x274)),accessibilityHelper=require(a14_0x5919ea(0x25b)),{updateTestRerunConfig}=require(a14_0x5919ea(0x1f1)),testOpsHelper=require(a14_0x5919ea(0x241)),{debug}=require(a14_0x5919ea(0x241)),TestDetails=require(a14_0x5919ea(0x2a5)),{getPercyOptions}=require(a14_0x5919ea(0x289)),TestHubHandler=require(a14_0x5919ea(0x219)),testhubUtils=require(a14_0x5919ea(0x294)),{FRAMEWORKS}=require(a14_0x5919ea(0x259)),PerformanceTester=require(a14_0x5919ea(0x26c)),PerformanceEvents=require(a14_0x5919ea(0x271))[a14_0x5919ea(0x2b0)],getUserJestConfigs=async(_0xeb7dbd,_0x188be8)=>{const _0x567f6a=a14_0x5919ea,_0x4ef7ae={'kpSTP':_0x567f6a(0x27b),'FvcXn':'jest-config','CUatF':function(_0x193dc8,_0x38cd53){return _0x193dc8||_0x38cd53;},'FNzbh':function(_0x5b4f4c,_0x5b96b2){return _0x5b4f4c(_0x5b96b2);},'bRZaU':_0x567f6a(0x23f),'GRrWf':_0x567f6a(0x291),'kirck':'mjs','RBKdE':_0x567f6a(0x1f0),'nNMrP':'json'},_0xce191b=helper[_0x567f6a(0x261)](_0x4ef7ae[_0x567f6a(0x20f)],_0x4ef7ae[_0x567f6a(0x281)]),_0x25db9f=_0x188be8[_0x567f6a(0x215)](_0x19b5f9=>_0x19b5f9===_0x567f6a(0x253));if(!helper['isUndefined'](_0xeb7dbd['config'])){logger['info'](_0x567f6a(0x218)+_0xeb7dbd[_0x567f6a(0x273)]),process[_0x567f6a(0x29e)][_0x567f6a(0x24f)]=_0xeb7dbd[_0x567f6a(0x273)];const _0x133e03=await(0x0,_0xce191b['default'])(path[_0x567f6a(0x20e)](_0xeb7dbd[_0x567f6a(0x273)]));return _0x188be8[_0x567f6a(0x202)](_0x25db9f,0x2),_0x4ef7ae[_0x567f6a(0x293)](_0x133e03,{});}const _0x5854a9=_0x4ef7ae[_0x567f6a(0x1f5)](require,path[_0x567f6a(0x255)](process[_0x567f6a(0x256)](),_0x4ef7ae['bRZaU']));if(_0x5854a9[_0x567f6a(0x21d)])return logger[_0x567f6a(0x29a)](_0x4ef7ae[_0x567f6a(0x220)]),_0x5854a9[_0x567f6a(0x21d)];const _0xb039f5=['js',_0x4ef7ae['kirck'],_0x4ef7ae[_0x567f6a(0x24e)],_0x4ef7ae[_0x567f6a(0x22e)],'ts'];for(const _0x5949ef of _0xb039f5){const _0x3c4e7d=path[_0x567f6a(0x255)](process[_0x567f6a(0x256)](),_0x567f6a(0x232)+_0x5949ef);if(fs['existsSync'](_0x3c4e7d)){process['env'][_0x567f6a(0x24f)]=_0x3c4e7d;const _0x376b2d=await(0x0,_0xce191b['default'])(_0x3c4e7d);return _0x376b2d;}}return{};},getSerial=(_0xf3acaf,_0x4aeb09)=>{const _0x461f78=a14_0x5919ea,_0x18fe97={};_0x18fe97[_0x461f78(0x223)]='true',_0x18fe97[_0x461f78(0x22d)]=function(_0x506d2f,_0x38690d){return _0x506d2f>_0x38690d;},_0x18fe97[_0x461f78(0x2ad)]=function(_0x267682,_0x148cfe){return _0x267682>_0x148cfe;},_0x18fe97[_0x461f78(0x203)]=_0x461f78(0x245);const _0x1ecf28=_0x18fe97;let _0x1a1109=_0x1ecf28[_0x461f78(0x223)];return _0x1ecf28[_0x461f78(0x22d)](_0xf3acaf['length'],0x1)&&(!_0x4aeb09['runInBand']&&(helper['isUndefined'](_0x4aeb09[_0x461f78(0x1fb)])||_0x1ecf28[_0x461f78(0x2ad)](_0x4aeb09[_0x461f78(0x1fb)],0x1)))&&(_0x1a1109=_0x1ecf28[_0x461f78(0x203)]),_0x1a1109;},getMaxWorkers=(_0x32d560,_0x3d3ffd,_0x22de43)=>{const _0xadd0ba=a14_0x5919ea,_0x1c6ed9={'QTtGU':function(_0xec16af,_0x177fa5){return _0xec16af(_0x177fa5);}};let _0x67ab77=0x1;if(!helper[_0xadd0ba(0x1f8)](_0x3d3ffd[_0xadd0ba(0x21e)]))_0x67ab77=_0x1c6ed9[_0xadd0ba(0x1ef)](parseInt,_0x3d3ffd[_0xadd0ba(0x21e)]);else{if(!helper[_0xadd0ba(0x1f8)](_0x32d560[_0xadd0ba(0x1fb)]))_0x67ab77=_0x32d560[_0xadd0ba(0x1fb)];else!helper[_0xadd0ba(0x1f8)](_0x22de43['maxWorkers'])&&(_0x67ab77=_0x22de43['maxWorkers']);}return _0x67ab77;};function a14_0xbd56(_0x46c0ee,_0x3771bc){const _0x1363d5=a14_0x1363();return a14_0xbd56=function(_0xbd56e2,_0x3c6d52){_0xbd56e2=_0xbd56e2-0x1ef;let _0x128774=_0x1363d5[_0xbd56e2];return _0x128774;},a14_0xbd56(_0x46c0ee,_0x3771bc);}async function run(_0x328b9a,_0x378a66,_0x2666a6){const _0x2d9a3c=a14_0x5919ea,_0x3a7f18={'kRLbO':'error\x20removing\x20tcg\x20config\x20file','nNoaz':_0x2d9a3c(0x21d),'DmHMI':function(_0x3a76b6,_0x7f2273){return _0x3a76b6(_0x7f2273);},'PhFNl':function(_0x174f56,_0xdba235){return _0x174f56!=_0xdba235;},'prOeM':_0x2d9a3c(0x22b),'nnqWZ':function(_0x2f5a1b,_0x412c09,_0x48a662){return _0x2f5a1b(_0x412c09,_0x48a662);},'hQakI':_0x2d9a3c(0x260),'PvISB':function(_0x50c5ef,_0x12dc18,_0x2595c2,_0x38cc75){return _0x50c5ef(_0x12dc18,_0x2595c2,_0x38cc75);},'teLdY':function(_0x33b11c,_0x2550a0){return _0x33b11c*_0x2550a0;},'uYqRW':function(_0x3b899e,_0x2a36cb){return _0x3b899e===_0x2a36cb;},'NiZxu':_0x2d9a3c(0x20b),'vKKSB':'jest_browserstack.config.js','WHivn':'customImplements','JEbnz':'jest_browserstack_results.json','PiGRH':_0x2d9a3c(0x2a6),'pukAq':_0x2d9a3c(0x26d),'BFfNG':_0x2d9a3c(0x296),'hdVuD':_0x2d9a3c(0x25a),'pdoab':_0x2d9a3c(0x239),'RfSSJ':'jest-circus','EOSAC':_0x2d9a3c(0x222),'msuKA':'data-hooks.js','dhrlP':_0x2d9a3c(0x286),'jREuw':'test_before.setup.js','vVnvq':_0x2d9a3c(0x21a),'sufdi':_0x2d9a3c(0x1f4),'ZKUya':_0x2d9a3c(0x298),'DBbht':'npx','EJHZp':_0x2d9a3c(0x253),'NEPRz':function(_0x38d7e9,_0x21c241){return _0x38d7e9===_0x21c241;},'TtwfF':'win32','OwNUr':_0x2d9a3c(0x205),'GONey':_0x2d9a3c(0x277)};helper[_0x2d9a3c(0x254)]()?(await _0x2666a6[_0x2d9a3c(0x275)](_0x328b9a),await helper[_0x2d9a3c(0x276)](_0x2666a6[_0x2d9a3c(0x273)])):await _0x2666a6[_0x2d9a3c(0x21b)]();if(!_0x2666a6['config'])return;_0x3a7f18[_0x2d9a3c(0x29f)](_0x2666a6[_0x2d9a3c(0x273)][_0x2d9a3c(0x212)],null)?process[_0x2d9a3c(0x29e)][_0x2d9a3c(0x280)]=_0x2666a6[_0x2d9a3c(0x273)]['testObservability']:process[_0x2d9a3c(0x29e)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x3a7f18[_0x2d9a3c(0x226)];const _0x1510e6=await _0x3a7f18[_0x2d9a3c(0x290)](getUserJestConfigs,_0x328b9a,_0x378a66);logger[_0x2d9a3c(0x29a)](_0x3a7f18['hQakI']);const _0x35e97e=Object[_0x2d9a3c(0x231)]({},_0x1510e6);_0x35e97e[_0x2d9a3c(0x27c)]=Object[_0x2d9a3c(0x231)]({},_0x35e97e[_0x2d9a3c(0x27c)],{'server':helper[_0x2d9a3c(0x268)](_0x2666a6[_0x2d9a3c(0x273)]),'environment':_0x1510e6[_0x2d9a3c(0x251)]}),_0x35e97e[_0x2d9a3c(0x27c)][_0x2d9a3c(0x29b)]=_0x3a7f18[_0x2d9a3c(0x1f9)](getPercyOptions,_0x2666a6[_0x2d9a3c(0x273)]);const _0x44c005=helper[_0x2d9a3c(0x279)](_0x2666a6[_0x2d9a3c(0x273)]);!helper[_0x2d9a3c(0x1f8)](_0x2666a6[_0x2d9a3c(0x273)][_0x2d9a3c(0x225)])&&(process[_0x2d9a3c(0x29e)][_0x2d9a3c(0x249)]=JSON[_0x2d9a3c(0x292)](_0x2666a6['config'][_0x2d9a3c(0x225)]));const _0x30804d=await TestHubHandler[_0x2d9a3c(0x214)](FRAMEWORKS[_0x2d9a3c(0x227)],_0x2666a6),_0x208b1b=helper['prepareCapabilities'](_0x2666a6[_0x2d9a3c(0x273)],_0x44c005,constants[_0x2d9a3c(0x23a)][_0x2d9a3c(0x227)]);let _0x3ae839=_0x2666a6[_0x2d9a3c(0x273)][_0x2d9a3c(0x26a)];_0x3ae839=_0x3ae839||accessibilityHelper['checkAccessibilityPlatformConfig'](_0x2666a6[_0x2d9a3c(0x273)]),process[_0x2d9a3c(0x29e)][_0x2d9a3c(0x208)]=_0x3ae839,_0x35e97e['testEnvironmentOptions'][_0x2d9a3c(0x270)]=_0x208b1b,_0x35e97e[_0x2d9a3c(0x27c)][_0x2d9a3c(0x216)]=_0x3a7f18[_0x2d9a3c(0x290)](getSerial,_0x208b1b,_0x328b9a),_0x35e97e[_0x2d9a3c(0x27c)]['parallels__']=_0x3a7f18[_0x2d9a3c(0x27e)](getMaxWorkers,_0x328b9a,_0x2666a6[_0x2d9a3c(0x273)],_0x1510e6),_0x35e97e[_0x2d9a3c(0x27c)][_0x2d9a3c(0x221)]=_0x2666a6[_0x2d9a3c(0x273)][_0x2d9a3c(0x221)],_0x35e97e[_0x2d9a3c(0x27c)][_0x2d9a3c(0x28d)]=_0x3a7f18[_0x2d9a3c(0x28a)](_0x328b9a[_0x2d9a3c(0x247)],0x1)||0x1388,_0x35e97e[_0x2d9a3c(0x27c)]['skipSessionName']=_0x2666a6[_0x2d9a3c(0x273)][_0x2d9a3c(0x1fa)][_0x2d9a3c(0x2a0)],_0x35e97e['testEnvironmentOptions']['skipSessionStatus']=_0x2666a6[_0x2d9a3c(0x273)]['testContextOptions'][_0x2d9a3c(0x209)],_0x35e97e['testEnvironmentOptions'][_0x2d9a3c(0x242)]=_0x2666a6['config'][_0x2d9a3c(0x26b)],_0x35e97e[_0x2d9a3c(0x27c)][_0x2d9a3c(0x285)]=_0x2666a6[_0x2d9a3c(0x273)][_0x2d9a3c(0x285)],_0x35e97e[_0x2d9a3c(0x27c)][_0x2d9a3c(0x26e)]=_0x2666a6[_0x2d9a3c(0x273)][_0x2d9a3c(0x20c)];const _0x2e1e71=helper[_0x2d9a3c(0x211)](_0x2666a6[_0x2d9a3c(0x273)]);if(!helper['isEmpty'](_0x2e1e71)){helper['isNotUndefined'](_0x2e1e71[_0x2d9a3c(0x224)])&&(_0x35e97e[_0x2d9a3c(0x27c)][_0x2d9a3c(0x250)]=_0x2e1e71[_0x2d9a3c(0x224)][_0x2d9a3c(0x22a)]);if(helper[_0x2d9a3c(0x264)](_0x2e1e71[_0x2d9a3c(0x297)])&&helper[_0x2d9a3c(0x264)](_0x2e1e71[_0x2d9a3c(0x297)][_0x2d9a3c(0x2a1)])){const _0x4e5f45={};_0x4e5f45[_0x2d9a3c(0x1f2)]=_0x2e1e71[_0x2d9a3c(0x297)][_0x2d9a3c(0x2ab)],_0x4e5f45[_0x2d9a3c(0x2a1)]=_0x2e1e71[_0x2d9a3c(0x297)][_0x2d9a3c(0x2a1)],_0x35e97e[_0x2d9a3c(0x27c)][_0x2d9a3c(0x200)]=_0x4e5f45;}}let _0x5d0a69='';_0x3a7f18[_0x2d9a3c(0x299)](helper['getPackageType'](),constants[_0x2d9a3c(0x213)][_0x2d9a3c(0x1fc)])?_0x5d0a69=_0x3a7f18[_0x2d9a3c(0x29c)]:_0x5d0a69=_0x3a7f18[_0x2d9a3c(0x24d)];const _0x15a07f=_0x5d0a69,_0x8c0b40=path['join'](__dirname,_0x3a7f18[_0x2d9a3c(0x20a)],_0x3a7f18[_0x2d9a3c(0x24a)]),_0x32a2b9=path['join'](__dirname,_0x3a7f18[_0x2d9a3c(0x20a)],_0x3a7f18['PiGRH']),_0x1bf629=path['join'](__dirname,_0x3a7f18['WHivn'],_0x3a7f18['pukAq']);_0x35e97e[_0x2d9a3c(0x251)]&&(process[_0x2d9a3c(0x29e)][_0x2d9a3c(0x25e)]=_0x35e97e[_0x2d9a3c(0x251)]);_0x35e97e[_0x2d9a3c(0x251)]=path[_0x2d9a3c(0x255)](__dirname,_0x3a7f18[_0x2d9a3c(0x20a)],_0x3a7f18['BFfNG']),_0x35e97e[_0x2d9a3c(0x240)]=_0x32a2b9,_0x35e97e[_0x2d9a3c(0x246)]=_0x35e97e[_0x2d9a3c(0x246)]||[],_0x35e97e[_0x2d9a3c(0x246)]['push'](path[_0x2d9a3c(0x255)](__dirname,_0x3a7f18['hdVuD']));if(testhubUtils[_0x2d9a3c(0x266)]()){let _0x297aab=null;try{_0x297aab=helper['requireModule'](_0x3a7f18[_0x2d9a3c(0x235)],_0x3a7f18[_0x2d9a3c(0x206)]);}catch(_0x4dd10b){_0x3a7f18[_0x2d9a3c(0x1f9)](debug,_0x2d9a3c(0x204)+_0x4dd10b);}_0x297aab&&(_0x35e97e[_0x2d9a3c(0x246)][_0x2d9a3c(0x2ac)](path[_0x2d9a3c(0x255)](__dirname,_0x3a7f18[_0x2d9a3c(0x263)],_0x3a7f18[_0x2d9a3c(0x1f7)])),_0x35e97e[_0x2d9a3c(0x1f3)]=path[_0x2d9a3c(0x255)](__dirname,_0x3a7f18[_0x2d9a3c(0x20a)],_0x3a7f18['dhrlP']));}_0x35e97e['setupFiles']=_0x35e97e[_0x2d9a3c(0x284)]||[];try{helper[_0x2d9a3c(0x288)](),_0x35e97e['setupFiles'][_0x2d9a3c(0x2ac)](path[_0x2d9a3c(0x255)](__dirname,_0x3a7f18[_0x2d9a3c(0x28b)]));}catch{logger[_0x2d9a3c(0x265)](_0x3a7f18[_0x2d9a3c(0x28f)]);}_0x35e97e[_0x2d9a3c(0x2a4)]=_0x35e97e['reporters']||[_0x3a7f18['sufdi']],_0x3a7f18[_0x2d9a3c(0x290)](updateTestRerunConfig,_0x35e97e,_0x2666a6);const _0x554975=fs[_0x2d9a3c(0x22c)](_0x1bf629);fs[_0x2d9a3c(0x272)](_0x35e97e['runner'],_0x2d9a3c(0x1fd)+_0x554975+'\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20'+_0x2666a6['config'][_0x2d9a3c(0x20c)][_0x2d9a3c(0x234)]+_0x2d9a3c(0x25d)),logger[_0x2d9a3c(0x29a)](_0x2d9a3c(0x262)+_0x15a07f+_0x2d9a3c(0x2a9)),fs['writeFileSync'](_0x15a07f,'const\x20config='+JSON[_0x2d9a3c(0x292)](_0x35e97e)+_0x2d9a3c(0x28e)),logger['info'](_0x3a7f18[_0x2d9a3c(0x28c)]);testhubUtils[_0x2d9a3c(0x266)]()&&TestDetails[_0x2d9a3c(0x1ff)]();helper['filterBrowserstackArgs']({},_0x378a66),PerformanceTester[_0x2d9a3c(0x217)](PerformanceEvents[_0x2d9a3c(0x230)]);const _0x596134=_0x3a7f18[_0x2d9a3c(0x27e)](spawn,_0x3a7f18[_0x2d9a3c(0x2ae)],[_0x3a7f18[_0x2d9a3c(0x243)],_0x3a7f18[_0x2d9a3c(0x228)],_0x15a07f,..._0x378a66[_0x2d9a3c(0x25c)](0x1)],{'shell':_0x3a7f18[_0x2d9a3c(0x2a2)](process[_0x2d9a3c(0x244)],_0x3a7f18[_0x2d9a3c(0x24b)]),'stdio':_0x3a7f18[_0x2d9a3c(0x29d)],'env':Object['assign']({},process[_0x2d9a3c(0x29e)])});_0x596134['on'](_0x3a7f18[_0x2d9a3c(0x207)],async _0x528a3a=>{const _0x29c33e=_0x2d9a3c;PerformanceTester[_0x29c33e(0x269)](PerformanceEvents[_0x29c33e(0x287)]);try{const {browserstackFolderPath:_0x53e87f,tcgConfigPath:_0x1c906d}=helper[_0x29c33e(0x23d)]();fs[_0x29c33e(0x27d)](_0x1c906d),fs['rmdirSync'](_0x53e87f);}catch(_0x1a548d){logger['debug'](_0x3a7f18[_0x29c33e(0x237)],_0x1a548d);}process['exitCode']=_0x528a3a,logger[_0x29c33e(0x265)](_0x29c33e(0x2a3)+_0x528a3a),logger[_0x29c33e(0x29a)](_0x29c33e(0x282)+_0x15a07f);if(helper['isNotUndefined'](_0x2e1e71)&&helper[_0x29c33e(0x264)](_0x2e1e71[_0x29c33e(0x297)])&&fs[_0x29c33e(0x24c)](_0x2e1e71[_0x29c33e(0x297)]['workingDir']))try{const _0x2aac41={};_0x2aac41[_0x29c33e(0x23c)]=!![],_0x2aac41[_0x29c33e(0x2aa)]=!![],fs['rmSync'](_0x2e1e71['abortBuildOnFailure'][_0x29c33e(0x2a1)],_0x2aac41),logger[_0x29c33e(0x265)](_0x29c33e(0x21c)+_0x2e1e71['abortBuildOnFailure'][_0x29c33e(0x2a1)]);}catch(_0x3c9034){logger[_0x29c33e(0x27a)](_0x29c33e(0x252)+_0x3c9034);}let _0x306f60=null;if(fs[_0x29c33e(0x24c)](_0x8c0b40)){_0x306f60=fs['readFileSync'](_0x8c0b40);try{_0x306f60=JSON['parse'](_0x306f60);}catch(_0x29cb9d){logger[_0x29c33e(0x265)](_0x29c33e(0x26f)+_0x8c0b40+',\x20'+_0x306f60+_0x29c33e(0x210)+_0x29cb9d);}fs['unlinkSync'](_0x8c0b40);}fs[_0x29c33e(0x27d)](_0x15a07f),fs['unlinkSync'](_0x32a2b9),_0x306f60&&(_0x2666a6[_0x29c33e(0x23b)]=helper[_0x29c33e(0x257)](_0x306f60,_0x3a7f18['nNoaz'],_0x2666a6));try{await TestHubHandler[_0x29c33e(0x2a8)]();}catch(_0x444f77){console[_0x29c33e(0x229)](_0x444f77),_0x3a7f18[_0x29c33e(0x1f9)](debug,_0x29c33e(0x258)+util['format'](_0x444f77));}testOpsHelper['printBuildLink'](),TestDetails[_0x29c33e(0x236)](),await utilities[_0x29c33e(0x278)](_0x2666a6);});}module[a14_0x5919ea(0x295)]=run;