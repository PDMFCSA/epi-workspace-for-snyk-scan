#!/usr/bin/env node
'use strict';function a14_0x3fa1(){const _0x5a3871=['getPackageType','DZxGM','WAZjI','capabilities','force','env','launchBuild','[Jest\x20Command]\x20Accessibility\x20enabled:\x20','@playwright/test','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','TAgGx','Yolqn','jest-config','testObservability','Creating\x20','ZHIsd','3BOFZIP','SDK_SETUP','package.json','KeqmH','iGuqD','jest-config/build/readConfigFileAndSetRootDir.js','EPJdU','getHubUrl','omkYp','1584855aglnMP','finalExecution','timeout__','kdroL','false','AHntt','parallelsPerPlatform','egLPl','jest-circus','\x20:\x20','readFileSync','../utils/clientTroubleshootingService','customImplements','customEnvironment.js','unlinkSync','FmvDn','abortBuildOnFailure','setupFilesAfterEnv','JEST','close','length','wMkXe','info','reporters','test-observability','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','assign','ygCpB','../../helpers/performance/constants','stringify','uhfRb','parse','jest_browserstack.config.cjs','../../helpers/accessibility-automation/helper','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','testContextOptions','isTestOrchestrationEnabled','BROWSERSTACK_CAPABILITIES','aLuho','slice','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','reorderTestFiles','EVENTS','config','child_process','testEnvironment','parseTestOrchestrationOptions','maxFailures','skipSessionName','Ghsuu','setupFiles','BROWSERSTACK_TEST_ACCESSIBILITY_YML','Unable\x20to\x20find\x20jest-circus,\x20','IpZuK','wAWGZ','retries__','isNotUndefined','982712fQbLCy','setup','kwFPx','win32','debug','cwd','serial__','json','1140170GyxuvM','\x0a\x20\x20\x20\x20','cjs','./test-observability/test-details','MODULE','mjs','ApDVc','jest.setup.js','checkAccessibilityPlatformConfig','nwHap','KBYaI','../../helpers/helper','resolve','../../helpers/test-observability/utils','accessibilityOptions','AmUJZ','RdTZI','platforms','rmdirSync','skipSessionStatus','isRunning','winstonLogger','isUndefined','logLevel','inherit','Found:\x20','xdGIF','isBrowserstackInfra','jGzBE','[Jest\x20Command]\x20Playwright\x20detected,\x20setting\x20accessibility\x20platform:\x20','ZUNGU','Deleting\x20','default','requireSeleniumWebdriver','XDsPu','requirePWModule','BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM','turboScaleUrl','test_before.setup.js','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','shouldProcessEventForTesthub','../../helpers/BrowserStackSetup','1134455CIuPKl','jest.config.','JEST_TEST_ORDER','Dtvxh','push','data-hooks.js','TnPEA','existsSync','FRAMEWORKS','browserStackPercyOptions','retryTestsOnFailure','BROWSERSTACK_TEST_OBSERVABILITY_YML','Getting\x20your\x20jest\x20configs\x20from\x20','findIndex','testTimeout','../../helpers/playwright-helper','getPackageVersion','HymoB','../../helpers/test-orchestration/testOrchestrationHandler','apply','testRunner','customTestRunner.js','Skipping\x20accessibility\x20env\x20setup\x20for\x20Playwright\x20due\x20to:\x20','runner','../../helpers/logger','exports','209qrCfZj','__isPlaywrightInstalled','\x20test\x20files\x20to\x20run.','customTestRunnerTemplate.js','recursive','USER_CONFIG_DETAILS_PATH','jest','XYakP','../../helpers/performance/performance-tester','accessibility','Reodered\x20Test\x20Files:\x20','stop','jfJrx','xBHTR','../../helpers/test-observability/constants','platform','exitCode','requireModule','jest_browserstack.config.js','FEoOo','errorMessage','PACKAGE_TYPE','format','WabJR','join','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','testEnvironmentOptions','error','Deleted\x20fail-fast\x20state\x20folder:\x20','testSequencer','error\x20removing\x20tcg\x20config\x20file','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','../../helpers/utilities','playwright','printBuildLink','--config','BSTACK_JEST_TEST_ENV','QkDeu','rmSync','ELRyn','mrTel','parallels__','shutdown','Mgyvt','Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','path','util','workingDir','wxeIo','27zHlJlw','useW3C','filterBrowserstackArgs','../v2/browserstackCLI','maxWorkers','true','semHU','12hvhxkB','getInstance','wZOcl',',\x20BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM=','SDK_CLEANUP','end','getTCGConfigFilePaths','104820OSTkUm','log','QThOD','browserStackLogLevel','customCircus.js','platformCaps','findTestFiles','567938xwOiAx','UmZaR','926308CZnuvu'];a14_0x3fa1=function(){return _0x5a3871;};return a14_0x3fa1();}const a14_0x1052de=a14_0x44d9;(function(_0x13f5d8,_0x496c51){const _0x11e813=a14_0x44d9,_0x17ea4c=_0x13f5d8();while(!![]){try{const _0xfb7b8c=-parseInt(_0x11e813(0x174))/0x1+parseInt(_0x11e813(0xe9))/0x2+parseInt(_0x11e813(0x187))/0x3*(-parseInt(_0x11e813(0x176))/0x4)+parseInt(_0x11e813(0x190))/0x5+-parseInt(_0x11e813(0x166))/0x6*(parseInt(_0x11e813(0x113))/0x7)+-parseInt(_0x11e813(0x1c9))/0x8*(-parseInt(_0x11e813(0x15f))/0x9)+-parseInt(_0x11e813(0x16d))/0xa*(-parseInt(_0x11e813(0x12d))/0xb);if(_0xfb7b8c===_0x496c51)break;else _0x17ea4c['push'](_0x17ea4c['shift']());}catch(_0x544dec){_0x17ea4c['push'](_0x17ea4c['shift']());}}}(a14_0x3fa1,0x50d4e));const fs=require('fs'),path=require(a14_0x1052de(0x15b)),util=require(a14_0x1052de(0x15c)),{spawn}=require(a14_0x1052de(0x1bc)),logger=require(a14_0x1052de(0x12b))[a14_0x1052de(0xfe)],{default:BrowserStackSetup}=require(a14_0x1052de(0x112)),helper=require(a14_0x1052de(0xf4)),utilities=require(a14_0x1052de(0x14e)),constants=require('../utils/constants'),accessibilityHelper=require('../../helpers/accessibility-automation/helper'),{updateTestRerunConfig}=require('./test-observability/helper'),testOpsHelper=require(a14_0x1052de(0xf6)),{debug}=require(a14_0x1052de(0xf6)),TestDetails=require(a14_0x1052de(0xec)),{getPercyOptions}=require('../../helpers/percy/utils'),TestHubHandler=require('../../helpers/testhub/testhubHandler'),testhubUtils=require('../../helpers/testhub/utils'),{FRAMEWORKS}=require(a14_0x1052de(0x13b)),PerformanceTester=require(a14_0x1052de(0x135)),PerformanceEvents=require(a14_0x1052de(0x1ac))[a14_0x1052de(0x1ba)],TestOrchestrationHandler=require(a14_0x1052de(0x125)),BrowserstackCLI=require(a14_0x1052de(0x162)),{checkPwandBootstrapCli}=require(a14_0x1052de(0x122)),ClientTroubleShootingService=require(a14_0x1052de(0x19b)),{checkAccessibilityPlatformConfig}=require(a14_0x1052de(0x1b1)),getUserJestConfigs=async(_0x3e2916,_0x582bb1)=>{const _0x4276b9=a14_0x1052de,_0x231d34={'shZDD':_0x4276b9(0x18c),'sQrYB':_0x4276b9(0x183),'jGzBE':function(_0x567b57,_0x4dd8a1){return _0x567b57||_0x4dd8a1;},'omkYp':function(_0x5a6699,_0x49088e){return _0x5a6699(_0x49088e);},'Dtvxh':_0x4276b9(0x189),'qkGKF':'Getting\x20your\x20jest\x20configs\x20from\x20package.json','WAZjI':_0x4276b9(0xee),'jfJrx':_0x4276b9(0xeb),'QkDeu':_0x4276b9(0xe8)},_0x1df11c=helper[_0x4276b9(0x13e)](_0x231d34['shZDD'],_0x231d34['sQrYB']),_0x27a148=_0x582bb1[_0x4276b9(0x120)](_0x5c2ed0=>_0x5c2ed0==='--config');if(!helper[_0x4276b9(0xff)](_0x3e2916[_0x4276b9(0x1bb)])){logger['info'](_0x4276b9(0x11f)+_0x3e2916[_0x4276b9(0x1bb)]),process['env'][_0x4276b9(0x132)]=_0x3e2916[_0x4276b9(0x1bb)];const _0x4970d4=await(0x0,_0x1df11c[_0x4276b9(0x109)])(path[_0x4276b9(0xf5)](_0x3e2916[_0x4276b9(0x1bb)]));return _0x582bb1['splice'](_0x27a148,0x2),_0x231d34[_0x4276b9(0x105)](_0x4970d4,{});}const _0x4d32b5=_0x231d34[_0x4276b9(0x18f)](require,path[_0x4276b9(0x145)](process[_0x4276b9(0xe6)](),_0x231d34[_0x4276b9(0x116)]));if(_0x4d32b5[_0x4276b9(0x133)])return logger[_0x4276b9(0x1a6)](_0x231d34['qkGKF']),_0x4d32b5['jest'];const _0xfec727=['js',_0x231d34[_0x4276b9(0x179)],_0x231d34[_0x4276b9(0x139)],_0x231d34[_0x4276b9(0x153)],'ts'];for(const _0x5a4c5b of _0xfec727){const _0x11e904=path[_0x4276b9(0x145)](process[_0x4276b9(0xe6)](),_0x4276b9(0x114)+_0x5a4c5b);if(fs['existsSync'](_0x11e904)){process[_0x4276b9(0x17c)][_0x4276b9(0x132)]=_0x11e904;const _0x3f9d3b=await(0x0,_0x1df11c['default'])(_0x11e904);return _0x3f9d3b;}}return{};},getSerial=(_0x258b31,_0x1d6c32)=>{const _0x4ddf86=a14_0x1052de,_0xbb7cb6={};_0xbb7cb6[_0x4ddf86(0x1ab)]=_0x4ddf86(0x164),_0xbb7cb6['ZHIsd']=function(_0x29c268,_0x185aa1){return _0x29c268>_0x185aa1;},_0xbb7cb6[_0x4ddf86(0x134)]=function(_0x3b02cf,_0x210224){return _0x3b02cf>_0x210224;},_0xbb7cb6[_0x4ddf86(0x15e)]=_0x4ddf86(0x194);const _0x54a3e7=_0xbb7cb6;let _0x25353e=_0x54a3e7['ygCpB'];return _0x54a3e7[_0x4ddf86(0x186)](_0x258b31[_0x4ddf86(0x1a4)],0x1)&&(!_0x1d6c32['runInBand']&&(helper[_0x4ddf86(0xff)](_0x1d6c32[_0x4ddf86(0x163)])||_0x54a3e7[_0x4ddf86(0x134)](_0x1d6c32[_0x4ddf86(0x163)],0x1)))&&(_0x25353e=_0x54a3e7[_0x4ddf86(0x15e)]),_0x25353e;},getMaxWorkers=(_0x14423a,_0x2e8783,_0x4d5610)=>{const _0x31c5a7=a14_0x1052de,_0x2443a5={'Yolqn':function(_0x2cc82b,_0x4cea68){return _0x2cc82b(_0x4cea68);}};let _0xfe6607=0x1;if(!helper[_0x31c5a7(0xff)](_0x2e8783[_0x31c5a7(0x196)]))_0xfe6607=_0x2443a5[_0x31c5a7(0x182)](parseInt,_0x2e8783[_0x31c5a7(0x196)]);else{if(!helper['isUndefined'](_0x14423a['maxWorkers']))_0xfe6607=_0x14423a[_0x31c5a7(0x163)];else!helper[_0x31c5a7(0xff)](_0x4d5610['maxWorkers'])&&(_0xfe6607=_0x4d5610[_0x31c5a7(0x163)]);}return _0xfe6607;};function a14_0x44d9(_0x2b6b7f,_0x499ccf){const _0x3fa1c1=a14_0x3fa1();return a14_0x44d9=function(_0x44d900,_0x3e3e64){_0x44d900=_0x44d900-0xe6;let _0x2be0d6=_0x3fa1c1[_0x44d900];return _0x2be0d6;},a14_0x44d9(_0x2b6b7f,_0x499ccf);}async function run(_0x102329,_0x196090,_0x1b2ecf){const _0x13531f=a14_0x1052de,_0x499e20={'xBHTR':_0x13531f(0x14c),'KeqmH':_0x13531f(0x133),'KBYaI':function(_0x23b200,_0x5dc7a4){return _0x23b200(_0x5dc7a4);},'IpZuK':_0x13531f(0x17f),'QThOD':function(_0x51255a,_0x21e55a,_0xb93236,_0x21ca70){return _0x51255a(_0x21e55a,_0xb93236,_0x21ca70);},'PTXne':function(_0x56fc66,_0x14396a){return _0x56fc66!=_0x14396a;},'AHntt':_0x13531f(0x164),'DZxGM':function(_0x618ddb,_0x2e0c1d,_0x4ef36e){return _0x618ddb(_0x2e0c1d,_0x4ef36e);},'ZUNGU':_0x13531f(0x180),'PLdMK':function(_0x1fa17c,_0x2f97ac){return _0x1fa17c(_0x2f97ac);},'ELRyn':_0x13531f(0x194),'EPJdU':function(_0x3e2b7a,_0x781ed6,_0x28b1fe){return _0x3e2b7a(_0x781ed6,_0x28b1fe);},'wZOcl':function(_0xcee704,_0x485c85){return _0xcee704*_0x485c85;},'WabJR':function(_0x45e1db,_0x35c6f9){return _0x45e1db===_0x35c6f9;},'CDccW':_0x13531f(0x1b0),'iGuqD':_0x13531f(0x13f),'XDsPu':_0x13531f(0x19c),'PittW':'jest_browserstack_results.json','WATsU':_0x13531f(0x128),'Ghsuu':_0x13531f(0x130),'tidMI':_0x13531f(0x19d),'egLPl':_0x13531f(0xf0),'nwHap':'customSequencer.js','RdTZI':_0x13531f(0x1b8),'ApDVc':_0x13531f(0x198),'TnPEA':_0x13531f(0x1a8),'wMkXe':_0x13531f(0x118),'kdroL':_0x13531f(0x171),'UhNak':_0x13531f(0x10f),'YNSdT':_0x13531f(0x146),'kwFPx':_0x13531f(0x14f),'semHU':_0x13531f(0x15a),'UmZaR':'test.setup.js','AmUJZ':'Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','xdGIF':_0x13531f(0x109),'TAgGx':function(_0x27dd0d,_0x35cc49,_0x44ba36){return _0x27dd0d(_0x35cc49,_0x44ba36);},'HymoB':_0x13531f(0x1b2),'mrTel':function(_0x94af27,_0x3f5435){return _0x94af27>_0x3f5435;},'Mgyvt':_0x13531f(0x1a9),'FEoOo':'npx','FmvDn':_0x13531f(0x151),'aLuho':_0x13531f(0x1cc),'wAWGZ':_0x13531f(0x101),'uhfRb':_0x13531f(0x1a3)},_0x4be54a=helper[_0x13531f(0x123)](_0x499e20[_0x13531f(0x1c5)]);global[_0x13531f(0x12e)]=!!_0x4be54a;helper[_0x13531f(0x104)]()?(await _0x1b2ecf['initialize'](_0x102329),await helper['handleApp'](_0x1b2ecf[_0x13531f(0x1bb)])):await _0x1b2ecf['setupTCGAuth']();await _0x499e20[_0x13531f(0x16f)](checkPwandBootstrapCli,_0x4be54a,constants[_0x13531f(0x11b)][_0x13531f(0x1a2)],_0x1b2ecf);if(!_0x1b2ecf['config'])return;_0x499e20['PTXne'](_0x1b2ecf[_0x13531f(0x1bb)][_0x13531f(0x184)],null)?process['env'][_0x13531f(0x11e)]=_0x1b2ecf[_0x13531f(0x1bb)]['testObservability']:process['env']['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x499e20[_0x13531f(0x195)];const _0xed6d20=new TestOrchestrationHandler(_0x1b2ecf[_0x13531f(0x1bb)]),_0x417e25=await _0x499e20[_0x13531f(0x178)](getUserJestConfigs,_0x102329,_0x196090);logger['info'](_0x499e20[_0x13531f(0x107)]);const _0x1641c9=Object[_0x13531f(0x1aa)]({},_0x417e25);_0x1641c9['testEnvironmentOptions']=Object['assign']({},_0x1641c9[_0x13531f(0x148)],{'server':helper[_0x13531f(0x18e)](_0x1b2ecf['config']),'environment':_0x417e25[_0x13531f(0x1bd)]}),_0x1641c9[_0x13531f(0x148)][_0x13531f(0x11c)]=_0x499e20['PLdMK'](getPercyOptions,_0x1b2ecf['config']);const _0x464bc4=helper[_0x13531f(0x160)](_0x1b2ecf[_0x13531f(0x1bb)]);!helper['isUndefined'](_0x1b2ecf[_0x13531f(0x1bb)]['accessibilityOptions'])&&(process[_0x13531f(0x17c)][_0x13531f(0x110)]=JSON['stringify'](_0x1b2ecf[_0x13531f(0x1bb)][_0x13531f(0xf7)]));if(!BrowserstackCLI['getInstance']()[_0x13531f(0xfd)]()){const _0xbd4f6c=await TestHubHandler[_0x13531f(0x17d)](FRAMEWORKS[_0x13531f(0x1a2)],_0x1b2ecf);}const _0x430295=helper['prepareCapabilities'](_0x1b2ecf[_0x13531f(0x1bb)],_0x464bc4,constants['FRAMEWORKS']['JEST']);process[_0x13531f(0x17c)][_0x13531f(0x1b5)]=JSON[_0x13531f(0x1ad)](_0x430295);let _0x358077=_0x1b2ecf[_0x13531f(0x1bb)][_0x13531f(0x136)];_0x358077=_0x358077||accessibilityHelper[_0x13531f(0xf1)](_0x1b2ecf['config']),process['env'][_0x13531f(0x1c3)]=_0x358077,logger[_0x13531f(0x1cd)](_0x13531f(0x17e)+_0x358077+',\x20CLI\x20running:\x20'+BrowserstackCLI[_0x13531f(0x167)]()[_0x13531f(0xfd)]());if(_0x4be54a)try{const _0x14023a=_0x499e20[_0x13531f(0xf3)](checkAccessibilityPlatformConfig,_0x1b2ecf[_0x13531f(0x1bb)]);process[_0x13531f(0x17c)][_0x13531f(0x10d)]=_0x14023a?_0x499e20[_0x13531f(0x195)]:_0x499e20[_0x13531f(0x155)],logger[_0x13531f(0x1cd)](_0x13531f(0x106)+_0x14023a+_0x13531f(0x169)+process[_0x13531f(0x17c)][_0x13531f(0x10d)]);}catch(_0x248712){logger[_0x13531f(0x1cd)](_0x13531f(0x129)+util['format'](_0x248712));}_0x1641c9[_0x13531f(0x148)][_0x13531f(0x17a)]=_0x430295,_0x1641c9['testEnvironmentOptions'][_0x13531f(0xe7)]=_0x499e20[_0x13531f(0x18d)](getSerial,_0x430295,_0x102329),_0x1641c9[_0x13531f(0x148)][_0x13531f(0x157)]=_0x499e20[_0x13531f(0x16f)](getMaxWorkers,_0x102329,_0x1b2ecf[_0x13531f(0x1bb)],_0x417e25),_0x1641c9[_0x13531f(0x148)]['proxySettings']=_0x1b2ecf['config']['proxySettings'],_0x1641c9[_0x13531f(0x148)][_0x13531f(0x192)]=_0x499e20[_0x13531f(0x168)](_0x102329[_0x13531f(0x121)],0x1)||0x1388,_0x1641c9[_0x13531f(0x148)][_0x13531f(0x1c0)]=_0x1b2ecf[_0x13531f(0x1bb)][_0x13531f(0x1b3)][_0x13531f(0x1c0)],_0x1641c9[_0x13531f(0x148)][_0x13531f(0xfc)]=_0x1b2ecf['config'][_0x13531f(0x1b3)][_0x13531f(0xfc)],_0x1641c9[_0x13531f(0x148)][_0x13531f(0x170)]=_0x1b2ecf[_0x13531f(0x1bb)][_0x13531f(0x100)],_0x1641c9[_0x13531f(0x148)][_0x13531f(0x10e)]=_0x1b2ecf[_0x13531f(0x1bb)][_0x13531f(0x10e)],_0x1641c9[_0x13531f(0x148)][_0x13531f(0x172)]=_0x1b2ecf['config'][_0x13531f(0xfa)];const _0x326692=helper[_0x13531f(0x1be)](_0x1b2ecf[_0x13531f(0x1bb)]);if(!helper['isEmpty'](_0x326692)){helper[_0x13531f(0x1c8)](_0x326692[_0x13531f(0x11d)])&&(_0x1641c9[_0x13531f(0x148)][_0x13531f(0x1c7)]=_0x326692[_0x13531f(0x11d)]['maxRetries']);if(helper[_0x13531f(0x1c8)](_0x326692['abortBuildOnFailure'])&&helper[_0x13531f(0x1c8)](_0x326692['abortBuildOnFailure']['workingDir'])){const _0x1126f8={};_0x1126f8['failureThresholdCount']=_0x326692[_0x13531f(0x1a0)][_0x13531f(0x1bf)],_0x1126f8['workingDir']=_0x326692[_0x13531f(0x1a0)]['workingDir'],_0x1641c9[_0x13531f(0x148)]['failFast']=_0x1126f8;}}let _0x2d42da='';_0x499e20[_0x13531f(0x144)](helper[_0x13531f(0x177)](),constants[_0x13531f(0x142)][_0x13531f(0xed)])?_0x2d42da=_0x499e20['CDccW']:_0x2d42da=_0x499e20[_0x13531f(0x18b)];const _0x30f2d1=_0x2d42da,_0x38c30a=path[_0x13531f(0x145)](__dirname,_0x499e20['XDsPu'],_0x499e20['PittW']),_0x21d134=path[_0x13531f(0x145)](__dirname,_0x499e20[_0x13531f(0x10b)],_0x499e20['WATsU']),_0x201b32=path[_0x13531f(0x145)](__dirname,_0x499e20[_0x13531f(0x10b)],_0x499e20[_0x13531f(0x1c1)]);_0x1641c9[_0x13531f(0x1bd)]&&(process[_0x13531f(0x17c)][_0x13531f(0x152)]=_0x1641c9[_0x13531f(0x1bd)]);_0x1641c9[_0x13531f(0x1bd)]=path['join'](__dirname,_0x499e20[_0x13531f(0x10b)],_0x499e20['tidMI']),_0x1641c9[_0x13531f(0x12a)]=_0x21d134,_0x1641c9[_0x13531f(0x1a1)]=_0x1641c9[_0x13531f(0x1a1)]||[],_0x1641c9[_0x13531f(0x1a1)][_0x13531f(0x117)](path[_0x13531f(0x145)](__dirname,_0x499e20[_0x13531f(0x197)]));_0xed6d20[_0x13531f(0x1b4)]()&&(_0x1641c9[_0x13531f(0x14b)]=path['join'](__dirname,_0x499e20[_0x13531f(0x10b)],_0x499e20[_0x13531f(0xf2)]));if(testhubUtils[_0x13531f(0x111)]()){let _0x476897=null;try{_0x476897=helper[_0x13531f(0x13e)](_0x499e20[_0x13531f(0xf9)],_0x499e20[_0x13531f(0xef)]);}catch(_0x2bbc5a){_0x499e20[_0x13531f(0xf3)](debug,_0x13531f(0x1c4)+_0x2bbc5a);}_0x476897&&(_0x1641c9[_0x13531f(0x1a1)][_0x13531f(0x117)](path[_0x13531f(0x145)](__dirname,_0x499e20[_0x13531f(0x119)],_0x499e20[_0x13531f(0x1a5)])),_0x1641c9[_0x13531f(0x127)]=path[_0x13531f(0x145)](__dirname,_0x499e20[_0x13531f(0x10b)],_0x499e20[_0x13531f(0x193)]));}_0x1641c9[_0x13531f(0x1c2)]=_0x1641c9[_0x13531f(0x1c2)]||[];try{helper[_0x13531f(0x10a)](),_0x1641c9[_0x13531f(0x1c2)][_0x13531f(0x117)](path['join'](__dirname,_0x499e20['UhNak']));}catch{logger[_0x13531f(0x1cd)](_0x499e20['YNSdT']);}try{helper[_0x13531f(0x10c)][_0x13531f(0x126)](null,[_0x499e20[_0x13531f(0x1c5)],_0x499e20[_0x13531f(0x1cb)]]),logger[_0x13531f(0x1cd)](_0x499e20[_0x13531f(0x165)]),_0x1641c9['setupFiles'][_0x13531f(0x117)](path[_0x13531f(0x145)](__dirname,_0x499e20[_0x13531f(0x175)]));}catch(_0x3c5e2f){logger[_0x13531f(0x1cd)](_0x499e20[_0x13531f(0xf8)],_0x3c5e2f);}_0x1641c9[_0x13531f(0x1a7)]=_0x1641c9['reporters']||[_0x499e20[_0x13531f(0x103)]],_0x499e20[_0x13531f(0x181)](updateTestRerunConfig,_0x1641c9,_0x1b2ecf);const _0x6a086b=fs[_0x13531f(0x19a)](_0x201b32);fs['writeFileSync'](_0x1641c9['runner'],_0x13531f(0xea)+_0x6a086b+_0x13531f(0x147)+_0x1b2ecf[_0x13531f(0x1bb)]['platforms'][_0x13531f(0x1a4)]+';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20'),logger['info'](_0x13531f(0x185)+_0x30f2d1+'\x20with\x20browserstack\x20jest\x20configs'),fs['writeFileSync'](_0x30f2d1,'const\x20config='+JSON[_0x13531f(0x1ad)](_0x1641c9)+'\x0amodule.exports\x20=\x20config;');if(_0xed6d20[_0x13531f(0x1b4)]()){logger[_0x13531f(0x1cd)](_0x499e20[_0x13531f(0x124)]);const _0x60343a=await _0xed6d20[_0x13531f(0x173)](_0x1641c9,_0x196090['slice'](0x1),_0x30f2d1);logger['debug'](_0x13531f(0x102)+JSON['stringify'](_0x60343a)+_0x13531f(0x12f));const _0x3f0edb=await _0xed6d20[_0x13531f(0x1b9)](_0x60343a);logger[_0x13531f(0x1cd)](_0x13531f(0x137)+JSON[_0x13531f(0x1ad)](_0x3f0edb)),_0x3f0edb&&_0x499e20[_0x13531f(0x156)](_0x3f0edb[_0x13531f(0x1a4)],0x0)&&(process[_0x13531f(0x17c)][_0x13531f(0x115)]=_0x3f0edb?.[_0x13531f(0x145)](','));}logger[_0x13531f(0x1a6)](_0x499e20[_0x13531f(0x159)]);testhubUtils['shouldProcessEventForTesthub']()&&TestDetails[_0x13531f(0x1ca)]();helper[_0x13531f(0x161)]({},_0x196090),PerformanceTester[_0x13531f(0x16b)](PerformanceEvents[_0x13531f(0x188)]);const _0x241703=_0x499e20['QThOD'](spawn,_0x499e20[_0x13531f(0x140)],[_0x499e20[_0x13531f(0x18a)],_0x499e20[_0x13531f(0x19f)],_0x30f2d1,..._0x196090[_0x13531f(0x1b7)](0x1)],{'shell':_0x499e20['WabJR'](process[_0x13531f(0x13c)],_0x499e20[_0x13531f(0x1b6)]),'stdio':_0x499e20[_0x13531f(0x1c6)],'env':Object[_0x13531f(0x1aa)]({},process['env'])});_0x241703['on'](_0x499e20[_0x13531f(0x1ae)],async _0x8961a3=>{const _0x4a6dfd=_0x13531f;PerformanceTester['start'](PerformanceEvents[_0x4a6dfd(0x16a)]);try{const {browserstackFolderPath:_0x4f0ec7,tcgConfigPath:_0x244433}=helper[_0x4a6dfd(0x16c)]();fs[_0x4a6dfd(0x19e)](_0x244433),fs[_0x4a6dfd(0xfb)](_0x4f0ec7);}catch(_0x2d84d7){logger[_0x4a6dfd(0x1cd)](_0x499e20[_0x4a6dfd(0x13a)],_0x2d84d7);}process[_0x4a6dfd(0x13d)]=_0x8961a3,logger[_0x4a6dfd(0x1cd)]('child\x20process\x20exited\x20with\x20code\x20'+_0x8961a3),logger[_0x4a6dfd(0x1a6)](_0x4a6dfd(0x108)+_0x30f2d1);if(helper[_0x4a6dfd(0x1c8)](_0x326692)&&helper[_0x4a6dfd(0x1c8)](_0x326692[_0x4a6dfd(0x1a0)])&&fs[_0x4a6dfd(0x11a)](_0x326692[_0x4a6dfd(0x1a0)][_0x4a6dfd(0x15d)]))try{const _0x556f99={};_0x556f99[_0x4a6dfd(0x131)]=!![],_0x556f99[_0x4a6dfd(0x17b)]=!![],fs[_0x4a6dfd(0x154)](_0x326692[_0x4a6dfd(0x1a0)][_0x4a6dfd(0x15d)],_0x556f99),logger[_0x4a6dfd(0x1cd)](_0x4a6dfd(0x14a)+_0x326692[_0x4a6dfd(0x1a0)][_0x4a6dfd(0x15d)]);}catch(_0x39e03f){logger[_0x4a6dfd(0x149)](_0x4a6dfd(0x14d)+_0x39e03f);}let _0x557b34=null;if(fs[_0x4a6dfd(0x11a)](_0x38c30a)){_0x557b34=fs['readFileSync'](_0x38c30a);try{_0x557b34=JSON[_0x4a6dfd(0x1af)](_0x557b34);}catch(_0x109f4e){logger['debug']('Error\x20while\x20parsing\x20'+_0x38c30a+',\x20'+_0x557b34+_0x4a6dfd(0x199)+_0x109f4e);}fs[_0x4a6dfd(0x19e)](_0x38c30a);}fs[_0x4a6dfd(0x19e)](_0x30f2d1),fs[_0x4a6dfd(0x19e)](_0x21d134),_0x557b34&&(_0x1b2ecf[_0x4a6dfd(0x141)]=helper['getErrorMessageFromResults'](_0x557b34,_0x499e20[_0x4a6dfd(0x18a)],_0x1b2ecf));try{await TestHubHandler['stop'](),await BrowserstackCLI[_0x4a6dfd(0x167)]()[_0x4a6dfd(0x138)]();}catch(_0x5ee6d2){console[_0x4a6dfd(0x16e)](_0x5ee6d2),_0x499e20[_0x4a6dfd(0xf3)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20'+util[_0x4a6dfd(0x143)](_0x5ee6d2));}testOpsHelper[_0x4a6dfd(0x150)](),TestDetails[_0x4a6dfd(0x158)](),await utilities[_0x4a6dfd(0x191)](_0x1b2ecf);});}module[a14_0x1052de(0x12c)]=run;