#!/usr/bin/env node
'use strict';const a14_0x266e02=a14_0x7998;function a14_0x7998(_0x4b90d7,_0x1b828d){const _0x450fc9=a14_0x450f();return a14_0x7998=function(_0x79983d,_0x3d6e78){_0x79983d=_0x79983d-0x12b;let _0x12b5b3=_0x450fc9[_0x79983d];return _0x12b5b3;},a14_0x7998(_0x4b90d7,_0x1b828d);}(function(_0x1806d0,_0x12d516){const _0x5b3e26=a14_0x7998,_0x2a69a3=_0x1806d0();while(!![]){try{const _0x2622e5=-parseInt(_0x5b3e26(0x1c2))/0x1*(parseInt(_0x5b3e26(0x173))/0x2)+parseInt(_0x5b3e26(0x1df))/0x3*(-parseInt(_0x5b3e26(0x15e))/0x4)+parseInt(_0x5b3e26(0x1f7))/0x5+parseInt(_0x5b3e26(0x1d2))/0x6+-parseInt(_0x5b3e26(0x1eb))/0x7*(parseInt(_0x5b3e26(0x1f0))/0x8)+-parseInt(_0x5b3e26(0x133))/0x9*(parseInt(_0x5b3e26(0x1cb))/0xa)+parseInt(_0x5b3e26(0x1f1))/0xb;if(_0x2622e5===_0x12d516)break;else _0x2a69a3['push'](_0x2a69a3['shift']());}catch(_0x272e7d){_0x2a69a3['push'](_0x2a69a3['shift']());}}}(a14_0x450f,0x40488));const fs=require('fs'),path=require(a14_0x266e02(0x12b)),util=require(a14_0x266e02(0x14e)),{spawn}=require('child_process'),logger=require(a14_0x266e02(0x1b5))['winstonLogger'],{default:BrowserStackSetup}=require(a14_0x266e02(0x1e5)),helper=require(a14_0x266e02(0x132)),utilities=require(a14_0x266e02(0x184)),constants=require(a14_0x266e02(0x154)),accessibilityHelper=require(a14_0x266e02(0x1ba)),{updateTestRerunConfig}=require('./test-observability/helper'),testOpsHelper=require(a14_0x266e02(0x136)),{debug}=require(a14_0x266e02(0x136)),TestDetails=require(a14_0x266e02(0x153)),{getPercyOptions}=require(a14_0x266e02(0x14b)),TestHubHandler=require(a14_0x266e02(0x1c9)),testhubUtils=require(a14_0x266e02(0x1c8)),{FRAMEWORKS}=require(a14_0x266e02(0x18d)),PerformanceTester=require(a14_0x266e02(0x1f2)),PerformanceEvents=require('../../helpers/performance/constants')[a14_0x266e02(0x175)],TestOrchestrationHandler=require(a14_0x266e02(0x1d4)),getUserJestConfigs=async(_0x249745,_0x1c1a11)=>{const _0x1b1522=a14_0x266e02,_0x19841d={'nxALU':_0x1b1522(0x169),'buMSI':_0x1b1522(0x12e),'iqAlZ':function(_0x1cb195,_0x246e92){return _0x1cb195||_0x246e92;},'Wfpdi':function(_0xb8fc87,_0x53014a){return _0xb8fc87(_0x53014a);},'YOJxj':_0x1b1522(0x177),'RVFRL':_0x1b1522(0x1d9),'GoTgE':_0x1b1522(0x179),'tCspN':'cjs','KaDGG':_0x1b1522(0x16a)},_0x25c447=helper[_0x1b1522(0x149)](_0x19841d[_0x1b1522(0x162)],_0x19841d[_0x1b1522(0x12c)]),_0x1f0e4c=_0x1c1a11[_0x1b1522(0x13a)](_0x2e460e=>_0x2e460e===_0x1b1522(0x172));if(!helper['isUndefined'](_0x249745[_0x1b1522(0x17b)])){logger['info'](_0x1b1522(0x188)+_0x249745[_0x1b1522(0x17b)]),process[_0x1b1522(0x1cc)]['USER_CONFIG_DETAILS_PATH']=_0x249745[_0x1b1522(0x17b)];const _0x10dc95=await(0x0,_0x25c447['default'])(path[_0x1b1522(0x1ed)](_0x249745[_0x1b1522(0x17b)]));return _0x1c1a11['splice'](_0x1f0e4c,0x2),_0x19841d[_0x1b1522(0x1a7)](_0x10dc95,{});}const _0x589a10=_0x19841d[_0x1b1522(0x138)](require,path[_0x1b1522(0x1f5)](process[_0x1b1522(0x1f9)](),_0x19841d[_0x1b1522(0x158)]));if(_0x589a10['jest'])return logger[_0x1b1522(0x159)](_0x19841d['RVFRL']),_0x589a10[_0x1b1522(0x1be)];const _0x335b16=['js',_0x19841d[_0x1b1522(0x140)],_0x19841d[_0x1b1522(0x1ee)],_0x19841d[_0x1b1522(0x1e7)],'ts'];for(const _0x5aa86b of _0x335b16){const _0x4bb195=path['join'](process[_0x1b1522(0x1f9)](),_0x1b1522(0x14a)+_0x5aa86b);if(fs[_0x1b1522(0x13c)](_0x4bb195)){process['env'][_0x1b1522(0x194)]=_0x4bb195;const _0x41de4a=await(0x0,_0x25c447[_0x1b1522(0x15b)])(_0x4bb195);return _0x41de4a;}}return{};},getSerial=(_0x1b5927,_0x5aaa95)=>{const _0x1c3f82=a14_0x266e02,_0x2f7dc8={};_0x2f7dc8[_0x1c3f82(0x189)]=_0x1c3f82(0x19f),_0x2f7dc8[_0x1c3f82(0x1a9)]=function(_0x55eac6,_0x48f268){return _0x55eac6>_0x48f268;},_0x2f7dc8[_0x1c3f82(0x147)]=function(_0x2008cc,_0x174d39){return _0x2008cc>_0x174d39;},_0x2f7dc8[_0x1c3f82(0x134)]=_0x1c3f82(0x18f);const _0x3645cb=_0x2f7dc8;let _0x5df38c=_0x3645cb[_0x1c3f82(0x189)];return _0x3645cb['WfGet'](_0x1b5927['length'],0x1)&&(!_0x5aaa95[_0x1c3f82(0x1cd)]&&(helper['isUndefined'](_0x5aaa95[_0x1c3f82(0x176)])||_0x3645cb['GtLyY'](_0x5aaa95[_0x1c3f82(0x176)],0x1)))&&(_0x5df38c=_0x3645cb['PigmT']),_0x5df38c;},getMaxWorkers=(_0x24f47b,_0x574f32,_0x1d9b91)=>{const _0x105f6d=a14_0x266e02,_0x346afe={'ezWkG':function(_0x4a8031,_0x3f19f4){return _0x4a8031(_0x3f19f4);}};let _0x5b3dcd=0x1;if(!helper[_0x105f6d(0x1f8)](_0x574f32[_0x105f6d(0x1bd)]))_0x5b3dcd=_0x346afe['ezWkG'](parseInt,_0x574f32[_0x105f6d(0x1bd)]);else{if(!helper['isUndefined'](_0x24f47b[_0x105f6d(0x176)]))_0x5b3dcd=_0x24f47b['maxWorkers'];else!helper[_0x105f6d(0x1f8)](_0x1d9b91[_0x105f6d(0x176)])&&(_0x5b3dcd=_0x1d9b91[_0x105f6d(0x176)]);}return _0x5b3dcd;};async function run(_0x388836,_0x47623c,_0x263a18){const _0x4e2116=a14_0x266e02,_0x14cf93={'bTBfU':_0x4e2116(0x1ca),'NPayf':_0x4e2116(0x1be),'dqTBB':function(_0x3de1c7,_0x20592d){return _0x3de1c7(_0x20592d);},'vpoes':function(_0xf485b8,_0xa34d47){return _0xf485b8!=_0xa34d47;},'emJtt':_0x4e2116(0x19f),'JmPoH':function(_0x166a9b,_0x4211f5,_0x3746e4){return _0x166a9b(_0x4211f5,_0x3746e4);},'LKydf':_0x4e2116(0x16d),'XAhVz':function(_0x109ae8,_0x181b19){return _0x109ae8(_0x181b19);},'vttir':function(_0x15707f,_0x2ef320,_0x5e9879){return _0x15707f(_0x2ef320,_0x5e9879);},'WRkTJ':function(_0xdef8a,_0x248156,_0x1e00ae,_0x1cb3bf){return _0xdef8a(_0x248156,_0x1e00ae,_0x1cb3bf);},'ctXNI':function(_0x31be80,_0x3b79e){return _0x31be80*_0x3b79e;},'rrHue':function(_0x3f6a84,_0x2d2f77){return _0x3f6a84===_0x2d2f77;},'xRYCv':_0x4e2116(0x174),'NmoKY':'jest_browserstack.config.js','FuAto':_0x4e2116(0x1ad),'tCjcf':_0x4e2116(0x196),'UfWbx':_0x4e2116(0x1e9),'aVjmJ':'customTestRunnerTemplate.js','VYTKm':_0x4e2116(0x1b3),'MgLHH':_0x4e2116(0x1b1),'kCAwy':_0x4e2116(0x1de),'XWkla':'jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','czLLs':_0x4e2116(0x1a1),'pLeyI':function(_0x425414,_0x45cf80){return _0x425414(_0x45cf80);},'ryDXW':_0x4e2116(0x19e),'bYGIe':'data-hooks.js','qmrkT':_0x4e2116(0x1f3),'POWIT':_0x4e2116(0x17e),'FTRKM':'skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','iTWXx':_0x4e2116(0x15b),'JcSog':function(_0x21a9bc,_0x32ed33,_0x13bcd4){return _0x21a9bc(_0x32ed33,_0x13bcd4);},'gdmsw':_0x4e2116(0x143),'IevGh':function(_0x898667,_0x24d222){return _0x898667>_0x24d222;},'DYIaU':_0x4e2116(0x19a),'JKwFK':function(_0x29b2fc,_0x5ec396,_0x2a9bc4,_0x4b42d9){return _0x29b2fc(_0x5ec396,_0x2a9bc4,_0x4b42d9);},'rUDsq':_0x4e2116(0x191),'mHQyC':'--config','RKeKZ':function(_0x4f628f,_0x7df7c1){return _0x4f628f===_0x7df7c1;},'Theik':'win32','oqZRm':_0x4e2116(0x19d),'LEYYy':_0x4e2116(0x148)};helper[_0x4e2116(0x180)]()?(await _0x263a18['initialize'](_0x388836),await helper['handleApp'](_0x263a18[_0x4e2116(0x17b)])):await _0x263a18[_0x4e2116(0x17a)]();if(!_0x263a18['config'])return;_0x14cf93[_0x4e2116(0x1ae)](_0x263a18[_0x4e2116(0x17b)][_0x4e2116(0x155)],null)?process['env']['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x263a18[_0x4e2116(0x17b)][_0x4e2116(0x155)]:process[_0x4e2116(0x1cc)][_0x4e2116(0x1a2)]=_0x14cf93['emJtt'];const _0x12882d=new TestOrchestrationHandler(_0x263a18[_0x4e2116(0x17b)]),_0x2fc2cb=await _0x14cf93[_0x4e2116(0x183)](getUserJestConfigs,_0x388836,_0x47623c);logger['info'](_0x14cf93[_0x4e2116(0x186)]);const _0x549402=Object[_0x4e2116(0x1a6)]({},_0x2fc2cb);_0x549402['testEnvironmentOptions']=Object[_0x4e2116(0x1a6)]({},_0x549402[_0x4e2116(0x164)],{'server':helper['getHubUrl'](_0x263a18[_0x4e2116(0x17b)]),'environment':_0x2fc2cb[_0x4e2116(0x1c3)]}),_0x549402[_0x4e2116(0x164)][_0x4e2116(0x192)]=_0x14cf93[_0x4e2116(0x170)](getPercyOptions,_0x263a18['config']);const _0x450980=helper[_0x4e2116(0x1cf)](_0x263a18[_0x4e2116(0x17b)]);!helper[_0x4e2116(0x1f8)](_0x263a18[_0x4e2116(0x17b)][_0x4e2116(0x13e)])&&(process['env'][_0x4e2116(0x1a5)]=JSON[_0x4e2116(0x167)](_0x263a18[_0x4e2116(0x17b)][_0x4e2116(0x13e)]));const _0x12f785=await TestHubHandler[_0x4e2116(0x1c7)](FRAMEWORKS[_0x4e2116(0x16e)],_0x263a18),_0x52fc23=helper[_0x4e2116(0x1ab)](_0x263a18[_0x4e2116(0x17b)],_0x450980,constants[_0x4e2116(0x15d)][_0x4e2116(0x16e)]);let _0x243b24=_0x263a18[_0x4e2116(0x17b)][_0x4e2116(0x1dc)];_0x243b24=_0x243b24||accessibilityHelper['checkAccessibilityPlatformConfig'](_0x263a18[_0x4e2116(0x17b)]),process['env'][_0x4e2116(0x1dd)]=_0x243b24,_0x549402[_0x4e2116(0x164)][_0x4e2116(0x18a)]=_0x52fc23,_0x549402['testEnvironmentOptions'][_0x4e2116(0x1b0)]=_0x14cf93['vttir'](getSerial,_0x52fc23,_0x388836),_0x549402[_0x4e2116(0x164)]['parallels__']=_0x14cf93[_0x4e2116(0x1bf)](getMaxWorkers,_0x388836,_0x263a18['config'],_0x2fc2cb),_0x549402['testEnvironmentOptions'][_0x4e2116(0x181)]=_0x263a18[_0x4e2116(0x17b)][_0x4e2116(0x181)],_0x549402[_0x4e2116(0x164)][_0x4e2116(0x18c)]=_0x14cf93[_0x4e2116(0x1e1)](_0x388836[_0x4e2116(0x161)],0x1)||0x1388,_0x549402[_0x4e2116(0x164)]['skipSessionName']=_0x263a18[_0x4e2116(0x17b)][_0x4e2116(0x150)][_0x4e2116(0x1c4)],_0x549402[_0x4e2116(0x164)]['skipSessionStatus']=_0x263a18[_0x4e2116(0x17b)][_0x4e2116(0x150)][_0x4e2116(0x139)],_0x549402[_0x4e2116(0x164)][_0x4e2116(0x1aa)]=_0x263a18['config']['logLevel'],_0x549402[_0x4e2116(0x164)]['turboScaleUrl']=_0x263a18[_0x4e2116(0x17b)]['turboScaleUrl'],_0x549402[_0x4e2116(0x164)][_0x4e2116(0x193)]=_0x263a18[_0x4e2116(0x17b)][_0x4e2116(0x1bb)];const _0x40e55a=helper['parseTestOrchestrationOptions'](_0x263a18[_0x4e2116(0x17b)]);if(!helper['isEmpty'](_0x40e55a)){helper[_0x4e2116(0x1d6)](_0x40e55a[_0x4e2116(0x16c)])&&(_0x549402[_0x4e2116(0x164)]['retries__']=_0x40e55a[_0x4e2116(0x16c)][_0x4e2116(0x152)]);if(helper[_0x4e2116(0x1d6)](_0x40e55a['abortBuildOnFailure'])&&helper[_0x4e2116(0x1d6)](_0x40e55a[_0x4e2116(0x1d1)]['workingDir'])){const _0x5028ca={};_0x5028ca[_0x4e2116(0x1e8)]=_0x40e55a[_0x4e2116(0x1d1)][_0x4e2116(0x14c)],_0x5028ca[_0x4e2116(0x151)]=_0x40e55a[_0x4e2116(0x1d1)][_0x4e2116(0x151)],_0x549402['testEnvironmentOptions'][_0x4e2116(0x19b)]=_0x5028ca;}}let _0x463b80='';_0x14cf93[_0x4e2116(0x1c0)](helper[_0x4e2116(0x1ec)](),constants[_0x4e2116(0x15f)][_0x4e2116(0x166)])?_0x463b80=_0x14cf93['xRYCv']:_0x463b80=_0x14cf93['NmoKY'];const _0x2e39d5=_0x463b80,_0x1cd464=path[_0x4e2116(0x1f5)](__dirname,_0x14cf93[_0x4e2116(0x15a)],_0x14cf93[_0x4e2116(0x17f)]),_0x2afa8d=path[_0x4e2116(0x1f5)](__dirname,_0x14cf93[_0x4e2116(0x15a)],_0x14cf93[_0x4e2116(0x146)]),_0x4e9923=path[_0x4e2116(0x1f5)](__dirname,_0x14cf93[_0x4e2116(0x15a)],_0x14cf93[_0x4e2116(0x163)]);_0x549402['testEnvironment']&&(process[_0x4e2116(0x1cc)][_0x4e2116(0x1f4)]=_0x549402['testEnvironment']);_0x549402[_0x4e2116(0x1c3)]=path['join'](__dirname,_0x14cf93[_0x4e2116(0x15a)],_0x14cf93[_0x4e2116(0x135)]),_0x549402[_0x4e2116(0x198)]=_0x2afa8d,_0x549402[_0x4e2116(0x1c5)]=_0x549402['setupFilesAfterEnv']||[],_0x549402[_0x4e2116(0x1c5)][_0x4e2116(0x1da)](path['join'](__dirname,_0x14cf93[_0x4e2116(0x1af)]));_0x12882d[_0x4e2116(0x17c)]()&&(_0x549402[_0x4e2116(0x1e2)]=path['join'](__dirname,_0x14cf93['FuAto'],_0x14cf93['kCAwy']));if(testhubUtils[_0x4e2116(0x1d7)]()){let _0x4a4a48=null;try{_0x4a4a48=helper[_0x4e2116(0x149)](_0x14cf93[_0x4e2116(0x1c1)],_0x14cf93[_0x4e2116(0x190)]);}catch(_0x262e05){_0x14cf93[_0x4e2116(0x195)](debug,'Unable\x20to\x20find\x20jest-circus,\x20'+_0x262e05);}_0x4a4a48&&(_0x549402[_0x4e2116(0x1c5)][_0x4e2116(0x1da)](path['join'](__dirname,_0x14cf93['ryDXW'],_0x14cf93[_0x4e2116(0x185)])),_0x549402[_0x4e2116(0x13f)]=path[_0x4e2116(0x1f5)](__dirname,_0x14cf93[_0x4e2116(0x15a)],_0x14cf93[_0x4e2116(0x18b)]));}_0x549402[_0x4e2116(0x1d8)]=_0x549402[_0x4e2116(0x1d8)]||[];try{helper[_0x4e2116(0x18e)](),_0x549402[_0x4e2116(0x1d8)][_0x4e2116(0x1da)](path[_0x4e2116(0x1f5)](__dirname,_0x14cf93[_0x4e2116(0x130)]));}catch{logger[_0x4e2116(0x165)](_0x14cf93['FTRKM']);}_0x549402['reporters']=_0x549402[_0x4e2116(0x168)]||[_0x14cf93['iTWXx']],_0x14cf93[_0x4e2116(0x1ce)](updateTestRerunConfig,_0x549402,_0x263a18);const _0x5430a0=fs[_0x4e2116(0x1e0)](_0x4e9923);fs[_0x4e2116(0x1ea)](_0x549402[_0x4e2116(0x198)],_0x4e2116(0x1b9)+_0x5430a0+_0x4e2116(0x1d3)+_0x263a18[_0x4e2116(0x17b)][_0x4e2116(0x1bb)][_0x4e2116(0x160)]+_0x4e2116(0x1c6)),logger[_0x4e2116(0x159)](_0x4e2116(0x131)+_0x2e39d5+_0x4e2116(0x145)),fs[_0x4e2116(0x1ea)](_0x2e39d5,_0x4e2116(0x19c)+JSON['stringify'](_0x549402)+'\x0amodule.exports\x20=\x20config;');if(_0x12882d[_0x4e2116(0x17c)]()){logger[_0x4e2116(0x165)](_0x14cf93[_0x4e2116(0x1bc)]);const _0x58c78c=await _0x12882d[_0x4e2116(0x1e3)](_0x549402,_0x47623c['slice'](0x1),_0x2e39d5);logger[_0x4e2116(0x165)]('Found:\x20'+JSON[_0x4e2116(0x167)](_0x58c78c)+_0x4e2116(0x187));const _0x4efb74=await _0x12882d[_0x4e2116(0x13d)](_0x58c78c);logger[_0x4e2116(0x165)](_0x4e2116(0x12f)+JSON['stringify'](_0x4efb74)),_0x4efb74&&_0x14cf93['IevGh'](_0x4efb74[_0x4e2116(0x160)],0x0)&&(process[_0x4e2116(0x1cc)][_0x4e2116(0x178)]=_0x4efb74?.[_0x4e2116(0x1f5)](','));}logger[_0x4e2116(0x159)](_0x14cf93['DYIaU']);testhubUtils[_0x4e2116(0x1d7)]()&&TestDetails[_0x4e2116(0x199)]();helper[_0x4e2116(0x1b2)]({},_0x47623c),PerformanceTester[_0x4e2116(0x16f)](PerformanceEvents[_0x4e2116(0x16b)]);const _0x45a78=_0x14cf93[_0x4e2116(0x182)](spawn,_0x14cf93[_0x4e2116(0x156)],[_0x14cf93[_0x4e2116(0x1e4)],_0x14cf93[_0x4e2116(0x1ac)],_0x2e39d5,..._0x47623c[_0x4e2116(0x1ef)](0x1)],{'shell':_0x14cf93['RKeKZ'](process['platform'],_0x14cf93['Theik']),'stdio':_0x14cf93[_0x4e2116(0x1f6)],'env':Object[_0x4e2116(0x1a6)]({},process[_0x4e2116(0x1cc)])});_0x45a78['on'](_0x14cf93[_0x4e2116(0x1a4)],async _0x167438=>{const _0x2f2973=_0x4e2116;PerformanceTester[_0x2f2973(0x1e6)](PerformanceEvents[_0x2f2973(0x142)]);try{const {browserstackFolderPath:_0x6df3a6,tcgConfigPath:_0x4c951e}=helper[_0x2f2973(0x1b4)]();fs['unlinkSync'](_0x4c951e),fs[_0x2f2973(0x1d5)](_0x6df3a6);}catch(_0x5e9e22){logger['debug'](_0x14cf93[_0x2f2973(0x1b6)],_0x5e9e22);}process[_0x2f2973(0x1db)]=_0x167438,logger[_0x2f2973(0x165)](_0x2f2973(0x1a3)+_0x167438),logger['info'](_0x2f2973(0x197)+_0x2e39d5);if(helper[_0x2f2973(0x1d6)](_0x40e55a)&&helper['isNotUndefined'](_0x40e55a[_0x2f2973(0x1d1)])&&fs[_0x2f2973(0x13c)](_0x40e55a['abortBuildOnFailure']['workingDir']))try{const _0x43b165={};_0x43b165[_0x2f2973(0x1b8)]=!![],_0x43b165[_0x2f2973(0x15c)]=!![],fs[_0x2f2973(0x1a8)](_0x40e55a[_0x2f2973(0x1d1)][_0x2f2973(0x151)],_0x43b165),logger[_0x2f2973(0x165)]('Deleted\x20fail-fast\x20state\x20folder:\x20'+_0x40e55a[_0x2f2973(0x1d1)][_0x2f2973(0x151)]);}catch(_0x2bbcf3){logger['error']('Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20'+_0x2bbcf3);}let _0x3ee24e=null;if(fs[_0x2f2973(0x13c)](_0x1cd464)){_0x3ee24e=fs[_0x2f2973(0x1e0)](_0x1cd464);try{_0x3ee24e=JSON[_0x2f2973(0x1a0)](_0x3ee24e);}catch(_0x154c00){logger[_0x2f2973(0x165)](_0x2f2973(0x137)+_0x1cd464+',\x20'+_0x3ee24e+_0x2f2973(0x13b)+_0x154c00);}fs[_0x2f2973(0x12d)](_0x1cd464);}fs[_0x2f2973(0x12d)](_0x2e39d5),fs[_0x2f2973(0x12d)](_0x2afa8d),_0x3ee24e&&(_0x263a18[_0x2f2973(0x141)]=helper[_0x2f2973(0x14f)](_0x3ee24e,_0x14cf93[_0x2f2973(0x1e4)],_0x263a18));try{await TestHubHandler[_0x2f2973(0x144)]();}catch(_0x5d7983){console['log'](_0x5d7983),_0x14cf93[_0x2f2973(0x157)](debug,_0x2f2973(0x14d)+util[_0x2f2973(0x1d0)](_0x5d7983));}testOpsHelper[_0x2f2973(0x1b7)](),TestDetails[_0x2f2973(0x171)](),await utilities[_0x2f2973(0x17d)](_0x263a18);});}function a14_0x450f(){const _0x17e10f=['isUndefined','cwd','path','buMSI','unlinkSync','jest-config','Reodered\x20Test\x20Files:\x20','POWIT','Creating\x20','../../helpers/helper','2261097zTtqbm','PigmT','VYTKm','../../helpers/test-observability/utils','Error\x20while\x20parsing\x20','Wfpdi','skipSessionStatus','findIndex','\x20:\x20','existsSync','reorderTestFiles','accessibilityOptions','testRunner','GoTgE','errorMessage','SDK_CLEANUP','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','stop','\x20with\x20browserstack\x20jest\x20configs','UfWbx','GtLyY','close','requireModule','jest.config.','../../helpers/percy/utils','maxFailures','Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20','util','getErrorMessageFromResults','testContextOptions','workingDir','maxRetries','./test-observability/test-details','../utils/constants','testObservability','rUDsq','dqTBB','YOJxj','info','FuAto','default','force','FRAMEWORKS','3508HYmuZU','PACKAGE_TYPE','length','testTimeout','nxALU','aVjmJ','testEnvironmentOptions','debug','MODULE','stringify','reporters','jest-config/build/readConfigFileAndSetRootDir.js','json','SDK_SETUP','retryTestsOnFailure','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','JEST','end','XAhVz','shutdown','--config','139156obGmDk','jest_browserstack.config.cjs','EVENTS','maxWorkers','package.json','JEST_TEST_ORDER','mjs','setupTCGAuth','config','isTestOrchestrationEnabled','finalExecution','test_before.setup.js','tCjcf','isBrowserstackInfra','proxySettings','JKwFK','JmPoH','../../helpers/utilities','bYGIe','LKydf','\x20test\x20files\x20to\x20run.','Getting\x20your\x20jest\x20configs\x20from\x20','ZsnTE','capabilities','qmrkT','timeout__','../../helpers/test-observability/constants','requireSeleniumWebdriver','false','czLLs','npx','browserStackPercyOptions','platformCaps','USER_CONFIG_DETAILS_PATH','pLeyI','jest_browserstack_results.json','Deleting\x20','runner','setup','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','failFast','const\x20config=','inherit','test-observability','true','parse','jest-circus','BROWSERSTACK_TEST_OBSERVABILITY_YML','child\x20process\x20exited\x20with\x20code\x20','LEYYy','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','assign','iqAlZ','rmSync','WfGet','browserStackLogLevel','prepareCapabilities','mHQyC','customImplements','vpoes','MgLHH','serial__','jest.setup.js','filterBrowserstackArgs','customEnvironment.js','getTCGConfigFilePaths','../../helpers/logger','bTBfU','printBuildLink','recursive','\x0a\x20\x20\x20\x20','../../helpers/accessibility-automation/helper','platforms','gdmsw','parallelsPerPlatform','jest','WRkTJ','rrHue','XWkla','2JmwqKw','testEnvironment','skipSessionName','setupFilesAfterEnv',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','launchBuild','../../helpers/testhub/utils','../../helpers/testhub/testhubHandler','error\x20removing\x20tcg\x20config\x20file','10iXqTqc','env','runInBand','JcSog','useW3C','format','abortBuildOnFailure','2648958AfqlRg','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','../../helpers/test-orchestration/testOrchestrationHandler','rmdirSync','isNotUndefined','shouldProcessEventForTesthub','setupFiles','Getting\x20your\x20jest\x20configs\x20from\x20package.json','push','exitCode','accessibility','BROWSERSTACK_TEST_ACCESSIBILITY_YML','customSequencer.js','885AfJiuC','readFileSync','ctXNI','testSequencer','findTestFiles','NPayf','../../helpers/BrowserStackSetup','start','KaDGG','failureThresholdCount','customTestRunner.js','writeFileSync','518574BJTOfu','getPackageType','resolve','tCspN','slice','8EbDoML','4720089ucxyQg','../../helpers/performance/performance-tester','customCircus.js','BSTACK_JEST_TEST_ENV','join','oqZRm','579490XCBYXP'];a14_0x450f=function(){return _0x17e10f;};return a14_0x450f();}module['exports']=run;