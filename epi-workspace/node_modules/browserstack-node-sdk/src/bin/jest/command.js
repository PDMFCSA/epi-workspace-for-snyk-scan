#!/usr/bin/env node
'use strict';const a14_0xff197e=a14_0x230d;(function(_0x3bc592,_0x3fd78b){const _0x3f22a7=a14_0x230d,_0x4f59b7=_0x3bc592();while(!![]){try{const _0x432a9c=parseInt(_0x3f22a7(0x1f1))/0x1*(-parseInt(_0x3f22a7(0x1a0))/0x2)+parseInt(_0x3f22a7(0x18b))/0x3+-parseInt(_0x3f22a7(0x150))/0x4*(-parseInt(_0x3f22a7(0x15c))/0x5)+-parseInt(_0x3f22a7(0x17d))/0x6*(-parseInt(_0x3f22a7(0x119))/0x7)+-parseInt(_0x3f22a7(0x13c))/0x8*(parseInt(_0x3f22a7(0x184))/0x9)+-parseInt(_0x3f22a7(0x1bc))/0xa*(parseInt(_0x3f22a7(0x1b2))/0xb)+parseInt(_0x3f22a7(0x1be))/0xc*(parseInt(_0x3f22a7(0x1d0))/0xd);if(_0x432a9c===_0x3fd78b)break;else _0x4f59b7['push'](_0x4f59b7['shift']());}catch(_0x4b7159){_0x4f59b7['push'](_0x4f59b7['shift']());}}}(a14_0x4b5c,0x2e933));function a14_0x4b5c(){const _0x4383ca=['jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','jest_browserstack.config.js','../../helpers/performance/performance-tester','start','jest_browserstack.config.cjs','existsSync','--config','reporters','../../helpers/logger','@playwright/test','default','mjs','error\x20removing\x20tcg\x20config\x20file','platforms','BROWSERSTACK_TEST_OBSERVABILITY_YML','inherit','414gfDLwy','\x20with\x20browserstack\x20jest\x20configs','ZReoi','../utils/clientTroubleshootingService','json','../../helpers/test-orchestration/testOrchestrationHandler','platform','27GNjXwP','setupFilesAfterEnv','testEnvironmentOptions','test-observability','launchBuild','setupFiles','\x0amodule.exports\x20=\x20config;','288744YQGAtV','apply','ktunM','const\x20config=','playwright','oRXTs','npx','parallels__','Sidro','FRAMEWORKS','parse','retries__','push','zscjn','length','setupTCGAuth','isEmpty','UrANa','testSequencer','retryTestsOnFailure','isTestOrchestrationEnabled','20HPGlJJ','true','exports','writeFileSync','readFileSync','maxWorkers','GxMdY','customCircus.js','testEnvironment','kQgPr','env','Pugee','requireSeleniumWebdriver','shouldProcessEventForTesthub','debug','bFZhK','lIoUw','JEST_TEST_ORDER','22583mPKKsl','assign','TVYmk',',\x20CLI\x20running:\x20','../../helpers/testhub/testhubHandler','slice','customEnvironment.js','isNotUndefined','runner','skipSessionStatus','1510GZhZCY','parallelsPerPlatform','3541632jnMDPE','testRunner','serial__','format','requirePWModule','rmdirSync','EVENTS','runInBand','useW3C','\x0a\x20\x20\x20\x20','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','capabilities','getTCGConfigFilePaths','jest-circus',',\x20BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM=','WsHWq','MODULE','LnHjJ','13VtKVYq','errorMessage','pSTrh','Found:\x20','PACKAGE_TYPE','OjMft','getPackageType','jest-config','turboScaleUrl','force','path','accessibilityOptions','error','zJdEw','AiVmu','../v2/browserstackCLI','yCJQb','package.json','Reodered\x20Test\x20Files:\x20','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','maxFailures','proxySettings','Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','browserStackLogLevel','win32','getPackageVersion','hIuWg','\x20test\x20files\x20to\x20run.','Getting\x20your\x20jest\x20configs\x20from\x20package.json','recursive','fQjFp','2025wUBLyS','../../helpers/percy/utils','__isPlaywrightInstalled','dHHLE','ptNFB','splice','data-hooks.js','requireModule','cwd','logLevel','tUnWG','QHacD','3787JGfBpf','../../helpers/test-observability/constants','isBrowserstackInfra','SDtEi','stop','jest','jest_browserstack_results.json','JEST','child_process','aOVqa','Creating\x20','checkAccessibilityPlatformConfig','BROWSERSTACK_CAPABILITIES','Temjf','[Jest\x20Command]\x20Accessibility\x20enabled:\x20','skipSessionName','Unable\x20to\x20find\x20jest-circus,\x20','SDK_CLEANUP','customSequencer.js','isUndefined','QniWn','printBuildLink','phhSg','join','filterBrowserstackArgs','BSTACK_JEST_TEST_ENV','PXBJg','UyXbp','getInstance','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','Getting\x20your\x20jest\x20configs\x20from\x20','EaACH','customTestRunner.js','EGSCw','workingDir','274136JMmcwB','config','../utils/constants','aHvPS','../../helpers/accessibility-automation/helper','IFlqT','unlinkSync','Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20','findIndex','../../helpers/test-observability/utils','vJgSk','aAJXh','rOkmX','bdVSF','WNnvN','util','close','sPCdd','false','SDK_SETUP','32wUqmrL','maxRetries','testObservability','../../helpers/utilities','wWeTo','getErrorMessageFromResults','abortBuildOnFailure','info','qEPnC','prepareCapabilities','USER_CONFIG_DETAILS_PATH','jest-config/build/readConfigFileAndSetRootDir.js','121945sqkuRc','lVLvS','Skipping\x20accessibility\x20env\x20setup\x20for\x20Playwright\x20due\x20to:\x20','../../helpers/helper','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','BROWSERSTACK_TEST_ACCESSIBILITY_YML','hbmEt','[Jest\x20Command]\x20Playwright\x20detected,\x20setting\x20accessibility\x20platform:\x20','bqlGM','stringify','reorderTestFiles','isRunning','WQVrz','cjs','child\x20process\x20exited\x20with\x20code\x20','Error\x20while\x20parsing\x20','handleApp'];a14_0x4b5c=function(){return _0x4383ca;};return a14_0x4b5c();}const fs=require('fs'),path=require(a14_0xff197e(0x1da)),util=require(a14_0xff197e(0x14b)),{spawn}=require(a14_0xff197e(0x121)),logger=require(a14_0xff197e(0x175))['winstonLogger'],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a14_0xff197e(0x15f)),utilities=require(a14_0xff197e(0x153)),constants=require(a14_0xff197e(0x13e)),accessibilityHelper=require(a14_0xff197e(0x140)),{updateTestRerunConfig}=require('./test-observability/helper'),testOpsHelper=require(a14_0xff197e(0x145)),{debug}=require(a14_0xff197e(0x145)),TestDetails=require('./test-observability/test-details'),{getPercyOptions}=require(a14_0xff197e(0x1f2)),TestHubHandler=require(a14_0xff197e(0x1b6)),testhubUtils=require('../../helpers/testhub/utils'),{FRAMEWORKS}=require(a14_0xff197e(0x11a)),PerformanceTester=require(a14_0xff197e(0x16f)),PerformanceEvents=require('../../helpers/performance/constants')[a14_0xff197e(0x1c4)],TestOrchestrationHandler=require(a14_0xff197e(0x182)),BrowserstackCLI=require(a14_0xff197e(0x1df)),{checkPwandBootstrapCli}=require('../../helpers/playwright-helper'),ClientTroubleShootingService=require(a14_0xff197e(0x180)),{checkAccessibilityPlatformConfig}=require(a14_0xff197e(0x140)),getUserJestConfigs=async(_0x3dc393,_0x1b0d10)=>{const _0x240885=a14_0xff197e,_0x574b0e={'aOVqa':_0x240885(0x15b),'uqqnO':_0x240885(0x1d7),'yCJQb':function(_0x293b6b,_0xb4a1e4){return _0x293b6b||_0xb4a1e4;},'IFlqT':function(_0x54a23c,_0x368a29){return _0x54a23c(_0x368a29);},'bFZhK':_0x240885(0x1e1),'ktunM':_0x240885(0x1ee),'dHHLE':_0x240885(0x178),'hIuWg':_0x240885(0x169),'oRXTs':_0x240885(0x181)},_0x31511c=helper[_0x240885(0x114)](_0x574b0e[_0x240885(0x122)],_0x574b0e['uqqnO']),_0x469046=_0x1b0d10[_0x240885(0x144)](_0x3f2ec3=>_0x3f2ec3===_0x240885(0x173));if(!helper['isUndefined'](_0x3dc393[_0x240885(0x13d)])){logger['info'](_0x240885(0x137)+_0x3dc393[_0x240885(0x13d)]),process[_0x240885(0x1aa)][_0x240885(0x15a)]=_0x3dc393['config'];const _0x30fe17=await(0x0,_0x31511c[_0x240885(0x177)])(path['resolve'](_0x3dc393[_0x240885(0x13d)]));return _0x1b0d10[_0x240885(0x1f6)](_0x469046,0x2),_0x574b0e[_0x240885(0x1e0)](_0x30fe17,{});}const _0x3d07c4=_0x574b0e[_0x240885(0x141)](require,path[_0x240885(0x130)](process['cwd'](),_0x574b0e[_0x240885(0x1af)]));if(_0x3d07c4['jest'])return logger[_0x240885(0x157)](_0x574b0e[_0x240885(0x18d)]),_0x3d07c4[_0x240885(0x11e)];const _0xdad3f7=['js',_0x574b0e[_0x240885(0x1f4)],_0x574b0e[_0x240885(0x1ec)],_0x574b0e[_0x240885(0x190)],'ts'];for(const _0x38963b of _0xdad3f7){const _0x5ab352=path[_0x240885(0x130)](process[_0x240885(0x115)](),'jest.config.'+_0x38963b);if(fs[_0x240885(0x172)](_0x5ab352)){process[_0x240885(0x1aa)][_0x240885(0x15a)]=_0x5ab352;const _0x1530c2=await(0x0,_0x31511c[_0x240885(0x177)])(_0x5ab352);return _0x1530c2;}}return{};},getSerial=(_0x2d0c1b,_0x4f3b6a)=>{const _0x203f87=a14_0xff197e,_0xa812e9={};_0xa812e9['tUnWG']=_0x203f87(0x1a1),_0xa812e9[_0x203f87(0x14a)]=function(_0xd8902,_0x2c657a){return _0xd8902>_0x2c657a;},_0xa812e9[_0x203f87(0x1de)]='false';const _0x1ff13c=_0xa812e9;let _0xa2115b=_0x1ff13c[_0x203f87(0x117)];return _0x1ff13c[_0x203f87(0x14a)](_0x2d0c1b[_0x203f87(0x199)],0x1)&&(!_0x4f3b6a[_0x203f87(0x1c5)]&&(helper[_0x203f87(0x12c)](_0x4f3b6a['maxWorkers'])||_0x1ff13c[_0x203f87(0x14a)](_0x4f3b6a[_0x203f87(0x1a5)],0x1)))&&(_0xa2115b=_0x1ff13c[_0x203f87(0x1de)]),_0xa2115b;},getMaxWorkers=(_0x27cbcd,_0x39bce0,_0x41fa3f)=>{const _0x40483d=a14_0xff197e,_0x2218a={'zscjn':function(_0x37ac95,_0x22b0e3){return _0x37ac95(_0x22b0e3);}};let _0x3c13fe=0x1;if(!helper['isUndefined'](_0x39bce0[_0x40483d(0x1bd)]))_0x3c13fe=_0x2218a[_0x40483d(0x198)](parseInt,_0x39bce0['parallelsPerPlatform']);else{if(!helper[_0x40483d(0x12c)](_0x27cbcd[_0x40483d(0x1a5)]))_0x3c13fe=_0x27cbcd[_0x40483d(0x1a5)];else!helper[_0x40483d(0x12c)](_0x41fa3f['maxWorkers'])&&(_0x3c13fe=_0x41fa3f[_0x40483d(0x1a5)]);}return _0x3c13fe;};async function run(_0x47d393,_0x424921,_0x386304){const _0x815c7a=a14_0xff197e,_0x20f791={'aAJXh':_0x815c7a(0x179),'ZReoi':_0x815c7a(0x11e),'SDtEi':function(_0x24bfac,_0x395899){return _0x24bfac(_0x395899);},'LnHjJ':_0x815c7a(0x176),'rOkmX':function(_0x586c2f,_0x210066,_0x13b87e,_0x2f0b7f){return _0x586c2f(_0x210066,_0x13b87e,_0x2f0b7f);},'dntUX':function(_0x4296c9,_0x27f9f4){return _0x4296c9!=_0x27f9f4;},'lIoUw':_0x815c7a(0x1a1),'GxMdY':function(_0x3377f3,_0x5eb44a,_0x12a77d){return _0x3377f3(_0x5eb44a,_0x12a77d);},'smFEd':'Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','sPCdd':function(_0x54568f,_0x1b9734){return _0x54568f(_0x1b9734);},'ptNFB':function(_0x127cd4,_0x2f3101){return _0x127cd4(_0x2f3101);},'bdVSF':_0x815c7a(0x14e),'pSTrh':function(_0x2ce1ac,_0x2942bd,_0x27bd86){return _0x2ce1ac(_0x2942bd,_0x27bd86);},'kQgPr':function(_0x292761,_0x54dafe){return _0x292761*_0x54dafe;},'Sidro':function(_0xf160de,_0xd45e01){return _0xf160de===_0xd45e01;},'EGSCw':_0x815c7a(0x171),'aBmSA':_0x815c7a(0x16e),'phhSg':'customImplements','OjMft':_0x815c7a(0x11f),'QHacD':_0x815c7a(0x139),'WlWuy':'customTestRunnerTemplate.js','lVLvS':_0x815c7a(0x1b8),'ozxKF':'jest.setup.js','QniWn':_0x815c7a(0x12b),'Temjf':_0x815c7a(0x16d),'PXBJg':_0x815c7a(0x1cb),'UyXbp':function(_0x44d8d2,_0x5829d5){return _0x44d8d2(_0x5829d5);},'hbmEt':_0x815c7a(0x187),'EaACH':_0x815c7a(0x1f7),'pJqnr':_0x815c7a(0x1a7),'Pugee':'test_before.setup.js','GPWxK':_0x815c7a(0x1e4),'bqlGM':_0x815c7a(0x18f),'WQVrz':_0x815c7a(0x1e8),'YgwuN':'test.setup.js','tfMhC':_0x815c7a(0x1e7),'UrANa':_0x815c7a(0x177),'wWeTo':'Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','vJgSk':function(_0x424420,_0x4d6ac4){return _0x424420>_0x4d6ac4;},'fQjFp':_0x815c7a(0x136),'qEPnC':function(_0x598b92,_0x4c32f1,_0x9cfac4,_0x233e6f){return _0x598b92(_0x4c32f1,_0x9cfac4,_0x233e6f);},'WsHWq':_0x815c7a(0x191),'aHvPS':_0x815c7a(0x173),'zJdEw':function(_0xfcca2d,_0x25619a){return _0xfcca2d===_0x25619a;},'BcPmy':_0x815c7a(0x1ea),'afWEg':_0x815c7a(0x17c),'TVYmk':_0x815c7a(0x14c)},_0x18713b=helper[_0x815c7a(0x1eb)](_0x20f791['LnHjJ']);global[_0x815c7a(0x1f3)]=!!_0x18713b;helper[_0x815c7a(0x11b)]()?(await _0x386304['initialize'](_0x47d393),await helper[_0x815c7a(0x16c)](_0x386304[_0x815c7a(0x13d)])):await _0x386304[_0x815c7a(0x19a)]();await _0x20f791[_0x815c7a(0x148)](checkPwandBootstrapCli,_0x18713b,constants[_0x815c7a(0x194)][_0x815c7a(0x120)],_0x386304);if(!_0x386304['config'])return;_0x20f791['dntUX'](_0x386304['config'][_0x815c7a(0x152)],null)?process[_0x815c7a(0x1aa)][_0x815c7a(0x17b)]=_0x386304[_0x815c7a(0x13d)][_0x815c7a(0x152)]:process['env'][_0x815c7a(0x17b)]=_0x20f791[_0x815c7a(0x1b0)];const _0x6159ec=new TestOrchestrationHandler(_0x386304[_0x815c7a(0x13d)]),_0x50c4da=await _0x20f791[_0x815c7a(0x1a6)](getUserJestConfigs,_0x47d393,_0x424921);logger[_0x815c7a(0x157)](_0x20f791['smFEd']);const _0x407cb1=Object[_0x815c7a(0x1b3)]({},_0x50c4da);_0x407cb1[_0x815c7a(0x186)]=Object[_0x815c7a(0x1b3)]({},_0x407cb1[_0x815c7a(0x186)],{'server':helper['getHubUrl'](_0x386304[_0x815c7a(0x13d)]),'environment':_0x50c4da[_0x815c7a(0x1a8)]}),_0x407cb1[_0x815c7a(0x186)]['browserStackPercyOptions']=_0x20f791[_0x815c7a(0x14d)](getPercyOptions,_0x386304['config']);const _0x7222b7=helper[_0x815c7a(0x1c6)](_0x386304[_0x815c7a(0x13d)]);!helper[_0x815c7a(0x12c)](_0x386304[_0x815c7a(0x13d)][_0x815c7a(0x1db)])&&(process['env'][_0x815c7a(0x1c8)]=JSON['stringify'](_0x386304[_0x815c7a(0x13d)][_0x815c7a(0x1db)]));if(!BrowserstackCLI[_0x815c7a(0x135)]()[_0x815c7a(0x167)]()){const _0x3d630b=await TestHubHandler[_0x815c7a(0x188)](FRAMEWORKS[_0x815c7a(0x120)],_0x386304);}const _0x1f1e47=helper[_0x815c7a(0x159)](_0x386304[_0x815c7a(0x13d)],_0x7222b7,constants['FRAMEWORKS']['JEST']);process[_0x815c7a(0x1aa)][_0x815c7a(0x125)]=JSON['stringify'](_0x1f1e47);let _0x3d8b0b=_0x386304[_0x815c7a(0x13d)]['accessibility'];_0x3d8b0b=_0x3d8b0b||accessibilityHelper[_0x815c7a(0x124)](_0x386304[_0x815c7a(0x13d)]),process[_0x815c7a(0x1aa)][_0x815c7a(0x161)]=_0x3d8b0b,logger[_0x815c7a(0x1ae)](_0x815c7a(0x127)+_0x3d8b0b+_0x815c7a(0x1b5)+BrowserstackCLI['getInstance']()[_0x815c7a(0x167)]());if(_0x18713b)try{const _0x1fbedf=_0x20f791[_0x815c7a(0x1f5)](checkAccessibilityPlatformConfig,_0x386304[_0x815c7a(0x13d)]);process[_0x815c7a(0x1aa)]['BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM']=_0x1fbedf?_0x20f791[_0x815c7a(0x1b0)]:_0x20f791[_0x815c7a(0x149)],logger[_0x815c7a(0x1ae)](_0x815c7a(0x163)+_0x1fbedf+_0x815c7a(0x1cc)+process[_0x815c7a(0x1aa)]['BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM']);}catch(_0x824179){logger['debug'](_0x815c7a(0x15e)+util[_0x815c7a(0x1c1)](_0x824179));}_0x407cb1[_0x815c7a(0x186)][_0x815c7a(0x1c9)]=_0x1f1e47,_0x407cb1[_0x815c7a(0x186)][_0x815c7a(0x1c0)]=_0x20f791[_0x815c7a(0x1d2)](getSerial,_0x1f1e47,_0x47d393),_0x407cb1[_0x815c7a(0x186)][_0x815c7a(0x192)]=_0x20f791[_0x815c7a(0x148)](getMaxWorkers,_0x47d393,_0x386304[_0x815c7a(0x13d)],_0x50c4da),_0x407cb1['testEnvironmentOptions'][_0x815c7a(0x1e6)]=_0x386304[_0x815c7a(0x13d)][_0x815c7a(0x1e6)],_0x407cb1[_0x815c7a(0x186)]['timeout__']=_0x20f791[_0x815c7a(0x1a9)](_0x47d393['testTimeout'],0x1)||0x1388,_0x407cb1[_0x815c7a(0x186)]['skipSessionName']=_0x386304[_0x815c7a(0x13d)]['testContextOptions'][_0x815c7a(0x128)],_0x407cb1[_0x815c7a(0x186)][_0x815c7a(0x1bb)]=_0x386304['config']['testContextOptions'][_0x815c7a(0x1bb)],_0x407cb1['testEnvironmentOptions'][_0x815c7a(0x1e9)]=_0x386304[_0x815c7a(0x13d)][_0x815c7a(0x116)],_0x407cb1[_0x815c7a(0x186)]['turboScaleUrl']=_0x386304[_0x815c7a(0x13d)][_0x815c7a(0x1d8)],_0x407cb1[_0x815c7a(0x186)]['platformCaps']=_0x386304[_0x815c7a(0x13d)]['platforms'];const _0x3b9f95=helper['parseTestOrchestrationOptions'](_0x386304['config']);if(!helper[_0x815c7a(0x19b)](_0x3b9f95)){helper['isNotUndefined'](_0x3b9f95[_0x815c7a(0x19e)])&&(_0x407cb1['testEnvironmentOptions'][_0x815c7a(0x196)]=_0x3b9f95['retryTestsOnFailure'][_0x815c7a(0x151)]);if(helper[_0x815c7a(0x1b9)](_0x3b9f95[_0x815c7a(0x156)])&&helper[_0x815c7a(0x1b9)](_0x3b9f95[_0x815c7a(0x156)][_0x815c7a(0x13b)])){const _0x22da58={};_0x22da58['failureThresholdCount']=_0x3b9f95[_0x815c7a(0x156)][_0x815c7a(0x1e5)],_0x22da58['workingDir']=_0x3b9f95[_0x815c7a(0x156)][_0x815c7a(0x13b)],_0x407cb1[_0x815c7a(0x186)]['failFast']=_0x22da58;}}let _0x27169f='';_0x20f791[_0x815c7a(0x193)](helper[_0x815c7a(0x1d6)](),constants[_0x815c7a(0x1d4)][_0x815c7a(0x1ce)])?_0x27169f=_0x20f791[_0x815c7a(0x13a)]:_0x27169f=_0x20f791['aBmSA'];const _0x3a7b76=_0x27169f,_0x46f178=path[_0x815c7a(0x130)](__dirname,_0x20f791['phhSg'],_0x20f791[_0x815c7a(0x1d5)]),_0x1a392e=path[_0x815c7a(0x130)](__dirname,_0x20f791[_0x815c7a(0x12f)],_0x20f791[_0x815c7a(0x118)]),_0x464265=path[_0x815c7a(0x130)](__dirname,_0x20f791[_0x815c7a(0x12f)],_0x20f791['WlWuy']);_0x407cb1[_0x815c7a(0x1a8)]&&(process[_0x815c7a(0x1aa)][_0x815c7a(0x132)]=_0x407cb1[_0x815c7a(0x1a8)]);_0x407cb1[_0x815c7a(0x1a8)]=path[_0x815c7a(0x130)](__dirname,_0x20f791[_0x815c7a(0x12f)],_0x20f791[_0x815c7a(0x15d)]),_0x407cb1[_0x815c7a(0x1ba)]=_0x1a392e,_0x407cb1[_0x815c7a(0x185)]=_0x407cb1[_0x815c7a(0x185)]||[],_0x407cb1['setupFilesAfterEnv'][_0x815c7a(0x197)](path[_0x815c7a(0x130)](__dirname,_0x20f791['ozxKF']));_0x6159ec[_0x815c7a(0x19f)]()&&(_0x407cb1[_0x815c7a(0x19d)]=path['join'](__dirname,_0x20f791[_0x815c7a(0x12f)],_0x20f791[_0x815c7a(0x12d)]));if(testhubUtils[_0x815c7a(0x1ad)]()){let _0x5dcd16=null;try{_0x5dcd16=helper[_0x815c7a(0x114)](_0x20f791[_0x815c7a(0x126)],_0x20f791[_0x815c7a(0x133)]);}catch(_0xa123d4){_0x20f791[_0x815c7a(0x134)](debug,_0x815c7a(0x129)+_0xa123d4);}_0x5dcd16&&(_0x407cb1[_0x815c7a(0x185)][_0x815c7a(0x197)](path[_0x815c7a(0x130)](__dirname,_0x20f791[_0x815c7a(0x162)],_0x20f791[_0x815c7a(0x138)])),_0x407cb1[_0x815c7a(0x1bf)]=path['join'](__dirname,_0x20f791[_0x815c7a(0x12f)],_0x20f791['pJqnr']));}_0x407cb1[_0x815c7a(0x189)]=_0x407cb1['setupFiles']||[];try{helper[_0x815c7a(0x1ac)](),_0x407cb1[_0x815c7a(0x189)][_0x815c7a(0x197)](path[_0x815c7a(0x130)](__dirname,_0x20f791[_0x815c7a(0x1ab)]));}catch{logger[_0x815c7a(0x1ae)](_0x20f791['GPWxK']);}try{helper[_0x815c7a(0x1c2)][_0x815c7a(0x18c)](null,[_0x20f791[_0x815c7a(0x1cf)],_0x20f791[_0x815c7a(0x164)]]),logger[_0x815c7a(0x1ae)](_0x20f791[_0x815c7a(0x168)]),_0x407cb1['setupFiles'][_0x815c7a(0x197)](path['join'](__dirname,_0x20f791['YgwuN']));}catch(_0x5bdeaa){logger[_0x815c7a(0x1ae)](_0x20f791['tfMhC'],_0x5bdeaa);}_0x407cb1[_0x815c7a(0x174)]=_0x407cb1[_0x815c7a(0x174)]||[_0x20f791[_0x815c7a(0x19c)]],_0x20f791[_0x815c7a(0x1a6)](updateTestRerunConfig,_0x407cb1,_0x386304);const _0x1959d4=fs[_0x815c7a(0x1a4)](_0x464265);fs[_0x815c7a(0x1a3)](_0x407cb1[_0x815c7a(0x1ba)],_0x815c7a(0x1c7)+_0x1959d4+_0x815c7a(0x160)+_0x386304[_0x815c7a(0x13d)][_0x815c7a(0x17a)]['length']+';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20'),logger[_0x815c7a(0x157)](_0x815c7a(0x123)+_0x3a7b76+_0x815c7a(0x17e)),fs[_0x815c7a(0x1a3)](_0x3a7b76,_0x815c7a(0x18e)+JSON[_0x815c7a(0x165)](_0x407cb1)+_0x815c7a(0x18a));if(_0x6159ec[_0x815c7a(0x19f)]()){logger['debug'](_0x20f791[_0x815c7a(0x154)]);const _0x24cac8=await _0x6159ec['findTestFiles'](_0x407cb1,_0x424921[_0x815c7a(0x1b7)](0x1),_0x3a7b76);logger['debug'](_0x815c7a(0x1d3)+JSON[_0x815c7a(0x165)](_0x24cac8)+_0x815c7a(0x1ed));const _0x174b54=await _0x6159ec[_0x815c7a(0x166)](_0x24cac8);logger[_0x815c7a(0x1ae)](_0x815c7a(0x1e2)+JSON[_0x815c7a(0x165)](_0x174b54)),_0x174b54&&_0x20f791[_0x815c7a(0x146)](_0x174b54['length'],0x0)&&(process['env'][_0x815c7a(0x1b1)]=_0x174b54?.[_0x815c7a(0x130)](','));}logger[_0x815c7a(0x157)](_0x20f791[_0x815c7a(0x1f0)]);testhubUtils['shouldProcessEventForTesthub']()&&TestDetails['setup']();helper[_0x815c7a(0x131)]({},_0x424921),PerformanceTester['end'](PerformanceEvents[_0x815c7a(0x14f)]);const _0x5bfcb2=_0x20f791[_0x815c7a(0x158)](spawn,_0x20f791[_0x815c7a(0x1cd)],[_0x20f791[_0x815c7a(0x17f)],_0x20f791[_0x815c7a(0x13f)],_0x3a7b76,..._0x424921[_0x815c7a(0x1b7)](0x1)],{'shell':_0x20f791[_0x815c7a(0x1dd)](process[_0x815c7a(0x183)],_0x20f791['BcPmy']),'stdio':_0x20f791['afWEg'],'env':Object[_0x815c7a(0x1b3)]({},process['env'])});_0x5bfcb2['on'](_0x20f791[_0x815c7a(0x1b4)],async _0x3b042c=>{const _0x37d95d=_0x815c7a;PerformanceTester[_0x37d95d(0x170)](PerformanceEvents[_0x37d95d(0x12a)]);try{const {browserstackFolderPath:_0x18d8e4,tcgConfigPath:_0x5935b4}=helper[_0x37d95d(0x1ca)]();fs[_0x37d95d(0x142)](_0x5935b4),fs[_0x37d95d(0x1c3)](_0x18d8e4);}catch(_0x3045c0){logger[_0x37d95d(0x1ae)](_0x20f791[_0x37d95d(0x147)],_0x3045c0);}process['exitCode']=_0x3b042c,logger['debug'](_0x37d95d(0x16a)+_0x3b042c),logger[_0x37d95d(0x157)]('Deleting\x20'+_0x3a7b76);if(helper[_0x37d95d(0x1b9)](_0x3b9f95)&&helper[_0x37d95d(0x1b9)](_0x3b9f95[_0x37d95d(0x156)])&&fs[_0x37d95d(0x172)](_0x3b9f95[_0x37d95d(0x156)]['workingDir']))try{const _0xa92601={};_0xa92601[_0x37d95d(0x1ef)]=!![],_0xa92601[_0x37d95d(0x1d9)]=!![],fs['rmSync'](_0x3b9f95[_0x37d95d(0x156)][_0x37d95d(0x13b)],_0xa92601),logger[_0x37d95d(0x1ae)]('Deleted\x20fail-fast\x20state\x20folder:\x20'+_0x3b9f95['abortBuildOnFailure']['workingDir']);}catch(_0x1d524a){logger[_0x37d95d(0x1dc)](_0x37d95d(0x1e3)+_0x1d524a);}let _0x14b5ea=null;if(fs[_0x37d95d(0x172)](_0x46f178)){_0x14b5ea=fs[_0x37d95d(0x1a4)](_0x46f178);try{_0x14b5ea=JSON[_0x37d95d(0x195)](_0x14b5ea);}catch(_0x3c0634){logger[_0x37d95d(0x1ae)](_0x37d95d(0x16b)+_0x46f178+',\x20'+_0x14b5ea+'\x20:\x20'+_0x3c0634);}fs[_0x37d95d(0x142)](_0x46f178);}fs['unlinkSync'](_0x3a7b76),fs['unlinkSync'](_0x1a392e),_0x14b5ea&&(_0x386304[_0x37d95d(0x1d1)]=helper[_0x37d95d(0x155)](_0x14b5ea,_0x20f791[_0x37d95d(0x17f)],_0x386304));try{await TestHubHandler['stop'](),await BrowserstackCLI[_0x37d95d(0x135)]()[_0x37d95d(0x11d)]();}catch(_0x4b4d77){console['log'](_0x4b4d77),_0x20f791[_0x37d95d(0x11c)](debug,_0x37d95d(0x143)+util[_0x37d95d(0x1c1)](_0x4b4d77));}testOpsHelper[_0x37d95d(0x12e)](),TestDetails['shutdown'](),await utilities['finalExecution'](_0x386304);});}function a14_0x230d(_0x5ad981,_0x457c1c){const _0x4b5cd7=a14_0x4b5c();return a14_0x230d=function(_0x230d1c,_0x151b6e){_0x230d1c=_0x230d1c-0x114;let _0x2f284f=_0x4b5cd7[_0x230d1c];return _0x2f284f;},a14_0x230d(_0x5ad981,_0x457c1c);}module[a14_0xff197e(0x1a2)]=run;