#!/usr/bin/env node
'use strict';const a14_0xae9c2e=a14_0x50b2;function a14_0x28a5(){const _0x339110=['aLTpb','maxWorkers','test-observability','BSTACK_JEST_TEST_ENV','browserStackLogLevel','platform','setupTCGAuth','HuCSF','runInBand','20LcOilE','rBozE','../../helpers/utilities','isRunning','gFMTl','cwd','4054875avMaUB','BfqjS','../../helpers/logger','isNotUndefined','testTimeout','USER_CONFIG_DETAILS_PATH','../utils/clientTroubleshootingService','XmbyR','retryTestsOnFailure','../../helpers/testhub/utils','accessibilityOptions','uZWmL','config','../../helpers/performance/performance-tester','playwright',',\x20BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM=','child_process','./test-observability/test-details','Pcbzc','xSFjO','../../helpers/test-observability/utils','parseTestOrchestrationOptions','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','skipSessionStatus','filterBrowserstackArgs','QJgpd','kOfOo','YnVyI','RFHTT','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','customTestRunnerTemplate.js','EdhHh','join','setup','\x20:\x20','exports','getErrorMessageFromResults','error\x20removing\x20tcg\x20config\x20file','skipSessionName','570hqqdDj','testObservability','isBrowserstackInfra','22312sAatbj','znaFg','FRAMEWORKS','getPackageType','winstonLogger','serial__','end','turboScaleUrl','platformCaps','customSequencer.js','PZnNH','1435562sLKvdo','capabilities','requireSeleniumWebdriver','[Jest\x20Command]\x20Accessibility\x20enabled:\x20','zmEmQ','NlkDW','default','requireModule','cNYDC','close','cblTl','JEcIK','package.json','cjs','length','SDK_CLEANUP','vwvpw','zwbdM','../../helpers/percy/utils','splice','customTestRunner.js','BROWSERSTACK_CAPABILITIES','win32','../utils/constants',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','getInstance','[Jest\x20Command]\x20Playwright\x20detected,\x20setting\x20accessibility\x20platform:\x20','const\x20config=','parallelsPerPlatform','Deleted\x20fail-fast\x20state\x20folder:\x20','jest-config/build/readConfigFileAndSetRootDir.js','parse','shouldProcessEventForTesthub','\x20with\x20browserstack\x20jest\x20configs','kQrpu','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','setupFilesAfterEnv','setupFiles','isEmpty','46844iqNlqE','yaVdA','\x0amodule.exports\x20=\x20config;','Getting\x20your\x20jest\x20configs\x20from\x20','jnPtL','BROWSERSTACK_TEST_OBSERVABILITY_YML','customEnvironment.js','path','../../helpers/performance/constants','\x20test\x20files\x20to\x20run.','errorMessage','BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM','initialize','jest-circus','PACKAGE_TYPE','printBuildLink','testEnvironment','debug','failFast','readFileSync','../../helpers/testhub/testhubHandler','writeFileSync','jest.setup.js','jest','yuqxY','iEGGF','../../helpers/accessibility-automation/helper','xYDIJ','183sJCZRX','6487281PHMXFg','393658JwZBCr','getPackageVersion','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','maxRetries','prepareCapabilities','KmsuW','BROWSERSTACK_TEST_ACCESSIBILITY_YML','existsSync','accessibility','util','abortBuildOnFailure','MODULE','format','force','BBmeY','runner','../v2/browserstackCLI','requirePWModule','shutdown','reporters','findTestFiles','Reodered\x20Test\x20Files:\x20','testContextOptions','TJqOQ','log','mjs','testSequencer','proxySettings','__isPlaywrightInstalled','../../helpers/BrowserStackSetup','CQWyC','HzfXA','data-hooks.js','stop','UALTE','jest-config','UkklD','false','customImplements','assign','jest.config.','test.setup.js','Skipping\x20accessibility\x20env\x20setup\x20for\x20Playwright\x20due\x20to:\x20','inherit','jest_browserstack.config.cjs','DLERX','JEST','isUndefined','failureThresholdCount','unlinkSync','json','workingDir','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','../../helpers/playwright-helper','isTestOrchestrationEnabled','stringify','JEST_TEST_ORDER','Deleting\x20','osabX','apply','info','Getting\x20your\x20jest\x20configs\x20from\x20package.json','Unable\x20to\x20find\x20jest-circus,\x20','testEnvironmentOptions','rmSync','reorderTestFiles','launchBuild','browserStackPercyOptions','platforms','--config','bwYHq','slice','ebJey','timeout__','XrOCV','parallels__','push','../../helpers/test-observability/constants','Error\x20while\x20parsing\x20','4542864XwqlDk','./test-observability/helper','test_before.setup.js','Creating\x20','retries__','useW3C','env','LEgLU','resolve','SDK_SETUP'];a14_0x28a5=function(){return _0x339110;};return a14_0x28a5();}function a14_0x50b2(_0x38ab55,_0x23f8ec){const _0x28a563=a14_0x28a5();return a14_0x50b2=function(_0x50b200,_0xdc4644){_0x50b200=_0x50b200-0xe2;let _0x666b78=_0x28a563[_0x50b200];return _0x666b78;},a14_0x50b2(_0x38ab55,_0x23f8ec);}(function(_0x681cf3,_0x159704){const _0x4f5876=a14_0x50b2,_0xb5bc63=_0x681cf3();while(!![]){try{const _0x541e8c=parseInt(_0x4f5876(0x10d))/0x1+-parseInt(_0x4f5876(0x1aa))/0x2+parseInt(_0x4f5876(0x10b))/0x3*(parseInt(_0x4f5876(0x19f))/0x4)+parseInt(_0x4f5876(0x175))/0x5+-parseInt(_0x4f5876(0x19c))/0x6*(-parseInt(_0x4f5876(0xef))/0x7)+parseInt(_0x4f5876(0x15c))/0x8+-parseInt(_0x4f5876(0x10c))/0x9*(parseInt(_0x4f5876(0x16f))/0xa);if(_0x541e8c===_0x159704)break;else _0xb5bc63['push'](_0xb5bc63['shift']());}catch(_0x4c8ab3){_0xb5bc63['push'](_0xb5bc63['shift']());}}}(a14_0x28a5,0x8fd22));const fs=require('fs'),path=require(a14_0xae9c2e(0xf6)),util=require(a14_0xae9c2e(0x116)),{spawn}=require(a14_0xae9c2e(0x185)),logger=require(a14_0xae9c2e(0x177))[a14_0xae9c2e(0x1a3)],{default:BrowserStackSetup}=require(a14_0xae9c2e(0x12a)),helper=require('../../helpers/helper'),utilities=require(a14_0xae9c2e(0x171)),constants=require(a14_0xae9c2e(0x1c1)),accessibilityHelper=require(a14_0xae9c2e(0x109)),{updateTestRerunConfig}=require(a14_0xae9c2e(0x15d)),testOpsHelper=require(a14_0xae9c2e(0x189)),{debug}=require(a14_0xae9c2e(0x189)),TestDetails=require(a14_0xae9c2e(0x186)),{getPercyOptions}=require(a14_0xae9c2e(0x1bc)),TestHubHandler=require(a14_0xae9c2e(0x103)),testhubUtils=require(a14_0xae9c2e(0x17e)),{FRAMEWORKS}=require(a14_0xae9c2e(0x15a)),PerformanceTester=require(a14_0xae9c2e(0x182)),PerformanceEvents=require(a14_0xae9c2e(0xf7))['EVENTS'],TestOrchestrationHandler=require('../../helpers/test-orchestration/testOrchestrationHandler'),BrowserstackCLI=require(a14_0xae9c2e(0x11d)),{checkPwandBootstrapCli}=require(a14_0xae9c2e(0x142)),ClientTroubleShootingService=require(a14_0xae9c2e(0x17b)),{checkAccessibilityPlatformConfig}=require('../../helpers/accessibility-automation/helper'),getUserJestConfigs=async(_0x3f2555,_0x4f03aa)=>{const _0x359b3f=a14_0xae9c2e,_0x3fa1d5={'xSFjO':_0x359b3f(0xe6),'KmsuW':_0x359b3f(0x130),'WEhEn':function(_0x2557e3,_0x450be0){return _0x2557e3||_0x450be0;},'vwvpw':function(_0x671032,_0x46398e){return _0x671032(_0x46398e);},'EdhHh':_0x359b3f(0x1b6),'aLTpb':_0x359b3f(0x14a),'zGokD':_0x359b3f(0x126),'pwOWf':_0x359b3f(0x1b7),'DLERX':_0x359b3f(0x13f)},_0x79d8fd=helper[_0x359b3f(0x1b1)](_0x3fa1d5[_0x359b3f(0x188)],_0x3fa1d5[_0x359b3f(0x112)]),_0x1875ad=_0x4f03aa['findIndex'](_0x54d6da=>_0x54d6da===_0x359b3f(0x152));if(!helper['isUndefined'](_0x3f2555['config'])){logger[_0x359b3f(0x149)](_0x359b3f(0xf2)+_0x3f2555[_0x359b3f(0x181)]),process[_0x359b3f(0x162)][_0x359b3f(0x17a)]=_0x3f2555[_0x359b3f(0x181)];const _0x2a9b7e=await(0x0,_0x79d8fd[_0x359b3f(0x1b0)])(path[_0x359b3f(0x164)](_0x3f2555[_0x359b3f(0x181)]));return _0x4f03aa[_0x359b3f(0x1bd)](_0x1875ad,0x2),_0x3fa1d5['WEhEn'](_0x2a9b7e,{});}const _0x2efb7e=_0x3fa1d5[_0x359b3f(0x1ba)](require,path[_0x359b3f(0x195)](process['cwd'](),_0x3fa1d5[_0x359b3f(0x194)]));if(_0x2efb7e[_0x359b3f(0x106)])return logger['info'](_0x3fa1d5[_0x359b3f(0x166)]),_0x2efb7e[_0x359b3f(0x106)];const _0x36e26e=['js',_0x3fa1d5['zGokD'],_0x3fa1d5['pwOWf'],_0x3fa1d5[_0x359b3f(0x13a)],'ts'];for(const _0x3d7ac7 of _0x36e26e){const _0x9c0040=path['join'](process[_0x359b3f(0x174)](),_0x359b3f(0x135)+_0x3d7ac7);if(fs[_0x359b3f(0x114)](_0x9c0040)){process[_0x359b3f(0x162)]['USER_CONFIG_DETAILS_PATH']=_0x9c0040;const _0xc29c84=await(0x0,_0x79d8fd['default'])(_0x9c0040);return _0xc29c84;}}return{};},getSerial=(_0x5f0e33,_0x3003bf)=>{const _0x1a34e8=a14_0xae9c2e,_0x89b7c4={};_0x89b7c4['uZWmL']='true',_0x89b7c4['HuCSF']=function(_0x50a968,_0x2c2e16){return _0x50a968>_0x2c2e16;},_0x89b7c4[_0x1a34e8(0x18f)]=_0x1a34e8(0x132);const _0x877c2b=_0x89b7c4;let _0xbe2a14=_0x877c2b[_0x1a34e8(0x180)];return _0x877c2b[_0x1a34e8(0x16d)](_0x5f0e33[_0x1a34e8(0x1b8)],0x1)&&(!_0x3003bf[_0x1a34e8(0x16e)]&&(helper[_0x1a34e8(0x13c)](_0x3003bf[_0x1a34e8(0x167)])||_0x877c2b[_0x1a34e8(0x16d)](_0x3003bf[_0x1a34e8(0x167)],0x1)))&&(_0xbe2a14=_0x877c2b['kOfOo']),_0xbe2a14;},getMaxWorkers=(_0x3e4cdf,_0x56df24,_0x36f978)=>{const _0x7b8993=a14_0xae9c2e,_0x5d8b6f={'HzfXA':function(_0x260c52,_0x5dc77a){return _0x260c52(_0x5dc77a);}};let _0x535509=0x1;if(!helper[_0x7b8993(0x13c)](_0x56df24[_0x7b8993(0xe4)]))_0x535509=_0x5d8b6f[_0x7b8993(0x12c)](parseInt,_0x56df24['parallelsPerPlatform']);else{if(!helper[_0x7b8993(0x13c)](_0x3e4cdf[_0x7b8993(0x167)]))_0x535509=_0x3e4cdf['maxWorkers'];else!helper[_0x7b8993(0x13c)](_0x36f978[_0x7b8993(0x167)])&&(_0x535509=_0x36f978[_0x7b8993(0x167)]);}return _0x535509;};async function run(_0x389d61,_0x5c2f6a,_0x467d68){const _0x3096ee=a14_0xae9c2e,_0x25ed0a={'gFMTl':_0x3096ee(0x19a),'jnPtL':_0x3096ee(0x106),'YnVyI':function(_0xd58a1c,_0x5a8366){return _0xd58a1c(_0x5a8366);},'yuqxY':'@playwright/test','ebJey':function(_0x31a4ba,_0x252653,_0x170e2d,_0x553e45){return _0x31a4ba(_0x252653,_0x170e2d,_0x553e45);},'osabX':function(_0x2d708f,_0x5b63b3){return _0x2d708f!=_0x5b63b3;},'TJqOQ':'true','QJgpd':function(_0x5c336b,_0x55fbbe,_0x310e74){return _0x5c336b(_0x55fbbe,_0x310e74);},'vAeRL':_0x3096ee(0x10f),'RFHTT':function(_0xcdb18f,_0x219610){return _0xcdb18f(_0x219610);},'kQrpu':_0x3096ee(0x132),'Pcbzc':function(_0x344d8e,_0x31b164){return _0x344d8e*_0x31b164;},'BwoQd':function(_0x1e7240,_0x593588){return _0x1e7240===_0x593588;},'aqwFg':_0x3096ee(0x139),'LxkHN':'jest_browserstack.config.js','zwbdM':_0x3096ee(0x133),'edMDA':'jest_browserstack_results.json','ZqsYm':_0x3096ee(0x1be),'zmEmQ':_0x3096ee(0x193),'aojHl':_0x3096ee(0xf5),'BBmeY':_0x3096ee(0x105),'JEcIK':_0x3096ee(0x1a8),'PZnNH':_0x3096ee(0x141),'iEGGF':_0x3096ee(0xfc),'XrOCV':function(_0x1efb2e,_0x168b86){return _0x1efb2e(_0x168b86);},'NGUbd':_0x3096ee(0x168),'cNYDC':_0x3096ee(0x12d),'hYgJf':'customCircus.js','znaFg':_0x3096ee(0x15e),'IvOqF':'skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','XmbyR':_0x3096ee(0x183),'UkklD':'Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','yaVdA':_0x3096ee(0x136),'EUGPD':'Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','bwYHq':'default','UALTE':'Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','rBozE':function(_0x7706eb,_0x4bb2e0){return _0x7706eb>_0x4bb2e0;},'cblTl':_0x3096ee(0xeb),'NlkDW':'npx','LEgLU':_0x3096ee(0x152),'BfqjS':function(_0x4e4446,_0x3cc41e){return _0x4e4446===_0x3cc41e;},'mDRby':_0x3096ee(0x1c0),'CQWyC':_0x3096ee(0x138),'xYDIJ':_0x3096ee(0x1b3)},_0x13ad3a=helper[_0x3096ee(0x10e)](_0x25ed0a[_0x3096ee(0x107)]);global[_0x3096ee(0x129)]=!!_0x13ad3a;helper[_0x3096ee(0x19e)]()?(await _0x467d68[_0x3096ee(0xfb)](_0x389d61),await helper['handleApp'](_0x467d68[_0x3096ee(0x181)])):await _0x467d68[_0x3096ee(0x16c)]();await _0x25ed0a['ebJey'](checkPwandBootstrapCli,_0x13ad3a,constants[_0x3096ee(0x1a1)]['JEST'],_0x467d68);if(!_0x467d68[_0x3096ee(0x181)])return;_0x25ed0a[_0x3096ee(0x147)](_0x467d68[_0x3096ee(0x181)][_0x3096ee(0x19d)],null)?process['env']['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x467d68[_0x3096ee(0x181)][_0x3096ee(0x19d)]:process[_0x3096ee(0x162)][_0x3096ee(0xf4)]=_0x25ed0a[_0x3096ee(0x124)];const _0x9e7ab3=new TestOrchestrationHandler(_0x467d68[_0x3096ee(0x181)]),_0xf36d90=await _0x25ed0a['QJgpd'](getUserJestConfigs,_0x389d61,_0x5c2f6a);logger['info'](_0x25ed0a['vAeRL']);const _0x126df3=Object[_0x3096ee(0x134)]({},_0xf36d90);_0x126df3[_0x3096ee(0x14c)]=Object[_0x3096ee(0x134)]({},_0x126df3['testEnvironmentOptions'],{'server':helper['getHubUrl'](_0x467d68['config']),'environment':_0xf36d90['testEnvironment']}),_0x126df3[_0x3096ee(0x14c)][_0x3096ee(0x150)]=_0x25ed0a[_0x3096ee(0x191)](getPercyOptions,_0x467d68[_0x3096ee(0x181)]);const _0x473a9c=helper[_0x3096ee(0x161)](_0x467d68[_0x3096ee(0x181)]);!helper[_0x3096ee(0x13c)](_0x467d68['config'][_0x3096ee(0x17f)])&&(process['env'][_0x3096ee(0x192)]=JSON['stringify'](_0x467d68['config'][_0x3096ee(0x17f)]));if(!BrowserstackCLI[_0x3096ee(0x1c3)]()[_0x3096ee(0x172)]()){const _0x4932b3=await TestHubHandler[_0x3096ee(0x14f)](FRAMEWORKS[_0x3096ee(0x13b)],_0x467d68);}const _0x37fe65=helper[_0x3096ee(0x111)](_0x467d68['config'],_0x473a9c,constants[_0x3096ee(0x1a1)][_0x3096ee(0x13b)]);process[_0x3096ee(0x162)][_0x3096ee(0x1bf)]=JSON[_0x3096ee(0x144)](_0x37fe65);let _0x2a4db4=_0x467d68[_0x3096ee(0x181)][_0x3096ee(0x115)];_0x2a4db4=_0x2a4db4||accessibilityHelper['checkAccessibilityPlatformConfig'](_0x467d68[_0x3096ee(0x181)]),process[_0x3096ee(0x162)][_0x3096ee(0x113)]=_0x2a4db4,logger[_0x3096ee(0x100)](_0x3096ee(0x1ad)+_0x2a4db4+',\x20CLI\x20running:\x20'+BrowserstackCLI['getInstance']()['isRunning']());if(_0x13ad3a)try{const _0x320e8b=_0x25ed0a[_0x3096ee(0x191)](checkAccessibilityPlatformConfig,_0x467d68[_0x3096ee(0x181)]);process[_0x3096ee(0x162)]['BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM']=_0x320e8b?_0x25ed0a['TJqOQ']:_0x25ed0a[_0x3096ee(0xea)],logger[_0x3096ee(0x100)](_0x3096ee(0xe2)+_0x320e8b+_0x3096ee(0x184)+process[_0x3096ee(0x162)][_0x3096ee(0xfa)]);}catch(_0x26d542){logger['debug'](_0x3096ee(0x137)+util[_0x3096ee(0x119)](_0x26d542));}_0x126df3[_0x3096ee(0x14c)][_0x3096ee(0x1ab)]=_0x37fe65,_0x126df3[_0x3096ee(0x14c)][_0x3096ee(0x1a4)]=_0x25ed0a[_0x3096ee(0x18e)](getSerial,_0x37fe65,_0x389d61),_0x126df3['testEnvironmentOptions'][_0x3096ee(0x158)]=_0x25ed0a[_0x3096ee(0x155)](getMaxWorkers,_0x389d61,_0x467d68[_0x3096ee(0x181)],_0xf36d90),_0x126df3[_0x3096ee(0x14c)][_0x3096ee(0x128)]=_0x467d68[_0x3096ee(0x181)][_0x3096ee(0x128)],_0x126df3[_0x3096ee(0x14c)][_0x3096ee(0x156)]=_0x25ed0a[_0x3096ee(0x187)](_0x389d61[_0x3096ee(0x179)],0x1)||0x1388,_0x126df3[_0x3096ee(0x14c)]['skipSessionName']=_0x467d68['config'][_0x3096ee(0x123)][_0x3096ee(0x19b)],_0x126df3[_0x3096ee(0x14c)]['skipSessionStatus']=_0x467d68[_0x3096ee(0x181)][_0x3096ee(0x123)][_0x3096ee(0x18c)],_0x126df3[_0x3096ee(0x14c)][_0x3096ee(0x16a)]=_0x467d68[_0x3096ee(0x181)]['logLevel'],_0x126df3[_0x3096ee(0x14c)][_0x3096ee(0x1a6)]=_0x467d68['config']['turboScaleUrl'],_0x126df3[_0x3096ee(0x14c)][_0x3096ee(0x1a7)]=_0x467d68[_0x3096ee(0x181)][_0x3096ee(0x151)];const _0x2622b1=helper[_0x3096ee(0x18a)](_0x467d68['config']);if(!helper[_0x3096ee(0xee)](_0x2622b1)){helper['isNotUndefined'](_0x2622b1[_0x3096ee(0x17d)])&&(_0x126df3[_0x3096ee(0x14c)][_0x3096ee(0x160)]=_0x2622b1[_0x3096ee(0x17d)][_0x3096ee(0x110)]);if(helper[_0x3096ee(0x178)](_0x2622b1['abortBuildOnFailure'])&&helper[_0x3096ee(0x178)](_0x2622b1[_0x3096ee(0x117)][_0x3096ee(0x140)])){const _0x3b56ef={};_0x3b56ef[_0x3096ee(0x13d)]=_0x2622b1[_0x3096ee(0x117)]['maxFailures'],_0x3b56ef[_0x3096ee(0x140)]=_0x2622b1[_0x3096ee(0x117)][_0x3096ee(0x140)],_0x126df3[_0x3096ee(0x14c)][_0x3096ee(0x101)]=_0x3b56ef;}}let _0x5cc150='';_0x25ed0a['BwoQd'](helper[_0x3096ee(0x1a2)](),constants[_0x3096ee(0xfd)][_0x3096ee(0x118)])?_0x5cc150=_0x25ed0a['aqwFg']:_0x5cc150=_0x25ed0a['LxkHN'];const _0xcc24bb=_0x5cc150,_0x469a65=path[_0x3096ee(0x195)](__dirname,_0x25ed0a[_0x3096ee(0x1bb)],_0x25ed0a['edMDA']),_0x449f06=path[_0x3096ee(0x195)](__dirname,_0x25ed0a[_0x3096ee(0x1bb)],_0x25ed0a['ZqsYm']),_0x5ed549=path[_0x3096ee(0x195)](__dirname,_0x25ed0a[_0x3096ee(0x1bb)],_0x25ed0a[_0x3096ee(0x1ae)]);_0x126df3[_0x3096ee(0xff)]&&(process[_0x3096ee(0x162)][_0x3096ee(0x169)]=_0x126df3[_0x3096ee(0xff)]);_0x126df3['testEnvironment']=path['join'](__dirname,_0x25ed0a['zwbdM'],_0x25ed0a['aojHl']),_0x126df3[_0x3096ee(0x11c)]=_0x449f06,_0x126df3[_0x3096ee(0xec)]=_0x126df3[_0x3096ee(0xec)]||[],_0x126df3[_0x3096ee(0xec)]['push'](path['join'](__dirname,_0x25ed0a[_0x3096ee(0x11b)]));_0x9e7ab3[_0x3096ee(0x143)]()&&(_0x126df3[_0x3096ee(0x127)]=path['join'](__dirname,_0x25ed0a['zwbdM'],_0x25ed0a[_0x3096ee(0x1b5)]));if(testhubUtils[_0x3096ee(0xe8)]()){let _0x14ca8f=null;try{_0x14ca8f=helper[_0x3096ee(0x1b1)](_0x25ed0a[_0x3096ee(0x1a9)],_0x25ed0a[_0x3096ee(0x108)]);}catch(_0x4fc2db){_0x25ed0a[_0x3096ee(0x157)](debug,_0x3096ee(0x14b)+_0x4fc2db);}_0x14ca8f&&(_0x126df3['setupFilesAfterEnv'][_0x3096ee(0x159)](path[_0x3096ee(0x195)](__dirname,_0x25ed0a['NGUbd'],_0x25ed0a[_0x3096ee(0x1b2)])),_0x126df3['testRunner']=path[_0x3096ee(0x195)](__dirname,_0x25ed0a[_0x3096ee(0x1bb)],_0x25ed0a['hYgJf']));}_0x126df3[_0x3096ee(0xed)]=_0x126df3[_0x3096ee(0xed)]||[];try{helper[_0x3096ee(0x1ac)](),_0x126df3[_0x3096ee(0xed)]['push'](path['join'](__dirname,_0x25ed0a[_0x3096ee(0x1a0)]));}catch{logger['debug'](_0x25ed0a['IvOqF']);}try{helper[_0x3096ee(0x11e)][_0x3096ee(0x148)](null,[_0x25ed0a[_0x3096ee(0x107)],_0x25ed0a[_0x3096ee(0x17c)]]),logger[_0x3096ee(0x100)](_0x25ed0a[_0x3096ee(0x131)]),_0x126df3[_0x3096ee(0xed)][_0x3096ee(0x159)](path[_0x3096ee(0x195)](__dirname,_0x25ed0a[_0x3096ee(0xf0)]));}catch(_0x34ded9){logger[_0x3096ee(0x100)](_0x25ed0a['EUGPD'],_0x34ded9);}_0x126df3['reporters']=_0x126df3[_0x3096ee(0x120)]||[_0x25ed0a[_0x3096ee(0x153)]],_0x25ed0a[_0x3096ee(0x18e)](updateTestRerunConfig,_0x126df3,_0x467d68);const _0xc2de79=fs[_0x3096ee(0x102)](_0x5ed549);fs[_0x3096ee(0x104)](_0x126df3[_0x3096ee(0x11c)],'\x0a\x20\x20\x20\x20'+_0xc2de79+_0x3096ee(0x18b)+_0x467d68['config'][_0x3096ee(0x151)]['length']+_0x3096ee(0x1c2)),logger['info'](_0x3096ee(0x15f)+_0xcc24bb+_0x3096ee(0xe9)),fs[_0x3096ee(0x104)](_0xcc24bb,_0x3096ee(0xe3)+JSON[_0x3096ee(0x144)](_0x126df3)+_0x3096ee(0xf1));if(_0x9e7ab3['isTestOrchestrationEnabled']()){logger[_0x3096ee(0x100)](_0x25ed0a[_0x3096ee(0x12f)]);const _0x26edcb=await _0x9e7ab3[_0x3096ee(0x121)](_0x126df3,_0x5c2f6a[_0x3096ee(0x154)](0x1),_0xcc24bb);logger[_0x3096ee(0x100)]('Found:\x20'+JSON[_0x3096ee(0x144)](_0x26edcb)+_0x3096ee(0xf8));const _0x4b4b1f=await _0x9e7ab3[_0x3096ee(0x14e)](_0x26edcb);logger[_0x3096ee(0x100)](_0x3096ee(0x122)+JSON[_0x3096ee(0x144)](_0x4b4b1f)),_0x4b4b1f&&_0x25ed0a[_0x3096ee(0x170)](_0x4b4b1f[_0x3096ee(0x1b8)],0x0)&&(process['env'][_0x3096ee(0x145)]=_0x4b4b1f?.[_0x3096ee(0x195)](','));}logger[_0x3096ee(0x149)](_0x25ed0a[_0x3096ee(0x1b4)]);testhubUtils[_0x3096ee(0xe8)]()&&TestDetails[_0x3096ee(0x196)]();helper[_0x3096ee(0x18d)]({},_0x5c2f6a),PerformanceTester[_0x3096ee(0x1a5)](PerformanceEvents[_0x3096ee(0x165)]);const _0xd33de7=_0x25ed0a[_0x3096ee(0x155)](spawn,_0x25ed0a[_0x3096ee(0x1af)],[_0x25ed0a[_0x3096ee(0xf3)],_0x25ed0a[_0x3096ee(0x163)],_0xcc24bb,..._0x5c2f6a[_0x3096ee(0x154)](0x1)],{'shell':_0x25ed0a[_0x3096ee(0x176)](process[_0x3096ee(0x16b)],_0x25ed0a['mDRby']),'stdio':_0x25ed0a[_0x3096ee(0x12b)],'env':Object[_0x3096ee(0x134)]({},process[_0x3096ee(0x162)])});_0xd33de7['on'](_0x25ed0a[_0x3096ee(0x10a)],async _0x49d549=>{const _0x2fe3a1=_0x3096ee;PerformanceTester['start'](PerformanceEvents[_0x2fe3a1(0x1b9)]);try{const {browserstackFolderPath:_0xed276a,tcgConfigPath:_0x45790b}=helper['getTCGConfigFilePaths']();fs['unlinkSync'](_0x45790b),fs['rmdirSync'](_0xed276a);}catch(_0x57e6c1){logger[_0x2fe3a1(0x100)](_0x25ed0a[_0x2fe3a1(0x173)],_0x57e6c1);}process['exitCode']=_0x49d549,logger['debug']('child\x20process\x20exited\x20with\x20code\x20'+_0x49d549),logger['info'](_0x2fe3a1(0x146)+_0xcc24bb);if(helper['isNotUndefined'](_0x2622b1)&&helper['isNotUndefined'](_0x2622b1[_0x2fe3a1(0x117)])&&fs['existsSync'](_0x2622b1['abortBuildOnFailure'][_0x2fe3a1(0x140)]))try{const _0x42e45c={};_0x42e45c['recursive']=!![],_0x42e45c[_0x2fe3a1(0x11a)]=!![],fs[_0x2fe3a1(0x14d)](_0x2622b1[_0x2fe3a1(0x117)][_0x2fe3a1(0x140)],_0x42e45c),logger['debug'](_0x2fe3a1(0xe5)+_0x2622b1[_0x2fe3a1(0x117)]['workingDir']);}catch(_0x1fc965){logger['error']('Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20'+_0x1fc965);}let _0x280a20=null;if(fs['existsSync'](_0x469a65)){_0x280a20=fs[_0x2fe3a1(0x102)](_0x469a65);try{_0x280a20=JSON[_0x2fe3a1(0xe7)](_0x280a20);}catch(_0x317a5b){logger[_0x2fe3a1(0x100)](_0x2fe3a1(0x15b)+_0x469a65+',\x20'+_0x280a20+_0x2fe3a1(0x197)+_0x317a5b);}fs[_0x2fe3a1(0x13e)](_0x469a65);}fs[_0x2fe3a1(0x13e)](_0xcc24bb),fs[_0x2fe3a1(0x13e)](_0x449f06),_0x280a20&&(_0x467d68[_0x2fe3a1(0xf9)]=helper[_0x2fe3a1(0x199)](_0x280a20,_0x25ed0a['jnPtL'],_0x467d68));try{await TestHubHandler[_0x2fe3a1(0x12e)](),await BrowserstackCLI[_0x2fe3a1(0x1c3)]()['stop']();}catch(_0x28ef79){console[_0x2fe3a1(0x125)](_0x28ef79),_0x25ed0a[_0x2fe3a1(0x190)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20'+util[_0x2fe3a1(0x119)](_0x28ef79));}testOpsHelper[_0x2fe3a1(0xfe)](),TestDetails[_0x2fe3a1(0x11f)](),await utilities['finalExecution'](_0x467d68);});}module[a14_0xae9c2e(0x198)]=run;