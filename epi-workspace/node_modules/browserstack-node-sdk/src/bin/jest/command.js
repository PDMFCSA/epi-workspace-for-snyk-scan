#!/usr/bin/env node
'use strict';const a16_0x3b4897=a16_0x4a4a;(function(_0x48a6f8,_0x210217){const _0x42844f=a16_0x4a4a,_0x544da6=_0x48a6f8();while(!![]){try{const _0x235cf7=-parseInt(_0x42844f(0x288))/0x1*(-parseInt(_0x42844f(0x205))/0x2)+-parseInt(_0x42844f(0x293))/0x3+parseInt(_0x42844f(0x217))/0x4+parseInt(_0x42844f(0x201))/0x5+parseInt(_0x42844f(0x2ac))/0x6*(-parseInt(_0x42844f(0x2ad))/0x7)+parseInt(_0x42844f(0x22b))/0x8+-parseInt(_0x42844f(0x277))/0x9;if(_0x235cf7===_0x210217)break;else _0x544da6['push'](_0x544da6['shift']());}catch(_0x3cec5e){_0x544da6['push'](_0x544da6['shift']());}}}(a16_0x5c60,0xa3f1d));function a16_0x5c60(){const _0x112f16=['shutdown','info','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','platform','480bQuKwK','34832mbVLnp','../../helpers/logger','config','pdrjM','customTestRunnerTemplate.js','proxySettings','push','maxWorkers','accessibility','findIndex','SDK_SETUP','jest_browserstack.config.cjs',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','mJrBL','const\x20config=','testContextOptions','QKCVI','util','abortBuildOnFailure','customEnvironment.js','child\x20process\x20exited\x20with\x20code\x20','faJqc','setupTCGAuth','exports','IZmpJ','accessibilityOptions','JEST','isNotUndefined','jest-circus','6077950ihqUxQ','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','slice','child_process','6XXtMpC','lAWlT','jest.setup.js','path','join','jest_browserstack_results.json','platformCaps','splice','jest-config','VZmYj','EVENTS','Getting\x20your\x20jest\x20configs\x20from\x20','initialize','../../helpers/performance/performance-tester','../../helpers/test-observability/constants','lkzVK','shouldProcessEventForTesthub','writeFileSync','1338420KeDSMA','requireModule','bhXoQ','cwd','../../helpers/BrowserStackSetup','true','Found:\x20','launchBuild','bZxBm','parseTestOrchestrationOptions','rPZhi','lJiDR','lMrdq','requireSeleniumWebdriver','../../helpers/test-orchestration/testOrchestrationHandler','SBvvY','platforms','getErrorMessageFromResults','force','jkjzY','459808YVIgGe','testObservability','./test-observability/helper','error\x20removing\x20tcg\x20config\x20file','default','testEnvironmentOptions','setup','NzssX','Error\x20while\x20parsing\x20','skipSessionStatus','\x0a\x20\x20\x20\x20','failureThresholdCount','cjs','stringify','../../helpers/helper','SDK_CLEANUP','setupFilesAfterEnv','../../helpers/testhub/utils','bbmmy','isUndefined','parallels__','UWYzo','browserStackPercyOptions','errorMessage','jest.config.','JEST_TEST_ORDER','handleApp','kRRRl','turboScaleUrl','customCircus.js','retryTestsOnFailure','existsSync','testEnvironment','prepareCapabilities','ewOOG','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','testTimeout','env','lWuFM','maxRetries','useW3C','log','dYalG','nVVNs','format','Qubgv','Deleted\x20fail-fast\x20state\x20folder:\x20','isEmpty','Deleting\x20','assign','testRunner','debug','findTestFiles','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','length','runner','\x0amodule.exports\x20=\x20config;','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','../../helpers/test-observability/utils','../../helpers/testhub/testhubHandler','maxFailures','JDuot','exitCode','BROWSERSTACK_TEST_ACCESSIBILITY_YML','winstonLogger','wUtoh','jest-config/build/readConfigFileAndSetRootDir.js','skipSessionName','diZXm','finalExecution','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','RrfdU','--config','LUOgH','false','BROWSERSTACK_TEST_OBSERVABILITY_YML','1828782JlfmJE','XRPxw','testSequencer','AqxhJ','PlebR','./test-observability/test-details','test_before.setup.js','FTmMC','workingDir','xMAZf','XDrkh','oiexL','EnnLw','MODULE','mjs','Creating\x20','../utils/constants','62247VIQFVU','capabilities','wVyay','filterBrowserstackArgs','printBuildLink','egJda','serial__','jest','start','getHubUrl','Reodered\x20Test\x20Files:\x20','1564851alSWUW','error','readFileSync','RFawd','resolve','customTestRunner.js','customSequencer.js','nxKlh','jopOu','cOLci','getTCGConfigFilePaths','FRAMEWORKS','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','PACKAGE_TYPE','setupFiles','reporters','unlinkSync','test-observability','rmSync','AIfBx'];a16_0x5c60=function(){return _0x112f16;};return a16_0x5c60();}function a16_0x4a4a(_0x4925b9,_0x2b4ee4){const _0x5c608a=a16_0x5c60();return a16_0x4a4a=function(_0x4a4a2a,_0x3b1b90){_0x4a4a2a=_0x4a4a2a-0x1ee;let _0x2b0d1f=_0x5c608a[_0x4a4a2a];return _0x2b0d1f;},a16_0x4a4a(_0x4925b9,_0x2b4ee4);}const fs=require('fs'),path=require(a16_0x3b4897(0x208)),util=require(a16_0x3b4897(0x1f5)),{spawn}=require(a16_0x3b4897(0x204)),logger=require(a16_0x3b4897(0x2ae))[a16_0x3b4897(0x26b)],{default:BrowserStackSetup}=require(a16_0x3b4897(0x21b)),helper=require(a16_0x3b4897(0x239)),utilities=require('../../helpers/utilities'),constants=require(a16_0x3b4897(0x287)),accessibilityHelper=require('../../helpers/accessibility-automation/helper'),{updateTestRerunConfig}=require(a16_0x3b4897(0x22d)),testOpsHelper=require(a16_0x3b4897(0x265)),{debug}=require(a16_0x3b4897(0x265)),TestDetails=require(a16_0x3b4897(0x27c)),{getPercyOptions}=require('../../helpers/percy/utils'),TestHubHandler=require(a16_0x3b4897(0x266)),testhubUtils=require(a16_0x3b4897(0x23c)),{FRAMEWORKS}=require(a16_0x3b4897(0x213)),PerformanceTester=require(a16_0x3b4897(0x212)),PerformanceEvents=require('../../helpers/performance/constants')[a16_0x3b4897(0x20f)],TestOrchestrationHandler=require(a16_0x3b4897(0x225)),getUserJestConfigs=async(_0x26c52d,_0x452595)=>{const _0x57054a=a16_0x3b4897,_0x330226={'aIeXf':_0x57054a(0x26d),'faJqc':_0x57054a(0x20d),'diZXm':function(_0x3137fc,_0x5c85a8){return _0x3137fc||_0x5c85a8;},'bWCcI':function(_0x2e1cbf,_0x50c94c){return _0x2e1cbf(_0x50c94c);},'bZxBm':'package.json','lJiDR':'Getting\x20your\x20jest\x20configs\x20from\x20package.json','kRRRl':_0x57054a(0x285),'dYalG':_0x57054a(0x237),'EnnLw':'json'},_0x2e4c9c=helper[_0x57054a(0x218)](_0x330226['aIeXf'],_0x330226[_0x57054a(0x1f9)]),_0x1dfd94=_0x452595[_0x57054a(0x2b6)](_0x3923f2=>_0x3923f2===_0x57054a(0x273));if(!helper[_0x57054a(0x23e)](_0x26c52d[_0x57054a(0x2af)])){logger[_0x57054a(0x2a9)](_0x57054a(0x210)+_0x26c52d[_0x57054a(0x2af)]),process[_0x57054a(0x250)]['USER_CONFIG_DETAILS_PATH']=_0x26c52d[_0x57054a(0x2af)];const _0x3fb064=await(0x0,_0x2e4c9c['default'])(path[_0x57054a(0x297)](_0x26c52d[_0x57054a(0x2af)]));return _0x452595[_0x57054a(0x20c)](_0x1dfd94,0x2),_0x330226[_0x57054a(0x26f)](_0x3fb064,{});}const _0x5e6e0a=_0x330226['bWCcI'](require,path[_0x57054a(0x209)](process['cwd'](),_0x330226[_0x57054a(0x21f)]));if(_0x5e6e0a[_0x57054a(0x28f)])return logger[_0x57054a(0x2a9)](_0x330226[_0x57054a(0x222)]),_0x5e6e0a[_0x57054a(0x28f)];const _0x2e2121=['js',_0x330226[_0x57054a(0x246)],_0x330226[_0x57054a(0x255)],_0x330226[_0x57054a(0x283)],'ts'];for(const _0x515034 of _0x2e2121){const _0x5d2896=path[_0x57054a(0x209)](process[_0x57054a(0x21a)](),_0x57054a(0x243)+_0x515034);if(fs[_0x57054a(0x24a)](_0x5d2896)){process[_0x57054a(0x250)]['USER_CONFIG_DETAILS_PATH']=_0x5d2896;const _0x2cc680=await(0x0,_0x2e4c9c[_0x57054a(0x22f)])(_0x5d2896);return _0x2cc680;}}return{};},getSerial=(_0x416e2f,_0x40d65f)=>{const _0x1d363f=a16_0x3b4897,_0x129a8a={};_0x129a8a[_0x1d363f(0x272)]=_0x1d363f(0x21c),_0x129a8a['inHkH']=function(_0x524c10,_0x52f2ba){return _0x524c10>_0x52f2ba;},_0x129a8a[_0x1d363f(0x281)]=function(_0x479581,_0x56fe34){return _0x479581>_0x56fe34;},_0x129a8a[_0x1d363f(0x29b)]=_0x1d363f(0x275);const _0x156709=_0x129a8a;let _0x4d2a6b=_0x156709[_0x1d363f(0x272)];return _0x156709['inHkH'](_0x416e2f[_0x1d363f(0x261)],0x1)&&(!_0x40d65f['runInBand']&&(helper[_0x1d363f(0x23e)](_0x40d65f[_0x1d363f(0x2b4)])||_0x156709[_0x1d363f(0x281)](_0x40d65f[_0x1d363f(0x2b4)],0x1)))&&(_0x4d2a6b=_0x156709[_0x1d363f(0x29b)]),_0x4d2a6b;},getMaxWorkers=(_0x50c475,_0x327c9c,_0x2ca6fb)=>{const _0x5b441a=a16_0x3b4897,_0x97fe20={'bbmmy':function(_0x2f8f19,_0x4653d7){return _0x2f8f19(_0x4653d7);}};let _0x56741c=0x1;if(!helper[_0x5b441a(0x23e)](_0x327c9c['parallelsPerPlatform']))_0x56741c=_0x97fe20[_0x5b441a(0x23d)](parseInt,_0x327c9c['parallelsPerPlatform']);else{if(!helper[_0x5b441a(0x23e)](_0x50c475[_0x5b441a(0x2b4)]))_0x56741c=_0x50c475[_0x5b441a(0x2b4)];else!helper[_0x5b441a(0x23e)](_0x2ca6fb[_0x5b441a(0x2b4)])&&(_0x56741c=_0x2ca6fb[_0x5b441a(0x2b4)]);}return _0x56741c;};async function run(_0x45d01a,_0x140177,_0x1bb707){const _0x4a8e57=a16_0x3b4897,_0x17ffee={'xMAZf':_0x4a8e57(0x22e),'SBvvY':'jest','jkjzY':function(_0x33bc8f,_0x5644d4){return _0x33bc8f(_0x5644d4);},'LUOgH':function(_0x7e54b1,_0x1bce65){return _0x7e54b1!=_0x1bce65;},'RFawd':_0x4a8e57(0x21c),'LKXZA':function(_0x2324fb,_0x57720a,_0x4b3372){return _0x2324fb(_0x57720a,_0x4b3372);},'FTmMC':_0x4a8e57(0x2a0),'JDuot':function(_0x2ed75c,_0x240879){return _0x2ed75c(_0x240879);},'egJda':function(_0x3d5b2c,_0x2c624f,_0x1e7b4b){return _0x3d5b2c(_0x2c624f,_0x1e7b4b);},'wUtoh':function(_0x160fd0,_0x3b896c,_0xec8b03,_0x585cfe){return _0x160fd0(_0x3b896c,_0xec8b03,_0x585cfe);},'mmVKf':function(_0x30de2c,_0x2cfd26){return _0x30de2c*_0x2cfd26;},'nVVNs':function(_0x21f208,_0x1cfd78){return _0x21f208===_0x1cfd78;},'lMrdq':_0x4a8e57(0x1ef),'pdrjM':'jest_browserstack.config.js','ewOOG':'customImplements','nxKlh':_0x4a8e57(0x20a),'XRPxw':_0x4a8e57(0x298),'Tjrpk':_0x4a8e57(0x2b1),'cOLci':_0x4a8e57(0x1f7),'oiexL':_0x4a8e57(0x207),'VZmYj':_0x4a8e57(0x299),'bvUFq':_0x4a8e57(0x260),'AqxhJ':_0x4a8e57(0x200),'bhXoQ':function(_0xda261b,_0x46302b){return _0xda261b(_0x46302b);},'lkzVK':_0x4a8e57(0x2a5),'Qubgv':'data-hooks.js','NzssX':_0x4a8e57(0x248),'IZmpJ':_0x4a8e57(0x27d),'wVyay':_0x4a8e57(0x202),'lWuFM':_0x4a8e57(0x22f),'AIfBx':function(_0x22aea5,_0x28dfa7,_0x3b1435){return _0x22aea5(_0x28dfa7,_0x3b1435);},'QKCVI':_0x4a8e57(0x29f),'lAWlT':function(_0x1f8c90,_0x19308a){return _0x1f8c90>_0x19308a;},'rPZhi':_0x4a8e57(0x271),'UWYzo':function(_0xf7f582,_0x1720d0,_0x505a14,_0xfbe590){return _0xf7f582(_0x1720d0,_0x505a14,_0xfbe590);},'FqHVz':'npx','xUwMI':_0x4a8e57(0x273),'PlebR':'win32','mJrBL':'inherit','CpgCe':'close'};helper['isBrowserstackInfra']()?(await _0x1bb707[_0x4a8e57(0x211)](_0x45d01a),await helper[_0x4a8e57(0x245)](_0x1bb707[_0x4a8e57(0x2af)])):await _0x1bb707[_0x4a8e57(0x1fa)]();if(!_0x1bb707[_0x4a8e57(0x2af)])return;_0x17ffee[_0x4a8e57(0x274)](_0x1bb707[_0x4a8e57(0x2af)][_0x4a8e57(0x22c)],null)?process[_0x4a8e57(0x250)][_0x4a8e57(0x276)]=_0x1bb707[_0x4a8e57(0x2af)][_0x4a8e57(0x22c)]:process['env'][_0x4a8e57(0x276)]=_0x17ffee[_0x4a8e57(0x296)];const _0x14d64c=new TestOrchestrationHandler(_0x1bb707[_0x4a8e57(0x2af)]),_0x11a548=await _0x17ffee['LKXZA'](getUserJestConfigs,_0x45d01a,_0x140177);logger[_0x4a8e57(0x2a9)](_0x17ffee[_0x4a8e57(0x27e)]);const _0xebad1e=Object[_0x4a8e57(0x25c)]({},_0x11a548);_0xebad1e[_0x4a8e57(0x230)]=Object[_0x4a8e57(0x25c)]({},_0xebad1e[_0x4a8e57(0x230)],{'server':helper[_0x4a8e57(0x291)](_0x1bb707[_0x4a8e57(0x2af)]),'environment':_0x11a548[_0x4a8e57(0x24b)]}),_0xebad1e[_0x4a8e57(0x230)][_0x4a8e57(0x241)]=_0x17ffee[_0x4a8e57(0x268)](getPercyOptions,_0x1bb707[_0x4a8e57(0x2af)]);const _0x2b5658=helper[_0x4a8e57(0x253)](_0x1bb707['config']);!helper[_0x4a8e57(0x23e)](_0x1bb707[_0x4a8e57(0x2af)][_0x4a8e57(0x1fd)])&&(process[_0x4a8e57(0x250)][_0x4a8e57(0x24e)]=JSON[_0x4a8e57(0x238)](_0x1bb707['config']['accessibilityOptions']));const _0x3adb16=await TestHubHandler[_0x4a8e57(0x21e)](FRAMEWORKS[_0x4a8e57(0x1fe)],_0x1bb707),_0x15d22b=helper[_0x4a8e57(0x24c)](_0x1bb707[_0x4a8e57(0x2af)],_0x2b5658,constants[_0x4a8e57(0x29e)][_0x4a8e57(0x1fe)]);let _0x2f13dc=_0x1bb707['config'][_0x4a8e57(0x2b5)];_0x2f13dc=_0x2f13dc||accessibilityHelper['checkAccessibilityPlatformConfig'](_0x1bb707['config']),process[_0x4a8e57(0x250)][_0x4a8e57(0x26a)]=_0x2f13dc,_0xebad1e[_0x4a8e57(0x230)][_0x4a8e57(0x289)]=_0x15d22b,_0xebad1e[_0x4a8e57(0x230)][_0x4a8e57(0x28e)]=_0x17ffee[_0x4a8e57(0x28d)](getSerial,_0x15d22b,_0x45d01a),_0xebad1e[_0x4a8e57(0x230)][_0x4a8e57(0x23f)]=_0x17ffee[_0x4a8e57(0x26c)](getMaxWorkers,_0x45d01a,_0x1bb707[_0x4a8e57(0x2af)],_0x11a548),_0xebad1e[_0x4a8e57(0x230)][_0x4a8e57(0x2b2)]=_0x1bb707[_0x4a8e57(0x2af)][_0x4a8e57(0x2b2)],_0xebad1e['testEnvironmentOptions']['timeout__']=_0x17ffee['mmVKf'](_0x45d01a[_0x4a8e57(0x24f)],0x1)||0x1388,_0xebad1e[_0x4a8e57(0x230)][_0x4a8e57(0x26e)]=_0x1bb707['config'][_0x4a8e57(0x1f3)][_0x4a8e57(0x26e)],_0xebad1e[_0x4a8e57(0x230)][_0x4a8e57(0x234)]=_0x1bb707[_0x4a8e57(0x2af)][_0x4a8e57(0x1f3)][_0x4a8e57(0x234)],_0xebad1e[_0x4a8e57(0x230)]['browserStackLogLevel']=_0x1bb707[_0x4a8e57(0x2af)]['logLevel'],_0xebad1e['testEnvironmentOptions'][_0x4a8e57(0x247)]=_0x1bb707[_0x4a8e57(0x2af)][_0x4a8e57(0x247)],_0xebad1e[_0x4a8e57(0x230)][_0x4a8e57(0x20b)]=_0x1bb707[_0x4a8e57(0x2af)]['platforms'];const _0x4d29cc=helper[_0x4a8e57(0x220)](_0x1bb707[_0x4a8e57(0x2af)]);if(!helper[_0x4a8e57(0x25a)](_0x4d29cc)){helper['isNotUndefined'](_0x4d29cc[_0x4a8e57(0x249)])&&(_0xebad1e[_0x4a8e57(0x230)]['retries__']=_0x4d29cc[_0x4a8e57(0x249)][_0x4a8e57(0x252)]);if(helper[_0x4a8e57(0x1ff)](_0x4d29cc[_0x4a8e57(0x1f6)])&&helper['isNotUndefined'](_0x4d29cc[_0x4a8e57(0x1f6)]['workingDir'])){const _0x52a7a2={};_0x52a7a2[_0x4a8e57(0x236)]=_0x4d29cc[_0x4a8e57(0x1f6)][_0x4a8e57(0x267)],_0x52a7a2[_0x4a8e57(0x27f)]=_0x4d29cc[_0x4a8e57(0x1f6)]['workingDir'],_0xebad1e[_0x4a8e57(0x230)]['failFast']=_0x52a7a2;}}let _0x483261='';_0x17ffee[_0x4a8e57(0x256)](helper['getPackageType'](),constants[_0x4a8e57(0x2a1)][_0x4a8e57(0x284)])?_0x483261=_0x17ffee[_0x4a8e57(0x223)]:_0x483261=_0x17ffee[_0x4a8e57(0x2b0)];const _0x4c2f5c=_0x483261,_0x85aee0=path[_0x4a8e57(0x209)](__dirname,_0x17ffee[_0x4a8e57(0x24d)],_0x17ffee[_0x4a8e57(0x29a)]),_0x27d4d3=path[_0x4a8e57(0x209)](__dirname,_0x17ffee[_0x4a8e57(0x24d)],_0x17ffee[_0x4a8e57(0x278)]),_0x1118e7=path[_0x4a8e57(0x209)](__dirname,_0x17ffee[_0x4a8e57(0x24d)],_0x17ffee['Tjrpk']);_0xebad1e[_0x4a8e57(0x24b)]&&(process['env']['BSTACK_JEST_TEST_ENV']=_0xebad1e['testEnvironment']);_0xebad1e[_0x4a8e57(0x24b)]=path['join'](__dirname,_0x17ffee[_0x4a8e57(0x24d)],_0x17ffee[_0x4a8e57(0x29c)]),_0xebad1e[_0x4a8e57(0x262)]=_0x27d4d3,_0xebad1e['setupFilesAfterEnv']=_0xebad1e[_0x4a8e57(0x23b)]||[],_0xebad1e[_0x4a8e57(0x23b)][_0x4a8e57(0x2b3)](path[_0x4a8e57(0x209)](__dirname,_0x17ffee[_0x4a8e57(0x282)]));_0x14d64c['isTestOrchestrationEnabled']()&&(_0xebad1e[_0x4a8e57(0x279)]=path[_0x4a8e57(0x209)](__dirname,_0x17ffee['ewOOG'],_0x17ffee[_0x4a8e57(0x20e)]));if(testhubUtils[_0x4a8e57(0x215)]()){let _0x4c5828=null;try{_0x4c5828=helper[_0x4a8e57(0x218)](_0x17ffee['bvUFq'],_0x17ffee[_0x4a8e57(0x27a)]);}catch(_0x2548d7){_0x17ffee[_0x4a8e57(0x219)](debug,'Unable\x20to\x20find\x20jest-circus,\x20'+_0x2548d7);}_0x4c5828&&(_0xebad1e[_0x4a8e57(0x23b)][_0x4a8e57(0x2b3)](path[_0x4a8e57(0x209)](__dirname,_0x17ffee[_0x4a8e57(0x214)],_0x17ffee[_0x4a8e57(0x258)])),_0xebad1e[_0x4a8e57(0x25d)]=path[_0x4a8e57(0x209)](__dirname,_0x17ffee[_0x4a8e57(0x24d)],_0x17ffee[_0x4a8e57(0x232)]));}_0xebad1e[_0x4a8e57(0x2a2)]=_0xebad1e[_0x4a8e57(0x2a2)]||[];try{helper[_0x4a8e57(0x224)](),_0xebad1e[_0x4a8e57(0x2a2)][_0x4a8e57(0x2b3)](path[_0x4a8e57(0x209)](__dirname,_0x17ffee[_0x4a8e57(0x1fc)]));}catch{logger['debug'](_0x17ffee[_0x4a8e57(0x28a)]);}_0xebad1e[_0x4a8e57(0x2a3)]=_0xebad1e['reporters']||[_0x17ffee[_0x4a8e57(0x251)]],_0x17ffee[_0x4a8e57(0x2a7)](updateTestRerunConfig,_0xebad1e,_0x1bb707);const _0x4265bf=fs[_0x4a8e57(0x295)](_0x1118e7);fs[_0x4a8e57(0x216)](_0xebad1e['runner'],_0x4a8e57(0x235)+_0x4265bf+_0x4a8e57(0x264)+_0x1bb707[_0x4a8e57(0x2af)][_0x4a8e57(0x227)]['length']+_0x4a8e57(0x1f0)),logger[_0x4a8e57(0x2a9)](_0x4a8e57(0x286)+_0x4c2f5c+'\x20with\x20browserstack\x20jest\x20configs'),fs[_0x4a8e57(0x216)](_0x4c2f5c,_0x4a8e57(0x1f2)+JSON['stringify'](_0xebad1e)+_0x4a8e57(0x263));if(_0x14d64c['isTestOrchestrationEnabled']()){logger[_0x4a8e57(0x25e)](_0x17ffee[_0x4a8e57(0x1f4)]);const _0xd84afd=await _0x14d64c[_0x4a8e57(0x25f)](_0xebad1e,_0x140177[_0x4a8e57(0x203)](0x1),_0x4c2f5c);logger[_0x4a8e57(0x25e)](_0x4a8e57(0x21d)+JSON[_0x4a8e57(0x238)](_0xd84afd)+'\x20test\x20files\x20to\x20run.');const _0x292697=await _0x14d64c['reorderTestFiles'](_0xd84afd);logger[_0x4a8e57(0x25e)](_0x4a8e57(0x292)+JSON[_0x4a8e57(0x238)](_0x292697)),_0x292697&&_0x17ffee[_0x4a8e57(0x206)](_0x292697[_0x4a8e57(0x261)],0x0)&&(process[_0x4a8e57(0x250)][_0x4a8e57(0x244)]=_0x292697?.[_0x4a8e57(0x209)](','));}logger[_0x4a8e57(0x2a9)](_0x17ffee[_0x4a8e57(0x221)]);testhubUtils[_0x4a8e57(0x215)]()&&TestDetails[_0x4a8e57(0x231)]();helper[_0x4a8e57(0x28b)]({},_0x140177),PerformanceTester['end'](PerformanceEvents[_0x4a8e57(0x1ee)]);const _0x265deb=_0x17ffee[_0x4a8e57(0x240)](spawn,_0x17ffee['FqHVz'],[_0x17ffee[_0x4a8e57(0x226)],_0x17ffee['xUwMI'],_0x4c2f5c,..._0x140177[_0x4a8e57(0x203)](0x1)],{'shell':_0x17ffee[_0x4a8e57(0x256)](process[_0x4a8e57(0x2ab)],_0x17ffee[_0x4a8e57(0x27b)]),'stdio':_0x17ffee[_0x4a8e57(0x1f1)],'env':Object[_0x4a8e57(0x25c)]({},process[_0x4a8e57(0x250)])});_0x265deb['on'](_0x17ffee['CpgCe'],async _0x1df9c7=>{const _0x563e2c=_0x4a8e57;PerformanceTester[_0x563e2c(0x290)](PerformanceEvents[_0x563e2c(0x23a)]);try{const {browserstackFolderPath:_0x22863b,tcgConfigPath:_0x541b47}=helper[_0x563e2c(0x29d)]();fs[_0x563e2c(0x2a4)](_0x541b47),fs['rmdirSync'](_0x22863b);}catch(_0x25d1d3){logger[_0x563e2c(0x25e)](_0x17ffee[_0x563e2c(0x280)],_0x25d1d3);}process[_0x563e2c(0x269)]=_0x1df9c7,logger['debug'](_0x563e2c(0x1f8)+_0x1df9c7),logger[_0x563e2c(0x2a9)](_0x563e2c(0x25b)+_0x4c2f5c);if(helper[_0x563e2c(0x1ff)](_0x4d29cc)&&helper[_0x563e2c(0x1ff)](_0x4d29cc[_0x563e2c(0x1f6)])&&fs[_0x563e2c(0x24a)](_0x4d29cc[_0x563e2c(0x1f6)]['workingDir']))try{const _0x4c970a={};_0x4c970a['recursive']=!![],_0x4c970a[_0x563e2c(0x229)]=!![],fs[_0x563e2c(0x2a6)](_0x4d29cc[_0x563e2c(0x1f6)][_0x563e2c(0x27f)],_0x4c970a),logger[_0x563e2c(0x25e)](_0x563e2c(0x259)+_0x4d29cc[_0x563e2c(0x1f6)]['workingDir']);}catch(_0x1312e7){logger[_0x563e2c(0x294)](_0x563e2c(0x2aa)+_0x1312e7);}let _0x404d4a=null;if(fs[_0x563e2c(0x24a)](_0x85aee0)){_0x404d4a=fs[_0x563e2c(0x295)](_0x85aee0);try{_0x404d4a=JSON['parse'](_0x404d4a);}catch(_0x5eb884){logger['debug'](_0x563e2c(0x233)+_0x85aee0+',\x20'+_0x404d4a+'\x20:\x20'+_0x5eb884);}fs[_0x563e2c(0x2a4)](_0x85aee0);}fs['unlinkSync'](_0x4c2f5c),fs['unlinkSync'](_0x27d4d3),_0x404d4a&&(_0x1bb707[_0x563e2c(0x242)]=helper[_0x563e2c(0x228)](_0x404d4a,_0x17ffee[_0x563e2c(0x226)],_0x1bb707));try{await TestHubHandler['stop']();}catch(_0x1aae50){console[_0x563e2c(0x254)](_0x1aae50),_0x17ffee[_0x563e2c(0x22a)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20'+util[_0x563e2c(0x257)](_0x1aae50));}testOpsHelper[_0x563e2c(0x28c)](),TestDetails[_0x563e2c(0x2a8)](),await utilities[_0x563e2c(0x270)](_0x1bb707);});}module[a16_0x3b4897(0x1fb)]=run;