#!/usr/bin/env node
'use strict';const a14_0x4b279c=a14_0x3016;(function(_0x130f32,_0xecf6b){const _0x19cecb=a14_0x3016,_0x2549da=_0x130f32();while(!![]){try{const _0x344724=parseInt(_0x19cecb(0x1be))/0x1*(parseInt(_0x19cecb(0x10d))/0x2)+-parseInt(_0x19cecb(0x100))/0x3+parseInt(_0x19cecb(0x111))/0x4*(parseInt(_0x19cecb(0x13a))/0x5)+parseInt(_0x19cecb(0xfa))/0x6*(parseInt(_0x19cecb(0x117))/0x7)+-parseInt(_0x19cecb(0x16c))/0x8+parseInt(_0x19cecb(0x131))/0x9+parseInt(_0x19cecb(0x155))/0xa*(-parseInt(_0x19cecb(0x11b))/0xb);if(_0x344724===_0xecf6b)break;else _0x2549da['push'](_0x2549da['shift']());}catch(_0x3d75df){_0x2549da['push'](_0x2549da['shift']());}}}(a14_0x4e34,0xd9409));function a14_0x4e34(){const _0x267422=['GNhQn','iTEYL','wlrEq','prepareCapabilities','testEnvironmentOptions','capabilities',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','env','customEnvironment.js','MODULE','dSPxp','FRAMEWORKS','WUgxt','jest.setup.js','skipSessionStatus','wDDkj','Unable\x20to\x20find\x20jest-circus,\x20','isBrowserstackInfra','isRunning','requireSeleniumWebdriver','initialize','DoIRE','exitCode','testTimeout','stop','LlBLT','JEST_TEST_ORDER','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM','getInstance','\x20with\x20browserstack\x20jest\x20configs','EVENTS','UUqus','logLevel','jest_browserstack.config.cjs','flhBL','apply','false','jest-circus','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','1rPkINJ','cjs','readFileSync','setupFilesAfterEnv','Found:\x20','maxRetries','recursive','xrMII','../../helpers/testhub/testhubHandler','getErrorMessageFromResults','test-observability','MjZBx','testContextOptions','ULGms','nJQgk','join','platforms','findTestFiles','BROWSERSTACK_TEST_OBSERVABILITY_YML','616494xDvYNL','info','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','GTsXQ','jest_browserstack_results.json','test_before.setup.js','2279682qCUAYt','shouldProcessEventForTesthub','splice','stringify','Yiacs','isNotUndefined','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','sEXut','PKYar','debug','\x0a\x20\x20\x20\x20','__isPlaywrightInstalled','1532264jvTkOH','parallelsPerPlatform','accessibilityOptions','nZnxC','916QEObui','isEmpty','package.json','Deleted\x20fail-fast\x20state\x20folder:\x20','../../helpers/logger','rmSync','14kYyGNc','testRunner','dPrdp','[Jest\x20Command]\x20Accessibility\x20enabled:\x20','3623510HicGNj','filterBrowserstackArgs','npx','path','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','requirePWModule','true','../../helpers/BrowserStackSetup','bBmSg','retryTestsOnFailure','exports','abYeF','../utils/clientTroubleshootingService','raIlv','jest-config','isUndefined','KZskD','const\x20config=','setup','force','toIDB','zjPNz','9806634BFGrvh','jest.config.','maxWorkers','failFast','jest','../utils/constants','error\x20removing\x20tcg\x20config\x20file','util','iHBkn','5685SHveLH','default','esWwK','existsSync','./test-observability/test-details','--config','customImplements','reporters','KzxCh','../../helpers/utilities','bpCyD','bvVOR','qhsCQ','mLJNX','iHGBA','HdMsI','cwd','testEnvironment','Getting\x20your\x20jest\x20configs\x20from\x20','BROWSERSTACK_CAPABILITIES','findIndex','start','abortBuildOnFailure','JEST','mjs','Deleting\x20','lNWje','10qQbBKJ','push','sTpae','getHubUrl','length','setupFiles','customCircus.js','../../helpers/performance/performance-tester','../../helpers/performance/constants','../../helpers/test-observability/utils','customSequencer.js','config',',\x20BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM=','../../helpers/accessibility-automation/helper','../../helpers/test-orchestration/testOrchestrationHandler','serial__','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','data-hooks.js','USER_CONFIG_DETAILS_PATH','ZZTcR','../../helpers/playwright-helper','error',',\x20CLI\x20running:\x20','2739680fXMlFZ','requireModule','../v2/browserstackCLI','unlinkSync','../../helpers/helper','resolve','QICmO','UfTbT','testObservability','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','jest_browserstack.config.js','format','assign','Skipping\x20accessibility\x20env\x20setup\x20for\x20Playwright\x20due\x20to:\x20','BKktW','IpiRV','setupTCGAuth','CGXxT','skipSessionName','OwVua','../../helpers/percy/utils','printBuildLink','reorderTestFiles','UAVmH','workingDir','runInBand','close','slice','Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','playwright','Creating\x20','winstonLogger','DJPyO','maxFailures','QvcRe','turboScaleUrl','isTestOrchestrationEnabled','EGgZK','Getting\x20your\x20jest\x20configs\x20from\x20package.json','YGYzE','getTCGConfigFilePaths','inherit'];a14_0x4e34=function(){return _0x267422;};return a14_0x4e34();}const fs=require('fs'),path=require(a14_0x4b279c(0x11e)),util=require(a14_0x4b279c(0x138)),{spawn}=require('child_process'),logger=require(a14_0x4b279c(0x115))[a14_0x4b279c(0x18b)],{default:BrowserStackSetup}=require(a14_0x4b279c(0x122)),helper=require(a14_0x4b279c(0x170)),utilities=require(a14_0x4b279c(0x143)),constants=require(a14_0x4b279c(0x136)),accessibilityHelper=require('../../helpers/accessibility-automation/helper'),{updateTestRerunConfig}=require('./test-observability/helper'),testOpsHelper=require(a14_0x4b279c(0x15e)),{debug}=require(a14_0x4b279c(0x15e)),TestDetails=require(a14_0x4b279c(0x13e)),{getPercyOptions}=require(a14_0x4b279c(0x180)),TestHubHandler=require(a14_0x4b279c(0x1c6)),testhubUtils=require('../../helpers/testhub/utils'),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),PerformanceTester=require(a14_0x4b279c(0x15c)),PerformanceEvents=require(a14_0x4b279c(0x15d))[a14_0x4b279c(0x1b5)],TestOrchestrationHandler=require(a14_0x4b279c(0x163)),BrowserstackCLI=require(a14_0x4b279c(0x16e)),{checkPwandBootstrapCli}=require(a14_0x4b279c(0x169)),ClientTroubleShootingService=require(a14_0x4b279c(0x127)),{checkAccessibilityPlatformConfig}=require(a14_0x4b279c(0x162)),getUserJestConfigs=async(_0x568ce7,_0x6dac61)=>{const _0x2b7cfe=a14_0x4b279c,_0x4e5584={'UfTbT':'jest-config/build/readConfigFileAndSetRootDir.js','SfpeN':_0x2b7cfe(0x129),'MjZBx':function(_0x89eb88,_0x417f9b){return _0x89eb88||_0x417f9b;},'bpCyD':function(_0x20e840,_0x339a51){return _0x20e840(_0x339a51);},'OwVua':_0x2b7cfe(0x113),'pKbnP':_0x2b7cfe(0x192),'abYeF':_0x2b7cfe(0x152),'dPrdp':_0x2b7cfe(0x1bf),'aatBC':'json'},_0x19055e=helper[_0x2b7cfe(0x16d)](_0x4e5584[_0x2b7cfe(0x173)],_0x4e5584['SfpeN']),_0x47e6d0=_0x6dac61[_0x2b7cfe(0x14e)](_0x1a96f8=>_0x1a96f8===_0x2b7cfe(0x13f));if(!helper[_0x2b7cfe(0x12a)](_0x568ce7[_0x2b7cfe(0x160)])){logger[_0x2b7cfe(0xfb)](_0x2b7cfe(0x14c)+_0x568ce7['config']),process[_0x2b7cfe(0x19d)][_0x2b7cfe(0x167)]=_0x568ce7[_0x2b7cfe(0x160)];const _0x2e559c=await(0x0,_0x19055e[_0x2b7cfe(0x13b)])(path[_0x2b7cfe(0x171)](_0x568ce7[_0x2b7cfe(0x160)]));return _0x6dac61[_0x2b7cfe(0x102)](_0x47e6d0,0x2),_0x4e5584[_0x2b7cfe(0x1c9)](_0x2e559c,{});}const _0x2c8db7=_0x4e5584[_0x2b7cfe(0x144)](require,path[_0x2b7cfe(0x1cd)](process['cwd'](),_0x4e5584[_0x2b7cfe(0x17f)]));if(_0x2c8db7[_0x2b7cfe(0x135)])return logger[_0x2b7cfe(0xfb)](_0x4e5584['pKbnP']),_0x2c8db7['jest'];const _0xdaea14=['js',_0x4e5584[_0x2b7cfe(0x126)],_0x4e5584[_0x2b7cfe(0x119)],_0x4e5584['aatBC'],'ts'];for(const _0x1138ef of _0xdaea14){const _0x2ccf1f=path[_0x2b7cfe(0x1cd)](process[_0x2b7cfe(0x14a)](),_0x2b7cfe(0x132)+_0x1138ef);if(fs['existsSync'](_0x2ccf1f)){process['env'][_0x2b7cfe(0x167)]=_0x2ccf1f;const _0x277893=await(0x0,_0x19055e[_0x2b7cfe(0x13b)])(_0x2ccf1f);return _0x277893;}}return{};},getSerial=(_0x356d10,_0x1b897a)=>{const _0x3c0afc=a14_0x4b279c,_0xdb70e5={};_0xdb70e5[_0x3c0afc(0x1af)]='true',_0xdb70e5['esWwK']=function(_0x253281,_0x426fa6){return _0x253281>_0x426fa6;},_0xdb70e5[_0x3c0afc(0x193)]=function(_0x4055e5,_0x4ace7a){return _0x4055e5>_0x4ace7a;},_0xdb70e5[_0x3c0afc(0x146)]=_0x3c0afc(0x1bb);const _0x208650=_0xdb70e5;let _0x4295e3=_0x208650[_0x3c0afc(0x1af)];return _0x208650[_0x3c0afc(0x13c)](_0x356d10['length'],0x1)&&(!_0x1b897a[_0x3c0afc(0x185)]&&(helper['isUndefined'](_0x1b897a[_0x3c0afc(0x133)])||_0x208650[_0x3c0afc(0x193)](_0x1b897a['maxWorkers'],0x1)))&&(_0x4295e3=_0x208650[_0x3c0afc(0x146)]),_0x4295e3;},getMaxWorkers=(_0x401d32,_0x429a41,_0x439134)=>{const _0x2264c3=a14_0x4b279c,_0x54558c={'QvcRe':function(_0x5aeade,_0x488c05){return _0x5aeade(_0x488c05);}};let _0x5ec94e=0x1;if(!helper['isUndefined'](_0x429a41['parallelsPerPlatform']))_0x5ec94e=_0x54558c[_0x2264c3(0x18e)](parseInt,_0x429a41[_0x2264c3(0x10e)]);else{if(!helper[_0x2264c3(0x12a)](_0x401d32['maxWorkers']))_0x5ec94e=_0x401d32[_0x2264c3(0x133)];else!helper['isUndefined'](_0x439134[_0x2264c3(0x133)])&&(_0x5ec94e=_0x439134[_0x2264c3(0x133)]);}return _0x5ec94e;};function a14_0x3016(_0x3e1048,_0x3ee990){const _0x4e3422=a14_0x4e34();return a14_0x3016=function(_0x301649,_0x511cad){_0x301649=_0x301649-0xf9;let _0x2b9418=_0x4e3422[_0x301649];return _0x2b9418;},a14_0x3016(_0x3e1048,_0x3ee990);}async function run(_0x500e5b,_0x191706,_0x4be329){const _0x464a6a=a14_0x4b279c,_0x784214={'zjPNz':_0x464a6a(0x137),'PKYar':'jest','BKktW':function(_0x543fb3,_0x382589){return _0x543fb3(_0x382589);},'bvVOR':'@playwright/test','TsBya':function(_0x4137f2,_0x2f76cd,_0x551a06,_0xdf38b1){return _0x4137f2(_0x2f76cd,_0x551a06,_0xdf38b1);},'dSPxp':function(_0x3a3f2d,_0x30905a){return _0x3a3f2d!=_0x30905a;},'xrMII':_0x464a6a(0x121),'UAVmH':function(_0x53ca6e,_0x1ec724,_0x5358a5){return _0x53ca6e(_0x1ec724,_0x5358a5);},'WUgxt':_0x464a6a(0x1b1),'DcuVL':function(_0x3a3a67,_0x32c644){return _0x3a3a67(_0x32c644);},'bBmSg':function(_0xa45fc3,_0x3814a6){return _0xa45fc3(_0x3814a6);},'toIDB':'false','Yiacs':function(_0x897888,_0xcb8398,_0x15785a){return _0x897888(_0xcb8398,_0x15785a);},'ULGms':function(_0x13d9dd,_0x43f3fb,_0x5cf834,_0x3a4957){return _0x13d9dd(_0x43f3fb,_0x5cf834,_0x3a4957);},'iHBkn':function(_0x46e20e,_0x100c92){return _0x46e20e*_0x100c92;},'gsDZl':function(_0xfd6a3a,_0x23c0f8){return _0xfd6a3a===_0x23c0f8;},'sTpae':_0x464a6a(0x1b8),'iHGBA':_0x464a6a(0x176),'nJQgk':_0x464a6a(0x140),'uxgUs':_0x464a6a(0xfe),'lNWje':'customTestRunner.js','UUqus':'customTestRunnerTemplate.js','iTEYL':_0x464a6a(0x19e),'GTsXQ':_0x464a6a(0x1a3),'wlrEq':_0x464a6a(0x15f),'IpiRV':_0x464a6a(0x175),'sEXut':_0x464a6a(0x1bc),'PpYIh':_0x464a6a(0x1c8),'EGgZK':_0x464a6a(0x166),'BVgzC':_0x464a6a(0x15b),'YFPrO':_0x464a6a(0xff),'GNhQn':_0x464a6a(0xfc),'HdMsI':_0x464a6a(0x189),'DoIRE':'Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','ZZTcR':'test.setup.js','QttwS':_0x464a6a(0x188),'KzxCh':'default','QICmO':_0x464a6a(0x106),'mLJNX':function(_0x50e030,_0x184e5f){return _0x50e030>_0x184e5f;},'DJPyO':_0x464a6a(0x165),'wDDkj':function(_0x5875b2,_0x53d1e0,_0x40a9cf,_0x43bd68){return _0x5875b2(_0x53d1e0,_0x40a9cf,_0x43bd68);},'flhBL':_0x464a6a(0x11d),'iqRhP':'--config','CGXxT':function(_0x32c42e,_0xa0e682){return _0x32c42e===_0xa0e682;},'KZskD':'win32','raIlv':_0x464a6a(0x195),'nZnxC':_0x464a6a(0x186)},_0x580f10=helper['getPackageVersion'](_0x784214[_0x464a6a(0x145)]);global[_0x464a6a(0x10c)]=!!_0x580f10;helper[_0x464a6a(0x1a7)]()?(await _0x4be329[_0x464a6a(0x1aa)](_0x500e5b),await helper['handleApp'](_0x4be329[_0x464a6a(0x160)])):await _0x4be329[_0x464a6a(0x17c)]();await _0x784214['TsBya'](checkPwandBootstrapCli,_0x580f10,constants[_0x464a6a(0x1a1)]['JEST'],_0x4be329);if(!_0x4be329[_0x464a6a(0x160)])return;_0x784214[_0x464a6a(0x1a0)](_0x4be329[_0x464a6a(0x160)]['testObservability'],null)?process['env'][_0x464a6a(0xf9)]=_0x4be329[_0x464a6a(0x160)][_0x464a6a(0x174)]:process[_0x464a6a(0x19d)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x784214[_0x464a6a(0x1c5)];const _0x2549ac=new TestOrchestrationHandler(_0x4be329[_0x464a6a(0x160)]),_0x3ac328=await _0x784214[_0x464a6a(0x183)](getUserJestConfigs,_0x500e5b,_0x191706);logger[_0x464a6a(0xfb)](_0x784214[_0x464a6a(0x1a2)]);const _0x3a1d50=Object[_0x464a6a(0x178)]({},_0x3ac328);_0x3a1d50['testEnvironmentOptions']=Object[_0x464a6a(0x178)]({},_0x3a1d50['testEnvironmentOptions'],{'server':helper[_0x464a6a(0x158)](_0x4be329[_0x464a6a(0x160)]),'environment':_0x3ac328[_0x464a6a(0x14b)]}),_0x3a1d50[_0x464a6a(0x19a)]['browserStackPercyOptions']=_0x784214['DcuVL'](getPercyOptions,_0x4be329[_0x464a6a(0x160)]);const _0x1be951=helper['useW3C'](_0x4be329[_0x464a6a(0x160)]);!helper[_0x464a6a(0x12a)](_0x4be329[_0x464a6a(0x160)][_0x464a6a(0x10f)])&&(process[_0x464a6a(0x19d)][_0x464a6a(0x11f)]=JSON[_0x464a6a(0x103)](_0x4be329['config'][_0x464a6a(0x10f)]));if(!BrowserstackCLI['getInstance']()['isRunning']()){const _0x3b06a3=await TestHubHandler['launchBuild'](FRAMEWORKS['JEST'],_0x4be329);}const _0x39bf76=helper[_0x464a6a(0x199)](_0x4be329[_0x464a6a(0x160)],_0x1be951,constants[_0x464a6a(0x1a1)][_0x464a6a(0x151)]);process[_0x464a6a(0x19d)][_0x464a6a(0x14d)]=JSON[_0x464a6a(0x103)](_0x39bf76);let _0x2397b1=_0x4be329[_0x464a6a(0x160)]['accessibility'];_0x2397b1=_0x2397b1||accessibilityHelper['checkAccessibilityPlatformConfig'](_0x4be329[_0x464a6a(0x160)]),process[_0x464a6a(0x19d)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x2397b1,logger[_0x464a6a(0x10a)](_0x464a6a(0x11a)+_0x2397b1+_0x464a6a(0x16b)+BrowserstackCLI[_0x464a6a(0x1b3)]()[_0x464a6a(0x1a8)]());if(_0x580f10)try{const _0x2fc1d2=_0x784214[_0x464a6a(0x123)](checkAccessibilityPlatformConfig,_0x4be329[_0x464a6a(0x160)]);process[_0x464a6a(0x19d)][_0x464a6a(0x1b2)]=_0x2fc1d2?_0x784214[_0x464a6a(0x1c5)]:_0x784214[_0x464a6a(0x12f)],logger[_0x464a6a(0x10a)]('[Jest\x20Command]\x20Playwright\x20detected,\x20setting\x20accessibility\x20platform:\x20'+_0x2fc1d2+_0x464a6a(0x161)+process['env'][_0x464a6a(0x1b2)]);}catch(_0x449ecf){logger[_0x464a6a(0x10a)](_0x464a6a(0x179)+util[_0x464a6a(0x177)](_0x449ecf));}_0x3a1d50['testEnvironmentOptions'][_0x464a6a(0x19b)]=_0x39bf76,_0x3a1d50[_0x464a6a(0x19a)][_0x464a6a(0x164)]=_0x784214[_0x464a6a(0x104)](getSerial,_0x39bf76,_0x500e5b),_0x3a1d50[_0x464a6a(0x19a)]['parallels__']=_0x784214[_0x464a6a(0x1cb)](getMaxWorkers,_0x500e5b,_0x4be329['config'],_0x3ac328),_0x3a1d50['testEnvironmentOptions']['proxySettings']=_0x4be329[_0x464a6a(0x160)]['proxySettings'],_0x3a1d50[_0x464a6a(0x19a)]['timeout__']=_0x784214[_0x464a6a(0x139)](_0x500e5b[_0x464a6a(0x1ad)],0x1)||0x1388,_0x3a1d50[_0x464a6a(0x19a)][_0x464a6a(0x17e)]=_0x4be329[_0x464a6a(0x160)][_0x464a6a(0x1ca)][_0x464a6a(0x17e)],_0x3a1d50[_0x464a6a(0x19a)][_0x464a6a(0x1a4)]=_0x4be329[_0x464a6a(0x160)][_0x464a6a(0x1ca)]['skipSessionStatus'],_0x3a1d50['testEnvironmentOptions']['browserStackLogLevel']=_0x4be329[_0x464a6a(0x160)][_0x464a6a(0x1b7)],_0x3a1d50['testEnvironmentOptions'][_0x464a6a(0x18f)]=_0x4be329[_0x464a6a(0x160)][_0x464a6a(0x18f)],_0x3a1d50[_0x464a6a(0x19a)]['platformCaps']=_0x4be329[_0x464a6a(0x160)]['platforms'];const _0x2a5d7f=helper['parseTestOrchestrationOptions'](_0x4be329[_0x464a6a(0x160)]);if(!helper[_0x464a6a(0x112)](_0x2a5d7f)){helper[_0x464a6a(0x105)](_0x2a5d7f['retryTestsOnFailure'])&&(_0x3a1d50['testEnvironmentOptions']['retries__']=_0x2a5d7f[_0x464a6a(0x124)][_0x464a6a(0x1c3)]);if(helper[_0x464a6a(0x105)](_0x2a5d7f['abortBuildOnFailure'])&&helper['isNotUndefined'](_0x2a5d7f['abortBuildOnFailure'][_0x464a6a(0x184)])){const _0xfe567f={};_0xfe567f['failureThresholdCount']=_0x2a5d7f[_0x464a6a(0x150)][_0x464a6a(0x18d)],_0xfe567f[_0x464a6a(0x184)]=_0x2a5d7f[_0x464a6a(0x150)][_0x464a6a(0x184)],_0x3a1d50[_0x464a6a(0x19a)][_0x464a6a(0x134)]=_0xfe567f;}}let _0x1ac1f2='';_0x784214['gsDZl'](helper['getPackageType'](),constants['PACKAGE_TYPE'][_0x464a6a(0x19f)])?_0x1ac1f2=_0x784214[_0x464a6a(0x157)]:_0x1ac1f2=_0x784214[_0x464a6a(0x148)];const _0x34f7e0=_0x1ac1f2,_0x5702d6=path['join'](__dirname,_0x784214[_0x464a6a(0x1cc)],_0x784214['uxgUs']),_0x1d7d3b=path['join'](__dirname,_0x784214[_0x464a6a(0x1cc)],_0x784214[_0x464a6a(0x154)]),_0x304e76=path['join'](__dirname,_0x784214['nJQgk'],_0x784214[_0x464a6a(0x1b6)]);_0x3a1d50[_0x464a6a(0x14b)]&&(process['env']['BSTACK_JEST_TEST_ENV']=_0x3a1d50[_0x464a6a(0x14b)]);_0x3a1d50[_0x464a6a(0x14b)]=path[_0x464a6a(0x1cd)](__dirname,_0x784214[_0x464a6a(0x1cc)],_0x784214[_0x464a6a(0x197)]),_0x3a1d50['runner']=_0x1d7d3b,_0x3a1d50['setupFilesAfterEnv']=_0x3a1d50['setupFilesAfterEnv']||[],_0x3a1d50[_0x464a6a(0x1c1)][_0x464a6a(0x156)](path[_0x464a6a(0x1cd)](__dirname,_0x784214[_0x464a6a(0xfd)]));_0x2549ac[_0x464a6a(0x190)]()&&(_0x3a1d50['testSequencer']=path[_0x464a6a(0x1cd)](__dirname,_0x784214['nJQgk'],_0x784214[_0x464a6a(0x198)]));if(testhubUtils[_0x464a6a(0x101)]()){let _0x13f6d4=null;try{_0x13f6d4=helper['requireModule'](_0x784214[_0x464a6a(0x17b)],_0x784214[_0x464a6a(0x108)]);}catch(_0x56d922){_0x784214[_0x464a6a(0x123)](debug,_0x464a6a(0x1a6)+_0x56d922);}_0x13f6d4&&(_0x3a1d50[_0x464a6a(0x1c1)]['push'](path[_0x464a6a(0x1cd)](__dirname,_0x784214['PpYIh'],_0x784214[_0x464a6a(0x191)])),_0x3a1d50[_0x464a6a(0x118)]=path['join'](__dirname,_0x784214[_0x464a6a(0x1cc)],_0x784214['BVgzC']));}_0x3a1d50['setupFiles']=_0x3a1d50['setupFiles']||[];try{helper[_0x464a6a(0x1a9)](),_0x3a1d50['setupFiles']['push'](path[_0x464a6a(0x1cd)](__dirname,_0x784214['YFPrO']));}catch{logger['debug'](_0x784214[_0x464a6a(0x196)]);}try{helper[_0x464a6a(0x120)][_0x464a6a(0x1ba)](null,[_0x784214[_0x464a6a(0x145)],_0x784214[_0x464a6a(0x149)]]),logger[_0x464a6a(0x10a)](_0x784214[_0x464a6a(0x1ab)]),_0x3a1d50[_0x464a6a(0x15a)][_0x464a6a(0x156)](path[_0x464a6a(0x1cd)](__dirname,_0x784214[_0x464a6a(0x168)]));}catch(_0x4448d2){logger[_0x464a6a(0x10a)](_0x784214['QttwS'],_0x4448d2);}_0x3a1d50[_0x464a6a(0x141)]=_0x3a1d50[_0x464a6a(0x141)]||[_0x784214[_0x464a6a(0x142)]],_0x784214[_0x464a6a(0x183)](updateTestRerunConfig,_0x3a1d50,_0x4be329);const _0x8de82f=fs[_0x464a6a(0x1c0)](_0x304e76);fs['writeFileSync'](_0x3a1d50['runner'],_0x464a6a(0x10b)+_0x8de82f+_0x464a6a(0x107)+_0x4be329[_0x464a6a(0x160)][_0x464a6a(0x1ce)]['length']+_0x464a6a(0x19c)),logger[_0x464a6a(0xfb)](_0x464a6a(0x18a)+_0x34f7e0+_0x464a6a(0x1b4)),fs['writeFileSync'](_0x34f7e0,_0x464a6a(0x12c)+JSON[_0x464a6a(0x103)](_0x3a1d50)+'\x0amodule.exports\x20=\x20config;');if(_0x2549ac[_0x464a6a(0x190)]()){logger[_0x464a6a(0x10a)](_0x784214[_0x464a6a(0x172)]);const _0x53f65e=await _0x2549ac[_0x464a6a(0x1cf)](_0x3a1d50,_0x191706[_0x464a6a(0x187)](0x1),_0x34f7e0);logger['debug'](_0x464a6a(0x1c2)+JSON[_0x464a6a(0x103)](_0x53f65e)+'\x20test\x20files\x20to\x20run.');const _0x37a65c=await _0x2549ac[_0x464a6a(0x182)](_0x53f65e);logger[_0x464a6a(0x10a)]('Reodered\x20Test\x20Files:\x20'+JSON[_0x464a6a(0x103)](_0x37a65c)),_0x37a65c&&_0x784214[_0x464a6a(0x147)](_0x37a65c[_0x464a6a(0x159)],0x0)&&(process[_0x464a6a(0x19d)][_0x464a6a(0x1b0)]=_0x37a65c?.['join'](','));}logger[_0x464a6a(0xfb)](_0x784214[_0x464a6a(0x18c)]);testhubUtils[_0x464a6a(0x101)]()&&TestDetails[_0x464a6a(0x12d)]();helper[_0x464a6a(0x11c)]({},_0x191706),PerformanceTester['end'](PerformanceEvents['SDK_SETUP']);const _0x2d4efc=_0x784214[_0x464a6a(0x1a5)](spawn,_0x784214[_0x464a6a(0x1b9)],[_0x784214[_0x464a6a(0x109)],_0x784214['iqRhP'],_0x34f7e0,..._0x191706[_0x464a6a(0x187)](0x1)],{'shell':_0x784214[_0x464a6a(0x17d)](process['platform'],_0x784214[_0x464a6a(0x12b)]),'stdio':_0x784214[_0x464a6a(0x128)],'env':Object[_0x464a6a(0x178)]({},process['env'])});_0x2d4efc['on'](_0x784214[_0x464a6a(0x110)],async _0xbf8989=>{const _0x3ffcd3=_0x464a6a;PerformanceTester[_0x3ffcd3(0x14f)](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0x10b552,tcgConfigPath:_0x2a977e}=helper[_0x3ffcd3(0x194)]();fs[_0x3ffcd3(0x16f)](_0x2a977e),fs['rmdirSync'](_0x10b552);}catch(_0xf9c1de){logger[_0x3ffcd3(0x10a)](_0x784214[_0x3ffcd3(0x130)],_0xf9c1de);}process[_0x3ffcd3(0x1ac)]=_0xbf8989,logger[_0x3ffcd3(0x10a)]('child\x20process\x20exited\x20with\x20code\x20'+_0xbf8989),logger[_0x3ffcd3(0xfb)](_0x3ffcd3(0x153)+_0x34f7e0);if(helper['isNotUndefined'](_0x2a5d7f)&&helper[_0x3ffcd3(0x105)](_0x2a5d7f[_0x3ffcd3(0x150)])&&fs[_0x3ffcd3(0x13d)](_0x2a5d7f[_0x3ffcd3(0x150)][_0x3ffcd3(0x184)]))try{const _0x96b0cb={};_0x96b0cb[_0x3ffcd3(0x1c4)]=!![],_0x96b0cb[_0x3ffcd3(0x12e)]=!![],fs[_0x3ffcd3(0x116)](_0x2a5d7f['abortBuildOnFailure'][_0x3ffcd3(0x184)],_0x96b0cb),logger[_0x3ffcd3(0x10a)](_0x3ffcd3(0x114)+_0x2a5d7f[_0x3ffcd3(0x150)][_0x3ffcd3(0x184)]);}catch(_0x55d746){logger[_0x3ffcd3(0x16a)](_0x3ffcd3(0x1bd)+_0x55d746);}let _0x2adc50=null;if(fs[_0x3ffcd3(0x13d)](_0x5702d6)){_0x2adc50=fs[_0x3ffcd3(0x1c0)](_0x5702d6);try{_0x2adc50=JSON['parse'](_0x2adc50);}catch(_0x271357){logger[_0x3ffcd3(0x10a)]('Error\x20while\x20parsing\x20'+_0x5702d6+',\x20'+_0x2adc50+'\x20:\x20'+_0x271357);}fs[_0x3ffcd3(0x16f)](_0x5702d6);}fs[_0x3ffcd3(0x16f)](_0x34f7e0),fs[_0x3ffcd3(0x16f)](_0x1d7d3b),_0x2adc50&&(_0x4be329['errorMessage']=helper[_0x3ffcd3(0x1c7)](_0x2adc50,_0x784214[_0x3ffcd3(0x109)],_0x4be329));try{await TestHubHandler[_0x3ffcd3(0x1ae)](),await BrowserstackCLI['getInstance']()[_0x3ffcd3(0x1ae)]();}catch(_0x2f75dd){console['log'](_0x2f75dd),_0x784214[_0x3ffcd3(0x17a)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20'+util[_0x3ffcd3(0x177)](_0x2f75dd));}testOpsHelper[_0x3ffcd3(0x181)](),TestDetails['shutdown'](),await utilities['finalExecution'](_0x4be329);});}module[a14_0x4b279c(0x125)]=run;