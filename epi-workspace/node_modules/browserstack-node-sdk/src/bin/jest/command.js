#!/usr/bin/env node
'use strict';const a14_0x5a92fd=a14_0x487b;(function(_0x299b66,_0x286ed3){const _0x59b918=a14_0x487b,_0x1a3c85=_0x299b66();while(!![]){try{const _0x23eeb2=parseInt(_0x59b918(0x20a))/0x1+parseInt(_0x59b918(0x20d))/0x2*(parseInt(_0x59b918(0x1cc))/0x3)+-parseInt(_0x59b918(0x1d3))/0x4+-parseInt(_0x59b918(0x1a1))/0x5*(parseInt(_0x59b918(0x171))/0x6)+-parseInt(_0x59b918(0x214))/0x7*(parseInt(_0x59b918(0x1fa))/0x8)+-parseInt(_0x59b918(0x144))/0x9*(-parseInt(_0x59b918(0x1b1))/0xa)+parseInt(_0x59b918(0x1fb))/0xb*(parseInt(_0x59b918(0x198))/0xc);if(_0x23eeb2===_0x286ed3)break;else _0x1a3c85['push'](_0x1a3c85['shift']());}catch(_0x21207f){_0x1a3c85['push'](_0x1a3c85['shift']());}}}(a14_0x445a,0x332b5));const fs=require('fs'),path=require(a14_0x5a92fd(0x1ae)),util=require(a14_0x5a92fd(0x188)),{spawn}=require(a14_0x5a92fd(0x140)),logger=require(a14_0x5a92fd(0x1ef))[a14_0x5a92fd(0x166)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a14_0x5a92fd(0x1da)),utilities=require(a14_0x5a92fd(0x145)),constants=require(a14_0x5a92fd(0x150)),accessibilityHelper=require(a14_0x5a92fd(0x164)),{updateTestRerunConfig}=require(a14_0x5a92fd(0x169)),testOpsHelper=require(a14_0x5a92fd(0x191)),{debug}=require('../../helpers/test-observability/utils'),TestDetails=require(a14_0x5a92fd(0x167)),{getPercyOptions}=require(a14_0x5a92fd(0x155)),TestHubHandler=require(a14_0x5a92fd(0x1ed)),testhubUtils=require(a14_0x5a92fd(0x195)),{FRAMEWORKS}=require(a14_0x5a92fd(0x17e)),PerformanceTester=require(a14_0x5a92fd(0x20b)),PerformanceEvents=require(a14_0x5a92fd(0x1dc))[a14_0x5a92fd(0x158)],TestOrchestrationHandler=require(a14_0x5a92fd(0x1ec)),BrowserstackCLI=require(a14_0x5a92fd(0x1c6)),{checkPwandBootstrapCli}=require('../../helpers/playwright-helper'),ClientTroubleShootingService=require(a14_0x5a92fd(0x15c)),getUserJestConfigs=async(_0x48571f,_0x3ccb1f)=>{const _0x4d73c8=a14_0x5a92fd,_0x55678c={'XdNrK':_0x4d73c8(0x14d),'PXhdn':_0x4d73c8(0x209),'XwrMx':function(_0x3d43c3,_0x5ecd96){return _0x3d43c3||_0x5ecd96;},'venFO':function(_0x5c86e2,_0x176f79){return _0x5c86e2(_0x176f79);},'SrOrk':_0x4d73c8(0x165),'wXlro':_0x4d73c8(0x1ba),'ksBBe':'mjs','RLVQQ':_0x4d73c8(0x1a0),'STyAx':_0x4d73c8(0x208)},_0xff09f4=helper[_0x4d73c8(0x1d5)](_0x55678c[_0x4d73c8(0x17b)],_0x55678c[_0x4d73c8(0x1e9)]),_0x5289b5=_0x3ccb1f['findIndex'](_0x560c98=>_0x560c98===_0x4d73c8(0x1a7));if(!helper[_0x4d73c8(0x178)](_0x48571f['config'])){logger[_0x4d73c8(0x1ca)](_0x4d73c8(0x142)+_0x48571f[_0x4d73c8(0x1a8)]),process[_0x4d73c8(0x1f0)][_0x4d73c8(0x182)]=_0x48571f[_0x4d73c8(0x1a8)];const _0x556614=await(0x0,_0xff09f4[_0x4d73c8(0x18a)])(path['resolve'](_0x48571f[_0x4d73c8(0x1a8)]));return _0x3ccb1f[_0x4d73c8(0x1ea)](_0x5289b5,0x2),_0x55678c[_0x4d73c8(0x1bf)](_0x556614,{});}const _0x332553=_0x55678c[_0x4d73c8(0x15d)](require,path[_0x4d73c8(0x20e)](process[_0x4d73c8(0x14f)](),_0x55678c[_0x4d73c8(0x203)]));if(_0x332553[_0x4d73c8(0x15b)])return logger[_0x4d73c8(0x1ca)](_0x55678c[_0x4d73c8(0x18f)]),_0x332553[_0x4d73c8(0x15b)];const _0x54121e=['js',_0x55678c[_0x4d73c8(0x168)],_0x55678c[_0x4d73c8(0x1ac)],_0x55678c[_0x4d73c8(0x141)],'ts'];for(const _0x1dd8d7 of _0x54121e){const _0x4f9478=path[_0x4d73c8(0x20e)](process[_0x4d73c8(0x14f)](),_0x4d73c8(0x163)+_0x1dd8d7);if(fs[_0x4d73c8(0x1f5)](_0x4f9478)){process[_0x4d73c8(0x1f0)][_0x4d73c8(0x182)]=_0x4f9478;const _0x4ef18b=await(0x0,_0xff09f4[_0x4d73c8(0x18a)])(_0x4f9478);return _0x4ef18b;}}return{};},getSerial=(_0x2ca931,_0x5db491)=>{const _0x5bed83=a14_0x5a92fd,_0x1221ff={};_0x1221ff[_0x5bed83(0x1a9)]=_0x5bed83(0x156),_0x1221ff['Pfwpx']=function(_0x4a8fd3,_0x4e1ec7){return _0x4a8fd3>_0x4e1ec7;},_0x1221ff[_0x5bed83(0x1f2)]='false';const _0x51f22f=_0x1221ff;let _0x28669f=_0x51f22f[_0x5bed83(0x1a9)];return _0x51f22f['Pfwpx'](_0x2ca931[_0x5bed83(0x1e2)],0x1)&&(!_0x5db491['runInBand']&&(helper[_0x5bed83(0x178)](_0x5db491[_0x5bed83(0x1c9)])||_0x51f22f['Pfwpx'](_0x5db491[_0x5bed83(0x1c9)],0x1)))&&(_0x28669f=_0x51f22f['eHeaa']),_0x28669f;},getMaxWorkers=(_0x3614e6,_0x375c53,_0xedd838)=>{const _0x378f98=a14_0x5a92fd,_0x3a9cb9={'htRkr':function(_0x37fe0a,_0x3dec32){return _0x37fe0a(_0x3dec32);}};let _0x2238f5=0x1;if(!helper['isUndefined'](_0x375c53[_0x378f98(0x212)]))_0x2238f5=_0x3a9cb9['htRkr'](parseInt,_0x375c53[_0x378f98(0x212)]);else{if(!helper['isUndefined'](_0x3614e6['maxWorkers']))_0x2238f5=_0x3614e6['maxWorkers'];else!helper[_0x378f98(0x178)](_0xedd838[_0x378f98(0x1c9)])&&(_0x2238f5=_0xedd838[_0x378f98(0x1c9)]);}return _0x2238f5;};function a14_0x445a(){const _0x437cc6=['customCircus.js','workingDir','jest-config/build/readConfigFileAndSetRootDir.js','apply','cwd','../utils/constants','serial__','BIwKN','xrONE','parallels__','../../helpers/percy/utils','true','rmSync','EVENTS','setupTCGAuth','lVFmB','jest','../utils/clientTroubleshootingService','venFO','BSTACK_JEST_TEST_ENV','push','browserStackPercyOptions','Creating\x20','shouldProcessEventForTesthub','jest.config.','../../helpers/accessibility-automation/helper','package.json','winstonLogger','./test-observability/test-details','ksBBe','./test-observability/helper','tQMjm','rmdirSync','pzviW','testSequencer','JEST_TEST_ORDER','filterBrowserstackArgs','platforms','1170qplORC','log','jest_browserstack.config.js','QBBNx','force','debug','SFvsg','isUndefined','aFacW','lugmK','XdNrK','printBuildLink','Reodered\x20Test\x20Files:\x20','../../helpers/test-observability/constants','capabilities','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','USER_CONFIG_DETAILS_PATH','getPackageType','getPackageVersion','prepareCapabilities','assign','isNotUndefined','util','Unable\x20to\x20find\x20jest-circus,\x20','default','win32','isRunning','testTimeout','stringify','wXlro','npx','../../helpers/test-observability/utils','customTestRunnerTemplate.js','taYmX','stop','../../helpers/testhub/utils','gQIrk','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','344220dUNpUK','setup','testContextOptions','format','MKDtl','ScZAS','skipSessionStatus','NSRFL','cjs','5165YrJNTO','logLevel','\x20with\x20browserstack\x20jest\x20configs','SOqbD','\x0a\x20\x20\x20\x20','uslXW','--config','config','TDeMR','XcMeO','exports','RLVQQ','turboScaleUrl','path','rQjwj','jest_browserstack_results.json','109430IeZkIh','slice','reporters','accessibilityOptions','@playwright/test','Found:\x20','\x0amodule.exports\x20=\x20config;','FRAMEWORKS','close','Getting\x20your\x20jest\x20configs\x20from\x20package.json','abortBuildOnFailure','requirePWModule','sVoeb','eZkrD','XwrMx','playwright','skipSessionName','\x20:\x20','testObservability','shutdown','UEQAC','../v2/browserstackCLI','isBrowserstackInfra','runner','maxWorkers','info','start','3837tjbjjY','gHwTX','rkZSd','Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20','writeFileSync','testEnvironment','initialize','1052952PWVEjn','Deleted\x20fail-fast\x20state\x20folder:\x20','requireModule','maxRetries','Deleting\x20','getTCGConfigFilePaths','RlTYd','../../helpers/helper','nGkCN','../../helpers/performance/constants','SnRdv','PbmKH','getInstance',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','retryTestsOnFailure','length','PACKAGE_TYPE','SDK_SETUP','UCBzm','maxFailures','__isPlaywrightInstalled','failFast','PXhdn','splice','testEnvironmentOptions','../../helpers/test-orchestration/testOrchestrationHandler','../../helpers/testhub/testhubHandler','jest_browserstack.config.cjs','../../helpers/logger','env','reorderTestFiles','eHeaa','isEmpty','readFileSync','existsSync','data-hooks.js','const\x20config=','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','CZOnU','8qVHluz','286ohzTuf','setupFilesAfterEnv','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','launchBuild','testRunner','platformCaps','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','\x20test\x20files\x20to\x20run.','SrOrk','unlinkSync','customImplements','SDK_CLEANUP','rAOPd','json','jest-config','8655bwGXgQ','../../helpers/performance/performance-tester','error','326MawjQb','join','DsHJT','end','exitCode','parallelsPerPlatform','timeout__','2097361CDkqby','customTestRunner.js','parseTestOrchestrationOptions','getErrorMessageFromResults','findTestFiles','setupFiles','isTestOrchestrationEnabled','ktCmU','mjvEa','child_process','STyAx','Getting\x20your\x20jest\x20configs\x20from\x20','proxySettings','9pZdIkW','../../helpers/utilities','inherit','useW3C','browserStackLogLevel','Error\x20while\x20parsing\x20','test.setup.js'];a14_0x445a=function(){return _0x437cc6;};return a14_0x445a();}function a14_0x487b(_0x598438,_0x537cb6){const _0x445aa4=a14_0x445a();return a14_0x487b=function(_0x487b39,_0x15c9e0){_0x487b39=_0x487b39-0x13e;let _0x45fa90=_0x445aa4[_0x487b39];return _0x45fa90;},a14_0x487b(_0x598438,_0x537cb6);}async function run(_0x25f768,_0x1e1b65,_0xd52c93){const _0x103761=a14_0x5a92fd,_0x553e48={'PbmKH':'error\x20removing\x20tcg\x20config\x20file','gQIrk':'jest','taYmX':function(_0x3a5a2e,_0x5dafb4){return _0x3a5a2e(_0x5dafb4);},'aFacW':_0x103761(0x1b5),'SOqbD':function(_0x245374,_0x509f01,_0x161d80,_0x45f4df){return _0x245374(_0x509f01,_0x161d80,_0x45f4df);},'UCBzm':function(_0x7d888d,_0x3e2fbf){return _0x7d888d!=_0x3e2fbf;},'lugmK':'true','tQMjm':function(_0x964f2,_0x5b1ed4,_0x79296f){return _0x964f2(_0x5b1ed4,_0x79296f);},'SnRdv':_0x103761(0x197),'BIwKN':function(_0x5461a2,_0x195f33){return _0x5461a2(_0x195f33);},'sVoeb':function(_0x302a31,_0x2975f2,_0x258f9c,_0x3464e1){return _0x302a31(_0x2975f2,_0x258f9c,_0x3464e1);},'ScZAS':function(_0x361595,_0x45fd39){return _0x361595*_0x45fd39;},'QBBNx':function(_0x491f67,_0x45ed22){return _0x491f67===_0x45ed22;},'ktCmU':_0x103761(0x1ee),'MKDtl':_0x103761(0x173),'rAOPd':_0x103761(0x205),'ZChla':_0x103761(0x1b0),'PNbgs':_0x103761(0x215),'SFvsg':_0x103761(0x192),'rkZSd':'customEnvironment.js','DsHJT':'jest.setup.js','YkYgq':'customSequencer.js','NSRFL':_0x103761(0x1f8),'XcMeO':'jest-circus','gHwTX':'test-observability','nGkCN':_0x103761(0x1f6),'pPLFA':_0x103761(0x14b),'mjvEa':'test_before.setup.js','UzHyN':_0x103761(0x181),'uslXW':_0x103761(0x1c0),'pzviW':'Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','rQjwj':_0x103761(0x14a),'UEQAC':'Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','Vburh':_0x103761(0x18a),'eZkrD':'Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','gdTIG':function(_0x387b93,_0x20a1ac){return _0x387b93>_0x20a1ac;},'CZOnU':_0x103761(0x1fd),'lVFmB':_0x103761(0x190),'xrONE':_0x103761(0x1a7),'RlTYd':_0x103761(0x18b),'IoNYH':_0x103761(0x146),'aIbNT':_0x103761(0x1b9)},_0x4d82e6=helper[_0x103761(0x184)](_0x553e48[_0x103761(0x179)]);global[_0x103761(0x1e7)]=!!_0x4d82e6;helper[_0x103761(0x1c7)]()?(await _0xd52c93[_0x103761(0x1d2)](_0x25f768),await helper['handleApp'](_0xd52c93['config'])):await _0xd52c93[_0x103761(0x159)]();await _0x553e48[_0x103761(0x1a4)](checkPwandBootstrapCli,_0x4d82e6,constants[_0x103761(0x1b8)]['JEST'],_0xd52c93);if(!_0xd52c93[_0x103761(0x1a8)])return;_0x553e48[_0x103761(0x1e5)](_0xd52c93[_0x103761(0x1a8)][_0x103761(0x1c3)],null)?process[_0x103761(0x1f0)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0xd52c93[_0x103761(0x1a8)][_0x103761(0x1c3)]:process[_0x103761(0x1f0)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x553e48[_0x103761(0x17a)];const _0x46f098=new TestOrchestrationHandler(_0xd52c93[_0x103761(0x1a8)]),_0x5db193=await _0x553e48[_0x103761(0x16a)](getUserJestConfigs,_0x25f768,_0x1e1b65);logger[_0x103761(0x1ca)](_0x553e48[_0x103761(0x1dd)]);const _0x482109=Object[_0x103761(0x186)]({},_0x5db193);_0x482109['testEnvironmentOptions']=Object[_0x103761(0x186)]({},_0x482109['testEnvironmentOptions'],{'server':helper['getHubUrl'](_0xd52c93[_0x103761(0x1a8)]),'environment':_0x5db193[_0x103761(0x1d1)]}),_0x482109['testEnvironmentOptions'][_0x103761(0x160)]=_0x553e48[_0x103761(0x152)](getPercyOptions,_0xd52c93[_0x103761(0x1a8)]);const _0xced76c=helper[_0x103761(0x147)](_0xd52c93[_0x103761(0x1a8)]);!helper[_0x103761(0x178)](_0xd52c93[_0x103761(0x1a8)][_0x103761(0x1b4)])&&(process['env'][_0x103761(0x180)]=JSON['stringify'](_0xd52c93[_0x103761(0x1a8)][_0x103761(0x1b4)]));if(!BrowserstackCLI[_0x103761(0x1df)]()[_0x103761(0x18c)]()){const _0x4b0aa6=await TestHubHandler[_0x103761(0x1fe)](FRAMEWORKS['JEST'],_0xd52c93);}const _0xc3c809=helper[_0x103761(0x185)](_0xd52c93['config'],_0xced76c,constants[_0x103761(0x1b8)]['JEST']);process[_0x103761(0x1f0)]['BROWSERSTACK_CAPABILITIES']=JSON[_0x103761(0x18e)](_0xc3c809);let _0x3e2bb8=_0xd52c93[_0x103761(0x1a8)]['accessibility'];_0x3e2bb8=_0x3e2bb8||accessibilityHelper['checkAccessibilityPlatformConfig'](_0xd52c93[_0x103761(0x1a8)]),process[_0x103761(0x1f0)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x3e2bb8,_0x482109[_0x103761(0x1eb)][_0x103761(0x17f)]=_0xc3c809,_0x482109[_0x103761(0x1eb)][_0x103761(0x151)]=_0x553e48[_0x103761(0x16a)](getSerial,_0xc3c809,_0x25f768),_0x482109['testEnvironmentOptions'][_0x103761(0x154)]=_0x553e48[_0x103761(0x1bd)](getMaxWorkers,_0x25f768,_0xd52c93['config'],_0x5db193),_0x482109['testEnvironmentOptions'][_0x103761(0x143)]=_0xd52c93[_0x103761(0x1a8)][_0x103761(0x143)],_0x482109[_0x103761(0x1eb)][_0x103761(0x213)]=_0x553e48[_0x103761(0x19d)](_0x25f768[_0x103761(0x18d)],0x1)||0x1388,_0x482109[_0x103761(0x1eb)][_0x103761(0x1c1)]=_0xd52c93[_0x103761(0x1a8)][_0x103761(0x19a)][_0x103761(0x1c1)],_0x482109[_0x103761(0x1eb)][_0x103761(0x19e)]=_0xd52c93[_0x103761(0x1a8)][_0x103761(0x19a)][_0x103761(0x19e)],_0x482109['testEnvironmentOptions'][_0x103761(0x148)]=_0xd52c93[_0x103761(0x1a8)][_0x103761(0x1a2)],_0x482109[_0x103761(0x1eb)][_0x103761(0x1ad)]=_0xd52c93[_0x103761(0x1a8)][_0x103761(0x1ad)],_0x482109['testEnvironmentOptions'][_0x103761(0x200)]=_0xd52c93[_0x103761(0x1a8)][_0x103761(0x170)];const _0xfc3b60=helper[_0x103761(0x216)](_0xd52c93[_0x103761(0x1a8)]);if(!helper[_0x103761(0x1f3)](_0xfc3b60)){helper['isNotUndefined'](_0xfc3b60[_0x103761(0x1e1)])&&(_0x482109[_0x103761(0x1eb)]['retries__']=_0xfc3b60[_0x103761(0x1e1)][_0x103761(0x1d6)]);if(helper[_0x103761(0x187)](_0xfc3b60[_0x103761(0x1bb)])&&helper[_0x103761(0x187)](_0xfc3b60[_0x103761(0x1bb)][_0x103761(0x14c)])){const _0x5e289f={};_0x5e289f['failureThresholdCount']=_0xfc3b60[_0x103761(0x1bb)][_0x103761(0x1e6)],_0x5e289f[_0x103761(0x14c)]=_0xfc3b60[_0x103761(0x1bb)][_0x103761(0x14c)],_0x482109['testEnvironmentOptions'][_0x103761(0x1e8)]=_0x5e289f;}}let _0x46c3db='';_0x553e48[_0x103761(0x174)](helper[_0x103761(0x183)](),constants[_0x103761(0x1e3)]['MODULE'])?_0x46c3db=_0x553e48[_0x103761(0x13e)]:_0x46c3db=_0x553e48[_0x103761(0x19c)];const _0x28f770=_0x46c3db,_0x34b87=path[_0x103761(0x20e)](__dirname,_0x553e48[_0x103761(0x207)],_0x553e48['ZChla']),_0x1ce751=path['join'](__dirname,_0x553e48[_0x103761(0x207)],_0x553e48['PNbgs']),_0x1f0c33=path[_0x103761(0x20e)](__dirname,_0x553e48['rAOPd'],_0x553e48[_0x103761(0x177)]);_0x482109[_0x103761(0x1d1)]&&(process[_0x103761(0x1f0)][_0x103761(0x15e)]=_0x482109[_0x103761(0x1d1)]);_0x482109['testEnvironment']=path[_0x103761(0x20e)](__dirname,_0x553e48[_0x103761(0x207)],_0x553e48[_0x103761(0x1ce)]),_0x482109[_0x103761(0x1c8)]=_0x1ce751,_0x482109['setupFilesAfterEnv']=_0x482109[_0x103761(0x1fc)]||[],_0x482109[_0x103761(0x1fc)][_0x103761(0x15f)](path[_0x103761(0x20e)](__dirname,_0x553e48[_0x103761(0x20f)]));_0x46f098[_0x103761(0x21a)]()&&(_0x482109[_0x103761(0x16d)]=path['join'](__dirname,_0x553e48[_0x103761(0x207)],_0x553e48['YkYgq']));if(testhubUtils[_0x103761(0x162)]()){let _0x37632b=null;try{_0x37632b=helper['requireModule'](_0x553e48[_0x103761(0x19f)],_0x553e48[_0x103761(0x1aa)]);}catch(_0x10187f){_0x553e48[_0x103761(0x152)](debug,_0x103761(0x189)+_0x10187f);}_0x37632b&&(_0x482109['setupFilesAfterEnv'][_0x103761(0x15f)](path['join'](__dirname,_0x553e48[_0x103761(0x1cd)],_0x553e48[_0x103761(0x1db)])),_0x482109[_0x103761(0x1ff)]=path['join'](__dirname,_0x553e48[_0x103761(0x207)],_0x553e48['pPLFA']));}_0x482109[_0x103761(0x219)]=_0x482109['setupFiles']||[];try{helper['requireSeleniumWebdriver'](),_0x482109[_0x103761(0x219)][_0x103761(0x15f)](path[_0x103761(0x20e)](__dirname,_0x553e48[_0x103761(0x13f)]));}catch{logger[_0x103761(0x176)](_0x553e48['UzHyN']);}try{helper[_0x103761(0x1bc)][_0x103761(0x14e)](null,[_0x553e48[_0x103761(0x179)],_0x553e48[_0x103761(0x1a6)]]),logger[_0x103761(0x176)](_0x553e48[_0x103761(0x16c)]),_0x482109[_0x103761(0x219)][_0x103761(0x15f)](path['join'](__dirname,_0x553e48[_0x103761(0x1af)]));}catch(_0x148803){logger[_0x103761(0x176)](_0x553e48[_0x103761(0x1c5)],_0x148803);}_0x482109[_0x103761(0x1b3)]=_0x482109[_0x103761(0x1b3)]||[_0x553e48['Vburh']],_0x553e48[_0x103761(0x16a)](updateTestRerunConfig,_0x482109,_0xd52c93);const _0x3ddda2=fs[_0x103761(0x1f4)](_0x1f0c33);fs[_0x103761(0x1d0)](_0x482109[_0x103761(0x1c8)],_0x103761(0x1a5)+_0x3ddda2+'\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20'+_0xd52c93[_0x103761(0x1a8)][_0x103761(0x170)][_0x103761(0x1e2)]+_0x103761(0x1e0)),logger[_0x103761(0x1ca)](_0x103761(0x161)+_0x28f770+_0x103761(0x1a3)),fs[_0x103761(0x1d0)](_0x28f770,_0x103761(0x1f7)+JSON[_0x103761(0x18e)](_0x482109)+_0x103761(0x1b7));if(_0x46f098[_0x103761(0x21a)]()){logger[_0x103761(0x176)](_0x553e48[_0x103761(0x1be)]);const _0x46f89d=await _0x46f098[_0x103761(0x218)](_0x482109,_0x1e1b65[_0x103761(0x1b2)](0x1),_0x28f770);logger['debug'](_0x103761(0x1b6)+JSON[_0x103761(0x18e)](_0x46f89d)+_0x103761(0x202));const _0x256a77=await _0x46f098[_0x103761(0x1f1)](_0x46f89d);logger[_0x103761(0x176)](_0x103761(0x17d)+JSON['stringify'](_0x256a77)),_0x256a77&&_0x553e48['gdTIG'](_0x256a77[_0x103761(0x1e2)],0x0)&&(process['env'][_0x103761(0x16e)]=_0x256a77?.[_0x103761(0x20e)](','));}logger[_0x103761(0x1ca)](_0x553e48[_0x103761(0x1f9)]);testhubUtils[_0x103761(0x162)]()&&TestDetails[_0x103761(0x199)]();helper[_0x103761(0x16f)]({},_0x1e1b65),PerformanceTester[_0x103761(0x210)](PerformanceEvents[_0x103761(0x1e4)]);const _0x5b2bff=_0x553e48['SOqbD'](spawn,_0x553e48[_0x103761(0x15a)],[_0x553e48['gQIrk'],_0x553e48[_0x103761(0x153)],_0x28f770,..._0x1e1b65[_0x103761(0x1b2)](0x1)],{'shell':_0x553e48[_0x103761(0x174)](process['platform'],_0x553e48[_0x103761(0x1d9)]),'stdio':_0x553e48['IoNYH'],'env':Object['assign']({},process[_0x103761(0x1f0)])});_0x5b2bff['on'](_0x553e48['aIbNT'],async _0x788b62=>{const _0x13b11b=_0x103761;PerformanceTester[_0x13b11b(0x1cb)](PerformanceEvents[_0x13b11b(0x206)]);try{const {browserstackFolderPath:_0x159234,tcgConfigPath:_0x324e22}=helper[_0x13b11b(0x1d8)]();fs[_0x13b11b(0x204)](_0x324e22),fs[_0x13b11b(0x16b)](_0x159234);}catch(_0x261863){logger[_0x13b11b(0x176)](_0x553e48[_0x13b11b(0x1de)],_0x261863);}process[_0x13b11b(0x211)]=_0x788b62,logger[_0x13b11b(0x176)]('child\x20process\x20exited\x20with\x20code\x20'+_0x788b62),logger[_0x13b11b(0x1ca)](_0x13b11b(0x1d7)+_0x28f770);if(helper[_0x13b11b(0x187)](_0xfc3b60)&&helper[_0x13b11b(0x187)](_0xfc3b60[_0x13b11b(0x1bb)])&&fs[_0x13b11b(0x1f5)](_0xfc3b60[_0x13b11b(0x1bb)][_0x13b11b(0x14c)]))try{const _0x1d6790={};_0x1d6790['recursive']=!![],_0x1d6790[_0x13b11b(0x175)]=!![],fs[_0x13b11b(0x157)](_0xfc3b60[_0x13b11b(0x1bb)][_0x13b11b(0x14c)],_0x1d6790),logger['debug'](_0x13b11b(0x1d4)+_0xfc3b60[_0x13b11b(0x1bb)][_0x13b11b(0x14c)]);}catch(_0x24a47a){logger[_0x13b11b(0x20c)](_0x13b11b(0x201)+_0x24a47a);}let _0x59ce58=null;if(fs[_0x13b11b(0x1f5)](_0x34b87)){_0x59ce58=fs['readFileSync'](_0x34b87);try{_0x59ce58=JSON['parse'](_0x59ce58);}catch(_0x188e9f){logger[_0x13b11b(0x176)](_0x13b11b(0x149)+_0x34b87+',\x20'+_0x59ce58+_0x13b11b(0x1c2)+_0x188e9f);}fs['unlinkSync'](_0x34b87);}fs[_0x13b11b(0x204)](_0x28f770),fs['unlinkSync'](_0x1ce751),_0x59ce58&&(_0xd52c93['errorMessage']=helper[_0x13b11b(0x217)](_0x59ce58,_0x553e48[_0x13b11b(0x196)],_0xd52c93)),testOpsHelper[_0x13b11b(0x17c)](),TestDetails[_0x13b11b(0x1c4)]();try{await TestHubHandler[_0x13b11b(0x194)](),await BrowserstackCLI[_0x13b11b(0x1df)]()[_0x13b11b(0x194)]();}catch(_0x2c3cfd){console[_0x13b11b(0x172)](_0x2c3cfd),_0x553e48[_0x13b11b(0x193)](debug,_0x13b11b(0x1cf)+util[_0x13b11b(0x19b)](_0x2c3cfd));}await utilities['finalExecution'](_0xd52c93);});}module[a14_0x5a92fd(0x1ab)]=run;