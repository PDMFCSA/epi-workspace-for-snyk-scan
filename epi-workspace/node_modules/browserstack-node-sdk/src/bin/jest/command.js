#!/usr/bin/env node
'use strict';const a14_0x3c322f=a14_0x9ba8;function a14_0x4c67(){const _0x51de36=['../../helpers/helper','isBrowserstackInfra','testEnvironmentOptions','rHOqZ','npx','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','default','false','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','BROWSERSTACK_TEST_ACCESSIBILITY_YML','getPackageType','\x0a\x20\x20\x20\x20','push','unlinkSync','rQnbq','stop','Found:\x20','data-hooks.js','Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20','finalExecution','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','browserStackPercyOptions','GeJjb','log','platformCaps','json','4wblvvE','Getting\x20your\x20jest\x20configs\x20from\x20','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','../../helpers/utilities','Xfuwz','../../helpers/percy/utils','PACKAGE_TYPE','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','parallels__','shutdown','KkjHS','BUmTw','maxFailures','rmdirSync','test_before.setup.js','Unable\x20to\x20find\x20jest-circus,\x20','win32','\x20with\x20browserstack\x20jest\x20configs','GtaYg','BSTACK_JEST_TEST_ENV','VPGcQ','assign','hvTlg','jest.config.','16SyWeQv','HfRAv','testContextOptions','167877EfXWvm','isNotUndefined','./test-observability/helper','jest_browserstack.config.cjs','testObservability','85004gjszvI','true','JEST_TEST_ORDER','RyJmd','nxtYb','shouldProcessEventForTesthub','requireSeleniumWebdriver','testSequencer','stringify','zsjqz','wrabv','printBuildLink','customSequencer.js','806665XDvoQz','useW3C','testEnvironment','PYZEZ','isEmpty','jest-config','setupTCGAuth','INeCS','Getting\x20your\x20jest\x20configs\x20from\x20package.json','skipSessionName','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','customImplements','FDUeV','\x0amodule.exports\x20=\x20config;','USER_CONFIG_DETAILS_PATH','../utils/constants','launchBuild','Error\x20while\x20parsing\x20','proxySettings','reorderTestFiles','retries__','isTestOrchestrationEnabled','timeout__','join','SHUYz','length','CsZAH','reporters','ZlOrq','lQkXA','MODULE','Creating\x20','slice','LfloC','../../helpers/test-observability/utils','findTestFiles','getHubUrl','winstonLogger','setupFilesAfterEnv','KUiYE','capabilities','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','xfCqx','env','const\x20config=','../../helpers/performance/performance-tester','WxPPJ','accessibilityOptions','jest_browserstack_results.json','Deleting\x20','Reodered\x20Test\x20Files:\x20','jest-config/build/readConfigFileAndSetRootDir.js','end','platforms','config','OTGsW','FNHcp','runInBand','setupFiles','uCoAq','SDK_CLEANUP','filterBrowserstackArgs','recursive','customTestRunner.js','cwd','resolve','../../helpers/test-observability/constants','readFileSync','debug','child_process','retryTestsOnFailure','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','testTimeout','SDK_SETUP','\x20test\x20files\x20to\x20run.','PkVWo','logLevel','abortBuildOnFailure','../../helpers/BrowserStackSetup','BROWSERSTACK_TEST_OBSERVABILITY_YML','whjBy','customTestRunnerTemplate.js','../../helpers/testhub/testhubHandler','27412SpojrJ','408909EZOKrE','existsSync','212330RuSNAl','workingDir','maxWorkers','getTCGConfigFilePaths','turboScaleUrl','jest-circus','./test-observability/test-details','failFast','customCircus.js','setup','errorMessage','FYnGB','nLaDk','start','testRunner','isUndefined','wbnZp','util','JEST','../../helpers/accessibility-automation/helper','ALECT','customEnvironment.js','error\x20removing\x20tcg\x20config\x20file','jest_browserstack.config.js','runner','rmSync','info','close','gsmrc','browserStackLogLevel','234IkYyra','prepareCapabilities','force','--config','writeFileSync','PFMQb','vPRlF','egNSZ','460874SPlsHE'];a14_0x4c67=function(){return _0x51de36;};return a14_0x4c67();}(function(_0x4dbbff,_0x31cdc3){const _0x342299=a14_0x9ba8,_0xf599a=_0x4dbbff();while(!![]){try{const _0x493683=-parseInt(_0x342299(0x1e0))/0x1+-parseInt(_0x342299(0x269))/0x2+parseInt(_0x342299(0x241))/0x3+-parseInt(_0x342299(0x1c0))/0x4*(-parseInt(_0x342299(0x1ed))/0x5)+-parseInt(_0x342299(0x261))/0x6*(-parseInt(_0x342299(0x240))/0x7)+-parseInt(_0x342299(0x1d8))/0x8*(parseInt(_0x342299(0x1db))/0x9)+parseInt(_0x342299(0x243))/0xa;if(_0x493683===_0x31cdc3)break;else _0xf599a['push'](_0xf599a['shift']());}catch(_0x625d32){_0xf599a['push'](_0xf599a['shift']());}}}(a14_0x4c67,0x1d03e));const fs=require('fs'),path=require('path'),util=require(a14_0x3c322f(0x254)),{spawn}=require(a14_0x3c322f(0x232)),logger=require('../../helpers/logger')[a14_0x3c322f(0x212)],{default:BrowserStackSetup}=require(a14_0x3c322f(0x23b)),helper=require(a14_0x3c322f(0x26a)),utilities=require(a14_0x3c322f(0x1c3)),constants=require(a14_0x3c322f(0x1fc)),accessibilityHelper=require(a14_0x3c322f(0x256)),{updateTestRerunConfig}=require(a14_0x3c322f(0x1dd)),testOpsHelper=require(a14_0x3c322f(0x20f)),{debug}=require(a14_0x3c322f(0x20f)),TestDetails=require(a14_0x3c322f(0x249)),{getPercyOptions}=require(a14_0x3c322f(0x1c5)),TestHubHandler=require(a14_0x3c322f(0x23f)),testhubUtils=require('../../helpers/testhub/utils'),{FRAMEWORKS}=require(a14_0x3c322f(0x22f)),PerformanceTester=require(a14_0x3c322f(0x21a)),PerformanceEvents=require('../../helpers/performance/constants')['EVENTS'],TestOrchestrationHandler=require('../../helpers/test-orchestration/testOrchestrationHandler'),getUserJestConfigs=async(_0xff0e8,_0x18e942)=>{const _0x2ec1a8=a14_0x3c322f,_0x17f63c={'LiyJE':_0x2ec1a8(0x220),'VPGcQ':_0x2ec1a8(0x1f2),'bFUvd':function(_0x4ddfa2,_0x479dbc){return _0x4ddfa2||_0x479dbc;},'KUiYE':function(_0x56e51b,_0x366985){return _0x56e51b(_0x366985);},'egNSZ':'package.json','GtaYg':_0x2ec1a8(0x1f5),'GeJjb':'mjs','whjBy':'cjs','hgxAg':_0x2ec1a8(0x1bf)},_0xf27845=helper['requireModule'](_0x17f63c['LiyJE'],_0x17f63c[_0x2ec1a8(0x1d4)]),_0x5615b5=_0x18e942['findIndex'](_0x57b7fb=>_0x57b7fb===_0x2ec1a8(0x264));if(!helper[_0x2ec1a8(0x252)](_0xff0e8[_0x2ec1a8(0x223)])){logger[_0x2ec1a8(0x25d)](_0x2ec1a8(0x1c1)+_0xff0e8[_0x2ec1a8(0x223)]),process[_0x2ec1a8(0x218)]['USER_CONFIG_DETAILS_PATH']=_0xff0e8[_0x2ec1a8(0x223)];const _0x5a7481=await(0x0,_0xf27845[_0x2ec1a8(0x270)])(path[_0x2ec1a8(0x22e)](_0xff0e8[_0x2ec1a8(0x223)]));return _0x18e942['splice'](_0x5615b5,0x2),_0x17f63c['bFUvd'](_0x5a7481,{});}const _0x2a6259=_0x17f63c[_0x2ec1a8(0x214)](require,path[_0x2ec1a8(0x204)](process[_0x2ec1a8(0x22d)](),_0x17f63c[_0x2ec1a8(0x268)]));if(_0x2a6259['jest'])return logger[_0x2ec1a8(0x25d)](_0x17f63c[_0x2ec1a8(0x1d2)]),_0x2a6259['jest'];const _0x1ccb6b=['js',_0x17f63c[_0x2ec1a8(0x1bc)],_0x17f63c[_0x2ec1a8(0x23d)],_0x17f63c['hgxAg'],'ts'];for(const _0x43b416 of _0x1ccb6b){const _0x7c9e2f=path[_0x2ec1a8(0x204)](process[_0x2ec1a8(0x22d)](),_0x2ec1a8(0x1d7)+_0x43b416);if(fs[_0x2ec1a8(0x242)](_0x7c9e2f)){process[_0x2ec1a8(0x218)][_0x2ec1a8(0x1fb)]=_0x7c9e2f;const _0x217bce=await(0x0,_0xf27845['default'])(_0x7c9e2f);return _0x217bce;}}return{};},getSerial=(_0xf0d739,_0x14f5f4)=>{const _0x8c9582=a14_0x3c322f,_0x2011bf={};_0x2011bf[_0x8c9582(0x217)]=_0x8c9582(0x1e1),_0x2011bf[_0x8c9582(0x205)]=function(_0x413b9e,_0x160fb1){return _0x413b9e>_0x160fb1;},_0x2011bf[_0x8c9582(0x1e4)]=_0x8c9582(0x271);const _0x15d36a=_0x2011bf;let _0x3dbf6f=_0x15d36a['xfCqx'];return _0x15d36a[_0x8c9582(0x205)](_0xf0d739[_0x8c9582(0x206)],0x1)&&(!_0x14f5f4[_0x8c9582(0x226)]&&(helper[_0x8c9582(0x252)](_0x14f5f4['maxWorkers'])||_0x15d36a[_0x8c9582(0x205)](_0x14f5f4[_0x8c9582(0x245)],0x1)))&&(_0x3dbf6f=_0x15d36a[_0x8c9582(0x1e4)]),_0x3dbf6f;},getMaxWorkers=(_0x239e47,_0x2f377e,_0x3808c7)=>{const _0x3e97bb=a14_0x3c322f,_0xcfecbe={'aglcD':function(_0x51eeea,_0x80519){return _0x51eeea(_0x80519);}};let _0x2f20c6=0x1;if(!helper[_0x3e97bb(0x252)](_0x2f377e['parallelsPerPlatform']))_0x2f20c6=_0xcfecbe['aglcD'](parseInt,_0x2f377e['parallelsPerPlatform']);else{if(!helper['isUndefined'](_0x239e47[_0x3e97bb(0x245)]))_0x2f20c6=_0x239e47['maxWorkers'];else!helper[_0x3e97bb(0x252)](_0x3808c7['maxWorkers'])&&(_0x2f20c6=_0x3808c7[_0x3e97bb(0x245)]);}return _0x2f20c6;};async function run(_0x192a95,_0x84a343,_0x1ed406){const _0x14cb6d=a14_0x3c322f,_0x2d2f1b={'ZlOrq':_0x14cb6d(0x259),'uCoAq':'jest','INeCS':function(_0x59a129,_0x100738){return _0x59a129(_0x100738);},'VgSux':function(_0x5f43d4,_0x1fcd38){return _0x5f43d4!=_0x1fcd38;},'wrabv':_0x14cb6d(0x1e1),'wbnZp':function(_0x917c9a,_0x414f2a,_0x566b17){return _0x917c9a(_0x414f2a,_0x566b17);},'gsmrc':_0x14cb6d(0x1c7),'KkjHS':function(_0x4aa543,_0x2f669b){return _0x4aa543(_0x2f669b);},'FDUeV':function(_0x23829e,_0x4b72de,_0x27ce2,_0x24cf55){return _0x23829e(_0x4b72de,_0x27ce2,_0x24cf55);},'RyJmd':function(_0x13e49e,_0x888f13){return _0x13e49e*_0x888f13;},'vPRlF':function(_0x9a21bd,_0x426cde){return _0x9a21bd===_0x426cde;},'WxPPJ':_0x14cb6d(0x1de),'twXFK':_0x14cb6d(0x25a),'lQkXA':_0x14cb6d(0x1f8),'zsjqz':_0x14cb6d(0x21d),'PYZEZ':_0x14cb6d(0x22c),'PJRuI':_0x14cb6d(0x23e),'BUmTw':_0x14cb6d(0x258),'CsZAH':'jest.setup.js','UEsds':_0x14cb6d(0x1ec),'Xfuwz':_0x14cb6d(0x234),'HfRAv':_0x14cb6d(0x248),'LfloC':'test-observability','FNHcp':_0x14cb6d(0x27b),'FYnGB':_0x14cb6d(0x24b),'ALECT':_0x14cb6d(0x1ce),'nLaDk':_0x14cb6d(0x272),'liDZz':_0x14cb6d(0x270),'PkVWo':function(_0x4317fb,_0x22842c,_0x1f856a){return _0x4317fb(_0x22842c,_0x1f856a);},'OTGsW':_0x14cb6d(0x1ba),'gthUU':function(_0x349132,_0x1bf37f){return _0x349132>_0x1bf37f;},'jMCPI':_0x14cb6d(0x1f7),'hvTlg':function(_0x38b99e,_0x295419,_0x581b7a,_0x143a9a){return _0x38b99e(_0x295419,_0x581b7a,_0x143a9a);},'PFMQb':_0x14cb6d(0x26e),'rQnbq':'--config','IEbPw':_0x14cb6d(0x1d0),'rHOqZ':'inherit','rkshs':_0x14cb6d(0x25e)};helper[_0x14cb6d(0x26b)]()?(await _0x1ed406['initialize'](_0x192a95),await helper['handleApp'](_0x1ed406[_0x14cb6d(0x223)])):await _0x1ed406[_0x14cb6d(0x1f3)]();if(!_0x1ed406[_0x14cb6d(0x223)])return;_0x2d2f1b['VgSux'](_0x1ed406[_0x14cb6d(0x223)][_0x14cb6d(0x1df)],null)?process[_0x14cb6d(0x218)][_0x14cb6d(0x23c)]=_0x1ed406['config'][_0x14cb6d(0x1df)]:process[_0x14cb6d(0x218)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x2d2f1b[_0x14cb6d(0x1ea)];const _0x37f3a9=new TestOrchestrationHandler(_0x1ed406[_0x14cb6d(0x223)]),_0x56eebc=await _0x2d2f1b['wbnZp'](getUserJestConfigs,_0x192a95,_0x84a343);logger[_0x14cb6d(0x25d)](_0x2d2f1b[_0x14cb6d(0x25f)]);const _0x54cbae=Object[_0x14cb6d(0x1d5)]({},_0x56eebc);_0x54cbae['testEnvironmentOptions']=Object['assign']({},_0x54cbae[_0x14cb6d(0x26c)],{'server':helper[_0x14cb6d(0x211)](_0x1ed406[_0x14cb6d(0x223)]),'environment':_0x56eebc[_0x14cb6d(0x1ef)]}),_0x54cbae[_0x14cb6d(0x26c)][_0x14cb6d(0x1bb)]=_0x2d2f1b[_0x14cb6d(0x1ca)](getPercyOptions,_0x1ed406[_0x14cb6d(0x223)]);const _0x1ad34d=helper[_0x14cb6d(0x1ee)](_0x1ed406[_0x14cb6d(0x223)]);!helper[_0x14cb6d(0x252)](_0x1ed406['config'][_0x14cb6d(0x21c)])&&(process['env'][_0x14cb6d(0x26f)]=JSON[_0x14cb6d(0x1e8)](_0x1ed406[_0x14cb6d(0x223)]['accessibilityOptions']));const _0x200cde=await TestHubHandler[_0x14cb6d(0x1fd)](FRAMEWORKS[_0x14cb6d(0x255)],_0x1ed406),_0x243dc9=helper[_0x14cb6d(0x262)](_0x1ed406[_0x14cb6d(0x223)],_0x1ad34d,constants['FRAMEWORKS'][_0x14cb6d(0x255)]);let _0x5f56e2=_0x1ed406[_0x14cb6d(0x223)]['accessibility'];_0x5f56e2=_0x5f56e2||accessibilityHelper['checkAccessibilityPlatformConfig'](_0x1ed406[_0x14cb6d(0x223)]),process['env'][_0x14cb6d(0x273)]=_0x5f56e2,_0x54cbae[_0x14cb6d(0x26c)][_0x14cb6d(0x215)]=_0x243dc9,_0x54cbae['testEnvironmentOptions']['serial__']=_0x2d2f1b[_0x14cb6d(0x253)](getSerial,_0x243dc9,_0x192a95),_0x54cbae[_0x14cb6d(0x26c)][_0x14cb6d(0x1c8)]=_0x2d2f1b[_0x14cb6d(0x1f9)](getMaxWorkers,_0x192a95,_0x1ed406[_0x14cb6d(0x223)],_0x56eebc),_0x54cbae[_0x14cb6d(0x26c)][_0x14cb6d(0x1ff)]=_0x1ed406[_0x14cb6d(0x223)][_0x14cb6d(0x1ff)],_0x54cbae[_0x14cb6d(0x26c)][_0x14cb6d(0x203)]=_0x2d2f1b[_0x14cb6d(0x1e3)](_0x192a95[_0x14cb6d(0x235)],0x1)||0x1388,_0x54cbae['testEnvironmentOptions'][_0x14cb6d(0x1f6)]=_0x1ed406['config'][_0x14cb6d(0x1da)]['skipSessionName'],_0x54cbae[_0x14cb6d(0x26c)]['skipSessionStatus']=_0x1ed406['config'][_0x14cb6d(0x1da)]['skipSessionStatus'],_0x54cbae['testEnvironmentOptions'][_0x14cb6d(0x260)]=_0x1ed406['config'][_0x14cb6d(0x239)],_0x54cbae[_0x14cb6d(0x26c)][_0x14cb6d(0x247)]=_0x1ed406[_0x14cb6d(0x223)]['turboScaleUrl'],_0x54cbae[_0x14cb6d(0x26c)][_0x14cb6d(0x1be)]=_0x1ed406[_0x14cb6d(0x223)]['platforms'];const _0x4f5913=helper['parseTestOrchestrationOptions'](_0x1ed406['config']);if(!helper[_0x14cb6d(0x1f1)](_0x4f5913)){helper['isNotUndefined'](_0x4f5913[_0x14cb6d(0x233)])&&(_0x54cbae[_0x14cb6d(0x26c)][_0x14cb6d(0x201)]=_0x4f5913[_0x14cb6d(0x233)]['maxRetries']);if(helper[_0x14cb6d(0x1dc)](_0x4f5913[_0x14cb6d(0x23a)])&&helper['isNotUndefined'](_0x4f5913['abortBuildOnFailure'][_0x14cb6d(0x244)])){const _0xe1d568={};_0xe1d568['failureThresholdCount']=_0x4f5913[_0x14cb6d(0x23a)][_0x14cb6d(0x1cc)],_0xe1d568[_0x14cb6d(0x244)]=_0x4f5913[_0x14cb6d(0x23a)][_0x14cb6d(0x244)],_0x54cbae[_0x14cb6d(0x26c)][_0x14cb6d(0x24a)]=_0xe1d568;}}let _0x5f54e3='';_0x2d2f1b['vPRlF'](helper[_0x14cb6d(0x274)](),constants[_0x14cb6d(0x1c6)][_0x14cb6d(0x20b)])?_0x5f54e3=_0x2d2f1b[_0x14cb6d(0x21b)]:_0x5f54e3=_0x2d2f1b['twXFK'];const _0xca3fbf=_0x5f54e3,_0x5163aa=path['join'](__dirname,_0x2d2f1b['lQkXA'],_0x2d2f1b[_0x14cb6d(0x1e9)]),_0x223005=path[_0x14cb6d(0x204)](__dirname,_0x2d2f1b[_0x14cb6d(0x20a)],_0x2d2f1b[_0x14cb6d(0x1f0)]),_0x27773f=path['join'](__dirname,_0x2d2f1b[_0x14cb6d(0x20a)],_0x2d2f1b['PJRuI']);_0x54cbae[_0x14cb6d(0x1ef)]&&(process['env'][_0x14cb6d(0x1d3)]=_0x54cbae[_0x14cb6d(0x1ef)]);_0x54cbae[_0x14cb6d(0x1ef)]=path['join'](__dirname,_0x2d2f1b[_0x14cb6d(0x20a)],_0x2d2f1b[_0x14cb6d(0x1cb)]),_0x54cbae[_0x14cb6d(0x25b)]=_0x223005,_0x54cbae[_0x14cb6d(0x213)]=_0x54cbae['setupFilesAfterEnv']||[],_0x54cbae[_0x14cb6d(0x213)]['push'](path[_0x14cb6d(0x204)](__dirname,_0x2d2f1b[_0x14cb6d(0x207)]));_0x37f3a9[_0x14cb6d(0x202)]()&&(_0x54cbae[_0x14cb6d(0x1e7)]=path[_0x14cb6d(0x204)](__dirname,_0x2d2f1b[_0x14cb6d(0x20a)],_0x2d2f1b['UEsds']));if(testhubUtils[_0x14cb6d(0x1e5)]()){let _0x241de4=null;try{_0x241de4=helper['requireModule'](_0x2d2f1b[_0x14cb6d(0x1c4)],_0x2d2f1b[_0x14cb6d(0x1d9)]);}catch(_0x4902c9){_0x2d2f1b['INeCS'](debug,_0x14cb6d(0x1cf)+_0x4902c9);}_0x241de4&&(_0x54cbae['setupFilesAfterEnv'][_0x14cb6d(0x276)](path['join'](__dirname,_0x2d2f1b[_0x14cb6d(0x20e)],_0x2d2f1b[_0x14cb6d(0x225)])),_0x54cbae[_0x14cb6d(0x251)]=path[_0x14cb6d(0x204)](__dirname,_0x2d2f1b['lQkXA'],_0x2d2f1b[_0x14cb6d(0x24e)]));}_0x54cbae['setupFiles']=_0x54cbae[_0x14cb6d(0x227)]||[];try{helper[_0x14cb6d(0x1e6)](),_0x54cbae[_0x14cb6d(0x227)][_0x14cb6d(0x276)](path[_0x14cb6d(0x204)](__dirname,_0x2d2f1b[_0x14cb6d(0x257)]));}catch{logger[_0x14cb6d(0x231)](_0x2d2f1b[_0x14cb6d(0x24f)]);}_0x54cbae['reporters']=_0x54cbae[_0x14cb6d(0x208)]||[_0x2d2f1b['liDZz']],_0x2d2f1b[_0x14cb6d(0x238)](updateTestRerunConfig,_0x54cbae,_0x1ed406);const _0x146402=fs[_0x14cb6d(0x230)](_0x27773f);fs[_0x14cb6d(0x265)](_0x54cbae[_0x14cb6d(0x25b)],_0x14cb6d(0x275)+_0x146402+_0x14cb6d(0x1c2)+_0x1ed406[_0x14cb6d(0x223)][_0x14cb6d(0x222)]['length']+';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20'),logger[_0x14cb6d(0x25d)](_0x14cb6d(0x20c)+_0xca3fbf+_0x14cb6d(0x1d1)),fs[_0x14cb6d(0x265)](_0xca3fbf,_0x14cb6d(0x219)+JSON[_0x14cb6d(0x1e8)](_0x54cbae)+_0x14cb6d(0x1fa));if(_0x37f3a9[_0x14cb6d(0x202)]()){logger[_0x14cb6d(0x231)](_0x2d2f1b[_0x14cb6d(0x224)]);const _0x9c2681=await _0x37f3a9[_0x14cb6d(0x210)](_0x54cbae,_0x84a343[_0x14cb6d(0x20d)](0x1),_0xca3fbf);logger['debug'](_0x14cb6d(0x27a)+JSON[_0x14cb6d(0x1e8)](_0x9c2681)+_0x14cb6d(0x237));const _0x5a439e=await _0x37f3a9[_0x14cb6d(0x200)](_0x9c2681);logger[_0x14cb6d(0x231)](_0x14cb6d(0x21f)+JSON[_0x14cb6d(0x1e8)](_0x5a439e)),_0x5a439e&&_0x2d2f1b['gthUU'](_0x5a439e[_0x14cb6d(0x206)],0x0)&&(process[_0x14cb6d(0x218)][_0x14cb6d(0x1e2)]=_0x5a439e?.[_0x14cb6d(0x204)](','));}logger['info'](_0x2d2f1b['jMCPI']);testhubUtils[_0x14cb6d(0x1e5)]()&&TestDetails[_0x14cb6d(0x24c)]();helper[_0x14cb6d(0x22a)]({},_0x84a343),PerformanceTester[_0x14cb6d(0x221)](PerformanceEvents[_0x14cb6d(0x236)]);const _0x1854e=_0x2d2f1b[_0x14cb6d(0x1d6)](spawn,_0x2d2f1b[_0x14cb6d(0x266)],[_0x2d2f1b[_0x14cb6d(0x228)],_0x2d2f1b[_0x14cb6d(0x278)],_0xca3fbf,..._0x84a343['slice'](0x1)],{'shell':_0x2d2f1b[_0x14cb6d(0x267)](process['platform'],_0x2d2f1b['IEbPw']),'stdio':_0x2d2f1b[_0x14cb6d(0x26d)],'env':Object[_0x14cb6d(0x1d5)]({},process[_0x14cb6d(0x218)])});_0x1854e['on'](_0x2d2f1b['rkshs'],async _0x4c5f61=>{const _0x5cf146=_0x14cb6d;PerformanceTester[_0x5cf146(0x250)](PerformanceEvents[_0x5cf146(0x229)]);try{const {browserstackFolderPath:_0x238a7b,tcgConfigPath:_0x32fe7e}=helper[_0x5cf146(0x246)]();fs[_0x5cf146(0x277)](_0x32fe7e),fs[_0x5cf146(0x1cd)](_0x238a7b);}catch(_0x5acc5f){logger[_0x5cf146(0x231)](_0x2d2f1b[_0x5cf146(0x209)],_0x5acc5f);}process['exitCode']=_0x4c5f61,logger[_0x5cf146(0x231)]('child\x20process\x20exited\x20with\x20code\x20'+_0x4c5f61),logger[_0x5cf146(0x25d)](_0x5cf146(0x21e)+_0xca3fbf);if(helper[_0x5cf146(0x1dc)](_0x4f5913)&&helper['isNotUndefined'](_0x4f5913['abortBuildOnFailure'])&&fs['existsSync'](_0x4f5913[_0x5cf146(0x23a)][_0x5cf146(0x244)]))try{const _0x22c259={};_0x22c259[_0x5cf146(0x22b)]=!![],_0x22c259[_0x5cf146(0x263)]=!![],fs[_0x5cf146(0x25c)](_0x4f5913['abortBuildOnFailure'][_0x5cf146(0x244)],_0x22c259),logger[_0x5cf146(0x231)]('Deleted\x20fail-fast\x20state\x20folder:\x20'+_0x4f5913[_0x5cf146(0x23a)]['workingDir']);}catch(_0x5e9e60){logger['error'](_0x5cf146(0x216)+_0x5e9e60);}let _0x5cf6d1=null;if(fs[_0x5cf146(0x242)](_0x5163aa)){_0x5cf6d1=fs[_0x5cf146(0x230)](_0x5163aa);try{_0x5cf6d1=JSON['parse'](_0x5cf6d1);}catch(_0x422f42){logger[_0x5cf146(0x231)](_0x5cf146(0x1fe)+_0x5163aa+',\x20'+_0x5cf6d1+'\x20:\x20'+_0x422f42);}fs['unlinkSync'](_0x5163aa);}fs[_0x5cf146(0x277)](_0xca3fbf),fs['unlinkSync'](_0x223005),_0x5cf6d1&&(_0x1ed406[_0x5cf146(0x24d)]=helper['getErrorMessageFromResults'](_0x5cf6d1,_0x2d2f1b['uCoAq'],_0x1ed406));try{await TestHubHandler[_0x5cf146(0x279)]();}catch(_0x6fff11){console[_0x5cf146(0x1bd)](_0x6fff11),_0x2d2f1b[_0x5cf146(0x1f4)](debug,_0x5cf146(0x1b8)+util['format'](_0x6fff11));}testOpsHelper[_0x5cf146(0x1eb)](),TestDetails[_0x5cf146(0x1c9)](),await utilities[_0x5cf146(0x1b9)](_0x1ed406);});}function a14_0x9ba8(_0x3bb96e,_0x3f8db4){const _0x4c673c=a14_0x4c67();return a14_0x9ba8=function(_0x9ba849,_0x3fcf3f){_0x9ba849=_0x9ba849-0x1b8;let _0x4985b1=_0x4c673c[_0x9ba849];return _0x4985b1;},a14_0x9ba8(_0x3bb96e,_0x3f8db4);}module['exports']=run;