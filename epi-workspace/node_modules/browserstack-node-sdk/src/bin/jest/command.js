#!/usr/bin/env node
'use strict';const a14_0xd6f5d6=a14_0xdc07;(function(_0x237515,_0x4aa46b){const _0x1d1450=a14_0xdc07,_0xd581cf=_0x237515();while(!![]){try{const _0x356cbd=parseInt(_0x1d1450(0xef))/0x1+parseInt(_0x1d1450(0x168))/0x2+parseInt(_0x1d1450(0xa7))/0x3+parseInt(_0x1d1450(0xb2))/0x4*(parseInt(_0x1d1450(0xfa))/0x5)+-parseInt(_0x1d1450(0x115))/0x6*(parseInt(_0x1d1450(0xc8))/0x7)+-parseInt(_0x1d1450(0x114))/0x8*(-parseInt(_0x1d1450(0x8e))/0x9)+-parseInt(_0x1d1450(0x148))/0xa;if(_0x356cbd===_0x4aa46b)break;else _0xd581cf['push'](_0xd581cf['shift']());}catch(_0x4fc2b5){_0xd581cf['push'](_0xd581cf['shift']());}}}(a14_0x798a,0x6fe93));function a14_0xdc07(_0x146b8e,_0x3c4ddc){const _0x798ae6=a14_0x798a();return a14_0xdc07=function(_0xdc07cc,_0x1fc3f9){_0xdc07cc=_0xdc07cc-0x8c;let _0x560c5f=_0x798ae6[_0xdc07cc];return _0x560c5f;},a14_0xdc07(_0x146b8e,_0x3c4ddc);}const fs=require('fs'),path=require(a14_0xd6f5d6(0x131)),util=require(a14_0xd6f5d6(0x162)),{spawn}=require('child_process'),logger=require(a14_0xd6f5d6(0x121))[a14_0xd6f5d6(0x157)],{default:BrowserStackSetup}=require(a14_0xd6f5d6(0xb5)),helper=require('../../helpers/helper'),utilities=require(a14_0xd6f5d6(0x11e)),constants=require(a14_0xd6f5d6(0x14f)),accessibilityHelper=require('../../helpers/accessibility-automation/helper'),{updateTestRerunConfig}=require('./test-observability/helper'),testOpsHelper=require('../../helpers/test-observability/utils'),{debug}=require('../../helpers/test-observability/utils'),TestDetails=require(a14_0xd6f5d6(0xd4)),{getPercyOptions}=require(a14_0xd6f5d6(0x13b)),TestHubHandler=require(a14_0xd6f5d6(0x90)),testhubUtils=require(a14_0xd6f5d6(0x11c)),{FRAMEWORKS}=require(a14_0xd6f5d6(0xcb)),PerformanceTester=require(a14_0xd6f5d6(0xc5)),PerformanceEvents=require('../../helpers/performance/constants')[a14_0xd6f5d6(0xd7)],TestOrchestrationHandler=require(a14_0xd6f5d6(0xce)),BrowserstackCLI=require(a14_0xd6f5d6(0xfb)),{checkPwandBootstrapCli}=require(a14_0xd6f5d6(0xc6)),ClientTroubleShootingService=require('../utils/clientTroubleshootingService'),{checkAccessibilityPlatformConfig}=require(a14_0xd6f5d6(0x11f)),getUserJestConfigs=async(_0x463f35,_0x5de4c5)=>{const _0x511392=a14_0xd6f5d6,_0x19e01f={'gIpiI':_0x511392(0x10d),'TodeM':_0x511392(0x144),'AzZXf':function(_0x2b1875,_0x5b0a5c){return _0x2b1875||_0x5b0a5c;},'eHyJc':function(_0x411a5c,_0x495abd){return _0x411a5c(_0x495abd);},'HlTKe':_0x511392(0x10c),'tMkkQ':_0x511392(0xdd),'VtaYy':'mjs','aaLwo':_0x511392(0xc3),'giHeq':'json'},_0xca52aa=helper['requireModule'](_0x19e01f[_0x511392(0xbe)],_0x19e01f['TodeM']),_0x18d4f0=_0x5de4c5[_0x511392(0xa0)](_0x424d1f=>_0x424d1f==='--config');if(!helper[_0x511392(0xc1)](_0x463f35[_0x511392(0x14c)])){logger[_0x511392(0xd0)]('Getting\x20your\x20jest\x20configs\x20from\x20'+_0x463f35[_0x511392(0x14c)]),process[_0x511392(0x9b)][_0x511392(0x136)]=_0x463f35[_0x511392(0x14c)];const _0x33ea48=await(0x0,_0xca52aa['default'])(path[_0x511392(0xa5)](_0x463f35[_0x511392(0x14c)]));return _0x5de4c5['splice'](_0x18d4f0,0x2),_0x19e01f['AzZXf'](_0x33ea48,{});}const _0x1ab472=_0x19e01f[_0x511392(0x146)](require,path['join'](process[_0x511392(0x126)](),_0x19e01f[_0x511392(0xbd)]));if(_0x1ab472[_0x511392(0x160)])return logger[_0x511392(0xd0)](_0x19e01f['tMkkQ']),_0x1ab472[_0x511392(0x160)];const _0x228f46=['js',_0x19e01f[_0x511392(0x155)],_0x19e01f['aaLwo'],_0x19e01f[_0x511392(0x100)],'ts'];for(const _0x59e022 of _0x228f46){const _0x4d7424=path[_0x511392(0xf2)](process[_0x511392(0x126)](),_0x511392(0xee)+_0x59e022);if(fs[_0x511392(0xff)](_0x4d7424)){process[_0x511392(0x9b)][_0x511392(0x136)]=_0x4d7424;const _0x415e21=await(0x0,_0xca52aa[_0x511392(0x102)])(_0x4d7424);return _0x415e21;}}return{};},getSerial=(_0x16bcb3,_0x48d25c)=>{const _0x1978c5=a14_0xd6f5d6,_0x3dff76={};_0x3dff76['zGTTi']=_0x1978c5(0x154),_0x3dff76[_0x1978c5(0xfd)]=function(_0x46e78e,_0x2992d1){return _0x46e78e>_0x2992d1;},_0x3dff76[_0x1978c5(0xcf)]=_0x1978c5(0xa6);const _0x2ac512=_0x3dff76;let _0x2a9134=_0x2ac512['zGTTi'];return _0x2ac512[_0x1978c5(0xfd)](_0x16bcb3[_0x1978c5(0xbb)],0x1)&&(!_0x48d25c[_0x1978c5(0x118)]&&(helper[_0x1978c5(0xc1)](_0x48d25c[_0x1978c5(0x133)])||_0x2ac512['lhLCX'](_0x48d25c[_0x1978c5(0x133)],0x1)))&&(_0x2a9134=_0x2ac512['izKwD']),_0x2a9134;},getMaxWorkers=(_0x3ccee7,_0x1f0e51,_0x3c28a7)=>{const _0x288cc6=a14_0xd6f5d6,_0x39c69e={'XuRwB':function(_0x157858,_0x40c831){return _0x157858(_0x40c831);}};let _0x573eaf=0x1;if(!helper['isUndefined'](_0x1f0e51['parallelsPerPlatform']))_0x573eaf=_0x39c69e[_0x288cc6(0xe4)](parseInt,_0x1f0e51['parallelsPerPlatform']);else{if(!helper[_0x288cc6(0xc1)](_0x3ccee7[_0x288cc6(0x133)]))_0x573eaf=_0x3ccee7[_0x288cc6(0x133)];else!helper[_0x288cc6(0xc1)](_0x3c28a7[_0x288cc6(0x133)])&&(_0x573eaf=_0x3c28a7[_0x288cc6(0x133)]);}return _0x573eaf;};async function run(_0x5a2ae3,_0x438458,_0x28a398){const _0x3d11cf=a14_0xd6f5d6,_0x3ae434={'Vuqcy':_0x3d11cf(0xb9),'MFYmX':_0x3d11cf(0x160),'ZimMC':function(_0x12f945,_0x56979b){return _0x12f945(_0x56979b);},'DkTVk':'@playwright/test','IzSHw':function(_0x5c9048,_0x489432,_0x1b958d,_0x2174e6){return _0x5c9048(_0x489432,_0x1b958d,_0x2174e6);},'eOLJv':function(_0x346f61,_0x41538e){return _0x346f61!=_0x41538e;},'puyQZ':'true','IbpJv':function(_0x304ad2,_0x2166c8,_0x507b7c){return _0x304ad2(_0x2166c8,_0x507b7c);},'LAneM':_0x3d11cf(0x15d),'YeTnR':function(_0x1031d2,_0x347c32){return _0x1031d2(_0x347c32);},'bCYHP':_0x3d11cf(0xa6),'cHsOa':function(_0x4a0916,_0x3bb401,_0x5dabb0){return _0x4a0916(_0x3bb401,_0x5dabb0);},'lUMit':function(_0x34513b,_0x5f4af6){return _0x34513b*_0x5f4af6;},'idmnd':function(_0xc9df8b,_0x33169c){return _0xc9df8b===_0x33169c;},'OdodF':_0x3d11cf(0x9c),'eAroP':'jest_browserstack.config.js','KuWDD':_0x3d11cf(0x12a),'CATun':_0x3d11cf(0x166),'RjSzQ':'customTestRunner.js','Oyzzx':_0x3d11cf(0xeb),'eUkei':_0x3d11cf(0x137),'BjiMB':_0x3d11cf(0xa1),'iVJpL':'customSequencer.js','KiWSY':'jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','USrfc':_0x3d11cf(0x99),'RhmWs':function(_0x390b95,_0xe7f0e7){return _0x390b95(_0xe7f0e7);},'VyzeC':_0x3d11cf(0x14a),'vBfxM':_0x3d11cf(0xf1),'DfUvB':_0x3d11cf(0xf6),'eLduQ':'test_before.setup.js','cOBou':_0x3d11cf(0xed),'AOOTa':_0x3d11cf(0xb8),'gRBsj':_0x3d11cf(0x142),'Wtrno':_0x3d11cf(0xd5),'KQnKQ':'Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','gstqe':_0x3d11cf(0x102),'ZVChW':_0x3d11cf(0x14d),'ZtLdV':function(_0x31deea,_0x315b72){return _0x31deea>_0x315b72;},'iUqzP':_0x3d11cf(0x98),'Nbvkk':function(_0x2c9831,_0x43f9f0,_0x21c2bc,_0x3f762d){return _0x2c9831(_0x43f9f0,_0x21c2bc,_0x3f762d);},'fvRhL':_0x3d11cf(0x14b),'jlcVu':'--config','QFPnV':'win32','DtBAA':'inherit','TfKOI':_0x3d11cf(0xa8)},_0x3970eb=helper[_0x3d11cf(0xb0)](_0x3ae434[_0x3d11cf(0x122)]);global[_0x3d11cf(0x129)]=!!_0x3970eb;helper[_0x3d11cf(0x16b)]()?(await _0x28a398[_0x3d11cf(0x128)](_0x5a2ae3),await helper['handleApp'](_0x28a398[_0x3d11cf(0x14c)])):await _0x28a398[_0x3d11cf(0x13f)]();await _0x3ae434[_0x3d11cf(0x10e)](checkPwandBootstrapCli,_0x3970eb,constants['FRAMEWORKS'][_0x3d11cf(0x13e)],_0x28a398);if(!_0x28a398[_0x3d11cf(0x14c)])return;_0x3ae434[_0x3d11cf(0x105)](_0x28a398[_0x3d11cf(0x14c)]['testObservability'],null)?process['env'][_0x3d11cf(0xd9)]=_0x28a398['config'][_0x3d11cf(0xbf)]:process['env'][_0x3d11cf(0xd9)]=_0x3ae434[_0x3d11cf(0xec)];const _0x597a8e=new TestOrchestrationHandler(_0x28a398[_0x3d11cf(0x14c)]),_0x24c764=await _0x3ae434['IbpJv'](getUserJestConfigs,_0x5a2ae3,_0x438458);logger['info'](_0x3ae434[_0x3d11cf(0xcd)]);const _0x4013f2=Object['assign']({},_0x24c764);_0x4013f2['testEnvironmentOptions']=Object[_0x3d11cf(0x112)]({},_0x4013f2[_0x3d11cf(0xad)],{'server':helper[_0x3d11cf(0xb7)](_0x28a398[_0x3d11cf(0x14c)]),'environment':_0x24c764['testEnvironment']}),_0x4013f2[_0x3d11cf(0xad)][_0x3d11cf(0xe3)]=_0x3ae434[_0x3d11cf(0x150)](getPercyOptions,_0x28a398[_0x3d11cf(0x14c)]);const _0x586120=helper[_0x3d11cf(0xb1)](_0x28a398[_0x3d11cf(0x14c)]);!helper[_0x3d11cf(0xc1)](_0x28a398[_0x3d11cf(0x14c)][_0x3d11cf(0x11d)])&&(process[_0x3d11cf(0x9b)][_0x3d11cf(0x93)]=JSON[_0x3d11cf(0xe5)](_0x28a398['config'][_0x3d11cf(0x11d)]));if(!BrowserstackCLI[_0x3d11cf(0xe1)]()[_0x3d11cf(0xd3)]()){const _0x5b6b7c=await TestHubHandler[_0x3d11cf(0x10f)](FRAMEWORKS[_0x3d11cf(0x13e)],_0x28a398);}const _0x541481=helper[_0x3d11cf(0xda)](_0x28a398[_0x3d11cf(0x14c)],_0x586120,constants[_0x3d11cf(0x127)][_0x3d11cf(0x13e)]);process[_0x3d11cf(0x9b)][_0x3d11cf(0xe8)]=JSON[_0x3d11cf(0xe5)](_0x541481);let _0x250599=_0x28a398[_0x3d11cf(0x14c)][_0x3d11cf(0xe0)];_0x250599=_0x250599||accessibilityHelper[_0x3d11cf(0xcc)](_0x28a398[_0x3d11cf(0x14c)]),process[_0x3d11cf(0x9b)][_0x3d11cf(0xa3)]=_0x250599,logger[_0x3d11cf(0x169)](_0x3d11cf(0x140)+_0x250599+_0x3d11cf(0xea)+BrowserstackCLI[_0x3d11cf(0xe1)]()[_0x3d11cf(0xd3)]());if(_0x3970eb)try{const _0x2d0bc1=_0x3ae434['YeTnR'](checkAccessibilityPlatformConfig,_0x28a398['config']);process['env'][_0x3d11cf(0x163)]=_0x2d0bc1?_0x3ae434[_0x3d11cf(0xec)]:_0x3ae434['bCYHP'],logger['debug']('[Jest\x20Command]\x20Playwright\x20detected,\x20setting\x20accessibility\x20platform:\x20'+_0x2d0bc1+_0x3d11cf(0xba)+process[_0x3d11cf(0x9b)]['BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM']);}catch(_0x9fa415){logger[_0x3d11cf(0x169)](_0x3d11cf(0x139)+util[_0x3d11cf(0xc0)](_0x9fa415));}_0x4013f2[_0x3d11cf(0xad)][_0x3d11cf(0xfe)]=_0x541481,_0x4013f2[_0x3d11cf(0xad)][_0x3d11cf(0x9a)]=_0x3ae434[_0x3d11cf(0x16a)](getSerial,_0x541481,_0x5a2ae3),_0x4013f2['testEnvironmentOptions']['parallels__']=_0x3ae434[_0x3d11cf(0x10e)](getMaxWorkers,_0x5a2ae3,_0x28a398[_0x3d11cf(0x14c)],_0x24c764),_0x4013f2[_0x3d11cf(0xad)][_0x3d11cf(0x159)]=_0x28a398[_0x3d11cf(0x14c)][_0x3d11cf(0x159)],_0x4013f2[_0x3d11cf(0xad)][_0x3d11cf(0xc2)]=_0x3ae434['lUMit'](_0x5a2ae3[_0x3d11cf(0xdc)],0x1)||0x1388,_0x4013f2[_0x3d11cf(0xad)]['skipSessionName']=_0x28a398['config'][_0x3d11cf(0xbc)][_0x3d11cf(0x103)],_0x4013f2['testEnvironmentOptions'][_0x3d11cf(0x124)]=_0x28a398[_0x3d11cf(0x14c)][_0x3d11cf(0xbc)][_0x3d11cf(0x124)],_0x4013f2[_0x3d11cf(0xad)][_0x3d11cf(0xa9)]=_0x28a398[_0x3d11cf(0x14c)][_0x3d11cf(0x95)],_0x4013f2[_0x3d11cf(0xad)][_0x3d11cf(0x12d)]=_0x28a398[_0x3d11cf(0x14c)][_0x3d11cf(0x12d)],_0x4013f2[_0x3d11cf(0xad)][_0x3d11cf(0x11b)]=_0x28a398[_0x3d11cf(0x14c)][_0x3d11cf(0x132)];const _0x167267=helper[_0x3d11cf(0x15e)](_0x28a398[_0x3d11cf(0x14c)]);if(!helper['isEmpty'](_0x167267)){helper[_0x3d11cf(0x104)](_0x167267[_0x3d11cf(0x130)])&&(_0x4013f2['testEnvironmentOptions'][_0x3d11cf(0xab)]=_0x167267[_0x3d11cf(0x130)][_0x3d11cf(0x9f)]);if(helper[_0x3d11cf(0x104)](_0x167267[_0x3d11cf(0x101)])&&helper[_0x3d11cf(0x104)](_0x167267[_0x3d11cf(0x101)][_0x3d11cf(0xac)])){const _0x2d3a65={};_0x2d3a65['failureThresholdCount']=_0x167267[_0x3d11cf(0x101)][_0x3d11cf(0x113)],_0x2d3a65[_0x3d11cf(0xac)]=_0x167267['abortBuildOnFailure'][_0x3d11cf(0xac)],_0x4013f2[_0x3d11cf(0xad)][_0x3d11cf(0x107)]=_0x2d3a65;}}let _0x8efb14='';_0x3ae434[_0x3d11cf(0x12b)](helper[_0x3d11cf(0x156)](),constants[_0x3d11cf(0xaf)][_0x3d11cf(0xe9)])?_0x8efb14=_0x3ae434['OdodF']:_0x8efb14=_0x3ae434['eAroP'];const _0x5aeab1=_0x8efb14,_0x211d85=path[_0x3d11cf(0xf2)](__dirname,_0x3ae434[_0x3d11cf(0x165)],_0x3ae434['CATun']),_0x3beee9=path[_0x3d11cf(0xf2)](__dirname,_0x3ae434[_0x3d11cf(0x165)],_0x3ae434['RjSzQ']),_0x4aadbb=path[_0x3d11cf(0xf2)](__dirname,_0x3ae434[_0x3d11cf(0x165)],_0x3ae434['Oyzzx']);_0x4013f2[_0x3d11cf(0x14e)]&&(process['env'][_0x3d11cf(0x108)]=_0x4013f2[_0x3d11cf(0x14e)]);_0x4013f2[_0x3d11cf(0x14e)]=path[_0x3d11cf(0xf2)](__dirname,_0x3ae434['KuWDD'],_0x3ae434[_0x3d11cf(0x149)]),_0x4013f2[_0x3d11cf(0x94)]=_0x3beee9,_0x4013f2[_0x3d11cf(0x152)]=_0x4013f2[_0x3d11cf(0x152)]||[],_0x4013f2['setupFilesAfterEnv']['push'](path['join'](__dirname,_0x3ae434[_0x3d11cf(0x15c)]));_0x597a8e[_0x3d11cf(0xf4)]()&&(_0x4013f2[_0x3d11cf(0xd6)]=path[_0x3d11cf(0xf2)](__dirname,_0x3ae434[_0x3d11cf(0x165)],_0x3ae434[_0x3d11cf(0xc4)]));if(testhubUtils['shouldProcessEventForTesthub']()){let _0x1ce118=null;try{_0x1ce118=helper[_0x3d11cf(0xf9)](_0x3ae434[_0x3d11cf(0xdf)],_0x3ae434[_0x3d11cf(0x12e)]);}catch(_0x57cc86){_0x3ae434['RhmWs'](debug,_0x3d11cf(0x8f)+_0x57cc86);}_0x1ce118&&(_0x4013f2[_0x3d11cf(0x152)][_0x3d11cf(0xdb)](path[_0x3d11cf(0xf2)](__dirname,_0x3ae434[_0x3d11cf(0x9d)],_0x3ae434[_0x3d11cf(0x97)])),_0x4013f2[_0x3d11cf(0xe7)]=path['join'](__dirname,_0x3ae434[_0x3d11cf(0x165)],_0x3ae434[_0x3d11cf(0xb6)]));}_0x4013f2[_0x3d11cf(0x11a)]=_0x4013f2['setupFiles']||[];try{helper[_0x3d11cf(0xd8)](),_0x4013f2[_0x3d11cf(0x11a)][_0x3d11cf(0xdb)](path[_0x3d11cf(0xf2)](__dirname,_0x3ae434[_0x3d11cf(0x138)]));}catch{logger[_0x3d11cf(0x169)](_0x3ae434[_0x3d11cf(0x109)]);}try{helper[_0x3d11cf(0x141)][_0x3d11cf(0x12c)](null,[_0x3ae434[_0x3d11cf(0x122)],_0x3ae434[_0x3d11cf(0x91)]]),logger['debug'](_0x3ae434[_0x3d11cf(0xc7)]),_0x4013f2[_0x3d11cf(0x11a)]['push'](path[_0x3d11cf(0xf2)](__dirname,_0x3ae434['Wtrno']));}catch(_0x5e1124){logger[_0x3d11cf(0x169)](_0x3ae434[_0x3d11cf(0x158)],_0x5e1124);}_0x4013f2[_0x3d11cf(0x8d)]=_0x4013f2[_0x3d11cf(0x8d)]||[_0x3ae434[_0x3d11cf(0xfc)]],_0x3ae434[_0x3d11cf(0xc9)](updateTestRerunConfig,_0x4013f2,_0x28a398);const _0xbdb214=fs[_0x3d11cf(0x15f)](_0x4aadbb);fs[_0x3d11cf(0x10b)](_0x4013f2[_0x3d11cf(0x94)],'\x0a\x20\x20\x20\x20'+_0xbdb214+'\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20'+_0x28a398['config'][_0x3d11cf(0x132)][_0x3d11cf(0xbb)]+_0x3d11cf(0xde)),logger['info'](_0x3d11cf(0x145)+_0x5aeab1+_0x3d11cf(0xae)),fs[_0x3d11cf(0x10b)](_0x5aeab1,_0x3d11cf(0x116)+JSON[_0x3d11cf(0xe5)](_0x4013f2)+_0x3d11cf(0xb4));if(_0x597a8e[_0x3d11cf(0xf4)]()){logger[_0x3d11cf(0x169)](_0x3ae434[_0x3d11cf(0xd1)]);const _0x6fa0cf=await _0x597a8e[_0x3d11cf(0x117)](_0x4013f2,_0x438458[_0x3d11cf(0x147)](0x1),_0x5aeab1);logger[_0x3d11cf(0x169)]('Found:\x20'+JSON['stringify'](_0x6fa0cf)+'\x20test\x20files\x20to\x20run.');const _0x1ac380=await _0x597a8e['reorderTestFiles'](_0x6fa0cf);logger[_0x3d11cf(0x169)](_0x3d11cf(0x143)+JSON[_0x3d11cf(0xe5)](_0x1ac380)),_0x1ac380&&_0x3ae434[_0x3d11cf(0x13c)](_0x1ac380[_0x3d11cf(0xbb)],0x0)&&(process[_0x3d11cf(0x9b)]['JEST_TEST_ORDER']=_0x1ac380?.[_0x3d11cf(0xf2)](','));}logger['info'](_0x3ae434[_0x3d11cf(0x10a)]);testhubUtils[_0x3d11cf(0xb3)]()&&TestDetails[_0x3d11cf(0x161)]();helper[_0x3d11cf(0x134)]({},_0x438458),PerformanceTester[_0x3d11cf(0xf3)](PerformanceEvents[_0x3d11cf(0x9e)]);const _0x579cad=_0x3ae434[_0x3d11cf(0x167)](spawn,_0x3ae434[_0x3d11cf(0xaa)],[_0x3ae434[_0x3d11cf(0x8c)],_0x3ae434[_0x3d11cf(0x96)],_0x5aeab1,..._0x438458[_0x3d11cf(0x147)](0x1)],{'shell':_0x3ae434[_0x3d11cf(0x12b)](process[_0x3d11cf(0x106)],_0x3ae434[_0x3d11cf(0x120)]),'stdio':_0x3ae434[_0x3d11cf(0x123)],'env':Object[_0x3d11cf(0x112)]({},process['env'])});_0x579cad['on'](_0x3ae434[_0x3d11cf(0x125)],async _0x2fadb8=>{const _0x496810=_0x3d11cf;PerformanceTester['start'](PerformanceEvents[_0x496810(0xa4)]);try{const {browserstackFolderPath:_0x4fba2d,tcgConfigPath:_0x496ad2}=helper[_0x496810(0x12f)]();fs[_0x496810(0x15a)](_0x496ad2),fs[_0x496810(0x111)](_0x4fba2d);}catch(_0x2da378){logger[_0x496810(0x169)](_0x3ae434[_0x496810(0x153)],_0x2da378);}process[_0x496810(0x164)]=_0x2fadb8,logger[_0x496810(0x169)](_0x496810(0x13d)+_0x2fadb8),logger[_0x496810(0xd0)](_0x496810(0xe6)+_0x5aeab1);if(helper[_0x496810(0x104)](_0x167267)&&helper[_0x496810(0x104)](_0x167267[_0x496810(0x101)])&&fs[_0x496810(0xff)](_0x167267[_0x496810(0x101)][_0x496810(0xac)]))try{const _0x2d24a8={};_0x2d24a8['recursive']=!![],_0x2d24a8[_0x496810(0x135)]=!![],fs[_0x496810(0xf5)](_0x167267['abortBuildOnFailure'][_0x496810(0xac)],_0x2d24a8),logger[_0x496810(0x169)](_0x496810(0x13a)+_0x167267['abortBuildOnFailure'][_0x496810(0xac)]);}catch(_0x24f1e5){logger[_0x496810(0xf8)](_0x496810(0x92)+_0x24f1e5);}let _0x4bdc6f=null;if(fs[_0x496810(0xff)](_0x211d85)){_0x4bdc6f=fs[_0x496810(0x15f)](_0x211d85);try{_0x4bdc6f=JSON[_0x496810(0x110)](_0x4bdc6f);}catch(_0x47f5f8){logger[_0x496810(0x169)]('Error\x20while\x20parsing\x20'+_0x211d85+',\x20'+_0x4bdc6f+_0x496810(0xf0)+_0x47f5f8);}fs['unlinkSync'](_0x211d85);}fs[_0x496810(0x15a)](_0x5aeab1),fs['unlinkSync'](_0x3beee9),_0x4bdc6f&&(_0x28a398[_0x496810(0xa2)]=helper[_0x496810(0x15b)](_0x4bdc6f,_0x3ae434[_0x496810(0x8c)],_0x28a398));try{await TestHubHandler[_0x496810(0xe2)](),await BrowserstackCLI[_0x496810(0xe1)]()['stop']();}catch(_0x3ea3bd){console[_0x496810(0xf7)](_0x3ea3bd),_0x3ae434[_0x496810(0x150)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20'+util[_0x496810(0xc0)](_0x3ea3bd));}testOpsHelper[_0x496810(0xd2)](),TestDetails[_0x496810(0x119)](),await utilities[_0x496810(0x151)](_0x28a398);});}module[a14_0xd6f5d6(0xca)]=run;function a14_0x798a(){const _0x12cfff=['cjs','iVJpL','../../helpers/performance/performance-tester','../../helpers/playwright-helper','gRBsj','28pQScWj','IbpJv','exports','../../helpers/test-observability/constants','checkAccessibilityPlatformConfig','LAneM','../../helpers/test-orchestration/testOrchestrationHandler','izKwD','info','ZVChW','printBuildLink','isRunning','./test-observability/test-details','test.setup.js','testSequencer','EVENTS','requireSeleniumWebdriver','BROWSERSTACK_TEST_OBSERVABILITY_YML','prepareCapabilities','push','testTimeout','Getting\x20your\x20jest\x20configs\x20from\x20package.json',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','KiWSY','accessibility','getInstance','stop','browserStackPercyOptions','XuRwB','stringify','Deleting\x20','testRunner','BROWSERSTACK_CAPABILITIES','MODULE',',\x20CLI\x20running:\x20','customTestRunnerTemplate.js','puyQZ','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','jest.config.','547450CngbHg','\x20:\x20','data-hooks.js','join','end','isTestOrchestrationEnabled','rmSync','customCircus.js','log','error','requireModule','315nElPoa','../v2/browserstackCLI','gstqe','lhLCX','capabilities','existsSync','giHeq','abortBuildOnFailure','default','skipSessionName','isNotUndefined','eOLJv','platform','failFast','BSTACK_JEST_TEST_ENV','cOBou','iUqzP','writeFileSync','package.json','jest-config/build/readConfigFileAndSetRootDir.js','IzSHw','launchBuild','parse','rmdirSync','assign','maxFailures','80nqutBP','828510BxIWcc','const\x20config=','findTestFiles','runInBand','shutdown','setupFiles','platformCaps','../../helpers/testhub/utils','accessibilityOptions','../../helpers/utilities','../../helpers/accessibility-automation/helper','QFPnV','../../helpers/logger','DkTVk','DtBAA','skipSessionStatus','TfKOI','cwd','FRAMEWORKS','initialize','__isPlaywrightInstalled','customImplements','idmnd','apply','turboScaleUrl','USrfc','getTCGConfigFilePaths','retryTestsOnFailure','path','platforms','maxWorkers','filterBrowserstackArgs','force','USER_CONFIG_DETAILS_PATH','customEnvironment.js','eLduQ','Skipping\x20accessibility\x20env\x20setup\x20for\x20Playwright\x20due\x20to:\x20','Deleted\x20fail-fast\x20state\x20folder:\x20','../../helpers/percy/utils','ZtLdV','child\x20process\x20exited\x20with\x20code\x20','JEST','setupTCGAuth','[Jest\x20Command]\x20Accessibility\x20enabled:\x20','requirePWModule','Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','Reodered\x20Test\x20Files:\x20','jest-config','Creating\x20','eHyJc','slice','9611650MudbUv','eUkei','test-observability','npx','config','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','testEnvironment','../utils/constants','ZimMC','finalExecution','setupFilesAfterEnv','Vuqcy','true','VtaYy','getPackageType','winstonLogger','KQnKQ','proxySettings','unlinkSync','getErrorMessageFromResults','BjiMB','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','parseTestOrchestrationOptions','readFileSync','jest','setup','util','BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM','exitCode','KuWDD','jest_browserstack_results.json','Nbvkk','1639350lckONC','debug','cHsOa','isBrowserstackInfra','MFYmX','reporters','353151xBYIli','Unable\x20to\x20find\x20jest-circus,\x20','../../helpers/testhub/testhubHandler','AOOTa','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','runner','logLevel','jlcVu','vBfxM','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','jest-circus','serial__','env','jest_browserstack.config.cjs','VyzeC','SDK_SETUP','maxRetries','findIndex','jest.setup.js','errorMessage','BROWSERSTACK_TEST_ACCESSIBILITY_YML','SDK_CLEANUP','resolve','false','194304RhQfau','close','browserStackLogLevel','fvRhL','retries__','workingDir','testEnvironmentOptions','\x20with\x20browserstack\x20jest\x20configs','PACKAGE_TYPE','getPackageVersion','useW3C','9372iwZXLu','shouldProcessEventForTesthub','\x0amodule.exports\x20=\x20config;','../../helpers/BrowserStackSetup','DfUvB','getHubUrl','playwright','error\x20removing\x20tcg\x20config\x20file',',\x20BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM=','length','testContextOptions','HlTKe','gIpiI','testObservability','format','isUndefined','timeout__'];a14_0x798a=function(){return _0x12cfff;};return a14_0x798a();}