#!/usr/bin/env node
'use strict';function a14_0x39fd(){const _0x33e19e=['writeFileSync','rmalO','unlinkSync','testEnvironment','40GbsHvU','error\x20removing\x20tcg\x20config\x20file','playwright','initialize','package.json','4103529fOPHqi','join','[Jest\x20Command]\x20Playwright\x20detected,\x20setting\x20accessibility\x20platform:\x20','ACCcE','vWbvH','force','vjuTR','../../helpers/performance/constants','ybFUl','../../helpers/test-observability/utils','push','info','abortBuildOnFailure','979295QqICqm','ZvUcI','BROWSERSTACK_TEST_OBSERVABILITY_YML','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','getTCGConfigFilePaths','\x20:\x20','testRunner','customTestRunnerTemplate.js','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','close','isRunning','setupFiles','Yuvlm','requirePWModule','true','kXOKX','requireModule','usqBf','NmJpW','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','filterBrowserstackArgs','../../helpers/testhub/testhubHandler','yPKRy','../../helpers/performance/performance-tester','112FLujYU','format','failureThresholdCount',',\x20BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM=','rmdirSync','39295730pWKbwH','turboScaleUrl','prepareCapabilities','hJqSo','--config','../../helpers/playwright-helper','setup','getErrorMessageFromResults','MODULE','Getting\x20your\x20jest\x20configs\x20from\x20package.json','customImplements','assign','LmflR','Unable\x20to\x20find\x20jest-circus,\x20','./test-observability/test-details','BBxpu','576863BxTeuv','json','retryTestsOnFailure','WWrsY','EygfW','Found:\x20','readFileSync','LJbwb','recursive','workingDir','wBBlU','exitCode','debug','serial__','../v2/browserstackCLI','EVENTS','test.setup.js','isNotUndefined','RynTN','jest-config/build/readConfigFileAndSetRootDir.js',',\x20CLI\x20running:\x20','util','false','browserStackPercyOptions','SIerm','\x0amodule.exports\x20=\x20config;','YHuWA','kmXWf','testTimeout','const\x20config=','jest_browserstack_results.json','rmSync','timeout__','XJcUn','testEnvironmentOptions','soHaN','setupFilesAfterEnv','\x20test\x20files\x20to\x20run.','UWWej','../../helpers/testhub/utils','../../helpers/test-orchestration/testOrchestrationHandler','logLevel','launchBuild','WEHKP','SDK_SETUP',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','requireSeleniumWebdriver','Rthpm','../../helpers/accessibility-automation/helper','BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM','../../helpers/BrowserStackSetup','EZGwS','parseTestOrchestrationOptions','proxySettings','jest_browserstack.config.js','printBuildLink','getPackageType','isEmpty','BROWSERSTACK_CAPABILITIES','[Jest\x20Command]\x20Accessibility\x20enabled:\x20','useW3C','BROWSERSTACK_TEST_ACCESSIBILITY_YML','testContextOptions','test-observability','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','platforms','AGMBO','2940516bUrcTz','accessibilityOptions','Reodered\x20Test\x20Files:\x20','jest-config','__isPlaywrightInstalled','JEST','reporters','SBaLQ','jest-circus','148383loQSWF','runner','getHubUrl','PACKAGE_TYPE','stop','LjGNQ','existsSync','parallels__','48MYDDVh','jest.config.','findTestFiles','getInstance','win32','jest.setup.js','isUndefined','apply','Creating\x20','capabilities','USER_CONFIG_DETAILS_PATH','errorMessage','log','stringify','customEnvironment.js','FRAMEWORKS','skipSessionName','xtRjw','config','isTestOrchestrationEnabled','vVKkO','child\x20process\x20exited\x20with\x20code\x20','slice','jGjTZ','setupTCGAuth','vUjPj','NqiFV','SDK_CLEANUP','end','Error\x20while\x20parsing\x20','shouldProcessEventForTesthub','length','../../helpers/helper','@playwright/test','KGajV','../../helpers/test-observability/constants','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','../../helpers/utilities','jest','./test-observability/helper','../../helpers/percy/utils','testObservability','\x0a\x20\x20\x20\x20','runInBand','TmkCD','resolve','JEST_TEST_ORDER','aYKIm','../utils/clientTroubleshootingService','customSequencer.js','WihVG','YDRAq','checkAccessibilityPlatformConfig','709508QVgWja','Skipping\x20accessibility\x20env\x20setup\x20for\x20Playwright\x20due\x20to:\x20','HGYLy','mHdRu','maxWorkers','customCircus.js','env','test_before.setup.js','npx','\x20with\x20browserstack\x20jest\x20configs','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20'];a14_0x39fd=function(){return _0x33e19e;};return a14_0x39fd();}function a14_0x5e11(_0x223dcb,_0x3dc89a){const _0x39fdea=a14_0x39fd();return a14_0x5e11=function(_0x5e117a,_0x6aa764){_0x5e117a=_0x5e117a-0x13e;let _0x27f95d=_0x39fdea[_0x5e117a];return _0x27f95d;},a14_0x5e11(_0x223dcb,_0x3dc89a);}const a14_0x57d45c=a14_0x5e11;(function(_0x305ba7,_0x3c973e){const _0x4a848e=a14_0x5e11,_0x5e7b0e=_0x305ba7();while(!![]){try{const _0x1970db=-parseInt(_0x4a848e(0x17d))/0x1+parseInt(_0x4a848e(0x1ed))/0x2+-parseInt(_0x4a848e(0x170))/0x3+parseInt(_0x4a848e(0x15c))/0x4*(-parseInt(_0x4a848e(0x16b))/0x5)+parseInt(_0x4a848e(0x1fe))/0x6*(-parseInt(_0x4a848e(0x1aa))/0x7)+parseInt(_0x4a848e(0x195))/0x8*(-parseInt(_0x4a848e(0x1f6))/0x9)+parseInt(_0x4a848e(0x19a))/0xa;if(_0x1970db===_0x3c973e)break;else _0x5e7b0e['push'](_0x5e7b0e['shift']());}catch(_0x1e37cc){_0x5e7b0e['push'](_0x5e7b0e['shift']());}}}(a14_0x39fd,0xb58a3));const fs=require('fs'),path=require('path'),util=require(a14_0x57d45c(0x1bf)),{spawn}=require('child_process'),logger=require('../../helpers/logger')['winstonLogger'],{default:BrowserStackSetup}=require(a14_0x57d45c(0x1dc)),helper=require(a14_0x57d45c(0x147)),utilities=require(a14_0x57d45c(0x14c)),constants=require('../utils/constants'),accessibilityHelper=require(a14_0x57d45c(0x1da)),{updateTestRerunConfig}=require(a14_0x57d45c(0x14e)),testOpsHelper=require(a14_0x57d45c(0x179)),{debug}=require(a14_0x57d45c(0x179)),TestDetails=require(a14_0x57d45c(0x1a8)),{getPercyOptions}=require(a14_0x57d45c(0x14f)),TestHubHandler=require(a14_0x57d45c(0x192)),testhubUtils=require(a14_0x57d45c(0x1d1)),{FRAMEWORKS}=require(a14_0x57d45c(0x14a)),PerformanceTester=require(a14_0x57d45c(0x194)),PerformanceEvents=require(a14_0x57d45c(0x177))[a14_0x57d45c(0x1b9)],TestOrchestrationHandler=require(a14_0x57d45c(0x1d2)),BrowserstackCLI=require(a14_0x57d45c(0x1b8)),{checkPwandBootstrapCli}=require(a14_0x57d45c(0x19f)),ClientTroubleShootingService=require(a14_0x57d45c(0x157)),{checkAccessibilityPlatformConfig}=require(a14_0x57d45c(0x1da)),getUserJestConfigs=async(_0xeafce7,_0x98e86c)=>{const _0x32ed15=a14_0x57d45c,_0x485c05={'aypPb':_0x32ed15(0x1bd),'LjGNQ':_0x32ed15(0x1f0),'OgHyX':function(_0x19bd24,_0x1abb5b){return _0x19bd24||_0x1abb5b;},'aYKIm':function(_0x577902,_0x1c4503){return _0x577902(_0x1c4503);},'xtRjw':_0x32ed15(0x16f),'WEHKP':_0x32ed15(0x1a3),'vVKkO':'mjs','NmJpW':'cjs','XJcUn':_0x32ed15(0x1ab)},_0x511ddc=helper[_0x32ed15(0x18d)](_0x485c05['aypPb'],_0x485c05[_0x32ed15(0x1fb)]),_0x1f8ca9=_0x98e86c['findIndex'](_0x1e9eb2=>_0x1e9eb2===_0x32ed15(0x19e));if(!helper[_0x32ed15(0x204)](_0xeafce7[_0x32ed15(0x210)])){logger[_0x32ed15(0x17b)]('Getting\x20your\x20jest\x20configs\x20from\x20'+_0xeafce7[_0x32ed15(0x210)]),process[_0x32ed15(0x162)][_0x32ed15(0x208)]=_0xeafce7[_0x32ed15(0x210)];const _0x579415=await(0x0,_0x511ddc['default'])(path[_0x32ed15(0x154)](_0xeafce7['config']));return _0x98e86c['splice'](_0x1f8ca9,0x2),_0x485c05['OgHyX'](_0x579415,{});}const _0x234d01=_0x485c05[_0x32ed15(0x156)](require,path[_0x32ed15(0x171)](process['cwd'](),_0x485c05[_0x32ed15(0x20f)]));if(_0x234d01['jest'])return logger[_0x32ed15(0x17b)](_0x485c05[_0x32ed15(0x1d5)]),_0x234d01[_0x32ed15(0x14d)];const _0xa5fa6d=['js',_0x485c05[_0x32ed15(0x212)],_0x485c05[_0x32ed15(0x18f)],_0x485c05[_0x32ed15(0x1cb)],'ts'];for(const _0x5043b1 of _0xa5fa6d){const _0x505464=path[_0x32ed15(0x171)](process['cwd'](),_0x32ed15(0x1ff)+_0x5043b1);if(fs['existsSync'](_0x505464)){process[_0x32ed15(0x162)][_0x32ed15(0x208)]=_0x505464;const _0x244956=await(0x0,_0x511ddc['default'])(_0x505464);return _0x244956;}}return{};},getSerial=(_0x265581,_0x2e2c63)=>{const _0x11de00=a14_0x57d45c,_0x4fb417={};_0x4fb417[_0x11de00(0x18e)]=_0x11de00(0x18b),_0x4fb417[_0x11de00(0x1dd)]=function(_0x1a0d47,_0x56e827){return _0x1a0d47>_0x56e827;},_0x4fb417['ACCcE']=_0x11de00(0x1c0);const _0x5208ec=_0x4fb417;let _0x222372=_0x5208ec['usqBf'];return _0x5208ec['EZGwS'](_0x265581[_0x11de00(0x146)],0x1)&&(!_0x2e2c63[_0x11de00(0x152)]&&(helper[_0x11de00(0x204)](_0x2e2c63[_0x11de00(0x160)])||_0x5208ec[_0x11de00(0x1dd)](_0x2e2c63[_0x11de00(0x160)],0x1)))&&(_0x222372=_0x5208ec[_0x11de00(0x173)]),_0x222372;},getMaxWorkers=(_0x4a5997,_0x2ee3c2,_0x2e8305)=>{const _0x31e156=a14_0x57d45c,_0x786311={'SHocz':function(_0x407221,_0x26f82e){return _0x407221(_0x26f82e);}};let _0x52f53a=0x1;if(!helper[_0x31e156(0x204)](_0x2ee3c2['parallelsPerPlatform']))_0x52f53a=_0x786311['SHocz'](parseInt,_0x2ee3c2['parallelsPerPlatform']);else{if(!helper['isUndefined'](_0x4a5997[_0x31e156(0x160)]))_0x52f53a=_0x4a5997[_0x31e156(0x160)];else!helper['isUndefined'](_0x2e8305[_0x31e156(0x160)])&&(_0x52f53a=_0x2e8305['maxWorkers']);}return _0x52f53a;};async function run(_0x14863e,_0x10c1ab,_0x307ce1){const _0x18777c=a14_0x57d45c,_0x536e61={'YHuWA':_0x18777c(0x16c),'vUjPj':_0x18777c(0x14d),'NqiFV':function(_0x2b3243,_0x5ec18b){return _0x2b3243(_0x5ec18b);},'Yuvlm':_0x18777c(0x148),'BpLfX':function(_0x156d9e,_0x59ac54,_0x2b8ad8,_0x31dc8f){return _0x156d9e(_0x59ac54,_0x2b8ad8,_0x31dc8f);},'ZvUcI':function(_0x5751ae,_0x397fbc){return _0x5751ae!=_0x397fbc;},'WWrsY':'true','LmflR':function(_0x3ffff5,_0x1e73c3,_0x1e5775){return _0x3ffff5(_0x1e73c3,_0x1e5775);},'kmXWf':_0x18777c(0x190),'YDRAq':_0x18777c(0x1c0),'ybFUl':function(_0x181197,_0x4a6153,_0x323528,_0x1edf43){return _0x181197(_0x4a6153,_0x323528,_0x1edf43);},'RynTN':function(_0x7070e9,_0x11ba01){return _0x7070e9*_0x11ba01;},'WihVG':function(_0x3c5985,_0x59c2d6){return _0x3c5985===_0x59c2d6;},'BBxpu':'jest_browserstack.config.cjs','wBBlU':_0x18777c(0x1e0),'TmkCD':_0x18777c(0x1a4),'yPKRy':_0x18777c(0x1c8),'mHdRu':'customTestRunner.js','LJbwb':_0x18777c(0x184),'HGYLy':_0x18777c(0x20c),'vjuTR':_0x18777c(0x203),'KGajV':_0x18777c(0x158),'UWWej':_0x18777c(0x1ea),'rLZbp':_0x18777c(0x1f5),'MlGnd':_0x18777c(0x1e9),'EygfW':'data-hooks.js','SBaLQ':_0x18777c(0x161),'kXOKX':_0x18777c(0x163),'AGMBO':_0x18777c(0x185),'iZFRZ':_0x18777c(0x16d),'hJqSo':'Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','jGjTZ':_0x18777c(0x1ba),'soHaN':'Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','SIerm':'default','vWbvH':_0x18777c(0x14b),'oTuCr':function(_0x3f3882,_0xcc2ef3){return _0x3f3882>_0xcc2ef3;},'eYpdq':'Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','RYgLr':_0x18777c(0x164),'Rthpm':_0x18777c(0x19e),'mAvnr':_0x18777c(0x202),'LEnkA':'inherit','rmalO':_0x18777c(0x186)},_0xafe8d8=helper['getPackageVersion'](_0x536e61[_0x18777c(0x189)]);global[_0x18777c(0x1f1)]=!!_0xafe8d8;helper['isBrowserstackInfra']()?(await _0x307ce1[_0x18777c(0x16e)](_0x14863e),await helper['handleApp'](_0x307ce1[_0x18777c(0x210)])):await _0x307ce1[_0x18777c(0x13f)]();await _0x536e61['BpLfX'](checkPwandBootstrapCli,_0xafe8d8,constants[_0x18777c(0x20d)]['JEST'],_0x307ce1);if(!_0x307ce1['config'])return;_0x536e61[_0x18777c(0x17e)](_0x307ce1[_0x18777c(0x210)][_0x18777c(0x150)],null)?process[_0x18777c(0x162)][_0x18777c(0x17f)]=_0x307ce1[_0x18777c(0x210)]['testObservability']:process[_0x18777c(0x162)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x536e61[_0x18777c(0x1ad)];const _0x35bcac=new TestOrchestrationHandler(_0x307ce1[_0x18777c(0x210)]),_0x1f65ac=await _0x536e61[_0x18777c(0x1a6)](getUserJestConfigs,_0x14863e,_0x10c1ab);logger[_0x18777c(0x17b)](_0x536e61[_0x18777c(0x1c5)]);const _0x5d0c24=Object[_0x18777c(0x1a5)]({},_0x1f65ac);_0x5d0c24[_0x18777c(0x1cc)]=Object[_0x18777c(0x1a5)]({},_0x5d0c24['testEnvironmentOptions'],{'server':helper[_0x18777c(0x1f8)](_0x307ce1[_0x18777c(0x210)]),'environment':_0x1f65ac[_0x18777c(0x16a)]}),_0x5d0c24[_0x18777c(0x1cc)][_0x18777c(0x1c1)]=_0x536e61[_0x18777c(0x141)](getPercyOptions,_0x307ce1[_0x18777c(0x210)]);const _0x154bb2=helper[_0x18777c(0x1e6)](_0x307ce1['config']);!helper[_0x18777c(0x204)](_0x307ce1[_0x18777c(0x210)][_0x18777c(0x1ee)])&&(process[_0x18777c(0x162)][_0x18777c(0x180)]=JSON['stringify'](_0x307ce1[_0x18777c(0x210)][_0x18777c(0x1ee)]));if(!BrowserstackCLI['getInstance']()[_0x18777c(0x187)]()){const _0x74d1b1=await TestHubHandler[_0x18777c(0x1d4)](FRAMEWORKS[_0x18777c(0x1f2)],_0x307ce1);}const _0x3b5d2e=helper[_0x18777c(0x19c)](_0x307ce1['config'],_0x154bb2,constants[_0x18777c(0x20d)]['JEST']);process[_0x18777c(0x162)][_0x18777c(0x1e4)]=JSON[_0x18777c(0x20b)](_0x3b5d2e);let _0x4f0b25=_0x307ce1[_0x18777c(0x210)]['accessibility'];_0x4f0b25=_0x4f0b25||accessibilityHelper[_0x18777c(0x15b)](_0x307ce1[_0x18777c(0x210)]),process['env'][_0x18777c(0x1e7)]=_0x4f0b25,logger[_0x18777c(0x1b6)](_0x18777c(0x1e5)+_0x4f0b25+_0x18777c(0x1be)+BrowserstackCLI[_0x18777c(0x201)]()[_0x18777c(0x187)]());if(_0xafe8d8)try{const _0x3db4c9=_0x536e61[_0x18777c(0x141)](checkAccessibilityPlatformConfig,_0x307ce1[_0x18777c(0x210)]);process[_0x18777c(0x162)][_0x18777c(0x1db)]=_0x3db4c9?_0x536e61[_0x18777c(0x1ad)]:_0x536e61[_0x18777c(0x15a)],logger[_0x18777c(0x1b6)](_0x18777c(0x172)+_0x3db4c9+_0x18777c(0x198)+process[_0x18777c(0x162)][_0x18777c(0x1db)]);}catch(_0x458f89){logger[_0x18777c(0x1b6)](_0x18777c(0x15d)+util[_0x18777c(0x196)](_0x458f89));}_0x5d0c24[_0x18777c(0x1cc)][_0x18777c(0x207)]=_0x3b5d2e,_0x5d0c24[_0x18777c(0x1cc)][_0x18777c(0x1b7)]=_0x536e61[_0x18777c(0x1a6)](getSerial,_0x3b5d2e,_0x14863e),_0x5d0c24[_0x18777c(0x1cc)][_0x18777c(0x1fd)]=_0x536e61[_0x18777c(0x178)](getMaxWorkers,_0x14863e,_0x307ce1[_0x18777c(0x210)],_0x1f65ac),_0x5d0c24[_0x18777c(0x1cc)][_0x18777c(0x1df)]=_0x307ce1['config'][_0x18777c(0x1df)],_0x5d0c24['testEnvironmentOptions'][_0x18777c(0x1ca)]=_0x536e61[_0x18777c(0x1bc)](_0x14863e[_0x18777c(0x1c6)],0x1)||0x1388,_0x5d0c24[_0x18777c(0x1cc)][_0x18777c(0x20e)]=_0x307ce1['config'][_0x18777c(0x1e8)][_0x18777c(0x20e)],_0x5d0c24[_0x18777c(0x1cc)]['skipSessionStatus']=_0x307ce1['config'][_0x18777c(0x1e8)]['skipSessionStatus'],_0x5d0c24[_0x18777c(0x1cc)]['browserStackLogLevel']=_0x307ce1[_0x18777c(0x210)][_0x18777c(0x1d3)],_0x5d0c24['testEnvironmentOptions'][_0x18777c(0x19b)]=_0x307ce1['config'][_0x18777c(0x19b)],_0x5d0c24[_0x18777c(0x1cc)]['platformCaps']=_0x307ce1[_0x18777c(0x210)][_0x18777c(0x1eb)];const _0x11e7df=helper[_0x18777c(0x1de)](_0x307ce1[_0x18777c(0x210)]);if(!helper[_0x18777c(0x1e3)](_0x11e7df)){helper['isNotUndefined'](_0x11e7df['retryTestsOnFailure'])&&(_0x5d0c24['testEnvironmentOptions']['retries__']=_0x11e7df[_0x18777c(0x1ac)]['maxRetries']);if(helper[_0x18777c(0x1bb)](_0x11e7df[_0x18777c(0x17c)])&&helper[_0x18777c(0x1bb)](_0x11e7df[_0x18777c(0x17c)]['workingDir'])){const _0x2c0cec={};_0x2c0cec[_0x18777c(0x197)]=_0x11e7df['abortBuildOnFailure']['maxFailures'],_0x2c0cec[_0x18777c(0x1b3)]=_0x11e7df[_0x18777c(0x17c)]['workingDir'],_0x5d0c24[_0x18777c(0x1cc)]['failFast']=_0x2c0cec;}}let _0x1dceba='';_0x536e61['WihVG'](helper[_0x18777c(0x1e2)](),constants[_0x18777c(0x1f9)][_0x18777c(0x1a2)])?_0x1dceba=_0x536e61[_0x18777c(0x1a9)]:_0x1dceba=_0x536e61[_0x18777c(0x1b4)];const _0xccf552=_0x1dceba,_0x332b3d=path[_0x18777c(0x171)](__dirname,_0x536e61['TmkCD'],_0x536e61[_0x18777c(0x193)]),_0xf30b21=path[_0x18777c(0x171)](__dirname,_0x536e61[_0x18777c(0x153)],_0x536e61[_0x18777c(0x15f)]),_0x396084=path[_0x18777c(0x171)](__dirname,_0x536e61['TmkCD'],_0x536e61[_0x18777c(0x1b1)]);_0x5d0c24[_0x18777c(0x16a)]&&(process[_0x18777c(0x162)]['BSTACK_JEST_TEST_ENV']=_0x5d0c24[_0x18777c(0x16a)]);_0x5d0c24[_0x18777c(0x16a)]=path[_0x18777c(0x171)](__dirname,_0x536e61[_0x18777c(0x153)],_0x536e61[_0x18777c(0x15e)]),_0x5d0c24[_0x18777c(0x1f7)]=_0xf30b21,_0x5d0c24[_0x18777c(0x1ce)]=_0x5d0c24[_0x18777c(0x1ce)]||[],_0x5d0c24[_0x18777c(0x1ce)][_0x18777c(0x17a)](path[_0x18777c(0x171)](__dirname,_0x536e61[_0x18777c(0x176)]));_0x35bcac[_0x18777c(0x211)]()&&(_0x5d0c24['testSequencer']=path['join'](__dirname,_0x536e61['TmkCD'],_0x536e61[_0x18777c(0x149)]));if(testhubUtils[_0x18777c(0x145)]()){let _0x2beb75=null;try{_0x2beb75=helper[_0x18777c(0x18d)](_0x536e61[_0x18777c(0x1d0)],_0x536e61['rLZbp']);}catch(_0x3127ff){_0x536e61[_0x18777c(0x141)](debug,_0x18777c(0x1a7)+_0x3127ff);}_0x2beb75&&(_0x5d0c24[_0x18777c(0x1ce)]['push'](path['join'](__dirname,_0x536e61['MlGnd'],_0x536e61[_0x18777c(0x1ae)])),_0x5d0c24[_0x18777c(0x183)]=path[_0x18777c(0x171)](__dirname,_0x536e61[_0x18777c(0x153)],_0x536e61[_0x18777c(0x1f4)]));}_0x5d0c24[_0x18777c(0x188)]=_0x5d0c24[_0x18777c(0x188)]||[];try{helper[_0x18777c(0x1d8)](),_0x5d0c24[_0x18777c(0x188)]['push'](path[_0x18777c(0x171)](__dirname,_0x536e61[_0x18777c(0x18c)]));}catch{logger[_0x18777c(0x1b6)](_0x536e61[_0x18777c(0x1ec)]);}try{helper[_0x18777c(0x18a)][_0x18777c(0x205)](null,[_0x536e61[_0x18777c(0x189)],_0x536e61['iZFRZ']]),logger[_0x18777c(0x1b6)](_0x536e61[_0x18777c(0x19d)]),_0x5d0c24[_0x18777c(0x188)]['push'](path['join'](__dirname,_0x536e61[_0x18777c(0x13e)]));}catch(_0x36bb9a){logger[_0x18777c(0x1b6)](_0x536e61[_0x18777c(0x1cd)],_0x36bb9a);}_0x5d0c24['reporters']=_0x5d0c24[_0x18777c(0x1f3)]||[_0x536e61[_0x18777c(0x1c2)]],_0x536e61[_0x18777c(0x1a6)](updateTestRerunConfig,_0x5d0c24,_0x307ce1);const _0x5318a5=fs['readFileSync'](_0x396084);fs[_0x18777c(0x167)](_0x5d0c24[_0x18777c(0x1f7)],_0x18777c(0x151)+_0x5318a5+_0x18777c(0x166)+_0x307ce1[_0x18777c(0x210)][_0x18777c(0x1eb)][_0x18777c(0x146)]+_0x18777c(0x1d7)),logger[_0x18777c(0x17b)](_0x18777c(0x206)+_0xccf552+_0x18777c(0x165)),fs['writeFileSync'](_0xccf552,_0x18777c(0x1c7)+JSON[_0x18777c(0x20b)](_0x5d0c24)+_0x18777c(0x1c3));if(_0x35bcac[_0x18777c(0x211)]()){logger[_0x18777c(0x1b6)](_0x536e61[_0x18777c(0x174)]);const _0x1a05e5=await _0x35bcac[_0x18777c(0x200)](_0x5d0c24,_0x10c1ab['slice'](0x1),_0xccf552);logger[_0x18777c(0x1b6)](_0x18777c(0x1af)+JSON['stringify'](_0x1a05e5)+_0x18777c(0x1cf));const _0x45ec8b=await _0x35bcac['reorderTestFiles'](_0x1a05e5);logger['debug'](_0x18777c(0x1ef)+JSON['stringify'](_0x45ec8b)),_0x45ec8b&&_0x536e61['oTuCr'](_0x45ec8b[_0x18777c(0x146)],0x0)&&(process['env'][_0x18777c(0x155)]=_0x45ec8b?.[_0x18777c(0x171)](','));}logger['info'](_0x536e61['eYpdq']);testhubUtils[_0x18777c(0x145)]()&&TestDetails[_0x18777c(0x1a0)]();helper[_0x18777c(0x191)]({},_0x10c1ab),PerformanceTester[_0x18777c(0x143)](PerformanceEvents[_0x18777c(0x1d6)]);const _0x34ee32=_0x536e61['BpLfX'](spawn,_0x536e61['RYgLr'],[_0x536e61[_0x18777c(0x140)],_0x536e61[_0x18777c(0x1d9)],_0xccf552,..._0x10c1ab[_0x18777c(0x214)](0x1)],{'shell':_0x536e61[_0x18777c(0x159)](process['platform'],_0x536e61['mAvnr']),'stdio':_0x536e61['LEnkA'],'env':Object[_0x18777c(0x1a5)]({},process[_0x18777c(0x162)])});_0x34ee32['on'](_0x536e61[_0x18777c(0x168)],async _0x1c6926=>{const _0x20a213=_0x18777c;PerformanceTester['start'](PerformanceEvents[_0x20a213(0x142)]);try{const {browserstackFolderPath:_0x101ebf,tcgConfigPath:_0x5533ea}=helper[_0x20a213(0x181)]();fs['unlinkSync'](_0x5533ea),fs[_0x20a213(0x199)](_0x101ebf);}catch(_0x34d9ef){logger[_0x20a213(0x1b6)](_0x536e61[_0x20a213(0x1c4)],_0x34d9ef);}process[_0x20a213(0x1b5)]=_0x1c6926,logger[_0x20a213(0x1b6)](_0x20a213(0x213)+_0x1c6926),logger[_0x20a213(0x17b)]('Deleting\x20'+_0xccf552);if(helper[_0x20a213(0x1bb)](_0x11e7df)&&helper[_0x20a213(0x1bb)](_0x11e7df[_0x20a213(0x17c)])&&fs[_0x20a213(0x1fc)](_0x11e7df[_0x20a213(0x17c)]['workingDir']))try{const _0x4bdc06={};_0x4bdc06[_0x20a213(0x1b2)]=!![],_0x4bdc06[_0x20a213(0x175)]=!![],fs[_0x20a213(0x1c9)](_0x11e7df[_0x20a213(0x17c)][_0x20a213(0x1b3)],_0x4bdc06),logger[_0x20a213(0x1b6)]('Deleted\x20fail-fast\x20state\x20folder:\x20'+_0x11e7df[_0x20a213(0x17c)]['workingDir']);}catch(_0xf47555){logger['error']('Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20'+_0xf47555);}let _0x18a001=null;if(fs[_0x20a213(0x1fc)](_0x332b3d)){_0x18a001=fs[_0x20a213(0x1b0)](_0x332b3d);try{_0x18a001=JSON['parse'](_0x18a001);}catch(_0xf86a5c){logger[_0x20a213(0x1b6)](_0x20a213(0x144)+_0x332b3d+',\x20'+_0x18a001+_0x20a213(0x182)+_0xf86a5c);}fs['unlinkSync'](_0x332b3d);}fs[_0x20a213(0x169)](_0xccf552),fs[_0x20a213(0x169)](_0xf30b21),_0x18a001&&(_0x307ce1[_0x20a213(0x209)]=helper[_0x20a213(0x1a1)](_0x18a001,_0x536e61['vUjPj'],_0x307ce1));try{await TestHubHandler[_0x20a213(0x1fa)](),await BrowserstackCLI[_0x20a213(0x201)]()[_0x20a213(0x1fa)]();}catch(_0x157f8b){console[_0x20a213(0x20a)](_0x157f8b),_0x536e61[_0x20a213(0x141)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20'+util['format'](_0x157f8b));}testOpsHelper[_0x20a213(0x1e1)](),TestDetails['shutdown'](),await utilities['finalExecution'](_0x307ce1);});}module['exports']=run;