#!/usr/bin/env node
'use strict';const a14_0x284a4a=a14_0x4de5;(function(_0x1bafa4,_0x4c4041){const _0x2607dd=a14_0x4de5,_0x283243=_0x1bafa4();while(!![]){try{const _0x535236=parseInt(_0x2607dd(0x100))/0x1+-parseInt(_0x2607dd(0xf8))/0x2*(parseInt(_0x2607dd(0xdc))/0x3)+parseInt(_0x2607dd(0xf9))/0x4*(parseInt(_0x2607dd(0xa5))/0x5)+parseInt(_0x2607dd(0xda))/0x6*(parseInt(_0x2607dd(0x10a))/0x7)+parseInt(_0x2607dd(0x15b))/0x8*(-parseInt(_0x2607dd(0xc2))/0x9)+parseInt(_0x2607dd(0xb5))/0xa*(parseInt(_0x2607dd(0xa7))/0xb)+-parseInt(_0x2607dd(0xd2))/0xc;if(_0x535236===_0x4c4041)break;else _0x283243['push'](_0x283243['shift']());}catch(_0x53db6d){_0x283243['push'](_0x283243['shift']());}}}(a14_0x5990,0x658bc));function a14_0x4de5(_0x4977ab,_0x336411){const _0x59900e=a14_0x5990();return a14_0x4de5=function(_0x4de577,_0x52cba4){_0x4de577=_0x4de577-0x8c;let _0x1bfbdd=_0x59900e[_0x4de577];return _0x1bfbdd;},a14_0x4de5(_0x4977ab,_0x336411);}const fs=require('fs'),path=require('path'),util=require(a14_0x284a4a(0x95)),{spawn}=require(a14_0x284a4a(0x10b)),logger=require(a14_0x284a4a(0xb1))[a14_0x284a4a(0x152)],{default:BrowserStackSetup}=require(a14_0x284a4a(0xf2)),helper=require(a14_0x284a4a(0x138)),utilities=require('../../helpers/utilities'),constants=require('../utils/constants'),accessibilityHelper=require(a14_0x284a4a(0x13a)),{updateTestRerunConfig}=require(a14_0x284a4a(0x9d)),testOpsHelper=require(a14_0x284a4a(0xd7)),{debug}=require(a14_0x284a4a(0xd7)),TestDetails=require(a14_0x284a4a(0xe7)),{getPercyOptions}=require('../../helpers/percy/utils'),TestHubHandler=require('../../helpers/testhub/testhubHandler'),testhubUtils=require('../../helpers/testhub/utils'),{FRAMEWORKS}=require(a14_0x284a4a(0x140)),PerformanceTester=require(a14_0x284a4a(0x121)),PerformanceEvents=require(a14_0x284a4a(0xfd))[a14_0x284a4a(0x104)],TestOrchestrationHandler=require(a14_0x284a4a(0x125)),BrowserstackCLI=require(a14_0x284a4a(0x137)),{checkPwandBootstrapCli}=require(a14_0x284a4a(0xf3)),ClientTroubleShootingService=require(a14_0x284a4a(0x111)),{checkAccessibilityPlatformConfig}=require(a14_0x284a4a(0x13a)),getUserJestConfigs=async(_0x2189c9,_0x3b3c31)=>{const _0x585160=a14_0x284a4a,_0xe1f551={'bRSKo':_0x585160(0xad),'rcpas':'jest-config','Xsuvx':function(_0x1653e3,_0x31f091){return _0x1653e3||_0x31f091;},'gBPyy':function(_0x4cdf65,_0x11a728){return _0x4cdf65(_0x11a728);},'mpyEc':_0x585160(0x154),'pXKQa':_0x585160(0xf6),'IVbFn':_0x585160(0x15e),'xqRHb':'cjs','CzJXa':'json'},_0x17f552=helper['requireModule'](_0xe1f551[_0x585160(0x11b)],_0xe1f551[_0x585160(0x9a)]),_0x3ee397=_0x3b3c31['findIndex'](_0x1c1ad2=>_0x1c1ad2===_0x585160(0x8d));if(!helper[_0x585160(0x10d)](_0x2189c9[_0x585160(0xfe)])){logger[_0x585160(0x117)](_0x585160(0xe3)+_0x2189c9['config']),process[_0x585160(0x90)][_0x585160(0x97)]=_0x2189c9[_0x585160(0xfe)];const _0x33d470=await(0x0,_0x17f552[_0x585160(0xbb)])(path[_0x585160(0xdf)](_0x2189c9['config']));return _0x3b3c31[_0x585160(0xb4)](_0x3ee397,0x2),_0xe1f551['Xsuvx'](_0x33d470,{});}const _0x3291a1=_0xe1f551[_0x585160(0x129)](require,path['join'](process['cwd'](),_0xe1f551[_0x585160(0x12f)]));if(_0x3291a1[_0x585160(0x130)])return logger[_0x585160(0x117)](_0xe1f551[_0x585160(0x13b)]),_0x3291a1[_0x585160(0x130)];const _0x5a2b5c=['js',_0xe1f551[_0x585160(0xc4)],_0xe1f551['xqRHb'],_0xe1f551['CzJXa'],'ts'];for(const _0x254e67 of _0x5a2b5c){const _0x5e78c6=path[_0x585160(0xeb)](process[_0x585160(0x114)](),'jest.config.'+_0x254e67);if(fs[_0x585160(0x8e)](_0x5e78c6)){process[_0x585160(0x90)]['USER_CONFIG_DETAILS_PATH']=_0x5e78c6;const _0x176ad5=await(0x0,_0x17f552[_0x585160(0xbb)])(_0x5e78c6);return _0x176ad5;}}return{};},getSerial=(_0x343eb5,_0x30ce54)=>{const _0x5d0af0=a14_0x284a4a,_0xe1ce15={};_0xe1ce15[_0x5d0af0(0x116)]=_0x5d0af0(0xf0),_0xe1ce15['dccnT']=function(_0x5e16bc,_0x2dfbb4){return _0x5e16bc>_0x2dfbb4;},_0xe1ce15[_0x5d0af0(0x135)]=_0x5d0af0(0x99);const _0x2fd152=_0xe1ce15;let _0x1951dc=_0x2fd152[_0x5d0af0(0x116)];return _0x2fd152[_0x5d0af0(0xec)](_0x343eb5[_0x5d0af0(0x9e)],0x1)&&(!_0x30ce54[_0x5d0af0(0xbd)]&&(helper['isUndefined'](_0x30ce54['maxWorkers'])||_0x2fd152['dccnT'](_0x30ce54[_0x5d0af0(0xac)],0x1)))&&(_0x1951dc=_0x2fd152['PSTyG']),_0x1951dc;},getMaxWorkers=(_0x14d06b,_0x240730,_0x2b371d)=>{const _0x3950be=a14_0x284a4a,_0x3db16d={'VTZju':function(_0x4ccf7f,_0x39754d){return _0x4ccf7f(_0x39754d);}};let _0x396887=0x1;if(!helper[_0x3950be(0x10d)](_0x240730['parallelsPerPlatform']))_0x396887=_0x3db16d[_0x3950be(0x108)](parseInt,_0x240730[_0x3950be(0x126)]);else{if(!helper[_0x3950be(0x10d)](_0x14d06b[_0x3950be(0xac)]))_0x396887=_0x14d06b[_0x3950be(0xac)];else!helper['isUndefined'](_0x2b371d['maxWorkers'])&&(_0x396887=_0x2b371d['maxWorkers']);}return _0x396887;};async function run(_0x1f5492,_0x1190f0,_0x528b34){const _0x36c910=a14_0x284a4a,_0x125eaa={'yzCGN':_0x36c910(0xe6),'BqHYB':_0x36c910(0x130),'znFNQ':function(_0x56a388,_0x2549cb){return _0x56a388(_0x2549cb);},'HwDiv':_0x36c910(0xab),'jaKvG':function(_0x518565,_0x3f68eb,_0x5aa8e7,_0x57d943){return _0x518565(_0x3f68eb,_0x5aa8e7,_0x57d943);},'LJlbS':function(_0x526cd8,_0x256fdf){return _0x526cd8!=_0x256fdf;},'JffvE':'true','FnHsP':function(_0x23d605,_0x4cd5a3,_0x116520){return _0x23d605(_0x4cd5a3,_0x116520);},'zXWdL':_0x36c910(0x103),'RcRdX':function(_0x1048fe,_0x545492){return _0x1048fe(_0x545492);},'ggdBd':function(_0x5d5e23,_0x3bc4fd){return _0x5d5e23(_0x3bc4fd);},'VgKTb':'false','HPDuM':function(_0x4fb5b0,_0x3b4fd9){return _0x4fb5b0*_0x3b4fd9;},'SHsPC':function(_0x3f1a83,_0xf1f105){return _0x3f1a83===_0xf1f105;},'Qnvyt':'jest_browserstack.config.cjs','TlXEf':'jest_browserstack.config.js','PypmH':_0x36c910(0x11a),'rYoQb':'jest_browserstack_results.json','zyBrb':_0x36c910(0xcb),'SaRQs':_0x36c910(0x12e),'SebTQ':_0x36c910(0xaf),'oQTQP':_0x36c910(0xb0),'oBHbZ':_0x36c910(0x150),'qOgTp':_0x36c910(0xba),'DWWlh':_0x36c910(0x148),'DqKba':'test-observability','hFXPB':'data-hooks.js','IZLcO':_0x36c910(0x93),'KMnDc':'test_before.setup.js','tYQeF':'skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','wsdkO':_0x36c910(0x10f),'CjXHc':'Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','TMSNw':_0x36c910(0x9c),'zfplH':_0x36c910(0x12c),'SjQWJ':_0x36c910(0xbb),'ShNbp':function(_0x263761,_0x553f52,_0x13ba10){return _0x263761(_0x553f52,_0x13ba10);},'XMhYA':_0x36c910(0xbf),'cXrQO':function(_0x4c9307,_0x50097a){return _0x4c9307>_0x50097a;},'iZgao':'Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','iugtX':_0x36c910(0xae),'vXqho':'--config','ElBfh':function(_0xcb8f63,_0x4078d4){return _0xcb8f63===_0x4078d4;},'ITQRE':_0x36c910(0x128),'JBcUJ':_0x36c910(0x11e),'EJzXl':_0x36c910(0x145)},_0x4cd561=helper[_0x36c910(0x131)](_0x125eaa[_0x36c910(0xd5)]);global[_0x36c910(0xe4)]=!!_0x4cd561;helper['isBrowserstackInfra']()?(await _0x528b34[_0x36c910(0xd3)](_0x1f5492),await helper[_0x36c910(0x141)](_0x528b34['config'])):await _0x528b34[_0x36c910(0xe9)]();await _0x125eaa['jaKvG'](checkPwandBootstrapCli,_0x4cd561,constants[_0x36c910(0x9b)]['JEST'],_0x528b34);if(!_0x528b34['config'])return;_0x125eaa[_0x36c910(0x8f)](_0x528b34['config'][_0x36c910(0x11d)],null)?process[_0x36c910(0x90)][_0x36c910(0xc7)]=_0x528b34['config'][_0x36c910(0x11d)]:process['env'][_0x36c910(0xc7)]=_0x125eaa[_0x36c910(0xdd)];const _0x2be56e=new TestOrchestrationHandler(_0x528b34[_0x36c910(0xfe)]),_0x1e187d=await _0x125eaa['FnHsP'](getUserJestConfigs,_0x1f5492,_0x1190f0);logger[_0x36c910(0x117)](_0x125eaa['zXWdL']);const _0x17b8da=Object[_0x36c910(0x106)]({},_0x1e187d);_0x17b8da['testEnvironmentOptions']=Object[_0x36c910(0x106)]({},_0x17b8da[_0x36c910(0x98)],{'server':helper[_0x36c910(0x122)](_0x528b34[_0x36c910(0xfe)]),'environment':_0x1e187d[_0x36c910(0x14e)]}),_0x17b8da[_0x36c910(0x98)]['browserStackPercyOptions']=_0x125eaa['RcRdX'](getPercyOptions,_0x528b34['config']);const _0x42a480=helper[_0x36c910(0xc1)](_0x528b34[_0x36c910(0xfe)]);!helper[_0x36c910(0x10d)](_0x528b34[_0x36c910(0xfe)][_0x36c910(0x11f)])&&(process[_0x36c910(0x90)][_0x36c910(0x158)]=JSON[_0x36c910(0xca)](_0x528b34[_0x36c910(0xfe)][_0x36c910(0x11f)]));if(!BrowserstackCLI['getInstance']()['isRunning']()){const _0x240290=await TestHubHandler[_0x36c910(0x112)](FRAMEWORKS[_0x36c910(0x133)],_0x528b34);}const _0x5015f9=helper[_0x36c910(0x94)](_0x528b34['config'],_0x42a480,constants[_0x36c910(0x9b)][_0x36c910(0x133)]);process[_0x36c910(0x90)][_0x36c910(0xed)]=JSON['stringify'](_0x5015f9);let _0xa5bc62=_0x528b34[_0x36c910(0xfe)][_0x36c910(0x136)];_0xa5bc62=_0xa5bc62||accessibilityHelper[_0x36c910(0xa2)](_0x528b34['config']),process[_0x36c910(0x90)][_0x36c910(0x123)]=_0xa5bc62,logger[_0x36c910(0xee)](_0x36c910(0x13c)+_0xa5bc62+',\x20CLI\x20running:\x20'+BrowserstackCLI['getInstance']()[_0x36c910(0xd0)]());if(_0x4cd561)try{const _0x5db29f=_0x125eaa[_0x36c910(0xc6)](checkAccessibilityPlatformConfig,_0x528b34[_0x36c910(0xfe)]);process[_0x36c910(0x90)]['BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM']=_0x5db29f?_0x125eaa[_0x36c910(0xdd)]:_0x125eaa[_0x36c910(0xc0)],logger['debug'](_0x36c910(0x161)+_0x5db29f+',\x20BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM='+process[_0x36c910(0x90)][_0x36c910(0x12d)]);}catch(_0x548c70){logger[_0x36c910(0xee)]('Skipping\x20accessibility\x20env\x20setup\x20for\x20Playwright\x20due\x20to:\x20'+util['format'](_0x548c70));}_0x17b8da[_0x36c910(0x98)][_0x36c910(0xa0)]=_0x5015f9,_0x17b8da[_0x36c910(0x98)][_0x36c910(0xc8)]=_0x125eaa[_0x36c910(0x160)](getSerial,_0x5015f9,_0x1f5492),_0x17b8da[_0x36c910(0x98)][_0x36c910(0xbe)]=_0x125eaa[_0x36c910(0xbc)](getMaxWorkers,_0x1f5492,_0x528b34[_0x36c910(0xfe)],_0x1e187d),_0x17b8da[_0x36c910(0x98)][_0x36c910(0xf4)]=_0x528b34[_0x36c910(0xfe)]['proxySettings'],_0x17b8da[_0x36c910(0x98)]['timeout__']=_0x125eaa[_0x36c910(0xe1)](_0x1f5492[_0x36c910(0x102)],0x1)||0x1388,_0x17b8da[_0x36c910(0x98)][_0x36c910(0x156)]=_0x528b34[_0x36c910(0xfe)]['testContextOptions']['skipSessionName'],_0x17b8da[_0x36c910(0x98)][_0x36c910(0x143)]=_0x528b34[_0x36c910(0xfe)]['testContextOptions'][_0x36c910(0x143)],_0x17b8da['testEnvironmentOptions'][_0x36c910(0x144)]=_0x528b34['config'][_0x36c910(0x91)],_0x17b8da[_0x36c910(0x98)][_0x36c910(0x15a)]=_0x528b34['config'][_0x36c910(0x15a)],_0x17b8da[_0x36c910(0x98)][_0x36c910(0xa3)]=_0x528b34[_0x36c910(0xfe)][_0x36c910(0x14b)];const _0x1ddbb0=helper[_0x36c910(0xfb)](_0x528b34['config']);if(!helper['isEmpty'](_0x1ddbb0)){helper[_0x36c910(0x14a)](_0x1ddbb0[_0x36c910(0x113)])&&(_0x17b8da['testEnvironmentOptions'][_0x36c910(0xf7)]=_0x1ddbb0[_0x36c910(0x113)][_0x36c910(0x11c)]);if(helper[_0x36c910(0x14a)](_0x1ddbb0[_0x36c910(0x118)])&&helper['isNotUndefined'](_0x1ddbb0[_0x36c910(0x118)][_0x36c910(0xe5)])){const _0x2a0630={};_0x2a0630[_0x36c910(0x120)]=_0x1ddbb0['abortBuildOnFailure'][_0x36c910(0xa1)],_0x2a0630['workingDir']=_0x1ddbb0[_0x36c910(0x118)][_0x36c910(0xe5)],_0x17b8da[_0x36c910(0x98)]['failFast']=_0x2a0630;}}let _0x4d4496='';_0x125eaa['SHsPC'](helper[_0x36c910(0x132)](),constants[_0x36c910(0x159)]['MODULE'])?_0x4d4496=_0x125eaa[_0x36c910(0x12b)]:_0x4d4496=_0x125eaa[_0x36c910(0xfc)];const _0x54b8ba=_0x4d4496,_0x2dcd27=path['join'](__dirname,_0x125eaa[_0x36c910(0xa4)],_0x125eaa[_0x36c910(0xd1)]),_0x56a73b=path['join'](__dirname,_0x125eaa[_0x36c910(0xa4)],_0x125eaa[_0x36c910(0x96)]),_0x185b06=path[_0x36c910(0xeb)](__dirname,_0x125eaa[_0x36c910(0xa4)],_0x125eaa[_0x36c910(0x101)]);_0x17b8da[_0x36c910(0x14e)]&&(process['env'][_0x36c910(0x13e)]=_0x17b8da[_0x36c910(0x14e)]);_0x17b8da['testEnvironment']=path[_0x36c910(0xeb)](__dirname,_0x125eaa['PypmH'],_0x125eaa[_0x36c910(0x14c)]),_0x17b8da['runner']=_0x56a73b,_0x17b8da[_0x36c910(0xc9)]=_0x17b8da[_0x36c910(0xc9)]||[],_0x17b8da[_0x36c910(0xc9)][_0x36c910(0xb7)](path['join'](__dirname,_0x125eaa['oQTQP']));_0x2be56e['isTestOrchestrationEnabled']()&&(_0x17b8da[_0x36c910(0xb6)]=path[_0x36c910(0xeb)](__dirname,_0x125eaa[_0x36c910(0xa4)],_0x125eaa[_0x36c910(0x162)]));if(testhubUtils['shouldProcessEventForTesthub']()){let _0x30fa05=null;try{_0x30fa05=helper['requireModule'](_0x125eaa[_0x36c910(0x124)],_0x125eaa['DWWlh']);}catch(_0x5db3d8){_0x125eaa[_0x36c910(0xe2)](debug,_0x36c910(0xd6)+_0x5db3d8);}_0x30fa05&&(_0x17b8da[_0x36c910(0xc9)][_0x36c910(0xb7)](path[_0x36c910(0xeb)](__dirname,_0x125eaa[_0x36c910(0xaa)],_0x125eaa[_0x36c910(0x105)])),_0x17b8da[_0x36c910(0xb8)]=path[_0x36c910(0xeb)](__dirname,_0x125eaa['PypmH'],_0x125eaa[_0x36c910(0xc5)]));}_0x17b8da['setupFiles']=_0x17b8da['setupFiles']||[];try{helper['requireSeleniumWebdriver'](),_0x17b8da[_0x36c910(0x110)]['push'](path[_0x36c910(0xeb)](__dirname,_0x125eaa['KMnDc']));}catch{logger[_0x36c910(0xee)](_0x125eaa[_0x36c910(0x13f)]);}try{helper[_0x36c910(0x92)][_0x36c910(0xde)](null,[_0x125eaa[_0x36c910(0xd5)],_0x125eaa[_0x36c910(0xef)]]),logger[_0x36c910(0xee)](_0x125eaa[_0x36c910(0x10e)]),_0x17b8da[_0x36c910(0x110)]['push'](path[_0x36c910(0xeb)](__dirname,_0x125eaa[_0x36c910(0x157)]));}catch(_0xb9ae8){logger['debug'](_0x125eaa['zfplH'],_0xb9ae8);}_0x17b8da[_0x36c910(0x146)]=_0x17b8da['reporters']||[_0x125eaa[_0x36c910(0xb2)]],_0x125eaa[_0x36c910(0x15f)](updateTestRerunConfig,_0x17b8da,_0x528b34);const _0x22aeba=fs[_0x36c910(0xd4)](_0x185b06);fs[_0x36c910(0xd8)](_0x17b8da['runner'],'\x0a\x20\x20\x20\x20'+_0x22aeba+_0x36c910(0x14f)+_0x528b34[_0x36c910(0xfe)]['platforms'][_0x36c910(0x9e)]+_0x36c910(0x155)),logger[_0x36c910(0x117)](_0x36c910(0xcf)+_0x54b8ba+_0x36c910(0x127)),fs[_0x36c910(0xd8)](_0x54b8ba,'const\x20config='+JSON[_0x36c910(0xca)](_0x17b8da)+_0x36c910(0x165));if(_0x2be56e[_0x36c910(0xdb)]()){logger[_0x36c910(0xee)](_0x125eaa[_0x36c910(0x15c)]);const _0x57f64f=await _0x2be56e['findTestFiles'](_0x17b8da,_0x1190f0['slice'](0x1),_0x54b8ba);logger[_0x36c910(0xee)](_0x36c910(0x142)+JSON[_0x36c910(0xca)](_0x57f64f)+'\x20test\x20files\x20to\x20run.');const _0x34a32c=await _0x2be56e['reorderTestFiles'](_0x57f64f);logger[_0x36c910(0xee)](_0x36c910(0x139)+JSON[_0x36c910(0xca)](_0x34a32c)),_0x34a32c&&_0x125eaa[_0x36c910(0xf5)](_0x34a32c['length'],0x0)&&(process['env'][_0x36c910(0xf1)]=_0x34a32c?.[_0x36c910(0xeb)](','));}logger[_0x36c910(0x117)](_0x125eaa[_0x36c910(0xe8)]);testhubUtils['shouldProcessEventForTesthub']()&&TestDetails['setup']();helper[_0x36c910(0x115)]({},_0x1190f0),PerformanceTester[_0x36c910(0x149)](PerformanceEvents[_0x36c910(0xb9)]);const _0x32a014=_0x125eaa[_0x36c910(0xbc)](spawn,_0x125eaa[_0x36c910(0x12a)],[_0x125eaa[_0x36c910(0x119)],_0x125eaa[_0x36c910(0xd9)],_0x54b8ba,..._0x1190f0[_0x36c910(0xb3)](0x1)],{'shell':_0x125eaa[_0x36c910(0xce)](process[_0x36c910(0x13d)],_0x125eaa[_0x36c910(0x153)]),'stdio':_0x125eaa[_0x36c910(0x147)],'env':Object[_0x36c910(0x106)]({},process[_0x36c910(0x90)])});_0x32a014['on'](_0x125eaa['EJzXl'],async _0xa6f71d=>{const _0x432c65=_0x36c910;PerformanceTester['start'](PerformanceEvents[_0x432c65(0x14d)]);try{const {browserstackFolderPath:_0x16e748,tcgConfigPath:_0x27ee11}=helper[_0x432c65(0xa8)]();fs[_0x432c65(0x109)](_0x27ee11),fs[_0x432c65(0xa6)](_0x16e748);}catch(_0x390d1f){logger[_0x432c65(0xee)](_0x125eaa[_0x432c65(0x10c)],_0x390d1f);}process[_0x432c65(0x163)]=_0xa6f71d,logger[_0x432c65(0xee)]('child\x20process\x20exited\x20with\x20code\x20'+_0xa6f71d),logger[_0x432c65(0x117)](_0x432c65(0x107)+_0x54b8ba);if(helper[_0x432c65(0x14a)](_0x1ddbb0)&&helper[_0x432c65(0x14a)](_0x1ddbb0[_0x432c65(0x118)])&&fs['existsSync'](_0x1ddbb0[_0x432c65(0x118)][_0x432c65(0xe5)]))try{const _0x341e32={};_0x341e32[_0x432c65(0x8c)]=!![],_0x341e32[_0x432c65(0x9f)]=!![],fs['rmSync'](_0x1ddbb0[_0x432c65(0x118)][_0x432c65(0xe5)],_0x341e32),logger['debug'](_0x432c65(0xcd)+_0x1ddbb0['abortBuildOnFailure']['workingDir']);}catch(_0x5a947d){logger['error']('Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20'+_0x5a947d);}let _0x13ccdd=null;if(fs['existsSync'](_0x2dcd27)){_0x13ccdd=fs[_0x432c65(0xd4)](_0x2dcd27);try{_0x13ccdd=JSON[_0x432c65(0xff)](_0x13ccdd);}catch(_0x3fef5b){logger['debug'](_0x432c65(0xcc)+_0x2dcd27+',\x20'+_0x13ccdd+_0x432c65(0x151)+_0x3fef5b);}fs[_0x432c65(0x109)](_0x2dcd27);}fs[_0x432c65(0x109)](_0x54b8ba),fs[_0x432c65(0x109)](_0x56a73b),_0x13ccdd&&(_0x528b34[_0x432c65(0xa9)]=helper[_0x432c65(0x134)](_0x13ccdd,_0x125eaa['BqHYB'],_0x528b34));try{await TestHubHandler[_0x432c65(0x15d)](),await BrowserstackCLI['getInstance']()[_0x432c65(0x15d)]();}catch(_0x5aa575){console[_0x432c65(0xc3)](_0x5aa575),_0x125eaa[_0x432c65(0xfa)](debug,_0x432c65(0xea)+util[_0x432c65(0xe0)](_0x5aa575));}testOpsHelper[_0x432c65(0x164)](),TestDetails['shutdown'](),await utilities['finalExecution'](_0x528b34);});}function a14_0x5990(){const _0x2dd1c4=['resolve','format','HPDuM','RcRdX','Getting\x20your\x20jest\x20configs\x20from\x20','__isPlaywrightInstalled','workingDir','error\x20removing\x20tcg\x20config\x20file','./test-observability/test-details','iZgao','setupTCGAuth','Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20','join','dccnT','BROWSERSTACK_CAPABILITIES','debug','wsdkO','true','JEST_TEST_ORDER','../../helpers/BrowserStackSetup','../../helpers/playwright-helper','proxySettings','cXrQO','Getting\x20your\x20jest\x20configs\x20from\x20package.json','retries__','60QvbgFT','4tXKWXC','znFNQ','parseTestOrchestrationOptions','TlXEf','../../helpers/performance/constants','config','parse','442363qzeGWS','SaRQs','testTimeout','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','EVENTS','hFXPB','assign','Deleting\x20','VTZju','unlinkSync','133qfhere','child_process','yzCGN','isUndefined','CjXHc','playwright','setupFiles','../utils/clientTroubleshootingService','launchBuild','retryTestsOnFailure','cwd','filterBrowserstackArgs','cYNRC','info','abortBuildOnFailure','BqHYB','customImplements','bRSKo','maxRetries','testObservability','inherit','accessibilityOptions','failureThresholdCount','../../helpers/performance/performance-tester','getHubUrl','BROWSERSTACK_TEST_ACCESSIBILITY_YML','qOgTp','../../helpers/test-orchestration/testOrchestrationHandler','parallelsPerPlatform','\x20with\x20browserstack\x20jest\x20configs','win32','gBPyy','iugtX','Qnvyt','Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM','customTestRunnerTemplate.js','mpyEc','jest','getPackageVersion','getPackageType','JEST','getErrorMessageFromResults','PSTyG','accessibility','../v2/browserstackCLI','../../helpers/helper','Reodered\x20Test\x20Files:\x20','../../helpers/accessibility-automation/helper','pXKQa','[Jest\x20Command]\x20Accessibility\x20enabled:\x20','platform','BSTACK_JEST_TEST_ENV','tYQeF','../../helpers/test-observability/constants','handleApp','Found:\x20','skipSessionStatus','browserStackLogLevel','close','reporters','JBcUJ','jest-circus','end','isNotUndefined','platforms','SebTQ','SDK_CLEANUP','testEnvironment','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','customSequencer.js','\x20:\x20','winstonLogger','ITQRE','package.json',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','skipSessionName','TMSNw','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','PACKAGE_TYPE','turboScaleUrl','165520NSCazM','XMhYA','stop','mjs','ShNbp','FnHsP','[Jest\x20Command]\x20Playwright\x20detected,\x20setting\x20accessibility\x20platform:\x20','oBHbZ','exitCode','printBuildLink','\x0amodule.exports\x20=\x20config;','recursive','--config','existsSync','LJlbS','env','logLevel','requirePWModule','customCircus.js','prepareCapabilities','util','zyBrb','USER_CONFIG_DETAILS_PATH','testEnvironmentOptions','false','rcpas','FRAMEWORKS','test.setup.js','./test-observability/helper','length','force','capabilities','maxFailures','checkAccessibilityPlatformConfig','platformCaps','PypmH','2022195VMIzed','rmdirSync','297dSewPs','getTCGConfigFilePaths','errorMessage','DqKba','@playwright/test','maxWorkers','jest-config/build/readConfigFileAndSetRootDir.js','npx','customEnvironment.js','jest.setup.js','../../helpers/logger','SjQWJ','slice','splice','277320jKvXcW','testSequencer','push','testRunner','SDK_SETUP','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','default','jaKvG','runInBand','parallels__','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','VgKTb','useW3C','342bzzfNP','log','IVbFn','IZLcO','ggdBd','BROWSERSTACK_TEST_OBSERVABILITY_YML','serial__','setupFilesAfterEnv','stringify','customTestRunner.js','Error\x20while\x20parsing\x20','Deleted\x20fail-fast\x20state\x20folder:\x20','ElBfh','Creating\x20','isRunning','rYoQb','3842724QXkWoE','initialize','readFileSync','HwDiv','Unable\x20to\x20find\x20jest-circus,\x20','../../helpers/test-observability/utils','writeFileSync','vXqho','2742pRGXhX','isTestOrchestrationEnabled','8187xLRrXD','JffvE','apply'];a14_0x5990=function(){return _0x2dd1c4;};return a14_0x5990();}module['exports']=run;