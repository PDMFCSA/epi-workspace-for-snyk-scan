#!/usr/bin/env node
'use strict';const a14_0x2f9ff5=a14_0x27c1;(function(_0x28848a,_0x16c9a2){const _0x2c50e0=a14_0x27c1,_0x332c4a=_0x28848a();while(!![]){try{const _0x269e93=parseInt(_0x2c50e0(0x20e))/0x1*(parseInt(_0x2c50e0(0x237))/0x2)+-parseInt(_0x2c50e0(0x1a1))/0x3+-parseInt(_0x2c50e0(0x24a))/0x4+parseInt(_0x2c50e0(0x1e1))/0x5+parseInt(_0x2c50e0(0x1c9))/0x6+parseInt(_0x2c50e0(0x1b8))/0x7*(parseInt(_0x2c50e0(0x1cf))/0x8)+parseInt(_0x2c50e0(0x195))/0x9;if(_0x269e93===_0x16c9a2)break;else _0x332c4a['push'](_0x332c4a['shift']());}catch(_0x1f1d7a){_0x332c4a['push'](_0x332c4a['shift']());}}}(a14_0x1f5e,0x9747a));const fs=require('fs'),path=require(a14_0x2f9ff5(0x1c3)),util=require(a14_0x2f9ff5(0x19d)),{spawn}=require('child_process'),logger=require(a14_0x2f9ff5(0x16f))[a14_0x2f9ff5(0x17b)],{default:BrowserStackSetup}=require(a14_0x2f9ff5(0x17f)),helper=require(a14_0x2f9ff5(0x206)),utilities=require(a14_0x2f9ff5(0x24b)),constants=require(a14_0x2f9ff5(0x1c7)),accessibilityHelper=require('../../helpers/accessibility-automation/helper'),{updateTestRerunConfig}=require(a14_0x2f9ff5(0x221)),testOpsHelper=require(a14_0x2f9ff5(0x215)),{debug}=require(a14_0x2f9ff5(0x215)),TestDetails=require('./test-observability/test-details'),{getPercyOptions}=require(a14_0x2f9ff5(0x182)),TestHubHandler=require('../../helpers/testhub/testhubHandler'),testhubUtils=require(a14_0x2f9ff5(0x1d8)),{FRAMEWORKS}=require(a14_0x2f9ff5(0x247)),PerformanceTester=require(a14_0x2f9ff5(0x249)),PerformanceEvents=require(a14_0x2f9ff5(0x227))['EVENTS'],TestOrchestrationHandler=require(a14_0x2f9ff5(0x1cb)),BrowserstackCLI=require(a14_0x2f9ff5(0x1a6)),{checkPwandBootstrapCli}=require(a14_0x2f9ff5(0x19f)),ClientTroubleShootingService=require(a14_0x2f9ff5(0x1b1)),{checkAccessibilityPlatformConfig}=require(a14_0x2f9ff5(0x1eb)),getUserJestConfigs=async(_0x47ff77,_0x38e712)=>{const _0x4613ea=a14_0x2f9ff5,_0x530f39={'TTZZt':_0x4613ea(0x1f6),'ToCxz':_0x4613ea(0x248),'qSLQf':function(_0x2297c5,_0xb557d1){return _0x2297c5||_0xb557d1;},'FuHdl':function(_0x4d1647,_0x2a69bb){return _0x4d1647(_0x2a69bb);},'AQQRR':_0x4613ea(0x1ba),'BnuPV':_0x4613ea(0x204),'JiCSD':_0x4613ea(0x1ae),'XWKpd':_0x4613ea(0x1c0),'aYyui':_0x4613ea(0x1ec)},_0x1aa475=helper[_0x4613ea(0x218)](_0x530f39[_0x4613ea(0x199)],_0x530f39[_0x4613ea(0x22d)]),_0x3e8270=_0x38e712[_0x4613ea(0x179)](_0x30cac2=>_0x30cac2===_0x4613ea(0x214));if(!helper[_0x4613ea(0x20d)](_0x47ff77[_0x4613ea(0x1af)])){logger[_0x4613ea(0x1e6)]('Getting\x20your\x20jest\x20configs\x20from\x20'+_0x47ff77[_0x4613ea(0x1af)]),process[_0x4613ea(0x19e)][_0x4613ea(0x1d0)]=_0x47ff77[_0x4613ea(0x1af)];const _0x3b0221=await(0x0,_0x1aa475[_0x4613ea(0x189)])(path[_0x4613ea(0x238)](_0x47ff77['config']));return _0x38e712[_0x4613ea(0x208)](_0x3e8270,0x2),_0x530f39[_0x4613ea(0x21e)](_0x3b0221,{});}const _0x1e0742=_0x530f39['FuHdl'](require,path[_0x4613ea(0x1bd)](process[_0x4613ea(0x18c)](),_0x530f39['AQQRR']));if(_0x1e0742['jest'])return logger[_0x4613ea(0x1e6)](_0x530f39['BnuPV']),_0x1e0742['jest'];const _0x1ea12a=['js',_0x530f39[_0x4613ea(0x21a)],_0x530f39[_0x4613ea(0x1d5)],_0x530f39['aYyui'],'ts'];for(const _0x210a97 of _0x1ea12a){const _0x6e3d07=path[_0x4613ea(0x1bd)](process[_0x4613ea(0x18c)](),_0x4613ea(0x1b7)+_0x210a97);if(fs[_0x4613ea(0x1f5)](_0x6e3d07)){process[_0x4613ea(0x19e)][_0x4613ea(0x1d0)]=_0x6e3d07;const _0x2a5404=await(0x0,_0x1aa475[_0x4613ea(0x189)])(_0x6e3d07);return _0x2a5404;}}return{};},getSerial=(_0x5c70fe,_0x59bd7d)=>{const _0x5d61d2=a14_0x2f9ff5,_0x38568e={};_0x38568e[_0x5d61d2(0x177)]=_0x5d61d2(0x23a),_0x38568e[_0x5d61d2(0x20b)]=function(_0x4b2166,_0x5ef474){return _0x4b2166>_0x5ef474;},_0x38568e['tacDd']=_0x5d61d2(0x1ee);const _0x3a685b=_0x38568e;let _0x71bdc9=_0x3a685b[_0x5d61d2(0x177)];return _0x3a685b[_0x5d61d2(0x20b)](_0x5c70fe[_0x5d61d2(0x1df)],0x1)&&(!_0x59bd7d[_0x5d61d2(0x1db)]&&(helper['isUndefined'](_0x59bd7d[_0x5d61d2(0x16e)])||_0x3a685b['KUbrA'](_0x59bd7d[_0x5d61d2(0x16e)],0x1)))&&(_0x71bdc9=_0x3a685b[_0x5d61d2(0x22f)]),_0x71bdc9;},getMaxWorkers=(_0x21019a,_0x399b5d,_0x35a022)=>{const _0x5785b8=a14_0x2f9ff5,_0x2af63c={'NlXBK':function(_0x1e5509,_0x23c0ec){return _0x1e5509(_0x23c0ec);}};let _0x13f32a=0x1;if(!helper[_0x5785b8(0x20d)](_0x399b5d[_0x5785b8(0x17c)]))_0x13f32a=_0x2af63c[_0x5785b8(0x211)](parseInt,_0x399b5d[_0x5785b8(0x17c)]);else{if(!helper[_0x5785b8(0x20d)](_0x21019a[_0x5785b8(0x16e)]))_0x13f32a=_0x21019a[_0x5785b8(0x16e)];else!helper[_0x5785b8(0x20d)](_0x35a022[_0x5785b8(0x16e)])&&(_0x13f32a=_0x35a022[_0x5785b8(0x16e)]);}return _0x13f32a;};async function run(_0x279366,_0x1aaa9b,_0x474dc2){const _0x2ed59f=a14_0x2f9ff5,_0x4ea4f3={'kTMcF':'error\x20removing\x20tcg\x20config\x20file','TMFSi':_0x2ed59f(0x185),'AddfE':function(_0x32f8e0,_0x55c9bf){return _0x32f8e0(_0x55c9bf);},'EYHte':_0x2ed59f(0x229),'KnUxF':function(_0x2da61c,_0x550aa8,_0x54bc11,_0x200b53){return _0x2da61c(_0x550aa8,_0x54bc11,_0x200b53);},'jFVZL':function(_0x4f20bf,_0x59413d){return _0x4f20bf!=_0x59413d;},'LeGMN':_0x2ed59f(0x23a),'wsHNr':function(_0xbb6526,_0x58e35b,_0x1819c3){return _0xbb6526(_0x58e35b,_0x1819c3);},'NWaZC':_0x2ed59f(0x1d6),'EubyP':function(_0x53f9da,_0x324a29){return _0x53f9da(_0x324a29);},'WMECP':_0x2ed59f(0x1ee),'jOdbb':function(_0x204889,_0x515c0e){return _0x204889*_0x515c0e;},'IFJfr':function(_0x5420c5,_0x46e01d){return _0x5420c5===_0x46e01d;},'qEpqW':_0x2ed59f(0x23c),'yKgYp':_0x2ed59f(0x1da),'WeNVu':'customImplements','zmfDx':_0x2ed59f(0x1d4),'VnLeR':_0x2ed59f(0x175),'eYtGG':_0x2ed59f(0x17d),'tPxEh':_0x2ed59f(0x18b),'apyEg':_0x2ed59f(0x1fe),'zSFVM':_0x2ed59f(0x23b),'XcVCs':'jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','gmavr':'jest-circus','qnbaM':function(_0x286aa5,_0x4b7149){return _0x286aa5(_0x4b7149);},'qauXt':_0x2ed59f(0x1a7),'lnxgm':_0x2ed59f(0x200),'Tkgkl':_0x2ed59f(0x19c),'DbIHg':'test_before.setup.js','xSGBr':_0x2ed59f(0x1de),'BiltR':_0x2ed59f(0x1fa),'kCDUC':'Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','QYFEP':_0x2ed59f(0x1a8),'ixPRx':'Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','DfMet':'default','CqVws':function(_0x2397d6,_0xdc68ab,_0x4621ac){return _0x2397d6(_0xdc68ab,_0x4621ac);},'loSLO':_0x2ed59f(0x1f8),'kobZL':function(_0x100fe5,_0x1ba109){return _0x100fe5>_0x1ba109;},'TCGfs':_0x2ed59f(0x1c2),'ppWwh':function(_0x4819d7,_0x33021a,_0xc058fb,_0x216a2e){return _0x4819d7(_0x33021a,_0xc058fb,_0x216a2e);},'Zhmlo':'npx','FIiEf':_0x2ed59f(0x214),'EDoro':function(_0x245828,_0x11ba9a){return _0x245828===_0x11ba9a;},'yPYLl':_0x2ed59f(0x1aa),'dtMfA':_0x2ed59f(0x1e3),'CiaDl':_0x2ed59f(0x1ef)},_0x5f3ac8=helper[_0x2ed59f(0x1fc)](_0x4ea4f3['EYHte']);global['__isPlaywrightInstalled']=!!_0x5f3ac8;helper[_0x2ed59f(0x1c8)]()?(await _0x474dc2['initialize'](_0x279366),await helper[_0x2ed59f(0x18f)](_0x474dc2[_0x2ed59f(0x1af)])):await _0x474dc2[_0x2ed59f(0x21f)]();await _0x4ea4f3[_0x2ed59f(0x1a9)](checkPwandBootstrapCli,_0x5f3ac8,constants[_0x2ed59f(0x22c)][_0x2ed59f(0x1ce)],_0x474dc2);if(!_0x474dc2[_0x2ed59f(0x1af)])return;_0x4ea4f3['jFVZL'](_0x474dc2[_0x2ed59f(0x1af)][_0x2ed59f(0x1c1)],null)?process[_0x2ed59f(0x19e)][_0x2ed59f(0x23d)]=_0x474dc2['config']['testObservability']:process[_0x2ed59f(0x19e)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x4ea4f3['LeGMN'];const _0x2d4db7=new TestOrchestrationHandler(_0x474dc2[_0x2ed59f(0x1af)]),_0x2d9369=await _0x4ea4f3['wsHNr'](getUserJestConfigs,_0x279366,_0x1aaa9b);logger[_0x2ed59f(0x1e6)](_0x4ea4f3['NWaZC']);const _0x49a078=Object[_0x2ed59f(0x1bc)]({},_0x2d9369);_0x49a078[_0x2ed59f(0x1ad)]=Object['assign']({},_0x49a078['testEnvironmentOptions'],{'server':helper[_0x2ed59f(0x184)](_0x474dc2[_0x2ed59f(0x1af)]),'environment':_0x2d9369[_0x2ed59f(0x22e)]}),_0x49a078[_0x2ed59f(0x1ad)]['browserStackPercyOptions']=_0x4ea4f3[_0x2ed59f(0x17a)](getPercyOptions,_0x474dc2[_0x2ed59f(0x1af)]);const _0x1115c9=helper[_0x2ed59f(0x202)](_0x474dc2[_0x2ed59f(0x1af)]);!helper[_0x2ed59f(0x20d)](_0x474dc2[_0x2ed59f(0x1af)]['accessibilityOptions'])&&(process[_0x2ed59f(0x19e)][_0x2ed59f(0x1f1)]=JSON['stringify'](_0x474dc2['config'][_0x2ed59f(0x234)]));if(!BrowserstackCLI[_0x2ed59f(0x1a0)]()[_0x2ed59f(0x245)]()){const _0x23c0f4=await TestHubHandler[_0x2ed59f(0x239)](FRAMEWORKS['JEST'],_0x474dc2);}const _0x3c8bef=helper['prepareCapabilities'](_0x474dc2[_0x2ed59f(0x1af)],_0x1115c9,constants[_0x2ed59f(0x22c)][_0x2ed59f(0x1ce)]);process[_0x2ed59f(0x19e)][_0x2ed59f(0x212)]=JSON[_0x2ed59f(0x1a3)](_0x3c8bef);let _0x12d81e=_0x474dc2[_0x2ed59f(0x1af)][_0x2ed59f(0x216)];_0x12d81e=_0x12d81e||accessibilityHelper['checkAccessibilityPlatformConfig'](_0x474dc2[_0x2ed59f(0x1af)]),process['env']['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x12d81e,logger[_0x2ed59f(0x241)](_0x2ed59f(0x196)+_0x12d81e+',\x20CLI\x20running:\x20'+BrowserstackCLI[_0x2ed59f(0x1a0)]()['isRunning']());if(_0x5f3ac8)try{const _0x1524ab=_0x4ea4f3[_0x2ed59f(0x240)](checkAccessibilityPlatformConfig,_0x474dc2['config']);process['env'][_0x2ed59f(0x19a)]=_0x1524ab?_0x4ea4f3[_0x2ed59f(0x1d3)]:_0x4ea4f3[_0x2ed59f(0x20a)],logger[_0x2ed59f(0x241)]('[Jest\x20Command]\x20Playwright\x20detected,\x20setting\x20accessibility\x20platform:\x20'+_0x1524ab+',\x20BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM='+process[_0x2ed59f(0x19e)][_0x2ed59f(0x19a)]);}catch(_0x4ce138){logger['debug'](_0x2ed59f(0x1be)+util[_0x2ed59f(0x172)](_0x4ce138));}_0x49a078[_0x2ed59f(0x1ad)][_0x2ed59f(0x243)]=_0x3c8bef,_0x49a078[_0x2ed59f(0x1ad)][_0x2ed59f(0x246)]=_0x4ea4f3[_0x2ed59f(0x1fd)](getSerial,_0x3c8bef,_0x279366),_0x49a078['testEnvironmentOptions'][_0x2ed59f(0x22a)]=_0x4ea4f3[_0x2ed59f(0x1a9)](getMaxWorkers,_0x279366,_0x474dc2['config'],_0x2d9369),_0x49a078['testEnvironmentOptions'][_0x2ed59f(0x1ca)]=_0x474dc2[_0x2ed59f(0x1af)][_0x2ed59f(0x1ca)],_0x49a078['testEnvironmentOptions']['timeout__']=_0x4ea4f3[_0x2ed59f(0x21c)](_0x279366[_0x2ed59f(0x1e9)],0x1)||0x1388,_0x49a078[_0x2ed59f(0x1ad)][_0x2ed59f(0x201)]=_0x474dc2[_0x2ed59f(0x1af)][_0x2ed59f(0x207)][_0x2ed59f(0x201)],_0x49a078['testEnvironmentOptions'][_0x2ed59f(0x225)]=_0x474dc2[_0x2ed59f(0x1af)][_0x2ed59f(0x207)][_0x2ed59f(0x225)],_0x49a078[_0x2ed59f(0x1ad)]['browserStackLogLevel']=_0x474dc2[_0x2ed59f(0x1af)][_0x2ed59f(0x178)],_0x49a078[_0x2ed59f(0x1ad)][_0x2ed59f(0x210)]=_0x474dc2['config']['turboScaleUrl'],_0x49a078['testEnvironmentOptions'][_0x2ed59f(0x1e0)]=_0x474dc2['config'][_0x2ed59f(0x174)];const _0x57cef7=helper['parseTestOrchestrationOptions'](_0x474dc2[_0x2ed59f(0x1af)]);if(!helper[_0x2ed59f(0x22b)](_0x57cef7)){helper[_0x2ed59f(0x170)](_0x57cef7[_0x2ed59f(0x1b3)])&&(_0x49a078[_0x2ed59f(0x1ad)][_0x2ed59f(0x233)]=_0x57cef7[_0x2ed59f(0x1b3)][_0x2ed59f(0x1f3)]);if(helper[_0x2ed59f(0x170)](_0x57cef7[_0x2ed59f(0x1b9)])&&helper[_0x2ed59f(0x170)](_0x57cef7[_0x2ed59f(0x1b9)]['workingDir'])){const _0x2b7b85={};_0x2b7b85['failureThresholdCount']=_0x57cef7[_0x2ed59f(0x1b9)]['maxFailures'],_0x2b7b85[_0x2ed59f(0x1e5)]=_0x57cef7[_0x2ed59f(0x1b9)][_0x2ed59f(0x1e5)],_0x49a078[_0x2ed59f(0x1ad)][_0x2ed59f(0x222)]=_0x2b7b85;}}let _0x17e86e='';_0x4ea4f3[_0x2ed59f(0x193)](helper['getPackageType'](),constants['PACKAGE_TYPE'][_0x2ed59f(0x1cd)])?_0x17e86e=_0x4ea4f3['qEpqW']:_0x17e86e=_0x4ea4f3[_0x2ed59f(0x1b2)];const _0xe3e63d=_0x17e86e,_0x40190d=path[_0x2ed59f(0x1bd)](__dirname,_0x4ea4f3[_0x2ed59f(0x213)],_0x4ea4f3[_0x2ed59f(0x1a2)]),_0x3a45c4=path['join'](__dirname,_0x4ea4f3['WeNVu'],_0x4ea4f3[_0x2ed59f(0x219)]),_0x105864=path[_0x2ed59f(0x1bd)](__dirname,_0x4ea4f3[_0x2ed59f(0x213)],_0x4ea4f3[_0x2ed59f(0x20c)]);_0x49a078[_0x2ed59f(0x22e)]&&(process[_0x2ed59f(0x19e)]['BSTACK_JEST_TEST_ENV']=_0x49a078['testEnvironment']);_0x49a078[_0x2ed59f(0x22e)]=path['join'](__dirname,_0x4ea4f3[_0x2ed59f(0x213)],_0x4ea4f3[_0x2ed59f(0x20f)]),_0x49a078[_0x2ed59f(0x1f9)]=_0x3a45c4,_0x49a078[_0x2ed59f(0x171)]=_0x49a078[_0x2ed59f(0x171)]||[],_0x49a078[_0x2ed59f(0x171)][_0x2ed59f(0x21b)](path['join'](__dirname,_0x4ea4f3['apyEg']));_0x2d4db7[_0x2ed59f(0x23e)]()&&(_0x49a078[_0x2ed59f(0x228)]=path[_0x2ed59f(0x1bd)](__dirname,_0x4ea4f3['WeNVu'],_0x4ea4f3['zSFVM']));if(testhubUtils[_0x2ed59f(0x183)]()){let _0x1a7c7f=null;try{_0x1a7c7f=helper['requireModule'](_0x4ea4f3['XcVCs'],_0x4ea4f3[_0x2ed59f(0x209)]);}catch(_0x7f2a78){_0x4ea4f3[_0x2ed59f(0x1e4)](debug,_0x2ed59f(0x1bf)+_0x7f2a78);}_0x1a7c7f&&(_0x49a078['setupFilesAfterEnv'][_0x2ed59f(0x21b)](path[_0x2ed59f(0x1bd)](__dirname,_0x4ea4f3['qauXt'],_0x4ea4f3[_0x2ed59f(0x1b4)])),_0x49a078['testRunner']=path[_0x2ed59f(0x1bd)](__dirname,_0x4ea4f3['WeNVu'],_0x4ea4f3[_0x2ed59f(0x18d)]));}_0x49a078['setupFiles']=_0x49a078['setupFiles']||[];try{helper[_0x2ed59f(0x18a)](),_0x49a078[_0x2ed59f(0x188)][_0x2ed59f(0x21b)](path[_0x2ed59f(0x1bd)](__dirname,_0x4ea4f3[_0x2ed59f(0x226)]));}catch{logger[_0x2ed59f(0x241)](_0x4ea4f3[_0x2ed59f(0x1ac)]);}try{helper[_0x2ed59f(0x1bb)][_0x2ed59f(0x176)](null,[_0x4ea4f3[_0x2ed59f(0x1e2)],_0x4ea4f3[_0x2ed59f(0x1ea)]]),logger['debug'](_0x4ea4f3[_0x2ed59f(0x17e)]),_0x49a078['setupFiles'][_0x2ed59f(0x21b)](path['join'](__dirname,_0x4ea4f3[_0x2ed59f(0x198)]));}catch(_0x7657bc){logger[_0x2ed59f(0x241)](_0x4ea4f3[_0x2ed59f(0x236)],_0x7657bc);}_0x49a078[_0x2ed59f(0x235)]=_0x49a078[_0x2ed59f(0x235)]||[_0x4ea4f3[_0x2ed59f(0x191)]],_0x4ea4f3[_0x2ed59f(0x1dc)](updateTestRerunConfig,_0x49a078,_0x474dc2);const _0x4685fa=fs[_0x2ed59f(0x220)](_0x105864);fs['writeFileSync'](_0x49a078[_0x2ed59f(0x1f9)],'\x0a\x20\x20\x20\x20'+_0x4685fa+_0x2ed59f(0x230)+_0x474dc2[_0x2ed59f(0x1af)]['platforms'][_0x2ed59f(0x1df)]+_0x2ed59f(0x1d1)),logger['info']('Creating\x20'+_0xe3e63d+_0x2ed59f(0x231)),fs[_0x2ed59f(0x1f4)](_0xe3e63d,_0x2ed59f(0x242)+JSON[_0x2ed59f(0x1a3)](_0x49a078)+_0x2ed59f(0x1ff));if(_0x2d4db7[_0x2ed59f(0x23e)]()){logger['debug'](_0x4ea4f3['loSLO']);const _0x5eb949=await _0x2d4db7[_0x2ed59f(0x1b6)](_0x49a078,_0x1aaa9b[_0x2ed59f(0x19b)](0x1),_0xe3e63d);logger['debug'](_0x2ed59f(0x1f2)+JSON[_0x2ed59f(0x1a3)](_0x5eb949)+_0x2ed59f(0x1dd));const _0x2268fa=await _0x2d4db7['reorderTestFiles'](_0x5eb949);logger[_0x2ed59f(0x241)](_0x2ed59f(0x23f)+JSON[_0x2ed59f(0x1a3)](_0x2268fa)),_0x2268fa&&_0x4ea4f3[_0x2ed59f(0x18e)](_0x2268fa[_0x2ed59f(0x1df)],0x0)&&(process[_0x2ed59f(0x19e)][_0x2ed59f(0x173)]=_0x2268fa?.[_0x2ed59f(0x1bd)](','));}logger[_0x2ed59f(0x1e6)](_0x4ea4f3[_0x2ed59f(0x224)]);testhubUtils['shouldProcessEventForTesthub']()&&TestDetails[_0x2ed59f(0x180)]();helper[_0x2ed59f(0x21d)]({},_0x1aaa9b),PerformanceTester[_0x2ed59f(0x1c5)](PerformanceEvents[_0x2ed59f(0x1c4)]);const _0x342426=_0x4ea4f3['ppWwh'](spawn,_0x4ea4f3['Zhmlo'],[_0x4ea4f3['TMFSi'],_0x4ea4f3[_0x2ed59f(0x187)],_0xe3e63d,..._0x1aaa9b[_0x2ed59f(0x19b)](0x1)],{'shell':_0x4ea4f3[_0x2ed59f(0x1b5)](process[_0x2ed59f(0x1f0)],_0x4ea4f3[_0x2ed59f(0x1cc)]),'stdio':_0x4ea4f3['dtMfA'],'env':Object[_0x2ed59f(0x1bc)]({},process['env'])});_0x342426['on'](_0x4ea4f3[_0x2ed59f(0x1e8)],async _0x4bd251=>{const _0x197e12=_0x2ed59f;PerformanceTester[_0x197e12(0x1a4)](PerformanceEvents[_0x197e12(0x1ed)]);try{const {browserstackFolderPath:_0x28304a,tcgConfigPath:_0x12b8cd}=helper[_0x197e12(0x232)]();fs[_0x197e12(0x205)](_0x12b8cd),fs[_0x197e12(0x186)](_0x28304a);}catch(_0x43dc05){logger[_0x197e12(0x241)](_0x4ea4f3[_0x197e12(0x181)],_0x43dc05);}process[_0x197e12(0x1d2)]=_0x4bd251,logger[_0x197e12(0x241)]('child\x20process\x20exited\x20with\x20code\x20'+_0x4bd251),logger[_0x197e12(0x1e6)](_0x197e12(0x217)+_0xe3e63d);if(helper['isNotUndefined'](_0x57cef7)&&helper[_0x197e12(0x170)](_0x57cef7['abortBuildOnFailure'])&&fs[_0x197e12(0x1f5)](_0x57cef7[_0x197e12(0x1b9)]['workingDir']))try{const _0x52115a={};_0x52115a[_0x197e12(0x197)]=!![],_0x52115a[_0x197e12(0x1d7)]=!![],fs['rmSync'](_0x57cef7[_0x197e12(0x1b9)]['workingDir'],_0x52115a),logger[_0x197e12(0x241)](_0x197e12(0x1c6)+_0x57cef7[_0x197e12(0x1b9)]['workingDir']);}catch(_0x54888a){logger[_0x197e12(0x1ab)]('Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20'+_0x54888a);}let _0x33e489=null;if(fs[_0x197e12(0x1f5)](_0x40190d)){_0x33e489=fs[_0x197e12(0x220)](_0x40190d);try{_0x33e489=JSON[_0x197e12(0x192)](_0x33e489);}catch(_0x381b71){logger[_0x197e12(0x241)](_0x197e12(0x244)+_0x40190d+',\x20'+_0x33e489+_0x197e12(0x1d9)+_0x381b71);}fs['unlinkSync'](_0x40190d);}fs[_0x197e12(0x205)](_0xe3e63d),fs['unlinkSync'](_0x3a45c4),_0x33e489&&(_0x474dc2[_0x197e12(0x1a5)]=helper[_0x197e12(0x1b0)](_0x33e489,_0x4ea4f3[_0x197e12(0x223)],_0x474dc2));try{await TestHubHandler[_0x197e12(0x1e7)](),await BrowserstackCLI[_0x197e12(0x1a0)]()[_0x197e12(0x1e7)]();}catch(_0x88d5a6){console[_0x197e12(0x194)](_0x88d5a6),_0x4ea4f3[_0x197e12(0x17a)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20'+util[_0x197e12(0x172)](_0x88d5a6));}testOpsHelper[_0x197e12(0x203)](),TestDetails[_0x197e12(0x1f7)](),await utilities[_0x197e12(0x190)](_0x474dc2);});}function a14_0x27c1(_0x98c850,_0x4fac08){const _0x1f5ea5=a14_0x1f5e();return a14_0x27c1=function(_0x27c1d9,_0x3e962f){_0x27c1d9=_0x27c1d9-0x16e;let _0x194fac=_0x1f5ea5[_0x27c1d9];return _0x194fac;},a14_0x27c1(_0x98c850,_0x4fac08);}function a14_0x1f5e(){const _0x377adf=['xSGBr','testEnvironmentOptions','mjs','config','getErrorMessageFromResults','../utils/clientTroubleshootingService','yKgYp','retryTestsOnFailure','lnxgm','EDoro','findTestFiles','jest.config.','7UsfTSy','abortBuildOnFailure','package.json','requirePWModule','assign','join','Skipping\x20accessibility\x20env\x20setup\x20for\x20Playwright\x20due\x20to:\x20','Unable\x20to\x20find\x20jest-circus,\x20','cjs','testObservability','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','path','SDK_SETUP','end','Deleted\x20fail-fast\x20state\x20folder:\x20','../utils/constants','isBrowserstackInfra','5996886sxbTaz','proxySettings','../../helpers/test-orchestration/testOrchestrationHandler','yPYLl','MODULE','JEST','5337128YdNHbp','USER_CONFIG_DETAILS_PATH',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','exitCode','LeGMN','jest_browserstack_results.json','XWKpd','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','force','../../helpers/testhub/utils','\x20:\x20','jest_browserstack.config.js','runInBand','CqVws','\x20test\x20files\x20to\x20run.','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','length','platformCaps','1401890wHAPPN','EYHte','inherit','qnbaM','workingDir','info','stop','CiaDl','testTimeout','BiltR','../../helpers/accessibility-automation/helper','json','SDK_CLEANUP','false','close','platform','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','Found:\x20','maxRetries','writeFileSync','existsSync','jest-config/build/readConfigFileAndSetRootDir.js','shutdown','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','runner','playwright','exports','getPackageVersion','wsHNr','jest.setup.js','\x0amodule.exports\x20=\x20config;','data-hooks.js','skipSessionName','useW3C','printBuildLink','Getting\x20your\x20jest\x20configs\x20from\x20package.json','unlinkSync','../../helpers/helper','testContextOptions','splice','gmavr','WMECP','KUbrA','eYtGG','isUndefined','175649fmKxVW','tPxEh','turboScaleUrl','NlXBK','BROWSERSTACK_CAPABILITIES','WeNVu','--config','../../helpers/test-observability/utils','accessibility','Deleting\x20','requireModule','VnLeR','JiCSD','push','jOdbb','filterBrowserstackArgs','qSLQf','setupTCGAuth','readFileSync','./test-observability/helper','failFast','TMFSi','TCGfs','skipSessionStatus','DbIHg','../../helpers/performance/constants','testSequencer','@playwright/test','parallels__','isEmpty','FRAMEWORKS','ToCxz','testEnvironment','tacDd','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','\x20with\x20browserstack\x20jest\x20configs','getTCGConfigFilePaths','retries__','accessibilityOptions','reporters','ixPRx','2QNbVea','resolve','launchBuild','true','customSequencer.js','jest_browserstack.config.cjs','BROWSERSTACK_TEST_OBSERVABILITY_YML','isTestOrchestrationEnabled','Reodered\x20Test\x20Files:\x20','EubyP','debug','const\x20config=','capabilities','Error\x20while\x20parsing\x20','isRunning','serial__','../../helpers/test-observability/constants','jest-config','../../helpers/performance/performance-tester','3087692diLIJP','../../helpers/utilities','maxWorkers','../../helpers/logger','isNotUndefined','setupFilesAfterEnv','format','JEST_TEST_ORDER','platforms','customTestRunner.js','apply','neZuP','logLevel','findIndex','AddfE','winstonLogger','parallelsPerPlatform','customTestRunnerTemplate.js','kCDUC','../../helpers/BrowserStackSetup','setup','kTMcF','../../helpers/percy/utils','shouldProcessEventForTesthub','getHubUrl','jest','rmdirSync','FIiEf','setupFiles','default','requireSeleniumWebdriver','customEnvironment.js','cwd','Tkgkl','kobZL','handleApp','finalExecution','DfMet','parse','IFJfr','log','2345553qiVval','[Jest\x20Command]\x20Accessibility\x20enabled:\x20','recursive','QYFEP','TTZZt','BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM','slice','customCircus.js','util','env','../../helpers/playwright-helper','getInstance','2975103ugSqjF','zmfDx','stringify','start','errorMessage','../v2/browserstackCLI','test-observability','test.setup.js','KnUxF','win32','error'];a14_0x1f5e=function(){return _0x377adf;};return a14_0x1f5e();}module[a14_0x2f9ff5(0x1fb)]=run;