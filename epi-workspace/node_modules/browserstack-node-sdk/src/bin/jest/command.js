#!/usr/bin/env node
'use strict';const a16_0x470db4=a16_0x4dfe;(function(_0x3b5435,_0x50c1a6){const _0x111562=a16_0x4dfe,_0x5c5317=_0x3b5435();while(!![]){try{const _0x27e657=-parseInt(_0x111562(0x19b))/0x1*(-parseInt(_0x111562(0x212))/0x2)+-parseInt(_0x111562(0x1f6))/0x3*(parseInt(_0x111562(0x1e7))/0x4)+-parseInt(_0x111562(0x1e3))/0x5+-parseInt(_0x111562(0x168))/0x6*(-parseInt(_0x111562(0x187))/0x7)+parseInt(_0x111562(0x17f))/0x8*(-parseInt(_0x111562(0x15d))/0x9)+parseInt(_0x111562(0x1d2))/0xa*(-parseInt(_0x111562(0x1f0))/0xb)+parseInt(_0x111562(0x171))/0xc*(parseInt(_0x111562(0x1b3))/0xd);if(_0x27e657===_0x50c1a6)break;else _0x5c5317['push'](_0x5c5317['shift']());}catch(_0x22b94a){_0x5c5317['push'](_0x5c5317['shift']());}}}(a16_0xf0b7,0x312b7));function a16_0xf0b7(){const _0x451fba=['SDK_SETUP','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','launchBuild','16848hlxTVs','shouldProcessEventForTesthub','jest-config','close','BROWSERSTACK_TEST_ACCESSIBILITY_YML','jPbMt','vjakG','\x0a\x20\x20\x20\x20','1799ULrdHA','../../helpers/testhub/utils','workingDir','testRunner','checkAccessibilityPlatformConfig','error\x20removing\x20tcg\x20config\x20file','filterBrowserstackArgs','ndgsz','Error\x20while\x20parsing\x20','\x20test\x20files\x20to\x20run.','../../helpers/test-observability/utils','force','isTestOrchestrationEnabled','setupFilesAfterEnv','Creating\x20','default','debug','initialize','shutdown','BROWSERSTACK_TEST_OBSERVABILITY_YML','2CWYVga','failureThresholdCount','testEnvironmentOptions','CXkew','ifwaE','proxySettings','wLSlR','XUeFl','package.json','VRdzt','\x20with\x20browserstack\x20jest\x20configs','ialAc','../../helpers/logger','XKQjG','PlBBC','BSTACK_JEST_TEST_ENV','dtQTn','iPDCX','../../helpers/test-orchestration/testOrchestrationHandler','OgcBJ','accessibility','jest-config/build/readConfigFileAndSetRootDir.js','--config','wisag','13439985VJpIYc','skipSessionStatus','finalExecution','customCircus.js','browserStackPercyOptions','SDK_CLEANUP','parseTestOrchestrationOptions','FRAMEWORKS','../../helpers/performance/constants','push','jest','Getting\x20your\x20jest\x20configs\x20from\x20','FaVDx','jest-circus','customImplements','ITpNE','prepareCapabilities','testContextOptions','customSequencer.js','parse','abortBuildOnFailure','yFJwq','retryTestsOnFailure','env','useW3C','customTestRunnerTemplate.js','parallelsPerPlatform','requireModule','jest_browserstack_results.json','const\x20config=','getErrorMessageFromResults','130TWfbpN','platforms','error','writeFileSync','\x0amodule.exports\x20=\x20config;','slice','pxhqu','../../helpers/BrowserStackSetup','maxWorkers','WTvGH','fRkon','errorMessage','AYJZC','cwd','unlinkSync','Deleting\x20','recursive','974520ZLEYES','getHubUrl','QtiyW','retries__','12kTgRqq','iPmmM','setup','stringify','setupTCGAuth','util','printBuildLink','format','info','243804gLIYAH','JEST_TEST_ORDER','KpebP','logLevel','PQKuy','testSequencer','298749fjtofz','serial__','setupFiles','husZt','parallels__','getPackageType','isUndefined','capabilities','test_before.setup.js','true','json','gcEKE','Found:\x20','rmSync','path','hNgOI','../../helpers/accessibility-automation/helper','cPNdJ','runner','fEljw','../../helpers/percy/utils','iIFfn','Reodered\x20Test\x20Files:\x20','JEST','length','config','cjs','./test-observability/helper','175624iAbwQZ','handleApp','assign','../../helpers/helper','test-observability','findIndex','PPVwy','data-hooks.js','lWucQ','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','testEnvironment','mjs','join','turboScaleUrl','IyOnD','child\x20process\x20exited\x20with\x20code\x20','splice','timeout__','hgBMw','../../helpers/testhub/testhubHandler','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','isEmpty','Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20','reporters','Getting\x20your\x20jest\x20configs\x20from\x20package.json','isBrowserstackInfra','child_process','../../helpers/test-observability/constants','getTCGConfigFilePaths','1179IsdRcp','maxFailures','jest.config.','PACKAGE_TYPE','readFileSync','customEnvironment.js','SVAry','WmZsL','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','../../helpers/utilities','reorderTestFiles','1158POZcsB','inherit','existsSync','BiOwu','npx','\x20:\x20','xUjqb','EVENTS','USER_CONFIG_DETAILS_PATH','12JaUBsw','WHPEM','jest_browserstack.config.cjs','runInBand','isNotUndefined','ZQLmW','vhyKR','../../helpers/performance/performance-tester','accessibilityOptions','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','maRfx'];a16_0xf0b7=function(){return _0x451fba;};return a16_0xf0b7();}const fs=require('fs'),path=require(a16_0x470db4(0x204)),util=require(a16_0x470db4(0x1ec)),{spawn}=require(a16_0x470db4(0x15a)),logger=require(a16_0x470db4(0x1a7))['winstonLogger'],{default:BrowserStackSetup}=require(a16_0x470db4(0x1d9)),helper=require(a16_0x470db4(0x215)),utilities=require(a16_0x470db4(0x166)),constants=require('../utils/constants'),accessibilityHelper=require(a16_0x470db4(0x206)),{updateTestRerunConfig}=require(a16_0x470db4(0x211)),testOpsHelper=require(a16_0x470db4(0x191)),{debug}=require(a16_0x470db4(0x191)),TestDetails=require('./test-observability/test-details'),{getPercyOptions}=require(a16_0x470db4(0x20a)),TestHubHandler=require(a16_0x470db4(0x153)),testhubUtils=require(a16_0x470db4(0x188)),{FRAMEWORKS}=require(a16_0x470db4(0x15b)),PerformanceTester=require(a16_0x470db4(0x178)),PerformanceEvents=require(a16_0x470db4(0x1bb))[a16_0x470db4(0x16f)],TestOrchestrationHandler=require(a16_0x470db4(0x1ad)),getUserJestConfigs=async(_0x3fe91d,_0x52aaf1)=>{const _0xddfa72=a16_0x470db4,_0x34093a={'fRkon':_0xddfa72(0x1b0),'vhyKR':_0xddfa72(0x181),'WTvGH':function(_0x57c83f,_0x29d83b){return _0x57c83f||_0x29d83b;},'XOzgV':function(_0x308801,_0x27ec9e){return _0x308801(_0x27ec9e);},'EbBSx':_0xddfa72(0x1a3),'iPDCX':_0xddfa72(0x158),'PlBBC':_0xddfa72(0x21d),'ITpNE':_0xddfa72(0x210),'ifwaE':_0xddfa72(0x200)},_0x4621b8=helper[_0xddfa72(0x1ce)](_0x34093a[_0xddfa72(0x1dc)],_0x34093a[_0xddfa72(0x177)]),_0x161266=_0x52aaf1[_0xddfa72(0x217)](_0x566741=>_0x566741===_0xddfa72(0x1b1));if(!helper[_0xddfa72(0x1fc)](_0x3fe91d[_0xddfa72(0x20f)])){logger[_0xddfa72(0x1ef)](_0xddfa72(0x1be)+_0x3fe91d[_0xddfa72(0x20f)]),process[_0xddfa72(0x1ca)][_0xddfa72(0x170)]=_0x3fe91d[_0xddfa72(0x20f)];const _0x25bbdf=await(0x0,_0x4621b8['default'])(path['resolve'](_0x3fe91d[_0xddfa72(0x20f)]));return _0x52aaf1[_0xddfa72(0x222)](_0x161266,0x2),_0x34093a[_0xddfa72(0x1db)](_0x25bbdf,{});}const _0x1a12de=_0x34093a['XOzgV'](require,path[_0xddfa72(0x21e)](process[_0xddfa72(0x1df)](),_0x34093a['EbBSx']));if(_0x1a12de[_0xddfa72(0x1bd)])return logger['info'](_0x34093a[_0xddfa72(0x1ac)]),_0x1a12de[_0xddfa72(0x1bd)];const _0x178034=['js',_0x34093a[_0xddfa72(0x1a9)],_0x34093a[_0xddfa72(0x1c2)],_0x34093a[_0xddfa72(0x19f)],'ts'];for(const _0x32c5cc of _0x178034){const _0x40d580=path['join'](process[_0xddfa72(0x1df)](),_0xddfa72(0x15f)+_0x32c5cc);if(fs['existsSync'](_0x40d580)){process[_0xddfa72(0x1ca)][_0xddfa72(0x170)]=_0x40d580;const _0xee67ea=await(0x0,_0x4621b8[_0xddfa72(0x196)])(_0x40d580);return _0xee67ea;}}return{};},getSerial=(_0x15c8fb,_0x280ff3)=>{const _0x46eebf=a16_0x470db4,_0x2e168a={};_0x2e168a['gcEKE']=_0x46eebf(0x1ff),_0x2e168a['ASuJq']=function(_0x5ef2e7,_0x2065e3){return _0x5ef2e7>_0x2065e3;},_0x2e168a[_0x46eebf(0x209)]=function(_0x1a220d,_0x52bfe6){return _0x1a220d>_0x52bfe6;},_0x2e168a[_0x46eebf(0x164)]='false';const _0x172f54=_0x2e168a;let _0x27a391=_0x172f54[_0x46eebf(0x201)];return _0x172f54['ASuJq'](_0x15c8fb[_0x46eebf(0x20e)],0x1)&&(!_0x280ff3[_0x46eebf(0x174)]&&(helper['isUndefined'](_0x280ff3[_0x46eebf(0x1da)])||_0x172f54[_0x46eebf(0x209)](_0x280ff3[_0x46eebf(0x1da)],0x1)))&&(_0x27a391=_0x172f54[_0x46eebf(0x164)]),_0x27a391;},getMaxWorkers=(_0x3e81e3,_0x334393,_0x5d7b7b)=>{const _0x50bc4a=a16_0x470db4,_0x3eee10={'rxunu':function(_0x52b126,_0x4c3dfe){return _0x52b126(_0x4c3dfe);}};let _0x1f1a5e=0x1;if(!helper[_0x50bc4a(0x1fc)](_0x334393[_0x50bc4a(0x1cd)]))_0x1f1a5e=_0x3eee10['rxunu'](parseInt,_0x334393[_0x50bc4a(0x1cd)]);else{if(!helper[_0x50bc4a(0x1fc)](_0x3e81e3[_0x50bc4a(0x1da)]))_0x1f1a5e=_0x3e81e3[_0x50bc4a(0x1da)];else!helper[_0x50bc4a(0x1fc)](_0x5d7b7b[_0x50bc4a(0x1da)])&&(_0x1f1a5e=_0x5d7b7b['maxWorkers']);}return _0x1f1a5e;};function a16_0x4dfe(_0x1b54ff,_0x5e571d){const _0xf0b7ed=a16_0xf0b7();return a16_0x4dfe=function(_0x4dfe54,_0x46087d){_0x4dfe54=_0x4dfe54-0x152;let _0x49a37d=_0xf0b7ed[_0x4dfe54];return _0x49a37d;},a16_0x4dfe(_0x1b54ff,_0x5e571d);}async function run(_0x560405,_0x33f205,_0xc73841){const _0xb1b6bf=a16_0x470db4,_0x623f0a={'PQKuy':_0xb1b6bf(0x18c),'hgBMw':_0xb1b6bf(0x1bd),'hNgOI':function(_0x412d74,_0x447f4d){return _0x412d74(_0x447f4d);},'CXkew':function(_0xfc09a5,_0x2d842a){return _0xfc09a5!=_0x2d842a;},'lWucQ':_0xb1b6bf(0x1ff),'ialAc':function(_0x2ecd01,_0x59ff76,_0x37994b){return _0x2ecd01(_0x59ff76,_0x37994b);},'vjakG':_0xb1b6bf(0x21b),'maRfx':function(_0x84344f,_0x588c03){return _0x84344f(_0x588c03);},'OgcBJ':function(_0x31fc2f,_0x203b38,_0x4fb290){return _0x31fc2f(_0x203b38,_0x4fb290);},'yFJwq':function(_0x4cef5a,_0x5ba2ee,_0x217377,_0x242bd7){return _0x4cef5a(_0x5ba2ee,_0x217377,_0x242bd7);},'bYJlP':function(_0x3f30f5,_0x42fc1f){return _0x3f30f5*_0x42fc1f;},'PPVwy':function(_0x2b4eff,_0x384045){return _0x2b4eff===_0x384045;},'flCSD':_0xb1b6bf(0x173),'dtQTn':'jest_browserstack.config.js','iPmmM':_0xb1b6bf(0x1c1),'AYJZC':_0xb1b6bf(0x1cf),'iIFfn':'customTestRunner.js','WHPEM':_0xb1b6bf(0x1cc),'wLSlR':_0xb1b6bf(0x162),'QtiyW':'jest.setup.js','IyOnD':_0xb1b6bf(0x1c5),'FaVDx':'jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','XKQjG':_0xb1b6bf(0x1c0),'VRdzt':function(_0x3de0d6,_0x18481d){return _0x3de0d6(_0x18481d);},'jPbMt':_0xb1b6bf(0x216),'kZubA':_0xb1b6bf(0x219),'BiOwu':_0xb1b6bf(0x1b6),'SVAry':_0xb1b6bf(0x1fe),'baeEA':'skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','ZQLmW':'default','cPNdJ':function(_0x2719ea,_0xcffe0e,_0x164f9b){return _0x2719ea(_0xcffe0e,_0x164f9b);},'xUjqb':_0xb1b6bf(0x17a),'husZt':function(_0x32358d,_0x4b371a){return _0x32358d>_0x4b371a;},'XUeFl':_0xb1b6bf(0x165),'LdUJk':_0xb1b6bf(0x16c),'wisag':_0xb1b6bf(0x1b1),'pxhqu':function(_0x367292,_0x5ed9bb){return _0x367292===_0x5ed9bb;},'QWunH':'win32','KpebP':_0xb1b6bf(0x169),'ndgsz':_0xb1b6bf(0x182)};helper[_0xb1b6bf(0x159)]()?(await _0xc73841[_0xb1b6bf(0x198)](_0x560405),await helper[_0xb1b6bf(0x213)](_0xc73841[_0xb1b6bf(0x20f)])):await _0xc73841[_0xb1b6bf(0x1eb)]();if(!_0xc73841[_0xb1b6bf(0x20f)])return;_0x623f0a[_0xb1b6bf(0x19e)](_0xc73841[_0xb1b6bf(0x20f)]['testObservability'],null)?process[_0xb1b6bf(0x1ca)][_0xb1b6bf(0x19a)]=_0xc73841[_0xb1b6bf(0x20f)]['testObservability']:process['env'][_0xb1b6bf(0x19a)]=_0x623f0a[_0xb1b6bf(0x21a)];const _0x2a01bd=new TestOrchestrationHandler(_0xc73841[_0xb1b6bf(0x20f)]),_0x17bf4b=await _0x623f0a[_0xb1b6bf(0x1a6)](getUserJestConfigs,_0x560405,_0x33f205);logger[_0xb1b6bf(0x1ef)](_0x623f0a[_0xb1b6bf(0x185)]);const _0x509e85=Object[_0xb1b6bf(0x214)]({},_0x17bf4b);_0x509e85['testEnvironmentOptions']=Object[_0xb1b6bf(0x214)]({},_0x509e85[_0xb1b6bf(0x19d)],{'server':helper[_0xb1b6bf(0x1e4)](_0xc73841[_0xb1b6bf(0x20f)]),'environment':_0x17bf4b[_0xb1b6bf(0x21c)]}),_0x509e85['testEnvironmentOptions'][_0xb1b6bf(0x1b7)]=_0x623f0a[_0xb1b6bf(0x17b)](getPercyOptions,_0xc73841[_0xb1b6bf(0x20f)]);const _0x49992c=helper[_0xb1b6bf(0x1cb)](_0xc73841['config']);!helper[_0xb1b6bf(0x1fc)](_0xc73841['config'][_0xb1b6bf(0x179)])&&(process[_0xb1b6bf(0x1ca)]['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON[_0xb1b6bf(0x1ea)](_0xc73841[_0xb1b6bf(0x20f)][_0xb1b6bf(0x179)]));const _0x39a88b=await TestHubHandler[_0xb1b6bf(0x17e)](FRAMEWORKS[_0xb1b6bf(0x20d)],_0xc73841),_0x34aaaf=helper[_0xb1b6bf(0x1c3)](_0xc73841[_0xb1b6bf(0x20f)],_0x49992c,constants[_0xb1b6bf(0x1ba)][_0xb1b6bf(0x20d)]);let _0x31dc67=_0xc73841[_0xb1b6bf(0x20f)][_0xb1b6bf(0x1af)];_0x31dc67=_0x31dc67||accessibilityHelper[_0xb1b6bf(0x18b)](_0xc73841['config']),process[_0xb1b6bf(0x1ca)][_0xb1b6bf(0x183)]=_0x31dc67,_0x509e85[_0xb1b6bf(0x19d)][_0xb1b6bf(0x1fd)]=_0x34aaaf,_0x509e85[_0xb1b6bf(0x19d)][_0xb1b6bf(0x1f7)]=_0x623f0a[_0xb1b6bf(0x1ae)](getSerial,_0x34aaaf,_0x560405),_0x509e85[_0xb1b6bf(0x19d)][_0xb1b6bf(0x1fa)]=_0x623f0a[_0xb1b6bf(0x1c8)](getMaxWorkers,_0x560405,_0xc73841[_0xb1b6bf(0x20f)],_0x17bf4b),_0x509e85[_0xb1b6bf(0x19d)][_0xb1b6bf(0x1a0)]=_0xc73841[_0xb1b6bf(0x20f)][_0xb1b6bf(0x1a0)],_0x509e85[_0xb1b6bf(0x19d)][_0xb1b6bf(0x223)]=_0x623f0a['bYJlP'](_0x560405['testTimeout'],0x1)||0x1388,_0x509e85[_0xb1b6bf(0x19d)]['skipSessionName']=_0xc73841['config'][_0xb1b6bf(0x1c4)]['skipSessionName'],_0x509e85[_0xb1b6bf(0x19d)][_0xb1b6bf(0x1b4)]=_0xc73841[_0xb1b6bf(0x20f)][_0xb1b6bf(0x1c4)]['skipSessionStatus'],_0x509e85['testEnvironmentOptions']['browserStackLogLevel']=_0xc73841['config'][_0xb1b6bf(0x1f3)],_0x509e85[_0xb1b6bf(0x19d)]['turboScaleUrl']=_0xc73841['config'][_0xb1b6bf(0x21f)],_0x509e85[_0xb1b6bf(0x19d)]['platformCaps']=_0xc73841[_0xb1b6bf(0x20f)][_0xb1b6bf(0x1d3)];const _0x57322b=helper[_0xb1b6bf(0x1b9)](_0xc73841[_0xb1b6bf(0x20f)]);if(!helper[_0xb1b6bf(0x155)](_0x57322b)){helper[_0xb1b6bf(0x175)](_0x57322b[_0xb1b6bf(0x1c9)])&&(_0x509e85[_0xb1b6bf(0x19d)][_0xb1b6bf(0x1e6)]=_0x57322b[_0xb1b6bf(0x1c9)]['maxRetries']);if(helper[_0xb1b6bf(0x175)](_0x57322b[_0xb1b6bf(0x1c7)])&&helper[_0xb1b6bf(0x175)](_0x57322b[_0xb1b6bf(0x1c7)][_0xb1b6bf(0x189)])){const _0x3e16d5={};_0x3e16d5[_0xb1b6bf(0x19c)]=_0x57322b[_0xb1b6bf(0x1c7)][_0xb1b6bf(0x15e)],_0x3e16d5[_0xb1b6bf(0x189)]=_0x57322b[_0xb1b6bf(0x1c7)][_0xb1b6bf(0x189)],_0x509e85['testEnvironmentOptions']['failFast']=_0x3e16d5;}}let _0x207ce0='';_0x623f0a[_0xb1b6bf(0x218)](helper[_0xb1b6bf(0x1fb)](),constants[_0xb1b6bf(0x160)]['MODULE'])?_0x207ce0=_0x623f0a['flCSD']:_0x207ce0=_0x623f0a[_0xb1b6bf(0x1ab)];const _0x4951ee=_0x207ce0,_0x1d4e51=path[_0xb1b6bf(0x21e)](__dirname,_0x623f0a['iPmmM'],_0x623f0a[_0xb1b6bf(0x1de)]),_0x493469=path[_0xb1b6bf(0x21e)](__dirname,_0x623f0a[_0xb1b6bf(0x1e8)],_0x623f0a[_0xb1b6bf(0x20b)]),_0xd3a7d0=path[_0xb1b6bf(0x21e)](__dirname,_0x623f0a[_0xb1b6bf(0x1e8)],_0x623f0a[_0xb1b6bf(0x172)]);_0x509e85[_0xb1b6bf(0x21c)]&&(process['env'][_0xb1b6bf(0x1aa)]=_0x509e85[_0xb1b6bf(0x21c)]);_0x509e85[_0xb1b6bf(0x21c)]=path['join'](__dirname,_0x623f0a[_0xb1b6bf(0x1e8)],_0x623f0a[_0xb1b6bf(0x1a1)]),_0x509e85[_0xb1b6bf(0x208)]=_0x493469,_0x509e85[_0xb1b6bf(0x194)]=_0x509e85[_0xb1b6bf(0x194)]||[],_0x509e85[_0xb1b6bf(0x194)][_0xb1b6bf(0x1bc)](path[_0xb1b6bf(0x21e)](__dirname,_0x623f0a[_0xb1b6bf(0x1e5)]));_0x2a01bd[_0xb1b6bf(0x193)]()&&(_0x509e85[_0xb1b6bf(0x1f5)]=path[_0xb1b6bf(0x21e)](__dirname,_0x623f0a['iPmmM'],_0x623f0a[_0xb1b6bf(0x220)]));if(testhubUtils[_0xb1b6bf(0x180)]()){let _0x159d5e=null;try{_0x159d5e=helper['requireModule'](_0x623f0a[_0xb1b6bf(0x1bf)],_0x623f0a[_0xb1b6bf(0x1a8)]);}catch(_0x4777b1){_0x623f0a[_0xb1b6bf(0x1a4)](debug,'Unable\x20to\x20find\x20jest-circus,\x20'+_0x4777b1);}_0x159d5e&&(_0x509e85['setupFilesAfterEnv'][_0xb1b6bf(0x1bc)](path[_0xb1b6bf(0x21e)](__dirname,_0x623f0a[_0xb1b6bf(0x184)],_0x623f0a['kZubA'])),_0x509e85[_0xb1b6bf(0x18a)]=path['join'](__dirname,_0x623f0a[_0xb1b6bf(0x1e8)],_0x623f0a[_0xb1b6bf(0x16b)]));}_0x509e85[_0xb1b6bf(0x1f8)]=_0x509e85[_0xb1b6bf(0x1f8)]||[];try{helper['requireSeleniumWebdriver'](),_0x509e85[_0xb1b6bf(0x1f8)][_0xb1b6bf(0x1bc)](path[_0xb1b6bf(0x21e)](__dirname,_0x623f0a[_0xb1b6bf(0x163)]));}catch{logger[_0xb1b6bf(0x197)](_0x623f0a['baeEA']);}_0x509e85[_0xb1b6bf(0x157)]=_0x509e85['reporters']||[_0x623f0a[_0xb1b6bf(0x176)]],_0x623f0a[_0xb1b6bf(0x207)](updateTestRerunConfig,_0x509e85,_0xc73841);const _0x198bc9=fs[_0xb1b6bf(0x161)](_0xd3a7d0);fs['writeFileSync'](_0x509e85[_0xb1b6bf(0x208)],_0xb1b6bf(0x186)+_0x198bc9+_0xb1b6bf(0x154)+_0xc73841[_0xb1b6bf(0x20f)][_0xb1b6bf(0x1d3)][_0xb1b6bf(0x20e)]+';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20'),logger[_0xb1b6bf(0x1ef)](_0xb1b6bf(0x195)+_0x4951ee+_0xb1b6bf(0x1a5)),fs[_0xb1b6bf(0x1d5)](_0x4951ee,_0xb1b6bf(0x1d0)+JSON[_0xb1b6bf(0x1ea)](_0x509e85)+_0xb1b6bf(0x1d6));if(_0x2a01bd[_0xb1b6bf(0x193)]()){logger[_0xb1b6bf(0x197)](_0x623f0a[_0xb1b6bf(0x16e)]);const _0x24abd1=await _0x2a01bd['findTestFiles'](_0x509e85,_0x33f205[_0xb1b6bf(0x1d7)](0x1),_0x4951ee);logger['debug'](_0xb1b6bf(0x202)+JSON[_0xb1b6bf(0x1ea)](_0x24abd1)+_0xb1b6bf(0x190));const _0x24be7e=await _0x2a01bd[_0xb1b6bf(0x167)](_0x24abd1);logger[_0xb1b6bf(0x197)](_0xb1b6bf(0x20c)+JSON['stringify'](_0x24be7e)),_0x24be7e&&_0x623f0a[_0xb1b6bf(0x1f9)](_0x24be7e[_0xb1b6bf(0x20e)],0x0)&&(process[_0xb1b6bf(0x1ca)][_0xb1b6bf(0x1f1)]=_0x24be7e?.[_0xb1b6bf(0x21e)](','));}logger[_0xb1b6bf(0x1ef)](_0x623f0a[_0xb1b6bf(0x1a2)]);testhubUtils[_0xb1b6bf(0x180)]()&&TestDetails[_0xb1b6bf(0x1e9)]();helper[_0xb1b6bf(0x18d)]({},_0x33f205),PerformanceTester['end'](PerformanceEvents[_0xb1b6bf(0x17c)]);const _0x55b30b=_0x623f0a[_0xb1b6bf(0x1c8)](spawn,_0x623f0a['LdUJk'],[_0x623f0a['hgBMw'],_0x623f0a[_0xb1b6bf(0x1b2)],_0x4951ee,..._0x33f205[_0xb1b6bf(0x1d7)](0x1)],{'shell':_0x623f0a[_0xb1b6bf(0x1d8)](process['platform'],_0x623f0a['QWunH']),'stdio':_0x623f0a[_0xb1b6bf(0x1f2)],'env':Object[_0xb1b6bf(0x214)]({},process[_0xb1b6bf(0x1ca)])});_0x55b30b['on'](_0x623f0a[_0xb1b6bf(0x18e)],async _0x34b0ea=>{const _0x3da54c=_0xb1b6bf;PerformanceTester['start'](PerformanceEvents[_0x3da54c(0x1b8)]);try{const {browserstackFolderPath:_0x8e02a8,tcgConfigPath:_0x25a9cd}=helper[_0x3da54c(0x15c)]();fs[_0x3da54c(0x1e0)](_0x25a9cd),fs['rmdirSync'](_0x8e02a8);}catch(_0x18eccb){logger[_0x3da54c(0x197)](_0x623f0a[_0x3da54c(0x1f4)],_0x18eccb);}process['exitCode']=_0x34b0ea,logger[_0x3da54c(0x197)](_0x3da54c(0x221)+_0x34b0ea),logger[_0x3da54c(0x1ef)](_0x3da54c(0x1e1)+_0x4951ee);if(helper[_0x3da54c(0x175)](_0x57322b)&&helper[_0x3da54c(0x175)](_0x57322b[_0x3da54c(0x1c7)])&&fs[_0x3da54c(0x16a)](_0x57322b[_0x3da54c(0x1c7)]['workingDir']))try{const _0xefe723={};_0xefe723[_0x3da54c(0x1e2)]=!![],_0xefe723[_0x3da54c(0x192)]=!![],fs[_0x3da54c(0x203)](_0x57322b['abortBuildOnFailure'][_0x3da54c(0x189)],_0xefe723),logger[_0x3da54c(0x197)]('Deleted\x20fail-fast\x20state\x20folder:\x20'+_0x57322b[_0x3da54c(0x1c7)]['workingDir']);}catch(_0x56ffbf){logger[_0x3da54c(0x1d4)](_0x3da54c(0x17d)+_0x56ffbf);}let _0x38d9d5=null;if(fs['existsSync'](_0x1d4e51)){_0x38d9d5=fs['readFileSync'](_0x1d4e51);try{_0x38d9d5=JSON[_0x3da54c(0x1c6)](_0x38d9d5);}catch(_0x953586){logger[_0x3da54c(0x197)](_0x3da54c(0x18f)+_0x1d4e51+',\x20'+_0x38d9d5+_0x3da54c(0x16d)+_0x953586);}fs[_0x3da54c(0x1e0)](_0x1d4e51);}fs[_0x3da54c(0x1e0)](_0x4951ee),fs[_0x3da54c(0x1e0)](_0x493469),_0x38d9d5&&(_0xc73841[_0x3da54c(0x1dd)]=helper[_0x3da54c(0x1d1)](_0x38d9d5,_0x623f0a[_0x3da54c(0x152)],_0xc73841));try{await TestHubHandler['stop']();}catch(_0x530d0b){console['log'](_0x530d0b),_0x623f0a[_0x3da54c(0x205)](debug,_0x3da54c(0x156)+util[_0x3da54c(0x1ee)](_0x530d0b));}testOpsHelper[_0x3da54c(0x1ed)](),TestDetails[_0x3da54c(0x199)](),await utilities[_0x3da54c(0x1b5)](_0xc73841);});}module['exports']=run;