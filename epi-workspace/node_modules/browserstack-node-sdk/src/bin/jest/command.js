#!/usr/bin/env node
'use strict';const a14_0x3816cd=a14_0x13bb;function a14_0x1d23(){const _0x483ade=['jest.config.','Error\x20while\x20parsing\x20','runInBand','error\x20removing\x20tcg\x20config\x20file','force','isBrowserstackInfra','../../helpers/test-observability/utils','errorMessage','platforms','skipSessionStatus','SMtZJ','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','jest','Getting\x20your\x20jest\x20configs\x20from\x20package.json','laBQc','testTimeout','capabilities','cwd','isRunning','2052738EmRoFt','MODULE','mjs','testRunner','196977QwMINE','cjs','readFileSync','retries__','getHubUrl','false','isNotUndefined','splice','QERSi','exports','assign','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','winstonLogger','Unable\x20to\x20find\x20jest-circus,\x20','platformCaps','useW3C','USER_CONFIG_DETAILS_PATH','findIndex','customSequencer.js','OYmuG','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','103045IMrErM','../../helpers/percy/utils','dkSjW','MNmlr','vuCbo','serial__','../../helpers/test-observability/constants','../../helpers/performance/constants','Deleted\x20fail-fast\x20state\x20folder:\x20','2208240MskJZp','resolve','@playwright/test','recursive','playwright','slice','../../helpers/performance/performance-tester','jest_browserstack.config.js','filterBrowserstackArgs','../../helpers/helper','../../helpers/accessibility-automation/helper','../../helpers/utilities','requirePWModule','jxOsD','466800pRtloS','test-observability','launchBuild','workingDir','MJrIy','JfwRn','proxySettings','failFast','findTestFiles','vmKwv','debug','gAMQi','testEnvironmentOptions','initialize','checkAccessibilityPlatformConfig','jest.setup.js','./test-observability/test-details','tChnO','uZQSS','DVnrR','QhRaA','isUndefined','afcny','data-hooks.js','env','log','MpbgU','WVmvL','default','browserStackPercyOptions','\x20with\x20browserstack\x20jest\x20configs','../../helpers/logger','writeFileSync','getInstance','shouldProcessEventForTesthub','turboScaleUrl','join','apply','ltQDy','rmdirSync','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','qUzYg','BDOqi','shutdown','Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','stop','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','__isPlaywrightInstalled','customCircus.js','Creating\x20','test.setup.js','end','./test-observability/helper','JEST','AJivD','timeout__','testEnvironment','BROWSERSTACK_TEST_ACCESSIBILITY_YML','../../helpers/testhub/testhubHandler','runner','config','Deleting\x20','517020yncioG','logLevel','UrMQK','util','test_before.setup.js','reorderTestFiles','yrEND','HrMsN','npx','PitWt','maxRetries','skipSessionName','SweTW','GEJEH','XOCxR','lcpOx','exitCode','../../helpers/BrowserStackSetup','true','abortBuildOnFailure','retryTestsOnFailure','reporters','jest-config','platform','FRwqX','parseTestOrchestrationOptions','maxFailures','getPackageType','../v2/browserstackCLI','lDVAS','paDwk','info','existsSync','setupFilesAfterEnv','child_process','\x0a\x20\x20\x20\x20','const\x20config=','path','../utils/constants','testObservability','cznNZ','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','../../helpers/test-orchestration/testOrchestrationHandler','setupFiles','izzuX','parse','win32','push','jakeC','stringify','YhlDI','length','JxeKW','../../helpers/playwright-helper','requireSeleniumWebdriver','BSTACK_JEST_TEST_ENV','sfUup','package.json','parallels__','unlinkSync','jest-circus','FCnOo','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','jest-config/build/readConfigFileAndSetRootDir.js','Found:\x20','getTCGConfigFilePaths','1893045NcVeHO','xaole','format','accessibility','fQDmp','inherit','44NUkQtD','parallelsPerPlatform','--config','maxWorkers','requireModule','\x20:\x20','child\x20process\x20exited\x20with\x20code\x20','start','customTestRunner.js','../../helpers/testhub/utils','testContextOptions','jkWhF','XWBZi','isTestOrchestrationEnabled','tShYy','FRAMEWORKS','jest_browserstack_results.json','finalExecution'];a14_0x1d23=function(){return _0x483ade;};return a14_0x1d23();}function a14_0x13bb(_0x207630,_0x3bb5c0){const _0x1d2395=a14_0x1d23();return a14_0x13bb=function(_0x13bb4b,_0x209992){_0x13bb4b=_0x13bb4b-0x6b;let _0x48c5b0=_0x1d2395[_0x13bb4b];return _0x48c5b0;},a14_0x13bb(_0x207630,_0x3bb5c0);}(function(_0x345547,_0x1fb4d1){const _0x4baa60=a14_0x13bb,_0x302f37=_0x345547();while(!![]){try{const _0x35cbdc=parseInt(_0x4baa60(0xac))/0x1+parseInt(_0x4baa60(0x116))/0x2+parseInt(_0x4baa60(0xd8))/0x3+-parseInt(_0x4baa60(0x83))/0x4*(parseInt(_0x4baa60(0xc1))/0x5)+parseInt(_0x4baa60(0xa8))/0x6+-parseInt(_0x4baa60(0x7d))/0x7+-parseInt(_0x4baa60(0xca))/0x8;if(_0x35cbdc===_0x1fb4d1)break;else _0x302f37['push'](_0x302f37['shift']());}catch(_0x46b96c){_0x302f37['push'](_0x302f37['shift']());}}}(a14_0x1d23,0x2bf4e));const fs=require('fs'),path=require(a14_0x3816cd(0x13b)),util=require(a14_0x3816cd(0x119)),{spawn}=require(a14_0x3816cd(0x138)),logger=require(a14_0x3816cd(0xf7))[a14_0x3816cd(0xb8)],{default:BrowserStackSetup}=require(a14_0x3816cd(0x127)),helper=require(a14_0x3816cd(0xd3)),utilities=require(a14_0x3816cd(0xd5)),constants=require(a14_0x3816cd(0x13c)),accessibilityHelper=require(a14_0x3816cd(0xd4)),{updateTestRerunConfig}=require(a14_0x3816cd(0x10c)),testOpsHelper=require(a14_0x3816cd(0x9b)),{debug}=require(a14_0x3816cd(0x9b)),TestDetails=require(a14_0x3816cd(0xe8)),{getPercyOptions}=require(a14_0x3816cd(0xc2)),TestHubHandler=require(a14_0x3816cd(0x112)),testhubUtils=require(a14_0x3816cd(0x8c)),{FRAMEWORKS}=require(a14_0x3816cd(0xc7)),PerformanceTester=require(a14_0x3816cd(0xd0)),PerformanceEvents=require(a14_0x3816cd(0xc8))['EVENTS'],TestOrchestrationHandler=require(a14_0x3816cd(0x140)),BrowserstackCLI=require(a14_0x3816cd(0x132)),{checkPwandBootstrapCli}=require(a14_0x3816cd(0x70)),ClientTroubleShootingService=require('../utils/clientTroubleshootingService'),getUserJestConfigs=async(_0x32e887,_0x4c53d2)=>{const _0x302e59=a14_0x3816cd,_0x5ea078={'AzEWl':_0x302e59(0x7a),'sfUup':_0x302e59(0x12c),'lcpOx':function(_0x535ee3,_0x2fb4bc){return _0x535ee3||_0x2fb4bc;},'fQDmp':function(_0x4a2f91,_0x3371dc){return _0x4a2f91(_0x3371dc);},'AJivD':_0x302e59(0x74),'vuCbo':_0x302e59(0xa2),'afcny':_0x302e59(0xaa),'QhRaA':_0x302e59(0xad),'SpJKS':'json'},_0x233b96=helper[_0x302e59(0x87)](_0x5ea078['AzEWl'],_0x5ea078[_0x302e59(0x73)]),_0x2f4459=_0x4c53d2[_0x302e59(0xbd)](_0x3d91e1=>_0x3d91e1===_0x302e59(0x85));if(!helper['isUndefined'](_0x32e887[_0x302e59(0x114)])){logger[_0x302e59(0x135)]('Getting\x20your\x20jest\x20configs\x20from\x20'+_0x32e887['config']),process[_0x302e59(0xf0)][_0x302e59(0xbc)]=_0x32e887[_0x302e59(0x114)];const _0x5a548c=await(0x0,_0x233b96[_0x302e59(0xf4)])(path[_0x302e59(0xcb)](_0x32e887[_0x302e59(0x114)]));return _0x4c53d2[_0x302e59(0xb3)](_0x2f4459,0x2),_0x5ea078[_0x302e59(0x125)](_0x5a548c,{});}const _0xd7de5f=_0x5ea078[_0x302e59(0x81)](require,path[_0x302e59(0xfc)](process[_0x302e59(0xa6)](),_0x5ea078[_0x302e59(0x10e)]));if(_0xd7de5f[_0x302e59(0xa1)])return logger[_0x302e59(0x135)](_0x5ea078[_0x302e59(0xc5)]),_0xd7de5f[_0x302e59(0xa1)];const _0x271ede=['js',_0x5ea078[_0x302e59(0xee)],_0x5ea078[_0x302e59(0xec)],_0x5ea078['SpJKS'],'ts'];for(const _0x2cb494 of _0x271ede){const _0x2af710=path[_0x302e59(0xfc)](process[_0x302e59(0xa6)](),_0x302e59(0x95)+_0x2cb494);if(fs[_0x302e59(0x136)](_0x2af710)){process[_0x302e59(0xf0)][_0x302e59(0xbc)]=_0x2af710;const _0x216887=await(0x0,_0x233b96['default'])(_0x2af710);return _0x216887;}}return{};},getSerial=(_0x4c36ca,_0x50fdb6)=>{const _0x37cd39=a14_0x3816cd,_0x157697={};_0x157697['XWBZi']=_0x37cd39(0x128),_0x157697[_0x37cd39(0xe9)]=function(_0x23efef,_0x38955e){return _0x23efef>_0x38955e;},_0x157697[_0x37cd39(0x78)]=function(_0x3337ce,_0x23ecc7){return _0x3337ce>_0x23ecc7;},_0x157697[_0x37cd39(0x122)]=_0x37cd39(0xb1);const _0x2ec506=_0x157697;let _0x7e8602=_0x2ec506[_0x37cd39(0x8f)];return _0x2ec506[_0x37cd39(0xe9)](_0x4c36ca['length'],0x1)&&(!_0x50fdb6[_0x37cd39(0x97)]&&(helper[_0x37cd39(0xed)](_0x50fdb6[_0x37cd39(0x86)])||_0x2ec506[_0x37cd39(0x78)](_0x50fdb6[_0x37cd39(0x86)],0x1)))&&(_0x7e8602=_0x2ec506['SweTW']),_0x7e8602;},getMaxWorkers=(_0x155ef3,_0x2000c8,_0xdbf8bd)=>{const _0x38bca3=a14_0x3816cd,_0x1caf17={'QERSi':function(_0xf288a6,_0x57e089){return _0xf288a6(_0x57e089);}};let _0x1c8da5=0x1;if(!helper['isUndefined'](_0x2000c8[_0x38bca3(0x84)]))_0x1c8da5=_0x1caf17[_0x38bca3(0xb4)](parseInt,_0x2000c8[_0x38bca3(0x84)]);else{if(!helper[_0x38bca3(0xed)](_0x155ef3[_0x38bca3(0x86)]))_0x1c8da5=_0x155ef3[_0x38bca3(0x86)];else!helper[_0x38bca3(0xed)](_0xdbf8bd[_0x38bca3(0x86)])&&(_0x1c8da5=_0xdbf8bd['maxWorkers']);}return _0x1c8da5;};async function run(_0x22fe7c,_0x165adc,_0x589521){const _0x4eeb9f=a14_0x3816cd,_0x505352={'GEJEH':_0x4eeb9f(0x98),'gAMQi':'jest','SMtZJ':function(_0x451453,_0x3ba6fc){return _0x451453(_0x3ba6fc);},'xaole':_0x4eeb9f(0xcc),'OYmuG':function(_0x304bee,_0x38835d,_0x5078e7,_0x507780){return _0x304bee(_0x38835d,_0x5078e7,_0x507780);},'WVmvL':function(_0x11455b,_0x1031e4){return _0x11455b!=_0x1031e4;},'xSsXK':'true','paDwk':function(_0x354d81,_0x1f55e7,_0x189bd3){return _0x354d81(_0x1f55e7,_0x189bd3);},'izzuX':_0x4eeb9f(0xb7),'HrMsN':function(_0x374540,_0x178259){return _0x374540(_0x178259);},'DVnrR':function(_0x4f55df,_0x589fe2,_0x3a491a){return _0x4f55df(_0x589fe2,_0x3a491a);},'yrEND':function(_0x1f6116,_0x56f3b9,_0x110331,_0x254e16){return _0x1f6116(_0x56f3b9,_0x110331,_0x254e16);},'sdTse':function(_0x33ea16,_0x116b3a){return _0x33ea16*_0x116b3a;},'MJrIy':function(_0xa1cc71,_0x20cb3d){return _0xa1cc71===_0x20cb3d;},'XOCxR':'jest_browserstack.config.cjs','RsjAl':_0x4eeb9f(0xd1),'qUzYg':'customImplements','cznNZ':_0x4eeb9f(0x93),'xCOfR':_0x4eeb9f(0x8b),'nrLtE':'customTestRunnerTemplate.js','HudZk':'customEnvironment.js','tShYy':_0x4eeb9f(0xe7),'dPXcl':_0x4eeb9f(0xbe),'PitWt':_0x4eeb9f(0x100),'MNmlr':_0x4eeb9f(0x77),'eTbfT':function(_0x229edd,_0x8879ef){return _0x229edd(_0x8879ef);},'ltQDy':_0x4eeb9f(0xd9),'uZQSS':_0x4eeb9f(0xef),'JfwRn':_0x4eeb9f(0x108),'UrMQK':_0x4eeb9f(0x11a),'JxeKW':'skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','vmKwv':_0x4eeb9f(0xce),'SEVzF':_0x4eeb9f(0x104),'jakeC':_0x4eeb9f(0x10a),'jkWhF':'Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','jxOsD':_0x4eeb9f(0xf4),'dkSjW':_0x4eeb9f(0x13f),'kqWTX':function(_0x330d42,_0x1bece5){return _0x330d42>_0x1bece5;},'laBQc':_0x4eeb9f(0xa0),'YhlDI':_0x4eeb9f(0x11e),'FRwqX':'--config','lDVAS':_0x4eeb9f(0x144),'BDOqi':_0x4eeb9f(0x82),'MpbgU':'close'},_0x3e0e74=helper['getPackageVersion'](_0x505352['xaole']);global[_0x4eeb9f(0x107)]=!!_0x3e0e74;helper[_0x4eeb9f(0x9a)]()?(await _0x589521[_0x4eeb9f(0xe5)](_0x22fe7c),await helper['handleApp'](_0x589521['config'])):await _0x589521['setupTCGAuth']();await _0x505352[_0x4eeb9f(0xbf)](checkPwandBootstrapCli,_0x3e0e74,constants[_0x4eeb9f(0x92)][_0x4eeb9f(0x10d)],_0x589521);if(!_0x589521['config'])return;_0x505352[_0x4eeb9f(0xf3)](_0x589521[_0x4eeb9f(0x114)][_0x4eeb9f(0x13d)],null)?process[_0x4eeb9f(0xf0)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x589521[_0x4eeb9f(0x114)][_0x4eeb9f(0x13d)]:process[_0x4eeb9f(0xf0)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x505352['xSsXK'];const _0x1530f0=new TestOrchestrationHandler(_0x589521[_0x4eeb9f(0x114)]),_0x25ea21=await _0x505352[_0x4eeb9f(0x134)](getUserJestConfigs,_0x22fe7c,_0x165adc);logger[_0x4eeb9f(0x135)](_0x505352[_0x4eeb9f(0x142)]);const _0x16a905=Object[_0x4eeb9f(0xb6)]({},_0x25ea21);_0x16a905[_0x4eeb9f(0xe4)]=Object[_0x4eeb9f(0xb6)]({},_0x16a905[_0x4eeb9f(0xe4)],{'server':helper[_0x4eeb9f(0xb0)](_0x589521['config']),'environment':_0x25ea21[_0x4eeb9f(0x110)]}),_0x16a905[_0x4eeb9f(0xe4)][_0x4eeb9f(0xf5)]=_0x505352[_0x4eeb9f(0x11d)](getPercyOptions,_0x589521[_0x4eeb9f(0x114)]);const _0x47e6b2=helper[_0x4eeb9f(0xbb)](_0x589521['config']);!helper['isUndefined'](_0x589521['config']['accessibilityOptions'])&&(process[_0x4eeb9f(0xf0)][_0x4eeb9f(0x79)]=JSON[_0x4eeb9f(0x6c)](_0x589521['config']['accessibilityOptions']));if(!BrowserstackCLI[_0x4eeb9f(0xf9)]()[_0x4eeb9f(0xa7)]()){const _0x2dee66=await TestHubHandler[_0x4eeb9f(0xda)](FRAMEWORKS['JEST'],_0x589521);}const _0x496268=helper['prepareCapabilities'](_0x589521[_0x4eeb9f(0x114)],_0x47e6b2,constants['FRAMEWORKS']['JEST']);process[_0x4eeb9f(0xf0)]['BROWSERSTACK_CAPABILITIES']=JSON[_0x4eeb9f(0x6c)](_0x496268);let _0x551853=_0x589521['config'][_0x4eeb9f(0x80)];_0x551853=_0x551853||accessibilityHelper[_0x4eeb9f(0xe6)](_0x589521[_0x4eeb9f(0x114)]),process[_0x4eeb9f(0xf0)][_0x4eeb9f(0x111)]=_0x551853,_0x16a905[_0x4eeb9f(0xe4)][_0x4eeb9f(0xa5)]=_0x496268,_0x16a905[_0x4eeb9f(0xe4)][_0x4eeb9f(0xc6)]=_0x505352[_0x4eeb9f(0xeb)](getSerial,_0x496268,_0x22fe7c),_0x16a905[_0x4eeb9f(0xe4)][_0x4eeb9f(0x75)]=_0x505352[_0x4eeb9f(0x11c)](getMaxWorkers,_0x22fe7c,_0x589521[_0x4eeb9f(0x114)],_0x25ea21),_0x16a905[_0x4eeb9f(0xe4)]['proxySettings']=_0x589521[_0x4eeb9f(0x114)][_0x4eeb9f(0xde)],_0x16a905[_0x4eeb9f(0xe4)][_0x4eeb9f(0x10f)]=_0x505352['sdTse'](_0x22fe7c[_0x4eeb9f(0xa4)],0x1)||0x1388,_0x16a905[_0x4eeb9f(0xe4)][_0x4eeb9f(0x121)]=_0x589521[_0x4eeb9f(0x114)]['testContextOptions'][_0x4eeb9f(0x121)],_0x16a905[_0x4eeb9f(0xe4)][_0x4eeb9f(0x9e)]=_0x589521[_0x4eeb9f(0x114)][_0x4eeb9f(0x8d)][_0x4eeb9f(0x9e)],_0x16a905[_0x4eeb9f(0xe4)]['browserStackLogLevel']=_0x589521[_0x4eeb9f(0x114)][_0x4eeb9f(0x117)],_0x16a905[_0x4eeb9f(0xe4)][_0x4eeb9f(0xfb)]=_0x589521[_0x4eeb9f(0x114)]['turboScaleUrl'],_0x16a905[_0x4eeb9f(0xe4)][_0x4eeb9f(0xba)]=_0x589521['config'][_0x4eeb9f(0x9d)];const _0x10bfb3=helper[_0x4eeb9f(0x12f)](_0x589521[_0x4eeb9f(0x114)]);if(!helper['isEmpty'](_0x10bfb3)){helper['isNotUndefined'](_0x10bfb3['retryTestsOnFailure'])&&(_0x16a905[_0x4eeb9f(0xe4)][_0x4eeb9f(0xaf)]=_0x10bfb3[_0x4eeb9f(0x12a)][_0x4eeb9f(0x120)]);if(helper['isNotUndefined'](_0x10bfb3[_0x4eeb9f(0x129)])&&helper['isNotUndefined'](_0x10bfb3[_0x4eeb9f(0x129)][_0x4eeb9f(0xdb)])){const _0x5abeb0={};_0x5abeb0['failureThresholdCount']=_0x10bfb3['abortBuildOnFailure'][_0x4eeb9f(0x130)],_0x5abeb0[_0x4eeb9f(0xdb)]=_0x10bfb3[_0x4eeb9f(0x129)][_0x4eeb9f(0xdb)],_0x16a905['testEnvironmentOptions'][_0x4eeb9f(0xdf)]=_0x5abeb0;}}let _0x374cd3='';_0x505352[_0x4eeb9f(0xdc)](helper[_0x4eeb9f(0x131)](),constants['PACKAGE_TYPE'][_0x4eeb9f(0xa9)])?_0x374cd3=_0x505352[_0x4eeb9f(0x124)]:_0x374cd3=_0x505352['RsjAl'];const _0x1e2003=_0x374cd3,_0x1f477a=path[_0x4eeb9f(0xfc)](__dirname,_0x505352['qUzYg'],_0x505352[_0x4eeb9f(0x13e)]),_0x2f275f=path['join'](__dirname,_0x505352[_0x4eeb9f(0x101)],_0x505352['xCOfR']),_0x29bce=path[_0x4eeb9f(0xfc)](__dirname,_0x505352['qUzYg'],_0x505352['nrLtE']);_0x16a905[_0x4eeb9f(0x110)]&&(process[_0x4eeb9f(0xf0)][_0x4eeb9f(0x72)]=_0x16a905[_0x4eeb9f(0x110)]);_0x16a905[_0x4eeb9f(0x110)]=path['join'](__dirname,_0x505352[_0x4eeb9f(0x101)],_0x505352['HudZk']),_0x16a905[_0x4eeb9f(0x113)]=_0x2f275f,_0x16a905[_0x4eeb9f(0x137)]=_0x16a905[_0x4eeb9f(0x137)]||[],_0x16a905['setupFilesAfterEnv']['push'](path[_0x4eeb9f(0xfc)](__dirname,_0x505352[_0x4eeb9f(0x91)]));_0x1530f0['isTestOrchestrationEnabled']()&&(_0x16a905['testSequencer']=path['join'](__dirname,_0x505352[_0x4eeb9f(0x101)],_0x505352['dPXcl']));if(testhubUtils['shouldProcessEventForTesthub']()){let _0x1afa17=null;try{_0x1afa17=helper['requireModule'](_0x505352[_0x4eeb9f(0x11f)],_0x505352[_0x4eeb9f(0xc4)]);}catch(_0x3cddec){_0x505352['eTbfT'](debug,_0x4eeb9f(0xb9)+_0x3cddec);}_0x1afa17&&(_0x16a905[_0x4eeb9f(0x137)][_0x4eeb9f(0x145)](path['join'](__dirname,_0x505352[_0x4eeb9f(0xfe)],_0x505352[_0x4eeb9f(0xea)])),_0x16a905[_0x4eeb9f(0xab)]=path[_0x4eeb9f(0xfc)](__dirname,_0x505352[_0x4eeb9f(0x101)],_0x505352[_0x4eeb9f(0xdd)]));}_0x16a905[_0x4eeb9f(0x141)]=_0x16a905['setupFiles']||[];try{helper[_0x4eeb9f(0x71)](),_0x16a905[_0x4eeb9f(0x141)][_0x4eeb9f(0x145)](path[_0x4eeb9f(0xfc)](__dirname,_0x505352[_0x4eeb9f(0x118)]));}catch{logger[_0x4eeb9f(0xe2)](_0x505352[_0x4eeb9f(0x6f)]);}try{helper[_0x4eeb9f(0xd6)][_0x4eeb9f(0xfd)](null,[_0x505352[_0x4eeb9f(0x7e)],_0x505352[_0x4eeb9f(0xe1)]]),logger[_0x4eeb9f(0xe2)](_0x505352['SEVzF']),_0x16a905[_0x4eeb9f(0x141)][_0x4eeb9f(0x145)](path[_0x4eeb9f(0xfc)](__dirname,_0x505352[_0x4eeb9f(0x6b)]));}catch(_0x3d597a){logger[_0x4eeb9f(0xe2)](_0x505352[_0x4eeb9f(0x8e)],_0x3d597a);}_0x16a905[_0x4eeb9f(0x12b)]=_0x16a905[_0x4eeb9f(0x12b)]||[_0x505352[_0x4eeb9f(0xd7)]],_0x505352[_0x4eeb9f(0x134)](updateTestRerunConfig,_0x16a905,_0x589521);const _0x5f468b=fs['readFileSync'](_0x29bce);fs['writeFileSync'](_0x16a905['runner'],_0x4eeb9f(0x139)+_0x5f468b+_0x4eeb9f(0x106)+_0x589521[_0x4eeb9f(0x114)]['platforms']['length']+';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20'),logger[_0x4eeb9f(0x135)](_0x4eeb9f(0x109)+_0x1e2003+_0x4eeb9f(0xf6)),fs[_0x4eeb9f(0xf8)](_0x1e2003,_0x4eeb9f(0x13a)+JSON[_0x4eeb9f(0x6c)](_0x16a905)+'\x0amodule.exports\x20=\x20config;');if(_0x1530f0[_0x4eeb9f(0x90)]()){logger['debug'](_0x505352[_0x4eeb9f(0xc3)]);const _0x4c4d44=await _0x1530f0[_0x4eeb9f(0xe0)](_0x16a905,_0x165adc[_0x4eeb9f(0xcf)](0x1),_0x1e2003);logger[_0x4eeb9f(0xe2)](_0x4eeb9f(0x7b)+JSON[_0x4eeb9f(0x6c)](_0x4c4d44)+'\x20test\x20files\x20to\x20run.');const _0x5b3fb4=await _0x1530f0[_0x4eeb9f(0x11b)](_0x4c4d44);logger['debug']('Reodered\x20Test\x20Files:\x20'+JSON[_0x4eeb9f(0x6c)](_0x5b3fb4)),_0x5b3fb4&&_0x505352['kqWTX'](_0x5b3fb4[_0x4eeb9f(0x6e)],0x0)&&(process[_0x4eeb9f(0xf0)]['JEST_TEST_ORDER']=_0x5b3fb4?.['join'](','));}logger[_0x4eeb9f(0x135)](_0x505352[_0x4eeb9f(0xa3)]);testhubUtils[_0x4eeb9f(0xfa)]()&&TestDetails['setup']();helper[_0x4eeb9f(0xd2)]({},_0x165adc),PerformanceTester[_0x4eeb9f(0x10b)](PerformanceEvents['SDK_SETUP']);const _0x43e255=_0x505352[_0x4eeb9f(0xbf)](spawn,_0x505352[_0x4eeb9f(0x6d)],[_0x505352[_0x4eeb9f(0xe3)],_0x505352[_0x4eeb9f(0x12e)],_0x1e2003,..._0x165adc['slice'](0x1)],{'shell':_0x505352[_0x4eeb9f(0xdc)](process[_0x4eeb9f(0x12d)],_0x505352[_0x4eeb9f(0x133)]),'stdio':_0x505352[_0x4eeb9f(0x102)],'env':Object[_0x4eeb9f(0xb6)]({},process[_0x4eeb9f(0xf0)])});_0x43e255['on'](_0x505352[_0x4eeb9f(0xf2)],async _0x207c3d=>{const _0x5844ed=_0x4eeb9f;PerformanceTester[_0x5844ed(0x8a)](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0x4327a1,tcgConfigPath:_0x5b9bea}=helper[_0x5844ed(0x7c)]();fs['unlinkSync'](_0x5b9bea),fs[_0x5844ed(0xff)](_0x4327a1);}catch(_0x44f1bf){logger[_0x5844ed(0xe2)](_0x505352[_0x5844ed(0x123)],_0x44f1bf);}process[_0x5844ed(0x126)]=_0x207c3d,logger[_0x5844ed(0xe2)](_0x5844ed(0x89)+_0x207c3d),logger['info'](_0x5844ed(0x115)+_0x1e2003);if(helper[_0x5844ed(0xb2)](_0x10bfb3)&&helper['isNotUndefined'](_0x10bfb3[_0x5844ed(0x129)])&&fs[_0x5844ed(0x136)](_0x10bfb3[_0x5844ed(0x129)]['workingDir']))try{const _0x11cb1b={};_0x11cb1b[_0x5844ed(0xcd)]=!![],_0x11cb1b[_0x5844ed(0x99)]=!![],fs['rmSync'](_0x10bfb3[_0x5844ed(0x129)][_0x5844ed(0xdb)],_0x11cb1b),logger[_0x5844ed(0xe2)](_0x5844ed(0xc9)+_0x10bfb3[_0x5844ed(0x129)]['workingDir']);}catch(_0x53ad81){logger['error'](_0x5844ed(0xc0)+_0x53ad81);}let _0x5903be=null;if(fs['existsSync'](_0x1f477a)){_0x5903be=fs[_0x5844ed(0xae)](_0x1f477a);try{_0x5903be=JSON[_0x5844ed(0x143)](_0x5903be);}catch(_0x2bff9c){logger[_0x5844ed(0xe2)](_0x5844ed(0x96)+_0x1f477a+',\x20'+_0x5903be+_0x5844ed(0x88)+_0x2bff9c);}fs['unlinkSync'](_0x1f477a);}fs['unlinkSync'](_0x1e2003),fs[_0x5844ed(0x76)](_0x2f275f),_0x5903be&&(_0x589521[_0x5844ed(0x9c)]=helper['getErrorMessageFromResults'](_0x5903be,_0x505352['gAMQi'],_0x589521));try{await TestHubHandler[_0x5844ed(0x105)](),await BrowserstackCLI['getInstance']()[_0x5844ed(0x105)]();}catch(_0x37cf9f){console[_0x5844ed(0xf1)](_0x37cf9f),_0x505352[_0x5844ed(0x9f)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20'+util[_0x5844ed(0x7f)](_0x37cf9f));}testOpsHelper['printBuildLink'](),TestDetails[_0x5844ed(0x103)](),await utilities[_0x5844ed(0x94)](_0x589521);});}module[a14_0x3816cd(0xb5)]=run;