#!/usr/bin/env node
'use strict';const a14_0x375552=a14_0xcfba;function a14_0xcfba(_0x24e346,_0x421b8a){const _0x32f82e=a14_0x32f8();return a14_0xcfba=function(_0xcfba77,_0x2bd33e){_0xcfba77=_0xcfba77-0x13e;let _0x4373e1=_0x32f82e[_0xcfba77];return _0x4373e1;},a14_0xcfba(_0x24e346,_0x421b8a);}(function(_0x2934df,_0x2de54f){const _0x770f0=a14_0xcfba,_0x10bb20=_0x2934df();while(!![]){try{const _0x191e2e=parseInt(_0x770f0(0x18c))/0x1+parseInt(_0x770f0(0x149))/0x2*(parseInt(_0x770f0(0x21d))/0x3)+-parseInt(_0x770f0(0x1a4))/0x4+parseInt(_0x770f0(0x1bb))/0x5*(parseInt(_0x770f0(0x154))/0x6)+parseInt(_0x770f0(0x14d))/0x7*(-parseInt(_0x770f0(0x1a6))/0x8)+parseInt(_0x770f0(0x161))/0x9*(parseInt(_0x770f0(0x157))/0xa)+-parseInt(_0x770f0(0x1e5))/0xb;if(_0x191e2e===_0x2de54f)break;else _0x10bb20['push'](_0x10bb20['shift']());}catch(_0x46209a){_0x10bb20['push'](_0x10bb20['shift']());}}}(a14_0x32f8,0xbab58));const fs=require('fs'),path=require(a14_0x375552(0x194)),util=require(a14_0x375552(0x198)),{spawn}=require(a14_0x375552(0x1fb)),logger=require(a14_0x375552(0x1a1))[a14_0x375552(0x1ad)],{default:BrowserStackSetup}=require(a14_0x375552(0x150)),helper=require('../../helpers/helper'),utilities=require(a14_0x375552(0x207)),constants=require(a14_0x375552(0x1ff)),accessibilityHelper=require(a14_0x375552(0x1cc)),{updateTestRerunConfig}=require('./test-observability/helper'),testOpsHelper=require('../../helpers/test-observability/utils'),{debug}=require(a14_0x375552(0x1f7)),TestDetails=require('./test-observability/test-details'),{getPercyOptions}=require('../../helpers/percy/utils'),TestHubHandler=require(a14_0x375552(0x1eb)),testhubUtils=require(a14_0x375552(0x1a8)),{FRAMEWORKS}=require(a14_0x375552(0x16f)),PerformanceTester=require(a14_0x375552(0x148)),PerformanceEvents=require(a14_0x375552(0x1b2))['EVENTS'],TestOrchestrationHandler=require('../../helpers/test-orchestration/testOrchestrationHandler'),BrowserstackCLI=require(a14_0x375552(0x1f3)),{checkPwandBootstrapCli}=require(a14_0x375552(0x1ee)),ClientTroubleShootingService=require(a14_0x375552(0x1f0)),{checkAccessibilityPlatformConfig}=require(a14_0x375552(0x1cc)),getUserJestConfigs=async(_0x3b6796,_0x149d4e)=>{const _0x4a0a83=a14_0x375552,_0x3bf335={'GMFrB':_0x4a0a83(0x153),'skcyz':_0x4a0a83(0x180),'OOJye':function(_0x4144a8,_0x51f7c0){return _0x4144a8||_0x51f7c0;},'GPgyG':function(_0x2c529d,_0x62afda){return _0x2c529d(_0x62afda);},'QHXnm':_0x4a0a83(0x213),'UqxFT':_0x4a0a83(0x1aa),'WlnsM':'mjs','UhOVu':'cjs','jCetV':_0x4a0a83(0x195)},_0x5b700e=helper[_0x4a0a83(0x15f)](_0x3bf335[_0x4a0a83(0x21f)],_0x3bf335['skcyz']),_0x394be9=_0x149d4e[_0x4a0a83(0x1b5)](_0x1face8=>_0x1face8===_0x4a0a83(0x16d));if(!helper[_0x4a0a83(0x1f5)](_0x3b6796[_0x4a0a83(0x1c0)])){logger[_0x4a0a83(0x1d6)](_0x4a0a83(0x219)+_0x3b6796[_0x4a0a83(0x1c0)]),process['env'][_0x4a0a83(0x1b8)]=_0x3b6796[_0x4a0a83(0x1c0)];const _0x22ec36=await(0x0,_0x5b700e['default'])(path[_0x4a0a83(0x181)](_0x3b6796['config']));return _0x149d4e[_0x4a0a83(0x225)](_0x394be9,0x2),_0x3bf335[_0x4a0a83(0x143)](_0x22ec36,{});}const _0x52d386=_0x3bf335[_0x4a0a83(0x1c8)](require,path['join'](process['cwd'](),_0x3bf335[_0x4a0a83(0x20e)]));if(_0x52d386[_0x4a0a83(0x1d1)])return logger[_0x4a0a83(0x1d6)](_0x3bf335[_0x4a0a83(0x141)]),_0x52d386[_0x4a0a83(0x1d1)];const _0x4025a6=['js',_0x3bf335[_0x4a0a83(0x1a0)],_0x3bf335[_0x4a0a83(0x14e)],_0x3bf335[_0x4a0a83(0x211)],'ts'];for(const _0x3bacf1 of _0x4025a6){const _0x5d720e=path[_0x4a0a83(0x165)](process[_0x4a0a83(0x21c)](),'jest.config.'+_0x3bacf1);if(fs[_0x4a0a83(0x144)](_0x5d720e)){process[_0x4a0a83(0x1f6)][_0x4a0a83(0x1b8)]=_0x5d720e;const _0x1fa340=await(0x0,_0x5b700e[_0x4a0a83(0x172)])(_0x5d720e);return _0x1fa340;}}return{};},getSerial=(_0x6af84e,_0x21adbb)=>{const _0x5adccb=a14_0x375552,_0x3f2959={};_0x3f2959[_0x5adccb(0x162)]=_0x5adccb(0x14b),_0x3f2959[_0x5adccb(0x152)]=function(_0x56a686,_0x3c00e1){return _0x56a686>_0x3c00e1;},_0x3f2959[_0x5adccb(0x221)]='false';const _0x563c8f=_0x3f2959;let _0x7e7d48=_0x563c8f[_0x5adccb(0x162)];return _0x563c8f[_0x5adccb(0x152)](_0x6af84e[_0x5adccb(0x147)],0x1)&&(!_0x21adbb['runInBand']&&(helper[_0x5adccb(0x1f5)](_0x21adbb[_0x5adccb(0x20a)])||_0x563c8f[_0x5adccb(0x152)](_0x21adbb['maxWorkers'],0x1)))&&(_0x7e7d48=_0x563c8f['aIcbk']),_0x7e7d48;},getMaxWorkers=(_0x46ec06,_0x559a35,_0x3842bc)=>{const _0x4185c9=a14_0x375552,_0xf68425={'fHdxx':function(_0x4b5fe7,_0x34bded){return _0x4b5fe7(_0x34bded);}};let _0x113de2=0x1;if(!helper[_0x4185c9(0x1f5)](_0x559a35['parallelsPerPlatform']))_0x113de2=_0xf68425['fHdxx'](parseInt,_0x559a35[_0x4185c9(0x1c5)]);else{if(!helper['isUndefined'](_0x46ec06[_0x4185c9(0x20a)]))_0x113de2=_0x46ec06[_0x4185c9(0x20a)];else!helper[_0x4185c9(0x1f5)](_0x3842bc[_0x4185c9(0x20a)])&&(_0x113de2=_0x3842bc[_0x4185c9(0x20a)]);}return _0x113de2;};async function run(_0x546644,_0x28ca11,_0x467523){const _0x1f4657=a14_0x375552,_0x209de6={'rNKJT':_0x1f4657(0x163),'uPxBJ':'jest','yhfZW':function(_0x4f17e4,_0x12d4db){return _0x4f17e4(_0x12d4db);},'JNbdN':'@playwright/test','ZOZMF':function(_0x1df83c,_0x4620de,_0x99813b,_0x3e3e4c){return _0x1df83c(_0x4620de,_0x99813b,_0x3e3e4c);},'OFzFS':function(_0x1ece68,_0x3527ac){return _0x1ece68!=_0x3527ac;},'LmHAb':_0x1f4657(0x14b),'PwzaN':function(_0x50042c,_0xbe4a37,_0x2ba67a){return _0x50042c(_0xbe4a37,_0x2ba67a);},'gnksP':_0x1f4657(0x179),'gwDfq':function(_0x4d0cd2,_0x389a11){return _0x4d0cd2(_0x389a11);},'uAqwW':_0x1f4657(0x1c2),'KccMM':function(_0x2bc09d,_0x5a6eb9,_0x9e5b29){return _0x2bc09d(_0x5a6eb9,_0x9e5b29);},'tVcgt':function(_0xf515bf,_0x3820ac){return _0xf515bf*_0x3820ac;},'qRGnp':function(_0x3a1f2e,_0x3163de){return _0x3a1f2e===_0x3163de;},'PYArj':_0x1f4657(0x1e1),'ojrWe':'jest_browserstack.config.js','DGeAv':_0x1f4657(0x20c),'skMwZ':_0x1f4657(0x140),'EkxhU':_0x1f4657(0x183),'Kvviq':_0x1f4657(0x1ed),'flmIx':_0x1f4657(0x1d2),'KNFhZ':_0x1f4657(0x223),'gwFnO':_0x1f4657(0x14f),'uuXpf':_0x1f4657(0x220),'ojcri':_0x1f4657(0x18f),'TPzOa':_0x1f4657(0x208),'PUeUL':_0x1f4657(0x1b9),'FIFct':_0x1f4657(0x1ac),'qtfFZ':_0x1f4657(0x17b),'YytSw':_0x1f4657(0x1d3),'CXzDM':'playwright','zRmBv':_0x1f4657(0x200),'isiMg':_0x1f4657(0x1a9),'EkkxH':_0x1f4657(0x1fe),'MGFvO':'default','ThCJP':function(_0x2a4403,_0x513a86,_0x5afd3c){return _0x2a4403(_0x513a86,_0x5afd3c);},'xjqBY':_0x1f4657(0x170),'zZnic':function(_0xb626f6,_0x255aa2){return _0xb626f6>_0x255aa2;},'MRQat':'Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','wcrDz':_0x1f4657(0x1c9),'xClyc':_0x1f4657(0x16d),'IDDsR':function(_0x4c9339,_0x564e20){return _0x4c9339===_0x564e20;},'LHRzb':'win32','wBPVF':_0x1f4657(0x1e0),'XGfCp':_0x1f4657(0x192)},_0x5bc4f0=helper['getPackageVersion'](_0x209de6[_0x1f4657(0x19a)]);global['__isPlaywrightInstalled']=!!_0x5bc4f0;helper[_0x1f4657(0x1cd)]()?(await _0x467523[_0x1f4657(0x196)](_0x546644),await helper['handleApp'](_0x467523[_0x1f4657(0x1c0)])):await _0x467523[_0x1f4657(0x151)]();await _0x209de6[_0x1f4657(0x1fd)](checkPwandBootstrapCli,_0x5bc4f0,constants[_0x1f4657(0x20d)]['JEST'],_0x467523);if(!_0x467523['config'])return;_0x209de6[_0x1f4657(0x209)](_0x467523[_0x1f4657(0x1c0)]['testObservability'],null)?process[_0x1f4657(0x1f6)][_0x1f4657(0x15b)]=_0x467523[_0x1f4657(0x1c0)][_0x1f4657(0x1fa)]:process[_0x1f4657(0x1f6)][_0x1f4657(0x15b)]=_0x209de6[_0x1f4657(0x1ea)];const _0x20510d=new TestOrchestrationHandler(_0x467523[_0x1f4657(0x1c0)]),_0x4d0ee5=await _0x209de6[_0x1f4657(0x214)](getUserJestConfigs,_0x546644,_0x28ca11);logger[_0x1f4657(0x1d6)](_0x209de6[_0x1f4657(0x19f)]);const _0x26fad7=Object[_0x1f4657(0x1d8)]({},_0x4d0ee5);_0x26fad7[_0x1f4657(0x1b3)]=Object[_0x1f4657(0x1d8)]({},_0x26fad7[_0x1f4657(0x1b3)],{'server':helper[_0x1f4657(0x17a)](_0x467523['config']),'environment':_0x4d0ee5[_0x1f4657(0x1f4)]}),_0x26fad7[_0x1f4657(0x1b3)][_0x1f4657(0x1a2)]=_0x209de6[_0x1f4657(0x1b1)](getPercyOptions,_0x467523[_0x1f4657(0x1c0)]);const _0x321e1a=helper[_0x1f4657(0x1a7)](_0x467523['config']);!helper[_0x1f4657(0x1f5)](_0x467523[_0x1f4657(0x1c0)]['accessibilityOptions'])&&(process[_0x1f4657(0x1f6)][_0x1f4657(0x17d)]=JSON[_0x1f4657(0x1dc)](_0x467523['config'][_0x1f4657(0x17f)]));if(!BrowserstackCLI[_0x1f4657(0x197)]()['isRunning']()){const _0x19a8cd=await TestHubHandler[_0x1f4657(0x16a)](FRAMEWORKS['JEST'],_0x467523);}const _0x3e0abe=helper[_0x1f4657(0x1bd)](_0x467523[_0x1f4657(0x1c0)],_0x321e1a,constants[_0x1f4657(0x20d)][_0x1f4657(0x160)]);process[_0x1f4657(0x1f6)][_0x1f4657(0x169)]=JSON[_0x1f4657(0x1dc)](_0x3e0abe);let _0x47ece3=_0x467523[_0x1f4657(0x1c0)][_0x1f4657(0x1e4)];_0x47ece3=_0x47ece3||accessibilityHelper['checkAccessibilityPlatformConfig'](_0x467523['config']),process[_0x1f4657(0x1f6)][_0x1f4657(0x203)]=_0x47ece3,logger[_0x1f4657(0x202)](_0x1f4657(0x20f)+_0x47ece3+_0x1f4657(0x21b)+BrowserstackCLI[_0x1f4657(0x197)]()[_0x1f4657(0x1de)]());if(_0x5bc4f0)try{const _0x456135=_0x209de6[_0x1f4657(0x1b1)](checkAccessibilityPlatformConfig,_0x467523[_0x1f4657(0x1c0)]);process[_0x1f4657(0x1f6)][_0x1f4657(0x1d0)]=_0x456135?_0x209de6['LmHAb']:_0x209de6[_0x1f4657(0x186)],logger[_0x1f4657(0x202)](_0x1f4657(0x1d5)+_0x456135+_0x1f4657(0x18d)+process[_0x1f4657(0x1f6)][_0x1f4657(0x1d0)]);}catch(_0x1d3ee4){logger[_0x1f4657(0x202)](_0x1f4657(0x216)+util[_0x1f4657(0x17e)](_0x1d3ee4));}_0x26fad7['testEnvironmentOptions']['capabilities']=_0x3e0abe,_0x26fad7['testEnvironmentOptions']['serial__']=_0x209de6[_0x1f4657(0x1db)](getSerial,_0x3e0abe,_0x546644),_0x26fad7[_0x1f4657(0x1b3)]['parallels__']=_0x209de6[_0x1f4657(0x1fd)](getMaxWorkers,_0x546644,_0x467523[_0x1f4657(0x1c0)],_0x4d0ee5),_0x26fad7['testEnvironmentOptions']['proxySettings']=_0x467523[_0x1f4657(0x1c0)][_0x1f4657(0x16b)],_0x26fad7[_0x1f4657(0x1b3)][_0x1f4657(0x1a5)]=_0x209de6[_0x1f4657(0x1fc)](_0x546644[_0x1f4657(0x1c4)],0x1)||0x1388,_0x26fad7[_0x1f4657(0x1b3)]['skipSessionName']=_0x467523[_0x1f4657(0x1c0)][_0x1f4657(0x1ec)][_0x1f4657(0x15e)],_0x26fad7[_0x1f4657(0x1b3)]['skipSessionStatus']=_0x467523[_0x1f4657(0x1c0)]['testContextOptions'][_0x1f4657(0x1e2)],_0x26fad7[_0x1f4657(0x1b3)][_0x1f4657(0x205)]=_0x467523[_0x1f4657(0x1c0)][_0x1f4657(0x1c7)],_0x26fad7['testEnvironmentOptions'][_0x1f4657(0x201)]=_0x467523[_0x1f4657(0x1c0)]['turboScaleUrl'],_0x26fad7[_0x1f4657(0x1b3)][_0x1f4657(0x173)]=_0x467523[_0x1f4657(0x1c0)]['platforms'];const _0x3e7311=helper[_0x1f4657(0x1b7)](_0x467523['config']);if(!helper[_0x1f4657(0x1e3)](_0x3e7311)){helper[_0x1f4657(0x1dd)](_0x3e7311['retryTestsOnFailure'])&&(_0x26fad7[_0x1f4657(0x1b3)][_0x1f4657(0x1cb)]=_0x3e7311[_0x1f4657(0x155)][_0x1f4657(0x222)]);if(helper[_0x1f4657(0x1dd)](_0x3e7311['abortBuildOnFailure'])&&helper['isNotUndefined'](_0x3e7311[_0x1f4657(0x226)][_0x1f4657(0x1da)])){const _0x36cc90={};_0x36cc90[_0x1f4657(0x177)]=_0x3e7311['abortBuildOnFailure'][_0x1f4657(0x217)],_0x36cc90['workingDir']=_0x3e7311[_0x1f4657(0x226)]['workingDir'],_0x26fad7[_0x1f4657(0x1b3)][_0x1f4657(0x15d)]=_0x36cc90;}}let _0x14f9eb='';_0x209de6[_0x1f4657(0x167)](helper[_0x1f4657(0x199)](),constants[_0x1f4657(0x1df)][_0x1f4657(0x14a)])?_0x14f9eb=_0x209de6['PYArj']:_0x14f9eb=_0x209de6[_0x1f4657(0x13f)];const _0x50be68=_0x14f9eb,_0x58c735=path[_0x1f4657(0x165)](__dirname,_0x209de6['DGeAv'],_0x209de6[_0x1f4657(0x1ce)]),_0x131a27=path[_0x1f4657(0x165)](__dirname,_0x209de6['DGeAv'],_0x209de6[_0x1f4657(0x1bf)]),_0x7e7c81=path['join'](__dirname,_0x209de6['DGeAv'],_0x209de6['Kvviq']);_0x26fad7[_0x1f4657(0x1f4)]&&(process[_0x1f4657(0x1f6)][_0x1f4657(0x178)]=_0x26fad7[_0x1f4657(0x1f4)]);_0x26fad7[_0x1f4657(0x1f4)]=path['join'](__dirname,_0x209de6[_0x1f4657(0x164)],_0x209de6[_0x1f4657(0x18b)]),_0x26fad7[_0x1f4657(0x215)]=_0x131a27,_0x26fad7[_0x1f4657(0x145)]=_0x26fad7['setupFilesAfterEnv']||[],_0x26fad7[_0x1f4657(0x145)][_0x1f4657(0x21a)](path[_0x1f4657(0x165)](__dirname,_0x209de6[_0x1f4657(0x142)]));_0x20510d['isTestOrchestrationEnabled']()&&(_0x26fad7[_0x1f4657(0x189)]=path['join'](__dirname,_0x209de6[_0x1f4657(0x164)],_0x209de6[_0x1f4657(0x19d)]));if(testhubUtils[_0x1f4657(0x218)]()){let _0x2db064=null;try{_0x2db064=helper[_0x1f4657(0x15f)](_0x209de6[_0x1f4657(0x212)],_0x209de6[_0x1f4657(0x159)]);}catch(_0x15e785){_0x209de6['yhfZW'](debug,_0x1f4657(0x1f1)+_0x15e785);}_0x2db064&&(_0x26fad7['setupFilesAfterEnv'][_0x1f4657(0x21a)](path[_0x1f4657(0x165)](__dirname,_0x209de6[_0x1f4657(0x15c)],_0x209de6[_0x1f4657(0x1f2)])),_0x26fad7[_0x1f4657(0x1bc)]=path[_0x1f4657(0x165)](__dirname,_0x209de6['DGeAv'],_0x209de6[_0x1f4657(0x1ae)]));}_0x26fad7['setupFiles']=_0x26fad7[_0x1f4657(0x190)]||[];try{helper[_0x1f4657(0x224)](),_0x26fad7[_0x1f4657(0x190)][_0x1f4657(0x21a)](path[_0x1f4657(0x165)](__dirname,_0x209de6[_0x1f4657(0x171)]));}catch{logger[_0x1f4657(0x202)](_0x209de6[_0x1f4657(0x176)]);}try{helper['requirePWModule'][_0x1f4657(0x18e)](null,[_0x209de6[_0x1f4657(0x19a)],_0x209de6[_0x1f4657(0x158)]]),logger[_0x1f4657(0x202)](_0x209de6[_0x1f4657(0x1c3)]),_0x26fad7[_0x1f4657(0x190)]['push'](path[_0x1f4657(0x165)](__dirname,_0x209de6[_0x1f4657(0x16c)]));}catch(_0xd10706){logger['debug'](_0x209de6['EkkxH'],_0xd10706);}_0x26fad7[_0x1f4657(0x18a)]=_0x26fad7[_0x1f4657(0x18a)]||[_0x209de6['MGFvO']],_0x209de6['ThCJP'](updateTestRerunConfig,_0x26fad7,_0x467523);const _0x26aca3=fs[_0x1f4657(0x185)](_0x7e7c81);fs[_0x1f4657(0x17c)](_0x26fad7['runner'],_0x1f4657(0x1e8)+_0x26aca3+_0x1f4657(0x184)+_0x467523['config']['platforms'][_0x1f4657(0x147)]+_0x1f4657(0x19c)),logger[_0x1f4657(0x1d6)](_0x1f4657(0x1c1)+_0x50be68+'\x20with\x20browserstack\x20jest\x20configs'),fs[_0x1f4657(0x17c)](_0x50be68,_0x1f4657(0x13e)+JSON[_0x1f4657(0x1dc)](_0x26fad7)+_0x1f4657(0x1ef));if(_0x20510d[_0x1f4657(0x1d4)]()){logger['debug'](_0x209de6[_0x1f4657(0x168)]);const _0x476e08=await _0x20510d[_0x1f4657(0x182)](_0x26fad7,_0x28ca11['slice'](0x1),_0x50be68);logger[_0x1f4657(0x202)](_0x1f4657(0x19e)+JSON[_0x1f4657(0x1dc)](_0x476e08)+'\x20test\x20files\x20to\x20run.');const _0x51ac17=await _0x20510d['reorderTestFiles'](_0x476e08);logger[_0x1f4657(0x202)](_0x1f4657(0x191)+JSON[_0x1f4657(0x1dc)](_0x51ac17)),_0x51ac17&&_0x209de6[_0x1f4657(0x175)](_0x51ac17[_0x1f4657(0x147)],0x0)&&(process[_0x1f4657(0x1f6)][_0x1f4657(0x1cf)]=_0x51ac17?.['join'](','));}logger[_0x1f4657(0x1d6)](_0x209de6[_0x1f4657(0x146)]);testhubUtils[_0x1f4657(0x218)]()&&TestDetails[_0x1f4657(0x1d9)]();helper[_0x1f4657(0x1b6)]({},_0x28ca11),PerformanceTester[_0x1f4657(0x206)](PerformanceEvents[_0x1f4657(0x19b)]);const _0x4a5cf5=_0x209de6[_0x1f4657(0x1fd)](spawn,_0x209de6[_0x1f4657(0x1a3)],[_0x209de6[_0x1f4657(0x1f8)],_0x209de6[_0x1f4657(0x20b)],_0x50be68,..._0x28ca11['slice'](0x1)],{'shell':_0x209de6['IDDsR'](process[_0x1f4657(0x1ab)],_0x209de6[_0x1f4657(0x166)]),'stdio':_0x209de6['wBPVF'],'env':Object[_0x1f4657(0x1d8)]({},process[_0x1f4657(0x1f6)])});_0x4a5cf5['on'](_0x209de6['XGfCp'],async _0x412441=>{const _0x5b3baa=_0x1f4657;PerformanceTester[_0x5b3baa(0x14c)](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0x1ce221,tcgConfigPath:_0x397a3e}=helper[_0x5b3baa(0x1e9)]();fs[_0x5b3baa(0x1ca)](_0x397a3e),fs[_0x5b3baa(0x1c6)](_0x1ce221);}catch(_0x169fc2){logger[_0x5b3baa(0x202)](_0x209de6[_0x5b3baa(0x15a)],_0x169fc2);}process['exitCode']=_0x412441,logger['debug'](_0x5b3baa(0x156)+_0x412441),logger[_0x5b3baa(0x1d6)](_0x5b3baa(0x188)+_0x50be68);if(helper[_0x5b3baa(0x1dd)](_0x3e7311)&&helper[_0x5b3baa(0x1dd)](_0x3e7311[_0x5b3baa(0x226)])&&fs[_0x5b3baa(0x144)](_0x3e7311['abortBuildOnFailure'][_0x5b3baa(0x1da)]))try{const _0x1e298f={};_0x1e298f[_0x5b3baa(0x21e)]=!![],_0x1e298f[_0x5b3baa(0x210)]=!![],fs['rmSync'](_0x3e7311[_0x5b3baa(0x226)][_0x5b3baa(0x1da)],_0x1e298f),logger[_0x5b3baa(0x202)](_0x5b3baa(0x1b4)+_0x3e7311[_0x5b3baa(0x226)][_0x5b3baa(0x1da)]);}catch(_0x6a8ccd){logger[_0x5b3baa(0x1af)]('Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20'+_0x6a8ccd);}let _0x16490f=null;if(fs['existsSync'](_0x58c735)){_0x16490f=fs['readFileSync'](_0x58c735);try{_0x16490f=JSON[_0x5b3baa(0x16e)](_0x16490f);}catch(_0x492b60){logger['debug'](_0x5b3baa(0x1f9)+_0x58c735+',\x20'+_0x16490f+_0x5b3baa(0x193)+_0x492b60);}fs[_0x5b3baa(0x1ca)](_0x58c735);}fs[_0x5b3baa(0x1ca)](_0x50be68),fs[_0x5b3baa(0x1ca)](_0x131a27),_0x16490f&&(_0x467523[_0x5b3baa(0x174)]=helper[_0x5b3baa(0x1e7)](_0x16490f,_0x209de6['uPxBJ'],_0x467523));try{await TestHubHandler[_0x5b3baa(0x204)](),await BrowserstackCLI[_0x5b3baa(0x197)]()['stop']();}catch(_0x74805){console[_0x5b3baa(0x1d7)](_0x74805),_0x209de6[_0x5b3baa(0x1be)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20'+util[_0x5b3baa(0x17e)](_0x74805));}testOpsHelper[_0x5b3baa(0x1b0)](),TestDetails[_0x5b3baa(0x1ba)](),await utilities[_0x5b3baa(0x187)](_0x467523);});}function a14_0x32f8(){const _0x48da14=['qtfFZ','default','platformCaps','errorMessage','zZnic','YytSw','failureThresholdCount','BSTACK_JEST_TEST_ENV','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','getHubUrl','test_before.setup.js','writeFileSync','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','format','accessibilityOptions','jest-config','resolve','findTestFiles','customTestRunner.js','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','readFileSync','uAqwW','finalExecution','Deleting\x20','testSequencer','reporters','flmIx','1189990twBjYc',',\x20BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM=','apply','jest-circus','setupFiles','Reodered\x20Test\x20Files:\x20','close','\x20:\x20','path','json','initialize','getInstance','util','getPackageType','JNbdN','SDK_SETUP',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','gwFnO','Found:\x20','gnksP','WlnsM','../../helpers/logger','browserStackPercyOptions','wcrDz','2545700ssxFXQ','timeout__','8zYYubH','useW3C','../../helpers/testhub/utils','test.setup.js','Getting\x20your\x20jest\x20configs\x20from\x20package.json','platform','customCircus.js','winstonLogger','FIFct','error','printBuildLink','gwDfq','../../helpers/performance/constants','testEnvironmentOptions','Deleted\x20fail-fast\x20state\x20folder:\x20','findIndex','filterBrowserstackArgs','parseTestOrchestrationOptions','USER_CONFIG_DETAILS_PATH','data-hooks.js','shutdown','10XUVtvt','testRunner','prepareCapabilities','yhfZW','EkxhU','config','Creating\x20','false','zRmBv','testTimeout','parallelsPerPlatform','rmdirSync','logLevel','GPgyG','npx','unlinkSync','retries__','../../helpers/accessibility-automation/helper','isBrowserstackInfra','skMwZ','JEST_TEST_ORDER','BROWSERSTACK_TEST_ACCESSIBILITY_PLATFORM','jest','customEnvironment.js','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','isTestOrchestrationEnabled','[Jest\x20Command]\x20Playwright\x20detected,\x20setting\x20accessibility\x20platform:\x20','info','log','assign','setup','workingDir','KccMM','stringify','isNotUndefined','isRunning','PACKAGE_TYPE','inherit','jest_browserstack.config.cjs','skipSessionStatus','isEmpty','accessibility','10274781MfxzGd','exports','getErrorMessageFromResults','\x0a\x20\x20\x20\x20','getTCGConfigFilePaths','LmHAb','../../helpers/testhub/testhubHandler','testContextOptions','customTestRunnerTemplate.js','../../helpers/playwright-helper','\x0amodule.exports\x20=\x20config;','../utils/clientTroubleshootingService','Unable\x20to\x20find\x20jest-circus,\x20','PUeUL','../v2/browserstackCLI','testEnvironment','isUndefined','env','../../helpers/test-observability/utils','uPxBJ','Error\x20while\x20parsing\x20','testObservability','child_process','tVcgt','ZOZMF','Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','../utils/constants','Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','turboScaleUrl','debug','BROWSERSTACK_TEST_ACCESSIBILITY_YML','stop','browserStackLogLevel','end','../../helpers/utilities','test-observability','OFzFS','maxWorkers','xClyc','customImplements','FRAMEWORKS','QHXnm','[Jest\x20Command]\x20Accessibility\x20enabled:\x20','force','jCetV','uuXpf','package.json','PwzaN','runner','Skipping\x20accessibility\x20env\x20setup\x20for\x20Playwright\x20due\x20to:\x20','maxFailures','shouldProcessEventForTesthub','Getting\x20your\x20jest\x20configs\x20from\x20','push',',\x20CLI\x20running:\x20','cwd','48819WDGJns','recursive','GMFrB','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','aIcbk','maxRetries','jest.setup.js','requireSeleniumWebdriver','splice','abortBuildOnFailure','const\x20config=','ojrWe','jest_browserstack_results.json','UqxFT','KNFhZ','OOJye','existsSync','setupFilesAfterEnv','MRQat','length','../../helpers/performance/performance-tester','126PIrzsP','MODULE','true','start','6001513aPvbld','UhOVu','customSequencer.js','../../helpers/BrowserStackSetup','setupTCGAuth','wuIBx','jest-config/build/readConfigFileAndSetRootDir.js','2497506paHUge','retryTestsOnFailure','child\x20process\x20exited\x20with\x20code\x20','111480gCSIog','CXzDM','ojcri','rNKJT','BROWSERSTACK_TEST_OBSERVABILITY_YML','TPzOa','failFast','skipSessionName','requireModule','JEST','117niJydz','MRLHR','error\x20removing\x20tcg\x20config\x20file','DGeAv','join','LHRzb','qRGnp','xjqBY','BROWSERSTACK_CAPABILITIES','launchBuild','proxySettings','isiMg','--config','parse','../../helpers/test-observability/constants','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler'];a14_0x32f8=function(){return _0x48da14;};return a14_0x32f8();}module[a14_0x375552(0x1e6)]=run;