#!/usr/bin/env node
'use strict';const a14_0x5f2ff9=a14_0x1e3d;function a14_0x27ba(){const _0x5c450b=['Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','OhfUM','stop','dxxZN','RkCWl','skipSessionStatus','requireModule','browserStackLogLevel','bwsAC','\x20test\x20files\x20to\x20run.','bzhKR','BROWSERSTACK_TEST_OBSERVABILITY_YML','JEST_TEST_ORDER','length','../../helpers/performance/constants','getInstance','Creating\x20','jest','requirePWModule','ZTVNC','FyRaA','child\x20process\x20exited\x20with\x20code\x20','turboScaleUrl','CwrQe','Deleting\x20','isUndefined','data-hooks.js','force','USER_CONFIG_DETAILS_PATH','customEnvironment.js','../../helpers/BrowserStackSetup','DxEHQ','wQfwO','jSpbs','MMBAe','json','Found:\x20','../../helpers/testhub/utils','./test-observability/helper','jest.config.','platform','requireSeleniumWebdriver','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','@playwright/test','customImplements','BSTACK_JEST_TEST_ENV','isTestOrchestrationEnabled','proxySettings','18855VTRtuA','wylkY',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','../../helpers/accessibility-automation/helper','YmzqI','MODULE','testRunner','getTCGConfigFilePaths','jest-config','getHubUrl','gipTZ','parseTestOrchestrationOptions','__isPlaywrightInstalled','true','failFast','gIkeJ','setupTCGAuth','Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','20wVLtSR','inherit','RWVLx','../v2/browserstackCLI','isBrowserstackInfra','SDK_SETUP','./test-observability/test-details','462Inrptg','rmdirSync','runner','isRunning','XxIto','uHdUN','logLevel','parallels__','path','pBslS','../../helpers/test-observability/utils','../../helpers/test-orchestration/testOrchestrationHandler','reporters','join','jest_browserstack_results.json','retries__','initialize','rhesR','errorMessage','isNotUndefined','SDK_CLEANUP','testEnvironmentOptions','util','\x0a\x20\x20\x20\x20','findIndex','push','5191241fiRPsV','Qevzp','3157800qfHupj','getErrorMessageFromResults','handleApp','EVENTS','\x0amodule.exports\x20=\x20config;','info','apply','JEST','splice','parallelsPerPlatform','failureThresholdCount','winstonLogger','setupFilesAfterEnv','default','HEsEt','shouldProcessEventForTesthub','error','writeFileSync','141qPgfUV','abortBuildOnFailure','testObservability','serial__','testContextOptions','jest-circus','test-observability','zbNTP','nWJTY','prepareCapabilities','format','findTestFiles','jest_browserstack.config.cjs','platformCaps','MqINJ','maxWorkers','env','36836muHtXe','accessibilityOptions','rmSync','config','wfaVx','unlinkSync','setupFiles','Getting\x20your\x20jest\x20configs\x20from\x20','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','EiYPP','error\x20removing\x20tcg\x20config\x20file','npx','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','debug','shutdown','useW3C','exitCode','Cwrgg','FRAMEWORKS','recursive','../../helpers/test-observability/constants','end','EnoKv','2hVgmGI','MVLOG','3456783OrXwcC','skipSessionName','assign','getPackageType','cjs','parse','Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20','DffXG','QqdWe','stringify','test_before.setup.js','DbHMA','cwd','maxRetries','--config','customTestRunnerTemplate.js','getPackageVersion','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','uycDR','checkAccessibilityPlatformConfig','filterBrowserstackArgs','SkPEn','resolve','QREAT','child_process','RdlCr','start','testSequencer','testTimeout','../../helpers/helper','customCircus.js','slice','258751ItWUPQ','Deleted\x20fail-fast\x20state\x20folder:\x20','rWqJj','../../helpers/playwright-helper','314601bZzwlM','testEnvironment','uoUKP','retryTestsOnFailure','hpWxm','platforms','jest_browserstack.config.js','gFmAO','LmMdY','accessibility','dtlVS','mjs','workingDir','existsSync','reorderTestFiles','test.setup.js','Getting\x20your\x20jest\x20configs\x20from\x20package.json','readFileSync','JzbUw','FnapU','customTestRunner.js','OcQgw','setup','printBuildLink'];a14_0x27ba=function(){return _0x5c450b;};return a14_0x27ba();}function a14_0x1e3d(_0x59217b,_0x4376ca){const _0x27ba82=a14_0x27ba();return a14_0x1e3d=function(_0x1e3d2f,_0x2fa725){_0x1e3d2f=_0x1e3d2f-0x1ac;let _0x3d3c0a=_0x27ba82[_0x1e3d2f];return _0x3d3c0a;},a14_0x1e3d(_0x59217b,_0x4376ca);}(function(_0x1c9f06,_0x5d0980){const _0x3434b2=a14_0x1e3d,_0x26adc0=_0x1c9f06();while(!![]){try{const _0x39d25c=parseInt(_0x3434b2(0x1d6))/0x1*(parseInt(_0x3434b2(0x1b4))/0x2)+parseInt(_0x3434b2(0x269))/0x3*(-parseInt(_0x3434b2(0x27a))/0x4)+-parseInt(_0x3434b2(0x222))/0x5*(-parseInt(_0x3434b2(0x23b))/0x6)+parseInt(_0x3434b2(0x1da))/0x7+-parseInt(_0x3434b2(0x257))/0x8+-parseInt(_0x3434b2(0x1b6))/0x9+parseInt(_0x3434b2(0x234))/0xa*(parseInt(_0x3434b2(0x255))/0xb);if(_0x39d25c===_0x5d0980)break;else _0x26adc0['push'](_0x26adc0['shift']());}catch(_0x4bc676){_0x26adc0['push'](_0x26adc0['shift']());}}}(a14_0x27ba,0x4fa90));const fs=require('fs'),path=require(a14_0x5f2ff9(0x243)),util=require(a14_0x5f2ff9(0x251)),{spawn}=require(a14_0x5f2ff9(0x1ce)),logger=require('../../helpers/logger')[a14_0x5f2ff9(0x262)],{default:BrowserStackSetup}=require(a14_0x5f2ff9(0x210)),helper=require(a14_0x5f2ff9(0x1d3)),utilities=require('../../helpers/utilities'),constants=require('../utils/constants'),accessibilityHelper=require(a14_0x5f2ff9(0x225)),{updateTestRerunConfig}=require(a14_0x5f2ff9(0x218)),testOpsHelper=require(a14_0x5f2ff9(0x245)),{debug}=require('../../helpers/test-observability/utils'),TestDetails=require(a14_0x5f2ff9(0x23a)),{getPercyOptions}=require('../../helpers/percy/utils'),TestHubHandler=require('../../helpers/testhub/testhubHandler'),testhubUtils=require(a14_0x5f2ff9(0x217)),{FRAMEWORKS}=require(a14_0x5f2ff9(0x1b1)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a14_0x5f2ff9(0x200))[a14_0x5f2ff9(0x25a)],TestOrchestrationHandler=require(a14_0x5f2ff9(0x246)),BrowserstackCLI=require(a14_0x5f2ff9(0x237)),{checkPwandBootstrapCli}=require(a14_0x5f2ff9(0x1d9)),getUserJestConfigs=async(_0x5db2c6,_0x52e52d)=>{const _0x2e6430=a14_0x5f2ff9,_0x3353de={'MqINJ':'jest-config/build/readConfigFileAndSetRootDir.js','Cwrgg':_0x2e6430(0x22a),'gFmAO':function(_0x1ca396,_0x452372){return _0x1ca396||_0x452372;},'Dnloc':function(_0x283165,_0x3bc815){return _0x283165(_0x3bc815);},'OcQgw':'package.json','ZTVNC':_0x2e6430(0x1ea),'dtlVS':_0x2e6430(0x1e5),'QqdWe':_0x2e6430(0x1ba),'HEsEt':_0x2e6430(0x215)},_0x362cfe=helper[_0x2e6430(0x1f8)](_0x3353de[_0x2e6430(0x277)],_0x3353de[_0x2e6430(0x1ae)]),_0x17b1fa=_0x52e52d[_0x2e6430(0x253)](_0x5a7c05=>_0x5a7c05===_0x2e6430(0x1c4));if(!helper[_0x2e6430(0x20b)](_0x5db2c6[_0x2e6430(0x27d)])){logger[_0x2e6430(0x25c)](_0x2e6430(0x281)+_0x5db2c6[_0x2e6430(0x27d)]),process[_0x2e6430(0x279)][_0x2e6430(0x20e)]=_0x5db2c6['config'];const _0x2a78d0=await(0x0,_0x362cfe[_0x2e6430(0x264)])(path[_0x2e6430(0x1cc)](_0x5db2c6[_0x2e6430(0x27d)]));return _0x52e52d[_0x2e6430(0x25f)](_0x17b1fa,0x2),_0x3353de[_0x2e6430(0x1e1)](_0x2a78d0,{});}const _0x4af18b=_0x3353de['Dnloc'](require,path[_0x2e6430(0x248)](process[_0x2e6430(0x1c2)](),_0x3353de[_0x2e6430(0x1ef)]));if(_0x4af18b[_0x2e6430(0x203)])return logger[_0x2e6430(0x25c)](_0x3353de[_0x2e6430(0x205)]),_0x4af18b[_0x2e6430(0x203)];const _0x14c99e=['js',_0x3353de[_0x2e6430(0x1e4)],_0x3353de[_0x2e6430(0x1be)],_0x3353de[_0x2e6430(0x265)],'ts'];for(const _0x2615ec of _0x14c99e){const _0x1988f6=path[_0x2e6430(0x248)](process[_0x2e6430(0x1c2)](),_0x2e6430(0x219)+_0x2615ec);if(fs[_0x2e6430(0x1e7)](_0x1988f6)){process['env'][_0x2e6430(0x20e)]=_0x1988f6;const _0x576d47=await(0x0,_0x362cfe[_0x2e6430(0x264)])(_0x1988f6);return _0x576d47;}}return{};},getSerial=(_0x33576e,_0x23912a)=>{const _0x35a6de=a14_0x5f2ff9,_0x2dd0a1={};_0x2dd0a1[_0x35a6de(0x283)]=_0x35a6de(0x22f),_0x2dd0a1[_0x35a6de(0x1ed)]=function(_0x1bb0fd,_0x115367){return _0x1bb0fd>_0x115367;},_0x2dd0a1['wfaVx']=function(_0x1e6287,_0x367a51){return _0x1e6287>_0x367a51;},_0x2dd0a1[_0x35a6de(0x212)]='false';const _0x2db4b6=_0x2dd0a1;let _0x9ac613=_0x2db4b6[_0x35a6de(0x283)];return _0x2db4b6[_0x35a6de(0x1ed)](_0x33576e[_0x35a6de(0x1ff)],0x1)&&(!_0x23912a['runInBand']&&(helper['isUndefined'](_0x23912a['maxWorkers'])||_0x2db4b6[_0x35a6de(0x27e)](_0x23912a[_0x35a6de(0x278)],0x1)))&&(_0x9ac613=_0x2db4b6[_0x35a6de(0x212)]),_0x9ac613;},getMaxWorkers=(_0x3f08b4,_0x39698d,_0x139816)=>{const _0x4ec569=a14_0x5f2ff9,_0x24ee64={'bzhKR':function(_0x30a36f,_0x117b97){return _0x30a36f(_0x117b97);}};let _0x2dbe00=0x1;if(!helper['isUndefined'](_0x39698d['parallelsPerPlatform']))_0x2dbe00=_0x24ee64[_0x4ec569(0x1fc)](parseInt,_0x39698d[_0x4ec569(0x260)]);else{if(!helper[_0x4ec569(0x20b)](_0x3f08b4[_0x4ec569(0x278)]))_0x2dbe00=_0x3f08b4[_0x4ec569(0x278)];else!helper[_0x4ec569(0x20b)](_0x139816[_0x4ec569(0x278)])&&(_0x2dbe00=_0x139816[_0x4ec569(0x278)]);}return _0x2dbe00;};async function run(_0x4d1581,_0x14f516,_0x324a53){const _0x595761=a14_0x5f2ff9,_0x1696b5={'OhfUM':_0x595761(0x284),'bFmGs':_0x595761(0x203),'SkPEn':function(_0x532170,_0x18e79a){return _0x532170(_0x18e79a);},'rWqJj':_0x595761(0x21d),'JzbUw':function(_0x19d3eb,_0x34b502,_0x1bc727,_0xb4cd92){return _0x19d3eb(_0x34b502,_0x1bc727,_0xb4cd92);},'nWJTY':function(_0x4d3371,_0x1679db){return _0x4d3371!=_0x1679db;},'RdlCr':_0x595761(0x22f),'RkCWl':function(_0x132c8c,_0x4c48dd,_0x53fbe4){return _0x132c8c(_0x4c48dd,_0x53fbe4);},'Qevzp':'Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','wylkY':function(_0x1476c9,_0x4314a1){return _0x1476c9*_0x4314a1;},'EnoKv':function(_0x4ba9d5,_0x4a61f9){return _0x4ba9d5===_0x4a61f9;},'QKyNZ':_0x595761(0x275),'rnlEm':_0x595761(0x1e0),'uycDR':_0x595761(0x21e),'DffXG':_0x595761(0x249),'qfFdi':_0x595761(0x1ee),'XxIto':_0x595761(0x1c5),'uHdUN':_0x595761(0x20f),'dxxZN':'jest.setup.js','xugmT':'customSequencer.js','jSpbs':_0x595761(0x1c7),'MVLOG':_0x595761(0x26e),'FyRaA':function(_0x17cccb,_0x1c9963){return _0x17cccb(_0x1c9963);},'RWVLx':_0x595761(0x26f),'rhesR':_0x595761(0x20c),'gipTZ':_0x595761(0x1d4),'CwrQe':_0x595761(0x1c0),'lqGqf':_0x595761(0x286),'DxEHQ':'playwright','hpWxm':_0x595761(0x233),'Xtuba':_0x595761(0x1e9),'QREAT':_0x595761(0x1f2),'YmzqI':'default','MMBAe':_0x595761(0x21c),'DbHMA':function(_0x2ef836,_0x1ceed5){return _0x2ef836>_0x1ceed5;},'uoUKP':'Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','zbNTP':_0x595761(0x285),'bwsAC':_0x595761(0x1c4),'pBRWo':function(_0x270325,_0x4c44e9){return _0x270325===_0x4c44e9;},'gIkeJ':'win32','pBslS':_0x595761(0x235),'LmMdY':'close'},_0x2fbff6=helper[_0x595761(0x1c6)](_0x1696b5[_0x595761(0x1d8)]);global[_0x595761(0x22e)]=!!_0x2fbff6;helper[_0x595761(0x238)]()?(await _0x324a53[_0x595761(0x24b)](_0x4d1581),await helper[_0x595761(0x259)](_0x324a53['config'])):await _0x324a53[_0x595761(0x232)]();await _0x1696b5[_0x595761(0x1ec)](checkPwandBootstrapCli,_0x2fbff6,constants[_0x595761(0x1af)][_0x595761(0x25e)],_0x324a53);if(!_0x324a53['config'])return;_0x1696b5[_0x595761(0x271)](_0x324a53[_0x595761(0x27d)]['testObservability'],null)?process[_0x595761(0x279)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x324a53[_0x595761(0x27d)][_0x595761(0x26b)]:process[_0x595761(0x279)][_0x595761(0x1fd)]=_0x1696b5[_0x595761(0x1cf)];const _0x11923c=new TestOrchestrationHandler(_0x324a53[_0x595761(0x27d)]),_0x495aa0=await _0x1696b5[_0x595761(0x1f6)](getUserJestConfigs,_0x4d1581,_0x14f516);logger[_0x595761(0x25c)](_0x1696b5[_0x595761(0x256)]);const _0x301951=Object[_0x595761(0x1b8)]({},_0x495aa0);_0x301951['testEnvironmentOptions']=Object[_0x595761(0x1b8)]({},_0x301951[_0x595761(0x250)],{'server':helper[_0x595761(0x22b)](_0x324a53['config']),'environment':_0x495aa0[_0x595761(0x1db)]}),_0x301951[_0x595761(0x250)]['browserStackPercyOptions']=_0x1696b5[_0x595761(0x1cb)](getPercyOptions,_0x324a53['config']);const _0x1f1d43=helper[_0x595761(0x1ac)](_0x324a53[_0x595761(0x27d)]);!helper[_0x595761(0x20b)](_0x324a53['config'][_0x595761(0x27b)])&&(process[_0x595761(0x279)]['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON[_0x595761(0x1bf)](_0x324a53[_0x595761(0x27d)]['accessibilityOptions']));if(!BrowserstackCLI[_0x595761(0x201)]()[_0x595761(0x23e)]()){const _0x1d7119=await TestHubHandler['launchBuild'](FRAMEWORKS[_0x595761(0x25e)],_0x324a53);}const _0x360a28=helper[_0x595761(0x272)](_0x324a53[_0x595761(0x27d)],_0x1f1d43,constants[_0x595761(0x1af)][_0x595761(0x25e)]);process[_0x595761(0x279)]['BROWSERSTACK_CAPABILITIES']=JSON[_0x595761(0x1bf)](_0x360a28);let _0x37985a=_0x324a53[_0x595761(0x27d)][_0x595761(0x1e3)];_0x37985a=_0x37985a||accessibilityHelper[_0x595761(0x1c9)](_0x324a53[_0x595761(0x27d)]),process['env']['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x37985a,_0x301951[_0x595761(0x250)]['capabilities']=_0x360a28,_0x301951[_0x595761(0x250)][_0x595761(0x26c)]=_0x1696b5[_0x595761(0x1f6)](getSerial,_0x360a28,_0x4d1581),_0x301951[_0x595761(0x250)][_0x595761(0x242)]=_0x1696b5[_0x595761(0x1ec)](getMaxWorkers,_0x4d1581,_0x324a53[_0x595761(0x27d)],_0x495aa0),_0x301951['testEnvironmentOptions'][_0x595761(0x221)]=_0x324a53['config'][_0x595761(0x221)],_0x301951[_0x595761(0x250)]['timeout__']=_0x1696b5[_0x595761(0x223)](_0x4d1581[_0x595761(0x1d2)],0x1)||0x1388,_0x301951[_0x595761(0x250)]['skipSessionName']=_0x324a53[_0x595761(0x27d)][_0x595761(0x26d)][_0x595761(0x1b7)],_0x301951['testEnvironmentOptions'][_0x595761(0x1f7)]=_0x324a53[_0x595761(0x27d)]['testContextOptions'][_0x595761(0x1f7)],_0x301951['testEnvironmentOptions'][_0x595761(0x1f9)]=_0x324a53[_0x595761(0x27d)][_0x595761(0x241)],_0x301951['testEnvironmentOptions']['turboScaleUrl']=_0x324a53[_0x595761(0x27d)][_0x595761(0x208)],_0x301951[_0x595761(0x250)][_0x595761(0x276)]=_0x324a53[_0x595761(0x27d)][_0x595761(0x1df)];const _0x14c476=helper[_0x595761(0x22d)](_0x324a53[_0x595761(0x27d)]);if(!helper['isEmpty'](_0x14c476)){helper[_0x595761(0x24e)](_0x14c476[_0x595761(0x1dd)])&&(_0x301951[_0x595761(0x250)][_0x595761(0x24a)]=_0x14c476[_0x595761(0x1dd)][_0x595761(0x1c3)]);if(helper['isNotUndefined'](_0x14c476[_0x595761(0x26a)])&&helper[_0x595761(0x24e)](_0x14c476['abortBuildOnFailure']['workingDir'])){const _0x36e61a={};_0x36e61a[_0x595761(0x261)]=_0x14c476['abortBuildOnFailure']['maxFailures'],_0x36e61a[_0x595761(0x1e6)]=_0x14c476[_0x595761(0x26a)]['workingDir'],_0x301951[_0x595761(0x250)][_0x595761(0x230)]=_0x36e61a;}}let _0xd3d686='';_0x1696b5[_0x595761(0x1b3)](helper[_0x595761(0x1b9)](),constants['PACKAGE_TYPE'][_0x595761(0x227)])?_0xd3d686=_0x1696b5['QKyNZ']:_0xd3d686=_0x1696b5['rnlEm'];const _0x3541ec=_0xd3d686,_0x478669=path[_0x595761(0x248)](__dirname,_0x1696b5['uycDR'],_0x1696b5[_0x595761(0x1bd)]),_0x39f4a8=path['join'](__dirname,_0x1696b5[_0x595761(0x1c8)],_0x1696b5['qfFdi']),_0x1c9a3a=path[_0x595761(0x248)](__dirname,_0x1696b5['uycDR'],_0x1696b5[_0x595761(0x23f)]);_0x301951[_0x595761(0x1db)]&&(process['env'][_0x595761(0x21f)]=_0x301951['testEnvironment']);_0x301951[_0x595761(0x1db)]=path[_0x595761(0x248)](__dirname,_0x1696b5['uycDR'],_0x1696b5[_0x595761(0x240)]),_0x301951['runner']=_0x39f4a8,_0x301951[_0x595761(0x263)]=_0x301951[_0x595761(0x263)]||[],_0x301951[_0x595761(0x263)][_0x595761(0x254)](path[_0x595761(0x248)](__dirname,_0x1696b5[_0x595761(0x1f5)]));_0x11923c[_0x595761(0x220)]()&&(_0x301951[_0x595761(0x1d1)]=path[_0x595761(0x248)](__dirname,_0x1696b5['uycDR'],_0x1696b5['xugmT']));if(testhubUtils['shouldProcessEventForTesthub']()){let _0xc774cf=null;try{_0xc774cf=helper[_0x595761(0x1f8)](_0x1696b5[_0x595761(0x213)],_0x1696b5[_0x595761(0x1b5)]);}catch(_0x4bc0b4){_0x1696b5[_0x595761(0x206)](debug,'Unable\x20to\x20find\x20jest-circus,\x20'+_0x4bc0b4);}_0xc774cf&&(_0x301951[_0x595761(0x263)][_0x595761(0x254)](path[_0x595761(0x248)](__dirname,_0x1696b5[_0x595761(0x236)],_0x1696b5[_0x595761(0x24c)])),_0x301951[_0x595761(0x228)]=path[_0x595761(0x248)](__dirname,_0x1696b5[_0x595761(0x1c8)],_0x1696b5[_0x595761(0x22c)]));}_0x301951['setupFiles']=_0x301951[_0x595761(0x280)]||[];try{helper[_0x595761(0x21b)](),_0x301951['setupFiles'][_0x595761(0x254)](path[_0x595761(0x248)](__dirname,_0x1696b5[_0x595761(0x209)]));}catch{logger[_0x595761(0x287)](_0x1696b5['lqGqf']);}try{helper[_0x595761(0x204)][_0x595761(0x25d)](null,[_0x1696b5[_0x595761(0x1d8)],_0x1696b5[_0x595761(0x211)]]),logger[_0x595761(0x287)](_0x1696b5[_0x595761(0x1de)]),_0x301951[_0x595761(0x280)]['push'](path[_0x595761(0x248)](__dirname,_0x1696b5['Xtuba']));}catch(_0x39bd5a){logger['debug'](_0x1696b5[_0x595761(0x1cd)],_0x39bd5a);}_0x301951[_0x595761(0x247)]=_0x301951['reporters']||[_0x1696b5[_0x595761(0x226)]],_0x1696b5[_0x595761(0x1f6)](updateTestRerunConfig,_0x301951,_0x324a53);const _0x4f4fde=fs[_0x595761(0x1eb)](_0x1c9a3a);fs[_0x595761(0x268)](_0x301951[_0x595761(0x23d)],_0x595761(0x252)+_0x4f4fde+'\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20'+_0x324a53['config'][_0x595761(0x1df)][_0x595761(0x1ff)]+_0x595761(0x224)),logger[_0x595761(0x25c)](_0x595761(0x202)+_0x3541ec+'\x20with\x20browserstack\x20jest\x20configs'),fs[_0x595761(0x268)](_0x3541ec,'const\x20config='+JSON['stringify'](_0x301951)+_0x595761(0x25b));if(_0x11923c['isTestOrchestrationEnabled']()){logger[_0x595761(0x287)](_0x1696b5[_0x595761(0x214)]);const _0xf8dc8e=await _0x11923c[_0x595761(0x274)](_0x301951,_0x14f516[_0x595761(0x1d5)](0x1),_0x3541ec);logger[_0x595761(0x287)](_0x595761(0x216)+JSON[_0x595761(0x1bf)](_0xf8dc8e)+_0x595761(0x1fb));const _0x4d04a8=await _0x11923c[_0x595761(0x1e8)](_0xf8dc8e);logger[_0x595761(0x287)]('Reodered\x20Test\x20Files:\x20'+JSON['stringify'](_0x4d04a8)),_0x4d04a8&&_0x1696b5[_0x595761(0x1c1)](_0x4d04a8[_0x595761(0x1ff)],0x0)&&(process[_0x595761(0x279)][_0x595761(0x1fe)]=_0x4d04a8?.[_0x595761(0x248)](','));}logger['info'](_0x1696b5[_0x595761(0x1dc)]);testhubUtils[_0x595761(0x266)]()&&TestDetails[_0x595761(0x1f0)]();helper[_0x595761(0x1ca)]({},_0x14f516),PerformanceTester[_0x595761(0x1b2)](PerformanceEvents[_0x595761(0x239)]);const _0x5f0940=_0x1696b5[_0x595761(0x1ec)](spawn,_0x1696b5[_0x595761(0x270)],[_0x1696b5['bFmGs'],_0x1696b5[_0x595761(0x1fa)],_0x3541ec,..._0x14f516[_0x595761(0x1d5)](0x1)],{'shell':_0x1696b5['pBRWo'](process[_0x595761(0x21a)],_0x1696b5[_0x595761(0x231)]),'stdio':_0x1696b5[_0x595761(0x244)],'env':Object[_0x595761(0x1b8)]({},process[_0x595761(0x279)])});_0x5f0940['on'](_0x1696b5[_0x595761(0x1e2)],async _0xab519a=>{const _0x547e23=_0x595761;PerformanceTester[_0x547e23(0x1d0)](PerformanceEvents[_0x547e23(0x24f)]);try{const {browserstackFolderPath:_0x281548,tcgConfigPath:_0x22ff73}=helper[_0x547e23(0x229)]();fs[_0x547e23(0x27f)](_0x22ff73),fs[_0x547e23(0x23c)](_0x281548);}catch(_0x3965fd){logger[_0x547e23(0x287)](_0x1696b5[_0x547e23(0x1f3)],_0x3965fd);}process[_0x547e23(0x1ad)]=_0xab519a,logger[_0x547e23(0x287)](_0x547e23(0x207)+_0xab519a),logger[_0x547e23(0x25c)](_0x547e23(0x20a)+_0x3541ec);if(helper[_0x547e23(0x24e)](_0x14c476)&&helper['isNotUndefined'](_0x14c476[_0x547e23(0x26a)])&&fs[_0x547e23(0x1e7)](_0x14c476[_0x547e23(0x26a)]['workingDir']))try{const _0x12859f={};_0x12859f[_0x547e23(0x1b0)]=!![],_0x12859f[_0x547e23(0x20d)]=!![],fs[_0x547e23(0x27c)](_0x14c476[_0x547e23(0x26a)][_0x547e23(0x1e6)],_0x12859f),logger[_0x547e23(0x287)](_0x547e23(0x1d7)+_0x14c476['abortBuildOnFailure']['workingDir']);}catch(_0x4de431){logger[_0x547e23(0x267)](_0x547e23(0x282)+_0x4de431);}let _0x5f0af1=null;if(fs[_0x547e23(0x1e7)](_0x478669)){_0x5f0af1=fs[_0x547e23(0x1eb)](_0x478669);try{_0x5f0af1=JSON[_0x547e23(0x1bb)](_0x5f0af1);}catch(_0x167c96){logger[_0x547e23(0x287)]('Error\x20while\x20parsing\x20'+_0x478669+',\x20'+_0x5f0af1+'\x20:\x20'+_0x167c96);}fs[_0x547e23(0x27f)](_0x478669);}fs[_0x547e23(0x27f)](_0x3541ec),fs[_0x547e23(0x27f)](_0x39f4a8),_0x5f0af1&&(_0x324a53[_0x547e23(0x24d)]=helper[_0x547e23(0x258)](_0x5f0af1,_0x1696b5['bFmGs'],_0x324a53)),testOpsHelper[_0x547e23(0x1f1)](),TestDetails[_0x547e23(0x288)]();try{await TestHubHandler[_0x547e23(0x1f4)](),await BrowserstackCLI['getInstance']()[_0x547e23(0x1f4)]();}catch(_0x34d2fb){console['log'](_0x34d2fb),_0x1696b5['SkPEn'](debug,_0x547e23(0x1bc)+util[_0x547e23(0x273)](_0x34d2fb));}await utilities['finalExecution'](_0x324a53);});}module['exports']=run;