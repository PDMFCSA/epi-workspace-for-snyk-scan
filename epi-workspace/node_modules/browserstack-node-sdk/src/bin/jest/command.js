#!/usr/bin/env node
'use strict';const a14_0x116cbd=a14_0x31c0;(function(_0x4de2ec,_0x1ffd74){const _0xa6c6fd=a14_0x31c0,_0x3fd164=_0x4de2ec();while(!![]){try{const _0xf5ed16=parseInt(_0xa6c6fd(0x1d6))/0x1*(parseInt(_0xa6c6fd(0x183))/0x2)+parseInt(_0xa6c6fd(0x13b))/0x3*(parseInt(_0xa6c6fd(0x178))/0x4)+-parseInt(_0xa6c6fd(0x1da))/0x5*(parseInt(_0xa6c6fd(0x1ec))/0x6)+parseInt(_0xa6c6fd(0x197))/0x7+parseInt(_0xa6c6fd(0x1c8))/0x8+parseInt(_0xa6c6fd(0x1cd))/0x9+-parseInt(_0xa6c6fd(0x1df))/0xa*(parseInt(_0xa6c6fd(0x160))/0xb);if(_0xf5ed16===_0x1ffd74)break;else _0x3fd164['push'](_0x3fd164['shift']());}catch(_0x4ed76e){_0x3fd164['push'](_0x3fd164['shift']());}}}(a14_0x1ba4,0xb4fd9));function a14_0x31c0(_0x4c1f34,_0x3929d0){const _0x1ba4ef=a14_0x1ba4();return a14_0x31c0=function(_0x31c08e,_0xe3a655){_0x31c08e=_0x31c08e-0x120;let _0x2c45f7=_0x1ba4ef[_0x31c08e];return _0x2c45f7;},a14_0x31c0(_0x4c1f34,_0x3929d0);}const fs=require('fs'),path=require(a14_0x116cbd(0x157)),util=require(a14_0x116cbd(0x138)),{spawn}=require(a14_0x116cbd(0x1b9)),logger=require(a14_0x116cbd(0x17a))[a14_0x116cbd(0x17f)],{default:BrowserStackSetup}=require(a14_0x116cbd(0x14a)),helper=require('../../helpers/helper'),utilities=require(a14_0x116cbd(0x1b6)),constants=require(a14_0x116cbd(0x15a)),accessibilityHelper=require('../../helpers/accessibility-automation/helper'),{updateTestRerunConfig}=require(a14_0x116cbd(0x1a0)),testOpsHelper=require(a14_0x116cbd(0x1b0)),{debug}=require('../../helpers/test-observability/utils'),TestDetails=require(a14_0x116cbd(0x172)),{getPercyOptions}=require(a14_0x116cbd(0x18c)),TestHubHandler=require(a14_0x116cbd(0x12f)),testhubUtils=require(a14_0x116cbd(0x1a7)),{FRAMEWORKS}=require(a14_0x116cbd(0x1e0)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a14_0x116cbd(0x1f0))[a14_0x116cbd(0x128)],TestOrchestrationHandler=require(a14_0x116cbd(0x136)),BrowserstackCLI=require(a14_0x116cbd(0x163)),{checkPwandBootstrapCli}=require('../../helpers/playwright-helper'),ClientTroubleShootingService=require(a14_0x116cbd(0x16b)),getUserJestConfigs=async(_0x1b1c3a,_0x2c36f1)=>{const _0x2d40dc=a14_0x116cbd,_0x4c82ef={'XoByk':_0x2d40dc(0x196),'AAvGY':'jest-config','yvHMt':function(_0x4a28fe,_0xc40ee8){return _0x4a28fe||_0xc40ee8;},'sAbSn':function(_0x336ea4,_0x14ca39){return _0x336ea4(_0x14ca39);},'sQPUi':_0x2d40dc(0x173),'VqEOA':_0x2d40dc(0x15e),'ebBKw':'mjs','QwvYN':_0x2d40dc(0x1de),'OQspS':_0x2d40dc(0x1e8)},_0x150556=helper[_0x2d40dc(0x1cc)](_0x4c82ef[_0x2d40dc(0x1d1)],_0x4c82ef[_0x2d40dc(0x176)]),_0x2b9323=_0x2c36f1[_0x2d40dc(0x141)](_0x1d40f9=>_0x1d40f9===_0x2d40dc(0x144));if(!helper[_0x2d40dc(0x181)](_0x1b1c3a[_0x2d40dc(0x161)])){logger[_0x2d40dc(0x1c1)](_0x2d40dc(0x1c9)+_0x1b1c3a[_0x2d40dc(0x161)]),process[_0x2d40dc(0x1ac)][_0x2d40dc(0x162)]=_0x1b1c3a[_0x2d40dc(0x161)];const _0x21a80c=await(0x0,_0x150556[_0x2d40dc(0x12c)])(path[_0x2d40dc(0x123)](_0x1b1c3a[_0x2d40dc(0x161)]));return _0x2c36f1[_0x2d40dc(0x14c)](_0x2b9323,0x2),_0x4c82ef[_0x2d40dc(0x177)](_0x21a80c,{});}const _0x4e9788=_0x4c82ef[_0x2d40dc(0x1ba)](require,path[_0x2d40dc(0x175)](process[_0x2d40dc(0x15c)](),_0x4c82ef[_0x2d40dc(0x19d)]));if(_0x4e9788['jest'])return logger[_0x2d40dc(0x1c1)](_0x4c82ef[_0x2d40dc(0x1c4)]),_0x4e9788['jest'];const _0x1082c2=['js',_0x4c82ef[_0x2d40dc(0x14b)],_0x4c82ef[_0x2d40dc(0x1c3)],_0x4c82ef[_0x2d40dc(0x1ab)],'ts'];for(const _0x2e1042 of _0x1082c2){const _0xb9fa9b=path[_0x2d40dc(0x175)](process['cwd'](),_0x2d40dc(0x1e1)+_0x2e1042);if(fs[_0x2d40dc(0x17d)](_0xb9fa9b)){process[_0x2d40dc(0x1ac)][_0x2d40dc(0x162)]=_0xb9fa9b;const _0x4bc8c2=await(0x0,_0x150556['default'])(_0xb9fa9b);return _0x4bc8c2;}}return{};},getSerial=(_0x3883eb,_0x33f8fe)=>{const _0x11baff=a14_0x116cbd,_0x998be6={};_0x998be6[_0x11baff(0x155)]='true',_0x998be6['EdzDr']=function(_0x1d8220,_0x2015c7){return _0x1d8220>_0x2015c7;},_0x998be6[_0x11baff(0x199)]=_0x11baff(0x166);const _0x41e68a=_0x998be6;let _0x5ec596=_0x41e68a[_0x11baff(0x155)];return _0x41e68a[_0x11baff(0x184)](_0x3883eb[_0x11baff(0x133)],0x1)&&(!_0x33f8fe[_0x11baff(0x13c)]&&(helper['isUndefined'](_0x33f8fe['maxWorkers'])||_0x41e68a[_0x11baff(0x184)](_0x33f8fe[_0x11baff(0x145)],0x1)))&&(_0x5ec596=_0x41e68a[_0x11baff(0x199)]),_0x5ec596;},getMaxWorkers=(_0x37c59c,_0x583191,_0x2b795c)=>{const _0x1de43b=a14_0x116cbd,_0x1e53ed={'wpqVW':function(_0x104236,_0x2bdab6){return _0x104236(_0x2bdab6);}};let _0x261072=0x1;if(!helper[_0x1de43b(0x181)](_0x583191[_0x1de43b(0x169)]))_0x261072=_0x1e53ed['wpqVW'](parseInt,_0x583191['parallelsPerPlatform']);else{if(!helper['isUndefined'](_0x37c59c[_0x1de43b(0x145)]))_0x261072=_0x37c59c[_0x1de43b(0x145)];else!helper['isUndefined'](_0x2b795c[_0x1de43b(0x145)])&&(_0x261072=_0x2b795c[_0x1de43b(0x145)]);}return _0x261072;};async function run(_0x4eb148,_0x35640d,_0xe90881){const _0x5331a5=a14_0x116cbd,_0x127467={'NOihx':_0x5331a5(0x1a8),'zAeCH':_0x5331a5(0x1dd),'OlnTf':function(_0x482ee7,_0x4c03da){return _0x482ee7(_0x4c03da);},'XdSZr':_0x5331a5(0x1bd),'VqyEP':function(_0x249bcf,_0x3dff33,_0x276e24,_0x28c4d0){return _0x249bcf(_0x3dff33,_0x276e24,_0x28c4d0);},'dkPYx':function(_0x4f17a4,_0x1afb07){return _0x4f17a4!=_0x1afb07;},'aIGLV':_0x5331a5(0x147),'OPPdW':function(_0xf31434,_0x59c837,_0x51a7c8){return _0xf31434(_0x59c837,_0x51a7c8);},'HNPzQ':_0x5331a5(0x120),'rktUt':function(_0x5e69a1,_0x575029){return _0x5e69a1*_0x575029;},'cGnRp':function(_0x46cd23,_0x17d31f){return _0x46cd23===_0x17d31f;},'whTBM':_0x5331a5(0x13f),'HiGXQ':'jest_browserstack.config.js','VKabo':'customImplements','FiWke':'jest_browserstack_results.json','lEMPB':'customTestRunner.js','cTmzz':_0x5331a5(0x1bf),'DwrHg':_0x5331a5(0x189),'IEcTw':_0x5331a5(0x1c0),'knRmr':_0x5331a5(0x1cb),'EHKKZ':_0x5331a5(0x1c2),'nvtQc':_0x5331a5(0x16c),'neCbS':_0x5331a5(0x14f),'HdVnj':_0x5331a5(0x1b1),'VwNpr':_0x5331a5(0x1ae),'GIJgV':'test_before.setup.js','Sdfph':'skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','YTLUh':'playwright','aGWGE':_0x5331a5(0x159),'oRVkC':_0x5331a5(0x142),'lbTeZ':'Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','pGPez':_0x5331a5(0x12c),'NOXMY':'Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','iaVUq':function(_0x4af76a,_0x157013){return _0x4af76a>_0x157013;},'cWEPn':_0x5331a5(0x1b3),'ihJqR':_0x5331a5(0x149),'OhSnA':_0x5331a5(0x144),'RAUVp':function(_0x3ebe4d,_0x2faa74){return _0x3ebe4d===_0x2faa74;},'vNziR':_0x5331a5(0x1b2),'WMJsF':_0x5331a5(0x13d),'RDfoS':_0x5331a5(0x16e)},_0x29f352=helper['getPackageVersion'](_0x127467['XdSZr']);global[_0x5331a5(0x1a9)]=!!_0x29f352;helper[_0x5331a5(0x12d)]()?(await _0xe90881['initialize'](_0x4eb148),await helper['handleApp'](_0xe90881[_0x5331a5(0x161)])):await _0xe90881['setupTCGAuth']();await _0x127467[_0x5331a5(0x15b)](checkPwandBootstrapCli,_0x29f352,constants[_0x5331a5(0x1b5)][_0x5331a5(0x16a)],_0xe90881);if(!_0xe90881[_0x5331a5(0x161)])return;_0x127467[_0x5331a5(0x125)](_0xe90881[_0x5331a5(0x161)][_0x5331a5(0x191)],null)?process['env'][_0x5331a5(0x13e)]=_0xe90881[_0x5331a5(0x161)][_0x5331a5(0x191)]:process[_0x5331a5(0x1ac)][_0x5331a5(0x13e)]=_0x127467[_0x5331a5(0x17b)];const _0x2ca800=new TestOrchestrationHandler(_0xe90881[_0x5331a5(0x161)]),_0x4c65a0=await _0x127467[_0x5331a5(0x126)](getUserJestConfigs,_0x4eb148,_0x35640d);logger[_0x5331a5(0x1c1)](_0x127467['HNPzQ']);const _0xa76388=Object[_0x5331a5(0x19a)]({},_0x4c65a0);_0xa76388[_0x5331a5(0x1a3)]=Object['assign']({},_0xa76388[_0x5331a5(0x1a3)],{'server':helper['getHubUrl'](_0xe90881[_0x5331a5(0x161)]),'environment':_0x4c65a0['testEnvironment']}),_0xa76388['testEnvironmentOptions'][_0x5331a5(0x1d5)]=_0x127467[_0x5331a5(0x1a2)](getPercyOptions,_0xe90881['config']);const _0x4c1134=helper[_0x5331a5(0x16d)](_0xe90881['config']);!helper['isUndefined'](_0xe90881[_0x5331a5(0x161)]['accessibilityOptions'])&&(process['env'][_0x5331a5(0x143)]=JSON[_0x5331a5(0x1b4)](_0xe90881[_0x5331a5(0x161)][_0x5331a5(0x122)]));if(!BrowserstackCLI[_0x5331a5(0x14d)]()['isRunning']()){const _0x50cf73=await TestHubHandler['launchBuild'](FRAMEWORKS[_0x5331a5(0x16a)],_0xe90881);}const _0x4b3050=helper['prepareCapabilities'](_0xe90881[_0x5331a5(0x161)],_0x4c1134,constants['FRAMEWORKS'][_0x5331a5(0x16a)]);process[_0x5331a5(0x1ac)][_0x5331a5(0x151)]=JSON[_0x5331a5(0x1b4)](_0x4b3050);let _0x294993=_0xe90881[_0x5331a5(0x161)]['accessibility'];_0x294993=_0x294993||accessibilityHelper[_0x5331a5(0x1ce)](_0xe90881[_0x5331a5(0x161)]),process['env'][_0x5331a5(0x167)]=_0x294993,_0xa76388[_0x5331a5(0x1a3)][_0x5331a5(0x198)]=_0x4b3050,_0xa76388[_0x5331a5(0x1a3)][_0x5331a5(0x1cf)]=_0x127467['OPPdW'](getSerial,_0x4b3050,_0x4eb148),_0xa76388[_0x5331a5(0x1a3)]['parallels__']=_0x127467['VqyEP'](getMaxWorkers,_0x4eb148,_0xe90881[_0x5331a5(0x161)],_0x4c65a0),_0xa76388[_0x5331a5(0x1a3)][_0x5331a5(0x1d9)]=_0xe90881[_0x5331a5(0x161)][_0x5331a5(0x1d9)],_0xa76388[_0x5331a5(0x1a3)]['timeout__']=_0x127467[_0x5331a5(0x1ef)](_0x4eb148[_0x5331a5(0x1d3)],0x1)||0x1388,_0xa76388['testEnvironmentOptions']['skipSessionName']=_0xe90881[_0x5331a5(0x161)]['testContextOptions'][_0x5331a5(0x1e2)],_0xa76388[_0x5331a5(0x1a3)][_0x5331a5(0x1a4)]=_0xe90881[_0x5331a5(0x161)][_0x5331a5(0x1e4)][_0x5331a5(0x1a4)],_0xa76388[_0x5331a5(0x1a3)][_0x5331a5(0x1e9)]=_0xe90881[_0x5331a5(0x161)]['logLevel'],_0xa76388[_0x5331a5(0x1a3)][_0x5331a5(0x1eb)]=_0xe90881[_0x5331a5(0x161)][_0x5331a5(0x1eb)],_0xa76388[_0x5331a5(0x1a3)][_0x5331a5(0x1d8)]=_0xe90881[_0x5331a5(0x161)][_0x5331a5(0x1b8)];const _0x541682=helper[_0x5331a5(0x13a)](_0xe90881[_0x5331a5(0x161)]);if(!helper[_0x5331a5(0x1e3)](_0x541682)){helper[_0x5331a5(0x1e6)](_0x541682[_0x5331a5(0x1a6)])&&(_0xa76388[_0x5331a5(0x1a3)]['retries__']=_0x541682[_0x5331a5(0x1a6)]['maxRetries']);if(helper[_0x5331a5(0x1e6)](_0x541682[_0x5331a5(0x1e5)])&&helper['isNotUndefined'](_0x541682[_0x5331a5(0x1e5)][_0x5331a5(0x1d2)])){const _0x68f599={};_0x68f599[_0x5331a5(0x182)]=_0x541682[_0x5331a5(0x1e5)][_0x5331a5(0x1c5)],_0x68f599[_0x5331a5(0x1d2)]=_0x541682[_0x5331a5(0x1e5)][_0x5331a5(0x1d2)],_0xa76388[_0x5331a5(0x1a3)][_0x5331a5(0x1bc)]=_0x68f599;}}let _0x5a3501='';_0x127467[_0x5331a5(0x152)](helper[_0x5331a5(0x150)](),constants[_0x5331a5(0x134)]['MODULE'])?_0x5a3501=_0x127467['whTBM']:_0x5a3501=_0x127467[_0x5331a5(0x18b)];const _0x4bbaef=_0x5a3501,_0x3bd946=path[_0x5331a5(0x175)](__dirname,_0x127467[_0x5331a5(0x1bb)],_0x127467[_0x5331a5(0x12e)]),_0x57556f=path[_0x5331a5(0x175)](__dirname,_0x127467[_0x5331a5(0x1bb)],_0x127467[_0x5331a5(0x124)]),_0x13f978=path[_0x5331a5(0x175)](__dirname,_0x127467[_0x5331a5(0x1bb)],_0x127467[_0x5331a5(0x19e)]);_0xa76388[_0x5331a5(0x19f)]&&(process[_0x5331a5(0x1ac)][_0x5331a5(0x1b7)]=_0xa76388['testEnvironment']);_0xa76388['testEnvironment']=path[_0x5331a5(0x175)](__dirname,_0x127467['VKabo'],_0x127467['DwrHg']),_0xa76388[_0x5331a5(0x170)]=_0x57556f,_0xa76388[_0x5331a5(0x1d0)]=_0xa76388[_0x5331a5(0x1d0)]||[],_0xa76388[_0x5331a5(0x1d0)][_0x5331a5(0x1af)](path[_0x5331a5(0x175)](__dirname,_0x127467['IEcTw']));_0x2ca800[_0x5331a5(0x12a)]()&&(_0xa76388['testSequencer']=path[_0x5331a5(0x175)](__dirname,_0x127467['VKabo'],_0x127467[_0x5331a5(0x131)]));if(testhubUtils[_0x5331a5(0x18a)]()){let _0x94ae57=null;try{_0x94ae57=helper['requireModule'](_0x127467[_0x5331a5(0x156)],_0x127467[_0x5331a5(0x18d)]);}catch(_0x2e8f5c){_0x127467[_0x5331a5(0x1a2)](debug,_0x5331a5(0x195)+_0x2e8f5c);}_0x94ae57&&(_0xa76388['setupFilesAfterEnv']['push'](path[_0x5331a5(0x175)](__dirname,_0x127467['neCbS'],_0x127467[_0x5331a5(0x19c)])),_0xa76388['testRunner']=path[_0x5331a5(0x175)](__dirname,_0x127467[_0x5331a5(0x1bb)],_0x127467['VwNpr']));}_0xa76388['setupFiles']=_0xa76388[_0x5331a5(0x129)]||[];try{helper['requireSeleniumWebdriver'](),_0xa76388[_0x5331a5(0x129)][_0x5331a5(0x1af)](path['join'](__dirname,_0x127467[_0x5331a5(0x1ad)]));}catch{logger[_0x5331a5(0x179)](_0x127467['Sdfph']);}try{helper['requirePWModule'][_0x5331a5(0x190)](null,[_0x127467['XdSZr'],_0x127467[_0x5331a5(0x186)]]),logger[_0x5331a5(0x179)](_0x127467[_0x5331a5(0x14e)]),_0xa76388['setupFiles'][_0x5331a5(0x1af)](path[_0x5331a5(0x175)](__dirname,_0x127467[_0x5331a5(0x1a5)]));}catch(_0x133fc1){logger[_0x5331a5(0x179)](_0x127467[_0x5331a5(0x180)],_0x133fc1);}_0xa76388[_0x5331a5(0x137)]=_0xa76388[_0x5331a5(0x137)]||[_0x127467['pGPez']],_0x127467[_0x5331a5(0x126)](updateTestRerunConfig,_0xa76388,_0xe90881);const _0x2e2378=fs['readFileSync'](_0x13f978);fs[_0x5331a5(0x1a1)](_0xa76388[_0x5331a5(0x170)],'\x0a\x20\x20\x20\x20'+_0x2e2378+_0x5331a5(0x153)+_0xe90881[_0x5331a5(0x161)]['platforms']['length']+_0x5331a5(0x1ee)),logger[_0x5331a5(0x1c1)](_0x5331a5(0x1ea)+_0x4bbaef+_0x5331a5(0x193)),fs[_0x5331a5(0x1a1)](_0x4bbaef,_0x5331a5(0x154)+JSON[_0x5331a5(0x1b4)](_0xa76388)+_0x5331a5(0x17e));if(_0x2ca800['isTestOrchestrationEnabled']()){logger[_0x5331a5(0x179)](_0x127467['NOXMY']);const _0x2d0199=await _0x2ca800[_0x5331a5(0x1d4)](_0xa76388,_0x35640d[_0x5331a5(0x127)](0x1),_0x4bbaef);logger[_0x5331a5(0x179)](_0x5331a5(0x164)+JSON['stringify'](_0x2d0199)+_0x5331a5(0x12b));const _0x68f977=await _0x2ca800['reorderTestFiles'](_0x2d0199);logger[_0x5331a5(0x179)](_0x5331a5(0x1ca)+JSON[_0x5331a5(0x1b4)](_0x68f977)),_0x68f977&&_0x127467[_0x5331a5(0x187)](_0x68f977[_0x5331a5(0x133)],0x0)&&(process[_0x5331a5(0x1ac)]['JEST_TEST_ORDER']=_0x68f977?.[_0x5331a5(0x175)](','));}logger[_0x5331a5(0x1c1)](_0x127467['cWEPn']);testhubUtils[_0x5331a5(0x18a)]()&&TestDetails[_0x5331a5(0x1ed)]();helper[_0x5331a5(0x17c)]({},_0x35640d),PerformanceTester[_0x5331a5(0x1c7)](PerformanceEvents[_0x5331a5(0x158)]);const _0x27918f=_0x127467[_0x5331a5(0x15b)](spawn,_0x127467[_0x5331a5(0x1dc)],[_0x127467['zAeCH'],_0x127467['OhSnA'],_0x4bbaef,..._0x35640d[_0x5331a5(0x127)](0x1)],{'shell':_0x127467[_0x5331a5(0x15d)](process[_0x5331a5(0x146)],_0x127467[_0x5331a5(0x132)]),'stdio':_0x127467[_0x5331a5(0x19b)],'env':Object['assign']({},process[_0x5331a5(0x1ac)])});_0x27918f['on'](_0x127467[_0x5331a5(0x140)],async _0x279b2a=>{const _0x35a266=_0x5331a5;PerformanceTester[_0x35a266(0x1f1)](PerformanceEvents[_0x35a266(0x18e)]);try{const {browserstackFolderPath:_0x3d0ea3,tcgConfigPath:_0x3d18b7}=helper[_0x35a266(0x1c6)]();fs[_0x35a266(0x1be)](_0x3d18b7),fs['rmdirSync'](_0x3d0ea3);}catch(_0x3957ae){logger[_0x35a266(0x179)](_0x127467[_0x35a266(0x139)],_0x3957ae);}process['exitCode']=_0x279b2a,logger[_0x35a266(0x179)](_0x35a266(0x1d7)+_0x279b2a),logger[_0x35a266(0x1c1)](_0x35a266(0x16f)+_0x4bbaef);if(helper['isNotUndefined'](_0x541682)&&helper[_0x35a266(0x1e6)](_0x541682[_0x35a266(0x1e5)])&&fs['existsSync'](_0x541682[_0x35a266(0x1e5)][_0x35a266(0x1d2)]))try{const _0x412467={};_0x412467[_0x35a266(0x174)]=!![],_0x412467[_0x35a266(0x18f)]=!![],fs[_0x35a266(0x192)](_0x541682[_0x35a266(0x1e5)][_0x35a266(0x1d2)],_0x412467),logger[_0x35a266(0x179)]('Deleted\x20fail-fast\x20state\x20folder:\x20'+_0x541682[_0x35a266(0x1e5)][_0x35a266(0x1d2)]);}catch(_0x4458d9){logger[_0x35a266(0x185)](_0x35a266(0x130)+_0x4458d9);}let _0x23852d=null;if(fs['existsSync'](_0x3bd946)){_0x23852d=fs[_0x35a266(0x165)](_0x3bd946);try{_0x23852d=JSON[_0x35a266(0x135)](_0x23852d);}catch(_0x21afca){logger[_0x35a266(0x179)](_0x35a266(0x1db)+_0x3bd946+',\x20'+_0x23852d+'\x20:\x20'+_0x21afca);}fs[_0x35a266(0x1be)](_0x3bd946);}fs[_0x35a266(0x1be)](_0x4bbaef),fs[_0x35a266(0x1be)](_0x57556f),_0x23852d&&(_0xe90881['errorMessage']=helper[_0x35a266(0x1aa)](_0x23852d,_0x127467[_0x35a266(0x148)],_0xe90881));try{await TestHubHandler['stop'](),await BrowserstackCLI[_0x35a266(0x14d)]()['stop']();}catch(_0x580591){console[_0x35a266(0x15f)](_0x580591),_0x127467[_0x35a266(0x1a2)](debug,_0x35a266(0x171)+util[_0x35a266(0x188)](_0x580591));}testOpsHelper[_0x35a266(0x1e7)](),TestDetails[_0x35a266(0x121)](),await utilities[_0x35a266(0x194)](_0xe90881);});}module[a14_0x116cbd(0x168)]=run;function a14_0x1ba4(){const _0x4b7707=['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','--config','maxWorkers','platform','true','zAeCH','npx','../../helpers/BrowserStackSetup','ebBKw','splice','getInstance','aGWGE','test-observability','getPackageType','BROWSERSTACK_CAPABILITIES','cGnRp','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','const\x20config=','QAulo','EHKKZ','path','SDK_SETUP','Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','../utils/constants','VqyEP','cwd','RAUVp','Getting\x20your\x20jest\x20configs\x20from\x20package.json','log','241483QORdeT','config','USER_CONFIG_DETAILS_PATH','../v2/browserstackCLI','Found:\x20','readFileSync','false','BROWSERSTACK_TEST_ACCESSIBILITY_YML','exports','parallelsPerPlatform','JEST','../utils/clientTroubleshootingService','jest-circus','useW3C','close','Deleting\x20','runner','Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20','./test-observability/test-details','package.json','recursive','join','AAvGY','yvHMt','20vctghk','debug','../../helpers/logger','aIGLV','filterBrowserstackArgs','existsSync','\x0amodule.exports\x20=\x20config;','winstonLogger','lbTeZ','isUndefined','failureThresholdCount','134438gUqpLt','EdzDr','error','YTLUh','iaVUq','format','customEnvironment.js','shouldProcessEventForTesthub','HiGXQ','../../helpers/percy/utils','nvtQc','SDK_CLEANUP','force','apply','testObservability','rmSync','\x20with\x20browserstack\x20jest\x20configs','finalExecution','Unable\x20to\x20find\x20jest-circus,\x20','jest-config/build/readConfigFileAndSetRootDir.js','1467704chsnTF','capabilities','sNUoL','assign','WMJsF','HdVnj','sQPUi','cTmzz','testEnvironment','./test-observability/helper','writeFileSync','OlnTf','testEnvironmentOptions','skipSessionStatus','oRVkC','retryTestsOnFailure','../../helpers/testhub/utils','error\x20removing\x20tcg\x20config\x20file','__isPlaywrightInstalled','getErrorMessageFromResults','OQspS','env','GIJgV','customCircus.js','push','../../helpers/test-observability/utils','data-hooks.js','win32','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','stringify','FRAMEWORKS','../../helpers/utilities','BSTACK_JEST_TEST_ENV','platforms','child_process','sAbSn','VKabo','failFast','@playwright/test','unlinkSync','customTestRunnerTemplate.js','jest.setup.js','info','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','QwvYN','VqEOA','maxFailures','getTCGConfigFilePaths','end','6858992eLKagr','Getting\x20your\x20jest\x20configs\x20from\x20','Reodered\x20Test\x20Files:\x20','customSequencer.js','requireModule','1803474CEzLiT','checkAccessibilityPlatformConfig','serial__','setupFilesAfterEnv','XoByk','workingDir','testTimeout','findTestFiles','browserStackPercyOptions','19SfiynC','child\x20process\x20exited\x20with\x20code\x20','platformCaps','proxySettings','600595puLGUE','Error\x20while\x20parsing\x20','ihJqR','jest','cjs','950GGYNrZ','../../helpers/test-observability/constants','jest.config.','skipSessionName','isEmpty','testContextOptions','abortBuildOnFailure','isNotUndefined','printBuildLink','json','browserStackLogLevel','Creating\x20','turboScaleUrl','24vSwdsx','setup',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','rktUt','../../helpers/performance/constants','start','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','shutdown','accessibilityOptions','resolve','lEMPB','dkPYx','OPPdW','slice','EVENTS','setupFiles','isTestOrchestrationEnabled','\x20test\x20files\x20to\x20run.','default','isBrowserstackInfra','FiWke','../../helpers/testhub/testhubHandler','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','knRmr','vNziR','length','PACKAGE_TYPE','parse','../../helpers/test-orchestration/testOrchestrationHandler','reporters','util','NOihx','parseTestOrchestrationOptions','457653yELtFy','runInBand','inherit','BROWSERSTACK_TEST_OBSERVABILITY_YML','jest_browserstack.config.cjs','RDfoS','findIndex','test.setup.js'];a14_0x1ba4=function(){return _0x4b7707;};return a14_0x1ba4();}