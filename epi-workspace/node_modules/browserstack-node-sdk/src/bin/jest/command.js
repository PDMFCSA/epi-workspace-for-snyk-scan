#!/usr/bin/env node
'use strict';function a14_0x4c01(_0x27160d,_0x4cfc15){const _0x133c6e=a14_0x133c();return a14_0x4c01=function(_0x4c014a,_0x3bedd5){_0x4c014a=_0x4c014a-0x143;let _0x3d81da=_0x133c6e[_0x4c014a];return _0x3d81da;},a14_0x4c01(_0x27160d,_0x4cfc15);}const a14_0x5805c5=a14_0x4c01;function a14_0x133c(){const _0x271873=['exports','close','bUDpG','initialize','isEmpty','maxFailures','../../helpers/playwright-helper','exitCode','Bienf','format','238jQfdFm','Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20','testSequencer','default','../../helpers/logger','shutdown','POOrw','customTestRunner.js','stringify','Vikoc','start','test-observability','getPackageVersion','isUndefined','retryTestsOnFailure','testEnvironmentOptions','testTimeout','reporters','DRFhC','618402BNfUbU','Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','debug','--config','failureThresholdCount','isRunning','parse','Deleting\x20','jest.setup.js','recursive','accessibilityOptions','config','abortBuildOnFailure','playwright','getTCGConfigFilePaths','nQHrl','isBrowserstackInfra','VAFzy','unlinkSync','Creating\x20',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','../v2/browserstackCLI','uzuat','lkqto','USER_CONFIG_DETAILS_PATH','test_before.setup.js','retries__','30366TMNTFu','path','finalExecution','4741908SeTvuM','jest','16989VqbDBX','filterBrowserstackArgs','serial__','child_process','setupTCGAuth','LTCrE','bEwgm','SDK_CLEANUP','11gIsTUd','216cNsvrP','printBuildLink','customTestRunnerTemplate.js','GpjGe','BROWSERSTACK_TEST_OBSERVABILITY_YML','npx','JEST','yiPaM','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','customImplements','FeJSy','test.setup.js','assign','writeFileSync','existsSync','Sceto','runner','../../helpers/percy/utils','./test-observability/test-details','requireModule','BROWSERSTACK_TEST_ACCESSIBILITY_YML','prepareCapabilities','../../helpers/test-orchestration/testOrchestrationHandler','../../helpers/test-observability/utils','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','gMlML','jest-config/build/readConfigFileAndSetRootDir.js','../utils/constants','winstonLogger','BROWSERSTACK_CAPABILITIES','info','aAEXS','licGI','getHubUrl','\x0amodule.exports\x20=\x20config;','splice','force','frVfC','Error\x20while\x20parsing\x20','apply','turboScaleUrl','SCGzL','OZFTO','vqmSC','parseTestOrchestrationOptions','rmSync','JEST_TEST_ORDER','isTestOrchestrationEnabled','../../helpers/BrowserStackSetup','cjs','launchBuild','length','skipSessionStatus','proxySettings','ECvvE','readFileSync','testObservability','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','882jYkaSD','MFxzM','findTestFiles','Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','UwrHx','parallelsPerPlatform','9580qFcaPC','push','join','testContextOptions','getInstance','ydEhL','jest.config.','2079Addgzw','cwd','json','util','TNHGI','KrmkN','jest_browserstack_results.json','jest_browserstack.config.cjs','testRunner','shouldProcessEventForTesthub','true','__isPlaywrightInstalled','jest-circus','MODULE','const\x20config=','Getting\x20your\x20jest\x20configs\x20from\x20package.json','FRAMEWORKS','workingDir','browserStackLogLevel','platforms','win32','Reodered\x20Test\x20Files:\x20','jest_browserstack.config.js','inherit','maxWorkers','slice','bqNNd','reorderTestFiles','\x20with\x20browserstack\x20jest\x20configs','FDzrV','setupFiles','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','Getting\x20your\x20jest\x20configs\x20from\x20','uRzdb','env','../../helpers/performance/constants','XlpWK','./test-observability/helper','Deleted\x20fail-fast\x20state\x20folder:\x20','requireSeleniumWebdriver','9332WqIjRo','parallels__','sNpHn','logLevel','platform','setupFilesAfterEnv','timeout__','error\x20removing\x20tcg\x20config\x20file','errorMessage','isNotUndefined','../../helpers/performance/performance-tester','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','testEnvironment','AvNVR','getPackageType','695RZRGcI','FGMBR','skipSessionName','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','../../helpers/test-observability/constants','../utils/clientTroubleshootingService','failFast','\x20:\x20','hFdkG','data-hooks.js','uYLpe','yTDEp','jvxYL','useW3C','findIndex','fPRkT','ltsgs','ToofS','stop','PQsqp','PACKAGE_TYPE','log','error'];a14_0x133c=function(){return _0x271873;};return a14_0x133c();}(function(_0x44f3d9,_0x1c58f9){const _0x188545=a14_0x4c01,_0x2506b0=_0x44f3d9();while(!![]){try{const _0x47ca14=parseInt(_0x188545(0x1e4))/0x1*(-parseInt(_0x188545(0x16e))/0x2)+parseInt(_0x188545(0x1a1))/0x3+parseInt(_0x188545(0x219))/0x4*(parseInt(_0x188545(0x14d))/0x5)+-parseInt(_0x188545(0x181))/0x6+parseInt(_0x188545(0x19c))/0x7*(-parseInt(_0x188545(0x1aa))/0x8)+parseInt(_0x188545(0x1f1))/0x9*(-parseInt(_0x188545(0x1ea))/0xa)+-parseInt(_0x188545(0x1a9))/0xb*(-parseInt(_0x188545(0x19f))/0xc);if(_0x47ca14===_0x1c58f9)break;else _0x2506b0['push'](_0x2506b0['shift']());}catch(_0x52af84){_0x2506b0['push'](_0x2506b0['shift']());}}}(a14_0x133c,0x2b9e4));const fs=require('fs'),path=require(a14_0x5805c5(0x19d)),util=require(a14_0x5805c5(0x1f4)),{spawn}=require(a14_0x5805c5(0x1a4)),logger=require(a14_0x5805c5(0x172))[a14_0x5805c5(0x1c6)],{default:BrowserStackSetup}=require(a14_0x5805c5(0x1da)),helper=require('../../helpers/helper'),utilities=require('../../helpers/utilities'),constants=require(a14_0x5805c5(0x1c5)),accessibilityHelper=require('../../helpers/accessibility-automation/helper'),{updateTestRerunConfig}=require(a14_0x5805c5(0x216)),testOpsHelper=require(a14_0x5805c5(0x1c1)),{debug}=require(a14_0x5805c5(0x1c1)),TestDetails=require(a14_0x5805c5(0x1bc)),{getPercyOptions}=require(a14_0x5805c5(0x1bb)),TestHubHandler=require('../../helpers/testhub/testhubHandler'),testhubUtils=require('../../helpers/testhub/utils'),{FRAMEWORKS}=require(a14_0x5805c5(0x151)),PerformanceTester=require(a14_0x5805c5(0x148)),PerformanceEvents=require(a14_0x5805c5(0x214))['EVENTS'],TestOrchestrationHandler=require(a14_0x5805c5(0x1c0)),BrowserstackCLI=require(a14_0x5805c5(0x196)),{checkPwandBootstrapCli}=require(a14_0x5805c5(0x16a)),ClientTroubleShootingService=require(a14_0x5805c5(0x152)),getUserJestConfigs=async(_0x2fe1e9,_0x4f7526)=>{const _0x223619=a14_0x5805c5,_0x12a6f7={'Sceto':_0x223619(0x1c4),'MFxzM':'jest-config','frVfC':function(_0x1ee687,_0x5910a8){return _0x1ee687||_0x5910a8;},'yiPaM':function(_0x2f3bf1,_0x106f1d){return _0x2f3bf1(_0x106f1d);},'KrmkN':'package.json','Bienf':_0x223619(0x200),'aNMbM':'mjs','JnbRa':_0x223619(0x1db),'LTCrE':_0x223619(0x1f3)},_0x1988f0=helper[_0x223619(0x1bd)](_0x12a6f7[_0x223619(0x1b9)],_0x12a6f7[_0x223619(0x1e5)]),_0x1b04c6=_0x4f7526[_0x223619(0x15b)](_0x22c882=>_0x22c882===_0x223619(0x184));if(!helper['isUndefined'](_0x2fe1e9[_0x223619(0x18c)])){logger['info'](_0x223619(0x211)+_0x2fe1e9[_0x223619(0x18c)]),process[_0x223619(0x213)]['USER_CONFIG_DETAILS_PATH']=_0x2fe1e9[_0x223619(0x18c)];const _0x323b05=await(0x0,_0x1988f0['default'])(path['resolve'](_0x2fe1e9['config']));return _0x4f7526[_0x223619(0x1cd)](_0x1b04c6,0x2),_0x12a6f7[_0x223619(0x1cf)](_0x323b05,{});}const _0x5de4b2=_0x12a6f7[_0x223619(0x1b1)](require,path[_0x223619(0x1ec)](process[_0x223619(0x1f2)](),_0x12a6f7[_0x223619(0x1f6)]));if(_0x5de4b2[_0x223619(0x1a0)])return logger[_0x223619(0x1c8)](_0x12a6f7[_0x223619(0x16c)]),_0x5de4b2['jest'];const _0x9ec6fb=['js',_0x12a6f7['aNMbM'],_0x12a6f7['JnbRa'],_0x12a6f7[_0x223619(0x1a6)],'ts'];for(const _0x317d47 of _0x9ec6fb){const _0x4679d3=path['join'](process[_0x223619(0x1f2)](),_0x223619(0x1f0)+_0x317d47);if(fs['existsSync'](_0x4679d3)){process[_0x223619(0x213)][_0x223619(0x199)]=_0x4679d3;const _0x51f705=await(0x0,_0x1988f0[_0x223619(0x171)])(_0x4679d3);return _0x51f705;}}return{};},getSerial=(_0x3cd19f,_0x2a6d4b)=>{const _0x58d51e=a14_0x5805c5,_0x1467ce={};_0x1467ce[_0x58d51e(0x177)]='true',_0x1467ce['bUDpG']=function(_0x3188be,_0x47cd55){return _0x3188be>_0x47cd55;},_0x1467ce['vqmSC']=function(_0x22409,_0x4bf9f8){return _0x22409>_0x4bf9f8;},_0x1467ce[_0x58d51e(0x197)]='false';const _0x13d1fe=_0x1467ce;let _0x134278=_0x13d1fe[_0x58d51e(0x177)];return _0x13d1fe[_0x58d51e(0x166)](_0x3cd19f[_0x58d51e(0x1dd)],0x1)&&(!_0x2a6d4b['runInBand']&&(helper['isUndefined'](_0x2a6d4b[_0x58d51e(0x209)])||_0x13d1fe[_0x58d51e(0x1d5)](_0x2a6d4b['maxWorkers'],0x1)))&&(_0x134278=_0x13d1fe[_0x58d51e(0x197)]),_0x134278;},getMaxWorkers=(_0x573828,_0x5d7679,_0x48508c)=>{const _0x32d1e6=a14_0x5805c5,_0x5d8db5={'hFdkG':function(_0x5a443c,_0x310fd9){return _0x5a443c(_0x310fd9);}};let _0x3e4dc0=0x1;if(!helper[_0x32d1e6(0x17b)](_0x5d7679[_0x32d1e6(0x1e9)]))_0x3e4dc0=_0x5d8db5[_0x32d1e6(0x155)](parseInt,_0x5d7679[_0x32d1e6(0x1e9)]);else{if(!helper[_0x32d1e6(0x17b)](_0x573828[_0x32d1e6(0x209)]))_0x3e4dc0=_0x573828['maxWorkers'];else!helper[_0x32d1e6(0x17b)](_0x48508c[_0x32d1e6(0x209)])&&(_0x3e4dc0=_0x48508c[_0x32d1e6(0x209)]);}return _0x3e4dc0;};async function run(_0x14dd50,_0x4aae11,_0x2a7103){const _0x24dbe3=a14_0x5805c5,_0x3265b9={'wVZca':_0x24dbe3(0x145),'FGMBR':_0x24dbe3(0x1a0),'licGI':function(_0xd5c726,_0xafde55){return _0xd5c726(_0xafde55);},'GpjGe':'@playwright/test','SCGzL':function(_0x43c007,_0x228929,_0x410bd4,_0x470db0){return _0x43c007(_0x228929,_0x410bd4,_0x470db0);},'ECvvE':function(_0xc7f144,_0x40655c){return _0xc7f144!=_0x40655c;},'jvxYL':_0x24dbe3(0x1fb),'ltsgs':function(_0x418db2,_0x206121,_0x440584){return _0x418db2(_0x206121,_0x440584);},'PQsqp':_0x24dbe3(0x149),'FeJSy':function(_0x1414a0,_0x1665cf){return _0x1414a0(_0x1665cf);},'flerz':function(_0x1ce437,_0x118295){return _0x1ce437*_0x118295;},'AvNVR':function(_0x26cf58,_0x2aba88){return _0x26cf58===_0x2aba88;},'OTjCS':_0x24dbe3(0x1f8),'twhZs':_0x24dbe3(0x207),'nQHrl':_0x24dbe3(0x1b3),'XlpWK':_0x24dbe3(0x1f7),'apSgO':_0x24dbe3(0x175),'uRzdb':_0x24dbe3(0x1ac),'ToofS':'customEnvironment.js','XDmaM':_0x24dbe3(0x189),'OKyVM':'customSequencer.js','aAEXS':_0x24dbe3(0x1c2),'uYLpe':_0x24dbe3(0x1fd),'lkqto':_0x24dbe3(0x179),'NXseR':_0x24dbe3(0x156),'yTDEp':'customCircus.js','VAFzy':_0x24dbe3(0x19a),'bqNNd':_0x24dbe3(0x210),'TNHGI':_0x24dbe3(0x18e),'bEwgm':_0x24dbe3(0x182),'UwrHx':_0x24dbe3(0x1b5),'OZFTO':_0x24dbe3(0x1e7),'gMlML':_0x24dbe3(0x171),'IbxLD':'Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','ydEhL':function(_0x25514f,_0xb9ea93){return _0x25514f>_0xb9ea93;},'eWoGM':_0x24dbe3(0x150),'sNpHn':_0x24dbe3(0x1af),'FDzrV':_0x24dbe3(0x184),'fPRkT':_0x24dbe3(0x205),'DRFhC':_0x24dbe3(0x208),'POOrw':_0x24dbe3(0x165)},_0x3abd61=helper[_0x24dbe3(0x17a)](_0x3265b9[_0x24dbe3(0x1ad)]);global[_0x24dbe3(0x1fc)]=!!_0x3abd61;helper[_0x24dbe3(0x191)]()?(await _0x2a7103[_0x24dbe3(0x167)](_0x14dd50),await helper['handleApp'](_0x2a7103['config'])):await _0x2a7103[_0x24dbe3(0x1a5)]();await _0x3265b9[_0x24dbe3(0x1d3)](checkPwandBootstrapCli,_0x3abd61,constants[_0x24dbe3(0x201)]['JEST'],_0x2a7103);if(!_0x2a7103[_0x24dbe3(0x18c)])return;_0x3265b9[_0x24dbe3(0x1e0)](_0x2a7103[_0x24dbe3(0x18c)][_0x24dbe3(0x1e2)],null)?process[_0x24dbe3(0x213)][_0x24dbe3(0x1ae)]=_0x2a7103[_0x24dbe3(0x18c)][_0x24dbe3(0x1e2)]:process[_0x24dbe3(0x213)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x3265b9[_0x24dbe3(0x159)];const _0x363e23=new TestOrchestrationHandler(_0x2a7103[_0x24dbe3(0x18c)]),_0x12999a=await _0x3265b9[_0x24dbe3(0x15d)](getUserJestConfigs,_0x14dd50,_0x4aae11);logger[_0x24dbe3(0x1c8)](_0x3265b9[_0x24dbe3(0x160)]);const _0x3a8088=Object[_0x24dbe3(0x1b6)]({},_0x12999a);_0x3a8088[_0x24dbe3(0x17d)]=Object['assign']({},_0x3a8088[_0x24dbe3(0x17d)],{'server':helper[_0x24dbe3(0x1cb)](_0x2a7103['config']),'environment':_0x12999a[_0x24dbe3(0x14a)]}),_0x3a8088['testEnvironmentOptions']['browserStackPercyOptions']=_0x3265b9['FeJSy'](getPercyOptions,_0x2a7103[_0x24dbe3(0x18c)]);const _0x44a883=helper[_0x24dbe3(0x15a)](_0x2a7103[_0x24dbe3(0x18c)]);!helper['isUndefined'](_0x2a7103['config'][_0x24dbe3(0x18b)])&&(process[_0x24dbe3(0x213)]['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON[_0x24dbe3(0x176)](_0x2a7103[_0x24dbe3(0x18c)]['accessibilityOptions']));if(!BrowserstackCLI[_0x24dbe3(0x1ee)]()[_0x24dbe3(0x186)]()){const _0x502874=await TestHubHandler[_0x24dbe3(0x1dc)](FRAMEWORKS[_0x24dbe3(0x1b0)],_0x2a7103);}const _0x390e81=helper[_0x24dbe3(0x1bf)](_0x2a7103[_0x24dbe3(0x18c)],_0x44a883,constants[_0x24dbe3(0x201)][_0x24dbe3(0x1b0)]);process[_0x24dbe3(0x213)][_0x24dbe3(0x1c7)]=JSON[_0x24dbe3(0x176)](_0x390e81);let _0x26b4fe=_0x2a7103[_0x24dbe3(0x18c)]['accessibility'];_0x26b4fe=_0x26b4fe||accessibilityHelper['checkAccessibilityPlatformConfig'](_0x2a7103['config']),process[_0x24dbe3(0x213)][_0x24dbe3(0x1be)]=_0x26b4fe,_0x3a8088[_0x24dbe3(0x17d)]['capabilities']=_0x390e81,_0x3a8088[_0x24dbe3(0x17d)][_0x24dbe3(0x1a3)]=_0x3265b9[_0x24dbe3(0x15d)](getSerial,_0x390e81,_0x14dd50),_0x3a8088[_0x24dbe3(0x17d)][_0x24dbe3(0x21a)]=_0x3265b9[_0x24dbe3(0x1d3)](getMaxWorkers,_0x14dd50,_0x2a7103[_0x24dbe3(0x18c)],_0x12999a),_0x3a8088[_0x24dbe3(0x17d)][_0x24dbe3(0x1df)]=_0x2a7103['config'][_0x24dbe3(0x1df)],_0x3a8088[_0x24dbe3(0x17d)][_0x24dbe3(0x144)]=_0x3265b9['flerz'](_0x14dd50[_0x24dbe3(0x17e)],0x1)||0x1388,_0x3a8088[_0x24dbe3(0x17d)]['skipSessionName']=_0x2a7103[_0x24dbe3(0x18c)][_0x24dbe3(0x1ed)][_0x24dbe3(0x14f)],_0x3a8088[_0x24dbe3(0x17d)][_0x24dbe3(0x1de)]=_0x2a7103[_0x24dbe3(0x18c)]['testContextOptions'][_0x24dbe3(0x1de)],_0x3a8088[_0x24dbe3(0x17d)][_0x24dbe3(0x203)]=_0x2a7103[_0x24dbe3(0x18c)][_0x24dbe3(0x21c)],_0x3a8088[_0x24dbe3(0x17d)][_0x24dbe3(0x1d2)]=_0x2a7103['config']['turboScaleUrl'],_0x3a8088[_0x24dbe3(0x17d)]['platformCaps']=_0x2a7103[_0x24dbe3(0x18c)][_0x24dbe3(0x204)];const _0x1abcb4=helper[_0x24dbe3(0x1d6)](_0x2a7103['config']);if(!helper[_0x24dbe3(0x168)](_0x1abcb4)){helper[_0x24dbe3(0x147)](_0x1abcb4[_0x24dbe3(0x17c)])&&(_0x3a8088[_0x24dbe3(0x17d)][_0x24dbe3(0x19b)]=_0x1abcb4[_0x24dbe3(0x17c)]['maxRetries']);if(helper[_0x24dbe3(0x147)](_0x1abcb4[_0x24dbe3(0x18d)])&&helper[_0x24dbe3(0x147)](_0x1abcb4[_0x24dbe3(0x18d)][_0x24dbe3(0x202)])){const _0x14677b={};_0x14677b[_0x24dbe3(0x185)]=_0x1abcb4[_0x24dbe3(0x18d)][_0x24dbe3(0x169)],_0x14677b[_0x24dbe3(0x202)]=_0x1abcb4[_0x24dbe3(0x18d)][_0x24dbe3(0x202)],_0x3a8088[_0x24dbe3(0x17d)][_0x24dbe3(0x153)]=_0x14677b;}}let _0x2c2b76='';_0x3265b9[_0x24dbe3(0x14b)](helper[_0x24dbe3(0x14c)](),constants[_0x24dbe3(0x161)][_0x24dbe3(0x1fe)])?_0x2c2b76=_0x3265b9['OTjCS']:_0x2c2b76=_0x3265b9['twhZs'];const _0x5b5bfa=_0x2c2b76,_0x4dd570=path['join'](__dirname,_0x3265b9[_0x24dbe3(0x190)],_0x3265b9[_0x24dbe3(0x215)]),_0x174928=path['join'](__dirname,_0x3265b9[_0x24dbe3(0x190)],_0x3265b9['apSgO']),_0x7dbbb0=path[_0x24dbe3(0x1ec)](__dirname,_0x3265b9['nQHrl'],_0x3265b9[_0x24dbe3(0x212)]);_0x3a8088['testEnvironment']&&(process[_0x24dbe3(0x213)]['BSTACK_JEST_TEST_ENV']=_0x3a8088[_0x24dbe3(0x14a)]);_0x3a8088[_0x24dbe3(0x14a)]=path['join'](__dirname,_0x3265b9['nQHrl'],_0x3265b9[_0x24dbe3(0x15e)]),_0x3a8088[_0x24dbe3(0x1ba)]=_0x174928,_0x3a8088[_0x24dbe3(0x143)]=_0x3a8088['setupFilesAfterEnv']||[],_0x3a8088[_0x24dbe3(0x143)][_0x24dbe3(0x1eb)](path[_0x24dbe3(0x1ec)](__dirname,_0x3265b9['XDmaM']));_0x363e23[_0x24dbe3(0x1d9)]()&&(_0x3a8088[_0x24dbe3(0x170)]=path[_0x24dbe3(0x1ec)](__dirname,_0x3265b9['nQHrl'],_0x3265b9['OKyVM']));if(testhubUtils[_0x24dbe3(0x1fa)]()){let _0xb06a73=null;try{_0xb06a73=helper['requireModule'](_0x3265b9[_0x24dbe3(0x1c9)],_0x3265b9[_0x24dbe3(0x157)]);}catch(_0x3e4275){_0x3265b9[_0x24dbe3(0x1b4)](debug,'Unable\x20to\x20find\x20jest-circus,\x20'+_0x3e4275);}_0xb06a73&&(_0x3a8088['setupFilesAfterEnv'][_0x24dbe3(0x1eb)](path['join'](__dirname,_0x3265b9[_0x24dbe3(0x198)],_0x3265b9['NXseR'])),_0x3a8088[_0x24dbe3(0x1f9)]=path[_0x24dbe3(0x1ec)](__dirname,_0x3265b9[_0x24dbe3(0x190)],_0x3265b9[_0x24dbe3(0x158)]));}_0x3a8088[_0x24dbe3(0x20f)]=_0x3a8088[_0x24dbe3(0x20f)]||[];try{helper[_0x24dbe3(0x218)](),_0x3a8088[_0x24dbe3(0x20f)][_0x24dbe3(0x1eb)](path[_0x24dbe3(0x1ec)](__dirname,_0x3265b9[_0x24dbe3(0x192)]));}catch{logger[_0x24dbe3(0x183)](_0x3265b9[_0x24dbe3(0x20b)]);}try{helper['requirePWModule'][_0x24dbe3(0x1d1)](null,[_0x3265b9[_0x24dbe3(0x1ad)],_0x3265b9[_0x24dbe3(0x1f5)]]),logger['debug'](_0x3265b9[_0x24dbe3(0x1a7)]),_0x3a8088[_0x24dbe3(0x20f)]['push'](path[_0x24dbe3(0x1ec)](__dirname,_0x3265b9[_0x24dbe3(0x1e8)]));}catch(_0x506652){logger[_0x24dbe3(0x183)](_0x3265b9[_0x24dbe3(0x1d4)],_0x506652);}_0x3a8088[_0x24dbe3(0x17f)]=_0x3a8088[_0x24dbe3(0x17f)]||[_0x3265b9[_0x24dbe3(0x1c3)]],_0x3265b9[_0x24dbe3(0x15d)](updateTestRerunConfig,_0x3a8088,_0x2a7103);const _0x59699=fs[_0x24dbe3(0x1e1)](_0x7dbbb0);fs[_0x24dbe3(0x1b7)](_0x3a8088['runner'],'\x0a\x20\x20\x20\x20'+_0x59699+_0x24dbe3(0x1e3)+_0x2a7103[_0x24dbe3(0x18c)][_0x24dbe3(0x204)][_0x24dbe3(0x1dd)]+_0x24dbe3(0x195)),logger['info'](_0x24dbe3(0x194)+_0x5b5bfa+_0x24dbe3(0x20d)),fs[_0x24dbe3(0x1b7)](_0x5b5bfa,_0x24dbe3(0x1ff)+JSON['stringify'](_0x3a8088)+_0x24dbe3(0x1cc));if(_0x363e23[_0x24dbe3(0x1d9)]()){logger[_0x24dbe3(0x183)](_0x3265b9['IbxLD']);const _0x23e359=await _0x363e23[_0x24dbe3(0x1e6)](_0x3a8088,_0x4aae11[_0x24dbe3(0x20a)](0x1),_0x5b5bfa);logger['debug']('Found:\x20'+JSON[_0x24dbe3(0x176)](_0x23e359)+'\x20test\x20files\x20to\x20run.');const _0x138f4c=await _0x363e23[_0x24dbe3(0x20c)](_0x23e359);logger[_0x24dbe3(0x183)](_0x24dbe3(0x206)+JSON[_0x24dbe3(0x176)](_0x138f4c)),_0x138f4c&&_0x3265b9[_0x24dbe3(0x1ef)](_0x138f4c[_0x24dbe3(0x1dd)],0x0)&&(process[_0x24dbe3(0x213)][_0x24dbe3(0x1d8)]=_0x138f4c?.[_0x24dbe3(0x1ec)](','));}logger['info'](_0x3265b9['eWoGM']);testhubUtils[_0x24dbe3(0x1fa)]()&&TestDetails['setup']();helper[_0x24dbe3(0x1a2)]({},_0x4aae11),PerformanceTester['end'](PerformanceEvents['SDK_SETUP']);const _0x3d2aa2=_0x3265b9[_0x24dbe3(0x1d3)](spawn,_0x3265b9[_0x24dbe3(0x21b)],[_0x3265b9[_0x24dbe3(0x14e)],_0x3265b9[_0x24dbe3(0x20e)],_0x5b5bfa,..._0x4aae11[_0x24dbe3(0x20a)](0x1)],{'shell':_0x3265b9[_0x24dbe3(0x14b)](process[_0x24dbe3(0x21d)],_0x3265b9[_0x24dbe3(0x15c)]),'stdio':_0x3265b9[_0x24dbe3(0x180)],'env':Object[_0x24dbe3(0x1b6)]({},process[_0x24dbe3(0x213)])});_0x3d2aa2['on'](_0x3265b9[_0x24dbe3(0x174)],async _0x57f8bb=>{const _0x44033b=_0x24dbe3;PerformanceTester[_0x44033b(0x178)](PerformanceEvents[_0x44033b(0x1a8)]);try{const {browserstackFolderPath:_0x38fea3,tcgConfigPath:_0x3984d4}=helper[_0x44033b(0x18f)]();fs['unlinkSync'](_0x3984d4),fs['rmdirSync'](_0x38fea3);}catch(_0x298c0d){logger['debug'](_0x3265b9['wVZca'],_0x298c0d);}process[_0x44033b(0x16b)]=_0x57f8bb,logger[_0x44033b(0x183)]('child\x20process\x20exited\x20with\x20code\x20'+_0x57f8bb),logger[_0x44033b(0x1c8)](_0x44033b(0x188)+_0x5b5bfa);if(helper['isNotUndefined'](_0x1abcb4)&&helper[_0x44033b(0x147)](_0x1abcb4['abortBuildOnFailure'])&&fs[_0x44033b(0x1b8)](_0x1abcb4[_0x44033b(0x18d)][_0x44033b(0x202)]))try{const _0x17ecfd={};_0x17ecfd[_0x44033b(0x18a)]=!![],_0x17ecfd[_0x44033b(0x1ce)]=!![],fs[_0x44033b(0x1d7)](_0x1abcb4[_0x44033b(0x18d)]['workingDir'],_0x17ecfd),logger[_0x44033b(0x183)](_0x44033b(0x217)+_0x1abcb4[_0x44033b(0x18d)][_0x44033b(0x202)]);}catch(_0x30faee){logger[_0x44033b(0x163)](_0x44033b(0x1b2)+_0x30faee);}let _0x1759bc=null;if(fs[_0x44033b(0x1b8)](_0x4dd570)){_0x1759bc=fs[_0x44033b(0x1e1)](_0x4dd570);try{_0x1759bc=JSON[_0x44033b(0x187)](_0x1759bc);}catch(_0x1c49bd){logger[_0x44033b(0x183)](_0x44033b(0x1d0)+_0x4dd570+',\x20'+_0x1759bc+_0x44033b(0x154)+_0x1c49bd);}fs['unlinkSync'](_0x4dd570);}fs[_0x44033b(0x193)](_0x5b5bfa),fs[_0x44033b(0x193)](_0x174928),_0x1759bc&&(_0x2a7103[_0x44033b(0x146)]=helper['getErrorMessageFromResults'](_0x1759bc,_0x3265b9['FGMBR'],_0x2a7103));try{await TestHubHandler[_0x44033b(0x15f)](),await BrowserstackCLI[_0x44033b(0x1ee)]()['stop']();}catch(_0x26bd80){console[_0x44033b(0x162)](_0x26bd80),_0x3265b9[_0x44033b(0x1ca)](debug,_0x44033b(0x16f)+util[_0x44033b(0x16d)](_0x26bd80));}testOpsHelper[_0x44033b(0x1ab)](),TestDetails[_0x44033b(0x173)](),await utilities[_0x44033b(0x19e)](_0x2a7103);});}module[a14_0x5805c5(0x164)]=run;