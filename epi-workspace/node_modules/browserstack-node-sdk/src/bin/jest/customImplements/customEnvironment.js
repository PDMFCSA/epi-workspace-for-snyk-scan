function a16_0xa9d9(_0x264cd0,_0x5346d7){const _0x3d5af6=a16_0x3d5a();return a16_0xa9d9=function(_0xa9d949,_0x39502b){_0xa9d949=_0xa9d949-0x1e8;let _0x363751=_0x3d5af6[_0xa9d949];return _0x363751;},a16_0xa9d9(_0x264cd0,_0x5346d7);}function a16_0x3d5a(){const _0x5d5b0f=['dUTuY','test','zbxzv','builder','framework','browserStackGlobals','jest-environment-node','shouldFailFast','modifyCommand','iafKE','message','getInstance','CYjxr','mode','zNuRd','handleTestEvent','projectConfig','../test-observability/obsReporter','\x20>\x20','1028798rTJHjs','701778oXhbSu','requireModule','__webdriver','skipSessionStatus','failFastActive','node','nElxy','../../../helpers/logger','__esModule','setup','__jestRetries','teardown','FRAMEWORKS','dgPnl','lSZNZ','join','JEST','rMDTC','../../../index','UKwuH','ksylj','../../../helpers/testhub/utils','browserstackPlatformIndex','exports','2QrILrC','debug','3804786KAjdkQ','310jKmzCY','global','failFastOptions','capability','kHpzV','testPath','resolveTestEnvironment','7lIQInf','OuCfg','default','fRoqB','../../../helpers/helper','getTestEnvironment','../../../helpers/test-orchestration/failfastManager','iYXBd','isBrowserstackInfra','info','__drivers','5|1|0|6|3|7|4|2','capabilities','skip','912045HPRAXV','bstack:options','projectName','11990408HdxQoq','browserstackPercyBestPlatform','__timeout','szRzf','percyCaptureMode','jestConfig','isTrue','4245800fdSTSy','percy','sessionNameProvided','shouldProcessEventForTesthub','FdQnW','nestedKeyValue','configuration','__platformCaps','AlGRH','5410548qNYNxM','testEnvironmentOptions','IDoVz','platformCaps','failFast','YeqbK','AeKGE','cleanupDrivers','18mfdkGh','cleanup','Error\x20in\x20fail-fast\x20test_done\x20handler:','onTestDone','testContext','VFRvG','BSTACK_JEST_TEST_ENV','test_done','registerListeners','requireSeleniumWebdriver','shutdown','NrCDY','kYPOl','Builder','retries__','../../utils/constants','isArray','BRMhF'];a16_0x3d5a=function(){return _0x5d5b0f;};return a16_0x3d5a();}const a16_0x2ce9f1=a16_0xa9d9;(function(_0x43faee,_0x155f89){const _0xef19f7=a16_0xa9d9,_0x303a44=_0x43faee();while(!![]){try{const _0x510f8f=parseInt(_0xef19f7(0x202))/0x1*(-parseInt(_0xef19f7(0x1e9))/0x2)+parseInt(_0xef19f7(0x204))/0x3+parseInt(_0xef19f7(0x224))/0x4+-parseInt(_0xef19f7(0x21a))/0x5*(parseInt(_0xef19f7(0x235))/0x6)+parseInt(_0xef19f7(0x20c))/0x7*(parseInt(_0xef19f7(0x21d))/0x8)+parseInt(_0xef19f7(0x22d))/0x9+parseInt(_0xef19f7(0x205))/0xa*(-parseInt(_0xef19f7(0x1ea))/0xb);if(_0x510f8f===_0x155f89)break;else _0x303a44['push'](_0x303a44['shift']());}catch(_0x2c2ffd){_0x303a44['push'](_0x303a44['shift']());}}}(a16_0x3d5a,0xd5d92));const helper=require(a16_0x2ce9f1(0x210)),constants=require(a16_0x2ce9f1(0x244)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require(a16_0x2ce9f1(0x258)),testhubUtils=require(a16_0x2ce9f1(0x1ff)),logger=require(a16_0x2ce9f1(0x1f1))['winstonLogger'],getTestEnvironment=((()=>{const _0x248515=a16_0x2ce9f1,_0x43ba9c={};_0x43ba9c['BRMhF']='jest-resolve',_0x43ba9c[_0x248515(0x213)]='jest-config';const _0x411959=_0x43ba9c;try{const _0x4ec9dd=helper[_0x248515(0x1eb)](_0x411959[_0x248515(0x246)]);if(_0x4ec9dd['resolveTestEnvironment'])return _0x4ec9dd[_0x248515(0x20b)];const _0x3b4ea0=helper['requireModule'](_0x411959[_0x248515(0x213)]);if(_0x3b4ea0[_0x248515(0x211)])return _0x3b4ea0[_0x248515(0x211)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x2824c4=a16_0x2ce9f1,_0x42c702={'zbxzv':function(_0xf831e7,_0x336a88){return _0xf831e7(_0x336a88);},'YeqbK':_0x2824c4(0x1ef),'dUTuY':function(_0x115995,_0x388af0){return _0x115995(_0x388af0);},'lZsFw':_0x2824c4(0x24d),'ksylj':function(_0x5bd523,_0x27042a){return _0x5bd523(_0x27042a);}},_0x36135b=_0x42c702[_0x2824c4(0x249)](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process['env'][_0x2824c4(0x23b)]||_0x42c702[_0x2824c4(0x232)]});if(!_0x36135b)return _0x42c702[_0x2824c4(0x247)](_interopRequireDefault,helper['requireModule'](_0x42c702['lZsFw']));return _0x42c702[_0x2824c4(0x1fe)](_interopRequireDefault,helper[_0x2824c4(0x1eb)](_0x36135b));})()),_seleniumWebdriver2=((()=>{const _0x56ae16=a16_0x2ce9f1,_0x48508b={'OuCfg':function(_0x35a044,_0x125d3f){return _0x35a044(_0x125d3f);}};try{const _0x5e4e33=helper[_0x56ae16(0x23e)]();return helper[_0x56ae16(0x24f)](),_0x48508b[_0x56ae16(0x20d)](_interopRequireDefault,_0x5e4e33);}catch{return null;}})());function _interopRequireDefault(_0x1c889e){const _0x2b5d5a=a16_0x2ce9f1;return _0x1c889e&&_0x1c889e[_0x2b5d5a(0x1f2)]?_0x1c889e:{'default':_0x1c889e};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x2ce9f1(0x20e)]['Builder']:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x2ce9f1(0x20e)]{constructor(_0x567105){const _0x2b159f=a16_0x2ce9f1,_0x1facf4={'RKfeN':'quit','IDoVz':function(_0x3b0d0d,_0x3d127e){return _0x3b0d0d+_0x3d127e;},'fRoqB':_0x2b159f(0x21b),'nElxy':function(_0x41915f,_0x7c6af1){return _0x41915f(_0x7c6af1);},'kHpzV':_0x2b159f(0x212),'BWjSD':_0x2b159f(0x217),'CYjxr':'testEnvironmentOptions','rMDTC':'browserStackPercyOptions','XavCC':_0x2b159f(0x21e),'szRzf':function(_0x17d491,_0x5a5afe){return _0x17d491(_0x5a5afe);},'AeKGE':_0x2b159f(0x1fc),'UKwuH':_0x2b159f(0x221),'NrCDY':'percy'};super(_0x567105),this[_0x2b159f(0x206)][_0x2b159f(0x21f)]=0x0,this[_0x2b159f(0x22a)]={};!_0x567105[_0x2b159f(0x22e)]&&(_0x567105[_0x2b159f(0x22e)]={});if(helper[_0x2b159f(0x214)]()){_0x567105[_0x2b159f(0x22e)]=_0x567105[_0x2b159f(0x257)]?_0x567105[_0x2b159f(0x257)][_0x2b159f(0x22e)]:_0x567105[_0x2b159f(0x22e)];_seleniumWebdriver2&&(this[_0x2b159f(0x24a)]=new _seleniumWebdriver2[(_0x2b159f(0x20e))]['Builder']());this[_0x2b159f(0x208)]=_0x567105[_0x2b159f(0x257)]?_0x567105[_0x2b159f(0x257)][_0x2b159f(0x208)]:_0x567105['capability'],this[_0x2b159f(0x206)][_0x2b159f(0x21f)]=_0x1facf4[_0x2b159f(0x22f)](_0x567105[_0x2b159f(0x22e)]['timeout__']||0x1388,constants['BSTACK_DELTA']),this[_0x2b159f(0x207)]=_0x567105[_0x2b159f(0x22e)][_0x2b159f(0x231)];if(this['failFastOptions']){const _0x4128d2=this[_0x2b159f(0x208)][_0x1facf4[_0x2b159f(0x20f)]]?.['buildName']||'',_0x47490c=this[_0x2b159f(0x208)][_0x1facf4[_0x2b159f(0x20f)]]?.[_0x2b159f(0x21c)]||'';this[_0x2b159f(0x231)]=new(_0x1facf4[_0x2b159f(0x1f0)](require,_0x1facf4[_0x2b159f(0x209)]))(this[_0x2b159f(0x207)],_0x4128d2,_0x47490c),this[_0x2b159f(0x206)][_0x2b159f(0x1ee)]=![];}helper['isNotUndefined'](_0x567105[_0x2b159f(0x22e)]['retries__'])&&(this[_0x2b159f(0x206)][_0x2b159f(0x1f4)]=_0x567105[_0x2b159f(0x22e)][_0x2b159f(0x243)]);}if(testhubUtils[_0x2b159f(0x227)]()){const _0x2c0431=new ObservabilityReporter();_0x2c0431[_0x2b159f(0x23d)]();}this[_0x2b159f(0x206)][_0x2b159f(0x24c)]={},this[_0x2b159f(0x22a)]=_0x567105[_0x2b159f(0x22e)],this[_0x2b159f(0x22a)][_0x2b159f(0x24b)]=constants[_0x2b159f(0x1f6)][_0x2b159f(0x1fa)],this[_0x2b159f(0x206)]['browserstackPlatformIndex']=(_0x567105[_0x2b159f(0x257)]?_0x567105[_0x2b159f(0x257)][_0x2b159f(0x200)]:_0x567105[_0x2b159f(0x200)])||0x0,this[_0x2b159f(0x206)][_0x2b159f(0x22b)]=this[_0x2b159f(0x22a)]&&this[_0x2b159f(0x22a)]['platformCaps']&&Array[_0x2b159f(0x245)](this['configuration'][_0x2b159f(0x230)])&&this['configuration'][_0x2b159f(0x230)][this['global'][_0x2b159f(0x200)]]||{};const _0x2839d4=this['global']['browserstackPlatformIndex'],_0x2772a0={...this[_0x2b159f(0x22a)],'capability':this[_0x2b159f(0x22a)][_0x2b159f(0x218)]&&Array[_0x2b159f(0x245)](this['configuration'][_0x2b159f(0x218)])&&this[_0x2b159f(0x22a)][_0x2b159f(0x218)][_0x2839d4]||{},'platformCaps':this[_0x2b159f(0x22a)]['platformCaps']&&Array['isArray'](this[_0x2b159f(0x22a)]['platformCaps'])&&this['configuration']['platformCaps'][_0x2839d4]||{}};delete _0x2772a0[_0x2b159f(0x218)],this['global'][_0x2b159f(0x222)]=_0x2772a0;if(_seleniumWebdriver2){const _0x1ec832=_0x1facf4['BWjSD']['split']('|');let _0x53830e=0x0;while(!![]){switch(_0x1ec832[_0x53830e++]){case'0':this['global'][_0x2b159f(0x21e)]=helper[_0x2b159f(0x229)](_0x567105,[_0x1facf4[_0x2b159f(0x253)],_0x1facf4['rMDTC'],_0x1facf4['XavCC']]);continue;case'1':this[_0x2b159f(0x206)][_0x2b159f(0x1ec)]=_0x1facf4[_0x2b159f(0x220)](require,_0x1facf4[_0x2b159f(0x233)])['browserstackAgentV2']({...this[_0x2b159f(0x22a)],'capability':this['capability']||{}},this,testhubUtils[_0x2b159f(0x227)]());continue;case'2':this[_0x2b159f(0x206)][_0x2b159f(0x236)]=async()=>{await this['global']['driver']['quit'](_0x1facf4['RKfeN']);};continue;case'3':this[_0x2b159f(0x206)][_0x2b159f(0x221)]=helper[_0x2b159f(0x229)](_0x567105,[_0x1facf4[_0x2b159f(0x253)],_0x1facf4[_0x2b159f(0x1fb)],_0x1facf4[_0x2b159f(0x1fd)]]);continue;case'4':this[_0x2b159f(0x206)]['__skipSessionStatus']=helper['isTrue'](this[_0x2b159f(0x22a)][_0x2b159f(0x1ed)]);continue;case'5':this[_0x2b159f(0x206)][_0x2b159f(0x216)]=[];continue;case'6':this[_0x2b159f(0x206)][_0x2b159f(0x225)]=helper['nestedKeyValue'](_0x567105,[_0x1facf4[_0x2b159f(0x253)],_0x1facf4[_0x2b159f(0x1fb)],_0x1facf4[_0x2b159f(0x240)]]);continue;case'7':helper[_0x2b159f(0x223)](this[_0x2b159f(0x22a)]['skipSessionName'])?this[_0x2b159f(0x206)][_0x2b159f(0x226)]=!![]:this[_0x2b159f(0x206)][_0x2b159f(0x226)]=![];continue;}break;}}}async['teardown'](){const _0x1b847c=a16_0x2ce9f1;_seleniumWebdriver2&&(await helper[_0x1b847c(0x234)](this['global']['__driversArray']),this[_0x1b847c(0x206)][_0x1b847c(0x1ec)][_0x1b847c(0x242)]=originalBuilder),await RequestQueueHandler[_0x1b847c(0x252)]()[_0x1b847c(0x23f)]();}async[a16_0x2ce9f1(0x1f3)](){}async[a16_0x2ce9f1(0x256)](_0x43aef9,_0x10b4b7){const _0x44372c=a16_0x2ce9f1,_0x1b068e={};_0x1b068e['AlGRH']=function(_0x123f40,_0x12dc81){return _0x123f40===_0x12dc81;},_0x1b068e[_0x44372c(0x23a)]='test_start',_0x1b068e['lSZNZ']=function(_0x53a9a5,_0x5263c3){return _0x53a9a5===_0x5263c3;},_0x1b068e[_0x44372c(0x255)]=_0x44372c(0x219),_0x1b068e[_0x44372c(0x228)]=_0x44372c(0x23c),_0x1b068e['kYPOl']=_0x44372c(0x1e8),_0x1b068e['Majgc']=_0x44372c(0x237),_0x1b068e[_0x44372c(0x250)]=function(_0x1ab1e2,_0x49defa){return _0x1ab1e2===_0x49defa;},_0x1b068e[_0x44372c(0x1f7)]=_0x44372c(0x1f5);const _0x43395d=_0x1b068e,{name:_0x4095b8}=_0x43aef9;if(_0x43395d[_0x44372c(0x22c)](_0x4095b8,_0x43395d[_0x44372c(0x23a)])){this[_0x44372c(0x206)][_0x44372c(0x239)]=_0x43aef9['test'];if(_0x43395d[_0x44372c(0x1f8)](this[_0x44372c(0x206)][_0x44372c(0x1ee)],!![])){const _0x251f49=_0x43aef9[_0x44372c(0x248)]['name'];logger[_0x44372c(0x215)]('Fail-fast\x20is\x20active,\x20skipping\x20test::\x20'+_0x251f49),_0x43aef9[_0x44372c(0x248)][_0x44372c(0x254)]=_0x43395d['zNuRd'];}}if(this['failFast']&&_0x43395d[_0x44372c(0x22c)](_0x4095b8,_0x43395d[_0x44372c(0x228)]))try{const _0x31a2f3=_0x43aef9[_0x44372c(0x248)][_0x44372c(0x20a)][_0x44372c(0x1f9)](_0x43395d[_0x44372c(0x241)]),_0x29b931=_0x43aef9['test']['errors'];await this[_0x44372c(0x231)][_0x44372c(0x238)](_0x31a2f3,_0x29b931);const _0x417db0=await this['failFast'][_0x44372c(0x24e)]();_0x43395d[_0x44372c(0x1f8)](this[_0x44372c(0x206)][_0x44372c(0x1ee)],![])&&_0x43395d['lSZNZ'](_0x417db0,!![])&&(this[_0x44372c(0x206)]['failFastActive']=!![]);}catch(_0x372ddd){logger[_0x44372c(0x203)](_0x43395d['Majgc'],_0x372ddd[_0x44372c(0x251)]);}_0x43395d['iafKE'](_0x4095b8,_0x43395d[_0x44372c(0x1f7)])&&(this[_0x44372c(0x231)]&&this['failFast'][_0x44372c(0x236)]());}}module[a16_0x2ce9f1(0x201)]=CustomEnvironment;