const a16_0xc9a98f=a16_0x5dee;function a16_0x33dd(){const _0x82a58d=['BSTACK_DELTA','name','default','capability','NPorn','eHbDI','__timeout','node','info','handleTestEvent','registerListeners','__jestRetries','shouldProcessEventForTesthub','testEnvironmentOptions','rmfJR','jest-resolve','1jvcoZI','modifyCommand','jestConfig','percy','testPath','3357434BwetaH','__esModule','configuration','framework','debug','ceDTj','errors','cWhEC','shutdown','isTrue','browserstackPercyBestPlatform','OHBTx','platformCaps','brDPp','failFastOptions','isNotUndefined','../../../helpers/helper','1|0|3|5|6|7|4|2','isArray','winstonLogger','test_done','12504680dZmdMv','aFnmI','sessionNameProvided','browserstackAgentV2','JEST','skip','resolveTestEnvironment','../../../helpers/test-orchestration/failfastManager','cleanupDrivers','__platformCaps','capabilities','retries__','Builder','buildName','592739WFWeez','oDJVv','bstack:options','2867550TKCvue','BYmAU','env','locTt','LSdCv','OCssx','getTestEnvironment','nestedKeyValue','YVeSP','failFast','108oIyliC','builder','failFastActive','ZhHeD','__driversArray','quit','message','Error\x20in\x20fail-fast\x20test_done\x20handler:','teardown','FRAMEWORKS','../../../helpers/logger','getInstance','testContext','4809592WNXVUY','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','../../../helpers/testhub/utils','fWuZd','../../utils/constants','gglgI','__webdriver','projectConfig','qRGAU','44800515kMSpYn','projectName','browserStackPercyOptions','oddXF','requireSeleniumWebdriver','1783671MYZHCt','requireModule','test','dwQYg','jest-environment-node','exports','onTestDone','SbUmA','__drivers','percyCaptureMode','split','browserstackPlatformIndex','mode','\x20>\x20','global','skipSessionName','AHoXV','skipSessionStatus','BSTACK_JEST_TEST_ENV'];a16_0x33dd=function(){return _0x82a58d;};return a16_0x33dd();}(function(_0x1c7d7b,_0x414ea2){const _0x99bedc=a16_0x5dee,_0x2fa379=_0x1c7d7b();while(!![]){try{const _0x5ef3b4=parseInt(_0x99bedc(0x1de))/0x1*(-parseInt(_0x99bedc(0x1e3))/0x2)+-parseInt(_0x99bedc(0x1bb))/0x3+-parseInt(_0x99bedc(0x220))/0x4+-parseInt(_0x99bedc(0x209))/0x5+parseInt(_0x99bedc(0x213))/0x6*(-parseInt(_0x99bedc(0x206))/0x7)+parseInt(_0x99bedc(0x1f8))/0x8+parseInt(_0x99bedc(0x1b6))/0x9;if(_0x5ef3b4===_0x414ea2)break;else _0x2fa379['push'](_0x2fa379['shift']());}catch(_0x212587){_0x2fa379['push'](_0x2fa379['shift']());}}}(a16_0x33dd,0xec380));const helper=require(a16_0xc9a98f(0x1f3)),constants=require(a16_0xc9a98f(0x224)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require('../test-observability/obsReporter'),testhubUtils=require(a16_0xc9a98f(0x222)),logger=require(a16_0xc9a98f(0x21d))[a16_0xc9a98f(0x1f6)],getTestEnvironment=((()=>{const _0x1e98d3=a16_0xc9a98f,_0x3937c9={};_0x3937c9[_0x1e98d3(0x211)]=_0x1e98d3(0x1dd),_0x3937c9[_0x1e98d3(0x1ea)]='jest-config';const _0x21be9f=_0x3937c9;try{const _0x4b7720=helper['requireModule'](_0x21be9f[_0x1e98d3(0x211)]);if(_0x4b7720[_0x1e98d3(0x1fe)])return _0x4b7720[_0x1e98d3(0x1fe)];const _0x27bd76=helper[_0x1e98d3(0x1bc)](_0x21be9f[_0x1e98d3(0x1ea)]);if(_0x27bd76['getTestEnvironment'])return _0x27bd76[_0x1e98d3(0x20f)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x115806=a16_0xc9a98f,_0x76dd4d={'oddXF':function(_0x3e2814,_0x17f908){return _0x3e2814(_0x17f908);},'OHBTx':_0x115806(0x1d5),'SbUmA':_0x115806(0x1bf)},_0x21b9c8=_0x76dd4d[_0x115806(0x1b9)](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process[_0x115806(0x20b)][_0x115806(0x1cd)]||_0x76dd4d[_0x115806(0x1ee)]});if(!_0x21b9c8)return _0x76dd4d[_0x115806(0x1b9)](_interopRequireDefault,helper[_0x115806(0x1bc)](_0x76dd4d[_0x115806(0x1c2)]));return _0x76dd4d[_0x115806(0x1b9)](_interopRequireDefault,helper[_0x115806(0x1bc)](_0x21b9c8));})()),_seleniumWebdriver2=((()=>{const _0x52b7e8=a16_0xc9a98f,_0x109bfe={'fWuZd':function(_0x2e7f63,_0x249d31){return _0x2e7f63(_0x249d31);}};try{const _0x47dd2c=helper[_0x52b7e8(0x1ba)]();return helper[_0x52b7e8(0x1df)](),_0x109bfe[_0x52b7e8(0x223)](_interopRequireDefault,_0x47dd2c);}catch{return null;}})());function a16_0x5dee(_0x33a8a9,_0xf79e88){const _0x33ddd1=a16_0x33dd();return a16_0x5dee=function(_0x5dee77,_0x4e9948){_0x5dee77=_0x5dee77-0x1b2;let _0x56ede4=_0x33ddd1[_0x5dee77];return _0x56ede4;},a16_0x5dee(_0x33a8a9,_0xf79e88);}function _interopRequireDefault(_0x19ee2c){const _0x49b208=a16_0xc9a98f;return _0x19ee2c&&_0x19ee2c[_0x49b208(0x1e4)]?_0x19ee2c:{'default':_0x19ee2c};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0xc9a98f(0x1d0)][a16_0xc9a98f(0x204)]:null;class CustomEnvironment extends _jestUserEnvironment[a16_0xc9a98f(0x1d0)]{constructor(_0x5536cd){const _0x115579=a16_0xc9a98f,_0x11a6bf={'LSdCv':'quit','jhKcM':function(_0x880cb9,_0x1dd4a9){return _0x880cb9+_0x1dd4a9;},'ceDTj':_0x115579(0x208),'SrWCk':function(_0x1ffc79,_0x21f706){return _0x1ffc79(_0x21f706);},'NPorn':_0x115579(0x1ff),'XDMJs':_0x115579(0x1f4),'KksOb':function(_0x37939c,_0x308b36){return _0x37939c(_0x308b36);},'rmfJR':'../../../index','qRGAU':_0x115579(0x1db),'gglgI':_0x115579(0x1b8),'locTt':_0x115579(0x1ed),'AHoXV':_0x115579(0x1e1),'OCssx':'percyCaptureMode'};super(_0x5536cd),this[_0x115579(0x1c9)][_0x115579(0x1d4)]=0x0,this[_0x115579(0x1e5)]={};!_0x5536cd[_0x115579(0x1db)]&&(_0x5536cd['testEnvironmentOptions']={});if(helper['isBrowserstackInfra']()){_0x5536cd[_0x115579(0x1db)]=_0x5536cd['projectConfig']?_0x5536cd[_0x115579(0x1b4)][_0x115579(0x1db)]:_0x5536cd['testEnvironmentOptions'];_seleniumWebdriver2&&(this[_0x115579(0x214)]=new _seleniumWebdriver2[(_0x115579(0x1d0))]['Builder']());this[_0x115579(0x1d1)]=_0x5536cd[_0x115579(0x1b4)]?_0x5536cd[_0x115579(0x1b4)][_0x115579(0x1d1)]:_0x5536cd[_0x115579(0x1d1)],this[_0x115579(0x1c9)]['__timeout']=_0x11a6bf['jhKcM'](_0x5536cd[_0x115579(0x1db)]['timeout__']||0x1388,constants[_0x115579(0x1ce)]),this[_0x115579(0x1f1)]=_0x5536cd['testEnvironmentOptions'][_0x115579(0x212)];if(this['failFastOptions']){const _0x3784de=this[_0x115579(0x1d1)][_0x11a6bf['ceDTj']]?.[_0x115579(0x205)]||'',_0x200fb1=this[_0x115579(0x1d1)][_0x11a6bf[_0x115579(0x1e8)]]?.[_0x115579(0x1b7)]||'';this[_0x115579(0x212)]=new(_0x11a6bf['SrWCk'](require,_0x11a6bf[_0x115579(0x1d2)]))(this[_0x115579(0x1f1)],_0x3784de,_0x200fb1),this[_0x115579(0x1c9)][_0x115579(0x215)]=![];}helper[_0x115579(0x1f2)](_0x5536cd['testEnvironmentOptions']['retries__'])&&(this[_0x115579(0x1c9)][_0x115579(0x1d9)]=_0x5536cd[_0x115579(0x1db)][_0x115579(0x203)]);}if(testhubUtils[_0x115579(0x1da)]()){const _0x1507cf=new ObservabilityReporter();_0x1507cf[_0x115579(0x1d8)]();}this[_0x115579(0x1c9)]['browserStackGlobals']={},this['configuration']=_0x5536cd[_0x115579(0x1db)],this['configuration'][_0x115579(0x1e6)]=constants[_0x115579(0x21c)][_0x115579(0x1fc)],this[_0x115579(0x1c9)][_0x115579(0x1c6)]=(_0x5536cd['projectConfig']?_0x5536cd[_0x115579(0x1b4)][_0x115579(0x1c6)]:_0x5536cd[_0x115579(0x1c6)])||0x0,this['global'][_0x115579(0x201)]=this[_0x115579(0x1e5)]&&this[_0x115579(0x1e5)]['platformCaps']&&Array[_0x115579(0x1f5)](this['configuration'][_0x115579(0x1ef)])&&this[_0x115579(0x1e5)][_0x115579(0x1ef)][this[_0x115579(0x1c9)][_0x115579(0x1c6)]]||{};const _0x5d9850=this[_0x115579(0x1c9)][_0x115579(0x1c6)],_0x1210b0={...this['configuration'],'capability':this['configuration'][_0x115579(0x202)]&&Array['isArray'](this[_0x115579(0x1e5)][_0x115579(0x202)])&&this[_0x115579(0x1e5)][_0x115579(0x202)][_0x5d9850]||{},'platformCaps':this['configuration'][_0x115579(0x1ef)]&&Array['isArray'](this[_0x115579(0x1e5)]['platformCaps'])&&this['configuration'][_0x115579(0x1ef)][_0x5d9850]||{}};delete _0x1210b0[_0x115579(0x202)],this[_0x115579(0x1c9)][_0x115579(0x1e0)]=_0x1210b0;if(_seleniumWebdriver2){const _0x29fae7=_0x11a6bf['XDMJs'][_0x115579(0x1c5)]('|');let _0x197b81=0x0;while(!![]){switch(_0x29fae7[_0x197b81++]){case'0':this['global'][_0x115579(0x1b3)]=_0x11a6bf['KksOb'](require,_0x11a6bf[_0x115579(0x1dc)])[_0x115579(0x1fb)]({...this[_0x115579(0x1e5)],'capability':this[_0x115579(0x1d1)]||{}},this,testhubUtils[_0x115579(0x1da)]());continue;case'1':this['global'][_0x115579(0x1c3)]=[];continue;case'2':this[_0x115579(0x1c9)]['cleanup']=async()=>{const _0x7721c=_0x115579;await this[_0x7721c(0x1c9)]['driver'][_0x7721c(0x218)](_0x11a6bf[_0x7721c(0x20d)]);};continue;case'3':this['global'][_0x115579(0x1ed)]=helper[_0x115579(0x210)](_0x5536cd,[_0x11a6bf[_0x115579(0x1b5)],_0x11a6bf[_0x115579(0x1b2)],_0x11a6bf[_0x115579(0x20c)]]);continue;case'4':this[_0x115579(0x1c9)]['__skipSessionStatus']=helper[_0x115579(0x1ec)](this[_0x115579(0x1e5)][_0x115579(0x1cc)]);continue;case'5':this[_0x115579(0x1c9)]['percy']=helper[_0x115579(0x210)](_0x5536cd,[_0x11a6bf[_0x115579(0x1b5)],_0x11a6bf[_0x115579(0x1b2)],_0x11a6bf[_0x115579(0x1cb)]]);continue;case'6':this['global'][_0x115579(0x1c4)]=helper['nestedKeyValue'](_0x5536cd,[_0x11a6bf[_0x115579(0x1b5)],_0x11a6bf[_0x115579(0x1b2)],_0x11a6bf[_0x115579(0x20e)]]);continue;case'7':helper[_0x115579(0x1ec)](this[_0x115579(0x1e5)][_0x115579(0x1ca)])?this['global'][_0x115579(0x1fa)]=!![]:this[_0x115579(0x1c9)][_0x115579(0x1fa)]=![];continue;}break;}}}async[a16_0xc9a98f(0x21b)](){const _0x1eb88d=a16_0xc9a98f;_seleniumWebdriver2&&(await helper[_0x1eb88d(0x200)](this[_0x1eb88d(0x1c9)][_0x1eb88d(0x217)]),this['global'][_0x1eb88d(0x1b3)]['Builder']=originalBuilder),await RequestQueueHandler[_0x1eb88d(0x21e)]()[_0x1eb88d(0x1eb)]();}async['setup'](){}async[a16_0xc9a98f(0x1d7)](_0x232f67,_0x43e3f0){const _0x183cbe=a16_0xc9a98f,_0x1c1865={};_0x1c1865[_0x183cbe(0x1f9)]=function(_0x3219d3,_0x59e2e9){return _0x3219d3===_0x59e2e9;},_0x1c1865[_0x183cbe(0x1be)]='test_start',_0x1c1865[_0x183cbe(0x216)]=_0x183cbe(0x1fd),_0x1c1865[_0x183cbe(0x207)]=_0x183cbe(0x1f7),_0x1c1865[_0x183cbe(0x20a)]=_0x183cbe(0x1c8),_0x1c1865[_0x183cbe(0x1d3)]=_0x183cbe(0x21a),_0x1c1865['brDPp']=function(_0x142acd,_0x2d4a71){return _0x142acd===_0x2d4a71;},_0x1c1865['uNObC']=_0x183cbe(0x21b);const _0x425437=_0x1c1865,{name:_0x3e8583}=_0x232f67;if(_0x425437[_0x183cbe(0x1f9)](_0x3e8583,_0x425437[_0x183cbe(0x1be)])){this[_0x183cbe(0x1c9)][_0x183cbe(0x21f)]=_0x232f67[_0x183cbe(0x1bd)];if(_0x425437[_0x183cbe(0x1f9)](this['global']['failFastActive'],!![])){const _0x4303a0=_0x232f67[_0x183cbe(0x1bd)][_0x183cbe(0x1cf)];logger[_0x183cbe(0x1d6)](_0x183cbe(0x221)+_0x4303a0),_0x232f67[_0x183cbe(0x1bd)][_0x183cbe(0x1c7)]=_0x425437['ZhHeD'];}}if(this[_0x183cbe(0x212)]&&_0x425437[_0x183cbe(0x1f9)](_0x3e8583,_0x425437[_0x183cbe(0x207)]))try{const _0x280615=_0x232f67[_0x183cbe(0x1bd)][_0x183cbe(0x1e2)]['join'](_0x425437[_0x183cbe(0x20a)]),_0x2a2fe8=_0x232f67[_0x183cbe(0x1bd)][_0x183cbe(0x1e9)];await this[_0x183cbe(0x212)][_0x183cbe(0x1c1)](_0x280615,_0x2a2fe8);const _0x2684f5=await this[_0x183cbe(0x212)]['shouldFailFast']();_0x425437[_0x183cbe(0x1f9)](this['global']['failFastActive'],![])&&_0x425437['aFnmI'](_0x2684f5,!![])&&(this[_0x183cbe(0x1c9)][_0x183cbe(0x215)]=!![]);}catch(_0x4a4b7e){logger[_0x183cbe(0x1e7)](_0x425437[_0x183cbe(0x1d3)],_0x4a4b7e[_0x183cbe(0x219)]);}_0x425437[_0x183cbe(0x1f0)](_0x3e8583,_0x425437['uNObC'])&&(this['failFast']&&this[_0x183cbe(0x212)]['cleanup']());}}module[a16_0xc9a98f(0x1c0)]=CustomEnvironment;