const a16_0x44dca4=a16_0x5f5e;function a16_0x5f5e(_0x1b9806,_0x1a6bf4){const _0x557fa0=a16_0x557f();return a16_0x5f5e=function(_0x5f5e9d,_0x417fb7){_0x5f5e9d=_0x5f5e9d-0x16c;let _0x211162=_0x557fa0[_0x5f5e9d];return _0x211162;},a16_0x5f5e(_0x1b9806,_0x1a6bf4);}(function(_0x1e1b32,_0x8e9b5b){const _0x90d2df=a16_0x5f5e,_0x23d923=_0x1e1b32();while(!![]){try{const _0x2db0cb=parseInt(_0x90d2df(0x1a1))/0x1+parseInt(_0x90d2df(0x18e))/0x2+-parseInt(_0x90d2df(0x1a2))/0x3*(-parseInt(_0x90d2df(0x186))/0x4)+parseInt(_0x90d2df(0x17a))/0x5*(-parseInt(_0x90d2df(0x172))/0x6)+parseInt(_0x90d2df(0x19b))/0x7*(parseInt(_0x90d2df(0x1a3))/0x8)+parseInt(_0x90d2df(0x1d0))/0x9*(-parseInt(_0x90d2df(0x1d9))/0xa)+-parseInt(_0x90d2df(0x1c6))/0xb;if(_0x2db0cb===_0x8e9b5b)break;else _0x23d923['push'](_0x23d923['shift']());}catch(_0x563714){_0x23d923['push'](_0x23d923['shift']());}}}(a16_0x557f,0xc2410));const helper=require('../../../helpers/helper'),constants=require(a16_0x44dca4(0x1bc)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require(a16_0x44dca4(0x193)),ObservabilityReporter=require('../test-observability/obsReporter'),testhubUtils=require(a16_0x44dca4(0x1ab)),logger=require(a16_0x44dca4(0x1d5))[a16_0x44dca4(0x182)],getTestEnvironment=((()=>{const _0x2dcf30=a16_0x44dca4,_0x36dd40={};_0x36dd40[_0x2dcf30(0x1ce)]=_0x2dcf30(0x177),_0x36dd40['kBcjZ']='jest-config';const _0x1d2bdf=_0x36dd40;try{const _0x3da1ff=helper[_0x2dcf30(0x1aa)](_0x1d2bdf[_0x2dcf30(0x1ce)]);if(_0x3da1ff['resolveTestEnvironment'])return _0x3da1ff[_0x2dcf30(0x192)];const _0x365a7b=helper[_0x2dcf30(0x1aa)](_0x1d2bdf[_0x2dcf30(0x1b1)]);if(_0x365a7b[_0x2dcf30(0x1d3)])return _0x365a7b[_0x2dcf30(0x1d3)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x75e400=a16_0x44dca4,_0xce629e={'Huufe':function(_0xbaaa67,_0x2fca5e){return _0xbaaa67(_0x2fca5e);},'wPgob':'node','GgWrp':_0x75e400(0x1ac)},_0x264c27=_0xce629e[_0x75e400(0x179)](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process[_0x75e400(0x17b)][_0x75e400(0x1bf)]||_0xce629e[_0x75e400(0x1a8)]});if(!_0x264c27)return _0xce629e[_0x75e400(0x179)](_interopRequireDefault,helper[_0x75e400(0x1aa)](_0xce629e[_0x75e400(0x1c7)]));return _0xce629e[_0x75e400(0x179)](_interopRequireDefault,helper[_0x75e400(0x1aa)](_0x264c27));})()),_seleniumWebdriver2=((()=>{const _0x3ca6ec=a16_0x44dca4,_0x2011b9={'VRjqg':function(_0x35bb7b,_0x34ba81){return _0x35bb7b(_0x34ba81);}};try{const _0x5c1d8d=helper[_0x3ca6ec(0x1af)]();return helper[_0x3ca6ec(0x19c)](),_0x2011b9[_0x3ca6ec(0x18f)](_interopRequireDefault,_0x5c1d8d);}catch{return null;}})());function _interopRequireDefault(_0x4e91fe){const _0x55a16a=a16_0x44dca4;return _0x4e91fe&&_0x4e91fe[_0x55a16a(0x1b0)]?_0x4e91fe:{'default':_0x4e91fe};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2['default'][a16_0x44dca4(0x178)]:null;class CustomEnvironment extends _jestUserEnvironment['default']{constructor(_0x594a99){const _0x3281fa=a16_0x44dca4,_0x4f6007={'nOFnb':_0x3281fa(0x1c4),'dprRs':function(_0x32dfb3,_0x5c787c){return _0x32dfb3+_0x5c787c;},'WpJYj':_0x3281fa(0x1cf),'DCymV':function(_0x3cec53,_0x220e1f){return _0x3cec53(_0x220e1f);},'jkDWy':_0x3281fa(0x16e),'PMmHm':'3|1|7|0|5|8|9|4|2|6','agRnS':'testEnvironmentOptions','EvRvP':_0x3281fa(0x199),'zjbkw':_0x3281fa(0x174),'uXkTi':_0x3281fa(0x1b3),'hVtvL':_0x3281fa(0x1a4),'asiyB':_0x3281fa(0x180),'gtXGi':_0x3281fa(0x190)};super(_0x594a99),this[_0x3281fa(0x1a7)][_0x3281fa(0x1c1)]=0x0,this[_0x3281fa(0x18d)]={};!_0x594a99[_0x3281fa(0x1a5)]&&(_0x594a99[_0x3281fa(0x1a5)]={});if(helper[_0x3281fa(0x184)]()){_0x594a99[_0x3281fa(0x1a5)]=_0x594a99[_0x3281fa(0x1ae)]?_0x594a99[_0x3281fa(0x1ae)][_0x3281fa(0x1a5)]:_0x594a99[_0x3281fa(0x1a5)],this[_0x3281fa(0x16f)]=new _seleniumWebdriver2[(_0x3281fa(0x1be))][(_0x3281fa(0x178))](),this[_0x3281fa(0x1d7)]=_0x594a99[_0x3281fa(0x1ae)]?_0x594a99['projectConfig'][_0x3281fa(0x1d7)]:_0x594a99[_0x3281fa(0x1d7)],this[_0x3281fa(0x1a7)][_0x3281fa(0x1c1)]=_0x4f6007[_0x3281fa(0x18b)](this[_0x3281fa(0x18d)][_0x3281fa(0x1c5)],constants[_0x3281fa(0x1bb)]),this[_0x3281fa(0x198)]=_0x594a99[_0x3281fa(0x1a5)][_0x3281fa(0x183)];if(this[_0x3281fa(0x198)]){const _0x3c526e=this[_0x3281fa(0x1d7)][_0x4f6007['WpJYj']]?.[_0x3281fa(0x1ad)]||'',_0x52c0a2=this[_0x3281fa(0x1d7)][_0x4f6007[_0x3281fa(0x1c2)]]?.[_0x3281fa(0x17c)]||'';this['failFast']=new(_0x4f6007[_0x3281fa(0x171)](require,_0x4f6007['jkDWy']))(this['failFastOptions'],_0x3c526e,_0x52c0a2),this[_0x3281fa(0x1a7)]['failFastActive']=![];}helper[_0x3281fa(0x1ca)](this[_0x3281fa(0x18d)][_0x3281fa(0x1a9)])&&(this[_0x3281fa(0x1a7)]['__jestRetries']=this[_0x3281fa(0x18d)][_0x3281fa(0x1a9)]);}if(testhubUtils[_0x3281fa(0x1c9)]()){const _0x7cd5a0=new ObservabilityReporter();_0x7cd5a0[_0x3281fa(0x185)]();}this[_0x3281fa(0x1a7)][_0x3281fa(0x1cc)]={},this[_0x3281fa(0x18d)]=_0x594a99[_0x3281fa(0x1a5)],this['configuration'][_0x3281fa(0x191)]=constants[_0x3281fa(0x1d4)]['JEST'];if(_seleniumWebdriver2){const _0x313776=_0x4f6007[_0x3281fa(0x1c0)]['split']('|');let _0x522ae5=0x0;while(!![]){switch(_0x313776[_0x522ae5++]){case'0':this[_0x3281fa(0x1a7)]['browserstackPercyBestPlatform']=helper[_0x3281fa(0x19f)](_0x594a99,[_0x4f6007[_0x3281fa(0x181)],_0x4f6007[_0x3281fa(0x1bd)],_0x4f6007[_0x3281fa(0x1d8)]]);continue;case'1':this['global'][_0x3281fa(0x18a)]=_0x4f6007[_0x3281fa(0x171)](require,_0x4f6007[_0x3281fa(0x16c)])[_0x3281fa(0x16d)]({...this[_0x3281fa(0x18d)],'capability':this[_0x3281fa(0x1d7)]||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;case'2':this[_0x3281fa(0x1a7)][_0x3281fa(0x17d)]=helper['isTrue'](this[_0x3281fa(0x18d)]['skipSessionStatus']);continue;case'3':this[_0x3281fa(0x1a7)][_0x3281fa(0x1a0)]=[];continue;case'4':helper[_0x3281fa(0x1b5)](this[_0x3281fa(0x18d)][_0x3281fa(0x19e)])?this[_0x3281fa(0x1a7)][_0x3281fa(0x1ba)]=!![]:this[_0x3281fa(0x1a7)][_0x3281fa(0x1ba)]=![];continue;case'5':this[_0x3281fa(0x1a7)][_0x3281fa(0x1a4)]=helper[_0x3281fa(0x19f)](_0x594a99,[_0x4f6007[_0x3281fa(0x181)],_0x4f6007[_0x3281fa(0x1bd)],_0x4f6007[_0x3281fa(0x173)]]);continue;case'6':this[_0x3281fa(0x1a7)][_0x3281fa(0x196)]=async()=>{const _0xb102f1=_0x3281fa;await this['global']['driver'][_0xb102f1(0x1c4)](_0x4f6007[_0xb102f1(0x197)]);};continue;case'7':this[_0x3281fa(0x1a7)]['browserstackPlatformIndex']=(_0x594a99['projectConfig']?_0x594a99[_0x3281fa(0x1ae)][_0x3281fa(0x176)]:_0x594a99[_0x3281fa(0x176)])||0x0;continue;case'8':this[_0x3281fa(0x1a7)][_0x3281fa(0x180)]=helper[_0x3281fa(0x19f)](_0x594a99,[_0x4f6007[_0x3281fa(0x181)],_0x4f6007['EvRvP'],_0x4f6007[_0x3281fa(0x194)]]);continue;case'9':this[_0x3281fa(0x1a7)]['__platformCaps']=helper['nestedKeyValue'](this[_0x3281fa(0x18d)],[_0x4f6007['gtXGi'],this[_0x3281fa(0x1a7)]['browserstackPlatformIndex']])||{};continue;}break;}}}async[a16_0x44dca4(0x188)](){const _0x4f1391=a16_0x44dca4;_seleniumWebdriver2&&(await helper[_0x4f1391(0x1a6)](this[_0x4f1391(0x1a7)]['__driversArray']),this[_0x4f1391(0x1a7)][_0x4f1391(0x18a)]['Builder']=originalBuilder),await RequestQueueHandler['getInstance']()['shutdown']();}async['setup'](){}async[a16_0x44dca4(0x1d6)](_0x33c96a,_0x48bc22){const _0x2271c3=a16_0x44dca4,_0x1765dc={};_0x1765dc[_0x2271c3(0x19d)]=function(_0x497704,_0x47da4d){return _0x497704===_0x47da4d;},_0x1765dc['mIBSF']=_0x2271c3(0x1b9),_0x1765dc[_0x2271c3(0x187)]=function(_0x49f389,_0x4836d2){return _0x49f389===_0x4836d2;},_0x1765dc['UUkvb']='skip',_0x1765dc[_0x2271c3(0x18c)]=_0x2271c3(0x1d1),_0x1765dc['Bktiz']='\x20>\x20',_0x1765dc[_0x2271c3(0x1b4)]=function(_0x47348a,_0x4bf699){return _0x47348a===_0x4bf699;},_0x1765dc[_0x2271c3(0x1b2)]='Error\x20in\x20fail-fast\x20test_done\x20handler:',_0x1765dc[_0x2271c3(0x189)]=function(_0x23b2e6,_0x2845d6){return _0x23b2e6===_0x2845d6;},_0x1765dc[_0x2271c3(0x17e)]=_0x2271c3(0x188);const _0x2ff047=_0x1765dc,{name:_0x3f5033}=_0x33c96a;if(_0x2ff047[_0x2271c3(0x19d)](_0x3f5033,_0x2ff047['mIBSF'])){this['global'][_0x2271c3(0x17f)]=_0x33c96a['test'];if(_0x2ff047[_0x2271c3(0x187)](this[_0x2271c3(0x1a7)][_0x2271c3(0x170)],!![])){const _0x522454=_0x33c96a[_0x2271c3(0x1b7)][_0x2271c3(0x1b6)];logger[_0x2271c3(0x1c8)](_0x2271c3(0x1d2)+_0x522454),_0x33c96a[_0x2271c3(0x1b7)][_0x2271c3(0x1cd)]=_0x2ff047[_0x2271c3(0x1c3)];}}if(this[_0x2271c3(0x183)]&&_0x2ff047[_0x2271c3(0x187)](_0x3f5033,_0x2ff047[_0x2271c3(0x18c)]))try{const _0x3213f3=_0x33c96a['test'][_0x2271c3(0x175)]['join'](_0x2ff047[_0x2271c3(0x195)]),_0x40a3cf=_0x33c96a[_0x2271c3(0x1b7)]['errors'];await this['failFast']['onTestDone'](_0x3213f3,_0x40a3cf);const _0x382663=await this[_0x2271c3(0x183)][_0x2271c3(0x1b8)]();_0x2ff047['yQETi'](this[_0x2271c3(0x1a7)][_0x2271c3(0x170)],![])&&_0x2ff047[_0x2271c3(0x1b4)](_0x382663,!![])&&(this[_0x2271c3(0x1a7)]['failFastActive']=!![]);}catch(_0x54cfa0){logger[_0x2271c3(0x1cb)](_0x2ff047[_0x2271c3(0x1b2)],_0x54cfa0['message']);}_0x2ff047[_0x2271c3(0x189)](_0x3f5033,_0x2ff047[_0x2271c3(0x17e)])&&(this[_0x2271c3(0x183)]&&this[_0x2271c3(0x183)][_0x2271c3(0x196)]());}}module[a16_0x44dca4(0x19a)]=CustomEnvironment;function a16_0x557f(){const _0x2301e2=['BSTACK_DELTA','../../utils/constants','EvRvP','default','BSTACK_JEST_TEST_ENV','PMmHm','__timeout','WpJYj','UUkvb','quit','timeout__','29438387dBACBb','GgWrp','info','shouldProcessEventForTesthub','isNotUndefined','debug','browserStackGlobals','mode','rssRg','bstack:options','9ceySmm','test_done','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','getTestEnvironment','FRAMEWORKS','../../../helpers/logger','handleTestEvent','capability','zjbkw','2930XCIkuA','uXkTi','browserstackAgentV2','../../../helpers/test-orchestration/failfastManager','builder','failFastActive','DCymV','1722NARWsq','hVtvL','browserstackPercyBestPlatform','testPath','browserstackPlatformIndex','jest-resolve','Builder','Huufe','9705IomizS','env','projectName','__skipSessionStatus','nZLbo','testContext','percyCaptureMode','agRnS','winstonLogger','failFast','isBrowserstackInfra','registerListeners','4960MXUdJR','KxaIo','teardown','fyIMN','__webdriver','dprRs','PXDjl','configuration','2836476HLLUQc','VRjqg','platformCaps','framework','resolveTestEnvironment','../../../helpers/test-observability/requestQueueHandler','asiyB','Bktiz','cleanup','nOFnb','failFastOptions','browserStackPercyOptions','exports','1684487JtaOgl','modifyCommand','yQETi','skipSessionName','nestedKeyValue','__drivers','1545519BVDTtw','249mZTXzz','32KRpCsD','percy','testEnvironmentOptions','cleanupDrivers','global','wPgob','retries__','requireModule','../../../helpers/testhub/utils','jest-environment-node','buildName','projectConfig','requireSeleniumWebdriver','__esModule','kBcjZ','ughzY','../../../index','OyxZs','isTrue','name','test','shouldFailFast','test_start','sessionNameProvided'];a16_0x557f=function(){return _0x2301e2;};return a16_0x557f();}