const a16_0x21b157=a16_0x3277;(function(_0x1085df,_0x3aa6f8){const _0x139dbc=a16_0x3277,_0x465e3b=_0x1085df();while(!![]){try{const _0x43758d=-parseInt(_0x139dbc(0x20e))/0x1+-parseInt(_0x139dbc(0x1ef))/0x2+parseInt(_0x139dbc(0x1fb))/0x3+parseInt(_0x139dbc(0x22a))/0x4+parseInt(_0x139dbc(0x1fe))/0x5*(-parseInt(_0x139dbc(0x1f3))/0x6)+-parseInt(_0x139dbc(0x23a))/0x7+-parseInt(_0x139dbc(0x1e0))/0x8*(-parseInt(_0x139dbc(0x1df))/0x9);if(_0x43758d===_0x3aa6f8)break;else _0x465e3b['push'](_0x465e3b['shift']());}catch(_0x4f1543){_0x465e3b['push'](_0x465e3b['shift']());}}}(a16_0x3162,0xf23ad));function a16_0x3162(){const _0x5c9670=['jest-config','getTestEnvironment','__timeout','teardown','llxPx','../../../helpers/testhub/utils','FRAMEWORKS','35481681iszeVd','8IBUejP','requireSeleniumWebdriver','mAuSs','failFast','fODCL','njvhG','ECRHd','test_done','projectConfig','env','../../../helpers/test-observability/requestQueueHandler','jest-resolve','KCdPI','global','isNotUndefined','2391758HGGnBX','setup','test','meUpR','11281140zEmyPR','resolveTestEnvironment','info','browserStackGlobals','timeout__','errors','configuration','retries__','4838853cykxZz','pxQLx','../../../helpers/helper','5mMEoPW','testPath','jnlTZ','buildName','\x20>\x20','FVlmC','__driversArray','debug','ZPxfW','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','__drivers','nDokj','sessionNameProvided','message','QtLBl','failFastActive','1669393taTDUW','quit','platformCaps','shouldFailFast','onTestDone','capability','NIvYa','default','exports','testContext','__skipSessionStatus','requireModule','nestedKeyValue','cleanupDrivers','split','HOhCo','WYxmv','join','JEST','browserstackAgentV2','BgUHc','testEnvironmentOptions','node','Builder','shutdown','isBrowserstackInfra','shouldProcessEventForTesthub','Error\x20in\x20fail-fast\x20test_done\x20handler:','7395544RDSrDL','builder','winstonLogger','failFastOptions','getInstance','../../../index','cwd','blsac','3|1|2|9|8|4|7|5|6|0','projectName','browserStackPercyOptions','BSTACK_DELTA','__esModule','percyCaptureMode','skip','NCiFT','11666277JdjNRG','qKAHc','browserstackPercyBestPlatform','percy','__webdriver','../../../helpers/test-observability/utils','../test-observability/obsReporter','Xutku','bNGCm','../../../helpers/logger','browserstackPlatformIndex','hhKsT','test_start'];a16_0x3162=function(){return _0x5c9670;};return a16_0x3162();}function a16_0x3277(_0x3b18fb,_0xc56d90){const _0x31620c=a16_0x3162();return a16_0x3277=function(_0x327777,_0x105970){_0x327777=_0x327777-0x1d8;let _0x20df5b=_0x31620c[_0x327777];return _0x20df5b;},a16_0x3277(_0x3b18fb,_0xc56d90);}const helper=require(a16_0x21b157(0x1fd)),constants=require('../../utils/constants'),{isTestObservabilitySession}=require(a16_0x21b157(0x23f)),RequestQueueHandler=require(a16_0x21b157(0x1ea)),ObservabilityReporter=require(a16_0x21b157(0x240)),testhubUtils=require(a16_0x21b157(0x1dd)),logger=require(a16_0x21b157(0x243))[a16_0x21b157(0x22c)],getTestEnvironment=((()=>{const _0x4745b7=a16_0x21b157,_0x1b38b6={};_0x1b38b6['llxPx']=_0x4745b7(0x1eb),_0x1b38b6[_0x4745b7(0x1e4)]=_0x4745b7(0x1d8);const _0x317b16=_0x1b38b6;try{const _0x23af31=helper['requireModule'](_0x317b16[_0x4745b7(0x1dc)]);if(_0x23af31[_0x4745b7(0x1f4)])return _0x23af31[_0x4745b7(0x1f4)];const _0x43daca=helper[_0x4745b7(0x219)](_0x317b16[_0x4745b7(0x1e4)]);if(_0x43daca[_0x4745b7(0x1d9)])return _0x43daca[_0x4745b7(0x1d9)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x191f0e=a16_0x21b157,_0x2bcb01={'njvhG':function(_0x1426b0,_0x363681){return _0x1426b0(_0x363681);},'eCwmM':_0x191f0e(0x224),'jnlTZ':function(_0x464a05,_0x5eb912){return _0x464a05(_0x5eb912);},'mAuSs':'jest-environment-node'},_0x37a12a=_0x2bcb01['njvhG'](getTestEnvironment,{'rootDir':process[_0x191f0e(0x230)](),'testEnvironment':process[_0x191f0e(0x1e9)]['BSTACK_JEST_TEST_ENV']||_0x2bcb01['eCwmM']});if(!_0x37a12a)return _0x2bcb01[_0x191f0e(0x200)](_interopRequireDefault,helper['requireModule'](_0x2bcb01[_0x191f0e(0x1e2)]));return _0x2bcb01[_0x191f0e(0x1e5)](_interopRequireDefault,helper[_0x191f0e(0x219)](_0x37a12a));})()),_seleniumWebdriver2=((()=>{const _0x2ef361=a16_0x21b157,_0xd7f1c9={'meUXn':function(_0x36ab86,_0x111ebb){return _0x36ab86(_0x111ebb);}};try{const _0x3f00c0=helper[_0x2ef361(0x1e1)]();return helper['modifyCommand'](),_0xd7f1c9['meUXn'](_interopRequireDefault,_0x3f00c0);}catch{return null;}})());function _interopRequireDefault(_0x392dcc){const _0x2589d0=a16_0x21b157;return _0x392dcc&&_0x392dcc[_0x2589d0(0x236)]?_0x392dcc:{'default':_0x392dcc};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x21b157(0x215)][a16_0x21b157(0x225)]:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x21b157(0x215)]{constructor(_0x37b450){const _0x4727cc=a16_0x21b157,_0xbf0e8d={'nDokj':_0x4727cc(0x20f),'ECRHd':function(_0x7b7737,_0x581d29){return _0x7b7737+_0x581d29;},'WYxmv':'bstack:options','NCiFT':function(_0x2c8365,_0x182050){return _0x2c8365(_0x182050);},'ONWxH':'../../../helpers/test-orchestration/failfastManager','FVlmC':_0x4727cc(0x232),'meUpR':_0x4727cc(0x22f),'BgUHc':_0x4727cc(0x223),'ZPxfW':_0x4727cc(0x234),'NIvYa':_0x4727cc(0x237),'KCdPI':_0x4727cc(0x210),'qKAHc':_0x4727cc(0x23d),'iuHNJ':_0x4727cc(0x23c)};super(_0x37b450),this['global'][_0x4727cc(0x1da)]=0x0,this[_0x4727cc(0x1f9)]={};!_0x37b450[_0x4727cc(0x223)]&&(_0x37b450['testEnvironmentOptions']={});if(helper[_0x4727cc(0x227)]()){_0x37b450[_0x4727cc(0x223)]=_0x37b450[_0x4727cc(0x1e8)]?_0x37b450[_0x4727cc(0x1e8)]['testEnvironmentOptions']:_0x37b450['testEnvironmentOptions'],this[_0x4727cc(0x22b)]=new _seleniumWebdriver2[(_0x4727cc(0x215))]['Builder'](),this['capability']=_0x37b450[_0x4727cc(0x1e8)]?_0x37b450[_0x4727cc(0x1e8)][_0x4727cc(0x213)]:_0x37b450['capability'],this[_0x4727cc(0x1ed)][_0x4727cc(0x1da)]=_0xbf0e8d[_0x4727cc(0x1e6)](this['configuration'][_0x4727cc(0x1f7)],constants[_0x4727cc(0x235)]),this['failFastOptions']=_0x37b450[_0x4727cc(0x223)][_0x4727cc(0x1e3)];if(this[_0x4727cc(0x22d)]){const _0xff04bd=this[_0x4727cc(0x213)][_0xbf0e8d[_0x4727cc(0x21e)]]?.[_0x4727cc(0x201)]||'',_0x3d0c0d=this['capability'][_0xbf0e8d[_0x4727cc(0x21e)]]?.[_0x4727cc(0x233)]||'';this[_0x4727cc(0x1e3)]=new(_0xbf0e8d[_0x4727cc(0x239)](require,_0xbf0e8d['ONWxH']))(this[_0x4727cc(0x22d)],_0xff04bd,_0x3d0c0d),this['global']['failFastActive']=![];}helper[_0x4727cc(0x1ee)](this[_0x4727cc(0x1f9)][_0x4727cc(0x1fa)])&&(this[_0x4727cc(0x1ed)]['__jestRetries']=this[_0x4727cc(0x1f9)][_0x4727cc(0x1fa)]);}if(testhubUtils[_0x4727cc(0x228)]()){const _0x435fb4=new ObservabilityReporter();_0x435fb4['registerListeners']();}this[_0x4727cc(0x1ed)][_0x4727cc(0x1f6)]={},this[_0x4727cc(0x1f9)]=_0x37b450['testEnvironmentOptions'],this['configuration']['framework']=constants[_0x4727cc(0x1de)][_0x4727cc(0x220)];if(_seleniumWebdriver2){const _0x3cfe03=_0xbf0e8d[_0x4727cc(0x203)][_0x4727cc(0x21c)]('|');let _0x57b00f=0x0;while(!![]){switch(_0x3cfe03[_0x57b00f++]){case'0':this[_0x4727cc(0x1ed)]['cleanup']=async()=>{const _0x83b45=_0x4727cc;await this[_0x83b45(0x1ed)]['driver']['quit'](_0xbf0e8d[_0x83b45(0x209)]);};continue;case'1':this[_0x4727cc(0x1ed)][_0x4727cc(0x23e)]=_0xbf0e8d['NCiFT'](require,_0xbf0e8d[_0x4727cc(0x1f2)])[_0x4727cc(0x221)]({...this[_0x4727cc(0x1f9)],'capability':this[_0x4727cc(0x213)]||{}},this,testhubUtils[_0x4727cc(0x228)]());continue;case'2':this[_0x4727cc(0x1ed)]['browserstackPlatformIndex']=(_0x37b450[_0x4727cc(0x1e8)]?_0x37b450[_0x4727cc(0x1e8)][_0x4727cc(0x244)]:_0x37b450[_0x4727cc(0x244)])||0x0;continue;case'3':this['global'][_0x4727cc(0x208)]=[];continue;case'4':this[_0x4727cc(0x1ed)][_0x4727cc(0x237)]=helper['nestedKeyValue'](_0x37b450,[_0xbf0e8d['BgUHc'],_0xbf0e8d['ZPxfW'],_0xbf0e8d[_0x4727cc(0x214)]]);continue;case'5':helper['isTrue'](this['configuration']['skipSessionName'])?this[_0x4727cc(0x1ed)][_0x4727cc(0x20a)]=!![]:this[_0x4727cc(0x1ed)][_0x4727cc(0x20a)]=![];continue;case'6':this[_0x4727cc(0x1ed)][_0x4727cc(0x218)]=helper['isTrue'](this[_0x4727cc(0x1f9)]['skipSessionStatus']);continue;case'7':this[_0x4727cc(0x1ed)]['__platformCaps']=helper[_0x4727cc(0x21a)](this['configuration'],[_0xbf0e8d[_0x4727cc(0x1ec)],this['global'][_0x4727cc(0x244)]])||{};continue;case'8':this[_0x4727cc(0x1ed)][_0x4727cc(0x23d)]=helper[_0x4727cc(0x21a)](_0x37b450,[_0xbf0e8d['BgUHc'],_0xbf0e8d[_0x4727cc(0x206)],_0xbf0e8d[_0x4727cc(0x23b)]]);continue;case'9':this[_0x4727cc(0x1ed)][_0x4727cc(0x23c)]=helper[_0x4727cc(0x21a)](_0x37b450,[_0xbf0e8d[_0x4727cc(0x222)],_0xbf0e8d[_0x4727cc(0x206)],_0xbf0e8d['iuHNJ']]);continue;}break;}}}async[a16_0x21b157(0x1db)](){const _0x3d21db=a16_0x21b157;_seleniumWebdriver2&&(await helper[_0x3d21db(0x21b)](this[_0x3d21db(0x1ed)][_0x3d21db(0x204)]),this[_0x3d21db(0x1ed)][_0x3d21db(0x23e)]['Builder']=originalBuilder),await RequestQueueHandler[_0x3d21db(0x22e)]()[_0x3d21db(0x226)]();}async[a16_0x21b157(0x1f0)](){}async['handleTestEvent'](_0x11c47e,_0x54bb0e){const _0x4a3ebc=a16_0x21b157,_0xb6adcf={};_0xb6adcf[_0x4a3ebc(0x245)]=function(_0x3582cb,_0x2ee7ee){return _0x3582cb===_0x2ee7ee;},_0xb6adcf['CxZcB']=_0x4a3ebc(0x246),_0xb6adcf[_0x4a3ebc(0x20c)]=function(_0x24502b,_0x151a79){return _0x24502b===_0x151a79;},_0xb6adcf['kplFp']=_0x4a3ebc(0x238),_0xb6adcf[_0x4a3ebc(0x242)]=_0x4a3ebc(0x1e7),_0xb6adcf['blsac']=_0x4a3ebc(0x202),_0xb6adcf[_0x4a3ebc(0x1fc)]=function(_0x57eb95,_0x1cb509){return _0x57eb95===_0x1cb509;},_0xb6adcf['Xutku']=_0x4a3ebc(0x229),_0xb6adcf['HOhCo']=_0x4a3ebc(0x1db);const _0x515358=_0xb6adcf,{name:_0x4b88fb}=_0x11c47e;if(_0x515358[_0x4a3ebc(0x245)](_0x4b88fb,_0x515358['CxZcB'])){this[_0x4a3ebc(0x1ed)][_0x4a3ebc(0x217)]=_0x11c47e[_0x4a3ebc(0x1f1)];if(_0x515358[_0x4a3ebc(0x20c)](this[_0x4a3ebc(0x1ed)]['failFastActive'],!![])){const _0x3a0dd0=_0x11c47e[_0x4a3ebc(0x1f1)]['name'];logger[_0x4a3ebc(0x1f5)](_0x4a3ebc(0x207)+_0x3a0dd0),_0x11c47e[_0x4a3ebc(0x1f1)]['mode']=_0x515358['kplFp'];}}if(this['failFast']&&_0x515358['hhKsT'](_0x4b88fb,_0x515358['bNGCm']))try{const _0xd90607=_0x11c47e[_0x4a3ebc(0x1f1)][_0x4a3ebc(0x1ff)][_0x4a3ebc(0x21f)](_0x515358[_0x4a3ebc(0x231)]),_0x33b2f1=_0x11c47e[_0x4a3ebc(0x1f1)][_0x4a3ebc(0x1f8)];await this[_0x4a3ebc(0x1e3)][_0x4a3ebc(0x212)](_0xd90607,_0x33b2f1);const _0x434066=await this[_0x4a3ebc(0x1e3)][_0x4a3ebc(0x211)]();_0x515358['hhKsT'](this['global'][_0x4a3ebc(0x20d)],![])&&_0x515358[_0x4a3ebc(0x1fc)](_0x434066,!![])&&(this[_0x4a3ebc(0x1ed)]['failFastActive']=!![]);}catch(_0x2655e6){logger[_0x4a3ebc(0x205)](_0x515358[_0x4a3ebc(0x241)],_0x2655e6[_0x4a3ebc(0x20b)]);}_0x515358[_0x4a3ebc(0x20c)](_0x4b88fb,_0x515358[_0x4a3ebc(0x21d)])&&(this['failFast']&&this[_0x4a3ebc(0x1e3)]['cleanup']());}}module[a16_0x21b157(0x216)]=CustomEnvironment;