const a16_0x2c4408=a16_0x121e;function a16_0x121e(_0x1c349c,_0xe00dc){const _0x190a62=a16_0x190a();return a16_0x121e=function(_0x121e17,_0x584b1b){_0x121e17=_0x121e17-0x1ef;let _0x1a5a32=_0x190a62[_0x121e17];return _0x1a5a32;},a16_0x121e(_0x1c349c,_0xe00dc);}(function(_0x57d19b,_0x35773d){const _0x5c4c3a=a16_0x121e,_0x141a04=_0x57d19b();while(!![]){try{const _0x327be3=parseInt(_0x5c4c3a(0x22b))/0x1+-parseInt(_0x5c4c3a(0x21f))/0x2+parseInt(_0x5c4c3a(0x223))/0x3*(parseInt(_0x5c4c3a(0x22c))/0x4)+parseInt(_0x5c4c3a(0x1f7))/0x5*(-parseInt(_0x5c4c3a(0x200))/0x6)+parseInt(_0x5c4c3a(0x215))/0x7*(parseInt(_0x5c4c3a(0x20c))/0x8)+parseInt(_0x5c4c3a(0x22e))/0x9+-parseInt(_0x5c4c3a(0x20a))/0xa;if(_0x327be3===_0x35773d)break;else _0x141a04['push'](_0x141a04['shift']());}catch(_0xc87c3c){_0x141a04['push'](_0x141a04['shift']());}}}(a16_0x190a,0xcb233));const helper=require(a16_0x2c4408(0x1ff)),constants=require('../../utils/constants'),{isTestObservabilitySession}=require(a16_0x2c4408(0x20d)),RequestQueueHandler=require(a16_0x2c4408(0x216)),ObservabilityReporter=require('../test-observability/obsReporter'),testhubUtils=require(a16_0x2c4408(0x205)),getTestEnvironment=((()=>{const _0x1c1415=a16_0x2c4408,_0x1223e5={};_0x1223e5[_0x1c1415(0x20b)]=_0x1c1415(0x20f),_0x1223e5[_0x1c1415(0x22a)]=_0x1c1415(0x21c);const _0x1c6b14=_0x1223e5;try{const _0x5cd490=helper[_0x1c1415(0x225)](_0x1c6b14[_0x1c1415(0x20b)]);if(_0x5cd490[_0x1c1415(0x1f0)])return _0x5cd490[_0x1c1415(0x1f0)];const _0x107045=helper[_0x1c1415(0x225)](_0x1c6b14['yNmcC']);if(_0x107045['getTestEnvironment'])return _0x107045[_0x1c1415(0x206)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x257ea3=a16_0x2c4408,_0x5931a7={'LyNFo':function(_0x41cc70,_0x52fe5f){return _0x41cc70(_0x52fe5f);},'ymNwu':_0x257ea3(0x1f1),'kXMZL':_0x257ea3(0x1fb)},_0x178602=_0x5931a7[_0x257ea3(0x226)](getTestEnvironment,{'rootDir':process[_0x257ea3(0x1f2)](),'testEnvironment':process[_0x257ea3(0x1fc)][_0x257ea3(0x1ef)]||_0x5931a7['ymNwu']});if(!_0x178602)return _0x5931a7[_0x257ea3(0x226)](_interopRequireDefault,helper[_0x257ea3(0x225)](_0x5931a7[_0x257ea3(0x239)]));return _0x5931a7[_0x257ea3(0x226)](_interopRequireDefault,helper[_0x257ea3(0x225)](_0x178602));})()),_seleniumWebdriver2=((()=>{const _0x259fb5=a16_0x2c4408,_0x1018b6={'xyqDY':function(_0xa11500,_0x3b85f4){return _0xa11500(_0x3b85f4);}};try{const _0x821c9=helper[_0x259fb5(0x233)]();return helper[_0x259fb5(0x23e)](),_0x1018b6[_0x259fb5(0x23d)](_interopRequireDefault,_0x821c9);}catch{return null;}})());function _interopRequireDefault(_0x5e85b0){const _0x272c34=a16_0x2c4408;return _0x5e85b0&&_0x5e85b0[_0x272c34(0x21a)]?_0x5e85b0:{'default':_0x5e85b0};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x2c4408(0x201)][a16_0x2c4408(0x227)]:null;function a16_0x190a(){const _0x299fd8=['nestedKeyValue','__timeout','skipSessionName','BSTACK_JEST_TEST_ENV','resolveTestEnvironment','node','cwd','sessionNameProvided','__platformCaps','configuration','skipSessionStatus','40nuFaNv','quit','QCbWM','test','jest-environment-node','env','timeout__','__webdriver','../../../helpers/helper','828918woPXlZ','default','percy','YBlIY','browserstackPlatformIndex','../../../helpers/testhub/utils','getTestEnvironment','irkcs','projectConfig','shutdown','19699190RNKqGC','UfWMk','64jMATGU','../../../helpers/test-observability/utils','JEST','jest-resolve','jFZRT','bWDNG','__skipSessionStatus','global','getInstance','980147MZaRiR','../../../helpers/test-observability/requestQueueHandler','cleanupDrivers','browserstackAgentV2','mUkNC','__esModule','ILATz','jest-config','UiWGB','isBrowserstackInfra','358396wnvJyp','fwQXq','0|3|4|1|2','browserStackPercyOptions','1653060EZZwNG','isTrue','requireModule','LyNFo','Builder','../../../index','cleanup','yNmcC','301548IUdxdk','12AteakM','builder','9104544gTTPmY','driver','shouldProcessEventForTesthub','percyCaptureMode','testEnvironmentOptions','requireSeleniumWebdriver','Askeb','handleTestEvent','capability','sZRio','IkPrk','kXMZL','setup','__driversArray','BSTACK_DELTA','xyqDY','modifyCommand'];a16_0x190a=function(){return _0x299fd8;};return a16_0x190a();}class CustomEnvironment extends _jestUserEnvironment['default']{constructor(_0x324172){const _0x292e7a=a16_0x2c4408,_0x5d66b6={'dppWj':_0x292e7a(0x1f8),'YBlIY':_0x292e7a(0x221),'jFZRT':function(_0x2bb340,_0x514c0d){return _0x2bb340+_0x514c0d;},'fwQXq':'5|7|2|3|6|8|9|4|0|1','irkcs':_0x292e7a(0x232),'bWDNG':_0x292e7a(0x222),'uDRkE':'browserstackPercyBestPlatform','Askeb':_0x292e7a(0x202),'ILATz':function(_0x6f76ee,_0x99ffa7){return _0x6f76ee(_0x99ffa7);},'mUkNC':_0x292e7a(0x228),'UiWGB':_0x292e7a(0x231),'IkPrk':'platformCaps'};super(_0x324172),this[_0x292e7a(0x213)][_0x292e7a(0x240)]=0x0,this[_0x292e7a(0x1f5)]={};!_0x324172[_0x292e7a(0x232)]&&(_0x324172['testEnvironmentOptions']={});if(helper[_0x292e7a(0x21e)]()){const _0x19fa09=_0x5d66b6[_0x292e7a(0x203)]['split']('|');let _0x385ab4=0x0;while(!![]){switch(_0x19fa09[_0x385ab4++]){case'0':_0x324172[_0x292e7a(0x232)]=_0x324172[_0x292e7a(0x208)]?_0x324172[_0x292e7a(0x208)][_0x292e7a(0x232)]:_0x324172['testEnvironmentOptions'];continue;case'1':this[_0x292e7a(0x236)]=_0x324172[_0x292e7a(0x208)]?_0x324172[_0x292e7a(0x208)][_0x292e7a(0x236)]:_0x324172[_0x292e7a(0x236)];continue;case'2':this[_0x292e7a(0x213)]['__timeout']=_0x5d66b6[_0x292e7a(0x210)](this[_0x292e7a(0x1f5)][_0x292e7a(0x1fd)],constants[_0x292e7a(0x23c)]);continue;case'3':this[_0x292e7a(0x22d)]=new _seleniumWebdriver2[(_0x292e7a(0x201))][(_0x292e7a(0x227))]();continue;case'4':this[_0x292e7a(0x1f5)]=_0x324172[_0x292e7a(0x232)];continue;}break;}}if(testhubUtils[_0x292e7a(0x230)]()){const _0x1518fa=new ObservabilityReporter();_0x1518fa['registerListeners']();}this[_0x292e7a(0x213)]['browserStackGlobals']={},this[_0x292e7a(0x1f5)]['framework']=constants['FRAMEWORKS'][_0x292e7a(0x20e)];if(_seleniumWebdriver2){const _0x34d174=_0x5d66b6[_0x292e7a(0x220)]['split']('|');let _0x3be90e=0x0;while(!![]){switch(_0x34d174[_0x3be90e++]){case'0':this[_0x292e7a(0x213)][_0x292e7a(0x212)]=helper[_0x292e7a(0x224)](this[_0x292e7a(0x1f5)][_0x292e7a(0x1f6)]);continue;case'1':this[_0x292e7a(0x213)][_0x292e7a(0x229)]=async()=>{const _0x107291=_0x292e7a;await this[_0x107291(0x213)][_0x107291(0x22f)]['quit'](_0x5d66b6['dppWj']);};continue;case'2':this[_0x292e7a(0x213)][_0x292e7a(0x204)]=(_0x324172[_0x292e7a(0x208)]?_0x324172[_0x292e7a(0x208)][_0x292e7a(0x204)]:_0x324172[_0x292e7a(0x204)])||0x0;continue;case'3':this[_0x292e7a(0x213)]['browserstackPercyBestPlatform']=helper[_0x292e7a(0x23f)](_0x324172,[_0x5d66b6[_0x292e7a(0x207)],_0x5d66b6[_0x292e7a(0x211)],_0x5d66b6['uDRkE']]);continue;case'4':helper[_0x292e7a(0x224)](this[_0x292e7a(0x1f5)][_0x292e7a(0x241)])?this[_0x292e7a(0x213)]['sessionNameProvided']=!![]:this[_0x292e7a(0x213)][_0x292e7a(0x1f3)]=![];continue;case'5':this['global']['__drivers']=[];continue;case'6':this[_0x292e7a(0x213)][_0x292e7a(0x202)]=helper[_0x292e7a(0x23f)](_0x324172,[_0x5d66b6[_0x292e7a(0x207)],_0x5d66b6['bWDNG'],_0x5d66b6[_0x292e7a(0x234)]]);continue;case'7':this[_0x292e7a(0x213)][_0x292e7a(0x1fe)]=_0x5d66b6[_0x292e7a(0x21b)](require,_0x5d66b6[_0x292e7a(0x219)])[_0x292e7a(0x218)]({...this[_0x292e7a(0x1f5)],'capability':this['capability']||{}},this,testhubUtils[_0x292e7a(0x230)]());continue;case'8':this['global'][_0x292e7a(0x231)]=helper['nestedKeyValue'](_0x324172,[_0x5d66b6[_0x292e7a(0x207)],_0x5d66b6[_0x292e7a(0x211)],_0x5d66b6[_0x292e7a(0x21d)]]);continue;case'9':this[_0x292e7a(0x213)][_0x292e7a(0x1f4)]=helper[_0x292e7a(0x23f)](this[_0x292e7a(0x1f5)],[_0x5d66b6[_0x292e7a(0x238)],this[_0x292e7a(0x213)][_0x292e7a(0x204)]])||{};continue;}break;}}}async['teardown'](){const _0x1f3960=a16_0x2c4408;_seleniumWebdriver2&&(await helper[_0x1f3960(0x217)](this[_0x1f3960(0x213)][_0x1f3960(0x23b)]),this['global'][_0x1f3960(0x1fe)][_0x1f3960(0x227)]=originalBuilder),await RequestQueueHandler[_0x1f3960(0x214)]()[_0x1f3960(0x209)]();}async[a16_0x2c4408(0x23a)](){}async[a16_0x2c4408(0x235)](_0x1386f9,_0x46e4ac){const _0x4b2407=a16_0x2c4408,_0x3e886f={};_0x3e886f[_0x4b2407(0x1f9)]=function(_0x16f460,_0x2271ea){return _0x16f460===_0x2271ea;},_0x3e886f[_0x4b2407(0x237)]='test_start';const _0x585621=_0x3e886f,{name:_0x1812a7}=_0x1386f9;_0x585621[_0x4b2407(0x1f9)](_0x1812a7,_0x585621[_0x4b2407(0x237)])&&(this[_0x4b2407(0x213)]['testContext']=_0x1386f9[_0x4b2407(0x1fa)]);}}module['exports']=CustomEnvironment;