const a16_0x109d23=a16_0x1bf0;function a16_0xc6ed(){const _0x12997e=['isArray','TRjWP','shouldProcessEventForTesthub','setup','BSTACK_JEST_TEST_ENV','__timeout','dwubb','isBrowserstackInfra','message','oHmTK','__platformCaps','fGCJC','browserStackPercyOptions','projectName','isTrue','../../../helpers/test-observability/utils','exports','join','TfPPB','ShEuy','2972970xNBnip','capabilities','split','widnW','buildName','isNotUndefined','FRAMEWORKS','jestConfig','platformCaps','errors','9KVbUOO','debug','projectConfig','requireModule','configuration','skip','mode','registerListeners','__esModule','90EGwcAF','cleanup','__webdriver','percy','OczLQ','0|6|2|7|3|4|5|1','teardown','onTestDone','Wyvky','59485YCBAmc','BxOQl','resolveTestEnvironment','472832sdpPKH','JCGlw','\x20>\x20','browserStackGlobals','MlcLi','requireSeleniumWebdriver','Builder','INuIX','rHOwN','pCWUA','sessionNameProvided','../../../helpers/test-orchestration/failfastManager','2743920eoHbVW','Error\x20in\x20fail-fast\x20test_done\x20handler:','../test-observability/obsReporter','vVMsM','tHXjX','name','339306mKZREO','jest-config','120ZcefFy','LSkeG','../../../helpers/helper','global','browserstackPlatformIndex','nQnmQ','oEDYR','nestedKeyValue','__jestRetries','HsAex','JEST','node','2929507cfJYGH','testPath','jest-resolve','../../../helpers/testhub/utils','percyCaptureMode','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','skipSessionName','eicbY','test_start','BSTACK_DELTA','test','ljDOc','handleTestEvent','retries__','HjsID','testEnvironmentOptions','default','browserstackPercyBestPlatform','../../../helpers/logger','failFast','quit','getTestEnvironment','shutdown','bstack:options','__drivers','failFastActive','capability','cwd','test_done','sYkuy','LJvFH','VhKvA','dJNAs','modifyCommand','25068kHdMaX'];a16_0xc6ed=function(){return _0x12997e;};return a16_0xc6ed();}(function(_0x525e5c,_0x2dca6c){const _0x2d02ed=a16_0x1bf0,_0x55d4e0=_0x525e5c();while(!![]){try{const _0x2cbf66=parseInt(_0x2d02ed(0x1f0))/0x1+parseInt(_0x2d02ed(0x1de))/0x2+-parseInt(_0x2d02ed(0x1f2))/0x3*(parseInt(_0x2d02ed(0x1aa))/0x4)+-parseInt(_0x2d02ed(0x1db))/0x5*(-parseInt(_0x2d02ed(0x1d2))/0x6)+parseInt(_0x2d02ed(0x188))/0x7+-parseInt(_0x2d02ed(0x1ea))/0x8+-parseInt(_0x2d02ed(0x1c9))/0x9*(parseInt(_0x2d02ed(0x1bf))/0xa);if(_0x2cbf66===_0x2dca6c)break;else _0x55d4e0['push'](_0x55d4e0['shift']());}catch(_0x44f3f3){_0x55d4e0['push'](_0x55d4e0['shift']());}}}(a16_0xc6ed,0x44c6f));const helper=require(a16_0x109d23(0x1f4)),constants=require('../../utils/constants'),{isTestObservabilitySession}=require(a16_0x109d23(0x1ba)),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require(a16_0x109d23(0x1ec)),testhubUtils=require(a16_0x109d23(0x18b)),logger=require(a16_0x109d23(0x19a))['winstonLogger'],getTestEnvironment=((()=>{const _0x78ad77=a16_0x109d23,_0x2b350e={};_0x2b350e[_0x78ad77(0x1e7)]=_0x78ad77(0x18a),_0x2b350e[_0x78ad77(0x1df)]=_0x78ad77(0x1f1);const _0x4e79cc=_0x2b350e;try{const _0x5d005b=helper[_0x78ad77(0x1cc)](_0x4e79cc[_0x78ad77(0x1e7)]);if(_0x5d005b[_0x78ad77(0x1dd)])return _0x5d005b[_0x78ad77(0x1dd)];const _0x5f503c=helper[_0x78ad77(0x1cc)](_0x4e79cc[_0x78ad77(0x1df)]);if(_0x5f503c[_0x78ad77(0x19d)])return _0x5f503c[_0x78ad77(0x19d)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x8c542b=a16_0x109d23,_0x6eb12d={'ShEuy':function(_0x2b7460,_0x11f813){return _0x2b7460(_0x11f813);},'LSkeG':_0x8c542b(0x187),'phaSg':'jest-environment-node','nvTeK':function(_0x4f73b6,_0x3a1604){return _0x4f73b6(_0x3a1604);}},_0xd679eb=_0x6eb12d[_0x8c542b(0x1be)](getTestEnvironment,{'rootDir':process[_0x8c542b(0x1a3)](),'testEnvironment':process['env'][_0x8c542b(0x1af)]||_0x6eb12d[_0x8c542b(0x1f3)]});if(!_0xd679eb)return _0x6eb12d[_0x8c542b(0x1be)](_interopRequireDefault,helper[_0x8c542b(0x1cc)](_0x6eb12d['phaSg']));return _0x6eb12d['nvTeK'](_interopRequireDefault,helper[_0x8c542b(0x1cc)](_0xd679eb));})()),_seleniumWebdriver2=((()=>{const _0x5d0452=a16_0x109d23,_0x32ba09={'oHmTK':function(_0x2512a2,_0x9a4f92){return _0x2512a2(_0x9a4f92);}};try{const _0xaed3df=helper[_0x5d0452(0x1e3)]();return helper[_0x5d0452(0x1a9)](),_0x32ba09[_0x5d0452(0x1b4)](_interopRequireDefault,_0xaed3df);}catch{return null;}})());function _interopRequireDefault(_0x337f5e){const _0x470ed0=a16_0x109d23;return _0x337f5e&&_0x337f5e[_0x470ed0(0x1d1)]?_0x337f5e:{'default':_0x337f5e};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x109d23(0x198)][a16_0x109d23(0x1e4)]:null;function a16_0x1bf0(_0x51bb29,_0x508b25){const _0xc6edc2=a16_0xc6ed();return a16_0x1bf0=function(_0x1bf0aa,_0x2faa42){_0x1bf0aa=_0x1bf0aa-0x180;let _0x2c2e32=_0xc6edc2[_0x1bf0aa];return _0x2c2e32;},a16_0x1bf0(_0x51bb29,_0x508b25);}class CustomEnvironment extends _jestUserEnvironment[a16_0x109d23(0x198)]{constructor(_0x233e93){const _0x15191c=a16_0x109d23,_0x2fce0a={'Wyvky':_0x15191c(0x19c),'sYkuy':function(_0x590be3,_0x5ba458){return _0x590be3+_0x5ba458;},'INuIX':_0x15191c(0x19f),'widnW':function(_0x340661,_0x39592d){return _0x340661(_0x39592d);},'ljDOc':_0x15191c(0x1e9),'OczLQ':_0x15191c(0x1d7),'eicbY':_0x15191c(0x197),'fGCJC':_0x15191c(0x1b7),'HjsID':_0x15191c(0x199),'TaZIw':_0x15191c(0x18c),'oEDYR':function(_0x56a6b9,_0x114eb7){return _0x56a6b9(_0x114eb7);},'HsAex':'../../../index','dJNAs':_0x15191c(0x1d5)};super(_0x233e93),this['global'][_0x15191c(0x1b0)]=0x0,this['configuration']={};!_0x233e93[_0x15191c(0x197)]&&(_0x233e93[_0x15191c(0x197)]={});if(helper[_0x15191c(0x1b2)]()){_0x233e93[_0x15191c(0x197)]=_0x233e93[_0x15191c(0x1cb)]?_0x233e93[_0x15191c(0x1cb)][_0x15191c(0x197)]:_0x233e93[_0x15191c(0x197)];_seleniumWebdriver2&&(this['builder']=new _seleniumWebdriver2[(_0x15191c(0x198))][(_0x15191c(0x1e4))]());this['capability']=_0x233e93['projectConfig']?_0x233e93[_0x15191c(0x1cb)][_0x15191c(0x1a2)]:_0x233e93[_0x15191c(0x1a2)],this['global'][_0x15191c(0x1b0)]=_0x2fce0a[_0x15191c(0x1a5)](_0x233e93[_0x15191c(0x197)]['timeout__']||0x1388,constants[_0x15191c(0x191)]),this['failFastOptions']=_0x233e93[_0x15191c(0x197)][_0x15191c(0x19b)];if(this['failFastOptions']){const _0x5bf16d=this['capability'][_0x2fce0a[_0x15191c(0x1e5)]]?.[_0x15191c(0x1c3)]||'',_0xba4645=this[_0x15191c(0x1a2)][_0x2fce0a[_0x15191c(0x1e5)]]?.[_0x15191c(0x1b8)]||'';this['failFast']=new(_0x2fce0a[_0x15191c(0x1c2)](require,_0x2fce0a[_0x15191c(0x193)]))(this['failFastOptions'],_0x5bf16d,_0xba4645),this[_0x15191c(0x1f5)][_0x15191c(0x1a1)]=![];}helper[_0x15191c(0x1c4)](_0x233e93['testEnvironmentOptions'][_0x15191c(0x195)])&&(this[_0x15191c(0x1f5)][_0x15191c(0x184)]=_0x233e93['testEnvironmentOptions'][_0x15191c(0x195)]);}if(testhubUtils[_0x15191c(0x1ad)]()){const _0x453da3=new ObservabilityReporter();_0x453da3[_0x15191c(0x1d0)]();}this[_0x15191c(0x1f5)][_0x15191c(0x1e1)]={},this[_0x15191c(0x1cd)]=_0x233e93['testEnvironmentOptions'],this[_0x15191c(0x1cd)]['framework']=constants[_0x15191c(0x1c5)][_0x15191c(0x186)],this[_0x15191c(0x1f5)][_0x15191c(0x180)]=(_0x233e93[_0x15191c(0x1cb)]?_0x233e93[_0x15191c(0x1cb)][_0x15191c(0x180)]:_0x233e93[_0x15191c(0x180)])||0x0,this['global'][_0x15191c(0x1b5)]=this[_0x15191c(0x1cd)]&&this['configuration']['platformCaps']&&Array['isArray'](this['configuration'][_0x15191c(0x1c7)])&&this['configuration']['platformCaps'][this[_0x15191c(0x1f5)][_0x15191c(0x180)]]||{};const _0x2f6bc2=this[_0x15191c(0x1f5)]['browserstackPlatformIndex'],_0x25c85a={...this[_0x15191c(0x1cd)],'capability':this[_0x15191c(0x1cd)]['capabilities']&&Array[_0x15191c(0x1ab)](this['configuration'][_0x15191c(0x1c0)])&&this['configuration'][_0x15191c(0x1c0)][_0x2f6bc2]||{},'platformCaps':this[_0x15191c(0x1cd)][_0x15191c(0x1c7)]&&Array[_0x15191c(0x1ab)](this['configuration'][_0x15191c(0x1c7)])&&this[_0x15191c(0x1cd)]['platformCaps'][_0x2f6bc2]||{}};delete _0x25c85a['capabilities'],this[_0x15191c(0x1f5)][_0x15191c(0x1c6)]=_0x25c85a;if(_seleniumWebdriver2){const _0xe1cd4f=_0x2fce0a[_0x15191c(0x1d6)][_0x15191c(0x1c1)]('|');let _0x408aee=0x0;while(!![]){switch(_0xe1cd4f[_0x408aee++]){case'0':this[_0x15191c(0x1f5)][_0x15191c(0x1a0)]=[];continue;case'1':this[_0x15191c(0x1f5)][_0x15191c(0x1d3)]=async()=>{const _0x37e814=_0x15191c;await this[_0x37e814(0x1f5)]['driver']['quit'](_0x2fce0a[_0x37e814(0x1da)]);};continue;case'2':this[_0x15191c(0x1f5)][_0x15191c(0x199)]=helper['nestedKeyValue'](_0x233e93,[_0x2fce0a[_0x15191c(0x18f)],_0x2fce0a[_0x15191c(0x1b6)],_0x2fce0a[_0x15191c(0x196)]]);continue;case'3':this[_0x15191c(0x1f5)][_0x15191c(0x18c)]=helper[_0x15191c(0x183)](_0x233e93,[_0x2fce0a[_0x15191c(0x18f)],_0x2fce0a[_0x15191c(0x1b6)],_0x2fce0a['TaZIw']]);continue;case'4':helper[_0x15191c(0x1b9)](this[_0x15191c(0x1cd)][_0x15191c(0x18e)])?this[_0x15191c(0x1f5)][_0x15191c(0x1e8)]=!![]:this['global'][_0x15191c(0x1e8)]=![];continue;case'5':this[_0x15191c(0x1f5)]['__skipSessionStatus']=helper[_0x15191c(0x1b9)](this[_0x15191c(0x1cd)]['skipSessionStatus']);continue;case'6':this[_0x15191c(0x1f5)]['__webdriver']=_0x2fce0a[_0x15191c(0x182)](require,_0x2fce0a[_0x15191c(0x185)])['browserstackAgentV2']({...this[_0x15191c(0x1cd)],'capability':this[_0x15191c(0x1a2)]||{}},this,testhubUtils[_0x15191c(0x1ad)]());continue;case'7':this[_0x15191c(0x1f5)]['percy']=helper[_0x15191c(0x183)](_0x233e93,[_0x2fce0a[_0x15191c(0x18f)],_0x2fce0a[_0x15191c(0x1b6)],_0x2fce0a[_0x15191c(0x1a8)]]);continue;}break;}}}async[a16_0x109d23(0x1d8)](){const _0x1c28dc=a16_0x109d23;_seleniumWebdriver2&&(await helper['cleanupDrivers'](this[_0x1c28dc(0x1f5)]['__driversArray']),this[_0x1c28dc(0x1f5)][_0x1c28dc(0x1d4)]['Builder']=originalBuilder),await RequestQueueHandler['getInstance']()[_0x1c28dc(0x19e)]();}async[a16_0x109d23(0x1ae)](){}async[a16_0x109d23(0x194)](_0x4d9247,_0x16dfef){const _0x577a21=a16_0x109d23,_0x12f6c3={};_0x12f6c3[_0x577a21(0x181)]=function(_0x36e893,_0x34e0a6){return _0x36e893===_0x34e0a6;},_0x12f6c3[_0x577a21(0x1ed)]=_0x577a21(0x190),_0x12f6c3[_0x577a21(0x1bd)]=function(_0x1677e3,_0xee3be){return _0x1677e3===_0xee3be;},_0x12f6c3[_0x577a21(0x1e2)]=_0x577a21(0x1ce),_0x12f6c3[_0x577a21(0x1e6)]=function(_0x1d4c47,_0x12d96d){return _0x1d4c47===_0x12d96d;},_0x12f6c3[_0x577a21(0x1b1)]=_0x577a21(0x1a4),_0x12f6c3[_0x577a21(0x1ee)]=_0x577a21(0x1e0),_0x12f6c3[_0x577a21(0x1dc)]=function(_0x3c731f,_0x3db44e){return _0x3c731f===_0x3db44e;},_0x12f6c3[_0x577a21(0x1a7)]=_0x577a21(0x1eb),_0x12f6c3[_0x577a21(0x1ac)]=function(_0x1733d6,_0x3ac001){return _0x1733d6===_0x3ac001;},_0x12f6c3['LJvFH']=_0x577a21(0x1d8);const _0x349e59=_0x12f6c3,{name:_0x45833e}=_0x4d9247;if(_0x349e59[_0x577a21(0x181)](_0x45833e,_0x349e59[_0x577a21(0x1ed)])){this[_0x577a21(0x1f5)]['testContext']=_0x4d9247['test'];if(_0x349e59['TfPPB'](this['global']['failFastActive'],!![])){const _0x1bba03=_0x4d9247['test'][_0x577a21(0x1ef)];logger['info'](_0x577a21(0x18d)+_0x1bba03),_0x4d9247['test'][_0x577a21(0x1cf)]=_0x349e59[_0x577a21(0x1e2)];}}if(this['failFast']&&_0x349e59['rHOwN'](_0x45833e,_0x349e59[_0x577a21(0x1b1)]))try{const _0x2a2262=_0x4d9247[_0x577a21(0x192)][_0x577a21(0x189)][_0x577a21(0x1bc)](_0x349e59[_0x577a21(0x1ee)]),_0x4769de=_0x4d9247['test'][_0x577a21(0x1c8)];await this[_0x577a21(0x19b)][_0x577a21(0x1d9)](_0x2a2262,_0x4769de);const _0x433650=await this[_0x577a21(0x19b)]['shouldFailFast']();_0x349e59[_0x577a21(0x1dc)](this[_0x577a21(0x1f5)][_0x577a21(0x1a1)],![])&&_0x349e59[_0x577a21(0x1e6)](_0x433650,!![])&&(this['global'][_0x577a21(0x1a1)]=!![]);}catch(_0x2492a3){logger[_0x577a21(0x1ca)](_0x349e59[_0x577a21(0x1a7)],_0x2492a3[_0x577a21(0x1b3)]);}_0x349e59[_0x577a21(0x1ac)](_0x45833e,_0x349e59[_0x577a21(0x1a6)])&&(this['failFast']&&this['failFast'][_0x577a21(0x1d3)]());}}module[a16_0x109d23(0x1bb)]=CustomEnvironment;