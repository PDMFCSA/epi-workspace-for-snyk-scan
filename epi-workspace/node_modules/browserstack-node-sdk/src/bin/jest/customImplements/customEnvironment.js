const a16_0x452f43=a16_0x513f;(function(_0x271328,_0x2b82db){const _0x45ea94=a16_0x513f,_0x28b626=_0x271328();while(!![]){try{const _0x5c01cf=-parseInt(_0x45ea94(0xb4))/0x1*(parseInt(_0x45ea94(0xde))/0x2)+parseInt(_0x45ea94(0xad))/0x3+parseInt(_0x45ea94(0xc9))/0x4+-parseInt(_0x45ea94(0xdf))/0x5+-parseInt(_0x45ea94(0xa7))/0x6*(-parseInt(_0x45ea94(0xbb))/0x7)+parseInt(_0x45ea94(0xd3))/0x8+parseInt(_0x45ea94(0xc5))/0x9*(-parseInt(_0x45ea94(0xd5))/0xa);if(_0x5c01cf===_0x2b82db)break;else _0x28b626['push'](_0x28b626['shift']());}catch(_0x2e663d){_0x28b626['push'](_0x28b626['shift']());}}}(a16_0x3216,0xa4a2f));const helper=require(a16_0x452f43(0xf0)),constants=require(a16_0x452f43(0xa5)),{isTestObservabilitySession}=require(a16_0x452f43(0xbc)),RequestQueueHandler=require(a16_0x452f43(0xda)),ObservabilityReporter=require('../test-observability/obsReporter'),testhubUtils=require(a16_0x452f43(0xe8)),getTestEnvironment=((()=>{const _0x8170a5=a16_0x452f43,_0xa9fcb2={};_0xa9fcb2['sSOYn']=_0x8170a5(0xb0),_0xa9fcb2[_0x8170a5(0xc0)]=_0x8170a5(0xa6);const _0x19046a=_0xa9fcb2;try{const _0x38e3e4=helper[_0x8170a5(0xb1)](_0x19046a[_0x8170a5(0xbd)]);if(_0x38e3e4[_0x8170a5(0xcb)])return _0x38e3e4[_0x8170a5(0xcb)];const _0x324c5e=helper['requireModule'](_0x19046a['rBWTN']);if(_0x324c5e[_0x8170a5(0xdc)])return _0x324c5e[_0x8170a5(0xdc)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x1f955f=a16_0x452f43,_0x773f60={'uGtCe':function(_0x44bb9d,_0x8e6f5c){return _0x44bb9d(_0x8e6f5c);},'jvXdD':_0x1f955f(0xe3),'meKPm':function(_0x2f582a,_0x37834b){return _0x2f582a(_0x37834b);},'pWqrD':_0x1f955f(0xa9),'HKOvo':function(_0x47dace,_0x249fcc){return _0x47dace(_0x249fcc);}},_0xbca5cc=_0x773f60['uGtCe'](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process['env']['BSTACK_JEST_TEST_ENV']||_0x773f60['jvXdD']});if(!_0xbca5cc)return _0x773f60[_0x1f955f(0xc7)](_interopRequireDefault,helper['requireModule'](_0x773f60[_0x1f955f(0xec)]));return _0x773f60['HKOvo'](_interopRequireDefault,helper['requireModule'](_0xbca5cc));})()),_seleniumWebdriver2=((()=>{const _0x34bd5e=a16_0x452f43,_0x540918={'ZOVrG':function(_0x898125,_0x14fe7f){return _0x898125(_0x14fe7f);}};try{const _0x1f4fbc=helper[_0x34bd5e(0xd8)]();return helper['modifyCommand'](),_0x540918[_0x34bd5e(0xe7)](_interopRequireDefault,_0x1f4fbc);}catch{return null;}})());function _interopRequireDefault(_0x1eaab2){const _0x132b86=a16_0x452f43;return _0x1eaab2&&_0x1eaab2[_0x132b86(0xa4)]?_0x1eaab2:{'default':_0x1eaab2};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x452f43(0xaf)][a16_0x452f43(0x9d)]:null;class CustomEnvironment extends _jestUserEnvironment['default']{constructor(_0x26830f){const _0x153d5f=a16_0x452f43,_0x59fadb={'uzEOV':_0x153d5f(0xc2),'uiquK':_0x153d5f(0xb2),'AEDIY':function(_0x1595b0,_0x39e5bc){return _0x1595b0+_0x39e5bc;},'wkTuB':_0x153d5f(0xe2),'vmNeZ':_0x153d5f(0xbf),'SzObP':_0x153d5f(0xa0),'HURcu':_0x153d5f(0xc3),'HrWDh':_0x153d5f(0x9f),'wgtcO':_0x153d5f(0xd7),'FyqVH':function(_0x7ae62d,_0x58e721){return _0x7ae62d(_0x58e721);},'hEuLt':_0x153d5f(0xba),'winRI':_0x153d5f(0xcc)};super(_0x26830f),this[_0x153d5f(0xe9)][_0x153d5f(0xac)]=0x0,this['configuration']={};!_0x26830f[_0x153d5f(0xbf)]&&(_0x26830f['testEnvironmentOptions']={});if(helper[_0x153d5f(0xdb)]()){const _0x4fdfc3=_0x59fadb[_0x153d5f(0xab)][_0x153d5f(0xaa)]('|');let _0x25baf8=0x0;while(!![]){switch(_0x4fdfc3[_0x25baf8++]){case'0':this[_0x153d5f(0xed)]=_0x26830f[_0x153d5f(0xe5)]?_0x26830f['projectConfig'][_0x153d5f(0xed)]:_0x26830f[_0x153d5f(0xed)];continue;case'1':this[_0x153d5f(0xe9)][_0x153d5f(0xac)]=_0x59fadb[_0x153d5f(0xb7)](this['configuration']['timeout__'],constants[_0x153d5f(0xcf)]);continue;case'2':this['configuration']=_0x26830f[_0x153d5f(0xbf)];continue;case'3':_0x26830f['testEnvironmentOptions']=_0x26830f['projectConfig']?_0x26830f[_0x153d5f(0xe5)][_0x153d5f(0xbf)]:_0x26830f['testEnvironmentOptions'];continue;case'4':this['builder']=new _seleniumWebdriver2[(_0x153d5f(0xaf))][(_0x153d5f(0x9d))]();continue;}break;}}if(testhubUtils[_0x153d5f(0xc1)]()){const _0x2f689c=new ObservabilityReporter();_0x2f689c[_0x153d5f(0xa3)]();}this[_0x153d5f(0xe9)]['browserStackGlobals']={},this[_0x153d5f(0xb3)][_0x153d5f(0xae)]=constants[_0x153d5f(0xa1)][_0x153d5f(0xd4)];if(_seleniumWebdriver2){const _0x25c06a=_0x59fadb[_0x153d5f(0xc4)]['split']('|');let _0x2545e2=0x0;while(!![]){switch(_0x25c06a[_0x2545e2++]){case'0':this[_0x153d5f(0xe9)]['percy']=helper[_0x153d5f(0xe6)](_0x26830f,[_0x59fadb[_0x153d5f(0xeb)],_0x59fadb[_0x153d5f(0xce)],_0x59fadb[_0x153d5f(0xc8)]]);continue;case'1':this[_0x153d5f(0xe9)][_0x153d5f(0x9e)]=helper['nestedKeyValue'](this[_0x153d5f(0xb3)],[_0x59fadb[_0x153d5f(0xef)],this['global'][_0x153d5f(0xa2)]])||{};continue;case'2':helper[_0x153d5f(0xe4)](this[_0x153d5f(0xb3)]['skipSessionName'])?this[_0x153d5f(0xe9)][_0x153d5f(0xd2)]=!![]:this[_0x153d5f(0xe9)]['sessionNameProvided']=![];continue;case'3':this[_0x153d5f(0xe9)]['__skipSessionStatus']=helper[_0x153d5f(0xe4)](this[_0x153d5f(0xb3)][_0x153d5f(0xe0)]);continue;case'4':this[_0x153d5f(0xe9)][_0x153d5f(0xd7)]=helper[_0x153d5f(0xe6)](_0x26830f,[_0x59fadb[_0x153d5f(0xeb)],_0x59fadb['SzObP'],_0x59fadb[_0x153d5f(0xa8)]]);continue;case'5':this['global'][_0x153d5f(0xd1)]=[];continue;case'6':this[_0x153d5f(0xe9)][_0x153d5f(0xca)]=_0x59fadb[_0x153d5f(0xea)](require,_0x59fadb['hEuLt'])[_0x153d5f(0xcd)]({...this[_0x153d5f(0xb3)],'capability':this[_0x153d5f(0xed)]||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;case'7':this['global'][_0x153d5f(0xcc)]=helper['nestedKeyValue'](_0x26830f,[_0x59fadb['vmNeZ'],_0x59fadb[_0x153d5f(0xce)],_0x59fadb['winRI']]);continue;case'8':this[_0x153d5f(0xe9)][_0x153d5f(0xb9)]=async()=>{const _0x22cd2c=_0x153d5f;await this[_0x22cd2c(0xe9)][_0x22cd2c(0xc6)][_0x22cd2c(0xc2)](_0x59fadb[_0x22cd2c(0xdd)]);};continue;case'9':this[_0x153d5f(0xe9)]['browserstackPlatformIndex']=(_0x26830f[_0x153d5f(0xe5)]?_0x26830f[_0x153d5f(0xe5)][_0x153d5f(0xa2)]:_0x26830f[_0x153d5f(0xa2)])||0x0;continue;}break;}}}async[a16_0x452f43(0xb6)](){const _0x5cc565=a16_0x452f43;_seleniumWebdriver2&&(await helper[_0x5cc565(0xee)](this[_0x5cc565(0xe9)][_0x5cc565(0x9b)]),this['global']['__webdriver'][_0x5cc565(0x9d)]=originalBuilder),await RequestQueueHandler[_0x5cc565(0xd0)]()['shutdown']();}async[a16_0x452f43(0xe1)](){}async[a16_0x452f43(0xbe)](_0x70b532,_0xf518aa){const _0x317473=a16_0x452f43,_0x112e6c={};_0x112e6c[_0x317473(0x9c)]=function(_0x155556,_0x57f1e9){return _0x155556===_0x57f1e9;},_0x112e6c[_0x317473(0xd9)]='test_start';const _0x40fb72=_0x112e6c,{name:_0x3cf7d7}=_0x70b532;_0x40fb72['BpRHx'](_0x3cf7d7,_0x40fb72[_0x317473(0xd9)])&&(this[_0x317473(0xe9)][_0x317473(0xb8)]=_0x70b532[_0x317473(0xb5)]);}}function a16_0x3216(){const _0x5cf78a=['browserstackPlatformIndex','registerListeners','__esModule','../../utils/constants','jest-config','18KrEGJr','wgtcO','jest-environment-node','split','uiquK','__timeout','3570987hHFTzB','framework','default','jest-resolve','requireModule','3|4|2|0|1','configuration','1WxudJX','test','teardown','AEDIY','testContext','cleanup','../../../index','1137871JfGNOd','../../../helpers/test-observability/utils','sSOYn','handleTestEvent','testEnvironmentOptions','rBWTN','shouldProcessEventForTesthub','quit','percy','wkTuB','12818718OFGGGR','driver','meKPm','HURcu','4313916mePBMv','__webdriver','resolveTestEnvironment','percyCaptureMode','browserstackAgentV2','SzObP','BSTACK_DELTA','getInstance','__drivers','sessionNameProvided','4090592arZlRD','JEST','10VJjkSC','exports','browserstackPercyBestPlatform','requireSeleniumWebdriver','tzaZS','../../../helpers/test-observability/requestQueueHandler','isBrowserstackInfra','getTestEnvironment','uzEOV','863798hGMVJl','3686195lCZPUM','skipSessionStatus','setup','5|6|9|4|0|7|1|2|3|8','node','isTrue','projectConfig','nestedKeyValue','ZOVrG','../../../helpers/testhub/utils','global','FyqVH','vmNeZ','pWqrD','capability','cleanupDrivers','HrWDh','../../../helpers/helper','__driversArray','BpRHx','Builder','__platformCaps','platformCaps','browserStackPercyOptions','FRAMEWORKS'];a16_0x3216=function(){return _0x5cf78a;};return a16_0x3216();}function a16_0x513f(_0x32e178,_0x6d6580){const _0x321656=a16_0x3216();return a16_0x513f=function(_0x513ffa,_0x5c49ed){_0x513ffa=_0x513ffa-0x9b;let _0x221a89=_0x321656[_0x513ffa];return _0x221a89;},a16_0x513f(_0x32e178,_0x6d6580);}module[a16_0x452f43(0xd6)]=CustomEnvironment;