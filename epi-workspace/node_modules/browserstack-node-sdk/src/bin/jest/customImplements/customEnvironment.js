const a16_0x19d013=a16_0x33d9;(function(_0x20be9b,_0x5de35c){const _0x13b0ff=a16_0x33d9,_0x112ad3=_0x20be9b();while(!![]){try{const _0x2e94e6=parseInt(_0x13b0ff(0x1ba))/0x1*(-parseInt(_0x13b0ff(0x182))/0x2)+parseInt(_0x13b0ff(0x173))/0x3+parseInt(_0x13b0ff(0x17a))/0x4*(-parseInt(_0x13b0ff(0x1af))/0x5)+-parseInt(_0x13b0ff(0x188))/0x6+-parseInt(_0x13b0ff(0x177))/0x7+parseInt(_0x13b0ff(0x189))/0x8*(parseInt(_0x13b0ff(0x17c))/0x9)+parseInt(_0x13b0ff(0x1ab))/0xa;if(_0x2e94e6===_0x5de35c)break;else _0x112ad3['push'](_0x112ad3['shift']());}catch(_0x32c37e){_0x112ad3['push'](_0x112ad3['shift']());}}}(a16_0x270e,0x8d452));const helper=require('../../../helpers/helper'),constants=require('../../utils/constants'),{isTestObservabilitySession}=require(a16_0x19d013(0x165)),RequestQueueHandler=require(a16_0x19d013(0x19e)),ObservabilityReporter=require('../test-observability/obsReporter'),testhubUtils=require(a16_0x19d013(0x178)),getTestEnvironment=((()=>{const _0x4cce4d=a16_0x19d013,_0x57d215={};_0x57d215[_0x4cce4d(0x199)]=_0x4cce4d(0x16b),_0x57d215[_0x4cce4d(0x193)]=_0x4cce4d(0x1a2);const _0x5d452a=_0x57d215;try{const _0x3be734=helper[_0x4cce4d(0x176)](_0x5d452a[_0x4cce4d(0x199)]);if(_0x3be734[_0x4cce4d(0x172)])return _0x3be734[_0x4cce4d(0x172)];const _0x1869ba=helper[_0x4cce4d(0x176)](_0x5d452a[_0x4cce4d(0x193)]);if(_0x1869ba[_0x4cce4d(0x18f)])return _0x1869ba[_0x4cce4d(0x18f)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x28fb76=a16_0x19d013,_0x2226a2={'EjcuK':function(_0x55fa50,_0x2578b6){return _0x55fa50(_0x2578b6);},'LjvyP':_0x28fb76(0x164),'gzDwl':_0x28fb76(0x183)},_0x5a1a32=_0x2226a2[_0x28fb76(0x1a0)](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process[_0x28fb76(0x168)][_0x28fb76(0x18a)]||_0x2226a2[_0x28fb76(0x19d)]});if(!_0x5a1a32)return _0x2226a2[_0x28fb76(0x1a0)](_interopRequireDefault,helper['requireModule'](_0x2226a2[_0x28fb76(0x186)]));return _0x2226a2['EjcuK'](_interopRequireDefault,helper['requireModule'](_0x5a1a32));})()),_seleniumWebdriver2=((()=>{const _0x4501b6=a16_0x19d013,_0x3cc707={'pDSjC':function(_0x486f92,_0x572343){return _0x486f92(_0x572343);}};try{const _0xb0b9e7=helper[_0x4501b6(0x1b5)]();return helper[_0x4501b6(0x1a7)](),_0x3cc707[_0x4501b6(0x190)](_interopRequireDefault,_0xb0b9e7);}catch{return null;}})());function _interopRequireDefault(_0xd6cca4){return _0xd6cca4&&_0xd6cca4['__esModule']?_0xd6cca4:{'default':_0xd6cca4};}function a16_0x33d9(_0x5322a4,_0x325354){const _0x270eb0=a16_0x270e();return a16_0x33d9=function(_0x33d99b,_0x51ace9){_0x33d99b=_0x33d99b-0x163;let _0x34836a=_0x270eb0[_0x33d99b];return _0x34836a;},a16_0x33d9(_0x5322a4,_0x325354);}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x19d013(0x197)]['Builder']:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x19d013(0x197)]{constructor(_0x27f550){const _0x2bc4ca=a16_0x19d013,_0x93e998={'OGtgJ':_0x2bc4ca(0x18b),'nmJWb':_0x2bc4ca(0x17e),'uqUlG':function(_0x13a1d9,_0x179e18){return _0x13a1d9+_0x179e18;},'xQaLA':_0x2bc4ca(0x196),'tmsat':_0x2bc4ca(0x1b3),'rOLAP':_0x2bc4ca(0x19c),'VTYfE':_0x2bc4ca(0x17b),'tTWuV':function(_0x1c9df9,_0x2ef395){return _0x1c9df9(_0x2ef395);},'sYatd':'../../../index','xlgYb':_0x2bc4ca(0x191),'npjuI':_0x2bc4ca(0x1b7),'NupPd':_0x2bc4ca(0x194)};super(_0x27f550),this['global'][_0x2bc4ca(0x187)]=0x0,this[_0x2bc4ca(0x1b6)]={};!_0x27f550[_0x2bc4ca(0x1b3)]&&(_0x27f550[_0x2bc4ca(0x1b3)]={});if(helper[_0x2bc4ca(0x1b0)]()){const _0x398caf=_0x93e998[_0x2bc4ca(0x17d)][_0x2bc4ca(0x16d)]('|');let _0x33e2a2=0x0;while(!![]){switch(_0x398caf[_0x33e2a2++]){case'0':this[_0x2bc4ca(0x170)][_0x2bc4ca(0x187)]=_0x93e998[_0x2bc4ca(0x16c)](this['configuration'][_0x2bc4ca(0x18d)],constants['BSTACK_DELTA']);continue;case'1':helper['isNotUndefined'](this['configuration']['retries__'])&&(this[_0x2bc4ca(0x170)][_0x2bc4ca(0x18e)]=this[_0x2bc4ca(0x1b6)][_0x2bc4ca(0x166)]);continue;case'2':this[_0x2bc4ca(0x175)]=_0x27f550[_0x2bc4ca(0x1b2)]?_0x27f550['projectConfig'][_0x2bc4ca(0x175)]:_0x27f550[_0x2bc4ca(0x175)];continue;case'3':this[_0x2bc4ca(0x1b6)]=_0x27f550[_0x2bc4ca(0x1b3)];continue;case'4':_0x27f550[_0x2bc4ca(0x1b3)]=_0x27f550['projectConfig']?_0x27f550[_0x2bc4ca(0x1b2)][_0x2bc4ca(0x1b3)]:_0x27f550[_0x2bc4ca(0x1b3)];continue;case'5':this['builder']=new _seleniumWebdriver2[(_0x2bc4ca(0x197))][(_0x2bc4ca(0x180))]();continue;}break;}}if(testhubUtils[_0x2bc4ca(0x1b9)]()){const _0x1c7326=new ObservabilityReporter();_0x1c7326['registerListeners']();}this[_0x2bc4ca(0x170)][_0x2bc4ca(0x169)]={},this['configuration'][_0x2bc4ca(0x1ac)]=constants[_0x2bc4ca(0x174)][_0x2bc4ca(0x171)];if(_seleniumWebdriver2){const _0x237ff3=_0x93e998[_0x2bc4ca(0x16a)][_0x2bc4ca(0x16d)]('|');let _0x408db8=0x0;while(!![]){switch(_0x237ff3[_0x408db8++]){case'0':this[_0x2bc4ca(0x170)][_0x2bc4ca(0x16e)]=helper[_0x2bc4ca(0x1a5)](this[_0x2bc4ca(0x1b6)][_0x2bc4ca(0x1a3)]);continue;case'1':this[_0x2bc4ca(0x170)][_0x2bc4ca(0x17b)]=helper[_0x2bc4ca(0x185)](_0x27f550,[_0x93e998[_0x2bc4ca(0x181)],_0x93e998[_0x2bc4ca(0x179)],_0x93e998['VTYfE']]);continue;case'2':this[_0x2bc4ca(0x170)]['__webdriver']=_0x93e998['tTWuV'](require,_0x93e998[_0x2bc4ca(0x1b4)])[_0x2bc4ca(0x1a1)]({...this[_0x2bc4ca(0x1b6)],'capability':this[_0x2bc4ca(0x175)]||{}},this,testhubUtils[_0x2bc4ca(0x1b9)]());continue;case'3':this[_0x2bc4ca(0x170)][_0x2bc4ca(0x18c)]=async()=>{const _0x2382e5=_0x2bc4ca;await this[_0x2382e5(0x170)][_0x2382e5(0x1ae)][_0x2382e5(0x18b)](_0x93e998[_0x2382e5(0x19f)]);};continue;case'4':this[_0x2bc4ca(0x170)][_0x2bc4ca(0x191)]=helper[_0x2bc4ca(0x185)](_0x27f550,[_0x93e998[_0x2bc4ca(0x181)],_0x93e998['rOLAP'],_0x93e998[_0x2bc4ca(0x1ad)]]);continue;case'5':this[_0x2bc4ca(0x170)][_0x2bc4ca(0x1a8)]=(_0x27f550[_0x2bc4ca(0x1b2)]?_0x27f550[_0x2bc4ca(0x1b2)][_0x2bc4ca(0x1a8)]:_0x27f550[_0x2bc4ca(0x1a8)])||0x0;continue;case'6':helper[_0x2bc4ca(0x1a5)](this[_0x2bc4ca(0x1b6)][_0x2bc4ca(0x1b8)])?this[_0x2bc4ca(0x170)]['sessionNameProvided']=!![]:this[_0x2bc4ca(0x170)][_0x2bc4ca(0x192)]=![];continue;case'7':this[_0x2bc4ca(0x170)][_0x2bc4ca(0x198)]=helper[_0x2bc4ca(0x185)](this[_0x2bc4ca(0x1b6)],[_0x93e998[_0x2bc4ca(0x163)],this[_0x2bc4ca(0x170)][_0x2bc4ca(0x1a8)]])||{};continue;case'8':this[_0x2bc4ca(0x170)][_0x2bc4ca(0x194)]=helper['nestedKeyValue'](_0x27f550,[_0x93e998[_0x2bc4ca(0x181)],_0x93e998['rOLAP'],_0x93e998['NupPd']]);continue;case'9':this[_0x2bc4ca(0x170)][_0x2bc4ca(0x1aa)]=[];continue;}break;}}}async['teardown'](){const _0x1f3c7f=a16_0x19d013;_seleniumWebdriver2&&(await helper[_0x1f3c7f(0x167)](this[_0x1f3c7f(0x170)][_0x1f3c7f(0x195)]),this[_0x1f3c7f(0x170)][_0x1f3c7f(0x1a9)][_0x1f3c7f(0x180)]=originalBuilder),await RequestQueueHandler[_0x1f3c7f(0x1a4)]()[_0x1f3c7f(0x16f)]();}async[a16_0x19d013(0x1a6)](){}async[a16_0x19d013(0x19a)](_0x4e9e03,_0x318e9a){const _0x5a694d=a16_0x19d013,_0x466ce4={};_0x466ce4[_0x5a694d(0x1b1)]=function(_0x142bc8,_0x162496){return _0x142bc8===_0x162496;},_0x466ce4[_0x5a694d(0x184)]='test_start';const _0x485be5=_0x466ce4,{name:_0x69b3a4}=_0x4e9e03;_0x485be5[_0x5a694d(0x1b1)](_0x69b3a4,_0x485be5[_0x5a694d(0x184)])&&(this[_0x5a694d(0x170)]['testContext']=_0x4e9e03[_0x5a694d(0x17f)]);}}function a16_0x270e(){const _0xc18c79=['browserstackPercyBestPlatform','__driversArray','9|2|5|8|1|4|7|6|0|3','default','__platformCaps','Podni','handleTestEvent','exports','browserStackPercyOptions','LjvyP','../../../helpers/test-observability/requestQueueHandler','OGtgJ','EjcuK','browserstackAgentV2','jest-config','skipSessionStatus','getInstance','isTrue','setup','modifyCommand','browserstackPlatformIndex','__webdriver','__drivers','12240170sQwPaA','framework','xlgYb','driver','5DVWZfz','isBrowserstackInfra','vFSXS','projectConfig','testEnvironmentOptions','sYatd','requireSeleniumWebdriver','configuration','platformCaps','skipSessionName','shouldProcessEventForTesthub','1WtDyAN','npjuI','node','../../../helpers/test-observability/utils','retries__','cleanupDrivers','env','browserStackGlobals','xQaLA','jest-resolve','uqUlG','split','__skipSessionStatus','shutdown','global','JEST','resolveTestEnvironment','2266794tBdBru','FRAMEWORKS','capability','requireModule','716660Rdekmo','../../../helpers/testhub/utils','rOLAP','1577276jQhkjx','percy','3312rZHAQJ','nmJWb','4|5|3|2|0|1','test','Builder','tmsat','2262362gegBev','jest-environment-node','fqXdu','nestedKeyValue','gzDwl','__timeout','1988094WsCJvW','12136iFuBYN','BSTACK_JEST_TEST_ENV','quit','cleanup','timeout__','__jestRetries','getTestEnvironment','pDSjC','percyCaptureMode','sessionNameProvided','oJFpg'];a16_0x270e=function(){return _0xc18c79;};return a16_0x270e();}module[a16_0x19d013(0x19b)]=CustomEnvironment;