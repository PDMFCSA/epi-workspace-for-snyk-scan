const a16_0x124a41=a16_0x47c6;(function(_0x153a39,_0x33136d){const _0x55f9a1=a16_0x47c6,_0x54652d=_0x153a39();while(!![]){try{const _0xba6f47=parseInt(_0x55f9a1(0x208))/0x1+parseInt(_0x55f9a1(0x1e0))/0x2*(-parseInt(_0x55f9a1(0x21d))/0x3)+-parseInt(_0x55f9a1(0x1e3))/0x4*(-parseInt(_0x55f9a1(0x1e5))/0x5)+-parseInt(_0x55f9a1(0x219))/0x6*(-parseInt(_0x55f9a1(0x1dc))/0x7)+parseInt(_0x55f9a1(0x203))/0x8+-parseInt(_0x55f9a1(0x215))/0x9*(parseInt(_0x55f9a1(0x218))/0xa)+-parseInt(_0x55f9a1(0x1e1))/0xb;if(_0xba6f47===_0x33136d)break;else _0x54652d['push'](_0x54652d['shift']());}catch(_0x473c4b){_0x54652d['push'](_0x54652d['shift']());}}}(a16_0x2c20,0xec793));const helper=require(a16_0x124a41(0x225)),constants=require('../../utils/constants'),{isTestObservabilitySession}=require(a16_0x124a41(0x228)),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require(a16_0x124a41(0x222)),testhubUtils=require(a16_0x124a41(0x1fc)),getTestEnvironment=((()=>{const _0x2e96a0=a16_0x124a41,_0x28ab62={};_0x28ab62[_0x2e96a0(0x1de)]=_0x2e96a0(0x210),_0x28ab62[_0x2e96a0(0x1ea)]=_0x2e96a0(0x220);const _0x5cdb99=_0x28ab62;try{const _0x216d0d=helper[_0x2e96a0(0x1f7)](_0x5cdb99['Wbmbl']);if(_0x216d0d[_0x2e96a0(0x1f1)])return _0x216d0d[_0x2e96a0(0x1f1)];const _0x109917=helper[_0x2e96a0(0x1f7)](_0x5cdb99[_0x2e96a0(0x1ea)]);if(_0x109917['getTestEnvironment'])return _0x109917[_0x2e96a0(0x1ee)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x4a8038=a16_0x124a41,_0x143744={'rRhCf':function(_0xfff941,_0x3a3d72){return _0xfff941(_0x3a3d72);},'ERZwN':'node','MgTlf':_0x4a8038(0x204),'sEWyU':function(_0x4a0241,_0x38620e){return _0x4a0241(_0x38620e);}},_0x8ac6da=_0x143744[_0x4a8038(0x226)](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process[_0x4a8038(0x201)][_0x4a8038(0x1e4)]||_0x143744[_0x4a8038(0x211)]});if(!_0x8ac6da)return _0x143744[_0x4a8038(0x226)](_interopRequireDefault,helper[_0x4a8038(0x1f7)](_0x143744[_0x4a8038(0x1eb)]));return _0x143744[_0x4a8038(0x214)](_interopRequireDefault,helper['requireModule'](_0x8ac6da));})()),_seleniumWebdriver2=((()=>{const _0x163947=a16_0x124a41,_0x7b365b={'iLHdA':function(_0x28761b,_0x1c9528){return _0x28761b(_0x1c9528);}};try{const _0x53a627=helper[_0x163947(0x22d)]();return helper[_0x163947(0x1f2)](),_0x7b365b[_0x163947(0x209)](_interopRequireDefault,_0x53a627);}catch{return null;}})());function a16_0x2c20(){const _0x4efc7b=['../../../helpers/testhub/utils','percy','nestedKeyValue','browserstackAgentV2','projectConfig','env','xedkN','3739440ZldCwk','jest-environment-node','global','VEaKz','percyCaptureMode','1511253ItgSrs','iLHdA','JlRty','driver','testContext','quit','shutdown','sessionNameProvided','jest-resolve','ERZwN','split','__driversArray','sEWyU','27558dCpfWp','default','PBJgB','4310IuXoVY','6zTfLLC','browserstackPlatformIndex','exports','__platformCaps','68226RwheSu','JDxpE','capability','jest-config','testEnvironmentOptions','../test-observability/obsReporter','duBMX','registerListeners','../../../helpers/helper','rRhCf','__skipSessionStatus','../../../helpers/test-observability/utils','__timeout','isBrowserstackInfra','3|1|2|0|4','builder','requireSeleniumWebdriver','browserstackPercyBestPlatform','browserStackPercyOptions','8628844hOHNbn','isTrue','Wbmbl','handleTestEvent','96iySdIK','952358CBzMsk','timeout__','4288HnQXZH','BSTACK_JEST_TEST_ENV','1190rJdaAM','FRAMEWORKS','test','cleanupDrivers','aYyIq','HtiTH','MgTlf','__webdriver','JEST','getTestEnvironment','getInstance','platformCaps','resolveTestEnvironment','modifyCommand','RDTXi','Builder','zGKNz','configuration','requireModule','browserStackGlobals','rXpgo','cleanup','shouldProcessEventForTesthub'];a16_0x2c20=function(){return _0x4efc7b;};return a16_0x2c20();}function _interopRequireDefault(_0x569892){return _0x569892&&_0x569892['__esModule']?_0x569892:{'default':_0x569892};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x124a41(0x216)]['Builder']:null;function a16_0x47c6(_0x33b672,_0x1146cb){const _0x2c2074=a16_0x2c20();return a16_0x47c6=function(_0x47c64f,_0x9193c){_0x47c64f=_0x47c64f-0x1da;let _0x58d4e8=_0x2c2074[_0x47c64f];return _0x58d4e8;},a16_0x47c6(_0x33b672,_0x1146cb);}class CustomEnvironment extends _jestUserEnvironment['default']{constructor(_0x3c50cf){const _0x3bab70=a16_0x124a41,_0x442ac4={'JDxpE':_0x3bab70(0x20d),'RDTXi':_0x3bab70(0x22b),'duBMX':function(_0x13c1e8,_0xf3ae65){return _0x13c1e8+_0xf3ae65;},'VEaKz':'9|4|1|2|5|0|7|6|8|3','rXpgo':_0x3bab70(0x221),'zGKNz':_0x3bab70(0x1db),'aYyIq':'percyCaptureMode','lipZJ':'browserstackPercyBestPlatform','BKxEw':function(_0x4629bf,_0x5ba529){return _0x4629bf(_0x5ba529);},'nVmmc':'../../../index','JlRty':'percy','ksFIh':_0x3bab70(0x1f0)};super(_0x3c50cf),this[_0x3bab70(0x205)][_0x3bab70(0x229)]=0x0,this[_0x3bab70(0x1f6)]={};!_0x3c50cf[_0x3bab70(0x221)]&&(_0x3c50cf[_0x3bab70(0x221)]={});if(helper[_0x3bab70(0x22a)]()){const _0xd18b12=_0x442ac4[_0x3bab70(0x1f3)][_0x3bab70(0x212)]('|');let _0x28affb=0x0;while(!![]){switch(_0xd18b12[_0x28affb++]){case'0':this[_0x3bab70(0x21f)]=_0x3c50cf[_0x3bab70(0x200)]?_0x3c50cf[_0x3bab70(0x200)][_0x3bab70(0x21f)]:_0x3c50cf[_0x3bab70(0x21f)];continue;case'1':this[_0x3bab70(0x22c)]=new _seleniumWebdriver2[(_0x3bab70(0x216))]['Builder']();continue;case'2':this[_0x3bab70(0x1f6)]=_0x3c50cf[_0x3bab70(0x221)];continue;case'3':_0x3c50cf[_0x3bab70(0x221)]=_0x3c50cf['projectConfig']?_0x3c50cf[_0x3bab70(0x200)][_0x3bab70(0x221)]:_0x3c50cf[_0x3bab70(0x221)];continue;case'4':this[_0x3bab70(0x205)]['__timeout']=_0x442ac4[_0x3bab70(0x223)](this[_0x3bab70(0x1f6)][_0x3bab70(0x1e2)],constants['BSTACK_DELTA']);continue;}break;}}if(testhubUtils[_0x3bab70(0x1fb)]()){const _0x409ccf=new ObservabilityReporter();_0x409ccf[_0x3bab70(0x224)]();}this[_0x3bab70(0x205)][_0x3bab70(0x1f8)]={},this[_0x3bab70(0x1f6)]['framework']=constants[_0x3bab70(0x1e6)][_0x3bab70(0x1ed)];if(_seleniumWebdriver2){const _0x31cd9a=_0x442ac4[_0x3bab70(0x206)][_0x3bab70(0x212)]('|');let _0xa5f031=0x0;while(!![]){switch(_0x31cd9a[_0xa5f031++]){case'0':this['global'][_0x3bab70(0x207)]=helper['nestedKeyValue'](_0x3c50cf,[_0x442ac4[_0x3bab70(0x1f9)],_0x442ac4[_0x3bab70(0x1f5)],_0x442ac4[_0x3bab70(0x1e9)]]);continue;case'1':this[_0x3bab70(0x205)]['browserstackPlatformIndex']=(_0x3c50cf['projectConfig']?_0x3c50cf['projectConfig'][_0x3bab70(0x21a)]:_0x3c50cf['browserstackPlatformIndex'])||0x0;continue;case'2':this[_0x3bab70(0x205)][_0x3bab70(0x1da)]=helper[_0x3bab70(0x1fe)](_0x3c50cf,[_0x442ac4[_0x3bab70(0x1f9)],_0x442ac4[_0x3bab70(0x1f5)],_0x442ac4['lipZJ']]);continue;case'3':this[_0x3bab70(0x205)][_0x3bab70(0x1fa)]=async()=>{const _0x1beff9=_0x3bab70;await this[_0x1beff9(0x205)][_0x1beff9(0x20b)][_0x1beff9(0x20d)](_0x442ac4[_0x1beff9(0x21e)]);};continue;case'4':this[_0x3bab70(0x205)]['__webdriver']=_0x442ac4['BKxEw'](require,_0x442ac4['nVmmc'])[_0x3bab70(0x1ff)]({...this[_0x3bab70(0x1f6)],'capability':this['capability']||{}},this,testhubUtils[_0x3bab70(0x1fb)]());continue;case'5':this[_0x3bab70(0x205)][_0x3bab70(0x1fd)]=helper[_0x3bab70(0x1fe)](_0x3c50cf,[_0x442ac4['rXpgo'],_0x442ac4['zGKNz'],_0x442ac4[_0x3bab70(0x20a)]]);continue;case'6':helper[_0x3bab70(0x1dd)](this[_0x3bab70(0x1f6)]['skipSessionName'])?this[_0x3bab70(0x205)][_0x3bab70(0x20f)]=!![]:this[_0x3bab70(0x205)][_0x3bab70(0x20f)]=![];continue;case'7':this[_0x3bab70(0x205)][_0x3bab70(0x21c)]=helper[_0x3bab70(0x1fe)](this[_0x3bab70(0x1f6)],[_0x442ac4['ksFIh'],this[_0x3bab70(0x205)][_0x3bab70(0x21a)]])||{};continue;case'8':this[_0x3bab70(0x205)][_0x3bab70(0x227)]=helper[_0x3bab70(0x1dd)](this['configuration']['skipSessionStatus']);continue;case'9':this[_0x3bab70(0x205)]['__drivers']=[];continue;}break;}}}async['teardown'](){const _0x48927b=a16_0x124a41;_seleniumWebdriver2&&(await helper[_0x48927b(0x1e8)](this[_0x48927b(0x205)][_0x48927b(0x213)]),this['global'][_0x48927b(0x1ec)][_0x48927b(0x1f4)]=originalBuilder),await RequestQueueHandler[_0x48927b(0x1ef)]()[_0x48927b(0x20e)]();}async['setup'](){}async[a16_0x124a41(0x1df)](_0x47dba6,_0x2c3956){const _0x2949b2=a16_0x124a41,_0x21b0b8={};_0x21b0b8[_0x2949b2(0x202)]=function(_0x1c251b,_0x50c970){return _0x1c251b===_0x50c970;},_0x21b0b8[_0x2949b2(0x217)]='test_start';const _0x37aff8=_0x21b0b8,{name:_0x4e89f7}=_0x47dba6;_0x37aff8[_0x2949b2(0x202)](_0x4e89f7,_0x37aff8[_0x2949b2(0x217)])&&(this[_0x2949b2(0x205)][_0x2949b2(0x20c)]=_0x47dba6[_0x2949b2(0x1e7)]);}}module[a16_0x124a41(0x21b)]=CustomEnvironment;