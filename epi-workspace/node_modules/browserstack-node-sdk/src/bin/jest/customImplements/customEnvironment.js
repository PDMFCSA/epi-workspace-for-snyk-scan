function a18_0x3a19(){const _0x49e316=['__driversArray','modifyCommand','framework','getInstance','PclcH','136tHKBcl','uJstn','jest-resolve','global','QAoEU','5177105LDyqvc','Builder','VGrZf','KSSRr','skipSessionStatus','cleanupDrivers','../../utils/constants','message','__jestRetries','WuAch','shutdown','teardown','failFastActive','DzhDB','shouldProcessEventForTesthub','configuration','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','cleanup','../../../helpers/helper','tghix','requireModule','test','browserstackPercyBestPlatform','resolveTestEnvironment','JEST','isNotUndefined','../../../helpers/testhub/utils','__platformCaps','397107xPDtZX','__skipSessionStatus','failFastOptions','47558BZQJpn','errors','1728844rHvuWx','../../../index','getTestEnvironment','capability','isTrue','4viAnxH','UIKkL','iltdr','owOJp','cwd','jest-config','bRwEo','aclpe','onTestDone','builder','DWEEI','Lfxlb','handleTestEvent','pUMuk','browserStackGlobals','../test-observability/obsReporter','browserStackPercyOptions','__webdriver','testEnvironmentOptions','fXJdm','../../../helpers/test-orchestration/failfastManager','ISQJO','BSTACK_JEST_TEST_ENV','dMXUD','230039lhvOdM','BSTACK_DELTA','test_start','32686380OKHkqJ','nestedKeyValue','info','mMAXF','browserstackPlatformIndex','mode','winstonLogger','yBkah','6|9|5|2|0|1|3|4|8|7','projectConfig','Error\x20in\x20fail-fast\x20test_done\x20handler:','\x20>\x20','testContext','isBrowserstackInfra','sessionNameProvided','env','split','name','mhHUY','platformCaps','node','396cMXlLF','debug','percy','shouldFailFast','../../../helpers/logger','quit','exports','browserstackAgentV2','default','skip','UIwZj','__esModule','failFast','1767279czyTRK','join'];a18_0x3a19=function(){return _0x49e316;};return a18_0x3a19();}const a18_0x3065b2=a18_0x14a1;(function(_0x4321fb,_0x3b9e11){const _0x50d7e7=a18_0x14a1,_0x444222=_0x4321fb();while(!![]){try{const _0xcbe357=-parseInt(_0x50d7e7(0x177))/0x1+-parseInt(_0x50d7e7(0x15a))/0x2+parseInt(_0x50d7e7(0x12d))/0x3+-parseInt(_0x50d7e7(0x15f))/0x4*(parseInt(_0x50d7e7(0x139))/0x5)+-parseInt(_0x50d7e7(0x120))/0x6*(parseInt(_0x50d7e7(0x158))/0x7)+-parseInt(_0x50d7e7(0x134))/0x8*(parseInt(_0x50d7e7(0x155))/0x9)+parseInt(_0x50d7e7(0x17a))/0xa;if(_0xcbe357===_0x3b9e11)break;else _0x444222['push'](_0x444222['shift']());}catch(_0x5ab557){_0x444222['push'](_0x444222['shift']());}}}(a18_0x3a19,0x813ca));const helper=require(a18_0x3065b2(0x14b)),constants=require(a18_0x3065b2(0x13f)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require(a18_0x3065b2(0x16e)),testhubUtils=require(a18_0x3065b2(0x153)),logger=require(a18_0x3065b2(0x124))[a18_0x3065b2(0x180)],getTestEnvironment=((()=>{const _0x5be92f=a18_0x3065b2,_0x1f5373={};_0x1f5373[_0x5be92f(0x16c)]=_0x5be92f(0x136),_0x1f5373[_0x5be92f(0x160)]=_0x5be92f(0x164);const _0xfe56ac=_0x1f5373;try{const _0x5a80af=helper[_0x5be92f(0x14d)](_0xfe56ac['pUMuk']);if(_0x5a80af['resolveTestEnvironment'])return _0x5a80af[_0x5be92f(0x150)];const _0x2ca629=helper[_0x5be92f(0x14d)](_0xfe56ac[_0x5be92f(0x160)]);if(_0x2ca629[_0x5be92f(0x15c)])return _0x2ca629['getTestEnvironment'];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x6b99dd=a18_0x3065b2,_0x19a82a={'WuAch':function(_0x55dadf,_0x581188){return _0x55dadf(_0x581188);},'jsKxm':_0x6b99dd(0x11f),'mMAXF':'jest-environment-node','VGrZf':function(_0x43fce4,_0x10638f){return _0x43fce4(_0x10638f);}},_0x2a788c=_0x19a82a[_0x6b99dd(0x142)](getTestEnvironment,{'rootDir':process[_0x6b99dd(0x163)](),'testEnvironment':process[_0x6b99dd(0x11a)][_0x6b99dd(0x175)]||_0x19a82a['jsKxm']});if(!_0x2a788c)return _0x19a82a[_0x6b99dd(0x142)](_interopRequireDefault,helper[_0x6b99dd(0x14d)](_0x19a82a[_0x6b99dd(0x17d)]));return _0x19a82a[_0x6b99dd(0x13b)](_interopRequireDefault,helper[_0x6b99dd(0x14d)](_0x2a788c));})()),_seleniumWebdriver2=((()=>{const _0x2ce9f9=a18_0x3065b2,_0x3b7172={'QAoEU':function(_0x2a257b,_0x2cc00d){return _0x2a257b(_0x2cc00d);}};try{const _0x56ac6b=helper['requireSeleniumWebdriver']();return helper[_0x2ce9f9(0x130)](),_0x3b7172[_0x2ce9f9(0x138)](_interopRequireDefault,_0x56ac6b);}catch{return null;}})());function _interopRequireDefault(_0xc2dce7){const _0x40d7b1=a18_0x3065b2;return _0xc2dce7&&_0xc2dce7[_0x40d7b1(0x12b)]?_0xc2dce7:{'default':_0xc2dce7};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2['default']['Builder']:null;class CustomEnvironment extends _jestUserEnvironment[a18_0x3065b2(0x128)]{constructor(_0xba9fb4){const _0x396d2c=a18_0x3065b2,_0x52acde={'dMXUD':_0x396d2c(0x125),'KSSRr':function(_0x181b34,_0x2707db){return _0x181b34+_0x2707db;},'bRwEo':'bstack:options','DWEEI':function(_0x2204a3,_0x40f40f){return _0x2204a3(_0x40f40f);},'PclcH':_0x396d2c(0x173),'owOJp':_0x396d2c(0x182),'UIwZj':_0x396d2c(0x171),'mhHUY':_0x396d2c(0x16f),'yBkah':_0x396d2c(0x122),'DzhDB':'percyCaptureMode','aclpe':_0x396d2c(0x14f),'pjcCX':_0x396d2c(0x11e),'FPBDk':function(_0x2499b5,_0x5b2839){return _0x2499b5(_0x5b2839);},'BKjFu':_0x396d2c(0x15b)};super(_0xba9fb4),this[_0x396d2c(0x137)]['__timeout']=0x0,this['configuration']={};!_0xba9fb4[_0x396d2c(0x171)]&&(_0xba9fb4[_0x396d2c(0x171)]={});if(helper[_0x396d2c(0x187)]()){_0xba9fb4['testEnvironmentOptions']=_0xba9fb4['projectConfig']?_0xba9fb4['projectConfig'][_0x396d2c(0x171)]:_0xba9fb4[_0x396d2c(0x171)],this[_0x396d2c(0x168)]=new _seleniumWebdriver2['default'][(_0x396d2c(0x13a))](),this[_0x396d2c(0x15d)]=_0xba9fb4[_0x396d2c(0x183)]?_0xba9fb4[_0x396d2c(0x183)]['capability']:_0xba9fb4[_0x396d2c(0x15d)],this[_0x396d2c(0x137)]['__timeout']=_0x52acde[_0x396d2c(0x13c)](this[_0x396d2c(0x148)]['timeout__'],constants[_0x396d2c(0x178)]),this[_0x396d2c(0x157)]=_0xba9fb4[_0x396d2c(0x171)]['failFast'];if(this[_0x396d2c(0x157)]){const _0x56d592=this[_0x396d2c(0x15d)][_0x52acde[_0x396d2c(0x165)]]?.['buildName']||'',_0x232dba=this[_0x396d2c(0x15d)][_0x52acde[_0x396d2c(0x165)]]?.['projectName']||'';this[_0x396d2c(0x12c)]=new(_0x52acde[_0x396d2c(0x169)](require,_0x52acde[_0x396d2c(0x133)]))(this[_0x396d2c(0x157)],_0x56d592,_0x232dba),this['global'][_0x396d2c(0x145)]=![];}helper[_0x396d2c(0x152)](this[_0x396d2c(0x148)]['retries__'])&&(this['global'][_0x396d2c(0x141)]=this[_0x396d2c(0x148)]['retries__']);}if(testhubUtils[_0x396d2c(0x147)]()){const _0x2a0144=new ObservabilityReporter();_0x2a0144['registerListeners']();}this[_0x396d2c(0x137)][_0x396d2c(0x16d)]={},this[_0x396d2c(0x148)]=_0xba9fb4[_0x396d2c(0x171)],this[_0x396d2c(0x148)][_0x396d2c(0x131)]=constants['FRAMEWORKS'][_0x396d2c(0x151)];if(_seleniumWebdriver2){const _0x49ff1f=_0x52acde[_0x396d2c(0x162)][_0x396d2c(0x11b)]('|');let _0x6a0b66=0x0;while(!![]){switch(_0x49ff1f[_0x6a0b66++]){case'0':this['global'][_0x396d2c(0x122)]=helper[_0x396d2c(0x17b)](_0xba9fb4,[_0x52acde[_0x396d2c(0x12a)],_0x52acde[_0x396d2c(0x11d)],_0x52acde[_0x396d2c(0x181)]]);continue;case'1':this[_0x396d2c(0x137)]['percyCaptureMode']=helper[_0x396d2c(0x17b)](_0xba9fb4,[_0x52acde['UIwZj'],_0x52acde['mhHUY'],_0x52acde[_0x396d2c(0x146)]]);continue;case'2':this[_0x396d2c(0x137)][_0x396d2c(0x14f)]=helper[_0x396d2c(0x17b)](_0xba9fb4,[_0x52acde[_0x396d2c(0x12a)],_0x52acde[_0x396d2c(0x11d)],_0x52acde[_0x396d2c(0x166)]]);continue;case'3':this[_0x396d2c(0x137)][_0x396d2c(0x154)]=helper[_0x396d2c(0x17b)](this[_0x396d2c(0x148)],[_0x52acde['pjcCX'],this[_0x396d2c(0x137)][_0x396d2c(0x17e)]])||{};continue;case'4':helper[_0x396d2c(0x15e)](this[_0x396d2c(0x148)]['skipSessionName'])?this[_0x396d2c(0x137)][_0x396d2c(0x188)]=!![]:this[_0x396d2c(0x137)][_0x396d2c(0x188)]=![];continue;case'5':this[_0x396d2c(0x137)][_0x396d2c(0x17e)]=(_0xba9fb4[_0x396d2c(0x183)]?_0xba9fb4[_0x396d2c(0x183)][_0x396d2c(0x17e)]:_0xba9fb4[_0x396d2c(0x17e)])||0x0;continue;case'6':this['global']['__drivers']=[];continue;case'7':this[_0x396d2c(0x137)][_0x396d2c(0x14a)]=async()=>{const _0x5c688e=_0x396d2c;await this[_0x5c688e(0x137)]['driver'][_0x5c688e(0x125)](_0x52acde[_0x5c688e(0x176)]);};continue;case'8':this['global'][_0x396d2c(0x156)]=helper['isTrue'](this[_0x396d2c(0x148)][_0x396d2c(0x13d)]);continue;case'9':this['global'][_0x396d2c(0x170)]=_0x52acde['FPBDk'](require,_0x52acde['BKjFu'])[_0x396d2c(0x127)]({...this['configuration'],'capability':this[_0x396d2c(0x15d)]||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;}break;}}}async[a18_0x3065b2(0x144)](){const _0x580682=a18_0x3065b2;_seleniumWebdriver2&&(await helper[_0x580682(0x13e)](this[_0x580682(0x137)][_0x580682(0x12f)]),this[_0x580682(0x137)]['__webdriver'][_0x580682(0x13a)]=originalBuilder),await RequestQueueHandler[_0x580682(0x132)]()[_0x580682(0x143)]();}async['setup'](){}async[a18_0x3065b2(0x16b)](_0x37d337,_0x14f66a){const _0x2a4a10=a18_0x3065b2,_0x90c627={};_0x90c627['nJcqH']=function(_0x1746a4,_0x1596ad){return _0x1746a4===_0x1596ad;},_0x90c627[_0x2a4a10(0x161)]=_0x2a4a10(0x179),_0x90c627[_0x2a4a10(0x14c)]=function(_0x5cdb64,_0x56c2fc){return _0x5cdb64===_0x56c2fc;},_0x90c627[_0x2a4a10(0x16a)]=_0x2a4a10(0x129),_0x90c627['rVPUz']='test_done',_0x90c627[_0x2a4a10(0x174)]=_0x2a4a10(0x185),_0x90c627[_0x2a4a10(0x135)]=function(_0x32c2f0,_0x51c709){return _0x32c2f0===_0x51c709;},_0x90c627[_0x2a4a10(0x172)]=_0x2a4a10(0x184),_0x90c627['ZCRnT']=_0x2a4a10(0x144);const _0x4fddde=_0x90c627,{name:_0xcd6c93}=_0x37d337;if(_0x4fddde['nJcqH'](_0xcd6c93,_0x4fddde['iltdr'])){this[_0x2a4a10(0x137)][_0x2a4a10(0x186)]=_0x37d337[_0x2a4a10(0x14e)];if(_0x4fddde['tghix'](this[_0x2a4a10(0x137)]['failFastActive'],!![])){const _0x4b0e8c=_0x37d337['test'][_0x2a4a10(0x11c)];logger[_0x2a4a10(0x17c)](_0x2a4a10(0x149)+_0x4b0e8c),_0x37d337[_0x2a4a10(0x14e)][_0x2a4a10(0x17f)]=_0x4fddde[_0x2a4a10(0x16a)];}}if(this[_0x2a4a10(0x12c)]&&_0x4fddde[_0x2a4a10(0x14c)](_0xcd6c93,_0x4fddde['rVPUz']))try{const _0x2a8abd=_0x37d337[_0x2a4a10(0x14e)]['testPath'][_0x2a4a10(0x12e)](_0x4fddde['ISQJO']),_0x458c34=_0x37d337[_0x2a4a10(0x14e)][_0x2a4a10(0x159)];await this[_0x2a4a10(0x12c)][_0x2a4a10(0x167)](_0x2a8abd,_0x458c34);const _0xc2dbd2=await this[_0x2a4a10(0x12c)][_0x2a4a10(0x123)]();_0x4fddde[_0x2a4a10(0x14c)](this[_0x2a4a10(0x137)]['failFastActive'],![])&&_0x4fddde[_0x2a4a10(0x135)](_0xc2dbd2,!![])&&(this[_0x2a4a10(0x137)][_0x2a4a10(0x145)]=!![]);}catch(_0x447d10){logger[_0x2a4a10(0x121)](_0x4fddde[_0x2a4a10(0x172)],_0x447d10[_0x2a4a10(0x140)]);}_0x4fddde['uJstn'](_0xcd6c93,_0x4fddde['ZCRnT'])&&(this['failFast']&&this[_0x2a4a10(0x12c)][_0x2a4a10(0x14a)]());}}function a18_0x14a1(_0x1f7324,_0x21d3a1){const _0x3a19fd=a18_0x3a19();return a18_0x14a1=function(_0x14a1b9,_0x3ea268){_0x14a1b9=_0x14a1b9-0x11a;let _0x238780=_0x3a19fd[_0x14a1b9];return _0x238780;},a18_0x14a1(_0x1f7324,_0x21d3a1);}module[a18_0x3065b2(0x126)]=CustomEnvironment;