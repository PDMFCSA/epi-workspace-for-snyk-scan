const a16_0x1703a4=a16_0x4213;(function(_0x163791,_0x565bbf){const _0x5b02d7=a16_0x4213,_0x314f83=_0x163791();while(!![]){try{const _0x5e415f=-parseInt(_0x5b02d7(0x13a))/0x1*(parseInt(_0x5b02d7(0x117))/0x2)+parseInt(_0x5b02d7(0x15e))/0x3*(-parseInt(_0x5b02d7(0x107))/0x4)+-parseInt(_0x5b02d7(0x13d))/0x5*(parseInt(_0x5b02d7(0x129))/0x6)+-parseInt(_0x5b02d7(0x105))/0x7*(parseInt(_0x5b02d7(0x134))/0x8)+-parseInt(_0x5b02d7(0x160))/0x9*(-parseInt(_0x5b02d7(0x118))/0xa)+-parseInt(_0x5b02d7(0x15d))/0xb*(parseInt(_0x5b02d7(0x112))/0xc)+parseInt(_0x5b02d7(0x146))/0xd*(parseInt(_0x5b02d7(0x151))/0xe);if(_0x5e415f===_0x565bbf)break;else _0x314f83['push'](_0x314f83['shift']());}catch(_0x4098b0){_0x314f83['push'](_0x314f83['shift']());}}}(a16_0x4c46,0x87758));const helper=require(a16_0x1703a4(0x104)),constants=require(a16_0x1703a4(0x111)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require(a16_0x1703a4(0x12f)),ObservabilityReporter=require(a16_0x1703a4(0x11d)),testhubUtils=require(a16_0x1703a4(0x113)),logger=require(a16_0x1703a4(0x10e))[a16_0x1703a4(0x132)],getTestEnvironment=((()=>{const _0x387ba0=a16_0x1703a4,_0x431373={};_0x431373[_0x387ba0(0x128)]='jest-resolve',_0x431373[_0x387ba0(0x11c)]=_0x387ba0(0x16d);const _0x4f331d=_0x431373;try{const _0xde5b3d=helper['requireModule'](_0x4f331d[_0x387ba0(0x128)]);if(_0xde5b3d[_0x387ba0(0x15a)])return _0xde5b3d['resolveTestEnvironment'];const _0x4ab3f5=helper['requireModule'](_0x4f331d[_0x387ba0(0x11c)]);if(_0x4ab3f5[_0x387ba0(0x15c)])return _0x4ab3f5['getTestEnvironment'];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x160db1=a16_0x1703a4,_0x48be27={'CZtMs':function(_0x7eeedd,_0x245edc){return _0x7eeedd(_0x245edc);},'EMZWb':_0x160db1(0x14f),'CvIOf':_0x160db1(0x164)},_0xd625b8=_0x48be27[_0x160db1(0x165)](getTestEnvironment,{'rootDir':process[_0x160db1(0x102)](),'testEnvironment':process['env'][_0x160db1(0x10d)]||_0x48be27[_0x160db1(0x16b)]});if(!_0xd625b8)return _0x48be27[_0x160db1(0x165)](_interopRequireDefault,helper[_0x160db1(0x16a)](_0x48be27[_0x160db1(0x150)]));return _0x48be27[_0x160db1(0x165)](_interopRequireDefault,helper[_0x160db1(0x16a)](_0xd625b8));})()),_seleniumWebdriver2=((()=>{const _0xce8fe=a16_0x1703a4,_0x235b39={'ibfEz':function(_0xd23ae4,_0x3f9eda){return _0xd23ae4(_0x3f9eda);}};try{const _0x51cc5f=helper[_0xce8fe(0x166)]();return helper[_0xce8fe(0x140)](),_0x235b39[_0xce8fe(0x115)](_interopRequireDefault,_0x51cc5f);}catch{return null;}})());function _interopRequireDefault(_0x2284c7){const _0x4ad6be=a16_0x1703a4;return _0x2284c7&&_0x2284c7[_0x4ad6be(0x149)]?_0x2284c7:{'default':_0x2284c7};}function a16_0x4c46(){const _0x3ccd2a=['shouldProcessEventForTesthub','browserstackPercyBestPlatform','node','CvIOf','12281108zgkRfa','projectName','SzdTD','platformCaps','builder','shutdown','test','QlKOg','quit','resolveTestEnvironment','failFastOptions','getTestEnvironment','720907OiiTRW','12PQyKZi','join','63ZlDIpP','JEST','browserStackGlobals','KYkdm','jest-environment-node','CZtMs','requireSeleniumWebdriver','testPath','retries__','teardown','requireModule','EMZWb','fPJRN','jest-config','QqiCR','timeout__','failFast','cwd','testContext','../../../helpers/helper','322259xjIiLE','failFastActive','895452DlbiNn','OyfgT','testEnvironmentOptions','__platformCaps','split','capabilities','BSTACK_JEST_TEST_ENV','../../../helpers/logger','percyCaptureMode','Dnium','../../utils/constants','36kzIEsl','../../../helpers/testhub/utils','KBqzJ','ibfEz','czaCP','1505246pUZCVD','772500AmDHOF','__webdriver','isArray','cleanup','NqjKc','../test-observability/obsReporter','QSdxG','test_done','info','uhnKp','Builder','percy','projectConfig','skipSessionStatus','__timeout','default','cqcsg','114vvRgFb','isNotUndefined','pXJjL','\x20>\x20','global','configuration','../../../helpers/test-observability/requestQueueHandler','__skipSessionStatus','NWYWa','winstonLogger','ezucT','136SgmTox','browserstackPlatformIndex','exports','nestedKeyValue','sessionNameProvided','bstack:options','1xKmHBb','driver','name','228285eWqOmK','../../../helpers/test-orchestration/failfastManager','rXYyN','modifyCommand','capability','browserStackPercyOptions','debug','mode','test_start','52YFCgoW','isBrowserstackInfra','cleanupDrivers','__esModule','handleTestEvent','BSTACK_DELTA','message'];a16_0x4c46=function(){return _0x3ccd2a;};return a16_0x4c46();}function a16_0x4213(_0x3ca851,_0x22d0ae){const _0x4c46ce=a16_0x4c46();return a16_0x4213=function(_0x421323,_0x12f7b4){_0x421323=_0x421323-0x102;let _0x2f9189=_0x4c46ce[_0x421323];return _0x2f9189;},a16_0x4213(_0x3ca851,_0x22d0ae);}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x1703a4(0x127)]['Builder']:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x1703a4(0x127)]{constructor(_0x54124e){const _0x232e12=a16_0x1703a4,_0x120a00={'covIg':_0x232e12(0x159),'AaZBH':function(_0x2eb0cb,_0xaa5741){return _0x2eb0cb+_0xaa5741;},'QlKOg':_0x232e12(0x139),'fPJRN':function(_0x57f8e5,_0x5e79b5){return _0x57f8e5(_0x5e79b5);},'VIeGx':_0x232e12(0x13e),'Dnium':'6|3|4|7|1|0|2|5','KYkdm':_0x232e12(0x109),'OyfgT':_0x232e12(0x142),'KBqzJ':'percyCaptureMode','VQSwX':function(_0x1e34ee,_0x20760b){return _0x1e34ee(_0x20760b);},'XbLhI':'../../../index','QSdxG':_0x232e12(0x14e),'pXJjL':_0x232e12(0x123)};super(_0x54124e),this[_0x232e12(0x12d)][_0x232e12(0x126)]=0x0,this[_0x232e12(0x12e)]={};!_0x54124e[_0x232e12(0x109)]&&(_0x54124e['testEnvironmentOptions']={});if(helper[_0x232e12(0x147)]()){_0x54124e[_0x232e12(0x109)]=_0x54124e[_0x232e12(0x124)]?_0x54124e[_0x232e12(0x124)][_0x232e12(0x109)]:_0x54124e['testEnvironmentOptions'];_seleniumWebdriver2&&(this[_0x232e12(0x155)]=new _seleniumWebdriver2[(_0x232e12(0x127))][(_0x232e12(0x122))]());this[_0x232e12(0x141)]=_0x54124e[_0x232e12(0x124)]?_0x54124e[_0x232e12(0x124)]['capability']:_0x54124e[_0x232e12(0x141)],this['global']['__timeout']=_0x120a00['AaZBH'](_0x54124e[_0x232e12(0x109)][_0x232e12(0x16f)]||0x1388,constants[_0x232e12(0x14b)]),this['failFastOptions']=_0x54124e[_0x232e12(0x109)][_0x232e12(0x170)];if(this[_0x232e12(0x15b)]){const _0x1438fc=this[_0x232e12(0x141)][_0x120a00[_0x232e12(0x158)]]?.['buildName']||'',_0x57af63=this[_0x232e12(0x141)][_0x120a00[_0x232e12(0x158)]]?.[_0x232e12(0x152)]||'';this['failFast']=new(_0x120a00[_0x232e12(0x16c)](require,_0x120a00['VIeGx']))(this[_0x232e12(0x15b)],_0x1438fc,_0x57af63),this['global'][_0x232e12(0x106)]=![];}helper[_0x232e12(0x12a)](_0x54124e[_0x232e12(0x109)][_0x232e12(0x168)])&&(this['global']['__jestRetries']=_0x54124e[_0x232e12(0x109)]['retries__']);}if(testhubUtils[_0x232e12(0x14d)]()){const _0x548997=new ObservabilityReporter();_0x548997['registerListeners']();}this['global'][_0x232e12(0x162)]={},this[_0x232e12(0x12e)]=_0x54124e[_0x232e12(0x109)],this[_0x232e12(0x12e)]['framework']=constants['FRAMEWORKS'][_0x232e12(0x161)],this['global'][_0x232e12(0x135)]=(_0x54124e[_0x232e12(0x124)]?_0x54124e[_0x232e12(0x124)][_0x232e12(0x135)]:_0x54124e[_0x232e12(0x135)])||0x0,this['global'][_0x232e12(0x10a)]=this[_0x232e12(0x12e)]&&this[_0x232e12(0x12e)][_0x232e12(0x154)]&&Array['isArray'](this['configuration']['platformCaps'])&&this[_0x232e12(0x12e)][_0x232e12(0x154)][this[_0x232e12(0x12d)]['browserstackPlatformIndex']]||{};const _0x560654=this[_0x232e12(0x12d)][_0x232e12(0x135)],_0x331d16={...this['configuration'],'capability':this[_0x232e12(0x12e)]['capabilities']&&Array[_0x232e12(0x11a)](this['configuration']['capabilities'])&&this[_0x232e12(0x12e)][_0x232e12(0x10c)][_0x560654]||{},'platformCaps':this[_0x232e12(0x12e)]['platformCaps']&&Array[_0x232e12(0x11a)](this['configuration'][_0x232e12(0x154)])&&this[_0x232e12(0x12e)][_0x232e12(0x154)][_0x560654]||{}};delete _0x331d16[_0x232e12(0x10c)],this[_0x232e12(0x12d)]['jestConfig']=_0x331d16;if(_seleniumWebdriver2){const _0x57a896=_0x120a00[_0x232e12(0x110)][_0x232e12(0x10b)]('|');let _0x4d5472=0x0;while(!![]){switch(_0x57a896[_0x4d5472++]){case'0':helper['isTrue'](this[_0x232e12(0x12e)]['skipSessionName'])?this['global']['sessionNameProvided']=!![]:this['global'][_0x232e12(0x138)]=![];continue;case'1':this['global'][_0x232e12(0x10f)]=helper[_0x232e12(0x137)](_0x54124e,[_0x120a00[_0x232e12(0x163)],_0x120a00[_0x232e12(0x108)],_0x120a00[_0x232e12(0x114)]]);continue;case'2':this[_0x232e12(0x12d)][_0x232e12(0x130)]=helper['isTrue'](this[_0x232e12(0x12e)][_0x232e12(0x125)]);continue;case'3':this[_0x232e12(0x12d)][_0x232e12(0x119)]=_0x120a00['VQSwX'](require,_0x120a00['XbLhI'])['browserstackAgentV2']({...this[_0x232e12(0x12e)],'capability':this[_0x232e12(0x141)]||{}},this,testhubUtils[_0x232e12(0x14d)]());continue;case'4':this['global'][_0x232e12(0x14e)]=helper['nestedKeyValue'](_0x54124e,[_0x120a00['KYkdm'],_0x120a00[_0x232e12(0x108)],_0x120a00[_0x232e12(0x11e)]]);continue;case'5':this[_0x232e12(0x12d)][_0x232e12(0x11b)]=async()=>{const _0x277429=_0x232e12;await this[_0x277429(0x12d)][_0x277429(0x13b)]['quit'](_0x120a00['covIg']);};continue;case'6':this[_0x232e12(0x12d)]['__drivers']=[];continue;case'7':this['global'][_0x232e12(0x123)]=helper[_0x232e12(0x137)](_0x54124e,[_0x120a00[_0x232e12(0x163)],_0x120a00[_0x232e12(0x108)],_0x120a00[_0x232e12(0x12b)]]);continue;}break;}}}async[a16_0x1703a4(0x169)](){const _0x231e2b=a16_0x1703a4;_seleniumWebdriver2&&(await helper[_0x231e2b(0x148)](this[_0x231e2b(0x12d)]['__driversArray']),this[_0x231e2b(0x12d)][_0x231e2b(0x119)][_0x231e2b(0x122)]=originalBuilder),await RequestQueueHandler['getInstance']()[_0x231e2b(0x156)]();}async['setup'](){}async[a16_0x1703a4(0x14a)](_0x11c3bc,_0x17994d){const _0x457dff=a16_0x1703a4,_0x51dfb9={};_0x51dfb9[_0x457dff(0x121)]=function(_0x2a4a0d,_0x1c4cb6){return _0x2a4a0d===_0x1c4cb6;},_0x51dfb9[_0x457dff(0x16e)]=_0x457dff(0x145),_0x51dfb9['NWYWa']=function(_0x1f35f1,_0x147e99){return _0x1f35f1===_0x147e99;},_0x51dfb9[_0x457dff(0x153)]='skip',_0x51dfb9['tdciG']=function(_0x5393d1,_0x4af235){return _0x5393d1===_0x4af235;},_0x51dfb9[_0x457dff(0x13f)]=_0x457dff(0x11f),_0x51dfb9[_0x457dff(0x116)]=_0x457dff(0x12c),_0x51dfb9[_0x457dff(0x133)]='Error\x20in\x20fail-fast\x20test_done\x20handler:',_0x51dfb9['ikvCD']='teardown';const _0x4b9105=_0x51dfb9,{name:_0x14aee3}=_0x11c3bc;if(_0x4b9105[_0x457dff(0x121)](_0x14aee3,_0x4b9105[_0x457dff(0x16e)])){this['global'][_0x457dff(0x103)]=_0x11c3bc[_0x457dff(0x157)];if(_0x4b9105['NWYWa'](this[_0x457dff(0x12d)][_0x457dff(0x106)],!![])){const _0x5b4d53=_0x11c3bc[_0x457dff(0x157)][_0x457dff(0x13c)];logger[_0x457dff(0x120)]('Fail-fast\x20is\x20active,\x20skipping\x20test::\x20'+_0x5b4d53),_0x11c3bc['test'][_0x457dff(0x144)]=_0x4b9105[_0x457dff(0x153)];}}if(this[_0x457dff(0x170)]&&_0x4b9105['tdciG'](_0x14aee3,_0x4b9105['rXYyN']))try{const _0x507864=_0x11c3bc[_0x457dff(0x157)][_0x457dff(0x167)][_0x457dff(0x15f)](_0x4b9105[_0x457dff(0x116)]),_0x227d7a=_0x11c3bc[_0x457dff(0x157)]['errors'];await this['failFast']['onTestDone'](_0x507864,_0x227d7a);const _0x3da11a=await this[_0x457dff(0x170)]['shouldFailFast']();_0x4b9105[_0x457dff(0x121)](this['global'][_0x457dff(0x106)],![])&&_0x4b9105[_0x457dff(0x131)](_0x3da11a,!![])&&(this['global']['failFastActive']=!![]);}catch(_0x864f57){logger[_0x457dff(0x143)](_0x4b9105['ezucT'],_0x864f57[_0x457dff(0x14c)]);}_0x4b9105[_0x457dff(0x121)](_0x14aee3,_0x4b9105['ikvCD'])&&(this[_0x457dff(0x170)]&&this[_0x457dff(0x170)][_0x457dff(0x11b)]());}}module[a16_0x1703a4(0x136)]=CustomEnvironment;