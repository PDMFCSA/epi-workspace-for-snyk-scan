function a18_0x202d(_0xcff4a1,_0x5c9498){const _0x661edc=a18_0x661e();return a18_0x202d=function(_0x202d83,_0x4d2ef6){_0x202d83=_0x202d83-0xe0;let _0x53cc44=_0x661edc[_0x202d83];return _0x53cc44;},a18_0x202d(_0xcff4a1,_0x5c9498);}const a18_0x5be8be=a18_0x202d;(function(_0x2bb381,_0x37f7c0){const _0x33360b=a18_0x202d,_0x1621a8=_0x2bb381();while(!![]){try{const _0x1eeab6=-parseInt(_0x33360b(0xec))/0x1+parseInt(_0x33360b(0x150))/0x2*(-parseInt(_0x33360b(0x10b))/0x3)+parseInt(_0x33360b(0x14b))/0x4+parseInt(_0x33360b(0x11e))/0x5+-parseInt(_0x33360b(0x145))/0x6*(-parseInt(_0x33360b(0x12d))/0x7)+parseInt(_0x33360b(0x143))/0x8+-parseInt(_0x33360b(0x128))/0x9*(parseInt(_0x33360b(0xe9))/0xa);if(_0x1eeab6===_0x37f7c0)break;else _0x1621a8['push'](_0x1621a8['shift']());}catch(_0x73d883){_0x1621a8['push'](_0x1621a8['shift']());}}}(a18_0x661e,0x22a27));const helper=require(a18_0x5be8be(0x130)),constants=require('../../utils/constants'),{isTestObservabilitySession}=require(a18_0x5be8be(0x107)),RequestQueueHandler=require(a18_0x5be8be(0x125)),ObservabilityReporter=require('../test-observability/obsReporter'),testhubUtils=require(a18_0x5be8be(0x13d)),logger=require(a18_0x5be8be(0x11b))['winstonLogger'],getTestEnvironment=((()=>{const _0x285e2c=a18_0x5be8be,_0x425746={};_0x425746[_0x285e2c(0x138)]=_0x285e2c(0x144),_0x425746['AzoHO']=_0x285e2c(0x119);const _0x368ca6=_0x425746;try{const _0x2d4807=helper[_0x285e2c(0xf2)](_0x368ca6[_0x285e2c(0x138)]);if(_0x2d4807[_0x285e2c(0x11c)])return _0x2d4807[_0x285e2c(0x11c)];const _0x5ddde5=helper[_0x285e2c(0xf2)](_0x368ca6[_0x285e2c(0x14a)]);if(_0x5ddde5[_0x285e2c(0x12f)])return _0x5ddde5[_0x285e2c(0x12f)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x260231=a18_0x5be8be,_0x29eed8={'gyePd':function(_0x40ff3a,_0x2727d3){return _0x40ff3a(_0x2727d3);},'jKotO':_0x260231(0x112),'dmtFc':function(_0x3c7d86,_0x4ed7ae){return _0x3c7d86(_0x4ed7ae);},'DArbE':_0x260231(0x154),'nSzyC':function(_0x507a91,_0x146b01){return _0x507a91(_0x146b01);}},_0x3033d1=_0x29eed8[_0x260231(0xfc)](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process[_0x260231(0x126)][_0x260231(0xf7)]||_0x29eed8[_0x260231(0x136)]});if(!_0x3033d1)return _0x29eed8[_0x260231(0x123)](_interopRequireDefault,helper[_0x260231(0xf2)](_0x29eed8[_0x260231(0x111)]));return _0x29eed8[_0x260231(0x134)](_interopRequireDefault,helper['requireModule'](_0x3033d1));})()),_seleniumWebdriver2=((()=>{const _0x3376ce=a18_0x5be8be,_0x45f8b9={'mTmmy':function(_0x3b06d1,_0x4562d3){return _0x3b06d1(_0x4562d3);}};try{const _0x23433c=helper[_0x3376ce(0xfb)]();return helper[_0x3376ce(0x10a)](),_0x45f8b9[_0x3376ce(0x137)](_interopRequireDefault,_0x23433c);}catch{return null;}})());function _interopRequireDefault(_0x21c721){const _0xfce090=a18_0x5be8be;return _0x21c721&&_0x21c721[_0xfce090(0x149)]?_0x21c721:{'default':_0x21c721};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a18_0x5be8be(0x13a)][a18_0x5be8be(0xe7)]:null;class CustomEnvironment extends _jestUserEnvironment[a18_0x5be8be(0x13a)]{constructor(_0x315b1b){const _0x54f806=a18_0x5be8be,_0x4ecf2e={'ejjev':_0x54f806(0x155),'uwyYS':function(_0x1c2799,_0xa172ea){return _0x1c2799+_0xa172ea;},'RNZiB':_0x54f806(0x103),'bEMLu':function(_0x585253,_0x34aa5f){return _0x585253(_0x34aa5f);},'xkSuS':_0x54f806(0xef),'vSKQf':_0x54f806(0xfd),'DaOuZ':_0x54f806(0x13e),'MPCHS':_0x54f806(0xf1),'otKJj':'browserstackPercyBestPlatform','fcMoV':function(_0x32cb65,_0x167ac8){return _0x32cb65(_0x167ac8);},'kAkKj':'../../../index','FlOuO':'percyCaptureMode','zeamJ':_0x54f806(0xf5),'sBRyr':_0x54f806(0xe1)};super(_0x315b1b),this['global'][_0x54f806(0x156)]=0x0,this[_0x54f806(0x116)]={};!_0x315b1b[_0x54f806(0x13e)]&&(_0x315b1b[_0x54f806(0x13e)]={});if(helper[_0x54f806(0xea)]()){_0x315b1b[_0x54f806(0x13e)]=_0x315b1b[_0x54f806(0x133)]?_0x315b1b[_0x54f806(0x133)][_0x54f806(0x13e)]:_0x315b1b[_0x54f806(0x13e)],this[_0x54f806(0x102)]=new _seleniumWebdriver2[(_0x54f806(0x13a))][(_0x54f806(0xe7))](),this[_0x54f806(0xeb)]=_0x315b1b[_0x54f806(0x133)]?_0x315b1b[_0x54f806(0x133)][_0x54f806(0xeb)]:_0x315b1b[_0x54f806(0xeb)],this[_0x54f806(0x12b)]['__timeout']=_0x4ecf2e[_0x54f806(0x13f)](this[_0x54f806(0x116)][_0x54f806(0x11f)],constants[_0x54f806(0x151)]),this[_0x54f806(0x132)]=_0x315b1b[_0x54f806(0x13e)][_0x54f806(0x14e)];if(this[_0x54f806(0x132)]){const _0x3d71a9=this['capability'][_0x4ecf2e[_0x54f806(0x148)]]?.[_0x54f806(0x122)]||'',_0x8179b7=this[_0x54f806(0xeb)][_0x4ecf2e['RNZiB']]?.[_0x54f806(0x124)]||'';this['failFast']=new(_0x4ecf2e['bEMLu'](require,_0x4ecf2e['xkSuS']))(this[_0x54f806(0x132)],_0x3d71a9,_0x8179b7),this[_0x54f806(0x12b)]['failFastActive']=![];}helper[_0x54f806(0x147)](this[_0x54f806(0x116)][_0x54f806(0x110)])&&(this[_0x54f806(0x12b)][_0x54f806(0x12a)]=this[_0x54f806(0x116)][_0x54f806(0x110)]);}if(testhubUtils[_0x54f806(0x140)]()){const _0x50858b=new ObservabilityReporter();_0x50858b[_0x54f806(0xfa)]();}this[_0x54f806(0x12b)][_0x54f806(0xf0)]={},this['configuration']=_0x315b1b['testEnvironmentOptions'],this[_0x54f806(0x116)][_0x54f806(0x129)]=constants[_0x54f806(0x135)]['JEST'];if(_seleniumWebdriver2){const _0x5c7a8f=_0x4ecf2e[_0x54f806(0xe6)]['split']('|');let _0x67ab68=0x0;while(!![]){switch(_0x5c7a8f[_0x67ab68++]){case'0':this[_0x54f806(0x12b)][_0x54f806(0x10d)]=helper[_0x54f806(0x10c)](_0x315b1b,[_0x4ecf2e[_0x54f806(0x11a)],_0x4ecf2e['MPCHS'],_0x4ecf2e[_0x54f806(0x118)]]);continue;case'1':helper[_0x54f806(0x152)](this[_0x54f806(0x116)][_0x54f806(0xf3)])?this['global'][_0x54f806(0x12e)]=!![]:this['global'][_0x54f806(0x12e)]=![];continue;case'2':this[_0x54f806(0x12b)][_0x54f806(0x117)]=[];continue;case'3':this[_0x54f806(0x12b)]['__webdriver']=_0x4ecf2e[_0x54f806(0xf4)](require,_0x4ecf2e[_0x54f806(0x105)])[_0x54f806(0x141)]({...this[_0x54f806(0x116)],'capability':this[_0x54f806(0xeb)]||{}},this,testhubUtils[_0x54f806(0x140)]());continue;case'4':this['global'][_0x54f806(0xf6)]=(_0x315b1b['projectConfig']?_0x315b1b[_0x54f806(0x133)][_0x54f806(0xf6)]:_0x315b1b[_0x54f806(0xf6)])||0x0;continue;case'5':this[_0x54f806(0x12b)]['percyCaptureMode']=helper[_0x54f806(0x10c)](_0x315b1b,[_0x4ecf2e[_0x54f806(0x11a)],_0x4ecf2e[_0x54f806(0xe3)],_0x4ecf2e['FlOuO']]);continue;case'6':this[_0x54f806(0x12b)][_0x54f806(0xe4)]=async()=>{const _0x3b437b=_0x54f806;await this['global'][_0x3b437b(0xed)][_0x3b437b(0x155)](_0x4ecf2e[_0x3b437b(0x13c)]);};continue;case'7':this[_0x54f806(0x12b)][_0x54f806(0x139)]=helper[_0x54f806(0x10c)](this['configuration'],[_0x4ecf2e[_0x54f806(0x11d)],this[_0x54f806(0x12b)]['browserstackPlatformIndex']])||{};continue;case'8':this[_0x54f806(0x12b)][_0x54f806(0x10e)]=helper[_0x54f806(0x152)](this[_0x54f806(0x116)][_0x54f806(0xfe)]);continue;case'9':this[_0x54f806(0x12b)][_0x54f806(0xe1)]=helper[_0x54f806(0x10c)](_0x315b1b,[_0x4ecf2e['DaOuZ'],_0x4ecf2e[_0x54f806(0xe3)],_0x4ecf2e[_0x54f806(0xf8)]]);continue;}break;}}}async['teardown'](){const _0x3c6bcb=a18_0x5be8be;_seleniumWebdriver2&&(await helper['cleanupDrivers'](this[_0x3c6bcb(0x12b)][_0x3c6bcb(0x106)]),this[_0x3c6bcb(0x12b)][_0x3c6bcb(0x104)][_0x3c6bcb(0xe7)]=originalBuilder),await RequestQueueHandler[_0x3c6bcb(0x146)]()[_0x3c6bcb(0x109)]();}async[a18_0x5be8be(0x14f)](){}async[a18_0x5be8be(0xee)](_0x54fa31,_0x331aa1){const _0x5157e9=a18_0x5be8be,_0x47d888={};_0x47d888['gpJwo']=function(_0x2f48c2,_0x50b6a3){return _0x2f48c2===_0x50b6a3;},_0x47d888[_0x5157e9(0xf9)]=_0x5157e9(0xe8),_0x47d888[_0x5157e9(0x114)]=function(_0x58b882,_0x1c535c){return _0x58b882===_0x1c535c;},_0x47d888['KFlMv']=_0x5157e9(0x131),_0x47d888['BUqKf']=function(_0x54aad7,_0x1790c8){return _0x54aad7===_0x1790c8;},_0x47d888['bjvsm']=_0x5157e9(0x113),_0x47d888[_0x5157e9(0x13b)]=_0x5157e9(0x14d),_0x47d888[_0x5157e9(0xe5)]=_0x5157e9(0x142),_0x47d888[_0x5157e9(0x14c)]=function(_0x4256d5,_0x4ad0ce){return _0x4256d5===_0x4ad0ce;},_0x47d888[_0x5157e9(0xff)]='teardown';const _0x5c7c0f=_0x47d888,{name:_0x58aebc}=_0x54fa31;if(_0x5c7c0f[_0x5157e9(0x108)](_0x58aebc,_0x5c7c0f[_0x5157e9(0xf9)])){this['global'][_0x5157e9(0x121)]=_0x54fa31[_0x5157e9(0xe0)];if(_0x5c7c0f['KnRoD'](this[_0x5157e9(0x12b)][_0x5157e9(0x12c)],!![])){const _0x3f6808=_0x54fa31[_0x5157e9(0xe0)][_0x5157e9(0xe2)];logger['info'](_0x5157e9(0x153)+_0x3f6808),_0x54fa31['test']['mode']=_0x5c7c0f[_0x5157e9(0x115)];}}if(this['failFast']&&_0x5c7c0f[_0x5157e9(0x100)](_0x58aebc,_0x5c7c0f[_0x5157e9(0x101)]))try{const _0x530b5d=_0x54fa31[_0x5157e9(0xe0)][_0x5157e9(0x127)][_0x5157e9(0x10f)](_0x5c7c0f['VEtfz']),_0xc4fe0e=_0x54fa31['test']['errors'];await this[_0x5157e9(0x14e)]['onTestDone'](_0x530b5d,_0xc4fe0e);const _0x5aecb5=await this[_0x5157e9(0x14e)][_0x5157e9(0x120)]();_0x5c7c0f[_0x5157e9(0x108)](this['global'][_0x5157e9(0x12c)],![])&&_0x5c7c0f[_0x5157e9(0x108)](_0x5aecb5,!![])&&(this[_0x5157e9(0x12b)][_0x5157e9(0x12c)]=!![]);}catch(_0x290bf0){logger['debug'](_0x5c7c0f[_0x5157e9(0xe5)],_0x290bf0['message']);}_0x5c7c0f['Vrocy'](_0x58aebc,_0x5c7c0f[_0x5157e9(0xff)])&&(this[_0x5157e9(0x14e)]&&this[_0x5157e9(0x14e)]['cleanup']());}}module['exports']=CustomEnvironment;function a18_0x661e(){const _0x3b4e28=['global','failFastActive','2485rnIQnK','sessionNameProvided','getTestEnvironment','../../../helpers/helper','skip','failFastOptions','projectConfig','nSzyC','FRAMEWORKS','jKotO','mTmmy','hgJTr','__platformCaps','default','VEtfz','ejjev','../../../helpers/testhub/utils','testEnvironmentOptions','uwyYS','shouldProcessEventForTesthub','browserstackAgentV2','Error\x20in\x20fail-fast\x20test_done\x20handler:','2257304mzDEEZ','jest-resolve','3804HIBqmN','getInstance','isNotUndefined','RNZiB','__esModule','AzoHO','884592dXZnzc','Vrocy','\x20>\x20','failFast','setup','142PVgczg','BSTACK_DELTA','isTrue','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','jest-environment-node','quit','__timeout','test','percy','name','MPCHS','cleanup','DMIuk','vSKQf','Builder','test_start','31670XMwXoX','isBrowserstackInfra','capability','167555uDCjUl','driver','handleTestEvent','../../../helpers/test-orchestration/failfastManager','browserStackGlobals','browserStackPercyOptions','requireModule','skipSessionName','fcMoV','platformCaps','browserstackPlatformIndex','BSTACK_JEST_TEST_ENV','sBRyr','ebXTl','registerListeners','requireSeleniumWebdriver','gyePd','2|3|4|0|9|5|7|1|8|6','skipSessionStatus','gYAtq','BUqKf','bjvsm','builder','bstack:options','__webdriver','kAkKj','__driversArray','../../../helpers/test-observability/utils','gpJwo','shutdown','modifyCommand','1059OBYrvK','nestedKeyValue','browserstackPercyBestPlatform','__skipSessionStatus','join','retries__','DArbE','node','test_done','KnRoD','KFlMv','configuration','__drivers','otKJj','jest-config','DaOuZ','../../../helpers/logger','resolveTestEnvironment','zeamJ','991645koIoHZ','timeout__','shouldFailFast','testContext','buildName','dmtFc','projectName','../../../helpers/test-observability/requestQueueHandler','env','testPath','1683qbXVuy','framework','__jestRetries'];a18_0x661e=function(){return _0x3b4e28;};return a18_0x661e();}