function a16_0x3650(){const _0x2b694a=['\x20>\x20','__platformCaps','default','shouldProcessEventForTesthub','1053180xyQDDQ','percyCaptureMode','dpNuG','__timeout','oHYeO','imCeW','2066239WwMZYT','teardown','../../../helpers/test-observability/utils','isArray','message','quit','nestedKeyValue','../../../index','../../../helpers/test-orchestration/failfastManager','eKTQi','capabilities','79448RcsiLd','projectName','shouldFailFast','configuration','isBrowserstackInfra','FlMRD','twvVl','350285QWaAxb','percy','skip','kjTTI','isTrue','exports','jestConfig','Lzwju','18ncUzjm','info','../../../helpers/helper','buildName','dMXSj','handleTestEvent','1464884dZSczI','../../../helpers/test-observability/requestQueueHandler','name','debug','testEnvironmentOptions','MfMZO','mode','global','jest-config','BSTACK_DELTA','LIuKe','Error\x20in\x20fail-fast\x20test_done\x20handler:','mPTQl','FRAMEWORKS','iTJaU','JEST','BjmQV','node','hNQPV','DZZCF','modifyCommand','792753vGmGWG','CweUq','iaaUL','failFast','sQdbU','__drivers','test','3AeHZow','__jestRetries','platformCaps','shutdown','framework','browserstackAgentV2','xpfzm','bstack:options','vfoYr','DStbc','CLXbf','getTestEnvironment','../../../helpers/logger','__webdriver','../../utils/constants','60PQVZGR','testPath','sessionNameProvided','hmJBS','cleanup','failFastActive','setup','OmTSt','retries__','UVnEw','BSTACK_JEST_TEST_ENV','aZGms','testContext','requireModule','FMsCd','browserstackPlatformIndex','3495008kATeuc','failFastOptions','cwd','capability','projectConfig','onTestDone'];a16_0x3650=function(){return _0x2b694a;};return a16_0x3650();}const a16_0x30658e=a16_0x3b70;(function(_0x5c1f83,_0x22650e){const _0x26861f=a16_0x3b70,_0x56195e=_0x5c1f83();while(!![]){try{const _0x5d8b96=parseInt(_0x26861f(0x16f))/0x1+-parseInt(_0x26861f(0x15a))/0x2+parseInt(_0x26861f(0x176))/0x3*(parseInt(_0x26861f(0x1b0))/0x4)+-parseInt(_0x26861f(0x1b7))/0x5*(parseInt(_0x26861f(0x185))/0x6)+parseInt(_0x26861f(0x1a5))/0x7+-parseInt(_0x26861f(0x195))/0x8*(-parseInt(_0x26861f(0x154))/0x9)+-parseInt(_0x26861f(0x19f))/0xa;if(_0x5d8b96===_0x22650e)break;else _0x56195e['push'](_0x56195e['shift']());}catch(_0x574439){_0x56195e['push'](_0x56195e['shift']());}}}(a16_0x3650,0x6c34e));const helper=require(a16_0x30658e(0x156)),constants=require(a16_0x30658e(0x184)),{isTestObservabilitySession}=require(a16_0x30658e(0x1a7)),RequestQueueHandler=require(a16_0x30658e(0x15b)),ObservabilityReporter=require('../test-observability/obsReporter'),testhubUtils=require('../../../helpers/testhub/utils'),logger=require(a16_0x30658e(0x182))['winstonLogger'],getTestEnvironment=((()=>{const _0xbdbe5=a16_0x30658e,_0x535114={};_0x535114[_0xbdbe5(0x17f)]='jest-resolve',_0x535114[_0xbdbe5(0x1a4)]=_0xbdbe5(0x162);const _0x5bbc80=_0x535114;try{const _0x379d82=helper['requireModule'](_0x5bbc80[_0xbdbe5(0x17f)]);if(_0x379d82['resolveTestEnvironment'])return _0x379d82['resolveTestEnvironment'];const _0x5ed183=helper['requireModule'](_0x5bbc80['imCeW']);if(_0x5ed183[_0xbdbe5(0x181)])return _0x5ed183[_0xbdbe5(0x181)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x184d99=a16_0x30658e,_0x58c76f={'FMsCd':function(_0x3f5064,_0x4bfa16){return _0x3f5064(_0x4bfa16);},'Lzwju':_0x184d99(0x16b),'BjmQV':'jest-environment-node','DZZCF':function(_0x3280a3,_0x1aea55){return _0x3280a3(_0x1aea55);}},_0x29f7b7=_0x58c76f[_0x184d99(0x193)](getTestEnvironment,{'rootDir':process[_0x184d99(0x197)](),'testEnvironment':process['env'][_0x184d99(0x18f)]||_0x58c76f[_0x184d99(0x153)]});if(!_0x29f7b7)return _0x58c76f[_0x184d99(0x193)](_interopRequireDefault,helper[_0x184d99(0x192)](_0x58c76f[_0x184d99(0x16a)]));return _0x58c76f[_0x184d99(0x16d)](_interopRequireDefault,helper[_0x184d99(0x192)](_0x29f7b7));})()),_seleniumWebdriver2=((()=>{const _0x1367aa=a16_0x30658e,_0x57fdf8={'CweUq':function(_0x291b5e,_0x56ee66){return _0x291b5e(_0x56ee66);}};try{const _0x16cb00=helper['requireSeleniumWebdriver']();return helper[_0x1367aa(0x16e)](),_0x57fdf8[_0x1367aa(0x170)](_interopRequireDefault,_0x16cb00);}catch{return null;}})());function _interopRequireDefault(_0x28de63){return _0x28de63&&_0x28de63['__esModule']?_0x28de63:{'default':_0x28de63};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x30658e(0x19d)]['Builder']:null;function a16_0x3b70(_0x145f71,_0x5637bb){const _0x365089=a16_0x3650();return a16_0x3b70=function(_0x3b70d9,_0x28da87){_0x3b70d9=_0x3b70d9-0x151;let _0x563f17=_0x365089[_0x3b70d9];return _0x563f17;},a16_0x3b70(_0x145f71,_0x5637bb);}class CustomEnvironment extends _jestUserEnvironment[a16_0x30658e(0x19d)]{constructor(_0x54d60a){const _0x1fb8ec=a16_0x30658e,_0x4faafd={'FlMRD':_0x1fb8ec(0x1aa),'vfoYr':function(_0x2a25af,_0x3db702){return _0x2a25af+_0x3db702;},'twvVl':_0x1fb8ec(0x17d),'LIuKe':function(_0x30aadb,_0x571218){return _0x30aadb(_0x571218);},'hmJBS':_0x1fb8ec(0x1ad),'sQdbU':'1|3|5|2|6|7|0|4','iTJaU':_0x1fb8ec(0x15e),'hNQPV':'browserStackPercyOptions','UVnEw':_0x1fb8ec(0x1b8),'CLXbf':_0x1fb8ec(0x1ac),'XdCOe':'browserstackPercyBestPlatform','OmTSt':_0x1fb8ec(0x1a0)};super(_0x54d60a),this[_0x1fb8ec(0x161)][_0x1fb8ec(0x1a2)]=0x0,this[_0x1fb8ec(0x1b3)]={};!_0x54d60a['testEnvironmentOptions']&&(_0x54d60a[_0x1fb8ec(0x15e)]={});if(helper[_0x1fb8ec(0x1b4)]()){_0x54d60a[_0x1fb8ec(0x15e)]=_0x54d60a['projectConfig']?_0x54d60a['projectConfig'][_0x1fb8ec(0x15e)]:_0x54d60a['testEnvironmentOptions'];_seleniumWebdriver2&&(this['builder']=new _seleniumWebdriver2[(_0x1fb8ec(0x19d))]['Builder']());this[_0x1fb8ec(0x198)]=_0x54d60a[_0x1fb8ec(0x199)]?_0x54d60a['projectConfig']['capability']:_0x54d60a[_0x1fb8ec(0x198)],this[_0x1fb8ec(0x161)][_0x1fb8ec(0x1a2)]=_0x4faafd[_0x1fb8ec(0x17e)](this[_0x1fb8ec(0x1b3)]['timeout__'],constants[_0x1fb8ec(0x163)]),this[_0x1fb8ec(0x196)]=_0x54d60a[_0x1fb8ec(0x15e)][_0x1fb8ec(0x172)];if(this[_0x1fb8ec(0x196)]){const _0x29528c=this[_0x1fb8ec(0x198)][_0x4faafd[_0x1fb8ec(0x1b6)]]?.[_0x1fb8ec(0x157)]||'',_0x5de7ea=this[_0x1fb8ec(0x198)][_0x4faafd['twvVl']]?.[_0x1fb8ec(0x1b1)]||'';this[_0x1fb8ec(0x172)]=new(_0x4faafd['LIuKe'](require,_0x4faafd[_0x1fb8ec(0x188)]))(this[_0x1fb8ec(0x196)],_0x29528c,_0x5de7ea),this['global'][_0x1fb8ec(0x18a)]=![];}helper['isNotUndefined'](this[_0x1fb8ec(0x1b3)]['retries__'])&&(this[_0x1fb8ec(0x161)][_0x1fb8ec(0x177)]=this[_0x1fb8ec(0x1b3)][_0x1fb8ec(0x18d)]);}if(testhubUtils[_0x1fb8ec(0x19e)]()){const _0x4ce575=new ObservabilityReporter();_0x4ce575['registerListeners']();}this[_0x1fb8ec(0x161)]['browserStackGlobals']={},this['configuration']=_0x54d60a['testEnvironmentOptions'],this[_0x1fb8ec(0x1b3)][_0x1fb8ec(0x17a)]=constants[_0x1fb8ec(0x167)][_0x1fb8ec(0x169)],this[_0x1fb8ec(0x161)][_0x1fb8ec(0x194)]=(_0x54d60a[_0x1fb8ec(0x199)]?_0x54d60a[_0x1fb8ec(0x199)][_0x1fb8ec(0x194)]:_0x54d60a[_0x1fb8ec(0x194)])||0x0,this[_0x1fb8ec(0x161)][_0x1fb8ec(0x19c)]=this[_0x1fb8ec(0x1b3)]&&this[_0x1fb8ec(0x1b3)][_0x1fb8ec(0x178)]&&Array[_0x1fb8ec(0x1a8)](this[_0x1fb8ec(0x1b3)][_0x1fb8ec(0x178)])&&this['configuration'][_0x1fb8ec(0x178)][this['global'][_0x1fb8ec(0x194)]]||{};const _0x43b0e4=this[_0x1fb8ec(0x161)][_0x1fb8ec(0x194)],_0x35276f={...this[_0x1fb8ec(0x1b3)],'capability':this[_0x1fb8ec(0x1b3)]['capabilities']&&Array[_0x1fb8ec(0x1a8)](this[_0x1fb8ec(0x1b3)][_0x1fb8ec(0x1af)])&&this[_0x1fb8ec(0x1b3)]['capabilities'][_0x43b0e4]||{},'platformCaps':this[_0x1fb8ec(0x1b3)][_0x1fb8ec(0x178)]&&Array[_0x1fb8ec(0x1a8)](this[_0x1fb8ec(0x1b3)][_0x1fb8ec(0x178)])&&this['configuration']['platformCaps'][_0x43b0e4]||{}};delete _0x35276f[_0x1fb8ec(0x1af)],this[_0x1fb8ec(0x161)][_0x1fb8ec(0x152)]=_0x35276f;if(_seleniumWebdriver2){const _0x5ac7cf=_0x4faafd[_0x1fb8ec(0x173)]['split']('|');let _0x2d939c=0x0;while(!![]){switch(_0x5ac7cf[_0x2d939c++]){case'0':this['global']['__skipSessionStatus']=helper[_0x1fb8ec(0x1bb)](this[_0x1fb8ec(0x1b3)]['skipSessionStatus']);continue;case'1':this['global'][_0x1fb8ec(0x174)]=[];continue;case'2':this[_0x1fb8ec(0x161)][_0x1fb8ec(0x1b8)]=helper[_0x1fb8ec(0x1ab)](_0x54d60a,[_0x4faafd[_0x1fb8ec(0x168)],_0x4faafd[_0x1fb8ec(0x16c)],_0x4faafd[_0x1fb8ec(0x18e)]]);continue;case'3':this[_0x1fb8ec(0x161)][_0x1fb8ec(0x183)]=_0x4faafd[_0x1fb8ec(0x164)](require,_0x4faafd[_0x1fb8ec(0x180)])[_0x1fb8ec(0x17b)]({...this[_0x1fb8ec(0x1b3)],'capability':this['capability']||{}},this,testhubUtils[_0x1fb8ec(0x19e)]());continue;case'4':this['global']['cleanup']=async()=>{const _0x6f6838=_0x1fb8ec;await this[_0x6f6838(0x161)]['driver'][_0x6f6838(0x1aa)](_0x4faafd[_0x6f6838(0x1b5)]);};continue;case'5':this[_0x1fb8ec(0x161)]['browserstackPercyBestPlatform']=helper[_0x1fb8ec(0x1ab)](_0x54d60a,[_0x4faafd['iTJaU'],_0x4faafd[_0x1fb8ec(0x16c)],_0x4faafd['XdCOe']]);continue;case'6':this[_0x1fb8ec(0x161)]['percyCaptureMode']=helper[_0x1fb8ec(0x1ab)](_0x54d60a,[_0x4faafd['iTJaU'],_0x4faafd[_0x1fb8ec(0x16c)],_0x4faafd[_0x1fb8ec(0x18c)]]);continue;case'7':helper[_0x1fb8ec(0x1bb)](this[_0x1fb8ec(0x1b3)]['skipSessionName'])?this[_0x1fb8ec(0x161)][_0x1fb8ec(0x187)]=!![]:this[_0x1fb8ec(0x161)][_0x1fb8ec(0x187)]=![];continue;}break;}}}async[a16_0x30658e(0x1a6)](){const _0x9bdb70=a16_0x30658e;_seleniumWebdriver2&&(await helper['cleanupDrivers'](this[_0x9bdb70(0x161)]['__driversArray']),this[_0x9bdb70(0x161)]['__webdriver']['Builder']=originalBuilder),await RequestQueueHandler['getInstance']()[_0x9bdb70(0x179)]();}async[a16_0x30658e(0x18b)](){}async[a16_0x30658e(0x159)](_0x5057e3,_0x2c83a3){const _0x359fee=a16_0x30658e,_0x35e571={};_0x35e571[_0x359fee(0x190)]=function(_0x548014,_0x7ba00d){return _0x548014===_0x7ba00d;},_0x35e571['dpNuG']='test_start',_0x35e571[_0x359fee(0x15f)]=function(_0x109694,_0xe67dd9){return _0x109694===_0xe67dd9;},_0x35e571[_0x359fee(0x171)]=_0x359fee(0x1b9),_0x35e571[_0x359fee(0x1a3)]='test_done',_0x35e571[_0x359fee(0x1ba)]=_0x359fee(0x19b),_0x35e571[_0x359fee(0x158)]=function(_0x48e7c4,_0x4a8fcf){return _0x48e7c4===_0x4a8fcf;},_0x35e571['mPTQl']=_0x359fee(0x165),_0x35e571[_0x359fee(0x17c)]=function(_0x307c20,_0x51ffc3){return _0x307c20===_0x51ffc3;},_0x35e571[_0x359fee(0x1ae)]=_0x359fee(0x1a6);const _0x54365b=_0x35e571,{name:_0x56aea8}=_0x5057e3;if(_0x54365b[_0x359fee(0x190)](_0x56aea8,_0x54365b[_0x359fee(0x1a1)])){this['global'][_0x359fee(0x191)]=_0x5057e3['test'];if(_0x54365b['MfMZO'](this['global'][_0x359fee(0x18a)],!![])){const _0x189aee=_0x5057e3[_0x359fee(0x175)][_0x359fee(0x15c)];logger[_0x359fee(0x155)]('Fail-fast\x20is\x20active,\x20skipping\x20test::\x20'+_0x189aee),_0x5057e3['test'][_0x359fee(0x160)]=_0x54365b['iaaUL'];}}if(this[_0x359fee(0x172)]&&_0x54365b[_0x359fee(0x190)](_0x56aea8,_0x54365b[_0x359fee(0x1a3)]))try{const _0x372da1=_0x5057e3[_0x359fee(0x175)][_0x359fee(0x186)]['join'](_0x54365b['kjTTI']),_0xd93a35=_0x5057e3['test']['errors'];await this['failFast'][_0x359fee(0x19a)](_0x372da1,_0xd93a35);const _0x5cdbc4=await this['failFast'][_0x359fee(0x1b2)]();_0x54365b[_0x359fee(0x158)](this[_0x359fee(0x161)][_0x359fee(0x18a)],![])&&_0x54365b[_0x359fee(0x190)](_0x5cdbc4,!![])&&(this['global']['failFastActive']=!![]);}catch(_0x1a6f59){logger[_0x359fee(0x15d)](_0x54365b[_0x359fee(0x166)],_0x1a6f59[_0x359fee(0x1a9)]);}_0x54365b[_0x359fee(0x17c)](_0x56aea8,_0x54365b[_0x359fee(0x1ae)])&&(this['failFast']&&this[_0x359fee(0x172)][_0x359fee(0x189)]());}}module[a16_0x30658e(0x151)]=CustomEnvironment;