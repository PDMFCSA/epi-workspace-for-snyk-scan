const a16_0x3da19d=a16_0x1813;function a16_0x1813(_0x3c2e2a,_0x769671){const _0x741102=a16_0x7411();return a16_0x1813=function(_0x18131e,_0x1ade85){_0x18131e=_0x18131e-0x86;let _0x451962=_0x741102[_0x18131e];return _0x451962;},a16_0x1813(_0x3c2e2a,_0x769671);}(function(_0x397ad5,_0x199ab1){const _0xf9830c=a16_0x1813,_0x4835c0=_0x397ad5();while(!![]){try{const _0x2bb84b=parseInt(_0xf9830c(0x9d))/0x1+parseInt(_0xf9830c(0xb4))/0x2+-parseInt(_0xf9830c(0xae))/0x3+-parseInt(_0xf9830c(0xa2))/0x4+parseInt(_0xf9830c(0xcf))/0x5+parseInt(_0xf9830c(0x92))/0x6*(parseInt(_0xf9830c(0xc8))/0x7)+parseInt(_0xf9830c(0xd5))/0x8*(-parseInt(_0xf9830c(0xa7))/0x9);if(_0x2bb84b===_0x199ab1)break;else _0x4835c0['push'](_0x4835c0['shift']());}catch(_0x4a20da){_0x4835c0['push'](_0x4835c0['shift']());}}}(a16_0x7411,0x4777a));const helper=require('../../../helpers/helper'),constants=require(a16_0x3da19d(0x9b)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require(a16_0x3da19d(0xb5)),ObservabilityReporter=require(a16_0x3da19d(0xc9)),testhubUtils=require(a16_0x3da19d(0x8d)),getTestEnvironment=((()=>{const _0x12e7d4=a16_0x3da19d,_0x5cd1f0={};_0x5cd1f0[_0x12e7d4(0x87)]='jest-resolve',_0x5cd1f0[_0x12e7d4(0xab)]=_0x12e7d4(0xba);const _0x3ea844=_0x5cd1f0;try{const _0x1f6941=helper[_0x12e7d4(0xa8)](_0x3ea844[_0x12e7d4(0x87)]);if(_0x1f6941[_0x12e7d4(0x89)])return _0x1f6941[_0x12e7d4(0x89)];const _0x518e9a=helper[_0x12e7d4(0xa8)](_0x3ea844[_0x12e7d4(0xab)]);if(_0x518e9a[_0x12e7d4(0xc3)])return _0x518e9a['getTestEnvironment'];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x11fbcd=a16_0x3da19d,_0x56c8aa={'NclRQ':function(_0x1dfd3e,_0x33a76f){return _0x1dfd3e(_0x33a76f);},'YyPGz':_0x11fbcd(0xc1),'oCWGX':function(_0x50fa97,_0x3b55b8){return _0x50fa97(_0x3b55b8);},'JAfRn':_0x11fbcd(0xd1)},_0x562d29=_0x56c8aa[_0x11fbcd(0xbc)](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process[_0x11fbcd(0xbd)][_0x11fbcd(0xa1)]||_0x56c8aa[_0x11fbcd(0xb9)]});if(!_0x562d29)return _0x56c8aa['oCWGX'](_interopRequireDefault,helper[_0x11fbcd(0xa8)](_0x56c8aa[_0x11fbcd(0x8b)]));return _0x56c8aa['oCWGX'](_interopRequireDefault,helper['requireModule'](_0x562d29));})()),_seleniumWebdriver2=((()=>{const _0x3c4f26=a16_0x3da19d,_0xfc3f08={'jQSuy':function(_0x3a9815,_0xd2511f){return _0x3a9815(_0xd2511f);}};try{const _0x33f4b5=helper[_0x3c4f26(0x8a)]();return helper[_0x3c4f26(0x8c)](),_0xfc3f08['jQSuy'](_interopRequireDefault,_0x33f4b5);}catch{return null;}})());function _interopRequireDefault(_0xcbcc58){const _0x647d19=a16_0x3da19d;return _0xcbcc58&&_0xcbcc58[_0x647d19(0xca)]?_0xcbcc58:{'default':_0xcbcc58};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x3da19d(0x9c)][a16_0x3da19d(0x90)]:null;class CustomEnvironment extends _jestUserEnvironment['default']{constructor(_0x58b82d){const _0x37eaa2=a16_0x3da19d,_0x307112={'LmUMR':_0x37eaa2(0xc4),'aZWeT':_0x37eaa2(0xaa),'XBRpD':function(_0x5969ed,_0x2e186c){return _0x5969ed+_0x2e186c;},'FmvGP':_0x37eaa2(0xa3),'vwVrg':'platformCaps','OBEja':_0x37eaa2(0xd6),'QEeSI':_0x37eaa2(0xcb),'gxonm':_0x37eaa2(0xcd),'DjvBI':_0x37eaa2(0xc6),'zMirW':function(_0x2f8db3,_0x58d91c){return _0x2f8db3(_0x58d91c);},'vrTUK':_0x37eaa2(0x88),'EwMXN':_0x37eaa2(0xa9)};super(_0x58b82d),this[_0x37eaa2(0xa0)]['__timeout']=0x0,this[_0x37eaa2(0xd0)]={};!_0x58b82d[_0x37eaa2(0xd6)]&&(_0x58b82d[_0x37eaa2(0xd6)]={});if(helper[_0x37eaa2(0xa5)]()){const _0x2b8d66=_0x307112[_0x37eaa2(0x93)]['split']('|');let _0x474622=0x0;while(!![]){switch(_0x2b8d66[_0x474622++]){case'0':this['global'][_0x37eaa2(0xc7)]=_0x307112['XBRpD'](this[_0x37eaa2(0xd0)][_0x37eaa2(0xc5)],constants[_0x37eaa2(0xce)]);continue;case'1':_0x58b82d[_0x37eaa2(0xd6)]=_0x58b82d['projectConfig']?_0x58b82d['projectConfig']['testEnvironmentOptions']:_0x58b82d['testEnvironmentOptions'];continue;case'2':this[_0x37eaa2(0xd0)]=_0x58b82d[_0x37eaa2(0xd6)];continue;case'3':this[_0x37eaa2(0x86)]=new _seleniumWebdriver2[(_0x37eaa2(0x9c))][(_0x37eaa2(0x90))]();continue;case'4':this[_0x37eaa2(0xc2)]=_0x58b82d[_0x37eaa2(0xac)]?_0x58b82d[_0x37eaa2(0xac)][_0x37eaa2(0xc2)]:_0x58b82d[_0x37eaa2(0xc2)];continue;}break;}}if(testhubUtils[_0x37eaa2(0xb3)]()){const _0x48bf71=new ObservabilityReporter();_0x48bf71[_0x37eaa2(0x91)]();}this[_0x37eaa2(0xa0)][_0x37eaa2(0x8f)]={},this['configuration'][_0x37eaa2(0xbf)]=constants[_0x37eaa2(0xbe)][_0x37eaa2(0xbb)];if(_seleniumWebdriver2){const _0x9408a1=_0x307112['FmvGP'][_0x37eaa2(0xd2)]('|');let _0x27abe3=0x0;while(!![]){switch(_0x9408a1[_0x27abe3++]){case'0':this[_0x37eaa2(0xa0)][_0x37eaa2(0xb2)]=helper[_0x37eaa2(0xb6)](this[_0x37eaa2(0xd0)],[_0x307112[_0x37eaa2(0x96)],this[_0x37eaa2(0xa0)][_0x37eaa2(0x9e)]])||{};continue;case'1':this[_0x37eaa2(0xa0)][_0x37eaa2(0x99)]=[];continue;case'2':this['global'][_0x37eaa2(0xcd)]=helper['nestedKeyValue'](_0x58b82d,[_0x307112[_0x37eaa2(0xa4)],_0x307112[_0x37eaa2(0xb0)],_0x307112['gxonm']]);continue;case'3':this['global'][_0x37eaa2(0x9e)]=(_0x58b82d[_0x37eaa2(0xac)]?_0x58b82d[_0x37eaa2(0xac)][_0x37eaa2(0x9e)]:_0x58b82d['browserstackPlatformIndex'])||0x0;continue;case'4':this[_0x37eaa2(0xa0)]['percyCaptureMode']=helper[_0x37eaa2(0xb6)](_0x58b82d,[_0x307112[_0x37eaa2(0xa4)],_0x307112[_0x37eaa2(0xb0)],_0x307112['DjvBI']]);continue;case'5':helper[_0x37eaa2(0x8e)](this[_0x37eaa2(0xd0)][_0x37eaa2(0xc0)])?this[_0x37eaa2(0xa0)]['sessionNameProvided']=!![]:this['global'][_0x37eaa2(0x94)]=![];continue;case'6':this[_0x37eaa2(0xa0)]['__webdriver']=_0x307112[_0x37eaa2(0xd4)](require,_0x307112[_0x37eaa2(0xb1)])['browserstackAgentV2']({...this[_0x37eaa2(0xd0)],'capability':this['capability']||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;case'7':this[_0x37eaa2(0xa0)][_0x37eaa2(0xad)]=async()=>{const _0x354e24=_0x37eaa2;await this[_0x354e24(0xa0)][_0x354e24(0x9a)]['quit'](_0x307112[_0x354e24(0x98)]);};continue;case'8':this[_0x37eaa2(0xa0)][_0x37eaa2(0xa9)]=helper[_0x37eaa2(0xb6)](_0x58b82d,[_0x307112[_0x37eaa2(0xa4)],_0x307112['QEeSI'],_0x307112[_0x37eaa2(0x9f)]]);continue;case'9':this[_0x37eaa2(0xa0)][_0x37eaa2(0xa6)]=helper[_0x37eaa2(0x8e)](this[_0x37eaa2(0xd0)]['skipSessionStatus']);continue;}break;}}}async[a16_0x3da19d(0xb7)](){const _0xbcf834=a16_0x3da19d;_seleniumWebdriver2&&(await helper['cleanupDrivers'](this[_0xbcf834(0xa0)][_0xbcf834(0xcc)]),this['global']['__webdriver'][_0xbcf834(0x90)]=originalBuilder),await RequestQueueHandler['getInstance']()['shutdown']();}async['setup'](){}async[a16_0x3da19d(0xaf)](_0xe599f5,_0x4262c8){const _0x158eb5=a16_0x3da19d,_0x411203={};_0x411203[_0x158eb5(0xb8)]=function(_0xc897ce,_0x18df1f){return _0xc897ce===_0x18df1f;},_0x411203[_0x158eb5(0x95)]='test_start';const _0x9e806=_0x411203,{name:_0xa4cbf3}=_0xe599f5;_0x9e806['ErkSG'](_0xa4cbf3,_0x9e806[_0x158eb5(0x95)])&&(this['global']['testContext']=_0xe599f5[_0x158eb5(0x97)]);}}module[a16_0x3da19d(0xd3)]=CustomEnvironment;function a16_0x7411(){const _0x4dd0bd=['LmUMR','__drivers','driver','../../utils/constants','default','421354UwlLJT','browserstackPlatformIndex','EwMXN','global','BSTACK_JEST_TEST_ENV','360944yYohBX','1|6|3|2|8|4|0|5|9|7','OBEja','isBrowserstackInfra','__skipSessionStatus','603SgvoTx','requireModule','percy','1|3|2|4|0','iMOrv','projectConfig','cleanup','655791FvhCGR','handleTestEvent','QEeSI','vrTUK','__platformCaps','shouldProcessEventForTesthub','535116PxEDWW','../../../helpers/test-observability/requestQueueHandler','nestedKeyValue','teardown','ErkSG','YyPGz','jest-config','JEST','NclRQ','env','FRAMEWORKS','framework','skipSessionName','node','capability','getTestEnvironment','quit','timeout__','percyCaptureMode','__timeout','7fuzOrQ','../test-observability/obsReporter','__esModule','browserStackPercyOptions','__driversArray','browserstackPercyBestPlatform','BSTACK_DELTA','211585ZAWOWW','configuration','jest-environment-node','split','exports','zMirW','41096LYpDXZ','testEnvironmentOptions','builder','bKhaP','../../../index','resolveTestEnvironment','requireSeleniumWebdriver','JAfRn','modifyCommand','../../../helpers/testhub/utils','isTrue','browserStackGlobals','Builder','registerListeners','1287078GfJtDl','aZWeT','sessionNameProvided','gwDzy','vwVrg','test'];a16_0x7411=function(){return _0x4dd0bd;};return a16_0x7411();}