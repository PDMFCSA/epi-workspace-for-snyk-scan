const a16_0x487846=a16_0x273c;(function(_0x5c2a08,_0x4d620f){const _0x43f44d=a16_0x273c,_0x167fd8=_0x5c2a08();while(!![]){try{const _0x2ec1f0=parseInt(_0x43f44d(0x10e))/0x1+-parseInt(_0x43f44d(0xea))/0x2*(parseInt(_0x43f44d(0x12a))/0x3)+parseInt(_0x43f44d(0xe9))/0x4+-parseInt(_0x43f44d(0xe5))/0x5*(parseInt(_0x43f44d(0x140))/0x6)+-parseInt(_0x43f44d(0x11d))/0x7+-parseInt(_0x43f44d(0x12e))/0x8+-parseInt(_0x43f44d(0xe4))/0x9*(-parseInt(_0x43f44d(0x131))/0xa);if(_0x2ec1f0===_0x4d620f)break;else _0x167fd8['push'](_0x167fd8['shift']());}catch(_0x349254){_0x167fd8['push'](_0x167fd8['shift']());}}}(a16_0x2408,0x3c068));function a16_0x273c(_0x33e7c8,_0x398da9){const _0x24081b=a16_0x2408();return a16_0x273c=function(_0x273c35,_0x487584){_0x273c35=_0x273c35-0xcf;let _0x585503=_0x24081b[_0x273c35];return _0x585503;},a16_0x273c(_0x33e7c8,_0x398da9);}const helper=require(a16_0x487846(0x135)),constants=require('../../utils/constants'),{isTestObservabilitySession}=require(a16_0x487846(0xe6)),RequestQueueHandler=require(a16_0x487846(0x105)),ObservabilityReporter=require(a16_0x487846(0xe2)),testhubUtils=require(a16_0x487846(0xdb)),logger=require(a16_0x487846(0xfa))['winstonLogger'],getTestEnvironment=((()=>{const _0x2bf56c=a16_0x487846,_0x49d571={};_0x49d571[_0x2bf56c(0x124)]=_0x2bf56c(0xfe),_0x49d571[_0x2bf56c(0x119)]=_0x2bf56c(0x12b);const _0xdf64ac=_0x49d571;try{const _0x5c4b22=helper[_0x2bf56c(0x13b)](_0xdf64ac[_0x2bf56c(0x124)]);if(_0x5c4b22[_0x2bf56c(0x100)])return _0x5c4b22[_0x2bf56c(0x100)];const _0x1677f5=helper[_0x2bf56c(0x13b)](_0xdf64ac[_0x2bf56c(0x119)]);if(_0x1677f5[_0x2bf56c(0xf4)])return _0x1677f5['getTestEnvironment'];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x135f2e=a16_0x487846,_0x471b06={'KSNEq':function(_0x229a36,_0x51933f){return _0x229a36(_0x51933f);},'RjQMm':_0x135f2e(0x115),'fhPlm':'jest-environment-node'},_0xbdf6ef=_0x471b06[_0x135f2e(0xec)](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process['env'][_0x135f2e(0x134)]||_0x471b06['RjQMm']});if(!_0xbdf6ef)return _0x471b06['KSNEq'](_interopRequireDefault,helper[_0x135f2e(0x13b)](_0x471b06[_0x135f2e(0xed)]));return _0x471b06['KSNEq'](_interopRequireDefault,helper['requireModule'](_0xbdf6ef));})()),_seleniumWebdriver2=((()=>{const _0x934210=a16_0x487846,_0x224a1a={'fHdOn':function(_0xa64796,_0x4436fa){return _0xa64796(_0x4436fa);}};try{const _0x412d07=helper[_0x934210(0x133)]();return helper['modifyCommand'](),_0x224a1a[_0x934210(0x13e)](_interopRequireDefault,_0x412d07);}catch{return null;}})());function _interopRequireDefault(_0x3202c5){const _0x555b18=a16_0x487846;return _0x3202c5&&_0x3202c5[_0x555b18(0x113)]?_0x3202c5:{'default':_0x3202c5};}function a16_0x2408(){const _0x128f83=['SZdkl','setup','__esModule','failFast','node','projectConfig','cleanupDrivers','MMgKd','LLBPK','split','skipSessionStatus','platformCaps','1657712WVGlEK','isTrue','builder','BSTACK_DELTA','projectName','lkDdh','__timeout','gfeFf','Error\x20in\x20fail-fast\x20test_done\x20handler:','jTCiB','info','InLDg','testEnvironmentOptions','363624TnGiqH','jest-config','Builder','skip','1416760oqhSlm','shouldProcessEventForTesthub','failFastOptions','1750180cUDDXu','registerListeners','requireSeleniumWebdriver','BSTACK_JEST_TEST_ENV','../../../helpers/helper','__jestRetries','isBrowserstackInfra','join','skipSessionName','framework','requireModule','errors','configuration','fHdOn','rhUDc','6cqeILH','aDENJ','bMcxa','buildName','FRAMEWORKS','__driversArray','test_done','driver','__webdriver','teardown','message','percyCaptureMode','JEST','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','../../../helpers/testhub/utils','capability','__skipSessionStatus','wVcHV','usPGp','timeout__','name','../test-observability/obsReporter','BCGEX','18MxiKNN','152385wODMeT','../../../helpers/test-observability/utils','cnaIY','OrSIi','1098132hgblLg','4VcPWzB','sessionNameProvided','KSNEq','fhPlm','retries__','oOibb','failFastActive','VCYUC','test','CJFiq','getTestEnvironment','debug','__platformCaps','pHaaW','shouldFailFast','browserStackGlobals','../../../helpers/logger','IeFNS','nestedKeyValue','default','jest-resolve','browserstackPlatformIndex','resolveTestEnvironment','2|6|5|8|7|9|4|0|1|3','percy','\x20>\x20','__drivers','../../../helpers/test-observability/requestQueueHandler','browserStackPercyOptions','global','browserstackAgentV2','isNotUndefined','adtnE','onTestDone','getInstance','exports','308099BsyUph','testPath','../../../helpers/test-orchestration/failfastManager'];a16_0x2408=function(){return _0x128f83;};return a16_0x2408();}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x487846(0xfd)]['Builder']:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x487846(0xfd)]{constructor(_0x5b9f17){const _0x40e16=a16_0x487846,_0x41a3f6={'wVcHV':'quit','iqOtw':function(_0x477ef9,_0x248cf1){return _0x477ef9+_0x248cf1;},'adtnE':'bstack:options','oOibb':function(_0x166c02,_0x202b97){return _0x166c02(_0x202b97);},'bMcxa':_0x40e16(0x110),'lkDdh':_0x40e16(0x101),'MMgKd':_0x40e16(0x11c),'jTCiB':'../../../index','CJFiq':_0x40e16(0x129),'cnaIY':_0x40e16(0x106),'JlvlG':_0x40e16(0x102),'aDENJ':'browserstackPercyBestPlatform','InLDg':_0x40e16(0xd8)};super(_0x5b9f17),this[_0x40e16(0x107)]['__timeout']=0x0,this[_0x40e16(0x13d)]={};!_0x5b9f17['testEnvironmentOptions']&&(_0x5b9f17['testEnvironmentOptions']={});if(helper[_0x40e16(0x137)]()){_0x5b9f17['testEnvironmentOptions']=_0x5b9f17[_0x40e16(0x116)]?_0x5b9f17['projectConfig'][_0x40e16(0x129)]:_0x5b9f17[_0x40e16(0x129)],this[_0x40e16(0x11f)]=new _seleniumWebdriver2[(_0x40e16(0xfd))]['Builder'](),this['capability']=_0x5b9f17['projectConfig']?_0x5b9f17[_0x40e16(0x116)][_0x40e16(0xdc)]:_0x5b9f17['capability'],this[_0x40e16(0x107)][_0x40e16(0x123)]=_0x41a3f6['iqOtw'](this[_0x40e16(0x13d)][_0x40e16(0xe0)],constants[_0x40e16(0x120)]),this[_0x40e16(0x130)]=_0x5b9f17[_0x40e16(0x129)][_0x40e16(0x114)];if(this[_0x40e16(0x130)]){const _0x4cf25b=this[_0x40e16(0xdc)][_0x41a3f6[_0x40e16(0x10a)]]?.[_0x40e16(0xd0)]||'',_0x2f61dc=this['capability'][_0x41a3f6[_0x40e16(0x10a)]]?.[_0x40e16(0x121)]||'';this[_0x40e16(0x114)]=new(_0x41a3f6[_0x40e16(0xef)](require,_0x41a3f6[_0x40e16(0xcf)]))(this[_0x40e16(0x130)],_0x4cf25b,_0x2f61dc),this[_0x40e16(0x107)][_0x40e16(0xf0)]=![];}helper[_0x40e16(0x109)](this[_0x40e16(0x13d)]['retries__'])&&(this['global'][_0x40e16(0x136)]=this[_0x40e16(0x13d)][_0x40e16(0xee)]);}if(testhubUtils[_0x40e16(0x12f)]()){const _0xa91f29=new ObservabilityReporter();_0xa91f29[_0x40e16(0x132)]();}this[_0x40e16(0x107)][_0x40e16(0xf9)]={},this[_0x40e16(0x13d)]=_0x5b9f17[_0x40e16(0x129)],this['configuration'][_0x40e16(0x13a)]=constants[_0x40e16(0xd1)][_0x40e16(0xd9)];if(_seleniumWebdriver2){const _0x52469b=_0x41a3f6[_0x40e16(0x122)][_0x40e16(0x11a)]('|');let _0x27816b=0x0;while(!![]){switch(_0x52469b[_0x27816b++]){case'0':helper[_0x40e16(0x11e)](this['configuration'][_0x40e16(0x139)])?this[_0x40e16(0x107)][_0x40e16(0xeb)]=!![]:this[_0x40e16(0x107)][_0x40e16(0xeb)]=![];continue;case'1':this[_0x40e16(0x107)][_0x40e16(0xdd)]=helper[_0x40e16(0x11e)](this[_0x40e16(0x13d)][_0x40e16(0x11b)]);continue;case'2':this['global'][_0x40e16(0x104)]=[];continue;case'3':this['global']['cleanup']=async()=>{const _0x1068e5=_0x40e16;await this['global'][_0x1068e5(0xd4)]['quit'](_0x41a3f6[_0x1068e5(0xde)]);};continue;case'4':this[_0x40e16(0x107)][_0x40e16(0xf6)]=helper[_0x40e16(0xfc)](this[_0x40e16(0x13d)],[_0x41a3f6[_0x40e16(0x118)],this['global'][_0x40e16(0xff)]])||{};continue;case'5':this[_0x40e16(0x107)][_0x40e16(0xff)]=(_0x5b9f17['projectConfig']?_0x5b9f17[_0x40e16(0x116)][_0x40e16(0xff)]:_0x5b9f17[_0x40e16(0xff)])||0x0;continue;case'6':this[_0x40e16(0x107)][_0x40e16(0xd5)]=_0x41a3f6[_0x40e16(0xef)](require,_0x41a3f6[_0x40e16(0x126)])[_0x40e16(0x108)]({...this[_0x40e16(0x13d)],'capability':this[_0x40e16(0xdc)]||{}},this,testhubUtils[_0x40e16(0x12f)]());continue;case'7':this[_0x40e16(0x107)][_0x40e16(0x102)]=helper['nestedKeyValue'](_0x5b9f17,[_0x41a3f6[_0x40e16(0xf3)],_0x41a3f6[_0x40e16(0xe7)],_0x41a3f6['JlvlG']]);continue;case'8':this['global']['browserstackPercyBestPlatform']=helper[_0x40e16(0xfc)](_0x5b9f17,[_0x41a3f6['CJFiq'],_0x41a3f6['cnaIY'],_0x41a3f6[_0x40e16(0x141)]]);continue;case'9':this[_0x40e16(0x107)][_0x40e16(0xd8)]=helper[_0x40e16(0xfc)](_0x5b9f17,[_0x41a3f6[_0x40e16(0xf3)],_0x41a3f6[_0x40e16(0xe7)],_0x41a3f6[_0x40e16(0x128)]]);continue;}break;}}}async[a16_0x487846(0xd6)](){const _0x2d75e8=a16_0x487846;_seleniumWebdriver2&&(await helper[_0x2d75e8(0x117)](this[_0x2d75e8(0x107)][_0x2d75e8(0xd2)]),this[_0x2d75e8(0x107)][_0x2d75e8(0xd5)][_0x2d75e8(0x12c)]=originalBuilder),await RequestQueueHandler[_0x2d75e8(0x10c)]()['shutdown']();}async[a16_0x487846(0x112)](){}async['handleTestEvent'](_0x5ec02a,_0xc5b2a1){const _0x1740c6=a16_0x487846,_0x15dc61={};_0x15dc61[_0x1740c6(0x111)]=function(_0x2001a9,_0x4c95a8){return _0x2001a9===_0x4c95a8;},_0x15dc61[_0x1740c6(0xfb)]='test_start',_0x15dc61[_0x1740c6(0xf1)]=_0x1740c6(0x12d),_0x15dc61['BCGEX']=_0x1740c6(0xd3),_0x15dc61[_0x1740c6(0x13f)]=_0x1740c6(0x103),_0x15dc61[_0x1740c6(0xe8)]=function(_0x2f12ae,_0x4b9fa7){return _0x2f12ae===_0x4b9fa7;},_0x15dc61[_0x1740c6(0xf7)]=_0x1740c6(0x125),_0x15dc61['usPGp']=_0x1740c6(0xd6);const _0x37e07b=_0x15dc61,{name:_0x3e83c0}=_0x5ec02a;if(_0x37e07b[_0x1740c6(0x111)](_0x3e83c0,_0x37e07b[_0x1740c6(0xfb)])){this[_0x1740c6(0x107)]['testContext']=_0x5ec02a[_0x1740c6(0xf2)];if(_0x37e07b['SZdkl'](this[_0x1740c6(0x107)][_0x1740c6(0xf0)],!![])){const _0x23a402=_0x5ec02a['test'][_0x1740c6(0xe1)];logger[_0x1740c6(0x127)](_0x1740c6(0xda)+_0x23a402),_0x5ec02a[_0x1740c6(0xf2)]['mode']=_0x37e07b[_0x1740c6(0xf1)];}}if(this[_0x1740c6(0x114)]&&_0x37e07b['SZdkl'](_0x3e83c0,_0x37e07b[_0x1740c6(0xe3)]))try{const _0xb13adf=_0x5ec02a[_0x1740c6(0xf2)][_0x1740c6(0x10f)][_0x1740c6(0x138)](_0x37e07b[_0x1740c6(0x13f)]),_0x185903=_0x5ec02a['test'][_0x1740c6(0x13c)];await this[_0x1740c6(0x114)][_0x1740c6(0x10b)](_0xb13adf,_0x185903);const _0x5ed959=await this[_0x1740c6(0x114)][_0x1740c6(0xf8)]();_0x37e07b[_0x1740c6(0x111)](this[_0x1740c6(0x107)][_0x1740c6(0xf0)],![])&&_0x37e07b[_0x1740c6(0xe8)](_0x5ed959,!![])&&(this['global'][_0x1740c6(0xf0)]=!![]);}catch(_0x3ab7ca){logger[_0x1740c6(0xf5)](_0x37e07b[_0x1740c6(0xf7)],_0x3ab7ca[_0x1740c6(0xd7)]);}_0x37e07b[_0x1740c6(0xe8)](_0x3e83c0,_0x37e07b[_0x1740c6(0xdf)])&&(this[_0x1740c6(0x114)]&&this[_0x1740c6(0x114)]['cleanup']());}}module[a16_0x487846(0x10d)]=CustomEnvironment;