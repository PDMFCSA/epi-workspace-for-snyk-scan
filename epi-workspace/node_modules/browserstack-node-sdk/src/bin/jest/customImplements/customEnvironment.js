const a16_0x4674fd=a16_0x109c;(function(_0x275b01,_0x740e60){const _0x4f20ec=a16_0x109c,_0x167ed3=_0x275b01();while(!![]){try{const _0x23160d=-parseInt(_0x4f20ec(0xcf))/0x1+-parseInt(_0x4f20ec(0xb2))/0x2+-parseInt(_0x4f20ec(0xef))/0x3*(parseInt(_0x4f20ec(0x93))/0x4)+parseInt(_0x4f20ec(0xf1))/0x5*(parseInt(_0x4f20ec(0x8c))/0x6)+parseInt(_0x4f20ec(0x83))/0x7+parseInt(_0x4f20ec(0x7f))/0x8+parseInt(_0x4f20ec(0xb3))/0x9;if(_0x23160d===_0x740e60)break;else _0x167ed3['push'](_0x167ed3['shift']());}catch(_0x44aeeb){_0x167ed3['push'](_0x167ed3['shift']());}}}(a16_0x1229,0xaf258));const helper=require(a16_0x4674fd(0xbb)),constants=require(a16_0x4674fd(0xb5)),{isTestObservabilitySession}=require(a16_0x4674fd(0xd8)),RequestQueueHandler=require(a16_0x4674fd(0x87)),ObservabilityReporter=require(a16_0x4674fd(0xdb)),testhubUtils=require(a16_0x4674fd(0xe2)),logger=require(a16_0x4674fd(0xbd))[a16_0x4674fd(0xc4)],getTestEnvironment=((()=>{const _0x5916c3=a16_0x4674fd,_0x5a73cc={};_0x5a73cc[_0x5916c3(0xd2)]=_0x5916c3(0xac),_0x5a73cc[_0x5916c3(0xee)]=_0x5916c3(0xc5);const _0x2fbf2b=_0x5a73cc;try{const _0x58bec3=helper[_0x5916c3(0x81)](_0x2fbf2b['NAXvT']);if(_0x58bec3['resolveTestEnvironment'])return _0x58bec3['resolveTestEnvironment'];const _0x4a8d5f=helper[_0x5916c3(0x81)](_0x2fbf2b[_0x5916c3(0xee)]);if(_0x4a8d5f['getTestEnvironment'])return _0x4a8d5f[_0x5916c3(0x90)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x4630f3=a16_0x4674fd,_0x481abb={'fQihr':function(_0x37c873,_0x40a313){return _0x37c873(_0x40a313);},'ZdyTO':_0x4630f3(0x92),'ndzrD':_0x4630f3(0x98)},_0x272ae2=_0x481abb[_0x4630f3(0xd5)](getTestEnvironment,{'rootDir':process[_0x4630f3(0xa9)](),'testEnvironment':process[_0x4630f3(0xd9)][_0x4630f3(0xd7)]||_0x481abb['ZdyTO']});if(!_0x272ae2)return _0x481abb[_0x4630f3(0xd5)](_interopRequireDefault,helper[_0x4630f3(0x81)](_0x481abb[_0x4630f3(0xc2)]));return _0x481abb['fQihr'](_interopRequireDefault,helper['requireModule'](_0x272ae2));})()),_seleniumWebdriver2=((()=>{const _0x11b2b2=a16_0x4674fd,_0x529439={'SqoCD':function(_0xa96ae4,_0x46ef2f){return _0xa96ae4(_0x46ef2f);}};try{const _0x1a968e=helper[_0x11b2b2(0xc6)]();return helper[_0x11b2b2(0xa3)](),_0x529439[_0x11b2b2(0xa8)](_interopRequireDefault,_0x1a968e);}catch{return null;}})());function _interopRequireDefault(_0x49285e){const _0x45d712=a16_0x4674fd;return _0x49285e&&_0x49285e[_0x45d712(0xab)]?_0x49285e:{'default':_0x49285e};}function a16_0x109c(_0x1db95a,_0x21c258){const _0x12296f=a16_0x1229();return a16_0x109c=function(_0x109c09,_0x57dec3){_0x109c09=_0x109c09-0x7b;let _0x12b0f2=_0x12296f[_0x109c09];return _0x12b0f2;},a16_0x109c(_0x1db95a,_0x21c258);}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x4674fd(0x96)][a16_0x4674fd(0xa2)]:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x4674fd(0x96)]{constructor(_0x4d4686){const _0x250f04=a16_0x4674fd,_0x26f78d={'uKQEn':_0x250f04(0x8f),'RxKAX':function(_0x549b52,_0x5bbdf2){return _0x549b52+_0x5bbdf2;},'mpMIf':_0x250f04(0xbc),'QbLdc':function(_0x530788,_0x1b487d){return _0x530788(_0x1b487d);},'kMBTm':'../../../helpers/test-orchestration/failfastManager','GAHcY':_0x250f04(0xb9),'aZLrE':_0x250f04(0x7e),'IEmpA':_0x250f04(0xad),'wzaua':'browserstackPercyBestPlatform','FtmAP':'../../../index','jRIfE':_0x250f04(0xb4),'geFCO':_0x250f04(0xa7),'iODwE':'platformCaps'};super(_0x4d4686),this[_0x250f04(0xeb)][_0x250f04(0xc3)]=0x0,this[_0x250f04(0xda)]={};!_0x4d4686['testEnvironmentOptions']&&(_0x4d4686[_0x250f04(0x7e)]={});if(helper[_0x250f04(0xe5)]()){_0x4d4686[_0x250f04(0x7e)]=_0x4d4686[_0x250f04(0xed)]?_0x4d4686['projectConfig'][_0x250f04(0x7e)]:_0x4d4686[_0x250f04(0x7e)],this[_0x250f04(0x8b)]=new _seleniumWebdriver2[(_0x250f04(0x96))][(_0x250f04(0xa2))](),this[_0x250f04(0xda)]=_0x4d4686[_0x250f04(0x7e)],this[_0x250f04(0xe8)]=_0x4d4686['projectConfig']?_0x4d4686[_0x250f04(0xed)][_0x250f04(0xe8)]:_0x4d4686[_0x250f04(0xe8)],this['global'][_0x250f04(0xc3)]=_0x26f78d[_0x250f04(0xe4)](this[_0x250f04(0xda)][_0x250f04(0xf2)],constants[_0x250f04(0xa5)]),this[_0x250f04(0xbf)]=_0x4d4686[_0x250f04(0x7e)][_0x250f04(0x8a)];if(this[_0x250f04(0xbf)]){const _0x5bec11=this[_0x250f04(0xe8)][_0x26f78d[_0x250f04(0xd3)]]?.[_0x250f04(0xa6)]||'',_0x1da669=this[_0x250f04(0xe8)][_0x26f78d[_0x250f04(0xd3)]]?.[_0x250f04(0xf0)]||'';this[_0x250f04(0x8a)]=new(_0x26f78d[_0x250f04(0xa0)](require,_0x26f78d[_0x250f04(0xae)]))(this[_0x250f04(0xbf)],_0x5bec11,_0x1da669),this[_0x250f04(0xeb)]['failFastActive']=![];}helper[_0x250f04(0x88)](this[_0x250f04(0xda)][_0x250f04(0xba)])&&(this[_0x250f04(0xeb)][_0x250f04(0x8d)]=this[_0x250f04(0xda)]['retries__']);}if(testhubUtils[_0x250f04(0x82)]()){const _0x5772bd=new ObservabilityReporter();_0x5772bd[_0x250f04(0xb0)]();}this[_0x250f04(0xeb)][_0x250f04(0xd4)]={},this['configuration']['framework']=constants['FRAMEWORKS'][_0x250f04(0xa4)];if(_seleniumWebdriver2){const _0x418cbd=_0x26f78d[_0x250f04(0x9c)][_0x250f04(0x91)]('|');let _0x5ec01a=0x0;while(!![]){switch(_0x418cbd[_0x5ec01a++]){case'0':this[_0x250f04(0xeb)][_0x250f04(0xca)]=helper['nestedKeyValue'](_0x4d4686,[_0x26f78d[_0x250f04(0xdf)],_0x26f78d[_0x250f04(0x94)],_0x26f78d[_0x250f04(0xd6)]]);continue;case'1':this['global'][_0x250f04(0xe6)]=[];continue;case'2':this['global']['__webdriver']=_0x26f78d['QbLdc'](require,_0x26f78d[_0x250f04(0xe0)])[_0x250f04(0x97)]({...this['configuration'],'capability':this['capability']||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;case'3':helper[_0x250f04(0x86)](this['configuration'][_0x250f04(0xc9)])?this[_0x250f04(0xeb)]['sessionNameProvided']=!![]:this[_0x250f04(0xeb)][_0x250f04(0xce)]=![];continue;case'4':this[_0x250f04(0xeb)][_0x250f04(0xcb)]=(_0x4d4686[_0x250f04(0xed)]?_0x4d4686[_0x250f04(0xed)][_0x250f04(0xcb)]:_0x4d4686[_0x250f04(0xcb)])||0x0;continue;case'5':this[_0x250f04(0xeb)][_0x250f04(0x7d)]=async()=>{const _0x36fbdc=_0x250f04;await this[_0x36fbdc(0xeb)][_0x36fbdc(0x9f)][_0x36fbdc(0x8f)](_0x26f78d[_0x36fbdc(0xaf)]);};continue;case'6':this['global'][_0x250f04(0xbe)]=helper[_0x250f04(0x86)](this[_0x250f04(0xda)][_0x250f04(0x9b)]);continue;case'7':this[_0x250f04(0xeb)][_0x250f04(0xb4)]=helper[_0x250f04(0xb7)](_0x4d4686,[_0x26f78d[_0x250f04(0xdf)],_0x26f78d[_0x250f04(0x94)],_0x26f78d[_0x250f04(0x7b)]]);continue;case'8':this[_0x250f04(0xeb)][_0x250f04(0xa7)]=helper[_0x250f04(0xb7)](_0x4d4686,[_0x26f78d[_0x250f04(0xdf)],_0x26f78d[_0x250f04(0x94)],_0x26f78d[_0x250f04(0xcd)]]);continue;case'9':this[_0x250f04(0xeb)]['__platformCaps']=helper['nestedKeyValue'](this[_0x250f04(0xda)],[_0x26f78d[_0x250f04(0xea)],this[_0x250f04(0xeb)][_0x250f04(0xcb)]])||{};continue;}break;}}}async['teardown'](){const _0x154f9f=a16_0x4674fd;_seleniumWebdriver2&&(await helper[_0x154f9f(0xd0)](this[_0x154f9f(0xeb)]['__driversArray']),this['global'][_0x154f9f(0x95)][_0x154f9f(0xa2)]=originalBuilder),await RequestQueueHandler[_0x154f9f(0xc1)]()[_0x154f9f(0xec)]();}async[a16_0x4674fd(0x85)](){}async[a16_0x4674fd(0x84)](_0x3b1243,_0x1ea4a0){const _0x2e4211=a16_0x4674fd,_0x1c26f5={};_0x1c26f5[_0x2e4211(0xdc)]=function(_0x294aee,_0x2a05ce){return _0x294aee===_0x2a05ce;},_0x1c26f5[_0x2e4211(0x9e)]='test_start',_0x1c26f5[_0x2e4211(0xb1)]=_0x2e4211(0x8e),_0x1c26f5[_0x2e4211(0xcc)]=_0x2e4211(0xa1),_0x1c26f5['ndsot']=_0x2e4211(0x80),_0x1c26f5[_0x2e4211(0xdd)]=function(_0x5c2d77,_0x5a90e5){return _0x5c2d77===_0x5a90e5;},_0x1c26f5[_0x2e4211(0xc8)]=_0x2e4211(0xde),_0x1c26f5[_0x2e4211(0x7c)]=_0x2e4211(0xc0);const _0x4ec0c8=_0x1c26f5,{name:_0x2663d3}=_0x3b1243;if(_0x4ec0c8[_0x2e4211(0xdc)](_0x2663d3,_0x4ec0c8[_0x2e4211(0x9e)])){this[_0x2e4211(0xeb)]['testContext']=_0x3b1243[_0x2e4211(0xd1)];if(_0x4ec0c8[_0x2e4211(0xdc)](this['global'][_0x2e4211(0x99)],!![])){const _0x54a01d=_0x3b1243[_0x2e4211(0xd1)][_0x2e4211(0x9d)];logger[_0x2e4211(0x89)](_0x2e4211(0x9a)+_0x54a01d),_0x3b1243['test'][_0x2e4211(0xaa)]=_0x4ec0c8[_0x2e4211(0xb1)];}}if(this['failFast']&&_0x4ec0c8[_0x2e4211(0xdc)](_0x2663d3,_0x4ec0c8[_0x2e4211(0xcc)]))try{const _0x33b254=_0x3b1243[_0x2e4211(0xd1)]['testPath'][_0x2e4211(0xe1)](_0x4ec0c8[_0x2e4211(0xc7)]),_0x250f42=_0x3b1243[_0x2e4211(0xd1)][_0x2e4211(0xb8)];await this['failFast'][_0x2e4211(0xe3)](_0x33b254,_0x250f42);const _0x2b57d1=await this['failFast']['shouldFailFast']();_0x4ec0c8[_0x2e4211(0xdd)](this[_0x2e4211(0xeb)][_0x2e4211(0x99)],![])&&_0x4ec0c8[_0x2e4211(0xdc)](_0x2b57d1,!![])&&(this[_0x2e4211(0xeb)][_0x2e4211(0x99)]=!![]);}catch(_0x3df891){logger[_0x2e4211(0xb6)](_0x4ec0c8[_0x2e4211(0xc8)],_0x3df891[_0x2e4211(0xe7)]);}_0x4ec0c8[_0x2e4211(0xdc)](_0x2663d3,_0x4ec0c8['eCrjN'])&&(this[_0x2e4211(0x8a)]&&this[_0x2e4211(0x8a)][_0x2e4211(0x7d)]());}}function a16_0x1229(){const _0x5eb9a8=['message','capability','exports','iODwE','global','shutdown','projectConfig','YHPaF','57yKmrAr','projectName','14885uoPfJx','timeout__','jRIfE','eCrjN','cleanup','testEnvironmentOptions','6158656rXsfbz','\x20>\x20','requireModule','shouldProcessEventForTesthub','6209154QHNrpM','handleTestEvent','setup','isTrue','../../../helpers/test-observability/requestQueueHandler','isNotUndefined','info','failFast','builder','2118dPgcOh','__jestRetries','skip','quit','getTestEnvironment','split','node','210572nEvpkK','IEmpA','__webdriver','default','browserstackAgentV2','jest-environment-node','failFastActive','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','skipSessionStatus','GAHcY','name','oaxym','driver','QbLdc','test_done','Builder','modifyCommand','JEST','BSTACK_DELTA','buildName','percyCaptureMode','SqoCD','cwd','mode','__esModule','jest-resolve','browserStackPercyOptions','kMBTm','uKQEn','registerListeners','NKzhX','985268KAmPMm','265428nsXFJL','percy','../../utils/constants','debug','nestedKeyValue','errors','1|2|4|0|7|8|9|3|6|5','retries__','../../../helpers/helper','bstack:options','../../../helpers/logger','__skipSessionStatus','failFastOptions','teardown','getInstance','ndzrD','__timeout','winstonLogger','jest-config','requireSeleniumWebdriver','ndsot','VucWU','skipSessionName','browserstackPercyBestPlatform','browserstackPlatformIndex','CoMwa','geFCO','sessionNameProvided','526976uweRpU','cleanupDrivers','test','NAXvT','mpMIf','browserStackGlobals','fQihr','wzaua','BSTACK_JEST_TEST_ENV','../../../helpers/test-observability/utils','env','configuration','../test-observability/obsReporter','NGetF','oqYoc','Error\x20in\x20fail-fast\x20test_done\x20handler:','aZLrE','FtmAP','join','../../../helpers/testhub/utils','onTestDone','RxKAX','isBrowserstackInfra','__drivers'];a16_0x1229=function(){return _0x5eb9a8;};return a16_0x1229();}module[a16_0x4674fd(0xe9)]=CustomEnvironment;