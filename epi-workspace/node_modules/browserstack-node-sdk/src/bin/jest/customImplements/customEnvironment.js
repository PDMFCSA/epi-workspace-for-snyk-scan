const a16_0x276cdb=a16_0xefc3;function a16_0xefc3(_0x4cc985,_0x4a8483){const _0x38ad19=a16_0x38ad();return a16_0xefc3=function(_0xefc3aa,_0x1f173d){_0xefc3aa=_0xefc3aa-0x12e;let _0x28f6de=_0x38ad19[_0xefc3aa];return _0x28f6de;},a16_0xefc3(_0x4cc985,_0x4a8483);}(function(_0x558050,_0x5b0584){const _0x24d7eb=a16_0xefc3,_0x258cee=_0x558050();while(!![]){try{const _0x44cb4d=-parseInt(_0x24d7eb(0x165))/0x1*(-parseInt(_0x24d7eb(0x12f))/0x2)+parseInt(_0x24d7eb(0x145))/0x3+parseInt(_0x24d7eb(0x140))/0x4*(-parseInt(_0x24d7eb(0x17e))/0x5)+-parseInt(_0x24d7eb(0x17a))/0x6*(-parseInt(_0x24d7eb(0x151))/0x7)+-parseInt(_0x24d7eb(0x163))/0x8*(parseInt(_0x24d7eb(0x167))/0x9)+parseInt(_0x24d7eb(0x17f))/0xa*(parseInt(_0x24d7eb(0x173))/0xb)+-parseInt(_0x24d7eb(0x179))/0xc;if(_0x44cb4d===_0x5b0584)break;else _0x258cee['push'](_0x258cee['shift']());}catch(_0x2218b5){_0x258cee['push'](_0x258cee['shift']());}}}(a16_0x38ad,0x40b96));const helper=require(a16_0x276cdb(0x15b)),constants=require(a16_0x276cdb(0x178)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require('../test-observability/obsReporter'),testhubUtils=require(a16_0x276cdb(0x162)),getTestEnvironment=((()=>{const _0xb511e7=a16_0x276cdb,_0x4352f7={};_0x4352f7[_0xb511e7(0x176)]=_0xb511e7(0x17c),_0x4352f7[_0xb511e7(0x15a)]='jest-config';const _0x24dcca=_0x4352f7;try{const _0x1fb973=helper['requireModule'](_0x24dcca[_0xb511e7(0x176)]);if(_0x1fb973[_0xb511e7(0x13b)])return _0x1fb973[_0xb511e7(0x13b)];const _0x22ea96=helper[_0xb511e7(0x16e)](_0x24dcca[_0xb511e7(0x15a)]);if(_0x22ea96[_0xb511e7(0x17b)])return _0x22ea96[_0xb511e7(0x17b)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x151b09=a16_0x276cdb,_0x5a9d0e={'yUlqr':function(_0xd92647,_0x3b14e6){return _0xd92647(_0x3b14e6);},'vecsP':_0x151b09(0x14c),'wOTXs':function(_0x58eddf,_0x23cc83){return _0x58eddf(_0x23cc83);},'cISuD':_0x151b09(0x172),'gPgeN':function(_0x4f751d,_0x3ae881){return _0x4f751d(_0x3ae881);}},_0x194cd0=_0x5a9d0e[_0x151b09(0x150)](getTestEnvironment,{'rootDir':process[_0x151b09(0x15f)](),'testEnvironment':process[_0x151b09(0x131)][_0x151b09(0x159)]||_0x5a9d0e['vecsP']});if(!_0x194cd0)return _0x5a9d0e['wOTXs'](_interopRequireDefault,helper['requireModule'](_0x5a9d0e['cISuD']));return _0x5a9d0e[_0x151b09(0x142)](_interopRequireDefault,helper['requireModule'](_0x194cd0));})()),_seleniumWebdriver2=((()=>{const _0x2ac209=a16_0x276cdb,_0x42b634={'HtuFb':function(_0x35b509,_0x1007c0){return _0x35b509(_0x1007c0);}};try{const _0x4ce8e5=helper[_0x2ac209(0x177)]();return helper[_0x2ac209(0x16c)](),_0x42b634[_0x2ac209(0x130)](_interopRequireDefault,_0x4ce8e5);}catch{return null;}})());function _interopRequireDefault(_0x394c68){const _0x4aca00=a16_0x276cdb;return _0x394c68&&_0x394c68[_0x4aca00(0x16b)]?_0x394c68:{'default':_0x394c68};}function a16_0x38ad(){const _0x5920cf=['test','timeout__','BSTACK_JEST_TEST_ENV','cppTi','../../../helpers/helper','ibZRH','sessionNameProvided','default','cwd','browserstackAgentV2','jabdE','../../../helpers/testhub/utils','8Wctwhq','percyCaptureMode','1ilpkfx','fOCgs','3432609qMojjm','dLKqZ','teardown','isBrowserstackInfra','__esModule','modifyCommand','cleanup','requireModule','XKBZE','nestedKeyValue','cIhLB','jest-environment-node','11RkoxiB','browserstackPlatformIndex','__webdriver','TITrM','requireSeleniumWebdriver','../../utils/constants','1835892uGtPlf','966gDNuPa','getTestEnvironment','jest-resolve','projectConfig','55FcGYho','272380GbZTLW','__platformCaps','9|6|3|7|1|2|4|5|0|8','__drivers','testContext','Builder','vOHyn','OndbX','quit','428626gdvaIT','HtuFb','env','browserStackGlobals','TcxZb','QqYAt','exports','testEnvironmentOptions','driver','__skipSessionStatus','split','platformCaps','resolveTestEnvironment','percy','browserstackPercyBestPlatform','framework','../../../index','131136ObrsgM','setup','gPgeN','FRAMEWORKS','skipSessionName','1418781KqiFxp','yZkUe','4|2|3|1|0','configuration','getInstance','__timeout','__driversArray','node','capability','cleanupDrivers','handleTestEvent','yUlqr','19376sGcWFq','shouldProcessEventForTesthub','global','isTrue','UJBhh','dRyvI'];a16_0x38ad=function(){return _0x5920cf;};return a16_0x38ad();}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x276cdb(0x15e)][a16_0x276cdb(0x184)]:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x276cdb(0x15e)]{constructor(_0xcf8141){const _0xbf7c34=a16_0x276cdb,_0x17a5bd={'dLKqZ':_0xbf7c34(0x12e),'QqYAt':_0xbf7c34(0x147),'gkgrf':function(_0x1f218e,_0x12af9e){return _0x1f218e+_0x12af9e;},'dRyvI':_0xbf7c34(0x181),'XKBZE':_0xbf7c34(0x136),'cIhLB':'browserStackPercyOptions','fOCgs':_0xbf7c34(0x13c),'TcxZb':_0xbf7c34(0x164),'ibZRH':_0xbf7c34(0x13a),'vOHyn':function(_0x118c97,_0x58620c){return _0x118c97(_0x58620c);},'OndbX':_0xbf7c34(0x13f),'yZkUe':_0xbf7c34(0x13d)};super(_0xcf8141),this[_0xbf7c34(0x153)][_0xbf7c34(0x14a)]=0x0,this['configuration']={};!_0xcf8141[_0xbf7c34(0x136)]&&(_0xcf8141[_0xbf7c34(0x136)]={});if(helper[_0xbf7c34(0x16a)]()){const _0x5bcb30=_0x17a5bd[_0xbf7c34(0x134)][_0xbf7c34(0x139)]('|');let _0x1cf8a5=0x0;while(!![]){switch(_0x5bcb30[_0x1cf8a5++]){case'0':this[_0xbf7c34(0x153)]['__timeout']=_0x17a5bd['gkgrf'](this[_0xbf7c34(0x148)][_0xbf7c34(0x158)],constants['BSTACK_DELTA']);continue;case'1':this['capability']=_0xcf8141['projectConfig']?_0xcf8141[_0xbf7c34(0x17d)][_0xbf7c34(0x14d)]:_0xcf8141[_0xbf7c34(0x14d)];continue;case'2':this['builder']=new _seleniumWebdriver2['default']['Builder']();continue;case'3':this[_0xbf7c34(0x148)]=_0xcf8141[_0xbf7c34(0x136)];continue;case'4':_0xcf8141['testEnvironmentOptions']=_0xcf8141[_0xbf7c34(0x17d)]?_0xcf8141['projectConfig']['testEnvironmentOptions']:_0xcf8141[_0xbf7c34(0x136)];continue;}break;}}if(testhubUtils[_0xbf7c34(0x152)]()){const _0x32913a=new ObservabilityReporter();_0x32913a['registerListeners']();}this['global'][_0xbf7c34(0x132)]={},this['configuration'][_0xbf7c34(0x13e)]=constants[_0xbf7c34(0x143)]['JEST'];if(_seleniumWebdriver2){const _0xa5988f=_0x17a5bd[_0xbf7c34(0x156)][_0xbf7c34(0x139)]('|');let _0x41169a=0x0;while(!![]){switch(_0xa5988f[_0x41169a++]){case'0':this['global'][_0xbf7c34(0x138)]=helper[_0xbf7c34(0x154)](this['configuration']['skipSessionStatus']);continue;case'1':this['global'][_0xbf7c34(0x13c)]=helper['nestedKeyValue'](_0xcf8141,[_0x17a5bd[_0xbf7c34(0x16f)],_0x17a5bd[_0xbf7c34(0x171)],_0x17a5bd[_0xbf7c34(0x166)]]);continue;case'2':this[_0xbf7c34(0x153)][_0xbf7c34(0x164)]=helper['nestedKeyValue'](_0xcf8141,[_0x17a5bd[_0xbf7c34(0x16f)],_0x17a5bd[_0xbf7c34(0x171)],_0x17a5bd[_0xbf7c34(0x133)]]);continue;case'3':this['global'][_0xbf7c34(0x174)]=(_0xcf8141[_0xbf7c34(0x17d)]?_0xcf8141[_0xbf7c34(0x17d)][_0xbf7c34(0x174)]:_0xcf8141[_0xbf7c34(0x174)])||0x0;continue;case'4':this[_0xbf7c34(0x153)][_0xbf7c34(0x180)]=helper[_0xbf7c34(0x170)](this[_0xbf7c34(0x148)],[_0x17a5bd[_0xbf7c34(0x15c)],this['global'][_0xbf7c34(0x174)]])||{};continue;case'5':helper['isTrue'](this[_0xbf7c34(0x148)][_0xbf7c34(0x144)])?this[_0xbf7c34(0x153)][_0xbf7c34(0x15d)]=!![]:this[_0xbf7c34(0x153)]['sessionNameProvided']=![];continue;case'6':this[_0xbf7c34(0x153)][_0xbf7c34(0x175)]=_0x17a5bd[_0xbf7c34(0x185)](require,_0x17a5bd[_0xbf7c34(0x186)])[_0xbf7c34(0x160)]({...this[_0xbf7c34(0x148)],'capability':this[_0xbf7c34(0x14d)]||{}},this,testhubUtils[_0xbf7c34(0x152)]());continue;case'7':this[_0xbf7c34(0x153)][_0xbf7c34(0x13d)]=helper[_0xbf7c34(0x170)](_0xcf8141,[_0x17a5bd[_0xbf7c34(0x16f)],_0x17a5bd[_0xbf7c34(0x171)],_0x17a5bd[_0xbf7c34(0x146)]]);continue;case'8':this[_0xbf7c34(0x153)][_0xbf7c34(0x16d)]=async()=>{const _0x58ba3c=_0xbf7c34;await this['global'][_0x58ba3c(0x137)][_0x58ba3c(0x12e)](_0x17a5bd[_0x58ba3c(0x168)]);};continue;case'9':this['global'][_0xbf7c34(0x182)]=[];continue;}break;}}}async[a16_0x276cdb(0x169)](){const _0x5d13bc=a16_0x276cdb;_seleniumWebdriver2&&(await helper[_0x5d13bc(0x14e)](this[_0x5d13bc(0x153)][_0x5d13bc(0x14b)]),this['global'][_0x5d13bc(0x175)][_0x5d13bc(0x184)]=originalBuilder),await RequestQueueHandler[_0x5d13bc(0x149)]()['shutdown']();}async[a16_0x276cdb(0x141)](){}async[a16_0x276cdb(0x14f)](_0x1cf779,_0x2020f2){const _0x5aebfb=a16_0x276cdb,_0x154fb8={};_0x154fb8[_0x5aebfb(0x155)]=function(_0x2ac4cb,_0x3078bc){return _0x2ac4cb===_0x3078bc;},_0x154fb8[_0x5aebfb(0x161)]='test_start';const _0x42b791=_0x154fb8,{name:_0x32bdd0}=_0x1cf779;_0x42b791[_0x5aebfb(0x155)](_0x32bdd0,_0x42b791[_0x5aebfb(0x161)])&&(this[_0x5aebfb(0x153)][_0x5aebfb(0x183)]=_0x1cf779[_0x5aebfb(0x157)]);}}module[a16_0x276cdb(0x135)]=CustomEnvironment;