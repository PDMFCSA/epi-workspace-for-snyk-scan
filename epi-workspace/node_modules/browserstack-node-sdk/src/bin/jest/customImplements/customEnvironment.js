const a16_0x22e5b=a16_0x340d;(function(_0x135837,_0x59816e){const _0x4a7c7e=a16_0x340d,_0x22d3ad=_0x135837();while(!![]){try{const _0x2b07df=-parseInt(_0x4a7c7e(0x1f5))/0x1+parseInt(_0x4a7c7e(0x1da))/0x2+-parseInt(_0x4a7c7e(0x223))/0x3*(parseInt(_0x4a7c7e(0x1d6))/0x4)+-parseInt(_0x4a7c7e(0x217))/0x5+-parseInt(_0x4a7c7e(0x21b))/0x6*(parseInt(_0x4a7c7e(0x20f))/0x7)+parseInt(_0x4a7c7e(0x1e0))/0x8+-parseInt(_0x4a7c7e(0x1fd))/0x9*(-parseInt(_0x4a7c7e(0x1e8))/0xa);if(_0x2b07df===_0x59816e)break;else _0x22d3ad['push'](_0x22d3ad['shift']());}catch(_0x200102){_0x22d3ad['push'](_0x22d3ad['shift']());}}}(a16_0x266c,0xc2094));const helper=require(a16_0x22e5b(0x219)),constants=require('../../utils/constants'),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require(a16_0x22e5b(0x205)),ObservabilityReporter=require(a16_0x22e5b(0x1bf)),testhubUtils=require(a16_0x22e5b(0x211)),logger=require(a16_0x22e5b(0x208))[a16_0x22e5b(0x1ce)],getTestEnvironment=((()=>{const _0xfc1b6f=a16_0x22e5b,_0x4e1eae={};_0x4e1eae[_0xfc1b6f(0x1ec)]=_0xfc1b6f(0x1d7),_0x4e1eae[_0xfc1b6f(0x1be)]=_0xfc1b6f(0x1db);const _0x24272c=_0x4e1eae;try{const _0x784b30=helper['requireModule'](_0x24272c[_0xfc1b6f(0x1ec)]);if(_0x784b30[_0xfc1b6f(0x1c5)])return _0x784b30[_0xfc1b6f(0x1c5)];const _0x56e4c0=helper[_0xfc1b6f(0x20c)](_0x24272c['hFpoj']);if(_0x56e4c0['getTestEnvironment'])return _0x56e4c0[_0xfc1b6f(0x215)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0xb1f47=a16_0x22e5b,_0x1980ba={'nyDZX':function(_0x26d6b8,_0x4820e0){return _0x26d6b8(_0x4820e0);},'ayMXO':_0xb1f47(0x220),'NJGol':function(_0x349569,_0x25bbf8){return _0x349569(_0x25bbf8);},'prvVC':_0xb1f47(0x21f)},_0xe617be=_0x1980ba[_0xb1f47(0x227)](getTestEnvironment,{'rootDir':process[_0xb1f47(0x1c3)](),'testEnvironment':process['env'][_0xb1f47(0x21a)]||_0x1980ba[_0xb1f47(0x201)]});if(!_0xe617be)return _0x1980ba[_0xb1f47(0x1f9)](_interopRequireDefault,helper[_0xb1f47(0x20c)](_0x1980ba[_0xb1f47(0x226)]));return _0x1980ba[_0xb1f47(0x1f9)](_interopRequireDefault,helper[_0xb1f47(0x20c)](_0xe617be));})()),_seleniumWebdriver2=((()=>{const _0x555935=a16_0x22e5b,_0x18c26a={'QpvrH':function(_0x35cae3,_0x473a7b){return _0x35cae3(_0x473a7b);}};try{const _0x219812=helper[_0x555935(0x1e2)]();return helper[_0x555935(0x225)](),_0x18c26a[_0x555935(0x1cc)](_interopRequireDefault,_0x219812);}catch{return null;}})());function a16_0x266c(){const _0x5acbee=['teardown','jestConfig','hFpoj','../test-observability/obsReporter','info','skipSessionStatus','__drivers','cwd','JTrVW','resolveTestEnvironment','test_start','debug','setup','failFast','__esModule','message','QpvrH','__skipSessionStatus','winstonLogger','default','errors','test_done','4|3|0|2|7|1|5|6','xupOk','Error\x20in\x20fail-fast\x20test_done\x20handler:','testEnvironmentOptions','40CMFKCt','jest-resolve','configuration','driver','554956IYMCOa','jest-config','name','failFastOptions','browserstackAgentV2','browserStackPercyOptions','6156656CgMhjV','dDqwd','requireSeleniumWebdriver','__jestRetries','percyCaptureMode','BSTACK_DELTA','split','__timeout','29041140dzMQgn','skip','shutdown','failFastActive','QiOiH','tXbVs','mode','ZxUee','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','shouldProcessEventForTesthub','capability','buildName','QRwDO','1559782SXDHBB','JEST','isNotUndefined','jnoRV','NJGol','quit','cleanupDrivers','platformCaps','9wlbriU','join','isArray','bstack:options','ayMXO','qPMPf','bTzKa','sessionNameProvided','../../../helpers/test-observability/requestQueueHandler','CRTfk','uHOVf','../../../helpers/logger','exports','PYUBY','GPJLd','requireModule','ufoLB','capabilities','2842dsrlHE','FRAMEWORKS','../../../helpers/testhub/utils','shouldFailFast','global','browserstackPercyBestPlatform','getTestEnvironment','../../../helpers/test-orchestration/failfastManager','4203130UNUVSx','handleTestEvent','../../../helpers/helper','BSTACK_JEST_TEST_ENV','2904MIOWFu','DCaff','__driversArray','__platformCaps','jest-environment-node','node','projectName','Builder','167847FxjgKO','qjOAD','modifyCommand','prvVC','nyDZX','nestedKeyValue','browserstackPlatformIndex','UVERY','isTrue','projectConfig','builder','QacWF','hZqPg','Huagp','browserStackGlobals','test','percy','nMOHy','isBrowserstackInfra','cleanup'];a16_0x266c=function(){return _0x5acbee;};return a16_0x266c();}function _interopRequireDefault(_0x132d08){const _0xc575c7=a16_0x22e5b;return _0x132d08&&_0x132d08[_0xc575c7(0x1ca)]?_0x132d08:{'default':_0x132d08};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x22e5b(0x1cf)][a16_0x22e5b(0x222)]:null;function a16_0x340d(_0x415ed2,_0x509077){const _0x266c79=a16_0x266c();return a16_0x340d=function(_0x340d59,_0x35e8b6){_0x340d59=_0x340d59-0x1b7;let _0x38cfd=_0x266c79[_0x340d59];return _0x38cfd;},a16_0x340d(_0x415ed2,_0x509077);}class CustomEnvironment extends _jestUserEnvironment[a16_0x22e5b(0x1cf)]{constructor(_0x2212f4){const _0x497855=a16_0x22e5b,_0x4a72f4={'PYUBY':'quit','xupOk':function(_0x1b6a6f,_0x5ba2d5){return _0x1b6a6f+_0x5ba2d5;},'jnoRV':_0x497855(0x200),'Huagp':function(_0x21f672,_0x56a192){return _0x21f672(_0x56a192);},'UVERY':_0x497855(0x216),'ZxjhN':_0x497855(0x1d2),'tXbVs':'testEnvironmentOptions','GPJLd':_0x497855(0x1df),'JTrVW':_0x497855(0x214),'hZqPg':_0x497855(0x1b8),'bTzKa':function(_0x789a64,_0x4c2e53){return _0x789a64(_0x4c2e53);},'CRTfk':'../../../index','uHOVf':_0x497855(0x1e4)};super(_0x2212f4),this[_0x497855(0x213)][_0x497855(0x1e7)]=0x0,this[_0x497855(0x1d8)]={};!_0x2212f4['testEnvironmentOptions']&&(_0x2212f4['testEnvironmentOptions']={});if(helper[_0x497855(0x1ba)]()){_0x2212f4[_0x497855(0x1d5)]=_0x2212f4['projectConfig']?_0x2212f4[_0x497855(0x22c)][_0x497855(0x1d5)]:_0x2212f4['testEnvironmentOptions'];_seleniumWebdriver2&&(this[_0x497855(0x22d)]=new _seleniumWebdriver2['default']['Builder']());this[_0x497855(0x1f2)]=_0x2212f4[_0x497855(0x22c)]?_0x2212f4[_0x497855(0x22c)][_0x497855(0x1f2)]:_0x2212f4[_0x497855(0x1f2)],this[_0x497855(0x213)][_0x497855(0x1e7)]=_0x4a72f4[_0x497855(0x1d3)](_0x2212f4[_0x497855(0x1d5)]['timeout__']||0x1388,constants[_0x497855(0x1e5)]),this[_0x497855(0x1dd)]=_0x2212f4[_0x497855(0x1d5)][_0x497855(0x1c9)];if(this[_0x497855(0x1dd)]){const _0x3cf9f6=this[_0x497855(0x1f2)][_0x4a72f4[_0x497855(0x1f8)]]?.[_0x497855(0x1f3)]||'',_0x1f833a=this[_0x497855(0x1f2)][_0x4a72f4[_0x497855(0x1f8)]]?.[_0x497855(0x221)]||'';this[_0x497855(0x1c9)]=new(_0x4a72f4[_0x497855(0x230)](require,_0x4a72f4[_0x497855(0x22a)]))(this['failFastOptions'],_0x3cf9f6,_0x1f833a),this[_0x497855(0x213)][_0x497855(0x1eb)]=![];}helper[_0x497855(0x1f7)](_0x2212f4['testEnvironmentOptions']['retries__'])&&(this[_0x497855(0x213)][_0x497855(0x1e3)]=_0x2212f4['testEnvironmentOptions']['retries__']);}if(testhubUtils[_0x497855(0x1f1)]()){const _0x5e0970=new ObservabilityReporter();_0x5e0970['registerListeners']();}this[_0x497855(0x213)][_0x497855(0x231)]={},this[_0x497855(0x1d8)]=_0x2212f4[_0x497855(0x1d5)],this['configuration']['framework']=constants[_0x497855(0x210)][_0x497855(0x1f6)],this[_0x497855(0x213)][_0x497855(0x229)]=(_0x2212f4[_0x497855(0x22c)]?_0x2212f4['projectConfig'][_0x497855(0x229)]:_0x2212f4[_0x497855(0x229)])||0x0,this[_0x497855(0x213)][_0x497855(0x21e)]=this[_0x497855(0x1d8)]&&this[_0x497855(0x1d8)][_0x497855(0x1fc)]&&Array[_0x497855(0x1ff)](this[_0x497855(0x1d8)][_0x497855(0x1fc)])&&this[_0x497855(0x1d8)][_0x497855(0x1fc)][this[_0x497855(0x213)][_0x497855(0x229)]]||{};const _0x1aee28=this[_0x497855(0x213)][_0x497855(0x229)],_0x48d28c={...this[_0x497855(0x1d8)],'capability':this[_0x497855(0x1d8)][_0x497855(0x20e)]&&Array[_0x497855(0x1ff)](this[_0x497855(0x1d8)][_0x497855(0x20e)])&&this[_0x497855(0x1d8)]['capabilities'][_0x1aee28]||{},'platformCaps':this[_0x497855(0x1d8)]['platformCaps']&&Array['isArray'](this[_0x497855(0x1d8)][_0x497855(0x1fc)])&&this[_0x497855(0x1d8)][_0x497855(0x1fc)][_0x1aee28]||{}};delete _0x48d28c[_0x497855(0x20e)],this[_0x497855(0x213)][_0x497855(0x1bd)]=_0x48d28c;if(_seleniumWebdriver2){const _0xb5ace0=_0x4a72f4['ZxjhN'][_0x497855(0x1e6)]('|');let _0x5698ad=0x0;while(!![]){switch(_0xb5ace0[_0x5698ad++]){case'0':this[_0x497855(0x213)]['browserstackPercyBestPlatform']=helper[_0x497855(0x228)](_0x2212f4,[_0x4a72f4[_0x497855(0x1ed)],_0x4a72f4[_0x497855(0x20b)],_0x4a72f4[_0x497855(0x1c4)]]);continue;case'1':helper[_0x497855(0x22b)](this['configuration']['skipSessionName'])?this['global'][_0x497855(0x204)]=!![]:this[_0x497855(0x213)][_0x497855(0x204)]=![];continue;case'2':this['global'][_0x497855(0x1b8)]=helper['nestedKeyValue'](_0x2212f4,[_0x4a72f4[_0x497855(0x1ed)],_0x4a72f4[_0x497855(0x20b)],_0x4a72f4[_0x497855(0x22f)]]);continue;case'3':this['global']['__webdriver']=_0x4a72f4[_0x497855(0x203)](require,_0x4a72f4[_0x497855(0x206)])[_0x497855(0x1de)]({...this[_0x497855(0x1d8)],'capability':this[_0x497855(0x1f2)]||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;case'4':this['global'][_0x497855(0x1c2)]=[];continue;case'5':this[_0x497855(0x213)][_0x497855(0x1cd)]=helper[_0x497855(0x22b)](this[_0x497855(0x1d8)][_0x497855(0x1c1)]);continue;case'6':this[_0x497855(0x213)]['cleanup']=async()=>{const _0x26e269=_0x497855;await this[_0x26e269(0x213)][_0x26e269(0x1d9)][_0x26e269(0x1fa)](_0x4a72f4[_0x26e269(0x20a)]);};continue;case'7':this[_0x497855(0x213)][_0x497855(0x1e4)]=helper[_0x497855(0x228)](_0x2212f4,[_0x4a72f4[_0x497855(0x1ed)],_0x4a72f4['GPJLd'],_0x4a72f4[_0x497855(0x207)]]);continue;}break;}}}async['teardown'](){const _0x4efbbf=a16_0x22e5b;_seleniumWebdriver2&&(await helper[_0x4efbbf(0x1fb)](this[_0x4efbbf(0x213)][_0x4efbbf(0x21d)]),this[_0x4efbbf(0x213)]['__webdriver'][_0x4efbbf(0x222)]=originalBuilder),await RequestQueueHandler['getInstance']()[_0x4efbbf(0x1ea)]();}async[a16_0x22e5b(0x1c8)](){}async[a16_0x22e5b(0x218)](_0x1a50fc,_0x4b9c1e){const _0x10d3fe=a16_0x22e5b,_0x180b90={};_0x180b90[_0x10d3fe(0x202)]=function(_0x5d3672,_0x385746){return _0x5d3672===_0x385746;},_0x180b90[_0x10d3fe(0x20d)]=_0x10d3fe(0x1c6),_0x180b90[_0x10d3fe(0x1b9)]=function(_0x263a11,_0xf75e80){return _0x263a11===_0xf75e80;},_0x180b90[_0x10d3fe(0x21c)]=_0x10d3fe(0x1e9),_0x180b90[_0x10d3fe(0x224)]=function(_0x5284f4,_0x2598de){return _0x5284f4===_0x2598de;},_0x180b90[_0x10d3fe(0x1e1)]=_0x10d3fe(0x1d1),_0x180b90[_0x10d3fe(0x1ef)]='\x20>\x20',_0x180b90[_0x10d3fe(0x22e)]=_0x10d3fe(0x1d4),_0x180b90[_0x10d3fe(0x1f4)]=_0x10d3fe(0x1bc);const _0x6c4bb3=_0x180b90,{name:_0x1ad20a}=_0x1a50fc;if(_0x6c4bb3['qPMPf'](_0x1ad20a,_0x6c4bb3[_0x10d3fe(0x20d)])){this[_0x10d3fe(0x213)]['testContext']=_0x1a50fc[_0x10d3fe(0x1b7)];if(_0x6c4bb3[_0x10d3fe(0x1b9)](this[_0x10d3fe(0x213)][_0x10d3fe(0x1eb)],!![])){const _0x104871=_0x1a50fc[_0x10d3fe(0x1b7)][_0x10d3fe(0x1dc)];logger[_0x10d3fe(0x1c0)](_0x10d3fe(0x1f0)+_0x104871),_0x1a50fc['test'][_0x10d3fe(0x1ee)]=_0x6c4bb3['DCaff'];}}if(this[_0x10d3fe(0x1c9)]&&_0x6c4bb3['qjOAD'](_0x1ad20a,_0x6c4bb3[_0x10d3fe(0x1e1)]))try{const _0x285dfe=_0x1a50fc[_0x10d3fe(0x1b7)]['testPath'][_0x10d3fe(0x1fe)](_0x6c4bb3[_0x10d3fe(0x1ef)]),_0x10bf46=_0x1a50fc[_0x10d3fe(0x1b7)][_0x10d3fe(0x1d0)];await this[_0x10d3fe(0x1c9)]['onTestDone'](_0x285dfe,_0x10bf46);const _0x153243=await this[_0x10d3fe(0x1c9)][_0x10d3fe(0x212)]();_0x6c4bb3[_0x10d3fe(0x202)](this['global'][_0x10d3fe(0x1eb)],![])&&_0x6c4bb3[_0x10d3fe(0x224)](_0x153243,!![])&&(this[_0x10d3fe(0x213)][_0x10d3fe(0x1eb)]=!![]);}catch(_0x56aa8c){logger[_0x10d3fe(0x1c7)](_0x6c4bb3[_0x10d3fe(0x22e)],_0x56aa8c[_0x10d3fe(0x1cb)]);}_0x6c4bb3[_0x10d3fe(0x1b9)](_0x1ad20a,_0x6c4bb3[_0x10d3fe(0x1f4)])&&(this['failFast']&&this[_0x10d3fe(0x1c9)][_0x10d3fe(0x1bb)]());}}module[a16_0x22e5b(0x209)]=CustomEnvironment;