const a16_0x4c1d84=a16_0x2309;(function(_0x2bf684,_0x4e34c9){const _0x36047e=a16_0x2309,_0x1d764c=_0x2bf684();while(!![]){try{const _0x217314=-parseInt(_0x36047e(0x147))/0x1*(parseInt(_0x36047e(0x177))/0x2)+-parseInt(_0x36047e(0x169))/0x3+parseInt(_0x36047e(0x167))/0x4*(-parseInt(_0x36047e(0x128))/0x5)+-parseInt(_0x36047e(0x125))/0x6+parseInt(_0x36047e(0x12c))/0x7*(-parseInt(_0x36047e(0x11c))/0x8)+-parseInt(_0x36047e(0x118))/0x9+parseInt(_0x36047e(0x13d))/0xa;if(_0x217314===_0x4e34c9)break;else _0x1d764c['push'](_0x1d764c['shift']());}catch(_0x5d684b){_0x1d764c['push'](_0x1d764c['shift']());}}}(a16_0x26d6,0x398b0));function a16_0x26d6(){const _0x10d914=['25EKTCnO','testPath','node','teardown','28MhtPUW','lvCkb','KTYqh','UnSky','test','__platformCaps','Error\x20in\x20fail-fast\x20test_done\x20handler:','failFastActive','oLtHn','../../../helpers/helper','name','buildName','JEST','resolveTestEnvironment','MAuYV','AONfe','browserstackPercyBestPlatform','10651510TFVgWF','FPVaj','builder','\x20>\x20','GtVnh','gJzrG','cleanup','isTrue','handleTestEvent','percy','32DTktuw','retries__','Builder','qTHSi','configuration','setup','driver','global','lzOli','capability','cleanupDrivers','test_done','bstack:options','info','skipSessionStatus','failFast','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','FVHpo','EEzwG','../test-observability/obsReporter','testEnvironmentOptions','message','failFastOptions','exports','dkNwI','0|7|6|2|5|9|3|8|1|4','__timeout','sessionNameProvided','uYfUO','registerListeners','percyCaptureMode','projectName','157612qttNxP','isBrowserstackInfra','879372OBObxy','__drivers','split','bNVrj','__driversArray','jest-environment-node','__esModule','Zvxve','join','PApaE','browserstackPlatformIndex','shouldFailFast','jest-config','../../../helpers/logger','90iDKfAb','projectConfig','MThor','browserStackPercyOptions','getInstance','getTestEnvironment','oduPo','lHXGT','winstonLogger','isNotUndefined','framework','__skipSessionStatus','lraoJ','rTUbi','test_start','timeout__','env','nestedKeyValue','XMlod','316908tIGQGY','__webdriver','shouldProcessEventForTesthub','default','455616wFfWsH','hKMUw','BSTACK_DELTA','requireModule','vVRIM','oFUZB','cwd','__jestRetries','quit','449136ViRTWj','onTestDone','../../../helpers/testhub/utils'];a16_0x26d6=function(){return _0x10d914;};return a16_0x26d6();}const helper=require(a16_0x4c1d84(0x135)),constants=require('../../utils/constants'),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require(a16_0x4c1d84(0x15a)),testhubUtils=require(a16_0x4c1d84(0x127)),logger=require(a16_0x4c1d84(0x176))[a16_0x4c1d84(0x10d)],getTestEnvironment=((()=>{const _0x2999b0=a16_0x4c1d84,_0x54e7c4={};_0x54e7c4['uOLlU']='jest-resolve',_0x54e7c4[_0x2999b0(0x16c)]=_0x2999b0(0x175);const _0xf53736=_0x54e7c4;try{const _0x4a93d5=helper[_0x2999b0(0x11f)](_0xf53736['uOLlU']);if(_0x4a93d5[_0x2999b0(0x139)])return _0x4a93d5[_0x2999b0(0x139)];const _0x5bdb11=helper[_0x2999b0(0x11f)](_0xf53736[_0x2999b0(0x16c)]);if(_0x5bdb11[_0x2999b0(0x10a)])return _0x5bdb11[_0x2999b0(0x10a)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x5c00a9=a16_0x4c1d84,_0x128b02={'lvCkb':function(_0x23c725,_0x45860e){return _0x23c725(_0x45860e);},'lHXGT':_0x5c00a9(0x12a),'PCjeH':_0x5c00a9(0x16e)},_0x36187b=_0x128b02['lvCkb'](getTestEnvironment,{'rootDir':process[_0x5c00a9(0x122)](),'testEnvironment':process[_0x5c00a9(0x115)]['BSTACK_JEST_TEST_ENV']||_0x128b02[_0x5c00a9(0x10c)]});if(!_0x36187b)return _0x128b02[_0x5c00a9(0x12d)](_interopRequireDefault,helper[_0x5c00a9(0x11f)](_0x128b02['PCjeH']));return _0x128b02[_0x5c00a9(0x12d)](_interopRequireDefault,helper['requireModule'](_0x36187b));})()),_seleniumWebdriver2=((()=>{const _0x37f786=a16_0x4c1d84,_0x76c5de={'KTYqh':function(_0x4ec6e2,_0x2bab69){return _0x4ec6e2(_0x2bab69);}};try{const _0x58e06e=helper['requireSeleniumWebdriver']();return helper['modifyCommand'](),_0x76c5de[_0x37f786(0x12e)](_interopRequireDefault,_0x58e06e);}catch{return null;}})());function _interopRequireDefault(_0x546f85){const _0x240499=a16_0x4c1d84;return _0x546f85&&_0x546f85[_0x240499(0x16f)]?_0x546f85:{'default':_0x546f85};}function a16_0x2309(_0x295873,_0x103578){const _0x26d656=a16_0x26d6();return a16_0x2309=function(_0x2309f3,_0x59ddf3){_0x2309f3=_0x2309f3-0x106;let _0x922127=_0x26d656[_0x2309f3];return _0x922127;},a16_0x2309(_0x295873,_0x103578);}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x4c1d84(0x11b)]['Builder']:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x4c1d84(0x11b)]{constructor(_0x2cd381){const _0x5382df=a16_0x4c1d84,_0x5183e1={'MAuYV':_0x5382df(0x124),'WqCAA':function(_0x590494,_0x60ad18){return _0x590494+_0x60ad18;},'PApaE':_0x5382df(0x153),'FVHpo':function(_0x5c4976,_0x15d239){return _0x5c4976(_0x15d239);},'AONfe':'../../../helpers/test-orchestration/failfastManager','vVRIM':_0x5382df(0x160),'FPVaj':_0x5382df(0x15b),'MThor':_0x5382df(0x108),'oduPo':'browserstackPercyBestPlatform','Zvxve':'platformCaps','rTUbi':_0x5382df(0x146),'oLtHn':'../../../index','dkNwI':_0x5382df(0x165)};super(_0x2cd381),this[_0x5382df(0x14e)][_0x5382df(0x161)]=0x0,this[_0x5382df(0x14b)]={};!_0x2cd381[_0x5382df(0x15b)]&&(_0x2cd381[_0x5382df(0x15b)]={});if(helper[_0x5382df(0x168)]()){_0x2cd381['testEnvironmentOptions']=_0x2cd381[_0x5382df(0x106)]?_0x2cd381[_0x5382df(0x106)]['testEnvironmentOptions']:_0x2cd381['testEnvironmentOptions'],this[_0x5382df(0x13f)]=new _seleniumWebdriver2[(_0x5382df(0x11b))][(_0x5382df(0x149))](),this['capability']=_0x2cd381[_0x5382df(0x106)]?_0x2cd381[_0x5382df(0x106)][_0x5382df(0x150)]:_0x2cd381[_0x5382df(0x150)],this[_0x5382df(0x14e)][_0x5382df(0x161)]=_0x5183e1['WqCAA'](this[_0x5382df(0x14b)][_0x5382df(0x114)],constants[_0x5382df(0x11e)]),this[_0x5382df(0x15d)]=_0x2cd381[_0x5382df(0x15b)][_0x5382df(0x156)];if(this[_0x5382df(0x15d)]){const _0x4530c4=this[_0x5382df(0x150)][_0x5183e1['PApaE']]?.[_0x5382df(0x137)]||'',_0x25d0f1=this[_0x5382df(0x150)][_0x5183e1[_0x5382df(0x172)]]?.[_0x5382df(0x166)]||'';this['failFast']=new(_0x5183e1[_0x5382df(0x158)](require,_0x5183e1[_0x5382df(0x13b)]))(this[_0x5382df(0x15d)],_0x4530c4,_0x25d0f1),this[_0x5382df(0x14e)][_0x5382df(0x133)]=![];}helper[_0x5382df(0x10e)](this[_0x5382df(0x14b)][_0x5382df(0x148)])&&(this[_0x5382df(0x14e)][_0x5382df(0x123)]=this[_0x5382df(0x14b)][_0x5382df(0x148)]);}if(testhubUtils[_0x5382df(0x11a)]()){const _0x56b16b=new ObservabilityReporter();_0x56b16b[_0x5382df(0x164)]();}this[_0x5382df(0x14e)]['browserStackGlobals']={},this[_0x5382df(0x14b)]=_0x2cd381[_0x5382df(0x15b)],this['configuration'][_0x5382df(0x10f)]=constants['FRAMEWORKS'][_0x5382df(0x138)];if(_seleniumWebdriver2){const _0x3ec6cc=_0x5183e1[_0x5382df(0x120)][_0x5382df(0x16b)]('|');let _0x4e4f50=0x0;while(!![]){switch(_0x3ec6cc[_0x4e4f50++]){case'0':this[_0x5382df(0x14e)][_0x5382df(0x16a)]=[];continue;case'1':this[_0x5382df(0x14e)][_0x5382df(0x110)]=helper['isTrue'](this['configuration'][_0x5382df(0x155)]);continue;case'2':this['global'][_0x5382df(0x13c)]=helper[_0x5382df(0x116)](_0x2cd381,[_0x5183e1['FPVaj'],_0x5183e1[_0x5382df(0x107)],_0x5183e1[_0x5382df(0x10b)]]);continue;case'3':this['global'][_0x5382df(0x131)]=helper['nestedKeyValue'](this[_0x5382df(0x14b)],[_0x5183e1[_0x5382df(0x170)],this[_0x5382df(0x14e)][_0x5382df(0x173)]])||{};continue;case'4':this['global'][_0x5382df(0x143)]=async()=>{const _0x244f21=_0x5382df;await this[_0x244f21(0x14e)][_0x244f21(0x14d)][_0x244f21(0x124)](_0x5183e1[_0x244f21(0x13a)]);};continue;case'5':this['global'][_0x5382df(0x146)]=helper[_0x5382df(0x116)](_0x2cd381,[_0x5183e1[_0x5382df(0x13e)],_0x5183e1['MThor'],_0x5183e1[_0x5382df(0x112)]]);continue;case'6':this['global'][_0x5382df(0x173)]=(_0x2cd381['projectConfig']?_0x2cd381[_0x5382df(0x106)][_0x5382df(0x173)]:_0x2cd381['browserstackPlatformIndex'])||0x0;continue;case'7':this[_0x5382df(0x14e)][_0x5382df(0x119)]=_0x5183e1[_0x5382df(0x158)](require,_0x5183e1[_0x5382df(0x134)])['browserstackAgentV2']({...this[_0x5382df(0x14b)],'capability':this[_0x5382df(0x150)]||{}},this,testhubUtils[_0x5382df(0x11a)]());continue;case'8':helper[_0x5382df(0x144)](this[_0x5382df(0x14b)]['skipSessionName'])?this[_0x5382df(0x14e)][_0x5382df(0x162)]=!![]:this[_0x5382df(0x14e)]['sessionNameProvided']=![];continue;case'9':this[_0x5382df(0x14e)]['percyCaptureMode']=helper[_0x5382df(0x116)](_0x2cd381,[_0x5183e1['FPVaj'],_0x5183e1[_0x5382df(0x107)],_0x5183e1[_0x5382df(0x15f)]]);continue;}break;}}}async[a16_0x4c1d84(0x12b)](){const _0x5929bd=a16_0x4c1d84;_seleniumWebdriver2&&(await helper[_0x5929bd(0x151)](this[_0x5929bd(0x14e)][_0x5929bd(0x16d)]),this[_0x5929bd(0x14e)][_0x5929bd(0x119)][_0x5929bd(0x149)]=originalBuilder),await RequestQueueHandler[_0x5929bd(0x109)]()['shutdown']();}async[a16_0x4c1d84(0x14c)](){}async[a16_0x4c1d84(0x145)](_0x326c13,_0x17cba1){const _0x5539f8=a16_0x4c1d84,_0x396eba={};_0x396eba[_0x5539f8(0x159)]=function(_0x5cba87,_0x2d7564){return _0x5cba87===_0x2d7564;},_0x396eba[_0x5539f8(0x141)]=_0x5539f8(0x113),_0x396eba[_0x5539f8(0x14a)]=function(_0x52b2ed,_0x3f6ab6){return _0x52b2ed===_0x3f6ab6;},_0x396eba[_0x5539f8(0x121)]='skip',_0x396eba[_0x5539f8(0x117)]=_0x5539f8(0x152),_0x396eba[_0x5539f8(0x12f)]=_0x5539f8(0x140),_0x396eba[_0x5539f8(0x11d)]=function(_0x86688,_0x48e836){return _0x86688===_0x48e836;},_0x396eba[_0x5539f8(0x111)]=function(_0x4b4e97,_0x24bcd9){return _0x4b4e97===_0x24bcd9;},_0x396eba[_0x5539f8(0x14f)]=_0x5539f8(0x132),_0x396eba[_0x5539f8(0x142)]=function(_0x283cc7,_0x1f5744){return _0x283cc7===_0x1f5744;},_0x396eba['uYfUO']='teardown';const _0x3932d1=_0x396eba,{name:_0x2693ad}=_0x326c13;if(_0x3932d1[_0x5539f8(0x159)](_0x2693ad,_0x3932d1['GtVnh'])){this['global']['testContext']=_0x326c13[_0x5539f8(0x130)];if(_0x3932d1['qTHSi'](this[_0x5539f8(0x14e)]['failFastActive'],!![])){const _0x40fa9c=_0x326c13[_0x5539f8(0x130)][_0x5539f8(0x136)];logger[_0x5539f8(0x154)](_0x5539f8(0x157)+_0x40fa9c),_0x326c13[_0x5539f8(0x130)]['mode']=_0x3932d1[_0x5539f8(0x121)];}}if(this[_0x5539f8(0x156)]&&_0x3932d1[_0x5539f8(0x159)](_0x2693ad,_0x3932d1[_0x5539f8(0x117)]))try{const _0x5860a3=_0x326c13[_0x5539f8(0x130)][_0x5539f8(0x129)][_0x5539f8(0x171)](_0x3932d1['UnSky']),_0x3d5c36=_0x326c13[_0x5539f8(0x130)]['errors'];await this[_0x5539f8(0x156)][_0x5539f8(0x126)](_0x5860a3,_0x3d5c36);const _0x477fbc=await this['failFast'][_0x5539f8(0x174)]();_0x3932d1[_0x5539f8(0x11d)](this[_0x5539f8(0x14e)][_0x5539f8(0x133)],![])&&_0x3932d1[_0x5539f8(0x111)](_0x477fbc,!![])&&(this[_0x5539f8(0x14e)][_0x5539f8(0x133)]=!![]);}catch(_0x65a3b1){logger['debug'](_0x3932d1[_0x5539f8(0x14f)],_0x65a3b1[_0x5539f8(0x15c)]);}_0x3932d1[_0x5539f8(0x142)](_0x2693ad,_0x3932d1[_0x5539f8(0x163)])&&(this[_0x5539f8(0x156)]&&this[_0x5539f8(0x156)]['cleanup']());}}module[a16_0x4c1d84(0x15e)]=CustomEnvironment;