const a18_0x50d1bf=a18_0x361c;function a18_0x361c(_0x12cb56,_0xce8a83){const _0x553801=a18_0x5538();return a18_0x361c=function(_0x361cb7,_0x5a4b6b){_0x361cb7=_0x361cb7-0xd3;let _0xc82254=_0x553801[_0x361cb7];return _0xc82254;},a18_0x361c(_0x12cb56,_0xce8a83);}(function(_0x15611e,_0x2c90bb){const _0x14d959=a18_0x361c,_0x3fba9c=_0x15611e();while(!![]){try{const _0x3e8aef=parseInt(_0x14d959(0xff))/0x1*(parseInt(_0x14d959(0xeb))/0x2)+-parseInt(_0x14d959(0x117))/0x3+parseInt(_0x14d959(0xf8))/0x4*(parseInt(_0x14d959(0x11f))/0x5)+-parseInt(_0x14d959(0x132))/0x6+parseInt(_0x14d959(0x10e))/0x7*(parseInt(_0x14d959(0xe7))/0x8)+-parseInt(_0x14d959(0xe6))/0x9+-parseInt(_0x14d959(0x101))/0xa;if(_0x3e8aef===_0x2c90bb)break;else _0x3fba9c['push'](_0x3fba9c['shift']());}catch(_0x4c8e51){_0x3fba9c['push'](_0x3fba9c['shift']());}}}(a18_0x5538,0x8b6ce));function a18_0x5538(){const _0x489c68=['../../../helpers/test-observability/utils','test_done','cleanup','wNYRp','__timeout','testPath','__skipSessionStatus','1206564iYYrSb','shouldProcessEventForTesthub','getTestEnvironment','\x20>\x20','isBrowserstackInfra','nestedKeyValue','failFast','cleanupDrivers','quit','__drivers','message','Sqqpk','teardown','../../../helpers/testhub/utils','__webdriver','skip','testEnvironmentOptions','../../utils/constants','isNotUndefined','TFEnV','setup','modifyCommand','retries__','RhZgq','mode','BSTACK_JEST_TEST_ENV','join','Builder','qxMpL','eeiSM','mPZYj','skipSessionName','BSTACK_DELTA','FRAMEWORKS','env','percyCaptureMode','browserstackPercyBestPlatform','global','EMEiy','split','3580515GQWvDI','8497912bjcFNC','__jestRetries','RKPEo','PhBzW','475498VEYwtU','failFastOptions','DVPzf','capability','shutdown','errors','../../../helpers/helper','PkoSc','node','configuration','isTrue','MloQY','resolveTestEnvironment','40zrMRjz','winstonLogger','exports','bstack:options','../test-observability/obsReporter','AxZBN','EAUnf','1rEHHSc','TAzvs','75130LsTwyA','tZRMK','projectConfig','handleTestEvent','../../../helpers/test-observability/requestQueueHandler','gRvsz','shouldFailFast','DjSFt','OdBpn','ZuGSo','onTestDone','requireSeleniumWebdriver','2|8|7|9|1|0|5|3|4|6','7wzpZpw','Hhmfc','../../../helpers/logger','default','browserStackPercyOptions','Error\x20in\x20fail-fast\x20test_done\x20handler:','registerListeners','test','browserstackPlatformIndex','1240110rlQxRJ','projectName','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','platformCaps','__driversArray','NXdYJ','zAips','dAFoN','145455xrsjNL','DOSqQ','requireModule','timeout__','percy','browserStackGlobals','builder','__esModule','test_start','buildName','../../../index','failFastActive'];a18_0x5538=function(){return _0x489c68;};return a18_0x5538();}const helper=require(a18_0x50d1bf(0xf1)),constants=require(a18_0x50d1bf(0x143)),{isTestObservabilitySession}=require(a18_0x50d1bf(0x12b)),RequestQueueHandler=require(a18_0x50d1bf(0x105)),ObservabilityReporter=require(a18_0x50d1bf(0xfc)),testhubUtils=require(a18_0x50d1bf(0x13f)),logger=require(a18_0x50d1bf(0x110))[a18_0x50d1bf(0xf9)],getTestEnvironment=((()=>{const _0x1066fb=a18_0x50d1bf,_0x21b273={};_0x21b273[_0x1066fb(0xfe)]='jest-resolve',_0x21b273[_0x1066fb(0x106)]='jest-config';const _0x53be45=_0x21b273;try{const _0x4d6a1a=helper[_0x1066fb(0x121)](_0x53be45['EAUnf']);if(_0x4d6a1a['resolveTestEnvironment'])return _0x4d6a1a[_0x1066fb(0xf7)];const _0x27c5f7=helper[_0x1066fb(0x121)](_0x53be45[_0x1066fb(0x106)]);if(_0x27c5f7[_0x1066fb(0x134)])return _0x27c5f7['getTestEnvironment'];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x53a5c8=a18_0x50d1bf,_0x38e388={'MloQY':function(_0x5990aa,_0x3ff63e){return _0x5990aa(_0x3ff63e);},'BWIsw':_0x53a5c8(0xf3),'AxZBN':function(_0x1b6920,_0x5d9196){return _0x1b6920(_0x5d9196);},'tZRMK':'jest-environment-node'},_0x450655=_0x38e388[_0x53a5c8(0xf6)](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process[_0x53a5c8(0xe0)][_0x53a5c8(0xd7)]||_0x38e388['BWIsw']});if(!_0x450655)return _0x38e388[_0x53a5c8(0xfd)](_interopRequireDefault,helper[_0x53a5c8(0x121)](_0x38e388[_0x53a5c8(0x102)]));return _0x38e388[_0x53a5c8(0xf6)](_interopRequireDefault,helper[_0x53a5c8(0x121)](_0x450655));})()),_seleniumWebdriver2=((()=>{const _0x2a07e8=a18_0x50d1bf,_0x26e0c8={'wNYRp':function(_0x4329b8,_0x410541){return _0x4329b8(_0x410541);}};try{const _0x386517=helper[_0x2a07e8(0x10c)]();return helper[_0x2a07e8(0xd3)](),_0x26e0c8[_0x2a07e8(0x12e)](_interopRequireDefault,_0x386517);}catch{return null;}})());function _interopRequireDefault(_0x4837ad){const _0x19bd54=a18_0x50d1bf;return _0x4837ad&&_0x4837ad[_0x19bd54(0x126)]?_0x4837ad:{'default':_0x4837ad};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2['default'][a18_0x50d1bf(0xd9)]:null;class CustomEnvironment extends _jestUserEnvironment['default']{constructor(_0x4f6193){const _0x28721a=a18_0x50d1bf,_0x470774={'RhZgq':'quit','dAFoN':function(_0x353ebe,_0x4ab7c4){return _0x353ebe+_0x4ab7c4;},'Hhmfc':_0x28721a(0xfb),'DOSqQ':function(_0x5a6794,_0x2d4d60){return _0x5a6794(_0x2d4d60);},'PkoSc':'../../../helpers/test-orchestration/failfastManager','PhBzW':_0x28721a(0x10d),'zAips':_0x28721a(0x142),'TFEnV':_0x28721a(0x112),'EMEiy':'percyCaptureMode','DVPzf':_0x28721a(0x123),'OdBpn':_0x28721a(0x11a),'mPZYj':_0x28721a(0x129),'ohkkR':'browserstackPercyBestPlatform'};super(_0x4f6193),this['global'][_0x28721a(0x12f)]=0x0,this[_0x28721a(0xf4)]={};!_0x4f6193[_0x28721a(0x142)]&&(_0x4f6193['testEnvironmentOptions']={});if(helper[_0x28721a(0x136)]()){_0x4f6193[_0x28721a(0x142)]=_0x4f6193[_0x28721a(0x103)]?_0x4f6193[_0x28721a(0x103)][_0x28721a(0x142)]:_0x4f6193[_0x28721a(0x142)],this[_0x28721a(0x125)]=new _seleniumWebdriver2[(_0x28721a(0x111))][(_0x28721a(0xd9))](),this[_0x28721a(0xee)]=_0x4f6193[_0x28721a(0x103)]?_0x4f6193[_0x28721a(0x103)][_0x28721a(0xee)]:_0x4f6193['capability'],this['global'][_0x28721a(0x12f)]=_0x470774[_0x28721a(0x11e)](this[_0x28721a(0xf4)][_0x28721a(0x122)],constants[_0x28721a(0xde)]),this[_0x28721a(0xec)]=_0x4f6193[_0x28721a(0x142)][_0x28721a(0x138)];if(this[_0x28721a(0xec)]){const _0x33447e=this['capability'][_0x470774['Hhmfc']]?.[_0x28721a(0x128)]||'',_0x37004e=this[_0x28721a(0xee)][_0x470774[_0x28721a(0x10f)]]?.[_0x28721a(0x118)]||'';this[_0x28721a(0x138)]=new(_0x470774['DOSqQ'](require,_0x470774[_0x28721a(0xf2)]))(this[_0x28721a(0xec)],_0x33447e,_0x37004e),this['global'][_0x28721a(0x12a)]=![];}helper[_0x28721a(0x144)](this[_0x28721a(0xf4)][_0x28721a(0xd4)])&&(this['global'][_0x28721a(0xe8)]=this[_0x28721a(0xf4)][_0x28721a(0xd4)]);}if(testhubUtils[_0x28721a(0x133)]()){const _0x3c67a6=new ObservabilityReporter();_0x3c67a6[_0x28721a(0x114)]();}this[_0x28721a(0xe3)][_0x28721a(0x124)]={},this[_0x28721a(0xf4)]=_0x4f6193['testEnvironmentOptions'],this[_0x28721a(0xf4)]['framework']=constants[_0x28721a(0xdf)]['JEST'];if(_seleniumWebdriver2){const _0x399e7f=_0x470774[_0x28721a(0xea)][_0x28721a(0xe5)]('|');let _0x2f550c=0x0;while(!![]){switch(_0x399e7f[_0x2f550c++]){case'0':this[_0x28721a(0xe3)][_0x28721a(0xe1)]=helper[_0x28721a(0x137)](_0x4f6193,[_0x470774[_0x28721a(0x11d)],_0x470774[_0x28721a(0x145)],_0x470774[_0x28721a(0xe4)]]);continue;case'1':this[_0x28721a(0xe3)][_0x28721a(0x123)]=helper[_0x28721a(0x137)](_0x4f6193,[_0x470774[_0x28721a(0x11d)],_0x470774[_0x28721a(0x145)],_0x470774[_0x28721a(0xed)]]);continue;case'2':this[_0x28721a(0xe3)][_0x28721a(0x13b)]=[];continue;case'3':helper[_0x28721a(0xf5)](this['configuration'][_0x28721a(0xdd)])?this['global']['sessionNameProvided']=!![]:this['global']['sessionNameProvided']=![];continue;case'4':this[_0x28721a(0xe3)][_0x28721a(0x131)]=helper[_0x28721a(0xf5)](this['configuration']['skipSessionStatus']);continue;case'5':this[_0x28721a(0xe3)]['__platformCaps']=helper[_0x28721a(0x137)](this[_0x28721a(0xf4)],[_0x470774[_0x28721a(0x109)],this[_0x28721a(0xe3)][_0x28721a(0x116)]])||{};continue;case'6':this[_0x28721a(0xe3)][_0x28721a(0x12d)]=async()=>{const _0x1531df=_0x28721a;await this['global']['driver'][_0x1531df(0x13a)](_0x470774[_0x1531df(0xd5)]);};continue;case'7':this[_0x28721a(0xe3)][_0x28721a(0x116)]=(_0x4f6193['projectConfig']?_0x4f6193[_0x28721a(0x103)][_0x28721a(0x116)]:_0x4f6193[_0x28721a(0x116)])||0x0;continue;case'8':this[_0x28721a(0xe3)][_0x28721a(0x140)]=_0x470774[_0x28721a(0x120)](require,_0x470774[_0x28721a(0xdc)])['browserstackAgentV2']({...this[_0x28721a(0xf4)],'capability':this[_0x28721a(0xee)]||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;case'9':this[_0x28721a(0xe3)][_0x28721a(0xe2)]=helper[_0x28721a(0x137)](_0x4f6193,[_0x470774[_0x28721a(0x11d)],_0x470774['TFEnV'],_0x470774['ohkkR']]);continue;}break;}}}async['teardown'](){const _0x3c94bc=a18_0x50d1bf;_seleniumWebdriver2&&(await helper[_0x3c94bc(0x139)](this['global'][_0x3c94bc(0x11b)]),this[_0x3c94bc(0xe3)][_0x3c94bc(0x140)]['Builder']=originalBuilder),await RequestQueueHandler['getInstance']()[_0x3c94bc(0xef)]();}async[a18_0x50d1bf(0x146)](){}async[a18_0x50d1bf(0x104)](_0x1ead15,_0x27ac71){const _0x50c578=a18_0x50d1bf,_0x41ac1f={};_0x41ac1f[_0x50c578(0x100)]=function(_0x5d9716,_0x5e8620){return _0x5d9716===_0x5e8620;},_0x41ac1f[_0x50c578(0x108)]=_0x50c578(0x127),_0x41ac1f[_0x50c578(0x11c)]=_0x50c578(0x141),_0x41ac1f[_0x50c578(0xda)]=_0x50c578(0x12c),_0x41ac1f[_0x50c578(0xdb)]=_0x50c578(0x135),_0x41ac1f[_0x50c578(0xe9)]=function(_0x1b6e59,_0x1755c7){return _0x1b6e59===_0x1755c7;},_0x41ac1f[_0x50c578(0x10a)]=_0x50c578(0x113),_0x41ac1f[_0x50c578(0x13d)]=_0x50c578(0x13e);const _0x43a4b=_0x41ac1f,{name:_0x376b45}=_0x1ead15;if(_0x43a4b[_0x50c578(0x100)](_0x376b45,_0x43a4b[_0x50c578(0x108)])){this[_0x50c578(0xe3)]['testContext']=_0x1ead15['test'];if(_0x43a4b[_0x50c578(0x100)](this[_0x50c578(0xe3)][_0x50c578(0x12a)],!![])){const _0x1822d7=_0x1ead15['test']['name'];logger['info'](_0x50c578(0x119)+_0x1822d7),_0x1ead15[_0x50c578(0x115)][_0x50c578(0xd6)]=_0x43a4b[_0x50c578(0x11c)];}}if(this['failFast']&&_0x43a4b[_0x50c578(0x100)](_0x376b45,_0x43a4b[_0x50c578(0xda)]))try{const _0x5cc83a=_0x1ead15['test'][_0x50c578(0x130)][_0x50c578(0xd8)](_0x43a4b[_0x50c578(0xdb)]),_0x3ea6b3=_0x1ead15[_0x50c578(0x115)][_0x50c578(0xf0)];await this[_0x50c578(0x138)][_0x50c578(0x10b)](_0x5cc83a,_0x3ea6b3);const _0x4e035c=await this['failFast'][_0x50c578(0x107)]();_0x43a4b[_0x50c578(0xe9)](this[_0x50c578(0xe3)]['failFastActive'],![])&&_0x43a4b['RKPEo'](_0x4e035c,!![])&&(this[_0x50c578(0xe3)]['failFastActive']=!![]);}catch(_0x30f8e4){logger['debug'](_0x43a4b[_0x50c578(0x10a)],_0x30f8e4[_0x50c578(0x13c)]);}_0x43a4b[_0x50c578(0x100)](_0x376b45,_0x43a4b[_0x50c578(0x13d)])&&(this[_0x50c578(0x138)]&&this[_0x50c578(0x138)][_0x50c578(0x12d)]());}}module[a18_0x50d1bf(0xfa)]=CustomEnvironment;