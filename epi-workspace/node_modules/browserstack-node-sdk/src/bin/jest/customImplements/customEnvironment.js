function a18_0x397d(_0x346459,_0xd6f51f){const _0x2c62d7=a18_0x2c62();return a18_0x397d=function(_0x397dd5,_0x99dc6a){_0x397dd5=_0x397dd5-0x105;let _0x1a0a95=_0x2c62d7[_0x397dd5];return _0x1a0a95;},a18_0x397d(_0x346459,_0xd6f51f);}const a18_0x34e604=a18_0x397d;(function(_0x1f7f2a,_0x56e46f){const _0x16aaa6=a18_0x397d,_0x3e7335=_0x1f7f2a();while(!![]){try{const _0x3c4f01=-parseInt(_0x16aaa6(0x141))/0x1+-parseInt(_0x16aaa6(0x10f))/0x2+-parseInt(_0x16aaa6(0x15b))/0x3*(parseInt(_0x16aaa6(0x153))/0x4)+parseInt(_0x16aaa6(0x166))/0x5+-parseInt(_0x16aaa6(0x144))/0x6+parseInt(_0x16aaa6(0x14d))/0x7+parseInt(_0x16aaa6(0x154))/0x8;if(_0x3c4f01===_0x56e46f)break;else _0x3e7335['push'](_0x3e7335['shift']());}catch(_0x45bc3a){_0x3e7335['push'](_0x3e7335['shift']());}}}(a18_0x2c62,0x32cd1));const helper=require('../../../helpers/helper'),constants=require(a18_0x34e604(0x161)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require(a18_0x34e604(0x163)),ObservabilityReporter=require('../test-observability/obsReporter'),testhubUtils=require(a18_0x34e604(0x14c)),logger=require(a18_0x34e604(0x156))[a18_0x34e604(0x13d)],getTestEnvironment=((()=>{const _0x12ad5e=a18_0x34e604,_0x11f9c1={};_0x11f9c1[_0x12ad5e(0x138)]=_0x12ad5e(0x12d),_0x11f9c1[_0x12ad5e(0x16a)]='jest-config';const _0xed1333=_0x11f9c1;try{const _0x5949b5=helper[_0x12ad5e(0x108)](_0xed1333[_0x12ad5e(0x138)]);if(_0x5949b5['resolveTestEnvironment'])return _0x5949b5['resolveTestEnvironment'];const _0x241987=helper[_0x12ad5e(0x108)](_0xed1333[_0x12ad5e(0x16a)]);if(_0x241987[_0x12ad5e(0x112)])return _0x241987['getTestEnvironment'];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x4f032a=a18_0x34e604,_0x1bfe4b={'Fvvhc':function(_0x23ce11,_0x533000){return _0x23ce11(_0x533000);},'WqTSs':_0x4f032a(0x10e),'kKoZz':function(_0x990852,_0x588505){return _0x990852(_0x588505);},'kIbIW':'jest-environment-node','XBemT':function(_0x10fb8,_0x24f664){return _0x10fb8(_0x24f664);}},_0x22f5ec=_0x1bfe4b[_0x4f032a(0x13b)](getTestEnvironment,{'rootDir':process[_0x4f032a(0x10d)](),'testEnvironment':process[_0x4f032a(0x150)]['BSTACK_JEST_TEST_ENV']||_0x1bfe4b[_0x4f032a(0x109)]});if(!_0x22f5ec)return _0x1bfe4b[_0x4f032a(0x14a)](_interopRequireDefault,helper[_0x4f032a(0x108)](_0x1bfe4b[_0x4f032a(0x10b)]));return _0x1bfe4b[_0x4f032a(0x14e)](_interopRequireDefault,helper['requireModule'](_0x22f5ec));})()),_seleniumWebdriver2=((()=>{const _0x263f43=a18_0x34e604,_0x188cc1={'AVKJl':function(_0x5ab0f6,_0x2ebac8){return _0x5ab0f6(_0x2ebac8);}};try{const _0x5b5163=helper[_0x263f43(0x119)]();return helper[_0x263f43(0x176)](),_0x188cc1['AVKJl'](_interopRequireDefault,_0x5b5163);}catch{return null;}})());function _interopRequireDefault(_0x3ac537){return _0x3ac537&&_0x3ac537['__esModule']?_0x3ac537:{'default':_0x3ac537};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a18_0x34e604(0x15e)][a18_0x34e604(0x137)]:null;class CustomEnvironment extends _jestUserEnvironment['default']{constructor(_0x500b17){const _0x24ade0=a18_0x34e604,_0x2edc64={'ikpme':_0x24ade0(0x113),'yVZnu':function(_0x6878df,_0x2d0bb4){return _0x6878df+_0x2d0bb4;},'AvPbo':'bstack:options','FxLFm':function(_0x2c62ec,_0x491610){return _0x2c62ec(_0x491610);},'IWDpJ':_0x24ade0(0x122),'cTLCb':_0x24ade0(0x11c),'Vwjyk':_0x24ade0(0x16b),'sYiNR':_0x24ade0(0x170),'ZhomZ':_0x24ade0(0x117),'IOtBB':_0x24ade0(0x143),'ceOnV':_0x24ade0(0x11b),'SloMy':_0x24ade0(0x139),'RCLpI':function(_0x25669c,_0x268e2c){return _0x25669c(_0x268e2c);},'DuSTj':_0x24ade0(0x129)};super(_0x500b17),this[_0x24ade0(0x13f)][_0x24ade0(0x120)]=0x0,this[_0x24ade0(0x13c)]={};!_0x500b17['testEnvironmentOptions']&&(_0x500b17[_0x24ade0(0x16b)]={});if(helper['isBrowserstackInfra']()){_0x500b17['testEnvironmentOptions']=_0x500b17['projectConfig']?_0x500b17[_0x24ade0(0x13e)]['testEnvironmentOptions']:_0x500b17[_0x24ade0(0x16b)],this[_0x24ade0(0x105)]=new _seleniumWebdriver2['default'][(_0x24ade0(0x137))](),this[_0x24ade0(0x160)]=_0x500b17[_0x24ade0(0x13e)]?_0x500b17[_0x24ade0(0x13e)]['capability']:_0x500b17[_0x24ade0(0x160)],this[_0x24ade0(0x13f)][_0x24ade0(0x120)]=_0x2edc64['yVZnu'](this[_0x24ade0(0x13c)][_0x24ade0(0x10a)],constants[_0x24ade0(0x149)]),this[_0x24ade0(0x155)]=_0x500b17[_0x24ade0(0x16b)][_0x24ade0(0x167)];if(this[_0x24ade0(0x155)]){const _0xd59c49=this[_0x24ade0(0x160)][_0x2edc64[_0x24ade0(0x172)]]?.[_0x24ade0(0x12b)]||'',_0x114e94=this[_0x24ade0(0x160)][_0x2edc64[_0x24ade0(0x172)]]?.[_0x24ade0(0x115)]||'';this[_0x24ade0(0x167)]=new(_0x2edc64[_0x24ade0(0x14b)](require,_0x2edc64[_0x24ade0(0x121)]))(this[_0x24ade0(0x155)],_0xd59c49,_0x114e94),this[_0x24ade0(0x13f)][_0x24ade0(0x125)]=![];}helper['isNotUndefined'](this[_0x24ade0(0x13c)][_0x24ade0(0x12e)])&&(this[_0x24ade0(0x13f)][_0x24ade0(0x140)]=this[_0x24ade0(0x13c)]['retries__']);}if(testhubUtils[_0x24ade0(0x15d)]()){const _0x54c781=new ObservabilityReporter();_0x54c781[_0x24ade0(0x152)]();}this['global']['browserStackGlobals']={},this[_0x24ade0(0x13c)]=_0x500b17[_0x24ade0(0x16b)],this[_0x24ade0(0x13c)]['framework']=constants[_0x24ade0(0x165)][_0x24ade0(0x123)];if(_seleniumWebdriver2){const _0x6ddcfc=_0x2edc64[_0x24ade0(0x111)]['split']('|');let _0x3b2ba4=0x0;while(!![]){switch(_0x6ddcfc[_0x3b2ba4++]){case'0':this[_0x24ade0(0x13f)]['browserstackPlatformIndex']=(_0x500b17['projectConfig']?_0x500b17['projectConfig'][_0x24ade0(0x107)]:_0x500b17[_0x24ade0(0x107)])||0x0;continue;case'1':this[_0x24ade0(0x13f)][_0x24ade0(0x117)]=helper[_0x24ade0(0x12f)](_0x500b17,[_0x2edc64[_0x24ade0(0x128)],_0x2edc64[_0x24ade0(0x12c)],_0x2edc64[_0x24ade0(0x169)]]);continue;case'2':this[_0x24ade0(0x13f)][_0x24ade0(0x143)]=helper['nestedKeyValue'](_0x500b17,[_0x2edc64[_0x24ade0(0x128)],_0x2edc64['sYiNR'],_0x2edc64['IOtBB']]);continue;case'3':helper['isTrue'](this[_0x24ade0(0x13c)][_0x24ade0(0x146)])?this['global']['sessionNameProvided']=!![]:this[_0x24ade0(0x13f)][_0x24ade0(0x13a)]=![];continue;case'4':this['global']['browserstackPercyBestPlatform']=helper[_0x24ade0(0x12f)](_0x500b17,[_0x2edc64[_0x24ade0(0x128)],_0x2edc64[_0x24ade0(0x12c)],_0x2edc64[_0x24ade0(0x10c)]]);continue;case'5':this[_0x24ade0(0x13f)][_0x24ade0(0x134)]=async()=>{const _0x214d08=_0x24ade0;await this['global'][_0x214d08(0x11e)][_0x214d08(0x113)](_0x2edc64[_0x214d08(0x12a)]);};continue;case'6':this[_0x24ade0(0x13f)][_0x24ade0(0x145)]=helper[_0x24ade0(0x159)](this[_0x24ade0(0x13c)][_0x24ade0(0x148)]);continue;case'7':this[_0x24ade0(0x13f)][_0x24ade0(0x158)]=[];continue;case'8':this[_0x24ade0(0x13f)][_0x24ade0(0x168)]=helper[_0x24ade0(0x12f)](this[_0x24ade0(0x13c)],[_0x2edc64[_0x24ade0(0x142)],this[_0x24ade0(0x13f)][_0x24ade0(0x107)]])||{};continue;case'9':this[_0x24ade0(0x13f)][_0x24ade0(0x14f)]=_0x2edc64[_0x24ade0(0x118)](require,_0x2edc64['DuSTj'])[_0x24ade0(0x126)]({...this[_0x24ade0(0x13c)],'capability':this['capability']||{}},this,testhubUtils[_0x24ade0(0x15d)]());continue;}break;}}}async[a18_0x34e604(0x15f)](){const _0x114474=a18_0x34e604;_seleniumWebdriver2&&(await helper[_0x114474(0x15a)](this[_0x114474(0x13f)][_0x114474(0x175)]),this['global'][_0x114474(0x14f)][_0x114474(0x137)]=originalBuilder),await RequestQueueHandler[_0x114474(0x157)]()[_0x114474(0x133)]();}async[a18_0x34e604(0x173)](){}async[a18_0x34e604(0x162)](_0x2e5d54,_0x199c9f){const _0x54dc14=a18_0x34e604,_0x6ed1={};_0x6ed1[_0x54dc14(0x106)]=function(_0x41430b,_0x17463b){return _0x41430b===_0x17463b;},_0x6ed1[_0x54dc14(0x151)]=_0x54dc14(0x16d),_0x6ed1[_0x54dc14(0x110)]='skip',_0x6ed1[_0x54dc14(0x16f)]=_0x54dc14(0x174),_0x6ed1[_0x54dc14(0x127)]=_0x54dc14(0x124),_0x6ed1[_0x54dc14(0x114)]=function(_0x125902,_0x1149fa){return _0x125902===_0x1149fa;},_0x6ed1[_0x54dc14(0x130)]=_0x54dc14(0x135),_0x6ed1[_0x54dc14(0x16e)]=function(_0xaf4aae,_0x395459){return _0xaf4aae===_0x395459;},_0x6ed1['DOJKU']=_0x54dc14(0x15f);const _0x4af16e=_0x6ed1,{name:_0x595062}=_0x2e5d54;if(_0x4af16e['NzIfn'](_0x595062,_0x4af16e[_0x54dc14(0x151)])){this[_0x54dc14(0x13f)][_0x54dc14(0x11f)]=_0x2e5d54[_0x54dc14(0x132)];if(_0x4af16e[_0x54dc14(0x106)](this[_0x54dc14(0x13f)][_0x54dc14(0x125)],!![])){const _0x5527ec=_0x2e5d54['test'][_0x54dc14(0x164)];logger[_0x54dc14(0x116)](_0x54dc14(0x11a)+_0x5527ec),_0x2e5d54[_0x54dc14(0x132)]['mode']=_0x4af16e[_0x54dc14(0x110)];}}if(this[_0x54dc14(0x167)]&&_0x4af16e[_0x54dc14(0x106)](_0x595062,_0x4af16e[_0x54dc14(0x16f)]))try{const _0xa8839c=_0x2e5d54[_0x54dc14(0x132)][_0x54dc14(0x171)][_0x54dc14(0x131)](_0x4af16e['etBTG']),_0x2cd7f4=_0x2e5d54['test'][_0x54dc14(0x147)];await this[_0x54dc14(0x167)][_0x54dc14(0x15c)](_0xa8839c,_0x2cd7f4);const _0x27199=await this[_0x54dc14(0x167)]['shouldFailFast']();_0x4af16e[_0x54dc14(0x114)](this[_0x54dc14(0x13f)][_0x54dc14(0x125)],![])&&_0x4af16e['NzIfn'](_0x27199,!![])&&(this[_0x54dc14(0x13f)][_0x54dc14(0x125)]=!![]);}catch(_0x3c9345){logger[_0x54dc14(0x136)](_0x4af16e[_0x54dc14(0x130)],_0x3c9345[_0x54dc14(0x11d)]);}_0x4af16e['lgCND'](_0x595062,_0x4af16e['DOJKU'])&&(this['failFast']&&this[_0x54dc14(0x167)][_0x54dc14(0x134)]());}}function a18_0x2c62(){const _0x24ef32=['name','FRAMEWORKS','698970NywKcu','failFast','__platformCaps','ZhomZ','AhKKC','testEnvironmentOptions','exports','test_start','lgCND','nRrqY','browserStackPercyOptions','testPath','AvPbo','setup','test_done','__driversArray','modifyCommand','builder','NzIfn','browserstackPlatformIndex','requireModule','WqTSs','timeout__','kIbIW','ceOnV','cwd','node','746542BnYPmQ','Lngac','cTLCb','getTestEnvironment','quit','INfDm','projectName','info','percyCaptureMode','RCLpI','requireSeleniumWebdriver','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','browserstackPercyBestPlatform','7|9|0|4|2|1|8|3|6|5','message','driver','testContext','__timeout','IWDpJ','../../../helpers/test-orchestration/failfastManager','JEST','\x20>\x20','failFastActive','browserstackAgentV2','etBTG','Vwjyk','../../../index','ikpme','buildName','sYiNR','jest-resolve','retries__','nestedKeyValue','SjNaR','join','test','shutdown','cleanup','Error\x20in\x20fail-fast\x20test_done\x20handler:','debug','Builder','TFsWr','platformCaps','sessionNameProvided','Fvvhc','configuration','winstonLogger','projectConfig','global','__jestRetries','235398rtBlIz','SloMy','percy','1423260drTVAV','__skipSessionStatus','skipSessionName','errors','skipSessionStatus','BSTACK_DELTA','kKoZz','FxLFm','../../../helpers/testhub/utils','2748543rhqAoU','XBemT','__webdriver','env','nwZVK','registerListeners','4qYbQNG','7019312sZJSlS','failFastOptions','../../../helpers/logger','getInstance','__drivers','isTrue','cleanupDrivers','1067691YAYAfR','onTestDone','shouldProcessEventForTesthub','default','teardown','capability','../../utils/constants','handleTestEvent','../../../helpers/test-observability/requestQueueHandler'];a18_0x2c62=function(){return _0x24ef32;};return a18_0x2c62();}module[a18_0x34e604(0x16c)]=CustomEnvironment;