const a16_0x3f43d4=a16_0x4bbf;(function(_0x3fd2a4,_0x565d40){const _0x3b9610=a16_0x4bbf,_0x5c5b24=_0x3fd2a4();while(!![]){try{const _0x27a0bc=parseInt(_0x3b9610(0x154))/0x1*(parseInt(_0x3b9610(0x163))/0x2)+parseInt(_0x3b9610(0x172))/0x3*(-parseInt(_0x3b9610(0x170))/0x4)+parseInt(_0x3b9610(0x143))/0x5+-parseInt(_0x3b9610(0x146))/0x6+-parseInt(_0x3b9610(0x180))/0x7+-parseInt(_0x3b9610(0x169))/0x8+-parseInt(_0x3b9610(0x145))/0x9*(-parseInt(_0x3b9610(0x13b))/0xa);if(_0x27a0bc===_0x565d40)break;else _0x5c5b24['push'](_0x5c5b24['shift']());}catch(_0xa68ab6){_0x5c5b24['push'](_0x5c5b24['shift']());}}}(a16_0xad09,0x26383));function a16_0xad09(){const _0x48e800=['percy','requireModule','split','bfwfv','371678XpuhSz','jest-environment-node','driver','cleanupDrivers','yeIAb','isBrowserstackInfra','2314360QDjpTX','FRAMEWORKS','resolveTestEnvironment','oUDCg','getTestEnvironment','NpLFu','sessionNameProvided','146384WUnmbM','handleTestEvent','9fXTtzJ','MhEre','nestedKeyValue','shutdown','../../../helpers/testhub/utils','exports','requireSeleniumWebdriver','getInstance','RNPJP','YWjUo','oIsJc','../../../helpers/test-observability/requestQueueHandler','timeout__','../../utils/constants','934528pUReCq','__timeout','quit','eEsKv','testEnvironmentOptions','skipSessionStatus','browserstackPercyBestPlatform','test_start','Isruz','registerListeners','QwEAV','10OfpGlb','configuration','projectConfig','../test-observability/obsReporter','4|0|1|2|3','SOKaP','browserStackPercyOptions','browserstackAgentV2','1332370xZqhsV','global','4113162HNlILP','1321182sNMtqn','Builder','shouldProcessEventForTesthub','__skipSessionStatus','cleanup','../../../helpers/helper','isTrue','default','__webdriver','dCblk','node','KiGpn','test','__drivers','1GiweId','iKtlj','skipSessionName','percyCaptureMode','cwd','browserstackPlatformIndex','modifyCommand','LXGWe','capability','teardown','__platformCaps'];a16_0xad09=function(){return _0x48e800;};return a16_0xad09();}const helper=require(a16_0x3f43d4(0x14b)),constants=require(a16_0x3f43d4(0x17f)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require(a16_0x3f43d4(0x17d)),ObservabilityReporter=require(a16_0x3f43d4(0x13e)),testhubUtils=require(a16_0x3f43d4(0x176)),getTestEnvironment=((()=>{const _0x420296=a16_0x3f43d4,_0x461280={};_0x461280['Isruz']='jest-resolve',_0x461280['FaSfX']='jest-config';const _0x4be476=_0x461280;try{const _0x25109c=helper[_0x420296(0x160)](_0x4be476[_0x420296(0x138)]);if(_0x25109c['resolveTestEnvironment'])return _0x25109c[_0x420296(0x16b)];const _0x349d0c=helper[_0x420296(0x160)](_0x4be476['FaSfX']);if(_0x349d0c[_0x420296(0x16d)])return _0x349d0c[_0x420296(0x16d)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x3f164f=a16_0x3f43d4,_0x5e22db={'NpLFu':function(_0x45f0c2,_0x1941f4){return _0x45f0c2(_0x1941f4);},'dCblk':_0x3f164f(0x150),'EFbHt':_0x3f164f(0x164),'oIsJc':function(_0x240ca5,_0x3de843){return _0x240ca5(_0x3de843);}},_0x5b45fc=_0x5e22db[_0x3f164f(0x16e)](getTestEnvironment,{'rootDir':process[_0x3f164f(0x158)](),'testEnvironment':process['env']['BSTACK_JEST_TEST_ENV']||_0x5e22db[_0x3f164f(0x14f)]});if(!_0x5b45fc)return _0x5e22db[_0x3f164f(0x16e)](_interopRequireDefault,helper[_0x3f164f(0x160)](_0x5e22db['EFbHt']));return _0x5e22db[_0x3f164f(0x17c)](_interopRequireDefault,helper[_0x3f164f(0x160)](_0x5b45fc));})()),_seleniumWebdriver2=((()=>{const _0x64f49c=a16_0x3f43d4,_0x45b37c={'QwEAV':function(_0x52a943,_0x404e7e){return _0x52a943(_0x404e7e);}};try{const _0x343611=helper[_0x64f49c(0x178)]();return helper[_0x64f49c(0x15a)](),_0x45b37c[_0x64f49c(0x13a)](_interopRequireDefault,_0x343611);}catch{return null;}})());function _interopRequireDefault(_0x4f5798){return _0x4f5798&&_0x4f5798['__esModule']?_0x4f5798:{'default':_0x4f5798};}function a16_0x4bbf(_0x2e6340,_0x42579f){const _0xad09f4=a16_0xad09();return a16_0x4bbf=function(_0x4bbff7,_0x1c93c4){_0x4bbff7=_0x4bbff7-0x133;let _0x2bac97=_0xad09f4[_0x4bbff7];return _0x2bac97;},a16_0x4bbf(_0x2e6340,_0x42579f);}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2['default'][a16_0x3f43d4(0x147)]:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x3f43d4(0x14d)]{constructor(_0x4f1cf3){const _0x12d256=a16_0x3f43d4,_0x2d4ccb={'Awqmy':_0x12d256(0x182),'LXGWe':_0x12d256(0x13f),'lBLwP':function(_0x3e9170,_0x428e5e){return _0x3e9170+_0x428e5e;},'AaKXR':'9|4|3|7|5|1|6|8|2|0','KiGpn':_0x12d256(0x134),'oUDCg':_0x12d256(0x141),'SOKaP':_0x12d256(0x157),'eEsKv':function(_0x4bb493,_0x51ca63){return _0x4bb493(_0x51ca63);},'iKtlj':'../../../index','YWjUo':'percy','bfwfv':'platformCaps','yeIAb':_0x12d256(0x136)};super(_0x4f1cf3),this[_0x12d256(0x144)][_0x12d256(0x181)]=0x0,this[_0x12d256(0x13c)]={};!_0x4f1cf3['testEnvironmentOptions']&&(_0x4f1cf3['testEnvironmentOptions']={});if(helper[_0x12d256(0x168)]()){const _0x190147=_0x2d4ccb[_0x12d256(0x15b)][_0x12d256(0x161)]('|');let _0x460a8d=0x0;while(!![]){switch(_0x190147[_0x460a8d++]){case'0':this['builder']=new _seleniumWebdriver2[(_0x12d256(0x14d))]['Builder']();continue;case'1':this[_0x12d256(0x13c)]=_0x4f1cf3[_0x12d256(0x134)];continue;case'2':this[_0x12d256(0x15c)]=_0x4f1cf3[_0x12d256(0x13d)]?_0x4f1cf3['projectConfig']['capability']:_0x4f1cf3[_0x12d256(0x15c)];continue;case'3':this[_0x12d256(0x144)]['__timeout']=_0x2d4ccb['lBLwP'](this[_0x12d256(0x13c)][_0x12d256(0x17e)],constants['BSTACK_DELTA']);continue;case'4':_0x4f1cf3[_0x12d256(0x134)]=_0x4f1cf3[_0x12d256(0x13d)]?_0x4f1cf3['projectConfig']['testEnvironmentOptions']:_0x4f1cf3[_0x12d256(0x134)];continue;}break;}}if(testhubUtils[_0x12d256(0x148)]()){const _0x4f6d27=new ObservabilityReporter();_0x4f6d27[_0x12d256(0x139)]();}this['global']['browserStackGlobals']={},this['configuration']['framework']=constants[_0x12d256(0x16a)]['JEST'];if(_seleniumWebdriver2){const _0x28b94a=_0x2d4ccb['AaKXR'][_0x12d256(0x161)]('|');let _0x9acc94=0x0;while(!![]){switch(_0x28b94a[_0x9acc94++]){case'0':this[_0x12d256(0x144)][_0x12d256(0x14a)]=async()=>{const _0x125aa0=_0x12d256;await this[_0x125aa0(0x144)][_0x125aa0(0x165)][_0x125aa0(0x182)](_0x2d4ccb['Awqmy']);};continue;case'1':this['global']['percyCaptureMode']=helper['nestedKeyValue'](_0x4f1cf3,[_0x2d4ccb[_0x12d256(0x151)],_0x2d4ccb[_0x12d256(0x16c)],_0x2d4ccb[_0x12d256(0x140)]]);continue;case'2':this[_0x12d256(0x144)][_0x12d256(0x149)]=helper[_0x12d256(0x14c)](this[_0x12d256(0x13c)][_0x12d256(0x135)]);continue;case'3':this[_0x12d256(0x144)]['browserstackPlatformIndex']=(_0x4f1cf3['projectConfig']?_0x4f1cf3['projectConfig'][_0x12d256(0x159)]:_0x4f1cf3[_0x12d256(0x159)])||0x0;continue;case'4':this[_0x12d256(0x144)][_0x12d256(0x14e)]=_0x2d4ccb[_0x12d256(0x133)](require,_0x2d4ccb[_0x12d256(0x155)])[_0x12d256(0x142)]({...this['configuration'],'capability':this[_0x12d256(0x15c)]||{}},this,testhubUtils[_0x12d256(0x148)]());continue;case'5':this[_0x12d256(0x144)][_0x12d256(0x15f)]=helper[_0x12d256(0x174)](_0x4f1cf3,[_0x2d4ccb[_0x12d256(0x151)],_0x2d4ccb[_0x12d256(0x16c)],_0x2d4ccb[_0x12d256(0x17b)]]);continue;case'6':this[_0x12d256(0x144)][_0x12d256(0x15e)]=helper['nestedKeyValue'](this[_0x12d256(0x13c)],[_0x2d4ccb[_0x12d256(0x162)],this[_0x12d256(0x144)][_0x12d256(0x159)]])||{};continue;case'7':this[_0x12d256(0x144)][_0x12d256(0x136)]=helper[_0x12d256(0x174)](_0x4f1cf3,[_0x2d4ccb['KiGpn'],_0x2d4ccb['oUDCg'],_0x2d4ccb[_0x12d256(0x167)]]);continue;case'8':helper['isTrue'](this[_0x12d256(0x13c)][_0x12d256(0x156)])?this['global'][_0x12d256(0x16f)]=!![]:this[_0x12d256(0x144)][_0x12d256(0x16f)]=![];continue;case'9':this[_0x12d256(0x144)][_0x12d256(0x153)]=[];continue;}break;}}}async[a16_0x3f43d4(0x15d)](){const _0x3dbc2d=a16_0x3f43d4;_seleniumWebdriver2&&(await helper[_0x3dbc2d(0x166)](this[_0x3dbc2d(0x144)]['__driversArray']),this['global'][_0x3dbc2d(0x14e)]['Builder']=originalBuilder),await RequestQueueHandler[_0x3dbc2d(0x179)]()[_0x3dbc2d(0x175)]();}async['setup'](){}async[a16_0x3f43d4(0x171)](_0x3ded3c,_0x2acf1c){const _0x5ba108=a16_0x3f43d4,_0x51f1a0={};_0x51f1a0[_0x5ba108(0x17a)]=function(_0xdbc196,_0x10d262){return _0xdbc196===_0x10d262;},_0x51f1a0[_0x5ba108(0x173)]=_0x5ba108(0x137);const _0x30f321=_0x51f1a0,{name:_0x24a8a0}=_0x3ded3c;_0x30f321[_0x5ba108(0x17a)](_0x24a8a0,_0x30f321[_0x5ba108(0x173)])&&(this[_0x5ba108(0x144)]['testContext']=_0x3ded3c[_0x5ba108(0x152)]);}}module[a16_0x3f43d4(0x177)]=CustomEnvironment;