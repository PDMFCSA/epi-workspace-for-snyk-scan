const a16_0x1ed8f8=a16_0x25d2;(function(_0x2c0e4,_0x1105c9){const _0x22333a=a16_0x25d2,_0x2eeddf=_0x2c0e4();while(!![]){try{const _0x2a393e=-parseInt(_0x22333a(0x1ee))/0x1*(parseInt(_0x22333a(0x212))/0x2)+parseInt(_0x22333a(0x1e1))/0x3+-parseInt(_0x22333a(0x1ba))/0x4*(parseInt(_0x22333a(0x1bd))/0x5)+parseInt(_0x22333a(0x1b6))/0x6+-parseInt(_0x22333a(0x1be))/0x7+-parseInt(_0x22333a(0x1ec))/0x8+parseInt(_0x22333a(0x200))/0x9*(parseInt(_0x22333a(0x1ea))/0xa);if(_0x2a393e===_0x1105c9)break;else _0x2eeddf['push'](_0x2eeddf['shift']());}catch(_0x786699){_0x2eeddf['push'](_0x2eeddf['shift']());}}}(a16_0x3c9e,0x5fd00));const helper=require(a16_0x1ed8f8(0x1e3)),constants=require(a16_0x1ed8f8(0x1d6)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require(a16_0x1ed8f8(0x1c8)),ObservabilityReporter=require('../test-observability/obsReporter'),testhubUtils=require(a16_0x1ed8f8(0x1e6)),logger=require(a16_0x1ed8f8(0x1bb))[a16_0x1ed8f8(0x21c)],getTestEnvironment=((()=>{const _0x1a5969=a16_0x1ed8f8,_0x259e70={};_0x259e70[_0x1a5969(0x206)]=_0x1a5969(0x1fb),_0x259e70[_0x1a5969(0x1c7)]=_0x1a5969(0x1f5);const _0x2528ee=_0x259e70;try{const _0x47a114=helper['requireModule'](_0x2528ee[_0x1a5969(0x206)]);if(_0x47a114[_0x1a5969(0x202)])return _0x47a114[_0x1a5969(0x202)];const _0x1e57f6=helper['requireModule'](_0x2528ee[_0x1a5969(0x1c7)]);if(_0x1e57f6[_0x1a5969(0x219)])return _0x1e57f6[_0x1a5969(0x219)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x31d985=a16_0x1ed8f8,_0x375acd={'RksCl':function(_0x342d04,_0x2afc13){return _0x342d04(_0x2afc13);},'zpBiR':_0x31d985(0x21d),'EbsyW':function(_0x36b7c0,_0xcf1fd8){return _0x36b7c0(_0xcf1fd8);},'mVlWK':_0x31d985(0x1d5)},_0x2a2357=_0x375acd[_0x31d985(0x1ad)](getTestEnvironment,{'rootDir':process[_0x31d985(0x1f7)](),'testEnvironment':process[_0x31d985(0x20f)][_0x31d985(0x1eb)]||_0x375acd[_0x31d985(0x218)]});if(!_0x2a2357)return _0x375acd[_0x31d985(0x1e5)](_interopRequireDefault,helper['requireModule'](_0x375acd[_0x31d985(0x1ef)]));return _0x375acd[_0x31d985(0x1e5)](_interopRequireDefault,helper[_0x31d985(0x21e)](_0x2a2357));})()),_seleniumWebdriver2=((()=>{const _0x1ef733=a16_0x1ed8f8,_0x4e461b={'HKoLK':function(_0x416e60,_0x4ca19c){return _0x416e60(_0x4ca19c);}};try{const _0x4949c5=helper['requireSeleniumWebdriver']();return helper[_0x1ef733(0x213)](),_0x4e461b['HKoLK'](_interopRequireDefault,_0x4949c5);}catch{return null;}})());function _interopRequireDefault(_0x14f2cc){const _0x2f005e=a16_0x1ed8f8;return _0x14f2cc&&_0x14f2cc[_0x2f005e(0x21f)]?_0x14f2cc:{'default':_0x14f2cc};}function a16_0x3c9e(){const _0x2328b2=['1|6|3|2|9|0|8|7|5|4','../../../index','jest-environment-node','../../utils/constants','Yrnbq','configuration','BSTACK_DELTA','testContext','testPath','registerListeners','errors','default','MVrql','uajWP','876027AduAyv','__webdriver','../../../helpers/helper','testEnvironmentOptions','EbsyW','../../../helpers/testhub/utils','Error\x20in\x20fail-fast\x20test_done\x20handler:','skipSessionStatus','test','10vXCcAJ','BSTACK_JEST_TEST_ENV','1489400iUWJqK','mode','249ELRLGB','mVlWK','failFastOptions','gkGNb','sessionNameProvided','teardown','piTBB','jest-config','skip','cwd','test_done','browserstackPercyBestPlatform','debug','jest-resolve','timeout__','PTgKT','skipSessionName','quit','9760221OtNMYj','percyCaptureMode','resolveTestEnvironment','framework','duIgy','FlnAZ','LqwCE','../../../helpers/test-orchestration/failfastManager','JUvWC','JJuGA','YCowM','nestedKeyValue','isTrue','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','cleanupDrivers','env','UttFb','Builder','4846nQcqQU','modifyCommand','browserStackGlobals','info','__jestRetries','FRAMEWORKS','zpBiR','getTestEnvironment','browserStackPercyOptions','buildName','winstonLogger','node','requireModule','__esModule','ZnSxl','isBrowserstackInfra','SuNnQ','rMyjA','split','jmhlY','RksCl','name','iRYAS','__driversArray','epTes','__skipSessionStatus','global','yRewQ','onTestDone','3667878iexHnX','failFast','projectConfig','exports','47356XzvjSW','../../../helpers/logger','browserstackPlatformIndex','185sGqlNR','2574586dtZMLN','hzcTd','platformCaps','__timeout','capability','isNotUndefined','getInstance','bstack:options','retries__','wYbrv','../../../helpers/test-observability/requestQueueHandler','join','SkEud','shutdown','test_start','__platformCaps','XnaaH','driver','shouldProcessEventForTesthub','\x20>\x20','projectName'];a16_0x3c9e=function(){return _0x2328b2;};return a16_0x3c9e();}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x1ed8f8(0x1de)][a16_0x1ed8f8(0x211)]:null;function a16_0x25d2(_0x414201,_0x3a1237){const _0x3c9ee9=a16_0x3c9e();return a16_0x25d2=function(_0x25d23f,_0x50bce5){_0x25d23f=_0x25d23f-0x1aa;let _0x1fc093=_0x3c9ee9[_0x25d23f];return _0x1fc093;},a16_0x25d2(_0x414201,_0x3a1237);}class CustomEnvironment extends _jestUserEnvironment['default']{constructor(_0xb5c00){const _0x321183=a16_0x1ed8f8,_0x43d5e6={'UaBue':_0x321183(0x1ff),'SuNnQ':function(_0x3da6d5,_0x42290e){return _0x3da6d5+_0x42290e;},'hzcTd':_0x321183(0x1c5),'jmhlY':function(_0x252119,_0x584c8f){return _0x252119(_0x584c8f);},'YCowM':_0x321183(0x207),'FlnAZ':_0x321183(0x1d3),'Yrnbq':_0x321183(0x1e4),'SkEud':_0x321183(0x21a),'duIgy':'percyCaptureMode','PTgKT':_0x321183(0x1f9),'yRewQ':_0x321183(0x1d4),'NgFvl':_0x321183(0x1c0),'ZnSxl':'percy'};super(_0xb5c00),this[_0x321183(0x1b3)][_0x321183(0x1c1)]=0x0,this['configuration']={};!_0xb5c00[_0x321183(0x1e4)]&&(_0xb5c00[_0x321183(0x1e4)]={});if(helper[_0x321183(0x221)]()){_0xb5c00[_0x321183(0x1e4)]=_0xb5c00[_0x321183(0x1b8)]?_0xb5c00[_0x321183(0x1b8)][_0x321183(0x1e4)]:_0xb5c00[_0x321183(0x1e4)],this['builder']=new _seleniumWebdriver2[(_0x321183(0x1de))][(_0x321183(0x211))](),this[_0x321183(0x1c2)]=_0xb5c00[_0x321183(0x1b8)]?_0xb5c00[_0x321183(0x1b8)][_0x321183(0x1c2)]:_0xb5c00['capability'],this[_0x321183(0x1b3)][_0x321183(0x1c1)]=_0x43d5e6[_0x321183(0x222)](this[_0x321183(0x1d8)][_0x321183(0x1fc)],constants[_0x321183(0x1d9)]),this[_0x321183(0x1f0)]=_0xb5c00[_0x321183(0x1e4)]['failFast'];if(this[_0x321183(0x1f0)]){const _0x11e0ea=this['capability'][_0x43d5e6[_0x321183(0x1bf)]]?.[_0x321183(0x21b)]||'',_0x25825e=this[_0x321183(0x1c2)][_0x43d5e6[_0x321183(0x1bf)]]?.[_0x321183(0x1d2)]||'';this[_0x321183(0x1b7)]=new(_0x43d5e6[_0x321183(0x1ac)](require,_0x43d5e6[_0x321183(0x20a)]))(this[_0x321183(0x1f0)],_0x11e0ea,_0x25825e),this[_0x321183(0x1b3)]['failFastActive']=![];}helper[_0x321183(0x1c3)](this[_0x321183(0x1d8)][_0x321183(0x1c6)])&&(this[_0x321183(0x1b3)][_0x321183(0x216)]=this[_0x321183(0x1d8)][_0x321183(0x1c6)]);}if(testhubUtils[_0x321183(0x1d0)]()){const _0x1333f1=new ObservabilityReporter();_0x1333f1[_0x321183(0x1dc)]();}this[_0x321183(0x1b3)][_0x321183(0x214)]={},this[_0x321183(0x1d8)]=_0xb5c00[_0x321183(0x1e4)],this[_0x321183(0x1d8)][_0x321183(0x203)]=constants[_0x321183(0x217)]['JEST'];if(_seleniumWebdriver2){const _0x3a8cf0=_0x43d5e6[_0x321183(0x205)][_0x321183(0x1ab)]('|');let _0x306c97=0x0;while(!![]){switch(_0x3a8cf0[_0x306c97++]){case'0':this[_0x321183(0x1b3)][_0x321183(0x201)]=helper['nestedKeyValue'](_0xb5c00,[_0x43d5e6[_0x321183(0x1d7)],_0x43d5e6[_0x321183(0x1ca)],_0x43d5e6[_0x321183(0x204)]]);continue;case'1':this['global']['__drivers']=[];continue;case'2':this[_0x321183(0x1b3)][_0x321183(0x1f9)]=helper[_0x321183(0x20b)](_0xb5c00,[_0x43d5e6[_0x321183(0x1d7)],_0x43d5e6[_0x321183(0x1ca)],_0x43d5e6[_0x321183(0x1fd)]]);continue;case'3':this[_0x321183(0x1b3)][_0x321183(0x1bc)]=(_0xb5c00[_0x321183(0x1b8)]?_0xb5c00[_0x321183(0x1b8)][_0x321183(0x1bc)]:_0xb5c00[_0x321183(0x1bc)])||0x0;continue;case'4':this['global']['cleanup']=async()=>{const _0x220047=_0x321183;await this[_0x220047(0x1b3)][_0x220047(0x1cf)][_0x220047(0x1ff)](_0x43d5e6['UaBue']);};continue;case'5':this[_0x321183(0x1b3)][_0x321183(0x1b2)]=helper[_0x321183(0x20c)](this['configuration'][_0x321183(0x1e8)]);continue;case'6':this[_0x321183(0x1b3)][_0x321183(0x1e2)]=_0x43d5e6['jmhlY'](require,_0x43d5e6[_0x321183(0x1b4)])['browserstackAgentV2']({...this['configuration'],'capability':this[_0x321183(0x1c2)]||{}},this,testhubUtils[_0x321183(0x1d0)]());continue;case'7':helper[_0x321183(0x20c)](this['configuration'][_0x321183(0x1fe)])?this[_0x321183(0x1b3)][_0x321183(0x1f2)]=!![]:this['global']['sessionNameProvided']=![];continue;case'8':this['global'][_0x321183(0x1cd)]=helper[_0x321183(0x20b)](this['configuration'],[_0x43d5e6['NgFvl'],this['global'][_0x321183(0x1bc)]])||{};continue;case'9':this[_0x321183(0x1b3)]['percy']=helper['nestedKeyValue'](_0xb5c00,[_0x43d5e6[_0x321183(0x1d7)],_0x43d5e6[_0x321183(0x1ca)],_0x43d5e6[_0x321183(0x220)]]);continue;}break;}}}async[a16_0x1ed8f8(0x1f3)](){const _0x41fdc0=a16_0x1ed8f8;_seleniumWebdriver2&&(await helper[_0x41fdc0(0x20e)](this['global'][_0x41fdc0(0x1b0)]),this[_0x41fdc0(0x1b3)]['__webdriver']['Builder']=originalBuilder),await RequestQueueHandler[_0x41fdc0(0x1c4)]()[_0x41fdc0(0x1cb)]();}async['setup'](){}async['handleTestEvent'](_0xe6c95f,_0x108038){const _0x59b276=a16_0x1ed8f8,_0x375c2f={};_0x375c2f['JJuGA']=function(_0x299fa1,_0x478a9c){return _0x299fa1===_0x478a9c;},_0x375c2f[_0x59b276(0x1aa)]=_0x59b276(0x1cc),_0x375c2f['piTBB']=function(_0x48307c,_0x5ee322){return _0x48307c===_0x5ee322;},_0x375c2f[_0x59b276(0x210)]=_0x59b276(0x1f6),_0x375c2f[_0x59b276(0x1e0)]=function(_0x3d4c4e,_0x497a85){return _0x3d4c4e===_0x497a85;},_0x375c2f[_0x59b276(0x1df)]=_0x59b276(0x1f8),_0x375c2f[_0x59b276(0x1f1)]=_0x59b276(0x1d1),_0x375c2f['JUvWC']=function(_0x74f782,_0x4157c2){return _0x74f782===_0x4157c2;},_0x375c2f[_0x59b276(0x1b1)]=_0x59b276(0x1e7),_0x375c2f[_0x59b276(0x1ce)]=function(_0x5cad52,_0x296d5e){return _0x5cad52===_0x296d5e;},_0x375c2f[_0x59b276(0x1af)]=_0x59b276(0x1f3);const _0x4f2d14=_0x375c2f,{name:_0x56eef5}=_0xe6c95f;if(_0x4f2d14[_0x59b276(0x209)](_0x56eef5,_0x4f2d14[_0x59b276(0x1aa)])){this['global'][_0x59b276(0x1da)]=_0xe6c95f['test'];if(_0x4f2d14[_0x59b276(0x1f4)](this[_0x59b276(0x1b3)]['failFastActive'],!![])){const _0x258618=_0xe6c95f[_0x59b276(0x1e9)][_0x59b276(0x1ae)];logger[_0x59b276(0x215)](_0x59b276(0x20d)+_0x258618),_0xe6c95f[_0x59b276(0x1e9)][_0x59b276(0x1ed)]=_0x4f2d14[_0x59b276(0x210)];}}if(this['failFast']&&_0x4f2d14[_0x59b276(0x1e0)](_0x56eef5,_0x4f2d14[_0x59b276(0x1df)]))try{const _0x4697d2=_0xe6c95f[_0x59b276(0x1e9)][_0x59b276(0x1db)][_0x59b276(0x1c9)](_0x4f2d14[_0x59b276(0x1f1)]),_0x4bb9ca=_0xe6c95f[_0x59b276(0x1e9)][_0x59b276(0x1dd)];await this[_0x59b276(0x1b7)][_0x59b276(0x1b5)](_0x4697d2,_0x4bb9ca);const _0x5f2021=await this[_0x59b276(0x1b7)]['shouldFailFast']();_0x4f2d14['JJuGA'](this['global']['failFastActive'],![])&&_0x4f2d14[_0x59b276(0x208)](_0x5f2021,!![])&&(this[_0x59b276(0x1b3)]['failFastActive']=!![]);}catch(_0x7e9ebd){logger[_0x59b276(0x1fa)](_0x4f2d14[_0x59b276(0x1b1)],_0x7e9ebd['message']);}_0x4f2d14[_0x59b276(0x1ce)](_0x56eef5,_0x4f2d14[_0x59b276(0x1af)])&&(this[_0x59b276(0x1b7)]&&this['failFast']['cleanup']());}}module[a16_0x1ed8f8(0x1b9)]=CustomEnvironment;