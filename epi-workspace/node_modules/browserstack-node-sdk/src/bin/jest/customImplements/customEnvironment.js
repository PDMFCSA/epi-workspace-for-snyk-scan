const a16_0x4ab614=a16_0x50eb;(function(_0xf18b55,_0x3b0b4c){const _0x58c8fd=a16_0x50eb,_0x33ee97=_0xf18b55();while(!![]){try{const _0x324304=parseInt(_0x58c8fd(0x104))/0x1+parseInt(_0x58c8fd(0xcb))/0x2+parseInt(_0x58c8fd(0xee))/0x3+parseInt(_0x58c8fd(0xd6))/0x4*(parseInt(_0x58c8fd(0x109))/0x5)+parseInt(_0x58c8fd(0xdb))/0x6+-parseInt(_0x58c8fd(0xe0))/0x7*(parseInt(_0x58c8fd(0xd0))/0x8)+-parseInt(_0x58c8fd(0xe1))/0x9;if(_0x324304===_0x3b0b4c)break;else _0x33ee97['push'](_0x33ee97['shift']());}catch(_0x5b5ea5){_0x33ee97['push'](_0x33ee97['shift']());}}}(a16_0x1f40,0x68174));const helper=require(a16_0x4ab614(0xcf)),constants=require('../../utils/constants'),{isTestObservabilitySession}=require(a16_0x4ab614(0xa8)),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require(a16_0x4ab614(0xd3)),testhubUtils=require(a16_0x4ab614(0xc1)),logger=require('../../../helpers/logger')['winstonLogger'],getTestEnvironment=((()=>{const _0x26a3cf=a16_0x4ab614,_0x5963a9={};_0x5963a9[_0x26a3cf(0xd7)]='jest-resolve',_0x5963a9[_0x26a3cf(0xef)]=_0x26a3cf(0x103);const _0x38a5a2=_0x5963a9;try{const _0x35b0eb=helper['requireModule'](_0x38a5a2[_0x26a3cf(0xd7)]);if(_0x35b0eb[_0x26a3cf(0xa4)])return _0x35b0eb[_0x26a3cf(0xa4)];const _0xbefc29=helper[_0x26a3cf(0xbd)](_0x38a5a2[_0x26a3cf(0xef)]);if(_0xbefc29[_0x26a3cf(0xba)])return _0xbefc29[_0x26a3cf(0xba)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x5d759f=a16_0x4ab614,_0x1607ce={'bLujS':function(_0x121fcb,_0x463f74){return _0x121fcb(_0x463f74);},'Oyxmy':_0x5d759f(0xac),'oOMiB':'jest-environment-node','TlTIP':function(_0x518e3e,_0x457867){return _0x518e3e(_0x457867);}},_0x4720c6=_0x1607ce[_0x5d759f(0x101)](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process[_0x5d759f(0xa3)][_0x5d759f(0xc5)]||_0x1607ce['Oyxmy']});if(!_0x4720c6)return _0x1607ce[_0x5d759f(0x101)](_interopRequireDefault,helper[_0x5d759f(0xbd)](_0x1607ce[_0x5d759f(0xb5)]));return _0x1607ce['TlTIP'](_interopRequireDefault,helper[_0x5d759f(0xbd)](_0x4720c6));})()),_seleniumWebdriver2=((()=>{const _0x5f5d38=a16_0x4ab614,_0x280720={'tsYFz':function(_0x259c07,_0x53ce19){return _0x259c07(_0x53ce19);}};try{const _0x597016=helper[_0x5f5d38(0xb3)]();return helper[_0x5f5d38(0xd4)](),_0x280720['tsYFz'](_interopRequireDefault,_0x597016);}catch{return null;}})());function _interopRequireDefault(_0x574a2c){const _0x339ba6=a16_0x4ab614;return _0x574a2c&&_0x574a2c[_0x339ba6(0x10b)]?_0x574a2c:{'default':_0x574a2c};}function a16_0x50eb(_0x5ce4cc,_0x40cc0d){const _0x1f405a=a16_0x1f40();return a16_0x50eb=function(_0x50eb69,_0x53a423){_0x50eb69=_0x50eb69-0x9d;let _0x278109=_0x1f405a[_0x50eb69];return _0x278109;},a16_0x50eb(_0x5ce4cc,_0x40cc0d);}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x4ab614(0xfd)][a16_0x4ab614(0xca)]:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x4ab614(0xfd)]{constructor(_0x1e9cdd){const _0x43762f=a16_0x4ab614,_0x22310f={'vXrbG':_0x43762f(0xcc),'KmWLo':function(_0x2d23dd,_0x1ad125){return _0x2d23dd+_0x1ad125;},'ghmZo':'bstack:options','Sdpca':function(_0x5419f1,_0x33f4a3){return _0x5419f1(_0x33f4a3);},'ZCZNy':_0x43762f(0xf2),'SZakW':'1|5|3|6|2|4|7|0','LuPxg':_0x43762f(0x106),'SVKyM':_0x43762f(0xb8),'fNPZK':'percyCaptureMode','DljeN':_0x43762f(0xfc),'WnEKv':_0x43762f(0x105),'fHLpk':_0x43762f(0xc7)};super(_0x1e9cdd),this[_0x43762f(0xf9)][_0x43762f(0xa9)]=0x0,this['configuration']={};!_0x1e9cdd[_0x43762f(0x106)]&&(_0x1e9cdd[_0x43762f(0x106)]={});if(helper[_0x43762f(0xe7)]()){_0x1e9cdd[_0x43762f(0x106)]=_0x1e9cdd['projectConfig']?_0x1e9cdd[_0x43762f(0xf8)]['testEnvironmentOptions']:_0x1e9cdd['testEnvironmentOptions'];_seleniumWebdriver2&&(this[_0x43762f(0xae)]=new _seleniumWebdriver2[(_0x43762f(0xfd))][(_0x43762f(0xca))]());this['capability']=_0x1e9cdd[_0x43762f(0xf8)]?_0x1e9cdd[_0x43762f(0xf8)][_0x43762f(0xf3)]:_0x1e9cdd[_0x43762f(0xf3)],this[_0x43762f(0xf9)][_0x43762f(0xa9)]=_0x22310f[_0x43762f(0xec)](_0x1e9cdd['testEnvironmentOptions'][_0x43762f(0x108)]||0x1388,constants[_0x43762f(0xa7)]),this[_0x43762f(0xbb)]=_0x1e9cdd[_0x43762f(0x106)][_0x43762f(0x9f)];if(this[_0x43762f(0xbb)]){const _0x51ad2d=this[_0x43762f(0xf3)][_0x22310f[_0x43762f(0x9d)]]?.[_0x43762f(0xb4)]||'',_0x11ed7e=this[_0x43762f(0xf3)][_0x22310f[_0x43762f(0x9d)]]?.[_0x43762f(0x10a)]||'';this[_0x43762f(0x9f)]=new(_0x22310f[_0x43762f(0xe2)](require,_0x22310f[_0x43762f(0xc9)]))(this[_0x43762f(0xbb)],_0x51ad2d,_0x11ed7e),this[_0x43762f(0xf9)][_0x43762f(0xf5)]=![];}helper['isNotUndefined'](_0x1e9cdd[_0x43762f(0x106)][_0x43762f(0xa6)])&&(this[_0x43762f(0xf9)][_0x43762f(0xfe)]=_0x1e9cdd['testEnvironmentOptions']['retries__']);}if(testhubUtils['shouldProcessEventForTesthub']()){const _0x1531a1=new ObservabilityReporter();_0x1531a1[_0x43762f(0xe3)]();}this[_0x43762f(0xf9)]['browserStackGlobals']={},this['configuration']=_0x1e9cdd[_0x43762f(0x106)],this[_0x43762f(0xe9)][_0x43762f(0xa1)]=constants[_0x43762f(0xc2)]['JEST'],this[_0x43762f(0xf9)][_0x43762f(0xab)]=(_0x1e9cdd[_0x43762f(0xf8)]?_0x1e9cdd[_0x43762f(0xf8)]['browserstackPlatformIndex']:_0x1e9cdd['browserstackPlatformIndex'])||0x0,this[_0x43762f(0xf9)][_0x43762f(0xe5)]=this[_0x43762f(0xe9)]&&this[_0x43762f(0xe9)]['platformCaps']&&Array[_0x43762f(0xdc)](this['configuration'][_0x43762f(0xbc)])&&this[_0x43762f(0xe9)][_0x43762f(0xbc)][this['global'][_0x43762f(0xab)]]||{};const _0x132ca0=this[_0x43762f(0xf9)][_0x43762f(0xab)],_0x25de8f={...this[_0x43762f(0xe9)],'capability':this['configuration']['capabilities']&&Array[_0x43762f(0xdc)](this[_0x43762f(0xe9)]['capabilities'])&&this['configuration'][_0x43762f(0xe4)][_0x132ca0]||{},'platformCaps':this[_0x43762f(0xe9)]['platformCaps']&&Array['isArray'](this[_0x43762f(0xe9)][_0x43762f(0xbc)])&&this[_0x43762f(0xe9)][_0x43762f(0xbc)][_0x132ca0]||{}};delete _0x25de8f['capabilities'],this[_0x43762f(0xf9)][_0x43762f(0xad)]=_0x25de8f;if(_seleniumWebdriver2){const _0x523737=_0x22310f['SZakW'][_0x43762f(0xb9)]('|');let _0x1b12e8=0x0;while(!![]){switch(_0x523737[_0x1b12e8++]){case'0':this[_0x43762f(0xf9)][_0x43762f(0xd8)]=async()=>{const _0x457af9=_0x43762f;await this['global'][_0x457af9(0xe6)][_0x457af9(0xcc)](_0x22310f['vXrbG']);};continue;case'1':this[_0x43762f(0xf9)][_0x43762f(0xf4)]=[];continue;case'2':this[_0x43762f(0xf9)][_0x43762f(0xeb)]=helper[_0x43762f(0xfa)](_0x1e9cdd,[_0x22310f['LuPxg'],_0x22310f[_0x43762f(0xea)],_0x22310f['fNPZK']]);continue;case'3':this[_0x43762f(0xf9)][_0x43762f(0xfc)]=helper['nestedKeyValue'](_0x1e9cdd,[_0x22310f['LuPxg'],_0x22310f[_0x43762f(0xea)],_0x22310f[_0x43762f(0xaa)]]);continue;case'4':helper[_0x43762f(0xcd)](this[_0x43762f(0xe9)][_0x43762f(0xb0)])?this['global'][_0x43762f(0xce)]=!![]:this[_0x43762f(0xf9)][_0x43762f(0xce)]=![];continue;case'5':this['global'][_0x43762f(0xbe)]=_0x22310f['Sdpca'](require,_0x22310f[_0x43762f(0xc4)])['browserstackAgentV2']({...this[_0x43762f(0xe9)],'capability':this[_0x43762f(0xf3)]||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;case'6':this['global'][_0x43762f(0xc7)]=helper[_0x43762f(0xfa)](_0x1e9cdd,[_0x22310f[_0x43762f(0xd1)],_0x22310f[_0x43762f(0xea)],_0x22310f['fHLpk']]);continue;case'7':this[_0x43762f(0xf9)][_0x43762f(0xa2)]=helper[_0x43762f(0xcd)](this[_0x43762f(0xe9)][_0x43762f(0xa0)]);continue;}break;}}}async[a16_0x4ab614(0xaf)](){const _0xf27613=a16_0x4ab614;_seleniumWebdriver2&&(await helper[_0xf27613(0xa5)](this[_0xf27613(0xf9)][_0xf27613(0xd5)]),this[_0xf27613(0xf9)][_0xf27613(0xbe)][_0xf27613(0xca)]=originalBuilder),await RequestQueueHandler[_0xf27613(0x9e)]()['shutdown']();}async[a16_0x4ab614(0xb6)](){}async[a16_0x4ab614(0xc0)](_0x38b11e,_0x2c0e99){const _0x12ff21=a16_0x4ab614,_0x5d071f={};_0x5d071f[_0x12ff21(0xc8)]=function(_0x3b9fdf,_0x134b4a){return _0x3b9fdf===_0x134b4a;},_0x5d071f[_0x12ff21(0xb1)]='test_start',_0x5d071f['cQFeW']='skip',_0x5d071f[_0x12ff21(0xdf)]=_0x12ff21(0xd2),_0x5d071f[_0x12ff21(0x107)]=_0x12ff21(0xc3),_0x5d071f['iWVgM']=function(_0x1b9020,_0xb22257){return _0x1b9020===_0xb22257;},_0x5d071f[_0x12ff21(0xf0)]=function(_0x5356f1,_0x2ad9b2){return _0x5356f1===_0x2ad9b2;},_0x5d071f['HbXcB']=_0x12ff21(0x102),_0x5d071f[_0x12ff21(0xb2)]=_0x12ff21(0xaf);const _0x112542=_0x5d071f,{name:_0x3d965c}=_0x38b11e;if(_0x112542[_0x12ff21(0xc8)](_0x3d965c,_0x112542[_0x12ff21(0xb1)])){this['global'][_0x12ff21(0xdd)]=_0x38b11e[_0x12ff21(0xda)];if(_0x112542[_0x12ff21(0xc8)](this[_0x12ff21(0xf9)][_0x12ff21(0xf5)],!![])){const _0x2a391e=_0x38b11e[_0x12ff21(0xda)][_0x12ff21(0xf6)];logger['info'](_0x12ff21(0xe8)+_0x2a391e),_0x38b11e[_0x12ff21(0xda)][_0x12ff21(0xde)]=_0x112542[_0x12ff21(0xed)];}}if(this[_0x12ff21(0x9f)]&&_0x112542[_0x12ff21(0xc8)](_0x3d965c,_0x112542[_0x12ff21(0xdf)]))try{const _0x240fb8=_0x38b11e[_0x12ff21(0xda)][_0x12ff21(0xfb)][_0x12ff21(0xf7)](_0x112542[_0x12ff21(0x107)]),_0x496a4c=_0x38b11e[_0x12ff21(0xda)][_0x12ff21(0x100)];await this[_0x12ff21(0x9f)][_0x12ff21(0xbf)](_0x240fb8,_0x496a4c);const _0x36d422=await this[_0x12ff21(0x9f)]['shouldFailFast']();_0x112542[_0x12ff21(0xb7)](this[_0x12ff21(0xf9)][_0x12ff21(0xf5)],![])&&_0x112542[_0x12ff21(0xf0)](_0x36d422,!![])&&(this[_0x12ff21(0xf9)]['failFastActive']=!![]);}catch(_0x4b8d56){logger[_0x12ff21(0xc6)](_0x112542[_0x12ff21(0xd9)],_0x4b8d56[_0x12ff21(0xff)]);}_0x112542[_0x12ff21(0xc8)](_0x3d965c,_0x112542[_0x12ff21(0xb2)])&&(this[_0x12ff21(0x9f)]&&this['failFast']['cleanup']());}}function a16_0x1f40(){const _0x2dfc7d=['__platformCaps','driver','isBrowserstackInfra','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','configuration','SVKyM','percyCaptureMode','KmWLo','cQFeW','111519SgjJZX','VahSN','uWFIn','exports','../../../helpers/test-orchestration/failfastManager','capability','__drivers','failFastActive','name','join','projectConfig','global','nestedKeyValue','testPath','browserstackPercyBestPlatform','default','__jestRetries','message','errors','bLujS','Error\x20in\x20fail-fast\x20test_done\x20handler:','jest-config','694638NbDxct','../../../index','testEnvironmentOptions','nAvUQ','timeout__','35uLBYta','projectName','__esModule','ghmZo','getInstance','failFast','skipSessionStatus','framework','__skipSessionStatus','env','resolveTestEnvironment','cleanupDrivers','retries__','BSTACK_DELTA','../../../helpers/test-observability/utils','__timeout','DljeN','browserstackPlatformIndex','node','jestConfig','builder','teardown','skipSessionName','hdPOd','qQQVU','requireSeleniumWebdriver','buildName','oOMiB','setup','iWVgM','browserStackPercyOptions','split','getTestEnvironment','failFastOptions','platformCaps','requireModule','__webdriver','onTestDone','handleTestEvent','../../../helpers/testhub/utils','FRAMEWORKS','\x20>\x20','WnEKv','BSTACK_JEST_TEST_ENV','debug','percy','PtHnt','ZCZNy','Builder','1673238ERFLcc','quit','isTrue','sessionNameProvided','../../../helpers/helper','8ZXqDap','LuPxg','test_done','../test-observability/obsReporter','modifyCommand','__driversArray','414100hpuTtb','OCRDo','cleanup','HbXcB','test','468720XINtTN','isArray','testContext','mode','YHmVM','4411995RHhZZj','11831256lyjLTD','Sdpca','registerListeners','capabilities'];a16_0x1f40=function(){return _0x2dfc7d;};return a16_0x1f40();}module[a16_0x4ab614(0xf1)]=CustomEnvironment;