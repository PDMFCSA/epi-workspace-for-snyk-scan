const a16_0x56e60f=a16_0x483b;(function(_0x9b973,_0x32248a){const _0x2713c0=a16_0x483b,_0x4df514=_0x9b973();while(!![]){try{const _0x2b5f6d=-parseInt(_0x2713c0(0x190))/0x1+parseInt(_0x2713c0(0x1e9))/0x2+parseInt(_0x2713c0(0x1b7))/0x3*(-parseInt(_0x2713c0(0x1d2))/0x4)+parseInt(_0x2713c0(0x1dd))/0x5+-parseInt(_0x2713c0(0x18f))/0x6*(-parseInt(_0x2713c0(0x1e7))/0x7)+parseInt(_0x2713c0(0x1b0))/0x8+-parseInt(_0x2713c0(0x1ec))/0x9;if(_0x2b5f6d===_0x32248a)break;else _0x4df514['push'](_0x4df514['shift']());}catch(_0x196e0e){_0x4df514['push'](_0x4df514['shift']());}}}(a16_0x17cd,0x68a96));function a16_0x17cd(){const _0x5edfa5=['Uloyp','BjaHU','6ewVpRD','512921FmTnLv','shouldFailFast','uUvYH','../../utils/constants','default','driver','\x20>\x20','modifyCommand','2|3|5|0|9|7|8|4|6|1','../../../helpers/testhub/utils','wQMtP','__jestRetries','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','registerListeners','browserstackAgentV2','failFastActive','__webdriver','percyCaptureMode','nestedKeyValue','bstack:options','browserStackGlobals','__platformCaps','jest-resolve','message','quit','skip','Builder','DIgeD','handleTestEvent','capability','VoXgs','resolveTestEnvironment','2259896UEdqsz','BSTACK_JEST_TEST_ENV','jest-config','mchkC','node','MInmp','twLzB','3eOOXRf','../../../helpers/test-orchestration/failfastManager','join','yddPx','timeout__','isNotUndefined','errors','../../../index','testContext','../test-observability/obsReporter','failFast','failFastOptions','exports','cwd','info','projectConfig','sessionNameProvided','ftyOV','SxKRF','browserstackPlatformIndex','global','testEnvironmentOptions','../../../helpers/helper','skipSessionName','xsvyd','configuration','__drivers','1348076VHPTLn','teardown','BSTACK_DELTA','buildName','skipSessionStatus','env','requireModule','ZHDCm','test_start','aynyi','debug','3957040Gcnxrk','Error\x20in\x20fail-fast\x20test_done\x20handler:','oJkqz','vQjvS','browserStackPercyOptions','FRAMEWORKS','__esModule','winstonLogger','getInstance','shutdown','3231641RgcDFT','CDMLC','190686QsIBZv','isTrue','retries__','3170403pbnBRa','test','getTestEnvironment','split','VrXhs','auWxH','mode','GBVnN','requireSeleniumWebdriver','isBrowserstackInfra','CKfuJ','projectName','percy','JEST','GZnAP','__skipSessionStatus','hpBRx','__timeout','framework'];a16_0x17cd=function(){return _0x5edfa5;};return a16_0x17cd();}const helper=require(a16_0x56e60f(0x1cd)),constants=require(a16_0x56e60f(0x193)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require(a16_0x56e60f(0x1c0)),testhubUtils=require(a16_0x56e60f(0x199)),logger=require('../../../helpers/logger')[a16_0x56e60f(0x1e4)],getTestEnvironment=((()=>{const _0x450289=a16_0x56e60f,_0x4e7c11={};_0x4e7c11[_0x450289(0x1cf)]=_0x450289(0x1a6),_0x4e7c11[_0x450289(0x19a)]=_0x450289(0x1b2);const _0x328b55=_0x4e7c11;try{const _0x204236=helper[_0x450289(0x1d8)](_0x328b55[_0x450289(0x1cf)]);if(_0x204236[_0x450289(0x1af)])return _0x204236[_0x450289(0x1af)];const _0x3bb8a5=helper[_0x450289(0x1d8)](_0x328b55[_0x450289(0x19a)]);if(_0x3bb8a5[_0x450289(0x1ee)])return _0x3bb8a5[_0x450289(0x1ee)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x2e97e2=a16_0x56e60f,_0x472d7c={'mchkC':function(_0x4ef7b9,_0x2ff4ab){return _0x4ef7b9(_0x2ff4ab);},'pMtEq':_0x2e97e2(0x1b4),'fMrsb':'jest-environment-node','AKrNS':function(_0x6aa5f4,_0x3aa306){return _0x6aa5f4(_0x3aa306);}},_0x2aae61=_0x472d7c[_0x2e97e2(0x1b3)](getTestEnvironment,{'rootDir':process[_0x2e97e2(0x1c4)](),'testEnvironment':process[_0x2e97e2(0x1d7)][_0x2e97e2(0x1b1)]||_0x472d7c['pMtEq']});if(!_0x2aae61)return _0x472d7c[_0x2e97e2(0x1b3)](_interopRequireDefault,helper[_0x2e97e2(0x1d8)](_0x472d7c['fMrsb']));return _0x472d7c['AKrNS'](_interopRequireDefault,helper['requireModule'](_0x2aae61));})()),_seleniumWebdriver2=((()=>{const _0x1a107a=a16_0x56e60f,_0x3a7370={'auWxH':function(_0x442f20,_0x4ac54d){return _0x442f20(_0x4ac54d);}};try{const _0x1bbd6e=helper[_0x1a107a(0x1f4)]();return helper[_0x1a107a(0x197)](),_0x3a7370[_0x1a107a(0x1f1)](_interopRequireDefault,_0x1bbd6e);}catch{return null;}})());function _interopRequireDefault(_0x22659d){const _0x372798=a16_0x56e60f;return _0x22659d&&_0x22659d[_0x372798(0x1e3)]?_0x22659d:{'default':_0x22659d};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x56e60f(0x194)][a16_0x56e60f(0x1aa)]:null;function a16_0x483b(_0x53a364,_0x4b7d39){const _0x17cdaf=a16_0x17cd();return a16_0x483b=function(_0x483b36,_0x3c6304){_0x483b36=_0x483b36-0x18a;let _0x283513=_0x17cdaf[_0x483b36];return _0x283513;},a16_0x483b(_0x53a364,_0x4b7d39);}class CustomEnvironment extends _jestUserEnvironment[a16_0x56e60f(0x194)]{constructor(_0x559027){const _0x40d5b0=a16_0x56e60f,_0x373f04={'VrXhs':_0x40d5b0(0x1a8),'BjaHU':function(_0x2d2a37,_0x13c1c6){return _0x2d2a37+_0x13c1c6;},'twLzB':_0x40d5b0(0x1a3),'MInmp':function(_0x44244e,_0x1c8fe3){return _0x44244e(_0x1c8fe3);},'IsqWY':_0x40d5b0(0x1b8),'SxKRF':_0x40d5b0(0x198),'oJkqz':'testEnvironmentOptions','vQjvS':_0x40d5b0(0x1e1),'yddPx':'browserstackPercyBestPlatform','ftyOV':_0x40d5b0(0x1be),'GRroV':_0x40d5b0(0x1a1),'CKfuJ':'platformCaps','GBVnN':_0x40d5b0(0x1f8)};super(_0x559027),this[_0x40d5b0(0x1cb)][_0x40d5b0(0x18b)]=0x0,this[_0x40d5b0(0x1d0)]={};!_0x559027['testEnvironmentOptions']&&(_0x559027[_0x40d5b0(0x1cc)]={});if(helper[_0x40d5b0(0x1f5)]()){_0x559027['testEnvironmentOptions']=_0x559027[_0x40d5b0(0x1c6)]?_0x559027['projectConfig'][_0x40d5b0(0x1cc)]:_0x559027[_0x40d5b0(0x1cc)],this['builder']=new _seleniumWebdriver2[(_0x40d5b0(0x194))][(_0x40d5b0(0x1aa))](),this[_0x40d5b0(0x1ad)]=_0x559027[_0x40d5b0(0x1c6)]?_0x559027[_0x40d5b0(0x1c6)][_0x40d5b0(0x1ad)]:_0x559027[_0x40d5b0(0x1ad)],this[_0x40d5b0(0x1cb)][_0x40d5b0(0x18b)]=_0x373f04[_0x40d5b0(0x18e)](this['configuration'][_0x40d5b0(0x1bb)],constants[_0x40d5b0(0x1d4)]),this['failFastOptions']=_0x559027['testEnvironmentOptions']['failFast'];if(this[_0x40d5b0(0x1c2)]){const _0x392acd=this['capability'][_0x373f04[_0x40d5b0(0x1b6)]]?.[_0x40d5b0(0x1d5)]||'',_0x503c29=this['capability'][_0x373f04[_0x40d5b0(0x1b6)]]?.[_0x40d5b0(0x1f7)]||'';this[_0x40d5b0(0x1c1)]=new(_0x373f04['MInmp'](require,_0x373f04['IsqWY']))(this[_0x40d5b0(0x1c2)],_0x392acd,_0x503c29),this['global'][_0x40d5b0(0x19f)]=![];}helper[_0x40d5b0(0x1bc)](this['configuration'][_0x40d5b0(0x1eb)])&&(this[_0x40d5b0(0x1cb)][_0x40d5b0(0x19b)]=this[_0x40d5b0(0x1d0)][_0x40d5b0(0x1eb)]);}if(testhubUtils['shouldProcessEventForTesthub']()){const _0x172ee9=new ObservabilityReporter();_0x172ee9[_0x40d5b0(0x19d)]();}this[_0x40d5b0(0x1cb)][_0x40d5b0(0x1a4)]={},this[_0x40d5b0(0x1d0)]=_0x559027['testEnvironmentOptions'],this[_0x40d5b0(0x1d0)][_0x40d5b0(0x18c)]=constants[_0x40d5b0(0x1e2)][_0x40d5b0(0x1f9)];if(_seleniumWebdriver2){const _0x39329a=_0x373f04[_0x40d5b0(0x1c9)][_0x40d5b0(0x1ef)]('|');let _0x57ab86=0x0;while(!![]){switch(_0x39329a[_0x57ab86++]){case'0':this[_0x40d5b0(0x1cb)]['browserstackPercyBestPlatform']=helper[_0x40d5b0(0x1a2)](_0x559027,[_0x373f04[_0x40d5b0(0x1df)],_0x373f04[_0x40d5b0(0x1e0)],_0x373f04[_0x40d5b0(0x1ba)]]);continue;case'1':this[_0x40d5b0(0x1cb)]['cleanup']=async()=>{const _0x59dac1=_0x40d5b0;await this[_0x59dac1(0x1cb)][_0x59dac1(0x195)][_0x59dac1(0x1a8)](_0x373f04[_0x59dac1(0x1f0)]);};continue;case'2':this[_0x40d5b0(0x1cb)][_0x40d5b0(0x1d1)]=[];continue;case'3':this[_0x40d5b0(0x1cb)][_0x40d5b0(0x1a0)]=_0x373f04[_0x40d5b0(0x1b5)](require,_0x373f04[_0x40d5b0(0x1c8)])[_0x40d5b0(0x19e)]({...this[_0x40d5b0(0x1d0)],'capability':this['capability']||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;case'4':helper['isTrue'](this[_0x40d5b0(0x1d0)][_0x40d5b0(0x1ce)])?this[_0x40d5b0(0x1cb)][_0x40d5b0(0x1c7)]=!![]:this['global']['sessionNameProvided']=![];continue;case'5':this['global'][_0x40d5b0(0x1ca)]=(_0x559027['projectConfig']?_0x559027[_0x40d5b0(0x1c6)]['browserstackPlatformIndex']:_0x559027[_0x40d5b0(0x1ca)])||0x0;continue;case'6':this[_0x40d5b0(0x1cb)][_0x40d5b0(0x1fb)]=helper[_0x40d5b0(0x1ea)](this[_0x40d5b0(0x1d0)][_0x40d5b0(0x1d6)]);continue;case'7':this[_0x40d5b0(0x1cb)][_0x40d5b0(0x1a1)]=helper[_0x40d5b0(0x1a2)](_0x559027,[_0x373f04[_0x40d5b0(0x1df)],_0x373f04[_0x40d5b0(0x1e0)],_0x373f04['GRroV']]);continue;case'8':this[_0x40d5b0(0x1cb)][_0x40d5b0(0x1a5)]=helper[_0x40d5b0(0x1a2)](this[_0x40d5b0(0x1d0)],[_0x373f04[_0x40d5b0(0x1f6)],this[_0x40d5b0(0x1cb)]['browserstackPlatformIndex']])||{};continue;case'9':this['global'][_0x40d5b0(0x1f8)]=helper[_0x40d5b0(0x1a2)](_0x559027,[_0x373f04[_0x40d5b0(0x1df)],_0x373f04[_0x40d5b0(0x1e0)],_0x373f04[_0x40d5b0(0x1f3)]]);continue;}break;}}}async[a16_0x56e60f(0x1d3)](){const _0x5abdf4=a16_0x56e60f;_seleniumWebdriver2&&(await helper['cleanupDrivers'](this[_0x5abdf4(0x1cb)]['__driversArray']),this[_0x5abdf4(0x1cb)][_0x5abdf4(0x1a0)][_0x5abdf4(0x1aa)]=originalBuilder),await RequestQueueHandler[_0x5abdf4(0x1e5)]()[_0x5abdf4(0x1e6)]();}async['setup'](){}async[a16_0x56e60f(0x1ac)](_0x3833ff,_0x1b7d62){const _0x3367fe=a16_0x56e60f,_0x37a6e8={};_0x37a6e8[_0x3367fe(0x1d9)]=function(_0x4ceb3f,_0x3ccfd0){return _0x4ceb3f===_0x3ccfd0;},_0x37a6e8[_0x3367fe(0x1ab)]=_0x3367fe(0x1da),_0x37a6e8[_0x3367fe(0x1fa)]=_0x3367fe(0x1a9),_0x37a6e8['aynyi']=function(_0x5b5988,_0x524d53){return _0x5b5988===_0x524d53;},_0x37a6e8[_0x3367fe(0x192)]='test_done',_0x37a6e8['Uloyp']=_0x3367fe(0x196),_0x37a6e8[_0x3367fe(0x1ae)]=function(_0x40a8ca,_0x578e11){return _0x40a8ca===_0x578e11;},_0x37a6e8['Ayxnx']=function(_0x424861,_0x21224b){return _0x424861===_0x21224b;},_0x37a6e8[_0x3367fe(0x1e8)]=_0x3367fe(0x1de),_0x37a6e8[_0x3367fe(0x18a)]=function(_0x3ce27c,_0x10d2d5){return _0x3ce27c===_0x10d2d5;},_0x37a6e8['vNETs']=_0x3367fe(0x1d3);const _0x4bd9ab=_0x37a6e8,{name:_0x302c6a}=_0x3833ff;if(_0x4bd9ab['ZHDCm'](_0x302c6a,_0x4bd9ab[_0x3367fe(0x1ab)])){this[_0x3367fe(0x1cb)][_0x3367fe(0x1bf)]=_0x3833ff['test'];if(_0x4bd9ab[_0x3367fe(0x1d9)](this[_0x3367fe(0x1cb)]['failFastActive'],!![])){const _0x439cee=_0x3833ff['test']['name'];logger[_0x3367fe(0x1c5)](_0x3367fe(0x19c)+_0x439cee),_0x3833ff[_0x3367fe(0x1ed)][_0x3367fe(0x1f2)]=_0x4bd9ab[_0x3367fe(0x1fa)];}}if(this[_0x3367fe(0x1c1)]&&_0x4bd9ab[_0x3367fe(0x1db)](_0x302c6a,_0x4bd9ab[_0x3367fe(0x192)]))try{const _0x68ea60=_0x3833ff['test']['testPath'][_0x3367fe(0x1b9)](_0x4bd9ab[_0x3367fe(0x18d)]),_0x3a532e=_0x3833ff[_0x3367fe(0x1ed)][_0x3367fe(0x1bd)];await this['failFast']['onTestDone'](_0x68ea60,_0x3a532e);const _0x1b9509=await this[_0x3367fe(0x1c1)][_0x3367fe(0x191)]();_0x4bd9ab[_0x3367fe(0x1ae)](this[_0x3367fe(0x1cb)][_0x3367fe(0x19f)],![])&&_0x4bd9ab['Ayxnx'](_0x1b9509,!![])&&(this[_0x3367fe(0x1cb)][_0x3367fe(0x19f)]=!![]);}catch(_0x5b2753){logger[_0x3367fe(0x1dc)](_0x4bd9ab[_0x3367fe(0x1e8)],_0x5b2753[_0x3367fe(0x1a7)]);}_0x4bd9ab['hpBRx'](_0x302c6a,_0x4bd9ab['vNETs'])&&(this['failFast']&&this['failFast']['cleanup']());}}module[a16_0x56e60f(0x1c3)]=CustomEnvironment;