const a18_0x10699f=a18_0x9e2d;(function(_0x1b422c,_0x2ecdff){const _0x471c2f=a18_0x9e2d,_0x2dec27=_0x1b422c();while(!![]){try{const _0x1478f6=-parseInt(_0x471c2f(0x203))/0x1*(parseInt(_0x471c2f(0x1e9))/0x2)+parseInt(_0x471c2f(0x1e3))/0x3+parseInt(_0x471c2f(0x1c4))/0x4*(-parseInt(_0x471c2f(0x20f))/0x5)+parseInt(_0x471c2f(0x20a))/0x6+parseInt(_0x471c2f(0x1eb))/0x7+parseInt(_0x471c2f(0x21b))/0x8*(parseInt(_0x471c2f(0x1e8))/0x9)+-parseInt(_0x471c2f(0x216))/0xa;if(_0x1478f6===_0x2ecdff)break;else _0x2dec27['push'](_0x2dec27['shift']());}catch(_0x5aed35){_0x2dec27['push'](_0x2dec27['shift']());}}}(a18_0x155d,0x951c2));function a18_0x155d(){const _0xe514db=['dBcpD','isBrowserstackInfra','1260174aVzGPi','SItZV','../../../helpers/logger','MqamF','skipSessionName','126425kgtspu','teardown','gKRTh','getInstance','default','info','isTrue','5360110TZcJMI','message','testPath','quit','tIAwD','88DkuZFx','../../../index','shouldProcessEventForTesthub','__esModule','jest-config','NJEYQ','jest-resolve','getTestEnvironment','__skipSessionStatus','capability','browserstackAgentV2','testEnvironmentOptions','sessionNameProvided','../../../helpers/test-observability/utils','bstack:options','testContext','setup','UaSSf','LTsIM','cleanup','nhEHc','global','__timeout','LHnxY','108AznETh','retries__','MSOar','dnuga','test','mode','node','failFast','Builder','requireModule','skip','failFastOptions','timeout__','../../../helpers/test-orchestration/failfastManager','winstonLogger','hgWFJ','browserstackPercyBestPlatform','test_done','pFLLa','resolveTestEnvironment','browserstackPlatformIndex','shouldFailFast','requireSeleniumWebdriver','skipSessionStatus','percy','UAbxr','__webdriver','../../utils/constants','shutdown','WcDvg','onTestDone','2460471ftzAua','nestedKeyValue','7|9|6|3|4|5|8|0|1|2','../test-observability/obsReporter','yfLPo','966123ILPraw','219284Denxvf','UrNkP','1166669dBpXyp','__platformCaps','builder','FRAMEWORKS','percyCaptureMode','registerListeners','Error\x20in\x20fail-fast\x20test_done\x20handler:','failFastActive','\x20>\x20','debug','__driversArray','EuSCY','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','eIOau','XBejW','cwd','BSTACK_JEST_TEST_ENV','modifyCommand','EWcjc','projectName','test_start','configuration','exports','env','5dqUhmS','isNotUndefined','QKQev','projectConfig','errors'];a18_0x155d=function(){return _0xe514db;};return a18_0x155d();}const helper=require('../../../helpers/helper'),constants=require(a18_0x10699f(0x1df)),{isTestObservabilitySession}=require(a18_0x10699f(0x1b9)),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require(a18_0x10699f(0x1e6)),testhubUtils=require('../../../helpers/testhub/utils'),logger=require(a18_0x10699f(0x20c))[a18_0x10699f(0x1d2)],getTestEnvironment=((()=>{const _0x5c1f0e=a18_0x10699f,_0x222c5c={};_0x222c5c[_0x5c1f0e(0x205)]=_0x5c1f0e(0x1b2),_0x222c5c['XBejW']=_0x5c1f0e(0x1b0);const _0x345143=_0x222c5c;try{const _0x29061e=helper[_0x5c1f0e(0x1cd)](_0x345143[_0x5c1f0e(0x205)]);if(_0x29061e[_0x5c1f0e(0x1d7)])return _0x29061e['resolveTestEnvironment'];const _0x3053c8=helper[_0x5c1f0e(0x1cd)](_0x345143[_0x5c1f0e(0x1f9)]);if(_0x3053c8[_0x5c1f0e(0x1b3)])return _0x3053c8[_0x5c1f0e(0x1b3)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x5ee5e7=a18_0x10699f,_0x1cd783={'Metof':function(_0x4a14e3,_0x2ea791){return _0x4a14e3(_0x2ea791);},'UaSSf':_0x5ee5e7(0x1ca),'NJEYQ':'jest-environment-node','dnuga':function(_0x5790f7,_0x3d420d){return _0x5790f7(_0x3d420d);}},_0x13a258=_0x1cd783['Metof'](getTestEnvironment,{'rootDir':process[_0x5ee5e7(0x1fa)](),'testEnvironment':process[_0x5ee5e7(0x202)][_0x5ee5e7(0x1fb)]||_0x1cd783[_0x5ee5e7(0x1bd)]});if(!_0x13a258)return _0x1cd783['Metof'](_interopRequireDefault,helper[_0x5ee5e7(0x1cd)](_0x1cd783[_0x5ee5e7(0x1b1)]));return _0x1cd783[_0x5ee5e7(0x1c7)](_interopRequireDefault,helper[_0x5ee5e7(0x1cd)](_0x13a258));})()),_seleniumWebdriver2=((()=>{const _0x2c374a=a18_0x10699f,_0x15135e={'UAbxr':function(_0x486920,_0x3e4d2e){return _0x486920(_0x3e4d2e);}};try{const _0x5b19c9=helper[_0x2c374a(0x1da)]();return helper[_0x2c374a(0x1fc)](),_0x15135e[_0x2c374a(0x1dd)](_interopRequireDefault,_0x5b19c9);}catch{return null;}})());function _interopRequireDefault(_0x4cc60c){const _0x3a90a7=a18_0x10699f;return _0x4cc60c&&_0x4cc60c[_0x3a90a7(0x1af)]?_0x4cc60c:{'default':_0x4cc60c};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2['default']['Builder']:null;function a18_0x9e2d(_0x1e4aa2,_0x30b49a){const _0x155d89=a18_0x155d();return a18_0x9e2d=function(_0x9e2dba,_0xacd2bb){_0x9e2dba=_0x9e2dba-0x1af;let _0x53b06e=_0x155d89[_0x9e2dba];return _0x53b06e;},a18_0x9e2d(_0x1e4aa2,_0x30b49a);}class CustomEnvironment extends _jestUserEnvironment[a18_0x10699f(0x213)]{constructor(_0x5e13a8){const _0x3df0d2=a18_0x10699f,_0x316b41={'CiAqi':_0x3df0d2(0x219),'zviYL':function(_0x189e48,_0x55c988){return _0x189e48+_0x55c988;},'eIOau':_0x3df0d2(0x1ba),'MqamF':function(_0x4fb3f1,_0x3e97c5){return _0x4fb3f1(_0x3e97c5);},'wpdHF':_0x3df0d2(0x1d1),'pFLLa':_0x3df0d2(0x1e5),'nhEHc':'testEnvironmentOptions','dBcpD':'browserStackPercyOptions','LTsIM':'browserstackPercyBestPlatform','WcDvg':_0x3df0d2(0x1dc),'XcDwc':_0x3df0d2(0x1ef),'EWcjc':'platformCaps','mcJab':_0x3df0d2(0x21c)};super(_0x5e13a8),this[_0x3df0d2(0x1c1)][_0x3df0d2(0x1c2)]=0x0,this['configuration']={};!_0x5e13a8[_0x3df0d2(0x1b7)]&&(_0x5e13a8[_0x3df0d2(0x1b7)]={});if(helper[_0x3df0d2(0x209)]()){_0x5e13a8['testEnvironmentOptions']=_0x5e13a8[_0x3df0d2(0x206)]?_0x5e13a8[_0x3df0d2(0x206)][_0x3df0d2(0x1b7)]:_0x5e13a8[_0x3df0d2(0x1b7)],this[_0x3df0d2(0x1ed)]=new _seleniumWebdriver2[(_0x3df0d2(0x213))][(_0x3df0d2(0x1cc))](),this[_0x3df0d2(0x1b5)]=_0x5e13a8[_0x3df0d2(0x206)]?_0x5e13a8[_0x3df0d2(0x206)][_0x3df0d2(0x1b5)]:_0x5e13a8[_0x3df0d2(0x1b5)],this['global']['__timeout']=_0x316b41['zviYL'](this[_0x3df0d2(0x200)][_0x3df0d2(0x1d0)],constants['BSTACK_DELTA']),this[_0x3df0d2(0x1cf)]=_0x5e13a8['testEnvironmentOptions'][_0x3df0d2(0x1cb)];if(this['failFastOptions']){const _0x4ae2ce=this['capability'][_0x316b41[_0x3df0d2(0x1f8)]]?.['buildName']||'',_0x274241=this['capability'][_0x316b41[_0x3df0d2(0x1f8)]]?.[_0x3df0d2(0x1fe)]||'';this['failFast']=new(_0x316b41[_0x3df0d2(0x20d)](require,_0x316b41['wpdHF']))(this[_0x3df0d2(0x1cf)],_0x4ae2ce,_0x274241),this[_0x3df0d2(0x1c1)][_0x3df0d2(0x1f2)]=![];}helper[_0x3df0d2(0x204)](this[_0x3df0d2(0x200)][_0x3df0d2(0x1c5)])&&(this[_0x3df0d2(0x1c1)]['__jestRetries']=this[_0x3df0d2(0x200)][_0x3df0d2(0x1c5)]);}if(testhubUtils['shouldProcessEventForTesthub']()){const _0x38d64c=new ObservabilityReporter();_0x38d64c[_0x3df0d2(0x1f0)]();}this[_0x3df0d2(0x1c1)]['browserStackGlobals']={},this[_0x3df0d2(0x200)]=_0x5e13a8[_0x3df0d2(0x1b7)],this['configuration']['framework']=constants[_0x3df0d2(0x1ee)]['JEST'];if(_seleniumWebdriver2){const _0x3d4b1b=_0x316b41[_0x3df0d2(0x1d6)]['split']('|');let _0x354615=0x0;while(!![]){switch(_0x3d4b1b[_0x354615++]){case'0':helper[_0x3df0d2(0x215)](this[_0x3df0d2(0x200)][_0x3df0d2(0x20e)])?this[_0x3df0d2(0x1c1)]['sessionNameProvided']=!![]:this['global'][_0x3df0d2(0x1b8)]=![];continue;case'1':this[_0x3df0d2(0x1c1)][_0x3df0d2(0x1b4)]=helper['isTrue'](this[_0x3df0d2(0x200)][_0x3df0d2(0x1db)]);continue;case'2':this[_0x3df0d2(0x1c1)]['cleanup']=async()=>{const _0x1c9f54=_0x3df0d2;await this[_0x1c9f54(0x1c1)]['driver'][_0x1c9f54(0x219)](_0x316b41['CiAqi']);};continue;case'3':this['global'][_0x3df0d2(0x1d4)]=helper[_0x3df0d2(0x1e4)](_0x5e13a8,[_0x316b41[_0x3df0d2(0x1c0)],_0x316b41['dBcpD'],_0x316b41[_0x3df0d2(0x1be)]]);continue;case'4':this['global'][_0x3df0d2(0x1dc)]=helper[_0x3df0d2(0x1e4)](_0x5e13a8,[_0x316b41[_0x3df0d2(0x1c0)],_0x316b41[_0x3df0d2(0x208)],_0x316b41[_0x3df0d2(0x1e1)]]);continue;case'5':this['global']['percyCaptureMode']=helper[_0x3df0d2(0x1e4)](_0x5e13a8,[_0x316b41[_0x3df0d2(0x1c0)],_0x316b41[_0x3df0d2(0x208)],_0x316b41['XcDwc']]);continue;case'6':this[_0x3df0d2(0x1c1)]['browserstackPlatformIndex']=(_0x5e13a8[_0x3df0d2(0x206)]?_0x5e13a8[_0x3df0d2(0x206)][_0x3df0d2(0x1d8)]:_0x5e13a8[_0x3df0d2(0x1d8)])||0x0;continue;case'7':this[_0x3df0d2(0x1c1)]['__drivers']=[];continue;case'8':this['global'][_0x3df0d2(0x1ec)]=helper[_0x3df0d2(0x1e4)](this['configuration'],[_0x316b41[_0x3df0d2(0x1fd)],this[_0x3df0d2(0x1c1)][_0x3df0d2(0x1d8)]])||{};continue;case'9':this[_0x3df0d2(0x1c1)][_0x3df0d2(0x1de)]=_0x316b41[_0x3df0d2(0x20d)](require,_0x316b41['mcJab'])[_0x3df0d2(0x1b6)]({...this[_0x3df0d2(0x200)],'capability':this[_0x3df0d2(0x1b5)]||{}},this,testhubUtils[_0x3df0d2(0x21d)]());continue;}break;}}}async[a18_0x10699f(0x210)](){const _0xa94006=a18_0x10699f;_seleniumWebdriver2&&(await helper['cleanupDrivers'](this['global'][_0xa94006(0x1f5)]),this[_0xa94006(0x1c1)]['__webdriver'][_0xa94006(0x1cc)]=originalBuilder),await RequestQueueHandler[_0xa94006(0x212)]()[_0xa94006(0x1e0)]();}async[a18_0x10699f(0x1bc)](){}async['handleTestEvent'](_0x59a0a6,_0x2c309c){const _0x18e523=a18_0x10699f,_0x1292c7={};_0x1292c7['UrNkP']=function(_0x16b845,_0x36157b){return _0x16b845===_0x36157b;},_0x1292c7[_0x18e523(0x21a)]=_0x18e523(0x1ff),_0x1292c7['EuSCY']=_0x18e523(0x1ce),_0x1292c7[_0x18e523(0x1c6)]=_0x18e523(0x1d5),_0x1292c7[_0x18e523(0x1d3)]=_0x18e523(0x1f3),_0x1292c7[_0x18e523(0x20b)]=function(_0x2d8299,_0x2bcb74){return _0x2d8299===_0x2bcb74;},_0x1292c7[_0x18e523(0x1c3)]=function(_0x41cc37,_0x4caa3e){return _0x41cc37===_0x4caa3e;},_0x1292c7['yfLPo']=_0x18e523(0x1f1),_0x1292c7[_0x18e523(0x211)]=_0x18e523(0x210);const _0x27c0ae=_0x1292c7,{name:_0x1e638d}=_0x59a0a6;if(_0x27c0ae[_0x18e523(0x1ea)](_0x1e638d,_0x27c0ae['tIAwD'])){this[_0x18e523(0x1c1)][_0x18e523(0x1bb)]=_0x59a0a6[_0x18e523(0x1c8)];if(_0x27c0ae[_0x18e523(0x1ea)](this[_0x18e523(0x1c1)][_0x18e523(0x1f2)],!![])){const _0x20e3e1=_0x59a0a6[_0x18e523(0x1c8)]['name'];logger[_0x18e523(0x214)](_0x18e523(0x1f7)+_0x20e3e1),_0x59a0a6[_0x18e523(0x1c8)][_0x18e523(0x1c9)]=_0x27c0ae[_0x18e523(0x1f6)];}}if(this[_0x18e523(0x1cb)]&&_0x27c0ae[_0x18e523(0x1ea)](_0x1e638d,_0x27c0ae[_0x18e523(0x1c6)]))try{const _0x1a9f96=_0x59a0a6[_0x18e523(0x1c8)][_0x18e523(0x218)]['join'](_0x27c0ae[_0x18e523(0x1d3)]),_0x1e58d3=_0x59a0a6['test'][_0x18e523(0x207)];await this[_0x18e523(0x1cb)][_0x18e523(0x1e2)](_0x1a9f96,_0x1e58d3);const _0x2fa2e8=await this[_0x18e523(0x1cb)][_0x18e523(0x1d9)]();_0x27c0ae[_0x18e523(0x20b)](this[_0x18e523(0x1c1)][_0x18e523(0x1f2)],![])&&_0x27c0ae[_0x18e523(0x1c3)](_0x2fa2e8,!![])&&(this['global']['failFastActive']=!![]);}catch(_0x481896){logger[_0x18e523(0x1f4)](_0x27c0ae[_0x18e523(0x1e7)],_0x481896[_0x18e523(0x217)]);}_0x27c0ae[_0x18e523(0x1c3)](_0x1e638d,_0x27c0ae[_0x18e523(0x211)])&&(this[_0x18e523(0x1cb)]&&this['failFast'][_0x18e523(0x1bf)]());}}module[a18_0x10699f(0x201)]=CustomEnvironment;