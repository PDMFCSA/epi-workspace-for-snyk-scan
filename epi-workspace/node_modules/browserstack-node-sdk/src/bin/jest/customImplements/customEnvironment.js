function a16_0x5b66(){const _0x3fd65f=['debug','JRWDO','../../../helpers/logger','requireSeleniumWebdriver','__timeout','bHQps','percy','registerListeners','4249572ZNOHXg','bstack:options','__skipSessionStatus','../../../index','4609dryxFz','onTestDone','nestedKeyValue','aHEsw','QuRIC','2293484zjfnbW','JcPaF','FRAMEWORKS','capability','split','resolveTestEnvironment','isArray','insyQ','../test-observability/obsReporter','cleanup','isBrowserstackInfra','BSTACK_JEST_TEST_ENV','join','cleanupDrivers','testContext','IhDpK','Nymlz','toMGm','Phaxv','quit','capabilities','../../../helpers/test-orchestration/failfastManager','skipSessionName','configuration','browserstackAgentV2','default','\x20>\x20','../../../helpers/test-observability/requestQueueHandler','exports','7|3|1|0|2|6|4|5','isTrue','QFqwX','shutdown','../../../helpers/helper','1801506aTYfjK','../../../helpers/test-observability/utils','retries__','qUuwB','test_start','teardown','projectName','failFastActive','name','failFastOptions','framework','1EfiBuT','errors','builder','__driversArray','5iiDzlV','Builder','__platformCaps','57396FdcRYg','cwd','teknx','ieUoi','ubhMz','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','__webdriver','797116VKVAvG','browserstackPercyBestPlatform','shouldFailFast','driver','projectConfig','percyCaptureMode','timeout__','requireModule','global','jest-environment-node','../../../helpers/testhub/utils','message','2283144ZekUyo','153OwqvJY','failFast','vdoPV','oOcKn','browserstackPlatformIndex','665590hZZtde','platformCaps','isNotUndefined','buildName','node','testPath','7jCZHHv','jestConfig','zNBfT','testEnvironmentOptions','jest-resolve','shouldProcessEventForTesthub','JEST','SEcWV','test','KTSuo','skip','BSTACK_DELTA','getTestEnvironment','sessionNameProvided','test_done','__esModule','Avend','QPDfh','browserStackGlobals','mLPWG'];a16_0x5b66=function(){return _0x3fd65f;};return a16_0x5b66();}const a16_0x510fd0=a16_0x29ec;(function(_0x944dee,_0x1adef8){const _0x56bb75=a16_0x29ec,_0xa1e1a1=_0x944dee();while(!![]){try{const _0x2917a6=-parseInt(_0x56bb75(0x8e))/0x1*(-parseInt(_0x56bb75(0x9c))/0x2)+parseInt(_0x56bb75(0x83))/0x3+-parseInt(_0x56bb75(0xd9))/0x4*(parseInt(_0x56bb75(0x92))/0x5)+-parseInt(_0x56bb75(0xd0))/0x6+-parseInt(_0x56bb75(0xb4))/0x7*(-parseInt(_0x56bb75(0xa8))/0x8)+-parseInt(_0x56bb75(0xa9))/0x9*(parseInt(_0x56bb75(0xae))/0xa)+parseInt(_0x56bb75(0xd4))/0xb*(parseInt(_0x56bb75(0x95))/0xc);if(_0x2917a6===_0x1adef8)break;else _0xa1e1a1['push'](_0xa1e1a1['shift']());}catch(_0x75da3c){_0xa1e1a1['push'](_0xa1e1a1['shift']());}}}(a16_0x5b66,0xd5b82));const helper=require(a16_0x510fd0(0x82)),constants=require('../../utils/constants'),{isTestObservabilitySession}=require(a16_0x510fd0(0x84)),RequestQueueHandler=require(a16_0x510fd0(0x7c)),ObservabilityReporter=require(a16_0x510fd0(0x69)),testhubUtils=require(a16_0x510fd0(0xa6)),logger=require(a16_0x510fd0(0xca))['winstonLogger'],getTestEnvironment=((()=>{const _0x25113d=a16_0x510fd0,_0x19d1be={};_0x19d1be[_0x25113d(0xab)]=_0x25113d(0xb8),_0x19d1be[_0x25113d(0x70)]='jest-config';const _0x4b8264=_0x19d1be;try{const _0x8e2e32=helper[_0x25113d(0xa3)](_0x4b8264[_0x25113d(0xab)]);if(_0x8e2e32[_0x25113d(0x66)])return _0x8e2e32[_0x25113d(0x66)];const _0x2c6cb8=helper[_0x25113d(0xa3)](_0x4b8264[_0x25113d(0x70)]);if(_0x2c6cb8[_0x25113d(0xc0)])return _0x2c6cb8[_0x25113d(0xc0)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x3717b5=a16_0x510fd0,_0x528476={'Avend':function(_0x3710fb,_0x218cb8){return _0x3710fb(_0x218cb8);},'aHEsw':_0x3717b5(0xb2),'IxjkM':_0x3717b5(0xa5),'oOcKn':function(_0x206cfa,_0xb2e1e0){return _0x206cfa(_0xb2e1e0);}},_0x3d40eb=_0x528476[_0x3717b5(0xc4)](getTestEnvironment,{'rootDir':process[_0x3717b5(0x96)](),'testEnvironment':process['env'][_0x3717b5(0x6c)]||_0x528476[_0x3717b5(0xd7)]});if(!_0x3d40eb)return _0x528476[_0x3717b5(0xc4)](_interopRequireDefault,helper['requireModule'](_0x528476['IxjkM']));return _0x528476[_0x3717b5(0xac)](_interopRequireDefault,helper[_0x3717b5(0xa3)](_0x3d40eb));})()),_seleniumWebdriver2=((()=>{const _0x1df58b=a16_0x510fd0,_0x3b5a21={'RVpBG':function(_0x4ed0d1,_0x1c5547){return _0x4ed0d1(_0x1c5547);}};try{const _0x4283f0=helper[_0x1df58b(0xcb)]();return helper['modifyCommand'](),_0x3b5a21['RVpBG'](_interopRequireDefault,_0x4283f0);}catch{return null;}})());function _interopRequireDefault(_0x350998){const _0x29a2d0=a16_0x510fd0;return _0x350998&&_0x350998[_0x29a2d0(0xc3)]?_0x350998:{'default':_0x350998};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2['default'][a16_0x510fd0(0x93)]:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x510fd0(0x7a)]{constructor(_0x4feecc){const _0x125d0e=a16_0x510fd0,_0x171961={'Phaxv':'quit','qUuwB':function(_0xfd3bb0,_0x252eba){return _0xfd3bb0+_0x252eba;},'ieUoi':_0x125d0e(0xd1),'KSJlI':function(_0x26efd2,_0x23e237){return _0x26efd2(_0x23e237);},'exMrL':_0x125d0e(0x76),'Nymlz':_0x125d0e(0x7e),'mLPWG':_0x125d0e(0xb7),'QuRIC':'browserStackPercyOptions','QFqwX':_0x125d0e(0xce),'JRWDO':_0x125d0e(0x9d),'NEGjw':_0x125d0e(0xa1),'zyxua':_0x125d0e(0xd3)};super(_0x4feecc),this[_0x125d0e(0xa4)][_0x125d0e(0xcc)]=0x0,this[_0x125d0e(0x78)]={};!_0x4feecc[_0x125d0e(0xb7)]&&(_0x4feecc[_0x125d0e(0xb7)]={});if(helper[_0x125d0e(0x6b)]()){_0x4feecc[_0x125d0e(0xb7)]=_0x4feecc[_0x125d0e(0xa0)]?_0x4feecc[_0x125d0e(0xa0)][_0x125d0e(0xb7)]:_0x4feecc[_0x125d0e(0xb7)];_seleniumWebdriver2&&(this[_0x125d0e(0x90)]=new _seleniumWebdriver2['default'][(_0x125d0e(0x93))]());this[_0x125d0e(0x64)]=_0x4feecc[_0x125d0e(0xa0)]?_0x4feecc['projectConfig'][_0x125d0e(0x64)]:_0x4feecc[_0x125d0e(0x64)],this[_0x125d0e(0xa4)][_0x125d0e(0xcc)]=_0x171961[_0x125d0e(0x86)](_0x4feecc[_0x125d0e(0xb7)][_0x125d0e(0xa2)]||0x1388,constants[_0x125d0e(0xbf)]),this[_0x125d0e(0x8c)]=_0x4feecc[_0x125d0e(0xb7)][_0x125d0e(0xaa)];if(this[_0x125d0e(0x8c)]){const _0x560a15=this[_0x125d0e(0x64)][_0x171961[_0x125d0e(0x98)]]?.[_0x125d0e(0xb1)]||'',_0xb524fe=this[_0x125d0e(0x64)][_0x171961[_0x125d0e(0x98)]]?.[_0x125d0e(0x89)]||'';this[_0x125d0e(0xaa)]=new(_0x171961['KSJlI'](require,_0x171961['exMrL']))(this[_0x125d0e(0x8c)],_0x560a15,_0xb524fe),this['global'][_0x125d0e(0x8a)]=![];}helper[_0x125d0e(0xb0)](_0x4feecc[_0x125d0e(0xb7)][_0x125d0e(0x85)])&&(this[_0x125d0e(0xa4)]['__jestRetries']=_0x4feecc[_0x125d0e(0xb7)]['retries__']);}if(testhubUtils['shouldProcessEventForTesthub']()){const _0x5bc85d=new ObservabilityReporter();_0x5bc85d[_0x125d0e(0xcf)]();}this[_0x125d0e(0xa4)][_0x125d0e(0xc6)]={},this[_0x125d0e(0x78)]=_0x4feecc[_0x125d0e(0xb7)],this['configuration'][_0x125d0e(0x8d)]=constants[_0x125d0e(0xdb)][_0x125d0e(0xba)],this[_0x125d0e(0xa4)][_0x125d0e(0xad)]=(_0x4feecc[_0x125d0e(0xa0)]?_0x4feecc[_0x125d0e(0xa0)]['browserstackPlatformIndex']:_0x4feecc[_0x125d0e(0xad)])||0x0,this['global'][_0x125d0e(0x94)]=this[_0x125d0e(0x78)]&&this[_0x125d0e(0x78)][_0x125d0e(0xaf)]&&Array[_0x125d0e(0x67)](this[_0x125d0e(0x78)]['platformCaps'])&&this[_0x125d0e(0x78)][_0x125d0e(0xaf)][this[_0x125d0e(0xa4)][_0x125d0e(0xad)]]||{};const _0x288a51=this[_0x125d0e(0xa4)][_0x125d0e(0xad)],_0xda66a7={...this[_0x125d0e(0x78)],'capability':this[_0x125d0e(0x78)][_0x125d0e(0x75)]&&Array[_0x125d0e(0x67)](this[_0x125d0e(0x78)][_0x125d0e(0x75)])&&this['configuration']['capabilities'][_0x288a51]||{},'platformCaps':this[_0x125d0e(0x78)][_0x125d0e(0xaf)]&&Array[_0x125d0e(0x67)](this[_0x125d0e(0x78)][_0x125d0e(0xaf)])&&this[_0x125d0e(0x78)][_0x125d0e(0xaf)][_0x288a51]||{}};delete _0xda66a7['capabilities'],this['global'][_0x125d0e(0xb5)]=_0xda66a7;if(_seleniumWebdriver2){const _0x5430c3=_0x171961[_0x125d0e(0x71)][_0x125d0e(0x65)]('|');let _0x34304c=0x0;while(!![]){switch(_0x5430c3[_0x34304c++]){case'0':this[_0x125d0e(0xa4)][_0x125d0e(0xce)]=helper[_0x125d0e(0xd6)](_0x4feecc,[_0x171961[_0x125d0e(0xc7)],_0x171961[_0x125d0e(0xd8)],_0x171961[_0x125d0e(0x80)]]);continue;case'1':this['global']['browserstackPercyBestPlatform']=helper[_0x125d0e(0xd6)](_0x4feecc,[_0x171961[_0x125d0e(0xc7)],_0x171961['QuRIC'],_0x171961[_0x125d0e(0xc9)]]);continue;case'2':this['global'][_0x125d0e(0xa1)]=helper['nestedKeyValue'](_0x4feecc,[_0x171961[_0x125d0e(0xc7)],_0x171961[_0x125d0e(0xd8)],_0x171961['NEGjw']]);continue;case'3':this['global']['__webdriver']=_0x171961['KSJlI'](require,_0x171961['zyxua'])[_0x125d0e(0x79)]({...this[_0x125d0e(0x78)],'capability':this[_0x125d0e(0x64)]||{}},this,testhubUtils[_0x125d0e(0xb9)]());continue;case'4':this[_0x125d0e(0xa4)][_0x125d0e(0xd2)]=helper[_0x125d0e(0x7f)](this[_0x125d0e(0x78)]['skipSessionStatus']);continue;case'5':this['global'][_0x125d0e(0x6a)]=async()=>{const _0x3489c8=_0x125d0e;await this[_0x3489c8(0xa4)][_0x3489c8(0x9f)][_0x3489c8(0x74)](_0x171961[_0x3489c8(0x73)]);};continue;case'6':helper['isTrue'](this['configuration'][_0x125d0e(0x77)])?this[_0x125d0e(0xa4)][_0x125d0e(0xc1)]=!![]:this[_0x125d0e(0xa4)]['sessionNameProvided']=![];continue;case'7':this['global']['__drivers']=[];continue;}break;}}}async['teardown'](){const _0x24022b=a16_0x510fd0;_seleniumWebdriver2&&(await helper[_0x24022b(0x6e)](this[_0x24022b(0xa4)][_0x24022b(0x91)]),this[_0x24022b(0xa4)][_0x24022b(0x9b)][_0x24022b(0x93)]=originalBuilder),await RequestQueueHandler['getInstance']()[_0x24022b(0x81)]();}async['setup'](){}async['handleTestEvent'](_0x324a48,_0x5bf1ea){const _0x2f6e1b=a16_0x510fd0,_0x253a6e={};_0x253a6e[_0x2f6e1b(0xbd)]=function(_0x4b1be5,_0x1067bd){return _0x4b1be5===_0x1067bd;},_0x253a6e[_0x2f6e1b(0x72)]=_0x2f6e1b(0x87),_0x253a6e[_0x2f6e1b(0xc5)]=function(_0x129080,_0x141b32){return _0x129080===_0x141b32;},_0x253a6e[_0x2f6e1b(0x97)]=_0x2f6e1b(0xbe),_0x253a6e[_0x2f6e1b(0xb6)]=_0x2f6e1b(0xc2),_0x253a6e[_0x2f6e1b(0xda)]=_0x2f6e1b(0x7b),_0x253a6e[_0x2f6e1b(0x99)]=function(_0x2b133c,_0x2b2069){return _0x2b133c===_0x2b2069;},_0x253a6e[_0x2f6e1b(0xbb)]='Error\x20in\x20fail-fast\x20test_done\x20handler:',_0x253a6e[_0x2f6e1b(0xcd)]=function(_0x1bc5ca,_0x5304c2){return _0x1bc5ca===_0x5304c2;},_0x253a6e[_0x2f6e1b(0x68)]=_0x2f6e1b(0x88);const _0x2471d8=_0x253a6e,{name:_0x1ea30f}=_0x324a48;if(_0x2471d8[_0x2f6e1b(0xbd)](_0x1ea30f,_0x2471d8['toMGm'])){this['global'][_0x2f6e1b(0x6f)]=_0x324a48['test'];if(_0x2471d8[_0x2f6e1b(0xc5)](this[_0x2f6e1b(0xa4)][_0x2f6e1b(0x8a)],!![])){const _0x189911=_0x324a48[_0x2f6e1b(0xbc)][_0x2f6e1b(0x8b)];logger['info'](_0x2f6e1b(0x9a)+_0x189911),_0x324a48[_0x2f6e1b(0xbc)]['mode']=_0x2471d8[_0x2f6e1b(0x97)];}}if(this['failFast']&&_0x2471d8[_0x2f6e1b(0xbd)](_0x1ea30f,_0x2471d8['zNBfT']))try{const _0x4bea8f=_0x324a48[_0x2f6e1b(0xbc)][_0x2f6e1b(0xb3)][_0x2f6e1b(0x6d)](_0x2471d8[_0x2f6e1b(0xda)]),_0x3a90e8=_0x324a48[_0x2f6e1b(0xbc)][_0x2f6e1b(0x8f)];await this[_0x2f6e1b(0xaa)][_0x2f6e1b(0xd5)](_0x4bea8f,_0x3a90e8);const _0x4781f9=await this[_0x2f6e1b(0xaa)][_0x2f6e1b(0x9e)]();_0x2471d8[_0x2f6e1b(0x99)](this['global'][_0x2f6e1b(0x8a)],![])&&_0x2471d8['QPDfh'](_0x4781f9,!![])&&(this[_0x2f6e1b(0xa4)][_0x2f6e1b(0x8a)]=!![]);}catch(_0x5ed3b4){logger[_0x2f6e1b(0xc8)](_0x2471d8[_0x2f6e1b(0xbb)],_0x5ed3b4[_0x2f6e1b(0xa7)]);}_0x2471d8[_0x2f6e1b(0xcd)](_0x1ea30f,_0x2471d8[_0x2f6e1b(0x68)])&&(this[_0x2f6e1b(0xaa)]&&this[_0x2f6e1b(0xaa)][_0x2f6e1b(0x6a)]());}}function a16_0x29ec(_0x382894,_0x343067){const _0x5b6666=a16_0x5b66();return a16_0x29ec=function(_0x29ec71,_0x5b2baf){_0x29ec71=_0x29ec71-0x64;let _0x2670f=_0x5b6666[_0x29ec71];return _0x2670f;},a16_0x29ec(_0x382894,_0x343067);}module[a16_0x510fd0(0x7d)]=CustomEnvironment;