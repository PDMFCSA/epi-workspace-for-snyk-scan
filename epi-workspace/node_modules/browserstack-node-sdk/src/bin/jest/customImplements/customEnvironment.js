const a16_0x5e08cb=a16_0x5db5;function a16_0x5db5(_0x569d78,_0x3fd10f){const _0x366ab2=a16_0x366a();return a16_0x5db5=function(_0x5db503,_0x3c1c55){_0x5db503=_0x5db503-0x17e;let _0x2967ca=_0x366ab2[_0x5db503];return _0x2967ca;},a16_0x5db5(_0x569d78,_0x3fd10f);}(function(_0x11dff4,_0x463444){const _0x21c948=a16_0x5db5,_0x5c6a85=_0x11dff4();while(!![]){try{const _0x18ca27=parseInt(_0x21c948(0x1ab))/0x1*(-parseInt(_0x21c948(0x187))/0x2)+parseInt(_0x21c948(0x1c6))/0x3*(parseInt(_0x21c948(0x1d1))/0x4)+-parseInt(_0x21c948(0x18c))/0x5+-parseInt(_0x21c948(0x1c5))/0x6*(-parseInt(_0x21c948(0x1cb))/0x7)+parseInt(_0x21c948(0x197))/0x8+-parseInt(_0x21c948(0x1cc))/0x9+-parseInt(_0x21c948(0x1b5))/0xa;if(_0x18ca27===_0x463444)break;else _0x5c6a85['push'](_0x5c6a85['shift']());}catch(_0x5ab0a5){_0x5c6a85['push'](_0x5c6a85['shift']());}}}(a16_0x366a,0x5cbbb));function a16_0x366a(){const _0xc456f6=['__drivers','4277576hURjYG','__platformCaps','handleTestEvent','__skipSessionStatus','framework','configuration','builder','ISAjr','test','zOjQR','3|1|4|2|0','global','__driversArray','test_start','requireModule','modifyCommand','default','isTrue','browserStackGlobals','../test-observability/obsReporter','28181HbwaDs','yeezB','GYCdm','browserstackPercyBestPlatform','testContext','__webdriver','browserstackPlatformIndex','oKAoR','platformCaps','env','1997180rQbqRg','cleanup','exports','kiVTq','ScdXI','KDVFJ','registerListeners','../../../index','projectConfig','teardown','split','capability','kushS','driver','cwd','requireSeleniumWebdriver','30PLLdBQ','291144QzMPMG','vtEsJ','uctJH','jest-resolve','fbsdG','1021811xUpGhA','5317272rXyFMr','percy','gfkdl','../../../helpers/helper','gHcJQ','12uvRqaQ','shutdown','nestedKeyValue','jest-environment-node','dvdZI','resolveTestEnvironment','quit','__timeout','ILIvB','Builder','CUnYn','2nqKnIt','../../../helpers/testhub/utils','setup','testEnvironmentOptions','FRAMEWORKS','1785820Tkbxgb','isBrowserstackInfra','node','shouldProcessEventForTesthub','JEST','browserstackAgentV2','HmzGY','VKtDD','percyCaptureMode','DTVeN'];a16_0x366a=function(){return _0xc456f6;};return a16_0x366a();}const helper=require(a16_0x5e08cb(0x1cf)),constants=require('../../utils/constants'),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require(a16_0x5e08cb(0x1aa)),testhubUtils=require(a16_0x5e08cb(0x188)),getTestEnvironment=((()=>{const _0x2117a4=a16_0x5e08cb,_0xb852a4={};_0xb852a4[_0x2117a4(0x1ac)]=_0x2117a4(0x1c9),_0xb852a4[_0x2117a4(0x1b8)]='jest-config';const _0x822d55=_0xb852a4;try{const _0x380f2f=helper[_0x2117a4(0x1a5)](_0x822d55[_0x2117a4(0x1ac)]);if(_0x380f2f[_0x2117a4(0x181)])return _0x380f2f[_0x2117a4(0x181)];const _0x3c748a=helper[_0x2117a4(0x1a5)](_0x822d55[_0x2117a4(0x1b8)]);if(_0x3c748a['getTestEnvironment'])return _0x3c748a['getTestEnvironment'];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x1c4c4e=a16_0x5e08cb,_0x1b9926={'HmzGY':function(_0x4cb6a0,_0x2e06d6){return _0x4cb6a0(_0x2e06d6);},'ILIvB':_0x1c4c4e(0x18e),'gfkdl':function(_0x8a82c9,_0x2390f4){return _0x8a82c9(_0x2390f4);},'KDVFJ':_0x1c4c4e(0x17f),'GYCdm':function(_0x3f7ded,_0x797d30){return _0x3f7ded(_0x797d30);}},_0xad2ce2=_0x1b9926[_0x1c4c4e(0x192)](getTestEnvironment,{'rootDir':process[_0x1c4c4e(0x1c3)](),'testEnvironment':process[_0x1c4c4e(0x1b4)]['BSTACK_JEST_TEST_ENV']||_0x1b9926[_0x1c4c4e(0x184)]});if(!_0xad2ce2)return _0x1b9926[_0x1c4c4e(0x1ce)](_interopRequireDefault,helper[_0x1c4c4e(0x1a5)](_0x1b9926[_0x1c4c4e(0x1ba)]));return _0x1b9926[_0x1c4c4e(0x1ad)](_interopRequireDefault,helper[_0x1c4c4e(0x1a5)](_0xad2ce2));})()),_seleniumWebdriver2=((()=>{const _0x8c1f3a=a16_0x5e08cb,_0x3ca4ce={'ISAjr':function(_0x2e1dc3,_0x5e0604){return _0x2e1dc3(_0x5e0604);}};try{const _0x22c838=helper[_0x8c1f3a(0x1c4)]();return helper[_0x8c1f3a(0x1a6)](),_0x3ca4ce[_0x8c1f3a(0x19e)](_interopRequireDefault,_0x22c838);}catch{return null;}})());function _interopRequireDefault(_0x46f2b9){return _0x46f2b9&&_0x46f2b9['__esModule']?_0x46f2b9:{'default':_0x46f2b9};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x5e08cb(0x1a7)][a16_0x5e08cb(0x185)]:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x5e08cb(0x1a7)]{constructor(_0x3ef347){const _0x48433d=a16_0x5e08cb,_0x510092={'dPzAR':_0x48433d(0x182),'CUnYn':_0x48433d(0x1a1),'kiwfu':function(_0x479876,_0x3cc5fb){return _0x479876+_0x3cc5fb;},'DTVeN':'2|8|0|7|4|3|1|5|6|9','kushS':_0x48433d(0x1b3),'zOjQR':_0x48433d(0x18a),'uctJH':'browserStackPercyOptions','oKAoR':'percyCaptureMode','dvdZI':'percy','gHcJQ':_0x48433d(0x1ae),'ScdXI':function(_0x57f1ea,_0x1cdcd6){return _0x57f1ea(_0x1cdcd6);},'VKtDD':_0x48433d(0x1bc)};super(_0x3ef347),this[_0x48433d(0x1a2)][_0x48433d(0x183)]=0x0,this[_0x48433d(0x19c)]={};!_0x3ef347[_0x48433d(0x18a)]&&(_0x3ef347[_0x48433d(0x18a)]={});if(helper[_0x48433d(0x18d)]()){const _0x518441=_0x510092[_0x48433d(0x186)][_0x48433d(0x1bf)]('|');let _0x4615f3=0x0;while(!![]){switch(_0x518441[_0x4615f3++]){case'0':this[_0x48433d(0x1a2)][_0x48433d(0x183)]=_0x510092['kiwfu'](this[_0x48433d(0x19c)]['timeout__'],constants['BSTACK_DELTA']);continue;case'1':this[_0x48433d(0x19d)]=new _seleniumWebdriver2['default'][(_0x48433d(0x185))]();continue;case'2':this[_0x48433d(0x1c0)]=_0x3ef347[_0x48433d(0x1bd)]?_0x3ef347[_0x48433d(0x1bd)]['capability']:_0x3ef347[_0x48433d(0x1c0)];continue;case'3':_0x3ef347[_0x48433d(0x18a)]=_0x3ef347['projectConfig']?_0x3ef347['projectConfig'][_0x48433d(0x18a)]:_0x3ef347['testEnvironmentOptions'];continue;case'4':this['configuration']=_0x3ef347[_0x48433d(0x18a)];continue;}break;}}if(testhubUtils[_0x48433d(0x18f)]()){const _0x2788c4=new ObservabilityReporter();_0x2788c4[_0x48433d(0x1bb)]();}this[_0x48433d(0x1a2)][_0x48433d(0x1a9)]={},this[_0x48433d(0x19c)][_0x48433d(0x19b)]=constants[_0x48433d(0x18b)][_0x48433d(0x190)];if(_seleniumWebdriver2){const _0x1c4fc8=_0x510092[_0x48433d(0x195)][_0x48433d(0x1bf)]('|');let _0x397dcf=0x0;while(!![]){switch(_0x1c4fc8[_0x397dcf++]){case'0':this[_0x48433d(0x1a2)][_0x48433d(0x1b1)]=(_0x3ef347['projectConfig']?_0x3ef347['projectConfig'][_0x48433d(0x1b1)]:_0x3ef347[_0x48433d(0x1b1)])||0x0;continue;case'1':this[_0x48433d(0x1a2)][_0x48433d(0x198)]=helper[_0x48433d(0x17e)](this['configuration'],[_0x510092[_0x48433d(0x1c1)],this[_0x48433d(0x1a2)][_0x48433d(0x1b1)]])||{};continue;case'2':this['global'][_0x48433d(0x196)]=[];continue;case'3':this['global'][_0x48433d(0x194)]=helper['nestedKeyValue'](_0x3ef347,[_0x510092['zOjQR'],_0x510092['uctJH'],_0x510092[_0x48433d(0x1b2)]]);continue;case'4':this['global'][_0x48433d(0x1cd)]=helper[_0x48433d(0x17e)](_0x3ef347,[_0x510092[_0x48433d(0x1a0)],_0x510092[_0x48433d(0x1c8)],_0x510092[_0x48433d(0x180)]]);continue;case'5':helper['isTrue'](this['configuration']['skipSessionName'])?this['global']['sessionNameProvided']=!![]:this['global']['sessionNameProvided']=![];continue;case'6':this[_0x48433d(0x1a2)][_0x48433d(0x19a)]=helper[_0x48433d(0x1a8)](this[_0x48433d(0x19c)]['skipSessionStatus']);continue;case'7':this[_0x48433d(0x1a2)][_0x48433d(0x1ae)]=helper[_0x48433d(0x17e)](_0x3ef347,[_0x510092[_0x48433d(0x1a0)],_0x510092['uctJH'],_0x510092[_0x48433d(0x1d0)]]);continue;case'8':this[_0x48433d(0x1a2)]['__webdriver']=_0x510092[_0x48433d(0x1b9)](require,_0x510092[_0x48433d(0x193)])[_0x48433d(0x191)]({...this[_0x48433d(0x19c)],'capability':this[_0x48433d(0x1c0)]||{}},this,testhubUtils[_0x48433d(0x18f)]());continue;case'9':this[_0x48433d(0x1a2)][_0x48433d(0x1b6)]=async()=>{const _0x1a5fbd=_0x48433d;await this['global'][_0x1a5fbd(0x1c2)]['quit'](_0x510092['dPzAR']);};continue;}break;}}}async[a16_0x5e08cb(0x1be)](){const _0x425099=a16_0x5e08cb;_seleniumWebdriver2&&(await helper['cleanupDrivers'](this[_0x425099(0x1a2)][_0x425099(0x1a3)]),this['global'][_0x425099(0x1b0)]['Builder']=originalBuilder),await RequestQueueHandler['getInstance']()[_0x425099(0x1d2)]();}async[a16_0x5e08cb(0x189)](){}async[a16_0x5e08cb(0x199)](_0x5321e3,_0x44f21f){const _0x4c58fd=a16_0x5e08cb,_0x56171d={};_0x56171d[_0x4c58fd(0x1ca)]=function(_0x4a9c6d,_0x302aaf){return _0x4a9c6d===_0x302aaf;},_0x56171d[_0x4c58fd(0x1c7)]=_0x4c58fd(0x1a4);const _0x403ba2=_0x56171d,{name:_0x27688c}=_0x5321e3;_0x403ba2['fbsdG'](_0x27688c,_0x403ba2['vtEsJ'])&&(this[_0x4c58fd(0x1a2)][_0x4c58fd(0x1af)]=_0x5321e3[_0x4c58fd(0x19f)]);}}module[a16_0x5e08cb(0x1b7)]=CustomEnvironment;