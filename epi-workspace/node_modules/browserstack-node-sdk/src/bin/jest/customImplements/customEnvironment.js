const a16_0x34d009=a16_0x4b49;(function(_0x1d7aff,_0xd4d4dc){const _0x19418b=a16_0x4b49,_0x4354a6=_0x1d7aff();while(!![]){try{const _0x5952c0=-parseInt(_0x19418b(0x152))/0x1*(parseInt(_0x19418b(0x130))/0x2)+parseInt(_0x19418b(0x147))/0x3*(-parseInt(_0x19418b(0x14b))/0x4)+-parseInt(_0x19418b(0x13c))/0x5*(-parseInt(_0x19418b(0x149))/0x6)+parseInt(_0x19418b(0x11b))/0x7+parseInt(_0x19418b(0x161))/0x8*(parseInt(_0x19418b(0x17c))/0x9)+parseInt(_0x19418b(0x17d))/0xa*(parseInt(_0x19418b(0x11e))/0xb)+parseInt(_0x19418b(0x119))/0xc;if(_0x5952c0===_0xd4d4dc)break;else _0x4354a6['push'](_0x4354a6['shift']());}catch(_0x4ff5d7){_0x4354a6['push'](_0x4354a6['shift']());}}}(a16_0x1cad,0x24d49));function a16_0x4b49(_0x2e3d7c,_0x10046c){const _0x1cadf0=a16_0x1cad();return a16_0x4b49=function(_0x4b4948,_0x24c4fc){_0x4b4948=_0x4b4948-0x10d;let _0x2828c1=_0x1cadf0[_0x4b4948];return _0x2828c1;},a16_0x4b49(_0x2e3d7c,_0x10046c);}const helper=require(a16_0x34d009(0x135)),constants=require('../../utils/constants'),{isTestObservabilitySession}=require(a16_0x34d009(0x155)),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require(a16_0x34d009(0x121)),testhubUtils=require(a16_0x34d009(0x16e)),logger=require('../../../helpers/logger')['winstonLogger'],getTestEnvironment=((()=>{const _0x537bfb=a16_0x34d009,_0x18bf34={};_0x18bf34[_0x537bfb(0x165)]=_0x537bfb(0x15b),_0x18bf34[_0x537bfb(0x15f)]=_0x537bfb(0x14e);const _0x283f18=_0x18bf34;try{const _0x18c341=helper[_0x537bfb(0x127)](_0x283f18[_0x537bfb(0x165)]);if(_0x18c341[_0x537bfb(0x15e)])return _0x18c341[_0x537bfb(0x15e)];const _0x1e6549=helper[_0x537bfb(0x127)](_0x283f18[_0x537bfb(0x15f)]);if(_0x1e6549['getTestEnvironment'])return _0x1e6549[_0x537bfb(0x13d)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x234613=a16_0x34d009,_0x4b27d5={'FHUCd':function(_0xf78f57,_0x2d4114){return _0xf78f57(_0x2d4114);},'xYvdW':_0x234613(0x133),'VXQFY':'jest-environment-node'},_0x2095e4=_0x4b27d5[_0x234613(0x111)](getTestEnvironment,{'rootDir':process[_0x234613(0x145)](),'testEnvironment':process[_0x234613(0x117)][_0x234613(0x169)]||_0x4b27d5[_0x234613(0x122)]});if(!_0x2095e4)return _0x4b27d5['FHUCd'](_interopRequireDefault,helper['requireModule'](_0x4b27d5[_0x234613(0x14d)]));return _0x4b27d5[_0x234613(0x111)](_interopRequireDefault,helper[_0x234613(0x127)](_0x2095e4));})()),_seleniumWebdriver2=((()=>{const _0x5ad063=a16_0x34d009,_0x36bde1={'KiEmA':function(_0xdaf1b7,_0x138753){return _0xdaf1b7(_0x138753);}};try{const _0x1bf79f=helper[_0x5ad063(0x11a)]();return helper[_0x5ad063(0x12b)](),_0x36bde1[_0x5ad063(0x17b)](_interopRequireDefault,_0x1bf79f);}catch{return null;}})());function _interopRequireDefault(_0x5c776c){const _0x242ae0=a16_0x34d009;return _0x5c776c&&_0x5c776c[_0x242ae0(0x115)]?_0x5c776c:{'default':_0x5c776c};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x34d009(0x15c)][a16_0x34d009(0x17f)]:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x34d009(0x15c)]{constructor(_0x2181a9){const _0xc8cb1d=a16_0x34d009,_0x593fa0={'gIxkk':_0xc8cb1d(0x118),'EWTWc':function(_0x4de229,_0x26c222){return _0x4de229+_0x26c222;},'XywOR':'bstack:options','NDetQ':function(_0x538f63,_0x382387){return _0x538f63(_0x382387);},'WZiFi':_0xc8cb1d(0x181),'qansi':_0xc8cb1d(0x162),'pDqbv':_0xc8cb1d(0x184),'lUpzV':_0xc8cb1d(0x157),'IGYVU':_0xc8cb1d(0x16a),'gvyBz':_0xc8cb1d(0x159),'pyiuf':function(_0x2ffaa7,_0x2efbb8){return _0x2ffaa7(_0x2efbb8);},'uIxUj':_0xc8cb1d(0x13e),'kNjAf':_0xc8cb1d(0x167)};super(_0x2181a9),this[_0xc8cb1d(0x171)]['__timeout']=0x0,this[_0xc8cb1d(0x12c)]={};!_0x2181a9[_0xc8cb1d(0x184)]&&(_0x2181a9[_0xc8cb1d(0x184)]={});if(helper['isBrowserstackInfra']()){_0x2181a9[_0xc8cb1d(0x184)]=_0x2181a9[_0xc8cb1d(0x140)]?_0x2181a9[_0xc8cb1d(0x140)][_0xc8cb1d(0x184)]:_0x2181a9['testEnvironmentOptions'];_seleniumWebdriver2&&(this[_0xc8cb1d(0x177)]=new _seleniumWebdriver2[(_0xc8cb1d(0x15c))]['Builder']());this[_0xc8cb1d(0x16f)]=_0x2181a9[_0xc8cb1d(0x140)]?_0x2181a9[_0xc8cb1d(0x140)][_0xc8cb1d(0x16f)]:_0x2181a9['capability'],this['global'][_0xc8cb1d(0x15a)]=_0x593fa0[_0xc8cb1d(0x173)](_0x2181a9[_0xc8cb1d(0x184)]['timeout__']||0x1388,constants['BSTACK_DELTA']),this[_0xc8cb1d(0x123)]=_0x2181a9[_0xc8cb1d(0x184)]['failFast'];if(this['failFastOptions']){const _0x5944ab=this[_0xc8cb1d(0x16f)][_0x593fa0[_0xc8cb1d(0x17e)]]?.[_0xc8cb1d(0x11d)]||'',_0x455124=this[_0xc8cb1d(0x16f)][_0x593fa0[_0xc8cb1d(0x17e)]]?.[_0xc8cb1d(0x136)]||'';this['failFast']=new(_0x593fa0[_0xc8cb1d(0x178)](require,_0x593fa0[_0xc8cb1d(0x158)]))(this[_0xc8cb1d(0x123)],_0x5944ab,_0x455124),this[_0xc8cb1d(0x171)]['failFastActive']=![];}helper[_0xc8cb1d(0x183)](_0x2181a9[_0xc8cb1d(0x184)][_0xc8cb1d(0x10d)])&&(this[_0xc8cb1d(0x171)]['__jestRetries']=_0x2181a9[_0xc8cb1d(0x184)][_0xc8cb1d(0x10d)]);}if(testhubUtils['shouldProcessEventForTesthub']()){const _0x52c162=new ObservabilityReporter();_0x52c162['registerListeners']();}this['global'][_0xc8cb1d(0x13b)]={},this[_0xc8cb1d(0x12c)]=_0x2181a9[_0xc8cb1d(0x184)],this[_0xc8cb1d(0x12c)][_0xc8cb1d(0x10e)]=constants[_0xc8cb1d(0x13f)][_0xc8cb1d(0x12a)],this[_0xc8cb1d(0x171)]['browserstackPlatformIndex']=(_0x2181a9[_0xc8cb1d(0x140)]?_0x2181a9[_0xc8cb1d(0x140)][_0xc8cb1d(0x172)]:_0x2181a9['browserstackPlatformIndex'])||0x0,this[_0xc8cb1d(0x171)]['__platformCaps']=this[_0xc8cb1d(0x12c)]&&this[_0xc8cb1d(0x12c)]['platformCaps']&&Array[_0xc8cb1d(0x154)](this[_0xc8cb1d(0x12c)][_0xc8cb1d(0x180)])&&this['configuration'][_0xc8cb1d(0x180)][this[_0xc8cb1d(0x171)]['browserstackPlatformIndex']]||{};const _0x48251a=this[_0xc8cb1d(0x171)][_0xc8cb1d(0x172)],_0x2d56c5={...this[_0xc8cb1d(0x12c)],'capability':this[_0xc8cb1d(0x12c)][_0xc8cb1d(0x128)]&&Array['isArray'](this[_0xc8cb1d(0x12c)][_0xc8cb1d(0x128)])&&this['configuration'][_0xc8cb1d(0x128)][_0x48251a]||{},'platformCaps':this[_0xc8cb1d(0x12c)][_0xc8cb1d(0x180)]&&Array['isArray'](this[_0xc8cb1d(0x12c)][_0xc8cb1d(0x180)])&&this[_0xc8cb1d(0x12c)]['platformCaps'][_0x48251a]||{}};delete _0x2d56c5[_0xc8cb1d(0x128)],this[_0xc8cb1d(0x171)][_0xc8cb1d(0x176)]=_0x2d56c5;if(_seleniumWebdriver2){const _0x3fdd1e=_0x593fa0[_0xc8cb1d(0x116)][_0xc8cb1d(0x163)]('|');let _0x3c12f0=0x0;while(!![]){switch(_0x3fdd1e[_0x3c12f0++]){case'0':this[_0xc8cb1d(0x171)][_0xc8cb1d(0x15d)]=helper['isTrue'](this[_0xc8cb1d(0x12c)][_0xc8cb1d(0x160)]);continue;case'1':this[_0xc8cb1d(0x171)][_0xc8cb1d(0x16a)]=helper[_0xc8cb1d(0x11f)](_0x2181a9,[_0x593fa0['pDqbv'],_0x593fa0['lUpzV'],_0x593fa0[_0xc8cb1d(0x14c)]]);continue;case'2':this['global'][_0xc8cb1d(0x174)]=async()=>{const _0x5cfb97=_0xc8cb1d;await this[_0x5cfb97(0x171)][_0x5cfb97(0x141)]['quit'](_0x593fa0[_0x5cfb97(0x16b)]);};continue;case'3':this['global']['percyCaptureMode']=helper[_0xc8cb1d(0x11f)](_0x2181a9,[_0x593fa0[_0xc8cb1d(0x16d)],_0x593fa0[_0xc8cb1d(0x129)],_0x593fa0['gvyBz']]);continue;case'4':helper[_0xc8cb1d(0x151)](this['configuration'][_0xc8cb1d(0x179)])?this[_0xc8cb1d(0x171)][_0xc8cb1d(0x112)]=!![]:this['global'][_0xc8cb1d(0x112)]=![];continue;case'5':this[_0xc8cb1d(0x171)][_0xc8cb1d(0x131)]=_0x593fa0[_0xc8cb1d(0x164)](require,_0x593fa0[_0xc8cb1d(0x146)])[_0xc8cb1d(0x142)]({...this[_0xc8cb1d(0x12c)],'capability':this[_0xc8cb1d(0x16f)]||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;case'6':this[_0xc8cb1d(0x171)][_0xc8cb1d(0x167)]=helper[_0xc8cb1d(0x11f)](_0x2181a9,[_0x593fa0[_0xc8cb1d(0x16d)],_0x593fa0[_0xc8cb1d(0x129)],_0x593fa0['kNjAf']]);continue;case'7':this[_0xc8cb1d(0x171)][_0xc8cb1d(0x12e)]=[];continue;}break;}}}async[a16_0x34d009(0x182)](){const _0x38191f=a16_0x34d009;_seleniumWebdriver2&&(await helper['cleanupDrivers'](this['global'][_0x38191f(0x126)]),this['global'][_0x38191f(0x131)][_0x38191f(0x17f)]=originalBuilder),await RequestQueueHandler[_0x38191f(0x138)]()['shutdown']();}async[a16_0x34d009(0x17a)](){}async['handleTestEvent'](_0x3c8928,_0x5531da){const _0x480a01=a16_0x34d009,_0x158eb2={};_0x158eb2['fbGVs']=function(_0x4a8527,_0x48ef06){return _0x4a8527===_0x48ef06;},_0x158eb2[_0x480a01(0x132)]=_0x480a01(0x134),_0x158eb2['cdOVN']=function(_0x28482a,_0x5a28b2){return _0x28482a===_0x5a28b2;},_0x158eb2['kbsOM']=_0x480a01(0x12d),_0x158eb2[_0x480a01(0x156)]=function(_0xabafac,_0x2a13f1){return _0xabafac===_0x2a13f1;},_0x158eb2[_0x480a01(0x110)]=_0x480a01(0x166),_0x158eb2[_0x480a01(0x14a)]=_0x480a01(0x14f),_0x158eb2[_0x480a01(0x153)]=function(_0x149723,_0x58ef46){return _0x149723===_0x58ef46;},_0x158eb2[_0x480a01(0x139)]=_0x480a01(0x150),_0x158eb2[_0x480a01(0x144)]=_0x480a01(0x182);const _0x5eef55=_0x158eb2,{name:_0x256635}=_0x3c8928;if(_0x5eef55[_0x480a01(0x16c)](_0x256635,_0x5eef55[_0x480a01(0x132)])){this[_0x480a01(0x171)][_0x480a01(0x143)]=_0x3c8928['test'];if(_0x5eef55[_0x480a01(0x12f)](this[_0x480a01(0x171)]['failFastActive'],!![])){const _0x26fcae=_0x3c8928['test']['name'];logger[_0x480a01(0x10f)](_0x480a01(0x175)+_0x26fcae),_0x3c8928['test'][_0x480a01(0x124)]=_0x5eef55['kbsOM'];}}if(this[_0x480a01(0x13a)]&&_0x5eef55[_0x480a01(0x156)](_0x256635,_0x5eef55[_0x480a01(0x110)]))try{const _0x875953=_0x3c8928[_0x480a01(0x114)][_0x480a01(0x11c)][_0x480a01(0x125)](_0x5eef55[_0x480a01(0x14a)]),_0x2b41aa=_0x3c8928[_0x480a01(0x114)][_0x480a01(0x113)];await this[_0x480a01(0x13a)][_0x480a01(0x120)](_0x875953,_0x2b41aa);const _0x46f765=await this[_0x480a01(0x13a)]['shouldFailFast']();_0x5eef55[_0x480a01(0x16c)](this['global'][_0x480a01(0x137)],![])&&_0x5eef55[_0x480a01(0x153)](_0x46f765,!![])&&(this[_0x480a01(0x171)]['failFastActive']=!![]);}catch(_0x4f0206){logger[_0x480a01(0x170)](_0x5eef55[_0x480a01(0x139)],_0x4f0206[_0x480a01(0x148)]);}_0x5eef55[_0x480a01(0x12f)](_0x256635,_0x5eef55[_0x480a01(0x144)])&&(this[_0x480a01(0x13a)]&&this['failFast'][_0x480a01(0x174)]());}}function a16_0x1cad(){const _0x33fd5c=['1738nNkNJt','__webdriver','xrcxZ','node','test_start','../../../helpers/helper','projectName','failFastActive','getInstance','uHmxW','failFast','browserStackGlobals','5eVDVFf','getTestEnvironment','../../../index','FRAMEWORKS','projectConfig','driver','browserstackAgentV2','testContext','FfXSf','cwd','uIxUj','84957GlkZHv','message','155226CJtKgE','fhLyO','40XeRknK','IGYVU','VXQFY','jest-config','\x20>\x20','Error\x20in\x20fail-fast\x20test_done\x20handler:','isTrue','71vLufpp','IXFvS','isArray','../../../helpers/test-observability/utils','GyPlF','browserStackPercyOptions','WZiFi','percyCaptureMode','__timeout','jest-resolve','default','__skipSessionStatus','resolveTestEnvironment','cyYJF','skipSessionStatus','710264DXfuRV','7|5|6|1|3|4|0|2','split','pyiuf','fCQPC','test_done','browserstackPercyBestPlatform','exports','BSTACK_JEST_TEST_ENV','percy','gIxkk','fbGVs','pDqbv','../../../helpers/testhub/utils','capability','debug','global','browserstackPlatformIndex','EWTWc','cleanup','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','jestConfig','builder','NDetQ','skipSessionName','setup','KiEmA','9EOSJQY','27790OSCbdD','XywOR','Builder','platformCaps','../../../helpers/test-orchestration/failfastManager','teardown','isNotUndefined','testEnvironmentOptions','retries__','framework','info','fNmpw','FHUCd','sessionNameProvided','errors','test','__esModule','qansi','env','quit','844956zzibiJ','requireSeleniumWebdriver','1104838vATXLO','testPath','buildName','605QpVXiF','nestedKeyValue','onTestDone','../test-observability/obsReporter','xYvdW','failFastOptions','mode','join','__driversArray','requireModule','capabilities','lUpzV','JEST','modifyCommand','configuration','skip','__drivers','cdOVN'];a16_0x1cad=function(){return _0x33fd5c;};return a16_0x1cad();}module[a16_0x34d009(0x168)]=CustomEnvironment;