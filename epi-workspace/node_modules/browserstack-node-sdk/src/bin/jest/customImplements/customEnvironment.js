const a16_0xbeb639=a16_0x4809;(function(_0x5788d5,_0x4fab7e){const _0x4a58a3=a16_0x4809,_0xceb34e=_0x5788d5();while(!![]){try{const _0xe95437=parseInt(_0x4a58a3(0x11e))/0x1*(-parseInt(_0x4a58a3(0x135))/0x2)+parseInt(_0x4a58a3(0x139))/0x3+-parseInt(_0x4a58a3(0x13d))/0x4+parseInt(_0x4a58a3(0x103))/0x5+-parseInt(_0x4a58a3(0x11d))/0x6+parseInt(_0x4a58a3(0x11f))/0x7*(-parseInt(_0x4a58a3(0x127))/0x8)+-parseInt(_0x4a58a3(0x12b))/0x9*(-parseInt(_0x4a58a3(0x12e))/0xa);if(_0xe95437===_0x4fab7e)break;else _0xceb34e['push'](_0xceb34e['shift']());}catch(_0x3bbafa){_0xceb34e['push'](_0xceb34e['shift']());}}}(a16_0x1950,0xd3e47));const helper=require(a16_0xbeb639(0x137)),constants=require(a16_0xbeb639(0x10a)),{isTestObservabilitySession}=require(a16_0xbeb639(0x104)),RequestQueueHandler=require(a16_0xbeb639(0x146)),ObservabilityReporter=require(a16_0xbeb639(0x148)),testhubUtils=require('../../../helpers/testhub/utils'),getTestEnvironment=((()=>{const _0xee326f=a16_0xbeb639,_0x11fab3={};_0x11fab3[_0xee326f(0x123)]='jest-resolve',_0x11fab3[_0xee326f(0x108)]=_0xee326f(0x121);const _0x23ecf3=_0x11fab3;try{const _0x2421ef=helper['requireModule'](_0x23ecf3[_0xee326f(0x123)]);if(_0x2421ef[_0xee326f(0x112)])return _0x2421ef[_0xee326f(0x112)];const _0x6fb6f8=helper[_0xee326f(0x141)](_0x23ecf3[_0xee326f(0x108)]);if(_0x6fb6f8[_0xee326f(0x117)])return _0x6fb6f8[_0xee326f(0x117)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x3709f8=a16_0xbeb639,_0x3dc9dc={'HonMV':function(_0x25ae81,_0x45a977){return _0x25ae81(_0x45a977);},'PCjkb':_0x3709f8(0x130),'KVAmU':function(_0x18c4e7,_0x4db698){return _0x18c4e7(_0x4db698);},'WVyZO':'jest-environment-node','MvhlP':function(_0x3cf88a,_0x13616a){return _0x3cf88a(_0x13616a);}},_0x58f89f=_0x3dc9dc[_0x3709f8(0x136)](getTestEnvironment,{'rootDir':process[_0x3709f8(0x126)](),'testEnvironment':process['env'][_0x3709f8(0x120)]||_0x3dc9dc['PCjkb']});if(!_0x58f89f)return _0x3dc9dc[_0x3709f8(0xff)](_interopRequireDefault,helper[_0x3709f8(0x141)](_0x3dc9dc[_0x3709f8(0x109)]));return _0x3dc9dc[_0x3709f8(0x102)](_interopRequireDefault,helper[_0x3709f8(0x141)](_0x58f89f));})()),_seleniumWebdriver2=((()=>{const _0x16fc95=a16_0xbeb639,_0x3b4af5={'wkIdv':function(_0x2f4c80,_0x1a24d3){return _0x2f4c80(_0x1a24d3);}};try{const _0xc6a219=helper[_0x16fc95(0x110)]();return helper[_0x16fc95(0x10b)](),_0x3b4af5[_0x16fc95(0xfa)](_interopRequireDefault,_0xc6a219);}catch{return null;}})());function a16_0x4809(_0x2837fe,_0x18b24f){const _0x195016=a16_0x1950();return a16_0x4809=function(_0x48092f,_0xcfb4a4){_0x48092f=_0x48092f-0xfa;let _0x3e9f45=_0x195016[_0x48092f];return _0x3e9f45;},a16_0x4809(_0x2837fe,_0x18b24f);}function a16_0x1950(){const _0x583419=['HonMV','../../../helpers/helper','__timeout','2031882ImTDWi','../../../index','wvDeb','framework','4415392WHJRrr','testEnvironmentOptions','nestedKeyValue','BSTACK_DELTA','requireModule','percyCaptureMode','browserstackAgentV2','split','__webdriver','../../../helpers/test-observability/requestQueueHandler','shutdown','../test-observability/obsReporter','cleanupDrivers','FRAMEWORKS','wkIdv','skipSessionName','cleanup','driver','shouldProcessEventForTesthub','KVAmU','AksSr','Builder','MvhlP','1308635jqXsva','../../../helpers/test-observability/utils','browserstackPlatformIndex','browserStackGlobals','__esModule','hVyrP','WVyZO','../../utils/constants','modifyCommand','platformCaps','registerListeners','__skipSessionStatus','WlVJs','requireSeleniumWebdriver','configuration','resolveTestEnvironment','builder','setup','__driversArray','xUcta','getTestEnvironment','2|4|1|0|3','browserstackPercyBestPlatform','blDoY','default','isTrue','10166676WNbRoy','35621kNnOBn','1225xbQVvw','BSTACK_JEST_TEST_ENV','jest-config','browserStackPercyOptions','EuPIV','ZCnMo','sessionNameProvided','cwd','30872SzQagj','Yismr','vNkQq','testContext','4194YuQbjl','skipSessionStatus','2|9|6|8|0|7|3|4|5|1','86010UMtIcN','percy','node','capability','EEyZH','global','projectConfig','34pUhDzG'];a16_0x1950=function(){return _0x583419;};return a16_0x1950();}function _interopRequireDefault(_0x304bb4){const _0x528389=a16_0xbeb639;return _0x304bb4&&_0x304bb4[_0x528389(0x107)]?_0x304bb4:{'default':_0x304bb4};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0xbeb639(0x11b)][a16_0xbeb639(0x101)]:null;class CustomEnvironment extends _jestUserEnvironment['default']{constructor(_0x8f3f3e){const _0x2d71ae=a16_0xbeb639,_0x470ac5={'xUcta':'quit','LrQbT':_0x2d71ae(0x118),'EEyZH':function(_0xb2b0e9,_0x236319){return _0xb2b0e9+_0x236319;},'XbTdu':_0x2d71ae(0x12d),'AksSr':_0x2d71ae(0x13e),'blDoY':_0x2d71ae(0x122),'wvDeb':_0x2d71ae(0x12f),'vNkQq':_0x2d71ae(0x10c),'Yismr':'percyCaptureMode','WlVJs':'browserstackPercyBestPlatform','pVIfr':function(_0x3db0df,_0x451373){return _0x3db0df(_0x451373);},'cQbdh':_0x2d71ae(0x13a)};super(_0x8f3f3e),this[_0x2d71ae(0x133)]['__timeout']=0x0,this[_0x2d71ae(0x111)]={};!_0x8f3f3e[_0x2d71ae(0x13e)]&&(_0x8f3f3e[_0x2d71ae(0x13e)]={});if(helper['isBrowserstackInfra']()){const _0x2a3d86=_0x470ac5['LrQbT'][_0x2d71ae(0x144)]('|');let _0x2a28ae=0x0;while(!![]){switch(_0x2a3d86[_0x2a28ae++]){case'0':this['capability']=_0x8f3f3e[_0x2d71ae(0x134)]?_0x8f3f3e[_0x2d71ae(0x134)][_0x2d71ae(0x131)]:_0x8f3f3e[_0x2d71ae(0x131)];continue;case'1':this['configuration']=_0x8f3f3e[_0x2d71ae(0x13e)];continue;case'2':_0x8f3f3e[_0x2d71ae(0x13e)]=_0x8f3f3e[_0x2d71ae(0x134)]?_0x8f3f3e[_0x2d71ae(0x134)][_0x2d71ae(0x13e)]:_0x8f3f3e[_0x2d71ae(0x13e)];continue;case'3':this[_0x2d71ae(0x133)][_0x2d71ae(0x138)]=_0x470ac5[_0x2d71ae(0x132)](this[_0x2d71ae(0x111)]['timeout__'],constants[_0x2d71ae(0x140)]);continue;case'4':this[_0x2d71ae(0x113)]=new _seleniumWebdriver2[(_0x2d71ae(0x11b))]['Builder']();continue;}break;}}if(testhubUtils[_0x2d71ae(0xfe)]()){const _0x2eeb11=new ObservabilityReporter();_0x2eeb11[_0x2d71ae(0x10d)]();}this[_0x2d71ae(0x133)][_0x2d71ae(0x106)]={},this[_0x2d71ae(0x111)][_0x2d71ae(0x13c)]=constants[_0x2d71ae(0x14a)]['JEST'];if(_seleniumWebdriver2){const _0x10708a=_0x470ac5['XbTdu'][_0x2d71ae(0x144)]('|');let _0x48d531=0x0;while(!![]){switch(_0x10708a[_0x48d531++]){case'0':this[_0x2d71ae(0x133)][_0x2d71ae(0x12f)]=helper[_0x2d71ae(0x13f)](_0x8f3f3e,[_0x470ac5[_0x2d71ae(0x100)],_0x470ac5['blDoY'],_0x470ac5[_0x2d71ae(0x13b)]]);continue;case'1':this[_0x2d71ae(0x133)][_0x2d71ae(0xfc)]=async()=>{const _0xc99cad=_0x2d71ae;await this[_0xc99cad(0x133)][_0xc99cad(0xfd)]['quit'](_0x470ac5[_0xc99cad(0x116)]);};continue;case'2':this[_0x2d71ae(0x133)]['__drivers']=[];continue;case'3':this['global']['__platformCaps']=helper[_0x2d71ae(0x13f)](this['configuration'],[_0x470ac5[_0x2d71ae(0x129)],this['global'][_0x2d71ae(0x105)]])||{};continue;case'4':helper[_0x2d71ae(0x11c)](this[_0x2d71ae(0x111)][_0x2d71ae(0xfb)])?this[_0x2d71ae(0x133)][_0x2d71ae(0x125)]=!![]:this['global'][_0x2d71ae(0x125)]=![];continue;case'5':this[_0x2d71ae(0x133)][_0x2d71ae(0x10e)]=helper['isTrue'](this['configuration'][_0x2d71ae(0x12c)]);continue;case'6':this['global'][_0x2d71ae(0x105)]=(_0x8f3f3e[_0x2d71ae(0x134)]?_0x8f3f3e[_0x2d71ae(0x134)][_0x2d71ae(0x105)]:_0x8f3f3e[_0x2d71ae(0x105)])||0x0;continue;case'7':this['global'][_0x2d71ae(0x142)]=helper[_0x2d71ae(0x13f)](_0x8f3f3e,[_0x470ac5[_0x2d71ae(0x100)],_0x470ac5[_0x2d71ae(0x11a)],_0x470ac5[_0x2d71ae(0x128)]]);continue;case'8':this[_0x2d71ae(0x133)][_0x2d71ae(0x119)]=helper[_0x2d71ae(0x13f)](_0x8f3f3e,[_0x470ac5[_0x2d71ae(0x100)],_0x470ac5[_0x2d71ae(0x11a)],_0x470ac5[_0x2d71ae(0x10f)]]);continue;case'9':this[_0x2d71ae(0x133)][_0x2d71ae(0x145)]=_0x470ac5['pVIfr'](require,_0x470ac5['cQbdh'])[_0x2d71ae(0x143)]({...this[_0x2d71ae(0x111)],'capability':this['capability']||{}},this,testhubUtils[_0x2d71ae(0xfe)]());continue;}break;}}}async['teardown'](){const _0x54c0d5=a16_0xbeb639;_seleniumWebdriver2&&(await helper[_0x54c0d5(0x149)](this[_0x54c0d5(0x133)][_0x54c0d5(0x115)]),this[_0x54c0d5(0x133)][_0x54c0d5(0x145)]['Builder']=originalBuilder),await RequestQueueHandler['getInstance']()[_0x54c0d5(0x147)]();}async[a16_0xbeb639(0x114)](){}async['handleTestEvent'](_0x137fd0,_0x31b2c2){const _0x39f557=a16_0xbeb639,_0xa022cd={};_0xa022cd['IVYnx']=function(_0x2bf917,_0x2165de){return _0x2bf917===_0x2165de;},_0xa022cd[_0x39f557(0x124)]='test_start';const _0x1223ad=_0xa022cd,{name:_0x41fa9d}=_0x137fd0;_0x1223ad['IVYnx'](_0x41fa9d,_0x1223ad[_0x39f557(0x124)])&&(this[_0x39f557(0x133)][_0x39f557(0x12a)]=_0x137fd0['test']);}}module['exports']=CustomEnvironment;