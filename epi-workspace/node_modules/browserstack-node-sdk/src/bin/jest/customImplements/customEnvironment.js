const a16_0x25bc7b=a16_0x1c33;function a16_0x1c33(_0x62adf2,_0x20263b){const _0x133029=a16_0x1330();return a16_0x1c33=function(_0x1c3371,_0x18e216){_0x1c3371=_0x1c3371-0xab;let _0x38b87b=_0x133029[_0x1c3371];return _0x38b87b;},a16_0x1c33(_0x62adf2,_0x20263b);}(function(_0x93e61d,_0x5e014f){const _0x2c3adc=a16_0x1c33,_0x446ce4=_0x93e61d();while(!![]){try{const _0x3efb7a=parseInt(_0x2c3adc(0xf5))/0x1*(-parseInt(_0x2c3adc(0xda))/0x2)+parseInt(_0x2c3adc(0xd2))/0x3+parseInt(_0x2c3adc(0xb9))/0x4*(parseInt(_0x2c3adc(0xb2))/0x5)+parseInt(_0x2c3adc(0xc3))/0x6+parseInt(_0x2c3adc(0xbf))/0x7+parseInt(_0x2c3adc(0xab))/0x8*(parseInt(_0x2c3adc(0xe3))/0x9)+-parseInt(_0x2c3adc(0xce))/0xa;if(_0x3efb7a===_0x5e014f)break;else _0x446ce4['push'](_0x446ce4['shift']());}catch(_0x4022f7){_0x446ce4['push'](_0x446ce4['shift']());}}}(a16_0x1330,0xa19ec));const helper=require(a16_0x25bc7b(0xdf)),constants=require(a16_0x25bc7b(0xb0)),{isTestObservabilitySession}=require(a16_0x25bc7b(0xb5)),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require(a16_0x25bc7b(0xcd)),testhubUtils=require('../../../helpers/testhub/utils'),getTestEnvironment=((()=>{const _0x248e25=a16_0x25bc7b,_0x3d3288={};_0x3d3288[_0x248e25(0xeb)]=_0x248e25(0xd7),_0x3d3288[_0x248e25(0xf6)]=_0x248e25(0xe0);const _0x22fc29=_0x3d3288;try{const _0x617888=helper['requireModule'](_0x22fc29[_0x248e25(0xeb)]);if(_0x617888[_0x248e25(0xea)])return _0x617888[_0x248e25(0xea)];const _0x41d033=helper[_0x248e25(0xb8)](_0x22fc29[_0x248e25(0xf6)]);if(_0x41d033['getTestEnvironment'])return _0x41d033[_0x248e25(0xcc)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x567088=a16_0x25bc7b,_0x269411={'YMaEQ':function(_0xd51ece,_0x17aaaf){return _0xd51ece(_0x17aaaf);},'PXqpn':_0x567088(0xf7),'itsKT':_0x567088(0xb7),'eRyfP':function(_0x1cd703,_0x584542){return _0x1cd703(_0x584542);}},_0x295f81=_0x269411[_0x567088(0xb3)](getTestEnvironment,{'rootDir':process[_0x567088(0xdb)](),'testEnvironment':process['env'][_0x567088(0xc4)]||_0x269411[_0x567088(0xe9)]});if(!_0x295f81)return _0x269411[_0x567088(0xb3)](_interopRequireDefault,helper[_0x567088(0xb8)](_0x269411[_0x567088(0xd4)]));return _0x269411[_0x567088(0xca)](_interopRequireDefault,helper[_0x567088(0xb8)](_0x295f81));})()),_seleniumWebdriver2=((()=>{const _0x5e685c=a16_0x25bc7b,_0x25270f={'MFddk':function(_0x25e20d,_0x59ee2b){return _0x25e20d(_0x59ee2b);}};try{const _0x282b9f=helper[_0x5e685c(0xde)]();return helper['modifyCommand'](),_0x25270f['MFddk'](_interopRequireDefault,_0x282b9f);}catch{return null;}})());function _interopRequireDefault(_0x236fa9){const _0x30baa8=a16_0x25bc7b;return _0x236fa9&&_0x236fa9[_0x30baa8(0xb1)]?_0x236fa9:{'default':_0x236fa9};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2['default'][a16_0x25bc7b(0xe5)]:null;function a16_0x1330(){const _0x487920=['ePoma','4830252SoGXld','BSTACK_JEST_TEST_ENV','LCMLp','__platformCaps','timeout__','capability','FRAMEWORKS','eRyfP','framework','getTestEnvironment','../test-observability/obsReporter','19621380jnOINQ','__timeout','test','browserStackGlobals','2303277JnQRSO','global','itsKT','configuration','mXklb','jest-resolve','ULWHT','aikNZ','454SCXiWt','cwd','isBrowserstackInfra','xGztX','requireSeleniumWebdriver','../../../helpers/helper','jest-config','cleanup','__driversArray','152325sDZSLv','shouldProcessEventForTesthub','Builder','testContext','__skipSessionStatus','platformCaps','PXqpn','resolveTestEnvironment','qyYji','testEnvironmentOptions','builder','iZNzi','cleanupDrivers','JVlQw','nestedKeyValue','shutdown','browserstackAgentV2','isTrue','3038MVXUzu','lyvSM','node','percyCaptureMode','emVkx','nUcsO','setup','376DlZTDe','quit','browserstackPlatformIndex','test_start','percy','../../utils/constants','__esModule','115XvXWLJ','YMaEQ','../../../index','../../../helpers/test-observability/utils','2|0|3|1|4','jest-environment-node','requireModule','80748cQCknN','getInstance','BSTACK_DELTA','__webdriver','projectConfig','browserStackPercyOptions','3368281IlSLtk','__drivers','browserstackPercyBestPlatform'];a16_0x1330=function(){return _0x487920;};return a16_0x1330();}class CustomEnvironment extends _jestUserEnvironment['default']{constructor(_0x2df1d7){const _0x136189=a16_0x25bc7b,_0x41197a={'aikNZ':_0x136189(0xac),'QOAMJ':_0x136189(0xb6),'MPcPU':function(_0x4bbb93,_0x411074){return _0x4bbb93+_0x411074;},'JVlQw':'4|7|0|5|3|1|2|8|6|9','mXklb':_0x136189(0xec),'ULWHT':_0x136189(0xbe),'bFzhz':_0x136189(0xf8),'iZNzi':_0x136189(0xe8),'Wmyvm':_0x136189(0xaf),'LCMLp':_0x136189(0xc1),'ePoma':function(_0x17c350,_0xff141f){return _0x17c350(_0xff141f);},'emVkx':_0x136189(0xb4)};super(_0x2df1d7),this[_0x136189(0xd3)][_0x136189(0xcf)]=0x0,this[_0x136189(0xd5)]={};!_0x2df1d7[_0x136189(0xec)]&&(_0x2df1d7['testEnvironmentOptions']={});if(helper[_0x136189(0xdc)]()){const _0x2e603d=_0x41197a['QOAMJ']['split']('|');let _0x5981c1=0x0;while(!![]){switch(_0x2e603d[_0x5981c1++]){case'0':this[_0x136189(0xed)]=new _seleniumWebdriver2['default'][(_0x136189(0xe5))]();continue;case'1':this[_0x136189(0xc8)]=_0x2df1d7[_0x136189(0xbd)]?_0x2df1d7[_0x136189(0xbd)][_0x136189(0xc8)]:_0x2df1d7[_0x136189(0xc8)];continue;case'2':_0x2df1d7[_0x136189(0xec)]=_0x2df1d7['projectConfig']?_0x2df1d7[_0x136189(0xbd)][_0x136189(0xec)]:_0x2df1d7[_0x136189(0xec)];continue;case'3':this[_0x136189(0xd5)]=_0x2df1d7[_0x136189(0xec)];continue;case'4':this[_0x136189(0xd3)]['__timeout']=_0x41197a['MPcPU'](this[_0x136189(0xd5)][_0x136189(0xc7)],constants[_0x136189(0xbb)]);continue;}break;}}if(testhubUtils[_0x136189(0xe4)]()){const _0x5782f=new ObservabilityReporter();_0x5782f['registerListeners']();}this[_0x136189(0xd3)][_0x136189(0xd1)]={},this[_0x136189(0xd5)][_0x136189(0xcb)]=constants[_0x136189(0xc9)]['JEST'];if(_seleniumWebdriver2){const _0x4cc8b6=_0x41197a[_0x136189(0xf0)]['split']('|');let _0x5ee138=0x0;while(!![]){switch(_0x4cc8b6[_0x5ee138++]){case'0':this['global'][_0x136189(0xad)]=(_0x2df1d7[_0x136189(0xbd)]?_0x2df1d7['projectConfig']['browserstackPlatformIndex']:_0x2df1d7[_0x136189(0xad)])||0x0;continue;case'1':this[_0x136189(0xd3)][_0x136189(0xf8)]=helper[_0x136189(0xf1)](_0x2df1d7,[_0x41197a[_0x136189(0xd6)],_0x41197a['ULWHT'],_0x41197a['bFzhz']]);continue;case'2':this[_0x136189(0xd3)][_0x136189(0xc6)]=helper[_0x136189(0xf1)](this[_0x136189(0xd5)],[_0x41197a[_0x136189(0xee)],this['global'][_0x136189(0xad)]])||{};continue;case'3':this[_0x136189(0xd3)]['percy']=helper[_0x136189(0xf1)](_0x2df1d7,[_0x41197a[_0x136189(0xd6)],_0x41197a[_0x136189(0xd8)],_0x41197a['Wmyvm']]);continue;case'4':this[_0x136189(0xd3)][_0x136189(0xc0)]=[];continue;case'5':this[_0x136189(0xd3)][_0x136189(0xc1)]=helper[_0x136189(0xf1)](_0x2df1d7,[_0x41197a[_0x136189(0xd6)],_0x41197a[_0x136189(0xd8)],_0x41197a[_0x136189(0xc5)]]);continue;case'6':this['global'][_0x136189(0xe7)]=helper[_0x136189(0xf4)](this[_0x136189(0xd5)]['skipSessionStatus']);continue;case'7':this[_0x136189(0xd3)]['__webdriver']=_0x41197a[_0x136189(0xc2)](require,_0x41197a[_0x136189(0xf9)])[_0x136189(0xf3)]({...this[_0x136189(0xd5)],'capability':this[_0x136189(0xc8)]||{}},this,testhubUtils[_0x136189(0xe4)]());continue;case'8':helper[_0x136189(0xf4)](this['configuration']['skipSessionName'])?this[_0x136189(0xd3)]['sessionNameProvided']=!![]:this[_0x136189(0xd3)]['sessionNameProvided']=![];continue;case'9':this['global'][_0x136189(0xe1)]=async()=>{const _0x255f50=_0x136189;await this['global']['driver'][_0x255f50(0xac)](_0x41197a[_0x255f50(0xd9)]);};continue;}break;}}}async['teardown'](){const _0x10a29a=a16_0x25bc7b;_seleniumWebdriver2&&(await helper[_0x10a29a(0xef)](this['global'][_0x10a29a(0xe2)]),this[_0x10a29a(0xd3)][_0x10a29a(0xbc)]['Builder']=originalBuilder),await RequestQueueHandler[_0x10a29a(0xba)]()[_0x10a29a(0xf2)]();}async[a16_0x25bc7b(0xfb)](){}async['handleTestEvent'](_0x13f466,_0x10e7c2){const _0x5aa505=a16_0x25bc7b,_0x4d7020={};_0x4d7020[_0x5aa505(0xfa)]=function(_0x5287c8,_0x1b44ae){return _0x5287c8===_0x1b44ae;},_0x4d7020[_0x5aa505(0xdd)]=_0x5aa505(0xae);const _0x3c3113=_0x4d7020,{name:_0x4e2c31}=_0x13f466;_0x3c3113['nUcsO'](_0x4e2c31,_0x3c3113[_0x5aa505(0xdd)])&&(this[_0x5aa505(0xd3)][_0x5aa505(0xe6)]=_0x13f466[_0x5aa505(0xd0)]);}}module['exports']=CustomEnvironment;