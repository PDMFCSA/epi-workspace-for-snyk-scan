const a16_0x4344c6=a16_0x2d49;function a16_0x3b68(){const _0x87cfc5=['getTestEnvironment','handleTestEvent','nLiKN','85GfbvVl','940138PWCZYz','ATpcY','../../../helpers/test-observability/requestQueueHandler','cwd','skipSessionStatus','iNzvW','sessionNameProvided','BzqXd','testContext','browserStackGlobals','NfVYS','550clnOXO','isTrue','__esModule','0|3|1|4|2','81864LmhDwc','__skipSessionStatus','jthrg','__drivers','210702xJtgtW','8280432hEWfKM','STgCC','requireModule','../../../helpers/testhub/utils','BSTACK_DELTA','MdIkU','JEST','670356BhPFEv','jest-environment-node','jest-resolve','quit','__timeout','driver','__platformCaps','global','capability','percy','zrElA','11139HtHjVA','split','zhUik','registerListeners','nestedKeyValue','test','prTAL','938YmEdKP','testEnvironmentOptions','21557987LucmNF','../test-observability/obsReporter','DVtGB','zVPXy','env','zrGFC','test_start','ygqHl','../../utils/constants','paTTq','__webdriver','Builder','configuration','10cXIrRw','browserStackPercyOptions','browserstackAgentV2','default','teardown','../../../helpers/helper','shouldProcessEventForTesthub','platformCaps','percyCaptureMode','skipSessionName','framework','exports','setup','browserstackPlatformIndex','browserstackPercyBestPlatform','UhoZM','BSTACK_JEST_TEST_ENV','shutdown','projectConfig'];a16_0x3b68=function(){return _0x87cfc5;};return a16_0x3b68();}(function(_0x40b40d,_0x23b9a9){const _0x41b885=a16_0x2d49,_0x3edbf5=_0x40b40d();while(!![]){try{const _0xe8c31=parseInt(_0x41b885(0xb3))/0x1+parseInt(_0x41b885(0xbe))/0x2*(-parseInt(_0x41b885(0xd9))/0x3)+parseInt(_0x41b885(0xce))/0x4+parseInt(_0x41b885(0xb2))/0x5*(-parseInt(_0x41b885(0xc6))/0x6)+-parseInt(_0x41b885(0xe0))/0x7*(parseInt(_0x41b885(0xc2))/0x8)+parseInt(_0x41b885(0xc7))/0x9+parseInt(_0x41b885(0x9c))/0xa*(parseInt(_0x41b885(0xe2))/0xb);if(_0xe8c31===_0x23b9a9)break;else _0x3edbf5['push'](_0x3edbf5['shift']());}catch(_0x5edccd){_0x3edbf5['push'](_0x3edbf5['shift']());}}}(a16_0x3b68,0xf3ba2));const helper=require(a16_0x4344c6(0xa1)),constants=require(a16_0x4344c6(0xea)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require(a16_0x4344c6(0xb5)),ObservabilityReporter=require(a16_0x4344c6(0xe3)),testhubUtils=require(a16_0x4344c6(0xca)),getTestEnvironment=((()=>{const _0xd4eea3=a16_0x4344c6,_0x33d152={};_0x33d152['HGlAG']=_0xd4eea3(0xd0),_0x33d152[_0xd4eea3(0xb8)]='jest-config';const _0x543886=_0x33d152;try{const _0x319aef=helper[_0xd4eea3(0xc9)](_0x543886['HGlAG']);if(_0x319aef['resolveTestEnvironment'])return _0x319aef['resolveTestEnvironment'];const _0x5372d8=helper[_0xd4eea3(0xc9)](_0x543886[_0xd4eea3(0xb8)]);if(_0x5372d8[_0xd4eea3(0xaf)])return _0x5372d8[_0xd4eea3(0xaf)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0xf81bb6=a16_0x4344c6,_0x271bdb={'prTAL':function(_0x3a0a39,_0x27383e){return _0x3a0a39(_0x27383e);},'zVPXy':'node','jthrg':_0xf81bb6(0xcf)},_0x5f6fa4=_0x271bdb[_0xf81bb6(0xdf)](getTestEnvironment,{'rootDir':process[_0xf81bb6(0xb6)](),'testEnvironment':process[_0xf81bb6(0xe6)][_0xf81bb6(0xac)]||_0x271bdb[_0xf81bb6(0xe5)]});if(!_0x5f6fa4)return _0x271bdb[_0xf81bb6(0xdf)](_interopRequireDefault,helper[_0xf81bb6(0xc9)](_0x271bdb[_0xf81bb6(0xc4)]));return _0x271bdb[_0xf81bb6(0xdf)](_interopRequireDefault,helper[_0xf81bb6(0xc9)](_0x5f6fa4));})()),_seleniumWebdriver2=((()=>{const _0x57b2a8=a16_0x4344c6,_0x4672a0={'DVtGB':function(_0x5e7708,_0x25c7ef){return _0x5e7708(_0x25c7ef);}};try{const _0x5efe8a=helper['requireSeleniumWebdriver']();return helper['modifyCommand'](),_0x4672a0[_0x57b2a8(0xe4)](_interopRequireDefault,_0x5efe8a);}catch{return null;}})());function _interopRequireDefault(_0x4e856c){const _0x5a7324=a16_0x4344c6;return _0x4e856c&&_0x4e856c[_0x5a7324(0xc0)]?_0x4e856c:{'default':_0x4e856c};}function a16_0x2d49(_0xd5bf15,_0x28bc9f){const _0x3b68e8=a16_0x3b68();return a16_0x2d49=function(_0x2d49e6,_0x572d33){_0x2d49e6=_0x2d49e6-0x99;let _0x30bc67=_0x3b68e8[_0x2d49e6];return _0x30bc67;},a16_0x2d49(_0xd5bf15,_0x28bc9f);}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x4344c6(0x9f)][a16_0x4344c6(0x9a)]:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x4344c6(0x9f)]{constructor(_0x3a3a34){const _0x948a7e=a16_0x4344c6,_0x5edc58={'NVzgz':_0x948a7e(0xd1),'STgCC':_0x948a7e(0xc1),'BzqXd':function(_0x13d83a,_0xc0cd6){return _0x13d83a+_0xc0cd6;},'zrGFC':'5|6|8|2|0|9|1|4|3|7','UhoZM':_0x948a7e(0xe1),'NfVYS':_0x948a7e(0x9d),'paTTq':'percy','MdIkU':_0x948a7e(0xa3),'ygqHl':_0x948a7e(0xaa),'zhUik':function(_0x33ac31,_0x30548a){return _0x33ac31(_0x30548a);},'WlUMf':'../../../index','nLiKN':_0x948a7e(0xa4)};super(_0x3a3a34),this[_0x948a7e(0xd5)]['__timeout']=0x0,this[_0x948a7e(0x9b)]={};!_0x3a3a34[_0x948a7e(0xe1)]&&(_0x3a3a34['testEnvironmentOptions']={});if(helper['isBrowserstackInfra']()){const _0x1f6b3e=_0x5edc58[_0x948a7e(0xc8)][_0x948a7e(0xda)]('|');let _0x59e449=0x0;while(!![]){switch(_0x1f6b3e[_0x59e449++]){case'0':_0x3a3a34[_0x948a7e(0xe1)]=_0x3a3a34[_0x948a7e(0xae)]?_0x3a3a34[_0x948a7e(0xae)]['testEnvironmentOptions']:_0x3a3a34[_0x948a7e(0xe1)];continue;case'1':this[_0x948a7e(0x9b)]=_0x3a3a34['testEnvironmentOptions'];continue;case'2':this['global'][_0x948a7e(0xd2)]=_0x5edc58[_0x948a7e(0xba)](this[_0x948a7e(0x9b)]['timeout__'],constants[_0x948a7e(0xcb)]);continue;case'3':this['builder']=new _seleniumWebdriver2['default']['Builder']();continue;case'4':this[_0x948a7e(0xd6)]=_0x3a3a34[_0x948a7e(0xae)]?_0x3a3a34[_0x948a7e(0xae)][_0x948a7e(0xd6)]:_0x3a3a34[_0x948a7e(0xd6)];continue;}break;}}if(testhubUtils[_0x948a7e(0xa2)]()){const _0x82f062=new ObservabilityReporter();_0x82f062[_0x948a7e(0xdc)]();}this[_0x948a7e(0xd5)][_0x948a7e(0xbc)]={},this[_0x948a7e(0x9b)][_0x948a7e(0xa6)]=constants['FRAMEWORKS'][_0x948a7e(0xcd)];if(_seleniumWebdriver2){const _0x280cf1=_0x5edc58[_0x948a7e(0xe7)][_0x948a7e(0xda)]('|');let _0x2f69cb=0x0;while(!![]){switch(_0x280cf1[_0x2f69cb++]){case'0':this['global'][_0x948a7e(0xd7)]=helper[_0x948a7e(0xdd)](_0x3a3a34,[_0x5edc58[_0x948a7e(0xab)],_0x5edc58[_0x948a7e(0xbd)],_0x5edc58[_0x948a7e(0xeb)]]);continue;case'1':this[_0x948a7e(0xd5)][_0x948a7e(0xd4)]=helper[_0x948a7e(0xdd)](this[_0x948a7e(0x9b)],[_0x5edc58[_0x948a7e(0xcc)],this[_0x948a7e(0xd5)][_0x948a7e(0xa9)]])||{};continue;case'2':this[_0x948a7e(0xd5)][_0x948a7e(0xaa)]=helper[_0x948a7e(0xdd)](_0x3a3a34,[_0x5edc58[_0x948a7e(0xab)],_0x5edc58['NfVYS'],_0x5edc58[_0x948a7e(0xe9)]]);continue;case'3':this[_0x948a7e(0xd5)][_0x948a7e(0xc3)]=helper['isTrue'](this[_0x948a7e(0x9b)][_0x948a7e(0xb7)]);continue;case'4':helper[_0x948a7e(0xbf)](this[_0x948a7e(0x9b)][_0x948a7e(0xa5)])?this[_0x948a7e(0xd5)][_0x948a7e(0xb9)]=!![]:this[_0x948a7e(0xd5)][_0x948a7e(0xb9)]=![];continue;case'5':this[_0x948a7e(0xd5)][_0x948a7e(0xc5)]=[];continue;case'6':this[_0x948a7e(0xd5)][_0x948a7e(0x99)]=_0x5edc58[_0x948a7e(0xdb)](require,_0x5edc58['WlUMf'])[_0x948a7e(0x9e)]({...this['configuration'],'capability':this['capability']||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;case'7':this[_0x948a7e(0xd5)]['cleanup']=async()=>{const _0x147d4b=_0x948a7e;await this[_0x147d4b(0xd5)][_0x147d4b(0xd3)][_0x147d4b(0xd1)](_0x5edc58['NVzgz']);};continue;case'8':this[_0x948a7e(0xd5)][_0x948a7e(0xa9)]=(_0x3a3a34[_0x948a7e(0xae)]?_0x3a3a34[_0x948a7e(0xae)][_0x948a7e(0xa9)]:_0x3a3a34['browserstackPlatformIndex'])||0x0;continue;case'9':this[_0x948a7e(0xd5)][_0x948a7e(0xa4)]=helper[_0x948a7e(0xdd)](_0x3a3a34,[_0x5edc58['UhoZM'],_0x5edc58['NfVYS'],_0x5edc58[_0x948a7e(0xb1)]]);continue;}break;}}}async[a16_0x4344c6(0xa0)](){const _0x3a7c8b=a16_0x4344c6;_seleniumWebdriver2&&(await helper['cleanupDrivers'](this['global']['__driversArray']),this[_0x3a7c8b(0xd5)][_0x3a7c8b(0x99)]['Builder']=originalBuilder),await RequestQueueHandler['getInstance']()[_0x3a7c8b(0xad)]();}async[a16_0x4344c6(0xa8)](){}async[a16_0x4344c6(0xb0)](_0x375f55,_0xf37ee5){const _0x583ede=a16_0x4344c6,_0x9c9ddf={};_0x9c9ddf['zrElA']=function(_0x4384e8,_0x3cee84){return _0x4384e8===_0x3cee84;},_0x9c9ddf[_0x583ede(0xb4)]=_0x583ede(0xe8);const _0x498d7c=_0x9c9ddf,{name:_0x215837}=_0x375f55;_0x498d7c[_0x583ede(0xd8)](_0x215837,_0x498d7c[_0x583ede(0xb4)])&&(this[_0x583ede(0xd5)][_0x583ede(0xbb)]=_0x375f55[_0x583ede(0xde)]);}}module[a16_0x4344c6(0xa7)]=CustomEnvironment;