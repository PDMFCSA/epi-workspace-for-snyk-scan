const a18_0x40df96=a18_0x1c9e;function a18_0x1c9e(_0x1b958d,_0x57efae){const _0x4a0395=a18_0x4a03();return a18_0x1c9e=function(_0x1c9e56,_0x55635e){_0x1c9e56=_0x1c9e56-0x111;let _0x21614d=_0x4a0395[_0x1c9e56];return _0x21614d;},a18_0x1c9e(_0x1b958d,_0x57efae);}(function(_0x5c67fc,_0x3b9c12){const _0x1311a1=a18_0x1c9e,_0x1ab0cd=_0x5c67fc();while(!![]){try{const _0x50c023=parseInt(_0x1311a1(0x12a))/0x1*(-parseInt(_0x1311a1(0x13e))/0x2)+parseInt(_0x1311a1(0x12d))/0x3*(-parseInt(_0x1311a1(0x153))/0x4)+-parseInt(_0x1311a1(0x17b))/0x5+parseInt(_0x1311a1(0x11d))/0x6*(parseInt(_0x1311a1(0x145))/0x7)+-parseInt(_0x1311a1(0x119))/0x8*(-parseInt(_0x1311a1(0x174))/0x9)+-parseInt(_0x1311a1(0x16b))/0xa+-parseInt(_0x1311a1(0x176))/0xb*(-parseInt(_0x1311a1(0x163))/0xc);if(_0x50c023===_0x3b9c12)break;else _0x1ab0cd['push'](_0x1ab0cd['shift']());}catch(_0x37eec9){_0x1ab0cd['push'](_0x1ab0cd['shift']());}}}(a18_0x4a03,0x991be));const helper=require(a18_0x40df96(0x12f)),constants=require(a18_0x40df96(0x15d)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require(a18_0x40df96(0x111)),ObservabilityReporter=require(a18_0x40df96(0x148)),testhubUtils=require(a18_0x40df96(0x134)),logger=require(a18_0x40df96(0x166))[a18_0x40df96(0x15c)],getTestEnvironment=((()=>{const _0x21547a=a18_0x40df96,_0x3af4d6={};_0x3af4d6[_0x21547a(0x13b)]=_0x21547a(0x180),_0x3af4d6[_0x21547a(0x17e)]='jest-config';const _0x46a99e=_0x3af4d6;try{const _0xd18708=helper[_0x21547a(0x125)](_0x46a99e[_0x21547a(0x13b)]);if(_0xd18708[_0x21547a(0x115)])return _0xd18708['resolveTestEnvironment'];const _0x36f475=helper['requireModule'](_0x46a99e[_0x21547a(0x17e)]);if(_0x36f475['getTestEnvironment'])return _0x36f475[_0x21547a(0x17c)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x20afea=a18_0x40df96,_0x3bfd06={'ZQtze':function(_0x1fd4f4,_0x698b91){return _0x1fd4f4(_0x698b91);},'eUAuM':_0x20afea(0x132),'OLqHd':_0x20afea(0x149)},_0x256d07=_0x3bfd06[_0x20afea(0x17a)](getTestEnvironment,{'rootDir':process[_0x20afea(0x130)](),'testEnvironment':process[_0x20afea(0x116)]['BSTACK_JEST_TEST_ENV']||_0x3bfd06[_0x20afea(0x14d)]});if(!_0x256d07)return _0x3bfd06[_0x20afea(0x17a)](_interopRequireDefault,helper['requireModule'](_0x3bfd06[_0x20afea(0x171)]));return _0x3bfd06[_0x20afea(0x17a)](_interopRequireDefault,helper[_0x20afea(0x125)](_0x256d07));})()),_seleniumWebdriver2=((()=>{const _0x44e48f=a18_0x40df96,_0x2dff2e={'osrLv':function(_0x21831c,_0x52ecb6){return _0x21831c(_0x52ecb6);}};try{const _0x5e5438=helper[_0x44e48f(0x120)]();return helper[_0x44e48f(0x150)](),_0x2dff2e[_0x44e48f(0x114)](_interopRequireDefault,_0x5e5438);}catch{return null;}})());function _interopRequireDefault(_0x25611c){return _0x25611c&&_0x25611c['__esModule']?_0x25611c:{'default':_0x25611c};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2['default'][a18_0x40df96(0x16d)]:null;class CustomEnvironment extends _jestUserEnvironment['default']{constructor(_0x4295f1){const _0x2038c4=a18_0x40df96,_0x455625={'XMwaR':_0x2038c4(0x15a),'AuFrL':function(_0x49a0a4,_0x55a81d){return _0x49a0a4+_0x55a81d;},'GExSD':'bstack:options','ACuke':function(_0x1d2738,_0x5b9bed){return _0x1d2738(_0x5b9bed);},'bnEnv':'../../../helpers/test-orchestration/failfastManager','jwHVw':_0x2038c4(0x12e),'JqTTz':_0x2038c4(0x124),'ESshv':_0x2038c4(0x14a),'VeOMg':_0x2038c4(0x144),'WHjyl':_0x2038c4(0x172),'lrQKq':_0x2038c4(0x167),'YGRBO':_0x2038c4(0x14b),'CGidh':_0x2038c4(0x11a)};super(_0x4295f1),this[_0x2038c4(0x128)][_0x2038c4(0x173)]=0x0,this['configuration']={};!_0x4295f1[_0x2038c4(0x124)]&&(_0x4295f1[_0x2038c4(0x124)]={});if(helper['isBrowserstackInfra']()){_0x4295f1['testEnvironmentOptions']=_0x4295f1[_0x2038c4(0x135)]?_0x4295f1[_0x2038c4(0x135)]['testEnvironmentOptions']:_0x4295f1[_0x2038c4(0x124)],this[_0x2038c4(0x11b)]=new _seleniumWebdriver2['default'][(_0x2038c4(0x16d))](),this[_0x2038c4(0x154)]=_0x4295f1[_0x2038c4(0x135)]?_0x4295f1[_0x2038c4(0x135)][_0x2038c4(0x154)]:_0x4295f1[_0x2038c4(0x154)],this[_0x2038c4(0x128)][_0x2038c4(0x173)]=_0x455625['AuFrL'](this[_0x2038c4(0x178)]['timeout__'],constants['BSTACK_DELTA']),this[_0x2038c4(0x140)]=_0x4295f1[_0x2038c4(0x124)][_0x2038c4(0x123)];if(this[_0x2038c4(0x140)]){const _0x4a5446=this[_0x2038c4(0x154)][_0x455625[_0x2038c4(0x175)]]?.[_0x2038c4(0x141)]||'',_0x178cf9=this[_0x2038c4(0x154)][_0x455625[_0x2038c4(0x175)]]?.[_0x2038c4(0x170)]||'';this[_0x2038c4(0x123)]=new(_0x455625[_0x2038c4(0x157)](require,_0x455625[_0x2038c4(0x15f)]))(this[_0x2038c4(0x140)],_0x4a5446,_0x178cf9),this[_0x2038c4(0x128)][_0x2038c4(0x156)]=![];}helper[_0x2038c4(0x13d)](this[_0x2038c4(0x178)][_0x2038c4(0x165)])&&(this['global']['__jestRetries']=this[_0x2038c4(0x178)][_0x2038c4(0x165)]);}if(testhubUtils[_0x2038c4(0x162)]()){const _0x48419f=new ObservabilityReporter();_0x48419f[_0x2038c4(0x14c)]();}this[_0x2038c4(0x128)][_0x2038c4(0x139)]={},this['configuration']=_0x4295f1[_0x2038c4(0x124)],this[_0x2038c4(0x178)]['framework']=constants[_0x2038c4(0x179)]['JEST'];if(_seleniumWebdriver2){const _0x3b99ce=_0x455625[_0x2038c4(0x168)]['split']('|');let _0x311f2e=0x0;while(!![]){switch(_0x3b99ce[_0x311f2e++]){case'0':helper[_0x2038c4(0x17f)](this['configuration'][_0x2038c4(0x138)])?this[_0x2038c4(0x128)][_0x2038c4(0x159)]=!![]:this[_0x2038c4(0x128)]['sessionNameProvided']=![];continue;case'1':this['global'][_0x2038c4(0x16c)]=[];continue;case'2':this[_0x2038c4(0x128)]['percy']=helper[_0x2038c4(0x147)](_0x4295f1,[_0x455625[_0x2038c4(0x160)],_0x455625['ESshv'],_0x455625['VeOMg']]);continue;case'3':this[_0x2038c4(0x128)][_0x2038c4(0x14f)]=helper[_0x2038c4(0x17f)](this['configuration']['skipSessionStatus']);continue;case'4':this[_0x2038c4(0x128)][_0x2038c4(0x172)]=helper[_0x2038c4(0x147)](_0x4295f1,[_0x455625[_0x2038c4(0x160)],_0x455625[_0x2038c4(0x151)],_0x455625[_0x2038c4(0x11e)]]);continue;case'5':this[_0x2038c4(0x128)][_0x2038c4(0x142)]=_0x455625[_0x2038c4(0x157)](require,_0x455625[_0x2038c4(0x143)])['browserstackAgentV2']({...this[_0x2038c4(0x178)],'capability':this[_0x2038c4(0x154)]||{}},this,testhubUtils[_0x2038c4(0x162)]());continue;case'6':this['global'][_0x2038c4(0x14b)]=helper[_0x2038c4(0x147)](_0x4295f1,[_0x455625['JqTTz'],_0x455625[_0x2038c4(0x151)],_0x455625[_0x2038c4(0x16e)]]);continue;case'7':this[_0x2038c4(0x128)][_0x2038c4(0x14e)]=async()=>{const _0x2fbb51=_0x2038c4;await this[_0x2fbb51(0x128)][_0x2fbb51(0x126)][_0x2fbb51(0x15a)](_0x455625[_0x2fbb51(0x12b)]);};continue;case'8':this[_0x2038c4(0x128)][_0x2038c4(0x15b)]=helper[_0x2038c4(0x147)](this[_0x2038c4(0x178)],[_0x455625['CGidh'],this[_0x2038c4(0x128)][_0x2038c4(0x12c)]])||{};continue;case'9':this[_0x2038c4(0x128)][_0x2038c4(0x12c)]=(_0x4295f1[_0x2038c4(0x135)]?_0x4295f1['projectConfig']['browserstackPlatformIndex']:_0x4295f1[_0x2038c4(0x12c)])||0x0;continue;}break;}}}async[a18_0x40df96(0x112)](){const _0x57800c=a18_0x40df96;_seleniumWebdriver2&&(await helper[_0x57800c(0x13a)](this[_0x57800c(0x128)]['__driversArray']),this[_0x57800c(0x128)][_0x57800c(0x142)][_0x57800c(0x16d)]=originalBuilder),await RequestQueueHandler[_0x57800c(0x152)]()[_0x57800c(0x169)]();}async[a18_0x40df96(0x177)](){}async['handleTestEvent'](_0x2aac32,_0x73e6a0){const _0x1fbd67=a18_0x40df96,_0x4a9fc3={};_0x4a9fc3[_0x1fbd67(0x136)]=function(_0x56f697,_0xfd097c){return _0x56f697===_0xfd097c;},_0x4a9fc3[_0x1fbd67(0x17d)]=_0x1fbd67(0x117),_0x4a9fc3[_0x1fbd67(0x13c)]=function(_0x661d6d,_0x27b149){return _0x661d6d===_0x27b149;},_0x4a9fc3[_0x1fbd67(0x122)]=_0x1fbd67(0x118),_0x4a9fc3['rjfxV']=_0x1fbd67(0x16f),_0x4a9fc3[_0x1fbd67(0x137)]=_0x1fbd67(0x146),_0x4a9fc3[_0x1fbd67(0x11f)]=function(_0x1f3d9c,_0x12e1b0){return _0x1f3d9c===_0x12e1b0;},_0x4a9fc3['xdfio']=_0x1fbd67(0x15e),_0x4a9fc3[_0x1fbd67(0x11c)]=_0x1fbd67(0x112);const _0x5684e6=_0x4a9fc3,{name:_0x53f468}=_0x2aac32;if(_0x5684e6[_0x1fbd67(0x136)](_0x53f468,_0x5684e6[_0x1fbd67(0x17d)])){this[_0x1fbd67(0x128)][_0x1fbd67(0x113)]=_0x2aac32['test'];if(_0x5684e6['hLxkQ'](this[_0x1fbd67(0x128)][_0x1fbd67(0x156)],!![])){const _0x4ab0b9=_0x2aac32[_0x1fbd67(0x127)][_0x1fbd67(0x16a)];logger[_0x1fbd67(0x133)]('Fail-fast\x20is\x20active,\x20skipping\x20test::\x20'+_0x4ab0b9),_0x2aac32[_0x1fbd67(0x127)][_0x1fbd67(0x129)]=_0x5684e6[_0x1fbd67(0x122)];}}if(this['failFast']&&_0x5684e6[_0x1fbd67(0x13c)](_0x53f468,_0x5684e6['rjfxV']))try{const _0x5c1e77=_0x2aac32[_0x1fbd67(0x127)][_0x1fbd67(0x161)]['join'](_0x5684e6[_0x1fbd67(0x137)]),_0x34f0b2=_0x2aac32[_0x1fbd67(0x127)][_0x1fbd67(0x158)];await this[_0x1fbd67(0x123)][_0x1fbd67(0x164)](_0x5c1e77,_0x34f0b2);const _0x1f8a75=await this[_0x1fbd67(0x123)][_0x1fbd67(0x13f)]();_0x5684e6['hLxkQ'](this['global'][_0x1fbd67(0x156)],![])&&_0x5684e6[_0x1fbd67(0x11f)](_0x1f8a75,!![])&&(this[_0x1fbd67(0x128)][_0x1fbd67(0x156)]=!![]);}catch(_0x16b130){logger['debug'](_0x5684e6[_0x1fbd67(0x131)],_0x16b130[_0x1fbd67(0x155)]);}_0x5684e6[_0x1fbd67(0x136)](_0x53f468,_0x5684e6[_0x1fbd67(0x11c)])&&(this[_0x1fbd67(0x123)]&&this[_0x1fbd67(0x123)][_0x1fbd67(0x14e)]());}}function a18_0x4a03(){const _0x3a5a94=['14446487DrRreg','setup','configuration','FRAMEWORKS','ZQtze','2070105ifHxbJ','getTestEnvironment','RLJzI','XcxQl','isTrue','jest-resolve','../../../helpers/test-observability/requestQueueHandler','teardown','testContext','osrLv','resolveTestEnvironment','env','test_start','skip','336nHIaZK','platformCaps','builder','tFAyQ','6685842IGstao','WHjyl','WmTZk','requireSeleniumWebdriver','exports','xuRHB','failFast','testEnvironmentOptions','requireModule','driver','test','global','mode','13yHuWft','XMwaR','browserstackPlatformIndex','12sUAIZf','1|5|9|6|2|4|8|0|3|7','../../../helpers/helper','cwd','xdfio','node','info','../../../helpers/testhub/utils','projectConfig','nIHIc','agmje','skipSessionName','browserStackGlobals','cleanupDrivers','AYRqQ','hLxkQ','isNotUndefined','105980BhkqID','shouldFailFast','failFastOptions','buildName','__webdriver','lrQKq','percy','7WgVCyH','\x20>\x20','nestedKeyValue','../test-observability/obsReporter','jest-environment-node','browserStackPercyOptions','browserstackPercyBestPlatform','registerListeners','eUAuM','cleanup','__skipSessionStatus','modifyCommand','ESshv','getInstance','880604bkDPbO','capability','message','failFastActive','ACuke','errors','sessionNameProvided','quit','__platformCaps','winstonLogger','../../utils/constants','Error\x20in\x20fail-fast\x20test_done\x20handler:','bnEnv','JqTTz','testPath','shouldProcessEventForTesthub','12IiNXOK','onTestDone','retries__','../../../helpers/logger','../../../index','jwHVw','shutdown','name','5183530zZsGGK','__drivers','Builder','YGRBO','test_done','projectName','OLqHd','percyCaptureMode','__timeout','150291VTsGzo','GExSD'];a18_0x4a03=function(){return _0x3a5a94;};return a18_0x4a03();}module[a18_0x40df96(0x121)]=CustomEnvironment;