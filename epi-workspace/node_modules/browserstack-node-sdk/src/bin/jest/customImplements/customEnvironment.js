const a16_0x3c997d=a16_0x4194;function a16_0x4194(_0x2e0391,_0x26254f){const _0x110471=a16_0x1104();return a16_0x4194=function(_0x4194fc,_0x46dad9){_0x4194fc=_0x4194fc-0xae;let _0x125140=_0x110471[_0x4194fc];return _0x125140;},a16_0x4194(_0x2e0391,_0x26254f);}(function(_0x6b5a07,_0x56b7c0){const _0x563e98=a16_0x4194,_0x3ba19b=_0x6b5a07();while(!![]){try{const _0xe43647=parseInt(_0x563e98(0xd5))/0x1+-parseInt(_0x563e98(0xdd))/0x2+-parseInt(_0x563e98(0x10c))/0x3+parseInt(_0x563e98(0xe8))/0x4+-parseInt(_0x563e98(0xb6))/0x5*(-parseInt(_0x563e98(0xba))/0x6)+-parseInt(_0x563e98(0xe2))/0x7*(parseInt(_0x563e98(0x10e))/0x8)+-parseInt(_0x563e98(0x11d))/0x9*(parseInt(_0x563e98(0xdc))/0xa);if(_0xe43647===_0x56b7c0)break;else _0x3ba19b['push'](_0x3ba19b['shift']());}catch(_0x17ef69){_0x3ba19b['push'](_0x3ba19b['shift']());}}}(a16_0x1104,0xe19d9));function a16_0x1104(){const _0x5c6beb=['handleTestEvent','__skipSessionStatus','__driversArray','nSOmo','1250226AgYNxL','capability','requireSeleniumWebdriver','isTrue','configuration','requireModule','ywyhh','3105370lNaBSR','1462646IvtcpJ','timeout__','AxCyq','resolveTestEnvironment','GLGKN','39067XBJhAR','jest-config','default','percyCaptureMode','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','percy','1398692TsPmky','../../../helpers/test-orchestration/failfastManager','onTestDone','jest-resolve','browserStackPercyOptions','zZgmP','env','getInstance','__webdriver','zRarf','projectName','jestConfig','ifAxR','testPath','quit','platformCaps','BSTACK_JEST_TEST_ENV','fGCMJ','browserstackPercyBestPlatform','teardown','__jestRetries','../../../helpers/test-observability/utils','framework','cleanupDrivers','projectConfig','VsmsS','ZipPm','skip','testContext','qxMcQ','failFastActive','pAxNp','BSTACK_DELTA','capabilities','Builder','debug','881265PgkdAH','JEST','808ygtAGM','nestedKeyValue','info','setup','winstonLogger','euOCV','ZFqKd','name','NTOGL','shouldProcessEventForTesthub','tzFNN','BYjKU','QBShX','join','cleanup','18bDbNGl','browserStackGlobals','lSezb','errors','\x20>\x20','test','../../../index','split','driver','isBrowserstackInfra','2425eBsGmh','getTestEnvironment','exports','skipSessionStatus','18978cmiRQw','failFastOptions','shutdown','__drivers','Cpmpv','jest-environment-node','node','ZCXxV','testEnvironmentOptions','retries__','../../utils/constants','test_start','isArray','sessionNameProvided','shouldFailFast','failFast','browserstackAgentV2','IdmLD','global','MAHZs','../../../helpers/helper','isNotUndefined','buildName'];a16_0x1104=function(){return _0x5c6beb;};return a16_0x1104();}const helper=require(a16_0x3c997d(0xce)),constants=require(a16_0x3c997d(0xc4)),{isTestObservabilitySession}=require(a16_0x3c997d(0xfd)),RequestQueueHandler=require('../../../helpers/test-observability/requestQueueHandler'),ObservabilityReporter=require('../test-observability/obsReporter'),testhubUtils=require('../../../helpers/testhub/utils'),logger=require('../../../helpers/logger')[a16_0x3c997d(0x112)],getTestEnvironment=((()=>{const _0x5b88b5=a16_0x3c997d,_0x1c818b={};_0x1c818b['dwScY']=_0x5b88b5(0xeb),_0x1c818b['dFxMK']=_0x5b88b5(0xe3);const _0x33dd5f=_0x1c818b;try{const _0x41a9d2=helper[_0x5b88b5(0xda)](_0x33dd5f['dwScY']);if(_0x41a9d2['resolveTestEnvironment'])return _0x41a9d2[_0x5b88b5(0xe0)];const _0x5d7726=helper['requireModule'](_0x33dd5f['dFxMK']);if(_0x5d7726['getTestEnvironment'])return _0x5d7726[_0x5b88b5(0xb7)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0xf605e8=a16_0x3c997d,_0x10825b={'BYjKU':function(_0x47f539,_0x27a61e){return _0x47f539(_0x27a61e);},'wJXWi':_0xf605e8(0xc0),'NTOGL':_0xf605e8(0xbf),'rypXX':function(_0x342838,_0x4e37d8){return _0x342838(_0x4e37d8);}},_0x402439=_0x10825b[_0xf605e8(0x119)](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process[_0xf605e8(0xee)][_0xf605e8(0xf8)]||_0x10825b['wJXWi']});if(!_0x402439)return _0x10825b[_0xf605e8(0x119)](_interopRequireDefault,helper[_0xf605e8(0xda)](_0x10825b[_0xf605e8(0x116)]));return _0x10825b['rypXX'](_interopRequireDefault,helper[_0xf605e8(0xda)](_0x402439));})()),_seleniumWebdriver2=((()=>{const _0x274852=a16_0x3c997d,_0x2ce57c={'AKnOR':function(_0x37a689,_0x8b27b9){return _0x37a689(_0x8b27b9);}};try{const _0x1750dd=helper[_0x274852(0xd7)]();return helper['modifyCommand'](),_0x2ce57c['AKnOR'](_interopRequireDefault,_0x1750dd);}catch{return null;}})());function _interopRequireDefault(_0x5b930a){return _0x5b930a&&_0x5b930a['__esModule']?_0x5b930a:{'default':_0x5b930a};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x3c997d(0xe4)][a16_0x3c997d(0x10a)]:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x3c997d(0xe4)]{constructor(_0x4a31e8){const _0x55adeb=a16_0x3c997d,_0x3ce2a6={'ZipPm':'quit','pAxNp':function(_0x19beb1,_0x5d001c){return _0x19beb1+_0x5d001c;},'Cpmpv':'bstack:options','yiQxk':function(_0x3ce646,_0x9c00a1){return _0x3ce646(_0x9c00a1);},'zZgmP':_0x55adeb(0xe9),'QBShX':'2|5|1|7|4|0|3|6','fGCMJ':_0x55adeb(0xc2),'AxCyq':_0x55adeb(0xec),'ZFqKd':_0x55adeb(0xfa),'zRarf':_0x55adeb(0xe5),'nSOmo':function(_0x324a35,_0x5eb825){return _0x324a35(_0x5eb825);},'GqnoB':_0x55adeb(0xb2),'tzFNN':_0x55adeb(0xe7)};super(_0x4a31e8),this[_0x55adeb(0xcc)]['__timeout']=0x0,this['configuration']={};!_0x4a31e8[_0x55adeb(0xc2)]&&(_0x4a31e8[_0x55adeb(0xc2)]={});if(helper[_0x55adeb(0xb5)]()){_0x4a31e8[_0x55adeb(0xc2)]=_0x4a31e8['projectConfig']?_0x4a31e8[_0x55adeb(0x100)][_0x55adeb(0xc2)]:_0x4a31e8[_0x55adeb(0xc2)];_seleniumWebdriver2&&(this['builder']=new _seleniumWebdriver2[(_0x55adeb(0xe4))]['Builder']());this[_0x55adeb(0xd6)]=_0x4a31e8[_0x55adeb(0x100)]?_0x4a31e8[_0x55adeb(0x100)][_0x55adeb(0xd6)]:_0x4a31e8[_0x55adeb(0xd6)],this[_0x55adeb(0xcc)]['__timeout']=_0x3ce2a6[_0x55adeb(0x107)](this[_0x55adeb(0xd9)][_0x55adeb(0xde)],constants[_0x55adeb(0x108)]),this[_0x55adeb(0xbb)]=_0x4a31e8[_0x55adeb(0xc2)]['failFast'];if(this[_0x55adeb(0xbb)]){const _0xa8caac=this[_0x55adeb(0xd6)][_0x3ce2a6[_0x55adeb(0xbe)]]?.[_0x55adeb(0xd0)]||'',_0x5459da=this[_0x55adeb(0xd6)][_0x3ce2a6['Cpmpv']]?.[_0x55adeb(0xf2)]||'';this['failFast']=new(_0x3ce2a6['yiQxk'](require,_0x3ce2a6[_0x55adeb(0xed)]))(this[_0x55adeb(0xbb)],_0xa8caac,_0x5459da),this[_0x55adeb(0xcc)][_0x55adeb(0x106)]=![];}helper[_0x55adeb(0xcf)](this[_0x55adeb(0xd9)][_0x55adeb(0xc3)])&&(this[_0x55adeb(0xcc)][_0x55adeb(0xfc)]=this[_0x55adeb(0xd9)][_0x55adeb(0xc3)]);}if(testhubUtils['shouldProcessEventForTesthub']()){const _0x23d8e7=new ObservabilityReporter();_0x23d8e7['registerListeners']();}this[_0x55adeb(0xcc)][_0x55adeb(0x11e)]={},this[_0x55adeb(0xd9)]=_0x4a31e8[_0x55adeb(0xc2)],this[_0x55adeb(0xd9)][_0x55adeb(0xfe)]=constants['FRAMEWORKS'][_0x55adeb(0x10d)],this[_0x55adeb(0xcc)]['browserstackPlatformIndex']=(_0x4a31e8[_0x55adeb(0x100)]?_0x4a31e8[_0x55adeb(0x100)]['browserstackPlatformIndex']:_0x4a31e8['browserstackPlatformIndex'])||0x0,this[_0x55adeb(0xcc)]['__platformCaps']=this[_0x55adeb(0xd9)]&&this['configuration'][_0x55adeb(0xf7)]&&Array[_0x55adeb(0xc6)](this['configuration'][_0x55adeb(0xf7)])&&this[_0x55adeb(0xd9)][_0x55adeb(0xf7)][this[_0x55adeb(0xcc)]['browserstackPlatformIndex']]||{};const _0x3f9716=this[_0x55adeb(0xcc)]['browserstackPlatformIndex'],_0x46cd59={...this['configuration'],'capability':this[_0x55adeb(0xd9)][_0x55adeb(0x109)]&&Array[_0x55adeb(0xc6)](this[_0x55adeb(0xd9)][_0x55adeb(0x109)])&&this['configuration'][_0x55adeb(0x109)][_0x3f9716]||{},'platformCaps':this[_0x55adeb(0xd9)][_0x55adeb(0xf7)]&&Array[_0x55adeb(0xc6)](this['configuration'][_0x55adeb(0xf7)])&&this[_0x55adeb(0xd9)][_0x55adeb(0xf7)][_0x3f9716]||{}};delete _0x46cd59['capabilities'],this['global'][_0x55adeb(0xf3)]=_0x46cd59;if(_seleniumWebdriver2){const _0x36158a=_0x3ce2a6[_0x55adeb(0x11a)][_0x55adeb(0xb3)]('|');let _0x20f7fa=0x0;while(!![]){switch(_0x36158a[_0x20f7fa++]){case'0':helper[_0x55adeb(0xd8)](this[_0x55adeb(0xd9)]['skipSessionName'])?this[_0x55adeb(0xcc)][_0x55adeb(0xc7)]=!![]:this[_0x55adeb(0xcc)]['sessionNameProvided']=![];continue;case'1':this['global'][_0x55adeb(0xfa)]=helper[_0x55adeb(0x10f)](_0x4a31e8,[_0x3ce2a6[_0x55adeb(0xf9)],_0x3ce2a6['AxCyq'],_0x3ce2a6[_0x55adeb(0x114)]]);continue;case'2':this[_0x55adeb(0xcc)][_0x55adeb(0xbd)]=[];continue;case'3':this[_0x55adeb(0xcc)][_0x55adeb(0xd2)]=helper[_0x55adeb(0xd8)](this[_0x55adeb(0xd9)][_0x55adeb(0xb9)]);continue;case'4':this['global']['percyCaptureMode']=helper['nestedKeyValue'](_0x4a31e8,[_0x3ce2a6[_0x55adeb(0xf9)],_0x3ce2a6['AxCyq'],_0x3ce2a6[_0x55adeb(0xf1)]]);continue;case'5':this[_0x55adeb(0xcc)]['__webdriver']=_0x3ce2a6[_0x55adeb(0xd4)](require,_0x3ce2a6['GqnoB'])[_0x55adeb(0xca)]({...this['configuration'],'capability':this['capability']||{}},this,testhubUtils[_0x55adeb(0x117)]());continue;case'6':this[_0x55adeb(0xcc)]['cleanup']=async()=>{const _0x57157a=_0x55adeb;await this['global'][_0x57157a(0xb4)][_0x57157a(0xf6)](_0x3ce2a6[_0x57157a(0x102)]);};continue;case'7':this['global']['percy']=helper[_0x55adeb(0x10f)](_0x4a31e8,[_0x3ce2a6[_0x55adeb(0xf9)],_0x3ce2a6[_0x55adeb(0xdf)],_0x3ce2a6[_0x55adeb(0x118)]]);continue;}break;}}}async[a16_0x3c997d(0xfb)](){const _0x50035c=a16_0x3c997d;_seleniumWebdriver2&&(await helper[_0x50035c(0xff)](this[_0x50035c(0xcc)][_0x50035c(0xd3)]),this['global'][_0x50035c(0xf0)][_0x50035c(0x10a)]=originalBuilder),await RequestQueueHandler[_0x50035c(0xef)]()[_0x50035c(0xbc)]();}async[a16_0x3c997d(0x111)](){}async[a16_0x3c997d(0xd1)](_0x43c51d,_0x35a9ab){const _0x2a7e8b=a16_0x3c997d,_0x55272f={};_0x55272f[_0x2a7e8b(0xcb)]=function(_0x32effc,_0x5f474d){return _0x32effc===_0x5f474d;},_0x55272f['GLGKN']=_0x2a7e8b(0xc5),_0x55272f['lSezb']=_0x2a7e8b(0x103),_0x55272f[_0x2a7e8b(0x113)]=function(_0x27bb8c,_0x7447f3){return _0x27bb8c===_0x7447f3;},_0x55272f[_0x2a7e8b(0xcd)]='test_done',_0x55272f[_0x2a7e8b(0x101)]=_0x2a7e8b(0xb0),_0x55272f[_0x2a7e8b(0x105)]=function(_0x4ed2a1,_0x6385a1){return _0x4ed2a1===_0x6385a1;},_0x55272f[_0x2a7e8b(0xdb)]='Error\x20in\x20fail-fast\x20test_done\x20handler:',_0x55272f[_0x2a7e8b(0xf4)]=function(_0x107a58,_0x38b712){return _0x107a58===_0x38b712;},_0x55272f[_0x2a7e8b(0xc1)]=_0x2a7e8b(0xfb);const _0x473a1e=_0x55272f,{name:_0x2cd474}=_0x43c51d;if(_0x473a1e[_0x2a7e8b(0xcb)](_0x2cd474,_0x473a1e[_0x2a7e8b(0xe1)])){this[_0x2a7e8b(0xcc)][_0x2a7e8b(0x104)]=_0x43c51d[_0x2a7e8b(0xb1)];if(_0x473a1e[_0x2a7e8b(0xcb)](this[_0x2a7e8b(0xcc)]['failFastActive'],!![])){const _0x48b34f=_0x43c51d[_0x2a7e8b(0xb1)][_0x2a7e8b(0x115)];logger[_0x2a7e8b(0x110)](_0x2a7e8b(0xe6)+_0x48b34f),_0x43c51d[_0x2a7e8b(0xb1)]['mode']=_0x473a1e[_0x2a7e8b(0xae)];}}if(this[_0x2a7e8b(0xc9)]&&_0x473a1e[_0x2a7e8b(0x113)](_0x2cd474,_0x473a1e[_0x2a7e8b(0xcd)]))try{const _0x581176=_0x43c51d[_0x2a7e8b(0xb1)][_0x2a7e8b(0xf5)][_0x2a7e8b(0x11b)](_0x473a1e[_0x2a7e8b(0x101)]),_0x124283=_0x43c51d['test'][_0x2a7e8b(0xaf)];await this[_0x2a7e8b(0xc9)][_0x2a7e8b(0xea)](_0x581176,_0x124283);const _0x526566=await this['failFast'][_0x2a7e8b(0xc8)]();_0x473a1e['IdmLD'](this[_0x2a7e8b(0xcc)]['failFastActive'],![])&&_0x473a1e[_0x2a7e8b(0x105)](_0x526566,!![])&&(this['global']['failFastActive']=!![]);}catch(_0x131277){logger[_0x2a7e8b(0x10b)](_0x473a1e[_0x2a7e8b(0xdb)],_0x131277['message']);}_0x473a1e[_0x2a7e8b(0xf4)](_0x2cd474,_0x473a1e[_0x2a7e8b(0xc1)])&&(this[_0x2a7e8b(0xc9)]&&this[_0x2a7e8b(0xc9)][_0x2a7e8b(0x11c)]());}}module[a16_0x3c997d(0xb8)]=CustomEnvironment;