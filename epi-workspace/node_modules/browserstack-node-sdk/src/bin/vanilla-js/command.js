#!/usr/bin/env node
'use strict';function a53_0x2cfe(){const _0x3438c3=['PUlPK','handleApp','GKuEA','7672gWJPoo','parallelsPerPlatform','1360PjeHNx','getPlatformName','1kDNYsM','10703737YuDsGK','length','841648UsBQGe','../../helpers/helper','KRnHm','config','Bwxwr','980215iIbJoT','forEach','index','useW3C','File\x20path\x20is\x20required','12186QXwvbo','VGRCy','modifyBrowserStackW3CCaps','isUndefined','../../helpers/testhub/testhubHandler','configuration','vanilla','182274DbTRlw','../../helpers/BrowserStackSetup','../../helpers/performance/performance-tester','84316exwvoy','push','hcuSH','assign','file','platforms','start','end','modifyBrowserStackCaps','getHubUrl','proxySettings','1254mTbvjt','../test-runner','exports','initialize','PuuaU','27DQixMj','../../helpers/utilities','finally','EVENTS','File\x20','finalExecution','SDK_SETUP'];a53_0x2cfe=function(){return _0x3438c3;};return a53_0x2cfe();}const a53_0x4e1a35=a53_0x136b;(function(_0x50c6d5,_0xd887b3){const _0x1b8172=a53_0x136b,_0x553bf9=_0x50c6d5();while(!![]){try{const _0x532bf2=-parseInt(_0x1b8172(0x9f))/0x1*(-parseInt(_0x1b8172(0xb3))/0x2)+parseInt(_0x1b8172(0xc6))/0x3*(-parseInt(_0x1b8172(0xb6))/0x4)+-parseInt(_0x1b8172(0xa7))/0x5+-parseInt(_0x1b8172(0xc1))/0x6*(parseInt(_0x1b8172(0x9b))/0x7)+-parseInt(_0x1b8172(0xa2))/0x8+-parseInt(_0x1b8172(0xac))/0x9*(parseInt(_0x1b8172(0x9d))/0xa)+parseInt(_0x1b8172(0xa0))/0xb;if(_0x532bf2===_0xd887b3)break;else _0x553bf9['push'](_0x553bf9['shift']());}catch(_0x5ccca5){_0x553bf9['push'](_0x553bf9['shift']());}}}(a53_0x2cfe,0x27124));function a53_0x136b(_0x3b7593,_0x987bc9){const _0x2cfe40=a53_0x2cfe();return a53_0x136b=function(_0x136bc4,_0x5dae62){_0x136bc4=_0x136bc4-0x96;let _0x3f78f2=_0x2cfe40[_0x136bc4];return _0x3f78f2;},a53_0x136b(_0x3b7593,_0x987bc9);}const fs=require('fs'),path=require('path'),{default:BrowserStackSetup}=require(a53_0x4e1a35(0xb4)),helper=require(a53_0x4e1a35(0xa3)),PerformanceTester=require(a53_0x4e1a35(0xb5)),PerformanceEvents=require('../../helpers/performance/constants')[a53_0x4e1a35(0xc9)],utilities=require(a53_0x4e1a35(0xc7)),{parallelVanillaRun}=require(a53_0x4e1a35(0xc2)),TestHubHandler=require(a53_0x4e1a35(0xb0));async function run(_0x54dc6b,_0x1e30e3){const _0x15946e=a53_0x4e1a35,_0xbf7b32={'KRnHm':_0x15946e(0xb2),'VGRCy':function(_0x49994b,_0x1d8be3){return _0x49994b(_0x1d8be3);},'PUlPK':_0x15946e(0xab),'GKuEA':'Config\x20yml\x20is\x20required','PuuaU':function(_0x4cd9c6,_0x239465){return _0x4cd9c6>_0x239465;},'hcuSH':function(_0x2fe3a7,_0x2bdcf5){return _0x2fe3a7*_0x2bdcf5;},'Bwxwr':function(_0x5c24ce,_0x4b2214,_0x4878f1){return _0x5c24ce(_0x4b2214,_0x4878f1);}},_0x46a445=new BrowserStackSetup(_0x54dc6b,_0xbf7b32[_0x15946e(0xa4)]);await _0x46a445[_0x15946e(0xc4)](),await helper[_0x15946e(0x99)](_0x46a445['config']);const _0x22b8bc=[];if(helper[_0x15946e(0xaf)](_0x54dc6b['_'][0x1]))throw _0xbf7b32[_0x15946e(0xad)](Error,_0xbf7b32[_0x15946e(0x98)]);const _0x4a7863=path['join'](process['cwd'](),_0x54dc6b['_'][0x1]);if(!fs['existsSync'](_0x4a7863))throw _0xbf7b32[_0x15946e(0xad)](Error,_0x15946e(0xca)+_0x54dc6b['_'][0x1]+'\x20doesn\x27t\x20exist');if(!_0x46a445[_0x15946e(0xa5)])throw _0xbf7b32[_0x15946e(0xad)](Error,_0xbf7b32[_0x15946e(0x9a)]);const _0x37d2fc=helper[_0x15946e(0xaa)](_0x46a445[_0x15946e(0xa5)]);_0x46a445[_0x15946e(0xa5)]['platforms']&&_0xbf7b32[_0x15946e(0xc5)](_0x46a445['config'][_0x15946e(0xbb)][_0x15946e(0xa1)],0x0)&&_0x46a445[_0x15946e(0xa5)]['platforms'][_0x15946e(0xa8)]((_0x1028b1,_0x1ed72e)=>{const _0x5e9159=_0x15946e;_0x37d2fc?_0x22b8bc['push'](helper['modifyBrowserStackW3CCaps'](_0x46a445[_0x5e9159(0xa5)],_0xbf7b32[_0x5e9159(0xa4)],_0x1ed72e)):_0x22b8bc['push'](helper[_0x5e9159(0xbe)](_0x46a445[_0x5e9159(0xa5)],_0xbf7b32[_0x5e9159(0xa4)],_0x1ed72e));});let _0x45ae26,_0x46bd66;const _0x20a7c6=[];if(_0xbf7b32[_0x15946e(0xc5)](_0x22b8bc[_0x15946e(0xa1)],0x0))_0x22b8bc[_0x15946e(0xa8)]((_0x143baf,_0x3c05e5)=>{const _0x3a7303=_0x15946e,_0x5c0568={};_0x5c0568[_0x3a7303(0xa9)]=_0x3c05e5,_0x45ae26={'server':helper[_0x3a7303(0xbf)](_0x46a445[_0x3a7303(0xa5)]),'proxySettings':_0x46a445[_0x3a7303(0xa5)]['proxySettings'],'platform':helper[_0x3a7303(0x9e)](_0x143baf),'platformCaps':Object[_0x3a7303(0xb9)](_0x5c0568,_0x46a445[_0x3a7303(0xa5)][_0x3a7303(0xbb)][_0x3c05e5])};const _0x3529de={'capability':_0x143baf,..._0x45ae26};_0x3529de[_0x3a7303(0xba)]=_0x4a7863,_0x3529de['args']=_0x1e30e3;const _0x470b87={};_0x470b87[_0x3a7303(0xb1)]=_0x3529de,_0x46bd66=_0x470b87,_0x20a7c6[_0x3a7303(0xb7)](_0x46bd66);});else{let _0x420c46;_0x37d2fc?_0x420c46=helper[_0x15946e(0xae)](_0x46a445['config'],_0xbf7b32['KRnHm'],0x0):_0x420c46=helper[_0x15946e(0xbe)](_0x46a445[_0x15946e(0xa5)],_0xbf7b32[_0x15946e(0xa4)],0x0);_0x45ae26={'server':helper[_0x15946e(0xbf)](_0x46a445['config']),'proxySettings':_0x46a445[_0x15946e(0xa5)][_0x15946e(0xc0)]};const _0x1b6784={'capability':_0x420c46,..._0x45ae26};_0x1b6784[_0x15946e(0xba)]=_0x4a7863,_0x1b6784['args']=_0x1e30e3;const _0x19c1e7={};_0x19c1e7['configuration']=_0x1b6784,_0x46bd66=_0x19c1e7,_0x20a7c6[_0x15946e(0xb7)](_0x46bd66);}const _0x13dc89=await TestHubHandler['launchBuild'](_0xbf7b32['KRnHm'],_0x46a445),_0x3a34e3=_0xbf7b32[_0x15946e(0xb8)](_0x46a445[_0x15946e(0xa5)][_0x15946e(0xbb)][_0x15946e(0xa1)]||0x1,_0x46a445[_0x15946e(0xa5)][_0x15946e(0x9c)]||0x1);PerformanceTester[_0x15946e(0xbd)](PerformanceEvents[_0x15946e(0x97)]),_0xbf7b32[_0x15946e(0xa6)](parallelVanillaRun,_0x20a7c6,_0x3a34e3)['then'](_0x24e4ec=>{})[_0x15946e(0xc8)](async()=>{const _0x41fbd4=_0x15946e;PerformanceTester[_0x41fbd4(0xbc)](PerformanceEvents['SDK_CLEANUP']),await utilities[_0x41fbd4(0x96)](_0x46a445);});}module[a53_0x4e1a35(0xc3)]=run;