#!/usr/bin/env node
'use strict';const a91_0x3de478=a91_0x14ac;(function(_0x37f475,_0x1623d8){const _0x5bfb41=a91_0x14ac,_0x54f6cd=_0x37f475();while(!![]){try{const _0x4c4056=-parseInt(_0x5bfb41(0x14f))/0x1+parseInt(_0x5bfb41(0x17b))/0x2+-parseInt(_0x5bfb41(0x150))/0x3+-parseInt(_0x5bfb41(0x163))/0x4*(-parseInt(_0x5bfb41(0x182))/0x5)+-parseInt(_0x5bfb41(0x180))/0x6+-parseInt(_0x5bfb41(0x159))/0x7+-parseInt(_0x5bfb41(0x166))/0x8*(-parseInt(_0x5bfb41(0x167))/0x9);if(_0x4c4056===_0x1623d8)break;else _0x54f6cd['push'](_0x54f6cd['shift']());}catch(_0x43ff75){_0x54f6cd['push'](_0x54f6cd['shift']());}}}(a91_0x33b1,0x6da3c));function a91_0x33b1(){const _0x23407d=['Config\x20yml\x20is\x20required','getPlatformName','1790590vHTKUi','forEach','File\x20path\x20is\x20required','finalExecution','path','869760lZiSLX','SDK_CLEANUP','15uESPWS','parallelsPerPlatform','../test-runner','file','proxySettings','82103SaCEGr','2622276IyjdUL','../../helpers/performance/performance-tester','config','exports','vYiFG','existsSync','finally','ZTCAZ','\x20doesn\x27t\x20exist','1457799YFGacM','ewfaH','vanilla','File\x20','../../helpers/helper','modifyBrowserStackW3CCaps','HnTVg','MZqKn','handleApp','../../helpers/testhub/testhubHandler','876868OtVYoA','push','cEefo','16bFxqEi','924975tcEKDd','end','launchBuild','cwd','length','getHubUrl','modifyBrowserStackCaps','platforms','useW3C','args','../../helpers/performance/constants','dIFQA','start','SDK_SETUP','assign','../../helpers/BrowserStackSetup','initialize','configuration'];a91_0x33b1=function(){return _0x23407d;};return a91_0x33b1();}const fs=require('fs'),path=require(a91_0x3de478(0x17f)),{default:BrowserStackSetup}=require(a91_0x3de478(0x176)),helper=require(a91_0x3de478(0x15d)),PerformanceTester=require(a91_0x3de478(0x151)),PerformanceEvents=require(a91_0x3de478(0x171))['EVENTS'],utilities=require('../../helpers/utilities'),{parallelVanillaRun}=require(a91_0x3de478(0x14c)),TestHubHandler=require(a91_0x3de478(0x162));async function run(_0x302500,_0x3a16de,_0x41db54){const _0x40ca8c=a91_0x3de478,_0x35e177={'vYiFG':_0x40ca8c(0x15b),'LkwuB':function(_0x2500d7,_0x32eebc){return _0x2500d7(_0x32eebc);},'dIFQA':_0x40ca8c(0x17d),'ewfaH':function(_0x2c33c6,_0x195921){return _0x2c33c6(_0x195921);},'MZqKn':function(_0x57adc1,_0x3b50c3){return _0x57adc1(_0x3b50c3);},'fqEeO':_0x40ca8c(0x179),'mQHbI':function(_0x251ceb,_0x207862){return _0x251ceb>_0x207862;},'cEefo':function(_0x7510ae,_0x4671bd){return _0x7510ae>_0x4671bd;},'HnTVg':function(_0x59e0c2,_0x29a84c){return _0x59e0c2*_0x29a84c;},'ZTCAZ':function(_0x2696d5,_0x1d9c5f,_0x5e65f1){return _0x2696d5(_0x1d9c5f,_0x5e65f1);}};await _0x41db54[_0x40ca8c(0x177)](_0x302500),await helper[_0x40ca8c(0x161)](_0x41db54[_0x40ca8c(0x152)]);const _0x5cb51e=[];if(helper['isUndefined'](_0x302500['_'][0x1]))throw _0x35e177['LkwuB'](Error,_0x35e177[_0x40ca8c(0x172)]);const _0x25ed4f=path['join'](process[_0x40ca8c(0x16a)](),_0x302500['_'][0x1]);if(!fs[_0x40ca8c(0x155)](_0x25ed4f))throw _0x35e177[_0x40ca8c(0x15a)](Error,_0x40ca8c(0x15c)+_0x302500['_'][0x1]+_0x40ca8c(0x158));if(!_0x41db54[_0x40ca8c(0x152)])throw _0x35e177[_0x40ca8c(0x160)](Error,_0x35e177['fqEeO']);const _0x3d8011=helper[_0x40ca8c(0x16f)](_0x41db54[_0x40ca8c(0x152)]);_0x41db54[_0x40ca8c(0x152)][_0x40ca8c(0x16e)]&&_0x35e177['mQHbI'](_0x41db54['config'][_0x40ca8c(0x16e)][_0x40ca8c(0x16b)],0x0)&&_0x41db54['config']['platforms'][_0x40ca8c(0x17c)]((_0x1831c0,_0x3952d0)=>{const _0x2366ed=_0x40ca8c;_0x3d8011?_0x5cb51e[_0x2366ed(0x164)](helper[_0x2366ed(0x15e)](_0x41db54[_0x2366ed(0x152)],_0x35e177['vYiFG'],_0x3952d0)):_0x5cb51e[_0x2366ed(0x164)](helper['modifyBrowserStackCaps'](_0x41db54['config'],_0x35e177[_0x2366ed(0x154)],_0x3952d0));});let _0x4734d4,_0x2801d7;const _0x31e826=[];if(_0x35e177[_0x40ca8c(0x165)](_0x5cb51e['length'],0x0))_0x5cb51e[_0x40ca8c(0x17c)]((_0x1bfdf0,_0x164722)=>{const _0x575b03=_0x40ca8c,_0x2cbac6={};_0x2cbac6['index']=_0x164722,_0x4734d4={'server':helper[_0x575b03(0x16c)](_0x41db54[_0x575b03(0x152)]),'proxySettings':_0x41db54['config'][_0x575b03(0x14e)],'platform':helper[_0x575b03(0x17a)](_0x1bfdf0),'platformCaps':Object[_0x575b03(0x175)](_0x2cbac6,_0x41db54[_0x575b03(0x152)]['platforms'][_0x164722])};const _0x3ccaf0={'capability':_0x1bfdf0,..._0x4734d4};_0x3ccaf0[_0x575b03(0x14d)]=_0x25ed4f,_0x3ccaf0[_0x575b03(0x170)]=_0x3a16de;const _0x4a9f70={};_0x4a9f70[_0x575b03(0x178)]=_0x3ccaf0,_0x2801d7=_0x4a9f70,_0x31e826['push'](_0x2801d7);});else{let _0x22de34;_0x3d8011?_0x22de34=helper[_0x40ca8c(0x15e)](_0x41db54[_0x40ca8c(0x152)],_0x35e177[_0x40ca8c(0x154)],0x0):_0x22de34=helper[_0x40ca8c(0x16d)](_0x41db54[_0x40ca8c(0x152)],_0x35e177['vYiFG'],0x0);_0x4734d4={'server':helper[_0x40ca8c(0x16c)](_0x41db54[_0x40ca8c(0x152)]),'proxySettings':_0x41db54['config']['proxySettings']};const _0x6e438={'capability':_0x22de34,..._0x4734d4};_0x6e438[_0x40ca8c(0x14d)]=_0x25ed4f,_0x6e438[_0x40ca8c(0x170)]=_0x3a16de;const _0x4ed4fa={};_0x4ed4fa[_0x40ca8c(0x178)]=_0x6e438,_0x2801d7=_0x4ed4fa,_0x31e826['push'](_0x2801d7);}const _0x3833ff=await TestHubHandler[_0x40ca8c(0x169)](_0x35e177[_0x40ca8c(0x154)],_0x41db54),_0x366990=_0x35e177[_0x40ca8c(0x15f)](_0x41db54[_0x40ca8c(0x152)]['platforms'][_0x40ca8c(0x16b)]||0x1,_0x41db54[_0x40ca8c(0x152)][_0x40ca8c(0x14b)]||0x1);PerformanceTester[_0x40ca8c(0x168)](PerformanceEvents[_0x40ca8c(0x174)]),_0x35e177[_0x40ca8c(0x157)](parallelVanillaRun,_0x31e826,_0x366990)['then'](_0x1582d5=>{})[_0x40ca8c(0x156)](async()=>{const _0x1da8bc=_0x40ca8c;PerformanceTester[_0x1da8bc(0x173)](PerformanceEvents[_0x1da8bc(0x181)]),await utilities[_0x1da8bc(0x17e)](_0x41db54);});}function a91_0x14ac(_0x5b69fa,_0x403e99){const _0x33b175=a91_0x33b1();return a91_0x14ac=function(_0x14aca2,_0x443c98){_0x14aca2=_0x14aca2-0x14b;let _0x377859=_0x33b175[_0x14aca2];return _0x377859;},a91_0x14ac(_0x5b69fa,_0x403e99);}module[a91_0x3de478(0x153)]=run;