#!/usr/bin/env node
'use strict';const a53_0x420aa4=a53_0x2647;(function(_0x430aec,_0x30ae9f){const _0x5a12c9=a53_0x2647,_0x201123=_0x430aec();while(!![]){try{const _0x364121=parseInt(_0x5a12c9(0x195))/0x1*(parseInt(_0x5a12c9(0x1a8))/0x2)+parseInt(_0x5a12c9(0x19a))/0x3+-parseInt(_0x5a12c9(0x19b))/0x4+parseInt(_0x5a12c9(0x18c))/0x5+-parseInt(_0x5a12c9(0x18b))/0x6+parseInt(_0x5a12c9(0x1a4))/0x7+-parseInt(_0x5a12c9(0x198))/0x8;if(_0x364121===_0x30ae9f)break;else _0x201123['push'](_0x201123['shift']());}catch(_0x50d8a4){_0x201123['push'](_0x201123['shift']());}}}(a53_0x4587,0xc2411));const fs=require('fs'),path=require('path'),{default:BrowserStackSetup}=require(a53_0x420aa4(0x19d)),helper=require(a53_0x420aa4(0x184)),PerformanceTester=require(a53_0x420aa4(0x1a5)),PerformanceEvents=require(a53_0x420aa4(0x190))[a53_0x420aa4(0x187)],utilities=require(a53_0x420aa4(0x194)),{parallelVanillaRun}=require(a53_0x420aa4(0x186)),TestHubHandler=require(a53_0x420aa4(0x18f));async function run(_0x188443,_0x4d1e5a){const _0x2c8f21=a53_0x420aa4,_0x4bc368={'lbGMu':_0x2c8f21(0x193),'uLzzX':function(_0x5522ee,_0x369c02){return _0x5522ee(_0x369c02);},'EQXea':_0x2c8f21(0x18a),'AgrIg':function(_0x453e3f,_0x567138){return _0x453e3f(_0x567138);},'BxyJR':'Config\x20yml\x20is\x20required','wRngP':function(_0x3c071b,_0x4f08e1){return _0x3c071b>_0x4f08e1;},'KIJtc':function(_0x36ae7e,_0x3e75ca){return _0x36ae7e*_0x3e75ca;},'WAQUM':function(_0x17a691,_0x12b0b1,_0xb9f22d){return _0x17a691(_0x12b0b1,_0xb9f22d);}},_0x25f3c2=new BrowserStackSetup(_0x188443,_0x4bc368[_0x2c8f21(0x18e)]);await _0x25f3c2[_0x2c8f21(0x181)](),await helper['handleApp'](_0x25f3c2['config']);const _0x2b37cf=[];if(helper['isUndefined'](_0x188443['_'][0x1]))throw _0x4bc368['uLzzX'](Error,_0x4bc368['EQXea']);const _0xe8e28a=path[_0x2c8f21(0x18d)](process[_0x2c8f21(0x1a0)](),_0x188443['_'][0x1]);if(!fs['existsSync'](_0xe8e28a))throw _0x4bc368[_0x2c8f21(0x1a6)](Error,'File\x20'+_0x188443['_'][0x1]+'\x20doesn\x27t\x20exist');if(!_0x25f3c2[_0x2c8f21(0x197)])throw _0x4bc368[_0x2c8f21(0x189)](Error,_0x4bc368['BxyJR']);const _0x1aa7c4=helper['useW3C'](_0x25f3c2[_0x2c8f21(0x197)]);_0x25f3c2[_0x2c8f21(0x197)][_0x2c8f21(0x192)]&&_0x4bc368['wRngP'](_0x25f3c2[_0x2c8f21(0x197)][_0x2c8f21(0x192)]['length'],0x0)&&_0x25f3c2[_0x2c8f21(0x197)][_0x2c8f21(0x192)][_0x2c8f21(0x182)]((_0x21d0b2,_0xdd2d02)=>{const _0x4d9ffa=_0x2c8f21;_0x1aa7c4?_0x2b37cf[_0x4d9ffa(0x180)](helper['modifyBrowserStackW3CCaps'](_0x25f3c2[_0x4d9ffa(0x197)],_0x4bc368[_0x4d9ffa(0x18e)],_0xdd2d02)):_0x2b37cf[_0x4d9ffa(0x180)](helper[_0x4d9ffa(0x183)](_0x25f3c2[_0x4d9ffa(0x197)],_0x4bc368[_0x4d9ffa(0x18e)],_0xdd2d02));});let _0x272232,_0x435ffa;const _0x1cb1a3=[];if(_0x4bc368['wRngP'](_0x2b37cf[_0x2c8f21(0x1a7)],0x0))_0x2b37cf[_0x2c8f21(0x182)]((_0x51d597,_0x13a857)=>{const _0x3bff42=_0x2c8f21,_0x22c2d5={};_0x22c2d5['index']=_0x13a857,_0x272232={'server':helper[_0x3bff42(0x1a2)](_0x25f3c2[_0x3bff42(0x197)]),'proxySettings':_0x25f3c2[_0x3bff42(0x197)][_0x3bff42(0x199)],'platform':helper[_0x3bff42(0x19c)](_0x51d597),'platformCaps':Object['assign'](_0x22c2d5,_0x25f3c2[_0x3bff42(0x197)][_0x3bff42(0x192)][_0x13a857])};const _0xda7732={'capability':_0x51d597,..._0x272232};_0xda7732[_0x3bff42(0x17f)]=_0xe8e28a,_0xda7732[_0x3bff42(0x191)]=_0x4d1e5a;const _0xd6a102={};_0xd6a102[_0x3bff42(0x185)]=_0xda7732,_0x435ffa=_0xd6a102,_0x1cb1a3[_0x3bff42(0x180)](_0x435ffa);});else{let _0x2b5135;_0x1aa7c4?_0x2b5135=helper['modifyBrowserStackW3CCaps'](_0x25f3c2[_0x2c8f21(0x197)],_0x4bc368[_0x2c8f21(0x18e)],0x0):_0x2b5135=helper[_0x2c8f21(0x183)](_0x25f3c2[_0x2c8f21(0x197)],_0x4bc368[_0x2c8f21(0x18e)],0x0);_0x272232={'server':helper[_0x2c8f21(0x1a2)](_0x25f3c2[_0x2c8f21(0x197)]),'proxySettings':_0x25f3c2[_0x2c8f21(0x197)][_0x2c8f21(0x199)]};const _0x35b70e={'capability':_0x2b5135,..._0x272232};_0x35b70e['file']=_0xe8e28a,_0x35b70e['args']=_0x4d1e5a;const _0x435bcb={};_0x435bcb[_0x2c8f21(0x185)]=_0x35b70e,_0x435ffa=_0x435bcb,_0x1cb1a3[_0x2c8f21(0x180)](_0x435ffa);}const _0x5cf37d=await TestHubHandler[_0x2c8f21(0x1a9)](_0x4bc368[_0x2c8f21(0x18e)],_0x25f3c2),_0x43b4cf=_0x4bc368[_0x2c8f21(0x1a1)](_0x25f3c2[_0x2c8f21(0x197)][_0x2c8f21(0x192)][_0x2c8f21(0x1a7)]||0x1,_0x25f3c2[_0x2c8f21(0x197)]['parallelsPerPlatform']||0x1);PerformanceTester['end'](PerformanceEvents[_0x2c8f21(0x19e)]),_0x4bc368['WAQUM'](parallelVanillaRun,_0x1cb1a3,_0x43b4cf)['then'](_0x534f08=>{})[_0x2c8f21(0x1a3)](async()=>{const _0x5006e1=_0x2c8f21;PerformanceTester['start'](PerformanceEvents[_0x5006e1(0x196)]),await utilities[_0x5006e1(0x188)](_0x25f3c2);});}function a53_0x2647(_0x4629f4,_0x349dc4){const _0x4587dc=a53_0x4587();return a53_0x2647=function(_0x2647f6,_0xf3d019){_0x2647f6=_0x2647f6-0x17f;let _0x5959f1=_0x4587dc[_0x2647f6];return _0x5959f1;},a53_0x2647(_0x4629f4,_0x349dc4);}module[a53_0x420aa4(0x19f)]=run;function a53_0x4587(){const _0x52817c=['233683ieLmGU','SDK_CLEANUP','config','3035960MBteHo','proxySettings','1976787QoWLQm','2251900ULuXYo','getPlatformName','../../helpers/BrowserStackSetup','SDK_SETUP','exports','cwd','KIJtc','getHubUrl','finally','4038293deMjcE','../../helpers/performance/performance-tester','uLzzX','length','2UOpCAY','launchBuild','file','push','initialize','forEach','modifyBrowserStackCaps','../../helpers/helper','configuration','../test-runner','EVENTS','finalExecution','AgrIg','File\x20path\x20is\x20required','2582268BPMSgA','3495010FDtSEd','join','lbGMu','../../helpers/testhub/testhubHandler','../../helpers/performance/constants','args','platforms','vanilla','../../helpers/utilities'];a53_0x4587=function(){return _0x52817c;};return a53_0x4587();}