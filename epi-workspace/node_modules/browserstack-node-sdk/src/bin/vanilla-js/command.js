#!/usr/bin/env node
'use strict';const a53_0x418b25=a53_0x1870;(function(_0x617149,_0x28ba1d){const _0x49936b=a53_0x1870,_0xb89552=_0x617149();while(!![]){try{const _0x4d0d55=parseInt(_0x49936b(0x9f))/0x1*(-parseInt(_0x49936b(0x7a))/0x2)+parseInt(_0x49936b(0x86))/0x3*(-parseInt(_0x49936b(0x85))/0x4)+-parseInt(_0x49936b(0x87))/0x5+parseInt(_0x49936b(0x7e))/0x6*(parseInt(_0x49936b(0x8c))/0x7)+parseInt(_0x49936b(0x88))/0x8*(-parseInt(_0x49936b(0xa1))/0x9)+parseInt(_0x49936b(0x8b))/0xa+parseInt(_0x49936b(0x8f))/0xb;if(_0x4d0d55===_0x28ba1d)break;else _0xb89552['push'](_0xb89552['shift']());}catch(_0x51e3cb){_0xb89552['push'](_0xb89552['shift']());}}}(a53_0x42c9,0x7b521));function a53_0x1870(_0x2b7dd6,_0x5b5d46){const _0x42c97c=a53_0x42c9();return a53_0x1870=function(_0x1870bf,_0x1c7388){_0x1870bf=_0x1870bf-0x6c;let _0x2aa84d=_0x42c97c[_0x1870bf];return _0x2aa84d;},a53_0x1870(_0x2b7dd6,_0x5b5d46);}function a53_0x42c9(){const _0x524639=['File\x20','isUndefined','end','path','modifyBrowserStackW3CCaps','finally','proxySettings','push','SDK_CLEANUP','JnVbi','../../helpers/testhub/testhubHandler','handleApp','SDK_SETUP','LKVdw','../../helpers/BrowserStackSetup','../../helpers/performance/performance-tester','2tfVimw','SlCKI','../../helpers/utilities','Config\x20yml\x20is\x20required','1194354xoejnG','\x20doesn\x27t\x20exist','File\x20path\x20is\x20required','vanilla','DGggm','kDyxB','config','4KRCLAj','539211jrthZB','1291260BYnOyF','1636248vpWqzg','launchBuild','file','2243490EpnIOK','14jhNODT','configuration','index','11857472GyimIZ','args','../test-runner','start','finalExecution','../../helpers/helper','platforms','modifyBrowserStackCaps','cwd','forEach','parallelsPerPlatform','XjMvp','useW3C','length','existsSync','then','348247dBEXur','gcUGw','18zOFyBw','../../helpers/performance/constants','initialize'];a53_0x42c9=function(){return _0x524639;};return a53_0x42c9();}const fs=require('fs'),path=require(a53_0x418b25(0x6d)),{default:BrowserStackSetup}=require(a53_0x418b25(0x78)),helper=require(a53_0x418b25(0x94)),PerformanceTester=require(a53_0x418b25(0x79)),PerformanceEvents=require(a53_0x418b25(0xa2))['EVENTS'],utilities=require(a53_0x418b25(0x7c)),{parallelVanillaRun}=require(a53_0x418b25(0x91)),TestHubHandler=require(a53_0x418b25(0x74));async function run(_0x50b8c3,_0x229707){const _0x350fc1=a53_0x418b25,_0x5c6375={'DGggm':_0x350fc1(0x81),'JnVbi':function(_0x2be9da,_0x29e15e){return _0x2be9da(_0x29e15e);},'XjMvp':_0x350fc1(0x80),'JjySH':function(_0x33c30c,_0x1c8430){return _0x33c30c(_0x1c8430);},'gcUGw':_0x350fc1(0x7d),'kDyxB':function(_0x5cd973,_0x2d7ecf){return _0x5cd973>_0x2d7ecf;},'SlCKI':function(_0x19626c,_0x2eb791){return _0x19626c*_0x2eb791;},'LKVdw':function(_0x40bab2,_0x173ac8,_0x4c1399){return _0x40bab2(_0x173ac8,_0x4c1399);}},_0x28befd=new BrowserStackSetup(_0x50b8c3,_0x5c6375['DGggm']);await _0x28befd[_0x350fc1(0xa3)](),await helper[_0x350fc1(0x75)](_0x28befd[_0x350fc1(0x84)]);const _0x37df35=[];if(helper[_0x350fc1(0xa5)](_0x50b8c3['_'][0x1]))throw _0x5c6375[_0x350fc1(0x73)](Error,_0x5c6375[_0x350fc1(0x9a)]);const _0x4cb2be=path['join'](process[_0x350fc1(0x97)](),_0x50b8c3['_'][0x1]);if(!fs[_0x350fc1(0x9d)](_0x4cb2be))throw _0x5c6375['JnVbi'](Error,_0x350fc1(0xa4)+_0x50b8c3['_'][0x1]+_0x350fc1(0x7f));if(!_0x28befd[_0x350fc1(0x84)])throw _0x5c6375['JjySH'](Error,_0x5c6375[_0x350fc1(0xa0)]);const _0x4abaff=helper[_0x350fc1(0x9b)](_0x28befd[_0x350fc1(0x84)]);_0x28befd[_0x350fc1(0x84)]['platforms']&&_0x5c6375[_0x350fc1(0x83)](_0x28befd[_0x350fc1(0x84)]['platforms'][_0x350fc1(0x9c)],0x0)&&_0x28befd[_0x350fc1(0x84)][_0x350fc1(0x95)][_0x350fc1(0x98)]((_0x3f6749,_0x4a6722)=>{const _0x12cc94=_0x350fc1;_0x4abaff?_0x37df35['push'](helper[_0x12cc94(0x6e)](_0x28befd['config'],_0x5c6375[_0x12cc94(0x82)],_0x4a6722)):_0x37df35[_0x12cc94(0x71)](helper[_0x12cc94(0x96)](_0x28befd[_0x12cc94(0x84)],_0x5c6375[_0x12cc94(0x82)],_0x4a6722));});let _0x3b028b,_0x91f4de;const _0x7b7491=[];if(_0x5c6375[_0x350fc1(0x83)](_0x37df35[_0x350fc1(0x9c)],0x0))_0x37df35[_0x350fc1(0x98)]((_0x357863,_0x293127)=>{const _0x335b83=_0x350fc1,_0x3fd612={};_0x3fd612[_0x335b83(0x8e)]=_0x293127,_0x3b028b={'server':helper['getHubUrl'](_0x28befd['config']),'proxySettings':_0x28befd[_0x335b83(0x84)]['proxySettings'],'platform':helper['getPlatformName'](_0x357863),'platformCaps':Object['assign'](_0x3fd612,_0x28befd[_0x335b83(0x84)][_0x335b83(0x95)][_0x293127])};const _0x536513={'capability':_0x357863,..._0x3b028b};_0x536513[_0x335b83(0x8a)]=_0x4cb2be,_0x536513[_0x335b83(0x90)]=_0x229707;const _0x5c78de={};_0x5c78de[_0x335b83(0x8d)]=_0x536513,_0x91f4de=_0x5c78de,_0x7b7491[_0x335b83(0x71)](_0x91f4de);});else{let _0x1cdd39;_0x4abaff?_0x1cdd39=helper['modifyBrowserStackW3CCaps'](_0x28befd[_0x350fc1(0x84)],_0x5c6375[_0x350fc1(0x82)],0x0):_0x1cdd39=helper[_0x350fc1(0x96)](_0x28befd[_0x350fc1(0x84)],_0x5c6375[_0x350fc1(0x82)],0x0);_0x3b028b={'server':helper['getHubUrl'](_0x28befd['config']),'proxySettings':_0x28befd[_0x350fc1(0x84)][_0x350fc1(0x70)]};const _0x3af3d4={'capability':_0x1cdd39,..._0x3b028b};_0x3af3d4[_0x350fc1(0x8a)]=_0x4cb2be,_0x3af3d4[_0x350fc1(0x90)]=_0x229707;const _0x202a86={};_0x202a86[_0x350fc1(0x8d)]=_0x3af3d4,_0x91f4de=_0x202a86,_0x7b7491[_0x350fc1(0x71)](_0x91f4de);}const _0x2fe30a=await TestHubHandler[_0x350fc1(0x89)](_0x5c6375[_0x350fc1(0x82)],_0x28befd),_0x35f5d4=_0x5c6375[_0x350fc1(0x7b)](_0x28befd['config']['platforms'][_0x350fc1(0x9c)]||0x1,_0x28befd[_0x350fc1(0x84)][_0x350fc1(0x99)]||0x1);PerformanceTester[_0x350fc1(0x6c)](PerformanceEvents[_0x350fc1(0x76)]),_0x5c6375[_0x350fc1(0x77)](parallelVanillaRun,_0x7b7491,_0x35f5d4)[_0x350fc1(0x9e)](_0x1df7d8=>{})[_0x350fc1(0x6f)](async()=>{const _0x388ee8=_0x350fc1;PerformanceTester[_0x388ee8(0x92)](PerformanceEvents[_0x388ee8(0x72)]),await utilities[_0x388ee8(0x93)](_0x28befd);});}module['exports']=run;