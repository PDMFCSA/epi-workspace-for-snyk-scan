#!/usr/bin/env node
'use strict';const a53_0x5ff92a=a53_0x4610;(function(_0x31fbe3,_0x21dc16){const _0x375053=a53_0x4610,_0x60cd95=_0x31fbe3();while(!![]){try{const _0x3044bb=-parseInt(_0x375053(0x18e))/0x1+parseInt(_0x375053(0x183))/0x2*(-parseInt(_0x375053(0x17f))/0x3)+parseInt(_0x375053(0x188))/0x4+parseInt(_0x375053(0x19c))/0x5+parseInt(_0x375053(0x16c))/0x6+-parseInt(_0x375053(0x17b))/0x7+parseInt(_0x375053(0x179))/0x8*(-parseInt(_0x375053(0x16d))/0x9);if(_0x3044bb===_0x21dc16)break;else _0x60cd95['push'](_0x60cd95['shift']());}catch(_0xb75483){_0x60cd95['push'](_0x60cd95['shift']());}}}(a53_0x49a3,0x97c89));function a53_0x49a3(){const _0x380f76=['modifyBrowserStackCaps','launchBuild','end','1140tjwHzb','aWlZp','existsSync','args','2106XCLbFL','\x20doesn\x27t\x20exist','path','useW3C','configuration','3399684xlNLDX','SDK_CLEANUP','../../helpers/helper','EVENTS','XULer','forEach','399385KtnTjv','platforms','initialize','../test-runner','../../helpers/testhub/testhubHandler','../../helpers/performance/performance-tester','exports','iqdAc','assign','index','modifyBrowserStackW3CCaps','VjwUo','cwd','file','3089380Xizbkm','LYghE','../../helpers/utilities','getHubUrl','start','handleApp','isUndefined','Config\x20yml\x20is\x20required','1457412TDkKlT','142281elrYhO','File\x20path\x20is\x20required','length','parallelsPerPlatform','KSRHy','finally','then','otmvq','../../helpers/performance/constants','config','push','getPlatformName','16gnlcNt','proxySettings','1804957fgIlHh'];a53_0x49a3=function(){return _0x380f76;};return a53_0x49a3();}const fs=require('fs'),path=require(a53_0x5ff92a(0x185)),{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a53_0x5ff92a(0x18a)),PerformanceTester=require(a53_0x5ff92a(0x193)),PerformanceEvents=require(a53_0x5ff92a(0x175))[a53_0x5ff92a(0x18b)],utilities=require(a53_0x5ff92a(0x19e)),{parallelVanillaRun}=require(a53_0x5ff92a(0x191)),TestHubHandler=require(a53_0x5ff92a(0x192));async function run(_0x4caf5d,_0x4ed7dc){const _0x341d33=a53_0x5ff92a,_0x31f73c={'aWlZp':'vanilla','otmvq':function(_0x446951,_0x2860ba){return _0x446951(_0x2860ba);},'KSRHy':_0x341d33(0x16e),'iqdAc':_0x341d33(0x16b),'XULer':function(_0x280356,_0x3f3f9a){return _0x280356>_0x3f3f9a;},'VjwUo':function(_0x58c817,_0x23c81d){return _0x58c817*_0x23c81d;},'LYghE':function(_0x35838b,_0x238339,_0x3205ab){return _0x35838b(_0x238339,_0x3205ab);}},_0x2c5f06=new BrowserStackSetup(_0x4caf5d,_0x31f73c[_0x341d33(0x180)]);await _0x2c5f06[_0x341d33(0x190)](),await helper[_0x341d33(0x169)](_0x2c5f06['config']);const _0x5e7462=[];if(helper[_0x341d33(0x16a)](_0x4caf5d['_'][0x1]))throw _0x31f73c[_0x341d33(0x174)](Error,_0x31f73c[_0x341d33(0x171)]);const _0x1f4a83=path['join'](process[_0x341d33(0x19a)](),_0x4caf5d['_'][0x1]);if(!fs[_0x341d33(0x181)](_0x1f4a83))throw _0x31f73c[_0x341d33(0x174)](Error,'File\x20'+_0x4caf5d['_'][0x1]+_0x341d33(0x184));if(!_0x2c5f06['config'])throw _0x31f73c['otmvq'](Error,_0x31f73c[_0x341d33(0x195)]);const _0x5f1dc0=helper[_0x341d33(0x186)](_0x2c5f06[_0x341d33(0x176)]);_0x2c5f06[_0x341d33(0x176)][_0x341d33(0x18f)]&&_0x31f73c[_0x341d33(0x18c)](_0x2c5f06[_0x341d33(0x176)]['platforms'][_0x341d33(0x16f)],0x0)&&_0x2c5f06[_0x341d33(0x176)]['platforms']['forEach']((_0x487adc,_0x45ac3d)=>{const _0x4a1115=_0x341d33;_0x5f1dc0?_0x5e7462[_0x4a1115(0x177)](helper['modifyBrowserStackW3CCaps'](_0x2c5f06[_0x4a1115(0x176)],_0x31f73c[_0x4a1115(0x180)],_0x45ac3d)):_0x5e7462[_0x4a1115(0x177)](helper[_0x4a1115(0x17c)](_0x2c5f06[_0x4a1115(0x176)],_0x31f73c[_0x4a1115(0x180)],_0x45ac3d));});let _0x4cc706,_0x30d3c3;const _0x59eb3c=[];if(_0x31f73c[_0x341d33(0x18c)](_0x5e7462[_0x341d33(0x16f)],0x0))_0x5e7462[_0x341d33(0x18d)]((_0x4bf3ef,_0x11f690)=>{const _0x41c5de=_0x341d33,_0x15e613={};_0x15e613[_0x41c5de(0x197)]=_0x11f690,_0x4cc706={'server':helper['getHubUrl'](_0x2c5f06[_0x41c5de(0x176)]),'proxySettings':_0x2c5f06[_0x41c5de(0x176)][_0x41c5de(0x17a)],'platform':helper[_0x41c5de(0x178)](_0x4bf3ef),'platformCaps':Object[_0x41c5de(0x196)](_0x15e613,_0x2c5f06[_0x41c5de(0x176)][_0x41c5de(0x18f)][_0x11f690])};const _0x395840={'capability':_0x4bf3ef,..._0x4cc706};_0x395840[_0x41c5de(0x19b)]=_0x1f4a83,_0x395840[_0x41c5de(0x182)]=_0x4ed7dc;const _0x5d028d={};_0x5d028d[_0x41c5de(0x187)]=_0x395840,_0x30d3c3=_0x5d028d,_0x59eb3c[_0x41c5de(0x177)](_0x30d3c3);});else{let _0x2f97c7;_0x5f1dc0?_0x2f97c7=helper[_0x341d33(0x198)](_0x2c5f06[_0x341d33(0x176)],_0x31f73c[_0x341d33(0x180)],0x0):_0x2f97c7=helper[_0x341d33(0x17c)](_0x2c5f06[_0x341d33(0x176)],_0x31f73c[_0x341d33(0x180)],0x0);_0x4cc706={'server':helper[_0x341d33(0x19f)](_0x2c5f06[_0x341d33(0x176)]),'proxySettings':_0x2c5f06[_0x341d33(0x176)]['proxySettings']};const _0x36dc3e={'capability':_0x2f97c7,..._0x4cc706};_0x36dc3e[_0x341d33(0x19b)]=_0x1f4a83,_0x36dc3e['args']=_0x4ed7dc;const _0x2eb1b0={};_0x2eb1b0['configuration']=_0x36dc3e,_0x30d3c3=_0x2eb1b0,_0x59eb3c[_0x341d33(0x177)](_0x30d3c3);}const _0x17be65=await TestHubHandler[_0x341d33(0x17d)](_0x31f73c['aWlZp'],_0x2c5f06),_0x471293=_0x31f73c[_0x341d33(0x199)](_0x2c5f06[_0x341d33(0x176)][_0x341d33(0x18f)][_0x341d33(0x16f)]||0x1,_0x2c5f06['config'][_0x341d33(0x170)]||0x1);PerformanceTester[_0x341d33(0x17e)](PerformanceEvents['SDK_SETUP']),_0x31f73c[_0x341d33(0x19d)](parallelVanillaRun,_0x59eb3c,_0x471293)[_0x341d33(0x173)](_0x5a4dee=>{})[_0x341d33(0x172)](async()=>{const _0x10c7e2=_0x341d33;PerformanceTester[_0x10c7e2(0x168)](PerformanceEvents[_0x10c7e2(0x189)]),await utilities['finalExecution'](_0x2c5f06);});}function a53_0x4610(_0xf72a4d,_0x3bf2f5){const _0x49a34a=a53_0x49a3();return a53_0x4610=function(_0x461006,_0x5c2e09){_0x461006=_0x461006-0x168;let _0x1803f7=_0x49a34a[_0x461006];return _0x1803f7;},a53_0x4610(_0xf72a4d,_0x3bf2f5);}module[a53_0x5ff92a(0x194)]=run;