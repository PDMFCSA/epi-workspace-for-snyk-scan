#!/usr/bin/env node
'use strict';const a83_0x527ad7=a83_0x432c;(function(_0x5f8ed3,_0x5a4eda){const _0x117265=a83_0x432c,_0x4f30b1=_0x5f8ed3();while(!![]){try{const _0x30e286=parseInt(_0x117265(0xbe))/0x1+-parseInt(_0x117265(0xe3))/0x2+-parseInt(_0x117265(0xb8))/0x3*(-parseInt(_0x117265(0xbc))/0x4)+parseInt(_0x117265(0xd1))/0x5*(parseInt(_0x117265(0xce))/0x6)+-parseInt(_0x117265(0xda))/0x7+-parseInt(_0x117265(0xdc))/0x8+parseInt(_0x117265(0xb7))/0x9*(parseInt(_0x117265(0xd3))/0xa);if(_0x30e286===_0x5a4eda)break;else _0x4f30b1['push'](_0x4f30b1['shift']());}catch(_0xe2158b){_0x4f30b1['push'](_0x4f30b1['shift']());}}}(a83_0x1503,0xdf2f4));function a83_0x432c(_0x5da091,_0x52202b){const _0x150310=a83_0x1503();return a83_0x432c=function(_0x432c91,_0x3b0c51){_0x432c91=_0x432c91-0xb4;let _0x597c43=_0x150310[_0x432c91];return _0x597c43;},a83_0x432c(_0x5da091,_0x52202b);}function a83_0x1503(){const _0x360147=['useW3C','vKetb','getPlatformName','modifyBrowserStackCaps','initialize','SDK_CLEANUP','Config\x20yml\x20is\x20required','platforms','finalExecution','../../helpers/BrowserStackSetup','1382358HwkAEE','forEach','start','25NDDyLi','../../helpers/performance/constants','190sdwKVn','modifyBrowserStackW3CCaps','parallelsPerPlatform','index','launchBuild','length','../../helpers/helper','12083981FXKZrn','push','1819776ibWTrM','proxySettings','../../helpers/performance/performance-tester','assign','configuration','handleApp','path','3539680gRBbpb','existsSync','vanilla','osgqG','file','config','Wgqvx','File\x20','1192824cNobsT','9258mXTPCl','end','args','lkEHQ','332EHJJsH','cwd','711472AeOlVN','EVENTS','getHubUrl','\x20doesn\x27t\x20exist','Nitxl','../test-runner'];a83_0x1503=function(){return _0x360147;};return a83_0x1503();}const fs=require('fs'),path=require(a83_0x527ad7(0xe2)),{default:BrowserStackSetup}=require(a83_0x527ad7(0xcd)),helper=require(a83_0x527ad7(0xd9)),PerformanceTester=require(a83_0x527ad7(0xde)),PerformanceEvents=require(a83_0x527ad7(0xd2))[a83_0x527ad7(0xbf)],utilities=require('../../helpers/utilities'),{parallelVanillaRun}=require(a83_0x527ad7(0xc3)),TestHubHandler=require('../../helpers/testhub/testhubHandler');async function run(_0x1bee74,_0x3f7c5f,_0x3551ee){const _0x1212b9=a83_0x527ad7,_0x1c5247={'vKetb':_0x1212b9(0xe5),'osgqG':function(_0xba803b,_0x1ca55d){return _0xba803b(_0x1ca55d);},'Wgqvx':'File\x20path\x20is\x20required','OoEoD':function(_0x3a10d7,_0xc72e9c){return _0x3a10d7(_0xc72e9c);},'sIbhr':function(_0x28bf7c,_0x1c6600){return _0x28bf7c(_0x1c6600);},'UtcVG':_0x1212b9(0xca),'Nitxl':function(_0x3088d2,_0x529e75){return _0x3088d2>_0x529e75;},'lkEHQ':function(_0x57b7f6,_0x4479c8){return _0x57b7f6*_0x4479c8;},'hZxOI':function(_0xc11bb9,_0x4feec2,_0x24ce60){return _0xc11bb9(_0x4feec2,_0x24ce60);}};await _0x3551ee[_0x1212b9(0xc8)](_0x1bee74),await helper[_0x1212b9(0xe1)](_0x3551ee[_0x1212b9(0xb4)]);const _0x20a77c=[];if(helper['isUndefined'](_0x1bee74['_'][0x1]))throw _0x1c5247[_0x1212b9(0xe6)](Error,_0x1c5247[_0x1212b9(0xb5)]);const _0x316999=path['join'](process[_0x1212b9(0xbd)](),_0x1bee74['_'][0x1]);if(!fs[_0x1212b9(0xe4)](_0x316999))throw _0x1c5247['OoEoD'](Error,_0x1212b9(0xb6)+_0x1bee74['_'][0x1]+_0x1212b9(0xc1));if(!_0x3551ee[_0x1212b9(0xb4)])throw _0x1c5247['sIbhr'](Error,_0x1c5247['UtcVG']);const _0x22868c=helper[_0x1212b9(0xc4)](_0x3551ee['config']);_0x3551ee['config']['platforms']&&_0x1c5247['Nitxl'](_0x3551ee[_0x1212b9(0xb4)][_0x1212b9(0xcb)][_0x1212b9(0xd8)],0x0)&&_0x3551ee['config'][_0x1212b9(0xcb)][_0x1212b9(0xcf)]((_0x29b9be,_0x36e2c8)=>{const _0x2677a2=_0x1212b9;_0x22868c?_0x20a77c['push'](helper[_0x2677a2(0xd4)](_0x3551ee['config'],_0x1c5247[_0x2677a2(0xc5)],_0x36e2c8)):_0x20a77c['push'](helper[_0x2677a2(0xc7)](_0x3551ee[_0x2677a2(0xb4)],_0x1c5247[_0x2677a2(0xc5)],_0x36e2c8));});let _0x27de9a,_0x4469ea;const _0x2a3381=[];if(_0x1c5247[_0x1212b9(0xc2)](_0x20a77c[_0x1212b9(0xd8)],0x0))_0x20a77c['forEach']((_0x572061,_0x373ce4)=>{const _0x5288cd=_0x1212b9,_0x41a7bc={};_0x41a7bc[_0x5288cd(0xd6)]=_0x373ce4,_0x27de9a={'server':helper[_0x5288cd(0xc0)](_0x3551ee[_0x5288cd(0xb4)]),'proxySettings':_0x3551ee[_0x5288cd(0xb4)][_0x5288cd(0xdd)],'platform':helper[_0x5288cd(0xc6)](_0x572061),'platformCaps':Object[_0x5288cd(0xdf)](_0x41a7bc,_0x3551ee[_0x5288cd(0xb4)][_0x5288cd(0xcb)][_0x373ce4])};const _0x22c326={'capability':_0x572061,..._0x27de9a};_0x22c326[_0x5288cd(0xe7)]=_0x316999,_0x22c326[_0x5288cd(0xba)]=_0x3f7c5f;const _0x4975fb={};_0x4975fb[_0x5288cd(0xe0)]=_0x22c326,_0x4469ea=_0x4975fb,_0x2a3381[_0x5288cd(0xdb)](_0x4469ea);});else{let _0xd3e19d;_0x22868c?_0xd3e19d=helper[_0x1212b9(0xd4)](_0x3551ee[_0x1212b9(0xb4)],_0x1c5247[_0x1212b9(0xc5)],0x0):_0xd3e19d=helper[_0x1212b9(0xc7)](_0x3551ee[_0x1212b9(0xb4)],_0x1c5247[_0x1212b9(0xc5)],0x0);_0x27de9a={'server':helper[_0x1212b9(0xc0)](_0x3551ee[_0x1212b9(0xb4)]),'proxySettings':_0x3551ee['config'][_0x1212b9(0xdd)]};const _0x3be02d={'capability':_0xd3e19d,..._0x27de9a};_0x3be02d['file']=_0x316999,_0x3be02d[_0x1212b9(0xba)]=_0x3f7c5f;const _0x14f886={};_0x14f886[_0x1212b9(0xe0)]=_0x3be02d,_0x4469ea=_0x14f886,_0x2a3381[_0x1212b9(0xdb)](_0x4469ea);}const _0x3fc9cc=await TestHubHandler[_0x1212b9(0xd7)](_0x1c5247['vKetb'],_0x3551ee),_0x56cf3c=_0x1c5247[_0x1212b9(0xbb)](_0x3551ee[_0x1212b9(0xb4)][_0x1212b9(0xcb)][_0x1212b9(0xd8)]||0x1,_0x3551ee['config'][_0x1212b9(0xd5)]||0x1);PerformanceTester[_0x1212b9(0xb9)](PerformanceEvents['SDK_SETUP']),_0x1c5247['hZxOI'](parallelVanillaRun,_0x2a3381,_0x56cf3c)['then'](_0x40ba80=>{})['finally'](async()=>{const _0x4f05bb=_0x1212b9;PerformanceTester[_0x4f05bb(0xd0)](PerformanceEvents[_0x4f05bb(0xc9)]),await utilities[_0x4f05bb(0xcc)](_0x3551ee);});}module['exports']=run;