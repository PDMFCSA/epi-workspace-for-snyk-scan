#!/usr/bin/env node
'use strict';const a92_0x4f217b=a92_0x46b6;function a92_0x5f47(){const _0x5d8f11=['File\x20path\x20is\x20required','4334995KaiOkE','5315580MRZUGj','2066163UCQfyM','cwd','handleApp','8DeAews','modifyBrowserStackCaps','CKKrE','SDK_CLEANUP','finally','platforms','index','join','Config\x20yml\x20is\x20required','launchBuild','end','getHubUrl','../../helpers/testhub/testhubHandler','aMTqo','6rFHQCa','\x20doesn\x27t\x20exist','knICD','push','atoIg','../../helpers/helper','parallelsPerPlatform','xEhVm','15796845vjAfHZ','proxySettings','config','length','args','EVENTS','finalExecution','SDK_SETUP','file','QNuOy','308417pfTLmy','EnUfh','useW3C','../../helpers/performance/performance-tester','getPlatformName','initialize','1664957ZgqrTP','configuration','assign','../../helpers/BrowserStackSetup','File\x20','3097504zjxVax','modifyBrowserStackW3CCaps'];a92_0x5f47=function(){return _0x5d8f11;};return a92_0x5f47();}function a92_0x46b6(_0x518d6e,_0x18d483){const _0x5f4711=a92_0x5f47();return a92_0x46b6=function(_0x46b6bf,_0x13d59a){_0x46b6bf=_0x46b6bf-0x6e;let _0x1e5a6d=_0x5f4711[_0x46b6bf];return _0x1e5a6d;},a92_0x46b6(_0x518d6e,_0x18d483);}(function(_0x56d564,_0x42334e){const _0x21af30=a92_0x46b6,_0x3a7e51=_0x56d564();while(!![]){try{const _0x3b8396=parseInt(_0x21af30(0x97))/0x1*(-parseInt(_0x21af30(0x85))/0x2)+parseInt(_0x21af30(0x74))/0x3+parseInt(_0x21af30(0x6f))/0x4+parseInt(_0x21af30(0x72))/0x5+parseInt(_0x21af30(0x73))/0x6+parseInt(_0x21af30(0x9d))/0x7*(parseInt(_0x21af30(0x77))/0x8)+-parseInt(_0x21af30(0x8d))/0x9;if(_0x3b8396===_0x42334e)break;else _0x3a7e51['push'](_0x3a7e51['shift']());}catch(_0x2e73a0){_0x3a7e51['push'](_0x3a7e51['shift']());}}}(a92_0x5f47,0xbcd2d));const fs=require('fs'),path=require('path'),{default:BrowserStackSetup}=require(a92_0x4f217b(0xa0)),helper=require(a92_0x4f217b(0x8a)),PerformanceTester=require(a92_0x4f217b(0x9a)),PerformanceEvents=require('../../helpers/performance/constants')[a92_0x4f217b(0x92)],utilities=require('../../helpers/utilities'),{parallelVanillaRun}=require('../test-runner'),TestHubHandler=require(a92_0x4f217b(0x83));async function run(_0x6c679f,_0x7afda3,_0xa8a2ea){const _0x3f89a7=a92_0x4f217b,_0x485c3e={'atoIg':'vanilla','knICD':function(_0x2d1906,_0x2c5a27){return _0x2d1906(_0x2c5a27);},'kVetM':_0x3f89a7(0x71),'aMTqo':_0x3f89a7(0x7f),'CKKrE':function(_0x4e2b4f,_0x455584){return _0x4e2b4f>_0x455584;},'xEhVm':function(_0x3bc542,_0x331278){return _0x3bc542>_0x331278;},'QNuOy':function(_0x1a19d8,_0x40a336){return _0x1a19d8*_0x40a336;},'EnUfh':function(_0x1abb31,_0x46f31a,_0x10457d){return _0x1abb31(_0x46f31a,_0x10457d);}};await _0xa8a2ea[_0x3f89a7(0x9c)](_0x6c679f),await helper[_0x3f89a7(0x76)](_0xa8a2ea['config']);const _0x2a48c9=[];if(helper['isUndefined'](_0x6c679f['_'][0x1]))throw _0x485c3e['knICD'](Error,_0x485c3e['kVetM']);const _0x1e3f84=path[_0x3f89a7(0x7e)](process[_0x3f89a7(0x75)](),_0x6c679f['_'][0x1]);if(!fs['existsSync'](_0x1e3f84))throw _0x485c3e[_0x3f89a7(0x87)](Error,_0x3f89a7(0x6e)+_0x6c679f['_'][0x1]+_0x3f89a7(0x86));if(!_0xa8a2ea['config'])throw _0x485c3e['knICD'](Error,_0x485c3e[_0x3f89a7(0x84)]);const _0x1f3cc9=helper[_0x3f89a7(0x99)](_0xa8a2ea['config']);_0xa8a2ea[_0x3f89a7(0x8f)][_0x3f89a7(0x7c)]&&_0x485c3e[_0x3f89a7(0x79)](_0xa8a2ea['config']['platforms'][_0x3f89a7(0x90)],0x0)&&_0xa8a2ea[_0x3f89a7(0x8f)][_0x3f89a7(0x7c)]['forEach']((_0x35cbd1,_0x3e2312)=>{const _0x1c63f0=_0x3f89a7;_0x1f3cc9?_0x2a48c9['push'](helper[_0x1c63f0(0x70)](_0xa8a2ea[_0x1c63f0(0x8f)],_0x485c3e[_0x1c63f0(0x89)],_0x3e2312)):_0x2a48c9['push'](helper['modifyBrowserStackCaps'](_0xa8a2ea[_0x1c63f0(0x8f)],_0x485c3e[_0x1c63f0(0x89)],_0x3e2312));});let _0x293cd2,_0x10bfa8;const _0x51ee0f=[];if(_0x485c3e[_0x3f89a7(0x8c)](_0x2a48c9[_0x3f89a7(0x90)],0x0))_0x2a48c9['forEach']((_0x3de2b1,_0x4d6438)=>{const _0xee9ee0=_0x3f89a7,_0x44e9e3={};_0x44e9e3[_0xee9ee0(0x7d)]=_0x4d6438,_0x293cd2={'server':helper[_0xee9ee0(0x82)](_0xa8a2ea['config']),'proxySettings':_0xa8a2ea[_0xee9ee0(0x8f)]['proxySettings'],'platform':helper[_0xee9ee0(0x9b)](_0x3de2b1),'platformCaps':Object[_0xee9ee0(0x9f)](_0x44e9e3,_0xa8a2ea['config'][_0xee9ee0(0x7c)][_0x4d6438])};const _0x26840c={'capability':_0x3de2b1,..._0x293cd2};_0x26840c['file']=_0x1e3f84,_0x26840c['args']=_0x7afda3;const _0x5d6640={};_0x5d6640[_0xee9ee0(0x9e)]=_0x26840c,_0x10bfa8=_0x5d6640,_0x51ee0f[_0xee9ee0(0x88)](_0x10bfa8);});else{let _0x44c7ec;_0x1f3cc9?_0x44c7ec=helper[_0x3f89a7(0x70)](_0xa8a2ea[_0x3f89a7(0x8f)],_0x485c3e['atoIg'],0x0):_0x44c7ec=helper[_0x3f89a7(0x78)](_0xa8a2ea['config'],_0x485c3e[_0x3f89a7(0x89)],0x0);_0x293cd2={'server':helper['getHubUrl'](_0xa8a2ea['config']),'proxySettings':_0xa8a2ea['config'][_0x3f89a7(0x8e)]};const _0x170861={'capability':_0x44c7ec,..._0x293cd2};_0x170861[_0x3f89a7(0x95)]=_0x1e3f84,_0x170861[_0x3f89a7(0x91)]=_0x7afda3;const _0x5487af={};_0x5487af['configuration']=_0x170861,_0x10bfa8=_0x5487af,_0x51ee0f[_0x3f89a7(0x88)](_0x10bfa8);}const _0x4d8e95=await TestHubHandler[_0x3f89a7(0x80)](_0x485c3e['atoIg'],_0xa8a2ea),_0x30778f=_0x485c3e[_0x3f89a7(0x96)](_0xa8a2ea[_0x3f89a7(0x8f)][_0x3f89a7(0x7c)][_0x3f89a7(0x90)]||0x1,_0xa8a2ea[_0x3f89a7(0x8f)][_0x3f89a7(0x8b)]||0x1);PerformanceTester[_0x3f89a7(0x81)](PerformanceEvents[_0x3f89a7(0x94)]),_0x485c3e[_0x3f89a7(0x98)](parallelVanillaRun,_0x51ee0f,_0x30778f)['then'](_0x467412=>{})[_0x3f89a7(0x7b)](async()=>{const _0x4dd2c5=_0x3f89a7;PerformanceTester['start'](PerformanceEvents[_0x4dd2c5(0x7a)]),await utilities[_0x4dd2c5(0x93)](_0xa8a2ea);});}module['exports']=run;