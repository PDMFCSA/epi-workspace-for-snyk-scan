#!/usr/bin/env node
'use strict';function a92_0x3037(){const _0xaa7961=['RfhWE','../../helpers/utilities','platforms','config','../../helpers/performance/constants','start','2876004BXRiyB','SDK_CLEANUP','proxySettings','../../helpers/testhub/testhubHandler','4tsUBKN','MTGxn','forEach','LihLv','modifyBrowserStackCaps','../../helpers/performance/performance-tester','Config\x20yml\x20is\x20required','assign','FUfzD','finally','file','getPlatformName','SDK_SETUP','270634KDYtIN','1469345reJduF','push','args','handleApp','YHLxj','getHubUrl','length','12357vFjKdm','parallelsPerPlatform','end','\x20doesn\x27t\x20exist','EVENTS','isUndefined','NbSej','PfTeF','modifyBrowserStackW3CCaps','configuration','984yVMHpB','finalExecution','vanilla','../test-runner','912510LDreuJ','3789807MzKkAi','../../helpers/helper','342250VahSoj','dqRlf','then','File\x20'];a92_0x3037=function(){return _0xaa7961;};return a92_0x3037();}function a92_0x2234(_0x1717c4,_0x615489){const _0x303756=a92_0x3037();return a92_0x2234=function(_0x2234a7,_0x33cc42){_0x2234a7=_0x2234a7-0x117;let _0x37791f=_0x303756[_0x2234a7];return _0x37791f;},a92_0x2234(_0x1717c4,_0x615489);}const a92_0x1ca0c1=a92_0x2234;(function(_0xa5f909,_0x5c2df0){const _0x6519b9=a92_0x2234,_0x5f20ae=_0xa5f909();while(!![]){try{const _0x266483=parseInt(_0x6519b9(0x128))/0x1+-parseInt(_0x6519b9(0x141))/0x2+-parseInt(_0x6519b9(0x13e))/0x3+-parseInt(_0x6519b9(0x11b))/0x4*(-parseInt(_0x6519b9(0x129))/0x5)+-parseInt(_0x6519b9(0x117))/0x6+parseInt(_0x6519b9(0x13f))/0x7+parseInt(_0x6519b9(0x13a))/0x8*(parseInt(_0x6519b9(0x130))/0x9);if(_0x266483===_0x5c2df0)break;else _0x5f20ae['push'](_0x5f20ae['shift']());}catch(_0x710bd8){_0x5f20ae['push'](_0x5f20ae['shift']());}}}(a92_0x3037,0x4e29a));const fs=require('fs'),path=require('path'),{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a92_0x1ca0c1(0x140)),PerformanceTester=require(a92_0x1ca0c1(0x120)),PerformanceEvents=require(a92_0x1ca0c1(0x149))[a92_0x1ca0c1(0x134)],utilities=require(a92_0x1ca0c1(0x146)),{parallelVanillaRun}=require(a92_0x1ca0c1(0x13d)),TestHubHandler=require(a92_0x1ca0c1(0x11a));async function run(_0x279e83,_0xf95168,_0xb29316){const _0x3ce80a=a92_0x1ca0c1,_0x5c606c={'RfhWE':_0x3ce80a(0x13c),'FUfzD':function(_0x29b16c,_0x5b01f0){return _0x29b16c(_0x5b01f0);},'dqRlf':'File\x20path\x20is\x20required','YHLxj':function(_0x3e54bd,_0x5f3182){return _0x3e54bd(_0x5f3182);},'dHxuZ':_0x3ce80a(0x121),'LihLv':function(_0x16e886,_0x470348){return _0x16e886>_0x470348;},'PfTeF':function(_0x35e0ea,_0x280d4c){return _0x35e0ea>_0x280d4c;},'NbSej':function(_0x365abd,_0x41d01d){return _0x365abd*_0x41d01d;},'MTGxn':function(_0x409a3d,_0x416efd,_0x4f6f4c){return _0x409a3d(_0x416efd,_0x4f6f4c);}};await _0xb29316['initialize'](_0x279e83),await helper[_0x3ce80a(0x12c)](_0xb29316[_0x3ce80a(0x148)]);const _0x4f66f6=[];if(helper[_0x3ce80a(0x135)](_0x279e83['_'][0x1]))throw _0x5c606c[_0x3ce80a(0x123)](Error,_0x5c606c[_0x3ce80a(0x142)]);const _0x153177=path['join'](process['cwd'](),_0x279e83['_'][0x1]);if(!fs['existsSync'](_0x153177))throw _0x5c606c[_0x3ce80a(0x12d)](Error,_0x3ce80a(0x144)+_0x279e83['_'][0x1]+_0x3ce80a(0x133));if(!_0xb29316[_0x3ce80a(0x148)])throw _0x5c606c[_0x3ce80a(0x12d)](Error,_0x5c606c['dHxuZ']);const _0x224f15=helper['useW3C'](_0xb29316[_0x3ce80a(0x148)]);_0xb29316[_0x3ce80a(0x148)][_0x3ce80a(0x147)]&&_0x5c606c[_0x3ce80a(0x11e)](_0xb29316[_0x3ce80a(0x148)][_0x3ce80a(0x147)]['length'],0x0)&&_0xb29316[_0x3ce80a(0x148)][_0x3ce80a(0x147)]['forEach']((_0x3e5c60,_0x22b01a)=>{const _0x904aa1=_0x3ce80a;_0x224f15?_0x4f66f6[_0x904aa1(0x12a)](helper[_0x904aa1(0x138)](_0xb29316[_0x904aa1(0x148)],_0x5c606c[_0x904aa1(0x145)],_0x22b01a)):_0x4f66f6[_0x904aa1(0x12a)](helper['modifyBrowserStackCaps'](_0xb29316[_0x904aa1(0x148)],_0x5c606c['RfhWE'],_0x22b01a));});let _0x5a1292,_0x12b2aa;const _0x2fcfc1=[];if(_0x5c606c[_0x3ce80a(0x137)](_0x4f66f6[_0x3ce80a(0x12f)],0x0))_0x4f66f6[_0x3ce80a(0x11d)]((_0x458738,_0x437dea)=>{const _0x4ec50f=_0x3ce80a,_0x4dccbf={};_0x4dccbf['index']=_0x437dea,_0x5a1292={'server':helper['getHubUrl'](_0xb29316[_0x4ec50f(0x148)]),'proxySettings':_0xb29316[_0x4ec50f(0x148)][_0x4ec50f(0x119)],'platform':helper[_0x4ec50f(0x126)](_0x458738),'platformCaps':Object[_0x4ec50f(0x122)](_0x4dccbf,_0xb29316[_0x4ec50f(0x148)][_0x4ec50f(0x147)][_0x437dea])};const _0xed7efd={'capability':_0x458738,..._0x5a1292};_0xed7efd['file']=_0x153177,_0xed7efd[_0x4ec50f(0x12b)]=_0xf95168;const _0xf400a7={};_0xf400a7[_0x4ec50f(0x139)]=_0xed7efd,_0x12b2aa=_0xf400a7,_0x2fcfc1[_0x4ec50f(0x12a)](_0x12b2aa);});else{let _0x5e92e7;_0x224f15?_0x5e92e7=helper[_0x3ce80a(0x138)](_0xb29316[_0x3ce80a(0x148)],_0x5c606c[_0x3ce80a(0x145)],0x0):_0x5e92e7=helper[_0x3ce80a(0x11f)](_0xb29316[_0x3ce80a(0x148)],_0x5c606c[_0x3ce80a(0x145)],0x0);_0x5a1292={'server':helper[_0x3ce80a(0x12e)](_0xb29316['config']),'proxySettings':_0xb29316['config'][_0x3ce80a(0x119)]};const _0x4ac21b={'capability':_0x5e92e7,..._0x5a1292};_0x4ac21b[_0x3ce80a(0x125)]=_0x153177,_0x4ac21b['args']=_0xf95168;const _0x13a3b9={};_0x13a3b9[_0x3ce80a(0x139)]=_0x4ac21b,_0x12b2aa=_0x13a3b9,_0x2fcfc1[_0x3ce80a(0x12a)](_0x12b2aa);}const _0x488e92=await TestHubHandler['launchBuild'](_0x5c606c[_0x3ce80a(0x145)],_0xb29316),_0x57e77b=_0x5c606c[_0x3ce80a(0x136)](_0xb29316[_0x3ce80a(0x148)][_0x3ce80a(0x147)][_0x3ce80a(0x12f)]||0x1,_0xb29316['config'][_0x3ce80a(0x131)]||0x1);PerformanceTester[_0x3ce80a(0x132)](PerformanceEvents[_0x3ce80a(0x127)]),_0x5c606c[_0x3ce80a(0x11c)](parallelVanillaRun,_0x2fcfc1,_0x57e77b)[_0x3ce80a(0x143)](_0x30e54b=>{})[_0x3ce80a(0x124)](async()=>{const _0x30a4c9=_0x3ce80a;PerformanceTester[_0x30a4c9(0x14a)](PerformanceEvents[_0x30a4c9(0x118)]),await utilities[_0x30a4c9(0x13b)](_0xb29316);});}module['exports']=run;