#!/usr/bin/env node
'use strict';const a83_0x33ab4c=a83_0x3ff4;(function(_0xd4302c,_0x5255d9){const _0x4cf1a9=a83_0x3ff4,_0x2fe1f3=_0xd4302c();while(!![]){try{const _0x116fd9=-parseInt(_0x4cf1a9(0x1c4))/0x1*(-parseInt(_0x4cf1a9(0x1d2))/0x2)+parseInt(_0x4cf1a9(0x1e6))/0x3*(parseInt(_0x4cf1a9(0x1c6))/0x4)+parseInt(_0x4cf1a9(0x1c9))/0x5*(-parseInt(_0x4cf1a9(0x1dd))/0x6)+parseInt(_0x4cf1a9(0x1e3))/0x7*(-parseInt(_0x4cf1a9(0x1e4))/0x8)+parseInt(_0x4cf1a9(0x1d9))/0x9+parseInt(_0x4cf1a9(0x1ed))/0xa+parseInt(_0x4cf1a9(0x1f0))/0xb;if(_0x116fd9===_0x5255d9)break;else _0x2fe1f3['push'](_0x2fe1f3['shift']());}catch(_0x117707){_0x2fe1f3['push'](_0x2fe1f3['shift']());}}}(a83_0x264e,0x32c56));const fs=require('fs'),path=require(a83_0x33ab4c(0x1d3)),{default:BrowserStackSetup}=require(a83_0x33ab4c(0x1cc)),helper=require('../../helpers/helper'),PerformanceTester=require(a83_0x33ab4c(0x1c8)),PerformanceEvents=require(a83_0x33ab4c(0x1de))[a83_0x33ab4c(0x1eb)],utilities=require(a83_0x33ab4c(0x1e9)),{parallelVanillaRun}=require('../test-runner'),TestHubHandler=require(a83_0x33ab4c(0x1e8));async function run(_0x5ef49c,_0x42b26e,_0x2b46d0){const _0x3d3d52=a83_0x33ab4c,_0x5b6e16={'Kdidy':'vanilla','iUwSO':function(_0x3d704c,_0x32d381){return _0x3d704c(_0x32d381);},'qrPnZ':_0x3d3d52(0x1c3),'QtCwf':function(_0x3c5859,_0x26b620){return _0x3c5859(_0x26b620);},'agKuK':function(_0x40ee75,_0x20517f){return _0x40ee75(_0x20517f);},'oYySa':_0x3d3d52(0x1f1),'jtVXM':function(_0x1da165,_0x2963d4){return _0x1da165>_0x2963d4;},'irbto':function(_0x1a14b6,_0x23c38a){return _0x1a14b6*_0x23c38a;},'OEeKj':function(_0x4b5a2c,_0x4f0557,_0x31b65a){return _0x4b5a2c(_0x4f0557,_0x31b65a);}};await _0x2b46d0[_0x3d3d52(0x1d4)](_0x5ef49c),await helper[_0x3d3d52(0x1cb)](_0x2b46d0[_0x3d3d52(0x1c2)]);const _0x2f768b=[];if(helper[_0x3d3d52(0x1df)](_0x5ef49c['_'][0x1]))throw _0x5b6e16['iUwSO'](Error,_0x5b6e16[_0x3d3d52(0x1d1)]);const _0x49f987=path['join'](process[_0x3d3d52(0x1d5)](),_0x5ef49c['_'][0x1]);if(!fs[_0x3d3d52(0x1e7)](_0x49f987))throw _0x5b6e16['QtCwf'](Error,_0x3d3d52(0x1e1)+_0x5ef49c['_'][0x1]+'\x20doesn\x27t\x20exist');if(!_0x2b46d0[_0x3d3d52(0x1c2)])throw _0x5b6e16['agKuK'](Error,_0x5b6e16[_0x3d3d52(0x1e0)]);const _0x5208ac=helper[_0x3d3d52(0x1db)](_0x2b46d0[_0x3d3d52(0x1c2)]);_0x2b46d0['config']['platforms']&&_0x5b6e16[_0x3d3d52(0x1cd)](_0x2b46d0[_0x3d3d52(0x1c2)][_0x3d3d52(0x1d6)]['length'],0x0)&&_0x2b46d0['config'][_0x3d3d52(0x1d6)]['forEach']((_0xafffd8,_0x58d934)=>{const _0x34bb36=_0x3d3d52;_0x5208ac?_0x2f768b[_0x34bb36(0x1dc)](helper[_0x34bb36(0x1f2)](_0x2b46d0[_0x34bb36(0x1c2)],_0x5b6e16['Kdidy'],_0x58d934)):_0x2f768b[_0x34bb36(0x1dc)](helper['modifyBrowserStackCaps'](_0x2b46d0[_0x34bb36(0x1c2)],_0x5b6e16['Kdidy'],_0x58d934));});let _0xb53bc0,_0x492e87;const _0x12393e=[];if(_0x5b6e16[_0x3d3d52(0x1cd)](_0x2f768b[_0x3d3d52(0x1ee)],0x0))_0x2f768b[_0x3d3d52(0x1d0)]((_0x3390cd,_0x211369)=>{const _0x1eca59=_0x3d3d52,_0x58a268={};_0x58a268['index']=_0x211369,_0xb53bc0={'server':helper[_0x1eca59(0x1d8)](_0x2b46d0[_0x1eca59(0x1c2)]),'proxySettings':_0x2b46d0['config'][_0x1eca59(0x1ce)],'platform':helper[_0x1eca59(0x1ec)](_0x3390cd),'platformCaps':Object[_0x1eca59(0x1cf)](_0x58a268,_0x2b46d0[_0x1eca59(0x1c2)][_0x1eca59(0x1d6)][_0x211369])};const _0x200e6e={'capability':_0x3390cd,..._0xb53bc0};_0x200e6e[_0x1eca59(0x1ef)]=_0x49f987,_0x200e6e[_0x1eca59(0x1d7)]=_0x42b26e;const _0x59ac35={};_0x59ac35['configuration']=_0x200e6e,_0x492e87=_0x59ac35,_0x12393e[_0x1eca59(0x1dc)](_0x492e87);});else{let _0x2403c5;_0x5208ac?_0x2403c5=helper[_0x3d3d52(0x1f2)](_0x2b46d0[_0x3d3d52(0x1c2)],_0x5b6e16[_0x3d3d52(0x1da)],0x0):_0x2403c5=helper[_0x3d3d52(0x1ca)](_0x2b46d0[_0x3d3d52(0x1c2)],_0x5b6e16['Kdidy'],0x0);_0xb53bc0={'server':helper[_0x3d3d52(0x1d8)](_0x2b46d0[_0x3d3d52(0x1c2)]),'proxySettings':_0x2b46d0[_0x3d3d52(0x1c2)][_0x3d3d52(0x1ce)]};const _0x3c154c={'capability':_0x2403c5,..._0xb53bc0};_0x3c154c[_0x3d3d52(0x1ef)]=_0x49f987,_0x3c154c[_0x3d3d52(0x1d7)]=_0x42b26e;const _0x545f65={};_0x545f65[_0x3d3d52(0x1e2)]=_0x3c154c,_0x492e87=_0x545f65,_0x12393e[_0x3d3d52(0x1dc)](_0x492e87);}const _0x2fecdb=await TestHubHandler['launchBuild'](_0x5b6e16[_0x3d3d52(0x1da)],_0x2b46d0),_0x576493=_0x5b6e16['irbto'](_0x2b46d0[_0x3d3d52(0x1c2)][_0x3d3d52(0x1d6)]['length']||0x1,_0x2b46d0[_0x3d3d52(0x1c2)]['parallelsPerPlatform']||0x1);PerformanceTester[_0x3d3d52(0x1f3)](PerformanceEvents['SDK_SETUP']),_0x5b6e16[_0x3d3d52(0x1e5)](parallelVanillaRun,_0x12393e,_0x576493)[_0x3d3d52(0x1c5)](_0xff10a4=>{})['finally'](async()=>{const _0x1e34ef=_0x3d3d52;PerformanceTester[_0x1e34ef(0x1ea)](PerformanceEvents['SDK_CLEANUP']),await utilities[_0x1e34ef(0x1c7)](_0x2b46d0);});}function a83_0x264e(){const _0x4a77fc=['platforms','args','getHubUrl','509814AIIkxm','Kdidy','useW3C','push','140994iEacch','../../helpers/performance/constants','isUndefined','oYySa','File\x20','configuration','2471OISrhU','9136XlRRro','OEeKj','6699mGCUmy','existsSync','../../helpers/testhub/testhubHandler','../../helpers/utilities','start','EVENTS','getPlatformName','2664950YbWDRf','length','file','847902xYqLNc','Config\x20yml\x20is\x20required','modifyBrowserStackW3CCaps','end','exports','config','File\x20path\x20is\x20required','53sXQAgr','then','724EskAHc','finalExecution','../../helpers/performance/performance-tester','45ubBsiD','modifyBrowserStackCaps','handleApp','../../helpers/BrowserStackSetup','jtVXM','proxySettings','assign','forEach','qrPnZ','686VBdWir','path','initialize','cwd'];a83_0x264e=function(){return _0x4a77fc;};return a83_0x264e();}function a83_0x3ff4(_0x168104,_0x4ea619){const _0x264e43=a83_0x264e();return a83_0x3ff4=function(_0x3ff4ec,_0x38defe){_0x3ff4ec=_0x3ff4ec-0x1c1;let _0x4e9362=_0x264e43[_0x3ff4ec];return _0x4e9362;},a83_0x3ff4(_0x168104,_0x4ea619);}module[a83_0x33ab4c(0x1c1)]=run;