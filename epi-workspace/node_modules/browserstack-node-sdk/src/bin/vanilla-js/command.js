#!/usr/bin/env node
'use strict';function a81_0x5023(){const _0x26d33d=['assign','index','exports','../../helpers/performance/constants','2470440yYxdfB','proxySettings','end','existsSync','cwd','3516996HpkVzf','platforms','naeVL','configuration','7bGDtrG','forEach','\x20doesn\x27t\x20exist','join','ZwgVC','4553704ISTFzG','config','args','File\x20','EVENTS','ZwJkm','getHubUrl','../../helpers/BrowserStackSetup','2HzaJQZ','modifyBrowserStackCaps','SDK_CLEANUP','../../helpers/testhub/testhubHandler','file','length','12571712hXIMco','launchBuild','File\x20path\x20is\x20required','LabVt','676218UnOSXM','modifyBrowserStackW3CCaps','1521126IEIBeN','useW3C','../test-runner','LzmZp','60392250eMKhiz','start','Config\x20yml\x20is\x20required','../../helpers/utilities','push','../../helpers/helper'];a81_0x5023=function(){return _0x26d33d;};return a81_0x5023();}const a81_0x2462c4=a81_0x1fe9;(function(_0x4a0273,_0x36c08a){const _0x90b725=a81_0x1fe9,_0x21461d=_0x4a0273();while(!![]){try{const _0x47d955=-parseInt(_0x90b725(0xac))/0x1+parseInt(_0x90b725(0xd0))/0x2*(-parseInt(_0x90b725(0xbf))/0x3)+-parseInt(_0x90b725(0xc8))/0x4+-parseInt(_0x90b725(0xba))/0x5+parseInt(_0x90b725(0xaa))/0x6*(parseInt(_0x90b725(0xc3))/0x7)+-parseInt(_0x90b725(0xa6))/0x8+parseInt(_0x90b725(0xb0))/0x9;if(_0x47d955===_0x36c08a)break;else _0x21461d['push'](_0x21461d['shift']());}catch(_0x1755ee){_0x21461d['push'](_0x21461d['shift']());}}}(a81_0x5023,0xe1f4d));function a81_0x1fe9(_0x474b9e,_0x4b8096){const _0x502345=a81_0x5023();return a81_0x1fe9=function(_0x1fe9a1,_0x4e9c67){_0x1fe9a1=_0x1fe9a1-0xa3;let _0x977984=_0x502345[_0x1fe9a1];return _0x977984;},a81_0x1fe9(_0x474b9e,_0x4b8096);}const fs=require('fs'),path=require('path'),{default:BrowserStackSetup}=require(a81_0x2462c4(0xcf)),helper=require(a81_0x2462c4(0xb5)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a81_0x2462c4(0xb9))[a81_0x2462c4(0xcc)],utilities=require(a81_0x2462c4(0xb3)),{parallelVanillaRun}=require(a81_0x2462c4(0xae)),TestHubHandler=require(a81_0x2462c4(0xa3));async function run(_0x5c915f,_0x1d1706,_0x525715){const _0x14c3b2=a81_0x2462c4,_0x5ae586={'ZwgVC':'vanilla','nmXCL':function(_0xffb8b,_0x48ad97){return _0xffb8b(_0x48ad97);},'LzmZp':_0x14c3b2(0xa8),'naeVL':function(_0x4eb57a,_0x1c6569){return _0x4eb57a(_0x1c6569);},'LabVt':_0x14c3b2(0xb2),'BwWSA':function(_0x75a66e,_0x255ce7){return _0x75a66e>_0x255ce7;},'WyMNs':function(_0x3491f6,_0x4d1517){return _0x3491f6>_0x4d1517;},'ZwJkm':function(_0x34bf48,_0xd0dcb5){return _0x34bf48*_0xd0dcb5;},'sdXiM':function(_0x2e0fb8,_0x4835ee,_0x393a09){return _0x2e0fb8(_0x4835ee,_0x393a09);}};await _0x525715['initialize'](_0x5c915f),await helper['handleApp'](_0x525715[_0x14c3b2(0xc9)]);const _0x2931b8=[];if(helper['isUndefined'](_0x5c915f['_'][0x1]))throw _0x5ae586['nmXCL'](Error,_0x5ae586[_0x14c3b2(0xaf)]);const _0x14de20=path[_0x14c3b2(0xc6)](process[_0x14c3b2(0xbe)](),_0x5c915f['_'][0x1]);if(!fs[_0x14c3b2(0xbd)](_0x14de20))throw _0x5ae586[_0x14c3b2(0xc1)](Error,_0x14c3b2(0xcb)+_0x5c915f['_'][0x1]+_0x14c3b2(0xc5));if(!_0x525715[_0x14c3b2(0xc9)])throw _0x5ae586['nmXCL'](Error,_0x5ae586[_0x14c3b2(0xa9)]);const _0x2a561b=helper[_0x14c3b2(0xad)](_0x525715['config']);_0x525715['config']['platforms']&&_0x5ae586['BwWSA'](_0x525715[_0x14c3b2(0xc9)]['platforms'][_0x14c3b2(0xa5)],0x0)&&_0x525715[_0x14c3b2(0xc9)][_0x14c3b2(0xc0)][_0x14c3b2(0xc4)]((_0x48d050,_0x472368)=>{const _0x28f30c=_0x14c3b2;_0x2a561b?_0x2931b8['push'](helper[_0x28f30c(0xab)](_0x525715[_0x28f30c(0xc9)],_0x5ae586[_0x28f30c(0xc7)],_0x472368)):_0x2931b8[_0x28f30c(0xb4)](helper['modifyBrowserStackCaps'](_0x525715[_0x28f30c(0xc9)],_0x5ae586['ZwgVC'],_0x472368));});let _0x1d0436,_0x21b5df;const _0xe29cc8=[];if(_0x5ae586['WyMNs'](_0x2931b8[_0x14c3b2(0xa5)],0x0))_0x2931b8[_0x14c3b2(0xc4)]((_0x43991e,_0x1574dc)=>{const _0x812d05=_0x14c3b2,_0x4595d3={};_0x4595d3[_0x812d05(0xb7)]=_0x1574dc,_0x1d0436={'server':helper[_0x812d05(0xce)](_0x525715[_0x812d05(0xc9)]),'proxySettings':_0x525715['config'][_0x812d05(0xbb)],'platform':helper['getPlatformName'](_0x43991e),'platformCaps':Object[_0x812d05(0xb6)](_0x4595d3,_0x525715['config'][_0x812d05(0xc0)][_0x1574dc])};const _0x35b448={'capability':_0x43991e,..._0x1d0436};_0x35b448[_0x812d05(0xa4)]=_0x14de20,_0x35b448[_0x812d05(0xca)]=_0x1d1706;const _0x595838={};_0x595838[_0x812d05(0xc2)]=_0x35b448,_0x21b5df=_0x595838,_0xe29cc8['push'](_0x21b5df);});else{let _0x200eb4;_0x2a561b?_0x200eb4=helper[_0x14c3b2(0xab)](_0x525715[_0x14c3b2(0xc9)],_0x5ae586[_0x14c3b2(0xc7)],0x0):_0x200eb4=helper[_0x14c3b2(0xd1)](_0x525715[_0x14c3b2(0xc9)],_0x5ae586[_0x14c3b2(0xc7)],0x0);_0x1d0436={'server':helper[_0x14c3b2(0xce)](_0x525715[_0x14c3b2(0xc9)]),'proxySettings':_0x525715['config'][_0x14c3b2(0xbb)]};const _0x2cc73d={'capability':_0x200eb4,..._0x1d0436};_0x2cc73d[_0x14c3b2(0xa4)]=_0x14de20,_0x2cc73d[_0x14c3b2(0xca)]=_0x1d1706;const _0x114abe={};_0x114abe[_0x14c3b2(0xc2)]=_0x2cc73d,_0x21b5df=_0x114abe,_0xe29cc8[_0x14c3b2(0xb4)](_0x21b5df);}const _0x283fcb=await TestHubHandler[_0x14c3b2(0xa7)](_0x5ae586[_0x14c3b2(0xc7)],_0x525715),_0x1c72a9=_0x5ae586[_0x14c3b2(0xcd)](_0x525715[_0x14c3b2(0xc9)][_0x14c3b2(0xc0)]['length']||0x1,_0x525715['config']['parallelsPerPlatform']||0x1);PerformanceTester[_0x14c3b2(0xbc)](PerformanceEvents['SDK_SETUP']),_0x5ae586['sdXiM'](parallelVanillaRun,_0xe29cc8,_0x1c72a9)['then'](_0x3df0dd=>{})['finally'](async()=>{const _0x46e917=_0x14c3b2;PerformanceTester[_0x46e917(0xb1)](PerformanceEvents[_0x46e917(0xd2)]),await utilities['finalExecution'](_0x525715);});}module[a81_0x2462c4(0xb8)]=run;