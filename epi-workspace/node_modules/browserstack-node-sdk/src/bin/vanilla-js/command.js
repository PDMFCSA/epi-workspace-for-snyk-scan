#!/usr/bin/env node
'use strict';const a87_0x275444=a87_0x4822;(function(_0x14d602,_0x317d05){const _0x57005b=a87_0x4822,_0x18491=_0x14d602();while(!![]){try{const _0x370e28=parseInt(_0x57005b(0x14d))/0x1+-parseInt(_0x57005b(0x140))/0x2*(-parseInt(_0x57005b(0x13d))/0x3)+parseInt(_0x57005b(0x132))/0x4*(-parseInt(_0x57005b(0x143))/0x5)+-parseInt(_0x57005b(0x14f))/0x6+parseInt(_0x57005b(0x12b))/0x7+parseInt(_0x57005b(0x148))/0x8+-parseInt(_0x57005b(0x141))/0x9;if(_0x370e28===_0x317d05)break;else _0x18491['push'](_0x18491['shift']());}catch(_0x556580){_0x18491['push'](_0x18491['shift']());}}}(a87_0x3312,0xdefb1));function a87_0x3312(){const _0x294034=['4960842nKdfRZ','../../helpers/utilities','launchBuild','2wVHVtv','15646743nCsIOd','args','78335eBNuOs','existsSync','xkgyu','../../helpers/helper','forEach','1000432UZlZKa','../test-runner','join','pMsiH','SDK_CLEANUP','429305qVJJbY','tDyqE','1938JZFlaW','useW3C','ZiMHy','vanilla','fmbBo','platforms','finally','../../helpers/BrowserStackSetup','length','Config\x20yml\x20is\x20required','path','handleApp','proxySettings','assign','../../helpers/performance/performance-tester','7825209CWJWRf','start','modifyBrowserStackCaps','isUndefined','finalExecution','push','woXqf','172OXMmWX','EVENTS','getHubUrl','file','File\x20','modifyBrowserStackW3CCaps','configuration','YicxT','\x20doesn\x27t\x20exist','MkNdB','config'];a87_0x3312=function(){return _0x294034;};return a87_0x3312();}const fs=require('fs'),path=require(a87_0x275444(0x126)),{default:BrowserStackSetup}=require(a87_0x275444(0x123)),helper=require(a87_0x275444(0x146)),PerformanceTester=require(a87_0x275444(0x12a)),PerformanceEvents=require('../../helpers/performance/constants')[a87_0x275444(0x133)],utilities=require(a87_0x275444(0x13e)),{parallelVanillaRun}=require(a87_0x275444(0x149)),TestHubHandler=require('../../helpers/testhub/testhubHandler');function a87_0x4822(_0x463c95,_0x5d14cb){const _0x3312ee=a87_0x3312();return a87_0x4822=function(_0x482259,_0x4f1dbc){_0x482259=_0x482259-0x121;let _0x2e9fc3=_0x3312ee[_0x482259];return _0x2e9fc3;},a87_0x4822(_0x463c95,_0x5d14cb);}async function run(_0x233b84,_0x52568a,_0x4d4174){const _0x40ea3e=a87_0x275444,_0x4a501a={'tDyqE':_0x40ea3e(0x152),'MkNdB':function(_0x44db4b,_0x4350e3){return _0x44db4b(_0x4350e3);},'fmbBo':'File\x20path\x20is\x20required','woXqf':function(_0x4caaa4,_0x322aa5){return _0x4caaa4(_0x322aa5);},'YicxT':_0x40ea3e(0x125),'pMsiH':function(_0x5b9b0c,_0x2a1dde){return _0x5b9b0c>_0x2a1dde;},'ZiMHy':function(_0x2bddef,_0x44b265){return _0x2bddef*_0x44b265;},'xkgyu':function(_0x4dae9e,_0x57dde7,_0x2c1f8c){return _0x4dae9e(_0x57dde7,_0x2c1f8c);}};await _0x4d4174['initialize'](_0x233b84),await helper[_0x40ea3e(0x127)](_0x4d4174['config']);const _0x35b61e=[];if(helper[_0x40ea3e(0x12e)](_0x233b84['_'][0x1]))throw _0x4a501a[_0x40ea3e(0x13b)](Error,_0x4a501a[_0x40ea3e(0x153)]);const _0x5529a1=path[_0x40ea3e(0x14a)](process['cwd'](),_0x233b84['_'][0x1]);if(!fs[_0x40ea3e(0x144)](_0x5529a1))throw _0x4a501a[_0x40ea3e(0x131)](Error,_0x40ea3e(0x136)+_0x233b84['_'][0x1]+_0x40ea3e(0x13a));if(!_0x4d4174['config'])throw _0x4a501a[_0x40ea3e(0x13b)](Error,_0x4a501a[_0x40ea3e(0x139)]);const _0x37c9d9=helper[_0x40ea3e(0x150)](_0x4d4174[_0x40ea3e(0x13c)]);_0x4d4174['config'][_0x40ea3e(0x121)]&&_0x4a501a[_0x40ea3e(0x14b)](_0x4d4174[_0x40ea3e(0x13c)][_0x40ea3e(0x121)]['length'],0x0)&&_0x4d4174[_0x40ea3e(0x13c)]['platforms']['forEach']((_0x356c08,_0x154eb6)=>{const _0x57ecd9=_0x40ea3e;_0x37c9d9?_0x35b61e['push'](helper[_0x57ecd9(0x137)](_0x4d4174['config'],_0x4a501a[_0x57ecd9(0x14e)],_0x154eb6)):_0x35b61e[_0x57ecd9(0x130)](helper[_0x57ecd9(0x12d)](_0x4d4174['config'],_0x4a501a['tDyqE'],_0x154eb6));});let _0x3bb7cb,_0x1d00d7;const _0xce0041=[];if(_0x4a501a[_0x40ea3e(0x14b)](_0x35b61e['length'],0x0))_0x35b61e[_0x40ea3e(0x147)]((_0x1bbc2e,_0x1d3268)=>{const _0x5923d0=_0x40ea3e,_0x5548f1={};_0x5548f1['index']=_0x1d3268,_0x3bb7cb={'server':helper['getHubUrl'](_0x4d4174[_0x5923d0(0x13c)]),'proxySettings':_0x4d4174[_0x5923d0(0x13c)][_0x5923d0(0x128)],'platform':helper['getPlatformName'](_0x1bbc2e),'platformCaps':Object[_0x5923d0(0x129)](_0x5548f1,_0x4d4174[_0x5923d0(0x13c)]['platforms'][_0x1d3268])};const _0x47d977={'capability':_0x1bbc2e,..._0x3bb7cb};_0x47d977[_0x5923d0(0x135)]=_0x5529a1,_0x47d977[_0x5923d0(0x142)]=_0x52568a;const _0x57610a={};_0x57610a[_0x5923d0(0x138)]=_0x47d977,_0x1d00d7=_0x57610a,_0xce0041[_0x5923d0(0x130)](_0x1d00d7);});else{let _0x977ffa;_0x37c9d9?_0x977ffa=helper[_0x40ea3e(0x137)](_0x4d4174[_0x40ea3e(0x13c)],_0x4a501a[_0x40ea3e(0x14e)],0x0):_0x977ffa=helper[_0x40ea3e(0x12d)](_0x4d4174[_0x40ea3e(0x13c)],_0x4a501a['tDyqE'],0x0);_0x3bb7cb={'server':helper[_0x40ea3e(0x134)](_0x4d4174['config']),'proxySettings':_0x4d4174[_0x40ea3e(0x13c)][_0x40ea3e(0x128)]};const _0x2b817e={'capability':_0x977ffa,..._0x3bb7cb};_0x2b817e[_0x40ea3e(0x135)]=_0x5529a1,_0x2b817e[_0x40ea3e(0x142)]=_0x52568a;const _0x1d7cb0={};_0x1d7cb0[_0x40ea3e(0x138)]=_0x2b817e,_0x1d00d7=_0x1d7cb0,_0xce0041[_0x40ea3e(0x130)](_0x1d00d7);}const _0x333658=await TestHubHandler[_0x40ea3e(0x13f)](_0x4a501a[_0x40ea3e(0x14e)],_0x4d4174),_0x254016=_0x4a501a[_0x40ea3e(0x151)](_0x4d4174[_0x40ea3e(0x13c)]['platforms'][_0x40ea3e(0x124)]||0x1,_0x4d4174[_0x40ea3e(0x13c)]['parallelsPerPlatform']||0x1);PerformanceTester['end'](PerformanceEvents['SDK_SETUP']),_0x4a501a[_0x40ea3e(0x145)](parallelVanillaRun,_0xce0041,_0x254016)['then'](_0x3ca34d=>{})[_0x40ea3e(0x122)](async()=>{const _0x231f4a=_0x40ea3e;PerformanceTester[_0x231f4a(0x12c)](PerformanceEvents[_0x231f4a(0x14c)]),await utilities[_0x231f4a(0x12f)](_0x4d4174);});}module['exports']=run;