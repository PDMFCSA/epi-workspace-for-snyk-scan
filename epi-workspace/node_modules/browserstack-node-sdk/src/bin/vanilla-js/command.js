#!/usr/bin/env node
'use strict';const a53_0x3cfb3d=a53_0x3378;(function(_0x32edb1,_0x415544){const _0x1572f7=a53_0x3378,_0x2ae4df=_0x32edb1();while(!![]){try{const _0xbde71f=-parseInt(_0x1572f7(0xef))/0x1+-parseInt(_0x1572f7(0xdb))/0x2+parseInt(_0x1572f7(0xec))/0x3+-parseInt(_0x1572f7(0xf4))/0x4*(-parseInt(_0x1572f7(0xdd))/0x5)+parseInt(_0x1572f7(0xfb))/0x6*(-parseInt(_0x1572f7(0xf8))/0x7)+parseInt(_0x1572f7(0xe8))/0x8+parseInt(_0x1572f7(0xe9))/0x9;if(_0xbde71f===_0x415544)break;else _0x2ae4df['push'](_0x2ae4df['shift']());}catch(_0x31a230){_0x2ae4df['push'](_0x2ae4df['shift']());}}}(a53_0x3a7c,0xa3f5a));function a53_0x3a7c(){const _0x34cbb6=['getPlatformName','SDK_CLEANUP','369070RdUwPv','modifyBrowserStackW3CCaps','finalExecution','../../helpers/utilities','uYVPR','4sDAvlr','JnKdn','\x20doesn\x27t\x20exist','file','101157yEYPqC','assign','handleApp','186SYNNmK','configuration','config','finally','zRCHG','File\x20','modifyBrowserStackCaps','useW3C','File\x20path\x20is\x20required','getHubUrl','../../helpers/performance/constants','isUndefined','initialize','ZHxRz','SDK_SETUP','platforms','args','forEach','proxySettings','cwd','Config\x20yml\x20is\x20required','1621316pwhDtO','join','1899650OueZgj','../../helpers/performance/performance-tester','LALeN','path','exports','push','vNuKN','length','end','../../helpers/BrowserStackSetup','../../helpers/testhub/testhubHandler','6070520vFQaRM','4340673ORUDEE','../../helpers/helper','JeoMh','2034735HuXxXw'];a53_0x3a7c=function(){return _0x34cbb6;};return a53_0x3a7c();}const fs=require('fs'),path=require(a53_0x3cfb3d(0xe0)),{default:BrowserStackSetup}=require(a53_0x3cfb3d(0xe6)),helper=require(a53_0x3cfb3d(0xea)),PerformanceTester=require(a53_0x3cfb3d(0xde)),PerformanceEvents=require(a53_0x3cfb3d(0x105))['EVENTS'],utilities=require(a53_0x3cfb3d(0xf2)),{parallelVanillaRun}=require('../test-runner'),TestHubHandler=require(a53_0x3cfb3d(0xe7));function a53_0x3378(_0x26b15b,_0x44b89f){const _0x3a7c07=a53_0x3a7c();return a53_0x3378=function(_0x337872,_0x26de71){_0x337872=_0x337872-0xd1;let _0x3c8e9d=_0x3a7c07[_0x337872];return _0x3c8e9d;},a53_0x3378(_0x26b15b,_0x44b89f);}async function run(_0x2f160b,_0x425a30){const _0x1fb4b2=a53_0x3cfb3d,_0x1d59ed={'JeoMh':'vanilla','JnKdn':function(_0x2b76be,_0x10d48e){return _0x2b76be(_0x10d48e);},'zRCHG':_0x1fb4b2(0x103),'vNuKN':function(_0x399a01,_0x352536){return _0x399a01(_0x352536);},'oTlMt':_0x1fb4b2(0xda),'LALeN':function(_0x187f33,_0x3c7a18){return _0x187f33>_0x3c7a18;},'AyqyJ':function(_0xaa140d,_0x3028b4){return _0xaa140d>_0x3028b4;},'ZHxRz':function(_0x568cb3,_0x20f525){return _0x568cb3*_0x20f525;},'uYVPR':function(_0x47df4c,_0x54740f,_0x51e53b){return _0x47df4c(_0x54740f,_0x51e53b);}},_0x25c60d=new BrowserStackSetup(_0x2f160b,_0x1d59ed[_0x1fb4b2(0xeb)]);await _0x25c60d[_0x1fb4b2(0xd2)](),await helper[_0x1fb4b2(0xfa)](_0x25c60d[_0x1fb4b2(0xfd)]);const _0x5818b7=[];if(helper[_0x1fb4b2(0xd1)](_0x2f160b['_'][0x1]))throw _0x1d59ed['JnKdn'](Error,_0x1d59ed[_0x1fb4b2(0xff)]);const _0x25c141=path[_0x1fb4b2(0xdc)](process[_0x1fb4b2(0xd9)](),_0x2f160b['_'][0x1]);if(!fs['existsSync'](_0x25c141))throw _0x1d59ed[_0x1fb4b2(0xf5)](Error,_0x1fb4b2(0x100)+_0x2f160b['_'][0x1]+_0x1fb4b2(0xf6));if(!_0x25c60d[_0x1fb4b2(0xfd)])throw _0x1d59ed[_0x1fb4b2(0xe3)](Error,_0x1d59ed['oTlMt']);const _0x11460d=helper[_0x1fb4b2(0x102)](_0x25c60d['config']);_0x25c60d['config'][_0x1fb4b2(0xd5)]&&_0x1d59ed[_0x1fb4b2(0xdf)](_0x25c60d[_0x1fb4b2(0xfd)][_0x1fb4b2(0xd5)]['length'],0x0)&&_0x25c60d[_0x1fb4b2(0xfd)]['platforms'][_0x1fb4b2(0xd7)]((_0xf648b7,_0x21499e)=>{const _0xf7f284=_0x1fb4b2;_0x11460d?_0x5818b7[_0xf7f284(0xe2)](helper['modifyBrowserStackW3CCaps'](_0x25c60d[_0xf7f284(0xfd)],_0x1d59ed[_0xf7f284(0xeb)],_0x21499e)):_0x5818b7[_0xf7f284(0xe2)](helper['modifyBrowserStackCaps'](_0x25c60d['config'],_0x1d59ed[_0xf7f284(0xeb)],_0x21499e));});let _0x1485d9,_0x56bfb6;const _0x500077=[];if(_0x1d59ed['AyqyJ'](_0x5818b7['length'],0x0))_0x5818b7['forEach']((_0x3740bc,_0x54364f)=>{const _0x3c9949=_0x1fb4b2,_0x3a1abd={};_0x3a1abd['index']=_0x54364f,_0x1485d9={'server':helper[_0x3c9949(0x104)](_0x25c60d[_0x3c9949(0xfd)]),'proxySettings':_0x25c60d['config'][_0x3c9949(0xd8)],'platform':helper[_0x3c9949(0xed)](_0x3740bc),'platformCaps':Object[_0x3c9949(0xf9)](_0x3a1abd,_0x25c60d[_0x3c9949(0xfd)][_0x3c9949(0xd5)][_0x54364f])};const _0x1644ae={'capability':_0x3740bc,..._0x1485d9};_0x1644ae[_0x3c9949(0xf7)]=_0x25c141,_0x1644ae[_0x3c9949(0xd6)]=_0x425a30;const _0x178bdc={};_0x178bdc['configuration']=_0x1644ae,_0x56bfb6=_0x178bdc,_0x500077['push'](_0x56bfb6);});else{let _0x567f83;_0x11460d?_0x567f83=helper[_0x1fb4b2(0xf0)](_0x25c60d[_0x1fb4b2(0xfd)],_0x1d59ed[_0x1fb4b2(0xeb)],0x0):_0x567f83=helper[_0x1fb4b2(0x101)](_0x25c60d[_0x1fb4b2(0xfd)],_0x1d59ed[_0x1fb4b2(0xeb)],0x0);_0x1485d9={'server':helper['getHubUrl'](_0x25c60d[_0x1fb4b2(0xfd)]),'proxySettings':_0x25c60d[_0x1fb4b2(0xfd)][_0x1fb4b2(0xd8)]};const _0x344637={'capability':_0x567f83,..._0x1485d9};_0x344637[_0x1fb4b2(0xf7)]=_0x25c141,_0x344637['args']=_0x425a30;const _0x1439cb={};_0x1439cb[_0x1fb4b2(0xfc)]=_0x344637,_0x56bfb6=_0x1439cb,_0x500077['push'](_0x56bfb6);}const _0x25c041=await TestHubHandler['launchBuild'](_0x1d59ed[_0x1fb4b2(0xeb)],_0x25c60d),_0x316ce7=_0x1d59ed[_0x1fb4b2(0xd3)](_0x25c60d[_0x1fb4b2(0xfd)][_0x1fb4b2(0xd5)][_0x1fb4b2(0xe4)]||0x1,_0x25c60d['config']['parallelsPerPlatform']||0x1);PerformanceTester[_0x1fb4b2(0xe5)](PerformanceEvents[_0x1fb4b2(0xd4)]),_0x1d59ed[_0x1fb4b2(0xf3)](parallelVanillaRun,_0x500077,_0x316ce7)['then'](_0xf1257f=>{})[_0x1fb4b2(0xfe)](async()=>{const _0x5479d8=_0x1fb4b2;PerformanceTester['start'](PerformanceEvents[_0x5479d8(0xee)]),await utilities[_0x5479d8(0xf1)](_0x25c60d);});}module[a53_0x3cfb3d(0xe1)]=run;