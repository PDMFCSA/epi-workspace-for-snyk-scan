#!/usr/bin/env node
'use strict';const a81_0x50c299=a81_0x3f9a;function a81_0x5ef1(){const _0x59fc13=['FIOlD','forEach','../../helpers/helper','File\x20','push','761852IExhxs','finally','File\x20path\x20is\x20required','assign','Config\x20yml\x20is\x20required','exports','SDK_SETUP','../../helpers/utilities','YvIZF','platforms','initialize','2983155UrNGJm','existsSync','isUndefined','SlxrF','ctoLV','\x20doesn\x27t\x20exist','200IesxaC','iQYXt','SDK_CLEANUP','EVENTS','finalExecution','jjfGH','../test-runner','283570hQQcXZ','5KtypUZ','cwd','path','../../helpers/BrowserStackSetup','../../helpers/performance/performance-tester','join','4164676rpPmAI','modifyBrowserStackCaps','MyzAc','index','50ShRZSK','getHubUrl','length','then','file','proxySettings','7134Wssoxb','configuration','../../helpers/performance/constants','modifyBrowserStackW3CCaps','../../helpers/testhub/testhubHandler','5507340XoornI','launchBuild','config','parallelsPerPlatform','args','start','end','501849JrIYwR'];a81_0x5ef1=function(){return _0x59fc13;};return a81_0x5ef1();}function a81_0x3f9a(_0x2aeed0,_0x58949a){const _0x5ef109=a81_0x5ef1();return a81_0x3f9a=function(_0x3f9af9,_0x46d4de){_0x3f9af9=_0x3f9af9-0x105;let _0x1712cb=_0x5ef109[_0x3f9af9];return _0x1712cb;},a81_0x3f9a(_0x2aeed0,_0x58949a);}(function(_0x55d149,_0x20e273){const _0x2aa928=a81_0x3f9a,_0x35d163=_0x55d149();while(!![]){try{const _0x1b5d1c=-parseInt(_0x2aa928(0x117))/0x1+parseInt(_0x2aa928(0x129))/0x2+-parseInt(_0x2aa928(0x134))/0x3+parseInt(_0x2aa928(0x10d))/0x4*(-parseInt(_0x2aa928(0x107))/0x5)+parseInt(_0x2aa928(0x11c))/0x6+-parseInt(_0x2aa928(0x106))/0x7*(-parseInt(_0x2aa928(0x13a))/0x8)+-parseInt(_0x2aa928(0x123))/0x9*(-parseInt(_0x2aa928(0x111))/0xa);if(_0x1b5d1c===_0x20e273)break;else _0x35d163['push'](_0x35d163['shift']());}catch(_0x437b63){_0x35d163['push'](_0x35d163['shift']());}}}(a81_0x5ef1,0x85b63));const fs=require('fs'),path=require(a81_0x50c299(0x109)),{default:BrowserStackSetup}=require(a81_0x50c299(0x10a)),helper=require(a81_0x50c299(0x126)),PerformanceTester=require(a81_0x50c299(0x10b)),PerformanceEvents=require(a81_0x50c299(0x119))[a81_0x50c299(0x13d)],utilities=require(a81_0x50c299(0x130)),{parallelVanillaRun}=require(a81_0x50c299(0x105)),TestHubHandler=require(a81_0x50c299(0x11b));async function run(_0x15e581,_0x49db47,_0x22e66e){const _0x2cc094=a81_0x50c299,_0x2f849e={'ctoLV':'vanilla','YvIZF':function(_0x3b0ef1,_0x489156){return _0x3b0ef1(_0x489156);},'aPjPo':_0x2cc094(0x12b),'jjfGH':function(_0x21ed2c,_0x3138e0){return _0x21ed2c(_0x3138e0);},'iQYXt':_0x2cc094(0x12d),'SlxrF':function(_0xa30503,_0x518ade){return _0xa30503>_0x518ade;},'MyzAc':function(_0x38d274,_0x5bd45a){return _0x38d274*_0x5bd45a;},'FIOlD':function(_0x20f087,_0x22409e,_0x421a36){return _0x20f087(_0x22409e,_0x421a36);}};await _0x22e66e[_0x2cc094(0x133)](_0x15e581),await helper['handleApp'](_0x22e66e[_0x2cc094(0x11e)]);const _0x5a8d22=[];if(helper[_0x2cc094(0x136)](_0x15e581['_'][0x1]))throw _0x2f849e[_0x2cc094(0x131)](Error,_0x2f849e['aPjPo']);const _0x49a105=path[_0x2cc094(0x10c)](process[_0x2cc094(0x108)](),_0x15e581['_'][0x1]);if(!fs[_0x2cc094(0x135)](_0x49a105))throw _0x2f849e[_0x2cc094(0x131)](Error,_0x2cc094(0x127)+_0x15e581['_'][0x1]+_0x2cc094(0x139));if(!_0x22e66e[_0x2cc094(0x11e)])throw _0x2f849e[_0x2cc094(0x13f)](Error,_0x2f849e[_0x2cc094(0x13b)]);const _0x1952a9=helper['useW3C'](_0x22e66e['config']);_0x22e66e[_0x2cc094(0x11e)]['platforms']&&_0x2f849e[_0x2cc094(0x137)](_0x22e66e[_0x2cc094(0x11e)][_0x2cc094(0x132)][_0x2cc094(0x113)],0x0)&&_0x22e66e[_0x2cc094(0x11e)]['platforms'][_0x2cc094(0x125)]((_0x23b796,_0x5e8cf7)=>{const _0x3d44b6=_0x2cc094;_0x1952a9?_0x5a8d22[_0x3d44b6(0x128)](helper['modifyBrowserStackW3CCaps'](_0x22e66e[_0x3d44b6(0x11e)],_0x2f849e[_0x3d44b6(0x138)],_0x5e8cf7)):_0x5a8d22[_0x3d44b6(0x128)](helper['modifyBrowserStackCaps'](_0x22e66e[_0x3d44b6(0x11e)],_0x2f849e[_0x3d44b6(0x138)],_0x5e8cf7));});let _0x33f671,_0x3ddd54;const _0x1308fa=[];if(_0x2f849e[_0x2cc094(0x137)](_0x5a8d22[_0x2cc094(0x113)],0x0))_0x5a8d22['forEach']((_0x1a7a4f,_0x3d41b9)=>{const _0x10c5de=_0x2cc094,_0x54f629={};_0x54f629[_0x10c5de(0x110)]=_0x3d41b9,_0x33f671={'server':helper[_0x10c5de(0x112)](_0x22e66e['config']),'proxySettings':_0x22e66e[_0x10c5de(0x11e)][_0x10c5de(0x116)],'platform':helper['getPlatformName'](_0x1a7a4f),'platformCaps':Object[_0x10c5de(0x12c)](_0x54f629,_0x22e66e[_0x10c5de(0x11e)][_0x10c5de(0x132)][_0x3d41b9])};const _0x15d6a1={'capability':_0x1a7a4f,..._0x33f671};_0x15d6a1[_0x10c5de(0x115)]=_0x49a105,_0x15d6a1[_0x10c5de(0x120)]=_0x49db47;const _0x467d74={};_0x467d74[_0x10c5de(0x118)]=_0x15d6a1,_0x3ddd54=_0x467d74,_0x1308fa['push'](_0x3ddd54);});else{let _0x7616cb;_0x1952a9?_0x7616cb=helper[_0x2cc094(0x11a)](_0x22e66e[_0x2cc094(0x11e)],_0x2f849e[_0x2cc094(0x138)],0x0):_0x7616cb=helper[_0x2cc094(0x10e)](_0x22e66e[_0x2cc094(0x11e)],_0x2f849e[_0x2cc094(0x138)],0x0);_0x33f671={'server':helper[_0x2cc094(0x112)](_0x22e66e[_0x2cc094(0x11e)]),'proxySettings':_0x22e66e[_0x2cc094(0x11e)][_0x2cc094(0x116)]};const _0x4ae2b1={'capability':_0x7616cb,..._0x33f671};_0x4ae2b1['file']=_0x49a105,_0x4ae2b1['args']=_0x49db47;const _0x5c4e7d={};_0x5c4e7d['configuration']=_0x4ae2b1,_0x3ddd54=_0x5c4e7d,_0x1308fa[_0x2cc094(0x128)](_0x3ddd54);}const _0xc35740=await TestHubHandler[_0x2cc094(0x11d)](_0x2f849e[_0x2cc094(0x138)],_0x22e66e),_0x553532=_0x2f849e[_0x2cc094(0x10f)](_0x22e66e['config'][_0x2cc094(0x132)][_0x2cc094(0x113)]||0x1,_0x22e66e[_0x2cc094(0x11e)][_0x2cc094(0x11f)]||0x1);PerformanceTester[_0x2cc094(0x122)](PerformanceEvents[_0x2cc094(0x12f)]),_0x2f849e[_0x2cc094(0x124)](parallelVanillaRun,_0x1308fa,_0x553532)[_0x2cc094(0x114)](_0x145838=>{})[_0x2cc094(0x12a)](async()=>{const _0x4ea12a=_0x2cc094;PerformanceTester[_0x4ea12a(0x121)](PerformanceEvents[_0x4ea12a(0x13c)]),await utilities[_0x4ea12a(0x13e)](_0x22e66e);});}module[a81_0x50c299(0x12e)]=run;