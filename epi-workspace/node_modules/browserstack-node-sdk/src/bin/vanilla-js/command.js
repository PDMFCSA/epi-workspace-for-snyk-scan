#!/usr/bin/env node
'use strict';const a81_0x3df3eb=a81_0x35e3;(function(_0x42f51b,_0x41d50b){const _0x29ef46=a81_0x35e3,_0x2c4aca=_0x42f51b();while(!![]){try{const _0x48e9e7=parseInt(_0x29ef46(0x86))/0x1*(parseInt(_0x29ef46(0xac))/0x2)+parseInt(_0x29ef46(0x8f))/0x3*(-parseInt(_0x29ef46(0x7e))/0x4)+parseInt(_0x29ef46(0x7b))/0x5*(-parseInt(_0x29ef46(0x8d))/0x6)+parseInt(_0x29ef46(0x90))/0x7*(-parseInt(_0x29ef46(0x88))/0x8)+-parseInt(_0x29ef46(0x84))/0x9+-parseInt(_0x29ef46(0x83))/0xa+parseInt(_0x29ef46(0x97))/0xb*(parseInt(_0x29ef46(0xa6))/0xc);if(_0x48e9e7===_0x41d50b)break;else _0x2c4aca['push'](_0x2c4aca['shift']());}catch(_0x37988b){_0x2c4aca['push'](_0x2c4aca['shift']());}}}(a81_0x5f46,0x226b6));function a81_0x35e3(_0x530db2,_0x59ef06){const _0x5f46ea=a81_0x5f46();return a81_0x35e3=function(_0x35e319,_0x2cbfc6){_0x35e319=_0x35e319-0x7b;let _0x2dfb05=_0x5f46ea[_0x35e319];return _0x2dfb05;},a81_0x35e3(_0x530db2,_0x59ef06);}const fs=require('fs'),path=require('path'),{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a81_0x3df3eb(0x9f)),PerformanceTester=require(a81_0x3df3eb(0x81)),PerformanceEvents=require(a81_0x3df3eb(0x7f))[a81_0x3df3eb(0xad)],utilities=require(a81_0x3df3eb(0x9b)),{parallelVanillaRun}=require(a81_0x3df3eb(0x9a)),TestHubHandler=require(a81_0x3df3eb(0xaf));async function run(_0x31be9d,_0x2ec17c,_0x578778){const _0x547136=a81_0x3df3eb,_0x497caa={'muiFk':_0x547136(0x98),'tkHCm':function(_0xfe4e64,_0x370f68){return _0xfe4e64(_0x370f68);},'rozGR':'File\x20path\x20is\x20required','PeuYf':'Config\x20yml\x20is\x20required','BIZYv':function(_0x1488d2,_0x5397b4){return _0x1488d2>_0x5397b4;},'iIIFq':function(_0x5daa90,_0x520d09){return _0x5daa90*_0x520d09;},'YqHLW':function(_0x36974d,_0x100f28,_0x2e2b91){return _0x36974d(_0x100f28,_0x2e2b91);}};await _0x578778[_0x547136(0xa3)](_0x31be9d),await helper['handleApp'](_0x578778[_0x547136(0x99)]);const _0x1bf48e=[];if(helper[_0x547136(0xa9)](_0x31be9d['_'][0x1]))throw _0x497caa['tkHCm'](Error,_0x497caa['rozGR']);const _0x20ae8c=path[_0x547136(0xa7)](process[_0x547136(0x91)](),_0x31be9d['_'][0x1]);if(!fs[_0x547136(0x8c)](_0x20ae8c))throw _0x497caa[_0x547136(0xa2)](Error,_0x547136(0xa1)+_0x31be9d['_'][0x1]+'\x20doesn\x27t\x20exist');if(!_0x578778[_0x547136(0x99)])throw _0x497caa[_0x547136(0xa2)](Error,_0x497caa[_0x547136(0x94)]);const _0x1cc106=helper['useW3C'](_0x578778['config']);_0x578778['config']['platforms']&&_0x497caa['BIZYv'](_0x578778[_0x547136(0x99)][_0x547136(0x96)][_0x547136(0x9e)],0x0)&&_0x578778[_0x547136(0x99)][_0x547136(0x96)][_0x547136(0x92)]((_0x2852b2,_0x57d272)=>{const _0xe94ab0=_0x547136;_0x1cc106?_0x1bf48e[_0xe94ab0(0x8b)](helper['modifyBrowserStackW3CCaps'](_0x578778[_0xe94ab0(0x99)],_0x497caa[_0xe94ab0(0xa0)],_0x57d272)):_0x1bf48e['push'](helper[_0xe94ab0(0xb0)](_0x578778[_0xe94ab0(0x99)],_0x497caa[_0xe94ab0(0xa0)],_0x57d272));});let _0x52a967,_0x228684;const _0xda0e6a=[];if(_0x497caa[_0x547136(0x82)](_0x1bf48e[_0x547136(0x9e)],0x0))_0x1bf48e[_0x547136(0x92)]((_0x5e1954,_0x42d1d9)=>{const _0x2fad53=_0x547136,_0x3b7542={};_0x3b7542[_0x2fad53(0x80)]=_0x42d1d9,_0x52a967={'server':helper[_0x2fad53(0x87)](_0x578778['config']),'proxySettings':_0x578778[_0x2fad53(0x99)][_0x2fad53(0x9c)],'platform':helper[_0x2fad53(0x8a)](_0x5e1954),'platformCaps':Object[_0x2fad53(0x85)](_0x3b7542,_0x578778['config'][_0x2fad53(0x96)][_0x42d1d9])};const _0x4c60ac={'capability':_0x5e1954,..._0x52a967};_0x4c60ac[_0x2fad53(0xa5)]=_0x20ae8c,_0x4c60ac[_0x2fad53(0xae)]=_0x2ec17c;const _0x119376={};_0x119376[_0x2fad53(0xab)]=_0x4c60ac,_0x228684=_0x119376,_0xda0e6a[_0x2fad53(0x8b)](_0x228684);});else{let _0x11d034;_0x1cc106?_0x11d034=helper['modifyBrowserStackW3CCaps'](_0x578778[_0x547136(0x99)],_0x497caa[_0x547136(0xa0)],0x0):_0x11d034=helper[_0x547136(0xb0)](_0x578778[_0x547136(0x99)],_0x497caa['muiFk'],0x0);_0x52a967={'server':helper[_0x547136(0x87)](_0x578778[_0x547136(0x99)]),'proxySettings':_0x578778['config']['proxySettings']};const _0x24197b={'capability':_0x11d034,..._0x52a967};_0x24197b[_0x547136(0xa5)]=_0x20ae8c,_0x24197b[_0x547136(0xae)]=_0x2ec17c;const _0x3e542e={};_0x3e542e[_0x547136(0xab)]=_0x24197b,_0x228684=_0x3e542e,_0xda0e6a[_0x547136(0x8b)](_0x228684);}const _0x18b4a5=await TestHubHandler[_0x547136(0x7c)](_0x497caa[_0x547136(0xa0)],_0x578778),_0x26c546=_0x497caa['iIIFq'](_0x578778[_0x547136(0x99)][_0x547136(0x96)][_0x547136(0x9e)]||0x1,_0x578778[_0x547136(0x99)][_0x547136(0x8e)]||0x1);PerformanceTester[_0x547136(0xa4)](PerformanceEvents[_0x547136(0x93)]),_0x497caa[_0x547136(0xaa)](parallelVanillaRun,_0xda0e6a,_0x26c546)[_0x547136(0x95)](_0x4633dc=>{})[_0x547136(0x89)](async()=>{const _0x54ee12=_0x547136;PerformanceTester[_0x54ee12(0xa8)](PerformanceEvents[_0x54ee12(0x9d)]),await utilities[_0x54ee12(0x7d)](_0x578778);});}module['exports']=run;function a81_0x5f46(){const _0x42bc45=['start','isUndefined','YqHLW','configuration','16DkPqIj','EVENTS','args','../../helpers/testhub/testhubHandler','modifyBrowserStackCaps','470GpYdjo','launchBuild','finalExecution','243368qHvHCL','../../helpers/performance/constants','index','../../helpers/performance/performance-tester','BIZYv','309520nqHTKY','2249829cVqvsB','assign','11650lNqxQb','getHubUrl','7960XzNMMG','finally','getPlatformName','push','existsSync','16158SwZQwA','parallelsPerPlatform','3LeAMEd','1470mcDBaw','cwd','forEach','SDK_SETUP','PeuYf','then','platforms','561QCyoJC','vanilla','config','../test-runner','../../helpers/utilities','proxySettings','SDK_CLEANUP','length','../../helpers/helper','muiFk','File\x20','tkHCm','initialize','end','file','200388RPBmdU','join'];a81_0x5f46=function(){return _0x42bc45;};return a81_0x5f46();}