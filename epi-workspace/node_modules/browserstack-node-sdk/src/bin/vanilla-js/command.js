#!/usr/bin/env node
'use strict';const a53_0x469d42=a53_0x2b0c;function a53_0x2b0c(_0x2eb166,_0x29b0c0){const _0xb3a225=a53_0xb3a2();return a53_0x2b0c=function(_0x2b0c70,_0x5298f2){_0x2b0c70=_0x2b0c70-0x8c;let _0x3eaa6c=_0xb3a225[_0x2b0c70];return _0x3eaa6c;},a53_0x2b0c(_0x2eb166,_0x29b0c0);}(function(_0x1e48e9,_0x59bc73){const _0x4528ee=a53_0x2b0c,_0x38d159=_0x1e48e9();while(!![]){try{const _0x23896d=parseInt(_0x4528ee(0xaa))/0x1*(parseInt(_0x4528ee(0x93))/0x2)+-parseInt(_0x4528ee(0xb5))/0x3*(parseInt(_0x4528ee(0xab))/0x4)+-parseInt(_0x4528ee(0xa1))/0x5*(-parseInt(_0x4528ee(0xad))/0x6)+parseInt(_0x4528ee(0x96))/0x7*(-parseInt(_0x4528ee(0xbe))/0x8)+parseInt(_0x4528ee(0x92))/0x9*(parseInt(_0x4528ee(0xc1))/0xa)+-parseInt(_0x4528ee(0xba))/0xb+-parseInt(_0x4528ee(0xbf))/0xc*(-parseInt(_0x4528ee(0xb1))/0xd);if(_0x23896d===_0x59bc73)break;else _0x38d159['push'](_0x38d159['shift']());}catch(_0x5656d1){_0x38d159['push'](_0x38d159['shift']());}}}(a53_0xb3a2,0xe540c));const fs=require('fs'),path=require(a53_0x469d42(0x9c)),{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require('../../helpers/helper'),PerformanceTester=require(a53_0x469d42(0x9d)),PerformanceEvents=require(a53_0x469d42(0xaf))[a53_0x469d42(0xb7)],utilities=require(a53_0x469d42(0xb4)),{parallelVanillaRun}=require('../test-runner'),TestHubHandler=require(a53_0x469d42(0xb0));async function run(_0x47f375,_0x48eeab){const _0x225734=a53_0x469d42,_0x4769e8={'fDaYd':_0x225734(0x9b),'kSNbm':function(_0xcb1491,_0x441334){return _0xcb1491(_0x441334);},'jDqUn':_0x225734(0xb6),'Lsjop':function(_0x41dbf5,_0x3c13d0){return _0x41dbf5(_0x3c13d0);},'EpcCj':'Config\x20yml\x20is\x20required','KtaCw':function(_0xc8dbb6,_0xa3b8df){return _0xc8dbb6>_0xa3b8df;},'whWLw':function(_0x2fd676,_0x5972a8){return _0x2fd676>_0x5972a8;},'mNGQL':function(_0xc563ff,_0x272f18){return _0xc563ff*_0x272f18;},'mDASu':function(_0x5b6344,_0x5e756e,_0x2634cf){return _0x5b6344(_0x5e756e,_0x2634cf);}},_0x3cae5c=new BrowserStackSetup(_0x47f375,_0x4769e8[_0x225734(0x8f)]);await _0x3cae5c[_0x225734(0x97)](),await helper[_0x225734(0x8d)](_0x3cae5c[_0x225734(0xbc)]);const _0x5288ee=[];if(helper[_0x225734(0xa2)](_0x47f375['_'][0x1]))throw _0x4769e8[_0x225734(0xa4)](Error,_0x4769e8[_0x225734(0xbb)]);const _0x338490=path['join'](process[_0x225734(0x9f)](),_0x47f375['_'][0x1]);if(!fs['existsSync'](_0x338490))throw _0x4769e8[_0x225734(0xa4)](Error,'File\x20'+_0x47f375['_'][0x1]+_0x225734(0xb9));if(!_0x3cae5c[_0x225734(0xbc)])throw _0x4769e8[_0x225734(0xb8)](Error,_0x4769e8[_0x225734(0xc0)]);const _0x5d968=helper[_0x225734(0xa0)](_0x3cae5c[_0x225734(0xbc)]);_0x3cae5c['config'][_0x225734(0x8e)]&&_0x4769e8['KtaCw'](_0x3cae5c[_0x225734(0xbc)][_0x225734(0x8e)][_0x225734(0x95)],0x0)&&_0x3cae5c['config'][_0x225734(0x8e)]['forEach']((_0x5b677b,_0x2d206a)=>{const _0x1efe18=_0x225734;_0x5d968?_0x5288ee['push'](helper['modifyBrowserStackW3CCaps'](_0x3cae5c[_0x1efe18(0xbc)],_0x4769e8[_0x1efe18(0x8f)],_0x2d206a)):_0x5288ee[_0x1efe18(0x8c)](helper[_0x1efe18(0x94)](_0x3cae5c[_0x1efe18(0xbc)],_0x4769e8[_0x1efe18(0x8f)],_0x2d206a));});let _0x4927b5,_0x17bac9;const _0x31818f=[];if(_0x4769e8[_0x225734(0x98)](_0x5288ee['length'],0x0))_0x5288ee[_0x225734(0xc2)]((_0x8207cb,_0x5c7eed)=>{const _0x34f7e1=_0x225734,_0x232331={};_0x232331[_0x34f7e1(0xa7)]=_0x5c7eed,_0x4927b5={'server':helper[_0x34f7e1(0x9e)](_0x3cae5c[_0x34f7e1(0xbc)]),'proxySettings':_0x3cae5c[_0x34f7e1(0xbc)][_0x34f7e1(0xa8)],'platform':helper[_0x34f7e1(0xb3)](_0x8207cb),'platformCaps':Object['assign'](_0x232331,_0x3cae5c[_0x34f7e1(0xbc)]['platforms'][_0x5c7eed])};const _0x4ece16={'capability':_0x8207cb,..._0x4927b5};_0x4ece16[_0x34f7e1(0xa5)]=_0x338490,_0x4ece16[_0x34f7e1(0xa6)]=_0x48eeab;const _0x3ec041={};_0x3ec041[_0x34f7e1(0x9a)]=_0x4ece16,_0x17bac9=_0x3ec041,_0x31818f['push'](_0x17bac9);});else{let _0x54de19;_0x5d968?_0x54de19=helper[_0x225734(0xb2)](_0x3cae5c[_0x225734(0xbc)],_0x4769e8[_0x225734(0x8f)],0x0):_0x54de19=helper['modifyBrowserStackCaps'](_0x3cae5c[_0x225734(0xbc)],_0x4769e8['fDaYd'],0x0);_0x4927b5={'server':helper[_0x225734(0x9e)](_0x3cae5c[_0x225734(0xbc)]),'proxySettings':_0x3cae5c[_0x225734(0xbc)][_0x225734(0xa8)]};const _0x58b427={'capability':_0x54de19,..._0x4927b5};_0x58b427['file']=_0x338490,_0x58b427[_0x225734(0xa6)]=_0x48eeab;const _0x41b3be={};_0x41b3be[_0x225734(0x9a)]=_0x58b427,_0x17bac9=_0x41b3be,_0x31818f[_0x225734(0x8c)](_0x17bac9);}const _0x1f2333=await TestHubHandler['launchBuild'](_0x4769e8[_0x225734(0x8f)],_0x3cae5c),_0x4a21fc=_0x4769e8[_0x225734(0xac)](_0x3cae5c[_0x225734(0xbc)][_0x225734(0x8e)][_0x225734(0x95)]||0x1,_0x3cae5c[_0x225734(0xbc)][_0x225734(0xbd)]||0x1);PerformanceTester['end'](PerformanceEvents[_0x225734(0xa9)]),_0x4769e8[_0x225734(0x90)](parallelVanillaRun,_0x31818f,_0x4a21fc)[_0x225734(0xc3)](_0x40214e=>{})[_0x225734(0xa3)](async()=>{const _0x37102a=_0x225734;PerformanceTester['start'](PerformanceEvents[_0x37102a(0x99)]),await utilities[_0x37102a(0x91)](_0x3cae5c);});}module[a53_0x469d42(0xae)]=run;function a53_0xb3a2(){const _0x12b51b=['modifyBrowserStackW3CCaps','getPlatformName','../../helpers/utilities','3376362YypVGQ','File\x20path\x20is\x20required','EVENTS','Lsjop','\x20doesn\x27t\x20exist','14782009fhuauF','jDqUn','config','parallelsPerPlatform','6716536cyExxn','14857476GRZMcq','EpcCj','30520NznEfZ','forEach','then','push','handleApp','platforms','fDaYd','mDASu','finalExecution','459CSUEur','1142umsoZF','modifyBrowserStackCaps','length','7HcepTS','initialize','whWLw','SDK_CLEANUP','configuration','vanilla','path','../../helpers/performance/performance-tester','getHubUrl','cwd','useW3C','5bvQCiV','isUndefined','finally','kSNbm','file','args','index','proxySettings','SDK_SETUP','2916fyRaNW','4qqCcEP','mNGQL','7134294IusCuT','exports','../../helpers/performance/constants','../../helpers/testhub/testhubHandler','13fnTiCO'];a53_0xb3a2=function(){return _0x12b51b;};return a53_0xb3a2();}