#!/usr/bin/env node
'use strict';function a89_0x34fe(){const _0x48eace=['proxySettings','forEach','parallelsPerPlatform','Config\x20yml\x20is\x20required','eFAaY','platforms','TmdUJ','then','push','ouijn','../../helpers/performance/constants','finally','XrRtz','../../helpers/helper','useW3C','4Clyskd','../../helpers/BrowserStackSetup','configuration','existsSync','assign','653664YDIEmn','970GUzEpB','exports','vanilla','82289dBubMb','../../helpers/performance/performance-tester','440000OgNEoo','Uccjy','2216725HyCsXQ','195uChCZC','BFNaq','finalExecution','getHubUrl','getPlatformName','config','21304DkQQam','../../helpers/utilities','2584144suRYxG','../test-runner','join','\x20doesn\x27t\x20exist','6JUbFUV','EVENTS','10593ZaSUQP','launchBuild','isUndefined','File\x20path\x20is\x20required','file','modifyBrowserStackW3CCaps','length','ZvaKr','modifyBrowserStackCaps','args'];a89_0x34fe=function(){return _0x48eace;};return a89_0x34fe();}const a89_0x57f6d1=a89_0x22fd;function a89_0x22fd(_0x2ae565,_0x5ad899){const _0x34fee6=a89_0x34fe();return a89_0x22fd=function(_0x22fdc3,_0x464d32){_0x22fdc3=_0x22fdc3-0xfa;let _0x1e4f56=_0x34fee6[_0x22fdc3];return _0x1e4f56;},a89_0x22fd(_0x2ae565,_0x5ad899);}(function(_0x347575,_0x154a0e){const _0x309c83=a89_0x22fd,_0x43322a=_0x347575();while(!![]){try{const _0x8d1012=-parseInt(_0x309c83(0x109))/0x1*(parseInt(_0x309c83(0x100))/0x2)+parseInt(_0x309c83(0x10e))/0x3*(-parseInt(_0x309c83(0x114))/0x4)+-parseInt(_0x309c83(0x10b))/0x5+-parseInt(_0x309c83(0x11a))/0x6*(-parseInt(_0x309c83(0x10d))/0x7)+parseInt(_0x309c83(0x116))/0x8+-parseInt(_0x309c83(0x11c))/0x9*(-parseInt(_0x309c83(0x106))/0xa)+parseInt(_0x309c83(0x105))/0xb;if(_0x8d1012===_0x154a0e)break;else _0x43322a['push'](_0x43322a['shift']());}catch(_0x33f3ca){_0x43322a['push'](_0x43322a['shift']());}}}(a89_0x34fe,0x345f6));const fs=require('fs'),path=require('path'),{default:BrowserStackSetup}=require(a89_0x57f6d1(0x101)),helper=require(a89_0x57f6d1(0xfe)),PerformanceTester=require(a89_0x57f6d1(0x10a)),PerformanceEvents=require(a89_0x57f6d1(0xfb))[a89_0x57f6d1(0x11b)],utilities=require(a89_0x57f6d1(0x115)),{parallelVanillaRun}=require(a89_0x57f6d1(0x117)),TestHubHandler=require('../../helpers/testhub/testhubHandler');async function run(_0x423fc3,_0x28d509,_0x45b897){const _0x34383e=a89_0x57f6d1,_0x324f1b={'ouijn':_0x34383e(0x108),'upFvh':function(_0x3a5ebb,_0x5ebf69){return _0x3a5ebb(_0x5ebf69);},'TmdUJ':_0x34383e(0x11f),'XrRtz':function(_0x52064b,_0x2d679a){return _0x52064b(_0x2d679a);},'BnBMl':function(_0x20a1d6,_0x5973a8){return _0x20a1d6(_0x5973a8);},'Uccjy':_0x34383e(0x129),'aBZlZ':function(_0x377dde,_0x23d29e){return _0x377dde>_0x23d29e;},'ZvaKr':function(_0x55da34,_0x1a5499){return _0x55da34>_0x1a5499;},'BFNaq':function(_0x257be9,_0x5b4640){return _0x257be9*_0x5b4640;},'eFAaY':function(_0x592f16,_0x15d440,_0x337abb){return _0x592f16(_0x15d440,_0x337abb);}};await _0x45b897['initialize'](_0x423fc3),await helper['handleApp'](_0x45b897['config']);const _0x3b4bcb=[];if(helper[_0x34383e(0x11e)](_0x423fc3['_'][0x1]))throw _0x324f1b['upFvh'](Error,_0x324f1b[_0x34383e(0x12c)]);const _0x1a213f=path[_0x34383e(0x118)](process['cwd'](),_0x423fc3['_'][0x1]);if(!fs[_0x34383e(0x103)](_0x1a213f))throw _0x324f1b[_0x34383e(0xfd)](Error,'File\x20'+_0x423fc3['_'][0x1]+_0x34383e(0x119));if(!_0x45b897[_0x34383e(0x113)])throw _0x324f1b['BnBMl'](Error,_0x324f1b[_0x34383e(0x10c)]);const _0x2f9090=helper[_0x34383e(0xff)](_0x45b897['config']);_0x45b897[_0x34383e(0x113)]['platforms']&&_0x324f1b['aBZlZ'](_0x45b897['config']['platforms']['length'],0x0)&&_0x45b897[_0x34383e(0x113)][_0x34383e(0x12b)][_0x34383e(0x127)]((_0x53ed0d,_0x321a96)=>{const _0xa2157e=_0x34383e;_0x2f9090?_0x3b4bcb[_0xa2157e(0x12e)](helper[_0xa2157e(0x121)](_0x45b897['config'],_0x324f1b[_0xa2157e(0xfa)],_0x321a96)):_0x3b4bcb['push'](helper[_0xa2157e(0x124)](_0x45b897['config'],_0x324f1b[_0xa2157e(0xfa)],_0x321a96));});let _0x359b13,_0x427a9d;const _0x39fbff=[];if(_0x324f1b[_0x34383e(0x123)](_0x3b4bcb[_0x34383e(0x122)],0x0))_0x3b4bcb['forEach']((_0x1a0c75,_0x5abaf7)=>{const _0x469dcc=_0x34383e,_0x4b255f={};_0x4b255f['index']=_0x5abaf7,_0x359b13={'server':helper[_0x469dcc(0x111)](_0x45b897['config']),'proxySettings':_0x45b897[_0x469dcc(0x113)][_0x469dcc(0x126)],'platform':helper[_0x469dcc(0x112)](_0x1a0c75),'platformCaps':Object[_0x469dcc(0x104)](_0x4b255f,_0x45b897[_0x469dcc(0x113)][_0x469dcc(0x12b)][_0x5abaf7])};const _0x108bcd={'capability':_0x1a0c75,..._0x359b13};_0x108bcd['file']=_0x1a213f,_0x108bcd[_0x469dcc(0x125)]=_0x28d509;const _0x574448={};_0x574448[_0x469dcc(0x102)]=_0x108bcd,_0x427a9d=_0x574448,_0x39fbff[_0x469dcc(0x12e)](_0x427a9d);});else{let _0x5e1530;_0x2f9090?_0x5e1530=helper[_0x34383e(0x121)](_0x45b897[_0x34383e(0x113)],_0x324f1b['ouijn'],0x0):_0x5e1530=helper[_0x34383e(0x124)](_0x45b897[_0x34383e(0x113)],_0x324f1b[_0x34383e(0xfa)],0x0);_0x359b13={'server':helper[_0x34383e(0x111)](_0x45b897[_0x34383e(0x113)]),'proxySettings':_0x45b897[_0x34383e(0x113)][_0x34383e(0x126)]};const _0x27f0d3={'capability':_0x5e1530,..._0x359b13};_0x27f0d3[_0x34383e(0x120)]=_0x1a213f,_0x27f0d3['args']=_0x28d509;const _0x374e60={};_0x374e60[_0x34383e(0x102)]=_0x27f0d3,_0x427a9d=_0x374e60,_0x39fbff[_0x34383e(0x12e)](_0x427a9d);}const _0x33bf6e=await TestHubHandler[_0x34383e(0x11d)](_0x324f1b[_0x34383e(0xfa)],_0x45b897),_0x189abb=_0x324f1b[_0x34383e(0x10f)](_0x45b897['config'][_0x34383e(0x12b)][_0x34383e(0x122)]||0x1,_0x45b897[_0x34383e(0x113)][_0x34383e(0x128)]||0x1);PerformanceTester['end'](PerformanceEvents['SDK_SETUP']),_0x324f1b[_0x34383e(0x12a)](parallelVanillaRun,_0x39fbff,_0x189abb)[_0x34383e(0x12d)](_0x20427a=>{})[_0x34383e(0xfc)](async()=>{const _0x46b638=_0x34383e;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']),await utilities[_0x46b638(0x110)](_0x45b897);});}module[a89_0x57f6d1(0x107)]=run;