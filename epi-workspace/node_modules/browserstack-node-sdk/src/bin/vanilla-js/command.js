#!/usr/bin/env node
'use strict';function a53_0x38e9(_0x167952,_0xe2374e){const _0x7cb73d=a53_0x7cb7();return a53_0x38e9=function(_0x38e993,_0x1581e4){_0x38e993=_0x38e993-0x17b;let _0x515c46=_0x7cb73d[_0x38e993];return _0x515c46;},a53_0x38e9(_0x167952,_0xe2374e);}const a53_0x51e087=a53_0x38e9;(function(_0x5876a3,_0x18d792){const _0x4743a1=a53_0x38e9,_0x2259a1=_0x5876a3();while(!![]){try{const _0x29d6f4=-parseInt(_0x4743a1(0x196))/0x1*(-parseInt(_0x4743a1(0x18a))/0x2)+parseInt(_0x4743a1(0x1a4))/0x3*(parseInt(_0x4743a1(0x1af))/0x4)+parseInt(_0x4743a1(0x19a))/0x5*(-parseInt(_0x4743a1(0x183))/0x6)+parseInt(_0x4743a1(0x18e))/0x7+-parseInt(_0x4743a1(0x18b))/0x8+parseInt(_0x4743a1(0x182))/0x9+-parseInt(_0x4743a1(0x1aa))/0xa;if(_0x29d6f4===_0x18d792)break;else _0x2259a1['push'](_0x2259a1['shift']());}catch(_0x229a87){_0x2259a1['push'](_0x2259a1['shift']());}}}(a53_0x7cb7,0xb474b));const fs=require('fs'),path=require(a53_0x51e087(0x192)),{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require('../../helpers/helper'),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a53_0x51e087(0x19d))[a53_0x51e087(0x17d)],utilities=require(a53_0x51e087(0x19c)),{parallelVanillaRun}=require(a53_0x51e087(0x1ac)),TestHubHandler=require(a53_0x51e087(0x181));async function run(_0x14eb31,_0x6056ec){const _0x2e17d9=a53_0x51e087,_0x1a40fa={'zCInK':_0x2e17d9(0x17c),'RhWOV':function(_0x463d8e,_0x3fad81){return _0x463d8e(_0x3fad81);},'FCvoe':_0x2e17d9(0x199),'nifuG':function(_0x26035b,_0x37b986){return _0x26035b(_0x37b986);},'mCtSs':function(_0x33a776,_0x400865){return _0x33a776(_0x400865);},'izlNi':_0x2e17d9(0x195),'Gldlr':function(_0x50b0a0,_0x5b365d){return _0x50b0a0>_0x5b365d;},'jafVo':function(_0x1be78f,_0x1f054a){return _0x1be78f*_0x1f054a;},'phLLx':function(_0x178d91,_0x354a30,_0x288c08){return _0x178d91(_0x354a30,_0x288c08);}},_0x332e1d=new BrowserStackSetup(_0x14eb31,_0x1a40fa[_0x2e17d9(0x1a6)]);await _0x332e1d[_0x2e17d9(0x184)](),await helper[_0x2e17d9(0x1ad)](_0x332e1d[_0x2e17d9(0x180)]);const _0x213325=[];if(helper[_0x2e17d9(0x1a9)](_0x14eb31['_'][0x1]))throw _0x1a40fa[_0x2e17d9(0x18d)](Error,_0x1a40fa[_0x2e17d9(0x19f)]);const _0x224d03=path[_0x2e17d9(0x19b)](process[_0x2e17d9(0x198)](),_0x14eb31['_'][0x1]);if(!fs[_0x2e17d9(0x189)](_0x224d03))throw _0x1a40fa[_0x2e17d9(0x1a5)](Error,_0x2e17d9(0x19e)+_0x14eb31['_'][0x1]+'\x20doesn\x27t\x20exist');if(!_0x332e1d['config'])throw _0x1a40fa[_0x2e17d9(0x186)](Error,_0x1a40fa['izlNi']);const _0x1c2772=helper[_0x2e17d9(0x194)](_0x332e1d[_0x2e17d9(0x180)]);_0x332e1d[_0x2e17d9(0x180)][_0x2e17d9(0x188)]&&_0x1a40fa[_0x2e17d9(0x18f)](_0x332e1d['config'][_0x2e17d9(0x188)][_0x2e17d9(0x1a0)],0x0)&&_0x332e1d[_0x2e17d9(0x180)][_0x2e17d9(0x188)][_0x2e17d9(0x17f)]((_0x40857b,_0x32a456)=>{const _0x4bacc5=_0x2e17d9;_0x1c2772?_0x213325['push'](helper[_0x4bacc5(0x1a1)](_0x332e1d[_0x4bacc5(0x180)],_0x1a40fa[_0x4bacc5(0x1a6)],_0x32a456)):_0x213325[_0x4bacc5(0x17b)](helper[_0x4bacc5(0x191)](_0x332e1d[_0x4bacc5(0x180)],_0x1a40fa[_0x4bacc5(0x1a6)],_0x32a456));});let _0x101764,_0x133bf0;const _0x15ff53=[];if(_0x1a40fa[_0x2e17d9(0x18f)](_0x213325[_0x2e17d9(0x1a0)],0x0))_0x213325[_0x2e17d9(0x17f)]((_0x5ac4c0,_0x455a72)=>{const _0x5778=_0x2e17d9,_0x3accf9={};_0x3accf9[_0x5778(0x17e)]=_0x455a72,_0x101764={'server':helper[_0x5778(0x197)](_0x332e1d[_0x5778(0x180)]),'proxySettings':_0x332e1d[_0x5778(0x180)][_0x5778(0x1a8)],'platform':helper[_0x5778(0x18c)](_0x5ac4c0),'platformCaps':Object[_0x5778(0x1a7)](_0x3accf9,_0x332e1d[_0x5778(0x180)][_0x5778(0x188)][_0x455a72])};const _0x1e932d={'capability':_0x5ac4c0,..._0x101764};_0x1e932d[_0x5778(0x1b0)]=_0x224d03,_0x1e932d['args']=_0x6056ec;const _0x43493c={};_0x43493c['configuration']=_0x1e932d,_0x133bf0=_0x43493c,_0x15ff53[_0x5778(0x17b)](_0x133bf0);});else{let _0x334b73;_0x1c2772?_0x334b73=helper['modifyBrowserStackW3CCaps'](_0x332e1d[_0x2e17d9(0x180)],_0x1a40fa[_0x2e17d9(0x1a6)],0x0):_0x334b73=helper['modifyBrowserStackCaps'](_0x332e1d[_0x2e17d9(0x180)],_0x1a40fa['zCInK'],0x0);_0x101764={'server':helper[_0x2e17d9(0x197)](_0x332e1d[_0x2e17d9(0x180)]),'proxySettings':_0x332e1d[_0x2e17d9(0x180)][_0x2e17d9(0x1a8)]};const _0x113739={'capability':_0x334b73,..._0x101764};_0x113739[_0x2e17d9(0x1b0)]=_0x224d03,_0x113739[_0x2e17d9(0x1ae)]=_0x6056ec;const _0x1b77c9={};_0x1b77c9['configuration']=_0x113739,_0x133bf0=_0x1b77c9,_0x15ff53['push'](_0x133bf0);}const _0x32daf6=await TestHubHandler['launchBuild'](_0x1a40fa[_0x2e17d9(0x1a6)],_0x332e1d),_0x174ced=_0x1a40fa[_0x2e17d9(0x185)](_0x332e1d['config']['platforms']['length']||0x1,_0x332e1d[_0x2e17d9(0x180)][_0x2e17d9(0x1a2)]||0x1);PerformanceTester['end'](PerformanceEvents[_0x2e17d9(0x187)]),_0x1a40fa[_0x2e17d9(0x190)](parallelVanillaRun,_0x15ff53,_0x174ced)[_0x2e17d9(0x1ab)](_0x42bcfd=>{})['finally'](async()=>{const _0xb42bb7=_0x2e17d9;PerformanceTester['start'](PerformanceEvents[_0xb42bb7(0x1a3)]),await utilities[_0xb42bb7(0x193)](_0x332e1d);});}module['exports']=run;function a53_0x7cb7(){const _0x31e644=['4798664DUgNiW','file','push','vanilla','EVENTS','index','forEach','config','../../helpers/testhub/testhubHandler','12707748vlUUoK','24BXcMgh','initialize','jafVo','mCtSs','SDK_SETUP','platforms','existsSync','1124HdstRn','8428712yKjzlW','getPlatformName','RhWOV','4226285XBCbyo','Gldlr','phLLx','modifyBrowserStackCaps','path','finalExecution','useW3C','Config\x20yml\x20is\x20required','12JPavUs','getHubUrl','cwd','File\x20path\x20is\x20required','1671830PXPOXl','join','../../helpers/utilities','../../helpers/performance/constants','File\x20','FCvoe','length','modifyBrowserStackW3CCaps','parallelsPerPlatform','SDK_CLEANUP','3WUINyy','nifuG','zCInK','assign','proxySettings','isUndefined','919370SjMuvF','then','../test-runner','handleApp','args'];a53_0x7cb7=function(){return _0x31e644;};return a53_0x7cb7();}