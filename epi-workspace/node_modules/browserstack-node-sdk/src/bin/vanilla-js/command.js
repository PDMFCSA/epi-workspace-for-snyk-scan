#!/usr/bin/env node
'use strict';const a81_0x39840d=a81_0x23ea;(function(_0x200892,_0xc065af){const _0x513135=a81_0x23ea,_0x320d9f=_0x200892();while(!![]){try{const _0x535380=-parseInt(_0x513135(0x202))/0x1*(parseInt(_0x513135(0x1f3))/0x2)+parseInt(_0x513135(0x1ed))/0x3+-parseInt(_0x513135(0x1f0))/0x4*(parseInt(_0x513135(0x1f9))/0x5)+-parseInt(_0x513135(0x20d))/0x6*(parseInt(_0x513135(0x1e4))/0x7)+parseInt(_0x513135(0x1f5))/0x8+-parseInt(_0x513135(0x1fb))/0x9+parseInt(_0x513135(0x1f8))/0xa;if(_0x535380===_0xc065af)break;else _0x320d9f['push'](_0x320d9f['shift']());}catch(_0x8a433e){_0x320d9f['push'](_0x320d9f['shift']());}}}(a81_0x3343,0xbd6a5));function a81_0x3343(){const _0x2b4b7c=['22429530ygicXx','345IsVswe','../../helpers/helper','10667637ercrNk','path','getHubUrl','length','config','yIiAB','initialize','35447vtJpoK','EVENTS','../../helpers/BrowserStackSetup','vanilla','forEach','../../helpers/performance/performance-tester','JMYLH','fNVex','isUndefined','modifyBrowserStackW3CCaps','args','774MtTGjc','index','modifyBrowserStackCaps','push','../test-runner','cwd','../../helpers/testhub/testhubHandler','configuration','File\x20','SJwxS','\x20doesn\x27t\x20exist','then','43673otcjDi','SDK_SETUP','file','Config\x20yml\x20is\x20required','../../helpers/utilities','proxySettings','existsSync','end','iYCiY','2755341DFJjQP','finally','SDK_CLEANUP','55204IljbBz','platforms','qiPVx','14QqRwmu','OXmfJ','6439736tblyyz','launchBuild','finalExecution'];a81_0x3343=function(){return _0x2b4b7c;};return a81_0x3343();}const fs=require('fs'),path=require(a81_0x39840d(0x1fc)),{default:BrowserStackSetup}=require(a81_0x39840d(0x204)),helper=require(a81_0x39840d(0x1fa)),PerformanceTester=require(a81_0x39840d(0x207)),PerformanceEvents=require('../../helpers/performance/constants')[a81_0x39840d(0x203)],utilities=require(a81_0x39840d(0x1e8)),{parallelVanillaRun}=require(a81_0x39840d(0x211)),TestHubHandler=require(a81_0x39840d(0x213));async function run(_0x42485b,_0x21c2f9,_0x1168b1){const _0x4da2d2=a81_0x39840d,_0x2373ba={'iYCiY':_0x4da2d2(0x205),'SJwxS':function(_0x5f3519,_0x285546){return _0x5f3519(_0x285546);},'yBbHE':'File\x20path\x20is\x20required','qiPVx':function(_0x210364,_0xc7afcc){return _0x210364(_0xc7afcc);},'yIiAB':_0x4da2d2(0x1e7),'OXmfJ':function(_0x4f0022,_0x4cf3e4){return _0x4f0022>_0x4cf3e4;},'JMYLH':function(_0x2f8642,_0x2125b8){return _0x2f8642*_0x2125b8;},'fNVex':function(_0x3351b7,_0x50454e,_0x9ce63a){return _0x3351b7(_0x50454e,_0x9ce63a);}};await _0x1168b1[_0x4da2d2(0x201)](_0x42485b),await helper['handleApp'](_0x1168b1[_0x4da2d2(0x1ff)]);const _0x26c013=[];if(helper[_0x4da2d2(0x20a)](_0x42485b['_'][0x1]))throw _0x2373ba[_0x4da2d2(0x216)](Error,_0x2373ba['yBbHE']);const _0x40d651=path['join'](process[_0x4da2d2(0x212)](),_0x42485b['_'][0x1]);if(!fs[_0x4da2d2(0x1ea)](_0x40d651))throw _0x2373ba[_0x4da2d2(0x216)](Error,_0x4da2d2(0x215)+_0x42485b['_'][0x1]+_0x4da2d2(0x1e2));if(!_0x1168b1[_0x4da2d2(0x1ff)])throw _0x2373ba[_0x4da2d2(0x1f2)](Error,_0x2373ba[_0x4da2d2(0x200)]);const _0x4fe4f7=helper['useW3C'](_0x1168b1[_0x4da2d2(0x1ff)]);_0x1168b1[_0x4da2d2(0x1ff)][_0x4da2d2(0x1f1)]&&_0x2373ba[_0x4da2d2(0x1f4)](_0x1168b1[_0x4da2d2(0x1ff)]['platforms']['length'],0x0)&&_0x1168b1[_0x4da2d2(0x1ff)][_0x4da2d2(0x1f1)][_0x4da2d2(0x206)]((_0x2619e1,_0x5d3c61)=>{const _0x13afac=_0x4da2d2;_0x4fe4f7?_0x26c013[_0x13afac(0x210)](helper[_0x13afac(0x20b)](_0x1168b1[_0x13afac(0x1ff)],_0x2373ba[_0x13afac(0x1ec)],_0x5d3c61)):_0x26c013[_0x13afac(0x210)](helper[_0x13afac(0x20f)](_0x1168b1[_0x13afac(0x1ff)],_0x2373ba[_0x13afac(0x1ec)],_0x5d3c61));});let _0x1d0f46,_0x4de8ec;const _0x9a5abf=[];if(_0x2373ba[_0x4da2d2(0x1f4)](_0x26c013[_0x4da2d2(0x1fe)],0x0))_0x26c013[_0x4da2d2(0x206)]((_0x4f47b5,_0x2a0783)=>{const _0x1906fe=_0x4da2d2,_0x3a1046={};_0x3a1046[_0x1906fe(0x20e)]=_0x2a0783,_0x1d0f46={'server':helper[_0x1906fe(0x1fd)](_0x1168b1[_0x1906fe(0x1ff)]),'proxySettings':_0x1168b1[_0x1906fe(0x1ff)][_0x1906fe(0x1e9)],'platform':helper['getPlatformName'](_0x4f47b5),'platformCaps':Object['assign'](_0x3a1046,_0x1168b1[_0x1906fe(0x1ff)]['platforms'][_0x2a0783])};const _0x532d44={'capability':_0x4f47b5,..._0x1d0f46};_0x532d44[_0x1906fe(0x1e6)]=_0x40d651,_0x532d44[_0x1906fe(0x20c)]=_0x21c2f9;const _0x246f7d={};_0x246f7d[_0x1906fe(0x214)]=_0x532d44,_0x4de8ec=_0x246f7d,_0x9a5abf['push'](_0x4de8ec);});else{let _0x34c2e3;_0x4fe4f7?_0x34c2e3=helper[_0x4da2d2(0x20b)](_0x1168b1[_0x4da2d2(0x1ff)],_0x2373ba[_0x4da2d2(0x1ec)],0x0):_0x34c2e3=helper[_0x4da2d2(0x20f)](_0x1168b1[_0x4da2d2(0x1ff)],_0x2373ba[_0x4da2d2(0x1ec)],0x0);_0x1d0f46={'server':helper[_0x4da2d2(0x1fd)](_0x1168b1[_0x4da2d2(0x1ff)]),'proxySettings':_0x1168b1[_0x4da2d2(0x1ff)][_0x4da2d2(0x1e9)]};const _0x148e81={'capability':_0x34c2e3,..._0x1d0f46};_0x148e81[_0x4da2d2(0x1e6)]=_0x40d651,_0x148e81[_0x4da2d2(0x20c)]=_0x21c2f9;const _0x387b39={};_0x387b39[_0x4da2d2(0x214)]=_0x148e81,_0x4de8ec=_0x387b39,_0x9a5abf[_0x4da2d2(0x210)](_0x4de8ec);}const _0x3be620=await TestHubHandler[_0x4da2d2(0x1f6)](_0x2373ba[_0x4da2d2(0x1ec)],_0x1168b1),_0x16ca4c=_0x2373ba[_0x4da2d2(0x208)](_0x1168b1[_0x4da2d2(0x1ff)][_0x4da2d2(0x1f1)][_0x4da2d2(0x1fe)]||0x1,_0x1168b1[_0x4da2d2(0x1ff)]['parallelsPerPlatform']||0x1);PerformanceTester[_0x4da2d2(0x1eb)](PerformanceEvents[_0x4da2d2(0x1e5)]),_0x2373ba[_0x4da2d2(0x209)](parallelVanillaRun,_0x9a5abf,_0x16ca4c)[_0x4da2d2(0x1e3)](_0x5eb8a2=>{})[_0x4da2d2(0x1ee)](async()=>{const _0x49b235=_0x4da2d2;PerformanceTester['start'](PerformanceEvents[_0x49b235(0x1ef)]),await utilities[_0x49b235(0x1f7)](_0x1168b1);});}function a81_0x23ea(_0x3a3a07,_0x52976d){const _0x3343a8=a81_0x3343();return a81_0x23ea=function(_0x23eac5,_0x1a7fcf){_0x23eac5=_0x23eac5-0x1e2;let _0x751371=_0x3343a8[_0x23eac5];return _0x751371;},a81_0x23ea(_0x3a3a07,_0x52976d);}module['exports']=run;