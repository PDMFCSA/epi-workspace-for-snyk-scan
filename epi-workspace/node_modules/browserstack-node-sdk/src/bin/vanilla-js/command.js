#!/usr/bin/env node
'use strict';function a53_0x4c84(){const _0x512232=['80121MdRUSC','44rxAEnA','SDK_SETUP','modifyBrowserStackW3CCaps','assign','2008WcCyyH','index','../../helpers/testhub/testhubHandler','dwFkS','KvwKv','429gFCxQQ','configuration','args','gXvzI','\x20doesn\x27t\x20exist','51570LjDWPf','length','end','parallelsPerPlatform','start','getHubUrl','then','File\x20','finally','1953576jnDgaY','push','1146050kpCYHS','config','forEach','../../helpers/performance/constants','1391598wQkomv','handleApp','IaJSV','join','../test-runner','8lrLWDn','launchBuild','File\x20path\x20is\x20required','ZrwUV','proxySettings','YNRtZ','platforms','../../helpers/utilities','KlYHs','../../helpers/helper','existsSync','EVENTS','184pCexFx','file','path','initialize','modifyBrowserStackCaps','isUndefined','StJhZ','../../helpers/performance/performance-tester','1474963EDlxZa','../../helpers/BrowserStackSetup'];a53_0x4c84=function(){return _0x512232;};return a53_0x4c84();}const a53_0x272acf=a53_0x398f;(function(_0x2a3e04,_0x44a23c){const _0x1730c7=a53_0x398f,_0x34c6f5=_0x2a3e04();while(!![]){try{const _0x230cf4=-parseInt(_0x1730c7(0x221))/0x1*(parseInt(_0x1730c7(0x1f7))/0x2)+-parseInt(_0x1730c7(0x1f2))/0x3*(parseInt(_0x1730c7(0x1f3))/0x4)+-parseInt(_0x1730c7(0x20c))/0x5+parseInt(_0x1730c7(0x20a))/0x6+-parseInt(_0x1730c7(0x1f0))/0x7*(-parseInt(_0x1730c7(0x215))/0x8)+parseInt(_0x1730c7(0x210))/0x9+parseInt(_0x1730c7(0x201))/0xa*(parseInt(_0x1730c7(0x1fc))/0xb);if(_0x230cf4===_0x44a23c)break;else _0x34c6f5['push'](_0x34c6f5['shift']());}catch(_0x19b899){_0x34c6f5['push'](_0x34c6f5['shift']());}}}(a53_0x4c84,0x2d007));function a53_0x398f(_0x329b36,_0x3b8c10){const _0x4c84ea=a53_0x4c84();return a53_0x398f=function(_0x398fde,_0x1270c6){_0x398fde=_0x398fde-0x1ef;let _0x100cfa=_0x4c84ea[_0x398fde];return _0x100cfa;},a53_0x398f(_0x329b36,_0x3b8c10);}const fs=require('fs'),path=require(a53_0x272acf(0x223)),{default:BrowserStackSetup}=require(a53_0x272acf(0x1f1)),helper=require(a53_0x272acf(0x21e)),PerformanceTester=require(a53_0x272acf(0x1ef)),PerformanceEvents=require(a53_0x272acf(0x20f))[a53_0x272acf(0x220)],utilities=require(a53_0x272acf(0x21c)),{parallelVanillaRun}=require(a53_0x272acf(0x214)),TestHubHandler=require(a53_0x272acf(0x1f9));async function run(_0x35a4ee,_0x34a76d){const _0x3bae5b=a53_0x272acf,_0x7f7731={'gXvzI':'vanilla','YNRtZ':function(_0x3ce113,_0x28c702){return _0x3ce113(_0x28c702);},'StJhZ':_0x3bae5b(0x217),'KlYHs':function(_0x2236e7,_0x4ee79f){return _0x2236e7(_0x4ee79f);},'IaJSV':function(_0x502384,_0x2794e7){return _0x502384(_0x2794e7);},'dwFkS':'Config\x20yml\x20is\x20required','ZrwUV':function(_0x56b0a6,_0x47efed){return _0x56b0a6>_0x47efed;},'KvwKv':function(_0x4ea5ac,_0x1e4eee){return _0x4ea5ac>_0x1e4eee;},'nALDX':function(_0x486241,_0x4b16e8){return _0x486241*_0x4b16e8;},'UkTRd':function(_0x61ee05,_0x319620,_0x26a841){return _0x61ee05(_0x319620,_0x26a841);}},_0xda04b2=new BrowserStackSetup(_0x35a4ee,_0x7f7731[_0x3bae5b(0x1ff)]);await _0xda04b2[_0x3bae5b(0x224)](),await helper[_0x3bae5b(0x211)](_0xda04b2[_0x3bae5b(0x20d)]);const _0x508d38=[];if(helper[_0x3bae5b(0x226)](_0x35a4ee['_'][0x1]))throw _0x7f7731[_0x3bae5b(0x21a)](Error,_0x7f7731[_0x3bae5b(0x227)]);const _0x1dc126=path[_0x3bae5b(0x213)](process['cwd'](),_0x35a4ee['_'][0x1]);if(!fs[_0x3bae5b(0x21f)](_0x1dc126))throw _0x7f7731[_0x3bae5b(0x21d)](Error,_0x3bae5b(0x208)+_0x35a4ee['_'][0x1]+_0x3bae5b(0x200));if(!_0xda04b2[_0x3bae5b(0x20d)])throw _0x7f7731[_0x3bae5b(0x212)](Error,_0x7f7731[_0x3bae5b(0x1fa)]);const _0x5a37a0=helper['useW3C'](_0xda04b2[_0x3bae5b(0x20d)]);_0xda04b2[_0x3bae5b(0x20d)]['platforms']&&_0x7f7731[_0x3bae5b(0x218)](_0xda04b2[_0x3bae5b(0x20d)]['platforms'][_0x3bae5b(0x202)],0x0)&&_0xda04b2[_0x3bae5b(0x20d)][_0x3bae5b(0x21b)][_0x3bae5b(0x20e)]((_0x5790ff,_0x4ff7f5)=>{const _0x453451=_0x3bae5b;_0x5a37a0?_0x508d38[_0x453451(0x20b)](helper[_0x453451(0x1f5)](_0xda04b2['config'],_0x7f7731[_0x453451(0x1ff)],_0x4ff7f5)):_0x508d38['push'](helper['modifyBrowserStackCaps'](_0xda04b2[_0x453451(0x20d)],_0x7f7731[_0x453451(0x1ff)],_0x4ff7f5));});let _0x405816,_0x1a9351;const _0x1ba6c7=[];if(_0x7f7731[_0x3bae5b(0x1fb)](_0x508d38[_0x3bae5b(0x202)],0x0))_0x508d38['forEach']((_0x19afaa,_0x322a02)=>{const _0x24dda7=_0x3bae5b,_0x2ada4f={};_0x2ada4f[_0x24dda7(0x1f8)]=_0x322a02,_0x405816={'server':helper[_0x24dda7(0x206)](_0xda04b2[_0x24dda7(0x20d)]),'proxySettings':_0xda04b2[_0x24dda7(0x20d)]['proxySettings'],'platform':helper['getPlatformName'](_0x19afaa),'platformCaps':Object[_0x24dda7(0x1f6)](_0x2ada4f,_0xda04b2[_0x24dda7(0x20d)]['platforms'][_0x322a02])};const _0x5742ba={'capability':_0x19afaa,..._0x405816};_0x5742ba[_0x24dda7(0x222)]=_0x1dc126,_0x5742ba[_0x24dda7(0x1fe)]=_0x34a76d;const _0x3dba62={};_0x3dba62[_0x24dda7(0x1fd)]=_0x5742ba,_0x1a9351=_0x3dba62,_0x1ba6c7[_0x24dda7(0x20b)](_0x1a9351);});else{let _0x387428;_0x5a37a0?_0x387428=helper[_0x3bae5b(0x1f5)](_0xda04b2[_0x3bae5b(0x20d)],_0x7f7731[_0x3bae5b(0x1ff)],0x0):_0x387428=helper[_0x3bae5b(0x225)](_0xda04b2['config'],_0x7f7731['gXvzI'],0x0);_0x405816={'server':helper[_0x3bae5b(0x206)](_0xda04b2['config']),'proxySettings':_0xda04b2[_0x3bae5b(0x20d)][_0x3bae5b(0x219)]};const _0x415eec={'capability':_0x387428,..._0x405816};_0x415eec['file']=_0x1dc126,_0x415eec[_0x3bae5b(0x1fe)]=_0x34a76d;const _0x40b1f1={};_0x40b1f1[_0x3bae5b(0x1fd)]=_0x415eec,_0x1a9351=_0x40b1f1,_0x1ba6c7[_0x3bae5b(0x20b)](_0x1a9351);}const _0x56462b=await TestHubHandler[_0x3bae5b(0x216)](_0x7f7731[_0x3bae5b(0x1ff)],_0xda04b2),_0x117b22=_0x7f7731['nALDX'](_0xda04b2[_0x3bae5b(0x20d)]['platforms']['length']||0x1,_0xda04b2[_0x3bae5b(0x20d)][_0x3bae5b(0x204)]||0x1);PerformanceTester[_0x3bae5b(0x203)](PerformanceEvents[_0x3bae5b(0x1f4)]),_0x7f7731['UkTRd'](parallelVanillaRun,_0x1ba6c7,_0x117b22)[_0x3bae5b(0x207)](_0x449666=>{})[_0x3bae5b(0x209)](async()=>{const _0x54db2a=_0x3bae5b;PerformanceTester[_0x54db2a(0x205)](PerformanceEvents['SDK_CLEANUP']),await utilities['finalExecution'](_0xda04b2);});}module['exports']=run;