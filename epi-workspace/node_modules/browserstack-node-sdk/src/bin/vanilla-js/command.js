#!/usr/bin/env node
'use strict';function a53_0x3f0a(){const _0x2b49cd=['lMdzq','parallelsPerPlatform','66IrRlFy','Config\x20yml\x20is\x20required','UnFxt','2626056yVbOhK','getPlatformName','EVENTS','505780JGPYuE','../../helpers/BrowserStackSetup','handleApp','configuration','../../helpers/performance/performance-tester','isUndefined','cwd','File\x20','\x20doesn\x27t\x20exist','../../helpers/helper','1028778YyJojB','useW3C','QkNQr','../../helpers/performance/constants','start','File\x20path\x20is\x20required','args','platforms','SDK_SETUP','8EmQSfE','exports','51087cHgtiE','finalExecution','modifyBrowserStackW3CCaps','18WDWrhU','push','end','launchBuild','jwzOk','initialize','888685KikKcD','join','finally','vanilla','../../helpers/testhub/testhubHandler','path','getHubUrl','TdAGD','210eZsDCy','forEach','14356PEXKyD','index','SDK_CLEANUP','205069LJdaTy','assign','file','config','length'];a53_0x3f0a=function(){return _0x2b49cd;};return a53_0x3f0a();}const a53_0x371d6b=a53_0x36c5;(function(_0x250d52,_0x4bf7a5){const _0x3a82d7=a53_0x36c5,_0x3823c9=_0x250d52();while(!![]){try{const _0x2e4d0b=parseInt(_0x3a82d7(0xed))/0x1+parseInt(_0x3a82d7(0xda))/0x2*(-parseInt(_0x3a82d7(0xd7))/0x3)+-parseInt(_0x3a82d7(0xea))/0x4*(-parseInt(_0x3a82d7(0xe8))/0x5)+-parseInt(_0x3a82d7(0xcc))/0x6+-parseInt(_0x3a82d7(0xe0))/0x7*(-parseInt(_0x3a82d7(0xd5))/0x8)+parseInt(_0x3a82d7(0xf7))/0x9+-parseInt(_0x3a82d7(0xfa))/0xa*(parseInt(_0x3a82d7(0xf4))/0xb);if(_0x2e4d0b===_0x4bf7a5)break;else _0x3823c9['push'](_0x3823c9['shift']());}catch(_0x394574){_0x3823c9['push'](_0x3823c9['shift']());}}}(a53_0x3f0a,0x23bb2));function a53_0x36c5(_0x44ddeb,_0x170271){const _0x3f0a83=a53_0x3f0a();return a53_0x36c5=function(_0x36c5c8,_0x55d912){_0x36c5c8=_0x36c5c8-0xc5;let _0x50ff31=_0x3f0a83[_0x36c5c8];return _0x50ff31;},a53_0x36c5(_0x44ddeb,_0x170271);}const fs=require('fs'),path=require(a53_0x371d6b(0xe5)),{default:BrowserStackSetup}=require(a53_0x371d6b(0xfb)),helper=require(a53_0x371d6b(0xcb)),PerformanceTester=require(a53_0x371d6b(0xc6)),PerformanceEvents=require(a53_0x371d6b(0xcf))[a53_0x371d6b(0xf9)],utilities=require('../../helpers/utilities'),{parallelVanillaRun}=require('../test-runner'),TestHubHandler=require(a53_0x371d6b(0xe4));async function run(_0x554149,_0x30c6ab){const _0x6d9dd8=a53_0x371d6b,_0x5066c8={'UnFxt':_0x6d9dd8(0xe3),'QkNQr':function(_0x36aece,_0x2e445a){return _0x36aece(_0x2e445a);},'DQaPV':_0x6d9dd8(0xd1),'nsOEU':_0x6d9dd8(0xf5),'jwzOk':function(_0x2f93e3,_0x4512ef){return _0x2f93e3>_0x4512ef;},'TdAGD':function(_0x14b485,_0x473d4b){return _0x14b485*_0x473d4b;},'lMdzq':function(_0x33e5fd,_0x1f17ec,_0x13b5b2){return _0x33e5fd(_0x1f17ec,_0x13b5b2);}},_0x2f9e0d=new BrowserStackSetup(_0x554149,_0x5066c8['UnFxt']);await _0x2f9e0d[_0x6d9dd8(0xdf)](),await helper[_0x6d9dd8(0xfc)](_0x2f9e0d[_0x6d9dd8(0xf0)]);const _0x44f8c4=[];if(helper[_0x6d9dd8(0xc7)](_0x554149['_'][0x1]))throw _0x5066c8['QkNQr'](Error,_0x5066c8['DQaPV']);const _0x3cc3ac=path[_0x6d9dd8(0xe1)](process[_0x6d9dd8(0xc8)](),_0x554149['_'][0x1]);if(!fs['existsSync'](_0x3cc3ac))throw _0x5066c8[_0x6d9dd8(0xce)](Error,_0x6d9dd8(0xc9)+_0x554149['_'][0x1]+_0x6d9dd8(0xca));if(!_0x2f9e0d[_0x6d9dd8(0xf0)])throw _0x5066c8[_0x6d9dd8(0xce)](Error,_0x5066c8['nsOEU']);const _0x567ecb=helper[_0x6d9dd8(0xcd)](_0x2f9e0d[_0x6d9dd8(0xf0)]);_0x2f9e0d['config']['platforms']&&_0x5066c8[_0x6d9dd8(0xde)](_0x2f9e0d[_0x6d9dd8(0xf0)][_0x6d9dd8(0xd3)]['length'],0x0)&&_0x2f9e0d[_0x6d9dd8(0xf0)][_0x6d9dd8(0xd3)][_0x6d9dd8(0xe9)]((_0x459079,_0x21f695)=>{const _0x4e180a=_0x6d9dd8;_0x567ecb?_0x44f8c4[_0x4e180a(0xdb)](helper[_0x4e180a(0xd9)](_0x2f9e0d[_0x4e180a(0xf0)],_0x5066c8['UnFxt'],_0x21f695)):_0x44f8c4[_0x4e180a(0xdb)](helper['modifyBrowserStackCaps'](_0x2f9e0d['config'],_0x5066c8[_0x4e180a(0xf6)],_0x21f695));});let _0x43d518,_0xf5deba;const _0x445508=[];if(_0x5066c8[_0x6d9dd8(0xde)](_0x44f8c4['length'],0x0))_0x44f8c4[_0x6d9dd8(0xe9)]((_0xc90249,_0x8dcbcc)=>{const _0x13bff6=_0x6d9dd8,_0x39a9c0={};_0x39a9c0[_0x13bff6(0xeb)]=_0x8dcbcc,_0x43d518={'server':helper['getHubUrl'](_0x2f9e0d['config']),'proxySettings':_0x2f9e0d['config']['proxySettings'],'platform':helper[_0x13bff6(0xf8)](_0xc90249),'platformCaps':Object[_0x13bff6(0xee)](_0x39a9c0,_0x2f9e0d[_0x13bff6(0xf0)]['platforms'][_0x8dcbcc])};const _0x49bae3={'capability':_0xc90249,..._0x43d518};_0x49bae3[_0x13bff6(0xef)]=_0x3cc3ac,_0x49bae3[_0x13bff6(0xd2)]=_0x30c6ab;const _0x50598c={};_0x50598c['configuration']=_0x49bae3,_0xf5deba=_0x50598c,_0x445508[_0x13bff6(0xdb)](_0xf5deba);});else{let _0x11eba5;_0x567ecb?_0x11eba5=helper[_0x6d9dd8(0xd9)](_0x2f9e0d['config'],_0x5066c8[_0x6d9dd8(0xf6)],0x0):_0x11eba5=helper['modifyBrowserStackCaps'](_0x2f9e0d[_0x6d9dd8(0xf0)],_0x5066c8[_0x6d9dd8(0xf6)],0x0);_0x43d518={'server':helper[_0x6d9dd8(0xe6)](_0x2f9e0d[_0x6d9dd8(0xf0)]),'proxySettings':_0x2f9e0d[_0x6d9dd8(0xf0)]['proxySettings']};const _0x430ae0={'capability':_0x11eba5,..._0x43d518};_0x430ae0['file']=_0x3cc3ac,_0x430ae0[_0x6d9dd8(0xd2)]=_0x30c6ab;const _0x5cc6fe={};_0x5cc6fe[_0x6d9dd8(0xc5)]=_0x430ae0,_0xf5deba=_0x5cc6fe,_0x445508[_0x6d9dd8(0xdb)](_0xf5deba);}const _0x1ec847=await TestHubHandler[_0x6d9dd8(0xdd)](_0x5066c8[_0x6d9dd8(0xf6)],_0x2f9e0d),_0x2a8aff=_0x5066c8[_0x6d9dd8(0xe7)](_0x2f9e0d[_0x6d9dd8(0xf0)][_0x6d9dd8(0xd3)][_0x6d9dd8(0xf1)]||0x1,_0x2f9e0d[_0x6d9dd8(0xf0)][_0x6d9dd8(0xf3)]||0x1);PerformanceTester[_0x6d9dd8(0xdc)](PerformanceEvents[_0x6d9dd8(0xd4)]),_0x5066c8[_0x6d9dd8(0xf2)](parallelVanillaRun,_0x445508,_0x2a8aff)['then'](_0x53a2cb=>{})[_0x6d9dd8(0xe2)](async()=>{const _0xcf61fb=_0x6d9dd8;PerformanceTester[_0xcf61fb(0xd0)](PerformanceEvents[_0xcf61fb(0xec)]),await utilities[_0xcf61fb(0xd8)](_0x2f9e0d);});}module[a53_0x371d6b(0xd6)]=run;