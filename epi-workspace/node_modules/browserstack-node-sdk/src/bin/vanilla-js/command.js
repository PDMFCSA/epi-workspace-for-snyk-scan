#!/usr/bin/env node
'use strict';function a92_0x1983(){const _0x4aaa07=['isUndefined','../../helpers/helper','18CErwgM','then','EVENTS','args','parallelsPerPlatform','SDK_CLEANUP','../../helpers/performance/performance-tester','\x20doesn\x27t\x20exist','configuration','9HFyyTG','File\x20path\x20is\x20required','proxySettings','modifyBrowserStackCaps','67343YDVNYW','5DCwJUh','initialize','../test-runner','32232bAgOwe','platforms','exports','TFsis','JQnLy','3211062DWLJYz','forEach','../../helpers/performance/constants','FMeNO','cwd','join','File\x20','path','start','1043KxEzCe','modifyBrowserStackW3CCaps','existsSync','index','length','5849510pmPaqS','ExWtu','getHubUrl','Config\x20yml\x20is\x20required','QmkVM','file','AOrqs','34728738zIiKmU','2465034DlUWQj','vanilla','2540828YoyMjb','config','bFbtt','push'];a92_0x1983=function(){return _0x4aaa07;};return a92_0x1983();}function a92_0x3a58(_0x32f205,_0x3cf51e){const _0x19839a=a92_0x1983();return a92_0x3a58=function(_0x3a58b6,_0x55d935){_0x3a58b6=_0x3a58b6-0x10a;let _0x30929b=_0x19839a[_0x3a58b6];return _0x30929b;},a92_0x3a58(_0x32f205,_0x3cf51e);}const a92_0x25dc5d=a92_0x3a58;(function(_0x5f5db0,_0x51c919){const _0xf6d7a3=a92_0x3a58,_0x5e89bf=_0x5f5db0();while(!![]){try{const _0x4ed2f1=-parseInt(_0xf6d7a3(0x111))/0x1*(parseInt(_0xf6d7a3(0x138))/0x2)+-parseInt(_0xf6d7a3(0x130))/0x3+parseInt(_0xf6d7a3(0x132))/0x4*(-parseInt(_0xf6d7a3(0x112))/0x5)+parseInt(_0xf6d7a3(0x11a))/0x6+parseInt(_0xf6d7a3(0x123))/0x7*(-parseInt(_0xf6d7a3(0x115))/0x8)+parseInt(_0xf6d7a3(0x10d))/0x9*(-parseInt(_0xf6d7a3(0x128))/0xa)+parseInt(_0xf6d7a3(0x12f))/0xb;if(_0x4ed2f1===_0x51c919)break;else _0x5e89bf['push'](_0x5e89bf['shift']());}catch(_0x4c4851){_0x5e89bf['push'](_0x5e89bf['shift']());}}}(a92_0x1983,0x6c6bb));const fs=require('fs'),path=require(a92_0x25dc5d(0x121)),{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a92_0x25dc5d(0x137)),PerformanceTester=require(a92_0x25dc5d(0x10a)),PerformanceEvents=require(a92_0x25dc5d(0x11c))[a92_0x25dc5d(0x13a)],utilities=require('../../helpers/utilities'),{parallelVanillaRun}=require(a92_0x25dc5d(0x114)),TestHubHandler=require('../../helpers/testhub/testhubHandler');async function run(_0x5498c9,_0x351594,_0x4081fb){const _0x2173d7=a92_0x25dc5d,_0x2eaead={'TFsis':_0x2173d7(0x131),'AOrqs':function(_0x4bedf3,_0x1afbbf){return _0x4bedf3(_0x1afbbf);},'QmkVM':_0x2173d7(0x10e),'JQnLy':_0x2173d7(0x12b),'FMeNO':function(_0x1efd74,_0x192319){return _0x1efd74>_0x192319;},'ExWtu':function(_0x3a5ac8,_0x2cc0ea){return _0x3a5ac8*_0x2cc0ea;},'bFbtt':function(_0x59a815,_0xa711ca,_0x3678a8){return _0x59a815(_0xa711ca,_0x3678a8);}};await _0x4081fb[_0x2173d7(0x113)](_0x5498c9),await helper['handleApp'](_0x4081fb[_0x2173d7(0x133)]);const _0x30002c=[];if(helper[_0x2173d7(0x136)](_0x5498c9['_'][0x1]))throw _0x2eaead[_0x2173d7(0x12e)](Error,_0x2eaead[_0x2173d7(0x12c)]);const _0x92258=path[_0x2173d7(0x11f)](process[_0x2173d7(0x11e)](),_0x5498c9['_'][0x1]);if(!fs[_0x2173d7(0x125)](_0x92258))throw _0x2eaead[_0x2173d7(0x12e)](Error,_0x2173d7(0x120)+_0x5498c9['_'][0x1]+_0x2173d7(0x10b));if(!_0x4081fb['config'])throw _0x2eaead['AOrqs'](Error,_0x2eaead[_0x2173d7(0x119)]);const _0x167f0a=helper['useW3C'](_0x4081fb[_0x2173d7(0x133)]);_0x4081fb[_0x2173d7(0x133)][_0x2173d7(0x116)]&&_0x2eaead[_0x2173d7(0x11d)](_0x4081fb[_0x2173d7(0x133)]['platforms'][_0x2173d7(0x127)],0x0)&&_0x4081fb[_0x2173d7(0x133)][_0x2173d7(0x116)][_0x2173d7(0x11b)]((_0x59d3cc,_0x15f641)=>{const _0x19a216=_0x2173d7;_0x167f0a?_0x30002c['push'](helper[_0x19a216(0x124)](_0x4081fb[_0x19a216(0x133)],_0x2eaead[_0x19a216(0x118)],_0x15f641)):_0x30002c['push'](helper[_0x19a216(0x110)](_0x4081fb['config'],_0x2eaead[_0x19a216(0x118)],_0x15f641));});let _0x443ebb,_0x18e321;const _0x43ad12=[];if(_0x2eaead[_0x2173d7(0x11d)](_0x30002c[_0x2173d7(0x127)],0x0))_0x30002c['forEach']((_0x29bf9f,_0x4809f6)=>{const _0x2458d1=_0x2173d7,_0x39f4f5={};_0x39f4f5[_0x2458d1(0x126)]=_0x4809f6,_0x443ebb={'server':helper[_0x2458d1(0x12a)](_0x4081fb[_0x2458d1(0x133)]),'proxySettings':_0x4081fb[_0x2458d1(0x133)][_0x2458d1(0x10f)],'platform':helper['getPlatformName'](_0x29bf9f),'platformCaps':Object['assign'](_0x39f4f5,_0x4081fb['config'][_0x2458d1(0x116)][_0x4809f6])};const _0x159662={'capability':_0x29bf9f,..._0x443ebb};_0x159662['file']=_0x92258,_0x159662[_0x2458d1(0x13b)]=_0x351594;const _0x481463={};_0x481463[_0x2458d1(0x10c)]=_0x159662,_0x18e321=_0x481463,_0x43ad12[_0x2458d1(0x135)](_0x18e321);});else{let _0x433abc;_0x167f0a?_0x433abc=helper['modifyBrowserStackW3CCaps'](_0x4081fb[_0x2173d7(0x133)],_0x2eaead[_0x2173d7(0x118)],0x0):_0x433abc=helper['modifyBrowserStackCaps'](_0x4081fb[_0x2173d7(0x133)],_0x2eaead['TFsis'],0x0);_0x443ebb={'server':helper[_0x2173d7(0x12a)](_0x4081fb[_0x2173d7(0x133)]),'proxySettings':_0x4081fb[_0x2173d7(0x133)][_0x2173d7(0x10f)]};const _0xa32549={'capability':_0x433abc,..._0x443ebb};_0xa32549[_0x2173d7(0x12d)]=_0x92258,_0xa32549['args']=_0x351594;const _0x51330c={};_0x51330c[_0x2173d7(0x10c)]=_0xa32549,_0x18e321=_0x51330c,_0x43ad12[_0x2173d7(0x135)](_0x18e321);}const _0x449fd0=await TestHubHandler['launchBuild'](_0x2eaead[_0x2173d7(0x118)],_0x4081fb),_0x342bd3=_0x2eaead[_0x2173d7(0x129)](_0x4081fb[_0x2173d7(0x133)][_0x2173d7(0x116)][_0x2173d7(0x127)]||0x1,_0x4081fb[_0x2173d7(0x133)][_0x2173d7(0x13c)]||0x1);PerformanceTester['end'](PerformanceEvents['SDK_SETUP']),_0x2eaead[_0x2173d7(0x134)](parallelVanillaRun,_0x43ad12,_0x342bd3)[_0x2173d7(0x139)](_0xd63c27=>{})['finally'](async()=>{const _0x1418d6=_0x2173d7;PerformanceTester[_0x1418d6(0x122)](PerformanceEvents[_0x1418d6(0x13d)]),await utilities['finalExecution'](_0x4081fb);});}module[a92_0x25dc5d(0x117)]=run;