#!/usr/bin/env node
'use strict';const a53_0x42a2fa=a53_0x41d2;function a53_0x3da7(){const _0x3b317c=['initialize','config','index','QudXJ','EVENTS','handleApp','sdlrI','275hetZIC','1082bWHyuQ','push','isUndefined','../../helpers/performance/constants','proxySettings','../../helpers/helper','finally','vanilla','SDK_SETUP','getHubUrl','\x20doesn\x27t\x20exist','Config\x20yml\x20is\x20required','configuration','5436xOdAKo','parallelsPerPlatform','existsSync','7869496lAabDu','111612otkEgs','File\x20path\x20is\x20required','AygdE','../../helpers/BrowserStackSetup','9GMJDwU','join','launchBuild','sYKar','2889810iIOGNX','2996lipCoh','platforms','../../helpers/utilities','forEach','length','File\x20','44ULnFYb','PayFw','file','modifyBrowserStackW3CCaps','../../helpers/testhub/testhubHandler','../test-runner','8008968hUpRTN','end','modifyBrowserStackCaps','YTZFa','finalExecution','start','qSlyn','NwNpu','args','2374pSjThp','useW3C','3841440ZdeBGX'];a53_0x3da7=function(){return _0x3b317c;};return a53_0x3da7();}(function(_0x212de7,_0x3920af){const _0x292c4c=a53_0x41d2,_0x5b0691=_0x212de7();while(!![]){try{const _0x4c0d61=parseInt(_0x292c4c(0x1eb))/0x1*(parseInt(_0x292c4c(0x1e0))/0x2)+-parseInt(_0x292c4c(0x1e2))/0x3+parseInt(_0x292c4c(0x1fc))/0x4*(-parseInt(_0x292c4c(0x1ea))/0x5)+-parseInt(_0x292c4c(0x1f8))/0x6*(parseInt(_0x292c4c(0x205))/0x7)+-parseInt(_0x292c4c(0x1fb))/0x8*(-parseInt(_0x292c4c(0x200))/0x9)+-parseInt(_0x292c4c(0x204))/0xa*(-parseInt(_0x292c4c(0x1d1))/0xb)+parseInt(_0x292c4c(0x1d7))/0xc;if(_0x4c0d61===_0x3920af)break;else _0x5b0691['push'](_0x5b0691['shift']());}catch(_0x411b6f){_0x5b0691['push'](_0x5b0691['shift']());}}}(a53_0x3da7,0xd8e7e));const fs=require('fs'),path=require('path'),{default:BrowserStackSetup}=require(a53_0x42a2fa(0x1ff)),helper=require(a53_0x42a2fa(0x1f0)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a53_0x42a2fa(0x1ee))[a53_0x42a2fa(0x1e7)],utilities=require(a53_0x42a2fa(0x207)),{parallelVanillaRun}=require(a53_0x42a2fa(0x1d6)),TestHubHandler=require(a53_0x42a2fa(0x1d5));function a53_0x41d2(_0x418f8c,_0x10600e){const _0x3da755=a53_0x3da7();return a53_0x41d2=function(_0x41d2df,_0x4bd0fe){_0x41d2df=_0x41d2df-0x1d0;let _0x5cc33a=_0x3da755[_0x41d2df];return _0x5cc33a;},a53_0x41d2(_0x418f8c,_0x10600e);}async function run(_0x2fbc12,_0x30123f){const _0x53eb37=a53_0x42a2fa,_0x13de1c={'qSlyn':_0x53eb37(0x1f2),'sdlrI':function(_0xa29cee,_0x480a77){return _0xa29cee(_0x480a77);},'sYKar':_0x53eb37(0x1fd),'NwNpu':function(_0x4a8d41,_0x15ffa3){return _0x4a8d41(_0x15ffa3);},'AygdE':_0x53eb37(0x1f6),'pJuAh':function(_0x394b24,_0x4fbfc7){return _0x394b24>_0x4fbfc7;},'PayFw':function(_0x36a42b,_0x7023){return _0x36a42b>_0x7023;},'QudXJ':function(_0x2bb7b4,_0x4b14d9){return _0x2bb7b4*_0x4b14d9;},'YTZFa':function(_0x4893a3,_0x1613d9,_0xdd594c){return _0x4893a3(_0x1613d9,_0xdd594c);}},_0x11b4b9=new BrowserStackSetup(_0x2fbc12,_0x13de1c[_0x53eb37(0x1dd)]);await _0x11b4b9[_0x53eb37(0x1e3)](),await helper[_0x53eb37(0x1e8)](_0x11b4b9[_0x53eb37(0x1e4)]);const _0x37d9cb=[];if(helper[_0x53eb37(0x1ed)](_0x2fbc12['_'][0x1]))throw _0x13de1c[_0x53eb37(0x1e9)](Error,_0x13de1c[_0x53eb37(0x203)]);const _0x55ce7a=path[_0x53eb37(0x201)](process['cwd'](),_0x2fbc12['_'][0x1]);if(!fs[_0x53eb37(0x1fa)](_0x55ce7a))throw _0x13de1c[_0x53eb37(0x1de)](Error,_0x53eb37(0x1d0)+_0x2fbc12['_'][0x1]+_0x53eb37(0x1f5));if(!_0x11b4b9[_0x53eb37(0x1e4)])throw _0x13de1c[_0x53eb37(0x1e9)](Error,_0x13de1c[_0x53eb37(0x1fe)]);const _0x22e8e0=helper[_0x53eb37(0x1e1)](_0x11b4b9['config']);_0x11b4b9[_0x53eb37(0x1e4)][_0x53eb37(0x206)]&&_0x13de1c['pJuAh'](_0x11b4b9['config'][_0x53eb37(0x206)]['length'],0x0)&&_0x11b4b9[_0x53eb37(0x1e4)]['platforms'][_0x53eb37(0x208)]((_0x2d5575,_0x469955)=>{const _0x358965=_0x53eb37;_0x22e8e0?_0x37d9cb[_0x358965(0x1ec)](helper[_0x358965(0x1d4)](_0x11b4b9['config'],_0x13de1c['qSlyn'],_0x469955)):_0x37d9cb['push'](helper[_0x358965(0x1d9)](_0x11b4b9['config'],_0x13de1c[_0x358965(0x1dd)],_0x469955));});let _0xc6782b,_0x5b0ab5;const _0x3430ea=[];if(_0x13de1c[_0x53eb37(0x1d2)](_0x37d9cb[_0x53eb37(0x209)],0x0))_0x37d9cb[_0x53eb37(0x208)]((_0x5c575a,_0x3033dd)=>{const _0x3e6508=_0x53eb37,_0x677776={};_0x677776[_0x3e6508(0x1e5)]=_0x3033dd,_0xc6782b={'server':helper['getHubUrl'](_0x11b4b9[_0x3e6508(0x1e4)]),'proxySettings':_0x11b4b9[_0x3e6508(0x1e4)][_0x3e6508(0x1ef)],'platform':helper['getPlatformName'](_0x5c575a),'platformCaps':Object['assign'](_0x677776,_0x11b4b9[_0x3e6508(0x1e4)]['platforms'][_0x3033dd])};const _0x17ec66={'capability':_0x5c575a,..._0xc6782b};_0x17ec66[_0x3e6508(0x1d3)]=_0x55ce7a,_0x17ec66[_0x3e6508(0x1df)]=_0x30123f;const _0x12f94a={};_0x12f94a[_0x3e6508(0x1f7)]=_0x17ec66,_0x5b0ab5=_0x12f94a,_0x3430ea[_0x3e6508(0x1ec)](_0x5b0ab5);});else{let _0x3965a3;_0x22e8e0?_0x3965a3=helper['modifyBrowserStackW3CCaps'](_0x11b4b9[_0x53eb37(0x1e4)],_0x13de1c[_0x53eb37(0x1dd)],0x0):_0x3965a3=helper['modifyBrowserStackCaps'](_0x11b4b9['config'],_0x13de1c[_0x53eb37(0x1dd)],0x0);_0xc6782b={'server':helper[_0x53eb37(0x1f4)](_0x11b4b9[_0x53eb37(0x1e4)]),'proxySettings':_0x11b4b9['config'][_0x53eb37(0x1ef)]};const _0x2a704f={'capability':_0x3965a3,..._0xc6782b};_0x2a704f['file']=_0x55ce7a,_0x2a704f[_0x53eb37(0x1df)]=_0x30123f;const _0x5544d7={};_0x5544d7[_0x53eb37(0x1f7)]=_0x2a704f,_0x5b0ab5=_0x5544d7,_0x3430ea['push'](_0x5b0ab5);}const _0x1aa93f=await TestHubHandler[_0x53eb37(0x202)](_0x13de1c[_0x53eb37(0x1dd)],_0x11b4b9),_0x519035=_0x13de1c[_0x53eb37(0x1e6)](_0x11b4b9[_0x53eb37(0x1e4)]['platforms'][_0x53eb37(0x209)]||0x1,_0x11b4b9[_0x53eb37(0x1e4)][_0x53eb37(0x1f9)]||0x1);PerformanceTester[_0x53eb37(0x1d8)](PerformanceEvents[_0x53eb37(0x1f3)]),_0x13de1c[_0x53eb37(0x1da)](parallelVanillaRun,_0x3430ea,_0x519035)['then'](_0x52f79c=>{})[_0x53eb37(0x1f1)](async()=>{const _0x3537bc=_0x53eb37;PerformanceTester[_0x3537bc(0x1dc)](PerformanceEvents['SDK_CLEANUP']),await utilities[_0x3537bc(0x1db)](_0x11b4b9);});}module['exports']=run;