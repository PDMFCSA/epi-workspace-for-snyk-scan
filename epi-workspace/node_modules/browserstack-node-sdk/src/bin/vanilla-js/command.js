#!/usr/bin/env node
'use strict';function a81_0x1f6c(){const _0x22c095=['../test-runner','CDpKo','isUndefined','then','SDK_SETUP','end','file','1694245kofoGK','40zgokSV','Config\x20yml\x20is\x20required','IjFTR','join','File\x20path\x20is\x20required','handleApp','exports','File\x20','6NWmASa','initialize','../../helpers/utilities','../../helpers/BrowserStackSetup','SDK_CLEANUP','platforms','../../helpers/performance/performance-tester','4518820IBSvOX','args','config','yHQrZ','nbVvY','4848066cKLisl','modifyBrowserStackW3CCaps','getPlatformName','LBQDy','push','../../helpers/performance/constants','17032tfQhKf','length','11kckctE','assign','EVENTS','finally','4qFXOBY','existsSync','rAfwE','429691gHZVVu','index','cwd','getHubUrl','useW3C','proxySettings','25523230teGjyg','../../helpers/testhub/testhubHandler','configuration','1260630zliTGT','LPuqY','uATTc','NTVRn','modifyBrowserStackCaps'];a81_0x1f6c=function(){return _0x22c095;};return a81_0x1f6c();}function a81_0x42c5(_0x4525a3,_0xb725ae){const _0x1f6c3f=a81_0x1f6c();return a81_0x42c5=function(_0x42c5b2,_0x8688b3){_0x42c5b2=_0x42c5b2-0x133;let _0xcb4e9c=_0x1f6c3f[_0x42c5b2];return _0xcb4e9c;},a81_0x42c5(_0x4525a3,_0xb725ae);}const a81_0x44ec8f=a81_0x42c5;(function(_0x3050d3,_0x25c8ed){const _0x2282d6=a81_0x42c5,_0x8a235f=_0x3050d3();while(!![]){try{const _0x4a9d22=parseInt(_0x2282d6(0x160))/0x1+parseInt(_0x2282d6(0x157))/0x2*(-parseInt(_0x2282d6(0x145))/0x3)+-parseInt(_0x2282d6(0x15d))/0x4*(-parseInt(_0x2282d6(0x14c))/0x5)+parseInt(_0x2282d6(0x151))/0x6+-parseInt(_0x2282d6(0x13c))/0x7*(-parseInt(_0x2282d6(0x13d))/0x8)+-parseInt(_0x2282d6(0x169))/0x9+parseInt(_0x2282d6(0x166))/0xa*(-parseInt(_0x2282d6(0x159))/0xb);if(_0x4a9d22===_0x25c8ed)break;else _0x8a235f['push'](_0x8a235f['shift']());}catch(_0x8c836a){_0x8a235f['push'](_0x8a235f['shift']());}}}(a81_0x1f6c,0x9cca8));const fs=require('fs'),path=require('path'),{default:BrowserStackSetup}=require(a81_0x44ec8f(0x148)),helper=require('../../helpers/helper'),PerformanceTester=require(a81_0x44ec8f(0x14b)),PerformanceEvents=require(a81_0x44ec8f(0x156))[a81_0x44ec8f(0x15b)],utilities=require(a81_0x44ec8f(0x147)),{parallelVanillaRun}=require(a81_0x44ec8f(0x135)),TestHubHandler=require(a81_0x44ec8f(0x167));async function run(_0x155613,_0x333c75,_0x23cd05){const _0x587398=a81_0x44ec8f,_0x3a230a={'NTVRn':'vanilla','nbVvY':function(_0x4d9806,_0x233819){return _0x4d9806(_0x233819);},'CDpKo':_0x587398(0x141),'uATTc':function(_0xcd9586,_0xbf4447){return _0xcd9586(_0xbf4447);},'SqTQb':function(_0x3f9d0d,_0x1adf3b){return _0x3f9d0d(_0x1adf3b);},'LPuqY':_0x587398(0x13e),'yHQrZ':function(_0x777f53,_0xceabbd){return _0x777f53>_0xceabbd;},'LBQDy':function(_0x40ff80,_0x29fc54){return _0x40ff80>_0x29fc54;},'rAfwE':function(_0x1e379b,_0x168ef7){return _0x1e379b*_0x168ef7;},'IjFTR':function(_0x1758be,_0x528abb,_0x1ef1d6){return _0x1758be(_0x528abb,_0x1ef1d6);}};await _0x23cd05[_0x587398(0x146)](_0x155613),await helper[_0x587398(0x142)](_0x23cd05[_0x587398(0x14e)]);const _0x1001a5=[];if(helper[_0x587398(0x137)](_0x155613['_'][0x1]))throw _0x3a230a[_0x587398(0x150)](Error,_0x3a230a[_0x587398(0x136)]);const _0x1779c5=path[_0x587398(0x140)](process[_0x587398(0x162)](),_0x155613['_'][0x1]);if(!fs[_0x587398(0x15e)](_0x1779c5))throw _0x3a230a[_0x587398(0x16b)](Error,_0x587398(0x144)+_0x155613['_'][0x1]+'\x20doesn\x27t\x20exist');if(!_0x23cd05[_0x587398(0x14e)])throw _0x3a230a['SqTQb'](Error,_0x3a230a[_0x587398(0x16a)]);const _0xa12b1a=helper[_0x587398(0x164)](_0x23cd05['config']);_0x23cd05[_0x587398(0x14e)]['platforms']&&_0x3a230a[_0x587398(0x14f)](_0x23cd05[_0x587398(0x14e)][_0x587398(0x14a)][_0x587398(0x158)],0x0)&&_0x23cd05[_0x587398(0x14e)]['platforms']['forEach']((_0x2c4abc,_0x19543f)=>{const _0x2002fa=_0x587398;_0xa12b1a?_0x1001a5[_0x2002fa(0x155)](helper[_0x2002fa(0x152)](_0x23cd05[_0x2002fa(0x14e)],_0x3a230a[_0x2002fa(0x133)],_0x19543f)):_0x1001a5['push'](helper[_0x2002fa(0x134)](_0x23cd05[_0x2002fa(0x14e)],_0x3a230a[_0x2002fa(0x133)],_0x19543f));});let _0x3dae17,_0x222e7f;const _0x4d7526=[];if(_0x3a230a[_0x587398(0x154)](_0x1001a5[_0x587398(0x158)],0x0))_0x1001a5['forEach']((_0x9cc872,_0x5afe0f)=>{const _0x2d3f7e=_0x587398,_0x2135fa={};_0x2135fa[_0x2d3f7e(0x161)]=_0x5afe0f,_0x3dae17={'server':helper['getHubUrl'](_0x23cd05[_0x2d3f7e(0x14e)]),'proxySettings':_0x23cd05[_0x2d3f7e(0x14e)][_0x2d3f7e(0x165)],'platform':helper[_0x2d3f7e(0x153)](_0x9cc872),'platformCaps':Object[_0x2d3f7e(0x15a)](_0x2135fa,_0x23cd05[_0x2d3f7e(0x14e)]['platforms'][_0x5afe0f])};const _0x1fedd7={'capability':_0x9cc872,..._0x3dae17};_0x1fedd7[_0x2d3f7e(0x13b)]=_0x1779c5,_0x1fedd7[_0x2d3f7e(0x14d)]=_0x333c75;const _0x474499={};_0x474499[_0x2d3f7e(0x168)]=_0x1fedd7,_0x222e7f=_0x474499,_0x4d7526[_0x2d3f7e(0x155)](_0x222e7f);});else{let _0x4a1b26;_0xa12b1a?_0x4a1b26=helper['modifyBrowserStackW3CCaps'](_0x23cd05[_0x587398(0x14e)],_0x3a230a['NTVRn'],0x0):_0x4a1b26=helper[_0x587398(0x134)](_0x23cd05[_0x587398(0x14e)],_0x3a230a[_0x587398(0x133)],0x0);_0x3dae17={'server':helper[_0x587398(0x163)](_0x23cd05['config']),'proxySettings':_0x23cd05[_0x587398(0x14e)][_0x587398(0x165)]};const _0x4b356f={'capability':_0x4a1b26,..._0x3dae17};_0x4b356f[_0x587398(0x13b)]=_0x1779c5,_0x4b356f['args']=_0x333c75;const _0x37b6a3={};_0x37b6a3[_0x587398(0x168)]=_0x4b356f,_0x222e7f=_0x37b6a3,_0x4d7526[_0x587398(0x155)](_0x222e7f);}const _0x25be29=await TestHubHandler['launchBuild'](_0x3a230a[_0x587398(0x133)],_0x23cd05),_0x1a15cc=_0x3a230a[_0x587398(0x15f)](_0x23cd05['config'][_0x587398(0x14a)][_0x587398(0x158)]||0x1,_0x23cd05[_0x587398(0x14e)]['parallelsPerPlatform']||0x1);PerformanceTester[_0x587398(0x13a)](PerformanceEvents[_0x587398(0x139)]),_0x3a230a[_0x587398(0x13f)](parallelVanillaRun,_0x4d7526,_0x1a15cc)[_0x587398(0x138)](_0xdaf293=>{})[_0x587398(0x15c)](async()=>{const _0x550df7=_0x587398;PerformanceTester['start'](PerformanceEvents[_0x550df7(0x149)]),await utilities['finalExecution'](_0x23cd05);});}module[a81_0x44ec8f(0x143)]=run;