#!/usr/bin/env node
'use strict';const a81_0x455fe6=a81_0x52bb;(function(_0x3e36e2,_0x1266f2){const _0x545bee=a81_0x52bb,_0x5ce349=_0x3e36e2();while(!![]){try{const _0x2b62e9=-parseInt(_0x545bee(0x193))/0x1*(parseInt(_0x545bee(0x18a))/0x2)+-parseInt(_0x545bee(0x192))/0x3*(parseInt(_0x545bee(0x1a6))/0x4)+-parseInt(_0x545bee(0x1a1))/0x5*(-parseInt(_0x545bee(0x1ac))/0x6)+parseInt(_0x545bee(0x1b0))/0x7+-parseInt(_0x545bee(0x1a8))/0x8+-parseInt(_0x545bee(0x18b))/0x9+parseInt(_0x545bee(0x1a9))/0xa;if(_0x2b62e9===_0x1266f2)break;else _0x5ce349['push'](_0x5ce349['shift']());}catch(_0x3fa83d){_0x5ce349['push'](_0x5ce349['shift']());}}}(a81_0x4e22,0xa70d7));function a81_0x4e22(){const _0x61711=['4vByjce','configuration','getPlatformName','BTsKk','aXksa','start','forEach','args','proxySettings','File\x20path\x20is\x20required','launchBuild','../test-runner','config','getHubUrl','35JtpuoR','../../helpers/performance/constants','join','initialize','then','12wymlOD','path','10277176NjvyoS','21423630wxmpYe','yXjjG','file','904326xdulme','ZnctW','qYALB','platforms','5891466BYDRzP','finally','useW3C','parallelsPerPlatform','SDK_SETUP','cwd','exports','modifyBrowserStackCaps','modifyBrowserStackW3CCaps','EVENTS','456716vvYcWr','9276741SCogOE','finalExecution','end','BxiVF','push','length','\x20doesn\x27t\x20exist','125973OCqREA'];a81_0x4e22=function(){return _0x61711;};return a81_0x4e22();}function a81_0x52bb(_0x4a51d0,_0x32866d){const _0x4e22e9=a81_0x4e22();return a81_0x52bb=function(_0x52bb64,_0x260d70){_0x52bb64=_0x52bb64-0x188;let _0x1b995f=_0x4e22e9[_0x52bb64];return _0x1b995f;},a81_0x52bb(_0x4a51d0,_0x32866d);}const fs=require('fs'),path=require(a81_0x455fe6(0x1a7)),{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require('../../helpers/helper'),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a81_0x455fe6(0x1a2))[a81_0x455fe6(0x189)],utilities=require('../../helpers/utilities'),{parallelVanillaRun}=require(a81_0x455fe6(0x19e)),TestHubHandler=require('../../helpers/testhub/testhubHandler');async function run(_0x3393cf,_0x4326e3,_0x741bbd){const _0x3e6bb5=a81_0x455fe6,_0x26b70e={'yXjjG':'vanilla','qYALB':function(_0x30c5b1,_0x458c6b){return _0x30c5b1(_0x458c6b);},'aXksa':_0x3e6bb5(0x19c),'BxiVF':'Config\x20yml\x20is\x20required','BTsKk':function(_0x1d0587,_0x384906){return _0x1d0587>_0x384906;},'QiKcE':function(_0x3457c9,_0xacf8b9){return _0x3457c9*_0xacf8b9;},'ZnctW':function(_0x53d3b1,_0x1ea36c,_0xb70a14){return _0x53d3b1(_0x1ea36c,_0xb70a14);}};await _0x741bbd[_0x3e6bb5(0x1a4)](_0x3393cf),await helper['handleApp'](_0x741bbd['config']);const _0x548cdd=[];if(helper['isUndefined'](_0x3393cf['_'][0x1]))throw _0x26b70e['qYALB'](Error,_0x26b70e[_0x3e6bb5(0x197)]);const _0x5d1a59=path[_0x3e6bb5(0x1a3)](process[_0x3e6bb5(0x1b5)](),_0x3393cf['_'][0x1]);if(!fs['existsSync'](_0x5d1a59))throw _0x26b70e[_0x3e6bb5(0x1ae)](Error,'File\x20'+_0x3393cf['_'][0x1]+_0x3e6bb5(0x191));if(!_0x741bbd[_0x3e6bb5(0x19f)])throw _0x26b70e[_0x3e6bb5(0x1ae)](Error,_0x26b70e[_0x3e6bb5(0x18e)]);const _0x3c018e=helper[_0x3e6bb5(0x1b2)](_0x741bbd['config']);_0x741bbd['config'][_0x3e6bb5(0x1af)]&&_0x26b70e[_0x3e6bb5(0x196)](_0x741bbd[_0x3e6bb5(0x19f)][_0x3e6bb5(0x1af)][_0x3e6bb5(0x190)],0x0)&&_0x741bbd[_0x3e6bb5(0x19f)][_0x3e6bb5(0x1af)]['forEach']((_0x3dbddb,_0x1abb54)=>{const _0x3c31b9=_0x3e6bb5;_0x3c018e?_0x548cdd[_0x3c31b9(0x18f)](helper[_0x3c31b9(0x188)](_0x741bbd[_0x3c31b9(0x19f)],_0x26b70e['yXjjG'],_0x1abb54)):_0x548cdd['push'](helper[_0x3c31b9(0x1b7)](_0x741bbd['config'],_0x26b70e[_0x3c31b9(0x1aa)],_0x1abb54));});let _0x164b2a,_0x5788b2;const _0x29fe5a=[];if(_0x26b70e[_0x3e6bb5(0x196)](_0x548cdd[_0x3e6bb5(0x190)],0x0))_0x548cdd[_0x3e6bb5(0x199)]((_0x1a1c79,_0x271039)=>{const _0x55217b=_0x3e6bb5,_0x2e5f95={};_0x2e5f95['index']=_0x271039,_0x164b2a={'server':helper[_0x55217b(0x1a0)](_0x741bbd['config']),'proxySettings':_0x741bbd[_0x55217b(0x19f)][_0x55217b(0x19b)],'platform':helper[_0x55217b(0x195)](_0x1a1c79),'platformCaps':Object['assign'](_0x2e5f95,_0x741bbd[_0x55217b(0x19f)][_0x55217b(0x1af)][_0x271039])};const _0x3ec939={'capability':_0x1a1c79,..._0x164b2a};_0x3ec939[_0x55217b(0x1ab)]=_0x5d1a59,_0x3ec939['args']=_0x4326e3;const _0x51b78c={};_0x51b78c[_0x55217b(0x194)]=_0x3ec939,_0x5788b2=_0x51b78c,_0x29fe5a['push'](_0x5788b2);});else{let _0x3dea1b;_0x3c018e?_0x3dea1b=helper['modifyBrowserStackW3CCaps'](_0x741bbd[_0x3e6bb5(0x19f)],_0x26b70e[_0x3e6bb5(0x1aa)],0x0):_0x3dea1b=helper[_0x3e6bb5(0x1b7)](_0x741bbd[_0x3e6bb5(0x19f)],_0x26b70e[_0x3e6bb5(0x1aa)],0x0);_0x164b2a={'server':helper[_0x3e6bb5(0x1a0)](_0x741bbd[_0x3e6bb5(0x19f)]),'proxySettings':_0x741bbd[_0x3e6bb5(0x19f)][_0x3e6bb5(0x19b)]};const _0x3711bb={'capability':_0x3dea1b,..._0x164b2a};_0x3711bb[_0x3e6bb5(0x1ab)]=_0x5d1a59,_0x3711bb[_0x3e6bb5(0x19a)]=_0x4326e3;const _0x173e20={};_0x173e20[_0x3e6bb5(0x194)]=_0x3711bb,_0x5788b2=_0x173e20,_0x29fe5a[_0x3e6bb5(0x18f)](_0x5788b2);}const _0x306ecd=await TestHubHandler[_0x3e6bb5(0x19d)](_0x26b70e[_0x3e6bb5(0x1aa)],_0x741bbd),_0x5e9d7b=_0x26b70e['QiKcE'](_0x741bbd['config'][_0x3e6bb5(0x1af)]['length']||0x1,_0x741bbd['config'][_0x3e6bb5(0x1b3)]||0x1);PerformanceTester[_0x3e6bb5(0x18d)](PerformanceEvents[_0x3e6bb5(0x1b4)]),_0x26b70e[_0x3e6bb5(0x1ad)](parallelVanillaRun,_0x29fe5a,_0x5e9d7b)[_0x3e6bb5(0x1a5)](_0x1098f9=>{})[_0x3e6bb5(0x1b1)](async()=>{const _0x33c34c=_0x3e6bb5;PerformanceTester[_0x33c34c(0x198)](PerformanceEvents['SDK_CLEANUP']),await utilities[_0x33c34c(0x18c)](_0x741bbd);});}module[a81_0x455fe6(0x1b6)]=run;