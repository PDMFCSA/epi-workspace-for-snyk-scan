#!/usr/bin/env node
'use strict';const a53_0x212af0=a53_0x3e9f;(function(_0x3eb865,_0x3078be){const _0x2ffc67=a53_0x3e9f,_0x4c66de=_0x3eb865();while(!![]){try{const _0x58ebbe=parseInt(_0x2ffc67(0xc7))/0x1+-parseInt(_0x2ffc67(0xb5))/0x2+parseInt(_0x2ffc67(0xa5))/0x3*(parseInt(_0x2ffc67(0xbd))/0x4)+parseInt(_0x2ffc67(0xa4))/0x5*(parseInt(_0x2ffc67(0xb4))/0x6)+parseInt(_0x2ffc67(0xb1))/0x7+-parseInt(_0x2ffc67(0xaf))/0x8*(-parseInt(_0x2ffc67(0xd0))/0x9)+-parseInt(_0x2ffc67(0xb9))/0xa;if(_0x58ebbe===_0x3078be)break;else _0x4c66de['push'](_0x4c66de['shift']());}catch(_0x41c58a){_0x4c66de['push'](_0x4c66de['shift']());}}}(a53_0x2904,0xc04ab));function a53_0x3e9f(_0x5d1f14,_0x2dc3de){const _0x29045e=a53_0x2904();return a53_0x3e9f=function(_0x3e9f02,_0x5f1b34){_0x3e9f02=_0x3e9f02-0xa3;let _0xeb4446=_0x29045e[_0x3e9f02];return _0xeb4446;},a53_0x3e9f(_0x5d1f14,_0x2dc3de);}const fs=require('fs'),path=require(a53_0x212af0(0xc8)),{default:BrowserStackSetup}=require(a53_0x212af0(0xc9)),helper=require('../../helpers/helper'),PerformanceTester=require(a53_0x212af0(0xab)),PerformanceEvents=require(a53_0x212af0(0xcb))[a53_0x212af0(0xc0)],utilities=require(a53_0x212af0(0xc2)),{parallelVanillaRun}=require('../test-runner'),TestHubHandler=require(a53_0x212af0(0xcc));function a53_0x2904(){const _0x446331=['../../helpers/performance/performance-tester','initialize','SDK_SETUP','File\x20path\x20is\x20required','38496DhiYuk','ZsVgX','10150973SBbmYO','handleApp','vanilla','1338bwzmLw','396756XiMcop','parallelsPerPlatform','SDK_CLEANUP','push','42961010FzoZkL','finally','platforms','getPlatformName','286612npgPcK','rBMfZ','args','EVENTS','cwd','../../helpers/utilities','UPCAA','modifyBrowserStackCaps','mScUO','config','565115sqsplU','path','../../helpers/BrowserStackSetup','\x20doesn\x27t\x20exist','../../helpers/performance/constants','../../helpers/testhub/testhubHandler','configuration','index','getHubUrl','1926UrVWYP','ZXJAv','assign','launchBuild','modifyBrowserStackW3CCaps','then','30880kksgzr','36TXLihy','start','join','forEach','file','finalExecution'];a53_0x2904=function(){return _0x446331;};return a53_0x2904();}async function run(_0x15c1a4,_0x286d7c,_0x431546){const _0x253ac1=a53_0x212af0,_0x4bc0db={'ZXJAv':_0x253ac1(0xb3),'ZsVgX':function(_0x6ba399,_0xbf082f){return _0x6ba399(_0xbf082f);},'UPCAA':_0x253ac1(0xae),'tiKCU':function(_0x172dab,_0x168bff){return _0x172dab(_0x168bff);},'RSRmz':function(_0x4a76c2,_0x356a9d){return _0x4a76c2(_0x356a9d);},'IiGPS':'Config\x20yml\x20is\x20required','mScUO':function(_0x14c0d3,_0x2d9d53){return _0x14c0d3>_0x2d9d53;},'rBMfZ':function(_0x14c8e4,_0x5eaf5c){return _0x14c8e4*_0x5eaf5c;},'oCHRb':function(_0x31c5e2,_0x2de248,_0x34357e){return _0x31c5e2(_0x2de248,_0x34357e);}};await _0x431546[_0x253ac1(0xac)](_0x15c1a4),await helper[_0x253ac1(0xb2)](_0x431546[_0x253ac1(0xc6)]);const _0x27aa99=[];if(helper['isUndefined'](_0x15c1a4['_'][0x1]))throw _0x4bc0db[_0x253ac1(0xb0)](Error,_0x4bc0db[_0x253ac1(0xc3)]);const _0x39a83b=path[_0x253ac1(0xa7)](process[_0x253ac1(0xc1)](),_0x15c1a4['_'][0x1]);if(!fs['existsSync'](_0x39a83b))throw _0x4bc0db['tiKCU'](Error,'File\x20'+_0x15c1a4['_'][0x1]+_0x253ac1(0xca));if(!_0x431546[_0x253ac1(0xc6)])throw _0x4bc0db['RSRmz'](Error,_0x4bc0db['IiGPS']);const _0xe88514=helper['useW3C'](_0x431546[_0x253ac1(0xc6)]);_0x431546['config'][_0x253ac1(0xbb)]&&_0x4bc0db['mScUO'](_0x431546[_0x253ac1(0xc6)]['platforms']['length'],0x0)&&_0x431546['config'][_0x253ac1(0xbb)][_0x253ac1(0xa8)]((_0x5335f5,_0x17ce46)=>{const _0x1206d6=_0x253ac1;_0xe88514?_0x27aa99[_0x1206d6(0xb8)](helper[_0x1206d6(0xd4)](_0x431546[_0x1206d6(0xc6)],_0x4bc0db['ZXJAv'],_0x17ce46)):_0x27aa99[_0x1206d6(0xb8)](helper['modifyBrowserStackCaps'](_0x431546[_0x1206d6(0xc6)],_0x4bc0db['ZXJAv'],_0x17ce46));});let _0xc708c5,_0x3a217f;const _0x2bb88f=[];if(_0x4bc0db[_0x253ac1(0xc5)](_0x27aa99['length'],0x0))_0x27aa99[_0x253ac1(0xa8)]((_0x3414ef,_0x5728aa)=>{const _0x27896b=_0x253ac1,_0x510fca={};_0x510fca[_0x27896b(0xce)]=_0x5728aa,_0xc708c5={'server':helper['getHubUrl'](_0x431546[_0x27896b(0xc6)]),'proxySettings':_0x431546['config']['proxySettings'],'platform':helper[_0x27896b(0xbc)](_0x3414ef),'platformCaps':Object[_0x27896b(0xd2)](_0x510fca,_0x431546[_0x27896b(0xc6)]['platforms'][_0x5728aa])};const _0x569228={'capability':_0x3414ef,..._0xc708c5};_0x569228[_0x27896b(0xa9)]=_0x39a83b,_0x569228['args']=_0x286d7c;const _0x111aef={};_0x111aef[_0x27896b(0xcd)]=_0x569228,_0x3a217f=_0x111aef,_0x2bb88f[_0x27896b(0xb8)](_0x3a217f);});else{let _0x14c483;_0xe88514?_0x14c483=helper[_0x253ac1(0xd4)](_0x431546['config'],_0x4bc0db[_0x253ac1(0xd1)],0x0):_0x14c483=helper[_0x253ac1(0xc4)](_0x431546[_0x253ac1(0xc6)],_0x4bc0db[_0x253ac1(0xd1)],0x0);_0xc708c5={'server':helper[_0x253ac1(0xcf)](_0x431546['config']),'proxySettings':_0x431546[_0x253ac1(0xc6)]['proxySettings']};const _0x4ff5a7={'capability':_0x14c483,..._0xc708c5};_0x4ff5a7[_0x253ac1(0xa9)]=_0x39a83b,_0x4ff5a7[_0x253ac1(0xbf)]=_0x286d7c;const _0x51490a={};_0x51490a['configuration']=_0x4ff5a7,_0x3a217f=_0x51490a,_0x2bb88f[_0x253ac1(0xb8)](_0x3a217f);}const _0x468673=await TestHubHandler[_0x253ac1(0xd3)](_0x4bc0db['ZXJAv'],_0x431546),_0x2fce6a=_0x4bc0db[_0x253ac1(0xbe)](_0x431546['config'][_0x253ac1(0xbb)]['length']||0x1,_0x431546[_0x253ac1(0xc6)][_0x253ac1(0xb6)]||0x1);PerformanceTester['end'](PerformanceEvents[_0x253ac1(0xad)]),_0x4bc0db['oCHRb'](parallelVanillaRun,_0x2bb88f,_0x2fce6a)[_0x253ac1(0xa3)](_0xbec515=>{})[_0x253ac1(0xba)](async()=>{const _0x19d50b=_0x253ac1;PerformanceTester[_0x19d50b(0xa6)](PerformanceEvents[_0x19d50b(0xb7)]),await utilities[_0x19d50b(0xaa)](_0x431546);});}module['exports']=run;