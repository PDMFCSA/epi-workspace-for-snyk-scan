#!/usr/bin/env node
'use strict';const a53_0x12e20f=a53_0x2cf6;(function(_0x288249,_0x39d43b){const _0x14518f=a53_0x2cf6,_0x3eb112=_0x288249();while(!![]){try{const _0x4d6e76=parseInt(_0x14518f(0x152))/0x1+parseInt(_0x14518f(0x128))/0x2*(parseInt(_0x14518f(0x129))/0x3)+-parseInt(_0x14518f(0x12d))/0x4+parseInt(_0x14518f(0x13a))/0x5*(parseInt(_0x14518f(0x122))/0x6)+parseInt(_0x14518f(0x149))/0x7*(parseInt(_0x14518f(0x125))/0x8)+-parseInt(_0x14518f(0x145))/0x9*(-parseInt(_0x14518f(0x141))/0xa)+-parseInt(_0x14518f(0x140))/0xb;if(_0x4d6e76===_0x39d43b)break;else _0x3eb112['push'](_0x3eb112['shift']());}catch(_0x4dfede){_0x3eb112['push'](_0x3eb112['shift']());}}}(a53_0x11b5,0x5d8e4));function a53_0x11b5(){const _0x30e061=['platforms','finally','4539590nVwrlr','1510zSzGKA','../../helpers/utilities','modifyBrowserStackCaps','SDK_CLEANUP','16371Oxglth','../test-runner','../../helpers/BrowserStackSetup','File\x20path\x20is\x20required','2251963nyJkgc','cwd','length','end','\x20doesn\x27t\x20exist','../../helpers/helper','modifyBrowserStackW3CCaps','args','configuration','387862NAPRNs','Config\x20yml\x20is\x20required','finalExecution','exports','483708YBZBbm','initialize','parallelsPerPlatform','16NfqJVJ','SDK_SETUP','dHgpV','656QFiFJg','9TmGEkj','vanilla','iNzsI','push','2366628cTYFrq','isUndefined','existsSync','SHslI','assign','getPlatformName','proxySettings','EVENTS','../../helpers/performance/performance-tester','../../helpers/testhub/testhubHandler','MbJGD','config','join','5TFudXq','useW3C','forEach','WXdee'];a53_0x11b5=function(){return _0x30e061;};return a53_0x11b5();}const fs=require('fs'),path=require('path'),{default:BrowserStackSetup}=require(a53_0x12e20f(0x147)),helper=require(a53_0x12e20f(0x14e)),PerformanceTester=require(a53_0x12e20f(0x135)),PerformanceEvents=require('../../helpers/performance/constants')[a53_0x12e20f(0x134)],utilities=require(a53_0x12e20f(0x142)),{parallelVanillaRun}=require(a53_0x12e20f(0x146)),TestHubHandler=require(a53_0x12e20f(0x136));async function run(_0x391dc6,_0x2b857b){const _0x3e5165=a53_0x12e20f,_0x58f9fe={'SHslI':_0x3e5165(0x12a),'ZeXAW':function(_0x3dc07c,_0x20fbbb){return _0x3dc07c(_0x20fbbb);},'MbJGD':_0x3e5165(0x148),'ixjbh':function(_0xaefd41,_0x4fa3e3){return _0xaefd41(_0x4fa3e3);},'dHgpV':function(_0x559f4f,_0x5f59cd){return _0x559f4f(_0x5f59cd);},'yYKmP':_0x3e5165(0x153),'ZFsbC':function(_0x40102d,_0x173b0b){return _0x40102d>_0x173b0b;},'iNzsI':function(_0x2fecbb,_0x559e8f){return _0x2fecbb>_0x559e8f;},'WXdee':function(_0x22fef3,_0x5ed071){return _0x22fef3*_0x5ed071;},'AKmTT':function(_0x461fc8,_0x2e85f0,_0x534e6f){return _0x461fc8(_0x2e85f0,_0x534e6f);}},_0x3158c5=new BrowserStackSetup(_0x391dc6,_0x58f9fe[_0x3e5165(0x130)]);await _0x3158c5[_0x3e5165(0x123)](),await helper['handleApp'](_0x3158c5[_0x3e5165(0x138)]);const _0xed4c3a=[];if(helper[_0x3e5165(0x12e)](_0x391dc6['_'][0x1]))throw _0x58f9fe['ZeXAW'](Error,_0x58f9fe[_0x3e5165(0x137)]);const _0x95e378=path[_0x3e5165(0x139)](process[_0x3e5165(0x14a)](),_0x391dc6['_'][0x1]);if(!fs[_0x3e5165(0x12f)](_0x95e378))throw _0x58f9fe['ixjbh'](Error,'File\x20'+_0x391dc6['_'][0x1]+_0x3e5165(0x14d));if(!_0x3158c5[_0x3e5165(0x138)])throw _0x58f9fe[_0x3e5165(0x127)](Error,_0x58f9fe['yYKmP']);const _0x390e0f=helper[_0x3e5165(0x13b)](_0x3158c5[_0x3e5165(0x138)]);_0x3158c5[_0x3e5165(0x138)][_0x3e5165(0x13e)]&&_0x58f9fe['ZFsbC'](_0x3158c5[_0x3e5165(0x138)][_0x3e5165(0x13e)][_0x3e5165(0x14b)],0x0)&&_0x3158c5[_0x3e5165(0x138)][_0x3e5165(0x13e)][_0x3e5165(0x13c)]((_0x3c509b,_0x1e7c4f)=>{const _0x36c948=_0x3e5165;_0x390e0f?_0xed4c3a[_0x36c948(0x12c)](helper['modifyBrowserStackW3CCaps'](_0x3158c5[_0x36c948(0x138)],_0x58f9fe[_0x36c948(0x130)],_0x1e7c4f)):_0xed4c3a['push'](helper[_0x36c948(0x143)](_0x3158c5[_0x36c948(0x138)],_0x58f9fe[_0x36c948(0x130)],_0x1e7c4f));});let _0xd3aec2,_0x19c535;const _0x33b205=[];if(_0x58f9fe[_0x3e5165(0x12b)](_0xed4c3a[_0x3e5165(0x14b)],0x0))_0xed4c3a['forEach']((_0x41bc68,_0x4179f5)=>{const _0x27cc3a=_0x3e5165,_0x3e1233={};_0x3e1233['index']=_0x4179f5,_0xd3aec2={'server':helper['getHubUrl'](_0x3158c5[_0x27cc3a(0x138)]),'proxySettings':_0x3158c5[_0x27cc3a(0x138)][_0x27cc3a(0x133)],'platform':helper[_0x27cc3a(0x132)](_0x41bc68),'platformCaps':Object[_0x27cc3a(0x131)](_0x3e1233,_0x3158c5[_0x27cc3a(0x138)][_0x27cc3a(0x13e)][_0x4179f5])};const _0x10aa55={'capability':_0x41bc68,..._0xd3aec2};_0x10aa55['file']=_0x95e378,_0x10aa55[_0x27cc3a(0x150)]=_0x2b857b;const _0x153d26={};_0x153d26[_0x27cc3a(0x151)]=_0x10aa55,_0x19c535=_0x153d26,_0x33b205[_0x27cc3a(0x12c)](_0x19c535);});else{let _0x209902;_0x390e0f?_0x209902=helper[_0x3e5165(0x14f)](_0x3158c5[_0x3e5165(0x138)],_0x58f9fe[_0x3e5165(0x130)],0x0):_0x209902=helper[_0x3e5165(0x143)](_0x3158c5[_0x3e5165(0x138)],_0x58f9fe[_0x3e5165(0x130)],0x0);_0xd3aec2={'server':helper['getHubUrl'](_0x3158c5[_0x3e5165(0x138)]),'proxySettings':_0x3158c5[_0x3e5165(0x138)][_0x3e5165(0x133)]};const _0x3f76e5={'capability':_0x209902,..._0xd3aec2};_0x3f76e5['file']=_0x95e378,_0x3f76e5['args']=_0x2b857b;const _0x545ae4={};_0x545ae4['configuration']=_0x3f76e5,_0x19c535=_0x545ae4,_0x33b205[_0x3e5165(0x12c)](_0x19c535);}const _0x1d0e4c=await TestHubHandler['launchBuild'](_0x58f9fe[_0x3e5165(0x130)],_0x3158c5),_0x2713f1=_0x58f9fe[_0x3e5165(0x13d)](_0x3158c5[_0x3e5165(0x138)][_0x3e5165(0x13e)]['length']||0x1,_0x3158c5['config'][_0x3e5165(0x124)]||0x1);PerformanceTester[_0x3e5165(0x14c)](PerformanceEvents[_0x3e5165(0x126)]),_0x58f9fe['AKmTT'](parallelVanillaRun,_0x33b205,_0x2713f1)['then'](_0x38c330=>{})[_0x3e5165(0x13f)](async()=>{const _0x2c6568=_0x3e5165;PerformanceTester['start'](PerformanceEvents[_0x2c6568(0x144)]),await utilities[_0x2c6568(0x154)](_0x3158c5);});}function a53_0x2cf6(_0x29fd1f,_0x5c573a){const _0x11b559=a53_0x11b5();return a53_0x2cf6=function(_0x2cf6c5,_0x5bfc90){_0x2cf6c5=_0x2cf6c5-0x122;let _0x31bb40=_0x11b559[_0x2cf6c5];return _0x31bb40;},a53_0x2cf6(_0x29fd1f,_0x5c573a);}module[a53_0x12e20f(0x155)]=run;