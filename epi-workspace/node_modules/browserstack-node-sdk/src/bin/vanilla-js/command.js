#!/usr/bin/env node
'use strict';const a83_0x926bb3=a83_0x4fd1;(function(_0x1e20ef,_0x183863){const _0x3017c3=a83_0x4fd1,_0x505cd2=_0x1e20ef();while(!![]){try{const _0x36d6db=parseInt(_0x3017c3(0x1c3))/0x1*(-parseInt(_0x3017c3(0x1c7))/0x2)+-parseInt(_0x3017c3(0x1cb))/0x3+parseInt(_0x3017c3(0x1c9))/0x4+-parseInt(_0x3017c3(0x1c0))/0x5*(parseInt(_0x3017c3(0x1a6))/0x6)+-parseInt(_0x3017c3(0x1c5))/0x7+-parseInt(_0x3017c3(0x1d0))/0x8+parseInt(_0x3017c3(0x1b1))/0x9;if(_0x36d6db===_0x183863)break;else _0x505cd2['push'](_0x505cd2['shift']());}catch(_0x5289b7){_0x505cd2['push'](_0x505cd2['shift']());}}}(a83_0x5bfd,0x5fd3d));function a83_0x4fd1(_0x12597e,_0x5ee889){const _0x5bfd18=a83_0x5bfd();return a83_0x4fd1=function(_0x4fd1c2,_0x10f091){_0x4fd1c2=_0x4fd1c2-0x1a5;let _0x1abe38=_0x5bfd18[_0x4fd1c2];return _0x1abe38;},a83_0x4fd1(_0x12597e,_0x5ee889);}const fs=require('fs'),path=require(a83_0x926bb3(0x1cd)),{default:BrowserStackSetup}=require(a83_0x926bb3(0x1d3)),helper=require('../../helpers/helper'),PerformanceTester=require(a83_0x926bb3(0x1aa)),PerformanceEvents=require(a83_0x926bb3(0x1a7))['EVENTS'],utilities=require(a83_0x926bb3(0x1b3)),{parallelVanillaRun}=require(a83_0x926bb3(0x1b6)),TestHubHandler=require(a83_0x926bb3(0x1d2));function a83_0x5bfd(){const _0x50d4bb=['40212PLeaFV','isUndefined','path','platforms','modifyBrowserStackCaps','5227728fDjFWK','jAYrZ','../../helpers/testhub/testhubHandler','../../helpers/BrowserStackSetup','KOioU','finally','120SRLFTU','../../helpers/performance/constants','file','File\x20','../../helpers/performance/performance-tester','modifyBrowserStackW3CCaps','JKqcb','SDK_SETUP','push','then','forEach','18443349LZqaXE','udEMn','../../helpers/utilities','handleApp','SDK_CLEANUP','../test-runner','start','existsSync','pxXsR','proxySettings','File\x20path\x20is\x20required','useW3C','configuration','exports','AOGyo','54360oKcMKI','finalExecution','end','3063vxiIRu','config','3198776CxHWIV','args','242fGWKDO','getHubUrl','220596UWHzSC','awFqp'];a83_0x5bfd=function(){return _0x50d4bb;};return a83_0x5bfd();}async function run(_0x403ccf,_0x44da3d,_0x38f524){const _0x593021=a83_0x926bb3,_0x4036db={'udEMn':'vanilla','KOioU':function(_0x1f78bd,_0x5a91a7){return _0x1f78bd(_0x5a91a7);},'AOGyo':_0x593021(0x1bb),'hidkD':function(_0x437a94,_0x27ea12){return _0x437a94(_0x27ea12);},'BKEyz':function(_0x27685f,_0xc4b772){return _0x27685f(_0xc4b772);},'JKqcb':'Config\x20yml\x20is\x20required','bDAaX':function(_0x41048e,_0x5caacb){return _0x41048e>_0x5caacb;},'jAYrZ':function(_0x512327,_0x818c1){return _0x512327>_0x818c1;},'awFqp':function(_0x1a904e,_0x2d67bd){return _0x1a904e*_0x2d67bd;},'pxXsR':function(_0x6b08d6,_0x29b872,_0x38047f){return _0x6b08d6(_0x29b872,_0x38047f);}};await _0x38f524['initialize'](_0x403ccf),await helper[_0x593021(0x1b4)](_0x38f524['config']);const _0x28c65e=[];if(helper[_0x593021(0x1cc)](_0x403ccf['_'][0x1]))throw _0x4036db[_0x593021(0x1d4)](Error,_0x4036db[_0x593021(0x1bf)]);const _0x22324c=path['join'](process['cwd'](),_0x403ccf['_'][0x1]);if(!fs[_0x593021(0x1b8)](_0x22324c))throw _0x4036db['hidkD'](Error,_0x593021(0x1a9)+_0x403ccf['_'][0x1]+'\x20doesn\x27t\x20exist');if(!_0x38f524[_0x593021(0x1c4)])throw _0x4036db['BKEyz'](Error,_0x4036db[_0x593021(0x1ac)]);const _0x2b0a0d=helper[_0x593021(0x1bc)](_0x38f524[_0x593021(0x1c4)]);_0x38f524[_0x593021(0x1c4)][_0x593021(0x1ce)]&&_0x4036db['bDAaX'](_0x38f524['config'][_0x593021(0x1ce)]['length'],0x0)&&_0x38f524[_0x593021(0x1c4)][_0x593021(0x1ce)][_0x593021(0x1b0)]((_0x3d6d70,_0x22d964)=>{const _0x34c2ca=_0x593021;_0x2b0a0d?_0x28c65e[_0x34c2ca(0x1ae)](helper[_0x34c2ca(0x1ab)](_0x38f524[_0x34c2ca(0x1c4)],_0x4036db['udEMn'],_0x22d964)):_0x28c65e[_0x34c2ca(0x1ae)](helper[_0x34c2ca(0x1cf)](_0x38f524[_0x34c2ca(0x1c4)],_0x4036db['udEMn'],_0x22d964));});let _0x13893f,_0x50a83e;const _0x57f15b=[];if(_0x4036db[_0x593021(0x1d1)](_0x28c65e['length'],0x0))_0x28c65e[_0x593021(0x1b0)]((_0x21de9b,_0x1f2965)=>{const _0x11d8cf=_0x593021,_0x3e4a6e={};_0x3e4a6e['index']=_0x1f2965,_0x13893f={'server':helper[_0x11d8cf(0x1c8)](_0x38f524['config']),'proxySettings':_0x38f524[_0x11d8cf(0x1c4)][_0x11d8cf(0x1ba)],'platform':helper['getPlatformName'](_0x21de9b),'platformCaps':Object['assign'](_0x3e4a6e,_0x38f524[_0x11d8cf(0x1c4)]['platforms'][_0x1f2965])};const _0x5627d9={'capability':_0x21de9b,..._0x13893f};_0x5627d9[_0x11d8cf(0x1a8)]=_0x22324c,_0x5627d9[_0x11d8cf(0x1c6)]=_0x44da3d;const _0x4147f3={};_0x4147f3['configuration']=_0x5627d9,_0x50a83e=_0x4147f3,_0x57f15b[_0x11d8cf(0x1ae)](_0x50a83e);});else{let _0x5938a7;_0x2b0a0d?_0x5938a7=helper['modifyBrowserStackW3CCaps'](_0x38f524[_0x593021(0x1c4)],_0x4036db['udEMn'],0x0):_0x5938a7=helper[_0x593021(0x1cf)](_0x38f524[_0x593021(0x1c4)],_0x4036db[_0x593021(0x1b2)],0x0);_0x13893f={'server':helper[_0x593021(0x1c8)](_0x38f524[_0x593021(0x1c4)]),'proxySettings':_0x38f524[_0x593021(0x1c4)][_0x593021(0x1ba)]};const _0x3daea0={'capability':_0x5938a7,..._0x13893f};_0x3daea0[_0x593021(0x1a8)]=_0x22324c,_0x3daea0['args']=_0x44da3d;const _0x266922={};_0x266922[_0x593021(0x1bd)]=_0x3daea0,_0x50a83e=_0x266922,_0x57f15b[_0x593021(0x1ae)](_0x50a83e);}const _0x44696c=await TestHubHandler['launchBuild'](_0x4036db[_0x593021(0x1b2)],_0x38f524),_0x53dc18=_0x4036db[_0x593021(0x1ca)](_0x38f524['config'][_0x593021(0x1ce)]['length']||0x1,_0x38f524['config']['parallelsPerPlatform']||0x1);PerformanceTester[_0x593021(0x1c2)](PerformanceEvents[_0x593021(0x1ad)]),_0x4036db[_0x593021(0x1b9)](parallelVanillaRun,_0x57f15b,_0x53dc18)[_0x593021(0x1af)](_0x1a5698=>{})[_0x593021(0x1a5)](async()=>{const _0x79bafe=_0x593021;PerformanceTester[_0x79bafe(0x1b7)](PerformanceEvents[_0x79bafe(0x1b5)]),await utilities[_0x79bafe(0x1c1)](_0x38f524);});}module[a83_0x926bb3(0x1be)]=run;