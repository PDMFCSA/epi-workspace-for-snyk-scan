#!/usr/bin/env node
'use strict';const a87_0xf57db9=a87_0x3e77;function a87_0x3e77(_0x35e1d0,_0x42b3ce){const _0x1ae711=a87_0x1ae7();return a87_0x3e77=function(_0x3e7724,_0x2063da){_0x3e7724=_0x3e7724-0xb9;let _0x15579b=_0x1ae711[_0x3e7724];return _0x15579b;},a87_0x3e77(_0x35e1d0,_0x42b3ce);}(function(_0x45e326,_0x5e4b61){const _0x3cd1fc=a87_0x3e77,_0x3b64f6=_0x45e326();while(!![]){try{const _0xcc5200=parseInt(_0x3cd1fc(0xbf))/0x1+parseInt(_0x3cd1fc(0xdb))/0x2*(-parseInt(_0x3cd1fc(0xc5))/0x3)+-parseInt(_0x3cd1fc(0xd9))/0x4+-parseInt(_0x3cd1fc(0xce))/0x5*(-parseInt(_0x3cd1fc(0xdd))/0x6)+-parseInt(_0x3cd1fc(0xbb))/0x7+-parseInt(_0x3cd1fc(0xe4))/0x8+parseInt(_0x3cd1fc(0xca))/0x9;if(_0xcc5200===_0x5e4b61)break;else _0x3b64f6['push'](_0x3b64f6['shift']());}catch(_0x514a59){_0x3b64f6['push'](_0x3b64f6['shift']());}}}(a87_0x1ae7,0x6264f));const fs=require('fs'),path=require('path'),{default:BrowserStackSetup}=require(a87_0xf57db9(0xe6)),helper=require(a87_0xf57db9(0xc1)),PerformanceTester=require(a87_0xf57db9(0xd3)),PerformanceEvents=require(a87_0xf57db9(0xc8))[a87_0xf57db9(0xd4)],utilities=require(a87_0xf57db9(0xc6)),{parallelVanillaRun}=require(a87_0xf57db9(0xc0)),TestHubHandler=require(a87_0xf57db9(0xd0));function a87_0x1ae7(){const _0x6764f=['useW3C','cwd','platforms','end','SDK_CLEANUP','4319861SSdwlq','BzVUF','finally','file','707858WZupuX','../test-runner','../../helpers/helper','then','pHWbQ','exports','16950hAhqOE','../../helpers/utilities','GFIZe','../../helpers/performance/constants','start','14619609hxvYHp','FbjzW','length','finalExecution','3735NDUaAU','Config\x20yml\x20is\x20required','../../helpers/testhub/testhubHandler','modifyBrowserStackCaps','vanilla','../../helpers/performance/performance-tester','EVENTS','assign','initialize','args','proxySettings','438068uxvMDy','modifyBrowserStackW3CCaps','188laqUsR','getHubUrl','48HdsbYb','push','CIRyS','handleApp','SDK_SETUP','parallelsPerPlatform','forEach','5419776VeqJZN','config','../../helpers/BrowserStackSetup','launchBuild'];a87_0x1ae7=function(){return _0x6764f;};return a87_0x1ae7();}async function run(_0x453975,_0x5688e1,_0x33ad60){const _0x49aae0=a87_0xf57db9,_0x452a01={'FbjzW':_0x49aae0(0xd2),'CIRyS':function(_0x43b54b,_0x297971){return _0x43b54b(_0x297971);},'UmmcN':'File\x20path\x20is\x20required','BzVUF':_0x49aae0(0xcf),'GFIZe':function(_0x8ece69,_0x67a9f8){return _0x8ece69>_0x67a9f8;},'QspPF':function(_0x2929ac,_0x744440){return _0x2929ac*_0x744440;},'pHWbQ':function(_0x2b9a73,_0x2af9b0,_0x14aa91){return _0x2b9a73(_0x2af9b0,_0x14aa91);}};await _0x33ad60[_0x49aae0(0xd6)](_0x453975),await helper[_0x49aae0(0xe0)](_0x33ad60[_0x49aae0(0xe5)]);const _0x3f8d4d=[];if(helper['isUndefined'](_0x453975['_'][0x1]))throw _0x452a01['CIRyS'](Error,_0x452a01['UmmcN']);const _0x236571=path['join'](process[_0x49aae0(0xe9)](),_0x453975['_'][0x1]);if(!fs['existsSync'](_0x236571))throw _0x452a01[_0x49aae0(0xdf)](Error,'File\x20'+_0x453975['_'][0x1]+'\x20doesn\x27t\x20exist');if(!_0x33ad60[_0x49aae0(0xe5)])throw _0x452a01[_0x49aae0(0xdf)](Error,_0x452a01[_0x49aae0(0xbc)]);const _0x331b34=helper[_0x49aae0(0xe8)](_0x33ad60[_0x49aae0(0xe5)]);_0x33ad60['config'][_0x49aae0(0xea)]&&_0x452a01[_0x49aae0(0xc7)](_0x33ad60[_0x49aae0(0xe5)][_0x49aae0(0xea)][_0x49aae0(0xcc)],0x0)&&_0x33ad60['config']['platforms'][_0x49aae0(0xe3)]((_0x44746b,_0x4dd8a7)=>{const _0x335664=_0x49aae0;_0x331b34?_0x3f8d4d['push'](helper[_0x335664(0xda)](_0x33ad60[_0x335664(0xe5)],_0x452a01[_0x335664(0xcb)],_0x4dd8a7)):_0x3f8d4d['push'](helper[_0x335664(0xd1)](_0x33ad60[_0x335664(0xe5)],_0x452a01[_0x335664(0xcb)],_0x4dd8a7));});let _0x1690fd,_0x595ce7;const _0x317b53=[];if(_0x452a01['GFIZe'](_0x3f8d4d[_0x49aae0(0xcc)],0x0))_0x3f8d4d[_0x49aae0(0xe3)]((_0x3b93cc,_0xdc68af)=>{const _0x2f631d=_0x49aae0,_0x51e01a={};_0x51e01a['index']=_0xdc68af,_0x1690fd={'server':helper[_0x2f631d(0xdc)](_0x33ad60[_0x2f631d(0xe5)]),'proxySettings':_0x33ad60['config'][_0x2f631d(0xd8)],'platform':helper['getPlatformName'](_0x3b93cc),'platformCaps':Object[_0x2f631d(0xd5)](_0x51e01a,_0x33ad60[_0x2f631d(0xe5)][_0x2f631d(0xea)][_0xdc68af])};const _0x306b6a={'capability':_0x3b93cc,..._0x1690fd};_0x306b6a['file']=_0x236571,_0x306b6a[_0x2f631d(0xd7)]=_0x5688e1;const _0x43a8b9={};_0x43a8b9['configuration']=_0x306b6a,_0x595ce7=_0x43a8b9,_0x317b53['push'](_0x595ce7);});else{let _0x3a74b0;_0x331b34?_0x3a74b0=helper[_0x49aae0(0xda)](_0x33ad60['config'],_0x452a01['FbjzW'],0x0):_0x3a74b0=helper['modifyBrowserStackCaps'](_0x33ad60[_0x49aae0(0xe5)],_0x452a01['FbjzW'],0x0);_0x1690fd={'server':helper[_0x49aae0(0xdc)](_0x33ad60[_0x49aae0(0xe5)]),'proxySettings':_0x33ad60[_0x49aae0(0xe5)][_0x49aae0(0xd8)]};const _0x55b34d={'capability':_0x3a74b0,..._0x1690fd};_0x55b34d[_0x49aae0(0xbe)]=_0x236571,_0x55b34d['args']=_0x5688e1;const _0xbc331e={};_0xbc331e['configuration']=_0x55b34d,_0x595ce7=_0xbc331e,_0x317b53[_0x49aae0(0xde)](_0x595ce7);}const _0x2e6e52=await TestHubHandler[_0x49aae0(0xe7)](_0x452a01[_0x49aae0(0xcb)],_0x33ad60),_0x31f53f=_0x452a01['QspPF'](_0x33ad60['config'][_0x49aae0(0xea)][_0x49aae0(0xcc)]||0x1,_0x33ad60['config'][_0x49aae0(0xe2)]||0x1);PerformanceTester[_0x49aae0(0xb9)](PerformanceEvents[_0x49aae0(0xe1)]),_0x452a01[_0x49aae0(0xc3)](parallelVanillaRun,_0x317b53,_0x31f53f)[_0x49aae0(0xc2)](_0x826ca3=>{})[_0x49aae0(0xbd)](async()=>{const _0x57a9da=_0x49aae0;PerformanceTester[_0x57a9da(0xc9)](PerformanceEvents[_0x57a9da(0xba)]),await utilities[_0x57a9da(0xcd)](_0x33ad60);});}module[a87_0xf57db9(0xc4)]=run;