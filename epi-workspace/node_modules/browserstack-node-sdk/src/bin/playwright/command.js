#!/usr/bin/env node
'use strict';const a40_0x15befa=a40_0x2ada;(function(_0xa7a5e4,_0x1671c2){const _0x313d9e=a40_0x2ada,_0x3e6860=_0xa7a5e4();while(!![]){try{const _0x3ea1da=-parseInt(_0x313d9e(0x158))/0x1+parseInt(_0x313d9e(0x14d))/0x2*(parseInt(_0x313d9e(0x1c1))/0x3)+parseInt(_0x313d9e(0x1d0))/0x4*(parseInt(_0x313d9e(0x166))/0x5)+parseInt(_0x313d9e(0x164))/0x6*(-parseInt(_0x313d9e(0x1a3))/0x7)+-parseInt(_0x313d9e(0x14b))/0x8+parseInt(_0x313d9e(0x169))/0x9*(parseInt(_0x313d9e(0x186))/0xa)+-parseInt(_0x313d9e(0x1f0))/0xb*(-parseInt(_0x313d9e(0x175))/0xc);if(_0x3ea1da===_0x1671c2)break;else _0x3e6860['push'](_0x3e6860['shift']());}catch(_0x18ed24){_0x3e6860['push'](_0x3e6860['shift']());}}}(a40_0x4c76,0xad6ee));function a40_0x4c76(){const _0x56fcc1=['readFileSync','trace_','apply','ZnzXh','SDK_PRE_INITIALIZE','requirePWModule','concat','cwd','BROWSERSTACK_AUTOMATION','OHfpk','cliConfig','slice','196520CzxdHU','isTrue','--grep','logLevel','config','resolve','tHqYw','./accessibility-helper','vWuCN','BBodX','--disable-test-observability','debug','xCfSt','--config','kQHka','launchBuild','ChLnc','dirname','PACKAGE_TYPE','../../helpers/test-observability/constants','npx','serializeToYamlString','getNoProxy','.browserstack','../../helpers/utilities','BROWSERSTACK_SETUP_CONFIG_PATH','WTDAu','uvbul','rbNRS','49336AWxSjb','YdZBN','../v2/browserstackCLI','IXvmf','isFalse','getConfigPath','BROWSERSTACK_RERUN','parse','exitCode','VGVPq','tgALQ','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','info','join','initialize','playwright','yjLmo','accessibility','USER_CONFIG_DETAILS_PATH','SDK_POST_INITIALIZE','trim','error','gybvW','stringify','testObservability','existsSync','--config=','XSuNw','vwnlb','tQaVo','3ltLALJ','../../helpers/performance/performance-tester','APETN','Error\x20in\x20closing\x20playwright','playwright-browserstack-sdk.config.cjs','yqBaN','close','getInstance','OPTMn','Playwright\x20process\x20exited\x20with\x20code\x20','validateRerunTestList','assign','./reporter/test-details','../v2/cliUtils','exports','4BlrraF','Deleting\x20','filterBrowserstackArgs','Error\x20in\x20deleting\x20playwright\x20results','etOvD','Gmjnm','end','BROWSERSTACK_PW_CONFIG_DIR','filter','../../helpers/logger','BjtdY','env','util','has','../../helpers/helper','No\x20Proxy\x20:\x20','win32','readdirSync','MODULE','vZccq','sauqK','JZxfN','noGtN','fnHBF','indexOf','browserstackSetupConfig.json','ZVOzg','BROWSERSTACK_RERUN_TESTS','accessibilityOptions','nestedKeyValue','--disable-browserstack-automation','stop','7094153MhxFqM','browserstackAutomation','findIndex','FYHHc','ixVQf','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22','false','BrowserStack\x20config\x20file\x20not\x20found.','XREyw','inherit','VcHuK','Updated\x20config\x20file\x20name\x20to\x20-\x20','playwright-browserstack-sdk.config.js','2735568TNqHVH','push','1656374VuuDkG','unlinkSync','EdoIR','start','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','setFrameworkDetail','bootstrap','lsyac','length','../../helpers/test-observability/utils','finalExecution','966518qYLaMD','homedir','measureWrapper','../../helpers/testhub/testhubHandler','isUndefined','alcEZ','getPackageType','Ijhrs','getConfig','split','PLAYWRIGHT','writeFileSync','1014WaOGcX','SDK_CLEANUP','4968325liRpOp','Error\x20in\x20getting\x20funnel\x20data\x20results','../../helpers/performance/constants','45WSIHAX','testContextOptions','isRunning','BROWSERSTACK_TEST_OBSERVABILITY','startsWith','KsuMf','child_process','mBwZJ','../../helpers/accessibility-automation/helper','path','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','hrMki','24xIlkEO','BROWSERSTACK_TEST_ACCESSIBILITY_YML','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','FFfic','forEach'];a40_0x4c76=function(){return _0x56fcc1;};return a40_0x4c76();}function a40_0x2ada(_0x3f6ea1,_0xa96e15){const _0x4c76a4=a40_0x4c76();return a40_0x2ada=function(_0x2adac2,_0x1872a9){_0x2adac2=_0x2adac2-0x148;let _0x483b76=_0x4c76a4[_0x2adac2];return _0x483b76;},a40_0x2ada(_0x3f6ea1,_0xa96e15);}const fs=require('fs'),path=require(a40_0x15befa(0x172)),{spawn}=require(a40_0x15befa(0x16f)),{format}=require(a40_0x15befa(0x1dc)),logger=require(a40_0x15befa(0x1d9))['winstonLogger'],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a40_0x15befa(0x1de)),utilities=require(a40_0x15befa(0x19e)),constants=require('../utils/constants'),{FRAMEWORKS}=require(a40_0x15befa(0x199)),{getConfigLoaderPath}=require('./reporter/pwUtils'),{checkAccessibilityPlatformConfig}=require(a40_0x15befa(0x171)),{setAccessibilityCapabilities}=require(a40_0x15befa(0x18d)),{printBuildLink}=require(a40_0x15befa(0x156)),TestDetails=require(a40_0x15befa(0x1cd)),TestHubHandler=require(a40_0x15befa(0x15b)),PerformanceTester=require(a40_0x15befa(0x1c2)),BrowserstackCLI=require(a40_0x15befa(0x1a5)),PerformanceEvents=require(a40_0x15befa(0x168))['EVENTS'],CLIUtils=require(a40_0x15befa(0x1ce)),TestInfo=require('../v2/TestInfo'),getUserPlaywrightConfig=async(_0x5bd96e,_0x373459)=>{const _0x16161f=a40_0x15befa,_0x159c05={'hrMki':function(_0x49c451){return _0x49c451();},'etOvD':function(_0xba7802,_0x494a4b){return _0xba7802(_0x494a4b);},'LztSO':'resolvedConfigFile','fXEQZ':_0x16161f(0x1bd)},_0xfaa10b=!helper[_0x16161f(0x15c)](_0x5bd96e[_0x16161f(0x18a)]),_0xc3b838=_0xfaa10b?path[_0x16161f(0x18b)](process[_0x16161f(0x181)](),_0x5bd96e[_0x16161f(0x18a)]):process[_0x16161f(0x181)](),{resolveConfigFile:_0x4c5539,resolveConfigLocation:_0x5043cf}=helper[_0x16161f(0x17f)][_0x16161f(0x17c)](null,_0x159c05[_0x16161f(0x174)](getConfigLoaderPath)),_0x44c359=_0x4c5539?_0x159c05[_0x16161f(0x1d4)](_0x4c5539,_0xc3b838):helper[_0x16161f(0x1ed)](_0x159c05[_0x16161f(0x1d4)](_0x5043cf,_0xc3b838),[_0x159c05['LztSO']]),_0xca9819={};if(_0xfaa10b){const _0x419f29=_0x373459[_0x16161f(0x1f2)](_0x530b60=>_0x530b60===_0x16161f(0x193)||_0x530b60==='-c'||_0x530b60[_0x16161f(0x16d)]('--config='));_0x373459['splice'](_0x419f29,_0x373459[_0x419f29]['startsWith'](_0x159c05['fXEQZ'])?0x1:0x2);}const _0xe7c7e7={};return _0xe7c7e7[_0x16161f(0x172)]=_0x44c359,_0xe7c7e7[_0x16161f(0x18a)]=_0xca9819,_0xe7c7e7;},handleO11yRerun=_0x31bb8c=>{const _0x498ad3=a40_0x15befa,_0x1e3ba8={};_0x1e3ba8['IXvmf']=_0x498ad3(0x188);const _0x2f6130=_0x1e3ba8,_0x4833ef=helper[_0x498ad3(0x187)](process[_0x498ad3(0x1db)][_0x498ad3(0x1a9)]);if(_0x4833ef){const _0xb3263a=process[_0x498ad3(0x1db)][_0x498ad3(0x1eb)],_0x36c15c=[];if(helper[_0x498ad3(0x1cb)](_0xb3263a)&&!helper['isUndefined'](_0xb3263a)){_0xb3263a[_0x498ad3(0x161)](',')['map'](_0x532274=>{const _0xe96852=_0x498ad3;_0x36c15c[_0xe96852(0x14c)]('('+_0x532274[_0xe96852(0x1b7)]()+')');});const _0x2cffc2='^'+_0x36c15c[_0x498ad3(0x1b0)]('|')+'$';_0x31bb8c[_0x498ad3(0x14c)](_0x2f6130[_0x498ad3(0x1a6)],_0x2cffc2);}}},spawnOriginalProcess=_0x36f9e1=>{const _0x170d33=a40_0x15befa,_0x3ea605={'noGtN':function(_0x1c5331,_0xf0bd3,_0x1687b2,_0x31e57d){return _0x1c5331(_0xf0bd3,_0x1687b2,_0x31e57d);},'vwnlb':_0x170d33(0x19a),'tgALQ':_0x170d33(0x1b2),'RgNLV':function(_0x1adfc8,_0x329baa){return _0x1adfc8===_0x329baa;},'yjLmo':_0x170d33(0x1e0),'JZxfN':_0x170d33(0x1f9)};_0x3ea605[_0x170d33(0x1e6)](spawn,_0x3ea605[_0x170d33(0x1bf)],[_0x3ea605[_0x170d33(0x1ad)],..._0x36f9e1[_0x170d33(0x185)](0x1)],{'shell':_0x3ea605['RgNLV'](process['platform'],_0x3ea605[_0x170d33(0x1b3)]),'stdio':_0x3ea605[_0x170d33(0x1e5)],'cwd':process[_0x170d33(0x181)]()});},isTestCommand=(_0x4c3327,_0x253c1f)=>{const _0x35cf2a=a40_0x15befa,_0x363428={};_0x363428['XREyw']=function(_0x5b80a1,_0x22473a){return _0x5b80a1>_0x22473a;},_0x363428['agRcV']=function(_0x24ffe4,_0x45e299){return _0x24ffe4===_0x45e299;},_0x363428[_0x35cf2a(0x1f3)]='test';const _0x9fcebb=_0x363428;if(_0x9fcebb[_0x35cf2a(0x1f8)](_0x253c1f[_0x35cf2a(0x155)],0x1)&&_0x9fcebb['agRcV'](_0x253c1f[0x1],_0x9fcebb[_0x35cf2a(0x1f3)]))return!![];return![];};async function run(_0x1296f5,_0x1017e9,_0x4edf9e){const _0x6feba6=a40_0x15befa,_0x4e97b2={'ZVOzg':function(_0x2fd98d,_0x5c26ea){return _0x2fd98d(_0x5c26ea);},'VcHuK':_0x6feba6(0x19d),'OHfpk':'pw_result.json','vWuCN':function(_0x2708af,_0x2c38af){return _0x2708af+_0x2c38af;},'WTDAu':_0x6feba6(0x167),'mBwZJ':function(_0x5c25fc){return _0x5c25fc();},'VGVPq':function(_0x4b10ed,_0x4a346f){return _0x4b10ed+_0x4a346f;},'sauqK':_0x6feba6(0x1c4),'OPTMn':_0x6feba6(0x1f7),'alcEZ':function(_0x32e705,_0x186ce7){return _0x32e705===_0x186ce7;},'EdoIR':_0x6feba6(0x1f6),'xKmpT':_0x6feba6(0x190),'vZccq':function(_0x19053c,_0x1466b0){return _0x19053c>=_0x1466b0;},'kQHka':'automation','hqDnl':function(_0x12c10b,_0x3b6f15){return _0x12c10b!=_0x3b6f15;},'jUDPB':function(_0x410863,_0x4fd393,_0xcd7794){return _0x410863(_0x4fd393,_0xcd7794);},'xCfSt':function(_0x28f31c,_0xbeafa3){return _0x28f31c(_0xbeafa3);},'ChLnc':function(_0x4aa554,_0x35dd98){return _0x4aa554===_0x35dd98;},'FFfic':'true','kngBX':function(_0x1c3c78,_0x160ff2){return _0x1c3c78(_0x160ff2);},'LjgGM':_0x6feba6(0x1e9),'YdZBN':_0x6feba6(0x1c5),'uvbul':_0x6feba6(0x14a),'CaiZk':function(_0x3512a6,_0x2d4947){return _0x3512a6-_0x2d4947;},'ixVQf':_0x6feba6(0x149),'KsuMf':function(_0x1e8095,_0x188a18){return _0x1e8095>_0x188a18;},'WjXuh':function(_0x24a288,_0x4e1ac5,_0x52786d,_0x1a45a1){return _0x24a288(_0x4e1ac5,_0x52786d,_0x1a45a1);},'tQaVo':_0x6feba6(0x19a),'yqBaN':_0x6feba6(0x1b2),'lsyac':'test','ZnzXh':_0x6feba6(0x193),'gybvW':_0x6feba6(0x1e0),'Ijhrs':_0x6feba6(0x1f9),'BjtdY':_0x6feba6(0x1c7),'APETN':_0x6feba6(0x1d3),'LKpQA':function(_0x40818c,_0x19cd2e,_0x46ab0b){return _0x40818c(_0x19cd2e,_0x46ab0b);},'Gmjnm':function(_0x315135,_0x3d521a){return _0x315135(_0x3d521a);}};try{const _0xf799e9=path[_0x6feba6(0x1b0)](helper[_0x6feba6(0x159)](),_0x4e97b2[_0x6feba6(0x148)],_0x4e97b2[_0x6feba6(0x183)]);fs[_0x6feba6(0x1bc)](_0xf799e9)&&fs[_0x6feba6(0x14e)](_0xf799e9);}catch(_0x2b04ec){logger[_0x6feba6(0x191)](_0x4e97b2['vWuCN'](_0x4e97b2[_0x6feba6(0x1c3)],_0x2b04ec));}if(!_0x4e97b2['LKpQA'](isTestCommand,_0x1296f5,_0x1017e9)){_0x4e97b2[_0x6feba6(0x1d5)](spawnOriginalProcess,_0x1017e9);return;}await PerformanceTester[_0x6feba6(0x15a)](PerformanceEvents[_0x6feba6(0x17e)],async()=>{const _0x4d66c8=_0x6feba6,_0x54a45a={'rbNRS':_0x4e97b2['VcHuK'],'tHqYw':_0x4e97b2[_0x4d66c8(0x183)],'fVBWl':function(_0x668b3d,_0x252fef){const _0x403862=_0x4d66c8;return _0x4e97b2[_0x403862(0x18e)](_0x668b3d,_0x252fef);},'MjomJ':_0x4e97b2[_0x4d66c8(0x1a0)],'fnHBF':function(_0x3fcf3c){const _0x28a0d3=_0x4d66c8;return _0x4e97b2[_0x28a0d3(0x170)](_0x3fcf3c);},'BBodX':function(_0x2a8a4b,_0x427f55){const _0x2d8719=_0x4d66c8;return _0x4e97b2[_0x2d8719(0x1ac)](_0x2a8a4b,_0x427f55);},'XSuNw':_0x4e97b2[_0x4d66c8(0x1e4)]};if(!_0x4edf9e[_0x4d66c8(0x18a)]){logger[_0x4d66c8(0x1b8)](_0x4e97b2[_0x4d66c8(0x1c9)]);return;}await _0x4edf9e[_0x4d66c8(0x1b1)](_0x1296f5),CLIUtils[_0x4d66c8(0x152)](FRAMEWORKS[_0x4d66c8(0x162)],FRAMEWORKS['PLAYWRIGHT']),BrowserstackCLI[_0x4d66c8(0x1c8)]()['setBrowserstackConfig'](_0x4edf9e[_0x4d66c8(0x18a)],_0x4edf9e['cliConfig']),await BrowserstackCLI[_0x4d66c8(0x1c8)]()[_0x4d66c8(0x153)]();const _0x321bf1=BrowserstackCLI['getInstance']()[_0x4d66c8(0x160)]();!helper['isFalse'](_0x321bf1[_0x4d66c8(0x1f1)])&&(process[_0x4d66c8(0x1db)][_0x4d66c8(0x182)]=!![]);_0x4e97b2['alcEZ'](_0x321bf1['browserstackAutomation'],![])&&(process[_0x4d66c8(0x1db)]['BROWSERSTACK_AUTOMATION']=_0x4e97b2['EdoIR'],_0x1017e9=_0x1017e9[_0x4d66c8(0x1d8)](_0x13bc1a=>_0x13bc1a!==_0x4d66c8(0x1ee)));const _0x4113e3=_0x1017e9[_0x4d66c8(0x1e8)](_0x4e97b2['xKmpT']);(_0x4e97b2[_0x4d66c8(0x1e3)](_0x4113e3,0x0)||_0x4e97b2[_0x4d66c8(0x15d)](_0x321bf1[_0x4d66c8(0x1bb)],![]))&&(process[_0x4d66c8(0x1db)]['BROWSERSTACK_TEST_OBSERVABILITY']=_0x4e97b2[_0x4d66c8(0x14f)],_0x1017e9=_0x1017e9[_0x4d66c8(0x1d8)](_0x2f150e=>_0x2f150e!=='--disable-test-observability'));!helper[_0x4d66c8(0x15c)](_0x4edf9e[_0x4d66c8(0x184)])&&_0x4edf9e[_0x4d66c8(0x184)][_0x4d66c8(0x1dd)](_0x4e97b2[_0x4d66c8(0x194)])&&(process[_0x4d66c8(0x1db)][_0x4d66c8(0x182)]=_0x4edf9e[_0x4d66c8(0x184)]['get'](_0x4e97b2[_0x4d66c8(0x194)])||!![]);_0x4e97b2['hqDnl'](_0x4edf9e['config'][_0x4d66c8(0x1bb)],null)&&!helper[_0x4d66c8(0x187)](process[_0x4d66c8(0x1db)][_0x4d66c8(0x16c)])&&(process['env']['BROWSERSTACK_TEST_OBSERVABILITY']=process[_0x4d66c8(0x1db)][_0x4d66c8(0x16c)]||_0x4edf9e[_0x4d66c8(0x18a)][_0x4d66c8(0x1bb)]);const _0xeb2b34=!helper[_0x4d66c8(0x1a7)](process[_0x4d66c8(0x1db)][_0x4d66c8(0x16c)]);_0x4edf9e[_0x4d66c8(0x18a)]['accessibilityOptions']&&(process[_0x4d66c8(0x1db)][_0x4d66c8(0x173)]=JSON[_0x4d66c8(0x1ba)](_0x4edf9e[_0x4d66c8(0x18a)][_0x4d66c8(0x1ec)]));let _0x3fba05=![];_0x4edf9e[_0x4d66c8(0x18a)][_0x4d66c8(0x1b4)]&&(_0x3fba05=!![],process[_0x4d66c8(0x1db)][_0x4d66c8(0x176)]=_0x4edf9e['config']['accessibility']);const _0x958aa4=_0x1017e9[_0x4d66c8(0x180)](),_0x279261=await _0x4e97b2['jUDPB'](getUserPlaywrightConfig,_0x1296f5,_0x1017e9);if(helper[_0x4d66c8(0x15c)](_0x279261)){_0x4e97b2[_0x4d66c8(0x192)](spawnOriginalProcess,_0x958aa4);return;}const _0x608f0f=_0x279261[_0x4d66c8(0x172)]?path['dirname'](_0x279261[_0x4d66c8(0x172)]):process['cwd']();process[_0x4d66c8(0x1db)][_0x4d66c8(0x1d7)]=_0x608f0f,await PerformanceTester[_0x4d66c8(0x15a)](PerformanceEvents[_0x4d66c8(0x1b6)],async()=>{const _0x1c96ff=_0x4d66c8;!BrowserstackCLI[_0x1c96ff(0x1c8)]()[_0x1c96ff(0x16b)]()&&await TestHubHandler[_0x1c96ff(0x195)](FRAMEWORKS['PLAYWRIGHT'],_0x4edf9e),_0xeb2b34&&_0x4e97b2[_0x1c96ff(0x1ea)](handleO11yRerun,_0x1017e9);})();if(!BrowserstackCLI[_0x4d66c8(0x1c8)]()[_0x4d66c8(0x16b)]()){let _0x20d34c=_0x4e97b2[_0x4d66c8(0x196)](process['env']['BROWSERSTACK_TEST_ACCESSIBILITY_YML'],_0x4e97b2[_0x4d66c8(0x178)]);_0x20d34c=_0x20d34c||_0x4e97b2['ZVOzg'](checkAccessibilityPlatformConfig,_0x4edf9e[_0x4d66c8(0x18a)]),process['env'][_0x4d66c8(0x176)]=_0x20d34c,_0x20d34c&&_0x4e97b2['kngBX'](setAccessibilityCapabilities,_0x4edf9e[_0x4d66c8(0x18a)]);}const _0x44ff9a=path['join'](_0x279261[_0x4d66c8(0x172)]?path['dirname'](_0x279261[_0x4d66c8(0x172)]):process[_0x4d66c8(0x181)](),_0x4e97b2['LjgGM']);fs[_0x4d66c8(0x163)](_0x44ff9a,helper[_0x4d66c8(0x19b)](_0x4edf9e[_0x4d66c8(0x18a)])),process[_0x4d66c8(0x1db)][_0x4d66c8(0x19f)]=_0x44ff9a,helper['clearTempPWConfig']();let _0x4e40e2='';_0x4e97b2['alcEZ'](helper[_0x4d66c8(0x15e)](),constants[_0x4d66c8(0x198)][_0x4d66c8(0x1e2)])?_0x4e40e2=_0x4e97b2[_0x4d66c8(0x1a4)]:_0x4e40e2=_0x4e97b2[_0x4d66c8(0x1a1)];let _0x347787='';if(helper['isTypescriptProject'](_0x279261[_0x4d66c8(0x172)])){_0x347787=_0x4d66c8(0x1ae);const _0xbecd7f=_0x4e40e2['split']('.');_0xbecd7f[_0x4e97b2['CaiZk'](_0xbecd7f[_0x4d66c8(0x155)],0x1)]='ts',_0x4e40e2=_0xbecd7f['join']('.'),logger[_0x4d66c8(0x191)](_0x4e97b2[_0x4d66c8(0x1ac)](_0x4e97b2[_0x4d66c8(0x1f4)],_0x4e40e2));}else _0x347787=_0x4d66c8(0x177);const _0x450d14=path[_0x4d66c8(0x1b0)](_0x279261[_0x4d66c8(0x172)]?path[_0x4d66c8(0x197)](_0x279261[_0x4d66c8(0x172)]):process[_0x4d66c8(0x181)](),_0x4e40e2);let _0xed79a3=_0x279261[_0x4d66c8(0x172)]?_0x279261[_0x4d66c8(0x172)]:'';_0xed79a3=_0x4e97b2[_0x4d66c8(0x16e)](_0xed79a3['length'],0x0)?path[_0x4d66c8(0x18b)](_0xed79a3):'',process[_0x4d66c8(0x1db)][_0x4d66c8(0x1b5)]=_0xed79a3;const _0x265529=helper['getProxyUrl'](_0x4edf9e[_0x4d66c8(0x18a)]),_0x15eaf2=helper[_0x4d66c8(0x19c)](_0x4edf9e[_0x4d66c8(0x18a)]);logger['debug']('Proxy\x20url\x20:\x20'+_0x265529),logger[_0x4d66c8(0x191)](_0x4d66c8(0x1df)+_0x15eaf2);_0x265529&&(_0x347787=_0x4e97b2[_0x4d66c8(0x1ac)]('process.env.GLOBAL_AGENT_HTTP_PROXY=\x22'+_0x265529+_0x4d66c8(0x1f5)+_0x15eaf2+_0x4d66c8(0x151),_0x347787));helper[_0x4d66c8(0x1d2)]({},_0x1017e9),fs['writeFileSync'](_0x450d14,_0x347787),PerformanceTester[_0x4d66c8(0x1d6)](PerformanceEvents['SDK_SETUP']);const _0x61eec5=_0x4e97b2['WjXuh'](spawn,_0x4e97b2[_0x4d66c8(0x1c0)],[_0x4e97b2[_0x4d66c8(0x1c6)],_0x4e97b2[_0x4d66c8(0x154)],_0x4e97b2[_0x4d66c8(0x17d)],_0x450d14,..._0x1017e9[_0x4d66c8(0x185)](0x2)],{'shell':_0x4e97b2[_0x4d66c8(0x196)](process['platform'],_0x4e97b2[_0x4d66c8(0x1b9)]),'stdio':_0x4e97b2[_0x4d66c8(0x15f)],'cwd':process[_0x4d66c8(0x181)](),'env':Object[_0x4d66c8(0x1cc)]({},process[_0x4d66c8(0x1db)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper[_0x4d66c8(0x1a8)](_0x1296f5),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x4edf9e[_0x4d66c8(0x18a)][_0x4d66c8(0x16a)]['skipSessionStatus'],'BROWSERSTACK_SKIP_SESSION_NAME':_0x4edf9e[_0x4d66c8(0x18a)]['testContextOptions']['skipSessionName'],'BROWSERSTACK_LOG_LEVEL':_0x4edf9e[_0x4d66c8(0x18a)][_0x4d66c8(0x189)]})}),_0xd1c1fa=()=>{const _0x1d208f=_0x4d66c8;try{const _0x243fc5=path['join'](helper[_0x1d208f(0x159)](),_0x54a45a[_0x1d208f(0x1a2)],_0x54a45a[_0x1d208f(0x18c)]);if(fs[_0x1d208f(0x1bc)](_0x243fc5)){let _0x34b1b6=fs[_0x1d208f(0x17a)](_0x243fc5);_0x34b1b6=JSON[_0x1d208f(0x1aa)](_0x34b1b6),_0x4edf9e['errorMessage']=_0x34b1b6,fs[_0x1d208f(0x14e)](_0x243fc5);}}catch(_0x239f57){logger[_0x1d208f(0x191)](_0x54a45a['fVBWl'](_0x54a45a['MjomJ'],_0x239f57));}};_0x61eec5['on'](_0x4e97b2[_0x4d66c8(0x1da)],async _0x3e2fba=>{const _0x42dc7a=_0x4d66c8;try{PerformanceTester[_0x42dc7a(0x150)](PerformanceEvents[_0x42dc7a(0x165)]),_0x54a45a[_0x42dc7a(0x1e7)](_0xd1c1fa),await TestHubHandler[_0x42dc7a(0x1ef)](),await BrowserstackCLI['getInstance']()[_0x42dc7a(0x1ef)](),TestDetails['shutdown'](),_0x54a45a['fnHBF'](printBuildLink),await utilities[_0x42dc7a(0x157)](_0x4edf9e),process[_0x42dc7a(0x1ab)]=_0x3e2fba,logger[_0x42dc7a(0x191)](_0x42dc7a(0x1ca)+_0x3e2fba),logger[_0x42dc7a(0x1af)](_0x42dc7a(0x1d1)+_0x450d14),fs[_0x42dc7a(0x14e)](_0x450d14);fs['existsSync'](_0x44ff9a)&&(logger[_0x42dc7a(0x191)](_0x42dc7a(0x1d1)+_0x44ff9a),fs['unlinkSync'](_0x44ff9a));const _0x35e825=fs[_0x42dc7a(0x1e1)](path[_0x42dc7a(0x1b0)](helper[_0x42dc7a(0x159)](),_0x54a45a[_0x42dc7a(0x1a2)]))[_0x42dc7a(0x1d8)](_0xe81b31=>_0xe81b31[_0x42dc7a(0x16d)](_0x42dc7a(0x17b)));_0x35e825[_0x42dc7a(0x179)](_0xbf3491=>{const _0x563c4c=_0x42dc7a;fs[_0x563c4c(0x14e)](path['join'](helper['homedir'](),_0x54a45a['rbNRS'],_0xbf3491));});}catch(_0x22341d){logger[_0x42dc7a(0x191)](_0x54a45a[_0x42dc7a(0x18f)](_0x54a45a[_0x42dc7a(0x1be)],_0x22341d));}});})();}module[a40_0x15befa(0x1cf)]=run;