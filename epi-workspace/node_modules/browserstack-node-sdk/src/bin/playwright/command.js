#!/usr/bin/env node
'use strict';function a39_0x228b(_0x3b70d3,_0x309a5e){const _0x4ba63d=a39_0x4ba6();return a39_0x228b=function(_0x228b56,_0x506332){_0x228b56=_0x228b56-0x124;let _0x2e763e=_0x4ba63d[_0x228b56];return _0x2e763e;},a39_0x228b(_0x3b70d3,_0x309a5e);}function a39_0x4ba6(){const _0x2861f6=['jAvla','playwright-browserstack-sdk.config.cjs','SQbWj','writeFileSync','SDK_PRE_INITIALIZE','browserstackAutomation','close','test','aJTeO','SDK_POST_INITIALIZE','playwright','BrowserStack\x20config\x20file\x20not\x20found.','Playwright\x20process\x20exited\x20with\x20code\x20','CybWV','getPackageType','4NMOEiy','env','BROWSERSTACK_TEST_OBSERVABILITY','isFalse','debug','22190XlcVED','gGZhE','dirname','BROWSERSTACK_RERUN_TESTS','isRunning','config','launchBuild','./reporter/pwUtils','fOrNG','GoRFP','KVgSG','RLABn','EluaV','../utils/constants','USER_CONFIG_DETAILS_PATH','ugPfp','AdvID','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22','cliConfig','./reporter/test-details','IvRhF','start','bOpaX','Error\x20in\x20accessing\x20.browserstack\x20directory:\x20','1322EaWvuI','length','bootstrap','automation','shutdown','getInstance','PLAYWRIGHT','get','BROWSERSTACK_PW_CONFIG_DIR','wbPZt','cYehR','getNoProxy','XjaJh','serializeToYamlString','--disable-test-observability','../../helpers/logger','util','child_process','unlinkSync','winstonLogger','Updated\x20config\x20file\x20name\x20to\x20-\x20','startsWith','getProxyUrl','exports','--config','MIZyS','existsSync','measureWrapper','ROVJu','LMmxd','exitCode','SDK_SETUP','uYlgk','lgtao','3761510Teqpsp','forEach','browserstackSetupConfig.json','push','vMSDG','isTypescriptProject','configPath','accessSync','cwd','TiuRR','map','resolve','isTrue','KMLbq','concat','assign','platform','win32','EVENTS','1332jWBodD','rZHeW','../../helpers/test-observability/constants','clearTempPWConfig','split','EzGIG','../v2/browserstackCLI','iROZj','../../helpers/testhub/testhubHandler','BROWSERSTACK_TEST_ACCESSIBILITY_YML','WDzPg','splice','trim','join','reportFinalDetectionState','2886aJKeeR','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','dOtrk','../utils/clientTroubleshootingService','indexOf','R_OK','setFrameworkDetail','5761000MfvmiF','bNidx','Twgig','skipSessionName','filter','accessibility','end','skipSessionStatus','xNKyu','errorMessage','QlInW','initialize','false','12088epdLIo','trace_','accessibilityOptions','oGfDV','1242QmTTaK','--config=','../../helpers/utilities','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','sdAOy','testContextOptions','stop','Error\x20in\x20closing\x20playwright','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','slice','testObservability','MODULE','BROWSERSTACK_AUTOMATION','jZcbP','198414MMZJhp','parse','inherit','Tfmgl','BROWSERSTACK_RERUN','./accessibility-helper','requirePWModule','getConfig','SDK_CLEANUP','homedir','frrrG','dHkEo','No\x20Proxy\x20:\x20','path','vGKtn','../v2/TestInfo','reportConflictingEnvVarIssue','../v2/cliUtils','../../helpers/performance/constants','constants','has','Proxy\x20url\x20:\x20','apply','fnwWg','info','ilxnH','Error\x20in\x20getting\x20funnel\x20data\x20results','--disable-browserstack-automation','8385498ePGpcl','TbeBx','isUndefined','resolvedConfigFile','../../helpers/helper','yWSdL','error','Error\x20in\x20deleting\x20playwright\x20results'];a39_0x4ba6=function(){return _0x2861f6;};return a39_0x4ba6();}const a39_0xaf0e2d=a39_0x228b;(function(_0x61a90b,_0x25ce01){const _0x910c1f=a39_0x228b,_0x41b9ec=_0x61a90b();while(!![]){try{const _0x83435d=parseInt(_0x910c1f(0x195))/0x1+-parseInt(_0x910c1f(0x12b))/0x2*(-parseInt(_0x910c1f(0x16f))/0x3)+-parseInt(_0x910c1f(0x1c8))/0x4*(parseInt(_0x910c1f(0x14d))/0x5)+-parseInt(_0x910c1f(0x160))/0x6*(-parseInt(_0x910c1f(0x1cd))/0x7)+-parseInt(_0x910c1f(0x183))/0x8*(parseInt(_0x910c1f(0x187))/0x9)+parseInt(_0x910c1f(0x176))/0xa+-parseInt(_0x910c1f(0x1b1))/0xb;if(_0x83435d===_0x25ce01)break;else _0x41b9ec['push'](_0x41b9ec['shift']());}catch(_0x1d46ea){_0x41b9ec['push'](_0x41b9ec['shift']());}}}(a39_0x4ba6,0x5f756));const fs=require('fs'),path=require(a39_0xaf0e2d(0x1a2)),{spawn}=require(a39_0xaf0e2d(0x13c)),{format}=require(a39_0xaf0e2d(0x13b)),logger=require(a39_0xaf0e2d(0x13a))[a39_0xaf0e2d(0x13e)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a39_0xaf0e2d(0x1b5)),utilities=require(a39_0xaf0e2d(0x189)),constants=require(a39_0xaf0e2d(0x1da)),{FRAMEWORKS}=require(a39_0xaf0e2d(0x162)),{getConfigLoaderPath}=require(a39_0xaf0e2d(0x1d4)),{checkAccessibilityPlatformConfig}=require('../../helpers/accessibility-automation/helper'),{setAccessibilityCapabilities}=require(a39_0xaf0e2d(0x19a)),{printBuildLink}=require('../../helpers/test-observability/utils'),TestDetails=require(a39_0xaf0e2d(0x126)),TestHubHandler=require(a39_0xaf0e2d(0x168)),PerformanceTester=require('../../helpers/performance/performance-tester'),BrowserstackCLI=require(a39_0xaf0e2d(0x166)),PerformanceEvents=require(a39_0xaf0e2d(0x1a7))[a39_0xaf0e2d(0x15f)],CLIUtils=require(a39_0xaf0e2d(0x1a6)),TestInfo=require(a39_0xaf0e2d(0x1a4)),ClientTroubleShootingService=require(a39_0xaf0e2d(0x172)),getUserPlaywrightConfig=async(_0xec85c1,_0x41e526)=>{const _0xeb94ad=a39_0xaf0e2d,_0x15977d={'Tfmgl':function(_0x351e9a){return _0x351e9a();},'uYlgk':function(_0xdfb619,_0x81d7a0){return _0xdfb619(_0x81d7a0);},'frrrG':_0xeb94ad(0x1b4),'vGKtn':'--config='},_0x12334a=!helper[_0xeb94ad(0x1b3)](_0xec85c1[_0xeb94ad(0x1d2)]),_0x327ed8=_0x12334a?path[_0xeb94ad(0x158)](process[_0xeb94ad(0x155)](),_0xec85c1[_0xeb94ad(0x1d2)]):process[_0xeb94ad(0x155)](),{resolveConfigFile:_0x112ed1,resolveConfigLocation:_0xf835ad}=helper[_0xeb94ad(0x19b)][_0xeb94ad(0x1ab)](null,_0x15977d[_0xeb94ad(0x198)](getConfigLoaderPath)),_0x22da5a=_0x112ed1?_0x15977d['uYlgk'](_0x112ed1,_0x327ed8):helper['nestedKeyValue'](_0x15977d[_0xeb94ad(0x14b)](_0xf835ad,_0x327ed8),[_0x15977d[_0xeb94ad(0x19f)]]),_0x3e93d9={};if(_0x12334a){const _0x390b7b=_0x41e526['findIndex'](_0x43dbd5=>_0x43dbd5===_0xeb94ad(0x143)||_0x43dbd5==='-c'||_0x43dbd5[_0xeb94ad(0x140)](_0xeb94ad(0x188)));_0x41e526[_0xeb94ad(0x16b)](_0x390b7b,_0x41e526[_0x390b7b][_0xeb94ad(0x140)](_0x15977d[_0xeb94ad(0x1a3)])?0x1:0x2);}const _0x266645={};return _0x266645[_0xeb94ad(0x1a2)]=_0x22da5a,_0x266645[_0xeb94ad(0x1d2)]=_0x3e93d9,_0x266645;},handleO11yRerun=_0x12f9bc=>{const _0x1546e3=a39_0xaf0e2d,_0x132eb6={};_0x132eb6[_0x1546e3(0x177)]='--grep';const _0x10dd80=_0x132eb6,_0x5ab7c0=helper['isTrue'](process[_0x1546e3(0x1c9)][_0x1546e3(0x199)]);if(_0x5ab7c0){const _0x4038be=process['env'][_0x1546e3(0x1d0)],_0x2d77fc=[];if(helper['validateRerunTestList'](_0x4038be)&&!helper[_0x1546e3(0x1b3)](_0x4038be)){_0x4038be[_0x1546e3(0x164)](',')[_0x1546e3(0x157)](_0x45bf04=>{const _0x11e778=_0x1546e3;_0x2d77fc['push']('('+_0x45bf04[_0x11e778(0x16c)]()+')');});const _0x553491='^'+_0x2d77fc[_0x1546e3(0x16d)]('|')+'$';_0x12f9bc[_0x1546e3(0x150)](_0x10dd80[_0x1546e3(0x177)],_0x553491);}}},spawnOriginalProcess=_0x5db43f=>{const _0x25881f=a39_0xaf0e2d,_0x2574a4={'XjaJh':function(_0x1fb354,_0x1da974,_0x5aadfb,_0x7d88b0){return _0x1fb354(_0x1da974,_0x5aadfb,_0x7d88b0);},'iROZj':'npx','sdAOy':_0x25881f(0x1c3),'cYehR':function(_0x2eda5f,_0x4e13bf){return _0x2eda5f===_0x4e13bf;},'EFVbQ':'win32','Bayxu':_0x25881f(0x197)};_0x2574a4[_0x25881f(0x137)](spawn,_0x2574a4[_0x25881f(0x167)],[_0x2574a4[_0x25881f(0x18b)],..._0x5db43f[_0x25881f(0x190)](0x1)],{'shell':_0x2574a4[_0x25881f(0x135)](process['platform'],_0x2574a4['EFVbQ']),'stdio':_0x2574a4['Bayxu'],'cwd':process[_0x25881f(0x155)]()});},isTestCommand=(_0x306e4e,_0x2f401e)=>{const _0x1ffbfc=a39_0xaf0e2d,_0x5c859d={};_0x5c859d['Twgig']=function(_0x26f703,_0x2e88b7){return _0x26f703>_0x2e88b7;},_0x5c859d['KMLbq']=function(_0x52be5b,_0x5061fd){return _0x52be5b===_0x5061fd;},_0x5c859d[_0x1ffbfc(0x144)]=_0x1ffbfc(0x1c0);const _0x1b93d1=_0x5c859d;if(_0x1b93d1[_0x1ffbfc(0x178)](_0x2f401e[_0x1ffbfc(0x12c)],0x1)&&_0x1b93d1[_0x1ffbfc(0x15a)](_0x2f401e[0x1],_0x1b93d1[_0x1ffbfc(0x144)]))return!![];return![];};async function run(_0x4070dc,_0x3e84fb,_0x20f596){const _0x10f877=a39_0xaf0e2d,_0xe0de38={'ilxnH':'.browserstack','WDzPg':'pw_result.json','tsWYR':function(_0x4039b4,_0x1c7570){return _0x4039b4+_0x1c7570;},'FVDAT':_0x10f877(0x1af),'FClpQ':function(_0x41e55e){return _0x41e55e();},'aJTeO':function(_0x29afd7){return _0x29afd7();},'IvRhF':function(_0x49146d,_0x288e79){return _0x49146d+_0x288e79;},'wbPZt':_0x10f877(0x18e),'GoRFP':function(_0x222b08,_0x37981d){return _0x222b08(_0x37981d);},'ugPfp':_0x10f877(0x1c4),'SQbWj':function(_0x1e28b9,_0x4d74ad){return _0x1e28b9<_0x4d74ad;},'EzGIG':function(_0x5a8e05,_0x3e6e35){return _0x5a8e05===_0x3e6e35;},'gGZhE':_0x10f877(0x182),'TbeBx':_0x10f877(0x139),'bCXhE':function(_0x3a23bd,_0x22ecc7){return _0x3a23bd>=_0x22ecc7;},'xNKyu':function(_0x2450b7,_0xd22c6f){return _0x2450b7===_0xd22c6f;},'LMmxd':_0x10f877(0x12e),'AdvID':function(_0x5c38be,_0x53564f){return _0x5c38be!=_0x53564f;},'qhpvm':function(_0x45b2a7,_0x52a99b,_0x1bef11){return _0x45b2a7(_0x52a99b,_0x1bef11);},'KMiQw':'true','CybWV':function(_0x45f3bc,_0x387e2e){return _0x45f3bc(_0x387e2e);},'dHkEo':_0x10f877(0x14f),'QlInW':_0x10f877(0x1ba),'RLABn':'playwright-browserstack-sdk.config.js','INYRO':function(_0x33fdee,_0x342bd2){return _0x33fdee-_0x342bd2;},'vMSDG':function(_0x79a374,_0x3e2fea){return _0x79a374+_0x3e2fea;},'YqzrD':_0x10f877(0x13f),'PTmVe':function(_0x25f6d6,_0x5aa892){return _0x25f6d6>_0x5aa892;},'bOpaX':function(_0x4fb038,_0x5ab139){return _0x4fb038+_0x5ab139;},'jxhsV':function(_0x2de27d,_0x5ea7ba,_0x1d8fa3,_0x4eeb6e){return _0x2de27d(_0x5ea7ba,_0x1d8fa3,_0x4eeb6e);},'fnwWg':'npx','lgtao':'playwright','fOrNG':_0x10f877(0x1c0),'tFLQM':'--config','hOZTP':function(_0x21c2e2,_0x5182aa){return _0x21c2e2===_0x5182aa;},'jZcbP':_0x10f877(0x15e),'oGfDV':_0x10f877(0x197),'EluaV':_0x10f877(0x1bf),'jAvla':function(_0x4e6f50,_0x9fdd9d){return _0x4e6f50|_0x9fdd9d;},'dOtrk':function(_0x456331,_0x31d016){return _0x456331+_0x31d016;},'TiuRR':_0x10f877(0x12a),'yWSdL':function(_0x292b78,_0x1df781){return _0x292b78+_0x1df781;},'SERKu':_0x10f877(0x1b8),'kixRv':function(_0x172f64,_0x13f8ea,_0x475a3d){return _0x172f64(_0x13f8ea,_0x475a3d);},'ROVJu':function(_0x120c09,_0x509375){return _0x120c09(_0x509375);}};try{const _0x12781c=path[_0x10f877(0x16d)](helper[_0x10f877(0x19e)](),_0xe0de38[_0x10f877(0x1ae)]);try{fs[_0x10f877(0x154)](_0x12781c,_0xe0de38[_0x10f877(0x1b9)](fs[_0x10f877(0x1a8)][_0x10f877(0x174)],fs[_0x10f877(0x1a8)]['W_OK']));}catch(_0x4bad7c){ClientTroubleShootingService['reportDotBrowserStackFolderNotAccessibleIssue']();}}catch(_0x368960){logger['debug'](_0xe0de38[_0x10f877(0x171)](_0xe0de38[_0x10f877(0x156)],_0x368960));}try{const _0xe5fb51=path[_0x10f877(0x16d)](helper['homedir'](),_0xe0de38[_0x10f877(0x1ae)],_0xe0de38[_0x10f877(0x16a)]);fs[_0x10f877(0x145)](_0xe5fb51)&&fs[_0x10f877(0x13d)](_0xe5fb51);}catch(_0x4975d6){logger['debug'](_0xe0de38[_0x10f877(0x1b6)](_0xe0de38['SERKu'],_0x4975d6));}if(!_0xe0de38['kixRv'](isTestCommand,_0x4070dc,_0x3e84fb)){_0xe0de38[_0x10f877(0x147)](spawnOriginalProcess,_0x3e84fb);return;}await PerformanceTester['measureWrapper'](PerformanceEvents[_0x10f877(0x1bd)],async()=>{const _0x42ecc5=_0x10f877,_0x3107ae={'KVgSG':function(_0x42d889,_0x26d584){const _0x3b3bab=a39_0x228b;return _0xe0de38[_0x3b3bab(0x1d6)](_0x42d889,_0x26d584);},'rZHeW':_0xe0de38[_0x42ecc5(0x1ae)]};if(!_0x20f596['config']){logger[_0x42ecc5(0x1b7)](_0xe0de38[_0x42ecc5(0x1dc)]);return;}await _0x20f596[_0x42ecc5(0x181)](_0x4070dc),CLIUtils[_0x42ecc5(0x175)](FRAMEWORKS[_0x42ecc5(0x131)],FRAMEWORKS[_0x42ecc5(0x131)]),BrowserstackCLI['getInstance']()['setBrowserstackConfig'](_0x20f596[_0x42ecc5(0x1d2)],_0x20f596[_0x42ecc5(0x153)],_0x20f596[_0x42ecc5(0x125)]),await BrowserstackCLI[_0x42ecc5(0x130)]()[_0x42ecc5(0x12d)]();for(var _0x19a403=0x0;_0xe0de38[_0x42ecc5(0x1bb)](_0x19a403,constants['INTERNALLY_USED_ENV_VARS'][_0x42ecc5(0x12c)]);_0x19a403++){var _0x46e998=constants['INTERNALLY_USED_ENV_VARS'][_0x19a403];process[_0x42ecc5(0x1c9)][_0x46e998]&&await ClientTroubleShootingService[_0x42ecc5(0x1a5)](_0x46e998);}const _0x28cad8=BrowserstackCLI['getInstance']()[_0x42ecc5(0x19c)]();!helper[_0x42ecc5(0x1cb)](_0x28cad8[_0x42ecc5(0x1be)])&&(process[_0x42ecc5(0x1c9)][_0x42ecc5(0x193)]=!![]);_0xe0de38['EzGIG'](_0x28cad8[_0x42ecc5(0x1be)],![])&&(process['env'][_0x42ecc5(0x193)]=_0xe0de38[_0x42ecc5(0x1ce)],_0x3e84fb=_0x3e84fb[_0x42ecc5(0x17a)](_0x230a9f=>_0x230a9f!==_0x42ecc5(0x1b0)));const _0x1f24fa=_0x3e84fb[_0x42ecc5(0x173)](_0xe0de38[_0x42ecc5(0x1b2)]);(_0xe0de38['bCXhE'](_0x1f24fa,0x0)||_0xe0de38[_0x42ecc5(0x17e)](_0x28cad8[_0x42ecc5(0x191)],![]))&&(process[_0x42ecc5(0x1c9)][_0x42ecc5(0x1ca)]=_0xe0de38[_0x42ecc5(0x1ce)],_0x3e84fb=_0x3e84fb['filter'](_0x25a082=>_0x25a082!=='--disable-test-observability'));!helper['isUndefined'](_0x20f596[_0x42ecc5(0x125)])&&_0x20f596[_0x42ecc5(0x125)][_0x42ecc5(0x1a9)](_0xe0de38[_0x42ecc5(0x148)])&&(process['env'][_0x42ecc5(0x193)]=_0x20f596[_0x42ecc5(0x125)][_0x42ecc5(0x132)](_0xe0de38[_0x42ecc5(0x148)])||!![]);_0xe0de38[_0x42ecc5(0x1dd)](_0x20f596[_0x42ecc5(0x1d2)][_0x42ecc5(0x191)],null)&&!helper[_0x42ecc5(0x159)](process['env']['BROWSERSTACK_TEST_OBSERVABILITY'])&&(process[_0x42ecc5(0x1c9)][_0x42ecc5(0x1ca)]=process[_0x42ecc5(0x1c9)]['BROWSERSTACK_TEST_OBSERVABILITY']||_0x20f596[_0x42ecc5(0x1d2)][_0x42ecc5(0x191)]);const _0x240901=!helper[_0x42ecc5(0x1cb)](process[_0x42ecc5(0x1c9)]['BROWSERSTACK_TEST_OBSERVABILITY']);_0x20f596[_0x42ecc5(0x1d2)][_0x42ecc5(0x185)]&&(process[_0x42ecc5(0x1c9)][_0x42ecc5(0x18a)]=JSON['stringify'](_0x20f596[_0x42ecc5(0x1d2)][_0x42ecc5(0x185)]));let _0x5913be=![];_0x20f596[_0x42ecc5(0x1d2)][_0x42ecc5(0x17b)]&&(_0x5913be=!![],process['env'][_0x42ecc5(0x169)]=_0x20f596[_0x42ecc5(0x1d2)][_0x42ecc5(0x17b)]);const _0x2f5dec=_0x3e84fb[_0x42ecc5(0x15b)](),_0x371fde=await _0xe0de38['qhpvm'](getUserPlaywrightConfig,_0x4070dc,_0x3e84fb);if(helper[_0x42ecc5(0x1b3)](_0x371fde)){_0xe0de38[_0x42ecc5(0x1d6)](spawnOriginalProcess,_0x2f5dec);return;}const _0x4cda4f=_0x371fde[_0x42ecc5(0x1a2)]?path[_0x42ecc5(0x1cf)](_0x371fde[_0x42ecc5(0x1a2)]):process['cwd']();process[_0x42ecc5(0x1c9)][_0x42ecc5(0x133)]=_0x4cda4f,await PerformanceTester[_0x42ecc5(0x146)](PerformanceEvents[_0x42ecc5(0x1c2)],async()=>{const _0x28e038=_0x42ecc5;!BrowserstackCLI[_0x28e038(0x130)]()[_0x28e038(0x1d1)]()&&await TestHubHandler[_0x28e038(0x1d3)](FRAMEWORKS['PLAYWRIGHT'],_0x20f596),_0x240901&&_0x3107ae[_0x28e038(0x1d7)](handleO11yRerun,_0x3e84fb);})();if(!BrowserstackCLI[_0x42ecc5(0x130)]()[_0x42ecc5(0x1d1)]()){let _0x5173b2=_0xe0de38[_0x42ecc5(0x165)](process[_0x42ecc5(0x1c9)][_0x42ecc5(0x169)],_0xe0de38['KMiQw']);_0x5173b2=_0x5173b2||_0xe0de38[_0x42ecc5(0x1c6)](checkAccessibilityPlatformConfig,_0x20f596[_0x42ecc5(0x1d2)]),process['env'][_0x42ecc5(0x169)]=_0x5173b2,_0x5173b2&&_0xe0de38[_0x42ecc5(0x1d6)](setAccessibilityCapabilities,_0x20f596[_0x42ecc5(0x1d2)]);}const _0x7f8fa1=path['join'](_0x371fde[_0x42ecc5(0x1a2)]?path[_0x42ecc5(0x1cf)](_0x371fde['path']):process[_0x42ecc5(0x155)](),_0xe0de38[_0x42ecc5(0x1a0)]);fs[_0x42ecc5(0x1bc)](_0x7f8fa1,helper[_0x42ecc5(0x138)](_0x20f596[_0x42ecc5(0x1d2)])),process[_0x42ecc5(0x1c9)]['BROWSERSTACK_SETUP_CONFIG_PATH']=_0x7f8fa1,helper[_0x42ecc5(0x163)]();let _0x3b1d6d='';_0xe0de38['xNKyu'](helper[_0x42ecc5(0x1c7)](),constants['PACKAGE_TYPE'][_0x42ecc5(0x192)])?_0x3b1d6d=_0xe0de38[_0x42ecc5(0x180)]:_0x3b1d6d=_0xe0de38[_0x42ecc5(0x1d8)];let _0x36f2a0='';if(helper[_0x42ecc5(0x152)](_0x371fde['path'])){_0x36f2a0='\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a';const _0x4c8de5=_0x3b1d6d[_0x42ecc5(0x164)]('.');_0x4c8de5[_0xe0de38['INYRO'](_0x4c8de5[_0x42ecc5(0x12c)],0x1)]='ts',_0x3b1d6d=_0x4c8de5['join']('.'),logger['debug'](_0xe0de38[_0x42ecc5(0x151)](_0xe0de38['YqzrD'],_0x3b1d6d));}else _0x36f2a0=_0x42ecc5(0x170);const _0x47cc09=path['join'](_0x371fde[_0x42ecc5(0x1a2)]?path[_0x42ecc5(0x1cf)](_0x371fde['path']):process[_0x42ecc5(0x155)](),_0x3b1d6d);let _0x4bea18=_0x371fde[_0x42ecc5(0x1a2)]?_0x371fde[_0x42ecc5(0x1a2)]:'';_0x4bea18=_0xe0de38['PTmVe'](_0x4bea18[_0x42ecc5(0x12c)],0x0)?path[_0x42ecc5(0x158)](_0x4bea18):'',process[_0x42ecc5(0x1c9)][_0x42ecc5(0x1db)]=_0x4bea18;const _0x33a897=helper[_0x42ecc5(0x141)](_0x20f596[_0x42ecc5(0x1d2)]),_0x3c501f=helper[_0x42ecc5(0x136)](_0x20f596[_0x42ecc5(0x1d2)]);logger[_0x42ecc5(0x1cc)](_0x42ecc5(0x1aa)+_0x33a897),logger[_0x42ecc5(0x1cc)](_0x42ecc5(0x1a1)+_0x3c501f);_0x33a897&&(_0x36f2a0=_0xe0de38[_0x42ecc5(0x129)]('process.env.GLOBAL_AGENT_HTTP_PROXY=\x22'+_0x33a897+_0x42ecc5(0x124)+_0x3c501f+_0x42ecc5(0x18f),_0x36f2a0));helper['filterBrowserstackArgs']({},_0x3e84fb),fs['writeFileSync'](_0x47cc09,_0x36f2a0),PerformanceTester[_0x42ecc5(0x17c)](PerformanceEvents[_0x42ecc5(0x14a)]);const _0x3dad66=_0xe0de38['jxhsV'](spawn,_0xe0de38[_0x42ecc5(0x1ac)],[_0xe0de38[_0x42ecc5(0x14c)],_0xe0de38[_0x42ecc5(0x1d5)],_0xe0de38['tFLQM'],_0xe0de38['hOZTP'](process[_0x42ecc5(0x15d)],_0xe0de38[_0x42ecc5(0x194)])?'\x22'+_0x47cc09+'\x22':_0x47cc09,..._0x3e84fb[_0x42ecc5(0x190)](0x2)],{'shell':_0xe0de38['EzGIG'](process[_0x42ecc5(0x15d)],_0xe0de38[_0x42ecc5(0x194)]),'stdio':_0xe0de38[_0x42ecc5(0x186)],'cwd':process[_0x42ecc5(0x155)](),'env':Object[_0x42ecc5(0x15c)]({},process['env'],{'BROWSERSTACK_CONFIG_FILE_PATH':helper['getConfigPath'](_0x4070dc),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x20f596[_0x42ecc5(0x1d2)][_0x42ecc5(0x18c)][_0x42ecc5(0x17d)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x20f596[_0x42ecc5(0x1d2)][_0x42ecc5(0x18c)][_0x42ecc5(0x179)],'BROWSERSTACK_LOG_LEVEL':_0x20f596['config']['logLevel']})}),_0x42ffb6=()=>{const _0x31d0d7=_0x42ecc5;try{const _0x547651=path[_0x31d0d7(0x16d)](helper['homedir'](),_0xe0de38['ilxnH'],_0xe0de38['WDzPg']);if(fs[_0x31d0d7(0x145)](_0x547651)){let _0x27e298=fs['readFileSync'](_0x547651);_0x27e298=JSON[_0x31d0d7(0x196)](_0x27e298),_0x20f596[_0x31d0d7(0x17f)]=_0x27e298,fs[_0x31d0d7(0x13d)](_0x547651);}}catch(_0x229202){logger[_0x31d0d7(0x1cc)](_0xe0de38['tsWYR'](_0xe0de38['FVDAT'],_0x229202));}};_0x3dad66['on'](_0xe0de38[_0x42ecc5(0x1d9)],async _0x2770e0=>{const _0x10b338=_0x42ecc5;try{PerformanceTester[_0x10b338(0x128)](PerformanceEvents[_0x10b338(0x19d)]),_0xe0de38['FClpQ'](_0x42ffb6),await TestHubHandler[_0x10b338(0x18d)](),await ClientTroubleShootingService[_0x10b338(0x16e)](),await BrowserstackCLI[_0x10b338(0x130)]()[_0x10b338(0x18d)](),TestDetails[_0x10b338(0x12f)](),_0xe0de38[_0x10b338(0x1c1)](printBuildLink),await utilities['finalExecution'](_0x20f596),process[_0x10b338(0x149)]=_0x2770e0,logger[_0x10b338(0x1cc)](_0x10b338(0x1c5)+_0x2770e0),logger[_0x10b338(0x1ad)]('Deleting\x20'+_0x47cc09),fs['unlinkSync'](_0x47cc09);fs['existsSync'](_0x7f8fa1)&&(logger[_0x10b338(0x1cc)]('Deleting\x20'+_0x7f8fa1),fs[_0x10b338(0x13d)](_0x7f8fa1));const _0x578c94=fs['readdirSync'](path[_0x10b338(0x16d)](helper[_0x10b338(0x19e)](),_0xe0de38[_0x10b338(0x1ae)]))[_0x10b338(0x17a)](_0x877b21=>_0x877b21[_0x10b338(0x140)](_0x10b338(0x184)));_0x578c94[_0x10b338(0x14e)](_0x16d193=>{const _0x2ab911=_0x10b338;fs[_0x2ab911(0x13d)](path[_0x2ab911(0x16d)](helper[_0x2ab911(0x19e)](),_0x3107ae[_0x2ab911(0x161)],_0x16d193));});}catch(_0x1cac4e){logger['debug'](_0xe0de38[_0x10b338(0x127)](_0xe0de38[_0x10b338(0x134)],_0x1cac4e));}});})();}module[a39_0xaf0e2d(0x142)]=run;