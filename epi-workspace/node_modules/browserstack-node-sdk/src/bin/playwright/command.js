#!/usr/bin/env node
'use strict';const a38_0xd00da4=a38_0x8e84;(function(_0x27c44c,_0x27cb74){const _0x2c750d=a38_0x8e84,_0x334efc=_0x27c44c();while(!![]){try{const _0x42b271=parseInt(_0x2c750d(0xd8))/0x1*(-parseInt(_0x2c750d(0x137))/0x2)+-parseInt(_0x2c750d(0xe6))/0x3+-parseInt(_0x2c750d(0xf9))/0x4*(-parseInt(_0x2c750d(0x158))/0x5)+-parseInt(_0x2c750d(0x10c))/0x6+-parseInt(_0x2c750d(0x172))/0x7*(parseInt(_0x2c750d(0x131))/0x8)+parseInt(_0x2c750d(0x14f))/0x9+parseInt(_0x2c750d(0x115))/0xa;if(_0x42b271===_0x27cb74)break;else _0x334efc['push'](_0x334efc['shift']());}catch(_0xd90162){_0x334efc['push'](_0x334efc['shift']());}}}(a38_0x36a8,0x9bdfb));const fs=require('fs'),path=require(a38_0xd00da4(0x121)),{spawn}=require(a38_0xd00da4(0x109)),{format}=require(a38_0xd00da4(0x127)),logger=require(a38_0xd00da4(0x15a))[a38_0xd00da4(0x117)],{default:BrowserStackSetup}=require(a38_0xd00da4(0x139)),helper=require('../../helpers/helper'),utilities=require(a38_0xd00da4(0x119)),constants=require(a38_0xd00da4(0x16c)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),{getConfigLoaderPath}=require('./reporter/pwUtils'),{checkAccessibilityPlatformConfig}=require(a38_0xd00da4(0xfc)),{setAccessibilityCapabilities}=require(a38_0xd00da4(0x15b)),{printBuildLink}=require(a38_0xd00da4(0x113)),TestDetails=require(a38_0xd00da4(0xe1)),TestHubHandler=require(a38_0xd00da4(0x15c)),PerformanceTester=require(a38_0xd00da4(0x162)),BrowserstackCLI=require(a38_0xd00da4(0x11a)),PerformanceEvents=require('../../helpers/performance/constants')[a38_0xd00da4(0x123)],CLIUtils=require(a38_0xd00da4(0x108)),TestInfo=require(a38_0xd00da4(0xda)),getUserPlaywrightConfig=async(_0x5f3b3f,_0x2295c9)=>{const _0x3a1bb4=a38_0xd00da4,_0x9e495b={'QMrys':function(_0x45ecf2){return _0x45ecf2();},'JvSTv':function(_0x998692,_0x3febdc){return _0x998692(_0x3febdc);},'sbiJN':_0x3a1bb4(0xf7),'rLOLc':'--config='},_0x2d2f81=!helper['isUndefined'](_0x5f3b3f[_0x3a1bb4(0x122)]),_0x5d3514=_0x2d2f81?path[_0x3a1bb4(0xdb)](process['cwd'](),_0x5f3b3f['config']):process[_0x3a1bb4(0xfb)](),{resolveConfigFile:_0x1a735c,resolveConfigLocation:_0x3e0281}=helper[_0x3a1bb4(0xfd)]['apply'](null,_0x9e495b['QMrys'](getConfigLoaderPath)),_0x26f918=_0x1a735c?_0x9e495b[_0x3a1bb4(0x165)](_0x1a735c,_0x5d3514):helper['nestedKeyValue'](_0x9e495b[_0x3a1bb4(0x165)](_0x3e0281,_0x5d3514),[_0x9e495b[_0x3a1bb4(0x140)]]),_0x299db2={};if(_0x2d2f81){const _0x3cedf9=_0x2295c9['findIndex'](_0x3725f3=>_0x3725f3==='--config'||_0x3725f3==='-c'||_0x3725f3[_0x3a1bb4(0x146)](_0x3a1bb4(0xd6)));_0x2295c9[_0x3a1bb4(0xec)](_0x3cedf9,_0x2295c9[_0x3cedf9]['startsWith'](_0x9e495b[_0x3a1bb4(0xeb)])?0x1:0x2);}const _0x5c07f1={};return _0x5c07f1[_0x3a1bb4(0x121)]=_0x26f918,_0x5c07f1[_0x3a1bb4(0x122)]=_0x299db2,_0x5c07f1;},handleO11yRerun=_0x5e2f19=>{const _0x2c1ef8=a38_0xd00da4,_0x33b43e={};_0x33b43e['XaCxS']='--grep';const _0x278bae=_0x33b43e,_0x4855e6=helper[_0x2c1ef8(0x159)](process[_0x2c1ef8(0xf0)][_0x2c1ef8(0x15f)]);if(_0x4855e6){const _0x2fa568=process[_0x2c1ef8(0xf0)][_0x2c1ef8(0x170)],_0x23b0fe=[];if(helper[_0x2c1ef8(0x149)](_0x2fa568)&&!helper[_0x2c1ef8(0x12d)](_0x2fa568)){_0x2fa568['split'](',')[_0x2c1ef8(0x154)](_0x37ac59=>{const _0x2d74e4=_0x2c1ef8;_0x23b0fe['push']('('+_0x37ac59[_0x2d74e4(0x124)]()+')');});const _0x154a41='^'+_0x23b0fe[_0x2c1ef8(0xe4)]('|')+'$';_0x5e2f19['push'](_0x278bae[_0x2c1ef8(0xf3)],_0x154a41);}}},spawnOriginalProcess=_0x3f6c95=>{const _0x51ee46=a38_0xd00da4,_0x323c30={'THtHJ':function(_0x21a7d3,_0x1795bf,_0x41a0c3,_0x44e826){return _0x21a7d3(_0x1795bf,_0x41a0c3,_0x44e826);},'JGzeU':_0x51ee46(0x12f),'IVzFX':_0x51ee46(0x102),'KGZVt':function(_0x3216da,_0x3451e0){return _0x3216da===_0x3451e0;},'YVtal':'win32','unDTG':_0x51ee46(0x129)};_0x323c30[_0x51ee46(0x168)](spawn,_0x323c30[_0x51ee46(0x145)],[_0x323c30['IVzFX'],..._0x3f6c95[_0x51ee46(0x169)](0x1)],{'shell':_0x323c30[_0x51ee46(0x13d)](process[_0x51ee46(0xff)],_0x323c30[_0x51ee46(0x163)]),'stdio':_0x323c30[_0x51ee46(0xf4)],'cwd':process[_0x51ee46(0xfb)]()});},isTestCommand=(_0x1715f5,_0xf7176d)=>{const _0x1b97ec=a38_0xd00da4,_0x356a83={};_0x356a83[_0x1b97ec(0x147)]=function(_0x5f486c,_0x3abf0a){return _0x5f486c>_0x3abf0a;},_0x356a83['KaUNa']=function(_0x4ac041,_0x44cf70){return _0x4ac041===_0x44cf70;},_0x356a83[_0x1b97ec(0x111)]='test';const _0x19513e=_0x356a83;if(_0x19513e[_0x1b97ec(0x147)](_0xf7176d[_0x1b97ec(0x12e)],0x1)&&_0x19513e[_0x1b97ec(0x174)](_0xf7176d[0x1],_0x19513e[_0x1b97ec(0x111)]))return!![];return![];};function a38_0x36a8(){const _0x4088fd=['length','npx','dKYqa','1304IIicEz','bncig','isFalse','test','assign','filterBrowserstackArgs','10204LYxIoW','MODULE','../../helpers/BrowserStackSetup','BROWSERSTACK_TEST_ACCESSIBILITY_YML','cliConfig','readFileSync','KGZVt','isRunning','parse','sbiJN','KeRqO','RTFrz','iZNFJ','CJXKA','JGzeU','startsWith','NtdPu','unlinkSync','validateRerunTestList','accessibility','filter','errorMessage','Updated\x20config\x20file\x20name\x20to\x20-\x20','BROWSERSTACK_AUTOMATION','10033560NTwneg','makhU','Avani','finalExecution','--disable-test-observability','map','stop','rEqje','kPNfX','746635gNaUak','isTrue','../../helpers/logger','./accessibility-helper','../../helpers/testhub/testhubHandler','rVVIL','playwright-browserstack-sdk.config.cjs','BROWSERSTACK_RERUN','error','logLevel','../../helpers/performance/performance-tester','YVtal','homedir','JvSTv','SDK_CLEANUP','measureWrapper','THtHJ','slice','kghMf','Playwright\x20process\x20exited\x20with\x20code\x20','../utils/constants','pudEB','skipSessionStatus','XVIoS','BROWSERSTACK_RERUN_TESTS','isTypescriptProject','2051OBsSMP','existsSync','KaUNa','PACKAGE_TYPE','XmvFW','BrowserStack\x20config\x20file\x20not\x20found.','DSKfu','initialize','dirname','CAsjL','shutdown','--config=','has','157UZXcer','getInstance','../v2/TestInfo','resolve','launchBuild','info','ChGeG','ELczp','BROWSERSTACK_PW_CONFIG_DIR','./reporter/test-details','true','VLEme','join','LccKZ','1479801bbwiWU','RpFsg','qSJOt','automation','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','rLOLc','splice','debug','Error\x20in\x20getting\x20funnel\x20data\x20results','accessibilityOptions','env','ALMir','KxjAK','XaCxS','unDTG','writeFileSync','oLrVp','resolvedConfigFile','testObservability','20OSeyVw','.browserstack','cwd','../../helpers/accessibility-automation/helper','requirePWModule','Tabfe','platform','getConfigPath','serializeToYamlString','playwright','Error\x20in\x20closing\x20playwright','testContextOptions','start','Oxwoz','trace_','../v2/cliUtils','child_process','HKPOe','pw_result.json','2593416HLkUGC','setFrameworkDetail','end','browserstackAutomation','SDK_PRE_INITIALIZE','qsVmb','VNcmy','../../helpers/test-observability/utils','fykEG','5512600fbEQJM','Deleting\x20','winstonLogger','SDK_POST_INITIALIZE','../../helpers/utilities','../v2/browserstackCLI','USER_CONFIG_DETAILS_PATH','stringify','BROWSERSTACK_TEST_OBSERVABILITY','PLAYWRIGHT','setBrowserstackConfig','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','path','config','EVENTS','trim','AtqoD','CXBbK','util','dJZsw','inherit','Error\x20in\x20deleting\x20playwright\x20results','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','xClXX','isUndefined'];a38_0x36a8=function(){return _0x4088fd;};return a38_0x36a8();}async function run(_0x59a91d,_0x468bf5,_0x1418bd){const _0x36a507=a38_0xd00da4,_0x3435d7={'oLrVp':function(_0x1a0428,_0x4cf752){return _0x1a0428(_0x4cf752);},'xClXX':_0x36a507(0xfa),'VLEme':_0x36a507(0x10b),'RpFsg':function(_0x309f63,_0x478b89){return _0x309f63+_0x478b89;},'bncig':_0x36a507(0xee),'Avani':function(_0x580d2b){return _0x580d2b();},'CAsjL':function(_0x511b50,_0x3a687f){return _0x511b50+_0x3a687f;},'CJXKA':_0x36a507(0x103),'VNcmy':_0x36a507(0xd0),'LccKZ':function(_0x16df29,_0x29d7dc){return _0x16df29===_0x29d7dc;},'CXBbK':'false','nvurV':_0x36a507(0x153),'rEqje':function(_0x4cc17d,_0x17327a){return _0x4cc17d>=_0x17327a;},'AtqoD':_0x36a507(0xe9),'dkwSz':function(_0x271890,_0x587ba6){return _0x271890!=_0x587ba6;},'dKYqa':function(_0x2a4ea5,_0x553d16,_0xae4fb8){return _0x2a4ea5(_0x553d16,_0xae4fb8);},'kghMf':function(_0x9fbf01,_0x1fcc0a){return _0x9fbf01(_0x1fcc0a);},'Tabfe':_0x36a507(0xe2),'dJZsw':'browserstackSetupConfig.json','XVIoS':function(_0x1cc278,_0x3fb21a){return _0x1cc278===_0x3fb21a;},'ChGeG':_0x36a507(0x15e),'fykEG':'playwright-browserstack-sdk.config.js','RTFrz':function(_0x33bbab,_0x1d146a){return _0x33bbab-_0x1d146a;},'DSKfu':_0x36a507(0x14d),'ELczp':function(_0x32f281,_0x3d0e62){return _0x32f281>_0x3d0e62;},'KxjAK':function(_0x17e169,_0x52cf55,_0x4e4494,_0x762c32){return _0x17e169(_0x52cf55,_0x4e4494,_0x762c32);},'UMEoI':_0x36a507(0x12f),'EyykI':_0x36a507(0x102),'kPNfX':_0x36a507(0x134),'ALMir':'--config','iZNFJ':function(_0x1e07e1,_0x35a1f4){return _0x1e07e1===_0x35a1f4;},'lXRJg':'win32','KCOWR':_0x36a507(0x129),'Oxwoz':'close','makhU':function(_0x53c0cd,_0x304b7d){return _0x53c0cd+_0x304b7d;},'XmvFW':_0x36a507(0x12a),'HKPOe':function(_0x3566b0,_0x30179d,_0x2b261f){return _0x3566b0(_0x30179d,_0x2b261f);}};try{const _0x1c7a4a=path['join'](helper[_0x36a507(0x164)](),_0x3435d7['xClXX'],_0x3435d7[_0x36a507(0xe3)]);fs[_0x36a507(0x173)](_0x1c7a4a)&&fs['unlinkSync'](_0x1c7a4a);}catch(_0x451aec){logger['debug'](_0x3435d7[_0x36a507(0x150)](_0x3435d7[_0x36a507(0xcf)],_0x451aec));}if(!_0x3435d7[_0x36a507(0x10a)](isTestCommand,_0x59a91d,_0x468bf5)){_0x3435d7[_0x36a507(0x16a)](spawnOriginalProcess,_0x468bf5);return;}await PerformanceTester[_0x36a507(0x167)](PerformanceEvents[_0x36a507(0x110)],async()=>{const _0x29f349=_0x36a507,_0x1ca41f={'rVVIL':_0x3435d7[_0x29f349(0x12c)],'pudEB':function(_0x24ae2c){const _0x49bd25=_0x29f349;return _0x3435d7[_0x49bd25(0x151)](_0x24ae2c);},'qSJOt':function(_0x16da2e,_0x4a33e0){const _0x1329cc=_0x29f349;return _0x3435d7[_0x1329cc(0xd4)](_0x16da2e,_0x4a33e0);},'GaNQm':_0x3435d7[_0x29f349(0x144)]};if(!_0x1418bd[_0x29f349(0x122)]){logger[_0x29f349(0x160)](_0x3435d7[_0x29f349(0x112)]);return;}await _0x1418bd[_0x29f349(0xd2)](_0x59a91d),CLIUtils[_0x29f349(0x10d)](FRAMEWORKS[_0x29f349(0x11e)],FRAMEWORKS[_0x29f349(0x11e)]),BrowserstackCLI['getInstance']()[_0x29f349(0x11f)](_0x1418bd['config'],_0x1418bd[_0x29f349(0x13b)]),await BrowserstackCLI['getInstance']()['bootstrap']();const _0x4cd1ff=BrowserstackCLI[_0x29f349(0xd9)]()['getConfig']();!helper[_0x29f349(0x133)](_0x4cd1ff[_0x29f349(0x10f)])&&(process[_0x29f349(0xf0)][_0x29f349(0x14e)]=!![]);_0x3435d7[_0x29f349(0xe5)](_0x4cd1ff[_0x29f349(0x10f)],![])&&(process[_0x29f349(0xf0)]['BROWSERSTACK_AUTOMATION']=_0x3435d7[_0x29f349(0x126)],_0x468bf5=_0x468bf5['filter'](_0x4ef6a6=>_0x4ef6a6!=='--disable-browserstack-automation'));const _0x44afc7=_0x468bf5['indexOf'](_0x3435d7['nvurV']);(_0x3435d7[_0x29f349(0x156)](_0x44afc7,0x0)||_0x3435d7[_0x29f349(0xe5)](_0x4cd1ff['testObservability'],![]))&&(process[_0x29f349(0xf0)][_0x29f349(0x11d)]=_0x3435d7['CXBbK'],_0x468bf5=_0x468bf5[_0x29f349(0x14b)](_0x1e4696=>_0x1e4696!==_0x29f349(0x153)));!helper[_0x29f349(0x12d)](_0x1418bd['cliConfig'])&&_0x1418bd['cliConfig'][_0x29f349(0xd7)](_0x3435d7['AtqoD'])&&(process[_0x29f349(0xf0)][_0x29f349(0x14e)]=_0x1418bd[_0x29f349(0x13b)]['get'](_0x3435d7[_0x29f349(0x125)])||!![]);_0x3435d7['dkwSz'](_0x1418bd[_0x29f349(0x122)]['testObservability'],null)&&!helper[_0x29f349(0x159)](process[_0x29f349(0xf0)]['BROWSERSTACK_TEST_OBSERVABILITY'])&&(process[_0x29f349(0xf0)][_0x29f349(0x11d)]=process['env'][_0x29f349(0x11d)]||_0x1418bd[_0x29f349(0x122)][_0x29f349(0xf8)]);const _0x25e862=!helper['isFalse'](process[_0x29f349(0xf0)][_0x29f349(0x11d)]);_0x1418bd[_0x29f349(0x122)][_0x29f349(0xef)]&&(process[_0x29f349(0xf0)][_0x29f349(0xea)]=JSON[_0x29f349(0x11c)](_0x1418bd[_0x29f349(0x122)][_0x29f349(0xef)]));let _0x326507=![];_0x1418bd[_0x29f349(0x122)]['accessibility']&&(_0x326507=!![],process['env'][_0x29f349(0x13a)]=_0x1418bd[_0x29f349(0x122)][_0x29f349(0x14a)]);const _0x342689=_0x468bf5['concat'](),_0x18f0e9=await _0x3435d7[_0x29f349(0x130)](getUserPlaywrightConfig,_0x59a91d,_0x468bf5);if(helper[_0x29f349(0x12d)](_0x18f0e9)){_0x3435d7[_0x29f349(0x16a)](spawnOriginalProcess,_0x342689);return;}const _0x558135=_0x18f0e9[_0x29f349(0x121)]?path[_0x29f349(0xd3)](_0x18f0e9[_0x29f349(0x121)]):process['cwd']();process[_0x29f349(0xf0)][_0x29f349(0xe0)]=_0x558135,await PerformanceTester[_0x29f349(0x167)](PerformanceEvents[_0x29f349(0x118)],async()=>{const _0x302f89=_0x29f349;!BrowserstackCLI[_0x302f89(0xd9)]()[_0x302f89(0x13e)]()&&await TestHubHandler[_0x302f89(0xdc)](FRAMEWORKS[_0x302f89(0x11e)],_0x1418bd),_0x25e862&&_0x3435d7[_0x302f89(0xf6)](handleO11yRerun,_0x468bf5);})();if(!BrowserstackCLI[_0x29f349(0xd9)]()['isRunning']()){let _0x367721=_0x3435d7['LccKZ'](process[_0x29f349(0xf0)][_0x29f349(0x13a)],_0x3435d7[_0x29f349(0xfe)]);_0x367721=_0x367721||_0x3435d7[_0x29f349(0xf6)](checkAccessibilityPlatformConfig,_0x1418bd[_0x29f349(0x122)]),process[_0x29f349(0xf0)][_0x29f349(0x13a)]=_0x367721,_0x367721&&_0x3435d7['kghMf'](setAccessibilityCapabilities,_0x1418bd[_0x29f349(0x122)]);}const _0x7f7b10=path[_0x29f349(0xe4)](_0x18f0e9[_0x29f349(0x121)]?path['dirname'](_0x18f0e9[_0x29f349(0x121)]):process[_0x29f349(0xfb)](),_0x3435d7[_0x29f349(0x128)]);fs[_0x29f349(0xf5)](_0x7f7b10,helper[_0x29f349(0x101)](_0x1418bd[_0x29f349(0x122)])),process[_0x29f349(0xf0)]['BROWSERSTACK_SETUP_CONFIG_PATH']=_0x7f7b10,helper['clearTempPWConfig']();let _0x32a016='';_0x3435d7[_0x29f349(0x16f)](helper['getPackageType'](),constants[_0x29f349(0xce)][_0x29f349(0x138)])?_0x32a016=_0x3435d7[_0x29f349(0xde)]:_0x32a016=_0x3435d7[_0x29f349(0x114)];let _0x47dcc4='';if(helper[_0x29f349(0x171)](_0x18f0e9[_0x29f349(0x121)])){_0x47dcc4='\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a';const _0x1c104c=_0x32a016['split']('.');_0x1c104c[_0x3435d7[_0x29f349(0x142)](_0x1c104c[_0x29f349(0x12e)],0x1)]='ts',_0x32a016=_0x1c104c[_0x29f349(0xe4)]('.'),logger[_0x29f349(0xed)](_0x3435d7[_0x29f349(0xd4)](_0x3435d7[_0x29f349(0xd1)],_0x32a016));}else _0x47dcc4=_0x29f349(0x12b);const _0x3af97f=path[_0x29f349(0xe4)](_0x18f0e9['path']?path[_0x29f349(0xd3)](_0x18f0e9[_0x29f349(0x121)]):process[_0x29f349(0xfb)](),_0x32a016);let _0x3570ac=_0x18f0e9[_0x29f349(0x121)]?_0x18f0e9[_0x29f349(0x121)]:'';_0x3570ac=_0x3435d7[_0x29f349(0xdf)](_0x3570ac[_0x29f349(0x12e)],0x0)?path['resolve'](_0x3570ac):'',process[_0x29f349(0xf0)][_0x29f349(0x11b)]=_0x3570ac;const _0x11eda8=helper['getProxyUrl'](_0x1418bd[_0x29f349(0x122)]);_0x11eda8&&(_0x47dcc4=_0x3435d7[_0x29f349(0xe7)](_0x29f349(0x120)+_0x11eda8+'\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();',_0x47dcc4));helper[_0x29f349(0x136)]({},_0x468bf5),fs['writeFileSync'](_0x3af97f,_0x47dcc4),PerformanceTester[_0x29f349(0x10e)](PerformanceEvents['SDK_SETUP']);const _0x58ba2d=_0x3435d7[_0x29f349(0xf2)](spawn,_0x3435d7['UMEoI'],[_0x3435d7['EyykI'],_0x3435d7[_0x29f349(0x157)],_0x3435d7[_0x29f349(0xf1)],_0x3af97f,..._0x468bf5[_0x29f349(0x169)](0x2)],{'shell':_0x3435d7[_0x29f349(0x143)](process['platform'],_0x3435d7['lXRJg']),'stdio':_0x3435d7['KCOWR'],'cwd':process[_0x29f349(0xfb)](),'env':Object[_0x29f349(0x135)]({},process[_0x29f349(0xf0)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper[_0x29f349(0x100)](_0x59a91d),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x1418bd[_0x29f349(0x122)][_0x29f349(0x104)][_0x29f349(0x16e)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x1418bd[_0x29f349(0x122)][_0x29f349(0x104)]['skipSessionName'],'BROWSERSTACK_LOG_LEVEL':_0x1418bd[_0x29f349(0x122)][_0x29f349(0x161)]})}),_0x345262=()=>{const _0x1891b8=_0x29f349;try{const _0x53c799=path['join'](helper[_0x1891b8(0x164)](),_0x3435d7[_0x1891b8(0x12c)],_0x3435d7[_0x1891b8(0xe3)]);if(fs['existsSync'](_0x53c799)){let _0x35bf73=fs[_0x1891b8(0x13c)](_0x53c799);_0x35bf73=JSON[_0x1891b8(0x13f)](_0x35bf73),_0x1418bd[_0x1891b8(0x14c)]=_0x35bf73,fs[_0x1891b8(0x148)](_0x53c799);}}catch(_0x1668fc){logger['debug'](_0x3435d7['RpFsg'](_0x3435d7[_0x1891b8(0x132)],_0x1668fc));}};_0x58ba2d['on'](_0x3435d7[_0x29f349(0x106)],async _0xf1983a=>{const _0x3c935c=_0x29f349,_0x5376af={};_0x5376af[_0x3c935c(0x141)]=_0x1ca41f[_0x3c935c(0x15d)];const _0x473d6d=_0x5376af;try{PerformanceTester[_0x3c935c(0x105)](PerformanceEvents[_0x3c935c(0x166)]),_0x1ca41f[_0x3c935c(0x16d)](_0x345262);!BrowserstackCLI[_0x3c935c(0xd9)]()['isRunning']()&&await TestHubHandler[_0x3c935c(0x155)]();await BrowserstackCLI[_0x3c935c(0xd9)]()[_0x3c935c(0x155)](),TestDetails[_0x3c935c(0xd5)](),_0x1ca41f['pudEB'](printBuildLink),await utilities[_0x3c935c(0x152)](_0x1418bd),process['exitCode']=_0xf1983a,logger[_0x3c935c(0xed)](_0x3c935c(0x16b)+_0xf1983a),logger[_0x3c935c(0xdd)](_0x3c935c(0x116)+_0x3af97f),fs[_0x3c935c(0x148)](_0x3af97f);fs['existsSync'](_0x7f7b10)&&(logger[_0x3c935c(0xed)](_0x3c935c(0x116)+_0x7f7b10),fs[_0x3c935c(0x148)](_0x7f7b10));const _0x39d797=fs['readdirSync'](path[_0x3c935c(0xe4)](helper[_0x3c935c(0x164)](),_0x1ca41f[_0x3c935c(0x15d)]))[_0x3c935c(0x14b)](_0x4c6431=>_0x4c6431['startsWith'](_0x3c935c(0x107)));_0x39d797['forEach'](_0x13f34b=>{const _0x2e0b5c=_0x3c935c;fs[_0x2e0b5c(0x148)](path[_0x2e0b5c(0xe4)](helper[_0x2e0b5c(0x164)](),_0x473d6d[_0x2e0b5c(0x141)],_0x13f34b));});}catch(_0x472a20){logger[_0x3c935c(0xed)](_0x1ca41f[_0x3c935c(0xe8)](_0x1ca41f['GaNQm'],_0x472a20));}});})();}function a38_0x8e84(_0x24eb9b,_0x23e3e4){const _0x36a89b=a38_0x36a8();return a38_0x8e84=function(_0x8e846a,_0x1e9728){_0x8e846a=_0x8e846a-0xce;let _0x54b16e=_0x36a89b[_0x8e846a];return _0x54b16e;},a38_0x8e84(_0x24eb9b,_0x23e3e4);}module['exports']=run;