#!/usr/bin/env node
'use strict';function a39_0x274a(_0x32aaa5,_0x105d26){const _0x3e675f=a39_0x3e67();return a39_0x274a=function(_0x274a7d,_0x5e8f59){_0x274a7d=_0x274a7d-0x18f;let _0x507664=_0x3e675f[_0x274a7d];return _0x507664;},a39_0x274a(_0x32aaa5,_0x105d26);}function a39_0x3e67(){const _0x1ff170=['resolvedConfigFile','taUGD','exitCode','SDK_SETUP','GbUVt','BULcI','lfcTd','trim','util','shutdown','winstonLogger','./reporter/pwUtils','browserstackSetupConfig.json','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','../../helpers/testhub/testhubHandler','../utils/clientTroubleshootingService','indexOf','isRunning','slice','isYarnPnP','pw_result.json','xaien','filterBrowserstackArgs','No\x20Proxy\x20:\x20','config','dIhrf','BROWSERSTACK_RERUN','312194CjYjXu','../../helpers/performance/performance-tester','../../helpers/accessibility-automation/helper','accessibilityOptions','gHSSy','startsWith','.browserstack','info','BROWSERSTACK_PW_CONFIG_DIR','PACKAGE_TYPE','bootstrap','43826960dVjKFe','slQsL','findIndex','AWiIG','testObservability','configPath','../../helpers/utilities','isUndefined','end','length','unlinkSync','SDK_POST_INITIALIZE','tRwYh','1179776DvKLCQ','filter','W_OK','Deleting\x20','SDK_PRE_INITIALIZE','--config=','ZpNoe','BROWSERSTACK_TEST_OBSERVABILITY','cwd','BEzyN','win32','rUxIs','BROWSERSTACK_SETUP_CONFIG_PATH','xuZrY','Updated\x20config\x20file\x20name\x20to\x20-\x20','finalExecution','LLxFl','R_OK','BROWSERSTACK_AUTOMATION','ybyiF','inherit','Playwright\x20process\x20exited\x20with\x20code\x20','gnFnI','close','bVtgb','Nlevd','platform','test','../utils/constants','./accessibility-helper','existsSync','has','true','RwiaQ','Error\x20in\x20accessing\x20.browserstack\x20directory:\x20','getInstance','playwright-browserstack-sdk.config.js','accessibility','reportConflictingEnvVarIssue','setBrowserstackConfig','stop','12332268LcQMtr','assign','VnDyc','tnVXz','getConfig','eyUkq','UOqYZ','writeFileSync','get','BROWSERSTACK_TEST_ACCESSIBILITY_YML','isTrue','../../helpers/performance/constants','USER_CONFIG_DETAILS_PATH','366289fbnuCG','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','LeUJy','browserstackAutomation','fQnlH','ESAON','--grep','readdirSync','clearTempPWConfig','validateRerunTestList','apply','INTERNALLY_USED_ENV_VARS','WtrEu','getNoProxy','reportDotBrowserStackFolderNotAccessibleIssue','parse','forEach','env','PLAYWRIGHT','FEocE','jttnn','33UTsQok','JYKkQ','yarn','playwright','BROWSERSTACK_RERUN_TESTS','map','measureWrapper','QZPbB','concat','pMxdI','../v2/cliUtils','join','debug','reportFinalDetectionState','exports','--config','DSLMC','cliConfig','Error\x20in\x20deleting\x20playwright\x20results','accessSync','MoCBd','homedir','ZcMEq','kkPwh','FTKCI','CFRuj','../../helpers/helper','lKwyk','nuDri','3241866zuooTT','path','IzjSb','PDNAR','testContextOptions','logLevel','getConfigPath','kZPpA','../../helpers/test-observability/utils','Dzlci','skipSessionName','isFalse','tTNJW','Error\x20in\x20getting\x20funnel\x20data\x20results','push','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','resolve','../v2/browserstackCLI','hwbFY','--disable-test-observability','15miihvI','dirname','tFCCy','SDK_CLEANUP','guspm','stringify','split','203842NNHaDa','constants','fdJbO','Proxy\x20url\x20:\x20','MODULE','256SGHsXB','../v2/TestInfo','CAWNH'];a39_0x3e67=function(){return _0x1ff170;};return a39_0x3e67();}const a39_0x48d0d4=a39_0x274a;(function(_0x2f0021,_0x105ee8){const _0x3fda6a=a39_0x274a,_0x55fb55=_0x2f0021();while(!![]){try{const _0x2de897=parseInt(_0x3fda6a(0x20b))/0x1+-parseInt(_0x3fda6a(0x22e))/0x2*(-parseInt(_0x3fda6a(0x1d2))/0x3)+-parseInt(_0x3fda6a(0x246))/0x4*(-parseInt(_0x3fda6a(0x204))/0x5)+-parseInt(_0x3fda6a(0x1ef))/0x6+-parseInt(_0x3fda6a(0x1bd))/0x7*(-parseInt(_0x3fda6a(0x210))/0x8)+parseInt(_0x3fda6a(0x1b0))/0x9+-parseInt(_0x3fda6a(0x239))/0xa;if(_0x2de897===_0x105ee8)break;else _0x55fb55['push'](_0x55fb55['shift']());}catch(_0xe8f45c){_0x55fb55['push'](_0x55fb55['shift']());}}}(a39_0x3e67,0xe26da));const fs=require('fs'),path=require('path'),{spawn}=require('child_process'),{format}=require(a39_0x48d0d4(0x21b)),logger=require('../../helpers/logger')[a39_0x48d0d4(0x21d)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a39_0x48d0d4(0x1ec)),utilities=require(a39_0x48d0d4(0x23f)),constants=require(a39_0x48d0d4(0x1a3)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),{getConfigLoaderPath}=require(a39_0x48d0d4(0x21e)),{checkAccessibilityPlatformConfig}=require(a39_0x48d0d4(0x230)),{setAccessibilityCapabilities}=require(a39_0x48d0d4(0x1a4)),{printBuildLink}=require(a39_0x48d0d4(0x1f7)),TestDetails=require('./reporter/test-details'),TestHubHandler=require(a39_0x48d0d4(0x221)),PerformanceTester=require(a39_0x48d0d4(0x22f)),BrowserstackCLI=require(a39_0x48d0d4(0x201)),PerformanceEvents=require(a39_0x48d0d4(0x1bb))['EVENTS'],CLIUtils=require(a39_0x48d0d4(0x1dc)),TestInfo=require(a39_0x48d0d4(0x211)),ClientTroubleShootingService=require(a39_0x48d0d4(0x222)),getUserPlaywrightConfig=async(_0x189573,_0x4d1718)=>{const _0x1f1d52=a39_0x48d0d4,_0x272ed1={'Dzlci':function(_0x49d39e){return _0x49d39e();},'DSLMC':function(_0xd60729){return _0xd60729();},'Nlevd':function(_0x57525f,_0x3eff34){return _0x57525f(_0x3eff34);},'gnFnI':function(_0x11c7bc,_0x1a125b){return _0x11c7bc(_0x1a125b);},'WtrEu':_0x1f1d52(0x213),'PDNAR':_0x1f1d52(0x24b)},_0x3eba9a=!helper[_0x1f1d52(0x240)](_0x189573['config']),_0x191edf=_0x3eba9a?path['resolve'](process[_0x1f1d52(0x18f)](),_0x189573[_0x1f1d52(0x22b)]):process['cwd'](),{resolveConfigFile:_0xb4c8b,resolveConfigLocation:_0x595035}=helper['isYarnPnP']()?helper['requireConfigLoaderYarnPnP'](..._0x272ed1[_0x1f1d52(0x1f8)](getConfigLoaderPath)):helper['requirePWModule'][_0x1f1d52(0x1c7)](null,_0x272ed1[_0x1f1d52(0x1e2)](getConfigLoaderPath)),_0x4d0794=_0xb4c8b?_0x272ed1[_0x1f1d52(0x1a0)](_0xb4c8b,_0x191edf):helper['nestedKeyValue'](_0x272ed1[_0x1f1d52(0x19d)](_0x595035,_0x191edf),[_0x272ed1[_0x1f1d52(0x1c9)]]),_0x5144e9={};if(_0x3eba9a){const _0x58efbb=_0x4d1718[_0x1f1d52(0x23b)](_0x5dba92=>_0x5dba92===_0x1f1d52(0x1e1)||_0x5dba92==='-c'||_0x5dba92['startsWith'](_0x1f1d52(0x24b)));_0x4d1718['splice'](_0x58efbb,_0x4d1718[_0x58efbb][_0x1f1d52(0x233)](_0x272ed1[_0x1f1d52(0x1f2)])?0x1:0x2);}const _0x10451a={};return _0x10451a[_0x1f1d52(0x1f0)]=_0x4d0794,_0x10451a[_0x1f1d52(0x22b)]=_0x5144e9,_0x10451a;},handleO11yRerun=_0xa5de04=>{const _0x29f633=a39_0x48d0d4,_0x3b1f52={};_0x3b1f52[_0x29f633(0x1ea)]=_0x29f633(0x1c3);const _0x2f8258=_0x3b1f52,_0x53f295=helper[_0x29f633(0x1ba)](process['env'][_0x29f633(0x22d)]);if(_0x53f295){const _0x1f8905=process[_0x29f633(0x1ce)][_0x29f633(0x1d6)],_0x58d23a=[];if(helper[_0x29f633(0x1c6)](_0x1f8905)&&!helper[_0x29f633(0x240)](_0x1f8905)){_0x1f8905['split'](',')[_0x29f633(0x1d7)](_0x26d6a8=>{const _0x2e7ad1=_0x29f633;_0x58d23a[_0x2e7ad1(0x1fd)]('('+_0x26d6a8[_0x2e7ad1(0x21a)]()+')');});const _0x58ee64='^'+_0x58d23a['join']('|')+'$';_0xa5de04[_0x29f633(0x1fd)](_0x2f8258[_0x29f633(0x1ea)],_0x58ee64);}}},spawnOriginalProcess=_0x1ba436=>{const _0x404937=a39_0x48d0d4,_0x3e0e85={'tRwYh':function(_0x498fc1,_0x219471,_0x4896d3,_0x4271d7){return _0x498fc1(_0x219471,_0x4896d3,_0x4271d7);},'GbUVt':_0x404937(0x1d4),'ypPQV':'npx','RwiaQ':_0x404937(0x1d5),'gHSSy':function(_0xbb1c89,_0x306634){return _0xbb1c89===_0x306634;},'tnVXz':_0x404937(0x191),'lkOXH':_0x404937(0x19b)};_0x3e0e85[_0x404937(0x245)](spawn,helper[_0x404937(0x226)]()?_0x3e0e85[_0x404937(0x217)]:_0x3e0e85['ypPQV'],[_0x3e0e85[_0x404937(0x1a8)],..._0x1ba436[_0x404937(0x225)](0x1)],{'shell':_0x3e0e85[_0x404937(0x232)](process[_0x404937(0x1a1)],_0x3e0e85[_0x404937(0x1b3)]),'stdio':_0x3e0e85['lkOXH'],'cwd':process['cwd']()});},isTestCommand=(_0x23a874,_0x4a6911)=>{const _0x1f5fe7=a39_0x48d0d4,_0x52c149={};_0x52c149[_0x1f5fe7(0x1d9)]=function(_0x11c086,_0x415ac9){return _0x11c086>_0x415ac9;},_0x52c149[_0x1f5fe7(0x1e8)]=function(_0x261c97,_0x2509b0){return _0x261c97===_0x2509b0;},_0x52c149[_0x1f5fe7(0x218)]='test';const _0x5ef776=_0x52c149;if(_0x5ef776[_0x1f5fe7(0x1d9)](_0x4a6911[_0x1f5fe7(0x242)],0x1)&&_0x5ef776[_0x1f5fe7(0x1e8)](_0x4a6911[0x1],_0x5ef776[_0x1f5fe7(0x218)]))return!![];return![];};async function run(_0x159a40,_0x2192a7,_0x4ecbff){const _0x30df07=a39_0x48d0d4,_0xbceeb1={'bVtgb':_0x30df07(0x234),'kkPwh':_0x30df07(0x227),'rUxIs':function(_0x3468c7,_0x51d4f2){return _0x3468c7+_0x51d4f2;},'VnDyc':_0x30df07(0x1fc),'fdJbO':function(_0x15593d){return _0x15593d();},'hcJWI':function(_0x5a4914){return _0x5a4914();},'LeUJy':'Error\x20in\x20closing\x20playwright','dKynf':function(_0x556ccb,_0x377d58){return _0x556ccb(_0x377d58);},'hwbFY':'BrowserStack\x20config\x20file\x20not\x20found.','ybyiF':function(_0xbd670a,_0x20aaae){return _0xbd670a<_0x20aaae;},'tTNJW':function(_0x277779,_0x1bce4f){return _0x277779===_0x1bce4f;},'xSnlL':'false','FEocE':_0x30df07(0x203),'BEzyN':function(_0x43fbe7,_0x2f85ac){return _0x43fbe7>=_0x2f85ac;},'AwOVc':function(_0x5c14c6,_0x340ea9){return _0x5c14c6===_0x340ea9;},'LLxFl':'automation','tFCCy':function(_0x21b8a7,_0x35e4dd){return _0x21b8a7!=_0x35e4dd;},'eCWmv':function(_0x217f7a,_0xe110fb,_0x698085){return _0x217f7a(_0xe110fb,_0x698085);},'NTFkt':function(_0x802ae6,_0x2b7c91){return _0x802ae6(_0x2b7c91);},'jttnn':_0x30df07(0x1a7),'JYKkQ':function(_0x5916c6,_0x55d472){return _0x5916c6(_0x55d472);},'ESAON':_0x30df07(0x21f),'lKwyk':'playwright-browserstack-sdk.config.cjs','HVNxt':_0x30df07(0x1ab),'IzjSb':function(_0x5b00a9,_0x927773){return _0x5b00a9-_0x927773;},'cNHWM':function(_0x2d549d,_0x4a41ca){return _0x2d549d+_0x4a41ca;},'eyUkq':_0x30df07(0x195),'kZPpA':function(_0x1fb8fd,_0x1d0236){return _0x1fb8fd>_0x1d0236;},'pMxdI':function(_0x18f8e7,_0x3be9be){return _0x18f8e7+_0x3be9be;},'lfcTd':function(_0x15f816,_0x3b9702,_0x422c45,_0x467f04){return _0x15f816(_0x3b9702,_0x422c45,_0x467f04);},'CAWNH':'yarn','bHCcS':'npx','JRYsp':_0x30df07(0x1d5),'UOqYZ':_0x30df07(0x1a2),'MNQAJ':_0x30df07(0x1e1),'fQnlH':function(_0x22b2a2,_0x7783e){return _0x22b2a2===_0x7783e;},'xaien':_0x30df07(0x191),'guspm':function(_0x3af45c,_0x25c3a3){return _0x3af45c===_0x25c3a3;},'AWiIG':_0x30df07(0x19b),'slQsL':_0x30df07(0x19e),'xuZrY':function(_0x462678,_0x373a63){return _0x462678|_0x373a63;},'MoCBd':function(_0x5959b3,_0x424621){return _0x5959b3+_0x424621;},'dIhrf':_0x30df07(0x1a9),'ZpNoe':function(_0x15562f,_0x13e5ef){return _0x15562f+_0x13e5ef;},'cBaUI':_0x30df07(0x1e4),'HKxGi':function(_0x441604,_0x463800,_0x13c8b2){return _0x441604(_0x463800,_0x13c8b2);},'CFRuj':function(_0x203430,_0xbf742b){return _0x203430(_0xbf742b);}};try{const _0x132e38=path[_0x30df07(0x1dd)](helper['homedir'](),_0xbceeb1[_0x30df07(0x19f)]);try{fs[_0x30df07(0x1e5)](_0x132e38,_0xbceeb1[_0x30df07(0x194)](fs[_0x30df07(0x20c)][_0x30df07(0x198)],fs['constants'][_0x30df07(0x248)]));}catch(_0x5db1b9){ClientTroubleShootingService[_0x30df07(0x1cb)]();}}catch(_0x3a832f){logger[_0x30df07(0x1de)](_0xbceeb1[_0x30df07(0x1e6)](_0xbceeb1[_0x30df07(0x22c)],_0x3a832f));}try{const _0x529fc8=path[_0x30df07(0x1dd)](helper[_0x30df07(0x1e7)](),_0xbceeb1[_0x30df07(0x19f)],_0xbceeb1[_0x30df07(0x1e9)]);fs[_0x30df07(0x1a5)](_0x529fc8)&&fs['unlinkSync'](_0x529fc8);}catch(_0x4eb18e){logger[_0x30df07(0x1de)](_0xbceeb1[_0x30df07(0x24c)](_0xbceeb1['cBaUI'],_0x4eb18e));}if(!_0xbceeb1['HKxGi'](isTestCommand,_0x159a40,_0x2192a7)){_0xbceeb1[_0x30df07(0x1eb)](spawnOriginalProcess,_0x2192a7);return;}await PerformanceTester[_0x30df07(0x1d8)](PerformanceEvents[_0x30df07(0x24a)],async()=>{const _0x5a40bb=_0x30df07,_0x5b4c08={'nuDri':function(_0x1b3e5e,_0x337ce9){return _0xbceeb1['dKynf'](_0x1b3e5e,_0x337ce9);}};if(!_0x4ecbff['config']){logger['error'](_0xbceeb1[_0x5a40bb(0x202)]);return;}await _0x4ecbff['initialize'](_0x159a40),CLIUtils['setFrameworkDetail'](FRAMEWORKS[_0x5a40bb(0x1cf)],FRAMEWORKS[_0x5a40bb(0x1cf)]),BrowserstackCLI[_0x5a40bb(0x1aa)]()[_0x5a40bb(0x1ae)](_0x4ecbff[_0x5a40bb(0x22b)],_0x4ecbff[_0x5a40bb(0x23e)],_0x4ecbff[_0x5a40bb(0x1e3)]),await BrowserstackCLI[_0x5a40bb(0x1aa)]()[_0x5a40bb(0x238)]();for(var _0x42f50b=0x0;_0xbceeb1[_0x5a40bb(0x19a)](_0x42f50b,constants['INTERNALLY_USED_ENV_VARS'][_0x5a40bb(0x242)]);_0x42f50b++){var _0x59b3c1=constants[_0x5a40bb(0x1c8)][_0x42f50b];process[_0x5a40bb(0x1ce)][_0x59b3c1]&&await ClientTroubleShootingService[_0x5a40bb(0x1ad)](_0x59b3c1);}const _0x6fe0cd=BrowserstackCLI['getInstance']()[_0x5a40bb(0x1b4)]();!helper[_0x5a40bb(0x1fa)](_0x6fe0cd[_0x5a40bb(0x1c0)])&&(process[_0x5a40bb(0x1ce)]['BROWSERSTACK_AUTOMATION']=!![]);_0xbceeb1[_0x5a40bb(0x1fb)](_0x6fe0cd[_0x5a40bb(0x1c0)],![])&&(process[_0x5a40bb(0x1ce)][_0x5a40bb(0x199)]=_0xbceeb1['xSnlL'],_0x2192a7=_0x2192a7['filter'](_0x539f33=>_0x539f33!=='--disable-browserstack-automation'));const _0x3fd5a4=_0x2192a7[_0x5a40bb(0x223)](_0xbceeb1[_0x5a40bb(0x1d0)]);(_0xbceeb1[_0x5a40bb(0x190)](_0x3fd5a4,0x0)||_0xbceeb1['AwOVc'](_0x6fe0cd[_0x5a40bb(0x23d)],![]))&&(process[_0x5a40bb(0x1ce)][_0x5a40bb(0x24d)]=_0xbceeb1['xSnlL'],_0x2192a7=_0x2192a7['filter'](_0x17c88c=>_0x17c88c!==_0x5a40bb(0x203)));!helper[_0x5a40bb(0x240)](_0x4ecbff[_0x5a40bb(0x1e3)])&&_0x4ecbff['cliConfig'][_0x5a40bb(0x1a6)](_0xbceeb1['LLxFl'])&&(process[_0x5a40bb(0x1ce)][_0x5a40bb(0x199)]=_0x4ecbff[_0x5a40bb(0x1e3)][_0x5a40bb(0x1b8)](_0xbceeb1[_0x5a40bb(0x197)])||!![]);_0xbceeb1[_0x5a40bb(0x206)](_0x4ecbff[_0x5a40bb(0x22b)][_0x5a40bb(0x23d)],null)&&!helper[_0x5a40bb(0x1ba)](process[_0x5a40bb(0x1ce)][_0x5a40bb(0x24d)])&&(process['env']['BROWSERSTACK_TEST_OBSERVABILITY']=process[_0x5a40bb(0x1ce)][_0x5a40bb(0x24d)]||_0x4ecbff['config'][_0x5a40bb(0x23d)]);const _0x52dae2=!helper[_0x5a40bb(0x1fa)](process['env'][_0x5a40bb(0x24d)]);_0x4ecbff[_0x5a40bb(0x22b)]['accessibilityOptions']&&(process[_0x5a40bb(0x1ce)][_0x5a40bb(0x220)]=JSON[_0x5a40bb(0x209)](_0x4ecbff[_0x5a40bb(0x22b)][_0x5a40bb(0x231)]));let _0x438068=![];_0x4ecbff['config'][_0x5a40bb(0x1ac)]&&(_0x438068=!![],process[_0x5a40bb(0x1ce)][_0x5a40bb(0x1b9)]=_0x4ecbff[_0x5a40bb(0x22b)]['accessibility']);const _0xfcdac8=_0x2192a7[_0x5a40bb(0x1da)](),_0x843026=await _0xbceeb1['eCWmv'](getUserPlaywrightConfig,_0x159a40,_0x2192a7);if(helper[_0x5a40bb(0x240)](_0x843026)){_0xbceeb1['NTFkt'](spawnOriginalProcess,_0xfcdac8);return;}const _0x54749f=_0x843026[_0x5a40bb(0x1f0)]?path[_0x5a40bb(0x205)](_0x843026[_0x5a40bb(0x1f0)]):process[_0x5a40bb(0x18f)]();process[_0x5a40bb(0x1ce)][_0x5a40bb(0x236)]=_0x54749f,await PerformanceTester['measureWrapper'](PerformanceEvents[_0x5a40bb(0x244)],async()=>{const _0x34d091=_0x5a40bb;!BrowserstackCLI[_0x34d091(0x1aa)]()[_0x34d091(0x224)]()&&await TestHubHandler['launchBuild'](FRAMEWORKS[_0x34d091(0x1cf)],_0x4ecbff),_0x52dae2&&_0x5b4c08[_0x34d091(0x1ee)](handleO11yRerun,_0x2192a7);})();if(!BrowserstackCLI[_0x5a40bb(0x1aa)]()[_0x5a40bb(0x224)]()){let _0x334386=_0xbceeb1[_0x5a40bb(0x1fb)](process[_0x5a40bb(0x1ce)][_0x5a40bb(0x1b9)],_0xbceeb1[_0x5a40bb(0x1d1)]);_0x334386=_0x334386||_0xbceeb1['JYKkQ'](checkAccessibilityPlatformConfig,_0x4ecbff[_0x5a40bb(0x22b)]),process[_0x5a40bb(0x1ce)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x334386,_0x334386&&_0xbceeb1[_0x5a40bb(0x1d3)](setAccessibilityCapabilities,_0x4ecbff[_0x5a40bb(0x22b)]);}const _0x267a65=path[_0x5a40bb(0x1dd)](_0x843026[_0x5a40bb(0x1f0)]?path[_0x5a40bb(0x205)](_0x843026['path']):process[_0x5a40bb(0x18f)](),_0xbceeb1[_0x5a40bb(0x1c2)]);fs['writeFileSync'](_0x267a65,helper['serializeToYamlString'](_0x4ecbff[_0x5a40bb(0x22b)])),process['env'][_0x5a40bb(0x193)]=_0x267a65,helper[_0x5a40bb(0x1c5)]();let _0x8a6f77='';_0xbceeb1[_0x5a40bb(0x1fb)](helper['getPackageType'](),constants[_0x5a40bb(0x237)][_0x5a40bb(0x20f)])?_0x8a6f77=_0xbceeb1[_0x5a40bb(0x1ed)]:_0x8a6f77=_0xbceeb1['HVNxt'];let _0x23a4b2='';if(helper['isTypescriptProject'](_0x843026['path'])){_0x23a4b2=_0x5a40bb(0x1ff);const _0x49cf3e=_0x8a6f77[_0x5a40bb(0x20a)]('.');_0x49cf3e[_0xbceeb1[_0x5a40bb(0x1f1)](_0x49cf3e[_0x5a40bb(0x242)],0x1)]='ts',_0x8a6f77=_0x49cf3e['join']('.'),logger[_0x5a40bb(0x1de)](_0xbceeb1['cNHWM'](_0xbceeb1[_0x5a40bb(0x1b5)],_0x8a6f77));}else _0x23a4b2=_0x5a40bb(0x1be);const _0x1eb479=path[_0x5a40bb(0x1dd)](_0x843026[_0x5a40bb(0x1f0)]?path[_0x5a40bb(0x205)](_0x843026['path']):process[_0x5a40bb(0x18f)](),_0x8a6f77);let _0x5637d3=_0x843026['path']?_0x843026[_0x5a40bb(0x1f0)]:'';_0x5637d3=_0xbceeb1[_0x5a40bb(0x1f6)](_0x5637d3[_0x5a40bb(0x242)],0x0)?path[_0x5a40bb(0x200)](_0x5637d3):'',process['env'][_0x5a40bb(0x1bc)]=_0x5637d3;const _0x3f791e=helper['getProxyUrl'](_0x4ecbff[_0x5a40bb(0x22b)]),_0x119dbd=helper[_0x5a40bb(0x1ca)](_0x4ecbff[_0x5a40bb(0x22b)]);logger[_0x5a40bb(0x1de)](_0x5a40bb(0x20e)+_0x3f791e),logger[_0x5a40bb(0x1de)](_0x5a40bb(0x22a)+_0x119dbd);_0x3f791e&&(_0x23a4b2=_0xbceeb1[_0x5a40bb(0x1db)](_0x5a40bb(0x1fe)+_0x3f791e+'\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22'+_0x119dbd+'\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();',_0x23a4b2));helper[_0x5a40bb(0x229)]({},_0x2192a7),fs[_0x5a40bb(0x1b7)](_0x1eb479,_0x23a4b2),PerformanceTester[_0x5a40bb(0x241)](PerformanceEvents[_0x5a40bb(0x216)]);const _0x5a4b06=_0xbceeb1[_0x5a40bb(0x219)](spawn,helper[_0x5a40bb(0x226)]()?_0xbceeb1[_0x5a40bb(0x212)]:_0xbceeb1['bHCcS'],[_0xbceeb1['JRYsp'],_0xbceeb1[_0x5a40bb(0x1b6)],_0xbceeb1['MNQAJ'],_0xbceeb1[_0x5a40bb(0x1c1)](process['platform'],_0xbceeb1['xaien'])?'\x22'+_0x1eb479+'\x22':_0x1eb479,..._0x2192a7[_0x5a40bb(0x225)](0x2)],{'shell':_0xbceeb1[_0x5a40bb(0x208)](process['platform'],_0xbceeb1[_0x5a40bb(0x228)]),'stdio':_0xbceeb1[_0x5a40bb(0x23c)],'cwd':process[_0x5a40bb(0x18f)](),'env':Object[_0x5a40bb(0x1b1)]({},process[_0x5a40bb(0x1ce)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper[_0x5a40bb(0x1f5)](_0x159a40),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x4ecbff[_0x5a40bb(0x22b)][_0x5a40bb(0x1f3)]['skipSessionStatus'],'BROWSERSTACK_SKIP_SESSION_NAME':_0x4ecbff[_0x5a40bb(0x22b)]['testContextOptions'][_0x5a40bb(0x1f9)],'BROWSERSTACK_LOG_LEVEL':_0x4ecbff[_0x5a40bb(0x22b)][_0x5a40bb(0x1f4)]})}),_0x43c5d1=()=>{const _0x453a06=_0x5a40bb;try{const _0x1a5e7f=path[_0x453a06(0x1dd)](helper['homedir'](),_0xbceeb1[_0x453a06(0x19f)],_0xbceeb1['kkPwh']);if(fs[_0x453a06(0x1a5)](_0x1a5e7f)){let _0xed12e8=fs['readFileSync'](_0x1a5e7f);_0xed12e8=JSON[_0x453a06(0x1cc)](_0xed12e8),_0x4ecbff['errorMessage']=_0xed12e8,fs[_0x453a06(0x243)](_0x1a5e7f);}}catch(_0x4fb465){logger[_0x453a06(0x1de)](_0xbceeb1['rUxIs'](_0xbceeb1[_0x453a06(0x1b2)],_0x4fb465));}};_0x5a4b06['on'](_0xbceeb1[_0x5a40bb(0x23a)],async _0x3ed893=>{const _0x582a34=_0x5a40bb,_0x19d45b={};_0x19d45b['taUGD']=_0xbceeb1[_0x582a34(0x19f)];const _0x323555=_0x19d45b;try{PerformanceTester['start'](PerformanceEvents[_0x582a34(0x207)]),_0xbceeb1[_0x582a34(0x20d)](_0x43c5d1),await TestHubHandler[_0x582a34(0x1af)](),await ClientTroubleShootingService[_0x582a34(0x1df)](),await BrowserstackCLI['getInstance']()['stop'](),TestDetails[_0x582a34(0x21c)](),_0xbceeb1['hcJWI'](printBuildLink),await utilities[_0x582a34(0x196)](_0x4ecbff),process[_0x582a34(0x215)]=_0x3ed893,logger[_0x582a34(0x1de)](_0x582a34(0x19c)+_0x3ed893),logger[_0x582a34(0x235)](_0x582a34(0x249)+_0x1eb479),fs[_0x582a34(0x243)](_0x1eb479);fs['existsSync'](_0x267a65)&&(logger[_0x582a34(0x1de)](_0x582a34(0x249)+_0x267a65),fs[_0x582a34(0x243)](_0x267a65));const _0x3a6011=fs[_0x582a34(0x1c4)](path[_0x582a34(0x1dd)](helper[_0x582a34(0x1e7)](),_0xbceeb1[_0x582a34(0x19f)]))[_0x582a34(0x247)](_0x421a25=>_0x421a25[_0x582a34(0x233)]('trace_'));_0x3a6011[_0x582a34(0x1cd)](_0x2de19d=>{const _0x4f01e3=_0x582a34;fs[_0x4f01e3(0x243)](path['join'](helper[_0x4f01e3(0x1e7)](),_0x323555[_0x4f01e3(0x214)],_0x2de19d));});}catch(_0x5f5f6){logger[_0x582a34(0x1de)](_0xbceeb1[_0x582a34(0x192)](_0xbceeb1[_0x582a34(0x1bf)],_0x5f5f6));}});})();}module[a39_0x48d0d4(0x1e0)]=run;