#!/usr/bin/env node
'use strict';function a39_0x548e(_0x7ac03,_0x2584ca){const _0x53afd3=a39_0x53af();return a39_0x548e=function(_0x548e5b,_0x20aa71){_0x548e5b=_0x548e5b-0x19e;let _0xbdb50e=_0x53afd3[_0x548e5b];return _0xbdb50e;},a39_0x548e(_0x7ac03,_0x2584ca);}const a39_0x5dd34b=a39_0x548e;(function(_0x369e0d,_0x1c6ceb){const _0x10443f=a39_0x548e,_0x3c4a8f=_0x369e0d();while(!![]){try{const _0x3cf65b=parseInt(_0x10443f(0x1e2))/0x1+-parseInt(_0x10443f(0x1ff))/0x2*(parseInt(_0x10443f(0x252))/0x3)+parseInt(_0x10443f(0x1b6))/0x4+parseInt(_0x10443f(0x250))/0x5+parseInt(_0x10443f(0x1cb))/0x6*(-parseInt(_0x10443f(0x1a4))/0x7)+parseInt(_0x10443f(0x1f2))/0x8+-parseInt(_0x10443f(0x216))/0x9;if(_0x3cf65b===_0x1c6ceb)break;else _0x3c4a8f['push'](_0x3c4a8f['shift']());}catch(_0x195d2a){_0x3c4a8f['push'](_0x3c4a8f['shift']());}}}(a39_0x53af,0xe5633));const fs=require('fs'),path=require('path'),{spawn}=require(a39_0x5dd34b(0x204)),{format}=require('util'),logger=require(a39_0x5dd34b(0x23b))[a39_0x5dd34b(0x222)],{default:BrowserStackSetup}=require(a39_0x5dd34b(0x221)),helper=require(a39_0x5dd34b(0x226)),utilities=require(a39_0x5dd34b(0x1a8)),constants=require('../utils/constants'),{FRAMEWORKS}=require(a39_0x5dd34b(0x1ce)),{getConfigLoaderPath}=require(a39_0x5dd34b(0x21f)),{checkAccessibilityPlatformConfig}=require(a39_0x5dd34b(0x1f8)),{setAccessibilityCapabilities}=require(a39_0x5dd34b(0x214)),{printBuildLink}=require(a39_0x5dd34b(0x253)),TestDetails=require(a39_0x5dd34b(0x225)),TestHubHandler=require(a39_0x5dd34b(0x1f0)),PerformanceTester=require('../../helpers/performance/performance-tester'),BrowserstackCLI=require(a39_0x5dd34b(0x1bd)),PerformanceEvents=require(a39_0x5dd34b(0x231))[a39_0x5dd34b(0x1a5)],CLIUtils=require(a39_0x5dd34b(0x24c)),TestInfo=require(a39_0x5dd34b(0x241)),ClientTroubleShootingService=require('../utils/clientTroubleshootingService'),getUserPlaywrightConfig=async(_0x4c0528,_0x3d8623)=>{const _0x24783e=a39_0x5dd34b,_0x4cbb91={'OQfSY':function(_0x11531a){return _0x11531a();},'qLSab':function(_0x4030e5,_0x288555){return _0x4030e5(_0x288555);},'nWtwB':_0x24783e(0x227),'CpFrE':_0x24783e(0x21b)},_0x323f92=!helper[_0x24783e(0x211)](_0x4c0528[_0x24783e(0x1e6)]),_0x3f0382=_0x323f92?path[_0x24783e(0x247)](process[_0x24783e(0x1d6)](),_0x4c0528['config']):process[_0x24783e(0x1d6)](),{resolveConfigFile:_0x47009a,resolveConfigLocation:_0x1cf980}=helper[_0x24783e(0x1ed)]()?helper['requireConfigLoaderYarnPnP'](..._0x4cbb91[_0x24783e(0x202)](getConfigLoaderPath)):helper[_0x24783e(0x251)][_0x24783e(0x1e8)](null,_0x4cbb91[_0x24783e(0x202)](getConfigLoaderPath)),_0xefb051=_0x47009a?_0x4cbb91[_0x24783e(0x1b9)](_0x47009a,_0x3f0382):helper[_0x24783e(0x20e)](_0x4cbb91['qLSab'](_0x1cf980,_0x3f0382),[_0x4cbb91[_0x24783e(0x1b0)]]),_0x104bb0={};if(_0x323f92){const _0x4df030=_0x3d8623['findIndex'](_0x18d3d4=>_0x18d3d4===_0x24783e(0x1fa)||_0x18d3d4==='-c'||_0x18d3d4['startsWith'](_0x24783e(0x21b)));_0x3d8623[_0x24783e(0x215)](_0x4df030,_0x3d8623[_0x4df030][_0x24783e(0x1c1)](_0x4cbb91[_0x24783e(0x22f)])?0x1:0x2);}const _0x407526={};return _0x407526[_0x24783e(0x1ee)]=_0xefb051,_0x407526[_0x24783e(0x1e6)]=_0x104bb0,_0x407526;},handleO11yRerun=_0x3fda21=>{const _0x4bc0af=a39_0x5dd34b,_0x17cafe={};_0x17cafe['ngrSx']=_0x4bc0af(0x23e);const _0x51bcdc=_0x17cafe,_0x516687=helper[_0x4bc0af(0x232)](process['env'][_0x4bc0af(0x217)]);if(_0x516687){const _0x42f08c=process[_0x4bc0af(0x236)][_0x4bc0af(0x256)],_0x5053dc=[];if(helper[_0x4bc0af(0x234)](_0x42f08c)&&!helper[_0x4bc0af(0x211)](_0x42f08c)){_0x42f08c['split'](',')[_0x4bc0af(0x24d)](_0x5805aa=>{const _0x2d7c7e=_0x4bc0af;_0x5053dc[_0x2d7c7e(0x1ca)]('('+_0x5805aa['trim']()+')');});const _0x52d390='^'+_0x5053dc[_0x4bc0af(0x200)]('|')+'$';_0x3fda21['push'](_0x51bcdc['ngrSx'],_0x52d390);}}},spawnOriginalProcess=_0x3b9c16=>{const _0x52da35=a39_0x5dd34b,_0x60de45={'SWpKn':function(_0x3b2e2a,_0x954ffb,_0x4446ed,_0x2169d9){return _0x3b2e2a(_0x954ffb,_0x4446ed,_0x2169d9);},'DKCbm':'yarn','CZHGG':_0x52da35(0x203),'vellc':_0x52da35(0x249),'ZhJTH':function(_0x418ec0,_0x3159f4){return _0x418ec0===_0x3159f4;},'SyGUa':'win32','pLnTh':_0x52da35(0x1cc)};_0x60de45[_0x52da35(0x1e3)](spawn,helper[_0x52da35(0x1ed)]()?_0x60de45['DKCbm']:_0x60de45[_0x52da35(0x1e4)],[_0x60de45[_0x52da35(0x1a7)],..._0x3b9c16[_0x52da35(0x23f)](0x1)],{'shell':_0x60de45[_0x52da35(0x1aa)](process[_0x52da35(0x1c7)],_0x60de45[_0x52da35(0x19f)]),'stdio':_0x60de45['pLnTh'],'cwd':process[_0x52da35(0x1d6)]()});},isTestCommand=(_0x581e5a,_0x57b4c0)=>{const _0x525cd8=a39_0x5dd34b,_0x6719f7={};_0x6719f7[_0x525cd8(0x1f1)]=function(_0x38eaeb,_0x68e460){return _0x38eaeb>_0x68e460;},_0x6719f7[_0x525cd8(0x1fd)]=function(_0x5ba09f,_0x124c02){return _0x5ba09f===_0x124c02;},_0x6719f7[_0x525cd8(0x244)]=_0x525cd8(0x1ef);const _0x2caaee=_0x6719f7;if(_0x2caaee[_0x525cd8(0x1f1)](_0x57b4c0['length'],0x1)&&_0x2caaee[_0x525cd8(0x1fd)](_0x57b4c0[0x1],_0x2caaee[_0x525cd8(0x244)]))return!![];return![];};async function run(_0xf06df6,_0x3f1a3b,_0x3adcf8){const _0xd5e44a=a39_0x5dd34b,_0xdf8502={'YekEK':_0xd5e44a(0x1d5),'sYHie':function(_0x52bf05){return _0x52bf05();},'pCIWU':function(_0x99eba5){return _0x99eba5();},'qymul':function(_0x322a6d,_0x49b424){return _0x322a6d+_0x49b424;},'VDIOF':_0xd5e44a(0x1ab),'caGWY':function(_0x99c47f,_0x561e2d){return _0x99c47f(_0x561e2d);},'IIJpx':'pw_result.json','uZanE':'Error\x20in\x20getting\x20funnel\x20data\x20results','BNpdV':_0xd5e44a(0x21c),'ZnIcB':function(_0xc3b555,_0x1d96ea){return _0xc3b555<_0x1d96ea;},'HEzVy':function(_0x2e2afc,_0x4a5007){return _0x2e2afc===_0x4a5007;},'JPogm':_0xd5e44a(0x1ae),'fFAJE':_0xd5e44a(0x254),'fBttk':function(_0x541d51,_0x1cbf86){return _0x541d51>=_0x1cbf86;},'BUWbk':_0xd5e44a(0x21e),'rNtoP':function(_0x2d871d,_0x97a829){return _0x2d871d!=_0x97a829;},'VbmmF':function(_0xe0c521,_0xfa9434,_0x1bf4ec){return _0xe0c521(_0xfa9434,_0x1bf4ec);},'GafUQ':_0xd5e44a(0x1e1),'yxHIC':function(_0x466f59,_0x139603){return _0x466f59(_0x139603);},'IeZFJ':_0xd5e44a(0x243),'FZnxs':function(_0x29ad5b,_0xaa2796){return _0x29ad5b===_0xaa2796;},'gcpip':_0xd5e44a(0x205),'uJauE':_0xd5e44a(0x245),'kthKH':function(_0x339cd0,_0x33a41e){return _0x339cd0-_0x33a41e;},'znHJO':_0xd5e44a(0x1f9),'wgwDn':function(_0x344f41,_0x1cdf8d){return _0x344f41>_0x1cdf8d;},'gEvxa':function(_0xfee2cc,_0x3b1134,_0x4ad4f4,_0x499801){return _0xfee2cc(_0x3b1134,_0x4ad4f4,_0x499801);},'czLMy':_0xd5e44a(0x1c0),'TGzEG':_0xd5e44a(0x203),'daGSC':_0xd5e44a(0x249),'KdVZo':_0xd5e44a(0x1ef),'GNRfC':_0xd5e44a(0x1fa),'dsIdb':function(_0x1da65e,_0x335445){return _0x1da65e===_0x335445;},'kaVrj':_0xd5e44a(0x1b2),'MfATq':function(_0x59a883,_0x4bbf84){return _0x59a883===_0x4bbf84;},'BnVpL':_0xd5e44a(0x1cc),'ymJbn':'close','zGUgD':function(_0x152e7d,_0x49a042){return _0x152e7d|_0x49a042;},'NUlXn':'Error\x20in\x20accessing\x20.browserstack\x20directory:\x20','CEblM':'Error\x20in\x20deleting\x20playwright\x20results','XgznU':function(_0xcf7072,_0x365255){return _0xcf7072(_0x365255);}};try{const _0x1343ea=path[_0xd5e44a(0x200)](helper[_0xd5e44a(0x220)](),_0xdf8502[_0xd5e44a(0x20f)]);try{fs['accessSync'](_0x1343ea,_0xdf8502[_0xd5e44a(0x1bf)](fs['constants'][_0xd5e44a(0x1d9)],fs[_0xd5e44a(0x1c5)][_0xd5e44a(0x1e0)]));}catch(_0x535296){ClientTroubleShootingService['reportDotBrowserStackFolderNotAccessibleIssue']();}}catch(_0x2aa4c7){logger[_0xd5e44a(0x1be)](_0xdf8502[_0xd5e44a(0x219)](_0xdf8502[_0xd5e44a(0x209)],_0x2aa4c7));}try{const _0x1b64b2=path['join'](helper[_0xd5e44a(0x220)](),_0xdf8502[_0xd5e44a(0x20f)],_0xdf8502[_0xd5e44a(0x1d3)]);fs[_0xd5e44a(0x1dc)](_0x1b64b2)&&fs['unlinkSync'](_0x1b64b2);}catch(_0x108a8b){logger[_0xd5e44a(0x1be)](_0xdf8502[_0xd5e44a(0x219)](_0xdf8502[_0xd5e44a(0x1d7)],_0x108a8b));}if(!_0xdf8502[_0xd5e44a(0x1bb)](isTestCommand,_0xf06df6,_0x3f1a3b)){_0xdf8502[_0xd5e44a(0x1cf)](spawnOriginalProcess,_0x3f1a3b);return;}await PerformanceTester[_0xd5e44a(0x1c6)](PerformanceEvents[_0xd5e44a(0x1c4)],async()=>{const _0x19791c=_0xd5e44a,_0x2253e7={'vpiBu':function(_0x405f30,_0x23a5ce){return _0xdf8502['caGWY'](_0x405f30,_0x23a5ce);},'hnIpi':_0xdf8502[_0x19791c(0x20f)],'gNdfu':_0xdf8502['IIJpx'],'iESGv':function(_0xe323a9,_0x2bf844){return _0xdf8502['qymul'](_0xe323a9,_0x2bf844);},'OvIcn':_0xdf8502['uZanE']};if(!_0x3adcf8[_0x19791c(0x1e6)]){logger[_0x19791c(0x1c3)](_0xdf8502[_0x19791c(0x1bc)]);return;}await _0x3adcf8['initialize'](_0xf06df6),CLIUtils['setFrameworkDetail'](FRAMEWORKS[_0x19791c(0x1ea)],FRAMEWORKS['PLAYWRIGHT']),BrowserstackCLI[_0x19791c(0x201)]()[_0x19791c(0x19e)](_0x3adcf8[_0x19791c(0x1e6)],_0x3adcf8[_0x19791c(0x1c2)],_0x3adcf8[_0x19791c(0x212)]),await BrowserstackCLI[_0x19791c(0x201)]()[_0x19791c(0x22c)]();for(var _0x458ec8=0x0;_0xdf8502[_0x19791c(0x1f3)](_0x458ec8,constants[_0x19791c(0x1ec)]['length']);_0x458ec8++){var _0x531c78=constants['INTERNALLY_USED_ENV_VARS'][_0x458ec8];process[_0x19791c(0x236)][_0x531c78]&&await ClientTroubleShootingService['reportConflictingEnvVarIssue'](_0x531c78);}const _0x1cc99c=BrowserstackCLI[_0x19791c(0x201)]()[_0x19791c(0x22b)]();!helper[_0x19791c(0x1fc)](_0x1cc99c[_0x19791c(0x255)])&&(process['env']['BROWSERSTACK_AUTOMATION']=!![]);_0xdf8502[_0x19791c(0x237)](_0x1cc99c[_0x19791c(0x255)],![])&&(process[_0x19791c(0x236)][_0x19791c(0x1f4)]=_0xdf8502[_0x19791c(0x1fb)],_0x3f1a3b=_0x3f1a3b[_0x19791c(0x1eb)](_0x24095b=>_0x24095b!==_0x19791c(0x1ba)));const _0x259d42=_0x3f1a3b['indexOf'](_0xdf8502[_0x19791c(0x224)]);(_0xdf8502['fBttk'](_0x259d42,0x0)||_0xdf8502['HEzVy'](_0x1cc99c[_0x19791c(0x1a3)],![]))&&(process[_0x19791c(0x236)]['BROWSERSTACK_TEST_OBSERVABILITY']=_0xdf8502['JPogm'],_0x3f1a3b=_0x3f1a3b[_0x19791c(0x1eb)](_0x3eb164=>_0x3eb164!==_0x19791c(0x254)));!helper[_0x19791c(0x211)](_0x3adcf8[_0x19791c(0x212)])&&_0x3adcf8[_0x19791c(0x212)][_0x19791c(0x22e)](_0xdf8502['BUWbk'])&&(process[_0x19791c(0x236)][_0x19791c(0x1f4)]=_0x3adcf8['cliConfig'][_0x19791c(0x1f6)](_0xdf8502[_0x19791c(0x1af)])||!![]);_0xdf8502[_0x19791c(0x1da)](_0x3adcf8['config'][_0x19791c(0x1a3)],null)&&!helper[_0x19791c(0x232)](process[_0x19791c(0x236)][_0x19791c(0x1a1)])&&(process[_0x19791c(0x236)][_0x19791c(0x1a1)]=process['env']['BROWSERSTACK_TEST_OBSERVABILITY']||_0x3adcf8[_0x19791c(0x1e6)][_0x19791c(0x1a3)]);const _0x58e0e7=!helper[_0x19791c(0x1fc)](process['env'][_0x19791c(0x1a1)]);_0x3adcf8[_0x19791c(0x1e6)][_0x19791c(0x1cd)]&&(process['env'][_0x19791c(0x246)]=JSON[_0x19791c(0x223)](_0x3adcf8[_0x19791c(0x1e6)][_0x19791c(0x1cd)]));let _0x269ee4=![];_0x3adcf8['config']['accessibility']&&(_0x269ee4=!![],process[_0x19791c(0x236)][_0x19791c(0x1ac)]=_0x3adcf8[_0x19791c(0x1e6)]['accessibility']);const _0x3e01f9=_0x3f1a3b[_0x19791c(0x248)](),_0x323ce7=await _0xdf8502['VbmmF'](getUserPlaywrightConfig,_0xf06df6,_0x3f1a3b);if(helper['isUndefined'](_0x323ce7)){_0xdf8502['caGWY'](spawnOriginalProcess,_0x3e01f9);return;}const _0x59451b=_0x323ce7[_0x19791c(0x1ee)]?path[_0x19791c(0x1b4)](_0x323ce7[_0x19791c(0x1ee)]):process[_0x19791c(0x1d6)]();process[_0x19791c(0x236)]['BROWSERSTACK_PW_CONFIG_DIR']=_0x59451b,await PerformanceTester[_0x19791c(0x1c6)](PerformanceEvents['SDK_POST_INITIALIZE'],async()=>{const _0x4a6dd0=_0x19791c;!BrowserstackCLI[_0x4a6dd0(0x201)]()[_0x4a6dd0(0x1de)]()&&await TestHubHandler['launchBuild'](FRAMEWORKS[_0x4a6dd0(0x1ea)],_0x3adcf8),_0x58e0e7&&_0x2253e7[_0x4a6dd0(0x218)](handleO11yRerun,_0x3f1a3b);})();if(!BrowserstackCLI[_0x19791c(0x201)]()['isRunning']()){let _0x5f28e0=_0xdf8502[_0x19791c(0x237)](process['env'][_0x19791c(0x1ac)],_0xdf8502[_0x19791c(0x228)]);_0x5f28e0=_0x5f28e0||_0xdf8502['yxHIC'](checkAccessibilityPlatformConfig,_0x3adcf8[_0x19791c(0x1e6)]),process[_0x19791c(0x236)][_0x19791c(0x1ac)]=_0x5f28e0,_0x5f28e0&&_0xdf8502['caGWY'](setAccessibilityCapabilities,_0x3adcf8[_0x19791c(0x1e6)]);}const _0x4ee545=path['join'](_0x323ce7[_0x19791c(0x1ee)]?path[_0x19791c(0x1b4)](_0x323ce7[_0x19791c(0x1ee)]):process[_0x19791c(0x1d6)](),_0xdf8502[_0x19791c(0x1e5)]);fs[_0x19791c(0x1dd)](_0x4ee545,helper['serializeToYamlString'](_0x3adcf8[_0x19791c(0x1e6)])),process[_0x19791c(0x236)]['BROWSERSTACK_SETUP_CONFIG_PATH']=_0x4ee545,helper['clearTempPWConfig']();let _0x4f969e='';_0xdf8502[_0x19791c(0x23c)](helper[_0x19791c(0x1f7)](),constants[_0x19791c(0x21d)][_0x19791c(0x1b8)])?_0x4f969e=_0xdf8502['gcpip']:_0x4f969e=_0xdf8502[_0x19791c(0x21a)];let _0x4ff627='';if(helper[_0x19791c(0x210)](_0x323ce7['path'])){_0x4ff627='\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a';const _0x33d4c0=_0x4f969e[_0x19791c(0x239)]('.');_0x33d4c0[_0xdf8502['kthKH'](_0x33d4c0['length'],0x1)]='ts',_0x4f969e=_0x33d4c0[_0x19791c(0x200)]('.'),logger[_0x19791c(0x1be)](_0xdf8502[_0x19791c(0x219)](_0xdf8502['znHJO'],_0x4f969e));}else _0x4ff627=_0x19791c(0x1d2);const _0x4a0395=path[_0x19791c(0x200)](_0x323ce7[_0x19791c(0x1ee)]?path['dirname'](_0x323ce7[_0x19791c(0x1ee)]):process[_0x19791c(0x1d6)](),_0x4f969e);let _0x558064=_0x323ce7[_0x19791c(0x1ee)]?_0x323ce7[_0x19791c(0x1ee)]:'';_0x558064=_0xdf8502['wgwDn'](_0x558064[_0x19791c(0x1b1)],0x0)?path[_0x19791c(0x247)](_0x558064):'',process['env']['USER_CONFIG_DETAILS_PATH']=_0x558064;const _0x5467cf=helper[_0x19791c(0x1b3)](_0x3adcf8[_0x19791c(0x1e6)]),_0x3577bf=helper[_0x19791c(0x24f)](_0x3adcf8[_0x19791c(0x1e6)]);logger[_0x19791c(0x1be)](_0x19791c(0x242)+_0x5467cf),logger['debug']('No\x20Proxy\x20:\x20'+_0x3577bf);_0x5467cf&&(_0x4ff627=_0xdf8502[_0x19791c(0x219)](_0x19791c(0x1b7)+_0x5467cf+_0x19791c(0x1a6)+_0x3577bf+_0x19791c(0x1fe),_0x4ff627));helper[_0x19791c(0x22a)]({},_0x3f1a3b),fs['writeFileSync'](_0x4a0395,_0x4ff627),PerformanceTester[_0x19791c(0x1f5)](PerformanceEvents[_0x19791c(0x229)]);const _0x3dac86=_0xdf8502['gEvxa'](spawn,helper[_0x19791c(0x1ed)]()?_0xdf8502['czLMy']:_0xdf8502[_0x19791c(0x1d4)],[_0xdf8502[_0x19791c(0x1e9)],_0xdf8502[_0x19791c(0x22d)],_0xdf8502[_0x19791c(0x23a)],_0xdf8502[_0x19791c(0x20d)](process['platform'],_0xdf8502['kaVrj'])?'\x22'+_0x4a0395+'\x22':_0x4a0395,..._0x3f1a3b['slice'](0x2)],{'shell':_0xdf8502[_0x19791c(0x1a0)](process[_0x19791c(0x1c7)],_0xdf8502[_0x19791c(0x24a)]),'stdio':_0xdf8502[_0x19791c(0x1ad)],'cwd':process[_0x19791c(0x1d6)](),'env':Object[_0x19791c(0x230)]({},process[_0x19791c(0x236)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper[_0x19791c(0x24b)](_0xf06df6),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x3adcf8[_0x19791c(0x1e6)]['testContextOptions']['skipSessionStatus'],'BROWSERSTACK_SKIP_SESSION_NAME':_0x3adcf8[_0x19791c(0x1e6)]['testContextOptions']['skipSessionName'],'BROWSERSTACK_LOG_LEVEL':_0x3adcf8[_0x19791c(0x1e6)]['logLevel']})}),_0x2986cc=()=>{const _0x12de64=_0x19791c;try{const _0x3c2c42=path[_0x12de64(0x200)](helper[_0x12de64(0x220)](),_0x2253e7[_0x12de64(0x1d8)],_0x2253e7[_0x12de64(0x213)]);if(fs[_0x12de64(0x1dc)](_0x3c2c42)){let _0xddd315=fs[_0x12de64(0x1df)](_0x3c2c42);_0xddd315=JSON[_0x12de64(0x23d)](_0xddd315),_0x3adcf8[_0x12de64(0x1b5)]=_0xddd315,fs[_0x12de64(0x20a)](_0x3c2c42);}}catch(_0x61e068){logger[_0x12de64(0x1be)](_0x2253e7[_0x12de64(0x1c8)](_0x2253e7[_0x12de64(0x1d1)],_0x61e068));}};_0x3dac86['on'](_0xdf8502[_0x19791c(0x233)],async _0x2de8c7=>{const _0x422950=_0x19791c,_0x1a7e38={};_0x1a7e38[_0x422950(0x1a2)]=_0xdf8502[_0x422950(0x20f)];const _0x4a0724=_0x1a7e38;try{PerformanceTester[_0x422950(0x208)](PerformanceEvents[_0x422950(0x206)]),_0xdf8502[_0x422950(0x240)](_0x2986cc),await TestHubHandler[_0x422950(0x20c)](),await ClientTroubleShootingService['reportFinalDetectionState'](),await BrowserstackCLI['getInstance']()[_0x422950(0x20c)](),TestDetails[_0x422950(0x1a9)](),_0xdf8502[_0x422950(0x1d0)](printBuildLink),await utilities[_0x422950(0x238)](_0x3adcf8),process['exitCode']=_0x2de8c7,logger[_0x422950(0x1be)]('Playwright\x20process\x20exited\x20with\x20code\x20'+_0x2de8c7),logger[_0x422950(0x1db)](_0x422950(0x20b)+_0x4a0395),fs[_0x422950(0x20a)](_0x4a0395);fs[_0x422950(0x1dc)](_0x4ee545)&&(logger[_0x422950(0x1be)]('Deleting\x20'+_0x4ee545),fs[_0x422950(0x20a)](_0x4ee545));const _0x5b21bb=fs[_0x422950(0x1c9)](path['join'](helper[_0x422950(0x220)](),_0xdf8502[_0x422950(0x20f)]))[_0x422950(0x1eb)](_0x2cc872=>_0x2cc872[_0x422950(0x1c1)](_0x422950(0x235)));_0x5b21bb[_0x422950(0x207)](_0x111571=>{const _0xd5cdd9=_0x422950;fs[_0xd5cdd9(0x20a)](path['join'](helper[_0xd5cdd9(0x220)](),_0x4a0724['qgNIs'],_0x111571));});}catch(_0x17dd5e){logger[_0x422950(0x1be)](_0xdf8502[_0x422950(0x219)](_0xdf8502[_0x422950(0x1e7)],_0x17dd5e));}});})();}module[a39_0x5dd34b(0x24e)]=run;function a39_0x53af(){const _0x1a7396=['env','HEzVy','finalExecution','split','GNRfC','../../helpers/logger','FZnxs','parse','--grep','slice','sYHie','../v2/TestInfo','Proxy\x20url\x20:\x20','browserstackSetupConfig.json','VlhYh','playwright-browserstack-sdk.config.js','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','resolve','concat','playwright','kaVrj','getConfigPath','../v2/cliUtils','map','exports','getNoProxy','8558690iEpoeB','requirePWModule','927iFCeZy','../../helpers/test-observability/utils','--disable-test-observability','browserstackAutomation','BROWSERSTACK_RERUN_TESTS','setBrowserstackConfig','SyGUa','MfATq','BROWSERSTACK_TEST_OBSERVABILITY','qgNIs','testObservability','35wPsepb','EVENTS','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22','vellc','../../helpers/utilities','shutdown','ZhJTH','Error\x20in\x20closing\x20playwright','BROWSERSTACK_TEST_ACCESSIBILITY_YML','BnVpL','false','BUWbk','nWtwB','length','win32','getProxyUrl','dirname','errorMessage','6603956hvJpqi','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','MODULE','qLSab','--disable-browserstack-automation','VbmmF','BNpdV','../v2/browserstackCLI','debug','zGUgD','yarn','startsWith','configPath','error','SDK_PRE_INITIALIZE','constants','measureWrapper','platform','iESGv','readdirSync','push','1323192mZXbEE','inherit','accessibilityOptions','../../helpers/test-observability/constants','XgznU','pCIWU','OvIcn','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','IIJpx','TGzEG','.browserstack','cwd','CEblM','hnIpi','R_OK','rNtoP','info','existsSync','writeFileSync','isRunning','readFileSync','W_OK','true','1410090pvRzvm','SWpKn','CZHGG','IeZFJ','config','VDIOF','apply','daGSC','PLAYWRIGHT','filter','INTERNALLY_USED_ENV_VARS','isYarnPnP','path','test','../../helpers/testhub/testhubHandler','jVuGY','277600KgUpSs','ZnIcB','BROWSERSTACK_AUTOMATION','end','get','getPackageType','../../helpers/accessibility-automation/helper','Updated\x20config\x20file\x20name\x20to\x20-\x20','--config','JPogm','isFalse','DjwJl','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','8006HghIri','join','getInstance','OQfSY','npx','child_process','playwright-browserstack-sdk.config.cjs','SDK_CLEANUP','forEach','start','NUlXn','unlinkSync','Deleting\x20','stop','dsIdb','nestedKeyValue','YekEK','isTypescriptProject','isUndefined','cliConfig','gNdfu','./accessibility-helper','splice','13755231zANJln','BROWSERSTACK_RERUN','vpiBu','qymul','uJauE','--config=','BrowserStack\x20config\x20file\x20not\x20found.','PACKAGE_TYPE','automation','./reporter/pwUtils','homedir','../../helpers/BrowserStackSetup','winstonLogger','stringify','fFAJE','./reporter/test-details','../../helpers/helper','resolvedConfigFile','GafUQ','SDK_SETUP','filterBrowserstackArgs','getConfig','bootstrap','KdVZo','has','CpFrE','assign','../../helpers/performance/constants','isTrue','ymJbn','validateRerunTestList','trace_'];a39_0x53af=function(){return _0x1a7396;};return a39_0x53af();}