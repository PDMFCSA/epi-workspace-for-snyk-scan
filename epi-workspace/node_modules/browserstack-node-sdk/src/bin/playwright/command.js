#!/usr/bin/env node
'use strict';const a39_0x21230a=a39_0x35c3;function a39_0x35c3(_0x41f73f,_0x15d06e){const _0x3b7d79=a39_0x3b7d();return a39_0x35c3=function(_0x35c370,_0x45cf1d){_0x35c370=_0x35c370-0xfb;let _0xa86bf=_0x3b7d79[_0x35c370];return _0xa86bf;},a39_0x35c3(_0x41f73f,_0x15d06e);}function a39_0x3b7d(){const _0x2e8a8d=['writeFileSync','true','homedir','win32','tANEw','shutdown','224810ErSMYI','../../helpers/accessibility-automation/helper','nestedKeyValue','2717935Npadcc','requirePWModule','PLAYWRIGHT','isRunning','accessibility','No\x20Proxy\x20:\x20','../../helpers/BrowserStackSetup','yarn','Proxy\x20url\x20:\x20','validateRerunTestList','forEach','NsAYJ','bUcnc','INTERNALLY_USED_ENV_VARS','xCTgY','IjgRa','PXNhM','debug','piHJv','SQeLz','BROWSERSTACK_PW_CONFIG_DIR','skipSessionName','reportDotBrowserStackFolderNotAccessibleIssue','../v2/cliUtils','ymurY','GuZQJ','VjlGI','clearTempPWConfig','DSdNX','FkyiM','../../helpers/helper','existsSync','xWmji','config','oilfz','wgfmO','skipSessionStatus','--config','Rgvoq','416000CwQTzU','automation','sTJVj','176kRUkRX','svNyM','Error\x20in\x20getting\x20funnel\x20data\x20results','slice','trim','SDK_POST_INITIALIZE','BROWSERSTACK_AUTOMATION','accessibilityOptions','viNUe','filter','LfnVU','BrowserStack\x20config\x20file\x20not\x20found.','Error\x20in\x20closing\x20playwright','../v2/TestInfo','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','splice','LKEJN','inherit','MCnAy','2754639ufxsIA','map','rTUOu','false','nuAVH','SDK_CLEANUP','./reporter/test-details','startsWith','BROWSERSTACK_TEST_ACCESSIBILITY_YML','isFalse','NSahA','vWaCO','close','path','env','info','ykrLg','jyUwY','GrQqd','isYarnPnP','10954pxbRWa','../utils/constants','winstonLogger','findIndex','start','apply','uqIVh','isUndefined','SgtbZ','bFiJa','platform','haUyf','trace_','Error\x20in\x20accessing\x20.browserstack\x20directory:\x20','BROWSERSTACK_SETUP_CONFIG_PATH','GulrQ','playwright-browserstack-sdk.config.js','sOvSi','../../helpers/test-observability/utils','oUttJ','sntvH','.browserstack','split','testObservability','../../helpers/performance/constants','filterBrowserstackArgs','--disable-test-observability','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22','PACKAGE_TYPE','../../helpers/performance/performance-tester','Playwright\x20process\x20exited\x20with\x20code\x20','cwd','cliConfig','push','test','constants','indexOf','measureWrapper','789kIkZNL','8JLeexN','join','R_OK','resolvedConfigFile','resolve','7945700DnVQxM','jsjul','logLevel','--grep','initialize','BROWSERSTACK_RERUN_TESTS','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','DtUCh','getProxyUrl','XVheU','exitCode','reportConflictingEnvVarIssue','concat','SDK_SETUP','setFrameworkDetail','SDK_PRE_INITIALIZE','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','pw_result.json','W_OK','Deleting\x20','--disable-browserstack-automation','../../helpers/utilities','nziBr','../../helpers/testhub/testhubHandler','npx','length','NExsx','stop','BROWSERSTACK_TEST_OBSERVABILITY','playwright','BROWSERSTACK_RERUN','24KwEUIz','Error\x20in\x20deleting\x20playwright\x20results','stringify','abwcB','readdirSync','JmNlw','unlinkSync','MmYGA','testContextOptions','mLroJ','QUAUD','../v2/browserstackCLI','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','browserstackAutomation','SfrEW','wSwNy','qTbih','EVENTS','configPath','isTrue','4948440ZqnJCz','--config=','end','reportFinalDetectionState','MXxGG','readFileSync','getPackageType','WltcC','ENeOC','browserstackSetupConfig.json','launchBuild','getInstance','setBrowserstackConfig','errorMessage'];a39_0x3b7d=function(){return _0x2e8a8d;};return a39_0x3b7d();}(function(_0x29af0a,_0x2866e2){const _0x49d98c=a39_0x35c3,_0x387687=_0x29af0a();while(!![]){try{const _0x52491f=parseInt(_0x49d98c(0x19b))/0x1+-parseInt(_0x49d98c(0x128))/0x2*(-parseInt(_0x49d98c(0x14e))/0x3)+-parseInt(_0x49d98c(0x14f))/0x4*(-parseInt(_0x49d98c(0x19e))/0x5)+parseInt(_0x49d98c(0x187))/0x6+-parseInt(_0x49d98c(0x154))/0x7+-parseInt(_0x49d98c(0x173))/0x8*(parseInt(_0x49d98c(0x114))/0x9)+-parseInt(_0x49d98c(0xfe))/0xa*(parseInt(_0x49d98c(0x101))/0xb);if(_0x52491f===_0x2866e2)break;else _0x387687['push'](_0x387687['shift']());}catch(_0x59e7c7){_0x387687['push'](_0x387687['shift']());}}}(a39_0x3b7d,0xd1896));const fs=require('fs'),path=require(a39_0x21230a(0x121)),{spawn}=require('child_process'),{format}=require('util'),logger=require('../../helpers/logger')[a39_0x21230a(0x12a)],{default:BrowserStackSetup}=require(a39_0x21230a(0x1a4)),helper=require(a39_0x21230a(0x1bc)),utilities=require(a39_0x21230a(0x169)),constants=require(a39_0x21230a(0x129)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),{getConfigLoaderPath}=require('./reporter/pwUtils'),{checkAccessibilityPlatformConfig}=require(a39_0x21230a(0x19c)),{setAccessibilityCapabilities}=require('./accessibility-helper'),{printBuildLink}=require(a39_0x21230a(0x13a)),TestDetails=require(a39_0x21230a(0x11a)),TestHubHandler=require(a39_0x21230a(0x16b)),PerformanceTester=require(a39_0x21230a(0x145)),BrowserstackCLI=require(a39_0x21230a(0x17e)),PerformanceEvents=require(a39_0x21230a(0x140))[a39_0x21230a(0x184)],CLIUtils=require(a39_0x21230a(0x1b5)),TestInfo=require(a39_0x21230a(0x10e)),ClientTroubleShootingService=require('../utils/clientTroubleshootingService'),getUserPlaywrightConfig=async(_0x2d216f,_0x16c635)=>{const _0x2485ba=a39_0x21230a,_0x104ef6={'sntvH':function(_0x16c88c){return _0x16c88c();},'mLroJ':function(_0x2d3778,_0x28a896){return _0x2d3778(_0x28a896);},'NExsx':_0x2485ba(0x152),'SgtbZ':_0x2485ba(0x188)},_0xb4c4f2=!helper['isUndefined'](_0x2d216f['config']),_0xa8dc4b=_0xb4c4f2?path['resolve'](process['cwd'](),_0x2d216f['config']):process[_0x2485ba(0x147)](),{resolveConfigFile:_0x28ce63,resolveConfigLocation:_0x52298d}=helper[_0x2485ba(0x127)]()?helper['requireConfigLoaderYarnPnP'](..._0x104ef6[_0x2485ba(0x13c)](getConfigLoaderPath)):helper[_0x2485ba(0x19f)][_0x2485ba(0x12d)](null,_0x104ef6[_0x2485ba(0x13c)](getConfigLoaderPath)),_0xbced81=_0x28ce63?_0x104ef6[_0x2485ba(0x17c)](_0x28ce63,_0xa8dc4b):helper[_0x2485ba(0x19d)](_0x104ef6[_0x2485ba(0x17c)](_0x52298d,_0xa8dc4b),[_0x104ef6[_0x2485ba(0x16e)]]),_0x3d6ed6={};if(_0xb4c4f2){const _0x69c510=_0x16c635[_0x2485ba(0x12b)](_0x590a8a=>_0x590a8a===_0x2485ba(0xfc)||_0x590a8a==='-c'||_0x590a8a[_0x2485ba(0x11b)](_0x2485ba(0x188)));_0x16c635[_0x2485ba(0x110)](_0x69c510,_0x16c635[_0x69c510]['startsWith'](_0x104ef6[_0x2485ba(0x130)])?0x1:0x2);}const _0x406d82={};return _0x406d82['path']=_0xbced81,_0x406d82[_0x2485ba(0x1bf)]=_0x3d6ed6,_0x406d82;},handleO11yRerun=_0x490edd=>{const _0x2fe85b=a39_0x21230a,_0x1fa7eb={};_0x1fa7eb['tANEw']=_0x2fe85b(0x157);const _0x94c52c=_0x1fa7eb,_0x29a005=helper[_0x2fe85b(0x186)](process[_0x2fe85b(0x122)][_0x2fe85b(0x172)]);if(_0x29a005){const _0x24d470=process[_0x2fe85b(0x122)][_0x2fe85b(0x159)],_0x4d703d=[];if(helper[_0x2fe85b(0x1a7)](_0x24d470)&&!helper[_0x2fe85b(0x12f)](_0x24d470)){_0x24d470[_0x2fe85b(0x13e)](',')[_0x2fe85b(0x115)](_0x115bbb=>{const _0x4d93d1=_0x2fe85b;_0x4d703d['push']('('+_0x115bbb[_0x4d93d1(0x105)]()+')');});const _0x1f3bb8='^'+_0x4d703d['join']('|')+'$';_0x490edd[_0x2fe85b(0x149)](_0x94c52c[_0x2fe85b(0x199)],_0x1f3bb8);}}},spawnOriginalProcess=_0x260640=>{const _0x56d852=a39_0x21230a,_0xa5c412={'ygKoT':function(_0x1c0fa0,_0x915c5a,_0x2a01d9,_0x2a47b8){return _0x1c0fa0(_0x915c5a,_0x2a01d9,_0x2a47b8);},'viNUe':'yarn','kEPFz':_0x56d852(0x16c),'NsAYJ':_0x56d852(0x171),'wgfmO':function(_0x13ed3c,_0x208bf4){return _0x13ed3c===_0x208bf4;},'JmNlw':'win32','MmYGA':_0x56d852(0x112)};_0xa5c412['ygKoT'](spawn,helper[_0x56d852(0x127)]()?_0xa5c412[_0x56d852(0x109)]:_0xa5c412['kEPFz'],[_0xa5c412[_0x56d852(0x1a9)],..._0x260640[_0x56d852(0x104)](0x1)],{'shell':_0xa5c412[_0x56d852(0x1c1)](process[_0x56d852(0x132)],_0xa5c412[_0x56d852(0x178)]),'stdio':_0xa5c412[_0x56d852(0x17a)],'cwd':process[_0x56d852(0x147)]()});},isTestCommand=(_0x5ea5ad,_0xc31979)=>{const _0x258e57=a39_0x21230a,_0x417ec4={};_0x417ec4[_0x258e57(0x13b)]=function(_0x4f504b,_0x2a0016){return _0x4f504b>_0x2a0016;},_0x417ec4[_0x258e57(0x113)]=function(_0x65017c,_0x18c59c){return _0x65017c===_0x18c59c;},_0x417ec4['SQeLz']=_0x258e57(0x14a);const _0x1d6ac0=_0x417ec4;if(_0x1d6ac0[_0x258e57(0x13b)](_0xc31979[_0x258e57(0x16d)],0x1)&&_0x1d6ac0[_0x258e57(0x113)](_0xc31979[0x1],_0x1d6ac0[_0x258e57(0x1b1)]))return!![];return![];};async function run(_0x36a5e1,_0x291b30,_0xde8b52){const _0x19163e=a39_0x21230a,_0x4a4c03={'VjlGI':function(_0x3f75f3,_0x288054){return _0x3f75f3(_0x288054);},'ymurY':function(_0x59aae3){return _0x59aae3();},'TUjqx':function(_0x189433){return _0x189433();},'sTJVj':_0x19163e(0x13d),'jsjul':function(_0xdb1835,_0xe7825d){return _0xdb1835+_0xe7825d;},'IyUbF':_0x19163e(0x10d),'QUAUD':_0x19163e(0x165),'xWmji':function(_0x4060eb,_0x3a3de4){return _0x4060eb+_0x3a3de4;},'DtUCh':_0x19163e(0x103),'piHJv':_0x19163e(0x10c),'HGBdP':function(_0x54e268,_0x2fa04e){return _0x54e268<_0x2fa04e;},'WltcC':function(_0x2f1659,_0x117fb1){return _0x2f1659===_0x117fb1;},'sOvSi':_0x19163e(0x117),'xCTgY':_0x19163e(0x142),'WXLMJ':function(_0x1dde37,_0x48cfbb){return _0x1dde37>=_0x48cfbb;},'nziBr':function(_0x534814,_0x2212ba){return _0x534814===_0x2212ba;},'Rgvoq':_0x19163e(0xff),'oilfz':function(_0x34eca7,_0x2ab9f4){return _0x34eca7!=_0x2ab9f4;},'GulrQ':function(_0x5efc5d,_0x2e831f,_0x135cf3){return _0x5efc5d(_0x2e831f,_0x135cf3);},'qTbih':function(_0x20bf46,_0x16b629){return _0x20bf46===_0x16b629;},'ykrLg':_0x19163e(0x196),'SfrEW':function(_0x613c70,_0x4cc664){return _0x613c70(_0x4cc664);},'MXxGG':function(_0xdeb875,_0x452fa6){return _0xdeb875(_0x452fa6);},'GrQqd':_0x19163e(0x190),'NSahA':function(_0x4b6d23,_0x499db9){return _0x4b6d23===_0x499db9;},'nuAVH':'playwright-browserstack-sdk.config.cjs','THILB':_0x19163e(0x138),'svNyM':function(_0x54ed2c,_0x3ff372){return _0x54ed2c-_0x3ff372;},'mJENE':'Updated\x20config\x20file\x20name\x20to\x20-\x20','haUyf':function(_0x341047,_0x23c51b){return _0x341047>_0x23c51b;},'wSwNy':function(_0x143921,_0x32a06b){return _0x143921+_0x32a06b;},'vWaCO':function(_0x5881c2,_0x2d133a,_0x24f848,_0x1cea9c){return _0x5881c2(_0x2d133a,_0x24f848,_0x1cea9c);},'ENeOC':_0x19163e(0x1a5),'FkyiM':_0x19163e(0x16c),'XVheU':'playwright','rTUOu':_0x19163e(0x14a),'LKEJN':_0x19163e(0xfc),'bUcnc':_0x19163e(0x198),'uqIVh':_0x19163e(0x112),'LfnVU':_0x19163e(0x120),'gxPFx':function(_0x50e7ce,_0x24c84a){return _0x50e7ce|_0x24c84a;},'GuZQJ':function(_0x358515,_0x31a74b){return _0x358515+_0x31a74b;},'jyUwY':_0x19163e(0x135),'abwcB':_0x19163e(0x174),'bFiJa':function(_0x2a3ef8,_0x4e5d36,_0x3dfd13){return _0x2a3ef8(_0x4e5d36,_0x3dfd13);}};try{const _0x262533=path['join'](helper[_0x19163e(0x197)](),_0x4a4c03[_0x19163e(0x100)]);try{fs['accessSync'](_0x262533,_0x4a4c03['gxPFx'](fs['constants'][_0x19163e(0x151)],fs[_0x19163e(0x14b)][_0x19163e(0x166)]));}catch(_0x7762f2){ClientTroubleShootingService[_0x19163e(0x1b4)]();}}catch(_0x101c44){logger['debug'](_0x4a4c03[_0x19163e(0x1b7)](_0x4a4c03[_0x19163e(0x125)],_0x101c44));}try{const _0x15e1d4=path[_0x19163e(0x150)](helper[_0x19163e(0x197)](),_0x4a4c03['sTJVj'],_0x4a4c03[_0x19163e(0x17d)]);fs[_0x19163e(0x1bd)](_0x15e1d4)&&fs[_0x19163e(0x179)](_0x15e1d4);}catch(_0x229c86){logger['debug'](_0x4a4c03[_0x19163e(0x155)](_0x4a4c03[_0x19163e(0x176)],_0x229c86));}if(!_0x4a4c03[_0x19163e(0x131)](isTestCommand,_0x36a5e1,_0x291b30)){_0x4a4c03[_0x19163e(0x18b)](spawnOriginalProcess,_0x291b30);return;}await PerformanceTester[_0x19163e(0x14d)](PerformanceEvents[_0x19163e(0x163)],async()=>{const _0x3e8613=_0x19163e,_0x14bc31={'DSdNX':_0x4a4c03[_0x3e8613(0x100)],'xnqEr':_0x4a4c03['QUAUD'],'IjgRa':function(_0x13bd4e,_0x17d886){const _0xfc2fc7=_0x3e8613;return _0x4a4c03[_0xfc2fc7(0x1be)](_0x13bd4e,_0x17d886);},'PXNhM':_0x4a4c03[_0x3e8613(0x15b)]};if(!_0xde8b52[_0x3e8613(0x1bf)]){logger['error'](_0x4a4c03[_0x3e8613(0x1b0)]);return;}await _0xde8b52[_0x3e8613(0x158)](_0x36a5e1),CLIUtils[_0x3e8613(0x162)](FRAMEWORKS[_0x3e8613(0x1a0)],FRAMEWORKS[_0x3e8613(0x1a0)]),BrowserstackCLI['getInstance']()[_0x3e8613(0x193)](_0xde8b52[_0x3e8613(0x1bf)],_0xde8b52[_0x3e8613(0x185)],_0xde8b52[_0x3e8613(0x148)]),await BrowserstackCLI['getInstance']()['bootstrap']();for(var _0x3b9411=0x0;_0x4a4c03['HGBdP'](_0x3b9411,constants[_0x3e8613(0x1ab)]['length']);_0x3b9411++){var _0x28b757=constants[_0x3e8613(0x1ab)][_0x3b9411];process[_0x3e8613(0x122)][_0x28b757]&&await ClientTroubleShootingService[_0x3e8613(0x15f)](_0x28b757);}const _0x75cde1=BrowserstackCLI[_0x3e8613(0x192)]()['getConfig']();!helper['isFalse'](_0x75cde1[_0x3e8613(0x180)])&&(process['env'][_0x3e8613(0x107)]=!![]);_0x4a4c03[_0x3e8613(0x18e)](_0x75cde1[_0x3e8613(0x180)],![])&&(process[_0x3e8613(0x122)][_0x3e8613(0x107)]=_0x4a4c03[_0x3e8613(0x139)],_0x291b30=_0x291b30[_0x3e8613(0x10a)](_0x420f87=>_0x420f87!==_0x3e8613(0x168)));const _0x19b926=_0x291b30[_0x3e8613(0x14c)](_0x4a4c03[_0x3e8613(0x1ac)]);(_0x4a4c03['WXLMJ'](_0x19b926,0x0)||_0x4a4c03[_0x3e8613(0x16a)](_0x75cde1['testObservability'],![]))&&(process[_0x3e8613(0x122)][_0x3e8613(0x170)]=_0x4a4c03[_0x3e8613(0x139)],_0x291b30=_0x291b30[_0x3e8613(0x10a)](_0x2dc225=>_0x2dc225!==_0x3e8613(0x142)));!helper[_0x3e8613(0x12f)](_0xde8b52[_0x3e8613(0x148)])&&_0xde8b52['cliConfig']['has'](_0x4a4c03[_0x3e8613(0xfd)])&&(process[_0x3e8613(0x122)][_0x3e8613(0x107)]=_0xde8b52[_0x3e8613(0x148)]['get'](_0x4a4c03[_0x3e8613(0xfd)])||!![]);_0x4a4c03[_0x3e8613(0x1c0)](_0xde8b52[_0x3e8613(0x1bf)][_0x3e8613(0x13f)],null)&&!helper['isTrue'](process['env']['BROWSERSTACK_TEST_OBSERVABILITY'])&&(process['env'][_0x3e8613(0x170)]=process['env'][_0x3e8613(0x170)]||_0xde8b52[_0x3e8613(0x1bf)][_0x3e8613(0x13f)]);const _0x5796bf=!helper[_0x3e8613(0x11d)](process[_0x3e8613(0x122)][_0x3e8613(0x170)]);_0xde8b52[_0x3e8613(0x1bf)][_0x3e8613(0x108)]&&(process['env'][_0x3e8613(0x17f)]=JSON[_0x3e8613(0x175)](_0xde8b52['config'][_0x3e8613(0x108)]));let _0x54f8cb=![];_0xde8b52['config'][_0x3e8613(0x1a2)]&&(_0x54f8cb=!![],process[_0x3e8613(0x122)][_0x3e8613(0x11c)]=_0xde8b52['config']['accessibility']);const _0x5ad31e=_0x291b30[_0x3e8613(0x160)](),_0x294b05=await _0x4a4c03[_0x3e8613(0x137)](getUserPlaywrightConfig,_0x36a5e1,_0x291b30);if(helper[_0x3e8613(0x12f)](_0x294b05)){_0x4a4c03['VjlGI'](spawnOriginalProcess,_0x5ad31e);return;}const _0xcd6a39=_0x294b05[_0x3e8613(0x121)]?path['dirname'](_0x294b05[_0x3e8613(0x121)]):process[_0x3e8613(0x147)]();process[_0x3e8613(0x122)][_0x3e8613(0x1b2)]=_0xcd6a39,await PerformanceTester['measureWrapper'](PerformanceEvents[_0x3e8613(0x106)],async()=>{const _0x2d982e=_0x3e8613;!BrowserstackCLI[_0x2d982e(0x192)]()[_0x2d982e(0x1a1)]()&&await TestHubHandler[_0x2d982e(0x191)](FRAMEWORKS[_0x2d982e(0x1a0)],_0xde8b52),_0x5796bf&&_0x4a4c03[_0x2d982e(0x1b8)](handleO11yRerun,_0x291b30);})();if(!BrowserstackCLI[_0x3e8613(0x192)]()[_0x3e8613(0x1a1)]()){let _0x51db49=_0x4a4c03[_0x3e8613(0x183)](process[_0x3e8613(0x122)][_0x3e8613(0x11c)],_0x4a4c03[_0x3e8613(0x124)]);_0x51db49=_0x51db49||_0x4a4c03[_0x3e8613(0x181)](checkAccessibilityPlatformConfig,_0xde8b52[_0x3e8613(0x1bf)]),process['env'][_0x3e8613(0x11c)]=_0x51db49,_0x51db49&&_0x4a4c03[_0x3e8613(0x18b)](setAccessibilityCapabilities,_0xde8b52[_0x3e8613(0x1bf)]);}const _0x5911c0=path[_0x3e8613(0x150)](_0x294b05[_0x3e8613(0x121)]?path['dirname'](_0x294b05[_0x3e8613(0x121)]):process['cwd'](),_0x4a4c03[_0x3e8613(0x126)]);fs[_0x3e8613(0x195)](_0x5911c0,helper['serializeToYamlString'](_0xde8b52[_0x3e8613(0x1bf)])),process[_0x3e8613(0x122)][_0x3e8613(0x136)]=_0x5911c0,helper[_0x3e8613(0x1b9)]();let _0x5a3c84='';_0x4a4c03[_0x3e8613(0x11e)](helper[_0x3e8613(0x18d)](),constants[_0x3e8613(0x144)]['MODULE'])?_0x5a3c84=_0x4a4c03[_0x3e8613(0x118)]:_0x5a3c84=_0x4a4c03['THILB'];let _0x512957='';if(helper['isTypescriptProject'](_0x294b05[_0x3e8613(0x121)])){_0x512957=_0x3e8613(0x10f);const _0x186e12=_0x5a3c84[_0x3e8613(0x13e)]('.');_0x186e12[_0x4a4c03[_0x3e8613(0x102)](_0x186e12[_0x3e8613(0x16d)],0x1)]='ts',_0x5a3c84=_0x186e12['join']('.'),logger[_0x3e8613(0x1af)](_0x4a4c03[_0x3e8613(0x155)](_0x4a4c03['mJENE'],_0x5a3c84));}else _0x512957=_0x3e8613(0x164);const _0x5ee718=path[_0x3e8613(0x150)](_0x294b05['path']?path['dirname'](_0x294b05[_0x3e8613(0x121)]):process[_0x3e8613(0x147)](),_0x5a3c84);let _0x570e78=_0x294b05['path']?_0x294b05[_0x3e8613(0x121)]:'';_0x570e78=_0x4a4c03[_0x3e8613(0x133)](_0x570e78[_0x3e8613(0x16d)],0x0)?path[_0x3e8613(0x153)](_0x570e78):'',process[_0x3e8613(0x122)]['USER_CONFIG_DETAILS_PATH']=_0x570e78;const _0x10b45d=helper[_0x3e8613(0x15c)](_0xde8b52[_0x3e8613(0x1bf)]),_0x253e75=helper['getNoProxy'](_0xde8b52['config']);logger[_0x3e8613(0x1af)](_0x3e8613(0x1a6)+_0x10b45d),logger[_0x3e8613(0x1af)](_0x3e8613(0x1a3)+_0x253e75);_0x10b45d&&(_0x512957=_0x4a4c03[_0x3e8613(0x182)]('process.env.GLOBAL_AGENT_HTTP_PROXY=\x22'+_0x10b45d+_0x3e8613(0x143)+_0x253e75+_0x3e8613(0x15a),_0x512957));helper[_0x3e8613(0x141)]({},_0x291b30),fs[_0x3e8613(0x195)](_0x5ee718,_0x512957),PerformanceTester[_0x3e8613(0x189)](PerformanceEvents[_0x3e8613(0x161)]);const _0x8ba776=_0x4a4c03[_0x3e8613(0x11f)](spawn,helper[_0x3e8613(0x127)]()?_0x4a4c03[_0x3e8613(0x18f)]:_0x4a4c03[_0x3e8613(0x1bb)],[_0x4a4c03[_0x3e8613(0x15d)],_0x4a4c03[_0x3e8613(0x116)],_0x4a4c03[_0x3e8613(0x111)],_0x4a4c03[_0x3e8613(0x18e)](process['platform'],_0x4a4c03[_0x3e8613(0x1aa)])?'\x22'+_0x5ee718+'\x22':_0x5ee718,..._0x291b30[_0x3e8613(0x104)](0x2)],{'shell':_0x4a4c03['WltcC'](process[_0x3e8613(0x132)],_0x4a4c03[_0x3e8613(0x1aa)]),'stdio':_0x4a4c03[_0x3e8613(0x12e)],'cwd':process['cwd'](),'env':Object['assign']({},process['env'],{'BROWSERSTACK_CONFIG_FILE_PATH':helper['getConfigPath'](_0x36a5e1),'BROWSERSTACK_SKIP_SESSION_STATUS':_0xde8b52[_0x3e8613(0x1bf)][_0x3e8613(0x17b)][_0x3e8613(0xfb)],'BROWSERSTACK_SKIP_SESSION_NAME':_0xde8b52[_0x3e8613(0x1bf)][_0x3e8613(0x17b)][_0x3e8613(0x1b3)],'BROWSERSTACK_LOG_LEVEL':_0xde8b52[_0x3e8613(0x1bf)][_0x3e8613(0x156)]})}),_0x361f26=()=>{const _0x558f4c=_0x3e8613;try{const _0xef4bb3=path[_0x558f4c(0x150)](helper[_0x558f4c(0x197)](),_0x14bc31[_0x558f4c(0x1ba)],_0x14bc31['xnqEr']);if(fs[_0x558f4c(0x1bd)](_0xef4bb3)){let _0x21ce98=fs[_0x558f4c(0x18c)](_0xef4bb3);_0x21ce98=JSON['parse'](_0x21ce98),_0xde8b52[_0x558f4c(0x194)]=_0x21ce98,fs[_0x558f4c(0x179)](_0xef4bb3);}}catch(_0x1089a1){logger[_0x558f4c(0x1af)](_0x14bc31[_0x558f4c(0x1ad)](_0x14bc31[_0x558f4c(0x1ae)],_0x1089a1));}};_0x8ba776['on'](_0x4a4c03[_0x3e8613(0x10b)],async _0x165a4a=>{const _0x25518d=_0x3e8613;try{PerformanceTester[_0x25518d(0x12c)](PerformanceEvents[_0x25518d(0x119)]),_0x4a4c03[_0x25518d(0x1b6)](_0x361f26),await TestHubHandler[_0x25518d(0x16f)](),await ClientTroubleShootingService[_0x25518d(0x18a)](),await BrowserstackCLI[_0x25518d(0x192)]()['stop'](),TestDetails[_0x25518d(0x19a)](),_0x4a4c03['TUjqx'](printBuildLink),await utilities['finalExecution'](_0xde8b52),process[_0x25518d(0x15e)]=_0x165a4a,logger['debug'](_0x25518d(0x146)+_0x165a4a),logger[_0x25518d(0x123)]('Deleting\x20'+_0x5ee718),fs['unlinkSync'](_0x5ee718);fs[_0x25518d(0x1bd)](_0x5911c0)&&(logger[_0x25518d(0x1af)](_0x25518d(0x167)+_0x5911c0),fs[_0x25518d(0x179)](_0x5911c0));const _0xf0aa3d=fs[_0x25518d(0x177)](path[_0x25518d(0x150)](helper[_0x25518d(0x197)](),_0x4a4c03['sTJVj']))[_0x25518d(0x10a)](_0x974fd7=>_0x974fd7[_0x25518d(0x11b)](_0x25518d(0x134)));_0xf0aa3d[_0x25518d(0x1a8)](_0x1f4175=>{const _0x3ca008=_0x25518d;fs['unlinkSync'](path[_0x3ca008(0x150)](helper['homedir'](),_0x14bc31[_0x3ca008(0x1ba)],_0x1f4175));});}catch(_0x3fdff8){logger[_0x25518d(0x1af)](_0x4a4c03[_0x25518d(0x155)](_0x4a4c03['IyUbF'],_0x3fdff8));}});})();}module['exports']=run;