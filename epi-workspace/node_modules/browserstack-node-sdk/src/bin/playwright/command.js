#!/usr/bin/env node
'use strict';const a39_0x2a5c36=a39_0x4c44;function a39_0x42f3(){const _0x5215d4=['serializeToYamlString','Error\x20in\x20deleting\x20playwright\x20results','stop','Deleting\x20','fxeAO','splice','resolve','isRunning','info','reportDotBrowserStackFolderNotAccessibleIssue','trim','testContextOptions','winstonLogger','yTYiA','ylUlA','../../helpers/performance/performance-tester','mUHXe','bVkjy','end','initialize','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22','dDYGW','validateRerunTestList','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','requireConfigLoaderYarnPnP','assign','accessibilityOptions','./reporter/pwUtils','eQhQJ','wVQEW','playwright-browserstack-sdk.config.js','BROWSERSTACK_TEST_OBSERVABILITY','../../helpers/utilities','isYarnPnP','PLAYWRIGHT','../../helpers/accessibility-automation/helper','false','808ViKIsm','14777UYLBPu','BROWSERSTACK_TEST_ACCESSIBILITY_YML','accessibility','--disable-test-observability','automation','No\x20Proxy\x20:\x20','filterBrowserstackArgs','wVhnd','./reporter/test-details','nBzMs','writeFileSync','slice','parse','oBMZG','playwright','../../helpers/performance/constants','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','error','ZbtYx','Error\x20in\x20getting\x20funnel\x20data\x20results','yarn','configPath','JqpiX','SDK_POST_INITIALIZE','MODULE','44naORaX','tUFLV','--config','EVENTS','nzODx','split','cliConfig','isUndefined','playwright-browserstack-sdk.config.cjs','Proxy\x20url\x20:\x20','GDoFI','../../helpers/logger','LTSnt','LKKbT','accessSync','npx','WgVZD','resolvedConfigFile','vOSze','constants','../../helpers/BrowserStackSetup','push','finalExecution','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','Updated\x20config\x20file\x20name\x20to\x20-\x20','skipSessionStatus','rHNnC','Playwright\x20process\x20exited\x20with\x20code\x20','tgdIT','../../helpers/testhub/testhubHandler','iRjAi','get','../../helpers/helper','JrJGR','util','sKlVs','start','--disable-browserstack-automation','env','--config=','VfCgg','apply','reportConflictingEnvVarIssue','nestedKeyValue','cwd','BROWSERSTACK_AUTOMATION','logLevel','setFrameworkDetail','concat','hGJQC','SDUWw','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','startsWith','platform','OPkaY','stringify','VXzjX','GWxVt','R_OK','3BeDZnY','errorMessage','.browserstack','bAeAn','getNoProxy','KclQU','config','PACKAGE_TYPE','pmgfn','1775240HqZtwF','win32','3537738mkXoGk','OKMLR','6gmWmwQ','hGTRH','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','W_OK','BrowserStack\x20config\x20file\x20not\x20found.','Pnmti','./accessibility-helper','177596YZeAcy','join','indexOf','OTjoS','170782VwrdSA','test','TUyxZ','getInstance','336955HGXbhk','dirname','homedir','getConfig','testObservability','../v2/TestInfo','isTypescriptProject','BROWSERSTACK_RERUN_TESTS','unlinkSync','measureWrapper','exports','child_process','path','qlqbp','browserstackAutomation','launchBuild','isFalse','map','getConfigPath','VPSCU','../v2/browserstackCLI','NbqFN','skipSessionName','BROWSERSTACK_SETUP_CONFIG_PATH','getPackageType','debug','2626850ARhmnZ','INTERNALLY_USED_ENV_VARS','has','length','EEWQQ','PVoPk','close','JYOrf','GrrvH','QqolH','../../helpers/test-observability/utils','browserstackSetupConfig.json','inherit','bootstrap','existsSync'];a39_0x42f3=function(){return _0x5215d4;};return a39_0x42f3();}(function(_0x5c5904,_0x1fac5c){const _0x44cb3b=a39_0x4c44,_0x89bc91=_0x5c5904();while(!![]){try{const _0x3907a5=parseInt(_0x44cb3b(0x1a6))/0x1+parseInt(_0x44cb3b(0x1a2))/0x2+-parseInt(_0x44cb3b(0x18e))/0x3*(-parseInt(_0x44cb3b(0x197))/0x4)+parseInt(_0x44cb3b(0x1aa))/0x5*(parseInt(_0x44cb3b(0x19b))/0x6)+-parseInt(_0x44cb3b(0x13a))/0x7*(-parseInt(_0x44cb3b(0x139))/0x8)+parseInt(_0x44cb3b(0x199))/0x9+parseInt(_0x44cb3b(0x1c4))/0xa*(-parseInt(_0x44cb3b(0x153))/0xb);if(_0x3907a5===_0x1fac5c)break;else _0x89bc91['push'](_0x89bc91['shift']());}catch(_0x291a93){_0x89bc91['push'](_0x89bc91['shift']());}}}(a39_0x42f3,0x4fabe));function a39_0x4c44(_0x594529,_0x346d9a){const _0x42f3ae=a39_0x42f3();return a39_0x4c44=function(_0x4c44bd,_0x45ffd3){_0x4c44bd=_0x4c44bd-0x11a;let _0x23736a=_0x42f3ae[_0x4c44bd];return _0x23736a;},a39_0x4c44(_0x594529,_0x346d9a);}const fs=require('fs'),path=require(a39_0x2a5c36(0x1b6)),{spawn}=require(a39_0x2a5c36(0x1b5)),{format}=require(a39_0x2a5c36(0x175)),logger=require(a39_0x2a5c36(0x15e))[a39_0x2a5c36(0x120)],{default:BrowserStackSetup}=require(a39_0x2a5c36(0x167)),helper=require(a39_0x2a5c36(0x173)),utilities=require(a39_0x2a5c36(0x134)),constants=require('../utils/constants'),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),{getConfigLoaderPath}=require(a39_0x2a5c36(0x12f)),{checkAccessibilityPlatformConfig}=require(a39_0x2a5c36(0x137)),{setAccessibilityCapabilities}=require(a39_0x2a5c36(0x1a1)),{printBuildLink}=require(a39_0x2a5c36(0x1ce)),TestDetails=require(a39_0x2a5c36(0x142)),TestHubHandler=require(a39_0x2a5c36(0x170)),PerformanceTester=require(a39_0x2a5c36(0x123)),BrowserstackCLI=require(a39_0x2a5c36(0x1be)),PerformanceEvents=require(a39_0x2a5c36(0x149))[a39_0x2a5c36(0x156)],CLIUtils=require('../v2/cliUtils'),TestInfo=require(a39_0x2a5c36(0x1af)),ClientTroubleShootingService=require('../utils/clientTroubleshootingService'),getUserPlaywrightConfig=async(_0x4af299,_0x49d158)=>{const _0x1a723a=a39_0x2a5c36,_0x14f404={'hGJQC':function(_0x4287b6){return _0x4287b6();},'FALgy':function(_0x4fbe05){return _0x4fbe05();},'OPkaY':function(_0x4b7bf2,_0x32856e){return _0x4b7bf2(_0x32856e);},'fTfBG':function(_0x1cecaa,_0x250fc0){return _0x1cecaa(_0x250fc0);},'tgdIT':_0x1a723a(0x164),'GrrvH':_0x1a723a(0x17a)},_0x41d0d1=!helper[_0x1a723a(0x15a)](_0x4af299['config']),_0x29ec1b=_0x41d0d1?path[_0x1a723a(0x11a)](process['cwd'](),_0x4af299['config']):process[_0x1a723a(0x17f)](),{resolveConfigFile:_0x15c2a3,resolveConfigLocation:_0x4f0df8}=helper[_0x1a723a(0x135)]()?helper[_0x1a723a(0x12c)](..._0x14f404[_0x1a723a(0x184)](getConfigLoaderPath)):helper['requirePWModule'][_0x1a723a(0x17c)](null,_0x14f404['FALgy'](getConfigLoaderPath)),_0x540b7f=_0x15c2a3?_0x14f404[_0x1a723a(0x189)](_0x15c2a3,_0x29ec1b):helper[_0x1a723a(0x17e)](_0x14f404['fTfBG'](_0x4f0df8,_0x29ec1b),[_0x14f404[_0x1a723a(0x16f)]]),_0x1f2c6d={};if(_0x41d0d1){const _0x2242c3=_0x49d158['findIndex'](_0x1044a9=>_0x1044a9===_0x1a723a(0x155)||_0x1044a9==='-c'||_0x1044a9[_0x1a723a(0x187)](_0x1a723a(0x17a)));_0x49d158[_0x1a723a(0x1d8)](_0x2242c3,_0x49d158[_0x2242c3][_0x1a723a(0x187)](_0x14f404[_0x1a723a(0x1cc)])?0x1:0x2);}const _0xf967c8={};return _0xf967c8[_0x1a723a(0x1b6)]=_0x540b7f,_0xf967c8['config']=_0x1f2c6d,_0xf967c8;},handleO11yRerun=_0x442584=>{const _0x86152=a39_0x2a5c36,_0x714a79={};_0x714a79['dgbGQ']='--grep';const _0x4484e3=_0x714a79,_0x4340c4=helper['isTrue'](process[_0x86152(0x179)]['BROWSERSTACK_RERUN']);if(_0x4340c4){const _0x16d2ee=process[_0x86152(0x179)][_0x86152(0x1b1)],_0x543637=[];if(helper[_0x86152(0x12a)](_0x16d2ee)&&!helper[_0x86152(0x15a)](_0x16d2ee)){_0x16d2ee['split'](',')[_0x86152(0x1bb)](_0x5513d9=>{const _0x22cdd0=_0x86152;_0x543637[_0x22cdd0(0x168)]('('+_0x5513d9[_0x22cdd0(0x11e)]()+')');});const _0x5d2564='^'+_0x543637[_0x86152(0x1a3)]('|')+'$';_0x442584[_0x86152(0x168)](_0x4484e3['dgbGQ'],_0x5d2564);}}},spawnOriginalProcess=_0x117b67=>{const _0x227dc7=a39_0x2a5c36,_0x50c72a={'bVkjy':function(_0x29b681,_0x1c58d7,_0x4bc58f,_0x2f3f00){return _0x29b681(_0x1c58d7,_0x4bc58f,_0x2f3f00);},'VRGQK':_0x227dc7(0x14e),'qlqbp':_0x227dc7(0x162),'yTYiA':_0x227dc7(0x148),'WgVZD':function(_0x4c9ff3,_0x1f7a98){return _0x4c9ff3===_0x1f7a98;},'JqpiX':_0x227dc7(0x198),'Pnmti':'inherit'};_0x50c72a[_0x227dc7(0x125)](spawn,helper[_0x227dc7(0x135)]()?_0x50c72a['VRGQK']:_0x50c72a[_0x227dc7(0x1b7)],[_0x50c72a[_0x227dc7(0x121)],..._0x117b67[_0x227dc7(0x145)](0x1)],{'shell':_0x50c72a[_0x227dc7(0x163)](process[_0x227dc7(0x188)],_0x50c72a[_0x227dc7(0x150)]),'stdio':_0x50c72a[_0x227dc7(0x1a0)],'cwd':process[_0x227dc7(0x17f)]()});},isTestCommand=(_0x538e6d,_0x2ffd1d)=>{const _0x25ccc8=a39_0x2a5c36,_0x3eb3d6={};_0x3eb3d6[_0x25ccc8(0x129)]=function(_0x76b80c,_0x4957c7){return _0x76b80c>_0x4957c7;},_0x3eb3d6['wVQEW']=function(_0x85a321,_0x49bce4){return _0x85a321===_0x49bce4;},_0x3eb3d6[_0x25ccc8(0x19a)]='test';const _0x262c90=_0x3eb3d6;if(_0x262c90[_0x25ccc8(0x129)](_0x2ffd1d[_0x25ccc8(0x1c7)],0x1)&&_0x262c90[_0x25ccc8(0x131)](_0x2ffd1d[0x1],_0x262c90[_0x25ccc8(0x19a)]))return!![];return![];};async function run(_0x3bc6ef,_0x3546bf,_0x2a3725){const _0x32c748=a39_0x2a5c36,_0x31f317={'rHNnC':_0x32c748(0x190),'QqolH':'pw_result.json','ylUlA':function(_0x4b271a,_0x5326bb){return _0x4b271a+_0x5326bb;},'JZHau':_0x32c748(0x14d),'ZbtYx':function(_0xa77abf){return _0xa77abf();},'vOSze':'Error\x20in\x20closing\x20playwright','VXzjX':function(_0x8087d1,_0x1731c5){return _0x8087d1(_0x1731c5);},'nzODx':_0x32c748(0x19f),'JrJGR':function(_0x4075ae,_0x3a951c){return _0x4075ae<_0x3a951c;},'KclQU':function(_0x377fc2,_0x44e09a){return _0x377fc2===_0x44e09a;},'GDoFI':_0x32c748(0x138),'gcOah':_0x32c748(0x13d),'DNUED':function(_0x1f96a1,_0x20a1a9){return _0x1f96a1>=_0x20a1a9;},'OTjoS':_0x32c748(0x13e),'sKlVs':function(_0x1f90a0,_0xd8f07f){return _0x1f90a0!=_0xd8f07f;},'iRjAi':function(_0x5d8555,_0x106d91,_0x2c5c24){return _0x5d8555(_0x106d91,_0x2c5c24);},'mUHXe':function(_0x458b37,_0x37af7d){return _0x458b37(_0x37af7d);},'LKKbT':function(_0x2698a7,_0x323953){return _0x2698a7===_0x323953;},'VfCgg':'true','JYOrf':_0x32c748(0x1cf),'LTSnt':function(_0x29e308,_0x154d7e){return _0x29e308===_0x154d7e;},'owioq':_0x32c748(0x15b),'bAeAn':_0x32c748(0x132),'tUFLV':function(_0x44dd39,_0x35ae40){return _0x44dd39-_0x35ae40;},'pmgfn':_0x32c748(0x16b),'TUyxZ':function(_0xb77e42,_0x488f18){return _0xb77e42>_0x488f18;},'eQhQJ':function(_0xd25fb1,_0x4c8493,_0x1656ef,_0x3f5841){return _0xd25fb1(_0x4c8493,_0x1656ef,_0x3f5841);},'nNGZC':_0x32c748(0x14e),'VPSCU':'npx','EEWQQ':_0x32c748(0x148),'Ffywl':_0x32c748(0x1a7),'wDcUY':'--config','wVhnd':_0x32c748(0x198),'GWxVt':function(_0x2687ca,_0x3d4a5b){return _0x2687ca===_0x3d4a5b;},'fxeAO':_0x32c748(0x1d0),'nBzMs':_0x32c748(0x1ca),'SDUWw':function(_0x384b31,_0x2a713b){return _0x384b31|_0x2a713b;},'hGTRH':function(_0x46d44e,_0x5bf0bf){return _0x46d44e+_0x5bf0bf;},'RIYHE':'Error\x20in\x20accessing\x20.browserstack\x20directory:\x20','oBMZG':_0x32c748(0x1d4),'fzYUx':function(_0x4d3b59,_0x2132d3,_0x69a4c5){return _0x4d3b59(_0x2132d3,_0x69a4c5);},'PVoPk':function(_0x1cf925,_0xc53aff){return _0x1cf925(_0xc53aff);}};try{const _0x5346c4=path['join'](helper[_0x32c748(0x1ac)](),_0x31f317['rHNnC']);try{fs[_0x32c748(0x161)](_0x5346c4,_0x31f317[_0x32c748(0x185)](fs[_0x32c748(0x166)][_0x32c748(0x18d)],fs[_0x32c748(0x166)][_0x32c748(0x19e)]));}catch(_0x3c5572){ClientTroubleShootingService[_0x32c748(0x11d)]();}}catch(_0x37d4ca){logger['debug'](_0x31f317[_0x32c748(0x19c)](_0x31f317['RIYHE'],_0x37d4ca));}try{const _0x5796ba=path['join'](helper[_0x32c748(0x1ac)](),_0x31f317[_0x32c748(0x16d)],_0x31f317[_0x32c748(0x1cd)]);fs['existsSync'](_0x5796ba)&&fs[_0x32c748(0x1b2)](_0x5796ba);}catch(_0x3ddf0e){logger[_0x32c748(0x1c3)](_0x31f317[_0x32c748(0x122)](_0x31f317[_0x32c748(0x147)],_0x3ddf0e));}if(!_0x31f317['fzYUx'](isTestCommand,_0x3bc6ef,_0x3546bf)){_0x31f317[_0x32c748(0x1c9)](spawnOriginalProcess,_0x3546bf);return;}await PerformanceTester[_0x32c748(0x1b3)](PerformanceEvents['SDK_PRE_INITIALIZE'],async()=>{const _0x38fa23=_0x32c748,_0x3a77a9={'xCdrQ':function(_0x100472,_0x50bb15){const _0x23f42d=a39_0x4c44;return _0x31f317[_0x23f42d(0x18b)](_0x100472,_0x50bb15);}};if(!_0x2a3725['config']){logger[_0x38fa23(0x14b)](_0x31f317[_0x38fa23(0x157)]);return;}await _0x2a3725[_0x38fa23(0x127)](_0x3bc6ef),CLIUtils[_0x38fa23(0x182)](FRAMEWORKS[_0x38fa23(0x136)],FRAMEWORKS[_0x38fa23(0x136)]),BrowserstackCLI[_0x38fa23(0x1a9)]()['setBrowserstackConfig'](_0x2a3725[_0x38fa23(0x194)],_0x2a3725[_0x38fa23(0x14f)],_0x2a3725[_0x38fa23(0x159)]),await BrowserstackCLI['getInstance']()[_0x38fa23(0x1d1)]();for(var _0x342b27=0x0;_0x31f317[_0x38fa23(0x174)](_0x342b27,constants[_0x38fa23(0x1c5)][_0x38fa23(0x1c7)]);_0x342b27++){var _0xf35de6=constants['INTERNALLY_USED_ENV_VARS'][_0x342b27];process[_0x38fa23(0x179)][_0xf35de6]&&await ClientTroubleShootingService[_0x38fa23(0x17d)](_0xf35de6);}const _0x19f796=BrowserstackCLI[_0x38fa23(0x1a9)]()[_0x38fa23(0x1ad)]();!helper['isFalse'](_0x19f796['browserstackAutomation'])&&(process[_0x38fa23(0x179)][_0x38fa23(0x180)]=!![]);_0x31f317[_0x38fa23(0x193)](_0x19f796[_0x38fa23(0x1b8)],![])&&(process[_0x38fa23(0x179)][_0x38fa23(0x180)]=_0x31f317[_0x38fa23(0x15d)],_0x3546bf=_0x3546bf['filter'](_0x43a1d3=>_0x43a1d3!==_0x38fa23(0x178)));const _0x504671=_0x3546bf[_0x38fa23(0x1a4)](_0x31f317['gcOah']);(_0x31f317['DNUED'](_0x504671,0x0)||_0x31f317['KclQU'](_0x19f796[_0x38fa23(0x1ae)],![]))&&(process[_0x38fa23(0x179)][_0x38fa23(0x133)]=_0x31f317['GDoFI'],_0x3546bf=_0x3546bf['filter'](_0x2ab83e=>_0x2ab83e!=='--disable-test-observability'));!helper[_0x38fa23(0x15a)](_0x2a3725[_0x38fa23(0x159)])&&_0x2a3725[_0x38fa23(0x159)][_0x38fa23(0x1c6)](_0x31f317[_0x38fa23(0x1a5)])&&(process[_0x38fa23(0x179)][_0x38fa23(0x180)]=_0x2a3725[_0x38fa23(0x159)][_0x38fa23(0x172)](_0x31f317['OTjoS'])||!![]);_0x31f317[_0x38fa23(0x176)](_0x2a3725['config'][_0x38fa23(0x1ae)],null)&&!helper['isTrue'](process[_0x38fa23(0x179)][_0x38fa23(0x133)])&&(process[_0x38fa23(0x179)][_0x38fa23(0x133)]=process[_0x38fa23(0x179)][_0x38fa23(0x133)]||_0x2a3725[_0x38fa23(0x194)][_0x38fa23(0x1ae)]);const _0x1f8716=!helper[_0x38fa23(0x1ba)](process['env'][_0x38fa23(0x133)]);_0x2a3725[_0x38fa23(0x194)][_0x38fa23(0x12e)]&&(process['env'][_0x38fa23(0x19d)]=JSON[_0x38fa23(0x18a)](_0x2a3725[_0x38fa23(0x194)]['accessibilityOptions']));let _0x39d243=![];_0x2a3725[_0x38fa23(0x194)][_0x38fa23(0x13c)]&&(_0x39d243=!![],process[_0x38fa23(0x179)][_0x38fa23(0x13b)]=_0x2a3725[_0x38fa23(0x194)]['accessibility']);const _0x18b1e7=_0x3546bf[_0x38fa23(0x183)](),_0x43644e=await _0x31f317[_0x38fa23(0x171)](getUserPlaywrightConfig,_0x3bc6ef,_0x3546bf);if(helper[_0x38fa23(0x15a)](_0x43644e)){_0x31f317[_0x38fa23(0x124)](spawnOriginalProcess,_0x18b1e7);return;}const _0x1d02b4=_0x43644e['path']?path[_0x38fa23(0x1ab)](_0x43644e[_0x38fa23(0x1b6)]):process[_0x38fa23(0x17f)]();process[_0x38fa23(0x179)]['BROWSERSTACK_PW_CONFIG_DIR']=_0x1d02b4,await PerformanceTester[_0x38fa23(0x1b3)](PerformanceEvents[_0x38fa23(0x151)],async()=>{const _0x1f4c02=_0x38fa23;!BrowserstackCLI[_0x1f4c02(0x1a9)]()[_0x1f4c02(0x11b)]()&&await TestHubHandler[_0x1f4c02(0x1b9)](FRAMEWORKS[_0x1f4c02(0x136)],_0x2a3725),_0x1f8716&&_0x3a77a9['xCdrQ'](handleO11yRerun,_0x3546bf);})();if(!BrowserstackCLI[_0x38fa23(0x1a9)]()[_0x38fa23(0x11b)]()){let _0x5341dd=_0x31f317[_0x38fa23(0x160)](process[_0x38fa23(0x179)][_0x38fa23(0x13b)],_0x31f317[_0x38fa23(0x17b)]);_0x5341dd=_0x5341dd||_0x31f317[_0x38fa23(0x18b)](checkAccessibilityPlatformConfig,_0x2a3725['config']),process[_0x38fa23(0x179)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x5341dd,_0x5341dd&&_0x31f317[_0x38fa23(0x124)](setAccessibilityCapabilities,_0x2a3725[_0x38fa23(0x194)]);}const _0xd30188=path[_0x38fa23(0x1a3)](_0x43644e[_0x38fa23(0x1b6)]?path[_0x38fa23(0x1ab)](_0x43644e[_0x38fa23(0x1b6)]):process[_0x38fa23(0x17f)](),_0x31f317[_0x38fa23(0x1cb)]);fs[_0x38fa23(0x144)](_0xd30188,helper[_0x38fa23(0x1d3)](_0x2a3725['config'])),process[_0x38fa23(0x179)][_0x38fa23(0x1c1)]=_0xd30188,helper['clearTempPWConfig']();let _0x57e9ca='';_0x31f317[_0x38fa23(0x15f)](helper[_0x38fa23(0x1c2)](),constants[_0x38fa23(0x195)][_0x38fa23(0x152)])?_0x57e9ca=_0x31f317['owioq']:_0x57e9ca=_0x31f317[_0x38fa23(0x191)];let _0x5f0068='';if(helper[_0x38fa23(0x1b0)](_0x43644e[_0x38fa23(0x1b6)])){_0x5f0068=_0x38fa23(0x16a);const _0x336e26=_0x57e9ca[_0x38fa23(0x158)]('.');_0x336e26[_0x31f317[_0x38fa23(0x154)](_0x336e26[_0x38fa23(0x1c7)],0x1)]='ts',_0x57e9ca=_0x336e26['join']('.'),logger[_0x38fa23(0x1c3)](_0x31f317['ylUlA'](_0x31f317[_0x38fa23(0x196)],_0x57e9ca));}else _0x5f0068=_0x38fa23(0x186);const _0x175d74=path[_0x38fa23(0x1a3)](_0x43644e[_0x38fa23(0x1b6)]?path['dirname'](_0x43644e[_0x38fa23(0x1b6)]):process[_0x38fa23(0x17f)](),_0x57e9ca);let _0x1fdc2d=_0x43644e[_0x38fa23(0x1b6)]?_0x43644e[_0x38fa23(0x1b6)]:'';_0x1fdc2d=_0x31f317[_0x38fa23(0x1a8)](_0x1fdc2d[_0x38fa23(0x1c7)],0x0)?path[_0x38fa23(0x11a)](_0x1fdc2d):'',process[_0x38fa23(0x179)]['USER_CONFIG_DETAILS_PATH']=_0x1fdc2d;const _0x11d983=helper['getProxyUrl'](_0x2a3725[_0x38fa23(0x194)]),_0x1c4429=helper[_0x38fa23(0x192)](_0x2a3725[_0x38fa23(0x194)]);logger[_0x38fa23(0x1c3)](_0x38fa23(0x15c)+_0x11d983),logger[_0x38fa23(0x1c3)](_0x38fa23(0x13f)+_0x1c4429);_0x11d983&&(_0x5f0068=_0x31f317[_0x38fa23(0x122)](_0x38fa23(0x12b)+_0x11d983+_0x38fa23(0x128)+_0x1c4429+_0x38fa23(0x14a),_0x5f0068));helper[_0x38fa23(0x140)]({},_0x3546bf),fs[_0x38fa23(0x144)](_0x175d74,_0x5f0068),PerformanceTester[_0x38fa23(0x126)](PerformanceEvents['SDK_SETUP']);const _0x45a2b2=_0x31f317[_0x38fa23(0x130)](spawn,helper['isYarnPnP']()?_0x31f317['nNGZC']:_0x31f317[_0x38fa23(0x1bd)],[_0x31f317[_0x38fa23(0x1c8)],_0x31f317['Ffywl'],_0x31f317['wDcUY'],_0x31f317['LTSnt'](process[_0x38fa23(0x188)],_0x31f317[_0x38fa23(0x141)])?'\x22'+_0x175d74+'\x22':_0x175d74,..._0x3546bf['slice'](0x2)],{'shell':_0x31f317[_0x38fa23(0x18c)](process[_0x38fa23(0x188)],_0x31f317[_0x38fa23(0x141)]),'stdio':_0x31f317[_0x38fa23(0x1d7)],'cwd':process['cwd'](),'env':Object[_0x38fa23(0x12d)]({},process[_0x38fa23(0x179)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper[_0x38fa23(0x1bc)](_0x3bc6ef),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x2a3725[_0x38fa23(0x194)][_0x38fa23(0x11f)][_0x38fa23(0x16c)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x2a3725[_0x38fa23(0x194)]['testContextOptions'][_0x38fa23(0x1c0)],'BROWSERSTACK_LOG_LEVEL':_0x2a3725['config'][_0x38fa23(0x181)]})}),_0x47e807=()=>{const _0x187bb2=_0x38fa23;try{const _0x42e003=path[_0x187bb2(0x1a3)](helper[_0x187bb2(0x1ac)](),_0x31f317[_0x187bb2(0x16d)],_0x31f317['QqolH']);if(fs[_0x187bb2(0x1d2)](_0x42e003)){let _0x2cf0f9=fs['readFileSync'](_0x42e003);_0x2cf0f9=JSON[_0x187bb2(0x146)](_0x2cf0f9),_0x2a3725[_0x187bb2(0x18f)]=_0x2cf0f9,fs[_0x187bb2(0x1b2)](_0x42e003);}}catch(_0x63afc5){logger[_0x187bb2(0x1c3)](_0x31f317[_0x187bb2(0x122)](_0x31f317['JZHau'],_0x63afc5));}};_0x45a2b2['on'](_0x31f317[_0x38fa23(0x143)],async _0x22c227=>{const _0x676853=_0x38fa23,_0x2d18c2={};_0x2d18c2['NbqFN']=_0x31f317[_0x676853(0x16d)];const _0x5d0304=_0x2d18c2;try{PerformanceTester[_0x676853(0x177)](PerformanceEvents['SDK_CLEANUP']),_0x31f317[_0x676853(0x14c)](_0x47e807),await TestHubHandler[_0x676853(0x1d5)](),await ClientTroubleShootingService['reportFinalDetectionState'](),await BrowserstackCLI[_0x676853(0x1a9)]()['stop'](),TestDetails['shutdown'](),_0x31f317[_0x676853(0x14c)](printBuildLink),await utilities[_0x676853(0x169)](_0x2a3725),process['exitCode']=_0x22c227,logger[_0x676853(0x1c3)](_0x676853(0x16e)+_0x22c227),logger[_0x676853(0x11c)](_0x676853(0x1d6)+_0x175d74),fs[_0x676853(0x1b2)](_0x175d74);fs['existsSync'](_0xd30188)&&(logger[_0x676853(0x1c3)](_0x676853(0x1d6)+_0xd30188),fs['unlinkSync'](_0xd30188));const _0x2ef81e=fs['readdirSync'](path[_0x676853(0x1a3)](helper[_0x676853(0x1ac)](),_0x31f317[_0x676853(0x16d)]))['filter'](_0x55470c=>_0x55470c[_0x676853(0x187)]('trace_'));_0x2ef81e['forEach'](_0x3da1f8=>{const _0x29bd78=_0x676853;fs[_0x29bd78(0x1b2)](path['join'](helper['homedir'](),_0x5d0304[_0x29bd78(0x1bf)],_0x3da1f8));});}catch(_0x19d3af){logger[_0x676853(0x1c3)](_0x31f317[_0x676853(0x122)](_0x31f317[_0x676853(0x165)],_0x19d3af));}});})();}module[a39_0x2a5c36(0x1b4)]=run;