#!/usr/bin/env node
'use strict';function a40_0x1405(_0x199fe0,_0x1ef9f1){const _0x520a27=a40_0x520a();return a40_0x1405=function(_0x140534,_0x30f283){_0x140534=_0x140534-0x85;let _0x4e7d95=_0x520a27[_0x140534];return _0x4e7d95;},a40_0x1405(_0x199fe0,_0x1ef9f1);}const a40_0x2227db=a40_0x1405;(function(_0x15a335,_0x4db2c9){const _0x460f62=a40_0x1405,_0x3b347c=_0x15a335();while(!![]){try{const _0x48504f=parseInt(_0x460f62(0x138))/0x1*(-parseInt(_0x460f62(0x10e))/0x2)+-parseInt(_0x460f62(0xad))/0x3+-parseInt(_0x460f62(0xf7))/0x4*(-parseInt(_0x460f62(0xb8))/0x5)+parseInt(_0x460f62(0x94))/0x6+-parseInt(_0x460f62(0xee))/0x7+parseInt(_0x460f62(0x12a))/0x8*(-parseInt(_0x460f62(0x11d))/0x9)+-parseInt(_0x460f62(0xd5))/0xa*(-parseInt(_0x460f62(0xb4))/0xb);if(_0x48504f===_0x4db2c9)break;else _0x3b347c['push'](_0x3b347c['shift']());}catch(_0x3ee06b){_0x3b347c['push'](_0x3b347c['shift']());}}}(a40_0x520a,0x53d68));function a40_0x520a(){const _0x4eb9e8=['txXoT','playwright','winstonLogger','--config','CZDGU','getProxyUrl','setFrameworkDetail','serializeToYamlString','MODULE','../../helpers/accessibility-automation/helper','platform','tqKVr','has','Updated\x20config\x20file\x20name\x20to\x20-\x20','63hgPsML','stringify','BROWSERSTACK_RERUN','error','env','../../helpers/utilities','SSWAi','stop','../../helpers/performance/performance-tester','errorMessage','PNeHp','test','ykkfn','684856MBmaQK','../../helpers/BrowserStackSetup','filterBrowserstackArgs','Proxy\x20url\x20:\x20','exports','../../helpers/helper','--disable-browserstack-automation','scgAC','dirname','cliConfig','rXdUp','isTrue','msrMu','forEach','488473mqThms','--config=','getConfig','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','testContextOptions','pw_result.json','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','cwd','npx','../v2/cliUtils','lOUIK','join','startsWith','PpAYt','BROWSERSTACK_TEST_ACCESSIBILITY_YML','BROWSERSTACK_AUTOMATION','browserstackAutomation','3879078pfqYLk','SDK_POST_INITIALIZE','vlbTc','resolvedConfigFile','../../helpers/test-observability/constants','concat','SDK_PRE_INITIALIZE','playwright-browserstack-sdk.config.js','validateRerunTestList','--grep','ZQlns','juTEW','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','isRunning','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','push','DRCjW','findIndex','qoodV','nsgoS','resolve','Cyeki','browserstackSetupConfig.json','nestedKeyValue','win32','1064643eBweKC','PLAYWRIGHT','filter','isUndefined','Playwright\x20process\x20exited\x20with\x20code\x20','path','SDK_SETUP','1829575LxKLTa','config','zoeJI','testObservability','5eidNPp','bootstrap','setBrowserstackConfig','skipSessionStatus','getNoProxy','QRneD','parse','slice','Error\x20in\x20getting\x20funnel\x20data\x20results','getPackageType','end','VvqWZ','accessibilityOptions','debug','nfjnR','DlFrM','readFileSync','TNQZI','SDK_CLEANUP','sjMSB','ZDjXa','CpsoZ','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','./reporter/test-details','IiJmz','CWcJn','indexOf','playwright-browserstack-sdk.config.cjs','shutdown','70slKHDP','split','../../helpers/performance/constants','rakTm','../../helpers/logger','zLmsw','BROWSERSTACK_PW_CONFIG_DIR','initialize','isFalse','--disable-test-observability','BrowserStack\x20config\x20file\x20not\x20found.','WnZrv','bXBDI','length','TFkya','true','mpwRM','getConfigPath','child_process','existsSync','clearTempPWConfig','measureWrapper','jbYKE','logLevel','Deleting\x20','3180079RelFEL','No\x20Proxy\x20:\x20','./accessibility-helper','get','start','launchBuild','splice','DUnlP','homedir','1718048GCGFsE','util','../v2/TestInfo','.browserstack','BROWSERSTACK_TEST_OBSERVABILITY','WHqIT','MkuSN','NuFQy','getInstance','inherit','HsnWj','writeFileSync','FgpdB','hbsef','ReYtv','USER_CONFIG_DETAILS_PATH','unlinkSync','BROWSERSTACK_RERUN_TESTS','../../helpers/testhub/testhubHandler','udcGX','GwAFX','Error\x20in\x20closing\x20playwright','requirePWModule','2hLjlrx'];a40_0x520a=function(){return _0x4eb9e8;};return a40_0x520a();}const fs=require('fs'),path=require('path'),{spawn}=require(a40_0x2227db(0xe7)),{format}=require(a40_0x2227db(0xf8)),logger=require(a40_0x2227db(0xd9))[a40_0x2227db(0x111)],{default:BrowserStackSetup}=require(a40_0x2227db(0x12b)),helper=require(a40_0x2227db(0x12f)),utilities=require(a40_0x2227db(0x122)),constants=require('../utils/constants'),{FRAMEWORKS}=require(a40_0x2227db(0x98)),{getConfigLoaderPath}=require('./reporter/pwUtils'),{checkAccessibilityPlatformConfig}=require(a40_0x2227db(0x118)),{setAccessibilityCapabilities}=require(a40_0x2227db(0xf0)),{printBuildLink}=require('../../helpers/test-observability/utils'),TestDetails=require(a40_0x2227db(0xcf)),TestHubHandler=require(a40_0x2227db(0x109)),PerformanceTester=require(a40_0x2227db(0x125)),BrowserstackCLI=require('../v2/browserstackCLI'),PerformanceEvents=require(a40_0x2227db(0xd7))['EVENTS'],CLIUtils=require(a40_0x2227db(0x8c)),TestInfo=require(a40_0x2227db(0xf9)),getUserPlaywrightConfig=async(_0x497d9f,_0x8517e3)=>{const _0x21cd5e=a40_0x2227db,_0x164758={'SSWAi':function(_0x1cc108){return _0x1cc108();},'QRneD':function(_0x432316,_0x3b716b){return _0x432316(_0x3b716b);},'juTEW':_0x21cd5e(0x97),'DUnlP':_0x21cd5e(0x139)},_0xdb48e4=!helper[_0x21cd5e(0xb0)](_0x497d9f[_0x21cd5e(0xb5)]),_0x4206d1=_0xdb48e4?path[_0x21cd5e(0xa8)](process[_0x21cd5e(0x8a)](),_0x497d9f['config']):process[_0x21cd5e(0x8a)](),{resolveConfigFile:_0x2c8d98,resolveConfigLocation:_0x47d8f1}=helper[_0x21cd5e(0x10d)]['apply'](null,_0x164758[_0x21cd5e(0x123)](getConfigLoaderPath)),_0x57266c=_0x2c8d98?_0x164758[_0x21cd5e(0xbd)](_0x2c8d98,_0x4206d1):helper[_0x21cd5e(0xab)](_0x164758[_0x21cd5e(0xbd)](_0x47d8f1,_0x4206d1),[_0x164758[_0x21cd5e(0x9f)]]),_0x37d09f={};if(_0xdb48e4){const _0x2f106e=_0x8517e3[_0x21cd5e(0xa5)](_0x176439=>_0x176439===_0x21cd5e(0x112)||_0x176439==='-c'||_0x176439['startsWith'](_0x21cd5e(0x139)));_0x8517e3[_0x21cd5e(0xf4)](_0x2f106e,_0x8517e3[_0x2f106e][_0x21cd5e(0x8f)](_0x164758[_0x21cd5e(0xf5)])?0x1:0x2);}const _0x5d5b92={};return _0x5d5b92[_0x21cd5e(0xb2)]=_0x57266c,_0x5d5b92[_0x21cd5e(0xb5)]=_0x37d09f,_0x5d5b92;},handleO11yRerun=_0x514c8e=>{const _0x5c6ed7=a40_0x2227db,_0x43b2d5={};_0x43b2d5[_0x5c6ed7(0xa6)]=_0x5c6ed7(0x9d);const _0x1c10bc=_0x43b2d5,_0x34caa4=helper[_0x5c6ed7(0x135)](process['env'][_0x5c6ed7(0x11f)]);if(_0x34caa4){const _0x36a6ec=process[_0x5c6ed7(0x121)][_0x5c6ed7(0x108)],_0x4b8970=[];if(helper[_0x5c6ed7(0x9c)](_0x36a6ec)&&!helper[_0x5c6ed7(0xb0)](_0x36a6ec)){_0x36a6ec[_0x5c6ed7(0xd6)](',')['map'](_0x4fb37=>{const _0x40ee13=_0x5c6ed7;_0x4b8970[_0x40ee13(0xa3)]('('+_0x4fb37['trim']()+')');});const _0x1b9c43='^'+_0x4b8970[_0x5c6ed7(0x8e)]('|')+'$';_0x514c8e[_0x5c6ed7(0xa3)](_0x1c10bc[_0x5c6ed7(0xa6)],_0x1b9c43);}}},spawnOriginalProcess=_0x1c2536=>{const _0x3a4110=a40_0x2227db,_0x5dafab={'bXBDI':function(_0x30eb3c,_0x58f600,_0x1fbbbc,_0x2b1190){return _0x30eb3c(_0x58f600,_0x1fbbbc,_0x2b1190);},'sjMSB':_0x3a4110(0x8b),'PpAYt':_0x3a4110(0x110),'DRCjW':function(_0x626b33,_0x5b6c00){return _0x626b33===_0x5b6c00;},'CZDGU':_0x3a4110(0xac),'MkuSN':_0x3a4110(0x100)};_0x5dafab[_0x3a4110(0xe1)](spawn,_0x5dafab[_0x3a4110(0xcb)],[_0x5dafab[_0x3a4110(0x90)],..._0x1c2536[_0x3a4110(0xbf)](0x1)],{'shell':_0x5dafab[_0x3a4110(0xa4)](process[_0x3a4110(0x119)],_0x5dafab[_0x3a4110(0x113)]),'stdio':_0x5dafab[_0x3a4110(0xfd)],'cwd':process[_0x3a4110(0x8a)]()});},isTestCommand=(_0x31985c,_0x10fc1d)=>{const _0x15c86f=a40_0x2227db,_0x295241={};_0x295241[_0x15c86f(0xb6)]=function(_0x53390f,_0x68994e){return _0x53390f>_0x68994e;},_0x295241[_0x15c86f(0xcc)]=function(_0x246df5,_0x4f868c){return _0x246df5===_0x4f868c;},_0x295241[_0x15c86f(0xc9)]=_0x15c86f(0x128);const _0x5da9e5=_0x295241;if(_0x5da9e5[_0x15c86f(0xb6)](_0x10fc1d[_0x15c86f(0xe2)],0x1)&&_0x5da9e5[_0x15c86f(0xcc)](_0x10fc1d[0x1],_0x5da9e5[_0x15c86f(0xc9)]))return!![];return![];};async function run(_0x5fbc6,_0xd09839,_0x56e0b8){const _0x1f0366=a40_0x2227db,_0x4e9769={'CpsoZ':function(_0x1265bb){return _0x1265bb();},'nsgoS':_0x1f0366(0xfa),'txXoT':function(_0x2e902d,_0x1afaaf){return _0x2e902d+_0x1afaaf;},'iBCOi':_0x1f0366(0x10c),'hbsef':function(_0x549ce4,_0x85f987){return _0x549ce4(_0x85f987);},'ykkfn':_0x1f0366(0x88),'IiJmz':function(_0x1672ea,_0x3f659e){return _0x1672ea+_0x3f659e;},'ReYtv':_0x1f0366(0xc0),'lOUIK':_0x1f0366(0xdf),'CWcJn':function(_0x5a9ff5,_0x1956db){return _0x5a9ff5===_0x1956db;},'TFkya':'false','oedMW':_0x1f0366(0xde),'Cyeki':function(_0x30377f,_0x1fec8e){return _0x30377f>=_0x1fec8e;},'ZQlns':'automation','rakTm':function(_0x466d85,_0xc08f0d){return _0x466d85!=_0xc08f0d;},'DlFrM':function(_0x3793a6,_0x4440a1,_0x598835){return _0x3793a6(_0x4440a1,_0x598835);},'hieXm':function(_0x2d605e,_0x3083f2){return _0x2d605e(_0x3083f2);},'uMNIy':function(_0x270b97,_0x451130){return _0x270b97===_0x451130;},'csOwe':_0x1f0366(0xe4),'WnZrv':function(_0x3a1f2c,_0x3727c4){return _0x3a1f2c(_0x3727c4);},'LeRAW':_0x1f0366(0xaa),'scgAC':function(_0x489115,_0x3f7847){return _0x489115===_0x3f7847;},'WHqIT':_0x1f0366(0xd3),'GwAFX':_0x1f0366(0x9b),'zLmsw':function(_0xc86221,_0x22efee){return _0xc86221-_0x22efee;},'KfrhR':_0x1f0366(0x11c),'tqKVr':function(_0x53e99b,_0x539708){return _0x53e99b>_0x539708;},'vlbTc':function(_0x5b8674,_0x5eba77,_0x4cbf99,_0x5bb06a){return _0x5b8674(_0x5eba77,_0x4cbf99,_0x5bb06a);},'VvqWZ':_0x1f0366(0x8b),'jbYKE':_0x1f0366(0x110),'mpwRM':_0x1f0366(0x128),'nfjnR':_0x1f0366(0x112),'HDcPx':'win32','PNeHp':_0x1f0366(0x100),'HsnWj':'close','rXdUp':'Error\x20in\x20deleting\x20playwright\x20results','udcGX':function(_0x38f7d8,_0x180416,_0x523bde){return _0x38f7d8(_0x180416,_0x523bde);},'FgpdB':function(_0x4a54f6,_0x57e285){return _0x4a54f6(_0x57e285);}};try{const _0x156e03=path[_0x1f0366(0x8e)](helper[_0x1f0366(0xf6)](),_0x4e9769[_0x1f0366(0xa7)],_0x4e9769['ykkfn']);fs[_0x1f0366(0xe8)](_0x156e03)&&fs[_0x1f0366(0x107)](_0x156e03);}catch(_0x1be54e){logger['debug'](_0x4e9769[_0x1f0366(0xd0)](_0x4e9769[_0x1f0366(0x134)],_0x1be54e));}if(!_0x4e9769[_0x1f0366(0x10a)](isTestCommand,_0x5fbc6,_0xd09839)){_0x4e9769[_0x1f0366(0x103)](spawnOriginalProcess,_0xd09839);return;}await PerformanceTester['measureWrapper'](PerformanceEvents[_0x1f0366(0x9a)],async()=>{const _0x4aae6a=_0x1f0366,_0x224241={'Lksrk':function(_0x2aa4cd,_0x35f755){const _0x4a6e54=a40_0x1405;return _0x4e9769[_0x4a6e54(0x104)](_0x2aa4cd,_0x35f755);},'msrMu':_0x4e9769[_0x4aae6a(0xa7)],'rSSBE':_0x4e9769[_0x4aae6a(0x129)],'QNYxM':function(_0x141d16,_0x33f984){const _0x3529eb=_0x4aae6a;return _0x4e9769[_0x3529eb(0xd0)](_0x141d16,_0x33f984);},'NuFQy':_0x4e9769[_0x4aae6a(0x105)]};if(!_0x56e0b8[_0x4aae6a(0xb5)]){logger[_0x4aae6a(0x120)](_0x4e9769[_0x4aae6a(0x8d)]);return;}await _0x56e0b8[_0x4aae6a(0xdc)](_0x5fbc6),CLIUtils[_0x4aae6a(0x115)](FRAMEWORKS[_0x4aae6a(0xae)],FRAMEWORKS[_0x4aae6a(0xae)]),BrowserstackCLI['getInstance']()[_0x4aae6a(0xba)](_0x56e0b8[_0x4aae6a(0xb5)],_0x56e0b8[_0x4aae6a(0x133)]),await BrowserstackCLI['getInstance']()[_0x4aae6a(0xb9)]();const _0x418ce6=BrowserstackCLI[_0x4aae6a(0xff)]()[_0x4aae6a(0x85)]();!helper[_0x4aae6a(0xdd)](_0x418ce6[_0x4aae6a(0x93)])&&(process[_0x4aae6a(0x121)][_0x4aae6a(0x92)]=!![]);_0x4e9769[_0x4aae6a(0xd1)](_0x418ce6['browserstackAutomation'],![])&&(process[_0x4aae6a(0x121)][_0x4aae6a(0x92)]=_0x4e9769['TFkya'],_0xd09839=_0xd09839['filter'](_0x2bb7e6=>_0x2bb7e6!==_0x4aae6a(0x130)));const _0x453a85=_0xd09839[_0x4aae6a(0xd2)](_0x4e9769['oedMW']);(_0x4e9769[_0x4aae6a(0xa9)](_0x453a85,0x0)||_0x4e9769['CWcJn'](_0x418ce6[_0x4aae6a(0xb7)],![]))&&(process[_0x4aae6a(0x121)][_0x4aae6a(0xfb)]=_0x4e9769[_0x4aae6a(0xe3)],_0xd09839=_0xd09839[_0x4aae6a(0xaf)](_0x257d67=>_0x257d67!==_0x4aae6a(0xde)));!helper[_0x4aae6a(0xb0)](_0x56e0b8[_0x4aae6a(0x133)])&&_0x56e0b8[_0x4aae6a(0x133)][_0x4aae6a(0x11b)](_0x4e9769['ZQlns'])&&(process['env'][_0x4aae6a(0x92)]=_0x56e0b8[_0x4aae6a(0x133)][_0x4aae6a(0xf1)](_0x4e9769[_0x4aae6a(0x9e)])||!![]);_0x4e9769[_0x4aae6a(0xd8)](_0x56e0b8[_0x4aae6a(0xb5)][_0x4aae6a(0xb7)],null)&&!helper[_0x4aae6a(0x135)](process[_0x4aae6a(0x121)][_0x4aae6a(0xfb)])&&(process[_0x4aae6a(0x121)][_0x4aae6a(0xfb)]=process['env'][_0x4aae6a(0xfb)]||_0x56e0b8[_0x4aae6a(0xb5)]['testObservability']);const _0x250e8a=!helper[_0x4aae6a(0xdd)](process[_0x4aae6a(0x121)][_0x4aae6a(0xfb)]);_0x56e0b8['config'][_0x4aae6a(0xc4)]&&(process['env'][_0x4aae6a(0xce)]=JSON[_0x4aae6a(0x11e)](_0x56e0b8[_0x4aae6a(0xb5)][_0x4aae6a(0xc4)]));let _0x2bad25=![];_0x56e0b8['config']['accessibility']&&(_0x2bad25=!![],process[_0x4aae6a(0x121)][_0x4aae6a(0x91)]=_0x56e0b8[_0x4aae6a(0xb5)]['accessibility']);const _0x4ba77f=_0xd09839[_0x4aae6a(0x99)](),_0x2890b3=await _0x4e9769[_0x4aae6a(0xc7)](getUserPlaywrightConfig,_0x5fbc6,_0xd09839);if(helper[_0x4aae6a(0xb0)](_0x2890b3)){_0x4e9769['hieXm'](spawnOriginalProcess,_0x4ba77f);return;}const _0x76333d=_0x2890b3[_0x4aae6a(0xb2)]?path[_0x4aae6a(0x132)](_0x2890b3['path']):process[_0x4aae6a(0x8a)]();process[_0x4aae6a(0x121)][_0x4aae6a(0xdb)]=_0x76333d,await PerformanceTester[_0x4aae6a(0xea)](PerformanceEvents[_0x4aae6a(0x95)],async()=>{const _0x4300b7=_0x4aae6a;!BrowserstackCLI['getInstance']()[_0x4300b7(0xa1)]()&&await TestHubHandler[_0x4300b7(0xf3)](FRAMEWORKS[_0x4300b7(0xae)],_0x56e0b8),_0x250e8a&&_0x224241['Lksrk'](handleO11yRerun,_0xd09839);})();if(!BrowserstackCLI['getInstance']()['isRunning']()){let _0x11d6f5=_0x4e9769['uMNIy'](process[_0x4aae6a(0x121)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML'],_0x4e9769['csOwe']);_0x11d6f5=_0x11d6f5||_0x4e9769[_0x4aae6a(0xe0)](checkAccessibilityPlatformConfig,_0x56e0b8[_0x4aae6a(0xb5)]),process[_0x4aae6a(0x121)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x11d6f5,_0x11d6f5&&_0x4e9769[_0x4aae6a(0x104)](setAccessibilityCapabilities,_0x56e0b8['config']);}const _0x3a8a07=path[_0x4aae6a(0x8e)](_0x2890b3[_0x4aae6a(0xb2)]?path[_0x4aae6a(0x132)](_0x2890b3['path']):process[_0x4aae6a(0x8a)](),_0x4e9769['LeRAW']);fs[_0x4aae6a(0x102)](_0x3a8a07,helper[_0x4aae6a(0x116)](_0x56e0b8[_0x4aae6a(0xb5)])),process[_0x4aae6a(0x121)]['BROWSERSTACK_SETUP_CONFIG_PATH']=_0x3a8a07,helper[_0x4aae6a(0xe9)]();let _0x5a3d02='';_0x4e9769[_0x4aae6a(0x131)](helper[_0x4aae6a(0xc1)](),constants['PACKAGE_TYPE'][_0x4aae6a(0x117)])?_0x5a3d02=_0x4e9769[_0x4aae6a(0xfc)]:_0x5a3d02=_0x4e9769[_0x4aae6a(0x10b)];let _0x4dcee7='';if(helper['isTypescriptProject'](_0x2890b3['path'])){_0x4dcee7=_0x4aae6a(0xa0);const _0x230ce4=_0x5a3d02[_0x4aae6a(0xd6)]('.');_0x230ce4[_0x4e9769[_0x4aae6a(0xda)](_0x230ce4[_0x4aae6a(0xe2)],0x1)]='ts',_0x5a3d02=_0x230ce4['join']('.'),logger['debug'](_0x4e9769[_0x4aae6a(0xd0)](_0x4e9769['KfrhR'],_0x5a3d02));}else _0x4dcee7=_0x4aae6a(0xa2);const _0x587446=path['join'](_0x2890b3[_0x4aae6a(0xb2)]?path['dirname'](_0x2890b3['path']):process[_0x4aae6a(0x8a)](),_0x5a3d02);let _0x59406c=_0x2890b3[_0x4aae6a(0xb2)]?_0x2890b3[_0x4aae6a(0xb2)]:'';_0x59406c=_0x4e9769[_0x4aae6a(0x11a)](_0x59406c['length'],0x0)?path[_0x4aae6a(0xa8)](_0x59406c):'',process[_0x4aae6a(0x121)][_0x4aae6a(0x106)]=_0x59406c;const _0x39f560=helper[_0x4aae6a(0x114)](_0x56e0b8[_0x4aae6a(0xb5)]),_0x210324=helper[_0x4aae6a(0xbc)](_0x56e0b8[_0x4aae6a(0xb5)]);logger[_0x4aae6a(0xc5)](_0x4aae6a(0x12d)+_0x39f560),logger[_0x4aae6a(0xc5)](_0x4aae6a(0xef)+_0x210324);_0x39f560&&(_0x4dcee7=_0x4e9769[_0x4aae6a(0x10f)](_0x4aae6a(0x86)+_0x39f560+'\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22'+_0x210324+_0x4aae6a(0x89),_0x4dcee7));helper[_0x4aae6a(0x12c)]({},_0xd09839),fs[_0x4aae6a(0x102)](_0x587446,_0x4dcee7),PerformanceTester[_0x4aae6a(0xc2)](PerformanceEvents[_0x4aae6a(0xb3)]);const _0x29b57b=_0x4e9769[_0x4aae6a(0x96)](spawn,_0x4e9769[_0x4aae6a(0xc3)],[_0x4e9769[_0x4aae6a(0xeb)],_0x4e9769[_0x4aae6a(0xe5)],_0x4e9769[_0x4aae6a(0xc6)],_0x587446,..._0xd09839['slice'](0x2)],{'shell':_0x4e9769[_0x4aae6a(0x131)](process[_0x4aae6a(0x119)],_0x4e9769['HDcPx']),'stdio':_0x4e9769[_0x4aae6a(0x127)],'cwd':process['cwd'](),'env':Object['assign']({},process[_0x4aae6a(0x121)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper[_0x4aae6a(0xe6)](_0x5fbc6),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x56e0b8['config'][_0x4aae6a(0x87)][_0x4aae6a(0xbb)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x56e0b8[_0x4aae6a(0xb5)][_0x4aae6a(0x87)]['skipSessionName'],'BROWSERSTACK_LOG_LEVEL':_0x56e0b8[_0x4aae6a(0xb5)][_0x4aae6a(0xec)]})}),_0x5965fb=()=>{const _0x322a90=_0x4aae6a;try{const _0x5af4ef=path[_0x322a90(0x8e)](helper[_0x322a90(0xf6)](),_0x224241[_0x322a90(0x136)],_0x224241['rSSBE']);if(fs[_0x322a90(0xe8)](_0x5af4ef)){let _0x4b42f9=fs[_0x322a90(0xc8)](_0x5af4ef);_0x4b42f9=JSON[_0x322a90(0xbe)](_0x4b42f9),_0x56e0b8[_0x322a90(0x126)]=_0x4b42f9,fs['unlinkSync'](_0x5af4ef);}}catch(_0x554005){logger[_0x322a90(0xc5)](_0x224241['QNYxM'](_0x224241[_0x322a90(0xfe)],_0x554005));}};_0x29b57b['on'](_0x4e9769[_0x4aae6a(0x101)],async _0x312b5c=>{const _0xc82604=_0x4aae6a;try{PerformanceTester[_0xc82604(0xf2)](PerformanceEvents[_0xc82604(0xca)]),_0x4e9769[_0xc82604(0xcd)](_0x5965fb),await TestHubHandler[_0xc82604(0x124)](),await BrowserstackCLI[_0xc82604(0xff)]()[_0xc82604(0x124)](),TestDetails[_0xc82604(0xd4)](),_0x4e9769['CpsoZ'](printBuildLink),await utilities['finalExecution'](_0x56e0b8),process['exitCode']=_0x312b5c,logger[_0xc82604(0xc5)](_0xc82604(0xb1)+_0x312b5c),logger['info']('Deleting\x20'+_0x587446),fs['unlinkSync'](_0x587446);fs[_0xc82604(0xe8)](_0x3a8a07)&&(logger[_0xc82604(0xc5)](_0xc82604(0xed)+_0x3a8a07),fs[_0xc82604(0x107)](_0x3a8a07));const _0x3ba81f=fs['readdirSync'](path[_0xc82604(0x8e)](helper[_0xc82604(0xf6)](),_0x4e9769[_0xc82604(0xa7)]))[_0xc82604(0xaf)](_0x5192b4=>_0x5192b4[_0xc82604(0x8f)]('trace_'));_0x3ba81f[_0xc82604(0x137)](_0x52f859=>{const _0x500536=_0xc82604;fs['unlinkSync'](path[_0x500536(0x8e)](helper[_0x500536(0xf6)](),_0x224241[_0x500536(0x136)],_0x52f859));});}catch(_0x5b5182){logger['debug'](_0x4e9769[_0xc82604(0x10f)](_0x4e9769['iBCOi'],_0x5b5182));}});})();}module[a40_0x2227db(0x12e)]=run;