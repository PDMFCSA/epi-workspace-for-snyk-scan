#!/usr/bin/env node
'use strict';const a36_0x2f5395=a36_0x3f9a;function a36_0x3f9a(_0x22c4d1,_0x101035){const _0x3b5eee=a36_0x3b5e();return a36_0x3f9a=function(_0x3f9ac0,_0x240ce6){_0x3f9ac0=_0x3f9ac0-0xf8;let _0x702361=_0x3b5eee[_0x3f9ac0];return _0x702361;},a36_0x3f9a(_0x22c4d1,_0x101035);}(function(_0x462d08,_0x147cde){const _0x5410e9=a36_0x3f9a,_0x2f4a87=_0x462d08();while(!![]){try{const _0x5b4af6=parseInt(_0x5410e9(0x101))/0x1*(parseInt(_0x5410e9(0x167))/0x2)+-parseInt(_0x5410e9(0x16e))/0x3+-parseInt(_0x5410e9(0x153))/0x4+parseInt(_0x5410e9(0x16c))/0x5*(parseInt(_0x5410e9(0xfd))/0x6)+-parseInt(_0x5410e9(0xfc))/0x7*(parseInt(_0x5410e9(0x105))/0x8)+-parseInt(_0x5410e9(0x13d))/0x9+parseInt(_0x5410e9(0x158))/0xa;if(_0x5b4af6===_0x147cde)break;else _0x2f4a87['push'](_0x2f4a87['shift']());}catch(_0x56fc16){_0x2f4a87['push'](_0x2f4a87['shift']());}}}(a36_0x3b5e,0xb4633));function a36_0x3b5e(){const _0x4c0947=['rJZfi','error','svprM','debug','cZbZG','isUndefined','SDK_SETUP','bootstrap','filterBrowserstackArgs','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','ckdTL','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','browserstackAutomation','./accessibility-helper','writeFileSync','join','BROWSERSTACK_TEST_ACCESSIBILITY_YML','gbWIG','true','homedir','.browserstack','BROWSERSTACK_SETUP_CONFIG_PATH','../utils/constants','uxQct','browserstackSetupConfig.json','../../helpers/BrowserStackSetup','resolve','../../helpers/test-observability/constants','../../helpers/utilities','get','ivxoN','findIndex','../../helpers/accessibility-automation/helper','logLevel','QMLCM','playwright-browserstack-sdk.config.js','hbJBN','slice','../../helpers/test-observability/utils','env','KvVjC','ZMaaC','sVAhM','getProxyUrl','indexOf','MiFaV','splice','DTOay','aFqJz','2382583bYXzKP','2550reiNKg','bZXmi','./reporter/test-details','automation','1034gdCTZc','MODULE','QCBrM','close','16Ianbpr','testContextOptions','--disable-browserstack-automation','shkQB','config','errorMessage','--grep','startsWith','abxIo','eatGp','BROWSERSTACK_RERUN_TESTS','test','../../helpers/performance/performance-tester','existsSync','resolvedConfigFile','cIjLE','cwd','gzDio','../../helpers/helper','getConfigPath','parse','xAXSj','testObservability','OcpSG','BROWSERSTACK_TEST_OBSERVABILITY','USER_CONFIG_DETAILS_PATH','Updated\x20config\x20file\x20name\x20to\x20-\x20','exitCode','inherit','AOFFn','isRunning','npx','vpElf','accessibility','util','winstonLogger','readFileSync','QotDs','skipSessionName','platform','PLAYWRIGHT','../../helpers/performance/constants','getInstance','BROWSERSTACK_RERUN','unlinkSync','win32','XOTMq','nrEnc','trace_','false','getConfig','push','OjMaZ','ifcPe','../../helpers/logger','isFalse','3119823YCjXCt','trim','length','pw_result.json','fbFmY','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','QWypD','filter','isTypescriptProject','getPackageType','SDK_CLEANUP','accessibilityOptions','measureWrapper','--disable-test-observability','JPsXS','child_process','dirname','YvXVZ','oGynr','split','playwright','setFrameworkDetail','4885180RKxaxr','bPTqR','Error\x20in\x20deleting\x20playwright\x20results','finalExecution','QnrXh','25954390cBsGPD','has','HVomw','pcRDi','qzarb','Error\x20in\x20getting\x20funnel\x20data\x20results','stop','skipSessionStatus','PACKAGE_TYPE','requirePWModule','gddwq','./reporter/pwUtils','path','isTrue','UZVGj','2458LOuzkB','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','xFdDQ','../v2/TestInfo','NDhpB','1055hFTVdB','xXxhn','2905059wCIwIw','end','Deleting\x20','BROWSERSTACK_AUTOMATION','GIIaQ','serializeToYamlString','zktZx','validateRerunTestList','cliConfig','vCPZe','forEach'];a36_0x3b5e=function(){return _0x4c0947;};return a36_0x3b5e();}const fs=require('fs'),path=require(a36_0x2f5395(0x164)),{spawn}=require(a36_0x2f5395(0x14c)),{format}=require(a36_0x2f5395(0x127)),logger=require(a36_0x2f5395(0x13b))[a36_0x2f5395(0x128)],{default:BrowserStackSetup}=require(a36_0x2f5395(0x192)),helper=require(a36_0x2f5395(0x117)),utilities=require(a36_0x2f5395(0x195)),constants=require(a36_0x2f5395(0x18f)),{FRAMEWORKS}=require(a36_0x2f5395(0x194)),{getConfigLoaderPath}=require(a36_0x2f5395(0x163)),{checkAccessibilityPlatformConfig}=require(a36_0x2f5395(0x199)),{setAccessibilityCapabilities}=require(a36_0x2f5395(0x186)),{printBuildLink}=require(a36_0x2f5395(0x19f)),TestDetails=require(a36_0x2f5395(0xff)),TestHubHandler=require('../../helpers/testhub/testhubHandler'),PerformanceTester=require(a36_0x2f5395(0x111)),BrowserstackCLI=require('../v2/browserstackCLI'),PerformanceEvents=require(a36_0x2f5395(0x12e))['EVENTS'],CLIUtils=require('../v2/cliUtils'),TestInfo=require(a36_0x2f5395(0x16a)),getUserPlaywrightConfig=async(_0x373e9c,_0x57aa9c)=>{const _0x7e6c2e=a36_0x2f5395,_0x250c19={'GIIaQ':function(_0x29f748){return _0x29f748();},'bZXmi':function(_0x3c6c9e,_0x3c1d54){return _0x3c6c9e(_0x3c1d54);},'rJZfi':function(_0x1333c2,_0x49d329){return _0x1333c2(_0x49d329);},'QWypD':_0x7e6c2e(0x113),'gnWPg':'--config='},_0x32da28=!helper[_0x7e6c2e(0x17e)](_0x373e9c[_0x7e6c2e(0x109)]),_0x9a37c0=_0x32da28?path[_0x7e6c2e(0x193)](process[_0x7e6c2e(0x115)](),_0x373e9c[_0x7e6c2e(0x109)]):process[_0x7e6c2e(0x115)](),{resolveConfigFile:_0x492e32,resolveConfigLocation:_0x5e5409}=helper[_0x7e6c2e(0x161)]['apply'](null,_0x250c19[_0x7e6c2e(0x172)](getConfigLoaderPath)),_0x583471=_0x492e32?_0x250c19[_0x7e6c2e(0xfe)](_0x492e32,_0x9a37c0):helper['nestedKeyValue'](_0x250c19[_0x7e6c2e(0x179)](_0x5e5409,_0x9a37c0),[_0x250c19[_0x7e6c2e(0x143)]]),_0x3bedb4={};if(_0x32da28){const _0x441ee1=_0x57aa9c[_0x7e6c2e(0x198)](_0xf014d9=>_0xf014d9==='--config'||_0xf014d9==='-c'||_0xf014d9[_0x7e6c2e(0x10c)]('--config='));_0x57aa9c[_0x7e6c2e(0xf9)](_0x441ee1,_0x57aa9c[_0x441ee1]['startsWith'](_0x250c19['gnWPg'])?0x1:0x2);}const _0x3d082a={};return _0x3d082a['path']=_0x583471,_0x3d082a['config']=_0x3bedb4,_0x3d082a;},handleO11yRerun=_0x4ff9aa=>{const _0x19921d=a36_0x2f5395,_0x3a7502={};_0x3a7502['nrEnc']=_0x19921d(0x10b);const _0x3e7dd9=_0x3a7502,_0x3c9e78=helper['isTrue'](process[_0x19921d(0x1a0)][_0x19921d(0x130)]);if(_0x3c9e78){const _0x3df3c9=process[_0x19921d(0x1a0)][_0x19921d(0x10f)],_0x14ffb7=[];if(helper[_0x19921d(0x175)](_0x3df3c9)&&!helper[_0x19921d(0x17e)](_0x3df3c9)){_0x3df3c9[_0x19921d(0x150)](',')['map'](_0x5efdcd=>{const _0x1dab8d=_0x19921d;_0x14ffb7['push']('('+_0x5efdcd[_0x1dab8d(0x13e)]()+')');});const _0x239e5c='^'+_0x14ffb7[_0x19921d(0x188)]('|')+'$';_0x4ff9aa[_0x19921d(0x138)](_0x3e7dd9[_0x19921d(0x134)],_0x239e5c);}}},spawnOriginalProcess=_0x412de6=>{const _0x2a0ae9=a36_0x2f5395,_0x4d5179={'vCPZe':function(_0x2d82aa,_0x44b357,_0x551854,_0x4321ff){return _0x2d82aa(_0x44b357,_0x551854,_0x4321ff);},'cIjLE':_0x2a0ae9(0x124),'QMLCM':'playwright','svprM':function(_0x5d84a7,_0x396b24){return _0x5d84a7===_0x396b24;},'oGynr':'win32','XOTMq':_0x2a0ae9(0x121)};_0x4d5179[_0x2a0ae9(0x177)](spawn,_0x4d5179[_0x2a0ae9(0x114)],[_0x4d5179[_0x2a0ae9(0x19b)],..._0x412de6['slice'](0x1)],{'shell':_0x4d5179[_0x2a0ae9(0x17b)](process[_0x2a0ae9(0x12c)],_0x4d5179[_0x2a0ae9(0x14f)]),'stdio':_0x4d5179[_0x2a0ae9(0x133)],'cwd':process[_0x2a0ae9(0x115)]()});},isTestCommand=(_0x210ee8,_0x5ebd22)=>{const _0x857e5b=a36_0x2f5395,_0x1dc7ab={};_0x1dc7ab['RjJzt']=function(_0x63146d,_0x44580d){return _0x63146d>_0x44580d;},_0x1dc7ab[_0x857e5b(0x14e)]=function(_0x43f213,_0x4bf13e){return _0x43f213===_0x4bf13e;},_0x1dc7ab['ifcPe']='test';const _0x240dac=_0x1dc7ab;if(_0x240dac['RjJzt'](_0x5ebd22[_0x857e5b(0x13f)],0x1)&&_0x240dac[_0x857e5b(0x14e)](_0x5ebd22[0x1],_0x240dac[_0x857e5b(0x13a)]))return!![];return![];};async function run(_0x24008b,_0x978f85,_0x58cfeb){const _0xdfcfe=a36_0x2f5395,_0x306598={'shkQB':function(_0x1a4a50,_0x25ad56){return _0x1a4a50(_0x25ad56);},'JPsXS':function(_0x2d6b0f){return _0x2d6b0f();},'YbpJP':function(_0x323db7){return _0x323db7();},'zktZx':_0xdfcfe(0x18d),'sVAhM':function(_0x3ac85c,_0x8086a){return _0x3ac85c+_0x8086a;},'vpElf':'Error\x20in\x20closing\x20playwright','XVfIZ':_0xdfcfe(0x140),'KvVjC':_0xdfcfe(0x15d),'DTOay':'BrowserStack\x20config\x20file\x20not\x20found.','OcpSG':function(_0x2d8d11,_0x37f271){return _0x2d8d11===_0x37f271;},'eatGp':_0xdfcfe(0x136),'fbFmY':_0xdfcfe(0x14a),'xXxhn':function(_0x14817a,_0x38b495){return _0x14817a>=_0x38b495;},'cZbZG':function(_0x3864bc,_0x46b90b){return _0x3864bc===_0x46b90b;},'QCBrM':_0xdfcfe(0x100),'uxQct':function(_0xdd63f3,_0x44b15a){return _0xdd63f3!=_0x44b15a;},'OjMaZ':function(_0x3775f6,_0x565bf0,_0x7c6267){return _0x3775f6(_0x565bf0,_0x7c6267);},'AOFFn':_0xdfcfe(0x18b),'NDhpB':function(_0x1fc3e1,_0x1b0dd3){return _0x1fc3e1(_0x1b0dd3);},'qzarb':function(_0x226df2,_0x10d209){return _0x226df2(_0x10d209);},'MiFaV':_0xdfcfe(0x191),'aFqJz':'playwright-browserstack-sdk.config.cjs','QotDs':_0xdfcfe(0x19c),'gbWIG':function(_0x15029c,_0x4cd1e5){return _0x15029c-_0x4cd1e5;},'UZVGj':_0xdfcfe(0x11f),'abxIo':function(_0x4a14be,_0x401226){return _0x4a14be>_0x401226;},'bPTqR':function(_0x3cee7f,_0x807eca,_0x4ce5c9,_0x49a76c){return _0x3cee7f(_0x807eca,_0x4ce5c9,_0x49a76c);},'RxsoJ':_0xdfcfe(0x124),'gddwq':_0xdfcfe(0x151),'hbJBN':_0xdfcfe(0x110),'gzDio':'--config','xAXSj':function(_0x16776e,_0x2c00e9){return _0x16776e===_0x2c00e9;},'NYRRj':_0xdfcfe(0x132),'HVomw':_0xdfcfe(0x121),'ZMaaC':_0xdfcfe(0x104),'ckdTL':function(_0x40f03b,_0x1adfc4){return _0x40f03b+_0x1adfc4;},'ivxoN':_0xdfcfe(0x155)};try{const _0xb57a25=path['join'](helper[_0xdfcfe(0x18c)](),_0x306598[_0xdfcfe(0x174)],_0x306598['XVfIZ']);fs[_0xdfcfe(0x112)](_0xb57a25)&&fs['unlinkSync'](_0xb57a25);}catch(_0x3d7bc8){logger[_0xdfcfe(0x17c)](_0x306598[_0xdfcfe(0x183)](_0x306598[_0xdfcfe(0x197)],_0x3d7bc8));}if(!_0x306598['OjMaZ'](isTestCommand,_0x24008b,_0x978f85)){_0x306598[_0xdfcfe(0x15c)](spawnOriginalProcess,_0x978f85);return;}await PerformanceTester[_0xdfcfe(0x149)](PerformanceEvents['SDK_PRE_INITIALIZE'],async()=>{const _0x5d572b=_0xdfcfe,_0x404fc5={'mFjLA':_0x306598['zktZx'],'xFdDQ':_0x306598['XVfIZ'],'pcRDi':function(_0x11060b,_0x401427){const _0x14c6f6=a36_0x3f9a;return _0x306598[_0x14c6f6(0x1a3)](_0x11060b,_0x401427);},'QnrXh':_0x306598[_0x5d572b(0x1a1)]};if(!_0x58cfeb[_0x5d572b(0x109)]){logger[_0x5d572b(0x17a)](_0x306598[_0x5d572b(0xfa)]);return;}await _0x58cfeb['initialize'](_0x24008b),CLIUtils[_0x5d572b(0x152)](FRAMEWORKS[_0x5d572b(0x12d)],FRAMEWORKS[_0x5d572b(0x12d)]),BrowserstackCLI[_0x5d572b(0x12f)]()['setBrowserstackConfig'](_0x58cfeb[_0x5d572b(0x109)],_0x58cfeb[_0x5d572b(0x176)]),await BrowserstackCLI[_0x5d572b(0x12f)]()[_0x5d572b(0x180)]();const _0x4f4aab=BrowserstackCLI[_0x5d572b(0x12f)]()[_0x5d572b(0x137)]();!helper[_0x5d572b(0x13c)](_0x4f4aab[_0x5d572b(0x185)])&&(process[_0x5d572b(0x1a0)][_0x5d572b(0x171)]=!![]);_0x306598[_0x5d572b(0x11c)](_0x4f4aab[_0x5d572b(0x185)],![])&&(process[_0x5d572b(0x1a0)][_0x5d572b(0x171)]=_0x306598[_0x5d572b(0x10e)],_0x978f85=_0x978f85[_0x5d572b(0x144)](_0x2f9fb7=>_0x2f9fb7!==_0x5d572b(0x107)));const _0x5c6c81=_0x978f85[_0x5d572b(0x1a5)](_0x306598[_0x5d572b(0x141)]);(_0x306598[_0x5d572b(0x16d)](_0x5c6c81,0x0)||_0x306598[_0x5d572b(0x17d)](_0x4f4aab['testObservability'],![]))&&(process[_0x5d572b(0x1a0)][_0x5d572b(0x11d)]=_0x306598['eatGp'],_0x978f85=_0x978f85[_0x5d572b(0x144)](_0x4a0f34=>_0x4a0f34!==_0x5d572b(0x14a)));!helper[_0x5d572b(0x17e)](_0x58cfeb[_0x5d572b(0x176)])&&_0x58cfeb[_0x5d572b(0x176)][_0x5d572b(0x159)](_0x306598[_0x5d572b(0x103)])&&(process[_0x5d572b(0x1a0)][_0x5d572b(0x171)]=_0x58cfeb['cliConfig'][_0x5d572b(0x196)](_0x306598[_0x5d572b(0x103)])||!![]);_0x306598[_0x5d572b(0x190)](_0x58cfeb[_0x5d572b(0x109)][_0x5d572b(0x11b)],null)&&!helper[_0x5d572b(0x165)](process['env'][_0x5d572b(0x11d)])&&(process[_0x5d572b(0x1a0)][_0x5d572b(0x11d)]=process['env'][_0x5d572b(0x11d)]||_0x58cfeb[_0x5d572b(0x109)][_0x5d572b(0x11b)]);const _0x2a71e5=!helper[_0x5d572b(0x13c)](process[_0x5d572b(0x1a0)][_0x5d572b(0x11d)]);_0x58cfeb[_0x5d572b(0x109)][_0x5d572b(0x148)]&&(process['env'][_0x5d572b(0x184)]=JSON['stringify'](_0x58cfeb[_0x5d572b(0x109)][_0x5d572b(0x148)]));let _0x109acd=![];_0x58cfeb[_0x5d572b(0x109)][_0x5d572b(0x126)]&&(_0x109acd=!![],process[_0x5d572b(0x1a0)][_0x5d572b(0x189)]=_0x58cfeb[_0x5d572b(0x109)]['accessibility']);const _0x399788=_0x978f85['concat'](),_0x8bd796=await _0x306598[_0x5d572b(0x139)](getUserPlaywrightConfig,_0x24008b,_0x978f85);if(helper[_0x5d572b(0x17e)](_0x8bd796)){_0x306598[_0x5d572b(0x108)](spawnOriginalProcess,_0x399788);return;}const _0x71c939=_0x8bd796[_0x5d572b(0x164)]?path[_0x5d572b(0x14d)](_0x8bd796['path']):process[_0x5d572b(0x115)]();process[_0x5d572b(0x1a0)]['BROWSERSTACK_PW_CONFIG_DIR']=_0x71c939,await PerformanceTester[_0x5d572b(0x149)](PerformanceEvents['SDK_POST_INITIALIZE'],async()=>{const _0x42896f=_0x5d572b;!BrowserstackCLI[_0x42896f(0x12f)]()[_0x42896f(0x123)]()&&await TestHubHandler['launchBuild'](FRAMEWORKS[_0x42896f(0x12d)],_0x58cfeb),_0x2a71e5&&_0x306598[_0x42896f(0x108)](handleO11yRerun,_0x978f85);})();if(!BrowserstackCLI['getInstance']()['isRunning']()){let _0x3638a7=_0x306598['OcpSG'](process[_0x5d572b(0x1a0)][_0x5d572b(0x189)],_0x306598[_0x5d572b(0x122)]);_0x3638a7=_0x3638a7||_0x306598[_0x5d572b(0x16b)](checkAccessibilityPlatformConfig,_0x58cfeb[_0x5d572b(0x109)]),process[_0x5d572b(0x1a0)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x3638a7,_0x3638a7&&_0x306598['qzarb'](setAccessibilityCapabilities,_0x58cfeb['config']);}const _0x29cfd0=path['join'](_0x8bd796[_0x5d572b(0x164)]?path[_0x5d572b(0x14d)](_0x8bd796[_0x5d572b(0x164)]):process[_0x5d572b(0x115)](),_0x306598[_0x5d572b(0xf8)]);fs[_0x5d572b(0x187)](_0x29cfd0,helper[_0x5d572b(0x173)](_0x58cfeb['config'])),process[_0x5d572b(0x1a0)][_0x5d572b(0x18e)]=_0x29cfd0,helper['clearTempPWConfig']();let _0xfbb171='';_0x306598[_0x5d572b(0x11c)](helper[_0x5d572b(0x146)](),constants[_0x5d572b(0x160)][_0x5d572b(0x102)])?_0xfbb171=_0x306598[_0x5d572b(0xfb)]:_0xfbb171=_0x306598[_0x5d572b(0x12a)];let _0x15903f='';if(helper[_0x5d572b(0x145)](_0x8bd796[_0x5d572b(0x164)])){_0x15903f=_0x5d572b(0x142);const _0x52cb5e=_0xfbb171[_0x5d572b(0x150)]('.');_0x52cb5e[_0x306598[_0x5d572b(0x18a)](_0x52cb5e[_0x5d572b(0x13f)],0x1)]='ts',_0xfbb171=_0x52cb5e[_0x5d572b(0x188)]('.'),logger['debug'](_0x306598[_0x5d572b(0x1a3)](_0x306598[_0x5d572b(0x166)],_0xfbb171));}else _0x15903f=_0x5d572b(0x182);const _0x38b465=path[_0x5d572b(0x188)](_0x8bd796[_0x5d572b(0x164)]?path[_0x5d572b(0x14d)](_0x8bd796['path']):process[_0x5d572b(0x115)](),_0xfbb171);let _0x555c08=_0x8bd796[_0x5d572b(0x164)]?_0x8bd796[_0x5d572b(0x164)]:'';_0x555c08=_0x306598[_0x5d572b(0x10d)](_0x555c08['length'],0x0)?path[_0x5d572b(0x193)](_0x555c08):'',process[_0x5d572b(0x1a0)][_0x5d572b(0x11e)]=_0x555c08;const _0x32a850=helper[_0x5d572b(0x1a4)](_0x58cfeb[_0x5d572b(0x109)]);_0x32a850&&(_0x15903f=_0x306598[_0x5d572b(0x1a3)](_0x5d572b(0x168)+_0x32a850+'\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();',_0x15903f));helper[_0x5d572b(0x181)]({},_0x978f85),fs['writeFileSync'](_0x38b465,_0x15903f),PerformanceTester[_0x5d572b(0x16f)](PerformanceEvents[_0x5d572b(0x17f)]);const _0x530283=_0x306598[_0x5d572b(0x154)](spawn,_0x306598['RxsoJ'],[_0x306598[_0x5d572b(0x162)],_0x306598[_0x5d572b(0x19d)],_0x306598[_0x5d572b(0x116)],_0x38b465,..._0x978f85[_0x5d572b(0x19e)](0x2)],{'shell':_0x306598[_0x5d572b(0x11a)](process[_0x5d572b(0x12c)],_0x306598['NYRRj']),'stdio':_0x306598[_0x5d572b(0x15a)],'cwd':process[_0x5d572b(0x115)](),'env':Object['assign']({},process[_0x5d572b(0x1a0)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper[_0x5d572b(0x118)](_0x24008b),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x58cfeb[_0x5d572b(0x109)][_0x5d572b(0x106)][_0x5d572b(0x15f)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x58cfeb[_0x5d572b(0x109)][_0x5d572b(0x106)][_0x5d572b(0x12b)],'BROWSERSTACK_LOG_LEVEL':_0x58cfeb[_0x5d572b(0x109)][_0x5d572b(0x19a)]})}),_0x48d2cc=()=>{const _0x16cad4=_0x5d572b;try{const _0x4db4a8=path[_0x16cad4(0x188)](helper[_0x16cad4(0x18c)](),_0x404fc5['mFjLA'],_0x404fc5[_0x16cad4(0x169)]);if(fs['existsSync'](_0x4db4a8)){let _0x530150=fs[_0x16cad4(0x129)](_0x4db4a8);_0x530150=JSON[_0x16cad4(0x119)](_0x530150),_0x58cfeb[_0x16cad4(0x10a)]=_0x530150,fs[_0x16cad4(0x131)](_0x4db4a8);}}catch(_0x151814){logger[_0x16cad4(0x17c)](_0x404fc5[_0x16cad4(0x15b)](_0x404fc5[_0x16cad4(0x157)],_0x151814));}};_0x530283['on'](_0x306598[_0x5d572b(0x1a2)],async _0xde83e6=>{const _0x5ec311=_0x5d572b;try{PerformanceTester['start'](PerformanceEvents[_0x5ec311(0x147)]),_0x306598[_0x5ec311(0x14b)](_0x48d2cc);!BrowserstackCLI['getInstance']()[_0x5ec311(0x123)]()&&await TestHubHandler[_0x5ec311(0x15e)]();await BrowserstackCLI['getInstance']()[_0x5ec311(0x15e)](),TestDetails['shutdown'](),_0x306598['YbpJP'](printBuildLink),await utilities[_0x5ec311(0x156)](_0x58cfeb),process[_0x5ec311(0x120)]=_0xde83e6,logger[_0x5ec311(0x17c)]('Playwright\x20process\x20exited\x20with\x20code\x20'+_0xde83e6),logger['info'](_0x5ec311(0x170)+_0x38b465),fs[_0x5ec311(0x131)](_0x38b465);fs[_0x5ec311(0x112)](_0x29cfd0)&&(logger['debug']('Deleting\x20'+_0x29cfd0),fs[_0x5ec311(0x131)](_0x29cfd0));const _0x133bed=fs['readdirSync'](path[_0x5ec311(0x188)](helper[_0x5ec311(0x18c)](),_0x306598['zktZx']))[_0x5ec311(0x144)](_0x16c604=>_0x16c604['startsWith'](_0x5ec311(0x135)));_0x133bed[_0x5ec311(0x178)](_0x105ad9=>{const _0x143b21=_0x5ec311;fs['unlinkSync'](path[_0x143b21(0x188)](helper[_0x143b21(0x18c)](),_0x404fc5['mFjLA'],_0x105ad9));});}catch(_0x4bc46b){logger['debug'](_0x306598[_0x5ec311(0x1a3)](_0x306598[_0x5ec311(0x125)],_0x4bc46b));}});})();}module['exports']=run;