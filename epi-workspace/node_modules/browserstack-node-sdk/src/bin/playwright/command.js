#!/usr/bin/env node
'use strict';const a40_0x365d1f=a40_0x8f2e;function a40_0x8f2e(_0x68ca2c,_0xc00044){const _0x18ef7a=a40_0x18ef();return a40_0x8f2e=function(_0x8f2eb,_0x3c0573){_0x8f2eb=_0x8f2eb-0xdd;let _0x190527=_0x18ef7a[_0x8f2eb];return _0x190527;},a40_0x8f2e(_0x68ca2c,_0xc00044);}(function(_0xf3849e,_0x1738b8){const _0x5a5142=a40_0x8f2e,_0xab2ef1=_0xf3849e();while(!![]){try{const _0x5bc01f=-parseInt(_0x5a5142(0x189))/0x1+-parseInt(_0x5a5142(0xf7))/0x2*(parseInt(_0x5a5142(0xfb))/0x3)+-parseInt(_0x5a5142(0x160))/0x4*(-parseInt(_0x5a5142(0x11a))/0x5)+parseInt(_0x5a5142(0x142))/0x6*(-parseInt(_0x5a5142(0x12e))/0x7)+parseInt(_0x5a5142(0x18d))/0x8*(parseInt(_0x5a5142(0xf1))/0x9)+parseInt(_0x5a5142(0x16c))/0xa*(parseInt(_0x5a5142(0x112))/0xb)+-parseInt(_0x5a5142(0xfa))/0xc*(-parseInt(_0x5a5142(0x108))/0xd);if(_0x5bc01f===_0x1738b8)break;else _0xab2ef1['push'](_0xab2ef1['shift']());}catch(_0x32a3c6){_0xab2ef1['push'](_0xab2ef1['shift']());}}}(a40_0x18ef,0xbe36c));function a40_0x18ef(){const _0x5ea779=['trace_','UCbXy','cliConfig','--disable-test-observability','uxLYs','VDNFC','SDK_POST_INITIALIZE','concat','startsWith','6163912jXqLsu','BROWSERSTACK_RERUN_TESTS','PJQcs','parse','clearTempPWConfig','inherit','push','playwright-browserstack-sdk.config.js','requirePWModule','SKKgn','BROWSERSTACK_TEST_OBSERVABILITY','../v2/TestInfo','10QBNGkW','splice','browserstackSetupConfig.json','winstonLogger','../../helpers/test-observability/constants','Vcjfw','PEpwa','existsSync','cowts','mreeZ','BROWSERSTACK_RERUN','BROWSERSTACK_SETUP_CONFIG_PATH','errorMessage','accessibilityOptions','nestedKeyValue','setBrowserstackConfig','SDK_SETUP','child_process','config','npx','lEfat','env','stop','setFrameworkDetail','.browserstack','getInstance','wbVMW','IRjng','PLAYWRIGHT','1056250CUfnAr','forEach','AFFZm','./accessibility-helper','8qEuMTK','Updated\x20config\x20file\x20name\x20to\x20-\x20','msart','length','resolve','ckbsu','findIndex','join','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','--config=','playwright-browserstack-sdk.config.cjs','automation','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','Hlddw','finalExecution','CSIeB','xRXRf','FIATQ','BrowserStack\x20config\x20file\x20not\x20found.','VrUKe','SdgYW','../../helpers/testhub/testhubHandler','Playwright\x20process\x20exited\x20with\x20code\x20','JWBzR','qPXUW','10204281fiDAGq','SDK_CLEANUP','Deleting\x20','pw_result.json','vuIUE','../../helpers/performance/constants','100916BRozdb','WjVCZ','path','2196lHKPzH','45vZtbcE','end','dTvKI','cPQCP','unlinkSync','hIYgc','nFsjg','info','tgTgg','EuAji','win32','xubQR','EVENTS','23179wxOETP','util','slQIk','apply','tzqWY','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','browserstackAutomation','writeFileSync','isTrue','USER_CONFIG_DETAILS_PATH','4098468lwIMgj','getConfig','start','isTypescriptProject','testObservability','bootstrap','split','../../helpers/utilities','5blMaHr','--config','ECrhq','igfpX','close','true','filterBrowserstackArgs','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','readdirSync','../../helpers/performance/performance-tester','bqpJt','Error\x20in\x20deleting\x20playwright\x20results','getProxyUrl','slice','rHaHI','filter','skipSessionName','../../helpers/helper','accessibility','../v2/cliUtils','14ITfDGT','SDK_PRE_INITIALIZE','validateRerunTestList','debug','getPackageType','map','FPaWx','--grep','SIqba','MODULE','../v2/browserstackCLI','BROWSERSTACK_TEST_ACCESSIBILITY_YML','isUndefined','testContextOptions','../../helpers/BrowserStackSetup','readFileSync','cwd','dirname','jmUhE','BROWSERSTACK_AUTOMATION','2344284yTPgGG','false','fiNXM','tjBkD','error','test','skipSessionStatus','../../helpers/test-observability/utils','resolvedConfigFile','assign','isRunning','YeuEo','homedir','PACKAGE_TYPE','initialize','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','../../helpers/accessibility-automation/helper','platform','bSOSt','hoPqz','ztIXN'];a40_0x18ef=function(){return _0x5ea779;};return a40_0x18ef();}const fs=require('fs'),path=require(a40_0x365d1f(0xf9)),{spawn}=require(a40_0x365d1f(0x17d)),{format}=require(a40_0x365d1f(0x109)),logger=require('../../helpers/logger')[a40_0x365d1f(0x16f)],{default:BrowserStackSetup}=require(a40_0x365d1f(0x13c)),helper=require(a40_0x365d1f(0x12b)),utilities=require(a40_0x365d1f(0x119)),constants=require('../utils/constants'),{FRAMEWORKS}=require(a40_0x365d1f(0x170)),{getConfigLoaderPath}=require('./reporter/pwUtils'),{checkAccessibilityPlatformConfig}=require(a40_0x365d1f(0x152)),{setAccessibilityCapabilities}=require(a40_0x365d1f(0x18c)),{printBuildLink}=require(a40_0x365d1f(0x149)),TestDetails=require('./reporter/test-details'),TestHubHandler=require(a40_0x365d1f(0xed)),PerformanceTester=require(a40_0x365d1f(0x123)),BrowserstackCLI=require(a40_0x365d1f(0x138)),PerformanceEvents=require(a40_0x365d1f(0xf6))[a40_0x365d1f(0x107)],CLIUtils=require(a40_0x365d1f(0x12d)),TestInfo=require(a40_0x365d1f(0x16b)),getUserPlaywrightConfig=async(_0x4ac52f,_0x1f9429)=>{const _0x2de1fb=a40_0x365d1f,_0x1709b9={'uxLYs':function(_0x2fa265){return _0x2fa265();},'jmUhE':function(_0x316c8d,_0x20d98){return _0x316c8d(_0x20d98);},'AFFZm':_0x2de1fb(0x14a),'qPXUW':'--config='},_0x3ccfe4=!helper['isUndefined'](_0x4ac52f['config']),_0x7a6b6c=_0x3ccfe4?path[_0x2de1fb(0x191)](process[_0x2de1fb(0x13e)](),_0x4ac52f[_0x2de1fb(0x17e)]):process[_0x2de1fb(0x13e)](),{resolveConfigFile:_0x21f28e,resolveConfigLocation:_0x3a4753}=helper[_0x2de1fb(0x168)][_0x2de1fb(0x10b)](null,_0x1709b9[_0x2de1fb(0x15b)](getConfigLoaderPath)),_0x5edafd=_0x21f28e?_0x1709b9[_0x2de1fb(0x140)](_0x21f28e,_0x7a6b6c):helper[_0x2de1fb(0x17a)](_0x1709b9[_0x2de1fb(0x140)](_0x3a4753,_0x7a6b6c),[_0x1709b9[_0x2de1fb(0x18b)]]),_0x591111={};if(_0x3ccfe4){const _0x3b8afe=_0x1f9429[_0x2de1fb(0xde)](_0x51529f=>_0x51529f===_0x2de1fb(0x11b)||_0x51529f==='-c'||_0x51529f['startsWith'](_0x2de1fb(0xe1)));_0x1f9429[_0x2de1fb(0x16d)](_0x3b8afe,_0x1f9429[_0x3b8afe][_0x2de1fb(0x15f)](_0x1709b9[_0x2de1fb(0xf0)])?0x1:0x2);}const _0x7a11cc={};return _0x7a11cc[_0x2de1fb(0xf9)]=_0x5edafd,_0x7a11cc[_0x2de1fb(0x17e)]=_0x591111,_0x7a11cc;},handleO11yRerun=_0x15fcf9=>{const _0x47797b=a40_0x365d1f,_0x3dde7f={};_0x3dde7f[_0x47797b(0x158)]=_0x47797b(0x135);const _0x2bdd69=_0x3dde7f,_0x3dc647=helper[_0x47797b(0x110)](process['env'][_0x47797b(0x176)]);if(_0x3dc647){const _0x2257f5=process[_0x47797b(0x181)][_0x47797b(0x161)],_0x2cb926=[];if(helper[_0x47797b(0x130)](_0x2257f5)&&!helper[_0x47797b(0x13a)](_0x2257f5)){_0x2257f5[_0x47797b(0x118)](',')[_0x47797b(0x133)](_0x2a0d9b=>{_0x2cb926['push']('('+_0x2a0d9b['trim']()+')');});const _0x8ce747='^'+_0x2cb926['join']('|')+'$';_0x15fcf9[_0x47797b(0x166)](_0x2bdd69[_0x47797b(0x158)],_0x8ce747);}}},spawnOriginalProcess=_0x1d1873=>{const _0xb27a5b=a40_0x365d1f,_0x2e70dd={'IRjng':function(_0x389824,_0x1635ca,_0x5d8aa9,_0x23eba6){return _0x389824(_0x1635ca,_0x5d8aa9,_0x23eba6);},'ckbsu':_0xb27a5b(0x17f),'mreeZ':'playwright','tzqWY':function(_0x36151d,_0x352919){return _0x36151d===_0x352919;},'FIATQ':_0xb27a5b(0x105),'wbVMW':_0xb27a5b(0x165)};_0x2e70dd[_0xb27a5b(0x187)](spawn,_0x2e70dd[_0xb27a5b(0xdd)],[_0x2e70dd[_0xb27a5b(0x175)],..._0x1d1873['slice'](0x1)],{'shell':_0x2e70dd[_0xb27a5b(0x10c)](process[_0xb27a5b(0x153)],_0x2e70dd[_0xb27a5b(0xe9)]),'stdio':_0x2e70dd[_0xb27a5b(0x186)],'cwd':process['cwd']()});},isTestCommand=(_0x4b252d,_0x191786)=>{const _0x165770=a40_0x365d1f,_0x39147a={};_0x39147a['cowts']=function(_0x387064,_0x11c6ee){return _0x387064>_0x11c6ee;},_0x39147a[_0x165770(0x14d)]=function(_0x2741a5,_0x3e9718){return _0x2741a5===_0x3e9718;},_0x39147a['tgTgg']=_0x165770(0x147);const _0x2e1f22=_0x39147a;if(_0x2e1f22[_0x165770(0x174)](_0x191786[_0x165770(0x190)],0x1)&&_0x2e1f22['YeuEo'](_0x191786[0x1],_0x2e1f22[_0x165770(0x103)]))return!![];return![];};async function run(_0x37513f,_0x2ac579,_0x24121a){const _0x13deed=a40_0x365d1f,_0x5af675={'tjBkD':function(_0x4c1a11,_0x2ec9ec){return _0x4c1a11(_0x2ec9ec);},'stNoF':_0x13deed(0x184),'lEfat':_0x13deed(0xf4),'VDNFC':function(_0x469d85,_0x485a4e){return _0x469d85+_0x485a4e;},'hIYgc':'Error\x20in\x20getting\x20funnel\x20data\x20results','ztIXN':function(_0x1acecc){return _0x1acecc();},'igfpX':'Error\x20in\x20closing\x20playwright','JWBzR':_0x13deed(0xea),'XmFol':function(_0x44299f,_0x21f4e8){return _0x44299f===_0x21f4e8;},'WjVCZ':_0x13deed(0x143),'FPaWx':_0x13deed(0x15a),'cPQCP':function(_0x175655,_0x2615e5){return _0x175655>=_0x2615e5;},'slQIk':function(_0x36cb29,_0x62708){return _0x36cb29===_0x62708;},'nNLRL':_0x13deed(0xe3),'Hlddw':function(_0x3c0403,_0x4360fb){return _0x3c0403!=_0x4360fb;},'xRXRf':function(_0xdbfb8e,_0x3380a5,_0x26ac28){return _0xdbfb8e(_0x3380a5,_0x26ac28);},'Vcjfw':function(_0x4f9d7a,_0x3b0797){return _0x4f9d7a(_0x3b0797);},'VrUKe':function(_0x59a439,_0x45d0c6){return _0x59a439===_0x45d0c6;},'bqpJt':_0x13deed(0x11f),'vpMaw':function(_0xbb9fe6,_0x5d639a){return _0xbb9fe6(_0x5d639a);},'fiNXM':_0x13deed(0x16e),'SdgYW':_0x13deed(0xe2),'bSOSt':_0x13deed(0x167),'ECrhq':function(_0x2aa3cd,_0x4acaa1){return _0x2aa3cd-_0x4acaa1;},'nFsjg':function(_0x237518,_0x10fd7f){return _0x237518+_0x10fd7f;},'zhTng':_0x13deed(0x18e),'ZukPs':function(_0x464a14,_0x152a64){return _0x464a14>_0x152a64;},'EuAji':function(_0x53543a,_0x17d563){return _0x53543a+_0x17d563;},'CSIeB':function(_0x75c6db,_0x40fbfe,_0x541eb2,_0xf85760){return _0x75c6db(_0x40fbfe,_0x541eb2,_0xf85760);},'dIXer':_0x13deed(0x17f),'vuIUE':'playwright','PEpwa':'test','PJQcs':_0x13deed(0x11b),'dTvKI':function(_0x47fcc6,_0x588778){return _0x47fcc6===_0x588778;},'SIqba':_0x13deed(0x105),'tKJEX':_0x13deed(0x165),'msart':_0x13deed(0x11e),'lDQVb':_0x13deed(0x125),'hoPqz':function(_0x40046f,_0x200940,_0x289b5b){return _0x40046f(_0x200940,_0x289b5b);}};try{const _0x26e484=path[_0x13deed(0xdf)](helper['homedir'](),_0x5af675['stNoF'],_0x5af675['lEfat']);fs[_0x13deed(0x173)](_0x26e484)&&fs[_0x13deed(0xff)](_0x26e484);}catch(_0x551cde){logger['debug'](_0x5af675[_0x13deed(0x101)](_0x5af675['lDQVb'],_0x551cde));}if(!_0x5af675[_0x13deed(0x155)](isTestCommand,_0x37513f,_0x2ac579)){_0x5af675[_0x13deed(0x171)](spawnOriginalProcess,_0x2ac579);return;}await PerformanceTester['measureWrapper'](PerformanceEvents[_0x13deed(0x12f)],async()=>{const _0x5166a2=_0x13deed,_0x66d3fe={'rHaHI':_0x5af675['stNoF'],'SKKgn':_0x5af675[_0x5166a2(0x180)],'xubQR':function(_0x48d96e,_0xb607e9){const _0x4213fd=_0x5166a2;return _0x5af675[_0x4213fd(0x15c)](_0x48d96e,_0xb607e9);},'lowBB':_0x5af675[_0x5166a2(0x100)],'YfTVE':function(_0x509154){const _0x4b83d9=_0x5166a2;return _0x5af675[_0x4b83d9(0x156)](_0x509154);},'fefTq':_0x5af675[_0x5166a2(0x11d)]};if(!_0x24121a[_0x5166a2(0x17e)]){logger[_0x5166a2(0x146)](_0x5af675[_0x5166a2(0xef)]);return;}await _0x24121a[_0x5166a2(0x150)](_0x37513f),CLIUtils[_0x5166a2(0x183)](FRAMEWORKS[_0x5166a2(0x188)],FRAMEWORKS[_0x5166a2(0x188)]),BrowserstackCLI['getInstance']()[_0x5166a2(0x17b)](_0x24121a['config'],_0x24121a[_0x5166a2(0x159)]),await BrowserstackCLI[_0x5166a2(0x185)]()[_0x5166a2(0x117)]();const _0x405fb2=BrowserstackCLI[_0x5166a2(0x185)]()[_0x5166a2(0x113)]();!helper['isFalse'](_0x405fb2[_0x5166a2(0x10e)])&&(process[_0x5166a2(0x181)][_0x5166a2(0x141)]=!![]);_0x5af675['XmFol'](_0x405fb2['browserstackAutomation'],![])&&(process[_0x5166a2(0x181)][_0x5166a2(0x141)]=_0x5af675[_0x5166a2(0xf8)],_0x2ac579=_0x2ac579[_0x5166a2(0x129)](_0x5c5f1e=>_0x5c5f1e!=='--disable-browserstack-automation'));const _0x2dc632=_0x2ac579['indexOf'](_0x5af675[_0x5166a2(0x134)]);(_0x5af675[_0x5166a2(0xfe)](_0x2dc632,0x0)||_0x5af675[_0x5166a2(0x10a)](_0x405fb2[_0x5166a2(0x116)],![]))&&(process['env']['BROWSERSTACK_TEST_OBSERVABILITY']=_0x5af675['WjVCZ'],_0x2ac579=_0x2ac579[_0x5166a2(0x129)](_0x544996=>_0x544996!==_0x5166a2(0x15a)));!helper[_0x5166a2(0x13a)](_0x24121a['cliConfig'])&&_0x24121a[_0x5166a2(0x159)]['has'](_0x5af675['nNLRL'])&&(process[_0x5166a2(0x181)][_0x5166a2(0x141)]=_0x24121a[_0x5166a2(0x159)]['get'](_0x5af675['nNLRL'])||!![]);_0x5af675[_0x5166a2(0xe5)](_0x24121a[_0x5166a2(0x17e)]['testObservability'],null)&&!helper[_0x5166a2(0x110)](process['env'][_0x5166a2(0x16a)])&&(process['env'][_0x5166a2(0x16a)]=process['env'][_0x5166a2(0x16a)]||_0x24121a[_0x5166a2(0x17e)][_0x5166a2(0x116)]);const _0xac08c4=!helper['isFalse'](process[_0x5166a2(0x181)][_0x5166a2(0x16a)]);_0x24121a[_0x5166a2(0x17e)][_0x5166a2(0x179)]&&(process[_0x5166a2(0x181)][_0x5166a2(0xe0)]=JSON['stringify'](_0x24121a[_0x5166a2(0x17e)]['accessibilityOptions']));let _0x3ed470=![];_0x24121a[_0x5166a2(0x17e)][_0x5166a2(0x12c)]&&(_0x3ed470=!![],process['env'][_0x5166a2(0x139)]=_0x24121a[_0x5166a2(0x17e)][_0x5166a2(0x12c)]);const _0x459ab6=_0x2ac579[_0x5166a2(0x15e)](),_0x34bdcd=await _0x5af675[_0x5166a2(0xe8)](getUserPlaywrightConfig,_0x37513f,_0x2ac579);if(helper[_0x5166a2(0x13a)](_0x34bdcd)){_0x5af675['Vcjfw'](spawnOriginalProcess,_0x459ab6);return;}const _0x430f9d=_0x34bdcd[_0x5166a2(0xf9)]?path[_0x5166a2(0x13f)](_0x34bdcd[_0x5166a2(0xf9)]):process[_0x5166a2(0x13e)]();process['env']['BROWSERSTACK_PW_CONFIG_DIR']=_0x430f9d,await PerformanceTester['measureWrapper'](PerformanceEvents[_0x5166a2(0x15d)],async()=>{const _0xad12ed=_0x5166a2;!BrowserstackCLI[_0xad12ed(0x185)]()[_0xad12ed(0x14c)]()&&await TestHubHandler['launchBuild'](FRAMEWORKS[_0xad12ed(0x188)],_0x24121a),_0xac08c4&&_0x5af675[_0xad12ed(0x145)](handleO11yRerun,_0x2ac579);})();if(!BrowserstackCLI['getInstance']()[_0x5166a2(0x14c)]()){let _0x50bbd1=_0x5af675[_0x5166a2(0xeb)](process['env'][_0x5166a2(0x139)],_0x5af675[_0x5166a2(0x124)]);_0x50bbd1=_0x50bbd1||_0x5af675[_0x5166a2(0x171)](checkAccessibilityPlatformConfig,_0x24121a[_0x5166a2(0x17e)]),process[_0x5166a2(0x181)][_0x5166a2(0x139)]=_0x50bbd1,_0x50bbd1&&_0x5af675['vpMaw'](setAccessibilityCapabilities,_0x24121a['config']);}const _0x32b6b6=path[_0x5166a2(0xdf)](_0x34bdcd[_0x5166a2(0xf9)]?path[_0x5166a2(0x13f)](_0x34bdcd[_0x5166a2(0xf9)]):process['cwd'](),_0x5af675[_0x5166a2(0x144)]);fs[_0x5166a2(0x10f)](_0x32b6b6,helper['serializeToYamlString'](_0x24121a[_0x5166a2(0x17e)])),process[_0x5166a2(0x181)][_0x5166a2(0x177)]=_0x32b6b6,helper[_0x5166a2(0x164)]();let _0x327683='';_0x5af675[_0x5166a2(0x10a)](helper[_0x5166a2(0x132)](),constants[_0x5166a2(0x14f)][_0x5166a2(0x137)])?_0x327683=_0x5af675[_0x5166a2(0xec)]:_0x327683=_0x5af675[_0x5166a2(0x154)];let _0x26a35f='';if(helper[_0x5166a2(0x115)](_0x34bdcd[_0x5166a2(0xf9)])){_0x26a35f=_0x5166a2(0x10d);const _0x5111f9=_0x327683[_0x5166a2(0x118)]('.');_0x5111f9[_0x5af675[_0x5166a2(0x11c)](_0x5111f9[_0x5166a2(0x190)],0x1)]='ts',_0x327683=_0x5111f9[_0x5166a2(0xdf)]('.'),logger[_0x5166a2(0x131)](_0x5af675[_0x5166a2(0x101)](_0x5af675['zhTng'],_0x327683));}else _0x26a35f=_0x5166a2(0xe4);const _0x4ea1e7=path[_0x5166a2(0xdf)](_0x34bdcd[_0x5166a2(0xf9)]?path['dirname'](_0x34bdcd[_0x5166a2(0xf9)]):process[_0x5166a2(0x13e)](),_0x327683);let _0x3f48a8=_0x34bdcd['path']?_0x34bdcd['path']:'';_0x3f48a8=_0x5af675['ZukPs'](_0x3f48a8[_0x5166a2(0x190)],0x0)?path[_0x5166a2(0x191)](_0x3f48a8):'',process[_0x5166a2(0x181)][_0x5166a2(0x111)]=_0x3f48a8;const _0x41a636=helper[_0x5166a2(0x126)](_0x24121a['config']);_0x41a636&&(_0x26a35f=_0x5af675[_0x5166a2(0x104)](_0x5166a2(0x151)+_0x41a636+_0x5166a2(0x121),_0x26a35f));helper[_0x5166a2(0x120)]({},_0x2ac579),fs[_0x5166a2(0x10f)](_0x4ea1e7,_0x26a35f),PerformanceTester[_0x5166a2(0xfc)](PerformanceEvents[_0x5166a2(0x17c)]);const _0xf8c21f=_0x5af675[_0x5166a2(0xe7)](spawn,_0x5af675['dIXer'],[_0x5af675[_0x5166a2(0xf5)],_0x5af675[_0x5166a2(0x172)],_0x5af675[_0x5166a2(0x162)],_0x4ea1e7,..._0x2ac579[_0x5166a2(0x127)](0x2)],{'shell':_0x5af675[_0x5166a2(0xfd)](process['platform'],_0x5af675[_0x5166a2(0x136)]),'stdio':_0x5af675['tKJEX'],'cwd':process[_0x5166a2(0x13e)](),'env':Object[_0x5166a2(0x14b)]({},process[_0x5166a2(0x181)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper['getConfigPath'](_0x37513f),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x24121a[_0x5166a2(0x17e)][_0x5166a2(0x13b)][_0x5166a2(0x148)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x24121a[_0x5166a2(0x17e)][_0x5166a2(0x13b)][_0x5166a2(0x12a)],'BROWSERSTACK_LOG_LEVEL':_0x24121a[_0x5166a2(0x17e)]['logLevel']})}),_0x3db8dd=()=>{const _0x582f98=_0x5166a2;try{const _0x1fc4d1=path[_0x582f98(0xdf)](helper['homedir'](),_0x66d3fe[_0x582f98(0x128)],_0x66d3fe[_0x582f98(0x169)]);if(fs[_0x582f98(0x173)](_0x1fc4d1)){let _0x52594a=fs[_0x582f98(0x13d)](_0x1fc4d1);_0x52594a=JSON[_0x582f98(0x163)](_0x52594a),_0x24121a[_0x582f98(0x178)]=_0x52594a,fs[_0x582f98(0xff)](_0x1fc4d1);}}catch(_0x49074d){logger['debug'](_0x66d3fe[_0x582f98(0x106)](_0x66d3fe['lowBB'],_0x49074d));}};_0xf8c21f['on'](_0x5af675[_0x5166a2(0x18f)],async _0x365b89=>{const _0x36520f=_0x5166a2;try{PerformanceTester[_0x36520f(0x114)](PerformanceEvents[_0x36520f(0xf2)]),_0x66d3fe['YfTVE'](_0x3db8dd),await TestHubHandler[_0x36520f(0x182)](),await BrowserstackCLI[_0x36520f(0x185)]()[_0x36520f(0x182)](),TestDetails['shutdown'](),_0x66d3fe['YfTVE'](printBuildLink),await utilities[_0x36520f(0xe6)](_0x24121a),process['exitCode']=_0x365b89,logger[_0x36520f(0x131)](_0x36520f(0xee)+_0x365b89),logger[_0x36520f(0x102)](_0x36520f(0xf3)+_0x4ea1e7),fs[_0x36520f(0xff)](_0x4ea1e7);fs[_0x36520f(0x173)](_0x32b6b6)&&(logger[_0x36520f(0x131)](_0x36520f(0xf3)+_0x32b6b6),fs['unlinkSync'](_0x32b6b6));const _0x57bde8=fs[_0x36520f(0x122)](path[_0x36520f(0xdf)](helper[_0x36520f(0x14e)](),_0x66d3fe['rHaHI']))['filter'](_0x59d575=>_0x59d575[_0x36520f(0x15f)](_0x36520f(0x157)));_0x57bde8[_0x36520f(0x18a)](_0x426436=>{const _0x10de8f=_0x36520f;fs[_0x10de8f(0xff)](path[_0x10de8f(0xdf)](helper['homedir'](),_0x66d3fe[_0x10de8f(0x128)],_0x426436));});}catch(_0x1422a2){logger[_0x36520f(0x131)](_0x66d3fe[_0x36520f(0x106)](_0x66d3fe['fefTq'],_0x1422a2));}});})();}module['exports']=run;