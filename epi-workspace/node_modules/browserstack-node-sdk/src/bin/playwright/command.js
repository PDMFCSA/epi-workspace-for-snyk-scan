#!/usr/bin/env node
'use strict';const a39_0xc9c9b8=a39_0x237c;function a39_0x237c(_0x568d42,_0x134083){const _0x196bea=a39_0x196b();return a39_0x237c=function(_0x237c1e,_0x2cbc88){_0x237c1e=_0x237c1e-0x68;let _0x41c6de=_0x196bea[_0x237c1e];return _0x41c6de;},a39_0x237c(_0x568d42,_0x134083);}(function(_0x113292,_0x3261df){const _0x1b7a5a=a39_0x237c,_0x1a5d2c=_0x113292();while(!![]){try{const _0x23e8df=-parseInt(_0x1b7a5a(0x83))/0x1+-parseInt(_0x1b7a5a(0x97))/0x2*(parseInt(_0x1b7a5a(0xa9))/0x3)+-parseInt(_0x1b7a5a(0x121))/0x4*(parseInt(_0x1b7a5a(0xbf))/0x5)+parseInt(_0x1b7a5a(0xd8))/0x6*(-parseInt(_0x1b7a5a(0x85))/0x7)+parseInt(_0x1b7a5a(0xaf))/0x8*(-parseInt(_0x1b7a5a(0x10d))/0x9)+-parseInt(_0x1b7a5a(0xe1))/0xa*(parseInt(_0x1b7a5a(0x10e))/0xb)+parseInt(_0x1b7a5a(0xb4))/0xc;if(_0x23e8df===_0x3261df)break;else _0x1a5d2c['push'](_0x1a5d2c['shift']());}catch(_0x587993){_0x1a5d2c['push'](_0x1a5d2c['shift']());}}}(a39_0x196b,0x59e41));function a39_0x196b(){const _0x2669c6=['homedir','UyOvo','333szPKWe','5071kUSflv','rlCSP','browserstackAutomation','cliConfig','ZuIZB','initialize','winstonLogger','measureWrapper','INTERNALLY_USED_ENV_VARS','PLWlv','Deleting\x20','requirePWModule','isTrue','filter','cfDjk','readdirSync','PLAYWRIGHT','skipSessionStatus','hZoUI','100732egSKeE','No\x20Proxy\x20:\x20','wdwYh','info','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','Error\x20in\x20deleting\x20playwright\x20results','XAeAs','mYNwm','--disable-test-observability','npx','MODULE','--config=','filterBrowserstackArgs','end','trim','IZlKj','testContextOptions','../v2/cliUtils','dAaSi','reportDotBrowserStackFolderNotAccessibleIssue','plmXk','AXxJT','LySaB','CuObN','WRyWG','qiLzn','accessSync','SDK_PRE_INITIALIZE','bootstrap','BROWSERSTACK_TEST_ACCESSIBILITY_YML','HQiNl','yAgqa','.browserstack','Error\x20in\x20accessing\x20.browserstack\x20directory:\x20','isUndefined','browserstackSetupConfig.json','../v2/TestInfo','tAczl','mTBqU','59976HRJuLK','joDxr','3539193bNvPCJ','stringify','exitCode','finalExecution','../../helpers/logger','map','existsSync','parse','start','hOjdE','dirname','push','BROWSERSTACK_TEST_OBSERVABILITY','TWHDR','OlXjP','resolve','ogWJY','pw_result.json','2iedFoR','BROWSERSTACK_PW_CONFIG_DIR','cZwXq','Error\x20in\x20closing\x20playwright','validateRerunTestList','xzQDF','AAaRI','setFrameworkDetail','shutdown','has','BROWSERSTACK_SETUP_CONFIG_PATH','Ybtdl','launchBuild','isYarnPnP','NyBeZ','clearTempPWConfig','ukxCh','rcBaP','76314caJMHL','unlinkSync','concat','../utils/constants','setBrowserstackConfig','BROWSERSTACK_RERUN','71696bnCMUu','ztmJh','env','htDwl','path','25990248mTcMLy','./accessibility-helper','BROWSERSTACK_AUTOMATION','../../helpers/utilities','playwright','ZiSaK','fpKnX','NWYFZ','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','QLAfl','../../helpers/test-observability/utils','105zNOpVq','readFileSync','XigSZ','GMVPd','cwd','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','getProxyUrl','AoeKz','test','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','JIwTI','win32','stop','fHaSo','splice','./reporter/test-details','zDQCy','isFalse','./reporter/pwUtils','yarn','error','--config','requireConfigLoaderYarnPnP','getInstance','--disable-browserstack-automation','6bYksYc','bEBFV','debug','../../helpers/testhub/testhubHandler','getNoProxy','platform','BROWSERSTACK_RERUN_TESTS','playwright-browserstack-sdk.config.js','writeFileSync','7510yzXRqf','ySPID','constants','resolvedConfigFile','startsWith','../../helpers/helper','R_OK','config','metBM','SDK_SETUP','xpoBO','close','Proxy\x20url\x20:\x20','tdjbu','accessibility','../utils/clientTroubleshootingService','SDK_POST_INITIALIZE','../v2/browserstackCLI','XWgWh','join','apply','../../helpers/BrowserStackSetup','inherit','W_OK','../../helpers/accessibility-automation/helper','length','CXsNC','slice','accessibilityOptions','testObservability','USER_CONFIG_DETAILS_PATH','../../helpers/test-observability/constants','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22','drNGp','split','../../helpers/performance/performance-tester','reportConflictingEnvVarIssue','VxwbH','kFFTv','assign','isTypescriptProject','isRunning'];a39_0x196b=function(){return _0x2669c6;};return a39_0x196b();}const fs=require('fs'),path=require('path'),{spawn}=require('child_process'),{format}=require('util'),logger=require(a39_0xc9c9b8(0x89))[a39_0xc9c9b8(0x114)],{default:BrowserStackSetup}=require(a39_0xc9c9b8(0xf6)),helper=require(a39_0xc9c9b8(0xe6)),utilities=require(a39_0xc9c9b8(0xb7)),constants=require(a39_0xc9c9b8(0xac)),{FRAMEWORKS}=require(a39_0xc9c9b8(0x100)),{getConfigLoaderPath}=require(a39_0xc9c9b8(0xd1)),{checkAccessibilityPlatformConfig}=require(a39_0xc9c9b8(0xf9)),{setAccessibilityCapabilities}=require(a39_0xc9c9b8(0xb5)),{printBuildLink}=require(a39_0xc9c9b8(0xbe)),TestDetails=require(a39_0xc9c9b8(0xce)),TestHubHandler=require(a39_0xc9c9b8(0xdb)),PerformanceTester=require(a39_0xc9c9b8(0x104)),BrowserstackCLI=require(a39_0xc9c9b8(0xf2)),PerformanceEvents=require('../../helpers/performance/constants')['EVENTS'],CLIUtils=require(a39_0xc9c9b8(0x6d)),TestInfo=require(a39_0xc9c9b8(0x80)),ClientTroubleShootingService=require(a39_0xc9c9b8(0xf0)),getUserPlaywrightConfig=async(_0x405388,_0x32e5af)=>{const _0x45e20f=a39_0xc9c9b8,_0x2fffd8={'AXxJT':function(_0x48c49a){return _0x48c49a();},'YMNht':function(_0x3aec79){return _0x3aec79();},'DQsYM':function(_0x125846,_0x2847fd){return _0x125846(_0x2847fd);},'azypw':function(_0x5e0b1f,_0x367a76){return _0x5e0b1f(_0x367a76);},'mTBqU':_0x45e20f(0xe4),'cZwXq':_0x45e20f(0x12c)},_0x57adb6=!helper[_0x45e20f(0x7e)](_0x405388['config']),_0x39f504=_0x57adb6?path['resolve'](process[_0x45e20f(0xc3)](),_0x405388[_0x45e20f(0xe8)]):process[_0x45e20f(0xc3)](),{resolveConfigFile:_0x2dd3de,resolveConfigLocation:_0x89732e}=helper[_0x45e20f(0xa4)]()?helper[_0x45e20f(0xd5)](..._0x2fffd8[_0x45e20f(0x71)](getConfigLoaderPath)):helper[_0x45e20f(0x119)][_0x45e20f(0xf5)](null,_0x2fffd8['YMNht'](getConfigLoaderPath)),_0x483b0a=_0x2dd3de?_0x2fffd8['DQsYM'](_0x2dd3de,_0x39f504):helper['nestedKeyValue'](_0x2fffd8['azypw'](_0x89732e,_0x39f504),[_0x2fffd8[_0x45e20f(0x82)]]),_0xb265cf={};if(_0x57adb6){const _0x30b388=_0x32e5af['findIndex'](_0x368dd9=>_0x368dd9===_0x45e20f(0xd4)||_0x368dd9==='-c'||_0x368dd9[_0x45e20f(0xe5)](_0x45e20f(0x12c)));_0x32e5af[_0x45e20f(0xcd)](_0x30b388,_0x32e5af[_0x30b388][_0x45e20f(0xe5)](_0x2fffd8[_0x45e20f(0x99)])?0x1:0x2);}const _0x35cf7e={};return _0x35cf7e[_0x45e20f(0xb3)]=_0x483b0a,_0x35cf7e[_0x45e20f(0xe8)]=_0xb265cf,_0x35cf7e;},handleO11yRerun=_0x3eb8f3=>{const _0x50948c=a39_0xc9c9b8,_0x645d8b={};_0x645d8b[_0x50948c(0xc6)]='--grep';const _0x563a17=_0x645d8b,_0x45b3a1=helper['isTrue'](process[_0x50948c(0xb1)][_0x50948c(0xae)]);if(_0x45b3a1){const _0x991b76=process[_0x50948c(0xb1)][_0x50948c(0xde)],_0x419a05=[];if(helper[_0x50948c(0x9b)](_0x991b76)&&!helper[_0x50948c(0x7e)](_0x991b76)){_0x991b76['split'](',')[_0x50948c(0x8a)](_0x5343a7=>{const _0x3e447d=_0x50948c;_0x419a05['push']('('+_0x5343a7[_0x3e447d(0x6a)]()+')');});const _0x20701a='^'+_0x419a05['join']('|')+'$';_0x3eb8f3[_0x50948c(0x90)](_0x563a17[_0x50948c(0xc6)],_0x20701a);}}},spawnOriginalProcess=_0x43152b=>{const _0x5c0bd1=a39_0xc9c9b8,_0x45dc6a={'oGYlB':function(_0x41b2d2,_0x6652ee,_0x41f5b0,_0x47554b){return _0x41b2d2(_0x6652ee,_0x41f5b0,_0x47554b);},'GMVPd':_0x5c0bd1(0xd2),'JIwTI':_0x5c0bd1(0x12a),'XAeAs':'playwright','joDxr':function(_0x23b5ff,_0x20b32e){return _0x23b5ff===_0x20b32e;},'AAaRI':_0x5c0bd1(0xca),'qGFnc':_0x5c0bd1(0xf7)};_0x45dc6a['oGYlB'](spawn,helper['isYarnPnP']()?_0x45dc6a[_0x5c0bd1(0xc2)]:_0x45dc6a[_0x5c0bd1(0xc9)],[_0x45dc6a[_0x5c0bd1(0x127)],..._0x43152b['slice'](0x1)],{'shell':_0x45dc6a[_0x5c0bd1(0x84)](process[_0x5c0bd1(0xdd)],_0x45dc6a[_0x5c0bd1(0x9d)]),'stdio':_0x45dc6a['qGFnc'],'cwd':process[_0x5c0bd1(0xc3)]()});},isTestCommand=(_0x3bf8c7,_0x33d095)=>{const _0x16d6f8=a39_0xc9c9b8,_0x117df0={};_0x117df0['fHaSo']=function(_0x339ba6,_0x3a26b4){return _0x339ba6>_0x3a26b4;},_0x117df0[_0x16d6f8(0xf3)]=function(_0x494aa4,_0x17bac6){return _0x494aa4===_0x17bac6;},_0x117df0[_0x16d6f8(0x120)]=_0x16d6f8(0xc7);const _0x4f352=_0x117df0;if(_0x4f352[_0x16d6f8(0xcc)](_0x33d095[_0x16d6f8(0xfa)],0x1)&&_0x4f352[_0x16d6f8(0xf3)](_0x33d095[0x1],_0x4f352[_0x16d6f8(0x120)]))return!![];return![];};async function run(_0x2c8bbc,_0x2a8ca7,_0x1bc3eb){const _0x391d73=a39_0xc9c9b8,_0x35b58b={'ZiSaK':function(_0x40ccf3,_0x59ce0a){return _0x40ccf3(_0x59ce0a);},'fpKnX':_0x391d73(0x7c),'XigSZ':function(_0x42fa5a){return _0x42fa5a();},'NyBeZ':function(_0x5508b9,_0x497dd7){return _0x5508b9+_0x497dd7;},'ZuIZB':_0x391d73(0x9a),'CXsNC':_0x391d73(0x96),'VxwbH':'Error\x20in\x20getting\x20funnel\x20data\x20results','qiLzn':'BrowserStack\x20config\x20file\x20not\x20found.','iFIlq':function(_0x312ba2,_0x8a70d9){return _0x312ba2<_0x8a70d9;},'ukxCh':function(_0x43aa17,_0x3a1e20){return _0x43aa17===_0x3a1e20;},'WRyWG':'false','ztmJh':'--disable-test-observability','htDwl':function(_0x194a7c,_0x39d886){return _0x194a7c>=_0x39d886;},'rlCSP':'automation','dAaSi':function(_0xf509cc,_0x45a7dd){return _0xf509cc!=_0x45a7dd;},'CuObN':function(_0x1c41d1,_0x5e743a,_0x52d279){return _0x1c41d1(_0x5e743a,_0x52d279);},'UyOvo':'true','bZgTw':function(_0x10f2fa,_0x12cc4e){return _0x10f2fa(_0x12cc4e);},'QLAfl':_0x391d73(0x7f),'zDQCy':function(_0x4a24f6,_0x24c362){return _0x4a24f6===_0x24c362;},'bEBFV':'playwright-browserstack-sdk.config.cjs','kFFTv':_0x391d73(0xdf),'metBM':function(_0x468ce5,_0x2ffaa6){return _0x468ce5-_0x2ffaa6;},'tQlmh':'Updated\x20config\x20file\x20name\x20to\x20-\x20','IZlKj':function(_0x2c69b9,_0x34e271){return _0x2c69b9>_0x34e271;},'hOjdE':function(_0x61eb73,_0x2b6f5b){return _0x61eb73+_0x2b6f5b;},'yAgqa':function(_0x5d89e2,_0x211c56,_0x4f434f,_0x584b63){return _0x5d89e2(_0x211c56,_0x4f434f,_0x584b63);},'plmXk':_0x391d73(0xd2),'xzQDF':_0x391d73(0x12a),'wdwYh':_0x391d73(0xb8),'tdjbu':'test','cfDjk':_0x391d73(0xd4),'ySPID':'win32','drNGp':function(_0x4f2e5a,_0x1aea70){return _0x4f2e5a===_0x1aea70;},'Ybtdl':_0x391d73(0xf7),'PLWlv':_0x391d73(0xec),'OlXjP':function(_0x53d26f,_0x2fc68){return _0x53d26f|_0x2fc68;},'ogWJY':function(_0x4e6843,_0x509d6f){return _0x4e6843+_0x509d6f;},'tAczl':_0x391d73(0x7d),'xpoBO':_0x391d73(0x126),'jzFIG':function(_0x40c3af,_0xcc0d9d,_0x423ee2){return _0x40c3af(_0xcc0d9d,_0x423ee2);},'TWHDR':function(_0x3caf96,_0x3f4a7d){return _0x3caf96(_0x3f4a7d);}};try{const _0x250613=path[_0x391d73(0xf4)](helper[_0x391d73(0x10b)](),_0x35b58b[_0x391d73(0xba)]);try{fs[_0x391d73(0x76)](_0x250613,_0x35b58b[_0x391d73(0x93)](fs[_0x391d73(0xe3)][_0x391d73(0xe7)],fs[_0x391d73(0xe3)][_0x391d73(0xf8)]));}catch(_0x35b593){ClientTroubleShootingService[_0x391d73(0x6f)]();}}catch(_0x448f40){logger[_0x391d73(0xda)](_0x35b58b['ogWJY'](_0x35b58b[_0x391d73(0x81)],_0x448f40));}try{const _0x42bcc3=path[_0x391d73(0xf4)](helper[_0x391d73(0x10b)](),_0x35b58b[_0x391d73(0xba)],_0x35b58b[_0x391d73(0xfb)]);fs[_0x391d73(0x8b)](_0x42bcc3)&&fs['unlinkSync'](_0x42bcc3);}catch(_0x362752){logger[_0x391d73(0xda)](_0x35b58b[_0x391d73(0x95)](_0x35b58b[_0x391d73(0xeb)],_0x362752));}if(!_0x35b58b['jzFIG'](isTestCommand,_0x2c8bbc,_0x2a8ca7)){_0x35b58b[_0x391d73(0x92)](spawnOriginalProcess,_0x2a8ca7);return;}await PerformanceTester['measureWrapper'](PerformanceEvents[_0x391d73(0x77)],async()=>{const _0x1e2f4b=_0x391d73,_0x2ae5d1={'rcBaP':_0x35b58b['fpKnX'],'mYNwm':_0x35b58b[_0x1e2f4b(0xfb)],'HQiNl':function(_0x468f1a,_0x234914){return _0x35b58b['NyBeZ'](_0x468f1a,_0x234914);},'LySaB':_0x35b58b[_0x1e2f4b(0x106)]};if(!_0x1bc3eb[_0x1e2f4b(0xe8)]){logger[_0x1e2f4b(0xd3)](_0x35b58b[_0x1e2f4b(0x75)]);return;}await _0x1bc3eb[_0x1e2f4b(0x113)](_0x2c8bbc),CLIUtils[_0x1e2f4b(0x9e)](FRAMEWORKS['PLAYWRIGHT'],FRAMEWORKS['PLAYWRIGHT']),BrowserstackCLI['getInstance']()[_0x1e2f4b(0xad)](_0x1bc3eb['config'],_0x1bc3eb['configPath'],_0x1bc3eb['cliConfig']),await BrowserstackCLI['getInstance']()[_0x1e2f4b(0x78)]();for(var _0x43a98d=0x0;_0x35b58b['iFIlq'](_0x43a98d,constants[_0x1e2f4b(0x116)][_0x1e2f4b(0xfa)]);_0x43a98d++){var _0x363a52=constants[_0x1e2f4b(0x116)][_0x43a98d];process[_0x1e2f4b(0xb1)][_0x363a52]&&await ClientTroubleShootingService[_0x1e2f4b(0x105)](_0x363a52);}const _0x47349d=BrowserstackCLI['getInstance']()['getConfig']();!helper[_0x1e2f4b(0xd0)](_0x47349d[_0x1e2f4b(0x110)])&&(process['env'][_0x1e2f4b(0xb6)]=!![]);_0x35b58b[_0x1e2f4b(0xa7)](_0x47349d[_0x1e2f4b(0x110)],![])&&(process[_0x1e2f4b(0xb1)][_0x1e2f4b(0xb6)]=_0x35b58b[_0x1e2f4b(0x74)],_0x2a8ca7=_0x2a8ca7['filter'](_0x106271=>_0x106271!==_0x1e2f4b(0xd7)));const _0x26ec5b=_0x2a8ca7['indexOf'](_0x35b58b[_0x1e2f4b(0xb0)]);(_0x35b58b[_0x1e2f4b(0xb2)](_0x26ec5b,0x0)||_0x35b58b[_0x1e2f4b(0xa7)](_0x47349d[_0x1e2f4b(0xfe)],![]))&&(process['env'][_0x1e2f4b(0x91)]=_0x35b58b[_0x1e2f4b(0x74)],_0x2a8ca7=_0x2a8ca7[_0x1e2f4b(0x11b)](_0x159719=>_0x159719!==_0x1e2f4b(0x129)));!helper[_0x1e2f4b(0x7e)](_0x1bc3eb[_0x1e2f4b(0x111)])&&_0x1bc3eb[_0x1e2f4b(0x111)][_0x1e2f4b(0xa0)](_0x35b58b[_0x1e2f4b(0x10f)])&&(process['env'][_0x1e2f4b(0xb6)]=_0x1bc3eb[_0x1e2f4b(0x111)]['get'](_0x35b58b[_0x1e2f4b(0x10f)])||!![]);_0x35b58b[_0x1e2f4b(0x6e)](_0x1bc3eb[_0x1e2f4b(0xe8)][_0x1e2f4b(0xfe)],null)&&!helper[_0x1e2f4b(0x11a)](process[_0x1e2f4b(0xb1)][_0x1e2f4b(0x91)])&&(process[_0x1e2f4b(0xb1)][_0x1e2f4b(0x91)]=process[_0x1e2f4b(0xb1)]['BROWSERSTACK_TEST_OBSERVABILITY']||_0x1bc3eb[_0x1e2f4b(0xe8)][_0x1e2f4b(0xfe)]);const _0x1e8220=!helper[_0x1e2f4b(0xd0)](process[_0x1e2f4b(0xb1)][_0x1e2f4b(0x91)]);_0x1bc3eb[_0x1e2f4b(0xe8)][_0x1e2f4b(0xfd)]&&(process[_0x1e2f4b(0xb1)]['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON[_0x1e2f4b(0x86)](_0x1bc3eb[_0x1e2f4b(0xe8)][_0x1e2f4b(0xfd)]));let _0x1308ee=![];_0x1bc3eb[_0x1e2f4b(0xe8)][_0x1e2f4b(0xef)]&&(_0x1308ee=!![],process['env'][_0x1e2f4b(0x79)]=_0x1bc3eb[_0x1e2f4b(0xe8)][_0x1e2f4b(0xef)]);const _0xf3a570=_0x2a8ca7[_0x1e2f4b(0xab)](),_0x59c68a=await _0x35b58b[_0x1e2f4b(0x73)](getUserPlaywrightConfig,_0x2c8bbc,_0x2a8ca7);if(helper[_0x1e2f4b(0x7e)](_0x59c68a)){_0x35b58b[_0x1e2f4b(0xb9)](spawnOriginalProcess,_0xf3a570);return;}const _0x55686a=_0x59c68a[_0x1e2f4b(0xb3)]?path[_0x1e2f4b(0x8f)](_0x59c68a['path']):process[_0x1e2f4b(0xc3)]();process[_0x1e2f4b(0xb1)][_0x1e2f4b(0x98)]=_0x55686a,await PerformanceTester[_0x1e2f4b(0x115)](PerformanceEvents[_0x1e2f4b(0xf1)],async()=>{const _0x3ff332=_0x1e2f4b;!BrowserstackCLI[_0x3ff332(0xd6)]()['isRunning']()&&await TestHubHandler[_0x3ff332(0xa3)](FRAMEWORKS[_0x3ff332(0x11e)],_0x1bc3eb),_0x1e8220&&_0x35b58b['ZiSaK'](handleO11yRerun,_0x2a8ca7);})();if(!BrowserstackCLI['getInstance']()[_0x1e2f4b(0x10a)]()){let _0x24319b=_0x35b58b[_0x1e2f4b(0xa7)](process[_0x1e2f4b(0xb1)][_0x1e2f4b(0x79)],_0x35b58b[_0x1e2f4b(0x10c)]);_0x24319b=_0x24319b||_0x35b58b[_0x1e2f4b(0xb9)](checkAccessibilityPlatformConfig,_0x1bc3eb['config']),process['env'][_0x1e2f4b(0x79)]=_0x24319b,_0x24319b&&_0x35b58b['bZgTw'](setAccessibilityCapabilities,_0x1bc3eb[_0x1e2f4b(0xe8)]);}const _0x547033=path[_0x1e2f4b(0xf4)](_0x59c68a[_0x1e2f4b(0xb3)]?path[_0x1e2f4b(0x8f)](_0x59c68a[_0x1e2f4b(0xb3)]):process[_0x1e2f4b(0xc3)](),_0x35b58b[_0x1e2f4b(0xbd)]);fs['writeFileSync'](_0x547033,helper['serializeToYamlString'](_0x1bc3eb['config'])),process['env'][_0x1e2f4b(0xa1)]=_0x547033,helper[_0x1e2f4b(0xa6)]();let _0x4c6a77='';_0x35b58b[_0x1e2f4b(0xcf)](helper['getPackageType'](),constants['PACKAGE_TYPE'][_0x1e2f4b(0x12b)])?_0x4c6a77=_0x35b58b[_0x1e2f4b(0xd9)]:_0x4c6a77=_0x35b58b[_0x1e2f4b(0x107)];let _0x2c77b5='';if(helper[_0x1e2f4b(0x109)](_0x59c68a[_0x1e2f4b(0xb3)])){_0x2c77b5=_0x1e2f4b(0x125);const _0x3ea9ef=_0x4c6a77[_0x1e2f4b(0x103)]('.');_0x3ea9ef[_0x35b58b[_0x1e2f4b(0xe9)](_0x3ea9ef[_0x1e2f4b(0xfa)],0x1)]='ts',_0x4c6a77=_0x3ea9ef['join']('.'),logger[_0x1e2f4b(0xda)](_0x35b58b[_0x1e2f4b(0xa5)](_0x35b58b['tQlmh'],_0x4c6a77));}else _0x2c77b5=_0x1e2f4b(0xc8);const _0x23c8fc=path[_0x1e2f4b(0xf4)](_0x59c68a[_0x1e2f4b(0xb3)]?path[_0x1e2f4b(0x8f)](_0x59c68a[_0x1e2f4b(0xb3)]):process['cwd'](),_0x4c6a77);let _0x5baf8e=_0x59c68a[_0x1e2f4b(0xb3)]?_0x59c68a['path']:'';_0x5baf8e=_0x35b58b[_0x1e2f4b(0x6b)](_0x5baf8e[_0x1e2f4b(0xfa)],0x0)?path[_0x1e2f4b(0x94)](_0x5baf8e):'',process[_0x1e2f4b(0xb1)][_0x1e2f4b(0xff)]=_0x5baf8e;const _0x589d60=helper[_0x1e2f4b(0xc5)](_0x1bc3eb[_0x1e2f4b(0xe8)]),_0x2e198d=helper[_0x1e2f4b(0xdc)](_0x1bc3eb[_0x1e2f4b(0xe8)]);logger[_0x1e2f4b(0xda)](_0x1e2f4b(0xed)+_0x589d60),logger[_0x1e2f4b(0xda)](_0x1e2f4b(0x122)+_0x2e198d);_0x589d60&&(_0x2c77b5=_0x35b58b[_0x1e2f4b(0x8e)](_0x1e2f4b(0xbc)+_0x589d60+_0x1e2f4b(0x101)+_0x2e198d+_0x1e2f4b(0xc4),_0x2c77b5));helper[_0x1e2f4b(0x68)]({},_0x2a8ca7),fs[_0x1e2f4b(0xe0)](_0x23c8fc,_0x2c77b5),PerformanceTester[_0x1e2f4b(0x69)](PerformanceEvents[_0x1e2f4b(0xea)]);const _0x1a458d=_0x35b58b[_0x1e2f4b(0x7b)](spawn,helper[_0x1e2f4b(0xa4)]()?_0x35b58b[_0x1e2f4b(0x70)]:_0x35b58b[_0x1e2f4b(0x9c)],[_0x35b58b[_0x1e2f4b(0x123)],_0x35b58b[_0x1e2f4b(0xee)],_0x35b58b[_0x1e2f4b(0x11c)],_0x35b58b[_0x1e2f4b(0xa7)](process[_0x1e2f4b(0xdd)],_0x35b58b[_0x1e2f4b(0xe2)])?'\x22'+_0x23c8fc+'\x22':_0x23c8fc,..._0x2a8ca7[_0x1e2f4b(0xfc)](0x2)],{'shell':_0x35b58b[_0x1e2f4b(0x102)](process[_0x1e2f4b(0xdd)],_0x35b58b[_0x1e2f4b(0xe2)]),'stdio':_0x35b58b[_0x1e2f4b(0xa2)],'cwd':process[_0x1e2f4b(0xc3)](),'env':Object[_0x1e2f4b(0x108)]({},process[_0x1e2f4b(0xb1)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper['getConfigPath'](_0x2c8bbc),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x1bc3eb['config']['testContextOptions'][_0x1e2f4b(0x11f)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x1bc3eb[_0x1e2f4b(0xe8)][_0x1e2f4b(0x6c)]['skipSessionName'],'BROWSERSTACK_LOG_LEVEL':_0x1bc3eb[_0x1e2f4b(0xe8)]['logLevel']})}),_0x470d28=()=>{const _0x15d22a=_0x1e2f4b;try{const _0x2ba0b0=path['join'](helper[_0x15d22a(0x10b)](),_0x2ae5d1[_0x15d22a(0xa8)],_0x2ae5d1[_0x15d22a(0x128)]);if(fs[_0x15d22a(0x8b)](_0x2ba0b0)){let _0x11afe8=fs[_0x15d22a(0xc0)](_0x2ba0b0);_0x11afe8=JSON[_0x15d22a(0x8c)](_0x11afe8),_0x1bc3eb['errorMessage']=_0x11afe8,fs[_0x15d22a(0xaa)](_0x2ba0b0);}}catch(_0x2835a2){logger[_0x15d22a(0xda)](_0x2ae5d1[_0x15d22a(0x7a)](_0x2ae5d1[_0x15d22a(0x72)],_0x2835a2));}};_0x1a458d['on'](_0x35b58b[_0x1e2f4b(0x117)],async _0x93e149=>{const _0x3698b5=_0x1e2f4b,_0x5617c1={};_0x5617c1[_0x3698b5(0xbb)]=_0x35b58b['fpKnX'];const _0x3e398f=_0x5617c1;try{PerformanceTester[_0x3698b5(0x8d)](PerformanceEvents['SDK_CLEANUP']),_0x35b58b[_0x3698b5(0xc1)](_0x470d28),await TestHubHandler[_0x3698b5(0xcb)](),await ClientTroubleShootingService['reportFinalDetectionState'](),await BrowserstackCLI['getInstance']()[_0x3698b5(0xcb)](),TestDetails[_0x3698b5(0x9f)](),_0x35b58b[_0x3698b5(0xc1)](printBuildLink),await utilities[_0x3698b5(0x88)](_0x1bc3eb),process[_0x3698b5(0x87)]=_0x93e149,logger['debug']('Playwright\x20process\x20exited\x20with\x20code\x20'+_0x93e149),logger[_0x3698b5(0x124)](_0x3698b5(0x118)+_0x23c8fc),fs[_0x3698b5(0xaa)](_0x23c8fc);fs['existsSync'](_0x547033)&&(logger[_0x3698b5(0xda)]('Deleting\x20'+_0x547033),fs['unlinkSync'](_0x547033));const _0xdffc8f=fs[_0x3698b5(0x11d)](path[_0x3698b5(0xf4)](helper['homedir'](),_0x35b58b[_0x3698b5(0xba)]))['filter'](_0x411d57=>_0x411d57[_0x3698b5(0xe5)]('trace_'));_0xdffc8f['forEach'](_0x5ce0cf=>{const _0x56c687=_0x3698b5;fs[_0x56c687(0xaa)](path[_0x56c687(0xf4)](helper['homedir'](),_0x3e398f['NWYFZ'],_0x5ce0cf));});}catch(_0x1f3560){logger['debug'](_0x35b58b[_0x3698b5(0xa5)](_0x35b58b[_0x3698b5(0x112)],_0x1f3560));}});})();}module['exports']=run;