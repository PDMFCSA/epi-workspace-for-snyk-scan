#!/usr/bin/env node
'use strict';function a39_0x1159(){const _0x4f1082=['fPQJb','bootstrap','stringify','XpUFf','path','ubYwJ','RxgOB','end','YkJSF','start','kjzno','MODULE','playwright-browserstack-sdk.config.cjs','unlinkSync','JiAtu','SDK_PRE_INITIALIZE','EQahO','ifroo','parse','isTrue','YJHeq','hnZJd','qOJEz','FeaYV','platform','browserstackAutomation','getProxyUrl','1059GoGjcg','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','12654TEKGEm','playwright','split','validateRerunTestList','BROWSERSTACK_RERUN_TESTS','SDK_CLEANUP','getInstance','eTBXB','369488fHPdVm','winstonLogger','exitCode','automation','BROWSERSTACK_PW_CONFIG_DIR','Deleting\x20','util','cliConfig','4345103GlIltp','hdnUS','../utils/constants','ghPrE','BrowserStack\x20config\x20file\x20not\x20found.','BfjrF','BROWSERSTACK_TEST_ACCESSIBILITY_YML','child_process','close','measureWrapper','Error\x20in\x20getting\x20funnel\x20data\x20results','errorMessage','indexOf','forEach','pw_result.json','pgTvT','RsGQs','vQVfo','--config=','playwright-browserstack-sdk.config.js','1346512bmrVxe','setFrameworkDetail','length','clearTempPWConfig','zHErm','existsSync','kvglZ','stop','isRunning','join','isFalse','BROWSERSTACK_TEST_OBSERVABILITY','216WqmOha','nestedKeyValue','slice','apply','../../helpers/test-observability/utils','setBrowserstackConfig','testObservability','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','Error\x20in\x20deleting\x20playwright\x20results','989793ztITAN','testContextOptions','kFkto','filter','info','Updated\x20config\x20file\x20name\x20to\x20-\x20','jLbXq','assign','./reporter/pwUtils','.browserstack','QDbxj','startsWith','isUndefined','../v2/browserstackCLI','accessibility','cwd','readdirSync','inherit','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','USER_CONFIG_DETAILS_PATH','concat','PsVjR','owrED','BROWSERSTACK_AUTOMATION','PtZPs','skipSessionName','mUdPx','tgDeM','../v2/TestInfo','launchBuild','get','--disable-browserstack-automation','./reporter/test-details','16518190FZtfCl','22eDIilh','../../helpers/helper','ULVGT','writeFileSync','SDK_POST_INITIALIZE','shutdown','map','PACKAGE_TYPE','../../helpers/performance/constants','homedir','ujbcP','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','CguXz','logLevel','true','resolvedConfigFile','env','MLDwc','6362VMlkWZ','yTJdP','resolve','push','CIKBz','Error\x20in\x20closing\x20playwright','npx','debug','isTypescriptProject','nWkZT','LLKAT','WiHII','TsWrm','--disable-test-observability','ROSqH','../../helpers/performance/performance-tester','--config','SDK_SETUP','skipSessionStatus','../../helpers/accessibility-automation/helper','../v2/cliUtils','PbBWj','trim','No\x20Proxy\x20:\x20','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22','config','kWCqd','win32','lUWdh','dirname','--grep','exports','test','TQwxk','./accessibility-helper','2805DignjE','has','accessibilityOptions','../../helpers/BrowserStackSetup','zDDij','XYOuP','Playwright\x20process\x20exited\x20with\x20code\x20','BROWSERSTACK_RERUN','serializeToYamlString','mppHn','trace_','../../helpers/logger','YKgnN'];a39_0x1159=function(){return _0x4f1082;};return a39_0x1159();}const a39_0x445a65=a39_0x44a9;function a39_0x44a9(_0x3a0b69,_0x2fbac1){const _0x115951=a39_0x1159();return a39_0x44a9=function(_0x44a9a6,_0x10ab36){_0x44a9a6=_0x44a9a6-0x12f;let _0x2d4c2c=_0x115951[_0x44a9a6];return _0x2d4c2c;},a39_0x44a9(_0x3a0b69,_0x2fbac1);}(function(_0x5a5d3c,_0x1c15a2){const _0xdf2878=a39_0x44a9,_0x30804b=_0x5a5d3c();while(!![]){try{const _0x39b556=-parseInt(_0xdf2878(0x1c8))/0x1+parseInt(_0xdf2878(0x142))/0x2*(-parseInt(_0xdf2878(0x18d))/0x3)+parseInt(_0xdf2878(0x1b3))/0x4+-parseInt(_0xdf2878(0x165))/0x5*(-parseInt(_0xdf2878(0x18f))/0x6)+-parseInt(_0xdf2878(0x19f))/0x7+-parseInt(_0xdf2878(0x197))/0x8*(parseInt(_0xdf2878(0x1bf))/0x9)+-parseInt(_0xdf2878(0x12f))/0xa*(-parseInt(_0xdf2878(0x130))/0xb);if(_0x39b556===_0x1c15a2)break;else _0x30804b['push'](_0x30804b['shift']());}catch(_0x19a9e5){_0x30804b['push'](_0x30804b['shift']());}}}(a39_0x1159,0xefa20));const fs=require('fs'),path=require(a39_0x445a65(0x176)),{spawn}=require(a39_0x445a65(0x1a6)),{format}=require(a39_0x445a65(0x19d)),logger=require(a39_0x445a65(0x170))[a39_0x445a65(0x198)],{default:BrowserStackSetup}=require(a39_0x445a65(0x168)),helper=require(a39_0x445a65(0x131)),utilities=require('../../helpers/utilities'),constants=require(a39_0x445a65(0x1a1)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),{getConfigLoaderPath}=require(a39_0x445a65(0x1d0)),{checkAccessibilityPlatformConfig}=require(a39_0x445a65(0x155)),{setAccessibilityCapabilities}=require(a39_0x445a65(0x164)),{printBuildLink}=require(a39_0x445a65(0x1c3)),TestDetails=require(a39_0x445a65(0x1e8)),TestHubHandler=require('../../helpers/testhub/testhubHandler'),PerformanceTester=require(a39_0x445a65(0x151)),BrowserstackCLI=require(a39_0x445a65(0x1d5)),PerformanceEvents=require(a39_0x445a65(0x138))['EVENTS'],CLIUtils=require(a39_0x445a65(0x156)),TestInfo=require(a39_0x445a65(0x1e4)),getUserPlaywrightConfig=async(_0x5a5c12,_0x5288fa)=>{const _0x27d0da=a39_0x445a65,_0x2663f5={'WiHII':function(_0x58345c){return _0x58345c();},'hnZJd':function(_0x41d323,_0x2d1d81){return _0x41d323(_0x2d1d81);},'YKgnN':_0x27d0da(0x13f),'ubYwJ':_0x27d0da(0x1b1)},_0x50de76=!helper[_0x27d0da(0x1d4)](_0x5a5c12[_0x27d0da(0x15b)]),_0x21a479=_0x50de76?path[_0x27d0da(0x144)](process[_0x27d0da(0x1d7)](),_0x5a5c12[_0x27d0da(0x15b)]):process[_0x27d0da(0x1d7)](),{resolveConfigFile:_0x29a34d,resolveConfigLocation:_0x43ebfc}=helper['requirePWModule'][_0x27d0da(0x1c2)](null,_0x2663f5[_0x27d0da(0x14d)](getConfigLoaderPath)),_0x45e626=_0x29a34d?_0x2663f5['hnZJd'](_0x29a34d,_0x21a479):helper[_0x27d0da(0x1c0)](_0x2663f5[_0x27d0da(0x187)](_0x43ebfc,_0x21a479),[_0x2663f5[_0x27d0da(0x171)]]),_0x531b6f={};if(_0x50de76){const _0x3cedd4=_0x5288fa['findIndex'](_0xff40cf=>_0xff40cf===_0x27d0da(0x152)||_0xff40cf==='-c'||_0xff40cf[_0x27d0da(0x1d3)](_0x27d0da(0x1b1)));_0x5288fa['splice'](_0x3cedd4,_0x5288fa[_0x3cedd4][_0x27d0da(0x1d3)](_0x2663f5[_0x27d0da(0x177)])?0x1:0x2);}const _0x7eab07={};return _0x7eab07[_0x27d0da(0x176)]=_0x45e626,_0x7eab07['config']=_0x531b6f,_0x7eab07;},handleO11yRerun=_0x3dbce2=>{const _0x40a232=a39_0x445a65,_0x3a2209={};_0x3a2209[_0x40a232(0x196)]=_0x40a232(0x160);const _0x4de6a8=_0x3a2209,_0x5e20be=helper[_0x40a232(0x185)](process[_0x40a232(0x140)][_0x40a232(0x16c)]);if(_0x5e20be){const _0x4aed0a=process[_0x40a232(0x140)][_0x40a232(0x193)],_0x2255ed=[];if(helper[_0x40a232(0x192)](_0x4aed0a)&&!helper['isUndefined'](_0x4aed0a)){_0x4aed0a['split'](',')[_0x40a232(0x136)](_0x298acb=>{const _0xf011ce=_0x40a232;_0x2255ed['push']('('+_0x298acb[_0xf011ce(0x158)]()+')');});const _0x325238='^'+_0x2255ed[_0x40a232(0x1bc)]('|')+'$';_0x3dbce2[_0x40a232(0x145)](_0x4de6a8[_0x40a232(0x196)],_0x325238);}}},spawnOriginalProcess=_0x2b0e8a=>{const _0x1a040b=a39_0x445a65,_0x4b9ae1={'mHGpb':function(_0x55841c,_0x4b264e,_0x96dc15,_0x513964){return _0x55841c(_0x4b264e,_0x96dc15,_0x513964);},'JiAtu':_0x1a040b(0x148),'XYOuP':_0x1a040b(0x190),'mppHn':function(_0x26dca5,_0x54e12c){return _0x26dca5===_0x54e12c;},'ghPrE':_0x1a040b(0x15d),'yTJdP':_0x1a040b(0x1d9)};_0x4b9ae1['mHGpb'](spawn,_0x4b9ae1[_0x1a040b(0x180)],[_0x4b9ae1[_0x1a040b(0x16a)],..._0x2b0e8a[_0x1a040b(0x1c1)](0x1)],{'shell':_0x4b9ae1[_0x1a040b(0x16e)](process['platform'],_0x4b9ae1[_0x1a040b(0x1a2)]),'stdio':_0x4b9ae1[_0x1a040b(0x143)],'cwd':process[_0x1a040b(0x1d7)]()});},isTestCommand=(_0x383993,_0x4f469c)=>{const _0x42ef33=a39_0x445a65,_0x34696e={};_0x34696e[_0x42ef33(0x1b9)]=function(_0x344be6,_0x3132f4){return _0x344be6>_0x3132f4;},_0x34696e[_0x42ef33(0x14b)]=function(_0x1c6b5d,_0x4d617b){return _0x1c6b5d===_0x4d617b;},_0x34696e[_0x42ef33(0x1e3)]='test';const _0x4585ae=_0x34696e;if(_0x4585ae[_0x42ef33(0x1b9)](_0x4f469c['length'],0x1)&&_0x4585ae[_0x42ef33(0x14b)](_0x4f469c[0x1],_0x4585ae['tgDeM']))return!![];return![];};async function run(_0x54947d,_0x4bc654,_0x502623){const _0x4b197c=a39_0x445a65,_0x34a9ae={'ULVGT':function(_0xfb4972,_0x40a5df){return _0xfb4972(_0x40a5df);},'LLKAT':_0x4b197c(0x1d1),'YkJSF':_0x4b197c(0x1ad),'kFkto':function(_0x3dd478,_0x1a0bbc){return _0x3dd478+_0x1a0bbc;},'XpUFf':_0x4b197c(0x1a9),'INBEA':function(_0x3a13dc){return _0x3a13dc();},'PtZPs':_0x4b197c(0x147),'kWCqd':_0x4b197c(0x1a3),'RxgOB':function(_0x914167,_0x22c6be){return _0x914167===_0x22c6be;},'TQwxk':'false','zDDij':_0x4b197c(0x14f),'CguXz':function(_0x1ee567,_0x5e8c39){return _0x1ee567>=_0x5e8c39;},'vQVfo':function(_0x3781cb,_0x35b592){return _0x3781cb===_0x35b592;},'BfjrF':_0x4b197c(0x19a),'FeaYV':function(_0x584fda,_0x4049bb){return _0x584fda!=_0x4049bb;},'mUdPx':function(_0x578b7d,_0x1c7ee8,_0xd4ca79){return _0x578b7d(_0x1c7ee8,_0xd4ca79);},'RsGQs':_0x4b197c(0x13e),'EQahO':'browserstackSetupConfig.json','PFZFZ':function(_0xe1830b,_0x26df3c){return _0xe1830b===_0x26df3c;},'TsWrm':_0x4b197c(0x17e),'nvrtr':_0x4b197c(0x1b2),'PsVjR':function(_0x5deaf6,_0x3e2224){return _0x5deaf6-_0x3e2224;},'PbBWj':function(_0x4cb690,_0x5821d6){return _0x4cb690+_0x5821d6;},'IcTnl':_0x4b197c(0x1cd),'owrED':function(_0x2e67c4,_0x28d764){return _0x2e67c4>_0x28d764;},'KvbEo':function(_0x33f6d8,_0x4e448a){return _0x33f6d8+_0x4e448a;},'MLDwc':function(_0x5a6359,_0x15a57f,_0x54ed92,_0x18ba46){return _0x5a6359(_0x15a57f,_0x54ed92,_0x18ba46);},'fPQJb':_0x4b197c(0x148),'QiKWr':'playwright','ifroo':_0x4b197c(0x162),'jLbXq':'--config','CIKBz':_0x4b197c(0x15d),'QDbxj':_0x4b197c(0x1d9),'ujbcP':_0x4b197c(0x1a7),'XNjhX':function(_0x28678c,_0xae202d){return _0x28678c+_0xae202d;},'pgTvT':_0x4b197c(0x1c7),'ROSqH':function(_0x4df626,_0x173c18,_0xb57887){return _0x4df626(_0x173c18,_0xb57887);}};try{const _0x33acb8=path['join'](helper[_0x4b197c(0x139)](),_0x34a9ae[_0x4b197c(0x14c)],_0x34a9ae[_0x4b197c(0x17a)]);fs[_0x4b197c(0x1b8)](_0x33acb8)&&fs['unlinkSync'](_0x33acb8);}catch(_0x2238f5){logger['debug'](_0x34a9ae['XNjhX'](_0x34a9ae[_0x4b197c(0x1ae)],_0x2238f5));}if(!_0x34a9ae[_0x4b197c(0x150)](isTestCommand,_0x54947d,_0x4bc654)){_0x34a9ae['ULVGT'](spawnOriginalProcess,_0x4bc654);return;}await PerformanceTester[_0x4b197c(0x1a8)](PerformanceEvents[_0x4b197c(0x181)],async()=>{const _0x37c7fc=_0x4b197c,_0x1b7a8f={'YJHeq':_0x34a9ae[_0x37c7fc(0x14c)],'hdnUS':_0x34a9ae[_0x37c7fc(0x17a)],'qOJEz':function(_0x1d1724,_0x47edf6){const _0x28cfbc=_0x37c7fc;return _0x34a9ae[_0x28cfbc(0x1ca)](_0x1d1724,_0x47edf6);},'lUWdh':_0x34a9ae[_0x37c7fc(0x175)],'zHErm':function(_0x49c5f8){return _0x34a9ae['INBEA'](_0x49c5f8);},'jzONx':_0x34a9ae[_0x37c7fc(0x1e0)]};if(!_0x502623[_0x37c7fc(0x15b)]){logger['error'](_0x34a9ae[_0x37c7fc(0x15c)]);return;}await _0x502623['initialize'](_0x54947d),CLIUtils[_0x37c7fc(0x1b4)](FRAMEWORKS['PLAYWRIGHT'],FRAMEWORKS['PLAYWRIGHT']),BrowserstackCLI[_0x37c7fc(0x195)]()[_0x37c7fc(0x1c4)](_0x502623[_0x37c7fc(0x15b)],_0x502623['cliConfig']),await BrowserstackCLI[_0x37c7fc(0x195)]()[_0x37c7fc(0x173)]();const _0x3b2e1b=BrowserstackCLI[_0x37c7fc(0x195)]()['getConfig']();!helper[_0x37c7fc(0x1bd)](_0x3b2e1b[_0x37c7fc(0x18b)])&&(process[_0x37c7fc(0x140)][_0x37c7fc(0x1df)]=!![]);_0x34a9ae[_0x37c7fc(0x178)](_0x3b2e1b['browserstackAutomation'],![])&&(process[_0x37c7fc(0x140)][_0x37c7fc(0x1df)]=_0x34a9ae[_0x37c7fc(0x163)],_0x4bc654=_0x4bc654[_0x37c7fc(0x1cb)](_0x2638fa=>_0x2638fa!==_0x37c7fc(0x1e7)));const _0x3b1e01=_0x4bc654[_0x37c7fc(0x1ab)](_0x34a9ae[_0x37c7fc(0x169)]);(_0x34a9ae[_0x37c7fc(0x13c)](_0x3b1e01,0x0)||_0x34a9ae[_0x37c7fc(0x1b0)](_0x3b2e1b[_0x37c7fc(0x1c5)],![]))&&(process[_0x37c7fc(0x140)][_0x37c7fc(0x1be)]=_0x34a9ae[_0x37c7fc(0x163)],_0x4bc654=_0x4bc654[_0x37c7fc(0x1cb)](_0x3bb6b0=>_0x3bb6b0!==_0x37c7fc(0x14f)));!helper['isUndefined'](_0x502623[_0x37c7fc(0x19e)])&&_0x502623[_0x37c7fc(0x19e)][_0x37c7fc(0x166)](_0x34a9ae[_0x37c7fc(0x1a4)])&&(process[_0x37c7fc(0x140)][_0x37c7fc(0x1df)]=_0x502623[_0x37c7fc(0x19e)][_0x37c7fc(0x1e6)](_0x34a9ae[_0x37c7fc(0x1a4)])||!![]);_0x34a9ae[_0x37c7fc(0x189)](_0x502623[_0x37c7fc(0x15b)][_0x37c7fc(0x1c5)],null)&&!helper['isTrue'](process[_0x37c7fc(0x140)][_0x37c7fc(0x1be)])&&(process[_0x37c7fc(0x140)][_0x37c7fc(0x1be)]=process[_0x37c7fc(0x140)][_0x37c7fc(0x1be)]||_0x502623[_0x37c7fc(0x15b)][_0x37c7fc(0x1c5)]);const _0xbe25b6=!helper[_0x37c7fc(0x1bd)](process['env'][_0x37c7fc(0x1be)]);_0x502623['config'][_0x37c7fc(0x167)]&&(process[_0x37c7fc(0x140)][_0x37c7fc(0x1c6)]=JSON[_0x37c7fc(0x174)](_0x502623[_0x37c7fc(0x15b)][_0x37c7fc(0x167)]));let _0x2235bd=![];_0x502623['config']['accessibility']&&(_0x2235bd=!![],process[_0x37c7fc(0x140)][_0x37c7fc(0x1a5)]=_0x502623[_0x37c7fc(0x15b)][_0x37c7fc(0x1d6)]);const _0x539852=_0x4bc654[_0x37c7fc(0x1dc)](),_0x580f56=await _0x34a9ae[_0x37c7fc(0x1e2)](getUserPlaywrightConfig,_0x54947d,_0x4bc654);if(helper[_0x37c7fc(0x1d4)](_0x580f56)){_0x34a9ae['ULVGT'](spawnOriginalProcess,_0x539852);return;}const _0x224b6a=_0x580f56[_0x37c7fc(0x176)]?path[_0x37c7fc(0x15f)](_0x580f56['path']):process[_0x37c7fc(0x1d7)]();process[_0x37c7fc(0x140)][_0x37c7fc(0x19b)]=_0x224b6a,await PerformanceTester[_0x37c7fc(0x1a8)](PerformanceEvents[_0x37c7fc(0x134)],async()=>{const _0x334262=_0x37c7fc;!BrowserstackCLI[_0x334262(0x195)]()[_0x334262(0x1bb)]()&&await TestHubHandler[_0x334262(0x1e5)](FRAMEWORKS['PLAYWRIGHT'],_0x502623),_0xbe25b6&&_0x34a9ae[_0x334262(0x132)](handleO11yRerun,_0x4bc654);})();if(!BrowserstackCLI[_0x37c7fc(0x195)]()[_0x37c7fc(0x1bb)]()){let _0x131313=_0x34a9ae[_0x37c7fc(0x178)](process[_0x37c7fc(0x140)][_0x37c7fc(0x1a5)],_0x34a9ae[_0x37c7fc(0x1af)]);_0x131313=_0x131313||_0x34a9ae[_0x37c7fc(0x132)](checkAccessibilityPlatformConfig,_0x502623[_0x37c7fc(0x15b)]),process[_0x37c7fc(0x140)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x131313,_0x131313&&_0x34a9ae[_0x37c7fc(0x132)](setAccessibilityCapabilities,_0x502623['config']);}const _0x2416cc=path[_0x37c7fc(0x1bc)](_0x580f56[_0x37c7fc(0x176)]?path[_0x37c7fc(0x15f)](_0x580f56[_0x37c7fc(0x176)]):process[_0x37c7fc(0x1d7)](),_0x34a9ae[_0x37c7fc(0x182)]);fs[_0x37c7fc(0x133)](_0x2416cc,helper[_0x37c7fc(0x16d)](_0x502623[_0x37c7fc(0x15b)])),process[_0x37c7fc(0x140)]['BROWSERSTACK_SETUP_CONFIG_PATH']=_0x2416cc,helper[_0x37c7fc(0x1b6)]();let _0x34c21c='';_0x34a9ae['PFZFZ'](helper['getPackageType'](),constants[_0x37c7fc(0x137)][_0x37c7fc(0x17d)])?_0x34c21c=_0x34a9ae[_0x37c7fc(0x14e)]:_0x34c21c=_0x34a9ae['nvrtr'];let _0x187b3f='';if(helper[_0x37c7fc(0x14a)](_0x580f56[_0x37c7fc(0x176)])){_0x187b3f=_0x37c7fc(0x1da);const _0x1adac6=_0x34c21c[_0x37c7fc(0x191)]('.');_0x1adac6[_0x34a9ae[_0x37c7fc(0x1dd)](_0x1adac6[_0x37c7fc(0x1b5)],0x1)]='ts',_0x34c21c=_0x1adac6['join']('.'),logger['debug'](_0x34a9ae[_0x37c7fc(0x157)](_0x34a9ae['IcTnl'],_0x34c21c));}else _0x187b3f='\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a';const _0x35d5c5=path[_0x37c7fc(0x1bc)](_0x580f56[_0x37c7fc(0x176)]?path[_0x37c7fc(0x15f)](_0x580f56[_0x37c7fc(0x176)]):process[_0x37c7fc(0x1d7)](),_0x34c21c);let _0x5ae6e4=_0x580f56['path']?_0x580f56[_0x37c7fc(0x176)]:'';_0x5ae6e4=_0x34a9ae[_0x37c7fc(0x1de)](_0x5ae6e4['length'],0x0)?path[_0x37c7fc(0x144)](_0x5ae6e4):'',process[_0x37c7fc(0x140)][_0x37c7fc(0x1db)]=_0x5ae6e4;const _0x2a7a8e=helper[_0x37c7fc(0x18c)](_0x502623[_0x37c7fc(0x15b)]),_0x54a87d=helper['getNoProxy'](_0x502623[_0x37c7fc(0x15b)]);logger[_0x37c7fc(0x149)]('Proxy\x20url\x20:\x20'+_0x2a7a8e),logger[_0x37c7fc(0x149)](_0x37c7fc(0x159)+_0x54a87d);_0x2a7a8e&&(_0x187b3f=_0x34a9ae['KvbEo'](_0x37c7fc(0x18e)+_0x2a7a8e+_0x37c7fc(0x15a)+_0x54a87d+_0x37c7fc(0x13b),_0x187b3f));helper['filterBrowserstackArgs']({},_0x4bc654),fs[_0x37c7fc(0x133)](_0x35d5c5,_0x187b3f),PerformanceTester[_0x37c7fc(0x179)](PerformanceEvents[_0x37c7fc(0x153)]);const _0x180108=_0x34a9ae[_0x37c7fc(0x141)](spawn,_0x34a9ae[_0x37c7fc(0x172)],[_0x34a9ae['QiKWr'],_0x34a9ae[_0x37c7fc(0x183)],_0x34a9ae[_0x37c7fc(0x1ce)],_0x35d5c5,..._0x4bc654['slice'](0x2)],{'shell':_0x34a9ae['vQVfo'](process[_0x37c7fc(0x18a)],_0x34a9ae[_0x37c7fc(0x146)]),'stdio':_0x34a9ae[_0x37c7fc(0x1d2)],'cwd':process[_0x37c7fc(0x1d7)](),'env':Object[_0x37c7fc(0x1cf)]({},process[_0x37c7fc(0x140)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper['getConfigPath'](_0x54947d),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x502623[_0x37c7fc(0x15b)][_0x37c7fc(0x1c9)][_0x37c7fc(0x154)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x502623['config'][_0x37c7fc(0x1c9)][_0x37c7fc(0x1e1)],'BROWSERSTACK_LOG_LEVEL':_0x502623[_0x37c7fc(0x15b)][_0x37c7fc(0x13d)]})}),_0x3a8a05=()=>{const _0x477989=_0x37c7fc;try{const _0x2c5450=path[_0x477989(0x1bc)](helper['homedir'](),_0x1b7a8f[_0x477989(0x186)],_0x1b7a8f[_0x477989(0x1a0)]);if(fs[_0x477989(0x1b8)](_0x2c5450)){let _0x249486=fs['readFileSync'](_0x2c5450);_0x249486=JSON[_0x477989(0x184)](_0x249486),_0x502623[_0x477989(0x1aa)]=_0x249486,fs['unlinkSync'](_0x2c5450);}}catch(_0x1b68a3){logger['debug'](_0x1b7a8f['qOJEz'](_0x1b7a8f[_0x477989(0x15e)],_0x1b68a3));}};_0x180108['on'](_0x34a9ae[_0x37c7fc(0x13a)],async _0x5aac10=>{const _0x762beb=_0x37c7fc,_0x2ffd4e={};_0x2ffd4e[_0x762beb(0x17c)]=_0x1b7a8f[_0x762beb(0x186)];const _0x543380=_0x2ffd4e;try{PerformanceTester[_0x762beb(0x17b)](PerformanceEvents[_0x762beb(0x194)]),_0x1b7a8f[_0x762beb(0x1b7)](_0x3a8a05),await TestHubHandler[_0x762beb(0x1ba)](),await BrowserstackCLI[_0x762beb(0x195)]()[_0x762beb(0x1ba)](),TestDetails[_0x762beb(0x135)](),_0x1b7a8f['zHErm'](printBuildLink),await utilities['finalExecution'](_0x502623),process[_0x762beb(0x199)]=_0x5aac10,logger[_0x762beb(0x149)](_0x762beb(0x16b)+_0x5aac10),logger[_0x762beb(0x1cc)](_0x762beb(0x19c)+_0x35d5c5),fs[_0x762beb(0x17f)](_0x35d5c5);fs[_0x762beb(0x1b8)](_0x2416cc)&&(logger['debug'](_0x762beb(0x19c)+_0x2416cc),fs[_0x762beb(0x17f)](_0x2416cc));const _0x5d100f=fs[_0x762beb(0x1d8)](path['join'](helper[_0x762beb(0x139)](),_0x1b7a8f[_0x762beb(0x186)]))[_0x762beb(0x1cb)](_0x34aa37=>_0x34aa37['startsWith'](_0x762beb(0x16f)));_0x5d100f[_0x762beb(0x1ac)](_0x5b8bbc=>{const _0x13d9bb=_0x762beb;fs[_0x13d9bb(0x17f)](path[_0x13d9bb(0x1bc)](helper[_0x13d9bb(0x139)](),_0x543380[_0x13d9bb(0x17c)],_0x5b8bbc));});}catch(_0x4c062f){logger[_0x762beb(0x149)](_0x1b7a8f[_0x762beb(0x188)](_0x1b7a8f['jzONx'],_0x4c062f));}});})();}module[a39_0x445a65(0x161)]=run;