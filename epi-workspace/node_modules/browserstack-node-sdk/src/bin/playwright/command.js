#!/usr/bin/env node
'use strict';function a39_0x1d6c(){const _0x5c28de=['apply','XEbDH','8862834mXkoZh','measureWrapper','../../helpers/accessibility-automation/helper','isTrue','exports','requireConfigLoaderYarnPnP','inherit','automation','1400608qjIEhy','JYGuh','cliConfig','env','splice','axAkV','accessibilityOptions','.browserstack','false','Error\x20in\x20getting\x20funnel\x20data\x20results','homedir','AZMVV','204160HaCkrj','pZXgV','FhdgP','true','XWbDh','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','dirname','YAxbD','lFJhS','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','map','vkthW','qxthu','slice','yarn','txSlx','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','win32','BROWSERSTACK_TEST_ACCESSIBILITY_YML','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','42114EqMlAS','accessSync','isRunning','jbKwk','launchBuild','zdHpC','../v2/cliUtils','../../helpers/helper','KoySQ','PhZZk','./reporter/test-details','../utils/constants','getConfigPath','existsSync','isFalse','eySUi','YgcAw','IcrFA','split','platform','PACKAGE_TYPE','assign','../v2/browserstackCLI','bootstrap','config','BROWSERSTACK_RERUN_TESTS','2564445iubsrA','path','BROWSERSTACK_TEST_OBSERVABILITY','EVENTS','test','W_OK','../v2/TestInfo','1097370VKnhYo','PXPVs','readFileSync','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','aZnxC','util','reportConflictingEnvVarIssue','ECPGG','yCroV','error','SDK_PRE_INITIALIZE','Error\x20in\x20accessing\x20.browserstack\x20directory:\x20','JKMJR','SDK_POST_INITIALIZE','4IFKMqM','Deleting\x20','debug','Error\x20in\x20deleting\x20playwright\x20results','xJEje','testContextOptions','--config','GCiBw','isTypescriptProject','JscPa','./accessibility-helper','isYarnPnP','constants','240rzqxeu','poaGd','MODULE','cwd','HcLUB','playwright-browserstack-sdk.config.cjs','ElxNP','--disable-browserstack-automation','WXcNo','accessibility','twIRf','writeFileSync','logLevel','../utils/clientTroubleshootingService','reportFinalDetectionState','BROWSERSTACK_SETUP_CONFIG_PATH','testObservability','bBNxO','8PwQWOU','requirePWModule','CIGas','unlinkSync','skipSessionName','has','Ilhra','indexOf','trim','vAfAB','playwright-browserstack-sdk.config.js','USER_CONFIG_DETAILS_PATH','nestedKeyValue','./reporter/pwUtils','INTERNALLY_USED_ENV_VARS','browserstackSetupConfig.json','join','Eoxjg','BROWSERSTACK_PW_CONFIG_DIR','PMCrF','resolve','--config=','npx','PLAYWRIGHT','--disable-test-observability','finalExecution','zlYLi','push','NgKKn','concat','Mrheo','info','get','isUndefined','serializeToYamlString','forEach','skipSessionStatus','clearTempPWConfig','xXhhS','getInstance','NEIxj','FWjxF','stringify','BROWSERSTACK_AUTOMATION','getPackageType','readdirSync','Updated\x20config\x20file\x20name\x20to\x20-\x20','shutdown','No\x20Proxy\x20:\x20','uJwCe','mzSTk','startsWith','filter','start','WVmEd','configPath','browserstackAutomation','R_OK','../../helpers/performance/constants','1163043axvCJA','playwright','PxpdX','../../helpers/test-observability/constants','efIvR','BROWSERSTACK_RERUN','7ggpNFp','length'];a39_0x1d6c=function(){return _0x5c28de;};return a39_0x1d6c();}const a39_0x59a1e1=a39_0x2d06;(function(_0x19d052,_0x448454){const _0x273a08=a39_0x2d06,_0x3f3460=_0x19d052();while(!![]){try{const _0x33d11d=-parseInt(_0x273a08(0x1ab))/0x1+-parseInt(_0x273a08(0x1b9))/0x2*(-parseInt(_0x273a08(0x18a))/0x3)+-parseInt(_0x273a08(0x176))/0x4+parseInt(_0x273a08(0x1a4))/0x5+-parseInt(_0x273a08(0x162))/0x6*(parseInt(_0x273a08(0x15e))/0x7)+parseInt(_0x273a08(0x1d8))/0x8*(-parseInt(_0x273a08(0x158))/0x9)+-parseInt(_0x273a08(0x1c6))/0xa*(-parseInt(_0x273a08(0x16a))/0xb);if(_0x33d11d===_0x448454)break;else _0x3f3460['push'](_0x3f3460['shift']());}catch(_0x31d862){_0x3f3460['push'](_0x3f3460['shift']());}}}(a39_0x1d6c,0xcd94d));function a39_0x2d06(_0x2e2fd7,_0x3bc02d){const _0x1d6c20=a39_0x1d6c();return a39_0x2d06=function(_0x2d06ea,_0x44cb71){_0x2d06ea=_0x2d06ea-0x147;let _0x1ecc6e=_0x1d6c20[_0x2d06ea];return _0x1ecc6e;},a39_0x2d06(_0x2e2fd7,_0x3bc02d);}const fs=require('fs'),path=require(a39_0x59a1e1(0x1a5)),{spawn}=require('child_process'),{format}=require(a39_0x59a1e1(0x1b0)),logger=require('../../helpers/logger')['winstonLogger'],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a39_0x59a1e1(0x191)),utilities=require('../../helpers/utilities'),constants=require(a39_0x59a1e1(0x195)),{FRAMEWORKS}=require(a39_0x59a1e1(0x15b)),{getConfigLoaderPath}=require(a39_0x59a1e1(0x1e5)),{checkAccessibilityPlatformConfig}=require(a39_0x59a1e1(0x164)),{setAccessibilityCapabilities}=require(a39_0x59a1e1(0x1c3)),{printBuildLink}=require('../../helpers/test-observability/utils'),TestDetails=require(a39_0x59a1e1(0x194)),TestHubHandler=require('../../helpers/testhub/testhubHandler'),PerformanceTester=require('../../helpers/performance/performance-tester'),BrowserstackCLI=require(a39_0x59a1e1(0x1a0)),PerformanceEvents=require(a39_0x59a1e1(0x157))[a39_0x59a1e1(0x1a7)],CLIUtils=require(a39_0x59a1e1(0x190)),TestInfo=require(a39_0x59a1e1(0x1aa)),ClientTroubleShootingService=require(a39_0x59a1e1(0x1d3)),getUserPlaywrightConfig=async(_0x117f39,_0x26f347)=>{const _0x1a73b2=a39_0x59a1e1,_0x1a268f={'JscPa':function(_0x3a709b){return _0x3a709b();},'GCiBw':function(_0x126427,_0x1dd575){return _0x126427(_0x1dd575);},'zdHpC':'resolvedConfigFile','qxthu':'--config='},_0x49263e=!helper['isUndefined'](_0x117f39[_0x1a73b2(0x1a2)]),_0x3dab45=_0x49263e?path[_0x1a73b2(0x1ec)](process[_0x1a73b2(0x1c9)](),_0x117f39[_0x1a73b2(0x1a2)]):process[_0x1a73b2(0x1c9)](),{resolveConfigFile:_0x3bc2b2,resolveConfigLocation:_0xa21c11}=helper[_0x1a73b2(0x1c4)]()?helper[_0x1a73b2(0x167)](..._0x1a268f[_0x1a73b2(0x1c2)](getConfigLoaderPath)):helper[_0x1a73b2(0x1d9)][_0x1a73b2(0x160)](null,_0x1a268f[_0x1a73b2(0x1c2)](getConfigLoaderPath)),_0x239a50=_0x3bc2b2?_0x1a268f[_0x1a73b2(0x1c0)](_0x3bc2b2,_0x3dab45):helper[_0x1a73b2(0x1e4)](_0x1a268f[_0x1a73b2(0x1c0)](_0xa21c11,_0x3dab45),[_0x1a268f[_0x1a73b2(0x18f)]]),_0x3f8d12={};if(_0x49263e){const _0x41faf9=_0x26f347['findIndex'](_0x17922f=>_0x17922f===_0x1a73b2(0x1bf)||_0x17922f==='-c'||_0x17922f[_0x1a73b2(0x150)](_0x1a73b2(0x1ed)));_0x26f347[_0x1a73b2(0x16e)](_0x41faf9,_0x26f347[_0x41faf9]['startsWith'](_0x1a268f[_0x1a73b2(0x182)])?0x1:0x2);}const _0x214d4d={};return _0x214d4d[_0x1a73b2(0x1a5)]=_0x239a50,_0x214d4d['config']=_0x3f8d12,_0x214d4d;},handleO11yRerun=_0x26d5a7=>{const _0xbb868e=a39_0x59a1e1,_0x38e142={};_0x38e142['PxpdX']='--grep';const _0xaefe74=_0x38e142,_0x43cec0=helper[_0xbb868e(0x165)](process[_0xbb868e(0x16d)][_0xbb868e(0x15d)]);if(_0x43cec0){const _0x4d7d12=process['env'][_0xbb868e(0x1a3)],_0x53d358=[];if(helper['validateRerunTestList'](_0x4d7d12)&&!helper[_0xbb868e(0x1f9)](_0x4d7d12)){_0x4d7d12['split'](',')[_0xbb868e(0x180)](_0xc1f9c4=>{const _0x123e98=_0xbb868e;_0x53d358[_0x123e98(0x1f3)]('('+_0xc1f9c4[_0x123e98(0x1e0)]()+')');});const _0x419045='^'+_0x53d358[_0xbb868e(0x1e8)]('|')+'$';_0x26d5a7['push'](_0xaefe74[_0xbb868e(0x15a)],_0x419045);}}},spawnOriginalProcess=_0x50cceb=>{const _0x188d30=a39_0x59a1e1,_0x248310={'iLMTX':function(_0x458268,_0x12efe2,_0x11e0a3,_0x583998){return _0x458268(_0x12efe2,_0x11e0a3,_0x583998);},'xJEje':_0x188d30(0x184),'HIhQy':_0x188d30(0x1ee),'hSfZO':_0x188d30(0x159),'jRPGe':function(_0x5c7593,_0x2fbd72){return _0x5c7593===_0x2fbd72;},'uJwCe':_0x188d30(0x187),'eySUi':_0x188d30(0x168)};_0x248310['iLMTX'](spawn,helper[_0x188d30(0x1c4)]()?_0x248310[_0x188d30(0x1bd)]:_0x248310['HIhQy'],[_0x248310['hSfZO'],..._0x50cceb[_0x188d30(0x183)](0x1)],{'shell':_0x248310['jRPGe'](process[_0x188d30(0x19d)],_0x248310[_0x188d30(0x14e)]),'stdio':_0x248310[_0x188d30(0x199)],'cwd':process[_0x188d30(0x1c9)]()});},isTestCommand=(_0x5f3d4d,_0x2be2ef)=>{const _0x406328=a39_0x59a1e1,_0x338dbd={};_0x338dbd[_0x406328(0x1da)]=function(_0xcf4ae0,_0x2c021b){return _0xcf4ae0>_0x2c021b;},_0x338dbd[_0x406328(0x1f4)]=function(_0x3584ec,_0x22196d){return _0x3584ec===_0x22196d;},_0x338dbd[_0x406328(0x17a)]=_0x406328(0x1a8);const _0x5ad69c=_0x338dbd;if(_0x5ad69c[_0x406328(0x1da)](_0x2be2ef['length'],0x1)&&_0x5ad69c[_0x406328(0x1f4)](_0x2be2ef[0x1],_0x5ad69c['XWbDh']))return!![];return![];};async function run(_0x358c0b,_0x574fda,_0x503945){const _0x1a83db=a39_0x59a1e1,_0x4e927f={'IcrFA':function(_0x3e0dc9,_0x13a80d){return _0x3e0dc9(_0x13a80d);},'FWjxF':_0x1a83db(0x171),'mzSTk':'pw_result.json','poaGd':function(_0x556c8e,_0x503069){return _0x556c8e+_0x503069;},'pZXgV':_0x1a83db(0x173),'kANcc':function(_0x5f37a3){return _0x5f37a3();},'bBNxO':function(_0x2b8a7d,_0x4fd2ab){return _0x2b8a7d+_0x4fd2ab;},'PXPVs':'Error\x20in\x20closing\x20playwright','DrUXW':'BrowserStack\x20config\x20file\x20not\x20found.','PhZZk':function(_0x3bf724,_0x2b011c){return _0x3bf724<_0x2b011c;},'aZnxC':function(_0xca253d,_0x396375){return _0xca253d===_0x396375;},'WXcNo':_0x1a83db(0x172),'KoySQ':_0x1a83db(0x1f0),'YgcAw':function(_0x48b244,_0x2afc85){return _0x48b244>=_0x2afc85;},'lFJhS':_0x1a83db(0x169),'voSNJ':function(_0x292caa,_0x35a198){return _0x292caa!=_0x35a198;},'ElxNP':function(_0x439bea,_0x3dc0b1,_0x14f03b){return _0x439bea(_0x3dc0b1,_0x14f03b);},'vkthW':function(_0x2d5415,_0x1610ff){return _0x2d5415===_0x1610ff;},'PMCrF':_0x1a83db(0x179),'NEIxj':function(_0x1f2efe,_0x18f436){return _0x1f2efe(_0x18f436);},'efIvR':_0x1a83db(0x1e7),'FhdgP':_0x1a83db(0x1cb),'XEbDH':_0x1a83db(0x1e2),'GOyEK':function(_0x55a4dc,_0x43f220){return _0x55a4dc-_0x43f220;},'Ucuxb':function(_0x2387fe,_0x4965de){return _0x2387fe+_0x4965de;},'JKMJR':_0x1a83db(0x14b),'Ilhra':function(_0x755a3c,_0x5b8ced){return _0x755a3c>_0x5b8ced;},'AZMVV':function(_0x52d2dc,_0x4576b4){return _0x52d2dc+_0x4576b4;},'zuzBC':function(_0x5e1107,_0x4d10b7,_0x26ee96,_0x2457ac){return _0x5e1107(_0x4d10b7,_0x26ee96,_0x2457ac);},'vAfAB':_0x1a83db(0x184),'twIRf':_0x1a83db(0x1ee),'zlYLi':'playwright','vcOHM':_0x1a83db(0x1a8),'mVSMq':_0x1a83db(0x1bf),'ECPGG':_0x1a83db(0x187),'sxBjR':_0x1a83db(0x168),'YAxbD':'close','WVmEd':function(_0x3e7fa9,_0x231eba){return _0x3e7fa9|_0x231eba;},'HcLUB':function(_0x188847,_0x40f455){return _0x188847+_0x40f455;},'zljLL':_0x1a83db(0x1b6),'Mrheo':_0x1a83db(0x1bc),'yCroV':function(_0x504cf1,_0x5b9fe8,_0x227fdf){return _0x504cf1(_0x5b9fe8,_0x227fdf);}};try{const _0x13c52a=path['join'](helper[_0x1a83db(0x174)](),_0x4e927f['FWjxF']);try{fs[_0x1a83db(0x18b)](_0x13c52a,_0x4e927f[_0x1a83db(0x153)](fs[_0x1a83db(0x1c5)][_0x1a83db(0x156)],fs[_0x1a83db(0x1c5)][_0x1a83db(0x1a9)]));}catch(_0x8a552b){ClientTroubleShootingService['reportDotBrowserStackFolderNotAccessibleIssue']();}}catch(_0x32c33a){logger[_0x1a83db(0x1bb)](_0x4e927f[_0x1a83db(0x1ca)](_0x4e927f['zljLL'],_0x32c33a));}try{const _0x3c8203=path['join'](helper['homedir'](),_0x4e927f['FWjxF'],_0x4e927f['mzSTk']);fs['existsSync'](_0x3c8203)&&fs[_0x1a83db(0x1db)](_0x3c8203);}catch(_0x57b0f6){logger[_0x1a83db(0x1bb)](_0x4e927f[_0x1a83db(0x1ca)](_0x4e927f[_0x1a83db(0x1f6)],_0x57b0f6));}if(!_0x4e927f[_0x1a83db(0x1b3)](isTestCommand,_0x358c0b,_0x574fda)){_0x4e927f['NEIxj'](spawnOriginalProcess,_0x574fda);return;}await PerformanceTester[_0x1a83db(0x163)](PerformanceEvents[_0x1a83db(0x1b5)],async()=>{const _0x239642=_0x1a83db,_0x505b43={'JYGuh':_0x4e927f[_0x239642(0x201)],'axAkV':_0x4e927f[_0x239642(0x14f)],'jbKwk':function(_0x3bc016,_0xb7c01b){const _0x2544c4=_0x239642;return _0x4e927f[_0x2544c4(0x1c7)](_0x3bc016,_0xb7c01b);},'Eoxjg':_0x4e927f[_0x239642(0x177)],'txSlx':function(_0x1f8f45){return _0x4e927f['kANcc'](_0x1f8f45);},'jWlxT':function(_0x3f9758,_0x750df6){const _0xa56fdf=_0x239642;return _0x4e927f[_0xa56fdf(0x1d7)](_0x3f9758,_0x750df6);},'XUooO':_0x4e927f[_0x239642(0x1ac)]};if(!_0x503945[_0x239642(0x1a2)]){logger[_0x239642(0x1b4)](_0x4e927f['DrUXW']);return;}await _0x503945['initialize'](_0x358c0b),CLIUtils['setFrameworkDetail'](FRAMEWORKS[_0x239642(0x1ef)],FRAMEWORKS[_0x239642(0x1ef)]),BrowserstackCLI[_0x239642(0x1ff)]()['setBrowserstackConfig'](_0x503945[_0x239642(0x1a2)],_0x503945[_0x239642(0x154)],_0x503945['cliConfig']),await BrowserstackCLI[_0x239642(0x1ff)]()[_0x239642(0x1a1)]();for(var _0x42799b=0x0;_0x4e927f[_0x239642(0x193)](_0x42799b,constants[_0x239642(0x1e6)]['length']);_0x42799b++){var _0x166aa7=constants['INTERNALLY_USED_ENV_VARS'][_0x42799b];process[_0x239642(0x16d)][_0x166aa7]&&await ClientTroubleShootingService[_0x239642(0x1b1)](_0x166aa7);}const _0x280185=BrowserstackCLI[_0x239642(0x1ff)]()['getConfig']();!helper[_0x239642(0x198)](_0x280185['browserstackAutomation'])&&(process['env'][_0x239642(0x148)]=!![]);_0x4e927f[_0x239642(0x1af)](_0x280185[_0x239642(0x155)],![])&&(process['env'][_0x239642(0x148)]=_0x4e927f[_0x239642(0x1ce)],_0x574fda=_0x574fda[_0x239642(0x151)](_0x5141da=>_0x5141da!==_0x239642(0x1cd)));const _0x3ac739=_0x574fda[_0x239642(0x1df)](_0x4e927f[_0x239642(0x192)]);(_0x4e927f[_0x239642(0x19a)](_0x3ac739,0x0)||_0x4e927f[_0x239642(0x1af)](_0x280185[_0x239642(0x1d6)],![]))&&(process['env'][_0x239642(0x1a6)]=_0x4e927f[_0x239642(0x1ce)],_0x574fda=_0x574fda['filter'](_0x40b3e5=>_0x40b3e5!=='--disable-test-observability'));!helper[_0x239642(0x1f9)](_0x503945[_0x239642(0x16c)])&&_0x503945[_0x239642(0x16c)][_0x239642(0x1dd)](_0x4e927f[_0x239642(0x17e)])&&(process[_0x239642(0x16d)][_0x239642(0x148)]=_0x503945[_0x239642(0x16c)][_0x239642(0x1f8)](_0x4e927f[_0x239642(0x17e)])||!![]);_0x4e927f['voSNJ'](_0x503945['config'][_0x239642(0x1d6)],null)&&!helper[_0x239642(0x165)](process[_0x239642(0x16d)][_0x239642(0x1a6)])&&(process[_0x239642(0x16d)][_0x239642(0x1a6)]=process[_0x239642(0x16d)][_0x239642(0x1a6)]||_0x503945[_0x239642(0x1a2)][_0x239642(0x1d6)]);const _0x18ebce=!helper['isFalse'](process[_0x239642(0x16d)][_0x239642(0x1a6)]);_0x503945['config'][_0x239642(0x170)]&&(process[_0x239642(0x16d)][_0x239642(0x186)]=JSON[_0x239642(0x147)](_0x503945['config'][_0x239642(0x170)]));let _0x28a417=![];_0x503945['config'][_0x239642(0x1cf)]&&(_0x28a417=!![],process[_0x239642(0x16d)][_0x239642(0x188)]=_0x503945['config'][_0x239642(0x1cf)]);const _0x262fec=_0x574fda[_0x239642(0x1f5)](),_0x518b2d=await _0x4e927f[_0x239642(0x1cc)](getUserPlaywrightConfig,_0x358c0b,_0x574fda);if(helper[_0x239642(0x1f9)](_0x518b2d)){_0x4e927f[_0x239642(0x19b)](spawnOriginalProcess,_0x262fec);return;}const _0x46b988=_0x518b2d['path']?path[_0x239642(0x17c)](_0x518b2d[_0x239642(0x1a5)]):process[_0x239642(0x1c9)]();process[_0x239642(0x16d)][_0x239642(0x1ea)]=_0x46b988,await PerformanceTester[_0x239642(0x163)](PerformanceEvents[_0x239642(0x1b8)],async()=>{const _0x3b904c=_0x239642;!BrowserstackCLI['getInstance']()[_0x3b904c(0x18c)]()&&await TestHubHandler[_0x3b904c(0x18e)](FRAMEWORKS[_0x3b904c(0x1ef)],_0x503945),_0x18ebce&&_0x4e927f[_0x3b904c(0x19b)](handleO11yRerun,_0x574fda);})();if(!BrowserstackCLI[_0x239642(0x1ff)]()[_0x239642(0x18c)]()){let _0x33ce02=_0x4e927f[_0x239642(0x181)](process[_0x239642(0x16d)][_0x239642(0x188)],_0x4e927f[_0x239642(0x1eb)]);_0x33ce02=_0x33ce02||_0x4e927f[_0x239642(0x200)](checkAccessibilityPlatformConfig,_0x503945[_0x239642(0x1a2)]),process[_0x239642(0x16d)][_0x239642(0x188)]=_0x33ce02,_0x33ce02&&_0x4e927f[_0x239642(0x200)](setAccessibilityCapabilities,_0x503945[_0x239642(0x1a2)]);}const _0x39dffb=path[_0x239642(0x1e8)](_0x518b2d[_0x239642(0x1a5)]?path[_0x239642(0x17c)](_0x518b2d[_0x239642(0x1a5)]):process['cwd'](),_0x4e927f[_0x239642(0x15c)]);fs['writeFileSync'](_0x39dffb,helper[_0x239642(0x1fa)](_0x503945[_0x239642(0x1a2)])),process['env'][_0x239642(0x1d5)]=_0x39dffb,helper[_0x239642(0x1fd)]();let _0x50ad59='';_0x4e927f[_0x239642(0x181)](helper[_0x239642(0x149)](),constants[_0x239642(0x19e)][_0x239642(0x1c8)])?_0x50ad59=_0x4e927f[_0x239642(0x178)]:_0x50ad59=_0x4e927f[_0x239642(0x161)];let _0x1f7b34='';if(helper[_0x239642(0x1c1)](_0x518b2d['path'])){_0x1f7b34=_0x239642(0x17f);const _0x485abb=_0x50ad59[_0x239642(0x19c)]('.');_0x485abb[_0x4e927f['GOyEK'](_0x485abb['length'],0x1)]='ts',_0x50ad59=_0x485abb[_0x239642(0x1e8)]('.'),logger[_0x239642(0x1bb)](_0x4e927f['Ucuxb'](_0x4e927f[_0x239642(0x1b7)],_0x50ad59));}else _0x1f7b34=_0x239642(0x189);const _0x39ed76=path[_0x239642(0x1e8)](_0x518b2d[_0x239642(0x1a5)]?path[_0x239642(0x17c)](_0x518b2d['path']):process[_0x239642(0x1c9)](),_0x50ad59);let _0x217445=_0x518b2d[_0x239642(0x1a5)]?_0x518b2d['path']:'';_0x217445=_0x4e927f[_0x239642(0x1de)](_0x217445[_0x239642(0x15f)],0x0)?path[_0x239642(0x1ec)](_0x217445):'',process[_0x239642(0x16d)][_0x239642(0x1e3)]=_0x217445;const _0x2cec4c=helper['getProxyUrl'](_0x503945[_0x239642(0x1a2)]),_0x37091d=helper['getNoProxy'](_0x503945[_0x239642(0x1a2)]);logger['debug']('Proxy\x20url\x20:\x20'+_0x2cec4c),logger[_0x239642(0x1bb)](_0x239642(0x14d)+_0x37091d);_0x2cec4c&&(_0x1f7b34=_0x4e927f[_0x239642(0x175)](_0x239642(0x17b)+_0x2cec4c+'\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22'+_0x37091d+_0x239642(0x1ae),_0x1f7b34));helper['filterBrowserstackArgs']({},_0x574fda),fs[_0x239642(0x1d1)](_0x39ed76,_0x1f7b34),PerformanceTester['end'](PerformanceEvents['SDK_SETUP']);const _0x104629=_0x4e927f['zuzBC'](spawn,helper[_0x239642(0x1c4)]()?_0x4e927f[_0x239642(0x1e1)]:_0x4e927f[_0x239642(0x1d0)],[_0x4e927f[_0x239642(0x1f2)],_0x4e927f['vcOHM'],_0x4e927f['mVSMq'],_0x4e927f['vkthW'](process['platform'],_0x4e927f[_0x239642(0x1b2)])?'\x22'+_0x39ed76+'\x22':_0x39ed76,..._0x574fda[_0x239642(0x183)](0x2)],{'shell':_0x4e927f[_0x239642(0x181)](process[_0x239642(0x19d)],_0x4e927f[_0x239642(0x1b2)]),'stdio':_0x4e927f['sxBjR'],'cwd':process[_0x239642(0x1c9)](),'env':Object[_0x239642(0x19f)]({},process['env'],{'BROWSERSTACK_CONFIG_FILE_PATH':helper[_0x239642(0x196)](_0x358c0b),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x503945[_0x239642(0x1a2)][_0x239642(0x1be)][_0x239642(0x1fc)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x503945[_0x239642(0x1a2)][_0x239642(0x1be)][_0x239642(0x1dc)],'BROWSERSTACK_LOG_LEVEL':_0x503945[_0x239642(0x1a2)][_0x239642(0x1d2)]})}),_0x4b8e75=()=>{const _0x1a7c7f=_0x239642;try{const _0x5969fa=path[_0x1a7c7f(0x1e8)](helper[_0x1a7c7f(0x174)](),_0x505b43[_0x1a7c7f(0x16b)],_0x505b43[_0x1a7c7f(0x16f)]);if(fs[_0x1a7c7f(0x197)](_0x5969fa)){let _0xd9f112=fs[_0x1a7c7f(0x1ad)](_0x5969fa);_0xd9f112=JSON['parse'](_0xd9f112),_0x503945['errorMessage']=_0xd9f112,fs[_0x1a7c7f(0x1db)](_0x5969fa);}}catch(_0x51824f){logger[_0x1a7c7f(0x1bb)](_0x505b43[_0x1a7c7f(0x18d)](_0x505b43[_0x1a7c7f(0x1e9)],_0x51824f));}};_0x104629['on'](_0x4e927f[_0x239642(0x17d)],async _0x5bd73a=>{const _0x24fb25=_0x239642,_0x548f1a={};_0x548f1a[_0x24fb25(0x1fe)]=_0x505b43[_0x24fb25(0x16b)];const _0x3a1530=_0x548f1a;try{PerformanceTester[_0x24fb25(0x152)](PerformanceEvents['SDK_CLEANUP']),_0x505b43[_0x24fb25(0x185)](_0x4b8e75),await TestHubHandler['stop'](),await ClientTroubleShootingService[_0x24fb25(0x1d4)](),await BrowserstackCLI[_0x24fb25(0x1ff)]()['stop'](),TestDetails[_0x24fb25(0x14c)](),_0x505b43[_0x24fb25(0x185)](printBuildLink),await utilities[_0x24fb25(0x1f1)](_0x503945),process['exitCode']=_0x5bd73a,logger['debug']('Playwright\x20process\x20exited\x20with\x20code\x20'+_0x5bd73a),logger[_0x24fb25(0x1f7)]('Deleting\x20'+_0x39ed76),fs[_0x24fb25(0x1db)](_0x39ed76);fs[_0x24fb25(0x197)](_0x39dffb)&&(logger['debug'](_0x24fb25(0x1ba)+_0x39dffb),fs['unlinkSync'](_0x39dffb));const _0x5ea24d=fs[_0x24fb25(0x14a)](path[_0x24fb25(0x1e8)](helper[_0x24fb25(0x174)](),_0x505b43['JYGuh']))[_0x24fb25(0x151)](_0x6a0936=>_0x6a0936[_0x24fb25(0x150)]('trace_'));_0x5ea24d[_0x24fb25(0x1fb)](_0x39cd4f=>{const _0x5f596d=_0x24fb25;fs[_0x5f596d(0x1db)](path['join'](helper[_0x5f596d(0x174)](),_0x3a1530[_0x5f596d(0x1fe)],_0x39cd4f));});}catch(_0x560a7c){logger[_0x24fb25(0x1bb)](_0x505b43['jWlxT'](_0x505b43['XUooO'],_0x560a7c));}});})();}module[a39_0x59a1e1(0x166)]=run;