#!/usr/bin/env node
'use strict';const a39_0x424938=a39_0x1efe;(function(_0x1c92e5,_0x4555d8){const _0x572b5e=a39_0x1efe,_0x1298e1=_0x1c92e5();while(!![]){try{const _0x81e782=parseInt(_0x572b5e(0x221))/0x1*(parseInt(_0x572b5e(0x1ff))/0x2)+-parseInt(_0x572b5e(0x26a))/0x3*(-parseInt(_0x572b5e(0x22e))/0x4)+parseInt(_0x572b5e(0x250))/0x5+parseInt(_0x572b5e(0x260))/0x6*(-parseInt(_0x572b5e(0x1f3))/0x7)+parseInt(_0x572b5e(0x1ca))/0x8*(-parseInt(_0x572b5e(0x1da))/0x9)+-parseInt(_0x572b5e(0x207))/0xa+parseInt(_0x572b5e(0x263))/0xb*(-parseInt(_0x572b5e(0x226))/0xc);if(_0x81e782===_0x4555d8)break;else _0x1298e1['push'](_0x1298e1['shift']());}catch(_0x3e99e5){_0x1298e1['push'](_0x1298e1['shift']());}}}(a39_0x1c60,0xf19c8));function a39_0x1efe(_0x4ed7e8,_0x8d3ec5){const _0x1c6039=a39_0x1c60();return a39_0x1efe=function(_0x1efeb2,_0x3c7188){_0x1efeb2=_0x1efeb2-0x1c9;let _0x24c1f8=_0x1c6039[_0x1efeb2];return _0x24c1f8;},a39_0x1efe(_0x4ed7e8,_0x8d3ec5);}const fs=require('fs'),path=require(a39_0x424938(0x1c9)),{spawn}=require(a39_0x424938(0x26b)),{format}=require(a39_0x424938(0x284)),logger=require(a39_0x424938(0x1ed))['winstonLogger'],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a39_0x424938(0x267)),utilities=require('../../helpers/utilities'),constants=require(a39_0x424938(0x25f)),{FRAMEWORKS}=require(a39_0x424938(0x233)),{getConfigLoaderPath}=require(a39_0x424938(0x24f)),{checkAccessibilityPlatformConfig}=require(a39_0x424938(0x20d)),{setAccessibilityCapabilities}=require(a39_0x424938(0x24b)),{printBuildLink}=require(a39_0x424938(0x275)),TestDetails=require(a39_0x424938(0x205)),TestHubHandler=require('../../helpers/testhub/testhubHandler'),PerformanceTester=require(a39_0x424938(0x1f8)),BrowserstackCLI=require(a39_0x424938(0x247)),PerformanceEvents=require(a39_0x424938(0x26e))[a39_0x424938(0x27a)],CLIUtils=require(a39_0x424938(0x269)),TestInfo=require(a39_0x424938(0x23d)),ClientTroubleShootingService=require(a39_0x424938(0x22d)),getUserPlaywrightConfig=async(_0xddc874,_0x1d9a51)=>{const _0x3a24e6=a39_0x424938,_0x56e22e={'UDyLX':function(_0x9542d3){return _0x9542d3();},'OtsGU':function(_0x5b5dda,_0x3c0940){return _0x5b5dda(_0x3c0940);},'kxkuJ':_0x3a24e6(0x22c),'TDXTv':_0x3a24e6(0x243)},_0x371092=!helper[_0x3a24e6(0x228)](_0xddc874[_0x3a24e6(0x1e9)]),_0x5b3789=_0x371092?path[_0x3a24e6(0x213)](process[_0x3a24e6(0x20e)](),_0xddc874['config']):process['cwd'](),{resolveConfigFile:_0x361c5,resolveConfigLocation:_0x286bcb}=helper[_0x3a24e6(0x239)][_0x3a24e6(0x1dd)](null,_0x56e22e['UDyLX'](getConfigLoaderPath)),_0x16d86d=_0x361c5?_0x56e22e[_0x3a24e6(0x24a)](_0x361c5,_0x5b3789):helper['nestedKeyValue'](_0x56e22e[_0x3a24e6(0x24a)](_0x286bcb,_0x5b3789),[_0x56e22e['kxkuJ']]),_0x26f0a2={};if(_0x371092){const _0x5450f5=_0x1d9a51[_0x3a24e6(0x255)](_0x49025a=>_0x49025a===_0x3a24e6(0x268)||_0x49025a==='-c'||_0x49025a[_0x3a24e6(0x245)](_0x3a24e6(0x243)));_0x1d9a51[_0x3a24e6(0x26d)](_0x5450f5,_0x1d9a51[_0x5450f5]['startsWith'](_0x56e22e[_0x3a24e6(0x21c)])?0x1:0x2);}const _0x44e5bf={};return _0x44e5bf[_0x3a24e6(0x1c9)]=_0x16d86d,_0x44e5bf[_0x3a24e6(0x1e9)]=_0x26f0a2,_0x44e5bf;},handleO11yRerun=_0x256bf7=>{const _0x7efc99=a39_0x424938,_0x430fbc={};_0x430fbc[_0x7efc99(0x235)]='--grep';const _0x3eca03=_0x430fbc,_0x4d4aa0=helper[_0x7efc99(0x204)](process[_0x7efc99(0x212)][_0x7efc99(0x203)]);if(_0x4d4aa0){const _0x47b802=process[_0x7efc99(0x212)][_0x7efc99(0x1cf)],_0x231d0e=[];if(helper[_0x7efc99(0x23e)](_0x47b802)&&!helper[_0x7efc99(0x228)](_0x47b802)){_0x47b802[_0x7efc99(0x1db)](',')[_0x7efc99(0x24d)](_0x48707d=>{const _0x3f0974=_0x7efc99;_0x231d0e[_0x3f0974(0x20c)]('('+_0x48707d[_0x3f0974(0x276)]()+')');});const _0x511d04='^'+_0x231d0e[_0x7efc99(0x257)]('|')+'$';_0x256bf7['push'](_0x3eca03[_0x7efc99(0x235)],_0x511d04);}}},spawnOriginalProcess=_0x1767c7=>{const _0x33dc20=a39_0x424938,_0x268e76={'cjEBM':function(_0x12e50a,_0x2e8990,_0x44910b,_0x393016){return _0x12e50a(_0x2e8990,_0x44910b,_0x393016);},'XuCPP':'npx','hyiwX':_0x33dc20(0x222),'TwwOt':function(_0xa14a1f,_0x41775d){return _0xa14a1f===_0x41775d;},'LQuax':_0x33dc20(0x20f),'CWbIu':_0x33dc20(0x22f)};_0x268e76['cjEBM'](spawn,_0x268e76[_0x33dc20(0x282)],[_0x268e76[_0x33dc20(0x236)],..._0x1767c7['slice'](0x1)],{'shell':_0x268e76['TwwOt'](process['platform'],_0x268e76[_0x33dc20(0x242)]),'stdio':_0x268e76['CWbIu'],'cwd':process[_0x33dc20(0x20e)]()});},isTestCommand=(_0x5a8c92,_0x49e83f)=>{const _0x565c4d=a39_0x424938,_0x4e92e9={};_0x4e92e9['vEVxi']=function(_0x120800,_0x4bc897){return _0x120800>_0x4bc897;},_0x4e92e9[_0x565c4d(0x1f1)]=function(_0x2e675a,_0x1f1358){return _0x2e675a===_0x1f1358;},_0x4e92e9['ADBLq']='test';const _0xcd1892=_0x4e92e9;if(_0xcd1892[_0x565c4d(0x229)](_0x49e83f['length'],0x1)&&_0xcd1892['uwgia'](_0x49e83f[0x1],_0xcd1892[_0x565c4d(0x1d6)]))return!![];return![];};async function run(_0x4026c8,_0x1827c4,_0x4bad9d){const _0x1cdf76=a39_0x424938,_0x14ff52={'zCEtj':_0x1cdf76(0x272),'MoHkC':function(_0x81e6cb){return _0x81e6cb();},'PCTga':function(_0x413baa){return _0x413baa();},'rZFLO':function(_0x137eed,_0x32a127){return _0x137eed+_0x32a127;},'fjbvJ':_0x1cdf76(0x251),'CbPJu':function(_0x2293d7,_0x5dc681){return _0x2293d7(_0x5dc681);},'yTAhv':_0x1cdf76(0x1fa),'KsMwx':function(_0x44cb92,_0x3fe80c){return _0x44cb92+_0x3fe80c;},'YuITI':_0x1cdf76(0x281),'IYCbt':_0x1cdf76(0x210),'Kpzcm':function(_0x416853,_0x41c883){return _0x416853<_0x41c883;},'RBdpv':function(_0x1cb1fc,_0x49f8bf){return _0x1cb1fc===_0x49f8bf;},'EqekK':_0x1cdf76(0x200),'sZUjx':_0x1cdf76(0x1f7),'lxamk':function(_0x3a992a,_0x300c99){return _0x3a992a>=_0x300c99;},'cnynk':_0x1cdf76(0x1ea),'dbamo':function(_0x95efe4,_0x2fdf3a){return _0x95efe4!=_0x2fdf3a;},'rXsyb':function(_0x37908e,_0x8b6fbe,_0x313d15){return _0x37908e(_0x8b6fbe,_0x313d15);},'dXrpz':_0x1cdf76(0x21e),'gKlew':function(_0x202b12,_0x287426){return _0x202b12(_0x287426);},'DwBpY':_0x1cdf76(0x219),'kTgjZ':function(_0x5bce01,_0x5a67e6){return _0x5bce01===_0x5a67e6;},'MWPqH':_0x1cdf76(0x1e3),'NVpxq':_0x1cdf76(0x216),'lDtYH':function(_0x33bb48,_0x330dd5){return _0x33bb48-_0x330dd5;},'kbbBB':_0x1cdf76(0x1cd),'cCbyQ':function(_0x592d7c,_0x4cd022){return _0x592d7c>_0x4cd022;},'iUxpj':function(_0x5b566c,_0x471484,_0x1d887b,_0x36f72b){return _0x5b566c(_0x471484,_0x1d887b,_0x36f72b);},'zhxTf':_0x1cdf76(0x264),'jQllH':'playwright','tGYzH':'test','CXMaX':'--config','gMsJA':function(_0x28c5ec,_0x1036db){return _0x28c5ec===_0x1036db;},'HscOM':_0x1cdf76(0x20f),'fNIMu':_0x1cdf76(0x22f),'KWBJY':_0x1cdf76(0x1fb),'IeHZq':function(_0x5b72fb,_0x61f297){return _0x5b72fb|_0x61f297;},'BFWnM':_0x1cdf76(0x1d4),'fzsjp':_0x1cdf76(0x27b),'kHyyh':function(_0x2d2ca0,_0x32f912,_0x3a6c0c){return _0x2d2ca0(_0x32f912,_0x3a6c0c);},'avvha':function(_0x1e586f,_0x4d1afd){return _0x1e586f(_0x4d1afd);}};try{const _0x37c9a9=path['join'](helper[_0x1cdf76(0x1f4)](),_0x14ff52['zCEtj']);try{fs['accessSync'](_0x37c9a9,_0x14ff52[_0x1cdf76(0x231)](fs[_0x1cdf76(0x225)]['R_OK'],fs[_0x1cdf76(0x225)][_0x1cdf76(0x230)]));}catch(_0xcfa035){ClientTroubleShootingService[_0x1cdf76(0x1ef)]();}}catch(_0x82f7ad){logger[_0x1cdf76(0x1dc)](_0x14ff52[_0x1cdf76(0x1d1)](_0x14ff52[_0x1cdf76(0x22a)],_0x82f7ad));}try{const _0x224e57=path[_0x1cdf76(0x257)](helper['homedir'](),_0x14ff52[_0x1cdf76(0x1e2)],_0x14ff52['yTAhv']);fs[_0x1cdf76(0x20a)](_0x224e57)&&fs[_0x1cdf76(0x244)](_0x224e57);}catch(_0x4e23c9){logger[_0x1cdf76(0x1dc)](_0x14ff52[_0x1cdf76(0x22b)](_0x14ff52[_0x1cdf76(0x271)],_0x4e23c9));}if(!_0x14ff52[_0x1cdf76(0x1f0)](isTestCommand,_0x4026c8,_0x1827c4)){_0x14ff52[_0x1cdf76(0x274)](spawnOriginalProcess,_0x1827c4);return;}await PerformanceTester[_0x1cdf76(0x1d5)](PerformanceEvents[_0x1cdf76(0x215)],async()=>{const _0x2d6ea9=_0x1cdf76,_0x390d45={'LWaRV':function(_0x4c483a,_0xd7222a){return _0x14ff52['CbPJu'](_0x4c483a,_0xd7222a);},'QjHat':_0x14ff52[_0x2d6ea9(0x1e2)],'thJiH':_0x14ff52[_0x2d6ea9(0x25b)],'YfRID':function(_0x2bbc6c,_0x4b98d1){return _0x14ff52['KsMwx'](_0x2bbc6c,_0x4b98d1);},'WDzeG':_0x14ff52[_0x2d6ea9(0x26f)]};if(!_0x4bad9d[_0x2d6ea9(0x1e9)]){logger[_0x2d6ea9(0x1d3)](_0x14ff52[_0x2d6ea9(0x283)]);return;}await _0x4bad9d[_0x2d6ea9(0x206)](_0x4026c8),CLIUtils[_0x2d6ea9(0x1e1)](FRAMEWORKS['PLAYWRIGHT'],FRAMEWORKS[_0x2d6ea9(0x234)]),BrowserstackCLI['getInstance']()['setBrowserstackConfig'](_0x4bad9d[_0x2d6ea9(0x1e9)],_0x4bad9d[_0x2d6ea9(0x1e5)]),await BrowserstackCLI[_0x2d6ea9(0x241)]()[_0x2d6ea9(0x256)]();for(var _0x2cc4b9=0x0;_0x14ff52['Kpzcm'](_0x2cc4b9,constants['INTERNALLY_USED_ENV_VARS'][_0x2d6ea9(0x25c)]);_0x2cc4b9++){var _0xfd8812=constants['INTERNALLY_USED_ENV_VARS'][_0x2cc4b9];process[_0x2d6ea9(0x212)][_0xfd8812]&&await ClientTroubleShootingService[_0x2d6ea9(0x1df)](_0xfd8812);}const _0x10e407=BrowserstackCLI[_0x2d6ea9(0x241)]()['getConfig']();!helper[_0x2d6ea9(0x277)](_0x10e407['browserstackAutomation'])&&(process['env'][_0x2d6ea9(0x1e4)]=!![]);_0x14ff52[_0x2d6ea9(0x1f9)](_0x10e407[_0x2d6ea9(0x20b)],![])&&(process[_0x2d6ea9(0x212)][_0x2d6ea9(0x1e4)]=_0x14ff52['EqekK'],_0x1827c4=_0x1827c4[_0x2d6ea9(0x279)](_0xf1f6df=>_0xf1f6df!=='--disable-browserstack-automation'));const _0x380379=_0x1827c4[_0x2d6ea9(0x23f)](_0x14ff52[_0x2d6ea9(0x1de)]);(_0x14ff52['lxamk'](_0x380379,0x0)||_0x14ff52[_0x2d6ea9(0x1f9)](_0x10e407['testObservability'],![]))&&(process[_0x2d6ea9(0x212)]['BROWSERSTACK_TEST_OBSERVABILITY']=_0x14ff52[_0x2d6ea9(0x227)],_0x1827c4=_0x1827c4[_0x2d6ea9(0x279)](_0xcdabf3=>_0xcdabf3!==_0x2d6ea9(0x1f7)));!helper[_0x2d6ea9(0x228)](_0x4bad9d[_0x2d6ea9(0x1e5)])&&_0x4bad9d['cliConfig'][_0x2d6ea9(0x220)](_0x14ff52[_0x2d6ea9(0x1ec)])&&(process[_0x2d6ea9(0x212)][_0x2d6ea9(0x1e4)]=_0x4bad9d[_0x2d6ea9(0x1e5)][_0x2d6ea9(0x21b)](_0x14ff52[_0x2d6ea9(0x1ec)])||!![]);_0x14ff52[_0x2d6ea9(0x1eb)](_0x4bad9d[_0x2d6ea9(0x1e9)]['testObservability'],null)&&!helper[_0x2d6ea9(0x204)](process[_0x2d6ea9(0x212)][_0x2d6ea9(0x23a)])&&(process[_0x2d6ea9(0x212)][_0x2d6ea9(0x23a)]=process[_0x2d6ea9(0x212)][_0x2d6ea9(0x23a)]||_0x4bad9d[_0x2d6ea9(0x1e9)][_0x2d6ea9(0x1e0)]);const _0x146d02=!helper[_0x2d6ea9(0x277)](process[_0x2d6ea9(0x212)][_0x2d6ea9(0x23a)]);_0x4bad9d[_0x2d6ea9(0x1e9)][_0x2d6ea9(0x253)]&&(process['env'][_0x2d6ea9(0x1e7)]=JSON['stringify'](_0x4bad9d[_0x2d6ea9(0x1e9)][_0x2d6ea9(0x253)]));let _0x253f8d=![];_0x4bad9d['config'][_0x2d6ea9(0x25a)]&&(_0x253f8d=!![],process['env'][_0x2d6ea9(0x21f)]=_0x4bad9d[_0x2d6ea9(0x1e9)]['accessibility']);const _0x4932f6=_0x1827c4[_0x2d6ea9(0x1d8)](),_0x5bb964=await _0x14ff52[_0x2d6ea9(0x258)](getUserPlaywrightConfig,_0x4026c8,_0x1827c4);if(helper['isUndefined'](_0x5bb964)){_0x14ff52[_0x2d6ea9(0x23b)](spawnOriginalProcess,_0x4932f6);return;}const _0x2881f7=_0x5bb964[_0x2d6ea9(0x1c9)]?path[_0x2d6ea9(0x1cc)](_0x5bb964[_0x2d6ea9(0x1c9)]):process[_0x2d6ea9(0x20e)]();process['env'][_0x2d6ea9(0x209)]=_0x2881f7,await PerformanceTester[_0x2d6ea9(0x1d5)](PerformanceEvents['SDK_POST_INITIALIZE'],async()=>{const _0x3886ca=_0x2d6ea9;!BrowserstackCLI[_0x3886ca(0x241)]()['isRunning']()&&await TestHubHandler['launchBuild'](FRAMEWORKS[_0x3886ca(0x234)],_0x4bad9d),_0x146d02&&_0x390d45['LWaRV'](handleO11yRerun,_0x1827c4);})();if(!BrowserstackCLI[_0x2d6ea9(0x241)]()['isRunning']()){let _0x14a80f=_0x14ff52[_0x2d6ea9(0x1f9)](process[_0x2d6ea9(0x212)][_0x2d6ea9(0x21f)],_0x14ff52[_0x2d6ea9(0x266)]);_0x14a80f=_0x14a80f||_0x14ff52['gKlew'](checkAccessibilityPlatformConfig,_0x4bad9d[_0x2d6ea9(0x1e9)]),process[_0x2d6ea9(0x212)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x14a80f,_0x14a80f&&_0x14ff52[_0x2d6ea9(0x23b)](setAccessibilityCapabilities,_0x4bad9d[_0x2d6ea9(0x1e9)]);}const _0x544665=path['join'](_0x5bb964[_0x2d6ea9(0x1c9)]?path[_0x2d6ea9(0x1cc)](_0x5bb964[_0x2d6ea9(0x1c9)]):process['cwd'](),_0x14ff52[_0x2d6ea9(0x261)]);fs[_0x2d6ea9(0x1d2)](_0x544665,helper[_0x2d6ea9(0x259)](_0x4bad9d[_0x2d6ea9(0x1e9)])),process[_0x2d6ea9(0x212)]['BROWSERSTACK_SETUP_CONFIG_PATH']=_0x544665,helper['clearTempPWConfig']();let _0x22af0f='';_0x14ff52[_0x2d6ea9(0x21a)](helper[_0x2d6ea9(0x26c)](),constants[_0x2d6ea9(0x232)]['MODULE'])?_0x22af0f=_0x14ff52[_0x2d6ea9(0x262)]:_0x22af0f=_0x14ff52[_0x2d6ea9(0x223)];let _0x350b48='';if(helper[_0x2d6ea9(0x1f2)](_0x5bb964[_0x2d6ea9(0x1c9)])){_0x350b48=_0x2d6ea9(0x24e);const _0x433ffc=_0x22af0f[_0x2d6ea9(0x1db)]('.');_0x433ffc[_0x14ff52[_0x2d6ea9(0x27d)](_0x433ffc[_0x2d6ea9(0x25c)],0x1)]='ts',_0x22af0f=_0x433ffc[_0x2d6ea9(0x257)]('.'),logger['debug'](_0x14ff52[_0x2d6ea9(0x22b)](_0x14ff52[_0x2d6ea9(0x237)],_0x22af0f));}else _0x350b48='\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a';const _0x1c439e=path[_0x2d6ea9(0x257)](_0x5bb964[_0x2d6ea9(0x1c9)]?path['dirname'](_0x5bb964[_0x2d6ea9(0x1c9)]):process[_0x2d6ea9(0x20e)](),_0x22af0f);let _0x475823=_0x5bb964[_0x2d6ea9(0x1c9)]?_0x5bb964['path']:'';_0x475823=_0x14ff52['cCbyQ'](_0x475823[_0x2d6ea9(0x25c)],0x0)?path[_0x2d6ea9(0x213)](_0x475823):'',process[_0x2d6ea9(0x212)][_0x2d6ea9(0x25e)]=_0x475823;const _0x58442e=helper['getProxyUrl'](_0x4bad9d[_0x2d6ea9(0x1e9)]),_0x272ce9=helper[_0x2d6ea9(0x280)](_0x4bad9d[_0x2d6ea9(0x1e9)]);logger['debug']('Proxy\x20url\x20:\x20'+_0x58442e),logger[_0x2d6ea9(0x1dc)](_0x2d6ea9(0x1e6)+_0x272ce9);_0x58442e&&(_0x350b48=_0x14ff52['KsMwx'](_0x2d6ea9(0x1cb)+_0x58442e+_0x2d6ea9(0x273)+_0x272ce9+_0x2d6ea9(0x23c),_0x350b48));helper[_0x2d6ea9(0x21d)]({},_0x1827c4),fs[_0x2d6ea9(0x1d2)](_0x1c439e,_0x350b48),PerformanceTester[_0x2d6ea9(0x252)](PerformanceEvents[_0x2d6ea9(0x1fc)]);const _0xff2002=_0x14ff52[_0x2d6ea9(0x246)](spawn,_0x14ff52['zhxTf'],[_0x14ff52[_0x2d6ea9(0x1e8)],_0x14ff52[_0x2d6ea9(0x1f5)],_0x14ff52[_0x2d6ea9(0x1d7)],_0x1c439e,..._0x1827c4[_0x2d6ea9(0x217)](0x2)],{'shell':_0x14ff52[_0x2d6ea9(0x1fd)](process[_0x2d6ea9(0x1ce)],_0x14ff52[_0x2d6ea9(0x240)]),'stdio':_0x14ff52[_0x2d6ea9(0x265)],'cwd':process[_0x2d6ea9(0x20e)](),'env':Object['assign']({},process['env'],{'BROWSERSTACK_CONFIG_FILE_PATH':helper[_0x2d6ea9(0x214)](_0x4026c8),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x4bad9d[_0x2d6ea9(0x1e9)][_0x2d6ea9(0x27c)][_0x2d6ea9(0x27f)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x4bad9d['config'][_0x2d6ea9(0x27c)][_0x2d6ea9(0x27e)],'BROWSERSTACK_LOG_LEVEL':_0x4bad9d[_0x2d6ea9(0x1e9)][_0x2d6ea9(0x1fe)]})}),_0x52c8d9=()=>{const _0x43def4=_0x2d6ea9;try{const _0x3131fe=path[_0x43def4(0x257)](helper[_0x43def4(0x1f4)](),_0x390d45[_0x43def4(0x1ee)],_0x390d45[_0x43def4(0x1d9)]);if(fs[_0x43def4(0x20a)](_0x3131fe)){let _0x2a1dfe=fs[_0x43def4(0x249)](_0x3131fe);_0x2a1dfe=JSON[_0x43def4(0x270)](_0x2a1dfe),_0x4bad9d[_0x43def4(0x238)]=_0x2a1dfe,fs[_0x43def4(0x244)](_0x3131fe);}}catch(_0x204517){logger[_0x43def4(0x1dc)](_0x390d45['YfRID'](_0x390d45['WDzeG'],_0x204517));}};_0xff2002['on'](_0x14ff52[_0x2d6ea9(0x24c)],async _0x454f9e=>{const _0x2bb3e8=_0x2d6ea9,_0xbd4e23={};_0xbd4e23['ExXYy']=_0x14ff52['zCEtj'];const _0x4cd523=_0xbd4e23;try{PerformanceTester[_0x2bb3e8(0x1f6)](PerformanceEvents[_0x2bb3e8(0x278)]),_0x14ff52[_0x2bb3e8(0x218)](_0x52c8d9),await TestHubHandler['stop'](),await ClientTroubleShootingService[_0x2bb3e8(0x248)](),await BrowserstackCLI[_0x2bb3e8(0x241)]()['stop'](),TestDetails['shutdown'](),_0x14ff52['PCTga'](printBuildLink),await utilities[_0x2bb3e8(0x211)](_0x4bad9d),process[_0x2bb3e8(0x208)]=_0x454f9e,logger[_0x2bb3e8(0x1dc)](_0x2bb3e8(0x25d)+_0x454f9e),logger[_0x2bb3e8(0x201)](_0x2bb3e8(0x254)+_0x1c439e),fs['unlinkSync'](_0x1c439e);fs['existsSync'](_0x544665)&&(logger['debug'](_0x2bb3e8(0x254)+_0x544665),fs[_0x2bb3e8(0x244)](_0x544665));const _0xc6c511=fs[_0x2bb3e8(0x1d0)](path[_0x2bb3e8(0x257)](helper[_0x2bb3e8(0x1f4)](),_0x14ff52[_0x2bb3e8(0x1e2)]))['filter'](_0x76e589=>_0x76e589[_0x2bb3e8(0x245)](_0x2bb3e8(0x224)));_0xc6c511['forEach'](_0x4df5a9=>{const _0x29ac1a=_0x2bb3e8;fs[_0x29ac1a(0x244)](path['join'](helper[_0x29ac1a(0x1f4)](),_0x4cd523[_0x29ac1a(0x202)],_0x4df5a9));});}catch(_0x3aa913){logger[_0x2bb3e8(0x1dc)](_0x14ff52[_0x2bb3e8(0x1d1)](_0x14ff52['fjbvJ'],_0x3aa913));}});})();}module['exports']=run;function a39_0x1c60(){const _0x4c7e7a=['189XNgMts','homedir','tGYzH','start','--disable-test-observability','../../helpers/performance/performance-tester','RBdpv','pw_result.json','close','SDK_SETUP','gMsJA','logLevel','127790EbtJRl','false','info','ExXYy','BROWSERSTACK_RERUN','isTrue','./reporter/test-details','initialize','2910280IuSVKF','exitCode','BROWSERSTACK_PW_CONFIG_DIR','existsSync','browserstackAutomation','push','../../helpers/accessibility-automation/helper','cwd','win32','BrowserStack\x20config\x20file\x20not\x20found.','finalExecution','env','resolve','getConfigPath','SDK_PRE_INITIALIZE','playwright-browserstack-sdk.config.js','slice','MoHkC','browserstackSetupConfig.json','kTgjZ','get','TDXTv','filterBrowserstackArgs','true','BROWSERSTACK_TEST_ACCESSIBILITY_YML','has','23KaHHBN','playwright','NVpxq','trace_','constants','13752VeAQBI','EqekK','isUndefined','vEVxi','BFWnM','KsMwx','resolvedConfigFile','../utils/clientTroubleshootingService','9412zdhZXt','inherit','W_OK','IeHZq','PACKAGE_TYPE','../../helpers/test-observability/constants','PLAYWRIGHT','XzLPc','hyiwX','kbbBB','errorMessage','requirePWModule','BROWSERSTACK_TEST_OBSERVABILITY','CbPJu','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','../v2/TestInfo','validateRerunTestList','indexOf','HscOM','getInstance','LQuax','--config=','unlinkSync','startsWith','iUxpj','../v2/browserstackCLI','reportFinalDetectionState','readFileSync','OtsGU','./accessibility-helper','KWBJY','map','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','./reporter/pwUtils','643945TBYSVH','Error\x20in\x20closing\x20playwright','end','accessibilityOptions','Deleting\x20','findIndex','bootstrap','join','rXsyb','serializeToYamlString','accessibility','yTAhv','length','Playwright\x20process\x20exited\x20with\x20code\x20','USER_CONFIG_DETAILS_PATH','../utils/constants','275226gJOuDQ','DwBpY','MWPqH','8844wDExFR','npx','fNIMu','dXrpz','../../helpers/helper','--config','../v2/cliUtils','2493LqhhQL','child_process','getPackageType','splice','../../helpers/performance/constants','YuITI','parse','fzsjp','.browserstack','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22','avvha','../../helpers/test-observability/utils','trim','isFalse','SDK_CLEANUP','filter','EVENTS','Error\x20in\x20deleting\x20playwright\x20results','testContextOptions','lDtYH','skipSessionName','skipSessionStatus','getNoProxy','Error\x20in\x20getting\x20funnel\x20data\x20results','XuCPP','IYCbt','util','path','43104NDGXGD','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','dirname','Updated\x20config\x20file\x20name\x20to\x20-\x20','platform','BROWSERSTACK_RERUN_TESTS','readdirSync','rZFLO','writeFileSync','error','Error\x20in\x20accessing\x20.browserstack\x20directory:\x20','measureWrapper','ADBLq','CXMaX','concat','thJiH','189bwmppo','split','debug','apply','sZUjx','reportConflictingEnvVarIssue','testObservability','setFrameworkDetail','zCEtj','playwright-browserstack-sdk.config.cjs','BROWSERSTACK_AUTOMATION','cliConfig','No\x20Proxy\x20:\x20','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','jQllH','config','automation','dbamo','cnynk','../../helpers/logger','QjHat','reportDotBrowserStackFolderNotAccessibleIssue','kHyyh','uwgia','isTypescriptProject'];a39_0x1c60=function(){return _0x4c7e7a;};return a39_0x1c60();}