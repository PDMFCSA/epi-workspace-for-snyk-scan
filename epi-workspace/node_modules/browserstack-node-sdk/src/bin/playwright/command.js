#!/usr/bin/env node
'use strict';const a39_0x11e2c6=a39_0x4e34;(function(_0x2d4da8,_0x3d77ca){const _0x18e49c=a39_0x4e34,_0x18fde9=_0x2d4da8();while(!![]){try{const _0x56f0b5=parseInt(_0x18e49c(0xd4))/0x1+-parseInt(_0x18e49c(0xb7))/0x2*(parseInt(_0x18e49c(0xbd))/0x3)+parseInt(_0x18e49c(0x160))/0x4+parseInt(_0x18e49c(0x15d))/0x5*(parseInt(_0x18e49c(0xca))/0x6)+-parseInt(_0x18e49c(0xbb))/0x7+-parseInt(_0x18e49c(0x138))/0x8+-parseInt(_0x18e49c(0x157))/0x9*(-parseInt(_0x18e49c(0x152))/0xa);if(_0x56f0b5===_0x3d77ca)break;else _0x18fde9['push'](_0x18fde9['shift']());}catch(_0x185064){_0x18fde9['push'](_0x18fde9['shift']());}}}(a39_0x3741,0xd88fb));function a39_0x3741(){const _0x528df6=['exitCode','BJRIa','ucwfW','W_OK','taahS','filter','constants','start','SDK_CLEANUP','win32','ndzui','../../helpers/helper','accessSync','hDqxi','measureWrapper','setBrowserstackConfig','homedir','npx','../v2/TestInfo','logLevel','DWgFz','BROWSERSTACK_SETUP_CONFIG_PATH','testContextOptions','3744400swPtsA','unlinkSync','end','PACKAGE_TYPE','KWeHb','join','filterBrowserstackArgs','./reporter/pwUtils','isYarnPnP','lhSTB','--disable-browserstack-automation','winstonLogger','./accessibility-helper','xXaLD','isUndefined','uNtRA','reportDotBrowserStackFolderNotAccessibleIssue','.browserstack','nNxYl','YkOWE','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','../v2/browserstackCLI','playwright','ZYRWN','trace_','requirePWModule','430efhSnn','concat','RufKo','../../helpers/test-observability/utils','accessibility','44181hRomyX','close','zUXzl','Ckbpd','initialize','configPath','111125iZnrEW','--grep','serializeToYamlString','3749192mlTzXv','../utils/constants','wrERa','mCNDl','../../helpers/utilities','forEach','slice','BROWSERSTACK_TEST_ACCESSIBILITY_YML','QlrKu','resolve','iCIzS','WEjpM','Proxy\x20url\x20:\x20','push','PLAYWRIGHT','writeFileSync','MODULE','readdirSync','dirname','cwd','config','startsWith','platform','USER_CONFIG_DETAILS_PATH','2RybrIZ','setFrameworkDetail','accessibilityOptions','SDK_PRE_INITIALIZE','6269228NtrrRy','nestedKeyValue','1625601FpUwTp','readFileSync','BROWSERSTACK_TEST_OBSERVABILITY','split','path','playwright-browserstack-sdk.config.cjs','exports','--disable-test-observability','Error\x20in\x20getting\x20funnel\x20data\x20results','getConfigPath','map','isFalse','dcnbJ','294tynIBt','reportConflictingEnvVarIssue','browserstackSetupConfig.json','GIDXd','../../helpers/performance/constants','inherit','env','OaWQr','debug','child_process','555146WWzSqw','apply','pw_result.json','cliConfig','indexOf','yarn','PlrRj','--config=','wwpVq','No\x20Proxy\x20:\x20','oWAYl','splice','vqScc','true','./reporter/test-details','findIndex','FYcYR','resolvedConfigFile','TyBbW','getPackageType','--config','BROWSERSTACK_PW_CONFIG_DIR','HTKSX','iiOSP','../../helpers/performance/performance-tester','playwright-browserstack-sdk.config.js','BROWSERSTACK_AUTOMATION','../v2/cliUtils','stop','existsSync','qKSgo','../utils/clientTroubleshootingService','bootstrap','../../helpers/BrowserStackSetup','Playwright\x20process\x20exited\x20with\x20code\x20','Deleting\x20','length','isRunning','yClXg','shutdown','Error\x20in\x20closing\x20playwright','browserstackAutomation','bCCKn','OpIPb','../../helpers/testhub/testhubHandler','getNoProxy','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22','launchBuild','QrWdA','BROWSERSTACK_RERUN','../../helpers/accessibility-automation/helper','testObservability','error','BrowserStack\x20config\x20file\x20not\x20found.','skipSessionName','finalExecution','getInstance','sPLGh','Gxumj','parse','QuNNi','BROWSERSTACK_RERUN_TESTS','SGzHn','validateRerunTestList','info','QYfti','errorMessage','qSXEx','HVlHn','FqdLR','getConfig','RPzua','OjJUs','eBDLU','Uyyzk','EVENTS','get'];a39_0x3741=function(){return _0x528df6;};return a39_0x3741();}const fs=require('fs'),path=require(a39_0x11e2c6(0xc1)),{spawn}=require(a39_0x11e2c6(0xd3)),{format}=require('util'),logger=require('../../helpers/logger')[a39_0x11e2c6(0x143)],{default:BrowserStackSetup}=require(a39_0x11e2c6(0xf5)),helper=require(a39_0x11e2c6(0x12c)),utilities=require(a39_0x11e2c6(0x164)),constants=require(a39_0x11e2c6(0x161)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),{getConfigLoaderPath}=require(a39_0x11e2c6(0x13f)),{checkAccessibilityPlatformConfig}=require(a39_0x11e2c6(0x106)),{setAccessibilityCapabilities}=require(a39_0x11e2c6(0x144)),{printBuildLink}=require(a39_0x11e2c6(0x155)),TestDetails=require(a39_0x11e2c6(0xe2)),TestHubHandler=require(a39_0x11e2c6(0x100)),PerformanceTester=require(a39_0x11e2c6(0xec)),BrowserstackCLI=require(a39_0x11e2c6(0x14d)),PerformanceEvents=require(a39_0x11e2c6(0xce))[a39_0x11e2c6(0x11f)],CLIUtils=require(a39_0x11e2c6(0xef)),TestInfo=require(a39_0x11e2c6(0x133)),ClientTroubleShootingService=require(a39_0x11e2c6(0xf3)),getUserPlaywrightConfig=async(_0x24beca,_0x3c0bbe)=>{const _0x46c162=a39_0x11e2c6,_0x2cbd37={'VRyiJ':function(_0x13ed83){return _0x13ed83();},'SGzHn':function(_0x102a75,_0x34a50d){return _0x102a75(_0x34a50d);},'QYfti':_0x46c162(0xe5),'iiOSP':_0x46c162(0xdb)},_0x120161=!helper['isUndefined'](_0x24beca['config']),_0x161da3=_0x120161?path['resolve'](process[_0x46c162(0xb2)](),_0x24beca[_0x46c162(0xb3)]):process[_0x46c162(0xb2)](),{resolveConfigFile:_0xe53d9b,resolveConfigLocation:_0x291ebf}=helper[_0x46c162(0x151)][_0x46c162(0xd5)](null,_0x2cbd37['VRyiJ'](getConfigLoaderPath)),_0x2eb9e0=_0xe53d9b?_0x2cbd37[_0x46c162(0x112)](_0xe53d9b,_0x161da3):helper[_0x46c162(0xbc)](_0x2cbd37['SGzHn'](_0x291ebf,_0x161da3),[_0x2cbd37[_0x46c162(0x115)]]),_0x2a3faf={};if(_0x120161){const _0x32e81b=_0x3c0bbe[_0x46c162(0xe3)](_0x51227d=>_0x51227d===_0x46c162(0xe8)||_0x51227d==='-c'||_0x51227d[_0x46c162(0xb4)](_0x46c162(0xdb)));_0x3c0bbe[_0x46c162(0xdf)](_0x32e81b,_0x3c0bbe[_0x32e81b][_0x46c162(0xb4)](_0x2cbd37[_0x46c162(0xeb)])?0x1:0x2);}const _0x5ac3da={};return _0x5ac3da[_0x46c162(0xc1)]=_0x2eb9e0,_0x5ac3da[_0x46c162(0xb3)]=_0x2a3faf,_0x5ac3da;},handleO11yRerun=_0x47847a=>{const _0x4c4526=a39_0x11e2c6,_0x13cb9d={};_0x13cb9d['qKSgo']=_0x4c4526(0x15e);const _0x1cc119=_0x13cb9d,_0x192cae=helper['isTrue'](process[_0x4c4526(0xd0)][_0x4c4526(0x105)]);if(_0x192cae){const _0x37e4cb=process['env'][_0x4c4526(0x111)],_0x5d724a=[];if(helper[_0x4c4526(0x113)](_0x37e4cb)&&!helper[_0x4c4526(0x146)](_0x37e4cb)){_0x37e4cb['split'](',')[_0x4c4526(0xc7)](_0x1af7b9=>{const _0x1a5e60=_0x4c4526;_0x5d724a[_0x1a5e60(0xac)]('('+_0x1af7b9['trim']()+')');});const _0x44f67d='^'+_0x5d724a[_0x4c4526(0x13d)]('|')+'$';_0x47847a[_0x4c4526(0xac)](_0x1cc119[_0x4c4526(0xf2)],_0x44f67d);}}},spawnOriginalProcess=_0x536db0=>{const _0x2cdeb7=a39_0x11e2c6,_0x36499d={'hDqxi':function(_0x3ad84d,_0x58676a,_0x12bbca,_0x29d5a6){return _0x3ad84d(_0x58676a,_0x12bbca,_0x29d5a6);},'TyBbW':_0x2cdeb7(0xd9),'HVlHn':_0x2cdeb7(0x132),'OUkLe':_0x2cdeb7(0x14e),'RPzua':function(_0x57e356,_0x198026){return _0x57e356===_0x198026;},'ZYRWN':_0x2cdeb7(0x12a),'YkOWE':_0x2cdeb7(0xcf)};_0x36499d[_0x2cdeb7(0x12e)](spawn,helper[_0x2cdeb7(0x140)]()?_0x36499d[_0x2cdeb7(0xe6)]:_0x36499d[_0x2cdeb7(0x118)],[_0x36499d['OUkLe'],..._0x536db0[_0x2cdeb7(0x166)](0x1)],{'shell':_0x36499d[_0x2cdeb7(0x11b)](process[_0x2cdeb7(0xb5)],_0x36499d[_0x2cdeb7(0x14f)]),'stdio':_0x36499d[_0x2cdeb7(0x14b)],'cwd':process['cwd']()});},isTestCommand=(_0xcbb52,_0x184482)=>{const _0x13f40d=a39_0x11e2c6,_0x536357={};_0x536357['NuYCy']=function(_0xeb7062,_0x264d1a){return _0xeb7062>_0x264d1a;},_0x536357['taahS']=function(_0x53f042,_0x2c4ef8){return _0x53f042===_0x2c4ef8;},_0x536357[_0x13f40d(0xcd)]='test';const _0x50232b=_0x536357;if(_0x50232b['NuYCy'](_0x184482[_0x13f40d(0xf8)],0x1)&&_0x50232b[_0x13f40d(0x125)](_0x184482[0x1],_0x50232b[_0x13f40d(0xcd)]))return!![];return![];};function a39_0x4e34(_0x2b9f70,_0x209245){const _0x3741a2=a39_0x3741();return a39_0x4e34=function(_0x4e3498,_0x166b16){_0x4e3498=_0x4e3498-0xa6;let _0x3e5188=_0x3741a2[_0x4e3498];return _0x3e5188;},a39_0x4e34(_0x2b9f70,_0x209245);}async function run(_0x2a5706,_0x229793,_0x17ca08){const _0xdc4117=a39_0x11e2c6,_0x3966f1={'FqdLR':function(_0x4156dc,_0x11cb85){return _0x4156dc(_0x11cb85);},'ndzui':_0xdc4117(0x149),'OjJUs':_0xdc4117(0xd6),'dcnbJ':function(_0x308265,_0x1b470c){return _0x308265+_0x1b470c;},'Uyyzk':_0xdc4117(0xc5),'KWeHb':function(_0x3d80b3){return _0x3d80b3();},'xXaLD':function(_0x4c584c,_0x2eed0d){return _0x4c584c+_0x2eed0d;},'qSXEx':_0xdc4117(0xfc),'Tjvvh':_0xdc4117(0x109),'iAxNV':function(_0x216728,_0x262433){return _0x216728<_0x262433;},'xvvcG':function(_0x1c591a,_0x58768b){return _0x1c591a===_0x58768b;},'ucwfW':'false','RufKo':_0xdc4117(0xc4),'Gxumj':function(_0x4d72e4,_0x192328){return _0x4d72e4>=_0x192328;},'QuNNi':function(_0x329ff2,_0x34d76a){return _0x329ff2===_0x34d76a;},'bCCKn':'automation','BJRIa':function(_0xb832b,_0x5d463b){return _0xb832b!=_0x5d463b;},'vqScc':function(_0x1bfc5f,_0x5c4c06,_0x961bf1){return _0x1bfc5f(_0x5c4c06,_0x961bf1);},'HTKSX':function(_0x3138be,_0x2e3b33){return _0x3138be(_0x2e3b33);},'PlrRj':_0xdc4117(0xe1),'QlrKu':function(_0xfca808,_0x12883c){return _0xfca808(_0x12883c);},'OaWQr':_0xdc4117(0xcc),'dYGkZ':_0xdc4117(0xc2),'ZFWOe':_0xdc4117(0xed),'lhSTB':function(_0x3eea02,_0x3e4710){return _0x3eea02-_0x3e4710;},'Ckbpd':'Updated\x20config\x20file\x20name\x20to\x20-\x20','xMgYk':function(_0x1b41a7,_0x59d8ce){return _0x1b41a7>_0x59d8ce;},'OGmRp':function(_0x183292,_0x162e8a,_0x57d338,_0x7bfe3a){return _0x183292(_0x162e8a,_0x57d338,_0x7bfe3a);},'khBKQ':_0xdc4117(0xd9),'lelfs':_0xdc4117(0x132),'oWAYl':_0xdc4117(0x14e),'yClXg':'test','zUXzl':_0xdc4117(0xe8),'OpIPb':_0xdc4117(0x12a),'sPLGh':_0xdc4117(0xcf),'FYcYR':_0xdc4117(0x158),'kTVrk':function(_0x3cce72,_0x40c406){return _0x3cce72|_0x40c406;},'iCIzS':'Error\x20in\x20accessing\x20.browserstack\x20directory:\x20','DGGyc':function(_0x2dc07e,_0x462037){return _0x2dc07e+_0x462037;},'uNtRA':'Error\x20in\x20deleting\x20playwright\x20results','mCNDl':function(_0x2fc658,_0x225c51,_0x3fbb66){return _0x2fc658(_0x225c51,_0x3fbb66);},'DWgFz':function(_0x555969,_0x472513){return _0x555969(_0x472513);}};try{const _0x39390e=path[_0xdc4117(0x13d)](helper[_0xdc4117(0x131)](),_0x3966f1[_0xdc4117(0x12b)]);try{fs[_0xdc4117(0x12d)](_0x39390e,_0x3966f1['kTVrk'](fs[_0xdc4117(0x127)]['R_OK'],fs[_0xdc4117(0x127)][_0xdc4117(0x124)]));}catch(_0x6919da){ClientTroubleShootingService[_0xdc4117(0x148)]();}}catch(_0x31afa1){logger[_0xdc4117(0xd2)](_0x3966f1[_0xdc4117(0xc9)](_0x3966f1[_0xdc4117(0xa9)],_0x31afa1));}try{const _0x1154e3=path[_0xdc4117(0x13d)](helper[_0xdc4117(0x131)](),_0x3966f1[_0xdc4117(0x12b)],_0x3966f1[_0xdc4117(0x11c)]);fs[_0xdc4117(0xf1)](_0x1154e3)&&fs[_0xdc4117(0x139)](_0x1154e3);}catch(_0x121626){logger['debug'](_0x3966f1['DGGyc'](_0x3966f1[_0xdc4117(0x147)],_0x121626));}if(!_0x3966f1[_0xdc4117(0x163)](isTestCommand,_0x2a5706,_0x229793)){_0x3966f1[_0xdc4117(0x135)](spawnOriginalProcess,_0x229793);return;}await PerformanceTester[_0xdc4117(0x12f)](PerformanceEvents[_0xdc4117(0xba)],async()=>{const _0x4e7944=_0xdc4117,_0x52bd65={'wrERa':_0x3966f1['ndzui'],'eBDLU':_0x3966f1[_0x4e7944(0x11c)],'uTMET':function(_0x59a3a3,_0x53e2c3){const _0x512040=_0x4e7944;return _0x3966f1[_0x512040(0xc9)](_0x59a3a3,_0x53e2c3);},'GgEfV':_0x3966f1[_0x4e7944(0x11e)],'wwpVq':function(_0x2718e4){return _0x3966f1['KWeHb'](_0x2718e4);},'nNxYl':function(_0x3cd6af){const _0x34f26c=_0x4e7944;return _0x3966f1[_0x34f26c(0x13c)](_0x3cd6af);},'QrWdA':function(_0x181b12,_0x4ce640){const _0x38c9ee=_0x4e7944;return _0x3966f1[_0x38c9ee(0x145)](_0x181b12,_0x4ce640);},'WEjpM':_0x3966f1[_0x4e7944(0x117)]};if(!_0x17ca08[_0x4e7944(0xb3)]){logger[_0x4e7944(0x108)](_0x3966f1['Tjvvh']);return;}await _0x17ca08[_0x4e7944(0x15b)](_0x2a5706),CLIUtils[_0x4e7944(0xb8)](FRAMEWORKS[_0x4e7944(0xad)],FRAMEWORKS[_0x4e7944(0xad)]),BrowserstackCLI['getInstance']()[_0x4e7944(0x130)](_0x17ca08[_0x4e7944(0xb3)],_0x17ca08[_0x4e7944(0x15c)],_0x17ca08[_0x4e7944(0xd7)]),await BrowserstackCLI[_0x4e7944(0x10c)]()[_0x4e7944(0xf4)]();for(var _0x3b2291=0x0;_0x3966f1['iAxNV'](_0x3b2291,constants['INTERNALLY_USED_ENV_VARS'][_0x4e7944(0xf8)]);_0x3b2291++){var _0x50aba4=constants['INTERNALLY_USED_ENV_VARS'][_0x3b2291];process[_0x4e7944(0xd0)][_0x50aba4]&&await ClientTroubleShootingService[_0x4e7944(0xcb)](_0x50aba4);}const _0x5a244d=BrowserstackCLI['getInstance']()[_0x4e7944(0x11a)]();!helper[_0x4e7944(0xc8)](_0x5a244d[_0x4e7944(0xfd)])&&(process[_0x4e7944(0xd0)][_0x4e7944(0xee)]=!![]);_0x3966f1['xvvcG'](_0x5a244d[_0x4e7944(0xfd)],![])&&(process[_0x4e7944(0xd0)][_0x4e7944(0xee)]=_0x3966f1[_0x4e7944(0x123)],_0x229793=_0x229793[_0x4e7944(0x126)](_0x2eb29e=>_0x2eb29e!==_0x4e7944(0x142)));const _0x2626a5=_0x229793[_0x4e7944(0xd8)](_0x3966f1[_0x4e7944(0x154)]);(_0x3966f1[_0x4e7944(0x10e)](_0x2626a5,0x0)||_0x3966f1[_0x4e7944(0x110)](_0x5a244d['testObservability'],![]))&&(process[_0x4e7944(0xd0)][_0x4e7944(0xbf)]=_0x3966f1['ucwfW'],_0x229793=_0x229793[_0x4e7944(0x126)](_0x736ece=>_0x736ece!==_0x4e7944(0xc4)));!helper[_0x4e7944(0x146)](_0x17ca08[_0x4e7944(0xd7)])&&_0x17ca08[_0x4e7944(0xd7)]['has'](_0x3966f1['bCCKn'])&&(process[_0x4e7944(0xd0)][_0x4e7944(0xee)]=_0x17ca08[_0x4e7944(0xd7)][_0x4e7944(0x120)](_0x3966f1[_0x4e7944(0xfe)])||!![]);_0x3966f1[_0x4e7944(0x122)](_0x17ca08[_0x4e7944(0xb3)]['testObservability'],null)&&!helper['isTrue'](process[_0x4e7944(0xd0)][_0x4e7944(0xbf)])&&(process[_0x4e7944(0xd0)]['BROWSERSTACK_TEST_OBSERVABILITY']=process['env'][_0x4e7944(0xbf)]||_0x17ca08[_0x4e7944(0xb3)][_0x4e7944(0x107)]);const _0x122a0b=!helper['isFalse'](process[_0x4e7944(0xd0)][_0x4e7944(0xbf)]);_0x17ca08[_0x4e7944(0xb3)][_0x4e7944(0xb9)]&&(process[_0x4e7944(0xd0)]['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON['stringify'](_0x17ca08['config']['accessibilityOptions']));let _0x213e86=![];_0x17ca08[_0x4e7944(0xb3)][_0x4e7944(0x156)]&&(_0x213e86=!![],process[_0x4e7944(0xd0)][_0x4e7944(0xa6)]=_0x17ca08[_0x4e7944(0xb3)]['accessibility']);const _0x2f0e84=_0x229793[_0x4e7944(0x153)](),_0x3aa4f7=await _0x3966f1[_0x4e7944(0xe0)](getUserPlaywrightConfig,_0x2a5706,_0x229793);if(helper[_0x4e7944(0x146)](_0x3aa4f7)){_0x3966f1[_0x4e7944(0xea)](spawnOriginalProcess,_0x2f0e84);return;}const _0x49e32f=_0x3aa4f7[_0x4e7944(0xc1)]?path['dirname'](_0x3aa4f7[_0x4e7944(0xc1)]):process[_0x4e7944(0xb2)]();process[_0x4e7944(0xd0)][_0x4e7944(0xe9)]=_0x49e32f,await PerformanceTester[_0x4e7944(0x12f)](PerformanceEvents['SDK_POST_INITIALIZE'],async()=>{const _0x5f5d31=_0x4e7944;!BrowserstackCLI[_0x5f5d31(0x10c)]()[_0x5f5d31(0xf9)]()&&await TestHubHandler[_0x5f5d31(0x103)](FRAMEWORKS[_0x5f5d31(0xad)],_0x17ca08),_0x122a0b&&_0x3966f1[_0x5f5d31(0x119)](handleO11yRerun,_0x229793);})();if(!BrowserstackCLI[_0x4e7944(0x10c)]()['isRunning']()){let _0x4a3ebe=_0x3966f1[_0x4e7944(0x110)](process[_0x4e7944(0xd0)][_0x4e7944(0xa6)],_0x3966f1[_0x4e7944(0xda)]);_0x4a3ebe=_0x4a3ebe||_0x3966f1[_0x4e7944(0xea)](checkAccessibilityPlatformConfig,_0x17ca08[_0x4e7944(0xb3)]),process[_0x4e7944(0xd0)][_0x4e7944(0xa6)]=_0x4a3ebe,_0x4a3ebe&&_0x3966f1[_0x4e7944(0xa7)](setAccessibilityCapabilities,_0x17ca08[_0x4e7944(0xb3)]);}const _0x466718=path[_0x4e7944(0x13d)](_0x3aa4f7[_0x4e7944(0xc1)]?path[_0x4e7944(0xb1)](_0x3aa4f7[_0x4e7944(0xc1)]):process[_0x4e7944(0xb2)](),_0x3966f1[_0x4e7944(0xd1)]);fs['writeFileSync'](_0x466718,helper[_0x4e7944(0x15f)](_0x17ca08[_0x4e7944(0xb3)])),process[_0x4e7944(0xd0)][_0x4e7944(0x136)]=_0x466718,helper['clearTempPWConfig']();let _0x12aa5c='';_0x3966f1['QuNNi'](helper[_0x4e7944(0xe7)](),constants[_0x4e7944(0x13b)][_0x4e7944(0xaf)])?_0x12aa5c=_0x3966f1['dYGkZ']:_0x12aa5c=_0x3966f1['ZFWOe'];let _0x1f0794='';if(helper['isTypescriptProject'](_0x3aa4f7['path'])){_0x1f0794=_0x4e7944(0x14c);const _0x44301d=_0x12aa5c[_0x4e7944(0xc0)]('.');_0x44301d[_0x3966f1[_0x4e7944(0x141)](_0x44301d[_0x4e7944(0xf8)],0x1)]='ts',_0x12aa5c=_0x44301d[_0x4e7944(0x13d)]('.'),logger[_0x4e7944(0xd2)](_0x3966f1['xXaLD'](_0x3966f1[_0x4e7944(0x15a)],_0x12aa5c));}else _0x1f0794='\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a';const _0x3f1afa=path[_0x4e7944(0x13d)](_0x3aa4f7['path']?path[_0x4e7944(0xb1)](_0x3aa4f7['path']):process[_0x4e7944(0xb2)](),_0x12aa5c);let _0xb07e1f=_0x3aa4f7[_0x4e7944(0xc1)]?_0x3aa4f7[_0x4e7944(0xc1)]:'';_0xb07e1f=_0x3966f1['xMgYk'](_0xb07e1f[_0x4e7944(0xf8)],0x0)?path[_0x4e7944(0xa8)](_0xb07e1f):'',process[_0x4e7944(0xd0)][_0x4e7944(0xb6)]=_0xb07e1f;const _0x5bb573=helper['getProxyUrl'](_0x17ca08[_0x4e7944(0xb3)]),_0x40531f=helper[_0x4e7944(0x101)](_0x17ca08[_0x4e7944(0xb3)]);logger[_0x4e7944(0xd2)](_0x4e7944(0xab)+_0x5bb573),logger[_0x4e7944(0xd2)](_0x4e7944(0xdd)+_0x40531f);_0x5bb573&&(_0x1f0794=_0x3966f1[_0x4e7944(0xc9)]('process.env.GLOBAL_AGENT_HTTP_PROXY=\x22'+_0x5bb573+_0x4e7944(0x102)+_0x40531f+'\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();',_0x1f0794));helper[_0x4e7944(0x13e)]({},_0x229793),fs[_0x4e7944(0xae)](_0x3f1afa,_0x1f0794),PerformanceTester[_0x4e7944(0x13a)](PerformanceEvents['SDK_SETUP']);const _0x43d91a=_0x3966f1['OGmRp'](spawn,helper['isYarnPnP']()?_0x3966f1['khBKQ']:_0x3966f1['lelfs'],[_0x3966f1[_0x4e7944(0xde)],_0x3966f1[_0x4e7944(0xfa)],_0x3966f1[_0x4e7944(0x159)],_0x3966f1[_0x4e7944(0x110)](process[_0x4e7944(0xb5)],_0x3966f1['OpIPb'])?'\x22'+_0x3f1afa+'\x22':_0x3f1afa,..._0x229793['slice'](0x2)],{'shell':_0x3966f1[_0x4e7944(0x110)](process[_0x4e7944(0xb5)],_0x3966f1[_0x4e7944(0xff)]),'stdio':_0x3966f1[_0x4e7944(0x10d)],'cwd':process[_0x4e7944(0xb2)](),'env':Object['assign']({},process[_0x4e7944(0xd0)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper[_0x4e7944(0xc6)](_0x2a5706),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x17ca08[_0x4e7944(0xb3)][_0x4e7944(0x137)]['skipSessionStatus'],'BROWSERSTACK_SKIP_SESSION_NAME':_0x17ca08[_0x4e7944(0xb3)][_0x4e7944(0x137)][_0x4e7944(0x10a)],'BROWSERSTACK_LOG_LEVEL':_0x17ca08[_0x4e7944(0xb3)][_0x4e7944(0x134)]})}),_0x1f0762=()=>{const _0x2454d5=_0x4e7944;try{const _0x100f11=path[_0x2454d5(0x13d)](helper[_0x2454d5(0x131)](),_0x52bd65[_0x2454d5(0x162)],_0x52bd65[_0x2454d5(0x11d)]);if(fs[_0x2454d5(0xf1)](_0x100f11)){let _0x5288d8=fs[_0x2454d5(0xbe)](_0x100f11);_0x5288d8=JSON[_0x2454d5(0x10f)](_0x5288d8),_0x17ca08[_0x2454d5(0x116)]=_0x5288d8,fs[_0x2454d5(0x139)](_0x100f11);}}catch(_0x20e3a1){logger[_0x2454d5(0xd2)](_0x52bd65['uTMET'](_0x52bd65['GgEfV'],_0x20e3a1));}};_0x43d91a['on'](_0x3966f1[_0x4e7944(0xe4)],async _0x3420ce=>{const _0x475afb=_0x4e7944;try{PerformanceTester[_0x475afb(0x128)](PerformanceEvents[_0x475afb(0x129)]),_0x52bd65[_0x475afb(0xdc)](_0x1f0762),await TestHubHandler[_0x475afb(0xf0)](),await ClientTroubleShootingService['reportFinalDetectionState'](),await BrowserstackCLI[_0x475afb(0x10c)]()['stop'](),TestDetails[_0x475afb(0xfb)](),_0x52bd65[_0x475afb(0x14a)](printBuildLink),await utilities[_0x475afb(0x10b)](_0x17ca08),process[_0x475afb(0x121)]=_0x3420ce,logger['debug'](_0x475afb(0xf6)+_0x3420ce),logger[_0x475afb(0x114)]('Deleting\x20'+_0x3f1afa),fs['unlinkSync'](_0x3f1afa);fs[_0x475afb(0xf1)](_0x466718)&&(logger['debug'](_0x475afb(0xf7)+_0x466718),fs[_0x475afb(0x139)](_0x466718));const _0x3385fa=fs[_0x475afb(0xb0)](path['join'](helper[_0x475afb(0x131)](),_0x52bd65[_0x475afb(0x162)]))[_0x475afb(0x126)](_0x41265a=>_0x41265a[_0x475afb(0xb4)](_0x475afb(0x150)));_0x3385fa[_0x475afb(0x165)](_0x160549=>{const _0x27c13b=_0x475afb;fs[_0x27c13b(0x139)](path[_0x27c13b(0x13d)](helper[_0x27c13b(0x131)](),_0x52bd65[_0x27c13b(0x162)],_0x160549));});}catch(_0x1d4d76){logger['debug'](_0x52bd65[_0x475afb(0x104)](_0x52bd65[_0x475afb(0xaa)],_0x1d4d76));}});})();}module[a39_0x11e2c6(0xc3)]=run;