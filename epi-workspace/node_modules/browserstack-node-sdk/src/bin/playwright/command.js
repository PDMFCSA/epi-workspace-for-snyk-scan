#!/usr/bin/env node
'use strict';const a39_0x2cd9f9=a39_0x3042;(function(_0x243d9d,_0x171980){const _0x24c847=a39_0x3042,_0x29d244=_0x243d9d();while(!![]){try{const _0x17cda3=parseInt(_0x24c847(0x1a9))/0x1+-parseInt(_0x24c847(0x15a))/0x2+-parseInt(_0x24c847(0x164))/0x3+parseInt(_0x24c847(0x1aa))/0x4*(-parseInt(_0x24c847(0x17d))/0x5)+-parseInt(_0x24c847(0x110))/0x6*(-parseInt(_0x24c847(0x137))/0x7)+parseInt(_0x24c847(0x147))/0x8+parseInt(_0x24c847(0x158))/0x9;if(_0x17cda3===_0x171980)break;else _0x29d244['push'](_0x29d244['shift']());}catch(_0x452126){_0x29d244['push'](_0x29d244['shift']());}}}(a39_0x410b,0xbe0df));function a39_0x410b(){const _0x83489e=['readdirSync','BROWSERSTACK_TEST_ACCESSIBILITY_YML','IAFfQ','esttZ','reportFinalDetectionState','24697035uuhPjd','ZihNK','2000062TSOzbg','CZEmI','split','readFileSync','VjGGm','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','hMEHR','concat','indexOf','info','3648060oYLHPy','gHcyx','CvkPz','initialize','finalExecution','false','../v2/cliUtils','pw_result.json','../../helpers/BrowserStackSetup','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','isTrue','kxIfJ','testContextOptions','R_OK','clearTempPWConfig','Proxy\x20url\x20:\x20','stop','No\x20Proxy\x20:\x20','setFrameworkDetail','JtErA','Updated\x20config\x20file\x20name\x20to\x20-\x20','../../helpers/test-observability/utils','true','--grep','isRunning','225yqawqx','gHfWW','map','SDK_POST_INITIALIZE','ZuOKk','error','../../helpers/test-observability/constants','Ibbvj','Error\x20in\x20accessing\x20.browserstack\x20directory:\x20','BROWSERSTACK_AUTOMATION','../../helpers/accessibility-automation/helper','Jojlt','start','testObservability','dirname','exports','requirePWModule','startsWith','playwright-browserstack-sdk.config.cjs','trace_','inherit','SXurq','SDK_SETUP','isFalse','cliConfig','filter','exitCode','getProxyUrl','length','npx','accessibility','Error\x20in\x20closing\x20playwright','accessSync','OqUmN','szkaN','playwright-browserstack-sdk.config.js','Playwright\x20process\x20exited\x20with\x20code\x20','reportDotBrowserStackFolderNotAccessibleIssue','resolvedConfigFile','KNhbg','Nmuth','platform','isUndefined','NDXMN','81269snoysQ','123220FaIUqd','apply','resolve','LxqQW','NUoWL','MODULE','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22','filterBrowserstackArgs','test','--disable-browserstack-automation','wIolB','bootstrap','FQAIK','EbdBy','constants','SDK_CLEANUP','XJLBf','eBckM','EVENTS','playwright','vqRgT','CXYUd','path','writeFileSync','existsSync','aMGgl','--config','--disable-test-observability','4328496LXOghj','config','PLAYWRIGHT','vhRbk','../v2/browserstackCLI','debug','cwd','BROWSERSTACK_RERUN','forEach','browserstackAutomation','leMbT','zOyDG','join','BROWSERSTACK_PW_CONFIG_DIR','zNnGz','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','util','homedir','Deleting\x20','./accessibility-helper','KsgWZ','getNoProxy','unlinkSync','--config=','tiCaZ','vQuYr','env','../../helpers/utilities','../../helpers/performance/performance-tester','slice','CaEUC','win32','FGusm','blGdM','reportConflictingEnvVarIssue','xNKoj','kzijK','push','OvvWP','14sqcQlT','qlOJZ','accessibilityOptions','iMUup','skipSessionStatus','end','lzWbK','nKkSY','../../helpers/performance/constants','has','automation','measureWrapper','BrowserStack\x20config\x20file\x20not\x20found.','stringify','PACKAGE_TYPE','Hfkwl','900184ZGyAds','getInstance','coLfA','findIndex','INTERNALLY_USED_ENV_VARS','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','XJKaV','isTypescriptProject','errorMessage','BROWSERSTACK_TEST_OBSERVABILITY','launchBuild','../../helpers/helper'];a39_0x410b=function(){return _0x83489e;};return a39_0x410b();}function a39_0x3042(_0x5ca404,_0x3d2457){const _0x410b69=a39_0x410b();return a39_0x3042=function(_0x3042ad,_0x417a4d){_0x3042ad=_0x3042ad-0x109;let _0x6a8dae=_0x410b69[_0x3042ad];return _0x6a8dae;},a39_0x3042(_0x5ca404,_0x3d2457);}const fs=require('fs'),path=require(a39_0x2cd9f9(0x10a)),{spawn}=require('child_process'),{format}=require(a39_0x2cd9f9(0x120)),logger=require('../../helpers/logger')['winstonLogger'],{default:BrowserStackSetup}=require(a39_0x2cd9f9(0x16c)),helper=require(a39_0x2cd9f9(0x152)),utilities=require(a39_0x2cd9f9(0x12b)),constants=require('../utils/constants'),{FRAMEWORKS}=require(a39_0x2cd9f9(0x183)),{getConfigLoaderPath}=require('./reporter/pwUtils'),{checkAccessibilityPlatformConfig}=require(a39_0x2cd9f9(0x187)),{setAccessibilityCapabilities}=require(a39_0x2cd9f9(0x123)),{printBuildLink}=require(a39_0x2cd9f9(0x179)),TestDetails=require('./reporter/test-details'),TestHubHandler=require('../../helpers/testhub/testhubHandler'),PerformanceTester=require(a39_0x2cd9f9(0x12c)),BrowserstackCLI=require(a39_0x2cd9f9(0x114)),PerformanceEvents=require(a39_0x2cd9f9(0x13f))[a39_0x2cd9f9(0x1bc)],CLIUtils=require(a39_0x2cd9f9(0x16a)),TestInfo=require('../v2/TestInfo'),ClientTroubleShootingService=require('../utils/clientTroubleshootingService'),getUserPlaywrightConfig=async(_0x4b8000,_0x11ad26)=>{const _0x17dc2e=a39_0x2cd9f9,_0x1b9806={'szkaN':function(_0x16225a){return _0x16225a();},'blGdM':function(_0x136711,_0x4e3359){return _0x136711(_0x4e3359);},'vqRgT':function(_0x556306,_0x576fb1){return _0x556306(_0x576fb1);},'Jojlt':_0x17dc2e(0x1a3),'zNnGz':_0x17dc2e(0x127)},_0x305458=!helper['isUndefined'](_0x4b8000[_0x17dc2e(0x111)]),_0x6298f=_0x305458?path['resolve'](process[_0x17dc2e(0x116)](),_0x4b8000[_0x17dc2e(0x111)]):process[_0x17dc2e(0x116)](),{resolveConfigFile:_0x5ba87e,resolveConfigLocation:_0x1e5d52}=helper[_0x17dc2e(0x18d)][_0x17dc2e(0x1ab)](null,_0x1b9806[_0x17dc2e(0x19f)](getConfigLoaderPath)),_0x1f6a35=_0x5ba87e?_0x1b9806[_0x17dc2e(0x131)](_0x5ba87e,_0x6298f):helper['nestedKeyValue'](_0x1b9806[_0x17dc2e(0x1be)](_0x1e5d52,_0x6298f),[_0x1b9806[_0x17dc2e(0x188)]]),_0x26b581={};if(_0x305458){const _0x531738=_0x11ad26[_0x17dc2e(0x14a)](_0x4bb396=>_0x4bb396===_0x17dc2e(0x10e)||_0x4bb396==='-c'||_0x4bb396['startsWith']('--config='));_0x11ad26['splice'](_0x531738,_0x11ad26[_0x531738][_0x17dc2e(0x18e)](_0x1b9806[_0x17dc2e(0x11e)])?0x1:0x2);}const _0x445980={};return _0x445980[_0x17dc2e(0x10a)]=_0x1f6a35,_0x445980[_0x17dc2e(0x111)]=_0x26b581,_0x445980;},handleO11yRerun=_0x44a03a=>{const _0x1c84da=a39_0x2cd9f9,_0x2c4eeb={};_0x2c4eeb[_0x1c84da(0x1b6)]=_0x1c84da(0x17b);const _0x54cc70=_0x2c4eeb,_0x798478=helper[_0x1c84da(0x16e)](process[_0x1c84da(0x12a)][_0x1c84da(0x117)]);if(_0x798478){const _0x18472d=process['env']['BROWSERSTACK_RERUN_TESTS'],_0x474229=[];if(helper['validateRerunTestList'](_0x18472d)&&!helper[_0x1c84da(0x1a7)](_0x18472d)){_0x18472d[_0x1c84da(0x15c)](',')[_0x1c84da(0x17f)](_0x2a55ca=>{const _0x1fc2af=_0x1c84da;_0x474229[_0x1fc2af(0x135)]('('+_0x2a55ca['trim']()+')');});const _0x3738cd='^'+_0x474229[_0x1c84da(0x11c)]('|')+'$';_0x44a03a[_0x1c84da(0x135)](_0x54cc70['FQAIK'],_0x3738cd);}}},spawnOriginalProcess=_0x9c5eeb=>{const _0x3416b2=a39_0x2cd9f9,_0x5bb52a={'leMbT':function(_0x44a0f8,_0x25bc0e,_0x396f7c,_0x4b8665){return _0x44a0f8(_0x25bc0e,_0x396f7c,_0x4b8665);},'hMEHR':'npx','xNKoj':_0x3416b2(0x1bd),'YaTju':function(_0x37eda9,_0x393086){return _0x37eda9===_0x393086;},'tiCaZ':_0x3416b2(0x12f),'coLfA':'inherit'};_0x5bb52a[_0x3416b2(0x11a)](spawn,_0x5bb52a[_0x3416b2(0x160)],[_0x5bb52a[_0x3416b2(0x133)],..._0x9c5eeb[_0x3416b2(0x12d)](0x1)],{'shell':_0x5bb52a['YaTju'](process[_0x3416b2(0x1a6)],_0x5bb52a[_0x3416b2(0x128)]),'stdio':_0x5bb52a[_0x3416b2(0x149)],'cwd':process[_0x3416b2(0x116)]()});},isTestCommand=(_0x10c5c0,_0x4bb645)=>{const _0x1715ef=a39_0x2cd9f9,_0x57f639={};_0x57f639[_0x1715ef(0x1bb)]=function(_0x5e10c5,_0x2d08a7){return _0x5e10c5>_0x2d08a7;},_0x57f639['JjiCt']=function(_0x572432,_0x1afc43){return _0x572432===_0x1afc43;},_0x57f639['vhRbk']=_0x1715ef(0x1b2);const _0x2a729d=_0x57f639;if(_0x2a729d['eBckM'](_0x4bb645[_0x1715ef(0x199)],0x1)&&_0x2a729d['JjiCt'](_0x4bb645[0x1],_0x2a729d[_0x1715ef(0x113)]))return!![];return![];};async function run(_0x13f507,_0x6af659,_0x1edb69){const _0x2df7cb=a39_0x2cd9f9,_0x37e8dd={'aMGgl':function(_0x567721,_0xb0e121){return _0x567721(_0xb0e121);},'kzijK':'.browserstack','CaEUC':function(_0x3dd724){return _0x3dd724();},'FGusm':function(_0x18a9fc,_0x1975a6){return _0x18a9fc+_0x1975a6;},'ayuVZ':_0x2df7cb(0x19c),'VjGGm':_0x2df7cb(0x16b),'FCjuX':'Error\x20in\x20getting\x20funnel\x20data\x20results','ZuOKk':_0x2df7cb(0x143),'mIDBd':function(_0x554ff8,_0x303190){return _0x554ff8<_0x303190;},'EbdBy':function(_0x47eee0,_0x35f971){return _0x47eee0===_0x35f971;},'Nmuth':_0x2df7cb(0x169),'nKkSY':_0x2df7cb(0x10f),'OqUmN':function(_0x34fb6f,_0xad48b5){return _0x34fb6f>=_0xad48b5;},'Ibbvj':_0x2df7cb(0x141),'kxIfJ':function(_0x14a6d2,_0xe32855){return _0x14a6d2!=_0xe32855;},'qlOJZ':function(_0x46d090,_0xa58d47,_0xfbbf89){return _0x46d090(_0xa58d47,_0xfbbf89);},'vOoaB':function(_0x4ce220,_0x12025a){return _0x4ce220===_0x12025a;},'XJKaV':_0x2df7cb(0x17a),'Hfkwl':function(_0x1379e4,_0xfb78b0){return _0x1379e4(_0xfb78b0);},'NDXMN':function(_0x3479da,_0x4cdf30){return _0x3479da(_0x4cdf30);},'CZEmI':'browserstackSetupConfig.json','esttZ':function(_0x525bc7,_0x4ed96f){return _0x525bc7===_0x4ed96f;},'glVzg':_0x2df7cb(0x18f),'lzWbK':_0x2df7cb(0x1a0),'OvvWP':function(_0x406d7a,_0x36c5b1){return _0x406d7a-_0x36c5b1;},'nfchn':_0x2df7cb(0x178),'XJLBf':function(_0x4dc59b,_0x3107a0){return _0x4dc59b>_0x3107a0;},'LxqQW':function(_0xf7bebc,_0x59adab,_0x4630f4,_0x240aad){return _0xf7bebc(_0x59adab,_0x4630f4,_0x240aad);},'NUoWL':_0x2df7cb(0x19a),'gHfWW':_0x2df7cb(0x1bd),'iMUup':_0x2df7cb(0x1b2),'JtErA':_0x2df7cb(0x10e),'wIolB':function(_0x1325e0,_0x36d469){return _0x1325e0===_0x36d469;},'NdxQK':'win32','KNhbg':_0x2df7cb(0x191),'CXYUd':'close','HvFuX':function(_0x10c420,_0x3ae0e0){return _0x10c420|_0x3ae0e0;},'gHcyx':_0x2df7cb(0x185),'SXurq':function(_0x1d5081,_0x3363aa){return _0x1d5081+_0x3363aa;},'GRiMc':'Error\x20in\x20deleting\x20playwright\x20results','IAFfQ':function(_0xa8fde6,_0xbf296e,_0x203515){return _0xa8fde6(_0xbf296e,_0x203515);}};try{const _0x552c42=path[_0x2df7cb(0x11c)](helper[_0x2df7cb(0x121)](),_0x37e8dd['kzijK']);try{fs[_0x2df7cb(0x19d)](_0x552c42,_0x37e8dd['HvFuX'](fs[_0x2df7cb(0x1b8)][_0x2df7cb(0x171)],fs[_0x2df7cb(0x1b8)]['W_OK']));}catch(_0x5af10a){ClientTroubleShootingService[_0x2df7cb(0x1a2)]();}}catch(_0x1b0eda){logger[_0x2df7cb(0x115)](_0x37e8dd['FGusm'](_0x37e8dd[_0x2df7cb(0x165)],_0x1b0eda));}try{const _0x37341d=path[_0x2df7cb(0x11c)](helper['homedir'](),_0x37e8dd['kzijK'],_0x37e8dd[_0x2df7cb(0x15e)]);fs[_0x2df7cb(0x10c)](_0x37341d)&&fs[_0x2df7cb(0x126)](_0x37341d);}catch(_0x1d594e){logger['debug'](_0x37e8dd[_0x2df7cb(0x192)](_0x37e8dd['GRiMc'],_0x1d594e));}if(!_0x37e8dd[_0x2df7cb(0x155)](isTestCommand,_0x13f507,_0x6af659)){_0x37e8dd[_0x2df7cb(0x10d)](spawnOriginalProcess,_0x6af659);return;}await PerformanceTester[_0x2df7cb(0x142)](PerformanceEvents['SDK_PRE_INITIALIZE'],async()=>{const _0x1d76f0=_0x2df7cb,_0x4ce469={'KsgWZ':_0x37e8dd[_0x1d76f0(0x134)],'CvkPz':_0x37e8dd['VjGGm'],'zOyDG':function(_0x4c3138,_0x41f3b7){const _0x148700=_0x1d76f0;return _0x37e8dd[_0x148700(0x130)](_0x4c3138,_0x41f3b7);},'ZihNK':_0x37e8dd['FCjuX']};if(!_0x1edb69['config']){logger[_0x1d76f0(0x182)](_0x37e8dd[_0x1d76f0(0x181)]);return;}await _0x1edb69[_0x1d76f0(0x167)](_0x13f507),CLIUtils[_0x1d76f0(0x176)](FRAMEWORKS[_0x1d76f0(0x112)],FRAMEWORKS['PLAYWRIGHT']),BrowserstackCLI['getInstance']()['setBrowserstackConfig'](_0x1edb69[_0x1d76f0(0x111)],_0x1edb69[_0x1d76f0(0x195)]),await BrowserstackCLI[_0x1d76f0(0x148)]()[_0x1d76f0(0x1b5)]();for(var _0x28acaf=0x0;_0x37e8dd['mIDBd'](_0x28acaf,constants[_0x1d76f0(0x14b)][_0x1d76f0(0x199)]);_0x28acaf++){var _0x561c5b=constants[_0x1d76f0(0x14b)][_0x28acaf];process[_0x1d76f0(0x12a)][_0x561c5b]&&await ClientTroubleShootingService[_0x1d76f0(0x132)](_0x561c5b);}const _0x360a33=BrowserstackCLI['getInstance']()['getConfig']();!helper[_0x1d76f0(0x194)](_0x360a33['browserstackAutomation'])&&(process[_0x1d76f0(0x12a)][_0x1d76f0(0x186)]=!![]);_0x37e8dd[_0x1d76f0(0x1b7)](_0x360a33[_0x1d76f0(0x119)],![])&&(process[_0x1d76f0(0x12a)][_0x1d76f0(0x186)]=_0x37e8dd[_0x1d76f0(0x1a5)],_0x6af659=_0x6af659['filter'](_0x4226bf=>_0x4226bf!==_0x1d76f0(0x1b3)));const _0x595b72=_0x6af659[_0x1d76f0(0x162)](_0x37e8dd[_0x1d76f0(0x13e)]);(_0x37e8dd[_0x1d76f0(0x19e)](_0x595b72,0x0)||_0x37e8dd[_0x1d76f0(0x1b7)](_0x360a33[_0x1d76f0(0x18a)],![]))&&(process[_0x1d76f0(0x12a)][_0x1d76f0(0x150)]=_0x37e8dd[_0x1d76f0(0x1a5)],_0x6af659=_0x6af659[_0x1d76f0(0x196)](_0x8d26ce=>_0x8d26ce!==_0x1d76f0(0x10f)));!helper[_0x1d76f0(0x1a7)](_0x1edb69[_0x1d76f0(0x195)])&&_0x1edb69[_0x1d76f0(0x195)][_0x1d76f0(0x140)](_0x37e8dd[_0x1d76f0(0x184)])&&(process['env'][_0x1d76f0(0x186)]=_0x1edb69['cliConfig']['get'](_0x37e8dd[_0x1d76f0(0x184)])||!![]);_0x37e8dd[_0x1d76f0(0x16f)](_0x1edb69['config'][_0x1d76f0(0x18a)],null)&&!helper[_0x1d76f0(0x16e)](process[_0x1d76f0(0x12a)][_0x1d76f0(0x150)])&&(process[_0x1d76f0(0x12a)]['BROWSERSTACK_TEST_OBSERVABILITY']=process['env'][_0x1d76f0(0x150)]||_0x1edb69[_0x1d76f0(0x111)][_0x1d76f0(0x18a)]);const _0x5f2c21=!helper[_0x1d76f0(0x194)](process[_0x1d76f0(0x12a)][_0x1d76f0(0x150)]);_0x1edb69[_0x1d76f0(0x111)][_0x1d76f0(0x139)]&&(process[_0x1d76f0(0x12a)][_0x1d76f0(0x16d)]=JSON[_0x1d76f0(0x144)](_0x1edb69[_0x1d76f0(0x111)][_0x1d76f0(0x139)]));let _0x327340=![];_0x1edb69['config'][_0x1d76f0(0x19b)]&&(_0x327340=!![],process['env'][_0x1d76f0(0x154)]=_0x1edb69['config'][_0x1d76f0(0x19b)]);const _0x2d37f6=_0x6af659[_0x1d76f0(0x161)](),_0x254ea0=await _0x37e8dd[_0x1d76f0(0x138)](getUserPlaywrightConfig,_0x13f507,_0x6af659);if(helper[_0x1d76f0(0x1a7)](_0x254ea0)){_0x37e8dd['aMGgl'](spawnOriginalProcess,_0x2d37f6);return;}const _0x3a06c1=_0x254ea0['path']?path[_0x1d76f0(0x18b)](_0x254ea0[_0x1d76f0(0x10a)]):process['cwd']();process['env'][_0x1d76f0(0x11d)]=_0x3a06c1,await PerformanceTester[_0x1d76f0(0x142)](PerformanceEvents[_0x1d76f0(0x180)],async()=>{const _0xde0cf6=_0x1d76f0;!BrowserstackCLI[_0xde0cf6(0x148)]()[_0xde0cf6(0x17c)]()&&await TestHubHandler[_0xde0cf6(0x151)](FRAMEWORKS['PLAYWRIGHT'],_0x1edb69),_0x5f2c21&&_0x37e8dd[_0xde0cf6(0x10d)](handleO11yRerun,_0x6af659);})();if(!BrowserstackCLI[_0x1d76f0(0x148)]()[_0x1d76f0(0x17c)]()){let _0x11d6d8=_0x37e8dd['vOoaB'](process[_0x1d76f0(0x12a)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML'],_0x37e8dd[_0x1d76f0(0x14d)]);_0x11d6d8=_0x11d6d8||_0x37e8dd[_0x1d76f0(0x146)](checkAccessibilityPlatformConfig,_0x1edb69[_0x1d76f0(0x111)]),process[_0x1d76f0(0x12a)][_0x1d76f0(0x154)]=_0x11d6d8,_0x11d6d8&&_0x37e8dd[_0x1d76f0(0x1a8)](setAccessibilityCapabilities,_0x1edb69[_0x1d76f0(0x111)]);}const _0x5c776c=path[_0x1d76f0(0x11c)](_0x254ea0[_0x1d76f0(0x10a)]?path[_0x1d76f0(0x18b)](_0x254ea0[_0x1d76f0(0x10a)]):process[_0x1d76f0(0x116)](),_0x37e8dd[_0x1d76f0(0x15b)]);fs[_0x1d76f0(0x10b)](_0x5c776c,helper['serializeToYamlString'](_0x1edb69[_0x1d76f0(0x111)])),process[_0x1d76f0(0x12a)]['BROWSERSTACK_SETUP_CONFIG_PATH']=_0x5c776c,helper[_0x1d76f0(0x172)]();let _0x649886='';_0x37e8dd[_0x1d76f0(0x156)](helper['getPackageType'](),constants[_0x1d76f0(0x145)][_0x1d76f0(0x1af)])?_0x649886=_0x37e8dd['glVzg']:_0x649886=_0x37e8dd[_0x1d76f0(0x13d)];let _0x6d96f3='';if(helper[_0x1d76f0(0x14e)](_0x254ea0[_0x1d76f0(0x10a)])){_0x6d96f3=_0x1d76f0(0x11f);const _0x3c2216=_0x649886[_0x1d76f0(0x15c)]('.');_0x3c2216[_0x37e8dd[_0x1d76f0(0x136)](_0x3c2216[_0x1d76f0(0x199)],0x1)]='ts',_0x649886=_0x3c2216[_0x1d76f0(0x11c)]('.'),logger['debug'](_0x37e8dd[_0x1d76f0(0x130)](_0x37e8dd['nfchn'],_0x649886));}else _0x6d96f3=_0x1d76f0(0x14c);const _0x32d0d1=path[_0x1d76f0(0x11c)](_0x254ea0[_0x1d76f0(0x10a)]?path['dirname'](_0x254ea0['path']):process[_0x1d76f0(0x116)](),_0x649886);let _0x19d21d=_0x254ea0[_0x1d76f0(0x10a)]?_0x254ea0['path']:'';_0x19d21d=_0x37e8dd[_0x1d76f0(0x1ba)](_0x19d21d[_0x1d76f0(0x199)],0x0)?path[_0x1d76f0(0x1ac)](_0x19d21d):'',process[_0x1d76f0(0x12a)]['USER_CONFIG_DETAILS_PATH']=_0x19d21d;const _0x15f58b=helper[_0x1d76f0(0x198)](_0x1edb69[_0x1d76f0(0x111)]),_0x4e3050=helper[_0x1d76f0(0x125)](_0x1edb69['config']);logger[_0x1d76f0(0x115)](_0x1d76f0(0x173)+_0x15f58b),logger['debug'](_0x1d76f0(0x175)+_0x4e3050);_0x15f58b&&(_0x6d96f3=_0x37e8dd[_0x1d76f0(0x130)](_0x1d76f0(0x15f)+_0x15f58b+_0x1d76f0(0x1b0)+_0x4e3050+'\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();',_0x6d96f3));helper[_0x1d76f0(0x1b1)]({},_0x6af659),fs['writeFileSync'](_0x32d0d1,_0x6d96f3),PerformanceTester[_0x1d76f0(0x13c)](PerformanceEvents[_0x1d76f0(0x193)]);const _0x39445f=_0x37e8dd[_0x1d76f0(0x1ad)](spawn,_0x37e8dd[_0x1d76f0(0x1ae)],[_0x37e8dd[_0x1d76f0(0x17e)],_0x37e8dd[_0x1d76f0(0x13a)],_0x37e8dd[_0x1d76f0(0x177)],_0x37e8dd[_0x1d76f0(0x1b4)](process[_0x1d76f0(0x1a6)],_0x37e8dd['NdxQK'])?'\x22'+_0x32d0d1+'\x22':_0x32d0d1,..._0x6af659['slice'](0x2)],{'shell':_0x37e8dd[_0x1d76f0(0x1b7)](process[_0x1d76f0(0x1a6)],_0x37e8dd['NdxQK']),'stdio':_0x37e8dd[_0x1d76f0(0x1a4)],'cwd':process[_0x1d76f0(0x116)](),'env':Object['assign']({},process[_0x1d76f0(0x12a)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper['getConfigPath'](_0x13f507),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x1edb69['config'][_0x1d76f0(0x170)][_0x1d76f0(0x13b)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x1edb69[_0x1d76f0(0x111)][_0x1d76f0(0x170)]['skipSessionName'],'BROWSERSTACK_LOG_LEVEL':_0x1edb69[_0x1d76f0(0x111)]['logLevel']})}),_0x24f881=()=>{const _0x1a9c61=_0x1d76f0;try{const _0x480868=path[_0x1a9c61(0x11c)](helper[_0x1a9c61(0x121)](),_0x4ce469[_0x1a9c61(0x124)],_0x4ce469[_0x1a9c61(0x166)]);if(fs[_0x1a9c61(0x10c)](_0x480868)){let _0x4e4da5=fs[_0x1a9c61(0x15d)](_0x480868);_0x4e4da5=JSON['parse'](_0x4e4da5),_0x1edb69[_0x1a9c61(0x14f)]=_0x4e4da5,fs[_0x1a9c61(0x126)](_0x480868);}}catch(_0x87273e){logger['debug'](_0x4ce469[_0x1a9c61(0x11b)](_0x4ce469[_0x1a9c61(0x159)],_0x87273e));}};_0x39445f['on'](_0x37e8dd[_0x1d76f0(0x109)],async _0x26f5ea=>{const _0x1fe39c=_0x1d76f0,_0x4e7e49={};_0x4e7e49[_0x1fe39c(0x129)]=_0x37e8dd[_0x1fe39c(0x134)];const _0x586699=_0x4e7e49;try{PerformanceTester[_0x1fe39c(0x189)](PerformanceEvents[_0x1fe39c(0x1b9)]),_0x37e8dd[_0x1fe39c(0x12e)](_0x24f881),await TestHubHandler[_0x1fe39c(0x174)](),await ClientTroubleShootingService[_0x1fe39c(0x157)](),await BrowserstackCLI[_0x1fe39c(0x148)]()[_0x1fe39c(0x174)](),TestDetails['shutdown'](),_0x37e8dd['CaEUC'](printBuildLink),await utilities[_0x1fe39c(0x168)](_0x1edb69),process[_0x1fe39c(0x197)]=_0x26f5ea,logger[_0x1fe39c(0x115)](_0x1fe39c(0x1a1)+_0x26f5ea),logger[_0x1fe39c(0x163)](_0x1fe39c(0x122)+_0x32d0d1),fs[_0x1fe39c(0x126)](_0x32d0d1);fs[_0x1fe39c(0x10c)](_0x5c776c)&&(logger['debug']('Deleting\x20'+_0x5c776c),fs[_0x1fe39c(0x126)](_0x5c776c));const _0x4fb25a=fs[_0x1fe39c(0x153)](path[_0x1fe39c(0x11c)](helper[_0x1fe39c(0x121)](),_0x37e8dd[_0x1fe39c(0x134)]))[_0x1fe39c(0x196)](_0x5bf04e=>_0x5bf04e['startsWith'](_0x1fe39c(0x190)));_0x4fb25a[_0x1fe39c(0x118)](_0x6eb2db=>{const _0x2e86c1=_0x1fe39c;fs[_0x2e86c1(0x126)](path[_0x2e86c1(0x11c)](helper['homedir'](),_0x586699['vQuYr'],_0x6eb2db));});}catch(_0x340a7b){logger['debug'](_0x37e8dd[_0x1fe39c(0x130)](_0x37e8dd['ayuVZ'],_0x340a7b));}});})();}module[a39_0x2cd9f9(0x18c)]=run;