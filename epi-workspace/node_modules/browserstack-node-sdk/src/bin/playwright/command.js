#!/usr/bin/env node
'use strict';const a39_0x3e7a08=a39_0x5a3e;function a39_0x4d6a(){const _0x1bcf63=['exports','gulkT','FnsXb','getInstance','isUndefined','\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a','debug','LCxGq','Deleting\x20','false','resolvedConfigFile','KOutq','playwright','Proxy\x20url\x20:\x20','win32','./reporter/pwUtils','isYarnPnP','USER_CONFIG_DETAILS_PATH','../../helpers/logger','cECBk','cbKUs','--grep','testObservability','getNoProxy','1072QPaPEe','exitCode','writeFileSync','HMYar','CwPNs','670eXIEvb','Updated\x20config\x20file\x20name\x20to\x20-\x20','launchBuild','join','skipSessionName','parse','dpzrv','SDK_PRE_INITIALIZE','accessSync','../../helpers/test-observability/constants','QQnuy','zdejV','TYEeC','constants','--config','reportFinalDetectionState','length','WOUdh','1348872uwkMkQ','readdirSync','ITbdj','reportDotBrowserStackFolderNotAccessibleIssue','TBMLm','xjQsX','BROWSERSTACK_SETUP_CONFIG_PATH','../../helpers/utilities','../../helpers/accessibility-automation/helper','NFYRt','sUtiu','splice','NCZXW','end','SDK_SETUP','bnhIj','576219jjxRRm','readFileSync','initialize','bootstrap','PLAYWRIGHT','assign','setFrameworkDetail','get','AVoUb','accessibilityOptions','concat','Error\x20in\x20deleting\x20playwright\x20results','1757668nqooiN','test','clearTempPWConfig','TCqIa','SXAxx','LQcJJ','isRunning','CANpT','278fpXcXg','indexOf','EVENTS','305685WmOaUn','isTrue','stop','inherit','measureWrapper','XFVsa','qRHcz','error','../utils/constants','cwd','SDK_POST_INITIALIZE','path','existsSync','4472kPCTFc','finalExecution','skipSessionStatus','rutmo','kDhXP','playwright-browserstack-sdk.config.js','BROWSERSTACK_TEST_ACCESSIBILITY_YML','util','playwright-browserstack-sdk.config.cjs','12PsYxiG','yarn','ziboC','MODULE','./accessibility-helper','env','filterBrowserstackArgs','BROWSERSTACK_RERUN_TESTS','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','homedir','No\x20Proxy\x20:\x20','ixLPY','platform','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','resolve','FNGPB','split','true','logLevel','36fTMEVh','../../helpers/performance/constants','unlinkSync','58410gWiSpG','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','iUDXO','W_OK','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','AtUWz','trim','../../helpers/helper','slice','accessibility','cliConfig','BROWSERSTACK_RERUN','peBlU','nestedKeyValue','QXeVU','oFXQN','GgxXS','setBrowserstackConfig','serializeToYamlString','JmyQJ','yMOXY','TCOUc','5201dDSQEy','testContextOptions','startsWith','winstonLogger','browserstackAutomation','yltkZ','oCZfo','jjeTy','has','chIIt','errorMessage','config','rvANd','../../helpers/testhub/testhubHandler','apply','requirePWModule','getPackageType','isTypescriptProject','.browserstack','trace_','../utils/clientTroubleshootingService','getConfig','map','WUgsC','BROWSERSTACK_AUTOMATION','configPath','pw_result.json','filter','shutdown','start','npx','KBzRc','Error\x20in\x20closing\x20playwright','isFalse','dirname','jWDXR','--config=','YgLgC','EqkLV','BROWSERSTACK_PW_CONFIG_DIR','BROWSERSTACK_TEST_OBSERVABILITY','PACKAGE_TYPE','automation','info','push','INTERNALLY_USED_ENV_VARS','getConfigPath','browserstackSetupConfig.json','SDK_CLEANUP','child_process','forEach'];a39_0x4d6a=function(){return _0x1bcf63;};return a39_0x4d6a();}(function(_0x482d0d,_0x31aa5b){const _0x454787=a39_0x5a3e,_0x429899=_0x482d0d();while(!![]){try{const _0x5b26fc=parseInt(_0x454787(0x1f0))/0x1*(parseInt(_0x454787(0x22b))/0x2)+parseInt(_0x454787(0x217))/0x3+-parseInt(_0x454787(0x207))/0x4+-parseInt(_0x454787(0x22e))/0x5*(parseInt(_0x454787(0x244))/0x6)+parseInt(_0x454787(0x1a5))/0x7*(parseInt(_0x454787(0x23b))/0x8)+parseInt(_0x454787(0x25a))/0x9*(parseInt(_0x454787(0x1f5))/0xa)+parseInt(_0x454787(0x223))/0xb*(-parseInt(_0x454787(0x257))/0xc);if(_0x5b26fc===_0x31aa5b)break;else _0x429899['push'](_0x429899['shift']());}catch(_0x2324ad){_0x429899['push'](_0x429899['shift']());}}}(a39_0x4d6a,0x3d9e8));function a39_0x5a3e(_0x3b00b0,_0x5ad592){const _0x4d6a14=a39_0x4d6a();return a39_0x5a3e=function(_0x5a3e25,_0xef12d5){_0x5a3e25=_0x5a3e25-0x190;let _0x43d676=_0x4d6a14[_0x5a3e25];return _0x43d676;},a39_0x5a3e(_0x3b00b0,_0x5ad592);}const fs=require('fs'),path=require('path'),{spawn}=require(a39_0x3e7a08(0x1d6)),{format}=require(a39_0x3e7a08(0x242)),logger=require(a39_0x3e7a08(0x1ea))[a39_0x3e7a08(0x1a8)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a39_0x3e7a08(0x196)),utilities=require(a39_0x3e7a08(0x20e)),constants=require(a39_0x3e7a08(0x236)),{FRAMEWORKS}=require(a39_0x3e7a08(0x1fe)),{getConfigLoaderPath}=require(a39_0x3e7a08(0x1e7)),{checkAccessibilityPlatformConfig}=require(a39_0x3e7a08(0x20f)),{setAccessibilityCapabilities}=require(a39_0x3e7a08(0x248)),{printBuildLink}=require('../../helpers/test-observability/utils'),TestDetails=require('./reporter/test-details'),TestHubHandler=require(a39_0x3e7a08(0x1b2)),PerformanceTester=require('../../helpers/performance/performance-tester'),BrowserstackCLI=require('../v2/browserstackCLI'),PerformanceEvents=require(a39_0x3e7a08(0x258))[a39_0x3e7a08(0x22d)],CLIUtils=require('../v2/cliUtils'),TestInfo=require('../v2/TestInfo'),ClientTroubleShootingService=require(a39_0x3e7a08(0x1b9)),getUserPlaywrightConfig=async(_0x10ccb2,_0xddc5f)=>{const _0x4af120=a39_0x3e7a08,_0xed86e9={'IEbgz':function(_0x7bd5ba){return _0x7bd5ba();},'rvANd':function(_0x41cc9f,_0x126ff1){return _0x41cc9f(_0x126ff1);},'LCxGq':function(_0x32075f,_0x1c3451){return _0x32075f(_0x1c3451);},'iUDXO':_0x4af120(0x1e2),'LQcJJ':_0x4af120(0x1c9)},_0x34e4f1=!helper[_0x4af120(0x1dc)](_0x10ccb2[_0x4af120(0x1b0)]),_0x45cc21=_0x34e4f1?path[_0x4af120(0x252)](process[_0x4af120(0x237)](),_0x10ccb2[_0x4af120(0x1b0)]):process['cwd'](),{resolveConfigFile:_0x22aa57,resolveConfigLocation:_0x12a996}=helper[_0x4af120(0x1b4)][_0x4af120(0x1b3)](null,_0xed86e9['IEbgz'](getConfigLoaderPath)),_0x24901f=_0x22aa57?_0xed86e9[_0x4af120(0x1b1)](_0x22aa57,_0x45cc21):helper[_0x4af120(0x19c)](_0xed86e9[_0x4af120(0x1df)](_0x12a996,_0x45cc21),[_0xed86e9[_0x4af120(0x191)]]),_0x450b39={};if(_0x34e4f1){const _0x3f00ed=_0xddc5f['findIndex'](_0x2c4f3f=>_0x2c4f3f==='--config'||_0x2c4f3f==='-c'||_0x2c4f3f['startsWith'](_0x4af120(0x1c9)));_0xddc5f[_0x4af120(0x212)](_0x3f00ed,_0xddc5f[_0x3f00ed][_0x4af120(0x1a7)](_0xed86e9[_0x4af120(0x228)])?0x1:0x2);}const _0x4518e3={};return _0x4518e3[_0x4af120(0x239)]=_0x24901f,_0x4518e3['config']=_0x450b39,_0x4518e3;},handleO11yRerun=_0x762acd=>{const _0x5362dc=a39_0x3e7a08,_0x4bea84={};_0x4bea84[_0x5362dc(0x201)]=_0x5362dc(0x1ed);const _0x53c308=_0x4bea84,_0x5960c4=helper['isTrue'](process['env'][_0x5362dc(0x19a)]);if(_0x5960c4){const _0x503181=process['env'][_0x5362dc(0x24b)],_0x28b375=[];if(helper['validateRerunTestList'](_0x503181)&&!helper['isUndefined'](_0x503181)){_0x503181[_0x5362dc(0x254)](',')[_0x5362dc(0x1bb)](_0x1a6ba5=>{const _0x1d6876=_0x5362dc;_0x28b375[_0x1d6876(0x1d1)]('('+_0x1a6ba5[_0x1d6876(0x195)]()+')');});const _0x2e72bb='^'+_0x28b375[_0x5362dc(0x1f8)]('|')+'$';_0x762acd['push'](_0x53c308[_0x5362dc(0x201)],_0x2e72bb);}}},spawnOriginalProcess=_0x39a356=>{const _0x26d88e=a39_0x3e7a08,_0x1944f1={'jjeTy':function(_0x51f229,_0xd7a230,_0x375ba2,_0x12b5d3){return _0x51f229(_0xd7a230,_0x375ba2,_0x12b5d3);},'AtUWz':_0x26d88e(0x245),'NCZXW':'npx','oFXQN':_0x26d88e(0x1e4),'KOutq':function(_0x117073,_0x488385){return _0x117073===_0x488385;},'TBMLm':_0x26d88e(0x1e6),'CwPNs':_0x26d88e(0x231)};_0x1944f1[_0x26d88e(0x1ac)](spawn,helper[_0x26d88e(0x1e8)]()?_0x1944f1[_0x26d88e(0x194)]:_0x1944f1[_0x26d88e(0x213)],[_0x1944f1[_0x26d88e(0x19e)],..._0x39a356[_0x26d88e(0x197)](0x1)],{'shell':_0x1944f1[_0x26d88e(0x1e3)](process['platform'],_0x1944f1[_0x26d88e(0x20b)]),'stdio':_0x1944f1[_0x26d88e(0x1f4)],'cwd':process[_0x26d88e(0x237)]()});},isTestCommand=(_0x43614a,_0x4da64a)=>{const _0xaf5775=a39_0x3e7a08,_0x5ee632={};_0x5ee632[_0xaf5775(0x1f3)]=function(_0x1575ae,_0x3b131a){return _0x1575ae>_0x3b131a;},_0x5ee632['peBlU']=function(_0x3da02a,_0x5b0728){return _0x3da02a===_0x5b0728;},_0x5ee632[_0xaf5775(0x1a2)]='test';const _0xea0d39=_0x5ee632;if(_0xea0d39['HMYar'](_0x4da64a['length'],0x1)&&_0xea0d39[_0xaf5775(0x19b)](_0x4da64a[0x1],_0xea0d39[_0xaf5775(0x1a2)]))return!![];return![];};async function run(_0x2cff14,_0x494a03,_0x5dbe16){const _0x2c32fa=a39_0x3e7a08,_0x29eecb={'yMOXY':_0x2c32fa(0x1b7),'SFDSt':_0x2c32fa(0x1bf),'SaNuf':function(_0x4c1088,_0x1a3715){return _0x4c1088+_0x1a3715;},'qRHcz':'Error\x20in\x20getting\x20funnel\x20data\x20results','jWDXR':function(_0xe2b419){return _0xe2b419();},'UgCmJ':function(_0x413a05){return _0x413a05();},'yltkZ':function(_0x10cebb,_0x4cf12b){return _0x10cebb+_0x4cf12b;},'cbKUs':_0x2c32fa(0x1c5),'YgLgC':function(_0x12f70f,_0x114bda){return _0x12f70f(_0x114bda);},'ysEif':'BrowserStack\x20config\x20file\x20not\x20found.','kDhXP':function(_0x37cd50,_0x5cf673){return _0x37cd50<_0x5cf673;},'oCZfo':function(_0x2d9ca2,_0x2f47ec){return _0x2d9ca2===_0x2f47ec;},'TCqIa':_0x2c32fa(0x1e1),'ITbdj':'--disable-test-observability','wlNQF':function(_0x40584b,_0x4b7b29){return _0x40584b>=_0x4b7b29;},'SXAxx':_0x2c32fa(0x1cf),'tSjtQ':function(_0xd1832c,_0x5e10a4){return _0xd1832c!=_0x5e10a4;},'NFYRt':function(_0xe1d992,_0x47bfaf,_0x4bf9f4){return _0xe1d992(_0x47bfaf,_0x4bf9f4);},'WUgsC':function(_0x1a5291,_0x3471a2){return _0x1a5291(_0x3471a2);},'KFZPS':function(_0x3408de,_0x4598b6){return _0x3408de===_0x4598b6;},'JOlIF':_0x2c32fa(0x255),'bnhIj':function(_0x1da693,_0x312438){return _0x1da693(_0x312438);},'QQnuy':function(_0x2507d8,_0x4b73ef){return _0x2507d8(_0x4b73ef);},'ixLPY':_0x2c32fa(0x1d4),'rutmo':function(_0x3ead48,_0x585903){return _0x3ead48===_0x585903;},'dpzrv':_0x2c32fa(0x243),'EqkLV':_0x2c32fa(0x240),'KBzRc':function(_0x2fadb7,_0x36eef2){return _0x2fadb7-_0x36eef2;},'eEgDY':function(_0x2101d0,_0x4b8937){return _0x2101d0+_0x4b8937;},'KsitZ':_0x2c32fa(0x1f6),'AVoUb':function(_0x734ca7,_0x5435e9){return _0x734ca7>_0x5435e9;},'KWnnO':function(_0x13df49,_0x349f1f){return _0x13df49+_0x349f1f;},'xjQsX':function(_0x1fb111,_0x33d49f,_0x59d765,_0x21f017){return _0x1fb111(_0x33d49f,_0x59d765,_0x21f017);},'CANpT':_0x2c32fa(0x245),'TCOUc':_0x2c32fa(0x1c3),'cECBk':'playwright','ziboC':_0x2c32fa(0x224),'sUtiu':_0x2c32fa(0x203),'QXeVU':_0x2c32fa(0x1e6),'FNGPB':_0x2c32fa(0x231),'FnsXb':'close','lVDBp':function(_0x28126a,_0x1fff7a){return _0x28126a|_0x1fff7a;},'zdejV':function(_0x35b5ee,_0x587565){return _0x35b5ee+_0x587565;},'gulkT':'Error\x20in\x20accessing\x20.browserstack\x20directory:\x20','chIIt':function(_0x384112,_0x2c14d1){return _0x384112+_0x2c14d1;},'XFVsa':_0x2c32fa(0x222)};try{const _0x2eb92c=path[_0x2c32fa(0x1f8)](helper['homedir'](),_0x29eecb['yMOXY']);try{fs[_0x2c32fa(0x1fd)](_0x2eb92c,_0x29eecb['lVDBp'](fs[_0x2c32fa(0x202)]['R_OK'],fs[_0x2c32fa(0x202)][_0x2c32fa(0x192)]));}catch(_0x3c4a52){ClientTroubleShootingService[_0x2c32fa(0x20a)]();}}catch(_0x1410ce){logger[_0x2c32fa(0x1de)](_0x29eecb[_0x2c32fa(0x200)](_0x29eecb[_0x2c32fa(0x1d9)],_0x1410ce));}try{const _0x428e89=path[_0x2c32fa(0x1f8)](helper[_0x2c32fa(0x24d)](),_0x29eecb[_0x2c32fa(0x1a3)],_0x29eecb['SFDSt']);fs[_0x2c32fa(0x23a)](_0x428e89)&&fs[_0x2c32fa(0x259)](_0x428e89);}catch(_0x2777fb){logger[_0x2c32fa(0x1de)](_0x29eecb[_0x2c32fa(0x1ae)](_0x29eecb[_0x2c32fa(0x233)],_0x2777fb));}if(!_0x29eecb[_0x2c32fa(0x210)](isTestCommand,_0x2cff14,_0x494a03)){_0x29eecb[_0x2c32fa(0x1bc)](spawnOriginalProcess,_0x494a03);return;}await PerformanceTester[_0x2c32fa(0x232)](PerformanceEvents[_0x2c32fa(0x1fc)],async()=>{const _0x45f1ec=_0x2c32fa,_0x58701d={'GgxXS':function(_0x335bf0,_0x516fe4){const _0x126e0d=a39_0x5a3e;return _0x29eecb[_0x126e0d(0x1ca)](_0x335bf0,_0x516fe4);},'WOUdh':_0x29eecb[_0x45f1ec(0x1a3)]};if(!_0x5dbe16[_0x45f1ec(0x1b0)]){logger[_0x45f1ec(0x235)](_0x29eecb['ysEif']);return;}await _0x5dbe16[_0x45f1ec(0x219)](_0x2cff14),CLIUtils[_0x45f1ec(0x21d)](FRAMEWORKS[_0x45f1ec(0x21b)],FRAMEWORKS[_0x45f1ec(0x21b)]),BrowserstackCLI[_0x45f1ec(0x1db)]()[_0x45f1ec(0x1a0)](_0x5dbe16[_0x45f1ec(0x1b0)],_0x5dbe16[_0x45f1ec(0x1be)],_0x5dbe16[_0x45f1ec(0x199)]),await BrowserstackCLI[_0x45f1ec(0x1db)]()[_0x45f1ec(0x21a)]();for(var _0x334044=0x0;_0x29eecb[_0x45f1ec(0x23f)](_0x334044,constants[_0x45f1ec(0x1d2)]['length']);_0x334044++){var _0x50b229=constants['INTERNALLY_USED_ENV_VARS'][_0x334044];process[_0x45f1ec(0x249)][_0x50b229]&&await ClientTroubleShootingService['reportConflictingEnvVarIssue'](_0x50b229);}const _0x5ccb36=BrowserstackCLI['getInstance']()[_0x45f1ec(0x1ba)]();!helper[_0x45f1ec(0x1c6)](_0x5ccb36[_0x45f1ec(0x1a9)])&&(process[_0x45f1ec(0x249)][_0x45f1ec(0x1bd)]=!![]);_0x29eecb[_0x45f1ec(0x1ab)](_0x5ccb36[_0x45f1ec(0x1a9)],![])&&(process['env'][_0x45f1ec(0x1bd)]=_0x29eecb[_0x45f1ec(0x226)],_0x494a03=_0x494a03[_0x45f1ec(0x1c0)](_0x121355=>_0x121355!=='--disable-browserstack-automation'));const _0x19aa37=_0x494a03[_0x45f1ec(0x22c)](_0x29eecb[_0x45f1ec(0x209)]);(_0x29eecb['wlNQF'](_0x19aa37,0x0)||_0x29eecb[_0x45f1ec(0x1ab)](_0x5ccb36[_0x45f1ec(0x1ee)],![]))&&(process[_0x45f1ec(0x249)][_0x45f1ec(0x1cd)]=_0x29eecb['TCqIa'],_0x494a03=_0x494a03[_0x45f1ec(0x1c0)](_0x4dc2ce=>_0x4dc2ce!=='--disable-test-observability'));!helper[_0x45f1ec(0x1dc)](_0x5dbe16[_0x45f1ec(0x199)])&&_0x5dbe16['cliConfig'][_0x45f1ec(0x1ad)](_0x29eecb[_0x45f1ec(0x227)])&&(process[_0x45f1ec(0x249)]['BROWSERSTACK_AUTOMATION']=_0x5dbe16[_0x45f1ec(0x199)][_0x45f1ec(0x21e)](_0x29eecb[_0x45f1ec(0x227)])||!![]);_0x29eecb['tSjtQ'](_0x5dbe16['config'][_0x45f1ec(0x1ee)],null)&&!helper[_0x45f1ec(0x22f)](process[_0x45f1ec(0x249)]['BROWSERSTACK_TEST_OBSERVABILITY'])&&(process[_0x45f1ec(0x249)][_0x45f1ec(0x1cd)]=process['env'][_0x45f1ec(0x1cd)]||_0x5dbe16[_0x45f1ec(0x1b0)][_0x45f1ec(0x1ee)]);const _0x1e5bff=!helper['isFalse'](process[_0x45f1ec(0x249)]['BROWSERSTACK_TEST_OBSERVABILITY']);_0x5dbe16[_0x45f1ec(0x1b0)][_0x45f1ec(0x220)]&&(process[_0x45f1ec(0x249)][_0x45f1ec(0x193)]=JSON['stringify'](_0x5dbe16[_0x45f1ec(0x1b0)]['accessibilityOptions']));let _0x45808a=![];_0x5dbe16[_0x45f1ec(0x1b0)][_0x45f1ec(0x198)]&&(_0x45808a=!![],process[_0x45f1ec(0x249)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x5dbe16[_0x45f1ec(0x1b0)][_0x45f1ec(0x198)]);const _0x38adca=_0x494a03[_0x45f1ec(0x221)](),_0x56c3e7=await _0x29eecb[_0x45f1ec(0x210)](getUserPlaywrightConfig,_0x2cff14,_0x494a03);if(helper[_0x45f1ec(0x1dc)](_0x56c3e7)){_0x29eecb[_0x45f1ec(0x1bc)](spawnOriginalProcess,_0x38adca);return;}const _0x4bb785=_0x56c3e7[_0x45f1ec(0x239)]?path[_0x45f1ec(0x1c7)](_0x56c3e7['path']):process[_0x45f1ec(0x237)]();process['env'][_0x45f1ec(0x1cc)]=_0x4bb785,await PerformanceTester[_0x45f1ec(0x232)](PerformanceEvents[_0x45f1ec(0x238)],async()=>{const _0x3da14f=_0x45f1ec;!BrowserstackCLI[_0x3da14f(0x1db)]()[_0x3da14f(0x229)]()&&await TestHubHandler[_0x3da14f(0x1f7)](FRAMEWORKS['PLAYWRIGHT'],_0x5dbe16),_0x1e5bff&&_0x58701d[_0x3da14f(0x19f)](handleO11yRerun,_0x494a03);})();if(!BrowserstackCLI[_0x45f1ec(0x1db)]()[_0x45f1ec(0x229)]()){let _0x59a3a0=_0x29eecb['KFZPS'](process[_0x45f1ec(0x249)][_0x45f1ec(0x241)],_0x29eecb['JOlIF']);_0x59a3a0=_0x59a3a0||_0x29eecb[_0x45f1ec(0x216)](checkAccessibilityPlatformConfig,_0x5dbe16['config']),process[_0x45f1ec(0x249)][_0x45f1ec(0x241)]=_0x59a3a0,_0x59a3a0&&_0x29eecb[_0x45f1ec(0x1ff)](setAccessibilityCapabilities,_0x5dbe16[_0x45f1ec(0x1b0)]);}const _0x4849aa=path[_0x45f1ec(0x1f8)](_0x56c3e7[_0x45f1ec(0x239)]?path['dirname'](_0x56c3e7[_0x45f1ec(0x239)]):process[_0x45f1ec(0x237)](),_0x29eecb[_0x45f1ec(0x24f)]);fs[_0x45f1ec(0x1f2)](_0x4849aa,helper[_0x45f1ec(0x1a1)](_0x5dbe16[_0x45f1ec(0x1b0)])),process['env'][_0x45f1ec(0x20d)]=_0x4849aa,helper[_0x45f1ec(0x225)]();let _0xdbe472='';_0x29eecb[_0x45f1ec(0x23e)](helper[_0x45f1ec(0x1b5)](),constants[_0x45f1ec(0x1ce)][_0x45f1ec(0x247)])?_0xdbe472=_0x29eecb[_0x45f1ec(0x1fb)]:_0xdbe472=_0x29eecb[_0x45f1ec(0x1cb)];let _0x346acd='';if(helper[_0x45f1ec(0x1b6)](_0x56c3e7['path'])){_0x346acd=_0x45f1ec(0x251);const _0x587bf7=_0xdbe472[_0x45f1ec(0x254)]('.');_0x587bf7[_0x29eecb[_0x45f1ec(0x1c4)](_0x587bf7[_0x45f1ec(0x205)],0x1)]='ts',_0xdbe472=_0x587bf7['join']('.'),logger[_0x45f1ec(0x1de)](_0x29eecb['eEgDY'](_0x29eecb['KsitZ'],_0xdbe472));}else _0x346acd=_0x45f1ec(0x1dd);const _0x23f874=path[_0x45f1ec(0x1f8)](_0x56c3e7[_0x45f1ec(0x239)]?path[_0x45f1ec(0x1c7)](_0x56c3e7[_0x45f1ec(0x239)]):process[_0x45f1ec(0x237)](),_0xdbe472);let _0xe6a976=_0x56c3e7[_0x45f1ec(0x239)]?_0x56c3e7['path']:'';_0xe6a976=_0x29eecb[_0x45f1ec(0x21f)](_0xe6a976['length'],0x0)?path[_0x45f1ec(0x252)](_0xe6a976):'',process['env'][_0x45f1ec(0x1e9)]=_0xe6a976;const _0xd056e5=helper['getProxyUrl'](_0x5dbe16['config']),_0x3bd1b6=helper[_0x45f1ec(0x1ef)](_0x5dbe16[_0x45f1ec(0x1b0)]);logger[_0x45f1ec(0x1de)](_0x45f1ec(0x1e5)+_0xd056e5),logger[_0x45f1ec(0x1de)](_0x45f1ec(0x24e)+_0x3bd1b6);_0xd056e5&&(_0x346acd=_0x29eecb['KWnnO'](_0x45f1ec(0x24c)+_0xd056e5+'\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22'+_0x3bd1b6+_0x45f1ec(0x190),_0x346acd));helper[_0x45f1ec(0x24a)]({},_0x494a03),fs[_0x45f1ec(0x1f2)](_0x23f874,_0x346acd),PerformanceTester[_0x45f1ec(0x214)](PerformanceEvents[_0x45f1ec(0x215)]);const _0x4fac14=_0x29eecb[_0x45f1ec(0x20c)](spawn,helper[_0x45f1ec(0x1e8)]()?_0x29eecb[_0x45f1ec(0x22a)]:_0x29eecb[_0x45f1ec(0x1a4)],[_0x29eecb[_0x45f1ec(0x1eb)],_0x29eecb[_0x45f1ec(0x246)],_0x29eecb[_0x45f1ec(0x211)],_0x29eecb['oCZfo'](process[_0x45f1ec(0x250)],_0x29eecb[_0x45f1ec(0x19d)])?'\x22'+_0x23f874+'\x22':_0x23f874,..._0x494a03['slice'](0x2)],{'shell':_0x29eecb[_0x45f1ec(0x1ab)](process[_0x45f1ec(0x250)],_0x29eecb[_0x45f1ec(0x19d)]),'stdio':_0x29eecb[_0x45f1ec(0x253)],'cwd':process[_0x45f1ec(0x237)](),'env':Object[_0x45f1ec(0x21c)]({},process[_0x45f1ec(0x249)],{'BROWSERSTACK_CONFIG_FILE_PATH':helper[_0x45f1ec(0x1d3)](_0x2cff14),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x5dbe16['config'][_0x45f1ec(0x1a6)][_0x45f1ec(0x23d)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x5dbe16[_0x45f1ec(0x1b0)][_0x45f1ec(0x1a6)][_0x45f1ec(0x1f9)],'BROWSERSTACK_LOG_LEVEL':_0x5dbe16[_0x45f1ec(0x1b0)][_0x45f1ec(0x256)]})}),_0x3829b6=()=>{const _0x2251b9=_0x45f1ec;try{const _0x95354f=path[_0x2251b9(0x1f8)](helper['homedir'](),_0x29eecb[_0x2251b9(0x1a3)],_0x29eecb['SFDSt']);if(fs[_0x2251b9(0x23a)](_0x95354f)){let _0x4d7902=fs[_0x2251b9(0x218)](_0x95354f);_0x4d7902=JSON[_0x2251b9(0x1fa)](_0x4d7902),_0x5dbe16[_0x2251b9(0x1af)]=_0x4d7902,fs['unlinkSync'](_0x95354f);}}catch(_0xa26dde){logger[_0x2251b9(0x1de)](_0x29eecb['SaNuf'](_0x29eecb[_0x2251b9(0x234)],_0xa26dde));}};_0x4fac14['on'](_0x29eecb[_0x45f1ec(0x1da)],async _0x438577=>{const _0x1e052c=_0x45f1ec;try{PerformanceTester[_0x1e052c(0x1c2)](PerformanceEvents[_0x1e052c(0x1d5)]),_0x29eecb[_0x1e052c(0x1c8)](_0x3829b6),await TestHubHandler[_0x1e052c(0x230)](),await ClientTroubleShootingService[_0x1e052c(0x204)](),await BrowserstackCLI[_0x1e052c(0x1db)]()[_0x1e052c(0x230)](),TestDetails[_0x1e052c(0x1c1)](),_0x29eecb['UgCmJ'](printBuildLink),await utilities[_0x1e052c(0x23c)](_0x5dbe16),process[_0x1e052c(0x1f1)]=_0x438577,logger[_0x1e052c(0x1de)]('Playwright\x20process\x20exited\x20with\x20code\x20'+_0x438577),logger[_0x1e052c(0x1d0)](_0x1e052c(0x1e0)+_0x23f874),fs[_0x1e052c(0x259)](_0x23f874);fs[_0x1e052c(0x23a)](_0x4849aa)&&(logger[_0x1e052c(0x1de)]('Deleting\x20'+_0x4849aa),fs['unlinkSync'](_0x4849aa));const _0xcf3240=fs[_0x1e052c(0x208)](path[_0x1e052c(0x1f8)](helper[_0x1e052c(0x24d)](),_0x29eecb[_0x1e052c(0x1a3)]))[_0x1e052c(0x1c0)](_0x37b74c=>_0x37b74c[_0x1e052c(0x1a7)](_0x1e052c(0x1b8)));_0xcf3240[_0x1e052c(0x1d7)](_0x546fa4=>{const _0x348ce8=_0x1e052c;fs[_0x348ce8(0x259)](path[_0x348ce8(0x1f8)](helper[_0x348ce8(0x24d)](),_0x58701d[_0x348ce8(0x206)],_0x546fa4));});}catch(_0x10df4c){logger[_0x1e052c(0x1de)](_0x29eecb[_0x1e052c(0x1aa)](_0x29eecb[_0x1e052c(0x1ec)],_0x10df4c));}});})();}module[a39_0x3e7a08(0x1d8)]=run;