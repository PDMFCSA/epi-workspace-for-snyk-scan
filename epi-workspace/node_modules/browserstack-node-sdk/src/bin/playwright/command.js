#!/usr/bin/env node
'use strict';const a39_0x2c60c6=a39_0x1bc9;function a39_0x3171(){const _0x4dccf6=['vPtDL','PACKAGE_TYPE','cwd','stringify','Smkej','../utils/clientTroubleshootingService','../../helpers/logger','readFileSync','bootstrap','playwright-browserstack-sdk.config.cjs','--disable-browserstack-automation','../../helpers/helper','launchBuild','unlinkSync','MODULE','getPackageType','test','BrowserStack\x20config\x20file\x20not\x20found.','accessibilityOptions','bNFQo','win32','XNbDf','Yumpg','BROWSERSTACK_RERUN_TESTS','wjERi','nestedKeyValue','./reporter/test-details','accessibility','join','filter','accessSync','fPjiJ','existsSync','../../helpers/performance/performance-tester','isRunning','BROWSERSTACK_TEST_ACCESSIBILITY_YML','homedir','GGdaD','get','enGIU','concat','yBIjK','YXCjL','false','UHpyD','dirname','--grep','../utils/constants','skipSessionName','3092012fCgPTM','Error\x20in\x20accessing\x20.browserstack\x20directory:\x20','reportFinalDetectionState','W_OK','getNoProxy','kzHIW','browserstackAutomation','Error\x20in\x20closing\x20playwright','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20This\x20is\x20a\x20failsafe\x20if\x20global-agent\x20present\x20inside\x20sdk\x20node_modules\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap\x20=\x20require(\x22./node_modules/browserstack-node-sdk/node_modules/global-agent\x22).bootstrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bootstrap();','RTxST','SDK_CLEANUP','start','2104185prnYpR','browserstackSetupConfig.json','configPath','trim','getProxyUrl','HyanV','../../helpers/test-observability/constants','playwright','apply','Deleting\x20','377343eeVALw','../../helpers/BrowserStackSetup','EZlny','BROWSERSTACK_TEST_OBSERVABILITY','isUndefined','split','cbxbA','cliConfig','slice','Error\x20in\x20deleting\x20playwright\x20results','platform','../../helpers/performance/constants','reportConflictingEnvVarIssue','clearTempPWConfig','iFJpw','.browserstack','No\x20Proxy\x20:\x20','gczKV','startsWith','SfOEv','inherit','../../helpers/testhub/testhubHandler','../../helpers/utilities','udCFs','HTAEp','291374dsqKqc','kEWMr','QmbBQ','./reporter/pwUtils','R_OK','process.env.GLOBAL_AGENT_HTTP_PROXY=\x22','4NwgcUS','end','AppjI','push','avFmj','--disable-test-observability','ptCXa','logLevel','validateRerunTestList','npx','../../helpers/test-observability/utils','zfOsY','Proxy\x20url\x20:\x20','skipSessionStatus','BROWSERSTACK_AUTOMATION','rQriZ','resolve','lLhjw','close','winstonLogger','writeFileSync','HRcwk','testObservability','2425064syWzQu','\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process.env.GLOBAL_AGENT_NO_PROXY=\x22','getInstance','451974dsRQAu','forEach','exitCode','EMLBu','BROWSERSTACK_SETUP_CONFIG_PATH','--config=','constants','oBIZO','ABVjc','path','xoaZE','Error\x20in\x20getting\x20funnel\x20data\x20results','filterBrowserstackArgs','resolvedConfigFile','getConfig','debug','error','playwright-browserstack-sdk.config.js','getConfigPath','PLAYWRIGHT','DIBza','errorMessage','../../helpers/accessibility-automation/helper','2YglaAs','isTypescriptProject','info','testContextOptions','mmzia','stop','config','length','auvoE','caaAd','\x0a\x0a\x20\x20\x20\x20import\x20pkg\x20from\x20\x27browserstack-node-sdk\x27;\x0a\x20\x20\x20\x20export\x20default\x20pkg._modifyPlaywright()\x0a','140gPfzBM','INTERNALLY_USED_ENV_VARS','parse','./accessibility-helper','automation','PaHnU','2481174VpOlBK','isFalse','setFrameworkDetail','qEbLN','fdLQE','reportDotBrowserStackFolderNotAccessibleIssue','XfJzF','../v2/TestInfo','exports','EVENTS','isTrue','env'];a39_0x3171=function(){return _0x4dccf6;};return a39_0x3171();}(function(_0x57d839,_0x67f5fa){const _0x4e173d=a39_0x1bc9,_0x2362fb=_0x57d839();while(!![]){try{const _0x211775=-parseInt(_0x4e173d(0x13a))/0x1*(-parseInt(_0x4e173d(0x171))/0x2)+-parseInt(_0x4e173d(0x15a))/0x3+parseInt(_0x4e173d(0x140))/0x4*(parseInt(_0x4e173d(0x1cb))/0x5)+-parseInt(_0x4e173d(0x182))/0x6+parseInt(_0x4e173d(0x1bf))/0x7+parseInt(_0x4e173d(0x157))/0x8+parseInt(_0x4e173d(0x121))/0x9*(-parseInt(_0x4e173d(0x17c))/0xa);if(_0x211775===_0x67f5fa)break;else _0x2362fb['push'](_0x2362fb['shift']());}catch(_0x4e9765){_0x2362fb['push'](_0x2362fb['shift']());}}}(a39_0x3171,0x4aae7));const fs=require('fs'),path=require(a39_0x2c60c6(0x163)),{spawn}=require('child_process'),{format}=require('util'),logger=require(a39_0x2c60c6(0x194))[a39_0x2c60c6(0x153)],{default:BrowserStackSetup}=require(a39_0x2c60c6(0x122)),helper=require(a39_0x2c60c6(0x199)),utilities=require(a39_0x2c60c6(0x137)),constants=require(a39_0x2c60c6(0x1bd)),{FRAMEWORKS}=require(a39_0x2c60c6(0x1d1)),{getConfigLoaderPath}=require(a39_0x2c60c6(0x13d)),{checkAccessibilityPlatformConfig}=require(a39_0x2c60c6(0x170)),{setAccessibilityCapabilities}=require(a39_0x2c60c6(0x17f)),{printBuildLink}=require(a39_0x2c60c6(0x14a)),TestDetails=require(a39_0x2c60c6(0x1a8)),TestHubHandler=require(a39_0x2c60c6(0x136)),PerformanceTester=require(a39_0x2c60c6(0x1af)),BrowserstackCLI=require('../v2/browserstackCLI'),PerformanceEvents=require(a39_0x2c60c6(0x12c))[a39_0x2c60c6(0x18b)],CLIUtils=require('../v2/cliUtils'),TestInfo=require(a39_0x2c60c6(0x189)),ClientTroubleShootingService=require(a39_0x2c60c6(0x193)),getUserPlaywrightConfig=async(_0x39c380,_0x6cca99)=>{const _0x1b07d8=a39_0x2c60c6,_0x58c75e={'cGhsy':function(_0x65e467){return _0x65e467();},'ISGrc':function(_0x28208a,_0x30bc6d){return _0x28208a(_0x30bc6d);},'SfOEv':function(_0x351caa,_0x5a44ed){return _0x351caa(_0x5a44ed);},'XNbDf':_0x1b07d8(0x167),'QmbBQ':_0x1b07d8(0x15f)},_0x55071c=!helper[_0x1b07d8(0x125)](_0x39c380[_0x1b07d8(0x177)]),_0xf0b4cf=_0x55071c?path['resolve'](process[_0x1b07d8(0x190)](),_0x39c380[_0x1b07d8(0x177)]):process[_0x1b07d8(0x190)](),{resolveConfigFile:_0x5e99b8,resolveConfigLocation:_0x2278ee}=helper['requirePWModule'][_0x1b07d8(0x11f)](null,_0x58c75e['cGhsy'](getConfigLoaderPath)),_0x40139c=_0x5e99b8?_0x58c75e['ISGrc'](_0x5e99b8,_0xf0b4cf):helper[_0x1b07d8(0x1a7)](_0x58c75e[_0x1b07d8(0x134)](_0x2278ee,_0xf0b4cf),[_0x58c75e[_0x1b07d8(0x1a3)]]),_0x42f4a1={};if(_0x55071c){const _0x414c28=_0x6cca99['findIndex'](_0x22814f=>_0x22814f==='--config'||_0x22814f==='-c'||_0x22814f[_0x1b07d8(0x133)](_0x1b07d8(0x15f)));_0x6cca99['splice'](_0x414c28,_0x6cca99[_0x414c28][_0x1b07d8(0x133)](_0x58c75e[_0x1b07d8(0x13c)])?0x1:0x2);}const _0x2137c9={};return _0x2137c9[_0x1b07d8(0x163)]=_0x40139c,_0x2137c9[_0x1b07d8(0x177)]=_0x42f4a1,_0x2137c9;},handleO11yRerun=_0x4787ce=>{const _0x33b374=a39_0x2c60c6,_0x2a34b8={};_0x2a34b8[_0x33b374(0x12f)]=_0x33b374(0x1bc);const _0xffdd2f=_0x2a34b8,_0x419d4d=helper[_0x33b374(0x18c)](process[_0x33b374(0x18d)]['BROWSERSTACK_RERUN']);if(_0x419d4d){const _0xd268d3=process[_0x33b374(0x18d)][_0x33b374(0x1a5)],_0x26dcb0=[];if(helper[_0x33b374(0x148)](_0xd268d3)&&!helper['isUndefined'](_0xd268d3)){_0xd268d3[_0x33b374(0x126)](',')['map'](_0x4d225e=>{const _0x5e1e51=_0x33b374;_0x26dcb0[_0x5e1e51(0x143)]('('+_0x4d225e[_0x5e1e51(0x1ce)]()+')');});const _0x591c43='^'+_0x26dcb0['join']('|')+'$';_0x4787ce['push'](_0xffdd2f[_0x33b374(0x12f)],_0x591c43);}}},spawnOriginalProcess=_0x16cd0b=>{const _0x3bbc5c=a39_0x2c60c6,_0x53a46a={'caaAd':function(_0x447fda,_0x5077d0,_0x4b4722,_0x41a18c){return _0x447fda(_0x5077d0,_0x4b4722,_0x41a18c);},'EMLBu':_0x3bbc5c(0x149),'PaHnU':_0x3bbc5c(0x1d2),'tdPRq':function(_0xb80b63,_0xe7adae){return _0xb80b63===_0xe7adae;},'XfJzF':_0x3bbc5c(0x1a2),'YFUYZ':'inherit'};_0x53a46a[_0x3bbc5c(0x17a)](spawn,_0x53a46a[_0x3bbc5c(0x15d)],[_0x53a46a[_0x3bbc5c(0x181)],..._0x16cd0b['slice'](0x1)],{'shell':_0x53a46a['tdPRq'](process[_0x3bbc5c(0x12b)],_0x53a46a[_0x3bbc5c(0x188)]),'stdio':_0x53a46a['YFUYZ'],'cwd':process['cwd']()});},isTestCommand=(_0x49b226,_0x2df1b5)=>{const _0x2bc960=a39_0x2c60c6,_0xc016cc={};_0xc016cc[_0x2bc960(0x1c8)]=function(_0x12d8b3,_0x5032e9){return _0x12d8b3>_0x5032e9;},_0xc016cc[_0x2bc960(0x139)]=function(_0x31a4a1,_0x40ce9e){return _0x31a4a1===_0x40ce9e;},_0xc016cc['cvyYz']=_0x2bc960(0x19e);const _0x3d049d=_0xc016cc;if(_0x3d049d['RTxST'](_0x2df1b5['length'],0x1)&&_0x3d049d['HTAEp'](_0x2df1b5[0x1],_0x3d049d['cvyYz']))return!![];return![];};async function run(_0x2f6d6c,_0x42b40d,_0x432fe1){const _0x13b31d=a39_0x2c60c6,_0x48f8c8={'fPjiJ':_0x13b31d(0x130),'lLhjw':'pw_result.json','DIBza':function(_0x4319da,_0x43e800){return _0x4319da+_0x43e800;},'xoaZE':_0x13b31d(0x165),'wjERi':function(_0x2e74dc){return _0x2e74dc();},'YXCjL':function(_0x41a250,_0x47ff2e){return _0x41a250+_0x47ff2e;},'mmzia':_0x13b31d(0x1c6),'yddaR':function(_0x134b9f,_0xd5d8f2){return _0x134b9f(_0xd5d8f2);},'qEbLN':_0x13b31d(0x19f),'kNNEr':function(_0xf50423,_0x470ca2){return _0xf50423<_0x470ca2;},'GGdaD':function(_0x5ee147,_0x26cd9e){return _0x5ee147===_0x26cd9e;},'gczKV':_0x13b31d(0x1b9),'fdLQE':_0x13b31d(0x145),'kEWMr':function(_0x32e2b0,_0x411eb2){return _0x32e2b0>=_0x411eb2;},'enGIU':_0x13b31d(0x180),'udCFs':function(_0x29db61,_0x207144){return _0x29db61!=_0x207144;},'Smkej':function(_0x34abdf,_0x581d0e,_0x4c68da){return _0x34abdf(_0x581d0e,_0x4c68da);},'yBIjK':function(_0x3f06fc,_0x3211df){return _0x3f06fc(_0x3211df);},'AppjI':'true','rQriZ':function(_0x47e89b,_0x56365b){return _0x47e89b(_0x56365b);},'UHpyD':function(_0x5589b1,_0x11984b){return _0x5589b1(_0x11984b);},'avFmj':_0x13b31d(0x1cc),'espSZ':_0x13b31d(0x197),'ptCXa':_0x13b31d(0x16b),'dSHTx':function(_0x17a722,_0x350eb9){return _0x17a722-_0x350eb9;},'oBIZO':'Updated\x20config\x20file\x20name\x20to\x20-\x20','HRcwk':function(_0x2f8415,_0x1f53a9){return _0x2f8415>_0x1f53a9;},'EXNMt':function(_0x236a1e,_0x4350ae){return _0x236a1e+_0x4350ae;},'gxBRj':function(_0x559d92,_0x488db0,_0x45ce7d,_0x3b868c){return _0x559d92(_0x488db0,_0x45ce7d,_0x3b868c);},'iVvmK':_0x13b31d(0x149),'bNFQo':'playwright','CoQek':_0x13b31d(0x19e),'auvoE':'--config','EZlny':_0x13b31d(0x1a2),'vPtDL':function(_0x25a00a,_0x451f11){return _0x25a00a===_0x451f11;},'KuzJi':_0x13b31d(0x135),'ABVjc':_0x13b31d(0x152),'Yumpg':function(_0x4ace02,_0xf6b72b){return _0x4ace02|_0xf6b72b;},'HooGY':function(_0x3f1da5,_0x215912){return _0x3f1da5+_0x215912;},'zfOsY':_0x13b31d(0x1c0),'nLoDa':function(_0x15ed9b,_0x3d08a9){return _0x15ed9b+_0x3d08a9;},'kzHIW':_0x13b31d(0x12a)};try{const _0x3f6c71=path[_0x13b31d(0x1aa)](helper['homedir'](),_0x48f8c8[_0x13b31d(0x1ad)]);try{fs[_0x13b31d(0x1ac)](_0x3f6c71,_0x48f8c8[_0x13b31d(0x1a4)](fs[_0x13b31d(0x160)][_0x13b31d(0x13e)],fs[_0x13b31d(0x160)][_0x13b31d(0x1c2)]));}catch(_0x1d641c){ClientTroubleShootingService[_0x13b31d(0x187)]();}}catch(_0x55c836){logger[_0x13b31d(0x169)](_0x48f8c8['HooGY'](_0x48f8c8[_0x13b31d(0x14b)],_0x55c836));}try{const _0x5a5c26=path['join'](helper[_0x13b31d(0x1b2)](),_0x48f8c8[_0x13b31d(0x1ad)],_0x48f8c8[_0x13b31d(0x151)]);fs['existsSync'](_0x5a5c26)&&fs['unlinkSync'](_0x5a5c26);}catch(_0x5aa2f2){logger[_0x13b31d(0x169)](_0x48f8c8['nLoDa'](_0x48f8c8[_0x13b31d(0x1c4)],_0x5aa2f2));}if(!_0x48f8c8[_0x13b31d(0x192)](isTestCommand,_0x2f6d6c,_0x42b40d)){_0x48f8c8[_0x13b31d(0x1b7)](spawnOriginalProcess,_0x42b40d);return;}await PerformanceTester['measureWrapper'](PerformanceEvents['SDK_PRE_INITIALIZE'],async()=>{const _0x31ab07=_0x13b31d,_0x3c6286={'cbxbA':function(_0x1651e0,_0x3c3d01){return _0x48f8c8['yddaR'](_0x1651e0,_0x3c3d01);},'HyanV':_0x48f8c8['fPjiJ']};if(!_0x432fe1[_0x31ab07(0x177)]){logger[_0x31ab07(0x16a)](_0x48f8c8[_0x31ab07(0x185)]);return;}await _0x432fe1['initialize'](_0x2f6d6c),CLIUtils[_0x31ab07(0x184)](FRAMEWORKS[_0x31ab07(0x16d)],FRAMEWORKS[_0x31ab07(0x16d)]),BrowserstackCLI[_0x31ab07(0x159)]()['setBrowserstackConfig'](_0x432fe1['config'],_0x432fe1[_0x31ab07(0x1cd)],_0x432fe1[_0x31ab07(0x128)]),await BrowserstackCLI[_0x31ab07(0x159)]()[_0x31ab07(0x196)]();for(var _0x4456b0=0x0;_0x48f8c8['kNNEr'](_0x4456b0,constants[_0x31ab07(0x17d)][_0x31ab07(0x178)]);_0x4456b0++){var _0x3bb96b=constants[_0x31ab07(0x17d)][_0x4456b0];process[_0x31ab07(0x18d)][_0x3bb96b]&&await ClientTroubleShootingService[_0x31ab07(0x12d)](_0x3bb96b);}const _0x477c06=BrowserstackCLI[_0x31ab07(0x159)]()[_0x31ab07(0x168)]();!helper[_0x31ab07(0x183)](_0x477c06[_0x31ab07(0x1c5)])&&(process[_0x31ab07(0x18d)][_0x31ab07(0x14e)]=!![]);_0x48f8c8[_0x31ab07(0x1b3)](_0x477c06[_0x31ab07(0x1c5)],![])&&(process[_0x31ab07(0x18d)]['BROWSERSTACK_AUTOMATION']=_0x48f8c8['gczKV'],_0x42b40d=_0x42b40d[_0x31ab07(0x1ab)](_0x2db5c7=>_0x2db5c7!==_0x31ab07(0x198)));const _0x5d342f=_0x42b40d['indexOf'](_0x48f8c8[_0x31ab07(0x186)]);(_0x48f8c8[_0x31ab07(0x13b)](_0x5d342f,0x0)||_0x48f8c8[_0x31ab07(0x1b3)](_0x477c06[_0x31ab07(0x156)],![]))&&(process[_0x31ab07(0x18d)][_0x31ab07(0x124)]=_0x48f8c8[_0x31ab07(0x132)],_0x42b40d=_0x42b40d['filter'](_0x3960ac=>_0x3960ac!=='--disable-test-observability'));!helper[_0x31ab07(0x125)](_0x432fe1[_0x31ab07(0x128)])&&_0x432fe1[_0x31ab07(0x128)]['has'](_0x48f8c8[_0x31ab07(0x1b5)])&&(process[_0x31ab07(0x18d)]['BROWSERSTACK_AUTOMATION']=_0x432fe1['cliConfig'][_0x31ab07(0x1b4)](_0x48f8c8[_0x31ab07(0x1b5)])||!![]);_0x48f8c8[_0x31ab07(0x138)](_0x432fe1['config']['testObservability'],null)&&!helper[_0x31ab07(0x18c)](process[_0x31ab07(0x18d)][_0x31ab07(0x124)])&&(process[_0x31ab07(0x18d)][_0x31ab07(0x124)]=process[_0x31ab07(0x18d)]['BROWSERSTACK_TEST_OBSERVABILITY']||_0x432fe1['config'][_0x31ab07(0x156)]);const _0x234715=!helper[_0x31ab07(0x183)](process[_0x31ab07(0x18d)][_0x31ab07(0x124)]);_0x432fe1[_0x31ab07(0x177)][_0x31ab07(0x1a0)]&&(process[_0x31ab07(0x18d)]['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON[_0x31ab07(0x191)](_0x432fe1[_0x31ab07(0x177)][_0x31ab07(0x1a0)]));let _0x517da2=![];_0x432fe1[_0x31ab07(0x177)][_0x31ab07(0x1a9)]&&(_0x517da2=!![],process['env'][_0x31ab07(0x1b1)]=_0x432fe1[_0x31ab07(0x177)][_0x31ab07(0x1a9)]);const _0x4b5f53=_0x42b40d[_0x31ab07(0x1b6)](),_0x3b6b30=await _0x48f8c8[_0x31ab07(0x192)](getUserPlaywrightConfig,_0x2f6d6c,_0x42b40d);if(helper['isUndefined'](_0x3b6b30)){_0x48f8c8[_0x31ab07(0x1b7)](spawnOriginalProcess,_0x4b5f53);return;}const _0x91d53f=_0x3b6b30[_0x31ab07(0x163)]?path['dirname'](_0x3b6b30[_0x31ab07(0x163)]):process[_0x31ab07(0x190)]();process[_0x31ab07(0x18d)]['BROWSERSTACK_PW_CONFIG_DIR']=_0x91d53f,await PerformanceTester['measureWrapper'](PerformanceEvents['SDK_POST_INITIALIZE'],async()=>{const _0x59683a=_0x31ab07;!BrowserstackCLI[_0x59683a(0x159)]()['isRunning']()&&await TestHubHandler[_0x59683a(0x19a)](FRAMEWORKS['PLAYWRIGHT'],_0x432fe1),_0x234715&&_0x3c6286[_0x59683a(0x127)](handleO11yRerun,_0x42b40d);})();if(!BrowserstackCLI[_0x31ab07(0x159)]()[_0x31ab07(0x1b0)]()){let _0xd97647=_0x48f8c8[_0x31ab07(0x1b3)](process['env'][_0x31ab07(0x1b1)],_0x48f8c8[_0x31ab07(0x142)]);_0xd97647=_0xd97647||_0x48f8c8[_0x31ab07(0x14f)](checkAccessibilityPlatformConfig,_0x432fe1[_0x31ab07(0x177)]),process['env'][_0x31ab07(0x1b1)]=_0xd97647,_0xd97647&&_0x48f8c8[_0x31ab07(0x1ba)](setAccessibilityCapabilities,_0x432fe1['config']);}const _0x3b8691=path['join'](_0x3b6b30[_0x31ab07(0x163)]?path[_0x31ab07(0x1bb)](_0x3b6b30[_0x31ab07(0x163)]):process[_0x31ab07(0x190)](),_0x48f8c8[_0x31ab07(0x144)]);fs[_0x31ab07(0x154)](_0x3b8691,helper['serializeToYamlString'](_0x432fe1['config'])),process[_0x31ab07(0x18d)][_0x31ab07(0x15e)]=_0x3b8691,helper[_0x31ab07(0x12e)]();let _0x143922='';_0x48f8c8[_0x31ab07(0x1b3)](helper[_0x31ab07(0x19d)](),constants[_0x31ab07(0x18f)][_0x31ab07(0x19c)])?_0x143922=_0x48f8c8['espSZ']:_0x143922=_0x48f8c8[_0x31ab07(0x146)];let _0x244f23='';if(helper[_0x31ab07(0x172)](_0x3b6b30[_0x31ab07(0x163)])){_0x244f23=_0x31ab07(0x17b);const _0x5baace=_0x143922[_0x31ab07(0x126)]('.');_0x5baace[_0x48f8c8['dSHTx'](_0x5baace['length'],0x1)]='ts',_0x143922=_0x5baace[_0x31ab07(0x1aa)]('.'),logger[_0x31ab07(0x169)](_0x48f8c8[_0x31ab07(0x16e)](_0x48f8c8[_0x31ab07(0x161)],_0x143922));}else _0x244f23='\x0a\x0a\x20\x20\x20\x20const\x20modifyPWConfig\x20=\x20require(\x27browserstack-node-sdk\x27)._modifyPlaywright;\x0a\x0a\x20\x20\x20\x20module.exports\x20=\x20modifyPWConfig();\x0a';const _0x56c5e1=path[_0x31ab07(0x1aa)](_0x3b6b30['path']?path[_0x31ab07(0x1bb)](_0x3b6b30[_0x31ab07(0x163)]):process[_0x31ab07(0x190)](),_0x143922);let _0x18edcd=_0x3b6b30['path']?_0x3b6b30[_0x31ab07(0x163)]:'';_0x18edcd=_0x48f8c8[_0x31ab07(0x155)](_0x18edcd[_0x31ab07(0x178)],0x0)?path[_0x31ab07(0x150)](_0x18edcd):'',process[_0x31ab07(0x18d)]['USER_CONFIG_DETAILS_PATH']=_0x18edcd;const _0xb65475=helper[_0x31ab07(0x1cf)](_0x432fe1[_0x31ab07(0x177)]),_0x351730=helper[_0x31ab07(0x1c3)](_0x432fe1[_0x31ab07(0x177)]);logger[_0x31ab07(0x169)](_0x31ab07(0x14c)+_0xb65475),logger[_0x31ab07(0x169)](_0x31ab07(0x131)+_0x351730);_0xb65475&&(_0x244f23=_0x48f8c8['EXNMt'](_0x31ab07(0x13f)+_0xb65475+_0x31ab07(0x158)+_0x351730+_0x31ab07(0x1c7),_0x244f23));helper[_0x31ab07(0x166)]({},_0x42b40d),fs['writeFileSync'](_0x56c5e1,_0x244f23),PerformanceTester[_0x31ab07(0x141)](PerformanceEvents['SDK_SETUP']);const _0x4babd2=_0x48f8c8['gxBRj'](spawn,_0x48f8c8['iVvmK'],[_0x48f8c8[_0x31ab07(0x1a1)],_0x48f8c8['CoQek'],_0x48f8c8[_0x31ab07(0x179)],_0x48f8c8[_0x31ab07(0x1b3)](process[_0x31ab07(0x12b)],_0x48f8c8[_0x31ab07(0x123)])?'\x22'+_0x56c5e1+'\x22':_0x56c5e1,..._0x42b40d[_0x31ab07(0x129)](0x2)],{'shell':_0x48f8c8[_0x31ab07(0x18e)](process[_0x31ab07(0x12b)],_0x48f8c8[_0x31ab07(0x123)]),'stdio':_0x48f8c8['KuzJi'],'cwd':process[_0x31ab07(0x190)](),'env':Object['assign']({},process['env'],{'BROWSERSTACK_CONFIG_FILE_PATH':helper[_0x31ab07(0x16c)](_0x2f6d6c),'BROWSERSTACK_SKIP_SESSION_STATUS':_0x432fe1[_0x31ab07(0x177)][_0x31ab07(0x174)][_0x31ab07(0x14d)],'BROWSERSTACK_SKIP_SESSION_NAME':_0x432fe1[_0x31ab07(0x177)][_0x31ab07(0x174)][_0x31ab07(0x1be)],'BROWSERSTACK_LOG_LEVEL':_0x432fe1[_0x31ab07(0x177)][_0x31ab07(0x147)]})}),_0x1ce421=()=>{const _0x3085cd=_0x31ab07;try{const _0x30aa08=path[_0x3085cd(0x1aa)](helper[_0x3085cd(0x1b2)](),_0x48f8c8[_0x3085cd(0x1ad)],_0x48f8c8[_0x3085cd(0x151)]);if(fs[_0x3085cd(0x1ae)](_0x30aa08)){let _0x213eb7=fs[_0x3085cd(0x195)](_0x30aa08);_0x213eb7=JSON[_0x3085cd(0x17e)](_0x213eb7),_0x432fe1[_0x3085cd(0x16f)]=_0x213eb7,fs[_0x3085cd(0x19b)](_0x30aa08);}}catch(_0x477953){logger[_0x3085cd(0x169)](_0x48f8c8[_0x3085cd(0x16e)](_0x48f8c8[_0x3085cd(0x164)],_0x477953));}};_0x4babd2['on'](_0x48f8c8[_0x31ab07(0x162)],async _0x3f3d1e=>{const _0x5854a9=_0x31ab07;try{PerformanceTester[_0x5854a9(0x1ca)](PerformanceEvents[_0x5854a9(0x1c9)]),_0x48f8c8[_0x5854a9(0x1a6)](_0x1ce421),await TestHubHandler['stop'](),await ClientTroubleShootingService[_0x5854a9(0x1c1)](),await BrowserstackCLI['getInstance']()[_0x5854a9(0x176)](),TestDetails['shutdown'](),_0x48f8c8['wjERi'](printBuildLink),await utilities['finalExecution'](_0x432fe1),process[_0x5854a9(0x15c)]=_0x3f3d1e,logger[_0x5854a9(0x169)]('Playwright\x20process\x20exited\x20with\x20code\x20'+_0x3f3d1e),logger[_0x5854a9(0x173)](_0x5854a9(0x120)+_0x56c5e1),fs[_0x5854a9(0x19b)](_0x56c5e1);fs['existsSync'](_0x3b8691)&&(logger[_0x5854a9(0x169)]('Deleting\x20'+_0x3b8691),fs[_0x5854a9(0x19b)](_0x3b8691));const _0x2b072d=fs['readdirSync'](path[_0x5854a9(0x1aa)](helper[_0x5854a9(0x1b2)](),_0x48f8c8[_0x5854a9(0x1ad)]))[_0x5854a9(0x1ab)](_0x2a689c=>_0x2a689c[_0x5854a9(0x133)]('trace_'));_0x2b072d[_0x5854a9(0x15b)](_0x4a33a9=>{const _0x1932b6=_0x5854a9;fs['unlinkSync'](path[_0x1932b6(0x1aa)](helper[_0x1932b6(0x1b2)](),_0x3c6286[_0x1932b6(0x1d0)],_0x4a33a9));});}catch(_0x1bc7ef){logger[_0x5854a9(0x169)](_0x48f8c8[_0x5854a9(0x1b8)](_0x48f8c8[_0x5854a9(0x175)],_0x1bc7ef));}});})();}function a39_0x1bc9(_0x51118b,_0x7d808c){const _0x3171bf=a39_0x3171();return a39_0x1bc9=function(_0x1bc99f,_0x45cb0b){_0x1bc99f=_0x1bc99f-0x11f;let _0x409d6e=_0x3171bf[_0x1bc99f];return _0x409d6e;},a39_0x1bc9(_0x51118b,_0x7d808c);}module[a39_0x2c60c6(0x18a)]=run;