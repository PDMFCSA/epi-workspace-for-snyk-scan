const a46_0x472f3e=a46_0x1978;function a46_0x5d6d(){const _0x866891=['force','OmEFE','LBKsL','getTestUUID','setup','getProjectIdFromTestInfo','appendToTracePaths','264976mJTzfq','getDirPath','hYzJx','homedir','eOqXa','uuid','addTraceFilePath','getTraceZipDir','Error\x20reading\x20trace\x20file\x20paths:\x20%s','opLhX','path','SZVJR','toString','rmSync','filePath','recursive','207cDhyiC','_test','readdirSync','oOBdC','utf8','../../../helpers/helper','BS_TESTOPS_BUILD_HASHED_ID','getStoreDirPath','existsSync','writeFileSync','qZyBb','Jbqpq','fwNpt','IlHWU','mkdirSync','bgxRs','3975170LFUkHq','_platformDetails.json','pid','forEach','ICNab','eRYzC','zSCpa','join','exports','readFileSync','1070546ITTNcm','error','getTestIdFromTestInfo','JfSZM','qPsUy','__projectId','slSZv','parse','2253965pPLpTs','zfdqK','OyEJW','getStoreDirName','getFilePath','string','values','12RotErj','.txt','18797730pFbroY','QUNfn','tests','project','traceZipPaths','getTraceFilePaths','shutdown','default','endsWith','retry','getTestDetails','XAZlN','742800CdlYDE','util','getTestRunIdFromTestInfo','Error\x20writing\x20trace\x20file:\x20','.json','12OSsGcf','trace_','QTBvx','_traceZipPaths.json','testId','1472514FKdCEz','setTestDetails','Error\x20handling\x20trace\x20file\x20paths:\x20','stringify','setAccessibilityPlatformValidation'];a46_0x5d6d=function(){return _0x866891;};return a46_0x5d6d();}function a46_0x1978(_0x2b2b23,_0x4709a7){const _0x5d6d89=a46_0x5d6d();return a46_0x1978=function(_0x197859,_0x1191bb){_0x197859=_0x197859-0x119;let _0x1b896f=_0x5d6d89[_0x197859];return _0x1b896f;},a46_0x1978(_0x2b2b23,_0x4709a7);}(function(_0x4a4c99,_0x2fe57b){const _0xd00421=a46_0x1978,_0x42c3cc=_0x4a4c99();while(!![]){try{const _0x58e913=-parseInt(_0xd00421(0x12d))/0x1+-parseInt(_0xd00421(0x14a))/0x2+parseInt(_0xd00421(0x154))/0x3*(parseInt(_0xd00421(0x14f))/0x4)+parseInt(_0xd00421(0x123))/0x5*(parseInt(_0xd00421(0x13c))/0x6)+parseInt(_0xd00421(0x135))/0x7+-parseInt(_0xd00421(0x160))/0x8*(-parseInt(_0xd00421(0x170))/0x9)+-parseInt(_0xd00421(0x13e))/0xa;if(_0x58e913===_0x2fe57b)break;else _0x42c3cc['push'](_0x42c3cc['shift']());}catch(_0xd86ff2){_0x42c3cc['push'](_0x42c3cc['shift']());}}}(a46_0x5d6d,0xc9558));const fs=require('fs'),path=require(a46_0x472f3e(0x16a)),{v4:uuidv4}=require(a46_0x472f3e(0x165)),{TEMP_STORE_DIR_NAME}=require('../../../helpers/test-observability/constants'),{nestedKeyValue}=require('../../../helpers/helper'),logger=require('../../../helpers/logger')['winstonLogger'],{getLogDir}=require('../../../helpers/logger'),util=require(a46_0x472f3e(0x14b)),helper=require(a46_0x472f3e(0x175));class TestDetails{static [a46_0x472f3e(0x140)]={};static[a46_0x472f3e(0x15d)](){const _0x20ae0d=a46_0x472f3e;this['shutdown']();const _0x46eaaf={};_0x46eaaf[_0x20ae0d(0x16f)]=!![],fs[_0x20ae0d(0x121)](this['getDirPath'](),_0x46eaaf);const _0x57cf16={};_0x57cf16[_0x20ae0d(0x16f)]=!![],fs[_0x20ae0d(0x121)](this[_0x20ae0d(0x167)](),_0x57cf16);}static['getStoreDirName'](){const _0x570e29=a46_0x472f3e,_0x11faff={};_0x11faff[_0x570e29(0x13f)]=function(_0x1e4c74,_0x37041c){return _0x1e4c74+_0x37041c;},_0x11faff[_0x570e29(0x11e)]=function(_0x57214c,_0x3f3f96){return _0x57214c+_0x3f3f96;};const _0x591beb=_0x11faff;return _0x591beb[_0x570e29(0x13f)](_0x591beb[_0x570e29(0x11e)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x570e29(0x119)]);}static[a46_0x472f3e(0x11a)](){const _0x12571d=a46_0x472f3e,_0xc153af={};_0xc153af[_0x12571d(0x137)]=function(_0x1e78a4,_0x34e1ca){return _0x1e78a4+_0x34e1ca;},_0xc153af['OmEFE']=_0x12571d(0x145);const _0x53b22f=_0xc153af;return path['join'](_0x53b22f[_0x12571d(0x137)](_0x53b22f[_0x12571d(0x137)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x12571d(0x119)]||_0x53b22f[_0x12571d(0x15a)]));}static[a46_0x472f3e(0x167)](){const _0x38e2dd=a46_0x472f3e,_0x41f7a1={};_0x41f7a1[_0x38e2dd(0x11d)]=_0x38e2dd(0x142);const _0x13295d=_0x41f7a1;return path[_0x38e2dd(0x12a)](this['getStoreDirPath'](),_0x13295d['qZyBb']);}static[a46_0x472f3e(0x161)](){const _0x43c14a=a46_0x472f3e;return TestDetails[_0x43c14a(0x138)]();}static[a46_0x472f3e(0x139)](_0x15e314){const _0x2660b7=a46_0x472f3e,_0x464f33={};_0x464f33[_0x2660b7(0x169)]=function(_0x1573b2,_0xa61a1c){return _0x1573b2+_0xa61a1c;},_0x464f33[_0x2660b7(0x16b)]=_0x2660b7(0x14e);const _0x5b8b2c=_0x464f33;return path['join'](this[_0x2660b7(0x161)](),_0x5b8b2c[_0x2660b7(0x169)](_0x15e314,_0x5b8b2c[_0x2660b7(0x16b)]));}static[a46_0x472f3e(0x14c)](_0x14770f){const _0x117e88=a46_0x472f3e,_0x3841d1={};_0x3841d1[_0x117e88(0x120)]=function(_0x23c45d,_0x5a8ec8){return _0x23c45d+_0x5a8ec8;},_0x3841d1[_0x117e88(0x173)]=function(_0x449f8c,_0x10dad7){return _0x449f8c+_0x10dad7;};const _0x2c5b27=_0x3841d1;return _0x2c5b27[_0x117e88(0x120)](_0x2c5b27['IlHWU'](_0x2c5b27[_0x117e88(0x173)](_0x2c5b27[_0x117e88(0x120)](this[_0x117e88(0x15e)](_0x14770f),'-'),this[_0x117e88(0x12f)](_0x14770f)),'-'),_0x14770f[_0x117e88(0x147)]);}static['getProjectIdFromTestInfo'](_0xd9a528){const _0x2b676f=a46_0x472f3e,_0x315618={'QTBvx':function(_0x55aa94,_0x374eb5,_0x23a88d){return _0x55aa94(_0x374eb5,_0x23a88d);},'JfSZM':_0x2b676f(0x171),'slSZv':'_projectId','EkoKc':_0x2b676f(0x141),'LBKsL':_0x2b676f(0x132)};return _0x315618[_0x2b676f(0x151)](nestedKeyValue,_0xd9a528,[_0x315618[_0x2b676f(0x130)],_0x315618[_0x2b676f(0x133)]])||_0x315618[_0x2b676f(0x151)](nestedKeyValue,_0xd9a528,[_0x315618['EkoKc'],_0x315618[_0x2b676f(0x15b)]]);}static[a46_0x472f3e(0x12f)](_0x18e0bc){const _0x3d0631=a46_0x472f3e,_0x237cc2={'fwNpt':function(_0x446319,_0x44509a,_0x152ec3){return _0x446319(_0x44509a,_0x152ec3);},'zfdqK':_0x3d0631(0x171)};return _0x237cc2[_0x3d0631(0x11f)](nestedKeyValue,_0x18e0bc,[_0x237cc2[_0x3d0631(0x136)],'id'])||_0x18e0bc[_0x3d0631(0x153)];}static[a46_0x472f3e(0x15c)](_0x39a5bd){const _0x5d607e=a46_0x472f3e,_0x382e1f={'zSCpa':function(_0x340a9e,_0x5f2df3){return _0x340a9e===_0x5f2df3;},'bgxRs':_0x5d607e(0x13a),'hYzJx':function(_0x20828e){return _0x20828e();}};if(this[_0x5d607e(0x140)][_0x39a5bd]&&_0x382e1f[_0x5d607e(0x129)](typeof this[_0x5d607e(0x140)][_0x39a5bd][_0x5d607e(0x165)],_0x382e1f[_0x5d607e(0x122)]))return this['tests'][_0x39a5bd][_0x5d607e(0x165)];const _0x3936fd=this[_0x5d607e(0x139)](_0x39a5bd);if(_0x3936fd&&fs['existsSync'](_0x3936fd)){const _0x4692c4=JSON[_0x5d607e(0x134)](fs['readFileSync'](_0x3936fd)['toString']());return this[_0x5d607e(0x140)][_0x39a5bd]=_0x4692c4,this[_0x5d607e(0x140)][_0x39a5bd][_0x5d607e(0x165)];}return this[_0x5d607e(0x140)][_0x39a5bd]={'uuid':_0x382e1f[_0x5d607e(0x162)](uuidv4)},fs['writeFileSync'](_0x3936fd,JSON['stringify'](this[_0x5d607e(0x140)][_0x39a5bd])),this[_0x5d607e(0x140)][_0x39a5bd][_0x5d607e(0x165)];}static['getAccessibilityPlatformValidation'](_0x2a51a6){const _0x46c919=a46_0x472f3e,_0x175c80=path[_0x46c919(0x12a)](this[_0x46c919(0x161)](),_0x2a51a6+_0x46c919(0x124));if(_0x175c80&&fs[_0x46c919(0x11b)](_0x175c80))return fs[_0x46c919(0x12c)](_0x175c80)['toString']();}static[a46_0x472f3e(0x158)](_0x13e3ef,_0x4b8ce6){const _0x2c1af5=a46_0x472f3e,_0x38eb01=path[_0x2c1af5(0x12a)](this[_0x2c1af5(0x161)](),_0x4b8ce6+'_platformDetails.json');fs[_0x2c1af5(0x11c)](_0x38eb01,_0x13e3ef[_0x2c1af5(0x16c)]());}static[a46_0x472f3e(0x144)](){const _0x7a105d=a46_0x472f3e,_0x6b615a={};_0x6b615a[_0x7a105d(0x16f)]=!![],_0x6b615a[_0x7a105d(0x159)]=!![],fs[_0x7a105d(0x16d)](this[_0x7a105d(0x161)](),_0x6b615a);}static[a46_0x472f3e(0x148)](_0x560f58){const _0x59f4c6=a46_0x472f3e;if(this[_0x59f4c6(0x140)][_0x560f58])return this[_0x59f4c6(0x140)][_0x560f58];const _0x58e159=this[_0x59f4c6(0x139)](_0x560f58);if(_0x58e159&&fs[_0x59f4c6(0x11b)](_0x58e159)){const _0x5802f2=JSON[_0x59f4c6(0x134)](fs['readFileSync'](_0x58e159)[_0x59f4c6(0x16c)]());return this[_0x59f4c6(0x140)][_0x560f58]=_0x5802f2,_0x5802f2;}return{};}static[a46_0x472f3e(0x155)](_0x4d465c,_0x2f3fa9){const _0xb33194=a46_0x472f3e,_0x565511=this['getFilePath'](_0x4d465c);if(_0x565511&&fs[_0xb33194(0x11b)](_0x565511)){const _0x47f220=JSON['parse'](fs[_0xb33194(0x12c)](_0x565511)[_0xb33194(0x16c)]()),_0x4b15fe={..._0x47f220,..._0x2f3fa9};this[_0xb33194(0x140)][_0x4d465c]=_0x4b15fe;}else this[_0xb33194(0x140)][_0x4d465c]=_0x2f3fa9;fs['writeFileSync'](_0x565511,this[_0xb33194(0x140)][_0x4d465c]);}static[a46_0x472f3e(0x166)](_0x53a3bd){const _0x432996=a46_0x472f3e,_0x1de6b6={};_0x1de6b6[_0x432996(0x127)]=_0x432996(0x156);const _0x4011a5=_0x1de6b6;try{const _0x4e46f4=process[_0x432996(0x125)],_0x3ba4a1=path[_0x432996(0x12a)](TestDetails[_0x432996(0x167)](),_0x4e46f4+_0x432996(0x152));let _0x149caf=[];_0x3ba4a1&&fs[_0x432996(0x11b)](_0x3ba4a1)&&(_0x149caf=JSON['parse'](fs[_0x432996(0x12c)](_0x3ba4a1)['toString']())),!_0x149caf['some'](_0x3bef77=>_0x3bef77[_0x432996(0x16e)]===_0x53a3bd[_0x432996(0x16e)])&&(_0x149caf['push'](_0x53a3bd),fs[_0x432996(0x11c)](_0x3ba4a1,JSON[_0x432996(0x157)](_0x149caf)));}catch(_0x45b906){logger[_0x432996(0x12e)](_0x4011a5[_0x432996(0x127)],_0x45b906);}}static[a46_0x472f3e(0x143)](){const _0x68517d=a46_0x472f3e,_0x2c0bd0={};_0x2c0bd0['XAZlN']=_0x68517d(0x152),_0x2c0bd0[_0x68517d(0x128)]=_0x68517d(0x168);const _0x3dc89b=_0x2c0bd0,_0x41a5dc=[];try{const _0x238681=TestDetails[_0x68517d(0x167)]();if(_0x238681&&!fs[_0x68517d(0x11b)](_0x238681))return _0x41a5dc;const _0x124573=fs[_0x68517d(0x172)](_0x238681);_0x124573[_0x68517d(0x126)](_0x5cbf71=>{const _0x5ecc08=_0x68517d;if(_0x5cbf71&&_0x5cbf71[_0x5ecc08(0x146)](_0x3dc89b[_0x5ecc08(0x149)])){const _0x530516=JSON[_0x5ecc08(0x134)](fs['readFileSync'](path[_0x5ecc08(0x12a)](_0x238681,_0x5cbf71))[_0x5ecc08(0x16c)]());_0x41a5dc['push'](..._0x530516);}});}catch(_0x2ab628){logger['error'](util['format'](_0x3dc89b[_0x68517d(0x128)],_0x2ab628));}const _0x12328d={};return _0x41a5dc['forEach'](_0x2bd43d=>{_0x12328d[_0x2bd43d['filePath']]=_0x2bd43d;}),Object[_0x68517d(0x13b)](_0x12328d);}static[a46_0x472f3e(0x15f)](_0x21fbad,_0x2e34d1){const _0x2286ed=a46_0x472f3e,_0x1bf50b={};_0x1bf50b[_0x2286ed(0x131)]='.browserstack',_0x1bf50b['eOqXa']=_0x2286ed(0x174);const _0x221c37=_0x1bf50b;try{const _0x5a8dea=path[_0x2286ed(0x12a)](helper[_0x2286ed(0x163)](),_0x221c37['qPsUy']);if(!fs[_0x2286ed(0x11b)](_0x5a8dea)){const _0xaf3512={};_0xaf3512['recursive']=!![],fs['mkdirSync'](_0x5a8dea,_0xaf3512);}fs['appendFileSync'](path['join'](_0x5a8dea,_0x2286ed(0x150)+_0x2e34d1+_0x2286ed(0x13d)),_0x21fbad+'\x0a',_0x221c37[_0x2286ed(0x164)]);}catch(_0x4a24f4){console[_0x2286ed(0x12e)](_0x2286ed(0x14d)+_0x4a24f4['message']);}}}module[a46_0x472f3e(0x12b)]=TestDetails;