const a42_0x5dca22=a42_0x210d;function a42_0x210d(_0x336fd3,_0x3a69e2){const _0x57a8c0=a42_0x57a8();return a42_0x210d=function(_0x210dbf,_0x3e201e){_0x210dbf=_0x210dbf-0x1d2;let _0x238de2=_0x57a8c0[_0x210dbf];return _0x238de2;},a42_0x210d(_0x336fd3,_0x3a69e2);}(function(_0x5d1dfb,_0x2bc7ba){const _0x1b78fd=a42_0x210d,_0x37eda9=_0x5d1dfb();while(!![]){try{const _0x483770=parseInt(_0x1b78fd(0x225))/0x1+parseInt(_0x1b78fd(0x21d))/0x2*(-parseInt(_0x1b78fd(0x1f5))/0x3)+parseInt(_0x1b78fd(0x21c))/0x4+parseInt(_0x1b78fd(0x207))/0x5*(-parseInt(_0x1b78fd(0x1e8))/0x6)+-parseInt(_0x1b78fd(0x226))/0x7+-parseInt(_0x1b78fd(0x218))/0x8*(-parseInt(_0x1b78fd(0x1e3))/0x9)+parseInt(_0x1b78fd(0x1d8))/0xa;if(_0x483770===_0x2bc7ba)break;else _0x37eda9['push'](_0x37eda9['shift']());}catch(_0x21bb76){_0x37eda9['push'](_0x37eda9['shift']());}}}(a42_0x57a8,0x84d51));const fs=require('fs'),path=require(a42_0x5dca22(0x22f)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require('../../../helpers/test-observability/constants'),{nestedKeyValue}=require(a42_0x5dca22(0x21b)),logger=require('../../../helpers/logger')['winstonLogger'],{getLogDir}=require(a42_0x5dca22(0x1e7)),util=require(a42_0x5dca22(0x1f4)),helper=require(a42_0x5dca22(0x21b));class TestDetails{static [a42_0x5dca22(0x1f9)]={};static['setup'](){const _0xf8a083=a42_0x5dca22;this[_0xf8a083(0x1ea)]();const _0x49bccf={};_0x49bccf[_0xf8a083(0x1d7)]=!![],fs[_0xf8a083(0x230)](this[_0xf8a083(0x22c)](),_0x49bccf);const _0x59bd12={};_0x59bd12[_0xf8a083(0x1d7)]=!![],fs[_0xf8a083(0x230)](this[_0xf8a083(0x1e6)](),_0x59bd12);}static[a42_0x5dca22(0x1ed)](){const _0x37ef50=a42_0x5dca22,_0x169e36={};_0x169e36[_0x37ef50(0x1f7)]=function(_0x4caf5d,_0x36ca6e){return _0x4caf5d+_0x36ca6e;},_0x169e36['tMYBi']=function(_0x50cf99,_0x7714b9){return _0x50cf99+_0x7714b9;};const _0x10a55e=_0x169e36;return _0x10a55e[_0x37ef50(0x1f7)](_0x10a55e[_0x37ef50(0x1ec)](TEMP_STORE_DIR_NAME,'-'),process[_0x37ef50(0x1e0)][_0x37ef50(0x1db)]);}static[a42_0x5dca22(0x203)](){const _0x174ccc=a42_0x5dca22,_0x5bcb37={'GGdmF':function(_0x23b81f){return _0x23b81f();},'ljDBD':function(_0x8e53fc,_0x4cf126){return _0x8e53fc+_0x4cf126;},'KeByK':_0x174ccc(0x1d9)};return path[_0x174ccc(0x1eb)](_0x5bcb37[_0x174ccc(0x1f2)](getLogDir),_0x5bcb37['ljDBD'](_0x5bcb37['ljDBD'](TEMP_STORE_DIR_NAME,'-'),process[_0x174ccc(0x1e0)][_0x174ccc(0x1db)]||_0x5bcb37[_0x174ccc(0x227)]));}static[a42_0x5dca22(0x1e6)](){const _0x2db747=a42_0x5dca22,_0x680012={};_0x680012[_0x2db747(0x223)]=_0x2db747(0x229);const _0x2cd3aa=_0x680012;return path[_0x2db747(0x1eb)](this[_0x2db747(0x203)](),_0x2cd3aa['izazk']);}static[a42_0x5dca22(0x22c)](){const _0x4b8798=a42_0x5dca22,_0x3f2d21={'YJrzN':function(_0x340464){return _0x340464();}};return path['join'](_0x3f2d21[_0x4b8798(0x213)](getLogDir),TestDetails[_0x4b8798(0x1ed)]());}static[a42_0x5dca22(0x1f6)](_0x4458df){const _0x49d9ef=a42_0x5dca22,_0x49a888={};_0x49a888['lmgTk']=function(_0xaa6676,_0x5bd670){return _0xaa6676+_0x5bd670;},_0x49a888[_0x49d9ef(0x1f1)]=_0x49d9ef(0x1d3);const _0x1c9033=_0x49a888;return path[_0x49d9ef(0x1eb)](this['getDirPath'](),_0x1c9033[_0x49d9ef(0x209)](_0x4458df,_0x1c9033[_0x49d9ef(0x1f1)]));}static[a42_0x5dca22(0x1fd)](_0xed45dd){const _0x8e8999=a42_0x5dca22,_0x23f63d={};_0x23f63d[_0x8e8999(0x1e1)]=function(_0x259c78,_0x3c9e11){return _0x259c78+_0x3c9e11;},_0x23f63d['QSAmn']=function(_0x55ecd4,_0x1fb94b){return _0x55ecd4+_0x1fb94b;},_0x23f63d[_0x8e8999(0x1d5)]=function(_0x2d48d1,_0x29320f){return _0x2d48d1+_0x29320f;};const _0x32eec4=_0x23f63d;return _0x32eec4[_0x8e8999(0x1e1)](_0x32eec4['CWwUh'](_0x32eec4['QSAmn'](_0x32eec4[_0x8e8999(0x1d5)](this[_0x8e8999(0x1dc)](_0xed45dd),'-'),this[_0x8e8999(0x1fc)](_0xed45dd)),'-'),_0xed45dd[_0x8e8999(0x1ff)]);}static[a42_0x5dca22(0x1dc)](_0x1e076d){const _0x1625e3=a42_0x5dca22,_0x2cf883={'uldgU':function(_0x40c9eb,_0x4aae16,_0x14327b){return _0x40c9eb(_0x4aae16,_0x14327b);},'EVqBp':'_test','knoym':_0x1625e3(0x201),'qbpzI':_0x1625e3(0x216),'EJHGz':_0x1625e3(0x22a)};return _0x2cf883[_0x1625e3(0x214)](nestedKeyValue,_0x1e076d,[_0x2cf883[_0x1625e3(0x221)],_0x2cf883[_0x1625e3(0x21a)]])||_0x2cf883['uldgU'](nestedKeyValue,_0x1e076d,[_0x2cf883['qbpzI'],_0x2cf883[_0x1625e3(0x228)]]);}static[a42_0x5dca22(0x1fc)](_0x578b70){const _0xc868a3=a42_0x5dca22,_0x2e6daf={'uQLNy':function(_0x2e5389,_0xe910b0,_0x3a21f7){return _0x2e5389(_0xe910b0,_0x3a21f7);},'cBWOH':_0xc868a3(0x20f)};return _0x2e6daf[_0xc868a3(0x22d)](nestedKeyValue,_0x578b70,[_0x2e6daf['cBWOH'],'id'])||_0x578b70[_0xc868a3(0x1fa)];}static[a42_0x5dca22(0x1ef)](_0x4b1869){const _0x464cf3=a42_0x5dca22,_0x1b22d5={'HxlNJ':function(_0x298ac,_0x32f081){return _0x298ac===_0x32f081;},'yTihw':_0x464cf3(0x220),'ifoiJ':function(_0xef812f){return _0xef812f();}};if(this[_0x464cf3(0x1f9)][_0x4b1869]&&_0x1b22d5[_0x464cf3(0x20b)](typeof this['tests'][_0x4b1869][_0x464cf3(0x1dd)],_0x1b22d5['yTihw']))return this['tests'][_0x4b1869][_0x464cf3(0x1dd)];const _0x24412e=this[_0x464cf3(0x1f6)](_0x4b1869);if(_0x24412e&&fs[_0x464cf3(0x212)](_0x24412e)){const _0x4eb870=JSON['parse'](fs['readFileSync'](_0x24412e)['toString']());return this['tests'][_0x4b1869]=_0x4eb870,this[_0x464cf3(0x1f9)][_0x4b1869][_0x464cf3(0x1dd)];}return this[_0x464cf3(0x1f9)][_0x4b1869]={'uuid':_0x1b22d5[_0x464cf3(0x208)](uuidv4)},fs[_0x464cf3(0x1d4)](_0x24412e,JSON[_0x464cf3(0x20d)](this[_0x464cf3(0x1f9)][_0x4b1869])),this[_0x464cf3(0x1f9)][_0x4b1869][_0x464cf3(0x1dd)];}static[a42_0x5dca22(0x1e5)](_0x2f59e9){const _0xcb20dd=a42_0x5dca22,_0x2c8706=path[_0xcb20dd(0x1eb)](this[_0xcb20dd(0x22c)](),_0x2f59e9+_0xcb20dd(0x210));if(_0x2c8706&&fs[_0xcb20dd(0x212)](_0x2c8706))return fs[_0xcb20dd(0x22e)](_0x2c8706)[_0xcb20dd(0x20e)]();}static[a42_0x5dca22(0x1da)](_0xd5f49,_0x1fde61){const _0x399924=a42_0x5dca22,_0x2f1723=path[_0x399924(0x1eb)](this[_0x399924(0x22c)](),_0x1fde61+_0x399924(0x210));fs[_0x399924(0x1d4)](_0x2f1723,_0xd5f49[_0x399924(0x20e)]());}static[a42_0x5dca22(0x1ea)](){const _0x55a427=a42_0x5dca22,_0x201ab8={};_0x201ab8[_0x55a427(0x1d7)]=!![],_0x201ab8[_0x55a427(0x1d2)]=!![],fs[_0x55a427(0x205)](this[_0x55a427(0x22c)](),_0x201ab8);}static[a42_0x5dca22(0x1fe)](_0x5834fc){const _0x43c817=a42_0x5dca22;if(this[_0x43c817(0x1f9)][_0x5834fc])return this[_0x43c817(0x1f9)][_0x5834fc];const _0x30b84f=this[_0x43c817(0x1f6)](_0x5834fc);if(_0x30b84f&&fs['existsSync'](_0x30b84f)){const _0x19a018=JSON[_0x43c817(0x20a)](fs['readFileSync'](_0x30b84f)[_0x43c817(0x20e)]());return this['tests'][_0x5834fc]=_0x19a018,_0x19a018;}return{};}static[a42_0x5dca22(0x22b)](_0xf2e880,_0x565615){const _0x272fca=a42_0x5dca22,_0x19beb1=this[_0x272fca(0x1f6)](_0xf2e880);if(_0x19beb1&&fs[_0x272fca(0x212)](_0x19beb1)){const _0x439c13=JSON[_0x272fca(0x20a)](fs[_0x272fca(0x22e)](_0x19beb1)[_0x272fca(0x20e)]()),_0x1396b6={..._0x439c13,..._0x565615};this[_0x272fca(0x1f9)][_0xf2e880]=_0x1396b6;}else this[_0x272fca(0x1f9)][_0xf2e880]=_0x565615;fs[_0x272fca(0x1d4)](_0x19beb1,this[_0x272fca(0x1f9)][_0xf2e880]);}static['addTraceFilePath'](_0x4d2504){const _0xa0a43a=a42_0x5dca22,_0x49d3ff={};_0x49d3ff[_0xa0a43a(0x1e2)]='Error\x20handling\x20trace\x20file\x20paths:\x20';const _0x90be5e=_0x49d3ff;try{const _0x330146=process[_0xa0a43a(0x200)],_0xc2e25a=path[_0xa0a43a(0x1eb)](TestDetails[_0xa0a43a(0x1e6)](),_0x330146+_0xa0a43a(0x1fb));let _0x3d58d5=[];_0xc2e25a&&fs[_0xa0a43a(0x212)](_0xc2e25a)&&(_0x3d58d5=JSON[_0xa0a43a(0x20a)](fs[_0xa0a43a(0x22e)](_0xc2e25a)[_0xa0a43a(0x20e)]())),!_0x3d58d5[_0xa0a43a(0x1e9)](_0x3b2996=>_0x3b2996[_0xa0a43a(0x211)]===_0x4d2504[_0xa0a43a(0x211)])&&(_0x3d58d5[_0xa0a43a(0x1df)](_0x4d2504),fs['writeFileSync'](_0xc2e25a,JSON[_0xa0a43a(0x20d)](_0x3d58d5)));}catch(_0x227a86){logger['error'](_0x90be5e['RGCxQ'],_0x227a86);}}static[a42_0x5dca22(0x1de)](){const _0x429395=a42_0x5dca22,_0x426b95={};_0x426b95[_0x429395(0x215)]=_0x429395(0x1fb),_0x426b95[_0x429395(0x219)]='Error\x20reading\x20trace\x20file\x20paths:\x20%s';const _0x1d182d=_0x426b95,_0x31fec4=[];try{const _0x366905=TestDetails[_0x429395(0x1e6)]();if(_0x366905&&!fs[_0x429395(0x212)](_0x366905))return _0x31fec4;const _0x350ea3=fs[_0x429395(0x204)](_0x366905);_0x350ea3['forEach'](_0x45bbf2=>{const _0x9212a=_0x429395;if(_0x45bbf2&&_0x45bbf2[_0x9212a(0x1f3)](_0x1d182d[_0x9212a(0x215)])){const _0x179ab4=JSON[_0x9212a(0x20a)](fs['readFileSync'](path['join'](_0x366905,_0x45bbf2))[_0x9212a(0x20e)]());_0x31fec4[_0x9212a(0x1df)](..._0x179ab4);}});}catch(_0x4b9cc5){logger[_0x429395(0x231)](util[_0x429395(0x21e)](_0x1d182d['RhEqX'],_0x4b9cc5));}const _0x1bdd48={};return _0x31fec4[_0x429395(0x20c)](_0x47c9f5=>{const _0x300c36=_0x429395;_0x1bdd48[_0x47c9f5[_0x300c36(0x211)]]=_0x47c9f5;}),Object[_0x429395(0x1e4)](_0x1bdd48);}static[a42_0x5dca22(0x222)](_0x448574,_0x2ebcc4){const _0xc5152c=a42_0x5dca22,_0x254501={};_0x254501[_0xc5152c(0x1ee)]=_0xc5152c(0x206),_0x254501['RnbHQ']=_0xc5152c(0x202);const _0x5379fe=_0x254501;try{const _0x518e01=path['join'](helper[_0xc5152c(0x1f0)](),_0x5379fe[_0xc5152c(0x1ee)]);if(!fs['existsSync'](_0x518e01)){const _0x2a0bfe={};_0x2a0bfe[_0xc5152c(0x1d7)]=!![],fs[_0xc5152c(0x230)](_0x518e01,_0x2a0bfe);}fs[_0xc5152c(0x224)](path[_0xc5152c(0x1eb)](_0x518e01,_0xc5152c(0x217)+_0x2ebcc4+_0xc5152c(0x1f8)),_0x448574+'\x0a',_0x5379fe[_0xc5152c(0x21f)]);}catch(_0x4a1c6e){console[_0xc5152c(0x231)]('Error\x20writing\x20trace\x20file:\x20'+_0x4a1c6e[_0xc5152c(0x1d6)]);}}}function a42_0x57a8(){const _0x3d6bb4=['push','env','CWwUh','RGCxQ','302193mdgRGs','values','getAccessibilityPlatformValidation','getTraceZipDir','../../../helpers/logger','6bqDFdv','some','shutdown','join','tMYBi','getStoreDirName','hEGlW','getTestUUID','homedir','IMHix','GGdmF','endsWith','util','6RKVAYa','getFilePath','McJJP','.txt','tests','testId','_traceZipPaths.json','getTestIdFromTestInfo','getTestRunIdFromTestInfo','getTestDetails','retry','pid','_projectId','utf8','getStoreDirPath','readdirSync','rmSync','.browserstack','1583405wKUnZF','ifoiJ','lmgTk','parse','HxlNJ','forEach','stringify','toString','_test','_platformDetails.json','filePath','existsSync','YJrzN','uldgU','vrUAC','project','trace_','8IFiBoZ','RhEqX','knoym','../../../helpers/helper','154764VSaiEj','280608mgBMCg','format','RnbHQ','string','EVqBp','appendToTracePaths','izazk','appendFileSync','449409HveiTR','4984336GBGqTE','KeByK','EJHGz','traceZipPaths','__projectId','setTestDetails','getDirPath','uQLNy','readFileSync','path','mkdirSync','error','force','.json','writeFileSync','ZpdJu','message','recursive','13317410GVMWZq','default','setAccessibilityPlatformValidation','BS_TESTOPS_BUILD_HASHED_ID','getProjectIdFromTestInfo','uuid','getTraceFilePaths'];a42_0x57a8=function(){return _0x3d6bb4;};return a42_0x57a8();}module['exports']=TestDetails;