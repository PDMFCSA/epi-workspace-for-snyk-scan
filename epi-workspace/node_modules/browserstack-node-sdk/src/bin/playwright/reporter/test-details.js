const a47_0x3b8da7=a47_0x19cc;(function(_0x2d2d9e,_0x4dd603){const _0x410adf=a47_0x19cc,_0xce4ea3=_0x2d2d9e();while(!![]){try{const _0x2db0df=-parseInt(_0x410adf(0x106))/0x1+parseInt(_0x410adf(0x12d))/0x2+parseInt(_0x410adf(0x131))/0x3+parseInt(_0x410adf(0x112))/0x4+parseInt(_0x410adf(0x10b))/0x5+-parseInt(_0x410adf(0xf5))/0x6*(-parseInt(_0x410adf(0x114))/0x7)+-parseInt(_0x410adf(0xf9))/0x8*(parseInt(_0x410adf(0xff))/0x9);if(_0x2db0df===_0x4dd603)break;else _0xce4ea3['push'](_0xce4ea3['shift']());}catch(_0x4a38ce){_0xce4ea3['push'](_0xce4ea3['shift']());}}}(a47_0x4532,0xecaeb));const fs=require('fs'),path=require(a47_0x3b8da7(0x12a)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require('../../../helpers/test-observability/constants'),{nestedKeyValue}=require(a47_0x3b8da7(0x11b)),logger=require('../../../helpers/logger')[a47_0x3b8da7(0x115)],{getLogDir}=require(a47_0x3b8da7(0xf7)),util=require('util'),helper=require(a47_0x3b8da7(0x11b));class TestDetails{static [a47_0x3b8da7(0x130)]={};static['setup'](){const _0x5590d2=a47_0x3b8da7;this[_0x5590d2(0xec)]();const _0x6ba2c0={};_0x6ba2c0[_0x5590d2(0x126)]=!![],fs[_0x5590d2(0x119)](this[_0x5590d2(0xfe)](),_0x6ba2c0);const _0x275343={};_0x275343[_0x5590d2(0x126)]=!![],fs[_0x5590d2(0x119)](this[_0x5590d2(0x120)](),_0x275343);}static[a47_0x3b8da7(0x121)](){const _0x59de1e=a47_0x3b8da7,_0x4c788c={};_0x4c788c['Ssayw']=function(_0x111f02,_0x5e43ee){return _0x111f02+_0x5e43ee;};const _0xfcc2cb=_0x4c788c;return _0xfcc2cb[_0x59de1e(0xeb)](_0xfcc2cb['Ssayw'](TEMP_STORE_DIR_NAME,'-'),process[_0x59de1e(0xf3)][_0x59de1e(0x104)]);}static['getStoreDirPath'](){const _0x5168bb=a47_0x3b8da7,_0xf6330d={};_0xf6330d[_0x5168bb(0xed)]=function(_0x3938b7,_0x322e6e){return _0x3938b7+_0x322e6e;},_0xf6330d['ITNdd']=function(_0x1659dc,_0x271304){return _0x1659dc+_0x271304;},_0xf6330d['LZRAj']=_0x5168bb(0xea);const _0x33a331=_0xf6330d;return path[_0x5168bb(0xf8)](_0x33a331['gCOsL'](_0x33a331[_0x5168bb(0x12b)](TEMP_STORE_DIR_NAME,'-'),process[_0x5168bb(0xf3)]['BS_TESTOPS_BUILD_HASHED_ID']||_0x33a331['LZRAj']));}static[a47_0x3b8da7(0x120)](){const _0x37f1a3=a47_0x3b8da7,_0x1c3898={};_0x1c3898[_0x37f1a3(0x129)]=_0x37f1a3(0x10a);const _0x1825ed=_0x1c3898;return path['join'](this[_0x37f1a3(0x11f)](),_0x1825ed[_0x37f1a3(0x129)]);}static[a47_0x3b8da7(0xfe)](){const _0xb612a0=a47_0x3b8da7;return TestDetails[_0xb612a0(0x121)]();}static[a47_0x3b8da7(0xe2)](_0x5a6cf4){const _0x5d6537=a47_0x3b8da7,_0x43d9d0={};_0x43d9d0[_0x5d6537(0xdf)]=function(_0x1bc49e,_0x3eb72a){return _0x1bc49e+_0x3eb72a;},_0x43d9d0['opaub']='.json';const _0x300b06=_0x43d9d0;return path[_0x5d6537(0xf8)](this['getDirPath'](),_0x300b06[_0x5d6537(0xdf)](_0x5a6cf4,_0x300b06[_0x5d6537(0x12f)]));}static[a47_0x3b8da7(0x110)](_0xaa81aa){const _0x1a65d2=a47_0x3b8da7,_0x934513={};_0x934513[_0x1a65d2(0x105)]=function(_0x5c498f,_0x5da3ce){return _0x5c498f+_0x5da3ce;},_0x934513[_0x1a65d2(0xfd)]=function(_0x4bb48d,_0x30935c){return _0x4bb48d+_0x30935c;};const _0x2cb10c=_0x934513;return _0x2cb10c[_0x1a65d2(0x105)](_0x2cb10c[_0x1a65d2(0x105)](_0x2cb10c[_0x1a65d2(0xfd)](_0x2cb10c[_0x1a65d2(0xfd)](this[_0x1a65d2(0x101)](_0xaa81aa),'-'),this[_0x1a65d2(0x125)](_0xaa81aa)),'-'),_0xaa81aa[_0x1a65d2(0xef)]);}static[a47_0x3b8da7(0x101)](_0x46ddf3){const _0x10cbd0=a47_0x3b8da7,_0x4efd84={'HPmSB':function(_0x295489,_0x30021f,_0x17df4c){return _0x295489(_0x30021f,_0x17df4c);},'vuJyg':_0x10cbd0(0x107),'lrhdY':_0x10cbd0(0xe4),'YIJvO':'project','iSFLs':_0x10cbd0(0x12c)};return _0x4efd84['HPmSB'](nestedKeyValue,_0x46ddf3,[_0x4efd84[_0x10cbd0(0x128)],_0x4efd84[_0x10cbd0(0xe5)]])||_0x4efd84[_0x10cbd0(0xfc)](nestedKeyValue,_0x46ddf3,[_0x4efd84[_0x10cbd0(0x10f)],_0x4efd84[_0x10cbd0(0x113)]]);}static[a47_0x3b8da7(0x125)](_0x5d504f){const _0x4fb98e=a47_0x3b8da7,_0x3d81c7={'kelnK':function(_0xfd5e4e,_0x76769a,_0x48c1af){return _0xfd5e4e(_0x76769a,_0x48c1af);},'HrBoc':_0x4fb98e(0x107)};return _0x3d81c7[_0x4fb98e(0xe9)](nestedKeyValue,_0x5d504f,[_0x3d81c7[_0x4fb98e(0x118)],'id'])||_0x5d504f['testId'];}static[a47_0x3b8da7(0x111)](_0x18bd5e){const _0x4263a7=a47_0x3b8da7,_0x17ed56={'wtdyX':function(_0x40a869,_0x4da52e){return _0x40a869===_0x4da52e;},'dgnbL':_0x4263a7(0xe6),'YlhiJ':function(_0xa55eab){return _0xa55eab();}};if(this[_0x4263a7(0x130)][_0x18bd5e]&&_0x17ed56['wtdyX'](typeof this[_0x4263a7(0x130)][_0x18bd5e][_0x4263a7(0x116)],_0x17ed56['dgnbL']))return this[_0x4263a7(0x130)][_0x18bd5e][_0x4263a7(0x116)];const _0x136779=this['getFilePath'](_0x18bd5e);if(_0x136779&&fs[_0x4263a7(0x11e)](_0x136779)){const _0x3089ea=JSON[_0x4263a7(0xf2)](fs[_0x4263a7(0x11a)](_0x136779)['toString']());return this[_0x4263a7(0x130)][_0x18bd5e]=_0x3089ea,this[_0x4263a7(0x130)][_0x18bd5e][_0x4263a7(0x116)];}return this[_0x4263a7(0x130)][_0x18bd5e]={'uuid':_0x17ed56[_0x4263a7(0xe8)](uuidv4)},fs[_0x4263a7(0x103)](_0x136779,JSON['stringify'](this['tests'][_0x18bd5e])),this[_0x4263a7(0x130)][_0x18bd5e][_0x4263a7(0x116)];}static[a47_0x3b8da7(0x122)](_0x2090d1){const _0x2b67d3=a47_0x3b8da7,_0x4068aa=path[_0x2b67d3(0xf8)](this['getDirPath'](),_0x2090d1+_0x2b67d3(0x10d));if(_0x4068aa&&fs[_0x2b67d3(0x11e)](_0x4068aa))return fs['readFileSync'](_0x4068aa)[_0x2b67d3(0x127)]();}static[a47_0x3b8da7(0xf1)](_0x1c6cb2,_0x547429){const _0x5e9680=a47_0x3b8da7,_0xfd9ba7=path[_0x5e9680(0xf8)](this[_0x5e9680(0xfe)](),_0x547429+_0x5e9680(0x10d));fs[_0x5e9680(0x103)](_0xfd9ba7,_0x1c6cb2[_0x5e9680(0x127)]());}static[a47_0x3b8da7(0xec)](){const _0x13d1f7=a47_0x3b8da7,_0x4ac18e={};_0x4ac18e['recursive']=!![],_0x4ac18e[_0x13d1f7(0xfb)]=!![],fs['rmSync'](this[_0x13d1f7(0xfe)](),_0x4ac18e);}static['getTestDetails'](_0x552d76){const _0x46ff45=a47_0x3b8da7;if(this['tests'][_0x552d76])return this[_0x46ff45(0x130)][_0x552d76];const _0x4032f2=this[_0x46ff45(0xe2)](_0x552d76);if(_0x4032f2&&fs[_0x46ff45(0x11e)](_0x4032f2)){const _0x420fb3=JSON[_0x46ff45(0xf2)](fs[_0x46ff45(0x11a)](_0x4032f2)['toString']());return this[_0x46ff45(0x130)][_0x552d76]=_0x420fb3,_0x420fb3;}return{};}static[a47_0x3b8da7(0xf4)](_0x1922e2,_0x1d42e8){const _0x22c66f=a47_0x3b8da7,_0x572e41=this[_0x22c66f(0xe2)](_0x1922e2);if(_0x572e41&&fs[_0x22c66f(0x11e)](_0x572e41)){const _0x534909=JSON[_0x22c66f(0xf2)](fs[_0x22c66f(0x11a)](_0x572e41)[_0x22c66f(0x127)]()),_0x431666={..._0x534909,..._0x1d42e8};this['tests'][_0x1922e2]=_0x431666;}else this[_0x22c66f(0x130)][_0x1922e2]=_0x1d42e8;fs[_0x22c66f(0x103)](_0x572e41,this[_0x22c66f(0x130)][_0x1922e2]);}static[a47_0x3b8da7(0xe0)](_0x5e3c1b){const _0xbffa65=a47_0x3b8da7,_0x5aa37c={};_0x5aa37c[_0xbffa65(0xe7)]='Error\x20handling\x20trace\x20file\x20paths:\x20';const _0x33d962=_0x5aa37c;try{const _0x415947=process[_0xbffa65(0x10e)],_0x5c8e30=path[_0xbffa65(0xf8)](TestDetails['getTraceZipDir'](),_0x415947+_0xbffa65(0x11d));let _0xa91f0e=[];_0x5c8e30&&fs['existsSync'](_0x5c8e30)&&(_0xa91f0e=JSON[_0xbffa65(0xf2)](fs['readFileSync'](_0x5c8e30)[_0xbffa65(0x127)]())),!_0xa91f0e['some'](_0x556f9c=>_0x556f9c[_0xbffa65(0xf6)]===_0x5e3c1b['filePath'])&&(_0xa91f0e[_0xbffa65(0xe3)](_0x5e3c1b),fs[_0xbffa65(0x103)](_0x5c8e30,JSON['stringify'](_0xa91f0e)));}catch(_0x5ae508){logger[_0xbffa65(0x10c)](_0x33d962[_0xbffa65(0xe7)],_0x5ae508);}}static[a47_0x3b8da7(0x117)](){const _0x33e3d9=a47_0x3b8da7,_0x54f23b={};_0x54f23b['dtgvL']=_0x33e3d9(0x11d),_0x54f23b['oUbct']=_0x33e3d9(0x100);const _0x257ab8=_0x54f23b,_0x2287fa=[];try{const _0x5252b2=TestDetails['getTraceZipDir']();if(_0x5252b2&&!fs[_0x33e3d9(0x11e)](_0x5252b2))return _0x2287fa;const _0x273e13=fs[_0x33e3d9(0x123)](_0x5252b2);_0x273e13[_0x33e3d9(0xf0)](_0x487624=>{const _0x1cbaa9=_0x33e3d9;if(_0x487624&&_0x487624[_0x1cbaa9(0xee)](_0x257ab8[_0x1cbaa9(0x124)])){const _0x321d1f=JSON[_0x1cbaa9(0xf2)](fs[_0x1cbaa9(0x11a)](path['join'](_0x5252b2,_0x487624))[_0x1cbaa9(0x127)]());_0x2287fa[_0x1cbaa9(0xe3)](..._0x321d1f);}});}catch(_0xb3bace){logger[_0x33e3d9(0x10c)](util[_0x33e3d9(0x12e)](_0x257ab8[_0x33e3d9(0xfa)],_0xb3bace));}const _0x1ba4e6={};return _0x2287fa[_0x33e3d9(0xf0)](_0x3d433b=>{_0x1ba4e6[_0x3d433b['filePath']]=_0x3d433b;}),Object['values'](_0x1ba4e6);}static['appendToTracePaths'](_0x1f9185,_0x210ca3){const _0x475f0b=a47_0x3b8da7,_0x391b06={};_0x391b06[_0x475f0b(0x102)]='.browserstack',_0x391b06[_0x475f0b(0x109)]='utf8';const _0x4060ce=_0x391b06;try{const _0x56b39f=path['join'](helper['homedir'](),_0x4060ce[_0x475f0b(0x102)]);if(!fs[_0x475f0b(0x11e)](_0x56b39f)){const _0x5f0784={};_0x5f0784[_0x475f0b(0x126)]=!![],fs['mkdirSync'](_0x56b39f,_0x5f0784);}fs['appendFileSync'](path[_0x475f0b(0xf8)](_0x56b39f,_0x475f0b(0x108)+_0x210ca3+'.txt'),_0x1f9185+'\x0a',_0x4060ce['CGqgH']);}catch(_0xd801c5){console['error'](_0x475f0b(0xe1)+_0xd801c5[_0x475f0b(0x11c)]);}}}function a47_0x19cc(_0x4351f6,_0x373a64){const _0x4532b5=a47_0x4532();return a47_0x19cc=function(_0x19ccc0,_0x5e8ebf){_0x19ccc0=_0x19ccc0-0xdf;let _0x4c9838=_0x4532b5[_0x19ccc0];return _0x4c9838;},a47_0x19cc(_0x4351f6,_0x373a64);}module['exports']=TestDetails;function a47_0x4532(){const _0x4c85f8=['addTraceFilePath','Error\x20writing\x20trace\x20file:\x20','getFilePath','push','_projectId','lrhdY','string','azsKV','YlhiJ','kelnK','default','Ssayw','shutdown','gCOsL','endsWith','retry','forEach','setAccessibilityPlatformValidation','parse','env','setTestDetails','6RKFCas','filePath','../../../helpers/logger','join','40zvbCBV','oUbct','force','HPmSB','eVJRt','getDirPath','4766292iBPVVh','Error\x20reading\x20trace\x20file\x20paths:\x20%s','getProjectIdFromTestInfo','dLcGj','writeFileSync','BS_TESTOPS_BUILD_HASHED_ID','FBAtb','1779774JLNGqh','_test','trace_','CGqgH','traceZipPaths','9510785OSKyZG','error','_platformDetails.json','pid','YIJvO','getTestRunIdFromTestInfo','getTestUUID','3244176KDOfzG','iSFLs','8493443aRKNNz','winstonLogger','uuid','getTraceFilePaths','HrBoc','mkdirSync','readFileSync','../../../helpers/helper','message','_traceZipPaths.json','existsSync','getStoreDirPath','getTraceZipDir','getStoreDirName','getAccessibilityPlatformValidation','readdirSync','dtgvL','getTestIdFromTestInfo','recursive','toString','vuJyg','yEYng','path','ITNdd','__projectId','1705498RhSHCe','format','opaub','tests','1853598ugnefh','GjwRp'];a47_0x4532=function(){return _0x4c85f8;};return a47_0x4532();}