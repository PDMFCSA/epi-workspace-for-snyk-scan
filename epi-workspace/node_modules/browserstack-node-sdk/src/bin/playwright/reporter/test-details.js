const a42_0x2f9e61=a42_0x5cbb;(function(_0x498c3f,_0x29fdde){const _0x2dacbd=a42_0x5cbb,_0x2aa95f=_0x498c3f();while(!![]){try{const _0x35b4b0=parseInt(_0x2dacbd(0x8b))/0x1+-parseInt(_0x2dacbd(0x87))/0x2+-parseInt(_0x2dacbd(0xb3))/0x3+parseInt(_0x2dacbd(0xa8))/0x4+parseInt(_0x2dacbd(0xdb))/0x5+-parseInt(_0x2dacbd(0x9f))/0x6+parseInt(_0x2dacbd(0xbd))/0x7;if(_0x35b4b0===_0x29fdde)break;else _0x2aa95f['push'](_0x2aa95f['shift']());}catch(_0x2b8222){_0x2aa95f['push'](_0x2aa95f['shift']());}}}(a42_0x15bc,0x5599c));function a42_0x5cbb(_0x2456c1,_0x136c5a){const _0x15bcfd=a42_0x15bc();return a42_0x5cbb=function(_0x5cbbfb,_0x52563d){_0x5cbbfb=_0x5cbbfb-0x86;let _0x4f68db=_0x15bcfd[_0x5cbbfb];return _0x4f68db;},a42_0x5cbb(_0x2456c1,_0x136c5a);}function a42_0x15bc(){const _0x2cefd0=['getProjectIdFromTestInfo','pkpXs','SoKFh','setup','_projectId','RsMMg','testId','trace_','appendToTracePaths','setAccessibilityPlatformValidation','.txt','qKpDU','RLqNa','../../../helpers/helper','_test','getStoreDirName','recursive','BTark','existsSync','dirPath','atRhr','tests','2475680IqaxSa','NPHTn','fbyVV','.browserstack','HxIMV','path','Error\x20reading\x20trace\x20file\x20paths:\x20%s','getTestUUID','../../../helpers/logger','util','setTestDetails','pid','lvuCA','eItmT','message','782760NTwOTx','join','_platformDetails.json','traceZipPaths','166627MDSwVv','split','getAccessibilityPlatformValidation','uwMHW','uuid','some','format','traceZipDir','getTestDetails','filePath','retry','values','pjoJN','cwd','stringify','forEach','vgnwD','getTraceFilePaths','getStoreDirPath','parse','944424qSqTZC','exports','KZgLY','winstonLogger','shutdown','.json','xBwiZ','vQsrm','_traceZipPaths.json','2503288amirKl','readFileSync','mkdirSync','endsWith','toString','dBkha','BgtoH','BS_TESTOPS_BUILD_HASHED_ID','__projectId','getTestIdFromTestInfo','getTestRunIdFromTestInfo','1891188wfczFf','axxWK','addTraceFilePath','writeFileSync','push','env','default','error','GGvvr','sErui','1695505DBtPnS','getTraceZipDir','rmSync','3|2|0|1|4','force','Error\x20writing\x20trace\x20file:\x20','getFilePath','../../../helpers/test-observability/constants'];a42_0x15bc=function(){return _0x2cefd0;};return a42_0x15bc();}const fs=require('fs'),path=require(a42_0x2f9e61(0xe0)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require(a42_0x2f9e61(0xc4)),{nestedKeyValue}=require(a42_0x2f9e61(0xd2)),logger=require(a42_0x2f9e61(0xe3))[a42_0x2f9e61(0xa2)],util=require(a42_0x2f9e61(0xe4)),helper=require(a42_0x2f9e61(0xd2));class TestDetails{static [a42_0x2f9e61(0xda)]={};static [a42_0x2f9e61(0xd8)]=path[a42_0x2f9e61(0x88)](process[a42_0x2f9e61(0x98)](),TestDetails[a42_0x2f9e61(0xd4)]());static [a42_0x2f9e61(0x92)]=path[a42_0x2f9e61(0x88)](TestDetails['dirPath'],'traceZipPaths');static[a42_0x2f9e61(0xc8)](){const _0x150498=a42_0x2f9e61,_0x4b7961={};_0x4b7961[_0x150498(0xa1)]=_0x150498(0xc0),_0x4b7961[_0x150498(0x8e)]='traceZipPaths';const _0x316cc7=_0x4b7961,_0x4ac4a8=_0x316cc7['KZgLY'][_0x150498(0x8c)]('|');let _0x20ce40=0x0;while(!![]){switch(_0x4ac4a8[_0x20ce40++]){case'0':this[_0x150498(0xa3)]();continue;case'1':const _0x2ad19c={};_0x2ad19c[_0x150498(0xd5)]=!![],fs[_0x150498(0xaa)](this[_0x150498(0xd8)],_0x2ad19c);continue;case'2':this[_0x150498(0x92)]=path[_0x150498(0x88)](this['dirPath'],_0x316cc7['uwMHW']);continue;case'3':this[_0x150498(0xd8)]=path[_0x150498(0x88)](process[_0x150498(0x98)](),TestDetails['getStoreDirName']());continue;case'4':const _0x409216={};_0x409216[_0x150498(0xd5)]=!![],fs[_0x150498(0xaa)](this[_0x150498(0x92)],_0x409216);continue;}break;}}static[a42_0x2f9e61(0xd4)](){const _0x4c524c=a42_0x2f9e61,_0x15c7c4={};_0x15c7c4[_0x4c524c(0xdd)]=function(_0x139c2b,_0x381632){return _0x139c2b+_0x381632;},_0x15c7c4['lvuCA']=function(_0x445aa8,_0x3835f6){return _0x445aa8+_0x3835f6;};const _0x231f18=_0x15c7c4;return _0x231f18['fbyVV'](_0x231f18[_0x4c524c(0xe7)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x4c524c(0xaf)]);}static[a42_0x2f9e61(0x9d)](){const _0x4d3133=a42_0x2f9e61,_0x1f4ba4={};_0x1f4ba4[_0x4d3133(0xdf)]=function(_0x5eafa8,_0x2bda24){return _0x5eafa8+_0x2bda24;},_0x1f4ba4[_0x4d3133(0xbb)]=function(_0xf1c880,_0x96d531){return _0xf1c880+_0x96d531;},_0x1f4ba4['ZzyqR']=_0x4d3133(0xb9);const _0x19ac52=_0x1f4ba4;return path[_0x4d3133(0x88)](process[_0x4d3133(0x98)](),_0x19ac52[_0x4d3133(0xdf)](_0x19ac52[_0x4d3133(0xbb)](TEMP_STORE_DIR_NAME,'-'),process[_0x4d3133(0xb8)]['BS_TESTOPS_BUILD_HASHED_ID']||_0x19ac52['ZzyqR']));}static['getTraceZipDir'](){const _0x58a204=a42_0x2f9e61,_0x4702a6={};_0x4702a6['eItmT']=_0x58a204(0x8a);const _0xee39fb=_0x4702a6;return path['join'](this[_0x58a204(0x9d)](),_0xee39fb[_0x58a204(0xe8)]);}static[a42_0x2f9e61(0xc3)](_0xf30d41){const _0x4caf71=a42_0x2f9e61,_0x40d229={};_0x40d229[_0x4caf71(0xd6)]=function(_0x304d89,_0x3d74a9){return _0x304d89+_0x3d74a9;},_0x40d229['pkpXs']=_0x4caf71(0xa4);const _0x4bf0ce=_0x40d229;return path[_0x4caf71(0x88)](this[_0x4caf71(0xd8)],_0x4bf0ce['BTark'](_0xf30d41,_0x4bf0ce[_0x4caf71(0xc6)]));}static[a42_0x2f9e61(0xb2)](_0x14b9c8){const _0xcd7297=a42_0x2f9e61,_0x2b0b49={};_0x2b0b49['sErui']=function(_0x110e41,_0x524e85){return _0x110e41+_0x524e85;};const _0x1907c3=_0x2b0b49;return _0x1907c3[_0xcd7297(0xbc)](_0x1907c3[_0xcd7297(0xbc)](_0x1907c3['sErui'](_0x1907c3[_0xcd7297(0xbc)](this[_0xcd7297(0xc5)](_0x14b9c8),'-'),this[_0xcd7297(0xb1)](_0x14b9c8)),'-'),_0x14b9c8[_0xcd7297(0x95)]);}static['getProjectIdFromTestInfo'](_0x52531b){const _0x4bb612=a42_0x2f9e61,_0x53fe4a={'Wotqp':function(_0x2db2db,_0x1352d1,_0xc8cbe8){return _0x2db2db(_0x1352d1,_0xc8cbe8);},'BgtoH':'_test','SoKFh':_0x4bb612(0xc9),'xBwiZ':'project','vgnwD':_0x4bb612(0xb0)};return _0x53fe4a['Wotqp'](nestedKeyValue,_0x52531b,[_0x53fe4a[_0x4bb612(0xae)],_0x53fe4a[_0x4bb612(0xc7)]])||_0x53fe4a['Wotqp'](nestedKeyValue,_0x52531b,[_0x53fe4a[_0x4bb612(0xa5)],_0x53fe4a[_0x4bb612(0x9b)]]);}static[a42_0x2f9e61(0xb1)](_0x1052ba){const _0x2a7043=a42_0x2f9e61,_0x8b443e={'qKpDU':function(_0x322a6c,_0x167890,_0x15ec28){return _0x322a6c(_0x167890,_0x15ec28);},'RLqNa':_0x2a7043(0xd3)};return _0x8b443e[_0x2a7043(0xd0)](nestedKeyValue,_0x1052ba,[_0x8b443e[_0x2a7043(0xd1)],'id'])||_0x1052ba[_0x2a7043(0xcb)];}static[a42_0x2f9e61(0xe2)](_0x40611d){const _0x29258f=a42_0x2f9e61,_0x532ca5={'axxWK':function(_0x3e7431,_0xa378d2){return _0x3e7431===_0xa378d2;},'AjEWd':'string','dBkha':function(_0x40f031){return _0x40f031();}};if(this[_0x29258f(0xda)][_0x40611d]&&_0x532ca5[_0x29258f(0xb4)](typeof this[_0x29258f(0xda)][_0x40611d][_0x29258f(0x8f)],_0x532ca5['AjEWd']))return this[_0x29258f(0xda)][_0x40611d]['uuid'];const _0x47b9d4=this[_0x29258f(0xc3)](_0x40611d);if(_0x47b9d4&&fs[_0x29258f(0xd7)](_0x47b9d4)){const _0x225e2c=JSON[_0x29258f(0x9e)](fs[_0x29258f(0xa9)](_0x47b9d4)['toString']());return this[_0x29258f(0xda)][_0x40611d]=_0x225e2c,this['tests'][_0x40611d][_0x29258f(0x8f)];}return this[_0x29258f(0xda)][_0x40611d]={'uuid':_0x532ca5[_0x29258f(0xad)](uuidv4)},fs[_0x29258f(0xb6)](_0x47b9d4,JSON[_0x29258f(0x99)](this[_0x29258f(0xda)][_0x40611d])),this[_0x29258f(0xda)][_0x40611d][_0x29258f(0x8f)];}static[a42_0x2f9e61(0x8d)](_0x462c13){const _0x35bacc=a42_0x2f9e61,_0x2ccc6d=path[_0x35bacc(0x88)](this[_0x35bacc(0xd8)],_0x462c13+'_platformDetails.json');if(_0x2ccc6d&&fs['existsSync'](_0x2ccc6d))return fs[_0x35bacc(0xa9)](_0x2ccc6d)[_0x35bacc(0xac)]();}static[a42_0x2f9e61(0xce)](_0x272279,_0x3aa997){const _0x196419=a42_0x2f9e61,_0x557107=path[_0x196419(0x88)](this['dirPath'],_0x3aa997+_0x196419(0x89));fs[_0x196419(0xb6)](_0x557107,_0x272279[_0x196419(0xac)]());}static[a42_0x2f9e61(0xa3)](){const _0x28fc1b=a42_0x2f9e61,_0x10d01d={};_0x10d01d[_0x28fc1b(0xd5)]=!![],_0x10d01d[_0x28fc1b(0xc1)]=!![],fs[_0x28fc1b(0xbf)](this[_0x28fc1b(0xd8)],_0x10d01d);}static[a42_0x2f9e61(0x93)](_0x5e58f8){const _0x28ad0b=a42_0x2f9e61;if(this[_0x28ad0b(0xda)][_0x5e58f8])return this[_0x28ad0b(0xda)][_0x5e58f8];const _0x16b887=this['getFilePath'](_0x5e58f8);if(_0x16b887&&fs[_0x28ad0b(0xd7)](_0x16b887)){const _0x12150b=JSON[_0x28ad0b(0x9e)](fs['readFileSync'](_0x16b887)[_0x28ad0b(0xac)]());return this['tests'][_0x5e58f8]=_0x12150b,_0x12150b;}return{};}static[a42_0x2f9e61(0xe5)](_0x4018de,_0x23f3cc){const _0x5773e2=a42_0x2f9e61,_0x28b2c8=this[_0x5773e2(0xc3)](_0x4018de);if(_0x28b2c8&&fs[_0x5773e2(0xd7)](_0x28b2c8)){const _0xa85f3e=JSON[_0x5773e2(0x9e)](fs[_0x5773e2(0xa9)](_0x28b2c8)[_0x5773e2(0xac)]()),_0x4a1c4c={..._0xa85f3e,..._0x23f3cc};this[_0x5773e2(0xda)][_0x4018de]=_0x4a1c4c;}else this['tests'][_0x4018de]=_0x23f3cc;fs[_0x5773e2(0xb6)](_0x28b2c8,this[_0x5773e2(0xda)][_0x4018de]);}static[a42_0x2f9e61(0xb5)](_0x541e34){const _0x4d7470=a42_0x2f9e61,_0x3ac404={};_0x3ac404[_0x4d7470(0xca)]='Error\x20handling\x20trace\x20file\x20paths:\x20';const _0x5bbf18=_0x3ac404;try{const _0x1c52b3=process[_0x4d7470(0xe6)],_0x4c71ac=path[_0x4d7470(0x88)](TestDetails[_0x4d7470(0xbe)](),_0x1c52b3+_0x4d7470(0xa7));let _0x4623ad=[];_0x4c71ac&&fs['existsSync'](_0x4c71ac)&&(_0x4623ad=JSON[_0x4d7470(0x9e)](fs['readFileSync'](_0x4c71ac)[_0x4d7470(0xac)]())),!_0x4623ad[_0x4d7470(0x90)](_0x4c8617=>_0x4c8617[_0x4d7470(0x94)]===_0x541e34[_0x4d7470(0x94)])&&(_0x4623ad['push'](_0x541e34),fs['writeFileSync'](_0x4c71ac,JSON[_0x4d7470(0x99)](_0x4623ad)));}catch(_0x598797){logger[_0x4d7470(0xba)](_0x5bbf18[_0x4d7470(0xca)],_0x598797);}}static[a42_0x2f9e61(0x9c)](){const _0x52f6b5=a42_0x2f9e61,_0x2d5b70={};_0x2d5b70[_0x52f6b5(0xa6)]='_traceZipPaths.json',_0x2d5b70[_0x52f6b5(0x97)]=_0x52f6b5(0xe1);const _0x39d278=_0x2d5b70,_0x4fb302=[];try{const _0x139887=TestDetails[_0x52f6b5(0xbe)]();if(_0x139887&&!fs[_0x52f6b5(0xd7)](_0x139887))return _0x4fb302;const _0x1639b8=fs['readdirSync'](_0x139887);_0x1639b8[_0x52f6b5(0x9a)](_0x1a0ed4=>{const _0x554fc4=_0x52f6b5;if(_0x1a0ed4&&_0x1a0ed4[_0x554fc4(0xab)](_0x39d278[_0x554fc4(0xa6)])){const _0x2d4d8e=JSON[_0x554fc4(0x9e)](fs['readFileSync'](path[_0x554fc4(0x88)](_0x139887,_0x1a0ed4))[_0x554fc4(0xac)]());_0x4fb302[_0x554fc4(0xb7)](..._0x2d4d8e);}});}catch(_0x5057bb){logger[_0x52f6b5(0xba)](util[_0x52f6b5(0x91)](_0x39d278[_0x52f6b5(0x97)],_0x5057bb));}const _0x5ba11a={};return _0x4fb302[_0x52f6b5(0x9a)](_0x51ab8c=>{const _0x50784b=_0x52f6b5;_0x5ba11a[_0x51ab8c[_0x50784b(0x94)]]=_0x51ab8c;}),Object[_0x52f6b5(0x96)](_0x5ba11a);}static[a42_0x2f9e61(0xcd)](_0x2108b3,_0x34d519){const _0x4337b4=a42_0x2f9e61,_0x10b099={};_0x10b099[_0x4337b4(0xdc)]=_0x4337b4(0xde),_0x10b099['atRhr']='utf8';const _0x3bebf1=_0x10b099;try{const _0x44d42e=path[_0x4337b4(0x88)](helper['homedir'](),_0x3bebf1[_0x4337b4(0xdc)]);if(!fs[_0x4337b4(0xd7)](_0x44d42e)){const _0xb3f450={};_0xb3f450['recursive']=!![],fs['mkdirSync'](_0x44d42e,_0xb3f450);}fs['appendFileSync'](path[_0x4337b4(0x88)](_0x44d42e,_0x4337b4(0xcc)+_0x34d519+_0x4337b4(0xcf)),_0x2108b3+'\x0a',_0x3bebf1[_0x4337b4(0xd9)]);}catch(_0x2ada49){console[_0x4337b4(0xba)](_0x4337b4(0xc2)+_0x2ada49[_0x4337b4(0x86)]);}}}module[a42_0x2f9e61(0xa0)]=TestDetails;