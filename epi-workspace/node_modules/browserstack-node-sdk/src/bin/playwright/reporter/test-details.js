const a43_0x5af602=a43_0x2ed8;(function(_0x5e1b49,_0x62867e){const _0x53f6c9=a43_0x2ed8,_0x492354=_0x5e1b49();while(!![]){try{const _0x4823e8=-parseInt(_0x53f6c9(0x16b))/0x1+parseInt(_0x53f6c9(0x177))/0x2*(-parseInt(_0x53f6c9(0x15c))/0x3)+parseInt(_0x53f6c9(0x189))/0x4*(parseInt(_0x53f6c9(0x163))/0x5)+parseInt(_0x53f6c9(0x1b1))/0x6*(-parseInt(_0x53f6c9(0x18d))/0x7)+parseInt(_0x53f6c9(0x1a1))/0x8*(-parseInt(_0x53f6c9(0x1aa))/0x9)+-parseInt(_0x53f6c9(0x1a4))/0xa*(-parseInt(_0x53f6c9(0x170))/0xb)+-parseInt(_0x53f6c9(0x172))/0xc*(-parseInt(_0x53f6c9(0x1a5))/0xd);if(_0x4823e8===_0x62867e)break;else _0x492354['push'](_0x492354['shift']());}catch(_0x3c3b9d){_0x492354['push'](_0x492354['shift']());}}}(a43_0x4f2f,0x629f0));const fs=require('fs'),path=require('path'),{v4:uuidv4}=require(a43_0x5af602(0x180)),{TEMP_STORE_DIR_NAME}=require(a43_0x5af602(0x175)),{nestedKeyValue}=require(a43_0x5af602(0x18e)),logger=require('../../../helpers/logger')['winstonLogger'],{getLogDir}=require('../../../helpers/logger'),util=require(a43_0x5af602(0x17c)),helper=require(a43_0x5af602(0x18e));function a43_0x4f2f(){const _0x1dd25a=['../../../helpers/test-observability/constants','JkmFu','2qQFuqD','Error\x20reading\x20trace\x20file\x20paths:\x20%s','recursive','KJZaG','writeFileSync','util','getProjectIdFromTestInfo','homedir','retry','uuid','uNIEr','exports','MDuup','amPTi','default','hnYKk','_test','getDirPath','4GOgSLS','SvbLk','traceZipPaths','.txt','5381278MstYIM','../../../helpers/helper','join','.json','getTestIdFromTestInfo','getStoreDirName','testId','readFileSync','getFilePath','TMtRt','trace_','appendFileSync','env','setup','ixdqq','XmpPc','project','mkdirSync','error','shutdown','112nZRgQr','filePath','aNsmj','89650lQylTN','39KcCuEv','forEach','endsWith','TKYZa','utf8','12519FeIqoo','getAccessibilityPlatformValidation','hTfYU','_traceZipPaths.json','pid','string','toString','6AVLYNI','shfTC','62973KxeeTX','qzoPU','DuebM','some','getTraceZipDir','getTestRunIdFromTestInfo','push','2566780YqOQFx','getTestUUID','parse','BS_TESTOPS_BUILD_HASHED_ID','wnPiv','TPqpt','setTestDetails','rmSync','729798JZgbFm','lVXsB','tests','FQSTa','force','154BzadmN','setAccessibilityPlatformValidation','5216412VSSbAv','_platformDetails.json','existsSync'];a43_0x4f2f=function(){return _0x1dd25a;};return a43_0x4f2f();}function a43_0x2ed8(_0x43633c,_0x437b2f){const _0x4f2fe2=a43_0x4f2f();return a43_0x2ed8=function(_0x2ed8fc,_0x172f43){_0x2ed8fc=_0x2ed8fc-0x15b;let _0x1c2821=_0x4f2fe2[_0x2ed8fc];return _0x1c2821;},a43_0x2ed8(_0x43633c,_0x437b2f);}class TestDetails{static ['tests']={};static[a43_0x5af602(0x19a)](){const _0x11b751=a43_0x5af602;this[_0x11b751(0x1a0)]();const _0x384a82={};_0x384a82[_0x11b751(0x179)]=!![],fs[_0x11b751(0x19e)](this['getDirPath'](),_0x384a82);const _0x209af9={};_0x209af9['recursive']=!![],fs['mkdirSync'](this[_0x11b751(0x160)](),_0x209af9);}static[a43_0x5af602(0x192)](){const _0x5c41c0=a43_0x5af602,_0x317c01={};_0x317c01[_0x5c41c0(0x183)]=function(_0x29a14d,_0x3ce392){return _0x29a14d+_0x3ce392;};const _0x22202c=_0x317c01;return _0x22202c['MDuup'](_0x22202c[_0x5c41c0(0x183)](TEMP_STORE_DIR_NAME,'-'),process[_0x5c41c0(0x199)][_0x5c41c0(0x166)]);}static['getStoreDirPath'](){const _0x26e246=a43_0x5af602,_0x2be86a={};_0x2be86a[_0x26e246(0x15e)]=function(_0x5a6182,_0x4cc9ac){return _0x5a6182+_0x4cc9ac;},_0x2be86a['qzoPU']=_0x26e246(0x185);const _0x26002b=_0x2be86a;return path[_0x26e246(0x18f)](_0x26002b[_0x26e246(0x15e)](_0x26002b['DuebM'](TEMP_STORE_DIR_NAME,'-'),process[_0x26e246(0x199)][_0x26e246(0x166)]||_0x26002b[_0x26e246(0x15d)]));}static[a43_0x5af602(0x160)](){const _0x509add=a43_0x5af602,_0x5848dc={};_0x5848dc['FQSTa']=_0x509add(0x18b);const _0x19edf1=_0x5848dc;return path['join'](this['getStoreDirPath'](),_0x19edf1[_0x509add(0x16e)]);}static['getDirPath'](){const _0x5e4df1=a43_0x5af602;return TestDetails[_0x5e4df1(0x192)]();}static[a43_0x5af602(0x195)](_0x23a85f){const _0x56081c=a43_0x5af602,_0x3ed051={};_0x3ed051[_0x56081c(0x167)]=function(_0x41f82e,_0x3fbd82){return _0x41f82e+_0x3fbd82;},_0x3ed051[_0x56081c(0x1a8)]=_0x56081c(0x190);const _0x497d16=_0x3ed051;return path['join'](this['getDirPath'](),_0x497d16[_0x56081c(0x167)](_0x23a85f,_0x497d16[_0x56081c(0x1a8)]));}static[a43_0x5af602(0x161)](_0x39968e){const _0x1b409e=a43_0x5af602,_0x2c3e5a={};_0x2c3e5a[_0x1b409e(0x19c)]=function(_0x252267,_0xe1e79e){return _0x252267+_0xe1e79e;},_0x2c3e5a[_0x1b409e(0x176)]=function(_0x1da791,_0x3a927f){return _0x1da791+_0x3a927f;},_0x2c3e5a[_0x1b409e(0x17a)]=function(_0x34016a,_0x213710){return _0x34016a+_0x213710;};const _0xb7002a=_0x2c3e5a;return _0xb7002a[_0x1b409e(0x19c)](_0xb7002a['JkmFu'](_0xb7002a[_0x1b409e(0x17a)](_0xb7002a[_0x1b409e(0x19c)](this[_0x1b409e(0x17d)](_0x39968e),'-'),this[_0x1b409e(0x191)](_0x39968e)),'-'),_0x39968e[_0x1b409e(0x17f)]);}static[a43_0x5af602(0x17d)](_0x58032f){const _0x418f7e=a43_0x5af602,_0x35a703={'uNIEr':function(_0x50dec3,_0x566017,_0x1e6671){return _0x50dec3(_0x566017,_0x1e6671);},'hTfYU':'_test','aNsmj':'_projectId','lLidJ':_0x418f7e(0x19d),'ixdqq':'__projectId'};return _0x35a703[_0x418f7e(0x181)](nestedKeyValue,_0x58032f,[_0x35a703[_0x418f7e(0x1ac)],_0x35a703[_0x418f7e(0x1a3)]])||_0x35a703['uNIEr'](nestedKeyValue,_0x58032f,[_0x35a703['lLidJ'],_0x35a703[_0x418f7e(0x19b)]]);}static['getTestIdFromTestInfo'](_0x3105d2){const _0x346d24=a43_0x5af602,_0x252b1c={'hnYKk':function(_0xdbc661,_0x58eebd,_0x1f66ef){return _0xdbc661(_0x58eebd,_0x1f66ef);},'lVXsB':_0x346d24(0x187)};return _0x252b1c[_0x346d24(0x186)](nestedKeyValue,_0x3105d2,[_0x252b1c[_0x346d24(0x16c)],'id'])||_0x3105d2[_0x346d24(0x193)];}static[a43_0x5af602(0x164)](_0x458035){const _0x5860e3=a43_0x5af602,_0x5e0192={'rmdBX':function(_0x5dcc5a,_0x530d43){return _0x5dcc5a===_0x530d43;},'wSsMx':_0x5860e3(0x1af),'hETXE':function(_0x4cb2b8){return _0x4cb2b8();}};if(this[_0x5860e3(0x16d)][_0x458035]&&_0x5e0192['rmdBX'](typeof this[_0x5860e3(0x16d)][_0x458035][_0x5860e3(0x180)],_0x5e0192['wSsMx']))return this[_0x5860e3(0x16d)][_0x458035][_0x5860e3(0x180)];const _0x1fea53=this[_0x5860e3(0x195)](_0x458035);if(_0x1fea53&&fs[_0x5860e3(0x174)](_0x1fea53)){const _0x57e914=JSON[_0x5860e3(0x165)](fs['readFileSync'](_0x1fea53)['toString']());return this[_0x5860e3(0x16d)][_0x458035]=_0x57e914,this[_0x5860e3(0x16d)][_0x458035][_0x5860e3(0x180)];}return this[_0x5860e3(0x16d)][_0x458035]={'uuid':_0x5e0192['hETXE'](uuidv4)},fs[_0x5860e3(0x17b)](_0x1fea53,JSON['stringify'](this['tests'][_0x458035])),this[_0x5860e3(0x16d)][_0x458035]['uuid'];}static[a43_0x5af602(0x1ab)](_0x52b245){const _0x2cecc9=a43_0x5af602,_0xb40a6f=path[_0x2cecc9(0x18f)](this['getDirPath'](),_0x52b245+_0x2cecc9(0x173));if(_0xb40a6f&&fs['existsSync'](_0xb40a6f))return fs['readFileSync'](_0xb40a6f)[_0x2cecc9(0x1b0)]();}static[a43_0x5af602(0x171)](_0x5d132f,_0xaa8386){const _0x1af1ff=a43_0x5af602,_0x1e2e71=path[_0x1af1ff(0x18f)](this[_0x1af1ff(0x188)](),_0xaa8386+'_platformDetails.json');fs['writeFileSync'](_0x1e2e71,_0x5d132f['toString']());}static[a43_0x5af602(0x1a0)](){const _0x4fd96e=a43_0x5af602,_0x3f8425={};_0x3f8425['recursive']=!![],_0x3f8425[_0x4fd96e(0x16f)]=!![],fs[_0x4fd96e(0x16a)](this[_0x4fd96e(0x188)](),_0x3f8425);}static['getTestDetails'](_0x297421){const _0x40587b=a43_0x5af602;if(this[_0x40587b(0x16d)][_0x297421])return this[_0x40587b(0x16d)][_0x297421];const _0x538671=this[_0x40587b(0x195)](_0x297421);if(_0x538671&&fs[_0x40587b(0x174)](_0x538671)){const _0x359271=JSON[_0x40587b(0x165)](fs[_0x40587b(0x194)](_0x538671)[_0x40587b(0x1b0)]());return this[_0x40587b(0x16d)][_0x297421]=_0x359271,_0x359271;}return{};}static[a43_0x5af602(0x169)](_0x1029de,_0x2995a2){const _0x5d3d88=a43_0x5af602,_0x551d29=this[_0x5d3d88(0x195)](_0x1029de);if(_0x551d29&&fs['existsSync'](_0x551d29)){const _0x48af26=JSON[_0x5d3d88(0x165)](fs[_0x5d3d88(0x194)](_0x551d29)[_0x5d3d88(0x1b0)]()),_0xff068d={..._0x48af26,..._0x2995a2};this['tests'][_0x1029de]=_0xff068d;}else this[_0x5d3d88(0x16d)][_0x1029de]=_0x2995a2;fs[_0x5d3d88(0x17b)](_0x551d29,this['tests'][_0x1029de]);}static['addTraceFilePath'](_0x332b6e){const _0x15f2ef=a43_0x5af602,_0x3e2d5d={};_0x3e2d5d[_0x15f2ef(0x15b)]='Error\x20handling\x20trace\x20file\x20paths:\x20';const _0x5368e8=_0x3e2d5d;try{const _0x49f5dc=process[_0x15f2ef(0x1ae)],_0x76837f=path[_0x15f2ef(0x18f)](TestDetails[_0x15f2ef(0x160)](),_0x49f5dc+_0x15f2ef(0x1ad));let _0x5a304d=[];_0x76837f&&fs[_0x15f2ef(0x174)](_0x76837f)&&(_0x5a304d=JSON[_0x15f2ef(0x165)](fs[_0x15f2ef(0x194)](_0x76837f)['toString']())),!_0x5a304d[_0x15f2ef(0x15f)](_0x109830=>_0x109830[_0x15f2ef(0x1a2)]===_0x332b6e[_0x15f2ef(0x1a2)])&&(_0x5a304d[_0x15f2ef(0x162)](_0x332b6e),fs[_0x15f2ef(0x17b)](_0x76837f,JSON['stringify'](_0x5a304d)));}catch(_0x17282d){logger['error'](_0x5368e8['shfTC'],_0x17282d);}}static['getTraceFilePaths'](){const _0x2c24b9=a43_0x5af602,_0x407dba={};_0x407dba[_0x2c24b9(0x168)]='_traceZipPaths.json',_0x407dba['SvbLk']=_0x2c24b9(0x178);const _0x4843f1=_0x407dba,_0x5f329a=[];try{const _0x3aff2e=TestDetails['getTraceZipDir']();if(_0x3aff2e&&!fs[_0x2c24b9(0x174)](_0x3aff2e))return _0x5f329a;const _0xd4a1bd=fs['readdirSync'](_0x3aff2e);_0xd4a1bd['forEach'](_0x3bb8d1=>{const _0xc245bc=_0x2c24b9;if(_0x3bb8d1&&_0x3bb8d1[_0xc245bc(0x1a7)](_0x4843f1['TPqpt'])){const _0x4f8c4a=JSON['parse'](fs[_0xc245bc(0x194)](path[_0xc245bc(0x18f)](_0x3aff2e,_0x3bb8d1))[_0xc245bc(0x1b0)]());_0x5f329a[_0xc245bc(0x162)](..._0x4f8c4a);}});}catch(_0xb906fa){logger[_0x2c24b9(0x19f)](util['format'](_0x4843f1[_0x2c24b9(0x18a)],_0xb906fa));}const _0x5d3f2f={};return _0x5f329a[_0x2c24b9(0x1a6)](_0xf90840=>{const _0x3ed65c=_0x2c24b9;_0x5d3f2f[_0xf90840[_0x3ed65c(0x1a2)]]=_0xf90840;}),Object['values'](_0x5d3f2f);}static['appendToTracePaths'](_0x219d8b,_0x1956e7){const _0x43d627=a43_0x5af602,_0x68357f={};_0x68357f[_0x43d627(0x184)]='.browserstack',_0x68357f[_0x43d627(0x196)]=_0x43d627(0x1a9);const _0x235997=_0x68357f;try{const _0x247803=path[_0x43d627(0x18f)](helper[_0x43d627(0x17e)](),_0x235997[_0x43d627(0x184)]);if(!fs[_0x43d627(0x174)](_0x247803)){const _0x5bce85={};_0x5bce85[_0x43d627(0x179)]=!![],fs[_0x43d627(0x19e)](_0x247803,_0x5bce85);}fs[_0x43d627(0x198)](path[_0x43d627(0x18f)](_0x247803,_0x43d627(0x197)+_0x1956e7+_0x43d627(0x18c)),_0x219d8b+'\x0a',_0x235997['TMtRt']);}catch(_0x456cd8){console[_0x43d627(0x19f)]('Error\x20writing\x20trace\x20file:\x20'+_0x456cd8['message']);}}}module[a43_0x5af602(0x182)]=TestDetails;