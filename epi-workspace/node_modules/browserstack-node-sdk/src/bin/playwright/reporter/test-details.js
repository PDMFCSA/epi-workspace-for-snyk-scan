const a42_0x4974cb=a42_0x5c74;(function(_0x269ff8,_0x3361ef){const _0x55b7b2=a42_0x5c74,_0x34e03c=_0x269ff8();while(!![]){try{const _0x5cc944=-parseInt(_0x55b7b2(0xab))/0x1*(parseInt(_0x55b7b2(0x8f))/0x2)+parseInt(_0x55b7b2(0x8a))/0x3*(-parseInt(_0x55b7b2(0xa2))/0x4)+-parseInt(_0x55b7b2(0xc9))/0x5+parseInt(_0x55b7b2(0xa4))/0x6*(-parseInt(_0x55b7b2(0xd5))/0x7)+parseInt(_0x55b7b2(0xa6))/0x8+-parseInt(_0x55b7b2(0x88))/0x9*(-parseInt(_0x55b7b2(0xe2))/0xa)+parseInt(_0x55b7b2(0xb5))/0xb;if(_0x5cc944===_0x3361ef)break;else _0x34e03c['push'](_0x34e03c['shift']());}catch(_0x673780){_0x34e03c['push'](_0x34e03c['shift']());}}}(a42_0x1bcf,0xe5bfd));function a42_0x1bcf(){const _0x5028b1=['386097GdMSgy','join','lFFJM','getTestRunIdFromTestInfo','toString','2pWTZLt','some','GdXyu','jceYT','.browserstack','endsWith','cwd','YCyXr','getTestDetails','RdLkM','uhCTK','ahAxR','project','setTestDetails','uuid','env','filePath','_traceZipPaths.json','recursive','20eHFhpl','getProjectIdFromTestInfo','12534oXBzXb','rHPZF','3822240HRjrXT','appendToTracePaths','getAccessibilityPlatformValidation','dMhxJ','getTestIdFromTestInfo','1045235VpDkni','force','Error\x20writing\x20trace\x20file:\x20','getFilePath','forEach','lqtgn','testId','jLWRk','shutdown','util','34038312xiwdLc','UWyXA','BS_TESTOPS_BUILD_HASHED_ID','nITRz','message','Error\x20handling\x20trace\x20file\x20paths:\x20','.json','qVefw','_projectId','getStoreDirPath','jBESH','getTraceZipDir','exports','dAJez','readFileSync','tests','existsSync','traceZipDir','addTraceFilePath','utf8','510810ZMYQIU','split','XCDwp','../../../helpers/helper','push','bWOlq','.txt','../../../helpers/logger','winstonLogger','readdirSync','values','error','4319kdrBeb','EMqXp','LXLyt','getTraceFilePaths','retry','tIEYb','getTestUUID','xprDE','traceZipPaths','setup','stringify','setAccessibilityPlatformValidation','_test','11870eQBufT','GRIkv','getStoreDirName','parse','0|4|2|3|1','__projectId','writeFileSync','rmSync','dirPath','trace_','mkdirSync','_platformDetails.json','3402BDgluw','default'];a42_0x1bcf=function(){return _0x5028b1;};return a42_0x1bcf();}function a42_0x5c74(_0x24b1d7,_0x27a4f6){const _0x1bcf42=a42_0x1bcf();return a42_0x5c74=function(_0x5c7412,_0x48b9e1){_0x5c7412=_0x5c7412-0x84;let _0x3f578f=_0x1bcf42[_0x5c7412];return _0x3f578f;},a42_0x5c74(_0x24b1d7,_0x27a4f6);}const fs=require('fs'),path=require('path'),{v4:uuidv4}=require(a42_0x4974cb(0x9d)),{TEMP_STORE_DIR_NAME}=require('../../../helpers/test-observability/constants'),{nestedKeyValue}=require(a42_0x4974cb(0xcc)),logger=require(a42_0x4974cb(0xd0))[a42_0x4974cb(0xd1)],util=require(a42_0x4974cb(0xb4)),helper=require(a42_0x4974cb(0xcc));class TestDetails{static [a42_0x4974cb(0xc4)]={};static ['dirPath']=path[a42_0x4974cb(0x8b)](process[a42_0x4974cb(0x95)](),TestDetails[a42_0x4974cb(0xe4)]());static [a42_0x4974cb(0xc6)]=path[a42_0x4974cb(0x8b)](TestDetails[a42_0x4974cb(0x84)],a42_0x4974cb(0xdd));static[a42_0x4974cb(0xde)](){const _0x4d434f=a42_0x4974cb,_0x7ff3da={};_0x7ff3da['EMqXp']=_0x4d434f(0xe6),_0x7ff3da['lFFJM']='traceZipPaths';const _0x2ac6f3=_0x7ff3da,_0x4f6aa1=_0x2ac6f3[_0x4d434f(0xd6)][_0x4d434f(0xca)]('|');let _0x55d00b=0x0;while(!![]){switch(_0x4f6aa1[_0x55d00b++]){case'0':this['dirPath']=path[_0x4d434f(0x8b)](process[_0x4d434f(0x95)](),TestDetails['getStoreDirName']());continue;case'1':const _0x22102e={};_0x22102e[_0x4d434f(0xa1)]=!![],fs[_0x4d434f(0x86)](this[_0x4d434f(0xc6)],_0x22102e);continue;case'2':this[_0x4d434f(0xb3)]();continue;case'3':const _0x2dc2c2={};_0x2dc2c2['recursive']=!![],fs[_0x4d434f(0x86)](this[_0x4d434f(0x84)],_0x2dc2c2);continue;case'4':this[_0x4d434f(0xc6)]=path[_0x4d434f(0x8b)](this['dirPath'],_0x2ac6f3[_0x4d434f(0x8c)]);continue;}break;}}static[a42_0x4974cb(0xe4)](){const _0x1e7b88=a42_0x4974cb,_0x5675ef={};_0x5675ef[_0x1e7b88(0xa9)]=function(_0x4b550f,_0x19157c){return _0x4b550f+_0x19157c;},_0x5675ef[_0x1e7b88(0x91)]=function(_0x59ac85,_0x4c10b9){return _0x59ac85+_0x4c10b9;};const _0x4db15d=_0x5675ef;return _0x4db15d[_0x1e7b88(0xa9)](_0x4db15d[_0x1e7b88(0x91)](TEMP_STORE_DIR_NAME,'-'),process[_0x1e7b88(0x9e)][_0x1e7b88(0xb7)]);}static['getStoreDirPath'](){const _0x19b662=a42_0x4974cb,_0x5bb3b5={};_0x5bb3b5['UWyXA']=function(_0x146f7f,_0x2c3745){return _0x146f7f+_0x2c3745;},_0x5bb3b5[_0x19b662(0xc2)]=_0x19b662(0x89);const _0xfb6b0d=_0x5bb3b5;return path['join'](process[_0x19b662(0x95)](),_0xfb6b0d[_0x19b662(0xb6)](_0xfb6b0d['UWyXA'](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x19b662(0xb7)]||_0xfb6b0d[_0x19b662(0xc2)]));}static['getTraceZipDir'](){const _0x1e0c43=a42_0x4974cb,_0x123c62={};_0x123c62['rHPZF']=_0x1e0c43(0xdd);const _0x23b2df=_0x123c62;return path['join'](this[_0x1e0c43(0xbe)](),_0x23b2df[_0x1e0c43(0xa5)]);}static[a42_0x4974cb(0xae)](_0x299d3e){const _0x1edf64=a42_0x4974cb,_0x66217d={};_0x66217d[_0x1edf64(0x99)]=function(_0x16882c,_0x44a65e){return _0x16882c+_0x44a65e;},_0x66217d[_0x1edf64(0x92)]=_0x1edf64(0xbb);const _0x3d1d22=_0x66217d;return path['join'](this[_0x1edf64(0x84)],_0x3d1d22['uhCTK'](_0x299d3e,_0x3d1d22['jceYT']));}static[a42_0x4974cb(0x8d)](_0xae498b){const _0xf358a7=a42_0x4974cb,_0x4fba37={};_0x4fba37[_0xf358a7(0xcb)]=function(_0xd701ce,_0xaeadbc){return _0xd701ce+_0xaeadbc;},_0x4fba37[_0xf358a7(0xce)]=function(_0x1a370b,_0x5f012a){return _0x1a370b+_0x5f012a;};const _0x13eee7=_0x4fba37;return _0x13eee7['XCDwp'](_0x13eee7[_0xf358a7(0xcb)](_0x13eee7[_0xf358a7(0xcb)](_0x13eee7[_0xf358a7(0xce)](this[_0xf358a7(0xa3)](_0xae498b),'-'),this['getTestIdFromTestInfo'](_0xae498b)),'-'),_0xae498b[_0xf358a7(0xd9)]);}static[a42_0x4974cb(0xa3)](_0x2012c9){const _0x5805a3=a42_0x4974cb,_0x23e005={'ahAxR':function(_0x22a8c7,_0x415917,_0x2625bc){return _0x22a8c7(_0x415917,_0x2625bc);},'GRIkv':_0x5805a3(0xe1),'jBESH':_0x5805a3(0xbd),'jLWRk':_0x5805a3(0x9b),'qVefw':_0x5805a3(0xe7)};return _0x23e005[_0x5805a3(0x9a)](nestedKeyValue,_0x2012c9,[_0x23e005[_0x5805a3(0xe3)],_0x23e005[_0x5805a3(0xbf)]])||_0x23e005[_0x5805a3(0x9a)](nestedKeyValue,_0x2012c9,[_0x23e005[_0x5805a3(0xb2)],_0x23e005[_0x5805a3(0xbc)]]);}static[a42_0x4974cb(0xaa)](_0x5d8918){const _0x46c857=a42_0x4974cb,_0x25f202={'kjxIw':function(_0x16d106,_0x130298,_0x2cd97e){return _0x16d106(_0x130298,_0x2cd97e);},'nITRz':_0x46c857(0xe1)};return _0x25f202['kjxIw'](nestedKeyValue,_0x5d8918,[_0x25f202[_0x46c857(0xb8)],'id'])||_0x5d8918[_0x46c857(0xb1)];}static[a42_0x4974cb(0xdb)](_0x5c29e1){const _0x231962=a42_0x4974cb,_0x4ebd71={'tIEYb':function(_0x5756ca,_0x3af48c){return _0x5756ca===_0x3af48c;},'GdAfK':'string','AZPeG':function(_0x4a4388){return _0x4a4388();}};if(this[_0x231962(0xc4)][_0x5c29e1]&&_0x4ebd71[_0x231962(0xda)](typeof this[_0x231962(0xc4)][_0x5c29e1][_0x231962(0x9d)],_0x4ebd71['GdAfK']))return this[_0x231962(0xc4)][_0x5c29e1][_0x231962(0x9d)];const _0x54ae76=this['getFilePath'](_0x5c29e1);if(_0x54ae76&&fs[_0x231962(0xc5)](_0x54ae76)){const _0x443ae4=JSON['parse'](fs[_0x231962(0xc3)](_0x54ae76)[_0x231962(0x8e)]());return this['tests'][_0x5c29e1]=_0x443ae4,this[_0x231962(0xc4)][_0x5c29e1][_0x231962(0x9d)];}return this[_0x231962(0xc4)][_0x5c29e1]={'uuid':_0x4ebd71['AZPeG'](uuidv4)},fs[_0x231962(0xe8)](_0x54ae76,JSON['stringify'](this[_0x231962(0xc4)][_0x5c29e1])),this[_0x231962(0xc4)][_0x5c29e1][_0x231962(0x9d)];}static[a42_0x4974cb(0xa8)](_0x2451ce){const _0x58da0e=a42_0x4974cb,_0x13286f=path['join'](this[_0x58da0e(0x84)],_0x2451ce+_0x58da0e(0x87));if(_0x13286f&&fs['existsSync'](_0x13286f))return fs[_0x58da0e(0xc3)](_0x13286f)[_0x58da0e(0x8e)]();}static[a42_0x4974cb(0xe0)](_0x12495c,_0x42c1ce){const _0x106a9a=a42_0x4974cb,_0x4983e3=path[_0x106a9a(0x8b)](this[_0x106a9a(0x84)],_0x42c1ce+_0x106a9a(0x87));fs[_0x106a9a(0xe8)](_0x4983e3,_0x12495c[_0x106a9a(0x8e)]());}static[a42_0x4974cb(0xb3)](){const _0x5baa01=a42_0x4974cb,_0x4d5634={};_0x4d5634[_0x5baa01(0xa1)]=!![],_0x4d5634[_0x5baa01(0xac)]=!![],fs[_0x5baa01(0xe9)](this[_0x5baa01(0x84)],_0x4d5634);}static[a42_0x4974cb(0x97)](_0x4a7682){const _0x4a2a3f=a42_0x4974cb;if(this[_0x4a2a3f(0xc4)][_0x4a7682])return this[_0x4a2a3f(0xc4)][_0x4a7682];const _0x901550=this['getFilePath'](_0x4a7682);if(_0x901550&&fs['existsSync'](_0x901550)){const _0x139add=JSON[_0x4a2a3f(0xe5)](fs[_0x4a2a3f(0xc3)](_0x901550)['toString']());return this['tests'][_0x4a7682]=_0x139add,_0x139add;}return{};}static[a42_0x4974cb(0x9c)](_0x49c055,_0x2a6394){const _0x3db4c5=a42_0x4974cb,_0xb4cf0a=this[_0x3db4c5(0xae)](_0x49c055);if(_0xb4cf0a&&fs[_0x3db4c5(0xc5)](_0xb4cf0a)){const _0x2d9e13=JSON[_0x3db4c5(0xe5)](fs[_0x3db4c5(0xc3)](_0xb4cf0a)[_0x3db4c5(0x8e)]()),_0x67d1b9={..._0x2d9e13,..._0x2a6394};this[_0x3db4c5(0xc4)][_0x49c055]=_0x67d1b9;}else this['tests'][_0x49c055]=_0x2a6394;fs['writeFileSync'](_0xb4cf0a,this[_0x3db4c5(0xc4)][_0x49c055]);}static[a42_0x4974cb(0xc7)](_0x1c156c){const _0x332363=a42_0x4974cb,_0x1447ec={};_0x1447ec[_0x332363(0xdc)]=_0x332363(0xba);const _0xc11393=_0x1447ec;try{const _0x283223=process['pid'],_0x71b41a=path[_0x332363(0x8b)](TestDetails[_0x332363(0xc0)](),_0x283223+_0x332363(0xa0));let _0x42e2f9=[];_0x71b41a&&fs[_0x332363(0xc5)](_0x71b41a)&&(_0x42e2f9=JSON[_0x332363(0xe5)](fs[_0x332363(0xc3)](_0x71b41a)[_0x332363(0x8e)]())),!_0x42e2f9[_0x332363(0x90)](_0x366957=>_0x366957['filePath']===_0x1c156c[_0x332363(0x9f)])&&(_0x42e2f9[_0x332363(0xcd)](_0x1c156c),fs['writeFileSync'](_0x71b41a,JSON[_0x332363(0xdf)](_0x42e2f9)));}catch(_0x3aa98f){logger[_0x332363(0xd4)](_0xc11393[_0x332363(0xdc)],_0x3aa98f);}}static[a42_0x4974cb(0xd8)](){const _0x36efbe=a42_0x4974cb,_0x576f8d={};_0x576f8d[_0x36efbe(0x96)]=_0x36efbe(0xa0),_0x576f8d['lqtgn']='Error\x20reading\x20trace\x20file\x20paths:\x20%s';const _0x201bd0=_0x576f8d,_0xf4725c=[];try{const _0x399eec=TestDetails[_0x36efbe(0xc0)]();if(_0x399eec&&!fs[_0x36efbe(0xc5)](_0x399eec))return _0xf4725c;const _0x40f72d=fs[_0x36efbe(0xd2)](_0x399eec);_0x40f72d[_0x36efbe(0xaf)](_0x3c8cb8=>{const _0x2f3d4d=_0x36efbe;if(_0x3c8cb8&&_0x3c8cb8[_0x2f3d4d(0x94)](_0x201bd0[_0x2f3d4d(0x96)])){const _0x112e6c=JSON[_0x2f3d4d(0xe5)](fs[_0x2f3d4d(0xc3)](path['join'](_0x399eec,_0x3c8cb8))[_0x2f3d4d(0x8e)]());_0xf4725c['push'](..._0x112e6c);}});}catch(_0x11307c){logger[_0x36efbe(0xd4)](util['format'](_0x201bd0[_0x36efbe(0xb0)],_0x11307c));}const _0x37c4f4={};return _0xf4725c[_0x36efbe(0xaf)](_0x2f28a6=>{const _0x399db9=_0x36efbe;_0x37c4f4[_0x2f28a6[_0x399db9(0x9f)]]=_0x2f28a6;}),Object[_0x36efbe(0xd3)](_0x37c4f4);}static[a42_0x4974cb(0xa7)](_0x478295,_0x536b0e){const _0x10fe0d=a42_0x4974cb,_0x8f58f9={};_0x8f58f9[_0x10fe0d(0x98)]=_0x10fe0d(0x93),_0x8f58f9[_0x10fe0d(0xd7)]=_0x10fe0d(0xc8);const _0x4d6e3c=_0x8f58f9;try{const _0x2bdd7a=path[_0x10fe0d(0x8b)](helper['homedir'](),_0x4d6e3c[_0x10fe0d(0x98)]);if(!fs['existsSync'](_0x2bdd7a)){const _0x45eb63={};_0x45eb63[_0x10fe0d(0xa1)]=!![],fs['mkdirSync'](_0x2bdd7a,_0x45eb63);}fs['appendFileSync'](path[_0x10fe0d(0x8b)](_0x2bdd7a,_0x10fe0d(0x85)+_0x536b0e+_0x10fe0d(0xcf)),_0x478295+'\x0a',_0x4d6e3c[_0x10fe0d(0xd7)]);}catch(_0x58aa35){console['error'](_0x10fe0d(0xad)+_0x58aa35[_0x10fe0d(0xb9)]);}}}module[a42_0x4974cb(0xc1)]=TestDetails;