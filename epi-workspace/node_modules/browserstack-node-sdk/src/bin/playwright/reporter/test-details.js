const a47_0xdafa18=a47_0x5b86;(function(_0x2f545e,_0x2fadcc){const _0x1f0eed=a47_0x5b86,_0x52a6d5=_0x2f545e();while(!![]){try{const _0x41701a=parseInt(_0x1f0eed(0x1c6))/0x1+parseInt(_0x1f0eed(0x202))/0x2*(parseInt(_0x1f0eed(0x1bf))/0x3)+-parseInt(_0x1f0eed(0x207))/0x4*(-parseInt(_0x1f0eed(0x1dd))/0x5)+-parseInt(_0x1f0eed(0x1e0))/0x6*(parseInt(_0x1f0eed(0x1e1))/0x7)+parseInt(_0x1f0eed(0x208))/0x8+-parseInt(_0x1f0eed(0x1f5))/0x9+-parseInt(_0x1f0eed(0x204))/0xa;if(_0x41701a===_0x2fadcc)break;else _0x52a6d5['push'](_0x52a6d5['shift']());}catch(_0xcc1d97){_0x52a6d5['push'](_0x52a6d5['shift']());}}}(a47_0x3d4b,0xdde02));const fs=require('fs'),path=require('path'),{v4:uuidv4}=require(a47_0xdafa18(0x1b8)),{TEMP_STORE_DIR_NAME}=require(a47_0xdafa18(0x205)),{nestedKeyValue}=require('../../../helpers/helper'),logger=require(a47_0xdafa18(0x1d5))[a47_0xdafa18(0x1df)],{getLogDir}=require(a47_0xdafa18(0x1d5)),util=require('util'),helper=require(a47_0xdafa18(0x1b7));class TestDetails{static ['tests']={};static[a47_0xdafa18(0x1c5)](){const _0x48d685=a47_0xdafa18;this[_0x48d685(0x1cb)]();const _0x1c8c6a={};_0x1c8c6a[_0x48d685(0x1c0)]=!![],fs[_0x48d685(0x1b4)](this[_0x48d685(0x1bb)](),_0x1c8c6a);const _0x5ce552={};_0x5ce552[_0x48d685(0x1c0)]=!![],fs['mkdirSync'](this[_0x48d685(0x1d9)](),_0x5ce552);}static[a47_0xdafa18(0x1e5)](){const _0x2201f6=a47_0xdafa18,_0x21c86e={};_0x21c86e['MZoTo']=function(_0x2089fc,_0x24f07a){return _0x2089fc+_0x24f07a;};const _0x558320=_0x21c86e;return _0x558320[_0x2201f6(0x1fa)](_0x558320[_0x2201f6(0x1fa)](TEMP_STORE_DIR_NAME,'-'),process[_0x2201f6(0x1fb)]['BS_TESTOPS_BUILD_HASHED_ID']);}static[a47_0xdafa18(0x1f2)](){const _0x1bd412=a47_0xdafa18,_0x646841={};_0x646841[_0x1bd412(0x1f4)]=function(_0xf3cfa4,_0x1c8e53){return _0xf3cfa4+_0x1c8e53;},_0x646841['DLYsJ']=_0x1bd412(0x1b6);const _0x426deb=_0x646841;return path[_0x1bd412(0x1dc)](_0x426deb[_0x1bd412(0x1f4)](_0x426deb[_0x1bd412(0x1f4)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x1bd412(0x1ea)]||_0x426deb[_0x1bd412(0x203)]));}static[a47_0xdafa18(0x1d9)](){const _0x2d6f67=a47_0xdafa18,_0x5cd2d8={};_0x5cd2d8[_0x2d6f67(0x1da)]='traceZipPaths';const _0x33f6c7=_0x5cd2d8;return path['join'](this[_0x2d6f67(0x1f2)](),_0x33f6c7[_0x2d6f67(0x1da)]);}static[a47_0xdafa18(0x1bb)](){return TestDetails['getStoreDirName']();}static[a47_0xdafa18(0x1e7)](_0x3d0ccb){const _0x1b66f4=a47_0xdafa18,_0x11f5c7={};_0x11f5c7[_0x1b66f4(0x1c3)]=function(_0x4778d0,_0x251b07){return _0x4778d0+_0x251b07;},_0x11f5c7['KhDcC']='.json';const _0x1e1f6f=_0x11f5c7;return path[_0x1b66f4(0x1dc)](this[_0x1b66f4(0x1bb)](),_0x1e1f6f[_0x1b66f4(0x1c3)](_0x3d0ccb,_0x1e1f6f[_0x1b66f4(0x1b1)]));}static[a47_0xdafa18(0x1e6)](_0x4808d6){const _0x4dafce=a47_0xdafa18,_0x4804d2={};_0x4804d2[_0x4dafce(0x1c8)]=function(_0x457e0f,_0x537209){return _0x457e0f+_0x537209;},_0x4804d2['YrSQN']=function(_0x1e1f94,_0x547c8f){return _0x1e1f94+_0x547c8f;};const _0x109563=_0x4804d2;return _0x109563[_0x4dafce(0x1c8)](_0x109563[_0x4dafce(0x1c8)](_0x109563[_0x4dafce(0x1c8)](_0x109563[_0x4dafce(0x1f8)](this['getProjectIdFromTestInfo'](_0x4808d6),'-'),this['getTestIdFromTestInfo'](_0x4808d6)),'-'),_0x4808d6[_0x4dafce(0x1b9)]);}static[a47_0xdafa18(0x1d6)](_0x2de80e){const _0x1844c0=a47_0xdafa18,_0x40d339={'DlCxF':function(_0x52acfa,_0x5cdeeb,_0x474085){return _0x52acfa(_0x5cdeeb,_0x474085);},'jShfc':_0x1844c0(0x1bd),'wdXRW':_0x1844c0(0x1f7),'fdfJq':_0x1844c0(0x1d1),'TTrTH':_0x1844c0(0x1e9)};return _0x40d339[_0x1844c0(0x1cf)](nestedKeyValue,_0x2de80e,[_0x40d339[_0x1844c0(0x1ee)],_0x40d339['wdXRW']])||_0x40d339['DlCxF'](nestedKeyValue,_0x2de80e,[_0x40d339['fdfJq'],_0x40d339[_0x1844c0(0x1f3)]]);}static[a47_0xdafa18(0x1c4)](_0x37d5c3){const _0x521cfc=a47_0xdafa18,_0x33642c={'zInds':function(_0x4b1983,_0xe09bf0,_0x263c61){return _0x4b1983(_0xe09bf0,_0x263c61);},'HhCPE':_0x521cfc(0x1bd)};return _0x33642c['zInds'](nestedKeyValue,_0x37d5c3,[_0x33642c[_0x521cfc(0x1f0)],'id'])||_0x37d5c3['testId'];}static['getTestUUID'](_0x27f692){const _0x474311=a47_0xdafa18,_0x54e3aa={'TXSDg':function(_0x4e5101,_0x28650d){return _0x4e5101===_0x28650d;},'rktKb':_0x474311(0x1e4),'RFwyC':function(_0x517bb2){return _0x517bb2();}};if(this[_0x474311(0x1ec)][_0x27f692]&&_0x54e3aa[_0x474311(0x1d8)](typeof this['tests'][_0x27f692][_0x474311(0x1b8)],_0x54e3aa[_0x474311(0x1e3)]))return this[_0x474311(0x1ec)][_0x27f692][_0x474311(0x1b8)];const _0x4c85b9=this[_0x474311(0x1e7)](_0x27f692);if(_0x4c85b9&&fs[_0x474311(0x1d2)](_0x4c85b9)){const _0x169c2b=JSON['parse'](fs[_0x474311(0x1db)](_0x4c85b9)[_0x474311(0x1e2)]());return this['tests'][_0x27f692]=_0x169c2b,this[_0x474311(0x1ec)][_0x27f692]['uuid'];}return this[_0x474311(0x1ec)][_0x27f692]={'uuid':_0x54e3aa[_0x474311(0x1c1)](uuidv4)},fs[_0x474311(0x201)](_0x4c85b9,JSON[_0x474311(0x1f9)](this['tests'][_0x27f692])),this[_0x474311(0x1ec)][_0x27f692][_0x474311(0x1b8)];}static[a47_0xdafa18(0x1d4)](_0x4ee221){const _0x546c81=a47_0xdafa18,_0x531563=path[_0x546c81(0x1dc)](this['getDirPath'](),_0x4ee221+'_platformDetails.json');if(_0x531563&&fs[_0x546c81(0x1d2)](_0x531563))return fs[_0x546c81(0x1db)](_0x531563)[_0x546c81(0x1e2)]();}static[a47_0xdafa18(0x1de)](_0x4520b3,_0x52943b){const _0x395a58=a47_0xdafa18,_0x121c3a=path['join'](this[_0x395a58(0x1bb)](),_0x52943b+_0x395a58(0x1ce));fs[_0x395a58(0x201)](_0x121c3a,_0x4520b3[_0x395a58(0x1e2)]());}static[a47_0xdafa18(0x1cb)](){const _0x325715=a47_0xdafa18,_0x470599={};_0x470599[_0x325715(0x1c0)]=!![],_0x470599[_0x325715(0x1ff)]=!![],fs[_0x325715(0x1ef)](this[_0x325715(0x1bb)](),_0x470599);}static[a47_0xdafa18(0x1b3)](_0x1b5562){const _0x529eee=a47_0xdafa18;if(this[_0x529eee(0x1ec)][_0x1b5562])return this['tests'][_0x1b5562];const _0x3a146c=this[_0x529eee(0x1e7)](_0x1b5562);if(_0x3a146c&&fs[_0x529eee(0x1d2)](_0x3a146c)){const _0x1bc31a=JSON['parse'](fs['readFileSync'](_0x3a146c)[_0x529eee(0x1e2)]());return this[_0x529eee(0x1ec)][_0x1b5562]=_0x1bc31a,_0x1bc31a;}return{};}static[a47_0xdafa18(0x1fe)](_0x4c969e,_0x4d8a38){const _0x7beb24=a47_0xdafa18,_0x226b24=this['getFilePath'](_0x4c969e);if(_0x226b24&&fs['existsSync'](_0x226b24)){const _0x5bd2dc=JSON['parse'](fs[_0x7beb24(0x1db)](_0x226b24)[_0x7beb24(0x1e2)]()),_0x308fc4={..._0x5bd2dc,..._0x4d8a38};this['tests'][_0x4c969e]=_0x308fc4;}else this[_0x7beb24(0x1ec)][_0x4c969e]=_0x4d8a38;fs['writeFileSync'](_0x226b24,this[_0x7beb24(0x1ec)][_0x4c969e]);}static['addTraceFilePath'](_0x58b175){const _0x1b79a6=a47_0xdafa18,_0x45e84f={};_0x45e84f[_0x1b79a6(0x1cc)]=_0x1b79a6(0x1bc);const _0x2e23a9=_0x45e84f;try{const _0xc62a51=process[_0x1b79a6(0x1b0)],_0x2cc29c=path[_0x1b79a6(0x1dc)](TestDetails['getTraceZipDir'](),_0xc62a51+_0x1b79a6(0x1c7));let _0x12c516=[];_0x2cc29c&&fs['existsSync'](_0x2cc29c)&&(_0x12c516=JSON[_0x1b79a6(0x200)](fs[_0x1b79a6(0x1db)](_0x2cc29c)[_0x1b79a6(0x1e2)]())),!_0x12c516['some'](_0x449f0f=>_0x449f0f[_0x1b79a6(0x1fc)]===_0x58b175['filePath'])&&(_0x12c516['push'](_0x58b175),fs[_0x1b79a6(0x201)](_0x2cc29c,JSON[_0x1b79a6(0x1f9)](_0x12c516)));}catch(_0x23b62b){logger[_0x1b79a6(0x1ca)](_0x2e23a9[_0x1b79a6(0x1cc)],_0x23b62b);}}static['getTraceFilePaths'](){const _0x19eca1=a47_0xdafa18,_0x534c1a={};_0x534c1a[_0x19eca1(0x1c9)]='_traceZipPaths.json',_0x534c1a[_0x19eca1(0x1d0)]=_0x19eca1(0x1ed);const _0x84004a=_0x534c1a,_0x480e9d=[];try{const _0x495792=TestDetails[_0x19eca1(0x1d9)]();if(_0x495792&&!fs[_0x19eca1(0x1d2)](_0x495792))return _0x480e9d;const _0x2db61a=fs[_0x19eca1(0x206)](_0x495792);_0x2db61a[_0x19eca1(0x1fd)](_0x442d85=>{const _0x4f9dc6=_0x19eca1;if(_0x442d85&&_0x442d85[_0x4f9dc6(0x1c2)](_0x84004a[_0x4f9dc6(0x1c9)])){const _0x5baecc=JSON[_0x4f9dc6(0x200)](fs[_0x4f9dc6(0x1db)](path[_0x4f9dc6(0x1dc)](_0x495792,_0x442d85))[_0x4f9dc6(0x1e2)]());_0x480e9d['push'](..._0x5baecc);}});}catch(_0x14dd91){logger[_0x19eca1(0x1ca)](util[_0x19eca1(0x1d3)](_0x84004a[_0x19eca1(0x1d0)],_0x14dd91));}const _0x597b74={};return _0x480e9d[_0x19eca1(0x1fd)](_0x49c994=>{const _0x1d754d=_0x19eca1;_0x597b74[_0x49c994[_0x1d754d(0x1fc)]]=_0x49c994;}),Object['values'](_0x597b74);}static[a47_0xdafa18(0x1b5)](_0x1c1eac,_0x3b3ce9){const _0x541e83=a47_0xdafa18,_0x519f30={};_0x519f30[_0x541e83(0x1e8)]=_0x541e83(0x1ba),_0x519f30[_0x541e83(0x1f1)]=_0x541e83(0x1b2);const _0x3604cf=_0x519f30;try{const _0x459af1=path['join'](helper['homedir'](),_0x3604cf[_0x541e83(0x1e8)]);if(!fs[_0x541e83(0x1d2)](_0x459af1)){const _0x243a57={};_0x243a57['recursive']=!![],fs[_0x541e83(0x1b4)](_0x459af1,_0x243a57);}fs[_0x541e83(0x1eb)](path['join'](_0x459af1,_0x541e83(0x1be)+_0x3b3ce9+_0x541e83(0x1cd)),_0x1c1eac+'\x0a',_0x3604cf['RdInM']);}catch(_0x2cc410){console[_0x541e83(0x1ca)]('Error\x20writing\x20trace\x20file:\x20'+_0x2cc410[_0x541e83(0x1f6)]);}}}module[a47_0xdafa18(0x1d7)]=TestDetails;function a47_0x5b86(_0x3aaf15,_0x597884){const _0x3d4bf2=a47_0x3d4b();return a47_0x5b86=function(_0x5b86f1,_0x1bbf6c){_0x5b86f1=_0x5b86f1-0x1b0;let _0x9ace28=_0x3d4bf2[_0x5b86f1];return _0x9ace28;},a47_0x5b86(_0x3aaf15,_0x597884);}function a47_0x3d4b(){const _0x3ff70c=['Error\x20handling\x20trace\x20file\x20paths:\x20','_test','trace_','25566GocuXi','recursive','RFwyC','endsWith','DLArC','getTestIdFromTestInfo','setup','1757638WiPNMm','_traceZipPaths.json','NLzUz','SKJVD','error','shutdown','ENrse','.txt','_platformDetails.json','DlCxF','qlOqG','project','existsSync','format','getAccessibilityPlatformValidation','../../../helpers/logger','getProjectIdFromTestInfo','exports','TXSDg','getTraceZipDir','EeBCY','readFileSync','join','122080sWodFY','setAccessibilityPlatformValidation','winstonLogger','6boEZcx','2579157eClthM','toString','rktKb','string','getStoreDirName','getTestRunIdFromTestInfo','getFilePath','VrbbH','__projectId','BS_TESTOPS_BUILD_HASHED_ID','appendFileSync','tests','Error\x20reading\x20trace\x20file\x20paths:\x20%s','jShfc','rmSync','HhCPE','RdInM','getStoreDirPath','TTrTH','EeEcE','6197607LIuLIb','message','_projectId','YrSQN','stringify','MZoTo','env','filePath','forEach','setTestDetails','force','parse','writeFileSync','176jxLyyo','DLYsJ','24650330fmNswO','../../../helpers/test-observability/constants','readdirSync','276YTPcWa','1909048GGCEcI','pid','KhDcC','utf8','getTestDetails','mkdirSync','appendToTracePaths','default','../../../helpers/helper','uuid','retry','.browserstack','getDirPath'];a47_0x3d4b=function(){return _0x3ff70c;};return a47_0x3d4b();}