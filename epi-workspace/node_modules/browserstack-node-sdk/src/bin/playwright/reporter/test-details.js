const a42_0x402911=a42_0xdbe2;(function(_0x3c0d75,_0x40a604){const _0x855e9=a42_0xdbe2,_0x4feb73=_0x3c0d75();while(!![]){try{const _0xcd85f9=-parseInt(_0x855e9(0x6a))/0x1*(-parseInt(_0x855e9(0xb9))/0x2)+parseInt(_0x855e9(0xb8))/0x3*(-parseInt(_0x855e9(0xc9))/0x4)+-parseInt(_0x855e9(0x69))/0x5+-parseInt(_0x855e9(0x7e))/0x6+parseInt(_0x855e9(0xa3))/0x7+-parseInt(_0x855e9(0x94))/0x8+parseInt(_0x855e9(0xb6))/0x9*(parseInt(_0x855e9(0x71))/0xa);if(_0xcd85f9===_0x40a604)break;else _0x4feb73['push'](_0x4feb73['shift']());}catch(_0x3ef006){_0x4feb73['push'](_0x4feb73['shift']());}}}(a42_0x520f,0xc9dd2));function a42_0x520f(){const _0x591c14=['uuid','406872MZyxUd','retry','mkdirSync','getAccessibilityPlatformValidation','getTestIdFromTestInfo','homedir','traceZipDir','SWPHI','MeZcF','join','cwd','getStoreDirName','mIYxz','vOfIT','error','parse','mzmiB','uyHFd','appendFileSync','mXTdM','filePath','SfoxW','994680CNEdta','env','WPMGO','kluxq','FfPAH','some','aWmhw','default','toString','sGWjL','../../../helpers/test-observability/constants','utf8','dirPath','getProjectIdFromTestInfo','rmSync','9087491nIShyH','getTestUUID','xGscl','getTraceZipDir','_traceZipPaths.json','getStoreDirPath','writeFileSync','readFileSync','UwOjg','BS_TESTOPS_BUILD_HASHED_ID','values','util','path','existsSync','project','endsWith','sGhpW','string','getFilePath','9ACPepO','Nagfj','1299PRmXGh','7166PdARhH','setup','IQPbm','tests','format','getTestDetails','jrxhs','testId','Error\x20reading\x20trace\x20file\x20paths:\x20%s','yjYgA','addTraceFilePath','_test','pid','stringify','message','winstonLogger','7240afDLCH','.json','shutdown','recursive','../../../helpers/helper','1771880WHGYwT','139BKWHkx','force','appendToTracePaths','getTestRunIdFromTestInfo','.txt','eUeHf','setTestDetails','3608370XEBiAF','traceZipPaths','_platformDetails.json','fneot','getTraceFilePaths','ZdgGS','forEach','PtplT','lvhcx','3|0|2|4|1','lIRVg','Error\x20handling\x20trace\x20file\x20paths:\x20'];a42_0x520f=function(){return _0x591c14;};return a42_0x520f();}function a42_0xdbe2(_0x57c89f,_0x11df06){const _0x520fce=a42_0x520f();return a42_0xdbe2=function(_0xdbe266,_0x2555db){_0xdbe266=_0xdbe266-0x67;let _0x2dbfce=_0x520fce[_0xdbe266];return _0x2dbfce;},a42_0xdbe2(_0x57c89f,_0x11df06);}const fs=require('fs'),path=require(a42_0x402911(0xaf)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require(a42_0x402911(0x9e)),{nestedKeyValue}=require(a42_0x402911(0x68)),logger=require('../../../helpers/logger')[a42_0x402911(0xc8)],util=require(a42_0x402911(0xae)),helper=require(a42_0x402911(0x68));class TestDetails{static [a42_0x402911(0xbc)]={};static ['dirPath']=path[a42_0x402911(0x87)](process[a42_0x402911(0x88)](),TestDetails[a42_0x402911(0x89)]());static ['traceZipDir']=path[a42_0x402911(0x87)](TestDetails[a42_0x402911(0xa0)],a42_0x402911(0x72));static[a42_0x402911(0xba)](){const _0x35804e=a42_0x402911,_0x349cf2={};_0x349cf2['eUeHf']=_0x35804e(0x7a),_0x349cf2['fneot']=_0x35804e(0x72);const _0x25f251=_0x349cf2,_0x568011=_0x25f251[_0x35804e(0x6f)]['split']('|');let _0x619f12=0x0;while(!![]){switch(_0x568011[_0x619f12++]){case'0':this[_0x35804e(0x84)]=path[_0x35804e(0x87)](this['dirPath'],_0x25f251[_0x35804e(0x74)]);continue;case'1':const _0x4fed88={};_0x4fed88['recursive']=!![],fs[_0x35804e(0x80)](this[_0x35804e(0x84)],_0x4fed88);continue;case'2':this[_0x35804e(0xcb)]();continue;case'3':this[_0x35804e(0xa0)]=path['join'](process[_0x35804e(0x88)](),TestDetails[_0x35804e(0x89)]());continue;case'4':const _0x56727={};_0x56727[_0x35804e(0x67)]=!![],fs[_0x35804e(0x80)](this[_0x35804e(0xa0)],_0x56727);continue;}break;}}static[a42_0x402911(0x89)](){const _0x1f6a9f=a42_0x402911,_0x35fa53={};_0x35fa53['kluxq']=function(_0x13cdaa,_0x3d4ef8){return _0x13cdaa+_0x3d4ef8;};const _0x2aaeeb=_0x35fa53;return _0x2aaeeb[_0x1f6a9f(0x97)](_0x2aaeeb[_0x1f6a9f(0x97)](TEMP_STORE_DIR_NAME,'-'),process[_0x1f6a9f(0x95)][_0x1f6a9f(0xac)]);}static['getStoreDirPath'](){const _0x39b81e=a42_0x402911,_0x55babb={};_0x55babb[_0x39b81e(0x79)]=function(_0x4d2054,_0x480a7a){return _0x4d2054+_0x480a7a;},_0x55babb[_0x39b81e(0x91)]=_0x39b81e(0x9b);const _0x192122=_0x55babb;return path[_0x39b81e(0x87)](process[_0x39b81e(0x88)](),_0x192122[_0x39b81e(0x79)](_0x192122[_0x39b81e(0x79)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x39b81e(0xac)]||_0x192122[_0x39b81e(0x91)]));}static[a42_0x402911(0xa6)](){const _0x1bcf4c=a42_0x402911,_0x29b08a={};_0x29b08a[_0x1bcf4c(0x8f)]='traceZipPaths';const _0xba9d=_0x29b08a;return path[_0x1bcf4c(0x87)](this[_0x1bcf4c(0xa8)](),_0xba9d[_0x1bcf4c(0x8f)]);}static[a42_0x402911(0xb5)](_0xd49f10){const _0x3ea95b=a42_0x402911,_0x5a529f={};_0x5a529f[_0x3ea95b(0x76)]=function(_0x19e4d3,_0x4cad69){return _0x19e4d3+_0x4cad69;},_0x5a529f[_0x3ea95b(0xc2)]=_0x3ea95b(0xca);const _0x5dedf6=_0x5a529f;return path[_0x3ea95b(0x87)](this[_0x3ea95b(0xa0)],_0x5dedf6[_0x3ea95b(0x76)](_0xd49f10,_0x5dedf6[_0x3ea95b(0xc2)]));}static[a42_0x402911(0x6d)](_0x33ff75){const _0x57a994=a42_0x402911,_0x2828fc={};_0x2828fc[_0x57a994(0x86)]=function(_0x479c11,_0x2a341a){return _0x479c11+_0x2a341a;},_0x2828fc[_0x57a994(0x96)]=function(_0x1b38c1,_0x2b420f){return _0x1b38c1+_0x2b420f;},_0x2828fc[_0x57a994(0x78)]=function(_0x31babd,_0x40b32a){return _0x31babd+_0x40b32a;};const _0x32ebf8=_0x2828fc;return _0x32ebf8[_0x57a994(0x86)](_0x32ebf8[_0x57a994(0x96)](_0x32ebf8[_0x57a994(0x78)](_0x32ebf8['MeZcF'](this[_0x57a994(0xa1)](_0x33ff75),'-'),this['getTestIdFromTestInfo'](_0x33ff75)),'-'),_0x33ff75[_0x57a994(0x7f)]);}static[a42_0x402911(0xa1)](_0x51537c){const _0x5a0955=a42_0x402911,_0x58e4f6={'aWmhw':function(_0x358079,_0x4d85a2,_0x1481d0){return _0x358079(_0x4d85a2,_0x1481d0);},'SfoxW':_0x5a0955(0xc4),'mIYxz':'_projectId','UwOjg':_0x5a0955(0xb1),'Nagfj':'__projectId'};return _0x58e4f6['aWmhw'](nestedKeyValue,_0x51537c,[_0x58e4f6[_0x5a0955(0x93)],_0x58e4f6[_0x5a0955(0x8a)]])||_0x58e4f6[_0x5a0955(0x9a)](nestedKeyValue,_0x51537c,[_0x58e4f6[_0x5a0955(0xab)],_0x58e4f6[_0x5a0955(0xb7)]]);}static[a42_0x402911(0x82)](_0x89b2b3){const _0x239698=a42_0x402911,_0x29dacc={'IQPbm':function(_0x584c66,_0xecd799,_0x4b9c0c){return _0x584c66(_0xecd799,_0x4b9c0c);},'xGscl':'_test'};return _0x29dacc[_0x239698(0xbb)](nestedKeyValue,_0x89b2b3,[_0x29dacc[_0x239698(0xa5)],'id'])||_0x89b2b3[_0x239698(0xc0)];}static[a42_0x402911(0xa4)](_0x1abcf8){const _0x3c5500=a42_0x402911,_0x3c16fa={'sGhpW':function(_0x314a3a,_0x3a0a68){return _0x314a3a===_0x3a0a68;},'jrxhs':_0x3c5500(0xb4),'vOfIT':function(_0x2ef7ed){return _0x2ef7ed();}};if(this[_0x3c5500(0xbc)][_0x1abcf8]&&_0x3c16fa[_0x3c5500(0xb3)](typeof this['tests'][_0x1abcf8][_0x3c5500(0x7d)],_0x3c16fa[_0x3c5500(0xbf)]))return this['tests'][_0x1abcf8][_0x3c5500(0x7d)];const _0x2afea2=this[_0x3c5500(0xb5)](_0x1abcf8);if(fs['existsSync'](_0x2afea2)){const _0x5f17c6=JSON[_0x3c5500(0x8d)](fs[_0x3c5500(0xaa)](_0x2afea2)[_0x3c5500(0x9c)]());return this[_0x3c5500(0xbc)][_0x1abcf8]=_0x5f17c6,this[_0x3c5500(0xbc)][_0x1abcf8][_0x3c5500(0x7d)];}return this[_0x3c5500(0xbc)][_0x1abcf8]={'uuid':_0x3c16fa[_0x3c5500(0x8b)](uuidv4)},fs[_0x3c5500(0xa9)](_0x2afea2,JSON[_0x3c5500(0xc6)](this['tests'][_0x1abcf8])),this[_0x3c5500(0xbc)][_0x1abcf8]['uuid'];}static[a42_0x402911(0x81)](_0x53c69a){const _0x242197=a42_0x402911,_0x200d0c=path[_0x242197(0x87)](this[_0x242197(0xa0)],_0x53c69a+_0x242197(0x73));if(fs[_0x242197(0xb0)](_0x200d0c))return fs[_0x242197(0xaa)](_0x200d0c)['toString']();}static['setAccessibilityPlatformValidation'](_0x3d490a,_0x1f8f29){const _0x542795=a42_0x402911,_0xfa1711=path[_0x542795(0x87)](this[_0x542795(0xa0)],_0x1f8f29+_0x542795(0x73));fs[_0x542795(0xa9)](_0xfa1711,_0x3d490a[_0x542795(0x9c)]());}static[a42_0x402911(0xcb)](){const _0xdfe78c=a42_0x402911,_0x59df80={};_0x59df80[_0xdfe78c(0x67)]=!![],_0x59df80[_0xdfe78c(0x6b)]=!![],fs[_0xdfe78c(0xa2)](this['dirPath'],_0x59df80);}static[a42_0x402911(0xbe)](_0x18b542){const _0x5ed0e6=a42_0x402911;if(this[_0x5ed0e6(0xbc)][_0x18b542])return this[_0x5ed0e6(0xbc)][_0x18b542];const _0x3b1402=this['getFilePath'](_0x18b542);if(fs[_0x5ed0e6(0xb0)](_0x3b1402)){const _0x3bf57c=JSON[_0x5ed0e6(0x8d)](fs[_0x5ed0e6(0xaa)](_0x3b1402)[_0x5ed0e6(0x9c)]());return this[_0x5ed0e6(0xbc)][_0x18b542]=_0x3bf57c,_0x3bf57c;}return{};}static[a42_0x402911(0x70)](_0x596a08,_0x373dd8){const _0x181a08=a42_0x402911,_0x1b9817=this[_0x181a08(0xb5)](_0x596a08);if(fs[_0x181a08(0xb0)](_0x1b9817)){const _0xf43edd=JSON[_0x181a08(0x8d)](fs['readFileSync'](_0x1b9817)[_0x181a08(0x9c)]()),_0x36a95e={..._0xf43edd,..._0x373dd8};this[_0x181a08(0xbc)][_0x596a08]=_0x36a95e;}else this['tests'][_0x596a08]=_0x373dd8;fs[_0x181a08(0xa9)](_0x1b9817,this[_0x181a08(0xbc)][_0x596a08]);}static[a42_0x402911(0xc3)](_0x4d93c4){const _0x3520c6=a42_0x402911,_0x5424d3={};_0x5424d3[_0x3520c6(0x98)]=_0x3520c6(0x7c);const _0x1a8c38=_0x5424d3;try{const _0x1e14b3=process[_0x3520c6(0xc5)],_0x3277f9=path['join'](TestDetails[_0x3520c6(0xa6)](),_0x1e14b3+_0x3520c6(0xa7));let _0x405ae3=[];fs[_0x3520c6(0xb0)](_0x3277f9)&&(_0x405ae3=JSON[_0x3520c6(0x8d)](fs[_0x3520c6(0xaa)](_0x3277f9)['toString']())),!_0x405ae3[_0x3520c6(0x99)](_0x45d400=>_0x45d400[_0x3520c6(0x92)]===_0x4d93c4[_0x3520c6(0x92)])&&(_0x405ae3['push'](_0x4d93c4),fs[_0x3520c6(0xa9)](_0x3277f9,JSON['stringify'](_0x405ae3)));}catch(_0x4826c4){logger['error'](_0x1a8c38[_0x3520c6(0x98)],_0x4826c4);}}static[a42_0x402911(0x75)](){const _0x65e767=a42_0x402911,_0x2c8f47={};_0x2c8f47['mzmiB']=_0x65e767(0xa7),_0x2c8f47['SWPHI']=_0x65e767(0xc1);const _0x20033c=_0x2c8f47,_0x378101=[];try{const _0x1b395c=TestDetails['getTraceZipDir']();if(!fs[_0x65e767(0xb0)](_0x1b395c))return _0x378101;const _0x1618ae=fs['readdirSync'](_0x1b395c);_0x1618ae[_0x65e767(0x77)](_0x1f97ba=>{const _0x5687f1=_0x65e767;if(_0x1f97ba[_0x5687f1(0xb2)](_0x20033c[_0x5687f1(0x8e)])){const _0x4478b7=JSON[_0x5687f1(0x8d)](fs[_0x5687f1(0xaa)](path[_0x5687f1(0x87)](_0x1b395c,_0x1f97ba))[_0x5687f1(0x9c)]());_0x378101['push'](..._0x4478b7);}});}catch(_0x1f9d36){logger['error'](util[_0x65e767(0xbd)](_0x20033c[_0x65e767(0x85)],_0x1f9d36));}const _0x57f449={};return _0x378101[_0x65e767(0x77)](_0x57ec4b=>{const _0x564176=_0x65e767;_0x57f449[_0x57ec4b[_0x564176(0x92)]]=_0x57ec4b;}),Object[_0x65e767(0xad)](_0x57f449);}static[a42_0x402911(0x6c)](_0x996b83,_0x332baa){const _0x1ab697=a42_0x402911,_0x765c14={};_0x765c14[_0x1ab697(0x7b)]='.browserstack',_0x765c14[_0x1ab697(0x9d)]=_0x1ab697(0x9f);const _0x2cd20d=_0x765c14;try{const _0x387203=path[_0x1ab697(0x87)](helper[_0x1ab697(0x83)](),_0x2cd20d[_0x1ab697(0x7b)]);if(!fs[_0x1ab697(0xb0)](_0x387203)){const _0x29fb01={};_0x29fb01['recursive']=!![],fs[_0x1ab697(0x80)](_0x387203,_0x29fb01);}fs[_0x1ab697(0x90)](path['join'](_0x387203,'trace_'+_0x332baa+_0x1ab697(0x6e)),_0x996b83+'\x0a',_0x2cd20d['sGWjL']);}catch(_0x569c56){console[_0x1ab697(0x8c)]('Error\x20writing\x20trace\x20file:\x20'+_0x569c56[_0x1ab697(0xc7)]);}}}module['exports']=TestDetails;