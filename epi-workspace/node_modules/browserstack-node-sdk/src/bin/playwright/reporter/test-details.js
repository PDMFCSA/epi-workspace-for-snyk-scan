const a46_0x57ab47=a46_0x34c9;(function(_0x55374d,_0x2cc925){const _0x9b1c77=a46_0x34c9,_0x550018=_0x55374d();while(!![]){try{const _0x4dee03=parseInt(_0x9b1c77(0x8f))/0x1+parseInt(_0x9b1c77(0xb4))/0x2*(parseInt(_0x9b1c77(0x84))/0x3)+parseInt(_0x9b1c77(0xc6))/0x4+parseInt(_0x9b1c77(0x90))/0x5*(parseInt(_0x9b1c77(0xcc))/0x6)+-parseInt(_0x9b1c77(0xa1))/0x7+parseInt(_0x9b1c77(0xc8))/0x8+-parseInt(_0x9b1c77(0x80))/0x9;if(_0x4dee03===_0x2cc925)break;else _0x550018['push'](_0x550018['shift']());}catch(_0x2afc7c){_0x550018['push'](_0x550018['shift']());}}}(a46_0x1658,0x1e37b));const fs=require('fs'),path=require('path'),{v4:uuidv4}=require(a46_0x57ab47(0x85)),{TEMP_STORE_DIR_NAME}=require(a46_0x57ab47(0x92)),{nestedKeyValue}=require('../../../helpers/helper'),logger=require('../../../helpers/logger')[a46_0x57ab47(0x9a)],{getLogDir}=require('../../../helpers/logger'),util=require(a46_0x57ab47(0xc1)),helper=require(a46_0x57ab47(0xbf));class TestDetails{static ['tests']={};static['setup'](){const _0x5ee303=a46_0x57ab47;this[_0x5ee303(0xa6)]();const _0x118033={};_0x118033['recursive']=!![],fs[_0x5ee303(0xc3)](this['getDirPath'](),_0x118033);const _0x1d5627={};_0x1d5627[_0x5ee303(0x7d)]=!![],fs[_0x5ee303(0xc3)](this[_0x5ee303(0xa9)](),_0x1d5627);}static['getStoreDirName'](){const _0x22999a=a46_0x57ab47,_0x2c3b85={};_0x2c3b85[_0x22999a(0xcd)]=function(_0x2e6af6,_0x36faf7){return _0x2e6af6+_0x36faf7;};const _0x33521c=_0x2c3b85;return _0x33521c[_0x22999a(0xcd)](_0x33521c[_0x22999a(0xcd)](TEMP_STORE_DIR_NAME,'-'),process[_0x22999a(0x93)][_0x22999a(0x7b)]);}static[a46_0x57ab47(0x9b)](){const _0x59b3ae=a46_0x57ab47,_0x16dabb={};_0x16dabb[_0x59b3ae(0xab)]=function(_0x5d93d1,_0x5d159c){return _0x5d93d1+_0x5d159c;},_0x16dabb[_0x59b3ae(0xc9)]=function(_0x69c466,_0x1e2e1d){return _0x69c466+_0x1e2e1d;},_0x16dabb['NzoMw']=_0x59b3ae(0x8d);const _0x4701b9=_0x16dabb;return path[_0x59b3ae(0xac)](_0x4701b9[_0x59b3ae(0xab)](_0x4701b9[_0x59b3ae(0xc9)](TEMP_STORE_DIR_NAME,'-'),process[_0x59b3ae(0x93)][_0x59b3ae(0x7b)]||_0x4701b9['NzoMw']));}static[a46_0x57ab47(0xa9)](){const _0x330d7f=a46_0x57ab47,_0x3aa508={};_0x3aa508[_0x330d7f(0x9f)]=_0x330d7f(0xad);const _0x370c71=_0x3aa508;return path[_0x330d7f(0xac)](this[_0x330d7f(0x9b)](),_0x370c71['MYZDT']);}static[a46_0x57ab47(0x7f)](){return TestDetails['getStoreDirName']();}static[a46_0x57ab47(0x88)](_0x3e0b97){const _0x22193c=a46_0x57ab47,_0x39f134={};_0x39f134[_0x22193c(0x87)]=function(_0x19f21f,_0x3083dd){return _0x19f21f+_0x3083dd;},_0x39f134['zQjCW']='.json';const _0x3bfe04=_0x39f134;return path[_0x22193c(0xac)](this[_0x22193c(0x7f)](),_0x3bfe04['OsHyu'](_0x3e0b97,_0x3bfe04['zQjCW']));}static[a46_0x57ab47(0xb7)](_0xbfa84c){const _0x1ae1bf=a46_0x57ab47,_0x414e22={};_0x414e22[_0x1ae1bf(0x96)]=function(_0x4dd251,_0x4910ba){return _0x4dd251+_0x4910ba;},_0x414e22['LvSmU']=function(_0x538ace,_0x9a8eef){return _0x538ace+_0x9a8eef;};const _0x1674af=_0x414e22;return _0x1674af[_0x1ae1bf(0x96)](_0x1674af[_0x1ae1bf(0x96)](_0x1674af['LvSmU'](_0x1674af[_0x1ae1bf(0xa2)](this[_0x1ae1bf(0x89)](_0xbfa84c),'-'),this[_0x1ae1bf(0xc0)](_0xbfa84c)),'-'),_0xbfa84c['retry']);}static[a46_0x57ab47(0x89)](_0x1b08f5){const _0x5414cd=a46_0x57ab47,_0x426391={'EYmDF':function(_0x69f68,_0x3723b4,_0xc9c4b7){return _0x69f68(_0x3723b4,_0xc9c4b7);},'eeUOa':'_test','phcUK':_0x5414cd(0xa7),'JhFEO':_0x5414cd(0xb3),'VPdVL':_0x5414cd(0xa4)};return _0x426391['EYmDF'](nestedKeyValue,_0x1b08f5,[_0x426391['eeUOa'],_0x426391['phcUK']])||_0x426391[_0x5414cd(0x98)](nestedKeyValue,_0x1b08f5,[_0x426391['JhFEO'],_0x426391['VPdVL']]);}static[a46_0x57ab47(0xc0)](_0xddf77c){const _0x1bb272=a46_0x57ab47,_0x4d7b4d={'sAypK':function(_0xd514b0,_0x293e52,_0x35f137){return _0xd514b0(_0x293e52,_0x35f137);},'xEmGm':_0x1bb272(0xaa)};return _0x4d7b4d[_0x1bb272(0xaf)](nestedKeyValue,_0xddf77c,[_0x4d7b4d[_0x1bb272(0x7e)],'id'])||_0xddf77c[_0x1bb272(0xb8)];}static[a46_0x57ab47(0xc5)](_0x23f926){const _0x2e6c1b=a46_0x57ab47,_0x574606={'TCWbZ':function(_0x42644a,_0x4f2a51){return _0x42644a===_0x4f2a51;},'hMPIi':'string','fnEVu':function(_0x96568f){return _0x96568f();}};if(this['tests'][_0x23f926]&&_0x574606[_0x2e6c1b(0xd1)](typeof this['tests'][_0x23f926][_0x2e6c1b(0x85)],_0x574606[_0x2e6c1b(0xc4)]))return this[_0x2e6c1b(0xa3)][_0x23f926]['uuid'];const _0x293a70=this[_0x2e6c1b(0x88)](_0x23f926);if(_0x293a70&&fs['existsSync'](_0x293a70)){const _0x1506b9=JSON['parse'](fs[_0x2e6c1b(0xb1)](_0x293a70)['toString']());return this[_0x2e6c1b(0xa3)][_0x23f926]=_0x1506b9,this['tests'][_0x23f926]['uuid'];}return this[_0x2e6c1b(0xa3)][_0x23f926]={'uuid':_0x574606[_0x2e6c1b(0xc7)](uuidv4)},fs['writeFileSync'](_0x293a70,JSON['stringify'](this[_0x2e6c1b(0xa3)][_0x23f926])),this[_0x2e6c1b(0xa3)][_0x23f926][_0x2e6c1b(0x85)];}static['getAccessibilityPlatformValidation'](_0x1c25ff){const _0x1b3e4e=a46_0x57ab47,_0x22eccf=path['join'](this['getDirPath'](),_0x1c25ff+_0x1b3e4e(0xbd));if(_0x22eccf&&fs[_0x1b3e4e(0x83)](_0x22eccf))return fs['readFileSync'](_0x22eccf)['toString']();}static[a46_0x57ab47(0x94)](_0x10b21c,_0x2ff910){const _0x2a3682=a46_0x57ab47,_0x246b7f=path[_0x2a3682(0xac)](this['getDirPath'](),_0x2ff910+_0x2a3682(0xbd));fs['writeFileSync'](_0x246b7f,_0x10b21c['toString']());}static[a46_0x57ab47(0xa6)](){const _0x1aae1d=a46_0x57ab47,_0x5c6be6={};_0x5c6be6['recursive']=!![],_0x5c6be6[_0x1aae1d(0x81)]=!![],fs[_0x1aae1d(0xca)](this['getDirPath'](),_0x5c6be6);}static[a46_0x57ab47(0x8c)](_0x500e6e){const _0x237fd7=a46_0x57ab47;if(this['tests'][_0x500e6e])return this[_0x237fd7(0xa3)][_0x500e6e];const _0x2f15db=this[_0x237fd7(0x88)](_0x500e6e);if(_0x2f15db&&fs['existsSync'](_0x2f15db)){const _0x2c606c=JSON['parse'](fs[_0x237fd7(0xb1)](_0x2f15db)[_0x237fd7(0xa5)]());return this['tests'][_0x500e6e]=_0x2c606c,_0x2c606c;}return{};}static[a46_0x57ab47(0x95)](_0x3f9e32,_0x2af358){const _0x41b949=a46_0x57ab47,_0x338a48=this[_0x41b949(0x88)](_0x3f9e32);if(_0x338a48&&fs[_0x41b949(0x83)](_0x338a48)){const _0x2423ba=JSON[_0x41b949(0xb5)](fs[_0x41b949(0xb1)](_0x338a48)[_0x41b949(0xa5)]()),_0x16941c={..._0x2423ba,..._0x2af358};this[_0x41b949(0xa3)][_0x3f9e32]=_0x16941c;}else this['tests'][_0x3f9e32]=_0x2af358;fs[_0x41b949(0xb6)](_0x338a48,this[_0x41b949(0xa3)][_0x3f9e32]);}static['addTraceFilePath'](_0x45ff76){const _0x33d19b=a46_0x57ab47,_0x251c15={};_0x251c15[_0x33d19b(0x86)]=_0x33d19b(0x9d);const _0x2fc4ec=_0x251c15;try{const _0x481369=process['pid'],_0x430f31=path['join'](TestDetails['getTraceZipDir'](),_0x481369+'_traceZipPaths.json');let _0x453216=[];_0x430f31&&fs[_0x33d19b(0x83)](_0x430f31)&&(_0x453216=JSON['parse'](fs[_0x33d19b(0xb1)](_0x430f31)[_0x33d19b(0xa5)]())),!_0x453216[_0x33d19b(0xd0)](_0x12469f=>_0x12469f[_0x33d19b(0x9c)]===_0x45ff76['filePath'])&&(_0x453216[_0x33d19b(0x99)](_0x45ff76),fs[_0x33d19b(0xb6)](_0x430f31,JSON[_0x33d19b(0xb0)](_0x453216)));}catch(_0x7b82f){logger[_0x33d19b(0x82)](_0x2fc4ec['Xfbtw'],_0x7b82f);}}static[a46_0x57ab47(0x7c)](){const _0x5f5516=a46_0x57ab47,_0x15551e={};_0x15551e[_0x5f5516(0x9e)]=_0x5f5516(0xa8),_0x15551e['qQQsp']=_0x5f5516(0x7a);const _0x1fa34e=_0x15551e,_0x5a445b=[];try{const _0x13488f=TestDetails['getTraceZipDir']();if(_0x13488f&&!fs['existsSync'](_0x13488f))return _0x5a445b;const _0x30a55d=fs[_0x5f5516(0x8b)](_0x13488f);_0x30a55d[_0x5f5516(0xb9)](_0xb5004c=>{const _0x40720e=_0x5f5516;if(_0xb5004c&&_0xb5004c[_0x40720e(0x8a)](_0x1fa34e[_0x40720e(0x9e)])){const _0x2897ea=JSON[_0x40720e(0xb5)](fs[_0x40720e(0xb1)](path[_0x40720e(0xac)](_0x13488f,_0xb5004c))[_0x40720e(0xa5)]());_0x5a445b['push'](..._0x2897ea);}});}catch(_0x191b05){logger[_0x5f5516(0x82)](util[_0x5f5516(0xce)](_0x1fa34e[_0x5f5516(0xa0)],_0x191b05));}const _0x2f88e5={};return _0x5a445b[_0x5f5516(0xb9)](_0x3c04b5=>{const _0x1d5072=_0x5f5516;_0x2f88e5[_0x3c04b5[_0x1d5072(0x9c)]]=_0x3c04b5;}),Object[_0x5f5516(0xcf)](_0x2f88e5);}static[a46_0x57ab47(0xbb)](_0x2148fc,_0x189b31){const _0x29fec0=a46_0x57ab47,_0x4e6e8f={};_0x4e6e8f[_0x29fec0(0xc2)]=_0x29fec0(0xb2),_0x4e6e8f[_0x29fec0(0xae)]=_0x29fec0(0xbc);const _0x459494=_0x4e6e8f;try{const _0x43ef47=path[_0x29fec0(0xac)](helper[_0x29fec0(0xbe)](),_0x459494[_0x29fec0(0xc2)]);if(!fs[_0x29fec0(0x83)](_0x43ef47)){const _0x1c27a0={};_0x1c27a0[_0x29fec0(0x7d)]=!![],fs[_0x29fec0(0xc3)](_0x43ef47,_0x1c27a0);}fs[_0x29fec0(0xba)](path[_0x29fec0(0xac)](_0x43ef47,_0x29fec0(0x8e)+_0x189b31+_0x29fec0(0xcb)),_0x2148fc+'\x0a',_0x459494[_0x29fec0(0xae)]);}catch(_0xe3b4cc){console[_0x29fec0(0x82)](_0x29fec0(0x91)+_0xe3b4cc['message']);}}}function a46_0x34c9(_0x501792,_0x3044ab){const _0x165855=a46_0x1658();return a46_0x34c9=function(_0x34c929,_0x3ec057){_0x34c929=_0x34c929-0x7a;let _0x3f10d1=_0x165855[_0x34c929];return _0x3f10d1;},a46_0x34c9(_0x501792,_0x3044ab);}module[a46_0x57ab47(0x97)]=TestDetails;function a46_0x1658(){const _0x361915=['util','NCcHz','mkdirSync','hMPIi','getTestUUID','50284vJFXiR','fnEVu','1806456AiYtMu','OCPfl','rmSync','.txt','19818zVtZZi','qhFpr','format','values','some','TCWbZ','Error\x20reading\x20trace\x20file\x20paths:\x20%s','BS_TESTOPS_BUILD_HASHED_ID','getTraceFilePaths','recursive','xEmGm','getDirPath','4346487gjtQXN','force','error','existsSync','5583GqhsuV','uuid','Xfbtw','OsHyu','getFilePath','getProjectIdFromTestInfo','endsWith','readdirSync','getTestDetails','default','trace_','122586XvnGbl','290uBmOrB','Error\x20writing\x20trace\x20file:\x20','../../../helpers/test-observability/constants','env','setAccessibilityPlatformValidation','setTestDetails','kCFen','exports','EYmDF','push','winstonLogger','getStoreDirPath','filePath','Error\x20handling\x20trace\x20file\x20paths:\x20','fMaVm','MYZDT','qQQsp','493577mmRNba','LvSmU','tests','__projectId','toString','shutdown','_projectId','_traceZipPaths.json','getTraceZipDir','_test','xikgs','join','traceZipPaths','EAOpS','sAypK','stringify','readFileSync','.browserstack','project','134ntNucq','parse','writeFileSync','getTestRunIdFromTestInfo','testId','forEach','appendFileSync','appendToTracePaths','utf8','_platformDetails.json','homedir','../../../helpers/helper','getTestIdFromTestInfo'];a46_0x1658=function(){return _0x361915;};return a46_0x1658();}