const a45_0x5af0c1=a45_0x2f2d;function a45_0x5d9b(){const _0x10bfcd=['zpKTL','getFilePath','traceZipPaths','values','addTraceFilePath','_test','existsSync','4186819iuqOZD','_projectId','appendToTracePaths','mkdirSync','fszwz','1393527GqhSzE','572660yQWLlJ','project','743215jENTmV','toString','recursive','HBTWP','env','getTestRunIdFromTestInfo','../../../helpers/logger','__projectId','homedir','stringify','getTestDetails','BS_TESTOPS_BUILD_HASHED_ID','getTestIdFromTestInfo','parse','mruWe','../../../helpers/helper','string','AAOsV','BuBFD','yXsdt','63588HuXAKC','push','some','getStoreDirPath','shutdown','trace_','force','Error\x20writing\x20trace\x20file:\x20','.json','pzgHI','AHqVt','_traceZipPaths.json','winstonLogger','getTestUUID','forEach','pyZor','GaMgW','LAYBt','retry','getAccessibilityPlatformValidation','uRAlA','uuid','FxMGH','ZtVut','message','getStoreDirName','UWLKm','EHozl','4957632BJzZdP','16mtTnOf','writeFileSync','util','.txt','tests','5842512nFByAv','filePath','path','error','getTraceZipDir','mCMmN','dDpXB','_platformDetails.json','testId','getDirPath','format','setAccessibilityPlatformValidation','9GuMGJU','readFileSync','pid','join','gGukl'];a45_0x5d9b=function(){return _0x10bfcd;};return a45_0x5d9b();}(function(_0x3b1ab1,_0x173ad6){const _0x36dbd3=a45_0x2f2d,_0x29cf7e=_0x3b1ab1();while(!![]){try{const _0x27d43a=-parseInt(_0x36dbd3(0x1ed))/0x1+-parseInt(_0x36dbd3(0x1ee))/0x2+-parseInt(_0x36dbd3(0x232))/0x3*(parseInt(_0x36dbd3(0x204))/0x4)+-parseInt(_0x36dbd3(0x1f0))/0x5+parseInt(_0x36dbd3(0x220))/0x6+parseInt(_0x36dbd3(0x1e8))/0x7+parseInt(_0x36dbd3(0x221))/0x8*(parseInt(_0x36dbd3(0x226))/0x9);if(_0x27d43a===_0x173ad6)break;else _0x29cf7e['push'](_0x29cf7e['shift']());}catch(_0x14c12e){_0x29cf7e['push'](_0x29cf7e['shift']());}}}(a45_0x5d9b,0xceac6));function a45_0x2f2d(_0x45cfeb,_0x41d0e8){const _0x5d9b48=a45_0x5d9b();return a45_0x2f2d=function(_0x2f2d66,_0x911047){_0x2f2d66=_0x2f2d66-0x1dd;let _0xcebcd0=_0x5d9b48[_0x2f2d66];return _0xcebcd0;},a45_0x2f2d(_0x45cfeb,_0x41d0e8);}const fs=require('fs'),path=require(a45_0x5af0c1(0x228)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require('../../../helpers/test-observability/constants'),{nestedKeyValue}=require(a45_0x5af0c1(0x1ff)),logger=require(a45_0x5af0c1(0x1f6))[a45_0x5af0c1(0x210)],{getLogDir}=require(a45_0x5af0c1(0x1f6)),util=require(a45_0x5af0c1(0x223)),helper=require(a45_0x5af0c1(0x1ff));class TestDetails{static [a45_0x5af0c1(0x225)]={};static['setup'](){const _0x2b830b=a45_0x5af0c1;this[_0x2b830b(0x208)]();const _0x168700={};_0x168700['recursive']=!![],fs['mkdirSync'](this[_0x2b830b(0x22f)](),_0x168700);const _0x141a91={};_0x141a91[_0x2b830b(0x1f2)]=!![],fs[_0x2b830b(0x1eb)](this[_0x2b830b(0x22a)](),_0x141a91);}static[a45_0x5af0c1(0x21d)](){const _0x5d1160=a45_0x5af0c1,_0x521daa={};_0x521daa['AHqVt']=function(_0x1465b2,_0xaaec31){return _0x1465b2+_0xaaec31;};const _0x4d1f20=_0x521daa;return _0x4d1f20[_0x5d1160(0x20e)](_0x4d1f20['AHqVt'](TEMP_STORE_DIR_NAME,'-'),process[_0x5d1160(0x1f4)]['BS_TESTOPS_BUILD_HASHED_ID']);}static[a45_0x5af0c1(0x207)](){const _0x199890=a45_0x5af0c1,_0x24cf7c={};_0x24cf7c[_0x199890(0x218)]=function(_0x3f68d6,_0x4f35ec){return _0x3f68d6+_0x4f35ec;},_0x24cf7c[_0x199890(0x21b)]='default';const _0x2848b8=_0x24cf7c;return path['join'](_0x2848b8[_0x199890(0x218)](_0x2848b8[_0x199890(0x218)](TEMP_STORE_DIR_NAME,'-'),process[_0x199890(0x1f4)][_0x199890(0x1fb)]||_0x2848b8['ZtVut']));}static['getTraceZipDir'](){const _0x4657b2=a45_0x5af0c1,_0x48cda2={};_0x48cda2[_0x4657b2(0x213)]=_0x4657b2(0x1e3);const _0x58b567=_0x48cda2;return path[_0x4657b2(0x1df)](this[_0x4657b2(0x207)](),_0x58b567['pyZor']);}static['getDirPath'](){const _0x250b0a=a45_0x5af0c1;return TestDetails[_0x250b0a(0x21d)]();}static[a45_0x5af0c1(0x1e2)](_0x5c6b09){const _0x42d673=a45_0x5af0c1,_0x346532={};_0x346532[_0x42d673(0x202)]=function(_0x366f20,_0x4e490d){return _0x366f20+_0x4e490d;},_0x346532['dDpXB']=_0x42d673(0x20c);const _0x28fc95=_0x346532;return path['join'](this[_0x42d673(0x22f)](),_0x28fc95[_0x42d673(0x202)](_0x5c6b09,_0x28fc95[_0x42d673(0x22c)]));}static[a45_0x5af0c1(0x1f5)](_0x5121c1){const _0x5cdfcf=a45_0x5af0c1,_0x23b0fa={};_0x23b0fa[_0x5cdfcf(0x1fe)]=function(_0x5c4942,_0xc817be){return _0x5c4942+_0xc817be;},_0x23b0fa['EHozl']=function(_0x5cecd5,_0x1a2b7a){return _0x5cecd5+_0x1a2b7a;};const _0x3208b4=_0x23b0fa;return _0x3208b4['mruWe'](_0x3208b4[_0x5cdfcf(0x21f)](_0x3208b4[_0x5cdfcf(0x21f)](_0x3208b4[_0x5cdfcf(0x21f)](this['getProjectIdFromTestInfo'](_0x5121c1),'-'),this[_0x5cdfcf(0x1fc)](_0x5121c1)),'-'),_0x5121c1[_0x5cdfcf(0x216)]);}static['getProjectIdFromTestInfo'](_0xeba4d0){const _0x4100ca=a45_0x5af0c1,_0x1dc3c9={'fszwz':function(_0x362323,_0x50c3f3,_0x57ad77){return _0x362323(_0x50c3f3,_0x57ad77);},'zpKTL':_0x4100ca(0x1e6),'AAOsV':_0x4100ca(0x1e9),'MhSQX':_0x4100ca(0x1ef),'mCMmN':_0x4100ca(0x1f7)};return _0x1dc3c9[_0x4100ca(0x1ec)](nestedKeyValue,_0xeba4d0,[_0x1dc3c9[_0x4100ca(0x1e1)],_0x1dc3c9[_0x4100ca(0x201)]])||_0x1dc3c9['fszwz'](nestedKeyValue,_0xeba4d0,[_0x1dc3c9['MhSQX'],_0x1dc3c9[_0x4100ca(0x22b)]]);}static['getTestIdFromTestInfo'](_0xd959f9){const _0x50fbf4=a45_0x5af0c1,_0x1942ea={'UWLKm':function(_0x16099c,_0x2fc8da,_0x10ee38){return _0x16099c(_0x2fc8da,_0x10ee38);},'ORQHR':_0x50fbf4(0x1e6)};return _0x1942ea[_0x50fbf4(0x21e)](nestedKeyValue,_0xd959f9,[_0x1942ea['ORQHR'],'id'])||_0xd959f9[_0x50fbf4(0x22e)];}static[a45_0x5af0c1(0x211)](_0x54bcab){const _0x323089=a45_0x5af0c1,_0x2fb317={'HBTWP':function(_0x1812a6,_0x4558e6){return _0x1812a6===_0x4558e6;},'DmvLZ':_0x323089(0x200),'FxMGH':function(_0x39a43a){return _0x39a43a();}};if(this[_0x323089(0x225)][_0x54bcab]&&_0x2fb317[_0x323089(0x1f3)](typeof this[_0x323089(0x225)][_0x54bcab][_0x323089(0x219)],_0x2fb317['DmvLZ']))return this[_0x323089(0x225)][_0x54bcab][_0x323089(0x219)];const _0x5abe66=this[_0x323089(0x1e2)](_0x54bcab);if(_0x5abe66&&fs[_0x323089(0x1e7)](_0x5abe66)){const _0x676bc1=JSON[_0x323089(0x1fd)](fs[_0x323089(0x1dd)](_0x5abe66)[_0x323089(0x1f1)]());return this[_0x323089(0x225)][_0x54bcab]=_0x676bc1,this[_0x323089(0x225)][_0x54bcab][_0x323089(0x219)];}return this[_0x323089(0x225)][_0x54bcab]={'uuid':_0x2fb317[_0x323089(0x21a)](uuidv4)},fs['writeFileSync'](_0x5abe66,JSON[_0x323089(0x1f9)](this[_0x323089(0x225)][_0x54bcab])),this['tests'][_0x54bcab]['uuid'];}static[a45_0x5af0c1(0x217)](_0x20cba2){const _0x1834b0=a45_0x5af0c1,_0x4668a8=path[_0x1834b0(0x1df)](this[_0x1834b0(0x22f)](),_0x20cba2+_0x1834b0(0x22d));if(_0x4668a8&&fs[_0x1834b0(0x1e7)](_0x4668a8))return fs['readFileSync'](_0x4668a8)[_0x1834b0(0x1f1)]();}static[a45_0x5af0c1(0x231)](_0x4b9b68,_0x48636f){const _0x5bece0=a45_0x5af0c1,_0x33de54=path[_0x5bece0(0x1df)](this[_0x5bece0(0x22f)](),_0x48636f+_0x5bece0(0x22d));fs['writeFileSync'](_0x33de54,_0x4b9b68[_0x5bece0(0x1f1)]());}static[a45_0x5af0c1(0x208)](){const _0x3d6367=a45_0x5af0c1,_0xa39574={};_0xa39574[_0x3d6367(0x1f2)]=!![],_0xa39574[_0x3d6367(0x20a)]=!![],fs['rmSync'](this[_0x3d6367(0x22f)](),_0xa39574);}static[a45_0x5af0c1(0x1fa)](_0x5a444c){const _0x5c8798=a45_0x5af0c1;if(this['tests'][_0x5a444c])return this[_0x5c8798(0x225)][_0x5a444c];const _0x93955c=this[_0x5c8798(0x1e2)](_0x5a444c);if(_0x93955c&&fs[_0x5c8798(0x1e7)](_0x93955c)){const _0x39f23e=JSON[_0x5c8798(0x1fd)](fs[_0x5c8798(0x1dd)](_0x93955c)[_0x5c8798(0x1f1)]());return this[_0x5c8798(0x225)][_0x5a444c]=_0x39f23e,_0x39f23e;}return{};}static['setTestDetails'](_0xd02d9,_0x1b8c31){const _0x5bd4d3=a45_0x5af0c1,_0x340d0a=this[_0x5bd4d3(0x1e2)](_0xd02d9);if(_0x340d0a&&fs[_0x5bd4d3(0x1e7)](_0x340d0a)){const _0x5ea193=JSON['parse'](fs[_0x5bd4d3(0x1dd)](_0x340d0a)[_0x5bd4d3(0x1f1)]()),_0x5acf13={..._0x5ea193,..._0x1b8c31};this[_0x5bd4d3(0x225)][_0xd02d9]=_0x5acf13;}else this['tests'][_0xd02d9]=_0x1b8c31;fs['writeFileSync'](_0x340d0a,this[_0x5bd4d3(0x225)][_0xd02d9]);}static[a45_0x5af0c1(0x1e5)](_0x36ba3c){const _0x25aab5=a45_0x5af0c1,_0x515f4d={};_0x515f4d[_0x25aab5(0x1e0)]='Error\x20handling\x20trace\x20file\x20paths:\x20';const _0x82c752=_0x515f4d;try{const _0x2f22f3=process[_0x25aab5(0x1de)],_0xd4098c=path[_0x25aab5(0x1df)](TestDetails['getTraceZipDir'](),_0x2f22f3+_0x25aab5(0x20f));let _0x5ce50f=[];_0xd4098c&&fs[_0x25aab5(0x1e7)](_0xd4098c)&&(_0x5ce50f=JSON[_0x25aab5(0x1fd)](fs[_0x25aab5(0x1dd)](_0xd4098c)[_0x25aab5(0x1f1)]())),!_0x5ce50f[_0x25aab5(0x206)](_0x593035=>_0x593035[_0x25aab5(0x227)]===_0x36ba3c['filePath'])&&(_0x5ce50f[_0x25aab5(0x205)](_0x36ba3c),fs[_0x25aab5(0x222)](_0xd4098c,JSON['stringify'](_0x5ce50f)));}catch(_0x205cb3){logger[_0x25aab5(0x229)](_0x82c752[_0x25aab5(0x1e0)],_0x205cb3);}}static['getTraceFilePaths'](){const _0x2bd917=a45_0x5af0c1,_0x596120={};_0x596120[_0x2bd917(0x215)]=_0x2bd917(0x20f),_0x596120[_0x2bd917(0x20d)]='Error\x20reading\x20trace\x20file\x20paths:\x20%s';const _0x1fd606=_0x596120,_0x5498be=[];try{const _0x18ae79=TestDetails[_0x2bd917(0x22a)]();if(_0x18ae79&&!fs['existsSync'](_0x18ae79))return _0x5498be;const _0x285c17=fs['readdirSync'](_0x18ae79);_0x285c17['forEach'](_0x24194b=>{const _0x422307=_0x2bd917;if(_0x24194b&&_0x24194b['endsWith'](_0x1fd606[_0x422307(0x215)])){const _0xb14809=JSON['parse'](fs[_0x422307(0x1dd)](path['join'](_0x18ae79,_0x24194b))[_0x422307(0x1f1)]());_0x5498be[_0x422307(0x205)](..._0xb14809);}});}catch(_0x2aab41){logger[_0x2bd917(0x229)](util[_0x2bd917(0x230)](_0x1fd606['pzgHI'],_0x2aab41));}const _0x172daf={};return _0x5498be[_0x2bd917(0x212)](_0xafac91=>{const _0x48ee23=_0x2bd917;_0x172daf[_0xafac91[_0x48ee23(0x227)]]=_0xafac91;}),Object[_0x2bd917(0x1e4)](_0x172daf);}static[a45_0x5af0c1(0x1ea)](_0x54ec9b,_0x5a71f4){const _0x51e2e3=a45_0x5af0c1,_0x21633b={};_0x21633b['yXsdt']='.browserstack',_0x21633b[_0x51e2e3(0x214)]='utf8';const _0x4d12b8=_0x21633b;try{const _0x1e9d70=path['join'](helper[_0x51e2e3(0x1f8)](),_0x4d12b8[_0x51e2e3(0x203)]);if(!fs[_0x51e2e3(0x1e7)](_0x1e9d70)){const _0x56c3b6={};_0x56c3b6[_0x51e2e3(0x1f2)]=!![],fs[_0x51e2e3(0x1eb)](_0x1e9d70,_0x56c3b6);}fs['appendFileSync'](path[_0x51e2e3(0x1df)](_0x1e9d70,_0x51e2e3(0x209)+_0x5a71f4+_0x51e2e3(0x224)),_0x54ec9b+'\x0a',_0x4d12b8['GaMgW']);}catch(_0x7692da){console['error'](_0x51e2e3(0x20b)+_0x7692da[_0x51e2e3(0x21c)]);}}}module['exports']=TestDetails;