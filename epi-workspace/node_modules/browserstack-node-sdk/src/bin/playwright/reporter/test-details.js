const a43_0x380f7b=a43_0x4042;(function(_0x5f2cce,_0x3cc6d6){const _0x3d89e3=a43_0x4042,_0x231b73=_0x5f2cce();while(!![]){try{const _0x52edeb=-parseInt(_0x3d89e3(0x162))/0x1+-parseInt(_0x3d89e3(0x17c))/0x2+-parseInt(_0x3d89e3(0x158))/0x3*(-parseInt(_0x3d89e3(0x151))/0x4)+parseInt(_0x3d89e3(0x134))/0x5*(parseInt(_0x3d89e3(0x147))/0x6)+-parseInt(_0x3d89e3(0x15c))/0x7+parseInt(_0x3d89e3(0x15b))/0x8+-parseInt(_0x3d89e3(0x175))/0x9*(parseInt(_0x3d89e3(0x17e))/0xa);if(_0x52edeb===_0x3cc6d6)break;else _0x231b73['push'](_0x231b73['shift']());}catch(_0x3ce1a8){_0x231b73['push'](_0x231b73['shift']());}}}(a43_0x4015,0xe5b95));const fs=require('fs'),path=require('path'),{v4:uuidv4}=require(a43_0x380f7b(0x16c)),{TEMP_STORE_DIR_NAME}=require('../../../helpers/test-observability/constants'),{nestedKeyValue}=require(a43_0x380f7b(0x14e)),logger=require('../../../helpers/logger')[a43_0x380f7b(0x16a)],{getLogDir}=require(a43_0x380f7b(0x156)),util=require(a43_0x380f7b(0x15f)),helper=require(a43_0x380f7b(0x14e));function a43_0x4042(_0x5464ba,_0x226523){const _0x401599=a43_0x4015();return a43_0x4042=function(_0x4042f4,_0x141324){_0x4042f4=_0x4042f4-0x131;let _0x5b8b5c=_0x401599[_0x4042f4];return _0x5b8b5c;},a43_0x4042(_0x5464ba,_0x226523);}class TestDetails{static [a43_0x380f7b(0x173)]={};static[a43_0x380f7b(0x149)](){const _0x3459d7=a43_0x380f7b;this[_0x3459d7(0x159)]();const _0x13a85e={};_0x13a85e['recursive']=!![],fs[_0x3459d7(0x138)](this[_0x3459d7(0x155)](),_0x13a85e);const _0x51af5f={};_0x51af5f[_0x3459d7(0x171)]=!![],fs[_0x3459d7(0x138)](this['getTraceZipDir'](),_0x51af5f);}static[a43_0x380f7b(0x180)](){const _0x147be0=a43_0x380f7b,_0x1c17b0={};_0x1c17b0[_0x147be0(0x13d)]=function(_0x4aac07,_0x7b2f75){return _0x4aac07+_0x7b2f75;},_0x1c17b0[_0x147be0(0x14a)]=function(_0x58a4a6,_0x30edea){return _0x58a4a6+_0x30edea;};const _0x1239ff=_0x1c17b0;return _0x1239ff['iDanb'](_0x1239ff['ABoIS'](TEMP_STORE_DIR_NAME,'-'),process[_0x147be0(0x14b)]['BS_TESTOPS_BUILD_HASHED_ID']);}static[a43_0x380f7b(0x178)](){const _0x18a655=a43_0x380f7b,_0x444e8b={};_0x444e8b[_0x18a655(0x170)]=function(_0x4e57f8,_0x58e9f2){return _0x4e57f8+_0x58e9f2;},_0x444e8b['uRfjE']=function(_0x1e2534,_0x45f742){return _0x1e2534+_0x45f742;},_0x444e8b['rTecZ']='default';const _0x889b7f=_0x444e8b;return path[_0x18a655(0x168)](_0x889b7f[_0x18a655(0x170)](_0x889b7f[_0x18a655(0x13e)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x18a655(0x143)]||_0x889b7f[_0x18a655(0x152)]));}static[a43_0x380f7b(0x179)](){const _0x38ded5=a43_0x380f7b,_0x17220b={};_0x17220b[_0x38ded5(0x131)]='traceZipPaths';const _0x3f38a2=_0x17220b;return path[_0x38ded5(0x168)](this[_0x38ded5(0x178)](),_0x3f38a2[_0x38ded5(0x131)]);}static['getDirPath'](){const _0x4d6700=a43_0x380f7b;return TestDetails[_0x4d6700(0x180)]();}static[a43_0x380f7b(0x186)](_0x644fe7){const _0x553a80=a43_0x380f7b,_0x173aa1={};_0x173aa1['VTXJz']=function(_0x2d45b7,_0x51b6cf){return _0x2d45b7+_0x51b6cf;},_0x173aa1[_0x553a80(0x15a)]=_0x553a80(0x148);const _0x2458f0=_0x173aa1;return path[_0x553a80(0x168)](this[_0x553a80(0x155)](),_0x2458f0['VTXJz'](_0x644fe7,_0x2458f0[_0x553a80(0x15a)]));}static[a43_0x380f7b(0x13f)](_0x37dc62){const _0x2d0e44=a43_0x380f7b,_0x1b21f5={};_0x1b21f5[_0x2d0e44(0x17d)]=function(_0x514ffe,_0x258049){return _0x514ffe+_0x258049;},_0x1b21f5[_0x2d0e44(0x166)]=function(_0x11568a,_0x147f62){return _0x11568a+_0x147f62;},_0x1b21f5[_0x2d0e44(0x16e)]=function(_0xd455b5,_0x31e854){return _0xd455b5+_0x31e854;};const _0x13a1b7=_0x1b21f5;return _0x13a1b7[_0x2d0e44(0x17d)](_0x13a1b7[_0x2d0e44(0x166)](_0x13a1b7['wpwcN'](_0x13a1b7[_0x2d0e44(0x16e)](this[_0x2d0e44(0x160)](_0x37dc62),'-'),this[_0x2d0e44(0x188)](_0x37dc62)),'-'),_0x37dc62[_0x2d0e44(0x182)]);}static[a43_0x380f7b(0x160)](_0x5692cd){const _0x5a970c=a43_0x380f7b,_0x36e1c5={'QwzHv':function(_0x56a707,_0x32ef34,_0x1d5ffc){return _0x56a707(_0x32ef34,_0x1d5ffc);},'dkxMt':_0x5a970c(0x18a),'xGnjd':'_projectId','GPnrE':function(_0x1635b7,_0x266513,_0x49dbb4){return _0x1635b7(_0x266513,_0x49dbb4);},'ueHyJ':_0x5a970c(0x153),'tjXyQ':_0x5a970c(0x135)};return _0x36e1c5[_0x5a970c(0x163)](nestedKeyValue,_0x5692cd,[_0x36e1c5[_0x5a970c(0x16b)],_0x36e1c5['xGnjd']])||_0x36e1c5['GPnrE'](nestedKeyValue,_0x5692cd,[_0x36e1c5[_0x5a970c(0x136)],_0x36e1c5[_0x5a970c(0x17f)]]);}static['getTestIdFromTestInfo'](_0x1e7259){const _0x11aa2f=a43_0x380f7b,_0x261cf2={'DwYLc':function(_0x50636c,_0x3ae747,_0x144828){return _0x50636c(_0x3ae747,_0x144828);},'usdER':_0x11aa2f(0x18a)};return _0x261cf2[_0x11aa2f(0x144)](nestedKeyValue,_0x1e7259,[_0x261cf2[_0x11aa2f(0x184)],'id'])||_0x1e7259[_0x11aa2f(0x189)];}static[a43_0x380f7b(0x177)](_0x5ed7e1){const _0x26b508=a43_0x380f7b,_0x1ec2b1={'eAEKD':function(_0x2b2445,_0x471ff0){return _0x2b2445===_0x471ff0;},'HYBWy':'string','fwcgP':function(_0x4b4eb7){return _0x4b4eb7();}};if(this['tests'][_0x5ed7e1]&&_0x1ec2b1[_0x26b508(0x133)](typeof this[_0x26b508(0x173)][_0x5ed7e1]['uuid'],_0x1ec2b1[_0x26b508(0x154)]))return this[_0x26b508(0x173)][_0x5ed7e1][_0x26b508(0x16c)];const _0x39b5f7=this[_0x26b508(0x186)](_0x5ed7e1);if(_0x39b5f7&&fs[_0x26b508(0x174)](_0x39b5f7)){const _0x36fca0=JSON[_0x26b508(0x185)](fs[_0x26b508(0x157)](_0x39b5f7)[_0x26b508(0x169)]());return this[_0x26b508(0x173)][_0x5ed7e1]=_0x36fca0,this[_0x26b508(0x173)][_0x5ed7e1]['uuid'];}return this[_0x26b508(0x173)][_0x5ed7e1]={'uuid':_0x1ec2b1[_0x26b508(0x167)](uuidv4)},fs[_0x26b508(0x176)](_0x39b5f7,JSON[_0x26b508(0x16d)](this[_0x26b508(0x173)][_0x5ed7e1])),this[_0x26b508(0x173)][_0x5ed7e1][_0x26b508(0x16c)];}static[a43_0x380f7b(0x14f)](_0x2de57e){const _0x5a696e=a43_0x380f7b,_0x16b597=path[_0x5a696e(0x168)](this[_0x5a696e(0x155)](),_0x2de57e+_0x5a696e(0x142));if(_0x16b597&&fs[_0x5a696e(0x174)](_0x16b597))return fs[_0x5a696e(0x157)](_0x16b597)[_0x5a696e(0x169)]();}static[a43_0x380f7b(0x172)](_0x4f395f,_0x21cfbd){const _0x14b0c2=a43_0x380f7b,_0x22adaf=path[_0x14b0c2(0x168)](this[_0x14b0c2(0x155)](),_0x21cfbd+_0x14b0c2(0x142));fs[_0x14b0c2(0x176)](_0x22adaf,_0x4f395f[_0x14b0c2(0x169)]());}static[a43_0x380f7b(0x159)](){const _0x127c2e=a43_0x380f7b,_0x44e9dd={};_0x44e9dd[_0x127c2e(0x171)]=!![],_0x44e9dd['force']=!![],fs['rmSync'](this[_0x127c2e(0x155)](),_0x44e9dd);}static[a43_0x380f7b(0x141)](_0x54a93b){const _0x12e9ff=a43_0x380f7b;if(this[_0x12e9ff(0x173)][_0x54a93b])return this[_0x12e9ff(0x173)][_0x54a93b];const _0x1da9a8=this[_0x12e9ff(0x186)](_0x54a93b);if(_0x1da9a8&&fs[_0x12e9ff(0x174)](_0x1da9a8)){const _0x17cc93=JSON[_0x12e9ff(0x185)](fs[_0x12e9ff(0x157)](_0x1da9a8)['toString']());return this['tests'][_0x54a93b]=_0x17cc93,_0x17cc93;}return{};}static['setTestDetails'](_0x3469db,_0x4a90ee){const _0x255f4e=a43_0x380f7b,_0x190b5c=this[_0x255f4e(0x186)](_0x3469db);if(_0x190b5c&&fs[_0x255f4e(0x174)](_0x190b5c)){const _0x34edd8=JSON[_0x255f4e(0x185)](fs[_0x255f4e(0x157)](_0x190b5c)[_0x255f4e(0x169)]()),_0x108a23={..._0x34edd8,..._0x4a90ee};this[_0x255f4e(0x173)][_0x3469db]=_0x108a23;}else this[_0x255f4e(0x173)][_0x3469db]=_0x4a90ee;fs['writeFileSync'](_0x190b5c,this['tests'][_0x3469db]);}static[a43_0x380f7b(0x181)](_0x95226c){const _0x521f4e=a43_0x380f7b,_0x3d09a4={};_0x3d09a4[_0x521f4e(0x13a)]=_0x521f4e(0x137);const _0x28b1c2=_0x3d09a4;try{const _0xbcac98=process[_0x521f4e(0x161)],_0x2be214=path[_0x521f4e(0x168)](TestDetails[_0x521f4e(0x179)](),_0xbcac98+'_traceZipPaths.json');let _0x58f42e=[];_0x2be214&&fs[_0x521f4e(0x174)](_0x2be214)&&(_0x58f42e=JSON[_0x521f4e(0x185)](fs[_0x521f4e(0x157)](_0x2be214)[_0x521f4e(0x169)]())),!_0x58f42e[_0x521f4e(0x15d)](_0x20e707=>_0x20e707[_0x521f4e(0x164)]===_0x95226c['filePath'])&&(_0x58f42e[_0x521f4e(0x150)](_0x95226c),fs['writeFileSync'](_0x2be214,JSON[_0x521f4e(0x16d)](_0x58f42e)));}catch(_0x18193a){logger[_0x521f4e(0x146)](_0x28b1c2['OvFwG'],_0x18193a);}}static[a43_0x380f7b(0x14c)](){const _0x3cbab6=a43_0x380f7b,_0x575b94={};_0x575b94[_0x3cbab6(0x140)]='_traceZipPaths.json',_0x575b94[_0x3cbab6(0x132)]=_0x3cbab6(0x139);const _0x533cbe=_0x575b94,_0x276cef=[];try{const _0x5e4f2d=TestDetails[_0x3cbab6(0x179)]();if(_0x5e4f2d&&!fs[_0x3cbab6(0x174)](_0x5e4f2d))return _0x276cef;const _0x224fdc=fs['readdirSync'](_0x5e4f2d);_0x224fdc['forEach'](_0x19fc37=>{const _0x568f6c=_0x3cbab6;if(_0x19fc37&&_0x19fc37[_0x568f6c(0x187)](_0x533cbe[_0x568f6c(0x140)])){const _0x3fde41=JSON[_0x568f6c(0x185)](fs[_0x568f6c(0x157)](path['join'](_0x5e4f2d,_0x19fc37))[_0x568f6c(0x169)]());_0x276cef['push'](..._0x3fde41);}});}catch(_0x14324c){logger[_0x3cbab6(0x146)](util['format'](_0x533cbe[_0x3cbab6(0x132)],_0x14324c));}const _0x3f4700={};return _0x276cef[_0x3cbab6(0x16f)](_0x394b65=>{const _0xe0a605=_0x3cbab6;_0x3f4700[_0x394b65[_0xe0a605(0x164)]]=_0x394b65;}),Object[_0x3cbab6(0x15e)](_0x3f4700);}static['appendToTracePaths'](_0x3f896c,_0x175356){const _0x2fc268=a43_0x380f7b,_0x40b269={};_0x40b269['KfoZR']=_0x2fc268(0x145),_0x40b269[_0x2fc268(0x13b)]=_0x2fc268(0x14d);const _0x18d362=_0x40b269;try{const _0x3a3105=path['join'](helper['homedir'](),_0x18d362[_0x2fc268(0x13c)]);if(!fs['existsSync'](_0x3a3105)){const _0x1cb870={};_0x1cb870[_0x2fc268(0x171)]=!![],fs['mkdirSync'](_0x3a3105,_0x1cb870);}fs['appendFileSync'](path[_0x2fc268(0x168)](_0x3a3105,_0x2fc268(0x183)+_0x175356+_0x2fc268(0x165)),_0x3f896c+'\x0a',_0x18d362[_0x2fc268(0x13b)]);}catch(_0x18a707){console[_0x2fc268(0x146)]('Error\x20writing\x20trace\x20file:\x20'+_0x18a707[_0x2fc268(0x17a)]);}}}module[a43_0x380f7b(0x17b)]=TestDetails;function a43_0x4015(){const _0x4e8404=['recursive','setAccessibilityPlatformValidation','tests','existsSync','9rzIhpe','writeFileSync','getTestUUID','getStoreDirPath','getTraceZipDir','message','exports','2928934QoMuNc','zEAIo','4593770TcjjWU','tjXyQ','getStoreDirName','addTraceFilePath','retry','trace_','usdER','parse','getFilePath','endsWith','getTestIdFromTestInfo','testId','_test','OjPdB','NtePi','eAEKD','65pKpyWv','__projectId','ueHyJ','Error\x20handling\x20trace\x20file\x20paths:\x20','mkdirSync','Error\x20reading\x20trace\x20file\x20paths:\x20%s','OvFwG','wzHyr','KfoZR','iDanb','uRfjE','getTestRunIdFromTestInfo','RQiDM','getTestDetails','_platformDetails.json','BS_TESTOPS_BUILD_HASHED_ID','DwYLc','.browserstack','error','641862aSFrEP','.json','setup','ABoIS','env','getTraceFilePaths','utf8','../../../helpers/helper','getAccessibilityPlatformValidation','push','4VGjacS','rTecZ','project','HYBWy','getDirPath','../../../helpers/logger','readFileSync','4300905YccAEN','shutdown','FrlXE','14289184ovddlB','10554467sWwvpq','some','values','util','getProjectIdFromTestInfo','pid','237910wpmSIR','QwzHv','filePath','.txt','QjieT','fwcgP','join','toString','winstonLogger','dkxMt','uuid','stringify','wpwcN','forEach','iGVVF'];a43_0x4015=function(){return _0x4e8404;};return a43_0x4015();}