const a46_0x363574=a46_0x2793;(function(_0x3d85bc,_0x49059e){const _0x1c11ea=a46_0x2793,_0x1c959d=_0x3d85bc();while(!![]){try{const _0xc88abf=-parseInt(_0x1c11ea(0x1d1))/0x1+parseInt(_0x1c11ea(0x1c8))/0x2*(-parseInt(_0x1c11ea(0x1be))/0x3)+-parseInt(_0x1c11ea(0x1c4))/0x4*(parseInt(_0x1c11ea(0x1d6))/0x5)+parseInt(_0x1c11ea(0x1d4))/0x6+parseInt(_0x1c11ea(0x1a1))/0x7*(-parseInt(_0x1c11ea(0x1f1))/0x8)+parseInt(_0x1c11ea(0x1b7))/0x9*(parseInt(_0x1c11ea(0x1a8))/0xa)+-parseInt(_0x1c11ea(0x1e2))/0xb*(-parseInt(_0x1c11ea(0x1f0))/0xc);if(_0xc88abf===_0x49059e)break;else _0x1c959d['push'](_0x1c959d['shift']());}catch(_0x2730b2){_0x1c959d['push'](_0x1c959d['shift']());}}}(a46_0x1569,0xc131b));const fs=require('fs'),path=require('path'),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require('../../../helpers/test-observability/constants'),{nestedKeyValue}=require('../../../helpers/helper'),logger=require(a46_0x363574(0x1ad))['winstonLogger'],{getLogDir}=require(a46_0x363574(0x1ad)),util=require(a46_0x363574(0x1fa)),helper=require(a46_0x363574(0x1a2));function a46_0x2793(_0x52bb27,_0x75c786){const _0x156989=a46_0x1569();return a46_0x2793=function(_0x279399,_0x24dcc3){_0x279399=_0x279399-0x1a0;let _0x2f287d=_0x156989[_0x279399];return _0x2f287d;},a46_0x2793(_0x52bb27,_0x75c786);}class TestDetails{static [a46_0x363574(0x1e7)]={};static[a46_0x363574(0x1da)](){const _0x1ecbe1=a46_0x363574;this[_0x1ecbe1(0x1b5)]();const _0x10e4f6={};_0x10e4f6[_0x1ecbe1(0x1e0)]=!![],fs[_0x1ecbe1(0x1ba)](this['getDirPath'](),_0x10e4f6);const _0x450293={};_0x450293['recursive']=!![],fs[_0x1ecbe1(0x1ba)](this['getTraceZipDir'](),_0x450293);}static['getStoreDirName'](){const _0x52ebcb=a46_0x363574,_0x2f66d0={};_0x2f66d0['uAbZb']=function(_0x152770,_0x2b4f87){return _0x152770+_0x2b4f87;};const _0x255e4e=_0x2f66d0;return _0x255e4e['uAbZb'](_0x255e4e[_0x52ebcb(0x1d2)](TEMP_STORE_DIR_NAME,'-'),process[_0x52ebcb(0x1ca)][_0x52ebcb(0x1ee)]);}static[a46_0x363574(0x1f3)](){const _0x260221=a46_0x363574,_0x5e2b21={};_0x5e2b21[_0x260221(0x1e8)]=function(_0x3e70eb,_0x34438d){return _0x3e70eb+_0x34438d;},_0x5e2b21[_0x260221(0x1bc)]=_0x260221(0x1e6);const _0x240cc8=_0x5e2b21;return path['join'](_0x240cc8[_0x260221(0x1e8)](_0x240cc8[_0x260221(0x1e8)](TEMP_STORE_DIR_NAME,'-'),process[_0x260221(0x1ca)][_0x260221(0x1ee)]||_0x240cc8[_0x260221(0x1bc)]));}static['getTraceZipDir'](){const _0x55ad33=a46_0x363574,_0x1ecbdc={};_0x1ecbdc[_0x55ad33(0x1c2)]=_0x55ad33(0x1d9);const _0x29cb15=_0x1ecbdc;return path[_0x55ad33(0x1ae)](this[_0x55ad33(0x1f3)](),_0x29cb15['HZWFF']);}static[a46_0x363574(0x1e4)](){const _0x3e5f67=a46_0x363574;return TestDetails[_0x3e5f67(0x1b3)]();}static[a46_0x363574(0x1c3)](_0x3510e0){const _0x52b5fd=a46_0x363574,_0x170e40={};_0x170e40['YMZXB']=function(_0x1d5da7,_0xff4b12){return _0x1d5da7+_0xff4b12;},_0x170e40[_0x52b5fd(0x1bb)]=_0x52b5fd(0x1dd);const _0xb137d9=_0x170e40;return path[_0x52b5fd(0x1ae)](this[_0x52b5fd(0x1e4)](),_0xb137d9[_0x52b5fd(0x1d7)](_0x3510e0,_0xb137d9[_0x52b5fd(0x1bb)]));}static['getTestRunIdFromTestInfo'](_0x168645){const _0x170ce8=a46_0x363574,_0x1723c8={};_0x1723c8[_0x170ce8(0x1db)]=function(_0xd26a34,_0x4fa54d){return _0xd26a34+_0x4fa54d;},_0x1723c8[_0x170ce8(0x1c7)]=function(_0x25f231,_0x2790e6){return _0x25f231+_0x2790e6;},_0x1723c8['ovYTe']=function(_0x13c362,_0x34904a){return _0x13c362+_0x34904a;};const _0x31e2f4=_0x1723c8;return _0x31e2f4['JWfzf'](_0x31e2f4[_0x170ce8(0x1c7)](_0x31e2f4[_0x170ce8(0x1c7)](_0x31e2f4[_0x170ce8(0x1cd)](this[_0x170ce8(0x1de)](_0x168645),'-'),this['getTestIdFromTestInfo'](_0x168645)),'-'),_0x168645[_0x170ce8(0x1a9)]);}static[a46_0x363574(0x1de)](_0x49782a){const _0x18ed2c=a46_0x363574,_0x5ce86f={'iQoUV':function(_0x1e0b6e,_0xe74b16,_0x22905c){return _0x1e0b6e(_0xe74b16,_0x22905c);},'bsejI':_0x18ed2c(0x1bf),'ikVmY':_0x18ed2c(0x1cb),'XKzCc':function(_0x4eaeea,_0x174e94,_0x272e22){return _0x4eaeea(_0x174e94,_0x272e22);},'xLzdN':_0x18ed2c(0x1eb),'hlDYT':_0x18ed2c(0x1f5)};return _0x5ce86f['iQoUV'](nestedKeyValue,_0x49782a,[_0x5ce86f[_0x18ed2c(0x1a0)],_0x5ce86f[_0x18ed2c(0x1d0)]])||_0x5ce86f[_0x18ed2c(0x1f7)](nestedKeyValue,_0x49782a,[_0x5ce86f[_0x18ed2c(0x1b4)],_0x5ce86f[_0x18ed2c(0x1cc)]]);}static['getTestIdFromTestInfo'](_0x45f551){const _0x21d4ce=a46_0x363574,_0x205a5a={'brEPY':function(_0x5c5ded,_0x1d8634,_0x582b82){return _0x5c5ded(_0x1d8634,_0x582b82);},'NmIuq':'_test'};return _0x205a5a[_0x21d4ce(0x1c5)](nestedKeyValue,_0x45f551,[_0x205a5a[_0x21d4ce(0x1ab)],'id'])||_0x45f551[_0x21d4ce(0x1af)];}static[a46_0x363574(0x1aa)](_0x4cc47f){const _0x29c09d=a46_0x363574,_0x40e26c={'DPyZN':function(_0x4dc948,_0x5a56c4){return _0x4dc948===_0x5a56c4;},'icXcb':'string','Bfkva':function(_0x255015){return _0x255015();}};if(this[_0x29c09d(0x1e7)][_0x4cc47f]&&_0x40e26c[_0x29c09d(0x1c9)](typeof this['tests'][_0x4cc47f]['uuid'],_0x40e26c[_0x29c09d(0x1b8)]))return this['tests'][_0x4cc47f]['uuid'];const _0x354a8a=this['getFilePath'](_0x4cc47f);if(_0x354a8a&&fs[_0x29c09d(0x1df)](_0x354a8a)){const _0x137d0c=JSON[_0x29c09d(0x1f2)](fs['readFileSync'](_0x354a8a)['toString']());return this[_0x29c09d(0x1e7)][_0x4cc47f]=_0x137d0c,this[_0x29c09d(0x1e7)][_0x4cc47f][_0x29c09d(0x1bd)];}return this['tests'][_0x4cc47f]={'uuid':_0x40e26c[_0x29c09d(0x1e3)](uuidv4)},fs[_0x29c09d(0x1d3)](_0x354a8a,JSON['stringify'](this[_0x29c09d(0x1e7)][_0x4cc47f])),this['tests'][_0x4cc47f][_0x29c09d(0x1bd)];}static[a46_0x363574(0x1ed)](_0x128a5e){const _0x180fac=a46_0x363574,_0x1ad027=path['join'](this[_0x180fac(0x1e4)](),_0x128a5e+_0x180fac(0x1ac));if(_0x1ad027&&fs['existsSync'](_0x1ad027))return fs[_0x180fac(0x1e9)](_0x1ad027)[_0x180fac(0x1a5)]();}static[a46_0x363574(0x1e1)](_0x1c0df8,_0x54e56b){const _0x2bd456=a46_0x363574,_0xc84071=path['join'](this[_0x2bd456(0x1e4)](),_0x54e56b+_0x2bd456(0x1ac));fs[_0x2bd456(0x1d3)](_0xc84071,_0x1c0df8[_0x2bd456(0x1a5)]());}static[a46_0x363574(0x1b5)](){const _0x3b6047=a46_0x363574,_0x5e340a={};_0x5e340a[_0x3b6047(0x1e0)]=!![],_0x5e340a[_0x3b6047(0x1a3)]=!![],fs[_0x3b6047(0x1c6)](this[_0x3b6047(0x1e4)](),_0x5e340a);}static['getTestDetails'](_0x2a0867){const _0x4705b8=a46_0x363574;if(this[_0x4705b8(0x1e7)][_0x2a0867])return this[_0x4705b8(0x1e7)][_0x2a0867];const _0x3c6f93=this[_0x4705b8(0x1c3)](_0x2a0867);if(_0x3c6f93&&fs[_0x4705b8(0x1df)](_0x3c6f93)){const _0x104d76=JSON[_0x4705b8(0x1f2)](fs['readFileSync'](_0x3c6f93)[_0x4705b8(0x1a5)]());return this[_0x4705b8(0x1e7)][_0x2a0867]=_0x104d76,_0x104d76;}return{};}static[a46_0x363574(0x1b6)](_0x2e54f4,_0x5307ab){const _0xbc60ea=a46_0x363574,_0x221816=this['getFilePath'](_0x2e54f4);if(_0x221816&&fs[_0xbc60ea(0x1df)](_0x221816)){const _0x3af05f=JSON[_0xbc60ea(0x1f2)](fs[_0xbc60ea(0x1e9)](_0x221816)[_0xbc60ea(0x1a5)]()),_0xc4176b={..._0x3af05f,..._0x5307ab};this['tests'][_0x2e54f4]=_0xc4176b;}else this['tests'][_0x2e54f4]=_0x5307ab;fs['writeFileSync'](_0x221816,this[_0xbc60ea(0x1e7)][_0x2e54f4]);}static['addTraceFilePath'](_0x1d6194){const _0x415cb8=a46_0x363574,_0x3bddb9={};_0x3bddb9['rDFrX']=_0x415cb8(0x1b1);const _0x39f28e=_0x3bddb9;try{const _0x2cf3ec=process['pid'],_0x18809e=path['join'](TestDetails[_0x415cb8(0x1a4)](),_0x2cf3ec+_0x415cb8(0x1ef));let _0x168f5f=[];_0x18809e&&fs[_0x415cb8(0x1df)](_0x18809e)&&(_0x168f5f=JSON['parse'](fs[_0x415cb8(0x1e9)](_0x18809e)['toString']())),!_0x168f5f[_0x415cb8(0x1c0)](_0x2698d8=>_0x2698d8[_0x415cb8(0x1f4)]===_0x1d6194[_0x415cb8(0x1f4)])&&(_0x168f5f[_0x415cb8(0x1cf)](_0x1d6194),fs[_0x415cb8(0x1d3)](_0x18809e,JSON['stringify'](_0x168f5f)));}catch(_0x351395){logger[_0x415cb8(0x1d8)](_0x39f28e[_0x415cb8(0x1b9)],_0x351395);}}static[a46_0x363574(0x1c1)](){const _0x1735df=a46_0x363574,_0x176324={};_0x176324[_0x1735df(0x1b0)]=_0x1735df(0x1ef),_0x176324['fbcsO']=_0x1735df(0x1dc);const _0x13a725=_0x176324,_0x45c29c=[];try{const _0x384898=TestDetails['getTraceZipDir']();if(_0x384898&&!fs[_0x1735df(0x1df)](_0x384898))return _0x45c29c;const _0x417a89=fs['readdirSync'](_0x384898);_0x417a89['forEach'](_0x4466fb=>{const _0x278075=_0x1735df;if(_0x4466fb&&_0x4466fb['endsWith'](_0x13a725[_0x278075(0x1b0)])){const _0x589df7=JSON['parse'](fs['readFileSync'](path[_0x278075(0x1ae)](_0x384898,_0x4466fb))['toString']());_0x45c29c[_0x278075(0x1cf)](..._0x589df7);}});}catch(_0x2da2f7){logger[_0x1735df(0x1d8)](util[_0x1735df(0x1b2)](_0x13a725['fbcsO'],_0x2da2f7));}const _0x1aa2b4={};return _0x45c29c[_0x1735df(0x1a7)](_0x63fc86=>{const _0x1b48f6=_0x1735df;_0x1aa2b4[_0x63fc86[_0x1b48f6(0x1f4)]]=_0x63fc86;}),Object['values'](_0x1aa2b4);}static[a46_0x363574(0x1e5)](_0xd7847b,_0x2195e1){const _0x5de087=a46_0x363574,_0x5c4a44={};_0x5c4a44[_0x5de087(0x1ea)]='.browserstack',_0x5c4a44['ctfwl']=_0x5de087(0x1ec);const _0x284972=_0x5c4a44;try{const _0x3b41a2=path[_0x5de087(0x1ae)](helper['homedir'](),_0x284972[_0x5de087(0x1ea)]);if(!fs[_0x5de087(0x1df)](_0x3b41a2)){const _0x94758e={};_0x94758e[_0x5de087(0x1e0)]=!![],fs[_0x5de087(0x1ba)](_0x3b41a2,_0x94758e);}fs[_0x5de087(0x1a6)](path[_0x5de087(0x1ae)](_0x3b41a2,_0x5de087(0x1ce)+_0x2195e1+_0x5de087(0x1d5)),_0xd7847b+'\x0a',_0x284972[_0x5de087(0x1f8)]);}catch(_0x4e6438){console[_0x5de087(0x1d8)](_0x5de087(0x1f9)+_0x4e6438['message']);}}}function a46_0x1569(){const _0x2c297f=['Wvmqp','project','utf8','getAccessibilityPlatformValidation','BS_TESTOPS_BUILD_HASHED_ID','_traceZipPaths.json','105348iuuvmP','7032zgBGsY','parse','getStoreDirPath','filePath','__projectId','exports','XKzCc','ctfwl','Error\x20writing\x20trace\x20file:\x20','util','bsejI','77gPWkcQ','../../../helpers/helper','force','getTraceZipDir','toString','appendFileSync','forEach','3370bfbcuv','retry','getTestUUID','NmIuq','_platformDetails.json','../../../helpers/logger','join','testId','QHbHj','Error\x20handling\x20trace\x20file\x20paths:\x20','format','getStoreDirName','xLzdN','shutdown','setTestDetails','12303ZAXttJ','icXcb','rDFrX','mkdirSync','lhCFL','HZzvA','uuid','3RhjTwH','_test','some','getTraceFilePaths','HZWFF','getFilePath','24zlUvoQ','brEPY','rmSync','ugxut','980188kPDHhB','DPyZN','env','_projectId','hlDYT','ovYTe','trace_','push','ikVmY','783703VhyWBB','uAbZb','writeFileSync','3903486lCDYJa','.txt','1223545GfStzi','YMZXB','error','traceZipPaths','setup','JWfzf','Error\x20reading\x20trace\x20file\x20paths:\x20%s','.json','getProjectIdFromTestInfo','existsSync','recursive','setAccessibilityPlatformValidation','3047KITydN','Bfkva','getDirPath','appendToTracePaths','default','tests','MkCNK','readFileSync'];a46_0x1569=function(){return _0x2c297f;};return a46_0x1569();}module[a46_0x363574(0x1f6)]=TestDetails;