const a42_0x2299c3=a42_0x53ab;function a42_0x4e9a(){const _0x399d67=['project','readFileSync','homedir','AKRjc','WoUQA','582440MnQPDe','values','traceZipPaths','7482cQOghy','VwBkd','split','filePath','getTestIdFromTestInfo','addTraceFilePath','util','GRucu','winstonLogger','format','2KGJNVg','ubZFN','_platformDetails.json','sSVAP','some','stringify','getProjectIdFromTestInfo','dirPath','1|3|4|0|2','getTestUUID','OxXWB','Error\x20writing\x20trace\x20file:\x20','appendToTracePaths','env','uGWzX','force','forEach','getTestRunIdFromTestInfo','_test','exports','JIZeR','esvwK','error','648500DsqaSG','RVWKO','uixTu','_traceZipPaths.json','testId','join','getTraceZipDir','getTestDetails','toString','utf8','pid','existsSync','appendFileSync','message','shutdown','522087zACQIY','xlCiP','awOUk','recursive','uuid','806020HhSpdh','FjUjR','shZYe','traceZipDir','.json','BAzBO','27qBKAJz','sLflu','getFilePath','cwd','writeFileSync','getStoreDirPath','_projectId','tests','endsWith','GlBYj','setup','getStoreDirName','pVdsE','159569xXdtJT','trace_','Error\x20handling\x20trace\x20file\x20paths:\x20','snIMb','parse','BS_TESTOPS_BUILD_HASHED_ID','mkdirSync','1054680IGivVy','getAccessibilityPlatformValidation','../../../helpers/helper','259lDwkkP'];a42_0x4e9a=function(){return _0x399d67;};return a42_0x4e9a();}function a42_0x53ab(_0x21ba6d,_0x536508){const _0x4e9ad0=a42_0x4e9a();return a42_0x53ab=function(_0x53ab55,_0x463b4b){_0x53ab55=_0x53ab55-0xbb;let _0x14b46=_0x4e9ad0[_0x53ab55];return _0x14b46;},a42_0x53ab(_0x21ba6d,_0x536508);}(function(_0x48b504,_0x16761a){const _0x9a9b50=a42_0x53ab,_0x458142=_0x48b504();while(!![]){try{const _0x4b56a8=-parseInt(_0x9a9b50(0xc1))/0x1+-parseInt(_0x9a9b50(0xde))/0x2*(-parseInt(_0x9a9b50(0x104))/0x3)+parseInt(_0x9a9b50(0x109))/0x4+-parseInt(_0x9a9b50(0xc8))/0x5+-parseInt(_0x9a9b50(0xd4))/0x6*(parseInt(_0x9a9b50(0xcb))/0x7)+-parseInt(_0x9a9b50(0xd1))/0x8*(-parseInt(_0x9a9b50(0x10f))/0x9)+-parseInt(_0x9a9b50(0xf5))/0xa;if(_0x4b56a8===_0x16761a)break;else _0x458142['push'](_0x458142['shift']());}catch(_0xf8df73){_0x458142['push'](_0x458142['shift']());}}}(a42_0x4e9a,0x1b747));const fs=require('fs'),path=require('path'),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require('../../../helpers/test-observability/constants'),{nestedKeyValue}=require(a42_0x2299c3(0xca)),logger=require('../../../helpers/logger')[a42_0x2299c3(0xdc)],util=require(a42_0x2299c3(0xda)),helper=require(a42_0x2299c3(0xca));class TestDetails{static [a42_0x2299c3(0xbb)]={};static ['dirPath']=path[a42_0x2299c3(0xfa)](process['cwd'](),TestDetails['getStoreDirName']());static [a42_0x2299c3(0x10c)]=path[a42_0x2299c3(0xfa)](TestDetails[a42_0x2299c3(0xe5)],a42_0x2299c3(0xd3));static[a42_0x2299c3(0xbe)](){const _0x514808=a42_0x2299c3,_0x2bbf4c={};_0x2bbf4c[_0x514808(0xc0)]=_0x514808(0xe6),_0x2bbf4c[_0x514808(0x106)]=_0x514808(0xd3);const _0xc1fea3=_0x2bbf4c,_0x999209=_0xc1fea3[_0x514808(0xc0)][_0x514808(0xd6)]('|');let _0x104981=0x0;while(!![]){switch(_0x999209[_0x104981++]){case'0':const _0x113710={};_0x113710['recursive']=!![],fs['mkdirSync'](this[_0x514808(0xe5)],_0x113710);continue;case'1':this[_0x514808(0xe5)]=path['join'](process[_0x514808(0x112)](),TestDetails[_0x514808(0xbf)]());continue;case'2':const _0x487276={};_0x487276[_0x514808(0x107)]=!![],fs['mkdirSync'](this[_0x514808(0x10c)],_0x487276);continue;case'3':this[_0x514808(0x10c)]=path[_0x514808(0xfa)](this[_0x514808(0xe5)],_0xc1fea3['awOUk']);continue;case'4':this[_0x514808(0x103)]();continue;}break;}}static[a42_0x2299c3(0xbf)](){const _0x44399b=a42_0x2299c3,_0x3e0b51={};_0x3e0b51[_0x44399b(0xf6)]=function(_0x19f41e,_0x4ed847){return _0x19f41e+_0x4ed847;},_0x3e0b51[_0x44399b(0x105)]=function(_0x168801,_0x8b67b7){return _0x168801+_0x8b67b7;};const _0x3d7edb=_0x3e0b51;return _0x3d7edb[_0x44399b(0xf6)](_0x3d7edb[_0x44399b(0x105)](TEMP_STORE_DIR_NAME,'-'),process[_0x44399b(0xeb)][_0x44399b(0xc6)]);}static[a42_0x2299c3(0x114)](){const _0x19b1fa=a42_0x2299c3,_0x3e6092={};_0x3e6092[_0x19b1fa(0xcf)]=function(_0x1038af,_0x3631bc){return _0x1038af+_0x3631bc;},_0x3e6092['sSVAP']='default';const _0xcdc93a=_0x3e6092;return path[_0x19b1fa(0xfa)](process[_0x19b1fa(0x112)](),_0xcdc93a[_0x19b1fa(0xcf)](_0xcdc93a[_0x19b1fa(0xcf)](TEMP_STORE_DIR_NAME,'-'),process['env']['BS_TESTOPS_BUILD_HASHED_ID']||_0xcdc93a[_0x19b1fa(0xe1)]));}static[a42_0x2299c3(0xfb)](){const _0x389772=a42_0x2299c3,_0x44fe31={};_0x44fe31['JIZeR']=_0x389772(0xd3);const _0x4edeb0=_0x44fe31;return path[_0x389772(0xfa)](this[_0x389772(0x114)](),_0x4edeb0[_0x389772(0xf2)]);}static[a42_0x2299c3(0x111)](_0x579e76){const _0x355e73=a42_0x2299c3,_0x51d6d6={};_0x51d6d6[_0x355e73(0x110)]=function(_0x4f94a9,_0x5af0e0){return _0x4f94a9+_0x5af0e0;},_0x51d6d6[_0x355e73(0xf7)]=_0x355e73(0x10d);const _0x295f36=_0x51d6d6;return path[_0x355e73(0xfa)](this[_0x355e73(0xe5)],_0x295f36['sLflu'](_0x579e76,_0x295f36[_0x355e73(0xf7)]));}static[a42_0x2299c3(0xef)](_0x1b09cb){const _0x217d4a=a42_0x2299c3,_0x1bbbea={};_0x1bbbea[_0x217d4a(0x10a)]=function(_0x59e3d3,_0x206844){return _0x59e3d3+_0x206844;},_0x1bbbea[_0x217d4a(0xbd)]=function(_0x6c03d9,_0x34f6ab){return _0x6c03d9+_0x34f6ab;},_0x1bbbea['esvwK']=function(_0x2d4c79,_0x5e003c){return _0x2d4c79+_0x5e003c;};const _0x18fd2e=_0x1bbbea;return _0x18fd2e[_0x217d4a(0x10a)](_0x18fd2e['FjUjR'](_0x18fd2e[_0x217d4a(0xbd)](_0x18fd2e[_0x217d4a(0xf3)](this[_0x217d4a(0xe4)](_0x1b09cb),'-'),this[_0x217d4a(0xd8)](_0x1b09cb)),'-'),_0x1b09cb['retry']);}static[a42_0x2299c3(0xe4)](_0x3f42a1){const _0x2c938b=a42_0x2299c3,_0x2b23c3={'snIMb':function(_0x3d3705,_0x2b9285,_0x22eefa){return _0x3d3705(_0x2b9285,_0x22eefa);},'hEQUL':_0x2c938b(0xf0),'BAzBO':_0x2c938b(0x115),'GRucu':function(_0x58ae01,_0x26f267,_0x30ec66){return _0x58ae01(_0x26f267,_0x30ec66);},'LMFlL':_0x2c938b(0xcc),'SFkJt':'__projectId'};return _0x2b23c3[_0x2c938b(0xc4)](nestedKeyValue,_0x3f42a1,[_0x2b23c3['hEQUL'],_0x2b23c3[_0x2c938b(0x10e)]])||_0x2b23c3[_0x2c938b(0xdb)](nestedKeyValue,_0x3f42a1,[_0x2b23c3['LMFlL'],_0x2b23c3['SFkJt']]);}static[a42_0x2299c3(0xd8)](_0x4606d3){const _0x3db737=a42_0x2299c3,_0x4c1d86={'ubZFN':function(_0x4bc26b,_0x2d6d73,_0x5dba21){return _0x4bc26b(_0x2d6d73,_0x5dba21);},'CZFeT':_0x3db737(0xf0)};return _0x4c1d86[_0x3db737(0xdf)](nestedKeyValue,_0x4606d3,[_0x4c1d86['CZFeT'],'id'])||_0x4606d3[_0x3db737(0xf9)];}static[a42_0x2299c3(0xe7)](_0x32e70c){const _0x1fdeb9=a42_0x2299c3,_0x54f75f={'pJAGt':function(_0x42a527,_0x479348){return _0x42a527===_0x479348;},'uGWzX':'string','BoDPH':function(_0x411b2d){return _0x411b2d();}};if(this[_0x1fdeb9(0xbb)][_0x32e70c]&&_0x54f75f['pJAGt'](typeof this[_0x1fdeb9(0xbb)][_0x32e70c][_0x1fdeb9(0x108)],_0x54f75f[_0x1fdeb9(0xec)]))return this[_0x1fdeb9(0xbb)][_0x32e70c][_0x1fdeb9(0x108)];const _0x2c65b9=this[_0x1fdeb9(0x111)](_0x32e70c);if(fs[_0x1fdeb9(0x100)](_0x2c65b9)){const _0x2430b5=JSON[_0x1fdeb9(0xc5)](fs[_0x1fdeb9(0xcd)](_0x2c65b9)[_0x1fdeb9(0xfd)]());return this[_0x1fdeb9(0xbb)][_0x32e70c]=_0x2430b5,this['tests'][_0x32e70c]['uuid'];}return this[_0x1fdeb9(0xbb)][_0x32e70c]={'uuid':_0x54f75f['BoDPH'](uuidv4)},fs[_0x1fdeb9(0x113)](_0x2c65b9,JSON[_0x1fdeb9(0xe3)](this[_0x1fdeb9(0xbb)][_0x32e70c])),this[_0x1fdeb9(0xbb)][_0x32e70c][_0x1fdeb9(0x108)];}static[a42_0x2299c3(0xc9)](_0x41d527){const _0x418567=a42_0x2299c3,_0x5807f7=path[_0x418567(0xfa)](this[_0x418567(0xe5)],_0x41d527+'_platformDetails.json');if(fs[_0x418567(0x100)](_0x5807f7))return fs[_0x418567(0xcd)](_0x5807f7)[_0x418567(0xfd)]();}static['setAccessibilityPlatformValidation'](_0x514bba,_0x45fa46){const _0x32e7e9=a42_0x2299c3,_0x4374b4=path[_0x32e7e9(0xfa)](this['dirPath'],_0x45fa46+_0x32e7e9(0xe0));fs[_0x32e7e9(0x113)](_0x4374b4,_0x514bba[_0x32e7e9(0xfd)]());}static[a42_0x2299c3(0x103)](){const _0x50a4a2=a42_0x2299c3,_0x7db234={};_0x7db234[_0x50a4a2(0x107)]=!![],_0x7db234[_0x50a4a2(0xed)]=!![],fs['rmSync'](this[_0x50a4a2(0xe5)],_0x7db234);}static[a42_0x2299c3(0xfc)](_0x6b2f68){const _0x88d252=a42_0x2299c3;if(this[_0x88d252(0xbb)][_0x6b2f68])return this[_0x88d252(0xbb)][_0x6b2f68];const _0x346fd5=this[_0x88d252(0x111)](_0x6b2f68);if(fs[_0x88d252(0x100)](_0x346fd5)){const _0x2bf9e6=JSON[_0x88d252(0xc5)](fs[_0x88d252(0xcd)](_0x346fd5)[_0x88d252(0xfd)]());return this['tests'][_0x6b2f68]=_0x2bf9e6,_0x2bf9e6;}return{};}static['setTestDetails'](_0x48621c,_0x53c0d4){const _0x40eca1=a42_0x2299c3,_0x227c2c=this[_0x40eca1(0x111)](_0x48621c);if(fs[_0x40eca1(0x100)](_0x227c2c)){const _0xf74417=JSON[_0x40eca1(0xc5)](fs['readFileSync'](_0x227c2c)[_0x40eca1(0xfd)]()),_0x38b2f2={..._0xf74417,..._0x53c0d4};this['tests'][_0x48621c]=_0x38b2f2;}else this[_0x40eca1(0xbb)][_0x48621c]=_0x53c0d4;fs[_0x40eca1(0x113)](_0x227c2c,this[_0x40eca1(0xbb)][_0x48621c]);}static[a42_0x2299c3(0xd9)](_0x1ffe29){const _0x6e18c2=a42_0x2299c3,_0xf1d0a1={};_0xf1d0a1[_0x6e18c2(0xe8)]=_0x6e18c2(0xc3);const _0x38addd=_0xf1d0a1;try{const _0x43b629=process[_0x6e18c2(0xff)],_0xec3d3d=path[_0x6e18c2(0xfa)](TestDetails['getTraceZipDir'](),_0x43b629+_0x6e18c2(0xf8));let _0x125c49=[];fs['existsSync'](_0xec3d3d)&&(_0x125c49=JSON[_0x6e18c2(0xc5)](fs['readFileSync'](_0xec3d3d)['toString']())),!_0x125c49[_0x6e18c2(0xe2)](_0x31ebdc=>_0x31ebdc[_0x6e18c2(0xd7)]===_0x1ffe29['filePath'])&&(_0x125c49['push'](_0x1ffe29),fs[_0x6e18c2(0x113)](_0xec3d3d,JSON[_0x6e18c2(0xe3)](_0x125c49)));}catch(_0x2c86b6){logger[_0x6e18c2(0xf4)](_0x38addd[_0x6e18c2(0xe8)],_0x2c86b6);}}static['getTraceFilePaths'](){const _0x321a9b=a42_0x2299c3,_0xc5a251={};_0xc5a251['vapFO']=_0x321a9b(0xf8),_0xc5a251[_0x321a9b(0xd0)]='Error\x20reading\x20trace\x20file\x20paths:\x20%s';const _0x102ceb=_0xc5a251,_0x18eb5a=[];try{const _0x4d5c62=TestDetails['getTraceZipDir']();if(!fs['existsSync'](_0x4d5c62))return _0x18eb5a;const _0x300ef2=fs['readdirSync'](_0x4d5c62);_0x300ef2[_0x321a9b(0xee)](_0x15b5b7=>{const _0x548370=_0x321a9b;if(_0x15b5b7[_0x548370(0xbc)](_0x102ceb['vapFO'])){const _0x532747=JSON[_0x548370(0xc5)](fs[_0x548370(0xcd)](path[_0x548370(0xfa)](_0x4d5c62,_0x15b5b7))['toString']());_0x18eb5a['push'](..._0x532747);}});}catch(_0x2a593f){logger['error'](util[_0x321a9b(0xdd)](_0x102ceb[_0x321a9b(0xd0)],_0x2a593f));}const _0x370bd4={};return _0x18eb5a[_0x321a9b(0xee)](_0x415e3e=>{const _0x301b9c=_0x321a9b;_0x370bd4[_0x415e3e[_0x301b9c(0xd7)]]=_0x415e3e;}),Object[_0x321a9b(0xd2)](_0x370bd4);}static[a42_0x2299c3(0xea)](_0x196976,_0x263462){const _0x15d2ff=a42_0x2299c3,_0x1f04ab={};_0x1f04ab[_0x15d2ff(0x10b)]='.browserstack',_0x1f04ab[_0x15d2ff(0xd5)]=_0x15d2ff(0xfe);const _0x50f2d6=_0x1f04ab;try{const _0x191544=path[_0x15d2ff(0xfa)](helper[_0x15d2ff(0xce)](),_0x50f2d6[_0x15d2ff(0x10b)]);if(!fs[_0x15d2ff(0x100)](_0x191544)){const _0xadc552={};_0xadc552['recursive']=!![],fs[_0x15d2ff(0xc7)](_0x191544,_0xadc552);}fs[_0x15d2ff(0x101)](path[_0x15d2ff(0xfa)](_0x191544,_0x15d2ff(0xc2)+_0x263462+'.txt'),_0x196976+'\x0a',_0x50f2d6['VwBkd']);}catch(_0x26c3bb){console[_0x15d2ff(0xf4)](_0x15d2ff(0xe9)+_0x26c3bb[_0x15d2ff(0x102)]);}}}module[a42_0x2299c3(0xf1)]=TestDetails;