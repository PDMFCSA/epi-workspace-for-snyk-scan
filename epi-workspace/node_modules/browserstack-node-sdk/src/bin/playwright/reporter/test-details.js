const a42_0x37c5c8=a42_0x1c3a;(function(_0x3d1a8e,_0x5c595c){const _0x48c89a=a42_0x1c3a,_0x58bf91=_0x3d1a8e();while(!![]){try{const _0x14d24b=parseInt(_0x48c89a(0x19c))/0x1+parseInt(_0x48c89a(0x1ab))/0x2*(parseInt(_0x48c89a(0x1c2))/0x3)+parseInt(_0x48c89a(0x1da))/0x4+parseInt(_0x48c89a(0x1ef))/0x5+-parseInt(_0x48c89a(0x1b0))/0x6*(parseInt(_0x48c89a(0x1dc))/0x7)+parseInt(_0x48c89a(0x1bb))/0x8+-parseInt(_0x48c89a(0x1f3))/0x9*(parseInt(_0x48c89a(0x1b2))/0xa);if(_0x14d24b===_0x5c595c)break;else _0x58bf91['push'](_0x58bf91['shift']());}catch(_0x26ed60){_0x58bf91['push'](_0x58bf91['shift']());}}}(a42_0x488f,0xc0654));const fs=require('fs'),path=require(a42_0x37c5c8(0x1a9)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require(a42_0x37c5c8(0x1aa)),{nestedKeyValue}=require(a42_0x37c5c8(0x1e1)),logger=require(a42_0x37c5c8(0x1df))[a42_0x37c5c8(0x1a8)],util=require('util'),helper=require(a42_0x37c5c8(0x1e1));function a42_0x1c3a(_0x4c1810,_0x517f73){const _0x488f91=a42_0x488f();return a42_0x1c3a=function(_0x1c3a80,_0x77bae0){_0x1c3a80=_0x1c3a80-0x199;let _0x504177=_0x488f91[_0x1c3a80];return _0x504177;},a42_0x1c3a(_0x4c1810,_0x517f73);}function a42_0x488f(){const _0x30470c=['shImK','getTestDetails','../../../helpers/logger','getTestIdFromTestInfo','../../../helpers/helper','join','.browserstack','homedir','DryKC','AErqG','pid','values','zmLqZ','getStoreDirName','Error\x20handling\x20trace\x20file\x20paths:\x20','shutdown','getProjectIdFromTestInfo','WIyaQ','4333150TexjbZ','YNgFy','getStoreDirPath','WwnsZ','1773vPxThA','force','appendFileSync','default','jAPzA','uuid','159977nvSlhE','string','split','_traceZipPaths.json','getAccessibilityPlatformValidation','rmSync','XYzgq','toString','MOzGI','env','utf8','taKng','winstonLogger','path','../../../helpers/test-observability/constants','16GQZMYn','filePath','getFilePath','_platformDetails.json','getTraceZipDir','12HcAzTU','addTraceFilePath','95610UEXLOV','forEach','setAccessibilityPlatformValidation','WPWxU','_test','HOFti','lPajA','dirPath','yoJaq','10429216BYFYpL','recursive','traceZipPaths','setTestDetails','QqmMy','error','existsSync','64041BHFXWu','DehGv','CXSgT','format','tests','KaSHR','traceZipDir','hXUvy','getTestUUID','getTraceFilePaths','getTestRunIdFromTestInfo','setup','CotVu','push','Error\x20writing\x20trace\x20file:\x20','writeFileSync','parse','appendToTracePaths','message','stringify','readFileSync','Error\x20reading\x20trace\x20file\x20paths:\x20%s','lmFNA','cwd','2459584qYMMFy','testId','1555267kjmmHg'];a42_0x488f=function(){return _0x30470c;};return a42_0x488f();}class TestDetails{static [a42_0x37c5c8(0x1c6)]={};static ['dirPath']=path[a42_0x37c5c8(0x1e2)](process['cwd'](),TestDetails[a42_0x37c5c8(0x1ea)]());static [a42_0x37c5c8(0x1c8)]=path[a42_0x37c5c8(0x1e2)](TestDetails['dirPath'],a42_0x37c5c8(0x1bd));static[a42_0x37c5c8(0x1cd)](){const _0x2f9266=a42_0x37c5c8,_0x4bc794={};_0x4bc794[_0x2f9266(0x1ee)]='2|1|4|3|0',_0x4bc794[_0x2f9266(0x1a2)]=_0x2f9266(0x1bd);const _0x525054=_0x4bc794,_0x5d3f50=_0x525054[_0x2f9266(0x1ee)][_0x2f9266(0x19e)]('|');let _0x598986=0x0;while(!![]){switch(_0x5d3f50[_0x598986++]){case'0':const _0x87edf2={};_0x87edf2[_0x2f9266(0x1bc)]=!![],fs['mkdirSync'](this[_0x2f9266(0x1c8)],_0x87edf2);continue;case'1':this[_0x2f9266(0x1c8)]=path['join'](this['dirPath'],_0x525054['XYzgq']);continue;case'2':this[_0x2f9266(0x1b9)]=path[_0x2f9266(0x1e2)](process[_0x2f9266(0x1d9)](),TestDetails[_0x2f9266(0x1ea)]());continue;case'3':const _0xc14eba={};_0xc14eba[_0x2f9266(0x1bc)]=!![],fs['mkdirSync'](this['dirPath'],_0xc14eba);continue;case'4':this[_0x2f9266(0x1ec)]();continue;}break;}}static[a42_0x37c5c8(0x1ea)](){const _0x4fd7a0=a42_0x37c5c8,_0x2be354={};_0x2be354[_0x4fd7a0(0x1a4)]=function(_0x58db30,_0xbaaa86){return _0x58db30+_0xbaaa86;},_0x2be354[_0x4fd7a0(0x1c3)]=function(_0x2e0a2b,_0x5a61bc){return _0x2e0a2b+_0x5a61bc;};const _0x47f5d8=_0x2be354;return _0x47f5d8[_0x4fd7a0(0x1a4)](_0x47f5d8['DehGv'](TEMP_STORE_DIR_NAME,'-'),process[_0x4fd7a0(0x1a5)]['BS_TESTOPS_BUILD_HASHED_ID']);}static[a42_0x37c5c8(0x1f1)](){const _0x57d0eb=a42_0x37c5c8,_0x4bd55d={};_0x4bd55d[_0x57d0eb(0x1b8)]=function(_0xa7b4e7,_0x57e3b0){return _0xa7b4e7+_0x57e3b0;},_0x4bd55d[_0x57d0eb(0x1b5)]=_0x57d0eb(0x199);const _0x194d8c=_0x4bd55d;return path[_0x57d0eb(0x1e2)](process[_0x57d0eb(0x1d9)](),_0x194d8c[_0x57d0eb(0x1b8)](_0x194d8c[_0x57d0eb(0x1b8)](TEMP_STORE_DIR_NAME,'-'),process['env']['BS_TESTOPS_BUILD_HASHED_ID']||_0x194d8c[_0x57d0eb(0x1b5)]));}static['getTraceZipDir'](){const _0x4e830a=a42_0x37c5c8,_0x1fdcf7={};_0x1fdcf7['GEqND']=_0x4e830a(0x1bd);const _0x1f0023=_0x1fdcf7;return path[_0x4e830a(0x1e2)](this[_0x4e830a(0x1f1)](),_0x1f0023['GEqND']);}static[a42_0x37c5c8(0x1ad)](_0x593b53){const _0x3a4b4a=a42_0x37c5c8,_0x1f1b57={};_0x1f1b57[_0x3a4b4a(0x19a)]=function(_0x38357d,_0x52c312){return _0x38357d+_0x52c312;},_0x1f1b57[_0x3a4b4a(0x1e5)]='.json';const _0x2e0746=_0x1f1b57;return path[_0x3a4b4a(0x1e2)](this[_0x3a4b4a(0x1b9)],_0x2e0746[_0x3a4b4a(0x19a)](_0x593b53,_0x2e0746[_0x3a4b4a(0x1e5)]));}static[a42_0x37c5c8(0x1cc)](_0x16d973){const _0x20c347=a42_0x37c5c8,_0x585c8d={};_0x585c8d[_0x20c347(0x1e9)]=function(_0x4a37fa,_0x424805){return _0x4a37fa+_0x424805;},_0x585c8d['YNgFy']=function(_0x35bcb0,_0x50468c){return _0x35bcb0+_0x50468c;};const _0x317c17=_0x585c8d;return _0x317c17[_0x20c347(0x1e9)](_0x317c17[_0x20c347(0x1e9)](_0x317c17[_0x20c347(0x1f0)](_0x317c17[_0x20c347(0x1f0)](this[_0x20c347(0x1ed)](_0x16d973),'-'),this[_0x20c347(0x1e0)](_0x16d973)),'-'),_0x16d973['retry']);}static[a42_0x37c5c8(0x1ed)](_0x189a60){const _0x1ff05d=a42_0x37c5c8,_0x516656={'lmFNA':function(_0x318fb8,_0x2e1800,_0x4571ee){return _0x318fb8(_0x2e1800,_0x4571ee);},'uliTv':_0x1ff05d(0x1b6),'hXUvy':'_projectId','shImK':function(_0x18c3e7,_0x170c3b,_0x3a1497){return _0x18c3e7(_0x170c3b,_0x3a1497);},'CotVu':'project','AErqG':'__projectId'};return _0x516656[_0x1ff05d(0x1d8)](nestedKeyValue,_0x189a60,[_0x516656['uliTv'],_0x516656[_0x1ff05d(0x1c9)]])||_0x516656[_0x1ff05d(0x1dd)](nestedKeyValue,_0x189a60,[_0x516656[_0x1ff05d(0x1ce)],_0x516656[_0x1ff05d(0x1e6)]]);}static[a42_0x37c5c8(0x1e0)](_0x358aeb){const _0x1063e3=a42_0x37c5c8,_0x28d206={'qyNuU':function(_0x11d7f4,_0x396dbb,_0x335739){return _0x11d7f4(_0x396dbb,_0x335739);},'QqmMy':_0x1063e3(0x1b6)};return _0x28d206['qyNuU'](nestedKeyValue,_0x358aeb,[_0x28d206[_0x1063e3(0x1bf)],'id'])||_0x358aeb[_0x1063e3(0x1db)];}static[a42_0x37c5c8(0x1ca)](_0x93cb1e){const _0x42e225=a42_0x37c5c8,_0x26db83={'taKng':function(_0x200f23,_0x6d6856){return _0x200f23===_0x6d6856;},'HOFti':_0x42e225(0x19d),'KaSHR':function(_0x3cb982){return _0x3cb982();}};if(this[_0x42e225(0x1c6)][_0x93cb1e]&&_0x26db83[_0x42e225(0x1a7)](typeof this[_0x42e225(0x1c6)][_0x93cb1e][_0x42e225(0x19b)],_0x26db83[_0x42e225(0x1b7)]))return this[_0x42e225(0x1c6)][_0x93cb1e][_0x42e225(0x19b)];const _0x397f27=this[_0x42e225(0x1ad)](_0x93cb1e);if(_0x397f27&&fs[_0x42e225(0x1c1)](_0x397f27)){const _0x1762e1=JSON[_0x42e225(0x1d2)](fs['readFileSync'](_0x397f27)['toString']());return this['tests'][_0x93cb1e]=_0x1762e1,this[_0x42e225(0x1c6)][_0x93cb1e][_0x42e225(0x19b)];}return this[_0x42e225(0x1c6)][_0x93cb1e]={'uuid':_0x26db83[_0x42e225(0x1c7)](uuidv4)},fs[_0x42e225(0x1d1)](_0x397f27,JSON[_0x42e225(0x1d5)](this[_0x42e225(0x1c6)][_0x93cb1e])),this[_0x42e225(0x1c6)][_0x93cb1e]['uuid'];}static[a42_0x37c5c8(0x1a0)](_0x4ca35e){const _0x4572b5=a42_0x37c5c8,_0x3fc097=path[_0x4572b5(0x1e2)](this[_0x4572b5(0x1b9)],_0x4ca35e+_0x4572b5(0x1ae));if(_0x3fc097&&fs[_0x4572b5(0x1c1)](_0x3fc097))return fs[_0x4572b5(0x1d6)](_0x3fc097)[_0x4572b5(0x1a3)]();}static[a42_0x37c5c8(0x1b4)](_0xb7e5e7,_0xb6497c){const _0xefa9aa=a42_0x37c5c8,_0x1ca937=path['join'](this[_0xefa9aa(0x1b9)],_0xb6497c+_0xefa9aa(0x1ae));fs[_0xefa9aa(0x1d1)](_0x1ca937,_0xb7e5e7[_0xefa9aa(0x1a3)]());}static['shutdown'](){const _0x37278d=a42_0x37c5c8,_0xeeb62d={};_0xeeb62d[_0x37278d(0x1bc)]=!![],_0xeeb62d[_0x37278d(0x1f4)]=!![],fs[_0x37278d(0x1a1)](this[_0x37278d(0x1b9)],_0xeeb62d);}static[a42_0x37c5c8(0x1de)](_0x3d011f){const _0x55c002=a42_0x37c5c8;if(this[_0x55c002(0x1c6)][_0x3d011f])return this['tests'][_0x3d011f];const _0x3feaaa=this[_0x55c002(0x1ad)](_0x3d011f);if(_0x3feaaa&&fs[_0x55c002(0x1c1)](_0x3feaaa)){const _0x38eb5e=JSON[_0x55c002(0x1d2)](fs[_0x55c002(0x1d6)](_0x3feaaa)[_0x55c002(0x1a3)]());return this[_0x55c002(0x1c6)][_0x3d011f]=_0x38eb5e,_0x38eb5e;}return{};}static[a42_0x37c5c8(0x1be)](_0x38ed3e,_0x163162){const _0x2247a5=a42_0x37c5c8,_0x1e3fd0=this[_0x2247a5(0x1ad)](_0x38ed3e);if(_0x1e3fd0&&fs[_0x2247a5(0x1c1)](_0x1e3fd0)){const _0x635a8=JSON[_0x2247a5(0x1d2)](fs['readFileSync'](_0x1e3fd0)[_0x2247a5(0x1a3)]()),_0x51b7fd={..._0x635a8,..._0x163162};this['tests'][_0x38ed3e]=_0x51b7fd;}else this[_0x2247a5(0x1c6)][_0x38ed3e]=_0x163162;fs[_0x2247a5(0x1d1)](_0x1e3fd0,this[_0x2247a5(0x1c6)][_0x38ed3e]);}static[a42_0x37c5c8(0x1b1)](_0x5c1af1){const _0x24881d=a42_0x37c5c8,_0x3fa60a={};_0x3fa60a[_0x24881d(0x1ba)]=_0x24881d(0x1eb);const _0x461927=_0x3fa60a;try{const _0x49e6c0=process[_0x24881d(0x1e7)],_0xf0e090=path[_0x24881d(0x1e2)](TestDetails[_0x24881d(0x1af)](),_0x49e6c0+_0x24881d(0x19f));let _0x3f60bb=[];_0xf0e090&&fs[_0x24881d(0x1c1)](_0xf0e090)&&(_0x3f60bb=JSON[_0x24881d(0x1d2)](fs['readFileSync'](_0xf0e090)[_0x24881d(0x1a3)]())),!_0x3f60bb['some'](_0xbd2029=>_0xbd2029['filePath']===_0x5c1af1[_0x24881d(0x1ac)])&&(_0x3f60bb['push'](_0x5c1af1),fs[_0x24881d(0x1d1)](_0xf0e090,JSON['stringify'](_0x3f60bb)));}catch(_0x40da15){logger[_0x24881d(0x1c0)](_0x461927[_0x24881d(0x1ba)],_0x40da15);}}static[a42_0x37c5c8(0x1cb)](){const _0x5a1b20=a42_0x37c5c8,_0xd9ae60={};_0xd9ae60['LCboy']='_traceZipPaths.json',_0xd9ae60['MXELL']=_0x5a1b20(0x1d7);const _0x3c8efd=_0xd9ae60,_0x4a3418=[];try{const _0x2ad251=TestDetails[_0x5a1b20(0x1af)]();if(_0x2ad251&&!fs[_0x5a1b20(0x1c1)](_0x2ad251))return _0x4a3418;const _0x59c6a8=fs['readdirSync'](_0x2ad251);_0x59c6a8['forEach'](_0x55128d=>{const _0x25d4ed=_0x5a1b20;if(_0x55128d&&_0x55128d['endsWith'](_0x3c8efd['LCboy'])){const _0x10572c=JSON[_0x25d4ed(0x1d2)](fs[_0x25d4ed(0x1d6)](path['join'](_0x2ad251,_0x55128d))[_0x25d4ed(0x1a3)]());_0x4a3418[_0x25d4ed(0x1cf)](..._0x10572c);}});}catch(_0x4daafd){logger[_0x5a1b20(0x1c0)](util[_0x5a1b20(0x1c5)](_0x3c8efd['MXELL'],_0x4daafd));}const _0xd6f333={};return _0x4a3418[_0x5a1b20(0x1b3)](_0x1ebd67=>{_0xd6f333[_0x1ebd67['filePath']]=_0x1ebd67;}),Object[_0x5a1b20(0x1e8)](_0xd6f333);}static[a42_0x37c5c8(0x1d3)](_0x20b042,_0x3cc997){const _0x268e6b=a42_0x37c5c8,_0x1376c7={};_0x1376c7[_0x268e6b(0x1c4)]=_0x268e6b(0x1e3),_0x1376c7['WwnsZ']=_0x268e6b(0x1a6);const _0xd70367=_0x1376c7;try{const _0x4926d8=path['join'](helper[_0x268e6b(0x1e4)](),_0xd70367['CXSgT']);if(!fs[_0x268e6b(0x1c1)](_0x4926d8)){const _0x164d3b={};_0x164d3b[_0x268e6b(0x1bc)]=!![],fs['mkdirSync'](_0x4926d8,_0x164d3b);}fs[_0x268e6b(0x1f5)](path['join'](_0x4926d8,'trace_'+_0x3cc997+'.txt'),_0x20b042+'\x0a',_0xd70367[_0x268e6b(0x1f2)]);}catch(_0x2e362b){console['error'](_0x268e6b(0x1d0)+_0x2e362b[_0x268e6b(0x1d4)]);}}}module['exports']=TestDetails;