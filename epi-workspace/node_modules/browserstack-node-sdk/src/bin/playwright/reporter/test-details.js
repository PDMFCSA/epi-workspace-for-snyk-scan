const a43_0x2da107=a43_0x2c4b;function a43_0x2c4b(_0x321a79,_0x1d776d){const _0x1faf5d=a43_0x1faf();return a43_0x2c4b=function(_0x2c4b6d,_0x4bb937){_0x2c4b6d=_0x2c4b6d-0x161;let _0x478e40=_0x1faf5d[_0x2c4b6d];return _0x478e40;},a43_0x2c4b(_0x321a79,_0x1d776d);}(function(_0x1deb36,_0x4eed38){const _0x5be282=a43_0x2c4b,_0x224d49=_0x1deb36();while(!![]){try{const _0x54ec54=-parseInt(_0x5be282(0x193))/0x1*(parseInt(_0x5be282(0x16b))/0x2)+parseInt(_0x5be282(0x162))/0x3*(-parseInt(_0x5be282(0x1b6))/0x4)+-parseInt(_0x5be282(0x1b0))/0x5*(-parseInt(_0x5be282(0x1a0))/0x6)+-parseInt(_0x5be282(0x1aa))/0x7*(parseInt(_0x5be282(0x182))/0x8)+parseInt(_0x5be282(0x1c3))/0x9*(-parseInt(_0x5be282(0x1a3))/0xa)+-parseInt(_0x5be282(0x19c))/0xb*(-parseInt(_0x5be282(0x197))/0xc)+parseInt(_0x5be282(0x17c))/0xd*(parseInt(_0x5be282(0x171))/0xe);if(_0x54ec54===_0x4eed38)break;else _0x224d49['push'](_0x224d49['shift']());}catch(_0x402e1f){_0x224d49['push'](_0x224d49['shift']());}}}(a43_0x1faf,0x72db0));const fs=require('fs'),path=require(a43_0x2da107(0x1b8)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require(a43_0x2da107(0x1af)),{nestedKeyValue}=require(a43_0x2da107(0x1b7)),logger=require(a43_0x2da107(0x178))[a43_0x2da107(0x1b4)],{getLogDir}=require(a43_0x2da107(0x178)),util=require(a43_0x2da107(0x173)),helper=require(a43_0x2da107(0x1b7));class TestDetails{static [a43_0x2da107(0x1a5)]={};static[a43_0x2da107(0x194)](){const _0x368df0=a43_0x2da107;this[_0x368df0(0x192)]();const _0x5e6205={};_0x5e6205[_0x368df0(0x1a9)]=!![],fs['mkdirSync'](this[_0x368df0(0x18a)](),_0x5e6205);const _0x2994e8={};_0x2994e8[_0x368df0(0x1a9)]=!![],fs[_0x368df0(0x1bb)](this['getTraceZipDir'](),_0x2994e8);}static['getStoreDirName'](){const _0x163d7a=a43_0x2da107,_0x5495fc={};_0x5495fc[_0x163d7a(0x1bf)]=function(_0x2af0f3,_0xf72791){return _0x2af0f3+_0xf72791;};const _0x183c62=_0x5495fc;return _0x183c62[_0x163d7a(0x1bf)](_0x183c62[_0x163d7a(0x1bf)](TEMP_STORE_DIR_NAME,'-'),process[_0x163d7a(0x181)][_0x163d7a(0x1ae)]);}static[a43_0x2da107(0x187)](){const _0x24083e=a43_0x2da107,_0x453d9d={};_0x453d9d[_0x24083e(0x16f)]=function(_0x32f438,_0x4ba1dc){return _0x32f438+_0x4ba1dc;},_0x453d9d[_0x24083e(0x1ba)]=function(_0xb5f5c9,_0x18407e){return _0xb5f5c9+_0x18407e;},_0x453d9d[_0x24083e(0x1b3)]=_0x24083e(0x1bc);const _0x4e6628=_0x453d9d;return path[_0x24083e(0x16a)](_0x4e6628[_0x24083e(0x16f)](_0x4e6628['RvPij'](TEMP_STORE_DIR_NAME,'-'),process[_0x24083e(0x181)][_0x24083e(0x1ae)]||_0x4e6628[_0x24083e(0x1b3)]));}static[a43_0x2da107(0x19b)](){const _0x20d71f=a43_0x2da107,_0x64e30e={};_0x64e30e[_0x20d71f(0x174)]=_0x20d71f(0x19f);const _0xbfd405=_0x64e30e;return path[_0x20d71f(0x16a)](this[_0x20d71f(0x187)](),_0xbfd405['yTMvr']);}static['getDirPath'](){const _0x90b4e9=a43_0x2da107;return TestDetails[_0x90b4e9(0x17d)]();}static[a43_0x2da107(0x1a2)](_0x29e4e9){const _0x3dfb02=a43_0x2da107,_0x552e93={};_0x552e93[_0x3dfb02(0x1be)]=function(_0x4ccc28,_0x16fbb8){return _0x4ccc28+_0x16fbb8;},_0x552e93['kBxfW']='.json';const _0x44cc54=_0x552e93;return path[_0x3dfb02(0x16a)](this[_0x3dfb02(0x18a)](),_0x44cc54[_0x3dfb02(0x1be)](_0x29e4e9,_0x44cc54[_0x3dfb02(0x1ac)]));}static[a43_0x2da107(0x18b)](_0x47309d){const _0x360bcd=a43_0x2da107,_0x19fceb={};_0x19fceb['OJWWf']=function(_0x49b282,_0x1db18c){return _0x49b282+_0x1db18c;},_0x19fceb[_0x360bcd(0x166)]=function(_0x2f34b4,_0x331459){return _0x2f34b4+_0x331459;};const _0x7a2e82=_0x19fceb;return _0x7a2e82[_0x360bcd(0x177)](_0x7a2e82[_0x360bcd(0x177)](_0x7a2e82[_0x360bcd(0x177)](_0x7a2e82[_0x360bcd(0x166)](this[_0x360bcd(0x1b1)](_0x47309d),'-'),this[_0x360bcd(0x18f)](_0x47309d)),'-'),_0x47309d[_0x360bcd(0x1ab)]);}static['getProjectIdFromTestInfo'](_0x27c7c6){const _0x263b30=a43_0x2da107,_0x3b29fb={'jyauf':function(_0x22dd2c,_0x22f1fb,_0x3f6834){return _0x22dd2c(_0x22f1fb,_0x3f6834);},'FHxsW':_0x263b30(0x176),'ogKLz':_0x263b30(0x1a8),'qxfwf':_0x263b30(0x165),'wiNyW':'__projectId'};return _0x3b29fb['jyauf'](nestedKeyValue,_0x27c7c6,[_0x3b29fb[_0x263b30(0x18c)],_0x3b29fb['ogKLz']])||_0x3b29fb[_0x263b30(0x1a1)](nestedKeyValue,_0x27c7c6,[_0x3b29fb[_0x263b30(0x161)],_0x3b29fb[_0x263b30(0x163)]]);}static['getTestIdFromTestInfo'](_0x4779e5){const _0x310754=a43_0x2da107,_0x12d5f0={'pbMtQ':function(_0x4fbd45,_0x4c421e,_0x5472ab){return _0x4fbd45(_0x4c421e,_0x5472ab);},'DlruG':_0x310754(0x176)};return _0x12d5f0[_0x310754(0x16c)](nestedKeyValue,_0x4779e5,[_0x12d5f0[_0x310754(0x1a4)],'id'])||_0x4779e5[_0x310754(0x195)];}static[a43_0x2da107(0x16d)](_0x4b4bb3){const _0x855f55=a43_0x2da107,_0x15ae5e={'khhZv':function(_0x48d780,_0x1d6dc9){return _0x48d780===_0x1d6dc9;},'GoIoE':_0x855f55(0x17f),'lBDQw':function(_0x3ceedf){return _0x3ceedf();}};if(this['tests'][_0x4b4bb3]&&_0x15ae5e[_0x855f55(0x1b5)](typeof this[_0x855f55(0x1a5)][_0x4b4bb3][_0x855f55(0x196)],_0x15ae5e[_0x855f55(0x164)]))return this['tests'][_0x4b4bb3]['uuid'];const _0x1ec2dc=this[_0x855f55(0x1a2)](_0x4b4bb3);if(_0x1ec2dc&&fs[_0x855f55(0x184)](_0x1ec2dc)){const _0x153c68=JSON['parse'](fs[_0x855f55(0x17e)](_0x1ec2dc)[_0x855f55(0x168)]());return this[_0x855f55(0x1a5)][_0x4b4bb3]=_0x153c68,this[_0x855f55(0x1a5)][_0x4b4bb3][_0x855f55(0x196)];}return this['tests'][_0x4b4bb3]={'uuid':_0x15ae5e[_0x855f55(0x18d)](uuidv4)},fs['writeFileSync'](_0x1ec2dc,JSON[_0x855f55(0x199)](this[_0x855f55(0x1a5)][_0x4b4bb3])),this['tests'][_0x4b4bb3][_0x855f55(0x196)];}static[a43_0x2da107(0x17a)](_0x5402f3){const _0x4f559c=a43_0x2da107,_0x3af779=path[_0x4f559c(0x16a)](this[_0x4f559c(0x18a)](),_0x5402f3+'_platformDetails.json');if(_0x3af779&&fs[_0x4f559c(0x184)](_0x3af779))return fs[_0x4f559c(0x17e)](_0x3af779)[_0x4f559c(0x168)]();}static[a43_0x2da107(0x1ad)](_0x244375,_0x575b6f){const _0x4ffcb1=a43_0x2da107,_0x268e4e=path['join'](this[_0x4ffcb1(0x18a)](),_0x575b6f+_0x4ffcb1(0x179));fs['writeFileSync'](_0x268e4e,_0x244375[_0x4ffcb1(0x168)]());}static[a43_0x2da107(0x192)](){const _0x2947cc=a43_0x2da107,_0x37189b={};_0x37189b[_0x2947cc(0x1a9)]=!![],_0x37189b[_0x2947cc(0x1c2)]=!![],fs['rmSync'](this[_0x2947cc(0x18a)](),_0x37189b);}static[a43_0x2da107(0x198)](_0x8c0fb3){const _0x5ae061=a43_0x2da107;if(this[_0x5ae061(0x1a5)][_0x8c0fb3])return this['tests'][_0x8c0fb3];const _0x312034=this[_0x5ae061(0x1a2)](_0x8c0fb3);if(_0x312034&&fs[_0x5ae061(0x184)](_0x312034)){const _0x521e1f=JSON[_0x5ae061(0x167)](fs['readFileSync'](_0x312034)[_0x5ae061(0x168)]());return this['tests'][_0x8c0fb3]=_0x521e1f,_0x521e1f;}return{};}static[a43_0x2da107(0x1bd)](_0x4a1f27,_0x4a41c4){const _0x49ad13=a43_0x2da107,_0x1e12b2=this[_0x49ad13(0x1a2)](_0x4a1f27);if(_0x1e12b2&&fs['existsSync'](_0x1e12b2)){const _0xc427b5=JSON[_0x49ad13(0x167)](fs[_0x49ad13(0x17e)](_0x1e12b2)[_0x49ad13(0x168)]()),_0x2d3d60={..._0xc427b5,..._0x4a41c4};this[_0x49ad13(0x1a5)][_0x4a1f27]=_0x2d3d60;}else this[_0x49ad13(0x1a5)][_0x4a1f27]=_0x4a41c4;fs[_0x49ad13(0x1b2)](_0x1e12b2,this[_0x49ad13(0x1a5)][_0x4a1f27]);}static[a43_0x2da107(0x180)](_0x2186fb){const _0x2bbddf=a43_0x2da107,_0x2381f6={};_0x2381f6[_0x2bbddf(0x18e)]=_0x2bbddf(0x19d);const _0x5a0565=_0x2381f6;try{const _0x7db19e=process[_0x2bbddf(0x170)],_0x48f9de=path[_0x2bbddf(0x16a)](TestDetails[_0x2bbddf(0x19b)](),_0x7db19e+_0x2bbddf(0x19e));let _0x29c1cf=[];_0x48f9de&&fs[_0x2bbddf(0x184)](_0x48f9de)&&(_0x29c1cf=JSON['parse'](fs[_0x2bbddf(0x17e)](_0x48f9de)[_0x2bbddf(0x168)]())),!_0x29c1cf['some'](_0x16579a=>_0x16579a[_0x2bbddf(0x17b)]===_0x2186fb[_0x2bbddf(0x17b)])&&(_0x29c1cf[_0x2bbddf(0x175)](_0x2186fb),fs['writeFileSync'](_0x48f9de,JSON[_0x2bbddf(0x199)](_0x29c1cf)));}catch(_0x1d861e){logger['error'](_0x5a0565['yXFNV'],_0x1d861e);}}static[a43_0x2da107(0x172)](){const _0x489d00=a43_0x2da107,_0x681782={};_0x681782[_0x489d00(0x190)]=_0x489d00(0x19e),_0x681782[_0x489d00(0x188)]=_0x489d00(0x189);const _0x14ab1e=_0x681782,_0x42e992=[];try{const _0x127c57=TestDetails[_0x489d00(0x19b)]();if(_0x127c57&&!fs[_0x489d00(0x184)](_0x127c57))return _0x42e992;const _0x2a43a0=fs[_0x489d00(0x16e)](_0x127c57);_0x2a43a0[_0x489d00(0x1c0)](_0x5bd355=>{const _0x50947b=_0x489d00;if(_0x5bd355&&_0x5bd355[_0x50947b(0x191)](_0x14ab1e[_0x50947b(0x190)])){const _0x210ca3=JSON[_0x50947b(0x167)](fs[_0x50947b(0x17e)](path[_0x50947b(0x16a)](_0x127c57,_0x5bd355))[_0x50947b(0x168)]());_0x42e992[_0x50947b(0x175)](..._0x210ca3);}});}catch(_0x3ca7f3){logger[_0x489d00(0x186)](util['format'](_0x14ab1e[_0x489d00(0x188)],_0x3ca7f3));}const _0x5d3f34={};return _0x42e992[_0x489d00(0x1c0)](_0x348241=>{const _0x2a3021=_0x489d00;_0x5d3f34[_0x348241[_0x2a3021(0x17b)]]=_0x348241;}),Object[_0x489d00(0x169)](_0x5d3f34);}static[a43_0x2da107(0x1b9)](_0x293f9f,_0x379234){const _0x439883=a43_0x2da107,_0xaa4e48={};_0xaa4e48['RJuxS']='.browserstack',_0xaa4e48[_0x439883(0x1a6)]=_0x439883(0x1a7);const _0x3cfb99=_0xaa4e48;try{const _0x5cb1d1=path[_0x439883(0x16a)](helper['homedir'](),_0x3cfb99[_0x439883(0x185)]);if(!fs[_0x439883(0x184)](_0x5cb1d1)){const _0x2ca8f1={};_0x2ca8f1['recursive']=!![],fs['mkdirSync'](_0x5cb1d1,_0x2ca8f1);}fs['appendFileSync'](path['join'](_0x5cb1d1,'trace_'+_0x379234+_0x439883(0x1c1)),_0x293f9f+'\x0a',_0x3cfb99[_0x439883(0x1a6)]);}catch(_0x145cb7){console['error'](_0x439883(0x183)+_0x145cb7[_0x439883(0x19a)]);}}}function a43_0x1faf(){const _0x44a42b=['getTestRunIdFromTestInfo','FHxsW','lBDQw','yXFNV','getTestIdFromTestInfo','IckeQ','endsWith','shutdown','1haUoMo','setup','testId','uuid','161592IXLtOS','getTestDetails','stringify','message','getTraceZipDir','451AIxXAP','Error\x20handling\x20trace\x20file\x20paths:\x20','_traceZipPaths.json','traceZipPaths','30gRfzow','jyauf','getFilePath','1570Gxhbwl','DlruG','tests','MTrwY','utf8','_projectId','recursive','7hhdpdF','retry','kBxfW','setAccessibilityPlatformValidation','BS_TESTOPS_BUILD_HASHED_ID','../../../helpers/test-observability/constants','849755Cojuxp','getProjectIdFromTestInfo','writeFileSync','FWnHD','winstonLogger','khhZv','787060blwogB','../../../helpers/helper','path','appendToTracePaths','RvPij','mkdirSync','default','setTestDetails','VqrQn','lHdRV','forEach','.txt','force','38619PNsYwA','qxfwf','9ykJmKP','wiNyW','GoIoE','project','CJioX','parse','toString','values','join','1530702yQQTFh','pbMtQ','getTestUUID','readdirSync','Mcgbx','pid','10343452vUWidP','getTraceFilePaths','util','yTMvr','push','_test','OJWWf','../../../helpers/logger','_platformDetails.json','getAccessibilityPlatformValidation','filePath','26pTfxuH','getStoreDirName','readFileSync','string','addTraceFilePath','env','3037728rEEnqJ','Error\x20writing\x20trace\x20file:\x20','existsSync','RJuxS','error','getStoreDirPath','MTgRf','Error\x20reading\x20trace\x20file\x20paths:\x20%s','getDirPath'];a43_0x1faf=function(){return _0x44a42b;};return a43_0x1faf();}module['exports']=TestDetails;