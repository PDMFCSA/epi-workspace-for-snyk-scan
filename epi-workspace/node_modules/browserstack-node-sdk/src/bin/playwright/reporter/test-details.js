const a42_0x32d926=a42_0x47c5;(function(_0x16ab04,_0x4670b5){const _0x448981=a42_0x47c5,_0x2946af=_0x16ab04();while(!![]){try{const _0x52400a=-parseInt(_0x448981(0x1aa))/0x1*(-parseInt(_0x448981(0x1ca))/0x2)+-parseInt(_0x448981(0x1c7))/0x3+-parseInt(_0x448981(0x1a6))/0x4+-parseInt(_0x448981(0x1c3))/0x5+-parseInt(_0x448981(0x1da))/0x6+-parseInt(_0x448981(0x1c1))/0x7+parseInt(_0x448981(0x1f6))/0x8*(parseInt(_0x448981(0x1b3))/0x9);if(_0x52400a===_0x4670b5)break;else _0x2946af['push'](_0x2946af['shift']());}catch(_0x42eded){_0x2946af['push'](_0x2946af['shift']());}}}(a42_0x305f,0x2c54a));const fs=require('fs'),path=require(a42_0x32d926(0x1bf)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require(a42_0x32d926(0x1bc)),{nestedKeyValue}=require(a42_0x32d926(0x1dc)),logger=require('../../../helpers/logger')[a42_0x32d926(0x1cb)],util=require('util'),helper=require(a42_0x32d926(0x1dc));function a42_0x47c5(_0x4840c8,_0xb1512e){const _0x305f54=a42_0x305f();return a42_0x47c5=function(_0x47c5f6,_0x421e71){_0x47c5f6=_0x47c5f6-0x1a1;let _0x238414=_0x305f54[_0x47c5f6];return _0x238414;},a42_0x47c5(_0x4840c8,_0xb1512e);}function a42_0x305f(){const _0x3136d9=['recursive','appendToTracePaths','184559zIddfP','uuid','lpnNH','_platformDetails.json','setAccessibilityPlatformValidation','project','homedir','shutdown','getFilePath','16146EuLQAD','writeFileSync','rmSync','XYinl','utf8','giPKQ','cwd','MBPQd','push','../../../helpers/test-observability/constants','tests','getAccessibilityPlatformValidation','path','NCFIG','557039RXmNjR','BS_TESTOPS_BUILD_HASHED_ID','1480210uoUQXy','getStoreDirPath','stringify','getStoreDirName','721458SFOoWo','readdirSync','lLGDj','2qbQGuE','winstonLogger','message','getTestDetails','parse','mkdirSync','pid','_test','ZdopR','pIrgW','forEach','addTraceFilePath','yjTrb','error','LYNPi','kdCaI','1224426LhovIS','readFileSync','../../../helpers/helper','toString','nZPWK','appendFileSync','hWnkB','split','_traceZipPaths.json','setTestDetails','retry','dirPath','YeqSC','RUOwk','traceZipDir','Error\x20reading\x20trace\x20file\x20paths:\x20%s','filePath','mAUlm','Error\x20handling\x20trace\x20file\x20paths:\x20','getProjectIdFromTestInfo','env','.txt','some','aoAjp','getTestRunIdFromTestInfo','join','KxQNQ','zWyJD','3664hSTExn','getTraceZipDir','testId','setup','getTestIdFromTestInfo','tLkny','existsSync','umAwq','17828LffzLn','traceZipPaths'];a42_0x305f=function(){return _0x3136d9;};return a42_0x305f();}class TestDetails{static [a42_0x32d926(0x1bd)]={};static [a42_0x32d926(0x1e5)]=path[a42_0x32d926(0x1f3)](process[a42_0x32d926(0x1b9)](),TestDetails[a42_0x32d926(0x1c6)]());static [a42_0x32d926(0x1e8)]=path[a42_0x32d926(0x1f3)](TestDetails[a42_0x32d926(0x1e5)],a42_0x32d926(0x1a7));static[a42_0x32d926(0x1a1)](){const _0x9b6787=a42_0x32d926,_0x5eab01={};_0x5eab01['MBPQd']='3|2|4|0|1',_0x5eab01[_0x9b6787(0x1d3)]=_0x9b6787(0x1a7);const _0x1de18a=_0x5eab01,_0x5c197c=_0x1de18a[_0x9b6787(0x1ba)][_0x9b6787(0x1e1)]('|');let _0x4718a9=0x0;while(!![]){switch(_0x5c197c[_0x4718a9++]){case'0':const _0x297c66={};_0x297c66[_0x9b6787(0x1a8)]=!![],fs[_0x9b6787(0x1cf)](this[_0x9b6787(0x1e5)],_0x297c66);continue;case'1':const _0x125559={};_0x125559[_0x9b6787(0x1a8)]=!![],fs[_0x9b6787(0x1cf)](this[_0x9b6787(0x1e8)],_0x125559);continue;case'2':this[_0x9b6787(0x1e8)]=path['join'](this['dirPath'],_0x1de18a[_0x9b6787(0x1d3)]);continue;case'3':this[_0x9b6787(0x1e5)]=path[_0x9b6787(0x1f3)](process[_0x9b6787(0x1b9)](),TestDetails[_0x9b6787(0x1c6)]());continue;case'4':this[_0x9b6787(0x1b1)]();continue;}break;}}static[a42_0x32d926(0x1c6)](){const _0x2081c1=a42_0x32d926,_0x53195a={};_0x53195a['yjTrb']=function(_0x26fcc6,_0x1a981f){return _0x26fcc6+_0x1a981f;};const _0x119bd4=_0x53195a;return _0x119bd4[_0x2081c1(0x1d6)](_0x119bd4[_0x2081c1(0x1d6)](TEMP_STORE_DIR_NAME,'-'),process[_0x2081c1(0x1ee)]['BS_TESTOPS_BUILD_HASHED_ID']);}static[a42_0x32d926(0x1c4)](){const _0xf57be=a42_0x32d926,_0x12ac29={};_0x12ac29['KxQNQ']=function(_0x54959c,_0xa1dab2){return _0x54959c+_0xa1dab2;},_0x12ac29['HnduT']=function(_0x6d95d2,_0x3c6816){return _0x6d95d2+_0x3c6816;},_0x12ac29['YeqSC']='default';const _0x485947=_0x12ac29;return path[_0xf57be(0x1f3)](process['cwd'](),_0x485947[_0xf57be(0x1f4)](_0x485947['HnduT'](TEMP_STORE_DIR_NAME,'-'),process['env'][_0xf57be(0x1c2)]||_0x485947[_0xf57be(0x1e6)]));}static[a42_0x32d926(0x1f7)](){const _0x1962fe=a42_0x32d926,_0x139064={};_0x139064['XYinl']='traceZipPaths';const _0x2da412=_0x139064;return path['join'](this[_0x1962fe(0x1c4)](),_0x2da412[_0x1962fe(0x1b6)]);}static[a42_0x32d926(0x1b2)](_0x3e3045){const _0x1b9fd3=a42_0x32d926,_0x4ce006={};_0x4ce006['kdCaI']=function(_0x2e94c2,_0x41ef76){return _0x2e94c2+_0x41ef76;},_0x4ce006[_0x1b9fd3(0x1a5)]='.json';const _0x1304fd=_0x4ce006;return path[_0x1b9fd3(0x1f3)](this[_0x1b9fd3(0x1e5)],_0x1304fd[_0x1b9fd3(0x1d9)](_0x3e3045,_0x1304fd['umAwq']));}static[a42_0x32d926(0x1f2)](_0xb5b3b4){const _0x60074e=a42_0x32d926,_0xc72f87={};_0xc72f87[_0x60074e(0x1b8)]=function(_0x559ec5,_0x152d61){return _0x559ec5+_0x152d61;},_0xc72f87['mAUlm']=function(_0x33569b,_0x58a925){return _0x33569b+_0x58a925;};const _0x263e9e=_0xc72f87;return _0x263e9e[_0x60074e(0x1b8)](_0x263e9e[_0x60074e(0x1b8)](_0x263e9e[_0x60074e(0x1eb)](_0x263e9e[_0x60074e(0x1b8)](this[_0x60074e(0x1ed)](_0xb5b3b4),'-'),this['getTestIdFromTestInfo'](_0xb5b3b4)),'-'),_0xb5b3b4[_0x60074e(0x1e4)]);}static[a42_0x32d926(0x1ed)](_0x557844){const _0x3ad008=a42_0x32d926,_0x806ed8={'aoAjp':function(_0xeb4a75,_0x9f00f1,_0x5265f2){return _0xeb4a75(_0x9f00f1,_0x5265f2);},'NCFIG':_0x3ad008(0x1d1),'ZdopR':'_projectId','lpnNH':_0x3ad008(0x1af),'uKmZv':'__projectId'};return _0x806ed8['aoAjp'](nestedKeyValue,_0x557844,[_0x806ed8[_0x3ad008(0x1c0)],_0x806ed8[_0x3ad008(0x1d2)]])||_0x806ed8[_0x3ad008(0x1f1)](nestedKeyValue,_0x557844,[_0x806ed8[_0x3ad008(0x1ac)],_0x806ed8['uKmZv']]);}static[a42_0x32d926(0x1a2)](_0x49a944){const _0x3d5cda=a42_0x32d926,_0x1cbf2f={'RUOwk':function(_0x40db5e,_0x44621e,_0x419a98){return _0x40db5e(_0x44621e,_0x419a98);},'JseiH':_0x3d5cda(0x1d1)};return _0x1cbf2f[_0x3d5cda(0x1e7)](nestedKeyValue,_0x49a944,[_0x1cbf2f['JseiH'],'id'])||_0x49a944[_0x3d5cda(0x1f8)];}static['getTestUUID'](_0x2d5a5e){const _0x2e16ac=a42_0x32d926,_0x266430={'nZPWK':function(_0x355e31,_0x3e4580){return _0x355e31===_0x3e4580;},'ifhmn':'string','vnSHA':function(_0x14c144){return _0x14c144();}};if(this['tests'][_0x2d5a5e]&&_0x266430[_0x2e16ac(0x1de)](typeof this[_0x2e16ac(0x1bd)][_0x2d5a5e][_0x2e16ac(0x1ab)],_0x266430['ifhmn']))return this[_0x2e16ac(0x1bd)][_0x2d5a5e][_0x2e16ac(0x1ab)];const _0x107174=this['getFilePath'](_0x2d5a5e);if(_0x107174&&fs['existsSync'](_0x107174)){const _0x5f44c7=JSON[_0x2e16ac(0x1ce)](fs[_0x2e16ac(0x1db)](_0x107174)[_0x2e16ac(0x1dd)]());return this[_0x2e16ac(0x1bd)][_0x2d5a5e]=_0x5f44c7,this['tests'][_0x2d5a5e][_0x2e16ac(0x1ab)];}return this[_0x2e16ac(0x1bd)][_0x2d5a5e]={'uuid':_0x266430['vnSHA'](uuidv4)},fs[_0x2e16ac(0x1b4)](_0x107174,JSON[_0x2e16ac(0x1c5)](this[_0x2e16ac(0x1bd)][_0x2d5a5e])),this[_0x2e16ac(0x1bd)][_0x2d5a5e][_0x2e16ac(0x1ab)];}static[a42_0x32d926(0x1be)](_0x2f9802){const _0x51b2bb=a42_0x32d926,_0x25fddd=path[_0x51b2bb(0x1f3)](this[_0x51b2bb(0x1e5)],_0x2f9802+_0x51b2bb(0x1ad));if(_0x25fddd&&fs[_0x51b2bb(0x1a4)](_0x25fddd))return fs[_0x51b2bb(0x1db)](_0x25fddd)[_0x51b2bb(0x1dd)]();}static[a42_0x32d926(0x1ae)](_0x1e87be,_0x962cd2){const _0x29f1bc=a42_0x32d926,_0x2c0bb9=path['join'](this['dirPath'],_0x962cd2+_0x29f1bc(0x1ad));fs[_0x29f1bc(0x1b4)](_0x2c0bb9,_0x1e87be[_0x29f1bc(0x1dd)]());}static[a42_0x32d926(0x1b1)](){const _0x1f46e2=a42_0x32d926,_0x573da7={};_0x573da7[_0x1f46e2(0x1a8)]=!![],_0x573da7['force']=!![],fs[_0x1f46e2(0x1b5)](this[_0x1f46e2(0x1e5)],_0x573da7);}static[a42_0x32d926(0x1cd)](_0x4b0ba7){const _0x407fde=a42_0x32d926;if(this['tests'][_0x4b0ba7])return this[_0x407fde(0x1bd)][_0x4b0ba7];const _0x1fd052=this['getFilePath'](_0x4b0ba7);if(_0x1fd052&&fs[_0x407fde(0x1a4)](_0x1fd052)){const _0x534397=JSON[_0x407fde(0x1ce)](fs[_0x407fde(0x1db)](_0x1fd052)[_0x407fde(0x1dd)]());return this[_0x407fde(0x1bd)][_0x4b0ba7]=_0x534397,_0x534397;}return{};}static[a42_0x32d926(0x1e3)](_0x26a65c,_0x39e65e){const _0x6104fc=a42_0x32d926,_0x23d7bf=this[_0x6104fc(0x1b2)](_0x26a65c);if(_0x23d7bf&&fs[_0x6104fc(0x1a4)](_0x23d7bf)){const _0x1c9daa=JSON[_0x6104fc(0x1ce)](fs[_0x6104fc(0x1db)](_0x23d7bf)[_0x6104fc(0x1dd)]()),_0x5c7cd9={..._0x1c9daa,..._0x39e65e};this[_0x6104fc(0x1bd)][_0x26a65c]=_0x5c7cd9;}else this[_0x6104fc(0x1bd)][_0x26a65c]=_0x39e65e;fs[_0x6104fc(0x1b4)](_0x23d7bf,this[_0x6104fc(0x1bd)][_0x26a65c]);}static[a42_0x32d926(0x1d5)](_0x28f12a){const _0x3db7fd=a42_0x32d926,_0x3ff51c={};_0x3ff51c[_0x3db7fd(0x1f5)]=_0x3db7fd(0x1ec);const _0x24365a=_0x3ff51c;try{const _0x235128=process[_0x3db7fd(0x1d0)],_0x84d357=path['join'](TestDetails[_0x3db7fd(0x1f7)](),_0x235128+_0x3db7fd(0x1e2));let _0x8b268f=[];_0x84d357&&fs[_0x3db7fd(0x1a4)](_0x84d357)&&(_0x8b268f=JSON[_0x3db7fd(0x1ce)](fs[_0x3db7fd(0x1db)](_0x84d357)[_0x3db7fd(0x1dd)]())),!_0x8b268f[_0x3db7fd(0x1f0)](_0x4f1960=>_0x4f1960[_0x3db7fd(0x1ea)]===_0x28f12a[_0x3db7fd(0x1ea)])&&(_0x8b268f[_0x3db7fd(0x1bb)](_0x28f12a),fs[_0x3db7fd(0x1b4)](_0x84d357,JSON['stringify'](_0x8b268f)));}catch(_0x57e616){logger[_0x3db7fd(0x1d7)](_0x24365a[_0x3db7fd(0x1f5)],_0x57e616);}}static['getTraceFilePaths'](){const _0xf733a1=a42_0x32d926,_0x3c445c={};_0x3c445c[_0xf733a1(0x1a3)]='_traceZipPaths.json',_0x3c445c[_0xf733a1(0x1c9)]=_0xf733a1(0x1e9);const _0x416800=_0x3c445c,_0x75a7c6=[];try{const _0x20d6f4=TestDetails[_0xf733a1(0x1f7)]();if(_0x20d6f4&&!fs['existsSync'](_0x20d6f4))return _0x75a7c6;const _0x6a605a=fs[_0xf733a1(0x1c8)](_0x20d6f4);_0x6a605a[_0xf733a1(0x1d4)](_0x3111a2=>{const _0x10dc77=_0xf733a1;if(_0x3111a2&&_0x3111a2['endsWith'](_0x416800[_0x10dc77(0x1a3)])){const _0x469d17=JSON[_0x10dc77(0x1ce)](fs['readFileSync'](path[_0x10dc77(0x1f3)](_0x20d6f4,_0x3111a2))[_0x10dc77(0x1dd)]());_0x75a7c6[_0x10dc77(0x1bb)](..._0x469d17);}});}catch(_0x5d4bf9){logger[_0xf733a1(0x1d7)](util['format'](_0x416800[_0xf733a1(0x1c9)],_0x5d4bf9));}const _0x57d3e3={};return _0x75a7c6[_0xf733a1(0x1d4)](_0x1932e5=>{const _0x32299f=_0xf733a1;_0x57d3e3[_0x1932e5[_0x32299f(0x1ea)]]=_0x1932e5;}),Object['values'](_0x57d3e3);}static[a42_0x32d926(0x1a9)](_0xe180e0,_0x189388){const _0x36abb6=a42_0x32d926,_0x15159a={};_0x15159a['hWnkB']='.browserstack',_0x15159a[_0x36abb6(0x1d8)]=_0x36abb6(0x1b7);const _0x394af0=_0x15159a;try{const _0x32cda2=path[_0x36abb6(0x1f3)](helper[_0x36abb6(0x1b0)](),_0x394af0[_0x36abb6(0x1e0)]);if(!fs[_0x36abb6(0x1a4)](_0x32cda2)){const _0x128a69={};_0x128a69['recursive']=!![],fs['mkdirSync'](_0x32cda2,_0x128a69);}fs[_0x36abb6(0x1df)](path[_0x36abb6(0x1f3)](_0x32cda2,'trace_'+_0x189388+_0x36abb6(0x1ef)),_0xe180e0+'\x0a',_0x394af0['LYNPi']);}catch(_0xcfe97d){console['error']('Error\x20writing\x20trace\x20file:\x20'+_0xcfe97d[_0x36abb6(0x1cc)]);}}}module['exports']=TestDetails;