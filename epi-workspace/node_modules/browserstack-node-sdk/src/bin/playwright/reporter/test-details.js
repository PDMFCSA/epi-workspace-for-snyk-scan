const a47_0x1c059e=a47_0x3699;function a47_0x3699(_0x565278,_0x1ea05e){const _0x1b45fd=a47_0x1b45();return a47_0x3699=function(_0x369985,_0x3964bc){_0x369985=_0x369985-0x99;let _0x5b2d0c=_0x1b45fd[_0x369985];return _0x5b2d0c;},a47_0x3699(_0x565278,_0x1ea05e);}(function(_0x30dbe6,_0x32368c){const _0x3ab0bb=a47_0x3699,_0x565ee4=_0x30dbe6();while(!![]){try{const _0xd20db1=parseInt(_0x3ab0bb(0xcf))/0x1+-parseInt(_0x3ab0bb(0xbb))/0x2+parseInt(_0x3ab0bb(0xb9))/0x3+parseInt(_0x3ab0bb(0xa5))/0x4*(parseInt(_0x3ab0bb(0xda))/0x5)+parseInt(_0x3ab0bb(0xd8))/0x6+-parseInt(_0x3ab0bb(0xa1))/0x7+-parseInt(_0x3ab0bb(0xac))/0x8;if(_0xd20db1===_0x32368c)break;else _0x565ee4['push'](_0x565ee4['shift']());}catch(_0x33dab9){_0x565ee4['push'](_0x565ee4['shift']());}}}(a47_0x1b45,0x5a107));function a47_0x1b45(){const _0x16bf6e=['getStoreDirPath','writeFileSync','setup','ausSy','nRjVK','addTraceFilePath','getStoreDirName','forEach','filePath','.txt','../../../helpers/logger','2142525nCJDWG','utf8','299218GLwNEi','retry','error','ftbzM','PMenZ','CnvWm','PYyqE','path','toString','uNzJk','existsSync','trace_','getTestDetails','force','getTestUUID','traceZipPaths','_traceZipPaths.json','nXQKE','recursive','exports','287449AbZPth','getProjectIdFromTestInfo','parse','uuid','Error\x20reading\x20trace\x20file\x20paths:\x20%s','Error\x20handling\x20trace\x20file\x20paths:\x20','_platformDetails.json','QEsXU','stringify','1714452uehNTx','readFileSync','289210veCfaO','default','winstonLogger','getFilePath','join','JpLzu','testId','string','cPlGv','BS_TESTOPS_BUILD_HASHED_ID','appendFileSync','util','push','DjXId','tests','getTraceZipDir','qEPea','shutdown','mkdirSync','qqyDG','../../../helpers/test-observability/constants','appendToTracePaths','eklmk','LYkcP','env','__projectId','pid','some','_projectId','tDyuW','5141738BFCEbP','mceWJ','HBeBW','getTestRunIdFromTestInfo','20uIWXOx','homedir','readdirSync','.browserstack','.json','PauyF','getTestIdFromTestInfo','2588240KvUGJr','getDirPath'];a47_0x1b45=function(){return _0x16bf6e;};return a47_0x1b45();}const fs=require('fs'),path=require(a47_0x1c059e(0xc2)),{v4:uuidv4}=require(a47_0x1c059e(0xd2)),{TEMP_STORE_DIR_NAME}=require(a47_0x1c059e(0xee)),{nestedKeyValue}=require('../../../helpers/helper'),logger=require(a47_0x1c059e(0xb8))[a47_0x1c059e(0xdc)],{getLogDir}=require(a47_0x1c059e(0xb8)),util=require(a47_0x1c059e(0xe5)),helper=require('../../../helpers/helper');class TestDetails{static ['tests']={};static[a47_0x1c059e(0xb0)](){const _0x4c7148=a47_0x1c059e;this['shutdown']();const _0x173e9f={};_0x173e9f[_0x4c7148(0xcd)]=!![],fs[_0x4c7148(0xec)](this['getDirPath'](),_0x173e9f);const _0x97cce8={};_0x97cce8[_0x4c7148(0xcd)]=!![],fs[_0x4c7148(0xec)](this[_0x4c7148(0xe9)](),_0x97cce8);}static[a47_0x1c059e(0xb4)](){const _0x5a445c=a47_0x1c059e,_0x50d070={};_0x50d070['tDyuW']=function(_0x402773,_0x51607d){return _0x402773+_0x51607d;},_0x50d070['ausSy']=function(_0x1cba7b,_0x228be2){return _0x1cba7b+_0x228be2;};const _0x51e609=_0x50d070;return _0x51e609[_0x5a445c(0xa0)](_0x51e609[_0x5a445c(0xb1)](TEMP_STORE_DIR_NAME,'-'),process[_0x5a445c(0x9b)][_0x5a445c(0xe3)]);}static[a47_0x1c059e(0xae)](){const _0x402899=a47_0x1c059e,_0x23c84a={};_0x23c84a[_0x402899(0xa3)]=function(_0x2207fe,_0x5b739c){return _0x2207fe+_0x5b739c;},_0x23c84a[_0x402899(0xbf)]=function(_0x2a0db2,_0x22605f){return _0x2a0db2+_0x22605f;},_0x23c84a[_0x402899(0x99)]=_0x402899(0xdb);const _0x4f13e4=_0x23c84a;return path[_0x402899(0xde)](_0x4f13e4[_0x402899(0xa3)](_0x4f13e4['PMenZ'](TEMP_STORE_DIR_NAME,'-'),process[_0x402899(0x9b)][_0x402899(0xe3)]||_0x4f13e4[_0x402899(0x99)]));}static[a47_0x1c059e(0xe9)](){const _0x3c71a3=a47_0x1c059e,_0x1bb05d={};_0x1bb05d[_0x3c71a3(0xea)]=_0x3c71a3(0xca);const _0x2e6a7d=_0x1bb05d;return path[_0x3c71a3(0xde)](this[_0x3c71a3(0xae)](),_0x2e6a7d['qEPea']);}static[a47_0x1c059e(0xad)](){const _0x1349f8=a47_0x1c059e;return TestDetails[_0x1349f8(0xb4)]();}static[a47_0x1c059e(0xdd)](_0xab56b5){const _0x4e86b0=a47_0x1c059e,_0x34ba45={};_0x34ba45[_0x4e86b0(0xe7)]=function(_0x8f0dde,_0x559365){return _0x8f0dde+_0x559365;},_0x34ba45['PauyF']=_0x4e86b0(0xa9);const _0x47d839=_0x34ba45;return path[_0x4e86b0(0xde)](this[_0x4e86b0(0xad)](),_0x47d839['DjXId'](_0xab56b5,_0x47d839[_0x4e86b0(0xaa)]));}static[a47_0x1c059e(0xa4)](_0x11aef3){const _0x24b54e=a47_0x1c059e,_0x3e2a57={};_0x3e2a57[_0x24b54e(0xb2)]=function(_0x504373,_0x1f785a){return _0x504373+_0x1f785a;},_0x3e2a57['rZndG']=function(_0x5756d4,_0xb922d4){return _0x5756d4+_0xb922d4;},_0x3e2a57[_0x24b54e(0xcc)]=function(_0x3108da,_0x552d45){return _0x3108da+_0x552d45;};const _0x17edaa=_0x3e2a57;return _0x17edaa[_0x24b54e(0xb2)](_0x17edaa['rZndG'](_0x17edaa['nRjVK'](_0x17edaa[_0x24b54e(0xcc)](this[_0x24b54e(0xd0)](_0x11aef3),'-'),this['getTestIdFromTestInfo'](_0x11aef3)),'-'),_0x11aef3[_0x24b54e(0xbc)]);}static[a47_0x1c059e(0xd0)](_0x191379){const _0x2bd47a=a47_0x1c059e,_0xf13f9c={'uNzJk':function(_0x9c7e52,_0x36822f,_0x19d1ad){return _0x9c7e52(_0x36822f,_0x19d1ad);},'PYyqE':'_test','QJASO':_0x2bd47a(0x9f),'JOapw':function(_0x5f7761,_0x257995,_0x572167){return _0x5f7761(_0x257995,_0x572167);},'RkSWD':'project','QEsXU':_0x2bd47a(0x9c)};return _0xf13f9c[_0x2bd47a(0xc4)](nestedKeyValue,_0x191379,[_0xf13f9c[_0x2bd47a(0xc1)],_0xf13f9c['QJASO']])||_0xf13f9c['JOapw'](nestedKeyValue,_0x191379,[_0xf13f9c['RkSWD'],_0xf13f9c[_0x2bd47a(0xd6)]]);}static[a47_0x1c059e(0xab)](_0x121613){const _0x184fae=a47_0x1c059e,_0x27d123={'lLEEk':function(_0x57b463,_0x2fb80f,_0x56f898){return _0x57b463(_0x2fb80f,_0x56f898);},'CgyeR':'_test'};return _0x27d123['lLEEk'](nestedKeyValue,_0x121613,[_0x27d123['CgyeR'],'id'])||_0x121613[_0x184fae(0xe0)];}static[a47_0x1c059e(0xc9)](_0x34a636){const _0x3b8da9=a47_0x1c059e,_0x3e9ee5={'cPlGv':function(_0x156a78,_0x4d0680){return _0x156a78===_0x4d0680;},'mceWJ':_0x3b8da9(0xe1),'qxXZm':function(_0x3ec878){return _0x3ec878();}};if(this[_0x3b8da9(0xe8)][_0x34a636]&&_0x3e9ee5[_0x3b8da9(0xe2)](typeof this[_0x3b8da9(0xe8)][_0x34a636][_0x3b8da9(0xd2)],_0x3e9ee5[_0x3b8da9(0xa2)]))return this['tests'][_0x34a636][_0x3b8da9(0xd2)];const _0x422f31=this[_0x3b8da9(0xdd)](_0x34a636);if(_0x422f31&&fs[_0x3b8da9(0xc5)](_0x422f31)){const _0x2e5565=JSON['parse'](fs['readFileSync'](_0x422f31)[_0x3b8da9(0xc3)]());return this['tests'][_0x34a636]=_0x2e5565,this[_0x3b8da9(0xe8)][_0x34a636][_0x3b8da9(0xd2)];}return this[_0x3b8da9(0xe8)][_0x34a636]={'uuid':_0x3e9ee5['qxXZm'](uuidv4)},fs[_0x3b8da9(0xaf)](_0x422f31,JSON[_0x3b8da9(0xd7)](this['tests'][_0x34a636])),this[_0x3b8da9(0xe8)][_0x34a636][_0x3b8da9(0xd2)];}static['getAccessibilityPlatformValidation'](_0x11b648){const _0x59a1d3=a47_0x1c059e,_0x51aeac=path[_0x59a1d3(0xde)](this['getDirPath'](),_0x11b648+_0x59a1d3(0xd5));if(_0x51aeac&&fs[_0x59a1d3(0xc5)](_0x51aeac))return fs[_0x59a1d3(0xd9)](_0x51aeac)['toString']();}static['setAccessibilityPlatformValidation'](_0x394f43,_0x328d02){const _0x50831f=a47_0x1c059e,_0x357ed5=path[_0x50831f(0xde)](this[_0x50831f(0xad)](),_0x328d02+_0x50831f(0xd5));fs[_0x50831f(0xaf)](_0x357ed5,_0x394f43[_0x50831f(0xc3)]());}static[a47_0x1c059e(0xeb)](){const _0x424efe=a47_0x1c059e,_0x318e44={};_0x318e44[_0x424efe(0xcd)]=!![],_0x318e44[_0x424efe(0xc8)]=!![],fs['rmSync'](this[_0x424efe(0xad)](),_0x318e44);}static[a47_0x1c059e(0xc7)](_0x46c4d0){const _0x698399=a47_0x1c059e;if(this[_0x698399(0xe8)][_0x46c4d0])return this[_0x698399(0xe8)][_0x46c4d0];const _0x3ad4ae=this[_0x698399(0xdd)](_0x46c4d0);if(_0x3ad4ae&&fs['existsSync'](_0x3ad4ae)){const _0x4e3049=JSON[_0x698399(0xd1)](fs['readFileSync'](_0x3ad4ae)['toString']());return this['tests'][_0x46c4d0]=_0x4e3049,_0x4e3049;}return{};}static['setTestDetails'](_0x1464ba,_0x1e0224){const _0x16c5d5=a47_0x1c059e,_0x803ff2=this['getFilePath'](_0x1464ba);if(_0x803ff2&&fs['existsSync'](_0x803ff2)){const _0x4f650c=JSON[_0x16c5d5(0xd1)](fs[_0x16c5d5(0xd9)](_0x803ff2)[_0x16c5d5(0xc3)]()),_0x2a28e1={..._0x4f650c,..._0x1e0224};this[_0x16c5d5(0xe8)][_0x1464ba]=_0x2a28e1;}else this[_0x16c5d5(0xe8)][_0x1464ba]=_0x1e0224;fs[_0x16c5d5(0xaf)](_0x803ff2,this[_0x16c5d5(0xe8)][_0x1464ba]);}static[a47_0x1c059e(0xb3)](_0x1042b5){const _0x37d552=a47_0x1c059e,_0x32ea9b={};_0x32ea9b[_0x37d552(0xbe)]=_0x37d552(0xd4);const _0x56152f=_0x32ea9b;try{const _0x589baf=process[_0x37d552(0x9d)],_0x1267b2=path[_0x37d552(0xde)](TestDetails['getTraceZipDir'](),_0x589baf+'_traceZipPaths.json');let _0x121a6f=[];_0x1267b2&&fs[_0x37d552(0xc5)](_0x1267b2)&&(_0x121a6f=JSON[_0x37d552(0xd1)](fs[_0x37d552(0xd9)](_0x1267b2)[_0x37d552(0xc3)]())),!_0x121a6f[_0x37d552(0x9e)](_0x374c90=>_0x374c90[_0x37d552(0xb6)]===_0x1042b5[_0x37d552(0xb6)])&&(_0x121a6f[_0x37d552(0xe6)](_0x1042b5),fs[_0x37d552(0xaf)](_0x1267b2,JSON[_0x37d552(0xd7)](_0x121a6f)));}catch(_0xbffb3c){logger[_0x37d552(0xbd)](_0x56152f[_0x37d552(0xbe)],_0xbffb3c);}}static['getTraceFilePaths'](){const _0x5b0447=a47_0x1c059e,_0x312106={};_0x312106['qqyDG']=_0x5b0447(0xcb),_0x312106[_0x5b0447(0xc0)]=_0x5b0447(0xd3);const _0x5a9305=_0x312106,_0x8952f=[];try{const _0x595964=TestDetails[_0x5b0447(0xe9)]();if(_0x595964&&!fs['existsSync'](_0x595964))return _0x8952f;const _0x305f67=fs[_0x5b0447(0xa7)](_0x595964);_0x305f67[_0x5b0447(0xb5)](_0x2694ab=>{const _0x550ef9=_0x5b0447;if(_0x2694ab&&_0x2694ab['endsWith'](_0x5a9305[_0x550ef9(0xed)])){const _0x12e25c=JSON[_0x550ef9(0xd1)](fs[_0x550ef9(0xd9)](path[_0x550ef9(0xde)](_0x595964,_0x2694ab))[_0x550ef9(0xc3)]());_0x8952f[_0x550ef9(0xe6)](..._0x12e25c);}});}catch(_0x1f4da9){logger[_0x5b0447(0xbd)](util['format'](_0x5a9305[_0x5b0447(0xc0)],_0x1f4da9));}const _0xdd4b53={};return _0x8952f[_0x5b0447(0xb5)](_0x1e43e9=>{const _0x2b66d9=_0x5b0447;_0xdd4b53[_0x1e43e9[_0x2b66d9(0xb6)]]=_0x1e43e9;}),Object['values'](_0xdd4b53);}static[a47_0x1c059e(0xef)](_0x23693a,_0x2e7429){const _0x116520=a47_0x1c059e,_0x3aba33={};_0x3aba33[_0x116520(0x9a)]=_0x116520(0xa8),_0x3aba33[_0x116520(0xdf)]=_0x116520(0xba);const _0x487102=_0x3aba33;try{const _0x726d22=path['join'](helper[_0x116520(0xa6)](),_0x487102[_0x116520(0x9a)]);if(!fs[_0x116520(0xc5)](_0x726d22)){const _0xbe27e6={};_0xbe27e6[_0x116520(0xcd)]=!![],fs['mkdirSync'](_0x726d22,_0xbe27e6);}fs[_0x116520(0xe4)](path['join'](_0x726d22,_0x116520(0xc6)+_0x2e7429+_0x116520(0xb7)),_0x23693a+'\x0a',_0x487102[_0x116520(0xdf)]);}catch(_0xbdae00){console['error']('Error\x20writing\x20trace\x20file:\x20'+_0xbdae00['message']);}}}module[a47_0x1c059e(0xce)]=TestDetails;