const a46_0x46a812=a46_0x3548;(function(_0x3776d5,_0x32bc76){const _0x4b1dbf=a46_0x3548,_0x489863=_0x3776d5();while(!![]){try{const _0x333768=parseInt(_0x4b1dbf(0x1d1))/0x1+parseInt(_0x4b1dbf(0x1e3))/0x2+-parseInt(_0x4b1dbf(0x19e))/0x3*(parseInt(_0x4b1dbf(0x1f4))/0x4)+-parseInt(_0x4b1dbf(0x197))/0x5*(parseInt(_0x4b1dbf(0x1ce))/0x6)+-parseInt(_0x4b1dbf(0x1e0))/0x7+-parseInt(_0x4b1dbf(0x1c2))/0x8+parseInt(_0x4b1dbf(0x1b0))/0x9;if(_0x333768===_0x32bc76)break;else _0x489863['push'](_0x489863['shift']());}catch(_0x25120d){_0x489863['push'](_0x489863['shift']());}}}(a46_0x2818,0x45c22));const fs=require('fs'),path=require(a46_0x46a812(0x1f0)),{v4:uuidv4}=require(a46_0x46a812(0x1de)),{TEMP_STORE_DIR_NAME}=require(a46_0x46a812(0x1b2)),{nestedKeyValue}=require(a46_0x46a812(0x1e2)),logger=require(a46_0x46a812(0x1a0))[a46_0x46a812(0x1d8)],{getLogDir}=require(a46_0x46a812(0x1a0)),util=require(a46_0x46a812(0x1be)),helper=require(a46_0x46a812(0x1e2));function a46_0x3548(_0x4d85bc,_0x446558){const _0x2818da=a46_0x2818();return a46_0x3548=function(_0x3548d1,_0x1554f9){_0x3548d1=_0x3548d1-0x197;let _0x3fec7a=_0x2818da[_0x3548d1];return _0x3fec7a;},a46_0x3548(_0x4d85bc,_0x446558);}function a46_0x2818(){const _0x31806d=['getTestUUID','Jaukg','.json','project','getProjectIdFromTestInfo','util','traceZipPaths','.browserstack','readFileSync','3730488ifoLbm','values','existsSync','toString','getTraceFilePaths','moQUc','SAbGZ','mkdirSync','readdirSync','Error\x20reading\x20trace\x20file\x20paths:\x20%s','tests','lkQcc','12GbOOuH','env','UdDCx','156550HJqvJK','mjGCu','getTestDetails','homedir','noKyv','getStoreDirPath','getTraceZipDir','winstonLogger','Error\x20writing\x20trace\x20file:\x20','__projectId','error','jvbJS','endsWith','uuid','FWMzs','3248371xeHPzU','OIypk','../../../helpers/helper','715894feVLrC','trace_','geBVu','XtKSt','.txt','format','_platformDetails.json','thMqx','parse','vMUYn','setTestDetails','retry','oQiUf','path','recursive','_traceZipPaths.json','_test','12884oNHbhJ','addTraceFilePath','KBgio','force','359295mHiiFV','FAaFy','getDirPath','getTestIdFromTestInfo','UsasV','jYiMT','Error\x20handling\x20trace\x20file\x20paths:\x20','501QuLIkk','testId','../../../helpers/logger','PpZlH','setAccessibilityPlatformValidation','getAccessibilityPlatformValidation','stringify','push','Vgbqu','GAHpD','rmSync','setup','appendToTracePaths','some','EykME','BS_TESTOPS_BUILD_HASHED_ID','writeFileSync','dAGwI','12448998lLbSIU','filePath','../../../helpers/test-observability/constants','pjOuC','getFilePath','RMCQG','forEach','shutdown','join'];a46_0x2818=function(){return _0x31806d;};return a46_0x2818();}class TestDetails{static [a46_0x46a812(0x1cc)]={};static[a46_0x46a812(0x1a9)](){const _0x5cd122=a46_0x46a812;this[_0x5cd122(0x1b7)]();const _0x29bde1={};_0x29bde1[_0x5cd122(0x1f1)]=!![],fs['mkdirSync'](this[_0x5cd122(0x199)](),_0x29bde1);const _0x3c69aa={};_0x3c69aa[_0x5cd122(0x1f1)]=!![],fs['mkdirSync'](this['getTraceZipDir'](),_0x3c69aa);}static['getStoreDirName'](){const _0x355c70=a46_0x46a812,_0x2c82d3={};_0x2c82d3[_0x355c70(0x1dc)]=function(_0x3b09df,_0x3561cf){return _0x3b09df+_0x3561cf;},_0x2c82d3[_0x355c70(0x1e6)]=function(_0x2d5001,_0x478eb9){return _0x2d5001+_0x478eb9;};const _0x1e7349=_0x2c82d3;return _0x1e7349[_0x355c70(0x1dc)](_0x1e7349[_0x355c70(0x1e6)](TEMP_STORE_DIR_NAME,'-'),process[_0x355c70(0x1cf)][_0x355c70(0x1ad)]);}static[a46_0x46a812(0x1d6)](){const _0x3b8cc5=a46_0x46a812,_0x5480cd={};_0x5480cd[_0x3b8cc5(0x1a6)]=function(_0x3d1c2d,_0xb685c2){return _0x3d1c2d+_0xb685c2;},_0x5480cd[_0x3b8cc5(0x1c8)]='default';const _0x59fae6=_0x5480cd;return path['join'](_0x59fae6['Vgbqu'](_0x59fae6[_0x3b8cc5(0x1a6)](TEMP_STORE_DIR_NAME,'-'),process[_0x3b8cc5(0x1cf)][_0x3b8cc5(0x1ad)]||_0x59fae6[_0x3b8cc5(0x1c8)]));}static[a46_0x46a812(0x1d7)](){const _0x544f85=a46_0x46a812,_0x5d5009={};_0x5d5009[_0x544f85(0x1ef)]=_0x544f85(0x1bf);const _0x29a091=_0x5d5009;return path[_0x544f85(0x1b8)](this['getStoreDirPath'](),_0x29a091[_0x544f85(0x1ef)]);}static['getDirPath'](){return TestDetails['getStoreDirName']();}static[a46_0x46a812(0x1b4)](_0x264746){const _0x403ea1=a46_0x46a812,_0x560709={};_0x560709[_0x403ea1(0x1ec)]=function(_0x3a2851,_0x2fe7e7){return _0x3a2851+_0x2fe7e7;},_0x560709['lkQcc']=_0x403ea1(0x1bb);const _0x21ae91=_0x560709;return path[_0x403ea1(0x1b8)](this['getDirPath'](),_0x21ae91[_0x403ea1(0x1ec)](_0x264746,_0x21ae91[_0x403ea1(0x1cd)]));}static['getTestRunIdFromTestInfo'](_0x1b5c6f){const _0x44f3d1=a46_0x46a812,_0x4059db={};_0x4059db[_0x44f3d1(0x1d0)]=function(_0x2a135c,_0x9663c2){return _0x2a135c+_0x9663c2;},_0x4059db[_0x44f3d1(0x1a7)]=function(_0x544da1,_0x446a16){return _0x544da1+_0x446a16;},_0x4059db['pjOuC']=function(_0x1c67f7,_0x2dcc83){return _0x1c67f7+_0x2dcc83;},_0x4059db[_0x44f3d1(0x19c)]=function(_0x1de1bb,_0x1e1950){return _0x1de1bb+_0x1e1950;};const _0xdba7cb=_0x4059db;return _0xdba7cb[_0x44f3d1(0x1d0)](_0xdba7cb[_0x44f3d1(0x1a7)](_0xdba7cb[_0x44f3d1(0x1b3)](_0xdba7cb['jYiMT'](this[_0x44f3d1(0x1bd)](_0x1b5c6f),'-'),this[_0x44f3d1(0x19a)](_0x1b5c6f)),'-'),_0x1b5c6f[_0x44f3d1(0x1ee)]);}static[a46_0x46a812(0x1bd)](_0x5c174a){const _0x480975=a46_0x46a812,_0x38285e={'bbSRS':function(_0x27b56e,_0xf41841,_0x36ff7c){return _0x27b56e(_0xf41841,_0x36ff7c);},'FWMzs':_0x480975(0x1f3),'PpZlH':'_projectId','geBVu':function(_0x253e64,_0x592451,_0x21138b){return _0x253e64(_0x592451,_0x21138b);},'UsasV':_0x480975(0x1bc),'thMqx':_0x480975(0x1da)};return _0x38285e['bbSRS'](nestedKeyValue,_0x5c174a,[_0x38285e[_0x480975(0x1df)],_0x38285e[_0x480975(0x1a1)]])||_0x38285e[_0x480975(0x1e5)](nestedKeyValue,_0x5c174a,[_0x38285e[_0x480975(0x19b)],_0x38285e[_0x480975(0x1ea)]]);}static[a46_0x46a812(0x19a)](_0x3cad9b){const _0x2edfd8=a46_0x46a812,_0x1c03af={'Jaukg':function(_0x24fe47,_0x25f427,_0x5146cb){return _0x24fe47(_0x25f427,_0x5146cb);},'noKyv':'_test'};return _0x1c03af[_0x2edfd8(0x1ba)](nestedKeyValue,_0x3cad9b,[_0x1c03af[_0x2edfd8(0x1d5)],'id'])||_0x3cad9b[_0x2edfd8(0x19f)];}static[a46_0x46a812(0x1b9)](_0x33e97c){const _0x3ad33f=a46_0x46a812,_0x318c7f={'RMCQG':function(_0x44de33,_0x2817ce){return _0x44de33===_0x2817ce;},'FAaFy':'string','moQUc':function(_0x34afe1){return _0x34afe1();}};if(this[_0x3ad33f(0x1cc)][_0x33e97c]&&_0x318c7f[_0x3ad33f(0x1b5)](typeof this[_0x3ad33f(0x1cc)][_0x33e97c][_0x3ad33f(0x1de)],_0x318c7f[_0x3ad33f(0x198)]))return this[_0x3ad33f(0x1cc)][_0x33e97c]['uuid'];const _0x3aff6c=this['getFilePath'](_0x33e97c);if(_0x3aff6c&&fs[_0x3ad33f(0x1c4)](_0x3aff6c)){const _0x25fee9=JSON[_0x3ad33f(0x1eb)](fs[_0x3ad33f(0x1c1)](_0x3aff6c)[_0x3ad33f(0x1c5)]());return this['tests'][_0x33e97c]=_0x25fee9,this[_0x3ad33f(0x1cc)][_0x33e97c][_0x3ad33f(0x1de)];}return this[_0x3ad33f(0x1cc)][_0x33e97c]={'uuid':_0x318c7f[_0x3ad33f(0x1c7)](uuidv4)},fs[_0x3ad33f(0x1ae)](_0x3aff6c,JSON['stringify'](this[_0x3ad33f(0x1cc)][_0x33e97c])),this[_0x3ad33f(0x1cc)][_0x33e97c][_0x3ad33f(0x1de)];}static[a46_0x46a812(0x1a3)](_0xdc3a75){const _0x19bd75=a46_0x46a812,_0x965d84=path[_0x19bd75(0x1b8)](this['getDirPath'](),_0xdc3a75+_0x19bd75(0x1e9));if(_0x965d84&&fs[_0x19bd75(0x1c4)](_0x965d84))return fs[_0x19bd75(0x1c1)](_0x965d84)[_0x19bd75(0x1c5)]();}static[a46_0x46a812(0x1a2)](_0x26c4af,_0x41ca49){const _0xae6dd6=a46_0x46a812,_0x21cb5e=path[_0xae6dd6(0x1b8)](this[_0xae6dd6(0x199)](),_0x41ca49+_0xae6dd6(0x1e9));fs[_0xae6dd6(0x1ae)](_0x21cb5e,_0x26c4af[_0xae6dd6(0x1c5)]());}static[a46_0x46a812(0x1b7)](){const _0x473af0=a46_0x46a812,_0x1f3e7d={};_0x1f3e7d[_0x473af0(0x1f1)]=!![],_0x1f3e7d[_0x473af0(0x1f7)]=!![],fs[_0x473af0(0x1a8)](this[_0x473af0(0x199)](),_0x1f3e7d);}static[a46_0x46a812(0x1d3)](_0x376aa9){const _0xb4bc05=a46_0x46a812;if(this[_0xb4bc05(0x1cc)][_0x376aa9])return this['tests'][_0x376aa9];const _0x67cc1c=this[_0xb4bc05(0x1b4)](_0x376aa9);if(_0x67cc1c&&fs[_0xb4bc05(0x1c4)](_0x67cc1c)){const _0x283f18=JSON[_0xb4bc05(0x1eb)](fs[_0xb4bc05(0x1c1)](_0x67cc1c)[_0xb4bc05(0x1c5)]());return this['tests'][_0x376aa9]=_0x283f18,_0x283f18;}return{};}static[a46_0x46a812(0x1ed)](_0x597e78,_0x39da61){const _0xfd5474=a46_0x46a812,_0x4fcc5c=this[_0xfd5474(0x1b4)](_0x597e78);if(_0x4fcc5c&&fs['existsSync'](_0x4fcc5c)){const _0x3fdbcc=JSON[_0xfd5474(0x1eb)](fs['readFileSync'](_0x4fcc5c)[_0xfd5474(0x1c5)]()),_0x11dee0={..._0x3fdbcc,..._0x39da61};this[_0xfd5474(0x1cc)][_0x597e78]=_0x11dee0;}else this[_0xfd5474(0x1cc)][_0x597e78]=_0x39da61;fs['writeFileSync'](_0x4fcc5c,this[_0xfd5474(0x1cc)][_0x597e78]);}static[a46_0x46a812(0x1f5)](_0x43e903){const _0x570b51=a46_0x46a812,_0x1d4cb5={};_0x1d4cb5[_0x570b51(0x1d2)]=_0x570b51(0x19d);const _0x45fd77=_0x1d4cb5;try{const _0x1103c0=process['pid'],_0x2e0e07=path['join'](TestDetails[_0x570b51(0x1d7)](),_0x1103c0+_0x570b51(0x1f2));let _0x1a10d1=[];_0x2e0e07&&fs['existsSync'](_0x2e0e07)&&(_0x1a10d1=JSON['parse'](fs['readFileSync'](_0x2e0e07)[_0x570b51(0x1c5)]())),!_0x1a10d1[_0x570b51(0x1ab)](_0x5cf182=>_0x5cf182['filePath']===_0x43e903[_0x570b51(0x1b1)])&&(_0x1a10d1[_0x570b51(0x1a5)](_0x43e903),fs[_0x570b51(0x1ae)](_0x2e0e07,JSON[_0x570b51(0x1a4)](_0x1a10d1)));}catch(_0x1fbd87){logger[_0x570b51(0x1db)](_0x45fd77[_0x570b51(0x1d2)],_0x1fbd87);}}static[a46_0x46a812(0x1c6)](){const _0x2c7cc7=a46_0x46a812,_0x7f1818={};_0x7f1818[_0x2c7cc7(0x1ac)]=_0x2c7cc7(0x1f2),_0x7f1818[_0x2c7cc7(0x1f6)]=_0x2c7cc7(0x1cb);const _0x110517=_0x7f1818,_0x41429f=[];try{const _0x523b93=TestDetails[_0x2c7cc7(0x1d7)]();if(_0x523b93&&!fs['existsSync'](_0x523b93))return _0x41429f;const _0x3e3712=fs[_0x2c7cc7(0x1ca)](_0x523b93);_0x3e3712[_0x2c7cc7(0x1b6)](_0x4adc3b=>{const _0xe1bd3f=_0x2c7cc7;if(_0x4adc3b&&_0x4adc3b[_0xe1bd3f(0x1dd)](_0x110517[_0xe1bd3f(0x1ac)])){const _0x172519=JSON[_0xe1bd3f(0x1eb)](fs[_0xe1bd3f(0x1c1)](path[_0xe1bd3f(0x1b8)](_0x523b93,_0x4adc3b))[_0xe1bd3f(0x1c5)]());_0x41429f['push'](..._0x172519);}});}catch(_0x1d3ad9){logger[_0x2c7cc7(0x1db)](util[_0x2c7cc7(0x1e8)](_0x110517[_0x2c7cc7(0x1f6)],_0x1d3ad9));}const _0x1c566e={};return _0x41429f[_0x2c7cc7(0x1b6)](_0x24aaff=>{const _0x437a1f=_0x2c7cc7;_0x1c566e[_0x24aaff[_0x437a1f(0x1b1)]]=_0x24aaff;}),Object[_0x2c7cc7(0x1c3)](_0x1c566e);}static[a46_0x46a812(0x1aa)](_0x373d4d,_0x129465){const _0x300a3b=a46_0x46a812,_0xf4265b={};_0xf4265b[_0x300a3b(0x1e1)]=_0x300a3b(0x1c0),_0xf4265b[_0x300a3b(0x1af)]='utf8';const _0x451cac=_0xf4265b;try{const _0x46a253=path[_0x300a3b(0x1b8)](helper[_0x300a3b(0x1d4)](),_0x451cac[_0x300a3b(0x1e1)]);if(!fs[_0x300a3b(0x1c4)](_0x46a253)){const _0x29d1c7={};_0x29d1c7[_0x300a3b(0x1f1)]=!![],fs[_0x300a3b(0x1c9)](_0x46a253,_0x29d1c7);}fs['appendFileSync'](path[_0x300a3b(0x1b8)](_0x46a253,_0x300a3b(0x1e4)+_0x129465+_0x300a3b(0x1e7)),_0x373d4d+'\x0a',_0x451cac[_0x300a3b(0x1af)]);}catch(_0x2baa5b){console[_0x300a3b(0x1db)](_0x300a3b(0x1d9)+_0x2baa5b['message']);}}}module['exports']=TestDetails;