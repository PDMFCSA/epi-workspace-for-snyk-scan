const a46_0x5348dc=a46_0x365e;function a46_0x2065(){const _0x5a9eb0=['.browserstack','winstonLogger','WVxvj','Tdxpt','endsWith','getTraceFilePaths','9999EsQJXg','lhvfM','5430thopue','cCqLJ','Error\x20writing\x20trace\x20file:\x20','testId','stringify','6509699bdxSJT','values','kgnbe','_test','some','RZEUV','EecmH','BS_TESTOPS_BUILD_HASHED_ID','path','Error\x20reading\x20trace\x20file\x20paths:\x20%s','getTraceZipDir','RvkEY','parse','exports','setAccessibilityPlatformValidation','util','project','shutdown','trace_','appendToTracePaths','.txt','getStoreDirPath','forEach','Error\x20handling\x20trace\x20file\x20paths:\x20','setup','_projectId','394209ThLuCn','toString','filePath','getAccessibilityPlatformValidation','default','ZSqjV','getTestUUID','getProjectIdFromTestInfo','readdirSync','getTestIdFromTestInfo','24ilckmS','744234pSBxoY','message','existsSync','../../../helpers/helper','112ygxfLJ','uuid','6572jLlWJu','../../../helpers/test-observability/constants','IjGLS','nzULx','_platformDetails.json','QQJlm','VIKQZ','2248192xSmmzy','string','../../../helpers/logger','__projectId','join','getTestDetails','recursive','force','getFilePath','readFileSync','push','getDirPath','mkdirSync','error','rmSync','homedir','sPIZD','XDDTH','dzDSg','getStoreDirName','pBOuz','writeFileSync','format','691210KftDkD','utf8','tests','env','getTestRunIdFromTestInfo','sqZHO','152KqEikK','qgGke','qEfDD','FsSIw'];a46_0x2065=function(){return _0x5a9eb0;};return a46_0x2065();}(function(_0x282921,_0x36fda1){const _0x4ba8a2=a46_0x365e,_0x43575b=_0x282921();while(!![]){try{const _0x586336=parseInt(_0x4ba8a2(0x1e8))/0x1*(-parseInt(_0x4ba8a2(0x1e6))/0x2)+-parseInt(_0x4ba8a2(0x1e2))/0x3+-parseInt(_0x4ba8a2(0x1ef))/0x4+parseInt(_0x4ba8a2(0x206))/0x5*(-parseInt(_0x4ba8a2(0x1e1))/0x6)+parseInt(_0x4ba8a2(0x1bd))/0x7+parseInt(_0x4ba8a2(0x20c))/0x8*(parseInt(_0x4ba8a2(0x1d7))/0x9)+-parseInt(_0x4ba8a2(0x218))/0xa*(-parseInt(_0x4ba8a2(0x216))/0xb);if(_0x586336===_0x36fda1)break;else _0x43575b['push'](_0x43575b['shift']());}catch(_0x4e3667){_0x43575b['push'](_0x43575b['shift']());}}}(a46_0x2065,0x8015d));function a46_0x365e(_0x132300,_0x1f7f5f){const _0x206598=a46_0x2065();return a46_0x365e=function(_0x365ec1,_0xac6804){_0x365ec1=_0x365ec1-0x1ba;let _0x5c8cce=_0x206598[_0x365ec1];return _0x5c8cce;},a46_0x365e(_0x132300,_0x1f7f5f);}const fs=require('fs'),path=require(a46_0x5348dc(0x1c5)),{v4:uuidv4}=require(a46_0x5348dc(0x1e7)),{TEMP_STORE_DIR_NAME}=require(a46_0x5348dc(0x1e9)),{nestedKeyValue}=require(a46_0x5348dc(0x1e5)),logger=require(a46_0x5348dc(0x1f1))[a46_0x5348dc(0x211)],{getLogDir}=require(a46_0x5348dc(0x1f1)),util=require(a46_0x5348dc(0x1cc)),helper=require(a46_0x5348dc(0x1e5));class TestDetails{static [a46_0x5348dc(0x208)]={};static[a46_0x5348dc(0x1d5)](){const _0x24077a=a46_0x5348dc;this[_0x24077a(0x1ce)]();const _0x476ba4={};_0x476ba4[_0x24077a(0x1f5)]=!![],fs[_0x24077a(0x1fb)](this[_0x24077a(0x1fa)](),_0x476ba4);const _0x51c073={};_0x51c073[_0x24077a(0x1f5)]=!![],fs[_0x24077a(0x1fb)](this[_0x24077a(0x1c7)](),_0x51c073);}static[a46_0x5348dc(0x202)](){const _0x5591d8=a46_0x5348dc,_0x2038da={};_0x2038da['ZIsKD']=function(_0x157b78,_0x26e736){return _0x157b78+_0x26e736;};const _0xf725e0=_0x2038da;return _0xf725e0['ZIsKD'](_0xf725e0['ZIsKD'](TEMP_STORE_DIR_NAME,'-'),process[_0x5591d8(0x209)][_0x5591d8(0x1c4)]);}static['getStoreDirPath'](){const _0x35c2db=a46_0x5348dc,_0x3f6bfe={};_0x3f6bfe['WVxvj']=function(_0x1ed0cf,_0x2c6eb4){return _0x1ed0cf+_0x2c6eb4;},_0x3f6bfe[_0x35c2db(0x1c2)]=_0x35c2db(0x1db);const _0x1e2971=_0x3f6bfe;return path['join'](_0x1e2971['WVxvj'](_0x1e2971[_0x35c2db(0x212)](TEMP_STORE_DIR_NAME,'-'),process[_0x35c2db(0x209)][_0x35c2db(0x1c4)]||_0x1e2971[_0x35c2db(0x1c2)]));}static[a46_0x5348dc(0x1c7)](){const _0x359602=a46_0x5348dc,_0x43380b={};_0x43380b[_0x359602(0x20f)]='traceZipPaths';const _0x8a1eec=_0x43380b;return path['join'](this[_0x359602(0x1d2)](),_0x8a1eec[_0x359602(0x20f)]);}static['getDirPath'](){return TestDetails['getStoreDirName']();}static['getFilePath'](_0x3395a3){const _0x2ff369=a46_0x5348dc,_0xe6ca71={};_0xe6ca71[_0x2ff369(0x1c3)]=function(_0x173472,_0x24e2e7){return _0x173472+_0x24e2e7;},_0xe6ca71['sPIZD']='.json';const _0x25091e=_0xe6ca71;return path[_0x2ff369(0x1f3)](this[_0x2ff369(0x1fa)](),_0x25091e[_0x2ff369(0x1c3)](_0x3395a3,_0x25091e[_0x2ff369(0x1ff)]));}static[a46_0x5348dc(0x20a)](_0x53a45a){const _0x2e3d2e=a46_0x5348dc,_0x24b18d={};_0x24b18d[_0x2e3d2e(0x1ed)]=function(_0x1e1dcd,_0x28a4ec){return _0x1e1dcd+_0x28a4ec;},_0x24b18d[_0x2e3d2e(0x219)]=function(_0x24c628,_0x3eb1a8){return _0x24c628+_0x3eb1a8;},_0x24b18d[_0x2e3d2e(0x20b)]=function(_0x58e8c4,_0x189587){return _0x58e8c4+_0x189587;};const _0x3e299e=_0x24b18d;return _0x3e299e[_0x2e3d2e(0x1ed)](_0x3e299e[_0x2e3d2e(0x1ed)](_0x3e299e[_0x2e3d2e(0x219)](_0x3e299e[_0x2e3d2e(0x20b)](this[_0x2e3d2e(0x1de)](_0x53a45a),'-'),this['getTestIdFromTestInfo'](_0x53a45a)),'-'),_0x53a45a['retry']);}static[a46_0x5348dc(0x1de)](_0x5b87d3){const _0x148a5e=a46_0x5348dc,_0x436527={'nzULx':function(_0x3ef420,_0x1dfde3,_0xf683c2){return _0x3ef420(_0x1dfde3,_0xf683c2);},'XDDTH':_0x148a5e(0x1c0),'Wlplk':_0x148a5e(0x1d6),'Tdxpt':function(_0x13e1e1,_0x9c947d,_0x2f617c){return _0x13e1e1(_0x9c947d,_0x2f617c);},'ZSqjV':_0x148a5e(0x1cd),'OehPQ':_0x148a5e(0x1f2)};return _0x436527[_0x148a5e(0x1eb)](nestedKeyValue,_0x5b87d3,[_0x436527[_0x148a5e(0x200)],_0x436527['Wlplk']])||_0x436527[_0x148a5e(0x213)](nestedKeyValue,_0x5b87d3,[_0x436527[_0x148a5e(0x1dc)],_0x436527['OehPQ']]);}static[a46_0x5348dc(0x1e0)](_0x22c27a){const _0x5bd49d=a46_0x5348dc,_0x16ac25={'RvkEY':function(_0x175be3,_0x2cc34a,_0x186707){return _0x175be3(_0x2cc34a,_0x186707);},'AJKRP':_0x5bd49d(0x1c0)};return _0x16ac25[_0x5bd49d(0x1c8)](nestedKeyValue,_0x22c27a,[_0x16ac25['AJKRP'],'id'])||_0x22c27a[_0x5bd49d(0x1bb)];}static[a46_0x5348dc(0x1dd)](_0x1f6d82){const _0x204936=a46_0x5348dc,_0x5295a8={'qEfDD':function(_0xd86c13,_0x511968){return _0xd86c13===_0x511968;},'pBOuz':_0x204936(0x1f0),'dzDSg':function(_0x3ad997){return _0x3ad997();}};if(this['tests'][_0x1f6d82]&&_0x5295a8[_0x204936(0x20e)](typeof this['tests'][_0x1f6d82][_0x204936(0x1e7)],_0x5295a8[_0x204936(0x203)]))return this[_0x204936(0x208)][_0x1f6d82][_0x204936(0x1e7)];const _0x2172f7=this['getFilePath'](_0x1f6d82);if(_0x2172f7&&fs[_0x204936(0x1e4)](_0x2172f7)){const _0x3bf13b=JSON[_0x204936(0x1c9)](fs[_0x204936(0x1f8)](_0x2172f7)[_0x204936(0x1d8)]());return this[_0x204936(0x208)][_0x1f6d82]=_0x3bf13b,this['tests'][_0x1f6d82][_0x204936(0x1e7)];}return this[_0x204936(0x208)][_0x1f6d82]={'uuid':_0x5295a8[_0x204936(0x201)](uuidv4)},fs[_0x204936(0x204)](_0x2172f7,JSON[_0x204936(0x1bc)](this[_0x204936(0x208)][_0x1f6d82])),this[_0x204936(0x208)][_0x1f6d82][_0x204936(0x1e7)];}static[a46_0x5348dc(0x1da)](_0x48891c){const _0xab26ea=a46_0x5348dc,_0x12a568=path[_0xab26ea(0x1f3)](this['getDirPath'](),_0x48891c+_0xab26ea(0x1ec));if(_0x12a568&&fs['existsSync'](_0x12a568))return fs[_0xab26ea(0x1f8)](_0x12a568)['toString']();}static[a46_0x5348dc(0x1cb)](_0x4c079c,_0x2b2770){const _0x5a5c93=a46_0x5348dc,_0x4fea35=path[_0x5a5c93(0x1f3)](this[_0x5a5c93(0x1fa)](),_0x2b2770+'_platformDetails.json');fs[_0x5a5c93(0x204)](_0x4fea35,_0x4c079c[_0x5a5c93(0x1d8)]());}static[a46_0x5348dc(0x1ce)](){const _0x485002=a46_0x5348dc,_0xfcd3b4={};_0xfcd3b4[_0x485002(0x1f5)]=!![],_0xfcd3b4[_0x485002(0x1f6)]=!![],fs[_0x485002(0x1fd)](this['getDirPath'](),_0xfcd3b4);}static[a46_0x5348dc(0x1f4)](_0x51e88d){const _0x2f1619=a46_0x5348dc;if(this[_0x2f1619(0x208)][_0x51e88d])return this[_0x2f1619(0x208)][_0x51e88d];const _0x23bc37=this[_0x2f1619(0x1f7)](_0x51e88d);if(_0x23bc37&&fs[_0x2f1619(0x1e4)](_0x23bc37)){const _0x3e138c=JSON[_0x2f1619(0x1c9)](fs[_0x2f1619(0x1f8)](_0x23bc37)[_0x2f1619(0x1d8)]());return this['tests'][_0x51e88d]=_0x3e138c,_0x3e138c;}return{};}static['setTestDetails'](_0x57bba3,_0x141052){const _0x480197=a46_0x5348dc,_0x5a6079=this[_0x480197(0x1f7)](_0x57bba3);if(_0x5a6079&&fs[_0x480197(0x1e4)](_0x5a6079)){const _0x131867=JSON[_0x480197(0x1c9)](fs[_0x480197(0x1f8)](_0x5a6079)[_0x480197(0x1d8)]()),_0x276ce8={..._0x131867,..._0x141052};this[_0x480197(0x208)][_0x57bba3]=_0x276ce8;}else this[_0x480197(0x208)][_0x57bba3]=_0x141052;fs[_0x480197(0x204)](_0x5a6079,this[_0x480197(0x208)][_0x57bba3]);}static['addTraceFilePath'](_0x26e7da){const _0x5955b3=a46_0x5348dc,_0x426243={};_0x426243[_0x5955b3(0x1ea)]=_0x5955b3(0x1d4);const _0x369953=_0x426243;try{const _0x44d54d=process['pid'],_0x18a656=path['join'](TestDetails['getTraceZipDir'](),_0x44d54d+'_traceZipPaths.json');let _0x47eef7=[];_0x18a656&&fs[_0x5955b3(0x1e4)](_0x18a656)&&(_0x47eef7=JSON[_0x5955b3(0x1c9)](fs[_0x5955b3(0x1f8)](_0x18a656)[_0x5955b3(0x1d8)]())),!_0x47eef7[_0x5955b3(0x1c1)](_0x1a236e=>_0x1a236e[_0x5955b3(0x1d9)]===_0x26e7da['filePath'])&&(_0x47eef7['push'](_0x26e7da),fs[_0x5955b3(0x204)](_0x18a656,JSON[_0x5955b3(0x1bc)](_0x47eef7)));}catch(_0x22d6e9){logger[_0x5955b3(0x1fc)](_0x369953[_0x5955b3(0x1ea)],_0x22d6e9);}}static[a46_0x5348dc(0x215)](){const _0x570e6d=a46_0x5348dc,_0x329b28={};_0x329b28[_0x570e6d(0x1ee)]='_traceZipPaths.json',_0x329b28[_0x570e6d(0x20d)]=_0x570e6d(0x1c6);const _0x3d22d9=_0x329b28,_0x24747e=[];try{const _0x5016df=TestDetails[_0x570e6d(0x1c7)]();if(_0x5016df&&!fs['existsSync'](_0x5016df))return _0x24747e;const _0x2d70fa=fs[_0x570e6d(0x1df)](_0x5016df);_0x2d70fa[_0x570e6d(0x1d3)](_0x33d134=>{const _0x3ae98f=_0x570e6d;if(_0x33d134&&_0x33d134[_0x3ae98f(0x214)](_0x3d22d9[_0x3ae98f(0x1ee)])){const _0xaf636d=JSON['parse'](fs[_0x3ae98f(0x1f8)](path[_0x3ae98f(0x1f3)](_0x5016df,_0x33d134))[_0x3ae98f(0x1d8)]());_0x24747e[_0x3ae98f(0x1f9)](..._0xaf636d);}});}catch(_0x16753f){logger[_0x570e6d(0x1fc)](util[_0x570e6d(0x205)](_0x3d22d9[_0x570e6d(0x20d)],_0x16753f));}const _0x35d447={};return _0x24747e['forEach'](_0x5ab300=>{const _0x31e000=_0x570e6d;_0x35d447[_0x5ab300[_0x31e000(0x1d9)]]=_0x5ab300;}),Object[_0x570e6d(0x1be)](_0x35d447);}static[a46_0x5348dc(0x1d0)](_0x34c243,_0x3eed11){const _0x4f5f61=a46_0x5348dc,_0x212122={};_0x212122[_0x4f5f61(0x1bf)]=_0x4f5f61(0x210),_0x212122[_0x4f5f61(0x217)]=_0x4f5f61(0x207);const _0x4fc3bf=_0x212122;try{const _0x4240a2=path[_0x4f5f61(0x1f3)](helper[_0x4f5f61(0x1fe)](),_0x4fc3bf[_0x4f5f61(0x1bf)]);if(!fs[_0x4f5f61(0x1e4)](_0x4240a2)){const _0x37aa71={};_0x37aa71[_0x4f5f61(0x1f5)]=!![],fs[_0x4f5f61(0x1fb)](_0x4240a2,_0x37aa71);}fs['appendFileSync'](path[_0x4f5f61(0x1f3)](_0x4240a2,_0x4f5f61(0x1cf)+_0x3eed11+_0x4f5f61(0x1d1)),_0x34c243+'\x0a',_0x4fc3bf[_0x4f5f61(0x217)]);}catch(_0x3a6f2d){console[_0x4f5f61(0x1fc)](_0x4f5f61(0x1ba)+_0x3a6f2d[_0x4f5f61(0x1e3)]);}}}module[a46_0x5348dc(0x1ca)]=TestDetails;