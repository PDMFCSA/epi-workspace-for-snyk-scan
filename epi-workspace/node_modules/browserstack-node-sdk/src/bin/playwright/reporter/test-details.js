const a45_0x38f399=a45_0x29fa;(function(_0x1dc596,_0x20edd5){const _0x287db4=a45_0x29fa,_0x47c23c=_0x1dc596();while(!![]){try{const _0x2d61b4=parseInt(_0x287db4(0x1ff))/0x1*(parseInt(_0x287db4(0x1c4))/0x2)+parseInt(_0x287db4(0x1fe))/0x3+parseInt(_0x287db4(0x1ef))/0x4+-parseInt(_0x287db4(0x1c5))/0x5*(-parseInt(_0x287db4(0x1e3))/0x6)+parseInt(_0x287db4(0x1ca))/0x7*(parseInt(_0x287db4(0x1e6))/0x8)+parseInt(_0x287db4(0x1a7))/0x9+-parseInt(_0x287db4(0x1af))/0xa*(parseInt(_0x287db4(0x1fa))/0xb);if(_0x2d61b4===_0x20edd5)break;else _0x47c23c['push'](_0x47c23c['shift']());}catch(_0x245823){_0x47c23c['push'](_0x47c23c['shift']());}}}(a45_0x2b70,0xcdcf5));function a45_0x2b70(){const _0x5b5c48=['pHDWR','error','filePath','_test','zdZiA','getStoreDirPath','getTestIdFromTestInfo','testId','EEWdr','rmSync','message','trace_','jJhQz','shutdown','HsiBP','string','RZqWI','_platformDetails.json','QETeq','join','toString','../../../helpers/helper','tests','449958EGRMgv','stringify','BS_TESTOPS_BUILD_HASHED_ID','152OywUjg','readdirSync','DxGsx','MDcwi','project','getTraceFilePaths','../../../helpers/logger','winstonLogger','retry','811784CrCKfL','writeFileSync','_traceZipPaths.json','getStoreDirName','.json','Zivid','__projectId','NwlQz','recursive','umkjj','appendToTracePaths','2948bsZEpR','KCBgK','forEach','.browserstack','4443258NmtOcl','524143kAkSht','existsSync','getDirPath','../../../helpers/test-observability/constants','format','getTraceZipDir','6375870Gybqzd','NYkNb','getTestRunIdFromTestInfo','getProjectIdFromTestInfo','getTestUUID','Error\x20handling\x20trace\x20file\x20paths:\x20','YTjVb','util','213390ZIjmqN','push','WEaiH','some','bxskj','setAccessibilityPlatformValidation','sifet','JYXJc','uuid','getFilePath','lObql','mkdirSync','zrfEU','endsWith','.txt','htqXz','setup','utf8','addTraceFilePath','_projectId','path','6xSGXHu','95qMYRSg','force','readFileSync','RqTTc','parse','431823uTxdrK','env'];a45_0x2b70=function(){return _0x5b5c48;};return a45_0x2b70();}const fs=require('fs'),path=require(a45_0x38f399(0x1c3)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require(a45_0x38f399(0x202)),{nestedKeyValue}=require('../../../helpers/helper'),logger=require(a45_0x38f399(0x1ec))[a45_0x38f399(0x1ed)],{getLogDir}=require('../../../helpers/logger'),util=require(a45_0x38f399(0x1ae)),helper=require(a45_0x38f399(0x1e1));function a45_0x29fa(_0x3e7662,_0x4b09bb){const _0x2b701e=a45_0x2b70();return a45_0x29fa=function(_0x29faf9,_0x2a0fe7){_0x29faf9=_0x29faf9-0x1a6;let _0x430350=_0x2b701e[_0x29faf9];return _0x430350;},a45_0x29fa(_0x3e7662,_0x4b09bb);}class TestDetails{static ['tests']={};static[a45_0x38f399(0x1bf)](){const _0x59a264=a45_0x38f399;this[_0x59a264(0x1d9)]();const _0x10a9c8={};_0x10a9c8['recursive']=!![],fs['mkdirSync'](this[_0x59a264(0x201)](),_0x10a9c8);const _0x462f6c={};_0x462f6c[_0x59a264(0x1f7)]=!![],fs[_0x59a264(0x1ba)](this[_0x59a264(0x1a6)](),_0x462f6c);}static['getStoreDirName'](){const _0x3ff467=a45_0x38f399,_0x35a487={};_0x35a487[_0x3ff467(0x1b9)]=function(_0x539742,_0x3cea2b){return _0x539742+_0x3cea2b;},_0x35a487[_0x3ff467(0x1e8)]=function(_0xa6d08a,_0x4e4ecc){return _0xa6d08a+_0x4e4ecc;};const _0xea77ac=_0x35a487;return _0xea77ac[_0x3ff467(0x1b9)](_0xea77ac[_0x3ff467(0x1e8)](TEMP_STORE_DIR_NAME,'-'),process[_0x3ff467(0x1cb)][_0x3ff467(0x1e5)]);}static[a45_0x38f399(0x1d1)](){const _0xad854c=a45_0x38f399,_0x30283c={};_0x30283c[_0xad854c(0x1be)]=function(_0x57db08,_0x41fd46){return _0x57db08+_0x41fd46;},_0x30283c[_0xad854c(0x1de)]=function(_0x3f5911,_0x1aea35){return _0x3f5911+_0x1aea35;},_0x30283c[_0xad854c(0x1b1)]='default';const _0x50cafb=_0x30283c;return path[_0xad854c(0x1df)](_0x50cafb[_0xad854c(0x1be)](_0x50cafb[_0xad854c(0x1de)](TEMP_STORE_DIR_NAME,'-'),process[_0xad854c(0x1cb)]['BS_TESTOPS_BUILD_HASHED_ID']||_0x50cafb[_0xad854c(0x1b1)]));}static[a45_0x38f399(0x1a6)](){const _0xc6079d=a45_0x38f399,_0x52342e={};_0x52342e[_0xc6079d(0x1a8)]='traceZipPaths';const _0x44a25a=_0x52342e;return path[_0xc6079d(0x1df)](this[_0xc6079d(0x1d1)](),_0x44a25a['NYkNb']);}static[a45_0x38f399(0x201)](){const _0x29ad87=a45_0x38f399;return TestDetails[_0x29ad87(0x1f2)]();}static[a45_0x38f399(0x1b8)](_0x588fe2){const _0x330aa7=a45_0x38f399,_0x278b34={};_0x278b34['pHDWR']=function(_0x4335cc,_0xb8df6d){return _0x4335cc+_0xb8df6d;},_0x278b34['jJhQz']=_0x330aa7(0x1f3);const _0x249b21=_0x278b34;return path[_0x330aa7(0x1df)](this[_0x330aa7(0x201)](),_0x249b21[_0x330aa7(0x1cc)](_0x588fe2,_0x249b21[_0x330aa7(0x1d8)]));}static[a45_0x38f399(0x1a9)](_0x3108a0){const _0x4f7c91=a45_0x38f399,_0x5a22b8={};_0x5a22b8[_0x4f7c91(0x1b6)]=function(_0x54ed9e,_0x4ae502){return _0x54ed9e+_0x4ae502;},_0x5a22b8['Zivid']=function(_0x326bd9,_0x1d44d4){return _0x326bd9+_0x1d44d4;};const _0x28724f=_0x5a22b8;return _0x28724f[_0x4f7c91(0x1b6)](_0x28724f['JYXJc'](_0x28724f[_0x4f7c91(0x1f4)](_0x28724f[_0x4f7c91(0x1f4)](this['getProjectIdFromTestInfo'](_0x3108a0),'-'),this[_0x4f7c91(0x1d2)](_0x3108a0)),'-'),_0x3108a0[_0x4f7c91(0x1ee)]);}static[a45_0x38f399(0x1aa)](_0x3e1a23){const _0x3e28fe=a45_0x38f399,_0xc19a6c={'KCBgK':function(_0x14a553,_0xa1828f,_0x4d1120){return _0x14a553(_0xa1828f,_0x4d1120);},'EEWdr':_0x3e28fe(0x1cf),'HsiBP':_0x3e28fe(0x1c2),'NwlQz':_0x3e28fe(0x1ea),'dldND':_0x3e28fe(0x1f5)};return _0xc19a6c['KCBgK'](nestedKeyValue,_0x3e1a23,[_0xc19a6c[_0x3e28fe(0x1d4)],_0xc19a6c[_0x3e28fe(0x1da)]])||_0xc19a6c[_0x3e28fe(0x1fb)](nestedKeyValue,_0x3e1a23,[_0xc19a6c[_0x3e28fe(0x1f6)],_0xc19a6c['dldND']]);}static[a45_0x38f399(0x1d2)](_0x531ee5){const _0x445b66=a45_0x38f399,_0x376342={'bxskj':function(_0x465013,_0x9752b8,_0x1da5d1){return _0x465013(_0x9752b8,_0x1da5d1);},'umkjj':_0x445b66(0x1cf)};return _0x376342[_0x445b66(0x1b3)](nestedKeyValue,_0x531ee5,[_0x376342[_0x445b66(0x1f8)],'id'])||_0x531ee5[_0x445b66(0x1d3)];}static[a45_0x38f399(0x1ab)](_0x3c7ecf){const _0xac0cc6=a45_0x38f399,_0x3a8f1b={'zrfEU':function(_0xd11582,_0x2c13d5){return _0xd11582===_0x2c13d5;},'sifet':_0xac0cc6(0x1db),'RZqWI':function(_0x68116f){return _0x68116f();}};if(this[_0xac0cc6(0x1e2)][_0x3c7ecf]&&_0x3a8f1b[_0xac0cc6(0x1bb)](typeof this[_0xac0cc6(0x1e2)][_0x3c7ecf][_0xac0cc6(0x1b7)],_0x3a8f1b[_0xac0cc6(0x1b5)]))return this[_0xac0cc6(0x1e2)][_0x3c7ecf][_0xac0cc6(0x1b7)];const _0x11908b=this[_0xac0cc6(0x1b8)](_0x3c7ecf);if(_0x11908b&&fs[_0xac0cc6(0x200)](_0x11908b)){const _0x3a0a83=JSON['parse'](fs[_0xac0cc6(0x1c7)](_0x11908b)['toString']());return this[_0xac0cc6(0x1e2)][_0x3c7ecf]=_0x3a0a83,this[_0xac0cc6(0x1e2)][_0x3c7ecf][_0xac0cc6(0x1b7)];}return this['tests'][_0x3c7ecf]={'uuid':_0x3a8f1b[_0xac0cc6(0x1dc)](uuidv4)},fs[_0xac0cc6(0x1f0)](_0x11908b,JSON['stringify'](this[_0xac0cc6(0x1e2)][_0x3c7ecf])),this[_0xac0cc6(0x1e2)][_0x3c7ecf]['uuid'];}static['getAccessibilityPlatformValidation'](_0x2b7b1b){const _0x583a00=a45_0x38f399,_0x27fe44=path[_0x583a00(0x1df)](this[_0x583a00(0x201)](),_0x2b7b1b+_0x583a00(0x1dd));if(_0x27fe44&&fs['existsSync'](_0x27fe44))return fs['readFileSync'](_0x27fe44)[_0x583a00(0x1e0)]();}static[a45_0x38f399(0x1b4)](_0x77ab7a,_0x92bd3f){const _0x4e0fb4=a45_0x38f399,_0x27241a=path[_0x4e0fb4(0x1df)](this[_0x4e0fb4(0x201)](),_0x92bd3f+'_platformDetails.json');fs[_0x4e0fb4(0x1f0)](_0x27241a,_0x77ab7a['toString']());}static[a45_0x38f399(0x1d9)](){const _0x357a99=a45_0x38f399,_0x39b442={};_0x39b442[_0x357a99(0x1f7)]=!![],_0x39b442[_0x357a99(0x1c6)]=!![],fs[_0x357a99(0x1d5)](this[_0x357a99(0x201)](),_0x39b442);}static['getTestDetails'](_0x481067){const _0x2d791d=a45_0x38f399;if(this['tests'][_0x481067])return this['tests'][_0x481067];const _0x4300f9=this[_0x2d791d(0x1b8)](_0x481067);if(_0x4300f9&&fs[_0x2d791d(0x200)](_0x4300f9)){const _0x27c1d0=JSON[_0x2d791d(0x1c9)](fs[_0x2d791d(0x1c7)](_0x4300f9)[_0x2d791d(0x1e0)]());return this[_0x2d791d(0x1e2)][_0x481067]=_0x27c1d0,_0x27c1d0;}return{};}static['setTestDetails'](_0x533826,_0x40449f){const _0x303326=a45_0x38f399,_0x48578d=this[_0x303326(0x1b8)](_0x533826);if(_0x48578d&&fs['existsSync'](_0x48578d)){const _0x88e9ab=JSON['parse'](fs[_0x303326(0x1c7)](_0x48578d)['toString']()),_0x595360={..._0x88e9ab,..._0x40449f};this['tests'][_0x533826]=_0x595360;}else this['tests'][_0x533826]=_0x40449f;fs['writeFileSync'](_0x48578d,this['tests'][_0x533826]);}static[a45_0x38f399(0x1c1)](_0x23a1a2){const _0x3bb53d=a45_0x38f399,_0x5c9c21={};_0x5c9c21['PzdTM']=_0x3bb53d(0x1ac);const _0x388232=_0x5c9c21;try{const _0x9e39de=process['pid'],_0xaf023e=path['join'](TestDetails[_0x3bb53d(0x1a6)](),_0x9e39de+_0x3bb53d(0x1f1));let _0x319b30=[];_0xaf023e&&fs['existsSync'](_0xaf023e)&&(_0x319b30=JSON[_0x3bb53d(0x1c9)](fs['readFileSync'](_0xaf023e)[_0x3bb53d(0x1e0)]())),!_0x319b30[_0x3bb53d(0x1b2)](_0x364834=>_0x364834[_0x3bb53d(0x1ce)]===_0x23a1a2['filePath'])&&(_0x319b30[_0x3bb53d(0x1b0)](_0x23a1a2),fs[_0x3bb53d(0x1f0)](_0xaf023e,JSON[_0x3bb53d(0x1e4)](_0x319b30)));}catch(_0x4b461c){logger[_0x3bb53d(0x1cd)](_0x388232['PzdTM'],_0x4b461c);}}static[a45_0x38f399(0x1eb)](){const _0x1d003c=a45_0x38f399,_0x429afa={};_0x429afa[_0x1d003c(0x1c8)]=_0x1d003c(0x1f1),_0x429afa[_0x1d003c(0x1ad)]='Error\x20reading\x20trace\x20file\x20paths:\x20%s';const _0x367e63=_0x429afa,_0x264de9=[];try{const _0x18fa28=TestDetails[_0x1d003c(0x1a6)]();if(_0x18fa28&&!fs[_0x1d003c(0x200)](_0x18fa28))return _0x264de9;const _0x2e3c58=fs[_0x1d003c(0x1e7)](_0x18fa28);_0x2e3c58[_0x1d003c(0x1fc)](_0x55e360=>{const _0x26cd9f=_0x1d003c;if(_0x55e360&&_0x55e360[_0x26cd9f(0x1bc)](_0x367e63[_0x26cd9f(0x1c8)])){const _0x1e14ca=JSON['parse'](fs[_0x26cd9f(0x1c7)](path[_0x26cd9f(0x1df)](_0x18fa28,_0x55e360))[_0x26cd9f(0x1e0)]());_0x264de9[_0x26cd9f(0x1b0)](..._0x1e14ca);}});}catch(_0x5fdc38){logger[_0x1d003c(0x1cd)](util[_0x1d003c(0x203)](_0x367e63[_0x1d003c(0x1ad)],_0x5fdc38));}const _0x5467fe={};return _0x264de9[_0x1d003c(0x1fc)](_0x29c9bf=>{_0x5467fe[_0x29c9bf['filePath']]=_0x29c9bf;}),Object['values'](_0x5467fe);}static[a45_0x38f399(0x1f9)](_0x368129,_0xe796ff){const _0x13a562=a45_0x38f399,_0x5b1bc2={};_0x5b1bc2[_0x13a562(0x1d0)]=_0x13a562(0x1fd),_0x5b1bc2[_0x13a562(0x1e9)]=_0x13a562(0x1c0);const _0x1fd0ed=_0x5b1bc2;try{const _0xd41aba=path[_0x13a562(0x1df)](helper['homedir'](),_0x1fd0ed[_0x13a562(0x1d0)]);if(!fs[_0x13a562(0x200)](_0xd41aba)){const _0x5b54c3={};_0x5b54c3[_0x13a562(0x1f7)]=!![],fs['mkdirSync'](_0xd41aba,_0x5b54c3);}fs['appendFileSync'](path[_0x13a562(0x1df)](_0xd41aba,_0x13a562(0x1d7)+_0xe796ff+_0x13a562(0x1bd)),_0x368129+'\x0a',_0x1fd0ed[_0x13a562(0x1e9)]);}catch(_0x318e9c){console[_0x13a562(0x1cd)]('Error\x20writing\x20trace\x20file:\x20'+_0x318e9c[_0x13a562(0x1d6)]);}}}module['exports']=TestDetails;