const a45_0x347be0=a45_0x1dcb;(function(_0x3f2055,_0x195a29){const _0xba508e=a45_0x1dcb,_0x1c702a=_0x3f2055();while(!![]){try{const _0x2c1aa3=-parseInt(_0xba508e(0x1d6))/0x1+-parseInt(_0xba508e(0x1f0))/0x2*(-parseInt(_0xba508e(0x1dc))/0x3)+parseInt(_0xba508e(0x215))/0x4+-parseInt(_0xba508e(0x1fc))/0x5+-parseInt(_0xba508e(0x1f9))/0x6+-parseInt(_0xba508e(0x20a))/0x7+parseInt(_0xba508e(0x1d9))/0x8;if(_0x2c1aa3===_0x195a29)break;else _0x1c702a['push'](_0x1c702a['shift']());}catch(_0x5954cf){_0x1c702a['push'](_0x1c702a['shift']());}}}(a45_0x1956,0x44d39));function a45_0x1956(){const _0x57b4fb=['winstonLogger','_test','SlqTW','setTestDetails','exports','filePath','1740880FenwZE','kFjLl','utf8','QTgNW','testId','toString','getTraceZipDir','env','getTestDetails','_traceZipPaths.json','Error\x20handling\x20trace\x20file\x20paths:\x20','readdirSync','getTestUUID','_projectId','__projectId','addTraceFilePath','endsWith','getStoreDirPath','getStoreDirName','mJequ','getDirPath','Jqlbz','getProjectIdFromTestInfo','kuZNx','error','uuid','stringify','readFileSync','HRYjc','166117iVeUSU','BS_TESTOPS_BUILD_HASHED_ID','push','4303192dFPnHE','RPydn','ePLSg','3dMBfuW','retry','../../../helpers/helper','krvuT','../../../helpers/test-observability/constants','YxWlY','message','mAKvY','mkdirSync','.browserstack','kMiFi','values','homedir','project','kNJIw','util','appendToTracePaths','writeFileSync','aavXf','Error\x20reading\x20trace\x20file\x20paths:\x20%s','644036fdMVTj','some','format','setup','.json','join','getAccessibilityPlatformValidation','getTraceFilePaths','.txt','2718468rXYgxg','force','getTestIdFromTestInfo','576485Sctnfl','getFilePath','OrXFK','FNrIA','existsSync','OcxsF','recursive','forEach','tekyr','tests','parse','appendFileSync','mPbNa','gatdT','1951124klGnIp','EYYao','UgRdb','../../../helpers/logger','_platformDetails.json'];a45_0x1956=function(){return _0x57b4fb;};return a45_0x1956();}const fs=require('fs'),path=require('path'),{v4:uuidv4}=require(a45_0x347be0(0x1d2)),{TEMP_STORE_DIR_NAME}=require(a45_0x347be0(0x1e0)),{nestedKeyValue}=require(a45_0x347be0(0x1de)),logger=require('../../../helpers/logger')[a45_0x347be0(0x20f)],{getLogDir}=require(a45_0x347be0(0x20d)),util=require(a45_0x347be0(0x1eb)),helper=require(a45_0x347be0(0x1de));class TestDetails{static [a45_0x347be0(0x205)]={};static[a45_0x347be0(0x1f3)](){const _0x47286b=a45_0x347be0;this['shutdown']();const _0x457089={};_0x457089[_0x47286b(0x202)]=!![],fs['mkdirSync'](this[_0x47286b(0x1cd)](),_0x457089);const _0x4b44db={};_0x4b44db[_0x47286b(0x202)]=!![],fs['mkdirSync'](this[_0x47286b(0x21b)](),_0x4b44db);}static['getStoreDirName'](){const _0xbd1a7=a45_0x347be0,_0xedbf7b={};_0xedbf7b[_0xbd1a7(0x20c)]=function(_0x5b48e2,_0xc9ebd7){return _0x5b48e2+_0xc9ebd7;},_0xedbf7b[_0xbd1a7(0x1cc)]=function(_0x54fe54,_0x5b3846){return _0x54fe54+_0x5b3846;};const _0x1c4f75=_0xedbf7b;return _0x1c4f75[_0xbd1a7(0x20c)](_0x1c4f75[_0xbd1a7(0x1cc)](TEMP_STORE_DIR_NAME,'-'),process[_0xbd1a7(0x21c)][_0xbd1a7(0x1d7)]);}static[a45_0x347be0(0x1ca)](){const _0x387408=a45_0x347be0,_0x1a925a={};_0x1a925a[_0x387408(0x1df)]=function(_0x1a1e2a,_0x2d4845){return _0x1a1e2a+_0x2d4845;},_0x1a925a[_0x387408(0x211)]='default';const _0x544374=_0x1a925a;return path[_0x387408(0x1f5)](_0x544374[_0x387408(0x1df)](_0x544374['krvuT'](TEMP_STORE_DIR_NAME,'-'),process[_0x387408(0x21c)]['BS_TESTOPS_BUILD_HASHED_ID']||_0x544374[_0x387408(0x211)]));}static['getTraceZipDir'](){const _0x42fa04=a45_0x347be0,_0x3b88d4={};_0x3b88d4['MaDNq']='traceZipPaths';const _0x4e9651=_0x3b88d4;return path[_0x42fa04(0x1f5)](this['getStoreDirPath'](),_0x4e9651['MaDNq']);}static[a45_0x347be0(0x1cd)](){const _0xd4d5f5=a45_0x347be0;return TestDetails[_0xd4d5f5(0x1cb)]();}static[a45_0x347be0(0x1fd)](_0x4f09f5){const _0x2923c3=a45_0x347be0,_0x235431={};_0x235431[_0x2923c3(0x1e6)]=function(_0x2c9766,_0x43df2b){return _0x2c9766+_0x43df2b;},_0x235431[_0x2923c3(0x1d0)]=_0x2923c3(0x1f4);const _0x129b21=_0x235431;return path['join'](this[_0x2923c3(0x1cd)](),_0x129b21[_0x2923c3(0x1e6)](_0x4f09f5,_0x129b21[_0x2923c3(0x1d0)]));}static['getTestRunIdFromTestInfo'](_0x17ee43){const _0x5a23bc=a45_0x347be0,_0x4e58ac={};_0x4e58ac[_0x5a23bc(0x20b)]=function(_0x2b1152,_0x534302){return _0x2b1152+_0x534302;},_0x4e58ac[_0x5a23bc(0x1da)]=function(_0x469219,_0xca65f2){return _0x469219+_0xca65f2;},_0x4e58ac[_0x5a23bc(0x1ff)]=function(_0x5e64de,_0x12e13f){return _0x5e64de+_0x12e13f;},_0x4e58ac[_0x5a23bc(0x1ce)]=function(_0x3a237f,_0x414ebd){return _0x3a237f+_0x414ebd;};const _0x166cda=_0x4e58ac;return _0x166cda[_0x5a23bc(0x20b)](_0x166cda[_0x5a23bc(0x1da)](_0x166cda['FNrIA'](_0x166cda[_0x5a23bc(0x1ce)](this[_0x5a23bc(0x1cf)](_0x17ee43),'-'),this[_0x5a23bc(0x1fb)](_0x17ee43)),'-'),_0x17ee43[_0x5a23bc(0x1dd)]);}static[a45_0x347be0(0x1cf)](_0x29b77e){const _0x44e06f=a45_0x347be0,_0x3bdf61={'rSzcP':function(_0x623437,_0x3f92a9,_0x23dc20){return _0x623437(_0x3f92a9,_0x23dc20);},'HRYjc':_0x44e06f(0x210),'tekyr':_0x44e06f(0x222),'mPbNa':function(_0x147faf,_0x51d276,_0x3f7ab9){return _0x147faf(_0x51d276,_0x3f7ab9);},'uADNx':_0x44e06f(0x1e9),'QTgNW':_0x44e06f(0x223)};return _0x3bdf61['rSzcP'](nestedKeyValue,_0x29b77e,[_0x3bdf61[_0x44e06f(0x1d5)],_0x3bdf61[_0x44e06f(0x204)]])||_0x3bdf61[_0x44e06f(0x208)](nestedKeyValue,_0x29b77e,[_0x3bdf61['uADNx'],_0x3bdf61[_0x44e06f(0x218)]]);}static['getTestIdFromTestInfo'](_0x4f1032){const _0x5fb836=a45_0x347be0,_0x588638={'aavXf':function(_0x3a07a5,_0x1cc1b9,_0x3de697){return _0x3a07a5(_0x1cc1b9,_0x3de697);},'kNJIw':_0x5fb836(0x210)};return _0x588638[_0x5fb836(0x1ee)](nestedKeyValue,_0x4f1032,[_0x588638[_0x5fb836(0x1ea)],'id'])||_0x4f1032[_0x5fb836(0x219)];}static[a45_0x347be0(0x221)](_0x38702d){const _0x2878fe=a45_0x347be0,_0x299b68={'gMkMl':function(_0x48c30c,_0x2ab147){return _0x48c30c===_0x2ab147;},'ePLSg':'string','OcxsF':function(_0x120a09){return _0x120a09();}};if(this['tests'][_0x38702d]&&_0x299b68['gMkMl'](typeof this['tests'][_0x38702d][_0x2878fe(0x1d2)],_0x299b68[_0x2878fe(0x1db)]))return this[_0x2878fe(0x205)][_0x38702d][_0x2878fe(0x1d2)];const _0x459a65=this[_0x2878fe(0x1fd)](_0x38702d);if(_0x459a65&&fs['existsSync'](_0x459a65)){const _0x481769=JSON['parse'](fs[_0x2878fe(0x1d4)](_0x459a65)[_0x2878fe(0x21a)]());return this[_0x2878fe(0x205)][_0x38702d]=_0x481769,this[_0x2878fe(0x205)][_0x38702d][_0x2878fe(0x1d2)];}return this['tests'][_0x38702d]={'uuid':_0x299b68[_0x2878fe(0x201)](uuidv4)},fs[_0x2878fe(0x1ed)](_0x459a65,JSON[_0x2878fe(0x1d3)](this[_0x2878fe(0x205)][_0x38702d])),this[_0x2878fe(0x205)][_0x38702d]['uuid'];}static[a45_0x347be0(0x1f6)](_0x75e96f){const _0x534e70=a45_0x347be0,_0x151538=path[_0x534e70(0x1f5)](this[_0x534e70(0x1cd)](),_0x75e96f+'_platformDetails.json');if(_0x151538&&fs[_0x534e70(0x200)](_0x151538))return fs[_0x534e70(0x1d4)](_0x151538)[_0x534e70(0x21a)]();}static['setAccessibilityPlatformValidation'](_0x29014b,_0x4821a8){const _0x2635e8=a45_0x347be0,_0xe35023=path[_0x2635e8(0x1f5)](this[_0x2635e8(0x1cd)](),_0x4821a8+_0x2635e8(0x20e));fs[_0x2635e8(0x1ed)](_0xe35023,_0x29014b['toString']());}static['shutdown'](){const _0xa4f2ff=a45_0x347be0,_0x47926a={};_0x47926a[_0xa4f2ff(0x202)]=!![],_0x47926a[_0xa4f2ff(0x1fa)]=!![],fs['rmSync'](this['getDirPath'](),_0x47926a);}static[a45_0x347be0(0x21d)](_0x1fefde){const _0x13aa5f=a45_0x347be0;if(this[_0x13aa5f(0x205)][_0x1fefde])return this[_0x13aa5f(0x205)][_0x1fefde];const _0x14d2d5=this[_0x13aa5f(0x1fd)](_0x1fefde);if(_0x14d2d5&&fs[_0x13aa5f(0x200)](_0x14d2d5)){const _0x5bf378=JSON[_0x13aa5f(0x206)](fs[_0x13aa5f(0x1d4)](_0x14d2d5)[_0x13aa5f(0x21a)]());return this['tests'][_0x1fefde]=_0x5bf378,_0x5bf378;}return{};}static[a45_0x347be0(0x212)](_0x4e60b5,_0x5ed3ba){const _0x58d1ff=a45_0x347be0,_0x476f47=this[_0x58d1ff(0x1fd)](_0x4e60b5);if(_0x476f47&&fs[_0x58d1ff(0x200)](_0x476f47)){const _0x318c29=JSON[_0x58d1ff(0x206)](fs['readFileSync'](_0x476f47)[_0x58d1ff(0x21a)]()),_0x30e2cc={..._0x318c29,..._0x5ed3ba};this['tests'][_0x4e60b5]=_0x30e2cc;}else this['tests'][_0x4e60b5]=_0x5ed3ba;fs[_0x58d1ff(0x1ed)](_0x476f47,this[_0x58d1ff(0x205)][_0x4e60b5]);}static[a45_0x347be0(0x224)](_0x30d4df){const _0xcf4cbc=a45_0x347be0,_0x3c2c6b={};_0x3c2c6b[_0xcf4cbc(0x1e3)]=_0xcf4cbc(0x21f);const _0x282f12=_0x3c2c6b;try{const _0x2b3c2d=process['pid'],_0x54adff=path['join'](TestDetails[_0xcf4cbc(0x21b)](),_0x2b3c2d+_0xcf4cbc(0x21e));let _0x3dcc56=[];_0x54adff&&fs[_0xcf4cbc(0x200)](_0x54adff)&&(_0x3dcc56=JSON[_0xcf4cbc(0x206)](fs['readFileSync'](_0x54adff)['toString']())),!_0x3dcc56[_0xcf4cbc(0x1f1)](_0x266e8f=>_0x266e8f[_0xcf4cbc(0x214)]===_0x30d4df['filePath'])&&(_0x3dcc56[_0xcf4cbc(0x1d8)](_0x30d4df),fs[_0xcf4cbc(0x1ed)](_0x54adff,JSON[_0xcf4cbc(0x1d3)](_0x3dcc56)));}catch(_0x51718b){logger[_0xcf4cbc(0x1d1)](_0x282f12[_0xcf4cbc(0x1e3)],_0x51718b);}}static[a45_0x347be0(0x1f7)](){const _0x5997d5=a45_0x347be0,_0x18f8bb={};_0x18f8bb[_0x5997d5(0x216)]=_0x5997d5(0x21e),_0x18f8bb[_0x5997d5(0x209)]=_0x5997d5(0x1ef);const _0x2a2644=_0x18f8bb,_0x640edc=[];try{const _0x29ce10=TestDetails[_0x5997d5(0x21b)]();if(_0x29ce10&&!fs[_0x5997d5(0x200)](_0x29ce10))return _0x640edc;const _0x3d5852=fs[_0x5997d5(0x220)](_0x29ce10);_0x3d5852[_0x5997d5(0x203)](_0x4b2921=>{const _0x365c22=_0x5997d5;if(_0x4b2921&&_0x4b2921[_0x365c22(0x225)](_0x2a2644[_0x365c22(0x216)])){const _0x3fa9f3=JSON[_0x365c22(0x206)](fs[_0x365c22(0x1d4)](path['join'](_0x29ce10,_0x4b2921))[_0x365c22(0x21a)]());_0x640edc[_0x365c22(0x1d8)](..._0x3fa9f3);}});}catch(_0xe0bb04){logger[_0x5997d5(0x1d1)](util[_0x5997d5(0x1f2)](_0x2a2644[_0x5997d5(0x209)],_0xe0bb04));}const _0x4cb3aa={};return _0x640edc[_0x5997d5(0x203)](_0x1cf644=>{const _0x571419=_0x5997d5;_0x4cb3aa[_0x1cf644[_0x571419(0x214)]]=_0x1cf644;}),Object[_0x5997d5(0x1e7)](_0x4cb3aa);}static[a45_0x347be0(0x1ec)](_0x1e7ae8,_0x3b68fc){const _0x41c3f7=a45_0x347be0,_0x22c905={};_0x22c905[_0x41c3f7(0x1e1)]=_0x41c3f7(0x1e5),_0x22c905[_0x41c3f7(0x1fe)]=_0x41c3f7(0x217);const _0xd1223a=_0x22c905;try{const _0xa4a28=path[_0x41c3f7(0x1f5)](helper[_0x41c3f7(0x1e8)](),_0xd1223a[_0x41c3f7(0x1e1)]);if(!fs[_0x41c3f7(0x200)](_0xa4a28)){const _0xa1b8fa={};_0xa1b8fa['recursive']=!![],fs[_0x41c3f7(0x1e4)](_0xa4a28,_0xa1b8fa);}fs[_0x41c3f7(0x207)](path[_0x41c3f7(0x1f5)](_0xa4a28,'trace_'+_0x3b68fc+_0x41c3f7(0x1f8)),_0x1e7ae8+'\x0a',_0xd1223a[_0x41c3f7(0x1fe)]);}catch(_0x9af2a6){console[_0x41c3f7(0x1d1)]('Error\x20writing\x20trace\x20file:\x20'+_0x9af2a6[_0x41c3f7(0x1e2)]);}}}function a45_0x1dcb(_0x3d8150,_0x410093){const _0x1956cb=a45_0x1956();return a45_0x1dcb=function(_0x1dcbb4,_0x413526){_0x1dcbb4=_0x1dcbb4-0x1ca;let _0x2298bc=_0x1956cb[_0x1dcbb4];return _0x2298bc;},a45_0x1dcb(_0x3d8150,_0x410093);}module[a45_0x347be0(0x213)]=TestDetails;