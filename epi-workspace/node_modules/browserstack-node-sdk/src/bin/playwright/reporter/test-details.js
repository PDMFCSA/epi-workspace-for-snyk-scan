const a47_0x1762e9=a47_0x3908;function a47_0x4c5d(){const _0x4ab5a6=['vpQlJ','pid','_projectId','winstonLogger','soSpk','existsSync','../../../helpers/logger','tests','.browserstack','5iMRpQg','utf8','env','mkdirSync','filePath','DtYge','6482910QWFYbf','4268703zvRIQz','uuid','_test','WVlzM','setTestDetails','XTSfM','Djqjz','yerZU','toString','getTraceZipDir','VwTHd','1380176RBMwAy','mznEb','readFileSync','stringify','addTraceFilePath','endsWith','getTestDetails','appendToTracePaths','getProjectIdFromTestInfo','2kAqOoV','getStoreDirName','../../../helpers/test-observability/constants','6936xEGRgp','getTestRunIdFromTestInfo','382190HTTBIR','FxUyn','VWxWv','push','appendFileSync','.txt','util','retry','../../../helpers/helper','getDirPath','getTestUUID','string','join','YJCQn','readdirSync','NlPeP','HVPQZ','_platformDetails.json','gDUIo','forEach','trace_','121172FlgTei','path','getTestIdFromTestInfo','some','traceZipPaths','exports','99vCkgNg','homedir','writeFileSync','_traceZipPaths.json','shutdown','project','ZVYYg','Error\x20reading\x20trace\x20file\x20paths:\x20%s','23562LfyEzF','egzel','getStoreDirPath','XEvwR','1305648oDQMVu','recursive','BS_TESTOPS_BUILD_HASHED_ID','parse','values','format','eljGg','getTraceFilePaths','__projectId','setAccessibilityPlatformValidation','getFilePath','Error\x20writing\x20trace\x20file:\x20','16MjJHaD','error','force'];a47_0x4c5d=function(){return _0x4ab5a6;};return a47_0x4c5d();}(function(_0x1b8a5f,_0x2de684){const _0x4bdffe=a47_0x3908,_0x8d3ff1=_0x1b8a5f();while(!![]){try{const _0xb89e6=-parseInt(_0x4bdffe(0x11c))/0x1*(-parseInt(_0x4bdffe(0x148))/0x2)+-parseInt(_0x4bdffe(0x167))/0x3+-parseInt(_0x4bdffe(0x136))/0x4+-parseInt(_0x4bdffe(0x160))/0x5*(parseInt(_0x4bdffe(0x166))/0x6)+-parseInt(_0x4bdffe(0x172))/0x7*(-parseInt(_0x4bdffe(0x154))/0x8)+-parseInt(_0x4bdffe(0x13c))/0x9*(-parseInt(_0x4bdffe(0x121))/0xa)+parseInt(_0x4bdffe(0x144))/0xb*(parseInt(_0x4bdffe(0x11f))/0xc);if(_0xb89e6===_0x2de684)break;else _0x8d3ff1['push'](_0x8d3ff1['shift']());}catch(_0x23e613){_0x8d3ff1['push'](_0x8d3ff1['shift']());}}}(a47_0x4c5d,0xc95d6));const fs=require('fs'),path=require(a47_0x1762e9(0x137)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require(a47_0x1762e9(0x11e)),{nestedKeyValue}=require(a47_0x1762e9(0x129)),logger=require(a47_0x1762e9(0x15d))[a47_0x1762e9(0x15a)],{getLogDir}=require(a47_0x1762e9(0x15d)),util=require(a47_0x1762e9(0x127)),helper=require('../../../helpers/helper');function a47_0x3908(_0x5ec41d,_0x1c21b6){const _0x4c5d72=a47_0x4c5d();return a47_0x3908=function(_0x3908da,_0x1511dc){_0x3908da=_0x3908da-0x117;let _0x472726=_0x4c5d72[_0x3908da];return _0x472726;},a47_0x3908(_0x5ec41d,_0x1c21b6);}class TestDetails{static [a47_0x1762e9(0x15e)]={};static['setup'](){const _0x32fc9a=a47_0x1762e9;this[_0x32fc9a(0x140)]();const _0x40bf11={};_0x40bf11[_0x32fc9a(0x149)]=!![],fs[_0x32fc9a(0x163)](this[_0x32fc9a(0x12a)](),_0x40bf11);const _0x5ac9b3={};_0x5ac9b3['recursive']=!![],fs[_0x32fc9a(0x163)](this[_0x32fc9a(0x170)](),_0x5ac9b3);}static[a47_0x1762e9(0x11d)](){const _0x2c793b=a47_0x1762e9,_0x179394={};_0x179394[_0x2c793b(0x157)]=function(_0x115164,_0x4f269b){return _0x115164+_0x4f269b;};const _0x163e1e=_0x179394;return _0x163e1e[_0x2c793b(0x157)](_0x163e1e[_0x2c793b(0x157)](TEMP_STORE_DIR_NAME,'-'),process[_0x2c793b(0x162)]['BS_TESTOPS_BUILD_HASHED_ID']);}static[a47_0x1762e9(0x146)](){const _0x383b7c=a47_0x1762e9,_0x124c69={};_0x124c69['YJCQn']=function(_0x49685f,_0x280ae5){return _0x49685f+_0x280ae5;},_0x124c69[_0x383b7c(0x16a)]='default';const _0x451c2c=_0x124c69;return path[_0x383b7c(0x12d)](_0x451c2c[_0x383b7c(0x12e)](_0x451c2c[_0x383b7c(0x12e)](TEMP_STORE_DIR_NAME,'-'),process[_0x383b7c(0x162)][_0x383b7c(0x14a)]||_0x451c2c[_0x383b7c(0x16a)]));}static['getTraceZipDir'](){const _0x470a64=a47_0x1762e9,_0x5bae1f={};_0x5bae1f[_0x470a64(0x16d)]=_0x470a64(0x13a);const _0x53f021=_0x5bae1f;return path[_0x470a64(0x12d)](this[_0x470a64(0x146)](),_0x53f021[_0x470a64(0x16d)]);}static[a47_0x1762e9(0x12a)](){return TestDetails['getStoreDirName']();}static[a47_0x1762e9(0x152)](_0x2d893d){const _0x32bf18=a47_0x1762e9,_0x587755={};_0x587755[_0x32bf18(0x173)]=function(_0x5ad754,_0x56f861){return _0x5ad754+_0x56f861;},_0x587755[_0x32bf18(0x130)]='.json';const _0x599d19=_0x587755;return path['join'](this[_0x32bf18(0x12a)](),_0x599d19['mznEb'](_0x2d893d,_0x599d19[_0x32bf18(0x130)]));}static[a47_0x1762e9(0x120)](_0x1449f2){const _0x54ba24=a47_0x1762e9,_0x52eb02={};_0x52eb02['VwTHd']=function(_0x299aa6,_0x3180e2){return _0x299aa6+_0x3180e2;},_0x52eb02[_0x54ba24(0x165)]=function(_0x755b47,_0x3e9aed){return _0x755b47+_0x3e9aed;};const _0x386c6b=_0x52eb02;return _0x386c6b[_0x54ba24(0x171)](_0x386c6b[_0x54ba24(0x165)](_0x386c6b[_0x54ba24(0x171)](_0x386c6b['VwTHd'](this[_0x54ba24(0x11b)](_0x1449f2),'-'),this[_0x54ba24(0x138)](_0x1449f2)),'-'),_0x1449f2[_0x54ba24(0x128)]);}static[a47_0x1762e9(0x11b)](_0x395aa2){const _0x44ae0d=a47_0x1762e9,_0x2c4c6b={'gDUIo':function(_0x4fe1d9,_0x237808,_0x34f7d3){return _0x4fe1d9(_0x237808,_0x34f7d3);},'oTRnJ':_0x44ae0d(0x169),'soSpk':_0x44ae0d(0x159),'XTSfM':_0x44ae0d(0x141),'yerZU':_0x44ae0d(0x150)};return _0x2c4c6b[_0x44ae0d(0x133)](nestedKeyValue,_0x395aa2,[_0x2c4c6b['oTRnJ'],_0x2c4c6b[_0x44ae0d(0x15b)]])||_0x2c4c6b[_0x44ae0d(0x133)](nestedKeyValue,_0x395aa2,[_0x2c4c6b[_0x44ae0d(0x16c)],_0x2c4c6b[_0x44ae0d(0x16e)]]);}static['getTestIdFromTestInfo'](_0x2f0925){const _0x3a9e23=a47_0x1762e9,_0x3227fb={'iarLE':function(_0x1583fe,_0x54dfd1,_0x272341){return _0x1583fe(_0x54dfd1,_0x272341);},'XEvwR':'_test'};return _0x3227fb['iarLE'](nestedKeyValue,_0x2f0925,[_0x3227fb[_0x3a9e23(0x147)],'id'])||_0x2f0925['testId'];}static[a47_0x1762e9(0x12b)](_0x55cc3c){const _0x83cc11=a47_0x1762e9,_0x3d16bd={'GigSh':function(_0x4b9e74,_0x21f883){return _0x4b9e74===_0x21f883;},'HVPQZ':_0x83cc11(0x12c),'tLlzZ':function(_0x4b31ef){return _0x4b31ef();}};if(this[_0x83cc11(0x15e)][_0x55cc3c]&&_0x3d16bd['GigSh'](typeof this[_0x83cc11(0x15e)][_0x55cc3c]['uuid'],_0x3d16bd[_0x83cc11(0x131)]))return this[_0x83cc11(0x15e)][_0x55cc3c][_0x83cc11(0x168)];const _0x491ead=this[_0x83cc11(0x152)](_0x55cc3c);if(_0x491ead&&fs[_0x83cc11(0x15c)](_0x491ead)){const _0x553edb=JSON[_0x83cc11(0x14b)](fs['readFileSync'](_0x491ead)['toString']());return this[_0x83cc11(0x15e)][_0x55cc3c]=_0x553edb,this[_0x83cc11(0x15e)][_0x55cc3c][_0x83cc11(0x168)];}return this[_0x83cc11(0x15e)][_0x55cc3c]={'uuid':_0x3d16bd['tLlzZ'](uuidv4)},fs[_0x83cc11(0x13e)](_0x491ead,JSON[_0x83cc11(0x175)](this[_0x83cc11(0x15e)][_0x55cc3c])),this[_0x83cc11(0x15e)][_0x55cc3c]['uuid'];}static['getAccessibilityPlatformValidation'](_0x3a853b){const _0x39dd58=a47_0x1762e9,_0x1db605=path['join'](this['getDirPath'](),_0x3a853b+_0x39dd58(0x132));if(_0x1db605&&fs[_0x39dd58(0x15c)](_0x1db605))return fs[_0x39dd58(0x174)](_0x1db605)[_0x39dd58(0x16f)]();}static[a47_0x1762e9(0x151)](_0x809101,_0x3d71aa){const _0x1ada22=a47_0x1762e9,_0x235b30=path[_0x1ada22(0x12d)](this['getDirPath'](),_0x3d71aa+_0x1ada22(0x132));fs[_0x1ada22(0x13e)](_0x235b30,_0x809101['toString']());}static[a47_0x1762e9(0x140)](){const _0x123700=a47_0x1762e9,_0x58d10c={};_0x58d10c[_0x123700(0x149)]=!![],_0x58d10c[_0x123700(0x156)]=!![],fs['rmSync'](this['getDirPath'](),_0x58d10c);}static[a47_0x1762e9(0x119)](_0x260cbc){const _0x3058b4=a47_0x1762e9;if(this['tests'][_0x260cbc])return this[_0x3058b4(0x15e)][_0x260cbc];const _0x42b9ff=this[_0x3058b4(0x152)](_0x260cbc);if(_0x42b9ff&&fs[_0x3058b4(0x15c)](_0x42b9ff)){const _0x57c845=JSON[_0x3058b4(0x14b)](fs[_0x3058b4(0x174)](_0x42b9ff)[_0x3058b4(0x16f)]());return this['tests'][_0x260cbc]=_0x57c845,_0x57c845;}return{};}static[a47_0x1762e9(0x16b)](_0x483377,_0x2e7833){const _0xfe6185=a47_0x1762e9,_0x273082=this[_0xfe6185(0x152)](_0x483377);if(_0x273082&&fs[_0xfe6185(0x15c)](_0x273082)){const _0x26525d=JSON[_0xfe6185(0x14b)](fs[_0xfe6185(0x174)](_0x273082)['toString']()),_0x1c1485={..._0x26525d,..._0x2e7833};this['tests'][_0x483377]=_0x1c1485;}else this['tests'][_0x483377]=_0x2e7833;fs['writeFileSync'](_0x273082,this[_0xfe6185(0x15e)][_0x483377]);}static[a47_0x1762e9(0x117)](_0x2c8f5a){const _0xab467c=a47_0x1762e9,_0x4224ef={};_0x4224ef[_0xab467c(0x122)]='Error\x20handling\x20trace\x20file\x20paths:\x20';const _0x2996bd=_0x4224ef;try{const _0x2fe96b=process[_0xab467c(0x158)],_0x422f1e=path[_0xab467c(0x12d)](TestDetails[_0xab467c(0x170)](),_0x2fe96b+_0xab467c(0x13f));let _0x461704=[];_0x422f1e&&fs['existsSync'](_0x422f1e)&&(_0x461704=JSON[_0xab467c(0x14b)](fs['readFileSync'](_0x422f1e)['toString']())),!_0x461704[_0xab467c(0x139)](_0x128cd1=>_0x128cd1[_0xab467c(0x164)]===_0x2c8f5a[_0xab467c(0x164)])&&(_0x461704[_0xab467c(0x124)](_0x2c8f5a),fs[_0xab467c(0x13e)](_0x422f1e,JSON[_0xab467c(0x175)](_0x461704)));}catch(_0x1f40f9){logger['error'](_0x2996bd[_0xab467c(0x122)],_0x1f40f9);}}static[a47_0x1762e9(0x14f)](){const _0xda3057=a47_0x1762e9,_0x1f24ae={};_0x1f24ae[_0xda3057(0x142)]=_0xda3057(0x13f),_0x1f24ae[_0xda3057(0x145)]=_0xda3057(0x143);const _0x4e2bba=_0x1f24ae,_0x35094c=[];try{const _0x438d3c=TestDetails[_0xda3057(0x170)]();if(_0x438d3c&&!fs[_0xda3057(0x15c)](_0x438d3c))return _0x35094c;const _0x366446=fs[_0xda3057(0x12f)](_0x438d3c);_0x366446[_0xda3057(0x134)](_0x469408=>{const _0x431b01=_0xda3057;if(_0x469408&&_0x469408[_0x431b01(0x118)](_0x4e2bba[_0x431b01(0x142)])){const _0x3dbd49=JSON['parse'](fs['readFileSync'](path[_0x431b01(0x12d)](_0x438d3c,_0x469408))[_0x431b01(0x16f)]());_0x35094c[_0x431b01(0x124)](..._0x3dbd49);}});}catch(_0x42409a){logger[_0xda3057(0x155)](util[_0xda3057(0x14d)](_0x4e2bba[_0xda3057(0x145)],_0x42409a));}const _0x4fdd3b={};return _0x35094c[_0xda3057(0x134)](_0x49ca64=>{_0x4fdd3b[_0x49ca64['filePath']]=_0x49ca64;}),Object[_0xda3057(0x14c)](_0x4fdd3b);}static[a47_0x1762e9(0x11a)](_0x4465e1,_0x46d01){const _0x2e9da9=a47_0x1762e9,_0x2d8b4d={};_0x2d8b4d['VWxWv']=_0x2e9da9(0x15f),_0x2d8b4d[_0x2e9da9(0x14e)]=_0x2e9da9(0x161);const _0x3f662f=_0x2d8b4d;try{const _0x2f5877=path[_0x2e9da9(0x12d)](helper[_0x2e9da9(0x13d)](),_0x3f662f[_0x2e9da9(0x123)]);if(!fs[_0x2e9da9(0x15c)](_0x2f5877)){const _0x65cfa2={};_0x65cfa2[_0x2e9da9(0x149)]=!![],fs[_0x2e9da9(0x163)](_0x2f5877,_0x65cfa2);}fs[_0x2e9da9(0x125)](path[_0x2e9da9(0x12d)](_0x2f5877,_0x2e9da9(0x135)+_0x46d01+_0x2e9da9(0x126)),_0x4465e1+'\x0a',_0x3f662f[_0x2e9da9(0x14e)]);}catch(_0x15d78d){console[_0x2e9da9(0x155)](_0x2e9da9(0x153)+_0x15d78d['message']);}}}module[a47_0x1762e9(0x13b)]=TestDetails;