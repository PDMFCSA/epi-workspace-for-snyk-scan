const a46_0x1512ed=a46_0x18f2;(function(_0x3bb5ee,_0x58d81b){const _0x4780ab=a46_0x18f2,_0x37d7b3=_0x3bb5ee();while(!![]){try{const _0x4c4b27=parseInt(_0x4780ab(0x110))/0x1*(parseInt(_0x4780ab(0x13c))/0x2)+-parseInt(_0x4780ab(0x150))/0x3+-parseInt(_0x4780ab(0x10d))/0x4+-parseInt(_0x4780ab(0x136))/0x5+-parseInt(_0x4780ab(0x11b))/0x6*(parseInt(_0x4780ab(0x132))/0x7)+parseInt(_0x4780ab(0x130))/0x8*(-parseInt(_0x4780ab(0x12f))/0x9)+parseInt(_0x4780ab(0x124))/0xa;if(_0x4c4b27===_0x58d81b)break;else _0x37d7b3['push'](_0x37d7b3['shift']());}catch(_0x344c10){_0x37d7b3['push'](_0x37d7b3['shift']());}}}(a46_0x25e8,0x84430));const fs=require('fs'),path=require(a46_0x1512ed(0x135)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require(a46_0x1512ed(0x14f)),{nestedKeyValue}=require(a46_0x1512ed(0x129)),logger=require(a46_0x1512ed(0x14b))[a46_0x1512ed(0x12d)],{getLogDir}=require('../../../helpers/logger'),util=require(a46_0x1512ed(0x12b)),helper=require('../../../helpers/helper');function a46_0x25e8(){const _0x5a6ad9=['tests','getTestRunIdFromTestInfo','getTraceZipDir','2886904YzZuqi','values','MqoGC','5vKPnYZ','mkdirSync','existsSync','addTraceFilePath','bwpYo','project','toString','message','testId','udIOg','.txt','6IUdUTb','join','getStoreDirName','__projectId','TteUo','Error\x20writing\x20trace\x20file:\x20','parse','seihT','utf8','25131970FApMGo','filePath','nfshG','getStoreDirPath','Error\x20reading\x20trace\x20file\x20paths:\x20%s','../../../helpers/helper','SUejs','util','retry','winstonLogger','readFileSync','1154862lcYzUK','32UKEKVO','pid','3587969ZeytDT','SyiQa','exports','path','313845hbBNVl','recursive','vNQmM','setAccessibilityPlatformValidation','format','KZbtf','248758nJbBSU','getTestDetails','shutdown','_test','ARjuQ','hcTWu','newNm','qgLbH','_traceZipPaths.json','.browserstack','GdhRd','_projectId','default','imoPc','readdirSync','../../../helpers/logger','CjLfK','YAeDX','appendToTracePaths','../../../helpers/test-observability/constants','2349042aHKnOZ','force','stringify','asjTz','push','forEach','appendFileSync','getDirPath','Error\x20handling\x20trace\x20file\x20paths:\x20','env','WvdMQ','error','rmSync','uuid','getFilePath','trace_','writeFileSync','PtDno','setTestDetails'];a46_0x25e8=function(){return _0x5a6ad9;};return a46_0x25e8();}function a46_0x18f2(_0x45a682,_0x3b06be){const _0x25e852=a46_0x25e8();return a46_0x18f2=function(_0x18f261,_0xb9304d){_0x18f261=_0x18f261-0xfc;let _0x2393e7=_0x25e852[_0x18f261];return _0x2393e7;},a46_0x18f2(_0x45a682,_0x3b06be);}class TestDetails{static [a46_0x1512ed(0x10a)]={};static['setup'](){const _0x1cffd1=a46_0x1512ed;this['shutdown']();const _0x5e2cf5={};_0x5e2cf5['recursive']=!![],fs[_0x1cffd1(0x111)](this[_0x1cffd1(0xfe)](),_0x5e2cf5);const _0x90fb74={};_0x90fb74[_0x1cffd1(0x137)]=!![],fs[_0x1cffd1(0x111)](this['getTraceZipDir'](),_0x90fb74);}static[a46_0x1512ed(0x11d)](){const _0x599288=a46_0x1512ed,_0x2f97b5={};_0x2f97b5[_0x599288(0x13b)]=function(_0x1200e7,_0x562394){return _0x1200e7+_0x562394;},_0x2f97b5[_0x599288(0x141)]=function(_0x4942f4,_0x53cf6e){return _0x4942f4+_0x53cf6e;};const _0x376526=_0x2f97b5;return _0x376526[_0x599288(0x13b)](_0x376526[_0x599288(0x141)](TEMP_STORE_DIR_NAME,'-'),process['env']['BS_TESTOPS_BUILD_HASHED_ID']);}static['getStoreDirPath'](){const _0x4ab716=a46_0x1512ed,_0x34def9={};_0x34def9[_0x4ab716(0x146)]=function(_0x4fbd15,_0x58fe04){return _0x4fbd15+_0x58fe04;},_0x34def9[_0x4ab716(0x101)]=_0x4ab716(0x148);const _0x1fad69=_0x34def9;return path[_0x4ab716(0x11c)](_0x1fad69['GdhRd'](_0x1fad69['GdhRd'](TEMP_STORE_DIR_NAME,'-'),process[_0x4ab716(0x100)]['BS_TESTOPS_BUILD_HASHED_ID']||_0x1fad69['WvdMQ']));}static['getTraceZipDir'](){const _0x242a75=a46_0x1512ed,_0x3b75d0={};_0x3b75d0[_0x242a75(0x140)]='traceZipPaths';const _0x205ee1=_0x3b75d0;return path[_0x242a75(0x11c)](this[_0x242a75(0x127)](),_0x205ee1[_0x242a75(0x140)]);}static[a46_0x1512ed(0xfe)](){const _0x44e532=a46_0x1512ed;return TestDetails[_0x44e532(0x11d)]();}static[a46_0x1512ed(0x105)](_0x1eedbc){const _0x54b462=a46_0x1512ed,_0x23f19c={};_0x23f19c['PtDno']=function(_0x1d297e,_0x72a39a){return _0x1d297e+_0x72a39a;},_0x23f19c['bwpYo']='.json';const _0x1db67f=_0x23f19c;return path[_0x54b462(0x11c)](this[_0x54b462(0xfe)](),_0x1db67f[_0x54b462(0x108)](_0x1eedbc,_0x1db67f[_0x54b462(0x114)]));}static[a46_0x1512ed(0x10b)](_0x591d03){const _0x2d8ea6=a46_0x1512ed,_0x1b9927={};_0x1b9927[_0x2d8ea6(0x14d)]=function(_0x9a64be,_0xde674e){return _0x9a64be+_0xde674e;},_0x1b9927['CjLfK']=function(_0xfb2c10,_0x9cead7){return _0xfb2c10+_0x9cead7;};const _0x8d7b11=_0x1b9927;return _0x8d7b11[_0x2d8ea6(0x14d)](_0x8d7b11[_0x2d8ea6(0x14c)](_0x8d7b11['CjLfK'](_0x8d7b11[_0x2d8ea6(0x14c)](this['getProjectIdFromTestInfo'](_0x591d03),'-'),this['getTestIdFromTestInfo'](_0x591d03)),'-'),_0x591d03[_0x2d8ea6(0x12c)]);}static['getProjectIdFromTestInfo'](_0x4f3406){const _0x39eba5=a46_0x1512ed,_0x44580f={'imoPc':function(_0x312267,_0x43bc67,_0x533a78){return _0x312267(_0x43bc67,_0x533a78);},'nfshG':_0x39eba5(0x13f),'SfzSq':_0x39eba5(0x147),'kUiVQ':_0x39eba5(0x115),'SyiQa':_0x39eba5(0x11e)};return _0x44580f[_0x39eba5(0x149)](nestedKeyValue,_0x4f3406,[_0x44580f[_0x39eba5(0x126)],_0x44580f['SfzSq']])||_0x44580f[_0x39eba5(0x149)](nestedKeyValue,_0x4f3406,[_0x44580f['kUiVQ'],_0x44580f[_0x39eba5(0x133)]]);}static['getTestIdFromTestInfo'](_0x453511){const _0x18ae2d=a46_0x1512ed,_0x257e27={'SUejs':function(_0x323465,_0x15ca13,_0x1e0dfd){return _0x323465(_0x15ca13,_0x1e0dfd);},'qgLbH':'_test'};return _0x257e27[_0x18ae2d(0x12a)](nestedKeyValue,_0x453511,[_0x257e27[_0x18ae2d(0x143)],'id'])||_0x453511[_0x18ae2d(0x118)];}static['getTestUUID'](_0x425f96){const _0x3ba298=a46_0x1512ed,_0x50f317={'TteUo':function(_0x12ab06,_0x4a32ce){return _0x12ab06===_0x4a32ce;},'ibRzo':'string','udIOg':function(_0x59882f){return _0x59882f();}};if(this[_0x3ba298(0x10a)][_0x425f96]&&_0x50f317[_0x3ba298(0x11f)](typeof this['tests'][_0x425f96][_0x3ba298(0x104)],_0x50f317['ibRzo']))return this[_0x3ba298(0x10a)][_0x425f96][_0x3ba298(0x104)];const _0x1b0112=this['getFilePath'](_0x425f96);if(_0x1b0112&&fs['existsSync'](_0x1b0112)){const _0x5935bc=JSON[_0x3ba298(0x121)](fs[_0x3ba298(0x12e)](_0x1b0112)[_0x3ba298(0x116)]());return this[_0x3ba298(0x10a)][_0x425f96]=_0x5935bc,this['tests'][_0x425f96][_0x3ba298(0x104)];}return this[_0x3ba298(0x10a)][_0x425f96]={'uuid':_0x50f317[_0x3ba298(0x119)](uuidv4)},fs['writeFileSync'](_0x1b0112,JSON[_0x3ba298(0x152)](this[_0x3ba298(0x10a)][_0x425f96])),this[_0x3ba298(0x10a)][_0x425f96][_0x3ba298(0x104)];}static['getAccessibilityPlatformValidation'](_0x1a6593){const _0x1fb8b8=a46_0x1512ed,_0x12f21d=path[_0x1fb8b8(0x11c)](this['getDirPath'](),_0x1a6593+'_platformDetails.json');if(_0x12f21d&&fs[_0x1fb8b8(0x112)](_0x12f21d))return fs[_0x1fb8b8(0x12e)](_0x12f21d)[_0x1fb8b8(0x116)]();}static[a46_0x1512ed(0x139)](_0x2093f8,_0x51c884){const _0x2ede2c=a46_0x1512ed,_0x1d81f9=path[_0x2ede2c(0x11c)](this[_0x2ede2c(0xfe)](),_0x51c884+'_platformDetails.json');fs[_0x2ede2c(0x107)](_0x1d81f9,_0x2093f8[_0x2ede2c(0x116)]());}static[a46_0x1512ed(0x13e)](){const _0x534d07=a46_0x1512ed,_0x40b57a={};_0x40b57a['recursive']=!![],_0x40b57a[_0x534d07(0x151)]=!![],fs[_0x534d07(0x103)](this[_0x534d07(0xfe)](),_0x40b57a);}static[a46_0x1512ed(0x13d)](_0x4acec8){const _0x2355f3=a46_0x1512ed;if(this[_0x2355f3(0x10a)][_0x4acec8])return this[_0x2355f3(0x10a)][_0x4acec8];const _0x358daf=this[_0x2355f3(0x105)](_0x4acec8);if(_0x358daf&&fs[_0x2355f3(0x112)](_0x358daf)){const _0x41c1f3=JSON[_0x2355f3(0x121)](fs[_0x2355f3(0x12e)](_0x358daf)[_0x2355f3(0x116)]());return this[_0x2355f3(0x10a)][_0x4acec8]=_0x41c1f3,_0x41c1f3;}return{};}static[a46_0x1512ed(0x109)](_0x3890e7,_0x26a237){const _0x58c33c=a46_0x1512ed,_0x525c09=this[_0x58c33c(0x105)](_0x3890e7);if(_0x525c09&&fs[_0x58c33c(0x112)](_0x525c09)){const _0x122fef=JSON[_0x58c33c(0x121)](fs[_0x58c33c(0x12e)](_0x525c09)[_0x58c33c(0x116)]()),_0x53fcdf={..._0x122fef,..._0x26a237};this[_0x58c33c(0x10a)][_0x3890e7]=_0x53fcdf;}else this[_0x58c33c(0x10a)][_0x3890e7]=_0x26a237;fs[_0x58c33c(0x107)](_0x525c09,this[_0x58c33c(0x10a)][_0x3890e7]);}static[a46_0x1512ed(0x113)](_0x32f8cc){const _0x1181ae=a46_0x1512ed,_0x2eedb3={};_0x2eedb3[_0x1181ae(0x138)]=_0x1181ae(0xff);const _0x5d19ab=_0x2eedb3;try{const _0x50afef=process[_0x1181ae(0x131)],_0x52240c=path['join'](TestDetails[_0x1181ae(0x10c)](),_0x50afef+_0x1181ae(0x144));let _0x3655c2=[];_0x52240c&&fs[_0x1181ae(0x112)](_0x52240c)&&(_0x3655c2=JSON[_0x1181ae(0x121)](fs[_0x1181ae(0x12e)](_0x52240c)['toString']())),!_0x3655c2['some'](_0x429166=>_0x429166[_0x1181ae(0x125)]===_0x32f8cc['filePath'])&&(_0x3655c2[_0x1181ae(0x154)](_0x32f8cc),fs['writeFileSync'](_0x52240c,JSON[_0x1181ae(0x152)](_0x3655c2)));}catch(_0x577395){logger[_0x1181ae(0x102)](_0x5d19ab[_0x1181ae(0x138)],_0x577395);}}static['getTraceFilePaths'](){const _0x1ecffb=a46_0x1512ed,_0x3d08c4={};_0x3d08c4[_0x1ecffb(0x122)]='_traceZipPaths.json',_0x3d08c4[_0x1ecffb(0x142)]=_0x1ecffb(0x128);const _0x29eda0=_0x3d08c4,_0x4fe9b9=[];try{const _0x56cd11=TestDetails['getTraceZipDir']();if(_0x56cd11&&!fs[_0x1ecffb(0x112)](_0x56cd11))return _0x4fe9b9;const _0x2c591e=fs[_0x1ecffb(0x14a)](_0x56cd11);_0x2c591e[_0x1ecffb(0xfc)](_0x15f6c3=>{const _0x168470=_0x1ecffb;if(_0x15f6c3&&_0x15f6c3['endsWith'](_0x29eda0[_0x168470(0x122)])){const _0x13887d=JSON['parse'](fs[_0x168470(0x12e)](path[_0x168470(0x11c)](_0x56cd11,_0x15f6c3))[_0x168470(0x116)]());_0x4fe9b9[_0x168470(0x154)](..._0x13887d);}});}catch(_0x25f0ce){logger[_0x1ecffb(0x102)](util[_0x1ecffb(0x13a)](_0x29eda0[_0x1ecffb(0x142)],_0x25f0ce));}const _0x1057ff={};return _0x4fe9b9['forEach'](_0x506e4d=>{const _0x471b53=_0x1ecffb;_0x1057ff[_0x506e4d[_0x471b53(0x125)]]=_0x506e4d;}),Object[_0x1ecffb(0x10e)](_0x1057ff);}static[a46_0x1512ed(0x14e)](_0x3b5392,_0xd2ec9e){const _0x1d5f85=a46_0x1512ed,_0x4acd97={};_0x4acd97[_0x1d5f85(0x153)]=_0x1d5f85(0x145),_0x4acd97['MqoGC']=_0x1d5f85(0x123);const _0x44603f=_0x4acd97;try{const _0x6a4819=path[_0x1d5f85(0x11c)](helper['homedir'](),_0x44603f[_0x1d5f85(0x153)]);if(!fs[_0x1d5f85(0x112)](_0x6a4819)){const _0x26da37={};_0x26da37['recursive']=!![],fs['mkdirSync'](_0x6a4819,_0x26da37);}fs[_0x1d5f85(0xfd)](path['join'](_0x6a4819,_0x1d5f85(0x106)+_0xd2ec9e+_0x1d5f85(0x11a)),_0x3b5392+'\x0a',_0x44603f[_0x1d5f85(0x10f)]);}catch(_0x51ae08){console[_0x1d5f85(0x102)](_0x1d5f85(0x120)+_0x51ae08[_0x1d5f85(0x117)]);}}}module[a46_0x1512ed(0x134)]=TestDetails;