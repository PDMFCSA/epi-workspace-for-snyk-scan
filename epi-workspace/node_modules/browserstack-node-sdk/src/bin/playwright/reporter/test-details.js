const a46_0x1f51e8=a46_0x5d1f;(function(_0x5a02cb,_0x548ce0){const _0x42bcd3=a46_0x5d1f,_0x52f2b5=_0x5a02cb();while(!![]){try{const _0x1f50b1=-parseInt(_0x42bcd3(0x157))/0x1+-parseInt(_0x42bcd3(0x15e))/0x2+parseInt(_0x42bcd3(0x10a))/0x3*(-parseInt(_0x42bcd3(0x152))/0x4)+parseInt(_0x42bcd3(0x150))/0x5+parseInt(_0x42bcd3(0x159))/0x6*(-parseInt(_0x42bcd3(0x14a))/0x7)+-parseInt(_0x42bcd3(0x13d))/0x8*(parseInt(_0x42bcd3(0x14f))/0x9)+-parseInt(_0x42bcd3(0x10d))/0xa*(-parseInt(_0x42bcd3(0x13e))/0xb);if(_0x1f50b1===_0x548ce0)break;else _0x52f2b5['push'](_0x52f2b5['shift']());}catch(_0x47a8eb){_0x52f2b5['push'](_0x52f2b5['shift']());}}}(a46_0x4df6,0xd4442));const fs=require('fs'),path=require(a46_0x1f51e8(0x148)),{v4:uuidv4}=require(a46_0x1f51e8(0x142)),{TEMP_STORE_DIR_NAME}=require(a46_0x1f51e8(0x127)),{nestedKeyValue}=require(a46_0x1f51e8(0x110)),logger=require(a46_0x1f51e8(0x13b))[a46_0x1f51e8(0x11f)],{getLogDir}=require('../../../helpers/logger'),util=require(a46_0x1f51e8(0x146)),helper=require('../../../helpers/helper');function a46_0x4df6(){const _0x51bec1=['kpjtP','message','.browserstack','recursive','setup','muErj','Error\x20writing\x20trace\x20file:\x20','getTraceZipDir','getProjectIdFromTestInfo','wxfhK','format','.txt','project','IooeP','parse','Error\x20reading\x20trace\x20file\x20paths:\x20%s','Volmo','mkdirSync','../../../helpers/logger','homedir','48DgdAyX','11KZkQBG','default','BS_TESTOPS_BUILD_HASHED_ID','XsdCs','uuid','setTestDetails','utf8','env','util','getTestUUID','path','_platformDetails.json','21shrwDR','ARqfR','filePath','__projectId','existsSync','834417lMjTel','5264915hVhvFD','nwQCn','124YGVWrr','getFilePath','join','setAccessibilityPlatformValidation','_traceZipPaths.json','263864fcGSCA','nOZFZ','347496pQYrGL','values','forEach','getDirPath','writeFileSync','1767002ItqRPA','NFUFu','trace_','readFileSync','push','some','toString','_test','tests','dJZJD','11337ykZbEV','testId','retry','18109990AVlhND','HUqep','endsWith','../../../helpers/helper','fQttU','VJWvT','shutdown','error','pid','BsYNC','getStoreDirPath','appendFileSync','Error\x20handling\x20trace\x20file\x20paths:\x20','appendToTracePaths','HPTdt','traceZipPaths','lvDhM','IDwUf','winstonLogger','ktTkF','rmSync','VmKzG','stringify','HOBpL','Dsskl','.json','../../../helpers/test-observability/constants','pYSPY'];a46_0x4df6=function(){return _0x51bec1;};return a46_0x4df6();}function a46_0x5d1f(_0x3cac16,_0x38b9e2){const _0x4df6e6=a46_0x4df6();return a46_0x5d1f=function(_0x5d1fb1,_0x5e039e){_0x5d1fb1=_0x5d1fb1-0x103;let _0x28ad9f=_0x4df6e6[_0x5d1fb1];return _0x28ad9f;},a46_0x5d1f(_0x3cac16,_0x38b9e2);}class TestDetails{static [a46_0x1f51e8(0x108)]={};static[a46_0x1f51e8(0x12d)](){const _0x28ae95=a46_0x1f51e8;this[_0x28ae95(0x113)]();const _0x7170f9={};_0x7170f9['recursive']=!![],fs[_0x28ae95(0x13a)](this[_0x28ae95(0x15c)](),_0x7170f9);const _0x30925f={};_0x30925f[_0x28ae95(0x12c)]=!![],fs[_0x28ae95(0x13a)](this[_0x28ae95(0x130)](),_0x30925f);}static['getStoreDirName'](){const _0x6d7fc3=a46_0x1f51e8,_0x4da462={};_0x4da462[_0x6d7fc3(0x128)]=function(_0x27f713,_0x170741){return _0x27f713+_0x170741;};const _0x290adf=_0x4da462;return _0x290adf[_0x6d7fc3(0x128)](_0x290adf['pYSPY'](TEMP_STORE_DIR_NAME,'-'),process[_0x6d7fc3(0x145)]['BS_TESTOPS_BUILD_HASHED_ID']);}static['getStoreDirPath'](){const _0x30ca38=a46_0x1f51e8,_0x5a6b4f={};_0x5a6b4f[_0x30ca38(0x132)]=function(_0x1bdedf,_0x4b5184){return _0x1bdedf+_0x4b5184;},_0x5a6b4f[_0x30ca38(0x116)]=_0x30ca38(0x13f);const _0x46f50b=_0x5a6b4f;return path['join'](_0x46f50b[_0x30ca38(0x132)](_0x46f50b['wxfhK'](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x30ca38(0x140)]||_0x46f50b[_0x30ca38(0x116)]));}static[a46_0x1f51e8(0x130)](){const _0x6f98a5=a46_0x1f51e8,_0x3aa5b4={};_0x3aa5b4[_0x6f98a5(0x124)]=_0x6f98a5(0x11c);const _0xac8276=_0x3aa5b4;return path['join'](this[_0x6f98a5(0x117)](),_0xac8276[_0x6f98a5(0x124)]);}static['getDirPath'](){return TestDetails['getStoreDirName']();}static[a46_0x1f51e8(0x153)](_0x3f949f){const _0x58a955=a46_0x1f51e8,_0x36d4b1={};_0x36d4b1[_0x58a955(0x125)]=function(_0x44fa83,_0x284537){return _0x44fa83+_0x284537;},_0x36d4b1[_0x58a955(0x122)]=_0x58a955(0x126);const _0x37d764=_0x36d4b1;return path[_0x58a955(0x154)](this[_0x58a955(0x15c)](),_0x37d764[_0x58a955(0x125)](_0x3f949f,_0x37d764[_0x58a955(0x122)]));}static['getTestRunIdFromTestInfo'](_0x5a4ee8){const _0x1a0634=a46_0x1f51e8,_0x41f074={};_0x41f074[_0x1a0634(0x112)]=function(_0x208e5f,_0x402bae){return _0x208e5f+_0x402bae;},_0x41f074[_0x1a0634(0x139)]=function(_0x38983e,_0x2ccf45){return _0x38983e+_0x2ccf45;},_0x41f074['kjKPC']=function(_0x2c5832,_0x1e3fe6){return _0x2c5832+_0x1e3fe6;},_0x41f074[_0x1a0634(0x14b)]=function(_0x1f7e91,_0x2d1411){return _0x1f7e91+_0x2d1411;};const _0x4b4583=_0x41f074;return _0x4b4583[_0x1a0634(0x112)](_0x4b4583[_0x1a0634(0x139)](_0x4b4583['kjKPC'](_0x4b4583[_0x1a0634(0x14b)](this[_0x1a0634(0x131)](_0x5a4ee8),'-'),this['getTestIdFromTestInfo'](_0x5a4ee8)),'-'),_0x5a4ee8[_0x1a0634(0x10c)]);}static[a46_0x1f51e8(0x131)](_0x12a23a){const _0x1639ce=a46_0x1f51e8,_0x5bedb9={'muErj':function(_0xcc1550,_0x403c4f,_0x52a3a9){return _0xcc1550(_0x403c4f,_0x52a3a9);},'ktTkF':_0x1639ce(0x107),'nOZFZ':'_projectId','IooeP':_0x1639ce(0x135),'NFUFu':_0x1639ce(0x14d)};return _0x5bedb9[_0x1639ce(0x12e)](nestedKeyValue,_0x12a23a,[_0x5bedb9[_0x1639ce(0x120)],_0x5bedb9[_0x1639ce(0x158)]])||_0x5bedb9[_0x1639ce(0x12e)](nestedKeyValue,_0x12a23a,[_0x5bedb9[_0x1639ce(0x136)],_0x5bedb9[_0x1639ce(0x15f)]]);}static['getTestIdFromTestInfo'](_0x23232c){const _0x148246=a46_0x1f51e8,_0x257e99={'nwQCn':function(_0x21d5bf,_0x4a113b,_0x1fd26e){return _0x21d5bf(_0x4a113b,_0x1fd26e);},'XsdCs':_0x148246(0x107)};return _0x257e99[_0x148246(0x151)](nestedKeyValue,_0x23232c,[_0x257e99[_0x148246(0x141)],'id'])||_0x23232c[_0x148246(0x10b)];}static[a46_0x1f51e8(0x147)](_0x2449d8){const _0x563e78=a46_0x1f51e8,_0x3377d1={'HPTdt':function(_0x2feb19,_0x3ccdad){return _0x2feb19===_0x3ccdad;},'kpjtP':'string','dJZJD':function(_0x5d4b33){return _0x5d4b33();}};if(this['tests'][_0x2449d8]&&_0x3377d1[_0x563e78(0x11b)](typeof this[_0x563e78(0x108)][_0x2449d8][_0x563e78(0x142)],_0x3377d1[_0x563e78(0x129)]))return this[_0x563e78(0x108)][_0x2449d8][_0x563e78(0x142)];const _0x5a4fc0=this[_0x563e78(0x153)](_0x2449d8);if(_0x5a4fc0&&fs['existsSync'](_0x5a4fc0)){const _0x12d2fc=JSON['parse'](fs['readFileSync'](_0x5a4fc0)[_0x563e78(0x106)]());return this['tests'][_0x2449d8]=_0x12d2fc,this['tests'][_0x2449d8][_0x563e78(0x142)];}return this['tests'][_0x2449d8]={'uuid':_0x3377d1[_0x563e78(0x109)](uuidv4)},fs['writeFileSync'](_0x5a4fc0,JSON[_0x563e78(0x123)](this[_0x563e78(0x108)][_0x2449d8])),this[_0x563e78(0x108)][_0x2449d8][_0x563e78(0x142)];}static['getAccessibilityPlatformValidation'](_0x43b2f0){const _0x364b86=a46_0x1f51e8,_0x159455=path[_0x364b86(0x154)](this[_0x364b86(0x15c)](),_0x43b2f0+_0x364b86(0x149));if(_0x159455&&fs[_0x364b86(0x14e)](_0x159455))return fs['readFileSync'](_0x159455)[_0x364b86(0x106)]();}static[a46_0x1f51e8(0x155)](_0xd2ef28,_0x1acfd3){const _0x480156=a46_0x1f51e8,_0x29e6e2=path[_0x480156(0x154)](this['getDirPath'](),_0x1acfd3+'_platformDetails.json');fs[_0x480156(0x15d)](_0x29e6e2,_0xd2ef28[_0x480156(0x106)]());}static[a46_0x1f51e8(0x113)](){const _0x2dca75=a46_0x1f51e8,_0x11882c={};_0x11882c[_0x2dca75(0x12c)]=!![],_0x11882c['force']=!![],fs[_0x2dca75(0x121)](this['getDirPath'](),_0x11882c);}static['getTestDetails'](_0x264cfd){const _0x2c5354=a46_0x1f51e8;if(this[_0x2c5354(0x108)][_0x264cfd])return this[_0x2c5354(0x108)][_0x264cfd];const _0xd688f9=this[_0x2c5354(0x153)](_0x264cfd);if(_0xd688f9&&fs[_0x2c5354(0x14e)](_0xd688f9)){const _0x1dc6b5=JSON['parse'](fs['readFileSync'](_0xd688f9)[_0x2c5354(0x106)]());return this[_0x2c5354(0x108)][_0x264cfd]=_0x1dc6b5,_0x1dc6b5;}return{};}static[a46_0x1f51e8(0x143)](_0x287be7,_0x327fb7){const _0x4e1c6a=a46_0x1f51e8,_0x1f932a=this[_0x4e1c6a(0x153)](_0x287be7);if(_0x1f932a&&fs[_0x4e1c6a(0x14e)](_0x1f932a)){const _0x3ebd29=JSON[_0x4e1c6a(0x137)](fs[_0x4e1c6a(0x103)](_0x1f932a)[_0x4e1c6a(0x106)]()),_0x443767={..._0x3ebd29,..._0x327fb7};this[_0x4e1c6a(0x108)][_0x287be7]=_0x443767;}else this['tests'][_0x287be7]=_0x327fb7;fs[_0x4e1c6a(0x15d)](_0x1f932a,this['tests'][_0x287be7]);}static['addTraceFilePath'](_0x589646){const _0x4c080d=a46_0x1f51e8,_0xca2956={};_0xca2956['yvUNp']=_0x4c080d(0x119);const _0x3019cb=_0xca2956;try{const _0x557e58=process[_0x4c080d(0x115)],_0x5524aa=path[_0x4c080d(0x154)](TestDetails[_0x4c080d(0x130)](),_0x557e58+_0x4c080d(0x156));let _0x508521=[];_0x5524aa&&fs[_0x4c080d(0x14e)](_0x5524aa)&&(_0x508521=JSON[_0x4c080d(0x137)](fs[_0x4c080d(0x103)](_0x5524aa)['toString']())),!_0x508521[_0x4c080d(0x105)](_0x3aa4b0=>_0x3aa4b0[_0x4c080d(0x14c)]===_0x589646[_0x4c080d(0x14c)])&&(_0x508521[_0x4c080d(0x104)](_0x589646),fs[_0x4c080d(0x15d)](_0x5524aa,JSON['stringify'](_0x508521)));}catch(_0xc407cc){logger[_0x4c080d(0x114)](_0x3019cb['yvUNp'],_0xc407cc);}}static['getTraceFilePaths'](){const _0x2362e4=a46_0x1f51e8,_0x512d7b={};_0x512d7b['IDwUf']=_0x2362e4(0x156),_0x512d7b[_0x2362e4(0x111)]=_0x2362e4(0x138);const _0x715ee4=_0x512d7b,_0x9ee550=[];try{const _0x291e6f=TestDetails['getTraceZipDir']();if(_0x291e6f&&!fs[_0x2362e4(0x14e)](_0x291e6f))return _0x9ee550;const _0x17e7ea=fs['readdirSync'](_0x291e6f);_0x17e7ea[_0x2362e4(0x15b)](_0x111736=>{const _0x6cded1=_0x2362e4;if(_0x111736&&_0x111736[_0x6cded1(0x10f)](_0x715ee4[_0x6cded1(0x11e)])){const _0x5377f8=JSON['parse'](fs[_0x6cded1(0x103)](path[_0x6cded1(0x154)](_0x291e6f,_0x111736))['toString']());_0x9ee550[_0x6cded1(0x104)](..._0x5377f8);}});}catch(_0x774c5){logger[_0x2362e4(0x114)](util[_0x2362e4(0x133)](_0x715ee4[_0x2362e4(0x111)],_0x774c5));}const _0x2164ea={};return _0x9ee550[_0x2362e4(0x15b)](_0xa76840=>{const _0x102ad3=_0x2362e4;_0x2164ea[_0xa76840[_0x102ad3(0x14c)]]=_0xa76840;}),Object[_0x2362e4(0x15a)](_0x2164ea);}static[a46_0x1f51e8(0x11a)](_0x47db92,_0x4fb733){const _0x38e355=a46_0x1f51e8,_0x59e7d0={};_0x59e7d0[_0x38e355(0x10e)]=_0x38e355(0x12b),_0x59e7d0[_0x38e355(0x11d)]=_0x38e355(0x144);const _0x31bfb8=_0x59e7d0;try{const _0x26596f=path['join'](helper[_0x38e355(0x13c)](),_0x31bfb8['HUqep']);if(!fs[_0x38e355(0x14e)](_0x26596f)){const _0x48fef5={};_0x48fef5[_0x38e355(0x12c)]=!![],fs['mkdirSync'](_0x26596f,_0x48fef5);}fs[_0x38e355(0x118)](path[_0x38e355(0x154)](_0x26596f,_0x38e355(0x160)+_0x4fb733+_0x38e355(0x134)),_0x47db92+'\x0a',_0x31bfb8['lvDhM']);}catch(_0x1373aa){console['error'](_0x38e355(0x12f)+_0x1373aa[_0x38e355(0x12a)]);}}}module['exports']=TestDetails;