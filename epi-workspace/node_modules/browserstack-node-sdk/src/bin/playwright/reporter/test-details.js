const a46_0x5b61fd=a46_0xfaaf;(function(_0x2500bc,_0x3e4a69){const _0x20c853=a46_0xfaaf,_0x21088d=_0x2500bc();while(!![]){try{const _0x2d33a1=parseInt(_0x20c853(0x151))/0x1+parseInt(_0x20c853(0x14e))/0x2+parseInt(_0x20c853(0x11b))/0x3+parseInt(_0x20c853(0x134))/0x4+-parseInt(_0x20c853(0x100))/0x5+-parseInt(_0x20c853(0x131))/0x6+-parseInt(_0x20c853(0x10b))/0x7*(parseInt(_0x20c853(0x14f))/0x8);if(_0x2d33a1===_0x3e4a69)break;else _0x21088d['push'](_0x21088d['shift']());}catch(_0x444e08){_0x21088d['push'](_0x21088d['shift']());}}}(a46_0x29c8,0x63791));const fs=require('fs'),path=require(a46_0x5b61fd(0x10c)),{v4:uuidv4}=require(a46_0x5b61fd(0x130)),{TEMP_STORE_DIR_NAME}=require(a46_0x5b61fd(0x127)),{nestedKeyValue}=require(a46_0x5b61fd(0x13a)),logger=require(a46_0x5b61fd(0x154))[a46_0x5b61fd(0x11a)],{getLogDir}=require(a46_0x5b61fd(0x154)),util=require('util'),helper=require(a46_0x5b61fd(0x13a));function a46_0x29c8(){const _0x45bd78=['retry','_traceZipPaths.json','readFileSync','Kfjpc','toString','trace_','getTestIdFromTestInfo','setTestDetails','mkdirSync','ftinh','force','fWFFR','rmSync','366334wyJMSd','8HQskvC','getFilePath','199341cLXRVj','FqbFK','eLdMz','../../../helpers/logger','getDirPath','forEach','cLLaY','getTraceZipDir','readdirSync','1534460SWWAHw','JZCHw','utf8','kmnKv','endsWith','tTgiK','kebvq','Error\x20writing\x20trace\x20file:\x20','addTraceFilePath','format','setAccessibilityPlatformValidation','508249POteNp','path','parse','eOmYN','MYbrN','error','appendFileSync','getStoreDirPath','getTestUUID','filePath','values','testId','writeFileSync','env','getTestDetails','winstonLogger','2199720BNDBUn','setup','_projectId','existsSync','ZbuUZ','_platformDetails.json','getAccessibilityPlatformValidation','zTEMg','gNsTJ','zCxlj','Error\x20reading\x20trace\x20file\x20paths:\x20%s','NWAlK','../../../helpers/test-observability/constants','recursive','wYWwW','push','join','shutdown','tests','traceZipPaths','some','uuid','4107030crVigM','getStoreDirName','appendToTracePaths','1422788pYYDTN','pid','getProjectIdFromTestInfo','Error\x20handling\x20trace\x20file\x20paths:\x20','getTestRunIdFromTestInfo','TOsJn','../../../helpers/helper','YXNSy','jhkwe','string','stringify','CfTRK','message'];a46_0x29c8=function(){return _0x45bd78;};return a46_0x29c8();}class TestDetails{static [a46_0x5b61fd(0x12d)]={};static[a46_0x5b61fd(0x11c)](){const _0x5d06c9=a46_0x5b61fd;this[_0x5d06c9(0x12c)]();const _0x223620={};_0x223620['recursive']=!![],fs[_0x5d06c9(0x149)](this[_0x5d06c9(0x155)](),_0x223620);const _0x3186ef={};_0x3186ef['recursive']=!![],fs[_0x5d06c9(0x149)](this['getTraceZipDir'](),_0x3186ef);}static[a46_0x5b61fd(0x132)](){const _0x408a07=a46_0x5b61fd,_0x155232={};_0x155232[_0x408a07(0x153)]=function(_0x3f7c57,_0x405c52){return _0x3f7c57+_0x405c52;};const _0x170b14=_0x155232;return _0x170b14[_0x408a07(0x153)](_0x170b14[_0x408a07(0x153)](TEMP_STORE_DIR_NAME,'-'),process['env']['BS_TESTOPS_BUILD_HASHED_ID']);}static[a46_0x5b61fd(0x112)](){const _0x411df6=a46_0x5b61fd,_0x5746e9={};_0x5746e9[_0x411df6(0x122)]=function(_0xd1fab0,_0x59e4f3){return _0xd1fab0+_0x59e4f3;},_0x5746e9[_0x411df6(0x106)]=function(_0x3b4547,_0x5f303c){return _0x3b4547+_0x5f303c;},_0x5746e9[_0x411df6(0x10e)]='default';const _0x568c05=_0x5746e9;return path[_0x411df6(0x12b)](_0x568c05[_0x411df6(0x122)](_0x568c05[_0x411df6(0x106)](TEMP_STORE_DIR_NAME,'-'),process[_0x411df6(0x118)]['BS_TESTOPS_BUILD_HASHED_ID']||_0x568c05[_0x411df6(0x10e)]));}static[a46_0x5b61fd(0xfe)](){const _0x234d81=a46_0x5b61fd,_0x3f40f5={};_0x3f40f5[_0x234d81(0x13b)]=_0x234d81(0x12e);const _0x3a2534=_0x3f40f5;return path[_0x234d81(0x12b)](this[_0x234d81(0x112)](),_0x3a2534[_0x234d81(0x13b)]);}static[a46_0x5b61fd(0x155)](){return TestDetails['getStoreDirName']();}static[a46_0x5b61fd(0x150)](_0x990810){const _0x556867=a46_0x5b61fd,_0x870412={};_0x870412[_0x556867(0x124)]=function(_0x361aa8,_0x2a1ad6){return _0x361aa8+_0x2a1ad6;},_0x870412[_0x556867(0x14a)]='.json';const _0x39b133=_0x870412;return path[_0x556867(0x12b)](this[_0x556867(0x155)](),_0x39b133['zCxlj'](_0x990810,_0x39b133[_0x556867(0x14a)]));}static[a46_0x5b61fd(0x138)](_0xb1271c){const _0x2ab0a3=a46_0x5b61fd,_0x2f3cc0={};_0x2f3cc0[_0x2ab0a3(0x144)]=function(_0x17337b,_0x306946){return _0x17337b+_0x306946;},_0x2f3cc0['fWFFR']=function(_0x1f30f7,_0x583745){return _0x1f30f7+_0x583745;},_0x2f3cc0['NWAlK']=function(_0x380b55,_0x4043c5){return _0x380b55+_0x4043c5;};const _0x8ba5aa=_0x2f3cc0;return _0x8ba5aa[_0x2ab0a3(0x144)](_0x8ba5aa[_0x2ab0a3(0x144)](_0x8ba5aa[_0x2ab0a3(0x14c)](_0x8ba5aa[_0x2ab0a3(0x126)](this[_0x2ab0a3(0x136)](_0xb1271c),'-'),this[_0x2ab0a3(0x147)](_0xb1271c)),'-'),_0xb1271c[_0x2ab0a3(0x141)]);}static[a46_0x5b61fd(0x136)](_0x4a743b){const _0x217432=a46_0x5b61fd,_0x1424e8={'gNsTJ':function(_0x20ccfc,_0x4b1b69,_0x200670){return _0x20ccfc(_0x4b1b69,_0x200670);},'kmnKv':'_test','jhkwe':_0x217432(0x11d),'JZCHw':'project','FqbFK':'__projectId'};return _0x1424e8['gNsTJ'](nestedKeyValue,_0x4a743b,[_0x1424e8[_0x217432(0x103)],_0x1424e8[_0x217432(0x13c)]])||_0x1424e8[_0x217432(0x123)](nestedKeyValue,_0x4a743b,[_0x1424e8[_0x217432(0x101)],_0x1424e8[_0x217432(0x152)]]);}static[a46_0x5b61fd(0x147)](_0x3a9fca){const _0x8b13fb=a46_0x5b61fd,_0x19fcfa={'jfNoa':function(_0x23db01,_0x38b216,_0x4bc9be){return _0x23db01(_0x38b216,_0x4bc9be);},'woITg':'_test'};return _0x19fcfa['jfNoa'](nestedKeyValue,_0x3a9fca,[_0x19fcfa['woITg'],'id'])||_0x3a9fca[_0x8b13fb(0x116)];}static[a46_0x5b61fd(0x113)](_0x5912d5){const _0x45aa02=a46_0x5b61fd,_0x549b7a={'MYbrN':function(_0xfb8653,_0x5cd69c){return _0xfb8653===_0x5cd69c;},'CfTRK':_0x45aa02(0x13d),'GrExv':function(_0x25d389){return _0x25d389();}};if(this[_0x45aa02(0x12d)][_0x5912d5]&&_0x549b7a[_0x45aa02(0x10f)](typeof this[_0x45aa02(0x12d)][_0x5912d5][_0x45aa02(0x130)],_0x549b7a[_0x45aa02(0x13f)]))return this[_0x45aa02(0x12d)][_0x5912d5][_0x45aa02(0x130)];const _0x5f3b5d=this[_0x45aa02(0x150)](_0x5912d5);if(_0x5f3b5d&&fs[_0x45aa02(0x11e)](_0x5f3b5d)){const _0x59f4f9=JSON[_0x45aa02(0x10d)](fs[_0x45aa02(0x143)](_0x5f3b5d)[_0x45aa02(0x145)]());return this[_0x45aa02(0x12d)][_0x5912d5]=_0x59f4f9,this[_0x45aa02(0x12d)][_0x5912d5][_0x45aa02(0x130)];}return this[_0x45aa02(0x12d)][_0x5912d5]={'uuid':_0x549b7a['GrExv'](uuidv4)},fs[_0x45aa02(0x117)](_0x5f3b5d,JSON[_0x45aa02(0x13e)](this[_0x45aa02(0x12d)][_0x5912d5])),this[_0x45aa02(0x12d)][_0x5912d5][_0x45aa02(0x130)];}static[a46_0x5b61fd(0x121)](_0x441025){const _0x156232=a46_0x5b61fd,_0x53a0cf=path['join'](this[_0x156232(0x155)](),_0x441025+'_platformDetails.json');if(_0x53a0cf&&fs['existsSync'](_0x53a0cf))return fs[_0x156232(0x143)](_0x53a0cf)['toString']();}static[a46_0x5b61fd(0x10a)](_0x1c84b8,_0x5b63d9){const _0x581ac0=a46_0x5b61fd,_0x42acc1=path[_0x581ac0(0x12b)](this['getDirPath'](),_0x5b63d9+_0x581ac0(0x120));fs[_0x581ac0(0x117)](_0x42acc1,_0x1c84b8[_0x581ac0(0x145)]());}static[a46_0x5b61fd(0x12c)](){const _0x19b112=a46_0x5b61fd,_0x4beda6={};_0x4beda6[_0x19b112(0x128)]=!![],_0x4beda6[_0x19b112(0x14b)]=!![],fs[_0x19b112(0x14d)](this[_0x19b112(0x155)](),_0x4beda6);}static[a46_0x5b61fd(0x119)](_0x474b4b){const _0x17ee82=a46_0x5b61fd;if(this['tests'][_0x474b4b])return this[_0x17ee82(0x12d)][_0x474b4b];const _0x27a70f=this['getFilePath'](_0x474b4b);if(_0x27a70f&&fs[_0x17ee82(0x11e)](_0x27a70f)){const _0x4a710d=JSON[_0x17ee82(0x10d)](fs[_0x17ee82(0x143)](_0x27a70f)['toString']());return this[_0x17ee82(0x12d)][_0x474b4b]=_0x4a710d,_0x4a710d;}return{};}static[a46_0x5b61fd(0x148)](_0x2b958d,_0x37e334){const _0x4a48a9=a46_0x5b61fd,_0x347aef=this['getFilePath'](_0x2b958d);if(_0x347aef&&fs[_0x4a48a9(0x11e)](_0x347aef)){const _0x45d0d2=JSON[_0x4a48a9(0x10d)](fs[_0x4a48a9(0x143)](_0x347aef)[_0x4a48a9(0x145)]()),_0x19fa9e={..._0x45d0d2,..._0x37e334};this[_0x4a48a9(0x12d)][_0x2b958d]=_0x19fa9e;}else this[_0x4a48a9(0x12d)][_0x2b958d]=_0x37e334;fs[_0x4a48a9(0x117)](_0x347aef,this[_0x4a48a9(0x12d)][_0x2b958d]);}static[a46_0x5b61fd(0x108)](_0x1c30f0){const _0x521816=a46_0x5b61fd,_0x3e4d3f={};_0x3e4d3f[_0x521816(0x105)]=_0x521816(0x137);const _0x5372b9=_0x3e4d3f;try{const _0x5ee65e=process[_0x521816(0x135)],_0x2ac4a6=path['join'](TestDetails[_0x521816(0xfe)](),_0x5ee65e+_0x521816(0x142));let _0x1c6c97=[];_0x2ac4a6&&fs['existsSync'](_0x2ac4a6)&&(_0x1c6c97=JSON[_0x521816(0x10d)](fs[_0x521816(0x143)](_0x2ac4a6)['toString']())),!_0x1c6c97[_0x521816(0x12f)](_0x24f71f=>_0x24f71f[_0x521816(0x114)]===_0x1c30f0[_0x521816(0x114)])&&(_0x1c6c97[_0x521816(0x12a)](_0x1c30f0),fs[_0x521816(0x117)](_0x2ac4a6,JSON[_0x521816(0x13e)](_0x1c6c97)));}catch(_0x586495){logger[_0x521816(0x110)](_0x5372b9[_0x521816(0x105)],_0x586495);}}static['getTraceFilePaths'](){const _0x1f9a6b=a46_0x5b61fd,_0x16702b={};_0x16702b[_0x1f9a6b(0xfd)]=_0x1f9a6b(0x142),_0x16702b[_0x1f9a6b(0x11f)]=_0x1f9a6b(0x125);const _0x128406=_0x16702b,_0x17c71d=[];try{const _0x205a91=TestDetails['getTraceZipDir']();if(_0x205a91&&!fs[_0x1f9a6b(0x11e)](_0x205a91))return _0x17c71d;const _0x351782=fs[_0x1f9a6b(0xff)](_0x205a91);_0x351782[_0x1f9a6b(0xfc)](_0x541994=>{const _0x2e84ae=_0x1f9a6b;if(_0x541994&&_0x541994[_0x2e84ae(0x104)](_0x128406[_0x2e84ae(0xfd)])){const _0x502acd=JSON[_0x2e84ae(0x10d)](fs[_0x2e84ae(0x143)](path[_0x2e84ae(0x12b)](_0x205a91,_0x541994))[_0x2e84ae(0x145)]());_0x17c71d[_0x2e84ae(0x12a)](..._0x502acd);}});}catch(_0x492cc0){logger[_0x1f9a6b(0x110)](util[_0x1f9a6b(0x109)](_0x128406[_0x1f9a6b(0x11f)],_0x492cc0));}const _0x1e8707={};return _0x17c71d[_0x1f9a6b(0xfc)](_0x30be38=>{const _0x58e069=_0x1f9a6b;_0x1e8707[_0x30be38[_0x58e069(0x114)]]=_0x30be38;}),Object[_0x1f9a6b(0x115)](_0x1e8707);}static[a46_0x5b61fd(0x133)](_0x4c9c3f,_0x2ebc55){const _0x278bcc=a46_0x5b61fd,_0x1b204e={};_0x1b204e[_0x278bcc(0x129)]='.browserstack',_0x1b204e[_0x278bcc(0x139)]=_0x278bcc(0x102);const _0x27f1a7=_0x1b204e;try{const _0x24244a=path[_0x278bcc(0x12b)](helper['homedir'](),_0x27f1a7['wYWwW']);if(!fs[_0x278bcc(0x11e)](_0x24244a)){const _0x2336ac={};_0x2336ac[_0x278bcc(0x128)]=!![],fs[_0x278bcc(0x149)](_0x24244a,_0x2336ac);}fs[_0x278bcc(0x111)](path[_0x278bcc(0x12b)](_0x24244a,_0x278bcc(0x146)+_0x2ebc55+'.txt'),_0x4c9c3f+'\x0a',_0x27f1a7[_0x278bcc(0x139)]);}catch(_0x149a5f){console[_0x278bcc(0x110)](_0x278bcc(0x107)+_0x149a5f[_0x278bcc(0x140)]);}}}function a46_0xfaaf(_0x50beb7,_0x2429bb){const _0x29c8b7=a46_0x29c8();return a46_0xfaaf=function(_0xfaaf27,_0x37635f){_0xfaaf27=_0xfaaf27-0xfc;let _0x4619ae=_0x29c8b7[_0xfaaf27];return _0x4619ae;},a46_0xfaaf(_0x50beb7,_0x2429bb);}module['exports']=TestDetails;