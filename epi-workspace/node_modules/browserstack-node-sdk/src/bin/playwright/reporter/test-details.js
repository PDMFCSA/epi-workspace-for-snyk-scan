const a42_0x6afc34=a42_0x3772;function a42_0x3772(_0x474160,_0x2e322d){const _0xe68455=a42_0xe684();return a42_0x3772=function(_0x377255,_0x156dd0){_0x377255=_0x377255-0x108;let _0x1ae122=_0xe68455[_0x377255];return _0x1ae122;},a42_0x3772(_0x474160,_0x2e322d);}(function(_0x4b77bd,_0x3a0b9d){const _0x5f047d=a42_0x3772,_0x2deb7e=_0x4b77bd();while(!![]){try{const _0x314f32=-parseInt(_0x5f047d(0x14f))/0x1*(-parseInt(_0x5f047d(0x11b))/0x2)+parseInt(_0x5f047d(0x138))/0x3*(parseInt(_0x5f047d(0x10f))/0x4)+parseInt(_0x5f047d(0x162))/0x5*(-parseInt(_0x5f047d(0x14c))/0x6)+parseInt(_0x5f047d(0x11c))/0x7+parseInt(_0x5f047d(0x12e))/0x8*(parseInt(_0x5f047d(0x158))/0x9)+parseInt(_0x5f047d(0x156))/0xa*(parseInt(_0x5f047d(0x11f))/0xb)+parseInt(_0x5f047d(0x161))/0xc*(-parseInt(_0x5f047d(0x12c))/0xd);if(_0x314f32===_0x3a0b9d)break;else _0x2deb7e['push'](_0x2deb7e['shift']());}catch(_0x38078f){_0x2deb7e['push'](_0x2deb7e['shift']());}}}(a42_0xe684,0x4627a));const fs=require('fs'),path=require(a42_0x6afc34(0x115)),{v4:uuidv4}=require(a42_0x6afc34(0x108)),{TEMP_STORE_DIR_NAME}=require('../../../helpers/test-observability/constants'),{nestedKeyValue}=require('../../../helpers/helper'),logger=require(a42_0x6afc34(0x110))[a42_0x6afc34(0x118)],{getLogDir}=require('../../../helpers/logger'),util=require(a42_0x6afc34(0x128)),helper=require('../../../helpers/helper');function a42_0xe684(){const _0x3396ee=['testId','getTestUUID','util','BS_TESTOPS_BUILD_HASHED_ID','message','SYTbi','1586UOdeAJ','getTestDetails','36152koSmGr','traceZipPaths','setAccessibilityPlatformValidation','getDirPath','trace_','utf8','getAccessibilityPlatformValidation','project','getTestIdFromTestInfo','readFileSync','7122SkEyAf','LOMDI','Error\x20handling\x20trace\x20file\x20paths:\x20','format','QQwHL','amtUY','getStoreDirName','getStoreDirPath','getFilePath','Error\x20reading\x20trace\x20file\x20paths:\x20%s','existsSync','nIseI','PJDvm','parse','push','join','appendFileSync','rmSync','UPQqq','error','2718816JfBHxP','force','DDAHR','3493kZUTAc','recursive','env','default','BEYWc','toString','ADkjk','30tqkOKD','stringify','927zkJKvG','shutdown','.txt','getTraceZipDir','fRmGU','values','_projectId','some','writeFileSync','12720mmQvKB','5MxVYcm','getProjectIdFromTestInfo','uuid','tests','dBgjz','_platformDetails.json','forEach','addTraceFilePath','retry','168yNaAyJ','../../../helpers/logger','LmXDX','.json','mkdirSync','Error\x20writing\x20trace\x20file:\x20','path','pid','setTestDetails','winstonLogger','koobT','.browserstack','14uANCdm','1862784jHKWCg','zGmpX','nOomB','51634LxyKwI','__projectId','_test','HevQm','filePath','SOUvT','_traceZipPaths.json'];a42_0xe684=function(){return _0x3396ee;};return a42_0xe684();}class TestDetails{static [a42_0x6afc34(0x109)]={};static['setup'](){const _0x5c061e=a42_0x6afc34;this[_0x5c061e(0x159)]();const _0x47e185={};_0x47e185[_0x5c061e(0x150)]=!![],fs['mkdirSync'](this[_0x5c061e(0x131)](),_0x47e185);const _0x480fad={};_0x480fad[_0x5c061e(0x150)]=!![],fs['mkdirSync'](this[_0x5c061e(0x15b)](),_0x480fad);}static[a42_0x6afc34(0x13e)](){const _0x585802=a42_0x6afc34,_0x153ee1={};_0x153ee1['SOUvT']=function(_0x5cc338,_0x1215c1){return _0x5cc338+_0x1215c1;},_0x153ee1['QQwHL']=function(_0x49dab8,_0x4fc16e){return _0x49dab8+_0x4fc16e;};const _0x2d6410=_0x153ee1;return _0x2d6410[_0x585802(0x124)](_0x2d6410[_0x585802(0x13c)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x585802(0x129)]);}static[a42_0x6afc34(0x13f)](){const _0x4ee656=a42_0x6afc34,_0x91878d={'SYTbi':function(_0x1515e6){return _0x1515e6();},'dBgjz':function(_0x9eea8f,_0x407ba2){return _0x9eea8f+_0x407ba2;},'RRlrk':function(_0x771a68,_0x4e65a3){return _0x771a68+_0x4e65a3;},'HnFuq':_0x4ee656(0x152)};return path[_0x4ee656(0x147)](_0x91878d[_0x4ee656(0x12b)](getLogDir),_0x91878d[_0x4ee656(0x10a)](_0x91878d['RRlrk'](TEMP_STORE_DIR_NAME,'-'),process[_0x4ee656(0x151)][_0x4ee656(0x129)]||_0x91878d['HnFuq']));}static[a42_0x6afc34(0x15b)](){const _0x18f361=a42_0x6afc34,_0xfed732={};_0xfed732['MaTDf']=_0x18f361(0x12f);const _0x1902e7=_0xfed732;return path[_0x18f361(0x147)](this[_0x18f361(0x13f)](),_0x1902e7['MaTDf']);}static['getDirPath'](){const _0x26f736=a42_0x6afc34,_0x40eac0={'UPQqq':function(_0x3eec20){return _0x3eec20();}};return path['join'](_0x40eac0[_0x26f736(0x14a)](getLogDir),TestDetails[_0x26f736(0x13e)]());}static[a42_0x6afc34(0x140)](_0x573f6a){const _0xb82983=a42_0x6afc34,_0x1e8732={};_0x1e8732['MMgCm']=function(_0xce0575,_0x3165ca){return _0xce0575+_0x3165ca;},_0x1e8732[_0xb82983(0x119)]=_0xb82983(0x112);const _0x5165a2=_0x1e8732;return path[_0xb82983(0x147)](this[_0xb82983(0x131)](),_0x5165a2['MMgCm'](_0x573f6a,_0x5165a2[_0xb82983(0x119)]));}static['getTestRunIdFromTestInfo'](_0x1f641d){const _0x4fc367=a42_0x6afc34,_0x2b69c3={};_0x2b69c3['nOomB']=function(_0x5dbfb3,_0x36b5bc){return _0x5dbfb3+_0x36b5bc;},_0x2b69c3[_0x4fc367(0x139)]=function(_0x47fb9c,_0x517925){return _0x47fb9c+_0x517925;};const _0x3b66cc=_0x2b69c3;return _0x3b66cc['nOomB'](_0x3b66cc['LOMDI'](_0x3b66cc[_0x4fc367(0x139)](_0x3b66cc[_0x4fc367(0x11e)](this['getProjectIdFromTestInfo'](_0x1f641d),'-'),this[_0x4fc367(0x136)](_0x1f641d)),'-'),_0x1f641d[_0x4fc367(0x10e)]);}static[a42_0x6afc34(0x163)](_0x5e646d){const _0x4763a8=a42_0x6afc34,_0x2d5985={'amtUY':function(_0xb95a22,_0x5ba635,_0x3d3ec1){return _0xb95a22(_0x5ba635,_0x3d3ec1);},'HevQm':_0x4763a8(0x121),'fPUSW':_0x4763a8(0x15e),'cLziC':_0x4763a8(0x135),'LmXDX':_0x4763a8(0x120)};return _0x2d5985[_0x4763a8(0x13d)](nestedKeyValue,_0x5e646d,[_0x2d5985[_0x4763a8(0x122)],_0x2d5985['fPUSW']])||_0x2d5985[_0x4763a8(0x13d)](nestedKeyValue,_0x5e646d,[_0x2d5985['cLziC'],_0x2d5985[_0x4763a8(0x111)]]);}static[a42_0x6afc34(0x136)](_0x38acc5){const _0x902a75=a42_0x6afc34,_0x5abc60={'gpAUA':function(_0x5dd071,_0x119e0a,_0x5264f4){return _0x5dd071(_0x119e0a,_0x5264f4);},'fRmGU':_0x902a75(0x121)};return _0x5abc60['gpAUA'](nestedKeyValue,_0x38acc5,[_0x5abc60[_0x902a75(0x15c)],'id'])||_0x38acc5[_0x902a75(0x126)];}static[a42_0x6afc34(0x127)](_0x359fde){const _0x2746e2=a42_0x6afc34,_0xcc6295={'XjCfS':function(_0xdd6834,_0x5bf2e9){return _0xdd6834===_0x5bf2e9;},'nIseI':'string','yNCZl':function(_0x50e1dc){return _0x50e1dc();}};if(this['tests'][_0x359fde]&&_0xcc6295['XjCfS'](typeof this[_0x2746e2(0x109)][_0x359fde][_0x2746e2(0x108)],_0xcc6295[_0x2746e2(0x143)]))return this['tests'][_0x359fde][_0x2746e2(0x108)];const _0x2360fe=this[_0x2746e2(0x140)](_0x359fde);if(_0x2360fe&&fs['existsSync'](_0x2360fe)){const _0x493431=JSON[_0x2746e2(0x145)](fs[_0x2746e2(0x137)](_0x2360fe)[_0x2746e2(0x154)]());return this[_0x2746e2(0x109)][_0x359fde]=_0x493431,this['tests'][_0x359fde][_0x2746e2(0x108)];}return this[_0x2746e2(0x109)][_0x359fde]={'uuid':_0xcc6295['yNCZl'](uuidv4)},fs[_0x2746e2(0x160)](_0x2360fe,JSON[_0x2746e2(0x157)](this['tests'][_0x359fde])),this[_0x2746e2(0x109)][_0x359fde][_0x2746e2(0x108)];}static[a42_0x6afc34(0x134)](_0x333f96){const _0x240cc0=a42_0x6afc34,_0x126e8e=path[_0x240cc0(0x147)](this[_0x240cc0(0x131)](),_0x333f96+_0x240cc0(0x10b));if(_0x126e8e&&fs['existsSync'](_0x126e8e))return fs['readFileSync'](_0x126e8e)[_0x240cc0(0x154)]();}static[a42_0x6afc34(0x130)](_0x4f6bd8,_0x14fb61){const _0x535f14=a42_0x6afc34,_0x265985=path[_0x535f14(0x147)](this[_0x535f14(0x131)](),_0x14fb61+_0x535f14(0x10b));fs[_0x535f14(0x160)](_0x265985,_0x4f6bd8[_0x535f14(0x154)]());}static[a42_0x6afc34(0x159)](){const _0x1eb802=a42_0x6afc34,_0x109b33={};_0x109b33[_0x1eb802(0x150)]=!![],_0x109b33[_0x1eb802(0x14d)]=!![],fs[_0x1eb802(0x149)](this[_0x1eb802(0x131)](),_0x109b33);}static[a42_0x6afc34(0x12d)](_0x5c155b){const _0x3d514c=a42_0x6afc34;if(this[_0x3d514c(0x109)][_0x5c155b])return this[_0x3d514c(0x109)][_0x5c155b];const _0x39a99c=this[_0x3d514c(0x140)](_0x5c155b);if(_0x39a99c&&fs['existsSync'](_0x39a99c)){const _0x16b6f6=JSON[_0x3d514c(0x145)](fs[_0x3d514c(0x137)](_0x39a99c)[_0x3d514c(0x154)]());return this[_0x3d514c(0x109)][_0x5c155b]=_0x16b6f6,_0x16b6f6;}return{};}static[a42_0x6afc34(0x117)](_0x36a60b,_0x36f687){const _0x347a07=a42_0x6afc34,_0x5db4a1=this['getFilePath'](_0x36a60b);if(_0x5db4a1&&fs[_0x347a07(0x142)](_0x5db4a1)){const _0x4813db=JSON[_0x347a07(0x145)](fs[_0x347a07(0x137)](_0x5db4a1)[_0x347a07(0x154)]()),_0x2ec02={..._0x4813db,..._0x36f687};this[_0x347a07(0x109)][_0x36a60b]=_0x2ec02;}else this[_0x347a07(0x109)][_0x36a60b]=_0x36f687;fs[_0x347a07(0x160)](_0x5db4a1,this['tests'][_0x36a60b]);}static[a42_0x6afc34(0x10d)](_0x168a83){const _0x456f64=a42_0x6afc34,_0x52d262={};_0x52d262[_0x456f64(0x144)]=_0x456f64(0x13a);const _0x5a5e1e=_0x52d262;try{const _0x4a2d1e=process[_0x456f64(0x116)],_0x3e66e8=path[_0x456f64(0x147)](TestDetails['getTraceZipDir'](),_0x4a2d1e+_0x456f64(0x125));let _0x4f292b=[];_0x3e66e8&&fs[_0x456f64(0x142)](_0x3e66e8)&&(_0x4f292b=JSON[_0x456f64(0x145)](fs[_0x456f64(0x137)](_0x3e66e8)[_0x456f64(0x154)]())),!_0x4f292b[_0x456f64(0x15f)](_0x5d70fe=>_0x5d70fe['filePath']===_0x168a83['filePath'])&&(_0x4f292b[_0x456f64(0x146)](_0x168a83),fs[_0x456f64(0x160)](_0x3e66e8,JSON[_0x456f64(0x157)](_0x4f292b)));}catch(_0x33f77b){logger[_0x456f64(0x14b)](_0x5a5e1e[_0x456f64(0x144)],_0x33f77b);}}static['getTraceFilePaths'](){const _0x20bcae=a42_0x6afc34,_0x573b30={};_0x573b30[_0x20bcae(0x14e)]=_0x20bcae(0x125),_0x573b30[_0x20bcae(0x153)]=_0x20bcae(0x141);const _0x2407bf=_0x573b30,_0x155402=[];try{const _0x4dba28=TestDetails[_0x20bcae(0x15b)]();if(_0x4dba28&&!fs['existsSync'](_0x4dba28))return _0x155402;const _0x509312=fs['readdirSync'](_0x4dba28);_0x509312[_0x20bcae(0x10c)](_0x4830f0=>{const _0x4e5db4=_0x20bcae;if(_0x4830f0&&_0x4830f0['endsWith'](_0x2407bf[_0x4e5db4(0x14e)])){const _0x3c6fe7=JSON[_0x4e5db4(0x145)](fs['readFileSync'](path[_0x4e5db4(0x147)](_0x4dba28,_0x4830f0))[_0x4e5db4(0x154)]());_0x155402[_0x4e5db4(0x146)](..._0x3c6fe7);}});}catch(_0x3c4049){logger[_0x20bcae(0x14b)](util[_0x20bcae(0x13b)](_0x2407bf[_0x20bcae(0x153)],_0x3c4049));}const _0x4477e6={};return _0x155402[_0x20bcae(0x10c)](_0x526dc8=>{const _0x3ce996=_0x20bcae;_0x4477e6[_0x526dc8[_0x3ce996(0x123)]]=_0x526dc8;}),Object[_0x20bcae(0x15d)](_0x4477e6);}static['appendToTracePaths'](_0x96efe9,_0x851034){const _0x43cff9=a42_0x6afc34,_0x31391e={};_0x31391e[_0x43cff9(0x11d)]=_0x43cff9(0x11a),_0x31391e[_0x43cff9(0x155)]=_0x43cff9(0x133);const _0x1837f4=_0x31391e;try{const _0x40fc37=path[_0x43cff9(0x147)](helper['homedir'](),_0x1837f4['zGmpX']);if(!fs[_0x43cff9(0x142)](_0x40fc37)){const _0x535126={};_0x535126[_0x43cff9(0x150)]=!![],fs[_0x43cff9(0x113)](_0x40fc37,_0x535126);}fs[_0x43cff9(0x148)](path[_0x43cff9(0x147)](_0x40fc37,_0x43cff9(0x132)+_0x851034+_0x43cff9(0x15a)),_0x96efe9+'\x0a',_0x1837f4[_0x43cff9(0x155)]);}catch(_0x29ca5d){console['error'](_0x43cff9(0x114)+_0x29ca5d[_0x43cff9(0x12a)]);}}}module['exports']=TestDetails;