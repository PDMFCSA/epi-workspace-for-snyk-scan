const a42_0x212aed=a42_0x3b6f;function a42_0x3b6f(_0x413943,_0xee7752){const _0xa1bd76=a42_0xa1bd();return a42_0x3b6f=function(_0x3b6f32,_0xf9f97b){_0x3b6f32=_0x3b6f32-0x1be;let _0x3cc71f=_0xa1bd76[_0x3b6f32];return _0x3cc71f;},a42_0x3b6f(_0x413943,_0xee7752);}function a42_0xa1bd(){const _0x115ec0=['RpBFA','vGckR','error','writeFileSync','exports','pid','107154ZyiQfQ','getFilePath','addTraceFilePath','jxbQS','287220ZeSxsL','.json','values','Error\x20reading\x20trace\x20file\x20paths:\x20%s','DAtik','homedir','kKGsB','getTestIdFromTestInfo','join','stringify','hfPNy','tests','getTestUUID','forEach','BS_TESTOPS_BUILD_HASHED_ID','toString','force','YYMqs','winstonLogger','getAccessibilityPlatformValidation','setAccessibilityPlatformValidation','../../../helpers/helper','15241303kgviGz','.browserstack','mkdirSync','default','1044262vSsfaL','getStoreDirPath','AKNRs','Error\x20handling\x20trace\x20file\x20paths:\x20','traceZipPaths','_traceZipPaths.json','getTestDetails','recursive','appendToTracePaths','endsWith','1ZNRttd','retry','__projectId','existsSync','aAVMM','message','apPvi','env','utf8','../../../helpers/logger','IhgjZ','yFNNF','mIyuB','BFZHb','7ahHfwb','../../../helpers/test-observability/constants','appendFileSync','path','project','_platformDetails.json','filePath','util','EMNEX','yFwuW','parse','UcxxF','getTraceZipDir','some','readFileSync','3845392gXsjTo','shutdown','NtOOo','readdirSync','push','IlLPC','aEVMJ','.txt','tHDGU','150GMgAJT','uuid','nmnQY','1898520vgttfz','getProjectIdFromTestInfo','trace_','10ReKqew','BIZzy','getDirPath','1678617SlqBdO'];a42_0xa1bd=function(){return _0x115ec0;};return a42_0xa1bd();}(function(_0x47051e,_0x5db100){const _0x145413=a42_0x3b6f,_0x37c8c8=_0x47051e();while(!![]){try{const _0x4fd3f3=-parseInt(_0x145413(0x1e9))/0x1*(-parseInt(_0x145413(0x1df))/0x2)+-parseInt(_0x145413(0x212))/0x3+-parseInt(_0x145413(0x1c5))/0x4+-parseInt(_0x145413(0x20f))/0x5*(parseInt(_0x145413(0x1c1))/0x6)+parseInt(_0x145413(0x1f7))/0x7*(-parseInt(_0x145413(0x206))/0x8)+parseInt(_0x145413(0x218))/0x9+parseInt(_0x145413(0x215))/0xa*(parseInt(_0x145413(0x1db))/0xb);if(_0x4fd3f3===_0x5db100)break;else _0x37c8c8['push'](_0x37c8c8['shift']());}catch(_0x4979a9){_0x37c8c8['push'](_0x37c8c8['shift']());}}}(a42_0xa1bd,0x5b188));const fs=require('fs'),path=require(a42_0x212aed(0x1fa)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require(a42_0x212aed(0x1f8)),{nestedKeyValue}=require(a42_0x212aed(0x1da)),logger=require(a42_0x212aed(0x1f2))[a42_0x212aed(0x1d7)],{getLogDir}=require('../../../helpers/logger'),util=require(a42_0x212aed(0x1fe)),helper=require(a42_0x212aed(0x1da));class TestDetails{static [a42_0x212aed(0x1d0)]={};static['setup'](){const _0x84bbb3=a42_0x212aed;this[_0x84bbb3(0x207)]();const _0x529dcb={};_0x529dcb[_0x84bbb3(0x1e6)]=!![],fs[_0x84bbb3(0x1dd)](this[_0x84bbb3(0x217)](),_0x529dcb);const _0xdd83a9={};_0xdd83a9[_0x84bbb3(0x1e6)]=!![],fs[_0x84bbb3(0x1dd)](this[_0x84bbb3(0x203)](),_0xdd83a9);}static['getStoreDirName'](){const _0x4e8a2f=a42_0x212aed,_0x244490={};_0x244490[_0x4e8a2f(0x1c4)]=function(_0x1d5076,_0x9cee8){return _0x1d5076+_0x9cee8;};const _0x77827e=_0x244490;return _0x77827e[_0x4e8a2f(0x1c4)](_0x77827e[_0x4e8a2f(0x1c4)](TEMP_STORE_DIR_NAME,'-'),process[_0x4e8a2f(0x1f0)][_0x4e8a2f(0x1d3)]);}static[a42_0x212aed(0x1e0)](){const _0x26ed77=a42_0x212aed,_0x274a4f={'aEVMJ':function(_0x42cfcb){return _0x42cfcb();},'IhgjZ':function(_0x1d2532,_0x2cdb1d){return _0x1d2532+_0x2cdb1d;},'ipsyo':_0x26ed77(0x1de)};return path[_0x26ed77(0x1cd)](_0x274a4f[_0x26ed77(0x20c)](getLogDir),_0x274a4f[_0x26ed77(0x1f3)](_0x274a4f[_0x26ed77(0x1f3)](TEMP_STORE_DIR_NAME,'-'),process[_0x26ed77(0x1f0)]['BS_TESTOPS_BUILD_HASHED_ID']||_0x274a4f['ipsyo']));}static['getTraceZipDir'](){const _0xfca73d=a42_0x212aed,_0x3e0c81={};_0x3e0c81[_0xfca73d(0x20b)]=_0xfca73d(0x1e3);const _0x274041=_0x3e0c81;return path['join'](this[_0xfca73d(0x1e0)](),_0x274041['IlLPC']);}static[a42_0x212aed(0x217)](){const _0x3af11b=a42_0x212aed,_0x221a49={'aAVMM':function(_0x3a1036){return _0x3a1036();}};return path[_0x3af11b(0x1cd)](_0x221a49[_0x3af11b(0x1ed)](getLogDir),TestDetails['getStoreDirName']());}static[a42_0x212aed(0x1c2)](_0x356dc0){const _0x11bed1=a42_0x212aed,_0x3c0d34={};_0x3c0d34[_0x11bed1(0x1ff)]=function(_0x546fc2,_0x2c3744){return _0x546fc2+_0x2c3744;},_0x3c0d34[_0x11bed1(0x1cf)]=_0x11bed1(0x1c6);const _0x453fe0=_0x3c0d34;return path[_0x11bed1(0x1cd)](this[_0x11bed1(0x217)](),_0x453fe0[_0x11bed1(0x1ff)](_0x356dc0,_0x453fe0[_0x11bed1(0x1cf)]));}static['getTestRunIdFromTestInfo'](_0x1395ff){const _0x369df0=a42_0x212aed,_0x395bd9={};_0x395bd9[_0x369df0(0x200)]=function(_0x15e4bd,_0x843b13){return _0x15e4bd+_0x843b13;},_0x395bd9['yFNNF']=function(_0x105dad,_0x1fa2fc){return _0x105dad+_0x1fa2fc;},_0x395bd9[_0x369df0(0x1e1)]=function(_0x34a1af,_0x2bcecb){return _0x34a1af+_0x2bcecb;},_0x395bd9[_0x369df0(0x219)]=function(_0x55a5cc,_0x449516){return _0x55a5cc+_0x449516;};const _0xad42d=_0x395bd9;return _0xad42d[_0x369df0(0x200)](_0xad42d[_0x369df0(0x1f4)](_0xad42d[_0x369df0(0x1e1)](_0xad42d[_0x369df0(0x219)](this[_0x369df0(0x213)](_0x1395ff),'-'),this[_0x369df0(0x1cc)](_0x1395ff)),'-'),_0x1395ff[_0x369df0(0x1ea)]);}static['getProjectIdFromTestInfo'](_0x39af5b){const _0x5e7b18=a42_0x212aed,_0x1f2dea={'UcxxF':function(_0x12af1f,_0x1b633c,_0x4d6315){return _0x12af1f(_0x1b633c,_0x4d6315);},'gbzNT':'_test','YYMqs':'_projectId','BIZzy':_0x5e7b18(0x1fb),'BFZHb':_0x5e7b18(0x1eb)};return _0x1f2dea[_0x5e7b18(0x202)](nestedKeyValue,_0x39af5b,[_0x1f2dea['gbzNT'],_0x1f2dea[_0x5e7b18(0x1d6)]])||_0x1f2dea['UcxxF'](nestedKeyValue,_0x39af5b,[_0x1f2dea[_0x5e7b18(0x216)],_0x1f2dea[_0x5e7b18(0x1f6)]]);}static['getTestIdFromTestInfo'](_0x14e5ed){const _0x38ce90=a42_0x212aed,_0x39c75f={'NtOOo':function(_0x2c3c5f,_0x4ac7de,_0x77b518){return _0x2c3c5f(_0x4ac7de,_0x77b518);},'apPvi':'_test'};return _0x39c75f[_0x38ce90(0x208)](nestedKeyValue,_0x14e5ed,[_0x39c75f[_0x38ce90(0x1ef)],'id'])||_0x14e5ed['testId'];}static[a42_0x212aed(0x1d1)](_0x267801){const _0x16de0b=a42_0x212aed,_0x568d61={'TFOsM':function(_0x2b7455,_0xa66639){return _0x2b7455===_0xa66639;},'tHDGU':'string','ZEFjD':function(_0x3d447f){return _0x3d447f();}};if(this[_0x16de0b(0x1d0)][_0x267801]&&_0x568d61['TFOsM'](typeof this['tests'][_0x267801][_0x16de0b(0x210)],_0x568d61[_0x16de0b(0x20e)]))return this[_0x16de0b(0x1d0)][_0x267801][_0x16de0b(0x210)];const _0x407fff=this[_0x16de0b(0x1c2)](_0x267801);if(_0x407fff&&fs['existsSync'](_0x407fff)){const _0x1d4677=JSON[_0x16de0b(0x201)](fs[_0x16de0b(0x205)](_0x407fff)[_0x16de0b(0x1d4)]());return this['tests'][_0x267801]=_0x1d4677,this['tests'][_0x267801][_0x16de0b(0x210)];}return this['tests'][_0x267801]={'uuid':_0x568d61['ZEFjD'](uuidv4)},fs[_0x16de0b(0x1be)](_0x407fff,JSON[_0x16de0b(0x1ce)](this[_0x16de0b(0x1d0)][_0x267801])),this[_0x16de0b(0x1d0)][_0x267801][_0x16de0b(0x210)];}static[a42_0x212aed(0x1d8)](_0x133463){const _0x284a6d=a42_0x212aed,_0x812149=path[_0x284a6d(0x1cd)](this['getDirPath'](),_0x133463+_0x284a6d(0x1fc));if(_0x812149&&fs[_0x284a6d(0x1ec)](_0x812149))return fs[_0x284a6d(0x205)](_0x812149)[_0x284a6d(0x1d4)]();}static[a42_0x212aed(0x1d9)](_0x561aac,_0x2f666e){const _0x101bcd=a42_0x212aed,_0x5f0e82=path[_0x101bcd(0x1cd)](this[_0x101bcd(0x217)](),_0x2f666e+_0x101bcd(0x1fc));fs[_0x101bcd(0x1be)](_0x5f0e82,_0x561aac[_0x101bcd(0x1d4)]());}static[a42_0x212aed(0x207)](){const _0x5c2c95=a42_0x212aed,_0x543d35={};_0x543d35['recursive']=!![],_0x543d35[_0x5c2c95(0x1d5)]=!![],fs['rmSync'](this[_0x5c2c95(0x217)](),_0x543d35);}static[a42_0x212aed(0x1e5)](_0x3c366b){const _0x388916=a42_0x212aed;if(this[_0x388916(0x1d0)][_0x3c366b])return this['tests'][_0x3c366b];const _0x17ecad=this['getFilePath'](_0x3c366b);if(_0x17ecad&&fs[_0x388916(0x1ec)](_0x17ecad)){const _0x47bcba=JSON[_0x388916(0x201)](fs[_0x388916(0x205)](_0x17ecad)['toString']());return this['tests'][_0x3c366b]=_0x47bcba,_0x47bcba;}return{};}static['setTestDetails'](_0x3854ef,_0xa982c9){const _0x579a98=a42_0x212aed,_0x17aad9=this['getFilePath'](_0x3854ef);if(_0x17aad9&&fs['existsSync'](_0x17aad9)){const _0x1ba24d=JSON['parse'](fs[_0x579a98(0x205)](_0x17aad9)[_0x579a98(0x1d4)]()),_0x285a9c={..._0x1ba24d,..._0xa982c9};this[_0x579a98(0x1d0)][_0x3854ef]=_0x285a9c;}else this[_0x579a98(0x1d0)][_0x3854ef]=_0xa982c9;fs[_0x579a98(0x1be)](_0x17aad9,this[_0x579a98(0x1d0)][_0x3854ef]);}static[a42_0x212aed(0x1c3)](_0xdbe479){const _0x38ec64=a42_0x212aed,_0x361a46={};_0x361a46[_0x38ec64(0x1c9)]=_0x38ec64(0x1e2);const _0x4c595f=_0x361a46;try{const _0x405004=process[_0x38ec64(0x1c0)],_0x538d5d=path['join'](TestDetails[_0x38ec64(0x203)](),_0x405004+_0x38ec64(0x1e4));let _0x27ba0c=[];_0x538d5d&&fs[_0x38ec64(0x1ec)](_0x538d5d)&&(_0x27ba0c=JSON['parse'](fs['readFileSync'](_0x538d5d)[_0x38ec64(0x1d4)]())),!_0x27ba0c[_0x38ec64(0x204)](_0x4f9636=>_0x4f9636['filePath']===_0xdbe479[_0x38ec64(0x1fd)])&&(_0x27ba0c[_0x38ec64(0x20a)](_0xdbe479),fs[_0x38ec64(0x1be)](_0x538d5d,JSON[_0x38ec64(0x1ce)](_0x27ba0c)));}catch(_0x18a61e){logger[_0x38ec64(0x21b)](_0x4c595f[_0x38ec64(0x1c9)],_0x18a61e);}}static['getTraceFilePaths'](){const _0x50108a=a42_0x212aed,_0x2c992c={};_0x2c992c[_0x50108a(0x21a)]=_0x50108a(0x1e4),_0x2c992c[_0x50108a(0x1f5)]=_0x50108a(0x1c8);const _0x411589=_0x2c992c,_0x204950=[];try{const _0x27b545=TestDetails[_0x50108a(0x203)]();if(_0x27b545&&!fs[_0x50108a(0x1ec)](_0x27b545))return _0x204950;const _0x50b3db=fs[_0x50108a(0x209)](_0x27b545);_0x50b3db['forEach'](_0xa786f5=>{const _0x37a9ec=_0x50108a;if(_0xa786f5&&_0xa786f5[_0x37a9ec(0x1e8)](_0x411589[_0x37a9ec(0x21a)])){const _0x4e170b=JSON[_0x37a9ec(0x201)](fs[_0x37a9ec(0x205)](path[_0x37a9ec(0x1cd)](_0x27b545,_0xa786f5))['toString']());_0x204950[_0x37a9ec(0x20a)](..._0x4e170b);}});}catch(_0x15264f){logger[_0x50108a(0x21b)](util['format'](_0x411589[_0x50108a(0x1f5)],_0x15264f));}const _0x5cb86d={};return _0x204950[_0x50108a(0x1d2)](_0x1a9a51=>{const _0x5b924e=_0x50108a;_0x5cb86d[_0x1a9a51[_0x5b924e(0x1fd)]]=_0x1a9a51;}),Object[_0x50108a(0x1c7)](_0x5cb86d);}static[a42_0x212aed(0x1e7)](_0x406350,_0x4f6cb9){const _0x5eab62=a42_0x212aed,_0x4fdde8={};_0x4fdde8[_0x5eab62(0x1cb)]=_0x5eab62(0x1dc),_0x4fdde8[_0x5eab62(0x211)]=_0x5eab62(0x1f1);const _0x2fd398=_0x4fdde8;try{const _0x407d94=path['join'](helper[_0x5eab62(0x1ca)](),_0x2fd398['kKGsB']);if(!fs['existsSync'](_0x407d94)){const _0xcbfd2e={};_0xcbfd2e[_0x5eab62(0x1e6)]=!![],fs[_0x5eab62(0x1dd)](_0x407d94,_0xcbfd2e);}fs[_0x5eab62(0x1f9)](path[_0x5eab62(0x1cd)](_0x407d94,_0x5eab62(0x214)+_0x4f6cb9+_0x5eab62(0x20d)),_0x406350+'\x0a',_0x2fd398[_0x5eab62(0x211)]);}catch(_0x4359dd){console['error']('Error\x20writing\x20trace\x20file:\x20'+_0x4359dd[_0x5eab62(0x1ee)]);}}}module[a42_0x212aed(0x1bf)]=TestDetails;