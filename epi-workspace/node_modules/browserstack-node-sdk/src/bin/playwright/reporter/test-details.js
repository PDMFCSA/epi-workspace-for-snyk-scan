const a47_0x1b8b44=a47_0x119a;function a47_0x119a(_0xa31ac7,_0x3baada){const _0x127388=a47_0x1273();return a47_0x119a=function(_0x119a0f,_0x38fe87){_0x119a0f=_0x119a0f-0x1d8;let _0xe7550c=_0x127388[_0x119a0f];return _0xe7550c;},a47_0x119a(_0xa31ac7,_0x3baada);}(function(_0x5daf40,_0x3640f0){const _0x16b070=a47_0x119a,_0x5abb64=_0x5daf40();while(!![]){try{const _0x1d9cef=-parseInt(_0x16b070(0x22b))/0x1*(parseInt(_0x16b070(0x1f8))/0x2)+parseInt(_0x16b070(0x235))/0x3*(parseInt(_0x16b070(0x1dd))/0x4)+-parseInt(_0x16b070(0x20c))/0x5*(-parseInt(_0x16b070(0x21c))/0x6)+parseInt(_0x16b070(0x206))/0x7*(parseInt(_0x16b070(0x1e4))/0x8)+-parseInt(_0x16b070(0x1ec))/0x9+-parseInt(_0x16b070(0x208))/0xa+parseInt(_0x16b070(0x230))/0xb;if(_0x1d9cef===_0x3640f0)break;else _0x5abb64['push'](_0x5abb64['shift']());}catch(_0x3dcbff){_0x5abb64['push'](_0x5abb64['shift']());}}}(a47_0x1273,0xc3001));const fs=require('fs'),path=require(a47_0x1b8b44(0x1dc)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require(a47_0x1b8b44(0x226)),{nestedKeyValue}=require('../../../helpers/helper'),logger=require(a47_0x1b8b44(0x1fa))[a47_0x1b8b44(0x207)],{getLogDir}=require(a47_0x1b8b44(0x1fa)),util=require(a47_0x1b8b44(0x1df)),helper=require(a47_0x1b8b44(0x21b));function a47_0x1273(){const _0x142a6d=['18152yGLZrE','testId','util','tests','_projectId','error','.json','3806872LHEduR','__projectId','exports','getTestIdFromTestInfo','Error\x20reading\x20trace\x20file\x20paths:\x20%s','setAccessibilityPlatformValidation','_platformDetails.json','getTraceFilePaths','5321763pyPClK','uuid','BwYOK','pid','shutdown','_test','getDirPath','join','toString','TSQWl','stringify','ZlcjJ','2244626eSDvyy','hqgCc','../../../helpers/logger','getTraceZipDir','writeFileSync','BQnaZ','_traceZipPaths.json','mkdirSync','UvpQH','getFilePath','HrDOa','Error\x20writing\x20trace\x20file:\x20','getStoreDirPath','BwfIb','14TeMggV','winstonLogger','8904960NnvDzu','lZerW','project','BPJOU','5800460HYWydE','forEach','readFileSync','BS_TESTOPS_BUILD_HASHED_ID','FNWMX','setTestDetails','getStoreDirName','dOjgV','readdirSync','setup','bowXG','parse','Error\x20handling\x20trace\x20file\x20paths:\x20','filePath','GnLgA','../../../helpers/helper','6DyeJGn','existsSync','endsWith','FklUw','retry','zIWqX','SWiIi','getProjectIdFromTestInfo','DSGIT','getTestUUID','../../../helpers/test-observability/constants','vSoeQ','addTraceFilePath','zPUJz','trace_','1NSSXkJ','.txt','appendFileSync','string','env','3618681ahSJet','recursive','values','hbBKz','default','636bLQolk','message','traceZipPaths','TcoGS','push','sPikS','path'];a47_0x1273=function(){return _0x142a6d;};return a47_0x1273();}class TestDetails{static [a47_0x1b8b44(0x1e0)]={};static[a47_0x1b8b44(0x215)](){const _0x2dca4d=a47_0x1b8b44;this[_0x2dca4d(0x1f0)]();const _0x4cc5dc={};_0x4cc5dc[_0x2dca4d(0x231)]=!![],fs['mkdirSync'](this[_0x2dca4d(0x1f2)](),_0x4cc5dc);const _0x2fadba={};_0x2fadba['recursive']=!![],fs['mkdirSync'](this[_0x2dca4d(0x1fb)](),_0x2fadba);}static[a47_0x1b8b44(0x212)](){const _0x464447=a47_0x1b8b44,_0x935366={};_0x935366['BPJOU']=function(_0x5c0c6e,_0x5234a3){return _0x5c0c6e+_0x5234a3;},_0x935366[_0x464447(0x205)]=function(_0xda4364,_0x166306){return _0xda4364+_0x166306;};const _0x5db729=_0x935366;return _0x5db729[_0x464447(0x20b)](_0x5db729[_0x464447(0x205)](TEMP_STORE_DIR_NAME,'-'),process[_0x464447(0x22f)][_0x464447(0x20f)]);}static[a47_0x1b8b44(0x204)](){const _0x33efd6=a47_0x1b8b44,_0x50e85d={};_0x50e85d[_0x33efd6(0x1d9)]=function(_0x47abd9,_0x2be187){return _0x47abd9+_0x2be187;},_0x50e85d['dOjgV']=function(_0x1b8a47,_0x2f285d){return _0x1b8a47+_0x2f285d;},_0x50e85d['DJPvu']=_0x33efd6(0x234);const _0x16cf4e=_0x50e85d;return path[_0x33efd6(0x1f3)](_0x16cf4e[_0x33efd6(0x1d9)](_0x16cf4e[_0x33efd6(0x213)](TEMP_STORE_DIR_NAME,'-'),process[_0x33efd6(0x22f)][_0x33efd6(0x20f)]||_0x16cf4e['DJPvu']));}static[a47_0x1b8b44(0x1fb)](){const _0x1f47fb=a47_0x1b8b44,_0x4c6348={};_0x4c6348['XjtRl']=_0x1f47fb(0x1d8);const _0x1b7ea4=_0x4c6348;return path[_0x1f47fb(0x1f3)](this[_0x1f47fb(0x204)](),_0x1b7ea4['XjtRl']);}static[a47_0x1b8b44(0x1f2)](){return TestDetails['getStoreDirName']();}static[a47_0x1b8b44(0x201)](_0x3af7b9){const _0x406edd=a47_0x1b8b44,_0x4e8c3a={};_0x4e8c3a[_0x406edd(0x200)]=function(_0x741934,_0x60db5f){return _0x741934+_0x60db5f;},_0x4e8c3a[_0x406edd(0x1fd)]=_0x406edd(0x1e3);const _0x2412dc=_0x4e8c3a;return path['join'](this[_0x406edd(0x1f2)](),_0x2412dc[_0x406edd(0x200)](_0x3af7b9,_0x2412dc[_0x406edd(0x1fd)]));}static['getTestRunIdFromTestInfo'](_0x453f4f){const _0x5513d6=a47_0x1b8b44,_0x454a21={};_0x454a21[_0x5513d6(0x21f)]=function(_0x183345,_0x3065ec){return _0x183345+_0x3065ec;},_0x454a21['GnLgA']=function(_0xb0fa32,_0x3145a4){return _0xb0fa32+_0x3145a4;};const _0x41aba0=_0x454a21;return _0x41aba0[_0x5513d6(0x21f)](_0x41aba0[_0x5513d6(0x21f)](_0x41aba0[_0x5513d6(0x21f)](_0x41aba0[_0x5513d6(0x21a)](this[_0x5513d6(0x223)](_0x453f4f),'-'),this[_0x5513d6(0x1e7)](_0x453f4f)),'-'),_0x453f4f[_0x5513d6(0x220)]);}static[a47_0x1b8b44(0x223)](_0x4a2c5b){const _0x553644=a47_0x1b8b44,_0x5b2192={'lZerW':function(_0x127993,_0x4795c4,_0x1b12b2){return _0x127993(_0x4795c4,_0x1b12b2);},'qFPbP':'_test','zPUJz':_0x553644(0x1e1),'TSQWl':function(_0x5800ed,_0xd3891c,_0xd0f269){return _0x5800ed(_0xd3891c,_0xd0f269);},'sPikS':_0x553644(0x20a),'ZlcjJ':_0x553644(0x1e5)};return _0x5b2192[_0x553644(0x209)](nestedKeyValue,_0x4a2c5b,[_0x5b2192['qFPbP'],_0x5b2192[_0x553644(0x229)]])||_0x5b2192[_0x553644(0x1f5)](nestedKeyValue,_0x4a2c5b,[_0x5b2192[_0x553644(0x1db)],_0x5b2192[_0x553644(0x1f7)]]);}static[a47_0x1b8b44(0x1e7)](_0x6fd754){const _0x151332=a47_0x1b8b44,_0x31c02b={'hqgCc':function(_0x320c4a,_0x372014,_0x119f98){return _0x320c4a(_0x372014,_0x119f98);},'bowXG':_0x151332(0x1f1)};return _0x31c02b[_0x151332(0x1f9)](nestedKeyValue,_0x6fd754,[_0x31c02b[_0x151332(0x216)],'id'])||_0x6fd754[_0x151332(0x1de)];}static[a47_0x1b8b44(0x225)](_0x4dbbd2){const _0x39aa89=a47_0x1b8b44,_0x1d72ff={'hbBKz':function(_0x5a5804,_0x4306de){return _0x5a5804===_0x4306de;},'HrDOa':_0x39aa89(0x22e),'zIWqX':function(_0x1587f){return _0x1587f();}};if(this['tests'][_0x4dbbd2]&&_0x1d72ff[_0x39aa89(0x233)](typeof this[_0x39aa89(0x1e0)][_0x4dbbd2][_0x39aa89(0x1ed)],_0x1d72ff[_0x39aa89(0x202)]))return this[_0x39aa89(0x1e0)][_0x4dbbd2][_0x39aa89(0x1ed)];const _0xddeff5=this['getFilePath'](_0x4dbbd2);if(_0xddeff5&&fs[_0x39aa89(0x21d)](_0xddeff5)){const _0x521f67=JSON[_0x39aa89(0x217)](fs[_0x39aa89(0x20e)](_0xddeff5)[_0x39aa89(0x1f4)]());return this['tests'][_0x4dbbd2]=_0x521f67,this[_0x39aa89(0x1e0)][_0x4dbbd2][_0x39aa89(0x1ed)];}return this[_0x39aa89(0x1e0)][_0x4dbbd2]={'uuid':_0x1d72ff[_0x39aa89(0x221)](uuidv4)},fs[_0x39aa89(0x1fc)](_0xddeff5,JSON['stringify'](this[_0x39aa89(0x1e0)][_0x4dbbd2])),this[_0x39aa89(0x1e0)][_0x4dbbd2][_0x39aa89(0x1ed)];}static['getAccessibilityPlatformValidation'](_0x2798e0){const _0x393edb=a47_0x1b8b44,_0x313b00=path[_0x393edb(0x1f3)](this[_0x393edb(0x1f2)](),_0x2798e0+_0x393edb(0x1ea));if(_0x313b00&&fs[_0x393edb(0x21d)](_0x313b00))return fs[_0x393edb(0x20e)](_0x313b00)['toString']();}static[a47_0x1b8b44(0x1e9)](_0x15cc11,_0x2cd805){const _0x599b32=a47_0x1b8b44,_0x7b5d89=path[_0x599b32(0x1f3)](this[_0x599b32(0x1f2)](),_0x2cd805+'_platformDetails.json');fs[_0x599b32(0x1fc)](_0x7b5d89,_0x15cc11[_0x599b32(0x1f4)]());}static[a47_0x1b8b44(0x1f0)](){const _0x413a24=a47_0x1b8b44,_0xd792ed={};_0xd792ed[_0x413a24(0x231)]=!![],_0xd792ed['force']=!![],fs['rmSync'](this[_0x413a24(0x1f2)](),_0xd792ed);}static['getTestDetails'](_0x2a9696){const _0xe3a62a=a47_0x1b8b44;if(this[_0xe3a62a(0x1e0)][_0x2a9696])return this[_0xe3a62a(0x1e0)][_0x2a9696];const _0x3a7901=this[_0xe3a62a(0x201)](_0x2a9696);if(_0x3a7901&&fs[_0xe3a62a(0x21d)](_0x3a7901)){const _0x38e1ab=JSON[_0xe3a62a(0x217)](fs[_0xe3a62a(0x20e)](_0x3a7901)[_0xe3a62a(0x1f4)]());return this['tests'][_0x2a9696]=_0x38e1ab,_0x38e1ab;}return{};}static[a47_0x1b8b44(0x211)](_0x2fae1d,_0x1821e5){const _0x357f48=a47_0x1b8b44,_0x35f011=this[_0x357f48(0x201)](_0x2fae1d);if(_0x35f011&&fs[_0x357f48(0x21d)](_0x35f011)){const _0x53bee6=JSON[_0x357f48(0x217)](fs[_0x357f48(0x20e)](_0x35f011)[_0x357f48(0x1f4)]()),_0x52db0f={..._0x53bee6,..._0x1821e5};this[_0x357f48(0x1e0)][_0x2fae1d]=_0x52db0f;}else this[_0x357f48(0x1e0)][_0x2fae1d]=_0x1821e5;fs[_0x357f48(0x1fc)](_0x35f011,this['tests'][_0x2fae1d]);}static[a47_0x1b8b44(0x228)](_0x502d4d){const _0x101330=a47_0x1b8b44,_0x47d387={};_0x47d387['vSoeQ']=_0x101330(0x218);const _0x16cd1f=_0x47d387;try{const _0x5421d2=process[_0x101330(0x1ef)],_0x1b0bc3=path[_0x101330(0x1f3)](TestDetails[_0x101330(0x1fb)](),_0x5421d2+_0x101330(0x1fe));let _0x3b65d0=[];_0x1b0bc3&&fs[_0x101330(0x21d)](_0x1b0bc3)&&(_0x3b65d0=JSON[_0x101330(0x217)](fs[_0x101330(0x20e)](_0x1b0bc3)[_0x101330(0x1f4)]())),!_0x3b65d0['some'](_0x34518c=>_0x34518c[_0x101330(0x219)]===_0x502d4d[_0x101330(0x219)])&&(_0x3b65d0[_0x101330(0x1da)](_0x502d4d),fs[_0x101330(0x1fc)](_0x1b0bc3,JSON[_0x101330(0x1f6)](_0x3b65d0)));}catch(_0x3c6890){logger[_0x101330(0x1e2)](_0x16cd1f[_0x101330(0x227)],_0x3c6890);}}static[a47_0x1b8b44(0x1eb)](){const _0xccd90=a47_0x1b8b44,_0x475891={};_0x475891['DSGIT']='_traceZipPaths.json',_0x475891[_0xccd90(0x210)]=_0xccd90(0x1e8);const _0x49113b=_0x475891,_0x3e5e05=[];try{const _0xc6aa2e=TestDetails[_0xccd90(0x1fb)]();if(_0xc6aa2e&&!fs[_0xccd90(0x21d)](_0xc6aa2e))return _0x3e5e05;const _0x4a94de=fs[_0xccd90(0x214)](_0xc6aa2e);_0x4a94de[_0xccd90(0x20d)](_0x51be28=>{const _0x336584=_0xccd90;if(_0x51be28&&_0x51be28[_0x336584(0x21e)](_0x49113b[_0x336584(0x224)])){const _0x5146f6=JSON['parse'](fs['readFileSync'](path['join'](_0xc6aa2e,_0x51be28))[_0x336584(0x1f4)]());_0x3e5e05[_0x336584(0x1da)](..._0x5146f6);}});}catch(_0x4e55cd){logger[_0xccd90(0x1e2)](util['format'](_0x49113b[_0xccd90(0x210)],_0x4e55cd));}const _0x1c9bc5={};return _0x3e5e05[_0xccd90(0x20d)](_0x1f2019=>{const _0x2b15b9=_0xccd90;_0x1c9bc5[_0x1f2019[_0x2b15b9(0x219)]]=_0x1f2019;}),Object[_0xccd90(0x232)](_0x1c9bc5);}static['appendToTracePaths'](_0x11b16c,_0x2c5d38){const _0x1f3e3c=a47_0x1b8b44,_0x41c90d={};_0x41c90d[_0x1f3e3c(0x222)]='.browserstack',_0x41c90d['BwYOK']='utf8';const _0x2d24d2=_0x41c90d;try{const _0x207f63=path[_0x1f3e3c(0x1f3)](helper['homedir'](),_0x2d24d2[_0x1f3e3c(0x222)]);if(!fs[_0x1f3e3c(0x21d)](_0x207f63)){const _0x422941={};_0x422941['recursive']=!![],fs[_0x1f3e3c(0x1ff)](_0x207f63,_0x422941);}fs[_0x1f3e3c(0x22d)](path[_0x1f3e3c(0x1f3)](_0x207f63,_0x1f3e3c(0x22a)+_0x2c5d38+_0x1f3e3c(0x22c)),_0x11b16c+'\x0a',_0x2d24d2[_0x1f3e3c(0x1ee)]);}catch(_0x41ff5e){console[_0x1f3e3c(0x1e2)](_0x1f3e3c(0x203)+_0x41ff5e[_0x1f3e3c(0x236)]);}}}module[a47_0x1b8b44(0x1e6)]=TestDetails;