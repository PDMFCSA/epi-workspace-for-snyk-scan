const a45_0x4302e7=a45_0x5d6c;(function(_0x328fe1,_0x2dfba8){const _0x1df5b6=a45_0x5d6c,_0x1cbf12=_0x328fe1();while(!![]){try{const _0x260ab7=-parseInt(_0x1df5b6(0x1a3))/0x1+parseInt(_0x1df5b6(0x19c))/0x2+parseInt(_0x1df5b6(0x168))/0x3*(-parseInt(_0x1df5b6(0x181))/0x4)+parseInt(_0x1df5b6(0x194))/0x5+parseInt(_0x1df5b6(0x1ac))/0x6+parseInt(_0x1df5b6(0x18a))/0x7*(-parseInt(_0x1df5b6(0x187))/0x8)+parseInt(_0x1df5b6(0x16c))/0x9*(-parseInt(_0x1df5b6(0x1a2))/0xa);if(_0x260ab7===_0x2dfba8)break;else _0x1cbf12['push'](_0x1cbf12['shift']());}catch(_0x27dc3e){_0x1cbf12['push'](_0x1cbf12['shift']());}}}(a45_0x5a6c,0xe2496));function a45_0x5a6c(){const _0x43280a=['AzSPz','readdirSync','15117471CmQEiB','_platformDetails.json','_test','existsSync','uuid','uttfH','default','Error\x20reading\x20trace\x20file\x20paths:\x20%s','vwQFH','QwCtN','project','push','BlhKb','_traceZipPaths.json','CirCV','join','__projectId','env','getStoreDirName','jRpzo','filePath','479072LTxgUM','iSosA','QQmTv','../../../helpers/test-observability/constants','getDirPath','utf8','2698232mlimfu','rmSync','../../../helpers/logger','7glJhhk','testId','BS_TESTOPS_BUILD_HASHED_ID','lHhBr','getStoreDirPath','trace_','abeSe','sZOjZ','BZLSJ','toString','3998445Ujbhnm','pid','path','string','Error\x20handling\x20trace\x20file\x20paths:\x20','error','getTraceZipDir','pbOkU','3438358OJmQVa','forEach','values','fiTVv','LLBoD','uhAII','10KtUGEf','199718guoUle','getProjectIdFromTestInfo','tests','message','shutdown','force','setup','mkdirSync','util','9497172pFQTtq','getFilePath','readFileSync','getTestDetails','some','parse','winstonLogger','retry','exports','appendToTracePaths','setAccessibilityPlatformValidation','SrZOG','appendFileSync','FxsPb','stringify','addTraceFilePath','EOKsv','writeFileSync','recursive','getTestUUID','vckVr','../../../helpers/helper','GnDCh','24sOQNDu','getTestIdFromTestInfo'];a45_0x5a6c=function(){return _0x43280a;};return a45_0x5a6c();}const fs=require('fs'),path=require(a45_0x4302e7(0x196)),{v4:uuidv4}=require(a45_0x4302e7(0x170)),{TEMP_STORE_DIR_NAME}=require(a45_0x4302e7(0x184)),{nestedKeyValue}=require(a45_0x4302e7(0x166)),logger=require('../../../helpers/logger')[a45_0x4302e7(0x1b2)],{getLogDir}=require(a45_0x4302e7(0x189)),util=require(a45_0x4302e7(0x1ab)),helper=require(a45_0x4302e7(0x166));function a45_0x5d6c(_0xf0657b,_0x963f09){const _0x5a6c80=a45_0x5a6c();return a45_0x5d6c=function(_0x5d6c1e,_0x21e743){_0x5d6c1e=_0x5d6c1e-0x158;let _0x298c31=_0x5a6c80[_0x5d6c1e];return _0x298c31;},a45_0x5d6c(_0xf0657b,_0x963f09);}class TestDetails{static [a45_0x4302e7(0x1a5)]={};static[a45_0x4302e7(0x1a9)](){const _0x4b77bd=a45_0x4302e7;this[_0x4b77bd(0x1a7)]();const _0x54c17a={};_0x54c17a[_0x4b77bd(0x163)]=!![],fs[_0x4b77bd(0x1aa)](this[_0x4b77bd(0x185)](),_0x54c17a);const _0x1e5c63={};_0x1e5c63['recursive']=!![],fs['mkdirSync'](this['getTraceZipDir'](),_0x1e5c63);}static['getStoreDirName'](){const _0x55c2a5=a45_0x4302e7,_0x525f4e={};_0x525f4e[_0x55c2a5(0x171)]=function(_0x34c0f4,_0x470a1b){return _0x34c0f4+_0x470a1b;},_0x525f4e[_0x55c2a5(0x182)]=function(_0x14b9e2,_0x231674){return _0x14b9e2+_0x231674;};const _0x4bd393=_0x525f4e;return _0x4bd393[_0x55c2a5(0x171)](_0x4bd393[_0x55c2a5(0x182)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x55c2a5(0x18c)]);}static[a45_0x4302e7(0x18e)](){const _0x49e904=a45_0x4302e7,_0x1c7241={};_0x1c7241[_0x49e904(0x192)]=function(_0x40f888,_0x568455){return _0x40f888+_0x568455;},_0x1c7241[_0x49e904(0x15e)]=_0x49e904(0x172);const _0x42c63d=_0x1c7241;return path['join'](_0x42c63d[_0x49e904(0x192)](_0x42c63d[_0x49e904(0x192)](TEMP_STORE_DIR_NAME,'-'),process[_0x49e904(0x17d)][_0x49e904(0x18c)]||_0x42c63d['FxsPb']));}static[a45_0x4302e7(0x19a)](){const _0x376026=a45_0x4302e7,_0x464bd6={};_0x464bd6[_0x376026(0x18d)]='traceZipPaths';const _0x24e790=_0x464bd6;return path[_0x376026(0x17b)](this[_0x376026(0x18e)](),_0x24e790['lHhBr']);}static['getDirPath'](){const _0x31a88a=a45_0x4302e7;return TestDetails[_0x31a88a(0x17e)]();}static[a45_0x4302e7(0x1ad)](_0x169c94){const _0x1e5f93=a45_0x4302e7,_0x3b22bd={};_0x3b22bd[_0x1e5f93(0x190)]=function(_0x50569a,_0x52d8ca){return _0x50569a+_0x52d8ca;},_0x3b22bd[_0x1e5f93(0x161)]='.json';const _0x3ffdc9=_0x3b22bd;return path['join'](this['getDirPath'](),_0x3ffdc9[_0x1e5f93(0x190)](_0x169c94,_0x3ffdc9['EOKsv']));}static['getTestRunIdFromTestInfo'](_0x5d2911){const _0x4ba907=a45_0x4302e7,_0x2a5f9a={};_0x2a5f9a[_0x4ba907(0x183)]=function(_0x117f09,_0x337eb7){return _0x117f09+_0x337eb7;},_0x2a5f9a['GnDCh']=function(_0x2048c2,_0x208927){return _0x2048c2+_0x208927;};const _0x4dac86=_0x2a5f9a;return _0x4dac86[_0x4ba907(0x183)](_0x4dac86[_0x4ba907(0x167)](_0x4dac86[_0x4ba907(0x183)](_0x4dac86[_0x4ba907(0x167)](this['getProjectIdFromTestInfo'](_0x5d2911),'-'),this['getTestIdFromTestInfo'](_0x5d2911)),'-'),_0x5d2911[_0x4ba907(0x158)]);}static[a45_0x4302e7(0x1a4)](_0x5cad65){const _0x4fd8db=a45_0x4302e7,_0x262cf8={'vwQFH':function(_0x46f336,_0x10be41,_0x5295e0){return _0x46f336(_0x10be41,_0x5295e0);},'pbOkU':_0x4fd8db(0x16e),'tRpnD':'_projectId','BlhKb':_0x4fd8db(0x176),'QwCtN':_0x4fd8db(0x17c)};return _0x262cf8['vwQFH'](nestedKeyValue,_0x5cad65,[_0x262cf8[_0x4fd8db(0x19b)],_0x262cf8['tRpnD']])||_0x262cf8[_0x4fd8db(0x174)](nestedKeyValue,_0x5cad65,[_0x262cf8[_0x4fd8db(0x178)],_0x262cf8[_0x4fd8db(0x175)]]);}static[a45_0x4302e7(0x169)](_0x61430a){const _0x5597aa=a45_0x4302e7,_0x1ef366={'AzSPz':function(_0x2be41b,_0x3627a5,_0x458331){return _0x2be41b(_0x3627a5,_0x458331);},'CirCV':_0x5597aa(0x16e)};return _0x1ef366[_0x5597aa(0x16a)](nestedKeyValue,_0x61430a,[_0x1ef366[_0x5597aa(0x17a)],'id'])||_0x61430a[_0x5597aa(0x18b)];}static[a45_0x4302e7(0x164)](_0x2a3948){const _0x324fc7=a45_0x4302e7,_0x228e19={'uhAII':function(_0x4a6efd,_0x2071cb){return _0x4a6efd===_0x2071cb;},'LLBoD':_0x324fc7(0x197),'xgvNF':function(_0x3dcd7a){return _0x3dcd7a();}};if(this[_0x324fc7(0x1a5)][_0x2a3948]&&_0x228e19[_0x324fc7(0x1a1)](typeof this[_0x324fc7(0x1a5)][_0x2a3948][_0x324fc7(0x170)],_0x228e19[_0x324fc7(0x1a0)]))return this[_0x324fc7(0x1a5)][_0x2a3948]['uuid'];const _0x545ae9=this[_0x324fc7(0x1ad)](_0x2a3948);if(_0x545ae9&&fs['existsSync'](_0x545ae9)){const _0x1cde10=JSON[_0x324fc7(0x1b1)](fs[_0x324fc7(0x1ae)](_0x545ae9)[_0x324fc7(0x193)]());return this[_0x324fc7(0x1a5)][_0x2a3948]=_0x1cde10,this[_0x324fc7(0x1a5)][_0x2a3948][_0x324fc7(0x170)];}return this[_0x324fc7(0x1a5)][_0x2a3948]={'uuid':_0x228e19['xgvNF'](uuidv4)},fs[_0x324fc7(0x162)](_0x545ae9,JSON[_0x324fc7(0x15f)](this[_0x324fc7(0x1a5)][_0x2a3948])),this['tests'][_0x2a3948][_0x324fc7(0x170)];}static['getAccessibilityPlatformValidation'](_0x3c7525){const _0x3bd640=a45_0x4302e7,_0xa45261=path['join'](this[_0x3bd640(0x185)](),_0x3c7525+_0x3bd640(0x16d));if(_0xa45261&&fs['existsSync'](_0xa45261))return fs[_0x3bd640(0x1ae)](_0xa45261)[_0x3bd640(0x193)]();}static[a45_0x4302e7(0x15b)](_0xc6cb80,_0x132bc5){const _0xd8e0bf=a45_0x4302e7,_0x1f8941=path[_0xd8e0bf(0x17b)](this[_0xd8e0bf(0x185)](),_0x132bc5+_0xd8e0bf(0x16d));fs[_0xd8e0bf(0x162)](_0x1f8941,_0xc6cb80[_0xd8e0bf(0x193)]());}static['shutdown'](){const _0x42a9c8=a45_0x4302e7,_0x356491={};_0x356491['recursive']=!![],_0x356491[_0x42a9c8(0x1a8)]=!![],fs[_0x42a9c8(0x188)](this[_0x42a9c8(0x185)](),_0x356491);}static[a45_0x4302e7(0x1af)](_0x3446c0){const _0x29c17a=a45_0x4302e7;if(this['tests'][_0x3446c0])return this[_0x29c17a(0x1a5)][_0x3446c0];const _0x5665df=this[_0x29c17a(0x1ad)](_0x3446c0);if(_0x5665df&&fs[_0x29c17a(0x16f)](_0x5665df)){const _0x13c3c1=JSON['parse'](fs['readFileSync'](_0x5665df)[_0x29c17a(0x193)]());return this[_0x29c17a(0x1a5)][_0x3446c0]=_0x13c3c1,_0x13c3c1;}return{};}static['setTestDetails'](_0x14e404,_0xc4b601){const _0xc7eab=a45_0x4302e7,_0x57411c=this['getFilePath'](_0x14e404);if(_0x57411c&&fs[_0xc7eab(0x16f)](_0x57411c)){const _0x9b6705=JSON[_0xc7eab(0x1b1)](fs['readFileSync'](_0x57411c)[_0xc7eab(0x193)]()),_0x19c70f={..._0x9b6705,..._0xc4b601};this['tests'][_0x14e404]=_0x19c70f;}else this[_0xc7eab(0x1a5)][_0x14e404]=_0xc4b601;fs[_0xc7eab(0x162)](_0x57411c,this[_0xc7eab(0x1a5)][_0x14e404]);}static[a45_0x4302e7(0x160)](_0x1abdcc){const _0x5473b1=a45_0x4302e7,_0x39d953={};_0x39d953['vckVr']=_0x5473b1(0x198);const _0x1d64e2=_0x39d953;try{const _0x42639c=process[_0x5473b1(0x195)],_0x332538=path[_0x5473b1(0x17b)](TestDetails[_0x5473b1(0x19a)](),_0x42639c+_0x5473b1(0x179));let _0x144070=[];_0x332538&&fs[_0x5473b1(0x16f)](_0x332538)&&(_0x144070=JSON[_0x5473b1(0x1b1)](fs[_0x5473b1(0x1ae)](_0x332538)[_0x5473b1(0x193)]())),!_0x144070[_0x5473b1(0x1b0)](_0x585511=>_0x585511[_0x5473b1(0x180)]===_0x1abdcc[_0x5473b1(0x180)])&&(_0x144070[_0x5473b1(0x177)](_0x1abdcc),fs[_0x5473b1(0x162)](_0x332538,JSON[_0x5473b1(0x15f)](_0x144070)));}catch(_0x29b1ef){logger[_0x5473b1(0x199)](_0x1d64e2[_0x5473b1(0x165)],_0x29b1ef);}}static['getTraceFilePaths'](){const _0x54d3db=a45_0x4302e7,_0x208bea={};_0x208bea[_0x54d3db(0x15c)]=_0x54d3db(0x179),_0x208bea[_0x54d3db(0x17f)]=_0x54d3db(0x173);const _0x120a3e=_0x208bea,_0x2ed020=[];try{const _0x14d52c=TestDetails[_0x54d3db(0x19a)]();if(_0x14d52c&&!fs[_0x54d3db(0x16f)](_0x14d52c))return _0x2ed020;const _0x2137c6=fs[_0x54d3db(0x16b)](_0x14d52c);_0x2137c6[_0x54d3db(0x19d)](_0x335948=>{const _0xfc7923=_0x54d3db;if(_0x335948&&_0x335948['endsWith'](_0x120a3e[_0xfc7923(0x15c)])){const _0x5a57d3=JSON[_0xfc7923(0x1b1)](fs[_0xfc7923(0x1ae)](path['join'](_0x14d52c,_0x335948))['toString']());_0x2ed020[_0xfc7923(0x177)](..._0x5a57d3);}});}catch(_0x14752b){logger[_0x54d3db(0x199)](util['format'](_0x120a3e[_0x54d3db(0x17f)],_0x14752b));}const _0x31d59b={};return _0x2ed020[_0x54d3db(0x19d)](_0x3fa991=>{const _0x1bb6a0=_0x54d3db;_0x31d59b[_0x3fa991[_0x1bb6a0(0x180)]]=_0x3fa991;}),Object[_0x54d3db(0x19e)](_0x31d59b);}static[a45_0x4302e7(0x15a)](_0x390915,_0x3594dc){const _0x271ced=a45_0x4302e7,_0x44ee99={};_0x44ee99[_0x271ced(0x19f)]='.browserstack',_0x44ee99[_0x271ced(0x191)]=_0x271ced(0x186);const _0xae90dc=_0x44ee99;try{const _0x4f1a47=path[_0x271ced(0x17b)](helper['homedir'](),_0xae90dc[_0x271ced(0x19f)]);if(!fs[_0x271ced(0x16f)](_0x4f1a47)){const _0x4df91a={};_0x4df91a['recursive']=!![],fs[_0x271ced(0x1aa)](_0x4f1a47,_0x4df91a);}fs[_0x271ced(0x15d)](path[_0x271ced(0x17b)](_0x4f1a47,_0x271ced(0x18f)+_0x3594dc+'.txt'),_0x390915+'\x0a',_0xae90dc[_0x271ced(0x191)]);}catch(_0x4b97b5){console['error']('Error\x20writing\x20trace\x20file:\x20'+_0x4b97b5[_0x271ced(0x1a6)]);}}}module[a45_0x4302e7(0x159)]=TestDetails;