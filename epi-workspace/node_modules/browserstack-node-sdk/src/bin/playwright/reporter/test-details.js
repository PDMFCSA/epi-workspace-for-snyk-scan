const a46_0x523b80=a46_0x16da;(function(_0x5f2360,_0x4f3a82){const _0x4f26b9=a46_0x16da,_0x92e758=_0x5f2360();while(!![]){try{const _0x290d66=parseInt(_0x4f26b9(0x1b7))/0x1+parseInt(_0x4f26b9(0x1c5))/0x2+parseInt(_0x4f26b9(0x1ee))/0x3*(parseInt(_0x4f26b9(0x1ca))/0x4)+-parseInt(_0x4f26b9(0x1df))/0x5+parseInt(_0x4f26b9(0x1cb))/0x6*(parseInt(_0x4f26b9(0x1a3))/0x7)+-parseInt(_0x4f26b9(0x1c0))/0x8*(parseInt(_0x4f26b9(0x1aa))/0x9)+parseInt(_0x4f26b9(0x1f1))/0xa*(parseInt(_0x4f26b9(0x1da))/0xb);if(_0x290d66===_0x4f3a82)break;else _0x92e758['push'](_0x92e758['shift']());}catch(_0x33506b){_0x92e758['push'](_0x92e758['shift']());}}}(a46_0xf02c,0x768ed));const fs=require('fs'),path=require(a46_0x523b80(0x1af)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require('../../../helpers/test-observability/constants'),{nestedKeyValue}=require(a46_0x523b80(0x1bf)),logger=require('../../../helpers/logger')['winstonLogger'],{getLogDir}=require(a46_0x523b80(0x1e7)),util=require(a46_0x523b80(0x1a0)),helper=require(a46_0x523b80(0x1bf));class TestDetails{static [a46_0x523b80(0x1b8)]={};static[a46_0x523b80(0x1f2)](){const _0x273e78=a46_0x523b80;this['shutdown']();const _0x35bd9f={};_0x35bd9f['recursive']=!![],fs[_0x273e78(0x1e1)](this[_0x273e78(0x1d3)](),_0x35bd9f);const _0x35907d={};_0x35907d['recursive']=!![],fs[_0x273e78(0x1e1)](this[_0x273e78(0x1cc)](),_0x35907d);}static[a46_0x523b80(0x1b5)](){const _0x304cd1=a46_0x523b80,_0x5aa4ac={};_0x5aa4ac[_0x304cd1(0x1e6)]=function(_0x9adc3d,_0x113684){return _0x9adc3d+_0x113684;},_0x5aa4ac['HbNFV']=function(_0x1a98d3,_0x579f25){return _0x1a98d3+_0x579f25;};const _0x389f54=_0x5aa4ac;return _0x389f54['rcZTJ'](_0x389f54[_0x304cd1(0x1d5)](TEMP_STORE_DIR_NAME,'-'),process[_0x304cd1(0x1ae)][_0x304cd1(0x198)]);}static[a46_0x523b80(0x1eb)](){const _0x403dbc=a46_0x523b80,_0x1f2715={};_0x1f2715['EHrQy']=function(_0x164571,_0x36b1e0){return _0x164571+_0x36b1e0;},_0x1f2715['dZLms']=function(_0x3c4e6e,_0x1e9d9d){return _0x3c4e6e+_0x1e9d9d;},_0x1f2715['JMZkF']=_0x403dbc(0x1bb);const _0xf4b788=_0x1f2715;return path[_0x403dbc(0x1c9)](_0xf4b788[_0x403dbc(0x1f3)](_0xf4b788[_0x403dbc(0x197)](TEMP_STORE_DIR_NAME,'-'),process[_0x403dbc(0x1ae)]['BS_TESTOPS_BUILD_HASHED_ID']||_0xf4b788[_0x403dbc(0x1ed)]));}static['getTraceZipDir'](){const _0x1d423b=a46_0x523b80,_0x4e1eb4={};_0x4e1eb4[_0x1d423b(0x1ea)]=_0x1d423b(0x1bc);const _0x541444=_0x4e1eb4;return path[_0x1d423b(0x1c9)](this[_0x1d423b(0x1eb)](),_0x541444[_0x1d423b(0x1ea)]);}static[a46_0x523b80(0x1d3)](){return TestDetails['getStoreDirName']();}static[a46_0x523b80(0x1d0)](_0x2ac8de){const _0x4ec2f1=a46_0x523b80,_0x197b81={};_0x197b81['ZDgrL']=function(_0x17cb10,_0x32ae2d){return _0x17cb10+_0x32ae2d;},_0x197b81['kYuHM']=_0x4ec2f1(0x1a5);const _0xc80a88=_0x197b81;return path[_0x4ec2f1(0x1c9)](this[_0x4ec2f1(0x1d3)](),_0xc80a88[_0x4ec2f1(0x194)](_0x2ac8de,_0xc80a88['kYuHM']));}static[a46_0x523b80(0x1e9)](_0x3d0c92){const _0x2ee463=a46_0x523b80,_0x2849c9={};_0x2849c9[_0x2ee463(0x19f)]=function(_0x17a757,_0x394392){return _0x17a757+_0x394392;},_0x2849c9[_0x2ee463(0x1ce)]=function(_0x2792bc,_0x27bc7a){return _0x2792bc+_0x27bc7a;},_0x2849c9[_0x2ee463(0x1a1)]=function(_0x3678bd,_0x3fae35){return _0x3678bd+_0x3fae35;};const _0x175554=_0x2849c9;return _0x175554['mLJCS'](_0x175554[_0x2ee463(0x1ce)](_0x175554[_0x2ee463(0x1ce)](_0x175554[_0x2ee463(0x1a1)](this['getProjectIdFromTestInfo'](_0x3d0c92),'-'),this['getTestIdFromTestInfo'](_0x3d0c92)),'-'),_0x3d0c92[_0x2ee463(0x193)]);}static['getProjectIdFromTestInfo'](_0x584959){const _0x252fcb=a46_0x523b80,_0x37dc1e={'Bgznr':function(_0x4ab89f,_0x2e25a2,_0x3e695d){return _0x4ab89f(_0x2e25a2,_0x3e695d);},'mgeHT':'_test','RhHEJ':_0x252fcb(0x1a9),'boPNo':_0x252fcb(0x1c8),'ioVnH':_0x252fcb(0x1ac)};return _0x37dc1e[_0x252fcb(0x1de)](nestedKeyValue,_0x584959,[_0x37dc1e[_0x252fcb(0x1e0)],_0x37dc1e[_0x252fcb(0x1b9)]])||_0x37dc1e[_0x252fcb(0x1de)](nestedKeyValue,_0x584959,[_0x37dc1e[_0x252fcb(0x1dc)],_0x37dc1e[_0x252fcb(0x19b)]]);}static['getTestIdFromTestInfo'](_0x5671d0){const _0x59c7d6=a46_0x523b80,_0x658814={'GzIDa':function(_0x308efc,_0x563ced,_0x584911){return _0x308efc(_0x563ced,_0x584911);},'TTume':_0x59c7d6(0x1be)};return _0x658814[_0x59c7d6(0x1a7)](nestedKeyValue,_0x5671d0,[_0x658814[_0x59c7d6(0x1d4)],'id'])||_0x5671d0[_0x59c7d6(0x1c4)];}static[a46_0x523b80(0x1c7)](_0x48191a){const _0x114cdc=a46_0x523b80,_0x5e4600={'LdaXp':function(_0x4370bd,_0x3b5e20){return _0x4370bd===_0x3b5e20;},'rtoTb':'string','dOsnV':function(_0xa7b8c1){return _0xa7b8c1();}};if(this[_0x114cdc(0x1b8)][_0x48191a]&&_0x5e4600[_0x114cdc(0x1b0)](typeof this[_0x114cdc(0x1b8)][_0x48191a]['uuid'],_0x5e4600[_0x114cdc(0x1a6)]))return this[_0x114cdc(0x1b8)][_0x48191a][_0x114cdc(0x1ec)];const _0x9810cd=this[_0x114cdc(0x1d0)](_0x48191a);if(_0x9810cd&&fs[_0x114cdc(0x1b1)](_0x9810cd)){const _0x1629b3=JSON[_0x114cdc(0x19a)](fs['readFileSync'](_0x9810cd)[_0x114cdc(0x1e3)]());return this[_0x114cdc(0x1b8)][_0x48191a]=_0x1629b3,this['tests'][_0x48191a][_0x114cdc(0x1ec)];}return this[_0x114cdc(0x1b8)][_0x48191a]={'uuid':_0x5e4600[_0x114cdc(0x1e8)](uuidv4)},fs['writeFileSync'](_0x9810cd,JSON['stringify'](this['tests'][_0x48191a])),this[_0x114cdc(0x1b8)][_0x48191a][_0x114cdc(0x1ec)];}static[a46_0x523b80(0x1e5)](_0x4a3db8){const _0xd23f80=a46_0x523b80,_0x37816a=path['join'](this[_0xd23f80(0x1d3)](),_0x4a3db8+_0xd23f80(0x1f0));if(_0x37816a&&fs[_0xd23f80(0x1b1)](_0x37816a))return fs[_0xd23f80(0x1d7)](_0x37816a)[_0xd23f80(0x1e3)]();}static[a46_0x523b80(0x1d9)](_0x237251,_0x26a898){const _0x3bf092=a46_0x523b80,_0x21bc4b=path[_0x3bf092(0x1c9)](this[_0x3bf092(0x1d3)](),_0x26a898+_0x3bf092(0x1f0));fs[_0x3bf092(0x19c)](_0x21bc4b,_0x237251[_0x3bf092(0x1e3)]());}static[a46_0x523b80(0x1dd)](){const _0x59b633=a46_0x523b80,_0x27ca65={};_0x27ca65[_0x59b633(0x1a2)]=!![],_0x27ca65[_0x59b633(0x196)]=!![],fs[_0x59b633(0x1ab)](this[_0x59b633(0x1d3)](),_0x27ca65);}static[a46_0x523b80(0x1cf)](_0xc351b6){const _0x2d5a90=a46_0x523b80;if(this['tests'][_0xc351b6])return this[_0x2d5a90(0x1b8)][_0xc351b6];const _0x594c71=this[_0x2d5a90(0x1d0)](_0xc351b6);if(_0x594c71&&fs[_0x2d5a90(0x1b1)](_0x594c71)){const _0x4bb2ad=JSON['parse'](fs[_0x2d5a90(0x1d7)](_0x594c71)[_0x2d5a90(0x1e3)]());return this['tests'][_0xc351b6]=_0x4bb2ad,_0x4bb2ad;}return{};}static[a46_0x523b80(0x1b2)](_0x150d26,_0x1e6420){const _0xafb3bd=a46_0x523b80,_0x154370=this[_0xafb3bd(0x1d0)](_0x150d26);if(_0x154370&&fs[_0xafb3bd(0x1b1)](_0x154370)){const _0x91b5da=JSON[_0xafb3bd(0x19a)](fs[_0xafb3bd(0x1d7)](_0x154370)[_0xafb3bd(0x1e3)]()),_0x3c96da={..._0x91b5da,..._0x1e6420};this[_0xafb3bd(0x1b8)][_0x150d26]=_0x3c96da;}else this[_0xafb3bd(0x1b8)][_0x150d26]=_0x1e6420;fs[_0xafb3bd(0x19c)](_0x154370,this[_0xafb3bd(0x1b8)][_0x150d26]);}static[a46_0x523b80(0x1b4)](_0x9f1bb5){const _0x3b93cc=a46_0x523b80,_0x3d5674={};_0x3d5674[_0x3b93cc(0x1d2)]=_0x3b93cc(0x19e);const _0x581a8e=_0x3d5674;try{const _0x19783f=process[_0x3b93cc(0x1c6)],_0x49ab82=path[_0x3b93cc(0x1c9)](TestDetails['getTraceZipDir'](),_0x19783f+'_traceZipPaths.json');let _0x4ef746=[];_0x49ab82&&fs[_0x3b93cc(0x1b1)](_0x49ab82)&&(_0x4ef746=JSON[_0x3b93cc(0x19a)](fs[_0x3b93cc(0x1d7)](_0x49ab82)[_0x3b93cc(0x1e3)]())),!_0x4ef746['some'](_0x3631ad=>_0x3631ad[_0x3b93cc(0x1d6)]===_0x9f1bb5[_0x3b93cc(0x1d6)])&&(_0x4ef746[_0x3b93cc(0x1e2)](_0x9f1bb5),fs['writeFileSync'](_0x49ab82,JSON['stringify'](_0x4ef746)));}catch(_0x573143){logger[_0x3b93cc(0x1c1)](_0x581a8e[_0x3b93cc(0x1d2)],_0x573143);}}static[a46_0x523b80(0x1c3)](){const _0x1dde9f=a46_0x523b80,_0x38f831={};_0x38f831[_0x1dde9f(0x1d8)]='_traceZipPaths.json',_0x38f831[_0x1dde9f(0x1e4)]=_0x1dde9f(0x1db);const _0x1c51b3=_0x38f831,_0x5bb5cf=[];try{const _0x1da47e=TestDetails[_0x1dde9f(0x1cc)]();if(_0x1da47e&&!fs[_0x1dde9f(0x1b1)](_0x1da47e))return _0x5bb5cf;const _0x15c8f1=fs[_0x1dde9f(0x1c2)](_0x1da47e);_0x15c8f1[_0x1dde9f(0x1b6)](_0x2f215d=>{const _0x5705fb=_0x1dde9f;if(_0x2f215d&&_0x2f215d[_0x5705fb(0x1b3)](_0x1c51b3[_0x5705fb(0x1d8)])){const _0x325921=JSON['parse'](fs['readFileSync'](path[_0x5705fb(0x1c9)](_0x1da47e,_0x2f215d))[_0x5705fb(0x1e3)]());_0x5bb5cf['push'](..._0x325921);}});}catch(_0x2717e1){logger[_0x1dde9f(0x1c1)](util['format'](_0x1c51b3[_0x1dde9f(0x1e4)],_0x2717e1));}const _0x522c0b={};return _0x5bb5cf['forEach'](_0x57ecc8=>{const _0x5cab5b=_0x1dde9f;_0x522c0b[_0x57ecc8[_0x5cab5b(0x1d6)]]=_0x57ecc8;}),Object['values'](_0x522c0b);}static[a46_0x523b80(0x19d)](_0x24c6f6,_0x53905a){const _0x39c218=a46_0x523b80,_0x5ed54f={};_0x5ed54f[_0x39c218(0x1a8)]=_0x39c218(0x1ba),_0x5ed54f[_0x39c218(0x195)]=_0x39c218(0x1ef);const _0xafd15f=_0x5ed54f;try{const _0x53545b=path[_0x39c218(0x1c9)](helper[_0x39c218(0x1a4)](),_0xafd15f[_0x39c218(0x1a8)]);if(!fs[_0x39c218(0x1b1)](_0x53545b)){const _0x478119={};_0x478119['recursive']=!![],fs['mkdirSync'](_0x53545b,_0x478119);}fs[_0x39c218(0x1ad)](path['join'](_0x53545b,'trace_'+_0x53905a+_0x39c218(0x1d1)),_0x24c6f6+'\x0a',_0xafd15f[_0x39c218(0x195)]);}catch(_0x3b708e){console[_0x39c218(0x1c1)](_0x39c218(0x199)+_0x3b708e[_0x39c218(0x1cd)]);}}}function a46_0x16da(_0x2affd4,_0x14f3b6){const _0xf02c98=a46_0xf02c();return a46_0x16da=function(_0x16da3b,_0x27f63e){_0x16da3b=_0x16da3b-0x193;let _0x1c2b86=_0xf02c98[_0x16da3b];return _0x1c2b86;},a46_0x16da(_0x2affd4,_0x14f3b6);}module[a46_0x523b80(0x1bd)]=TestDetails;function a46_0xf02c(){const _0x2e6190=['4508VSqMJk','homedir','.json','rtoTb','GzIDa','grUyr','_projectId','4946778HsgtFR','rmSync','__projectId','appendFileSync','env','path','LdaXp','existsSync','setTestDetails','endsWith','addTraceFilePath','getStoreDirName','forEach','258203WoSkUy','tests','RhHEJ','.browserstack','default','traceZipPaths','exports','_test','../../../helpers/helper','8lBmvsZ','error','readdirSync','getTraceFilePaths','testId','1591030tfurzQ','pid','getTestUUID','project','join','2016eUGWoc','1242pubAFB','getTraceZipDir','message','feMyF','getTestDetails','getFilePath','.txt','kYZYg','getDirPath','TTume','HbNFV','filePath','readFileSync','ZvCLF','setAccessibilityPlatformValidation','25861JoTOef','Error\x20reading\x20trace\x20file\x20paths:\x20%s','boPNo','shutdown','Bgznr','3213580gOvCAF','mgeHT','mkdirSync','push','toString','DUhCk','getAccessibilityPlatformValidation','rcZTJ','../../../helpers/logger','dOsnV','getTestRunIdFromTestInfo','tIsUU','getStoreDirPath','uuid','JMZkF','1257eBJArV','utf8','_platformDetails.json','1190bdvRWp','setup','EHrQy','retry','ZDgrL','rsvMK','force','dZLms','BS_TESTOPS_BUILD_HASHED_ID','Error\x20writing\x20trace\x20file:\x20','parse','ioVnH','writeFileSync','appendToTracePaths','Error\x20handling\x20trace\x20file\x20paths:\x20','mLJCS','util','TCxwe','recursive'];a46_0xf02c=function(){return _0x2e6190;};return a46_0xf02c();}