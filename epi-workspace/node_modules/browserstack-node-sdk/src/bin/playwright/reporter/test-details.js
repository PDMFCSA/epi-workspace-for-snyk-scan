const a42_0x42700a=a42_0x33e4;(function(_0x25344c,_0x1f370d){const _0x5933bf=a42_0x33e4,_0x2a54ab=_0x25344c();while(!![]){try{const _0x58e59c=-parseInt(_0x5933bf(0x185))/0x1+-parseInt(_0x5933bf(0x177))/0x2*(parseInt(_0x5933bf(0x1bc))/0x3)+parseInt(_0x5933bf(0x16c))/0x4*(parseInt(_0x5933bf(0x17f))/0x5)+-parseInt(_0x5933bf(0x198))/0x6+parseInt(_0x5933bf(0x1b4))/0x7+-parseInt(_0x5933bf(0x166))/0x8+parseInt(_0x5933bf(0x192))/0x9;if(_0x58e59c===_0x1f370d)break;else _0x2a54ab['push'](_0x2a54ab['shift']());}catch(_0x2bb09a){_0x2a54ab['push'](_0x2a54ab['shift']());}}}(a42_0x16ed,0x5ebc6));function a42_0x16ed(){const _0x54f273=['xlpWm','qvpFH','xVmyL','traceZipPaths','27BXRHKK','message','getStoreDirName','getTestRunIdFromTestInfo','uuid','error','SiZwY','3939352jxZHSn','appendFileSync','parse','writeFileSync','arrDo','string','4CwHTsr','PSwYh','env','push','readFileSync','rmSync','setup','path','../../../helpers/helper','cwd','FIsvj','2818BcyHSY','project','NEWJL','getStoreDirPath','tests','recursive','setTestDetails','existsSync','3105325QdbxCf','stringify','filePath','qmSmf','BS_TESTOPS_BUILD_HASHED_ID','NIQzO','487542iuwuGT','util','zfqYS','dUFwH','Error\x20handling\x20trace\x20file\x20paths:\x20','readdirSync','forEach','_test','getProjectIdFromTestInfo','winstonLogger','join','_platformDetails.json','toString','8773191knWuZv','utf8','RSrnF','.txt','GPFrB','getTestIdFromTestInfo','4651716VqxOUU','Error\x20reading\x20trace\x20file\x20paths:\x20%s','Error\x20writing\x20trace\x20file:\x20','getFilePath','retry','testId','default','dirPath','traceZipDir','kGJKB','.json','split','getAccessibilityPlatformValidation','_projectId','appendToTracePaths','FMdgP','IGhzW','mkdirSync','HNGJq','vRkCV','hgLVt','TpDJz','getTraceFilePaths','pid','../../../helpers/test-observability/constants','Ktnwq','../../../helpers/logger','_traceZipPaths.json','3920714kYyyMB','getTraceZipDir','values','trace_'];a42_0x16ed=function(){return _0x54f273;};return a42_0x16ed();}const fs=require('fs'),path=require(a42_0x42700a(0x173)),{v4:uuidv4}=require('uuid'),{TEMP_STORE_DIR_NAME}=require(a42_0x42700a(0x1b0)),{nestedKeyValue}=require(a42_0x42700a(0x174)),logger=require(a42_0x42700a(0x1b2))[a42_0x42700a(0x18e)],util=require(a42_0x42700a(0x186)),helper=require('../../../helpers/helper');function a42_0x33e4(_0x253dc2,_0x5dee4b){const _0x16edd9=a42_0x16ed();return a42_0x33e4=function(_0x33e4ff,_0x179e67){_0x33e4ff=_0x33e4ff-0x163;let _0x519a20=_0x16edd9[_0x33e4ff];return _0x519a20;},a42_0x33e4(_0x253dc2,_0x5dee4b);}class TestDetails{static [a42_0x42700a(0x17b)]={};static ['dirPath']=path[a42_0x42700a(0x18f)](process[a42_0x42700a(0x175)](),TestDetails[a42_0x42700a(0x1be)]());static [a42_0x42700a(0x1a0)]=path['join'](TestDetails[a42_0x42700a(0x19f)],a42_0x42700a(0x1bb));static[a42_0x42700a(0x172)](){const _0x2cdcda=a42_0x42700a,_0x44bb30={};_0x44bb30['PSwYh']='3|1|4|2|0',_0x44bb30['Ktnwq']=_0x2cdcda(0x1bb);const _0x4f4ecb=_0x44bb30,_0x4b4889=_0x4f4ecb[_0x2cdcda(0x16d)][_0x2cdcda(0x1a3)]('|');let _0x3b8042=0x0;while(!![]){switch(_0x4b4889[_0x3b8042++]){case'0':const _0x2bdd43={};_0x2bdd43['recursive']=!![],fs['mkdirSync'](this['traceZipDir'],_0x2bdd43);continue;case'1':this[_0x2cdcda(0x1a0)]=path[_0x2cdcda(0x18f)](this[_0x2cdcda(0x19f)],_0x4f4ecb[_0x2cdcda(0x1b1)]);continue;case'2':const _0x26c9ed={};_0x26c9ed[_0x2cdcda(0x17c)]=!![],fs[_0x2cdcda(0x1a9)](this[_0x2cdcda(0x19f)],_0x26c9ed);continue;case'3':this[_0x2cdcda(0x19f)]=path[_0x2cdcda(0x18f)](process[_0x2cdcda(0x175)](),TestDetails[_0x2cdcda(0x1be)]());continue;case'4':this['shutdown']();continue;}break;}}static[a42_0x42700a(0x1be)](){const _0x52423d=a42_0x42700a,_0x335a5b={};_0x335a5b[_0x52423d(0x179)]=function(_0x58a40f,_0x13f55d){return _0x58a40f+_0x13f55d;},_0x335a5b[_0x52423d(0x1a1)]=function(_0x218e04,_0x14ae07){return _0x218e04+_0x14ae07;};const _0x21c4a6=_0x335a5b;return _0x21c4a6['NEWJL'](_0x21c4a6[_0x52423d(0x1a1)](TEMP_STORE_DIR_NAME,'-'),process[_0x52423d(0x16e)]['BS_TESTOPS_BUILD_HASHED_ID']);}static[a42_0x42700a(0x17a)](){const _0x489fd0=a42_0x42700a,_0x52b406={};_0x52b406['vRkCV']=function(_0x54b46b,_0x3e45d4){return _0x54b46b+_0x3e45d4;},_0x52b406[_0x489fd0(0x194)]=function(_0x4f3629,_0x1e8be9){return _0x4f3629+_0x1e8be9;},_0x52b406[_0x489fd0(0x184)]=_0x489fd0(0x19e);const _0x1cd075=_0x52b406;return path['join'](process[_0x489fd0(0x175)](),_0x1cd075[_0x489fd0(0x1ab)](_0x1cd075[_0x489fd0(0x194)](TEMP_STORE_DIR_NAME,'-'),process[_0x489fd0(0x16e)][_0x489fd0(0x183)]||_0x1cd075[_0x489fd0(0x184)]));}static[a42_0x42700a(0x1b5)](){const _0x5cb3be=a42_0x42700a,_0x42652a={};_0x42652a[_0x5cb3be(0x188)]=_0x5cb3be(0x1bb);const _0x6c1e08=_0x42652a;return path[_0x5cb3be(0x18f)](this[_0x5cb3be(0x17a)](),_0x6c1e08[_0x5cb3be(0x188)]);}static[a42_0x42700a(0x19b)](_0x14fc61){const _0x919fef=a42_0x42700a,_0x402598={};_0x402598[_0x919fef(0x16a)]=function(_0xa5c500,_0x30351a){return _0xa5c500+_0x30351a;},_0x402598['xlpWm']=_0x919fef(0x1a2);const _0x48de4e=_0x402598;return path['join'](this['dirPath'],_0x48de4e[_0x919fef(0x16a)](_0x14fc61,_0x48de4e[_0x919fef(0x1b8)]));}static[a42_0x42700a(0x1bf)](_0x4ad98b){const _0xd70179=a42_0x42700a,_0x12b58e={};_0x12b58e[_0xd70179(0x165)]=function(_0x285bab,_0x11591c){return _0x285bab+_0x11591c;},_0x12b58e[_0xd70179(0x176)]=function(_0x52bc25,_0x5b1446){return _0x52bc25+_0x5b1446;};const _0x447f63=_0x12b58e;return _0x447f63[_0xd70179(0x165)](_0x447f63[_0xd70179(0x165)](_0x447f63[_0xd70179(0x165)](_0x447f63[_0xd70179(0x176)](this['getProjectIdFromTestInfo'](_0x4ad98b),'-'),this[_0xd70179(0x197)](_0x4ad98b)),'-'),_0x4ad98b[_0xd70179(0x19c)]);}static[a42_0x42700a(0x18d)](_0x156c38){const _0x2c031c=a42_0x42700a,_0x2b6647={'cvywS':function(_0x49703e,_0xe008fb,_0xc2a3eb){return _0x49703e(_0xe008fb,_0xc2a3eb);},'qmSmf':_0x2c031c(0x18c),'zFaYL':_0x2c031c(0x1a5),'HNGJq':function(_0x5640ea,_0x527c18,_0x27a1b6){return _0x5640ea(_0x527c18,_0x27a1b6);},'YBoQr':_0x2c031c(0x178),'xVmyL':'__projectId'};return _0x2b6647['cvywS'](nestedKeyValue,_0x156c38,[_0x2b6647[_0x2c031c(0x182)],_0x2b6647['zFaYL']])||_0x2b6647[_0x2c031c(0x1aa)](nestedKeyValue,_0x156c38,[_0x2b6647['YBoQr'],_0x2b6647[_0x2c031c(0x1ba)]]);}static[a42_0x42700a(0x197)](_0x2a2237){const _0x543b44=a42_0x42700a,_0x391a32={'zfqYS':function(_0x56181e,_0x41973f,_0x30999e){return _0x56181e(_0x41973f,_0x30999e);},'OjvjR':_0x543b44(0x18c)};return _0x391a32[_0x543b44(0x187)](nestedKeyValue,_0x2a2237,[_0x391a32['OjvjR'],'id'])||_0x2a2237[_0x543b44(0x19d)];}static['getTestUUID'](_0x50808a){const _0x317f30=a42_0x42700a,_0x3da02c={'GPFrB':function(_0x1e5814,_0x202205){return _0x1e5814===_0x202205;},'gyawy':_0x317f30(0x16b),'adlYJ':function(_0x448d85){return _0x448d85();}};if(this[_0x317f30(0x17b)][_0x50808a]&&_0x3da02c[_0x317f30(0x196)](typeof this[_0x317f30(0x17b)][_0x50808a][_0x317f30(0x163)],_0x3da02c['gyawy']))return this[_0x317f30(0x17b)][_0x50808a][_0x317f30(0x163)];const _0x1f7b30=this[_0x317f30(0x19b)](_0x50808a);if(_0x1f7b30&&fs[_0x317f30(0x17e)](_0x1f7b30)){const _0x201654=JSON['parse'](fs[_0x317f30(0x170)](_0x1f7b30)[_0x317f30(0x191)]());return this[_0x317f30(0x17b)][_0x50808a]=_0x201654,this[_0x317f30(0x17b)][_0x50808a][_0x317f30(0x163)];}return this[_0x317f30(0x17b)][_0x50808a]={'uuid':_0x3da02c['adlYJ'](uuidv4)},fs[_0x317f30(0x169)](_0x1f7b30,JSON[_0x317f30(0x180)](this[_0x317f30(0x17b)][_0x50808a])),this[_0x317f30(0x17b)][_0x50808a][_0x317f30(0x163)];}static[a42_0x42700a(0x1a4)](_0x1f977a){const _0x1a7569=a42_0x42700a,_0x1f0dda=path[_0x1a7569(0x18f)](this[_0x1a7569(0x19f)],_0x1f977a+'_platformDetails.json');if(_0x1f0dda&&fs[_0x1a7569(0x17e)](_0x1f0dda))return fs[_0x1a7569(0x170)](_0x1f0dda)[_0x1a7569(0x191)]();}static['setAccessibilityPlatformValidation'](_0x3e532a,_0x1d583c){const _0x5e08a4=a42_0x42700a,_0xf02d65=path[_0x5e08a4(0x18f)](this[_0x5e08a4(0x19f)],_0x1d583c+_0x5e08a4(0x190));fs[_0x5e08a4(0x169)](_0xf02d65,_0x3e532a['toString']());}static['shutdown'](){const _0x237fd5=a42_0x42700a,_0x41117f={};_0x41117f['recursive']=!![],_0x41117f['force']=!![],fs[_0x237fd5(0x171)](this[_0x237fd5(0x19f)],_0x41117f);}static['getTestDetails'](_0x3f9cb2){const _0x54f549=a42_0x42700a;if(this[_0x54f549(0x17b)][_0x3f9cb2])return this['tests'][_0x3f9cb2];const _0x292ec2=this[_0x54f549(0x19b)](_0x3f9cb2);if(_0x292ec2&&fs['existsSync'](_0x292ec2)){const _0xf7bf9=JSON[_0x54f549(0x168)](fs[_0x54f549(0x170)](_0x292ec2)[_0x54f549(0x191)]());return this[_0x54f549(0x17b)][_0x3f9cb2]=_0xf7bf9,_0xf7bf9;}return{};}static[a42_0x42700a(0x17d)](_0x6da8a8,_0x5e11e4){const _0x15e6cf=a42_0x42700a,_0x2214a1=this['getFilePath'](_0x6da8a8);if(_0x2214a1&&fs['existsSync'](_0x2214a1)){const _0x26cc6c=JSON[_0x15e6cf(0x168)](fs['readFileSync'](_0x2214a1)[_0x15e6cf(0x191)]()),_0x2431cc={..._0x26cc6c,..._0x5e11e4};this[_0x15e6cf(0x17b)][_0x6da8a8]=_0x2431cc;}else this['tests'][_0x6da8a8]=_0x5e11e4;fs[_0x15e6cf(0x169)](_0x2214a1,this[_0x15e6cf(0x17b)][_0x6da8a8]);}static['addTraceFilePath'](_0x4fff5e){const _0x27cf5b=a42_0x42700a,_0x3fdd8f={};_0x3fdd8f[_0x27cf5b(0x1a8)]=_0x27cf5b(0x189);const _0x54d136=_0x3fdd8f;try{const _0x58dbc7=process[_0x27cf5b(0x1af)],_0x189d13=path[_0x27cf5b(0x18f)](TestDetails[_0x27cf5b(0x1b5)](),_0x58dbc7+_0x27cf5b(0x1b3));let _0x17fff2=[];_0x189d13&&fs[_0x27cf5b(0x17e)](_0x189d13)&&(_0x17fff2=JSON[_0x27cf5b(0x168)](fs['readFileSync'](_0x189d13)[_0x27cf5b(0x191)]())),!_0x17fff2['some'](_0x4033bc=>_0x4033bc[_0x27cf5b(0x181)]===_0x4fff5e[_0x27cf5b(0x181)])&&(_0x17fff2[_0x27cf5b(0x16f)](_0x4fff5e),fs[_0x27cf5b(0x169)](_0x189d13,JSON['stringify'](_0x17fff2)));}catch(_0x1297e2){logger[_0x27cf5b(0x164)](_0x54d136[_0x27cf5b(0x1a8)],_0x1297e2);}}static[a42_0x42700a(0x1ae)](){const _0x48fb2c=a42_0x42700a,_0x1fc7cc={};_0x1fc7cc[_0x48fb2c(0x1ad)]=_0x48fb2c(0x1b3),_0x1fc7cc[_0x48fb2c(0x1a7)]=_0x48fb2c(0x199);const _0x456c70=_0x1fc7cc,_0x427925=[];try{const _0x5a7a53=TestDetails[_0x48fb2c(0x1b5)]();if(_0x5a7a53&&!fs[_0x48fb2c(0x17e)](_0x5a7a53))return _0x427925;const _0x1c595f=fs[_0x48fb2c(0x18a)](_0x5a7a53);_0x1c595f[_0x48fb2c(0x18b)](_0x18ef36=>{const _0x2ebd1d=_0x48fb2c;if(_0x18ef36&&_0x18ef36['endsWith'](_0x456c70['TpDJz'])){const _0x5d5836=JSON['parse'](fs['readFileSync'](path[_0x2ebd1d(0x18f)](_0x5a7a53,_0x18ef36))[_0x2ebd1d(0x191)]());_0x427925[_0x2ebd1d(0x16f)](..._0x5d5836);}});}catch(_0x5f5e05){logger['error'](util['format'](_0x456c70['FMdgP'],_0x5f5e05));}const _0x383746={};return _0x427925[_0x48fb2c(0x18b)](_0x1976c7=>{const _0x531eb6=_0x48fb2c;_0x383746[_0x1976c7[_0x531eb6(0x181)]]=_0x1976c7;}),Object[_0x48fb2c(0x1b6)](_0x383746);}static[a42_0x42700a(0x1a6)](_0x448157,_0x583060){const _0x16b81e=a42_0x42700a,_0x536ae2={};_0x536ae2[_0x16b81e(0x1b9)]='.browserstack',_0x536ae2['hgLVt']=_0x16b81e(0x193);const _0x3dee03=_0x536ae2;try{const _0x2c0681=path[_0x16b81e(0x18f)](helper['homedir'](),_0x3dee03[_0x16b81e(0x1b9)]);if(!fs[_0x16b81e(0x17e)](_0x2c0681)){const _0x39ad52={};_0x39ad52[_0x16b81e(0x17c)]=!![],fs['mkdirSync'](_0x2c0681,_0x39ad52);}fs[_0x16b81e(0x167)](path['join'](_0x2c0681,_0x16b81e(0x1b7)+_0x583060+_0x16b81e(0x195)),_0x448157+'\x0a',_0x3dee03[_0x16b81e(0x1ac)]);}catch(_0x23947b){console[_0x16b81e(0x164)](_0x16b81e(0x19a)+_0x23947b[_0x16b81e(0x1bd)]);}}}module['exports']=TestDetails;