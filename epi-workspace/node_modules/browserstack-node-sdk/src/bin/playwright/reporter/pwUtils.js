const a45_0x133f06=a45_0x118c;(function(_0x22cad6,_0x4d2d53){const _0x5c2fb2=a45_0x118c,_0x1da073=_0x22cad6();while(!![]){try{const _0xe9cf94=-parseInt(_0x5c2fb2(0x15e))/0x1*(parseInt(_0x5c2fb2(0x13f))/0x2)+-parseInt(_0x5c2fb2(0x118))/0x3+parseInt(_0x5c2fb2(0xef))/0x4*(-parseInt(_0x5c2fb2(0x138))/0x5)+-parseInt(_0x5c2fb2(0x11a))/0x6*(parseInt(_0x5c2fb2(0xf6))/0x7)+parseInt(_0x5c2fb2(0x129))/0x8*(parseInt(_0x5c2fb2(0x14d))/0x9)+parseInt(_0x5c2fb2(0x14b))/0xa+parseInt(_0x5c2fb2(0xdc))/0xb;if(_0xe9cf94===_0x4d2d53)break;else _0x1da073['push'](_0x1da073['shift']());}catch(_0xcf2633){_0x1da073['push'](_0x1da073['shift']());}}}(a45_0x5b67,0x60390));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a45_0x133f06(0x11e)),PerformanceTester=require(a45_0x133f06(0x190)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a45_0x133f06(0x102)),helper=require('../../../helpers/helper'),path=require(a45_0x133f06(0x14f)),logger=require(a45_0x133f06(0x17f))[a45_0x133f06(0x15a)],SessionHandler=require(a45_0x133f06(0x134)),TestDetails=require(a45_0x133f06(0x162)),util=require(a45_0x133f06(0x169)),TestInfo=require(a45_0x133f06(0x13e));function a45_0x5b67(){const _0x40319f=['ubqZf','bZqPF','stack','sendTraceZip','setupBrowserDetails','@playwright/test/lib/common/configLoader.js','findNestedKey','.json','doo11ySync','processPageScreenshot','wsYTz','../../../helpers/test-observability/constants','IknUQ','WaKTM','basename','message','Arguments','map','Searching\x20for\x20key:\x20','playwright/lib/common/configLoader.js','START_TIME','\x20bytes','.zip','risYe','find','Total\x20duration\x20for\x20whole\x20build\x20is\x20','IdYUb','getTestIdentifier','calculatePerformance','omQKl','@playwright/test/lib/common/transform.js','toISOString','getConfigLoaderPath','2266224QHBLSW','size','30TMrvGu','getLoadUtilsPath','RVoPP','createReadStream','../../../helpers/test-observability/utils','playwright','addTraceFilePath','EjoCy','slice','compareVersions','rDsGo','1.38.0','getTestRunIdentifier','mtHXn','match','24gNRwHD','readdirSync','startsWith','../../v2/browserstackCLI','call','CJSMv','substr','brVyK','getTime','TbSdM','MeBab','../../../helpers/test-observability/sessionHandler','stopAndGenerate','miOFz','IPUnx','3604115XpKlaG','1.42.0','fNGHM','JAKVi','statSync','IKSHJ','../../v2/TestInfo','212358zWpqDF','LOIdL','LGtFu','onStepBegin','RjznU','TEST_ATTACHMENT','extname','ERROR','IqHva','QXxpp','LogCreated','isRunning','4522100NDvTmQ','LUjMQ','1311993tIAhHS','Error\x20in\x20sending\x20trace\x20file:\x20%s','path','tUkux','pWLAc','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','sckxh','glzXc','getFailureData','endsWith','bagoy','vlmyD','onTestBegin','winstonLogger','beforeWorkerHook','test','length','4TlrnlD','\x20in\x20attachments','KdQXT','toLowerCase','./test-details','\x20in\x20arguments','env','Knuig','KLqQo','PLAYWRIGHT','getForkProcessPath','util','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','zPxnR','tags','prototype','dFsrh','runner/projectUtils.js','ZKcvf','getProjectUtilsPath','lib','Found\x20key:\x20','WYGhC','JUzQv','TEST_LOG','error','iSjiJ','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','lRRFz','validateFilePath','performance-report-worker-','civoq','toString','../../../helpers/logger','getTransformPath','SbuSx','_projectId','GEhvW','trace','getPlaywrightLibPath','1.35.0','runner/loadUtils.js','testUId','Percentage\x20of\x20increased\x20time\x20is\x20','TQaNC','lEkPl','afterTestHook','Njcua','Trace\x20enabled','iSxfy','../../../helpers/performance/performance-tester','@playwright/test/lib/transform/transform.js','filter','attachments','19202139ZSQePT','JuebC','onStepEnd','eCZUb','Brdxq','includes','getTestTags','DGzER','vAuWf','debug','process.js','Gkuba','beforeTestHook','vLtDw','fisDE','wntzO','FCoqA','qMyWd','join','4ZQCIQN','Test\x20timeout\x20of','title','GSCVg','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','playwright/lib/transform/transform.js','zkEYe','476161AbeCfl'];a45_0x5b67=function(){return _0x40319f;};return a45_0x5b67();}let BrowserstackCLIInstance=null;function getBrowserstackCLI(){const _0x49d7bd=a45_0x133f06,_0xe82d0f={'FGUxN':function(_0x2a0c81,_0xa345f0){return _0x2a0c81(_0xa345f0);},'LOIdL':_0x49d7bd(0x12c)};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0xe82d0f['FGUxN'](require,_0xe82d0f[_0x49d7bd(0x140)])),BrowserstackCLIInstance;}function a45_0x118c(_0x52f8a6,_0x2166a4){const _0x5b670d=a45_0x5b67();return a45_0x118c=function(_0x118c5a,_0x58ad42){_0x118c5a=_0x118c5a-0xda;let _0x14682b=_0x5b670d[_0x118c5a];return _0x14682b;},a45_0x118c(_0x52f8a6,_0x2166a4);}const getTagsFromTitle=_0x255cf3=>{const _0x1af755=a45_0x133f06;return _0x255cf3[_0x1af755(0x128)](/@(\w+)/g)?.[_0x1af755(0x108)](_0x16ab5b=>_0x16ab5b[_0x1af755(0x122)](0x1))||[];};exports[a45_0x133f06(0xe2)]=_0x2c9205=>{const _0x4ece56=a45_0x133f06,_0x14b753={'CJSMv':function(_0x2cc325,_0xfe1784){return _0x2cc325(_0xfe1784);}};if(_0x2c9205[_0x4ece56(0x16c)])return _0x2c9205[_0x4ece56(0x16c)][_0x4ece56(0x108)](_0x6f7bbd=>_0x6f7bbd['startsWith']('@')?_0x6f7bbd[_0x4ece56(0x12f)](0x1):_0x6f7bbd);return _0x14b753[_0x4ece56(0x12e)](getTagsFromTitle,_0x2c9205[_0x4ece56(0xf1)]);},exports[a45_0x133f06(0x113)]=async()=>{const _0x35aa78=a45_0x133f06,_0x5a0404={'ZtHMs':function(_0x5c4295,_0x712260){return _0x5c4295-_0x712260;},'IqHva':'performance-reporter.html','SbuSx':'onBegin','XJhsF':'endSession','civoq':_0x35aa78(0x159),'RVoPP':'onTestEnd','lEkPl':_0x35aa78(0x142),'JAKVi':_0x35aa78(0xde),'TbSdM':_0x35aa78(0x15b),'zkEYe':'afterWorkerHook','EjoCy':_0x35aa78(0xe8),'wsYTz':_0x35aa78(0x18c),'Njcua':_0x35aa78(0xff),'ZKcvf':_0x35aa78(0x100),'BByiD':'sendSessionDetails','SYmIK':_0x35aa78(0xfb),'bagoy':'requestSpyCallback','fisDE':'sendTestLog','JUzQv':function(_0x5f3d7d,_0x9fc889){return _0x5f3d7d(_0x9fc889);},'WbHpk':function(_0xbaea57,_0x5bae10){return _0xbaea57/_0x5bae10;},'omQKl':function(_0x97880b,_0x518995){return _0x97880b(_0x518995);},'WYGhC':function(_0x254632,_0x1affe5){return _0x254632+_0x1affe5;},'Xjetg':function(_0xd3538f,_0x3f4a98){return _0xd3538f*_0x3f4a98;},'vlmyD':function(_0x35f655,_0x466763){return _0x35f655/_0x466763;},'IPUnx':function(_0x393967,_0x232be8){return _0x393967+_0x232be8;}};if(!process['env'][_0x35aa78(0x10b)])return;const _0xe76d6f=_0x5a0404['ZtHMs'](new Date()['getTime'](),new Date(process[_0x35aa78(0x164)]['START_TIME'])[_0x35aa78(0x131)]()),_0x47f6ec=await PerformanceTester[_0x35aa78(0x135)](_0x5a0404[_0x35aa78(0x147)],[_0x5a0404[_0x35aa78(0x181)],_0x5a0404['XJhsF'],_0x5a0404[_0x35aa78(0x17d)],_0x5a0404[_0x35aa78(0x11c)],_0x5a0404[_0x35aa78(0x18b)],_0x5a0404[_0x35aa78(0x13b)]]),_0x2a38fd=fs[_0x35aa78(0x12a)]('.'),_0x289227=_0x2a38fd[_0x35aa78(0xda)](_0x20f3e5=>_0x20f3e5['startsWith'](_0x35aa78(0x17c))&&_0x20f3e5[_0x35aa78(0x156)](_0x35aa78(0xfe))),_0x2b6bce=await PerformanceTester['calculateTimesFromMultipleFiles'](_0x289227,[_0x5a0404[_0x35aa78(0x132)],_0x5a0404[_0x35aa78(0xf5)],_0x5a0404[_0x35aa78(0x121)],_0x5a0404[_0x35aa78(0x101)],_0x5a0404[_0x35aa78(0x18d)],_0x5a0404[_0x35aa78(0x170)],_0x5a0404['BByiD'],_0x5a0404['SYmIK'],_0x5a0404[_0x35aa78(0x157)],_0x5a0404[_0x35aa78(0xea)]]);_0x5a0404['JUzQv'](debug,_0x35aa78(0x110)+_0x5a0404['WbHpk'](_0xe76d6f,0x3e8)+'\x20s'),_0x5a0404[_0x35aa78(0x114)](debug,_0x35aa78(0x152)+_0x5a0404[_0x35aa78(0x174)](_0x2b6bce,_0x47f6ec)),_0x5a0404[_0x35aa78(0x175)](debug,_0x35aa78(0x189)+_0x5a0404['Xjetg'](_0x5a0404[_0x35aa78(0x158)](_0x5a0404[_0x35aa78(0x137)](_0x2b6bce,_0x47f6ec),_0xe76d6f),0x64));},exports[a45_0x133f06(0x180)]=()=>{const _0x438957=a45_0x133f06,_0x2ab181={'qGtCf':function(_0x46e700,_0x52ff67){return _0x46e700(_0x52ff67);},'Knuig':function(_0x203eb5,_0x442520){return _0x203eb5>=_0x442520;},'TQaNC':'1.38.0','miOFz':_0x438957(0xf4),'FCoqA':_0x438957(0x11f),'KLqQo':function(_0x27c559,_0x4567af){return _0x27c559>=_0x4567af;},'KdQXT':_0x438957(0x186),'GEhvW':_0x438957(0x191),'rDsGo':'@playwright/test','IJZbh':_0x438957(0x115)},_0x4e3ea6=_0x2ab181['qGtCf'](getFrameworkVersion,FRAMEWORKS[_0x438957(0x167)]);if(_0x2ab181[_0x438957(0x165)](helper['compareVersions'](_0x4e3ea6,_0x2ab181[_0x438957(0x18a)]),0x0))return[_0x2ab181[_0x438957(0x136)],_0x2ab181[_0x438957(0xec)]];if(_0x2ab181[_0x438957(0x166)](helper['compareVersions'](_0x4e3ea6,_0x2ab181[_0x438957(0x160)]),0x0))return[_0x2ab181[_0x438957(0x183)],_0x2ab181['rDsGo']];return[_0x2ab181['IJZbh'],_0x2ab181[_0x438957(0x124)]];},exports[a45_0x133f06(0x117)]=()=>{const _0x529755=a45_0x133f06,_0xb516e={'lRRFz':function(_0x13dc53,_0x1123c1){return _0x13dc53(_0x1123c1);},'sckxh':function(_0x372246,_0x1e1345){return _0x372246>=_0x1e1345;},'bZqPF':_0x529755(0x125),'XLSpP':_0x529755(0x10a),'QXxpp':_0x529755(0x11f),'JuebC':_0x529755(0xfc),'zPxnR':'@playwright/test'},_0x2f49b6=_0xb516e[_0x529755(0x17a)](getFrameworkVersion,FRAMEWORKS[_0x529755(0x167)]);if(_0xb516e[_0x529755(0x153)](helper[_0x529755(0x123)](_0x2f49b6,_0xb516e[_0x529755(0xf8)]),0x0))return[_0xb516e['XLSpP'],_0xb516e[_0x529755(0x148)]];return[_0xb516e[_0x529755(0xdd)],_0xb516e[_0x529755(0x16b)]];},exports[a45_0x133f06(0x11b)]=()=>{const _0x431ccd=a45_0x133f06,_0x35de54={};_0x35de54['PJggx']=_0x431ccd(0x187);const _0x577c0c=_0x35de54;return helper[_0x431ccd(0x185)](_0x577c0c['PJggx']);},exports[a45_0x133f06(0x171)]=()=>{const _0xe64b20=a45_0x133f06,_0x1ca56d={};_0x1ca56d['vLtDw']=_0xe64b20(0x16f);const _0x5205f7=_0x1ca56d;return helper['getPlaywrightLibPath'](_0x5205f7[_0xe64b20(0xe9)]);},exports[a45_0x133f06(0x168)]=()=>{const _0x21dddc=a45_0x133f06,_0x494801={'LUjMQ':function(_0x5c2538,_0x38e4a4){return _0x5c2538(_0x38e4a4);},'risYe':function(_0x510aef,_0x50b0cf){return _0x510aef>=_0x50b0cf;},'WaKTM':_0x21dddc(0x125),'iSjiJ':_0x21dddc(0x172),'fNGHM':'common','brVyK':_0x21dddc(0xe6),'LBTsp':'test'},_0x3dc43d=_0x494801[_0x21dddc(0x14c)](getFrameworkVersion,FRAMEWORKS[_0x21dddc(0x167)]);if(_0x494801[_0x21dddc(0x10e)](helper[_0x21dddc(0x123)](_0x3dc43d,_0x494801[_0x21dddc(0x104)]),0x0))return path['join'](_0x494801['iSjiJ'],_0x494801[_0x21dddc(0x13a)],_0x494801[_0x21dddc(0x130)]);return path[_0x21dddc(0xee)](_0x494801['LBTsp'],_0x494801[_0x21dddc(0x178)],_0x494801[_0x21dddc(0x13a)],_0x494801[_0x21dddc(0x130)]);},exports[a45_0x133f06(0x155)]=(_0x5b45ec,{test_run_uuid:_0x3b6e4a})=>{const _0x402e5f=a45_0x133f06,_0x1ab878={'IKSHJ':_0x402e5f(0x146),'RjznU':_0x402e5f(0x176),'khlPx':function(_0x5058b2,_0x34b1e1){return _0x5058b2<=_0x34b1e1;},'qMyWd':function(_0x5cd5b6,_0x299c9d){return _0x5cd5b6(_0x299c9d);},'Brdxq':_0x402e5f(0xf0),'GSCVg':function(_0x1969e0,_0x1a9ea6){return _0x1969e0(_0x1a9ea6);},'glzXc':function(_0x423361,_0x20e317){return _0x423361>=_0x20e317;},'DGzER':_0x402e5f(0x139),'MeBab':function(_0x46357c,_0x15de62){return _0x46357c>_0x15de62;},'DkKNy':function(_0x5a6d41,_0x261782){return _0x5a6d41(_0x261782);},'kRIBc':function(_0x35dfc6,_0x35f3ca,_0x50546b){return _0x35dfc6(_0x35f3ca,_0x50546b);},'fcLRi':_0x402e5f(0x15c)};if(!_0x5b45ec||_0x1ab878['khlPx'](_0x5b45ec[_0x402e5f(0x15d)],0x0))return[];const _0x2d208c=_0x1ab878[_0x402e5f(0xed)](removeAnsiColors,_0x5b45ec[0x0][_0x402e5f(0x106)]);if(_0x2d208c[_0x402e5f(0x12b)](_0x1ab878[_0x402e5f(0xe0)])){const _0x178d60=_0x5b45ec[0x0],_0x2db826=_0x1ab878[_0x402e5f(0xf2)](getFrameworkVersion,FRAMEWORKS[_0x402e5f(0x167)]);if((!_0x178d60[_0x402e5f(0xf9)]||_0x1ab878[_0x402e5f(0x154)](_0x2db826,_0x1ab878[_0x402e5f(0xe3)]))&&_0x1ab878[_0x402e5f(0x133)](_0x5b45ec[_0x402e5f(0x15d)],0x1))return{'failureData':[{'backtrace':[_0x2d208c,_0x1ab878['DkKNy'](removeAnsiColors,_0x5b45ec[0x1][_0x402e5f(0xf9)])]}],'logs':_0x5b45ec[_0x402e5f(0x122)](0x2)[_0x402e5f(0x108)](_0x9c1f84=>{const _0x57b263=_0x402e5f;return{'timestamp':new Date()[_0x57b263(0x116)](),'level':_0x1ab878[_0x57b263(0x13d)],'message':''+_0x9c1f84['message'],'kind':_0x1ab878[_0x57b263(0x143)],'http_response':{},'test_run_uuid':_0x3b6e4a};})};}return{'failureData':_0x1ab878['kRIBc'](failureData,_0x5b45ec,_0x1ab878['fcLRi']),'logs':[]};},exports[a45_0x133f06(0x17b)]=_0x2cf196=>{const _0x4ce789=a45_0x133f06,_0x1fb8e1={};_0x1fb8e1['pkHDR']=function(_0x360754,_0x3b64e1){return _0x360754!==_0x3b64e1;},_0x1fb8e1[_0x4ce789(0x111)]=_0x4ce789(0x10d),_0x1fb8e1[_0x4ce789(0xe4)]=function(_0x5630c1,_0x3b4e47){return _0x5630c1>_0x3b4e47;};const _0x3eca34=_0x1fb8e1;if(_0x2cf196&&fs['existsSync'](_0x2cf196)){if(_0x3eca34['pkHDR'](path[_0x4ce789(0x145)](_0x2cf196)[_0x4ce789(0x161)](),_0x3eca34[_0x4ce789(0x111)]))return logger[_0x4ce789(0x177)](_0x4ce789(0x179)+_0x2cf196),![];const _0x1bea65=fs[_0x4ce789(0x13c)](_0x2cf196)[_0x4ce789(0x119)];if(_0x3eca34[_0x4ce789(0xe4)](_0x1bea65,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger['error'](_0x4ce789(0xf3)+_0x1bea65+_0x4ce789(0x10c)),![];return!![];}return![];},exports['findNestedKey']=(_0x243a48,_0x147cc8)=>{const _0x6dcbb1=a45_0x133f06,_0x4aafff={};_0x4aafff['qCfsj']=_0x6dcbb1(0x107);const _0x42e8af=_0x4aafff;logger['debug'](_0x6dcbb1(0x109)+_0x147cc8);if(_0x243a48&&_0x243a48[_0x6dcbb1(0xdb)]){const _0x1e0f91=_0x243a48[_0x6dcbb1(0xdb)][_0x6dcbb1(0x10f)](_0x435c74=>_0x435c74['name']===_0x6dcbb1(0x184));if(_0x1e0f91)return logger[_0x6dcbb1(0xe5)](_0x6dcbb1(0x173)+_0x147cc8+_0x6dcbb1(0x15f)),_0x1e0f91[_0x147cc8];}else{if(_0x243a48&&Object[_0x6dcbb1(0x16d)][_0x6dcbb1(0x17e)][_0x6dcbb1(0x12d)](_0x243a48)[_0x6dcbb1(0xe1)](_0x42e8af['qCfsj']))for(const _0x5ae457 of _0x243a48){if(_0x5ae457[_0x147cc8])return logger[_0x6dcbb1(0xe5)](_0x6dcbb1(0x173)+_0x147cc8+_0x6dcbb1(0x163)),_0x5ae457[_0x147cc8];}};return'';},exports['uploadTraceZip']=async(_0x3f3239,_0x524ea1)=>{const _0x339453=a45_0x133f06,_0x50796b={};_0x50796b[_0x339453(0xe7)]=_0x339453(0x149),_0x50796b[_0x339453(0x18f)]=_0x339453(0x144),_0x50796b[_0x339453(0xf7)]=_0x339453(0xfa),_0x50796b[_0x339453(0x103)]=_0x339453(0x14e);const _0x4f55d2=_0x50796b;try{const _0x1caaae={'event_type':_0x4f55d2['Gkuba'],'logs':[{'data':_0x3f3239?fs[_0x339453(0x11d)](_0x3f3239):'','test_run_uuid':_0x524ea1,'kind':_0x4f55d2['iSxfy'],'fileName':_0x3f3239?path[_0x339453(0x105)](_0x3f3239):''}]};return await SessionHandler['sendEventData'](_0x1caaae,0x0,_0x4f55d2[_0x339453(0xf7)]);}catch(_0x1ca541){logger[_0x339453(0x177)](util['format'](_0x4f55d2[_0x339453(0x103)],_0x1ca541));}},exports[a45_0x133f06(0xfa)]=async(_0x38b527,_0x302559)=>{const _0x297ef1=a45_0x133f06,_0x20ec28={'dFsrh':_0x297ef1(0x14f),'pWLAc':_0x297ef1(0x18e),'eCZUb':function(_0x44b532){return _0x44b532();},'yOyhl':'Error\x20in\x20sending\x20trace\x20file:\x20%s'};try{logger[_0x297ef1(0xe5)](_0x297ef1(0x16a)+_0x302559);let _0x331eed=await exports[_0x297ef1(0xfd)](_0x38b527,_0x20ec28[_0x297ef1(0x16e)]);if(exports[_0x297ef1(0x17b)](_0x331eed)){logger[_0x297ef1(0xe5)](_0x20ec28[_0x297ef1(0x151)]),_0x331eed=path['resolve'](_0x331eed);const _0x547818={};_0x547818[_0x297ef1(0x188)]=_0x302559,_0x547818['filePath']=_0x331eed;const _0x560cb2=_0x547818;_0x20ec28[_0x297ef1(0xdf)](getBrowserstackCLI)['getInstance']()[_0x297ef1(0x14a)]()?TestInfo[_0x297ef1(0x120)](_0x560cb2):TestDetails['addTraceFilePath'](_0x560cb2);};}catch(_0x3510be){logger[_0x297ef1(0x177)](util['format'](_0x20ec28['yOyhl'],_0x3510be));}},exports[a45_0x133f06(0x112)]=_0x2e68c7=>{const _0x4a7d2e=a45_0x133f06,_0x20e129={};_0x20e129[_0x4a7d2e(0x127)]=function(_0x2a23f1,_0x80820a){return _0x2a23f1+_0x80820a;},_0x20e129[_0x4a7d2e(0xeb)]=function(_0x2ff3e8,_0x131696){return _0x2ff3e8+_0x131696;};const _0x3b5b3e=_0x20e129;return _0x3b5b3e[_0x4a7d2e(0x127)](_0x3b5b3e['wntzO'](_0x2e68c7[_0x4a7d2e(0x182)],'-'),_0x2e68c7['id']);},exports[a45_0x133f06(0x126)]=(_0x64a288,_0xdb516f)=>{const _0x539a40=a45_0x133f06,_0x2e4317={};_0x2e4317[_0x539a40(0x141)]=function(_0x3d396f,_0x4ce95a){return _0x3d396f+_0x4ce95a;},_0x2e4317['tUkux']=function(_0x530252,_0x378cc8){return _0x530252+_0x378cc8;};const _0x199af1=_0x2e4317;return _0x199af1['LGtFu'](_0x199af1[_0x539a40(0x150)](exports['getTestIdentifier'](_0x64a288),'-'),_0xdb516f);};