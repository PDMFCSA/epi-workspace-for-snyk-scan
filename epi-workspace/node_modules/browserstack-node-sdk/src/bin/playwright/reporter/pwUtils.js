const a40_0x5bb86a=a40_0xd2c0;(function(_0x36f90c,_0x46d151){const _0x18f92c=a40_0xd2c0,_0x34d42b=_0x36f90c();while(!![]){try{const _0x134a4b=parseInt(_0x18f92c(0xda))/0x1*(parseInt(_0x18f92c(0xa0))/0x2)+parseInt(_0x18f92c(0xe5))/0x3*(-parseInt(_0x18f92c(0x116))/0x4)+-parseInt(_0x18f92c(0xd4))/0x5+-parseInt(_0x18f92c(0xd0))/0x6+parseInt(_0x18f92c(0xa1))/0x7+parseInt(_0x18f92c(0x122))/0x8*(parseInt(_0x18f92c(0xe0))/0x9)+parseInt(_0x18f92c(0xe8))/0xa;if(_0x134a4b===_0x46d151)break;else _0x34d42b['push'](_0x34d42b['shift']());}catch(_0x5129c9){_0x34d42b['push'](_0x34d42b['shift']());}}}(a40_0x3ffb,0xcda20));function a40_0xd2c0(_0x59868f,_0x2ebf52){const _0x3ffbec=a40_0x3ffb();return a40_0xd2c0=function(_0xd2c02b,_0x3f2e46){_0xd2c02b=_0xd2c02b-0x7c;let _0x445aa3=_0x3ffbec[_0xd2c02b];return _0x445aa3;},a40_0xd2c0(_0x59868f,_0x2ebf52);}const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require('../../../helpers/test-observability/utils'),PerformanceTester=require(a40_0x5bb86a(0xb9)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require('../../../helpers/test-observability/constants'),helper=require(a40_0x5bb86a(0xbb)),path=require(a40_0x5bb86a(0x10f)),logger=require(a40_0x5bb86a(0x85))[a40_0x5bb86a(0xef)],SessionHandler=require(a40_0x5bb86a(0xa9)),TestDetails=require(a40_0x5bb86a(0xe2)),util=require(a40_0x5bb86a(0xab)),getTagsFromTitle=_0x48dec8=>{const _0x32e402=a40_0x5bb86a;return _0x48dec8[_0x32e402(0xb4)](/@(\w+)/g)?.['map'](_0x13becd=>_0x13becd['slice'](0x1))||[];};function a40_0x3ffb(){const _0x282fc4=['PcpeM','extname','runner/projectUtils.js','GbhPu','runner/loadUtils.js','Fxscv','stack','join','beforeWorkerHook','\x20bytes','@playwright/test','1.42.0','18574HojVVG','143899KlkTTO','map','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','qWHLL','mDNCK','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','onTestBegin','TAtYm','../../../helpers/test-observability/sessionHandler','call','util','GAudg','zgnuq','vudVo','UUCcM','Qtwir','Hoibl','geCkL','statSync','match','USmSQ','START_TIME','khhTA','getFailureData','../../../helpers/performance/performance-tester','playwright/lib/common/configLoader.js','../../../helpers/helper','doo11ySync','slice','includes','message','OfGev','qIAlk','onStepBegin','cLrkQ','beforeTestHook','calculateTimesFromMultipleFiles','ltmfV','zHbxw','env','title','toISOString','CWpzK','getTestTags','Total\x20duration\x20for\x20whole\x20build\x20is\x20','compareVersions','sendEventData','2407470mVitoi','MCCMS','getProjectUtilsPath','getForkProcessPath','5922810lGFNZK','name','EWSUL','PLAYWRIGHT','Error\x20in\x20sending\x20trace\x20file:\x20%s','sendSessionDetails','175uEDtbP','debug','LZkld','KMdWg','yQCXt','getTransformPath','189lPZVWr','Found\x20key:\x20','./test-details','CmqRU','ahlBR','2190831AwwvlC','size','process.js','11221630gKsKHY','onBegin','test','Trace\x20enabled','existsSync','oPtDZ','.zip','winstonLogger','format','playwright','hfMNC','sendTestLog','Searching\x20for\x20key:\x20','ERROR','performance-report-worker-','kWKbe','tags','find','toLowerCase','hTRkn','getLoadUtilsPath','startsWith','getPlaywrightLibPath','readdirSync','Arguments','kwXwj','TEST_ATTACHMENT','substr','jhYXb','onStepEnd','.json','rwLRu','Aeleu','filter','DyNlL','attachments','@playwright/test/lib/transform/transform.js','validateFilePath','sendTraceZip','path','1.38.0','AMzJQ','pYaHz','common','afterTestHook','uDOLV','4HWquTu','LogCreated','hxxgb','CQhuJ','stopAndGenerate','Test\x20timeout\x20of','jCdYl','OAfAs','lib','filePath','trace','toString','148728rdOjZs','CFnIP','iQiaS','error','getConfigLoaderPath','CgSkf','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','onTestEnd','oxxqA','vPFbS','@playwright/test/lib/common/configLoader.js','findNestedKey','nQGmR','../../../helpers/logger','mpVRb','setupBrowserDetails','pGAWT','processPageScreenshot','dPOHA','endSession','gnYRi','testUId','@playwright/test/lib/common/transform.js','calculatePerformance','rMTDQ','basename','uuRxC','jwpdP'];a40_0x3ffb=function(){return _0x282fc4;};return a40_0x3ffb();}exports[a40_0x5bb86a(0xcc)]=_0x249a66=>{const _0x4c31aa=a40_0x5bb86a,_0x1af7f0={'nGtXr':function(_0x1ace77,_0x55808f){return _0x1ace77(_0x55808f);}};if(_0x249a66['tags'])return _0x249a66[_0x4c31aa(0xf8)][_0x4c31aa(0xa2)](_0x5aae57=>_0x5aae57['startsWith']('@')?_0x5aae57[_0x4c31aa(0x103)](0x1):_0x5aae57);return _0x1af7f0['nGtXr'](getTagsFromTitle,_0x249a66[_0x4c31aa(0xc9)]);},exports[a40_0x5bb86a(0x8f)]=async()=>{const _0x13d8ee=a40_0x5bb86a,_0x12ee16={'mDNCK':function(_0x4e754d,_0x49a353){return _0x4e754d-_0x49a353;},'Aeleu':'performance-reporter.html','GAudg':_0x13d8ee(0xe9),'JwsEk':_0x13d8ee(0x8b),'KWGBW':_0x13d8ee(0xa7),'rMTDQ':_0x13d8ee(0x7f),'nQGmR':_0x13d8ee(0xc2),'uSQhZ':_0x13d8ee(0x105),'mpVRb':_0x13d8ee(0x9c),'elzdm':'afterWorkerHook','TAtYm':_0x13d8ee(0xc4),'bbqrP':_0x13d8ee(0x114),'qaApO':_0x13d8ee(0xbc),'Hoibl':_0x13d8ee(0x89),'ltmfV':_0x13d8ee(0xd9),'ABtAO':_0x13d8ee(0x87),'YSAaA':'requestSpyCallback','pGAWT':_0x13d8ee(0xf3),'CWpzK':function(_0x5e83c4,_0x5a4adf){return _0x5e83c4(_0x5a4adf);},'oPtDZ':function(_0xc46157,_0x866755){return _0xc46157/_0x866755;},'CQhuJ':function(_0xca55c9,_0x417387){return _0xca55c9+_0x417387;},'rhphi':function(_0x8c9671,_0x297b8b){return _0x8c9671*_0x297b8b;}};if(!process[_0x13d8ee(0xc8)]['START_TIME'])return;const _0x4a037f=_0x12ee16[_0x13d8ee(0xa5)](new Date()['getTime'](),new Date(process['env'][_0x13d8ee(0xb6)])['getTime']()),_0x34f9af=await PerformanceTester[_0x13d8ee(0x11a)](_0x12ee16[_0x13d8ee(0x108)],[_0x12ee16[_0x13d8ee(0xac)],_0x12ee16['JwsEk'],_0x12ee16['KWGBW'],_0x12ee16[_0x13d8ee(0x90)],_0x12ee16[_0x13d8ee(0x84)],_0x12ee16['uSQhZ']]),_0x583c77=fs[_0x13d8ee(0xff)]('.'),_0x2240c8=_0x583c77[_0x13d8ee(0x109)](_0x33bd7c=>_0x33bd7c[_0x13d8ee(0xfd)](_0x13d8ee(0xf6))&&_0x33bd7c['endsWith'](_0x13d8ee(0x106))),_0x4a7614=await PerformanceTester[_0x13d8ee(0xc5)](_0x2240c8,[_0x12ee16[_0x13d8ee(0x86)],_0x12ee16['elzdm'],_0x12ee16[_0x13d8ee(0xa8)],_0x12ee16['bbqrP'],_0x12ee16['qaApO'],_0x12ee16[_0x13d8ee(0xb1)],_0x12ee16[_0x13d8ee(0xc6)],_0x12ee16['ABtAO'],_0x12ee16['YSAaA'],_0x12ee16[_0x13d8ee(0x88)]]);_0x12ee16[_0x13d8ee(0xcb)](debug,_0x13d8ee(0xcd)+_0x12ee16[_0x13d8ee(0xed)](_0x4a037f,0x3e8)+'\x20s'),_0x12ee16['CWpzK'](debug,_0x13d8ee(0xa6)+_0x12ee16[_0x13d8ee(0x119)](_0x4a7614,_0x34f9af)),_0x12ee16[_0x13d8ee(0xcb)](debug,'Percentage\x20of\x20increased\x20time\x20is\x20'+_0x12ee16['rhphi'](_0x12ee16['oPtDZ'](_0x12ee16['CQhuJ'](_0x4a7614,_0x34f9af),_0x4a037f),0x64));},exports[a40_0x5bb86a(0xdf)]=()=>{const _0x2e96f4=a40_0x5bb86a,_0x598143={'gnYRi':function(_0x5567bd,_0xed4193){return _0x5567bd(_0xed4193);},'hTRkn':function(_0x3be7ee,_0x4458a5){return _0x3be7ee>=_0x4458a5;},'bFiJO':_0x2e96f4(0x110),'OfGev':'playwright/lib/transform/transform.js','CgSkf':_0x2e96f4(0xf1),'KMdWg':'1.35.0','khhTA':_0x2e96f4(0x10c),'jwpdP':'@playwright/test','AMzJQ':_0x2e96f4(0x8e)},_0x46dc6c=_0x598143[_0x2e96f4(0x8c)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x598143[_0x2e96f4(0xfb)](helper[_0x2e96f4(0xce)](_0x46dc6c,_0x598143['bFiJO']),0x0))return[_0x598143[_0x2e96f4(0xc0)],_0x598143[_0x2e96f4(0x7d)]];if(_0x598143[_0x2e96f4(0xfb)](helper['compareVersions'](_0x46dc6c,_0x598143[_0x2e96f4(0xdd)]),0x0))return[_0x598143[_0x2e96f4(0xb7)],_0x598143[_0x2e96f4(0x93)]];return[_0x598143[_0x2e96f4(0x111)],_0x598143['jwpdP']];},exports[a40_0x5bb86a(0x7c)]=()=>{const _0x266ffa=a40_0x5bb86a,_0x2a6695={'CmqRU':function(_0x48f01b,_0x29bf46){return _0x48f01b(_0x29bf46);},'LWszj':function(_0x6418e5,_0x3142f5){return _0x6418e5>=_0x3142f5;},'hfMNC':_0x266ffa(0x110),'MCCMS':_0x266ffa(0xba),'cLrkQ':_0x266ffa(0xf1),'dPOHA':_0x266ffa(0x82),'uDOLV':_0x266ffa(0x9e)},_0x33b9fd=_0x2a6695[_0x266ffa(0xe3)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x2a6695['LWszj'](helper[_0x266ffa(0xce)](_0x33b9fd,_0x2a6695[_0x266ffa(0xf2)]),0x0))return[_0x2a6695[_0x266ffa(0xd1)],_0x2a6695[_0x266ffa(0xc3)]];return[_0x2a6695[_0x266ffa(0x8a)],_0x2a6695[_0x266ffa(0x115)]];},exports[a40_0x5bb86a(0xfc)]=()=>{const _0x28cde3=a40_0x5bb86a,_0x318082={};_0x318082['zHbxw']=_0x28cde3(0x98);const _0x20d4bc=_0x318082;return helper[_0x28cde3(0xfe)](_0x20d4bc[_0x28cde3(0xc7)]);},exports[a40_0x5bb86a(0xd2)]=()=>{const _0x57993a=a40_0x5bb86a,_0x38fb1d={};_0x38fb1d[_0x57993a(0x101)]=_0x57993a(0x96);const _0x256c4b=_0x38fb1d;return helper['getPlaywrightLibPath'](_0x256c4b[_0x57993a(0x101)]);},exports[a40_0x5bb86a(0xd3)]=()=>{const _0x131b77=a40_0x5bb86a,_0x301f81={'jhYXb':function(_0xd0f96b,_0x3f3c26){return _0xd0f96b(_0x3f3c26);},'hxxgb':function(_0x2b4dd1,_0x2dd0b7){return _0x2b4dd1>=_0x2dd0b7;},'vPFbS':_0x131b77(0x110),'DyNlL':_0x131b77(0x11e),'qWHLL':_0x131b77(0x113),'LZkld':_0x131b77(0xe7),'UUCcM':_0x131b77(0xea)},_0x23e4ee=_0x301f81[_0x131b77(0x104)](getFrameworkVersion,FRAMEWORKS[_0x131b77(0xd7)]);if(_0x301f81[_0x131b77(0x118)](helper[_0x131b77(0xce)](_0x23e4ee,_0x301f81[_0x131b77(0x81)]),0x0))return path[_0x131b77(0x9b)](_0x301f81[_0x131b77(0x10a)],_0x301f81[_0x131b77(0xa4)],_0x301f81[_0x131b77(0xdc)]);return path['join'](_0x301f81[_0x131b77(0xaf)],_0x301f81[_0x131b77(0x10a)],_0x301f81['qWHLL'],_0x301f81[_0x131b77(0xdc)]);},exports[a40_0x5bb86a(0xb8)]=(_0x54cfe0,{test_run_uuid:_0x14f7e6})=>{const _0x482fe7=a40_0x5bb86a,_0x4ec6e4={'ZqzLr':_0x482fe7(0xf5),'pYaHz':'TEST_LOG','GbhPu':function(_0xd56f6,_0x3e5f10){return _0xd56f6<=_0x3e5f10;},'Fxscv':function(_0x51b076,_0x5b2f58){return _0x51b076(_0x5b2f58);},'kWKbe':_0x482fe7(0x11b),'OAfAs':function(_0x726815,_0x9f9132){return _0x726815(_0x9f9132);},'yQCXt':function(_0x70f5db,_0xebce97){return _0x70f5db>=_0xebce97;},'iQiaS':_0x482fe7(0x9f),'ahlBR':function(_0x489cca,_0x24fcdc){return _0x489cca>_0x24fcdc;},'oxxqA':function(_0x341215,_0x22074c,_0x1ff3c9){return _0x341215(_0x22074c,_0x1ff3c9);},'geCkL':_0x482fe7(0xea)};if(!_0x54cfe0||_0x4ec6e4[_0x482fe7(0x97)](_0x54cfe0['length'],0x0))return[];const _0x499683=_0x4ec6e4[_0x482fe7(0x99)](removeAnsiColors,_0x54cfe0[0x0][_0x482fe7(0xbf)]);if(_0x499683[_0x482fe7(0xfd)](_0x4ec6e4[_0x482fe7(0xf7)])){const _0x23ae09=_0x54cfe0[0x0],_0x579fa9=_0x4ec6e4[_0x482fe7(0x11d)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if((!_0x23ae09['stack']||_0x4ec6e4[_0x482fe7(0xde)](_0x579fa9,_0x4ec6e4[_0x482fe7(0x124)]))&&_0x4ec6e4[_0x482fe7(0xe4)](_0x54cfe0['length'],0x1))return{'failureData':[{'backtrace':[_0x499683,_0x4ec6e4[_0x482fe7(0x99)](removeAnsiColors,_0x54cfe0[0x1][_0x482fe7(0x9a)])]}],'logs':_0x54cfe0[_0x482fe7(0xbd)](0x2)[_0x482fe7(0xa2)](_0x175143=>{const _0x235df0=_0x482fe7;return{'timestamp':new Date()[_0x235df0(0xca)](),'level':_0x4ec6e4['ZqzLr'],'message':''+_0x175143[_0x235df0(0xbf)],'kind':_0x4ec6e4[_0x235df0(0x112)],'http_response':{},'test_run_uuid':_0x14f7e6};})};}return{'failureData':_0x4ec6e4[_0x482fe7(0x80)](failureData,_0x54cfe0,_0x4ec6e4[_0x482fe7(0xb2)]),'logs':[]};},exports['validateFilePath']=_0x22de1e=>{const _0x47484f=a40_0x5bb86a,_0x492c6d={};_0x492c6d[_0x47484f(0x11c)]=function(_0x1715b9,_0x4b35d1){return _0x1715b9!==_0x4b35d1;},_0x492c6d[_0x47484f(0xae)]=_0x47484f(0xee),_0x492c6d[_0x47484f(0x123)]=function(_0x4c512a,_0x227eca){return _0x4c512a>_0x227eca;};const _0x79e35=_0x492c6d;if(_0x22de1e&&fs[_0x47484f(0xec)](_0x22de1e)){if(_0x79e35[_0x47484f(0x11c)](path[_0x47484f(0x95)](_0x22de1e)[_0x47484f(0xfa)](),_0x79e35[_0x47484f(0xae)]))return logger['error'](_0x47484f(0x7e)+_0x22de1e),![];const _0x4e3152=fs[_0x47484f(0xb3)](_0x22de1e)[_0x47484f(0xe6)];if(_0x79e35['CFnIP'](_0x4e3152,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x47484f(0x125)](_0x47484f(0xa3)+_0x4e3152+_0x47484f(0x9d)),![];return!![];}return![];},exports[a40_0x5bb86a(0x83)]=(_0x3811ea,_0x52cd19)=>{const _0x1d69ee=a40_0x5bb86a,_0x4adec0={};_0x4adec0[_0x1d69ee(0xd6)]=_0x1d69ee(0x100);const _0x303ebd=_0x4adec0;logger[_0x1d69ee(0xdb)](_0x1d69ee(0xf4)+_0x52cd19);if(_0x3811ea[_0x1d69ee(0x10b)]){const _0x1a1a44=_0x3811ea[_0x1d69ee(0x10b)][_0x1d69ee(0xf9)](_0x42b8bd=>_0x42b8bd[_0x1d69ee(0xd5)]===_0x1d69ee(0x120));if(_0x1a1a44)return logger['debug']('Found\x20key:\x20'+_0x52cd19+'\x20in\x20attachments'),_0x1a1a44[_0x52cd19];}else{if(Object['prototype'][_0x1d69ee(0x121)][_0x1d69ee(0xaa)](_0x3811ea)[_0x1d69ee(0xbe)](_0x303ebd[_0x1d69ee(0xd6)]))for(const _0x2b8a7d of _0x3811ea){if(_0x2b8a7d[_0x52cd19])return logger[_0x1d69ee(0xdb)](_0x1d69ee(0xe1)+_0x52cd19+'\x20in\x20arguments'),_0x2b8a7d[_0x52cd19];}}return'';},exports['uploadTraceZip']=async(_0x77f76c,_0x46c640)=>{const _0x3f5fb4=a40_0x5bb86a,_0xb15e2a={};_0xb15e2a[_0x3f5fb4(0x92)]=_0x3f5fb4(0x117),_0xb15e2a[_0x3f5fb4(0xb5)]=_0x3f5fb4(0x102),_0xb15e2a['PcpeM']=_0x3f5fb4(0x10e),_0xb15e2a['qIAlk']='Error\x20in\x20sending\x20trace\x20file:\x20%s';const _0x7e1a2e=_0xb15e2a;try{const _0x7a0c2e={'event_type':_0x7e1a2e[_0x3f5fb4(0x92)],'logs':[{'data':_0x77f76c?fs['createReadStream'](_0x77f76c):'','test_run_uuid':_0x46c640,'kind':_0x7e1a2e[_0x3f5fb4(0xb5)],'fileName':_0x77f76c?path[_0x3f5fb4(0x91)](_0x77f76c):''}]};return await SessionHandler[_0x3f5fb4(0xcf)](_0x7a0c2e,0x0,_0x7e1a2e[_0x3f5fb4(0x94)]);}catch(_0x142e00){logger[_0x3f5fb4(0x125)](util['format'](_0x7e1a2e[_0x3f5fb4(0xc1)],_0x142e00));}},exports[a40_0x5bb86a(0x10e)]=async(_0x96b701,_0x53e464)=>{const _0xbc99b7=a40_0x5bb86a,_0x104577={};_0x104577[_0xbc99b7(0xad)]=_0xbc99b7(0x10f),_0x104577[_0xbc99b7(0x107)]=_0xbc99b7(0xeb),_0x104577[_0xbc99b7(0xb0)]=_0xbc99b7(0xd8);const _0x1bead8=_0x104577;try{logger[_0xbc99b7(0xdb)]('Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20'+_0x53e464);const _0x4a4764=await exports[_0xbc99b7(0x83)](_0x96b701,_0x1bead8[_0xbc99b7(0xad)]);if(exports[_0xbc99b7(0x10d)](_0x4a4764)){logger[_0xbc99b7(0xdb)](_0x1bead8[_0xbc99b7(0x107)]);const _0x3bc09a={};_0x3bc09a[_0xbc99b7(0x8d)]=_0x53e464,_0x3bc09a[_0xbc99b7(0x11f)]=_0x4a4764;const _0x32f1ae=_0x3bc09a;TestDetails['addTraceFilePath'](_0x32f1ae);};}catch(_0xe916bd){logger[_0xbc99b7(0x125)](util[_0xbc99b7(0xf0)](_0x1bead8[_0xbc99b7(0xb0)],_0xe916bd));}};