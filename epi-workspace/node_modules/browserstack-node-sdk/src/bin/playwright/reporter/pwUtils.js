const a45_0x47c4ba=a45_0xbc3a;(function(_0x2d82a5,_0x548ffc){const _0x193a5a=a45_0xbc3a,_0x7d6f70=_0x2d82a5();while(!![]){try{const _0x237beb=parseInt(_0x193a5a(0x1ec))/0x1+parseInt(_0x193a5a(0x200))/0x2*(-parseInt(_0x193a5a(0x1bb))/0x3)+parseInt(_0x193a5a(0x1e6))/0x4+parseInt(_0x193a5a(0x23d))/0x5*(-parseInt(_0x193a5a(0x1e8))/0x6)+parseInt(_0x193a5a(0x226))/0x7*(-parseInt(_0x193a5a(0x20b))/0x8)+parseInt(_0x193a5a(0x260))/0x9*(parseInt(_0x193a5a(0x20f))/0xa)+parseInt(_0x193a5a(0x201))/0xb*(-parseInt(_0x193a5a(0x1ef))/0xc);if(_0x237beb===_0x548ffc)break;else _0x7d6f70['push'](_0x7d6f70['shift']());}catch(_0xee564b){_0x7d6f70['push'](_0x7d6f70['shift']());}}}(a45_0x33ba,0xcc4ad));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a45_0x47c4ba(0x224)),PerformanceTester=require(a45_0x47c4ba(0x22b)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a45_0x47c4ba(0x25e)),helper=require(a45_0x47c4ba(0x22f)),path=require('path'),logger=require('../../../helpers/logger')[a45_0x47c4ba(0x1df)],SessionHandler=require(a45_0x47c4ba(0x1d1)),TestDetails=require(a45_0x47c4ba(0x24f)),util=require(a45_0x47c4ba(0x1c1)),TestInfo=require(a45_0x47c4ba(0x215));let BrowserstackCLIInstance=null;function getBrowserstackCLI(){const _0x29f9f5=a45_0x47c4ba,_0x2989ae={'jnqTt':function(_0x19bf96,_0x1edadb){return _0x19bf96(_0x1edadb);},'MMepw':_0x29f9f5(0x220)};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0x2989ae['jnqTt'](require,_0x2989ae[_0x29f9f5(0x252)])),BrowserstackCLIInstance;}function a45_0x33ba(){const _0x52a77b=['includes','title','24902psLVdr','2244836eWkyhT','lVSrT','LoUxD','debug','\x20bytes','NJpOB','onBegin','GNAtl','IDAgl','TPXcZ','24dkuzWj','VgDAe','FtalF','basename','10AqKNkB','ZDusH','stopAndGenerate','afterTestHook','tzGmG','BjrAS','../../v2/TestInfo','\x20in\x20attachments','findNestedKey','yADnL','match','RSfiJ','sendTraceZip','Searching\x20for\x20key:\x20','onTestEnd','TEST_LOG','getTestRunIdentifier','../../v2/browserstackCLI','mEkUe','env','UxaAa','../../../helpers/test-observability/utils','1.35.0','1045765cYpoxY','ZIxdt','@playwright/test/lib/common/transform.js','slice','isRunning','../../../helpers/performance/performance-tester','START_TIME','filter','qoPHr','../../../helpers/helper','prototype','getProjectUtilsPath','getLoadUtilsPath','ZfYoW','playwright/lib/transform/transform.js','name','existsSync','Total\x20duration\x20for\x20whole\x20build\x20is\x20','attachments','uploadTraceZip','FqtDN','@playwright/test/lib/transform/transform.js','qNofN','41620KgelDB','format','@playwright/test','getTestIdentifier','qeuPW','performance-report-worker-','ERROR','YvFqo','map','statSync','1.42.0','LogCreated','setupBrowserDetails','qUnoa','.zip','compareVersions','cgesd','GLspF','./test-details','idkGp','qzFPW','MMepw','bWfMN','sendTestLog','processPageScreenshot','WXNyW','playwright','getForkProcessPath','endSession','runner/projectUtils.js','ToXmy','qvgVZ','validateFilePath','../../../helpers/test-observability/constants','toString','6230745KmThel','eLzWG','startsWith','playwright/lib/common/configLoader.js','addTraceFilePath','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','Test\x20timeout\x20of','join','Vgood','hxXai','39bXUcXM','length','1.38.0','error','tags','PbLJW','util','readdirSync','Arguments','@playwright/test/lib/common/configLoader.js','CaWOj','toISOString','MYcMn','UOaSV','wVkxA','SxVwp','afterWorkerHook','upfVU','TEST_ATTACHMENT','beforeTestHook','requestSpyCallback','oTbWn','../../../helpers/test-observability/sessionHandler','calculatePerformance','call','sendSessionDetails','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','UcNTW','common','qKSKX','trace','dkvxS','getConfigLoaderPath','test','cOlVa','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','winstonLogger','beforeWorkerHook','nNZdR','yuGts','psrdx','mnQtU','process.js','5773756oSJkTY','tgGpR','102bApLNY','getTransformPath','rRoHq','dUUhz','268897EocCDV','ZUcDa','stack','48RPIEuy','resolve','find','zGcWD','getTestTags','KCJuS','eJiAV','Error\x20in\x20sending\x20trace\x20file:\x20%s','tnnPp','toLowerCase','ohAce','ybSUw','imdht','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','PLAYWRIGHT'];a45_0x33ba=function(){return _0x52a77b;};return a45_0x33ba();}const getTagsFromTitle=_0x73ec9c=>{const _0x59d881=a45_0x47c4ba;return _0x73ec9c[_0x59d881(0x219)](/@(\w+)/g)?.['map'](_0x4ffe3c=>_0x4ffe3c[_0x59d881(0x229)](0x1))||[];};function a45_0xbc3a(_0x280488,_0x4685c7){const _0x33bae9=a45_0x33ba();return a45_0xbc3a=function(_0xbc3af5,_0x58ef11){_0xbc3af5=_0xbc3af5-0x1b4;let _0x3ddbb0=_0x33bae9[_0xbc3af5];return _0x3ddbb0;},a45_0xbc3a(_0x280488,_0x4685c7);}exports[a45_0x47c4ba(0x1f3)]=_0x2b1aee=>{const _0x458ca7=a45_0x47c4ba,_0x164320={'yuGts':function(_0x4ede0c,_0x3ff541){return _0x4ede0c(_0x3ff541);}};if(_0x2b1aee['tags'])return _0x2b1aee[_0x458ca7(0x1bf)][_0x458ca7(0x245)](_0x5745bf=>_0x5745bf[_0x458ca7(0x262)]('@')?_0x5745bf['substr'](0x1):_0x5745bf);return _0x164320[_0x458ca7(0x1e2)](getTagsFromTitle,_0x2b1aee[_0x458ca7(0x1ff)]);},exports[a45_0x47c4ba(0x1d2)]=async()=>{const _0xc9120e=a45_0x47c4ba,_0x3f1dff={'rQUco':function(_0x442eea,_0x170e75){return _0x442eea-_0x170e75;},'wHjbZ':'performance-reporter.html','eLzWG':_0xc9120e(0x207),'idkGp':_0xc9120e(0x259),'cgesd':'onTestBegin','VnHBF':_0xc9120e(0x21d),'BjrAS':'onStepBegin','oRlyN':'onStepEnd','eJiAV':_0xc9120e(0x1e0),'CJxUo':_0xc9120e(0x1cb),'psrdx':_0xc9120e(0x1ce),'dkvxS':_0xc9120e(0x212),'tnnPp':'doo11ySync','LoUxD':_0xc9120e(0x255),'bWfMN':_0xc9120e(0x1d4),'bPgrt':_0xc9120e(0x249),'mEkUe':_0xc9120e(0x1cf),'RSfiJ':_0xc9120e(0x254),'imdht':function(_0x118467,_0x2b4310){return _0x118467(_0x2b4310);},'wVkxA':function(_0x4577ce,_0x42d24e){return _0x4577ce/_0x42d24e;},'upfVU':function(_0x2807de,_0xc1138f){return _0x2807de+_0xc1138f;},'JoOWg':function(_0x26e32e,_0x4c4ae5){return _0x26e32e*_0x4c4ae5;}};if(!process[_0xc9120e(0x222)][_0xc9120e(0x22c)])return;const _0x39b20a=_0x3f1dff['rQUco'](new Date()['getTime'](),new Date(process[_0xc9120e(0x222)][_0xc9120e(0x22c)])['getTime']()),_0x56f8b4=await PerformanceTester[_0xc9120e(0x211)](_0x3f1dff['wHjbZ'],[_0x3f1dff[_0xc9120e(0x261)],_0x3f1dff[_0xc9120e(0x250)],_0x3f1dff[_0xc9120e(0x24d)],_0x3f1dff['VnHBF'],_0x3f1dff[_0xc9120e(0x214)],_0x3f1dff['oRlyN']]),_0x1561ee=fs[_0xc9120e(0x1c2)]('.'),_0x6af48=_0x1561ee[_0xc9120e(0x22d)](_0x136b0e=>_0x136b0e[_0xc9120e(0x262)](_0xc9120e(0x242))&&_0x136b0e['endsWith']('.json')),_0x1149f9=await PerformanceTester['calculateTimesFromMultipleFiles'](_0x6af48,[_0x3f1dff[_0xc9120e(0x1f5)],_0x3f1dff['CJxUo'],_0x3f1dff[_0xc9120e(0x1e3)],_0x3f1dff[_0xc9120e(0x1da)],_0x3f1dff[_0xc9120e(0x1f7)],_0x3f1dff[_0xc9120e(0x203)],_0x3f1dff[_0xc9120e(0x253)],_0x3f1dff['bPgrt'],_0x3f1dff[_0xc9120e(0x221)],_0x3f1dff[_0xc9120e(0x21a)]]);_0x3f1dff[_0xc9120e(0x1fb)](debug,_0xc9120e(0x237)+_0x3f1dff[_0xc9120e(0x1c9)](_0x39b20a,0x3e8)+'\x20s'),_0x3f1dff['imdht'](debug,_0xc9120e(0x1de)+_0x3f1dff[_0xc9120e(0x1cc)](_0x1149f9,_0x56f8b4)),_0x3f1dff[_0xc9120e(0x1fb)](debug,'Percentage\x20of\x20increased\x20time\x20is\x20'+_0x3f1dff['JoOWg'](_0x3f1dff[_0xc9120e(0x1c9)](_0x3f1dff[_0xc9120e(0x1cc)](_0x1149f9,_0x56f8b4),_0x39b20a),0x64));},exports[a45_0x47c4ba(0x1e9)]=()=>{const _0xf3d86b=a45_0x47c4ba,_0xc9095a={'UcNTW':function(_0x109350,_0x44132a){return _0x109350(_0x44132a);},'cOlVa':function(_0x49b2f8,_0x4cfbaa){return _0x49b2f8>=_0x4cfbaa;},'FtalF':_0xf3d86b(0x1bd),'YvFqo':_0xf3d86b(0x234),'eZhSE':_0xf3d86b(0x257),'hxXai':function(_0x429fc4,_0x94136){return _0x429fc4>=_0x94136;},'UOaSV':_0xf3d86b(0x225),'XVfEv':_0xf3d86b(0x23b),'WXNyW':_0xf3d86b(0x23f),'MYcMn':_0xf3d86b(0x228)},_0x124b67=_0xc9095a[_0xf3d86b(0x1d6)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0xc9095a[_0xf3d86b(0x1dd)](helper['compareVersions'](_0x124b67,_0xc9095a[_0xf3d86b(0x20d)]),0x0))return[_0xc9095a[_0xf3d86b(0x244)],_0xc9095a['eZhSE']];if(_0xc9095a[_0xf3d86b(0x1ba)](helper['compareVersions'](_0x124b67,_0xc9095a[_0xf3d86b(0x1c8)]),0x0))return[_0xc9095a['XVfEv'],_0xc9095a[_0xf3d86b(0x256)]];return[_0xc9095a[_0xf3d86b(0x1c7)],_0xc9095a[_0xf3d86b(0x256)]];},exports[a45_0x47c4ba(0x1db)]=()=>{const _0x22a36d=a45_0x47c4ba,_0x402f96={'qoPHr':function(_0x33fb7b,_0x5c8bc2){return _0x33fb7b(_0x5c8bc2);},'SxVwp':function(_0x5e9109,_0x98033e){return _0x5e9109>=_0x98033e;},'NWZHD':'1.38.0','qvgVZ':_0x22a36d(0x1b4),'GLspF':_0x22a36d(0x257),'pGFWw':_0x22a36d(0x1c4),'VgDAe':_0x22a36d(0x23f)},_0x530441=_0x402f96[_0x22a36d(0x22e)](getFrameworkVersion,FRAMEWORKS[_0x22a36d(0x1fd)]);if(_0x402f96[_0x22a36d(0x1ca)](helper[_0x22a36d(0x24c)](_0x530441,_0x402f96['NWZHD']),0x0))return[_0x402f96[_0x22a36d(0x25c)],_0x402f96[_0x22a36d(0x24e)]];return[_0x402f96['pGFWw'],_0x402f96[_0x22a36d(0x20c)]];},exports[a45_0x47c4ba(0x232)]=()=>{const _0x5e3395=a45_0x47c4ba,_0x3962ec={};_0x3962ec[_0x5e3395(0x1c0)]='runner/loadUtils.js';const _0x2ca19c=_0x3962ec;return helper['getPlaywrightLibPath'](_0x2ca19c[_0x5e3395(0x1c0)]);},exports[a45_0x47c4ba(0x231)]=()=>{const _0x14bad1=a45_0x47c4ba,_0x5f25c7={};_0x5f25c7[_0x14bad1(0x1ed)]=_0x14bad1(0x25a);const _0x5cf139=_0x5f25c7;return helper['getPlaywrightLibPath'](_0x5cf139[_0x14bad1(0x1ed)]);},exports[a45_0x47c4ba(0x258)]=()=>{const _0x163dfa=a45_0x47c4ba,_0x40e8c8={'NJpOB':function(_0x3c5462,_0x35f697){return _0x3c5462(_0x35f697);},'xufhf':function(_0x350654,_0x52a2cf){return _0x350654>=_0x52a2cf;},'ZfYoW':'1.38.0','nNZdR':'lib','zGcWD':_0x163dfa(0x1d7),'TPXcZ':_0x163dfa(0x1e5),'dUUhz':_0x163dfa(0x1dc)},_0x3ce7c4=_0x40e8c8[_0x163dfa(0x206)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x40e8c8['xufhf'](helper[_0x163dfa(0x24c)](_0x3ce7c4,_0x40e8c8[_0x163dfa(0x233)]),0x0))return path[_0x163dfa(0x1b8)](_0x40e8c8[_0x163dfa(0x1e1)],_0x40e8c8[_0x163dfa(0x1f2)],_0x40e8c8[_0x163dfa(0x20a)]);return path['join'](_0x40e8c8[_0x163dfa(0x1eb)],_0x40e8c8['nNZdR'],_0x40e8c8[_0x163dfa(0x1f2)],_0x40e8c8[_0x163dfa(0x20a)]);},exports['getFailureData']=(_0x249939,{test_run_uuid:_0x6f9d3d})=>{const _0x503605=a45_0x47c4ba,_0x40bbc2={'qNofN':_0x503605(0x243),'qeuPW':_0x503605(0x21e),'ohAce':function(_0xea6959,_0x1eff12){return _0xea6959<=_0x1eff12;},'oTbWn':function(_0x438602,_0x2c9509){return _0x438602(_0x2c9509);},'qzFPW':_0x503605(0x1b7),'UxaAa':function(_0x354a25,_0x373e90){return _0x354a25(_0x373e90);},'ZIxdt':function(_0x24732e,_0x4ca450){return _0x24732e>=_0x4ca450;},'qKSKX':_0x503605(0x247),'rRoHq':function(_0x5525,_0x189565){return _0x5525>_0x189565;},'mnQtU':function(_0x1d8206,_0x19fcad){return _0x1d8206(_0x19fcad);},'Vgood':function(_0x311a62,_0x1e1a00,_0x17500e){return _0x311a62(_0x1e1a00,_0x17500e);},'ybSUw':_0x503605(0x1dc)};if(!_0x249939||_0x40bbc2[_0x503605(0x1f9)](_0x249939[_0x503605(0x1bc)],0x0))return[];const _0x238457=_0x40bbc2[_0x503605(0x1d0)](removeAnsiColors,_0x249939[0x0]['message']);if(_0x238457[_0x503605(0x262)](_0x40bbc2[_0x503605(0x251)])){const _0x243696=_0x249939[0x0],_0xc97b6b=_0x40bbc2[_0x503605(0x223)](getFrameworkVersion,FRAMEWORKS[_0x503605(0x1fd)]);if((!_0x243696['stack']||_0x40bbc2[_0x503605(0x227)](_0xc97b6b,_0x40bbc2[_0x503605(0x1d8)]))&&_0x40bbc2[_0x503605(0x1ea)](_0x249939[_0x503605(0x1bc)],0x1))return{'failureData':[{'backtrace':[_0x238457,_0x40bbc2[_0x503605(0x1e4)](removeAnsiColors,_0x249939[0x1][_0x503605(0x1ee)])]}],'logs':_0x249939[_0x503605(0x229)](0x2)['map'](_0x2ff28d=>{const _0x5ce00d=_0x503605;return{'timestamp':new Date()[_0x5ce00d(0x1c6)](),'level':_0x40bbc2[_0x5ce00d(0x23c)],'message':''+_0x2ff28d['message'],'kind':_0x40bbc2[_0x5ce00d(0x241)],'http_response':{},'test_run_uuid':_0x6f9d3d};})};}return{'failureData':_0x40bbc2[_0x503605(0x1b9)](failureData,_0x249939,_0x40bbc2[_0x503605(0x1fa)]),'logs':[]};},exports[a45_0x47c4ba(0x25d)]=_0xbaa7ae=>{const _0x237b68=a45_0x47c4ba,_0x219418={};_0x219418[_0x237b68(0x209)]=function(_0x361599,_0x38dd80){return _0x361599!==_0x38dd80;},_0x219418[_0x237b68(0x202)]=_0x237b68(0x24b),_0x219418[_0x237b68(0x25b)]=function(_0x5d2e0d,_0x475884){return _0x5d2e0d>_0x475884;};const _0x526c60=_0x219418;if(_0xbaa7ae&&fs[_0x237b68(0x236)](_0xbaa7ae)){if(_0x526c60[_0x237b68(0x209)](path['extname'](_0xbaa7ae)[_0x237b68(0x1f8)](),_0x526c60['lVSrT']))return logger[_0x237b68(0x1be)](_0x237b68(0x1d5)+_0xbaa7ae),![];const _0x5470f0=fs[_0x237b68(0x246)](_0xbaa7ae)['size'];if(_0x526c60[_0x237b68(0x25b)](_0x5470f0,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x237b68(0x1be)](_0x237b68(0x1b6)+_0x5470f0+_0x237b68(0x205)),![];return!![];}return![];},exports[a45_0x47c4ba(0x217)]=(_0x2d4fd8,_0x4a32a2)=>{const _0x47ae77=a45_0x47c4ba,_0x8d8f1f={};_0x8d8f1f[_0x47ae77(0x218)]=_0x47ae77(0x1c3);const _0x3a390a=_0x8d8f1f;logger['debug'](_0x47ae77(0x21c)+_0x4a32a2);if(_0x2d4fd8&&_0x2d4fd8[_0x47ae77(0x238)]){const _0x348717=_0x2d4fd8['attachments'][_0x47ae77(0x1f1)](_0x9b3ef5=>_0x9b3ef5[_0x47ae77(0x235)]===_0x47ae77(0x1d9));if(_0x348717)return logger[_0x47ae77(0x204)]('Found\x20key:\x20'+_0x4a32a2+_0x47ae77(0x216)),_0x348717[_0x4a32a2];}else{if(_0x2d4fd8&&Object[_0x47ae77(0x230)][_0x47ae77(0x25f)][_0x47ae77(0x1d3)](_0x2d4fd8)[_0x47ae77(0x1fe)](_0x3a390a[_0x47ae77(0x218)]))for(const _0x1f9b80 of _0x2d4fd8){if(_0x1f9b80[_0x4a32a2])return logger[_0x47ae77(0x204)]('Found\x20key:\x20'+_0x4a32a2+'\x20in\x20arguments'),_0x1f9b80[_0x4a32a2];}};return'';},exports[a45_0x47c4ba(0x239)]=async(_0x2ff7d1,_0x5b3e56)=>{const _0x517608=a45_0x47c4ba,_0x166a14={};_0x166a14[_0x517608(0x24a)]=_0x517608(0x248),_0x166a14[_0x517608(0x1e7)]=_0x517608(0x1cd),_0x166a14[_0x517608(0x1c5)]='sendTraceZip',_0x166a14[_0x517608(0x210)]=_0x517608(0x1f6);const _0x9734ae=_0x166a14;try{const _0x317d5f={'event_type':_0x9734ae[_0x517608(0x24a)],'logs':[{'data':_0x2ff7d1?fs['createReadStream'](_0x2ff7d1):'','test_run_uuid':_0x5b3e56,'kind':_0x9734ae[_0x517608(0x1e7)],'fileName':_0x2ff7d1?path[_0x517608(0x20e)](_0x2ff7d1):''}]};return await SessionHandler['sendEventData'](_0x317d5f,0x0,_0x9734ae[_0x517608(0x1c5)]);}catch(_0x1b9c8e){logger[_0x517608(0x1be)](util[_0x517608(0x23e)](_0x9734ae[_0x517608(0x210)],_0x1b9c8e));}},exports[a45_0x47c4ba(0x21b)]=async(_0x3df91c,_0x1220c8)=>{const _0x434e99=a45_0x47c4ba,_0x372040={'kvwWv':'path','KCJuS':'Trace\x20enabled','FqtDN':function(_0x1c2e3f){return _0x1c2e3f();},'jZAkb':_0x434e99(0x1f6)};try{logger[_0x434e99(0x204)](_0x434e99(0x1fc)+_0x1220c8);let _0x64e246=await exports[_0x434e99(0x217)](_0x3df91c,_0x372040['kvwWv']);if(exports['validateFilePath'](_0x64e246)){logger[_0x434e99(0x204)](_0x372040[_0x434e99(0x1f4)]),_0x64e246=path[_0x434e99(0x1f0)](_0x64e246);const _0x190021={};_0x190021['testUId']=_0x1220c8,_0x190021['filePath']=_0x64e246;const _0x1d3216=_0x190021;_0x372040[_0x434e99(0x23a)](getBrowserstackCLI)['getInstance']()[_0x434e99(0x22a)]()?TestInfo[_0x434e99(0x1b5)](_0x1d3216):TestDetails[_0x434e99(0x1b5)](_0x1d3216);};}catch(_0x17f88c){logger[_0x434e99(0x1be)](util['format'](_0x372040['jZAkb'],_0x17f88c));}},exports['getTestIdentifier']=_0x3f00a8=>{const _0x3b862e=a45_0x47c4ba,_0x4d25c8={};_0x4d25c8[_0x3b862e(0x208)]=function(_0x52d00b,_0x55f449){return _0x52d00b+_0x55f449;};const _0x49b743=_0x4d25c8;return _0x49b743[_0x3b862e(0x208)](_0x49b743['GNAtl'](_0x3f00a8['_projectId'],'-'),_0x3f00a8['id']);},exports[a45_0x47c4ba(0x21f)]=(_0x4b5a6e,_0xc34bde)=>{const _0x31de91=a45_0x47c4ba,_0xe1a97c={};_0xe1a97c[_0x31de91(0x213)]=function(_0x47c416,_0x49836d){return _0x47c416+_0x49836d;};const _0x2c62ce=_0xe1a97c;return _0x2c62ce[_0x31de91(0x213)](_0x2c62ce[_0x31de91(0x213)](exports[_0x31de91(0x240)](_0x4b5a6e),'-'),_0xc34bde);};