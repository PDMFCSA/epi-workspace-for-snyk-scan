const a40_0x559dc1=a40_0x3aef;function a40_0x278a(){const _0x233a36=['findNestedKey','tags','join','etRUN','Error\x20in\x20sending\x20trace\x20file:\x20%s','existsSync','AZHQE','createReadStream','qctsg','kkeVJ','2539071qnaEHG','\x20bytes','BwEIZ','ERROR','validateFilePath','afterTestHook','7UhPifS','compareVersions','fWhfS','error','find','common','1.38.0','Elcxo','guypJ','jhict','toLowerCase','TEST_LOG','ayrVG','lib','debug','coBul','START_TIME','TEST_ATTACHMENT','startsWith','LogCreated','filter','HROUc','util','@playwright/test/lib/transform/transform.js','RuqoP','runner/projectUtils.js','getForkProcessPath','DYjSl','\x20in\x20arguments','slice','getLoadUtilsPath','TLVOd','lbiwj','afhZe','LEUoe','calculateTimesFromMultipleFiles','796PQEcyl','NXyWw','24884200lmoCqI','XabHQ','zVvEc','test','onTestBegin','calculatePerformance','tWvTm','process.js','match','getProjectUtilsPath','beforeWorkerHook','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','TJycJ','name','zzjAn','245371EIxIrC','\x20in\x20attachments','playwright/lib/common/configLoader.js','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','pjADt','call','playwright/lib/transform/transform.js','XKGtN','attachments','getPlaywrightLibPath','shTcM','thjKG','LObPj','prototype','wTSVz','yHjEN','HEZzw','TxOZw','Percentage\x20of\x20increased\x20time\x20is\x20','playwright','beforeTestHook','map','RrwdC','WEECk','performance-report-worker-','ZgjEA','HtqQp','@playwright/test/lib/common/configLoader.js','length','DnlJJ','runner/loadUtils.js','jYuyC','onStepEnd','basename','title','toISOString','DAWEj','sendTestLog','glndD','rUtKd','1017974bwfDDy','JYyup','sendTraceZip','uXgDL','message','doo11ySync','endSession','YIJjv','XsQTv','jBucs','uploadTraceZip','SHuaE','onStepBegin','env','5760544ShwSdn','onTestEnd','onBegin','gubMd','statSync','stopAndGenerate','PLAYWRIGHT','getFailureData','getTransformPath','jNKNi','GkEhV','.zip','PuUfk','14810IohNyI','getConfigLoaderPath','Test\x20timeout\x20of','1.35.0','HYFvT','../../../helpers/logger','PeDoP','size','format','getTime','dIHxi','4441650WlbGrZ','getTestTags','3OwVUXL','owzAk','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','Trace\x20enabled','../../../helpers/performance/performance-tester','auBCO','KLiTI','AVeKk','stack','Found\x20key:\x20','Arguments','EbzSj','@playwright/test','path'];a40_0x278a=function(){return _0x233a36;};return a40_0x278a();}(function(_0x356f0e,_0x6833d7){const _0x42c145=a40_0x3aef,_0x56917b=_0x356f0e();while(!![]){try{const _0x3025b9=-parseInt(_0x42c145(0x146))/0x1+parseInt(_0x42c145(0x16e))/0x2*(parseInt(_0x42c145(0x196))/0x3)+parseInt(_0x42c145(0x1d8))/0x4*(-parseInt(_0x42c145(0x189))/0x5)+-parseInt(_0x42c145(0x194))/0x6*(parseInt(_0x42c145(0x1b4))/0x7)+-parseInt(_0x42c145(0x17c))/0x8+-parseInt(_0x42c145(0x1ae))/0x9+parseInt(_0x42c145(0x137))/0xa;if(_0x3025b9===_0x6833d7)break;else _0x56917b['push'](_0x56917b['shift']());}catch(_0x453522){_0x56917b['push'](_0x56917b['shift']());}}}(a40_0x278a,0x66928));function a40_0x3aef(_0x33c527,_0x328089){const _0x278aa6=a40_0x278a();return a40_0x3aef=function(_0x3aefea,_0x3797dd){_0x3aefea=_0x3aefea-0x136;let _0x16f112=_0x278aa6[_0x3aefea];return _0x16f112;},a40_0x3aef(_0x33c527,_0x328089);}const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require('../../../helpers/test-observability/utils'),PerformanceTester=require(a40_0x559dc1(0x19a)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require('../../../helpers/test-observability/constants'),helper=require('../../../helpers/helper'),path=require(a40_0x559dc1(0x1a3)),logger=require(a40_0x559dc1(0x18e))['winstonLogger'],SessionHandler=require('../../../helpers/test-observability/sessionHandler'),TestDetails=require('./test-details'),util=require(a40_0x559dc1(0x1ca)),getTagsFromTitle=_0x2a57da=>{const _0x216ea9=a40_0x559dc1;return _0x2a57da[_0x216ea9(0x13f)](/@(\w+)/g)?.[_0x216ea9(0x15b)](_0x3d9389=>_0x3d9389['slice'](0x1))||[];};exports[a40_0x559dc1(0x195)]=_0x8e0657=>{const _0x2f3496=a40_0x559dc1,_0xc9f5cd={'GkEhV':function(_0x562ff5,_0x37a5e2){return _0x562ff5(_0x37a5e2);}};if(_0x8e0657[_0x2f3496(0x1a5)])return _0x8e0657[_0x2f3496(0x1a5)][_0x2f3496(0x15b)](_0x3bbdb4=>_0x3bbdb4[_0x2f3496(0x1c6)]('@')?_0x3bbdb4['substr'](0x1):_0x3bbdb4);return _0xc9f5cd[_0x2f3496(0x186)](getTagsFromTitle,_0x8e0657[_0x2f3496(0x168)]);},exports[a40_0x559dc1(0x13c)]=async()=>{const _0x4caa04=a40_0x559dc1,_0x44875e={'uXgDL':function(_0x32c2f4,_0x1c27dd){return _0x32c2f4-_0x1c27dd;},'afhZe':'performance-reporter.html','YIJjv':_0x4caa04(0x17e),'KLiTI':_0x4caa04(0x174),'yHjEN':_0x4caa04(0x13b),'AZHQE':_0x4caa04(0x17d),'DYjSl':_0x4caa04(0x17a),'SUWlj':_0x4caa04(0x166),'XabHQ':_0x4caa04(0x141),'XKGtN':'afterWorkerHook','BwEIZ':_0x4caa04(0x15a),'DnlJJ':_0x4caa04(0x1b3),'lvJKa':_0x4caa04(0x173),'PuUfk':'processPageScreenshot','xguKq':'sendSessionDetails','lAeth':'setupBrowserDetails','NXyWw':'requestSpyCallback','ZgjEA':_0x4caa04(0x16b),'thjKG':function(_0x3e0210,_0x583038){return _0x3e0210(_0x583038);},'PeDoP':function(_0xded4dd,_0x354671){return _0xded4dd/_0x354671;},'jYuyC':function(_0x5c744f,_0x56fa36){return _0x5c744f(_0x56fa36);},'coBul':function(_0x20516a,_0x293077){return _0x20516a+_0x293077;},'HroZz':function(_0x47d414,_0x1c292a){return _0x47d414*_0x1c292a;}};if(!process['env'][_0x4caa04(0x1c4)])return;const _0x171e85=_0x44875e[_0x4caa04(0x171)](new Date()[_0x4caa04(0x192)](),new Date(process[_0x4caa04(0x17b)]['START_TIME'])[_0x4caa04(0x192)]()),_0x2c86c6=await PerformanceTester[_0x4caa04(0x181)](_0x44875e[_0x4caa04(0x1d5)],[_0x44875e[_0x4caa04(0x175)],_0x44875e[_0x4caa04(0x19c)],_0x44875e[_0x4caa04(0x155)],_0x44875e[_0x4caa04(0x1aa)],_0x44875e[_0x4caa04(0x1cf)],_0x44875e['SUWlj']]),_0x4c9031=fs['readdirSync']('.'),_0x5609c9=_0x4c9031[_0x4caa04(0x1c8)](_0x1d1635=>_0x1d1635[_0x4caa04(0x1c6)](_0x4caa04(0x15e))&&_0x1d1635['endsWith']('.json')),_0x36b230=await PerformanceTester[_0x4caa04(0x1d7)](_0x5609c9,[_0x44875e[_0x4caa04(0x138)],_0x44875e[_0x4caa04(0x14d)],_0x44875e[_0x4caa04(0x1b0)],_0x44875e[_0x4caa04(0x163)],_0x44875e['lvJKa'],_0x44875e[_0x4caa04(0x188)],_0x44875e['xguKq'],_0x44875e['lAeth'],_0x44875e[_0x4caa04(0x136)],_0x44875e[_0x4caa04(0x15f)]]);_0x44875e[_0x4caa04(0x151)](debug,'Total\x20duration\x20for\x20whole\x20build\x20is\x20'+_0x44875e[_0x4caa04(0x18f)](_0x171e85,0x3e8)+'\x20s'),_0x44875e['jYuyC'](debug,_0x4caa04(0x149)+_0x44875e[_0x4caa04(0x1c3)](_0x36b230,_0x2c86c6)),_0x44875e[_0x4caa04(0x165)](debug,_0x4caa04(0x158)+_0x44875e['HroZz'](_0x44875e[_0x4caa04(0x18f)](_0x44875e['coBul'](_0x36b230,_0x2c86c6),_0x171e85),0x64));},exports[a40_0x559dc1(0x184)]=()=>{const _0x51bddb=a40_0x559dc1,_0x157ac1={'etRUN':function(_0x3734d8,_0x183f0c){return _0x3734d8(_0x183f0c);},'aeTLR':function(_0x5a828c,_0xc34054){return _0x5a828c>=_0xc34054;},'ayrVG':_0x51bddb(0x1ba),'LObPj':_0x51bddb(0x14c),'XsQTv':_0x51bddb(0x159),'dIHxi':function(_0x44c499,_0x20583e){return _0x44c499>=_0x20583e;},'kOaMf':_0x51bddb(0x18c),'guypJ':_0x51bddb(0x1cb),'JYyup':_0x51bddb(0x1a2),'GbcWp':'@playwright/test/lib/common/transform.js'},_0x227e80=_0x157ac1[_0x51bddb(0x1a7)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x157ac1['aeTLR'](helper[_0x51bddb(0x1b5)](_0x227e80,_0x157ac1[_0x51bddb(0x1c0)]),0x0))return[_0x157ac1[_0x51bddb(0x152)],_0x157ac1[_0x51bddb(0x176)]];if(_0x157ac1[_0x51bddb(0x193)](helper[_0x51bddb(0x1b5)](_0x227e80,_0x157ac1['kOaMf']),0x0))return[_0x157ac1[_0x51bddb(0x1bc)],_0x157ac1[_0x51bddb(0x16f)]];return[_0x157ac1['GbcWp'],_0x157ac1[_0x51bddb(0x16f)]];},exports[a40_0x559dc1(0x18a)]=()=>{const _0x1dc57b=a40_0x559dc1,_0x3b1a84={'Elcxo':function(_0x43f65a,_0x1e0958){return _0x43f65a(_0x1e0958);},'AVeKk':function(_0xc2061b,_0x2a51a8){return _0xc2061b>=_0x2a51a8;},'fWhfS':_0x1dc57b(0x1ba),'TMsgS':_0x1dc57b(0x148),'owzAk':'playwright','VRhKO':_0x1dc57b(0x161),'HROUc':'@playwright/test'},_0xd3209=_0x3b1a84[_0x1dc57b(0x1bb)](getFrameworkVersion,FRAMEWORKS[_0x1dc57b(0x182)]);if(_0x3b1a84[_0x1dc57b(0x19d)](helper['compareVersions'](_0xd3209,_0x3b1a84[_0x1dc57b(0x1b6)]),0x0))return[_0x3b1a84['TMsgS'],_0x3b1a84[_0x1dc57b(0x197)]];return[_0x3b1a84['VRhKO'],_0x3b1a84[_0x1dc57b(0x1c9)]];},exports[a40_0x559dc1(0x1d2)]=()=>{const _0x43d38d=a40_0x559dc1,_0x150e85={};_0x150e85[_0x43d38d(0x16a)]=_0x43d38d(0x164);const _0x55361c=_0x150e85;return helper['getPlaywrightLibPath'](_0x55361c[_0x43d38d(0x16a)]);},exports[a40_0x559dc1(0x140)]=()=>{const _0x34eb8a=a40_0x559dc1,_0x12abcd={};_0x12abcd[_0x34eb8a(0x185)]=_0x34eb8a(0x1cd);const _0x137ef1=_0x12abcd;return helper[_0x34eb8a(0x14f)](_0x137ef1[_0x34eb8a(0x185)]);},exports[a40_0x559dc1(0x1ce)]=()=>{const _0x120bd0=a40_0x559dc1,_0x2827c0={'jhict':function(_0xb8c4dc,_0x2acc1f){return _0xb8c4dc(_0x2acc1f);},'HEZzw':function(_0x5f1ad0,_0x91c942){return _0x5f1ad0>=_0x91c942;},'HYFvT':'1.38.0','gubMd':_0x120bd0(0x1c1),'RuqoP':_0x120bd0(0x1b9),'wTSVz':_0x120bd0(0x13e),'OvsQF':'test'},_0x3ee560=_0x2827c0[_0x120bd0(0x1bd)](getFrameworkVersion,FRAMEWORKS[_0x120bd0(0x182)]);if(_0x2827c0[_0x120bd0(0x156)](helper[_0x120bd0(0x1b5)](_0x3ee560,_0x2827c0[_0x120bd0(0x18d)]),0x0))return path[_0x120bd0(0x1a6)](_0x2827c0['gubMd'],_0x2827c0['RuqoP'],_0x2827c0['wTSVz']);return path[_0x120bd0(0x1a6)](_0x2827c0['OvsQF'],_0x2827c0[_0x120bd0(0x17f)],_0x2827c0[_0x120bd0(0x1cc)],_0x2827c0[_0x120bd0(0x154)]);},exports[a40_0x559dc1(0x183)]=(_0x2577ff,{test_run_uuid:_0x44599f})=>{const _0x493bcc=a40_0x559dc1,_0x59d5a5={'kkeVJ':_0x493bcc(0x1b1),'glndD':_0x493bcc(0x1bf),'RrwdC':function(_0x50d150,_0x285b92){return _0x50d150<=_0x285b92;},'pjADt':function(_0x57c4c5,_0x473c32){return _0x57c4c5(_0x473c32);},'rUtKd':_0x493bcc(0x18b),'HtqQp':function(_0x4dfd5d,_0x2bed03){return _0x4dfd5d(_0x2bed03);},'qctsg':function(_0xa1f8ac,_0x549799){return _0xa1f8ac>=_0x549799;},'TLVOd':'1.42.0','jBucs':function(_0x10984f,_0x23863d){return _0x10984f>_0x23863d;},'hbWOR':function(_0x3dcb8a,_0x3b859b,_0x47b4a4){return _0x3dcb8a(_0x3b859b,_0x47b4a4);},'zzjAn':_0x493bcc(0x13a)};if(!_0x2577ff||_0x59d5a5[_0x493bcc(0x15c)](_0x2577ff[_0x493bcc(0x162)],0x0))return[];const _0x3c367a=_0x59d5a5['pjADt'](removeAnsiColors,_0x2577ff[0x0][_0x493bcc(0x172)]);if(_0x3c367a[_0x493bcc(0x1c6)](_0x59d5a5[_0x493bcc(0x16d)])){const _0x574c93=_0x2577ff[0x0],_0xd1d607=_0x59d5a5[_0x493bcc(0x160)](getFrameworkVersion,FRAMEWORKS[_0x493bcc(0x182)]);if((!_0x574c93['stack']||_0x59d5a5[_0x493bcc(0x1ac)](_0xd1d607,_0x59d5a5[_0x493bcc(0x1d3)]))&&_0x59d5a5[_0x493bcc(0x177)](_0x2577ff[_0x493bcc(0x162)],0x1))return{'failureData':[{'backtrace':[_0x3c367a,_0x59d5a5[_0x493bcc(0x14a)](removeAnsiColors,_0x2577ff[0x1][_0x493bcc(0x19e)])]}],'logs':_0x2577ff[_0x493bcc(0x1d1)](0x2)['map'](_0x2cb749=>{const _0x558436=_0x493bcc;return{'timestamp':new Date()[_0x558436(0x169)](),'level':_0x59d5a5[_0x558436(0x1ad)],'message':''+_0x2cb749[_0x558436(0x172)],'kind':_0x59d5a5[_0x558436(0x16c)],'http_response':{},'test_run_uuid':_0x44599f};})};}return{'failureData':_0x59d5a5['hbWOR'](failureData,_0x2577ff,_0x59d5a5[_0x493bcc(0x145)]),'logs':[]};},exports[a40_0x559dc1(0x1b2)]=_0x5a61e5=>{const _0x39b504=a40_0x559dc1,_0x2ffcea={};_0x2ffcea[_0x39b504(0x179)]=function(_0x2d4100,_0x2e1da9){return _0x2d4100!==_0x2e1da9;},_0x2ffcea[_0x39b504(0x15d)]=_0x39b504(0x187),_0x2ffcea[_0x39b504(0x13d)]=function(_0x12f644,_0x47cd81){return _0x12f644>_0x47cd81;};const _0xc80d0d=_0x2ffcea;if(_0x5a61e5&&fs[_0x39b504(0x1a9)](_0x5a61e5)){if(_0xc80d0d['SHuaE'](path['extname'](_0x5a61e5)[_0x39b504(0x1be)](),_0xc80d0d['WEECk']))return logger[_0x39b504(0x1b7)](_0x39b504(0x142)+_0x5a61e5),![];const _0x22cd84=fs[_0x39b504(0x180)](_0x5a61e5)[_0x39b504(0x190)];if(_0xc80d0d[_0x39b504(0x13d)](_0x22cd84,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x39b504(0x1b7)](_0x39b504(0x198)+_0x22cd84+_0x39b504(0x1af)),![];return!![];}return![];},exports[a40_0x559dc1(0x1a4)]=(_0x39bce3,_0x4050f0)=>{const _0x32413a=a40_0x559dc1,_0x5663d7={};_0x5663d7[_0x32413a(0x150)]=_0x32413a(0x1a0);const _0x45ea17=_0x5663d7;logger[_0x32413a(0x1c2)]('Searching\x20for\x20key:\x20'+_0x4050f0);if(_0x39bce3[_0x32413a(0x14e)]){const _0x5c9d9a=_0x39bce3['attachments'][_0x32413a(0x1b8)](_0x2755a5=>_0x2755a5[_0x32413a(0x144)]==='trace');if(_0x5c9d9a)return logger[_0x32413a(0x1c2)](_0x32413a(0x19f)+_0x4050f0+_0x32413a(0x147)),_0x5c9d9a[_0x4050f0];}else{if(Object[_0x32413a(0x153)]['toString'][_0x32413a(0x14b)](_0x39bce3)['includes'](_0x45ea17['shTcM']))for(const _0xfae2b9 of _0x39bce3){if(_0xfae2b9[_0x4050f0])return logger[_0x32413a(0x1c2)](_0x32413a(0x19f)+_0x4050f0+_0x32413a(0x1d0)),_0xfae2b9[_0x4050f0];}}return'';},exports[a40_0x559dc1(0x178)]=async(_0xa32c5b,_0x18c7a8)=>{const _0x5d3747=a40_0x559dc1,_0x41b994={};_0x41b994['LEUoe']=_0x5d3747(0x1c7),_0x41b994[_0x5d3747(0x143)]=_0x5d3747(0x1c5),_0x41b994[_0x5d3747(0x1a1)]=_0x5d3747(0x170),_0x41b994['zVvEc']=_0x5d3747(0x1a8);const _0x415c0e=_0x41b994;try{const _0x511354={'event_type':_0x415c0e[_0x5d3747(0x1d6)],'logs':[{'data':_0xa32c5b?fs[_0x5d3747(0x1ab)](_0xa32c5b):'','test_run_uuid':_0x18c7a8,'kind':_0x415c0e[_0x5d3747(0x143)],'fileName':_0xa32c5b?path[_0x5d3747(0x167)](_0xa32c5b):''}]};return await SessionHandler['sendEventData'](_0x511354,0x0,_0x415c0e[_0x5d3747(0x1a1)]);}catch(_0x105a93){logger['error'](util[_0x5d3747(0x191)](_0x415c0e[_0x5d3747(0x139)],_0x105a93));}},exports[a40_0x559dc1(0x170)]=async(_0x150084,_0xc95210)=>{const _0x21265f=a40_0x559dc1,_0x40a5a6={};_0x40a5a6[_0x21265f(0x19b)]=_0x21265f(0x1a3),_0x40a5a6[_0x21265f(0x157)]=_0x21265f(0x199),_0x40a5a6['lbiwj']='Error\x20in\x20sending\x20trace\x20file:\x20%s';const _0x264442=_0x40a5a6;try{logger[_0x21265f(0x1c2)]('Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20'+_0xc95210);const _0x481a50=await exports[_0x21265f(0x1a4)](_0x150084,_0x264442[_0x21265f(0x19b)]);if(exports[_0x21265f(0x1b2)](_0x481a50)){logger[_0x21265f(0x1c2)](_0x264442[_0x21265f(0x157)]);const _0x48f64f={};_0x48f64f['testUId']=_0xc95210,_0x48f64f['filePath']=_0x481a50;const _0x1b52b2=_0x48f64f;TestDetails['addTraceFilePath'](_0x1b52b2);};}catch(_0x4b5b50){logger[_0x21265f(0x1b7)](util['format'](_0x264442[_0x21265f(0x1d4)],_0x4b5b50));}};