const a43_0xac01e4=a43_0x55c3;(function(_0x1ebb90,_0x4dbdb5){const _0x4ff5f0=a43_0x55c3,_0x86dd7d=_0x1ebb90();while(!![]){try{const _0x16f8d9=parseInt(_0x4ff5f0(0x167))/0x1*(parseInt(_0x4ff5f0(0x1dc))/0x2)+parseInt(_0x4ff5f0(0x194))/0x3+-parseInt(_0x4ff5f0(0x139))/0x4*(parseInt(_0x4ff5f0(0x148))/0x5)+-parseInt(_0x4ff5f0(0x197))/0x6*(-parseInt(_0x4ff5f0(0x18b))/0x7)+-parseInt(_0x4ff5f0(0x15d))/0x8*(-parseInt(_0x4ff5f0(0x17e))/0x9)+-parseInt(_0x4ff5f0(0x1bc))/0xa+-parseInt(_0x4ff5f0(0x19d))/0xb;if(_0x16f8d9===_0x4dbdb5)break;else _0x86dd7d['push'](_0x86dd7d['shift']());}catch(_0x941657){_0x86dd7d['push'](_0x86dd7d['shift']());}}}(a43_0x2dd1,0xcb406));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a43_0xac01e4(0x176)),PerformanceTester=require(a43_0xac01e4(0x13e)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a43_0xac01e4(0x1b2)),helper=require('../../../helpers/helper'),path=require(a43_0xac01e4(0x173)),logger=require(a43_0xac01e4(0x1d0))[a43_0xac01e4(0x1d3)],SessionHandler=require(a43_0xac01e4(0x142)),TestDetails=require(a43_0xac01e4(0x181)),util=require('util'),TestInfo=require(a43_0xac01e4(0x1b3));let BrowserstackCLIInstance=null;function getBrowserstackCLI(){const _0x4fb429=a43_0xac01e4,_0x2f8808={'VKHVB':function(_0x1d488b,_0x5ba3e7){return _0x1d488b(_0x5ba3e7);},'ckHtw':_0x4fb429(0x19f)};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0x2f8808[_0x4fb429(0x16a)](require,_0x2f8808[_0x4fb429(0x1d9)])),BrowserstackCLIInstance;}function a43_0x55c3(_0x329734,_0x53b497){const _0x2dd1bd=a43_0x2dd1();return a43_0x55c3=function(_0x55c39b,_0x42ca9d){_0x55c39b=_0x55c39b-0x135;let _0x189aa7=_0x2dd1bd[_0x55c39b];return _0x189aa7;},a43_0x55c3(_0x329734,_0x53b497);}const getTagsFromTitle=_0x376fa=>{return _0x376fa['match'](/@(\w+)/g)?.['map'](_0xa8bfc0=>_0xa8bfc0['slice'](0x1))||[];};function a43_0x2dd1(){const _0x266b86=['joTPR','Error\x20in\x20sending\x20trace\x20file:\x20%s','testUId','aerWZ','addTraceFilePath','yvPQu','../../../helpers/logger','RZTif','error','winstonLogger','getLoadUtilsPath','stack','QFxGI','AZEeh','getForkProcessPath','ckHtw','SWrcW','@playwright/test','2ExCNoN','basename','Arguments','KJDRO','validateFilePath','common','sendTraceZip','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','processPageScreenshot','AGcRX','readdirSync','startsWith','uFSXI','GuOjD','env','ERVns','Hrdfn','98968eQMtzz','LhAyR','endSession','getConfigLoaderPath','test','../../../helpers/performance/performance-tester','length','join','PZmMw','../../../helpers/test-observability/sessionHandler','LltVM','sendEventData','aFytO','ldPsM','stopAndGenerate','55PahChO','@playwright/test/lib/common/configLoader.js','KrnId','getProjectUtilsPath','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','QvYLZ','pAQVr','1.42.0','hjWJg','findNestedKey','onTestBegin','.json','call','\x20in\x20arguments','aVSSq','bmcZy','ZSGtd','onStepBegin','Percentage\x20of\x20increased\x20time\x20is\x20','ERROR','process.js','2300944GdkEcm','resolve','map','jSHOS','statSync','Test\x20timeout\x20of','getTime','BGxlt','Searching\x20for\x20key:\x20','Trace\x20enabled','1119917xdHGBd','endsWith','existsSync','VKHVB','kXuxe','.zip','@playwright/test/lib/common/transform.js','LogCreated','afterTestHook','yOfxC','toLowerCase','lib','path','WMIRu','title','../../../helpers/test-observability/utils','tags','wHqWX','START_TIME','wZjSg','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','IeAvg','EMYSR','45IdEVvG','nPoag','ctBiP','./test-details','calculateTimesFromMultipleFiles','afterWorkerHook','SidtE','eQQRE','message','Kvadz','onBegin','1.35.0','qDFDm','4599Cadijy','KSuvw','getInstance','DcNqI','playwright/lib/transform/transform.js','aCUNM','WHrNU','slice','EXGfA','3262605MbKKZD','getPlaywrightLibPath','VsOqs','6486IpcijQ','BClZf','prototype','uJMwc','uploadTraceZip','INKHM','26829374wMbONJ','performance-report-worker-','../../v2/browserstackCLI','Found\x20key:\x20','createReadStream','kypkg','rBclm','includes','nCSzR','onTestEnd','performance-reporter.html','UjopE','getTransformPath','PgNEO','Vbuyt','doo11ySync','TEST_LOG','filePath','find','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','format','../../../helpers/test-observability/constants','../../v2/TestInfo','leFig','extname','1.38.0','runner/projectUtils.js','SPMhg','@playwright/test/lib/transform/transform.js','gFtvr','sendTestLog','8120450ZarpXv','Pmlba','WvQRj','sNqtf','PLAYWRIGHT','runner/loadUtils.js','playwright','GnqNN','debug','getFailureData','playwright/lib/common/configLoader.js','\x20in\x20attachments','compareVersions','zbize'];a43_0x2dd1=function(){return _0x266b86;};return a43_0x2dd1();}exports['getTestTags']=_0x1977db=>{const _0x1568f6=a43_0xac01e4,_0x59de9a={'zbize':function(_0x389a4c,_0x3147d9){return _0x389a4c(_0x3147d9);}};if(_0x1977db[_0x1568f6(0x177)])return _0x1977db[_0x1568f6(0x177)][_0x1568f6(0x15f)](_0x399366=>_0x399366[_0x1568f6(0x1e7)]('@')?_0x399366['substr'](0x1):_0x399366);return _0x59de9a[_0x1568f6(0x1c9)](getTagsFromTitle,_0x1977db[_0x1568f6(0x175)]);},exports['calculatePerformance']=async()=>{const _0x48da83=a43_0xac01e4,_0x2dbff6={'wHqWX':function(_0x130713,_0x35d9d1){return _0x130713-_0x35d9d1;},'aFytO':_0x48da83(0x1a7),'ctBiP':_0x48da83(0x188),'leFig':_0x48da83(0x13b),'aVSSq':_0x48da83(0x152),'bmcZy':_0x48da83(0x1a6),'SWrcW':_0x48da83(0x159),'joTPR':'onStepEnd','AjAce':'beforeWorkerHook','LhAyR':_0x48da83(0x183),'ZSGtd':'beforeTestHook','ablSu':_0x48da83(0x16f),'Kvadz':_0x48da83(0x1ac),'tPiie':_0x48da83(0x1e4),'kVNno':'sendSessionDetails','hjWJg':'setupBrowserDetails','yOfxC':'requestSpyCallback','KSuvw':_0x48da83(0x1bb),'sNqtf':function(_0xeb0f90,_0x47efce){return _0xeb0f90(_0x47efce);},'GuOjD':function(_0x47bffd,_0x441562){return _0x47bffd/_0x441562;},'wZjSg':function(_0x32497f,_0x37f2a9){return _0x32497f(_0x37f2a9);},'eUmGb':function(_0x31e72c,_0x394e4a){return _0x31e72c+_0x394e4a;},'ScMJi':function(_0x1ef11a,_0x474e3e){return _0x1ef11a(_0x474e3e);},'WMIRu':function(_0x5655ae,_0x1992c0){return _0x5655ae*_0x1992c0;},'GnqNN':function(_0x5e60cd,_0x2b4c3c){return _0x5e60cd/_0x2b4c3c;},'DVGni':function(_0x1ecd47,_0x36c857){return _0x1ecd47+_0x36c857;}};if(!process[_0x48da83(0x136)][_0x48da83(0x179)])return;const _0x31ca3b=_0x2dbff6[_0x48da83(0x178)](new Date()['getTime'](),new Date(process[_0x48da83(0x136)][_0x48da83(0x179)])[_0x48da83(0x163)]()),_0x2c374b=await PerformanceTester[_0x48da83(0x147)](_0x2dbff6[_0x48da83(0x145)],[_0x2dbff6[_0x48da83(0x180)],_0x2dbff6[_0x48da83(0x1b4)],_0x2dbff6[_0x48da83(0x156)],_0x2dbff6[_0x48da83(0x157)],_0x2dbff6[_0x48da83(0x1da)],_0x2dbff6[_0x48da83(0x1ca)]]),_0x10d76c=fs[_0x48da83(0x1e6)]('.'),_0x50f2e2=_0x10d76c['filter'](_0x4791c1=>_0x4791c1[_0x48da83(0x1e7)](_0x48da83(0x19e))&&_0x4791c1[_0x48da83(0x168)](_0x48da83(0x153))),_0x52d130=await PerformanceTester[_0x48da83(0x182)](_0x50f2e2,[_0x2dbff6['AjAce'],_0x2dbff6[_0x48da83(0x13a)],_0x2dbff6[_0x48da83(0x158)],_0x2dbff6['ablSu'],_0x2dbff6[_0x48da83(0x187)],_0x2dbff6['tPiie'],_0x2dbff6['kVNno'],_0x2dbff6[_0x48da83(0x150)],_0x2dbff6[_0x48da83(0x170)],_0x2dbff6[_0x48da83(0x18c)]]);_0x2dbff6[_0x48da83(0x1bf)](debug,'Total\x20duration\x20for\x20whole\x20build\x20is\x20'+_0x2dbff6[_0x48da83(0x135)](_0x31ca3b,0x3e8)+'\x20s'),_0x2dbff6[_0x48da83(0x17a)](debug,_0x48da83(0x17b)+_0x2dbff6['eUmGb'](_0x52d130,_0x2c374b)),_0x2dbff6['ScMJi'](debug,_0x48da83(0x15a)+_0x2dbff6[_0x48da83(0x174)](_0x2dbff6[_0x48da83(0x1c3)](_0x2dbff6['DVGni'](_0x52d130,_0x2c374b),_0x31ca3b),0x64));},exports[a43_0xac01e4(0x1a9)]=()=>{const _0x5e143c=a43_0xac01e4,_0x3b2083={'EMYSR':function(_0x52e9de,_0x3edfb2){return _0x52e9de(_0x3edfb2);},'rBclm':function(_0x5cfbd0,_0x59b76a){return _0x5cfbd0>=_0x59b76a;},'DcNqI':_0x5e143c(0x1b6),'Pmlba':_0x5e143c(0x18f),'jSHOS':'playwright','RVAky':_0x5e143c(0x189),'SPMhg':_0x5e143c(0x1b9),'pAQVr':'@playwright/test','girDT':_0x5e143c(0x16d)},_0x3e837d=_0x3b2083[_0x5e143c(0x17d)](getFrameworkVersion,FRAMEWORKS[_0x5e143c(0x1c0)]);if(_0x3b2083[_0x5e143c(0x1a3)](helper['compareVersions'](_0x3e837d,_0x3b2083[_0x5e143c(0x18e)]),0x0))return[_0x3b2083[_0x5e143c(0x1bd)],_0x3b2083[_0x5e143c(0x160)]];if(_0x3b2083['rBclm'](helper[_0x5e143c(0x1c8)](_0x3e837d,_0x3b2083['RVAky']),0x0))return[_0x3b2083[_0x5e143c(0x1b8)],_0x3b2083[_0x5e143c(0x14e)]];return[_0x3b2083['girDT'],_0x3b2083['pAQVr']];},exports[a43_0xac01e4(0x13c)]=()=>{const _0x2da30d=a43_0xac01e4,_0x383efc={'BGxlt':function(_0x5e8c26,_0x500fa7){return _0x5e8c26(_0x500fa7);},'ldPsM':function(_0x19a8ce,_0x33ed1e){return _0x19a8ce>=_0x33ed1e;},'AGcRX':_0x2da30d(0x1b6),'aerWZ':_0x2da30d(0x1c6),'WHrNU':_0x2da30d(0x1c2),'ERVns':_0x2da30d(0x149),'BClZf':_0x2da30d(0x1db)},_0x108985=_0x383efc[_0x2da30d(0x164)](getFrameworkVersion,FRAMEWORKS[_0x2da30d(0x1c0)]);if(_0x383efc[_0x2da30d(0x146)](helper[_0x2da30d(0x1c8)](_0x108985,_0x383efc[_0x2da30d(0x1e5)]),0x0))return[_0x383efc[_0x2da30d(0x1cd)],_0x383efc[_0x2da30d(0x191)]];return[_0x383efc[_0x2da30d(0x137)],_0x383efc[_0x2da30d(0x198)]];},exports[a43_0xac01e4(0x1d4)]=()=>{const _0x4f52c6=a43_0xac01e4,_0x1c212b={};_0x1c212b[_0x4f52c6(0x185)]=_0x4f52c6(0x1c1);const _0x138651=_0x1c212b;return helper[_0x4f52c6(0x195)](_0x138651['eQQRE']);},exports[a43_0xac01e4(0x14b)]=()=>{const _0x808923=a43_0xac01e4,_0x25421b={};_0x25421b[_0x808923(0x138)]=_0x808923(0x1b7);const _0x45aff8=_0x25421b;return helper['getPlaywrightLibPath'](_0x45aff8[_0x808923(0x138)]);},exports[a43_0xac01e4(0x1d8)]=()=>{const _0x24d70f=a43_0xac01e4,_0x30827a={'PZmMw':function(_0x1a5c44,_0x551f43){return _0x1a5c44(_0x551f43);},'JmRzt':function(_0x4d32eb,_0x3d5615){return _0x4d32eb>=_0x3d5615;},'qRsJu':_0x24d70f(0x1b6),'yvPQu':_0x24d70f(0x172),'INKHM':_0x24d70f(0x1e1),'SidtE':_0x24d70f(0x15c),'JvYaN':_0x24d70f(0x13d)},_0x1133b8=_0x30827a[_0x24d70f(0x141)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x30827a['JmRzt'](helper['compareVersions'](_0x1133b8,_0x30827a['qRsJu']),0x0))return path[_0x24d70f(0x140)](_0x30827a[_0x24d70f(0x1cf)],_0x30827a['INKHM'],_0x30827a[_0x24d70f(0x184)]);return path[_0x24d70f(0x140)](_0x30827a['JvYaN'],_0x30827a[_0x24d70f(0x1cf)],_0x30827a[_0x24d70f(0x19c)],_0x30827a[_0x24d70f(0x184)]);},exports[a43_0xac01e4(0x1c5)]=(_0x2d05f4,{test_run_uuid:_0x228c9d})=>{const _0x1c3353=a43_0xac01e4,_0x2ee8ba={'RZTif':_0x1c3353(0x15b),'QFxGI':_0x1c3353(0x1ad),'QvYLZ':function(_0x4e937f,_0x32078e){return _0x4e937f<=_0x32078e;},'WvQRj':function(_0x3851d4,_0x1627e6){return _0x3851d4(_0x1627e6);},'KJDRO':_0x1c3353(0x162),'KrnId':function(_0x30234b,_0x2758cd){return _0x30234b(_0x2758cd);},'gFtvr':function(_0x4e0aef,_0x2616d1){return _0x4e0aef>=_0x2616d1;},'qDFDm':_0x1c3353(0x14f),'EXGfA':function(_0xeae325,_0x29a2f8){return _0xeae325>_0x29a2f8;},'nPoag':function(_0x3a72dc,_0x10bcc1,_0x3e8223){return _0x3a72dc(_0x10bcc1,_0x3e8223);},'kypkg':_0x1c3353(0x13d)};if(!_0x2d05f4||_0x2ee8ba[_0x1c3353(0x14d)](_0x2d05f4[_0x1c3353(0x13f)],0x0))return[];const _0x4a91c6=_0x2ee8ba[_0x1c3353(0x1be)](removeAnsiColors,_0x2d05f4[0x0][_0x1c3353(0x186)]);if(_0x4a91c6[_0x1c3353(0x1e7)](_0x2ee8ba[_0x1c3353(0x1df)])){const _0x328fae=_0x2d05f4[0x0],_0x34db92=_0x2ee8ba[_0x1c3353(0x14a)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if((!_0x328fae[_0x1c3353(0x1d5)]||_0x2ee8ba[_0x1c3353(0x1ba)](_0x34db92,_0x2ee8ba[_0x1c3353(0x18a)]))&&_0x2ee8ba[_0x1c3353(0x193)](_0x2d05f4['length'],0x1))return{'failureData':[{'backtrace':[_0x4a91c6,_0x2ee8ba[_0x1c3353(0x1be)](removeAnsiColors,_0x2d05f4[0x1][_0x1c3353(0x1d5)])]}],'logs':_0x2d05f4[_0x1c3353(0x192)](0x2)[_0x1c3353(0x15f)](_0x21e602=>{const _0x41feee=_0x1c3353;return{'timestamp':new Date()['toISOString'](),'level':_0x2ee8ba[_0x41feee(0x1d1)],'message':''+_0x21e602['message'],'kind':_0x2ee8ba[_0x41feee(0x1d6)],'http_response':{},'test_run_uuid':_0x228c9d};})};}return{'failureData':_0x2ee8ba[_0x1c3353(0x17f)](failureData,_0x2d05f4,_0x2ee8ba[_0x1c3353(0x1a2)]),'logs':[]};},exports[a43_0xac01e4(0x1e0)]=_0x10362e=>{const _0x4d2076=a43_0xac01e4,_0x539e5c={};_0x539e5c[_0x4d2076(0x1aa)]=function(_0x54a45e,_0x30e25f){return _0x54a45e!==_0x30e25f;},_0x539e5c[_0x4d2076(0x1a5)]=_0x4d2076(0x16c),_0x539e5c['Vbuyt']=function(_0x321f1e,_0x31d58c){return _0x321f1e>_0x31d58c;};const _0x43f40c=_0x539e5c;if(_0x10362e&&fs[_0x4d2076(0x169)](_0x10362e)){if(_0x43f40c[_0x4d2076(0x1aa)](path[_0x4d2076(0x1b5)](_0x10362e)[_0x4d2076(0x171)](),_0x43f40c[_0x4d2076(0x1a5)]))return logger[_0x4d2076(0x1d2)](_0x4d2076(0x14c)+_0x10362e),![];const _0x41895a=fs[_0x4d2076(0x161)](_0x10362e)['size'];if(_0x43f40c[_0x4d2076(0x1ab)](_0x41895a,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x4d2076(0x1d2)](_0x4d2076(0x1b0)+_0x41895a+'\x20bytes'),![];return!![];}return![];},exports[a43_0xac01e4(0x151)]=(_0x1f986d,_0x3e313d)=>{const _0x169c79=a43_0xac01e4,_0x527681={};_0x527681[_0x169c79(0x1e8)]=_0x169c79(0x1de);const _0x263c8d=_0x527681;logger[_0x169c79(0x1c4)](_0x169c79(0x165)+_0x3e313d);if(_0x1f986d&&_0x1f986d['attachments']){const _0x25be4a=_0x1f986d['attachments'][_0x169c79(0x1af)](_0x5856df=>_0x5856df['name']==='trace');if(_0x25be4a)return logger['debug']('Found\x20key:\x20'+_0x3e313d+_0x169c79(0x1c7)),_0x25be4a[_0x3e313d];}else{if(_0x1f986d&&Object[_0x169c79(0x199)]['toString'][_0x169c79(0x154)](_0x1f986d)[_0x169c79(0x1a4)](_0x263c8d[_0x169c79(0x1e8)]))for(const _0x5966f6 of _0x1f986d){if(_0x5966f6[_0x3e313d])return logger['debug'](_0x169c79(0x1a0)+_0x3e313d+_0x169c79(0x155)),_0x5966f6[_0x3e313d];}};return'';},exports[a43_0xac01e4(0x19b)]=async(_0x1c6ffe,_0x33b8af)=>{const _0x1845df=a43_0xac01e4,_0x2c73ab={};_0x2c73ab[_0x1845df(0x1a8)]=_0x1845df(0x16e),_0x2c73ab['uJMwc']='TEST_ATTACHMENT',_0x2c73ab[_0x1845df(0x17c)]=_0x1845df(0x1e2),_0x2c73ab[_0x1845df(0x1d7)]=_0x1845df(0x1cb);const _0x1372ff=_0x2c73ab;try{const _0x2d65b6={'event_type':_0x1372ff[_0x1845df(0x1a8)],'logs':[{'data':_0x1c6ffe?fs[_0x1845df(0x1a1)](_0x1c6ffe):'','test_run_uuid':_0x33b8af,'kind':_0x1372ff[_0x1845df(0x19a)],'fileName':_0x1c6ffe?path[_0x1845df(0x1dd)](_0x1c6ffe):''}]};return await SessionHandler[_0x1845df(0x144)](_0x2d65b6,0x0,_0x1372ff[_0x1845df(0x17c)]);}catch(_0xcb2c8c){logger['error'](util[_0x1845df(0x1b1)](_0x1372ff[_0x1845df(0x1d7)],_0xcb2c8c));}},exports[a43_0xac01e4(0x1e2)]=async(_0x1597e7,_0x34ec3c)=>{const _0x33997c=a43_0xac01e4,_0x367ad2={'VsOqs':_0x33997c(0x173),'kXuxe':_0x33997c(0x166),'LltVM':function(_0x402f57){return _0x402f57();},'aCUNM':_0x33997c(0x1cb)};try{logger[_0x33997c(0x1c4)](_0x33997c(0x1e3)+_0x34ec3c);let _0xe79200=await exports[_0x33997c(0x151)](_0x1597e7,_0x367ad2[_0x33997c(0x196)]);if(exports[_0x33997c(0x1e0)](_0xe79200)){logger[_0x33997c(0x1c4)](_0x367ad2[_0x33997c(0x16b)]),_0xe79200=path[_0x33997c(0x15e)](_0xe79200);const _0x286ae8={};_0x286ae8[_0x33997c(0x1cc)]=_0x34ec3c,_0x286ae8[_0x33997c(0x1ae)]=_0xe79200;const _0x5a2b15=_0x286ae8;_0x367ad2[_0x33997c(0x143)](getBrowserstackCLI)[_0x33997c(0x18d)]()['isRunning']()?TestInfo['addTraceFilePath'](_0x5a2b15):TestDetails[_0x33997c(0x1ce)](_0x5a2b15);};}catch(_0x5f078c){logger['error'](util['format'](_0x367ad2[_0x33997c(0x190)],_0x5f078c));}};