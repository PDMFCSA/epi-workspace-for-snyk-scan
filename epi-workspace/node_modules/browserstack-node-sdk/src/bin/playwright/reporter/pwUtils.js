const a44_0x5b57b4=a44_0x3229;(function(_0x227fba,_0x4580be){const _0x5deb75=a44_0x3229,_0x2d3484=_0x227fba();while(!![]){try{const _0x5bcd09=parseInt(_0x5deb75(0xe2))/0x1+parseInt(_0x5deb75(0xe8))/0x2*(parseInt(_0x5deb75(0xa0))/0x3)+-parseInt(_0x5deb75(0xe4))/0x4*(-parseInt(_0x5deb75(0x75))/0x5)+-parseInt(_0x5deb75(0xf3))/0x6*(parseInt(_0x5deb75(0xc4))/0x7)+parseInt(_0x5deb75(0x93))/0x8+-parseInt(_0x5deb75(0xf2))/0x9+-parseInt(_0x5deb75(0x84))/0xa;if(_0x5bcd09===_0x4580be)break;else _0x2d3484['push'](_0x2d3484['shift']());}catch(_0x5940ec){_0x2d3484['push'](_0x2d3484['shift']());}}}(a44_0x5024,0xeadcf));function a44_0x5024(){const _0x1da3a1=['vlIcl','lOyGL','OmrmX','2082232JHojbt','winstonLogger','join','call','getFailureData','process.js','QARFe','filePath','QWGib','format','AgINF','bbNKK','SCfql','1986195JtdidP','1.38.0','runner/loadUtils.js','wVLSL','calculateTimesFromMultipleFiles','vHXiU','uploadTraceZip','../../../helpers/helper','@playwright/test/lib/common/configLoader.js','PhADS','doo11ySync','findNestedKey','find','HMOcv','getTime','runner/projectUtils.js','PvGEr','onTestEnd','getConfigLoaderPath','wfvLm','\x20in\x20attachments','getLoadUtilsPath','beforeTestHook','qOmAN','gQsUE','env','nzmMC','JhaGU','kvcsN','pIXzE','fAWdh','basename','map','playwright/lib/transform/transform.js','Total\x20duration\x20for\x20whole\x20build\x20is\x20','endsWith','28ovdByp','test','pePKV','onStepEnd','iIKsa','getForkProcessPath','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','oTTiH','Arguments','ERROR','getTestRunIdentifier','attachments','addTraceFilePath','sendTestLog','match','prototype','common','path','Found\x20key:\x20','ZkSWL','pxVVS','getPlaywrightLibPath','JmaoI','LZCQY','readdirSync','onBegin','processPageScreenshot','gOHln','cRJgy','Dtwnf','1414262orRLRt','jmeEJ','96IfSgrc','startsWith','getTestTags','stopAndGenerate','2cqXrYO','statSync','TEST_ATTACHMENT','sPFHC','dPlaK','DyGEv','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','jdwTO','EyxTt','kwsGY','1693125DjYlBf','714930GbzHoX','toLowerCase','yOoeG','@playwright/test/lib/common/transform.js','HJRfb','filter','ysIfE','onStepBegin','../../v2/browserstackCLI','VLpdc','title','Ufdml','AGRDP','playwright','hwKZh','../../../helpers/test-observability/constants','LogCreated','onTestBegin','@playwright/test/lib/transform/transform.js','validateFilePath','.json','vTsIO','util','requestSpyCallback','message','fhcYx','debug','beforeWorkerHook','IJlIH','@playwright/test','sCtQm','OyNYG','HDdcb','nyAvf','RwLVS','tags','extname','length','setupBrowserDetails','Trace\x20enabled','282965fqMTgb','UXFuw','_projectId','../../../helpers/test-observability/sessionHandler','GcVjk','START_TIME','XIzgg','stack','ujSWH','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','Percentage\x20of\x20increased\x20time\x20is\x20','PLAYWRIGHT','existsSync','Searching\x20for\x20key:\x20','rxxoN','20680940PnQMas','sendTraceZip','error','sendEventData','sHYPZ','getInstance','slice','performance-reporter.html','1.35.0','MbgUI','TYLUL','compareVersions'];a44_0x5024=function(){return _0x1da3a1;};return a44_0x5024();}const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require('../../../helpers/test-observability/utils'),PerformanceTester=require('../../../helpers/performance/performance-tester'),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a44_0x5b57b4(0x102)),helper=require(a44_0x5b57b4(0xa7)),path=require(a44_0x5b57b4(0xd5)),logger=require('../../../helpers/logger')[a44_0x5b57b4(0x94)],SessionHandler=require(a44_0x5b57b4(0x78)),TestDetails=require('./test-details'),util=require(a44_0x5b57b4(0x109)),TestInfo=require('../../v2/TestInfo');let BrowserstackCLIInstance=null;function getBrowserstackCLI(){const _0x5d9998=a44_0x5b57b4,_0x3f183e={'AgINF':function(_0x15d44a,_0x4a224e){return _0x15d44a(_0x4a224e);},'QqJjz':_0x5d9998(0xfb)};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0x3f183e[_0x5d9998(0x9d)](require,_0x3f183e['QqJjz'])),BrowserstackCLIInstance;}function a44_0x3229(_0x37bb26,_0x9f71fb){const _0x50242e=a44_0x5024();return a44_0x3229=function(_0x322944,_0x471fff){_0x322944=_0x322944-0x71;let _0x29bf76=_0x50242e[_0x322944];return _0x29bf76;},a44_0x3229(_0x37bb26,_0x9f71fb);}const getTagsFromTitle=_0x471f36=>{const _0x11a85c=a44_0x5b57b4;return _0x471f36[_0x11a85c(0xd2)](/@(\w+)/g)?.[_0x11a85c(0xc0)](_0x11d4f0=>_0x11d4f0[_0x11a85c(0x8a)](0x1))||[];};exports[a44_0x5b57b4(0xe6)]=_0x4ef25a=>{const _0x564a58=a44_0x5b57b4,_0x400d92={'vTsIO':function(_0x2fc545,_0x2cd0ed){return _0x2fc545(_0x2cd0ed);}};if(_0x4ef25a[_0x564a58(0x116)])return _0x4ef25a[_0x564a58(0x116)][_0x564a58(0xc0)](_0x2aef2f=>_0x2aef2f[_0x564a58(0xe5)]('@')?_0x2aef2f['substr'](0x1):_0x2aef2f);return _0x400d92[_0x564a58(0x108)](getTagsFromTitle,_0x4ef25a[_0x564a58(0xfd)]);},exports['calculatePerformance']=async()=>{const _0x314429=a44_0x5b57b4,_0x29a566={'TYLUL':function(_0x4807a5,_0x50e313){return _0x4807a5-_0x50e313;},'ZkSWL':_0x314429(0x8b),'HMOcv':_0x314429(0xdd),'bbNKK':'endSession','wfvLm':_0x314429(0x104),'rxxoN':_0x314429(0xb1),'uchrM':_0x314429(0xfa),'UXFuw':_0x314429(0xc7),'JmaoI':_0x314429(0x10e),'IJlIH':'afterWorkerHook','nzmMC':_0x314429(0xb6),'yFLSX':'afterTestHook','hzTCO':_0x314429(0xaa),'iIKsa':_0x314429(0xde),'OyNYG':'sendSessionDetails','ljpoO':_0x314429(0x73),'gOHln':_0x314429(0x10a),'hwKZh':_0x314429(0xd1),'nyAvf':function(_0x119270,_0x10d7e2){return _0x119270(_0x10d7e2);},'KBWgN':function(_0x38a737,_0x303181){return _0x38a737/_0x303181;},'TcMkJ':function(_0x1b4c3d,_0x5a2d48){return _0x1b4c3d+_0x5a2d48;},'ofSxh':function(_0x9c4afe,_0x34ea5d){return _0x9c4afe*_0x34ea5d;},'jmeEJ':function(_0x343d35,_0x5beed3){return _0x343d35/_0x5beed3;}};if(!process[_0x314429(0xb9)][_0x314429(0x7a)])return;const _0x22dc2c=_0x29a566[_0x314429(0x8e)](new Date()[_0x314429(0xae)](),new Date(process[_0x314429(0xb9)][_0x314429(0x7a)])[_0x314429(0xae)]()),_0x3ec5b9=await PerformanceTester[_0x314429(0xe7)](_0x29a566[_0x314429(0xd7)],[_0x29a566[_0x314429(0xad)],_0x29a566[_0x314429(0x9e)],_0x29a566[_0x314429(0xb3)],_0x29a566[_0x314429(0x83)],_0x29a566['uchrM'],_0x29a566[_0x314429(0x76)]]),_0x3ce19b=fs[_0x314429(0xdc)]('.'),_0x58b43e=_0x3ce19b[_0x314429(0xf8)](_0x4b358c=>_0x4b358c[_0x314429(0xe5)]('performance-report-worker-')&&_0x4b358c[_0x314429(0xc3)](_0x314429(0x107))),_0x440235=await PerformanceTester[_0x314429(0xa4)](_0x58b43e,[_0x29a566[_0x314429(0xda)],_0x29a566[_0x314429(0x10f)],_0x29a566[_0x314429(0xba)],_0x29a566['yFLSX'],_0x29a566['hzTCO'],_0x29a566[_0x314429(0xc8)],_0x29a566[_0x314429(0x112)],_0x29a566['ljpoO'],_0x29a566[_0x314429(0xdf)],_0x29a566[_0x314429(0x101)]]);_0x29a566[_0x314429(0x114)](debug,_0x314429(0xc2)+_0x29a566['KBWgN'](_0x22dc2c,0x3e8)+'\x20s'),_0x29a566[_0x314429(0x114)](debug,_0x314429(0xee)+_0x29a566['TcMkJ'](_0x440235,_0x3ec5b9)),_0x29a566[_0x314429(0x114)](debug,_0x314429(0x7f)+_0x29a566['ofSxh'](_0x29a566[_0x314429(0xe3)](_0x29a566['TcMkJ'](_0x440235,_0x3ec5b9),_0x22dc2c),0x64));},exports['getTransformPath']=()=>{const _0x2a8605=a44_0x5b57b4,_0x2dee04={'qOmAN':function(_0x9b9884,_0x469a9e){return _0x9b9884(_0x469a9e);},'sHYPZ':function(_0x3849e5,_0x5610e5){return _0x3849e5>=_0x5610e5;},'cRJgy':_0x2a8605(0xa1),'OvvmU':_0x2a8605(0xc1),'DyGEv':_0x2a8605(0x100),'ScjeI':function(_0x32ee2d,_0x2cd4e3){return _0x32ee2d>=_0x2cd4e3;},'fAWdh':_0x2a8605(0x8c),'pIXzE':_0x2a8605(0x105),'OmrmX':_0x2a8605(0x110),'GcVjk':_0x2a8605(0xf6)},_0x82e6ab=_0x2dee04[_0x2a8605(0xb7)](getFrameworkVersion,FRAMEWORKS[_0x2a8605(0x80)]);if(_0x2dee04[_0x2a8605(0x88)](helper['compareVersions'](_0x82e6ab,_0x2dee04[_0x2a8605(0xe0)]),0x0))return[_0x2dee04['OvvmU'],_0x2dee04[_0x2a8605(0xed)]];if(_0x2dee04['ScjeI'](helper['compareVersions'](_0x82e6ab,_0x2dee04[_0x2a8605(0xbe)]),0x0))return[_0x2dee04[_0x2a8605(0xbd)],_0x2dee04[_0x2a8605(0x92)]];return[_0x2dee04[_0x2a8605(0x79)],_0x2dee04[_0x2a8605(0x92)]];},exports[a44_0x5b57b4(0xb2)]=()=>{const _0x4af127=a44_0x5b57b4,_0x16dbd8={'EyxTt':function(_0x582195,_0x2432d2){return _0x582195(_0x2432d2);},'PvGEr':function(_0x3e1d2f,_0x503d55){return _0x3e1d2f>=_0x503d55;},'VLpdc':_0x4af127(0xa1),'ljfwe':'playwright/lib/common/configLoader.js','sPFHC':_0x4af127(0x100),'pePKV':_0x4af127(0xa8),'vlIcl':_0x4af127(0x110)},_0x5a3581=_0x16dbd8[_0x4af127(0xf0)](getFrameworkVersion,FRAMEWORKS[_0x4af127(0x80)]);if(_0x16dbd8[_0x4af127(0xb0)](helper[_0x4af127(0x8f)](_0x5a3581,_0x16dbd8[_0x4af127(0xfc)]),0x0))return[_0x16dbd8['ljfwe'],_0x16dbd8[_0x4af127(0xeb)]];return[_0x16dbd8[_0x4af127(0xc6)],_0x16dbd8[_0x4af127(0x90)]];},exports[a44_0x5b57b4(0xb5)]=()=>{const _0x2a4d7e=a44_0x5b57b4,_0x2f001a={};_0x2f001a[_0x2a4d7e(0x115)]=_0x2a4d7e(0xa2);const _0x4b752d=_0x2f001a;return helper[_0x2a4d7e(0xd9)](_0x4b752d[_0x2a4d7e(0x115)]);},exports['getProjectUtilsPath']=()=>{const _0x50dcb6=a44_0x5b57b4,_0x16b746={};_0x16b746[_0x50dcb6(0x8d)]=_0x50dcb6(0xaf);const _0xcbccc=_0x16b746;return helper['getPlaywrightLibPath'](_0xcbccc['MbgUI']);},exports[a44_0x5b57b4(0xc9)]=()=>{const _0x1fa814=a44_0x5b57b4,_0x6d0d0c={'JhaGU':function(_0x274ba6,_0x527081){return _0x274ba6(_0x527081);},'yOoeG':function(_0x4bf72b,_0x47561c){return _0x4bf72b>=_0x47561c;},'ujSWH':_0x1fa814(0xa1),'ysIfE':'lib','kvcsN':_0x1fa814(0xd4),'LZCQY':_0x1fa814(0x98),'HDdcb':_0x1fa814(0xc5)},_0x1c3047=_0x6d0d0c[_0x1fa814(0xbb)](getFrameworkVersion,FRAMEWORKS[_0x1fa814(0x80)]);if(_0x6d0d0c[_0x1fa814(0xf5)](helper[_0x1fa814(0x8f)](_0x1c3047,_0x6d0d0c[_0x1fa814(0x7d)]),0x0))return path[_0x1fa814(0x95)](_0x6d0d0c[_0x1fa814(0xf9)],_0x6d0d0c[_0x1fa814(0xbc)],_0x6d0d0c['LZCQY']);return path[_0x1fa814(0x95)](_0x6d0d0c[_0x1fa814(0x113)],_0x6d0d0c[_0x1fa814(0xf9)],_0x6d0d0c['kvcsN'],_0x6d0d0c[_0x1fa814(0xdb)]);},exports[a44_0x5b57b4(0x97)]=(_0x1b0963,{test_run_uuid:_0x46d0df})=>{const _0x2b9ed4=a44_0x5b57b4,_0x26bd6e={'Ufdml':_0x2b9ed4(0xcd),'dPlaK':'TEST_LOG','jdwTO':function(_0x1f16dc,_0x4ded18){return _0x1f16dc<=_0x4ded18;},'SCfql':function(_0x8e6a13,_0x2d30fc){return _0x8e6a13(_0x2d30fc);},'MxAPs':'Test\x20timeout\x20of','nNWxa':function(_0x119a78,_0x34c85c){return _0x119a78>=_0x34c85c;},'QWGib':'1.42.0','PhADS':function(_0x2e9be3,_0x501503){return _0x2e9be3>_0x501503;},'UONcR':function(_0x103d4f,_0x51edd2){return _0x103d4f(_0x51edd2);},'HYuJU':function(_0x4d6d29,_0xf34bac,_0xcd0ad1){return _0x4d6d29(_0xf34bac,_0xcd0ad1);},'vHXiU':_0x2b9ed4(0xc5)};if(!_0x1b0963||_0x26bd6e[_0x2b9ed4(0xef)](_0x1b0963[_0x2b9ed4(0x72)],0x0))return[];const _0x22382f=_0x26bd6e[_0x2b9ed4(0x9f)](removeAnsiColors,_0x1b0963[0x0][_0x2b9ed4(0x10b)]);if(_0x22382f[_0x2b9ed4(0xe5)](_0x26bd6e['MxAPs'])){const _0x150034=_0x1b0963[0x0],_0x4b6488=_0x26bd6e[_0x2b9ed4(0x9f)](getFrameworkVersion,FRAMEWORKS[_0x2b9ed4(0x80)]);if((!_0x150034[_0x2b9ed4(0x7c)]||_0x26bd6e['nNWxa'](_0x4b6488,_0x26bd6e[_0x2b9ed4(0x9b)]))&&_0x26bd6e[_0x2b9ed4(0xa9)](_0x1b0963[_0x2b9ed4(0x72)],0x1))return{'failureData':[{'backtrace':[_0x22382f,_0x26bd6e['UONcR'](removeAnsiColors,_0x1b0963[0x1]['stack'])]}],'logs':_0x1b0963[_0x2b9ed4(0x8a)](0x2)[_0x2b9ed4(0xc0)](_0xc0edaa=>{const _0x422e7c=_0x2b9ed4;return{'timestamp':new Date()['toISOString'](),'level':_0x26bd6e[_0x422e7c(0xfe)],'message':''+_0xc0edaa[_0x422e7c(0x10b)],'kind':_0x26bd6e[_0x422e7c(0xec)],'http_response':{},'test_run_uuid':_0x46d0df};})};}return{'failureData':_0x26bd6e['HYuJU'](failureData,_0x1b0963,_0x26bd6e[_0x2b9ed4(0xa5)]),'logs':[]};},exports[a44_0x5b57b4(0x106)]=_0x2ba089=>{const _0x110b9b=a44_0x5b57b4,_0x584ad8={};_0x584ad8['Dtwnf']=function(_0x114897,_0x597d74){return _0x114897!==_0x597d74;},_0x584ad8['ipyKL']='.zip',_0x584ad8['HJRfb']=function(_0x2ba6fb,_0x17cb27){return _0x2ba6fb>_0x17cb27;};const _0x2ef120=_0x584ad8;if(_0x2ba089&&fs[_0x110b9b(0x81)](_0x2ba089)){if(_0x2ef120[_0x110b9b(0xe1)](path[_0x110b9b(0x71)](_0x2ba089)[_0x110b9b(0xf4)](),_0x2ef120['ipyKL']))return logger[_0x110b9b(0x86)](_0x110b9b(0x7e)+_0x2ba089),![];const _0x491bb1=fs[_0x110b9b(0xe9)](_0x2ba089)['size'];if(_0x2ef120[_0x110b9b(0xf7)](_0x491bb1,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x110b9b(0x86)]('Trace\x20file\x20size\x20exceeds\x20100MB:\x20'+_0x491bb1+'\x20bytes'),![];return!![];}return![];},exports[a44_0x5b57b4(0xab)]=(_0xfad74,_0x475f8c)=>{const _0xa8fa0d=a44_0x5b57b4,_0x5b0333={};_0x5b0333[_0xa8fa0d(0x99)]=_0xa8fa0d(0xcc);const _0x337c49=_0x5b0333;logger[_0xa8fa0d(0x10d)](_0xa8fa0d(0x82)+_0x475f8c);if(_0xfad74&&_0xfad74[_0xa8fa0d(0xcf)]){const _0x482b58=_0xfad74[_0xa8fa0d(0xcf)][_0xa8fa0d(0xac)](_0x41648a=>_0x41648a['name']==='trace');if(_0x482b58)return logger[_0xa8fa0d(0x10d)](_0xa8fa0d(0xd6)+_0x475f8c+_0xa8fa0d(0xb4)),_0x482b58[_0x475f8c];}else{if(_0xfad74&&Object[_0xa8fa0d(0xd3)]['toString'][_0xa8fa0d(0x96)](_0xfad74)['includes'](_0x337c49['QARFe']))for(const _0x1d1a79 of _0xfad74){if(_0x1d1a79[_0x475f8c])return logger[_0xa8fa0d(0x10d)](_0xa8fa0d(0xd6)+_0x475f8c+'\x20in\x20arguments'),_0x1d1a79[_0x475f8c];}};return'';},exports[a44_0x5b57b4(0xa6)]=async(_0x1fce11,_0x4b9ffc)=>{const _0x380d77=a44_0x5b57b4,_0x4d2dee={};_0x4d2dee[_0x380d77(0xb8)]=_0x380d77(0x103),_0x4d2dee['wVLSL']=_0x380d77(0xea),_0x4d2dee[_0x380d77(0xd8)]=_0x380d77(0x85),_0x4d2dee[_0x380d77(0x111)]='Error\x20in\x20sending\x20trace\x20file:\x20%s';const _0x42ed79=_0x4d2dee;try{const _0x131db0={'event_type':_0x42ed79[_0x380d77(0xb8)],'logs':[{'data':_0x1fce11?fs['createReadStream'](_0x1fce11):'','test_run_uuid':_0x4b9ffc,'kind':_0x42ed79[_0x380d77(0xa3)],'fileName':_0x1fce11?path[_0x380d77(0xbf)](_0x1fce11):''}]};return await SessionHandler[_0x380d77(0x87)](_0x131db0,0x0,_0x42ed79[_0x380d77(0xd8)]);}catch(_0x4648fa){logger[_0x380d77(0x86)](util[_0x380d77(0x9c)](_0x42ed79[_0x380d77(0x111)],_0x4648fa));}},exports['sendTraceZip']=async(_0x8c4fd6,_0x419f0f)=>{const _0x2dc3e7=a44_0x5b57b4,_0x27bd47={'bAbld':_0x2dc3e7(0xd5),'fhcYx':_0x2dc3e7(0x74),'XIzgg':function(_0x563078){return _0x563078();},'oTTiH':'Error\x20in\x20sending\x20trace\x20file:\x20%s'};try{logger[_0x2dc3e7(0x10d)](_0x2dc3e7(0xca)+_0x419f0f);let _0x54eb7b=await exports['findNestedKey'](_0x8c4fd6,_0x27bd47['bAbld']);if(exports[_0x2dc3e7(0x106)](_0x54eb7b)){logger[_0x2dc3e7(0x10d)](_0x27bd47[_0x2dc3e7(0x10c)]),_0x54eb7b=path['resolve'](_0x54eb7b);const _0xe9adac={};_0xe9adac['testUId']=_0x419f0f,_0xe9adac[_0x2dc3e7(0x9a)]=_0x54eb7b;const _0xc72ce3=_0xe9adac;_0x27bd47[_0x2dc3e7(0x7b)](getBrowserstackCLI)[_0x2dc3e7(0x89)]()['isRunning']()?TestInfo['addTraceFilePath'](_0xc72ce3):TestDetails[_0x2dc3e7(0xd0)](_0xc72ce3);};}catch(_0x257de7){logger[_0x2dc3e7(0x86)](util[_0x2dc3e7(0x9c)](_0x27bd47[_0x2dc3e7(0xcb)],_0x257de7));}},exports['getTestIdentifier']=_0x1073e0=>{const _0x26ea2f=a44_0x5b57b4,_0xea132f={};_0xea132f[_0x26ea2f(0xf1)]=function(_0x46c346,_0x524f5e){return _0x46c346+_0x524f5e;},_0xea132f[_0x26ea2f(0xff)]=function(_0x4bc726,_0x60629a){return _0x4bc726+_0x60629a;};const _0x558d66=_0xea132f;return _0x558d66[_0x26ea2f(0xf1)](_0x558d66[_0x26ea2f(0xff)](_0x1073e0[_0x26ea2f(0x77)],'-'),_0x1073e0['id']);},exports[a44_0x5b57b4(0xce)]=(_0x20ca21,_0xb4203a)=>{const _0x4547a0=a44_0x5b57b4,_0x25aac0={};_0x25aac0[_0x4547a0(0x91)]=function(_0xf9a54e,_0x4b6abb){return _0xf9a54e+_0x4b6abb;};const _0x2307bb=_0x25aac0;return _0x2307bb[_0x4547a0(0x91)](_0x2307bb['lOyGL'](_0x20ca21['id'],'-'),_0xb4203a);};