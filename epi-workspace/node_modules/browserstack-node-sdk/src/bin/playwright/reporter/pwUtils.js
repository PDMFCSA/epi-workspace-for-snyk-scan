const a40_0x34c274=a40_0x48a0;(function(_0x3c0b70,_0x1b054d){const _0x6b1940=a40_0x48a0,_0x16a2ee=_0x3c0b70();while(!![]){try{const _0x569a2e=-parseInt(_0x6b1940(0x8c))/0x1+parseInt(_0x6b1940(0x93))/0x2*(parseInt(_0x6b1940(0x11a))/0x3)+-parseInt(_0x6b1940(0xe8))/0x4*(parseInt(_0x6b1940(0x10c))/0x5)+parseInt(_0x6b1940(0xef))/0x6+parseInt(_0x6b1940(0x80))/0x7*(parseInt(_0x6b1940(0xb4))/0x8)+parseInt(_0x6b1940(0xb9))/0x9*(parseInt(_0x6b1940(0xad))/0xa)+-parseInt(_0x6b1940(0xc2))/0xb*(parseInt(_0x6b1940(0x88))/0xc);if(_0x569a2e===_0x1b054d)break;else _0x16a2ee['push'](_0x16a2ee['shift']());}catch(_0x50b9b1){_0x16a2ee['push'](_0x16a2ee['shift']());}}}(a40_0x5b4f,0xa8b5d));function a40_0x48a0(_0x26ee36,_0x96909a){const _0x5b4fd7=a40_0x5b4f();return a40_0x48a0=function(_0x48a000,_0x2f1cce){_0x48a000=_0x48a000-0x76;let _0x4af322=_0x5b4fd7[_0x48a000];return _0x4af322;},a40_0x48a0(_0x26ee36,_0x96909a);}function a40_0x5b4f(){const _0x203bde=['tpywA','../../../helpers/helper','@playwright/test/lib/transform/transform.js','lib','length','sDHsL','Owvsd','DMPpC','DmCqZ','@playwright/test/lib/common/transform.js','Test\x20timeout\x20of','name','debug','Aystc','winstonLogger','VBzKJ','QUOVU','Searching\x20for\x20key:\x20','getTransformPath','DYSiN','euhlm','wYApT','HVGQu','extname','TnLJI','oCoJt','validateFilePath','compareVersions','test','bUQBy','1.38.0','220iuHHFm','brsdT','runner/loadUtils.js','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','createReadStream','calculatePerformance','call','3055986froRqo','performance-report-worker-','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','epSfw','stack','QfhfJ','format','beforeWorkerHook','DeMwc','ftGig','onBegin','util','LogCreated','slice','EZOIk','TEST_ATTACHMENT','onStepEnd','Found\x20key:\x20','flvAW','PLAYWRIGHT','map','FpTxE','message','LkiUv','qVrpg','VcURn','sXQdD','@playwright/test','VGIMj','41330HhzbLi','playwright','tags','CyOok','yhfCR','RsUeQ','tEJtS','qFqHa','testUId','filePath','STAAe','sendTraceZip','.zip','join','3RjMmgS','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','playwright/lib/transform/transform.js','stopAndGenerate','getLoadUtilsPath','EHaaQ','eVVRs','mbFbj','winPJ','doo11ySync','@playwright/test/lib/common/configLoader.js','3234JFkrbL','../../../helpers/logger','iWJEK','tnJTV','PeHXe','error','onTestBegin','MYndC','312KjsZwP','VBlLK','readdirSync','existsSync','91983sqMOfx','DHljr','eJFhK','CKmxL','attachments','getProjectUtilsPath','VQErX','440176cwjUTO','Arguments','YyvDc','mKJrx','nlszG','\x20bytes','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','path','calculateTimesFromMultipleFiles','rlUtG','ilxId','EAlXS','HUSou','env','runner/projectUtils.js','iNhTW','endSession','afterWorkerHook','uploadTraceZip','addTraceFilePath','../../../helpers/performance/performance-tester','vNHTe','title','setupBrowserDetails','SywuO','processPageScreenshot','277170gsWdAK','getForkProcessPath','Percentage\x20of\x20increased\x20time\x20is\x20','prototype','xwCQw','Error\x20in\x20sending\x20trace\x20file:\x20%s','UxMZB','12248aEjoIp','startsWith','getConfigLoaderPath','playwright/lib/common/configLoader.js','pzgqz','387gbBrRO','common','getPlaywrightLibPath','TEST_LOG','toISOString','START_TIME','tMGKm','getTime','statSync','588467dNgSct','findNestedKey','zRiKd','ERROR','getTestTags','basename','cqgcA'];a40_0x5b4f=function(){return _0x203bde;};return a40_0x5b4f();}const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require('../../../helpers/test-observability/utils'),PerformanceTester=require(a40_0x34c274(0xa7)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require('../../../helpers/test-observability/constants'),helper=require(a40_0x34c274(0xca)),path=require(a40_0x34c274(0x9a)),logger=require(a40_0x34c274(0x81))[a40_0x34c274(0xd7)],SessionHandler=require('../../../helpers/test-observability/sessionHandler'),TestDetails=require('./test-details'),util=require(a40_0x34c274(0xfa)),getTagsFromTitle=_0x41fbbb=>{const _0x860566=a40_0x34c274;return _0x41fbbb['match'](/@(\w+)/g)?.[_0x860566(0x103)](_0x52f99e=>_0x52f99e[_0x860566(0xfc)](0x1))||[];};exports[a40_0x34c274(0xc6)]=_0x289c3c=>{const _0x3f2d61=a40_0x34c274,_0x4fb7ce={'DHljr':function(_0x1e6d0d,_0xa9dbeb){return _0x1e6d0d(_0xa9dbeb);}};if(_0x289c3c['tags'])return _0x289c3c[_0x3f2d61(0x10e)][_0x3f2d61(0x103)](_0x1f67d7=>_0x1f67d7[_0x3f2d61(0xb5)]('@')?_0x1f67d7['substr'](0x1):_0x1f67d7);return _0x4fb7ce[_0x3f2d61(0x8d)](getTagsFromTitle,_0x289c3c[_0x3f2d61(0xa9)]);},exports[a40_0x34c274(0xed)]=async()=>{const _0x553273=a40_0x34c274,_0x49d2dd={'oCoJt':function(_0x539091,_0x1dcd7d){return _0x539091-_0x1dcd7d;},'DmCqZ':'performance-reporter.html','EHaaQ':_0x553273(0xf9),'PeHXe':_0x553273(0xa3),'bUQBy':_0x553273(0x86),'sDHsL':'onTestEnd','ftGig':'onStepBegin','Owvsd':_0x553273(0xff),'YyDFa':_0x553273(0xf6),'mKJrx':_0x553273(0xa4),'yhfCR':'beforeTestHook','SywuO':'afterTestHook','tnJTV':_0x553273(0x7e),'ilxId':_0x553273(0xac),'CyOok':'sendSessionDetails','iNhTW':_0x553273(0xaa),'BCCRF':'requestSpyCallback','TnLJI':'sendTestLog','YyvDc':function(_0x23a41e,_0x5e6188){return _0x23a41e(_0x5e6188);},'FpTxE':function(_0x74d234,_0x4de48e){return _0x74d234/_0x4de48e;},'VGIMj':function(_0xc4ad7d,_0x10bf40){return _0xc4ad7d+_0x10bf40;},'DeMwc':function(_0x3ec0ea,_0x1c7333){return _0x3ec0ea*_0x1c7333;},'eJFhK':function(_0x2240f0,_0x599edb){return _0x2240f0/_0x599edb;},'BAwgJ':function(_0x244d36,_0x6f935f){return _0x244d36+_0x6f935f;}};if(!process[_0x553273(0xa0)][_0x553273(0xbe)])return;const _0x5e35ab=_0x49d2dd[_0x553273(0xe2)](new Date()[_0x553273(0xc0)](),new Date(process[_0x553273(0xa0)][_0x553273(0xbe)])['getTime']()),_0x45d9ea=await PerformanceTester[_0x553273(0x78)](_0x49d2dd[_0x553273(0xd1)],[_0x49d2dd[_0x553273(0x7a)],_0x49d2dd[_0x553273(0x84)],_0x49d2dd[_0x553273(0xe6)],_0x49d2dd[_0x553273(0xce)],_0x49d2dd[_0x553273(0xf8)],_0x49d2dd[_0x553273(0xcf)]]),_0x214bd1=fs[_0x553273(0x8a)]('.'),_0x45d726=_0x214bd1['filter'](_0x36edc1=>_0x36edc1[_0x553273(0xb5)](_0x553273(0xf0))&&_0x36edc1['endsWith']('.json')),_0x53a528=await PerformanceTester[_0x553273(0x9b)](_0x45d726,[_0x49d2dd['YyDFa'],_0x49d2dd[_0x553273(0x96)],_0x49d2dd[_0x553273(0x110)],_0x49d2dd[_0x553273(0xab)],_0x49d2dd[_0x553273(0x83)],_0x49d2dd[_0x553273(0x9d)],_0x49d2dd[_0x553273(0x10f)],_0x49d2dd[_0x553273(0xa2)],_0x49d2dd['BCCRF'],_0x49d2dd[_0x553273(0xe1)]]);_0x49d2dd[_0x553273(0x95)](debug,'Total\x20duration\x20for\x20whole\x20build\x20is\x20'+_0x49d2dd[_0x553273(0x104)](_0x5e35ab,0x3e8)+'\x20s'),_0x49d2dd[_0x553273(0x95)](debug,_0x553273(0xf1)+_0x49d2dd[_0x553273(0x10b)](_0x53a528,_0x45d9ea)),_0x49d2dd[_0x553273(0x95)](debug,_0x553273(0xaf)+_0x49d2dd[_0x553273(0xf7)](_0x49d2dd[_0x553273(0x8e)](_0x49d2dd['BAwgJ'](_0x53a528,_0x45d9ea),_0x5e35ab),0x64));},exports[a40_0x34c274(0xdb)]=()=>{const _0xfc05e7=a40_0x34c274,_0xa7a3af={'vNHTe':function(_0x926cf7,_0x2ee98e){return _0x926cf7(_0x2ee98e);},'HVGQu':function(_0x359b01,_0x50f53e){return _0x359b01>=_0x50f53e;},'bLFKj':'1.38.0','qVrpg':_0xfc05e7(0x77),'PJWev':_0xfc05e7(0x10d),'brsdT':'1.35.0','UxMZB':_0xfc05e7(0xcb),'iWJEK':'@playwright/test','eVVRs':_0xfc05e7(0xd2)},_0x774191=_0xa7a3af[_0xfc05e7(0xa8)](getFrameworkVersion,FRAMEWORKS[_0xfc05e7(0x102)]);if(_0xa7a3af[_0xfc05e7(0xdf)](helper['compareVersions'](_0x774191,_0xa7a3af['bLFKj']),0x0))return[_0xa7a3af[_0xfc05e7(0x107)],_0xa7a3af['PJWev']];if(_0xa7a3af[_0xfc05e7(0xdf)](helper[_0xfc05e7(0xe4)](_0x774191,_0xa7a3af[_0xfc05e7(0xe9)]),0x0))return[_0xa7a3af[_0xfc05e7(0xb3)],_0xa7a3af[_0xfc05e7(0x82)]];return[_0xa7a3af[_0xfc05e7(0x7b)],_0xa7a3af[_0xfc05e7(0x82)]];},exports[a40_0x34c274(0xb6)]=()=>{const _0x21d24c=a40_0x34c274,_0x3f0c52={'SCjeJ':function(_0xed4d4b,_0x2c2bf8){return _0xed4d4b(_0x2c2bf8);},'qFqHa':function(_0x556ed9,_0x5ae256){return _0x556ed9>=_0x5ae256;},'euhlm':_0x21d24c(0xe7),'QUOVU':_0x21d24c(0xb7),'KTRPE':_0x21d24c(0x10d),'QfhfJ':_0x21d24c(0x7f),'nlszG':_0x21d24c(0x10a)},_0x1bd84c=_0x3f0c52['SCjeJ'](getFrameworkVersion,FRAMEWORKS[_0x21d24c(0x102)]);if(_0x3f0c52[_0x21d24c(0x113)](helper['compareVersions'](_0x1bd84c,_0x3f0c52[_0x21d24c(0xdd)]),0x0))return[_0x3f0c52[_0x21d24c(0xd9)],_0x3f0c52['KTRPE']];return[_0x3f0c52[_0x21d24c(0xf4)],_0x3f0c52[_0x21d24c(0x97)]];},exports[a40_0x34c274(0x79)]=()=>{const _0xb44ba2=a40_0x34c274,_0x1a37b5={};_0x1a37b5[_0xb44ba2(0xc8)]=_0xb44ba2(0xea);const _0x256df6=_0x1a37b5;return helper['getPlaywrightLibPath'](_0x256df6[_0xb44ba2(0xc8)]);},exports[a40_0x34c274(0x91)]=()=>{const _0x4c5b77=a40_0x34c274,_0x4e743b={};_0x4e743b[_0x4c5b77(0xdc)]=_0x4c5b77(0xa1);const _0x419376=_0x4e743b;return helper[_0x4c5b77(0xbb)](_0x419376['DYSiN']);},exports[a40_0x34c274(0xae)]=()=>{const _0x188ebd=a40_0x34c274,_0xefa7d8={'tEJtS':function(_0x3a1d16,_0x43ec1f){return _0x3a1d16(_0x43ec1f);},'epSfw':function(_0x38e605,_0x5485b7){return _0x38e605>=_0x5485b7;},'STAAe':'1.38.0','rlUtG':_0x188ebd(0xcc),'DMPpC':_0x188ebd(0xba),'zRiKd':'process.js','VQErX':'test'},_0x2691b5=_0xefa7d8[_0x188ebd(0x112)](getFrameworkVersion,FRAMEWORKS[_0x188ebd(0x102)]);if(_0xefa7d8[_0x188ebd(0xf2)](helper[_0x188ebd(0xe4)](_0x2691b5,_0xefa7d8[_0x188ebd(0x116)]),0x0))return path[_0x188ebd(0x119)](_0xefa7d8[_0x188ebd(0x9c)],_0xefa7d8[_0x188ebd(0xd0)],_0xefa7d8['zRiKd']);return path['join'](_0xefa7d8[_0x188ebd(0x92)],_0xefa7d8[_0x188ebd(0x9c)],_0xefa7d8[_0x188ebd(0xd0)],_0xefa7d8[_0x188ebd(0xc4)]);},exports['getFailureData']=(_0x115ae5,{test_run_uuid:_0x9d2a7e})=>{const _0x43a10e=a40_0x34c274,_0x33e9ee={'ndQvq':_0x43a10e(0xc5),'RsUeQ':_0x43a10e(0xbc),'VBlLK':function(_0x498014,_0x361bf7){return _0x498014<=_0x361bf7;},'MYndC':function(_0x21bfe9,_0x4b22d4){return _0x21bfe9(_0x4b22d4);},'SueZJ':_0x43a10e(0xd3),'winPJ':function(_0xc74da1,_0x165758){return _0xc74da1(_0x165758);},'sXQdD':function(_0x518052,_0x5a631d){return _0x518052>=_0x5a631d;},'VBzKJ':'1.42.0','tMGKm':function(_0x14c999,_0x527d94){return _0x14c999>_0x527d94;},'wYApT':function(_0x708e27,_0x2fbd13){return _0x708e27(_0x2fbd13);},'tpywA':function(_0x5d8e76,_0x3d5fef,_0x51c116){return _0x5d8e76(_0x3d5fef,_0x51c116);},'pzgqz':_0x43a10e(0xe5)};if(!_0x115ae5||_0x33e9ee[_0x43a10e(0x89)](_0x115ae5[_0x43a10e(0xcd)],0x0))return[];const _0x26a24c=_0x33e9ee[_0x43a10e(0x87)](removeAnsiColors,_0x115ae5[0x0]['message']);if(_0x26a24c[_0x43a10e(0xb5)](_0x33e9ee['SueZJ'])){const _0x335e7f=_0x115ae5[0x0],_0x5423aa=_0x33e9ee[_0x43a10e(0x7d)](getFrameworkVersion,FRAMEWORKS[_0x43a10e(0x102)]);if((!_0x335e7f[_0x43a10e(0xf3)]||_0x33e9ee[_0x43a10e(0x109)](_0x5423aa,_0x33e9ee[_0x43a10e(0xd8)]))&&_0x33e9ee[_0x43a10e(0xbf)](_0x115ae5[_0x43a10e(0xcd)],0x1))return{'failureData':[{'backtrace':[_0x26a24c,_0x33e9ee[_0x43a10e(0xde)](removeAnsiColors,_0x115ae5[0x1][_0x43a10e(0xf3)])]}],'logs':_0x115ae5[_0x43a10e(0xfc)](0x2)['map'](_0x11217f=>{const _0x9865fa=_0x43a10e;return{'timestamp':new Date()[_0x9865fa(0xbd)](),'level':_0x33e9ee['ndQvq'],'message':''+_0x11217f[_0x9865fa(0x105)],'kind':_0x33e9ee[_0x9865fa(0x111)],'http_response':{},'test_run_uuid':_0x9d2a7e};})};}return{'failureData':_0x33e9ee[_0x43a10e(0xc9)](failureData,_0x115ae5,_0x33e9ee[_0x43a10e(0xb8)]),'logs':[]};},exports[a40_0x34c274(0xe3)]=_0x2b3ded=>{const _0x165e77=a40_0x34c274,_0x548e93={};_0x548e93[_0x165e77(0xb1)]=function(_0x2a7df5,_0x133571){return _0x2a7df5!==_0x133571;},_0x548e93[_0x165e77(0xfd)]=_0x165e77(0x118),_0x548e93[_0x165e77(0x9f)]=function(_0x13b68e,_0xa94de5){return _0x13b68e>_0xa94de5;};const _0x523314=_0x548e93;if(_0x2b3ded&&fs[_0x165e77(0x8b)](_0x2b3ded)){if(_0x523314[_0x165e77(0xb1)](path[_0x165e77(0xe0)](_0x2b3ded)['toLowerCase'](),_0x523314[_0x165e77(0xfd)]))return logger[_0x165e77(0x85)](_0x165e77(0x99)+_0x2b3ded),![];const _0x75e1f=fs[_0x165e77(0xc1)](_0x2b3ded)['size'];if(_0x523314[_0x165e77(0x9f)](_0x75e1f,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x165e77(0x85)](_0x165e77(0x76)+_0x75e1f+_0x165e77(0x98)),![];return!![];}return![];},exports['findNestedKey']=(_0x48f91b,_0x178467)=>{const _0xf70020=a40_0x34c274,_0x4139f2={};_0x4139f2[_0xf70020(0x7c)]=_0xf70020(0x94);const _0x19d444=_0x4139f2;logger[_0xf70020(0xd5)](_0xf70020(0xda)+_0x178467);if(_0x48f91b[_0xf70020(0x90)]){const _0x4399af=_0x48f91b[_0xf70020(0x90)]['find'](_0x5c46f5=>_0x5c46f5[_0xf70020(0xd4)]==='trace');if(_0x4399af)return logger[_0xf70020(0xd5)](_0xf70020(0x100)+_0x178467+'\x20in\x20attachments'),_0x4399af[_0x178467];}else{if(Object[_0xf70020(0xb0)]['toString'][_0xf70020(0xee)](_0x48f91b)['includes'](_0x19d444[_0xf70020(0x7c)]))for(const _0x8d1e12 of _0x48f91b){if(_0x8d1e12[_0x178467])return logger['debug'](_0xf70020(0x100)+_0x178467+'\x20in\x20arguments'),_0x8d1e12[_0x178467];}}return'';},exports[a40_0x34c274(0xa5)]=async(_0x54a9d6,_0x35c71e)=>{const _0x514f00=a40_0x34c274,_0x3a5b5f={};_0x3a5b5f[_0x514f00(0x9e)]=_0x514f00(0xfb),_0x3a5b5f[_0x514f00(0x108)]=_0x514f00(0xfe),_0x3a5b5f[_0x514f00(0x106)]=_0x514f00(0x117),_0x3a5b5f[_0x514f00(0x101)]=_0x514f00(0xb2);const _0x4cd810=_0x3a5b5f;try{const _0x3123a3={'event_type':_0x4cd810[_0x514f00(0x9e)],'logs':[{'data':_0x54a9d6?fs[_0x514f00(0xec)](_0x54a9d6):'','test_run_uuid':_0x35c71e,'kind':_0x4cd810[_0x514f00(0x108)],'fileName':_0x54a9d6?path[_0x514f00(0xc7)](_0x54a9d6):''}]};return await SessionHandler['sendEventData'](_0x3123a3,0x0,_0x4cd810[_0x514f00(0x106)]);}catch(_0xa63f1d){logger[_0x514f00(0x85)](util[_0x514f00(0xf5)](_0x4cd810[_0x514f00(0x101)],_0xa63f1d));}},exports['sendTraceZip']=async(_0x3825e2,_0x51637d)=>{const _0x12fea9=a40_0x34c274,_0x5a7027={};_0x5a7027[_0x12fea9(0x8f)]='path',_0x5a7027[_0x12fea9(0xd6)]='Trace\x20enabled',_0x5a7027['ZKLEU']='Error\x20in\x20sending\x20trace\x20file:\x20%s';const _0x1750b3=_0x5a7027;try{logger[_0x12fea9(0xd5)](_0x12fea9(0xeb)+_0x51637d);const _0x4ffc5f=await exports[_0x12fea9(0xc3)](_0x3825e2,_0x1750b3['CKmxL']);if(exports['validateFilePath'](_0x4ffc5f)){logger[_0x12fea9(0xd5)](_0x1750b3[_0x12fea9(0xd6)]);const _0x2f5b8c={};_0x2f5b8c[_0x12fea9(0x114)]=_0x51637d,_0x2f5b8c[_0x12fea9(0x115)]=_0x4ffc5f;const _0x19df2e=_0x2f5b8c;TestDetails[_0x12fea9(0xa6)](_0x19df2e);};}catch(_0x86ff01){logger[_0x12fea9(0x85)](util[_0x12fea9(0xf5)](_0x1750b3['ZKLEU'],_0x86ff01));}};