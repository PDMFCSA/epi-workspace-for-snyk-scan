const a43_0x3de3e9=a43_0x22d4;(function(_0x4979f7,_0x31e9c6){const _0x2803f2=a43_0x22d4,_0x292f37=_0x4979f7();while(!![]){try{const _0x37703e=parseInt(_0x2803f2(0x12e))/0x1+-parseInt(_0x2803f2(0xed))/0x2+-parseInt(_0x2803f2(0xd7))/0x3+parseInt(_0x2803f2(0xb0))/0x4*(-parseInt(_0x2803f2(0x107))/0x5)+-parseInt(_0x2803f2(0xe6))/0x6*(-parseInt(_0x2803f2(0xe0))/0x7)+-parseInt(_0x2803f2(0xd8))/0x8+parseInt(_0x2803f2(0xff))/0x9;if(_0x37703e===_0x31e9c6)break;else _0x292f37['push'](_0x292f37['shift']());}catch(_0x5088d7){_0x292f37['push'](_0x292f37['shift']());}}}(a43_0x165b,0x83330));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require('../../../helpers/test-observability/utils'),PerformanceTester=require(a43_0x3de3e9(0x10c)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a43_0x3de3e9(0xfc)),helper=require('../../../helpers/helper'),path=require(a43_0x3de3e9(0x139)),logger=require(a43_0x3de3e9(0xf2))[a43_0x3de3e9(0x148)],SessionHandler=require(a43_0x3de3e9(0xc7)),TestDetails=require(a43_0x3de3e9(0x106)),util=require(a43_0x3de3e9(0x10f)),TestInfo=require(a43_0x3de3e9(0xae));let BrowserstackCLIInstance=null;function a43_0x22d4(_0x1bc2de,_0x475c2d){const _0x165bad=a43_0x165b();return a43_0x22d4=function(_0x22d4fd,_0x21ea42){_0x22d4fd=_0x22d4fd-0xa8;let _0x522d30=_0x165bad[_0x22d4fd];return _0x522d30;},a43_0x22d4(_0x1bc2de,_0x475c2d);}function a43_0x165b(){const _0x482b00=['\x20bytes','onStepEnd','../../../helpers/test-observability/constants','attachments','FDyYx','14313456DgHfyh','WDayC','sendSessionDetails','\x20in\x20arguments','../../v2/browserstackCLI','doo11ySync','prototype','./test-details','4344590EwNGQU','XHhWa','vCDtY','ZFyGA','env','../../../helpers/performance/performance-tester','zyXqK','includes','util','nNpRt','umWRl','onTestBegin','isRunning','TEST_LOG','onBegin','trace','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','fxapV','Found\x20key:\x20','playwright','UMKHA','oFNtG','ZjnUS','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','stopAndGenerate','getPlaywrightLibPath','nfXhh','Arguments','ujmhI','mCgbb','iziuS','getProjectUtilsPath','Ssqyt','tags','processPageScreenshot','process.js','UsagB','error','QaRPk','493749UtWwEJ','getTime','xWYEn','filePath','nYkkh','tUOmr','testUId','TEST_ATTACHMENT','\x20in\x20attachments','afterTestHook','1.38.0','path','size','Total\x20duration\x20for\x20whole\x20build\x20is\x20','hMuxG','YHzra','DgTji','Rhluc','KPWZA','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','format','existsSync','onStepBegin','map','DJOqj','uOskF','winstonLogger','match','test','VMNbD','startsWith','title','filter','readdirSync','lUuys','HrSzy','join','substr','@playwright/test','@playwright/test/lib/common/configLoader.js','../../v2/TestInfo','BccTL','4CsVjdl','compareVersions','slice','aXJNo','Error\x20in\x20sending\x20trace\x20file:\x20%s','length','QessS','PLAYWRIGHT','uploadTraceZip','.json','onTestEnd','RvgyX','warIW','sendTraceZip','calculatePerformance','GpQLO','DRFbq','getTestTags','NEtpp','tMFdT','endsWith','BKEhh','setupBrowserDetails','../../../helpers/test-observability/sessionHandler','debug','xhdPR','yaktG','getFailureData','1.42.0','getConfigLoaderPath','beforeTestHook','common','1.35.0','Uuboz','sendTestLog','MBcwb','qFpnn','LogCreated','requestSpyCallback','658680QDPonm','3767432xWYXUs','findNestedKey','performance-report-worker-','lyFvg','getTransformPath','@playwright/test/lib/transform/transform.js','name','ERROR','336497KAyWsU','addTraceFilePath','performance-reporter.html','sendEventData','WLatV','QFvKs','24kVHDaF','resolve','validateFilePath','basename','KNfef','START_TIME','playwright/lib/transform/transform.js','359236pLFIyn','.zip','getInstance','stack','message','../../../helpers/logger','calculateTimesFromMultipleFiles','nSPJf','aKpxB','fRGSI','LofJr','qmxGt','iZLGn'];a43_0x165b=function(){return _0x482b00;};return a43_0x165b();}function getBrowserstackCLI(){const _0x4ab5f4=a43_0x3de3e9,_0x1dc15d={'warIW':function(_0x7b6694,_0x141bc5){return _0x7b6694(_0x141bc5);},'QaRPk':_0x4ab5f4(0x103)};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0x1dc15d[_0x4ab5f4(0xbc)](require,_0x1dc15d[_0x4ab5f4(0x12d)])),BrowserstackCLIInstance;}const getTagsFromTitle=_0x5e35d7=>{const _0x250e0d=a43_0x3de3e9;return _0x5e35d7[_0x250e0d(0x149)](/@(\w+)/g)?.[_0x250e0d(0x145)](_0x4076b5=>_0x4076b5['slice'](0x1))||[];};exports[a43_0x3de3e9(0xc1)]=_0x175fce=>{const _0x56a6c7=a43_0x3de3e9,_0x581666={'QessS':function(_0x1067ee,_0x5be8ff){return _0x1067ee(_0x5be8ff);}};if(_0x175fce[_0x56a6c7(0x128)])return _0x175fce[_0x56a6c7(0x128)][_0x56a6c7(0x145)](_0x1f36d2=>_0x1f36d2['startsWith']('@')?_0x1f36d2[_0x56a6c7(0xab)](0x1):_0x1f36d2);return _0x581666[_0x56a6c7(0xb6)](getTagsFromTitle,_0x175fce[_0x56a6c7(0x14d)]);},exports[a43_0x3de3e9(0xbe)]=async()=>{const _0x4f9517=a43_0x3de3e9,_0x31246c={'Qewgh':function(_0x2e8987,_0xf8d84c){return _0x2e8987-_0xf8d84c;},'sOBKv':_0x4f9517(0xe2),'LofJr':_0x4f9517(0x115),'guLui':'endSession','aQBpE':_0x4f9517(0x112),'RvgyX':_0x4f9517(0xba),'ZFyGA':_0x4f9517(0x144),'mCgbb':_0x4f9517(0xfb),'nSPJf':'beforeWorkerHook','MBcwb':'afterWorkerHook','DRFbq':_0x4f9517(0xce),'vCDtY':_0x4f9517(0x137),'Uuboz':_0x4f9517(0x104),'XHhWa':_0x4f9517(0x129),'aKpxB':_0x4f9517(0x101),'LVmOv':_0x4f9517(0xc6),'FDyYx':_0x4f9517(0xd6),'tMFdT':_0x4f9517(0xd2),'eKJxU':function(_0x4f7dba,_0xde76fc){return _0x4f7dba(_0xde76fc);},'xhdPR':function(_0x1cfe67,_0x205587){return _0x1cfe67/_0x205587;},'UMKHA':function(_0x1caf6d,_0xffb181){return _0x1caf6d+_0xffb181;},'nYkkh':function(_0x2468bf,_0x48f229){return _0x2468bf(_0x48f229);},'qFpnn':function(_0x4a43b9,_0x2a8875){return _0x4a43b9*_0x2a8875;}};if(!process['env'][_0x4f9517(0xeb)])return;const _0x39f0f0=_0x31246c['Qewgh'](new Date()[_0x4f9517(0x12f)](),new Date(process[_0x4f9517(0x10b)][_0x4f9517(0xeb)])[_0x4f9517(0x12f)]()),_0x335665=await PerformanceTester[_0x4f9517(0x11f)](_0x31246c['sOBKv'],[_0x31246c[_0x4f9517(0xf7)],_0x31246c['guLui'],_0x31246c['aQBpE'],_0x31246c[_0x4f9517(0xbb)],_0x31246c[_0x4f9517(0x10a)],_0x31246c[_0x4f9517(0x124)]]),_0x3e4d00=fs[_0x4f9517(0x14f)]('.'),_0x17805d=_0x3e4d00[_0x4f9517(0x14e)](_0x427f43=>_0x427f43[_0x4f9517(0x14c)](_0x4f9517(0xda))&&_0x427f43[_0x4f9517(0xc4)](_0x4f9517(0xb9))),_0x290a9f=await PerformanceTester[_0x4f9517(0xf3)](_0x17805d,[_0x31246c[_0x4f9517(0xf4)],_0x31246c[_0x4f9517(0xd3)],_0x31246c[_0x4f9517(0xc0)],_0x31246c[_0x4f9517(0x109)],_0x31246c[_0x4f9517(0xd1)],_0x31246c[_0x4f9517(0x108)],_0x31246c[_0x4f9517(0xf5)],_0x31246c['LVmOv'],_0x31246c[_0x4f9517(0xfe)],_0x31246c[_0x4f9517(0xc3)]]);_0x31246c['eKJxU'](debug,_0x4f9517(0x13b)+_0x31246c[_0x4f9517(0xc9)](_0x39f0f0,0x3e8)+'\x20s'),_0x31246c['eKJxU'](debug,_0x4f9517(0x11e)+_0x31246c[_0x4f9517(0x11b)](_0x290a9f,_0x335665)),_0x31246c[_0x4f9517(0x132)](debug,'Percentage\x20of\x20increased\x20time\x20is\x20'+_0x31246c[_0x4f9517(0xd4)](_0x31246c[_0x4f9517(0xc9)](_0x31246c['UMKHA'](_0x290a9f,_0x335665),_0x39f0f0),0x64));},exports[a43_0x3de3e9(0xdc)]=()=>{const _0x4de75d=a43_0x3de3e9,_0x3f5191={'oVrqw':function(_0xbaf1d5,_0x59d36e){return _0xbaf1d5(_0x59d36e);},'uOskF':function(_0x4639b6,_0x10ea6b){return _0x4639b6>=_0x10ea6b;},'iziuS':_0x4de75d(0x138),'jCZRJ':_0x4de75d(0xec),'nNpRt':_0x4de75d(0x11a),'DJOqj':_0x4de75d(0xd0),'AlAOq':_0x4de75d(0xdd),'GpQLO':_0x4de75d(0xac),'KNfef':'@playwright/test/lib/common/transform.js'},_0x57bfb0=_0x3f5191['oVrqw'](getFrameworkVersion,FRAMEWORKS[_0x4de75d(0xb7)]);if(_0x3f5191[_0x4de75d(0x147)](helper['compareVersions'](_0x57bfb0,_0x3f5191[_0x4de75d(0x125)]),0x0))return[_0x3f5191['jCZRJ'],_0x3f5191[_0x4de75d(0x110)]];if(_0x3f5191[_0x4de75d(0x147)](helper[_0x4de75d(0xb1)](_0x57bfb0,_0x3f5191[_0x4de75d(0x146)]),0x0))return[_0x3f5191['AlAOq'],_0x3f5191[_0x4de75d(0xbf)]];return[_0x3f5191[_0x4de75d(0xea)],_0x3f5191['GpQLO']];},exports[a43_0x3de3e9(0xcd)]=()=>{const _0x54001c=a43_0x3de3e9,_0x28d522={'GLWWM':function(_0x2b9ae3,_0x251205){return _0x2b9ae3(_0x251205);},'fxapV':function(_0x81631a,_0xc851b6){return _0x81631a>=_0xc851b6;},'mVhIr':_0x54001c(0x138),'ZjnUS':'playwright/lib/common/configLoader.js','zyXqK':_0x54001c(0x11a),'pyokQ':_0x54001c(0xad),'NEtpp':_0x54001c(0xac)},_0x1a762b=_0x28d522['GLWWM'](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x28d522[_0x54001c(0x118)](helper['compareVersions'](_0x1a762b,_0x28d522['mVhIr']),0x0))return[_0x28d522[_0x54001c(0x11d)],_0x28d522[_0x54001c(0x10d)]];return[_0x28d522['pyokQ'],_0x28d522[_0x54001c(0xc2)]];},exports['getLoadUtilsPath']=()=>{const _0x4f5242=a43_0x3de3e9,_0xc11b8b={};_0xc11b8b[_0x4f5242(0xc5)]='runner/loadUtils.js';const _0x41af6f=_0xc11b8b;return helper[_0x4f5242(0x120)](_0x41af6f[_0x4f5242(0xc5)]);},exports[a43_0x3de3e9(0x126)]=()=>{const _0x1b6e46=a43_0x3de3e9,_0x199d41={};_0x199d41[_0x1b6e46(0xa9)]='runner/projectUtils.js';const _0x5ce2f0=_0x199d41;return helper[_0x1b6e46(0x120)](_0x5ce2f0[_0x1b6e46(0xa9)]);},exports['getForkProcessPath']=()=>{const _0x6d68fb=a43_0x3de3e9,_0x1e8a52={'BccTL':function(_0x3f7211,_0x3fdaea){return _0x3f7211(_0x3fdaea);},'Khpdw':function(_0x1c9676,_0x4fbdf9){return _0x1c9676>=_0x4fbdf9;},'WstdA':_0x6d68fb(0x138),'tUOmr':'lib','fRGSI':_0x6d68fb(0xcf),'WLatV':_0x6d68fb(0x12a),'xWYEn':_0x6d68fb(0x14a)},_0x584111=_0x1e8a52[_0x6d68fb(0xaf)](getFrameworkVersion,FRAMEWORKS[_0x6d68fb(0xb7)]);if(_0x1e8a52['Khpdw'](helper[_0x6d68fb(0xb1)](_0x584111,_0x1e8a52['WstdA']),0x0))return path[_0x6d68fb(0xaa)](_0x1e8a52[_0x6d68fb(0x133)],_0x1e8a52[_0x6d68fb(0xf6)],_0x1e8a52[_0x6d68fb(0xe4)]);return path['join'](_0x1e8a52[_0x6d68fb(0x130)],_0x1e8a52[_0x6d68fb(0x133)],_0x1e8a52['fRGSI'],_0x1e8a52[_0x6d68fb(0xe4)]);},exports[a43_0x3de3e9(0xcb)]=(_0x6503c1,{test_run_uuid:_0x41b271})=>{const _0x2bd611=a43_0x3de3e9,_0x41dfa2={'Ssqyt':_0x2bd611(0xdf),'aXJNo':_0x2bd611(0x114),'ujmhI':function(_0x3fc3fd,_0xca01d){return _0x3fc3fd<=_0xca01d;},'lUuys':function(_0xb08894,_0x5704d1){return _0xb08894(_0x5704d1);},'umWRl':'Test\x20timeout\x20of','Rhluc':function(_0x523b95,_0x433e69){return _0x523b95>=_0x433e69;},'KPWZA':_0x2bd611(0xcc),'PbyPL':function(_0x378d70,_0x3dda50){return _0x378d70>_0x3dda50;},'YHzra':function(_0x3d2559,_0x1472d0,_0x1a6d81){return _0x3d2559(_0x1472d0,_0x1a6d81);},'oFNtG':_0x2bd611(0x14a)};if(!_0x6503c1||_0x41dfa2[_0x2bd611(0x123)](_0x6503c1['length'],0x0))return[];const _0x5bc0fc=_0x41dfa2[_0x2bd611(0xa8)](removeAnsiColors,_0x6503c1[0x0][_0x2bd611(0xf1)]);if(_0x5bc0fc[_0x2bd611(0x14c)](_0x41dfa2[_0x2bd611(0x111)])){const _0x2f8921=_0x6503c1[0x0],_0x9e4c31=_0x41dfa2[_0x2bd611(0xa8)](getFrameworkVersion,FRAMEWORKS[_0x2bd611(0xb7)]);if((!_0x2f8921[_0x2bd611(0xf0)]||_0x41dfa2[_0x2bd611(0x13f)](_0x9e4c31,_0x41dfa2[_0x2bd611(0x140)]))&&_0x41dfa2['PbyPL'](_0x6503c1[_0x2bd611(0xb5)],0x1))return{'failureData':[{'backtrace':[_0x5bc0fc,_0x41dfa2[_0x2bd611(0xa8)](removeAnsiColors,_0x6503c1[0x1][_0x2bd611(0xf0)])]}],'logs':_0x6503c1[_0x2bd611(0xb2)](0x2)[_0x2bd611(0x145)](_0x3f1ebc=>{const _0x581335=_0x2bd611;return{'timestamp':new Date()['toISOString'](),'level':_0x41dfa2[_0x581335(0x127)],'message':''+_0x3f1ebc[_0x581335(0xf1)],'kind':_0x41dfa2[_0x581335(0xb3)],'http_response':{},'test_run_uuid':_0x41b271};})};}return{'failureData':_0x41dfa2[_0x2bd611(0x13d)](failureData,_0x6503c1,_0x41dfa2[_0x2bd611(0x11c)]),'logs':[]};},exports['validateFilePath']=_0x5d595a=>{const _0x2843b0=a43_0x3de3e9,_0x149624={};_0x149624['QFvKs']=function(_0x5a5ec1,_0x580a41){return _0x5a5ec1!==_0x580a41;},_0x149624[_0x2843b0(0xdb)]=_0x2843b0(0xee),_0x149624[_0x2843b0(0xca)]=function(_0x50342b,_0x3577d5){return _0x50342b>_0x3577d5;};const _0x2bcc8b=_0x149624;if(_0x5d595a&&fs[_0x2843b0(0x143)](_0x5d595a)){if(_0x2bcc8b[_0x2843b0(0xe5)](path['extname'](_0x5d595a)['toLowerCase'](),_0x2bcc8b[_0x2843b0(0xdb)]))return logger[_0x2843b0(0x12c)](_0x2843b0(0x141)+_0x5d595a),![];const _0x16b2d4=fs['statSync'](_0x5d595a)[_0x2843b0(0x13a)];if(_0x2bcc8b['yaktG'](_0x16b2d4,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x2843b0(0x12c)]('Trace\x20file\x20size\x20exceeds\x20100MB:\x20'+_0x16b2d4+_0x2843b0(0xfa)),![];return!![];}return![];},exports['findNestedKey']=(_0xc144fb,_0x4111b7)=>{const _0x6ebb98=a43_0x3de3e9,_0x548db9={};_0x548db9[_0x6ebb98(0x100)]=_0x6ebb98(0x122);const _0x240e64=_0x548db9;logger['debug']('Searching\x20for\x20key:\x20'+_0x4111b7);if(_0xc144fb&&_0xc144fb[_0x6ebb98(0xfd)]){const _0x1bd7e9=_0xc144fb[_0x6ebb98(0xfd)]['find'](_0x4a166f=>_0x4a166f[_0x6ebb98(0xde)]===_0x6ebb98(0x116));if(_0x1bd7e9)return logger[_0x6ebb98(0xc8)](_0x6ebb98(0x119)+_0x4111b7+_0x6ebb98(0x136)),_0x1bd7e9[_0x4111b7];}else{if(_0xc144fb&&Object[_0x6ebb98(0x105)]['toString']['call'](_0xc144fb)[_0x6ebb98(0x10e)](_0x240e64[_0x6ebb98(0x100)]))for(const _0x854f8a of _0xc144fb){if(_0x854f8a[_0x4111b7])return logger['debug']('Found\x20key:\x20'+_0x4111b7+_0x6ebb98(0x102)),_0x854f8a[_0x4111b7];}};return'';},exports[a43_0x3de3e9(0xb8)]=async(_0x1820bc,_0x49fa13)=>{const _0x3bbf18=a43_0x3de3e9,_0x5941df={};_0x5941df[_0x3bbf18(0xf8)]=_0x3bbf18(0xd5),_0x5941df[_0x3bbf18(0xf9)]=_0x3bbf18(0x135),_0x5941df[_0x3bbf18(0x13c)]='sendTraceZip',_0x5941df[_0x3bbf18(0x13e)]=_0x3bbf18(0xb4);const _0x144045=_0x5941df;try{const _0x81f1bf={'event_type':_0x144045[_0x3bbf18(0xf8)],'logs':[{'data':_0x1820bc?fs['createReadStream'](_0x1820bc):'','test_run_uuid':_0x49fa13,'kind':_0x144045[_0x3bbf18(0xf9)],'fileName':_0x1820bc?path[_0x3bbf18(0xe9)](_0x1820bc):''}]};return await SessionHandler[_0x3bbf18(0xe3)](_0x81f1bf,0x0,_0x144045[_0x3bbf18(0x13c)]);}catch(_0x39251a){logger[_0x3bbf18(0x12c)](util[_0x3bbf18(0x142)](_0x144045[_0x3bbf18(0x13e)],_0x39251a));}},exports[a43_0x3de3e9(0xbd)]=async(_0x9ec5ca,_0xf39c90)=>{const _0x282f44=a43_0x3de3e9,_0x22a883={'UsagB':'path','FMWhC':'Trace\x20enabled','VMNbD':function(_0xc31154){return _0xc31154();},'nfXhh':_0x282f44(0xb4)};try{logger[_0x282f44(0xc8)](_0x282f44(0x117)+_0xf39c90);let _0x43193b=await exports[_0x282f44(0xd9)](_0x9ec5ca,_0x22a883[_0x282f44(0x12b)]);if(exports[_0x282f44(0xe8)](_0x43193b)){logger[_0x282f44(0xc8)](_0x22a883['FMWhC']),_0x43193b=path[_0x282f44(0xe7)](_0x43193b);const _0x221a70={};_0x221a70[_0x282f44(0x134)]=_0xf39c90,_0x221a70[_0x282f44(0x131)]=_0x43193b;const _0x29d4bf=_0x221a70;_0x22a883[_0x282f44(0x14b)](getBrowserstackCLI)[_0x282f44(0xef)]()[_0x282f44(0x113)]()?TestInfo[_0x282f44(0xe1)](_0x29d4bf):TestDetails[_0x282f44(0xe1)](_0x29d4bf);};}catch(_0x5a164d){logger['error'](util[_0x282f44(0x142)](_0x22a883[_0x282f44(0x121)],_0x5a164d));}};