const a40_0x4eb342=a40_0x3c27;(function(_0x11b838,_0x2250f7){const _0x3c1171=a40_0x3c27,_0x2c2d56=_0x11b838();while(!![]){try{const _0x3beadc=-parseInt(_0x3c1171(0x251))/0x1+parseInt(_0x3c1171(0x221))/0x2*(-parseInt(_0x3c1171(0x225))/0x3)+-parseInt(_0x3c1171(0x214))/0x4*(parseInt(_0x3c1171(0x240))/0x5)+-parseInt(_0x3c1171(0x1af))/0x6*(-parseInt(_0x3c1171(0x23e))/0x7)+-parseInt(_0x3c1171(0x1db))/0x8+-parseInt(_0x3c1171(0x23f))/0x9*(-parseInt(_0x3c1171(0x1ce))/0xa)+parseInt(_0x3c1171(0x248))/0xb*(parseInt(_0x3c1171(0x234))/0xc);if(_0x3beadc===_0x2250f7)break;else _0x2c2d56['push'](_0x2c2d56['shift']());}catch(_0x553df6){_0x2c2d56['push'](_0x2c2d56['shift']());}}}(a40_0x2f5d,0x21623));function a40_0x3c27(_0x1192db,_0x54a373){const _0x2f5da6=a40_0x2f5d();return a40_0x3c27=function(_0x3c277d,_0x4ed234){_0x3c277d=_0x3c277d-0x1a7;let _0x44a6bb=_0x2f5da6[_0x3c277d];return _0x44a6bb;},a40_0x3c27(_0x1192db,_0x54a373);}const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a40_0x4eb342(0x1b4)),PerformanceTester=require(a40_0x4eb342(0x228)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require('../../../helpers/test-observability/constants'),helper=require('../../../helpers/helper'),path=require(a40_0x4eb342(0x1fa)),logger=require(a40_0x4eb342(0x1d1))['winstonLogger'],SessionHandler=require(a40_0x4eb342(0x1fb)),TestDetails=require(a40_0x4eb342(0x217)),util=require(a40_0x4eb342(0x1fe)),getTagsFromTitle=_0x339793=>{const _0x401e8d=a40_0x4eb342;return _0x339793[_0x401e8d(0x219)](/@(\w+)/g)?.[_0x401e8d(0x21d)](_0x2d7fdc=>_0x2d7fdc[_0x401e8d(0x1eb)](0x1))||[];};function a40_0x2f5d(){const _0x1e2c94=['lib','TEST_LOG','getTime','HDhcn','getFailureData','kxphZ','\x20in\x20attachments','3973211ORAngO','sGmSc','Found\x20key:\x20','Total\x20duration\x20for\x20whole\x20build\x20is\x20','debug','1.38.0','getProjectUtilsPath','HgTJQ','\x20in\x20arguments','9060lpemEh','playwright','getForkProcessPath','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','substr','toString','Searching\x20for\x20key:\x20','Nzlky','onBegin','playwright/lib/common/configLoader.js','sGbDc','48aeJlcc','sendSessionDetails','OAHBa','process.js','startsWith','../../../helpers/test-observability/utils','Trace\x20enabled','zVHBq','name','beforeWorkerHook','compareVersions','ZoQmp','existsSync','size','runner/loadUtils.js','message','pMhiZ','START_TIME','extname','MmdvJ','IAxBZ','KOOMz','afterWorkerHook','@playwright/test','createReadStream','1.42.0','XAARr','IIxWK','attachments','VJXaV','prototype','120YpbcyB','onStepEnd','common','../../../helpers/logger','noOuo','Test\x20timeout\x20of','title','KQlQg','format','performance-report-worker-','sendTraceZip','vYOqR','cwQYh','386288eOZAlG','nlHui','toLowerCase','HTNLP','LLKuE','onTestEnd','endsWith','ERROR','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','beforeTestHook','tags','length','Qvkbe','env','sendTestLog','filter','slice','AzVSK','onStepBegin','OknNl','PLAYWRIGHT','findNestedKey','fuQnr','setupBrowserDetails','@playwright/test/lib/common/transform.js','trace','error','TFueZ','call','UCtJg','KrjxR','path','../../../helpers/test-observability/sessionHandler','MkSlX','performance-reporter.html','util','stopAndGenerate','runner/projectUtils.js','ZIPcb','hKEDT','getTransformPath','tRfTA','aLVKH','HmCsf','BRFPR','iMzYA','includes','\x20bytes','join','stack','statSync','validateFilePath','playwright/lib/transform/transform.js','uSoRH','rLmUZ','Arguments','oKfXr','4412oPkalp','processPageScreenshot','SSfPn','./test-details','test','match','SNjGM','sLCai','vgtqB','map','PlcCR','VUHDk','doo11ySync','2594zDRsxi','PlaBW','iIxoZ','1.35.0','624kKXTcl','LogCreated','calculatePerformance','../../../helpers/performance/performance-tester','getConfigLoaderPath','kleXF','endSession','basename','BHQnD','sendEventData','Error\x20in\x20sending\x20trace\x20file:\x20%s','fSwxL','requestSpyCallback','getTestTags','calculateTimesFromMultipleFiles','12IhWrAI','filePath','jhMYd','getLoadUtilsPath','@playwright/test/lib/transform/transform.js','hiiKo','pQxdH','VOiNa','.json','uploadTraceZip','216853efZGHL','33408BrgVZX','860bSIFPv'];a40_0x2f5d=function(){return _0x1e2c94;};return a40_0x2f5d();}exports[a40_0x4eb342(0x232)]=_0x577188=>{const _0x700635=a40_0x4eb342,_0x14fb44={'MmdvJ':function(_0xc1bed2,_0x15b53d){return _0xc1bed2(_0x15b53d);}};if(_0x577188['tags'])return _0x577188[_0x700635(0x1e5)][_0x700635(0x21d)](_0x432ece=>_0x432ece[_0x700635(0x1b3)]('@')?_0x432ece[_0x700635(0x1a8)](0x1):_0x432ece);return _0x14fb44[_0x700635(0x1c2)](getTagsFromTitle,_0x577188[_0x700635(0x1d4)]);},exports[a40_0x4eb342(0x227)]=async()=>{const _0x334e33=a40_0x4eb342,_0x103efb={'AzVSK':function(_0x5c9c4e,_0x3e139f){return _0x5c9c4e-_0x3e139f;},'kleXF':_0x334e33(0x1fd),'tRfTA':_0x334e33(0x1ac),'zGkEa':_0x334e33(0x22b),'dczVL':'onTestBegin','fuQnr':_0x334e33(0x1e0),'VJXaV':_0x334e33(0x1ed),'UCtJg':_0x334e33(0x1cf),'noaeZ':_0x334e33(0x1b8),'jhMYd':_0x334e33(0x1c5),'xULbC':_0x334e33(0x1e4),'PlaBW':'afterTestHook','VUHDk':_0x334e33(0x220),'HDhcn':_0x334e33(0x215),'BRFPR':_0x334e33(0x1b0),'hiiKo':_0x334e33(0x1f2),'sGbDc':_0x334e33(0x231),'kxphZ':_0x334e33(0x1e9),'IAxBZ':function(_0xd15618,_0x5adc51){return _0xd15618(_0x5adc51);},'IIxWK':function(_0x324dd8,_0x420e3d){return _0x324dd8/_0x420e3d;},'Nzlky':function(_0x59ace3,_0x55789d){return _0x59ace3(_0x55789d);},'iMzYA':function(_0x406614,_0x42857c){return _0x406614+_0x42857c;},'iIxoZ':function(_0x4ced3b,_0x2eaefc){return _0x4ced3b*_0x2eaefc;},'SNjGM':function(_0x3671d5,_0x3dd92e){return _0x3671d5/_0x3dd92e;}};if(!process[_0x334e33(0x1e8)][_0x334e33(0x1c0)])return;const _0x54f3c4=_0x103efb[_0x334e33(0x1ec)](new Date()['getTime'](),new Date(process[_0x334e33(0x1e8)][_0x334e33(0x1c0)])[_0x334e33(0x243)]()),_0x20584b=await PerformanceTester[_0x334e33(0x1ff)](_0x103efb[_0x334e33(0x22a)],[_0x103efb[_0x334e33(0x204)],_0x103efb['zGkEa'],_0x103efb['dczVL'],_0x103efb[_0x334e33(0x1f1)],_0x103efb[_0x334e33(0x1cc)],_0x103efb[_0x334e33(0x1f8)]]),_0x554d46=fs['readdirSync']('.'),_0x354c95=_0x554d46[_0x334e33(0x1ea)](_0x360a0a=>_0x360a0a['startsWith'](_0x334e33(0x1d7))&&_0x360a0a[_0x334e33(0x1e1)](_0x334e33(0x23c))),_0x47ef32=await PerformanceTester[_0x334e33(0x233)](_0x354c95,[_0x103efb['noaeZ'],_0x103efb[_0x334e33(0x236)],_0x103efb['xULbC'],_0x103efb[_0x334e33(0x222)],_0x103efb[_0x334e33(0x21f)],_0x103efb[_0x334e33(0x244)],_0x103efb[_0x334e33(0x207)],_0x103efb[_0x334e33(0x239)],_0x103efb[_0x334e33(0x1ae)],_0x103efb[_0x334e33(0x246)]]);_0x103efb[_0x334e33(0x1c3)](debug,_0x334e33(0x24b)+_0x103efb[_0x334e33(0x1ca)](_0x54f3c4,0x3e8)+'\x20s'),_0x103efb[_0x334e33(0x1ab)](debug,_0x334e33(0x1a7)+_0x103efb[_0x334e33(0x208)](_0x47ef32,_0x20584b)),_0x103efb[_0x334e33(0x1ab)](debug,'Percentage\x20of\x20increased\x20time\x20is\x20'+_0x103efb[_0x334e33(0x223)](_0x103efb[_0x334e33(0x21a)](_0x103efb[_0x334e33(0x208)](_0x47ef32,_0x20584b),_0x54f3c4),0x64));},exports[a40_0x4eb342(0x203)]=()=>{const _0x1272c7=a40_0x4eb342,_0x3cbe24={'Tjelt':function(_0x49b089,_0x4b183c){return _0x49b089(_0x4b183c);},'Qvkbe':function(_0x71f63d,_0x5a01fd){return _0x71f63d>=_0x5a01fd;},'noOuo':_0x1272c7(0x24d),'AnGDr':_0x1272c7(0x20f),'tkrud':_0x1272c7(0x252),'zVHBq':function(_0x1d6f4d,_0x53517a){return _0x1d6f4d>=_0x53517a;},'XcdzK':_0x1272c7(0x224),'vgtqB':_0x1272c7(0x238),'OknNl':_0x1272c7(0x1c6),'KrjxR':_0x1272c7(0x1f3)},_0x40b95e=_0x3cbe24['Tjelt'](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x3cbe24[_0x1272c7(0x1e7)](helper[_0x1272c7(0x1b9)](_0x40b95e,_0x3cbe24[_0x1272c7(0x1d2)]),0x0))return[_0x3cbe24['AnGDr'],_0x3cbe24['tkrud']];if(_0x3cbe24[_0x1272c7(0x1b6)](helper[_0x1272c7(0x1b9)](_0x40b95e,_0x3cbe24['XcdzK']),0x0))return[_0x3cbe24[_0x1272c7(0x21c)],_0x3cbe24[_0x1272c7(0x1ee)]];return[_0x3cbe24[_0x1272c7(0x1f9)],_0x3cbe24[_0x1272c7(0x1ee)]];},exports[a40_0x4eb342(0x229)]=()=>{const _0x5062d9=a40_0x4eb342,_0x4a8d02={'MkSlX':function(_0x52c4f0,_0xf94248){return _0x52c4f0(_0xf94248);},'PlcCR':function(_0x49ae20,_0x49d4c2){return _0x49ae20>=_0x49d4c2;},'ZIPcb':_0x5062d9(0x24d),'FsYai':_0x5062d9(0x1ad),'HTNLP':_0x5062d9(0x252),'AjHmp':'@playwright/test/lib/common/configLoader.js','aLVKH':_0x5062d9(0x1c6)},_0x4037ec=_0x4a8d02[_0x5062d9(0x1fc)](getFrameworkVersion,FRAMEWORKS[_0x5062d9(0x1ef)]);if(_0x4a8d02[_0x5062d9(0x21e)](helper[_0x5062d9(0x1b9)](_0x4037ec,_0x4a8d02[_0x5062d9(0x201)]),0x0))return[_0x4a8d02['FsYai'],_0x4a8d02[_0x5062d9(0x1de)]];return[_0x4a8d02['AjHmp'],_0x4a8d02[_0x5062d9(0x205)]];},exports[a40_0x4eb342(0x237)]=()=>{const _0x18d0ff=a40_0x4eb342,_0x37de35={};_0x37de35[_0x18d0ff(0x210)]=_0x18d0ff(0x1bd);const _0x290694=_0x37de35;return helper['getPlaywrightLibPath'](_0x290694['uSoRH']);},exports[a40_0x4eb342(0x24e)]=()=>{const _0x5bbb6a=a40_0x4eb342,_0x153bf9={};_0x153bf9['HmCsf']=_0x5bbb6a(0x200);const _0x43e4af=_0x153bf9;return helper['getPlaywrightLibPath'](_0x43e4af[_0x5bbb6a(0x206)]);},exports[a40_0x4eb342(0x253)]=()=>{const _0x26112c=a40_0x4eb342,_0x378c95={'spVWi':function(_0x1b8f29,_0x42b4fa){return _0x1b8f29(_0x42b4fa);},'hKEDT':function(_0x156f4e,_0x5c308f){return _0x156f4e>=_0x5c308f;},'LLKuE':_0x26112c(0x24d),'oKfXr':_0x26112c(0x241),'sGmSc':_0x26112c(0x1d0),'SSfPn':_0x26112c(0x1b2),'KQlQg':_0x26112c(0x218)},_0x5a16a8=_0x378c95['spVWi'](getFrameworkVersion,FRAMEWORKS[_0x26112c(0x1ef)]);if(_0x378c95[_0x26112c(0x202)](helper[_0x26112c(0x1b9)](_0x5a16a8,_0x378c95[_0x26112c(0x1df)]),0x0))return path[_0x26112c(0x20b)](_0x378c95[_0x26112c(0x213)],_0x378c95[_0x26112c(0x249)],_0x378c95['SSfPn']);return path[_0x26112c(0x20b)](_0x378c95[_0x26112c(0x1d5)],_0x378c95[_0x26112c(0x213)],_0x378c95['sGmSc'],_0x378c95[_0x26112c(0x216)]);},exports[a40_0x4eb342(0x245)]=(_0x3296e5,{test_run_uuid:_0x588f36})=>{const _0x2d25ee=a40_0x4eb342,_0x298f2f={'VOiNa':_0x2d25ee(0x1e2),'DRdXD':_0x2d25ee(0x242),'KOOMz':function(_0x4d0d7a,_0x1264d0){return _0x4d0d7a<=_0x1264d0;},'XAARr':function(_0x2ef330,_0x48ac08){return _0x2ef330(_0x48ac08);},'fPdwV':_0x2d25ee(0x1d3),'ZoQmp':function(_0x41188f,_0x42562d){return _0x41188f>=_0x42562d;},'pMhiZ':_0x2d25ee(0x1c8),'nlHui':function(_0x1acf01,_0x31e73a){return _0x1acf01>_0x31e73a;},'rLmUZ':function(_0x456931,_0x40e842,_0x720be){return _0x456931(_0x40e842,_0x720be);},'HgTJQ':_0x2d25ee(0x218)};if(!_0x3296e5||_0x298f2f[_0x2d25ee(0x1c4)](_0x3296e5[_0x2d25ee(0x1e6)],0x0))return[];const _0x35f086=_0x298f2f[_0x2d25ee(0x1c9)](removeAnsiColors,_0x3296e5[0x0][_0x2d25ee(0x1be)]);if(_0x35f086[_0x2d25ee(0x1b3)](_0x298f2f['fPdwV'])){const _0x1bee90=_0x3296e5[0x0],_0x44c72d=_0x298f2f['XAARr'](getFrameworkVersion,FRAMEWORKS[_0x2d25ee(0x1ef)]);if((!_0x1bee90[_0x2d25ee(0x20c)]||_0x298f2f[_0x2d25ee(0x1ba)](_0x44c72d,_0x298f2f[_0x2d25ee(0x1bf)]))&&_0x298f2f[_0x2d25ee(0x1dc)](_0x3296e5[_0x2d25ee(0x1e6)],0x1))return{'failureData':[{'backtrace':[_0x35f086,_0x298f2f[_0x2d25ee(0x1c9)](removeAnsiColors,_0x3296e5[0x1][_0x2d25ee(0x20c)])]}],'logs':_0x3296e5[_0x2d25ee(0x1eb)](0x2)[_0x2d25ee(0x21d)](_0x228f4e=>{const _0x46880f=_0x2d25ee;return{'timestamp':new Date()['toISOString'](),'level':_0x298f2f[_0x46880f(0x23b)],'message':''+_0x228f4e[_0x46880f(0x1be)],'kind':_0x298f2f['DRdXD'],'http_response':{},'test_run_uuid':_0x588f36};})};}return{'failureData':_0x298f2f[_0x2d25ee(0x211)](failureData,_0x3296e5,_0x298f2f[_0x2d25ee(0x24f)]),'logs':[]};},exports['validateFilePath']=_0x4391bc=>{const _0x1e2887=a40_0x4eb342,_0x4f4b39={};_0x4f4b39[_0x1e2887(0x1d9)]=function(_0x2ea9e8,_0x234f6f){return _0x2ea9e8!==_0x234f6f;},_0x4f4b39['NWHHX']='.zip',_0x4f4b39[_0x1e2887(0x22d)]=function(_0x477eac,_0x2e89ed){return _0x477eac>_0x2e89ed;};const _0x3d3a8e=_0x4f4b39;if(fs[_0x1e2887(0x1bb)](_0x4391bc)){if(_0x3d3a8e['vYOqR'](path[_0x1e2887(0x1c1)](_0x4391bc)[_0x1e2887(0x1dd)](),_0x3d3a8e['NWHHX']))return logger[_0x1e2887(0x1f5)]('Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20'+_0x4391bc),![];const _0x1fcaa9=fs[_0x1e2887(0x20d)](_0x4391bc)[_0x1e2887(0x1bc)];if(_0x3d3a8e[_0x1e2887(0x22d)](_0x1fcaa9,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x1e2887(0x1f5)]('Trace\x20file\x20size\x20exceeds\x20100MB:\x20'+_0x1fcaa9+_0x1e2887(0x20a)),![];return!![];}return![];},exports['findNestedKey']=(_0x5c5817,_0x3d1877)=>{const _0x15164d=a40_0x4eb342,_0x239ad7={};_0x239ad7['NkGPI']=_0x15164d(0x212);const _0x2d1ac5=_0x239ad7;logger[_0x15164d(0x24c)](_0x15164d(0x1aa)+_0x3d1877);if(_0x5c5817[_0x15164d(0x1cb)]){const _0x1ec839=_0x5c5817[_0x15164d(0x1cb)]['find'](_0x393b2d=>_0x393b2d[_0x15164d(0x1b7)]===_0x15164d(0x1f4));if(_0x1ec839)return logger[_0x15164d(0x24c)]('Found\x20key:\x20'+_0x3d1877+_0x15164d(0x247)),_0x1ec839[_0x3d1877];}else{if(Object[_0x15164d(0x1cd)][_0x15164d(0x1a9)][_0x15164d(0x1f7)](_0x5c5817)[_0x15164d(0x209)](_0x2d1ac5['NkGPI']))for(const _0x4b50e7 of _0x5c5817){if(_0x4b50e7[_0x3d1877])return logger['debug'](_0x15164d(0x24a)+_0x3d1877+_0x15164d(0x250)),_0x4b50e7[_0x3d1877];}}return'';},exports[a40_0x4eb342(0x23d)]=async(_0x2aceeb,_0x448a4f)=>{const _0x237861=a40_0x4eb342,_0x36a2c6={};_0x36a2c6[_0x237861(0x23a)]=_0x237861(0x226),_0x36a2c6[_0x237861(0x1b1)]='TEST_ATTACHMENT',_0x36a2c6['fSwxL']=_0x237861(0x1d8),_0x36a2c6[_0x237861(0x1da)]=_0x237861(0x22f);const _0x419725=_0x36a2c6;try{const _0xdc7363={'event_type':_0x419725[_0x237861(0x23a)],'logs':[{'data':fs[_0x237861(0x1c7)](_0x2aceeb),'test_run_uuid':_0x448a4f,'kind':_0x419725[_0x237861(0x1b1)],'fileName':path[_0x237861(0x22c)](_0x2aceeb)}]};return await SessionHandler[_0x237861(0x22e)](_0xdc7363,0x0,_0x419725[_0x237861(0x230)]);}catch(_0x42b44){logger['error'](util[_0x237861(0x1d6)](_0x419725[_0x237861(0x1da)],_0x42b44));}},exports['sendTraceZip']=async(_0x52a5c7,_0x2d2ccf)=>{const _0x22f8f1=a40_0x4eb342,_0x1a0007={};_0x1a0007['ezNgi']=_0x22f8f1(0x1fa),_0x1a0007['sLCai']=_0x22f8f1(0x1b5),_0x1a0007['TFueZ']=_0x22f8f1(0x22f);const _0x4b82a0=_0x1a0007;try{logger[_0x22f8f1(0x24c)](_0x22f8f1(0x1e3)+_0x2d2ccf);const _0x57a15f=await exports[_0x22f8f1(0x1f0)](_0x52a5c7,_0x4b82a0['ezNgi']);if(exports[_0x22f8f1(0x20e)](_0x57a15f)){logger[_0x22f8f1(0x24c)](_0x4b82a0[_0x22f8f1(0x21b)]);const _0x45c348={};_0x45c348['testUId']=_0x2d2ccf,_0x45c348[_0x22f8f1(0x235)]=_0x57a15f;const _0x4a8f48=_0x45c348;TestDetails['addTraceFilePath'](_0x4a8f48);};}catch(_0x5609ab){logger[_0x22f8f1(0x1f5)](util[_0x22f8f1(0x1d6)](_0x4b82a0[_0x22f8f1(0x1f6)],_0x5609ab));}};