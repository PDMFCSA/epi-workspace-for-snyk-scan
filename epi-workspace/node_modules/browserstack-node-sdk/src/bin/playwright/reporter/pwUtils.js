const a40_0x4cd680=a40_0xa928;function a40_0x3b1e(){const _0x42c833=['name','kZgog','format','NrykH','OkBlB','runner/projectUtils.js','aGWRm','compareVersions','CRgHy','vuYFv','Arguments','map','readdirSync','vjFob','@playwright/test/lib/transform/transform.js','cUWMP','MhxgR','requestSpyCallback','870357hgRisN','1197117bYXeNj','5169276XJHveP','getConfigLoaderPath','afterWorkerHook','join','wDgmO','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','validateFilePath','nOPGb','stack','playwright/lib/common/configLoader.js','gvBaJ','beforeWorkerHook','nXJkD','Found\x20key:\x20','SQhSf','env','bFJqN','SRmXx','1.38.0','getTransformPath','message','258MDemrt','lrDMT','setupBrowserDetails','8Bcnzim','find','sendEventData','AkiUe','vOEJN','common','azJSQ','\x20bytes','14291740ZNCapr','LLMXk','MAUlI','performance-reporter.html','winstonLogger','jAUBz','@playwright/test/lib/common/configLoader.js','../../../helpers/test-observability/sessionHandler','sendSessionDetails','../../../helpers/helper','length','DLpYg','VYXUa','attachments','bMkeE','../../../helpers/test-observability/utils','prototype','process.js','afterTestHook','getFailureData','CBUtG','../../../helpers/logger','@playwright/test','getTime','Percentage\x20of\x20increased\x20time\x20is\x20','WIUnZ','uploadTraceZip','onTestBegin','12850liyyIV','substr','playwright/lib/transform/transform.js','onBegin','debug','endsWith','createReadStream','lib','Total\x20duration\x20for\x20whole\x20build\x20is\x20','mnplP','ONGPm','onTestEnd','toString','Searching\x20for\x20key:\x20','WXCii','title','getLoadUtilsPath','qopcF','existsSync','\x20in\x20arguments','LogCreated','./test-details','AYqxk','jDvyO','call','pnPGg','eTVxZ','includes','onStepEnd','4lIRzYB','runner/loadUtils.js','rrwda','nixwE','TEST_LOG','START_TIME','calculateTimesFromMultipleFiles','doo11ySync','getForkProcessPath','toLowerCase','PLAYWRIGHT','basename','LovEL','filePath','path','Error\x20in\x20sending\x20trace\x20file:\x20%s','match','endSession','KAVJf','sendTraceZip','extname','5843369OIxiBa','getTestTags','vXond','OCJfw','performance-report-worker-','SNLSi','YtDXu','UVwuC','findNestedKey','../../../helpers/test-observability/constants','processPageScreenshot','aTisc','@playwright/test/lib/common/transform.js','getProjectUtilsPath','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','PIkDV','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','test','1.35.0','TWQwj','uajnt','startsWith','error','Test\x20timeout\x20of','calculatePerformance','JGfCN','nyvSN','util','slice','ERROR','fGlpI','187108hkJnyF','getPlaywrightLibPath','tTZnh','mTvui','playwright','statSync','toISOString','tags','trace','\x20in\x20attachments','ClZmy','size','yxArk','FBEDz','QODoh','.json'];a40_0x3b1e=function(){return _0x42c833;};return a40_0x3b1e();}function a40_0xa928(_0x79c70e,_0x20c267){const _0x3b1e50=a40_0x3b1e();return a40_0xa928=function(_0xa92889,_0xee73b0){_0xa92889=_0xa92889-0x172;let _0x2e15b4=_0x3b1e50[_0xa92889];return _0x2e15b4;},a40_0xa928(_0x79c70e,_0x20c267);}(function(_0x2d83d0,_0x368eab){const _0x42c0ec=a40_0xa928,_0x350636=_0x2d83d0();while(!![]){try{const _0x43b907=parseInt(_0x42c0ec(0x211))/0x1+parseInt(_0x42c0ec(0x1ef))/0x2+-parseInt(_0x42c0ec(0x212))/0x3*(parseInt(_0x42c0ec(0x1bb))/0x4)+-parseInt(_0x42c0ec(0x19e))/0x5*(-parseInt(_0x42c0ec(0x177))/0x6)+parseInt(_0x42c0ec(0x1d0))/0x7*(parseInt(_0x42c0ec(0x17a))/0x8)+parseInt(_0x42c0ec(0x213))/0x9+-parseInt(_0x42c0ec(0x182))/0xa;if(_0x43b907===_0x368eab)break;else _0x350636['push'](_0x350636['shift']());}catch(_0x2f0d27){_0x350636['push'](_0x350636['shift']());}}}(a40_0x3b1e,0x9ffeb));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a40_0x4cd680(0x191)),PerformanceTester=require('../../../helpers/performance/performance-tester'),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a40_0x4cd680(0x1d9)),helper=require(a40_0x4cd680(0x18b)),path=require('path'),logger=require(a40_0x4cd680(0x197))[a40_0x4cd680(0x186)],SessionHandler=require(a40_0x4cd680(0x189)),TestDetails=require(a40_0x4cd680(0x1b3)),util=require(a40_0x4cd680(0x1eb)),getTagsFromTitle=_0x131439=>{const _0xbdb9fd=a40_0x4cd680;return _0x131439[_0xbdb9fd(0x1cb)](/@(\w+)/g)?.['map'](_0xfa449d=>_0xfa449d[_0xbdb9fd(0x1ec)](0x1))||[];};exports[a40_0x4cd680(0x1d1)]=_0x5e387=>{const _0x44d430=a40_0x4cd680,_0x452a98={'eTVxZ':function(_0x13f3fb,_0x6eb3ee){return _0x13f3fb(_0x6eb3ee);}};if(_0x5e387[_0x44d430(0x1f6)])return _0x5e387[_0x44d430(0x1f6)][_0x44d430(0x20a)](_0x10e81b=>_0x10e81b['startsWith']('@')?_0x10e81b[_0x44d430(0x19f)](0x1):_0x10e81b);return _0x452a98[_0x44d430(0x1b8)](getTagsFromTitle,_0x5e387[_0x44d430(0x1ad)]);},exports[a40_0x4cd680(0x1e8)]=async()=>{const _0x585e03=a40_0x4cd680,_0x479c31={'sglIB':function(_0x7e1bac,_0x321f25){return _0x7e1bac-_0x321f25;},'mnplP':_0x585e03(0x185),'nOPGb':_0x585e03(0x1a1),'aTisc':_0x585e03(0x1cc),'LovEL':_0x585e03(0x19d),'yCXjp':_0x585e03(0x1a9),'cUWMP':'onStepBegin','CRgHy':_0x585e03(0x1ba),'lrDMT':_0x585e03(0x21e),'YkXet':_0x585e03(0x215),'ClZmy':'beforeTestHook','vOEJN':_0x585e03(0x194),'uajnt':_0x585e03(0x1c2),'NaZyq':_0x585e03(0x1da),'wDgmO':_0x585e03(0x18a),'AkiUe':_0x585e03(0x179),'SlIIR':_0x585e03(0x210),'yxArk':'sendTestLog','MAUlI':function(_0x1be114,_0x1ff3a0){return _0x1be114(_0x1ff3a0);},'kZgog':function(_0xe3aa7,_0x425916){return _0xe3aa7/_0x425916;},'MhxgR':function(_0x410a95,_0x31f8e7){return _0x410a95+_0x31f8e7;},'fGlpI':function(_0x1077c5,_0x283e66){return _0x1077c5*_0x283e66;},'AUwXj':function(_0x1e50fd,_0x16fc7f){return _0x1e50fd/_0x16fc7f;},'SQhSf':function(_0x1dc814,_0x182829){return _0x1dc814+_0x182829;}};if(!process['env'][_0x585e03(0x1c0)])return;const _0x5135ff=_0x479c31['sglIB'](new Date()[_0x585e03(0x199)](),new Date(process[_0x585e03(0x222)]['START_TIME'])[_0x585e03(0x199)]()),_0x4b1ff1=await PerformanceTester['stopAndGenerate'](_0x479c31[_0x585e03(0x1a7)],[_0x479c31[_0x585e03(0x21a)],_0x479c31[_0x585e03(0x1db)],_0x479c31[_0x585e03(0x1c7)],_0x479c31['yCXjp'],_0x479c31[_0x585e03(0x20e)],_0x479c31[_0x585e03(0x207)]]),_0x383fb0=fs[_0x585e03(0x20b)]('.'),_0x266749=_0x383fb0['filter'](_0x11e556=>_0x11e556[_0x585e03(0x1e5)](_0x585e03(0x1d4))&&_0x11e556[_0x585e03(0x1a3)](_0x585e03(0x1fe))),_0x11adf2=await PerformanceTester[_0x585e03(0x1c1)](_0x266749,[_0x479c31[_0x585e03(0x178)],_0x479c31['YkXet'],_0x479c31[_0x585e03(0x1f9)],_0x479c31[_0x585e03(0x17e)],_0x479c31[_0x585e03(0x1e4)],_0x479c31['NaZyq'],_0x479c31[_0x585e03(0x217)],_0x479c31[_0x585e03(0x17d)],_0x479c31['SlIIR'],_0x479c31[_0x585e03(0x1fb)]]);_0x479c31['MAUlI'](debug,_0x585e03(0x1a6)+_0x479c31[_0x585e03(0x200)](_0x5135ff,0x3e8)+'\x20s'),_0x479c31[_0x585e03(0x184)](debug,_0x585e03(0x1de)+_0x479c31[_0x585e03(0x20f)](_0x11adf2,_0x4b1ff1)),_0x479c31[_0x585e03(0x184)](debug,_0x585e03(0x19a)+_0x479c31[_0x585e03(0x1ee)](_0x479c31['AUwXj'](_0x479c31[_0x585e03(0x221)](_0x11adf2,_0x4b1ff1),_0x5135ff),0x64));},exports[a40_0x4cd680(0x175)]=()=>{const _0x2693ae=a40_0x4cd680,_0x5921ff={'nXJkD':function(_0x51f404,_0x16ca05){return _0x51f404(_0x16ca05);},'Rxbhs':function(_0x4628d4,_0x3ba865){return _0x4628d4>=_0x3ba865;},'UVwuC':_0x2693ae(0x174),'SNLSi':_0x2693ae(0x1a0),'mTvui':_0x2693ae(0x1f3),'bFJqN':function(_0x26b3ef,_0x59ec88){return _0x26b3ef>=_0x59ec88;},'nyvSN':_0x2693ae(0x1e2),'rrwda':_0x2693ae(0x20d),'EcnCI':_0x2693ae(0x198),'VYXUa':_0x2693ae(0x1dc)},_0x50156d=_0x5921ff[_0x2693ae(0x21f)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x5921ff['Rxbhs'](helper[_0x2693ae(0x206)](_0x50156d,_0x5921ff[_0x2693ae(0x1d7)]),0x0))return[_0x5921ff[_0x2693ae(0x1d5)],_0x5921ff[_0x2693ae(0x1f2)]];if(_0x5921ff[_0x2693ae(0x172)](helper[_0x2693ae(0x206)](_0x50156d,_0x5921ff[_0x2693ae(0x1ea)]),0x0))return[_0x5921ff[_0x2693ae(0x1bd)],_0x5921ff['EcnCI']];return[_0x5921ff[_0x2693ae(0x18e)],_0x5921ff['EcnCI']];},exports[a40_0x4cd680(0x214)]=()=>{const _0x35a624=a40_0x4cd680,_0x141604={'DLpYg':function(_0x22dd16,_0x2a5da9){return _0x22dd16(_0x2a5da9);},'nixwE':function(_0x566c79,_0x4c0e3e){return _0x566c79>=_0x4c0e3e;},'ONGPm':_0x35a624(0x174),'OkBlB':_0x35a624(0x21c),'cKpbv':_0x35a624(0x1f3),'FBEDz':_0x35a624(0x188),'gvBaJ':_0x35a624(0x198)},_0x76fd56=_0x141604[_0x35a624(0x18d)](getFrameworkVersion,FRAMEWORKS[_0x35a624(0x1c5)]);if(_0x141604[_0x35a624(0x1be)](helper[_0x35a624(0x206)](_0x76fd56,_0x141604[_0x35a624(0x1a8)]),0x0))return[_0x141604[_0x35a624(0x203)],_0x141604['cKpbv']];return[_0x141604[_0x35a624(0x1fc)],_0x141604[_0x35a624(0x21d)]];},exports[a40_0x4cd680(0x1ae)]=()=>{const _0x1b5ef2=a40_0x4cd680,_0xbff8f6={};_0xbff8f6['KAVJf']=_0x1b5ef2(0x1bc);const _0x5175fc=_0xbff8f6;return helper[_0x1b5ef2(0x1f0)](_0x5175fc[_0x1b5ef2(0x1cd)]);},exports[a40_0x4cd680(0x1dd)]=()=>{const _0x19bc81=a40_0x4cd680,_0x545b9d={};_0x545b9d[_0x19bc81(0x1d2)]=_0x19bc81(0x204);const _0xb0ff4=_0x545b9d;return helper[_0x19bc81(0x1f0)](_0xb0ff4[_0x19bc81(0x1d2)]);},exports[a40_0x4cd680(0x1c3)]=()=>{const _0x5e2e66=a40_0x4cd680,_0xf8918f={'AYqxk':function(_0x38420b,_0x510912){return _0x38420b(_0x510912);},'tTZnh':function(_0x22f1c5,_0x1af500){return _0x22f1c5>=_0x1af500;},'SXgIV':_0x5e2e66(0x174),'LLMXk':_0x5e2e66(0x1a5),'azJSQ':_0x5e2e66(0x17f),'NNWlf':_0x5e2e66(0x193),'UftBE':_0x5e2e66(0x1e1)},_0x3bd944=_0xf8918f[_0x5e2e66(0x1b4)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0xf8918f[_0x5e2e66(0x1f1)](helper[_0x5e2e66(0x206)](_0x3bd944,_0xf8918f['SXgIV']),0x0))return path[_0x5e2e66(0x216)](_0xf8918f['LLMXk'],_0xf8918f[_0x5e2e66(0x180)],_0xf8918f['NNWlf']);return path[_0x5e2e66(0x216)](_0xf8918f['UftBE'],_0xf8918f[_0x5e2e66(0x183)],_0xf8918f[_0x5e2e66(0x180)],_0xf8918f['NNWlf']);},exports[a40_0x4cd680(0x195)]=(_0x2cc1d3,{test_run_uuid:_0x323c60})=>{const _0x4a3161=a40_0x4cd680,_0x2477de={'pnPGg':_0x4a3161(0x1ed),'dKyaF':_0x4a3161(0x1bf),'qopcF':function(_0x198196,_0x3c8332){return _0x198196<=_0x3c8332;},'OCJfw':function(_0x7f6c14,_0x4ffafc){return _0x7f6c14(_0x4ffafc);},'aGWRm':_0x4a3161(0x1e7),'CBUtG':function(_0x916843,_0x4aae0c){return _0x916843(_0x4aae0c);},'jAUBz':function(_0x229843,_0x3c9555){return _0x229843>=_0x3c9555;},'NtorS':'1.42.0','TWQwj':function(_0x257b60,_0x143f74){return _0x257b60>_0x143f74;},'QODoh':function(_0xd19563,_0x7f555c){return _0xd19563(_0x7f555c);},'WXCii':function(_0x590f9b,_0x124956,_0xb8f0de){return _0x590f9b(_0x124956,_0xb8f0de);},'cZrzb':_0x4a3161(0x1e1)};if(!_0x2cc1d3||_0x2477de[_0x4a3161(0x1af)](_0x2cc1d3[_0x4a3161(0x18c)],0x0))return[];const _0x4b12b8=_0x2477de[_0x4a3161(0x1d3)](removeAnsiColors,_0x2cc1d3[0x0][_0x4a3161(0x176)]);if(_0x4b12b8[_0x4a3161(0x1e5)](_0x2477de[_0x4a3161(0x205)])){const _0x406d89=_0x2cc1d3[0x0],_0x3cfc91=_0x2477de[_0x4a3161(0x196)](getFrameworkVersion,FRAMEWORKS[_0x4a3161(0x1c5)]);if((!_0x406d89[_0x4a3161(0x21b)]||_0x2477de[_0x4a3161(0x187)](_0x3cfc91,_0x2477de['NtorS']))&&_0x2477de[_0x4a3161(0x1e3)](_0x2cc1d3[_0x4a3161(0x18c)],0x1))return{'failureData':[{'backtrace':[_0x4b12b8,_0x2477de[_0x4a3161(0x1fd)](removeAnsiColors,_0x2cc1d3[0x1][_0x4a3161(0x21b)])]}],'logs':_0x2cc1d3[_0x4a3161(0x1ec)](0x2)['map'](_0x44479f=>{const _0x30917f=_0x4a3161;return{'timestamp':new Date()[_0x30917f(0x1f5)](),'level':_0x2477de[_0x30917f(0x1b7)],'message':''+_0x44479f[_0x30917f(0x176)],'kind':_0x2477de['dKyaF'],'http_response':{},'test_run_uuid':_0x323c60};})};}return{'failureData':_0x2477de[_0x4a3161(0x1ac)](failureData,_0x2cc1d3,_0x2477de['cZrzb']),'logs':[]};},exports['validateFilePath']=_0x50ad99=>{const _0x40518f=a40_0x4cd680,_0x1fdfd9={};_0x1fdfd9['jDvyO']=function(_0x933e49,_0x12cb02){return _0x933e49!==_0x12cb02;},_0x1fdfd9[_0x40518f(0x19b)]='.zip',_0x1fdfd9[_0x40518f(0x1d6)]=function(_0x2dee3a,_0x1fa60b){return _0x2dee3a>_0x1fa60b;};const _0x5bb040=_0x1fdfd9;if(_0x50ad99&&fs[_0x40518f(0x1b0)](_0x50ad99)){if(_0x5bb040[_0x40518f(0x1b5)](path[_0x40518f(0x1cf)](_0x50ad99)[_0x40518f(0x1c4)](),_0x5bb040[_0x40518f(0x19b)]))return logger[_0x40518f(0x1e6)](_0x40518f(0x1e0)+_0x50ad99),![];const _0x1f2601=fs[_0x40518f(0x1f4)](_0x50ad99)[_0x40518f(0x1fa)];if(_0x5bb040[_0x40518f(0x1d6)](_0x1f2601,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x40518f(0x1e6)](_0x40518f(0x218)+_0x1f2601+_0x40518f(0x181)),![];return!![];}return![];},exports[a40_0x4cd680(0x1d8)]=(_0x547b1d,_0x1b3196)=>{const _0x15b25f=a40_0x4cd680,_0x3fb26a={};_0x3fb26a[_0x15b25f(0x173)]=_0x15b25f(0x209);const _0x93c2fb=_0x3fb26a;logger['debug'](_0x15b25f(0x1ab)+_0x1b3196);if(_0x547b1d[_0x15b25f(0x18f)]){const _0x1d755c=_0x547b1d['attachments'][_0x15b25f(0x17b)](_0xe601a=>_0xe601a[_0x15b25f(0x1ff)]===_0x15b25f(0x1f7));if(_0x1d755c)return logger[_0x15b25f(0x1a2)](_0x15b25f(0x220)+_0x1b3196+_0x15b25f(0x1f8)),_0x1d755c[_0x1b3196];}else{if(Object[_0x15b25f(0x192)][_0x15b25f(0x1aa)][_0x15b25f(0x1b6)](_0x547b1d)[_0x15b25f(0x1b9)](_0x93c2fb['SRmXx']))for(const _0x492da1 of _0x547b1d){if(_0x492da1[_0x1b3196])return logger[_0x15b25f(0x1a2)](_0x15b25f(0x220)+_0x1b3196+_0x15b25f(0x1b1)),_0x492da1[_0x1b3196];}}return'';},exports[a40_0x4cd680(0x19c)]=async(_0x2ab20a,_0x2d9434)=>{const _0xbb25b9=a40_0x4cd680,_0x2650ec={};_0x2650ec['GUdUR']=_0xbb25b9(0x1b2),_0x2650ec[_0xbb25b9(0x202)]='TEST_ATTACHMENT',_0x2650ec[_0xbb25b9(0x190)]=_0xbb25b9(0x1ce),_0x2650ec[_0xbb25b9(0x1df)]=_0xbb25b9(0x1ca);const _0x5a4b50=_0x2650ec;try{const _0x53c446={'event_type':_0x5a4b50['GUdUR'],'logs':[{'data':_0x2ab20a?fs[_0xbb25b9(0x1a4)](_0x2ab20a):'','test_run_uuid':_0x2d9434,'kind':_0x5a4b50[_0xbb25b9(0x202)],'fileName':_0x2ab20a?path[_0xbb25b9(0x1c6)](_0x2ab20a):''}]};return await SessionHandler[_0xbb25b9(0x17c)](_0x53c446,0x0,_0x5a4b50[_0xbb25b9(0x190)]);}catch(_0x2ef07c){logger[_0xbb25b9(0x1e6)](util['format'](_0x5a4b50[_0xbb25b9(0x1df)],_0x2ef07c));}},exports[a40_0x4cd680(0x1ce)]=async(_0x10a6fa,_0x2ce812)=>{const _0x3b3866=a40_0x4cd680,_0x269b4b={};_0x269b4b[_0x3b3866(0x20c)]=_0x3b3866(0x1c9),_0x269b4b[_0x3b3866(0x1e9)]='Trace\x20enabled',_0x269b4b['vuYFv']='Error\x20in\x20sending\x20trace\x20file:\x20%s';const _0x320528=_0x269b4b;try{logger['debug']('Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20'+_0x2ce812);const _0x18372=await exports[_0x3b3866(0x1d8)](_0x10a6fa,_0x320528[_0x3b3866(0x20c)]);if(exports[_0x3b3866(0x219)](_0x18372)){logger[_0x3b3866(0x1a2)](_0x320528[_0x3b3866(0x1e9)]);const _0x2373f={};_0x2373f['testUId']=_0x2ce812,_0x2373f[_0x3b3866(0x1c8)]=_0x18372;const _0x23378f=_0x2373f;TestDetails['addTraceFilePath'](_0x23378f);};}catch(_0x1b312d){logger[_0x3b3866(0x1e6)](util[_0x3b3866(0x201)](_0x320528[_0x3b3866(0x208)],_0x1b312d));}};