const a43_0x43da28=a43_0x458c;(function(_0x483c5b,_0x43d8e4){const _0x13929a=a43_0x458c,_0x1b45d3=_0x483c5b();while(!![]){try{const _0x485ec5=parseInt(_0x13929a(0x174))/0x1*(-parseInt(_0x13929a(0x10e))/0x2)+parseInt(_0x13929a(0x13f))/0x3+-parseInt(_0x13929a(0x127))/0x4*(-parseInt(_0x13929a(0x107))/0x5)+parseInt(_0x13929a(0x12e))/0x6+parseInt(_0x13929a(0x134))/0x7+parseInt(_0x13929a(0x181))/0x8+-parseInt(_0x13929a(0x12f))/0x9*(parseInt(_0x13929a(0x18b))/0xa);if(_0x485ec5===_0x43d8e4)break;else _0x1b45d3['push'](_0x1b45d3['shift']());}catch(_0x50bed7){_0x1b45d3['push'](_0x1b45d3['shift']());}}}(a43_0x49b0,0x3974f));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a43_0x43da28(0xfc)),PerformanceTester=require('../../../helpers/performance/performance-tester'),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a43_0x43da28(0x13e)),helper=require(a43_0x43da28(0x169)),path=require(a43_0x43da28(0x11d)),logger=require(a43_0x43da28(0x153))[a43_0x43da28(0x151)],SessionHandler=require('../../../helpers/test-observability/sessionHandler'),TestDetails=require(a43_0x43da28(0x165)),util=require(a43_0x43da28(0x10a)),TestInfo=require(a43_0x43da28(0x12d));function a43_0x49b0(){const _0x15c4ff=['FvwEu','TFFpI','ZnbyA','getTestTags','ERROR','../../v2/TestInfo','1106544LQYHfw','144dkFGhx','testUId','PLAYWRIGHT','Percentage\x20of\x20increased\x20time\x20is\x20','findNestedKey','533134voSHoO','afterWorkerHook','ZGjQD','bUlRu','sendTestLog','bQANP','format','toString','MPDLf','@playwright/test/lib/transform/transform.js','../../../helpers/test-observability/constants','853284CwnEMn','UfqWM','eIuWK','playwright/lib/transform/transform.js','env','jyXSZ','RnQmT','bKUrs','statSync','pnVjD','onStepEnd','getTransformPath','tags','hEEth','getFailureData','getProjectUtilsPath','oJvIW','call','winstonLogger','doo11ySync','../../../helpers/logger','\x20in\x20arguments','gddcH','compareVersions','endsWith','@playwright/test','BYdKs','VVdLp','message','rNhaI','error','prototype','gYYSs','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','cYixD','NdpCZ','beforeTestHook','TJDQU','./test-details','stack','test','Arguments','../../../helpers/helper','QrgBI','uploadTraceZip','sendSessionDetails','name','\x20in\x20attachments','calculatePerformance','playwright/lib/common/configLoader.js','onStepBegin','processPageScreenshot','TEST_ATTACHMENT','46292GQGJOh','AaHRY','HTkoQ','DrDhP','Test\x20timeout\x20of','START_TIME','xNsRE','isRunning','XDEqw','onTestBegin','process.js','endSession','toLowerCase','1252144iuKRzV','slice','readdirSync','attachments','OfgCT','\x20bytes','lib','setupBrowserDetails','resolve','afterTestHook','299170mjgTPq','debug','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','basename','substr','Found\x20key:\x20','dVVOD','lcZbN','WRPzn','bqvLv','pUTtm','Pvhoq','REgOV','find','ajFVI','luIfP','getLoadUtilsPath','playwright','map','GGiRA','ICKZQ','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','Fxcse','../../../helpers/test-observability/utils','qjAEB','OJwKW','egYdT','existsSync','calculateTimesFromMultipleFiles','jTnEb','extname','join','OTjqz','../../v2/browserstackCLI','5vvAmLC','1.38.0','getInstance','util','performance-reporter.html','startsWith','XvliY','16YbdngH','zvMOs','jCZBB','RZvOv','toISOString','stopAndGenerate','vylAA','addTraceFilePath','sendTraceZip','gMrKv','vzBjZ','TASMa','ZdyvK','Searching\x20for\x20key:\x20','Error\x20in\x20sending\x20trace\x20file:\x20%s','path','CWcEg','Total\x20duration\x20for\x20whole\x20build\x20is\x20','getPlaywrightLibPath','.zip','TEST_LOG','getTime','.json','beforeWorkerHook','wgVES','1531276XAynPK'];a43_0x49b0=function(){return _0x15c4ff;};return a43_0x49b0();}let BrowserstackCLIInstance=null;function a43_0x458c(_0x37bbbf,_0x1ec753){const _0x49b09d=a43_0x49b0();return a43_0x458c=function(_0x458c57,_0x50c429){_0x458c57=_0x458c57-0xfc;let _0x23bb73=_0x49b09d[_0x458c57];return _0x23bb73;},a43_0x458c(_0x37bbbf,_0x1ec753);}function getBrowserstackCLI(){const _0x36ee5d=a43_0x43da28,_0xb80955={'bqvLv':function(_0x1bd8ad,_0x212a17){return _0x1bd8ad(_0x212a17);},'vzBjZ':_0x36ee5d(0x106)};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0xb80955[_0x36ee5d(0x194)](require,_0xb80955[_0x36ee5d(0x118)])),BrowserstackCLIInstance;}const getTagsFromTitle=_0x1fc9dd=>{const _0x56c9d6=a43_0x43da28;return _0x1fc9dd['match'](/@(\w+)/g)?.[_0x56c9d6(0x19d)](_0x3adc0a=>_0x3adc0a[_0x56c9d6(0x182)](0x1))||[];};exports[a43_0x43da28(0x12b)]=_0x31d5e6=>{const _0x35d10=a43_0x43da28,_0x326ba9={'VVdLp':function(_0x28ff7,_0x6e6eb1){return _0x28ff7(_0x6e6eb1);}};if(_0x31d5e6[_0x35d10(0x14b)])return _0x31d5e6[_0x35d10(0x14b)][_0x35d10(0x19d)](_0x2a72ac=>_0x2a72ac[_0x35d10(0x10c)]('@')?_0x2a72ac[_0x35d10(0x18f)](0x1):_0x2a72ac);return _0x326ba9[_0x35d10(0x15a)](getTagsFromTitle,_0x31d5e6['title']);},exports[a43_0x43da28(0x16f)]=async()=>{const _0x4eac09=a43_0x43da28,_0x3d6554={'rMgWx':function(_0x550483,_0x122d58){return _0x550483-_0x122d58;},'gddcH':_0x4eac09(0x10b),'GGiRA':'onBegin','vHUBr':_0x4eac09(0x17f),'dVVOD':_0x4eac09(0x17d),'fcUdZ':'onTestEnd','luIfP':_0x4eac09(0x171),'OTjqz':_0x4eac09(0x149),'SLgjC':_0x4eac09(0x125),'oJvIW':_0x4eac09(0x135),'Uozks':_0x4eac09(0x163),'CqIAG':_0x4eac09(0x18a),'XDEqw':_0x4eac09(0x152),'bQANP':_0x4eac09(0x172),'gYYSs':_0x4eac09(0x16c),'TFFpI':_0x4eac09(0x188),'jTnEb':'requestSpyCallback','bEhwt':_0x4eac09(0x138),'ZGjQD':function(_0x28444f,_0x21f91b){return _0x28444f(_0x21f91b);},'ZnbyA':function(_0x36a152,_0x3bbe4b){return _0x36a152/_0x3bbe4b;},'BYdKs':function(_0x3a9153,_0x3956fa){return _0x3a9153+_0x3956fa;},'lcZbN':function(_0x2a0d77,_0x2d9cdf){return _0x2a0d77(_0x2d9cdf);},'Pvhoq':function(_0x3482ea,_0x1f21e1){return _0x3482ea*_0x1f21e1;},'gMrKv':function(_0x40d22d,_0x4c8b97){return _0x40d22d+_0x4c8b97;}};if(!process['env']['START_TIME'])return;const _0x58d26d=_0x3d6554['rMgWx'](new Date()[_0x4eac09(0x123)](),new Date(process[_0x4eac09(0x143)][_0x4eac09(0x179)])[_0x4eac09(0x123)]()),_0x59ef30=await PerformanceTester[_0x4eac09(0x113)](_0x3d6554[_0x4eac09(0x155)],[_0x3d6554[_0x4eac09(0x19e)],_0x3d6554['vHUBr'],_0x3d6554[_0x4eac09(0x191)],_0x3d6554['fcUdZ'],_0x3d6554[_0x4eac09(0x19a)],_0x3d6554[_0x4eac09(0x105)]]),_0x2621ef=fs[_0x4eac09(0x183)]('.'),_0x4aa11e=_0x2621ef['filter'](_0x26b9dc=>_0x26b9dc[_0x4eac09(0x10c)]('performance-report-worker-')&&_0x26b9dc[_0x4eac09(0x157)](_0x4eac09(0x124))),_0x5f41ec=await PerformanceTester[_0x4eac09(0x101)](_0x4aa11e,[_0x3d6554['SLgjC'],_0x3d6554[_0x4eac09(0x14f)],_0x3d6554['Uozks'],_0x3d6554['CqIAG'],_0x3d6554[_0x4eac09(0x17c)],_0x3d6554[_0x4eac09(0x139)],_0x3d6554[_0x4eac09(0x15f)],_0x3d6554[_0x4eac09(0x129)],_0x3d6554[_0x4eac09(0x102)],_0x3d6554['bEhwt']]);_0x3d6554[_0x4eac09(0x136)](debug,_0x4eac09(0x11f)+_0x3d6554[_0x4eac09(0x12a)](_0x58d26d,0x3e8)+'\x20s'),_0x3d6554[_0x4eac09(0x136)](debug,_0x4eac09(0x160)+_0x3d6554[_0x4eac09(0x159)](_0x5f41ec,_0x59ef30)),_0x3d6554[_0x4eac09(0x192)](debug,_0x4eac09(0x132)+_0x3d6554[_0x4eac09(0x196)](_0x3d6554[_0x4eac09(0x12a)](_0x3d6554[_0x4eac09(0x117)](_0x5f41ec,_0x59ef30),_0x58d26d),0x64));},exports[a43_0x43da28(0x14a)]=()=>{const _0x30612d=a43_0x43da28,_0x57476e={'zvMOs':function(_0x4780e4,_0x5a5955){return _0x4780e4(_0x5a5955);},'OJwKW':function(_0x22daed,_0x12bf8c){return _0x22daed>=_0x12bf8c;},'CWcEg':_0x30612d(0x108),'pnVjD':_0x30612d(0x142),'jyXSZ':_0x30612d(0x19c),'SpqNC':'1.35.0','gohUQ':_0x30612d(0x13d),'Fxcse':_0x30612d(0x158),'bUlRu':'@playwright/test/lib/common/transform.js'},_0x27f631=_0x57476e[_0x30612d(0x10f)](getFrameworkVersion,FRAMEWORKS[_0x30612d(0x131)]);if(_0x57476e[_0x30612d(0xfe)](helper[_0x30612d(0x156)](_0x27f631,_0x57476e[_0x30612d(0x11e)]),0x0))return[_0x57476e[_0x30612d(0x148)],_0x57476e[_0x30612d(0x144)]];if(_0x57476e[_0x30612d(0xfe)](helper[_0x30612d(0x156)](_0x27f631,_0x57476e['SpqNC']),0x0))return[_0x57476e['gohUQ'],_0x57476e[_0x30612d(0x1a1)]];return[_0x57476e[_0x30612d(0x137)],_0x57476e['Fxcse']];},exports['getConfigLoaderPath']=()=>{const _0x31207a=a43_0x43da28,_0x28bdfa={'XQrij':function(_0x2f9129,_0x32805c){return _0x2f9129(_0x32805c);},'pUTtm':function(_0x42cc11,_0x42b357){return _0x42cc11>=_0x42b357;},'XcTkk':'1.38.0','jBMqQ':_0x31207a(0x170),'AaHRY':'playwright','OfgCT':'@playwright/test/lib/common/configLoader.js','gIGok':'@playwright/test'},_0x3ed1d3=_0x28bdfa['XQrij'](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x28bdfa[_0x31207a(0x195)](helper[_0x31207a(0x156)](_0x3ed1d3,_0x28bdfa['XcTkk']),0x0))return[_0x28bdfa['jBMqQ'],_0x28bdfa[_0x31207a(0x175)]];return[_0x28bdfa[_0x31207a(0x185)],_0x28bdfa['gIGok']];},exports[a43_0x43da28(0x19b)]=()=>{const _0x58e3ed=a43_0x43da28,_0x9da001={};_0x9da001[_0x58e3ed(0x128)]='runner/loadUtils.js';const _0x511e27=_0x9da001;return helper[_0x58e3ed(0x120)](_0x511e27['FvwEu']);},exports[a43_0x43da28(0x14e)]=()=>{const _0x26fcfd=a43_0x43da28,_0x23e051={};_0x23e051[_0x26fcfd(0x141)]='runner/projectUtils.js';const _0x330e65=_0x23e051;return helper[_0x26fcfd(0x120)](_0x330e65['eIuWK']);},exports['getForkProcessPath']=()=>{const _0x306c8e=a43_0x43da28,_0xe91be4={'TJDQU':function(_0x4faf3a,_0x1f13d0){return _0x4faf3a(_0x1f13d0);},'ICKZQ':function(_0x1f14a4,_0x111797){return _0x1f14a4>=_0x111797;},'KdQLy':_0x306c8e(0x108),'TASMa':_0x306c8e(0x187),'qOqmM':'common','cYixD':_0x306c8e(0x17e),'ajFVI':_0x306c8e(0x167)},_0x2ecdec=_0xe91be4[_0x306c8e(0x164)](getFrameworkVersion,FRAMEWORKS[_0x306c8e(0x131)]);if(_0xe91be4[_0x306c8e(0x19f)](helper['compareVersions'](_0x2ecdec,_0xe91be4['KdQLy']),0x0))return path['join'](_0xe91be4[_0x306c8e(0x119)],_0xe91be4['qOqmM'],_0xe91be4[_0x306c8e(0x161)]);return path[_0x306c8e(0x104)](_0xe91be4[_0x306c8e(0x199)],_0xe91be4[_0x306c8e(0x119)],_0xe91be4['qOqmM'],_0xe91be4[_0x306c8e(0x161)]);},exports[a43_0x43da28(0x14d)]=(_0x4734cc,{test_run_uuid:_0x3e0475})=>{const _0x4e9175=a43_0x43da28,_0xa4c89b={'DrDhP':_0x4e9175(0x12c),'nemfP':_0x4e9175(0x122),'WRPzn':function(_0x59a325,_0x4fdd33){return _0x59a325<=_0x4fdd33;},'gbzTR':function(_0x1b13f1,_0x1d9d57){return _0x1b13f1(_0x1d9d57);},'hEEth':_0x4e9175(0x178),'XvliY':function(_0x3e7330,_0x234c31){return _0x3e7330(_0x234c31);},'vylAA':function(_0x23e170,_0x3c9ad0){return _0x23e170>=_0x3c9ad0;},'xNsRE':'1.42.0','RnQmT':function(_0x1e7f3f,_0x314399){return _0x1e7f3f>_0x314399;},'NdpCZ':function(_0x1cd2c3,_0x5445c2){return _0x1cd2c3(_0x5445c2);},'HTkoQ':function(_0xfa0d05,_0x1884c7,_0x4d9709){return _0xfa0d05(_0x1884c7,_0x4d9709);},'bKUrs':_0x4e9175(0x167)};if(!_0x4734cc||_0xa4c89b[_0x4e9175(0x193)](_0x4734cc['length'],0x0))return[];const _0x5cee1c=_0xa4c89b['gbzTR'](removeAnsiColors,_0x4734cc[0x0][_0x4e9175(0x15b)]);if(_0x5cee1c[_0x4e9175(0x10c)](_0xa4c89b[_0x4e9175(0x14c)])){const _0x1ce539=_0x4734cc[0x0],_0x3e2752=_0xa4c89b[_0x4e9175(0x10d)](getFrameworkVersion,FRAMEWORKS[_0x4e9175(0x131)]);if((!_0x1ce539[_0x4e9175(0x166)]||_0xa4c89b[_0x4e9175(0x114)](_0x3e2752,_0xa4c89b[_0x4e9175(0x17a)]))&&_0xa4c89b[_0x4e9175(0x145)](_0x4734cc['length'],0x1))return{'failureData':[{'backtrace':[_0x5cee1c,_0xa4c89b[_0x4e9175(0x162)](removeAnsiColors,_0x4734cc[0x1]['stack'])]}],'logs':_0x4734cc[_0x4e9175(0x182)](0x2)[_0x4e9175(0x19d)](_0x5b0469=>{const _0x92f50d=_0x4e9175;return{'timestamp':new Date()[_0x92f50d(0x112)](),'level':_0xa4c89b[_0x92f50d(0x177)],'message':''+_0x5b0469['message'],'kind':_0xa4c89b['nemfP'],'http_response':{},'test_run_uuid':_0x3e0475};})};}return{'failureData':_0xa4c89b[_0x4e9175(0x176)](failureData,_0x4734cc,_0xa4c89b[_0x4e9175(0x146)]),'logs':[]};},exports['validateFilePath']=_0x431edf=>{const _0xf9aadb=a43_0x43da28,_0x5cafb4={};_0x5cafb4[_0xf9aadb(0x110)]=function(_0x33f828,_0x6ab689){return _0x33f828!==_0x6ab689;},_0x5cafb4['rNhaI']=_0xf9aadb(0x121),_0x5cafb4['UfqWM']=function(_0xdbe7e4,_0x9be1d1){return _0xdbe7e4>_0x9be1d1;};const _0x2d8e22=_0x5cafb4;if(_0x431edf&&fs[_0xf9aadb(0x100)](_0x431edf)){if(_0x2d8e22[_0xf9aadb(0x110)](path[_0xf9aadb(0x103)](_0x431edf)[_0xf9aadb(0x180)](),_0x2d8e22[_0xf9aadb(0x15c)]))return logger[_0xf9aadb(0x15d)]('Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20'+_0x431edf),![];const _0x4cab35=fs[_0xf9aadb(0x147)](_0x431edf)['size'];if(_0x2d8e22[_0xf9aadb(0x140)](_0x4cab35,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0xf9aadb(0x15d)](_0xf9aadb(0x18d)+_0x4cab35+_0xf9aadb(0x186)),![];return!![];}return![];},exports[a43_0x43da28(0x133)]=(_0x4eb333,_0x50787b)=>{const _0x258b5d=a43_0x43da28,_0x442f0b={};_0x442f0b[_0x258b5d(0x197)]=_0x258b5d(0x168);const _0x55804e=_0x442f0b;logger[_0x258b5d(0x18c)](_0x258b5d(0x11b)+_0x50787b);if(_0x4eb333&&_0x4eb333[_0x258b5d(0x184)]){const _0x5b0c52=_0x4eb333['attachments'][_0x258b5d(0x198)](_0x441b97=>_0x441b97[_0x258b5d(0x16d)]==='trace');if(_0x5b0c52)return logger[_0x258b5d(0x18c)](_0x258b5d(0x190)+_0x50787b+_0x258b5d(0x16e)),_0x5b0c52[_0x50787b];}else{if(_0x4eb333&&Object[_0x258b5d(0x15e)][_0x258b5d(0x13b)][_0x258b5d(0x150)](_0x4eb333)['includes'](_0x55804e[_0x258b5d(0x197)]))for(const _0x3df9c6 of _0x4eb333){if(_0x3df9c6[_0x50787b])return logger[_0x258b5d(0x18c)](_0x258b5d(0x190)+_0x50787b+_0x258b5d(0x154)),_0x3df9c6[_0x50787b];}};return'';},exports[a43_0x43da28(0x16b)]=async(_0x37bc91,_0x174523)=>{const _0x346a11=a43_0x43da28,_0x10fc63={};_0x10fc63['wgVES']='LogCreated',_0x10fc63[_0x346a11(0xfd)]=_0x346a11(0x173),_0x10fc63[_0x346a11(0xff)]='sendTraceZip',_0x10fc63[_0x346a11(0x13c)]=_0x346a11(0x11c);const _0x1e867a=_0x10fc63;try{const _0x16868d={'event_type':_0x1e867a[_0x346a11(0x126)],'logs':[{'data':_0x37bc91?fs['createReadStream'](_0x37bc91):'','test_run_uuid':_0x174523,'kind':_0x1e867a[_0x346a11(0xfd)],'fileName':_0x37bc91?path[_0x346a11(0x18e)](_0x37bc91):''}]};return await SessionHandler['sendEventData'](_0x16868d,0x0,_0x1e867a[_0x346a11(0xff)]);}catch(_0x8a04b){logger[_0x346a11(0x15d)](util[_0x346a11(0x13a)](_0x1e867a[_0x346a11(0x13c)],_0x8a04b));}},exports[a43_0x43da28(0x116)]=async(_0x213b78,_0x2fc0b9)=>{const _0x77deef=a43_0x43da28,_0x34aff2={'RQXlT':_0x77deef(0x11d),'ZdyvK':'Trace\x20enabled','QrgBI':function(_0x3077f2){return _0x3077f2();},'RZvOv':'Error\x20in\x20sending\x20trace\x20file:\x20%s'};try{logger['debug'](_0x77deef(0x1a0)+_0x2fc0b9);let _0x1c02cc=await exports[_0x77deef(0x133)](_0x213b78,_0x34aff2['RQXlT']);if(exports['validateFilePath'](_0x1c02cc)){logger[_0x77deef(0x18c)](_0x34aff2[_0x77deef(0x11a)]),_0x1c02cc=path[_0x77deef(0x189)](_0x1c02cc);const _0x512560={};_0x512560[_0x77deef(0x130)]=_0x2fc0b9,_0x512560['filePath']=_0x1c02cc;const _0x4350d6=_0x512560;_0x34aff2[_0x77deef(0x16a)](getBrowserstackCLI)[_0x77deef(0x109)]()[_0x77deef(0x17b)]()?TestInfo[_0x77deef(0x115)](_0x4350d6):TestDetails[_0x77deef(0x115)](_0x4350d6);};}catch(_0x11016f){logger['error'](util['format'](_0x34aff2[_0x77deef(0x111)],_0x11016f));}};