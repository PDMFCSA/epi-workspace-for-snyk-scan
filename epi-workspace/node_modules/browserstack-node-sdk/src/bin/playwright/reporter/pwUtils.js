const a40_0x760289=a40_0x2517;function a40_0x3a0a(){const _0x1b7571=['winstonLogger','395GtzMrV','../../v2/TestInfo','IiPAy','util','ecUCW','name','slice','FpMQf','common','gyRPd','getLoadUtilsPath','includes','\x20in\x20arguments','pILcd','createReadStream','getInstance','message','compareVersions','@playwright/test','952FTeCSS','trace','getPlaywrightLibPath','sendTraceZip','../../../helpers/helper','.zip','playwright','playwright/lib/common/configLoader.js','FssGP','match','xckSL','prototype','ERROR','runner/loadUtils.js','performance-report-worker-','path','QePrk','vMmXc','map','JWYEP','wlmzQ','../../../helpers/test-observability/constants','afterTestHook','TEST_LOG','BcatX','HTKBi','1.38.0','performance-reporter.html','@playwright/test/lib/transform/transform.js','getTransformPath','UBogA','mozID','432801dauJFj','bWgSN','zNEKA','format','Error\x20in\x20sending\x20trace\x20file:\x20%s','.json','startsWith','eGWCu','tVyCg','uploadTraceZip','onStepBegin','extname','toLowerCase','LSDfR','oCDSs','43590InNjjA','length','5205144XJKrwe','endSession','../../../helpers/logger','PLAYWRIGHT','call','../../../helpers/test-observability/utils','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','1.35.0','test','yWuWm','niJav','RRyWN','filePath','EhVhF','BezFC','HNIko','8402568jmRpZm','YOjzt','SiviC','nvlCR','../../../helpers/test-observability/sessionHandler','znovX','./test-details','30EtDOVl','validateFilePath','uTfcD','findNestedKey','EVSrK','join','filter','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','11SLvdYV','addTraceFilePath','onStepEnd','mIvRc','54280jqieJE','yhjmc','process.js','debug','WfZIr','doo11ySync','getTestTags','size','sendSessionDetails','jCWCv','onBegin','START_TIME','dXZoB','calculateTimesFromMultipleFiles','Test\x20timeout\x20of','\x20bytes','lwWek','afterWorkerHook','Trace\x20enabled','toISOString','getFailureData','Fageq','Searching\x20for\x20key:\x20','214qrbrKI','Percentage\x20of\x20increased\x20time\x20is\x20','WPHhX','stack','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','toString','attachments','kbQsX','error','readdirSync','getTime','KjlCR','AaIHP','54212XACoAH','bmIsG','Anzbs','crYpN','getConfigLoaderPath','Arguments','40674NwXKKx','env','QVOGT','runner/projectUtils.js','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','calculatePerformance','phXog','1.42.0','LogCreated','Rxfou','beforeTestHook','../../../helpers/performance/performance-tester','basename','Total\x20duration\x20for\x20whole\x20build\x20is\x20','onTestEnd','ZwqRZ','QVpLX','@playwright/test/lib/common/configLoader.js'];a40_0x3a0a=function(){return _0x1b7571;};return a40_0x3a0a();}(function(_0xe53367,_0x66532c){const _0x4edb2c=a40_0x2517,_0x2429de=_0xe53367();while(!![]){try{const _0x4986f1=parseInt(_0x4edb2c(0x25b))/0x1+-parseInt(_0x4edb2c(0x1ce))/0x2*(parseInt(_0x4edb2c(0x1e1))/0x3)+-parseInt(_0x4edb2c(0x1db))/0x4*(-parseInt(_0x4edb2c(0x1f4))/0x5)+-parseInt(_0x4edb2c(0x236))/0x6*(-parseInt(_0x4edb2c(0x207))/0x7)+parseInt(_0x4edb2c(0x238))/0x8+parseInt(_0x4edb2c(0x227))/0x9*(parseInt(_0x4edb2c(0x24f))/0xa)+parseInt(_0x4edb2c(0x257))/0xb*(-parseInt(_0x4edb2c(0x248))/0xc);if(_0x4986f1===_0x66532c)break;else _0x2429de['push'](_0x2429de['shift']());}catch(_0x37a167){_0x2429de['push'](_0x2429de['shift']());}}}(a40_0x3a0a,0xb8d05));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a40_0x760289(0x23d)),PerformanceTester=require(a40_0x760289(0x1ec)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a40_0x760289(0x21c)),helper=require(a40_0x760289(0x20b)),path=require(a40_0x760289(0x216)),logger=require(a40_0x760289(0x23a))[a40_0x760289(0x1f3)],SessionHandler=require(a40_0x760289(0x24c)),TestDetails=require(a40_0x760289(0x24e)),util=require(a40_0x760289(0x1f7)),TestInfo=require(a40_0x760289(0x1f5));function a40_0x2517(_0x1d7672,_0x4bc158){const _0x3a0aed=a40_0x3a0a();return a40_0x2517=function(_0x2517cc,_0x464b43){_0x2517cc=_0x2517cc-0x1c0;let _0x233a88=_0x3a0aed[_0x2517cc];return _0x233a88;},a40_0x2517(_0x1d7672,_0x4bc158);}let BrowserstackCLIInstance=null;function getBrowserstackCLI(){const _0x53f868=a40_0x760289,_0xc895b9={'tVyCg':function(_0x279f26,_0x4ddb38){return _0x279f26(_0x4ddb38);},'vMmXc':'../../v2/browserstackCLI'};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0xc895b9[_0x53f868(0x22f)](require,_0xc895b9[_0x53f868(0x218)])),BrowserstackCLIInstance;}const getTagsFromTitle=_0x5db88f=>{const _0x135dad=a40_0x760289;return _0x5db88f[_0x135dad(0x210)](/@(\w+)/g)?.[_0x135dad(0x219)](_0x43dacd=>_0x43dacd[_0x135dad(0x1fa)](0x1))||[];};exports[a40_0x760289(0x261)]=_0x20c4da=>{const _0x11c692=a40_0x760289,_0x4339c4={'ZwqRZ':function(_0x367443,_0x1f8937){return _0x367443(_0x1f8937);}};if(_0x20c4da['tags'])return _0x20c4da['tags']['map'](_0x295ad1=>_0x295ad1[_0x11c692(0x22d)]('@')?_0x295ad1['substr'](0x1):_0x295ad1);return _0x4339c4[_0x11c692(0x1f0)](getTagsFromTitle,_0x20c4da['title']);},exports[a40_0x760289(0x1e6)]=async()=>{const _0x5cce68=a40_0x760289,_0x2adaec={'FpMQf':function(_0x49d0d1,_0x111262){return _0x49d0d1-_0x111262;},'zNEKA':_0x5cce68(0x222),'IiPAy':_0x5cce68(0x1c1),'UBogA':_0x5cce68(0x239),'znovX':'onTestBegin','QVOGT':_0x5cce68(0x1ef),'oCDSs':_0x5cce68(0x231),'fyPrM':_0x5cce68(0x259),'GkkgJ':'beforeWorkerHook','cfdbr':_0x5cce68(0x1c8),'BjPEL':_0x5cce68(0x1eb),'EhVhF':_0x5cce68(0x21d),'qJahS':_0x5cce68(0x260),'phXog':'processPageScreenshot','BezFC':_0x5cce68(0x263),'YOjzt':'setupBrowserDetails','dXZoB':'requestSpyCallback','gKayQ':'sendTestLog','pOBqO':function(_0x1c5341,_0x555514){return _0x1c5341(_0x555514);},'ecUCW':function(_0x4534a7,_0x17ba17){return _0x4534a7/_0x17ba17;},'QVpLX':function(_0x36cb1f,_0x55d9b3){return _0x36cb1f(_0x55d9b3);},'lwWek':function(_0x46d166,_0x498ee7){return _0x46d166+_0x498ee7;},'pILcd':function(_0x2e0040,_0x201ce4){return _0x2e0040*_0x201ce4;},'zFtZU':function(_0x3e062d,_0x507baf){return _0x3e062d+_0x507baf;}};if(!process[_0x5cce68(0x1e2)][_0x5cce68(0x1c2)])return;const _0x4bcf6d=_0x2adaec[_0x5cce68(0x1fb)](new Date()[_0x5cce68(0x1d8)](),new Date(process['env'][_0x5cce68(0x1c2)])['getTime']()),_0x44f90f=await PerformanceTester['stopAndGenerate'](_0x2adaec[_0x5cce68(0x229)],[_0x2adaec[_0x5cce68(0x1f6)],_0x2adaec[_0x5cce68(0x225)],_0x2adaec[_0x5cce68(0x24d)],_0x2adaec[_0x5cce68(0x1e3)],_0x2adaec[_0x5cce68(0x235)],_0x2adaec['fyPrM']]),_0x33331c=fs[_0x5cce68(0x1d7)]('.'),_0x3dc981=_0x33331c[_0x5cce68(0x255)](_0x118c37=>_0x118c37[_0x5cce68(0x22d)](_0x5cce68(0x215))&&_0x118c37['endsWith'](_0x5cce68(0x22c))),_0x2b6562=await PerformanceTester[_0x5cce68(0x1c4)](_0x3dc981,[_0x2adaec['GkkgJ'],_0x2adaec['cfdbr'],_0x2adaec['BjPEL'],_0x2adaec[_0x5cce68(0x245)],_0x2adaec['qJahS'],_0x2adaec[_0x5cce68(0x1e7)],_0x2adaec[_0x5cce68(0x246)],_0x2adaec[_0x5cce68(0x249)],_0x2adaec[_0x5cce68(0x1c3)],_0x2adaec['gKayQ']]);_0x2adaec['pOBqO'](debug,_0x5cce68(0x1ee)+_0x2adaec[_0x5cce68(0x1f8)](_0x4bcf6d,0x3e8)+'\x20s'),_0x2adaec[_0x5cce68(0x1f1)](debug,_0x5cce68(0x1d2)+_0x2adaec[_0x5cce68(0x1c7)](_0x2b6562,_0x44f90f)),_0x2adaec['QVpLX'](debug,_0x5cce68(0x1cf)+_0x2adaec[_0x5cce68(0x201)](_0x2adaec[_0x5cce68(0x1f8)](_0x2adaec['zFtZU'](_0x2b6562,_0x44f90f),_0x4bcf6d),0x64));},exports[a40_0x760289(0x224)]=()=>{const _0x17a361=a40_0x760289,_0xdffac={'BcatX':function(_0x3202b5,_0x5d6bd9){return _0x3202b5(_0x5d6bd9);},'LqmhL':function(_0x135ec8,_0x502ccb){return _0x135ec8>=_0x502ccb;},'eQzPe':_0x17a361(0x221),'yhjmc':'playwright/lib/transform/transform.js','HNIko':_0x17a361(0x20d),'crYpN':_0x17a361(0x23f),'wHNRT':_0x17a361(0x223),'wVEYz':_0x17a361(0x206),'YVeAn':'@playwright/test/lib/common/transform.js'},_0x46642a=_0xdffac[_0x17a361(0x21f)](getFrameworkVersion,FRAMEWORKS[_0x17a361(0x23b)]);if(_0xdffac['LqmhL'](helper['compareVersions'](_0x46642a,_0xdffac['eQzPe']),0x0))return[_0xdffac[_0x17a361(0x25c)],_0xdffac[_0x17a361(0x247)]];if(_0xdffac['LqmhL'](helper[_0x17a361(0x205)](_0x46642a,_0xdffac[_0x17a361(0x1de)]),0x0))return[_0xdffac['wHNRT'],_0xdffac['wVEYz']];return[_0xdffac['YVeAn'],_0xdffac['wVEYz']];},exports[a40_0x760289(0x1df)]=()=>{const _0x6007bf=a40_0x760289,_0x4d692c={'uTfcD':function(_0x39dc1d,_0x1284f6){return _0x39dc1d(_0x1284f6);},'JWYEP':function(_0x2fb7b7,_0x84e243){return _0x2fb7b7>=_0x84e243;},'SiviC':'1.38.0','eGWCu':_0x6007bf(0x20e),'GyWmn':'playwright','RRSRs':_0x6007bf(0x1f2),'Rxfou':_0x6007bf(0x206)},_0xf77f13=_0x4d692c[_0x6007bf(0x251)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x4d692c[_0x6007bf(0x21a)](helper['compareVersions'](_0xf77f13,_0x4d692c[_0x6007bf(0x24a)]),0x0))return[_0x4d692c[_0x6007bf(0x22e)],_0x4d692c['GyWmn']];return[_0x4d692c['RRSRs'],_0x4d692c[_0x6007bf(0x1ea)]];},exports[a40_0x760289(0x1fe)]=()=>{const _0x1b854e=a40_0x760289,_0x2ad4fc={};_0x2ad4fc[_0x1b854e(0x1fd)]=_0x1b854e(0x214);const _0x3d8d19=_0x2ad4fc;return helper[_0x1b854e(0x209)](_0x3d8d19[_0x1b854e(0x1fd)]);},exports['getProjectUtilsPath']=()=>{const _0x23a847=a40_0x760289,_0x4ff724={};_0x4ff724['KRIIN']=_0x23a847(0x1e4);const _0x2219e0=_0x4ff724;return helper[_0x23a847(0x209)](_0x2219e0['KRIIN']);},exports['getForkProcessPath']=()=>{const _0x1fe9bf=a40_0x760289,_0x44f483={'rZdwv':function(_0x4aa376,_0x35518e){return _0x4aa376(_0x35518e);},'kbQsX':function(_0x5d37c4,_0xe46129){return _0x5d37c4>=_0xe46129;},'WPHhX':_0x1fe9bf(0x221),'WfZIr':'lib','mIvRc':_0x1fe9bf(0x1fc),'HTKBi':_0x1fe9bf(0x25d),'KGDcW':_0x1fe9bf(0x240)},_0x3169c7=_0x44f483['rZdwv'](getFrameworkVersion,FRAMEWORKS[_0x1fe9bf(0x23b)]);if(_0x44f483[_0x1fe9bf(0x1d5)](helper[_0x1fe9bf(0x205)](_0x3169c7,_0x44f483[_0x1fe9bf(0x1d0)]),0x0))return path[_0x1fe9bf(0x254)](_0x44f483[_0x1fe9bf(0x25f)],_0x44f483[_0x1fe9bf(0x25a)],_0x44f483[_0x1fe9bf(0x220)]);return path['join'](_0x44f483['KGDcW'],_0x44f483[_0x1fe9bf(0x25f)],_0x44f483[_0x1fe9bf(0x25a)],_0x44f483[_0x1fe9bf(0x220)]);},exports[a40_0x760289(0x1cb)]=(_0x22bd16,{test_run_uuid:_0x47c5cf})=>{const _0x23135a=a40_0x760289,_0x3bfa41={'dFeQo':_0x23135a(0x213),'mozID':_0x23135a(0x21e),'LSDfR':function(_0x295306,_0x1ebe47){return _0x295306<=_0x1ebe47;},'bWgSN':function(_0x50443c,_0x46c3c8){return _0x50443c(_0x46c3c8);},'KjlCR':_0x23135a(0x1c5),'wlmzQ':function(_0x155fb5,_0x365653){return _0x155fb5(_0x365653);},'pVQzM':function(_0x59beba,_0x5844a5){return _0x59beba>=_0x5844a5;},'AaIHP':_0x23135a(0x1e8),'niJav':function(_0x4020ad,_0x5364e1){return _0x4020ad>_0x5364e1;},'BChAI':function(_0x467a55,_0x4842a,_0x46075c){return _0x467a55(_0x4842a,_0x46075c);},'Anzbs':_0x23135a(0x240)};if(!_0x22bd16||_0x3bfa41[_0x23135a(0x234)](_0x22bd16[_0x23135a(0x237)],0x0))return[];const _0x74680f=_0x3bfa41['bWgSN'](removeAnsiColors,_0x22bd16[0x0][_0x23135a(0x204)]);if(_0x74680f[_0x23135a(0x22d)](_0x3bfa41[_0x23135a(0x1d9)])){const _0x2d451e=_0x22bd16[0x0],_0x374fe9=_0x3bfa41[_0x23135a(0x21b)](getFrameworkVersion,FRAMEWORKS[_0x23135a(0x23b)]);if((!_0x2d451e['stack']||_0x3bfa41['pVQzM'](_0x374fe9,_0x3bfa41[_0x23135a(0x1da)]))&&_0x3bfa41[_0x23135a(0x242)](_0x22bd16['length'],0x1))return{'failureData':[{'backtrace':[_0x74680f,_0x3bfa41[_0x23135a(0x228)](removeAnsiColors,_0x22bd16[0x1][_0x23135a(0x1d1)])]}],'logs':_0x22bd16[_0x23135a(0x1fa)](0x2)['map'](_0x14906c=>{const _0x4bae19=_0x23135a;return{'timestamp':new Date()[_0x4bae19(0x1ca)](),'level':_0x3bfa41['dFeQo'],'message':''+_0x14906c['message'],'kind':_0x3bfa41[_0x4bae19(0x226)],'http_response':{},'test_run_uuid':_0x47c5cf};})};}return{'failureData':_0x3bfa41['BChAI'](failureData,_0x22bd16,_0x3bfa41[_0x23135a(0x1dd)]),'logs':[]};},exports['validateFilePath']=_0x118243=>{const _0x3290ac=a40_0x760289,_0x468da={};_0x468da[_0x3290ac(0x24b)]=function(_0x1010ff,_0x1396de){return _0x1010ff!==_0x1396de;},_0x468da[_0x3290ac(0x1c0)]=_0x3290ac(0x20c),_0x468da['QePrk']=function(_0x3d17b7,_0x101eab){return _0x3d17b7>_0x101eab;};const _0x347c55=_0x468da;if(_0x118243&&fs['existsSync'](_0x118243)){if(_0x347c55[_0x3290ac(0x24b)](path[_0x3290ac(0x232)](_0x118243)[_0x3290ac(0x233)](),_0x347c55[_0x3290ac(0x1c0)]))return logger[_0x3290ac(0x1d6)](_0x3290ac(0x1e5)+_0x118243),![];const _0x2a79fd=fs['statSync'](_0x118243)[_0x3290ac(0x262)];if(_0x347c55[_0x3290ac(0x217)](_0x2a79fd,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x3290ac(0x1d6)](_0x3290ac(0x23e)+_0x2a79fd+_0x3290ac(0x1c6)),![];return!![];}return![];},exports['findNestedKey']=(_0x4d87b0,_0x4c64ba)=>{const _0x220eb7=a40_0x760289,_0xed4713={};_0xed4713[_0x220eb7(0x241)]=_0x220eb7(0x1e0);const _0x333457=_0xed4713;logger[_0x220eb7(0x25e)](_0x220eb7(0x1cd)+_0x4c64ba);if(_0x4d87b0&&_0x4d87b0[_0x220eb7(0x1d4)]){const _0x36af94=_0x4d87b0['attachments']['find'](_0x4a19ce=>_0x4a19ce[_0x220eb7(0x1f9)]===_0x220eb7(0x208));if(_0x36af94)return logger['debug']('Found\x20key:\x20'+_0x4c64ba+'\x20in\x20attachments'),_0x36af94[_0x4c64ba];}else{if(_0x4d87b0&&Object[_0x220eb7(0x212)][_0x220eb7(0x1d3)][_0x220eb7(0x23c)](_0x4d87b0)[_0x220eb7(0x1ff)](_0x333457[_0x220eb7(0x241)]))for(const _0x391e47 of _0x4d87b0){if(_0x391e47[_0x4c64ba])return logger[_0x220eb7(0x25e)]('Found\x20key:\x20'+_0x4c64ba+_0x220eb7(0x200)),_0x391e47[_0x4c64ba];}};return'';},exports[a40_0x760289(0x230)]=async(_0xc5cf98,_0x306af0)=>{const _0x3a0f79=a40_0x760289,_0x35325a={};_0x35325a[_0x3a0f79(0x253)]=_0x3a0f79(0x1e9),_0x35325a[_0x3a0f79(0x211)]='TEST_ATTACHMENT',_0x35325a['RRyWN']='sendTraceZip',_0x35325a[_0x3a0f79(0x1cc)]=_0x3a0f79(0x22b);const _0x7adb87=_0x35325a;try{const _0xeb1c3e={'event_type':_0x7adb87['EVSrK'],'logs':[{'data':_0xc5cf98?fs[_0x3a0f79(0x202)](_0xc5cf98):'','test_run_uuid':_0x306af0,'kind':_0x7adb87['xckSL'],'fileName':_0xc5cf98?path[_0x3a0f79(0x1ed)](_0xc5cf98):''}]};return await SessionHandler['sendEventData'](_0xeb1c3e,0x0,_0x7adb87[_0x3a0f79(0x243)]);}catch(_0x32e13c){logger[_0x3a0f79(0x1d6)](util[_0x3a0f79(0x22a)](_0x7adb87['Fageq'],_0x32e13c));}},exports[a40_0x760289(0x20a)]=async(_0xf071b5,_0x171aef)=>{const _0x4a8ecc=a40_0x760289,_0x484761={'TCDJB':'path','FssGP':_0x4a8ecc(0x1c9),'XtxNB':function(_0x51cfcb){return _0x51cfcb();},'bmIsG':_0x4a8ecc(0x22b)};try{logger[_0x4a8ecc(0x25e)](_0x4a8ecc(0x256)+_0x171aef);let _0x166dad=await exports[_0x4a8ecc(0x252)](_0xf071b5,_0x484761['TCDJB']);if(exports[_0x4a8ecc(0x250)](_0x166dad)){logger[_0x4a8ecc(0x25e)](_0x484761[_0x4a8ecc(0x20f)]),_0x166dad=path['resolve'](_0x166dad);const _0x38e0ed={};_0x38e0ed['testUId']=_0x171aef,_0x38e0ed[_0x4a8ecc(0x244)]=_0x166dad;const _0x441dc5=_0x38e0ed;_0x484761['XtxNB'](getBrowserstackCLI)[_0x4a8ecc(0x203)]()['isRunning']()?TestInfo[_0x4a8ecc(0x258)](_0x441dc5):TestDetails[_0x4a8ecc(0x258)](_0x441dc5);};}catch(_0x523dd9){logger['error'](util[_0x4a8ecc(0x22a)](_0x484761[_0x4a8ecc(0x1dc)],_0x523dd9));}};