const a40_0x5291b1=a40_0x49d6;(function(_0x5b47d7,_0x1b7173){const _0x2c8661=a40_0x49d6,_0x236a47=_0x5b47d7();while(!![]){try{const _0x467a42=-parseInt(_0x2c8661(0x107))/0x1+parseInt(_0x2c8661(0xf4))/0x2*(parseInt(_0x2c8661(0xd3))/0x3)+-parseInt(_0x2c8661(0x10c))/0x4*(parseInt(_0x2c8661(0x139))/0x5)+-parseInt(_0x2c8661(0x137))/0x6*(parseInt(_0x2c8661(0x110))/0x7)+-parseInt(_0x2c8661(0xf8))/0x8+parseInt(_0x2c8661(0x13b))/0x9+parseInt(_0x2c8661(0x140))/0xa*(parseInt(_0x2c8661(0x148))/0xb);if(_0x467a42===_0x1b7173)break;else _0x236a47['push'](_0x236a47['shift']());}catch(_0x36fdb7){_0x236a47['push'](_0x236a47['shift']());}}}(a40_0x51c7,0xa7a3f));function a40_0x51c7(){const _0x245915=['validateFilePath','1.35.0','beforeTestHook','ZxwLY','stack','64qrfEKk','HrPIG','JoNhx','match','36232xCJLcX','DXOYI','LgzqY','calculateTimesFromMultipleFiles','../../../helpers/test-observability/constants','filePath','tags','playwright/lib/common/configLoader.js','winstonLogger','getLoadUtilsPath','onBegin','onStepBegin','getConfigLoaderPath','sendEventData','getProjectUtilsPath','597779gZJLBD','Eczvo','getTime','START_TIME','basename','4KSlJEh','Trace\x20enabled','ZtaHA','substr','35eYvCqC','HmsTt','aNYPr','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','readdirSync','rHJEz','AMizh','@playwright/test/lib/common/configLoader.js','Searching\x20for\x20key:\x20','debug','path','FufTl','Test\x20timeout\x20of','Xdpjq','playwright/lib/transform/transform.js','sYlRB','lkPSy','Arguments','WXabA','existsSync','DGHiM','runner/loadUtils.js','performance-reporter.html','statSync','ReXbq','FPgUh','prototype','WgMLH','LogCreated','beforeWorkerHook','call','common','endsWith','startsWith','DHghh','endSession','size','SmYia','WYvcy','1565166EtuwLJ','CaSio','882995ffEkOG','SFpHc','373563uSZuiX','hUpCZ','uyZSd','EgHbf','kFhFI','40yVlfGa','OWYCG','map','findNestedKey','YmDMy','trace','error','aJmgW','4245582EIAilF','process.js','env','processPageScreenshot','@playwright/test','@playwright/test/lib/common/transform.js','.json','util','afterTestHook','\x20in\x20arguments','getForkProcessPath','PLAYWRIGHT','getTestTags','qPgXs','setupBrowserDetails','stopAndGenerate','OBuTm','attachments','TEST_LOG','find','FGvqj','Found\x20key:\x20','sendTraceZip','createReadStream','ogWsV','ERROR','includes','requestSpyCallback','length','playwright','1.38.0','../../../helpers/logger','XEWNi','.zip','onStepEnd','TEST_ATTACHMENT','getPlaywrightLibPath','ZslMb','whsKt','join','dAjkK','OSDYW','KYjcj','testUId','111048zIGtCt','ZnRXD','TvAPo','onTestBegin','performance-report-worker-','VGvMl','lib','slice','eaLxN','filter','mgMzT','1.42.0','afterWorkerHook','LHuAW','CfbDq','CGtDp','mRzyd','message','ZLvIK','getFailureData','\x20in\x20attachments','BQAVe','compareVersions','./test-details','doo11ySync','Error\x20in\x20sending\x20trace\x20file:\x20%s','toLowerCase','QMvQm'];a40_0x51c7=function(){return _0x245915;};return a40_0x51c7();}function a40_0x49d6(_0x373c2b,_0x1c0381){const _0x51c789=a40_0x51c7();return a40_0x49d6=function(_0x49d698,_0x49bef2){_0x49d698=_0x49d698-0xbd;let _0x786fc8=_0x51c789[_0x49d698];return _0x786fc8;},a40_0x49d6(_0x373c2b,_0x1c0381);}const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require('../../../helpers/test-observability/utils'),PerformanceTester=require('../../../helpers/performance/performance-tester'),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a40_0x5291b1(0xfc)),helper=require('../../../helpers/helper'),path=require('path'),logger=require(a40_0x5291b1(0xc6))[a40_0x5291b1(0x100)],SessionHandler=require('../../../helpers/test-observability/sessionHandler'),TestDetails=require(a40_0x5291b1(0xea)),util=require(a40_0x5291b1(0x14f)),getTagsFromTitle=_0x4db112=>{const _0x2edd0f=a40_0x5291b1;return _0x4db112[_0x2edd0f(0xf7)](/@(\w+)/g)?.[_0x2edd0f(0x142)](_0x450113=>_0x450113[_0x2edd0f(0xda)](0x1))||[];};exports[a40_0x5291b1(0x154)]=_0x3b0dc5=>{const _0x217cf7=a40_0x5291b1,_0x45cc1c={'OWYCG':function(_0xd4e9fb,_0xa1596c){return _0xd4e9fb(_0xa1596c);}};if(_0x3b0dc5[_0x217cf7(0xfe)])return _0x3b0dc5[_0x217cf7(0xfe)][_0x217cf7(0x142)](_0x4f6b89=>_0x4f6b89[_0x217cf7(0x131)]('@')?_0x4f6b89[_0x217cf7(0x10f)](0x1):_0x4f6b89);return _0x45cc1c[_0x217cf7(0x141)](getTagsFromTitle,_0x3b0dc5['title']);},exports['calculatePerformance']=async()=>{const _0x45af97=a40_0x5291b1,_0x33b175={'dAjkK':function(_0x136946,_0x174c65){return _0x136946-_0x174c65;},'WmDjV':_0x45af97(0x126),'mRzyd':_0x45af97(0x102),'CfbDq':_0x45af97(0x133),'OSDYW':_0x45af97(0xd6),'fwLQA':'onTestEnd','qecSD':_0x45af97(0x103),'ZtaHA':_0x45af97(0xc9),'pDYRU':_0x45af97(0x12d),'fGhha':_0x45af97(0xdf),'KYjcj':_0x45af97(0xf1),'HrPIG':_0x45af97(0x150),'ZxDcG':_0x45af97(0xeb),'nQvTY':_0x45af97(0x14b),'hUpCZ':'sendSessionDetails','mgMzT':_0x45af97(0x156),'iwuSb':_0x45af97(0xc2),'SFpHc':'sendTestLog','JoNhx':function(_0x2e0945,_0x49116f){return _0x2e0945(_0x49116f);},'WYvcy':function(_0x10a9af,_0x3ed785){return _0x10a9af/_0x3ed785;},'ogWsV':function(_0x3f737e,_0x933124){return _0x3f737e+_0x933124;},'ZbJjM':function(_0x5af570,_0xe9c2bb){return _0x5af570*_0xe9c2bb;},'XEWNi':function(_0x2d6fc7,_0x3593ce){return _0x2d6fc7+_0x3593ce;}};if(!process[_0x45af97(0x14a)][_0x45af97(0x10a)])return;const _0x560244=_0x33b175[_0x45af97(0xcf)](new Date()[_0x45af97(0x109)](),new Date(process[_0x45af97(0x14a)][_0x45af97(0x10a)])[_0x45af97(0x109)]()),_0xa7c400=await PerformanceTester[_0x45af97(0x157)](_0x33b175['WmDjV'],[_0x33b175[_0x45af97(0xe3)],_0x33b175[_0x45af97(0xe1)],_0x33b175[_0x45af97(0xd0)],_0x33b175['fwLQA'],_0x33b175['qecSD'],_0x33b175[_0x45af97(0x10e)]]),_0x2e9cac=fs[_0x45af97(0x114)]('.'),_0x484872=_0x2e9cac[_0x45af97(0xdc)](_0x4b1829=>_0x4b1829[_0x45af97(0x131)](_0x45af97(0xd7))&&_0x4b1829[_0x45af97(0x130)](_0x45af97(0x14e))),_0x55c56d=await PerformanceTester[_0x45af97(0xfb)](_0x484872,[_0x33b175['pDYRU'],_0x33b175['fGhha'],_0x33b175[_0x45af97(0xd1)],_0x33b175[_0x45af97(0xf5)],_0x33b175['ZxDcG'],_0x33b175['nQvTY'],_0x33b175[_0x45af97(0x13c)],_0x33b175[_0x45af97(0xdd)],_0x33b175['iwuSb'],_0x33b175[_0x45af97(0x13a)]]);_0x33b175['JoNhx'](debug,'Total\x20duration\x20for\x20whole\x20build\x20is\x20'+_0x33b175[_0x45af97(0x136)](_0x560244,0x3e8)+'\x20s'),_0x33b175[_0x45af97(0xf6)](debug,'Total\x20time\x20taken\x20by\x20O11y\x20is\x20'+_0x33b175[_0x45af97(0xbf)](_0x55c56d,_0xa7c400)),_0x33b175['JoNhx'](debug,'Percentage\x20of\x20increased\x20time\x20is\x20'+_0x33b175['ZbJjM'](_0x33b175[_0x45af97(0x136)](_0x33b175[_0x45af97(0xc7)](_0x55c56d,_0xa7c400),_0x560244),0x64));},exports['getTransformPath']=()=>{const _0x509870=a40_0x5291b1,_0x4ced17={'EgHbf':function(_0xf7e336,_0x40e7ef){return _0xf7e336(_0x40e7ef);},'uyZSd':function(_0x3a4f01,_0x472115){return _0x3a4f01>=_0x472115;},'WXabA':_0x509870(0xc5),'SmYia':_0x509870(0x11e),'eaLxN':_0x509870(0xc4),'sOEtL':function(_0xcfc9bd,_0x102e43){return _0xcfc9bd>=_0x102e43;},'MZKqF':_0x509870(0xf0),'DHghh':'@playwright/test/lib/transform/transform.js','TvAPo':_0x509870(0x14c),'BQAVe':_0x509870(0x14d)},_0x435d1d=_0x4ced17[_0x509870(0x13e)](getFrameworkVersion,FRAMEWORKS[_0x509870(0x153)]);if(_0x4ced17[_0x509870(0x13d)](helper[_0x509870(0xe9)](_0x435d1d,_0x4ced17[_0x509870(0x122)]),0x0))return[_0x4ced17[_0x509870(0x135)],_0x4ced17[_0x509870(0xdb)]];if(_0x4ced17['sOEtL'](helper[_0x509870(0xe9)](_0x435d1d,_0x4ced17['MZKqF']),0x0))return[_0x4ced17[_0x509870(0x132)],_0x4ced17[_0x509870(0xd5)]];return[_0x4ced17[_0x509870(0xe8)],_0x4ced17['TvAPo']];},exports[a40_0x5291b1(0x104)]=()=>{const _0x567f1c=a40_0x5291b1,_0x39fc7f={'ZxwLY':function(_0x4bb0f6,_0x2a4cd8){return _0x4bb0f6(_0x2a4cd8);},'YmDMy':function(_0x1460fc,_0x4f77c8){return _0x1460fc>=_0x4f77c8;},'rhUxY':_0x567f1c(0xc5),'LHuAW':_0x567f1c(0xff),'DGHiM':_0x567f1c(0xc4),'ooFzf':_0x567f1c(0x117),'xJFvi':_0x567f1c(0x14c)},_0x3e8dcf=_0x39fc7f[_0x567f1c(0xf2)](getFrameworkVersion,FRAMEWORKS[_0x567f1c(0x153)]);if(_0x39fc7f[_0x567f1c(0x144)](helper[_0x567f1c(0xe9)](_0x3e8dcf,_0x39fc7f['rhUxY']),0x0))return[_0x39fc7f[_0x567f1c(0xe0)],_0x39fc7f[_0x567f1c(0x124)]];return[_0x39fc7f['ooFzf'],_0x39fc7f['xJFvi']];},exports[a40_0x5291b1(0x101)]=()=>{const _0x48cbbc=a40_0x5291b1,_0x549b5e={};_0x549b5e[_0x48cbbc(0x138)]=_0x48cbbc(0x125);const _0x42ae72=_0x549b5e;return helper['getPlaywrightLibPath'](_0x42ae72['CaSio']);},exports[a40_0x5291b1(0x106)]=()=>{const _0x435114=a40_0x5291b1,_0x563abb={};_0x563abb[_0x435114(0x111)]='runner/projectUtils.js';const _0xd6bcd8=_0x563abb;return helper[_0x435114(0xcb)](_0xd6bcd8[_0x435114(0x111)]);},exports[a40_0x5291b1(0x152)]=()=>{const _0x42d64f=a40_0x5291b1,_0x51b2e6={'LgzqY':function(_0x9980ed,_0x1a3bb1){return _0x9980ed(_0x1a3bb1);},'FufTl':function(_0x178ace,_0x342d6d){return _0x178ace>=_0x342d6d;},'ZLvIK':'1.38.0','aNYPr':_0x42d64f(0xd9),'TJGpa':_0x42d64f(0x12f),'qPgXs':_0x42d64f(0x149),'VGvMl':'test'},_0x3aab4c=_0x51b2e6[_0x42d64f(0xfa)](getFrameworkVersion,FRAMEWORKS[_0x42d64f(0x153)]);if(_0x51b2e6[_0x42d64f(0x11b)](helper[_0x42d64f(0xe9)](_0x3aab4c,_0x51b2e6[_0x42d64f(0xe5)]),0x0))return path[_0x42d64f(0xce)](_0x51b2e6['aNYPr'],_0x51b2e6['TJGpa'],_0x51b2e6[_0x42d64f(0x155)]);return path[_0x42d64f(0xce)](_0x51b2e6[_0x42d64f(0xd8)],_0x51b2e6[_0x42d64f(0x112)],_0x51b2e6['TJGpa'],_0x51b2e6[_0x42d64f(0x155)]);},exports[a40_0x5291b1(0xe6)]=(_0x3514f7,{test_run_uuid:_0x246fae})=>{const _0x31cd9f=a40_0x5291b1,_0x863ace={'ZslMb':_0x31cd9f(0xc0),'whsKt':_0x31cd9f(0x15a),'cagjC':function(_0x19f69c,_0x16dc5f){return _0x19f69c<=_0x16dc5f;},'WgMLH':function(_0x240cbf,_0x17545f){return _0x240cbf(_0x17545f);},'FGvqj':_0x31cd9f(0x11c),'lkPSy':function(_0x191793,_0x504818){return _0x191793>=_0x504818;},'CGtDp':_0x31cd9f(0xde),'FPgUh':function(_0x10b352,_0x4aeee4){return _0x10b352>_0x4aeee4;},'QMvQm':function(_0x541378,_0x39161e){return _0x541378(_0x39161e);},'rHJEz':function(_0x180caf,_0x42deb0,_0x2b4ac7){return _0x180caf(_0x42deb0,_0x2b4ac7);},'aJmgW':'test'};if(!_0x3514f7||_0x863ace['cagjC'](_0x3514f7[_0x31cd9f(0xc3)],0x0))return[];const _0x2e4cea=_0x863ace['WgMLH'](removeAnsiColors,_0x3514f7[0x0][_0x31cd9f(0xe4)]);if(_0x2e4cea[_0x31cd9f(0x131)](_0x863ace[_0x31cd9f(0x15c)])){const _0xbc49e0=_0x3514f7[0x0],_0x310db6=_0x863ace[_0x31cd9f(0x12b)](getFrameworkVersion,FRAMEWORKS[_0x31cd9f(0x153)]);if((!_0xbc49e0[_0x31cd9f(0xf3)]||_0x863ace[_0x31cd9f(0x120)](_0x310db6,_0x863ace[_0x31cd9f(0xe2)]))&&_0x863ace[_0x31cd9f(0x129)](_0x3514f7[_0x31cd9f(0xc3)],0x1))return{'failureData':[{'backtrace':[_0x2e4cea,_0x863ace[_0x31cd9f(0xee)](removeAnsiColors,_0x3514f7[0x1][_0x31cd9f(0xf3)])]}],'logs':_0x3514f7[_0x31cd9f(0xda)](0x2)[_0x31cd9f(0x142)](_0x4a245c=>{const _0x5ff6ac=_0x31cd9f;return{'timestamp':new Date()['toISOString'](),'level':_0x863ace[_0x5ff6ac(0xcc)],'message':''+_0x4a245c[_0x5ff6ac(0xe4)],'kind':_0x863ace[_0x5ff6ac(0xcd)],'http_response':{},'test_run_uuid':_0x246fae};})};}return{'failureData':_0x863ace[_0x31cd9f(0x115)](failureData,_0x3514f7,_0x863ace[_0x31cd9f(0x147)]),'logs':[]};},exports[a40_0x5291b1(0xef)]=_0x37984b=>{const _0x49d52d=a40_0x5291b1,_0x1417f7={};_0x1417f7[_0x49d52d(0x11d)]=function(_0x56408e,_0x3d67d7){return _0x56408e!==_0x3d67d7;},_0x1417f7['Eczvo']=_0x49d52d(0xc8),_0x1417f7['aFzjh']=function(_0x3a9589,_0xa7b8f8){return _0x3a9589>_0xa7b8f8;};const _0x3e1bea=_0x1417f7;if(_0x37984b&&fs[_0x49d52d(0x123)](_0x37984b)){if(_0x3e1bea['Xdpjq'](path['extname'](_0x37984b)[_0x49d52d(0xed)](),_0x3e1bea[_0x49d52d(0x108)]))return logger['error'](_0x49d52d(0x113)+_0x37984b),![];const _0x2ed1a1=fs[_0x49d52d(0x127)](_0x37984b)[_0x49d52d(0x134)];if(_0x3e1bea['aFzjh'](_0x2ed1a1,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x49d52d(0x146)]('Trace\x20file\x20size\x20exceeds\x20100MB:\x20'+_0x2ed1a1+'\x20bytes'),![];return!![];}return![];},exports[a40_0x5291b1(0x143)]=(_0x3a7442,_0x251b16)=>{const _0x3ae673=a40_0x5291b1,_0x2d95cf={};_0x2d95cf[_0x3ae673(0xf9)]=_0x3ae673(0x121);const _0x92dafb=_0x2d95cf;logger[_0x3ae673(0x119)](_0x3ae673(0x118)+_0x251b16);if(_0x3a7442[_0x3ae673(0x159)]){const _0x3eb713=_0x3a7442[_0x3ae673(0x159)][_0x3ae673(0x15b)](_0x4c7390=>_0x4c7390['name']===_0x3ae673(0x145));if(_0x3eb713)return logger[_0x3ae673(0x119)](_0x3ae673(0x15d)+_0x251b16+_0x3ae673(0xe7)),_0x3eb713[_0x251b16];}else{if(Object[_0x3ae673(0x12a)]['toString'][_0x3ae673(0x12e)](_0x3a7442)[_0x3ae673(0xc1)](_0x92dafb['DXOYI']))for(const _0x1452ff of _0x3a7442){if(_0x1452ff[_0x251b16])return logger[_0x3ae673(0x119)](_0x3ae673(0x15d)+_0x251b16+_0x3ae673(0x151)),_0x1452ff[_0x251b16];}}return'';},exports['uploadTraceZip']=async(_0x4d96ff,_0x3aa9e1)=>{const _0x1be4ea=a40_0x5291b1,_0x53c44c={};_0x53c44c[_0x1be4ea(0x13f)]=_0x1be4ea(0x12c),_0x53c44c[_0x1be4ea(0xd4)]=_0x1be4ea(0xca),_0x53c44c[_0x1be4ea(0x158)]=_0x1be4ea(0xbd),_0x53c44c[_0x1be4ea(0x128)]='Error\x20in\x20sending\x20trace\x20file:\x20%s';const _0x3b9b96=_0x53c44c;try{const _0x250d40={'event_type':_0x3b9b96[_0x1be4ea(0x13f)],'logs':[{'data':_0x4d96ff?fs[_0x1be4ea(0xbe)](_0x4d96ff):'','test_run_uuid':_0x3aa9e1,'kind':_0x3b9b96[_0x1be4ea(0xd4)],'fileName':_0x4d96ff?path[_0x1be4ea(0x10b)](_0x4d96ff):''}]};return await SessionHandler[_0x1be4ea(0x105)](_0x250d40,0x0,_0x3b9b96[_0x1be4ea(0x158)]);}catch(_0x128add){logger[_0x1be4ea(0x146)](util['format'](_0x3b9b96['ReXbq'],_0x128add));}},exports[a40_0x5291b1(0xbd)]=async(_0x4b2369,_0x2af7e5)=>{const _0x1173c9=a40_0x5291b1,_0x378b3e={};_0x378b3e[_0x1173c9(0x116)]=_0x1173c9(0x11a),_0x378b3e[_0x1173c9(0x11f)]=_0x1173c9(0x10d),_0x378b3e['WpljA']=_0x1173c9(0xec);const _0x37717e=_0x378b3e;try{logger[_0x1173c9(0x119)]('Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20'+_0x2af7e5);const _0x376d2d=await exports['findNestedKey'](_0x4b2369,_0x37717e[_0x1173c9(0x116)]);if(exports[_0x1173c9(0xef)](_0x376d2d)){logger[_0x1173c9(0x119)](_0x37717e[_0x1173c9(0x11f)]);const _0x51a136={};_0x51a136[_0x1173c9(0xd2)]=_0x2af7e5,_0x51a136[_0x1173c9(0xfd)]=_0x376d2d;const _0x533eef=_0x51a136;TestDetails['addTraceFilePath'](_0x533eef);};}catch(_0x3b7317){logger['error'](util['format'](_0x37717e['WpljA'],_0x3b7317));}};