const a44_0x2bb216=a44_0x5793;(function(_0x1fee44,_0x2cd4f2){const _0x92d06f=a44_0x5793,_0xf3d3e1=_0x1fee44();while(!![]){try{const _0x184dfe=-parseInt(_0x92d06f(0x1c5))/0x1*(parseInt(_0x92d06f(0x1cc))/0x2)+parseInt(_0x92d06f(0x201))/0x3*(parseInt(_0x92d06f(0x1d6))/0x4)+parseInt(_0x92d06f(0x231))/0x5*(parseInt(_0x92d06f(0x1e2))/0x6)+-parseInt(_0x92d06f(0x228))/0x7*(parseInt(_0x92d06f(0x22a))/0x8)+parseInt(_0x92d06f(0x1ad))/0x9*(-parseInt(_0x92d06f(0x244))/0xa)+parseInt(_0x92d06f(0x1e6))/0xb*(-parseInt(_0x92d06f(0x205))/0xc)+parseInt(_0x92d06f(0x22e))/0xd;if(_0x184dfe===_0x2cd4f2)break;else _0xf3d3e1['push'](_0xf3d3e1['shift']());}catch(_0x1e7051){_0xf3d3e1['push'](_0xf3d3e1['shift']());}}}(a44_0x162a,0x54a0e));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require('../../../helpers/test-observability/utils'),PerformanceTester=require(a44_0x2bb216(0x20b)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a44_0x2bb216(0x1ee)),helper=require(a44_0x2bb216(0x217)),path=require('path'),logger=require(a44_0x2bb216(0x21e))[a44_0x2bb216(0x1f1)],SessionHandler=require(a44_0x2bb216(0x233)),TestDetails=require('./test-details'),util=require(a44_0x2bb216(0x1c7)),TestInfo=require('../../v2/TestInfo');let BrowserstackCLIInstance=null;function a44_0x5793(_0x1c4e97,_0x6badd5){const _0x162a66=a44_0x162a();return a44_0x5793=function(_0x579314,_0x115580){_0x579314=_0x579314-0x1a5;let _0x167871=_0x162a66[_0x579314];return _0x167871;},a44_0x5793(_0x1c4e97,_0x6badd5);}function getBrowserstackCLI(){const _0x7f053b=a44_0x2bb216,_0x53487a={'ycZWk':function(_0x38ec6e,_0x406e94){return _0x38ec6e(_0x406e94);},'CFBKE':_0x7f053b(0x1b2)};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0x53487a['ycZWk'](require,_0x53487a[_0x7f053b(0x203)])),BrowserstackCLIInstance;}const getTagsFromTitle=_0x30e971=>{const _0x38dfd7=a44_0x2bb216;return _0x30e971[_0x38dfd7(0x20d)](/@(\w+)/g)?.[_0x38dfd7(0x1e4)](_0x423238=>_0x423238[_0x38dfd7(0x212)](0x1))||[];};exports[a44_0x2bb216(0x1d3)]=_0x4a44c0=>{const _0x11cc5b=a44_0x2bb216,_0x22ce86={'AceKc':function(_0x2545c9,_0x140f8b){return _0x2545c9(_0x140f8b);}};if(_0x4a44c0[_0x11cc5b(0x224)])return _0x4a44c0[_0x11cc5b(0x224)]['map'](_0x429e69=>_0x429e69[_0x11cc5b(0x1f2)]('@')?_0x429e69[_0x11cc5b(0x1cb)](0x1):_0x429e69);return _0x22ce86[_0x11cc5b(0x222)](getTagsFromTitle,_0x4a44c0[_0x11cc5b(0x1b6)]);},exports[a44_0x2bb216(0x1ae)]=async()=>{const _0x1facb8=a44_0x2bb216,_0x51a41a={'ecGak':function(_0x5e28ee,_0x33a2cb){return _0x5e28ee-_0x33a2cb;},'hasPE':'performance-reporter.html','wPnbP':_0x1facb8(0x1f6),'MskLi':_0x1facb8(0x24a),'HljpK':'onTestBegin','ajiYo':_0x1facb8(0x1f9),'abKcU':_0x1facb8(0x1a5),'LEvUc':'onStepEnd','hltKL':_0x1facb8(0x1e8),'DiXBg':_0x1facb8(0x249),'GVVYf':_0x1facb8(0x219),'ITdfk':_0x1facb8(0x221),'EIoor':_0x1facb8(0x1db),'XprvW':'processPageScreenshot','XwJvY':_0x1facb8(0x1e0),'PSAXC':_0x1facb8(0x1ea),'EaGvg':_0x1facb8(0x1e7),'tqkAU':_0x1facb8(0x1b5),'inedX':function(_0x202964,_0x3e3d9d){return _0x202964(_0x3e3d9d);},'vSbiv':function(_0xcf7629,_0x8cd458){return _0xcf7629/_0x8cd458;},'arVLT':function(_0x3810af,_0x528e1e){return _0x3810af+_0x528e1e;},'ZTCAu':function(_0x391774,_0x4f2b15){return _0x391774*_0x4f2b15;},'XFmuk':function(_0xf0048d,_0x211cc5){return _0xf0048d+_0x211cc5;}};if(!process[_0x1facb8(0x1dd)]['START_TIME'])return;const _0xde9e15=_0x51a41a['ecGak'](new Date()[_0x1facb8(0x1f4)](),new Date(process['env'][_0x1facb8(0x1fb)])[_0x1facb8(0x1f4)]()),_0x204215=await PerformanceTester['stopAndGenerate'](_0x51a41a[_0x1facb8(0x202)],[_0x51a41a[_0x1facb8(0x1c3)],_0x51a41a['MskLi'],_0x51a41a['HljpK'],_0x51a41a['ajiYo'],_0x51a41a['abKcU'],_0x51a41a[_0x1facb8(0x1ff)]]),_0x3eaf10=fs['readdirSync']('.'),_0x561c4b=_0x3eaf10['filter'](_0x59ae27=>_0x59ae27[_0x1facb8(0x1f2)](_0x1facb8(0x200))&&_0x59ae27['endsWith'](_0x1facb8(0x223))),_0x168942=await PerformanceTester[_0x1facb8(0x1f8)](_0x561c4b,[_0x51a41a[_0x1facb8(0x24b)],_0x51a41a[_0x1facb8(0x1fa)],_0x51a41a[_0x1facb8(0x1ce)],_0x51a41a['ITdfk'],_0x51a41a[_0x1facb8(0x1f7)],_0x51a41a[_0x1facb8(0x240)],_0x51a41a[_0x1facb8(0x20e)],_0x51a41a[_0x1facb8(0x1be)],_0x51a41a[_0x1facb8(0x24d)],_0x51a41a[_0x1facb8(0x241)]]);_0x51a41a[_0x1facb8(0x1e9)](debug,_0x1facb8(0x1bd)+_0x51a41a[_0x1facb8(0x207)](_0xde9e15,0x3e8)+'\x20s'),_0x51a41a[_0x1facb8(0x1e9)](debug,_0x1facb8(0x1de)+_0x51a41a[_0x1facb8(0x214)](_0x168942,_0x204215)),_0x51a41a[_0x1facb8(0x1e9)](debug,_0x1facb8(0x1c6)+_0x51a41a['ZTCAu'](_0x51a41a['vSbiv'](_0x51a41a[_0x1facb8(0x1eb)](_0x168942,_0x204215),_0xde9e15),0x64));},exports[a44_0x2bb216(0x229)]=()=>{const _0x836bfc=a44_0x2bb216,_0x325bff={'uffHH':function(_0x31c295,_0x202266){return _0x31c295(_0x202266);},'LhZfY':function(_0x300930,_0x32ea07){return _0x300930>=_0x32ea07;},'zLdEY':'1.38.0','GxMQq':_0x836bfc(0x1d1),'hhZYt':_0x836bfc(0x1d0),'vpklr':_0x836bfc(0x20f),'RceRD':'@playwright/test/lib/transform/transform.js','vPBVS':'@playwright/test','iTHGl':_0x836bfc(0x1d2)},_0x5b4564=_0x325bff[_0x836bfc(0x1ca)](getFrameworkVersion,FRAMEWORKS[_0x836bfc(0x1df)]);if(_0x325bff[_0x836bfc(0x1a9)](helper[_0x836bfc(0x225)](_0x5b4564,_0x325bff[_0x836bfc(0x1c8)]),0x0))return[_0x325bff[_0x836bfc(0x1bb)],_0x325bff[_0x836bfc(0x1cd)]];if(_0x325bff['LhZfY'](helper[_0x836bfc(0x225)](_0x5b4564,_0x325bff[_0x836bfc(0x206)]),0x0))return[_0x325bff[_0x836bfc(0x236)],_0x325bff[_0x836bfc(0x237)]];return[_0x325bff['iTHGl'],_0x325bff[_0x836bfc(0x237)]];},exports['getConfigLoaderPath']=()=>{const _0x2508a0=a44_0x2bb216,_0x5e19ce={'GHAlU':function(_0x156ff6,_0x1f8052){return _0x156ff6(_0x1f8052);},'BjPMx':function(_0x44b5ca,_0x315157){return _0x44b5ca>=_0x315157;},'UuhFW':_0x2508a0(0x1af),'yTxha':'playwright/lib/common/configLoader.js','rLOrX':_0x2508a0(0x1d0),'bZoYh':_0x2508a0(0x1f0),'sjJdX':_0x2508a0(0x23b)},_0x4e33c1=_0x5e19ce['GHAlU'](getFrameworkVersion,FRAMEWORKS[_0x2508a0(0x1df)]);if(_0x5e19ce['BjPMx'](helper[_0x2508a0(0x225)](_0x4e33c1,_0x5e19ce[_0x2508a0(0x243)]),0x0))return[_0x5e19ce[_0x2508a0(0x24f)],_0x5e19ce[_0x2508a0(0x21d)]];return[_0x5e19ce[_0x2508a0(0x1d5)],_0x5e19ce[_0x2508a0(0x1ed)]];},exports['getLoadUtilsPath']=()=>{const _0x2d7ff8=a44_0x2bb216,_0x31a790={};_0x31a790[_0x2d7ff8(0x239)]=_0x2d7ff8(0x1b7);const _0x7f2f0b=_0x31a790;return helper[_0x2d7ff8(0x234)](_0x7f2f0b['QcMgy']);},exports[a44_0x2bb216(0x245)]=()=>{const _0x3f3be2=a44_0x2bb216,_0x5e56b7={};_0x5e56b7['DSEJS']='runner/projectUtils.js';const _0x43f479=_0x5e56b7;return helper[_0x3f3be2(0x234)](_0x43f479[_0x3f3be2(0x247)]);},exports['getForkProcessPath']=()=>{const _0x1be312=a44_0x2bb216,_0x246cf0={'AymnK':function(_0x52c4cd,_0xb6ea35){return _0x52c4cd(_0xb6ea35);},'PAtnw':function(_0x46c99b,_0x13d136){return _0x46c99b>=_0x13d136;},'YHQxj':_0x1be312(0x1af),'vxqSf':_0x1be312(0x22b),'Yylqu':_0x1be312(0x1f5),'WAjKV':_0x1be312(0x1e3),'Amkuj':_0x1be312(0x23c)},_0x15e38c=_0x246cf0['AymnK'](getFrameworkVersion,FRAMEWORKS[_0x1be312(0x1df)]);if(_0x246cf0[_0x1be312(0x1d9)](helper['compareVersions'](_0x15e38c,_0x246cf0[_0x1be312(0x1ab)]),0x0))return path['join'](_0x246cf0[_0x1be312(0x210)],_0x246cf0['Yylqu'],_0x246cf0[_0x1be312(0x1b8)]);return path[_0x1be312(0x1dc)](_0x246cf0[_0x1be312(0x24c)],_0x246cf0['vxqSf'],_0x246cf0[_0x1be312(0x22c)],_0x246cf0[_0x1be312(0x1b8)]);},exports[a44_0x2bb216(0x1a6)]=(_0x1ea25a,{test_run_uuid:_0x503fd3})=>{const _0x3b1863=a44_0x2bb216,_0x50a9c0={'hidTH':'ERROR','owkQo':_0x3b1863(0x24e),'XxyQa':function(_0x934dea,_0x24183c){return _0x934dea<=_0x24183c;},'ZQSSy':function(_0x191492,_0x4ee144){return _0x191492(_0x4ee144);},'ktUjP':_0x3b1863(0x1f3),'mcKjB':function(_0x4f235e,_0x493172){return _0x4f235e>=_0x493172;},'CEfPN':_0x3b1863(0x209),'gzvUy':function(_0x1aceb5,_0x535909){return _0x1aceb5>_0x535909;},'mHzZI':function(_0x43491b,_0x47d885,_0x180efb){return _0x43491b(_0x47d885,_0x180efb);},'WvcMU':'test'};if(!_0x1ea25a||_0x50a9c0['XxyQa'](_0x1ea25a[_0x3b1863(0x1ac)],0x0))return[];const _0x49d7b5=_0x50a9c0['ZQSSy'](removeAnsiColors,_0x1ea25a[0x0][_0x3b1863(0x1fc)]);if(_0x49d7b5['startsWith'](_0x50a9c0['ktUjP'])){const _0x411365=_0x1ea25a[0x0],_0x5ca712=_0x50a9c0[_0x3b1863(0x1aa)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if((!_0x411365['stack']||_0x50a9c0['mcKjB'](_0x5ca712,_0x50a9c0[_0x3b1863(0x1bf)]))&&_0x50a9c0['gzvUy'](_0x1ea25a[_0x3b1863(0x1ac)],0x1))return{'failureData':[{'backtrace':[_0x49d7b5,_0x50a9c0[_0x3b1863(0x1aa)](removeAnsiColors,_0x1ea25a[0x1][_0x3b1863(0x220)])]}],'logs':_0x1ea25a[_0x3b1863(0x212)](0x2)[_0x3b1863(0x1e4)](_0x414a4b=>{const _0x37a72d=_0x3b1863;return{'timestamp':new Date()[_0x37a72d(0x242)](),'level':_0x50a9c0[_0x37a72d(0x218)],'message':''+_0x414a4b[_0x37a72d(0x1fc)],'kind':_0x50a9c0[_0x37a72d(0x20c)],'http_response':{},'test_run_uuid':_0x503fd3};})};}return{'failureData':_0x50a9c0['mHzZI'](failureData,_0x1ea25a,_0x50a9c0['WvcMU']),'logs':[]};},exports['validateFilePath']=_0x16fa41=>{const _0x1aa427=a44_0x2bb216,_0x2cad1e={};_0x2cad1e[_0x1aa427(0x238)]=function(_0x1c8598,_0x4ff5c9){return _0x1c8598!==_0x4ff5c9;},_0x2cad1e[_0x1aa427(0x23a)]=_0x1aa427(0x1d4),_0x2cad1e[_0x1aa427(0x21b)]=function(_0x3503a8,_0x36c994){return _0x3503a8>_0x36c994;};const _0x107502=_0x2cad1e;if(_0x16fa41&&fs['existsSync'](_0x16fa41)){if(_0x107502[_0x1aa427(0x238)](path[_0x1aa427(0x22f)](_0x16fa41)[_0x1aa427(0x1d8)](),_0x107502[_0x1aa427(0x23a)]))return logger[_0x1aa427(0x1b1)](_0x1aa427(0x1a7)+_0x16fa41),![];const _0x57147f=fs[_0x1aa427(0x216)](_0x16fa41)[_0x1aa427(0x246)];if(_0x107502[_0x1aa427(0x21b)](_0x57147f,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger['error'](_0x1aa427(0x1ef)+_0x57147f+'\x20bytes'),![];return!![];}return![];},exports[a44_0x2bb216(0x1bc)]=(_0x2dcb5f,_0x52e36b)=>{const _0x59e3d5=a44_0x2bb216,_0x2ea8ce={};_0x2ea8ce[_0x59e3d5(0x20a)]=_0x59e3d5(0x1c1);const _0x24ae50=_0x2ea8ce;logger[_0x59e3d5(0x1c0)]('Searching\x20for\x20key:\x20'+_0x52e36b);if(_0x2dcb5f&&_0x2dcb5f['attachments']){const _0x3d9ed4=_0x2dcb5f['attachments'][_0x59e3d5(0x1b4)](_0x20cea9=>_0x20cea9['name']==='trace');if(_0x3d9ed4)return logger[_0x59e3d5(0x1c0)]('Found\x20key:\x20'+_0x52e36b+_0x59e3d5(0x1b9)),_0x3d9ed4[_0x52e36b];}else{if(_0x2dcb5f&&Object[_0x59e3d5(0x227)]['toString'][_0x59e3d5(0x1cf)](_0x2dcb5f)[_0x59e3d5(0x235)](_0x24ae50[_0x59e3d5(0x20a)]))for(const _0x1a7e45 of _0x2dcb5f){if(_0x1a7e45[_0x52e36b])return logger[_0x59e3d5(0x1c0)](_0x59e3d5(0x1b0)+_0x52e36b+'\x20in\x20arguments'),_0x1a7e45[_0x52e36b];}};return'';},exports['uploadTraceZip']=async(_0x3cb79f,_0x2df43e)=>{const _0x4f3bce=a44_0x2bb216,_0x265d94={};_0x265d94[_0x4f3bce(0x211)]=_0x4f3bce(0x23f),_0x265d94[_0x4f3bce(0x232)]=_0x4f3bce(0x248),_0x265d94[_0x4f3bce(0x208)]='sendTraceZip',_0x265d94[_0x4f3bce(0x204)]=_0x4f3bce(0x22d);const _0x14f04e=_0x265d94;try{const _0x143cf1={'event_type':_0x14f04e[_0x4f3bce(0x211)],'logs':[{'data':_0x3cb79f?fs[_0x4f3bce(0x21f)](_0x3cb79f):'','test_run_uuid':_0x2df43e,'kind':_0x14f04e[_0x4f3bce(0x232)],'fileName':_0x3cb79f?path[_0x4f3bce(0x1a8)](_0x3cb79f):''}]};return await SessionHandler[_0x4f3bce(0x1ec)](_0x143cf1,0x0,_0x14f04e['AgtqY']);}catch(_0x59ae28){logger[_0x4f3bce(0x1b1)](util[_0x4f3bce(0x1fe)](_0x14f04e[_0x4f3bce(0x204)],_0x59ae28));}},exports['sendTraceZip']=async(_0x23f2cc,_0x55a7a4)=>{const _0x566f2d=a44_0x2bb216,_0x140523={'jrxLB':_0x566f2d(0x1d7),'dgmjS':_0x566f2d(0x23e),'yjIre':function(_0x19ebcf){return _0x19ebcf();},'TqwXO':_0x566f2d(0x22d)};try{logger[_0x566f2d(0x1c0)](_0x566f2d(0x1ba)+_0x55a7a4);let _0x535593=await exports['findNestedKey'](_0x23f2cc,_0x140523[_0x566f2d(0x215)]);if(exports['validateFilePath'](_0x535593)){logger[_0x566f2d(0x1c0)](_0x140523[_0x566f2d(0x23d)]),_0x535593=path[_0x566f2d(0x1da)](_0x535593);const _0x337294={};_0x337294[_0x566f2d(0x1c9)]=_0x55a7a4,_0x337294[_0x566f2d(0x1fd)]=_0x535593;const _0x110a4b=_0x337294;_0x140523[_0x566f2d(0x226)](getBrowserstackCLI)[_0x566f2d(0x1b3)]()[_0x566f2d(0x1c4)]()?TestInfo[_0x566f2d(0x1e5)](_0x110a4b):TestDetails['addTraceFilePath'](_0x110a4b);};}catch(_0x7386ab){logger[_0x566f2d(0x1b1)](util[_0x566f2d(0x1fe)](_0x140523[_0x566f2d(0x21c)],_0x7386ab));}},exports[a44_0x2bb216(0x213)]=_0x469822=>{const _0x2963b3=a44_0x2bb216,_0x368fe5={};_0x368fe5[_0x2963b3(0x1c2)]=function(_0x511672,_0x3266f1){return _0x511672+_0x3266f1;},_0x368fe5[_0x2963b3(0x21a)]=function(_0xec452d,_0x22597c){return _0xec452d+_0x22597c;};const _0x3894f6=_0x368fe5;return _0x3894f6[_0x2963b3(0x1c2)](_0x3894f6['FHNQs'](_0x469822['_projectId'],'-'),_0x469822['id']);},exports[a44_0x2bb216(0x1e1)]=(_0x138a8c,_0x2f3080)=>{const _0x1a75ec=a44_0x2bb216,_0x39a69b={};_0x39a69b[_0x1a75ec(0x230)]=function(_0x2b4593,_0x3fdd55){return _0x2b4593+_0x3fdd55;};const _0x1d8088=_0x39a69b;return _0x1d8088['YKxvd'](_0x1d8088[_0x1a75ec(0x230)](_0x138a8c['id'],'-'),_0x2f3080);};function a44_0x162a(){const _0x2b94fa=['EaGvg','TEST_LOG','yTxha','onStepBegin','getFailureData','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','basename','LhZfY','ZQSSy','YHQxj','length','9783vEtLwT','calculatePerformance','1.38.0','Found\x20key:\x20','error','../../v2/browserstackCLI','getInstance','find','sendTestLog','title','runner/loadUtils.js','WAjKV','\x20in\x20attachments','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','GxMQq','findNestedKey','Total\x20duration\x20for\x20whole\x20build\x20is\x20','PSAXC','CEfPN','debug','Arguments','xPwql','wPnbP','isRunning','166280GLwNiq','Percentage\x20of\x20increased\x20time\x20is\x20','util','zLdEY','testUId','uffHH','substr','2qOKudS','hhZYt','GVVYf','call','playwright','playwright/lib/transform/transform.js','@playwright/test/lib/common/transform.js','getTestTags','.zip','bZoYh','192300fKODfj','path','toLowerCase','PAtnw','resolve','doo11ySync','join','env','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','PLAYWRIGHT','sendSessionDetails','getTestRunIdentifier','115698BjgPNa','process.js','map','addTraceFilePath','979YaPLIk','requestSpyCallback','beforeWorkerHook','inedX','setupBrowserDetails','XFmuk','sendEventData','sjJdX','../../../helpers/test-observability/constants','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','@playwright/test/lib/common/configLoader.js','winstonLogger','startsWith','Test\x20timeout\x20of','getTime','common','onBegin','EIoor','calculateTimesFromMultipleFiles','onTestEnd','DiXBg','START_TIME','message','filePath','format','LEvUc','performance-report-worker-','6SoDIfR','hasPE','CFBKE','DVPpb','26052gLAMLz','vpklr','vSbiv','AgtqY','1.42.0','KzUBu','../../../helpers/performance/performance-tester','owkQo','match','XwJvY','1.35.0','vxqSf','AmSfU','slice','getTestIdentifier','arVLT','jrxLB','statSync','../../../helpers/helper','hidTH','beforeTestHook','FHNQs','bUWzR','TqwXO','rLOrX','../../../helpers/logger','createReadStream','stack','afterTestHook','AceKc','.json','tags','compareVersions','yjIre','prototype','18508xfcfzI','getTransformPath','1528kUCDHO','lib','Yylqu','Error\x20in\x20sending\x20trace\x20file:\x20%s','9266829NLhtbt','extname','YKxvd','135RzuZvc','CGbjH','../../../helpers/test-observability/sessionHandler','getPlaywrightLibPath','includes','RceRD','vPBVS','XFUIQ','QcMgy','ROGEy','@playwright/test','test','dgmjS','Trace\x20enabled','LogCreated','XprvW','tqkAU','toISOString','UuhFW','1090TAWfwg','getProjectUtilsPath','size','DSEJS','TEST_ATTACHMENT','afterWorkerHook','endSession','hltKL','Amkuj'];a44_0x162a=function(){return _0x2b94fa;};return a44_0x162a();}