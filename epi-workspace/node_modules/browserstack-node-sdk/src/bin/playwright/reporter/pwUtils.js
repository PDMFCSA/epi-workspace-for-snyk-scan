const a43_0x4f0f48=a43_0x118d;function a43_0x50e6(){const _0x1338dc=['yIEGG','1573872jHvhbK','../../../helpers/helper','yLHBj','getTransformPath','winstonLogger','cTyol','getLoadUtilsPath','trace','@playwright/test','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','vUibb','28ucxBAF','VmrAt','4232469ZQUGsK','AvJua','filePath','runner/loadUtils.js','JlVnd','EeJHq','format','extname','ajSkt','calculatePerformance','rQIEC','GTcRj','@playwright/test/lib/common/configLoader.js','statSync','sendTraceZip','../../v2/TestInfo','createReadStream','uploadTraceZip','djLgU','../../../helpers/test-observability/utils','FfFyy','qphkI','slice','xWJSL','endSession','xLNOE','isRunning','match','error','length','compareVersions','5qRGQAE','onStepEnd','PLAYWRIGHT','tags','VFSpq','beforeWorkerHook','getPlaywrightLibPath','size','@playwright/test/lib/common/transform.js','@playwright/test/lib/transform/transform.js','readdirSync','playwright/lib/common/configLoader.js','95862TMoDGb','1.38.0','yCGrB','onStepBegin','18SpqxVT','Arguments','toString','GneTk','YjcFr','irDst','3103288DHtMwd','FhSYw','REKlN','lib','BirDW','addTraceFilePath','env','Searching\x20for\x20key:\x20','test','YsiZM','ectCw','MeskR','sUTSK','4309278tdocPx','message','stack','runner/projectUtils.js','\x20in\x20arguments','path','GGfQa','Error\x20in\x20sending\x20trace\x20file:\x20%s','endsWith','ACMUv','1.42.0','getFailureData','join','Test\x20timeout\x20of','sendSessionDetails','toLowerCase','stopAndGenerate','startsWith','setupBrowserDetails','WsAnH','dRrhk','process.js','qliwX','performance-report-worker-','DAaQh','YJSpr','cWcKc','basename','find','getForkProcessPath','Xlpxt','aUmZD','findNestedKey','../../../helpers/logger','getTime','jZsgk','KgoCi','uLKmS','../../../helpers/test-observability/sessionHandler','5495917xXdzLE','HWePo','SKOcm','qRioS','pawKP','DTZXT','Mjadl','onTestEnd','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','sendEventData','ugZBu','MRIFK','Found\x20key:\x20','getProjectUtilsPath','toISOString','TEST_LOG','./test-details','prototype','RijXB','START_TIME','validateFilePath','../../../helpers/test-observability/constants','common','performance-reporter.html','kxkpL','getInstance','debug','attachments','FSEGg','LogCreated','NXaGY','map','playwright/lib/transform/transform.js','includes','ERROR','util','JwZzO','21175870NjDsaa','wOCHx','FKNwC','playwright','\x20bytes','Uypcm','TabPx','lIoHY','getTestTags'];a43_0x50e6=function(){return _0x1338dc;};return a43_0x50e6();}(function(_0x2550fa,_0xd01722){const _0x29d4f7=a43_0x118d,_0x5ecab5=_0x2550fa();while(!![]){try{const _0xd09c6b=-parseInt(_0x29d4f7(0x1fc))/0x1*(-parseInt(_0x29d4f7(0x1cf))/0x2)+parseInt(_0x29d4f7(0x1d1))/0x3+-parseInt(_0x29d4f7(0x206))/0x4+-parseInt(_0x29d4f7(0x1f0))/0x5*(-parseInt(_0x29d4f7(0x213))/0x6)+parseInt(_0x29d4f7(0x23a))/0x7+-parseInt(_0x29d4f7(0x1c4))/0x8*(parseInt(_0x29d4f7(0x200))/0x9)+-parseInt(_0x29d4f7(0x1ba))/0xa;if(_0xd09c6b===_0xd01722)break;else _0x5ecab5['push'](_0x5ecab5['shift']());}catch(_0x5c32da){_0x5ecab5['push'](_0x5ecab5['shift']());}}}(a43_0x50e6,0xeca8e));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a43_0x4f0f48(0x1e4)),PerformanceTester=require('../../../helpers/performance/performance-tester'),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a43_0x4f0f48(0x24f)),helper=require(a43_0x4f0f48(0x1c5)),path=require(a43_0x4f0f48(0x218)),logger=require(a43_0x4f0f48(0x234))[a43_0x4f0f48(0x1c8)],SessionHandler=require(a43_0x4f0f48(0x239)),TestDetails=require(a43_0x4f0f48(0x24a)),util=require(a43_0x4f0f48(0x1b8)),TestInfo=require(a43_0x4f0f48(0x1e0));function a43_0x118d(_0x168862,_0x3d0891){const _0x50e68f=a43_0x50e6();return a43_0x118d=function(_0x118d53,_0x632f3b){_0x118d53=_0x118d53-0x1b4;let _0x777948=_0x50e68f[_0x118d53];return _0x777948;},a43_0x118d(_0x168862,_0x3d0891);}let BrowserstackCLIInstance=null;function getBrowserstackCLI(){const _0x411fab=a43_0x4f0f48,_0x4a16c7={'qliwX':function(_0x384f75,_0x507c83){return _0x384f75(_0x507c83);},'xLNOE':'../../v2/browserstackCLI'};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0x4a16c7[_0x411fab(0x229)](require,_0x4a16c7[_0x411fab(0x1ea)])),BrowserstackCLIInstance;}const getTagsFromTitle=_0x5e2877=>{const _0x19fef0=a43_0x4f0f48;return _0x5e2877[_0x19fef0(0x1ec)](/@(\w+)/g)?.['map'](_0x5810f4=>_0x5810f4['slice'](0x1))||[];};exports[a43_0x4f0f48(0x1c2)]=_0x2a628a=>{const _0x24b777=a43_0x4f0f48,_0x5d3d62={'Xlpxt':function(_0x4d2055,_0xa7e5aa){return _0x4d2055(_0xa7e5aa);}};if(_0x2a628a[_0x24b777(0x1f3)])return _0x2a628a[_0x24b777(0x1f3)][_0x24b777(0x1b4)](_0x21fca9=>_0x21fca9[_0x24b777(0x224)]('@')?_0x21fca9['substr'](0x1):_0x21fca9);return _0x5d3d62[_0x24b777(0x231)](getTagsFromTitle,_0x2a628a['title']);},exports[a43_0x4f0f48(0x1da)]=async()=>{const _0x291957=a43_0x4f0f48,_0x5badb7={'JlVnd':function(_0x1f4333,_0x2a68f6){return _0x1f4333-_0x2a68f6;},'SKOcm':_0x291957(0x251),'YJSpr':'onBegin','FhSYw':_0x291957(0x1e9),'hcXCd':'onTestBegin','wOCHx':_0x291957(0x241),'aUmZD':_0x291957(0x1ff),'NuQCH':_0x291957(0x1f1),'qRioS':_0x291957(0x1f5),'VFSpq':'afterWorkerHook','gZpje':'beforeTestHook','ACMUv':'afterTestHook','cWcKc':'doo11ySync','jZsgk':'processPageScreenshot','rQIEC':_0x291957(0x221),'xWJSL':_0x291957(0x225),'pawKP':'requestSpyCallback','Uypcm':'sendTestLog','kxkpL':function(_0x8aff38,_0x5c682b){return _0x8aff38(_0x5c682b);},'FSEGg':function(_0x469a64,_0x57fbdc){return _0x469a64/_0x57fbdc;},'VmrAt':function(_0x441b9e,_0x572be7){return _0x441b9e+_0x572be7;},'whkIq':function(_0x1adcfa,_0x3cb618){return _0x1adcfa(_0x3cb618);},'qphkI':function(_0xad0b9f,_0x336f2b){return _0xad0b9f*_0x336f2b;},'TabPx':function(_0x34461f,_0x4421c0){return _0x34461f+_0x4421c0;}};if(!process[_0x291957(0x20c)]['START_TIME'])return;const _0x2f4621=_0x5badb7[_0x291957(0x1d5)](new Date()[_0x291957(0x235)](),new Date(process[_0x291957(0x20c)][_0x291957(0x24d)])[_0x291957(0x235)]()),_0x2fb3ac=await PerformanceTester[_0x291957(0x223)](_0x5badb7[_0x291957(0x23c)],[_0x5badb7[_0x291957(0x22c)],_0x5badb7[_0x291957(0x207)],_0x5badb7['hcXCd'],_0x5badb7[_0x291957(0x1bb)],_0x5badb7[_0x291957(0x232)],_0x5badb7['NuQCH']]),_0x24505f=fs[_0x291957(0x1fa)]('.'),_0x55f1db=_0x24505f['filter'](_0x32e093=>_0x32e093['startsWith'](_0x291957(0x22a))&&_0x32e093[_0x291957(0x21b)]('.json')),_0x2ea926=await PerformanceTester['calculateTimesFromMultipleFiles'](_0x55f1db,[_0x5badb7[_0x291957(0x23d)],_0x5badb7[_0x291957(0x1f4)],_0x5badb7['gZpje'],_0x5badb7[_0x291957(0x21c)],_0x5badb7[_0x291957(0x22d)],_0x5badb7[_0x291957(0x236)],_0x5badb7[_0x291957(0x1db)],_0x5badb7[_0x291957(0x1e8)],_0x5badb7[_0x291957(0x23e)],_0x5badb7[_0x291957(0x1bf)]]);_0x5badb7[_0x291957(0x252)](debug,'Total\x20duration\x20for\x20whole\x20build\x20is\x20'+_0x5badb7[_0x291957(0x256)](_0x2f4621,0x3e8)+'\x20s'),_0x5badb7[_0x291957(0x252)](debug,_0x291957(0x1cd)+_0x5badb7[_0x291957(0x1d0)](_0x2ea926,_0x2fb3ac)),_0x5badb7['whkIq'](debug,'Percentage\x20of\x20increased\x20time\x20is\x20'+_0x5badb7[_0x291957(0x1e6)](_0x5badb7[_0x291957(0x256)](_0x5badb7[_0x291957(0x1c0)](_0x2ea926,_0x2fb3ac),_0x2f4621),0x64));},exports[a43_0x4f0f48(0x1c7)]=()=>{const _0x3a1553=a43_0x4f0f48,_0x311476={'GTcRj':function(_0x532a29,_0x4df7a8){return _0x532a29(_0x4df7a8);},'dRrhk':function(_0x1eb57f,_0x3dbc38){return _0x1eb57f>=_0x3dbc38;},'gEzSK':_0x3a1553(0x1fd),'ajSkt':_0x3a1553(0x1b5),'ugZBu':'playwright','kbjCS':function(_0x515596,_0x33cd9a){return _0x515596>=_0x33cd9a;},'CZOhR':'1.35.0','LaMkb':_0x3a1553(0x1f9),'yLHBj':_0x3a1553(0x1cc),'djLgU':_0x3a1553(0x1f8)},_0x65e2dc=_0x311476[_0x3a1553(0x1dc)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x311476[_0x3a1553(0x227)](helper[_0x3a1553(0x1ef)](_0x65e2dc,_0x311476['gEzSK']),0x0))return[_0x311476[_0x3a1553(0x1d9)],_0x311476[_0x3a1553(0x244)]];if(_0x311476['kbjCS'](helper[_0x3a1553(0x1ef)](_0x65e2dc,_0x311476['CZOhR']),0x0))return[_0x311476['LaMkb'],_0x311476['yLHBj']];return[_0x311476[_0x3a1553(0x1e3)],_0x311476[_0x3a1553(0x1c6)]];},exports['getConfigLoaderPath']=()=>{const _0x2bd05e=a43_0x4f0f48,_0x4fc47a={'YjcFr':function(_0x2b2c40,_0x334dd7){return _0x2b2c40(_0x334dd7);},'NXaGY':function(_0xedf0dc,_0x56118f){return _0xedf0dc>=_0x56118f;},'yIEGG':_0x2bd05e(0x1fd),'yCGrB':_0x2bd05e(0x1fb),'ectCw':_0x2bd05e(0x1bd),'vUibb':_0x2bd05e(0x1dd),'ZrNJA':'@playwright/test'},_0x4528bd=_0x4fc47a[_0x2bd05e(0x204)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x4fc47a[_0x2bd05e(0x258)](helper[_0x2bd05e(0x1ef)](_0x4528bd,_0x4fc47a[_0x2bd05e(0x1c3)]),0x0))return[_0x4fc47a[_0x2bd05e(0x1fe)],_0x4fc47a[_0x2bd05e(0x210)]];return[_0x4fc47a[_0x2bd05e(0x1ce)],_0x4fc47a['ZrNJA']];},exports[a43_0x4f0f48(0x1ca)]=()=>{const _0x4ef8dd=a43_0x4f0f48,_0x99d9d4={};_0x99d9d4[_0x4ef8dd(0x20a)]=_0x4ef8dd(0x1d4);const _0x111134=_0x99d9d4;return helper[_0x4ef8dd(0x1f6)](_0x111134[_0x4ef8dd(0x20a)]);},exports[a43_0x4f0f48(0x247)]=()=>{const _0x2237a8=a43_0x4f0f48,_0x1a951b={};_0x1a951b[_0x2237a8(0x1d2)]=_0x2237a8(0x216);const _0x21f031=_0x1a951b;return helper[_0x2237a8(0x1f6)](_0x21f031['AvJua']);},exports[a43_0x4f0f48(0x230)]=()=>{const _0x1caf94=a43_0x4f0f48,_0x29f112={'irDst':function(_0x20d1ed,_0x1819fb){return _0x20d1ed(_0x1819fb);},'MRIFK':function(_0x4ca1e7,_0x2548c9){return _0x4ca1e7>=_0x2548c9;},'EadsM':_0x1caf94(0x1fd),'RijXB':_0x1caf94(0x209),'REKlN':_0x1caf94(0x250),'GGfQa':_0x1caf94(0x228),'DTZXT':_0x1caf94(0x20e)},_0x22bbba=_0x29f112[_0x1caf94(0x205)](getFrameworkVersion,FRAMEWORKS[_0x1caf94(0x1f2)]);if(_0x29f112[_0x1caf94(0x245)](helper[_0x1caf94(0x1ef)](_0x22bbba,_0x29f112['EadsM']),0x0))return path[_0x1caf94(0x21f)](_0x29f112[_0x1caf94(0x24c)],_0x29f112[_0x1caf94(0x208)],_0x29f112[_0x1caf94(0x219)]);return path['join'](_0x29f112[_0x1caf94(0x23f)],_0x29f112['RijXB'],_0x29f112['REKlN'],_0x29f112[_0x1caf94(0x219)]);},exports[a43_0x4f0f48(0x21e)]=(_0x5425cc,{test_run_uuid:_0x641315})=>{const _0x211eba=a43_0x4f0f48,_0x56d8ab={'MeskR':_0x211eba(0x1b7),'zRYTs':_0x211eba(0x249),'GneTk':function(_0x3d1a42,_0x3316fa){return _0x3d1a42<=_0x3316fa;},'Mjadl':function(_0xffbc9e,_0x49ce65){return _0xffbc9e(_0x49ce65);},'FKNwC':_0x211eba(0x220),'cTyol':function(_0x424f50,_0x31f3cd){return _0x424f50>=_0x31f3cd;},'KgoCi':_0x211eba(0x21d),'VlzPd':function(_0x3134e0,_0x60edf5){return _0x3134e0>_0x60edf5;},'tVywr':function(_0x5be363,_0xad1c1b,_0x234181){return _0x5be363(_0xad1c1b,_0x234181);},'sUTSK':_0x211eba(0x20e)};if(!_0x5425cc||_0x56d8ab[_0x211eba(0x203)](_0x5425cc[_0x211eba(0x1ee)],0x0))return[];const _0x3925c5=_0x56d8ab[_0x211eba(0x240)](removeAnsiColors,_0x5425cc[0x0][_0x211eba(0x214)]);if(_0x3925c5['startsWith'](_0x56d8ab[_0x211eba(0x1bc)])){const _0x4b3eda=_0x5425cc[0x0],_0xf2520b=_0x56d8ab[_0x211eba(0x240)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if((!_0x4b3eda['stack']||_0x56d8ab[_0x211eba(0x1c9)](_0xf2520b,_0x56d8ab[_0x211eba(0x237)]))&&_0x56d8ab['VlzPd'](_0x5425cc[_0x211eba(0x1ee)],0x1))return{'failureData':[{'backtrace':[_0x3925c5,_0x56d8ab['Mjadl'](removeAnsiColors,_0x5425cc[0x1][_0x211eba(0x215)])]}],'logs':_0x5425cc[_0x211eba(0x1e7)](0x2)[_0x211eba(0x1b4)](_0x4f53c1=>{const _0x3983fa=_0x211eba;return{'timestamp':new Date()[_0x3983fa(0x248)](),'level':_0x56d8ab[_0x3983fa(0x211)],'message':''+_0x4f53c1[_0x3983fa(0x214)],'kind':_0x56d8ab['zRYTs'],'http_response':{},'test_run_uuid':_0x641315};})};}return{'failureData':_0x56d8ab['tVywr'](failureData,_0x5425cc,_0x56d8ab[_0x211eba(0x212)]),'logs':[]};},exports[a43_0x4f0f48(0x24e)]=_0x65da3e=>{const _0x3b8554=a43_0x4f0f48,_0x8795a3={};_0x8795a3[_0x3b8554(0x1b9)]=function(_0x278a80,_0x42704e){return _0x278a80!==_0x42704e;},_0x8795a3['FfFyy']='.zip',_0x8795a3['Oegtd']=function(_0x5eb6b3,_0x37546c){return _0x5eb6b3>_0x37546c;};const _0x507544=_0x8795a3;if(_0x65da3e&&fs['existsSync'](_0x65da3e)){if(_0x507544[_0x3b8554(0x1b9)](path[_0x3b8554(0x1d8)](_0x65da3e)[_0x3b8554(0x222)](),_0x507544[_0x3b8554(0x1e5)]))return logger['error']('Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20'+_0x65da3e),![];const _0x10db15=fs[_0x3b8554(0x1de)](_0x65da3e)[_0x3b8554(0x1f7)];if(_0x507544['Oegtd'](_0x10db15,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x3b8554(0x1ed)]('Trace\x20file\x20size\x20exceeds\x20100MB:\x20'+_0x10db15+_0x3b8554(0x1be)),![];return!![];}return![];},exports[a43_0x4f0f48(0x233)]=(_0x43d649,_0x26ddf5)=>{const _0x3d5681=a43_0x4f0f48,_0x5a7051={};_0x5a7051[_0x3d5681(0x238)]=_0x3d5681(0x201);const _0x5e41e5=_0x5a7051;logger[_0x3d5681(0x254)](_0x3d5681(0x20d)+_0x26ddf5);if(_0x43d649&&_0x43d649['attachments']){const _0x275b78=_0x43d649[_0x3d5681(0x255)][_0x3d5681(0x22f)](_0x5267d9=>_0x5267d9['name']===_0x3d5681(0x1cb));if(_0x275b78)return logger['debug']('Found\x20key:\x20'+_0x26ddf5+'\x20in\x20attachments'),_0x275b78[_0x26ddf5];}else{if(_0x43d649&&Object[_0x3d5681(0x24b)][_0x3d5681(0x202)]['call'](_0x43d649)[_0x3d5681(0x1b6)](_0x5e41e5[_0x3d5681(0x238)]))for(const _0x1af5f3 of _0x43d649){if(_0x1af5f3[_0x26ddf5])return logger[_0x3d5681(0x254)](_0x3d5681(0x246)+_0x26ddf5+_0x3d5681(0x217)),_0x1af5f3[_0x26ddf5];}};return'';},exports[a43_0x4f0f48(0x1e2)]=async(_0x4e1c58,_0x23835e)=>{const _0x573641=a43_0x4f0f48,_0x293b41={};_0x293b41['byqKR']=_0x573641(0x257),_0x293b41[_0x573641(0x20f)]='TEST_ATTACHMENT',_0x293b41[_0x573641(0x1c1)]=_0x573641(0x1df),_0x293b41[_0x573641(0x1d6)]=_0x573641(0x21a);const _0x3b7f04=_0x293b41;try{const _0x5b552c={'event_type':_0x3b7f04['byqKR'],'logs':[{'data':_0x4e1c58?fs[_0x573641(0x1e1)](_0x4e1c58):'','test_run_uuid':_0x23835e,'kind':_0x3b7f04[_0x573641(0x20f)],'fileName':_0x4e1c58?path[_0x573641(0x22e)](_0x4e1c58):''}]};return await SessionHandler[_0x573641(0x243)](_0x5b552c,0x0,_0x3b7f04[_0x573641(0x1c1)]);}catch(_0x4f525e){logger['error'](util['format'](_0x3b7f04['EeJHq'],_0x4f525e));}},exports['sendTraceZip']=async(_0x44c8ac,_0x2e9b42)=>{const _0x49f613=a43_0x4f0f48,_0x3e8965={'WsAnH':_0x49f613(0x218),'slNqC':'Trace\x20enabled','DAaQh':function(_0x56c1af){return _0x56c1af();},'HWePo':'Error\x20in\x20sending\x20trace\x20file:\x20%s'};try{logger['debug'](_0x49f613(0x242)+_0x2e9b42);let _0x13bd5d=await exports[_0x49f613(0x233)](_0x44c8ac,_0x3e8965[_0x49f613(0x226)]);if(exports['validateFilePath'](_0x13bd5d)){logger[_0x49f613(0x254)](_0x3e8965['slNqC']),_0x13bd5d=path['resolve'](_0x13bd5d);const _0x344df5={};_0x344df5['testUId']=_0x2e9b42,_0x344df5[_0x49f613(0x1d3)]=_0x13bd5d;const _0x1da4e3=_0x344df5;_0x3e8965[_0x49f613(0x22b)](getBrowserstackCLI)[_0x49f613(0x253)]()[_0x49f613(0x1eb)]()?TestInfo['addTraceFilePath'](_0x1da4e3):TestDetails[_0x49f613(0x20b)](_0x1da4e3);};}catch(_0x39575a){logger[_0x49f613(0x1ed)](util[_0x49f613(0x1d7)](_0x3e8965[_0x49f613(0x23b)],_0x39575a));}};