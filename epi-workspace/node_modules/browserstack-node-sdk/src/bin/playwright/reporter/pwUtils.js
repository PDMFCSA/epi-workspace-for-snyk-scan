const a44_0x5378e9=a44_0x1915;function a44_0x4eb1(){const _0x19530f=['../../../helpers/test-observability/constants','message','jxwid','playwright/lib/common/configLoader.js','util','includes','isRunning','name','toLowerCase','onTestBegin','Total\x20duration\x20for\x20whole\x20build\x20is\x20','endsWith','getTransformPath','@playwright/test/lib/transform/transform.js','sendTestLog','zPBVe','findNestedKey','map','jyUSW','mKlax','28eVubEt','addTraceFilePath','process.js','Found\x20key:\x20','MpWtc','join','getTime','ZMXyp','521802BBgdWo','DKSeo','Fsljf','afterWorkerHook','2882QQgitg','getPlaywrightLibPath','uploadTraceZip','processPageScreenshot','sVVpM','YNrVq','trace','performance-report-worker-','size','filter','QwyhR','env','271564CgkcfU','EpsYp','hdZdn','520728jIRkmu','onStepBegin','stack','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','compareVersions','1.42.0','iIfja','VqxFx','./test-details','toISOString','readdirSync','length','hykWO','START_TIME','getLoadUtilsPath','call','Tomcu','IBbkP','../../v2/browserstackCLI','FOkaA','1.38.0','playwright/lib/transform/transform.js','40192uKIisI','.json','LhGTV','getInstance','Trace\x20enabled','path','xlbqM','Kooqh','test','debug','find','testUId','rychw','RKqbT','12YLJquS','statSync','filePath','../../../helpers/helper','sendTraceZip','getProjectUtilsPath','resolve','onStepEnd','@playwright/test/lib/common/configLoader.js','PLAYWRIGHT','ErVck','jVVpI','attachments','IUXwb','ttzBv','beforeWorkerHook','extname','slice','getConfigLoaderPath','ywPpk','calculatePerformance','../../../helpers/test-observability/utils','OAJtg','ZprlM','SilVB','QLZxI','kSnaQ','10bIIFMx','LogCreated','runner/projectUtils.js','playwright','ZcaKB','lib','jJWHb','29064TBdADZ','endSession','beforeTestHook','rUYDJ','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','_projectId','Qvdtv','match','kOjGx','ZqZLx','getForkProcessPath','@playwright/test','toString','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','GVFTe','onTestEnd','@playwright/test/lib/common/transform.js','title','performance-reporter.html','Percentage\x20of\x20increased\x20time\x20is\x20','909036dOGoPF','existsSync','LgkvX','IEaRF','startsWith','hovCK','qzDRm','winstonLogger','AIieS','tags','prototype','FpgxG','format','\x20in\x20arguments','1706515PaUipf','BuShT','bNAdR','error','15xCsgbw','rvYjm','uibYE','TEST_LOG','Arguments','onBegin','../../../helpers/logger','getTestTags','Error\x20in\x20sending\x20trace\x20file:\x20%s','\x20bytes','validateFilePath','WpbRf','doo11ySync','sendEventData','calculateTimesFromMultipleFiles','1.35.0'];a44_0x4eb1=function(){return _0x19530f;};return a44_0x4eb1();}(function(_0x3143fe,_0x105400){const _0x299abf=a44_0x1915,_0x4c5f14=_0x3143fe();while(!![]){try{const _0x5b4c87=-parseInt(_0x299abf(0x28f))/0x1*(-parseInt(_0x299abf(0x1f2))/0x2)+parseInt(_0x299abf(0x23a))/0x3*(-parseInt(_0x299abf(0x276))/0x4)+-parseInt(_0x299abf(0x236))/0x5+-parseInt(_0x299abf(0x266))/0x6+parseInt(_0x299abf(0x25e))/0x7*(parseInt(_0x299abf(0x279))/0x8)+-parseInt(_0x299abf(0x228))/0x9*(parseInt(_0x299abf(0x20d))/0xa)+-parseInt(_0x299abf(0x26a))/0xb*(-parseInt(_0x299abf(0x214))/0xc);if(_0x5b4c87===_0x105400)break;else _0x4c5f14['push'](_0x4c5f14['shift']());}catch(_0x933aed){_0x4c5f14['push'](_0x4c5f14['shift']());}}}(a44_0x4eb1,0x41457));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a44_0x5378e9(0x207)),PerformanceTester=require('../../../helpers/performance/performance-tester'),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a44_0x5378e9(0x24a)),helper=require(a44_0x5378e9(0x1f5)),path=require(a44_0x5378e9(0x1e9)),logger=require(a44_0x5378e9(0x240))[a44_0x5378e9(0x22f)],SessionHandler=require('../../../helpers/test-observability/sessionHandler'),TestDetails=require(a44_0x5378e9(0x281)),util=require(a44_0x5378e9(0x24e)),TestInfo=require('../../v2/TestInfo');function a44_0x1915(_0x5ec2fe,_0x1ffc19){const _0x4eb192=a44_0x4eb1();return a44_0x1915=function(_0x19157f,_0x348241){_0x19157f=_0x19157f-0x1e7;let _0x2931ea=_0x4eb192[_0x19157f];return _0x2931ea;},a44_0x1915(_0x5ec2fe,_0x1ffc19);}let BrowserstackCLIInstance=null;function getBrowserstackCLI(){const _0xc9c5f2=a44_0x5378e9,_0x4f0141={'jxwid':function(_0x14d9a7,_0x1fceed){return _0x14d9a7(_0x1fceed);},'FOkaA':_0xc9c5f2(0x28b)};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0x4f0141[_0xc9c5f2(0x24c)](require,_0x4f0141[_0xc9c5f2(0x28c)])),BrowserstackCLIInstance;}const getTagsFromTitle=_0x5444cf=>{const _0x53fefb=a44_0x5378e9;return _0x5444cf[_0x53fefb(0x21b)](/@(\w+)/g)?.['map'](_0x368fda=>_0x368fda[_0x53fefb(0x203)](0x1))||[];};exports[a44_0x5378e9(0x241)]=_0xfedafe=>{const _0x2b2622=a44_0x5378e9,_0x3ab691={'fpbFB':function(_0x4c098e,_0x2fd411){return _0x4c098e(_0x2fd411);}};if(_0xfedafe[_0x2b2622(0x231)])return _0xfedafe[_0x2b2622(0x231)][_0x2b2622(0x25b)](_0xdc6f40=>_0xdc6f40[_0x2b2622(0x22c)]('@')?_0xdc6f40['substr'](0x1):_0xdc6f40);return _0x3ab691['fpbFB'](getTagsFromTitle,_0xfedafe[_0x2b2622(0x225)]);},exports[a44_0x5378e9(0x206)]=async()=>{const _0x575a59=a44_0x5378e9,_0x17407c={'bNAdR':function(_0x52e5bf,_0x14c2a3){return _0x52e5bf-_0x14c2a3;},'rvYjm':_0x575a59(0x226),'xwNej':_0x575a59(0x23f),'CZNHf':_0x575a59(0x215),'MpWtc':_0x575a59(0x253),'jVVpI':_0x575a59(0x223),'DKSeo':_0x575a59(0x27a),'iIfja':_0x575a59(0x1f9),'pZVYC':_0x575a59(0x201),'YNrVq':_0x575a59(0x269),'uibYE':_0x575a59(0x216),'qzDRm':'afterTestHook','ZnCAB':_0x575a59(0x246),'PZUsU':_0x575a59(0x26d),'OnGoW':'sendSessionDetails','hovCK':'setupBrowserDetails','sVVpM':'requestSpyCallback','Fsljf':_0x575a59(0x258),'Qvdtv':function(_0x3903b6,_0x4563b5){return _0x3903b6(_0x4563b5);},'xlbqM':function(_0x148c3a,_0x575ba6){return _0x148c3a/_0x575ba6;},'ZqZLx':function(_0x28d429,_0x38dbd9){return _0x28d429+_0x38dbd9;},'AIieS':function(_0x4f25e1,_0x44df34){return _0x4f25e1*_0x44df34;},'OdTBN':function(_0x1a47c5,_0x3ab3fa){return _0x1a47c5+_0x3ab3fa;}};if(!process['env']['START_TIME'])return;const _0x295cf5=_0x17407c[_0x575a59(0x238)](new Date()['getTime'](),new Date(process[_0x575a59(0x275)][_0x575a59(0x286)])[_0x575a59(0x264)]()),_0x25829a=await PerformanceTester['stopAndGenerate'](_0x17407c[_0x575a59(0x23b)],[_0x17407c['xwNej'],_0x17407c['CZNHf'],_0x17407c[_0x575a59(0x262)],_0x17407c[_0x575a59(0x1fd)],_0x17407c[_0x575a59(0x267)],_0x17407c[_0x575a59(0x27f)]]),_0xd91787=fs[_0x575a59(0x283)]('.'),_0x17d5d8=_0xd91787[_0x575a59(0x273)](_0x2eb05d=>_0x2eb05d[_0x575a59(0x22c)](_0x575a59(0x271))&&_0x2eb05d[_0x575a59(0x255)](_0x575a59(0x290))),_0x15ae74=await PerformanceTester[_0x575a59(0x248)](_0x17d5d8,[_0x17407c['pZVYC'],_0x17407c[_0x575a59(0x26f)],_0x17407c[_0x575a59(0x23c)],_0x17407c[_0x575a59(0x22e)],_0x17407c['ZnCAB'],_0x17407c['PZUsU'],_0x17407c['OnGoW'],_0x17407c[_0x575a59(0x22d)],_0x17407c[_0x575a59(0x26e)],_0x17407c[_0x575a59(0x268)]]);_0x17407c['Qvdtv'](debug,_0x575a59(0x254)+_0x17407c[_0x575a59(0x1ea)](_0x295cf5,0x3e8)+'\x20s'),_0x17407c[_0x575a59(0x21a)](debug,_0x575a59(0x221)+_0x17407c[_0x575a59(0x21d)](_0x15ae74,_0x25829a)),_0x17407c[_0x575a59(0x21a)](debug,_0x575a59(0x227)+_0x17407c[_0x575a59(0x230)](_0x17407c[_0x575a59(0x1ea)](_0x17407c['OdTBN'](_0x15ae74,_0x25829a),_0x295cf5),0x64));},exports[a44_0x5378e9(0x256)]=()=>{const _0x1ddecf=a44_0x5378e9,_0x52c1fd={'IUXwb':function(_0x355106,_0x48b57d){return _0x355106(_0x48b57d);},'GVFTe':function(_0x339f99,_0x3eaa1f){return _0x339f99>=_0x3eaa1f;},'Tomcu':'1.38.0','oicCL':_0x1ddecf(0x28e),'ZpGec':'playwright','qnfWe':_0x1ddecf(0x249),'ZcaKB':_0x1ddecf(0x257),'Kooqh':_0x1ddecf(0x21f),'hykWO':_0x1ddecf(0x224)},_0x1f69dd=_0x52c1fd[_0x1ddecf(0x1ff)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x52c1fd[_0x1ddecf(0x222)](helper[_0x1ddecf(0x27d)](_0x1f69dd,_0x52c1fd[_0x1ddecf(0x289)]),0x0))return[_0x52c1fd['oicCL'],_0x52c1fd['ZpGec']];if(_0x52c1fd[_0x1ddecf(0x222)](helper[_0x1ddecf(0x27d)](_0x1f69dd,_0x52c1fd['qnfWe']),0x0))return[_0x52c1fd[_0x1ddecf(0x211)],_0x52c1fd['Kooqh']];return[_0x52c1fd[_0x1ddecf(0x285)],_0x52c1fd[_0x1ddecf(0x1eb)]];},exports[a44_0x5378e9(0x204)]=()=>{const _0xf79d61=a44_0x5378e9,_0x5a1c43={'BMVrz':function(_0x49df29,_0x1be730){return _0x49df29(_0x1be730);},'ttzBv':function(_0x257d6b,_0x30f10c){return _0x257d6b>=_0x30f10c;},'rUYDJ':'1.38.0','ErVck':_0xf79d61(0x24d),'sYvvQ':_0xf79d61(0x210),'FWWKV':_0xf79d61(0x1fa),'tjcZZ':_0xf79d61(0x21f)},_0xb6dc10=_0x5a1c43['BMVrz'](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x5a1c43[_0xf79d61(0x200)](helper[_0xf79d61(0x27d)](_0xb6dc10,_0x5a1c43[_0xf79d61(0x217)]),0x0))return[_0x5a1c43[_0xf79d61(0x1fc)],_0x5a1c43['sYvvQ']];return[_0x5a1c43['FWWKV'],_0x5a1c43['tjcZZ']];},exports[a44_0x5378e9(0x287)]=()=>{const _0x2e8b91=a44_0x5378e9,_0xe9a0d={};_0xe9a0d[_0x2e8b91(0x208)]='runner/loadUtils.js';const _0x24f7df=_0xe9a0d;return helper[_0x2e8b91(0x26b)](_0x24f7df[_0x2e8b91(0x208)]);},exports[a44_0x5378e9(0x1f7)]=()=>{const _0x4b6305=a44_0x5378e9,_0x52df16={};_0x52df16[_0x4b6305(0x213)]=_0x4b6305(0x20f);const _0x256a73=_0x52df16;return helper['getPlaywrightLibPath'](_0x256a73[_0x4b6305(0x213)]);},exports[a44_0x5378e9(0x21e)]=()=>{const _0x51a562=a44_0x5378e9,_0x4f4edc={'LgkvX':function(_0x2061b5,_0x489ef7){return _0x2061b5(_0x489ef7);},'VqxFx':function(_0x8668ae,_0xacfa15){return _0x8668ae>=_0xacfa15;},'WpbRf':_0x51a562(0x28d),'zPBVe':_0x51a562(0x212),'SilVB':'common','hdZdn':_0x51a562(0x260),'VPIxP':_0x51a562(0x1ec)},_0x1692cf=_0x4f4edc[_0x51a562(0x22a)](getFrameworkVersion,FRAMEWORKS[_0x51a562(0x1fb)]);if(_0x4f4edc[_0x51a562(0x280)](helper[_0x51a562(0x27d)](_0x1692cf,_0x4f4edc[_0x51a562(0x245)]),0x0))return path[_0x51a562(0x263)](_0x4f4edc[_0x51a562(0x259)],_0x4f4edc[_0x51a562(0x20a)],_0x4f4edc[_0x51a562(0x278)]);return path[_0x51a562(0x263)](_0x4f4edc['VPIxP'],_0x4f4edc[_0x51a562(0x259)],_0x4f4edc[_0x51a562(0x20a)],_0x4f4edc[_0x51a562(0x278)]);},exports['getFailureData']=(_0x3efb56,{test_run_uuid:_0x460096})=>{const _0x151594=a44_0x5378e9,_0x30322b={'IEaRF':'ERROR','kSnaQ':_0x151594(0x23d),'mKlax':function(_0x1d541a,_0x2d80ea){return _0x1d541a<=_0x2d80ea;},'QLZxI':function(_0x2b8000,_0x5999dd){return _0x2b8000(_0x5999dd);},'XFeKB':'Test\x20timeout\x20of','ywPpk':function(_0xb039b3,_0x2ca147){return _0xb039b3>=_0x2ca147;},'EsLqj':_0x151594(0x27e),'LhGTV':function(_0x31f93a,_0x3a9acf){return _0x31f93a>_0x3a9acf;},'wWcol':function(_0x38d177,_0x1b5b3c){return _0x38d177(_0x1b5b3c);},'Ffgky':function(_0x50a663,_0x55c681,_0x407944){return _0x50a663(_0x55c681,_0x407944);},'xakDp':_0x151594(0x1ec)};if(!_0x3efb56||_0x30322b[_0x151594(0x25d)](_0x3efb56['length'],0x0))return[];const _0x14be26=_0x30322b['QLZxI'](removeAnsiColors,_0x3efb56[0x0][_0x151594(0x24b)]);if(_0x14be26[_0x151594(0x22c)](_0x30322b['XFeKB'])){const _0x108e27=_0x3efb56[0x0],_0xd7fb44=_0x30322b[_0x151594(0x20b)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if((!_0x108e27[_0x151594(0x27b)]||_0x30322b[_0x151594(0x205)](_0xd7fb44,_0x30322b['EsLqj']))&&_0x30322b[_0x151594(0x291)](_0x3efb56[_0x151594(0x284)],0x1))return{'failureData':[{'backtrace':[_0x14be26,_0x30322b['wWcol'](removeAnsiColors,_0x3efb56[0x1]['stack'])]}],'logs':_0x3efb56[_0x151594(0x203)](0x2)[_0x151594(0x25b)](_0x2df2ae=>{const _0x40a593=_0x151594;return{'timestamp':new Date()[_0x40a593(0x282)](),'level':_0x30322b[_0x40a593(0x22b)],'message':''+_0x2df2ae[_0x40a593(0x24b)],'kind':_0x30322b[_0x40a593(0x20c)],'http_response':{},'test_run_uuid':_0x460096};})};}return{'failureData':_0x30322b['Ffgky'](failureData,_0x3efb56,_0x30322b['xakDp']),'logs':[]};},exports[a44_0x5378e9(0x244)]=_0x1768c2=>{const _0x574311=a44_0x5378e9,_0x4e4adc={};_0x4e4adc[_0x574311(0x28a)]=function(_0x390e4c,_0x4137ed){return _0x390e4c!==_0x4137ed;},_0x4e4adc[_0x574311(0x25c)]='.zip',_0x4e4adc[_0x574311(0x1f1)]=function(_0x18fff8,_0x1edad2){return _0x18fff8>_0x1edad2;};const _0x3a9d46=_0x4e4adc;if(_0x1768c2&&fs[_0x574311(0x229)](_0x1768c2)){if(_0x3a9d46[_0x574311(0x28a)](path[_0x574311(0x202)](_0x1768c2)[_0x574311(0x252)](),_0x3a9d46[_0x574311(0x25c)]))return logger[_0x574311(0x239)](_0x574311(0x27c)+_0x1768c2),![];const _0x2b7c60=fs[_0x574311(0x1f3)](_0x1768c2)[_0x574311(0x272)];if(_0x3a9d46['RKqbT'](_0x2b7c60,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x574311(0x239)]('Trace\x20file\x20size\x20exceeds\x20100MB:\x20'+_0x2b7c60+_0x574311(0x243)),![];return!![];}return![];},exports[a44_0x5378e9(0x25a)]=(_0xba8aa5,_0x162426)=>{const _0x433b58=a44_0x5378e9,_0x4951a9={};_0x4951a9[_0x433b58(0x277)]=_0x433b58(0x23e);const _0x3b802c=_0x4951a9;logger[_0x433b58(0x1ed)]('Searching\x20for\x20key:\x20'+_0x162426);if(_0xba8aa5&&_0xba8aa5[_0x433b58(0x1fe)]){const _0x17240c=_0xba8aa5['attachments'][_0x433b58(0x1ee)](_0x25d354=>_0x25d354[_0x433b58(0x251)]===_0x433b58(0x270));if(_0x17240c)return logger[_0x433b58(0x1ed)](_0x433b58(0x261)+_0x162426+'\x20in\x20attachments'),_0x17240c[_0x162426];}else{if(_0xba8aa5&&Object[_0x433b58(0x232)][_0x433b58(0x220)][_0x433b58(0x288)](_0xba8aa5)[_0x433b58(0x24f)](_0x3b802c[_0x433b58(0x277)]))for(const _0x48499b of _0xba8aa5){if(_0x48499b[_0x162426])return logger[_0x433b58(0x1ed)](_0x433b58(0x261)+_0x162426+_0x433b58(0x235)),_0x48499b[_0x162426];}};return'';},exports[a44_0x5378e9(0x26c)]=async(_0x3c4724,_0x5913b9)=>{const _0x5940f7=a44_0x5378e9,_0x191e74={};_0x191e74[_0x5940f7(0x21c)]=_0x5940f7(0x20e),_0x191e74[_0x5940f7(0x209)]='TEST_ATTACHMENT',_0x191e74[_0x5940f7(0x265)]='sendTraceZip',_0x191e74['LBDRM']='Error\x20in\x20sending\x20trace\x20file:\x20%s';const _0x16a3fe=_0x191e74;try{const _0x55b9cf={'event_type':_0x16a3fe['kOjGx'],'logs':[{'data':_0x3c4724?fs['createReadStream'](_0x3c4724):'','test_run_uuid':_0x5913b9,'kind':_0x16a3fe['ZprlM'],'fileName':_0x3c4724?path['basename'](_0x3c4724):''}]};return await SessionHandler[_0x5940f7(0x247)](_0x55b9cf,0x0,_0x16a3fe[_0x5940f7(0x265)]);}catch(_0x3e5b2a){logger[_0x5940f7(0x239)](util['format'](_0x16a3fe['LBDRM'],_0x3e5b2a));}},exports[a44_0x5378e9(0x1f6)]=async(_0x3e928d,_0x16e3c2)=>{const _0x26df68=a44_0x5378e9,_0x1e2998={'IFfMj':'path','FpgxG':_0x26df68(0x1e8),'ralzY':function(_0x43dad7){return _0x43dad7();},'BuShT':_0x26df68(0x242)};try{logger['debug'](_0x26df68(0x218)+_0x16e3c2);let _0x45378c=await exports['findNestedKey'](_0x3e928d,_0x1e2998['IFfMj']);if(exports[_0x26df68(0x244)](_0x45378c)){logger[_0x26df68(0x1ed)](_0x1e2998[_0x26df68(0x233)]),_0x45378c=path[_0x26df68(0x1f8)](_0x45378c);const _0x3482a4={};_0x3482a4[_0x26df68(0x1ef)]=_0x16e3c2,_0x3482a4[_0x26df68(0x1f4)]=_0x45378c;const _0x40675f=_0x3482a4;_0x1e2998['ralzY'](getBrowserstackCLI)[_0x26df68(0x1e7)]()[_0x26df68(0x250)]()?TestInfo['addTraceFilePath'](_0x40675f):TestDetails[_0x26df68(0x25f)](_0x40675f);};}catch(_0x24cdf8){logger['error'](util[_0x26df68(0x234)](_0x1e2998[_0x26df68(0x237)],_0x24cdf8));}},exports['getTestIdentifier']=_0x46d98d=>{const _0x14c7fe=a44_0x5378e9,_0x43bfb3={};_0x43bfb3[_0x14c7fe(0x274)]=function(_0x3bfdc8,_0x2075cd){return _0x3bfdc8+_0x2075cd;};const _0xb8024e=_0x43bfb3;return _0xb8024e['QwyhR'](_0xb8024e[_0x14c7fe(0x274)](_0x46d98d[_0x14c7fe(0x219)],'-'),_0x46d98d['id']);},exports['getTestRunIdentifier']=(_0x54281e,_0xe395c5)=>{const _0x59d0f1=a44_0x5378e9,_0x566c92={};_0x566c92['rychw']=function(_0x4bc7fd,_0x1fddaf){return _0x4bc7fd+_0x1fddaf;};const _0x421b11=_0x566c92;return _0x421b11[_0x59d0f1(0x1f0)](_0x421b11['rychw'](_0x54281e['id'],'-'),_0xe395c5);};