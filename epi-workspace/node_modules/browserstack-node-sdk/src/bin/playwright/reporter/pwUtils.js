const a40_0x584fa0=a40_0x4893;(function(_0x6c66b3,_0x3804d8){const _0x315997=a40_0x4893,_0x7d17da=_0x6c66b3();while(!![]){try{const _0x4c5b29=parseInt(_0x315997(0x22a))/0x1*(parseInt(_0x315997(0x216))/0x2)+-parseInt(_0x315997(0x258))/0x3+parseInt(_0x315997(0x222))/0x4+-parseInt(_0x315997(0x254))/0x5+-parseInt(_0x315997(0x1da))/0x6+parseInt(_0x315997(0x239))/0x7+-parseInt(_0x315997(0x1e8))/0x8*(parseInt(_0x315997(0x223))/0x9);if(_0x4c5b29===_0x3804d8)break;else _0x7d17da['push'](_0x7d17da['shift']());}catch(_0x55593d){_0x7d17da['push'](_0x7d17da['shift']());}}}(a40_0x56b8,0x5ccf4));function a40_0x4893(_0x145706,_0x21b158){const _0x56b80d=a40_0x56b8();return a40_0x4893=function(_0x4893e8,_0x2d0c51){_0x4893e8=_0x4893e8-0x1ce;let _0x457ddb=_0x56b80d[_0x4893e8];return _0x457ddb;},a40_0x4893(_0x145706,_0x21b158);}function a40_0x56b8(){const _0x2e52fe=['onwTC','1411874tRgnbw','zAfbz','find','mbRXp','xfTBv','sygfW','SZNbj','test','getLoadUtilsPath','tFoBU','runner/projectUtils.js','wiujs','2410840gKZAJm','38835reHppa','getTestTags','Found\x20key:\x20','getProjectUtilsPath','validateFilePath','BJqXI','\x20bytes','1bWTCdC','rqwfI','calculatePerformance','Error\x20in\x20sending\x20trace\x20file:\x20%s','wZvLv','tags','yCgzd','OsdlM','START_TIME','LogCreated','1.38.0','FEauF','BaDvY','../../../helpers/test-observability/utils','HYavd','1883469AUVSmy','AnBZu','ICXnW','doo11ySync','../../../helpers/performance/performance-tester','ZpbFM','cTbsk','eRQls','BxVJv','Trace\x20enabled','afterWorkerHook','VPPNp','calculateTimesFromMultipleFiles','lHWVV','1.35.0','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','join','jtpwW','vvcrk','sendEventData','length','includes','Searching\x20for\x20key:\x20','onStepBegin','anxKo','LQeRF','pRKKJ','282500bxceqx','lib','cXynx','fjXSb','1926354wNgEvR','.zip','getPlaywrightLibPath','sirmc','call','extname','playwright/lib/common/configLoader.js','@playwright/test/lib/common/transform.js','wIXto','OSvJp','slice','txFVb','toISOString','sendSessionDetails','@playwright/test','../../../helpers/test-observability/constants','onStepEnd','testUId','xnPcZ','onTestBegin','lmdNk','./test-details','util','compareVersions','.json','JPBcm','NfMYf','issZb','playwright/lib/transform/transform.js','DqZAH','process.js','name','error','statSync','LPbqI','../../../helpers/test-observability/sessionHandler','Total\x20duration\x20for\x20whole\x20build\x20is\x20','\x20in\x20arguments','getTransformPath','format','RHMWc','runner/loadUtils.js','896598spTRTD','uploadTraceZip','\x20in\x20attachments','BsCfh','stopAndGenerate','winstonLogger','CPXje','onBegin','VRgbN','toString','getForkProcessPath','iHQHg','TEST_LOG','../../../helpers/logger','648wKfEgz','createReadStream','attachments','match','common','XdWXB','debug','filter','stack','sendTraceZip','ERROR','WBNMH','path','existsSync','beforeTestHook','afterTestHook','JQBHs','getTime','sendTestLog','lSeEd','size','PLAYWRIGHT','Test\x20timeout\x20of','processPageScreenshot','getFailureData','aivmP','map','JKlpT','pYUAp','UmzDd','findNestedKey','readdirSync','DtLrY','getConfigLoaderPath','substr','qXLFw','addTraceFilePath','mMSWo','rIlLR','env','AMMIO','startsWith','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','OYhbq','WumkH'];a40_0x56b8=function(){return _0x2e52fe;};return a40_0x56b8();}const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a40_0x584fa0(0x237)),PerformanceTester=require(a40_0x584fa0(0x23d)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a40_0x584fa0(0x267)),helper=require('../../../helpers/helper'),path=require('path'),logger=require(a40_0x584fa0(0x1e7))[a40_0x584fa0(0x1df)],SessionHandler=require(a40_0x584fa0(0x1d3)),TestDetails=require(a40_0x584fa0(0x26d)),util=require(a40_0x584fa0(0x26e)),getTagsFromTitle=_0x45bae9=>{const _0x12e2c6=a40_0x584fa0;return _0x45bae9[_0x12e2c6(0x1eb)](/@(\w+)/g)?.[_0x12e2c6(0x202)](_0x52ce94=>_0x52ce94[_0x12e2c6(0x262)](0x1))||[];};exports[a40_0x584fa0(0x224)]=_0x454aa2=>{const _0x45c498=a40_0x584fa0,_0x59e241={'WBNMH':function(_0xfb7f1e,_0x3ce2f0){return _0xfb7f1e(_0x3ce2f0);}};if(_0x454aa2[_0x45c498(0x22f)])return _0x454aa2['tags'][_0x45c498(0x202)](_0x1c10c1=>_0x1c10c1[_0x45c498(0x211)]('@')?_0x1c10c1[_0x45c498(0x20a)](0x1):_0x1c10c1);return _0x59e241[_0x45c498(0x1f3)](getTagsFromTitle,_0x454aa2['title']);},exports[a40_0x584fa0(0x22c)]=async()=>{const _0x571906=a40_0x584fa0,_0x38f876={'xfTBv':function(_0x512322,_0x16081f){return _0x512322-_0x16081f;},'LQeRF':'performance-reporter.html','cTbsk':_0x571906(0x1e1),'OSvJp':'endSession','JPBcm':_0x571906(0x26b),'SZNbj':'onTestEnd','CPXje':_0x571906(0x250),'IhYWC':_0x571906(0x268),'eRQls':'beforeWorkerHook','rIlLR':_0x571906(0x243),'lSeEd':_0x571906(0x1f6),'akZMS':_0x571906(0x1f7),'rqwfI':_0x571906(0x23c),'LPbqI':_0x571906(0x1ff),'VPPNp':_0x571906(0x265),'cXynx':'setupBrowserDetails','zAfbz':'requestSpyCallback','pYUAp':_0x571906(0x1fa),'UmzDd':function(_0x58e020,_0x50877a){return _0x58e020(_0x50877a);},'lmdNk':function(_0x1952a1,_0x36f518){return _0x1952a1/_0x36f518;},'BJqXI':function(_0x35b023,_0x5eb0fc){return _0x35b023+_0x5eb0fc;},'AnBZu':function(_0x5ebcd6,_0x74ccc0){return _0x5ebcd6(_0x74ccc0);},'tFoBU':function(_0x2f0c35,_0x2a0b16){return _0x2f0c35*_0x2a0b16;},'RHMWc':function(_0x24d222,_0x57639e){return _0x24d222/_0x57639e;}};if(!process[_0x571906(0x20f)]['START_TIME'])return;const _0x2ae200=_0x38f876[_0x571906(0x21a)](new Date()[_0x571906(0x1f9)](),new Date(process['env'][_0x571906(0x232)])[_0x571906(0x1f9)]()),_0x156d96=await PerformanceTester[_0x571906(0x1de)](_0x38f876[_0x571906(0x252)],[_0x38f876[_0x571906(0x23f)],_0x38f876[_0x571906(0x261)],_0x38f876[_0x571906(0x271)],_0x38f876[_0x571906(0x21c)],_0x38f876[_0x571906(0x1e0)],_0x38f876['IhYWC']]),_0x2b8b8e=fs[_0x571906(0x207)]('.'),_0x59cf57=_0x2b8b8e[_0x571906(0x1ef)](_0x38a8c6=>_0x38a8c6[_0x571906(0x211)]('performance-report-worker-')&&_0x38a8c6['endsWith'](_0x571906(0x270))),_0x4719c0=await PerformanceTester[_0x571906(0x245)](_0x59cf57,[_0x38f876[_0x571906(0x240)],_0x38f876[_0x571906(0x20e)],_0x38f876[_0x571906(0x1fb)],_0x38f876['akZMS'],_0x38f876[_0x571906(0x22b)],_0x38f876[_0x571906(0x1d2)],_0x38f876[_0x571906(0x244)],_0x38f876[_0x571906(0x256)],_0x38f876[_0x571906(0x217)],_0x38f876[_0x571906(0x204)]]);_0x38f876['UmzDd'](debug,_0x571906(0x1d4)+_0x38f876[_0x571906(0x26c)](_0x2ae200,0x3e8)+'\x20s'),_0x38f876[_0x571906(0x205)](debug,_0x571906(0x212)+_0x38f876['BJqXI'](_0x4719c0,_0x156d96)),_0x38f876[_0x571906(0x23a)](debug,'Percentage\x20of\x20increased\x20time\x20is\x20'+_0x38f876[_0x571906(0x21f)](_0x38f876[_0x571906(0x1d8)](_0x38f876[_0x571906(0x228)](_0x4719c0,_0x156d96),_0x2ae200),0x64));},exports[a40_0x584fa0(0x1d6)]=()=>{const _0x3b78b6=a40_0x584fa0,_0x280d34={'BaDvY':function(_0x5b7905,_0x292a90){return _0x5b7905(_0x292a90);},'VRgbN':function(_0x374229,_0x377e59){return _0x374229>=_0x377e59;},'wiujs':'1.38.0','Mmaik':_0x3b78b6(0x274),'onwTC':'playwright','jtpwW':_0x3b78b6(0x247),'issZb':'@playwright/test/lib/transform/transform.js','lHWVV':_0x3b78b6(0x266),'ICXnW':_0x3b78b6(0x25f)},_0x53dce9=_0x280d34[_0x3b78b6(0x236)](getFrameworkVersion,FRAMEWORKS[_0x3b78b6(0x1fd)]);if(_0x280d34[_0x3b78b6(0x1e2)](helper[_0x3b78b6(0x26f)](_0x53dce9,_0x280d34[_0x3b78b6(0x221)]),0x0))return[_0x280d34['Mmaik'],_0x280d34[_0x3b78b6(0x215)]];if(_0x280d34[_0x3b78b6(0x1e2)](helper['compareVersions'](_0x53dce9,_0x280d34[_0x3b78b6(0x24a)]),0x0))return[_0x280d34[_0x3b78b6(0x273)],_0x280d34[_0x3b78b6(0x246)]];return[_0x280d34[_0x3b78b6(0x23b)],_0x280d34[_0x3b78b6(0x246)]];},exports[a40_0x584fa0(0x209)]=()=>{const _0x25ac55=a40_0x584fa0,_0x137887={'mMSWo':function(_0xa1aa5c,_0x398311){return _0xa1aa5c(_0x398311);},'uGgaN':function(_0x275318,_0x4a7492){return _0x275318>=_0x4a7492;},'JQBHs':_0x25ac55(0x234),'mbRXp':_0x25ac55(0x25e),'pRKKJ':'playwright','zEdHl':'@playwright/test/lib/common/configLoader.js','WumkH':_0x25ac55(0x266)},_0x1ac802=_0x137887[_0x25ac55(0x20d)](getFrameworkVersion,FRAMEWORKS[_0x25ac55(0x1fd)]);if(_0x137887['uGgaN'](helper['compareVersions'](_0x1ac802,_0x137887[_0x25ac55(0x1f8)]),0x0))return[_0x137887[_0x25ac55(0x219)],_0x137887[_0x25ac55(0x253)]];return[_0x137887['zEdHl'],_0x137887[_0x25ac55(0x214)]];},exports[a40_0x584fa0(0x21e)]=()=>{const _0x1931e3=a40_0x584fa0,_0x22d312={};_0x22d312[_0x1931e3(0x23e)]=_0x1931e3(0x1d9);const _0x3648a4=_0x22d312;return helper['getPlaywrightLibPath'](_0x3648a4[_0x1931e3(0x23e)]);},exports[a40_0x584fa0(0x226)]=()=>{const _0x20bed3=a40_0x584fa0,_0x1f1ee1={};_0x1f1ee1[_0x20bed3(0x201)]=_0x20bed3(0x220);const _0x5a9c7b=_0x1f1ee1;return helper[_0x20bed3(0x25a)](_0x5a9c7b['aivmP']);},exports[a40_0x584fa0(0x1e4)]=()=>{const _0x208a45=a40_0x584fa0,_0x5352a3={'AMMIO':function(_0x4b1f73,_0x2bfd6d){return _0x4b1f73(_0x2bfd6d);},'XdWXB':function(_0x1fe0e1,_0x52c35e){return _0x1fe0e1>=_0x52c35e;},'EHPeX':_0x208a45(0x234),'wZvLv':_0x208a45(0x255),'qXLFw':_0x208a45(0x1ec),'BxVJv':_0x208a45(0x1ce),'txFVb':_0x208a45(0x21d)},_0x40c9a5=_0x5352a3[_0x208a45(0x210)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x5352a3[_0x208a45(0x1ed)](helper[_0x208a45(0x26f)](_0x40c9a5,_0x5352a3['EHPeX']),0x0))return path[_0x208a45(0x249)](_0x5352a3[_0x208a45(0x22e)],_0x5352a3[_0x208a45(0x20b)],_0x5352a3[_0x208a45(0x241)]);return path[_0x208a45(0x249)](_0x5352a3[_0x208a45(0x263)],_0x5352a3[_0x208a45(0x22e)],_0x5352a3[_0x208a45(0x20b)],_0x5352a3[_0x208a45(0x241)]);},exports[a40_0x584fa0(0x200)]=(_0x1b892c,{test_run_uuid:_0xfa74ed})=>{const _0x240a28=a40_0x584fa0,_0x327a0c={'plJfr':_0x240a28(0x1f2),'yCgzd':_0x240a28(0x1e6),'DtLrY':function(_0xfee67c,_0x293cbd){return _0xfee67c<=_0x293cbd;},'vvcrk':function(_0x50982e,_0x50dd86){return _0x50982e(_0x50dd86);},'FEauF':_0x240a28(0x1fe),'GkKlF':function(_0x5215fb,_0x532dac){return _0x5215fb>=_0x532dac;},'BsCfh':'1.42.0','sygfW':function(_0x2a5b83,_0x45c37b){return _0x2a5b83>_0x45c37b;},'DqZAH':function(_0x40ddec,_0x3cfd14){return _0x40ddec(_0x3cfd14);},'VExxl':function(_0x1b3705,_0x5c4a9d,_0x8f319b){return _0x1b3705(_0x5c4a9d,_0x8f319b);},'OYhbq':_0x240a28(0x21d)};if(!_0x1b892c||_0x327a0c[_0x240a28(0x208)](_0x1b892c[_0x240a28(0x24d)],0x0))return[];const _0x141cb3=_0x327a0c[_0x240a28(0x24b)](removeAnsiColors,_0x1b892c[0x0]['message']);if(_0x141cb3[_0x240a28(0x211)](_0x327a0c[_0x240a28(0x235)])){const _0x4d0137=_0x1b892c[0x0],_0x24801d=_0x327a0c[_0x240a28(0x24b)](getFrameworkVersion,FRAMEWORKS[_0x240a28(0x1fd)]);if((!_0x4d0137[_0x240a28(0x1f0)]||_0x327a0c['GkKlF'](_0x24801d,_0x327a0c[_0x240a28(0x1dd)]))&&_0x327a0c[_0x240a28(0x21b)](_0x1b892c['length'],0x1))return{'failureData':[{'backtrace':[_0x141cb3,_0x327a0c[_0x240a28(0x275)](removeAnsiColors,_0x1b892c[0x1]['stack'])]}],'logs':_0x1b892c['slice'](0x2)[_0x240a28(0x202)](_0x5d69f8=>{const _0x40282e=_0x240a28;return{'timestamp':new Date()[_0x40282e(0x264)](),'level':_0x327a0c['plJfr'],'message':''+_0x5d69f8['message'],'kind':_0x327a0c[_0x40282e(0x230)],'http_response':{},'test_run_uuid':_0xfa74ed};})};}return{'failureData':_0x327a0c['VExxl'](failureData,_0x1b892c,_0x327a0c[_0x240a28(0x213)]),'logs':[]};},exports[a40_0x584fa0(0x227)]=_0x4822a0=>{const _0x6ec480=a40_0x584fa0,_0x3d88b3={};_0x3d88b3[_0x6ec480(0x203)]=function(_0x434321,_0x44981c){return _0x434321!==_0x44981c;},_0x3d88b3[_0x6ec480(0x1e5)]=_0x6ec480(0x259),_0x3d88b3[_0x6ec480(0x251)]=function(_0x18486f,_0x50cfb1){return _0x18486f>_0x50cfb1;};const _0x5e4d41=_0x3d88b3;if(_0x4822a0&&fs[_0x6ec480(0x1f5)](_0x4822a0)){if(_0x5e4d41[_0x6ec480(0x203)](path[_0x6ec480(0x25d)](_0x4822a0)['toLowerCase'](),_0x5e4d41[_0x6ec480(0x1e5)]))return logger[_0x6ec480(0x1d0)](_0x6ec480(0x248)+_0x4822a0),![];const _0x4041b9=fs[_0x6ec480(0x1d1)](_0x4822a0)[_0x6ec480(0x1fc)];if(_0x5e4d41[_0x6ec480(0x251)](_0x4041b9,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger['error']('Trace\x20file\x20size\x20exceeds\x20100MB:\x20'+_0x4041b9+_0x6ec480(0x229)),![];return!![];}return![];},exports[a40_0x584fa0(0x206)]=(_0x364f1e,_0x174769)=>{const _0x4bd19b=a40_0x584fa0,_0x155b13={};_0x155b13['wIXto']='Arguments';const _0x88e8b8=_0x155b13;logger[_0x4bd19b(0x1ee)](_0x4bd19b(0x24f)+_0x174769);if(_0x364f1e[_0x4bd19b(0x1ea)]){const _0x2d0a60=_0x364f1e[_0x4bd19b(0x1ea)][_0x4bd19b(0x218)](_0xaf5f73=>_0xaf5f73[_0x4bd19b(0x1cf)]==='trace');if(_0x2d0a60)return logger[_0x4bd19b(0x1ee)](_0x4bd19b(0x225)+_0x174769+_0x4bd19b(0x1dc)),_0x2d0a60[_0x174769];}else{if(Object['prototype'][_0x4bd19b(0x1e3)][_0x4bd19b(0x25c)](_0x364f1e)[_0x4bd19b(0x24e)](_0x88e8b8[_0x4bd19b(0x260)]))for(const _0x40f5e2 of _0x364f1e){if(_0x40f5e2[_0x174769])return logger[_0x4bd19b(0x1ee)](_0x4bd19b(0x225)+_0x174769+_0x4bd19b(0x1d5)),_0x40f5e2[_0x174769];}}return'';},exports[a40_0x584fa0(0x1db)]=async(_0x1972ed,_0x289cf4)=>{const _0x1e814c=a40_0x584fa0,_0x2ccd2d={};_0x2ccd2d['ArFhY']=_0x1e814c(0x233),_0x2ccd2d[_0x1e814c(0x257)]='TEST_ATTACHMENT',_0x2ccd2d[_0x1e814c(0x26a)]=_0x1e814c(0x1f1),_0x2ccd2d['sirmc']=_0x1e814c(0x22d);const _0x3333cc=_0x2ccd2d;try{const _0x55bbb8={'event_type':_0x3333cc['ArFhY'],'logs':[{'data':_0x1972ed?fs[_0x1e814c(0x1e9)](_0x1972ed):'','test_run_uuid':_0x289cf4,'kind':_0x3333cc[_0x1e814c(0x257)],'fileName':_0x1972ed?path['basename'](_0x1972ed):''}]};return await SessionHandler[_0x1e814c(0x24c)](_0x55bbb8,0x0,_0x3333cc[_0x1e814c(0x26a)]);}catch(_0x55da8f){logger[_0x1e814c(0x1d0)](util[_0x1e814c(0x1d7)](_0x3333cc[_0x1e814c(0x25b)],_0x55da8f));}},exports[a40_0x584fa0(0x1f1)]=async(_0x57b208,_0x335c86)=>{const _0x220e3d=a40_0x584fa0,_0x78a4a2={};_0x78a4a2['OsdlM']=_0x220e3d(0x1f4),_0x78a4a2['NfMYf']=_0x220e3d(0x242),_0x78a4a2[_0x220e3d(0x238)]=_0x220e3d(0x22d);const _0x1f4985=_0x78a4a2;try{logger[_0x220e3d(0x1ee)]('Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20'+_0x335c86);const _0x5bbccb=await exports['findNestedKey'](_0x57b208,_0x1f4985[_0x220e3d(0x231)]);if(exports[_0x220e3d(0x227)](_0x5bbccb)){logger[_0x220e3d(0x1ee)](_0x1f4985[_0x220e3d(0x272)]);const _0x351ecb={};_0x351ecb[_0x220e3d(0x269)]=_0x335c86,_0x351ecb['filePath']=_0x5bbccb;const _0x42811c=_0x351ecb;TestDetails[_0x220e3d(0x20c)](_0x42811c);};}catch(_0x15114d){logger[_0x220e3d(0x1d0)](util[_0x220e3d(0x1d7)](_0x1f4985[_0x220e3d(0x238)],_0x15114d));}};