const a43_0x502078=a43_0x4e5f;function a43_0x4e5f(_0x4b0627,_0x2b4411){const _0x322853=a43_0x3228();return a43_0x4e5f=function(_0x4e5fbb,_0x428527){_0x4e5fbb=_0x4e5fbb-0x163;let _0x4c8d2e=_0x322853[_0x4e5fbb];return _0x4c8d2e;},a43_0x4e5f(_0x4b0627,_0x2b4411);}(function(_0x4b2170,_0x360708){const _0x2e8c3e=a43_0x4e5f,_0x1b0b6c=_0x4b2170();while(!![]){try{const _0x42b92b=-parseInt(_0x2e8c3e(0x1ba))/0x1*(parseInt(_0x2e8c3e(0x1d5))/0x2)+parseInt(_0x2e8c3e(0x1b0))/0x3+-parseInt(_0x2e8c3e(0x189))/0x4+parseInt(_0x2e8c3e(0x1a3))/0x5+parseInt(_0x2e8c3e(0x1cf))/0x6*(-parseInt(_0x2e8c3e(0x1df))/0x7)+parseInt(_0x2e8c3e(0x165))/0x8+parseInt(_0x2e8c3e(0x16f))/0x9*(parseInt(_0x2e8c3e(0x1fc))/0xa);if(_0x42b92b===_0x360708)break;else _0x1b0b6c['push'](_0x1b0b6c['shift']());}catch(_0xb5e26){_0x1b0b6c['push'](_0x1b0b6c['shift']());}}}(a43_0x3228,0xb09e6));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require('../../../helpers/test-observability/utils'),PerformanceTester=require(a43_0x502078(0x1f8)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a43_0x502078(0x1aa)),helper=require(a43_0x502078(0x202)),path=require('path'),logger=require(a43_0x502078(0x16e))[a43_0x502078(0x1d2)],SessionHandler=require(a43_0x502078(0x18d)),TestDetails=require(a43_0x502078(0x1f6)),util=require(a43_0x502078(0x180)),TestInfo=require(a43_0x502078(0x1d9));let BrowserstackCLIInstance=null;function getBrowserstackCLI(){const _0x53629d=a43_0x502078,_0x48ae8f={'taWvz':function(_0x4d6de4,_0x2cc893){return _0x4d6de4(_0x2cc893);},'uiWjf':_0x53629d(0x19f)};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0x48ae8f[_0x53629d(0x1d3)](require,_0x48ae8f[_0x53629d(0x1e1)])),BrowserstackCLIInstance;}const getTagsFromTitle=_0x3a7595=>{const _0x560f24=a43_0x502078;return _0x3a7595[_0x560f24(0x1e9)](/@(\w+)/g)?.[_0x560f24(0x183)](_0x34dc33=>_0x34dc33[_0x560f24(0x1be)](0x1))||[];};function a43_0x3228(){const _0x3dd67a=['filter','playwright','uuXrD','util','fxELp','Percentage\x20of\x20increased\x20time\x20is\x20','map','BccZz','afterTestHook','getProjectUtilsPath','fyCND','length','1139384DfqpSu','onBegin','performance-report-worker-','@playwright/test/lib/common/transform.js','../../../helpers/test-observability/sessionHandler','getTransformPath','resolve','tjOSt','DQLtx','VUjCT','RrtRr','LogCreated','beforeWorkerHook','JjQGV','calculatePerformance','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','hvkqy','XsQqk','basename','calculateTimesFromMultipleFiles','biFas','doo11ySync','../../v2/browserstackCLI','xtNux','onStepEnd','bCiFg','915685rfFyei','ZCykG','ZQNvD','FJBKR','Trace\x20enabled','1.38.0','tags','../../../helpers/test-observability/constants','find','pWKtL','@playwright/test','attachments','Found\x20key:\x20','2813004HevVjU','debug','zzOpF','performance-reporter.html','name','stopAndGenerate','sendTraceZip','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','runner/loadUtils.js','ERROR','59TyXtnP','IdXez','oRpRy','iRbfM','slice','endSession','getTime','statSync','CsDof','error','extname','KXJvz','path','bYuvT','setupBrowserDetails','env','tJTOX','getForkProcessPath','.zip','Total\x20duration\x20for\x20whole\x20build\x20is\x20','bKaVP','7806vQLiPD','findNestedKey','YBApP','winstonLogger','taWvz','TszOC','39104SINAan','idkJJ','NgCRd','getTestTags','../../v2/TestInfo','includes','Arguments','@playwright/test/lib/transform/transform.js','size','wcEXj','413QjdpPD','FSFUW','uiWjf','filePath','format','substr','kaVNa','TEST_ATTACHMENT','AORKk','isRunning','match','playwright/lib/common/configLoader.js','readdirSync','stack','\x20in\x20arguments','testUId','JlsDx','NgiiA','title','afterWorkerHook','1.35.0','common','QMnUs','./test-details','processPageScreenshot','../../../helpers/performance/performance-tester','compareVersions','RZKHb','TEST_LOG','20oaARiV','message','BahUK','RQYCH','sendTestLog','beforeTestHook','../../../helpers/helper','onTestBegin','startsWith','djmzC','MksLC','RXgsj','requestSpyCallback','rOrdx','getInstance','START_TIME','PLAYWRIGHT','GHGAP','runner/projectUtils.js','FOUUX','1.42.0','.json','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','BSWPs','3023088pyHRDU','test','cniyo','createReadStream','eEJSH','ZFnOM','toString','validateFilePath','onStepBegin','../../../helpers/logger','3329604ahlIjM','sendEventData','trace','Searching\x20for\x20key:\x20','getFailureData','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','TBKPR','uploadTraceZip','toISOString','endsWith','process.js','Test\x20timeout\x20of','McHnM','join'];a43_0x3228=function(){return _0x3dd67a;};return a43_0x3228();}exports[a43_0x502078(0x1d8)]=_0x28e992=>{const _0x201661=a43_0x502078,_0x3eaace={'BSWPs':function(_0x3412f5,_0x2da1a1){return _0x3412f5(_0x2da1a1);}};if(_0x28e992[_0x201661(0x1a9)])return _0x28e992[_0x201661(0x1a9)]['map'](_0x516d7e=>_0x516d7e[_0x201661(0x204)]('@')?_0x516d7e[_0x201661(0x1e4)](0x1):_0x516d7e);return _0x3eaace[_0x201661(0x164)](getTagsFromTitle,_0x28e992[_0x201661(0x1f1)]);},exports[a43_0x502078(0x197)]=async()=>{const _0x124fe0=a43_0x502078,_0x4beaa5={'tJTOX':function(_0x1b0326,_0x48ba63){return _0x1b0326-_0x48ba63;},'AbEip':_0x124fe0(0x1b3),'MksLC':_0x124fe0(0x18a),'fyCND':_0x124fe0(0x1bf),'IEVzt':_0x124fe0(0x203),'iRbfM':'onTestEnd','NgiiA':_0x124fe0(0x16d),'ZLwEq':_0x124fe0(0x1a1),'ojMnI':_0x124fe0(0x195),'mfDrI':_0x124fe0(0x1f2),'BahUK':_0x124fe0(0x201),'TszOC':_0x124fe0(0x185),'FSFUW':_0x124fe0(0x19e),'NRRls':_0x124fe0(0x1f7),'GHGAP':'sendSessionDetails','xBrPZ':_0x124fe0(0x1c8),'xtNux':_0x124fe0(0x208),'TBKPR':_0x124fe0(0x200),'bKaVP':function(_0x3d6c52,_0x194005){return _0x3d6c52(_0x194005);},'pWKtL':function(_0x35974d,_0x4be548){return _0x35974d/_0x4be548;},'rXkxr':function(_0xc67d58,_0x5336b9){return _0xc67d58+_0x5336b9;},'hUDIZ':function(_0x37e9b0,_0x4c377c){return _0x37e9b0*_0x4c377c;},'YBApP':function(_0x4399c0,_0x1c8d79){return _0x4399c0+_0x1c8d79;}};if(!process[_0x124fe0(0x1c9)][_0x124fe0(0x20b)])return;const _0x3e38e5=_0x4beaa5[_0x124fe0(0x1ca)](new Date()['getTime'](),new Date(process[_0x124fe0(0x1c9)][_0x124fe0(0x20b)])[_0x124fe0(0x1c0)]()),_0x1297e5=await PerformanceTester[_0x124fe0(0x1b5)](_0x4beaa5['AbEip'],[_0x4beaa5[_0x124fe0(0x206)],_0x4beaa5[_0x124fe0(0x187)],_0x4beaa5['IEVzt'],_0x4beaa5[_0x124fe0(0x1bd)],_0x4beaa5[_0x124fe0(0x1f0)],_0x4beaa5['ZLwEq']]),_0x4ae03a=fs[_0x124fe0(0x1eb)]('.'),_0x4cd25e=_0x4ae03a[_0x124fe0(0x17d)](_0x28b138=>_0x28b138['startsWith'](_0x124fe0(0x18b))&&_0x28b138[_0x124fe0(0x178)](_0x124fe0(0x211))),_0x514b10=await PerformanceTester[_0x124fe0(0x19c)](_0x4cd25e,[_0x4beaa5['ojMnI'],_0x4beaa5['mfDrI'],_0x4beaa5[_0x124fe0(0x1fe)],_0x4beaa5[_0x124fe0(0x1d4)],_0x4beaa5[_0x124fe0(0x1e0)],_0x4beaa5['NRRls'],_0x4beaa5[_0x124fe0(0x20d)],_0x4beaa5['xBrPZ'],_0x4beaa5[_0x124fe0(0x1a0)],_0x4beaa5[_0x124fe0(0x175)]]);_0x4beaa5[_0x124fe0(0x1ce)](debug,_0x124fe0(0x1cd)+_0x4beaa5[_0x124fe0(0x1ac)](_0x3e38e5,0x3e8)+'\x20s'),_0x4beaa5[_0x124fe0(0x1ce)](debug,_0x124fe0(0x163)+_0x4beaa5['rXkxr'](_0x514b10,_0x1297e5)),_0x4beaa5['bKaVP'](debug,_0x124fe0(0x182)+_0x4beaa5['hUDIZ'](_0x4beaa5[_0x124fe0(0x1ac)](_0x4beaa5[_0x124fe0(0x1d1)](_0x514b10,_0x1297e5),_0x3e38e5),0x64));},exports[a43_0x502078(0x18e)]=()=>{const _0x25d166=a43_0x502078,_0x3f8d94={'rZNke':function(_0x155b63,_0x56339e){return _0x155b63(_0x56339e);},'BccZz':function(_0x4153c0,_0x495dde){return _0x4153c0>=_0x495dde;},'eEJSH':_0x25d166(0x1a8),'CsDof':'playwright/lib/transform/transform.js','QMnUs':_0x25d166(0x17e),'DQLtx':function(_0xf7cf11,_0x424105){return _0xf7cf11>=_0x424105;},'JjQGV':_0x25d166(0x1f3),'ZQNvD':_0x25d166(0x1dc),'RrtRr':_0x25d166(0x1ad),'yjUjL':_0x25d166(0x18c)},_0x305ee5=_0x3f8d94['rZNke'](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x3f8d94[_0x25d166(0x184)](helper[_0x25d166(0x1f9)](_0x305ee5,_0x3f8d94[_0x25d166(0x169)]),0x0))return[_0x3f8d94[_0x25d166(0x1c2)],_0x3f8d94[_0x25d166(0x1f5)]];if(_0x3f8d94[_0x25d166(0x191)](helper[_0x25d166(0x1f9)](_0x305ee5,_0x3f8d94[_0x25d166(0x196)]),0x0))return[_0x3f8d94[_0x25d166(0x1a5)],_0x3f8d94[_0x25d166(0x193)]];return[_0x3f8d94['yjUjL'],_0x3f8d94[_0x25d166(0x193)]];},exports['getConfigLoaderPath']=()=>{const _0x494a71=a43_0x502078,_0x46bf24={'XsQqk':function(_0x525e22,_0x29c83d){return _0x525e22(_0x29c83d);},'aFjma':function(_0x461816,_0x45f751){return _0x461816>=_0x45f751;},'McHnM':'1.38.0','aKrww':_0x494a71(0x1ea),'idkJJ':_0x494a71(0x17e),'AORKk':'@playwright/test/lib/common/configLoader.js','ADGCd':_0x494a71(0x1ad)},_0x2e2227=_0x46bf24[_0x494a71(0x19a)](getFrameworkVersion,FRAMEWORKS[_0x494a71(0x20c)]);if(_0x46bf24['aFjma'](helper[_0x494a71(0x1f9)](_0x2e2227,_0x46bf24[_0x494a71(0x17b)]),0x0))return[_0x46bf24['aKrww'],_0x46bf24[_0x494a71(0x1d6)]];return[_0x46bf24[_0x494a71(0x1e7)],_0x46bf24['ADGCd']];},exports['getLoadUtilsPath']=()=>{const _0x43df18=a43_0x502078,_0x55b5e1={};_0x55b5e1[_0x43df18(0x1bc)]=_0x43df18(0x1b8);const _0x518203=_0x55b5e1;return helper['getPlaywrightLibPath'](_0x518203[_0x43df18(0x1bc)]);},exports[a43_0x502078(0x186)]=()=>{const _0x1365db=a43_0x502078,_0x37f22f={};_0x37f22f[_0x1365db(0x1e5)]=_0x1365db(0x20e);const _0x1f48a7=_0x37f22f;return helper['getPlaywrightLibPath'](_0x1f48a7['kaVNa']);},exports[a43_0x502078(0x1cb)]=()=>{const _0xf24306=a43_0x502078,_0x39b878={'tjOSt':function(_0x26b8a0,_0x3d581a){return _0x26b8a0(_0x3d581a);},'NgCRd':function(_0x5575c9,_0x50a28e){return _0x5575c9>=_0x50a28e;},'biFas':_0xf24306(0x1a8),'FOUUX':'lib','IdXez':_0xf24306(0x1f4),'cniyo':_0xf24306(0x179),'Jlatr':'test'},_0x4a4bb8=_0x39b878[_0xf24306(0x190)](getFrameworkVersion,FRAMEWORKS[_0xf24306(0x20c)]);if(_0x39b878[_0xf24306(0x1d7)](helper['compareVersions'](_0x4a4bb8,_0x39b878[_0xf24306(0x19d)]),0x0))return path['join'](_0x39b878[_0xf24306(0x20f)],_0x39b878['IdXez'],_0x39b878[_0xf24306(0x167)]);return path[_0xf24306(0x17c)](_0x39b878['Jlatr'],_0x39b878[_0xf24306(0x20f)],_0x39b878[_0xf24306(0x1bb)],_0x39b878[_0xf24306(0x167)]);},exports[a43_0x502078(0x173)]=(_0x193a0c,{test_run_uuid:_0xe667b4})=>{const _0x173a13=a43_0x502078,_0x27496b={'zzOpF':_0x173a13(0x1b9),'rOrdx':_0x173a13(0x1fb),'VUjCT':function(_0x40dccc,_0x42f83f){return _0x40dccc<=_0x42f83f;},'bCiFg':function(_0x18c370,_0x1e8bb9){return _0x18c370(_0x1e8bb9);},'wcEXj':_0x173a13(0x17a),'JlsDx':function(_0x5eb1f5,_0x4f61be){return _0x5eb1f5>=_0x4f61be;},'GSlGF':_0x173a13(0x210),'vSVTQ':function(_0x47ab90,_0x1dd676){return _0x47ab90>_0x1dd676;},'beVbH':function(_0x3d7789,_0x3e4513,_0xc4c7bb){return _0x3d7789(_0x3e4513,_0xc4c7bb);},'RZKHb':_0x173a13(0x166)};if(!_0x193a0c||_0x27496b[_0x173a13(0x192)](_0x193a0c[_0x173a13(0x188)],0x0))return[];const _0x2b0f29=_0x27496b[_0x173a13(0x1a2)](removeAnsiColors,_0x193a0c[0x0]['message']);if(_0x2b0f29[_0x173a13(0x204)](_0x27496b[_0x173a13(0x1de)])){const _0x204c65=_0x193a0c[0x0],_0x2b1032=_0x27496b['bCiFg'](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if((!_0x204c65[_0x173a13(0x1ec)]||_0x27496b[_0x173a13(0x1ef)](_0x2b1032,_0x27496b['GSlGF']))&&_0x27496b['vSVTQ'](_0x193a0c[_0x173a13(0x188)],0x1))return{'failureData':[{'backtrace':[_0x2b0f29,_0x27496b[_0x173a13(0x1a2)](removeAnsiColors,_0x193a0c[0x1][_0x173a13(0x1ec)])]}],'logs':_0x193a0c[_0x173a13(0x1be)](0x2)[_0x173a13(0x183)](_0x3ba9a1=>{const _0x2e4423=_0x173a13;return{'timestamp':new Date()[_0x2e4423(0x177)](),'level':_0x27496b[_0x2e4423(0x1b2)],'message':''+_0x3ba9a1[_0x2e4423(0x1fd)],'kind':_0x27496b[_0x2e4423(0x209)],'http_response':{},'test_run_uuid':_0xe667b4};})};}return{'failureData':_0x27496b['beVbH'](failureData,_0x193a0c,_0x27496b[_0x173a13(0x1fa)]),'logs':[]};},exports[a43_0x502078(0x16c)]=_0x19bfb3=>{const _0x203816=a43_0x502078,_0x2a8104={};_0x2a8104[_0x203816(0x17f)]=function(_0x2c3a36,_0x49f975){return _0x2c3a36!==_0x49f975;},_0x2a8104[_0x203816(0x1c7)]=_0x203816(0x1cc),_0x2a8104[_0x203816(0x199)]=function(_0xb2973b,_0xa714){return _0xb2973b>_0xa714;};const _0x2fec5e=_0x2a8104;if(_0x19bfb3&&fs['existsSync'](_0x19bfb3)){if(_0x2fec5e[_0x203816(0x17f)](path[_0x203816(0x1c4)](_0x19bfb3)['toLowerCase'](),_0x2fec5e[_0x203816(0x1c7)]))return logger[_0x203816(0x1c3)](_0x203816(0x198)+_0x19bfb3),![];const _0x2396b9=fs[_0x203816(0x1c1)](_0x19bfb3)[_0x203816(0x1dd)];if(_0x2fec5e['hvkqy'](_0x2396b9,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x203816(0x1c3)](_0x203816(0x174)+_0x2396b9+'\x20bytes'),![];return!![];}return![];},exports['findNestedKey']=(_0x403c71,_0x5df410)=>{const _0x12d73c=a43_0x502078,_0x2ee865={};_0x2ee865[_0x12d73c(0x16a)]=_0x12d73c(0x1db);const _0x16985a=_0x2ee865;logger[_0x12d73c(0x1b1)](_0x12d73c(0x172)+_0x5df410);if(_0x403c71&&_0x403c71['attachments']){const _0x19f626=_0x403c71[_0x12d73c(0x1ae)][_0x12d73c(0x1ab)](_0x30361e=>_0x30361e[_0x12d73c(0x1b4)]===_0x12d73c(0x171));if(_0x19f626)return logger[_0x12d73c(0x1b1)](_0x12d73c(0x1af)+_0x5df410+'\x20in\x20attachments'),_0x19f626[_0x5df410];}else{if(_0x403c71&&Object['prototype'][_0x12d73c(0x16b)]['call'](_0x403c71)[_0x12d73c(0x1da)](_0x16985a[_0x12d73c(0x16a)]))for(const _0x382ce1 of _0x403c71){if(_0x382ce1[_0x5df410])return logger[_0x12d73c(0x1b1)]('Found\x20key:\x20'+_0x5df410+_0x12d73c(0x1ed)),_0x382ce1[_0x5df410];}};return'';},exports[a43_0x502078(0x176)]=async(_0x50ba6b,_0x88fdd3)=>{const _0x5c31d2=a43_0x502078,_0x115040={};_0x115040['ZCykG']=_0x5c31d2(0x194),_0x115040[_0x5c31d2(0x207)]=_0x5c31d2(0x1e6),_0x115040[_0x5c31d2(0x181)]=_0x5c31d2(0x1b6),_0x115040[_0x5c31d2(0x1a6)]='Error\x20in\x20sending\x20trace\x20file:\x20%s';const _0x10ac24=_0x115040;try{const _0x5b30c1={'event_type':_0x10ac24[_0x5c31d2(0x1a4)],'logs':[{'data':_0x50ba6b?fs[_0x5c31d2(0x168)](_0x50ba6b):'','test_run_uuid':_0x88fdd3,'kind':_0x10ac24[_0x5c31d2(0x207)],'fileName':_0x50ba6b?path[_0x5c31d2(0x19b)](_0x50ba6b):''}]};return await SessionHandler[_0x5c31d2(0x170)](_0x5b30c1,0x0,_0x10ac24[_0x5c31d2(0x181)]);}catch(_0x49a37b){logger['error'](util[_0x5c31d2(0x1e3)](_0x10ac24['FJBKR'],_0x49a37b));}},exports[a43_0x502078(0x1b6)]=async(_0x3433b0,_0xbc18e2)=>{const _0x3c995a=a43_0x502078,_0x52cbf1={'RQYCH':_0x3c995a(0x1c6),'KXJvz':_0x3c995a(0x1a7),'vfaMa':function(_0x9b919a){return _0x9b919a();},'djmzC':'Error\x20in\x20sending\x20trace\x20file:\x20%s'};try{logger['debug'](_0x3c995a(0x1b7)+_0xbc18e2);let _0x13c69f=await exports[_0x3c995a(0x1d0)](_0x3433b0,_0x52cbf1[_0x3c995a(0x1ff)]);if(exports['validateFilePath'](_0x13c69f)){logger[_0x3c995a(0x1b1)](_0x52cbf1[_0x3c995a(0x1c5)]),_0x13c69f=path[_0x3c995a(0x18f)](_0x13c69f);const _0x1bb34e={};_0x1bb34e[_0x3c995a(0x1ee)]=_0xbc18e2,_0x1bb34e[_0x3c995a(0x1e2)]=_0x13c69f;const _0x368128=_0x1bb34e;_0x52cbf1['vfaMa'](getBrowserstackCLI)[_0x3c995a(0x20a)]()[_0x3c995a(0x1e8)]()?TestInfo['addTraceFilePath'](_0x368128):TestDetails['addTraceFilePath'](_0x368128);};}catch(_0x346f99){logger[_0x3c995a(0x1c3)](util[_0x3c995a(0x1e3)](_0x52cbf1[_0x3c995a(0x205)],_0x346f99));}};