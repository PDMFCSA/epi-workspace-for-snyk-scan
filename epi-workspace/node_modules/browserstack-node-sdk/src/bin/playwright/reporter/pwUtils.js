const a43_0x28125e=a43_0x36ba;function a43_0x3fae(){const _0x288985=['JwhKA','validateFilePath','1172664tKwEUH','Found\x20key:\x20','\x20in\x20attachments','sendTraceZip','fByYK','SaLie','error','join','HQoMM','PiIuc','jBKLB','1.42.0','prototype','ppOuo','TEST_LOG','compareVersions','length','LzUVC','winstonLogger','getForkProcessPath','fPrsd','Arguments','toLowerCase','../../v2/browserstackCLI','rpPnf','3991203wOFsQS','stopAndGenerate','../../../helpers/test-observability/utils','afterWorkerHook','endsWith','process.js','getTime','toString','kCmrg','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','611502EZHyJQ','message','TSjpO','KMMKQ','QAAIc','Error\x20in\x20sending\x20trace\x20file:\x20%s','kXNBh','phZFu','getConfigLoaderPath','904088FVkIkl','qLEod','beforeWorkerHook','837916oHdDZo','kFKHh','playwright/lib/common/configLoader.js','getLoadUtilsPath','\x20in\x20arguments','MZGTY','yirPe','vvwVb','bVhwQ','XZNtP','DGltw','@playwright/test/lib/common/configLoader.js','name','Total\x20duration\x20for\x20whole\x20build\x20is\x20','calculatePerformance','addTraceFilePath','testUId','rGIRb','wihqs','attachments','IXfsb','AFXMq','yTptt','../../../helpers/helper','requestSpyCallback','getFailureData','Xkzli','afterTestHook','ILzGy','tags','BgEHR','util','../../../helpers/test-observability/constants','path','ySTOx','@playwright/test/lib/common/transform.js','sendTestLog','.zip','kvOeg','doo11ySync','startsWith','1.38.0','oTtsY','PUcDT','jrNiR','calculateTimesFromMultipleFiles','LFRNn','getInstance','ooIin','getPlaywrightLibPath','createReadStream','map','onTestEnd','cGQBr','PSdTI','substr','START_TIME','1.35.0','dooSh','rJVnm','UcLHe','sCWpL','rLbjv','uploadTraceZip','playwright','20WkfnKr','existsSync','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','match','endSession','ciQRb','LogCreated','includes','epHcY','getTransformPath','\x20bytes','title','onStepBegin','sendEventData','performance-reporter.html','../../../helpers/logger','367854NrAgQl','VoRqY','NBqWO','925617HxLRHn','3PCiQiZ','Searching\x20for\x20key:\x20','bkjKD','wLDJR','runner/loadUtils.js','VAqWv','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','onBegin','PLAYWRIGHT','@playwright/test','jjhzW','Percentage\x20of\x20increased\x20time\x20is\x20','./test-details','MfNvp','onTestBegin','trace','extname','sendSessionDetails','stack','filePath','slice','akVZu','ooSQD','debug','format','isRunning','SenIf','Trace\x20enabled','env','test','uJwfZ','toISOString','EXEzI','OkNgG','@playwright/test/lib/transform/transform.js','ZlHrt','nTLSX','find','findNestedKey','setupBrowserDetails','runner/projectUtils.js'];a43_0x3fae=function(){return _0x288985;};return a43_0x3fae();}(function(_0x1dfcfb,_0x39167d){const _0x1aa1b1=a43_0x36ba,_0xea8031=_0x1dfcfb();while(!![]){try{const _0x58bb1a=-parseInt(_0x1aa1b1(0x132))/0x1+-parseInt(_0x1aa1b1(0x190))/0x2+-parseInt(_0x1aa1b1(0x136))/0x3*(-parseInt(_0x1aa1b1(0x18d))/0x4)+parseInt(_0x1aa1b1(0x122))/0x5*(parseInt(_0x1aa1b1(0x184))/0x6)+parseInt(_0x1aa1b1(0x135))/0x7+-parseInt(_0x1aa1b1(0x161))/0x8+parseInt(_0x1aa1b1(0x17a))/0x9;if(_0x58bb1a===_0x39167d)break;else _0xea8031['push'](_0xea8031['shift']());}catch(_0x549688){_0xea8031['push'](_0xea8031['shift']());}}}(a43_0x3fae,0x43619));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a43_0x28125e(0x17c)),PerformanceTester=require('../../../helpers/performance/performance-tester'),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a43_0x28125e(0x101)),helper=require(a43_0x28125e(0xf8)),path=require(a43_0x28125e(0x102)),logger=require(a43_0x28125e(0x131))[a43_0x28125e(0x173)],SessionHandler=require('../../../helpers/test-observability/sessionHandler'),TestDetails=require(a43_0x28125e(0x142)),util=require(a43_0x28125e(0x100)),TestInfo=require('../../v2/TestInfo');let BrowserstackCLIInstance=null;function getBrowserstackCLI(){const _0x559dc3=a43_0x28125e,_0x516429={'fByYK':function(_0x125381,_0x4911c2){return _0x125381(_0x4911c2);},'TSjpO':_0x559dc3(0x178)};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0x516429[_0x559dc3(0x165)](require,_0x516429[_0x559dc3(0x186)])),BrowserstackCLIInstance;}function a43_0x36ba(_0x4353eb,_0x11ded0){const _0x3faec0=a43_0x3fae();return a43_0x36ba=function(_0x36ba2b,_0x22baf9){_0x36ba2b=_0x36ba2b-0xee;let _0x4b6106=_0x3faec0[_0x36ba2b];return _0x4b6106;},a43_0x36ba(_0x4353eb,_0x11ded0);}const getTagsFromTitle=_0x538330=>{const _0x4f57c8=a43_0x28125e;return _0x538330[_0x4f57c8(0x125)](/@(\w+)/g)?.[_0x4f57c8(0x114)](_0x26801e=>_0x26801e[_0x4f57c8(0x14a)](0x1))||[];};exports['getTestTags']=_0x3b3da8=>{const _0x499d8e=a43_0x28125e,_0x3ddffe={'kyaWf':function(_0x4feac6,_0x46256c){return _0x4feac6(_0x46256c);}};if(_0x3b3da8['tags'])return _0x3b3da8[_0x499d8e(0xfe)][_0x499d8e(0x114)](_0x46c900=>_0x46c900['startsWith']('@')?_0x46c900[_0x499d8e(0x118)](0x1):_0x46c900);return _0x3ddffe['kyaWf'](getTagsFromTitle,_0x3b3da8[_0x499d8e(0x12d)]);},exports[a43_0x28125e(0xef)]=async()=>{const _0xcc7db=a43_0x28125e,_0x5b2917={'adNpQ':function(_0xfec9b6,_0x46c551){return _0xfec9b6-_0x46c551;},'fPrsd':_0xcc7db(0x130),'bkjKD':_0xcc7db(0x13d),'ySTOx':_0xcc7db(0x126),'AFXMq':_0xcc7db(0x144),'PdshN':_0xcc7db(0x115),'INeYr':_0xcc7db(0x12e),'kCmrg':'onStepEnd','epHcY':_0xcc7db(0x18f),'Jqzoq':_0xcc7db(0x17d),'NBqWO':'beforeTestHook','rGIRb':_0xcc7db(0xfc),'yirPe':_0xcc7db(0x108),'GrLGi':'processPageScreenshot','xZIxU':_0xcc7db(0x147),'OUPYq':_0xcc7db(0x15d),'MZGTY':_0xcc7db(0xf9),'bVhwQ':_0xcc7db(0x105),'OGdOU':function(_0x358c1a,_0xf40c49){return _0x358c1a(_0xf40c49);},'wihqs':function(_0x35b665,_0x36b357){return _0x35b665/_0x36b357;},'ppOuo':function(_0x4ea60a,_0x3cbf97){return _0x4ea60a(_0x3cbf97);},'YrPAM':function(_0xc42d85,_0x497ac8){return _0xc42d85+_0x497ac8;},'oTtsY':function(_0x34b3d0,_0x5f02a7){return _0x34b3d0(_0x5f02a7);},'wLDJR':function(_0x270221,_0x4af676){return _0x270221*_0x4af676;},'LFRNn':function(_0xf4e01e,_0x4962e7){return _0xf4e01e+_0x4962e7;}};if(!process[_0xcc7db(0x152)]['START_TIME'])return;const _0x3c74a8=_0x5b2917['adNpQ'](new Date()[_0xcc7db(0x180)](),new Date(process['env'][_0xcc7db(0x119)])[_0xcc7db(0x180)]()),_0x1ab71f=await PerformanceTester[_0xcc7db(0x17b)](_0x5b2917[_0xcc7db(0x175)],[_0x5b2917[_0xcc7db(0x138)],_0x5b2917[_0xcc7db(0x103)],_0x5b2917[_0xcc7db(0xf6)],_0x5b2917['PdshN'],_0x5b2917['INeYr'],_0x5b2917[_0xcc7db(0x182)]]),_0x2356d1=fs['readdirSync']('.'),_0x48be81=_0x2356d1['filter'](_0x5d390d=>_0x5d390d[_0xcc7db(0x109)]('performance-report-worker-')&&_0x5d390d[_0xcc7db(0x17e)]('.json')),_0x14c477=await PerformanceTester[_0xcc7db(0x10e)](_0x48be81,[_0x5b2917[_0xcc7db(0x12a)],_0x5b2917['Jqzoq'],_0x5b2917[_0xcc7db(0x134)],_0x5b2917[_0xcc7db(0xf2)],_0x5b2917[_0xcc7db(0x196)],_0x5b2917['GrLGi'],_0x5b2917['xZIxU'],_0x5b2917['OUPYq'],_0x5b2917[_0xcc7db(0x195)],_0x5b2917[_0xcc7db(0x198)]]);_0x5b2917['OGdOU'](debug,_0xcc7db(0xee)+_0x5b2917[_0xcc7db(0xf3)](_0x3c74a8,0x3e8)+'\x20s'),_0x5b2917[_0xcc7db(0x16e)](debug,'Total\x20time\x20taken\x20by\x20O11y\x20is\x20'+_0x5b2917['YrPAM'](_0x14c477,_0x1ab71f)),_0x5b2917[_0xcc7db(0x10b)](debug,_0xcc7db(0x141)+_0x5b2917[_0xcc7db(0x139)](_0x5b2917[_0xcc7db(0xf3)](_0x5b2917[_0xcc7db(0x10f)](_0x14c477,_0x1ab71f),_0x3c74a8),0x64));},exports[a43_0x28125e(0x12b)]=()=>{const _0x5a3a38=a43_0x28125e,_0x38e3ad={'ooSQD':function(_0x268891,_0x43a393){return _0x268891(_0x43a393);},'akVZu':function(_0x2eba19,_0x51b633){return _0x2eba19>=_0x51b633;},'yTptt':_0x5a3a38(0x10a),'VAqWv':'playwright/lib/transform/transform.js','ooIin':_0x5a3a38(0x121),'kvOeg':function(_0x479615,_0x2d27d0){return _0x479615>=_0x2d27d0;},'ciQRb':_0x5a3a38(0x11a),'oiEzY':_0x5a3a38(0x158),'PUcDT':_0x5a3a38(0x13f),'jBKLB':_0x5a3a38(0x104)},_0x36d6ba=_0x38e3ad[_0x5a3a38(0x14c)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);if(_0x38e3ad[_0x5a3a38(0x14b)](helper['compareVersions'](_0x36d6ba,_0x38e3ad[_0x5a3a38(0xf7)]),0x0))return[_0x38e3ad[_0x5a3a38(0x13b)],_0x38e3ad[_0x5a3a38(0x111)]];if(_0x38e3ad[_0x5a3a38(0x107)](helper[_0x5a3a38(0x170)](_0x36d6ba,_0x38e3ad[_0x5a3a38(0x127)]),0x0))return[_0x38e3ad['oiEzY'],_0x38e3ad['PUcDT']];return[_0x38e3ad[_0x5a3a38(0x16b)],_0x38e3ad[_0x5a3a38(0x10c)]];},exports[a43_0x28125e(0x18c)]=()=>{const _0x374166=a43_0x28125e,_0x400ce3={'qLEod':function(_0x3110d8,_0x1e6d9e){return _0x3110d8(_0x1e6d9e);},'nTLSX':function(_0x5623cf,_0x3963b8){return _0x5623cf>=_0x3963b8;},'jDsnS':_0x374166(0x10a),'rLbjv':_0x374166(0x192),'JwhKA':_0x374166(0x121),'DGltw':_0x374166(0x19b),'ILzGy':_0x374166(0x13f)},_0x4d1f85=_0x400ce3[_0x374166(0x18e)](getFrameworkVersion,FRAMEWORKS[_0x374166(0x13e)]);if(_0x400ce3[_0x374166(0x15a)](helper[_0x374166(0x170)](_0x4d1f85,_0x400ce3['jDsnS']),0x0))return[_0x400ce3[_0x374166(0x11f)],_0x400ce3[_0x374166(0x15f)]];return[_0x400ce3[_0x374166(0x19a)],_0x400ce3[_0x374166(0xfd)]];},exports[a43_0x28125e(0x193)]=()=>{const _0x5bc513=a43_0x28125e,_0x18161e={};_0x18161e['UIUWX']=_0x5bc513(0x13a);const _0x4dc6b6=_0x18161e;return helper[_0x5bc513(0x112)](_0x4dc6b6['UIUWX']);},exports['getProjectUtilsPath']=()=>{const _0x3ebf37=a43_0x28125e,_0x557cf6={};_0x557cf6[_0x3ebf37(0x191)]=_0x3ebf37(0x15e);const _0x2d9d6d=_0x557cf6;return helper[_0x3ebf37(0x112)](_0x2d9d6d[_0x3ebf37(0x191)]);},exports[a43_0x28125e(0x174)]=()=>{const _0x177f23=a43_0x28125e,_0x2be61f={'rJVnm':function(_0x3ba158,_0x4b4785){return _0x3ba158(_0x4b4785);},'mlkBV':function(_0xf8294c,_0x49bbe6){return _0xf8294c>=_0x49bbe6;},'QAAIc':_0x177f23(0x10a),'OkNgG':'lib','KMMKQ':'common','Xkzli':_0x177f23(0x17f),'cGQBr':'test'},_0x231eda=_0x2be61f[_0x177f23(0x11c)](getFrameworkVersion,FRAMEWORKS[_0x177f23(0x13e)]);if(_0x2be61f['mlkBV'](helper[_0x177f23(0x170)](_0x231eda,_0x2be61f[_0x177f23(0x188)]),0x0))return path[_0x177f23(0x168)](_0x2be61f[_0x177f23(0x157)],_0x2be61f['KMMKQ'],_0x2be61f[_0x177f23(0xfb)]);return path[_0x177f23(0x168)](_0x2be61f[_0x177f23(0x116)],_0x2be61f['OkNgG'],_0x2be61f[_0x177f23(0x187)],_0x2be61f['Xkzli']);},exports[a43_0x28125e(0xfa)]=(_0x9f8ce1,{test_run_uuid:_0x2df31b})=>{const _0x29d39c=a43_0x28125e,_0x4dc962={'phZFu':'ERROR','EXEzI':_0x29d39c(0x16f),'kXNBh':function(_0x367e21,_0x219890){return _0x367e21<=_0x219890;},'ZlHrt':function(_0x25addf,_0x3dea75){return _0x25addf(_0x3dea75);},'BgEHR':'Test\x20timeout\x20of','jrNiR':function(_0x8a7a50,_0x3f6bd8){return _0x8a7a50(_0x3f6bd8);},'dooSh':function(_0x17d292,_0x5bd26a){return _0x17d292>=_0x5bd26a;},'MfNvp':_0x29d39c(0x16c),'YxMmT':function(_0xab987c,_0x3230b3){return _0xab987c>_0x3230b3;},'PSdTI':function(_0x2df336,_0x3b11a7){return _0x2df336(_0x3b11a7);},'rpPnf':function(_0x50c91d,_0x17f769,_0x2a4857){return _0x50c91d(_0x17f769,_0x2a4857);},'SaLie':_0x29d39c(0x153)};if(!_0x9f8ce1||_0x4dc962[_0x29d39c(0x18a)](_0x9f8ce1[_0x29d39c(0x171)],0x0))return[];const _0x51b411=_0x4dc962[_0x29d39c(0x159)](removeAnsiColors,_0x9f8ce1[0x0]['message']);if(_0x51b411[_0x29d39c(0x109)](_0x4dc962[_0x29d39c(0xff)])){const _0x4a4630=_0x9f8ce1[0x0],_0x14f112=_0x4dc962[_0x29d39c(0x10d)](getFrameworkVersion,FRAMEWORKS[_0x29d39c(0x13e)]);if((!_0x4a4630[_0x29d39c(0x148)]||_0x4dc962[_0x29d39c(0x11b)](_0x14f112,_0x4dc962[_0x29d39c(0x143)]))&&_0x4dc962['YxMmT'](_0x9f8ce1[_0x29d39c(0x171)],0x1))return{'failureData':[{'backtrace':[_0x51b411,_0x4dc962[_0x29d39c(0x117)](removeAnsiColors,_0x9f8ce1[0x1][_0x29d39c(0x148)])]}],'logs':_0x9f8ce1[_0x29d39c(0x14a)](0x2)[_0x29d39c(0x114)](_0x1e5f6b=>{const _0x35c9f5=_0x29d39c;return{'timestamp':new Date()[_0x35c9f5(0x155)](),'level':_0x4dc962[_0x35c9f5(0x18b)],'message':''+_0x1e5f6b[_0x35c9f5(0x185)],'kind':_0x4dc962[_0x35c9f5(0x156)],'http_response':{},'test_run_uuid':_0x2df31b};})};}return{'failureData':_0x4dc962[_0x29d39c(0x179)](failureData,_0x9f8ce1,_0x4dc962[_0x29d39c(0x166)]),'logs':[]};},exports['validateFilePath']=_0x549721=>{const _0x357b1a=a43_0x28125e,_0x561a73={};_0x561a73[_0x357b1a(0x140)]=function(_0x38269e,_0x50c940){return _0x38269e!==_0x50c940;},_0x561a73[_0x357b1a(0x150)]=_0x357b1a(0x106),_0x561a73[_0x357b1a(0x169)]=function(_0x5e3d88,_0x4ff75d){return _0x5e3d88>_0x4ff75d;};const _0x3d596f=_0x561a73;if(_0x549721&&fs[_0x357b1a(0x123)](_0x549721)){if(_0x3d596f[_0x357b1a(0x140)](path[_0x357b1a(0x146)](_0x549721)[_0x357b1a(0x177)](),_0x3d596f['SenIf']))return logger[_0x357b1a(0x167)](_0x357b1a(0x183)+_0x549721),![];const _0x30cccf=fs['statSync'](_0x549721)['size'];if(_0x3d596f['HQoMM'](_0x30cccf,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x357b1a(0x167)](_0x357b1a(0x124)+_0x30cccf+_0x357b1a(0x12c)),![];return!![];}return![];},exports['findNestedKey']=(_0x281749,_0xc5d773)=>{const _0x595191=a43_0x28125e,_0x531fc6={};_0x531fc6[_0x595191(0x199)]=_0x595191(0x176);const _0x14334e=_0x531fc6;logger['debug'](_0x595191(0x137)+_0xc5d773);if(_0x281749&&_0x281749[_0x595191(0xf4)]){const _0x50c609=_0x281749[_0x595191(0xf4)][_0x595191(0x15b)](_0x1c63be=>_0x1c63be[_0x595191(0x19c)]===_0x595191(0x145));if(_0x50c609)return logger['debug'](_0x595191(0x162)+_0xc5d773+_0x595191(0x163)),_0x50c609[_0xc5d773];}else{if(_0x281749&&Object[_0x595191(0x16d)][_0x595191(0x181)]['call'](_0x281749)[_0x595191(0x129)](_0x14334e[_0x595191(0x199)]))for(const _0x1a376f of _0x281749){if(_0x1a376f[_0xc5d773])return logger[_0x595191(0x14d)]('Found\x20key:\x20'+_0xc5d773+_0x595191(0x194)),_0x1a376f[_0xc5d773];}};return'';},exports[a43_0x28125e(0x120)]=async(_0x26f884,_0x432871)=>{const _0xa6f2a6=a43_0x28125e,_0x37d687={};_0x37d687[_0xa6f2a6(0x154)]=_0xa6f2a6(0x128),_0x37d687[_0xa6f2a6(0x197)]='TEST_ATTACHMENT',_0x37d687[_0xa6f2a6(0x172)]=_0xa6f2a6(0x164),_0x37d687[_0xa6f2a6(0x133)]=_0xa6f2a6(0x189);const _0x317a0e=_0x37d687;try{const _0x378be1={'event_type':_0x317a0e[_0xa6f2a6(0x154)],'logs':[{'data':_0x26f884?fs[_0xa6f2a6(0x113)](_0x26f884):'','test_run_uuid':_0x432871,'kind':_0x317a0e[_0xa6f2a6(0x197)],'fileName':_0x26f884?path['basename'](_0x26f884):''}]};return await SessionHandler[_0xa6f2a6(0x12f)](_0x378be1,0x0,_0x317a0e[_0xa6f2a6(0x172)]);}catch(_0x46349e){logger[_0xa6f2a6(0x167)](util['format'](_0x317a0e[_0xa6f2a6(0x133)],_0x46349e));}},exports[a43_0x28125e(0x164)]=async(_0x20c520,_0x554bae)=>{const _0x3c25c7=a43_0x28125e,_0x534828={'IXfsb':_0x3c25c7(0x102),'UcLHe':_0x3c25c7(0x151),'sCWpL':function(_0x4e5aaf){return _0x4e5aaf();},'PiIuc':'Error\x20in\x20sending\x20trace\x20file:\x20%s'};try{logger[_0x3c25c7(0x14d)](_0x3c25c7(0x13c)+_0x554bae);let _0x189407=await exports[_0x3c25c7(0x15c)](_0x20c520,_0x534828[_0x3c25c7(0xf5)]);if(exports[_0x3c25c7(0x160)](_0x189407)){logger[_0x3c25c7(0x14d)](_0x534828[_0x3c25c7(0x11d)]),_0x189407=path['resolve'](_0x189407);const _0x24cf93={};_0x24cf93[_0x3c25c7(0xf1)]=_0x554bae,_0x24cf93[_0x3c25c7(0x149)]=_0x189407;const _0x34e5b4=_0x24cf93;_0x534828[_0x3c25c7(0x11e)](getBrowserstackCLI)[_0x3c25c7(0x110)]()[_0x3c25c7(0x14f)]()?TestInfo[_0x3c25c7(0xf0)](_0x34e5b4):TestDetails[_0x3c25c7(0xf0)](_0x34e5b4);};}catch(_0x8e5d){logger['error'](util[_0x3c25c7(0x14e)](_0x534828[_0x3c25c7(0x16a)],_0x8e5d));}};