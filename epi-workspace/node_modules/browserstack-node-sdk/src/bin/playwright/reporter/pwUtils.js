const a45_0x53346b=a45_0x5395;function a45_0x5395(_0xb36fb8,_0x273d0d){const _0x4bbbf6=a45_0x4bbb();return a45_0x5395=function(_0x539509,_0x3826a7){_0x539509=_0x539509-0x15e;let _0x19ce11=_0x4bbbf6[_0x539509];return _0x19ce11;},a45_0x5395(_0xb36fb8,_0x273d0d);}(function(_0x44b7c7,_0xa78d1){const _0x4deba8=a45_0x5395,_0x2da00c=_0x44b7c7();while(!![]){try{const _0x2f291e=-parseInt(_0x4deba8(0x208))/0x1*(parseInt(_0x4deba8(0x1b5))/0x2)+parseInt(_0x4deba8(0x1be))/0x3*(parseInt(_0x4deba8(0x188))/0x4)+parseInt(_0x4deba8(0x1a3))/0x5+parseInt(_0x4deba8(0x176))/0x6+parseInt(_0x4deba8(0x1fe))/0x7*(-parseInt(_0x4deba8(0x16a))/0x8)+-parseInt(_0x4deba8(0x16f))/0x9+parseInt(_0x4deba8(0x1a8))/0xa;if(_0x2f291e===_0xa78d1)break;else _0x2da00c['push'](_0x2da00c['shift']());}catch(_0x4c5f6e){_0x2da00c['push'](_0x2da00c['shift']());}}}(a45_0x4bbb,0xa6df5));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a45_0x53346b(0x1cd)),PerformanceTester=require(a45_0x53346b(0x1e4)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require(a45_0x53346b(0x202)),helper=require(a45_0x53346b(0x17d)),path=require('path'),logger=require('../../../helpers/logger')[a45_0x53346b(0x169)],SessionHandler=require(a45_0x53346b(0x196)),TestDetails=require(a45_0x53346b(0x18a)),util=require(a45_0x53346b(0x1e9)),TestInfo=require('../../v2/TestInfo');let BrowserstackCLIInstance=null;function getBrowserstackCLI(){const _0x35d86a=a45_0x53346b,_0x4e08ec={'rBHUO':function(_0x582b60,_0x4d86d5){return _0x582b60(_0x4d86d5);},'WaOak':_0x35d86a(0x193)};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0x4e08ec['rBHUO'](require,_0x4e08ec[_0x35d86a(0x1a2)])),BrowserstackCLIInstance;}function a45_0x4bbb(){const _0x593379=['Searching\x20for\x20key:\x20','1.35.0','cdSAF','nkzDS','attachments','WaOak','617905uFnggx','getTestTags','qCkyc','format','PLAYWRIGHT','10400450vwBKSv','HhFUw','createReadStream','THwUY','PcIZe','MTvzU','debug','onTestBegin','sendTraceZip','PTmZZ','toLowerCase','beforeWorkerHook','@playwright/test/lib/common/configLoader.js','1074pampmB','vmubN','Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20','playwright/lib/common/configLoader.js','@playwright/test/lib/transform/transform.js','STcCn','endSession','sendEventData','jmFdP','3GCwfWw','@playwright/test','name','KgIhz','wLsDb','validateFilePath','size','basename','wItAP','VtUBW','processPageScreenshot','Percentage\x20of\x20increased\x20time\x20is\x20','lVSzk','kCvKf','owCAS','../../../helpers/test-observability/utils','filePath','stack','getFailureData','Total\x20duration\x20for\x20whole\x20build\x20is\x20','KXjGV','1.38.0','xTotP','runner/projectUtils.js','readdirSync','BQlEp','XFlNh','includes','map','tsuiT','.json','SIGal','sKrlx','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','Found\x20key:\x20','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','RQPst','endsWith','../../../helpers/performance/performance-tester','START_TIME','QewmE','yNhdF','nPTOY','util','pRIFQ','Test\x20timeout\x20of','test','performance-reporter.html','bZwYT','peylw','rsLnK','prototype','Error\x20in\x20sending\x20trace\x20file:\x20%s','dnbff','zLlmj','nBzux','requestSpyCallback','performance-report-worker-','@playwright/test/lib/common/transform.js','tags','substr','length','playwright','addTraceFilePath','2373FNsKTH','LWdKY','process.js','sMygP','../../../helpers/test-observability/constants','getTransformPath','join','getTime','dygMU','eLSoM','2187sMAlCA','env','testUId','TEST_ATTACHMENT','isRunning','FBpjy','message','pXeQN','ILHqL','findNestedKey','RSNDT','Arguments','winstonLogger','14816DKKwPc','onBegin','getInstance','statSync','cWcMh','3332835ASuduI','filter','TlEpW','slice','MoyrP','ERROR','\x20in\x20arguments','7314714ytViCQ','mNuly','Trace\x20enabled','qZJqB','onStepBegin','getPlaywrightLibPath','gGcox','../../../helpers/helper','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','SEpvF','\x20in\x20attachments','calculatePerformance','BtQUO','beforeTestHook','LogCreated','uploadTraceZip','hwxGL','Ofawf','1893304klOIJi','getLoadUtilsPath','./test-details','TnMIi','getConfigLoaderPath','ieLlC','call','error','compareVersions','doo11ySync','QqIDk','../../v2/browserstackCLI','IsrGb','lib','../../../helpers/test-observability/sessionHandler','jUuEC','sendTestLog','pNSTV','getProjectUtilsPath','toString','startsWith'];a45_0x4bbb=function(){return _0x593379;};return a45_0x4bbb();}const getTagsFromTitle=_0x20a74b=>{return _0x20a74b['match'](/@(\w+)/g)?.['map'](_0x220d00=>_0x220d00['slice'](0x1))||[];};exports[a45_0x53346b(0x1a4)]=_0x25dcf1=>{const _0x4ba055=a45_0x53346b,_0x1eeb6f={'BQlEp':function(_0xc391a0,_0x139db1){return _0xc391a0(_0x139db1);}};if(_0x25dcf1[_0x4ba055(0x1f9)])return _0x25dcf1[_0x4ba055(0x1f9)][_0x4ba055(0x1da)](_0x3a94ce=>_0x3a94ce[_0x4ba055(0x19c)]('@')?_0x3a94ce[_0x4ba055(0x1fa)](0x1):_0x3a94ce);return _0x1eeb6f[_0x4ba055(0x1d7)](getTagsFromTitle,_0x25dcf1['title']);},exports[a45_0x53346b(0x181)]=async()=>{const _0x2516de=a45_0x53346b,_0x6f091c={'xTotP':function(_0x2edefa,_0x1a0932){return _0x2edefa-_0x1a0932;},'IsrGb':_0x2516de(0x1ed),'dnbff':_0x2516de(0x16b),'dygMU':_0x2516de(0x1bb),'FBpjy':_0x2516de(0x1af),'bZwYT':'onTestEnd','peylw':_0x2516de(0x17a),'SIGal':'onStepEnd','BLWjs':_0x2516de(0x1b3),'dVQuo':'afterWorkerHook','ISbIE':_0x2516de(0x183),'GRCkS':'afterTestHook','STcCn':_0x2516de(0x191),'zLlmj':_0x2516de(0x1c8),'FrdYI':'sendSessionDetails','qZJqB':'setupBrowserDetails','sMygP':_0x2516de(0x1f6),'OUkbm':_0x2516de(0x198),'jmFdP':function(_0xd0d222,_0x2c38ed){return _0xd0d222(_0x2c38ed);},'MoyrP':function(_0x529bf7,_0x35bb6a){return _0x529bf7/_0x35bb6a;},'OXNdb':function(_0x9b9af1,_0x226ab8){return _0x9b9af1(_0x226ab8);},'PcIZe':function(_0x526c75,_0x4d1a09){return _0x526c75+_0x4d1a09;},'MTvzU':function(_0x252b50,_0x46a105){return _0x252b50(_0x46a105);},'HhFUw':function(_0x5663d5,_0x16c7cb){return _0x5663d5*_0x16c7cb;}};if(!process[_0x2516de(0x15e)]['START_TIME'])return;const _0x42741e=_0x6f091c[_0x2516de(0x1d4)](new Date()[_0x2516de(0x205)](),new Date(process[_0x2516de(0x15e)][_0x2516de(0x1e5)])['getTime']()),_0x2a8705=await PerformanceTester['stopAndGenerate'](_0x6f091c[_0x2516de(0x194)],[_0x6f091c[_0x2516de(0x1f3)],_0x6f091c[_0x2516de(0x206)],_0x6f091c[_0x2516de(0x162)],_0x6f091c[_0x2516de(0x1ee)],_0x6f091c[_0x2516de(0x1ef)],_0x6f091c[_0x2516de(0x1dd)]]),_0xf4e2e5=fs[_0x2516de(0x1d6)]('.'),_0x4e7043=_0xf4e2e5[_0x2516de(0x170)](_0x365a84=>_0x365a84[_0x2516de(0x19c)](_0x2516de(0x1f7))&&_0x365a84[_0x2516de(0x1e3)](_0x2516de(0x1dc))),_0x54a917=await PerformanceTester['calculateTimesFromMultipleFiles'](_0x4e7043,[_0x6f091c['BLWjs'],_0x6f091c['dVQuo'],_0x6f091c['ISbIE'],_0x6f091c['GRCkS'],_0x6f091c[_0x2516de(0x1ba)],_0x6f091c[_0x2516de(0x1f4)],_0x6f091c['FrdYI'],_0x6f091c[_0x2516de(0x179)],_0x6f091c[_0x2516de(0x201)],_0x6f091c['OUkbm']]);_0x6f091c[_0x2516de(0x1bd)](debug,_0x2516de(0x1d1)+_0x6f091c[_0x2516de(0x173)](_0x42741e,0x3e8)+'\x20s'),_0x6f091c['OXNdb'](debug,_0x2516de(0x1df)+_0x6f091c[_0x2516de(0x1ac)](_0x54a917,_0x2a8705)),_0x6f091c[_0x2516de(0x1ad)](debug,_0x2516de(0x1c9)+_0x6f091c[_0x2516de(0x1a9)](_0x6f091c['MoyrP'](_0x6f091c[_0x2516de(0x1ac)](_0x54a917,_0x2a8705),_0x42741e),0x64));},exports[a45_0x53346b(0x203)]=()=>{const _0x500a4c=a45_0x53346b,_0x25d866={'jUuEC':function(_0x3ca744,_0x3f721c){return _0x3ca744(_0x3f721c);},'pXeQN':function(_0x299b56,_0x3a0ebc){return _0x299b56>=_0x3a0ebc;},'ieLlC':'1.38.0','lsJVl':'playwright/lib/transform/transform.js','QewmE':_0x500a4c(0x1fc),'eLSoM':_0x500a4c(0x19e),'BtQUO':_0x500a4c(0x1b9),'vmubN':_0x500a4c(0x1bf),'kCvKf':_0x500a4c(0x1f8)},_0x1f7064=_0x25d866[_0x500a4c(0x197)](getFrameworkVersion,FRAMEWORKS[_0x500a4c(0x1a7)]);if(_0x25d866['pXeQN'](helper['compareVersions'](_0x1f7064,_0x25d866[_0x500a4c(0x18d)]),0x0))return[_0x25d866['lsJVl'],_0x25d866[_0x500a4c(0x1e6)]];if(_0x25d866[_0x500a4c(0x164)](helper[_0x500a4c(0x190)](_0x1f7064,_0x25d866[_0x500a4c(0x207)]),0x0))return[_0x25d866[_0x500a4c(0x182)],_0x25d866[_0x500a4c(0x1b6)]];return[_0x25d866[_0x500a4c(0x1cb)],_0x25d866[_0x500a4c(0x1b6)]];},exports[a45_0x53346b(0x18c)]=()=>{const _0xa6616a=a45_0x53346b,_0x1030c9={'FroUi':function(_0x524bb1,_0x19ef16){return _0x524bb1(_0x19ef16);},'tsuiT':function(_0x1b7a90,_0x2dc9ed){return _0x1b7a90>=_0x2dc9ed;},'RQPst':_0xa6616a(0x1d3),'nkzDS':_0xa6616a(0x1b8),'owCAS':_0xa6616a(0x1fc),'rsLnK':_0xa6616a(0x1b4),'PTmZZ':_0xa6616a(0x1bf)},_0x36abb2=_0x1030c9['FroUi'](getFrameworkVersion,FRAMEWORKS[_0xa6616a(0x1a7)]);if(_0x1030c9[_0xa6616a(0x1db)](helper['compareVersions'](_0x36abb2,_0x1030c9[_0xa6616a(0x1e2)]),0x0))return[_0x1030c9[_0xa6616a(0x1a0)],_0x1030c9[_0xa6616a(0x1cc)]];return[_0x1030c9[_0xa6616a(0x1f0)],_0x1030c9[_0xa6616a(0x1b1)]];},exports[a45_0x53346b(0x189)]=()=>{const _0x522c37=a45_0x53346b,_0x360b26={};_0x360b26[_0x522c37(0x187)]='runner/loadUtils.js';const _0x50a393=_0x360b26;return helper[_0x522c37(0x17b)](_0x50a393[_0x522c37(0x187)]);},exports[a45_0x53346b(0x19a)]=()=>{const _0x597118=a45_0x53346b,_0x5aa811={};_0x5aa811[_0x597118(0x1ca)]=_0x597118(0x1d5);const _0x2d4234=_0x5aa811;return helper[_0x597118(0x17b)](_0x2d4234['lVSzk']);},exports['getForkProcessPath']=()=>{const _0x4f1ba9=a45_0x53346b,_0x373922={'RSNDT':function(_0x2720ad,_0x14894b){return _0x2720ad(_0x14894b);},'hwxGL':function(_0x1eaf83,_0x22559f){return _0x1eaf83>=_0x22559f;},'qCkyc':_0x4f1ba9(0x1d3),'TlEpW':_0x4f1ba9(0x195),'ILHqL':'common','SRnZl':_0x4f1ba9(0x200),'pRIFQ':_0x4f1ba9(0x1ec)},_0xe04825=_0x373922[_0x4f1ba9(0x167)](getFrameworkVersion,FRAMEWORKS[_0x4f1ba9(0x1a7)]);if(_0x373922[_0x4f1ba9(0x186)](helper[_0x4f1ba9(0x190)](_0xe04825,_0x373922[_0x4f1ba9(0x1a5)]),0x0))return path[_0x4f1ba9(0x204)](_0x373922['TlEpW'],_0x373922[_0x4f1ba9(0x165)],_0x373922['SRnZl']);return path[_0x4f1ba9(0x204)](_0x373922[_0x4f1ba9(0x1ea)],_0x373922[_0x4f1ba9(0x171)],_0x373922[_0x4f1ba9(0x165)],_0x373922['SRnZl']);},exports[a45_0x53346b(0x1d0)]=(_0x47b5af,{test_run_uuid:_0x1af089})=>{const _0x2cd38b=a45_0x53346b,_0x26f2ca={'NGqTl':_0x2cd38b(0x174),'pNSTV':'TEST_LOG','KXjGV':function(_0x297429,_0x24dcc0){return _0x297429<=_0x24dcc0;},'XFlNh':function(_0x3a534a,_0x25167d){return _0x3a534a(_0x25167d);},'mNuly':_0x2cd38b(0x1eb),'LWdKY':function(_0x21f873,_0x9e2452){return _0x21f873(_0x9e2452);},'VtUBW':function(_0x57def5,_0x59d197){return _0x57def5>=_0x59d197;},'nBzux':'1.42.0','cdSAF':function(_0x2edb59,_0x17c909){return _0x2edb59>_0x17c909;},'AeNyz':function(_0x49b2ff,_0x4dd772,_0x5daac5){return _0x49b2ff(_0x4dd772,_0x5daac5);},'cWcMh':'test'};if(!_0x47b5af||_0x26f2ca[_0x2cd38b(0x1d2)](_0x47b5af[_0x2cd38b(0x1fb)],0x0))return[];const _0x48549a=_0x26f2ca[_0x2cd38b(0x1d8)](removeAnsiColors,_0x47b5af[0x0][_0x2cd38b(0x163)]);if(_0x48549a[_0x2cd38b(0x19c)](_0x26f2ca[_0x2cd38b(0x177)])){const _0x56cd61=_0x47b5af[0x0],_0x59bdfb=_0x26f2ca[_0x2cd38b(0x1ff)](getFrameworkVersion,FRAMEWORKS[_0x2cd38b(0x1a7)]);if((!_0x56cd61[_0x2cd38b(0x1cf)]||_0x26f2ca[_0x2cd38b(0x1c7)](_0x59bdfb,_0x26f2ca[_0x2cd38b(0x1f5)]))&&_0x26f2ca[_0x2cd38b(0x19f)](_0x47b5af[_0x2cd38b(0x1fb)],0x1))return{'failureData':[{'backtrace':[_0x48549a,_0x26f2ca[_0x2cd38b(0x1ff)](removeAnsiColors,_0x47b5af[0x1][_0x2cd38b(0x1cf)])]}],'logs':_0x47b5af[_0x2cd38b(0x172)](0x2)[_0x2cd38b(0x1da)](_0xc6ac5a=>{const _0x296ac0=_0x2cd38b;return{'timestamp':new Date()['toISOString'](),'level':_0x26f2ca['NGqTl'],'message':''+_0xc6ac5a[_0x296ac0(0x163)],'kind':_0x26f2ca[_0x296ac0(0x199)],'http_response':{},'test_run_uuid':_0x1af089};})};}return{'failureData':_0x26f2ca['AeNyz'](failureData,_0x47b5af,_0x26f2ca[_0x2cd38b(0x16e)]),'logs':[]};},exports[a45_0x53346b(0x1c3)]=_0x4933fc=>{const _0x3e5ccf=a45_0x53346b,_0x1fcdda={};_0x1fcdda[_0x3e5ccf(0x192)]=function(_0x28b226,_0x1790d3){return _0x28b226!==_0x1790d3;},_0x1fcdda[_0x3e5ccf(0x17c)]='.zip',_0x1fcdda[_0x3e5ccf(0x1c1)]=function(_0x1b6597,_0x11f514){return _0x1b6597>_0x11f514;};const _0x4807d4=_0x1fcdda;if(_0x4933fc&&fs['existsSync'](_0x4933fc)){if(_0x4807d4[_0x3e5ccf(0x192)](path['extname'](_0x4933fc)[_0x3e5ccf(0x1b2)](),_0x4807d4['gGcox']))return logger['error'](_0x3e5ccf(0x1b7)+_0x4933fc),![];const _0x57959e=fs[_0x3e5ccf(0x16d)](_0x4933fc)[_0x3e5ccf(0x1c4)];if(_0x4807d4[_0x3e5ccf(0x1c1)](_0x57959e,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x3e5ccf(0x18f)](_0x3e5ccf(0x1e1)+_0x57959e+'\x20bytes'),![];return!![];}return![];},exports[a45_0x53346b(0x166)]=(_0x99e4af,_0x44635e)=>{const _0x4bdd24=a45_0x53346b,_0x3dc72b={};_0x3dc72b[_0x4bdd24(0x1de)]=_0x4bdd24(0x168);const _0x529322=_0x3dc72b;logger[_0x4bdd24(0x1ae)](_0x4bdd24(0x19d)+_0x44635e);if(_0x99e4af&&_0x99e4af[_0x4bdd24(0x1a1)]){const _0x3f3400=_0x99e4af['attachments']['find'](_0x17d097=>_0x17d097[_0x4bdd24(0x1c0)]==='trace');if(_0x3f3400)return logger[_0x4bdd24(0x1ae)](_0x4bdd24(0x1e0)+_0x44635e+_0x4bdd24(0x180)),_0x3f3400[_0x44635e];}else{if(_0x99e4af&&Object[_0x4bdd24(0x1f1)][_0x4bdd24(0x19b)][_0x4bdd24(0x18e)](_0x99e4af)[_0x4bdd24(0x1d9)](_0x529322[_0x4bdd24(0x1de)]))for(const _0xd642c of _0x99e4af){if(_0xd642c[_0x44635e])return logger[_0x4bdd24(0x1ae)](_0x4bdd24(0x1e0)+_0x44635e+_0x4bdd24(0x175)),_0xd642c[_0x44635e];}};return'';},exports[a45_0x53346b(0x185)]=async(_0xc0f73,_0x1fcda4)=>{const _0x12fe95=a45_0x53346b,_0x4231b2={};_0x4231b2[_0x12fe95(0x18b)]=_0x12fe95(0x184),_0x4231b2[_0x12fe95(0x1e8)]=_0x12fe95(0x160),_0x4231b2[_0x12fe95(0x1c2)]=_0x12fe95(0x1b0),_0x4231b2['wItAP']=_0x12fe95(0x1f2);const _0x27f10e=_0x4231b2;try{const _0x38675e={'event_type':_0x27f10e[_0x12fe95(0x18b)],'logs':[{'data':_0xc0f73?fs[_0x12fe95(0x1aa)](_0xc0f73):'','test_run_uuid':_0x1fcda4,'kind':_0x27f10e[_0x12fe95(0x1e8)],'fileName':_0xc0f73?path[_0x12fe95(0x1c5)](_0xc0f73):''}]};return await SessionHandler[_0x12fe95(0x1bc)](_0x38675e,0x0,_0x27f10e['wLsDb']);}catch(_0x24f6e6){logger[_0x12fe95(0x18f)](util['format'](_0x27f10e[_0x12fe95(0x1c6)],_0x24f6e6));}},exports['sendTraceZip']=async(_0xa36170,_0x43d8c3)=>{const _0x40dcc5=a45_0x53346b,_0x3569a5={'ZKEoR':'path','THwUY':_0x40dcc5(0x178),'SEpvF':function(_0x123235){return _0x123235();},'yNhdF':_0x40dcc5(0x1f2)};try{logger[_0x40dcc5(0x1ae)](_0x40dcc5(0x17e)+_0x43d8c3);let _0x13b29e=await exports[_0x40dcc5(0x166)](_0xa36170,_0x3569a5['ZKEoR']);if(exports[_0x40dcc5(0x1c3)](_0x13b29e)){logger[_0x40dcc5(0x1ae)](_0x3569a5[_0x40dcc5(0x1ab)]),_0x13b29e=path['resolve'](_0x13b29e);const _0x1fa19c={};_0x1fa19c[_0x40dcc5(0x15f)]=_0x43d8c3,_0x1fa19c[_0x40dcc5(0x1ce)]=_0x13b29e;const _0x29db4d=_0x1fa19c;_0x3569a5[_0x40dcc5(0x17f)](getBrowserstackCLI)[_0x40dcc5(0x16c)]()[_0x40dcc5(0x161)]()?TestInfo[_0x40dcc5(0x1fd)](_0x29db4d):TestDetails['addTraceFilePath'](_0x29db4d);};}catch(_0x3e6205){logger[_0x40dcc5(0x18f)](util[_0x40dcc5(0x1a6)](_0x3569a5[_0x40dcc5(0x1e7)],_0x3e6205));}};