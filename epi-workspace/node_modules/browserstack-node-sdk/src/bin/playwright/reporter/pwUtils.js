const a45_0x5aa8bd=a45_0x2a42;function a45_0x2a42(_0x1bbf74,_0x9419f5){const _0x395a21=a45_0x395a();return a45_0x2a42=function(_0x2a42d8,_0x151fb6){_0x2a42d8=_0x2a42d8-0x13b;let _0x20b8b2=_0x395a21[_0x2a42d8];return _0x20b8b2;},a45_0x2a42(_0x1bbf74,_0x9419f5);}(function(_0x4180d3,_0x3f0097){const _0x2a10eb=a45_0x2a42,_0x134871=_0x4180d3();while(!![]){try{const _0x24d06f=parseInt(_0x2a10eb(0x14d))/0x1+parseInt(_0x2a10eb(0x1d0))/0x2+-parseInt(_0x2a10eb(0x194))/0x3+-parseInt(_0x2a10eb(0x164))/0x4+parseInt(_0x2a10eb(0x14f))/0x5+-parseInt(_0x2a10eb(0x1e1))/0x6+-parseInt(_0x2a10eb(0x1a0))/0x7*(parseInt(_0x2a10eb(0x170))/0x8);if(_0x24d06f===_0x3f0097)break;else _0x134871['push'](_0x134871['shift']());}catch(_0x23c4c4){_0x134871['push'](_0x134871['shift']());}}}(a45_0x395a,0x5005c));const {debug,getFrameworkVersion,removeAnsiColors,failureData}=require(a45_0x5aa8bd(0x147)),PerformanceTester=require(a45_0x5aa8bd(0x19a)),fs=require('fs'),{FRAMEWORKS,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE}=require('../../../helpers/test-observability/constants'),helper=require('../../../helpers/helper'),path=require(a45_0x5aa8bd(0x168)),logger=require(a45_0x5aa8bd(0x1b8))[a45_0x5aa8bd(0x193)],SessionHandler=require(a45_0x5aa8bd(0x1c4)),TestDetails=require(a45_0x5aa8bd(0x156)),util=require('util'),TestInfo=require(a45_0x5aa8bd(0x1a8));function a45_0x395a(){const _0xa620e5=['Total\x20duration\x20for\x20whole\x20build\x20is\x20','UxQtM','zGBTR','urmHF','AJIWe','getTestTags','yOasi','Searching\x20for\x20key:\x20','1.38.0','Arguments','ENJZD','call','tags','cIZbB','endSession','debug','performance-report-worker-','extname','1.35.0','Total\x20time\x20taken\x20by\x20O11y\x20is\x20','TEST_LOG','drRnJ','common','mTHLe','IssZI','setupBrowserDetails','rvYQC','LoafO','includes','test','createReadStream','getProjectUtilsPath','sendTraceZip','winstonLogger','1422756cIAuAf','sxnWH','Trace\x20file\x20size\x20exceeds\x20100MB:\x20','resolve','kXfvc','ABFNC','../../../helpers/performance/performance-tester','LogCreated','EMoGV','stopAndGenerate','Error\x20in\x20sending\x20trace\x20file:\x20%s','ynOTO','4087321uADKKD','toISOString','calculatePerformance','@playwright/test','ysWfX','filePath','BoiBq','sendSessionDetails','../../v2/TestInfo','message','meiiD','1.42.0','beforeTestHook','length','BNHKh','IzKHg','onStepEnd','vNqKE','BxWGx','getPlaywrightLibPath','statSync','validateFilePath','existsSync','calculateTimesFromMultipleFiles','../../../helpers/logger','vpsyU','YCrQz','qPbmv','oLBZE','prototype','ZAOWv','getTestIdentifier','mTKTD','bLQQF','dBzmr','.json','../../../helpers/test-observability/sessionHandler','endsWith','playwright/lib/transform/transform.js','getForkProcessPath','LQPLq','UzVHd','sendTestLog','XFnQl','onTestEnd','@playwright/test/lib/common/configLoader.js','readdirSync','YhXDK','1268406KSkmPw','playwright','stack','yyjZO','@playwright/test/lib/common/transform.js','KKbnH','size','@playwright/test/lib/transform/transform.js','puIBn','ISNkc','AkDds','qzbAJ','YrfAR','../../v2/browserstackCLI','filter','lib','map','1995174ZNegAA','match','afterTestHook','WBWiB','tRgIE','PLAYWRIGHT','error','find','YwOJb','ufiXW','slice','FWiOg','basename','env','SaduZ','QKXPo','process.js','startsWith','toString','../../../helpers/test-observability/utils','onTestBegin','\x20in\x20arguments','getTime','onBegin','addTraceFilePath','632711muepWo','compareVersions','2927135SUenpi','owkef','Wwpbc','runner/loadUtils.js','vMtMO','SflYA','uploadTraceZip','./test-details','Trace\x20enabled','beforeWorkerHook','.zip','Percentage\x20of\x20increased\x20time\x20is\x20','ZISZs','ERROR','AtpHx','swPJC','findNestedKey','YUCYw','join','fXNmp','pBloP','535540cxUdwh','isRunning','onStepBegin','getTransformPath','path','Found\x20key:\x20','Checking\x20if\x20trace\x20is\x20enabled\x20for\x20test:\x20','TKpij','sendEventData','START_TIME','performance-reporter.html','DlSLH','8sUzwjT','format'];a45_0x395a=function(){return _0xa620e5;};return a45_0x395a();}let BrowserstackCLIInstance=null;function getBrowserstackCLI(){const _0xad950c=a45_0x5aa8bd,_0x410465={'dBzmr':function(_0x3e31ff,_0x4d23af){return _0x3e31ff(_0x4d23af);},'vMtMO':_0xad950c(0x1dd)};return!BrowserstackCLIInstance&&(BrowserstackCLIInstance=_0x410465[_0xad950c(0x1c2)](require,_0x410465[_0xad950c(0x153)])),BrowserstackCLIInstance;}const getTagsFromTitle=_0x1705fb=>{const _0x236ece=a45_0x5aa8bd;return _0x1705fb[_0x236ece(0x1e2)](/@(\w+)/g)?.['map'](_0xc6620d=>_0xc6620d[_0x236ece(0x13e)](0x1))||[];};exports[a45_0x5aa8bd(0x177)]=_0x5db247=>{const _0x522538=a45_0x5aa8bd,_0x246e5c={'pBloP':function(_0x58e403,_0x37f2bc){return _0x58e403(_0x37f2bc);}};if(_0x5db247[_0x522538(0x17e)])return _0x5db247[_0x522538(0x17e)][_0x522538(0x1e0)](_0x2d79fa=>_0x2d79fa[_0x522538(0x145)]('@')?_0x2d79fa['substr'](0x1):_0x2d79fa);return _0x246e5c[_0x522538(0x163)](getTagsFromTitle,_0x5db247['title']);},exports[a45_0x5aa8bd(0x1a2)]=async()=>{const _0x2f30f3=a45_0x5aa8bd,_0x7cd403={'vNqKE':function(_0x1a9a1b,_0x5f197b){return _0x1a9a1b-_0x5f197b;},'kXfvc':_0x2f30f3(0x16e),'IzKHg':_0x2f30f3(0x14b),'IssZI':_0x2f30f3(0x180),'AhOry':_0x2f30f3(0x148),'ENJZD':_0x2f30f3(0x1cc),'BxWGx':_0x2f30f3(0x166),'cIZbB':_0x2f30f3(0x1b0),'mTHLe':_0x2f30f3(0x158),'ZISZs':'afterWorkerHook','SaduZ':_0x2f30f3(0x1ac),'swPJC':_0x2f30f3(0x1e3),'LoafO':'doo11ySync','AkDds':'processPageScreenshot','klFQk':_0x2f30f3(0x1a7),'yOasi':_0x2f30f3(0x18b),'owkef':'requestSpyCallback','HkvYs':_0x2f30f3(0x1ca),'LQPLq':function(_0x55071f,_0x566956){return _0x55071f(_0x566956);},'sxnWH':function(_0x2ee6e1,_0x413d2c){return _0x2ee6e1/_0x413d2c;},'drRnJ':function(_0x1d4c3f,_0x3ab04c){return _0x1d4c3f(_0x3ab04c);},'ISNkc':function(_0x202f51,_0x15e7c0){return _0x202f51+_0x15e7c0;},'YUCYw':function(_0x2e70ad,_0x5c71aa){return _0x2e70ad*_0x5c71aa;},'TWpFZ':function(_0xf5667,_0x389e0a){return _0xf5667/_0x389e0a;}};if(!process[_0x2f30f3(0x141)][_0x2f30f3(0x16d)])return;const _0x401338=_0x7cd403[_0x2f30f3(0x1b1)](new Date()[_0x2f30f3(0x14a)](),new Date(process[_0x2f30f3(0x141)][_0x2f30f3(0x16d)])[_0x2f30f3(0x14a)]()),_0x206288=await PerformanceTester[_0x2f30f3(0x19d)](_0x7cd403[_0x2f30f3(0x198)],[_0x7cd403[_0x2f30f3(0x1af)],_0x7cd403[_0x2f30f3(0x18a)],_0x7cd403['AhOry'],_0x7cd403[_0x2f30f3(0x17c)],_0x7cd403[_0x2f30f3(0x1b2)],_0x7cd403[_0x2f30f3(0x17f)]]),_0x5a28a3=fs[_0x2f30f3(0x1ce)]('.'),_0x4026f4=_0x5a28a3[_0x2f30f3(0x1de)](_0x4c14cd=>_0x4c14cd['startsWith'](_0x2f30f3(0x182))&&_0x4c14cd[_0x2f30f3(0x1c5)](_0x2f30f3(0x1c3))),_0x5e716b=await PerformanceTester[_0x2f30f3(0x1b7)](_0x4026f4,[_0x7cd403[_0x2f30f3(0x189)],_0x7cd403[_0x2f30f3(0x15b)],_0x7cd403[_0x2f30f3(0x142)],_0x7cd403[_0x2f30f3(0x15e)],_0x7cd403[_0x2f30f3(0x18d)],_0x7cd403[_0x2f30f3(0x1da)],_0x7cd403['klFQk'],_0x7cd403[_0x2f30f3(0x178)],_0x7cd403[_0x2f30f3(0x150)],_0x7cd403['HkvYs']]);_0x7cd403[_0x2f30f3(0x1c8)](debug,_0x2f30f3(0x172)+_0x7cd403[_0x2f30f3(0x195)](_0x401338,0x3e8)+'\x20s'),_0x7cd403[_0x2f30f3(0x187)](debug,_0x2f30f3(0x185)+_0x7cd403[_0x2f30f3(0x1d9)](_0x5e716b,_0x206288)),_0x7cd403[_0x2f30f3(0x187)](debug,_0x2f30f3(0x15a)+_0x7cd403[_0x2f30f3(0x160)](_0x7cd403['TWpFZ'](_0x7cd403[_0x2f30f3(0x1d9)](_0x5e716b,_0x206288),_0x401338),0x64));},exports[a45_0x5aa8bd(0x167)]=()=>{const _0x1568aa=a45_0x5aa8bd,_0x29ccb5={'rvYQC':function(_0x1b9f14,_0x42b212){return _0x1b9f14(_0x42b212);},'NJWZS':function(_0x2d2fe0,_0x4f4e72){return _0x2d2fe0>=_0x4f4e72;},'fXNmp':'1.38.0','TKpij':_0x1568aa(0x1c6),'qPbmv':'playwright','AUAJN':_0x1568aa(0x184),'rdnLw':_0x1568aa(0x1d7),'QKXPo':_0x1568aa(0x1a3),'ZAOWv':_0x1568aa(0x1d4)},_0x1a8aa1=_0x29ccb5[_0x1568aa(0x18c)](getFrameworkVersion,FRAMEWORKS[_0x1568aa(0x1e6)]);if(_0x29ccb5['NJWZS'](helper[_0x1568aa(0x14e)](_0x1a8aa1,_0x29ccb5[_0x1568aa(0x162)]),0x0))return[_0x29ccb5[_0x1568aa(0x16b)],_0x29ccb5[_0x1568aa(0x1bb)]];if(_0x29ccb5['NJWZS'](helper[_0x1568aa(0x14e)](_0x1a8aa1,_0x29ccb5['AUAJN']),0x0))return[_0x29ccb5['rdnLw'],_0x29ccb5[_0x1568aa(0x143)]];return[_0x29ccb5[_0x1568aa(0x1be)],_0x29ccb5[_0x1568aa(0x143)]];},exports['getConfigLoaderPath']=()=>{const _0x4fd5ec=a45_0x5aa8bd,_0x2d0e5c={'oLBZE':function(_0x562017,_0x283ac6){return _0x562017(_0x283ac6);},'YwOJb':function(_0x5a414b,_0x3afe38){return _0x5a414b>=_0x3afe38;},'BoiBq':'1.38.0','ysWfX':'playwright/lib/common/configLoader.js','ufiXW':_0x4fd5ec(0x1d1),'KKbnH':_0x4fd5ec(0x1cd),'zGBTR':_0x4fd5ec(0x1a3)},_0x5300cf=_0x2d0e5c[_0x4fd5ec(0x1bc)](getFrameworkVersion,FRAMEWORKS[_0x4fd5ec(0x1e6)]);if(_0x2d0e5c[_0x4fd5ec(0x13c)](helper['compareVersions'](_0x5300cf,_0x2d0e5c[_0x4fd5ec(0x1a6)]),0x0))return[_0x2d0e5c[_0x4fd5ec(0x1a4)],_0x2d0e5c[_0x4fd5ec(0x13d)]];return[_0x2d0e5c[_0x4fd5ec(0x1d5)],_0x2d0e5c[_0x4fd5ec(0x174)]];},exports['getLoadUtilsPath']=()=>{const _0x1a3d7c=a45_0x5aa8bd,_0x38c721={};_0x38c721[_0x1a3d7c(0x173)]=_0x1a3d7c(0x152);const _0x51dd8e=_0x38c721;return helper[_0x1a3d7c(0x1b3)](_0x51dd8e[_0x1a3d7c(0x173)]);},exports[a45_0x5aa8bd(0x191)]=()=>{const _0x40036d=a45_0x5aa8bd,_0x4aabf0={};_0x4aabf0[_0x40036d(0x175)]='runner/projectUtils.js';const _0xb56482=_0x4aabf0;return helper[_0x40036d(0x1b3)](_0xb56482[_0x40036d(0x175)]);},exports[a45_0x5aa8bd(0x1c7)]=()=>{const _0x251d83=a45_0x5aa8bd,_0x4181b1={'puIBn':function(_0x18db3b,_0x2ac2c9){return _0x18db3b(_0x2ac2c9);},'EMoGV':function(_0x50c318,_0x3428bb){return _0x50c318>=_0x3428bb;},'VeJQz':_0x251d83(0x17a),'UzVHd':_0x251d83(0x1df),'MZQsI':_0x251d83(0x188),'yyjZO':_0x251d83(0x144),'pgiGx':'test'},_0x3fe8ae=_0x4181b1[_0x251d83(0x1d8)](getFrameworkVersion,FRAMEWORKS[_0x251d83(0x1e6)]);if(_0x4181b1[_0x251d83(0x19c)](helper[_0x251d83(0x14e)](_0x3fe8ae,_0x4181b1['VeJQz']),0x0))return path['join'](_0x4181b1[_0x251d83(0x1c9)],_0x4181b1['MZQsI'],_0x4181b1[_0x251d83(0x1d3)]);return path[_0x251d83(0x161)](_0x4181b1['pgiGx'],_0x4181b1[_0x251d83(0x1c9)],_0x4181b1['MZQsI'],_0x4181b1[_0x251d83(0x1d3)]);},exports['getFailureData']=(_0x7adee3,{test_run_uuid:_0x58474d})=>{const _0x1d9037=a45_0x5aa8bd,_0x2e221d={'iKHjn':_0x1d9037(0x15c),'FWiOg':_0x1d9037(0x186),'qzbAJ':function(_0x5972c4,_0x6d69a3){return _0x5972c4<=_0x6d69a3;},'Wwpbc':function(_0x37a330,_0x24b6c4){return _0x37a330(_0x24b6c4);},'ynOTO':'Test\x20timeout\x20of','tRgIE':function(_0x1a6fa8,_0x28ffbd){return _0x1a6fa8(_0x28ffbd);},'YCrQz':function(_0xac343c,_0x5900c8){return _0xac343c>=_0x5900c8;},'Zuuji':_0x1d9037(0x1ab),'mTKTD':function(_0x25b7ef,_0x154721){return _0x25b7ef>_0x154721;},'KerHL':function(_0x27a672,_0x57a615,_0x226091){return _0x27a672(_0x57a615,_0x226091);},'syUAw':_0x1d9037(0x18f)};if(!_0x7adee3||_0x2e221d[_0x1d9037(0x1db)](_0x7adee3[_0x1d9037(0x1ad)],0x0))return[];const _0x392e21=_0x2e221d[_0x1d9037(0x151)](removeAnsiColors,_0x7adee3[0x0][_0x1d9037(0x1a9)]);if(_0x392e21[_0x1d9037(0x145)](_0x2e221d[_0x1d9037(0x19f)])){const _0x5c5a2d=_0x7adee3[0x0],_0x4302a0=_0x2e221d[_0x1d9037(0x1e5)](getFrameworkVersion,FRAMEWORKS[_0x1d9037(0x1e6)]);if((!_0x5c5a2d[_0x1d9037(0x1d2)]||_0x2e221d[_0x1d9037(0x1ba)](_0x4302a0,_0x2e221d['Zuuji']))&&_0x2e221d[_0x1d9037(0x1c0)](_0x7adee3['length'],0x1))return{'failureData':[{'backtrace':[_0x392e21,_0x2e221d[_0x1d9037(0x1e5)](removeAnsiColors,_0x7adee3[0x1][_0x1d9037(0x1d2)])]}],'logs':_0x7adee3[_0x1d9037(0x13e)](0x2)['map'](_0x398d43=>{const _0x22282d=_0x1d9037;return{'timestamp':new Date()[_0x22282d(0x1a1)](),'level':_0x2e221d['iKHjn'],'message':''+_0x398d43[_0x22282d(0x1a9)],'kind':_0x2e221d[_0x22282d(0x13f)],'http_response':{},'test_run_uuid':_0x58474d};})};}return{'failureData':_0x2e221d['KerHL'](failureData,_0x7adee3,_0x2e221d['syUAw']),'logs':[]};},exports[a45_0x5aa8bd(0x1b5)]=_0x4e5807=>{const _0x5d88c2=a45_0x5aa8bd,_0xab84a0={};_0xab84a0[_0x5d88c2(0x1cf)]=function(_0x436459,_0x3c5c58){return _0x436459!==_0x3c5c58;},_0xab84a0[_0x5d88c2(0x199)]=_0x5d88c2(0x159),_0xab84a0['FjCTp']=function(_0x382b3b,_0x4fd9ce){return _0x382b3b>_0x4fd9ce;};const _0x1a96fc=_0xab84a0;if(_0x4e5807&&fs[_0x5d88c2(0x1b6)](_0x4e5807)){if(_0x1a96fc[_0x5d88c2(0x1cf)](path[_0x5d88c2(0x183)](_0x4e5807)['toLowerCase'](),_0x1a96fc[_0x5d88c2(0x199)]))return logger[_0x5d88c2(0x1e7)]('Invalid\x20file\x20format.\x20Expected\x20a\x20.zip\x20file,\x20but\x20got:\x20'+_0x4e5807),![];const _0x5f3a1f=fs[_0x5d88c2(0x1b4)](_0x4e5807)[_0x5d88c2(0x1d6)];if(_0x1a96fc['FjCTp'](_0x5f3a1f,MAX_ALLOWED_PLAYWRIGHT_TRACE_SIZE))return logger[_0x5d88c2(0x1e7)](_0x5d88c2(0x196)+_0x5f3a1f+'\x20bytes'),![];return!![];}return![];},exports[a45_0x5aa8bd(0x15f)]=(_0x2afced,_0x40719a)=>{const _0x705236=a45_0x5aa8bd,_0x3ffbe9={};_0x3ffbe9[_0x705236(0x1c1)]=_0x705236(0x17b);const _0x11b431=_0x3ffbe9;logger[_0x705236(0x181)](_0x705236(0x179)+_0x40719a);if(_0x2afced&&_0x2afced['attachments']){const _0x608337=_0x2afced['attachments'][_0x705236(0x13b)](_0x6d22d4=>_0x6d22d4['name']==='trace');if(_0x608337)return logger[_0x705236(0x181)](_0x705236(0x169)+_0x40719a+'\x20in\x20attachments'),_0x608337[_0x40719a];}else{if(_0x2afced&&Object[_0x705236(0x1bd)][_0x705236(0x146)][_0x705236(0x17d)](_0x2afced)[_0x705236(0x18e)](_0x11b431[_0x705236(0x1c1)]))for(const _0x5cfe7d of _0x2afced){if(_0x5cfe7d[_0x40719a])return logger[_0x705236(0x181)](_0x705236(0x169)+_0x40719a+_0x705236(0x149)),_0x5cfe7d[_0x40719a];}};return'';},exports[a45_0x5aa8bd(0x155)]=async(_0x213449,_0x30139b)=>{const _0x29d602=a45_0x5aa8bd,_0x1d3cd1={};_0x1d3cd1[_0x29d602(0x176)]=_0x29d602(0x19b),_0x1d3cd1[_0x29d602(0x1cb)]='TEST_ATTACHMENT',_0x1d3cd1[_0x29d602(0x1dc)]=_0x29d602(0x192),_0x1d3cd1[_0x29d602(0x15d)]=_0x29d602(0x19e);const _0x324c76=_0x1d3cd1;try{const _0x105eb2={'event_type':_0x324c76[_0x29d602(0x176)],'logs':[{'data':_0x213449?fs[_0x29d602(0x190)](_0x213449):'','test_run_uuid':_0x30139b,'kind':_0x324c76['XFnQl'],'fileName':_0x213449?path[_0x29d602(0x140)](_0x213449):''}]};return await SessionHandler[_0x29d602(0x16c)](_0x105eb2,0x0,_0x324c76[_0x29d602(0x1dc)]);}catch(_0xb62782){logger['error'](util[_0x29d602(0x171)](_0x324c76[_0x29d602(0x15d)],_0xb62782));}},exports[a45_0x5aa8bd(0x192)]=async(_0x196014,_0x8064cd)=>{const _0x306f47=a45_0x5aa8bd,_0x317aac={'DlSLH':_0x306f47(0x168),'WBWiB':_0x306f47(0x157),'vpsyU':function(_0x2e60a3){return _0x2e60a3();},'SflYA':_0x306f47(0x19e)};try{logger[_0x306f47(0x181)](_0x306f47(0x16a)+_0x8064cd);let _0x317fcd=await exports[_0x306f47(0x15f)](_0x196014,_0x317aac[_0x306f47(0x16f)]);if(exports['validateFilePath'](_0x317fcd)){logger[_0x306f47(0x181)](_0x317aac[_0x306f47(0x1e4)]),_0x317fcd=path[_0x306f47(0x197)](_0x317fcd);const _0x52c369={};_0x52c369['testUId']=_0x8064cd,_0x52c369[_0x306f47(0x1a5)]=_0x317fcd;const _0x3d828f=_0x52c369;_0x317aac[_0x306f47(0x1b9)](getBrowserstackCLI)['getInstance']()[_0x306f47(0x165)]()?TestInfo[_0x306f47(0x14c)](_0x3d828f):TestDetails['addTraceFilePath'](_0x3d828f);};}catch(_0x34eb64){logger[_0x306f47(0x1e7)](util['format'](_0x317aac[_0x306f47(0x154)],_0x34eb64));}},exports[a45_0x5aa8bd(0x1bf)]=_0x1abea0=>{const _0x13b3bd=a45_0x5aa8bd,_0x5a988c={};_0x5a988c['BNHKh']=function(_0x504303,_0x36f9bf){return _0x504303+_0x36f9bf;};const _0x6a77=_0x5a988c;return _0x6a77[_0x13b3bd(0x1ae)](_0x6a77[_0x13b3bd(0x1ae)](_0x1abea0['_projectId'],'-'),_0x1abea0['id']);},exports['getTestRunIdentifier']=(_0x3fc258,_0x3cce67)=>{const _0x4aa535=a45_0x5aa8bd,_0x5deb98={};_0x5deb98[_0x4aa535(0x1aa)]=function(_0x2573cf,_0x4c0ee7){return _0x2573cf+_0x4c0ee7;};const _0x401b7a=_0x5deb98;return _0x401b7a[_0x4aa535(0x1aa)](_0x401b7a['meiiD'](exports['getTestIdentifier'](_0x3fc258),'-'),_0x3cce67);};