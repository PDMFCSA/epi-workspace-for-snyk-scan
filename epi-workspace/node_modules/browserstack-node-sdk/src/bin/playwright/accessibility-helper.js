const a38_0xd36788=a38_0x512e;(function(_0x15d820,_0x4d3f8a){const _0xec19c=a38_0x512e,_0x4672a5=_0x15d820();while(!![]){try{const _0x3d6bcd=-parseInt(_0xec19c(0x240))/0x1+-parseInt(_0xec19c(0x231))/0x2*(parseInt(_0xec19c(0x1f0))/0x3)+-parseInt(_0xec19c(0x1fd))/0x4+parseInt(_0xec19c(0x222))/0x5*(parseInt(_0xec19c(0x22a))/0x6)+-parseInt(_0xec19c(0x1e2))/0x7*(-parseInt(_0xec19c(0x200))/0x8)+-parseInt(_0xec19c(0x1e4))/0x9+parseInt(_0xec19c(0x243))/0xa;if(_0x3d6bcd===_0x4d3f8a)break;else _0x4672a5['push'](_0x4672a5['shift']());}catch(_0xce8981){_0x4672a5['push'](_0x4672a5['shift']());}}}(a38_0x212f,0x60998));function a38_0x512e(_0x57461f,_0x143864){const _0x212fb5=a38_0x212f();return a38_0x512e=function(_0x512ed0,_0x46864f){_0x512ed0=_0x512ed0-0x1d3;let _0x77f3c3=_0x212fb5[_0x512ed0];return _0x77f3c3;},a38_0x512e(_0x57461f,_0x143864);}const util=require(a38_0xd36788(0x1d6)),logger=require('../../helpers/logger')[a38_0xd36788(0x204)],{isAccessibilityAutomationSession}=require('../../helpers/accessibility-automation/helper'),{isUndefined,isBrowserstackInfra}=require(a38_0xd36788(0x1ec)),scripts=require(a38_0xd36788(0x229)),PerformanceTester=require(a38_0xd36788(0x23b)),{A11Y_EVENTS:PerformanceA11yEvents}=require('../../helpers/performance/constants');function a38_0x212f(){const _0x1bc9aa=['Accessibility\x20Automation\x20will\x20run\x20only\x20on\x20Desktop\x20browsers.','accessibilityPlatform','Accessibility\x20Automation\x20will\x20run\x20only\x20on\x20Chrome\x20browser\x20version\x20greater\x20than\x2094.','hMJsc','evaluate','XuEsZ','\x20page:\x20','accessibilityOptions.wcagVersion','debug','currentTest','project','HbNGq','browserStackExecuteDriver','hKREQ','GFjwE','scannerVersion','wsEndpoint','browser_version','scannerProcessingTimeout','format','MfpEC','measureWrapper','IcVxB','2915KEgRtJ','use','bBnfF','needsReview','qlnZI','accessibilityOptions.includeIssueType.bestPractice','setAccessibilityCapabilities','../../helpers/accessibility-automation/scripts','1182DZbGne','latest','bstackSdkArgs','getAccessibilityResults','warn','playwright-chromium','replace','5948nLpGxi','LtPsg','cKFiB','BgMmF','ydEVx','oWpEq','Exception\x20in\x20validation\x20for\x20launch\x20browser\x20for\x20accessibility.\x20Error:\x20','parse','Accessibility\x20Automation\x20will\x20run\x20only\x20on\x20Chrome\x20browser\x20version\x20greater\x20than\x20100.','Dvejd','../../helpers/performance/performance-tester','executeScript','rMeDu','accessibilityOptions.includeIssueType.needsReview','tlaJK','564874zgqrSU','PvHAs','__workerDetails','18801990TwBKBt','toYpC','accessibilityOptions','hLbha','browserName','getAccessibilityResultsSummary','faxmv','Not\x20a\x20Accessibility\x20Automation\x20session,\x20cannot\x20retrieve\x20Accessibility\x20results.','util','name','Playwright','stringify','browserStackEvaluate','eWDMZ','xUgmj','BS_A11Y_JWT','testInfo','CcoAO','LjrMG','Accessibility\x20Automation\x20will\x20run\x20only\x20on\x20Chrome\x20browsers.','1428fSZSen','browserstack.accessibility','6812694oySAVW','wcagVersion','(function\x20(...bstackSdkArgs)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20new\x20Promise((resolve,\x20reject)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20bstackSdkArgs.push(resolve);\x0a\x20\x20\x20\x20\x20\x20\x20\x20','BVgfh','error','connectOptions','constructor','rhnNv','../../helpers/helper','BSXUa','ZzSit','includeIssueType','186tiXIWM','platformValidation','bZziu','CEfAI','WebDriver','bestPractice','DmCtc','browser','accessibilityOptions.authToken','\x0a\x20\x20\x20\x20})\x0a\x20\x20})(','chrome','command','LSvnK','384840DaVgQK','PERFORM_SCAN','tQCDI','120UKedTg','url','pRxHR','deviceName','winstonLogger','Not\x20a\x20Accessibility\x20Automation\x20session,\x20cannot\x20retrieve\x20Accessibility\x20results\x20summary.','workerInfo','YDkrh','performScan','EODSa','Lyzkh'];a38_0x212f=function(){return _0x1bc9aa;};return a38_0x212f();}exports[a38_0xd36788(0x1da)]=async(_0x5a3f2a,_0x6972fb,_0x1667c0={})=>{const _0x6390d=a38_0xd36788,_0x530736={};_0x530736[_0x6390d(0x20a)]=_0x6390d(0x22c);const _0x32ec49=_0x530736;return await _0x5a3f2a[_0x6390d(0x20f)]('(function\x20(...bstackSdkArgs)\x20{\x0a\x20\x20\x20\x20return\x20new\x20Promise((resolve,\x20reject)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20bstackSdkArgs.push(resolve);\x0a\x20\x20\x20\x20\x20\x20'+_0x6972fb[_0x6390d(0x230)](/arguments/g,_0x32ec49[_0x6390d(0x20a)])+_0x6390d(0x1f9)+JSON[_0x6390d(0x1d9)](_0x1667c0)+')');},exports[a38_0xd36788(0x217)]=async(_0x4d4aad,_0x1a3092,_0x5b1776={})=>{const _0x4af3fb=a38_0xd36788,_0x504406={};_0x504406[_0x4af3fb(0x1dc)]=function(_0x5aa88c,_0x4135ba){return _0x5aa88c===_0x4135ba;},_0x504406[_0x4af3fb(0x1d4)]=_0x4af3fb(0x1f4),_0x504406[_0x4af3fb(0x1eb)]=_0x4af3fb(0x1d8),_0x504406[_0x4af3fb(0x21f)]='bstackSdkArgs';const _0x16a2dd=_0x504406;if(_0x16a2dd[_0x4af3fb(0x1dc)](_0x4d4aad[_0x4af3fb(0x1ea)][_0x4af3fb(0x1d7)],_0x16a2dd[_0x4af3fb(0x1d4)]))return await _0x4d4aad['executeAsyncScript'](_0x1a3092,_0x5b1776);else{if(_0x16a2dd[_0x4af3fb(0x1dc)](_0x4d4aad[_0x4af3fb(0x1ea)][_0x4af3fb(0x1d7)],_0x16a2dd['rhnNv']))return await _0x4d4aad[_0x4af3fb(0x23c)](_0x4af3fb(0x1e6)+_0x1a3092['replace'](/arguments/g,_0x16a2dd[_0x4af3fb(0x21f)])+'\x0a\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20})('+JSON[_0x4af3fb(0x1d9)](_0x5b1776)+')');}},exports[a38_0xd36788(0x228)]=async _0x5cfae5=>{const _0x232f68=a38_0xd36788,_0x590469={};_0x590469[_0x232f68(0x209)]=_0x232f68(0x212),_0x590469[_0x232f68(0x236)]='accessibilityOptions.scannerProcessingTimeout',_0x590469[_0x232f68(0x1ee)]=_0x232f68(0x227),_0x590469[_0x232f68(0x221)]=_0x232f68(0x23e),_0x590469[_0x232f68(0x234)]=_0x232f68(0x1f8),_0x590469[_0x232f68(0x1f3)]='accessibilityOptions.scannerVersion';const _0x17b7ef=_0x590469;_0x5cfae5['accessibilityOptions']&&(_0x5cfae5[_0x232f68(0x245)][_0x232f68(0x1e5)]&&(_0x5cfae5[_0x17b7ef[_0x232f68(0x209)]]=_0x5cfae5['accessibilityOptions'][_0x232f68(0x1e5)]),_0x5cfae5[_0x232f68(0x245)][_0x232f68(0x21d)]&&(_0x5cfae5[_0x17b7ef[_0x232f68(0x236)]]=_0x5cfae5[_0x232f68(0x245)][_0x232f68(0x21d)]),_0x5cfae5['accessibilityOptions'][_0x232f68(0x1ef)]&&(_0x5cfae5[_0x17b7ef[_0x232f68(0x1ee)]]=_0x5cfae5[_0x232f68(0x245)][_0x232f68(0x1ef)][_0x232f68(0x1f5)],_0x5cfae5[_0x17b7ef[_0x232f68(0x221)]]=_0x5cfae5['accessibilityOptions'][_0x232f68(0x1ef)][_0x232f68(0x225)]));const _0x4e2b44=JSON[_0x232f68(0x238)](process['env']['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML'])[_0x232f68(0x21a)];_0x5cfae5[_0x17b7ef['BgMmF']]=process['env'][_0x232f68(0x1dd)],_0x5cfae5[_0x17b7ef[_0x232f68(0x1f3)]]=_0x4e2b44,delete _0x5cfae5['accessibilityOptions'];},exports[a38_0xd36788(0x22d)]=async _0x537e72=>{const _0x9a43bc=a38_0xd36788,_0x5e83cd={};_0x5e83cd['lcKBK']='No\x20accessibility\x20results\x20were\x20found.',_0x5e83cd[_0x9a43bc(0x246)]=_0x9a43bc(0x1d5);const _0x5874af=_0x5e83cd;if(global[_0x9a43bc(0x20c)])try{const details={'url':await _0x537e72.url(),'testhub_btcer_uuid':global.__workerDetails?.currentTest?.id};logger.debug('Performing scan before getting results');PerformanceTester.measureWrapper(PerformanceA11yEvents.PERFORM_SCAN,async()=>{logger.debug(util.format(await exports.browserStackEvaluate(_0x537e72,scripts.performScan)));},{command:'getAccessibilityResults',...details})();const res=await PerformanceTester.measureWrapper(PerformanceA11yEvents.GET_RESULTS,async()=>{return await exports.browserStackEvaluate(_0x537e72,scripts.getResults);},{...details})();return res;}catch{return logger[_0x9a43bc(0x1e8)](_0x5874af['lcKBK']),[];}else return logger[_0x9a43bc(0x22e)](_0x5874af['hLbha']),[];},exports['performScan']=async(_0x173f3d,_0x429ed0='')=>{const _0x4d70a6=a38_0xd36788;logger[_0x4d70a6(0x213)]('Performing\x20scan\x20with\x20method:\x20'+_0x429ed0+_0x4d70a6(0x211)+_0x173f3d);const _0x4901e8={'url':await _0x173f3d[_0x4d70a6(0x201)](),'testhub_btcer_uuid':global[_0x4d70a6(0x242)]?.[_0x4d70a6(0x214)]?.['id']};if(global['accessibilityPlatform'])return await PerformanceTester[_0x4d70a6(0x220)](PerformanceA11yEvents[_0x4d70a6(0x1fe)],async()=>{const _0x33634b=_0x4d70a6,_0x33d1f1={};_0x33d1f1[_0x33634b(0x1fb)]=_0x429ed0;const _0x45ae5=await exports[_0x33634b(0x1da)](_0x173f3d,scripts[_0x33634b(0x208)],_0x33d1f1);return _0x45ae5;},{'command':_0x429ed0,..._0x4901e8})();},exports[a38_0xd36788(0x1d3)]=async _0x2b1975=>{const _0x539646=a38_0xd36788,_0x5cfae6={};_0x5cfae6[_0x539646(0x20e)]='No\x20summaryResults\x20found.',_0x5cfae6['bEkmq']=_0x539646(0x205);const _0x2c5d98=_0x5cfae6;if(global[_0x539646(0x20c)])try{await PerformanceTester.measureWrapper(PerformanceA11yEvents.PERFORM_SCAN,async()=>{logger.debug('Performing scan before getting results summary');logger.debug(util.format(await exports.browserStackEvaluate(_0x2b1975,scripts.performScan)));},{command:'getAccessibilityResultsSummary'})();const summaryResults=await PerformanceTester.measureWrapper(PerformanceA11yEvents.GET_RESULTS_SUMMARY,async()=>{return await exports.browserStackEvaluate(_0x2b1975,scripts.getResultsSummary);})();return summaryResults;}catch{return logger['debug'](_0x2c5d98['hMJsc']),{};}else return logger[_0x539646(0x22e)](_0x2c5d98['bEkmq']),{};},exports[a38_0xd36788(0x1f1)]=async _0x1e644b=>{const _0xaab12e=a38_0xd36788,_0x4a7f04={'xkLvS':function(_0x379770,_0x125dcf){return _0x379770!==_0x125dcf;},'tQCDI':_0xaab12e(0x20b),'qlnZI':_0xaab12e(0x1fa),'bZziu':_0xaab12e(0x22f),'hKREQ':'chromium','tlaJK':_0xaab12e(0x1e1),'DmCtc':function(_0x7e9895,_0x266ace){return _0x7e9895(_0x266ace);},'OCxGQ':function(_0x4572f0){return _0x4572f0();},'bBnfF':function(_0x34cf8e,_0xf03f92){return _0x34cf8e<_0xf03f92;},'toYpC':_0xaab12e(0x239),'GFjwE':function(_0x5c2654,_0x2e8fb2){return _0x5c2654===_0x2e8fb2;},'cKFiB':_0xaab12e(0x22b),'iBJjU':function(_0x4af5c5,_0x421ef6){return _0x4af5c5>_0x421ef6;},'nioko':_0xaab12e(0x20d)};try{if(!_0x4a7f04['xkLvS'](_0x1e644b[_0xaab12e(0x203)],''))return logger[_0xaab12e(0x22e)](_0x4a7f04[_0xaab12e(0x1ff)]),![];const _0xfe7898=_0x1e644b[_0xaab12e(0x1f7)];if(![_0x4a7f04[_0xaab12e(0x226)],_0x4a7f04[_0xaab12e(0x1f2)],_0x4a7f04[_0xaab12e(0x218)]]['includes'](_0xfe7898))return logger['warn'](_0x4a7f04[_0xaab12e(0x23f)]),![];const _0x3b27ce=_0x4a7f04[_0xaab12e(0x1f6)](parseInt,_0x1e644b[_0xaab12e(0x21c)]);!_0x4a7f04['OCxGQ'](isBrowserstackInfra)&&(!_0x4a7f04[_0xaab12e(0x224)](_0x3b27ce,0x64)&&logger['warn'](_0x4a7f04[_0xaab12e(0x244)]));if(!(_0x4a7f04[_0xaab12e(0x219)](_0x3b27ce,_0x4a7f04[_0xaab12e(0x233)])||_0x4a7f04['iBJjU'](_0x3b27ce,0x5e)))return logger['warn'](_0x4a7f04['nioko']),![];}catch(_0x453b74){logger[_0xaab12e(0x213)]('Platform\x20validation\x20for\x20a11y\x20failed\x20with:\x20'+util[_0xaab12e(0x21e)](_0x453b74));}return!![];},exports['processAccessibilityCaps']=(_0x1ae566,_0x110aea,_0x2f31a7)=>{const _0x5d74ae=a38_0xd36788,_0x11f60e={'LSvnK':function(_0x59d073){return _0x59d073();},'LtPsg':_0x5d74ae(0x1e3),'CcoAO':function(_0x32f2a5,_0x181258){return _0x32f2a5===_0x181258;},'Dvejd':_0x5d74ae(0x1fa),'XuEsZ':_0x5d74ae(0x22f),'YDkrh':'Accessibility\x20Automation\x20will\x20run\x20only\x20on\x20Chrome\x20browsers.','PvHAs':function(_0x11bd9f){return _0x11bd9f();},'HbNGq':function(_0x2b0418,_0x2e5753){return _0x2b0418>_0x2e5753;},'eWDMZ':_0x5d74ae(0x239),'pRxHR':function(_0x31266b,_0x2dcd06){return _0x31266b===_0x2dcd06;},'rMeDu':_0x5d74ae(0x22b),'BVgfh':function(_0x10addc,_0x5ef9a0){return _0x10addc>_0x5ef9a0;},'ydEVx':_0x5d74ae(0x20d),'LjrMG':function(_0xac7355,_0x2e4401){return _0xac7355(_0x2e4401);},'BSXUa':'Accessibility\x20Automation\x20will\x20run\x20only\x20on\x20Desktop\x20browsers.','Nvnep':function(_0x101d90,_0xae524e){return _0x101d90+_0xae524e;}};try{if(_0x11f60e[_0x5d74ae(0x1fc)](isAccessibilityAutomationSession)){global[_0x5d74ae(0x20c)]=!![];!_0x1ae566[_0x11f60e[_0x5d74ae(0x232)]]&&(global['accessibilityPlatform']=![]);!(_0x11f60e[_0x5d74ae(0x1df)](_0x1ae566[_0x5d74ae(0x247)],_0x11f60e[_0x5d74ae(0x23a)])||_0x11f60e[_0x5d74ae(0x1df)](_0x1ae566[_0x5d74ae(0x247)],_0x11f60e[_0x5d74ae(0x210)])||_0x11f60e[_0x5d74ae(0x1df)](_0x1ae566[_0x5d74ae(0x1f7)],_0x11f60e[_0x5d74ae(0x23a)])||_0x11f60e[_0x5d74ae(0x1df)](_0x1ae566['browser'],_0x11f60e['XuEsZ']))&&(logger['warn'](_0x11f60e[_0x5d74ae(0x207)]),global['accessibilityPlatform']=![]);!_0x11f60e[_0x5d74ae(0x241)](isBrowserstackInfra)&&(!_0x11f60e[_0x5d74ae(0x216)](_0x1ae566[_0x5d74ae(0x21c)],0x64)&&logger[_0x5d74ae(0x22e)](_0x11f60e[_0x5d74ae(0x1db)]));!(_0x11f60e[_0x5d74ae(0x202)](_0x1ae566[_0x5d74ae(0x21c)],_0x11f60e[_0x5d74ae(0x23d)])||_0x11f60e[_0x5d74ae(0x1e7)](_0x1ae566['browser_version'],0x5e))&&(logger['warn'](_0x11f60e[_0x5d74ae(0x235)]),global[_0x5d74ae(0x20c)]=![]);!_0x11f60e[_0x5d74ae(0x1e0)](isUndefined,_0x1ae566[_0x5d74ae(0x203)])&&(logger[_0x5d74ae(0x22e)](_0x11f60e[_0x5d74ae(0x1ed)]),global[_0x5d74ae(0x20c)]=![]);if(!global[_0x5d74ae(0x20c)]){_0x1ae566[_0x11f60e[_0x5d74ae(0x232)]]=![];const _0x2bba9b=_0x11f60e['Nvnep'](_0x110aea,_0x11f60e[_0x5d74ae(0x1e0)](encodeURIComponent,JSON['stringify'](_0x1ae566)));_0x2f31a7&&(_0x2f31a7[_0x5d74ae(0x214)][_0x5d74ae(0x1de)][_0x5d74ae(0x215)][_0x5d74ae(0x223)][_0x5d74ae(0x1e9)][_0x5d74ae(0x21b)]=_0x2bba9b,_0x2f31a7[_0x5d74ae(0x206)][_0x5d74ae(0x215)][_0x5d74ae(0x223)][_0x5d74ae(0x1e9)][_0x5d74ae(0x21b)]=_0x2bba9b);}}else global['accessibilityPlatform']=![];}catch(_0x2f6b43){logger[_0x5d74ae(0x213)](_0x5d74ae(0x237)+util[_0x5d74ae(0x21e)](_0x2f6b43));}};