const a41_0x3b8cac=a41_0x19f6;function a41_0x19f6(_0x16b41b,_0x462c29){const _0x267f85=a41_0x267f();return a41_0x19f6=function(_0x19f6bb,_0x4c311a){_0x19f6bb=_0x19f6bb-0x106;let _0x24a385=_0x267f85[_0x19f6bb];return _0x24a385;},a41_0x19f6(_0x16b41b,_0x462c29);}function a41_0x267f(){const _0x7d5f6c=['27KMAqnj','Path\x20','Running\x20existing\x20global\x20setup','lXwOa','winstonLogger','apply','resolve','requirePWModule','VmKRS','wICaY','function','./mock-process.js','Got\x20exception\x20while\x20mocking\x20isWorkerRedundant:\x20','SPCTK','Myefu','zQTgw','93024auqVAX','2370792rrZbKU','ENRWC','Call\x20to\x20child\x20fork\x20with\x20args\x20','kSzyD','2710106anntpL','Not\x20able\x20to\x20import\x20globalSetup','child_process','isHandlePWErrorSet','toString','474603lkVuDx','Gfonf','KBABH','BROWSERSTACK_PLAYWRIGHT_GLOBAL_SETUP','exports','includes','../../helpers/helper','358830KOJSOT','../../helpers/logger','env','99qTKUtn','71690waAlGV','390QGzLVL','17065lpTJly','1.33.0','compareVersions','JWUBc','format','config'];a41_0x267f=function(){return _0x7d5f6c;};return a41_0x267f();}(function(_0x3936c3,_0x417692){const _0x3066f1=a41_0x19f6,_0x2e7440=_0x3936c3();while(!![]){try{const _0xd6de63=parseInt(_0x3066f1(0x127))/0x1+-parseInt(_0x3066f1(0x132))/0x2*(-parseInt(_0x3066f1(0x10d))/0x3)+-parseInt(_0x3066f1(0x11d))/0x4+-parseInt(_0x3066f1(0x107))/0x5*(parseInt(_0x3066f1(0x106))/0x6)+-parseInt(_0x3066f1(0x122))/0x7+-parseInt(_0x3066f1(0x11e))/0x8+-parseInt(_0x3066f1(0x131))/0x9*(-parseInt(_0x3066f1(0x12e))/0xa);if(_0xd6de63===_0x417692)break;else _0x2e7440['push'](_0x2e7440['shift']());}catch(_0x541d00){_0x2e7440['push'](_0x2e7440['shift']());}}}(a41_0x267f,0x40491));const util=require('util'),child_process=require(a41_0x3b8cac(0x124)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),{getFrameworkVersion,debug}=require('../../helpers/test-observability/utils'),helper=require(a41_0x3b8cac(0x12d)),{getLoadUtilsPath,getForkProcessPath}=require('./reporter/pwUtils'),{mockIsWorkerRedundant}=require('./patches'),logger=require(a41_0x3b8cac(0x12f))[a41_0x3b8cac(0x111)];module[a41_0x3b8cac(0x12b)]=async function(_0xaa691a){const _0x5ab69a=a41_0x3b8cac,_0x537766={'Myefu':function(_0x1dd05e,_0x57777f){return _0x1dd05e(_0x57777f);},'zQTgw':function(_0x3d5db6){return _0x3d5db6();},'Gfonf':_0x5ab69a(0x118),'lXwOa':_0x5ab69a(0x10f),'KBABH':function(_0x40a194){return _0x40a194();},'ENRWC':function(_0x528083,_0x32b0fa){return _0x528083(_0x32b0fa);},'VmKRS':function(_0x40ad67,_0x4bfc4f){return _0x40ad67>=_0x4bfc4f;},'SPCTK':_0x5ab69a(0x108),'kSzyD':function(_0x67074,_0x43424a,_0x4f2b2d){return _0x67074(_0x43424a,_0x4f2b2d);},'KPMly':function(_0x2f5111,_0x4f761d){return _0x2f5111!==_0x4f761d;},'JWUBc':_0x5ab69a(0x117),'edRFd':_0x5ab69a(0x123),'wICaY':function(_0x3e6052,_0x517b54){return _0x3e6052(_0x517b54);}},_0x4c5a59=child_process['fork'];if(helper[_0x5ab69a(0x125)]())try{_0x537766['zQTgw'](mockIsWorkerRedundant);}catch(_0x491049){logger['debug'](_0x5ab69a(0x119)+util[_0x5ab69a(0x10b)](_0x491049));}child_process['fork']=function(){const _0x4a57de=_0x5ab69a;return _0x537766[_0x4a57de(0x11b)](debug,_0x4a57de(0x120)+arguments[0x0]),arguments[0x0][_0x4a57de(0x12c)](_0x537766[_0x4a57de(0x11c)](getForkProcessPath))?arguments[0x0]=require[_0x4a57de(0x113)](_0x537766[_0x4a57de(0x128)]):logger['error'](_0x4a57de(0x10e)+_0x537766[_0x4a57de(0x11c)](getForkProcessPath)+'\x20is\x20not\x20found'),_0x4c5a59['apply'](null,arguments);};if(process[_0x5ab69a(0x130)]['BROWSERSTACK_PLAYWRIGHT_GLOBAL_SETUP']){_0x537766[_0x5ab69a(0x11b)](debug,_0x537766[_0x5ab69a(0x110)]);try{const {loadGlobalHook:_0x33a378}=helper[_0x5ab69a(0x114)][_0x5ab69a(0x112)](null,_0x537766[_0x5ab69a(0x129)](getLoadUtilsPath)),_0x4f9b50=_0x537766[_0x5ab69a(0x11f)](getFrameworkVersion,FRAMEWORKS['PLAYWRIGHT']);let _0x52e763=_0xaa691a;if(_0x537766[_0x5ab69a(0x115)](helper[_0x5ab69a(0x109)](_0x4f9b50,_0x537766[_0x5ab69a(0x11a)]),0x0)){const _0x3f98eb={};_0x3f98eb[_0x5ab69a(0x10c)]=_0xaa691a,_0x52e763=_0x3f98eb;}const _0x359081=await _0x537766[_0x5ab69a(0x121)](_0x33a378,_0x52e763,process[_0x5ab69a(0x130)][_0x5ab69a(0x12a)]);if(_0x537766['KPMly'](typeof _0x359081,_0x537766[_0x5ab69a(0x10a)]))throw new Error(_0x537766['edRFd']);return _0x359081['apply'](null,arguments);}catch(_0x4c3095){_0x537766[_0x5ab69a(0x116)](debug,'Error\x20in\x20calling\x20existing\x20global\x20setup:\x20'+_0x4c3095[_0x5ab69a(0x126)]());}}};