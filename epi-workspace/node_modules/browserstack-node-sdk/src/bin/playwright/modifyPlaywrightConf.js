const a43_0x15e445=a43_0x579d;(function(_0x35249b,_0x5413b0){const _0x4d9406=a43_0x579d,_0xae52b4=_0x35249b();while(!![]){try{const _0x3e7d4c=parseInt(_0x4d9406(0xf0))/0x1+-parseInt(_0x4d9406(0x167))/0x2*(parseInt(_0x4d9406(0x11c))/0x3)+parseInt(_0x4d9406(0x13a))/0x4+-parseInt(_0x4d9406(0x132))/0x5+parseInt(_0x4d9406(0x176))/0x6+-parseInt(_0x4d9406(0x110))/0x7*(parseInt(_0x4d9406(0xd6))/0x8)+-parseInt(_0x4d9406(0xe9))/0x9;if(_0x3e7d4c===_0x5413b0)break;else _0xae52b4['push'](_0xae52b4['shift']());}catch(_0x588743){_0xae52b4['push'](_0xae52b4['shift']());}}}(a43_0x4f4b,0x64e83));const fs=require('fs'),util=require('util'),path=require(a43_0x15e445(0xdc));let config={};const browserstackSetup={},helper=require(a43_0x15e445(0x14b)),{PLAYWRIGHT_CONFIG_OPTION_ERRORS}=require(a43_0x15e445(0x108)),{getTransformPath,getProjectUtilsPath}=require('./reporter/pwUtils'),{shouldProcessEventForTesthub}=require('../../helpers/testhub/utils'),{CrashReporter}=require('../../helpers/test-observability/error-handler'),{FRAMEWORKS}=require(a43_0x15e445(0xd8)),{getFrameworkVersion}=require(a43_0x15e445(0x160)),BrowserstackCli=require('../v2/browserstackCLI'),GrpcClient=require(a43_0x15e445(0x105)),{createClassLogger}=require(a43_0x15e445(0x13f)),logger=createClassLogger('modifyPlaywrightConf'),getConfigFromCLI=async()=>{const _0x49d6e1=a43_0x15e445,_0x4aa331={};_0x4aa331[_0x49d6e1(0x147)]=_0x49d6e1(0xfd);const _0x10ad55=_0x4aa331,_0x2730f5={};_0x2730f5[_0x49d6e1(0x123)]=config;const _0x20a660=await GrpcClient[_0x49d6e1(0xde)]()[_0x49d6e1(0x134)](_0x2730f5);if(!_0x20a660['getConfig']())throw new Error(_0x10ad55[_0x49d6e1(0x147)]);return JSON[_0x49d6e1(0x130)](_0x20a660['getConfig']());},handleAutomationTrue=async()=>{const _0x4cb853=a43_0x15e445,_0xb5741b={'PspZn':_0x4cb853(0x10e),'KSEDm':_0x4cb853(0x127),'bgXaj':_0x4cb853(0xf1),'hNKar':function(_0x272a28,_0x355b7f){return _0x272a28+_0x355b7f;},'oJWjS':function(_0x2e03bb,_0x176e5e){return _0x2e03bb(_0x176e5e);},'ogVKa':function(_0x57dae6,_0x42b95a){return _0x57dae6===_0x42b95a;},'dHjAe':_0x4cb853(0x15f),'nOCpN':_0x4cb853(0x16e),'IFcMV':_0x4cb853(0x121),'xmdUv':function(_0x13c499,_0x504c0f,_0x2ca712,_0xb866be){return _0x13c499(_0x504c0f,_0x2ca712,_0xb866be);},'vAnpO':function(_0x4faab3){return _0x4faab3();},'gFwgc':_0x4cb853(0x180),'fJMGQ':_0x4cb853(0x162),'LyyPk':function(_0x256e9c){return _0x256e9c();},'MSGPf':_0x4cb853(0x149),'KKBMf':_0x4cb853(0x157),'DDPbZ':_0x4cb853(0x14d),'yBpGf':function(_0x142524,_0x175d55){return _0x142524+_0x175d55;},'MbWcI':_0x4cb853(0x126),'YRiGK':function(_0x1684fd,_0x5c2412){return _0x1684fd*_0x5c2412;}};let _0xae9843=[];if(BrowserstackCli['getInstance']()[_0x4cb853(0xd9)]()&&BrowserstackCli[_0x4cb853(0xde)]()['getConfig']()[_0x4cb853(0xdf)]){const _0x1cf6e2=await _0xb5741b[_0x4cb853(0x156)](getConfigFromCLI);config[_0xb5741b['gFwgc']]=_0x1cf6e2[_0x4cb853(0x104)]||0x1,config[_0xb5741b[_0x4cb853(0x10c)]]=[];try{_0xae9843=_0x1cf6e2[_0x4cb853(0x142)];}catch(_0x5a1afe){logger[_0x4cb853(0x17f)](_0x4cb853(0xf8)+util[_0x4cb853(0x16c)](_0x5a1afe));}}else{if(!BrowserstackCli[_0x4cb853(0xde)]()['isRunning']()&&helper[_0x4cb853(0x14a)]()){if(helper[_0x4cb853(0x10a)](browserstackSetup[_0x4cb853(0xe3)][_0x4cb853(0x173)])||_0xb5741b[_0x4cb853(0x150)](browserstackSetup[_0x4cb853(0xe3)][_0x4cb853(0x173)]['length'],0x0)){const _0x17bf48=browserstackSetup[_0x4cb853(0xe3)]['parallelsPerPlatform']||browserstackSetup[_0x4cb853(0xe3)][_0x4cb853(0x180)]||config[_0xb5741b[_0x4cb853(0xe4)]]||0x1;config[_0xb5741b['gFwgc']]=_0x17bf48;return;}config[_0xb5741b['fJMGQ']]=[],browserstackSetup[_0x4cb853(0xe3)][_0x4cb853(0x173)][_0x4cb853(0xed)]((_0x1c9088,_0x1a37e0)=>{const _0x5594b8=_0x4cb853;_0xae9843[_0x5594b8(0xfc)](helper['modifyBrowserStackCaps'](browserstackSetup[_0x5594b8(0xe3)],_0xb5741b['PspZn'],_0x1a37e0));}),_0xae9843[_0x4cb853(0xed)](_0x2bb99b=>{const _0x4796f2=_0x4cb853;helper[_0x4796f2(0x178)](_0x2bb99b);});}}if(!BrowserstackCli[_0x4cb853(0xde)]()[_0x4cb853(0xd9)]()&&helper[_0x4cb853(0x14a)]()||BrowserstackCli[_0x4cb853(0xde)]()[_0x4cb853(0xd9)]()&&BrowserstackCli[_0x4cb853(0xde)]()[_0x4cb853(0xf7)]()[_0x4cb853(0xdf)]){let _0x42fed9,_0x32ca7a=[];try{_0x42fed9=helper[_0x4cb853(0x136)][_0x4cb853(0x111)](null,_0xb5741b[_0x4cb853(0x13b)](getProjectUtilsPath));const _0x3f566e={};_0x3f566e[_0x4cb853(0x159)]=!![];const _0x1703d0={};_0x1703d0[_0x4cb853(0x159)]=!![],_0x1703d0[_0x4cb853(0x15f)]='',_0x1703d0[_0x4cb853(0x157)]=_0xb5741b['MSGPf'],_0x1703d0['testIgnore']='',_0x1703d0[_0x4cb853(0x106)]=_0x3f566e;const _0x4f076d={};_0x4f076d[_0x4cb853(0x13e)]=_0x1703d0;let _0x379d52=_0x4f076d;config[_0xb5741b['dHjAe']]&&(_0x379d52[_0x4cb853(0x13e)][_0xb5741b[_0x4cb853(0xfb)]]=config[_0xb5741b[_0x4cb853(0xfb)]]),config[_0xb5741b[_0x4cb853(0x179)]]&&(_0x379d52[_0x4cb853(0x13e)][_0xb5741b[_0x4cb853(0x179)]]=config[_0xb5741b['KKBMf']]),config[_0xb5741b[_0x4cb853(0xfe)]]&&(_0x379d52[_0x4cb853(0x13e)][_0xb5741b[_0x4cb853(0xfe)]]=config[_0xb5741b['DDPbZ']]),_0x379d52=Object[_0x4cb853(0x11b)](_0x379d52,_0x379d52[_0x4cb853(0x13e)]),_0x32ca7a=await _0x42fed9[_0x4cb853(0x154)](_0x379d52);}catch(_0x2c752d){console['log'](_0xb5741b[_0x4cb853(0x10b)](_0xb5741b[_0x4cb853(0xce)],util[_0x4cb853(0x16c)](_0x2c752d)));}const _0x395536=helper[_0x4cb853(0xe5)](browserstackSetup[_0x4cb853(0xe3)]),_0x4c7706=await _0xb5741b['xmdUv'](getPWOptionsTests,_0xae9843,_0x42fed9,_0x32ca7a);_0xae9843['forEach']((_0x2abaed,_0x15c855)=>{const _0x3f4611=_0x4cb853,_0x5afe11={},_0x180928={};_0x180928[_0x3f4611(0xd7)]=browserstackSetup[_0x3f4611(0xe3)][_0x3f4611(0x173)][_0x15c855],_0x5afe11[_0xb5741b[_0x3f4611(0x153)]]=_0x180928,helper[_0x3f4611(0x11e)](_0x2abaed,_0x5afe11),helper[_0x3f4611(0x139)](_0x5afe11,browserstackSetup[_0x3f4611(0xe3)][_0x3f4611(0x173)][_0x15c855],browserstackSetup[_0x3f4611(0xe3)][_0x3f4611(0x173)][_0x15c855][_0x3f4611(0x140)]||config['playwrightConfigOptions']||null),_0x5afe11[_0xb5741b[_0x3f4611(0x153)]][_0xb5741b['bgXaj']]={'wsEndpoint':_0xb5741b[_0x3f4611(0x11f)](_0x395536,_0xb5741b[_0x3f4611(0x16a)](encodeURIComponent,JSON[_0x3f4611(0x137)](_0x2abaed)))};try{_0xb5741b[_0x3f4611(0x150)](typeof _0x5afe11[_0xb5741b[_0x3f4611(0xfb)]],_0xb5741b['nOCpN'])&&(_0x5afe11[_0xb5741b[_0x3f4611(0xfb)]]=_0x5afe11[_0xb5741b[_0x3f4611(0xfb)]](helper[_0x3f4611(0xdd)]));}catch(_0x1253f7){console['log'](_0xb5741b[_0x3f4611(0x11f)](_0xb5741b[_0x3f4611(0x15c)],util['format'](_0x1253f7)));}_0xb5741b[_0x3f4611(0x14f)](addProjectToProjectList,_0x4c7706,_0x15c855,_0x5afe11);});_0x32ca7a[_0x4cb853(0x17c)]&&(config[_0xb5741b[_0x4cb853(0x179)]]='');const _0x4450f2=_0xb5741b['YRiGK'](browserstackSetup[_0x4cb853(0xe3)][_0x4cb853(0x173)][_0x4cb853(0x17c)]||0x1,browserstackSetup[_0x4cb853(0xe3)][_0x4cb853(0x172)]||config[_0xb5741b[_0x4cb853(0xe4)]]||0x1);config[_0xb5741b[_0x4cb853(0xe4)]]=_0x4450f2;}},addProjectToProjectList=(_0x563d7c,_0x2e7b70,_0x386a62)=>{const _0x2b83a4=a43_0x15e445,_0x35db5b={'YBnLZ':function(_0x1fb5b1,_0x56829f){return _0x1fb5b1>_0x56829f;},'GUbKI':_0x2b83a4(0xe7),'fMCDk':_0x2b83a4(0x157),'Xhyjg':'setup','dOXsu':_0x2b83a4(0x117),'Pzcbf':_0x2b83a4(0x162),'sTltl':'use','tckie':_0x2b83a4(0xd7),'fixhz':_0x2b83a4(0x140),'otiYP':function(_0x1c5484,_0x40341d,_0x2ad744){return _0x1c5484(_0x40341d,_0x2ad744);},'qoMYm':function(_0x1620e9,_0x563345){return _0x1620e9>_0x563345;}},_0x145b18=_0x563d7c[_0x2e7b70],_0x4bc10e=browserstackSetup[_0x2b83a4(0xe3)][_0x2b83a4(0x173)][_0x2e7b70][_0x2b83a4(0x140)];_0x386a62[_0x35db5b[_0x2b83a4(0x15e)]][_0x35db5b[_0x2b83a4(0x113)]][_0x35db5b[_0x2b83a4(0x133)]]&&delete _0x386a62[_0x35db5b[_0x2b83a4(0x15e)]][_0x35db5b[_0x2b83a4(0x113)]][_0x35db5b['fixhz']];const _0x3dcb15=_0x35db5b['otiYP'](setSetupAndTeardownConfigs,helper[_0x2b83a4(0x119)](_0x386a62),_0x4bc10e);_0x35db5b[_0x2b83a4(0xec)](_0x145b18[_0x2b83a4(0x17c)],0x0)?_0x145b18[_0x2b83a4(0xed)](_0x2c2746=>{const _0x580724=_0x2b83a4,_0x52dcdd=helper[_0x580724(0x119)](_0x386a62);_0x35db5b[_0x580724(0xcf)](_0x3dcb15['length'],0x0)&&(_0x52dcdd[_0x35db5b[_0x580724(0x143)]]=_0x3dcb15),_0x52dcdd[_0x35db5b[_0x580724(0xd1)]]=_0x2c2746,_0x52dcdd[_0x35db5b[_0x580724(0x10f)]]&&delete _0x52dcdd[_0x580724(0x114)],_0x52dcdd[_0x35db5b[_0x580724(0xd5)]]&&delete _0x52dcdd[_0x580724(0x117)],config[_0x35db5b['Pzcbf']][_0x580724(0xfc)](_0x52dcdd);}):config[_0x35db5b[_0x2b83a4(0x112)]]['push'](_0x386a62);},setSetupAndTeardownConfigs=(_0x2eebd1,_0x55f270)=>{const _0x281a43=a43_0x15e445,_0x18ccee={'EbYdj':function(_0x4ee41b,_0xb8a729,_0x282ef3){return _0x4ee41b(_0xb8a729,_0x282ef3);},'GrgXU':_0x281a43(0x117),'hPFMB':function(_0x442be3,_0xc9fe8d,_0x2204b0,_0x3dcdec){return _0x442be3(_0xc9fe8d,_0x2204b0,_0x3dcdec);},'obQuU':_0x281a43(0x127),'YyjQp':_0x281a43(0x162),'AXieJ':_0x281a43(0x114),'PrJPB':function(_0x2b54d8,_0x1fd2fd,_0x4c8dae,_0x1847ec,_0x15c009){return _0x2b54d8(_0x1fd2fd,_0x4c8dae,_0x1847ec,_0x15c009);},'aNZwZ':function(_0x1b2e1f,_0x27fcee,_0x931156,_0x54a2a1){return _0x1b2e1f(_0x27fcee,_0x931156,_0x54a2a1);}};if(!_0x55f270)return[];const _0x5be1ee=[],_0x4a3176=[];let _0x5ae8f1,_0x54cd34;return _0x55f270[_0x18ccee[_0x281a43(0x12c)]]&&(_0x5ae8f1=_0x55f270[_0x18ccee['AXieJ']]),_0x55f270[_0x18ccee[_0x281a43(0xeb)]]&&(_0x54cd34=_0x55f270[_0x18ccee[_0x281a43(0xeb)]]),_0x54cd34&&Array[_0x281a43(0x12b)](_0x54cd34)&&_0x54cd34[_0x281a43(0xed)](_0x150598=>{const _0x490909=_0x281a43;_0x18ccee['EbYdj'](validateKeys,_0x150598,_0x18ccee[_0x490909(0xeb)]);if(_0x5be1ee[_0x490909(0x138)](_0x150598[_0x490909(0x129)]))throw util[_0x490909(0x16c)](PLAYWRIGHT_CONFIG_OPTION_ERRORS[_0x490909(0x141)],_0x18ccee[_0x490909(0xeb)]);const _0x47136e=_0x18ccee[_0x490909(0x122)](createDependencyProject,_0x150598['name'],_0x150598[_0x490909(0x157)],_0x150598[_0x490909(0x15f)]);_0x47136e[_0x18ccee[_0x490909(0xf2)]]=_0x2eebd1[_0x18ccee[_0x490909(0xf2)]],config[_0x18ccee['YyjQp']][_0x490909(0xfc)](_0x47136e),_0x5be1ee[_0x490909(0xfc)](_0x150598['name']);}),_0x5ae8f1&&Array['isArray'](_0x5ae8f1)&&_0x5ae8f1[_0x281a43(0xed)](_0x1955c7=>{const _0x436013=_0x281a43;_0x18ccee[_0x436013(0x11d)](validateKeys,_0x1955c7,_0x18ccee[_0x436013(0x12c)]);if(_0x5be1ee[_0x436013(0x138)](_0x1955c7[_0x436013(0x129)]))throw util[_0x436013(0x16c)](PLAYWRIGHT_CONFIG_OPTION_ERRORS[_0x436013(0x141)],_0x18ccee['AXieJ']);const _0x4f859a=_0x1955c7[_0x436013(0x117)]?_0x18ccee[_0x436013(0x100)](createDependencyProject,_0x1955c7['name'],_0x1955c7['testMatch'],_0x1955c7['testDir'],_0x1955c7[_0x436013(0x117)]):_0x18ccee[_0x436013(0x152)](createDependencyProject,_0x1955c7[_0x436013(0x129)],_0x1955c7[_0x436013(0x157)],_0x1955c7[_0x436013(0x15f)]);_0x4f859a[_0x18ccee[_0x436013(0xf2)]]=_0x2eebd1[_0x18ccee['obQuU']],config[_0x18ccee['YyjQp']][_0x436013(0xfc)](_0x4f859a),_0x4a3176[_0x436013(0xfc)](_0x1955c7[_0x436013(0x129)]),_0x5be1ee[_0x436013(0xfc)](_0x1955c7[_0x436013(0x129)]);}),_0x4a3176;},validateKeys=(_0x3a9cff,_0x53c199)=>{const _0x408230=a43_0x15e445,_0x47b958={};_0x47b958[_0x408230(0x174)]=function(_0x40fd64,_0x3446ea){return _0x40fd64===_0x3446ea;},_0x47b958[_0x408230(0x12f)]=_0x408230(0x117),_0x47b958[_0x408230(0x17d)]=_0x408230(0x129),_0x47b958[_0x408230(0x15b)]=_0x408230(0x157),_0x47b958[_0x408230(0xf9)]=_0x408230(0x15f);const _0x59a7d0=_0x47b958;if(![_0x59a7d0[_0x408230(0x17d)],_0x59a7d0['mctit']][_0x408230(0x166)](_0x422a93=>Object['keys'](_0x3a9cff)[_0x408230(0x138)](_0x422a93)))throw util[_0x408230(0x16c)](PLAYWRIGHT_CONFIG_OPTION_ERRORS['mandatoryDependency'],_0x53c199);Object[_0x408230(0x115)](_0x3a9cff)['forEach'](_0x4da1a1=>{const _0x33dad3=_0x408230;if(_0x59a7d0[_0x33dad3(0x174)](_0x53c199,_0x59a7d0[_0x33dad3(0x12f)])){if(![_0x59a7d0[_0x33dad3(0x17d)],_0x59a7d0[_0x33dad3(0x15b)],_0x59a7d0[_0x33dad3(0xf9)]][_0x33dad3(0x138)](_0x4da1a1))throw util['format'](PLAYWRIGHT_CONFIG_OPTION_ERRORS[_0x33dad3(0x168)],_0x53c199);}else{if(![_0x59a7d0[_0x33dad3(0x17d)],_0x59a7d0['mctit'],_0x59a7d0[_0x33dad3(0x12f)],_0x59a7d0[_0x33dad3(0xf9)]][_0x33dad3(0x138)](_0x4da1a1))throw util['format'](PLAYWRIGHT_CONFIG_OPTION_ERRORS['invalidKeys'],_0x53c199);}});},createDependencyProject=(_0x465b17,_0xc654fc,_0x15cb6f,_0x489d9c)=>{const _0x9d9b27=a43_0x15e445,_0x4c0bfa={};_0x4c0bfa[_0x9d9b27(0x129)]=_0x465b17,_0x4c0bfa[_0x9d9b27(0x157)]=_0xc654fc,_0x4c0bfa[_0x9d9b27(0x117)]=_0x489d9c,_0x4c0bfa[_0x9d9b27(0x15f)]=_0x15cb6f;const _0x14eac1=_0x4c0bfa;return Object[_0x9d9b27(0x115)](_0x14eac1)[_0x9d9b27(0xed)](_0x33e951=>helper['isUndefined'](_0x14eac1[_0x33e951])&&delete _0x14eac1[_0x33e951]),_0x14eac1;},getPWOptionsTests=async(_0x1896b7,_0x11fb22,_0x574927)=>{const _0x2a2a16=a43_0x15e445,_0xed66fb={'DAqqX':function(_0x55c483,_0x462de2){return _0x55c483<_0x462de2;},'wpCEe':function(_0x2ffdfe,_0x23b4cc,_0x3cae10){return _0x2ffdfe(_0x23b4cc,_0x3cae10);},'gbVUi':function(_0x2df00d,_0x5ef7f9){return _0x2df00d===_0x5ef7f9;}},_0x318ff3=[];for(let _0x474359=0x0;_0xed66fb['DAqqX'](_0x474359,_0x1896b7[_0x2a2a16(0x17c)]);_0x474359++){const _0x9e4b4e=await _0xed66fb['wpCEe'](getTestListFromPWOptions,_0x474359,_0x11fb22);_0x318ff3['push'](_0xed66fb[_0x2a2a16(0x158)](_0x9e4b4e[_0x2a2a16(0x17c)],0x0)?_0x574927:_0x9e4b4e);}return _0x318ff3;},getTestListFromPWOptions=async(_0x20b662,_0x29205e)=>{const _0x303ab7=a43_0x15e445,_0x2bc7fb={};_0x2bc7fb[_0x303ab7(0x17b)]=_0x303ab7(0x157),_0x2bc7fb[_0x303ab7(0x177)]='testIgnore',_0x2bc7fb['iZVkL']=_0x303ab7(0x15f),_0x2bc7fb[_0x303ab7(0x144)]=function(_0x1e115,_0x452829){return _0x1e115===_0x452829;},_0x2bc7fb[_0x303ab7(0x13d)]=_0x303ab7(0xf6),_0x2bc7fb[_0x303ab7(0xe8)]='**/*.@(spec|test).?(c|m)[jt]s?(x)',_0x2bc7fb[_0x303ab7(0xd0)]=_0x303ab7(0x17a),_0x2bc7fb['bQwst']=function(_0x12944f,_0x47d57d){return _0x12944f||_0x47d57d;},_0x2bc7fb['vZXjL']=function(_0x5cac1e,_0x93cdad){return _0x5cac1e||_0x93cdad;},_0x2bc7fb[_0x303ab7(0x12e)]=function(_0x1e7361,_0x3f220a){return _0x1e7361+_0x3f220a;},_0x2bc7fb[_0x303ab7(0x17e)]=_0x303ab7(0x151);const _0xb96334=_0x2bc7fb,_0x383a11=browserstackSetup[_0x303ab7(0xe3)][_0x303ab7(0x173)][_0x20b662]['playwrightConfigOptions'];if(!_0x383a11)return[];const _0x166570=_0x383a11[_0xb96334[_0x303ab7(0x17b)]]||config[_0xb96334[_0x303ab7(0x17b)]],_0xc34903=_0x383a11[_0xb96334[_0x303ab7(0x177)]]||config[_0xb96334['juHMw']],_0x4a9e02=config[_0xb96334['iZVkL']],_0x438455=_0x383a11[_0xb96334['iZVkL']];if(_0x166570&&!(_0xb96334[_0x303ab7(0x144)](typeof _0x166570,_0xb96334['nlvZl'])||Array[_0x303ab7(0x12b)](_0x166570)))throw util['format'](PLAYWRIGHT_CONFIG_OPTION_ERRORS['invalidTestInputType'],_0xb96334[_0x303ab7(0x17b)]);if(_0xc34903&&!(_0xb96334['dRFpm'](typeof _0xc34903,_0xb96334[_0x303ab7(0x13d)])||Array[_0x303ab7(0x12b)](_0xc34903)))throw util[_0x303ab7(0x16c)](PLAYWRIGHT_CONFIG_OPTION_ERRORS[_0x303ab7(0x16b)],_0xb96334[_0x303ab7(0x177)]);let _0x11f42c=[];const _0x35c030={};_0x35c030[_0x303ab7(0x159)]=!![],_0x35c030[_0x303ab7(0x15f)]='',_0x35c030['testMatch']=_0xb96334[_0x303ab7(0xe8)],_0x35c030[_0x303ab7(0x14d)]='';const _0xc2b810={};_0xc2b810[_0x303ab7(0x159)]=!![];const _0x40bcd1={};_0x40bcd1[_0x303ab7(0x13e)]=_0x35c030,_0x40bcd1[_0x303ab7(0x106)]=_0xc2b810;let _0x54e9c7=_0x40bcd1;try{const _0x3d4f5e=_0xb96334[_0x303ab7(0xd0)][_0x303ab7(0x12d)]('|');let _0x1397e6=0x0;while(!![]){switch(_0x3d4f5e[_0x1397e6++]){case'0':_0x11f42c=await _0x29205e[_0x303ab7(0x154)](_0x54e9c7);continue;case'1':_0xc34903&&(_0x54e9c7[_0x303ab7(0x13e)][_0xb96334['juHMw']]=_0xc34903);continue;case'2':_0x166570&&(_0x54e9c7['project'][_0xb96334[_0x303ab7(0x17b)]]=_0x166570);continue;case'3':_0x54e9c7=Object[_0x303ab7(0x11b)](_0x54e9c7,_0x54e9c7['project']);continue;case'4':_0xb96334[_0x303ab7(0xef)](_0x438455,_0x4a9e02)&&(_0x54e9c7['project'][_0xb96334['iZVkL']]=_0xb96334[_0x303ab7(0x135)](_0x438455,_0x4a9e02));continue;}break;}}catch(_0x3b3987){console[_0x303ab7(0x102)](_0xb96334['CUwYn'](_0xb96334['dVzGU'],_0x3b3987));}return _0x11f42c;},addReporter=()=>{const _0x5901e9=a43_0x15e445,_0x3d9680={};_0x3d9680[_0x5901e9(0xdb)]=_0x5901e9(0x171),_0x3d9680[_0x5901e9(0x169)]=_0x5901e9(0x15d),_0x3d9680[_0x5901e9(0xe1)]=function(_0x304c70,_0x22ea7c){return _0x304c70===_0x22ea7c;},_0x3d9680[_0x5901e9(0xff)]='string',_0x3d9680[_0x5901e9(0xf4)]=_0x5901e9(0x125);const _0x3dcd6e=_0x3d9680,_0xf2b0b=path['join'](__dirname,_0x3dcd6e[_0x5901e9(0xdb)]),_0x42faa3=[_0xf2b0b];if(helper[_0x5901e9(0x10a)](config[_0x3dcd6e[_0x5901e9(0x169)]]))config[_0x3dcd6e[_0x5901e9(0x169)]]=[_0x42faa3];else{if(_0x3dcd6e[_0x5901e9(0xe1)](typeof config[_0x3dcd6e[_0x5901e9(0x169)]],_0x3dcd6e['kRgMw']))config[_0x3dcd6e[_0x5901e9(0x169)]]=[[config[_0x3dcd6e['jLAio']]],_0x42faa3];else _0x3dcd6e['qOcCd'](typeof config[_0x3dcd6e[_0x5901e9(0x169)]],_0x3dcd6e[_0x5901e9(0xf4)])&&config[_0x3dcd6e['jLAio']][_0x5901e9(0xfc)](_0x42faa3);}},setGlobalSetup=_0x9fa1ed=>{const _0x2393c1=a43_0x15e445,_0x348fb6={};_0x348fb6[_0x2393c1(0xda)]=_0x2393c1(0x128),_0x348fb6[_0x2393c1(0x145)]=_0x2393c1(0xe6),_0x348fb6[_0x2393c1(0x175)]=function(_0xc90a9b,_0x5386d4){return _0xc90a9b+_0x5386d4;},_0x348fb6['QiyZr']=_0x2393c1(0xd2),_0x348fb6[_0x2393c1(0x146)]=_0x2393c1(0xee);const _0x102d60=_0x348fb6;if(!config)return;try{if(config[_0x2393c1(0x128)]){let _0x3cb022;const _0x296a83=path[_0x2393c1(0xea)](_0x9fa1ed,config[_0x102d60['FTPnj']]);if(_0x296a83&&fs['existsSync'](_0x296a83))_0x3cb022=_0x296a83;else{const _0x31a9ae={};_0x31a9ae[_0x2393c1(0x14e)]=[_0x9fa1ed],_0x3cb022=require[_0x2393c1(0xea)](config[_0x102d60['FTPnj']],_0x31a9ae);}if(!_0x3cb022)throw new Error(_0x102d60[_0x2393c1(0x145)]);process[_0x2393c1(0x163)]['BROWSERSTACK_PLAYWRIGHT_GLOBAL_SETUP']=_0x3cb022;}}catch(_0x25118c){console[_0x2393c1(0x102)](_0x102d60['bdqmm'](_0x102d60[_0x2393c1(0x164)],_0x25118c));}config['globalSetup']=require[_0x2393c1(0xea)](_0x102d60[_0x2393c1(0x146)]);},initO11yCrashReporter=(_0x1bb4c7,_0xed0b28)=>{const _0x2fbb3f=a43_0x15e445,_0x47eeff={'VvsKH':function(_0x247456,_0x3ec77b){return _0x247456(_0x3ec77b);}},_0x19eff1={'frameworkName':FRAMEWORKS[_0x2fbb3f(0x165)],'frameworkVersion':_0x47eeff[_0x2fbb3f(0x12a)](getFrameworkVersion,FRAMEWORKS[_0x2fbb3f(0x165)])};CrashReporter[_0x2fbb3f(0xe2)](_0x19eff1,_0x1bb4c7,_0xed0b28);},getCurrentModifiedConfig=async()=>{const _0x10db90=a43_0x15e445,_0x7bdd99={'zVtUO':'use','neAVq':'connectOptions','zinMq':'wsEndpoint','NVNUA':'config','YQvKc':_0x10db90(0x116),'MeCia':function(_0x8315a8,_0xc1483a){return _0x8315a8(_0xc1483a);},'BBFOV':function(_0x3bac7a){return _0x3bac7a();},'YyudD':function(_0x5a6865,_0x37b7ac){return _0x5a6865(_0x37b7ac);},'ehwhQ':function(_0x53ebc2,_0x4762c6,_0x23034d){return _0x53ebc2(_0x4762c6,_0x23034d);},'EEgEc':function(_0x1b0047){return _0x1b0047();}},_0x5c63fa=process[_0x10db90(0x163)][_0x10db90(0x161)],_0x5a719b=process[_0x10db90(0x163)][_0x10db90(0x120)];_0x5c63fa&&(browserstackSetup[_0x7bdd99[_0x10db90(0x11a)]]=helper[_0x10db90(0xf5)](fs[_0x10db90(0x107)](_0x5c63fa,_0x7bdd99[_0x10db90(0x15a)]))),_0x7bdd99[_0x10db90(0x170)](setGlobalSetup,_0x5a719b),_0x7bdd99[_0x10db90(0x101)](shouldProcessEventForTesthub)&&(_0x7bdd99[_0x10db90(0x124)](addReporter,config),_0x7bdd99['ehwhQ'](initO11yCrashReporter,config,browserstackSetup[_0x10db90(0xe3)])),helper['isTrue'](helper['isBrowserstackInfra']())?await _0x7bdd99[_0x10db90(0x148)](handleAutomationTrue):Array[_0x10db90(0x12b)](config[_0x10db90(0x162)])&&config['projects']['forEach'](_0x5582e5=>{const _0x30e108=_0x10db90,_0x4eb537=helper['nestedKeyValue'](_0x5582e5,[_0x7bdd99[_0x30e108(0x16f)],_0x7bdd99[_0x30e108(0xe0)],_0x7bdd99[_0x30e108(0x13c)]]);_0x4eb537&&(_0x5582e5[_0x30e108(0x127)][_0x30e108(0xf1)]['wsEndpoint']=helper[_0x30e108(0xfa)](null,null,FRAMEWORKS[_0x30e108(0x165)][_0x30e108(0xd3)](),null,null,_0x4eb537));});},getUserPWConfig=async _0x19c821=>{const _0x5ba146=a43_0x15e445,_0x3577e5={'ZXwAm':function(_0x3c3383){return _0x3c3383();},'YApor':function(_0x4b38ff,_0x256e01){return _0x4b38ff(_0x256e01);},'BwCgq':function(_0x4d1b13,_0x451490){return _0x4d1b13===_0x451490;},'xLnfd':_0x5ba146(0x125),'BujZS':function(_0x7be270,_0x174eca){return _0x7be270 in _0x174eca;},'KIRuL':_0x5ba146(0x131)},{requireOrImport:_0x54b7ad}=helper['requirePWModule']['apply'](null,_0x3577e5[_0x5ba146(0x103)](getTransformPath));let _0x4568cb=await _0x3577e5[_0x5ba146(0xf3)](_0x54b7ad,_0x19c821);return _0x4568cb&&_0x3577e5['BwCgq'](typeof _0x4568cb,_0x3577e5[_0x5ba146(0x10d)])&&_0x3577e5[_0x5ba146(0x16d)](_0x3577e5[_0x5ba146(0xd4)],_0x4568cb)&&(_0x4568cb=_0x4568cb[_0x3577e5[_0x5ba146(0xd4)]]),_0x4568cb;},modifyConfig=async()=>{const _0x1eafbe=a43_0x15e445,_0x3c52a8={'TggiZ':function(_0x85eea6,_0x2cf6e0){return _0x85eea6===_0x2cf6e0;},'USiIx':function(_0x44d845,_0x431908){return _0x44d845(_0x431908);},'AeVJR':function(_0x4c20fb){return _0x4c20fb();}};await BrowserstackCli[_0x1eafbe(0xde)]()[_0x1eafbe(0x109)]();const _0x1bd17e=process[_0x1eafbe(0x163)]['USER_CONFIG_DETAILS_PATH'];return config=_0x3c52a8[_0x1eafbe(0x155)](_0x1bd17e[_0x1eafbe(0x17c)],0x0)?{}:await _0x3c52a8['USiIx'](getUserPWConfig,_0x1bd17e),await _0x3c52a8[_0x1eafbe(0x118)](getCurrentModifiedConfig),helper['writeTempPWConfig'](config),config;};function a43_0x4f4b(){const _0x4cafe4=['vAnpO','testMatch','gbVUi','respectGitIgnore','YQvKc','mctit','IFcMV','reporter','sTltl','testDir','../../helpers/test-observability/utils','BROWSERSTACK_SETUP_CONFIG_PATH','projects','env','QiyZr','PLAYWRIGHT','every','4TegvyJ','invalidKeys','jLAio','oJWjS','invalidTestInputType','format','BujZS','function','zVtUO','MeCia','./reporter/reporter.js','parallelsPerPlatform','platforms','tFQyd','bdqmm','4014588zhpFTb','juHMw','setAdditionalCapabilities','KKBMf','4|2|1|3|0','eyNSS','length','SMuLV','dVzGU','error','workers','MbWcI','YBnLZ','TAkEl','fMCDk','Error\x20in\x20running\x20user\x20global\x20setup\x20for\x20playwright','toLowerCase','KIRuL','dOXsu','281944MQzkfC','platformCaps','../../helpers/test-observability/constants','isRunning','FTPnj','zrCAS','path','requireModule','getInstance','browserstackAutomation','neAVq','qOcCd','initialize','config','gFwgc','getPlaywrightUrl','Can\x27t\x20get\x20user\x20defined\x20global\x20setup\x20file','dependencies','ZqNEl','12109491sphfLP','resolve','GrgXU','qoMYm','forEach','./globalSetup.js','bQwst','661651AAuiPV','connectOptions','obQuU','YApor','qXYRs','parseYaml','string','getConfig','Error\x20in\x20parsing\x20capabilities\x20from\x20CLI:\x20','KwBcD','prepareCapabilities','dHjAe','push','Error\x20in\x20getting\x20config','DDPbZ','kRgMw','PrJPB','BBFOV','log','ZXwAm','maxWorkers','../v2/grpcClient','_internal','readFileSync','../../bin/utils/constants','bootstrap','isUndefined','yBpGf','fJMGQ','xLnfd','playwright','Xhyjg','49uAfYOY','apply','Pzcbf','tckie','setup','keys','utf8','teardown','AeVJR','deepClone','NVNUA','assign','44661cuVbpw','EbYdj','playwrightProjectNameUpdate','hNKar','BROWSERSTACK_PW_CONFIG_DIR','Error\x20in\x20eveluating\x20testDir\x20passed\x20in\x20playwrightConfigOptions\x20','hPFMB','playwrightConfigObject','YyudD','object','Error\x20in\x20generating\x20parallellised\x20config\x20for\x20playwright\x20','use','globalSetup','name','VvsKH','isArray','AXieJ','split','CUwYn','xzJXA','parse','default','69300sCtuhh','fixhz','getPlaywrightConfig','vZXjL','requirePWModule','stringify','includes','updatePlaywrightConfigOptions','2873600pCFXIa','LyyPk','zinMq','nlvZl','project','../../helpers/classLogger.js','playwrightConfigOptions','uniqueDependency','capabilities','GUbKI','dRFpm','flzNd','npedw','GDEvQ','EEgEc','**/*.@(spec|test).?(c|m)[jt]s?(x)','isBrowserstackInfra','../../helpers/helper','exports','testIgnore','paths','xmdUv','ogVKa','Error\x20in\x20setting\x20up\x20playwright\x20config\x20due\x20to\x20playwright\x20Config\x20Options:\x20ErrorTrace:','aNZwZ','KSEDm','collectFilesForProject','TggiZ'];a43_0x4f4b=function(){return _0x4cafe4;};return a43_0x4f4b();}function a43_0x579d(_0x83cec8,_0x146377){const _0x4f4b8f=a43_0x4f4b();return a43_0x579d=function(_0x579d92,_0x4bb66e){_0x579d92=_0x579d92-0xce;let _0x3fbf8e=_0x4f4b8f[_0x579d92];return _0x3fbf8e;},a43_0x579d(_0x83cec8,_0x146377);}module[a43_0x15e445(0x14c)]=modifyConfig;