const a39_0x3da824=a39_0x4652;(function(_0x245d29,_0x516e4c){const _0x147c85=a39_0x4652,_0x405a17=_0x245d29();while(!![]){try{const _0x1f6e61=parseInt(_0x147c85(0x16a))/0x1*(-parseInt(_0x147c85(0x147))/0x2)+-parseInt(_0x147c85(0x13b))/0x3*(parseInt(_0x147c85(0x104))/0x4)+parseInt(_0x147c85(0x108))/0x5+parseInt(_0x147c85(0x189))/0x6*(-parseInt(_0x147c85(0x115))/0x7)+-parseInt(_0x147c85(0xf9))/0x8*(parseInt(_0x147c85(0x126))/0x9)+parseInt(_0x147c85(0x161))/0xa+-parseInt(_0x147c85(0x139))/0xb;if(_0x1f6e61===_0x516e4c)break;else _0x405a17['push'](_0x405a17['shift']());}catch(_0x579046){_0x405a17['push'](_0x405a17['shift']());}}}(a39_0x18aa,0x9cb2c));const fs=require('fs'),util=require(a39_0x3da824(0x18a)),path=require(a39_0x3da824(0x14b));let config={};const browserstackSetup={},helper=require('../../helpers/helper'),{PLAYWRIGHT_CONFIG_OPTION_ERRORS}=require(a39_0x3da824(0x150)),{getTransformPath,getProjectUtilsPath}=require(a39_0x3da824(0xe3)),{shouldProcessEventForTesthub}=require('../../helpers/testhub/utils'),{CrashReporter}=require(a39_0x3da824(0x169)),{FRAMEWORKS}=require(a39_0x3da824(0x121)),{getFrameworkVersion}=require(a39_0x3da824(0x118)),BrowserstackCli=require(a39_0x3da824(0x13a)),GrpcClient=require(a39_0x3da824(0x10a)),{createClassLogger}=require(a39_0x3da824(0x187)),logger=createClassLogger(a39_0x3da824(0x13d)),getConfigFromCLI=async()=>{const _0x5cd3dc=a39_0x3da824,_0x4b5a1f={};_0x4b5a1f[_0x5cd3dc(0x152)]='Error\x20in\x20getting\x20config';const _0x162f1d=_0x4b5a1f,_0x4370f0={};_0x4370f0['playwrightConfigObject']=config;const _0x42638c=await GrpcClient[_0x5cd3dc(0xf6)]()[_0x5cd3dc(0x146)](_0x4370f0);if(!_0x42638c['getConfig']())throw new Error(_0x162f1d[_0x5cd3dc(0x152)]);return JSON[_0x5cd3dc(0x174)](_0x42638c[_0x5cd3dc(0x117)]());},handleAutomationTrue=async()=>{const _0x4b5bb4=a39_0x3da824,_0x3ac6a9={'kxaan':_0x4b5bb4(0x124),'jsHxa':_0x4b5bb4(0x16f),'mjLjd':_0x4b5bb4(0x130),'QiilK':function(_0x44d81a,_0x3f00d2){return _0x44d81a+_0x3f00d2;},'TAbre':function(_0x3ad33b,_0x5a573d){return _0x3ad33b(_0x5a573d);},'VzlaB':function(_0x35611e,_0x17a3b0){return _0x35611e===_0x17a3b0;},'ZUhYT':'testDir','otiQO':_0x4b5bb4(0x11e),'eFoQA':_0x4b5bb4(0x12b),'KTkpn':function(_0x51c641,_0x1a46b1,_0x6e7ab2,_0x2b3756){return _0x51c641(_0x1a46b1,_0x6e7ab2,_0x2b3756);},'WSqoI':function(_0x1349a4){return _0x1349a4();},'Xnpjr':_0x4b5bb4(0x16c),'RzaUW':'projects','Oocxv':function(_0x3da073,_0x33a108){return _0x3da073===_0x33a108;},'zfTfE':_0x4b5bb4(0x18e),'mAzmb':'testMatch','Aoedd':_0x4b5bb4(0x128),'amxCN':function(_0x261007,_0x2a6b63){return _0x261007+_0x2a6b63;},'Ibpqk':_0x4b5bb4(0xf7),'vSZBH':function(_0xfbd0c2,_0x2ddc52){return _0xfbd0c2*_0x2ddc52;}};let _0x382d44=[];if(BrowserstackCli['getInstance']()[_0x4b5bb4(0x15f)]()&&BrowserstackCli[_0x4b5bb4(0xf6)]()[_0x4b5bb4(0x117)]()[_0x4b5bb4(0x135)]){const _0x2cca10=await _0x3ac6a9['WSqoI'](getConfigFromCLI);config[_0x3ac6a9[_0x4b5bb4(0xee)]]=_0x2cca10[_0x4b5bb4(0x151)]||0x1,config[_0x3ac6a9[_0x4b5bb4(0x16b)]]=[];try{_0x382d44=_0x2cca10['capabilities'];}catch(_0x5026d6){logger[_0x4b5bb4(0xe5)]('Error\x20in\x20parsing\x20capabilities\x20from\x20CLI:\x20'+util[_0x4b5bb4(0x11c)](_0x5026d6));}}else{if(!BrowserstackCli['getInstance']()[_0x4b5bb4(0x15f)]()&&helper[_0x4b5bb4(0x157)]()){if(helper[_0x4b5bb4(0x172)](browserstackSetup[_0x4b5bb4(0xf3)][_0x4b5bb4(0x123)])||_0x3ac6a9[_0x4b5bb4(0x155)](browserstackSetup['config']['platforms'][_0x4b5bb4(0x13c)],0x0)){const _0x13425c=browserstackSetup[_0x4b5bb4(0xf3)]['parallelsPerPlatform']||browserstackSetup['config'][_0x4b5bb4(0x16c)]||config[_0x3ac6a9[_0x4b5bb4(0xee)]]||0x1;config[_0x3ac6a9[_0x4b5bb4(0xee)]]=_0x13425c;return;}config[_0x3ac6a9[_0x4b5bb4(0x16b)]]=[],browserstackSetup[_0x4b5bb4(0xf3)]['platforms'][_0x4b5bb4(0x12c)]((_0x3a700c,_0x1352cf)=>{const _0x4e6f4f=_0x4b5bb4;_0x382d44[_0x4e6f4f(0x162)](helper[_0x4e6f4f(0xeb)](browserstackSetup[_0x4e6f4f(0xf3)],_0x3ac6a9['kxaan'],_0x1352cf));}),_0x382d44['forEach'](_0x1007ce=>{helper['setAdditionalCapabilities'](_0x1007ce);});}}if(!BrowserstackCli[_0x4b5bb4(0xf6)]()[_0x4b5bb4(0x15f)]()&&helper[_0x4b5bb4(0x157)]()||BrowserstackCli[_0x4b5bb4(0xf6)]()[_0x4b5bb4(0x15f)]()&&BrowserstackCli[_0x4b5bb4(0xf6)]()[_0x4b5bb4(0x117)]()[_0x4b5bb4(0x135)]){let _0x25230f,_0xad2015=[];try{_0x25230f=helper[_0x4b5bb4(0x167)][_0x4b5bb4(0x180)](null,_0x3ac6a9[_0x4b5bb4(0x17c)](getProjectUtilsPath));const _0x4997be={};_0x4997be[_0x4b5bb4(0x148)]=!![];const _0x3e867c={};_0x3e867c[_0x4b5bb4(0x148)]=!![],_0x3e867c[_0x4b5bb4(0x17e)]='',_0x3e867c[_0x4b5bb4(0x132)]=_0x3ac6a9[_0x4b5bb4(0x184)],_0x3e867c[_0x4b5bb4(0x128)]='',_0x3e867c[_0x4b5bb4(0xfc)]=_0x4997be;const _0x1a1f9c={};_0x1a1f9c['project']=_0x3e867c;let _0xe496bf=_0x1a1f9c;config[_0x3ac6a9[_0x4b5bb4(0x18c)]]&&(_0xe496bf[_0x4b5bb4(0xed)][_0x3ac6a9['ZUhYT']]=config[_0x3ac6a9[_0x4b5bb4(0x18c)]]),config[_0x3ac6a9[_0x4b5bb4(0x14a)]]&&(_0xe496bf['project'][_0x3ac6a9['mAzmb']]=config[_0x3ac6a9[_0x4b5bb4(0x14a)]]),config[_0x3ac6a9['Aoedd']]&&(_0xe496bf['project'][_0x3ac6a9[_0x4b5bb4(0x178)]]=config[_0x3ac6a9[_0x4b5bb4(0x178)]]),_0xe496bf=Object['assign'](_0xe496bf,_0xe496bf[_0x4b5bb4(0xed)]),_0xad2015=await _0x25230f[_0x4b5bb4(0x12f)](_0xe496bf);}catch(_0x5c5e4a){console[_0x4b5bb4(0xe2)](_0x3ac6a9[_0x4b5bb4(0xe7)](_0x3ac6a9['Ibpqk'],util[_0x4b5bb4(0x11c)](_0x5c5e4a)));}const _0x4e4352=helper['getPlaywrightUrl'](browserstackSetup[_0x4b5bb4(0xf3)]),_0x48a2b3=await _0x3ac6a9[_0x4b5bb4(0x113)](getPWOptionsTests,_0x382d44,_0x25230f,_0xad2015);_0x382d44[_0x4b5bb4(0x12c)]((_0xa5d3b9,_0x50a091)=>{const _0x54bbb3=_0x4b5bb4,_0x5a4bf8={},_0x4ad8f1={};_0x4ad8f1[_0x54bbb3(0x17f)]=browserstackSetup[_0x54bbb3(0xf3)][_0x54bbb3(0x123)][_0x50a091],_0x5a4bf8[_0x3ac6a9[_0x54bbb3(0x176)]]=_0x4ad8f1,helper[_0x54bbb3(0x154)](_0xa5d3b9,_0x5a4bf8),helper[_0x54bbb3(0x14f)](_0x5a4bf8,browserstackSetup[_0x54bbb3(0xf3)][_0x54bbb3(0x123)][_0x50a091],browserstackSetup[_0x54bbb3(0xf3)][_0x54bbb3(0x123)][_0x50a091][_0x54bbb3(0x131)]||config[_0x54bbb3(0x131)]||null),_0x5a4bf8[_0x3ac6a9[_0x54bbb3(0x176)]][_0x3ac6a9[_0x54bbb3(0x15e)]]={'wsEndpoint':_0x3ac6a9[_0x54bbb3(0x170)](_0x4e4352,_0x3ac6a9[_0x54bbb3(0x143)](encodeURIComponent,JSON['stringify'](_0xa5d3b9)))};try{_0x3ac6a9[_0x54bbb3(0x165)](typeof _0x5a4bf8[_0x3ac6a9[_0x54bbb3(0x18c)]],_0x3ac6a9[_0x54bbb3(0x17d)])&&(_0x5a4bf8[_0x3ac6a9['ZUhYT']]=_0x5a4bf8[_0x3ac6a9[_0x54bbb3(0x18c)]](helper[_0x54bbb3(0x138)]));}catch(_0x1b3162){console[_0x54bbb3(0xe2)](_0x3ac6a9[_0x54bbb3(0x170)](_0x3ac6a9['eFoQA'],util['format'](_0x1b3162)));}_0x3ac6a9[_0x54bbb3(0x113)](addProjectToProjectList,_0x48a2b3,_0x50a091,_0x5a4bf8);});_0xad2015['length']&&(config[_0x3ac6a9[_0x4b5bb4(0x14a)]]='');const _0x309d9a=_0x3ac6a9[_0x4b5bb4(0x14c)](browserstackSetup[_0x4b5bb4(0xf3)][_0x4b5bb4(0x123)]['length']||0x1,browserstackSetup[_0x4b5bb4(0xf3)][_0x4b5bb4(0x12e)]||config[_0x3ac6a9[_0x4b5bb4(0xee)]]||0x1);config[_0x3ac6a9[_0x4b5bb4(0xee)]]=_0x309d9a;}},addProjectToProjectList=(_0x5ff816,_0xe88a1b,_0x169c06)=>{const _0x4da081=a39_0x3da824,_0x3789ad={'igrPK':function(_0x7d2b19,_0x337bee){return _0x7d2b19>_0x337bee;},'kZWqX':_0x4da081(0x163),'IYLUT':'testMatch','vhVCx':'setup','PqPTO':'teardown','bZNsS':'projects','UsRPQ':_0x4da081(0x16f),'SEbpZ':_0x4da081(0x17f),'yNGmV':_0x4da081(0x131),'BXgPI':function(_0x5e7d84,_0x4a7e14,_0x3fe398){return _0x5e7d84(_0x4a7e14,_0x3fe398);}},_0x3193bf=_0x5ff816[_0xe88a1b],_0x167389=browserstackSetup[_0x4da081(0xf3)][_0x4da081(0x123)][_0xe88a1b][_0x4da081(0x131)];_0x169c06[_0x3789ad[_0x4da081(0x107)]][_0x3789ad[_0x4da081(0x171)]][_0x3789ad[_0x4da081(0x144)]]&&delete _0x169c06[_0x3789ad[_0x4da081(0x107)]][_0x3789ad[_0x4da081(0x171)]][_0x3789ad[_0x4da081(0x144)]];const _0x5ee8b5=_0x3789ad[_0x4da081(0x116)](setSetupAndTeardownConfigs,helper[_0x4da081(0x134)](_0x169c06),_0x167389);_0x3789ad['igrPK'](_0x3193bf[_0x4da081(0x13c)],0x0)?_0x3193bf[_0x4da081(0x12c)](_0x44b5a4=>{const _0x2af96a=_0x4da081,_0x4bedde=helper['deepClone'](_0x169c06);_0x3789ad[_0x2af96a(0x100)](_0x5ee8b5[_0x2af96a(0x13c)],0x0)&&(_0x4bedde[_0x3789ad[_0x2af96a(0x105)]]=_0x5ee8b5),_0x4bedde[_0x3789ad['IYLUT']]=_0x44b5a4,_0x4bedde[_0x3789ad[_0x2af96a(0x14e)]]&&delete _0x4bedde[_0x2af96a(0x11d)],_0x4bedde[_0x3789ad[_0x2af96a(0xfb)]]&&delete _0x4bedde[_0x2af96a(0x142)],config[_0x3789ad['bZNsS']]['push'](_0x4bedde);}):config[_0x3789ad['bZNsS']][_0x4da081(0x162)](_0x169c06);},setSetupAndTeardownConfigs=(_0x153104,_0x10e956)=>{const _0x1374a2=a39_0x3da824,_0x3857c5={'gsOuL':function(_0x331060,_0x2dce37,_0x41c79b){return _0x331060(_0x2dce37,_0x41c79b);},'XaDEB':_0x1374a2(0x142),'sdvTw':function(_0x2f12e3,_0x227792,_0x5a46f2,_0x447766){return _0x2f12e3(_0x227792,_0x5a46f2,_0x447766);},'hpoEG':_0x1374a2(0x16f),'ngjrD':'projects','hoixx':function(_0x1f5b07,_0x1bbc1a,_0xe7911f){return _0x1f5b07(_0x1bbc1a,_0xe7911f);},'eWtmL':_0x1374a2(0x11d),'OgcYR':function(_0x2118e5,_0xa39e14,_0x341c96,_0x5428f6,_0x46da3a){return _0x2118e5(_0xa39e14,_0x341c96,_0x5428f6,_0x46da3a);},'bFSoO':function(_0x1fac2a,_0x1170d4,_0x34627d,_0x4f28bc){return _0x1fac2a(_0x1170d4,_0x34627d,_0x4f28bc);}};if(!_0x10e956)return[];const _0x7955e1=[],_0x1b1157=[];let _0x4659b4,_0x2788c7;return _0x10e956[_0x3857c5['eWtmL']]&&(_0x4659b4=_0x10e956[_0x3857c5['eWtmL']]),_0x10e956[_0x3857c5['XaDEB']]&&(_0x2788c7=_0x10e956[_0x3857c5[_0x1374a2(0xf2)]]),_0x2788c7&&Array[_0x1374a2(0xfd)](_0x2788c7)&&_0x2788c7[_0x1374a2(0x12c)](_0x11dcdd=>{const _0x38a201=_0x1374a2;_0x3857c5['gsOuL'](validateKeys,_0x11dcdd,_0x3857c5['XaDEB']);if(_0x7955e1[_0x38a201(0xe4)](_0x11dcdd[_0x38a201(0x111)]))throw util[_0x38a201(0x11c)](PLAYWRIGHT_CONFIG_OPTION_ERRORS[_0x38a201(0x10c)],_0x3857c5[_0x38a201(0xf2)]);const _0x5f7dc9=_0x3857c5['sdvTw'](createDependencyProject,_0x11dcdd['name'],_0x11dcdd[_0x38a201(0x132)],_0x11dcdd[_0x38a201(0x17e)]);_0x5f7dc9[_0x3857c5[_0x38a201(0x182)]]=_0x153104[_0x3857c5[_0x38a201(0x182)]],config[_0x3857c5['ngjrD']][_0x38a201(0x162)](_0x5f7dc9),_0x7955e1[_0x38a201(0x162)](_0x11dcdd[_0x38a201(0x111)]);}),_0x4659b4&&Array['isArray'](_0x4659b4)&&_0x4659b4['forEach'](_0x2082fd=>{const _0x2e0fb9=_0x1374a2;_0x3857c5[_0x2e0fb9(0x185)](validateKeys,_0x2082fd,_0x3857c5[_0x2e0fb9(0x122)]);if(_0x7955e1['includes'](_0x2082fd[_0x2e0fb9(0x111)]))throw util[_0x2e0fb9(0x11c)](PLAYWRIGHT_CONFIG_OPTION_ERRORS[_0x2e0fb9(0x10c)],_0x3857c5[_0x2e0fb9(0x122)]);const _0xe86128=_0x2082fd[_0x2e0fb9(0x142)]?_0x3857c5[_0x2e0fb9(0x133)](createDependencyProject,_0x2082fd[_0x2e0fb9(0x111)],_0x2082fd[_0x2e0fb9(0x132)],_0x2082fd[_0x2e0fb9(0x17e)],_0x2082fd['teardown']):_0x3857c5['bFSoO'](createDependencyProject,_0x2082fd['name'],_0x2082fd[_0x2e0fb9(0x132)],_0x2082fd['testDir']);_0xe86128[_0x3857c5[_0x2e0fb9(0x182)]]=_0x153104[_0x3857c5[_0x2e0fb9(0x182)]],config[_0x3857c5[_0x2e0fb9(0x164)]]['push'](_0xe86128),_0x1b1157[_0x2e0fb9(0x162)](_0x2082fd[_0x2e0fb9(0x111)]),_0x7955e1[_0x2e0fb9(0x162)](_0x2082fd[_0x2e0fb9(0x111)]);}),_0x1b1157;},validateKeys=(_0x110fe3,_0x31b1b3)=>{const _0x259d34=a39_0x3da824,_0x1b69e8={};_0x1b69e8[_0x259d34(0xe6)]=function(_0x37befc,_0x1184bc){return _0x37befc===_0x1184bc;},_0x1b69e8['mhulK']=_0x259d34(0x142),_0x1b69e8[_0x259d34(0xf4)]=_0x259d34(0x111),_0x1b69e8[_0x259d34(0x13f)]=_0x259d34(0x132),_0x1b69e8[_0x259d34(0x10b)]=_0x259d34(0x17e);const _0x2eeb7d=_0x1b69e8;if(![_0x2eeb7d[_0x259d34(0xf4)],_0x2eeb7d[_0x259d34(0x13f)]][_0x259d34(0x177)](_0x130323=>Object[_0x259d34(0x14d)](_0x110fe3)[_0x259d34(0xe4)](_0x130323)))throw util[_0x259d34(0x11c)](PLAYWRIGHT_CONFIG_OPTION_ERRORS[_0x259d34(0xdf)],_0x31b1b3);Object['keys'](_0x110fe3)[_0x259d34(0x12c)](_0x24472f=>{const _0x247c7e=_0x259d34;if(_0x2eeb7d[_0x247c7e(0xe6)](_0x31b1b3,_0x2eeb7d[_0x247c7e(0x140)])){if(![_0x2eeb7d[_0x247c7e(0xf4)],_0x2eeb7d['GYWNb'],_0x2eeb7d[_0x247c7e(0x10b)]][_0x247c7e(0xe4)](_0x24472f))throw util['format'](PLAYWRIGHT_CONFIG_OPTION_ERRORS[_0x247c7e(0x156)],_0x31b1b3);}else{if(![_0x2eeb7d[_0x247c7e(0xf4)],_0x2eeb7d[_0x247c7e(0x13f)],_0x2eeb7d[_0x247c7e(0x140)],_0x2eeb7d[_0x247c7e(0x10b)]][_0x247c7e(0xe4)](_0x24472f))throw util[_0x247c7e(0x11c)](PLAYWRIGHT_CONFIG_OPTION_ERRORS[_0x247c7e(0x156)],_0x31b1b3);}});},createDependencyProject=(_0x59fa70,_0x458dfa,_0x2e9af3,_0x4ce7d0)=>{const _0x1db9e9=a39_0x3da824,_0x24cb8e={};_0x24cb8e[_0x1db9e9(0x111)]=_0x59fa70,_0x24cb8e[_0x1db9e9(0x132)]=_0x458dfa,_0x24cb8e[_0x1db9e9(0x142)]=_0x4ce7d0,_0x24cb8e[_0x1db9e9(0x17e)]=_0x2e9af3;const _0x35ffa0=_0x24cb8e;return Object[_0x1db9e9(0x14d)](_0x35ffa0)[_0x1db9e9(0x12c)](_0x471bbe=>helper[_0x1db9e9(0x172)](_0x35ffa0[_0x471bbe])&&delete _0x35ffa0[_0x471bbe]),_0x35ffa0;},getPWOptionsTests=async(_0x51a6c0,_0x59d7be,_0x4e0797)=>{const _0x11e2e9=a39_0x3da824,_0xb2f002={'UjYeO':function(_0x40c515,_0x30038a){return _0x40c515<_0x30038a;},'QYdBA':function(_0x538df9,_0x5dc420,_0x2eace6){return _0x538df9(_0x5dc420,_0x2eace6);},'gPSRp':function(_0xf1223,_0x37b52f){return _0xf1223===_0x37b52f;}},_0x48d19e=[];for(let _0x13a5da=0x0;_0xb2f002[_0x11e2e9(0xf8)](_0x13a5da,_0x51a6c0[_0x11e2e9(0x13c)]);_0x13a5da++){const _0x2114d1=await _0xb2f002['QYdBA'](getTestListFromPWOptions,_0x13a5da,_0x59d7be);_0x48d19e[_0x11e2e9(0x162)](_0xb2f002[_0x11e2e9(0x11a)](_0x2114d1[_0x11e2e9(0x13c)],0x0)?_0x4e0797:_0x2114d1);}return _0x48d19e;},getTestListFromPWOptions=async(_0x507298,_0x28938d)=>{const _0x1cea30=a39_0x3da824,_0x53d46c={};_0x53d46c[_0x1cea30(0xe0)]=_0x1cea30(0x132),_0x53d46c['zVllP']='testIgnore',_0x53d46c[_0x1cea30(0x158)]=_0x1cea30(0x17e),_0x53d46c[_0x1cea30(0x18b)]=function(_0xe8cc29,_0x3f9e4a){return _0xe8cc29===_0x3f9e4a;},_0x53d46c[_0x1cea30(0x15c)]=_0x1cea30(0x179),_0x53d46c[_0x1cea30(0xf1)]=function(_0x10e1fc,_0xd506c8){return _0x10e1fc===_0xd506c8;},_0x53d46c[_0x1cea30(0xe9)]='**/*.@(spec|test).?(c|m)[jt]s?(x)',_0x53d46c[_0x1cea30(0x10f)]='0|2|1|4|3',_0x53d46c['yNnGN']=function(_0x1fcd71,_0x126ac0){return _0x1fcd71||_0x126ac0;},_0x53d46c[_0x1cea30(0x10e)]=function(_0x4ff853,_0x17751e){return _0x4ff853||_0x17751e;},_0x53d46c[_0x1cea30(0x137)]=function(_0x15355c,_0x2cf915){return _0x15355c+_0x2cf915;},_0x53d46c['FUHhe']=_0x1cea30(0x125);const _0x2411cf=_0x53d46c,_0x227e77=browserstackSetup[_0x1cea30(0xf3)][_0x1cea30(0x123)][_0x507298]['playwrightConfigOptions'];if(!_0x227e77)return[];const _0x2ad386=_0x227e77[_0x2411cf[_0x1cea30(0xe0)]]||config[_0x2411cf[_0x1cea30(0xe0)]],_0x11af7a=_0x227e77[_0x2411cf[_0x1cea30(0x12a)]]||config[_0x2411cf[_0x1cea30(0x12a)]],_0x369f4b=config[_0x2411cf[_0x1cea30(0x158)]],_0x291fe3=_0x227e77[_0x2411cf[_0x1cea30(0x158)]];if(_0x2ad386&&!(_0x2411cf[_0x1cea30(0x18b)](typeof _0x2ad386,_0x2411cf[_0x1cea30(0x15c)])||Array['isArray'](_0x2ad386)))throw util[_0x1cea30(0x11c)](PLAYWRIGHT_CONFIG_OPTION_ERRORS[_0x1cea30(0x141)],_0x2411cf[_0x1cea30(0xe0)]);if(_0x11af7a&&!(_0x2411cf['YKNZd'](typeof _0x11af7a,_0x2411cf[_0x1cea30(0x15c)])||Array[_0x1cea30(0xfd)](_0x11af7a)))throw util[_0x1cea30(0x11c)](PLAYWRIGHT_CONFIG_OPTION_ERRORS[_0x1cea30(0x141)],_0x2411cf['zVllP']);let _0x55e3cc=[];const _0x51ead7={};_0x51ead7[_0x1cea30(0x148)]=!![],_0x51ead7[_0x1cea30(0x17e)]='',_0x51ead7[_0x1cea30(0x132)]=_0x2411cf[_0x1cea30(0xe9)],_0x51ead7[_0x1cea30(0x128)]='';const _0x4a73ad={};_0x4a73ad[_0x1cea30(0x148)]=!![];const _0x1e764b={};_0x1e764b['project']=_0x51ead7,_0x1e764b[_0x1cea30(0xfc)]=_0x4a73ad;let _0x264573=_0x1e764b;try{const _0x30fe63=_0x2411cf['MdBJm'][_0x1cea30(0x17a)]('|');let _0x59976a=0x0;while(!![]){switch(_0x30fe63[_0x59976a++]){case'0':_0x2411cf['yNnGN'](_0x291fe3,_0x369f4b)&&(_0x264573[_0x1cea30(0xed)][_0x2411cf[_0x1cea30(0x158)]]=_0x2411cf[_0x1cea30(0x10e)](_0x291fe3,_0x369f4b));continue;case'1':_0x11af7a&&(_0x264573[_0x1cea30(0xed)][_0x2411cf[_0x1cea30(0x12a)]]=_0x11af7a);continue;case'2':_0x2ad386&&(_0x264573['project'][_0x2411cf['McVgi']]=_0x2ad386);continue;case'3':_0x55e3cc=await _0x28938d['collectFilesForProject'](_0x264573);continue;case'4':_0x264573=Object[_0x1cea30(0x114)](_0x264573,_0x264573[_0x1cea30(0xed)]);continue;}break;}}catch(_0x1fb52a){console[_0x1cea30(0xe2)](_0x2411cf[_0x1cea30(0x137)](_0x2411cf[_0x1cea30(0x175)],_0x1fb52a));}return _0x55e3cc;},addReporter=()=>{const _0x5976a9=a39_0x3da824,_0x2c5af5={};_0x2c5af5[_0x5976a9(0xe1)]=_0x5976a9(0x17b),_0x2c5af5[_0x5976a9(0x16e)]='reporter',_0x2c5af5[_0x5976a9(0xf0)]=function(_0x4b4040,_0x27d2c5){return _0x4b4040===_0x27d2c5;},_0x2c5af5[_0x5976a9(0xea)]='string',_0x2c5af5[_0x5976a9(0x16d)]=function(_0x2cb2eb,_0x2bb609){return _0x2cb2eb===_0x2bb609;},_0x2c5af5[_0x5976a9(0xf5)]=_0x5976a9(0x101);const _0x321a10=_0x2c5af5,_0x2bec54=path[_0x5976a9(0x149)](__dirname,_0x321a10['ksAlt']),_0x57da16=[_0x2bec54];if(helper[_0x5976a9(0x172)](config[_0x321a10[_0x5976a9(0x16e)]]))config[_0x321a10[_0x5976a9(0x16e)]]=[_0x57da16];else{if(_0x321a10['wJUCK'](typeof config[_0x321a10[_0x5976a9(0x16e)]],_0x321a10['NVHmU']))config[_0x321a10[_0x5976a9(0x16e)]]=[[config[_0x321a10[_0x5976a9(0x16e)]]],_0x57da16];else _0x321a10[_0x5976a9(0x16d)](typeof config[_0x321a10[_0x5976a9(0x16e)]],_0x321a10[_0x5976a9(0xf5)])&&config[_0x321a10[_0x5976a9(0x16e)]][_0x5976a9(0x162)](_0x57da16);}},setGlobalSetup=_0x1514ee=>{const _0x4ea2d8=a39_0x3da824,_0x5b4172={};_0x5b4172[_0x4ea2d8(0xff)]=_0x4ea2d8(0x10d),_0x5b4172[_0x4ea2d8(0x103)]=_0x4ea2d8(0x15b),_0x5b4172[_0x4ea2d8(0xfe)]=function(_0x503c0d,_0x269d13){return _0x503c0d+_0x269d13;},_0x5b4172['FJJzn']=_0x4ea2d8(0x173),_0x5b4172[_0x4ea2d8(0x13e)]=_0x4ea2d8(0x166);const _0x364b00=_0x5b4172;if(!config)return;try{if(config[_0x4ea2d8(0x10d)]){let _0x83dbbc;const _0x3ce7d8=path['resolve'](_0x1514ee,config[_0x364b00['tVCaY']]);if(_0x3ce7d8&&fs['existsSync'](_0x3ce7d8))_0x83dbbc=_0x3ce7d8;else{const _0x5c4f1f={};_0x5c4f1f[_0x4ea2d8(0x18d)]=[_0x1514ee],_0x83dbbc=require[_0x4ea2d8(0xec)](config[_0x364b00[_0x4ea2d8(0xff)]],_0x5c4f1f);}if(!_0x83dbbc)throw new Error(_0x364b00[_0x4ea2d8(0x103)]);process['env']['BROWSERSTACK_PLAYWRIGHT_GLOBAL_SETUP']=_0x83dbbc;}}catch(_0xe83f00){console[_0x4ea2d8(0xe2)](_0x364b00['jyzkw'](_0x364b00[_0x4ea2d8(0x145)],_0xe83f00));}config['globalSetup']=require['resolve'](_0x364b00[_0x4ea2d8(0x13e)]);},initO11yCrashReporter=(_0x50f69d,_0x3c9cbb)=>{const _0x4ab40e=a39_0x3da824,_0x581721={'HnDXq':function(_0x3438c0,_0x2dc5aa){return _0x3438c0(_0x2dc5aa);}},_0x49dc58={'frameworkName':FRAMEWORKS[_0x4ab40e(0x11b)],'frameworkVersion':_0x581721[_0x4ab40e(0x11f)](getFrameworkVersion,FRAMEWORKS[_0x4ab40e(0x11b)])};CrashReporter[_0x4ab40e(0xef)](_0x49dc58,_0x50f69d,_0x3c9cbb);},getCurrentModifiedConfig=async()=>{const _0x105a4d=a39_0x3da824,_0x4500d7={'JJFIY':_0x105a4d(0x16f),'LaaSg':_0x105a4d(0x130),'LmPWD':_0x105a4d(0x119),'sdcYS':_0x105a4d(0xf3),'xHWna':_0x105a4d(0x102),'bBGnq':function(_0x848d00,_0x29aa0b){return _0x848d00(_0x29aa0b);},'KgRwT':function(_0x145c13){return _0x145c13();},'hrfka':function(_0x23e520,_0x28a007,_0x405454){return _0x23e520(_0x28a007,_0x405454);},'YlxoJ':function(_0x5ec619){return _0x5ec619();}},_0xb30e2=process[_0x105a4d(0x153)]['BROWSERSTACK_SETUP_CONFIG_PATH'],_0x3eda9d=process['env'][_0x105a4d(0x109)];_0xb30e2&&(browserstackSetup[_0x4500d7['sdcYS']]=helper[_0x105a4d(0x160)](fs[_0x105a4d(0x112)](_0xb30e2,_0x4500d7[_0x105a4d(0x15a)]))),_0x4500d7['bBGnq'](setGlobalSetup,_0x3eda9d),_0x4500d7[_0x105a4d(0x183)](shouldProcessEventForTesthub)&&(_0x4500d7[_0x105a4d(0x136)](addReporter,config),_0x4500d7['hrfka'](initO11yCrashReporter,config,browserstackSetup['config'])),helper['isTrue'](helper[_0x105a4d(0x157)]())?await _0x4500d7['YlxoJ'](handleAutomationTrue):config[_0x105a4d(0x15d)]['forEach'](_0x1e5df4=>{const _0x1cf7b2=_0x105a4d,_0x343ffb=helper[_0x1cf7b2(0x110)](_0x1e5df4,[_0x4500d7['JJFIY'],_0x4500d7[_0x1cf7b2(0x159)],_0x4500d7[_0x1cf7b2(0x186)]]);_0x343ffb&&(_0x1e5df4[_0x1cf7b2(0x16f)][_0x1cf7b2(0x130)][_0x1cf7b2(0x119)]=helper[_0x1cf7b2(0x168)](null,null,FRAMEWORKS['PLAYWRIGHT']['toLowerCase'](),null,null,_0x343ffb));});},getUserPWConfig=async _0x528a37=>{const _0x1e2232=a39_0x3da824,_0x3b788b={'uJbiY':function(_0x503a1f){return _0x503a1f();},'YfQGl':function(_0x44872c,_0xbf84da){return _0x44872c(_0xbf84da);},'psNzl':function(_0x382cb4,_0x47b590){return _0x382cb4===_0x47b590;},'NJqHd':_0x1e2232(0x101),'EqFnU':function(_0x1c4166,_0x53fed1){return _0x1c4166 in _0x53fed1;},'bIANT':_0x1e2232(0x181)},{requireOrImport:_0xc64758}=helper[_0x1e2232(0x167)][_0x1e2232(0x180)](null,_0x3b788b[_0x1e2232(0x188)](getTransformPath));let _0x173edc=await _0x3b788b['YfQGl'](_0xc64758,_0x528a37);return _0x173edc&&_0x3b788b[_0x1e2232(0xfa)](typeof _0x173edc,_0x3b788b[_0x1e2232(0xe8)])&&_0x3b788b['EqFnU'](_0x3b788b[_0x1e2232(0x106)],_0x173edc)&&(_0x173edc=_0x173edc[_0x3b788b[_0x1e2232(0x106)]]),_0x173edc;},modifyConfig=async()=>{const _0xad442e=a39_0x3da824,_0x424adc={'RUizF':function(_0x5049dd,_0x3b2eb6){return _0x5049dd===_0x3b2eb6;},'NDbOs':function(_0xd9ffb0,_0x5d97f4){return _0xd9ffb0(_0x5d97f4);},'iiwgT':function(_0x26a4b6){return _0x26a4b6();}};await BrowserstackCli[_0xad442e(0xf6)]()['bootstrap']();const _0x4d3534=process[_0xad442e(0x153)][_0xad442e(0x12d)];return config=_0x424adc[_0xad442e(0x120)](_0x4d3534['length'],0x0)?{}:await _0x424adc[_0xad442e(0x127)](getUserPWConfig,_0x4d3534),await _0x424adc['iiwgT'](getCurrentModifiedConfig),helper[_0xad442e(0x129)](config),config;};function a39_0x4652(_0x592470,_0x4484f8){const _0x18aa7d=a39_0x18aa();return a39_0x4652=function(_0x4652aa,_0x26ad79){_0x4652aa=_0x4652aa-0xdf;let _0x2d7499=_0x18aa7d[_0x4652aa];return _0x2d7499;},a39_0x4652(_0x592470,_0x4484f8);}function a39_0x18aa(){const _0xd8131=['McVgi','ksAlt','log','./reporter/pwUtils','includes','error','gwgob','amxCN','NJqHd','qtpWj','NVHmU','modifyBrowserStackCaps','resolve','project','Xnpjr','initialize','wJUCK','YKNZd','XaDEB','config','ghUNO','IXmrp','getInstance','Error\x20in\x20generating\x20parallellised\x20config\x20for\x20playwright\x20','UjYeO','8klXZmB','psNzl','PqPTO','_internal','isArray','jyzkw','tVCaY','igrPK','object','utf8','OTjzg','5828NDJtaP','kZWqX','bIANT','UsRPQ','5672360HBMJaf','BROWSERSTACK_PW_CONFIG_DIR','../v2/grpcClient','eTmbX','uniqueDependency','globalSetup','VFCcK','MdBJm','nestedKeyValue','name','readFileSync','KTkpn','assign','7qlgvnY','BXgPI','getConfig','../../helpers/test-observability/utils','wsEndpoint','gPSRp','PLAYWRIGHT','format','setup','function','HnDXq','RUizF','../../helpers/test-observability/constants','eWtmL','platforms','playwright','Error\x20in\x20setting\x20up\x20playwright\x20config\x20due\x20to\x20playwright\x20Config\x20Options:\x20ErrorTrace:','862623rzzgcO','NDbOs','testIgnore','writeTempPWConfig','zVllP','Error\x20in\x20eveluating\x20testDir\x20passed\x20in\x20playwrightConfigOptions\x20','forEach','USER_CONFIG_DETAILS_PATH','parallelsPerPlatform','collectFilesForProject','connectOptions','playwrightConfigOptions','testMatch','OgcYR','deepClone','browserstackAutomation','bBGnq','hUuIk','requireModule','6236351XKUPRp','../v2/browserstackCLI','159mtLmNZ','length','modifyPlaywrightConf','BCIOS','GYWNb','mhulK','invalidTestInputType','teardown','TAbre','yNGmV','FJJzn','getPlaywrightConfig','270362iqIeWq','respectGitIgnore','join','mAzmb','path','vSZBH','keys','vhVCx','updatePlaywrightConfigOptions','../../bin/utils/constants','maxWorkers','SjodS','env','playwrightProjectNameUpdate','Oocxv','invalidKeys','isBrowserstackInfra','lcjWE','LaaSg','xHWna','Can\x27t\x20get\x20user\x20defined\x20global\x20setup\x20file','rQoyc','projects','mjLjd','isRunning','parseYaml','12236130FSNEWZ','push','dependencies','ngjrD','VzlaB','./globalSetup.js','requirePWModule','prepareCapabilities','../../helpers/test-observability/error-handler','1ZvpwxY','RzaUW','workers','eqGud','ZKDwp','use','QiilK','SEbpZ','isUndefined','Error\x20in\x20running\x20user\x20global\x20setup\x20for\x20playwright','parse','FUHhe','jsHxa','every','Aoedd','string','split','./reporter/reporter.js','WSqoI','otiQO','testDir','platformCaps','apply','default','hpoEG','KgRwT','zfTfE','hoixx','LmPWD','../../helpers/classLogger.js','uJbiY','5046354imHHBB','util','LgFHt','ZUhYT','paths','**/*.@(spec|test).?(c|m)[jt]s?(x)','mandatoryDependency'];a39_0x18aa=function(){return _0xd8131;};return a39_0x18aa();}module['exports']=modifyConfig;