const a9_0x4b1a56=a9_0x3728;function a9_0x3728(_0xcf9861,_0x56f487){const _0x14664a=a9_0x1466();return a9_0x3728=function(_0x3728b7,_0x12ad32){_0x3728b7=_0x3728b7-0xe4;let _0x394876=_0x14664a[_0x3728b7];return _0x394876;},a9_0x3728(_0xcf9861,_0x56f487);}(function(_0x1cf9b1,_0x4ad8cc){const _0xee57cf=a9_0x3728,_0x3e2de9=_0x1cf9b1();while(!![]){try{const _0x5e4696=parseInt(_0xee57cf(0x150))/0x1*(-parseInt(_0xee57cf(0x21c))/0x2)+parseInt(_0xee57cf(0x158))/0x3+parseInt(_0xee57cf(0xe5))/0x4*(parseInt(_0xee57cf(0x244))/0x5)+parseInt(_0xee57cf(0x25b))/0x6*(parseInt(_0xee57cf(0x270))/0x7)+-parseInt(_0xee57cf(0x27f))/0x8*(-parseInt(_0xee57cf(0x10b))/0x9)+-parseInt(_0xee57cf(0x282))/0xa*(parseInt(_0xee57cf(0x1fa))/0xb)+-parseInt(_0xee57cf(0x249))/0xc*(parseInt(_0xee57cf(0x276))/0xd);if(_0x5e4696===_0x4ad8cc)break;else _0x3e2de9['push'](_0x3e2de9['shift']());}catch(_0x5e7cd1){_0x3e2de9['push'](_0x3e2de9['shift']());}}}(a9_0x1466,0x450d5));const PerformanceTester=require(a9_0x4b1a56(0x1ba)),debug=require('../../helpers/test-observability/utils')['debug'],{FRAMEWORKS}=require(a9_0x4b1a56(0x128)),util=require(a9_0x4b1a56(0x180)),path=require(a9_0x4b1a56(0x19c)),logger=require('../../helpers/logger')[a9_0x4b1a56(0x25c)],playwrightHelper=require('../../helpers/playwright-helper'),helper=require('../../helpers/helper'),{requirePWModule,resolveModule,getCucumberSessionName,isFalse,isUndefined,nestedKeyValue,importFileFromPWCore}=require(a9_0x4b1a56(0x233)),{getModifiedConfigFromCLI}=require('../../helpers/playwright-helper'),base=requirePWModule[a9_0x4b1a56(0x27d)](null,[a9_0x4b1a56(0x281),'@playwright/test']),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require('../v2/state/automationFrameworkState'),AccessibilityHelper=require('../playwright/accessibility-helper'),TestFrameworkState=require(a9_0x4b1a56(0x1ea)),TestInfo=require(a9_0x4b1a56(0x22b)),HookState=require(a9_0x4b1a56(0x25a)),{isAccessibilityAutomationSession,shouldScanTestForAccessibility}=require('../../helpers/accessibility-automation/helper'),scripts=require('../../helpers/accessibility-automation/scripts'),AutomationFramework=require(a9_0x4b1a56(0x1b9)),PlaywrightDriverModule=require(a9_0x4b1a56(0x112)),CucumberSessionDetails=require('./cucumber-sessionDetails'),Constants=require('../../bin/utils/constants'),{o11yErrorHandler}=require(a9_0x4b1a56(0x1b6)),CustomTagManager=require(a9_0x4b1a56(0x1e2)),uploadAttachmentsManager=require('../v2/uploadAttachmentsManager'),{O11y_EVENTS:PerformanceO11yEvents,A11Y_EVENTS:PerformanceA11yEvents,HOOK_EVENTS:PerformanceHookEvents,EVENTS:PerformanceEvents}=require('../../helpers/performance/constants'),{glob}=require('fs'),a9_0x37cf54={};a9_0x37cf54[a9_0x4b1a56(0x205)]=undefined,a9_0x37cf54[a9_0x4b1a56(0x234)]={},a9_0x37cf54[a9_0x4b1a56(0x193)]=![],a9_0x37cf54[a9_0x4b1a56(0x22f)]=null,a9_0x37cf54[a9_0x4b1a56(0x251)]=![],a9_0x37cf54[a9_0x4b1a56(0x234)]['id']=undefined,a9_0x37cf54[a9_0x4b1a56(0x234)]['testInfo']=undefined;function a9_0x1466(){const _0x23a87f=['pyZvj','KbScx','yObiy','QqtqU','SjQNZ','Android\x20browser.close()\x20intercepted\x20and\x20deferred','rBKss','Error\x20executing\x20deferred\x20context\x20close:\x20','LnVXm','IcFJy','Not\x20able\x20to\x20import\x20Page','Error\x20patching\x20page\x20close:\x20','project','delete','CucumberSessionDetails','QRlKz','executeDeferredCloses','OjpJX','LGEwu','fooso','_bstackAndroidNewPagePatchApplied','performScan','PRE','smyAT','AsKRP','hfqMK','Executing\x20deferred\x20page\x20close','patch','connection.js','\x20deferred\x20browser\x20closes','isClosed','Error\x20in\x20process\x20exit\x20handler:\x20','Error\x20patching\x20context/browser\x20close:\x20','Successfully\x20patched\x20BrowserContext.newPage\x20for\x20Cucumber-JS','util','Android\x20page.close()\x20intercepted\x20and\x20deferred','dXCsF','values','deviceName','contexts','VlLAI','Adding\x20delay\x20before\x20executing\x20deferred\x20closes\x20to\x20ensure\x20session\x20status\x20is\x20marked','Error\x20detecting\x20Android\x20test:\x20','nIXDK','lib','jJgFj','OsTmq','getState','eMsTB','storeLogObjects','testCaseStartedId','launchBrowser','from','o11ySyncDone','name','HMFix','bQlfk','Safety\x20timeout\x20triggered\x20for\x20deferred\x20page\x20close','getTrackedInstance','KEY_PAGE_OBJECT','Accessibility\x20platform\x20enabled\x20-\x20using\x20connectOverCDP\x20instead\x20of\x20connect','Deferred\x20context\x20close\x20completed\x20successfully','path','workerDetails','CUCUMBER','_android','DPNbE',',\x20Pages\x20tracked:\x20','Processed\x20accessibility\x20caps\x20','WGroa','browsers','generatePlaywrightUrl','forEach','prototype','jrbIP','setState','string','SIGINT','__workerDetails','getInstance','info','Error\x20in\x20Playwright\x20connect:\x20','patchPageClose','FkEjZ','VVuDL','wVpfR','FisOM','yBIDa','../../helpers/test-observability/error-handler','KphqB','Executing\x20deferred\x20browser\x20close','../v2/framework/automationFramework','../../helpers/performance/performance-tester','measureWrapper','TAKE_SCREENSHOT','format','yiMxB','BJdfU','ImMwF','markBrowserCloseRequested','Applied\x20close\x20patch\x20to\x20BrowserContext','GxENf','xlrwX','sQcEg','Android\x20browser.launchBrowser()\x20intercepted\x20for\x20close\x20patching','Executing\x20deferred\x20context\x20close','Page\x20close\x20was\x20requested\x20but\x20deferred,\x20still\x20available\x20for\x20session\x20operations','AsAQN','Page','ACDAa','Android\x20test\x20detected:\x20','object','Cucumber-JS\x20context.close()\x20intercepted','4|5|6|1|2|0|3|7','MSatT','Accessibility\x20enabled\x20-\x20using\x20connectOverCDP\x20instead\x20of\x20launch','CREATE','Error\x20triggering\x20driver\x20creation\x20hooks:\x20','uOUvL','getAccessibilityResultsSummary','Applying\x20Android\x20page\x20close\x20patching','ZPULb','Qpvpx','client','kaqho','close','jctnv','ParPX','initializePlaywrightPatching','defineProperty','sBplP','SroWx','../v2/customTagManager','gjeIu','../playwright/accessibility-helper','drKtk','DBQNh','DdWBT','aUDqK','oiiCt','../v2/state/testFrameworkState','Error\x20in\x20afterTestHook:\x20','stringify','Using\x20existing\x20__platformCaps:\x20','executePageClose','Completed\x20execution\x20of\x20all\x20deferred\x20close\x20operations','match','screenshot','Error\x20parsing\x20CDP\x20URL\x20for\x20launchcaps:\x20','oZTCt','MtNha','Luzsk','setupBrowserDetails','iIJje','No\x20page\x20or\x20CLI\x20not\x20running\x20for\x20command:\x20','TlaPi','631851AzDtnU','getAutomationFramework','connectOverCDP','sendMessageToServer\x20accessibility\x20patch\x20already\x20applied','Android\x20connection\x20not\x20available,\x20falling\x20back\x20to\x20CDP\x20connect','Deferred\x20page\x20close\x20completed\x20successfully','safetyTimeouts','__launchCaps','getPlaywrightBrowserType','OVTBs','tpaqo','workerInfo','lCRqy','Applied\x20Android\x20launchBrowser\x20patching\x20to\x20browser','BROWSERSTACK_TEST_ACCESSIBILITY_YML','WCWZr','testFramework','env','_bstackClosePatchApplied','bstackPerformA11yScan','aVYHO','capability','uploadAttachments','_bstackAndroidPagePatchApplied','ZBgjN','yWMBJ','POST','qIKIz','KxAZF','inRTG','mockPageScreenshot','Error\x20executing\x20deferred\x20browser\x20close:\x20','nLdut','HUyJE','6980MuftmG','use','GGfEU','COtrh','Unknown','connect','MJoYW','pCEzy','tzqbr','Applied\x20Android\x20close\x20patch\x20to\x20browser','browser.js','context','BrowserContext','PpaMG','Page\x20is\x20null/undefined,\x20not\x20available\x20for\x20session\x20operations','../v2/TestInfo.js','OvVfu','originalClose','set','pwPage','closeTracker','isPlaywrightAvailable','\x20deferred\x20context\x20closes','../../helpers/helper','currentTest','pKDTQ','uLkuJ','Error\x20patching\x20sendMessageToServer\x20for\x20accessibility:\x20','getAccessibilityResults','uOwvm','QibxQ','has','xnrJU','Error\x20adding\x20headless\x20to\x20caps:\x20','pickle','XTKjA','OpaKm','testInfo','Cucumber-JS\x20page.close()\x20intercepted\x20and\x20deferred',',\x20Contexts\x20tracked:\x20','165545MNDcRI','Applied\x20Android\x20newContext\x20patching\x20to\x20browser','_bstackAccessibilityPatchApplied','EXECUTE','Cucumber-JS\x20Playwright\x20launch\x20intercepted\x20(Android:\x20','24wwcuOg','Context\x20close\x20requested\x20and\x20deferred','wWKmj','Applied\x20Android\x20page\x20close\x20patching','accessibilityPlatform','nPTyv','STKdr','TgkxN','isPageFixture','Using\x20Android-specific\x20connection\x20logic','CLkNa','capabilities','afterTestHook','kHbOT','FtEtZ','HkQGP','aLnVf','../v2/state/hookState','54JITpqt','winstonLogger','clear','No\x20configuration\x20provided\x20for\x20Playwright\x20patching','platformCaps','Cucumber-JS\x20newPage\x20intercepted','sSvzF','setCustomTags','HWUOl','Executing\x20','_bstackBrowserClosePatchApplied','Successfully\x20patched\x20sendMessageToServer\x20for\x20accessibility','QDOtX','Parsed\x20launchcaps\x20from\x20CDP\x20URL:\x20','now','Failed\x20to\x20perform\x20accessibility\x20scan:\x20','cucumberPageMockApplied','nestedKeyValue','LfYfq','device','Error\x20patching\x20Android\x20context:\x20','308938KsiMHJ','Starting\x20deferred\x20close\x20execution.\x20Managed\x20page:\x20','Cucumber-JS\x20Playwright\x20connect\x20intercepted\x20(Android:\x20','BrowserStack\x20automation\x20disabled;\x20skipping\x20Playwright\x20patching','xuaGs','__platformCaps','851162KWdUtU','Successfully\x20patched\x20Playwright\x20BrowserType\x20for\x20Cucumber-JS','sendMessageToServer','vvWzb','pages','Error\x20clearing\x20page\x20from\x20AutomationFramework:\x20','fctTQ','apply','LuYir','2253688ZRDXQy','Applied\x20close\x20patch\x20to\x20Browser','@playwright/test/index.js','70rAWFSa','hLHtY','GTrWL','Dtlwg','VUWFl','After\x20test\x20hook\x20executed\x20for:\x20','Deferring\x20context\x20close\x20for\x20managed\x20page','GhwwS','Error\x20patching\x20Android\x20page:\x20','XxqjQ','XrBOr','Playwright\x20patcher\x20initialized\x20with\x20Android\x20support\x20and\x20deferred\x20close\x20system','toString','debug','4guwyaS','executeBrowserClose','Cucumber-JS\x20Playwright\x20patching\x20already\x20applied','exit','extractBrowserStackParams','Error\x20checking\x20page\x20availability:\x20','Browser','obsScreenshotMockApplied','SIGTERM','getConfig','YIGIk','newPage','browser','doo11ySync','Cucumber-JS\x20browser.close()\x20intercepted','No\x20capabilities\x20found,\x20using\x20original\x20launch','resolve','Deferred\x20browser\x20close\x20completed\x20successfully','vuNQX','VAjOi','triggerPlaywrightDispatchEvent','ekzvw','Using\x20web/desktop\x20CDP\x20approach','ZdECX','qtUOZ','find','QUBkG','processPageScreenshot:\x20No\x20testId\x20found\x20in\x20testInfo,\x20skipping\x20screenshot\x20event','assign','Before\x20test\x20hook\x20executed\x20for:\x20','function','AccessibilityModule\x20not\x20available\x20for\x20command:\x20','then','dQOsX','processAccessibilityCaps','HtbCd','Error\x20patching\x20page\x20creation:\x20','cucumber-test','9xgYlTa','toLowerCase','GIPmY','qaDvN','Connection','getAccessibilityModule','Primary\x20page\x20context\x20enabled','../v2/modules/playwrightDriverModule','evaluate','tSExI','fTBRl','wltks','EdFPe','args','browserstack_executor:\x20','MgYVL','passed','zXcTL','launch','Deferring\x20browser\x20close\x20for\x20managed\x20page','YeSoA','mockPageCreation','pWoIc','Playwright\x20not\x20available,\x20skipping\x20browser\x20type\x20mocking','Retrieved\x20managed\x20page\x20from\x20AutomationFramework','omMjB','Process\x20exit\x20handler\x20called\x20-\x20executing\x20any\x20remaining\x20deferred\x20closes','isRunning','trackEvent','../../helpers/test-observability/constants','newContext','Error\x20patching\x20Android\x20browser\x20methods:\x20','oHwDR','Error\x20processing\x20accessibility\x20caps:\x20','_bstackAndroidClosePatchApplied','_bstackContextClosePatchApplied','eaIWR','GUGxV','Applied\x20Android\x20context\x20close\x20patching','ObservabilitySync:','No\x20deferred\x20context\x20closes\x20to\x20execute','KjmIP','LslZW','dwXij','isPageAvailableForSession','Applying\x20comprehensive\x20Android-specific\x20close\x20patching','hTfGe','_bstackAndroidContextPatchApplied','IAmAL','kliIN','join','llfBW','mIBHp','split','size','_bstackAndroidNewContextPatchApplied','Applied\x20close\x20patch\x20to\x20Playwright\x20page','bYeRE','Error\x20in\x20safety\x20timeout\x20execution:\x20','odNTy','Generated\x20Android\x20WebSocket\x20URL:\x20','get','BHOIL','markPageCloseRequested','xHGbe','Page\x20close\x20requested\x20and\x20deferred','AKRzM','Checking\x20accessibility\x20scan\x20for\x20command:\x20','headless','30AasLPs','SYNC','isBrowserstackInfra','TzsqM','HyDCT','zmSFT','grrTg','QhRGg','625638UbNebm','sYdfy','keys','MpaZN','Error\x20in\x20beforeTestHook:\x20','page'];a9_0x1466=function(){return _0x23a87f;};return a9_0x1466();}const workerDetails=a9_0x37cf54,getWorkerDetails=()=>{const _0x39eead=a9_0x4b1a56;return global[_0x39eead(0x1ac)]||workerDetails;},doo11ySync=PerformanceTester[a9_0x4b1a56(0x1bb)](PerformanceO11yEvents[a9_0x4b1a56(0x151)],o11yErrorHandler(async function doo11ySync(_0x55b201){const _0x669f82=a9_0x4b1a56,_0x3ce5b1={'LslZW':function(_0x4fc697,_0x1f44b3,_0x423bb6){return _0x4fc697(_0x1f44b3,_0x423bb6);},'uleJJ':_0x669f82(0x1ac),'zXcTL':'o11ySyncDone','drKtk':'annotate','GTrWL':_0x669f82(0xe4)};if(_0x3ce5b1[_0x669f82(0x135)](nestedKeyValue,global,[_0x3ce5b1['uleJJ'],_0x3ce5b1[_0x669f82(0x11c)]]))return;await _0x55b201[_0x669f82(0x113)](_0x3b4ba2=>{},_0x669f82(0x119)+JSON[_0x669f82(0x1ec)]({'action':_0x3ce5b1[_0x669f82(0x1e5)],'arguments':{'data':_0x669f82(0x132)+Date[_0x669f82(0x269)](),'level':_0x3ce5b1[_0x669f82(0x284)]}})),global[_0x669f82(0x1ac)][_0x669f82(0x193)]=!![];},a9_0x4b1a56(0xf2))),isAndroidTest=_0x4b0c74=>{const _0x202166=a9_0x4b1a56,_0x3f531c={};_0x3f531c[_0x202166(0x1e9)]='bstack:options';const _0xaa0c72=_0x3f531c;try{const _0x5f3067=_0x4b0c74[_0x202166(0x20f)]||_0x4b0c74[_0x202166(0x25f)];if(!_0x5f3067)return![];const _0x2fb0f0=_0x5f3067[_0x202166(0x26e)]||_0x5f3067[_0x202166(0x184)]||_0x5f3067[_0xaa0c72[_0x202166(0x1e9)]]?.[_0x202166(0x26e)]||_0x5f3067[_0xaa0c72[_0x202166(0x1e9)]]?.[_0x202166(0x184)];if(!_0x2fb0f0)return![];const _0x2527f8=_0x2fb0f0[_0x202166(0x10c)]()[_0x202166(0x1f0)](/iphone|ipad/);return!_0x2527f8;}catch(_0x9b48dd){return logger[_0x202166(0xe4)](_0x202166(0x188)+util['format'](_0x9b48dd)),![];}},getPageFromAutomationFramework=()=>{const _0x1c6fb3=a9_0x4b1a56;try{const _0x5a0dbd=AutomationFramework[_0x1c6fb3(0x198)]();if(_0x5a0dbd)return AutomationFramework[_0x1c6fb3(0x18d)](_0x5a0dbd,PlaywrightDriverModule[_0x1c6fb3(0x199)]);}catch(_0xb6000f){logger['debug']('Error\x20getting\x20page\x20from\x20AutomationFramework:\x20'+util['format'](_0xb6000f));}return null;},mockPageCreation=()=>{const _0x1cd0da=a9_0x4b1a56,_0x4f1815={'lYqih':_0x1cd0da(0x260),'aVYHO':function(_0x24a90c,_0x239c0c){return _0x24a90c(_0x239c0c);},'inRTG':function(_0x55b7a1){return _0x55b7a1();},'jrbIP':function(_0x1d9bbe,_0x2a91b9){return _0x1d9bbe===_0x2a91b9;},'dQOsX':_0x1cd0da(0x103),'osEBc':function(_0x30370e,_0x3969c4){return _0x30370e&&_0x3969c4;},'HILyp':function(_0x113277,_0xb002ff){return _0x113277===_0xb002ff;},'SInYr':_0x1cd0da(0x111),'FtEtZ':function(_0xcdd11a,_0x82f02a){return _0xcdd11a(_0x82f02a);},'yBIDa':function(_0x1671b9,_0x57a643){return _0x1671b9(_0x57a643);},'WlyrC':function(_0x4abb91,_0x380c08){return _0x4abb91(_0x380c08);},'WCWZr':'Unknown\x20Test','eMsTB':_0x1cd0da(0x10a),'dwXij':_0x1cd0da(0x18a),'fswTG':_0x1cd0da(0x1d9),'mawAX':'browserContext.js','lCRqy':'Not\x20able\x20to\x20import\x20BrowserContext','AsKRP':'newPage','AKRzM':_0x1cd0da(0x17f)};try{const _0x4838c8=[_0x4f1815[_0x1cd0da(0x136)],_0x4f1815['fswTG'],_0x4f1815['mawAX']][_0x1cd0da(0x13d)]('/'),_0x257ffd=_0x4f1815['FtEtZ'](importFileFromPWCore,_0x4838c8);if(!_0x257ffd){logger[_0x1cd0da(0xe4)](_0x4f1815[_0x1cd0da(0x206)]);return;}const _0x22ae9d=_0x257ffd['BrowserContext'];if(!_0x22ae9d)return;const _0x27b00b=_0x22ae9d[_0x1cd0da(0x1a7)];if(_0x27b00b['cucumberPageMockApplied'])return;const _0x541673=_0x27b00b[_0x1cd0da(0xf0)];Object[_0x1cd0da(0x1df)](_0x27b00b,_0x4f1815[_0x1cd0da(0x176)],{'get':function(){return async function _0x17fb29(..._0x286f35){const _0x2d4a48=a9_0x3728;logger['debug'](_0x4f1815['lYqih']);if(!_0x4f1815[_0x2d4a48(0x20e)](isFalse,BrowserstackCLI[_0x2d4a48(0x1ad)]()['isRunning']()))try{await BrowserstackCLI[_0x2d4a48(0x1ad)]()[_0x2d4a48(0x1fb)]()[_0x2d4a48(0x127)](AutomationFrameworkState[_0x2d4a48(0x1d2)],HookState[_0x2d4a48(0x174)],{'launchcaps':global[_0x2d4a48(0x275)]||{},'hubUrl':BrowserstackCLI[_0x2d4a48(0x1ad)]()[_0x2d4a48(0xee)]()?.['hubUrl']||''});}catch(_0x8d226c){logger['debug'](_0x2d4a48(0x1d3)+util[_0x2d4a48(0x1bd)](_0x8d226c));}let _0x12ef14;if(_0x4f1815[_0x2d4a48(0x217)](isAccessibilityAutomationSession))try{const _0x39fd1f=this['browser']&&this[_0x2d4a48(0xf1)]();let _0x5c1ef1=_0x39fd1f&&_0x4f1815[_0x2d4a48(0x1a8)](typeof _0x39fd1f[_0x2d4a48(0x185)],_0x4f1815['dQOsX'])?_0x39fd1f[_0x2d4a48(0x185)]()[0x0]:null;_0x4f1815['osEBc'](!_0x5c1ef1,_0x39fd1f)&&_0x4f1815['HILyp'](typeof _0x39fd1f[_0x2d4a48(0x129)],_0x4f1815[_0x2d4a48(0x106)])&&(_0x5c1ef1=await _0x39fd1f[_0x2d4a48(0x129)]());const _0x15ad5f=_0x5c1ef1||this;_0x12ef14=await _0x541673[_0x2d4a48(0x27d)](_0x15ad5f,_0x286f35),logger['debug'](_0x4f1815['SInYr']);}catch(_0x3ab779){logger['debug']('Failed\x20to\x20use\x20primary\x20context.\x20Error\x20'+util[_0x2d4a48(0x1bd)](_0x3ab779)),_0x12ef14=await _0x541673[_0x2d4a48(0x27d)](this,_0x286f35);}else _0x12ef14=await _0x541673[_0x2d4a48(0x27d)](this,_0x286f35);!_0x4f1815['FtEtZ'](isFalse,process['env'][_0x2d4a48(0x208)])&&(_0x12ef14[_0x2d4a48(0x238)]=async()=>{const _0x5da76e=_0x2d4a48;return await AccessibilityHelper[_0x5da76e(0x238)](_0x12ef14);},_0x12ef14[_0x2d4a48(0x1d5)]=async()=>{const _0x5a0bfe=_0x2d4a48;return await AccessibilityHelper[_0x5a0bfe(0x1d5)](_0x12ef14);},_0x12ef14[_0x2d4a48(0x173)]=async()=>{const _0x5e921f=_0x2d4a48;return await AccessibilityHelper[_0x5e921f(0x173)](_0x12ef14);});!BrowserstackCLI[_0x2d4a48(0x1ad)]()['isRunning']()&&!_0x4f1815[_0x2d4a48(0x257)](isFalse,process[_0x2d4a48(0x20b)]['BROWSERSTACK_TEST_OBSERVABILITY_YML'])&&await _0x4f1815[_0x2d4a48(0x20e)](doo11ySync,_0x12ef14);BrowserstackCLI[_0x2d4a48(0x1ad)]()[_0x2d4a48(0x126)]()&&(_0x12ef14[_0x2d4a48(0x262)]=async(_0x28cc91,_0x26796b,_0x3311c9=![])=>{const _0x28b0af=_0x2d4a48;await CustomTagManager[_0x28b0af(0x262)](_0x28cc91,_0x26796b,_0x3311c9);},_0x12ef14['uploadAttachment']=async(_0x1bd8a0,_0x4c2cc7=![])=>{const _0xf4169d=_0x2d4a48;await uploadAttachmentsManager[_0xf4169d(0x210)](_0x1bd8a0,_0x4c2cc7);});const _0xfde14c=_0x4f1815[_0x2d4a48(0x217)](getWorkerDetails);_0xfde14c[_0x2d4a48(0x22f)]=_0x12ef14,_0xfde14c[_0x2d4a48(0x251)]=![],_0x4f1815[_0x2d4a48(0x1b5)](patchPageClose,_0x12ef14);if(!_0x4f1815['WlyrC'](isFalse,BrowserstackCLI['getInstance']()[_0x2d4a48(0x126)]()))try{const _0x164b19=_0xfde14c[_0x2d4a48(0x234)][_0x2d4a48(0x241)]?{'title':_0x4f1815[_0x2d4a48(0x20e)](getCucumberSessionName,_0xfde14c[_0x2d4a48(0x234)][_0x2d4a48(0x241)])||_0x4f1815[_0x2d4a48(0x209)],'titlePath':[_0x4f1815['WlyrC'](getCucumberSessionName,_0xfde14c[_0x2d4a48(0x234)][_0x2d4a48(0x241)])||_0x4f1815[_0x2d4a48(0x209)]],'id':_0xfde14c[_0x2d4a48(0x234)]['id']||_0x4f1815[_0x2d4a48(0x18e)],..._0xfde14c[_0x2d4a48(0x234)][_0x2d4a48(0x241)]}:_0xfde14c[_0x2d4a48(0x234)][_0x2d4a48(0x241)];await BrowserstackCLI[_0x2d4a48(0x1ad)]()[_0x2d4a48(0x1fb)]()[_0x2d4a48(0x127)](AutomationFrameworkState[_0x2d4a48(0x1d2)],HookState[_0x2d4a48(0x214)],{'page':_0x12ef14,'context':_0x12ef14[_0x2d4a48(0x227)](),'browser':_0x12ef14[_0x2d4a48(0x227)]()['browser'](),'testInfo':_0x164b19,'testFramework':FRAMEWORKS[_0x2d4a48(0x19e)],'launchCaps':global[_0x2d4a48(0x201)],'platformCaps':global[_0x2d4a48(0x275)]});}catch(_0x1cd912){logger[_0x2d4a48(0xe4)](_0x2d4a48(0x1d3)+util['format'](_0x1cd912));}return _0x12ef14;};}}),_0x27b00b[_0x1cd0da(0x26b)]=!![],logger['debug'](_0x4f1815[_0x1cd0da(0x14d)]);}catch(_0x31c7c4){logger[_0x1cd0da(0xe4)](_0x1cd0da(0x109)+util[_0x1cd0da(0x1bd)](_0x31c7c4));}},patchAndroidClose=_0x45656e=>{const _0x2f4643=a9_0x4b1a56,_0x5b0dfc={'BHOIL':_0x2f4643(0x163),'CTjLj':function(_0x220503,_0x596496){return _0x220503(_0x596496);},'ZBgjN':'Android\x20browser.newContext()\x20intercepted\x20for\x20close\x20patching','ACDAa':_0x2f4643(0x1c6),'FqKWl':function(_0x17ab0d,_0x23e280){return _0x17ab0d(_0x23e280);},'DPNbE':_0x2f4643(0x138),'hLHtY':function(_0x3a1ff7,_0x255a44){return _0x3a1ff7===_0x255a44;},'uOUvL':'function','VVuDL':_0x2f4643(0x225),'VAjOi':_0x2f4643(0x245),'OVTBs':_0x2f4643(0x207)};try{logger['debug'](_0x5b0dfc[_0x2f4643(0x1a0)]);if(_0x45656e&&_0x5b0dfc[_0x2f4643(0x283)](typeof _0x45656e[_0x2f4643(0x1db)],_0x5b0dfc[_0x2f4643(0x1d4)])&&!_0x45656e[_0x2f4643(0x12d)]){const _0x34ec3c=_0x45656e[_0x2f4643(0x1db)];_0x45656e[_0x2f4643(0x1db)]=async function(..._0x299e0e){const _0x347d67=_0x2f4643;logger['debug'](_0x5b0dfc[_0x347d67(0x149)]),closeTracker['markBrowserCloseRequested'](this);const _0x5b1c60=closeTracker['browsers'][_0x347d67(0x148)](this);return _0x5b1c60[_0x347d67(0x22d)]=_0x34ec3c,_0x5b1c60[_0x347d67(0x118)]=_0x299e0e,Promise[_0x347d67(0xf5)]();},_0x45656e['_bstackAndroidClosePatchApplied']=!![],logger[_0x2f4643(0xe4)](_0x5b0dfc[_0x2f4643(0x1b2)]);}if(_0x45656e['contexts']&&_0x5b0dfc[_0x2f4643(0x283)](typeof _0x45656e['contexts'],_0x5b0dfc['uOUvL'])){const _0x41fa36=_0x45656e[_0x2f4643(0x185)]();_0x41fa36[_0x2f4643(0x1a6)](_0x30f454=>{_0x5b0dfc['CTjLj'](patchAndroidContext,_0x30f454);});}if(_0x45656e&&_0x45656e[_0x2f4643(0x129)]&&!_0x45656e['_bstackAndroidNewContextPatchApplied']){const _0x2719a9=_0x45656e[_0x2f4643(0x129)];_0x45656e[_0x2f4643(0x129)]=async function(..._0x745ef4){const _0x464f29=_0x2f4643;logger[_0x464f29(0xe4)](_0x5b0dfc[_0x464f29(0x212)]);const _0x19aa1d=await _0x2719a9[_0x464f29(0x27d)](this,_0x745ef4);return _0x5b0dfc['CTjLj'](patchAndroidContext,_0x19aa1d),_0x19aa1d;},_0x45656e[_0x2f4643(0x142)]=!![],logger[_0x2f4643(0xe4)](_0x5b0dfc[_0x2f4643(0xf8)]);}if(_0x45656e&&_0x45656e['launchBrowser']&&!_0x45656e['_bstackAndroidLaunchBrowserPatchApplied']){const _0x3295b9=_0x45656e[_0x2f4643(0x191)];_0x45656e[_0x2f4643(0x191)]=async function(..._0x3825ad){const _0x2dcb9d=_0x2f4643;logger[_0x2dcb9d(0xe4)](_0x5b0dfc[_0x2dcb9d(0x1cb)]);const _0x4c5a45=await _0x3295b9['apply'](this,_0x3825ad);return _0x5b0dfc['FqKWl'](patchAndroidContext,_0x4c5a45),_0x4c5a45;},_0x45656e['_bstackAndroidLaunchBrowserPatchApplied']=!![],logger['debug'](_0x5b0dfc[_0x2f4643(0x203)]);}}catch(_0x2022f0){logger[_0x2f4643(0xe4)](_0x2f4643(0x12a)+util[_0x2f4643(0x1bd)](_0x2022f0));}},patchAndroidContext=_0x35b521=>{const _0x3700b1=a9_0x4b1a56,_0x15d38a={'dXCsF':'Android\x20context.close()\x20intercepted\x20and\x20deferred','QDOtX':function(_0x1b07f5,_0x249b1b){return _0x1b07f5(_0x249b1b);},'TgkxN':'Android\x20context.newPage()\x20intercepted\x20for\x20close\x20patching','HtbCd':function(_0x2daed7,_0x4745be){return _0x2daed7(_0x4745be);},'KphqB':function(_0x1db259){return _0x1db259();},'sBplP':'Applying\x20Android\x20context\x20close\x20patching','OpaKm':function(_0x3e0ddc,_0x2f535e){return _0x3e0ddc===_0x2f535e;},'IAmAL':_0x3700b1(0x103),'IPpnH':_0x3700b1(0x131)};try{if(!_0x35b521||_0x35b521['_bstackAndroidContextPatchApplied'])return;logger[_0x3700b1(0xe4)](_0x15d38a[_0x3700b1(0x1e0)]);if(_0x15d38a[_0x3700b1(0x240)](typeof _0x35b521['close'],_0x15d38a[_0x3700b1(0x13b)])){const _0x5653e2=_0x35b521[_0x3700b1(0x1db)];_0x35b521[_0x3700b1(0x1db)]=async function(..._0x4904f0){const _0xdf31fe=_0x3700b1;logger['debug'](_0x15d38a[_0xdf31fe(0x182)]),closeTracker['markContextCloseRequested'](this);const _0x200c1f=closeTracker[_0xdf31fe(0x185)][_0xdf31fe(0x148)](this);return _0x200c1f[_0xdf31fe(0x22d)]=_0x5653e2,_0x200c1f[_0xdf31fe(0x118)]=_0x4904f0,Promise[_0xdf31fe(0xf5)]();};}if(_0x35b521[_0x3700b1(0x27a)]&&_0x15d38a[_0x3700b1(0x240)](typeof _0x35b521[_0x3700b1(0x27a)],_0x15d38a[_0x3700b1(0x13b)])){const _0x136b38=_0x35b521[_0x3700b1(0x27a)]();_0x136b38['forEach'](_0x402cbf=>{const _0x1c2bd0=_0x3700b1;_0x15d38a[_0x1c2bd0(0x267)](patchAndroidPage,_0x402cbf);});}if(_0x35b521[_0x3700b1(0xf0)]&&!_0x35b521[_0x3700b1(0x172)]){const _0x56ae60=_0x35b521[_0x3700b1(0xf0)];_0x35b521[_0x3700b1(0xf0)]=async function(..._0x4f42a3){const _0x5520c4=_0x3700b1;logger[_0x5520c4(0xe4)](_0x15d38a[_0x5520c4(0x250)]);const _0x36f405=await _0x56ae60[_0x5520c4(0x27d)](this,_0x4f42a3);_0x15d38a[_0x5520c4(0x108)](patchAndroidPage,_0x36f405);const _0x3454fa=_0x15d38a[_0x5520c4(0x1b7)](getWorkerDetails);return _0x3454fa[_0x5520c4(0x22f)]=_0x36f405,_0x36f405;},_0x35b521[_0x3700b1(0x172)]=!![];}_0x35b521[_0x3700b1(0x13a)]=!![],logger[_0x3700b1(0xe4)](_0x15d38a['IPpnH']);}catch(_0x3ba7c0){logger[_0x3700b1(0xe4)](_0x3700b1(0x26f)+util[_0x3700b1(0x1bd)](_0x3ba7c0));}},patchAndroidPage=_0x5888a2=>{const _0x12852a=a9_0x4b1a56,_0x4981e2={};_0x4981e2[_0x12852a(0xef)]=_0x12852a(0x181),_0x4981e2[_0x12852a(0x130)]=_0x12852a(0x1d6),_0x4981e2['wVpfR']=function(_0x35c676,_0x192454){return _0x35c676===_0x192454;},_0x4981e2[_0x12852a(0x1f7)]=_0x12852a(0x103),_0x4981e2['smyAT']=_0x12852a(0x24c);const _0x5dab6d=_0x4981e2;try{if(!_0x5888a2||_0x5888a2[_0x12852a(0x211)])return;logger[_0x12852a(0xe4)](_0x5dab6d['GUGxV']);if(_0x5dab6d[_0x12852a(0x1b3)](typeof _0x5888a2['close'],_0x5dab6d[_0x12852a(0x1f7)])){const _0x4d4c4e=_0x5888a2['close'];_0x5888a2['close']=async function(..._0x5c2994){const _0x53e8eb=_0x12852a;logger[_0x53e8eb(0xe4)](_0x5dab6d[_0x53e8eb(0xef)]),closeTracker['markPageCloseRequested'](this);const _0x211305=closeTracker['pages'][_0x53e8eb(0x148)](this);return _0x211305[_0x53e8eb(0x22d)]=_0x4d4c4e,_0x211305['args']=_0x5c2994,Promise[_0x53e8eb(0xf5)]();},_0x5888a2['_bstackAndroidPagePatchApplied']=!![],logger[_0x12852a(0xe4)](_0x5dab6d[_0x12852a(0x175)]);}}catch(_0x41c064){logger[_0x12852a(0xe4)](_0x12852a(0x28a)+util['format'](_0x41c064));}},closeTracker={'pages':new Map(),'contexts':new Map(),'browsers':new Map(),'safetyTimeouts':new Map(),'markPageCloseRequested':_0x5b2787=>{const _0x415433=a9_0x4b1a56,_0x280eb1={'HWUOl':_0x415433(0x197),'wWKmj':function(_0xc0855e){return _0xc0855e();},'vVFbY':_0x415433(0x14c),'xnrJU':function(_0x557837,_0x3c6547,_0x4bfdfa){return _0x557837(_0x3c6547,_0x4bfdfa);}};closeTracker[_0x415433(0x27a)]['set'](_0x5b2787,{'closeRequested':!![],'timestamp':Date['now']()}),logger[_0x415433(0xe4)](_0x280eb1['vVFbY']);const _0x16c055=_0x280eb1[_0x415433(0x23c)](setTimeout,async()=>{const _0x205563=_0x415433;logger[_0x205563(0xe4)](_0x280eb1[_0x205563(0x263)]);try{await closeTracker['executePageClose'](_0x5b2787),await _0x280eb1[_0x205563(0x24b)](executeDeferredCloses);}catch(_0x4d70c8){logger[_0x205563(0xe4)](_0x205563(0x145)+util['format'](_0x4d70c8));}},0x2710);closeTracker[_0x415433(0x200)][_0x415433(0x22e)](_0x5b2787,_0x16c055);},'markContextCloseRequested':_0x37f4ad=>{const _0x14f12d=a9_0x4b1a56,_0x5f40c7={};_0x5f40c7['VkzSH']=_0x14f12d(0x24a);const _0x384147=_0x5f40c7;closeTracker['contexts'][_0x14f12d(0x22e)](_0x37f4ad,{'closeRequested':!![],'timestamp':Date[_0x14f12d(0x269)]()}),logger[_0x14f12d(0xe4)](_0x384147['VkzSH']);},'markBrowserCloseRequested':_0x408a8e=>{const _0xf63724=a9_0x4b1a56,_0x405287={};_0x405287[_0xf63724(0x24f)]='Browser\x20close\x20requested\x20and\x20deferred';const _0x32b70b=_0x405287;closeTracker[_0xf63724(0x1a4)][_0xf63724(0x22e)](_0x408a8e,{'closeRequested':!![],'timestamp':Date[_0xf63724(0x269)]()}),logger['debug'](_0x32b70b[_0xf63724(0x24f)]);},'wasCloseRequested':_0x539415=>{const _0x3a98b4=a9_0x4b1a56;return closeTracker[_0x3a98b4(0x27a)][_0x3a98b4(0x23b)](_0x539415);},'executePageClose':async _0x5880ec=>{const _0x2b9035=a9_0x4b1a56,_0x3a50ad={'EdFPe':_0x2b9035(0x178),'uLkuJ':function(_0x14011,_0x311814){return _0x14011(_0x311814);}},_0x585977=closeTracker[_0x2b9035(0x27a)]['get'](_0x5880ec);if(_0x585977&&_0x585977[_0x2b9035(0x22d)]){logger[_0x2b9035(0xe4)](_0x3a50ad[_0x2b9035(0x117)]);const _0x721b89=closeTracker[_0x2b9035(0x200)][_0x2b9035(0x148)](_0x5880ec);return _0x721b89&&(_0x3a50ad[_0x2b9035(0x236)](clearTimeout,_0x721b89),closeTracker[_0x2b9035(0x200)][_0x2b9035(0x16b)](_0x5880ec)),closeTracker[_0x2b9035(0x27a)]['delete'](_0x5880ec),await _0x585977['originalClose']['apply'](_0x5880ec,_0x585977[_0x2b9035(0x118)]||[]);}},'executeContextClose':async _0x104601=>{const _0xad0244=a9_0x4b1a56,_0x56e0ea={};_0x56e0ea[_0xad0244(0x23f)]='Executing\x20deferred\x20context\x20close';const _0x5c5d30=_0x56e0ea,_0x5d3a84=closeTracker[_0xad0244(0x185)][_0xad0244(0x148)](_0x104601);if(_0x5d3a84&&_0x5d3a84['originalClose'])return logger[_0xad0244(0xe4)](_0x5c5d30[_0xad0244(0x23f)]),closeTracker[_0xad0244(0x185)][_0xad0244(0x16b)](_0x104601),await _0x5d3a84[_0xad0244(0x22d)][_0xad0244(0x27d)](_0x104601,_0x5d3a84[_0xad0244(0x118)]||[]);},'executeBrowserClose':async _0x507f46=>{const _0x3ceec1=a9_0x4b1a56,_0x5cdd91={};_0x5cdd91['XrBOr']=_0x3ceec1(0x1b8);const _0x28ad87=_0x5cdd91,_0x276fc6=closeTracker[_0x3ceec1(0x1a4)]['get'](_0x507f46);if(_0x276fc6&&_0x276fc6[_0x3ceec1(0x22d)])return logger['debug'](_0x28ad87[_0x3ceec1(0x28c)]),closeTracker['browsers'][_0x3ceec1(0x16b)](_0x507f46),await _0x276fc6[_0x3ceec1(0x22d)][_0x3ceec1(0x27d)](_0x507f46,_0x276fc6[_0x3ceec1(0x118)]||[]);},'cleanup':()=>{const _0x343ddc=a9_0x4b1a56,_0x138274={'Xuuhz':function(_0x2e6bd5,_0x2971f1){return _0x2e6bd5(_0x2971f1);}};for(const _0x495baa of closeTracker[_0x343ddc(0x200)][_0x343ddc(0x183)]()){_0x138274['Xuuhz'](clearTimeout,_0x495baa);}closeTracker[_0x343ddc(0x200)][_0x343ddc(0x25d)](),closeTracker[_0x343ddc(0x27a)][_0x343ddc(0x25d)](),closeTracker[_0x343ddc(0x185)][_0x343ddc(0x25d)](),closeTracker[_0x343ddc(0x1a4)]['clear']();}},patchPageClose=_0xf215fb=>{const _0x5acb5c=a9_0x4b1a56,_0x5143fb={'OjpJX':_0x5acb5c(0x242),'yiMxB':function(_0x56d6cf){return _0x56d6cf();},'ZPULb':function(_0x3347ef,_0x15fca8){return _0x3347ef===_0x15fca8;},'oHwDR':_0x5acb5c(0x143)};try{if(_0xf215fb[_0x5acb5c(0x20c)])return;const _0x17b1b1=_0xf215fb[_0x5acb5c(0x1db)];_0xf215fb['close']=async function(..._0x36e197){const _0x2660f4=_0x5acb5c;logger['debug'](_0x5143fb[_0x2660f4(0x16f)]);const _0x2775a0=_0x5143fb[_0x2660f4(0x1be)](getPageFromAutomationFramework);if(_0x5143fb[_0x2660f4(0x1d7)](_0x2775a0,this)){closeTracker[_0x2660f4(0x14a)](this);const _0x5320dc=closeTracker[_0x2660f4(0x27a)][_0x2660f4(0x148)](this);return _0x5320dc[_0x2660f4(0x22d)]=_0x17b1b1,_0x5320dc[_0x2660f4(0x118)]=_0x36e197,Promise[_0x2660f4(0xf5)]();}return await _0x17b1b1[_0x2660f4(0x27d)](this,_0x36e197);},_0xf215fb[_0x5acb5c(0x20c)]=!![],logger[_0x5acb5c(0xe4)](_0x5143fb[_0x5acb5c(0x12b)]);}catch(_0x2a067c){logger['debug'](_0x5acb5c(0x169)+util[_0x5acb5c(0x1bd)](_0x2a067c));}},patchContextAndBrowserClose=()=>{const _0x5dba5d=a9_0x4b1a56,_0x3fcb64={'llfBW':_0x5dba5d(0x1ce),'tzqbr':function(_0x209d40){return _0x209d40();},'BJdfU':function(_0x4f2169,_0x2cf722){return _0x4f2169===_0x2cf722;},'grrTg':_0x5dba5d(0x288),'QqtqU':_0x5dba5d(0xf3),'OsTmq':function(_0x1bdce6){return _0x1bdce6();},'fooso':function(_0x24fcbe,_0xde672){return _0x24fcbe===_0xde672;},'uOwvm':_0x5dba5d(0x11e),'YeSoA':'lib','rBKss':'client','QRlKz':'browserContext.js','sYdfy':function(_0x13483f,_0x35c27b){return _0x13483f(_0x35c27b);},'fTBRl':_0x5dba5d(0x1c2),'vXtbD':_0x5dba5d(0x226),'gjeIu':function(_0x5e74d3,_0x10691e){return _0x5e74d3(_0x10691e);},'sXDYC':_0x5dba5d(0x280)};try{const _0x4ee6f9=[_0x3fcb64[_0x5dba5d(0x11f)],_0x3fcb64[_0x5dba5d(0x164)],_0x3fcb64[_0x5dba5d(0x16d)]][_0x5dba5d(0x13d)]('/'),_0xdd2fe3=_0x3fcb64[_0x5dba5d(0x159)](importFileFromPWCore,_0x4ee6f9);if(_0xdd2fe3&&_0xdd2fe3[_0x5dba5d(0x228)]){const _0x1681d0=_0xdd2fe3[_0x5dba5d(0x228)]['prototype'];if(!_0x1681d0[_0x5dba5d(0x12e)]){const _0x16c642=_0x1681d0['close'];_0x1681d0['close']=async function(..._0x27271e){const _0x5d2575=_0x5dba5d;logger[_0x5d2575(0xe4)](_0x3fcb64[_0x5d2575(0x13e)]);const _0x1a0221=_0x3fcb64[_0x5d2575(0x224)](getPageFromAutomationFramework);if(_0x1a0221&&_0x3fcb64[_0x5d2575(0x1bf)](_0x1a0221[_0x5d2575(0x227)](),this)){logger[_0x5d2575(0xe4)](_0x3fcb64[_0x5d2575(0x156)]),closeTracker['markContextCloseRequested'](this);const _0x1a5675=closeTracker[_0x5d2575(0x185)][_0x5d2575(0x148)](this);return _0x1a5675[_0x5d2575(0x22d)]=_0x16c642,_0x1a5675['args']=_0x27271e,Promise[_0x5d2575(0xf5)]();}return await _0x16c642[_0x5d2575(0x27d)](this,_0x27271e);},_0x1681d0[_0x5dba5d(0x12e)]=!![],logger[_0x5dba5d(0xe4)](_0x3fcb64[_0x5dba5d(0x115)]);}}const _0x4280bb=[_0x3fcb64[_0x5dba5d(0x11f)],_0x3fcb64[_0x5dba5d(0x164)],_0x3fcb64['vXtbD']]['join']('/'),_0x4be19c=_0x3fcb64[_0x5dba5d(0x1e3)](importFileFromPWCore,_0x4280bb);if(_0x4be19c&&_0x4be19c[_0x5dba5d(0xeb)]){const _0x26beb3=_0x4be19c[_0x5dba5d(0xeb)][_0x5dba5d(0x1a7)];if(!_0x26beb3[_0x5dba5d(0x265)]){const _0x1dfa2c=_0x26beb3['close'];_0x26beb3[_0x5dba5d(0x1db)]=async function(..._0x2c5d04){const _0x18f5fb=_0x5dba5d;logger['debug'](_0x3fcb64[_0x18f5fb(0x161)]);const _0x39543c=_0x3fcb64[_0x18f5fb(0x18c)](getPageFromAutomationFramework);if(_0x39543c&&_0x3fcb64[_0x18f5fb(0x171)](_0x39543c[_0x18f5fb(0x227)]()['browser'](),this)){logger[_0x18f5fb(0xe4)](_0x3fcb64[_0x18f5fb(0x239)]),closeTracker[_0x18f5fb(0x1c1)](this);const _0x175fc7=closeTracker['browsers'][_0x18f5fb(0x148)](this);return _0x175fc7[_0x18f5fb(0x22d)]=_0x1dfa2c,_0x175fc7['args']=_0x2c5d04,Promise[_0x18f5fb(0xf5)]();}return await _0x1dfa2c[_0x18f5fb(0x27d)](this,_0x2c5d04);},_0x26beb3['_bstackBrowserClosePatchApplied']=!![],logger[_0x5dba5d(0xe4)](_0x3fcb64['sXDYC']);}}}catch(_0x480b9f){logger[_0x5dba5d(0xe4)](_0x5dba5d(0x17e)+util[_0x5dba5d(0x1bd)](_0x480b9f));}},executeDeferredCloses=async()=>{const _0x1c0767=a9_0x4b1a56,_0x589f5e={'pyZvj':function(_0x19a4fa){return _0x19a4fa();},'HyDCT':_0x1c0767(0x123),'nogiQ':_0x1c0767(0x187),'sSvzF':function(_0x2c0228,_0x27bf54){return _0x2c0228>_0x27bf54;},'tJSlz':'Executing\x20deferred\x20page\x20close','nAZlQ':_0x1c0767(0x1ff),'ImMwF':'No\x20deferred\x20page\x20closes\x20to\x20execute','XxqjQ':_0x1c0767(0x1c7),'TzsqM':_0x1c0767(0x19b),'FkEjZ':_0x1c0767(0x133),'aUDqK':function(_0x507607,_0x372386){return _0x507607>_0x372386;},'qtUOZ':'Executing\x20deferred\x20browser\x20close','kaqho':_0x1c0767(0xf6),'KbScx':'No\x20deferred\x20browser\x20closes\x20to\x20execute','xuaGs':_0x1c0767(0x1ef)};try{const _0x5887c5=_0x589f5e['pyZvj'](getWorkerDetails);let _0x1a87ae=_0x5887c5[_0x1c0767(0x22f)];!_0x1a87ae&&(_0x1a87ae=_0x589f5e[_0x1c0767(0x15e)](getPageFromAutomationFramework),logger['debug'](_0x589f5e[_0x1c0767(0x154)]));logger[_0x1c0767(0xe4)](_0x1c0767(0x271)+!!_0x1a87ae+_0x1c0767(0x1a1)+closeTracker[_0x1c0767(0x27a)][_0x1c0767(0x141)]+_0x1c0767(0x243)+closeTracker['contexts'][_0x1c0767(0x141)]+',\x20Browsers\x20tracked:\x20'+closeTracker[_0x1c0767(0x1a4)][_0x1c0767(0x141)]),logger[_0x1c0767(0xe4)](_0x589f5e['nogiQ']),await new Promise(_0x473444=>setTimeout(_0x473444,0xbb8));if(_0x589f5e[_0x1c0767(0x261)](closeTracker[_0x1c0767(0x27a)][_0x1c0767(0x141)],0x0)){logger[_0x1c0767(0xe4)](_0x1c0767(0x264)+closeTracker['pages'][_0x1c0767(0x141)]+'\x20deferred\x20page\x20closes');const _0x4e9bcd=Array['from'](closeTracker[_0x1c0767(0x27a)][_0x1c0767(0x15a)]());for(const _0x20e887 of _0x4e9bcd){try{logger[_0x1c0767(0xe4)](_0x589f5e['tJSlz']),await closeTracker[_0x1c0767(0x1ee)](_0x20e887),logger[_0x1c0767(0xe4)](_0x589f5e['nAZlQ']);}catch(_0xbfa03f){logger[_0x1c0767(0xe4)]('Error\x20executing\x20deferred\x20page\x20close:\x20'+util[_0x1c0767(0x1bd)](_0xbfa03f));}}}else logger[_0x1c0767(0xe4)](_0x589f5e[_0x1c0767(0x1c0)]);if(_0x589f5e[_0x1c0767(0x261)](closeTracker[_0x1c0767(0x185)][_0x1c0767(0x141)],0x0)){logger[_0x1c0767(0xe4)](_0x1c0767(0x264)+closeTracker[_0x1c0767(0x185)]['size']+_0x1c0767(0x232));const _0x4e9cb3=Array['from'](closeTracker[_0x1c0767(0x185)]['keys']());for(const _0x12a504 of _0x4e9cb3){try{logger[_0x1c0767(0xe4)](_0x589f5e[_0x1c0767(0x28b)]),await closeTracker['executeContextClose'](_0x12a504),logger[_0x1c0767(0xe4)](_0x589f5e[_0x1c0767(0x153)]);}catch(_0x17e063){logger[_0x1c0767(0xe4)](_0x1c0767(0x165)+util['format'](_0x17e063));}}}else logger[_0x1c0767(0xe4)](_0x589f5e[_0x1c0767(0x1b1)]);if(_0x589f5e[_0x1c0767(0x1e8)](closeTracker[_0x1c0767(0x1a4)][_0x1c0767(0x141)],0x0)){logger[_0x1c0767(0xe4)](_0x1c0767(0x264)+closeTracker['browsers'][_0x1c0767(0x141)]+_0x1c0767(0x17b));const _0x16bdc9=Array[_0x1c0767(0x192)](closeTracker[_0x1c0767(0x1a4)][_0x1c0767(0x15a)]());for(const _0x3a200d of _0x16bdc9){try{logger[_0x1c0767(0xe4)](_0x589f5e[_0x1c0767(0xfd)]),await closeTracker[_0x1c0767(0xe6)](_0x3a200d),logger[_0x1c0767(0xe4)](_0x589f5e[_0x1c0767(0x1da)]);}catch(_0x176e93){logger[_0x1c0767(0xe4)](_0x1c0767(0x219)+util[_0x1c0767(0x1bd)](_0x176e93));}}}else logger['debug'](_0x589f5e[_0x1c0767(0x15f)]);logger[_0x1c0767(0xe4)](_0x589f5e[_0x1c0767(0x274)]);}catch(_0x22bca3){logger[_0x1c0767(0xe4)]('Error\x20executing\x20deferred\x20closes:\x20'+util[_0x1c0767(0x1bd)](_0x22bca3));}},isPageAvailableForSession=_0x39e843=>{const _0x3dee62=a9_0x4b1a56,_0x5385c7={};_0x5385c7['eaIWR']=_0x3dee62(0x22a),_0x5385c7[_0x3dee62(0x204)]=_0x3dee62(0x1c8);const _0x5b4bc7=_0x5385c7;if(!_0x39e843)return logger[_0x3dee62(0xe4)](_0x5b4bc7[_0x3dee62(0x12f)]),![];try{if(closeTracker['wasCloseRequested'](_0x39e843))return logger[_0x3dee62(0xe4)](_0x5b4bc7[_0x3dee62(0x204)]),!![];const _0x42e9ae=_0x39e843['isClosed']&&_0x39e843[_0x3dee62(0x17c)]();return logger[_0x3dee62(0xe4)]('Page\x20closed\x20status:\x20'+_0x42e9ae),!_0x42e9ae;}catch(_0x45142b){return logger[_0x3dee62(0xe4)](_0x3dee62(0xea)+util['format'](_0x45142b)),![];}},mockPageScreenshot=()=>{const _0x1e7d21=a9_0x4b1a56,_0xd11612={'Qpvpx':function(_0x3c7772,_0x5bb1c4,_0x2e174d){return _0x3c7772(_0x5bb1c4,_0x2e174d);},'EqSZg':'base64','FisOM':function(_0x3fa100,_0x18030f){return _0x3fa100(_0x18030f);},'LnVXm':'[Screenshot]\x20No\x20current\x20test\x20found','oZTCt':function(_0x58ad9b){return _0x58ad9b();},'QUBkG':_0x1e7d21(0x18a),'GIPmY':'client','QibxQ':'page.js','qIKIz':function(_0x591f02,_0x4ae9e6){return _0x591f02(_0x4ae9e6);},'odNTy':function(_0xdb8731,_0x57ff08){return _0xdb8731(_0x57ff08);},'PpaMG':_0x1e7d21(0x168),'ICpRm':_0x1e7d21(0x1f1)},_0xb63a12=path[_0x1e7d21(0x13d)](_0xd11612[_0x1e7d21(0xff)],_0xd11612[_0x1e7d21(0x10d)],_0xd11612[_0x1e7d21(0x23a)]),_0xb714e2=_0xd11612[_0x1e7d21(0x215)](importFileFromPWCore,_0xb63a12);if(!_0xb714e2){_0xd11612[_0x1e7d21(0x146)](debug,_0xd11612[_0x1e7d21(0x229)]);return;}const _0x450978=_0xb714e2[_0x1e7d21(0x1ca)];if(!_0x450978)return;const _0x239518=_0x450978[_0x1e7d21(0x1a7)];if(_0x239518[_0x1e7d21(0xec)])return;const _0x5bad38=_0x239518[_0x1e7d21(0x1f1)];Object[_0x1e7d21(0x1df)](_0x239518,_0xd11612['ICpRm'],{'get':function(){const _0x2170d2=_0x1e7d21,_0x4fb5fe=_0xd11612[_0x2170d2(0x1f3)](getWorkerDetails);return async function _0x35a6ce(_0x5c5797){const _0x8c1c22=_0x2170d2,_0x1cc340={'ekzvw':function(_0x91178c,_0xbb0765,_0x2852c3){const _0x4a65f3=a9_0x3728;return _0xd11612[_0x4a65f3(0x1d8)](_0x91178c,_0xbb0765,_0x2852c3);},'IEjCK':_0xd11612['EqSZg']};if(!_0x4fb5fe['currentTest'][_0x8c1c22(0x241)])return _0xd11612[_0x8c1c22(0x1b4)](debug,_0xd11612[_0x8c1c22(0x166)]),_0x5bad38[_0x8c1c22(0x27d)](this,arguments);return _0x5bad38[_0x8c1c22(0x27d)](this,arguments)[_0x8c1c22(0x105)](async _0x36140d=>{const _0x37b6a7=_0x8c1c22;return await _0x1cc340[_0x37b6a7(0xfa)](processPageScreenshot,_0x36140d[_0x37b6a7(0x28e)](_0x1cc340['IEjCK']),_0x4fb5fe[_0x37b6a7(0x234)][_0x37b6a7(0x241)]),_0x36140d;});};}}),_0x239518[_0x1e7d21(0xec)]=!![];},processPageScreenshot=async function processPageScreenshot(_0x311979,_0x46653f){const _0x33a7ce=a9_0x4b1a56,_0x8d176e={};_0x8d176e['DBQNh']='TEST_SCREENSHOT',_0x8d176e[_0x33a7ce(0x21f)]=_0x33a7ce(0x100);const _0x1204f1=_0x8d176e;return await PerformanceTester[_0x33a7ce(0x1bb)](PerformanceO11yEvents[_0x33a7ce(0x1bc)],async()=>{const _0x178adc=_0x33a7ce;try{if(BrowserstackCLI[_0x178adc(0x1ad)]()[_0x178adc(0x126)]()){const _0x6b79d=_0x46653f[_0x178adc(0x190)];if(_0x6b79d){const _0x27a322={'uuid':_0x6b79d,'test_run_uuid':_0x6b79d,'timestamp':new Date()['toISOString'](),'kind':_0x1204f1[_0x178adc(0x1e6)],'message':_0x311979};TestInfo[_0x178adc(0x18f)](_0x6b79d,_0x27a322);}else logger[_0x178adc(0xe4)](_0x1204f1[_0x178adc(0x21f)]);return;}}catch(_0x537054){logger['debug']('processPageScreenshot:\x20Error\x20storing\x20screenshot\x20log\x20event:\x20'+util['format'](_0x537054));}})();},mockBrowserType=_0x41928e=>{const _0x420497=a9_0x4b1a56,_0x4fe90d={'GxENf':function(_0x1e0c20,_0xf12393){return _0x1e0c20===_0xf12393;},'KxAZF':_0x420497(0x1cd),'nPTyv':function(_0x1cd3b1,_0x4624a9){return _0x1cd3b1!==_0x4624a9;},'MpaZN':_0x420497(0xf4),'MJoYW':_0x420497(0x252),'tSExI':_0x420497(0x1fe),'mIBHp':_0x420497(0xfb),'zmSFT':function(_0x565124,_0x4cf9dc){return _0x565124(_0x4cf9dc);},'MSatT':_0x420497(0x233),'ETTkA':function(_0x180a3d,_0x1272ac){return _0x180a3d(_0x1272ac);},'xlrwX':function(_0x418621,_0x899bf2){return _0x418621(_0x899bf2);},'KjmIP':_0x420497(0x1e4),'MtNha':function(_0x2c9611){return _0x2c9611();},'kHbOT':_0x420497(0x1d1),'bQlfk':function(_0x58706b,_0x57eac1){return _0x58706b>_0x57eac1;},'HkQGP':'project','sQcEg':_0x420497(0x21d),'fctTQ':function(_0x3e2897,_0x547ac7){return _0x3e2897(_0x547ac7);},'vuNQX':_0x420497(0x1aa),'qaDvN':function(_0x191f90,_0x1ba4bf){return _0x191f90(_0x1ba4bf);},'pCWzb':_0x420497(0x19a),'pKDTQ':function(_0x38cabd,_0x413103){return _0x38cabd(_0x413103);},'yWMBJ':function(_0x4ece3c){return _0x4ece3c();},'GGfEU':function(_0x2397ba){return _0x2397ba();},'Dtlwg':_0x420497(0x122),'OnIQD':'Could\x20not\x20get\x20BrowserType\x20class,\x20skipping\x20patching','qPIfm':_0x420497(0xe7),'hyjtu':function(_0x2939d5,_0x1c030e){return _0x2939d5(_0x1c030e);},'GhwwS':_0x420497(0x11d),'AsAQN':_0x420497(0x221),'hTfGe':_0x420497(0x277)};if(!playwrightHelper[_0x420497(0x231)]()){logger[_0x420497(0xe4)](_0x4fe90d[_0x420497(0x285)]);return;}try{const _0x2b7f54=playwrightHelper[_0x420497(0x202)]();if(!_0x2b7f54){logger[_0x420497(0xe4)](_0x4fe90d['OnIQD']);return;}const _0x4739a6=_0x2b7f54[_0x420497(0x1a7)];if(_0x4739a6['cucumberJsMockApplied']){logger[_0x420497(0xe4)](_0x4fe90d['qPIfm']);return;}const _0xcbf1bd=_0x4739a6[_0x420497(0x11d)],_0x46923a=_0x4739a6[_0x420497(0x221)],_0x415641=_0x4fe90d['hyjtu'](isAndroidTest,_0x41928e);logger['debug'](_0x420497(0x1cc)+_0x415641),Object['defineProperty'](_0x4739a6,_0x4fe90d[_0x420497(0x289)],{'get':function(){const _0x39413a=_0x420497,_0x10d2b8={'bYeRE':function(_0x3faba3,_0x345edb){const _0x2ca753=a9_0x3728;return _0x4fe90d[_0x2ca753(0x196)](_0x3faba3,_0x345edb);},'LGEwu':_0x4fe90d[_0x39413a(0x258)],'IcFJy':_0x4fe90d[_0x39413a(0x1c5)],'OvVfu':function(_0x46f44b){const _0x23412d=_0x39413a;return _0x4fe90d[_0x23412d(0x1f4)](_0x46f44b);},'HUyJE':function(_0x4785c9,_0xc8c929){const _0xdcb51=_0x39413a;return _0x4fe90d[_0xdcb51(0x27c)](_0x4785c9,_0xc8c929);}};return async function _0x1e34f7(..._0x234276){const _0x16f822=_0x39413a;logger[_0x16f822(0xe4)](_0x16f822(0x248)+_0x415641+')');try{let _0x107970,_0x2d7809=_0x41928e[_0x16f822(0x20f)]||_0x41928e[_0x16f822(0x25f)];const _0x11b742=!!_0x234276?.[_0x16f822(0xfe)](_0x1516cd=>_0x1516cd&&typeof _0x1516cd===_0x16f822(0x1cd)&&_0x1516cd[_0x16f822(0x14f)])?.['headless'];try{if(_0x4fe90d['GxENf'](typeof _0x2d7809,_0x4fe90d[_0x16f822(0x216)])&&_0x4fe90d[_0x16f822(0x24e)](_0x2d7809,null)){const _0x1d95e9={};_0x1d95e9['headless']=!!_0x11b742,_0x2d7809=Object[_0x16f822(0x101)]({},_0x2d7809,_0x1d95e9);}else{const _0x225fda={};_0x225fda[_0x16f822(0x14f)]=!!_0x11b742,_0x2d7809=_0x225fda;}}catch(_0x21ef5b){logger[_0x16f822(0xe4)](_0x16f822(0x23d)+util[_0x16f822(0x1bd)](_0x21ef5b));}global[_0x16f822(0x275)]&&(_0x2d7809=Object['assign']({},global['__platformCaps'],_0x2d7809));if(!_0x2d7809)return logger[_0x16f822(0xe4)](_0x4fe90d[_0x16f822(0x15b)]),_0xcbf1bd[_0x16f822(0x27d)](this,_0x234276);if(_0x415641){logger['debug'](_0x4fe90d[_0x16f822(0x222)]),_0x107970=playwrightHelper['generatePlaywrightUrl'](_0x41928e,_0x2d7809),logger[_0x16f822(0xe4)](_0x16f822(0x147)+_0x107970);if(base[_0x16f822(0x19f)]&&base[_0x16f822(0x19f)][_0x16f822(0x221)])return base[_0x16f822(0x19f)][_0x16f822(0x221)][_0x16f822(0x27d)](this,[_0x107970])[_0x16f822(0x105)](async _0x5579cd=>{const _0x33e5f6=_0x16f822,_0x4f8dba={'SroWx':function(_0x576ae2,_0x631a){const _0x3f5bb0=a9_0x3728;return _0x10d2b8[_0x3f5bb0(0x144)](_0x576ae2,_0x631a);},'LuYir':_0x10d2b8[_0x33e5f6(0x170)],'okuqF':_0x10d2b8[_0x33e5f6(0x167)]},_0x320029=_0x10d2b8[_0x33e5f6(0x22c)](getWorkerDetails)['currentTest'][_0x33e5f6(0x241)]||_0x10d2b8[_0x33e5f6(0x22c)](getWorkerDetails)[_0x33e5f6(0x205)];_0x10d2b8[_0x33e5f6(0x21b)](patchAndroidClose,_0x5579cd),_0x5579cd['newContext']=function(){const _0x933a78=_0x33e5f6;return _0x4f8dba[_0x933a78(0x1e1)](arguments['length'],0x0)&&(arguments[0x0]=Object['assign'](arguments[0x0],helper[_0x933a78(0x26c)](_0x320029,[_0x4f8dba[_0x933a78(0x27e)],_0x4f8dba['okuqF']])||{})),_0x5579cd[_0x933a78(0x191)][_0x933a78(0x27d)](this,arguments);};if(_0x5579cd){const _0x45e2e4={};_0x45e2e4[_0x33e5f6(0x21d)]={};const _0x21d18b={..._0x320029};_0x21d18b[_0x33e5f6(0x254)]=_0x2d7809,_0x21d18b[_0x33e5f6(0x16a)]=_0x320029?.[_0x33e5f6(0x16a)]||_0x45e2e4;const _0xab5641=_0x21d18b;await CucumberSessionDetails[_0x33e5f6(0x1f6)](_0x5579cd,_0xab5641,_0x107970);}const {bsParams:_0x3a46f9,bStackParams:_0x44a3e6}=CucumberSessionDetails[_0x33e5f6(0xe9)](_0x107970,_0x2d7809);return await CucumberSessionDetails[_0x33e5f6(0xf9)](_0x3a46f9,_0x44a3e6),_0x5579cd;});return logger['debug'](_0x4fe90d[_0x16f822(0x114)]),_0x4739a6[_0x16f822(0x221)]['apply'](this,[_0x107970]);}logger['debug'](_0x4fe90d[_0x16f822(0x13f)]),logger[_0x16f822(0xe4)]('Normalized\x20browser\x20capability\x20for\x20connect/connectOverCDP:\x20'+_0x2d7809[_0x16f822(0xf1)]),global[_0x16f822(0x275)]=_0x2d7809,_0x107970=playwrightHelper[_0x16f822(0x1a5)](_0x41928e,_0x2d7809),logger[_0x16f822(0xe4)]('Generated\x20Playwright\x20CDP\x20URL:\x20'+_0x107970);let _0x27a41e='',_0x1d1832={};try{const {parseWSEndpoint:_0x336a72}=_0x4fe90d[_0x16f822(0x155)](require,_0x4fe90d[_0x16f822(0x1d0)]);[_0x27a41e,_0x1d1832]=_0x4fe90d['ETTkA'](_0x336a72,_0x107970);const _0x2d186b=_0x4fe90d[_0x16f822(0x1c4)](require,_0x4fe90d[_0x16f822(0x134)]),_0xb76465=_0x4fe90d[_0x16f822(0x1f4)](getWorkerDetails);_0x2d186b[_0x16f822(0x107)](_0x1d1832,_0x27a41e,_0xb76465),logger[_0x16f822(0x1ae)](_0x16f822(0x1a2)+global[_0x16f822(0x24d)]+'\x20'+JSON[_0x16f822(0x1ec)](_0x1d1832));}catch(_0x21a3ff){logger[_0x16f822(0xe4)](_0x16f822(0x12c)+util[_0x16f822(0x1bd)](_0x21a3ff));}if(global[_0x16f822(0x24d)]){logger[_0x16f822(0xe4)](_0x4fe90d[_0x16f822(0x256)]);const {bsParams:_0x1f3ada,bStackParams:_0x3b2242}=CucumberSessionDetails[_0x16f822(0xe9)](_0x107970,_0x1d1832);return await CucumberSessionDetails[_0x16f822(0xf9)](_0x1f3ada,_0x3b2242),await _0x4739a6[_0x16f822(0x1fc)][_0x16f822(0x27d)](this,[''+Constants['PLAYWRIGHT_HUB_URL']+_0x4fe90d[_0x16f822(0x1c4)](encodeURIComponent,JSON[_0x16f822(0x1ec)](_0x1d1832))]);}const {bsParams:_0x39d79c,bStackParams:_0x4418a8}=CucumberSessionDetails[_0x16f822(0xe9)](_0x107970,_0x2d7809);return await CucumberSessionDetails[_0x16f822(0xf9)](_0x39d79c,_0x4418a8),_0x4739a6[_0x16f822(0x221)][_0x16f822(0x27d)](this,[_0x107970]);}catch(_0x44ab19){return logger[_0x16f822(0xe4)]('Error\x20in\x20Playwright\x20launch\x20patching:\x20'+util['format'](_0x44ab19)),_0xcbf1bd[_0x16f822(0x27d)](this,_0x234276);}};}}),Object['defineProperty'](_0x4739a6,_0x4fe90d[_0x420497(0x1c9)],{'get':function(){return async function _0x3c9ab7(..._0x42a594){const _0x2089d4=a9_0x3728;logger[_0x2089d4(0xe4)](_0x2089d4(0x272)+_0x415641+')');try{const _0x1e5d56=_0x42a594[0x0];let _0x196c9f=null,_0x40ea38=null;if(_0x1e5d56&&_0x4fe90d[_0x2089d4(0x1c3)](typeof _0x1e5d56,_0x4fe90d[_0x2089d4(0xf7)]))try{const {parseWSEndpoint:_0x516300}=_0x4fe90d[_0x2089d4(0x155)](require,_0x4fe90d['MSatT']);[_0x40ea38,_0x196c9f]=_0x4fe90d[_0x2089d4(0x10e)](_0x516300,_0x1e5d56),global[_0x2089d4(0x201)]=_0x196c9f,logger['debug'](_0x2089d4(0x268)+JSON[_0x2089d4(0x1ec)](_0x196c9f)),logger[_0x2089d4(0xe4)](_0x2089d4(0x1ed)+JSON['stringify'](global[_0x2089d4(0x275)]));}catch(_0x4d147a){logger['debug'](_0x2089d4(0x1f2)+util[_0x2089d4(0x1bd)](_0x4d147a));}let _0x55619f;if(global[_0x2089d4(0x24d)]){logger[_0x2089d4(0xe4)](_0x4fe90d['pCWzb']);const _0x4c1d8f=_0x196c9f||global[_0x2089d4(0x275)]||{};_0x55619f=await _0x4739a6[_0x2089d4(0x1fc)]['apply'](this,[''+Constants['PLAYWRIGHT_HUB_URL']+_0x4fe90d[_0x2089d4(0x235)](encodeURIComponent,JSON['stringify'](_0x4c1d8f))]);}else _0x55619f=await _0x46923a[_0x2089d4(0x27d)](this,_0x42a594);const _0x7b8e36=_0x42a594[0x0];let _0xe81ab=_0x41928e[_0x2089d4(0x20f)]||_0x41928e[_0x2089d4(0x25f)];global[_0x2089d4(0x275)]&&(_0xe81ab=Object[_0x2089d4(0x101)]({},global[_0x2089d4(0x275)],_0xe81ab));const _0x4be351=_0x4fe90d[_0x2089d4(0x213)](getWorkerDetails)[_0x2089d4(0x234)][_0x2089d4(0x241)]||_0x4fe90d[_0x2089d4(0x21e)](getWorkerDetails)[_0x2089d4(0x205)];if(_0x55619f){const _0x1cd8b9={};_0x1cd8b9[_0x2089d4(0x21d)]={};const _0x15c18f={..._0x4be351};_0x15c18f[_0x2089d4(0x254)]=_0xe81ab,_0x15c18f[_0x2089d4(0x16a)]=_0x4be351?.[_0x2089d4(0x16a)]||_0x1cd8b9;const _0x31a076=_0x15c18f;await CucumberSessionDetails[_0x2089d4(0x1f6)](_0x55619f,_0x31a076,_0x7b8e36);}const {bsParams:_0x236d05,bStackParams:_0x5f23d4}=CucumberSessionDetails['extractBrowserStackParams'](_0x7b8e36,_0xe81ab);return await CucumberSessionDetails[_0x2089d4(0xf9)](_0x236d05,_0x5f23d4),_0x55619f;}catch(_0x35edfc){logger[_0x2089d4(0xe4)](_0x2089d4(0x1af)+util[_0x2089d4(0x1bd)](_0x35edfc));throw _0x35edfc;}};}}),_0x4739a6['cucumberJsMockApplied']=!![],logger[_0x420497(0xe4)](_0x4fe90d[_0x420497(0x139)]);}catch(_0x53505){logger['debug']('Error\x20patching\x20Playwright\x20BrowserType:\x20'+util[_0x420497(0x1bd)](_0x53505));}},patchSendMessageToServer=()=>{const _0x2aec00=a9_0x4b1a56,_0x43bce2={'Luzsk':function(_0x13513c){return _0x13513c();},'vvWzb':_0x2aec00(0x18a),'HMFix':_0x2aec00(0x1d9),'pWoIc':_0x2aec00(0x17a),'yObiy':function(_0x37617a,_0x15e859){return _0x37617a(_0x15e859);},'nIXDK':'Not\x20able\x20to\x20import\x20Connection\x20for\x20accessibility\x20patching','aLnVf':_0x2aec00(0x1fd),'LfYfq':_0x2aec00(0x278),'kliIN':_0x2aec00(0x266)};try{const _0x30deee=path[_0x2aec00(0x13d)](_0x43bce2[_0x2aec00(0x279)],_0x43bce2[_0x2aec00(0x195)],_0x43bce2[_0x2aec00(0x121)]),_0x44a63e=_0x43bce2[_0x2aec00(0x160)](importFileFromPWCore,_0x30deee);if(!_0x44a63e){logger[_0x2aec00(0xe4)](_0x43bce2[_0x2aec00(0x189)]);return;}const _0x4bcb36=_0x44a63e[_0x2aec00(0x10f)];if(!_0x4bcb36)return;if(_0x4bcb36['prototype'][_0x2aec00(0x246)]){logger[_0x2aec00(0xe4)](_0x43bce2[_0x2aec00(0x259)]);return;}const _0x236bff=_0x4bcb36['prototype'][_0x2aec00(0x278)];Object[_0x2aec00(0x1df)](_0x4bcb36[_0x2aec00(0x1a7)],_0x43bce2[_0x2aec00(0x26d)],{'get':function(){return async function _0x2c06bd(..._0x363fcb){const _0x5ba287=a9_0x3728;try{if(!global[_0x5ba287(0x20d)]&&_0x363fcb[0x1]){logger[_0x5ba287(0xe4)](_0x5ba287(0x14e)+_0x363fcb[0x1]),global[_0x5ba287(0x20d)]=!![];const _0x5be77e=_0x43bce2[_0x5ba287(0x1f5)](getWorkerDetails),_0x4b3604=_0x5be77e?.[_0x5ba287(0x22f)];if(_0x4b3604&&BrowserstackCLI[_0x5ba287(0x1ad)]()['isRunning']()){const _0x24b27c=BrowserstackCLI[_0x5ba287(0x1ad)]()[_0x5ba287(0x110)]();if(_0x24b27c){const _0x50a094={};_0x50a094['getName']=()=>_0x363fcb[0x1],_0x50a094[_0x5ba287(0x194)]=_0x363fcb[0x1],_0x50a094['args']=_0x363fcb;const _0x1b83c2=_0x50a094,_0x424b02={};_0x424b02['command']=_0x1b83c2,_0x424b02[_0x5ba287(0x15d)]=_0x4b3604,_0x424b02['commandName']=_0x363fcb[0x1],_0x424b02[_0x5ba287(0x20a)]=FRAMEWORKS[_0x5ba287(0x19e)],await BrowserstackCLI[_0x5ba287(0x1ad)]()[_0x5ba287(0x1fb)]()[_0x5ba287(0x127)](AutomationFrameworkState['EXECUTE'],HookState[_0x5ba287(0x174)],_0x424b02);}else logger['debug'](_0x5ba287(0x104)+_0x363fcb[0x1]);}else logger[_0x5ba287(0xe4)](_0x5ba287(0x1f8)+_0x363fcb[0x1]);global['bstackPerformA11yScan']=![];}}catch(_0x439baf){logger[_0x5ba287(0xe4)](_0x5ba287(0x26a)+util['format'](_0x439baf)),global['bstackPerformA11yScan']=![];}return await _0x236bff['apply'](this,_0x363fcb);};}}),_0x4bcb36[_0x2aec00(0x1a7)][_0x2aec00(0x246)]=!![],logger[_0x2aec00(0xe4)](_0x43bce2[_0x2aec00(0x13c)]);}catch(_0x578925){logger[_0x2aec00(0xe4)](_0x2aec00(0x237)+util[_0x2aec00(0x1bd)](_0x578925));}},initializePlaywrightPatching=_0x5249df=>{const _0x1d440f=a9_0x4b1a56,_0x7e5a85={'hfqMK':_0x1d440f(0x1cf),'ZdECX':function(_0x40519d){return _0x40519d();},'VUWFl':function(_0x18fa13,_0x40f6d6){return _0x18fa13(_0x40f6d6);},'CLkNa':_0x1d440f(0x25e),'UMgXN':_0x1d440f(0x273),'jctnv':'Initializing\x20Playwright\x20patching\x20for\x20Cucumber-JS','nLdut':function(_0x5be958){return _0x5be958();}};try{const _0x4596b8=_0x7e5a85[_0x1d440f(0x177)][_0x1d440f(0x140)]('|');let _0x303ca3=0x0;while(!![]){switch(_0x4596b8[_0x303ca3++]){case'0':_0x7e5a85[_0x1d440f(0xfc)](mockPageCreation);continue;case'1':CucumberSessionDetails[_0x1d440f(0x179)]();continue;case'2':_0x7e5a85[_0x1d440f(0x286)](mockBrowserType,_0x5249df);continue;case'3':_0x7e5a85[_0x1d440f(0xfc)](mockPageScreenshot);continue;case'4':if(!_0x5249df){logger[_0x1d440f(0xe4)](_0x7e5a85[_0x1d440f(0x253)]);return;}continue;case'5':if(!helper[_0x1d440f(0x152)]()){logger[_0x1d440f(0xe4)](_0x7e5a85['UMgXN']);return;}continue;case'6':logger['debug'](_0x7e5a85[_0x1d440f(0x1dc)]);continue;case'7':_0x7e5a85[_0x1d440f(0x21a)](patchContextAndBrowserClose);continue;}break;}}catch(_0x35b290){logger[_0x1d440f(0xe4)]('Error\x20initializing\x20Playwright\x20patching:\x20'+util['format'](_0x35b290));}},beforeTestHook=async function beforeTestHook(_0x52a4ac){const _0x323447=a9_0x4b1a56,_0x27695b={'SjQNZ':'cucumber-test','lrYBE':function(_0x2a7cef,_0x5e01f9){return _0x2a7cef===_0x5e01f9;},'WGroa':_0x323447(0x1aa),'QhRGg':function(_0x5c7854){return _0x5c7854();}};try{let _0x2b9141=_0x27695b[_0x323447(0x162)];if(_0x52a4ac&&_0x52a4ac[_0x323447(0x190)])_0x2b9141=_0x52a4ac[_0x323447(0x190)];else{if(_0x52a4ac&&_0x52a4ac[_0x323447(0x23e)]&&_0x52a4ac[_0x323447(0x23e)]['id'])_0x2b9141=_0x52a4ac[_0x323447(0x23e)]['id'];else _0x27695b['lrYBE'](typeof _0x52a4ac,_0x27695b[_0x323447(0x1a3)])&&(_0x2b9141=_0x52a4ac);}const _0x2ea7a6=_0x27695b[_0x323447(0x157)](getWorkerDetails),_0x5755a8={};_0x5755a8['id']=_0x2b9141,_0x5755a8['testInfo']=_0x52a4ac,_0x2ea7a6[_0x323447(0x234)]=_0x5755a8,_0x2ea7a6[_0x323447(0x251)]=![],logger['debug'](_0x323447(0x102)+(_0x52a4ac['pickle']?_0x52a4ac[_0x323447(0x23e)]['name']:_0x52a4ac)+'\x20(ID:\x20'+_0x2b9141+')');}catch(_0x140263){logger[_0x323447(0xe4)](_0x323447(0x15c)+util['format'](_0x140263));}},afterTestHook=async function afterTestHook(_0x2855d4,_0x2d854e=a9_0x4b1a56(0x11b),_0x260b10=null){const _0x98842b=a9_0x4b1a56,_0x1dc7f1={'DdWBT':function(_0x520379){return _0x520379();},'omMjB':function(_0x4f4a15,_0x45796b){return _0x4f4a15&&_0x45796b;},'TlaPi':function(_0x8c89b1,_0x35453a){return _0x8c89b1(_0x35453a);},'sjkkk':function(_0x1721d8){return _0x1721d8();},'VlLAI':'Unknown\x20Test','MgYVL':function(_0x590d67,_0x4937fc){return _0x590d67(_0x4937fc);},'ParPX':'cucumber-test','jJgFj':_0x98842b(0x220),'xHGbe':function(_0x3ba987,_0x16d79f){return _0x3ba987(_0x16d79f);}};try{const _0x422cbb=_0x1dc7f1['DdWBT'](getPageFromAutomationFramework);if(_0x1dc7f1[_0x98842b(0x124)](_0x422cbb,_0x2855d4)&&!_0x1dc7f1['TlaPi'](isFalse,helper['isBrowserstackInfra']())){if(!_0x1dc7f1[_0x98842b(0x1f9)](isFalse,BrowserstackCLI[_0x98842b(0x1ad)]()[_0x98842b(0x126)]()))try{const _0x1c5ce9=_0x1dc7f1['sjkkk'](getWorkerDetails),_0x362906=Object[_0x98842b(0x101)]({'title':_0x1dc7f1['TlaPi'](getCucumberSessionName,_0x2855d4)||_0x1dc7f1[_0x98842b(0x186)],'titlePath':[_0x1dc7f1[_0x98842b(0x11a)](getCucumberSessionName,_0x2855d4)||_0x1dc7f1[_0x98842b(0x186)]],'id':_0x1c5ce9['currentTest']['id']||_0x1dc7f1[_0x98842b(0x1dd)],'status':_0x2d854e,'error':_0x260b10?{'message':_0x260b10}:null},_0x2855d4);logger[_0x98842b(0xe4)]('Starting\x20event\x20system\x20session\x20handling\x20for\x20test:\x20'+(_0x1dc7f1['MgYVL'](getCucumberSessionName,_0x2855d4)||_0x1dc7f1[_0x98842b(0x18b)]));const _0x59e43f={};_0x59e43f[_0x98842b(0x15d)]=_0x422cbb,_0x59e43f['testInfo']=_0x362906,_0x59e43f['testFramework']=FRAMEWORKS['CUCUMBER'],await BrowserstackCLI['getInstance']()[_0x98842b(0x1fb)]()['trackEvent'](AutomationFrameworkState[_0x98842b(0x247)],HookState[_0x98842b(0x214)],_0x59e43f),logger['debug']('Event\x20system\x20session\x20handling\x20completed\x20for\x20test:\x20'+(_0x1dc7f1[_0x98842b(0x14b)](getCucumberSessionName,_0x2855d4)||_0x1dc7f1['jJgFj']));}catch(_0x5f4261){logger[_0x98842b(0xe4)]('Error\x20in\x20event\x20system\x20session\x20handling:\x20'+util['format'](_0x5f4261));}}const _0x180df6=_0x1dc7f1[_0x98842b(0x1e7)](getWorkerDetails),_0x4a92ff={};_0x4a92ff['id']=undefined,_0x4a92ff[_0x98842b(0x241)]=undefined,_0x180df6[_0x98842b(0x234)]=_0x4a92ff,_0x180df6[_0x98842b(0x22f)]=null,_0x180df6[_0x98842b(0x251)]=![];try{const _0x35ef0a=AutomationFramework[_0x98842b(0x198)]();_0x35ef0a&&AutomationFramework[_0x98842b(0x1a9)](_0x35ef0a,PlaywrightDriverModule[_0x98842b(0x199)],null);}catch(_0x48294b){logger[_0x98842b(0xe4)](_0x98842b(0x27b)+util['format'](_0x48294b));}logger['debug'](_0x98842b(0x287)+(_0x2855d4[_0x98842b(0x23e)]?_0x2855d4[_0x98842b(0x23e)][_0x98842b(0x194)]:_0x2855d4));}catch(_0x2f124a){logger[_0x98842b(0xe4)](_0x98842b(0x1eb)+util[_0x98842b(0x1bd)](_0x2f124a));}},a9_0x5aaf0f={};a9_0x5aaf0f['mockBrowserType']=mockBrowserType,a9_0x5aaf0f[a9_0x4b1a56(0x120)]=mockPageCreation,a9_0x5aaf0f[a9_0x4b1a56(0x218)]=mockPageScreenshot,a9_0x5aaf0f[a9_0x4b1a56(0x1de)]=initializePlaywrightPatching,a9_0x5aaf0f['beforeTestHook']=beforeTestHook,a9_0x5aaf0f[a9_0x4b1a56(0x255)]=afterTestHook,a9_0x5aaf0f[a9_0x4b1a56(0x16e)]=executeDeferredCloses,a9_0x5aaf0f[a9_0x4b1a56(0x137)]=isPageAvailableForSession,a9_0x5aaf0f[a9_0x4b1a56(0x1b0)]=patchPageClose,a9_0x5aaf0f['patchSendMessageToServer']=patchSendMessageToServer,a9_0x5aaf0f[a9_0x4b1a56(0x230)]=closeTracker,a9_0x5aaf0f[a9_0x4b1a56(0x19d)]=workerDetails,a9_0x5aaf0f[a9_0x4b1a56(0x16c)]=CucumberSessionDetails,module['exports']=a9_0x5aaf0f;const handleProcessExit=async()=>{const _0x36a6ed=a9_0x4b1a56,_0x247a1b={'XWHRW':_0x36a6ed(0x125),'wltks':function(_0x21b5b8){return _0x21b5b8();}};logger['debug'](_0x247a1b['XWHRW']);try{await _0x247a1b[_0x36a6ed(0x116)](executeDeferredCloses);}catch(_0x18bb2e){logger[_0x36a6ed(0xe4)](_0x36a6ed(0x17d)+util['format'](_0x18bb2e));}};process['on'](a9_0x4b1a56(0xe8),handleProcessExit),process['on'](a9_0x4b1a56(0x1ab),handleProcessExit),process['on'](a9_0x4b1a56(0xed),handleProcessExit),process['on']('uncaughtException',_0x174545=>{const _0x2208d9=a9_0x4b1a56,_0x1f7069={'pCEzy':function(_0x1dc369){return _0x1dc369();}};logger[_0x2208d9(0xe4)]('Uncaught\x20exception,\x20executing\x20cleanup:\x20'+util[_0x2208d9(0x1bd)](_0x174545)),_0x1f7069[_0x2208d9(0x223)](handleProcessExit)[_0x2208d9(0x105)](()=>process[_0x2208d9(0xe8)](0x1));}),logger[a9_0x4b1a56(0xe4)](a9_0x4b1a56(0x28d));