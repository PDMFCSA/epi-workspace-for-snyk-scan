const a9_0x5b44d1=a9_0xedaf;(function(_0x5b56e0,_0x25908e){const _0x4cedb8=a9_0xedaf,_0x811058=_0x5b56e0();while(!![]){try{const _0x17cb4c=parseInt(_0x4cedb8(0x350))/0x1*(-parseInt(_0x4cedb8(0x290))/0x2)+parseInt(_0x4cedb8(0x273))/0x3+-parseInt(_0x4cedb8(0x2b5))/0x4+-parseInt(_0x4cedb8(0x24b))/0x5+parseInt(_0x4cedb8(0x2df))/0x6*(-parseInt(_0x4cedb8(0x359))/0x7)+parseInt(_0x4cedb8(0x356))/0x8*(-parseInt(_0x4cedb8(0x301))/0x9)+parseInt(_0x4cedb8(0x1ff))/0xa;if(_0x17cb4c===_0x25908e)break;else _0x811058['push'](_0x811058['shift']());}catch(_0x462e22){_0x811058['push'](_0x811058['shift']());}}}(a9_0x2b48,0x6311d));function a9_0x2b48(){const _0x523877=['oVMDM','poEAG','YdgCg','Njraa','CREATE','Error\x20initializing\x20Playwright\x20patching:\x20','crife','13899230tQqKfB','wEjdt','has','isPageFixture','pages','keys','kpqAj','hubUrl','RKpPt','iCGCf','Applied\x20close\x20patch\x20to\x20Playwright\x20page','pojOW','uploadAttachment','Applied\x20Android\x20page\x20close\x20patching','RtSOr','markPageCloseRequested','testInfo','Applied\x20close\x20patch\x20to\x20Browser','Error\x20triggering\x20driver\x20creation\x20hooks:\x20','No\x20deferred\x20browser\x20closes\x20to\x20execute','Error\x20patching\x20Playwright\x20BrowserType:\x20','setCustomTags','fvOZG','format','newContext','AUxEu','rtvYQ','project','then','\x20deferred\x20browser\x20closes','__workerDetails','OtemQ','../v2/TestInfo.js','../v2/state/automationFrameworkState','workerInfo','processPageScreenshot:\x20No\x20testId\x20found\x20in\x20testInfo,\x20skipping\x20screenshot\x20event','Cucumber-JS\x20Playwright\x20patching\x20already\x20applied','toLowerCase','KEY_PAGE_OBJECT','Executing\x20','IITxC','Checking\x20accessibility\x20scan\x20for\x20command:\x20','zRAbj','QhCbU','PaPER','uncaughtException','uuGGa','ogNnH','_android','zGqzS','o11ySyncDone','bLeva','clRLh','function','../../bin/utils/constants','bhoGj','2|3|7|6|5|1|0|4','hVqWr','Page\x20close\x20was\x20requested\x20but\x20deferred,\x20still\x20available\x20for\x20session\x20operations','connect','HJvcL','Error\x20patching\x20Android\x20page:\x20','Executing\x20deferred\x20browser\x20close','Successfully\x20patched\x20BrowserContext.newPage\x20for\x20Cucumber-JS','fcMEE','../../helpers/playwright-helper','cucumberPageMockApplied','use','zDazK','niBwh','wsASn','safetyTimeouts','QfaUh','After\x20test\x20hook\x20executed\x20for:\x20','getPlaywrightBrowserType','generatePlaywrightUrl','3412135QCzvuC','getName','testFramework','toISOString','No\x20deferred\x20page\x20closes\x20to\x20execute','debug','uuMbB','split','Parsed\x20launchcaps\x20from\x20CDP\x20URL:\x20','fFWAL','stringify','ihYwE','bHHkW','Completed\x20execution\x20of\x20all\x20deferred\x20close\x20operations','YCvQF','TEST_SCREENSHOT','uumLd','setupBrowserDetails','NeeFq','rIlqn','fpAHm','defineProperty','Error\x20in\x20process\x20exit\x20handler:\x20','path','Initializing\x20Playwright\x20patching\x20for\x20Cucumber-JS','jPWJh','Applying\x20Android\x20context\x20close\x20patching','../../helpers/performance/performance-tester','get','kGADx','headless','kyRUJ','wPJVd','TEgIM','Error\x20patching\x20sendMessageToServer\x20for\x20accessibility:\x20','executeDeferredCloses','IfyUU','currentTest','clear','Generated\x20Android\x20WebSocket\x20URL:\x20','2345067CrnCnw','_bstackAndroidLaunchBrowserPatchApplied','_bstackAndroidContextPatchApplied','RRSOY','FZapn','Vakge','capability','ycUUd','UsoPh','Applied\x20Android\x20launchBrowser\x20patching\x20to\x20browser','browserContext.js','Android\x20context.newPage()\x20intercepted\x20for\x20close\x20patching','Tpcvr','Executing\x20deferred\x20context\x20close','POST','evaluate','Android\x20test\x20detected:\x20','patchSendMessageToServer','../v2/state/testFrameworkState','aAmII','rKdtF','close','lfNdj','fvBKp','../v2/uploadAttachmentsManager','Error\x20in\x20Playwright\x20launch\x20patching:\x20','../../helpers/helper','Error\x20processing\x20accessibility\x20caps:\x20','getInstance','10078qTRQZX','zUUHm','exit','Error\x20executing\x20deferred\x20context\x20close:\x20','Cucumber-JS\x20browser.close()\x20intercepted','sendMessageToServer','trackEvent','bstackPerformA11yScan','../../helpers/performance/constants','args','Android\x20page.close()\x20intercepted\x20and\x20deferred','IIhjv','OEJSx','ESUzl','browsers','launch','client','LTwPV','find','WUVRP','../../helpers/accessibility-automation/helper','tBQzv','_bstackContextClosePatchApplied','SIGTERM','hsVkJ','bXvVl','replace','lskgf','ctWoh','now','OdqUq','Error\x20patching\x20context/browser\x20close:\x20','wGwtK','Failed\x20to\x20use\x20primary\x20context.\x20Error\x20','SYNC','base64','newPage','2704568POUYoP','assign','GetQu','fEeNk','yClhL','zTrFU','lYLmB','PLAYWRIGHT_HUB_URL','qRPgU','SIGINT','yEpIP','_bstackClosePatchApplied','Error\x20patching\x20Android\x20context:\x20','toString','isRunning','Event\x20system\x20session\x20handling\x20completed\x20for\x20test:\x20','_bstackAndroidNewContextPatchApplied','obsScreenshotMockApplied','laBVN','Not\x20able\x20to\x20import\x20Connection\x20for\x20accessibility\x20patching','MkmXk','AMiIl','../v2/customTagManager','Deferred\x20browser\x20close\x20completed\x20successfully','WzdgB','BMSgY','RWrEc','triggerPlaywrightDispatchEvent','getConfig','Error\x20parsing\x20CDP\x20URL\x20for\x20launchcaps:\x20','hBAfX','HHYiQ','markBrowserCloseRequested','Using\x20web/desktop\x20CDP\x20approach','umfvA','Error\x20in\x20safety\x20timeout\x20execution:\x20','Generated\x20Playwright\x20CDP\x20URL:\x20','name','Browser\x20close\x20requested\x20and\x20deferred','rKRoj','PubzP','platformCaps','1104990IQdRun','GIsyk','TAKE_SCREENSHOT','Accessibility\x20enabled\x20-\x20using\x20connectOverCDP\x20instead\x20of\x20launch','JomWY','Myclg','TPzYI','fxYhZ','hnhsU','Starting\x20event\x20system\x20session\x20handling\x20for\x20test:\x20','mockBrowserType','WgKEq','Using\x20existing\x20__platformCaps:\x20','ZCeiD','../../helpers/test-observability/error-handler','Egxuz','@playwright/test/index.js','VezVC','mqNJy','hQEKr','util','jvPfM','Using\x20Android-specific\x20connection\x20logic','bstack:options','Processed\x20accessibility\x20caps\x20','Android\x20connection\x20not\x20available,\x20falling\x20back\x20to\x20CDP\x20connect','oxsYB','uuaOR','tUXsM','Unknown','szwfI','page','zWfqF','No\x20page\x20or\x20CLI\x20not\x20running\x20for\x20command:\x20','1917099LhnsIf','jvAYX','IyZCn','testCaseStartedId','ObservabilitySync:','context','screenshot','extractBrowserStackParams','executePageClose','ReqEB','wlrDn','markContextCloseRequested','BrowserStack\x20automation\x20disabled;\x20skipping\x20Playwright\x20patching','PsplN','commandName','Cucumber-JS\x20context.close()\x20intercepted','EXECUTE','Error\x20executing\x20deferred\x20browser\x20close:\x20','DqVBq','PJVIk','afterTestHook','__launchCaps','../v2/modules/playwrightDriverModule','CucumberSessionDetails','\x22browserstack.key\x22:\x22[REDACTED]\x22','forEach','Page\x20is\x20null/undefined,\x20not\x20available\x20for\x20session\x20operations','BrowserContext','NhhRR','Applied\x20close\x20patch\x20to\x20BrowserContext','Error\x20in\x20afterTestHook:\x20','processAccessibilityCaps','delete','CUCUMBER','Error\x20detecting\x20Android\x20test:\x20','string','\x20deferred\x20page\x20closes','doo11ySync','LnbAw','Error\x20patching\x20page\x20close:\x20','BROWSERSTACK_TEST_OBSERVABILITY_YML','No\x20capabilities\x20found,\x20using\x20original\x20launch','pwPage','sJdIg','aJjeN','Could\x20not\x20get\x20BrowserType\x20class,\x20skipping\x20patching','qrixh','pickle','psaZP','resolve','Primary\x20page\x20context\x20enabled','lQzhA','closeTracker','deviceName','DPhEx','originalClose','aBkkG','connectOverCDP','Retrieved\x20managed\x20page\x20from\x20AutomationFramework','qiLdq','launchBrowser','Failed\x20to\x20perform\x20accessibility\x20scan:\x20','itbMD','dOOAa','QhInl','CsEiv','pNYRX','sendMessageToServer\x20accessibility\x20patch\x20already\x20applied','winstonLogger','_bstackAndroidClosePatchApplied','patch','mockPageCreation','AccessibilityModule\x20not\x20available\x20for\x20command:\x20','eyUSj','mockPageScreenshot','getAccessibilityModule','zurdS','cyrAi','_bstackAndroidNewPagePatchApplied','2VcGWhh','_bstackBrowserClosePatchApplied','object','Unknown\x20Test','EJSle','set','8bpnWro','command',',\x20Contexts\x20tracked:\x20','7VcbbiV','mLOlU','OHubG',',\x20Browsers\x20tracked:\x20','guvzt','Not\x20able\x20to\x20import\x20Page','mrgGW','\x20(ID:\x20','values','OZISz','XrBvP','Applied\x20Android\x20close\x20patch\x20to\x20browser','env','PRE','Android\x20browser.close()\x20intercepted\x20and\x20deferred','measureWrapper','sJPfG','Xntph','EamFH','FdTVM','performScan','KgXyj','loRmR','Deferring\x20context\x20close\x20for\x20managed\x20page','Page\x20close\x20requested\x20and\x20deferred','connection.js','ZPMPk','FUctq','bHoAQ','join','\x22browserstack.user\x22:\x22[REDACTED]\x22','Ohekv','Cucumber-JS\x20Playwright\x20connect\x20intercepted\x20(Android:\x20','initializePlaywrightPatching','Error\x20patching\x20page\x20creation:\x20','../v2/browserstackCLI','Browser','IMWXY','TAoLh','size','lib','Error\x20executing\x20deferred\x20page\x20close:\x20','RlUTw','BZkZb','SzVvf','zwtSU','Error\x20getting\x20page\x20from\x20AutomationFramework:\x20','vIhek','WxPtz','Playwright\x20patcher\x20initialized\x20with\x20Android\x20support\x20and\x20deferred\x20close\x20system','AFXIc','gPvfM','sZrfX','SmLQj','annotate','Normalized\x20browser\x20capability\x20for\x20connect/connectOverCDP:\x20','Adding\x20delay\x20before\x20executing\x20deferred\x20closes\x20to\x20ensure\x20session\x20status\x20is\x20marked','vTmvU','oWobR','NCDwU','__platformCaps','_bstackAndroidPagePatchApplied','tXnVi','isBrowserstackInfra','executeBrowserClose','isPlaywrightAvailable','uweyx','No\x20deferred\x20context\x20closes\x20to\x20execute','contexts','CArRB','Not\x20able\x20to\x20import\x20BrowserContext','../v2/framework/automationFramework','OomYp','Applying\x20comprehensive\x20Android-specific\x20close\x20patching','HlCRU','eYBxg','QtWkf','getAccessibilityResults','isClosed','cucumber-test','prototype','browser','Vkyft','zXqhi','capabilities','cXauK','getAccessibilityResultsSummary','xFfbP','getAutomationFramework','Safety\x20timeout\x20triggered\x20for\x20deferred\x20page\x20close','PjIqy','browser.js','FIuXD','from','accessibilityPlatform','_bstackAccessibilityPatchApplied','beforeTestHook','NVWaT','apply','storeLogObjects','zKjJe','Executing\x20deferred\x20page\x20close'];a9_0x2b48=function(){return _0x523877;};return a9_0x2b48();}const PerformanceTester=require(a9_0x5b44d1(0x266)),debug=require('../../helpers/test-observability/utils')['debug'],{FRAMEWORKS}=require('../../helpers/test-observability/constants'),util=require(a9_0x5b44d1(0x2f3)),path=require(a9_0x5b44d1(0x262)),logger=require('../../helpers/logger')[a9_0x5b44d1(0x345)],playwrightHelper=require(a9_0x5b44d1(0x240)),helper=require(a9_0x5b44d1(0x28d)),{requirePWModule,resolveModule,getCucumberSessionName,isFalse,isUndefined,nestedKeyValue,importFileFromPWCore}=require(a9_0x5b44d1(0x28d)),{getModifiedConfigFromCLI}=require(a9_0x5b44d1(0x240)),base=requirePWModule[a9_0x5b44d1(0x1f4)](null,[a9_0x5b44d1(0x2ef),'@playwright/test']),BrowserstackCLI=require(a9_0x5b44d1(0x37c)),AutomationFrameworkState=require(a9_0x5b44d1(0x220)),AccessibilityHelper=require('../playwright/accessibility-helper'),TestFrameworkState=require(a9_0x5b44d1(0x285)),TestInfo=require(a9_0x5b44d1(0x21f)),HookState=require('../v2/state/hookState'),{isAccessibilityAutomationSession,shouldScanTestForAccessibility}=require(a9_0x5b44d1(0x2a4)),scripts=require('../../helpers/accessibility-automation/scripts'),AutomationFramework=require(a9_0x5b44d1(0x1d9)),PlaywrightDriverModule=require(a9_0x5b44d1(0x317)),CucumberSessionDetails=require('./cucumber-sessionDetails'),Constants=require(a9_0x5b44d1(0x235)),{o11yErrorHandler}=require(a9_0x5b44d1(0x2ed)),CustomTagManager=require(a9_0x5b44d1(0x2cb)),uploadAttachmentsManager=require(a9_0x5b44d1(0x28b)),{O11y_EVENTS:PerformanceO11yEvents,A11Y_EVENTS:PerformanceA11yEvents,HOOK_EVENTS:PerformanceHookEvents,EVENTS:PerformanceEvents}=require(a9_0x5b44d1(0x298)),{glob}=require('fs'),a9_0x33ea93={};function a9_0xedaf(_0x5ef0d1,_0x5678c7){const _0x2b48ae=a9_0x2b48();return a9_0xedaf=function(_0xedaf94,_0x5f55d2){_0xedaf94=_0xedaf94-0x1c8;let _0x1dcc2e=_0x2b48ae[_0xedaf94];return _0x1dcc2e;},a9_0xedaf(_0x5ef0d1,_0x5678c7);}a9_0x33ea93[a9_0x5b44d1(0x221)]=undefined,a9_0x33ea93[a9_0x5b44d1(0x270)]={},a9_0x33ea93[a9_0x5b44d1(0x231)]=![],a9_0x33ea93['pwPage']=null,a9_0x33ea93[a9_0x5b44d1(0x202)]=![],a9_0x33ea93[a9_0x5b44d1(0x270)]['id']=undefined,a9_0x33ea93[a9_0x5b44d1(0x270)]['testInfo']=undefined;const workerDetails=a9_0x33ea93,getWorkerDetails=()=>{const _0x52feb1=a9_0x5b44d1;return global[_0x52feb1(0x21d)]||workerDetails;},doo11ySync=PerformanceTester[a9_0x5b44d1(0x368)](PerformanceO11yEvents[a9_0x5b44d1(0x2b2)],o11yErrorHandler(async function doo11ySync(_0x8a35b1){const _0x109aaf=a9_0x5b44d1,_0x272e5d={'OouNc':function(_0x1c6b5e,_0x24f125,_0x7322ad){return _0x1c6b5e(_0x24f125,_0x7322ad);},'WUVRP':'__workerDetails','Egxuz':_0x109aaf(0x231),'hQEKr':_0x109aaf(0x1c8),'xmAxT':'debug'};if(_0x272e5d['OouNc'](nestedKeyValue,global,[_0x272e5d[_0x109aaf(0x2a3)],_0x272e5d[_0x109aaf(0x2ee)]]))return;await _0x8a35b1[_0x109aaf(0x282)](_0x38d9d1=>{},'browserstack_executor:\x20'+JSON[_0x109aaf(0x255)]({'action':_0x272e5d[_0x109aaf(0x2f2)],'arguments':{'data':_0x109aaf(0x305)+Date[_0x109aaf(0x2ad)](),'level':_0x272e5d['xmAxT']}})),global['__workerDetails'][_0x109aaf(0x231)]=!![];},a9_0x5b44d1(0x326))),isAndroidTest=_0xcaf141=>{const _0x547bb6=a9_0x5b44d1,_0x2e58bb={};_0x2e58bb['sJdIg']=_0x547bb6(0x2f6);const _0x4f5317=_0x2e58bb;try{const _0xc7fc9e=_0xcaf141['capability']||_0xcaf141[_0x547bb6(0x2de)];if(!_0xc7fc9e)return![];const _0x37623=_0xc7fc9e['device']||_0xc7fc9e[_0x547bb6(0x336)]||_0xc7fc9e[_0x4f5317[_0x547bb6(0x32c)]]?.['device']||_0xc7fc9e[_0x4f5317[_0x547bb6(0x32c)]]?.[_0x547bb6(0x336)];if(!_0x37623)return![];const _0x28491f=_0x37623[_0x547bb6(0x224)]()['match'](/iphone|ipad/);return!_0x28491f;}catch(_0x2f99a9){return logger[_0x547bb6(0x250)](_0x547bb6(0x323)+util[_0x547bb6(0x216)](_0x2f99a9)),![];}},getPageFromAutomationFramework=()=>{const _0x21866c=a9_0x5b44d1;try{const _0x47cb64=AutomationFramework['getTrackedInstance']();if(_0x47cb64)return AutomationFramework['getState'](_0x47cb64,PlaywrightDriverModule[_0x21866c(0x225)]);}catch(_0x372a36){logger[_0x21866c(0x250)](_0x21866c(0x387)+util[_0x21866c(0x216)](_0x372a36));}return null;},mockPageCreation=()=>{const _0x688ac2=a9_0x5b44d1,_0x3e5e61={'ZCeiD':'Cucumber-JS\x20newPage\x20intercepted','vTmvU':function(_0x437b85,_0x478bbb){return _0x437b85(_0x478bbb);},'zurdS':function(_0x351bd9){return _0x351bd9();},'vIhek':function(_0x528462,_0xf8d42d){return _0x528462===_0xf8d42d;},'jvAYX':_0x688ac2(0x234),'wsASn':function(_0x195c3a,_0x560be1){return _0x195c3a&&_0x560be1;},'szwfI':_0x688ac2(0x333),'bHHkW':function(_0x25de55,_0x2e46b4){return _0x25de55(_0x2e46b4);},'OdqUq':_0x688ac2(0x353),'fEeNk':function(_0xd2fcc9,_0x7abdd1){return _0xd2fcc9(_0x7abdd1);},'cXauK':_0x688ac2(0x1e1),'EJSle':_0x688ac2(0x381),'kJmeL':'client','fvBKp':_0x688ac2(0x27d),'uweyx':_0x688ac2(0x1d8),'aBkkG':_0x688ac2(0x2b4),'PaPER':_0x688ac2(0x23e)};try{const _0x4c5e1f=[_0x3e5e61[_0x688ac2(0x354)],_0x3e5e61['kJmeL'],_0x3e5e61[_0x688ac2(0x28a)]]['join']('/'),_0x557463=_0x3e5e61[_0x688ac2(0x2b8)](importFileFromPWCore,_0x4c5e1f);if(!_0x557463){logger[_0x688ac2(0x250)](_0x3e5e61[_0x688ac2(0x1d4)]);return;}const _0x1c3ea2=_0x557463['BrowserContext'];if(!_0x1c3ea2)return;const _0x1dab4e=_0x1c3ea2['prototype'];if(_0x1dab4e[_0x688ac2(0x241)])return;const _0x163aee=_0x1dab4e[_0x688ac2(0x2b4)];Object[_0x688ac2(0x260)](_0x1dab4e,_0x3e5e61[_0x688ac2(0x339)],{'get':function(){const _0x37a47a=_0x688ac2,_0xe674af={'sZrfX':_0x3e5e61[_0x37a47a(0x2ec)],'qiLdq':function(_0x487806,_0x309b9d){const _0x3c6ead=_0x37a47a;return _0x3e5e61[_0x3c6ead(0x1cb)](_0x487806,_0x309b9d);},'qoHDP':function(_0x557802){const _0x2787e2=_0x37a47a;return _0x3e5e61[_0x2787e2(0x34d)](_0x557802);},'WzdgB':function(_0x54ab95,_0x421a76){const _0x17f946=_0x37a47a;return _0x3e5e61[_0x17f946(0x388)](_0x54ab95,_0x421a76);},'QhCbU':_0x3e5e61[_0x37a47a(0x302)],'bFNIO':function(_0x175ca0,_0x2456bc){const _0x3ca468=_0x37a47a;return _0x3e5e61[_0x3ca468(0x245)](_0x175ca0,_0x2456bc);},'fpAHm':_0x3e5e61[_0x37a47a(0x2fd)],'FdTVM':function(_0xc8d6da,_0x3c31b9){const _0xbed749=_0x37a47a;return _0x3e5e61[_0xbed749(0x1cb)](_0xc8d6da,_0x3c31b9);},'uuGGa':function(_0x3c1337,_0x16b7e1){return _0x3e5e61['vTmvU'](_0x3c1337,_0x16b7e1);},'zDazK':function(_0x447bf6){const _0x3af8fb=_0x37a47a;return _0x3e5e61[_0x3af8fb(0x34d)](_0x447bf6);},'gPvfM':function(_0x35c08b,_0x49bfc5){return _0x3e5e61['vTmvU'](_0x35c08b,_0x49bfc5);},'qRPgU':function(_0x2aa064,_0x3630cb){const _0x28d45e=_0x37a47a;return _0x3e5e61[_0x28d45e(0x257)](_0x2aa064,_0x3630cb);},'XrBvP':_0x3e5e61[_0x37a47a(0x2ae)],'Ohekv':function(_0x4aa610,_0x301ea1){const _0x56f520=_0x37a47a;return _0x3e5e61[_0x56f520(0x2b8)](_0x4aa610,_0x301ea1);},'lYLmB':_0x3e5e61[_0x37a47a(0x1e7)]};return async function _0x9af6be(..._0x16ff15){const _0x2e4d9e=_0x37a47a;logger[_0x2e4d9e(0x250)](_0xe674af[_0x2e4d9e(0x38d)]);if(!_0xe674af[_0x2e4d9e(0x33c)](isFalse,BrowserstackCLI['getInstance']()[_0x2e4d9e(0x2c3)]()))try{await BrowserstackCLI[_0x2e4d9e(0x28f)]()[_0x2e4d9e(0x1ea)]()[_0x2e4d9e(0x296)](AutomationFrameworkState[_0x2e4d9e(0x1fc)],HookState['PRE'],{'launchcaps':global[_0x2e4d9e(0x1ce)]||{},'hubUrl':BrowserstackCLI[_0x2e4d9e(0x28f)]()[_0x2e4d9e(0x2d1)]()?.[_0x2e4d9e(0x206)]||''});}catch(_0x24bbfd){logger[_0x2e4d9e(0x250)]('Error\x20triggering\x20driver\x20creation\x20hooks:\x20'+util[_0x2e4d9e(0x216)](_0x24bbfd));}let _0x2f879f;if(_0xe674af['qoHDP'](isAccessibilityAutomationSession))try{const _0x2170e6=this[_0x2e4d9e(0x1e3)]&&this[_0x2e4d9e(0x1e3)]();let _0x24a4ee=_0x2170e6&&_0xe674af[_0x2e4d9e(0x2cd)](typeof _0x2170e6[_0x2e4d9e(0x1d6)],_0xe674af[_0x2e4d9e(0x22a)])?_0x2170e6['contexts']()[0x0]:null;_0xe674af['bFNIO'](!_0x24a4ee,_0x2170e6)&&_0xe674af[_0x2e4d9e(0x2cd)](typeof _0x2170e6[_0x2e4d9e(0x217)],_0xe674af[_0x2e4d9e(0x22a)])&&(_0x24a4ee=await _0x2170e6[_0x2e4d9e(0x217)]());const _0x155e62=_0x24a4ee||this;_0x2f879f=await _0x163aee[_0x2e4d9e(0x1f4)](_0x155e62,_0x16ff15),logger[_0x2e4d9e(0x250)](_0xe674af[_0x2e4d9e(0x25f)]);}catch(_0x52637a){logger[_0x2e4d9e(0x250)](_0x2e4d9e(0x2b1)+util[_0x2e4d9e(0x216)](_0x52637a)),_0x2f879f=await _0x163aee[_0x2e4d9e(0x1f4)](this,_0x16ff15);}else _0x2f879f=await _0x163aee['apply'](this,_0x16ff15);!_0xe674af[_0x2e4d9e(0x33c)](isFalse,process[_0x2e4d9e(0x365)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML'])&&(_0x2f879f['getAccessibilityResults']=async()=>{const _0x2d58cf=_0x2e4d9e;return await AccessibilityHelper[_0x2d58cf(0x1df)](_0x2f879f);},_0x2f879f[_0x2e4d9e(0x1e8)]=async()=>{const _0x2a9324=_0x2e4d9e;return await AccessibilityHelper[_0x2a9324(0x1e8)](_0x2f879f);},_0x2f879f[_0x2e4d9e(0x36d)]=async()=>{return await AccessibilityHelper['performScan'](_0x2f879f);});!BrowserstackCLI['getInstance']()[_0x2e4d9e(0x2c3)]()&&!_0xe674af[_0x2e4d9e(0x36c)](isFalse,process['env'][_0x2e4d9e(0x329)])&&await _0xe674af[_0x2e4d9e(0x22d)](doo11ySync,_0x2f879f);BrowserstackCLI[_0x2e4d9e(0x28f)]()[_0x2e4d9e(0x2c3)]()&&(_0x2f879f['setCustomTags']=async(_0x3c5b9b,_0x2015a8,_0x4a5646=![])=>{const _0x2dadc4=_0x2e4d9e;await CustomTagManager[_0x2dadc4(0x214)](_0x3c5b9b,_0x2015a8,_0x4a5646);},_0x2f879f[_0x2e4d9e(0x20b)]=async(_0xd6c3f2,_0x3889c8=![])=>{await uploadAttachmentsManager['uploadAttachments'](_0xd6c3f2,_0x3889c8);});const _0xb0effd=_0xe674af[_0x2e4d9e(0x243)](getWorkerDetails);_0xb0effd[_0x2e4d9e(0x32b)]=_0x2f879f,_0xb0effd[_0x2e4d9e(0x202)]=![],_0xe674af[_0x2e4d9e(0x38c)](patchPageClose,_0x2f879f);if(!_0xe674af[_0x2e4d9e(0x33c)](isFalse,BrowserstackCLI[_0x2e4d9e(0x28f)]()[_0x2e4d9e(0x2c3)]()))try{const _0x54ad40=_0xb0effd[_0x2e4d9e(0x270)][_0x2e4d9e(0x20f)]?{'title':_0xe674af[_0x2e4d9e(0x2bd)](getCucumberSessionName,_0xb0effd[_0x2e4d9e(0x270)][_0x2e4d9e(0x20f)])||_0xe674af[_0x2e4d9e(0x363)],'titlePath':[_0xe674af[_0x2e4d9e(0x378)](getCucumberSessionName,_0xb0effd[_0x2e4d9e(0x270)][_0x2e4d9e(0x20f)])||_0xe674af[_0x2e4d9e(0x363)]],'id':_0xb0effd[_0x2e4d9e(0x270)]['id']||_0xe674af[_0x2e4d9e(0x2bb)],..._0xb0effd[_0x2e4d9e(0x270)]['testInfo']}:_0xb0effd[_0x2e4d9e(0x270)][_0x2e4d9e(0x20f)];await BrowserstackCLI['getInstance']()[_0x2e4d9e(0x1ea)]()[_0x2e4d9e(0x296)](AutomationFrameworkState['CREATE'],HookState[_0x2e4d9e(0x281)],{'page':_0x2f879f,'context':_0x2f879f[_0x2e4d9e(0x306)](),'browser':_0x2f879f[_0x2e4d9e(0x306)]()['browser'](),'testInfo':_0x54ad40,'testFramework':FRAMEWORKS[_0x2e4d9e(0x322)],'launchCaps':global[_0x2e4d9e(0x316)],'platformCaps':global[_0x2e4d9e(0x1ce)]});}catch(_0x159162){logger[_0x2e4d9e(0x250)](_0x2e4d9e(0x211)+util[_0x2e4d9e(0x216)](_0x159162));}return _0x2f879f;};}}),_0x1dab4e[_0x688ac2(0x241)]=!![],logger[_0x688ac2(0x250)](_0x3e5e61[_0x688ac2(0x22b)]);}catch(_0xe3ad83){logger[_0x688ac2(0x250)](_0x688ac2(0x37b)+util['format'](_0xe3ad83));}},patchAndroidClose=_0x4114fe=>{const _0x3ef903=a9_0x5b44d1,_0x1c190d={'WlUdO':_0x3ef903(0x367),'SzVvf':function(_0x5a2aff,_0x28a56d){return _0x5a2aff(_0x28a56d);},'EamFH':'Android\x20browser.newContext()\x20intercepted\x20for\x20close\x20patching','FhcjB':'Android\x20browser.launchBrowser()\x20intercepted\x20for\x20close\x20patching','ESUzl':function(_0x392e10,_0x21d6c1){return _0x392e10(_0x21d6c1);},'gNOYe':_0x3ef903(0x1db),'tXnVi':function(_0x5d7527,_0x1703b8){return _0x5d7527===_0x1703b8;},'Tpcvr':_0x3ef903(0x234),'HlCRU':_0x3ef903(0x364),'dOOAa':function(_0x176208,_0x364a16){return _0x176208===_0x364a16;},'RRSOY':'Applied\x20Android\x20newContext\x20patching\x20to\x20browser','KgXyj':_0x3ef903(0x27c)};try{logger[_0x3ef903(0x250)](_0x1c190d['gNOYe']);if(_0x4114fe&&_0x1c190d[_0x3ef903(0x1d0)](typeof _0x4114fe[_0x3ef903(0x288)],_0x1c190d[_0x3ef903(0x27f)])&&!_0x4114fe[_0x3ef903(0x346)]){const _0x265c83=_0x4114fe['close'];_0x4114fe[_0x3ef903(0x288)]=async function(..._0x461d5c){const _0x4d0492=_0x3ef903;logger[_0x4d0492(0x250)](_0x1c190d['WlUdO']),closeTracker['markBrowserCloseRequested'](this);const _0x8a48cd=closeTracker[_0x4d0492(0x29e)][_0x4d0492(0x267)](this);return _0x8a48cd[_0x4d0492(0x338)]=_0x265c83,_0x8a48cd[_0x4d0492(0x299)]=_0x461d5c,Promise[_0x4d0492(0x332)]();},_0x4114fe[_0x3ef903(0x346)]=!![],logger[_0x3ef903(0x250)](_0x1c190d[_0x3ef903(0x1dc)]);}if(_0x4114fe[_0x3ef903(0x1d6)]&&_0x1c190d[_0x3ef903(0x340)](typeof _0x4114fe[_0x3ef903(0x1d6)],_0x1c190d['Tpcvr'])){const _0x8718ae=_0x4114fe[_0x3ef903(0x1d6)]();_0x8718ae['forEach'](_0xe68924=>{const _0x16bef1=_0x3ef903;_0x1c190d[_0x16bef1(0x385)](patchAndroidContext,_0xe68924);});}if(_0x4114fe&&_0x4114fe[_0x3ef903(0x217)]&&!_0x4114fe[_0x3ef903(0x2c5)]){const _0x8950d3=_0x4114fe['newContext'];_0x4114fe[_0x3ef903(0x217)]=async function(..._0x15875b){const _0x567088=_0x3ef903;logger['debug'](_0x1c190d[_0x567088(0x36b)]);const _0x1a0e84=await _0x8950d3[_0x567088(0x1f4)](this,_0x15875b);return _0x1c190d[_0x567088(0x385)](patchAndroidContext,_0x1a0e84),_0x1a0e84;},_0x4114fe['_bstackAndroidNewContextPatchApplied']=!![],logger[_0x3ef903(0x250)](_0x1c190d[_0x3ef903(0x276)]);}if(_0x4114fe&&_0x4114fe['launchBrowser']&&!_0x4114fe[_0x3ef903(0x274)]){const _0x1a9089=_0x4114fe[_0x3ef903(0x33d)];_0x4114fe[_0x3ef903(0x33d)]=async function(..._0x2afbd3){const _0x255753=_0x3ef903;logger[_0x255753(0x250)](_0x1c190d['FhcjB']);const _0x1858ba=await _0x1a9089['apply'](this,_0x2afbd3);return _0x1c190d[_0x255753(0x29d)](patchAndroidContext,_0x1858ba),_0x1858ba;},_0x4114fe['_bstackAndroidLaunchBrowserPatchApplied']=!![],logger[_0x3ef903(0x250)](_0x1c190d[_0x3ef903(0x36e)]);}}catch(_0x11cba3){logger['debug']('Error\x20patching\x20Android\x20browser\x20methods:\x20'+util[_0x3ef903(0x216)](_0x11cba3));}},patchAndroidContext=_0x4a94bf=>{const _0xed077a=a9_0x5b44d1,_0x29a5e8={'ltHjz':'Android\x20context.close()\x20intercepted\x20and\x20deferred','QtWkf':function(_0x374ccc,_0x430737){return _0x374ccc(_0x430737);},'eBkyJ':_0xed077a(0x27e),'PKAEt':function(_0x348c19){return _0x348c19();},'xFfbP':_0xed077a(0x265),'lskgf':function(_0x3c0e73,_0x51009d){return _0x3c0e73===_0x51009d;},'Myclg':_0xed077a(0x234),'PJVIk':'Applied\x20Android\x20context\x20close\x20patching'};try{if(!_0x4a94bf||_0x4a94bf[_0xed077a(0x275)])return;logger['debug'](_0x29a5e8[_0xed077a(0x1e9)]);if(_0x29a5e8[_0xed077a(0x2ab)](typeof _0x4a94bf[_0xed077a(0x288)],_0x29a5e8[_0xed077a(0x2e4)])){const _0x27bfb4=_0x4a94bf['close'];_0x4a94bf[_0xed077a(0x288)]=async function(..._0x8c9811){const _0x3f587f=_0xed077a;logger[_0x3f587f(0x250)](_0x29a5e8['ltHjz']),closeTracker[_0x3f587f(0x30c)](this);const _0x55f6c7=closeTracker[_0x3f587f(0x1d6)][_0x3f587f(0x267)](this);return _0x55f6c7[_0x3f587f(0x338)]=_0x27bfb4,_0x55f6c7['args']=_0x8c9811,Promise[_0x3f587f(0x332)]();};}if(_0x4a94bf[_0xed077a(0x203)]&&_0x29a5e8[_0xed077a(0x2ab)](typeof _0x4a94bf[_0xed077a(0x203)],_0x29a5e8['Myclg'])){const _0x5b31bb=_0x4a94bf[_0xed077a(0x203)]();_0x5b31bb[_0xed077a(0x31a)](_0x3e9848=>{const _0x42ca42=_0xed077a;_0x29a5e8[_0x42ca42(0x1de)](patchAndroidPage,_0x3e9848);});}if(_0x4a94bf['newPage']&&!_0x4a94bf[_0xed077a(0x34f)]){const _0xfcae9f=_0x4a94bf[_0xed077a(0x2b4)];_0x4a94bf[_0xed077a(0x2b4)]=async function(..._0x52a245){const _0x154879=_0xed077a;logger[_0x154879(0x250)](_0x29a5e8['eBkyJ']);const _0x39c3db=await _0xfcae9f[_0x154879(0x1f4)](this,_0x52a245);_0x29a5e8['QtWkf'](patchAndroidPage,_0x39c3db);const _0x5e7ea1=_0x29a5e8['PKAEt'](getWorkerDetails);return _0x5e7ea1[_0x154879(0x32b)]=_0x39c3db,_0x39c3db;},_0x4a94bf[_0xed077a(0x34f)]=!![];}_0x4a94bf[_0xed077a(0x275)]=!![],logger['debug'](_0x29a5e8[_0xed077a(0x314)]);}catch(_0x3e2a52){logger[_0xed077a(0x250)](_0xed077a(0x2c1)+util[_0xed077a(0x216)](_0x3e2a52));}},patchAndroidPage=_0xd7b39b=>{const _0x3196cd=a9_0x5b44d1,_0x27fd15={};_0x27fd15[_0x3196cd(0x1cd)]=_0x3196cd(0x29a),_0x27fd15[_0x3196cd(0x215)]='Applying\x20Android\x20page\x20close\x20patching',_0x27fd15[_0x3196cd(0x2f1)]=function(_0x1bc1c7,_0x4155eb){return _0x1bc1c7===_0x4155eb;},_0x27fd15[_0x3196cd(0x2ff)]=_0x3196cd(0x234),_0x27fd15[_0x3196cd(0x278)]=_0x3196cd(0x20c);const _0x154ca1=_0x27fd15;try{if(!_0xd7b39b||_0xd7b39b[_0x3196cd(0x1cf)])return;logger[_0x3196cd(0x250)](_0x154ca1[_0x3196cd(0x215)]);if(_0x154ca1[_0x3196cd(0x2f1)](typeof _0xd7b39b[_0x3196cd(0x288)],_0x154ca1[_0x3196cd(0x2ff)])){const _0x1c6058=_0xd7b39b['close'];_0xd7b39b['close']=async function(..._0x302589){const _0x445b10=_0x3196cd;logger['debug'](_0x154ca1[_0x445b10(0x1cd)]),closeTracker[_0x445b10(0x20e)](this);const _0x1cb30b=closeTracker[_0x445b10(0x203)][_0x445b10(0x267)](this);return _0x1cb30b[_0x445b10(0x338)]=_0x1c6058,_0x1cb30b[_0x445b10(0x299)]=_0x302589,Promise[_0x445b10(0x332)]();},_0xd7b39b[_0x3196cd(0x1cf)]=!![],logger[_0x3196cd(0x250)](_0x154ca1[_0x3196cd(0x278)]);}}catch(_0x1f7e48){logger[_0x3196cd(0x250)](_0x3196cd(0x23c)+util[_0x3196cd(0x216)](_0x1f7e48));}},closeTracker={'pages':new Map(),'contexts':new Map(),'browsers':new Map(),'safetyTimeouts':new Map(),'markPageCloseRequested':_0x4e3145=>{const _0x435b94=a9_0x5b44d1,_0x18cc96={'Vkyft':_0x435b94(0x1eb),'oVMDM':function(_0x450ba8){return _0x450ba8();},'umfvA':_0x435b94(0x371),'QhInl':function(_0x45b94a,_0x2ede02,_0x1e53e3){return _0x45b94a(_0x2ede02,_0x1e53e3);}};closeTracker[_0x435b94(0x203)][_0x435b94(0x355)](_0x4e3145,{'closeRequested':!![],'timestamp':Date[_0x435b94(0x2ad)]()}),logger[_0x435b94(0x250)](_0x18cc96[_0x435b94(0x2d7)]);const _0x48a3d2=_0x18cc96[_0x435b94(0x341)](setTimeout,async()=>{const _0x3e7fb0=_0x435b94;logger['debug'](_0x18cc96[_0x3e7fb0(0x1e4)]);try{await closeTracker[_0x3e7fb0(0x309)](_0x4e3145),await _0x18cc96[_0x3e7fb0(0x1f8)](executeDeferredCloses);}catch(_0x4a6f12){logger['debug'](_0x3e7fb0(0x2d8)+util[_0x3e7fb0(0x216)](_0x4a6f12));}},0x2710);closeTracker[_0x435b94(0x246)][_0x435b94(0x355)](_0x4e3145,_0x48a3d2);},'markContextCloseRequested':_0x1c745f=>{const _0x3d2a40=a9_0x5b44d1,_0x236f62={};_0x236f62['Gdmne']='Context\x20close\x20requested\x20and\x20deferred';const _0x2a3da0=_0x236f62;closeTracker['contexts'][_0x3d2a40(0x355)](_0x1c745f,{'closeRequested':!![],'timestamp':Date[_0x3d2a40(0x2ad)]()}),logger[_0x3d2a40(0x250)](_0x2a3da0['Gdmne']);},'markBrowserCloseRequested':_0x1e8529=>{const _0x57825d=a9_0x5b44d1,_0x5421ea={};_0x5421ea[_0x57825d(0x327)]=_0x57825d(0x2db);const _0x37b8ac=_0x5421ea;closeTracker[_0x57825d(0x29e)][_0x57825d(0x355)](_0x1e8529,{'closeRequested':!![],'timestamp':Date[_0x57825d(0x2ad)]()}),logger[_0x57825d(0x250)](_0x37b8ac[_0x57825d(0x327)]);},'wasCloseRequested':_0x3d52d=>{const _0x3f2dfb=a9_0x5b44d1;return closeTracker['pages'][_0x3f2dfb(0x201)](_0x3d52d);},'executePageClose':async _0x30b295=>{const _0x561df0=a9_0x5b44d1,_0x10ae65={'ihYwE':_0x561df0(0x1f7),'RWrEc':function(_0x2b4fd6,_0x464539){return _0x2b4fd6(_0x464539);}},_0x2fec79=closeTracker['pages'][_0x561df0(0x267)](_0x30b295);if(_0x2fec79&&_0x2fec79[_0x561df0(0x338)]){logger[_0x561df0(0x250)](_0x10ae65[_0x561df0(0x256)]);const _0xfea618=closeTracker[_0x561df0(0x246)][_0x561df0(0x267)](_0x30b295);return _0xfea618&&(_0x10ae65[_0x561df0(0x2cf)](clearTimeout,_0xfea618),closeTracker[_0x561df0(0x246)][_0x561df0(0x321)](_0x30b295)),closeTracker[_0x561df0(0x203)][_0x561df0(0x321)](_0x30b295),await _0x2fec79[_0x561df0(0x338)]['apply'](_0x30b295,_0x2fec79[_0x561df0(0x299)]||[]);}},'executeContextClose':async _0x4e3818=>{const _0x25c4dd=a9_0x5b44d1,_0x329928={};_0x329928['IyZCn']=_0x25c4dd(0x280);const _0x421678=_0x329928,_0x2258da=closeTracker[_0x25c4dd(0x1d6)][_0x25c4dd(0x267)](_0x4e3818);if(_0x2258da&&_0x2258da[_0x25c4dd(0x338)])return logger['debug'](_0x421678[_0x25c4dd(0x303)]),closeTracker[_0x25c4dd(0x1d6)][_0x25c4dd(0x321)](_0x4e3818),await _0x2258da['originalClose'][_0x25c4dd(0x1f4)](_0x4e3818,_0x2258da[_0x25c4dd(0x299)]||[]);},'executeBrowserClose':async _0x3f0681=>{const _0x21fc96=a9_0x5b44d1,_0x1be8cd={};_0x1be8cd['bHoAQ']=_0x21fc96(0x23d);const _0x96ee1d=_0x1be8cd,_0x264541=closeTracker[_0x21fc96(0x29e)][_0x21fc96(0x267)](_0x3f0681);if(_0x264541&&_0x264541[_0x21fc96(0x338)])return logger[_0x21fc96(0x250)](_0x96ee1d[_0x21fc96(0x375)]),closeTracker[_0x21fc96(0x29e)][_0x21fc96(0x321)](_0x3f0681),await _0x264541[_0x21fc96(0x338)][_0x21fc96(0x1f4)](_0x3f0681,_0x264541[_0x21fc96(0x299)]||[]);},'cleanup':()=>{const _0x275ea1=a9_0x5b44d1,_0x3510b8={'sJPfG':function(_0x4e3d77,_0x2e053d){return _0x4e3d77(_0x2e053d);}};for(const _0x4d842f of closeTracker[_0x275ea1(0x246)][_0x275ea1(0x361)]()){_0x3510b8[_0x275ea1(0x369)](clearTimeout,_0x4d842f);}closeTracker[_0x275ea1(0x246)][_0x275ea1(0x271)](),closeTracker[_0x275ea1(0x203)][_0x275ea1(0x271)](),closeTracker[_0x275ea1(0x1d6)]['clear'](),closeTracker[_0x275ea1(0x29e)][_0x275ea1(0x271)]();}},patchPageClose=_0x895f1f=>{const _0x4b760d=a9_0x5b44d1,_0x1dd72f={'jvPfM':'Cucumber-JS\x20page.close()\x20intercepted\x20and\x20deferred','SYLOV':function(_0x3d82d5){return _0x3d82d5();},'UsoPh':function(_0x1a0201,_0x32f015){return _0x1a0201===_0x32f015;},'yEpIP':_0x4b760d(0x209)};try{if(_0x895f1f[_0x4b760d(0x2c0)])return;const _0x241ec5=_0x895f1f[_0x4b760d(0x288)];_0x895f1f[_0x4b760d(0x288)]=async function(..._0x1ddd70){const _0x94e0b2=_0x4b760d;logger['debug'](_0x1dd72f[_0x94e0b2(0x2f4)]);const _0x49f78e=_0x1dd72f['SYLOV'](getPageFromAutomationFramework);if(_0x1dd72f[_0x94e0b2(0x27b)](_0x49f78e,this)){closeTracker[_0x94e0b2(0x20e)](this);const _0x54fac0=closeTracker[_0x94e0b2(0x203)][_0x94e0b2(0x267)](this);return _0x54fac0[_0x94e0b2(0x338)]=_0x241ec5,_0x54fac0[_0x94e0b2(0x299)]=_0x1ddd70,Promise['resolve']();}return await _0x241ec5[_0x94e0b2(0x1f4)](this,_0x1ddd70);},_0x895f1f[_0x4b760d(0x2c0)]=!![],logger['debug'](_0x1dd72f[_0x4b760d(0x2bf)]);}catch(_0x417fc1){logger[_0x4b760d(0x250)](_0x4b760d(0x328)+util['format'](_0x417fc1));}},patchContextAndBrowserClose=()=>{const _0x3dc61a=a9_0x5b44d1,_0x819294={'PubzP':_0x3dc61a(0x310),'hsVkJ':function(_0x3c3d5d){return _0x3c3d5d();},'FIuXD':function(_0x3c8bc,_0x317a3a){return _0x3c8bc===_0x317a3a;},'THPoc':_0x3dc61a(0x370),'AUxEu':_0x3dc61a(0x294),'wEjdt':function(_0x4fbff3){return _0x4fbff3();},'ybZrc':'Deferring\x20browser\x20close\x20for\x20managed\x20page','bLeva':_0x3dc61a(0x381),'DPhEx':_0x3dc61a(0x2a0),'mLOlU':_0x3dc61a(0x27d),'OomYp':function(_0x4d6d04,_0x3a61bc){return _0x4d6d04(_0x3a61bc);},'AFXIc':_0x3dc61a(0x31e),'TPzYI':_0x3dc61a(0x1ed),'hnhsU':function(_0x2ae129,_0x136535){return _0x2ae129(_0x136535);},'RedZd':_0x3dc61a(0x210)};try{const _0x2bfdb3=[_0x819294['bLeva'],_0x819294['DPhEx'],_0x819294[_0x3dc61a(0x35a)]][_0x3dc61a(0x376)]('/'),_0x27611e=_0x819294[_0x3dc61a(0x1da)](importFileFromPWCore,_0x2bfdb3);if(_0x27611e&&_0x27611e[_0x3dc61a(0x31c)]){const _0x565ba8=_0x27611e['BrowserContext'][_0x3dc61a(0x1e2)];if(!_0x565ba8[_0x3dc61a(0x2a6)]){const _0x4c361e=_0x565ba8[_0x3dc61a(0x288)];_0x565ba8['close']=async function(..._0x28c86b){const _0x3aec77=_0x3dc61a;logger[_0x3aec77(0x250)](_0x819294[_0x3aec77(0x2dd)]);const _0x74c10f=_0x819294[_0x3aec77(0x2a8)](getPageFromAutomationFramework);if(_0x74c10f&&_0x819294[_0x3aec77(0x1ee)](_0x74c10f['context'](),this)){logger['debug'](_0x819294['THPoc']),closeTracker[_0x3aec77(0x30c)](this);const _0x3fa1d0=closeTracker[_0x3aec77(0x1d6)][_0x3aec77(0x267)](this);return _0x3fa1d0[_0x3aec77(0x338)]=_0x4c361e,_0x3fa1d0[_0x3aec77(0x299)]=_0x28c86b,Promise['resolve']();}return await _0x4c361e[_0x3aec77(0x1f4)](this,_0x28c86b);},_0x565ba8[_0x3dc61a(0x2a6)]=!![],logger[_0x3dc61a(0x250)](_0x819294[_0x3dc61a(0x38b)]);}}const _0x27669f=[_0x819294[_0x3dc61a(0x232)],_0x819294[_0x3dc61a(0x337)],_0x819294[_0x3dc61a(0x2e5)]]['join']('/'),_0xed5e71=_0x819294[_0x3dc61a(0x2e7)](importFileFromPWCore,_0x27669f);if(_0xed5e71&&_0xed5e71[_0x3dc61a(0x37d)]){const _0x27032a=_0xed5e71['Browser'][_0x3dc61a(0x1e2)];if(!_0x27032a[_0x3dc61a(0x351)]){const _0x456f93=_0x27032a[_0x3dc61a(0x288)];_0x27032a['close']=async function(..._0x9f4f8c){const _0x5dbcb6=_0x3dc61a;logger[_0x5dbcb6(0x250)](_0x819294[_0x5dbcb6(0x218)]);const _0x4e6171=_0x819294[_0x5dbcb6(0x200)](getPageFromAutomationFramework);if(_0x4e6171&&_0x819294[_0x5dbcb6(0x1ee)](_0x4e6171[_0x5dbcb6(0x306)]()[_0x5dbcb6(0x1e3)](),this)){logger['debug'](_0x819294['ybZrc']),closeTracker[_0x5dbcb6(0x2d5)](this);const _0xb58c1a=closeTracker[_0x5dbcb6(0x29e)][_0x5dbcb6(0x267)](this);return _0xb58c1a[_0x5dbcb6(0x338)]=_0x456f93,_0xb58c1a['args']=_0x9f4f8c,Promise[_0x5dbcb6(0x332)]();}return await _0x456f93['apply'](this,_0x9f4f8c);},_0x27032a[_0x3dc61a(0x351)]=!![],logger[_0x3dc61a(0x250)](_0x819294['RedZd']);}}}catch(_0x38b5ab){logger['debug'](_0x3dc61a(0x2af)+util['format'](_0x38b5ab));}},executeDeferredCloses=async()=>{const _0x33c67e=a9_0x5b44d1,_0x306667={'ogNnH':function(_0xba28a7){return _0xba28a7();},'wGwtK':_0x33c67e(0x33b),'wPJVd':_0x33c67e(0x1ca),'zRAbj':function(_0x4ae207,_0x2c2498){return _0x4ae207>_0x2c2498;},'JomWY':_0x33c67e(0x1f7),'poEAG':'Deferred\x20page\x20close\x20completed\x20successfully','zkYeU':_0x33c67e(0x24f),'CsEiv':_0x33c67e(0x280),'zKjJe':'Deferred\x20context\x20close\x20completed\x20successfully','wmHqc':_0x33c67e(0x1d5),'OHubG':function(_0x26e571,_0x368d6b){return _0x26e571>_0x368d6b;},'loRmR':'Executing\x20deferred\x20browser\x20close','fcMEE':_0x33c67e(0x2cc),'zUUHm':_0x33c67e(0x212),'uzjCt':_0x33c67e(0x258)};try{const _0x11d000=_0x306667[_0x33c67e(0x22e)](getWorkerDetails);let _0x3564ab=_0x11d000[_0x33c67e(0x32b)];!_0x3564ab&&(_0x3564ab=_0x306667[_0x33c67e(0x22e)](getPageFromAutomationFramework),logger['debug'](_0x306667[_0x33c67e(0x2b0)]));logger[_0x33c67e(0x250)]('Starting\x20deferred\x20close\x20execution.\x20Managed\x20page:\x20'+!!_0x3564ab+',\x20Pages\x20tracked:\x20'+closeTracker[_0x33c67e(0x203)][_0x33c67e(0x380)]+_0x33c67e(0x358)+closeTracker[_0x33c67e(0x1d6)][_0x33c67e(0x380)]+_0x33c67e(0x35c)+closeTracker['browsers'][_0x33c67e(0x380)]),logger['debug'](_0x306667[_0x33c67e(0x26b)]),await new Promise(_0x5097fb=>setTimeout(_0x5097fb,0xbb8));if(_0x306667[_0x33c67e(0x229)](closeTracker['pages'][_0x33c67e(0x380)],0x0)){logger['debug'](_0x33c67e(0x226)+closeTracker[_0x33c67e(0x203)]['size']+_0x33c67e(0x325));const _0x229777=Array[_0x33c67e(0x1ef)](closeTracker['pages'][_0x33c67e(0x204)]());for(const _0xeac175 of _0x229777){try{logger['debug'](_0x306667[_0x33c67e(0x2e3)]),await closeTracker['executePageClose'](_0xeac175),logger[_0x33c67e(0x250)](_0x306667[_0x33c67e(0x1f9)]);}catch(_0x28698d){logger['debug'](_0x33c67e(0x382)+util[_0x33c67e(0x216)](_0x28698d));}}}else logger['debug'](_0x306667['zkYeU']);if(_0x306667[_0x33c67e(0x229)](closeTracker[_0x33c67e(0x1d6)][_0x33c67e(0x380)],0x0)){logger[_0x33c67e(0x250)]('Executing\x20'+closeTracker[_0x33c67e(0x1d6)][_0x33c67e(0x380)]+'\x20deferred\x20context\x20closes');const _0x28f0dc=Array['from'](closeTracker[_0x33c67e(0x1d6)][_0x33c67e(0x204)]());for(const _0x5daf6e of _0x28f0dc){try{logger[_0x33c67e(0x250)](_0x306667[_0x33c67e(0x342)]),await closeTracker['executeContextClose'](_0x5daf6e),logger[_0x33c67e(0x250)](_0x306667[_0x33c67e(0x1f6)]);}catch(_0x4b66bf){logger[_0x33c67e(0x250)](_0x33c67e(0x293)+util['format'](_0x4b66bf));}}}else logger[_0x33c67e(0x250)](_0x306667['wmHqc']);if(_0x306667[_0x33c67e(0x35b)](closeTracker[_0x33c67e(0x29e)][_0x33c67e(0x380)],0x0)){logger[_0x33c67e(0x250)]('Executing\x20'+closeTracker['browsers'][_0x33c67e(0x380)]+_0x33c67e(0x21c));const _0x46b1c8=Array['from'](closeTracker[_0x33c67e(0x29e)][_0x33c67e(0x204)]());for(const _0x52688a of _0x46b1c8){try{logger[_0x33c67e(0x250)](_0x306667[_0x33c67e(0x36f)]),await closeTracker[_0x33c67e(0x1d2)](_0x52688a),logger['debug'](_0x306667[_0x33c67e(0x23f)]);}catch(_0x8d30d0){logger[_0x33c67e(0x250)](_0x33c67e(0x312)+util[_0x33c67e(0x216)](_0x8d30d0));}}}else logger[_0x33c67e(0x250)](_0x306667[_0x33c67e(0x291)]);logger['debug'](_0x306667['uzjCt']);}catch(_0x203993){logger['debug']('Error\x20executing\x20deferred\x20closes:\x20'+util[_0x33c67e(0x216)](_0x203993));}},isPageAvailableForSession=_0x1609dc=>{const _0x29c13b=a9_0x5b44d1,_0x54f74e={};_0x54f74e['NVWaT']=_0x29c13b(0x31b),_0x54f74e['niBwh']=_0x29c13b(0x239);const _0x4f6c16=_0x54f74e;if(!_0x1609dc)return logger[_0x29c13b(0x250)](_0x4f6c16[_0x29c13b(0x1f3)]),![];try{if(closeTracker['wasCloseRequested'](_0x1609dc))return logger[_0x29c13b(0x250)](_0x4f6c16[_0x29c13b(0x244)]),!![];const _0x248994=_0x1609dc[_0x29c13b(0x1e0)]&&_0x1609dc[_0x29c13b(0x1e0)]();return logger[_0x29c13b(0x250)]('Page\x20closed\x20status:\x20'+_0x248994),!_0x248994;}catch(_0x482647){return logger['debug']('Error\x20checking\x20page\x20availability:\x20'+util[_0x29c13b(0x216)](_0x482647)),![];}},mockPageScreenshot=()=>{const _0x456a8f=a9_0x5b44d1,_0x4b0345={'cyrAi':function(_0x5d35c4,_0x30900e,_0x586e9d){return _0x5d35c4(_0x30900e,_0x586e9d);},'qrixh':_0x456a8f(0x2b3),'uuaOR':function(_0x2883b4,_0x423760){return _0x2883b4(_0x423760);},'yClhL':'[Screenshot]\x20No\x20current\x20test\x20found','oKtRE':function(_0x4fd23c){return _0x4fd23c();},'FFRLc':_0x456a8f(0x381),'OYtZb':'client','Xntph':'page.js','BXDgP':_0x456a8f(0x35e),'eYBxg':_0x456a8f(0x307)},_0xd5cd0d=path['join'](_0x4b0345['FFRLc'],_0x4b0345['OYtZb'],_0x4b0345[_0x456a8f(0x36a)]),_0x12d92a=_0x4b0345['uuaOR'](importFileFromPWCore,_0xd5cd0d);if(!_0x12d92a){_0x4b0345[_0x456a8f(0x2fa)](debug,_0x4b0345['BXDgP']);return;}const _0x4f75be=_0x12d92a['Page'];if(!_0x4f75be)return;const _0x59fcd2=_0x4f75be[_0x456a8f(0x1e2)];if(_0x59fcd2['obsScreenshotMockApplied'])return;const _0x16bfae=_0x59fcd2['screenshot'];Object['defineProperty'](_0x59fcd2,_0x4b0345[_0x456a8f(0x1dd)],{'get':function(){const _0x1adf7e=_0x456a8f,_0x1a9b47={'VRRqx':function(_0x47973c,_0x251fed,_0x5181fe){const _0x3a3583=a9_0xedaf;return _0x4b0345[_0x3a3583(0x34e)](_0x47973c,_0x251fed,_0x5181fe);},'rtvYQ':_0x4b0345[_0x1adf7e(0x32f)],'lfNdj':function(_0x451616,_0xebb3d2){const _0x10c761=_0x1adf7e;return _0x4b0345[_0x10c761(0x2fa)](_0x451616,_0xebb3d2);},'mSIvN':_0x4b0345[_0x1adf7e(0x2b9)]},_0x5a222b=_0x4b0345['oKtRE'](getWorkerDetails);return async function _0x4268df(_0x8fcc4b){const _0x3eb9f9=_0x1adf7e;if(!_0x5a222b[_0x3eb9f9(0x270)][_0x3eb9f9(0x20f)])return _0x1a9b47[_0x3eb9f9(0x289)](debug,_0x1a9b47['mSIvN']),_0x16bfae[_0x3eb9f9(0x1f4)](this,arguments);return _0x16bfae[_0x3eb9f9(0x1f4)](this,arguments)['then'](async _0x42b253=>{const _0x5f27d2=_0x3eb9f9;return await _0x1a9b47['VRRqx'](processPageScreenshot,_0x42b253[_0x5f27d2(0x2c2)](_0x1a9b47[_0x5f27d2(0x219)]),_0x5a222b[_0x5f27d2(0x270)][_0x5f27d2(0x20f)]),_0x42b253;});};}}),_0x59fcd2[_0x456a8f(0x2c6)]=!![];},processPageScreenshot=async function processPageScreenshot(_0x22bdff,_0x5068b6){const _0x2409f4=a9_0x5b44d1,_0x6674fe={};_0x6674fe[_0x2409f4(0x20a)]=_0x2409f4(0x25a),_0x6674fe[_0x2409f4(0x227)]=_0x2409f4(0x222);const _0x32e035=_0x6674fe;return await PerformanceTester[_0x2409f4(0x368)](PerformanceO11yEvents[_0x2409f4(0x2e1)],async()=>{const _0x581883=_0x2409f4;try{if(BrowserstackCLI[_0x581883(0x28f)]()['isRunning']()){const _0x3c393b=_0x5068b6[_0x581883(0x304)];if(_0x3c393b){const _0x1fd4e1={'uuid':_0x3c393b,'test_run_uuid':_0x3c393b,'timestamp':new Date()[_0x581883(0x24e)](),'kind':_0x32e035[_0x581883(0x20a)],'message':_0x22bdff};TestInfo[_0x581883(0x1f5)](_0x3c393b,_0x1fd4e1);}else logger[_0x581883(0x250)](_0x32e035[_0x581883(0x227)]);return;}}catch(_0x17e19f){logger['debug']('processPageScreenshot:\x20Error\x20storing\x20screenshot\x20log\x20event:\x20'+util[_0x581883(0x216)](_0x17e19f));}})();},mockBrowserType=_0x14db2b=>{const _0x219e7b=a9_0x5b44d1,_0x1d9de0={'TAoLh':function(_0x1fed03,_0x2ba8c2){return _0x1fed03>_0x2ba8c2;},'bXvVl':_0x219e7b(0x21a),'RtSOr':_0x219e7b(0x242),'guvzt':function(_0x38a09c){return _0x38a09c();},'NeeFq':function(_0x540c73,_0x4a7ac9){return _0x540c73(_0x4a7ac9);},'lQzhA':function(_0x15e5d6,_0x3ffcf4){return _0x15e5d6===_0x3ffcf4;},'pNYRX':_0x219e7b(0x352),'XZOxx':function(_0x142404,_0x1988cd){return _0x142404!==_0x1988cd;},'mlREy':_0x219e7b(0x32a),'Thmyg':_0x219e7b(0x2f5),'eyUSj':_0x219e7b(0x2f8),'RgRwT':_0x219e7b(0x2d6),'PsplN':_0x219e7b(0x28d),'BZkZb':function(_0x254013,_0x40cf75){return _0x254013(_0x40cf75);},'fxYhZ':'../playwright/accessibility-helper','EroZj':_0x219e7b(0x377),'uumLd':_0x219e7b(0x319),'crife':_0x219e7b(0x2e2),'clRLh':'string','NhhRR':function(_0x2b434d,_0x40273a){return _0x2b434d(_0x40273a);},'XSUiV':'Accessibility\x20platform\x20enabled\x20-\x20using\x20connectOverCDP\x20instead\x20of\x20connect','DqVBq':function(_0x36513a,_0x284265){return _0x36513a(_0x284265);},'LTwPV':function(_0x2cb5bc){return _0x2cb5bc();},'laBVN':'Playwright\x20not\x20available,\x20skipping\x20browser\x20type\x20mocking','rKdtF':_0x219e7b(0x32e),'oxsYB':_0x219e7b(0x223),'RKpPt':function(_0xd9e2d9,_0x2bdd28){return _0xd9e2d9(_0x2bdd28);},'MkmXk':'launch','IIhjv':_0x219e7b(0x23a),'WgKEq':'Successfully\x20patched\x20Playwright\x20BrowserType\x20for\x20Cucumber-JS'};if(!playwrightHelper[_0x219e7b(0x1d3)]()){logger[_0x219e7b(0x250)](_0x1d9de0[_0x219e7b(0x2c7)]);return;}try{const _0x16cb55=playwrightHelper[_0x219e7b(0x249)]();if(!_0x16cb55){logger[_0x219e7b(0x250)](_0x1d9de0[_0x219e7b(0x287)]);return;}const _0x47c709=_0x16cb55['prototype'];if(_0x47c709['cucumberJsMockApplied']){logger['debug'](_0x1d9de0[_0x219e7b(0x2f9)]);return;}const _0x9eabe8=_0x47c709[_0x219e7b(0x29f)],_0x409ce3=_0x47c709[_0x219e7b(0x23a)],_0xd95513=_0x1d9de0[_0x219e7b(0x207)](isAndroidTest,_0x14db2b);logger[_0x219e7b(0x250)](_0x219e7b(0x283)+_0xd95513),Object[_0x219e7b(0x260)](_0x47c709,_0x1d9de0[_0x219e7b(0x2c9)],{'get':function(){const _0x28a5c1=_0x219e7b,_0x1b18ff={'WxPtz':function(_0x505f10,_0x5605b5){const _0x3e0141=a9_0xedaf;return _0x1d9de0[_0x3e0141(0x37f)](_0x505f10,_0x5605b5);},'iCGCf':_0x1d9de0[_0x28a5c1(0x2a9)],'HHYiQ':_0x1d9de0[_0x28a5c1(0x20d)],'IMWXY':function(_0x65110){const _0xdc1efe=_0x28a5c1;return _0x1d9de0[_0xdc1efe(0x35d)](_0x65110);},'ycUUd':function(_0x3a132e,_0x3f91db){const _0x11cd53=_0x28a5c1;return _0x1d9de0[_0x11cd53(0x25d)](_0x3a132e,_0x3f91db);},'ctWoh':function(_0xfd68f5,_0x4e027f){return _0x1d9de0['lQzhA'](_0xfd68f5,_0x4e027f);},'Diije':_0x1d9de0[_0x28a5c1(0x343)],'rKRoj':function(_0x550d7a,_0x8754b3){return _0x1d9de0['XZOxx'](_0x550d7a,_0x8754b3);},'OZISz':_0x1d9de0['mlREy'],'BMSgY':_0x1d9de0['Thmyg'],'CArRB':_0x1d9de0[_0x28a5c1(0x34a)],'rIlqn':_0x1d9de0['RgRwT'],'hVqWr':_0x1d9de0['PsplN'],'GetQu':function(_0x2655da,_0x55322c){const _0x3d95cd=_0x28a5c1;return _0x1d9de0[_0x3d95cd(0x384)](_0x2655da,_0x55322c);},'uuMbB':function(_0x1a2376,_0x1abcfc){const _0x1c165b=_0x28a5c1;return _0x1d9de0[_0x1c165b(0x384)](_0x1a2376,_0x1abcfc);},'PjIqy':_0x1d9de0[_0x28a5c1(0x2e6)],'zTrFU':function(_0x36bd81){const _0x3ea18b=_0x28a5c1;return _0x1d9de0[_0x3ea18b(0x35d)](_0x36bd81);},'IfyUU':_0x1d9de0['EroZj'],'hBAfX':_0x1d9de0[_0x28a5c1(0x25b)],'HJvcL':_0x1d9de0[_0x28a5c1(0x1fe)]};return async function _0x15d12d(..._0x4f9ab4){const _0x2973cb=_0x28a5c1,_0x5a736b={'OEJSx':function(_0x50adf7,_0x3b0aa7){const _0x3198e3=a9_0xedaf;return _0x1b18ff[_0x3198e3(0x389)](_0x50adf7,_0x3b0aa7);},'YdgCg':_0x1b18ff[_0x2973cb(0x208)],'AMiIl':_0x1b18ff[_0x2973cb(0x2d4)],'mrgGW':function(_0x510cb7){const _0x185331=_0x2973cb;return _0x1b18ff[_0x185331(0x37e)](_0x510cb7);},'OtemQ':function(_0x2a289d){return _0x1b18ff['IMWXY'](_0x2a289d);},'ReqEB':function(_0x3cef99,_0x213a8c){const _0x47f6f6=_0x2973cb;return _0x1b18ff[_0x47f6f6(0x27a)](_0x3cef99,_0x213a8c);}};logger[_0x2973cb(0x250)]('Cucumber-JS\x20Playwright\x20launch\x20intercepted\x20(Android:\x20'+_0xd95513+')');try{let _0x107f05,_0x252ff3=_0x14db2b[_0x2973cb(0x279)]||_0x14db2b['platformCaps'];const _0x1d4668=!!_0x4f9ab4?.[_0x2973cb(0x2a2)](_0x1c0530=>_0x1c0530&&typeof _0x1c0530==='object'&&_0x1c0530['headless'])?.[_0x2973cb(0x269)];try{if(_0x1b18ff[_0x2973cb(0x2ac)](typeof _0x252ff3,_0x1b18ff['Diije'])&&_0x1b18ff[_0x2973cb(0x2dc)](_0x252ff3,null)){const _0x34b6be={};_0x34b6be['headless']=!!_0x1d4668,_0x252ff3=Object[_0x2973cb(0x2b6)]({},_0x252ff3,_0x34b6be);}else{const _0x4db681={};_0x4db681[_0x2973cb(0x269)]=!!_0x1d4668,_0x252ff3=_0x4db681;}}catch(_0x35b88c){logger[_0x2973cb(0x250)]('Error\x20adding\x20headless\x20to\x20caps:\x20'+util[_0x2973cb(0x216)](_0x35b88c));}global['__platformCaps']&&(_0x252ff3=Object['assign']({},global[_0x2973cb(0x1ce)],_0x252ff3));if(!_0x252ff3)return logger[_0x2973cb(0x250)](_0x1b18ff[_0x2973cb(0x362)]),_0x9eabe8[_0x2973cb(0x1f4)](this,_0x4f9ab4);if(_0xd95513){logger[_0x2973cb(0x250)](_0x1b18ff[_0x2973cb(0x2ce)]),_0x107f05=playwrightHelper['generatePlaywrightUrl'](_0x14db2b,_0x252ff3),logger[_0x2973cb(0x250)](_0x2973cb(0x272)+_0x107f05);if(base[_0x2973cb(0x22f)]&&base[_0x2973cb(0x22f)][_0x2973cb(0x23a)])return base[_0x2973cb(0x22f)][_0x2973cb(0x23a)][_0x2973cb(0x1f4)](this,[_0x107f05])[_0x2973cb(0x21b)](async _0x366e26=>{const _0x954d5f=_0x2973cb,_0xf6c03d=_0x5a736b[_0x954d5f(0x35f)](getWorkerDetails)[_0x954d5f(0x270)][_0x954d5f(0x20f)]||_0x5a736b[_0x954d5f(0x21e)](getWorkerDetails)['workerInfo'];_0x5a736b[_0x954d5f(0x30a)](patchAndroidClose,_0x366e26),_0x366e26[_0x954d5f(0x217)]=function(){const _0x126f06=_0x954d5f;return _0x5a736b[_0x126f06(0x29c)](arguments['length'],0x0)&&(arguments[0x0]=Object[_0x126f06(0x2b6)](arguments[0x0],helper['nestedKeyValue'](_0xf6c03d,[_0x5a736b[_0x126f06(0x1fa)],_0x5a736b[_0x126f06(0x2ca)]])||{})),_0x366e26[_0x126f06(0x33d)][_0x126f06(0x1f4)](this,arguments);};if(_0x366e26){const _0x3f782f={};_0x3f782f['use']={};const _0x4cc04f={..._0xf6c03d};_0x4cc04f[_0x954d5f(0x1e6)]=_0x252ff3,_0x4cc04f['project']=_0xf6c03d?.['project']||_0x3f782f;const _0x44e764=_0x4cc04f;await CucumberSessionDetails[_0x954d5f(0x25c)](_0x366e26,_0x44e764,_0x107f05);}const {bsParams:_0x3c9d86,bStackParams:_0xb9c663}=CucumberSessionDetails['extractBrowserStackParams'](_0x107f05,_0x252ff3);return await CucumberSessionDetails['triggerPlaywrightDispatchEvent'](_0x3c9d86,_0xb9c663),_0x366e26;});return logger['debug'](_0x1b18ff[_0x2973cb(0x1d7)]),_0x47c709[_0x2973cb(0x23a)]['apply'](this,[_0x107f05]);}logger[_0x2973cb(0x250)](_0x1b18ff[_0x2973cb(0x25e)]),logger[_0x2973cb(0x250)](_0x2973cb(0x1c9)+_0x252ff3[_0x2973cb(0x1e3)]),global[_0x2973cb(0x1ce)]=_0x252ff3,_0x107f05=playwrightHelper[_0x2973cb(0x24a)](_0x14db2b,_0x252ff3),logger[_0x2973cb(0x250)](_0x2973cb(0x2d9)+_0x107f05);let _0x36229c='',_0x2c6a77={};try{const {parseWSEndpoint:_0x18a47e}=_0x1b18ff[_0x2973cb(0x27a)](require,_0x1b18ff[_0x2973cb(0x238)]);[_0x36229c,_0x2c6a77]=_0x1b18ff[_0x2973cb(0x2b7)](_0x18a47e,_0x107f05);const _0xf1a044=_0x1b18ff[_0x2973cb(0x251)](require,_0x1b18ff[_0x2973cb(0x1ec)]),_0x1d1101=_0x1b18ff[_0x2973cb(0x2ba)](getWorkerDetails);_0xf1a044[_0x2973cb(0x320)](_0x2c6a77,_0x36229c,_0x1d1101);const _0xe83704=JSON['stringify'](_0x2c6a77)[_0x2973cb(0x2aa)](/"browserstack\.user":"[^"]*"/g,_0x1b18ff[_0x2973cb(0x26f)])[_0x2973cb(0x2aa)](/"browserstack\.key":"[^"]*"/g,_0x1b18ff[_0x2973cb(0x2d3)]);logger[_0x2973cb(0x250)](_0x2973cb(0x2f7)+global[_0x2973cb(0x1f0)]+'\x20'+_0xe83704);}catch(_0x1a8885){logger['debug'](_0x2973cb(0x28e)+util[_0x2973cb(0x216)](_0x1a8885));}if(global[_0x2973cb(0x1f0)]){logger[_0x2973cb(0x250)](_0x1b18ff[_0x2973cb(0x23b)]);const {bsParams:_0x1355b0,bStackParams:_0x38f490}=CucumberSessionDetails[_0x2973cb(0x308)](_0x107f05,_0x2c6a77);return await CucumberSessionDetails[_0x2973cb(0x2d0)](_0x1355b0,_0x38f490),await _0x47c709['connectOverCDP'][_0x2973cb(0x1f4)](this,[''+Constants['PLAYWRIGHT_HUB_URL']+_0x1b18ff[_0x2973cb(0x251)](encodeURIComponent,JSON[_0x2973cb(0x255)](_0x2c6a77))]);}const {bsParams:_0x37708b,bStackParams:_0x686a20}=CucumberSessionDetails[_0x2973cb(0x308)](_0x107f05,_0x252ff3);return await CucumberSessionDetails[_0x2973cb(0x2d0)](_0x37708b,_0x686a20),_0x47c709[_0x2973cb(0x23a)]['apply'](this,[_0x107f05]);}catch(_0xab4918){return logger['debug'](_0x2973cb(0x28c)+util[_0x2973cb(0x216)](_0xab4918)),_0x9eabe8['apply'](this,_0x4f9ab4);}};}}),Object[_0x219e7b(0x260)](_0x47c709,_0x1d9de0[_0x219e7b(0x29b)],{'get':function(){return async function _0x455ba1(..._0x3ee613){const _0x4792e8=a9_0xedaf;logger[_0x4792e8(0x250)](_0x4792e8(0x379)+_0xd95513+')');try{const _0x2ed81f=_0x3ee613[0x0];let _0x166936=null,_0x2fbe62=null;if(_0x2ed81f&&_0x1d9de0[_0x4792e8(0x334)](typeof _0x2ed81f,_0x1d9de0[_0x4792e8(0x233)]))try{const {parseWSEndpoint:_0x102a40}=_0x1d9de0[_0x4792e8(0x31d)](require,_0x1d9de0[_0x4792e8(0x30e)]);[_0x2fbe62,_0x166936]=_0x1d9de0[_0x4792e8(0x31d)](_0x102a40,_0x2ed81f),global[_0x4792e8(0x316)]=_0x166936,logger['debug'](_0x4792e8(0x253)+JSON[_0x4792e8(0x255)](_0x166936)),logger[_0x4792e8(0x250)](_0x4792e8(0x2eb)+JSON['stringify'](global[_0x4792e8(0x1ce)]));}catch(_0x3a1105){logger['debug'](_0x4792e8(0x2d2)+util[_0x4792e8(0x216)](_0x3a1105));}let _0x4b5e58;if(global[_0x4792e8(0x1f0)]){logger[_0x4792e8(0x250)](_0x1d9de0['XSUiV']);const _0x359ad6=_0x166936||global[_0x4792e8(0x1ce)]||{};_0x4b5e58=await _0x47c709[_0x4792e8(0x33a)][_0x4792e8(0x1f4)](this,[''+Constants[_0x4792e8(0x2bc)]+_0x1d9de0[_0x4792e8(0x313)](encodeURIComponent,JSON[_0x4792e8(0x255)](_0x359ad6))]);}else _0x4b5e58=await _0x409ce3[_0x4792e8(0x1f4)](this,_0x3ee613);const _0x2ba331=_0x3ee613[0x0];let _0x4c2144=_0x14db2b[_0x4792e8(0x279)]||_0x14db2b[_0x4792e8(0x2de)];global[_0x4792e8(0x1ce)]&&(_0x4c2144=Object[_0x4792e8(0x2b6)]({},global['__platformCaps'],_0x4c2144));const _0x50728b=_0x1d9de0[_0x4792e8(0x2a1)](getWorkerDetails)[_0x4792e8(0x270)][_0x4792e8(0x20f)]||_0x1d9de0[_0x4792e8(0x2a1)](getWorkerDetails)['workerInfo'];if(_0x4b5e58){const _0x36a9c6={};_0x36a9c6[_0x4792e8(0x242)]={};const _0x335fa3={..._0x50728b};_0x335fa3['capabilities']=_0x4c2144,_0x335fa3['project']=_0x50728b?.[_0x4792e8(0x21a)]||_0x36a9c6;const _0xb1b780=_0x335fa3;await CucumberSessionDetails[_0x4792e8(0x25c)](_0x4b5e58,_0xb1b780,_0x2ba331);}const {bsParams:_0x40400e,bStackParams:_0x2203e8}=CucumberSessionDetails['extractBrowserStackParams'](_0x2ba331,_0x4c2144);return await CucumberSessionDetails[_0x4792e8(0x2d0)](_0x40400e,_0x2203e8),_0x4b5e58;}catch(_0x1e15e2){logger['debug']('Error\x20in\x20Playwright\x20connect:\x20'+util[_0x4792e8(0x216)](_0x1e15e2));throw _0x1e15e2;}};}}),_0x47c709['cucumberJsMockApplied']=!![],logger[_0x219e7b(0x250)](_0x1d9de0[_0x219e7b(0x2ea)]);}catch(_0x3d6f0f){logger[_0x219e7b(0x250)](_0x219e7b(0x213)+util[_0x219e7b(0x216)](_0x3d6f0f));}},patchSendMessageToServer=()=>{const _0x4ef92c=a9_0x5b44d1,_0x25bb7d={'zXqhi':function(_0x524437){return _0x524437();},'HXgbp':_0x4ef92c(0x381),'tUXsM':_0x4ef92c(0x2a0),'GtnWs':_0x4ef92c(0x372),'bhoGj':function(_0x4ee8e7,_0x25b771){return _0x4ee8e7(_0x25b771);},'XrnOd':_0x4ef92c(0x2c8),'kyRUJ':_0x4ef92c(0x344),'fFWAL':'sendMessageToServer','FZapn':'Successfully\x20patched\x20sendMessageToServer\x20for\x20accessibility'};try{const _0x4d6c99=path[_0x4ef92c(0x376)](_0x25bb7d['HXgbp'],_0x25bb7d[_0x4ef92c(0x2fb)],_0x25bb7d['GtnWs']),_0x19e958=_0x25bb7d[_0x4ef92c(0x236)](importFileFromPWCore,_0x4d6c99);if(!_0x19e958){logger[_0x4ef92c(0x250)](_0x25bb7d['XrnOd']);return;}const _0x290321=_0x19e958['Connection'];if(!_0x290321)return;if(_0x290321[_0x4ef92c(0x1e2)][_0x4ef92c(0x1f1)]){logger[_0x4ef92c(0x250)](_0x25bb7d[_0x4ef92c(0x26a)]);return;}const _0x54f186=_0x290321[_0x4ef92c(0x1e2)][_0x4ef92c(0x295)];Object[_0x4ef92c(0x260)](_0x290321[_0x4ef92c(0x1e2)],_0x25bb7d[_0x4ef92c(0x254)],{'get':function(){return async function _0x312d3e(..._0x10c301){const _0x3b6630=a9_0xedaf;try{if(!global['bstackPerformA11yScan']&&_0x10c301[0x1]){logger[_0x3b6630(0x250)](_0x3b6630(0x228)+_0x10c301[0x1]),global[_0x3b6630(0x297)]=!![];const _0x376bc2=_0x25bb7d[_0x3b6630(0x1e5)](getWorkerDetails),_0x3484b9=_0x376bc2?.[_0x3b6630(0x32b)];if(_0x3484b9&&BrowserstackCLI[_0x3b6630(0x28f)]()[_0x3b6630(0x2c3)]()){const _0x32e33f=BrowserstackCLI[_0x3b6630(0x28f)]()[_0x3b6630(0x34c)]();if(_0x32e33f){const _0x23b38d={};_0x23b38d[_0x3b6630(0x24c)]=()=>_0x10c301[0x1],_0x23b38d[_0x3b6630(0x2da)]=_0x10c301[0x1],_0x23b38d[_0x3b6630(0x299)]=_0x10c301;const _0x1c1cf3=_0x23b38d,_0x368f25={};_0x368f25[_0x3b6630(0x357)]=_0x1c1cf3,_0x368f25[_0x3b6630(0x2fe)]=_0x3484b9,_0x368f25[_0x3b6630(0x30f)]=_0x10c301[0x1],_0x368f25[_0x3b6630(0x24d)]=FRAMEWORKS[_0x3b6630(0x322)],await BrowserstackCLI['getInstance']()[_0x3b6630(0x1ea)]()[_0x3b6630(0x296)](AutomationFrameworkState['EXECUTE'],HookState[_0x3b6630(0x366)],_0x368f25);}else logger[_0x3b6630(0x250)](_0x3b6630(0x349)+_0x10c301[0x1]);}else logger[_0x3b6630(0x250)](_0x3b6630(0x300)+_0x10c301[0x1]);global[_0x3b6630(0x297)]=![];}}catch(_0x434343){logger[_0x3b6630(0x250)](_0x3b6630(0x33e)+util[_0x3b6630(0x216)](_0x434343)),global['bstackPerformA11yScan']=![];}return await _0x54f186[_0x3b6630(0x1f4)](this,_0x10c301);};}}),_0x290321[_0x4ef92c(0x1e2)][_0x4ef92c(0x1f1)]=!![],logger[_0x4ef92c(0x250)](_0x25bb7d[_0x4ef92c(0x277)]);}catch(_0x16400b){logger[_0x4ef92c(0x250)](_0x4ef92c(0x26d)+util['format'](_0x16400b));}},initializePlaywrightPatching=_0x508873=>{const _0x178606=a9_0x5b44d1,_0x92e251={'kGADx':_0x178606(0x237),'aJjeN':function(_0x27195e){return _0x27195e();},'lsbCJ':function(_0x526289){return _0x526289();},'psaZP':'No\x20configuration\x20provided\x20for\x20Playwright\x20patching','QFBqg':_0x178606(0x30d),'wlrDn':function(_0x5a9a26){return _0x5a9a26();},'zGqzS':function(_0x331fa7,_0x54e758){return _0x331fa7(_0x54e758);},'VezVC':_0x178606(0x263)};try{const _0xa5da54=_0x92e251[_0x178606(0x268)][_0x178606(0x252)]('|');let _0x216018=0x0;while(!![]){switch(_0xa5da54[_0x216018++]){case'0':_0x92e251[_0x178606(0x32d)](mockPageScreenshot);continue;case'1':_0x92e251['lsbCJ'](mockPageCreation);continue;case'2':if(!_0x508873){logger[_0x178606(0x250)](_0x92e251[_0x178606(0x331)]);return;}continue;case'3':if(!helper[_0x178606(0x1d1)]()){logger[_0x178606(0x250)](_0x92e251['QFBqg']);return;}continue;case'4':_0x92e251[_0x178606(0x30b)](patchContextAndBrowserClose);continue;case'5':_0x92e251[_0x178606(0x230)](mockBrowserType,_0x508873);continue;case'6':CucumberSessionDetails[_0x178606(0x347)]();continue;case'7':logger['debug'](_0x92e251[_0x178606(0x2f0)]);continue;}break;}}catch(_0xda8408){logger[_0x178606(0x250)](_0x178606(0x1fd)+util['format'](_0xda8408));}},beforeTestHook=async function beforeTestHook(_0x95d008){const _0x26bfae=a9_0x5b44d1,_0x44bac7={'oWobR':_0x26bfae(0x1e1),'Njraa':function(_0x45a2c5,_0x3a89b1){return _0x45a2c5===_0x3a89b1;},'zwtSU':_0x26bfae(0x324),'FUctq':function(_0x1d2e18){return _0x1d2e18();}};try{let _0x47aefb=_0x44bac7[_0x26bfae(0x1cc)];if(_0x95d008&&_0x95d008['testCaseStartedId'])_0x47aefb=_0x95d008[_0x26bfae(0x304)];else{if(_0x95d008&&_0x95d008[_0x26bfae(0x330)]&&_0x95d008['pickle']['id'])_0x47aefb=_0x95d008['pickle']['id'];else _0x44bac7[_0x26bfae(0x1fb)](typeof _0x95d008,_0x44bac7[_0x26bfae(0x386)])&&(_0x47aefb=_0x95d008);}const _0x102b62=_0x44bac7[_0x26bfae(0x374)](getWorkerDetails),_0xba9f84={};_0xba9f84['id']=_0x47aefb,_0xba9f84['testInfo']=_0x95d008,_0x102b62[_0x26bfae(0x270)]=_0xba9f84,_0x102b62[_0x26bfae(0x202)]=![],logger[_0x26bfae(0x250)]('Before\x20test\x20hook\x20executed\x20for:\x20'+(_0x95d008[_0x26bfae(0x330)]?_0x95d008[_0x26bfae(0x330)][_0x26bfae(0x2da)]:_0x95d008)+_0x26bfae(0x360)+_0x47aefb+')');}catch(_0x253f25){logger[_0x26bfae(0x250)]('Error\x20in\x20beforeTestHook:\x20'+util[_0x26bfae(0x216)](_0x253f25));}},afterTestHook=async function afterTestHook(_0x2ba37e,_0xb36dbd='passed',_0x5f2a2e=null){const _0x18f294=a9_0x5b44d1,_0x3ebd6c={'kpqAj':function(_0x588026){return _0x588026();},'tBQzv':function(_0xc119b3,_0x137d9c){return _0xc119b3&&_0x137d9c;},'QfaUh':function(_0x173e9f,_0x2c6c00){return _0x173e9f(_0x2c6c00);},'YLLrs':function(_0x45f1f2,_0x34fb9b){return _0x45f1f2(_0x34fb9b);},'SmLQj':'Unknown\x20Test','RlUTw':function(_0x2da1e2,_0x35edc2){return _0x2da1e2(_0x35edc2);},'TEgIM':_0x18f294(0x1e1),'itbMD':function(_0x46cfd6,_0x2ce150){return _0x46cfd6(_0x2ce150);},'GIsyk':_0x18f294(0x2fc),'YCvQF':function(_0xb51d6,_0x1ac750){return _0xb51d6(_0x1ac750);},'aAmII':function(_0x1099d8){return _0x1099d8();}};try{const _0x3c2ca4=_0x3ebd6c[_0x18f294(0x205)](getPageFromAutomationFramework);if(_0x3ebd6c[_0x18f294(0x2a5)](_0x3c2ca4,_0x2ba37e)&&!_0x3ebd6c[_0x18f294(0x247)](isFalse,helper['isBrowserstackInfra']())){if(!_0x3ebd6c['YLLrs'](isFalse,BrowserstackCLI[_0x18f294(0x28f)]()[_0x18f294(0x2c3)]()))try{const _0x16b19c=_0x3ebd6c[_0x18f294(0x205)](getWorkerDetails),_0x238d5f=Object['assign']({'title':_0x3ebd6c['QfaUh'](getCucumberSessionName,_0x2ba37e)||_0x3ebd6c[_0x18f294(0x38e)],'titlePath':[_0x3ebd6c[_0x18f294(0x383)](getCucumberSessionName,_0x2ba37e)||_0x3ebd6c['SmLQj']],'id':_0x16b19c[_0x18f294(0x270)]['id']||_0x3ebd6c[_0x18f294(0x26c)],'status':_0xb36dbd,'error':_0x5f2a2e?{'message':_0x5f2a2e}:null},_0x2ba37e);logger[_0x18f294(0x250)](_0x18f294(0x2e8)+(_0x3ebd6c[_0x18f294(0x33f)](getCucumberSessionName,_0x2ba37e)||_0x3ebd6c['GIsyk']));const _0x3638cb={};_0x3638cb[_0x18f294(0x2fe)]=_0x3c2ca4,_0x3638cb[_0x18f294(0x20f)]=_0x238d5f,_0x3638cb[_0x18f294(0x24d)]=FRAMEWORKS[_0x18f294(0x322)],await BrowserstackCLI['getInstance']()['getAutomationFramework']()[_0x18f294(0x296)](AutomationFrameworkState[_0x18f294(0x311)],HookState[_0x18f294(0x281)],_0x3638cb),logger[_0x18f294(0x250)](_0x18f294(0x2c4)+(_0x3ebd6c[_0x18f294(0x259)](getCucumberSessionName,_0x2ba37e)||_0x3ebd6c[_0x18f294(0x2e0)]));}catch(_0x22a4ff){logger[_0x18f294(0x250)]('Error\x20in\x20event\x20system\x20session\x20handling:\x20'+util[_0x18f294(0x216)](_0x22a4ff));}}const _0x279e06=_0x3ebd6c[_0x18f294(0x286)](getWorkerDetails),_0x281bd6={};_0x281bd6['id']=undefined,_0x281bd6['testInfo']=undefined,_0x279e06[_0x18f294(0x270)]=_0x281bd6,_0x279e06[_0x18f294(0x32b)]=null,_0x279e06[_0x18f294(0x202)]=![];try{const _0x542c81=AutomationFramework['getTrackedInstance']();_0x542c81&&AutomationFramework['setState'](_0x542c81,PlaywrightDriverModule[_0x18f294(0x225)],null);}catch(_0x30949a){logger[_0x18f294(0x250)]('Error\x20clearing\x20page\x20from\x20AutomationFramework:\x20'+util[_0x18f294(0x216)](_0x30949a));}logger['debug'](_0x18f294(0x248)+(_0x2ba37e['pickle']?_0x2ba37e[_0x18f294(0x330)]['name']:_0x2ba37e));}catch(_0x429d00){logger['debug'](_0x18f294(0x31f)+util[_0x18f294(0x216)](_0x429d00));}},a9_0x22efb0={};a9_0x22efb0[a9_0x5b44d1(0x2e9)]=mockBrowserType,a9_0x22efb0[a9_0x5b44d1(0x348)]=mockPageCreation,a9_0x22efb0[a9_0x5b44d1(0x34b)]=mockPageScreenshot,a9_0x22efb0[a9_0x5b44d1(0x37a)]=initializePlaywrightPatching,a9_0x22efb0[a9_0x5b44d1(0x1f2)]=beforeTestHook,a9_0x22efb0[a9_0x5b44d1(0x315)]=afterTestHook,a9_0x22efb0[a9_0x5b44d1(0x26e)]=executeDeferredCloses,a9_0x22efb0['isPageAvailableForSession']=isPageAvailableForSession,a9_0x22efb0['patchPageClose']=patchPageClose,a9_0x22efb0[a9_0x5b44d1(0x284)]=patchSendMessageToServer,a9_0x22efb0[a9_0x5b44d1(0x335)]=closeTracker,a9_0x22efb0['workerDetails']=workerDetails,a9_0x22efb0[a9_0x5b44d1(0x318)]=CucumberSessionDetails,module['exports']=a9_0x22efb0;const handleProcessExit=async()=>{const _0x390a58=a9_0x5b44d1,_0x23bb44={'jPWJh':'Process\x20exit\x20handler\x20called\x20-\x20executing\x20any\x20remaining\x20deferred\x20closes','ZPMPk':function(_0x272e45){return _0x272e45();}};logger[_0x390a58(0x250)](_0x23bb44[_0x390a58(0x264)]);try{await _0x23bb44[_0x390a58(0x373)](executeDeferredCloses);}catch(_0x465d7d){logger[_0x390a58(0x250)](_0x390a58(0x261)+util[_0x390a58(0x216)](_0x465d7d));}};process['on'](a9_0x5b44d1(0x292),handleProcessExit),process['on'](a9_0x5b44d1(0x2be),handleProcessExit),process['on'](a9_0x5b44d1(0x2a7),handleProcessExit),process['on'](a9_0x5b44d1(0x22c),_0x45755e=>{const _0x2fd18e=a9_0x5b44d1,_0x1e41af={'SWsLW':function(_0x7d0ea9){return _0x7d0ea9();}};logger[_0x2fd18e(0x250)]('Uncaught\x20exception,\x20executing\x20cleanup:\x20'+util[_0x2fd18e(0x216)](_0x45755e)),_0x1e41af['SWsLW'](handleProcessExit)[_0x2fd18e(0x21b)](()=>process[_0x2fd18e(0x292)](0x1));}),logger[a9_0x5b44d1(0x250)](a9_0x5b44d1(0x38a));