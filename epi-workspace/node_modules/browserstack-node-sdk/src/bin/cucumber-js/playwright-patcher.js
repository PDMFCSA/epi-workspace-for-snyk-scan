const a9_0x5eaa08=a9_0x1583;(function(_0x3c8d57,_0x5b8b89){const _0x58aeb3=a9_0x1583,_0x26cb4a=_0x3c8d57();while(!![]){try{const _0x38996b=-parseInt(_0x58aeb3(0x1c9))/0x1*(-parseInt(_0x58aeb3(0x224))/0x2)+-parseInt(_0x58aeb3(0x22a))/0x3*(-parseInt(_0x58aeb3(0x1d3))/0x4)+-parseInt(_0x58aeb3(0x1b7))/0x5+-parseInt(_0x58aeb3(0x1e4))/0x6*(-parseInt(_0x58aeb3(0x1b1))/0x7)+-parseInt(_0x58aeb3(0x252))/0x8*(-parseInt(_0x58aeb3(0xfb))/0x9)+-parseInt(_0x58aeb3(0x21f))/0xa*(parseInt(_0x58aeb3(0x124))/0xb)+parseInt(_0x58aeb3(0x1cd))/0xc*(-parseInt(_0x58aeb3(0x171))/0xd);if(_0x38996b===_0x5b8b89)break;else _0x26cb4a['push'](_0x26cb4a['shift']());}catch(_0x4d3155){_0x26cb4a['push'](_0x26cb4a['shift']());}}}(a9_0x40ea,0xc60e1));const PerformanceTester=require('../../helpers/performance/performance-tester'),debug=require(a9_0x5eaa08(0x1c5))['debug'],path=require(a9_0x5eaa08(0x111)),util=require(a9_0x5eaa08(0x158)),logger=require(a9_0x5eaa08(0x216))[a9_0x5eaa08(0x245)],playwrightHelper=require(a9_0x5eaa08(0x1e0)),helper=require('../../helpers/helper'),{requirePWModule,resolveModule,getCucumberSessionName,isFalse,isUndefined,nestedKeyValue,importFileFromPWCore}=require(a9_0x5eaa08(0x23d)),base=requirePWModule[a9_0x5eaa08(0x209)](null,[a9_0x5eaa08(0x196),a9_0x5eaa08(0x167)]),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require(a9_0x5eaa08(0x121)),HookState=require(a9_0x5eaa08(0x1d7)),AutomationFramework=require(a9_0x5eaa08(0x16b)),PlaywrightDriverModule=require(a9_0x5eaa08(0x1a9)),CucumberSessionDetails=require(a9_0x5eaa08(0x163)),{O11y_EVENTS:PerformanceO11yEvents,A11Y_EVENTS:PerformanceA11yEvents,HOOK_EVENTS:PerformanceHookEvents,EVENTS:PerformanceEvents}=require(a9_0x5eaa08(0x250)),a9_0x21dc95={};a9_0x21dc95[a9_0x5eaa08(0x1fc)]=undefined,a9_0x21dc95[a9_0x5eaa08(0x16c)]={},a9_0x21dc95['o11ySyncDone']=![],a9_0x21dc95[a9_0x5eaa08(0x115)]=null,a9_0x21dc95[a9_0x5eaa08(0x129)]=![],a9_0x21dc95[a9_0x5eaa08(0x16c)]['id']=undefined,a9_0x21dc95[a9_0x5eaa08(0x16c)][a9_0x5eaa08(0x1ed)]=undefined;const workerDetails=a9_0x21dc95,getWorkerDetails=()=>{return global['__workerDetails']||workerDetails;},isAndroidTest=_0x1537f6=>{const _0x19c7b7=a9_0x5eaa08,_0x1c33cc={};_0x1c33cc[_0x19c7b7(0x190)]='bstack:options';const _0x59b53d=_0x1c33cc;try{const _0xae955=_0x1537f6[_0x19c7b7(0x188)]||_0x1537f6[_0x19c7b7(0x24c)];if(!_0xae955)return![];const _0x3e4996=_0xae955[_0x19c7b7(0x1d0)]||_0xae955['deviceName']||_0xae955[_0x59b53d[_0x19c7b7(0x190)]]?.[_0x19c7b7(0x1d0)]||_0xae955[_0x59b53d[_0x19c7b7(0x190)]]?.['deviceName'];if(!_0x3e4996)return![];const _0x369423=_0x3e4996['toLowerCase']()['match'](/iphone|ipad/);return!_0x369423;}catch(_0x51f385){return logger['debug'](_0x19c7b7(0x14c)+util[_0x19c7b7(0x14e)](_0x51f385)),![];}},getPageFromAutomationFramework=()=>{const _0xed0086=a9_0x5eaa08;try{const _0x4c7d0d=AutomationFramework[_0xed0086(0x135)]();if(_0x4c7d0d)return AutomationFramework['getState'](_0x4c7d0d,PlaywrightDriverModule[_0xed0086(0x1bc)]);}catch(_0x25ee59){logger[_0xed0086(0x208)](_0xed0086(0x15b)+util[_0xed0086(0x14e)](_0x25ee59));}return null;},mockPageCreation=()=>{const _0x266e85=a9_0x5eaa08,_0xfcac93={'hUmic':_0x266e85(0x15d),'wtevr':function(_0x4fa83b){return _0x4fa83b();},'BBQla':function(_0x2b7df8,_0xdf4b07){return _0x2b7df8(_0xdf4b07);},'mSqrg':_0x266e85(0x113),'YWqzc':_0x266e85(0x232),'jqjpn':'lib','YAVHF':_0x266e85(0x11d),'SiJup':_0x266e85(0x1d4),'jgFwZ':function(_0x5a6eaa,_0x1b9a0e){return _0x5a6eaa(_0x1b9a0e);},'jWDTU':'Not\x20able\x20to\x20import\x20BrowserContext','MHWUb':_0x266e85(0x11b),'nmxkY':_0x266e85(0x20b)};try{const _0x590d23=[_0xfcac93['jqjpn'],_0xfcac93[_0x266e85(0x1b6)],_0xfcac93[_0x266e85(0x16f)]][_0x266e85(0x20f)]('/'),_0x4bb999=_0xfcac93['jgFwZ'](importFileFromPWCore,_0x590d23);if(!_0x4bb999){logger[_0x266e85(0x208)](_0xfcac93['jWDTU']);return;}const _0x87d3f4=_0x4bb999['BrowserContext'];if(!_0x87d3f4)return;const _0xd88694=_0x87d3f4[_0x266e85(0x241)];if(_0xd88694[_0x266e85(0x133)])return;const _0x2719e7=_0xd88694[_0x266e85(0x11b)];Object[_0x266e85(0xfd)](_0xd88694,_0xfcac93[_0x266e85(0x244)],{'get':function(){return async function _0x29bce5(..._0x54e1da){const _0x5da40d=a9_0x1583;logger[_0x5da40d(0x208)](_0xfcac93[_0x5da40d(0x228)]);const _0x19d84e=await _0x2719e7['apply'](this,_0x54e1da),_0x384a84=_0xfcac93[_0x5da40d(0x10b)](getWorkerDetails);_0x384a84[_0x5da40d(0x115)]=_0x19d84e,_0x384a84['isPageFixture']=![],_0xfcac93[_0x5da40d(0x213)](patchPageClose,_0x19d84e);if(!_0xfcac93['BBQla'](isFalse,BrowserstackCLI[_0x5da40d(0x1dd)]()['isRunning']()))try{await BrowserstackCLI['getInstance']()[_0x5da40d(0x1c3)]()['trackEvent'](AutomationFrameworkState[_0x5da40d(0x18e)],HookState[_0x5da40d(0x21e)],{'launchcaps':global[_0x5da40d(0x152)]||{},'hubUrl':BrowserstackCLI[_0x5da40d(0x1dd)]()['getConfig']()?.[_0x5da40d(0x182)]||''});const _0x4e52c7=_0x384a84[_0x5da40d(0x16c)][_0x5da40d(0x1ed)]?{'title':_0xfcac93[_0x5da40d(0x213)](getCucumberSessionName,_0x384a84[_0x5da40d(0x16c)][_0x5da40d(0x1ed)])||_0xfcac93['mSqrg'],'titlePath':[_0xfcac93['BBQla'](getCucumberSessionName,_0x384a84[_0x5da40d(0x16c)][_0x5da40d(0x1ed)])||_0xfcac93[_0x5da40d(0x11c)]],'id':_0x384a84[_0x5da40d(0x16c)]['id']||_0xfcac93[_0x5da40d(0x1a5)],..._0x384a84[_0x5da40d(0x16c)][_0x5da40d(0x1ed)]}:_0x384a84['currentTest'][_0x5da40d(0x1ed)];await BrowserstackCLI[_0x5da40d(0x1dd)]()[_0x5da40d(0x1c3)]()[_0x5da40d(0x16a)](AutomationFrameworkState['CREATE'],HookState['POST'],{'page':_0x19d84e,'context':_0x19d84e[_0x5da40d(0x1e9)](),'browser':_0x19d84e[_0x5da40d(0x1e9)]()['browser'](),'testInfo':_0x4e52c7});}catch(_0x1fa7b3){logger['debug'](_0x5da40d(0x215)+util[_0x5da40d(0x14e)](_0x1fa7b3));}return _0x19d84e;};}}),_0xd88694['cucumberPageMockApplied']=!![],logger[_0x266e85(0x208)](_0xfcac93['nmxkY']);}catch(_0x316905){logger[_0x266e85(0x208)](_0x266e85(0x1c8)+util[_0x266e85(0x14e)](_0x316905));}},patchAndroidClose=_0x29e66b=>{const _0x4c6350=a9_0x5eaa08,_0x233c40={'Rihaf':_0x4c6350(0x1eb),'qTKnm':function(_0x37b054,_0x151b77){return _0x37b054(_0x151b77);},'eqiIZ':'Android\x20browser.newContext()\x20intercepted\x20for\x20close\x20patching','lxmQr':function(_0x1bf4e3,_0x3e7d38){return _0x1bf4e3(_0x3e7d38);},'booTM':_0x4c6350(0x221),'UIvNZ':_0x4c6350(0x191),'ekITr':function(_0x5c49de,_0xd5354d){return _0x5c49de===_0xd5354d;},'hEOcQ':_0x4c6350(0x18d),'vtlln':_0x4c6350(0x18f),'PsRAx':function(_0x3650b2,_0x34aadb){return _0x3650b2===_0x34aadb;},'UgojX':_0x4c6350(0x175),'QhTFe':'Applied\x20Android\x20launchBrowser\x20patching\x20to\x20browser'};try{logger[_0x4c6350(0x208)](_0x233c40[_0x4c6350(0x17a)]);if(_0x29e66b&&_0x233c40[_0x4c6350(0x1e1)](typeof _0x29e66b[_0x4c6350(0x160)],_0x233c40[_0x4c6350(0x212)])&&!_0x29e66b[_0x4c6350(0x198)]){const _0x25c442=_0x29e66b[_0x4c6350(0x160)];_0x29e66b['close']=async function(..._0x622be2){const _0x3fbbba=_0x4c6350;logger[_0x3fbbba(0x208)](_0x233c40['Rihaf']),closeTracker[_0x3fbbba(0x203)](this);const _0x5ade01=closeTracker[_0x3fbbba(0x144)][_0x3fbbba(0x18b)](this);return _0x5ade01[_0x3fbbba(0xfc)]=_0x25c442,_0x5ade01[_0x3fbbba(0x13a)]=_0x622be2,Promise['resolve']();},_0x29e66b[_0x4c6350(0x198)]=!![],logger[_0x4c6350(0x208)](_0x233c40[_0x4c6350(0x14f)]);}if(_0x29e66b['contexts']&&_0x233c40[_0x4c6350(0x20e)](typeof _0x29e66b[_0x4c6350(0x177)],_0x233c40[_0x4c6350(0x212)])){const _0x2f7089=_0x29e66b['contexts']();_0x2f7089[_0x4c6350(0x184)](_0x46290f=>{const _0x24db4c=_0x4c6350;_0x233c40[_0x24db4c(0x193)](patchAndroidContext,_0x46290f);});}if(_0x29e66b&&_0x29e66b['newContext']&&!_0x29e66b[_0x4c6350(0x243)]){const _0x3ddda5=_0x29e66b['newContext'];_0x29e66b[_0x4c6350(0x136)]=async function(..._0x4faaa9){const _0x503737=_0x4c6350;logger[_0x503737(0x208)](_0x233c40['eqiIZ']);const _0x38c3a7=await _0x3ddda5[_0x503737(0x209)](this,_0x4faaa9);return _0x233c40[_0x503737(0x22e)](patchAndroidContext,_0x38c3a7),_0x38c3a7;},_0x29e66b[_0x4c6350(0x243)]=!![],logger[_0x4c6350(0x208)](_0x233c40[_0x4c6350(0x1a7)]);}if(_0x29e66b&&_0x29e66b[_0x4c6350(0x246)]&&!_0x29e66b[_0x4c6350(0x10a)]){const _0x29f7d4=_0x29e66b['launchBrowser'];_0x29e66b[_0x4c6350(0x246)]=async function(..._0x29d91a){const _0x2ff874=_0x4c6350;logger[_0x2ff874(0x208)](_0x233c40['booTM']);const _0x1e2f3b=await _0x29f7d4[_0x2ff874(0x209)](this,_0x29d91a);return _0x233c40[_0x2ff874(0x193)](patchAndroidContext,_0x1e2f3b),_0x1e2f3b;},_0x29e66b[_0x4c6350(0x10a)]=!![],logger[_0x4c6350(0x208)](_0x233c40[_0x4c6350(0x1d9)]);}}catch(_0x5d18b0){logger[_0x4c6350(0x208)](_0x4c6350(0x233)+util['format'](_0x5d18b0));}},patchAndroidContext=_0x38a1eb=>{const _0x49bd52=a9_0x5eaa08,_0x3b8b48={'BgDxn':'Android\x20context.close()\x20intercepted\x20and\x20deferred','nLaWL':function(_0x245f74,_0x3c3159){return _0x245f74(_0x3c3159);},'LJLEC':'Android\x20context.newPage()\x20intercepted\x20for\x20close\x20patching','DKrol':function(_0x4802fd){return _0x4802fd();},'NWBtS':_0x49bd52(0x14d),'vptxW':function(_0x244db8,_0x30bcb0){return _0x244db8===_0x30bcb0;},'nxXNs':_0x49bd52(0x18d),'gSxxs':function(_0x1c6788,_0x119bfb){return _0x1c6788===_0x119bfb;},'kxRtP':_0x49bd52(0x103)};try{if(!_0x38a1eb||_0x38a1eb[_0x49bd52(0x108)])return;logger[_0x49bd52(0x208)](_0x3b8b48[_0x49bd52(0x1af)]);if(_0x3b8b48[_0x49bd52(0x214)](typeof _0x38a1eb[_0x49bd52(0x160)],_0x3b8b48[_0x49bd52(0x1d1)])){const _0x3ff24a=_0x38a1eb['close'];_0x38a1eb[_0x49bd52(0x160)]=async function(..._0x2daa9e){const _0x27bd47=_0x49bd52;logger[_0x27bd47(0x208)](_0x3b8b48['BgDxn']),closeTracker[_0x27bd47(0x12a)](this);const _0x13fbe5=closeTracker[_0x27bd47(0x177)][_0x27bd47(0x18b)](this);return _0x13fbe5[_0x27bd47(0xfc)]=_0x3ff24a,_0x13fbe5[_0x27bd47(0x13a)]=_0x2daa9e,Promise[_0x27bd47(0x206)]();};}if(_0x38a1eb['pages']&&_0x3b8b48['gSxxs'](typeof _0x38a1eb['pages'],_0x3b8b48[_0x49bd52(0x1d1)])){const _0x5e2853=_0x38a1eb[_0x49bd52(0x14b)]();_0x5e2853[_0x49bd52(0x184)](_0x218600=>{const _0xee4060=_0x49bd52;_0x3b8b48[_0xee4060(0x189)](patchAndroidPage,_0x218600);});}if(_0x38a1eb[_0x49bd52(0x11b)]&&!_0x38a1eb['_bstackAndroidNewPagePatchApplied']){const _0x38d74e=_0x38a1eb[_0x49bd52(0x11b)];_0x38a1eb[_0x49bd52(0x11b)]=async function(..._0x346ff7){const _0x5e97e9=_0x49bd52;logger['debug'](_0x3b8b48[_0x5e97e9(0x23c)]);const _0x3dc805=await _0x38d74e['apply'](this,_0x346ff7);_0x3b8b48[_0x5e97e9(0x189)](patchAndroidPage,_0x3dc805);const _0x3fda0d=_0x3b8b48[_0x5e97e9(0x12f)](getWorkerDetails);return _0x3fda0d[_0x5e97e9(0x115)]=_0x3dc805,_0x3dc805;},_0x38a1eb[_0x49bd52(0x1fa)]=!![];}_0x38a1eb[_0x49bd52(0x108)]=!![],logger['debug'](_0x3b8b48[_0x49bd52(0x1a8)]);}catch(_0x4f0f54){logger[_0x49bd52(0x208)](_0x49bd52(0x22f)+util[_0x49bd52(0x14e)](_0x4f0f54));}},patchAndroidPage=_0x47fbb8=>{const _0x408437=a9_0x5eaa08,_0x550b6a={};_0x550b6a[_0x408437(0x1ea)]='Android\x20page.close()\x20intercepted\x20and\x20deferred',_0x550b6a[_0x408437(0x176)]='Applying\x20Android\x20page\x20close\x20patching',_0x550b6a[_0x408437(0x210)]=function(_0x19866f,_0x58760f){return _0x19866f===_0x58760f;},_0x550b6a[_0x408437(0x1c0)]=_0x408437(0x18d),_0x550b6a[_0x408437(0x1ec)]='Applied\x20Android\x20page\x20close\x20patching';const _0x43ebe5=_0x550b6a;try{if(!_0x47fbb8||_0x47fbb8[_0x408437(0x149)])return;logger[_0x408437(0x208)](_0x43ebe5['cpOfg']);if(_0x43ebe5['CawCN'](typeof _0x47fbb8[_0x408437(0x160)],_0x43ebe5[_0x408437(0x1c0)])){const _0x2b2975=_0x47fbb8[_0x408437(0x160)];_0x47fbb8[_0x408437(0x160)]=async function(..._0x4cd717){const _0xd13afc=_0x408437;logger[_0xd13afc(0x208)](_0x43ebe5[_0xd13afc(0x1ea)]),closeTracker[_0xd13afc(0x20a)](this);const _0x255c7f=closeTracker[_0xd13afc(0x14b)][_0xd13afc(0x18b)](this);return _0x255c7f[_0xd13afc(0xfc)]=_0x2b2975,_0x255c7f[_0xd13afc(0x13a)]=_0x4cd717,Promise[_0xd13afc(0x206)]();},_0x47fbb8[_0x408437(0x149)]=!![],logger[_0x408437(0x208)](_0x43ebe5[_0x408437(0x1ec)]);}}catch(_0x278b4c){logger[_0x408437(0x208)](_0x408437(0x148)+util['format'](_0x278b4c));}},closeTracker={'pages':new Map(),'contexts':new Map(),'browsers':new Map(),'safetyTimeouts':new Map(),'markPageCloseRequested':_0x51f91f=>{const _0x55012f=a9_0x5eaa08,_0x5a2f10={'QNalc':_0x55012f(0x187),'HJKah':function(_0x590268){return _0x590268();},'amAth':'Page\x20close\x20requested\x20and\x20deferred','sRPAq':function(_0x1a5ac9,_0x8c7940,_0x17ed11){return _0x1a5ac9(_0x8c7940,_0x17ed11);}};closeTracker[_0x55012f(0x14b)][_0x55012f(0x1f8)](_0x51f91f,{'closeRequested':!![],'timestamp':Date['now']()}),logger[_0x55012f(0x208)](_0x5a2f10['amAth']);const _0x479331=_0x5a2f10[_0x55012f(0x192)](setTimeout,async()=>{const _0x5b76dd=_0x55012f;logger[_0x5b76dd(0x208)](_0x5a2f10[_0x5b76dd(0x20c)]);try{await closeTracker[_0x5b76dd(0x1d5)](_0x51f91f),await _0x5a2f10['HJKah'](executeDeferredCloses);}catch(_0xc11e3b){logger[_0x5b76dd(0x208)](_0x5b76dd(0x1b9)+util['format'](_0xc11e3b));}},0x2710);closeTracker['safetyTimeouts'][_0x55012f(0x1f8)](_0x51f91f,_0x479331);},'markContextCloseRequested':_0x7953f5=>{const _0x39e310=a9_0x5eaa08,_0x4581bc={};_0x4581bc[_0x39e310(0x217)]=_0x39e310(0x1d2);const _0x15237c=_0x4581bc;closeTracker['contexts'][_0x39e310(0x1f8)](_0x7953f5,{'closeRequested':!![],'timestamp':Date['now']()}),logger[_0x39e310(0x208)](_0x15237c['SbTTg']);},'markBrowserCloseRequested':_0x3d099f=>{const _0x2b7900=a9_0x5eaa08,_0x22d322={};_0x22d322[_0x2b7900(0x230)]=_0x2b7900(0x137);const _0x5db1f5=_0x22d322;closeTracker[_0x2b7900(0x144)][_0x2b7900(0x1f8)](_0x3d099f,{'closeRequested':!![],'timestamp':Date[_0x2b7900(0x1b8)]()}),logger[_0x2b7900(0x208)](_0x5db1f5[_0x2b7900(0x230)]);},'wasCloseRequested':_0x344305=>{const _0x46b5d4=a9_0x5eaa08;return closeTracker[_0x46b5d4(0x14b)][_0x46b5d4(0x19a)](_0x344305);},'executePageClose':async _0x118d59=>{const _0x12c958=a9_0x5eaa08,_0x29087f={'DTAbj':_0x12c958(0x147),'fcAen':function(_0x5c7e17,_0x18de76){return _0x5c7e17(_0x18de76);}},_0x4bd4fb=closeTracker['pages'][_0x12c958(0x18b)](_0x118d59);if(_0x4bd4fb&&_0x4bd4fb['originalClose']){logger[_0x12c958(0x208)](_0x29087f[_0x12c958(0x1d8)]);const _0xc7825f=closeTracker[_0x12c958(0x22c)][_0x12c958(0x18b)](_0x118d59);return _0xc7825f&&(_0x29087f[_0x12c958(0x102)](clearTimeout,_0xc7825f),closeTracker[_0x12c958(0x22c)][_0x12c958(0x1de)](_0x118d59)),closeTracker[_0x12c958(0x14b)][_0x12c958(0x1de)](_0x118d59),await _0x4bd4fb['originalClose'][_0x12c958(0x209)](_0x118d59,_0x4bd4fb[_0x12c958(0x13a)]||[]);}},'executeContextClose':async _0x1d6bd6=>{const _0x26678f=a9_0x5eaa08,_0xe50cd7={};_0xe50cd7[_0x26678f(0x104)]=_0x26678f(0x24d);const _0x49c6b0=_0xe50cd7,_0x182d79=closeTracker[_0x26678f(0x177)][_0x26678f(0x18b)](_0x1d6bd6);if(_0x182d79&&_0x182d79[_0x26678f(0xfc)])return logger[_0x26678f(0x208)](_0x49c6b0[_0x26678f(0x104)]),closeTracker[_0x26678f(0x177)][_0x26678f(0x1de)](_0x1d6bd6),await _0x182d79[_0x26678f(0xfc)][_0x26678f(0x209)](_0x1d6bd6,_0x182d79['args']||[]);},'executeBrowserClose':async _0xef6ab3=>{const _0x2eb995=a9_0x5eaa08,_0x54de13={};_0x54de13[_0x2eb995(0x179)]='Executing\x20deferred\x20browser\x20close';const _0x175e63=_0x54de13,_0x5b2524=closeTracker['browsers'][_0x2eb995(0x18b)](_0xef6ab3);if(_0x5b2524&&_0x5b2524[_0x2eb995(0xfc)])return logger[_0x2eb995(0x208)](_0x175e63[_0x2eb995(0x179)]),closeTracker[_0x2eb995(0x144)][_0x2eb995(0x1de)](_0xef6ab3),await _0x5b2524['originalClose'][_0x2eb995(0x209)](_0xef6ab3,_0x5b2524[_0x2eb995(0x13a)]||[]);},'cleanup':()=>{const _0x298c76=a9_0x5eaa08,_0x5a9797={'mavWn':function(_0x687cc1,_0x58d373){return _0x687cc1(_0x58d373);}};for(const _0x73d121 of closeTracker['safetyTimeouts'][_0x298c76(0x1da)]()){_0x5a9797[_0x298c76(0x202)](clearTimeout,_0x73d121);}closeTracker[_0x298c76(0x22c)][_0x298c76(0x139)](),closeTracker['pages']['clear'](),closeTracker[_0x298c76(0x177)]['clear'](),closeTracker[_0x298c76(0x144)][_0x298c76(0x139)]();}},patchPageClose=_0x44777d=>{const _0xcc72e2=a9_0x5eaa08,_0x303d7b={'NYyAG':_0xcc72e2(0x143),'Wqspv':function(_0x491157){return _0x491157();},'Foysi':function(_0x2cc4dc,_0x15ff1){return _0x2cc4dc===_0x15ff1;},'cCcdn':_0xcc72e2(0x22d)};try{if(_0x44777d['_bstackClosePatchApplied'])return;const _0x211e6c=_0x44777d['close'];_0x44777d[_0xcc72e2(0x160)]=async function(..._0x1a5e95){const _0x134669=_0xcc72e2;logger[_0x134669(0x208)](_0x303d7b[_0x134669(0x1ab)]);const _0x168076=_0x303d7b['Wqspv'](getPageFromAutomationFramework);if(_0x303d7b['Foysi'](_0x168076,this)){closeTracker[_0x134669(0x20a)](this);const _0x371c6f=closeTracker[_0x134669(0x14b)]['get'](this);return _0x371c6f[_0x134669(0xfc)]=_0x211e6c,_0x371c6f[_0x134669(0x13a)]=_0x1a5e95,Promise[_0x134669(0x206)]();}return await _0x211e6c[_0x134669(0x209)](this,_0x1a5e95);},_0x44777d[_0xcc72e2(0x101)]=!![],logger['debug'](_0x303d7b[_0xcc72e2(0x1f3)]);}catch(_0x5ca533){logger[_0xcc72e2(0x208)](_0xcc72e2(0x1be)+util[_0xcc72e2(0x14e)](_0x5ca533));}},patchContextAndBrowserClose=()=>{const _0x3278cc=a9_0x5eaa08,_0x125d88={'zVEvb':_0x3278cc(0x21a),'UbfwE':function(_0x50cb1d){return _0x50cb1d();},'cfJii':function(_0x5b53ad,_0x373b72){return _0x5b53ad===_0x373b72;},'MgUnX':_0x3278cc(0x118),'zDTJn':_0x3278cc(0x1ba),'KZlAc':function(_0x10ac0f){return _0x10ac0f();},'MhdZp':function(_0x1f2428,_0x5f145e){return _0x1f2428===_0x5f145e;},'FKCEr':_0x3278cc(0x107),'nVCkr':'lib','piBBB':_0x3278cc(0x11d),'yMUmn':_0x3278cc(0x1d4),'wlJtH':function(_0x37b514,_0x5bc14a){return _0x37b514(_0x5bc14a);},'cpOIU':_0x3278cc(0x11a),'QLtcb':'browser.js','WZqHn':_0x3278cc(0x1b5)};try{const _0x938b65=[_0x125d88[_0x3278cc(0x1fd)],_0x125d88[_0x3278cc(0x17c)],_0x125d88[_0x3278cc(0x240)]]['join']('/'),_0x1e9db4=_0x125d88[_0x3278cc(0x205)](importFileFromPWCore,_0x938b65);if(_0x1e9db4&&_0x1e9db4[_0x3278cc(0x17d)]){const _0x20e71b=_0x1e9db4[_0x3278cc(0x17d)]['prototype'];if(!_0x20e71b['_bstackContextClosePatchApplied']){const _0x141194=_0x20e71b[_0x3278cc(0x160)];_0x20e71b['close']=async function(..._0x20a100){const _0x3ec21b=_0x3278cc;logger[_0x3ec21b(0x208)](_0x125d88[_0x3ec21b(0x142)]);const _0x3baf81=_0x125d88['UbfwE'](getPageFromAutomationFramework);if(_0x3baf81&&_0x125d88[_0x3ec21b(0x12d)](_0x3baf81['context'](),this)){logger[_0x3ec21b(0x208)](_0x125d88['MgUnX']),closeTracker[_0x3ec21b(0x12a)](this);const _0x4c98e8=closeTracker['contexts'][_0x3ec21b(0x18b)](this);return _0x4c98e8['originalClose']=_0x141194,_0x4c98e8[_0x3ec21b(0x13a)]=_0x20a100,Promise[_0x3ec21b(0x206)]();}return await _0x141194[_0x3ec21b(0x209)](this,_0x20a100);},_0x20e71b[_0x3278cc(0x218)]=!![],logger[_0x3278cc(0x208)](_0x125d88[_0x3278cc(0x17f)]);}}const _0x214f8f=[_0x125d88['nVCkr'],_0x125d88[_0x3278cc(0x17c)],_0x125d88[_0x3278cc(0x150)]][_0x3278cc(0x20f)]('/'),_0x33ad89=_0x125d88[_0x3278cc(0x205)](importFileFromPWCore,_0x214f8f);if(_0x33ad89&&_0x33ad89['Browser']){const _0x50ce20=_0x33ad89[_0x3278cc(0x162)][_0x3278cc(0x241)];if(!_0x50ce20[_0x3278cc(0x1ad)]){const _0x344b71=_0x50ce20['close'];_0x50ce20['close']=async function(..._0x29e673){const _0xf6ad0f=_0x3278cc;logger[_0xf6ad0f(0x208)](_0x125d88['zDTJn']);const _0x48d7d8=_0x125d88[_0xf6ad0f(0x10c)](getPageFromAutomationFramework);if(_0x48d7d8&&_0x125d88[_0xf6ad0f(0x117)](_0x48d7d8[_0xf6ad0f(0x1e9)]()[_0xf6ad0f(0x134)](),this)){logger[_0xf6ad0f(0x208)](_0x125d88[_0xf6ad0f(0x20d)]),closeTracker[_0xf6ad0f(0x203)](this);const _0x41dc8a=closeTracker['browsers'][_0xf6ad0f(0x18b)](this);return _0x41dc8a['originalClose']=_0x344b71,_0x41dc8a[_0xf6ad0f(0x13a)]=_0x29e673,Promise[_0xf6ad0f(0x206)]();}return await _0x344b71[_0xf6ad0f(0x209)](this,_0x29e673);},_0x50ce20[_0x3278cc(0x1ad)]=!![],logger[_0x3278cc(0x208)](_0x125d88[_0x3278cc(0x1bd)]);}}}catch(_0x4a1c3f){logger[_0x3278cc(0x208)](_0x3278cc(0x219)+util['format'](_0x4a1c3f));}},executeDeferredCloses=async()=>{const _0x11ed68=a9_0x5eaa08,_0x2d8b1f={'cWPcs':function(_0x22aa3a){return _0x22aa3a();},'lLjYU':'Retrieved\x20managed\x20page\x20from\x20AutomationFramework','hPRlq':'Adding\x20delay\x20before\x20executing\x20deferred\x20closes\x20to\x20ensure\x20session\x20status\x20is\x20marked','oYMXa':function(_0x358c17,_0x58ade2){return _0x358c17>_0x58ade2;},'jgNmJ':_0x11ed68(0x147),'Tymjv':_0x11ed68(0x195),'awUWF':_0x11ed68(0x23f),'aMaGB':_0x11ed68(0x24d),'FzCrn':_0x11ed68(0x112),'GTUdG':'No\x20deferred\x20context\x20closes\x20to\x20execute','BdhMY':_0x11ed68(0x1a6),'cmmGO':'Deferred\x20browser\x20close\x20completed\x20successfully','tdPtM':_0x11ed68(0x155),'uXWkH':_0x11ed68(0x1b0)};try{const _0x34650b=_0x2d8b1f[_0x11ed68(0x248)](getWorkerDetails);let _0x539b27=_0x34650b['pwPage'];!_0x539b27&&(_0x539b27=_0x2d8b1f[_0x11ed68(0x248)](getPageFromAutomationFramework),logger['debug'](_0x2d8b1f[_0x11ed68(0x15c)]));logger[_0x11ed68(0x208)](_0x11ed68(0x231)+!!_0x539b27+_0x11ed68(0x1d6)+closeTracker[_0x11ed68(0x14b)][_0x11ed68(0x201)]+_0x11ed68(0x1c1)+closeTracker[_0x11ed68(0x177)][_0x11ed68(0x201)]+_0x11ed68(0x1ef)+closeTracker[_0x11ed68(0x144)][_0x11ed68(0x201)]),logger[_0x11ed68(0x208)](_0x2d8b1f[_0x11ed68(0x1b4)]),await new Promise(_0xd6f24e=>setTimeout(_0xd6f24e,0xbb8));if(_0x2d8b1f[_0x11ed68(0x194)](closeTracker[_0x11ed68(0x14b)][_0x11ed68(0x201)],0x0)){logger[_0x11ed68(0x208)](_0x11ed68(0x159)+closeTracker[_0x11ed68(0x14b)][_0x11ed68(0x201)]+_0x11ed68(0x13e));const _0x4adc04=Array[_0x11ed68(0x10d)](closeTracker['pages'][_0x11ed68(0x222)]());for(const _0x1e9a57 of _0x4adc04){try{logger['debug'](_0x2d8b1f['jgNmJ']),await closeTracker['executePageClose'](_0x1e9a57),logger[_0x11ed68(0x208)](_0x2d8b1f[_0x11ed68(0x126)]);}catch(_0x448f77){logger['debug'](_0x11ed68(0x200)+util[_0x11ed68(0x14e)](_0x448f77));}}}else logger[_0x11ed68(0x208)](_0x2d8b1f[_0x11ed68(0x1bb)]);if(_0x2d8b1f[_0x11ed68(0x194)](closeTracker[_0x11ed68(0x177)][_0x11ed68(0x201)],0x0)){logger[_0x11ed68(0x208)](_0x11ed68(0x159)+closeTracker['contexts'][_0x11ed68(0x201)]+'\x20deferred\x20context\x20closes');const _0x3ea395=Array[_0x11ed68(0x10d)](closeTracker[_0x11ed68(0x177)][_0x11ed68(0x222)]());for(const _0x169c58 of _0x3ea395){try{logger[_0x11ed68(0x208)](_0x2d8b1f[_0x11ed68(0x1a0)]),await closeTracker[_0x11ed68(0x242)](_0x169c58),logger[_0x11ed68(0x208)](_0x2d8b1f[_0x11ed68(0x1b2)]);}catch(_0x35a29c){logger[_0x11ed68(0x208)]('Error\x20executing\x20deferred\x20context\x20close:\x20'+util['format'](_0x35a29c));}}}else logger['debug'](_0x2d8b1f['GTUdG']);if(_0x2d8b1f['oYMXa'](closeTracker['browsers'][_0x11ed68(0x201)],0x0)){logger[_0x11ed68(0x208)](_0x11ed68(0x159)+closeTracker['browsers'][_0x11ed68(0x201)]+_0x11ed68(0x1a4));const _0x3cc039=Array[_0x11ed68(0x10d)](closeTracker['browsers'][_0x11ed68(0x222)]());for(const _0x314770 of _0x3cc039){try{logger[_0x11ed68(0x208)](_0x2d8b1f['BdhMY']),await closeTracker[_0x11ed68(0x1ee)](_0x314770),logger['debug'](_0x2d8b1f['cmmGO']);}catch(_0x2dc73f){logger[_0x11ed68(0x208)](_0x11ed68(0x1ac)+util[_0x11ed68(0x14e)](_0x2dc73f));}}}else logger[_0x11ed68(0x208)](_0x2d8b1f[_0x11ed68(0x1df)]);logger[_0x11ed68(0x208)](_0x2d8b1f[_0x11ed68(0x109)]);}catch(_0xde0340){logger[_0x11ed68(0x208)](_0x11ed68(0x178)+util['format'](_0xde0340));}},isPageAvailableForSession=_0x325b83=>{const _0x167edc=a9_0x5eaa08,_0x50cfb6={};_0x50cfb6[_0x167edc(0x1e3)]='Page\x20is\x20null/undefined,\x20not\x20available\x20for\x20session\x20operations',_0x50cfb6[_0x167edc(0x14a)]=_0x167edc(0x1f6);const _0x2b269b=_0x50cfb6;if(!_0x325b83)return logger[_0x167edc(0x208)](_0x2b269b[_0x167edc(0x1e3)]),![];try{if(closeTracker[_0x167edc(0x186)](_0x325b83))return logger[_0x167edc(0x208)](_0x2b269b[_0x167edc(0x14a)]),!![];const _0x53233f=_0x325b83[_0x167edc(0x1f9)]&&_0x325b83[_0x167edc(0x1f9)]();return logger['debug'](_0x167edc(0x237)+_0x53233f),!_0x53233f;}catch(_0x394fb5){return logger[_0x167edc(0x208)](_0x167edc(0x128)+util['format'](_0x394fb5)),![];}},mockBrowserType=_0x5296d3=>{const _0x389be7=a9_0x5eaa08,_0x257848={'BUqGk':function(_0x5132bb,_0x268020){return _0x5132bb>_0x268020;},'YMOLw':'project','aAjnI':_0x389be7(0x24f),'fzBWO':function(_0xb5e712){return _0xb5e712();},'UFyig':function(_0x1c60f3){return _0x1c60f3();},'eqvDO':function(_0x4a8f32,_0x4fbb0e){return _0x4a8f32(_0x4fbb0e);},'fHZQi':function(_0x17239d){return _0x17239d();},'Iesga':'Unknown\x20Test','ZQllq':function(_0x94aa7e,_0x4fe805){return _0x94aa7e(_0x4fe805);},'eheDj':_0x389be7(0x232),'cyaTH':_0x389be7(0x238),'MJlwi':_0x389be7(0x161),'zcZPw':_0x389be7(0x170),'ayZiZ':_0x389be7(0x183),'tYgnj':function(_0x3cbf8e){return _0x3cbf8e();},'eIJUw':function(_0x27ec3b){return _0x27ec3b();},'YAZJN':function(_0x21ac90,_0x5d88ad){return _0x21ac90(_0x5d88ad);},'vSAFE':function(_0xc2f1e7){return _0xc2f1e7();},'XxINN':function(_0x7ddac6){return _0x7ddac6();},'WnTsP':_0x389be7(0x18a),'WpKoF':_0x389be7(0x12b),'UDODS':_0x389be7(0x17e),'fHTmV':_0x389be7(0x140),'hoUld':_0x389be7(0x24a),'qtiCo':'Successfully\x20patched\x20Playwright\x20BrowserType\x20for\x20Cucumber-JS'};if(!playwrightHelper['isPlaywrightAvailable']()){logger[_0x389be7(0x208)](_0x257848[_0x389be7(0x1f5)]);return;}try{const _0x51bc44=playwrightHelper[_0x389be7(0x21b)]();if(!_0x51bc44){logger['debug'](_0x257848['WpKoF']);return;}const _0x1bfcdd=_0x51bc44['prototype'];if(_0x1bfcdd[_0x389be7(0x1e2)]){logger[_0x389be7(0x208)](_0x257848[_0x389be7(0x236)]);return;}const _0x5be34a=_0x1bfcdd['launch'],_0x4169eb=_0x1bfcdd[_0x389be7(0x24a)],_0x26b534=_0x257848[_0x389be7(0x1f7)](isAndroidTest,_0x5296d3);logger[_0x389be7(0x208)](_0x389be7(0x197)+_0x26b534),Object[_0x389be7(0xfd)](_0x1bfcdd,_0x257848[_0x389be7(0x154)],{'get':function(){return async function _0x402708(..._0x4fd9a7){const _0x4eef6c=a9_0x1583,_0x1ce691={'WvGni':function(_0x4e2b04,_0x5be6fe){const _0x4eca0a=a9_0x1583;return _0x257848[_0x4eca0a(0x225)](_0x4e2b04,_0x5be6fe);},'kYFZw':_0x257848[_0x4eef6c(0x172)],'dQLjb':_0x257848[_0x4eef6c(0x11f)],'VawYE':function(_0x44d87d){return _0x257848['fzBWO'](_0x44d87d);},'XScYW':function(_0x4cd8b2){const _0x45bda0=_0x4eef6c;return _0x257848[_0x45bda0(0x227)](_0x4cd8b2);},'yUGWe':function(_0x167e07,_0xd06d15){const _0x2779b0=_0x4eef6c;return _0x257848[_0x2779b0(0x122)](_0x167e07,_0xd06d15);},'UkWdQ':function(_0x14b83f){const _0x3f8e12=_0x4eef6c;return _0x257848[_0x3f8e12(0x166)](_0x14b83f);},'AmBtE':_0x257848[_0x4eef6c(0x17b)],'kcnnM':function(_0xe41c24,_0x415b42){const _0x2e754a=_0x4eef6c;return _0x257848[_0x2e754a(0x1f7)](_0xe41c24,_0x415b42);},'ZZRhq':function(_0x1d22e2){return _0x257848['fHZQi'](_0x1d22e2);},'PWWwi':_0x257848[_0x4eef6c(0x12e)]};logger['debug'](_0x4eef6c(0x15a)+_0x26b534+')');try{let _0x558a55=_0x5296d3['capability']||_0x5296d3['platformCaps'];global[_0x4eef6c(0x152)]&&(_0x558a55=Object[_0x4eef6c(0x123)]({},global[_0x4eef6c(0x152)],_0x558a55));if(!_0x558a55)return logger[_0x4eef6c(0x208)](_0x257848[_0x4eef6c(0x1cf)]),_0x5be34a[_0x4eef6c(0x209)](this,_0x4fd9a7);if(_0x26b534){logger[_0x4eef6c(0x208)](_0x257848[_0x4eef6c(0x23a)]);const _0x4a9bf2=playwrightHelper['generatePlaywrightUrl'](_0x5296d3,_0x558a55);logger[_0x4eef6c(0x208)](_0x4eef6c(0x19b)+_0x4a9bf2);if(base[_0x4eef6c(0x1f0)]&&base[_0x4eef6c(0x1f0)]['connect'])return base[_0x4eef6c(0x1f0)][_0x4eef6c(0x24a)]['apply'](this,[_0x4a9bf2])[_0x4eef6c(0x151)](async _0x44aaf1=>{const _0x4324be=_0x4eef6c,_0x249d12={'Iftek':function(_0x30a0de,_0x205097){const _0x3ba09d=a9_0x1583;return _0x1ce691[_0x3ba09d(0x10e)](_0x30a0de,_0x205097);},'OppbT':_0x1ce691[_0x4324be(0x120)],'bRvSR':_0x1ce691['dQLjb']},_0x296710=_0x1ce691[_0x4324be(0x1c4)](getWorkerDetails)[_0x4324be(0x16c)]['testInfo']||_0x1ce691[_0x4324be(0x211)](getWorkerDetails)[_0x4324be(0x1fc)];_0x1ce691['yUGWe'](patchAndroidClose,_0x44aaf1),_0x44aaf1[_0x4324be(0x136)]=function(){const _0x247d4f=_0x4324be;return _0x249d12[_0x247d4f(0x110)](arguments[_0x247d4f(0x174)],0x0)&&(arguments[0x0]=Object[_0x247d4f(0x123)](arguments[0x0],helper[_0x247d4f(0x1e8)](_0x296710,[_0x249d12[_0x247d4f(0x1cc)],_0x249d12['bRvSR']])||{})),_0x44aaf1[_0x247d4f(0x246)]['apply'](this,arguments);};if(_0x44aaf1){const _0x29307e={};_0x29307e[_0x4324be(0x24f)]={};const _0x2c24d2={..._0x296710};_0x2c24d2[_0x4324be(0x247)]=_0x558a55,_0x2c24d2[_0x4324be(0x1b3)]=_0x296710?.[_0x4324be(0x1b3)]||_0x29307e;const _0x3420f2=_0x2c24d2;await CucumberSessionDetails[_0x4324be(0x1ce)](_0x44aaf1,_0x3420f2,_0x4a9bf2);}const {bsParams:_0x3973ba,bStackParams:_0x98717f}=CucumberSessionDetails[_0x4324be(0x156)](_0x4a9bf2,_0x558a55);await CucumberSessionDetails[_0x4324be(0x13b)](_0x3973ba,_0x98717f);if(!_0x1ce691[_0x4324be(0x13d)](isFalse,BrowserstackCLI[_0x4324be(0x1dd)]()['isRunning']())){const _0x188b15=_0x1ce691[_0x4324be(0x1c4)](getWorkerDetails)[_0x4324be(0x16c)][_0x4324be(0x1ed)]?{'title':_0x1ce691[_0x4324be(0x13d)](getCucumberSessionName,_0x1ce691['UkWdQ'](getWorkerDetails)[_0x4324be(0x16c)][_0x4324be(0x1ed)])||_0x1ce691[_0x4324be(0x11e)],'titlePath':[_0x1ce691[_0x4324be(0x1a1)](getCucumberSessionName,_0x1ce691[_0x4324be(0x1c4)](getWorkerDetails)[_0x4324be(0x16c)]['testInfo'])||_0x1ce691['AmBtE']],'id':_0x1ce691[_0x4324be(0x100)](getWorkerDetails)['currentTest']['id']||_0x1ce691[_0x4324be(0x16e)],..._0x1ce691[_0x4324be(0x1c4)](getWorkerDetails)[_0x4324be(0x16c)][_0x4324be(0x1ed)]}:null,_0x55f566={};_0x55f566[_0x4324be(0x134)]=_0x44aaf1,_0x55f566[_0x4324be(0x1ed)]=_0x188b15,await BrowserstackCLI[_0x4324be(0x1dd)]()[_0x4324be(0x1c3)]()[_0x4324be(0x16a)](AutomationFrameworkState[_0x4324be(0x18e)],HookState[_0x4324be(0x19f)],_0x55f566);}return _0x44aaf1;});return logger['debug'](_0x257848[_0x4eef6c(0xfa)]),_0x1bfcdd[_0x4eef6c(0x24a)][_0x4eef6c(0x209)](this,[_0x4a9bf2]);}logger[_0x4eef6c(0x208)](_0x257848['ayZiZ']);const _0x2ece73=playwrightHelper[_0x4eef6c(0x22b)](_0x5296d3,_0x558a55);logger[_0x4eef6c(0x208)](_0x4eef6c(0x173)+_0x2ece73);const {bsParams:_0x37bcf9,bStackParams:_0x489259}=CucumberSessionDetails[_0x4eef6c(0x156)](_0x2ece73,_0x558a55);return await CucumberSessionDetails['triggerPlaywrightDispatchEvent'](_0x37bcf9,_0x489259),_0x1bfcdd[_0x4eef6c(0x24a)]['apply'](this,[_0x2ece73]);}catch(_0x1ee9b1){return logger[_0x4eef6c(0x208)](_0x4eef6c(0x18c)+util[_0x4eef6c(0x14e)](_0x1ee9b1)),_0x5be34a[_0x4eef6c(0x209)](this,_0x4fd9a7);}};}}),Object['defineProperty'](_0x1bfcdd,_0x257848[_0x389be7(0x19d)],{'get':function(){return async function _0xd64eda(..._0x522ff3){const _0x4f4c66=a9_0x1583;logger[_0x4f4c66(0x208)](_0x4f4c66(0x185)+_0x26b534+')');try{const _0x421988=await _0x4169eb[_0x4f4c66(0x209)](this,_0x522ff3),_0x5558a3=_0x522ff3[0x0];let _0x180421=_0x5296d3[_0x4f4c66(0x188)]||_0x5296d3['platformCaps'];global[_0x4f4c66(0x152)]&&(_0x180421=Object[_0x4f4c66(0x123)]({},global[_0x4f4c66(0x152)],_0x180421));const _0x1fe9e2=_0x257848[_0x4f4c66(0x227)](getWorkerDetails)['currentTest'][_0x4f4c66(0x1ed)]||_0x257848[_0x4f4c66(0x1f4)](getWorkerDetails)['workerInfo'];if(_0x421988){const _0x400ae5={};_0x400ae5['use']={};const _0x185624={..._0x1fe9e2};_0x185624[_0x4f4c66(0x247)]=_0x180421,_0x185624[_0x4f4c66(0x1b3)]=_0x1fe9e2?.['project']||_0x400ae5;const _0x41c904=_0x185624;await CucumberSessionDetails['setupBrowserDetails'](_0x421988,_0x41c904,_0x5558a3);}const {bsParams:_0x60a88d,bStackParams:_0x5cdf40}=CucumberSessionDetails['extractBrowserStackParams'](_0x5558a3,_0x180421);await CucumberSessionDetails[_0x4f4c66(0x13b)](_0x60a88d,_0x5cdf40);if(!_0x26b534&&!_0x257848[_0x4f4c66(0x1f7)](isFalse,BrowserstackCLI[_0x4f4c66(0x1dd)]()[_0x4f4c66(0x181)]())){const _0x43b845=_0x257848[_0x4f4c66(0x16d)](getWorkerDetails)['currentTest']['testInfo']?{'title':_0x257848[_0x4f4c66(0x122)](getCucumberSessionName,_0x257848['eIJUw'](getWorkerDetails)[_0x4f4c66(0x16c)][_0x4f4c66(0x1ed)])||_0x257848['Iesga'],'titlePath':[_0x257848[_0x4f4c66(0x138)](getCucumberSessionName,_0x257848['vSAFE'](getWorkerDetails)[_0x4f4c66(0x16c)]['testInfo'])||_0x257848[_0x4f4c66(0x17b)]],'id':_0x257848['fzBWO'](getWorkerDetails)['currentTest']['id']||_0x257848[_0x4f4c66(0x12e)],..._0x257848[_0x4f4c66(0x10f)](getWorkerDetails)[_0x4f4c66(0x16c)][_0x4f4c66(0x1ed)]}:null,_0xe7342c={};_0xe7342c[_0x4f4c66(0x134)]=_0x421988,_0xe7342c['testInfo']=_0x43b845,await BrowserstackCLI[_0x4f4c66(0x1dd)]()[_0x4f4c66(0x1c3)]()[_0x4f4c66(0x16a)](AutomationFrameworkState[_0x4f4c66(0x18e)],HookState[_0x4f4c66(0x19f)],_0xe7342c);}return _0x421988;}catch(_0x34eb65){logger['debug'](_0x4f4c66(0x199)+util[_0x4f4c66(0x14e)](_0x34eb65));throw _0x34eb65;}};}}),_0x1bfcdd['cucumberJsMockApplied']=!![],logger[_0x389be7(0x208)](_0x257848['qtiCo']);}catch(_0x383db1){logger[_0x389be7(0x208)](_0x389be7(0x15f)+util[_0x389be7(0x14e)](_0x383db1));}},initializePlaywrightPatching=_0x13232c=>{const _0x304301=a9_0x5eaa08,_0x5bb13c={'hPfTF':'6|0|5|3|4|1|2','VFPCx':'BrowserStack\x20automation\x20disabled;\x20skipping\x20Playwright\x20patching','fGzbT':function(_0x2c2f64){return _0x2c2f64();},'FzCMy':function(_0x4c9e64,_0x2ba709){return _0x4c9e64(_0x2ba709);},'cvRWT':_0x304301(0x132),'kaiPk':'No\x20configuration\x20provided\x20for\x20Playwright\x20patching'};try{const _0x322aed=_0x5bb13c[_0x304301(0x13f)]['split']('|');let _0xe36e=0x0;while(!![]){switch(_0x322aed[_0xe36e++]){case'0':if(!helper[_0x304301(0x19c)]()){logger[_0x304301(0x208)](_0x5bb13c[_0x304301(0x1ff)]);return;}continue;case'1':_0x5bb13c[_0x304301(0x141)](mockPageCreation);continue;case'2':_0x5bb13c['fGzbT'](patchContextAndBrowserClose);continue;case'3':CucumberSessionDetails['patch']();continue;case'4':_0x5bb13c[_0x304301(0x13c)](mockBrowserType,_0x13232c);continue;case'5':logger['debug'](_0x5bb13c[_0x304301(0x157)]);continue;case'6':if(!_0x13232c){logger[_0x304301(0x208)](_0x5bb13c[_0x304301(0x169)]);return;}continue;}break;}}catch(_0x73557e){logger[_0x304301(0x208)]('Error\x20initializing\x20Playwright\x20patching:\x20'+util['format'](_0x73557e));}},beforeTestHook=async function beforeTestHook(_0x283d4a){const _0x13f1bd=a9_0x5eaa08,_0x465580={'besqF':_0x13f1bd(0x232),'yijwX':function(_0x4a03bb,_0x479716){return _0x4a03bb===_0x479716;},'kzMUq':_0x13f1bd(0x180),'WRiRL':function(_0x327485){return _0x327485();}};try{let _0x3ebc7a=_0x465580[_0x13f1bd(0x1e5)];if(_0x283d4a&&_0x283d4a[_0x13f1bd(0x1ca)]&&_0x283d4a[_0x13f1bd(0x1ca)]['id'])_0x3ebc7a=_0x283d4a['pickle']['id'];else{if(_0x283d4a&&_0x283d4a[_0x13f1bd(0x21c)])_0x3ebc7a=_0x283d4a[_0x13f1bd(0x21c)];else _0x465580[_0x13f1bd(0x165)](typeof _0x283d4a,_0x465580[_0x13f1bd(0x130)])&&(_0x3ebc7a=_0x283d4a);}const _0x346c87=_0x465580[_0x13f1bd(0x1a3)](getWorkerDetails),_0x5b9dbb={};_0x5b9dbb['id']=_0x3ebc7a,_0x5b9dbb[_0x13f1bd(0x1ed)]=_0x283d4a,_0x346c87[_0x13f1bd(0x16c)]=_0x5b9dbb,_0x346c87[_0x13f1bd(0x129)]=![],logger[_0x13f1bd(0x208)](_0x13f1bd(0x235)+(_0x283d4a[_0x13f1bd(0x1ca)]?_0x283d4a[_0x13f1bd(0x1ca)][_0x13f1bd(0x1e6)]:_0x283d4a)+'\x20(ID:\x20'+_0x3ebc7a+')');}catch(_0x554388){logger[_0x13f1bd(0x208)](_0x13f1bd(0x204)+util[_0x13f1bd(0x14e)](_0x554388));}},afterTestHook=async function afterTestHook(_0x150025,_0x154a73='passed',_0x3c3d73=null){const _0x292b4b=a9_0x5eaa08,_0x2e2ac8={'iiQgk':function(_0x3df981){return _0x3df981();},'zfSZY':function(_0x3f10c0,_0x4d4918){return _0x3f10c0&&_0x4d4918;},'sBZCC':function(_0x1fb926,_0xf35cc8){return _0x1fb926(_0xf35cc8);},'eEFto':function(_0x105bd7){return _0x105bd7();},'RNVKQ':function(_0x3bb0bf,_0x43a92b){return _0x3bb0bf(_0x43a92b);},'QalxB':_0x292b4b(0x113),'AkhqV':_0x292b4b(0x232),'SdWBc':function(_0x4abfd5,_0x3c90bc){return _0x4abfd5(_0x3c90bc);},'RTGBu':_0x292b4b(0x251),'ZLJIZ':function(_0x1c0bab,_0x4ae7da){return _0x1c0bab(_0x4ae7da);},'KqNRT':function(_0xa47af4){return _0xa47af4();},'ggVeR':function(_0x7f4da8){return _0x7f4da8();}};try{const _0x309030=_0x2e2ac8[_0x292b4b(0x1f1)](getPageFromAutomationFramework);if(_0x2e2ac8[_0x292b4b(0x24b)](_0x309030,_0x150025)&&!_0x2e2ac8[_0x292b4b(0x1aa)](isFalse,helper[_0x292b4b(0x19c)]())){if(!_0x2e2ac8['sBZCC'](isFalse,BrowserstackCLI[_0x292b4b(0x1dd)]()[_0x292b4b(0x181)]())){try{const _0x286add=_0x2e2ac8['eEFto'](getWorkerDetails),_0x405944=Object[_0x292b4b(0x123)]({'title':_0x2e2ac8[_0x292b4b(0x119)](getCucumberSessionName,_0x150025)||_0x2e2ac8[_0x292b4b(0x1a2)],'titlePath':[_0x2e2ac8[_0x292b4b(0x1aa)](getCucumberSessionName,_0x150025)||_0x2e2ac8['QalxB']],'id':_0x286add[_0x292b4b(0x16c)]['id']||_0x2e2ac8[_0x292b4b(0x127)],'status':_0x154a73,'error':_0x3c3d73?{'message':_0x3c3d73}:null},_0x150025);logger[_0x292b4b(0x208)](_0x292b4b(0xfe)+(_0x2e2ac8[_0x292b4b(0x21d)](getCucumberSessionName,_0x150025)||_0x2e2ac8[_0x292b4b(0x19e)]));const _0x5ab3d7={};_0x5ab3d7[_0x292b4b(0x1f2)]=_0x309030,_0x5ab3d7[_0x292b4b(0x1ed)]=_0x405944,await BrowserstackCLI[_0x292b4b(0x1dd)]()['getAutomationFramework']()['trackEvent'](AutomationFrameworkState[_0x292b4b(0x239)],HookState[_0x292b4b(0x19f)],_0x5ab3d7),logger[_0x292b4b(0x208)](_0x292b4b(0x164)+(_0x2e2ac8[_0x292b4b(0x119)](getCucumberSessionName,_0x150025)||_0x2e2ac8[_0x292b4b(0x19e)])),await _0x2e2ac8[_0x292b4b(0x168)](executeDeferredCloses),logger[_0x292b4b(0x208)](_0x292b4b(0xff)+(_0x2e2ac8[_0x292b4b(0x1bf)](getCucumberSessionName,_0x150025)||_0x2e2ac8[_0x292b4b(0x19e)]));}catch(_0x2e7ec2){logger[_0x292b4b(0x208)](_0x292b4b(0x23b)+util[_0x292b4b(0x14e)](_0x2e7ec2));}await _0x2e2ac8[_0x292b4b(0x229)](executeDeferredCloses);}}else try{await _0x2e2ac8[_0x292b4b(0x125)](executeDeferredCloses);}catch(_0xa5c01){logger[_0x292b4b(0x208)]('Error\x20executing\x20deferred\x20closes\x20in\x20cleanup:\x20'+util['format'](_0xa5c01));}const _0x4d13a6=_0x2e2ac8[_0x292b4b(0x229)](getWorkerDetails),_0x3f7b75={};_0x3f7b75['id']=undefined,_0x3f7b75['testInfo']=undefined,_0x4d13a6[_0x292b4b(0x16c)]=_0x3f7b75,_0x4d13a6[_0x292b4b(0x115)]=null,_0x4d13a6['isPageFixture']=![];try{const _0x2342af=AutomationFramework[_0x292b4b(0x135)]();_0x2342af&&AutomationFramework[_0x292b4b(0x220)](_0x2342af,PlaywrightDriverModule[_0x292b4b(0x1bc)],null);}catch(_0x1962f4){logger[_0x292b4b(0x208)]('Error\x20clearing\x20page\x20from\x20AutomationFramework:\x20'+util['format'](_0x1962f4));}closeTracker[_0x292b4b(0x1ae)](),logger[_0x292b4b(0x208)](_0x292b4b(0x12c)+(_0x150025[_0x292b4b(0x1ca)]?_0x150025[_0x292b4b(0x1ca)]['name']:_0x150025));}catch(_0x55b9f9){logger[_0x292b4b(0x208)]('Error\x20in\x20afterTestHook:\x20'+util[_0x292b4b(0x14e)](_0x55b9f9));}},test=base['test'][a9_0x5eaa08(0x106)]({'page':async({page:_0x266f51},_0x5f46a4,_0x122951)=>{const _0x31ab05=a9_0x5eaa08,_0x4904d6={'aFCYT':function(_0x2bfcf4){return _0x2bfcf4();},'JTHoa':function(_0xbd6201,_0xd24e6e){return _0xbd6201(_0xd24e6e);},'JEyCL':function(_0x5dd976,_0x1b1967){return _0x5dd976(_0x1b1967);}},_0x30015d=_0x4904d6[_0x31ab05(0x15e)](getWorkerDetails);_0x30015d['pwPage']=_0x266f51,_0x30015d[_0x31ab05(0x129)]=!![];if(!_0x4904d6[_0x31ab05(0x1c7)](isFalse,BrowserstackCLI[_0x31ab05(0x1dd)]()[_0x31ab05(0x181)]()))try{await BrowserstackCLI[_0x31ab05(0x1dd)]()[_0x31ab05(0x1c3)]()['trackEvent'](AutomationFrameworkState[_0x31ab05(0x18e)],HookState[_0x31ab05(0x21e)],{'launchcaps':global['__platformCaps']||{},'hubUrl':BrowserstackCLI[_0x31ab05(0x1dd)]()[_0x31ab05(0x116)]()?.[_0x31ab05(0x182)]||''}),await BrowserstackCLI[_0x31ab05(0x1dd)]()['getAutomationFramework']()[_0x31ab05(0x16a)](AutomationFrameworkState[_0x31ab05(0x18e)],HookState[_0x31ab05(0x19f)],{'page':_0x266f51,'context':_0x266f51[_0x31ab05(0x1e9)](),'browser':_0x266f51[_0x31ab05(0x1e9)]()[_0x31ab05(0x134)](),'testInfo':_0x122951});}catch(_0x18e638){logger[_0x31ab05(0x208)]('Error\x20triggering\x20driver\x20creation\x20hooks:\x20'+util[_0x31ab05(0x14e)](_0x18e638));}await _0x4904d6[_0x31ab05(0x1fb)](_0x5f46a4,_0x266f51);}}),a9_0x45e4a1={};a9_0x45e4a1[a9_0x5eaa08(0x24e)]=mockBrowserType,a9_0x45e4a1[a9_0x5eaa08(0x1dc)]=mockPageCreation,a9_0x45e4a1[a9_0x5eaa08(0x207)]=initializePlaywrightPatching,a9_0x45e4a1[a9_0x5eaa08(0x23e)]=beforeTestHook,a9_0x45e4a1[a9_0x5eaa08(0x226)]=afterTestHook,a9_0x45e4a1[a9_0x5eaa08(0x249)]=executeDeferredCloses,a9_0x45e4a1[a9_0x5eaa08(0x234)]=isPageAvailableForSession,a9_0x45e4a1['patchPageClose']=patchPageClose,a9_0x45e4a1[a9_0x5eaa08(0x1db)]=closeTracker,a9_0x45e4a1[a9_0x5eaa08(0x153)]=test,a9_0x45e4a1[a9_0x5eaa08(0x145)]=workerDetails,a9_0x45e4a1[a9_0x5eaa08(0x131)]=CucumberSessionDetails,module[a9_0x5eaa08(0x1e7)]=a9_0x45e4a1;function a9_0x1583(_0x474960,_0xb29f4f){const _0x40ea86=a9_0x40ea();return a9_0x1583=function(_0x1583f8,_0x4136df){_0x1583f8=_0x1583f8-0xfa;let _0x5b7004=_0x40ea86[_0x1583f8];return _0x5b7004;},a9_0x1583(_0x474960,_0xb29f4f);}const handleProcessExit=async()=>{const _0x163ae7=a9_0x5eaa08,_0xe9d361={'StCdN':_0x163ae7(0x1cb),'NKROv':function(_0x554d85){return _0x554d85();}};logger[_0x163ae7(0x208)](_0xe9d361[_0x163ae7(0x1c6)]);try{await _0xe9d361['NKROv'](executeDeferredCloses);}catch(_0x476919){logger[_0x163ae7(0x208)](_0x163ae7(0x223)+util[_0x163ae7(0x14e)](_0x476919));}};process['on'](a9_0x5eaa08(0x114),handleProcessExit),process['on']('SIGINT',handleProcessExit),process['on'](a9_0x5eaa08(0x1c2),handleProcessExit),process['on'](a9_0x5eaa08(0x146),_0x525ef7=>{const _0x46781c=a9_0x5eaa08,_0x39a4d3={'LExuU':function(_0x5b074b){return _0x5b074b();}};logger[_0x46781c(0x208)](_0x46781c(0x1fe)+util[_0x46781c(0x14e)](_0x525ef7)),_0x39a4d3[_0x46781c(0x105)](handleProcessExit)[_0x46781c(0x151)](()=>process[_0x46781c(0x114)](0x1));}),logger[a9_0x5eaa08(0x208)]('Playwright\x20patcher\x20initialized\x20with\x20Android\x20support\x20and\x20deferred\x20close\x20system');function a9_0x40ea(){const _0xaff6fe=['VawYE','../../helpers/test-observability/utils','StCdN','JTHoa','Error\x20patching\x20page\x20creation:\x20','1OMlmij','pickle','Process\x20exit\x20handler\x20called\x20-\x20executing\x20any\x20remaining\x20deferred\x20closes','OppbT','29328EhdYEp','setupBrowserDetails','cyaTH','device','nxXNs','Context\x20close\x20requested\x20and\x20deferred','230236uPZUKv','browserContext.js','executePageClose',',\x20Pages\x20tracked:\x20','../v2/state/hookState','DTAbj','QhTFe','values','closeTracker','mockPageCreation','getInstance','delete','tdPtM','../../helpers/playwright-helper','ekITr','cucumberJsMockApplied','lwCaE','48KeKgog','besqF','name','exports','nestedKeyValue','context','gWBpm','Android\x20browser.close()\x20intercepted\x20and\x20deferred','jvxAK','testInfo','executeBrowserClose',',\x20Browsers\x20tracked:\x20','_android','iiQgk','page','cCcdn','fzBWO','WnTsP','Page\x20close\x20was\x20requested\x20but\x20deferred,\x20still\x20available\x20for\x20session\x20operations','ZQllq','set','isClosed','_bstackAndroidNewPagePatchApplied','JEyCL','workerInfo','nVCkr','Uncaught\x20exception,\x20executing\x20cleanup:\x20','VFPCx','Error\x20executing\x20deferred\x20page\x20close:\x20','size','mavWn','markBrowserCloseRequested','Error\x20in\x20beforeTestHook:\x20','wlJtH','resolve','initializePlaywrightPatching','debug','apply','markPageCloseRequested','Successfully\x20patched\x20BrowserContext.newPage\x20for\x20Cucumber-JS','QNalc','FKCEr','PsRAx','join','CawCN','XScYW','hEOcQ','BBQla','vptxW','Error\x20triggering\x20driver\x20creation\x20hooks:\x20','../../helpers/logger','SbTTg','_bstackContextClosePatchApplied','Error\x20patching\x20context/browser\x20close:\x20','Cucumber-JS\x20context.close()\x20intercepted','getPlaywrightBrowserType','testCaseStartedId','SdWBc','PRE','745090ZKBXnb','setState','Android\x20browser.launchBrowser()\x20intercepted\x20for\x20close\x20patching','keys','Error\x20in\x20process\x20exit\x20handler:\x20','784378LNzMZP','BUqGk','afterTestHook','UFyig','hUmic','KqNRT','33ydLwnJ','generatePlaywrightUrl','safetyTimeouts','Applied\x20close\x20patch\x20to\x20Playwright\x20page','lxmQr','Error\x20patching\x20Android\x20context:\x20','MtMjy','Starting\x20deferred\x20close\x20execution.\x20Managed\x20page:\x20','cucumber-test','Error\x20patching\x20Android\x20browser\x20methods:\x20','isPageAvailableForSession','Before\x20test\x20hook\x20executed\x20for:\x20','UDODS','Page\x20closed\x20status:\x20','No\x20capabilities\x20found,\x20using\x20original\x20launch','EXECUTE','MJlwi','Error\x20in\x20event\x20system\x20session\x20handling:\x20','LJLEC','../../helpers/helper','beforeTestHook','No\x20deferred\x20page\x20closes\x20to\x20execute','yMUmn','prototype','executeContextClose','_bstackAndroidNewContextPatchApplied','MHWUb','winstonLogger','launchBrowser','capabilities','cWPcs','executeDeferredCloses','connect','zfSZY','platformCaps','Executing\x20deferred\x20context\x20close','mockBrowserType','use','../../helpers/performance/constants','Unknown','7704xRZExJ','zcZPw','9756raWOZC','originalClose','defineProperty','Starting\x20event\x20system\x20session\x20handling\x20for\x20test:\x20','Deferred\x20closes\x20executed\x20for\x20test:\x20','ZZRhq','_bstackClosePatchApplied','fcAen','Applied\x20Android\x20context\x20close\x20patching','DIOco','LExuU','extend','Deferring\x20browser\x20close\x20for\x20managed\x20page','_bstackAndroidContextPatchApplied','uXWkH','_bstackAndroidLaunchBrowserPatchApplied','wtevr','KZlAc','from','WvGni','XxINN','Iftek','path','Deferred\x20context\x20close\x20completed\x20successfully','Unknown\x20Test','exit','pwPage','getConfig','MhdZp','Deferring\x20context\x20close\x20for\x20managed\x20page','RNVKQ','Applied\x20close\x20patch\x20to\x20BrowserContext','newPage','mSqrg','client','AmBtE','aAjnI','kYFZw','../v2/state/automationFrameworkState','eqvDO','assign','99EujMzE','ggVeR','Tymjv','AkhqV','Error\x20checking\x20page\x20availability:\x20','isPageFixture','markContextCloseRequested','Could\x20not\x20get\x20BrowserType\x20class,\x20skipping\x20patching','After\x20test\x20hook\x20executed\x20for:\x20','cfJii','eheDj','DKrol','kzMUq','CucumberSessionDetails','Initializing\x20Playwright\x20patching\x20for\x20Cucumber-JS','cucumberPageMockApplied','browser','getTrackedInstance','newContext','Browser\x20close\x20requested\x20and\x20deferred','YAZJN','clear','args','triggerPlaywrightDispatchEvent','FzCMy','yUGWe','\x20deferred\x20page\x20closes','hPfTF','launch','fGzbT','zVEvb','Cucumber-JS\x20page.close()\x20intercepted\x20and\x20deferred','browsers','workerDetails','uncaughtException','Executing\x20deferred\x20page\x20close','Error\x20patching\x20Android\x20page:\x20','_bstackAndroidPagePatchApplied','VtlWg','pages','Error\x20detecting\x20Android\x20test:\x20','Applying\x20Android\x20context\x20close\x20patching','format','vtlln','QLtcb','then','__platformCaps','test','fHTmV','No\x20deferred\x20browser\x20closes\x20to\x20execute','extractBrowserStackParams','cvRWT','util','Executing\x20','Cucumber-JS\x20Playwright\x20launch\x20intercepted\x20(Android:\x20','Error\x20getting\x20page\x20from\x20AutomationFramework:\x20','lLjYU','Cucumber-JS\x20newPage\x20intercepted','aFCYT','Error\x20patching\x20Playwright\x20BrowserType:\x20','close','Using\x20Android-specific\x20connection\x20logic','Browser','./cucumber-sessionDetails','Event\x20system\x20session\x20handling\x20completed\x20for\x20test:\x20','yijwX','fHZQi','@playwright/test','eEFto','kaiPk','trackEvent','../v2/framework/automationFramework','currentTest','tYgnj','PWWwi','SiJup','Android\x20connection\x20not\x20available,\x20falling\x20back\x20to\x20CDP\x20connect','2756PpRqpB','YMOLw','Generated\x20Playwright\x20CDP\x20URL:\x20','length','Applied\x20Android\x20newContext\x20patching\x20to\x20browser','cpOfg','contexts','Error\x20executing\x20deferred\x20closes:\x20','rwWbE','UIvNZ','Iesga','piBBB','BrowserContext','Cucumber-JS\x20Playwright\x20patching\x20already\x20applied','cpOIU','string','isRunning','hubUrl','Using\x20web/desktop\x20CDP\x20approach','forEach','Cucumber-JS\x20Playwright\x20connect\x20intercepted\x20(Android:\x20','wasCloseRequested','Safety\x20timeout\x20triggered\x20for\x20deferred\x20page\x20close','capability','nLaWL','Playwright\x20not\x20available,\x20skipping\x20browser\x20type\x20mocking','get','Error\x20in\x20Playwright\x20launch\x20patching:\x20','function','CREATE','Applied\x20Android\x20close\x20patch\x20to\x20browser','JGViF','Applying\x20comprehensive\x20Android-specific\x20close\x20patching','sRPAq','qTKnm','oYMXa','Deferred\x20page\x20close\x20completed\x20successfully','@playwright/test/index.js','Android\x20test\x20detected:\x20','_bstackAndroidClosePatchApplied','Error\x20in\x20Playwright\x20connect:\x20','has','Generated\x20Android\x20WebSocket\x20URL:\x20','isBrowserstackInfra','hoUld','RTGBu','POST','aMaGB','kcnnM','QalxB','WRiRL','\x20deferred\x20browser\x20closes','YWqzc','Executing\x20deferred\x20browser\x20close','UgojX','kxRtP','../v2/modules/playwrightDriverModule','sBZCC','NYyAG','Error\x20executing\x20deferred\x20browser\x20close:\x20','_bstackBrowserClosePatchApplied','cleanup','NWBtS','Completed\x20execution\x20of\x20all\x20deferred\x20close\x20operations','795193YoCvkU','FzCrn','project','hPRlq','Applied\x20close\x20patch\x20to\x20Browser','YAVHF','4890400EPdliN','now','Error\x20in\x20safety\x20timeout\x20execution:\x20','Cucumber-JS\x20browser.close()\x20intercepted','awUWF','KEY_PAGE_OBJECT','WZqHn','Error\x20patching\x20page\x20close:\x20','ZLJIZ','BBbVh',',\x20Contexts\x20tracked:\x20','SIGTERM','getAutomationFramework'];a9_0x40ea=function(){return _0xaff6fe;};return a9_0x40ea();}