function a6_0x482b(_0x3d75b3,_0x3c4081){const _0x38da65=a6_0x38da();return a6_0x482b=function(_0x482b5c,_0xb93b50){_0x482b5c=_0x482b5c-0x19a;let _0x50a78c=_0x38da65[_0x482b5c];return _0x50a78c;},a6_0x482b(_0x3d75b3,_0x3c4081);}const a6_0x48a570=a6_0x482b;(function(_0x16b18b,_0x43c505){const _0x3e3a4c=a6_0x482b,_0x2a1e3d=_0x16b18b();while(!![]){try{const _0x38a5b2=-parseInt(_0x3e3a4c(0x1b2))/0x1*(-parseInt(_0x3e3a4c(0x1ec))/0x2)+-parseInt(_0x3e3a4c(0x215))/0x3*(parseInt(_0x3e3a4c(0x1b8))/0x4)+parseInt(_0x3e3a4c(0x1fe))/0x5+parseInt(_0x3e3a4c(0x258))/0x6+parseInt(_0x3e3a4c(0x1b0))/0x7*(-parseInt(_0x3e3a4c(0x254))/0x8)+-parseInt(_0x3e3a4c(0x1f1))/0x9*(parseInt(_0x3e3a4c(0x25d))/0xa)+-parseInt(_0x3e3a4c(0x219))/0xb*(-parseInt(_0x3e3a4c(0x1dd))/0xc);if(_0x38a5b2===_0x43c505)break;else _0x2a1e3d['push'](_0x2a1e3d['shift']());}catch(_0x5f044d){_0x2a1e3d['push'](_0x2a1e3d['shift']());}}}(a6_0x38da,0x7f97e));const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require('../../../helpers/helper'),util=require(a6_0x48a570(0x1d3)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x48a570(0x217)),TestDetails=require(a6_0x48a570(0x247)),TestObservabilityReporter=require(a6_0x48a570(0x22d)),{o11yClassErrorHandler}=require(a6_0x48a570(0x256)),{shouldProcessEventForTesthub}=require(a6_0x48a570(0x272)),BrowserstackCLI=require(a6_0x48a570(0x1a7)),TestFrameworkState=require(a6_0x48a570(0x235)),HookState=require(a6_0x48a570(0x21a)),CucumberUtils=require(a6_0x48a570(0x234)),TestInfo=require(a6_0x48a570(0x1f5)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require('../../../helpers/logger')[a6_0x48a570(0x1e1)],_tests={},_testCasesData={};function a6_0x38da(){const _0x1cbf1b=['3773212BHAlIw','hook','cphoK','rule','path','format','source','VZEet','parseTestCaseAttempt','hook_type','testCaseMap','cFDBK','testStepStarted','onHook','trackEvent','seconds','aNyqt','failure','finished_at','qbdPJ','cliInitPromise','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','createTestFrameworkData','FhCyZ','PENDING','hooks','onTestRunStarted','util','hPaWa','find','IGpqO','includes','aPSpY','ASwLQ','kBzTu','supportCodeLibrary','result','12jcpWNN','incrementCounter','CcJSc','pickle','winstonLogger','IwYiM','gherkinDocumentMap','sendHook','oWmjM','Executing\x20tests\x20for\x20','text','test','getGherkinStepMap','cucumber','UnhandledError','56994AIaaQn','gxbdE','onStepDefinition','onTestCaseStarted','Exception\x20in\x20onTestStepFinished\x20event:\x20','1935qetOfe','HookRunStarted','extractStepContainers','isBstackHook','../../../bin/v2/TestInfo.js','testUUID','getTestCaseAttempt','assign','testSteps','snippetBuilder','bootstrap','LOG_REPORT','JWDYq','2424990cNbVQh','eventBroadcaster','CONFIG','UNKNOWN','XKiWc','uri','POST','toISOString','SKIPPED','testStepId','steps','envelope','PASSED','_performCLIInitialization','onSource','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','testCaseId','eventDataCollector','testCaseAttemptDataMap','testCases','background','LSgPj','finishedAt','3zsmpfR','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','@cucumber/cucumber','testCaseStarted','22340791UhIdJV','../../v2/state/hookState.js','2|3|4|0|1','forEach','push','onGherkinDocument','map','bstack','lnOnP','tPzlD','flat','ensureCLIInitialized','Exception\x20in\x20onTestStepStarted\x20event:\x20','\x20\x20\x20\x20','CUCUMBER','RvDen','testStepResult','actionLocation','values','toLowerCase','../test-observability.js','gdxoa','feature','exports','duration','binSessionId','YTmwc','../../v2/utils/cucumber-utils.js','../../v2/state/testFrameworkState.js','ITgIS','../../v2/cliUtils','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','pickleStepId','keyword','report','DKHKU','getGherkinDocument','onTestStepFinished','cucumber-js/test.setup.js','createHookData','logTestCaseFinished','testCaseStartedId','FofOt','EdySi','sendTestRunEventForCucumber','PRE','../../playwright/reporter/test-details.js','pickleId','isCliEnabled','logTestRunFinished','status','name','yPmGY','CLI\x20already\x20running\x20-\x20binSessionId:\x20','SFdmM','getTestFramework','xYyHe','onTestCase','XIftk','66384QlNdUn','onTestRunFinished','../../../helpers/test-observability/error-handler','TestRunFinished','3559014CxdBIb','OlUdQ','AMBIGUOUS','failureType','log','41490UauCwU','etheY','ENDeb','onTestCaseFinished','testCase','\x20-\x20','isCLIReady','onPickle','testRunFinished','cwd','fHVYe','noKaK','description','TEST','vHNaE','IlwWk','__platform',',\x20binSessionId:\x20','getInstance','HookRunFinished','toString','../../../helpers/testhub/utils.js','scenario','setFrameworkDetail','ALdRZ','PLAYWRIGHT','debug','setup','onTestStepStarted','bAsuK','gherkinDocument','pickleMap','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','jBtzQ','TestRunStarted','UNDEFINED','wzvNb','WJEPq','testCaseAttempt','../../v2/browserstackCLI.js','bsIIY','isRunning','cfQMr','JozZy','testStepFinished','getTestUUID','type','IuWSR','826nEIOjA','FAILED','8vOCCXU','exception','env','testCaseFinished','lfRdw','message'];a6_0x38da=function(){return _0x1cbf1b;};return a6_0x38da();}class BrowserstackFormatter extends Formatter{constructor(_0x40a147){const _0x3a2ecb=a6_0x48a570,_0x1109b={};_0x1109b[_0x3a2ecb(0x1ab)]=_0x3a2ecb(0x209);const _0x38431d=_0x1109b;super(_0x40a147),this['report']={},_0x40a147[_0x3a2ecb(0x1ff)]['on'](_0x38431d[_0x3a2ecb(0x1ab)],async _0x700017=>{const _0x927c2e=_0x3a2ecb;switch(!![]){case!!_0x700017['testRunStarted']:this['onTestRunStarted'](_0x700017['testRunStarted']);break;case!!_0x700017['testRunFinished']:this[_0x927c2e(0x255)](_0x700017[_0x927c2e(0x265)]);break;case!!_0x700017['testCaseStarted']:this[_0x927c2e(0x1ef)](_0x700017['testCaseStarted'],_0x40a147,_0x700017);break;case!!_0x700017[_0x927c2e(0x1b5)]:this[_0x927c2e(0x260)](_0x700017[_0x927c2e(0x1b5)],_0x40a147,_0x700017);break;case!!_0x700017['testStepStarted']:this['onTestStepStarted'](_0x700017[_0x927c2e(0x1c4)],_0x40a147);break;case!!_0x700017['testStepFinished']:this['onTestStepFinished'](_0x700017[_0x927c2e(0x1ac)],_0x40a147);break;case!!_0x700017[_0x927c2e(0x1b9)]:this[_0x927c2e(0x1c5)](_0x700017[_0x927c2e(0x1b9)]);break;case!!_0x700017[_0x927c2e(0x261)]:this[_0x927c2e(0x252)](_0x700017[_0x927c2e(0x261)]);break;case!!_0x700017['pickle']:this[_0x927c2e(0x264)](_0x700017[_0x927c2e(0x1e0)]);break;case!!_0x700017[_0x927c2e(0x19e)]:this['onGherkinDocument'](_0x700017[_0x927c2e(0x19e)]);break;}});}[a6_0x48a570(0x1c5)](_0x4d0fb9){const _0x53d36c=a6_0x48a570;this[_0x53d36c(0x23b)][_0x53d36c(0x1d1)]=Object[_0x53d36c(0x1f8)]([],this[_0x53d36c(0x23b)]['hooks']||[]),this[_0x53d36c(0x23b)][_0x53d36c(0x1d1)]['push'](_0x4d0fb9);}[a6_0x48a570(0x264)](_0x3ec1a5){const _0x16161b=a6_0x48a570;this[_0x16161b(0x23b)][_0x16161b(0x1e0)]=Object['assign']([],this[_0x16161b(0x23b)][_0x16161b(0x1e0)]||[],[_0x3ec1a5]),this[_0x16161b(0x23b)]['pickle'][_0x16161b(0x21d)](_0x3ec1a5);}[a6_0x48a570(0x21e)](_0x267fd8){const _0x47152f=a6_0x48a570;this[_0x47152f(0x23b)][_0x47152f(0x19e)]=Object[_0x47152f(0x1f8)]([],this[_0x47152f(0x23b)][_0x47152f(0x19e)]||[],[_0x267fd8]),this[_0x47152f(0x23b)][_0x47152f(0x19e)][_0x47152f(0x21d)](_0x267fd8);}[a6_0x48a570(0x20c)](_0x493fab){const _0x42b9db=a6_0x48a570;this['report'][_0x42b9db(0x1be)]=_0x493fab;}[a6_0x48a570(0x1ee)](_0x440829){const _0x4b9187=a6_0x48a570;this[_0x4b9187(0x23b)]['stepDefinition']=Object[_0x4b9187(0x1f8)]([],this[_0x4b9187(0x23b)]['stepDefinition']||[],[_0x440829]),this[_0x4b9187(0x23b)]['stepDefinition'][_0x4b9187(0x21d)](_0x440829);}['onTestCase'](_0x377fd5){const _0x374a47=a6_0x48a570;this[_0x374a47(0x23b)][_0x374a47(0x211)]=Object[_0x374a47(0x1f8)]([],this[_0x374a47(0x23b)][_0x374a47(0x211)]||[],[_0x377fd5]),this[_0x374a47(0x23b)][_0x374a47(0x211)][_0x374a47(0x21d)](_0x377fd5);}[a6_0x48a570(0x241)](_0x4a3b2d){const _0x461067=a6_0x48a570,_0x4b175b={'VPMGI':function(_0x5983c1,_0x133bb7){return _0x5983c1!==_0x133bb7;},'IuWSR':_0x461067(0x220),'vHNaE':function(_0x5a4d2d,_0x15d6c0){return _0x5a4d2d+_0x15d6c0;},'ilqoi':_0x461067(0x226),'cphoK':_0x461067(0x262),'aSLlt':function(_0x2bf21a,_0x1996ef){return _0x2bf21a===_0x1996ef;},'hPaWa':'FAILED','XIftk':function(_0x37906a,_0x526499,_0x20f957){return _0x37906a(_0x526499,_0x20f957);},'SFdmM':_0x461067(0x1dc),'aPSpY':_0x461067(0x1b7),'cfQWg':function(_0x1e3bc2,_0x3fdbda){return _0x1e3bc2+_0x3fdbda;},'EdySi':function(_0x18a66b,_0x20c1e8){return _0x18a66b+_0x20c1e8;},'ENDeb':function(_0x2c48a5,_0x5ecde3){return _0x2c48a5+_0x5ecde3;},'ASwLQ':function(_0x2d1d22,_0x396a16){return _0x2d1d22!==_0x396a16;},'YTmwc':function(_0x24a4a6,_0x10bced){return _0x24a4a6+_0x10bced;},'zGKdV':function(_0x5a4ad6,_0x120bdd){return _0x5a4ad6+_0x120bdd;},'IlwWk':function(_0x3895dd,_0x101eae){return _0x3895dd+_0x101eae;}};_0x4b175b[_0x461067(0x1d9)](global[_0x461067(0x26d)],undefined)&&this[_0x461067(0x25c)](_0x4b175b[_0x461067(0x233)](_0x4b175b[_0x461067(0x26b)]('\x0a',global[_0x461067(0x26d)]),'\x0a'));const _0x120c48=this[_0x461067(0x20f)][_0x461067(0x1f7)](_0x4a3b2d[_0x461067(0x242)]);this[_0x461067(0x25c)](_0x4b175b[_0x461067(0x233)](_0x4b175b['zGKdV'](_0x4b175b[_0x461067(0x26c)](_0x4b175b[_0x461067(0x26c)]('\x20\x20',_0x120c48[_0x461067(0x19e)][_0x461067(0x22f)]['name']),_0x4b175b[_0x461067(0x1ba)]),_0x120c48['pickle'][_0x461067(0x24c)]),'\x0a'));const _0x36fcce={};_0x36fcce[_0x461067(0x266)]=this[_0x461067(0x266)],_0x36fcce[_0x461067(0x1fa)]=this['snippetBuilder'],_0x36fcce[_0x461067(0x1db)]=this[_0x461067(0x1db)],_0x36fcce[_0x461067(0x1a6)]=_0x120c48;const _0xf3d5a9=formatterHelpers[_0x461067(0x1c0)](_0x36fcce);let _0x2dd0d5=![];_0xf3d5a9[_0x461067(0x1f9)][_0x461067(0x21c)](_0x54b117=>{const _0x50e4c2=_0x461067;if(_0x4b175b['VPMGI'](_0x54b117['name'],_0x4b175b[_0x50e4c2(0x1af)])&&!this[_0x50e4c2(0x1f4)](_0x54b117)){totalTests+=0x1,this['log'](_0x4b175b[_0x50e4c2(0x26b)](_0x4b175b[_0x50e4c2(0x26b)](_0x4b175b[_0x50e4c2(0x26b)](_0x4b175b[_0x50e4c2(0x26b)](_0x4b175b[_0x50e4c2(0x26b)](_0x4b175b['ilqoi'],_0x54b117[_0x50e4c2(0x23a)]),_0x54b117['text']||''),_0x4b175b[_0x50e4c2(0x1ba)]),Status[_0x54b117[_0x50e4c2(0x1dc)][_0x50e4c2(0x24b)]]),'\x0a')),this[_0x50e4c2(0x1de)](Status[_0x54b117[_0x50e4c2(0x1dc)][_0x50e4c2(0x24b)]]);if(_0x4b175b['aSLlt'](Status[_0x54b117[_0x50e4c2(0x1dc)][_0x50e4c2(0x24b)]],_0x4b175b[_0x50e4c2(0x1d4)])){_0x2dd0d5=!![];const _0x4c039b=_0x4b175b[_0x50e4c2(0x253)](nestedKeyValue,_0x54b117,[_0x4b175b[_0x50e4c2(0x24f)],_0x4b175b[_0x50e4c2(0x1d8)]]);_0x4c039b&&(testsErrorMessage[_0x4b175b['cfQWg'](_0x4b175b[_0x50e4c2(0x244)](_0x120c48[_0x50e4c2(0x19e)][_0x50e4c2(0x22f)][_0x50e4c2(0x24c)],_0x4b175b[_0x50e4c2(0x1ba)]),_0x120c48[_0x50e4c2(0x1e0)][_0x50e4c2(0x24c)])]=_0x4c039b,this[_0x50e4c2(0x25c)](_0x4b175b[_0x50e4c2(0x25f)](_0x4c039b,'\x0a')));}}}),_0x2dd0d5&&(testSuitesFailed+=0x1),this[_0x461067(0x25c)]('\x0a');}[a6_0x48a570(0x24a)](_0x5ee0df){}[a6_0x48a570(0x1f4)](_0x1b9615){const _0x8deb7c=a6_0x48a570,_0x47b4d6={};_0x47b4d6[_0x8deb7c(0x213)]=function(_0x9f8a0,_0x4276db){return _0x9f8a0!==_0x4276db;},_0x47b4d6[_0x8deb7c(0x1fd)]=_0x8deb7c(0x23f);const _0x83a711=_0x47b4d6;if(_0x83a711[_0x8deb7c(0x213)](_0x1b9615['sourceLocation'],undefined))return![];if(_0x1b9615[_0x8deb7c(0x22a)]&&_0x1b9615[_0x8deb7c(0x22a)][_0x8deb7c(0x203)][_0x8deb7c(0x1d7)](_0x83a711[_0x8deb7c(0x1fd)]))return!![];return![];}[a6_0x48a570(0x1de)](_0x5184e3){const _0x3439eb=a6_0x48a570,_0x28bc40={};_0x28bc40[_0x3439eb(0x1a4)]=_0x3439eb(0x1b1),_0x28bc40[_0x3439eb(0x1e5)]=_0x3439eb(0x20a),_0x28bc40[_0x3439eb(0x1e2)]=_0x3439eb(0x206),_0x28bc40[_0x3439eb(0x25e)]=_0x3439eb(0x1d0),_0x28bc40[_0x3439eb(0x23c)]=_0x3439eb(0x1a3),_0x28bc40['kBzTu']=_0x3439eb(0x201),_0x28bc40[_0x3439eb(0x236)]=_0x3439eb(0x25a);const _0x6fe8=_0x28bc40;switch(_0x5184e3){case _0x6fe8[_0x3439eb(0x1a4)]:testsFailed+=0x1;break;case _0x6fe8[_0x3439eb(0x1e5)]:testsPassed+=0x1;break;case _0x6fe8['IwYiM']:testsSkipped+=0x1;break;case _0x6fe8[_0x3439eb(0x25e)]:testsPending+=0x1;break;case _0x6fe8['DKHKU']:testsUndefined+=0x1;break;case _0x6fe8[_0x3439eb(0x1da)]:testsUnknown+=0x1;break;case _0x6fe8[_0x3439eb(0x236)]:testsAmbiguous+=0x1;break;default:break;}}async[a6_0x48a570(0x1d2)](_0x37adde){const _0x2fc461=a6_0x48a570,_0x7a65e6={'ALdRZ':function(_0x2ba248,_0x142b2d){return _0x2ba248!==_0x142b2d;},'lnOnP':function(_0x4494b9,_0xb5775c){return _0x4494b9!==_0xb5775c;},'VZEet':function(_0x57547e){return _0x57547e();},'yPmGY':function(_0x228a26,_0x21e410){return _0x228a26(_0x21e410);},'mnYnY':function(_0x23752e,_0x11cfd7){return _0x23752e+_0x11cfd7;},'BWVcg':function(_0x4c779d){return _0x4c779d();},'aNyqt':_0x2fc461(0x1ea)};let _0x90e9f5;if(_0x7a65e6[_0x2fc461(0x275)](process[_0x2fc461(0x1b4)][_0x2fc461(0x200)],undefined)){const _0x42170d=JSON['parse'](process[_0x2fc461(0x1b4)][_0x2fc461(0x200)]);_0x90e9f5=_0x42170d['capability'];}_0x7a65e6[_0x2fc461(0x221)](_0x90e9f5,undefined)&&_0x7a65e6[_0x2fc461(0x1bf)](isBrowserstackInfra)&&(global[_0x2fc461(0x26d)]=_0x7a65e6[_0x2fc461(0x24d)](getPlatformName,_0x90e9f5),this['log'](_0x7a65e6['mnYnY'](_0x2fc461(0x1e6)+global[_0x2fc461(0x26d)],'\x0a'))),_0x7a65e6['BWVcg'](shouldProcessEventForTesthub)&&(TestDetails['setup'](),this[_0x2fc461(0x23b)]['testRunStarted']=_0x37adde,BrowserstackCLI[_0x2fc461(0x26f)]()[_0x2fc461(0x249)]()&&await this['isCLIReady']()&&(TestInfo[_0x2fc461(0x19b)](_0x7a65e6[_0x2fc461(0x1c8)]),await BrowserstackCLI[_0x2fc461(0x26f)]()[_0x2fc461(0x250)]()['trackEvent'](TestFrameworkState['INIT_TEST'],HookState['PRE'],{})));}[a6_0x48a570(0x255)](_0x280828){const _0x370542=a6_0x48a570;this[_0x370542(0x23b)]['testRunFinished']=_0x280828,this[_0x370542(0x24a)](_0x280828);}async[a6_0x48a570(0x1ef)](_0x2363cd,_0x334235,_0x116360){const _0x522825=a6_0x48a570,_0x160f50={'cfQMr':function(_0x2edad2,_0x54a54b){return _0x2edad2(_0x54a54b);},'cFDBK':_0x522825(0x1a2),'oQZIJ':function(_0x5dca6d,_0x111324){return _0x5dca6d&&_0x111324;}};testSuites+=0x1;if(_0x160f50[_0x522825(0x1aa)](shouldProcessEventForTesthub,_0x160f50[_0x522825(0x1c3)]))try{this[_0x522825(0x23b)]['testCaseStarted']=this[_0x522825(0x23b)][_0x522825(0x218)]||{},this['report']['testCaseStarted'][_0x2363cd['id']]=_0x2363cd;let _0x169d4b=null;BrowserstackCLI[_0x522825(0x26f)]()[_0x522825(0x249)]()&&await this[_0x522825(0x263)]()?_0x169d4b=TestInfo[_0x522825(0x1ad)](_0x2363cd['id']):_0x169d4b=TestDetails[_0x522825(0x1ad)](_0x2363cd['id']);_testCasesData[_0x2363cd['id']]=Object['assign']({},_0x116360);const _0x1917af=this[_0x522825(0x23b)],_0x5078de=_0x2363cd['testCaseId'],_0x2731dd=_0x1917af[_0x522825(0x211)][_0x522825(0x1d5)](_0xac7b2e=>_0xac7b2e['id']===_0x5078de)[_0x522825(0x248)],_0x918da4=_0x1917af[_0x522825(0x1e0)][_0x522825(0x1d5)](_0x53eb09=>_0x53eb09['id']===_0x2731dd),_0x3d53bc=_0x1917af[_0x522825(0x19e)][_0x522825(0x1d5)](_0xd36d60=>_0xd36d60[_0x522825(0x203)]===_0x918da4[_0x522825(0x203)]),_0x45824c=_0x3d53bc[_0x522825(0x22f)],_0x1e6fca={'uuid':_0x169d4b,'startedAt':new Date()[_0x522825(0x205)]()};if(_0x918da4){const _0x507904={};_0x507904[_0x522825(0x24c)]=_0x918da4[_0x522825(0x24c)],_0x1e6fca[_0x522825(0x273)]=_0x507904;}if(_0x160f50['oQZIJ'](_0x3d53bc,_0x45824c)){const _0x1003ca={};_0x1003ca[_0x522825(0x1bc)]=_0x3d53bc[_0x522825(0x203)],_0x1003ca['name']=_0x45824c['name'],_0x1003ca[_0x522825(0x269)]=_0x45824c[_0x522825(0x269)],_0x1e6fca[_0x522825(0x22f)]=_0x1003ca;}_tests[_0x5078de]=_0x1e6fca;if(BrowserstackCLI['getInstance']()[_0x522825(0x249)]()&&await this[_0x522825(0x263)]()){const _0x8656c0=await cucumberUtils[_0x522825(0x1ce)](_0x1e6fca,_0x918da4,_0x116360,_0x3d53bc,_0x2363cd['id'],_0x160f50[_0x522825(0x1c3)]),_0x388a08={};_0x388a08[_0x522825(0x1e8)]=_0x8656c0,await BrowserstackCLI[_0x522825(0x26f)]()[_0x522825(0x250)]()[_0x522825(0x1c6)](TestFrameworkState[_0x522825(0x26a)],HookState[_0x522825(0x246)],_0x388a08);return;}await testObservabilityReporter['sendTestRunEventForCucumber'](_0x116360,_0x3d53bc,_0x918da4,_0x160f50['cFDBK'],_0x1e6fca);}catch(_0x247ea4){logger[_0x522825(0x19a)]('Exception\x20in\x20sending\x20onTestCaseStarted:\x20'+util[_0x522825(0x1bd)](_0x247ea4)+'\x20');}}async[a6_0x48a570(0x260)](_0x3a52e6,_0x2bd842,_0x42730c){const _0x463d7d=a6_0x48a570,_0x187d6a={'CcJSc':function(_0x1882f9,_0x5e5079){return _0x1882f9(_0x5e5079);},'fHVYe':_0x463d7d(0x257),'WaKHn':_0x463d7d(0x1e8)};this['logTestCaseFinished'](_0x3a52e6);if(_0x187d6a[_0x463d7d(0x1df)](shouldProcessEventForTesthub,_0x187d6a[_0x463d7d(0x267)]))try{this[_0x463d7d(0x23b)]['testCaseFinished']=this[_0x463d7d(0x23b)][_0x463d7d(0x1b5)]||{},this[_0x463d7d(0x23b)][_0x463d7d(0x1b5)][_0x3a52e6['testCaseStartedId']]=_0x3a52e6,_testCasesData[_0x42730c['id']]=Object[_0x463d7d(0x1f8)]({},_0x42730c);const _0x18367f=_0x3a52e6[_0x463d7d(0x242)],_0x75cb98=_0x2bd842[_0x463d7d(0x20f)][_0x463d7d(0x210)][_0x18367f][_0x463d7d(0x20e)],_0x22292e=_0x2bd842['eventDataCollector']['testCaseMap'][_0x75cb98],_0x32d7c3=_0x22292e[_0x463d7d(0x248)],_0x2a47ec=_0x2bd842[_0x463d7d(0x20f)]['pickleMap'][_0x32d7c3],_0x5f1f4c=this[_0x463d7d(0x23d)](_0x2bd842,_0x2a47ec),_0x480e58=_0x5f1f4c[_0x463d7d(0x22f)],_0x39389a=_tests[_0x75cb98];_0x39389a&&(delete _tests[_0x75cb98],_0x39389a[_0x463d7d(0x214)]=new Date()[_0x463d7d(0x205)]());if(BrowserstackCLI[_0x463d7d(0x26f)]()['isCliEnabled']()&&await this[_0x463d7d(0x263)]()){const _0xacdc9e=await cucumberUtils['createTestFrameworkData'](_0x39389a,_0x2a47ec,_0x42730c,_0x5f1f4c,_0x18367f,_0x187d6a['fHVYe']),_0x13a4a3={};_0x13a4a3[_0x463d7d(0x1e8)]=_0xacdc9e,await BrowserstackCLI[_0x463d7d(0x26f)]()[_0x463d7d(0x250)]()[_0x463d7d(0x1c6)](TestFrameworkState[_0x463d7d(0x26a)],HookState[_0x463d7d(0x204)],_0x13a4a3);const _0x3e417b={};_0x3e417b[_0x463d7d(0x1f6)]=_0x3a52e6[_0x463d7d(0x242)],_0x3e417b[_0x463d7d(0x1ae)]=_0x187d6a['WaKHn'],await BrowserstackCLI['getInstance']()[_0x463d7d(0x250)]()[_0x463d7d(0x1c6)](TestFrameworkState[_0x463d7d(0x1fc)],HookState[_0x463d7d(0x204)],_0x3e417b);return;}await testObservabilityReporter[_0x463d7d(0x245)](_0x42730c,_0x5f1f4c,_0x2a47ec,_0x187d6a[_0x463d7d(0x267)],_0x39389a);}catch(_0x5353f5){logger[_0x463d7d(0x19a)](_0x463d7d(0x1a0)+util['format'](_0x5353f5));}}async[a6_0x48a570(0x19c)](_0x4db128,_0x4baab3){const _0x4ba0ec=a6_0x48a570,_0x4b652e={'IGpqO':function(_0x1a4df1,_0x461a45){return _0x1a4df1(_0x461a45);},'XKiWc':_0x4ba0ec(0x1f2),'bAsuK':function(_0xc183ba,_0x567495){return _0xc183ba!==_0x567495;},'qbdPJ':'testStepId'};if(_0x4b652e[_0x4ba0ec(0x1d6)](shouldProcessEventForTesthub,_0x4b652e[_0x4ba0ec(0x202)]))try{this[_0x4ba0ec(0x23b)][_0x4ba0ec(0x1c4)]=this[_0x4ba0ec(0x23b)][_0x4ba0ec(0x1c4)]||{},this['report']['testStepStarted'][_0x4db128[_0x4ba0ec(0x242)]]=_0x4db128;const _0x207b2d=_0x4db128['testCaseStartedId'],_0x556bdb=_0x4baab3['eventDataCollector'][_0x4ba0ec(0x210)][_0x207b2d][_0x4ba0ec(0x20e)],_0x13fd6e=this['report']['testCases'][_0x4ba0ec(0x1d5)](_0x1887f8=>_0x1887f8['id']===_0x556bdb)[_0x4ba0ec(0x248)],_0x244891=this['report'][_0x4ba0ec(0x1e0)][_0x4ba0ec(0x1d5)](_0x27cb31=>_0x27cb31['id']===_0x13fd6e),_0x2df239=this['report'][_0x4ba0ec(0x211)][_0x4ba0ec(0x1d5)](_0x135a3c=>_0x135a3c['id']===_0x556bdb)[_0x4ba0ec(0x1f9)],_0x1d407f=this[_0x4ba0ec(0x23b)][_0x4ba0ec(0x1c4)][_0x207b2d][_0x4ba0ec(0x207)],_0x3574d6=_0x2df239[_0x4ba0ec(0x1d5)](_0x1dae62=>_0x1dae62['id']===_0x1d407f)[_0x4ba0ec(0x239)],_0x3c3aa6=_0x244891[_0x4ba0ec(0x208)][_0x4ba0ec(0x1d5)](_0x5a1fe3=>_0x5a1fe3['id']===_0x3574d6);if(_0x3574d6&&_tests[_0x556bdb]&&_0x4b652e[_0x4ba0ec(0x19d)](_tests[_0x556bdb][_0x4b652e['qbdPJ']],_0x1d407f)){_tests[_0x556bdb][_0x4b652e[_0x4ba0ec(0x1cb)]]=_0x1d407f;const _0x386671={};_0x386671[_0x4ba0ec(0x208)]=[];const _0x417cdb=_tests[_0x556bdb]||_0x386671;_0x417cdb&&!_0x417cdb[_0x4ba0ec(0x208)]&&(_0x417cdb[_0x4ba0ec(0x208)]=[]),_0x417cdb[_0x4ba0ec(0x208)][_0x4ba0ec(0x21d)]({'id':_0x3c3aa6['id'],'text':_0x3c3aa6[_0x4ba0ec(0x1e7)],'started_at':new Date()[_0x4ba0ec(0x205)]()}),_tests[_0x556bdb]=_0x417cdb;}if(BrowserstackCLI[_0x4ba0ec(0x26f)]()[_0x4ba0ec(0x249)]()&&await this[_0x4ba0ec(0x263)]()){const _0x3d3e19=await cucumberUtils[_0x4ba0ec(0x240)](this[_0x4ba0ec(0x23b)],_0x207b2d,_0x4b652e[_0x4ba0ec(0x202)],_0x2df239,_0x1d407f,_tests[_0x556bdb]);_0x3d3e19&&await BrowserstackCLI[_0x4ba0ec(0x26f)]()['getTestFramework']()[_0x4ba0ec(0x1c6)](TestFrameworkState[_0x3d3e19[_0x4ba0ec(0x1c1)]],HookState[_0x4ba0ec(0x246)],{'hookData':_0x3d3e19,'testUUID':_0x4db128['testCaseStartedId']});return;}await testObservabilityReporter[_0x4ba0ec(0x1e4)](this[_0x4ba0ec(0x23b)],_0x207b2d,_0x4b652e[_0x4ba0ec(0x202)],_0x2df239,_0x1d407f,_tests[_0x556bdb]);}catch(_0xde003a){logger[_0x4ba0ec(0x19a)](_0x4ba0ec(0x225)+util[_0x4ba0ec(0x1bd)](_0xde003a));}}async[a6_0x48a570(0x23e)](_0x5e0864,_0x82fa58){const _0x4f09c6=a6_0x48a570,_0x2b1d36={'gxbdE':function(_0x16db16,_0x378660){return _0x16db16===_0x378660;},'OlUdQ':_0x4f09c6(0x21b),'gdxoa':function(_0x4ebcac,_0x58179f){return _0x4ebcac(_0x58179f);},'bsIIY':_0x4f09c6(0x270),'jBtzQ':function(_0x1b024f,_0x518766){return _0x1b024f===_0x518766;},'yWBWY':'failed','WiEMh':_0x4f09c6(0x1eb),'YqrwM':'testStepId','WJEPq':'HookRunStarted','tPzlD':_0x4f09c6(0x1b9)};this[_0x4f09c6(0x23b)][_0x4f09c6(0x1ac)]=this[_0x4f09c6(0x23b)][_0x4f09c6(0x1ac)]||{},this['report']['testStepFinished'][_0x5e0864[_0x4f09c6(0x242)]]=_0x5e0864;if(_0x2b1d36[_0x4f09c6(0x22e)](shouldProcessEventForTesthub,_0x2b1d36[_0x4f09c6(0x1a8)]))try{const _0x3e5299=_0x5e0864['testCaseStartedId'],_0x5f3c7c=_0x82fa58[_0x4f09c6(0x20f)][_0x4f09c6(0x210)][_0x3e5299][_0x4f09c6(0x20e)],_0x5ad52e=_0x82fa58[_0x4f09c6(0x20f)][_0x4f09c6(0x1c2)][_0x5f3c7c],_0x1d728f=_0x5ad52e['pickleId'],_0x5d1b99=_0x82fa58[_0x4f09c6(0x20f)][_0x4f09c6(0x19f)][_0x1d728f],_0x81e545=_0x5e0864['testStepId'],_0x2aefc9=_0x5ad52e[_0x4f09c6(0x1f9)],_0x90f503=this[_0x4f09c6(0x20f)][_0x4f09c6(0x1f7)](_0x3e5299),_0x3a5452=_0x2aefc9[_0x4f09c6(0x1d5)](_0x4c72b5=>_0x4c72b5['id']===_0x81e545)[_0x4f09c6(0x239)];let _0x4d65db,_0x116dc5;_0x5e0864['testStepResult']&&_0x2b1d36[_0x4f09c6(0x1a1)](_0x5e0864[_0x4f09c6(0x229)][_0x4f09c6(0x24b)][_0x4f09c6(0x271)]()[_0x4f09c6(0x22c)](),_0x2b1d36['yWBWY'])&&(_0x4d65db=_0x2b1d36[_0x4f09c6(0x1ed)](_0x5e0864['testStepResult'][_0x4f09c6(0x1b3)],undefined)?_0x5e0864[_0x4f09c6(0x229)][_0x4f09c6(0x1b7)]:_0x5e0864[_0x4f09c6(0x229)][_0x4f09c6(0x1b3)]['message'],_0x116dc5=_0x2b1d36['jBtzQ'](_0x5e0864[_0x4f09c6(0x229)][_0x4f09c6(0x1b3)],undefined)?_0x2b1d36['WiEMh']:_0x5e0864[_0x4f09c6(0x229)][_0x4f09c6(0x1b7)]);if(_0x3a5452&&_tests[_0x5f3c7c][_0x2b1d36['YqrwM']]){const _0x419e23=_0x5d1b99['steps'][_0x4f09c6(0x1d5)](_0x406341=>_0x406341['id']===_0x3a5452),_0x28b2cf={};_0x28b2cf[_0x4f09c6(0x208)]=[];const _0x453683=_tests[_0x5f3c7c]||_0x28b2cf;!_0x453683[_0x4f09c6(0x208)]?_0x453683[_0x4f09c6(0x208)]=[{'id':_0x419e23['id'],'text':_0x419e23['text'],'finished_at':new Date()[_0x4f09c6(0x205)](),'result':_0x5e0864['testStepResult']['status'],'duration':_0x5e0864[_0x4f09c6(0x229)][_0x4f09c6(0x231)][_0x4f09c6(0x1c7)],'failure':_0x4d65db,'failureType':_0x116dc5}]:_0x453683[_0x4f09c6(0x208)][_0x4f09c6(0x21c)](_0xb9b44e=>{const _0x176a5e=_0x4f09c6;if(_0x2b1d36['gxbdE'](_0xb9b44e['id'],_0x419e23['id'])){const _0xf94f87=_0x2b1d36[_0x176a5e(0x259)]['split']('|');let _0x2d6e9e=0x0;while(!![]){switch(_0xf94f87[_0x2d6e9e++]){case'0':_0xb9b44e[_0x176a5e(0x1c9)]=_0x4d65db;continue;case'1':_0xb9b44e[_0x176a5e(0x25b)]=_0x116dc5;continue;case'2':_0xb9b44e[_0x176a5e(0x1ca)]=new Date()[_0x176a5e(0x205)]();continue;case'3':_0xb9b44e['result']=_0x5e0864[_0x176a5e(0x229)]['status'];continue;case'4':_0xb9b44e['duration']=_0x5e0864[_0x176a5e(0x229)][_0x176a5e(0x231)][_0x176a5e(0x1c7)];continue;}break;}}}),_tests[_0x5f3c7c]=_0x453683;}delete _tests[_0x5f3c7c][_0x2b1d36['YqrwM']];if(BrowserstackCLI[_0x4f09c6(0x26f)]()[_0x4f09c6(0x249)]()&&await this[_0x4f09c6(0x263)]()){const _0x11fadc=await cucumberUtils[_0x4f09c6(0x240)](this[_0x4f09c6(0x23b)],_0x3e5299,_0x2b1d36[_0x4f09c6(0x1a5)],_0x2aefc9,_0x81e545,_tests[_0x5f3c7c]);if(_0x11fadc){await BrowserstackCLI[_0x4f09c6(0x26f)]()[_0x4f09c6(0x250)]()['trackEvent'](TestFrameworkState[_0x11fadc[_0x4f09c6(0x1c1)]],HookState['POST'],{'hookData':_0x11fadc,'testUUID':_0x5e0864[_0x4f09c6(0x242)]});const _0x554bdb={};_0x554bdb[_0x4f09c6(0x1f6)]=_0x5e0864[_0x4f09c6(0x242)],_0x554bdb[_0x4f09c6(0x1ae)]=_0x2b1d36[_0x4f09c6(0x222)],await BrowserstackCLI[_0x4f09c6(0x26f)]()[_0x4f09c6(0x250)]()[_0x4f09c6(0x1c6)](TestFrameworkState['LOG_REPORT'],HookState[_0x4f09c6(0x204)],_0x554bdb);}return;}await testObservabilityReporter[_0x4f09c6(0x1e4)](this[_0x4f09c6(0x23b)],_0x3e5299,_0x2b1d36[_0x4f09c6(0x1a8)],_0x2aefc9,_0x81e545,_tests[_0x5f3c7c]);}catch(_0x272cc2){logger[_0x4f09c6(0x19a)](_0x4f09c6(0x1f0)+util[_0x4f09c6(0x1bd)](_0x272cc2));}}[a6_0x48a570(0x1e9)](_0x27d81e){const _0x116d63=a6_0x48a570,_0x4fee8c={};return _0x27d81e[_0x116d63(0x22f)]['children'][_0x116d63(0x21f)](this[_0x116d63(0x1f3)])[_0x116d63(0x223)]()[_0x116d63(0x21c)](_0x5f029c=>_0x5f029c[_0x116d63(0x208)][_0x116d63(0x21c)](_0x4ff4af=>_0x4fee8c[_0x4ff4af['id']]=_0x4ff4af)),_0x4fee8c;}[a6_0x48a570(0x1f3)](_0x1d71c9){const _0x5acdff=a6_0x48a570,_0x16e6e8={'noKaK':function(_0x5b6816,_0xe60d9c){return _0x5b6816(_0xe60d9c);},'RvDen':function(_0x466297,_0x1e9040){return _0x466297(_0x1e9040);}};if(!_0x16e6e8[_0x5acdff(0x268)](isUndefined,_0x1d71c9[_0x5acdff(0x212)]))return[_0x1d71c9[_0x5acdff(0x212)]];else{if(!_0x16e6e8[_0x5acdff(0x228)](isUndefined,_0x1d71c9[_0x5acdff(0x1bb)]))return _0x1d71c9['rule']['children'][_0x5acdff(0x21f)](_0x21eebb=>!isUndefined(_0x21eebb['background'])?_0x21eebb[_0x5acdff(0x212)]:_0x21eebb['scenario']);};return[_0x1d71c9[_0x5acdff(0x273)]];}['getGherkinDocument'](_0x161fdf,_0xc78a14){const _0x3880e7=a6_0x48a570;return Object[_0x3880e7(0x22b)](_0x161fdf[_0x3880e7(0x20f)][_0x3880e7(0x1e3)])[_0x3880e7(0x1d5)](_0xed9e64=>_0xed9e64[_0x3880e7(0x203)]===_0xc78a14[_0x3880e7(0x203)]);}async[a6_0x48a570(0x224)](){const _0x2695ac=a6_0x48a570;if(this[_0x2695ac(0x1cc)])return this[_0x2695ac(0x1cc)];return this[_0x2695ac(0x1cc)]=this[_0x2695ac(0x20b)](),this[_0x2695ac(0x1cc)];}async[a6_0x48a570(0x20b)](){const _0x393795=a6_0x48a570,_0x51adfa={'FofOt':_0x393795(0x238),'lfRdw':function(_0x2efa1f,_0x324d22){return _0x2efa1f(_0x324d22);},'FhCyZ':_0x393795(0x237),'xYyHe':'../../utils/constants'};try{const _0x292be8=BrowserstackCLI['getInstance']();if(_0x292be8[_0x393795(0x1a9)]())return logger[_0x393795(0x19a)](_0x393795(0x24e)+_0x292be8[_0x393795(0x232)]),!![];const _0x5ce2bf=process[_0x393795(0x1b4)]['BROWSERSTACK_CLI_BIN_SESSION_ID'];if(!_0x5ce2bf)return logger['debug'](_0x51adfa[_0x393795(0x243)]),![];const _0xcd22e1=_0x51adfa[_0x393795(0x1b6)](require,_0x51adfa[_0x393795(0x1cf)]),{FRAMEWORKS:_0x426218}=_0x51adfa['lfRdw'](require,_0x51adfa[_0x393795(0x251)]);return _0xcd22e1[_0x393795(0x274)](_0x426218[_0x393795(0x227)],_0x426218[_0x393795(0x276)]),logger[_0x393795(0x19a)](_0x393795(0x20d)+_0x5ce2bf),await _0x292be8[_0x393795(0x1fb)](),logger[_0x393795(0x19a)]('CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20'+_0x292be8[_0x393795(0x1a9)]()+_0x393795(0x26e)+_0x292be8[_0x393795(0x232)]),_0x292be8[_0x393795(0x1a9)]();}catch(_0x28d132){return logger[_0x393795(0x19a)](_0x393795(0x1cd)+util[_0x393795(0x1bd)](_0x28d132)),![];}}async[a6_0x48a570(0x263)](){const _0x2e276b=a6_0x48a570;try{return await this[_0x2e276b(0x224)](),BrowserstackCLI[_0x2e276b(0x26f)]()[_0x2e276b(0x1a9)]();}catch(_0x42f8ad){return logger['debug'](_0x2e276b(0x216)+util[_0x2e276b(0x1bd)](_0x42f8ad)),![];}}}module[a6_0x48a570(0x230)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x48a570(0x1ef),a6_0x48a570(0x260),'onTestStepStarted',a6_0x48a570(0x23e),a6_0x48a570(0x1d2),a6_0x48a570(0x255),'extractStepContainers',a6_0x48a570(0x23d),'getGherkinStepMap']);