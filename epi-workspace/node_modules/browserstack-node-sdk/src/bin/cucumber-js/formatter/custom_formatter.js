const a6_0x8c0ab9=a6_0x3706;function a6_0x3706(_0x50bd01,_0x4186db){const _0x159879=a6_0x1598();return a6_0x3706=function(_0x37062d,_0x48ce6b){_0x37062d=_0x37062d-0x17a;let _0x3dbb38=_0x159879[_0x37062d];return _0x3dbb38;},a6_0x3706(_0x50bd01,_0x4186db);}(function(_0x3bb33a,_0x1636d6){const _0x33abe3=a6_0x3706,_0xdb5b1d=_0x3bb33a();while(!![]){try{const _0x17ade4=-parseInt(_0x33abe3(0x1c6))/0x1*(-parseInt(_0x33abe3(0x1de))/0x2)+-parseInt(_0x33abe3(0x1cb))/0x3+parseInt(_0x33abe3(0x232))/0x4*(-parseInt(_0x33abe3(0x21d))/0x5)+-parseInt(_0x33abe3(0x1f2))/0x6*(-parseInt(_0x33abe3(0x242))/0x7)+-parseInt(_0x33abe3(0x191))/0x8+parseInt(_0x33abe3(0x1dc))/0x9*(-parseInt(_0x33abe3(0x1c9))/0xa)+parseInt(_0x33abe3(0x19e))/0xb;if(_0x17ade4===_0x1636d6)break;else _0xdb5b1d['push'](_0xdb5b1d['shift']());}catch(_0x2678b8){_0xdb5b1d['push'](_0xdb5b1d['shift']());}}}(a6_0x1598,0xa2a02));function a6_0x1598(){const _0x1ba0c4=['exception','test','debug','gIiDK','PENDING','pzjPG','testCaseMap','binSessionId','../../v2/cliUtils','uri','1926LtIOqD','LOG_REPORT','561026kKWuZl','hVbmh','extractStepContainers','supportCodeLibrary','testStepResult','getInstance','toLowerCase','onTestRunFinished','TestRunStarted','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','forEach','BBRMm','HookRunFinished','testStepFinished','cwd','parse','format','testSteps','stepDefinition','toString','30414RNrEZs','onTestCaseStarted','EbAhX','qNBTe','cQhiq','createHookData','children','testCaseStarted','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','htPYK','winstonLogger',',\x20binSessionId:\x20','pickleMap','getTestFramework','../../v2/state/testFrameworkState.js','uIYwc','SRrLj','logTestRunFinished','Executing\x20tests\x20for\x20','isCliEnabled','wRfNX','@cucumber/cucumber','HookRunStarted','description','xtNnO','testCaseFinished','jvZVN','env','includes','RPkRr','assign','values','hooks','qDsfN','setup','POST','2|3|1|0|4','UNDEFINED','report','isBstackHook','eventDataCollector','logTestCaseFinished','SKIPPED','10qlFLtZ','type','onStepDefinition','finishedAt','pickle','sendTestRunEventForCucumber','envelope','puPqE','../../../helpers/helper','gTXDb','\x20\x20\x20\x20','UNKNOWN','qLOCV','createTestFrameworkData','../../../bin/v2/TestInfo.js','sourceLocation','_performCLIInitialization','getTestUUID','FAILED','qXbex','eventBroadcaster','275316hRWkmT','onTestCase','itAru','zTyXZ','../../v2/state/hookState.js','kgwMy','testCases','gherkinDocument','message','pickleId','wHgbd','testStepStarted','map','Exception\x20in\x20onTestStepFinished\x20event:\x20','hook','bootstrap','1463WIAfIL','snippetBuilder','tAFHx','testCaseAttemptDataMap','CLI\x20already\x20running\x20-\x20binSessionId:\x20','onSource','ljzhc','GlDbz','testCaseStartedId','\x20-\x20','onPickle','capability','getGherkinStepMap','background','find','isRunning','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','trackEvent','../../../helpers/test-observability/error-handler','sendHook','onTestCaseFinished','BROWSERSTACK_CLI_BIN_SESSION_ID','testUUID','FjRXR','failure','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','nkWWU','push','log','incrementCounter','testRunFinished','cucumber','grnIj','failed','parseTestCaseAttempt','cliInitPromise','gherkinDocumentMap','cqHoQ','5958640pqxbug','viLNh','text','steps','HQaaT','Exception\x20in\x20onTestStepStarted\x20event:\x20','actionLocation','cgknB','PASSED','rule','onTestStepFinished','split','HjDJr','20029801unBxLZ','duration','../../playwright/reporter/test-details.js','GbXKv','TestRunFinished','RLIuB','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','cwSoA','result','FtogJ','RQMPj','../../../helpers/logger','INyUF','testCaseId','hETOJ','testStepId','onTestRunStarted','path','etAoD','getTestCaseAttempt','PLAYWRIGHT','onGherkinDocument','../../utils/constants','ensureCLIInitialized','CONFIG','getGherkinDocument','ktJCQ','qICHk','testCase','PRE','scenario','name','TEST','lFTkg','sRZrz','exports','feature','YQAOP','testRunStarted','vEpyc','3UxgAvB','AMBIGUOUS','onHook','47260YNoYgp','__platform','3485655serIlq','toISOString','pYmrR','util','status','isCLIReady','source'];a6_0x1598=function(){return _0x1ba0c4;};return a6_0x1598();}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x8c0ab9(0x225)),util=require(a6_0x8c0ab9(0x1ce)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x8c0ab9(0x207)),TestDetails=require(a6_0x8c0ab9(0x1a0)),TestObservabilityReporter=require('../test-observability.js'),{o11yClassErrorHandler}=require(a6_0x8c0ab9(0x17d)),{shouldProcessEventForTesthub}=require('../../../helpers/testhub/utils.js'),BrowserstackCLI=require('../../v2/browserstackCLI.js'),TestFrameworkState=require(a6_0x8c0ab9(0x200)),HookState=require(a6_0x8c0ab9(0x236)),CucumberUtils=require('../../v2/utils/cucumber-utils.js'),TestInfo=require(a6_0x8c0ab9(0x22b)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x8c0ab9(0x1a9))[a6_0x8c0ab9(0x1fc)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x3625e4){const _0x14008c=a6_0x8c0ab9,_0xe1c047={};_0xe1c047['SRrLj']=_0x14008c(0x223);const _0x3730c8=_0xe1c047;super(_0x3625e4),this[_0x14008c(0x218)]={},_0x3625e4[_0x14008c(0x231)]['on'](_0x3730c8[_0x14008c(0x202)],async _0x306e52=>{const _0x291a8f=_0x14008c;switch(!![]){case!!_0x306e52[_0x291a8f(0x1c4)]:this[_0x291a8f(0x1ae)](_0x306e52[_0x291a8f(0x1c4)]);break;case!!_0x306e52[_0x291a8f(0x189)]:this[_0x291a8f(0x1e5)](_0x306e52[_0x291a8f(0x189)]);break;case!!_0x306e52[_0x291a8f(0x1f9)]:this[_0x291a8f(0x1f3)](_0x306e52[_0x291a8f(0x1f9)],_0x3625e4,_0x306e52);break;case!!_0x306e52[_0x291a8f(0x20b)]:this['onTestCaseFinished'](_0x306e52[_0x291a8f(0x20b)],_0x3625e4,_0x306e52);break;case!!_0x306e52[_0x291a8f(0x23d)]:this['onTestStepStarted'](_0x306e52[_0x291a8f(0x23d)],_0x3625e4);break;case!!_0x306e52['testStepFinished']:this[_0x291a8f(0x19b)](_0x306e52[_0x291a8f(0x1eb)],_0x3625e4);break;case!!_0x306e52[_0x291a8f(0x240)]:this[_0x291a8f(0x1c8)](_0x306e52[_0x291a8f(0x240)]);break;case!!_0x306e52[_0x291a8f(0x1ba)]:this['onTestCase'](_0x306e52[_0x291a8f(0x1ba)]);break;case!!_0x306e52['pickle']:this[_0x291a8f(0x24c)](_0x306e52[_0x291a8f(0x221)]);break;case!!_0x306e52['gherkinDocument']:this['onGherkinDocument'](_0x306e52[_0x291a8f(0x239)]);break;}});}[a6_0x8c0ab9(0x1c8)](_0x4bb12a){const _0x1ef20c=a6_0x8c0ab9;this[_0x1ef20c(0x218)][_0x1ef20c(0x212)]=Object[_0x1ef20c(0x210)]([],this[_0x1ef20c(0x218)]['hooks']||[]),this['report']['hooks'][_0x1ef20c(0x186)](_0x4bb12a);}['onPickle'](_0x14df98){const _0x581190=a6_0x8c0ab9;this['report'][_0x581190(0x221)]=Object['assign']([],this['report'][_0x581190(0x221)]||[],[_0x14df98]),this[_0x581190(0x218)][_0x581190(0x221)][_0x581190(0x186)](_0x14df98);}[a6_0x8c0ab9(0x1b3)](_0x1892fb){const _0x4f259d=a6_0x8c0ab9;this[_0x4f259d(0x218)]['gherkinDocument']=Object[_0x4f259d(0x210)]([],this['report'][_0x4f259d(0x239)]||[],[_0x1892fb]),this[_0x4f259d(0x218)][_0x4f259d(0x239)][_0x4f259d(0x186)](_0x1892fb);}[a6_0x8c0ab9(0x247)](_0x1b8e37){const _0x26f758=a6_0x8c0ab9;this[_0x26f758(0x218)][_0x26f758(0x1d1)]=_0x1b8e37;}[a6_0x8c0ab9(0x21f)](_0x4afc39){const _0x4256c0=a6_0x8c0ab9;this[_0x4256c0(0x218)][_0x4256c0(0x1f0)]=Object[_0x4256c0(0x210)]([],this['report'][_0x4256c0(0x1f0)]||[],[_0x4afc39]),this[_0x4256c0(0x218)]['stepDefinition'][_0x4256c0(0x186)](_0x4afc39);}[a6_0x8c0ab9(0x233)](_0x22dd62){const _0x6d7e7d=a6_0x8c0ab9;this[_0x6d7e7d(0x218)][_0x6d7e7d(0x238)]=Object[_0x6d7e7d(0x210)]([],this['report'][_0x6d7e7d(0x238)]||[],[_0x22dd62]),this[_0x6d7e7d(0x218)][_0x6d7e7d(0x238)]['push'](_0x22dd62);}[a6_0x8c0ab9(0x21b)](_0x33e69d){const _0x786fbb=a6_0x8c0ab9,_0x944fa5={'sRZrz':function(_0x289cc6,_0x130506){return _0x289cc6!==_0x130506;},'qICHk':'bstack','qNBTe':function(_0x4c470c,_0x5a968d){return _0x4c470c+_0x5a968d;},'cQhiq':function(_0x2ed291,_0x401719){return _0x2ed291+_0x401719;},'EYPgt':_0x786fbb(0x227),'FjRXR':_0x786fbb(0x24b),'cqHoQ':function(_0x1ef4f7,_0x576114){return _0x1ef4f7===_0x576114;},'vEpyc':'FAILED','QlNhD':function(_0x9e2925,_0x55ea55,_0x1b1d01){return _0x9e2925(_0x55ea55,_0x1b1d01);},'puPqE':_0x786fbb(0x1a6),'qLOCV':_0x786fbb(0x23a),'qXbex':function(_0x3e24c0,_0x6e59d){return _0x3e24c0+_0x6e59d;},'etAoD':function(_0x30ad75,_0x342576){return _0x30ad75+_0x342576;},'grnIj':function(_0x4c6ef4,_0x724fe8){return _0x4c6ef4+_0x724fe8;},'RLIuB':function(_0x4b0992,_0x2e513c){return _0x4b0992+_0x2e513c;},'zTyXZ':function(_0x6ed650,_0x3138b1){return _0x6ed650+_0x3138b1;}};_0x944fa5[_0x786fbb(0x1c0)](global[_0x786fbb(0x1ca)],undefined)&&this[_0x786fbb(0x187)](_0x944fa5[_0x786fbb(0x1f6)](_0x944fa5[_0x786fbb(0x1a3)]('\x0a',global[_0x786fbb(0x1ca)]),'\x0a'));const _0x5d1969=this[_0x786fbb(0x21a)][_0x786fbb(0x1b1)](_0x33e69d[_0x786fbb(0x24a)]);this[_0x786fbb(0x187)](_0x944fa5[_0x786fbb(0x1f6)](_0x944fa5[_0x786fbb(0x235)](_0x944fa5[_0x786fbb(0x1f6)](_0x944fa5[_0x786fbb(0x18b)]('\x20\x20',_0x5d1969[_0x786fbb(0x239)]['feature'][_0x786fbb(0x1bd)]),_0x944fa5[_0x786fbb(0x182)]),_0x5d1969[_0x786fbb(0x221)]['name']),'\x0a'));const _0x208f4d={};_0x208f4d[_0x786fbb(0x1ec)]=this[_0x786fbb(0x1ec)],_0x208f4d[_0x786fbb(0x243)]=this[_0x786fbb(0x243)],_0x208f4d[_0x786fbb(0x1e1)]=this[_0x786fbb(0x1e1)],_0x208f4d['testCaseAttempt']=_0x5d1969;const _0x2eba68=formatterHelpers[_0x786fbb(0x18d)](_0x208f4d);let _0x5f4256=![];_0x2eba68['testSteps'][_0x786fbb(0x1e8)](_0x43c2bc=>{const _0x18d49e=_0x786fbb;if(_0x944fa5['sRZrz'](_0x43c2bc['name'],_0x944fa5[_0x18d49e(0x1b9)])&&!this[_0x18d49e(0x219)](_0x43c2bc)){totalTests+=0x1,this[_0x18d49e(0x187)](_0x944fa5['qNBTe'](_0x944fa5[_0x18d49e(0x1f5)](_0x944fa5[_0x18d49e(0x1f5)](_0x944fa5[_0x18d49e(0x1f6)](_0x944fa5[_0x18d49e(0x1f5)](_0x944fa5['EYPgt'],_0x43c2bc['keyword']),_0x43c2bc[_0x18d49e(0x193)]||''),_0x944fa5['FjRXR']),Status[_0x43c2bc[_0x18d49e(0x1a6)][_0x18d49e(0x1cf)]]),'\x0a')),this['incrementCounter'](Status[_0x43c2bc[_0x18d49e(0x1a6)][_0x18d49e(0x1cf)]]);if(_0x944fa5[_0x18d49e(0x190)](Status[_0x43c2bc[_0x18d49e(0x1a6)][_0x18d49e(0x1cf)]],_0x944fa5[_0x18d49e(0x1c5)])){_0x5f4256=!![];const _0x54f5fa=_0x944fa5['QlNhD'](nestedKeyValue,_0x43c2bc,[_0x944fa5[_0x18d49e(0x224)],_0x944fa5[_0x18d49e(0x229)]]);_0x54f5fa&&(testsErrorMessage[_0x944fa5[_0x18d49e(0x230)](_0x944fa5[_0x18d49e(0x1b0)](_0x5d1969[_0x18d49e(0x239)]['feature'][_0x18d49e(0x1bd)],_0x944fa5[_0x18d49e(0x182)]),_0x5d1969[_0x18d49e(0x221)][_0x18d49e(0x1bd)])]=_0x54f5fa,this['log'](_0x944fa5[_0x18d49e(0x18b)](_0x54f5fa,'\x0a')));}}}),_0x5f4256&&(testSuitesFailed+=0x1),this[_0x786fbb(0x187)]('\x0a');}[a6_0x8c0ab9(0x203)](_0x34ab82){}[a6_0x8c0ab9(0x219)](_0xd397f8){const _0x417af3=a6_0x8c0ab9,_0x11250d={};_0x11250d[_0x417af3(0x20a)]=function(_0x67e04f,_0x390bd0){return _0x67e04f!==_0x390bd0;},_0x11250d[_0x417af3(0x1b8)]='cucumber-js/test.setup.js';const _0x371844=_0x11250d;if(_0x371844[_0x417af3(0x20a)](_0xd397f8[_0x417af3(0x22c)],undefined))return![];if(_0xd397f8[_0x417af3(0x197)]&&_0xd397f8[_0x417af3(0x197)][_0x417af3(0x1db)][_0x417af3(0x20e)](_0x371844[_0x417af3(0x1b8)]))return!![];return![];}[a6_0x8c0ab9(0x188)](_0x9671aa){const _0x58f65e=a6_0x8c0ab9,_0x12c71e={};_0x12c71e[_0x58f65e(0x195)]=_0x58f65e(0x22f),_0x12c71e[_0x58f65e(0x1a7)]=_0x58f65e(0x199),_0x12c71e[_0x58f65e(0x249)]=_0x58f65e(0x21c),_0x12c71e[_0x58f65e(0x248)]=_0x58f65e(0x1d6),_0x12c71e[_0x58f65e(0x1df)]=_0x58f65e(0x217),_0x12c71e[_0x58f65e(0x201)]=_0x58f65e(0x228),_0x12c71e[_0x58f65e(0x1c3)]=_0x58f65e(0x1c7);const _0x1abe47=_0x12c71e;switch(_0x9671aa){case _0x1abe47['HQaaT']:testsFailed+=0x1;break;case _0x1abe47[_0x58f65e(0x1a7)]:testsPassed+=0x1;break;case _0x1abe47['GlDbz']:testsSkipped+=0x1;break;case _0x1abe47[_0x58f65e(0x248)]:testsPending+=0x1;break;case _0x1abe47[_0x58f65e(0x1df)]:testsUndefined+=0x1;break;case _0x1abe47[_0x58f65e(0x201)]:testsUnknown+=0x1;break;case _0x1abe47['YQAOP']:testsAmbiguous+=0x1;break;default:break;}}async[a6_0x8c0ab9(0x1ae)](_0x1e323e){const _0x3f58a3=a6_0x8c0ab9,_0x2afbe9={'lFTkg':function(_0x73fa3f,_0x2f7654){return _0x73fa3f!==_0x2f7654;},'DxmnR':function(_0x299e59){return _0x299e59();},'hETOJ':function(_0x59f586,_0x5579aa){return _0x59f586(_0x5579aa);},'EjQAg':function(_0x1160de,_0x3236ca){return _0x1160de+_0x3236ca;},'wHgbd':function(_0x4e61e0){return _0x4e61e0();},'CYKOt':_0x3f58a3(0x18a)};let _0xa9980e;if(_0x2afbe9[_0x3f58a3(0x1bf)](process[_0x3f58a3(0x20d)]['CONFIG'],undefined)){const _0x238d5d=JSON[_0x3f58a3(0x1ed)](process[_0x3f58a3(0x20d)][_0x3f58a3(0x1b6)]);_0xa9980e=_0x238d5d[_0x3f58a3(0x24d)];}_0x2afbe9[_0x3f58a3(0x1bf)](_0xa9980e,undefined)&&_0x2afbe9['DxmnR'](isBrowserstackInfra)&&(global[_0x3f58a3(0x1ca)]=_0x2afbe9[_0x3f58a3(0x1ac)](getPlatformName,_0xa9980e),this[_0x3f58a3(0x187)](_0x2afbe9['EjQAg'](_0x3f58a3(0x204)+global[_0x3f58a3(0x1ca)],'\x0a'))),_0x2afbe9[_0x3f58a3(0x23c)](shouldProcessEventForTesthub)&&(TestDetails[_0x3f58a3(0x214)](),this[_0x3f58a3(0x218)]['testRunStarted']=_0x1e323e,BrowserstackCLI[_0x3f58a3(0x1e3)]()[_0x3f58a3(0x205)]()&&await this['isCLIReady']()&&(TestInfo[_0x3f58a3(0x214)](_0x2afbe9['CYKOt']),await BrowserstackCLI[_0x3f58a3(0x1e3)]()['getTestFramework']()['trackEvent'](TestFrameworkState['INIT_TEST'],HookState[_0x3f58a3(0x1bb)],{})));}['onTestRunFinished'](_0x390e9e){const _0x5e9568=a6_0x8c0ab9;this[_0x5e9568(0x218)][_0x5e9568(0x189)]=_0x390e9e,this[_0x5e9568(0x203)](_0x390e9e);}async[a6_0x8c0ab9(0x1f3)](_0x205125,_0xde02d,_0x3297dc){const _0x295ecd=a6_0x8c0ab9,_0x63b316={'viLNh':function(_0x208e91,_0x29fe18){return _0x208e91(_0x29fe18);},'qDsfN':_0x295ecd(0x1e6),'nXLmV':function(_0x372ce5,_0x47febb){return _0x372ce5&&_0x47febb;}};testSuites+=0x1;if(_0x63b316[_0x295ecd(0x192)](shouldProcessEventForTesthub,_0x63b316[_0x295ecd(0x213)]))try{this[_0x295ecd(0x218)][_0x295ecd(0x1f9)]=this[_0x295ecd(0x218)][_0x295ecd(0x1f9)]||{},this[_0x295ecd(0x218)]['testCaseStarted'][_0x205125['id']]=_0x205125;let _0x439f41=null;BrowserstackCLI[_0x295ecd(0x1e3)]()[_0x295ecd(0x205)]()&&await this[_0x295ecd(0x1d0)]()?_0x439f41=TestInfo[_0x295ecd(0x22e)](_0x205125['id']):_0x439f41=TestDetails[_0x295ecd(0x22e)](_0x205125['id']);_testCasesData[_0x205125['id']]=Object['assign']({},_0x3297dc);const _0x597c27=this[_0x295ecd(0x218)],_0xd45d6f=_0x205125[_0x295ecd(0x1ab)],_0x209df9=_0x597c27[_0x295ecd(0x238)][_0x295ecd(0x250)](_0x4b6c04=>_0x4b6c04['id']===_0xd45d6f)[_0x295ecd(0x23b)],_0x4f4ece=_0x597c27['pickle'][_0x295ecd(0x250)](_0x4a5ef4=>_0x4a5ef4['id']===_0x209df9),_0xc6f81a=_0x597c27['gherkinDocument']['find'](_0x157414=>_0x157414[_0x295ecd(0x1db)]===_0x4f4ece[_0x295ecd(0x1db)]),_0x41d0c4=_0xc6f81a['feature'],_0x329b8f={'uuid':_0x439f41,'startedAt':new Date()[_0x295ecd(0x1cc)]()};if(_0x4f4ece){const _0x3500e8={};_0x3500e8['name']=_0x4f4ece['name'],_0x329b8f[_0x295ecd(0x1bc)]=_0x3500e8;}if(_0x63b316['nXLmV'](_0xc6f81a,_0x41d0c4)){const _0x38c631={};_0x38c631[_0x295ecd(0x1af)]=_0xc6f81a[_0x295ecd(0x1db)],_0x38c631[_0x295ecd(0x1bd)]=_0x41d0c4['name'],_0x38c631[_0x295ecd(0x209)]=_0x41d0c4['description'],_0x329b8f[_0x295ecd(0x1c2)]=_0x38c631;}_tests[_0xd45d6f]=_0x329b8f;if(BrowserstackCLI[_0x295ecd(0x1e3)]()['isCliEnabled']()&&await this[_0x295ecd(0x1d0)]()){const _0x4bdb87=await cucumberUtils[_0x295ecd(0x22a)](_0x329b8f,_0x4f4ece,_0x3297dc,_0xc6f81a,_0x205125['id'],_0x63b316[_0x295ecd(0x213)]),_0x99f8f4={};_0x99f8f4['test']=_0x4bdb87,await BrowserstackCLI[_0x295ecd(0x1e3)]()['getTestFramework']()[_0x295ecd(0x17c)](TestFrameworkState['TEST'],HookState['PRE'],_0x99f8f4);return;}await testObservabilityReporter[_0x295ecd(0x222)](_0x3297dc,_0xc6f81a,_0x4f4ece,_0x63b316[_0x295ecd(0x213)],_0x329b8f);}catch(_0x31f891){logger[_0x295ecd(0x1d4)]('Exception\x20in\x20sending\x20onTestCaseStarted:\x20'+util[_0x295ecd(0x1ee)](_0x31f891)+'\x20');}}async[a6_0x8c0ab9(0x17f)](_0x2a13a8,_0x49578d,_0x14bdff){const _0x12bff6=a6_0x8c0ab9,_0x304b0a={'BBRMm':function(_0x493142,_0x241b94){return _0x493142(_0x241b94);},'pYmrR':_0x12bff6(0x1a2),'cwSoA':_0x12bff6(0x1d3)};this[_0x12bff6(0x21b)](_0x2a13a8);if(_0x304b0a[_0x12bff6(0x1e9)](shouldProcessEventForTesthub,_0x304b0a[_0x12bff6(0x1cd)]))try{this[_0x12bff6(0x218)][_0x12bff6(0x20b)]=this[_0x12bff6(0x218)][_0x12bff6(0x20b)]||{},this[_0x12bff6(0x218)]['testCaseFinished'][_0x2a13a8[_0x12bff6(0x24a)]]=_0x2a13a8,_testCasesData[_0x14bdff['id']]=Object[_0x12bff6(0x210)]({},_0x14bdff);const _0x58e66c=_0x2a13a8[_0x12bff6(0x24a)],_0x3e673c=_0x49578d[_0x12bff6(0x21a)][_0x12bff6(0x245)][_0x58e66c][_0x12bff6(0x1ab)],_0x17282f=_0x49578d[_0x12bff6(0x21a)][_0x12bff6(0x1d8)][_0x3e673c],_0x4e9487=_0x17282f[_0x12bff6(0x23b)],_0x3dadc2=_0x49578d[_0x12bff6(0x21a)][_0x12bff6(0x1fe)][_0x4e9487],_0x534fbf=this[_0x12bff6(0x1b7)](_0x49578d,_0x3dadc2),_0x271c9e=_0x534fbf[_0x12bff6(0x1c2)],_0x43c615=_tests[_0x3e673c];_0x43c615&&(delete _tests[_0x3e673c],_0x43c615[_0x12bff6(0x220)]=new Date()[_0x12bff6(0x1cc)]());if(BrowserstackCLI[_0x12bff6(0x1e3)]()[_0x12bff6(0x205)]()&&await this[_0x12bff6(0x1d0)]()){const _0x21e011=await cucumberUtils[_0x12bff6(0x22a)](_0x43c615,_0x3dadc2,_0x14bdff,_0x534fbf,_0x58e66c,_0x304b0a['pYmrR']),_0x45255a={};_0x45255a[_0x12bff6(0x1d3)]=_0x21e011,await BrowserstackCLI[_0x12bff6(0x1e3)]()[_0x12bff6(0x1ff)]()[_0x12bff6(0x17c)](TestFrameworkState[_0x12bff6(0x1be)],HookState[_0x12bff6(0x215)],_0x45255a);const _0x325f1e={};_0x325f1e[_0x12bff6(0x181)]=_0x2a13a8[_0x12bff6(0x24a)],_0x325f1e['type']=_0x304b0a[_0x12bff6(0x1a5)],await BrowserstackCLI[_0x12bff6(0x1e3)]()[_0x12bff6(0x1ff)]()[_0x12bff6(0x17c)](TestFrameworkState[_0x12bff6(0x1dd)],HookState[_0x12bff6(0x215)],_0x325f1e);return;}await testObservabilityReporter[_0x12bff6(0x222)](_0x14bdff,_0x534fbf,_0x3dadc2,_0x304b0a[_0x12bff6(0x1cd)],_0x43c615);}catch(_0x566130){logger[_0x12bff6(0x1d4)](_0x12bff6(0x17b)+util[_0x12bff6(0x1ee)](_0x566130));}}async['onTestStepStarted'](_0x5497c6,_0x1b9e4c){const _0x34f95a=a6_0x8c0ab9,_0x3d2e34={'HjDJr':function(_0x17df0c,_0x263eaf){return _0x17df0c(_0x263eaf);},'RPkRr':_0x34f95a(0x208),'pBXYP':function(_0x52a3e9,_0x36f7f1){return _0x52a3e9!==_0x36f7f1;},'GbXKv':_0x34f95a(0x1ad)};if(_0x3d2e34[_0x34f95a(0x19d)](shouldProcessEventForTesthub,_0x3d2e34[_0x34f95a(0x20f)]))try{this[_0x34f95a(0x218)][_0x34f95a(0x23d)]=this['report'][_0x34f95a(0x23d)]||{},this[_0x34f95a(0x218)][_0x34f95a(0x23d)][_0x5497c6[_0x34f95a(0x24a)]]=_0x5497c6;const _0x14bc1c=_0x5497c6[_0x34f95a(0x24a)],_0x405957=_0x1b9e4c['eventDataCollector']['testCaseAttemptDataMap'][_0x14bc1c]['testCaseId'],_0x54c22c=this[_0x34f95a(0x218)]['testCases'][_0x34f95a(0x250)](_0xe8714a=>_0xe8714a['id']===_0x405957)[_0x34f95a(0x23b)],_0x5895ff=this['report']['pickle']['find'](_0x19d8be=>_0x19d8be['id']===_0x54c22c),_0x307d29=this[_0x34f95a(0x218)][_0x34f95a(0x238)][_0x34f95a(0x250)](_0x4d86ed=>_0x4d86ed['id']===_0x405957)[_0x34f95a(0x1ef)],_0x2e7ee2=this[_0x34f95a(0x218)]['testStepStarted'][_0x14bc1c][_0x34f95a(0x1ad)],_0x531f5b=_0x307d29[_0x34f95a(0x250)](_0x3059df=>_0x3059df['id']===_0x2e7ee2)['pickleStepId'],_0x11863a=_0x5895ff[_0x34f95a(0x194)][_0x34f95a(0x250)](_0x3e3e7=>_0x3e3e7['id']===_0x531f5b);if(_0x531f5b&&_tests[_0x405957]&&_0x3d2e34['pBXYP'](_tests[_0x405957][_0x3d2e34[_0x34f95a(0x1a1)]],_0x2e7ee2)){_tests[_0x405957][_0x3d2e34['GbXKv']]=_0x2e7ee2;const _0x11b9de={};_0x11b9de[_0x34f95a(0x194)]=[];const _0x1897da=_tests[_0x405957]||_0x11b9de;_0x1897da&&!_0x1897da[_0x34f95a(0x194)]&&(_0x1897da[_0x34f95a(0x194)]=[]),_0x1897da['steps']['push']({'id':_0x11863a['id'],'text':_0x11863a['text'],'started_at':new Date()[_0x34f95a(0x1cc)]()}),_tests[_0x405957]=_0x1897da;}if(BrowserstackCLI[_0x34f95a(0x1e3)]()[_0x34f95a(0x205)]()&&await this[_0x34f95a(0x1d0)]()){const _0xba86a1=await cucumberUtils['createHookData'](this[_0x34f95a(0x218)],_0x14bc1c,_0x3d2e34[_0x34f95a(0x20f)],_0x307d29,_0x2e7ee2,_tests[_0x405957]);_0xba86a1&&await BrowserstackCLI[_0x34f95a(0x1e3)]()[_0x34f95a(0x1ff)]()[_0x34f95a(0x17c)](TestFrameworkState[_0xba86a1['hook_type']],HookState[_0x34f95a(0x1bb)],{'hookData':_0xba86a1,'testUUID':_0x5497c6[_0x34f95a(0x24a)]});return;}await testObservabilityReporter[_0x34f95a(0x17e)](this[_0x34f95a(0x218)],_0x14bc1c,_0x3d2e34[_0x34f95a(0x20f)],_0x307d29,_0x2e7ee2,_tests[_0x405957]);}catch(_0x272426){logger[_0x34f95a(0x1d4)](_0x34f95a(0x196)+util['format'](_0x272426));}}async[a6_0x8c0ab9(0x19b)](_0xad9cd6,_0x51be17){const _0x81c45d=a6_0x8c0ab9,_0x233b33={'gTXDb':function(_0x17af6d,_0x4e2697){return _0x17af6d===_0x4e2697;},'wRfNX':_0x81c45d(0x216),'jvZVN':function(_0x29e160,_0x2b916c){return _0x29e160(_0x2b916c);},'htPYK':_0x81c45d(0x1ea),'nkWWU':_0x81c45d(0x18c),'EbEuX':function(_0x20142d,_0x4dc07f){return _0x20142d===_0x4dc07f;},'gIiDK':'UnhandledError','itAru':'testStepId','jXUlG':_0x81c45d(0x208),'INyUF':_0x81c45d(0x240)};this['report'][_0x81c45d(0x1eb)]=this['report'][_0x81c45d(0x1eb)]||{},this['report']['testStepFinished'][_0xad9cd6['testCaseStartedId']]=_0xad9cd6;if(_0x233b33[_0x81c45d(0x20c)](shouldProcessEventForTesthub,_0x233b33[_0x81c45d(0x1fb)]))try{const _0x48178c=_0xad9cd6['testCaseStartedId'],_0x1cc070=_0x51be17[_0x81c45d(0x21a)][_0x81c45d(0x245)][_0x48178c][_0x81c45d(0x1ab)],_0x5b52b9=_0x51be17[_0x81c45d(0x21a)][_0x81c45d(0x1d8)][_0x1cc070],_0x59d1ec=_0x5b52b9[_0x81c45d(0x23b)],_0x2f0728=_0x51be17[_0x81c45d(0x21a)][_0x81c45d(0x1fe)][_0x59d1ec],_0xeaf405=_0xad9cd6[_0x81c45d(0x1ad)],_0xcb1091=_0x5b52b9[_0x81c45d(0x1ef)],_0x54e5ce=this[_0x81c45d(0x21a)][_0x81c45d(0x1b1)](_0x48178c),_0x24099b=_0xcb1091[_0x81c45d(0x250)](_0x146626=>_0x146626['id']===_0xeaf405)['pickleStepId'];let _0x49703d,_0x205f53;_0xad9cd6[_0x81c45d(0x1e2)]&&_0x233b33[_0x81c45d(0x226)](_0xad9cd6['testStepResult']['status'][_0x81c45d(0x1f1)]()[_0x81c45d(0x1e4)](),_0x233b33[_0x81c45d(0x185)])&&(_0x49703d=_0x233b33['EbEuX'](_0xad9cd6[_0x81c45d(0x1e2)][_0x81c45d(0x1d2)],undefined)?_0xad9cd6[_0x81c45d(0x1e2)][_0x81c45d(0x23a)]:_0xad9cd6['testStepResult'][_0x81c45d(0x1d2)][_0x81c45d(0x23a)],_0x205f53=_0x233b33['gTXDb'](_0xad9cd6[_0x81c45d(0x1e2)][_0x81c45d(0x1d2)],undefined)?_0x233b33[_0x81c45d(0x1d5)]:_0xad9cd6[_0x81c45d(0x1e2)][_0x81c45d(0x23a)]);if(_0x24099b&&_tests[_0x1cc070][_0x233b33[_0x81c45d(0x234)]]){const _0x5ee936=_0x2f0728['steps'][_0x81c45d(0x250)](_0x60f455=>_0x60f455['id']===_0x24099b),_0x1e6b5b={};_0x1e6b5b[_0x81c45d(0x194)]=[];const _0x316160=_tests[_0x1cc070]||_0x1e6b5b;!_0x316160[_0x81c45d(0x194)]?_0x316160['steps']=[{'id':_0x5ee936['id'],'text':_0x5ee936[_0x81c45d(0x193)],'finished_at':new Date()['toISOString'](),'result':_0xad9cd6[_0x81c45d(0x1e2)][_0x81c45d(0x1cf)],'duration':_0xad9cd6[_0x81c45d(0x1e2)]['duration']['seconds'],'failure':_0x49703d,'failureType':_0x205f53}]:_0x316160['steps'][_0x81c45d(0x1e8)](_0x338279=>{const _0x1c9217=_0x81c45d;if(_0x233b33['gTXDb'](_0x338279['id'],_0x5ee936['id'])){const _0xae72cd=_0x233b33[_0x1c9217(0x206)][_0x1c9217(0x19c)]('|');let _0x52b863=0x0;while(!![]){switch(_0xae72cd[_0x52b863++]){case'0':_0x338279[_0x1c9217(0x183)]=_0x49703d;continue;case'1':_0x338279[_0x1c9217(0x19f)]=_0xad9cd6[_0x1c9217(0x1e2)][_0x1c9217(0x19f)]['seconds'];continue;case'2':_0x338279['finished_at']=new Date()[_0x1c9217(0x1cc)]();continue;case'3':_0x338279['result']=_0xad9cd6['testStepResult'][_0x1c9217(0x1cf)];continue;case'4':_0x338279['failureType']=_0x205f53;continue;}break;}}}),_tests[_0x1cc070]=_0x316160;}delete _tests[_0x1cc070][_0x233b33[_0x81c45d(0x234)]];if(BrowserstackCLI['getInstance']()[_0x81c45d(0x205)]()&&await this[_0x81c45d(0x1d0)]()){const _0x5d0702=await cucumberUtils[_0x81c45d(0x1f7)](this['report'],_0x48178c,_0x233b33['jXUlG'],_0xcb1091,_0xeaf405,_tests[_0x1cc070]);if(_0x5d0702){await BrowserstackCLI[_0x81c45d(0x1e3)]()['getTestFramework']()[_0x81c45d(0x17c)](TestFrameworkState[_0x5d0702['hook_type']],HookState[_0x81c45d(0x215)],{'hookData':_0x5d0702,'testUUID':_0xad9cd6[_0x81c45d(0x24a)]});const _0x28db5f={};_0x28db5f[_0x81c45d(0x181)]=_0xad9cd6[_0x81c45d(0x24a)],_0x28db5f[_0x81c45d(0x21e)]=_0x233b33[_0x81c45d(0x1aa)],await BrowserstackCLI[_0x81c45d(0x1e3)]()['getTestFramework']()[_0x81c45d(0x17c)](TestFrameworkState[_0x81c45d(0x1dd)],HookState['POST'],_0x28db5f);}return;}await testObservabilityReporter['sendHook'](this['report'],_0x48178c,_0x233b33['htPYK'],_0xcb1091,_0xeaf405,_tests[_0x1cc070]);}catch(_0x143754){logger['debug'](_0x81c45d(0x23f)+util[_0x81c45d(0x1ee)](_0x143754));}}[a6_0x8c0ab9(0x24e)](_0xfed5f){const _0x17c797=a6_0x8c0ab9,_0x708d65={};return _0xfed5f[_0x17c797(0x1c2)][_0x17c797(0x1f8)][_0x17c797(0x23e)](this[_0x17c797(0x1e0)])['flat']()[_0x17c797(0x1e8)](_0x187dec=>_0x187dec[_0x17c797(0x194)][_0x17c797(0x1e8)](_0x275ebd=>_0x708d65[_0x275ebd['id']]=_0x275ebd)),_0x708d65;}[a6_0x8c0ab9(0x1e0)](_0x244576){const _0x4e9af0=a6_0x8c0ab9,_0x540b71={'tAFHx':function(_0xa8215a,_0x5912c8){return _0xa8215a(_0x5912c8);},'EbAhX':function(_0x35903b,_0x3602b2){return _0x35903b(_0x3602b2);}};if(!_0x540b71[_0x4e9af0(0x244)](isUndefined,_0x244576[_0x4e9af0(0x24f)]))return[_0x244576[_0x4e9af0(0x24f)]];else{if(!_0x540b71[_0x4e9af0(0x1f4)](isUndefined,_0x244576['rule']))return _0x244576[_0x4e9af0(0x19a)][_0x4e9af0(0x1f8)][_0x4e9af0(0x23e)](_0x2148cd=>!isUndefined(_0x2148cd[_0x4e9af0(0x24f)])?_0x2148cd[_0x4e9af0(0x24f)]:_0x2148cd[_0x4e9af0(0x1bc)]);};return[_0x244576[_0x4e9af0(0x1bc)]];}[a6_0x8c0ab9(0x1b7)](_0x5d8bb,_0x48402a){const _0xb25b00=a6_0x8c0ab9;return Object[_0xb25b00(0x211)](_0x5d8bb[_0xb25b00(0x21a)][_0xb25b00(0x18f)])['find'](_0x535064=>_0x535064['uri']===_0x48402a[_0xb25b00(0x1db)]);}async[a6_0x8c0ab9(0x1b5)](){const _0x2a24c1=a6_0x8c0ab9;if(this['cliInitPromise'])return this[_0x2a24c1(0x18e)];return this[_0x2a24c1(0x18e)]=this[_0x2a24c1(0x22d)](),this[_0x2a24c1(0x18e)];}async[a6_0x8c0ab9(0x22d)](){const _0x60fd17=a6_0x8c0ab9,_0x1d2234={'kgwMy':'No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','RQMPj':function(_0x52160f,_0x544e2f){return _0x52160f(_0x544e2f);},'cgknB':_0x60fd17(0x1da),'HINMZ':function(_0x203b66,_0x1ed4e6){return _0x203b66(_0x1ed4e6);},'pzjPG':_0x60fd17(0x1b4)};try{const _0x45c666=BrowserstackCLI[_0x60fd17(0x1e3)]();if(_0x45c666[_0x60fd17(0x17a)]())return logger['debug'](_0x60fd17(0x246)+_0x45c666[_0x60fd17(0x1d9)]),!![];const _0x230898=process[_0x60fd17(0x20d)][_0x60fd17(0x180)];if(!_0x230898)return logger[_0x60fd17(0x1d4)](_0x1d2234[_0x60fd17(0x237)]),![];const _0x2f9c68=_0x1d2234[_0x60fd17(0x1a8)](require,_0x1d2234[_0x60fd17(0x198)]),{FRAMEWORKS:_0x39024e}=_0x1d2234['HINMZ'](require,_0x1d2234[_0x60fd17(0x1d7)]);return _0x2f9c68['setFrameworkDetail'](_0x39024e['CUCUMBER'],_0x39024e[_0x60fd17(0x1b2)]),logger[_0x60fd17(0x1d4)](_0x60fd17(0x1e7)+_0x230898),await _0x45c666[_0x60fd17(0x241)](),logger[_0x60fd17(0x1d4)](_0x60fd17(0x1a4)+_0x45c666['isRunning']()+_0x60fd17(0x1fd)+_0x45c666['binSessionId']),_0x45c666['isRunning']();}catch(_0x32283b){return logger[_0x60fd17(0x1d4)](_0x60fd17(0x1fa)+util['format'](_0x32283b)),![];}}async[a6_0x8c0ab9(0x1d0)](){const _0x38ff5c=a6_0x8c0ab9;try{return await this[_0x38ff5c(0x1b5)](),BrowserstackCLI[_0x38ff5c(0x1e3)]()['isRunning']();}catch(_0x1af4d2){return logger[_0x38ff5c(0x1d4)](_0x38ff5c(0x184)+util[_0x38ff5c(0x1ee)](_0x1af4d2)),![];}}}module[a6_0x8c0ab9(0x1c1)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x8c0ab9(0x1f3),'onTestCaseFinished','onTestStepStarted','onTestStepFinished',a6_0x8c0ab9(0x1ae),'onTestRunFinished',a6_0x8c0ab9(0x1e0),'getGherkinDocument',a6_0x8c0ab9(0x24e)]);