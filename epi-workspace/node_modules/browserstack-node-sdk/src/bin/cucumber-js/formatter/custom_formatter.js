function a7_0x5bba(_0x290546,_0x362561){const _0x562d29=a7_0x562d();return a7_0x5bba=function(_0x5bba34,_0x4939c8){_0x5bba34=_0x5bba34-0x83;let _0x20d496=_0x562d29[_0x5bba34];return _0x20d496;},a7_0x5bba(_0x290546,_0x362561);}const a7_0x17566a=a7_0x5bba;(function(_0x1858e3,_0x1b2acd){const _0x5547d3=a7_0x5bba,_0x515a86=_0x1858e3();while(!![]){try{const _0x2cb7b3=-parseInt(_0x5547d3(0x131))/0x1*(-parseInt(_0x5547d3(0x113))/0x2)+parseInt(_0x5547d3(0xb3))/0x3*(-parseInt(_0x5547d3(0x144))/0x4)+-parseInt(_0x5547d3(0x115))/0x5+parseInt(_0x5547d3(0xdb))/0x6*(-parseInt(_0x5547d3(0x8e))/0x7)+parseInt(_0x5547d3(0xe1))/0x8+parseInt(_0x5547d3(0x83))/0x9*(-parseInt(_0x5547d3(0xda))/0xa)+-parseInt(_0x5547d3(0xe8))/0xb*(-parseInt(_0x5547d3(0xa0))/0xc);if(_0x2cb7b3===_0x1b2acd)break;else _0x515a86['push'](_0x515a86['shift']());}catch(_0x5c7338){_0x515a86['push'](_0x515a86['shift']());}}}(a7_0x562d,0xa8bae));const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a7_0x17566a(0x134)),util=require('util'),{Formatter,formatterHelpers,Status}=requireModule(a7_0x17566a(0x10f)),TestDetails=require(a7_0x17566a(0xeb)),TestObservabilityReporter=require('../test-observability.js'),{o11yClassErrorHandler}=require(a7_0x17566a(0x130)),{shouldProcessEventForTesthub}=require(a7_0x17566a(0x102)),BrowserstackCLI=require('../../v2/browserstackCLI.js'),TestFrameworkState=require(a7_0x17566a(0xb9)),HookState=require(a7_0x17566a(0xf6)),CucumberUtils=require(a7_0x17566a(0xfa)),TestInfo=require(a7_0x17566a(0xa6)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a7_0x17566a(0xb8))['winstonLogger'],_tests={},_testCasesData={};function a7_0x562d(){const _0x46a57c=['Exception\x20in\x20onTestStepStarted\x20event:\x20','isRunning','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','keyword','2|4|0|1|3','testCaseMap','INIT_TEST','_performCLIInitialization','yquMI','QkrMw','tQelE','haLmK','XBcDX','../../../helpers/test-observability/error-handler','4bmWOVW','suPEp','hook','../../../helpers/helper','getGherkinDocument','extractStepContainers','GtRSC','values','isBstackHook','env','bLdSY','hooks','log','KhqCj','CUCUMBER','testCaseId','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','binSessionId','isCLIReady','1464AqxliJ','XeyOk','type','rule','getTestUUID','getTestFramework','stepDefinition','scenario','__platform','assign','setup','nNXAU','PLAYWRIGHT','debug','CONFIG','spVGc','FAILED','eYcwJ','Qkeiw','format','BROWSERSTACK_CLI_BIN_SESSION_ID',',\x20binSessionId:\x20','2408013VnmQPN','failure','actionLocation','testCaseStartedId','map','seconds','cucumber','pickleId','feature','ensureCLIInitialized','sendTestRunEventForCucumber','14flvbsT','trackEvent','eTOwW','testCase','sUrAB','onTestStepFinished','../../utils/constants','pickle','akwzb','text','eventBroadcaster','CROVz','gRNGY','gherkinDocument','createTestFrameworkData','\x20\x20\x20\x20','exception','description','2225796SBTaee','status','\x20-\x20','rDbAm','onTestCaseStarted','cwd','../../../bin/v2/TestInfo.js','TestRunStarted','testCaseStarted','cucumber-js/test.setup.js','envelope','onTestCase','IpDqb','UnhandledError','testCaseAttemptDataMap','HookRunStarted','result','LOG_REPORT','EstUd','9066bSHCNs','onTestStepStarted','testSteps','push','testCases','../../../helpers/logger','../../v2/state/testFrameworkState.js','toISOString','TestRunFinished','parse','logTestRunFinished','BcPww','bootstrap','dLIVt','onPickle','fcCgi','split','dpRRQ','toLowerCase','onStepDefinition','testStepResult','testStepStarted','fTLge','onTestCaseFinished','Executing\x20tests\x20for\x20','SKIPPED','snippetBuilder','lNWAy','testRunStarted','includes','testStepFinished','testCaseAttempt','PENDING','toString','forEach','isCliEnabled','finishedAt','uKeWq','testStepId','10yiPkrF','1652862xerDWT','oWdQz','testCaseFinished','pickleStepId','THbOQ','pickleMap','10842792OyttTa','testUUID','gherkinDocumentMap','hook_type','bstack','onGherkinDocument','onTestRunStarted','33GZwgVG','DodUu','bVTeZ','../../playwright/reporter/test-details.js','ghgSy','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','name','getInstance','message','source','iptdP','background','dMJOu','DdJfC','../../v2/state/hookState.js','parseTestCaseAttempt','cliInitPromise','testRunFinished','../../v2/utils/cucumber-utils.js','onHook','ObPEn','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','steps','bAKor','POST','../../v2/cliUtils','../../../helpers/testhub/utils.js','logTestCaseFinished','twCLe','eventDataCollector','getTestCaseAttempt','duration','find','onTestRunFinished','children','CLI\x20already\x20running\x20-\x20binSessionId:\x20','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','AMBIGUOUS','ykfVI','@cucumber/cucumber','WaOPA','createHookData','sendHook','444392Qktznf','test','924505pkTbrt','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','PASSED','report','finished_at','failureType','qvoXy','XlhFI','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','oORtv','HookRunFinished','getGherkinStepMap','uri','lFxww'];a7_0x562d=function(){return _0x46a57c;};return a7_0x562d();}class BrowserstackFormatter extends Formatter{constructor(_0x5ca3aa){const _0x198965=a7_0x17566a,_0x15b60d={};_0x15b60d['daYUQ']=_0x198965(0xaa);const _0xb64b89=_0x15b60d;super(_0x5ca3aa),this[_0x198965(0x118)]={},_0x5ca3aa[_0x198965(0x98)]['on'](_0xb64b89['daYUQ'],async _0x28fd21=>{const _0x5b0ec8=_0x198965;switch(!![]){case!!_0x28fd21[_0x5b0ec8(0xcf)]:this[_0x5b0ec8(0xe7)](_0x28fd21['testRunStarted']);break;case!!_0x28fd21[_0x5b0ec8(0xf9)]:this[_0x5b0ec8(0x109)](_0x28fd21[_0x5b0ec8(0xf9)]);break;case!!_0x28fd21[_0x5b0ec8(0xa8)]:this[_0x5b0ec8(0xa4)](_0x28fd21[_0x5b0ec8(0xa8)],_0x5ca3aa,_0x28fd21);break;case!!_0x28fd21[_0x5b0ec8(0xdd)]:this[_0x5b0ec8(0xca)](_0x28fd21[_0x5b0ec8(0xdd)],_0x5ca3aa,_0x28fd21);break;case!!_0x28fd21[_0x5b0ec8(0xc8)]:this[_0x5b0ec8(0xb4)](_0x28fd21[_0x5b0ec8(0xc8)],_0x5ca3aa);break;case!!_0x28fd21['testStepFinished']:this[_0x5b0ec8(0x93)](_0x28fd21[_0x5b0ec8(0xd1)],_0x5ca3aa);break;case!!_0x28fd21['hook']:this[_0x5b0ec8(0xfb)](_0x28fd21[_0x5b0ec8(0x133)]);break;case!!_0x28fd21[_0x5b0ec8(0x91)]:this[_0x5b0ec8(0xab)](_0x28fd21[_0x5b0ec8(0x91)]);break;case!!_0x28fd21['pickle']:this['onPickle'](_0x28fd21[_0x5b0ec8(0x95)]);break;case!!_0x28fd21[_0x5b0ec8(0x9b)]:this[_0x5b0ec8(0xe6)](_0x28fd21[_0x5b0ec8(0x9b)]);break;}});}['onHook'](_0x52b29d){const _0x4eeb2f=a7_0x17566a;this['report'][_0x4eeb2f(0x13c)]=Object['assign']([],this['report']['hooks']||[]),this[_0x4eeb2f(0x118)]['hooks'][_0x4eeb2f(0xb6)](_0x52b29d);}[a7_0x17566a(0xc1)](_0x191cba){const _0x46da01=a7_0x17566a;this['report'][_0x46da01(0x95)]=Object['assign']([],this[_0x46da01(0x118)][_0x46da01(0x95)]||[],[_0x191cba]),this[_0x46da01(0x118)][_0x46da01(0x95)]['push'](_0x191cba);}[a7_0x17566a(0xe6)](_0x8c00d){const _0x59c5c6=a7_0x17566a;this[_0x59c5c6(0x118)][_0x59c5c6(0x9b)]=Object[_0x59c5c6(0x14d)]([],this[_0x59c5c6(0x118)][_0x59c5c6(0x9b)]||[],[_0x8c00d]),this[_0x59c5c6(0x118)][_0x59c5c6(0x9b)][_0x59c5c6(0xb6)](_0x8c00d);}['onSource'](_0x1ff0e1){const _0x4d3f61=a7_0x17566a;this['report'][_0x4d3f61(0xf1)]=_0x1ff0e1;}[a7_0x17566a(0xc6)](_0x37e87){const _0x1ad67a=a7_0x17566a;this[_0x1ad67a(0x118)][_0x1ad67a(0x14a)]=Object[_0x1ad67a(0x14d)]([],this['report'][_0x1ad67a(0x14a)]||[],[_0x37e87]),this[_0x1ad67a(0x118)]['stepDefinition'][_0x1ad67a(0xb6)](_0x37e87);}[a7_0x17566a(0xab)](_0x400be9){const _0x3509da=a7_0x17566a;this[_0x3509da(0x118)]['testCases']=Object[_0x3509da(0x14d)]([],this[_0x3509da(0x118)][_0x3509da(0xb7)]||[],[_0x400be9]),this['report'][_0x3509da(0xb7)]['push'](_0x400be9);}[a7_0x17566a(0x103)](_0x5bdd3f){const _0x42922b=a7_0x17566a,_0x3b32ca={'XGkfZ':function(_0x519bb1,_0x478405){return _0x519bb1!==_0x478405;},'GtRSC':_0x42922b(0xe5),'spVGc':function(_0x452784,_0x2caf24){return _0x452784+_0x2caf24;},'wHTsM':function(_0x2b8892,_0x4355a5){return _0x2b8892+_0x4355a5;},'IpDqb':function(_0x3e81ef,_0x3a554c){return _0x3e81ef+_0x3a554c;},'lriSb':_0x42922b(0x9d),'sUrAB':_0x42922b(0xa2),'ghgSy':function(_0x3414d0,_0x284435){return _0x3414d0===_0x284435;},'BcPww':_0x42922b(0x154),'dpRRQ':function(_0x40d3ef,_0x23cd3c,_0x579497){return _0x40d3ef(_0x23cd3c,_0x579497);},'yquMI':_0x42922b(0xb0),'qvoXy':'message','ODuNS':function(_0x137c00,_0x1c9eda){return _0x137c00+_0x1c9eda;},'EstUd':function(_0x115cd5,_0x4d4b4c){return _0x115cd5+_0x4d4b4c;},'lFxww':function(_0x5da94d,_0x387a84){return _0x5da94d+_0x387a84;},'fcCgi':function(_0x26c323,_0x280924){return _0x26c323+_0x280924;},'AjUfC':function(_0x33c6a8,_0x5e3233){return _0x33c6a8+_0x5e3233;}};_0x3b32ca['XGkfZ'](global[_0x42922b(0x14c)],undefined)&&this[_0x42922b(0x13d)](_0x3b32ca['lFxww'](_0x3b32ca[_0x42922b(0xc2)]('\x0a',global['__platform']),'\x0a'));const _0x4bd344=this[_0x42922b(0x105)][_0x42922b(0x106)](_0x5bdd3f[_0x42922b(0x86)]);this['log'](_0x3b32ca[_0x42922b(0x122)](_0x3b32ca['AjUfC'](_0x3b32ca['ODuNS'](_0x3b32ca[_0x42922b(0x122)]('\x20\x20',_0x4bd344[_0x42922b(0x9b)][_0x42922b(0x8b)]['name']),_0x3b32ca[_0x42922b(0x92)]),_0x4bd344['pickle'][_0x42922b(0xee)]),'\x0a'));const _0x251036={};_0x251036[_0x42922b(0xa5)]=this[_0x42922b(0xa5)],_0x251036[_0x42922b(0xcd)]=this[_0x42922b(0xcd)],_0x251036['supportCodeLibrary']=this['supportCodeLibrary'],_0x251036[_0x42922b(0xd2)]=_0x4bd344;const _0x1940ce=formatterHelpers[_0x42922b(0xf7)](_0x251036);let _0x43a045=![];_0x1940ce[_0x42922b(0xb5)]['forEach'](_0x648fe3=>{const _0x3cc8d2=_0x42922b;if(_0x3b32ca['XGkfZ'](_0x648fe3[_0x3cc8d2(0xee)],_0x3b32ca[_0x3cc8d2(0x137)])&&!this[_0x3cc8d2(0x139)](_0x648fe3)){totalTests+=0x1,this[_0x3cc8d2(0x13d)](_0x3b32ca[_0x3cc8d2(0x153)](_0x3b32ca['wHTsM'](_0x3b32ca[_0x3cc8d2(0x153)](_0x3b32ca[_0x3cc8d2(0xac)](_0x3b32ca[_0x3cc8d2(0xac)](_0x3b32ca['lriSb'],_0x648fe3[_0x3cc8d2(0x126)]),_0x648fe3[_0x3cc8d2(0x97)]||''),_0x3b32ca['sUrAB']),Status[_0x648fe3[_0x3cc8d2(0xb0)][_0x3cc8d2(0xa1)]]),'\x0a')),this['incrementCounter'](Status[_0x648fe3[_0x3cc8d2(0xb0)]['status']]);if(_0x3b32ca[_0x3cc8d2(0xec)](Status[_0x648fe3[_0x3cc8d2(0xb0)][_0x3cc8d2(0xa1)]],_0x3b32ca[_0x3cc8d2(0xbe)])){_0x43a045=!![];const _0x4bc24e=_0x3b32ca[_0x3cc8d2(0xc4)](nestedKeyValue,_0x648fe3,[_0x3b32ca[_0x3cc8d2(0x12b)],_0x3b32ca[_0x3cc8d2(0x11b)]]);_0x4bc24e&&(testsErrorMessage[_0x3b32ca['ODuNS'](_0x3b32ca[_0x3cc8d2(0xac)](_0x4bd344[_0x3cc8d2(0x9b)][_0x3cc8d2(0x8b)]['name'],_0x3b32ca['sUrAB']),_0x4bd344[_0x3cc8d2(0x95)][_0x3cc8d2(0xee)])]=_0x4bc24e,this[_0x3cc8d2(0x13d)](_0x3b32ca[_0x3cc8d2(0xb2)](_0x4bc24e,'\x0a')));}}}),_0x43a045&&(testSuitesFailed+=0x1),this[_0x42922b(0x13d)]('\x0a');}['logTestRunFinished'](_0x523abc){}[a7_0x17566a(0x139)](_0x1013ad){const _0x10e45a=a7_0x17566a,_0x17f310={};_0x17f310[_0x10e45a(0x11c)]=function(_0x64f573,_0x146d10){return _0x64f573!==_0x146d10;},_0x17f310[_0x10e45a(0x110)]=_0x10e45a(0xa9);const _0x4d87f7=_0x17f310;if(_0x4d87f7[_0x10e45a(0x11c)](_0x1013ad['sourceLocation'],undefined))return![];if(_0x1013ad[_0x10e45a(0x85)]&&_0x1013ad[_0x10e45a(0x85)][_0x10e45a(0x121)][_0x10e45a(0xd0)](_0x4d87f7[_0x10e45a(0x110)]))return!![];return![];}['incrementCounter'](_0x464f52){const _0x263046=a7_0x17566a,_0x1d21ca={};_0x1d21ca[_0x263046(0xff)]=_0x263046(0x154),_0x1d21ca['THbOQ']=_0x263046(0x117),_0x1d21ca[_0x263046(0x104)]=_0x263046(0xcc),_0x1d21ca['ykfVI']=_0x263046(0xd3),_0x1d21ca[_0x263046(0xce)]='UNDEFINED',_0x1d21ca[_0x263046(0x13e)]='UNKNOWN',_0x1d21ca[_0x263046(0x12e)]=_0x263046(0x10d);const _0x539c01=_0x1d21ca;switch(_0x464f52){case _0x539c01[_0x263046(0xff)]:testsFailed+=0x1;break;case _0x539c01[_0x263046(0xdf)]:testsPassed+=0x1;break;case _0x539c01[_0x263046(0x104)]:testsSkipped+=0x1;break;case _0x539c01[_0x263046(0x10e)]:testsPending+=0x1;break;case _0x539c01[_0x263046(0xce)]:testsUndefined+=0x1;break;case _0x539c01[_0x263046(0x13e)]:testsUnknown+=0x1;break;case _0x539c01['haLmK']:testsAmbiguous+=0x1;break;default:break;}}async['onTestRunStarted'](_0x57fcb3){const _0x5a956e=a7_0x17566a,_0x342416={'dMJOu':function(_0x1ced18,_0xa11134){return _0x1ced18!==_0xa11134;},'DdJfC':function(_0x3dda56,_0x50aae2){return _0x3dda56!==_0x50aae2;},'suPEp':function(_0x568961){return _0x568961();},'fTLge':function(_0x187802,_0x20137e){return _0x187802(_0x20137e);},'gRNGY':function(_0x584e8f,_0x2e0098){return _0x584e8f+_0x2e0098;},'JenPa':_0x5a956e(0x89)};let _0x2a33e3;if(_0x342416[_0x5a956e(0xf4)](process[_0x5a956e(0x13a)]['CONFIG'],undefined)){const _0x1d1c7b=JSON[_0x5a956e(0xbc)](process['env'][_0x5a956e(0x152)]);_0x2a33e3=_0x1d1c7b['capability'];}_0x342416[_0x5a956e(0xf5)](_0x2a33e3,undefined)&&_0x342416[_0x5a956e(0x132)](isBrowserstackInfra)&&(global[_0x5a956e(0x14c)]=_0x342416[_0x5a956e(0xc9)](getPlatformName,_0x2a33e3),this[_0x5a956e(0x13d)](_0x342416[_0x5a956e(0x9a)](_0x5a956e(0xcb)+global['__platform'],'\x0a'))),_0x342416[_0x5a956e(0x132)](shouldProcessEventForTesthub)&&(TestDetails[_0x5a956e(0x14e)](),this[_0x5a956e(0x118)][_0x5a956e(0xcf)]=_0x57fcb3,BrowserstackCLI[_0x5a956e(0xef)]()[_0x5a956e(0xd6)]()&&await this['isCLIReady']()&&(TestInfo[_0x5a956e(0x14e)](_0x342416['JenPa']),await BrowserstackCLI['getInstance']()[_0x5a956e(0x149)]()['trackEvent'](TestFrameworkState[_0x5a956e(0x129)],HookState['PRE'],{})));}['onTestRunFinished'](_0x1ca1bf){const _0x38e980=a7_0x17566a;this[_0x38e980(0x118)][_0x38e980(0xf9)]=_0x1ca1bf,this[_0x38e980(0xbd)](_0x1ca1bf);}async[a7_0x17566a(0xa4)](_0x54058e,_0x43513f,_0x1f5a91){const _0x1fdd6f=a7_0x17566a,_0x358f38={'uKeWq':function(_0x5d90da,_0x224972){return _0x5d90da(_0x224972);},'eTOwW':_0x1fdd6f(0xa7),'akwzb':function(_0x985c4b,_0x21c9e0){return _0x985c4b&&_0x21c9e0;}};testSuites+=0x1;if(_0x358f38[_0x1fdd6f(0xd8)](shouldProcessEventForTesthub,_0x358f38[_0x1fdd6f(0x90)]))try{this['report'][_0x1fdd6f(0xa8)]=this[_0x1fdd6f(0x118)][_0x1fdd6f(0xa8)]||{},this[_0x1fdd6f(0x118)][_0x1fdd6f(0xa8)][_0x54058e['id']]=_0x54058e;let _0x425219=null;BrowserstackCLI['getInstance']()['isCliEnabled']()&&await this[_0x1fdd6f(0x143)]()?_0x425219=TestInfo[_0x1fdd6f(0x148)](_0x54058e['id']):_0x425219=TestDetails[_0x1fdd6f(0x148)](_0x54058e['id']);_testCasesData[_0x54058e['id']]=Object['assign']({},_0x1f5a91);const _0x5c3704=this['report'],_0xfadb0e=_0x54058e[_0x1fdd6f(0x140)],_0x39d81e=_0x5c3704['testCases'][_0x1fdd6f(0x108)](_0x1c11ec=>_0x1c11ec['id']===_0xfadb0e)[_0x1fdd6f(0x8a)],_0x5a9536=_0x5c3704[_0x1fdd6f(0x95)][_0x1fdd6f(0x108)](_0x2587b6=>_0x2587b6['id']===_0x39d81e),_0x50d1ec=_0x5c3704['gherkinDocument'][_0x1fdd6f(0x108)](_0x511aae=>_0x511aae[_0x1fdd6f(0x121)]===_0x5a9536[_0x1fdd6f(0x121)]),_0x5648c0=_0x50d1ec[_0x1fdd6f(0x8b)],_0x5bf45b={'uuid':_0x425219,'startedAt':new Date()[_0x1fdd6f(0xba)]()};if(_0x5a9536){const _0x32482f={};_0x32482f[_0x1fdd6f(0xee)]=_0x5a9536[_0x1fdd6f(0xee)],_0x5bf45b[_0x1fdd6f(0x14b)]=_0x32482f;}if(_0x358f38[_0x1fdd6f(0x96)](_0x50d1ec,_0x5648c0)){const _0xb129eb={};_0xb129eb['path']=_0x50d1ec[_0x1fdd6f(0x121)],_0xb129eb[_0x1fdd6f(0xee)]=_0x5648c0['name'],_0xb129eb[_0x1fdd6f(0x9f)]=_0x5648c0[_0x1fdd6f(0x9f)],_0x5bf45b[_0x1fdd6f(0x8b)]=_0xb129eb;}_tests[_0xfadb0e]=_0x5bf45b;if(BrowserstackCLI['getInstance']()['isCliEnabled']()&&await this['isCLIReady']()){const _0x3fc86a=await cucumberUtils['createTestFrameworkData'](_0x5bf45b,_0x5a9536,_0x1f5a91,_0x50d1ec,_0x54058e['id'],_0x358f38['eTOwW']),_0x541fa8={};_0x541fa8[_0x1fdd6f(0x114)]=_0x3fc86a,await BrowserstackCLI[_0x1fdd6f(0xef)]()[_0x1fdd6f(0x149)]()[_0x1fdd6f(0x8f)](TestFrameworkState['TEST'],HookState['PRE'],_0x541fa8);return;}await testObservabilityReporter[_0x1fdd6f(0x8d)](_0x1f5a91,_0x50d1ec,_0x5a9536,_0x358f38[_0x1fdd6f(0x90)],_0x5bf45b);}catch(_0x38ce07){logger[_0x1fdd6f(0x151)](_0x1fdd6f(0x10c)+util[_0x1fdd6f(0x157)](_0x38ce07)+'\x20');}}async[a7_0x17566a(0xca)](_0x391208,_0x346a29,_0x4932d7){const _0x504848=a7_0x17566a,_0x494aff={'rDbAm':function(_0x4eae1c,_0x2efeda){return _0x4eae1c(_0x2efeda);},'oORtv':_0x504848(0xbb),'pBXsy':'test'};this[_0x504848(0x103)](_0x391208);if(_0x494aff[_0x504848(0xa3)](shouldProcessEventForTesthub,_0x494aff[_0x504848(0x11e)]))try{this[_0x504848(0x118)][_0x504848(0xdd)]=this[_0x504848(0x118)]['testCaseFinished']||{},this[_0x504848(0x118)]['testCaseFinished'][_0x391208[_0x504848(0x86)]]=_0x391208,_testCasesData[_0x4932d7['id']]=Object['assign']({},_0x4932d7);const _0x54605a=_0x391208['testCaseStartedId'],_0x3e7b35=_0x346a29[_0x504848(0x105)][_0x504848(0xae)][_0x54605a][_0x504848(0x140)],_0x1f07c0=_0x346a29[_0x504848(0x105)][_0x504848(0x128)][_0x3e7b35],_0x10676d=_0x1f07c0[_0x504848(0x8a)],_0x19ab3f=_0x346a29['eventDataCollector'][_0x504848(0xe0)][_0x10676d],_0x247b21=this[_0x504848(0x135)](_0x346a29,_0x19ab3f),_0x3bf895=_0x247b21['feature'],_0x272194=_tests[_0x3e7b35];_0x272194&&(delete _tests[_0x3e7b35],_0x272194[_0x504848(0xd7)]=new Date()['toISOString']());if(BrowserstackCLI[_0x504848(0xef)]()[_0x504848(0xd6)]()&&await this[_0x504848(0x143)]()){const _0x13950f=await cucumberUtils[_0x504848(0x9c)](_0x272194,_0x19ab3f,_0x4932d7,_0x247b21,_0x54605a,_0x494aff[_0x504848(0x11e)]),_0x593932={};_0x593932[_0x504848(0x114)]=_0x13950f,await BrowserstackCLI[_0x504848(0xef)]()['getTestFramework']()[_0x504848(0x8f)](TestFrameworkState['TEST'],HookState['POST'],_0x593932);const _0x4f276c={};_0x4f276c[_0x504848(0xe2)]=_0x391208[_0x504848(0x86)],_0x4f276c[_0x504848(0x146)]=_0x494aff['pBXsy'],await BrowserstackCLI[_0x504848(0xef)]()[_0x504848(0x149)]()[_0x504848(0x8f)](TestFrameworkState[_0x504848(0xb1)],HookState['POST'],_0x4f276c);return;}await testObservabilityReporter[_0x504848(0x8d)](_0x4932d7,_0x247b21,_0x19ab3f,_0x494aff['oORtv'],_0x272194);}catch(_0x3360ec){logger['debug'](_0x504848(0x125)+util['format'](_0x3360ec));}}async['onTestStepStarted'](_0x450088,_0x58dd07){const _0x41d044=a7_0x17566a,_0x2728e8={'Bebje':function(_0x40de4f,_0x2af0fc){return _0x40de4f(_0x2af0fc);},'bVTeZ':'HookRunStarted','Ltqlb':function(_0x26e41d,_0x157fd1){return _0x26e41d!==_0x157fd1;},'iptdP':_0x41d044(0xd9)};if(_0x2728e8['Bebje'](shouldProcessEventForTesthub,_0x2728e8['bVTeZ']))try{this['report'][_0x41d044(0xc8)]=this[_0x41d044(0x118)][_0x41d044(0xc8)]||{},this[_0x41d044(0x118)]['testStepStarted'][_0x450088[_0x41d044(0x86)]]=_0x450088;const _0x5ce5f6=_0x450088['testCaseStartedId'],_0x3b25eb=_0x58dd07[_0x41d044(0x105)][_0x41d044(0xae)][_0x5ce5f6][_0x41d044(0x140)],_0x3c7b28=this['report'][_0x41d044(0xb7)][_0x41d044(0x108)](_0x35cd84=>_0x35cd84['id']===_0x3b25eb)[_0x41d044(0x8a)],_0x5f3e4d=this[_0x41d044(0x118)][_0x41d044(0x95)]['find'](_0x4881d6=>_0x4881d6['id']===_0x3c7b28),_0x1249ff=this[_0x41d044(0x118)]['testCases'][_0x41d044(0x108)](_0x79bcac=>_0x79bcac['id']===_0x3b25eb)[_0x41d044(0xb5)],_0x130fe9=this['report'][_0x41d044(0xc8)][_0x5ce5f6][_0x41d044(0xd9)],_0x25f69a=_0x1249ff['find'](_0x236897=>_0x236897['id']===_0x130fe9)[_0x41d044(0xde)],_0x59b005=_0x5f3e4d[_0x41d044(0xfe)][_0x41d044(0x108)](_0x5d6abc=>_0x5d6abc['id']===_0x25f69a);if(_0x25f69a&&_tests[_0x3b25eb]&&_0x2728e8['Ltqlb'](_tests[_0x3b25eb][_0x2728e8['iptdP']],_0x130fe9)){_tests[_0x3b25eb][_0x2728e8[_0x41d044(0xf2)]]=_0x130fe9;const _0xa166a7={};_0xa166a7[_0x41d044(0xfe)]=[];const _0x2d2a74=_tests[_0x3b25eb]||_0xa166a7;_0x2d2a74&&!_0x2d2a74[_0x41d044(0xfe)]&&(_0x2d2a74[_0x41d044(0xfe)]=[]),_0x2d2a74[_0x41d044(0xfe)]['push']({'id':_0x59b005['id'],'text':_0x59b005[_0x41d044(0x97)],'started_at':new Date()[_0x41d044(0xba)]()}),_tests[_0x3b25eb]=_0x2d2a74;}if(BrowserstackCLI[_0x41d044(0xef)]()['isCliEnabled']()&&await this[_0x41d044(0x143)]()){const _0x771e4f=await cucumberUtils[_0x41d044(0x111)](this['report'],_0x5ce5f6,_0x2728e8['bVTeZ'],_0x1249ff,_0x130fe9,_tests[_0x3b25eb]);_0x771e4f&&await BrowserstackCLI[_0x41d044(0xef)]()[_0x41d044(0x149)]()[_0x41d044(0x8f)](TestFrameworkState[_0x771e4f[_0x41d044(0xe4)]],HookState['PRE'],{'hookData':_0x771e4f,'testUUID':_0x450088['testCaseStartedId']});return;}await testObservabilityReporter[_0x41d044(0x112)](this[_0x41d044(0x118)],_0x5ce5f6,_0x2728e8[_0x41d044(0xea)],_0x1249ff,_0x130fe9,_tests[_0x3b25eb]);}catch(_0xa94d1e){logger[_0x41d044(0x151)](_0x41d044(0x123)+util[_0x41d044(0x157)](_0xa94d1e));}}async[a7_0x17566a(0x93)](_0x14ff3c,_0x481f34){const _0x1726cc=a7_0x17566a,_0x431801={'nNXAU':function(_0x373f2e,_0x578a15){return _0x373f2e===_0x578a15;},'oWdQz':_0x1726cc(0x127),'QkrMw':function(_0x10f8d3,_0x53f326){return _0x10f8d3(_0x53f326);},'eYcwJ':_0x1726cc(0x11f),'tQelE':'failed','QtvuS':function(_0x59e04a,_0x11750c){return _0x59e04a===_0x11750c;},'bLdSY':_0x1726cc(0xad),'ObPEn':_0x1726cc(0xd9),'DodUu':_0x1726cc(0xaf),'CROVz':'hook'};this['report'][_0x1726cc(0xd1)]=this['report'][_0x1726cc(0xd1)]||{},this[_0x1726cc(0x118)][_0x1726cc(0xd1)][_0x14ff3c['testCaseStartedId']]=_0x14ff3c;if(_0x431801[_0x1726cc(0x12c)](shouldProcessEventForTesthub,_0x431801[_0x1726cc(0x155)]))try{const _0x3dfb5f=_0x14ff3c[_0x1726cc(0x86)],_0x566a8c=_0x481f34[_0x1726cc(0x105)]['testCaseAttemptDataMap'][_0x3dfb5f][_0x1726cc(0x140)],_0x5e3c9a=_0x481f34[_0x1726cc(0x105)]['testCaseMap'][_0x566a8c],_0x364a3f=_0x5e3c9a[_0x1726cc(0x8a)],_0xe43c80=_0x481f34[_0x1726cc(0x105)][_0x1726cc(0xe0)][_0x364a3f],_0xeec9ee=_0x14ff3c[_0x1726cc(0xd9)],_0x54578b=_0x5e3c9a[_0x1726cc(0xb5)],_0x115d36=this[_0x1726cc(0x105)]['getTestCaseAttempt'](_0x3dfb5f),_0x474afb=_0x54578b[_0x1726cc(0x108)](_0x1a38b9=>_0x1a38b9['id']===_0xeec9ee)['pickleStepId'];let _0x3e9541,_0x50f986;_0x14ff3c[_0x1726cc(0xc7)]&&_0x431801[_0x1726cc(0x14f)](_0x14ff3c[_0x1726cc(0xc7)][_0x1726cc(0xa1)][_0x1726cc(0xd4)]()[_0x1726cc(0xc5)](),_0x431801[_0x1726cc(0x12d)])&&(_0x3e9541=_0x431801[_0x1726cc(0x14f)](_0x14ff3c[_0x1726cc(0xc7)][_0x1726cc(0x9e)],undefined)?_0x14ff3c['testStepResult']['message']:_0x14ff3c[_0x1726cc(0xc7)][_0x1726cc(0x9e)][_0x1726cc(0xf0)],_0x50f986=_0x431801['QtvuS'](_0x14ff3c[_0x1726cc(0xc7)][_0x1726cc(0x9e)],undefined)?_0x431801[_0x1726cc(0x13b)]:_0x14ff3c[_0x1726cc(0xc7)]['message']);if(_0x474afb&&_tests[_0x566a8c][_0x431801[_0x1726cc(0xfc)]]){const _0x57355d=_0xe43c80[_0x1726cc(0xfe)][_0x1726cc(0x108)](_0x379182=>_0x379182['id']===_0x474afb),_0x2c70d5={};_0x2c70d5[_0x1726cc(0xfe)]=[];const _0x3a14ac=_tests[_0x566a8c]||_0x2c70d5;!_0x3a14ac['steps']?_0x3a14ac['steps']=[{'id':_0x57355d['id'],'text':_0x57355d['text'],'finished_at':new Date()[_0x1726cc(0xba)](),'result':_0x14ff3c[_0x1726cc(0xc7)]['status'],'duration':_0x14ff3c[_0x1726cc(0xc7)][_0x1726cc(0x107)][_0x1726cc(0x88)],'failure':_0x3e9541,'failureType':_0x50f986}]:_0x3a14ac['steps']['forEach'](_0xf6846f=>{const _0x244497=_0x1726cc;if(_0x431801[_0x244497(0x14f)](_0xf6846f['id'],_0x57355d['id'])){const _0x34bab9=_0x431801[_0x244497(0xdc)][_0x244497(0xc3)]('|');let _0x18d128=0x0;while(!![]){switch(_0x34bab9[_0x18d128++]){case'0':_0xf6846f[_0x244497(0x107)]=_0x14ff3c[_0x244497(0xc7)][_0x244497(0x107)][_0x244497(0x88)];continue;case'1':_0xf6846f[_0x244497(0x84)]=_0x3e9541;continue;case'2':_0xf6846f[_0x244497(0x119)]=new Date()[_0x244497(0xba)]();continue;case'3':_0xf6846f[_0x244497(0x11a)]=_0x50f986;continue;case'4':_0xf6846f[_0x244497(0xb0)]=_0x14ff3c[_0x244497(0xc7)][_0x244497(0xa1)];continue;}break;}}}),_tests[_0x566a8c]=_0x3a14ac;}delete _tests[_0x566a8c][_0x431801['ObPEn']];if(BrowserstackCLI['getInstance']()[_0x1726cc(0xd6)]()&&await this[_0x1726cc(0x143)]()){const _0x19ce2=await cucumberUtils[_0x1726cc(0x111)](this['report'],_0x3dfb5f,_0x431801[_0x1726cc(0xe9)],_0x54578b,_0xeec9ee,_tests[_0x566a8c]);if(_0x19ce2){await BrowserstackCLI[_0x1726cc(0xef)]()[_0x1726cc(0x149)]()[_0x1726cc(0x8f)](TestFrameworkState[_0x19ce2[_0x1726cc(0xe4)]],HookState[_0x1726cc(0x100)],{'hookData':_0x19ce2,'testUUID':_0x14ff3c[_0x1726cc(0x86)]});const _0x57e114={};_0x57e114['testUUID']=_0x14ff3c[_0x1726cc(0x86)],_0x57e114['type']=_0x431801[_0x1726cc(0x99)],await BrowserstackCLI[_0x1726cc(0xef)]()[_0x1726cc(0x149)]()['trackEvent'](TestFrameworkState[_0x1726cc(0xb1)],HookState[_0x1726cc(0x100)],_0x57e114);}return;}await testObservabilityReporter['sendHook'](this[_0x1726cc(0x118)],_0x3dfb5f,_0x431801[_0x1726cc(0x155)],_0x54578b,_0xeec9ee,_tests[_0x566a8c]);}catch(_0x176a40){logger[_0x1726cc(0x151)]('Exception\x20in\x20onTestStepFinished\x20event:\x20'+util[_0x1726cc(0x157)](_0x176a40));}}[a7_0x17566a(0x120)](_0x4335fb){const _0x1ea6b3=a7_0x17566a,_0x591f50={};return _0x4335fb['feature'][_0x1ea6b3(0x10a)][_0x1ea6b3(0x87)](this[_0x1ea6b3(0x136)])['flat']()[_0x1ea6b3(0xd5)](_0x5e0e5f=>_0x5e0e5f['steps'][_0x1ea6b3(0xd5)](_0x417129=>_0x591f50[_0x417129['id']]=_0x417129)),_0x591f50;}['extractStepContainers'](_0x444424){const _0x155b74=a7_0x17566a,_0x16a5e4={'XBcDX':function(_0x53534f,_0x13705e){return _0x53534f(_0x13705e);},'vygeg':function(_0x407095,_0x44a960){return _0x407095(_0x44a960);}};if(!_0x16a5e4[_0x155b74(0x12f)](isUndefined,_0x444424[_0x155b74(0xf3)]))return[_0x444424['background']];else{if(!_0x16a5e4['vygeg'](isUndefined,_0x444424[_0x155b74(0x147)]))return _0x444424[_0x155b74(0x147)][_0x155b74(0x10a)][_0x155b74(0x87)](_0xf9ba1c=>!isUndefined(_0xf9ba1c[_0x155b74(0xf3)])?_0xf9ba1c['background']:_0xf9ba1c[_0x155b74(0x14b)]);};return[_0x444424[_0x155b74(0x14b)]];}[a7_0x17566a(0x135)](_0x4abc97,_0x41af34){const _0x19ebac=a7_0x17566a;return Object[_0x19ebac(0x138)](_0x4abc97[_0x19ebac(0x105)][_0x19ebac(0xe3)])['find'](_0x36c342=>_0x36c342[_0x19ebac(0x121)]===_0x41af34[_0x19ebac(0x121)]);}async['ensureCLIInitialized'](){const _0x3219f8=a7_0x17566a;if(this[_0x3219f8(0xf8)])return this[_0x3219f8(0xf8)];return this[_0x3219f8(0xf8)]=this[_0x3219f8(0x12a)](),this[_0x3219f8(0xf8)];}async['_performCLIInitialization'](){const _0x52a28c=a7_0x17566a,_0x11567f={'dLIVt':_0x52a28c(0x141),'Qkeiw':function(_0x529a8a,_0x2ac07d){return _0x529a8a(_0x2ac07d);},'cIexT':_0x52a28c(0x101),'XeyOk':_0x52a28c(0x94)};try{const _0xad36f7=BrowserstackCLI[_0x52a28c(0xef)]();if(_0xad36f7[_0x52a28c(0x124)]())return logger[_0x52a28c(0x151)](_0x52a28c(0x10b)+_0xad36f7[_0x52a28c(0x142)]),!![];const _0x47a84f=process[_0x52a28c(0x13a)][_0x52a28c(0x158)];if(!_0x47a84f)return logger[_0x52a28c(0x151)](_0x11567f[_0x52a28c(0xc0)]),![];const _0x4c7f06=_0x11567f[_0x52a28c(0x156)](require,_0x11567f['cIexT']),{FRAMEWORKS:_0x470753}=_0x11567f[_0x52a28c(0x156)](require,_0x11567f[_0x52a28c(0x145)]);return _0x4c7f06['setFrameworkDetail'](_0x470753[_0x52a28c(0x13f)],_0x470753[_0x52a28c(0x150)]),logger['debug'](_0x52a28c(0x116)+_0x47a84f),await _0xad36f7[_0x52a28c(0xbf)](),logger[_0x52a28c(0x151)](_0x52a28c(0xfd)+_0xad36f7['isRunning']()+_0x52a28c(0x159)+_0xad36f7[_0x52a28c(0x142)]),_0xad36f7[_0x52a28c(0x124)]();}catch(_0x48201e){return logger[_0x52a28c(0x151)](_0x52a28c(0xed)+util[_0x52a28c(0x157)](_0x48201e)),![];}}async['isCLIReady'](){const _0x398145=a7_0x17566a;try{return await this[_0x398145(0x8c)](),BrowserstackCLI[_0x398145(0xef)]()[_0x398145(0x124)]();}catch(_0x5206b0){return logger[_0x398145(0x151)](_0x398145(0x11d)+util[_0x398145(0x157)](_0x5206b0)),![];}}}module['exports']=o11yClassErrorHandler(BrowserstackFormatter,[a7_0x17566a(0xa4),a7_0x17566a(0xca),a7_0x17566a(0xb4),a7_0x17566a(0x93),a7_0x17566a(0xe7),'onTestRunFinished','extractStepContainers',a7_0x17566a(0x135),a7_0x17566a(0x120)]);