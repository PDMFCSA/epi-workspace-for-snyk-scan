function a6_0x5dcb(_0x1fa0f9,_0x1c76d0){const _0xd912d8=a6_0xd912();return a6_0x5dcb=function(_0x5dcb3a,_0x2b4327){_0x5dcb3a=_0x5dcb3a-0x85;let _0x8e2802=_0xd912d8[_0x5dcb3a];return _0x8e2802;},a6_0x5dcb(_0x1fa0f9,_0x1c76d0);}const a6_0x3dbbfa=a6_0x5dcb;(function(_0x34a478,_0x570f17){const _0x5a470e=a6_0x5dcb,_0x3e6bba=_0x34a478();while(!![]){try{const _0x8fe5cd=-parseInt(_0x5a470e(0x14d))/0x1*(-parseInt(_0x5a470e(0xe0))/0x2)+-parseInt(_0x5a470e(0x109))/0x3*(-parseInt(_0x5a470e(0x10c))/0x4)+parseInt(_0x5a470e(0xb5))/0x5*(-parseInt(_0x5a470e(0xe1))/0x6)+-parseInt(_0x5a470e(0xb8))/0x7+parseInt(_0x5a470e(0xf3))/0x8*(parseInt(_0x5a470e(0x11b))/0x9)+parseInt(_0x5a470e(0xcb))/0xa*(-parseInt(_0x5a470e(0x8f))/0xb)+parseInt(_0x5a470e(0x104))/0xc;if(_0x8fe5cd===_0x570f17)break;else _0x3e6bba['push'](_0x3e6bba['shift']());}catch(_0x4759ce){_0x3e6bba['push'](_0x3e6bba['shift']());}}}(a6_0xd912,0x6c1dc));function a6_0xd912(){const _0x16be8e=['eventBroadcaster','PASSED','ofmrT','pickleMap','kqaov','TestRunFinished','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','vGyRB','parse','cwAJN','bYlXH','__platform','OVxNj','HookRunStarted','ejUWf','Qppvm','background','flat','sendTestRunEventForCucumber','424034NEEWxQ','1819542vFZLTT','../../v2/state/testFrameworkState.js','bstack','gZQwK','toString','_performCLIInitialization','eventDataCollector','createTestFrameworkData','UNKNOWN','failureType','jHNFF','stepDefinition','createHookData','Exception\x20in\x20onTestStepStarted\x20event:\x20','jjdTW','getGherkinDocument','sendHook','testCaseAttempt','112dpGNDR','testStepStarted','type','onTestCase','testCaseFinished','LELmJ','debug','tAUmG','../../../bin/v2/TestInfo.js','TEST','RVONb','trackEvent','setFrameworkDetail','CONFIG','sSpiX','WzQDZ','text','4322256kfHpda','binSessionId','testSteps','onTestRunStarted','uri','29580IMjXpZ','hUlpv','keyword','188HPTnXz','AbEkR','status','toLowerCase','1|3|0|2|4','../../utils/constants','toISOString','ewoUD','Exception\x20in\x20onTestStepFinished\x20event:\x20','testCases','extractStepContainers','report','../../v2/cliUtils','cucumber','duration','124515VniclB','gherkinDocument','pickleId','../../v2/state/hookState.js','split','EZNEm','getTestFramework','assign','cliInitPromise','../../../helpers/testhub/utils.js','xEObL','envelope','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','Executing\x20tests\x20for\x20','llrZH','scenario','../../../helpers/test-observability/error-handler','isCliEnabled','testStepId','getTestCaseAttempt','UNDEFINED','POST','VKNxd','gPZfy','../../v2/utils/cucumber-utils.js','path','HookRunFinished','MmqmO','../../../helpers/helper','logTestRunFinished','rMrjo','SKIPPED','onTestStepFinished','npQmR','isRunning','hook','pickle','TestRunStarted','testRunFinished','testStepResult','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','GEpmH','PyYDc','MMGLn','onHook','UnhandledError','winstonLogger','testUUID','find','failed','1nHMfkk','onTestRunFinished','gherkinDocumentMap','TBHKg',',\x20binSessionId:\x20','ensureCLIInitialized','getTestUUID','util','capability','CUCUMBER','seconds','enDLw','hook_type','testCaseMap','isCLIReady','source','mzUab','PENDING','testRunStarted','feature','@cucumber/cucumber','NmiTQ','supportCodeLibrary','913duikpY','map','forEach','PLAYWRIGHT','LOG_REPORT','KODPR','description','exports','onGherkinDocument','name','test','CLI\x20already\x20running\x20-\x20binSessionId:\x20','PRE','testCaseStartedId','env','setup','testCaseStarted','vPrKl','hJCLH','PVwuV','format','isBstackHook','push','testCaseAttemptDataMap','onTestCaseFinished','\x20\x20\x20\x20','Nuxnz','hooks','xkhsP','onTestCaseStarted','onTestStepStarted','log','cucumber-js/test.setup.js','result','finishedAt','exception','ZkqiQ','BMCAv','10fPeyWV','getInstance','bootstrap','829759tgrxvI','rule','../../../helpers/logger','onPickle','incrementCounter','logTestCaseFinished','message','lWzyk','testCaseId','testCase','JDxjZ','actionLocation','steps','AzRDD','lksnc','FMqKC','testStepFinished','XLiPZ','cwd','7400TvvZKI','children'];a6_0xd912=function(){return _0x16be8e;};return a6_0xd912();}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x3dbbfa(0x137)),util=require(a6_0x3dbbfa(0x154)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x3dbbfa(0x8c)),TestDetails=require('../../playwright/reporter/test-details.js'),TestObservabilityReporter=require('../test-observability.js'),{o11yClassErrorHandler}=require(a6_0x3dbbfa(0x12b)),{shouldProcessEventForTesthub}=require(a6_0x3dbbfa(0x124)),BrowserstackCLI=require('../../v2/browserstackCLI.js'),TestFrameworkState=require(a6_0x3dbbfa(0xe2)),HookState=require(a6_0x3dbbfa(0x11e)),CucumberUtils=require(a6_0x3dbbfa(0x133)),TestInfo=require(a6_0x3dbbfa(0xfb)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x3dbbfa(0xba))[a6_0x3dbbfa(0x149)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x379775){const _0x4e5f10=a6_0x3dbbfa,_0x5c966e={};_0x5c966e[_0x4e5f10(0xeb)]=_0x4e5f10(0x126);const _0x4b9b64=_0x5c966e;super(_0x379775),this[_0x4e5f10(0x117)]={},_0x379775[_0x4e5f10(0xcd)]['on'](_0x4b9b64[_0x4e5f10(0xeb)],async _0x367677=>{const _0x5cbb9d=_0x4e5f10;switch(!![]){case!!_0x367677[_0x5cbb9d(0x8a)]:this['onTestRunStarted'](_0x367677['testRunStarted']);break;case!!_0x367677[_0x5cbb9d(0x141)]:this[_0x5cbb9d(0x14e)](_0x367677[_0x5cbb9d(0x141)]);break;case!!_0x367677[_0x5cbb9d(0x9f)]:this[_0x5cbb9d(0xac)](_0x367677[_0x5cbb9d(0x9f)],_0x379775,_0x367677);break;case!!_0x367677['testCaseFinished']:this[_0x5cbb9d(0xa7)](_0x367677[_0x5cbb9d(0xf7)],_0x379775,_0x367677);break;case!!_0x367677['testStepStarted']:this[_0x5cbb9d(0xad)](_0x367677[_0x5cbb9d(0xf4)],_0x379775);break;case!!_0x367677['testStepFinished']:this[_0x5cbb9d(0x13b)](_0x367677[_0x5cbb9d(0xc8)],_0x379775);break;case!!_0x367677[_0x5cbb9d(0x13e)]:this[_0x5cbb9d(0x147)](_0x367677['hook']);break;case!!_0x367677[_0x5cbb9d(0xc1)]:this[_0x5cbb9d(0xf6)](_0x367677[_0x5cbb9d(0xc1)]);break;case!!_0x367677[_0x5cbb9d(0x13f)]:this[_0x5cbb9d(0xbb)](_0x367677[_0x5cbb9d(0x13f)]);break;case!!_0x367677[_0x5cbb9d(0x11c)]:this[_0x5cbb9d(0x97)](_0x367677[_0x5cbb9d(0x11c)]);break;}});}[a6_0x3dbbfa(0x147)](_0x355bd6){const _0x581460=a6_0x3dbbfa;this['report'][_0x581460(0xaa)]=Object[_0x581460(0x122)]([],this[_0x581460(0x117)][_0x581460(0xaa)]||[]),this[_0x581460(0x117)]['hooks'][_0x581460(0xa5)](_0x355bd6);}[a6_0x3dbbfa(0xbb)](_0x41dd40){const _0x36e14=a6_0x3dbbfa;this[_0x36e14(0x117)][_0x36e14(0x13f)]=Object['assign']([],this[_0x36e14(0x117)][_0x36e14(0x13f)]||[],[_0x41dd40]),this[_0x36e14(0x117)][_0x36e14(0x13f)][_0x36e14(0xa5)](_0x41dd40);}[a6_0x3dbbfa(0x97)](_0x4d21e7){const _0x11c333=a6_0x3dbbfa;this['report']['gherkinDocument']=Object[_0x11c333(0x122)]([],this[_0x11c333(0x117)][_0x11c333(0x11c)]||[],[_0x4d21e7]),this['report'][_0x11c333(0x11c)][_0x11c333(0xa5)](_0x4d21e7);}['onSource'](_0x314cdb){const _0x2f57a7=a6_0x3dbbfa;this[_0x2f57a7(0x117)][_0x2f57a7(0x87)]=_0x314cdb;}['onStepDefinition'](_0x395358){const _0x376549=a6_0x3dbbfa;this['report'][_0x376549(0xec)]=Object[_0x376549(0x122)]([],this[_0x376549(0x117)][_0x376549(0xec)]||[],[_0x395358]),this['report'][_0x376549(0xec)][_0x376549(0xa5)](_0x395358);}[a6_0x3dbbfa(0xf6)](_0x240741){const _0x3aa544=a6_0x3dbbfa;this[_0x3aa544(0x117)][_0x3aa544(0x115)]=Object[_0x3aa544(0x122)]([],this[_0x3aa544(0x117)]['testCases']||[],[_0x240741]),this['report'][_0x3aa544(0x115)]['push'](_0x240741);}[a6_0x3dbbfa(0xbd)](_0x39cb2d){const _0x90393d=a6_0x3dbbfa,_0x52aa31={'cwAJN':function(_0x15fa64,_0x28a712){return _0x15fa64!==_0x28a712;},'Qppvm':_0x90393d(0xe3),'enDLw':function(_0x1e60f2,_0x2eaa2c){return _0x1e60f2+_0x2eaa2c;},'npQmR':function(_0x397e50,_0x3117ed){return _0x397e50+_0x3117ed;},'PyYDc':function(_0x19061e,_0x27802c){return _0x19061e+_0x27802c;},'vPrKl':function(_0x1dc99d,_0x93299){return _0x1dc99d+_0x93299;},'sTsRH':_0x90393d(0xa8),'llrZH':'\x20-\x20','VKNxd':function(_0xeca675,_0x939fb5){return _0xeca675===_0x939fb5;},'cbcLg':'FAILED','lksnc':function(_0x1905be,_0x30b056,_0x3fc9d0){return _0x1905be(_0x30b056,_0x3fc9d0);},'qqaDA':'result','ofmrT':_0x90393d(0xbe),'GEpmH':function(_0x38da05,_0x313c64){return _0x38da05+_0x313c64;},'xkhsP':function(_0x10ced0,_0x16c02c){return _0x10ced0!==_0x16c02c;},'dBxTt':function(_0x3d221b,_0x365d5c){return _0x3d221b+_0x365d5c;},'BMCAv':function(_0x1a9477,_0x22cefc){return _0x1a9477+_0x22cefc;}};_0x52aa31[_0x90393d(0xab)](global[_0x90393d(0xd8)],undefined)&&this[_0x90393d(0xae)](_0x52aa31[_0x90393d(0x144)](_0x52aa31[_0x90393d(0x13c)]('\x0a',global[_0x90393d(0xd8)]),'\x0a'));const _0x35f61e=this['eventDataCollector'][_0x90393d(0x12e)](_0x39cb2d[_0x90393d(0x9c)]);this[_0x90393d(0xae)](_0x52aa31['enDLw'](_0x52aa31['dBxTt'](_0x52aa31[_0x90393d(0xb4)](_0x52aa31[_0x90393d(0x144)]('\x20\x20',_0x35f61e[_0x90393d(0x11c)][_0x90393d(0x8b)]['name']),_0x52aa31['llrZH']),_0x35f61e[_0x90393d(0x13f)][_0x90393d(0x98)]),'\x0a'));const _0x517b5f={};_0x517b5f[_0x90393d(0xca)]=this['cwd'],_0x517b5f['snippetBuilder']=this['snippetBuilder'],_0x517b5f[_0x90393d(0x8e)]=this['supportCodeLibrary'],_0x517b5f[_0x90393d(0xf2)]=_0x35f61e;const _0x11b94e=formatterHelpers['parseTestCaseAttempt'](_0x517b5f);let _0x2e79f9=![];_0x11b94e[_0x90393d(0x106)][_0x90393d(0x91)](_0x3b67a5=>{const _0xa5e3c6=_0x90393d;if(_0x52aa31[_0xa5e3c6(0xd6)](_0x3b67a5['name'],_0x52aa31[_0xa5e3c6(0xdc)])&&!this[_0xa5e3c6(0xa4)](_0x3b67a5)){totalTests+=0x1,this[_0xa5e3c6(0xae)](_0x52aa31[_0xa5e3c6(0x158)](_0x52aa31[_0xa5e3c6(0x13c)](_0x52aa31[_0xa5e3c6(0x145)](_0x52aa31[_0xa5e3c6(0xa0)](_0x52aa31[_0xa5e3c6(0x13c)](_0x52aa31['sTsRH'],_0x3b67a5[_0xa5e3c6(0x10b)]),_0x3b67a5['text']||''),_0x52aa31[_0xa5e3c6(0x129)]),Status[_0x3b67a5[_0xa5e3c6(0xb0)][_0xa5e3c6(0x10e)]]),'\x0a')),this[_0xa5e3c6(0xbc)](Status[_0x3b67a5['result']['status']]);if(_0x52aa31[_0xa5e3c6(0x131)](Status[_0x3b67a5[_0xa5e3c6(0xb0)][_0xa5e3c6(0x10e)]],_0x52aa31['cbcLg'])){_0x2e79f9=!![];const _0x50d22b=_0x52aa31[_0xa5e3c6(0xc6)](nestedKeyValue,_0x3b67a5,[_0x52aa31['qqaDA'],_0x52aa31[_0xa5e3c6(0xcf)]]);_0x50d22b&&(testsErrorMessage[_0x52aa31[_0xa5e3c6(0x158)](_0x52aa31[_0xa5e3c6(0x144)](_0x35f61e[_0xa5e3c6(0x11c)][_0xa5e3c6(0x8b)]['name'],_0x52aa31[_0xa5e3c6(0x129)]),_0x35f61e[_0xa5e3c6(0x13f)][_0xa5e3c6(0x98)])]=_0x50d22b,this[_0xa5e3c6(0xae)](_0x52aa31[_0xa5e3c6(0x158)](_0x50d22b,'\x0a')));}}}),_0x2e79f9&&(testSuitesFailed+=0x1),this[_0x90393d(0xae)]('\x0a');}[a6_0x3dbbfa(0x138)](_0x55944b){}[a6_0x3dbbfa(0xa4)](_0x2716bd){const _0x4d53f4=a6_0x3dbbfa,_0x3d071b={};_0x3d071b[_0x4d53f4(0x136)]=function(_0x47c746,_0x1ec2d9){return _0x47c746!==_0x1ec2d9;},_0x3d071b[_0x4d53f4(0x88)]=_0x4d53f4(0xaf);const _0x5499e6=_0x3d071b;if(_0x5499e6[_0x4d53f4(0x136)](_0x2716bd['sourceLocation'],undefined))return![];if(_0x2716bd[_0x4d53f4(0xc3)]&&_0x2716bd[_0x4d53f4(0xc3)]['uri']['includes'](_0x5499e6[_0x4d53f4(0x88)]))return!![];return![];}[a6_0x3dbbfa(0xbc)](_0x53fa15){const _0xd14d0a=a6_0x3dbbfa,_0xbb6b8d={};_0xbb6b8d[_0xd14d0a(0xc7)]='FAILED',_0xbb6b8d['gkXgf']=_0xd14d0a(0xce),_0xbb6b8d[_0xd14d0a(0x101)]=_0xd14d0a(0x13a),_0xbb6b8d[_0xd14d0a(0xc5)]=_0xd14d0a(0x89),_0xbb6b8d[_0xd14d0a(0xfd)]=_0xd14d0a(0x12f),_0xbb6b8d['vGyRB']=_0xd14d0a(0xe9),_0xbb6b8d[_0xd14d0a(0xc9)]='AMBIGUOUS';const _0x5eba37=_0xbb6b8d;switch(_0x53fa15){case _0x5eba37[_0xd14d0a(0xc7)]:testsFailed+=0x1;break;case _0x5eba37['gkXgf']:testsPassed+=0x1;break;case _0x5eba37[_0xd14d0a(0x101)]:testsSkipped+=0x1;break;case _0x5eba37[_0xd14d0a(0xc5)]:testsPending+=0x1;break;case _0x5eba37['RVONb']:testsUndefined+=0x1;break;case _0x5eba37[_0xd14d0a(0xd4)]:testsUnknown+=0x1;break;case _0x5eba37[_0xd14d0a(0xc9)]:testsAmbiguous+=0x1;break;default:break;}}async[a6_0x3dbbfa(0x107)](_0x45c2a9){const _0x1ec88b=a6_0x3dbbfa,_0x3a4d2d={'Nuxnz':function(_0x1da805,_0x531d60){return _0x1da805!==_0x531d60;},'ANcvm':function(_0x615f4f){return _0x615f4f();},'bYlXH':function(_0x2bc3eb,_0x142008){return _0x2bc3eb(_0x142008);},'qiPoD':function(_0x156505,_0x3d781f){return _0x156505+_0x3d781f;},'EZNEm':function(_0x25478a){return _0x25478a();},'bTNsE':_0x1ec88b(0x119)};let _0x3467c9;if(_0x3a4d2d[_0x1ec88b(0xa9)](process[_0x1ec88b(0x9d)][_0x1ec88b(0x100)],undefined)){const _0x2b4830=JSON[_0x1ec88b(0xd5)](process[_0x1ec88b(0x9d)]['CONFIG']);_0x3467c9=_0x2b4830[_0x1ec88b(0x155)];}_0x3a4d2d[_0x1ec88b(0xa9)](_0x3467c9,undefined)&&_0x3a4d2d['ANcvm'](isBrowserstackInfra)&&(global['__platform']=_0x3a4d2d[_0x1ec88b(0xd7)](getPlatformName,_0x3467c9),this[_0x1ec88b(0xae)](_0x3a4d2d['qiPoD'](_0x1ec88b(0x128)+global[_0x1ec88b(0xd8)],'\x0a'))),_0x3a4d2d[_0x1ec88b(0x120)](shouldProcessEventForTesthub)&&(TestDetails[_0x1ec88b(0x9e)](),this['report'][_0x1ec88b(0x8a)]=_0x45c2a9,BrowserstackCLI[_0x1ec88b(0xb6)]()[_0x1ec88b(0x12c)]()&&await this[_0x1ec88b(0x86)]()&&(TestInfo[_0x1ec88b(0x9e)](_0x3a4d2d['bTNsE']),await BrowserstackCLI['getInstance']()[_0x1ec88b(0x121)]()[_0x1ec88b(0xfe)](TestFrameworkState['INIT_TEST'],HookState['PRE'],{})));}[a6_0x3dbbfa(0x14e)](_0x17d46c){const _0xcc5713=a6_0x3dbbfa;this[_0xcc5713(0x117)]['testRunFinished']=_0x17d46c,this[_0xcc5713(0x138)](_0x17d46c);}async['onTestCaseStarted'](_0x182403,_0xdd92e5,_0x37e6cc){const _0x11fd25=a6_0x3dbbfa,_0x608051={'PVwuV':function(_0x16c264,_0x49dd45){return _0x16c264(_0x49dd45);},'JDxjZ':_0x11fd25(0x140),'gPZfy':function(_0x289433,_0x1a58a6){return _0x289433&&_0x1a58a6;}};testSuites+=0x1;if(_0x608051[_0x11fd25(0xa2)](shouldProcessEventForTesthub,_0x608051[_0x11fd25(0xc2)]))try{this[_0x11fd25(0x117)]['testCaseStarted']=this['report']['testCaseStarted']||{},this[_0x11fd25(0x117)][_0x11fd25(0x9f)][_0x182403['id']]=_0x182403;let _0x3cfec0=null;BrowserstackCLI[_0x11fd25(0xb6)]()[_0x11fd25(0x12c)]()&&await this[_0x11fd25(0x86)]()?_0x3cfec0=TestInfo[_0x11fd25(0x153)](_0x182403['id']):_0x3cfec0=TestDetails[_0x11fd25(0x153)](_0x182403['id']);_testCasesData[_0x182403['id']]=Object['assign']({},_0x37e6cc);const _0x58211b=this['report'],_0x268f41=_0x182403[_0x11fd25(0xc0)],_0x437a44=_0x58211b[_0x11fd25(0x115)][_0x11fd25(0x14b)](_0x2fc895=>_0x2fc895['id']===_0x268f41)[_0x11fd25(0x11d)],_0x4a31c2=_0x58211b[_0x11fd25(0x13f)][_0x11fd25(0x14b)](_0x5a1e08=>_0x5a1e08['id']===_0x437a44),_0x1fc01c=_0x58211b[_0x11fd25(0x11c)][_0x11fd25(0x14b)](_0x5cc600=>_0x5cc600[_0x11fd25(0x108)]===_0x4a31c2['uri']),_0x538d66=_0x1fc01c[_0x11fd25(0x8b)],_0xb6feb={'uuid':_0x3cfec0,'startedAt':new Date()['toISOString']()};if(_0x4a31c2){const _0x2f1f54={};_0x2f1f54[_0x11fd25(0x98)]=_0x4a31c2[_0x11fd25(0x98)],_0xb6feb[_0x11fd25(0x12a)]=_0x2f1f54;}if(_0x608051[_0x11fd25(0x132)](_0x1fc01c,_0x538d66)){const _0x479524={};_0x479524[_0x11fd25(0x134)]=_0x1fc01c['uri'],_0x479524[_0x11fd25(0x98)]=_0x538d66[_0x11fd25(0x98)],_0x479524[_0x11fd25(0x95)]=_0x538d66[_0x11fd25(0x95)],_0xb6feb[_0x11fd25(0x8b)]=_0x479524;}_tests[_0x268f41]=_0xb6feb;if(BrowserstackCLI[_0x11fd25(0xb6)]()[_0x11fd25(0x12c)]()&&await this[_0x11fd25(0x86)]()){const _0x429978=await cucumberUtils[_0x11fd25(0xe8)](_0xb6feb,_0x4a31c2,_0x37e6cc,_0x1fc01c,_0x182403['id'],_0x608051['JDxjZ']),_0x5dbc53={};_0x5dbc53[_0x11fd25(0x99)]=_0x429978,await BrowserstackCLI['getInstance']()[_0x11fd25(0x121)]()[_0x11fd25(0xfe)](TestFrameworkState[_0x11fd25(0xfc)],HookState[_0x11fd25(0x9b)],_0x5dbc53);return;}await testObservabilityReporter[_0x11fd25(0xdf)](_0x37e6cc,_0x1fc01c,_0x4a31c2,_0x608051['JDxjZ'],_0xb6feb);}catch(_0x296af1){logger['debug'](_0x11fd25(0x143)+util['format'](_0x296af1)+'\x20');}}async[a6_0x3dbbfa(0xa7)](_0xf9752f,_0x3ef4cf,_0x2f4365){const _0x319cbd=a6_0x3dbbfa,_0x3b5767={'jjdTW':function(_0x42ec2c,_0x1aaff0){return _0x42ec2c(_0x1aaff0);},'tAUmG':_0x319cbd(0xd2),'hJCLH':_0x319cbd(0x99)};this['logTestCaseFinished'](_0xf9752f);if(_0x3b5767[_0x319cbd(0xef)](shouldProcessEventForTesthub,_0x3b5767[_0x319cbd(0xfa)]))try{this[_0x319cbd(0x117)]['testCaseFinished']=this['report'][_0x319cbd(0xf7)]||{},this[_0x319cbd(0x117)][_0x319cbd(0xf7)][_0xf9752f[_0x319cbd(0x9c)]]=_0xf9752f,_testCasesData[_0x2f4365['id']]=Object[_0x319cbd(0x122)]({},_0x2f4365);const _0x362014=_0xf9752f[_0x319cbd(0x9c)],_0x5ac67a=_0x3ef4cf['eventDataCollector']['testCaseAttemptDataMap'][_0x362014][_0x319cbd(0xc0)],_0xf9198b=_0x3ef4cf[_0x319cbd(0xe7)]['testCaseMap'][_0x5ac67a],_0x49bf01=_0xf9198b[_0x319cbd(0x11d)],_0x384560=_0x3ef4cf[_0x319cbd(0xe7)][_0x319cbd(0xd0)][_0x49bf01],_0x47dbc0=this[_0x319cbd(0xf0)](_0x3ef4cf,_0x384560),_0x5e3e2e=_0x47dbc0['feature'],_0x46bb73=_tests[_0x5ac67a];_0x46bb73&&(delete _tests[_0x5ac67a],_0x46bb73[_0x319cbd(0xb1)]=new Date()[_0x319cbd(0x112)]());if(BrowserstackCLI[_0x319cbd(0xb6)]()[_0x319cbd(0x12c)]()&&await this['isCLIReady']()){const _0x2ab2dd=await cucumberUtils[_0x319cbd(0xe8)](_0x46bb73,_0x384560,_0x2f4365,_0x47dbc0,_0x362014,_0x3b5767[_0x319cbd(0xfa)]),_0x4d9af3={};_0x4d9af3[_0x319cbd(0x99)]=_0x2ab2dd,await BrowserstackCLI[_0x319cbd(0xb6)]()[_0x319cbd(0x121)]()[_0x319cbd(0xfe)](TestFrameworkState[_0x319cbd(0xfc)],HookState[_0x319cbd(0x130)],_0x4d9af3);const _0x3f5965={};_0x3f5965['testUUID']=_0xf9752f[_0x319cbd(0x9c)],_0x3f5965[_0x319cbd(0xf5)]=_0x3b5767[_0x319cbd(0xa1)],await BrowserstackCLI[_0x319cbd(0xb6)]()[_0x319cbd(0x121)]()['trackEvent'](TestFrameworkState[_0x319cbd(0x93)],HookState[_0x319cbd(0x130)],_0x3f5965);return;}await testObservabilityReporter[_0x319cbd(0xdf)](_0x2f4365,_0x47dbc0,_0x384560,_0x3b5767[_0x319cbd(0xfa)],_0x46bb73);}catch(_0x5d6be0){logger['debug']('Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20'+util[_0x319cbd(0xa3)](_0x5d6be0));}}async[a6_0x3dbbfa(0xad)](_0x19e114,_0x26e7df){const _0x35bb5a=a6_0x3dbbfa,_0x34e7ee={'dLcKj':function(_0x37c353,_0xd959f5){return _0x37c353(_0xd959f5);},'NmiTQ':_0x35bb5a(0xda),'Ngxyd':function(_0xed42f8,_0x4b57a3){return _0xed42f8!==_0x4b57a3;},'TBHKg':_0x35bb5a(0x12d)};if(_0x34e7ee['dLcKj'](shouldProcessEventForTesthub,_0x34e7ee['NmiTQ']))try{this['report'][_0x35bb5a(0xf4)]=this['report']['testStepStarted']||{},this[_0x35bb5a(0x117)]['testStepStarted'][_0x19e114['testCaseStartedId']]=_0x19e114;const _0x42263c=_0x19e114[_0x35bb5a(0x9c)],_0x1d8bb9=_0x26e7df['eventDataCollector'][_0x35bb5a(0xa6)][_0x42263c][_0x35bb5a(0xc0)],_0x1bd473=this[_0x35bb5a(0x117)]['testCases'][_0x35bb5a(0x14b)](_0x4edd02=>_0x4edd02['id']===_0x1d8bb9)[_0x35bb5a(0x11d)],_0x17ff8a=this[_0x35bb5a(0x117)][_0x35bb5a(0x13f)][_0x35bb5a(0x14b)](_0x213952=>_0x213952['id']===_0x1bd473),_0x4025a3=this[_0x35bb5a(0x117)][_0x35bb5a(0x115)][_0x35bb5a(0x14b)](_0x3bff51=>_0x3bff51['id']===_0x1d8bb9)[_0x35bb5a(0x106)],_0x26599d=this[_0x35bb5a(0x117)][_0x35bb5a(0xf4)][_0x42263c][_0x35bb5a(0x12d)],_0x5b8bbf=_0x4025a3['find'](_0x44f1ca=>_0x44f1ca['id']===_0x26599d)['pickleStepId'],_0x290770=_0x17ff8a[_0x35bb5a(0xc4)][_0x35bb5a(0x14b)](_0x167164=>_0x167164['id']===_0x5b8bbf);if(_0x5b8bbf&&_tests[_0x1d8bb9]&&_0x34e7ee['Ngxyd'](_tests[_0x1d8bb9][_0x34e7ee[_0x35bb5a(0x150)]],_0x26599d)){_tests[_0x1d8bb9][_0x34e7ee[_0x35bb5a(0x150)]]=_0x26599d;const _0x2c86f7={};_0x2c86f7[_0x35bb5a(0xc4)]=[];const _0x2e3f1d=_tests[_0x1d8bb9]||_0x2c86f7;_0x2e3f1d&&!_0x2e3f1d['steps']&&(_0x2e3f1d['steps']=[]),_0x2e3f1d['steps'][_0x35bb5a(0xa5)]({'id':_0x290770['id'],'text':_0x290770['text'],'started_at':new Date()[_0x35bb5a(0x112)]()}),_tests[_0x1d8bb9]=_0x2e3f1d;}if(BrowserstackCLI['getInstance']()[_0x35bb5a(0x12c)]()&&await this[_0x35bb5a(0x86)]()){const _0xf9a972=await cucumberUtils[_0x35bb5a(0xed)](this[_0x35bb5a(0x117)],_0x42263c,_0x34e7ee[_0x35bb5a(0x8d)],_0x4025a3,_0x26599d,_tests[_0x1d8bb9]);_0xf9a972&&await BrowserstackCLI[_0x35bb5a(0xb6)]()[_0x35bb5a(0x121)]()[_0x35bb5a(0xfe)](TestFrameworkState[_0xf9a972['hook_type']],HookState[_0x35bb5a(0x9b)],{'hookData':_0xf9a972,'testUUID':_0x19e114[_0x35bb5a(0x9c)]});return;}await testObservabilityReporter[_0x35bb5a(0xf1)](this[_0x35bb5a(0x117)],_0x42263c,_0x34e7ee[_0x35bb5a(0x8d)],_0x4025a3,_0x26599d,_tests[_0x1d8bb9]);}catch(_0x245391){logger[_0x35bb5a(0xf9)](_0x35bb5a(0xee)+util[_0x35bb5a(0xa3)](_0x245391));}}async[a6_0x3dbbfa(0x13b)](_0x397ff5,_0xa8611c){const _0x2cc4a3=a6_0x3dbbfa,_0x2af375={'ewoUD':function(_0xa448f8,_0x461faa){return _0xa448f8===_0x461faa;},'LELmJ':_0x2cc4a3(0x110),'hUlpv':function(_0x2276db,_0x1f7a34){return _0x2276db(_0x1f7a34);},'ZkqiQ':_0x2cc4a3(0x135),'KODPR':_0x2cc4a3(0x14c),'xEObL':function(_0x245d3a,_0x3ad462){return _0x245d3a===_0x3ad462;},'OVxNj':_0x2cc4a3(0x148),'WzQDZ':_0x2cc4a3(0x12d),'MMGLn':_0x2cc4a3(0xda),'gZQwK':_0x2cc4a3(0x13e)};this[_0x2cc4a3(0x117)][_0x2cc4a3(0xc8)]=this['report']['testStepFinished']||{},this['report'][_0x2cc4a3(0xc8)][_0x397ff5[_0x2cc4a3(0x9c)]]=_0x397ff5;if(_0x2af375[_0x2cc4a3(0x10a)](shouldProcessEventForTesthub,_0x2af375[_0x2cc4a3(0xb3)]))try{const _0x107c3a=_0x397ff5[_0x2cc4a3(0x9c)],_0x5f3942=_0xa8611c[_0x2cc4a3(0xe7)][_0x2cc4a3(0xa6)][_0x107c3a][_0x2cc4a3(0xc0)],_0x1757be=_0xa8611c[_0x2cc4a3(0xe7)][_0x2cc4a3(0x85)][_0x5f3942],_0x4056b4=_0x1757be[_0x2cc4a3(0x11d)],_0x4ed2ca=_0xa8611c['eventDataCollector'][_0x2cc4a3(0xd0)][_0x4056b4],_0x32b120=_0x397ff5[_0x2cc4a3(0x12d)],_0x2157dc=_0x1757be[_0x2cc4a3(0x106)],_0x400849=this['eventDataCollector'][_0x2cc4a3(0x12e)](_0x107c3a),_0x1ce3ce=_0x2157dc['find'](_0x56f64d=>_0x56f64d['id']===_0x32b120)['pickleStepId'];let _0x32b694,_0x168e59;_0x397ff5[_0x2cc4a3(0x142)]&&_0x2af375[_0x2cc4a3(0x113)](_0x397ff5[_0x2cc4a3(0x142)][_0x2cc4a3(0x10e)][_0x2cc4a3(0xe5)]()[_0x2cc4a3(0x10f)](),_0x2af375[_0x2cc4a3(0x94)])&&(_0x32b694=_0x2af375[_0x2cc4a3(0x113)](_0x397ff5[_0x2cc4a3(0x142)][_0x2cc4a3(0xb2)],undefined)?_0x397ff5[_0x2cc4a3(0x142)][_0x2cc4a3(0xbe)]:_0x397ff5['testStepResult']['exception'][_0x2cc4a3(0xbe)],_0x168e59=_0x2af375[_0x2cc4a3(0x125)](_0x397ff5[_0x2cc4a3(0x142)]['exception'],undefined)?_0x2af375[_0x2cc4a3(0xd9)]:_0x397ff5[_0x2cc4a3(0x142)][_0x2cc4a3(0xbe)]);if(_0x1ce3ce&&_tests[_0x5f3942][_0x2af375['WzQDZ']]){const _0x1c6dc1=_0x4ed2ca[_0x2cc4a3(0xc4)]['find'](_0x581058=>_0x581058['id']===_0x1ce3ce),_0x3c402e={};_0x3c402e[_0x2cc4a3(0xc4)]=[];const _0x529b28=_tests[_0x5f3942]||_0x3c402e;!_0x529b28[_0x2cc4a3(0xc4)]?_0x529b28[_0x2cc4a3(0xc4)]=[{'id':_0x1c6dc1['id'],'text':_0x1c6dc1[_0x2cc4a3(0x103)],'finished_at':new Date()['toISOString'](),'result':_0x397ff5[_0x2cc4a3(0x142)]['status'],'duration':_0x397ff5[_0x2cc4a3(0x142)]['duration'][_0x2cc4a3(0x157)],'failure':_0x32b694,'failureType':_0x168e59}]:_0x529b28[_0x2cc4a3(0xc4)][_0x2cc4a3(0x91)](_0x61d33d=>{const _0x2f2db3=_0x2cc4a3;if(_0x2af375[_0x2f2db3(0x113)](_0x61d33d['id'],_0x1c6dc1['id'])){const _0x5e95ff=_0x2af375[_0x2f2db3(0xf8)][_0x2f2db3(0x11f)]('|');let _0x5dfe62=0x0;while(!![]){switch(_0x5e95ff[_0x5dfe62++]){case'0':_0x61d33d[_0x2f2db3(0x11a)]=_0x397ff5['testStepResult']['duration'][_0x2f2db3(0x157)];continue;case'1':_0x61d33d['finished_at']=new Date()[_0x2f2db3(0x112)]();continue;case'2':_0x61d33d['failure']=_0x32b694;continue;case'3':_0x61d33d['result']=_0x397ff5[_0x2f2db3(0x142)][_0x2f2db3(0x10e)];continue;case'4':_0x61d33d[_0x2f2db3(0xea)]=_0x168e59;continue;}break;}}}),_tests[_0x5f3942]=_0x529b28;}delete _tests[_0x5f3942][_0x2af375[_0x2cc4a3(0x102)]];if(BrowserstackCLI[_0x2cc4a3(0xb6)]()[_0x2cc4a3(0x12c)]()&&await this[_0x2cc4a3(0x86)]()){const _0x5e3afb=await cucumberUtils[_0x2cc4a3(0xed)](this['report'],_0x107c3a,_0x2af375[_0x2cc4a3(0x146)],_0x2157dc,_0x32b120,_tests[_0x5f3942]);if(_0x5e3afb){await BrowserstackCLI[_0x2cc4a3(0xb6)]()[_0x2cc4a3(0x121)]()[_0x2cc4a3(0xfe)](TestFrameworkState[_0x5e3afb[_0x2cc4a3(0x159)]],HookState[_0x2cc4a3(0x130)],{'hookData':_0x5e3afb,'testUUID':_0x397ff5[_0x2cc4a3(0x9c)]});const _0x251520={};_0x251520[_0x2cc4a3(0x14a)]=_0x397ff5['testCaseStartedId'],_0x251520[_0x2cc4a3(0xf5)]=_0x2af375[_0x2cc4a3(0xe4)],await BrowserstackCLI[_0x2cc4a3(0xb6)]()[_0x2cc4a3(0x121)]()[_0x2cc4a3(0xfe)](TestFrameworkState['LOG_REPORT'],HookState['POST'],_0x251520);}return;}await testObservabilityReporter[_0x2cc4a3(0xf1)](this[_0x2cc4a3(0x117)],_0x107c3a,_0x2af375[_0x2cc4a3(0xb3)],_0x2157dc,_0x32b120,_tests[_0x5f3942]);}catch(_0x12c0a4){logger[_0x2cc4a3(0xf9)](_0x2cc4a3(0x114)+util[_0x2cc4a3(0xa3)](_0x12c0a4));}}['getGherkinStepMap'](_0x1c1997){const _0x189323=a6_0x3dbbfa,_0x12d359={};return _0x1c1997[_0x189323(0x8b)][_0x189323(0xcc)][_0x189323(0x90)](this['extractStepContainers'])[_0x189323(0xde)]()['forEach'](_0xa00089=>_0xa00089['steps'][_0x189323(0x91)](_0x3b8f1d=>_0x12d359[_0x3b8f1d['id']]=_0x3b8f1d)),_0x12d359;}[a6_0x3dbbfa(0x116)](_0x2359f5){const _0x132997=a6_0x3dbbfa,_0x3e3f82={'lWzyk':function(_0x2ad936,_0x290b1f){return _0x2ad936(_0x290b1f);}};if(!_0x3e3f82[_0x132997(0xbf)](isUndefined,_0x2359f5['background']))return[_0x2359f5[_0x132997(0xdd)]];else{if(!_0x3e3f82[_0x132997(0xbf)](isUndefined,_0x2359f5[_0x132997(0xb9)]))return _0x2359f5[_0x132997(0xb9)][_0x132997(0xcc)][_0x132997(0x90)](_0x47085c=>!isUndefined(_0x47085c[_0x132997(0xdd)])?_0x47085c[_0x132997(0xdd)]:_0x47085c[_0x132997(0x12a)]);};return[_0x2359f5[_0x132997(0x12a)]];}['getGherkinDocument'](_0xdf5680,_0x3c33f9){const _0x22cb78=a6_0x3dbbfa;return Object['values'](_0xdf5680['eventDataCollector'][_0x22cb78(0x14f)])[_0x22cb78(0x14b)](_0x3e22a5=>_0x3e22a5[_0x22cb78(0x108)]===_0x3c33f9[_0x22cb78(0x108)]);}async['ensureCLIInitialized'](){const _0x5721c9=a6_0x3dbbfa;if(this['cliInitPromise'])return this['cliInitPromise'];return this[_0x5721c9(0x123)]=this['_performCLIInitialization'](),this[_0x5721c9(0x123)];}async[a6_0x3dbbfa(0xe6)](){const _0x3e4815=a6_0x3dbbfa,_0x152160={'kqaov':_0x3e4815(0x127),'AbEkR':function(_0xc7b9af,_0x3323fa){return _0xc7b9af(_0x3323fa);},'rMrjo':_0x3e4815(0x118),'Vwskb':function(_0x324037,_0x24186f){return _0x324037(_0x24186f);},'ejUWf':_0x3e4815(0x111)};try{const _0x1c6240=BrowserstackCLI[_0x3e4815(0xb6)]();if(_0x1c6240['isRunning']())return logger[_0x3e4815(0xf9)](_0x3e4815(0x9a)+_0x1c6240[_0x3e4815(0x105)]),!![];const _0x101c7c=process[_0x3e4815(0x9d)]['BROWSERSTACK_CLI_BIN_SESSION_ID'];if(!_0x101c7c)return logger[_0x3e4815(0xf9)](_0x152160[_0x3e4815(0xd1)]),![];const _0x51f98c=_0x152160[_0x3e4815(0x10d)](require,_0x152160[_0x3e4815(0x139)]),{FRAMEWORKS:_0x22a842}=_0x152160['Vwskb'](require,_0x152160[_0x3e4815(0xdb)]);return _0x51f98c[_0x3e4815(0xff)](_0x22a842[_0x3e4815(0x156)],_0x22a842[_0x3e4815(0x92)]),logger[_0x3e4815(0xf9)]('Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20'+_0x101c7c),await _0x1c6240[_0x3e4815(0xb7)](),logger['debug'](_0x3e4815(0xd3)+_0x1c6240[_0x3e4815(0x13d)]()+_0x3e4815(0x151)+_0x1c6240[_0x3e4815(0x105)]),_0x1c6240[_0x3e4815(0x13d)]();}catch(_0xa83459){return logger[_0x3e4815(0xf9)]('Error\x20initializing\x20CLI\x20in\x20formatter:\x20'+util['format'](_0xa83459)),![];}}async[a6_0x3dbbfa(0x86)](){const _0x9da54e=a6_0x3dbbfa;try{return await this[_0x9da54e(0x152)](),BrowserstackCLI['getInstance']()[_0x9da54e(0x13d)]();}catch(_0x46fd02){return logger[_0x9da54e(0xf9)]('isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20'+util[_0x9da54e(0xa3)](_0x46fd02)),![];}}}module[a6_0x3dbbfa(0x96)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x3dbbfa(0xac),a6_0x3dbbfa(0xa7),a6_0x3dbbfa(0xad),'onTestStepFinished',a6_0x3dbbfa(0x107),a6_0x3dbbfa(0x14e),a6_0x3dbbfa(0x116),a6_0x3dbbfa(0xf0),'getGherkinStepMap']);