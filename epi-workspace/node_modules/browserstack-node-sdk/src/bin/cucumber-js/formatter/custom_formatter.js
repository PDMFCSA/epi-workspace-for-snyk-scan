const a6_0x476053=a6_0x2981;function a6_0x2981(_0x1a6180,_0x4fba80){const _0x35fee7=a6_0x35fe();return a6_0x2981=function(_0x29811c,_0x513a11){_0x29811c=_0x29811c-0x118;let _0x575189=_0x35fee7[_0x29811c];return _0x575189;},a6_0x2981(_0x1a6180,_0x4fba80);}(function(_0x3ae39c,_0x12a7a7){const _0x13af70=a6_0x2981,_0x567a3c=_0x3ae39c();while(!![]){try{const _0x440dc4=parseInt(_0x13af70(0x145))/0x1*(parseInt(_0x13af70(0x130))/0x2)+parseInt(_0x13af70(0x12f))/0x3+parseInt(_0x13af70(0x147))/0x4*(-parseInt(_0x13af70(0x178))/0x5)+parseInt(_0x13af70(0x15c))/0x6+parseInt(_0x13af70(0x1aa))/0x7+-parseInt(_0x13af70(0x19f))/0x8*(parseInt(_0x13af70(0x12a))/0x9)+parseInt(_0x13af70(0x11e))/0xa*(-parseInt(_0x13af70(0x15e))/0xb);if(_0x440dc4===_0x12a7a7)break;else _0x567a3c['push'](_0x567a3c['shift']());}catch(_0x242864){_0x567a3c['push'](_0x567a3c['shift']());}}}(a6_0x35fe,0xe367c));function a6_0x35fe(){const _0x2b495b=['PENDING','flat','cwd','format','incrementCounter','testCaseMap','GmMcX','includes','sendTestRunEventForCucumber','eventBroadcaster','Executing\x20tests\x20for\x20','ChDHU','supportCodeLibrary','rule','cucumber-js/test.setup.js','parse','20caddqn','result','winstonLogger','forEach','getGherkinDocument','eventDataCollector','acidi','UNKNOWN','__platform','JzkyR','duration','RdrYh','8523WpSCHR','testSteps','OLDjL','exports','testCase','2774640YRJsrY','274324EJDSJB','xIWXV','testCaseStartedId','PJeXq','AxzEO','stepDefinition','GVZZs','pickle','FAILED','CONFIG','gRtRB','split','yGTPl','source','HookRunFinished','pickleId','gherkinDocument','Exception\x20in\x20onTestStepFinished\x20event:\x20','CRSCc','feature','testCaseId','10vjHjmj','../../../helpers/test-observability/error-handler','203180mQuiqS','XvEHZ','JQSpQ','testCaseStarted','yQWoX','failure','failureType','WgMGQ','onStepDefinition','keyword','EFLnq','JJzOY','find','report','values','debug','hooks','snippetBuilder','failed','tQaBB','onTestStepStarted','5013534PswnWl','yrShK','8115844jepryM','wBrrP','hook','UnhandledError','TestRunFinished','env','TestRunStarted','onPickle','status','HUULA','testRunStarted','BXGzE','push','actionLocation','nefiP','extractStepContainers','toString','gherkinDocumentMap','bCzfl','parseTestCaseAttempt','../../playwright/reporter/test-details.js','svcHm','path','children','onTestRunFinished','background','175YpDuGN','finishedAt','toISOString','ECTiz','HookRunStarted','exception','onHook','tDQgE','onTestCaseFinished','onTestRunStarted','XXXsf','xcFaB','util','steps','scenario','name','uri','testStepResult','testCaseAttemptDataMap','bRCqB','pickleMap','testStepFinished','text','assign','tOaLy','message','getGherkinStepMap','onGherkinDocument','onTestStepFinished','onTestCaseStarted','testStepStarted','XLPas','onTestCase','iYDDI','getTestCaseAttempt','vArBQ','description','ZZCaV','vjyTb','1616ocrcMj','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','pickleStepId','logTestCaseFinished','testCases','testCaseAttempt','eVnNZ','sourceLocation','getTestUUID','testStepId','log','8708630plxsXU','ZfwWY','sendHook','zgfZs','testCaseFinished','testRunFinished'];a6_0x35fe=function(){return _0x2b495b;};return a6_0x35fe();}const {requireModule,getPlatformName,nestedKeyValue,isUndefined}=require('../../../helpers/helper'),util=require(a6_0x476053(0x184)),{Formatter,formatterHelpers,Status}=requireModule('@cucumber/cucumber'),TestDetails=require(a6_0x476053(0x172)),TestObservabilityReporter=require('../test-observability.js'),{o11yClassErrorHandler}=require(a6_0x476053(0x146)),{shouldProcessEventForTesthub}=require('../../../helpers/testhub/utils.js'),testObservabilityReporter=new TestObservabilityReporter(),logger=require('../../../helpers/logger')[a6_0x476053(0x120)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x493152){const _0x3725c2=a6_0x476053,_0x46a570={};_0x46a570['ToaCb']='envelope';const _0x1d8a8a=_0x46a570;super(_0x493152),this[_0x3725c2(0x154)]={},_0x493152[_0x3725c2(0x1b9)]['on'](_0x1d8a8a['ToaCb'],async _0x14f822=>{const _0xf006cb=_0x3725c2;switch(!![]){case!!_0x14f822['testRunStarted']:this['onTestRunStarted'](_0x14f822[_0xf006cb(0x168)]);break;case!!_0x14f822[_0xf006cb(0x1af)]:this['onTestRunFinished'](_0x14f822[_0xf006cb(0x1af)]);break;case!!_0x14f822[_0xf006cb(0x14a)]:this['onTestCaseStarted'](_0x14f822[_0xf006cb(0x14a)],_0x493152,_0x14f822);break;case!!_0x14f822[_0xf006cb(0x1ae)]:this[_0xf006cb(0x180)](_0x14f822[_0xf006cb(0x1ae)],_0x493152,_0x14f822);break;case!!_0x14f822[_0xf006cb(0x196)]:this[_0xf006cb(0x15b)](_0x14f822[_0xf006cb(0x196)],_0x493152);break;case!!_0x14f822['testStepFinished']:this[_0xf006cb(0x194)](_0x14f822[_0xf006cb(0x18d)],_0x493152);break;case!!_0x14f822['hook']:this['onHook'](_0x14f822[_0xf006cb(0x160)]);break;case!!_0x14f822[_0xf006cb(0x12e)]:this[_0xf006cb(0x198)](_0x14f822[_0xf006cb(0x12e)]);break;case!!_0x14f822[_0xf006cb(0x137)]:this[_0xf006cb(0x165)](_0x14f822[_0xf006cb(0x137)]);break;case!!_0x14f822[_0xf006cb(0x140)]:this[_0xf006cb(0x193)](_0x14f822['gherkinDocument']);break;}});}[a6_0x476053(0x17e)](_0x32c569){const _0x499c74=a6_0x476053;this[_0x499c74(0x154)][_0x499c74(0x157)]=Object[_0x499c74(0x18f)]([],this['report'][_0x499c74(0x157)]||[]),this[_0x499c74(0x154)][_0x499c74(0x157)][_0x499c74(0x16a)](_0x32c569);}['onPickle'](_0x387f86){const _0x2b59cd=a6_0x476053;this[_0x2b59cd(0x154)][_0x2b59cd(0x137)]=Object['assign']([],this[_0x2b59cd(0x154)]['pickle']||[],[_0x387f86]),this[_0x2b59cd(0x154)][_0x2b59cd(0x137)][_0x2b59cd(0x16a)](_0x387f86);}[a6_0x476053(0x193)](_0x1a790b){const _0x319a27=a6_0x476053;this[_0x319a27(0x154)][_0x319a27(0x140)]=Object[_0x319a27(0x18f)]([],this[_0x319a27(0x154)][_0x319a27(0x140)]||[],[_0x1a790b]),this[_0x319a27(0x154)][_0x319a27(0x140)][_0x319a27(0x16a)](_0x1a790b);}['onSource'](_0x1fa9e1){const _0x450111=a6_0x476053;this['report'][_0x450111(0x13d)]=_0x1fa9e1;}[a6_0x476053(0x14f)](_0x34cf55){const _0x160724=a6_0x476053;this[_0x160724(0x154)]['stepDefinition']=Object['assign']([],this[_0x160724(0x154)]['stepDefinition']||[],[_0x34cf55]),this[_0x160724(0x154)][_0x160724(0x135)][_0x160724(0x16a)](_0x34cf55);}[a6_0x476053(0x198)](_0x4d0426){const _0x29e802=a6_0x476053;this[_0x29e802(0x154)]['testCases']=Object['assign']([],this['report'][_0x29e802(0x1a3)]||[],[_0x4d0426]),this['report'][_0x29e802(0x1a3)][_0x29e802(0x16a)](_0x4d0426);}[a6_0x476053(0x1a2)](_0x5c3c3d){const _0x33eda1=a6_0x476053,_0x3d76fc={'WgMGQ':function(_0x4677fc,_0x3c96f0){return _0x4677fc!==_0x3c96f0;},'GVZZs':'bstack','vjyTb':function(_0x1d3e2f,_0x5bb3a3){return _0x1d3e2f+_0x5bb3a3;},'cZcXe':function(_0x39bbf2,_0x416035){return _0x39bbf2+_0x416035;},'vArBQ':function(_0x1972b2,_0x221f1b){return _0x1972b2+_0x221f1b;},'iYDDI':function(_0xed57bd,_0x4f01b6){return _0xed57bd+_0x4f01b6;},'ZZCaV':'\x20\x20\x20\x20','svcHm':'\x20-\x20','ZfwWY':function(_0x14277d,_0x329ae6){return _0x14277d===_0x329ae6;},'YMBuW':_0x33eda1(0x138),'wBrrP':function(_0x536661,_0x176f07,_0x245e8b){return _0x536661(_0x176f07,_0x245e8b);},'EFLnq':'result','bRCqB':_0x33eda1(0x191),'ZkwGf':function(_0x4b69da,_0x2e52dc){return _0x4b69da+_0x2e52dc;},'loNmn':function(_0x497e9c,_0x3064ce){return _0x497e9c+_0x3064ce;},'PJeXq':function(_0x314b69,_0x2966cb){return _0x314b69+_0x2966cb;},'GmMcX':function(_0x5c6ba3,_0xc83bd9){return _0x5c6ba3+_0xc83bd9;},'ECTiz':function(_0x32f0c3,_0x5d4cca){return _0x32f0c3+_0x5d4cca;}};_0x3d76fc[_0x33eda1(0x14e)](global[_0x33eda1(0x126)],undefined)&&this[_0x33eda1(0x1a9)](_0x3d76fc[_0x33eda1(0x19e)](_0x3d76fc[_0x33eda1(0x133)]('\x0a',global[_0x33eda1(0x126)]),'\x0a'));const _0x8073bf=this[_0x33eda1(0x123)][_0x33eda1(0x19a)](_0x5c3c3d[_0x33eda1(0x132)]);this[_0x33eda1(0x1a9)](_0x3d76fc[_0x33eda1(0x133)](_0x3d76fc[_0x33eda1(0x1b6)](_0x3d76fc[_0x33eda1(0x1b6)](_0x3d76fc[_0x33eda1(0x17b)]('\x20\x20',_0x8073bf[_0x33eda1(0x140)][_0x33eda1(0x143)][_0x33eda1(0x187)]),_0x3d76fc[_0x33eda1(0x173)]),_0x8073bf[_0x33eda1(0x137)][_0x33eda1(0x187)]),'\x0a'));const _0x22ee35={};_0x22ee35['cwd']=this[_0x33eda1(0x1b2)],_0x22ee35[_0x33eda1(0x158)]=this[_0x33eda1(0x158)],_0x22ee35[_0x33eda1(0x11a)]=this['supportCodeLibrary'],_0x22ee35[_0x33eda1(0x1a4)]=_0x8073bf;const _0x298b60=formatterHelpers[_0x33eda1(0x171)](_0x22ee35);let _0x4a002e=![];_0x298b60[_0x33eda1(0x12b)]['forEach'](_0x39059a=>{const _0xf4bc0=_0x33eda1;if(_0x3d76fc['WgMGQ'](_0x39059a[_0xf4bc0(0x187)],_0x3d76fc[_0xf4bc0(0x136)])&&!this['isBstackHook'](_0x39059a)){totalTests+=0x1,this['log'](_0x3d76fc[_0xf4bc0(0x19e)](_0x3d76fc['cZcXe'](_0x3d76fc[_0xf4bc0(0x19b)](_0x3d76fc[_0xf4bc0(0x19b)](_0x3d76fc['iYDDI'](_0x3d76fc[_0xf4bc0(0x19d)],_0x39059a[_0xf4bc0(0x150)]),_0x39059a['text']||''),_0x3d76fc[_0xf4bc0(0x173)]),Status[_0x39059a[_0xf4bc0(0x11f)][_0xf4bc0(0x166)]]),'\x0a')),this[_0xf4bc0(0x1b4)](Status[_0x39059a[_0xf4bc0(0x11f)][_0xf4bc0(0x166)]]);if(_0x3d76fc[_0xf4bc0(0x1ab)](Status[_0x39059a[_0xf4bc0(0x11f)][_0xf4bc0(0x166)]],_0x3d76fc['YMBuW'])){_0x4a002e=!![];const _0x419f6f=_0x3d76fc[_0xf4bc0(0x15f)](nestedKeyValue,_0x39059a,[_0x3d76fc[_0xf4bc0(0x151)],_0x3d76fc[_0xf4bc0(0x18b)]]);_0x419f6f&&(testsErrorMessage[_0x3d76fc[_0xf4bc0(0x199)](_0x3d76fc['ZkwGf'](_0x8073bf[_0xf4bc0(0x140)][_0xf4bc0(0x143)][_0xf4bc0(0x187)],_0x3d76fc['svcHm']),_0x8073bf[_0xf4bc0(0x137)]['name'])]=_0x419f6f,this[_0xf4bc0(0x1a9)](_0x3d76fc['loNmn'](_0x419f6f,'\x0a')));}}}),_0x4a002e&&(testSuitesFailed+=0x1),this[_0x33eda1(0x1a9)]('\x0a');}['logTestRunFinished'](_0x135164){}['isBstackHook'](_0x420a13){const _0x1f76c7=a6_0x476053,_0x39c695={};_0x39c695[_0x1f76c7(0x152)]=function(_0x74b1db,_0x3e01bf){return _0x74b1db!==_0x3e01bf;},_0x39c695[_0x1f76c7(0x183)]=_0x1f76c7(0x11c);const _0x4aefcd=_0x39c695;if(_0x4aefcd[_0x1f76c7(0x152)](_0x420a13[_0x1f76c7(0x1a6)],undefined))return![];if(_0x420a13['actionLocation']&&_0x420a13[_0x1f76c7(0x16b)][_0x1f76c7(0x188)][_0x1f76c7(0x1b7)](_0x4aefcd[_0x1f76c7(0x183)]))return!![];return![];}['incrementCounter'](_0x2bd0d3){const _0x423355=a6_0x476053,_0x479959={};_0x479959[_0x423355(0x131)]=_0x423355(0x138),_0x479959['AxzEO']='PASSED',_0x479959[_0x423355(0x170)]='SKIPPED',_0x479959['FuVVF']=_0x423355(0x1b0),_0x479959[_0x423355(0x127)]='UNDEFINED',_0x479959['tDQgE']=_0x423355(0x125),_0x479959[_0x423355(0x197)]='AMBIGUOUS';const _0x1e314a=_0x479959;switch(_0x2bd0d3){case _0x1e314a[_0x423355(0x131)]:testsFailed+=0x1;break;case _0x1e314a[_0x423355(0x134)]:testsPassed+=0x1;break;case _0x1e314a['bCzfl']:testsSkipped+=0x1;break;case _0x1e314a['FuVVF']:testsPending+=0x1;break;case _0x1e314a[_0x423355(0x127)]:testsUndefined+=0x1;break;case _0x1e314a[_0x423355(0x17f)]:testsUnknown+=0x1;break;case _0x1e314a[_0x423355(0x197)]:testsAmbiguous+=0x1;break;default:break;}}['onTestRunStarted'](_0x431793){const _0x32986d=a6_0x476053,_0x2d9b01={'JQSpQ':function(_0x3ef5b6,_0x22229f){return _0x3ef5b6!==_0x22229f;},'CRSCc':function(_0x3893ec,_0x292194){return _0x3893ec(_0x292194);},'RdrYh':function(_0x223552,_0x4faebf){return _0x223552+_0x4faebf;},'yrShK':function(_0x55a9af){return _0x55a9af();}};let _0x427629;if(_0x2d9b01[_0x32986d(0x149)](process['env'][_0x32986d(0x139)],undefined)){const _0x1fc601=JSON[_0x32986d(0x11d)](process[_0x32986d(0x163)]['CONFIG']);_0x427629=_0x1fc601['capability'];}_0x2d9b01[_0x32986d(0x149)](_0x427629,undefined)&&(global['__platform']=_0x2d9b01[_0x32986d(0x142)](getPlatformName,_0x427629),this[_0x32986d(0x1a9)](_0x2d9b01[_0x32986d(0x129)](_0x32986d(0x118)+global[_0x32986d(0x126)],'\x0a'))),_0x2d9b01[_0x32986d(0x15d)](shouldProcessEventForTesthub)&&(TestDetails['setup'](),this[_0x32986d(0x154)][_0x32986d(0x168)]=_0x431793);}[a6_0x476053(0x176)](_0x1972e9){const _0x5b1ffc=a6_0x476053;this[_0x5b1ffc(0x154)][_0x5b1ffc(0x1af)]=_0x1972e9,this['logTestRunFinished'](_0x1972e9);}async['onTestCaseStarted'](_0x7d206,_0x130c8d,_0x55229c){const _0x37855a=a6_0x476053,_0x1445c9={'cFOyF':function(_0xff30ff,_0x21a2f1){return _0xff30ff(_0x21a2f1);},'tOaLy':_0x37855a(0x164),'XvEHZ':function(_0x38d5d1,_0x4d72c5){return _0x38d5d1&&_0x4d72c5;}};testSuites+=0x1;if(_0x1445c9['cFOyF'](shouldProcessEventForTesthub,_0x1445c9['tOaLy']))try{this['report'][_0x37855a(0x14a)]=this[_0x37855a(0x154)]['testCaseStarted']||{},this[_0x37855a(0x154)]['testCaseStarted'][_0x7d206['id']]=_0x7d206;const _0x282b37=TestDetails[_0x37855a(0x1a7)](_0x7d206['id']);_testCasesData[_0x7d206['id']]=Object['assign']({},_0x55229c);const _0x1ce208=this[_0x37855a(0x154)],_0x99a71=_0x7d206[_0x37855a(0x144)],_0x25a837=_0x1ce208[_0x37855a(0x1a3)]['find'](_0xdb6aa5=>_0xdb6aa5['id']===_0x99a71)[_0x37855a(0x13f)],_0x2cc31e=_0x1ce208[_0x37855a(0x137)][_0x37855a(0x153)](_0x3c3044=>_0x3c3044['id']===_0x25a837),_0x4d32e1=_0x1ce208['gherkinDocument'][_0x37855a(0x153)](_0xacbe72=>_0xacbe72[_0x37855a(0x188)]===_0x2cc31e[_0x37855a(0x188)]),_0x3fa48a=_0x4d32e1[_0x37855a(0x143)],_0x476a82={'uuid':_0x282b37,'startedAt':new Date()[_0x37855a(0x17a)]()};if(_0x2cc31e){const _0x1f73e1={};_0x1f73e1[_0x37855a(0x187)]=_0x2cc31e[_0x37855a(0x187)],_0x476a82['scenario']=_0x1f73e1;}if(_0x1445c9[_0x37855a(0x148)](_0x4d32e1,_0x3fa48a)){const _0xb111bc={};_0xb111bc[_0x37855a(0x174)]=_0x4d32e1[_0x37855a(0x188)],_0xb111bc[_0x37855a(0x187)]=_0x3fa48a['name'],_0xb111bc[_0x37855a(0x19c)]=_0x3fa48a['description'],_0x476a82[_0x37855a(0x143)]=_0xb111bc;}_tests[_0x99a71]=_0x476a82,await testObservabilityReporter[_0x37855a(0x1b8)](_0x55229c,_0x4d32e1,_0x2cc31e,_0x1445c9[_0x37855a(0x190)],_0x476a82);}catch(_0x3fdf15){logger[_0x37855a(0x156)](_0x37855a(0x1a0)+util['format'](_0x3fdf15)+'\x20');}}async[a6_0x476053(0x180)](_0x54b0b8,_0x1abdc3,_0x265b22){const _0x244858=a6_0x476053,_0x48fd80={'yGTPl':function(_0x3e0442,_0x570fba){return _0x3e0442(_0x570fba);},'tQaBB':_0x244858(0x162)};this[_0x244858(0x1a2)](_0x54b0b8);if(_0x48fd80[_0x244858(0x13c)](shouldProcessEventForTesthub,_0x48fd80[_0x244858(0x15a)]))try{this[_0x244858(0x154)][_0x244858(0x1ae)]=this['report'][_0x244858(0x1ae)]||{},this[_0x244858(0x154)]['testCaseFinished'][_0x54b0b8[_0x244858(0x132)]]=_0x54b0b8,_testCasesData[_0x265b22['id']]=Object[_0x244858(0x18f)]({},_0x265b22);const _0x5eeb8d=_0x54b0b8[_0x244858(0x132)],_0x1e77b4=_0x1abdc3[_0x244858(0x123)][_0x244858(0x18a)][_0x5eeb8d][_0x244858(0x144)],_0x38f084=_0x1abdc3[_0x244858(0x123)][_0x244858(0x1b5)][_0x1e77b4],_0x2e23c4=_0x38f084['pickleId'],_0x2bc8ce=_0x1abdc3['eventDataCollector'][_0x244858(0x18c)][_0x2e23c4],_0x5a9a86=this[_0x244858(0x122)](_0x1abdc3,_0x2bc8ce),_0x277331=_tests[_0x1e77b4];_0x277331&&(delete _tests[_0x1e77b4],_0x277331[_0x244858(0x179)]=new Date()[_0x244858(0x17a)]()),await testObservabilityReporter['sendTestRunEventForCucumber'](_0x265b22,_0x5a9a86,_0x2bc8ce,_0x48fd80[_0x244858(0x15a)],_0x277331);}catch(_0x3f6783){logger[_0x244858(0x156)]('Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20'+util[_0x244858(0x1b3)](_0x3f6783));}}async[a6_0x476053(0x15b)](_0x1270e7,_0x211f78){const _0x142699=a6_0x476053,_0x17d78c={'nefiP':function(_0x3a7f42,_0x31e56a){return _0x3a7f42(_0x31e56a);},'yQWoX':_0x142699(0x17c),'XXXsf':function(_0xd15f6,_0x293bbb){return _0xd15f6!==_0x293bbb;},'eVnNZ':_0x142699(0x1a8)};if(_0x17d78c[_0x142699(0x16c)](shouldProcessEventForTesthub,_0x17d78c[_0x142699(0x14b)]))try{this[_0x142699(0x154)][_0x142699(0x196)]=this[_0x142699(0x154)][_0x142699(0x196)]||{},this['report'][_0x142699(0x196)][_0x1270e7['testCaseStartedId']]=_0x1270e7;const _0x5d651f=_0x1270e7[_0x142699(0x132)],_0x58ea47=_0x211f78[_0x142699(0x123)][_0x142699(0x18a)][_0x5d651f][_0x142699(0x144)],_0x512347=this[_0x142699(0x154)][_0x142699(0x1a3)]['find'](_0x4a94d2=>_0x4a94d2['id']===_0x58ea47)[_0x142699(0x13f)],_0x57af34=this[_0x142699(0x154)][_0x142699(0x137)][_0x142699(0x153)](_0x23d3b9=>_0x23d3b9['id']===_0x512347),_0x4dc298=this['report'][_0x142699(0x1a3)][_0x142699(0x153)](_0x39c4cf=>_0x39c4cf['id']===_0x58ea47)['testSteps'],_0x535904=this[_0x142699(0x154)][_0x142699(0x196)][_0x5d651f][_0x142699(0x1a8)],_0x2990cb=_0x4dc298[_0x142699(0x153)](_0x2903c0=>_0x2903c0['id']===_0x535904)['pickleStepId'],_0x34d55d=_0x57af34[_0x142699(0x185)]['find'](_0x109b2d=>_0x109b2d['id']===_0x2990cb);if(_0x2990cb&&_tests[_0x58ea47]&&_0x17d78c[_0x142699(0x182)](_tests[_0x58ea47][_0x17d78c[_0x142699(0x1a5)]],_0x535904)){_tests[_0x58ea47][_0x17d78c['eVnNZ']]=_0x535904;const _0x226681={};_0x226681[_0x142699(0x185)]=[];const _0x394114=_tests[_0x58ea47]||_0x226681;_0x394114&&!_0x394114[_0x142699(0x185)]&&(_0x394114['steps']=[]),_0x394114[_0x142699(0x185)][_0x142699(0x16a)]({'id':_0x34d55d['id'],'text':_0x34d55d[_0x142699(0x18e)],'started_at':new Date()[_0x142699(0x17a)]()}),_tests[_0x58ea47]=_0x394114;}await testObservabilityReporter[_0x142699(0x1ac)](this[_0x142699(0x154)],_0x5d651f,_0x17d78c['yQWoX'],_0x4dc298,_0x535904,_tests[_0x58ea47]);}catch(_0x2fa79d){logger[_0x142699(0x156)]('Exception\x20in\x20onTestStepStarted\x20event:\x20'+util[_0x142699(0x1b3)](_0x2fa79d));}}async[a6_0x476053(0x194)](_0xa8d7bf,_0x4efdd8){const _0x9618e4=a6_0x476053,_0x1f7508={'acidi':function(_0x23b465,_0x1327d9){return _0x23b465===_0x1327d9;},'gRtRB':'1|0|4|3|2','OLDjL':function(_0x246e8b,_0x2206e0){return _0x246e8b(_0x2206e0);},'BXGzE':_0x9618e4(0x13e),'iHsdg':_0x9618e4(0x159),'JIwHQ':_0x9618e4(0x161),'ChDHU':_0x9618e4(0x1a8)};this[_0x9618e4(0x154)][_0x9618e4(0x18d)]=this[_0x9618e4(0x154)][_0x9618e4(0x18d)]||{},this[_0x9618e4(0x154)][_0x9618e4(0x18d)][_0xa8d7bf[_0x9618e4(0x132)]]=_0xa8d7bf;if(_0x1f7508[_0x9618e4(0x12c)](shouldProcessEventForTesthub,_0x1f7508[_0x9618e4(0x169)]))try{const _0x4108e0=_0xa8d7bf[_0x9618e4(0x132)],_0xed6790=_0x4efdd8[_0x9618e4(0x123)][_0x9618e4(0x18a)][_0x4108e0][_0x9618e4(0x144)],_0x4867ba=_0x4efdd8[_0x9618e4(0x123)][_0x9618e4(0x1b5)][_0xed6790],_0x4722a9=_0x4867ba['pickleId'],_0x4e8117=_0x4efdd8['eventDataCollector']['pickleMap'][_0x4722a9],_0x173b26=_0xa8d7bf[_0x9618e4(0x1a8)],_0x47a50b=_0x4867ba['testSteps'],_0x7a00fa=this[_0x9618e4(0x123)]['getTestCaseAttempt'](_0x4108e0),_0x1a21a6=_0x47a50b[_0x9618e4(0x153)](_0x3370b1=>_0x3370b1['id']===_0x173b26)[_0x9618e4(0x1a1)];let _0x2d38da,_0x2a817b;_0xa8d7bf[_0x9618e4(0x189)]&&_0x1f7508[_0x9618e4(0x124)](_0xa8d7bf[_0x9618e4(0x189)]['status'][_0x9618e4(0x16e)]()['toLowerCase'](),_0x1f7508['iHsdg'])&&(_0x2d38da=_0x1f7508['acidi'](_0xa8d7bf[_0x9618e4(0x189)][_0x9618e4(0x17d)],undefined)?_0xa8d7bf['testStepResult'][_0x9618e4(0x191)]:_0xa8d7bf[_0x9618e4(0x189)][_0x9618e4(0x17d)]['message'],_0x2a817b=_0x1f7508[_0x9618e4(0x124)](_0xa8d7bf[_0x9618e4(0x189)][_0x9618e4(0x17d)],undefined)?_0x1f7508['JIwHQ']:_0xa8d7bf[_0x9618e4(0x189)]['message']);await testObservabilityReporter[_0x9618e4(0x1ac)](this['report'],_0x4108e0,_0x1f7508['BXGzE'],_0x47a50b,_0x173b26,_tests[_0xed6790]);if(_0x1a21a6&&_tests[_0xed6790][_0x1f7508[_0x9618e4(0x119)]]){const _0x4e99bf=_0x4e8117['steps'][_0x9618e4(0x153)](_0x19786c=>_0x19786c['id']===_0x1a21a6),_0x2b5f2a={};_0x2b5f2a[_0x9618e4(0x185)]=[];const _0x3c6ad4=_tests[_0xed6790]||_0x2b5f2a;!_0x3c6ad4[_0x9618e4(0x185)]?_0x3c6ad4[_0x9618e4(0x185)]=[{'id':_0x4e99bf['id'],'text':_0x4e99bf[_0x9618e4(0x18e)],'finished_at':new Date()[_0x9618e4(0x17a)](),'result':_0xa8d7bf[_0x9618e4(0x189)][_0x9618e4(0x166)],'duration':_0xa8d7bf[_0x9618e4(0x189)]['duration']['seconds'],'failure':_0x2d38da,'failureType':_0x2a817b}]:_0x3c6ad4['steps'][_0x9618e4(0x121)](_0x2e7edc=>{const _0x225d57=_0x9618e4;if(_0x1f7508[_0x225d57(0x124)](_0x2e7edc['id'],_0x4e99bf['id'])){const _0x3b36f7=_0x1f7508[_0x225d57(0x13a)][_0x225d57(0x13b)]('|');let _0x381a8d=0x0;while(!![]){switch(_0x3b36f7[_0x381a8d++]){case'0':_0x2e7edc[_0x225d57(0x11f)]=_0xa8d7bf[_0x225d57(0x189)]['status'];continue;case'1':_0x2e7edc['finished_at']=new Date()['toISOString']();continue;case'2':_0x2e7edc[_0x225d57(0x14d)]=_0x2a817b;continue;case'3':_0x2e7edc[_0x225d57(0x14c)]=_0x2d38da;continue;case'4':_0x2e7edc[_0x225d57(0x128)]=_0xa8d7bf[_0x225d57(0x189)][_0x225d57(0x128)]['seconds'];continue;}break;}}}),_tests[_0xed6790]=_0x3c6ad4,delete _tests[_0xed6790][_0x1f7508[_0x9618e4(0x119)]];}}catch(_0xda9fb6){logger[_0x9618e4(0x156)](_0x9618e4(0x141)+util[_0x9618e4(0x1b3)](_0xda9fb6));}}[a6_0x476053(0x192)](_0x3813e8){const _0xb232bb=a6_0x476053,_0x56870b={};return _0x3813e8[_0xb232bb(0x143)][_0xb232bb(0x175)]['map'](this[_0xb232bb(0x16d)])[_0xb232bb(0x1b1)]()[_0xb232bb(0x121)](_0x27dfa0=>_0x27dfa0[_0xb232bb(0x185)][_0xb232bb(0x121)](_0x50e5a1=>_0x56870b[_0x50e5a1['id']]=_0x50e5a1)),_0x56870b;}[a6_0x476053(0x16d)](_0x5f1594){const _0x2cab5a=a6_0x476053,_0x1063e9={'HUULA':function(_0x11ed66,_0x3e56b2){return _0x11ed66(_0x3e56b2);},'zgfZs':function(_0xd29f66,_0x23384d){return _0xd29f66(_0x23384d);}};if(!_0x1063e9[_0x2cab5a(0x167)](isUndefined,_0x5f1594[_0x2cab5a(0x177)]))return[_0x5f1594[_0x2cab5a(0x177)]];else{if(!_0x1063e9[_0x2cab5a(0x1ad)](isUndefined,_0x5f1594[_0x2cab5a(0x11b)]))return _0x5f1594['rule'][_0x2cab5a(0x175)]['map'](_0x47bfd1=>!isUndefined(_0x47bfd1[_0x2cab5a(0x177)])?_0x47bfd1['background']:_0x47bfd1['scenario']);};return[_0x5f1594[_0x2cab5a(0x186)]];}[a6_0x476053(0x122)](_0xdc28da,_0x106b33){const _0x56ce4b=a6_0x476053;return Object[_0x56ce4b(0x155)](_0xdc28da[_0x56ce4b(0x123)][_0x56ce4b(0x16f)])[_0x56ce4b(0x153)](_0x2b14e7=>_0x2b14e7['uri']===_0x106b33[_0x56ce4b(0x188)]);}}module[a6_0x476053(0x12d)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x476053(0x195),a6_0x476053(0x180),a6_0x476053(0x15b),a6_0x476053(0x194),a6_0x476053(0x181),a6_0x476053(0x176),a6_0x476053(0x16d),a6_0x476053(0x122),a6_0x476053(0x192)]);