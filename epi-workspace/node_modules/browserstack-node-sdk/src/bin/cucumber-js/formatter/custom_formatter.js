const a7_0x4f55ca=a7_0x23d0;(function(_0x55d9a6,_0x177c27){const _0x351f6d=a7_0x23d0,_0x454555=_0x55d9a6();while(!![]){try{const _0x34970d=-parseInt(_0x351f6d(0x1f7))/0x1+-parseInt(_0x351f6d(0x28a))/0x2+parseInt(_0x351f6d(0x27d))/0x3*(-parseInt(_0x351f6d(0x1f1))/0x4)+-parseInt(_0x351f6d(0x26d))/0x5*(parseInt(_0x351f6d(0x26a))/0x6)+-parseInt(_0x351f6d(0x28e))/0x7+-parseInt(_0x351f6d(0x1f2))/0x8+parseInt(_0x351f6d(0x22f))/0x9;if(_0x34970d===_0x177c27)break;else _0x454555['push'](_0x454555['shift']());}catch(_0x377284){_0x454555['push'](_0x454555['shift']());}}}(a7_0x20b9,0x40d5a));function a7_0x23d0(_0x5bd81e,_0x275d30){const _0x20b995=a7_0x20b9();return a7_0x23d0=function(_0x23d0e5,_0x2f9430){_0x23d0e5=_0x23d0e5-0x1e7;let _0x3808b4=_0x20b995[_0x23d0e5];return _0x3808b4;},a7_0x23d0(_0x5bd81e,_0x275d30);}function a7_0x20b9(){const _0x3f08ef=['map','onTestCase','testCaseMap','path','onGherkinDocument','sQeil','FAILED','onTestStepFinished','testRunStarted','forEach','sendTestRunEventForCucumber','testStepStarted','status','log','wsixg','actionLocation','testStepResult','find','env','testCaseStartedId','debug','background','children','testCase','failureType','hooks','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','report','assign','oMdvG','HQdeV','KtylG','CONFIG','getGherkinStepMap','testStepId','Exception\x20in\x20onTestStepStarted\x20event:\x20','YKZJh','@cucumber/cucumber','dbOZS','\x20\x20\x20\x20','gherkinDocumentMap','description','zLXJu','result','jBOax','AMBIGUOUS','seconds','0|3|2|4|1','values','pickleId','IzqHA','NLHxw','duration','../../../helpers/logger','logTestRunFinished','sendHook','HookRunStarted','4044rhRqmA','gherkinDocument','../../../helpers/test-observability/error-handler','1730egniJH','extractStepContainers','VEmkZ','AZfxr','rule','XFOSo','scenario','GqvBc','EloXw','getGherkinDocument','onTestCaseFinished','onTestRunFinished','testCaseAttempt','yhUCe','VGPmz','gRDxv','36681BhoHWN','HookRunFinished','keyword','NUHNC','rMvqT','stepDefinition','Exception\x20in\x20onTestStepFinished\x20event:\x20','ZNncj','OHUBh','BTHoG','OyIPC','testSteps','testRunFinished','94826bWjqda','exports','text','Iwgvl','1587971PzGzzp','AkRnQ','afYnf','feature','winstonLogger','onSource','testStepFinished','onTestStepStarted','finishedAt','qwwfj','finished_at','toLowerCase','FtJQG','util','hook','message','setup','16bFpVfA','3841800yXGDQs','name','eventDataCollector','flat','format','519422ULFrkK','HARZs','toISOString','pickle','fHBgI','onPickle','testCases','getTestCaseAttempt','\x20-\x20','onTestCaseStarted','abNDa','nxdib','mgXnK','AqtZg','pickleStepId','TestRunStarted','rVKAd','PASSED','failed','RwYLF','CMONV','incrementCounter','cucumber-js/test.setup.js','testCaseId','logTestCaseFinished','__platform','testCaseFinished','failure','../../../helpers/testhub/utils.js','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','Ewbsj','steps','eyPGk','pickleMap','../../../helpers/helper','uri','eventBroadcaster','GcqUE','onHook','bstack','snippetBuilder','DmPhW','isBstackHook','yriNe','sourceLocation','SKIPPED','McknI','../../playwright/reporter/test-details.js','split','getTestUUID','pAqjl','testCaseStarted','supportCodeLibrary','exception','push','PENDING','16394283SXMSOS','parse'];a7_0x20b9=function(){return _0x3f08ef;};return a7_0x20b9();}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a7_0x4f55ca(0x219)),util=require(a7_0x4f55ca(0x1ed)),{Formatter,formatterHelpers,Status}=requireModule(a7_0x4f55ca(0x256)),TestDetails=require(a7_0x4f55ca(0x226)),TestObservabilityReporter=require('../test-observability.js'),{o11yClassErrorHandler}=require(a7_0x4f55ca(0x26c)),{shouldProcessEventForTesthub}=require(a7_0x4f55ca(0x213)),testObservabilityReporter=new TestObservabilityReporter(),logger=require(a7_0x4f55ca(0x266))[a7_0x4f55ca(0x292)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x420ecf){const _0x272de9=a7_0x4f55ca,_0x1284aa={};_0x1284aa[_0x272de9(0x26f)]='envelope';const _0x27fd25=_0x1284aa;super(_0x420ecf),this[_0x272de9(0x24c)]={},_0x420ecf[_0x272de9(0x21b)]['on'](_0x27fd25[_0x272de9(0x26f)],async _0x1cf68c=>{const _0x21c97c=_0x272de9;switch(!![]){case!!_0x1cf68c['testRunStarted']:this['onTestRunStarted'](_0x1cf68c[_0x21c97c(0x239)]);break;case!!_0x1cf68c['testRunFinished']:this[_0x21c97c(0x278)](_0x1cf68c['testRunFinished']);break;case!!_0x1cf68c['testCaseStarted']:this[_0x21c97c(0x200)](_0x1cf68c[_0x21c97c(0x22a)],_0x420ecf,_0x1cf68c);break;case!!_0x1cf68c[_0x21c97c(0x211)]:this['onTestCaseFinished'](_0x1cf68c[_0x21c97c(0x211)],_0x420ecf,_0x1cf68c);break;case!!_0x1cf68c[_0x21c97c(0x23c)]:this[_0x21c97c(0x1e7)](_0x1cf68c[_0x21c97c(0x23c)],_0x420ecf);break;case!!_0x1cf68c[_0x21c97c(0x294)]:this[_0x21c97c(0x238)](_0x1cf68c[_0x21c97c(0x294)],_0x420ecf);break;case!!_0x1cf68c[_0x21c97c(0x1ee)]:this['onHook'](_0x1cf68c[_0x21c97c(0x1ee)]);break;case!!_0x1cf68c['testCase']:this[_0x21c97c(0x232)](_0x1cf68c[_0x21c97c(0x248)]);break;case!!_0x1cf68c[_0x21c97c(0x1fa)]:this['onPickle'](_0x1cf68c[_0x21c97c(0x1fa)]);break;case!!_0x1cf68c[_0x21c97c(0x26b)]:this[_0x21c97c(0x235)](_0x1cf68c['gherkinDocument']);break;}});}[a7_0x4f55ca(0x21d)](_0x35cae4){const _0x13b5b9=a7_0x4f55ca;this[_0x13b5b9(0x24c)][_0x13b5b9(0x24a)]=Object[_0x13b5b9(0x24d)]([],this[_0x13b5b9(0x24c)][_0x13b5b9(0x24a)]||[]),this[_0x13b5b9(0x24c)][_0x13b5b9(0x24a)]['push'](_0x35cae4);}[a7_0x4f55ca(0x1fc)](_0x402623){const _0x446952=a7_0x4f55ca;this['report'][_0x446952(0x1fa)]=Object[_0x446952(0x24d)]([],this[_0x446952(0x24c)][_0x446952(0x1fa)]||[],[_0x402623]),this[_0x446952(0x24c)]['pickle'][_0x446952(0x22d)](_0x402623);}[a7_0x4f55ca(0x235)](_0x202baa){const _0x422641=a7_0x4f55ca;this['report'][_0x422641(0x26b)]=Object['assign']([],this[_0x422641(0x24c)][_0x422641(0x26b)]||[],[_0x202baa]),this['report'][_0x422641(0x26b)][_0x422641(0x22d)](_0x202baa);}[a7_0x4f55ca(0x293)](_0x4063ab){const _0x1474af=a7_0x4f55ca;this[_0x1474af(0x24c)]['source']=_0x4063ab;}['onStepDefinition'](_0x1203ef){const _0x522dd4=a7_0x4f55ca;this[_0x522dd4(0x24c)][_0x522dd4(0x282)]=Object['assign']([],this[_0x522dd4(0x24c)][_0x522dd4(0x282)]||[],[_0x1203ef]),this[_0x522dd4(0x24c)][_0x522dd4(0x282)][_0x522dd4(0x22d)](_0x1203ef);}[a7_0x4f55ca(0x232)](_0x13a7d5){const _0x4697bf=a7_0x4f55ca;this['report'][_0x4697bf(0x1fd)]=Object[_0x4697bf(0x24d)]([],this[_0x4697bf(0x24c)][_0x4697bf(0x1fd)]||[],[_0x13a7d5]),this[_0x4697bf(0x24c)]['testCases'][_0x4697bf(0x22d)](_0x13a7d5);}[a7_0x4f55ca(0x20f)](_0x2399fd){const _0x250d9f=a7_0x4f55ca,_0x25731f={'ZNncj':function(_0x2c5206,_0x3c4f89){return _0x2c5206!==_0x3c4f89;},'jBOax':_0x250d9f(0x21e),'rMvqT':function(_0x4e8de5,_0x41c43e){return _0x4e8de5+_0x41c43e;},'mgXnK':function(_0x25c5e6,_0x216615){return _0x25c5e6+_0x216615;},'NLHxw':function(_0x39e21b,_0x2314fe){return _0x39e21b+_0x2314fe;},'nxdib':function(_0x134cd2,_0x713fab){return _0x134cd2+_0x713fab;},'zLXJu':_0x250d9f(0x258),'DmPhW':_0x250d9f(0x1ff),'GqvBc':function(_0x275fe1,_0x2f6284){return _0x275fe1===_0x2f6284;},'pbvWg':_0x250d9f(0x237),'HARZs':function(_0x51d628,_0xcfe08f,_0x109bde){return _0x51d628(_0xcfe08f,_0x109bde);},'yriNe':_0x250d9f(0x25c),'pAqjl':'message','gRDxv':function(_0x33039d,_0x3aceec){return _0x33039d!==_0x3aceec;},'sHtgj':function(_0x3cc829,_0x3b8fe0){return _0x3cc829+_0x3b8fe0;},'VGPmz':function(_0x2a6a4e,_0x398964){return _0x2a6a4e+_0x398964;},'oMdvG':function(_0x33b6e3,_0x329d05){return _0x33b6e3+_0x329d05;},'wsixg':function(_0x32fc36,_0x5cf6d9){return _0x32fc36+_0x5cf6d9;}};_0x25731f[_0x250d9f(0x27c)](global['__platform'],undefined)&&this['log'](_0x25731f[_0x250d9f(0x203)](_0x25731f['sHtgj']('\x0a',global[_0x250d9f(0x210)]),'\x0a'));const _0x103af2=this['eventDataCollector']['getTestCaseAttempt'](_0x2399fd['testCaseStartedId']);this[_0x250d9f(0x23e)](_0x25731f[_0x250d9f(0x27b)](_0x25731f[_0x250d9f(0x24e)](_0x25731f[_0x250d9f(0x202)](_0x25731f[_0x250d9f(0x23f)]('\x20\x20',_0x103af2['gherkinDocument']['feature']['name']),_0x25731f[_0x250d9f(0x220)]),_0x103af2[_0x250d9f(0x1fa)]['name']),'\x0a'));const _0x4ebaba={};_0x4ebaba['cwd']=this['cwd'],_0x4ebaba[_0x250d9f(0x21f)]=this[_0x250d9f(0x21f)],_0x4ebaba[_0x250d9f(0x22b)]=this[_0x250d9f(0x22b)],_0x4ebaba[_0x250d9f(0x279)]=_0x103af2;const _0x4b4496=formatterHelpers['parseTestCaseAttempt'](_0x4ebaba);let _0x2767e9=![];_0x4b4496[_0x250d9f(0x288)][_0x250d9f(0x23a)](_0x45cae=>{const _0x202138=_0x250d9f;if(_0x25731f[_0x202138(0x284)](_0x45cae[_0x202138(0x1f3)],_0x25731f[_0x202138(0x25d)])&&!this[_0x202138(0x221)](_0x45cae)){totalTests+=0x1,this['log'](_0x25731f[_0x202138(0x281)](_0x25731f[_0x202138(0x203)](_0x25731f['NLHxw'](_0x25731f[_0x202138(0x202)](_0x25731f[_0x202138(0x264)](_0x25731f[_0x202138(0x25b)],_0x45cae[_0x202138(0x27f)]),_0x45cae[_0x202138(0x28c)]||''),_0x25731f[_0x202138(0x220)]),Status[_0x45cae[_0x202138(0x25c)][_0x202138(0x23d)]]),'\x0a')),this['incrementCounter'](Status[_0x45cae[_0x202138(0x25c)][_0x202138(0x23d)]]);if(_0x25731f[_0x202138(0x274)](Status[_0x45cae[_0x202138(0x25c)][_0x202138(0x23d)]],_0x25731f['pbvWg'])){_0x2767e9=!![];const _0x2441c6=_0x25731f[_0x202138(0x1f8)](nestedKeyValue,_0x45cae,[_0x25731f[_0x202138(0x222)],_0x25731f[_0x202138(0x229)]]);_0x2441c6&&(testsErrorMessage[_0x25731f[_0x202138(0x203)](_0x25731f[_0x202138(0x264)](_0x103af2[_0x202138(0x26b)][_0x202138(0x291)]['name'],_0x25731f[_0x202138(0x220)]),_0x103af2[_0x202138(0x1fa)][_0x202138(0x1f3)])]=_0x2441c6,this[_0x202138(0x23e)](_0x25731f[_0x202138(0x203)](_0x2441c6,'\x0a')));}}}),_0x2767e9&&(testSuitesFailed+=0x1),this[_0x250d9f(0x23e)]('\x0a');}['logTestRunFinished'](_0x203290){}[a7_0x4f55ca(0x221)](_0x26bd88){const _0x15ee57=a7_0x4f55ca,_0x5b7934={};_0x5b7934['RblfG']=function(_0x18ee72,_0x43b647){return _0x18ee72!==_0x43b647;},_0x5b7934[_0x15ee57(0x290)]=_0x15ee57(0x20d);const _0x2d4c61=_0x5b7934;if(_0x2d4c61['RblfG'](_0x26bd88[_0x15ee57(0x223)],undefined))return![];if(_0x26bd88['actionLocation']&&_0x26bd88[_0x15ee57(0x240)]['uri']['includes'](_0x2d4c61[_0x15ee57(0x290)]))return!![];return![];}[a7_0x4f55ca(0x20c)](_0x2ebb3c){const _0x5443c9=a7_0x4f55ca,_0x1c9b11={};_0x1c9b11[_0x5443c9(0x236)]=_0x5443c9(0x237),_0x1c9b11['dgDMM']=_0x5443c9(0x208),_0x1c9b11[_0x5443c9(0x21c)]=_0x5443c9(0x224),_0x1c9b11[_0x5443c9(0x280)]=_0x5443c9(0x22e),_0x1c9b11[_0x5443c9(0x225)]='UNDEFINED',_0x1c9b11['OHUBh']='UNKNOWN',_0x1c9b11[_0x5443c9(0x272)]=_0x5443c9(0x25e);const _0x558045=_0x1c9b11;switch(_0x2ebb3c){case _0x558045[_0x5443c9(0x236)]:testsFailed+=0x1;break;case _0x558045['dgDMM']:testsPassed+=0x1;break;case _0x558045['GcqUE']:testsSkipped+=0x1;break;case _0x558045[_0x5443c9(0x280)]:testsPending+=0x1;break;case _0x558045[_0x5443c9(0x225)]:testsUndefined+=0x1;break;case _0x558045[_0x5443c9(0x285)]:testsUnknown+=0x1;break;case _0x558045[_0x5443c9(0x272)]:testsAmbiguous+=0x1;break;default:break;}}['onTestRunStarted'](_0x501a8b){const _0x4e410c=a7_0x4f55ca,_0x4dabbe={'YKZJh':function(_0x4a5507,_0x1ed37e){return _0x4a5507!==_0x1ed37e;},'dbOZS':function(_0x45ce26){return _0x45ce26();},'AkRnQ':function(_0x4fe1aa,_0x36b838){return _0x4fe1aa(_0x36b838);},'OyIPC':function(_0x28ea13,_0x39e831){return _0x28ea13+_0x39e831;},'kBoXr':function(_0x119d51){return _0x119d51();}};let _0x1d8c3c;if(_0x4dabbe[_0x4e410c(0x255)](process[_0x4e410c(0x243)]['CONFIG'],undefined)){const _0x139d07=JSON[_0x4e410c(0x230)](process[_0x4e410c(0x243)][_0x4e410c(0x251)]);_0x1d8c3c=_0x139d07['capability'];}_0x4dabbe[_0x4e410c(0x255)](_0x1d8c3c,undefined)&&_0x4dabbe[_0x4e410c(0x257)](isBrowserstackInfra)&&(global[_0x4e410c(0x210)]=_0x4dabbe[_0x4e410c(0x28f)](getPlatformName,_0x1d8c3c),this['log'](_0x4dabbe[_0x4e410c(0x287)]('Executing\x20tests\x20for\x20'+global['__platform'],'\x0a'))),_0x4dabbe['kBoXr'](shouldProcessEventForTesthub)&&(TestDetails[_0x4e410c(0x1f0)](),this[_0x4e410c(0x24c)][_0x4e410c(0x239)]=_0x501a8b);}[a7_0x4f55ca(0x278)](_0x48a6a5){const _0x989d2c=a7_0x4f55ca;this[_0x989d2c(0x24c)][_0x989d2c(0x289)]=_0x48a6a5,this[_0x989d2c(0x267)](_0x48a6a5);}async[a7_0x4f55ca(0x200)](_0x3967bb,_0x37f04e,_0x2157d0){const _0x5e373e=a7_0x4f55ca,_0x42534a={'fHBgI':function(_0x2682c8,_0x27bff0){return _0x2682c8(_0x27bff0);},'Ewbsj':_0x5e373e(0x206),'AZfxr':function(_0x268d21,_0xc87b0f){return _0x268d21&&_0xc87b0f;}};testSuites+=0x1;if(_0x42534a[_0x5e373e(0x1fb)](shouldProcessEventForTesthub,_0x42534a[_0x5e373e(0x215)]))try{this[_0x5e373e(0x24c)]['testCaseStarted']=this['report'][_0x5e373e(0x22a)]||{},this[_0x5e373e(0x24c)][_0x5e373e(0x22a)][_0x3967bb['id']]=_0x3967bb;const _0x2657bc=TestDetails[_0x5e373e(0x228)](_0x3967bb['id']);_testCasesData[_0x3967bb['id']]=Object[_0x5e373e(0x24d)]({},_0x2157d0);const _0x458be6=this[_0x5e373e(0x24c)],_0x817ffa=_0x3967bb[_0x5e373e(0x20e)],_0x3aa51a=_0x458be6['testCases'][_0x5e373e(0x242)](_0x44265e=>_0x44265e['id']===_0x817ffa)['pickleId'],_0x56fc97=_0x458be6[_0x5e373e(0x1fa)]['find'](_0x437c6c=>_0x437c6c['id']===_0x3aa51a),_0x5b812b=_0x458be6[_0x5e373e(0x26b)][_0x5e373e(0x242)](_0x585893=>_0x585893[_0x5e373e(0x21a)]===_0x56fc97[_0x5e373e(0x21a)]),_0x46bcb6=_0x5b812b[_0x5e373e(0x291)],_0x9cc82f={'uuid':_0x2657bc,'startedAt':new Date()['toISOString']()};if(_0x56fc97){const _0x4782f2={};_0x4782f2[_0x5e373e(0x1f3)]=_0x56fc97[_0x5e373e(0x1f3)],_0x9cc82f[_0x5e373e(0x273)]=_0x4782f2;}if(_0x42534a[_0x5e373e(0x270)](_0x5b812b,_0x46bcb6)){const _0x3a589c={};_0x3a589c[_0x5e373e(0x234)]=_0x5b812b['uri'],_0x3a589c[_0x5e373e(0x1f3)]=_0x46bcb6[_0x5e373e(0x1f3)],_0x3a589c['description']=_0x46bcb6[_0x5e373e(0x25a)],_0x9cc82f['feature']=_0x3a589c;}_tests[_0x817ffa]=_0x9cc82f,await testObservabilityReporter['sendTestRunEventForCucumber'](_0x2157d0,_0x5b812b,_0x56fc97,_0x42534a[_0x5e373e(0x215)],_0x9cc82f);}catch(_0x40d606){logger[_0x5e373e(0x245)](_0x5e373e(0x214)+util['format'](_0x40d606)+'\x20');}}async[a7_0x4f55ca(0x277)](_0x34be9a,_0x33a64e,_0x1f5ddb){const _0x41650d=a7_0x4f55ca,_0xd90a18={'HQdeV':function(_0x542da9,_0x3c4cf5){return _0x542da9(_0x3c4cf5);},'abNDa':'TestRunFinished'};this[_0x41650d(0x20f)](_0x34be9a);if(_0xd90a18[_0x41650d(0x24f)](shouldProcessEventForTesthub,_0xd90a18['abNDa']))try{this[_0x41650d(0x24c)]['testCaseFinished']=this[_0x41650d(0x24c)][_0x41650d(0x211)]||{},this[_0x41650d(0x24c)][_0x41650d(0x211)][_0x34be9a[_0x41650d(0x244)]]=_0x34be9a,_testCasesData[_0x1f5ddb['id']]=Object[_0x41650d(0x24d)]({},_0x1f5ddb);const _0x5b388f=_0x34be9a[_0x41650d(0x244)],_0x170cde=_0x33a64e[_0x41650d(0x1f4)]['testCaseAttemptDataMap'][_0x5b388f][_0x41650d(0x20e)],_0x29e697=_0x33a64e[_0x41650d(0x1f4)][_0x41650d(0x233)][_0x170cde],_0x36bfbe=_0x29e697[_0x41650d(0x262)],_0x396900=_0x33a64e['eventDataCollector']['pickleMap'][_0x36bfbe],_0x15a9a7=this['getGherkinDocument'](_0x33a64e,_0x396900),_0x492b23=_tests[_0x170cde];_0x492b23&&(delete _tests[_0x170cde],_0x492b23[_0x41650d(0x1e8)]=new Date()[_0x41650d(0x1f9)]()),await testObservabilityReporter[_0x41650d(0x23b)](_0x1f5ddb,_0x15a9a7,_0x396900,_0xd90a18[_0x41650d(0x201)],_0x492b23);}catch(_0x2cb917){logger[_0x41650d(0x245)](_0x41650d(0x24b)+util['format'](_0x2cb917));}}async['onTestStepStarted'](_0x3d1595,_0x550d6e){const _0x5431af=a7_0x4f55ca,_0xcf53f5={'rVKAd':function(_0x2067dc,_0x33f031){return _0x2067dc(_0x33f031);},'EloXw':_0x5431af(0x269),'BTHoG':function(_0x4ca207,_0x3242ae){return _0x4ca207!==_0x3242ae;},'IzqHA':'testStepId'};if(_0xcf53f5[_0x5431af(0x207)](shouldProcessEventForTesthub,_0xcf53f5['EloXw']))try{this['report'][_0x5431af(0x23c)]=this['report'][_0x5431af(0x23c)]||{},this[_0x5431af(0x24c)][_0x5431af(0x23c)][_0x3d1595['testCaseStartedId']]=_0x3d1595;const _0x12ba3f=_0x3d1595[_0x5431af(0x244)],_0x38e766=_0x550d6e[_0x5431af(0x1f4)]['testCaseAttemptDataMap'][_0x12ba3f][_0x5431af(0x20e)],_0x2a90c5=this[_0x5431af(0x24c)]['testCases'][_0x5431af(0x242)](_0x1d69d3=>_0x1d69d3['id']===_0x38e766)[_0x5431af(0x262)],_0x384a73=this[_0x5431af(0x24c)][_0x5431af(0x1fa)][_0x5431af(0x242)](_0x2a3877=>_0x2a3877['id']===_0x2a90c5),_0x1ec216=this[_0x5431af(0x24c)][_0x5431af(0x1fd)][_0x5431af(0x242)](_0x4f17a4=>_0x4f17a4['id']===_0x38e766)[_0x5431af(0x288)],_0x51db19=this[_0x5431af(0x24c)][_0x5431af(0x23c)][_0x12ba3f]['testStepId'],_0x5f255f=_0x1ec216[_0x5431af(0x242)](_0x3467cd=>_0x3467cd['id']===_0x51db19)[_0x5431af(0x205)],_0x577e8d=_0x384a73[_0x5431af(0x216)][_0x5431af(0x242)](_0x3cd5b1=>_0x3cd5b1['id']===_0x5f255f);if(_0x5f255f&&_tests[_0x38e766]&&_0xcf53f5[_0x5431af(0x286)](_tests[_0x38e766][_0xcf53f5[_0x5431af(0x263)]],_0x51db19)){_tests[_0x38e766][_0xcf53f5[_0x5431af(0x263)]]=_0x51db19;const _0x33e746={};_0x33e746[_0x5431af(0x216)]=[];const _0x467beb=_tests[_0x38e766]||_0x33e746;_0x467beb&&!_0x467beb[_0x5431af(0x216)]&&(_0x467beb[_0x5431af(0x216)]=[]),_0x467beb[_0x5431af(0x216)]['push']({'id':_0x577e8d['id'],'text':_0x577e8d[_0x5431af(0x28c)],'started_at':new Date()['toISOString']()}),_tests[_0x38e766]=_0x467beb;}await testObservabilityReporter[_0x5431af(0x268)](this[_0x5431af(0x24c)],_0x12ba3f,_0xcf53f5[_0x5431af(0x275)],_0x1ec216,_0x51db19,_tests[_0x38e766]);}catch(_0x99ad00){logger['debug'](_0x5431af(0x254)+util[_0x5431af(0x1f6)](_0x99ad00));}}async[a7_0x4f55ca(0x238)](_0x2de5b0,_0x5812f0){const _0x93282c=a7_0x4f55ca,_0x460c7d={'yhUCe':function(_0x120d7a,_0x4a03dc){return _0x120d7a===_0x4a03dc;},'qwwfj':_0x93282c(0x260),'Iwgvl':function(_0x3b75d9,_0x39f799){return _0x3b75d9(_0x39f799);},'AqtZg':_0x93282c(0x27e),'FtJQG':_0x93282c(0x209),'bbMrU':function(_0x3a384a,_0x64b53d){return _0x3a384a===_0x64b53d;},'RwYLF':function(_0x2616c4,_0x332318){return _0x2616c4===_0x332318;},'eyPGk':'UnhandledError','KtylG':'testStepId'};this[_0x93282c(0x24c)]['testStepFinished']=this['report']['testStepFinished']||{},this[_0x93282c(0x24c)]['testStepFinished'][_0x2de5b0[_0x93282c(0x244)]]=_0x2de5b0;if(_0x460c7d[_0x93282c(0x28d)](shouldProcessEventForTesthub,_0x460c7d[_0x93282c(0x204)]))try{const _0x373a0d=_0x2de5b0[_0x93282c(0x244)],_0x45e219=_0x5812f0['eventDataCollector']['testCaseAttemptDataMap'][_0x373a0d][_0x93282c(0x20e)],_0x4bf29d=_0x5812f0[_0x93282c(0x1f4)]['testCaseMap'][_0x45e219],_0x48b818=_0x4bf29d[_0x93282c(0x262)],_0x50cffe=_0x5812f0[_0x93282c(0x1f4)][_0x93282c(0x218)][_0x48b818],_0x225ea7=_0x2de5b0[_0x93282c(0x253)],_0x38983e=_0x4bf29d[_0x93282c(0x288)],_0x3894ba=this[_0x93282c(0x1f4)][_0x93282c(0x1fe)](_0x373a0d),_0x4c789a=_0x38983e[_0x93282c(0x242)](_0x2f63db=>_0x2f63db['id']===_0x225ea7)[_0x93282c(0x205)];let _0x27c192,_0x52e8e8;_0x2de5b0[_0x93282c(0x241)]&&_0x460c7d[_0x93282c(0x27a)](_0x2de5b0[_0x93282c(0x241)][_0x93282c(0x23d)]['toString']()[_0x93282c(0x1eb)](),_0x460c7d[_0x93282c(0x1ec)])&&(_0x27c192=_0x460c7d['bbMrU'](_0x2de5b0[_0x93282c(0x241)]['exception'],undefined)?_0x2de5b0[_0x93282c(0x241)]['message']:_0x2de5b0[_0x93282c(0x241)][_0x93282c(0x22c)][_0x93282c(0x1ef)],_0x52e8e8=_0x460c7d[_0x93282c(0x20a)](_0x2de5b0[_0x93282c(0x241)][_0x93282c(0x22c)],undefined)?_0x460c7d[_0x93282c(0x217)]:_0x2de5b0[_0x93282c(0x241)]['message']);await testObservabilityReporter[_0x93282c(0x268)](this['report'],_0x373a0d,_0x460c7d[_0x93282c(0x204)],_0x38983e,_0x225ea7,_tests[_0x45e219]);if(_0x4c789a&&_tests[_0x45e219][_0x460c7d[_0x93282c(0x250)]]){const _0x111a6b=_0x50cffe['steps']['find'](_0x26e48b=>_0x26e48b['id']===_0x4c789a),_0x25a25f={};_0x25a25f[_0x93282c(0x216)]=[];const _0x48d936=_tests[_0x45e219]||_0x25a25f;!_0x48d936[_0x93282c(0x216)]?_0x48d936[_0x93282c(0x216)]=[{'id':_0x111a6b['id'],'text':_0x111a6b['text'],'finished_at':new Date()[_0x93282c(0x1f9)](),'result':_0x2de5b0[_0x93282c(0x241)][_0x93282c(0x23d)],'duration':_0x2de5b0['testStepResult']['duration'][_0x93282c(0x25f)],'failure':_0x27c192,'failureType':_0x52e8e8}]:_0x48d936[_0x93282c(0x216)][_0x93282c(0x23a)](_0x41c202=>{const _0x52417a=_0x93282c;if(_0x460c7d[_0x52417a(0x27a)](_0x41c202['id'],_0x111a6b['id'])){const _0x59368a=_0x460c7d[_0x52417a(0x1e9)][_0x52417a(0x227)]('|');let _0x4ee75c=0x0;while(!![]){switch(_0x59368a[_0x4ee75c++]){case'0':_0x41c202[_0x52417a(0x1ea)]=new Date()[_0x52417a(0x1f9)]();continue;case'1':_0x41c202[_0x52417a(0x249)]=_0x52e8e8;continue;case'2':_0x41c202[_0x52417a(0x265)]=_0x2de5b0['testStepResult'][_0x52417a(0x265)][_0x52417a(0x25f)];continue;case'3':_0x41c202['result']=_0x2de5b0['testStepResult'][_0x52417a(0x23d)];continue;case'4':_0x41c202[_0x52417a(0x212)]=_0x27c192;continue;}break;}}}),_tests[_0x45e219]=_0x48d936,delete _tests[_0x45e219][_0x460c7d[_0x93282c(0x250)]];}}catch(_0x804f17){logger[_0x93282c(0x245)](_0x93282c(0x283)+util['format'](_0x804f17));}}[a7_0x4f55ca(0x252)](_0x2d3bd1){const _0x36d736=a7_0x4f55ca,_0x40e22f={};return _0x2d3bd1['feature'][_0x36d736(0x247)][_0x36d736(0x231)](this[_0x36d736(0x26e)])[_0x36d736(0x1f5)]()[_0x36d736(0x23a)](_0x271245=>_0x271245[_0x36d736(0x216)][_0x36d736(0x23a)](_0x359e2c=>_0x40e22f[_0x359e2c['id']]=_0x359e2c)),_0x40e22f;}['extractStepContainers'](_0x33e0ec){const _0x17f714=a7_0x4f55ca,_0x2f969a={'CMONV':function(_0x421e72,_0x556b4f){return _0x421e72(_0x556b4f);}};if(!_0x2f969a['CMONV'](isUndefined,_0x33e0ec[_0x17f714(0x246)]))return[_0x33e0ec[_0x17f714(0x246)]];else{if(!_0x2f969a[_0x17f714(0x20b)](isUndefined,_0x33e0ec['rule']))return _0x33e0ec[_0x17f714(0x271)][_0x17f714(0x247)][_0x17f714(0x231)](_0x3e0e25=>!isUndefined(_0x3e0e25[_0x17f714(0x246)])?_0x3e0e25[_0x17f714(0x246)]:_0x3e0e25['scenario']);};return[_0x33e0ec[_0x17f714(0x273)]];}['getGherkinDocument'](_0x114f1a,_0x253dc6){const _0x438127=a7_0x4f55ca;return Object[_0x438127(0x261)](_0x114f1a[_0x438127(0x1f4)][_0x438127(0x259)])[_0x438127(0x242)](_0x42dac9=>_0x42dac9[_0x438127(0x21a)]===_0x253dc6[_0x438127(0x21a)]);}}module[a7_0x4f55ca(0x28b)]=o11yClassErrorHandler(BrowserstackFormatter,[a7_0x4f55ca(0x200),a7_0x4f55ca(0x277),a7_0x4f55ca(0x1e7),'onTestStepFinished','onTestRunStarted',a7_0x4f55ca(0x278),a7_0x4f55ca(0x26e),a7_0x4f55ca(0x276),a7_0x4f55ca(0x252)]);