function a6_0x4353(_0x1289a9,_0x8cbfd7){const _0x5e5e64=a6_0x5e5e();return a6_0x4353=function(_0x43538b,_0x4d5b3f){_0x43538b=_0x43538b-0x8f;let _0x53b4b0=_0x5e5e64[_0x43538b];return _0x53b4b0;},a6_0x4353(_0x1289a9,_0x8cbfd7);}const a6_0x69aebc=a6_0x4353;(function(_0xd54338,_0x19be2a){const _0x163a0c=a6_0x4353,_0x43e243=_0xd54338();while(!![]){try{const _0x68affa=parseInt(_0x163a0c(0x95))/0x1+parseInt(_0x163a0c(0xd7))/0x2*(parseInt(_0x163a0c(0x126))/0x3)+-parseInt(_0x163a0c(0xdc))/0x4+-parseInt(_0x163a0c(0x9f))/0x5+parseInt(_0x163a0c(0x161))/0x6*(-parseInt(_0x163a0c(0x166))/0x7)+-parseInt(_0x163a0c(0xe0))/0x8+parseInt(_0x163a0c(0xbf))/0x9*(parseInt(_0x163a0c(0xe8))/0xa);if(_0x68affa===_0x19be2a)break;else _0x43e243['push'](_0x43e243['shift']());}catch(_0x572730){_0x43e243['push'](_0x43e243['shift']());}}}(a6_0x5e5e,0xf414e));function a6_0x5e5e(){const _0x220dab=['debug','TEST','duration','test','onTestCaseStarted','oppjR','isCLIReady','getTestCaseAttempt','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','../../playwright/reporter/test-details.js','snippetBuilder','report','vbyPC','Exception\x20in\x20onTestStepStarted\x20event:\x20','extractStepContainers','parseTestCaseAttempt','onTestStepStarted','CqbZy','assign','stepDefinition','14456pbWNSk','TestRunFinished','onTestCaseFinished','feature','testCaseAttemptDataMap','2315600ebhudW','CUCUMBER','INIT_TEST','capability','534448UtyQPv','MISRd','failure','finished_at','Bpiuh','getGherkinStepMap','setup','YySVB','11317170ddkUmv','eqFDU','FUySg','fJiUR','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','actionLocation','flat','onHook','ICyCL','qUUMo','find','cwd','testUUID','result','Vhevf','push','HookRunStarted','map','onPickle','testCaseStartedId','KNGGY','pickleMap','binSessionId','hooks','PQBtU','ulbXe','NRSjs','format','env','LOG_REPORT','split','description','HGPeL','eventDataCollector','type','testRunFinished','wJRjH','log','failureType','QLHXW','CONFIG','UnhandledError','getTestUUID','FIbBu','bootstrap','testCaseStarted','forEach','exception','RMujH','getInstance','onTestRunFinished','MHhyi','rnoSy','logTestRunFinished','createHookData','testCaseId','children','HNIra','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','hiMiL','eKChV','exports','576dWDkIN','../test-observability.js','2|3|0|1|4','trackEvent','includes','testCaseMap','testCases','finishedAt','keyword','FAILED','text','ensureCLIInitialized','fAitb','testCase','testCaseFinished','steps','iMmCq','gherkinDocument','eDqeN','hook_type','toISOString','ypufS','lKRXd','background','testStepFinished','HookRunFinished','pickleId','ZeHnI','../../v2/state/testFrameworkState.js','nfUCC','../../../bin/v2/TestInfo.js','POST','logTestCaseFinished','toLowerCase','testStepResult','gggeQ','path','../../v2/state/hookState.js','seconds','sendTestRunEventForCucumber','DokDV','PASSED','onSource','UNKNOWN','source','sendHook','supportCodeLibrary','testSteps','../../v2/utils/cucumber-utils.js','onTestCase','scenario','sourceLocation','pickleStepId','onTestStepFinished','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','status','util','createTestFrameworkData','urkVY','1074mHXivt','toString','gherkinDocumentMap','../../../helpers/testhub/utils.js','../../v2/browserstackCLI.js','15358ZPISWO','pickle','UxudA','testCaseAttempt','@cucumber/cucumber','ucRZl','WKryR','../../v2/cliUtils','1087911dKpDbA','CLI\x20already\x20running\x20-\x20binSessionId:\x20','JvWFN','TiYMN','isRunning','onTestRunStarted','uri','__platform','testStepStarted','../../utils/constants','7846070dCYira','PRE',',\x20binSessionId:\x20','Executing\x20tests\x20for\x20','RWfkd','\x20\x20\x20\x20','../../../helpers/test-observability/error-handler','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','isBstackHook','winstonLogger','incrementCounter','isCliEnabled','sCTzL','values','BROWSERSTACK_CLI_BIN_SESSION_ID','name','onStepDefinition','getTestFramework','_performCLIInitialization','hook','cucumber','TestRunStarted','klCAZ','message','testRunStarted','onGherkinDocument','testStepId','envelope','getGherkinDocument','rule','vgHwb','cliInitPromise','9JACIQD','NDyMM'];a6_0x5e5e=function(){return _0x220dab;};return a6_0x5e5e();}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require('../../../helpers/helper'),util=require(a6_0x69aebc(0x15e)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x69aebc(0x91)),TestDetails=require(a6_0x69aebc(0xcc)),TestObservabilityReporter=require(a6_0x69aebc(0x127)),{o11yClassErrorHandler}=require(a6_0x69aebc(0xa5)),{shouldProcessEventForTesthub}=require(a6_0x69aebc(0x164)),BrowserstackCLI=require(a6_0x69aebc(0x165)),TestFrameworkState=require(a6_0x69aebc(0x142)),HookState=require(a6_0x69aebc(0x14b)),CucumberUtils=require(a6_0x69aebc(0x156)),TestInfo=require(a6_0x69aebc(0x144)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require('../../../helpers/logger')[a6_0x69aebc(0xa8)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x1774a4){const _0x5cf6b9=a6_0x69aebc,_0x116ca9={};_0x116ca9[_0x5cf6b9(0x98)]=_0x5cf6b9(0xba);const _0x41c0b7=_0x116ca9;super(_0x1774a4),this['report']={},_0x1774a4['eventBroadcaster']['on'](_0x41c0b7[_0x5cf6b9(0x98)],async _0x5a50ad=>{const _0x30f9d2=_0x5cf6b9;switch(!![]){case!!_0x5a50ad[_0x30f9d2(0xb7)]:this[_0x30f9d2(0x9a)](_0x5a50ad[_0x30f9d2(0xb7)]);break;case!!_0x5a50ad[_0x30f9d2(0x10b)]:this['onTestRunFinished'](_0x5a50ad[_0x30f9d2(0x10b)]);break;case!!_0x5a50ad['testCaseStarted']:this['onTestCaseStarted'](_0x5a50ad['testCaseStarted'],_0x1774a4,_0x5a50ad);break;case!!_0x5a50ad['testCaseFinished']:this[_0x30f9d2(0xd9)](_0x5a50ad[_0x30f9d2(0x134)],_0x1774a4,_0x5a50ad);break;case!!_0x5a50ad[_0x30f9d2(0x9d)]:this[_0x30f9d2(0xd3)](_0x5a50ad[_0x30f9d2(0x9d)],_0x1774a4);break;case!!_0x5a50ad['testStepFinished']:this[_0x30f9d2(0x15b)](_0x5a50ad[_0x30f9d2(0x13e)],_0x1774a4);break;case!!_0x5a50ad[_0x30f9d2(0xb2)]:this[_0x30f9d2(0xef)](_0x5a50ad['hook']);break;case!!_0x5a50ad[_0x30f9d2(0x133)]:this[_0x30f9d2(0x157)](_0x5a50ad[_0x30f9d2(0x133)]);break;case!!_0x5a50ad[_0x30f9d2(0x167)]:this['onPickle'](_0x5a50ad[_0x30f9d2(0x167)]);break;case!!_0x5a50ad[_0x30f9d2(0x137)]:this['onGherkinDocument'](_0x5a50ad[_0x30f9d2(0x137)]);break;}});}[a6_0x69aebc(0xef)](_0x3718b1){const _0x391321=a6_0x69aebc;this[_0x391321(0xce)][_0x391321(0xff)]=Object['assign']([],this['report'][_0x391321(0xff)]||[]),this['report'][_0x391321(0xff)][_0x391321(0xf7)](_0x3718b1);}[a6_0x69aebc(0xfa)](_0x58ed82){const _0x1d83b0=a6_0x69aebc;this[_0x1d83b0(0xce)][_0x1d83b0(0x167)]=Object['assign']([],this[_0x1d83b0(0xce)][_0x1d83b0(0x167)]||[],[_0x58ed82]),this[_0x1d83b0(0xce)][_0x1d83b0(0x167)][_0x1d83b0(0xf7)](_0x58ed82);}[a6_0x69aebc(0xb8)](_0x1f7493){const _0x3d09b0=a6_0x69aebc;this['report'][_0x3d09b0(0x137)]=Object[_0x3d09b0(0xd5)]([],this['report'][_0x3d09b0(0x137)]||[],[_0x1f7493]),this[_0x3d09b0(0xce)][_0x3d09b0(0x137)][_0x3d09b0(0xf7)](_0x1f7493);}[a6_0x69aebc(0x150)](_0x94d557){const _0x104ddf=a6_0x69aebc;this[_0x104ddf(0xce)][_0x104ddf(0x152)]=_0x94d557;}[a6_0x69aebc(0xaf)](_0x3034f2){const _0x48c162=a6_0x69aebc;this['report'][_0x48c162(0xd6)]=Object[_0x48c162(0xd5)]([],this['report']['stepDefinition']||[],[_0x3034f2]),this[_0x48c162(0xce)][_0x48c162(0xd6)]['push'](_0x3034f2);}[a6_0x69aebc(0x157)](_0x5321a0){const _0x5db605=a6_0x69aebc;this[_0x5db605(0xce)]['testCases']=Object[_0x5db605(0xd5)]([],this[_0x5db605(0xce)]['testCases']||[],[_0x5321a0]),this['report'][_0x5db605(0x12c)][_0x5db605(0xf7)](_0x5321a0);}[a6_0x69aebc(0x146)](_0x5b67e9){const _0x192087=a6_0x69aebc,_0x5229aa={'UdHpn':function(_0x45b40d,_0x154368){return _0x45b40d!==_0x154368;},'HIWif':'bstack','HGPeL':function(_0x2c00f5,_0x1a38d8){return _0x2c00f5+_0x1a38d8;},'urkVY':function(_0x48de1d,_0x5999f2){return _0x48de1d+_0x5999f2;},'KDshE':function(_0x27ecc1,_0x162b1a){return _0x27ecc1+_0x162b1a;},'ucRZl':_0x192087(0xa4),'MHhyi':'\x20-\x20','wJRjH':function(_0x269f59,_0x3cc25c){return _0x269f59===_0x3cc25c;},'iMmCq':_0x192087(0x12f),'FIbBu':function(_0x1f1aed,_0x2413a4,_0x226cd2){return _0x1f1aed(_0x2413a4,_0x226cd2);},'ZeHnI':'result','eDqeN':'message','bHTAP':function(_0x27d0e6,_0x332ddf){return _0x27d0e6+_0x332ddf;},'fAitb':function(_0x2a2f5f,_0x20c3df){return _0x2a2f5f!==_0x20c3df;},'ulbXe':function(_0x366a61,_0x4f21d1){return _0x366a61+_0x4f21d1;},'FUySg':function(_0x433897,_0x99fe8c){return _0x433897+_0x99fe8c;}};_0x5229aa[_0x192087(0x132)](global[_0x192087(0x9c)],undefined)&&this[_0x192087(0x10d)](_0x5229aa[_0x192087(0x108)](_0x5229aa[_0x192087(0x160)]('\x0a',global['__platform']),'\x0a'));const _0x150c95=this[_0x192087(0x109)][_0x192087(0xc8)](_0x5b67e9[_0x192087(0xfb)]);this[_0x192087(0x10d)](_0x5229aa[_0x192087(0x108)](_0x5229aa[_0x192087(0x108)](_0x5229aa[_0x192087(0x101)](_0x5229aa[_0x192087(0xea)]('\x20\x20',_0x150c95[_0x192087(0x137)][_0x192087(0xda)][_0x192087(0xae)]),_0x5229aa[_0x192087(0x11b)]),_0x150c95[_0x192087(0x167)][_0x192087(0xae)]),'\x0a'));const _0x5c0086={};_0x5c0086[_0x192087(0xf3)]=this[_0x192087(0xf3)],_0x5c0086[_0x192087(0xcd)]=this[_0x192087(0xcd)],_0x5c0086[_0x192087(0x154)]=this[_0x192087(0x154)],_0x5c0086[_0x192087(0x90)]=_0x150c95;const _0x2e4856=formatterHelpers[_0x192087(0xd2)](_0x5c0086);let _0x124655=![];_0x2e4856[_0x192087(0x155)][_0x192087(0x116)](_0x452334=>{const _0x294c5b=_0x192087;if(_0x5229aa['UdHpn'](_0x452334[_0x294c5b(0xae)],_0x5229aa['HIWif'])&&!this[_0x294c5b(0xa7)](_0x452334)){totalTests+=0x1,this[_0x294c5b(0x10d)](_0x5229aa[_0x294c5b(0x108)](_0x5229aa[_0x294c5b(0x108)](_0x5229aa[_0x294c5b(0x160)](_0x5229aa['KDshE'](_0x5229aa[_0x294c5b(0x108)](_0x5229aa[_0x294c5b(0x92)],_0x452334[_0x294c5b(0x12e)]),_0x452334[_0x294c5b(0x130)]||''),_0x5229aa[_0x294c5b(0x11b)]),Status[_0x452334['result'][_0x294c5b(0x15d)]]),'\x0a')),this[_0x294c5b(0xa9)](Status[_0x452334[_0x294c5b(0xf5)]['status']]);if(_0x5229aa[_0x294c5b(0x10c)](Status[_0x452334['result'][_0x294c5b(0x15d)]],_0x5229aa[_0x294c5b(0x136)])){_0x124655=!![];const _0x3d0986=_0x5229aa[_0x294c5b(0x113)](nestedKeyValue,_0x452334,[_0x5229aa[_0x294c5b(0x141)],_0x5229aa[_0x294c5b(0x138)]]);_0x3d0986&&(testsErrorMessage[_0x5229aa[_0x294c5b(0x108)](_0x5229aa['bHTAP'](_0x150c95[_0x294c5b(0x137)]['feature']['name'],_0x5229aa['MHhyi']),_0x150c95[_0x294c5b(0x167)][_0x294c5b(0xae)])]=_0x3d0986,this[_0x294c5b(0x10d)](_0x5229aa[_0x294c5b(0x160)](_0x3d0986,'\x0a')));}}}),_0x124655&&(testSuitesFailed+=0x1),this[_0x192087(0x10d)]('\x0a');}[a6_0x69aebc(0x11d)](_0x565c3d){}[a6_0x69aebc(0xa7)](_0x5bbfb8){const _0x24b854=a6_0x69aebc,_0x52d11a={};_0x52d11a[_0x24b854(0xe4)]=function(_0xa86313,_0x418015){return _0xa86313!==_0x418015;},_0x52d11a['MISRd']='cucumber-js/test.setup.js';const _0x143bc6=_0x52d11a;if(_0x143bc6[_0x24b854(0xe4)](_0x5bbfb8[_0x24b854(0x159)],undefined))return![];if(_0x5bbfb8[_0x24b854(0xed)]&&_0x5bbfb8[_0x24b854(0xed)]['uri'][_0x24b854(0x12a)](_0x143bc6[_0x24b854(0xe1)]))return!![];return![];}['incrementCounter'](_0x410224){const _0x4b782c=a6_0x69aebc,_0x226843={};_0x226843[_0x4b782c(0x149)]=_0x4b782c(0x12f),_0x226843[_0x4b782c(0x13c)]=_0x4b782c(0x14f),_0x226843[_0x4b782c(0xfc)]='SKIPPED',_0x226843[_0x4b782c(0xc6)]='PENDING',_0x226843['WKryR']='UNDEFINED',_0x226843[_0x4b782c(0x14e)]=_0x4b782c(0x151),_0x226843[_0x4b782c(0x143)]='AMBIGUOUS';const _0xa51676=_0x226843;switch(_0x410224){case _0xa51676[_0x4b782c(0x149)]:testsFailed+=0x1;break;case _0xa51676['lKRXd']:testsPassed+=0x1;break;case _0xa51676[_0x4b782c(0xfc)]:testsSkipped+=0x1;break;case _0xa51676[_0x4b782c(0xc6)]:testsPending+=0x1;break;case _0xa51676[_0x4b782c(0x93)]:testsUndefined+=0x1;break;case _0xa51676[_0x4b782c(0x14e)]:testsUnknown+=0x1;break;case _0xa51676[_0x4b782c(0x143)]:testsAmbiguous+=0x1;break;default:break;}}async[a6_0x69aebc(0x9a)](_0x22d345){const _0x400c49=a6_0x69aebc,_0x343f41={'sCTzL':function(_0x17ba84,_0x448720){return _0x17ba84!==_0x448720;},'fObzX':function(_0x176d12){return _0x176d12();},'HNIra':function(_0x107402,_0x37a4bf){return _0x107402(_0x37a4bf);},'qUUMo':function(_0x115b50,_0x2b9a81){return _0x115b50+_0x2b9a81;},'eKChV':function(_0x2c6ef7){return _0x2c6ef7();},'NDyMM':_0x400c49(0xb3)};let _0x57bbd7;if(_0x343f41[_0x400c49(0xab)](process[_0x400c49(0x104)][_0x400c49(0x110)],undefined)){const _0x4ed6ef=JSON['parse'](process[_0x400c49(0x104)][_0x400c49(0x110)]);_0x57bbd7=_0x4ed6ef[_0x400c49(0xdf)];}_0x343f41[_0x400c49(0xab)](_0x57bbd7,undefined)&&_0x343f41['fObzX'](isBrowserstackInfra)&&(global[_0x400c49(0x9c)]=_0x343f41[_0x400c49(0x121)](getPlatformName,_0x57bbd7),this[_0x400c49(0x10d)](_0x343f41[_0x400c49(0xf1)](_0x400c49(0xa2)+global[_0x400c49(0x9c)],'\x0a'))),_0x343f41[_0x400c49(0x124)](shouldProcessEventForTesthub)&&(TestDetails['setup'](),this[_0x400c49(0xce)][_0x400c49(0xb7)]=_0x22d345,BrowserstackCLI[_0x400c49(0x119)]()[_0x400c49(0xaa)]()&&await this['isCLIReady']()&&(TestInfo[_0x400c49(0xe6)](_0x343f41[_0x400c49(0xc0)]),await BrowserstackCLI['getInstance']()[_0x400c49(0xb0)]()[_0x400c49(0x129)](TestFrameworkState[_0x400c49(0xde)],HookState['PRE'],{})));}[a6_0x69aebc(0x11a)](_0x2f52fd){const _0xa3af49=a6_0x69aebc;this[_0xa3af49(0xce)][_0xa3af49(0x10b)]=_0x2f52fd,this[_0xa3af49(0x11d)](_0x2f52fd);}async[a6_0x69aebc(0xc5)](_0x31f447,_0x10e2f8,_0x104fa8){const _0x275cca=a6_0x69aebc,_0x5d066a={'RWfkd':function(_0x525f2f,_0xd806d9){return _0x525f2f(_0xd806d9);},'JvWFN':_0x275cca(0xb4),'AdbXi':function(_0x53b8f9,_0x1007f8){return _0x53b8f9&&_0x1007f8;}};testSuites+=0x1;if(_0x5d066a[_0x275cca(0xa3)](shouldProcessEventForTesthub,_0x5d066a[_0x275cca(0x97)]))try{this[_0x275cca(0xce)][_0x275cca(0x115)]=this[_0x275cca(0xce)][_0x275cca(0x115)]||{},this['report'][_0x275cca(0x115)][_0x31f447['id']]=_0x31f447;let _0x754203=null;BrowserstackCLI[_0x275cca(0x119)]()[_0x275cca(0xaa)]()&&await this[_0x275cca(0xc7)]()?_0x754203=TestInfo['getTestUUID'](_0x31f447['id']):_0x754203=TestDetails[_0x275cca(0x112)](_0x31f447['id']);_testCasesData[_0x31f447['id']]=Object[_0x275cca(0xd5)]({},_0x104fa8);const _0x14c490=this['report'],_0x40a2bd=_0x31f447['testCaseId'],_0x25800c=_0x14c490[_0x275cca(0x12c)][_0x275cca(0xf2)](_0x5c32b2=>_0x5c32b2['id']===_0x40a2bd)['pickleId'],_0x3b3c0f=_0x14c490[_0x275cca(0x167)][_0x275cca(0xf2)](_0x12a650=>_0x12a650['id']===_0x25800c),_0x18f6bf=_0x14c490[_0x275cca(0x137)][_0x275cca(0xf2)](_0x166b11=>_0x166b11[_0x275cca(0x9b)]===_0x3b3c0f[_0x275cca(0x9b)]),_0x290800=_0x18f6bf[_0x275cca(0xda)],_0x1fbbdb={'uuid':_0x754203,'startedAt':new Date()[_0x275cca(0x13a)]()};if(_0x3b3c0f){const _0x2864d2={};_0x2864d2['name']=_0x3b3c0f[_0x275cca(0xae)],_0x1fbbdb[_0x275cca(0x158)]=_0x2864d2;}if(_0x5d066a['AdbXi'](_0x18f6bf,_0x290800)){const _0x58ae12={};_0x58ae12[_0x275cca(0x14a)]=_0x18f6bf[_0x275cca(0x9b)],_0x58ae12['name']=_0x290800['name'],_0x58ae12[_0x275cca(0x107)]=_0x290800[_0x275cca(0x107)],_0x1fbbdb[_0x275cca(0xda)]=_0x58ae12;}_tests[_0x40a2bd]=_0x1fbbdb;if(BrowserstackCLI[_0x275cca(0x119)]()[_0x275cca(0xaa)]()&&await this[_0x275cca(0xc7)]()){const _0x166d9d=await cucumberUtils[_0x275cca(0x15f)](_0x1fbbdb,_0x3b3c0f,_0x104fa8,_0x18f6bf,_0x31f447['id'],_0x5d066a[_0x275cca(0x97)]),_0x49aa7a={};_0x49aa7a[_0x275cca(0xc4)]=_0x166d9d,await BrowserstackCLI[_0x275cca(0x119)]()['getTestFramework']()['trackEvent'](TestFrameworkState[_0x275cca(0xc2)],HookState['PRE'],_0x49aa7a);return;}await testObservabilityReporter[_0x275cca(0x14d)](_0x104fa8,_0x18f6bf,_0x3b3c0f,_0x5d066a['JvWFN'],_0x1fbbdb);}catch(_0xdcbc36){logger['debug'](_0x275cca(0xa6)+util[_0x275cca(0x103)](_0xdcbc36)+'\x20');}}async[a6_0x69aebc(0xd9)](_0x38c599,_0x23f58b,_0x294c0d){const _0x546056=a6_0x69aebc,_0x2728dd={'jAlEf':function(_0x569730,_0x18301a){return _0x569730(_0x18301a);},'PQBtU':_0x546056(0xd8),'RMujH':_0x546056(0xc4)};this['logTestCaseFinished'](_0x38c599);if(_0x2728dd['jAlEf'](shouldProcessEventForTesthub,_0x2728dd[_0x546056(0x100)]))try{this[_0x546056(0xce)][_0x546056(0x134)]=this[_0x546056(0xce)][_0x546056(0x134)]||{},this[_0x546056(0xce)][_0x546056(0x134)][_0x38c599[_0x546056(0xfb)]]=_0x38c599,_testCasesData[_0x294c0d['id']]=Object[_0x546056(0xd5)]({},_0x294c0d);const _0x278c57=_0x38c599['testCaseStartedId'],_0x2cf9ff=_0x23f58b['eventDataCollector'][_0x546056(0xdb)][_0x278c57]['testCaseId'],_0x24be7e=_0x23f58b[_0x546056(0x109)][_0x546056(0x12b)][_0x2cf9ff],_0x3fe667=_0x24be7e[_0x546056(0x140)],_0x6279ec=_0x23f58b[_0x546056(0x109)][_0x546056(0xfd)][_0x3fe667],_0x12e15e=this[_0x546056(0xbb)](_0x23f58b,_0x6279ec),_0xace8d1=_0x12e15e['feature'],_0x5a75d4=_tests[_0x2cf9ff];_0x5a75d4&&(delete _tests[_0x2cf9ff],_0x5a75d4[_0x546056(0x12d)]=new Date()['toISOString']());if(BrowserstackCLI['getInstance']()[_0x546056(0xaa)]()&&await this['isCLIReady']()){const _0x1a0f36=await cucumberUtils[_0x546056(0x15f)](_0x5a75d4,_0x6279ec,_0x294c0d,_0x12e15e,_0x278c57,_0x2728dd['PQBtU']),_0x2769e4={};_0x2769e4[_0x546056(0xc4)]=_0x1a0f36,await BrowserstackCLI[_0x546056(0x119)]()[_0x546056(0xb0)]()[_0x546056(0x129)](TestFrameworkState[_0x546056(0xc2)],HookState[_0x546056(0x145)],_0x2769e4);const _0x1faab1={};_0x1faab1['testUUID']=_0x38c599[_0x546056(0xfb)],_0x1faab1[_0x546056(0x10a)]=_0x2728dd[_0x546056(0x118)],await BrowserstackCLI['getInstance']()[_0x546056(0xb0)]()[_0x546056(0x129)](TestFrameworkState[_0x546056(0x105)],HookState['POST'],_0x1faab1);return;}await testObservabilityReporter[_0x546056(0x14d)](_0x294c0d,_0x12e15e,_0x6279ec,_0x2728dd[_0x546056(0x100)],_0x5a75d4);}catch(_0x4f97cd){logger['debug'](_0x546056(0xec)+util[_0x546056(0x103)](_0x4f97cd));}}async['onTestStepStarted'](_0x393405,_0x6335e8){const _0x1b1011=a6_0x69aebc,_0x13b32f={'ICyCL':function(_0x336c82,_0x1abceb){return _0x336c82(_0x1abceb);},'klCAZ':_0x1b1011(0xf8),'ypufS':function(_0x501daf,_0xc52748){return _0x501daf!==_0xc52748;},'vgHwb':'testStepId'};if(_0x13b32f[_0x1b1011(0xf0)](shouldProcessEventForTesthub,_0x13b32f[_0x1b1011(0xb5)]))try{this[_0x1b1011(0xce)][_0x1b1011(0x9d)]=this['report'][_0x1b1011(0x9d)]||{},this[_0x1b1011(0xce)][_0x1b1011(0x9d)][_0x393405['testCaseStartedId']]=_0x393405;const _0x3c6330=_0x393405[_0x1b1011(0xfb)],_0x449731=_0x6335e8[_0x1b1011(0x109)][_0x1b1011(0xdb)][_0x3c6330][_0x1b1011(0x11f)],_0x434533=this[_0x1b1011(0xce)][_0x1b1011(0x12c)][_0x1b1011(0xf2)](_0x24c191=>_0x24c191['id']===_0x449731)['pickleId'],_0x52fd4b=this['report'][_0x1b1011(0x167)][_0x1b1011(0xf2)](_0x4798ee=>_0x4798ee['id']===_0x434533),_0x588296=this['report'][_0x1b1011(0x12c)][_0x1b1011(0xf2)](_0x3891ad=>_0x3891ad['id']===_0x449731)[_0x1b1011(0x155)],_0x3bcec7=this[_0x1b1011(0xce)]['testStepStarted'][_0x3c6330]['testStepId'],_0x1a4fd4=_0x588296[_0x1b1011(0xf2)](_0xf00048=>_0xf00048['id']===_0x3bcec7)[_0x1b1011(0x15a)],_0x37d65d=_0x52fd4b[_0x1b1011(0x135)][_0x1b1011(0xf2)](_0x1c652a=>_0x1c652a['id']===_0x1a4fd4);if(_0x1a4fd4&&_tests[_0x449731]&&_0x13b32f[_0x1b1011(0x13b)](_tests[_0x449731][_0x13b32f[_0x1b1011(0xbd)]],_0x3bcec7)){_tests[_0x449731][_0x13b32f[_0x1b1011(0xbd)]]=_0x3bcec7;const _0x3c66a6={};_0x3c66a6[_0x1b1011(0x135)]=[];const _0x272abd=_tests[_0x449731]||_0x3c66a6;_0x272abd&&!_0x272abd[_0x1b1011(0x135)]&&(_0x272abd['steps']=[]),_0x272abd[_0x1b1011(0x135)]['push']({'id':_0x37d65d['id'],'text':_0x37d65d[_0x1b1011(0x130)],'started_at':new Date()[_0x1b1011(0x13a)]()}),_tests[_0x449731]=_0x272abd;}if(BrowserstackCLI[_0x1b1011(0x119)]()['isCliEnabled']()&&await this[_0x1b1011(0xc7)]()){const _0x4773c1=await cucumberUtils[_0x1b1011(0x11e)](this[_0x1b1011(0xce)],_0x3c6330,_0x13b32f[_0x1b1011(0xb5)],_0x588296,_0x3bcec7,_tests[_0x449731]);_0x4773c1&&await BrowserstackCLI[_0x1b1011(0x119)]()['getTestFramework']()[_0x1b1011(0x129)](TestFrameworkState[_0x4773c1[_0x1b1011(0x139)]],HookState[_0x1b1011(0xa0)],{'hookData':_0x4773c1,'testUUID':_0x393405['testCaseStartedId']});return;}await testObservabilityReporter['sendHook'](this['report'],_0x3c6330,_0x13b32f[_0x1b1011(0xb5)],_0x588296,_0x3bcec7,_tests[_0x449731]);}catch(_0x22654c){logger[_0x1b1011(0xc1)](_0x1b1011(0xd0)+util[_0x1b1011(0x103)](_0x22654c));}}async[a6_0x69aebc(0x15b)](_0x532a75,_0x4f7f15){const _0x46bdeb=a6_0x69aebc,_0x126c0d={'Vhevf':function(_0x42635a,_0x7d2d6f){return _0x42635a===_0x7d2d6f;},'hiMiL':_0x46bdeb(0x128),'bQpXG':function(_0x447487,_0x425cce){return _0x447487(_0x425cce);},'YySVB':_0x46bdeb(0x13f),'zkVGo':'failed','CqbZy':function(_0x4468d4,_0x1e7a23){return _0x4468d4===_0x1e7a23;},'yFNYf':_0x46bdeb(0x111),'NRSjs':_0x46bdeb(0xb9),'QLHXW':_0x46bdeb(0xf8),'eqFDU':'hook'};this['report'][_0x46bdeb(0x13e)]=this[_0x46bdeb(0xce)]['testStepFinished']||{},this[_0x46bdeb(0xce)][_0x46bdeb(0x13e)][_0x532a75[_0x46bdeb(0xfb)]]=_0x532a75;if(_0x126c0d['bQpXG'](shouldProcessEventForTesthub,_0x126c0d[_0x46bdeb(0xe7)]))try{const _0x491a35=_0x532a75[_0x46bdeb(0xfb)],_0x4b60c8=_0x4f7f15[_0x46bdeb(0x109)][_0x46bdeb(0xdb)][_0x491a35][_0x46bdeb(0x11f)],_0x337f5b=_0x4f7f15[_0x46bdeb(0x109)]['testCaseMap'][_0x4b60c8],_0x52faca=_0x337f5b[_0x46bdeb(0x140)],_0x207bd0=_0x4f7f15[_0x46bdeb(0x109)][_0x46bdeb(0xfd)][_0x52faca],_0x4a60d6=_0x532a75[_0x46bdeb(0xb9)],_0x541a9f=_0x337f5b[_0x46bdeb(0x155)],_0x5f4d5f=this[_0x46bdeb(0x109)][_0x46bdeb(0xc8)](_0x491a35),_0x4663d5=_0x541a9f[_0x46bdeb(0xf2)](_0x5c083b=>_0x5c083b['id']===_0x4a60d6)[_0x46bdeb(0x15a)];let _0x3860c6,_0x4c336c;_0x532a75['testStepResult']&&_0x126c0d['Vhevf'](_0x532a75[_0x46bdeb(0x148)][_0x46bdeb(0x15d)][_0x46bdeb(0x162)]()[_0x46bdeb(0x147)](),_0x126c0d['zkVGo'])&&(_0x3860c6=_0x126c0d[_0x46bdeb(0xf6)](_0x532a75[_0x46bdeb(0x148)]['exception'],undefined)?_0x532a75['testStepResult'][_0x46bdeb(0xb6)]:_0x532a75['testStepResult'][_0x46bdeb(0x117)][_0x46bdeb(0xb6)],_0x4c336c=_0x126c0d[_0x46bdeb(0xd4)](_0x532a75[_0x46bdeb(0x148)][_0x46bdeb(0x117)],undefined)?_0x126c0d['yFNYf']:_0x532a75['testStepResult'][_0x46bdeb(0xb6)]);if(_0x4663d5&&_tests[_0x4b60c8][_0x126c0d[_0x46bdeb(0x102)]]){const _0x5a44e7=_0x207bd0[_0x46bdeb(0x135)][_0x46bdeb(0xf2)](_0x328c87=>_0x328c87['id']===_0x4663d5),_0x374a55={};_0x374a55[_0x46bdeb(0x135)]=[];const _0x2da79d=_tests[_0x4b60c8]||_0x374a55;!_0x2da79d['steps']?_0x2da79d[_0x46bdeb(0x135)]=[{'id':_0x5a44e7['id'],'text':_0x5a44e7[_0x46bdeb(0x130)],'finished_at':new Date()[_0x46bdeb(0x13a)](),'result':_0x532a75[_0x46bdeb(0x148)]['status'],'duration':_0x532a75['testStepResult'][_0x46bdeb(0xc3)][_0x46bdeb(0x14c)],'failure':_0x3860c6,'failureType':_0x4c336c}]:_0x2da79d['steps'][_0x46bdeb(0x116)](_0x5377e5=>{const _0x476948=_0x46bdeb;if(_0x126c0d[_0x476948(0xf6)](_0x5377e5['id'],_0x5a44e7['id'])){const _0x545ae0=_0x126c0d[_0x476948(0x123)][_0x476948(0x106)]('|');let _0x58aad3=0x0;while(!![]){switch(_0x545ae0[_0x58aad3++]){case'0':_0x5377e5['duration']=_0x532a75['testStepResult'][_0x476948(0xc3)][_0x476948(0x14c)];continue;case'1':_0x5377e5[_0x476948(0xe2)]=_0x3860c6;continue;case'2':_0x5377e5[_0x476948(0xe3)]=new Date()[_0x476948(0x13a)]();continue;case'3':_0x5377e5['result']=_0x532a75[_0x476948(0x148)][_0x476948(0x15d)];continue;case'4':_0x5377e5[_0x476948(0x10e)]=_0x4c336c;continue;}break;}}}),_tests[_0x4b60c8]=_0x2da79d;}delete _tests[_0x4b60c8][_0x126c0d[_0x46bdeb(0x102)]];if(BrowserstackCLI[_0x46bdeb(0x119)]()['isCliEnabled']()&&await this[_0x46bdeb(0xc7)]()){const _0x5ef80=await cucumberUtils['createHookData'](this['report'],_0x491a35,_0x126c0d[_0x46bdeb(0x10f)],_0x541a9f,_0x4a60d6,_tests[_0x4b60c8]);if(_0x5ef80){await BrowserstackCLI[_0x46bdeb(0x119)]()[_0x46bdeb(0xb0)]()[_0x46bdeb(0x129)](TestFrameworkState[_0x5ef80[_0x46bdeb(0x139)]],HookState[_0x46bdeb(0x145)],{'hookData':_0x5ef80,'testUUID':_0x532a75[_0x46bdeb(0xfb)]});const _0x3ef230={};_0x3ef230[_0x46bdeb(0xf4)]=_0x532a75[_0x46bdeb(0xfb)],_0x3ef230[_0x46bdeb(0x10a)]=_0x126c0d[_0x46bdeb(0xe9)],await BrowserstackCLI[_0x46bdeb(0x119)]()[_0x46bdeb(0xb0)]()[_0x46bdeb(0x129)](TestFrameworkState[_0x46bdeb(0x105)],HookState[_0x46bdeb(0x145)],_0x3ef230);}return;}await testObservabilityReporter[_0x46bdeb(0x153)](this[_0x46bdeb(0xce)],_0x491a35,_0x126c0d[_0x46bdeb(0xe7)],_0x541a9f,_0x4a60d6,_tests[_0x4b60c8]);}catch(_0x4c2ac5){logger[_0x46bdeb(0xc1)]('Exception\x20in\x20onTestStepFinished\x20event:\x20'+util[_0x46bdeb(0x103)](_0x4c2ac5));}}[a6_0x69aebc(0xe5)](_0x48b803){const _0x3718bc=a6_0x69aebc,_0x375c6a={};return _0x48b803[_0x3718bc(0xda)][_0x3718bc(0x120)][_0x3718bc(0xf9)](this[_0x3718bc(0xd1)])[_0x3718bc(0xee)]()[_0x3718bc(0x116)](_0xa832e5=>_0xa832e5[_0x3718bc(0x135)][_0x3718bc(0x116)](_0x194c08=>_0x375c6a[_0x194c08['id']]=_0x194c08)),_0x375c6a;}[a6_0x69aebc(0xd1)](_0x303444){const _0x4bcfab=a6_0x69aebc,_0x440ef6={'vbyPC':function(_0x540715,_0xd03d1c){return _0x540715(_0xd03d1c);},'UxudA':function(_0xd6b2f3,_0x2abc52){return _0xd6b2f3(_0x2abc52);}};if(!_0x440ef6[_0x4bcfab(0xcf)](isUndefined,_0x303444['background']))return[_0x303444[_0x4bcfab(0x13d)]];else{if(!_0x440ef6[_0x4bcfab(0x8f)](isUndefined,_0x303444[_0x4bcfab(0xbc)]))return _0x303444[_0x4bcfab(0xbc)]['children'][_0x4bcfab(0xf9)](_0x38fbdc=>!isUndefined(_0x38fbdc[_0x4bcfab(0x13d)])?_0x38fbdc['background']:_0x38fbdc[_0x4bcfab(0x158)]);};return[_0x303444[_0x4bcfab(0x158)]];}['getGherkinDocument'](_0x3aa542,_0x42b1cd){const _0x5bec78=a6_0x69aebc;return Object[_0x5bec78(0xac)](_0x3aa542[_0x5bec78(0x109)][_0x5bec78(0x163)])[_0x5bec78(0xf2)](_0x2940d4=>_0x2940d4['uri']===_0x42b1cd['uri']);}async['ensureCLIInitialized'](){const _0x56c7e1=a6_0x69aebc;if(this['cliInitPromise'])return this[_0x56c7e1(0xbe)];return this[_0x56c7e1(0xbe)]=this['_performCLIInitialization'](),this[_0x56c7e1(0xbe)];}async[a6_0x69aebc(0xb1)](){const _0x32c993=a6_0x69aebc,_0x106026={'ZlVwp':_0x32c993(0xca),'ccbCA':function(_0x5110c7,_0x4b4c77){return _0x5110c7(_0x4b4c77);},'fJiUR':_0x32c993(0x94),'rnoSy':_0x32c993(0x9e)};try{const _0x2b758d=BrowserstackCLI[_0x32c993(0x119)]();if(_0x2b758d[_0x32c993(0x99)]())return logger[_0x32c993(0xc1)](_0x32c993(0x96)+_0x2b758d[_0x32c993(0xfe)]),!![];const _0x450a2e=process['env'][_0x32c993(0xad)];if(!_0x450a2e)return logger[_0x32c993(0xc1)](_0x106026['ZlVwp']),![];const _0x1ab0c1=_0x106026['ccbCA'](require,_0x106026[_0x32c993(0xeb)]),{FRAMEWORKS:_0x193100}=_0x106026['ccbCA'](require,_0x106026[_0x32c993(0x11c)]);return _0x1ab0c1['setFrameworkDetail'](_0x193100[_0x32c993(0xdd)],_0x193100['PLAYWRIGHT']),logger[_0x32c993(0xc1)](_0x32c993(0x122)+_0x450a2e),await _0x2b758d[_0x32c993(0x114)](),logger[_0x32c993(0xc1)](_0x32c993(0xc9)+_0x2b758d[_0x32c993(0x99)]()+_0x32c993(0xa1)+_0x2b758d['binSessionId']),_0x2b758d[_0x32c993(0x99)]();}catch(_0x470bd6){return logger['debug'](_0x32c993(0xcb)+util[_0x32c993(0x103)](_0x470bd6)),![];}}async[a6_0x69aebc(0xc7)](){const _0x1d2ef3=a6_0x69aebc;try{return await this[_0x1d2ef3(0x131)](),BrowserstackCLI[_0x1d2ef3(0x119)]()[_0x1d2ef3(0x99)]();}catch(_0x4d401e){return logger[_0x1d2ef3(0xc1)](_0x1d2ef3(0x15c)+util['format'](_0x4d401e)),![];}}}module[a6_0x69aebc(0x125)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x69aebc(0xc5),a6_0x69aebc(0xd9),a6_0x69aebc(0xd3),a6_0x69aebc(0x15b),a6_0x69aebc(0x9a),a6_0x69aebc(0x11a),'extractStepContainers',a6_0x69aebc(0xbb),a6_0x69aebc(0xe5)]);