const a6_0x2bafb1=a6_0x1dc8;(function(_0xc44c2b,_0x573afc){const _0xe78aef=a6_0x1dc8,_0x271960=_0xc44c2b();while(!![]){try{const _0x12db28=-parseInt(_0xe78aef(0x236))/0x1+parseInt(_0xe78aef(0x27e))/0x2*(parseInt(_0xe78aef(0x28a))/0x3)+parseInt(_0xe78aef(0x20f))/0x4*(-parseInt(_0xe78aef(0x2b2))/0x5)+parseInt(_0xe78aef(0x1fc))/0x6*(-parseInt(_0xe78aef(0x259))/0x7)+-parseInt(_0xe78aef(0x205))/0x8*(-parseInt(_0xe78aef(0x23c))/0x9)+-parseInt(_0xe78aef(0x24b))/0xa*(parseInt(_0xe78aef(0x26c))/0xb)+parseInt(_0xe78aef(0x202))/0xc;if(_0x12db28===_0x573afc)break;else _0x271960['push'](_0x271960['shift']());}catch(_0xfab2c6){_0x271960['push'](_0x271960['shift']());}}}(a6_0x1ab4,0x3d92f));function a6_0x1ab4(){const _0x360d84=['result','aUToS','uri','SKIPPED','sendTestRunEventForCucumber','16PLOJGB','getGherkinStepMap','isBstackHook','getTestCaseAttempt','sfZFv','swpof','duration','setFrameworkDetail','UNDEFINED',',\x20binSessionId:\x20','children','test','kIiaf','../../v2/state/hookState.js','zJnIc','pErWt','getTestFramework','createHookData','binSessionId','cJBmg','../../playwright/reporter/test-details.js','cvTfQ','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','finished_at','snippetBuilder','LOG_REPORT','testSteps','testCaseStarted','BxeIj','source','log','bRHhW','XCAXK','capability','testCase','../../v2/cliUtils','failureType','testCases','pickleId','365302GfbBpN','bwEHH','Exception\x20in\x20onTestStepStarted\x20event:\x20','path','description','bootstrap','9CUYeXW','getTestUUID','testRunStarted','Exception\x20in\x20onTestStepFinished\x20event:\x20','AaIbR','extractStepContainers','find','sksco','sendHook','cfbEu','PLAYWRIGHT','debug','_performCLIInitialization','cucumber','keyword','13510kXnmKQ','POST','PENDING','onTestCase','testCaseId','winstonLogger','createTestFrameworkData','message','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','testStepResult','SexJd','IpwmR','envelope','supportCodeLibrary','7qQvGKx','LLpEC','actionLocation','toString','testStepId','__platform','xFXto','exception','CwMfP','isCliEnabled','PRE','GHxsH','text','testStepStarted','onSource','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','HCzUa','QDNgA','eventBroadcaster','3113rQWYEl','onTestStepStarted','status','nsLzS','HiKMG','setup','../../v2/browserstackCLI.js','TEST','eventDataCollector','3|1|4|2|0','../../../helpers/logger','testCaseFinished','CLI\x20already\x20running\x20-\x20binSessionId:\x20','rule','QOLLy','background','pickleStepId','assign','434642ORGktO','INIT_TEST','bstack','flat','testCaseAttemptDataMap','qFkdF','\x20-\x20','@cucumber/cucumber','AMBIGUOUS','FAILED','rEvVQ','ensureCLIInitialized','3JsqQjS','PxieD','\x20\x20\x20\x20','type','stepDefinition','onPickle','isCLIReady','lnYgc','KHrzZ','hooks','testRunFinished','nZnDG','hook_type','split','onTestCaseFinished','trackEvent','exports','dWEgG','getInstance','forEach','onGherkinDocument','BROWSERSTACK_CLI_BIN_SESSION_ID','JuVBa','HookRunFinished','gherkinDocument','../../../helpers/helper','hook','onStepDefinition','scenario','KvUsn','getGherkinDocument','env','CONFIG','ryKNy','pickle','DbcKh','feature','gherkinDocumentMap','jJmIe','UNKNOWN','156995LhgYaR','cucumber-js/test.setup.js','testCaseStartedId','MXaHX','HookRunStarted','../../../helpers/testhub/utils.js','failed','ESYUG','steps','TestRunStarted','peEII','testUUID','phLmM','testStepFinished','eSbWb','../test-observability.js','logTestCaseFinished','pYKPj','jHaKt','cwd','toISOString','incrementCounter','finishedAt','onHook','BveSv','map','HfDKN','sourceLocation','../../../helpers/test-observability/error-handler','failure','onTestRunStarted','isRunning','dYMbP','includes','format','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','push','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','../../v2/state/testFrameworkState.js','2406522NKUCIK','report','parseTestCaseAttempt','util','seconds','logTestRunFinished','15426708XoWjMV','testCaseMap','onTestRunFinished','189160meGKpk','cliInitPromise','onTestStepFinished','CUCUMBER','name'];a6_0x1ab4=function(){return _0x360d84;};return a6_0x1ab4();}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x2bafb1(0x2a3)),util=require(a6_0x2bafb1(0x1ff)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x2bafb1(0x285)),TestDetails=require(a6_0x2bafb1(0x223)),TestObservabilityReporter=require(a6_0x2bafb1(0x1e4)),{o11yClassErrorHandler}=require(a6_0x2bafb1(0x1f1)),{shouldProcessEventForTesthub}=require(a6_0x2bafb1(0x2b7)),BrowserstackCLI=require(a6_0x2bafb1(0x272)),TestFrameworkState=require(a6_0x2bafb1(0x1fb)),HookState=require(a6_0x2bafb1(0x21c)),CucumberUtils=require('../../v2/utils/cucumber-utils.js'),TestInfo=require('../../../bin/v2/TestInfo.js'),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x2bafb1(0x276))[a6_0x2bafb1(0x250)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x2e76ef){const _0x1a6f78=a6_0x2bafb1,_0x24b8d8={};_0x24b8d8[_0x1a6f78(0x2a0)]=_0x1a6f78(0x257);const _0x555440=_0x24b8d8;super(_0x2e76ef),this['report']={},_0x2e76ef[_0x1a6f78(0x26b)]['on'](_0x555440[_0x1a6f78(0x2a0)],async _0x5d30bb=>{const _0x48727a=_0x1a6f78;switch(!![]){case!!_0x5d30bb[_0x48727a(0x23e)]:this[_0x48727a(0x1f3)](_0x5d30bb[_0x48727a(0x23e)]);break;case!!_0x5d30bb[_0x48727a(0x294)]:this[_0x48727a(0x204)](_0x5d30bb[_0x48727a(0x294)]);break;case!!_0x5d30bb[_0x48727a(0x22a)]:this['onTestCaseStarted'](_0x5d30bb['testCaseStarted'],_0x2e76ef,_0x5d30bb);break;case!!_0x5d30bb['testCaseFinished']:this[_0x48727a(0x298)](_0x5d30bb[_0x48727a(0x277)],_0x2e76ef,_0x5d30bb);break;case!!_0x5d30bb['testStepStarted']:this[_0x48727a(0x26d)](_0x5d30bb['testStepStarted'],_0x2e76ef);break;case!!_0x5d30bb[_0x48727a(0x1e2)]:this[_0x48727a(0x207)](_0x5d30bb['testStepFinished'],_0x2e76ef);break;case!!_0x5d30bb[_0x48727a(0x2a4)]:this['onHook'](_0x5d30bb[_0x48727a(0x2a4)]);break;case!!_0x5d30bb[_0x48727a(0x231)]:this[_0x48727a(0x24e)](_0x5d30bb['testCase']);break;case!!_0x5d30bb[_0x48727a(0x2ac)]:this[_0x48727a(0x28f)](_0x5d30bb[_0x48727a(0x2ac)]);break;case!!_0x5d30bb[_0x48727a(0x2a2)]:this[_0x48727a(0x29e)](_0x5d30bb[_0x48727a(0x2a2)]);break;}});}[a6_0x2bafb1(0x1ec)](_0x360ac5){const _0x429c98=a6_0x2bafb1;this[_0x429c98(0x1fd)][_0x429c98(0x293)]=Object[_0x429c98(0x27d)]([],this[_0x429c98(0x1fd)][_0x429c98(0x293)]||[]),this[_0x429c98(0x1fd)]['hooks']['push'](_0x360ac5);}['onPickle'](_0x268f90){const _0x4038cd=a6_0x2bafb1;this[_0x4038cd(0x1fd)]['pickle']=Object[_0x4038cd(0x27d)]([],this['report'][_0x4038cd(0x2ac)]||[],[_0x268f90]),this[_0x4038cd(0x1fd)][_0x4038cd(0x2ac)][_0x4038cd(0x1f9)](_0x268f90);}[a6_0x2bafb1(0x29e)](_0x2c5f12){const _0x2bad21=a6_0x2bafb1;this['report'][_0x2bad21(0x2a2)]=Object[_0x2bad21(0x27d)]([],this[_0x2bad21(0x1fd)][_0x2bad21(0x2a2)]||[],[_0x2c5f12]),this['report']['gherkinDocument'][_0x2bad21(0x1f9)](_0x2c5f12);}[a6_0x2bafb1(0x267)](_0x34efcd){const _0x4f89db=a6_0x2bafb1;this[_0x4f89db(0x1fd)][_0x4f89db(0x22c)]=_0x34efcd;}[a6_0x2bafb1(0x2a5)](_0x18b6cc){const _0x4e69cb=a6_0x2bafb1;this[_0x4e69cb(0x1fd)][_0x4e69cb(0x28e)]=Object[_0x4e69cb(0x27d)]([],this[_0x4e69cb(0x1fd)][_0x4e69cb(0x28e)]||[],[_0x18b6cc]),this[_0x4e69cb(0x1fd)][_0x4e69cb(0x28e)][_0x4e69cb(0x1f9)](_0x18b6cc);}['onTestCase'](_0xbc69d2){const _0x3ebf43=a6_0x2bafb1;this[_0x3ebf43(0x1fd)][_0x3ebf43(0x234)]=Object['assign']([],this[_0x3ebf43(0x1fd)][_0x3ebf43(0x234)]||[],[_0xbc69d2]),this[_0x3ebf43(0x1fd)][_0x3ebf43(0x234)][_0x3ebf43(0x1f9)](_0xbc69d2);}['logTestCaseFinished'](_0x5e29f8){const _0xc662c3=a6_0x2bafb1,_0x5c2c01={'ESYUG':function(_0x36a5b0,_0x116295){return _0x36a5b0!==_0x116295;},'DbcKh':_0xc662c3(0x280),'bRHhW':function(_0x11e897,_0x1ed30d){return _0x11e897+_0x1ed30d;},'qFkdF':function(_0x44c796,_0xcf990d){return _0x44c796+_0xcf990d;},'tXERT':_0xc662c3(0x28c),'xFXto':_0xc662c3(0x284),'pErWt':function(_0x512353,_0x46e2da){return _0x512353===_0x46e2da;},'nZnDG':_0xc662c3(0x287),'BxeIj':function(_0x30a363,_0x29c9d8,_0x14f2f1){return _0x30a363(_0x29c9d8,_0x14f2f1);},'HiKMG':_0xc662c3(0x20a),'cvTfQ':_0xc662c3(0x252),'jHaKt':function(_0x1c151e,_0x5b95c4){return _0x1c151e+_0x5b95c4;},'KHrzZ':function(_0x587d6e,_0x708897){return _0x587d6e+_0x708897;},'AaIbR':function(_0x204aad,_0x3812d1){return _0x204aad+_0x3812d1;},'QOLLy':function(_0x363b64,_0x128033){return _0x363b64+_0x128033;}};_0x5c2c01[_0xc662c3(0x1dc)](global[_0xc662c3(0x25e)],undefined)&&this[_0xc662c3(0x22d)](_0x5c2c01[_0xc662c3(0x292)](_0x5c2c01[_0xc662c3(0x240)]('\x0a',global[_0xc662c3(0x25e)]),'\x0a'));const _0x37e5ab=this[_0xc662c3(0x274)]['getTestCaseAttempt'](_0x5e29f8[_0xc662c3(0x2b4)]);this[_0xc662c3(0x22d)](_0x5c2c01[_0xc662c3(0x22e)](_0x5c2c01[_0xc662c3(0x292)](_0x5c2c01[_0xc662c3(0x27a)](_0x5c2c01['qFkdF']('\x20\x20',_0x37e5ab[_0xc662c3(0x2a2)][_0xc662c3(0x2ae)][_0xc662c3(0x209)]),_0x5c2c01[_0xc662c3(0x25f)]),_0x37e5ab[_0xc662c3(0x2ac)][_0xc662c3(0x209)]),'\x0a'));const _0x41ca11={};_0x41ca11[_0xc662c3(0x1e8)]=this[_0xc662c3(0x1e8)],_0x41ca11['snippetBuilder']=this[_0xc662c3(0x227)],_0x41ca11[_0xc662c3(0x258)]=this['supportCodeLibrary'],_0x41ca11['testCaseAttempt']=_0x37e5ab;const _0x3be053=formatterHelpers[_0xc662c3(0x1fe)](_0x41ca11);let _0x115b5=![];_0x3be053['testSteps'][_0xc662c3(0x29d)](_0x4c2d5f=>{const _0x4650ba=_0xc662c3;if(_0x5c2c01[_0x4650ba(0x1dc)](_0x4c2d5f[_0x4650ba(0x209)],_0x5c2c01[_0x4650ba(0x2ad)])&&!this['isBstackHook'](_0x4c2d5f)){totalTests+=0x1,this[_0x4650ba(0x22d)](_0x5c2c01[_0x4650ba(0x22e)](_0x5c2c01[_0x4650ba(0x283)](_0x5c2c01[_0x4650ba(0x283)](_0x5c2c01['bRHhW'](_0x5c2c01[_0x4650ba(0x22e)](_0x5c2c01['tXERT'],_0x4c2d5f[_0x4650ba(0x24a)]),_0x4c2d5f['text']||''),_0x5c2c01['xFXto']),Status[_0x4c2d5f['result'][_0x4650ba(0x26e)]]),'\x0a')),this[_0x4650ba(0x1ea)](Status[_0x4c2d5f[_0x4650ba(0x20a)]['status']]);if(_0x5c2c01[_0x4650ba(0x21e)](Status[_0x4c2d5f[_0x4650ba(0x20a)][_0x4650ba(0x26e)]],_0x5c2c01[_0x4650ba(0x295)])){_0x115b5=!![];const _0x3bd5f9=_0x5c2c01[_0x4650ba(0x22b)](nestedKeyValue,_0x4c2d5f,[_0x5c2c01[_0x4650ba(0x270)],_0x5c2c01[_0x4650ba(0x224)]]);_0x3bd5f9&&(testsErrorMessage[_0x5c2c01['bRHhW'](_0x5c2c01[_0x4650ba(0x1e7)](_0x37e5ab['gherkinDocument'][_0x4650ba(0x2ae)][_0x4650ba(0x209)],_0x5c2c01['xFXto']),_0x37e5ab['pickle'][_0x4650ba(0x209)])]=_0x3bd5f9,this[_0x4650ba(0x22d)](_0x5c2c01[_0x4650ba(0x22e)](_0x3bd5f9,'\x0a')));}}}),_0x115b5&&(testSuitesFailed+=0x1),this['log']('\x0a');}['logTestRunFinished'](_0x4d15dd){}[a6_0x2bafb1(0x211)](_0x140c17){const _0x45024c=a6_0x2bafb1,_0x5d9dad={};_0x5d9dad['BveSv']=function(_0x3664f8,_0x432c2f){return _0x3664f8!==_0x432c2f;},_0x5d9dad[_0x45024c(0x1e1)]=_0x45024c(0x2b3);const _0x3a1170=_0x5d9dad;if(_0x3a1170[_0x45024c(0x1ed)](_0x140c17[_0x45024c(0x1f0)],undefined))return![];if(_0x140c17[_0x45024c(0x25b)]&&_0x140c17[_0x45024c(0x25b)][_0x45024c(0x20c)][_0x45024c(0x1f6)](_0x3a1170[_0x45024c(0x1e1)]))return!![];return![];}[a6_0x2bafb1(0x1ea)](_0x560f32){const _0x244d11=a6_0x2bafb1,_0xebecd3={};_0xebecd3[_0x244d11(0x255)]='FAILED',_0xebecd3[_0x244d11(0x1f5)]='PASSED',_0xebecd3[_0x244d11(0x245)]=_0x244d11(0x20d),_0xebecd3[_0x244d11(0x26f)]=_0x244d11(0x24d),_0xebecd3[_0x244d11(0x261)]=_0x244d11(0x217),_0xebecd3['GHxsH']=_0x244d11(0x2b1),_0xebecd3[_0x244d11(0x237)]=_0x244d11(0x286);const _0x42cd85=_0xebecd3;switch(_0x560f32){case _0x42cd85[_0x244d11(0x255)]:testsFailed+=0x1;break;case _0x42cd85[_0x244d11(0x1f5)]:testsPassed+=0x1;break;case _0x42cd85['cfbEu']:testsSkipped+=0x1;break;case _0x42cd85[_0x244d11(0x26f)]:testsPending+=0x1;break;case _0x42cd85[_0x244d11(0x261)]:testsUndefined+=0x1;break;case _0x42cd85[_0x244d11(0x264)]:testsUnknown+=0x1;break;case _0x42cd85[_0x244d11(0x237)]:testsAmbiguous+=0x1;break;default:break;}}async['onTestRunStarted'](_0x8cff82){const _0x34dc6d=a6_0x2bafb1,_0x4f1a04={'lnYgc':function(_0x6109b8,_0x283731){return _0x6109b8!==_0x283731;},'LDSUo':function(_0x3150b9){return _0x3150b9();},'gGfhU':function(_0x4660fd,_0x16c5ef){return _0x4660fd(_0x16c5ef);},'XCAXK':function(_0x4bc20e,_0xdce5e0){return _0x4bc20e+_0xdce5e0;},'kIiaf':function(_0x293b93){return _0x293b93();},'Wzsxy':_0x34dc6d(0x249)};let _0x22892e;if(_0x4f1a04[_0x34dc6d(0x291)](process[_0x34dc6d(0x2a9)][_0x34dc6d(0x2aa)],undefined)){const _0x1b3028=JSON['parse'](process[_0x34dc6d(0x2a9)]['CONFIG']);_0x22892e=_0x1b3028[_0x34dc6d(0x230)];}_0x4f1a04['lnYgc'](_0x22892e,undefined)&&_0x4f1a04['LDSUo'](isBrowserstackInfra)&&(global['__platform']=_0x4f1a04['gGfhU'](getPlatformName,_0x22892e),this['log'](_0x4f1a04[_0x34dc6d(0x22f)]('Executing\x20tests\x20for\x20'+global[_0x34dc6d(0x25e)],'\x0a'))),_0x4f1a04[_0x34dc6d(0x21b)](shouldProcessEventForTesthub)&&(TestDetails[_0x34dc6d(0x271)](),this[_0x34dc6d(0x1fd)][_0x34dc6d(0x23e)]=_0x8cff82,BrowserstackCLI[_0x34dc6d(0x29c)]()[_0x34dc6d(0x262)]()&&await this[_0x34dc6d(0x290)]()&&(TestInfo['setup'](_0x4f1a04['Wzsxy']),await BrowserstackCLI[_0x34dc6d(0x29c)]()['getTestFramework']()[_0x34dc6d(0x299)](TestFrameworkState[_0x34dc6d(0x27f)],HookState['PRE'],{})));}['onTestRunFinished'](_0xfc943){const _0x36e3a0=a6_0x2bafb1;this['report']['testRunFinished']=_0xfc943,this[_0x36e3a0(0x201)](_0xfc943);}async['onTestCaseStarted'](_0x41b4d7,_0x4e4944,_0x467c89){const _0xede1aa=a6_0x2bafb1,_0x52dd63={'sfZFv':function(_0x430e58,_0x1a4468){return _0x430e58(_0x1a4468);},'jJmIe':_0xede1aa(0x1de),'LLpEC':function(_0xa3aac,_0x2e6753){return _0xa3aac&&_0x2e6753;}};testSuites+=0x1;if(_0x52dd63[_0xede1aa(0x213)](shouldProcessEventForTesthub,_0x52dd63[_0xede1aa(0x2b0)]))try{this[_0xede1aa(0x1fd)][_0xede1aa(0x22a)]=this['report'][_0xede1aa(0x22a)]||{},this[_0xede1aa(0x1fd)]['testCaseStarted'][_0x41b4d7['id']]=_0x41b4d7;let _0xa2fa7b=null;BrowserstackCLI[_0xede1aa(0x29c)]()[_0xede1aa(0x262)]()&&await this[_0xede1aa(0x290)]()?_0xa2fa7b=TestInfo[_0xede1aa(0x23d)](_0x41b4d7['id']):_0xa2fa7b=TestDetails['getTestUUID'](_0x41b4d7['id']);_testCasesData[_0x41b4d7['id']]=Object['assign']({},_0x467c89);const _0x31aa8d=this['report'],_0x1e4f48=_0x41b4d7[_0xede1aa(0x24f)],_0x3b151e=_0x31aa8d[_0xede1aa(0x234)][_0xede1aa(0x242)](_0x4394d3=>_0x4394d3['id']===_0x1e4f48)['pickleId'],_0x536869=_0x31aa8d['pickle'][_0xede1aa(0x242)](_0x5dc461=>_0x5dc461['id']===_0x3b151e),_0x1e549b=_0x31aa8d[_0xede1aa(0x2a2)]['find'](_0x8351b6=>_0x8351b6[_0xede1aa(0x20c)]===_0x536869['uri']),_0x4cee83=_0x1e549b[_0xede1aa(0x2ae)],_0x94fbc6={'uuid':_0xa2fa7b,'startedAt':new Date()[_0xede1aa(0x1e9)]()};if(_0x536869){const _0x3bd585={};_0x3bd585[_0xede1aa(0x209)]=_0x536869['name'],_0x94fbc6[_0xede1aa(0x2a6)]=_0x3bd585;}if(_0x52dd63[_0xede1aa(0x25a)](_0x1e549b,_0x4cee83)){const _0x3f9b81={};_0x3f9b81[_0xede1aa(0x239)]=_0x1e549b['uri'],_0x3f9b81['name']=_0x4cee83['name'],_0x3f9b81[_0xede1aa(0x23a)]=_0x4cee83[_0xede1aa(0x23a)],_0x94fbc6[_0xede1aa(0x2ae)]=_0x3f9b81;}_tests[_0x1e4f48]=_0x94fbc6;if(BrowserstackCLI[_0xede1aa(0x29c)]()[_0xede1aa(0x262)]()&&await this[_0xede1aa(0x290)]()){const _0x4af5fa=await cucumberUtils[_0xede1aa(0x251)](_0x94fbc6,_0x536869,_0x467c89,_0x1e549b,_0x41b4d7['id'],_0x52dd63[_0xede1aa(0x2b0)]),_0x1826af={};_0x1826af[_0xede1aa(0x21a)]=_0x4af5fa,await BrowserstackCLI[_0xede1aa(0x29c)]()[_0xede1aa(0x21f)]()[_0xede1aa(0x299)](TestFrameworkState[_0xede1aa(0x273)],HookState[_0xede1aa(0x263)],_0x1826af);return;}await testObservabilityReporter['sendTestRunEventForCucumber'](_0x467c89,_0x1e549b,_0x536869,_0x52dd63['jJmIe'],_0x94fbc6);}catch(_0x3015f2){logger[_0xede1aa(0x247)](_0xede1aa(0x268)+util['format'](_0x3015f2)+'\x20');}}async['onTestCaseFinished'](_0x340db6,_0x11a0ed,_0x47c700){const _0x292b3e=a6_0x2bafb1,_0x473ce9={'eSbWb':function(_0x119d02,_0x7be850){return _0x119d02(_0x7be850);},'PxieD':'TestRunFinished','bqjIn':_0x292b3e(0x21a)};this[_0x292b3e(0x1e5)](_0x340db6);if(_0x473ce9[_0x292b3e(0x1e3)](shouldProcessEventForTesthub,_0x473ce9['PxieD']))try{this['report'][_0x292b3e(0x277)]=this['report'][_0x292b3e(0x277)]||{},this['report'][_0x292b3e(0x277)][_0x340db6['testCaseStartedId']]=_0x340db6,_testCasesData[_0x47c700['id']]=Object['assign']({},_0x47c700);const _0x5be6dc=_0x340db6['testCaseStartedId'],_0x438cf8=_0x11a0ed[_0x292b3e(0x274)][_0x292b3e(0x282)][_0x5be6dc][_0x292b3e(0x24f)],_0xbb0095=_0x11a0ed[_0x292b3e(0x274)]['testCaseMap'][_0x438cf8],_0x25375f=_0xbb0095[_0x292b3e(0x235)],_0x568bcd=_0x11a0ed[_0x292b3e(0x274)]['pickleMap'][_0x25375f],_0x164bfd=this[_0x292b3e(0x2a8)](_0x11a0ed,_0x568bcd),_0x1859ce=_0x164bfd['feature'],_0x53dfbd=_tests[_0x438cf8];_0x53dfbd&&(delete _tests[_0x438cf8],_0x53dfbd[_0x292b3e(0x1eb)]=new Date()['toISOString']());if(BrowserstackCLI[_0x292b3e(0x29c)]()[_0x292b3e(0x262)]()&&await this[_0x292b3e(0x290)]()){const _0x36051b=await cucumberUtils[_0x292b3e(0x251)](_0x53dfbd,_0x568bcd,_0x47c700,_0x164bfd,_0x5be6dc,_0x473ce9[_0x292b3e(0x28b)]),_0x57e235={};_0x57e235['test']=_0x36051b,await BrowserstackCLI[_0x292b3e(0x29c)]()[_0x292b3e(0x21f)]()[_0x292b3e(0x299)](TestFrameworkState[_0x292b3e(0x273)],HookState[_0x292b3e(0x24c)],_0x57e235);const _0x10b396={};_0x10b396[_0x292b3e(0x1e0)]=_0x340db6['testCaseStartedId'],_0x10b396[_0x292b3e(0x28d)]=_0x473ce9['bqjIn'],await BrowserstackCLI[_0x292b3e(0x29c)]()[_0x292b3e(0x21f)]()[_0x292b3e(0x299)](TestFrameworkState[_0x292b3e(0x228)],HookState[_0x292b3e(0x24c)],_0x10b396);return;}await testObservabilityReporter[_0x292b3e(0x20e)](_0x47c700,_0x164bfd,_0x568bcd,_0x473ce9[_0x292b3e(0x28b)],_0x53dfbd);}catch(_0x1796ba){logger[_0x292b3e(0x247)](_0x292b3e(0x1f8)+util['format'](_0x1796ba));}}async[a6_0x2bafb1(0x26d)](_0x1fb736,_0x2e5bbf){const _0x11012f=a6_0x2bafb1,_0x2335f6={'HCzUa':function(_0x877ea4,_0x2de101){return _0x877ea4(_0x2de101);},'KvUsn':_0x11012f(0x2b6),'ryKNy':function(_0x287c5f,_0xb34af7){return _0x287c5f!==_0xb34af7;},'sksco':_0x11012f(0x25d)};if(_0x2335f6[_0x11012f(0x269)](shouldProcessEventForTesthub,_0x2335f6[_0x11012f(0x2a7)]))try{this['report']['testStepStarted']=this[_0x11012f(0x1fd)][_0x11012f(0x266)]||{},this[_0x11012f(0x1fd)]['testStepStarted'][_0x1fb736[_0x11012f(0x2b4)]]=_0x1fb736;const _0x93c107=_0x1fb736[_0x11012f(0x2b4)],_0x384309=_0x2e5bbf[_0x11012f(0x274)][_0x11012f(0x282)][_0x93c107]['testCaseId'],_0x1667d1=this[_0x11012f(0x1fd)][_0x11012f(0x234)]['find'](_0xe7d7e8=>_0xe7d7e8['id']===_0x384309)[_0x11012f(0x235)],_0xa528b3=this[_0x11012f(0x1fd)][_0x11012f(0x2ac)]['find'](_0x4dd601=>_0x4dd601['id']===_0x1667d1),_0x333ce4=this[_0x11012f(0x1fd)][_0x11012f(0x234)]['find'](_0xd43105=>_0xd43105['id']===_0x384309)[_0x11012f(0x229)],_0x29f401=this[_0x11012f(0x1fd)]['testStepStarted'][_0x93c107][_0x11012f(0x25d)],_0xbded85=_0x333ce4[_0x11012f(0x242)](_0x4fffb8=>_0x4fffb8['id']===_0x29f401)[_0x11012f(0x27c)],_0x2d7573=_0xa528b3[_0x11012f(0x1dd)][_0x11012f(0x242)](_0x582d9e=>_0x582d9e['id']===_0xbded85);if(_0xbded85&&_tests[_0x384309]&&_0x2335f6[_0x11012f(0x2ab)](_tests[_0x384309][_0x2335f6[_0x11012f(0x243)]],_0x29f401)){_tests[_0x384309][_0x2335f6[_0x11012f(0x243)]]=_0x29f401;const _0x5bdacd={};_0x5bdacd[_0x11012f(0x1dd)]=[];const _0x20f027=_tests[_0x384309]||_0x5bdacd;_0x20f027&&!_0x20f027[_0x11012f(0x1dd)]&&(_0x20f027[_0x11012f(0x1dd)]=[]),_0x20f027['steps']['push']({'id':_0x2d7573['id'],'text':_0x2d7573[_0x11012f(0x265)],'started_at':new Date()[_0x11012f(0x1e9)]()}),_tests[_0x384309]=_0x20f027;}if(BrowserstackCLI[_0x11012f(0x29c)]()[_0x11012f(0x262)]()&&await this[_0x11012f(0x290)]()){const _0x224029=await cucumberUtils[_0x11012f(0x220)](this['report'],_0x93c107,_0x2335f6['KvUsn'],_0x333ce4,_0x29f401,_tests[_0x384309]);_0x224029&&await BrowserstackCLI[_0x11012f(0x29c)]()[_0x11012f(0x21f)]()[_0x11012f(0x299)](TestFrameworkState[_0x224029['hook_type']],HookState[_0x11012f(0x263)],{'hookData':_0x224029,'testUUID':_0x1fb736[_0x11012f(0x2b4)]});return;}await testObservabilityReporter[_0x11012f(0x244)](this[_0x11012f(0x1fd)],_0x93c107,_0x2335f6[_0x11012f(0x2a7)],_0x333ce4,_0x29f401,_tests[_0x384309]);}catch(_0x246001){logger[_0x11012f(0x247)](_0x11012f(0x238)+util['format'](_0x246001));}}async[a6_0x2bafb1(0x207)](_0xe7180,_0x5daac6){const _0x458c10=a6_0x2bafb1,_0x4cd180={'QDNgA':function(_0x467e91,_0x5aa9e5){return _0x467e91===_0x5aa9e5;},'peEII':_0x458c10(0x275),'swpof':function(_0x362c30,_0x5da187){return _0x362c30(_0x5da187);},'pYKPj':_0x458c10(0x2a1),'hFeZD':function(_0x481f00,_0x5f3ca4){return _0x481f00===_0x5f3ca4;},'JCdQr':_0x458c10(0x2b8),'MXaHX':function(_0x16d330,_0x3fad11){return _0x16d330===_0x3fad11;},'tbRXs':'UnhandledError','aUToS':_0x458c10(0x25d),'HfDKN':_0x458c10(0x2b6),'gtPmj':_0x458c10(0x2a4)};this['report'][_0x458c10(0x1e2)]=this[_0x458c10(0x1fd)][_0x458c10(0x1e2)]||{},this[_0x458c10(0x1fd)][_0x458c10(0x1e2)][_0xe7180[_0x458c10(0x2b4)]]=_0xe7180;if(_0x4cd180[_0x458c10(0x214)](shouldProcessEventForTesthub,_0x4cd180[_0x458c10(0x1e6)]))try{const _0x141abb=_0xe7180[_0x458c10(0x2b4)],_0x506524=_0x5daac6[_0x458c10(0x274)][_0x458c10(0x282)][_0x141abb]['testCaseId'],_0x4680ce=_0x5daac6['eventDataCollector'][_0x458c10(0x203)][_0x506524],_0x226303=_0x4680ce[_0x458c10(0x235)],_0x48a7bd=_0x5daac6[_0x458c10(0x274)]['pickleMap'][_0x226303],_0x469db1=_0xe7180['testStepId'],_0x2cfd4b=_0x4680ce[_0x458c10(0x229)],_0x46af0d=this[_0x458c10(0x274)][_0x458c10(0x212)](_0x141abb),_0x3d31f9=_0x2cfd4b['find'](_0x340399=>_0x340399['id']===_0x469db1)[_0x458c10(0x27c)];let _0x14e5bd,_0x29e95b;_0xe7180[_0x458c10(0x254)]&&_0x4cd180['hFeZD'](_0xe7180[_0x458c10(0x254)]['status'][_0x458c10(0x25c)]()['toLowerCase'](),_0x4cd180['JCdQr'])&&(_0x14e5bd=_0x4cd180[_0x458c10(0x26a)](_0xe7180['testStepResult'][_0x458c10(0x260)],undefined)?_0xe7180[_0x458c10(0x254)][_0x458c10(0x252)]:_0xe7180['testStepResult'][_0x458c10(0x260)][_0x458c10(0x252)],_0x29e95b=_0x4cd180[_0x458c10(0x2b5)](_0xe7180[_0x458c10(0x254)]['exception'],undefined)?_0x4cd180['tbRXs']:_0xe7180[_0x458c10(0x254)][_0x458c10(0x252)]);if(_0x3d31f9&&_tests[_0x506524][_0x4cd180[_0x458c10(0x20b)]]){const _0x48a8d9=_0x48a7bd['steps'][_0x458c10(0x242)](_0x49f7f7=>_0x49f7f7['id']===_0x3d31f9),_0x2f7b55={};_0x2f7b55[_0x458c10(0x1dd)]=[];const _0x376303=_tests[_0x506524]||_0x2f7b55;!_0x376303[_0x458c10(0x1dd)]?_0x376303[_0x458c10(0x1dd)]=[{'id':_0x48a8d9['id'],'text':_0x48a8d9[_0x458c10(0x265)],'finished_at':new Date()[_0x458c10(0x1e9)](),'result':_0xe7180['testStepResult'][_0x458c10(0x26e)],'duration':_0xe7180[_0x458c10(0x254)][_0x458c10(0x215)][_0x458c10(0x200)],'failure':_0x14e5bd,'failureType':_0x29e95b}]:_0x376303[_0x458c10(0x1dd)][_0x458c10(0x29d)](_0x38f2a8=>{const _0x5cb89b=_0x458c10;if(_0x4cd180[_0x5cb89b(0x26a)](_0x38f2a8['id'],_0x48a8d9['id'])){const _0x23b9b7=_0x4cd180[_0x5cb89b(0x1df)][_0x5cb89b(0x297)]('|');let _0x42ebf1=0x0;while(!![]){switch(_0x23b9b7[_0x42ebf1++]){case'0':_0x38f2a8[_0x5cb89b(0x233)]=_0x29e95b;continue;case'1':_0x38f2a8[_0x5cb89b(0x20a)]=_0xe7180['testStepResult'][_0x5cb89b(0x26e)];continue;case'2':_0x38f2a8[_0x5cb89b(0x1f2)]=_0x14e5bd;continue;case'3':_0x38f2a8[_0x5cb89b(0x226)]=new Date()[_0x5cb89b(0x1e9)]();continue;case'4':_0x38f2a8[_0x5cb89b(0x215)]=_0xe7180[_0x5cb89b(0x254)][_0x5cb89b(0x215)][_0x5cb89b(0x200)];continue;}break;}}}),_tests[_0x506524]=_0x376303;}delete _tests[_0x506524][_0x4cd180[_0x458c10(0x20b)]];if(BrowserstackCLI[_0x458c10(0x29c)]()[_0x458c10(0x262)]()&&await this[_0x458c10(0x290)]()){const _0x5b14be=await cucumberUtils[_0x458c10(0x220)](this[_0x458c10(0x1fd)],_0x141abb,_0x4cd180[_0x458c10(0x1ef)],_0x2cfd4b,_0x469db1,_tests[_0x506524]);if(_0x5b14be){await BrowserstackCLI['getInstance']()[_0x458c10(0x21f)]()[_0x458c10(0x299)](TestFrameworkState[_0x5b14be[_0x458c10(0x296)]],HookState[_0x458c10(0x24c)],{'hookData':_0x5b14be,'testUUID':_0xe7180[_0x458c10(0x2b4)]});const _0x60a1d6={};_0x60a1d6[_0x458c10(0x1e0)]=_0xe7180[_0x458c10(0x2b4)],_0x60a1d6[_0x458c10(0x28d)]=_0x4cd180['gtPmj'],await BrowserstackCLI['getInstance']()[_0x458c10(0x21f)]()['trackEvent'](TestFrameworkState[_0x458c10(0x228)],HookState[_0x458c10(0x24c)],_0x60a1d6);}return;}await testObservabilityReporter[_0x458c10(0x244)](this[_0x458c10(0x1fd)],_0x141abb,_0x4cd180[_0x458c10(0x1e6)],_0x2cfd4b,_0x469db1,_tests[_0x506524]);}catch(_0x52184e){logger[_0x458c10(0x247)](_0x458c10(0x23f)+util[_0x458c10(0x1f7)](_0x52184e));}}['getGherkinStepMap'](_0x2ef78b){const _0x4e3cf2=a6_0x2bafb1,_0x5d63b8={};return _0x2ef78b[_0x4e3cf2(0x2ae)][_0x4e3cf2(0x219)][_0x4e3cf2(0x1ee)](this[_0x4e3cf2(0x241)])[_0x4e3cf2(0x281)]()[_0x4e3cf2(0x29d)](_0x9e5498=>_0x9e5498[_0x4e3cf2(0x1dd)][_0x4e3cf2(0x29d)](_0x5b8ab6=>_0x5d63b8[_0x5b8ab6['id']]=_0x5b8ab6)),_0x5d63b8;}[a6_0x2bafb1(0x241)](_0x51142c){const _0x457b92=a6_0x2bafb1,_0x13a57d={'rEvVQ':function(_0x535ce1,_0x319720){return _0x535ce1(_0x319720);},'dWEgG':function(_0x378e0b,_0x3c10ae){return _0x378e0b(_0x3c10ae);}};if(!_0x13a57d[_0x457b92(0x288)](isUndefined,_0x51142c['background']))return[_0x51142c[_0x457b92(0x27b)]];else{if(!_0x13a57d[_0x457b92(0x29b)](isUndefined,_0x51142c[_0x457b92(0x279)]))return _0x51142c[_0x457b92(0x279)][_0x457b92(0x219)]['map'](_0x2ee4e0=>!isUndefined(_0x2ee4e0[_0x457b92(0x27b)])?_0x2ee4e0[_0x457b92(0x27b)]:_0x2ee4e0[_0x457b92(0x2a6)]);};return[_0x51142c['scenario']];}[a6_0x2bafb1(0x2a8)](_0x3dfa88,_0x2b7259){const _0x160ea5=a6_0x2bafb1;return Object['values'](_0x3dfa88[_0x160ea5(0x274)][_0x160ea5(0x2af)])['find'](_0x4f6117=>_0x4f6117[_0x160ea5(0x20c)]===_0x2b7259[_0x160ea5(0x20c)]);}async[a6_0x2bafb1(0x289)](){const _0x36f543=a6_0x2bafb1;if(this[_0x36f543(0x206)])return this['cliInitPromise'];return this[_0x36f543(0x206)]=this['_performCLIInitialization'](),this['cliInitPromise'];}async[a6_0x2bafb1(0x248)](){const _0x3419de=a6_0x2bafb1,_0x21b96c={'IpwmR':_0x3419de(0x253),'cJBmg':function(_0xa9ac8c,_0x1f5e65){return _0xa9ac8c(_0x1f5e65);},'zJnIc':_0x3419de(0x232),'jQpZA':'../../utils/constants'};try{const _0x14606d=BrowserstackCLI[_0x3419de(0x29c)]();if(_0x14606d[_0x3419de(0x1f4)]())return logger[_0x3419de(0x247)](_0x3419de(0x278)+_0x14606d[_0x3419de(0x221)]),!![];const _0x1e1112=process['env'][_0x3419de(0x29f)];if(!_0x1e1112)return logger[_0x3419de(0x247)](_0x21b96c[_0x3419de(0x256)]),![];const _0x3aaaf4=_0x21b96c[_0x3419de(0x222)](require,_0x21b96c[_0x3419de(0x21d)]),{FRAMEWORKS:_0x2b4c03}=_0x21b96c['cJBmg'](require,_0x21b96c['jQpZA']);return _0x3aaaf4[_0x3419de(0x216)](_0x2b4c03[_0x3419de(0x208)],_0x2b4c03[_0x3419de(0x246)]),logger['debug']('Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20'+_0x1e1112),await _0x14606d[_0x3419de(0x23b)](),logger[_0x3419de(0x247)](_0x3419de(0x1fa)+_0x14606d['isRunning']()+_0x3419de(0x218)+_0x14606d[_0x3419de(0x221)]),_0x14606d[_0x3419de(0x1f4)]();}catch(_0xadfb17){return logger[_0x3419de(0x247)]('Error\x20initializing\x20CLI\x20in\x20formatter:\x20'+util[_0x3419de(0x1f7)](_0xadfb17)),![];}}async['isCLIReady'](){const _0x339f2f=a6_0x2bafb1;try{return await this[_0x339f2f(0x289)](),BrowserstackCLI[_0x339f2f(0x29c)]()[_0x339f2f(0x1f4)]();}catch(_0x41f08a){return logger[_0x339f2f(0x247)](_0x339f2f(0x225)+util[_0x339f2f(0x1f7)](_0x41f08a)),![];}}}function a6_0x1dc8(_0x47144d,_0x3741da){const _0x1ab441=a6_0x1ab4();return a6_0x1dc8=function(_0x1dc8e5,_0x32b04a){_0x1dc8e5=_0x1dc8e5-0x1dc;let _0x2b7e89=_0x1ab441[_0x1dc8e5];return _0x2b7e89;},a6_0x1dc8(_0x47144d,_0x3741da);}module[a6_0x2bafb1(0x29a)]=o11yClassErrorHandler(BrowserstackFormatter,['onTestCaseStarted',a6_0x2bafb1(0x298),a6_0x2bafb1(0x26d),a6_0x2bafb1(0x207),a6_0x2bafb1(0x1f3),a6_0x2bafb1(0x204),a6_0x2bafb1(0x241),'getGherkinDocument',a6_0x2bafb1(0x210)]);