const a7_0x37615e=a7_0xdaf5;(function(_0x227eb8,_0x4852e8){const _0x405994=a7_0xdaf5,_0x108808=_0x227eb8();while(!![]){try{const _0x331283=parseInt(_0x405994(0x22c))/0x1+-parseInt(_0x405994(0x1e9))/0x2*(parseInt(_0x405994(0x1d0))/0x3)+parseInt(_0x405994(0x1db))/0x4*(-parseInt(_0x405994(0x1eb))/0x5)+-parseInt(_0x405994(0x1af))/0x6*(parseInt(_0x405994(0x23f))/0x7)+-parseInt(_0x405994(0x1d1))/0x8+-parseInt(_0x405994(0x21b))/0x9*(parseInt(_0x405994(0x1a4))/0xa)+parseInt(_0x405994(0x215))/0xb*(parseInt(_0x405994(0x1b8))/0xc);if(_0x331283===_0x4852e8)break;else _0x108808['push'](_0x108808['shift']());}catch(_0x2ffb92){_0x108808['push'](_0x108808['shift']());}}}(a7_0x4506,0x53b30));const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require('../../../helpers/helper'),util=require(a7_0x37615e(0x1a9)),{Formatter,formatterHelpers,Status}=requireModule(a7_0x37615e(0x20c)),TestDetails=require(a7_0x37615e(0x203)),TestObservabilityReporter=require(a7_0x37615e(0x1ec)),{o11yClassErrorHandler}=require(a7_0x37615e(0x24c)),{shouldProcessEventForTesthub}=require(a7_0x37615e(0x233)),testObservabilityReporter=new TestObservabilityReporter(),logger=require('../../../helpers/logger')['winstonLogger'],_tests={},_testCasesData={};function a7_0xdaf5(_0x190859,_0x457292){const _0x4506b2=a7_0x4506();return a7_0xdaf5=function(_0xdaf5f8,_0x4c770c){_0xdaf5f8=_0xdaf5f8-0x1a3;let _0x5b10d8=_0x4506b2[_0xdaf5f8];return _0x5b10d8;},a7_0xdaf5(_0x190859,_0x457292);}function a7_0x4506(){const _0x124ef8=['testCaseMap','testCaseAttemptDataMap','4XTtzOl','YXPZV','testRunStarted','VcIWV','VYAUW','testStepId','toString','incrementCounter','forEach','seconds','supportCodeLibrary','source','sendTestRunEventForCucumber','includes','221922RcMXoo','pickleMap','893170pPsqoK','../test-observability.js','onTestStepFinished','UnhandledError','__platform','testStepStarted','background','report','\x20\x20\x20\x20','onGherkinDocument','onPickle','SKIPPED','fqEjE','snippetBuilder','finished_at','getTestCaseAttempt','pickleStepId','cQrwI','ZlusX','vChoB','capability','HookRunFinished','pickle','eventDataCollector','../../playwright/reporter/test-details.js','BMrXs','stepDefinition','dtDOh','cwd','YmUNV','OTFNo','values','feature','@cucumber/cucumber','qBwVo','Mxvcv','path','testCaseFinished','FAILED','PENDING','GhqqN','setup','77xqoTeJ','bqsgV','getGherkinStepMap','testSteps','assign','4|2|1|3|0','247239xEbrMM','onTestCase','uri','AMBIGUOUS','actionLocation','xFObZ','kpTLB','env','getTestUUID','keyword','EpDpE','Wiyjg','yqhNA','map','debug','vsNFW','find','232417vywFTW','GKtzh','Executing\x20tests\x20for\x20','onTestStepStarted','onTestCaseFinished','format','cPLLE','../../../helpers/testhub/utils.js','text','steps','testCases','mpzfL','ABmNg','testRunFinished','testCase','CONFIG','smjiJ','onTestRunStarted','EVOPi','7noFqYe','sendHook','scenario','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','FFjmt','cucumber-js/test.setup.js','children','TestRunFinished','result','hook','rbEJB','DWiQv','onTestCaseStarted','../../../helpers/test-observability/error-handler','log','50hEKbsV','finishedAt','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','XCOEG','extractStepContainers','util','isBstackHook','\x20-\x20','toISOString','nDiAV','oAfiP','3985986aSdeOW','bstack','gherkinDocument','onStepDefinition','onHook','TestRunStarted','rule','chYmM','testCaseStartedId','2379012kFWSdd','hooks','toLowerCase','testCaseStarted','exception','logTestRunFinished','Exception\x20in\x20onTestStepStarted\x20event:\x20','description','logTestCaseFinished','exports','getGherkinDocument','EQoAW','failed','onSource','testCaseId','sAqyA','ctAEy','name','pYzGU','ictXg','pickleId','onTestRunFinished','message','push','3wElTJq','1488488XPdzGd','status','duration','ZcuUq','locih','testStepResult','KzZrl','testStepFinished'];a7_0x4506=function(){return _0x124ef8;};return a7_0x4506();}class BrowserstackFormatter extends Formatter{constructor(_0x5a975b){const _0x34d067=a7_0x37615e,_0x309f41={};_0x309f41['OTFNo']='envelope';const _0x39053b=_0x309f41;super(_0x5a975b),this[_0x34d067(0x1f2)]={},_0x5a975b['eventBroadcaster']['on'](_0x39053b[_0x34d067(0x209)],async _0x134352=>{const _0x5cf4af=_0x34d067;switch(!![]){case!!_0x134352[_0x5cf4af(0x1dd)]:this['onTestRunStarted'](_0x134352['testRunStarted']);break;case!!_0x134352[_0x5cf4af(0x239)]:this[_0x5cf4af(0x1cd)](_0x134352['testRunFinished']);break;case!!_0x134352[_0x5cf4af(0x1bb)]:this[_0x5cf4af(0x24b)](_0x134352[_0x5cf4af(0x1bb)],_0x5a975b,_0x134352);break;case!!_0x134352[_0x5cf4af(0x210)]:this[_0x5cf4af(0x230)](_0x134352[_0x5cf4af(0x210)],_0x5a975b,_0x134352);break;case!!_0x134352[_0x5cf4af(0x1f0)]:this[_0x5cf4af(0x22f)](_0x134352[_0x5cf4af(0x1f0)],_0x5a975b);break;case!!_0x134352['testStepFinished']:this[_0x5cf4af(0x1ed)](_0x134352[_0x5cf4af(0x1d8)],_0x5a975b);break;case!!_0x134352['hook']:this[_0x5cf4af(0x1b3)](_0x134352[_0x5cf4af(0x248)]);break;case!!_0x134352[_0x5cf4af(0x23a)]:this['onTestCase'](_0x134352[_0x5cf4af(0x23a)]);break;case!!_0x134352[_0x5cf4af(0x201)]:this[_0x5cf4af(0x1f5)](_0x134352['pickle']);break;case!!_0x134352[_0x5cf4af(0x1b1)]:this[_0x5cf4af(0x1f4)](_0x134352['gherkinDocument']);break;}});}[a7_0x37615e(0x1b3)](_0x34f3dc){const _0x3607fd=a7_0x37615e;this[_0x3607fd(0x1f2)][_0x3607fd(0x1b9)]=Object[_0x3607fd(0x219)]([],this[_0x3607fd(0x1f2)]['hooks']||[]),this[_0x3607fd(0x1f2)][_0x3607fd(0x1b9)][_0x3607fd(0x1cf)](_0x34f3dc);}[a7_0x37615e(0x1f5)](_0x15882f){const _0x34cdf6=a7_0x37615e;this['report'][_0x34cdf6(0x201)]=Object['assign']([],this['report']['pickle']||[],[_0x15882f]),this[_0x34cdf6(0x1f2)][_0x34cdf6(0x201)][_0x34cdf6(0x1cf)](_0x15882f);}[a7_0x37615e(0x1f4)](_0x267564){const _0x39b9bb=a7_0x37615e;this[_0x39b9bb(0x1f2)][_0x39b9bb(0x1b1)]=Object[_0x39b9bb(0x219)]([],this['report'][_0x39b9bb(0x1b1)]||[],[_0x267564]),this['report'][_0x39b9bb(0x1b1)][_0x39b9bb(0x1cf)](_0x267564);}[a7_0x37615e(0x1c5)](_0xa8aaa3){const _0x4475e0=a7_0x37615e;this['report'][_0x4475e0(0x1e6)]=_0xa8aaa3;}[a7_0x37615e(0x1b2)](_0x519621){const _0x49e93d=a7_0x37615e;this[_0x49e93d(0x1f2)][_0x49e93d(0x205)]=Object[_0x49e93d(0x219)]([],this[_0x49e93d(0x1f2)][_0x49e93d(0x205)]||[],[_0x519621]),this[_0x49e93d(0x1f2)][_0x49e93d(0x205)][_0x49e93d(0x1cf)](_0x519621);}[a7_0x37615e(0x21c)](_0x5b8188){const _0x21028e=a7_0x37615e;this['report'][_0x21028e(0x236)]=Object[_0x21028e(0x219)]([],this[_0x21028e(0x1f2)][_0x21028e(0x236)]||[],[_0x5b8188]),this[_0x21028e(0x1f2)][_0x21028e(0x236)][_0x21028e(0x1cf)](_0x5b8188);}[a7_0x37615e(0x1c0)](_0x50321e){const _0x46094c=a7_0x37615e,_0x49745c={'kpTLB':function(_0x984bfa,_0x2d8161){return _0x984bfa!==_0x2d8161;},'ABmNg':_0x46094c(0x1b0),'YXPZV':function(_0x53ceeb,_0x524898){return _0x53ceeb+_0x524898;},'rbEJB':function(_0x252e07,_0x27c992){return _0x252e07+_0x27c992;},'YmUNV':function(_0x21a2ac,_0x56e42b){return _0x21a2ac+_0x56e42b;},'VYAUW':function(_0x3e4887,_0x509334){return _0x3e4887+_0x509334;},'dtDOh':_0x46094c(0x1f3),'cPLLE':_0x46094c(0x1ab),'Mxvcv':function(_0x5d79fb,_0x567aa4){return _0x5d79fb===_0x567aa4;},'BMrXs':_0x46094c(0x211),'aoZpH':function(_0x2b4039,_0x1bbb88,_0x55b906){return _0x2b4039(_0x1bbb88,_0x55b906);},'GhqqN':_0x46094c(0x247),'ssoyP':_0x46094c(0x1ce),'pYzGU':function(_0x24f10a,_0x58f4b0){return _0x24f10a+_0x58f4b0;},'xqMMo':function(_0x2db8fc,_0xc4758e){return _0x2db8fc+_0xc4758e;},'ictXg':function(_0x3e65d5,_0x59b13f){return _0x3e65d5+_0x59b13f;}};_0x49745c[_0x46094c(0x221)](global[_0x46094c(0x1ef)],undefined)&&this[_0x46094c(0x1a3)](_0x49745c['xqMMo'](_0x49745c[_0x46094c(0x1df)]('\x0a',global[_0x46094c(0x1ef)]),'\x0a'));const _0x311992=this[_0x46094c(0x202)][_0x46094c(0x1fa)](_0x50321e[_0x46094c(0x1b7)]);this[_0x46094c(0x1a3)](_0x49745c['VYAUW'](_0x49745c[_0x46094c(0x1cb)](_0x49745c[_0x46094c(0x1df)](_0x49745c[_0x46094c(0x208)]('\x20\x20',_0x311992[_0x46094c(0x1b1)]['feature'][_0x46094c(0x1c9)]),_0x49745c['cPLLE']),_0x311992[_0x46094c(0x201)][_0x46094c(0x1c9)]),'\x0a'));const _0x319894={};_0x319894[_0x46094c(0x207)]=this[_0x46094c(0x207)],_0x319894[_0x46094c(0x1f8)]=this[_0x46094c(0x1f8)],_0x319894[_0x46094c(0x1e5)]=this[_0x46094c(0x1e5)],_0x319894['testCaseAttempt']=_0x311992;const _0x12beed=formatterHelpers['parseTestCaseAttempt'](_0x319894);let _0x118230=![];_0x12beed[_0x46094c(0x218)][_0x46094c(0x1e3)](_0x426ae0=>{const _0xc77fc3=_0x46094c;if(_0x49745c[_0xc77fc3(0x221)](_0x426ae0[_0xc77fc3(0x1c9)],_0x49745c[_0xc77fc3(0x238)])&&!this[_0xc77fc3(0x1aa)](_0x426ae0)){totalTests+=0x1,this[_0xc77fc3(0x1a3)](_0x49745c[_0xc77fc3(0x1dc)](_0x49745c['rbEJB'](_0x49745c[_0xc77fc3(0x1dc)](_0x49745c[_0xc77fc3(0x208)](_0x49745c[_0xc77fc3(0x1df)](_0x49745c[_0xc77fc3(0x206)],_0x426ae0[_0xc77fc3(0x224)]),_0x426ae0['text']||''),_0x49745c[_0xc77fc3(0x232)]),Status[_0x426ae0[_0xc77fc3(0x247)][_0xc77fc3(0x1d2)]]),'\x0a')),this[_0xc77fc3(0x1e2)](Status[_0x426ae0['result']['status']]);if(_0x49745c[_0xc77fc3(0x20e)](Status[_0x426ae0[_0xc77fc3(0x247)][_0xc77fc3(0x1d2)]],_0x49745c[_0xc77fc3(0x204)])){_0x118230=!![];const _0x2da670=_0x49745c['aoZpH'](nestedKeyValue,_0x426ae0,[_0x49745c[_0xc77fc3(0x213)],_0x49745c['ssoyP']]);_0x2da670&&(testsErrorMessage[_0x49745c[_0xc77fc3(0x249)](_0x49745c['VYAUW'](_0x311992[_0xc77fc3(0x1b1)][_0xc77fc3(0x20b)]['name'],_0x49745c['cPLLE']),_0x311992['pickle'][_0xc77fc3(0x1c9)])]=_0x2da670,this[_0xc77fc3(0x1a3)](_0x49745c[_0xc77fc3(0x1ca)](_0x2da670,'\x0a')));}}}),_0x118230&&(testSuitesFailed+=0x1),this[_0x46094c(0x1a3)]('\x0a');}['logTestRunFinished'](_0x4b1b2d){}['isBstackHook'](_0x4977c8){const _0x1ed66c=a7_0x37615e,_0x1feb3a={};_0x1feb3a[_0x1ed66c(0x216)]=function(_0x54c5d4,_0x1d0b7e){return _0x54c5d4!==_0x1d0b7e;},_0x1feb3a[_0x1ed66c(0x227)]=_0x1ed66c(0x244);const _0x59f63f=_0x1feb3a;if(_0x59f63f['bqsgV'](_0x4977c8['sourceLocation'],undefined))return![];if(_0x4977c8[_0x1ed66c(0x21f)]&&_0x4977c8[_0x1ed66c(0x21f)][_0x1ed66c(0x21d)][_0x1ed66c(0x1e8)](_0x59f63f['yqhNA']))return!![];return![];}[a7_0x37615e(0x1e2)](_0x4e172a){const _0x774878=a7_0x37615e,_0x56883b={};_0x56883b[_0x774878(0x226)]=_0x774878(0x211),_0x56883b['KzZrl']='PASSED',_0x56883b[_0x774878(0x1de)]=_0x774878(0x1f6),_0x56883b['EpDpE']=_0x774878(0x212),_0x56883b[_0x774878(0x1c8)]='UNDEFINED',_0x56883b[_0x774878(0x20d)]='UNKNOWN',_0x56883b['HcsUp']=_0x774878(0x21e);const _0x222632=_0x56883b;switch(_0x4e172a){case _0x222632['Wiyjg']:testsFailed+=0x1;break;case _0x222632[_0x774878(0x1d7)]:testsPassed+=0x1;break;case _0x222632[_0x774878(0x1de)]:testsSkipped+=0x1;break;case _0x222632[_0x774878(0x225)]:testsPending+=0x1;break;case _0x222632[_0x774878(0x1c8)]:testsUndefined+=0x1;break;case _0x222632[_0x774878(0x20d)]:testsUnknown+=0x1;break;case _0x222632['HcsUp']:testsAmbiguous+=0x1;break;default:break;}}[a7_0x37615e(0x23d)](_0x36c78c){const _0x4c66be=a7_0x37615e,_0x107c38={'sxFAV':function(_0x150e6d,_0x55efcf){return _0x150e6d!==_0x55efcf;},'ZcuUq':function(_0x3569f7,_0x48dcd8){return _0x3569f7!==_0x48dcd8;},'EVOPi':function(_0x5d1669){return _0x5d1669();},'fqEjE':function(_0x3aa888,_0x312d77){return _0x3aa888(_0x312d77);},'GKtzh':function(_0x248859,_0xe23477){return _0x248859+_0xe23477;}};let _0x143e05;if(_0x107c38['sxFAV'](process[_0x4c66be(0x222)][_0x4c66be(0x23b)],undefined)){const _0x5e2fc9=JSON['parse'](process[_0x4c66be(0x222)][_0x4c66be(0x23b)]);_0x143e05=_0x5e2fc9[_0x4c66be(0x1ff)];}_0x107c38[_0x4c66be(0x1d4)](_0x143e05,undefined)&&_0x107c38[_0x4c66be(0x23e)](isBrowserstackInfra)&&(global['__platform']=_0x107c38[_0x4c66be(0x1f7)](getPlatformName,_0x143e05),this[_0x4c66be(0x1a3)](_0x107c38[_0x4c66be(0x22d)](_0x4c66be(0x22e)+global[_0x4c66be(0x1ef)],'\x0a'))),_0x107c38[_0x4c66be(0x23e)](shouldProcessEventForTesthub)&&(TestDetails[_0x4c66be(0x214)](),this['report'][_0x4c66be(0x1dd)]=_0x36c78c);}[a7_0x37615e(0x1cd)](_0x799b82){const _0x306778=a7_0x37615e;this[_0x306778(0x1f2)]['testRunFinished']=_0x799b82,this[_0x306778(0x1bd)](_0x799b82);}async[a7_0x37615e(0x24b)](_0x3fa827,_0xf2827c,_0x12311e){const _0x158f8d=a7_0x37615e,_0x13288a={'ZlusX':function(_0x332325,_0x302851){return _0x332325(_0x302851);},'cQrwI':_0x158f8d(0x1b4),'FFjmt':function(_0x5a831c,_0x2802d7){return _0x5a831c&&_0x2802d7;}};testSuites+=0x1;if(_0x13288a[_0x158f8d(0x1fd)](shouldProcessEventForTesthub,_0x13288a[_0x158f8d(0x1fc)]))try{this['report'][_0x158f8d(0x1bb)]=this['report']['testCaseStarted']||{},this['report'][_0x158f8d(0x1bb)][_0x3fa827['id']]=_0x3fa827;const _0x454b63=TestDetails[_0x158f8d(0x223)](_0x3fa827['id']);_testCasesData[_0x3fa827['id']]=Object['assign']({},_0x12311e);const _0x1518c0=this[_0x158f8d(0x1f2)],_0x264d9d=_0x3fa827[_0x158f8d(0x1c6)],_0x157c1d=_0x1518c0[_0x158f8d(0x236)][_0x158f8d(0x22b)](_0x241752=>_0x241752['id']===_0x264d9d)['pickleId'],_0x51d98b=_0x1518c0[_0x158f8d(0x201)][_0x158f8d(0x22b)](_0x243863=>_0x243863['id']===_0x157c1d),_0x1cb968=_0x1518c0[_0x158f8d(0x1b1)]['find'](_0x1bf063=>_0x1bf063['uri']===_0x51d98b[_0x158f8d(0x21d)]),_0x3793ce=_0x1cb968['feature'],_0x1d22cf={'uuid':_0x454b63,'startedAt':new Date()[_0x158f8d(0x1ac)]()};if(_0x51d98b){const _0x20e59e={};_0x20e59e[_0x158f8d(0x1c9)]=_0x51d98b[_0x158f8d(0x1c9)],_0x1d22cf['scenario']=_0x20e59e;}if(_0x13288a[_0x158f8d(0x243)](_0x1cb968,_0x3793ce)){const _0x541fb7={};_0x541fb7[_0x158f8d(0x20f)]=_0x1cb968[_0x158f8d(0x21d)],_0x541fb7[_0x158f8d(0x1c9)]=_0x3793ce[_0x158f8d(0x1c9)],_0x541fb7['description']=_0x3793ce[_0x158f8d(0x1bf)],_0x1d22cf['feature']=_0x541fb7;}_tests[_0x264d9d]=_0x1d22cf,await testObservabilityReporter['sendTestRunEventForCucumber'](_0x12311e,_0x1cb968,_0x51d98b,_0x13288a[_0x158f8d(0x1fc)],_0x1d22cf);}catch(_0xb63494){logger[_0x158f8d(0x229)](_0x158f8d(0x1a6)+util[_0x158f8d(0x231)](_0xb63494)+'\x20');}}async[a7_0x37615e(0x230)](_0x2114b5,_0x166d3b,_0x27f38d){const _0x26129e=a7_0x37615e,_0x33020d={'oAfiP':function(_0x36153e,_0x36d86d){return _0x36153e(_0x36d86d);},'vsNFW':_0x26129e(0x246)};this[_0x26129e(0x1c0)](_0x2114b5);if(_0x33020d[_0x26129e(0x1ae)](shouldProcessEventForTesthub,_0x33020d['vsNFW']))try{this['report']['testCaseFinished']=this[_0x26129e(0x1f2)][_0x26129e(0x210)]||{},this[_0x26129e(0x1f2)][_0x26129e(0x210)][_0x2114b5[_0x26129e(0x1b7)]]=_0x2114b5,_testCasesData[_0x27f38d['id']]=Object[_0x26129e(0x219)]({},_0x27f38d);const _0x457337=_0x2114b5[_0x26129e(0x1b7)],_0x3d06c9=_0x166d3b[_0x26129e(0x202)][_0x26129e(0x1da)][_0x457337][_0x26129e(0x1c6)],_0x17820e=_0x166d3b[_0x26129e(0x202)]['testCaseMap'][_0x3d06c9],_0xb0d6fb=_0x17820e[_0x26129e(0x1cc)],_0x4d6827=_0x166d3b[_0x26129e(0x202)][_0x26129e(0x1ea)][_0xb0d6fb],_0x4c16fd=this[_0x26129e(0x1c2)](_0x166d3b,_0x4d6827),_0x4de111=_tests[_0x3d06c9];_0x4de111&&(delete _tests[_0x3d06c9],_0x4de111[_0x26129e(0x1a5)]=new Date()[_0x26129e(0x1ac)]()),await testObservabilityReporter[_0x26129e(0x1e7)](_0x27f38d,_0x4c16fd,_0x4d6827,_0x33020d[_0x26129e(0x22a)],_0x4de111);}catch(_0x3db795){logger[_0x26129e(0x229)](_0x26129e(0x242)+util['format'](_0x3db795));}}async[a7_0x37615e(0x22f)](_0x3d74d2,_0x3b1f85){const _0x177fc4=a7_0x37615e,_0x5f1152={'BezsY':function(_0x5f03ec,_0x32bc37){return _0x5f03ec(_0x32bc37);},'EQoAW':'HookRunStarted','DWiQv':function(_0x577ba3,_0x907fa2){return _0x577ba3!==_0x907fa2;},'smjiJ':_0x177fc4(0x1e0)};if(_0x5f1152['BezsY'](shouldProcessEventForTesthub,_0x5f1152[_0x177fc4(0x1c3)]))try{this[_0x177fc4(0x1f2)][_0x177fc4(0x1f0)]=this[_0x177fc4(0x1f2)]['testStepStarted']||{},this['report'][_0x177fc4(0x1f0)][_0x3d74d2[_0x177fc4(0x1b7)]]=_0x3d74d2;const _0x240484=_0x3d74d2['testCaseStartedId'],_0x2bc317=_0x3b1f85[_0x177fc4(0x202)]['testCaseAttemptDataMap'][_0x240484][_0x177fc4(0x1c6)],_0x299c3f=this[_0x177fc4(0x1f2)][_0x177fc4(0x236)]['find'](_0x1fb07d=>_0x1fb07d['id']===_0x2bc317)['pickleId'],_0xa625a4=this[_0x177fc4(0x1f2)][_0x177fc4(0x201)][_0x177fc4(0x22b)](_0x2a270a=>_0x2a270a['id']===_0x299c3f),_0x2ac1a3=this[_0x177fc4(0x1f2)][_0x177fc4(0x236)]['find'](_0x5b21ee=>_0x5b21ee['id']===_0x2bc317)[_0x177fc4(0x218)],_0x387015=this[_0x177fc4(0x1f2)][_0x177fc4(0x1f0)][_0x240484][_0x177fc4(0x1e0)],_0x15ec12=_0x2ac1a3[_0x177fc4(0x22b)](_0x52e515=>_0x52e515['id']===_0x387015)[_0x177fc4(0x1fb)],_0x411d65=_0xa625a4[_0x177fc4(0x235)][_0x177fc4(0x22b)](_0x196b04=>_0x196b04['id']===_0x15ec12);if(_0x15ec12&&_tests[_0x2bc317]&&_0x5f1152[_0x177fc4(0x24a)](_tests[_0x2bc317][_0x5f1152[_0x177fc4(0x23c)]],_0x387015)){_tests[_0x2bc317][_0x5f1152[_0x177fc4(0x23c)]]=_0x387015;const _0x226c2f={};_0x226c2f[_0x177fc4(0x235)]=[];const _0xc434f1=_tests[_0x2bc317]||_0x226c2f;_0xc434f1&&!_0xc434f1[_0x177fc4(0x235)]&&(_0xc434f1[_0x177fc4(0x235)]=[]),_0xc434f1[_0x177fc4(0x235)][_0x177fc4(0x1cf)]({'id':_0x411d65['id'],'text':_0x411d65['text'],'started_at':new Date()[_0x177fc4(0x1ac)]()}),_tests[_0x2bc317]=_0xc434f1;}await testObservabilityReporter[_0x177fc4(0x240)](this['report'],_0x240484,_0x5f1152[_0x177fc4(0x1c3)],_0x2ac1a3,_0x387015,_tests[_0x2bc317]);}catch(_0x28e579){logger[_0x177fc4(0x229)](_0x177fc4(0x1be)+util['format'](_0x28e579));}}async[a7_0x37615e(0x1ed)](_0x350e48,_0xd143da){const _0x512cf6=a7_0x37615e,_0x249859={'ABUKO':function(_0x429916,_0x1344cc){return _0x429916===_0x1344cc;},'xFObZ':_0x512cf6(0x21a),'vChoB':function(_0x31d8ce,_0x4f6abb){return _0x31d8ce(_0x4f6abb);},'chYmM':_0x512cf6(0x200),'locih':function(_0x2ab948,_0x571138){return _0x2ab948===_0x571138;},'lNaEd':_0x512cf6(0x1c4),'nDiAV':function(_0x4c5455,_0x529cc0){return _0x4c5455===_0x529cc0;},'XCOEG':_0x512cf6(0x1ee),'mpzfL':_0x512cf6(0x1e0)};this[_0x512cf6(0x1f2)]['testStepFinished']=this[_0x512cf6(0x1f2)]['testStepFinished']||{},this['report'][_0x512cf6(0x1d8)][_0x350e48[_0x512cf6(0x1b7)]]=_0x350e48;if(_0x249859[_0x512cf6(0x1fe)](shouldProcessEventForTesthub,_0x249859[_0x512cf6(0x1b6)]))try{const _0x2d0f4b=_0x350e48[_0x512cf6(0x1b7)],_0x441afc=_0xd143da['eventDataCollector'][_0x512cf6(0x1da)][_0x2d0f4b][_0x512cf6(0x1c6)],_0x59da34=_0xd143da[_0x512cf6(0x202)][_0x512cf6(0x1d9)][_0x441afc],_0x2ba129=_0x59da34[_0x512cf6(0x1cc)],_0x2096bb=_0xd143da[_0x512cf6(0x202)]['pickleMap'][_0x2ba129],_0x3e2b09=_0x350e48[_0x512cf6(0x1e0)],_0x582911=_0x59da34[_0x512cf6(0x218)],_0x3e980b=this[_0x512cf6(0x202)][_0x512cf6(0x1fa)](_0x2d0f4b),_0x334179=_0x582911[_0x512cf6(0x22b)](_0x19680f=>_0x19680f['id']===_0x3e2b09)[_0x512cf6(0x1fb)];let _0x18b693,_0x34655d;_0x350e48[_0x512cf6(0x1d6)]&&_0x249859[_0x512cf6(0x1d5)](_0x350e48['testStepResult'][_0x512cf6(0x1d2)][_0x512cf6(0x1e1)]()[_0x512cf6(0x1ba)](),_0x249859['lNaEd'])&&(_0x18b693=_0x249859['locih'](_0x350e48[_0x512cf6(0x1d6)]['exception'],undefined)?_0x350e48[_0x512cf6(0x1d6)]['message']:_0x350e48[_0x512cf6(0x1d6)][_0x512cf6(0x1bc)][_0x512cf6(0x1ce)],_0x34655d=_0x249859[_0x512cf6(0x1ad)](_0x350e48[_0x512cf6(0x1d6)][_0x512cf6(0x1bc)],undefined)?_0x249859[_0x512cf6(0x1a7)]:_0x350e48['testStepResult']['message']);await testObservabilityReporter[_0x512cf6(0x240)](this[_0x512cf6(0x1f2)],_0x2d0f4b,_0x249859[_0x512cf6(0x1b6)],_0x582911,_0x3e2b09,_tests[_0x441afc]);if(_0x334179&&_tests[_0x441afc][_0x249859['mpzfL']]){const _0xe61a9e=_0x2096bb[_0x512cf6(0x235)][_0x512cf6(0x22b)](_0x47f634=>_0x47f634['id']===_0x334179),_0x904e59={};_0x904e59[_0x512cf6(0x235)]=[];const _0x4c3bb2=_tests[_0x441afc]||_0x904e59;!_0x4c3bb2[_0x512cf6(0x235)]?_0x4c3bb2['steps']=[{'id':_0xe61a9e['id'],'text':_0xe61a9e[_0x512cf6(0x234)],'finished_at':new Date()['toISOString'](),'result':_0x350e48[_0x512cf6(0x1d6)][_0x512cf6(0x1d2)],'duration':_0x350e48[_0x512cf6(0x1d6)]['duration'][_0x512cf6(0x1e4)],'failure':_0x18b693,'failureType':_0x34655d}]:_0x4c3bb2['steps'][_0x512cf6(0x1e3)](_0x495133=>{const _0x5906c2=_0x512cf6;if(_0x249859['ABUKO'](_0x495133['id'],_0xe61a9e['id'])){const _0xd02ac8=_0x249859[_0x5906c2(0x220)]['split']('|');let _0x16adc9=0x0;while(!![]){switch(_0xd02ac8[_0x16adc9++]){case'0':_0x495133['failureType']=_0x34655d;continue;case'1':_0x495133[_0x5906c2(0x1d3)]=_0x350e48[_0x5906c2(0x1d6)][_0x5906c2(0x1d3)][_0x5906c2(0x1e4)];continue;case'2':_0x495133[_0x5906c2(0x247)]=_0x350e48['testStepResult'][_0x5906c2(0x1d2)];continue;case'3':_0x495133['failure']=_0x18b693;continue;case'4':_0x495133[_0x5906c2(0x1f9)]=new Date()[_0x5906c2(0x1ac)]();continue;}break;}}}),_tests[_0x441afc]=_0x4c3bb2,delete _tests[_0x441afc][_0x249859[_0x512cf6(0x237)]];}}catch(_0x537572){logger[_0x512cf6(0x229)]('Exception\x20in\x20onTestStepFinished\x20event:\x20'+util[_0x512cf6(0x231)](_0x537572));}}[a7_0x37615e(0x217)](_0x139657){const _0x15ed23=a7_0x37615e,_0x395bc3={};return _0x139657[_0x15ed23(0x20b)][_0x15ed23(0x245)][_0x15ed23(0x228)](this[_0x15ed23(0x1a8)])['flat']()[_0x15ed23(0x1e3)](_0x2b054d=>_0x2b054d[_0x15ed23(0x235)]['forEach'](_0x33ed86=>_0x395bc3[_0x33ed86['id']]=_0x33ed86)),_0x395bc3;}['extractStepContainers'](_0x46940c){const _0x10faca=a7_0x37615e,_0x618f29={'sAqyA':function(_0x37ead3,_0x1b5c93){return _0x37ead3(_0x1b5c93);}};if(!_0x618f29['sAqyA'](isUndefined,_0x46940c[_0x10faca(0x1f1)]))return[_0x46940c[_0x10faca(0x1f1)]];else{if(!_0x618f29[_0x10faca(0x1c7)](isUndefined,_0x46940c['rule']))return _0x46940c[_0x10faca(0x1b5)][_0x10faca(0x245)][_0x10faca(0x228)](_0x2db45f=>!isUndefined(_0x2db45f[_0x10faca(0x1f1)])?_0x2db45f[_0x10faca(0x1f1)]:_0x2db45f['scenario']);};return[_0x46940c[_0x10faca(0x241)]];}[a7_0x37615e(0x1c2)](_0x1f3278,_0x17789f){const _0x7aa3e6=a7_0x37615e;return Object[_0x7aa3e6(0x20a)](_0x1f3278['eventDataCollector']['gherkinDocumentMap'])[_0x7aa3e6(0x22b)](_0x1eabf3=>_0x1eabf3[_0x7aa3e6(0x21d)]===_0x17789f[_0x7aa3e6(0x21d)]);}}module[a7_0x37615e(0x1c1)]=o11yClassErrorHandler(BrowserstackFormatter,[a7_0x37615e(0x24b),a7_0x37615e(0x230),'onTestStepStarted',a7_0x37615e(0x1ed),a7_0x37615e(0x23d),a7_0x37615e(0x1cd),a7_0x37615e(0x1a8),a7_0x37615e(0x1c2),a7_0x37615e(0x217)]);