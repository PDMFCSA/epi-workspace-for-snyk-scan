const a6_0x15156f=a6_0x5198;function a6_0x15e2(){const _0x5efe8d=['debug','getTestCaseAttempt','steps','UNKNOWN','xNXcw','onTestStepFinished','1|0|4|3|2','73668FibHMG','sendHook','assign','OQKuY','finishedAt','CiyfD','1449444kAkNNx','testCaseAttempt','extractStepContainers','cwd','oBzUK','\x20-\x20','UgkDu','testCaseId','sendTestRunEventForCucumber','toLowerCase','eyoEX','TImea','pxMof','464350Wrenqr','gkZZV','format','TestRunFinished','feature','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','incrementCounter','status','push','report','bstack','TestRunStarted','tSUIf','hook','testCaseFinished','testRunStarted','children','testStepResult','gherkinDocumentMap','3304976nOuONT','stepDefinition','parse','actionLocation','__platform','testCaseStartedId','logTestCaseFinished','bQdDp','475502VZjeyQ','eeddq','onHook','PENDING','Hkyfb','oOoXb','uri','7SdwoBD','pickle','lBXyq','onTestCaseFinished','message','Exception\x20in\x20onTestStepFinished\x20event:\x20','FMWRv','110WPqkWZ','gkdsp','values','testCase','KDABq','capability','log','rule','6701296XJVjoe','yhRpJ','fMZXc','find','logTestRunFinished','hooks','isBstackHook','Exception\x20in\x20onTestStepStarted\x20event:\x20','zoEWR','testRunFinished','CONFIG','testCases','testStepStarted','KfSpn','JEXqJ','getGherkinStepMap','onStepDefinition','gherkinDocument','vLaog','testCaseAttemptDataMap','parseTestCaseAttempt','FsPpV','hdADP','flat','vcTpv','testCaseStarted','description','name','uwFyx','ZbvYE','pickleId','background','240TWeXJS','wNWHz','snippetBuilder','../../../helpers/testhub/utils.js','scenario','girVZ','AyQvV','eventDataCollector','Executing\x20tests\x20for\x20','hOpkC','testStepFinished','YuRVR','EASFu','onTestCaseStarted','cucumber-js/test.setup.js','RrFbZ','onSource','HookRunStarted','text','cgOeF','result','onGherkinDocument','CXvSW','FAILED','testStepId','exception','exports','testSteps','env','seconds','forEach','toISOString','finished_at','keyword','path','setup','rBTqD','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','PYBsY','testCaseMap','CqONs','onTestCase','UNDEFINED','pickleMap','hoKQU','@cucumber/cucumber','sourceLocation','../../../helpers/logger','onTestRunStarted','iifig','onTestStepStarted','map','UQege','PASSED','PGano','split','onTestRunFinished','../../../helpers/test-observability/error-handler','pickleStepId','duration','util','1342746pCzqAT','getGherkinDocument'];a6_0x15e2=function(){return _0x5efe8d;};return a6_0x15e2();}(function(_0x1961cc,_0x1ee991){const _0x5ddd13=a6_0x5198,_0x113935=_0x1961cc();while(!![]){try{const _0x5371e3=-parseInt(_0x5ddd13(0x149))/0x1+-parseInt(_0x5ddd13(0x12e))/0x2+-parseInt(_0x5ddd13(0x121))/0x3+-parseInt(_0x5ddd13(0x141))/0x4+-parseInt(_0x5ddd13(0x157))/0x5*(parseInt(_0x5ddd13(0x11b))/0x6)+parseInt(_0x5ddd13(0x150))/0x7*(-parseInt(_0x5ddd13(0x15f))/0x8)+-parseInt(_0x5ddd13(0x112))/0x9*(-parseInt(_0x5ddd13(0x17f))/0xa);if(_0x5371e3===_0x1ee991)break;else _0x113935['push'](_0x113935['shift']());}catch(_0x1567d7){_0x113935['push'](_0x113935['shift']());}}}(a6_0x15e2,0x6f481));function a6_0x5198(_0x36af09,_0x5d574d){const _0x15e290=a6_0x15e2();return a6_0x5198=function(_0x519846,_0x5b6600){_0x519846=_0x519846-0x10e;let _0xdc8994=_0x15e290[_0x519846];return _0xdc8994;},a6_0x5198(_0x36af09,_0x5d574d);}const {requireModule,getPlatformName,nestedKeyValue,isUndefined}=require('../../../helpers/helper'),util=require(a6_0x15156f(0x111)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x15156f(0x1ac)),TestDetails=require('../../playwright/reporter/test-details.js'),TestObservabilityReporter=require('../test-observability.js'),{o11yClassErrorHandler}=require(a6_0x15156f(0x10e)),{shouldProcessEventForTesthub}=require(a6_0x15156f(0x182)),testObservabilityReporter=new TestObservabilityReporter(),logger=require(a6_0x15156f(0x1ae))['winstonLogger'],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x401715){const _0xc8d56e=a6_0x15156f,_0x5cc960={};_0x5cc960[_0xc8d56e(0x14e)]='envelope';const _0x5d257a=_0x5cc960;super(_0x401715),this[_0xc8d56e(0x137)]={},_0x401715['eventBroadcaster']['on'](_0x5d257a[_0xc8d56e(0x14e)],async _0x134d19=>{const _0x12ed36=_0xc8d56e;switch(!![]){case!!_0x134d19[_0x12ed36(0x13d)]:this[_0x12ed36(0x1af)](_0x134d19['testRunStarted']);break;case!!_0x134d19['testRunFinished']:this['onTestRunFinished'](_0x134d19['testRunFinished']);break;case!!_0x134d19['testCaseStarted']:this['onTestCaseStarted'](_0x134d19[_0x12ed36(0x178)],_0x401715,_0x134d19);break;case!!_0x134d19[_0x12ed36(0x13c)]:this[_0x12ed36(0x153)](_0x134d19['testCaseFinished'],_0x401715,_0x134d19);break;case!!_0x134d19[_0x12ed36(0x16b)]:this[_0x12ed36(0x1b1)](_0x134d19[_0x12ed36(0x16b)],_0x401715);break;case!!_0x134d19[_0x12ed36(0x189)]:this[_0x12ed36(0x119)](_0x134d19[_0x12ed36(0x189)],_0x401715);break;case!!_0x134d19[_0x12ed36(0x13b)]:this[_0x12ed36(0x14b)](_0x134d19['hook']);break;case!!_0x134d19[_0x12ed36(0x15a)]:this[_0x12ed36(0x1a8)](_0x134d19[_0x12ed36(0x15a)]);break;case!!_0x134d19['pickle']:this['onPickle'](_0x134d19[_0x12ed36(0x151)]);break;case!!_0x134d19['gherkinDocument']:this['onGherkinDocument'](_0x134d19[_0x12ed36(0x170)]);break;}});}[a6_0x15156f(0x14b)](_0x135512){const _0x17032d=a6_0x15156f;this[_0x17032d(0x137)][_0x17032d(0x164)]=Object[_0x17032d(0x11d)]([],this['report'][_0x17032d(0x164)]||[]),this[_0x17032d(0x137)][_0x17032d(0x164)][_0x17032d(0x136)](_0x135512);}['onPickle'](_0x423731){const _0x5c2362=a6_0x15156f;this[_0x5c2362(0x137)]['pickle']=Object[_0x5c2362(0x11d)]([],this['report'][_0x5c2362(0x151)]||[],[_0x423731]),this['report'][_0x5c2362(0x151)][_0x5c2362(0x136)](_0x423731);}[a6_0x15156f(0x194)](_0xde8d72){const _0x3d9de7=a6_0x15156f;this['report'][_0x3d9de7(0x170)]=Object[_0x3d9de7(0x11d)]([],this[_0x3d9de7(0x137)]['gherkinDocument']||[],[_0xde8d72]),this[_0x3d9de7(0x137)][_0x3d9de7(0x170)][_0x3d9de7(0x136)](_0xde8d72);}[a6_0x15156f(0x18f)](_0x1fce3){this['report']['source']=_0x1fce3;}[a6_0x15156f(0x16f)](_0x31ccd9){const _0x293830=a6_0x15156f;this[_0x293830(0x137)][_0x293830(0x142)]=Object['assign']([],this[_0x293830(0x137)]['stepDefinition']||[],[_0x31ccd9]),this[_0x293830(0x137)]['stepDefinition'][_0x293830(0x136)](_0x31ccd9);}['onTestCase'](_0x505c28){const _0x3b2218=a6_0x15156f;this[_0x3b2218(0x137)][_0x3b2218(0x16a)]=Object['assign']([],this['report']['testCases']||[],[_0x505c28]),this[_0x3b2218(0x137)][_0x3b2218(0x16a)][_0x3b2218(0x136)](_0x505c28);}[a6_0x15156f(0x147)](_0x743481){const _0x1e3271=a6_0x15156f,_0x47a96c={'pxMof':function(_0x98cefe,_0xed4787){return _0x98cefe!==_0xed4787;},'KDABq':_0x1e3271(0x138),'EASFu':function(_0x344665,_0x108141){return _0x344665+_0x108141;},'iifig':function(_0x23d5ce,_0x2873cc){return _0x23d5ce+_0x2873cc;},'TImea':function(_0x3f7257,_0x1f18f4){return _0x3f7257+_0x1f18f4;},'IALwW':function(_0x3b6e85,_0x284cf5){return _0x3b6e85+_0x284cf5;},'RrFbZ':function(_0x55f572,_0x476a4e){return _0x55f572+_0x476a4e;},'ZbvYE':'\x20\x20\x20\x20','fMZXc':_0x1e3271(0x126),'gkdsp':function(_0x2e967a,_0x3f20e5){return _0x2e967a===_0x3f20e5;},'PYBsY':_0x1e3271(0x196),'UQege':function(_0x147fc1,_0x1d6a44,_0x24573f){return _0x147fc1(_0x1d6a44,_0x24573f);},'Hkyfb':_0x1e3271(0x193),'gkZZV':'message','vLaog':function(_0x26b8e6,_0x5923a1){return _0x26b8e6+_0x5923a1;},'uwFyx':function(_0x342aa9,_0x5f52b5){return _0x342aa9+_0x5f52b5;},'OQKuY':function(_0x49ab38,_0x381850){return _0x49ab38+_0x381850;}};_0x47a96c['pxMof'](global[_0x1e3271(0x145)],undefined)&&this[_0x1e3271(0x15d)](_0x47a96c[_0x1e3271(0x18e)](_0x47a96c[_0x1e3271(0x18e)]('\x0a',global[_0x1e3271(0x145)]),'\x0a'));const _0x2d338b=this[_0x1e3271(0x186)][_0x1e3271(0x115)](_0x743481[_0x1e3271(0x146)]);this[_0x1e3271(0x15d)](_0x47a96c[_0x1e3271(0x171)](_0x47a96c[_0x1e3271(0x1b0)](_0x47a96c[_0x1e3271(0x17b)](_0x47a96c[_0x1e3271(0x11e)]('\x20\x20',_0x2d338b[_0x1e3271(0x170)][_0x1e3271(0x132)][_0x1e3271(0x17a)]),_0x47a96c[_0x1e3271(0x161)]),_0x2d338b[_0x1e3271(0x151)]['name']),'\x0a'));const _0x548eba={};_0x548eba[_0x1e3271(0x124)]=this['cwd'],_0x548eba['snippetBuilder']=this[_0x1e3271(0x181)],_0x548eba['supportCodeLibrary']=this['supportCodeLibrary'],_0x548eba[_0x1e3271(0x122)]=_0x2d338b;const _0x45379a=formatterHelpers[_0x1e3271(0x173)](_0x548eba);let _0x35ab68=![];_0x45379a[_0x1e3271(0x19a)][_0x1e3271(0x19d)](_0x3866a9=>{const _0x17935b=_0x1e3271;if(_0x47a96c[_0x17935b(0x12d)](_0x3866a9['name'],_0x47a96c[_0x17935b(0x15b)])&&!this['isBstackHook'](_0x3866a9)){totalTests+=0x1,this['log'](_0x47a96c[_0x17935b(0x18b)](_0x47a96c[_0x17935b(0x1b0)](_0x47a96c[_0x17935b(0x12c)](_0x47a96c['IALwW'](_0x47a96c[_0x17935b(0x18e)](_0x47a96c[_0x17935b(0x17c)],_0x3866a9[_0x17935b(0x1a0)]),_0x3866a9[_0x17935b(0x191)]||''),_0x47a96c[_0x17935b(0x161)]),Status[_0x3866a9[_0x17935b(0x193)][_0x17935b(0x135)]]),'\x0a')),this[_0x17935b(0x134)](Status[_0x3866a9[_0x17935b(0x193)]['status']]);if(_0x47a96c[_0x17935b(0x158)](Status[_0x3866a9[_0x17935b(0x193)]['status']],_0x47a96c[_0x17935b(0x1a5)])){_0x35ab68=!![];const _0x5d3567=_0x47a96c[_0x17935b(0x1b3)](nestedKeyValue,_0x3866a9,[_0x47a96c[_0x17935b(0x14d)],_0x47a96c[_0x17935b(0x12f)]]);_0x5d3567&&(testsErrorMessage[_0x47a96c['RrFbZ'](_0x47a96c['IALwW'](_0x2d338b[_0x17935b(0x170)]['feature']['name'],_0x47a96c[_0x17935b(0x161)]),_0x2d338b['pickle']['name'])]=_0x5d3567,this[_0x17935b(0x15d)](_0x47a96c[_0x17935b(0x12c)](_0x5d3567,'\x0a')));}}}),_0x35ab68&&(testSuitesFailed+=0x1),this[_0x1e3271(0x15d)]('\x0a');}[a6_0x15156f(0x163)](_0x47e6bd){}[a6_0x15156f(0x165)](_0x228d13){const _0x53eafe=a6_0x15156f,_0x4cde5f={};_0x4cde5f[_0x53eafe(0x152)]=function(_0x32acca,_0x5072e4){return _0x32acca!==_0x5072e4;},_0x4cde5f[_0x53eafe(0x16d)]=_0x53eafe(0x18d);const _0x6bf6ba=_0x4cde5f;if(_0x6bf6ba[_0x53eafe(0x152)](_0x228d13[_0x53eafe(0x1ad)],undefined))return![];if(_0x228d13[_0x53eafe(0x144)]&&_0x228d13[_0x53eafe(0x144)][_0x53eafe(0x14f)]['includes'](_0x6bf6ba['JEXqJ']))return!![];return![];}[a6_0x15156f(0x134)](_0x47eb00){const _0xe6ed84=a6_0x15156f,_0x4a159f={};_0x4a159f['PGano']='FAILED',_0x4a159f[_0xe6ed84(0x160)]=_0xe6ed84(0x1b4),_0x4a159f[_0xe6ed84(0x148)]='SKIPPED',_0x4a159f[_0xe6ed84(0x1ab)]=_0xe6ed84(0x14c),_0x4a159f[_0xe6ed84(0x13a)]=_0xe6ed84(0x1a9),_0x4a159f[_0xe6ed84(0x127)]=_0xe6ed84(0x117),_0x4a159f[_0xe6ed84(0x180)]='AMBIGUOUS';const _0x167708=_0x4a159f;switch(_0x47eb00){case _0x167708[_0xe6ed84(0x1b5)]:testsFailed+=0x1;break;case _0x167708['yhRpJ']:testsPassed+=0x1;break;case _0x167708[_0xe6ed84(0x148)]:testsSkipped+=0x1;break;case _0x167708['hoKQU']:testsPending+=0x1;break;case _0x167708[_0xe6ed84(0x13a)]:testsUndefined+=0x1;break;case _0x167708['UgkDu']:testsUnknown+=0x1;break;case _0x167708[_0xe6ed84(0x180)]:testsAmbiguous+=0x1;break;default:break;}}['onTestRunStarted'](_0x58dab6){const _0x3048d0=a6_0x15156f,_0x1d5f2b={'PMLVd':function(_0x38c8c5,_0x1c26a2){return _0x38c8c5!==_0x1c26a2;},'cLyTA':function(_0x14934c,_0x3858ce){return _0x14934c!==_0x3858ce;},'ZWMOZ':function(_0x5540a8,_0x54db9a){return _0x5540a8(_0x54db9a);},'cgOeF':function(_0x48c26d,_0x20b639){return _0x48c26d+_0x20b639;},'xNXcw':function(_0x368047){return _0x368047();}};let _0x494a79;if(_0x1d5f2b['PMLVd'](process[_0x3048d0(0x19b)][_0x3048d0(0x169)],undefined)){const _0x1701e9=JSON[_0x3048d0(0x143)](process[_0x3048d0(0x19b)][_0x3048d0(0x169)]);_0x494a79=_0x1701e9[_0x3048d0(0x15c)];}_0x1d5f2b['cLyTA'](_0x494a79,undefined)&&(global[_0x3048d0(0x145)]=_0x1d5f2b['ZWMOZ'](getPlatformName,_0x494a79),this[_0x3048d0(0x15d)](_0x1d5f2b[_0x3048d0(0x192)](_0x3048d0(0x187)+global[_0x3048d0(0x145)],'\x0a'))),_0x1d5f2b[_0x3048d0(0x118)](shouldProcessEventForTesthub)&&(TestDetails[_0x3048d0(0x1a2)](),this['report'][_0x3048d0(0x13d)]=_0x58dab6);}[a6_0x15156f(0x1b7)](_0x3bc046){const _0x1047cb=a6_0x15156f;this['report'][_0x1047cb(0x168)]=_0x3bc046,this['logTestRunFinished'](_0x3bc046);}async[a6_0x15156f(0x18c)](_0x373314,_0x98035d,_0x1eecd3){const _0x4665ce=a6_0x15156f,_0x44c4a5={'girVZ':function(_0x355f80,_0xc6ed5c){return _0x355f80(_0xc6ed5c);},'CXvSW':_0x4665ce(0x139),'vcTpv':function(_0x426bc6,_0x1a125d){return _0x426bc6&&_0x1a125d;}};testSuites+=0x1;if(_0x44c4a5[_0x4665ce(0x184)](shouldProcessEventForTesthub,_0x44c4a5['CXvSW']))try{this[_0x4665ce(0x137)][_0x4665ce(0x178)]=this[_0x4665ce(0x137)][_0x4665ce(0x178)]||{},this[_0x4665ce(0x137)][_0x4665ce(0x178)][_0x373314['id']]=_0x373314;const _0x29c566=TestDetails['getTestUUID'](_0x373314['id']);_testCasesData[_0x373314['id']]=Object[_0x4665ce(0x11d)]({},_0x1eecd3);const _0x1cb770=this[_0x4665ce(0x137)],_0x94e35c=_0x373314['testCaseId'],_0x480df6=_0x1cb770['testCases'][_0x4665ce(0x162)](_0x25b4bf=>_0x25b4bf['id']===_0x94e35c)[_0x4665ce(0x17d)],_0x5c41d2=_0x1cb770[_0x4665ce(0x151)][_0x4665ce(0x162)](_0x368fdc=>_0x368fdc['id']===_0x480df6),_0x30f75a=_0x1cb770[_0x4665ce(0x170)]['find'](_0x1d71e6=>_0x1d71e6[_0x4665ce(0x14f)]===_0x5c41d2[_0x4665ce(0x14f)]),_0x5d51c7=_0x30f75a[_0x4665ce(0x132)],_0x5d4d80={'uuid':_0x29c566,'startedAt':new Date()[_0x4665ce(0x19e)]()};if(_0x5c41d2){const _0x435d25={};_0x435d25['name']=_0x5c41d2[_0x4665ce(0x17a)],_0x5d4d80[_0x4665ce(0x183)]=_0x435d25;}if(_0x44c4a5[_0x4665ce(0x177)](_0x30f75a,_0x5d51c7)){const _0x19ea2a={};_0x19ea2a[_0x4665ce(0x1a1)]=_0x30f75a[_0x4665ce(0x14f)],_0x19ea2a['name']=_0x5d51c7[_0x4665ce(0x17a)],_0x19ea2a[_0x4665ce(0x179)]=_0x5d51c7[_0x4665ce(0x179)],_0x5d4d80['feature']=_0x19ea2a;}_tests[_0x94e35c]=_0x5d4d80,await testObservabilityReporter['sendTestRunEventForCucumber'](_0x1eecd3,_0x30f75a,_0x5c41d2,_0x44c4a5[_0x4665ce(0x195)],_0x5d4d80);}catch(_0x383184){logger[_0x4665ce(0x114)](_0x4665ce(0x133)+util[_0x4665ce(0x130)](_0x383184)+'\x20');}}async['onTestCaseFinished'](_0x4576e9,_0x2229c8,_0x3fa83b){const _0x20d485=a6_0x15156f,_0x44fb32={'YuRVR':function(_0x33b07a,_0x2ab6a0){return _0x33b07a(_0x2ab6a0);},'AyQvV':_0x20d485(0x131)};this[_0x20d485(0x147)](_0x4576e9);if(_0x44fb32[_0x20d485(0x18a)](shouldProcessEventForTesthub,_0x44fb32['AyQvV']))try{this[_0x20d485(0x137)][_0x20d485(0x13c)]=this[_0x20d485(0x137)]['testCaseFinished']||{},this[_0x20d485(0x137)]['testCaseFinished'][_0x4576e9[_0x20d485(0x146)]]=_0x4576e9,_testCasesData[_0x3fa83b['id']]=Object[_0x20d485(0x11d)]({},_0x3fa83b);const _0x256fda=_0x4576e9[_0x20d485(0x146)],_0x1df229=_0x2229c8['eventDataCollector'][_0x20d485(0x172)][_0x256fda]['testCaseId'],_0x4d5652=_0x2229c8[_0x20d485(0x186)][_0x20d485(0x1a6)][_0x1df229],_0x4aebed=_0x4d5652[_0x20d485(0x17d)],_0x2db550=_0x2229c8[_0x20d485(0x186)][_0x20d485(0x1aa)][_0x4aebed],_0x4f3615=this[_0x20d485(0x113)](_0x2229c8,_0x2db550),_0x156330=_tests[_0x1df229];_0x156330&&(delete _tests[_0x1df229],_0x156330[_0x20d485(0x11f)]=new Date()[_0x20d485(0x19e)]()),await testObservabilityReporter[_0x20d485(0x129)](_0x3fa83b,_0x4f3615,_0x2db550,_0x44fb32[_0x20d485(0x185)],_0x156330);}catch(_0x22a83b){logger[_0x20d485(0x114)](_0x20d485(0x1a4)+util[_0x20d485(0x130)](_0x22a83b));}}async['onTestStepStarted'](_0x5cee14,_0xfeae66){const _0x57cb95=a6_0x15156f,_0x2c0268={'ECUsg':function(_0x139982,_0x3a2232){return _0x139982(_0x3a2232);},'eyoEX':_0x57cb95(0x190),'FMWRv':function(_0x416b97,_0x309b6f){return _0x416b97!==_0x309b6f;},'KfSpn':_0x57cb95(0x197)};if(_0x2c0268['ECUsg'](shouldProcessEventForTesthub,_0x2c0268['eyoEX']))try{this[_0x57cb95(0x137)][_0x57cb95(0x16b)]=this[_0x57cb95(0x137)][_0x57cb95(0x16b)]||{},this['report'][_0x57cb95(0x16b)][_0x5cee14['testCaseStartedId']]=_0x5cee14;const _0x1bdc86=_0x5cee14[_0x57cb95(0x146)],_0x1fa993=_0xfeae66[_0x57cb95(0x186)][_0x57cb95(0x172)][_0x1bdc86][_0x57cb95(0x128)],_0x557539=this[_0x57cb95(0x137)][_0x57cb95(0x16a)][_0x57cb95(0x162)](_0x38059f=>_0x38059f['id']===_0x1fa993)[_0x57cb95(0x17d)],_0x445eff=this['report']['pickle'][_0x57cb95(0x162)](_0x5c7e3f=>_0x5c7e3f['id']===_0x557539),_0x41fd8b=this[_0x57cb95(0x137)][_0x57cb95(0x16a)]['find'](_0x52fe21=>_0x52fe21['id']===_0x1fa993)[_0x57cb95(0x19a)],_0x4ce7a3=this['report']['testStepStarted'][_0x1bdc86][_0x57cb95(0x197)],_0x643181=_0x41fd8b[_0x57cb95(0x162)](_0xab0c20=>_0xab0c20['id']===_0x4ce7a3)[_0x57cb95(0x10f)],_0x38e653=_0x445eff[_0x57cb95(0x116)][_0x57cb95(0x162)](_0x302c2e=>_0x302c2e['id']===_0x643181);if(_0x643181&&_tests[_0x1fa993]&&_0x2c0268[_0x57cb95(0x156)](_tests[_0x1fa993][_0x2c0268[_0x57cb95(0x16c)]],_0x4ce7a3)){_tests[_0x1fa993][_0x2c0268[_0x57cb95(0x16c)]]=_0x4ce7a3;const _0x4dd474={};_0x4dd474['steps']=[];const _0x5538de=_tests[_0x1fa993]||_0x4dd474;_0x5538de&&!_0x5538de['steps']&&(_0x5538de[_0x57cb95(0x116)]=[]),_0x5538de[_0x57cb95(0x116)]['push']({'id':_0x38e653['id'],'text':_0x38e653[_0x57cb95(0x191)],'started_at':new Date()[_0x57cb95(0x19e)]()}),_tests[_0x1fa993]=_0x5538de;}await testObservabilityReporter[_0x57cb95(0x11c)](this[_0x57cb95(0x137)],_0x1bdc86,_0x2c0268[_0x57cb95(0x12b)],_0x41fd8b,_0x4ce7a3,_tests[_0x1fa993]);}catch(_0x5bab47){logger[_0x57cb95(0x114)](_0x57cb95(0x166)+util[_0x57cb95(0x130)](_0x5bab47));}}async[a6_0x15156f(0x119)](_0x201fcb,_0x50e24a){const _0x3a6c20=a6_0x15156f,_0x531967={'FsPpV':function(_0x1a76df,_0x116ee5){return _0x1a76df===_0x116ee5;},'hOpkC':_0x3a6c20(0x11a),'hdADP':function(_0x2bf897,_0x403cbe){return _0x2bf897(_0x403cbe);},'CiyfD':'HookRunFinished','zoEWR':'failed','eeddq':function(_0x277cb2,_0x1c2f4b){return _0x277cb2===_0x1c2f4b;},'oBzUK':'UnhandledError','rBTqD':_0x3a6c20(0x197)};this[_0x3a6c20(0x137)][_0x3a6c20(0x189)]=this[_0x3a6c20(0x137)]['testStepFinished']||{},this['report'][_0x3a6c20(0x189)][_0x201fcb[_0x3a6c20(0x146)]]=_0x201fcb;if(_0x531967[_0x3a6c20(0x175)](shouldProcessEventForTesthub,_0x531967[_0x3a6c20(0x120)]))try{const _0x16d05c=_0x201fcb[_0x3a6c20(0x146)],_0x12a850=_0x50e24a[_0x3a6c20(0x186)]['testCaseAttemptDataMap'][_0x16d05c][_0x3a6c20(0x128)],_0x140c74=_0x50e24a[_0x3a6c20(0x186)]['testCaseMap'][_0x12a850],_0xf11e36=_0x140c74[_0x3a6c20(0x17d)],_0x22128d=_0x50e24a[_0x3a6c20(0x186)]['pickleMap'][_0xf11e36],_0x580889=_0x201fcb[_0x3a6c20(0x197)],_0x3b1396=_0x140c74['testSteps'],_0x301a7f=this[_0x3a6c20(0x186)][_0x3a6c20(0x115)](_0x16d05c),_0xfae530=_0x3b1396[_0x3a6c20(0x162)](_0x2e5611=>_0x2e5611['id']===_0x580889)[_0x3a6c20(0x10f)];let _0x2e0891,_0x3b9232;_0x201fcb['testStepResult']&&_0x531967[_0x3a6c20(0x174)](_0x201fcb[_0x3a6c20(0x13f)]['status']['toString']()[_0x3a6c20(0x12a)](),_0x531967[_0x3a6c20(0x167)])&&(_0x2e0891=_0x531967[_0x3a6c20(0x14a)](_0x201fcb[_0x3a6c20(0x13f)][_0x3a6c20(0x198)],undefined)?_0x201fcb[_0x3a6c20(0x13f)][_0x3a6c20(0x154)]:_0x201fcb['testStepResult']['exception'][_0x3a6c20(0x154)],_0x3b9232=_0x531967[_0x3a6c20(0x174)](_0x201fcb[_0x3a6c20(0x13f)]['exception'],undefined)?_0x531967[_0x3a6c20(0x125)]:_0x201fcb[_0x3a6c20(0x13f)][_0x3a6c20(0x154)]);await testObservabilityReporter[_0x3a6c20(0x11c)](this['report'],_0x16d05c,_0x531967[_0x3a6c20(0x120)],_0x3b1396,_0x580889,_tests[_0x12a850]);if(_0xfae530&&_tests[_0x12a850][_0x531967[_0x3a6c20(0x1a3)]]){const _0x37cbf8=_0x22128d[_0x3a6c20(0x116)][_0x3a6c20(0x162)](_0x38883b=>_0x38883b['id']===_0xfae530),_0x3cdfb6={};_0x3cdfb6['steps']=[];const _0x4b8b39=_tests[_0x12a850]||_0x3cdfb6;!_0x4b8b39['steps']?_0x4b8b39[_0x3a6c20(0x116)]=[{'id':_0x37cbf8['id'],'text':_0x37cbf8[_0x3a6c20(0x191)],'finished_at':new Date()[_0x3a6c20(0x19e)](),'result':_0x201fcb[_0x3a6c20(0x13f)][_0x3a6c20(0x135)],'duration':_0x201fcb[_0x3a6c20(0x13f)]['duration'][_0x3a6c20(0x19c)],'failure':_0x2e0891,'failureType':_0x3b9232}]:_0x4b8b39[_0x3a6c20(0x116)][_0x3a6c20(0x19d)](_0x10ae0d=>{const _0x25f301=_0x3a6c20;if(_0x531967[_0x25f301(0x174)](_0x10ae0d['id'],_0x37cbf8['id'])){const _0x18f347=_0x531967[_0x25f301(0x188)][_0x25f301(0x1b6)]('|');let _0x5544c4=0x0;while(!![]){switch(_0x18f347[_0x5544c4++]){case'0':_0x10ae0d[_0x25f301(0x193)]=_0x201fcb['testStepResult']['status'];continue;case'1':_0x10ae0d[_0x25f301(0x19f)]=new Date()['toISOString']();continue;case'2':_0x10ae0d['failureType']=_0x3b9232;continue;case'3':_0x10ae0d['failure']=_0x2e0891;continue;case'4':_0x10ae0d[_0x25f301(0x110)]=_0x201fcb[_0x25f301(0x13f)][_0x25f301(0x110)][_0x25f301(0x19c)];continue;}break;}}}),_tests[_0x12a850]=_0x4b8b39,delete _tests[_0x12a850][_0x531967[_0x3a6c20(0x1a3)]];}}catch(_0x5aa9e9){logger[_0x3a6c20(0x114)](_0x3a6c20(0x155)+util[_0x3a6c20(0x130)](_0x5aa9e9));}}[a6_0x15156f(0x16e)](_0x38401a){const _0x40d6f2=a6_0x15156f,_0x4e95a8={};return _0x38401a[_0x40d6f2(0x132)][_0x40d6f2(0x13e)][_0x40d6f2(0x1b2)](this[_0x40d6f2(0x123)])[_0x40d6f2(0x176)]()[_0x40d6f2(0x19d)](_0x51365c=>_0x51365c[_0x40d6f2(0x116)][_0x40d6f2(0x19d)](_0x28c6e0=>_0x4e95a8[_0x28c6e0['id']]=_0x28c6e0)),_0x4e95a8;}['extractStepContainers'](_0x2d815c){const _0x39255d=a6_0x15156f,_0x4f7fa6={'kewQb':function(_0x141352,_0x3b4f5b){return _0x141352(_0x3b4f5b);},'CqONs':function(_0x55d17e,_0x52d6df){return _0x55d17e(_0x52d6df);}};if(!_0x4f7fa6['kewQb'](isUndefined,_0x2d815c[_0x39255d(0x17e)]))return[_0x2d815c['background']];else{if(!_0x4f7fa6[_0x39255d(0x1a7)](isUndefined,_0x2d815c['rule']))return _0x2d815c[_0x39255d(0x15e)][_0x39255d(0x13e)]['map'](_0x3a86d2=>!isUndefined(_0x3a86d2[_0x39255d(0x17e)])?_0x3a86d2[_0x39255d(0x17e)]:_0x3a86d2[_0x39255d(0x183)]);};return[_0x2d815c[_0x39255d(0x183)]];}['getGherkinDocument'](_0x13577a,_0x1d3ed2){const _0x94ff26=a6_0x15156f;return Object[_0x94ff26(0x159)](_0x13577a[_0x94ff26(0x186)][_0x94ff26(0x140)])[_0x94ff26(0x162)](_0x559821=>_0x559821['uri']===_0x1d3ed2[_0x94ff26(0x14f)]);}}module[a6_0x15156f(0x199)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x15156f(0x18c),a6_0x15156f(0x153),a6_0x15156f(0x1b1),a6_0x15156f(0x119),a6_0x15156f(0x1af),'onTestRunFinished','extractStepContainers',a6_0x15156f(0x113),'getGherkinStepMap']);