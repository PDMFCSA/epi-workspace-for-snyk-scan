function a6_0x1c87(_0x57d6f7,_0x26a5a2){const _0x4caf77=a6_0x4caf();return a6_0x1c87=function(_0x1c8743,_0x15ba77){_0x1c8743=_0x1c8743-0x70;let _0x2907c2=_0x4caf77[_0x1c8743];return _0x2907c2;},a6_0x1c87(_0x57d6f7,_0x26a5a2);}function a6_0x4caf(){const _0x59e181=['format','HookRunFinished','vDCCX','assign','wKaUW','zdFhN','duration','test','status','incrementCounter','finished_at','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','_performCLIInitialization','../../utils/constants','binSessionId','../../../bin/v2/TestInfo.js','11nvFsle','hDkok','createTestFrameworkData','PASSED','onGherkinDocument','935879WRchLs','owZJo','hUDmy','name','POGYB','onSource','Exception\x20in\x20onTestStepFinished\x20event:\x20','PLAYWRIGHT','onTestStepStarted','isCLIReady','eventDataCollector','4jtKlUA','pickleMap','toLowerCase',',\x20binSessionId:\x20','vVVlV','onTestCaseFinished','report','CLI\x20already\x20running\x20-\x20binSessionId:\x20','UNDEFINED','10503560BllNst','iFzlg','message','map','feTNd','setup','beuhX','../../v2/cliUtils','xehKM','gherkinDocumentMap','snippetBuilder','isRunning','seconds','testCaseFinished','testStepResult','testCases','flat','UrSNg','ZLlRO','PRE','getInstance','background','NlJuv','ensureCLIInitialized','parseTestCaseAttempt','hook_type','isCliEnabled','toString','LOG_REPORT','testStepId','supportCodeLibrary','testCaseMap','HookRunStarted','../../v2/utils/cucumber-utils.js','RHUDJ','dfzpi','log','split','getGherkinDocument','failureType','KZqWC','pickleId','dhPBb','forEach','BROWSERSTACK_CLI_BIN_SESSION_ID','getTestFramework','yygfM','TestRunStarted','feature','onTestCase','vqHVy','sendTestRunEventForCucumber','scenario','pickle','mBwVs','bstack','12669381pHytWM','testCaseId','qcOps','onTestStepFinished','winstonLogger','UxkPS','testStepFinished','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','testCaseStartedId','parse','isBstackHook','onStepDefinition','FAILED','exports','createHookData','../../../helpers/logger','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','testCaseStarted','toISOString','sDmbh','testStepStarted','testCaseAttemptDataMap','\x20\x20\x20\x20','path','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','result','UNKNOWN','find','rule','trackEvent','keyword','testRunFinished','INIT_TEST','onTestCaseStarted','RsDys','type','antdg','bootstrap','failed','QZOLn','Executing\x20tests\x20for\x20','FYssg','failure','cucumber-js/test.setup.js','ooBHG','200UzyOfo','\x20-\x20','../../playwright/reporter/test-details.js','hooks','xPxvL','VdfOl','PENDING','description','debug','QVJDT','onTestRunStarted','cGBeM','3339185lJWzsa','CONFIG','hook','util','TEST','qbOrR','logTestCaseFinished','env','../../v2/state/hookState.js','HPfcp','children','extractStepContainers','onTestRunFinished','testRunStarted','../test-observability.js','wHFFs','xLKbJ','cucumber','awCKg','XblHB','__platform','cliInitPromise','testCase','NCGvi','gherkinDocument','wpQIQ','includes','0|4|1|3|2','../../../helpers/test-observability/error-handler','testSteps','UnhandledError','sendHook','getTestUUID','POST','8790064DXyisr','RSnIe','exception','onPickle','actionLocation','36tdVSGW','capability','onHook','../../../helpers/helper','steps','pickleStepId','EabTS','310148wtcmrn','uzVBP','push','getTestCaseAttempt','text','getGherkinStepMap','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','uri','57999tefOvD','setFrameworkDetail','stepDefinition','cwd','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','TestRunFinished'];a6_0x4caf=function(){return _0x59e181;};return a6_0x4caf();}const a6_0x11e578=a6_0x1c87;(function(_0x5964ee,_0x4f2e28){const _0x5a4bf4=a6_0x1c87,_0x1f324b=_0x5964ee();while(!![]){try{const _0x10aa18=parseInt(_0x5a4bf4(0x144))/0x1*(parseInt(_0x5a4bf4(0x9c))/0x2)+-parseInt(_0x5a4bf4(0x75))/0x3*(-parseInt(_0x5a4bf4(0x10a))/0x4)+parseInt(_0x5a4bf4(0x116))/0x5+parseInt(_0x5a4bf4(0x13d))/0x6*(-parseInt(_0x5a4bf4(0x91))/0x7)+-parseInt(_0x5a4bf4(0x138))/0x8+parseInt(_0x5a4bf4(0xdd))/0x9+parseInt(_0x5a4bf4(0xa5))/0xa*(-parseInt(_0x5a4bf4(0x8c))/0xb);if(_0x10aa18===_0x4f2e28)break;else _0x1f324b['push'](_0x1f324b['shift']());}catch(_0x2a946b){_0x1f324b['push'](_0x1f324b['shift']());}}}(a6_0x4caf,0xada1c));const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x11e578(0x140)),util=require(a6_0x11e578(0x119)),{Formatter,formatterHelpers,Status}=requireModule('@cucumber/cucumber'),TestDetails=require(a6_0x11e578(0x10c)),TestObservabilityReporter=require(a6_0x11e578(0x124)),{o11yClassErrorHandler}=require(a6_0x11e578(0x132)),{shouldProcessEventForTesthub}=require('../../../helpers/testhub/utils.js'),BrowserstackCLI=require('../../v2/browserstackCLI.js'),TestFrameworkState=require('../../v2/state/testFrameworkState.js'),HookState=require(a6_0x11e578(0x11e)),CucumberUtils=require(a6_0x11e578(0xc6)),TestInfo=require(a6_0x11e578(0x8b)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x11e578(0xec))[a6_0x11e578(0xe1)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x1c7913){const _0xe221ba=a6_0x11e578,_0x4f1814={};_0x4f1814[_0xe221ba(0x10f)]='envelope';const _0x48789a=_0x4f1814;super(_0x1c7913),this[_0xe221ba(0xa2)]={},_0x1c7913['eventBroadcaster']['on'](_0x48789a[_0xe221ba(0x10f)],async _0x2ee9d0=>{const _0x1edc91=_0xe221ba;switch(!![]){case!!_0x2ee9d0[_0x1edc91(0x123)]:this[_0x1edc91(0x114)](_0x2ee9d0['testRunStarted']);break;case!!_0x2ee9d0[_0x1edc91(0xfc)]:this[_0x1edc91(0x122)](_0x2ee9d0['testRunFinished']);break;case!!_0x2ee9d0[_0x1edc91(0xee)]:this['onTestCaseStarted'](_0x2ee9d0[_0x1edc91(0xee)],_0x1c7913,_0x2ee9d0);break;case!!_0x2ee9d0[_0x1edc91(0xb2)]:this['onTestCaseFinished'](_0x2ee9d0[_0x1edc91(0xb2)],_0x1c7913,_0x2ee9d0);break;case!!_0x2ee9d0[_0x1edc91(0xf1)]:this[_0x1edc91(0x99)](_0x2ee9d0[_0x1edc91(0xf1)],_0x1c7913);break;case!!_0x2ee9d0['testStepFinished']:this[_0x1edc91(0xe0)](_0x2ee9d0['testStepFinished'],_0x1c7913);break;case!!_0x2ee9d0[_0x1edc91(0x118)]:this[_0x1edc91(0x13f)](_0x2ee9d0[_0x1edc91(0x118)]);break;case!!_0x2ee9d0[_0x1edc91(0x12c)]:this[_0x1edc91(0xd6)](_0x2ee9d0[_0x1edc91(0x12c)]);break;case!!_0x2ee9d0[_0x1edc91(0xda)]:this[_0x1edc91(0x13b)](_0x2ee9d0[_0x1edc91(0xda)]);break;case!!_0x2ee9d0[_0x1edc91(0x12e)]:this[_0x1edc91(0x90)](_0x2ee9d0[_0x1edc91(0x12e)]);break;}});}['onHook'](_0x24078d){const _0x3d0753=a6_0x11e578;this[_0x3d0753(0xa2)][_0x3d0753(0x10d)]=Object['assign']([],this[_0x3d0753(0xa2)][_0x3d0753(0x10d)]||[]),this[_0x3d0753(0xa2)][_0x3d0753(0x10d)][_0x3d0753(0x146)](_0x24078d);}[a6_0x11e578(0x13b)](_0x2db401){const _0x30120e=a6_0x11e578;this['report']['pickle']=Object[_0x30120e(0x7e)]([],this[_0x30120e(0xa2)]['pickle']||[],[_0x2db401]),this[_0x30120e(0xa2)][_0x30120e(0xda)][_0x30120e(0x146)](_0x2db401);}['onGherkinDocument'](_0x154f6c){const _0x3674cc=a6_0x11e578;this[_0x3674cc(0xa2)][_0x3674cc(0x12e)]=Object[_0x3674cc(0x7e)]([],this[_0x3674cc(0xa2)][_0x3674cc(0x12e)]||[],[_0x154f6c]),this[_0x3674cc(0xa2)][_0x3674cc(0x12e)][_0x3674cc(0x146)](_0x154f6c);}[a6_0x11e578(0x96)](_0x4d5c4e){this['report']['source']=_0x4d5c4e;}[a6_0x11e578(0xe8)](_0x1d1a6b){const _0x30a9b5=a6_0x11e578;this[_0x30a9b5(0xa2)][_0x30a9b5(0x77)]=Object[_0x30a9b5(0x7e)]([],this[_0x30a9b5(0xa2)][_0x30a9b5(0x77)]||[],[_0x1d1a6b]),this['report'][_0x30a9b5(0x77)][_0x30a9b5(0x146)](_0x1d1a6b);}[a6_0x11e578(0xd6)](_0x104fb5){const _0x5d0159=a6_0x11e578;this['report'][_0x5d0159(0xb4)]=Object[_0x5d0159(0x7e)]([],this[_0x5d0159(0xa2)][_0x5d0159(0xb4)]||[],[_0x104fb5]),this[_0x5d0159(0xa2)][_0x5d0159(0xb4)][_0x5d0159(0x146)](_0x104fb5);}[a6_0x11e578(0x11c)](_0x48f0ac){const _0x16ca74=a6_0x11e578,_0x1ed0fc={'zdFhN':function(_0x1d49a1,_0x53be09){return _0x1d49a1!==_0x53be09;},'KZqWC':_0x16ca74(0xdc),'EabTS':function(_0x407446,_0x26aec7){return _0x407446+_0x26aec7;},'dhPBb':function(_0xc47969,_0xcddee3){return _0xc47969+_0xcddee3;},'feTNd':_0x16ca74(0xf3),'awCKg':_0x16ca74(0x10b),'mdxSp':function(_0x400aae,_0x28c736){return _0x400aae===_0x28c736;},'sDmbh':_0x16ca74(0xe9),'cGBeM':function(_0x3144a7,_0x2486bc,_0x3dfde8){return _0x3144a7(_0x2486bc,_0x3dfde8);},'xWhZH':_0x16ca74(0xf6),'HPfcp':'message','ZLlRO':function(_0xa1996f,_0x545884){return _0xa1996f+_0x545884;},'qbOrR':function(_0x4a2786,_0x188ba7){return _0x4a2786+_0x188ba7;},'CxVHj':function(_0xb32874,_0xc00c15){return _0xb32874!==_0xc00c15;},'VozxB':function(_0x484ba0,_0x278117){return _0x484ba0+_0x278117;},'NCGvi':function(_0x475c08,_0x465db5){return _0x475c08+_0x465db5;},'WwJEG':function(_0x29b57b,_0x4eabce){return _0x29b57b+_0x4eabce;}};_0x1ed0fc['CxVHj'](global[_0x16ca74(0x12a)],undefined)&&this['log'](_0x1ed0fc['VozxB'](_0x1ed0fc[_0x16ca74(0x12d)]('\x0a',global[_0x16ca74(0x12a)]),'\x0a'));const _0x365c10=this[_0x16ca74(0x9b)][_0x16ca74(0x70)](_0x48f0ac['testCaseStartedId']);this[_0x16ca74(0xc9)](_0x1ed0fc[_0x16ca74(0x143)](_0x1ed0fc[_0x16ca74(0x143)](_0x1ed0fc['WwJEG'](_0x1ed0fc[_0x16ca74(0x143)]('\x20\x20',_0x365c10[_0x16ca74(0x12e)]['feature'][_0x16ca74(0x94)]),_0x1ed0fc[_0x16ca74(0x128)]),_0x365c10[_0x16ca74(0xda)][_0x16ca74(0x94)]),'\x0a'));const _0x39396e={};_0x39396e[_0x16ca74(0x78)]=this[_0x16ca74(0x78)],_0x39396e[_0x16ca74(0xaf)]=this[_0x16ca74(0xaf)],_0x39396e['supportCodeLibrary']=this[_0x16ca74(0xc3)],_0x39396e['testCaseAttempt']=_0x365c10;const _0x6002f9=formatterHelpers[_0x16ca74(0xbd)](_0x39396e);let _0x3c787f=![];_0x6002f9['testSteps'][_0x16ca74(0xd0)](_0x5b02df=>{const _0x185ab7=_0x16ca74;if(_0x1ed0fc[_0x185ab7(0x80)](_0x5b02df[_0x185ab7(0x94)],_0x1ed0fc[_0x185ab7(0xcd)])&&!this[_0x185ab7(0xe7)](_0x5b02df)){totalTests+=0x1,this['log'](_0x1ed0fc[_0x185ab7(0x143)](_0x1ed0fc[_0x185ab7(0x143)](_0x1ed0fc[_0x185ab7(0xcf)](_0x1ed0fc['EabTS'](_0x1ed0fc[_0x185ab7(0x143)](_0x1ed0fc[_0x185ab7(0xa9)],_0x5b02df[_0x185ab7(0xfb)]),_0x5b02df[_0x185ab7(0x71)]||''),_0x1ed0fc[_0x185ab7(0x128)]),Status[_0x5b02df['result']['status']]),'\x0a')),this['incrementCounter'](Status[_0x5b02df[_0x185ab7(0xf6)]['status']]);if(_0x1ed0fc['mdxSp'](Status[_0x5b02df[_0x185ab7(0xf6)]['status']],_0x1ed0fc[_0x185ab7(0xf0)])){_0x3c787f=!![];const _0x31c0c1=_0x1ed0fc[_0x185ab7(0x115)](nestedKeyValue,_0x5b02df,[_0x1ed0fc['xWhZH'],_0x1ed0fc[_0x185ab7(0x11f)]]);_0x31c0c1&&(testsErrorMessage[_0x1ed0fc[_0x185ab7(0x143)](_0x1ed0fc[_0x185ab7(0xb7)](_0x365c10['gherkinDocument'][_0x185ab7(0xd5)]['name'],_0x1ed0fc[_0x185ab7(0x128)]),_0x365c10[_0x185ab7(0xda)][_0x185ab7(0x94)])]=_0x31c0c1,this[_0x185ab7(0xc9)](_0x1ed0fc[_0x185ab7(0x11b)](_0x31c0c1,'\x0a')));}}}),_0x3c787f&&(testSuitesFailed+=0x1),this[_0x16ca74(0xc9)]('\x0a');}['logTestRunFinished'](_0x2398fb){}[a6_0x11e578(0xe7)](_0x4e067d){const _0x2c2771=a6_0x11e578,_0x4a21b4={};_0x4a21b4[_0x2c2771(0xab)]=function(_0x2053c3,_0x2b54ae){return _0x2053c3!==_0x2b54ae;},_0x4a21b4[_0x2c2771(0xad)]=_0x2c2771(0x108);const _0x291d4a=_0x4a21b4;if(_0x291d4a[_0x2c2771(0xab)](_0x4e067d['sourceLocation'],undefined))return![];if(_0x4e067d['actionLocation']&&_0x4e067d[_0x2c2771(0x13c)][_0x2c2771(0x74)][_0x2c2771(0x130)](_0x291d4a[_0x2c2771(0xad)]))return!![];return![];}[a6_0x11e578(0x84)](_0x5f421b){const _0x24633a=a6_0x11e578,_0x2e49af={};_0x2e49af[_0x24633a(0x129)]='FAILED',_0x2e49af[_0x24633a(0x125)]=_0x24633a(0x8f),_0x2e49af[_0x24633a(0x12f)]='SKIPPED',_0x2e49af['Froeb']=_0x24633a(0x110),_0x2e49af['RHUDJ']=_0x24633a(0xa4),_0x2e49af[_0x24633a(0x8d)]=_0x24633a(0xf7),_0x2e49af[_0x24633a(0xa0)]='AMBIGUOUS';const _0x408c8b=_0x2e49af;switch(_0x5f421b){case _0x408c8b['XblHB']:testsFailed+=0x1;break;case _0x408c8b[_0x24633a(0x125)]:testsPassed+=0x1;break;case _0x408c8b[_0x24633a(0x12f)]:testsSkipped+=0x1;break;case _0x408c8b['Froeb']:testsPending+=0x1;break;case _0x408c8b[_0x24633a(0xc7)]:testsUndefined+=0x1;break;case _0x408c8b[_0x24633a(0x8d)]:testsUnknown+=0x1;break;case _0x408c8b[_0x24633a(0xa0)]:testsAmbiguous+=0x1;break;default:break;}}async['onTestRunStarted'](_0x20fef3){const _0x1c6661=a6_0x11e578,_0x3d7fe3={'xLKbJ':function(_0xd1b014,_0x5ea9cb){return _0xd1b014!==_0x5ea9cb;},'wKaUW':function(_0x598d5,_0x2c2b74){return _0x598d5!==_0x2c2b74;},'RsDys':function(_0x3030ce){return _0x3030ce();},'SrcbR':function(_0x483b96,_0x49a43f){return _0x483b96(_0x49a43f);},'RSnIe':function(_0x59c8f0,_0x14ffd3){return _0x59c8f0+_0x14ffd3;},'JsgQU':_0x1c6661(0x127)};let _0x4b876e;if(_0x3d7fe3[_0x1c6661(0x126)](process[_0x1c6661(0x11d)]['CONFIG'],undefined)){const _0x532f54=JSON[_0x1c6661(0xe6)](process['env'][_0x1c6661(0x117)]);_0x4b876e=_0x532f54[_0x1c6661(0x13e)];}_0x3d7fe3[_0x1c6661(0x7f)](_0x4b876e,undefined)&&_0x3d7fe3[_0x1c6661(0xff)](isBrowserstackInfra)&&(global[_0x1c6661(0x12a)]=_0x3d7fe3['SrcbR'](getPlatformName,_0x4b876e),this['log'](_0x3d7fe3[_0x1c6661(0x139)](_0x1c6661(0x105)+global['__platform'],'\x0a'))),_0x3d7fe3[_0x1c6661(0xff)](shouldProcessEventForTesthub)&&(TestDetails[_0x1c6661(0xaa)](),this[_0x1c6661(0xa2)][_0x1c6661(0x123)]=_0x20fef3,BrowserstackCLI['getInstance']()[_0x1c6661(0xbf)]()&&await this[_0x1c6661(0x9a)]()&&(TestInfo['setup'](_0x3d7fe3['JsgQU']),await BrowserstackCLI[_0x1c6661(0xb9)]()[_0x1c6661(0xd2)]()[_0x1c6661(0xfa)](TestFrameworkState[_0x1c6661(0xfd)],HookState[_0x1c6661(0xb8)],{})));}['onTestRunFinished'](_0x15044b){const _0x564b5c=a6_0x11e578;this[_0x564b5c(0xa2)][_0x564b5c(0xfc)]=_0x15044b,this['logTestRunFinished'](_0x15044b);}async[a6_0x11e578(0xfe)](_0x2b590d,_0x84b8a2,_0x4f7bcc){const _0x1f20f0=a6_0x11e578,_0x4e0242={'yygfM':function(_0x50b0c9,_0x444b32){return _0x50b0c9(_0x444b32);},'POGYB':_0x1f20f0(0xd4),'OmOlj':function(_0x4bd00a,_0x13efc9){return _0x4bd00a&&_0x13efc9;}};testSuites+=0x1;if(_0x4e0242[_0x1f20f0(0xd3)](shouldProcessEventForTesthub,_0x4e0242[_0x1f20f0(0x95)]))try{this[_0x1f20f0(0xa2)]['testCaseStarted']=this[_0x1f20f0(0xa2)]['testCaseStarted']||{},this[_0x1f20f0(0xa2)]['testCaseStarted'][_0x2b590d['id']]=_0x2b590d;let _0x44742d=null;BrowserstackCLI[_0x1f20f0(0xb9)]()[_0x1f20f0(0xbf)]()&&await this[_0x1f20f0(0x9a)]()?_0x44742d=TestInfo['getTestUUID'](_0x2b590d['id']):_0x44742d=TestDetails[_0x1f20f0(0x136)](_0x2b590d['id']);_testCasesData[_0x2b590d['id']]=Object['assign']({},_0x4f7bcc);const _0x4596a1=this[_0x1f20f0(0xa2)],_0x167329=_0x2b590d[_0x1f20f0(0xde)],_0x7ff6ac=_0x4596a1['testCases'][_0x1f20f0(0xf8)](_0xd2db5d=>_0xd2db5d['id']===_0x167329)['pickleId'],_0x6ba2b8=_0x4596a1[_0x1f20f0(0xda)][_0x1f20f0(0xf8)](_0x4803d2=>_0x4803d2['id']===_0x7ff6ac),_0x17f74c=_0x4596a1[_0x1f20f0(0x12e)][_0x1f20f0(0xf8)](_0x4efdc2=>_0x4efdc2[_0x1f20f0(0x74)]===_0x6ba2b8[_0x1f20f0(0x74)]),_0xc246c4=_0x17f74c[_0x1f20f0(0xd5)],_0xc14c85={'uuid':_0x44742d,'startedAt':new Date()[_0x1f20f0(0xef)]()};if(_0x6ba2b8){const _0x1b2292={};_0x1b2292['name']=_0x6ba2b8[_0x1f20f0(0x94)],_0xc14c85[_0x1f20f0(0xd9)]=_0x1b2292;}if(_0x4e0242['OmOlj'](_0x17f74c,_0xc246c4)){const _0x4e49b7={};_0x4e49b7[_0x1f20f0(0xf4)]=_0x17f74c[_0x1f20f0(0x74)],_0x4e49b7['name']=_0xc246c4[_0x1f20f0(0x94)],_0x4e49b7['description']=_0xc246c4[_0x1f20f0(0x111)],_0xc14c85[_0x1f20f0(0xd5)]=_0x4e49b7;}_tests[_0x167329]=_0xc14c85;if(BrowserstackCLI[_0x1f20f0(0xb9)]()[_0x1f20f0(0xbf)]()&&await this['isCLIReady']()){const _0x13f96c=await cucumberUtils[_0x1f20f0(0x8e)](_0xc14c85,_0x6ba2b8,_0x4f7bcc,_0x17f74c,_0x2b590d['id'],_0x4e0242[_0x1f20f0(0x95)]),_0x202821={};_0x202821[_0x1f20f0(0x82)]=_0x13f96c,await BrowserstackCLI['getInstance']()[_0x1f20f0(0xd2)]()[_0x1f20f0(0xfa)](TestFrameworkState[_0x1f20f0(0x11a)],HookState[_0x1f20f0(0xb8)],_0x202821);return;}await testObservabilityReporter['sendTestRunEventForCucumber'](_0x4f7bcc,_0x17f74c,_0x6ba2b8,_0x4e0242[_0x1f20f0(0x95)],_0xc14c85);}catch(_0x444d46){logger[_0x1f20f0(0x112)](_0x1f20f0(0xf5)+util[_0x1f20f0(0x7b)](_0x444d46)+'\x20');}}async['onTestCaseFinished'](_0x1256f3,_0x1aa459,_0x1d9a25){const _0x4ec03d=a6_0x11e578,_0xd7c753={'dfzpi':function(_0x201f3e,_0x1902c7){return _0x201f3e(_0x1902c7);},'qcOps':_0x4ec03d(0x7a),'antdg':_0x4ec03d(0x82)};this[_0x4ec03d(0x11c)](_0x1256f3);if(_0xd7c753[_0x4ec03d(0xc8)](shouldProcessEventForTesthub,_0xd7c753[_0x4ec03d(0xdf)]))try{this[_0x4ec03d(0xa2)][_0x4ec03d(0xb2)]=this[_0x4ec03d(0xa2)]['testCaseFinished']||{},this[_0x4ec03d(0xa2)]['testCaseFinished'][_0x1256f3[_0x4ec03d(0xe5)]]=_0x1256f3,_testCasesData[_0x1d9a25['id']]=Object[_0x4ec03d(0x7e)]({},_0x1d9a25);const _0xe1da0e=_0x1256f3[_0x4ec03d(0xe5)],_0x3c781a=_0x1aa459[_0x4ec03d(0x9b)][_0x4ec03d(0xf2)][_0xe1da0e][_0x4ec03d(0xde)],_0x2976f2=_0x1aa459[_0x4ec03d(0x9b)]['testCaseMap'][_0x3c781a],_0x17d4f6=_0x2976f2[_0x4ec03d(0xce)],_0x40f1eb=_0x1aa459[_0x4ec03d(0x9b)]['pickleMap'][_0x17d4f6],_0x249597=this[_0x4ec03d(0xcb)](_0x1aa459,_0x40f1eb),_0x325b6d=_0x249597['feature'],_0x2cf4ef=_tests[_0x3c781a];_0x2cf4ef&&(delete _tests[_0x3c781a],_0x2cf4ef['finishedAt']=new Date()[_0x4ec03d(0xef)]());if(BrowserstackCLI[_0x4ec03d(0xb9)]()['isCliEnabled']()&&await this['isCLIReady']()){const _0x4319c4=await cucumberUtils['createTestFrameworkData'](_0x2cf4ef,_0x40f1eb,_0x1d9a25,_0x249597,_0xe1da0e,_0xd7c753[_0x4ec03d(0xdf)]),_0x2e5c63={};_0x2e5c63[_0x4ec03d(0x82)]=_0x4319c4,await BrowserstackCLI['getInstance']()[_0x4ec03d(0xd2)]()[_0x4ec03d(0xfa)](TestFrameworkState[_0x4ec03d(0x11a)],HookState[_0x4ec03d(0x137)],_0x2e5c63);const _0x3d8e40={};_0x3d8e40['testUUID']=_0x1256f3[_0x4ec03d(0xe5)],_0x3d8e40[_0x4ec03d(0x100)]=_0xd7c753[_0x4ec03d(0x101)],await BrowserstackCLI[_0x4ec03d(0xb9)]()[_0x4ec03d(0xd2)]()[_0x4ec03d(0xfa)](TestFrameworkState[_0x4ec03d(0xc1)],HookState[_0x4ec03d(0x137)],_0x3d8e40);return;}await testObservabilityReporter[_0x4ec03d(0xd8)](_0x1d9a25,_0x249597,_0x40f1eb,_0xd7c753[_0x4ec03d(0xdf)],_0x2cf4ef);}catch(_0x5d7f8e){logger[_0x4ec03d(0x112)](_0x4ec03d(0xed)+util[_0x4ec03d(0x7b)](_0x5d7f8e));}}async[a6_0x11e578(0x99)](_0x20d07b,_0x1fcfae){const _0x41864a=a6_0x11e578,_0xcff5a6={'QVJDT':function(_0x190147,_0x3f5ab6){return _0x190147(_0x3f5ab6);},'vDCCX':_0x41864a(0xc5),'HSKLc':function(_0x2a667a,_0x47c92e){return _0x2a667a!==_0x47c92e;},'vqHVy':_0x41864a(0xc2)};if(_0xcff5a6[_0x41864a(0x113)](shouldProcessEventForTesthub,_0xcff5a6[_0x41864a(0x7d)]))try{this[_0x41864a(0xa2)][_0x41864a(0xf1)]=this[_0x41864a(0xa2)][_0x41864a(0xf1)]||{},this[_0x41864a(0xa2)][_0x41864a(0xf1)][_0x20d07b[_0x41864a(0xe5)]]=_0x20d07b;const _0x2953d9=_0x20d07b['testCaseStartedId'],_0x4f0906=_0x1fcfae[_0x41864a(0x9b)][_0x41864a(0xf2)][_0x2953d9][_0x41864a(0xde)],_0x34cf95=this[_0x41864a(0xa2)][_0x41864a(0xb4)][_0x41864a(0xf8)](_0x4696b3=>_0x4696b3['id']===_0x4f0906)[_0x41864a(0xce)],_0x567e1f=this['report']['pickle'][_0x41864a(0xf8)](_0x5a044a=>_0x5a044a['id']===_0x34cf95),_0x4f1bbc=this[_0x41864a(0xa2)][_0x41864a(0xb4)][_0x41864a(0xf8)](_0x332eeb=>_0x332eeb['id']===_0x4f0906)[_0x41864a(0x133)],_0x19dc92=this[_0x41864a(0xa2)][_0x41864a(0xf1)][_0x2953d9]['testStepId'],_0x67d87c=_0x4f1bbc[_0x41864a(0xf8)](_0x2dc090=>_0x2dc090['id']===_0x19dc92)[_0x41864a(0x142)],_0x232ac0=_0x567e1f[_0x41864a(0x141)][_0x41864a(0xf8)](_0x19c3ff=>_0x19c3ff['id']===_0x67d87c);if(_0x67d87c&&_tests[_0x4f0906]&&_0xcff5a6['HSKLc'](_tests[_0x4f0906][_0xcff5a6['vqHVy']],_0x19dc92)){_tests[_0x4f0906][_0xcff5a6[_0x41864a(0xd7)]]=_0x19dc92;const _0x45f173={};_0x45f173[_0x41864a(0x141)]=[];const _0x4ca7a0=_tests[_0x4f0906]||_0x45f173;_0x4ca7a0&&!_0x4ca7a0[_0x41864a(0x141)]&&(_0x4ca7a0[_0x41864a(0x141)]=[]),_0x4ca7a0['steps'][_0x41864a(0x146)]({'id':_0x232ac0['id'],'text':_0x232ac0[_0x41864a(0x71)],'started_at':new Date()[_0x41864a(0xef)]()}),_tests[_0x4f0906]=_0x4ca7a0;}if(BrowserstackCLI[_0x41864a(0xb9)]()['isCliEnabled']()&&await this[_0x41864a(0x9a)]()){const _0x30eab7=await cucumberUtils[_0x41864a(0xeb)](this[_0x41864a(0xa2)],_0x2953d9,_0xcff5a6[_0x41864a(0x7d)],_0x4f1bbc,_0x19dc92,_tests[_0x4f0906]);_0x30eab7&&await BrowserstackCLI[_0x41864a(0xb9)]()[_0x41864a(0xd2)]()[_0x41864a(0xfa)](TestFrameworkState[_0x30eab7[_0x41864a(0xbe)]],HookState[_0x41864a(0xb8)],{'hookData':_0x30eab7,'testUUID':_0x20d07b[_0x41864a(0xe5)]});return;}await testObservabilityReporter[_0x41864a(0x135)](this['report'],_0x2953d9,_0xcff5a6[_0x41864a(0x7d)],_0x4f1bbc,_0x19dc92,_tests[_0x4f0906]);}catch(_0x4f97fb){logger[_0x41864a(0x112)]('Exception\x20in\x20onTestStepStarted\x20event:\x20'+util[_0x41864a(0x7b)](_0x4f97fb));}}async[a6_0x11e578(0xe0)](_0x54307e,_0x13fc9a){const _0x12fb4b=a6_0x11e578,_0x16a89c={'FYssg':function(_0x3cbeb7,_0x5e356f){return _0x3cbeb7===_0x5e356f;},'qjfMN':_0x12fb4b(0x131),'xPxvL':function(_0x3b4d15,_0x29c269){return _0x3b4d15(_0x29c269);},'QZOLn':_0x12fb4b(0x7c),'nyRyK':_0x12fb4b(0x103),'UxkPS':function(_0x5c2b0f,_0x504d84){return _0x5c2b0f===_0x504d84;},'iFzlg':_0x12fb4b(0x134),'owZJo':'testStepId','UrSNg':_0x12fb4b(0xc5),'uzVBP':_0x12fb4b(0x118)};this[_0x12fb4b(0xa2)]['testStepFinished']=this[_0x12fb4b(0xa2)][_0x12fb4b(0xe3)]||{},this['report'][_0x12fb4b(0xe3)][_0x54307e[_0x12fb4b(0xe5)]]=_0x54307e;if(_0x16a89c[_0x12fb4b(0x10e)](shouldProcessEventForTesthub,_0x16a89c['QZOLn']))try{const _0x1a0337=_0x54307e['testCaseStartedId'],_0x20f660=_0x13fc9a[_0x12fb4b(0x9b)]['testCaseAttemptDataMap'][_0x1a0337][_0x12fb4b(0xde)],_0x55ea3c=_0x13fc9a[_0x12fb4b(0x9b)][_0x12fb4b(0xc4)][_0x20f660],_0x36beab=_0x55ea3c[_0x12fb4b(0xce)],_0x308cf1=_0x13fc9a['eventDataCollector'][_0x12fb4b(0x9d)][_0x36beab],_0x333de0=_0x54307e[_0x12fb4b(0xc2)],_0x5f1984=_0x55ea3c[_0x12fb4b(0x133)],_0x32de6d=this[_0x12fb4b(0x9b)][_0x12fb4b(0x70)](_0x1a0337),_0x1b24a0=_0x5f1984['find'](_0x4cbe86=>_0x4cbe86['id']===_0x333de0)[_0x12fb4b(0x142)];let _0x346b74,_0x55ac74;_0x54307e[_0x12fb4b(0xb3)]&&_0x16a89c[_0x12fb4b(0x106)](_0x54307e[_0x12fb4b(0xb3)][_0x12fb4b(0x83)][_0x12fb4b(0xc0)]()[_0x12fb4b(0x9e)](),_0x16a89c['nyRyK'])&&(_0x346b74=_0x16a89c[_0x12fb4b(0x106)](_0x54307e[_0x12fb4b(0xb3)][_0x12fb4b(0x13a)],undefined)?_0x54307e[_0x12fb4b(0xb3)][_0x12fb4b(0xa7)]:_0x54307e[_0x12fb4b(0xb3)][_0x12fb4b(0x13a)][_0x12fb4b(0xa7)],_0x55ac74=_0x16a89c[_0x12fb4b(0xe2)](_0x54307e[_0x12fb4b(0xb3)][_0x12fb4b(0x13a)],undefined)?_0x16a89c[_0x12fb4b(0xa6)]:_0x54307e['testStepResult'][_0x12fb4b(0xa7)]);if(_0x1b24a0&&_tests[_0x20f660][_0x16a89c[_0x12fb4b(0x92)]]){const _0x1a0e70=_0x308cf1[_0x12fb4b(0x141)]['find'](_0x55ff6e=>_0x55ff6e['id']===_0x1b24a0),_0x2aab72={};_0x2aab72[_0x12fb4b(0x141)]=[];const _0x2badc4=_tests[_0x20f660]||_0x2aab72;!_0x2badc4[_0x12fb4b(0x141)]?_0x2badc4['steps']=[{'id':_0x1a0e70['id'],'text':_0x1a0e70[_0x12fb4b(0x71)],'finished_at':new Date()[_0x12fb4b(0xef)](),'result':_0x54307e[_0x12fb4b(0xb3)][_0x12fb4b(0x83)],'duration':_0x54307e['testStepResult'][_0x12fb4b(0x81)][_0x12fb4b(0xb1)],'failure':_0x346b74,'failureType':_0x55ac74}]:_0x2badc4[_0x12fb4b(0x141)][_0x12fb4b(0xd0)](_0x1ad3e5=>{const _0x1aed62=_0x12fb4b;if(_0x16a89c['FYssg'](_0x1ad3e5['id'],_0x1a0e70['id'])){const _0x1a5201=_0x16a89c['qjfMN'][_0x1aed62(0xca)]('|');let _0xa275a5=0x0;while(!![]){switch(_0x1a5201[_0xa275a5++]){case'0':_0x1ad3e5[_0x1aed62(0x85)]=new Date()['toISOString']();continue;case'1':_0x1ad3e5[_0x1aed62(0x81)]=_0x54307e[_0x1aed62(0xb3)]['duration']['seconds'];continue;case'2':_0x1ad3e5[_0x1aed62(0xcc)]=_0x55ac74;continue;case'3':_0x1ad3e5[_0x1aed62(0x107)]=_0x346b74;continue;case'4':_0x1ad3e5[_0x1aed62(0xf6)]=_0x54307e[_0x1aed62(0xb3)][_0x1aed62(0x83)];continue;}break;}}}),_tests[_0x20f660]=_0x2badc4;}delete _tests[_0x20f660][_0x16a89c[_0x12fb4b(0x92)]];if(BrowserstackCLI[_0x12fb4b(0xb9)]()[_0x12fb4b(0xbf)]()&&await this['isCLIReady']()){const _0x4fb0d1=await cucumberUtils[_0x12fb4b(0xeb)](this['report'],_0x1a0337,_0x16a89c[_0x12fb4b(0xb6)],_0x5f1984,_0x333de0,_tests[_0x20f660]);if(_0x4fb0d1){await BrowserstackCLI[_0x12fb4b(0xb9)]()[_0x12fb4b(0xd2)]()['trackEvent'](TestFrameworkState[_0x4fb0d1[_0x12fb4b(0xbe)]],HookState[_0x12fb4b(0x137)],{'hookData':_0x4fb0d1,'testUUID':_0x54307e[_0x12fb4b(0xe5)]});const _0x2c141b={};_0x2c141b['testUUID']=_0x54307e[_0x12fb4b(0xe5)],_0x2c141b[_0x12fb4b(0x100)]=_0x16a89c[_0x12fb4b(0x145)],await BrowserstackCLI[_0x12fb4b(0xb9)]()[_0x12fb4b(0xd2)]()['trackEvent'](TestFrameworkState['LOG_REPORT'],HookState['POST'],_0x2c141b);}return;}await testObservabilityReporter[_0x12fb4b(0x135)](this[_0x12fb4b(0xa2)],_0x1a0337,_0x16a89c[_0x12fb4b(0x104)],_0x5f1984,_0x333de0,_tests[_0x20f660]);}catch(_0x430a1a){logger[_0x12fb4b(0x112)](_0x12fb4b(0x97)+util[_0x12fb4b(0x7b)](_0x430a1a));}}['getGherkinStepMap'](_0x7e5508){const _0x242a56=a6_0x11e578,_0x286ede={};return _0x7e5508[_0x242a56(0xd5)]['children'][_0x242a56(0xa8)](this[_0x242a56(0x121)])[_0x242a56(0xb5)]()['forEach'](_0x4693c6=>_0x4693c6[_0x242a56(0x141)][_0x242a56(0xd0)](_0x5e159e=>_0x286ede[_0x5e159e['id']]=_0x5e159e)),_0x286ede;}['extractStepContainers'](_0x48626f){const _0x3a7ceb=a6_0x11e578,_0x168757={'ooBHG':function(_0x78ab7a,_0x4bfacb){return _0x78ab7a(_0x4bfacb);}};if(!_0x168757[_0x3a7ceb(0x109)](isUndefined,_0x48626f[_0x3a7ceb(0xba)]))return[_0x48626f[_0x3a7ceb(0xba)]];else{if(!_0x168757['ooBHG'](isUndefined,_0x48626f[_0x3a7ceb(0xf9)]))return _0x48626f[_0x3a7ceb(0xf9)][_0x3a7ceb(0x120)][_0x3a7ceb(0xa8)](_0x376b48=>!isUndefined(_0x376b48[_0x3a7ceb(0xba)])?_0x376b48[_0x3a7ceb(0xba)]:_0x376b48[_0x3a7ceb(0xd9)]);};return[_0x48626f[_0x3a7ceb(0xd9)]];}[a6_0x11e578(0xcb)](_0x27801d,_0xd4798b){const _0x3820dc=a6_0x11e578;return Object['values'](_0x27801d[_0x3820dc(0x9b)][_0x3820dc(0xae)])['find'](_0x47eabc=>_0x47eabc[_0x3820dc(0x74)]===_0xd4798b[_0x3820dc(0x74)]);}async[a6_0x11e578(0xbc)](){const _0x45111b=a6_0x11e578;if(this[_0x45111b(0x12b)])return this[_0x45111b(0x12b)];return this[_0x45111b(0x12b)]=this[_0x45111b(0x88)](),this[_0x45111b(0x12b)];}async[a6_0x11e578(0x88)](){const _0x50c70e=a6_0x11e578,_0x4201ad={'hUDmy':_0x50c70e(0x86),'NlJuv':function(_0x4ee17b,_0x7d96ba){return _0x4ee17b(_0x7d96ba);},'mBwVs':_0x50c70e(0xac),'vcWhm':function(_0x4a6e8b,_0x239657){return _0x4a6e8b(_0x239657);},'OYRgU':_0x50c70e(0x89)};try{const _0x310165=BrowserstackCLI[_0x50c70e(0xb9)]();if(_0x310165[_0x50c70e(0xb0)]())return logger[_0x50c70e(0x112)](_0x50c70e(0xa3)+_0x310165[_0x50c70e(0x8a)]),!![];const _0x12ee62=process[_0x50c70e(0x11d)][_0x50c70e(0xd1)];if(!_0x12ee62)return logger['debug'](_0x4201ad[_0x50c70e(0x93)]),![];const _0x383412=_0x4201ad[_0x50c70e(0xbb)](require,_0x4201ad[_0x50c70e(0xdb)]),{FRAMEWORKS:_0x3330ca}=_0x4201ad['vcWhm'](require,_0x4201ad['OYRgU']);return _0x383412[_0x50c70e(0x76)](_0x3330ca['CUCUMBER'],_0x3330ca[_0x50c70e(0x98)]),logger[_0x50c70e(0x112)](_0x50c70e(0xe4)+_0x12ee62),await _0x310165[_0x50c70e(0x102)](),logger[_0x50c70e(0x112)](_0x50c70e(0x79)+_0x310165[_0x50c70e(0xb0)]()+_0x50c70e(0x9f)+_0x310165['binSessionId']),_0x310165[_0x50c70e(0xb0)]();}catch(_0x2b54fe){return logger['debug'](_0x50c70e(0x73)+util['format'](_0x2b54fe)),![];}}async['isCLIReady'](){const _0x3b7978=a6_0x11e578;try{return await this[_0x3b7978(0xbc)](),BrowserstackCLI['getInstance']()[_0x3b7978(0xb0)]();}catch(_0xd5c63a){return logger['debug'](_0x3b7978(0x87)+util[_0x3b7978(0x7b)](_0xd5c63a)),![];}}}module[a6_0x11e578(0xea)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x11e578(0xfe),a6_0x11e578(0xa1),a6_0x11e578(0x99),'onTestStepFinished',a6_0x11e578(0x114),a6_0x11e578(0x122),'extractStepContainers','getGherkinDocument',a6_0x11e578(0x72)]);