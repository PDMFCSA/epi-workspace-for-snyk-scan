function a7_0x74be(_0x20b5c6,_0x587506){const _0x3006b2=a7_0x3006();return a7_0x74be=function(_0x74be78,_0x100c00){_0x74be78=_0x74be78-0xed;let _0x4ed108=_0x3006b2[_0x74be78];return _0x4ed108;},a7_0x74be(_0x20b5c6,_0x587506);}const a7_0x2354ff=a7_0x74be;function a7_0x3006(){const _0x2e51bf=['incrementCounter','\x20\x20\x20\x20','358onBmzd','finished_at','exception','onHook','tpXlu','riSQM','testSteps','isRunning','tykYC','hOlfC','onSource','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','duration','failure','text','envelope','__platform','testCaseMap','testStepId','xpxDg','extractStepContainers','isCliEnabled','util','jPdAy','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','push','seconds','VGMLa','Kqkig','testRunFinished','forEach','7sYcriQ',',\x20binSessionId:\x20','snippetBuilder','hook_type','values','eventBroadcaster','QiVGq','pickleId','createHookData','sendTestRunEventForCucumber','tmqYm','ensureCLIInitialized','onTestCaseFinished','1|0|4|3|2','pkXNH','find','gGxWG','name','stepDefinition','../../v2/state/hookState.js','xcHbx','finishedAt','map','VLXlg','../../../helpers/helper','testCaseFinished','QiXEi','Xzqgs','3140919pywgPw','../test-observability.js','type','eMZaR','pickleStepId','EFrwZ','4181588GpRNFH','scenario','env','../../v2/browserstackCLI.js','report','testUUID','UnhandledError','mnMtz','RGGFc','onTestStepFinished','438720TYfOUx','onPickle','onStepDefinition','PASSED','LJbBI','toLowerCase','isCLIReady','onTestStepStarted','capability','Exception\x20in\x20onTestStepStarted\x20event:\x20','failureType','cucumber-js/test.setup.js','PLAYWRIGHT','UbWKl','3ZfMCYb','getGherkinDocument','binSessionId','LOG_REPORT','description','bprYj','UNDEFINED','pickle','zZPPa','../../../helpers/testhub/utils.js','AMBIGUOUS','qYVHI','testCaseStarted','exDGJ','testRunStarted','yMWSA','HookRunStarted','onTestRunStarted','uSclV','zqcqW','isBstackHook','onTIi','log','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','logTestRunFinished','debug','toISOString','tkaZi','4283615lQEJOP','testCaseAttemptDataMap','HBkoP','FAILED','sourceLocation','YhDrM','pickleMap','../../../helpers/logger','testStepFinished','cFggh','BROWSERSTACK_CLI_BIN_SESSION_ID','POST','testCases','getTestFramework','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','logTestCaseFinished','gherkinDocument','BUGvh','INIT_TEST','getInstance','test','UNKNOWN','eventDataCollector','onGherkinDocument','../../utils/constants','testStepStarted','background','9479286vvlDTN','ZdgiK','toString','MjeEJ','wyaTD','JilVK','actionLocation','testStepResult','DRceR','status','TEST','CONFIG','SKIPPED','TestRunFinished','13935990qkRNvN','hooks','exports','onTestRunFinished','feature','uri','cliInitPromise','result','supportCodeLibrary','\x20-\x20','../../playwright/reporter/test-details.js','steps','testCaseAttempt','rysvH','children','testCaseStartedId','format','gherkinDocumentMap','winstonLogger','keyword','assign','oFkAr','bootstrap','oSGFa','HookRunFinished','vCnoe','cwd','SYAJd','trackEvent','TestRunStarted','hook','getGherkinStepMap','pEZUl','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','onTestCaseStarted','PRE','_performCLIInitialization','testCaseId','getTestUUID','flat','8693LSLdtg','setup','WQQsw','message','CUCUMBER','rule','onTestCase','hihUI'];a7_0x3006=function(){return _0x2e51bf;};return a7_0x3006();}(function(_0x10f636,_0x5114fc){const _0x4fd424=a7_0x74be,_0x406091=_0x10f636();while(!![]){try{const _0x3068f9=parseInt(_0x4fd424(0x1a6))/0x1*(parseInt(_0x4fd424(0x1b0))/0x2)+-parseInt(_0x4fd424(0x139))/0x3*(parseInt(_0x4fd424(0x121))/0x4)+parseInt(_0x4fd424(0x155))/0x5+-parseInt(_0x4fd424(0x170))/0x6*(parseInt(_0x4fd424(0xff))/0x7)+parseInt(_0x4fd424(0x12b))/0x8+-parseInt(_0x4fd424(0x11b))/0x9+parseInt(_0x4fd424(0x17e))/0xa;if(_0x3068f9===_0x5114fc)break;else _0x406091['push'](_0x406091['shift']());}catch(_0x175cf1){_0x406091['push'](_0x406091['shift']());}}}(a7_0x3006,0xd889c));const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a7_0x2354ff(0x117)),util=require(a7_0x2354ff(0xf6)),{Formatter,formatterHelpers,Status}=requireModule('@cucumber/cucumber'),TestDetails=require(a7_0x2354ff(0x188)),TestObservabilityReporter=require(a7_0x2354ff(0x11c)),{o11yClassErrorHandler}=require('../../../helpers/test-observability/error-handler'),{shouldProcessEventForTesthub}=require(a7_0x2354ff(0x142)),BrowserstackCLI=require(a7_0x2354ff(0x124)),TestFrameworkState=require('../../v2/state/testFrameworkState.js'),HookState=require(a7_0x2354ff(0x112)),CucumberUtils=require('../../v2/utils/cucumber-utils.js'),TestInfo=require('../../../bin/v2/TestInfo.js'),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a7_0x2354ff(0x15c))[a7_0x2354ff(0x190)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x18f9c9){const _0x63408f=a7_0x2354ff,_0x553b8f={};_0x553b8f[_0x63408f(0x19e)]=_0x63408f(0xef);const _0x1af4d9=_0x553b8f;super(_0x18f9c9),this[_0x63408f(0x125)]={},_0x18f9c9[_0x63408f(0x104)]['on'](_0x1af4d9['pEZUl'],async _0xf218ba=>{const _0x44636c=_0x63408f;switch(!![]){case!!_0xf218ba['testRunStarted']:this[_0x44636c(0x14a)](_0xf218ba[_0x44636c(0x147)]);break;case!!_0xf218ba[_0x44636c(0xfd)]:this[_0x44636c(0x181)](_0xf218ba['testRunFinished']);break;case!!_0xf218ba[_0x44636c(0x145)]:this['onTestCaseStarted'](_0xf218ba['testCaseStarted'],_0x18f9c9,_0xf218ba);break;case!!_0xf218ba['testCaseFinished']:this['onTestCaseFinished'](_0xf218ba[_0x44636c(0x118)],_0x18f9c9,_0xf218ba);break;case!!_0xf218ba[_0x44636c(0x16e)]:this[_0x44636c(0x132)](_0xf218ba['testStepStarted'],_0x18f9c9);break;case!!_0xf218ba[_0x44636c(0x15d)]:this[_0x44636c(0x12a)](_0xf218ba['testStepFinished'],_0x18f9c9);break;case!!_0xf218ba['hook']:this[_0x44636c(0x1b3)](_0xf218ba[_0x44636c(0x19c)]);break;case!!_0xf218ba['testCase']:this['onTestCase'](_0xf218ba['testCase']);break;case!!_0xf218ba[_0x44636c(0x140)]:this[_0x44636c(0x12c)](_0xf218ba[_0x44636c(0x140)]);break;case!!_0xf218ba[_0x44636c(0x165)]:this[_0x44636c(0x16c)](_0xf218ba['gherkinDocument']);break;}});}[a7_0x2354ff(0x1b3)](_0x244463){const _0x2d2e6=a7_0x2354ff;this[_0x2d2e6(0x125)]['hooks']=Object[_0x2d2e6(0x192)]([],this[_0x2d2e6(0x125)][_0x2d2e6(0x17f)]||[]),this[_0x2d2e6(0x125)][_0x2d2e6(0x17f)][_0x2d2e6(0xf9)](_0x244463);}[a7_0x2354ff(0x12c)](_0x44033f){const _0x1e25d3=a7_0x2354ff;this['report'][_0x1e25d3(0x140)]=Object[_0x1e25d3(0x192)]([],this[_0x1e25d3(0x125)][_0x1e25d3(0x140)]||[],[_0x44033f]),this['report'][_0x1e25d3(0x140)]['push'](_0x44033f);}[a7_0x2354ff(0x16c)](_0x311a26){const _0x50a1be=a7_0x2354ff;this[_0x50a1be(0x125)][_0x50a1be(0x165)]=Object[_0x50a1be(0x192)]([],this[_0x50a1be(0x125)][_0x50a1be(0x165)]||[],[_0x311a26]),this[_0x50a1be(0x125)][_0x50a1be(0x165)][_0x50a1be(0xf9)](_0x311a26);}[a7_0x2354ff(0x1ba)](_0x4dad4d){const _0xa154f7=a7_0x2354ff;this[_0xa154f7(0x125)]['source']=_0x4dad4d;}[a7_0x2354ff(0x12d)](_0x1a7f1e){const _0x129362=a7_0x2354ff;this[_0x129362(0x125)][_0x129362(0x111)]=Object[_0x129362(0x192)]([],this[_0x129362(0x125)][_0x129362(0x111)]||[],[_0x1a7f1e]),this['report'][_0x129362(0x111)]['push'](_0x1a7f1e);}[a7_0x2354ff(0x1ac)](_0xb1e62b){const _0x5bd886=a7_0x2354ff;this['report'][_0x5bd886(0x161)]=Object[_0x5bd886(0x192)]([],this['report']['testCases']||[],[_0xb1e62b]),this[_0x5bd886(0x125)][_0x5bd886(0x161)][_0x5bd886(0xf9)](_0xb1e62b);}[a7_0x2354ff(0x164)](_0x4f67fc){const _0x5118a4=a7_0x2354ff,_0x2a385c={'mnMtz':function(_0x4a960e,_0x26d2c5){return _0x4a960e!==_0x26d2c5;},'PAkps':'bstack','jPdAy':function(_0x3c1d7b,_0x126f9e){return _0x3c1d7b+_0x126f9e;},'VLXlg':function(_0x6559b8,_0x530de6){return _0x6559b8+_0x530de6;},'ZdgiK':function(_0x199628,_0x5cfda3){return _0x199628+_0x5cfda3;},'bprYj':_0x5118a4(0x1af),'pkXNH':_0x5118a4(0x187),'vCnoe':function(_0x1c6668,_0x25b396){return _0x1c6668===_0x25b396;},'oFkAr':_0x5118a4(0x158),'EFrwZ':function(_0x5b9d13,_0x45da1a,_0x5c27ba){return _0x5b9d13(_0x45da1a,_0x5c27ba);},'QIeuC':_0x5118a4(0x185),'onTIi':_0x5118a4(0x1a9),'QiVGq':function(_0x438ba1,_0xdfe6bc){return _0x438ba1+_0xdfe6bc;},'DjzQD':function(_0x5c5929,_0x470429){return _0x5c5929+_0x470429;},'tpXlu':function(_0x19fab1,_0x1bf7c6){return _0x19fab1!==_0x1bf7c6;},'Xzqgs':function(_0x5f10a4,_0x37395f){return _0x5f10a4+_0x37395f;},'HBkoP':function(_0x4120dd,_0x19c2c2){return _0x4120dd+_0x19c2c2;}};_0x2a385c[_0x5118a4(0x1b4)](global[_0x5118a4(0xf0)],undefined)&&this[_0x5118a4(0x14f)](_0x2a385c[_0x5118a4(0x171)](_0x2a385c[_0x5118a4(0x11a)]('\x0a',global[_0x5118a4(0xf0)]),'\x0a'));const _0x5b4e66=this[_0x5118a4(0x16b)]['getTestCaseAttempt'](_0x4f67fc[_0x5118a4(0x18d)]);this[_0x5118a4(0x14f)](_0x2a385c[_0x5118a4(0x157)](_0x2a385c['HBkoP'](_0x2a385c[_0x5118a4(0x157)](_0x2a385c['ZdgiK']('\x20\x20',_0x5b4e66['gherkinDocument'][_0x5118a4(0x182)][_0x5118a4(0x110)]),_0x2a385c['pkXNH']),_0x5b4e66['pickle'][_0x5118a4(0x110)]),'\x0a'));const _0x589608={};_0x589608['cwd']=this[_0x5118a4(0x198)],_0x589608[_0x5118a4(0x101)]=this[_0x5118a4(0x101)],_0x589608[_0x5118a4(0x186)]=this[_0x5118a4(0x186)],_0x589608[_0x5118a4(0x18a)]=_0x5b4e66;const _0x20fece=formatterHelpers['parseTestCaseAttempt'](_0x589608);let _0x596e1c=![];_0x20fece[_0x5118a4(0x1b6)][_0x5118a4(0xfe)](_0xca02f0=>{const _0x46f1e4=_0x5118a4;if(_0x2a385c[_0x46f1e4(0x128)](_0xca02f0['name'],_0x2a385c['PAkps'])&&!this[_0x46f1e4(0x14d)](_0xca02f0)){totalTests+=0x1,this[_0x46f1e4(0x14f)](_0x2a385c[_0x46f1e4(0xf7)](_0x2a385c[_0x46f1e4(0x116)](_0x2a385c[_0x46f1e4(0x171)](_0x2a385c['ZdgiK'](_0x2a385c[_0x46f1e4(0x171)](_0x2a385c[_0x46f1e4(0x13e)],_0xca02f0[_0x46f1e4(0x191)]),_0xca02f0[_0x46f1e4(0xee)]||''),_0x2a385c[_0x46f1e4(0x10d)]),Status[_0xca02f0[_0x46f1e4(0x185)][_0x46f1e4(0x179)]]),'\x0a')),this['incrementCounter'](Status[_0xca02f0[_0x46f1e4(0x185)]['status']]);if(_0x2a385c[_0x46f1e4(0x197)](Status[_0xca02f0[_0x46f1e4(0x185)][_0x46f1e4(0x179)]],_0x2a385c[_0x46f1e4(0x193)])){_0x596e1c=!![];const _0x37942c=_0x2a385c[_0x46f1e4(0x120)](nestedKeyValue,_0xca02f0,[_0x2a385c['QIeuC'],_0x2a385c[_0x46f1e4(0x14e)]]);_0x37942c&&(testsErrorMessage[_0x2a385c[_0x46f1e4(0x105)](_0x2a385c['DjzQD'](_0x5b4e66[_0x46f1e4(0x165)]['feature'][_0x46f1e4(0x110)],_0x2a385c[_0x46f1e4(0x10d)]),_0x5b4e66[_0x46f1e4(0x140)][_0x46f1e4(0x110)])]=_0x37942c,this[_0x46f1e4(0x14f)](_0x2a385c['ZdgiK'](_0x37942c,'\x0a')));}}}),_0x596e1c&&(testSuitesFailed+=0x1),this[_0x5118a4(0x14f)]('\x0a');}[a7_0x2354ff(0x151)](_0x25ead6){}[a7_0x2354ff(0x14d)](_0x19f80a){const _0x12307a=a7_0x2354ff,_0x13cec7={};_0x13cec7[_0x12307a(0x148)]=function(_0x5a1da2,_0x4621b6){return _0x5a1da2!==_0x4621b6;},_0x13cec7[_0x12307a(0xf3)]=_0x12307a(0x136);const _0xfba5a3=_0x13cec7;if(_0xfba5a3['yMWSA'](_0x19f80a[_0x12307a(0x159)],undefined))return![];if(_0x19f80a[_0x12307a(0x176)]&&_0x19f80a['actionLocation'][_0x12307a(0x183)]['includes'](_0xfba5a3[_0x12307a(0xf3)]))return!![];return![];}[a7_0x2354ff(0x1ae)](_0xaa6e70){const _0x51e8c6=a7_0x2354ff,_0x44c4ff={};_0x44c4ff[_0x51e8c6(0x15e)]=_0x51e8c6(0x158),_0x44c4ff[_0x51e8c6(0x14b)]=_0x51e8c6(0x12e),_0x44c4ff[_0x51e8c6(0x10f)]=_0x51e8c6(0x17c),_0x44c4ff[_0x51e8c6(0x166)]='PENDING',_0x44c4ff[_0x51e8c6(0x15a)]=_0x51e8c6(0x13f),_0x44c4ff[_0x51e8c6(0x178)]=_0x51e8c6(0x16a),_0x44c4ff['hihUI']=_0x51e8c6(0x143);const _0x4f0f51=_0x44c4ff;switch(_0xaa6e70){case _0x4f0f51[_0x51e8c6(0x15e)]:testsFailed+=0x1;break;case _0x4f0f51[_0x51e8c6(0x14b)]:testsPassed+=0x1;break;case _0x4f0f51['gGxWG']:testsSkipped+=0x1;break;case _0x4f0f51[_0x51e8c6(0x166)]:testsPending+=0x1;break;case _0x4f0f51[_0x51e8c6(0x15a)]:testsUndefined+=0x1;break;case _0x4f0f51[_0x51e8c6(0x178)]:testsUnknown+=0x1;break;case _0x4f0f51[_0x51e8c6(0x1ad)]:testsAmbiguous+=0x1;break;default:break;}}async[a7_0x2354ff(0x14a)](_0x2fcf5f){const _0x4584bc=a7_0x2354ff,_0x2466a3={'UbWKl':function(_0x289934,_0x3020ee){return _0x289934!==_0x3020ee;},'JilVK':function(_0x51348a){return _0x51348a();},'hOlfC':function(_0x1fb76f,_0x570b79){return _0x1fb76f(_0x570b79);},'GoUvy':function(_0xb24d45,_0x3ab931){return _0xb24d45+_0x3ab931;},'qTZbG':function(_0x161e99){return _0x161e99();},'oSGFa':'cucumber'};let _0x4bab15;if(_0x2466a3['UbWKl'](process[_0x4584bc(0x123)][_0x4584bc(0x17b)],undefined)){const _0x19252c=JSON['parse'](process['env'][_0x4584bc(0x17b)]);_0x4bab15=_0x19252c[_0x4584bc(0x133)];}_0x2466a3[_0x4584bc(0x138)](_0x4bab15,undefined)&&_0x2466a3[_0x4584bc(0x175)](isBrowserstackInfra)&&(global[_0x4584bc(0xf0)]=_0x2466a3[_0x4584bc(0x1b9)](getPlatformName,_0x4bab15),this[_0x4584bc(0x14f)](_0x2466a3['GoUvy']('Executing\x20tests\x20for\x20'+global[_0x4584bc(0xf0)],'\x0a'))),_0x2466a3['qTZbG'](shouldProcessEventForTesthub)&&(TestDetails[_0x4584bc(0x1a7)](),this['report']['testRunStarted']=_0x2fcf5f,BrowserstackCLI[_0x4584bc(0x168)]()['isCliEnabled']()&&await this['isCLIReady']()&&(TestInfo[_0x4584bc(0x1a7)](_0x2466a3[_0x4584bc(0x195)]),await BrowserstackCLI[_0x4584bc(0x168)]()[_0x4584bc(0x162)]()[_0x4584bc(0x19a)](TestFrameworkState[_0x4584bc(0x167)],HookState['PRE'],{})));}[a7_0x2354ff(0x181)](_0x572afd){const _0x322bcb=a7_0x2354ff;this['report'][_0x322bcb(0xfd)]=_0x572afd,this[_0x322bcb(0x151)](_0x572afd);}async[a7_0x2354ff(0x1a0)](_0xc8855b,_0x52aef9,_0x350c77){const _0x15fe67=a7_0x2354ff,_0xda9746={'tkaZi':function(_0x2ca087,_0x5d8506){return _0x2ca087(_0x5d8506);},'MjeEJ':_0x15fe67(0x19b),'riSQM':function(_0x25b1ab,_0x2d3dfe){return _0x25b1ab&&_0x2d3dfe;}};testSuites+=0x1;if(_0xda9746[_0x15fe67(0x154)](shouldProcessEventForTesthub,_0xda9746[_0x15fe67(0x173)]))try{this['report'][_0x15fe67(0x145)]=this[_0x15fe67(0x125)][_0x15fe67(0x145)]||{},this[_0x15fe67(0x125)]['testCaseStarted'][_0xc8855b['id']]=_0xc8855b;let _0x622a85=null;BrowserstackCLI[_0x15fe67(0x168)]()[_0x15fe67(0xf5)]()&&await this[_0x15fe67(0x131)]()?_0x622a85=TestInfo[_0x15fe67(0x1a4)](_0xc8855b['id']):_0x622a85=TestDetails[_0x15fe67(0x1a4)](_0xc8855b['id']);_testCasesData[_0xc8855b['id']]=Object['assign']({},_0x350c77);const _0x487e01=this[_0x15fe67(0x125)],_0x312e7c=_0xc8855b[_0x15fe67(0x1a3)],_0x512949=_0x487e01[_0x15fe67(0x161)][_0x15fe67(0x10e)](_0x1d8464=>_0x1d8464['id']===_0x312e7c)[_0x15fe67(0x106)],_0x33b46e=_0x487e01['pickle'][_0x15fe67(0x10e)](_0x596497=>_0x596497['id']===_0x512949),_0xd1c402=_0x487e01[_0x15fe67(0x165)][_0x15fe67(0x10e)](_0x1b358c=>_0x1b358c['uri']===_0x33b46e[_0x15fe67(0x183)]),_0x1fda2e=_0xd1c402[_0x15fe67(0x182)],_0x16dadc={'uuid':_0x622a85,'startedAt':new Date()[_0x15fe67(0x153)]()};if(_0x33b46e){const _0xc536ad={};_0xc536ad[_0x15fe67(0x110)]=_0x33b46e[_0x15fe67(0x110)],_0x16dadc['scenario']=_0xc536ad;}if(_0xda9746[_0x15fe67(0x1b5)](_0xd1c402,_0x1fda2e)){const _0x58a4e4={};_0x58a4e4['path']=_0xd1c402[_0x15fe67(0x183)],_0x58a4e4[_0x15fe67(0x110)]=_0x1fda2e[_0x15fe67(0x110)],_0x58a4e4[_0x15fe67(0x13d)]=_0x1fda2e[_0x15fe67(0x13d)],_0x16dadc[_0x15fe67(0x182)]=_0x58a4e4;}_tests[_0x312e7c]=_0x16dadc;if(BrowserstackCLI['getInstance']()['isCliEnabled']()&&await this[_0x15fe67(0x131)]()){const _0x23b91=await cucumberUtils['createTestFrameworkData'](_0x16dadc,_0x33b46e,_0x350c77,_0xd1c402,_0xc8855b['id'],_0xda9746[_0x15fe67(0x173)]),_0x5c055a={};_0x5c055a[_0x15fe67(0x169)]=_0x23b91,await BrowserstackCLI[_0x15fe67(0x168)]()['getTestFramework']()['trackEvent'](TestFrameworkState['TEST'],HookState[_0x15fe67(0x1a1)],_0x5c055a);return;}await testObservabilityReporter[_0x15fe67(0x108)](_0x350c77,_0xd1c402,_0x33b46e,_0xda9746[_0x15fe67(0x173)],_0x16dadc);}catch(_0x496438){logger[_0x15fe67(0x152)](_0x15fe67(0x163)+util[_0x15fe67(0x18e)](_0x496438)+'\x20');}}async[a7_0x2354ff(0x10b)](_0x63d81b,_0x40d831,_0x391ab5){const _0x568356=a7_0x2354ff,_0x344c3d={'DvMUQ':function(_0x20acf4,_0x2b6055){return _0x20acf4(_0x2b6055);},'eMZaR':_0x568356(0x17d),'WQQsw':'test'};this['logTestCaseFinished'](_0x63d81b);if(_0x344c3d['DvMUQ'](shouldProcessEventForTesthub,_0x344c3d[_0x568356(0x11e)]))try{this[_0x568356(0x125)][_0x568356(0x118)]=this['report']['testCaseFinished']||{},this[_0x568356(0x125)][_0x568356(0x118)][_0x63d81b[_0x568356(0x18d)]]=_0x63d81b,_testCasesData[_0x391ab5['id']]=Object[_0x568356(0x192)]({},_0x391ab5);const _0x49cf73=_0x63d81b[_0x568356(0x18d)],_0x367422=_0x40d831[_0x568356(0x16b)][_0x568356(0x156)][_0x49cf73][_0x568356(0x1a3)],_0x3aa725=_0x40d831[_0x568356(0x16b)][_0x568356(0xf1)][_0x367422],_0x22c747=_0x3aa725[_0x568356(0x106)],_0x47e9db=_0x40d831[_0x568356(0x16b)][_0x568356(0x15b)][_0x22c747],_0x53f006=this[_0x568356(0x13a)](_0x40d831,_0x47e9db),_0x1849d2=_0x53f006[_0x568356(0x182)],_0x270b92=_tests[_0x367422];_0x270b92&&(delete _tests[_0x367422],_0x270b92[_0x568356(0x114)]=new Date()[_0x568356(0x153)]());if(BrowserstackCLI['getInstance']()[_0x568356(0xf5)]()&&await this[_0x568356(0x131)]()){const _0x64c763=await cucumberUtils['createTestFrameworkData'](_0x270b92,_0x47e9db,_0x391ab5,_0x53f006,_0x49cf73,_0x344c3d['eMZaR']),_0x1b115f={};_0x1b115f[_0x568356(0x169)]=_0x64c763,await BrowserstackCLI[_0x568356(0x168)]()[_0x568356(0x162)]()[_0x568356(0x19a)](TestFrameworkState[_0x568356(0x17a)],HookState[_0x568356(0x160)],_0x1b115f);const _0x2212d9={};_0x2212d9[_0x568356(0x126)]=_0x63d81b[_0x568356(0x18d)],_0x2212d9[_0x568356(0x11d)]=_0x344c3d[_0x568356(0x1a8)],await BrowserstackCLI['getInstance']()[_0x568356(0x162)]()['trackEvent'](TestFrameworkState[_0x568356(0x13c)],HookState[_0x568356(0x160)],_0x2212d9);return;}await testObservabilityReporter[_0x568356(0x108)](_0x391ab5,_0x53f006,_0x47e9db,_0x344c3d['eMZaR'],_0x270b92);}catch(_0x1dc7e1){logger[_0x568356(0x152)]('Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20'+util[_0x568356(0x18e)](_0x1dc7e1));}}async['onTestStepStarted'](_0x4c4223,_0x218ff6){const _0x2e605d=a7_0x2354ff,_0x1cb16b={'nRaQj':function(_0x2d5cc9,_0x5cabe0){return _0x2d5cc9(_0x5cabe0);},'exDGJ':_0x2e605d(0x149),'igUxa':function(_0x23509f,_0x3d13c0){return _0x23509f!==_0x3d13c0;},'VGMLa':_0x2e605d(0xf2)};if(_0x1cb16b['nRaQj'](shouldProcessEventForTesthub,_0x1cb16b['exDGJ']))try{this[_0x2e605d(0x125)]['testStepStarted']=this[_0x2e605d(0x125)]['testStepStarted']||{},this[_0x2e605d(0x125)][_0x2e605d(0x16e)][_0x4c4223[_0x2e605d(0x18d)]]=_0x4c4223;const _0x60ad66=_0x4c4223['testCaseStartedId'],_0x32bbd2=_0x218ff6[_0x2e605d(0x16b)][_0x2e605d(0x156)][_0x60ad66][_0x2e605d(0x1a3)],_0x39cd8f=this[_0x2e605d(0x125)][_0x2e605d(0x161)]['find'](_0x3b7b03=>_0x3b7b03['id']===_0x32bbd2)['pickleId'],_0x5799a1=this[_0x2e605d(0x125)][_0x2e605d(0x140)]['find'](_0x4fe906=>_0x4fe906['id']===_0x39cd8f),_0x20d057=this[_0x2e605d(0x125)][_0x2e605d(0x161)][_0x2e605d(0x10e)](_0x3e28ab=>_0x3e28ab['id']===_0x32bbd2)[_0x2e605d(0x1b6)],_0x21e612=this[_0x2e605d(0x125)][_0x2e605d(0x16e)][_0x60ad66][_0x2e605d(0xf2)],_0x350f52=_0x20d057['find'](_0x429a56=>_0x429a56['id']===_0x21e612)[_0x2e605d(0x11f)],_0x13f60c=_0x5799a1['steps'][_0x2e605d(0x10e)](_0x2ae76b=>_0x2ae76b['id']===_0x350f52);if(_0x350f52&&_tests[_0x32bbd2]&&_0x1cb16b['igUxa'](_tests[_0x32bbd2][_0x1cb16b['VGMLa']],_0x21e612)){_tests[_0x32bbd2][_0x1cb16b[_0x2e605d(0xfb)]]=_0x21e612;const _0x5ddd3e={};_0x5ddd3e[_0x2e605d(0x189)]=[];const _0x1256a5=_tests[_0x32bbd2]||_0x5ddd3e;_0x1256a5&&!_0x1256a5[_0x2e605d(0x189)]&&(_0x1256a5[_0x2e605d(0x189)]=[]),_0x1256a5[_0x2e605d(0x189)][_0x2e605d(0xf9)]({'id':_0x13f60c['id'],'text':_0x13f60c[_0x2e605d(0xee)],'started_at':new Date()[_0x2e605d(0x153)]()}),_tests[_0x32bbd2]=_0x1256a5;}if(BrowserstackCLI['getInstance']()[_0x2e605d(0xf5)]()&&await this['isCLIReady']()){const _0x6983f0=await cucumberUtils['createHookData'](this[_0x2e605d(0x125)],_0x60ad66,_0x1cb16b[_0x2e605d(0x146)],_0x20d057,_0x21e612,_tests[_0x32bbd2]);_0x6983f0&&await BrowserstackCLI[_0x2e605d(0x168)]()[_0x2e605d(0x162)]()[_0x2e605d(0x19a)](TestFrameworkState[_0x6983f0[_0x2e605d(0x102)]],HookState[_0x2e605d(0x1a1)],{'hookData':_0x6983f0,'testUUID':_0x4c4223[_0x2e605d(0x18d)]});return;}await testObservabilityReporter['sendHook'](this[_0x2e605d(0x125)],_0x60ad66,_0x1cb16b['exDGJ'],_0x20d057,_0x21e612,_tests[_0x32bbd2]);}catch(_0x59d606){logger[_0x2e605d(0x152)](_0x2e605d(0x134)+util[_0x2e605d(0x18e)](_0x59d606));}}async[a7_0x2354ff(0x12a)](_0x54b4e2,_0x3925c4){const _0x537a97=a7_0x2354ff,_0x445f88={'zqcqW':function(_0x44c50c,_0x3237b7){return _0x44c50c===_0x3237b7;},'wyaTD':_0x537a97(0x10c),'zZPPa':function(_0x48a441,_0x1d5abb){return _0x48a441(_0x1d5abb);},'RGGFc':_0x537a97(0x196),'xcHbx':function(_0x1bba5e,_0x12bb12){return _0x1bba5e===_0x12bb12;},'jSaHV':'failed','rysvH':function(_0x3cd8b9,_0x74e28d){return _0x3cd8b9===_0x74e28d;},'tykYC':function(_0x13491d,_0x1f51ee){return _0x13491d===_0x1f51ee;},'tmqYm':_0x537a97(0x127),'SYAJd':_0x537a97(0xf2),'BDnUj':'HookRunStarted','LJbBI':_0x537a97(0x19c)};this['report'][_0x537a97(0x15d)]=this['report'][_0x537a97(0x15d)]||{},this[_0x537a97(0x125)][_0x537a97(0x15d)][_0x54b4e2[_0x537a97(0x18d)]]=_0x54b4e2;if(_0x445f88[_0x537a97(0x141)](shouldProcessEventForTesthub,_0x445f88[_0x537a97(0x129)]))try{const _0x17b729=_0x54b4e2[_0x537a97(0x18d)],_0x328e7b=_0x3925c4[_0x537a97(0x16b)][_0x537a97(0x156)][_0x17b729][_0x537a97(0x1a3)],_0x2f6473=_0x3925c4[_0x537a97(0x16b)][_0x537a97(0xf1)][_0x328e7b],_0x32900d=_0x2f6473['pickleId'],_0xba309=_0x3925c4[_0x537a97(0x16b)]['pickleMap'][_0x32900d],_0x599e6b=_0x54b4e2[_0x537a97(0xf2)],_0x25f154=_0x2f6473[_0x537a97(0x1b6)],_0xc2d86e=this[_0x537a97(0x16b)]['getTestCaseAttempt'](_0x17b729),_0x327a3b=_0x25f154[_0x537a97(0x10e)](_0x2fda78=>_0x2fda78['id']===_0x599e6b)['pickleStepId'];let _0x199622,_0x2330b6;_0x54b4e2[_0x537a97(0x177)]&&_0x445f88[_0x537a97(0x113)](_0x54b4e2[_0x537a97(0x177)][_0x537a97(0x179)][_0x537a97(0x172)]()[_0x537a97(0x130)](),_0x445f88['jSaHV'])&&(_0x199622=_0x445f88[_0x537a97(0x18b)](_0x54b4e2[_0x537a97(0x177)]['exception'],undefined)?_0x54b4e2['testStepResult'][_0x537a97(0x1a9)]:_0x54b4e2[_0x537a97(0x177)][_0x537a97(0x1b2)][_0x537a97(0x1a9)],_0x2330b6=_0x445f88[_0x537a97(0x1b8)](_0x54b4e2[_0x537a97(0x177)][_0x537a97(0x1b2)],undefined)?_0x445f88[_0x537a97(0x109)]:_0x54b4e2[_0x537a97(0x177)][_0x537a97(0x1a9)]);if(_0x327a3b&&_tests[_0x328e7b][_0x445f88[_0x537a97(0x199)]]){const _0x32baf4=_0xba309['steps']['find'](_0x533bf2=>_0x533bf2['id']===_0x327a3b),_0x15c08a={};_0x15c08a[_0x537a97(0x189)]=[];const _0xde0476=_tests[_0x328e7b]||_0x15c08a;!_0xde0476[_0x537a97(0x189)]?_0xde0476[_0x537a97(0x189)]=[{'id':_0x32baf4['id'],'text':_0x32baf4[_0x537a97(0xee)],'finished_at':new Date()[_0x537a97(0x153)](),'result':_0x54b4e2['testStepResult'][_0x537a97(0x179)],'duration':_0x54b4e2[_0x537a97(0x177)]['duration']['seconds'],'failure':_0x199622,'failureType':_0x2330b6}]:_0xde0476[_0x537a97(0x189)][_0x537a97(0xfe)](_0x182318=>{const _0x46c1c1=_0x537a97;if(_0x445f88[_0x46c1c1(0x14c)](_0x182318['id'],_0x32baf4['id'])){const _0xe49c94=_0x445f88[_0x46c1c1(0x174)]['split']('|');let _0x25eae3=0x0;while(!![]){switch(_0xe49c94[_0x25eae3++]){case'0':_0x182318[_0x46c1c1(0x185)]=_0x54b4e2[_0x46c1c1(0x177)][_0x46c1c1(0x179)];continue;case'1':_0x182318[_0x46c1c1(0x1b1)]=new Date()[_0x46c1c1(0x153)]();continue;case'2':_0x182318[_0x46c1c1(0x135)]=_0x2330b6;continue;case'3':_0x182318[_0x46c1c1(0xed)]=_0x199622;continue;case'4':_0x182318[_0x46c1c1(0x1bc)]=_0x54b4e2[_0x46c1c1(0x177)][_0x46c1c1(0x1bc)][_0x46c1c1(0xfa)];continue;}break;}}}),_tests[_0x328e7b]=_0xde0476;}delete _tests[_0x328e7b][_0x445f88[_0x537a97(0x199)]];if(BrowserstackCLI[_0x537a97(0x168)]()[_0x537a97(0xf5)]()&&await this[_0x537a97(0x131)]()){const _0x51d0c6=await cucumberUtils[_0x537a97(0x107)](this[_0x537a97(0x125)],_0x17b729,_0x445f88['BDnUj'],_0x25f154,_0x599e6b,_tests[_0x328e7b]);if(_0x51d0c6){await BrowserstackCLI[_0x537a97(0x168)]()[_0x537a97(0x162)]()[_0x537a97(0x19a)](TestFrameworkState[_0x51d0c6['hook_type']],HookState[_0x537a97(0x160)],{'hookData':_0x51d0c6,'testUUID':_0x54b4e2[_0x537a97(0x18d)]});const _0x4e52b5={};_0x4e52b5['testUUID']=_0x54b4e2[_0x537a97(0x18d)],_0x4e52b5[_0x537a97(0x11d)]=_0x445f88[_0x537a97(0x12f)],await BrowserstackCLI['getInstance']()[_0x537a97(0x162)]()['trackEvent'](TestFrameworkState[_0x537a97(0x13c)],HookState[_0x537a97(0x160)],_0x4e52b5);}return;}await testObservabilityReporter['sendHook'](this[_0x537a97(0x125)],_0x17b729,_0x445f88[_0x537a97(0x129)],_0x25f154,_0x599e6b,_tests[_0x328e7b]);}catch(_0x19a3f9){logger[_0x537a97(0x152)]('Exception\x20in\x20onTestStepFinished\x20event:\x20'+util[_0x537a97(0x18e)](_0x19a3f9));}}['getGherkinStepMap'](_0x48d69f){const _0x28d74e=a7_0x2354ff,_0x37d595={};return _0x48d69f[_0x28d74e(0x182)][_0x28d74e(0x18c)][_0x28d74e(0x115)](this[_0x28d74e(0xf4)])[_0x28d74e(0x1a5)]()[_0x28d74e(0xfe)](_0xfd23a5=>_0xfd23a5[_0x28d74e(0x189)][_0x28d74e(0xfe)](_0x1e461c=>_0x37d595[_0x1e461c['id']]=_0x1e461c)),_0x37d595;}[a7_0x2354ff(0xf4)](_0x2beb56){const _0x118ba6=a7_0x2354ff,_0x5a7a02={'Kqkig':function(_0x479c54,_0x28deb2){return _0x479c54(_0x28deb2);}};if(!_0x5a7a02[_0x118ba6(0xfc)](isUndefined,_0x2beb56[_0x118ba6(0x16f)]))return[_0x2beb56[_0x118ba6(0x16f)]];else{if(!_0x5a7a02[_0x118ba6(0xfc)](isUndefined,_0x2beb56[_0x118ba6(0x1ab)]))return _0x2beb56[_0x118ba6(0x1ab)][_0x118ba6(0x18c)][_0x118ba6(0x115)](_0x4e2a9c=>!isUndefined(_0x4e2a9c[_0x118ba6(0x16f)])?_0x4e2a9c[_0x118ba6(0x16f)]:_0x4e2a9c[_0x118ba6(0x122)]);};return[_0x2beb56[_0x118ba6(0x122)]];}[a7_0x2354ff(0x13a)](_0x393c02,_0x184347){const _0x2d207e=a7_0x2354ff;return Object[_0x2d207e(0x103)](_0x393c02[_0x2d207e(0x16b)][_0x2d207e(0x18f)])[_0x2d207e(0x10e)](_0x540762=>_0x540762[_0x2d207e(0x183)]===_0x184347[_0x2d207e(0x183)]);}async['ensureCLIInitialized'](){const _0x2ac266=a7_0x2354ff;if(this['cliInitPromise'])return this[_0x2ac266(0x184)];return this[_0x2ac266(0x184)]=this[_0x2ac266(0x1a2)](),this[_0x2ac266(0x184)];}async['_performCLIInitialization'](){const _0x56785c=a7_0x2354ff,_0x2c10dc={'MhusR':'No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','QiXEi':function(_0x187fe3,_0x2f0ee9){return _0x187fe3(_0x2f0ee9);},'zglGo':'../../v2/cliUtils','qYVHI':_0x56785c(0x16d)};try{const _0x5764d5=BrowserstackCLI[_0x56785c(0x168)]();if(_0x5764d5[_0x56785c(0x1b7)]())return logger[_0x56785c(0x152)]('CLI\x20already\x20running\x20-\x20binSessionId:\x20'+_0x5764d5[_0x56785c(0x13b)]),!![];const _0x1deac0=process[_0x56785c(0x123)][_0x56785c(0x15f)];if(!_0x1deac0)return logger[_0x56785c(0x152)](_0x2c10dc['MhusR']),![];const _0x26129f=_0x2c10dc['QiXEi'](require,_0x2c10dc['zglGo']),{FRAMEWORKS:_0x21e30c}=_0x2c10dc[_0x56785c(0x119)](require,_0x2c10dc[_0x56785c(0x144)]);return _0x26129f['setFrameworkDetail'](_0x21e30c[_0x56785c(0x1aa)],_0x21e30c[_0x56785c(0x137)]),logger[_0x56785c(0x152)](_0x56785c(0x19f)+_0x1deac0),await _0x5764d5[_0x56785c(0x194)](),logger[_0x56785c(0x152)](_0x56785c(0xf8)+_0x5764d5[_0x56785c(0x1b7)]()+_0x56785c(0x100)+_0x5764d5[_0x56785c(0x13b)]),_0x5764d5[_0x56785c(0x1b7)]();}catch(_0x5a7527){return logger[_0x56785c(0x152)](_0x56785c(0x150)+util[_0x56785c(0x18e)](_0x5a7527)),![];}}async[a7_0x2354ff(0x131)](){const _0x8d331a=a7_0x2354ff;try{return await this[_0x8d331a(0x10a)](),BrowserstackCLI[_0x8d331a(0x168)]()[_0x8d331a(0x1b7)]();}catch(_0x4aa3a7){return logger[_0x8d331a(0x152)](_0x8d331a(0x1bb)+util[_0x8d331a(0x18e)](_0x4aa3a7)),![];}}}module[a7_0x2354ff(0x180)]=o11yClassErrorHandler(BrowserstackFormatter,[a7_0x2354ff(0x1a0),a7_0x2354ff(0x10b),'onTestStepStarted',a7_0x2354ff(0x12a),a7_0x2354ff(0x14a),a7_0x2354ff(0x181),a7_0x2354ff(0xf4),a7_0x2354ff(0x13a),a7_0x2354ff(0x19d)]);