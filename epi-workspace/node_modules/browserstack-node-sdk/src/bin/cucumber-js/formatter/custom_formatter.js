const a6_0x1b768d=a6_0x417e;function a6_0x417e(_0x51d04a,_0x4707f9){const _0x1a0882=a6_0x1a08();return a6_0x417e=function(_0x417e7f,_0x2de25d){_0x417e7f=_0x417e7f-0x12e;let _0x2c6311=_0x1a0882[_0x417e7f];return _0x2c6311;},a6_0x417e(_0x51d04a,_0x4707f9);}(function(_0xc54676,_0x4b0abf){const _0x497938=a6_0x417e,_0x8989e1=_0xc54676();while(!![]){try{const _0x96a8d5=-parseInt(_0x497938(0x1f8))/0x1+-parseInt(_0x497938(0x1d9))/0x2*(-parseInt(_0x497938(0x1b8))/0x3)+parseInt(_0x497938(0x145))/0x4+-parseInt(_0x497938(0x14e))/0x5*(parseInt(_0x497938(0x1b2))/0x6)+-parseInt(_0x497938(0x1df))/0x7+parseInt(_0x497938(0x12e))/0x8*(-parseInt(_0x497938(0x1db))/0x9)+parseInt(_0x497938(0x1b9))/0xa;if(_0x96a8d5===_0x4b0abf)break;else _0x8989e1['push'](_0x8989e1['shift']());}catch(_0x1eb492){_0x8989e1['push'](_0x8989e1['shift']());}}}(a6_0x1a08,0x9ce27));function a6_0x1a08(){const _0x24b1e9=['hook_type','isRunning','duration','INIT_TEST','nPyLu','rule','uri','scenario','extractStepContainers','../../../helpers/helper','hooks','EfdTG','testStepStarted','KfNNI','NPnmd','logTestRunFinished','onTestRunStarted','pickleId','eventDataCollector','snippetBuilder','onTestRunFinished','onGherkinDocument','test','cucumber-js/test.setup.js','CLI\x20already\x20running\x20-\x20binSessionId:\x20','testSteps','sourceLocation','MUkVU','log','yaqKz','setup','testRunStarted','getGherkinStepMap','noNDX','duCUN','exception','parseTestCaseAttempt','failure','find','_performCLIInitialization','cXnLG','debug','onTestCaseFinished','finished_at','testCaseMap','testCaseAttemptDataMap','TLGLC','report','onTestStepFinished','testCases','HookRunStarted',',\x20binSessionId:\x20','KXemq','PASSED','isCliEnabled','LOG_REPORT','pqlqf','vXhMR','getInstance','eKJHT','vnUpz','pickleMap','rkGtV','../../../helpers/test-observability/error-handler','onPickle','gherkinDocument','stepDefinition','DmfUT','RFqJX','PENDING','@cucumber/cucumber','onHook','../../v2/utils/cucumber-utils.js','children','seconds','envelope','RLskf','__platform','ensureCLIInitialized','toISOString','../../../helpers/logger','testCaseAttempt','description','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','name','testStepResult','cwd','getTestUUID','testCase','FAILED','type','pickle','exports','rVBvv','../../utils/constants','UMVPF','testStepId','1017468uXBGYD','../../v2/state/hookState.js','cliInitPromise','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','getTestCaseAttempt','values','808539CgeGRB','33674290bkvQsb','message','UnhandledError','../../playwright/reporter/test-details.js','keyword','status','QjsXP','steps','env','testCaseStarted','POST','path','4|0|1|2|3','testUUID','onTestStepStarted','UmnrR','forEach','fcehp','yVlnR','winstonLogger','testCaseFinished','failureType','ZcQgI','sendHook','CUCUMBER','getTestFramework','SKIPPED','Exception\x20in\x20onTestStepFinished\x20event:\x20','../test-observability.js','../../v2/browserstackCLI.js','TestRunStarted','GlyHh','2qmJVpZ','Executing\x20tests\x20for\x20','10265121GfPeTs','isCLIReady','AiWnQ','failed','1756762vWsOpz','onTestCaseStarted','RsOOD','IaoRm','testRunFinished','WzhPs','UNDEFINED','BDHWT','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','iXXmq','dXcjy','VfsUz','sendTestRunEventForCucumber','KYzgl','getGherkinDocument','binSessionId','\x20-\x20','Tdxik','feature','text','map','PRE','OyjnK','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','includes','702908VhWHSF','bstack','PLAYWRIGHT','trackEvent','UNKNOWN','supportCodeLibrary','createHookData','../../../helpers/testhub/utils.js','split','8GgBEbW','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','flat','fBJcR','util','testStepFinished','finishedAt','ZMNIF','AMBIGUOUS','incrementCounter','toString','push','rwAot','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','gherkinDocumentMap','RYEGd','onTestCase','result','logTestCaseFinished','hook','rrCFe','background','TuprQ','1148584QRBdqD','setFrameworkDetail','testCaseId','actionLocation','assign','eventBroadcaster','pickleStepId','format','Zxcgv','35fJNlql','onSource','testCaseStartedId'];a6_0x1a08=function(){return _0x24b1e9;};return a6_0x1a08();}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x1b768d(0x15a)),util=require(a6_0x1b768d(0x132)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x1b768d(0x197)),TestDetails=require(a6_0x1b768d(0x1bc)),TestObservabilityReporter=require(a6_0x1b768d(0x1d5)),{o11yClassErrorHandler}=require(a6_0x1b768d(0x190)),{shouldProcessEventForTesthub}=require(a6_0x1b768d(0x1ff)),BrowserstackCLI=require(a6_0x1b768d(0x1d6)),TestFrameworkState=require('../../v2/state/testFrameworkState.js'),HookState=require(a6_0x1b768d(0x1b3)),CucumberUtils=require(a6_0x1b768d(0x199)),TestInfo=require('../../../bin/v2/TestInfo.js'),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x1b768d(0x1a1))[a6_0x1b768d(0x1cc)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x5ac7fd){const _0x56581d=a6_0x1b768d,_0x1aa21c={};_0x1aa21c[_0x56581d(0x173)]=_0x56581d(0x19c);const _0x17d03b=_0x1aa21c;super(_0x5ac7fd),this['report']={},_0x5ac7fd[_0x56581d(0x14a)]['on'](_0x17d03b[_0x56581d(0x173)],async _0x42518f=>{const _0x37b56d=_0x56581d;switch(!![]){case!!_0x42518f[_0x37b56d(0x170)]:this[_0x37b56d(0x161)](_0x42518f[_0x37b56d(0x170)]);break;case!!_0x42518f[_0x37b56d(0x1e3)]:this['onTestRunFinished'](_0x42518f[_0x37b56d(0x1e3)]);break;case!!_0x42518f[_0x37b56d(0x1c2)]:this['onTestCaseStarted'](_0x42518f['testCaseStarted'],_0x5ac7fd,_0x42518f);break;case!!_0x42518f[_0x37b56d(0x1cd)]:this['onTestCaseFinished'](_0x42518f[_0x37b56d(0x1cd)],_0x5ac7fd,_0x42518f);break;case!!_0x42518f['testStepStarted']:this[_0x37b56d(0x1c7)](_0x42518f[_0x37b56d(0x15d)],_0x5ac7fd);break;case!!_0x42518f['testStepFinished']:this[_0x37b56d(0x181)](_0x42518f[_0x37b56d(0x133)],_0x5ac7fd);break;case!!_0x42518f['hook']:this[_0x37b56d(0x198)](_0x42518f[_0x37b56d(0x141)]);break;case!!_0x42518f[_0x37b56d(0x1a9)]:this[_0x37b56d(0x13e)](_0x42518f[_0x37b56d(0x1a9)]);break;case!!_0x42518f[_0x37b56d(0x1ac)]:this['onPickle'](_0x42518f['pickle']);break;case!!_0x42518f['gherkinDocument']:this['onGherkinDocument'](_0x42518f[_0x37b56d(0x192)]);break;}});}[a6_0x1b768d(0x198)](_0x4db7d2){const _0xe33be4=a6_0x1b768d;this['report']['hooks']=Object['assign']([],this[_0xe33be4(0x180)][_0xe33be4(0x15b)]||[]),this['report'][_0xe33be4(0x15b)][_0xe33be4(0x139)](_0x4db7d2);}[a6_0x1b768d(0x191)](_0x5d7f78){const _0x14b75b=a6_0x1b768d;this[_0x14b75b(0x180)][_0x14b75b(0x1ac)]=Object[_0x14b75b(0x149)]([],this[_0x14b75b(0x180)][_0x14b75b(0x1ac)]||[],[_0x5d7f78]),this[_0x14b75b(0x180)]['pickle'][_0x14b75b(0x139)](_0x5d7f78);}[a6_0x1b768d(0x166)](_0x417eee){const _0xd6265d=a6_0x1b768d;this[_0xd6265d(0x180)][_0xd6265d(0x192)]=Object[_0xd6265d(0x149)]([],this[_0xd6265d(0x180)]['gherkinDocument']||[],[_0x417eee]),this[_0xd6265d(0x180)]['gherkinDocument'][_0xd6265d(0x139)](_0x417eee);}[a6_0x1b768d(0x14f)](_0x1ecc07){this['report']['source']=_0x1ecc07;}['onStepDefinition'](_0x56962f){const _0x500fe9=a6_0x1b768d;this['report'][_0x500fe9(0x193)]=Object['assign']([],this[_0x500fe9(0x180)][_0x500fe9(0x193)]||[],[_0x56962f]),this[_0x500fe9(0x180)]['stepDefinition']['push'](_0x56962f);}[a6_0x1b768d(0x13e)](_0x1415b6){const _0x59da0d=a6_0x1b768d;this[_0x59da0d(0x180)][_0x59da0d(0x182)]=Object[_0x59da0d(0x149)]([],this[_0x59da0d(0x180)]['testCases']||[],[_0x1415b6]),this[_0x59da0d(0x180)][_0x59da0d(0x182)]['push'](_0x1415b6);}[a6_0x1b768d(0x140)](_0x322615){const _0x21759e=a6_0x1b768d,_0x350665={'cXnLG':function(_0x1f459e,_0x3c0870){return _0x1f459e!==_0x3c0870;},'IaoRm':_0x21759e(0x1f9),'RFqJX':function(_0x5ec241,_0x22ab4f){return _0x5ec241+_0x22ab4f;},'ZMNIF':function(_0x4ffec9,_0x55b3ac){return _0x4ffec9+_0x55b3ac;},'vnUpz':function(_0x5e7899,_0x46b5d1){return _0x5e7899+_0x46b5d1;},'LoUcM':'\x20\x20\x20\x20','rkGtV':_0x21759e(0x1ef),'noNDX':function(_0x399659,_0x4401ca){return _0x399659===_0x4401ca;},'VfsUz':_0x21759e(0x1aa),'jAIsJ':function(_0x105ebb,_0x52c405,_0x258d01){return _0x105ebb(_0x52c405,_0x258d01);},'pqlqf':'result','BgOcI':_0x21759e(0x1ba),'EEpof':function(_0x5e1a26,_0x1e9323){return _0x5e1a26+_0x1e9323;},'iXXmq':function(_0x545818,_0x4c2d91){return _0x545818+_0x4c2d91;},'RLskf':function(_0x3f0e04,_0x46b7d9){return _0x3f0e04+_0x46b7d9;},'AiWnQ':function(_0x54a6af,_0x52d6ec){return _0x54a6af+_0x52d6ec;},'dXcjy':function(_0x47afd2,_0x5bd541){return _0x47afd2+_0x5bd541;}};_0x350665[_0x21759e(0x179)](global[_0x21759e(0x19e)],undefined)&&this[_0x21759e(0x16d)](_0x350665[_0x21759e(0x1e8)](_0x350665[_0x21759e(0x135)]('\x0a',global[_0x21759e(0x19e)]),'\x0a'));const _0x567bed=this[_0x21759e(0x163)][_0x21759e(0x1b6)](_0x322615[_0x21759e(0x150)]);this[_0x21759e(0x16d)](_0x350665[_0x21759e(0x19d)](_0x350665[_0x21759e(0x1dd)](_0x350665[_0x21759e(0x1e9)](_0x350665[_0x21759e(0x1dd)]('\x20\x20',_0x567bed[_0x21759e(0x192)]['feature'][_0x21759e(0x1a5)]),_0x350665[_0x21759e(0x18f)]),_0x567bed[_0x21759e(0x1ac)][_0x21759e(0x1a5)]),'\x0a'));const _0xe2ee16={};_0xe2ee16[_0x21759e(0x1a7)]=this[_0x21759e(0x1a7)],_0xe2ee16['snippetBuilder']=this[_0x21759e(0x164)],_0xe2ee16[_0x21759e(0x1fd)]=this[_0x21759e(0x1fd)],_0xe2ee16[_0x21759e(0x1a2)]=_0x567bed;const _0x1130f2=formatterHelpers[_0x21759e(0x175)](_0xe2ee16);let _0x3ebb86=![];_0x1130f2['testSteps']['forEach'](_0x227ac6=>{const _0x2ddb71=_0x21759e;if(_0x350665[_0x2ddb71(0x179)](_0x227ac6[_0x2ddb71(0x1a5)],_0x350665[_0x2ddb71(0x1e2)])&&!this['isBstackHook'](_0x227ac6)){totalTests+=0x1,this['log'](_0x350665[_0x2ddb71(0x195)](_0x350665[_0x2ddb71(0x135)](_0x350665[_0x2ddb71(0x195)](_0x350665[_0x2ddb71(0x195)](_0x350665[_0x2ddb71(0x18d)](_0x350665['LoUcM'],_0x227ac6[_0x2ddb71(0x1bd)]),_0x227ac6[_0x2ddb71(0x1f2)]||''),_0x350665[_0x2ddb71(0x18f)]),Status[_0x227ac6[_0x2ddb71(0x13f)][_0x2ddb71(0x1be)]]),'\x0a')),this[_0x2ddb71(0x137)](Status[_0x227ac6[_0x2ddb71(0x13f)]['status']]);if(_0x350665[_0x2ddb71(0x172)](Status[_0x227ac6['result'][_0x2ddb71(0x1be)]],_0x350665[_0x2ddb71(0x1ea)])){_0x3ebb86=!![];const _0x51af2=_0x350665['jAIsJ'](nestedKeyValue,_0x227ac6,[_0x350665[_0x2ddb71(0x189)],_0x350665['BgOcI']]);_0x51af2&&(testsErrorMessage[_0x350665[_0x2ddb71(0x195)](_0x350665['EEpof'](_0x567bed[_0x2ddb71(0x192)]['feature'][_0x2ddb71(0x1a5)],_0x350665[_0x2ddb71(0x18f)]),_0x567bed[_0x2ddb71(0x1ac)][_0x2ddb71(0x1a5)])]=_0x51af2,this[_0x2ddb71(0x16d)](_0x350665[_0x2ddb71(0x135)](_0x51af2,'\x0a')));}}}),_0x3ebb86&&(testSuitesFailed+=0x1),this[_0x21759e(0x16d)]('\x0a');}[a6_0x1b768d(0x160)](_0x4e373e){}['isBstackHook'](_0x1988d9){const _0xb7543f=a6_0x1b768d,_0x1bf00b={};_0x1bf00b['EfdTG']=function(_0x357a30,_0xea9326){return _0x357a30!==_0xea9326;},_0x1bf00b['IuShX']=_0xb7543f(0x168);const _0xd44b1c=_0x1bf00b;if(_0xd44b1c[_0xb7543f(0x15c)](_0x1988d9[_0xb7543f(0x16b)],undefined))return![];if(_0x1988d9[_0xb7543f(0x148)]&&_0x1988d9[_0xb7543f(0x148)][_0xb7543f(0x157)][_0xb7543f(0x1f7)](_0xd44b1c['IuShX']))return!![];return![];}[a6_0x1b768d(0x137)](_0x5bfb09){const _0x4fe4e=a6_0x1b768d,_0x8336dc={};_0x8336dc[_0x4fe4e(0x15f)]=_0x4fe4e(0x1aa),_0x8336dc[_0x4fe4e(0x1ae)]=_0x4fe4e(0x186),_0x8336dc[_0x4fe4e(0x142)]=_0x4fe4e(0x1d3),_0x8336dc[_0x4fe4e(0x16e)]=_0x4fe4e(0x196),_0x8336dc['WzhPs']=_0x4fe4e(0x1e5),_0x8336dc['XLTdb']=_0x4fe4e(0x1fc),_0x8336dc[_0x4fe4e(0x1ca)]=_0x4fe4e(0x136);const _0x204052=_0x8336dc;switch(_0x5bfb09){case _0x204052[_0x4fe4e(0x15f)]:testsFailed+=0x1;break;case _0x204052[_0x4fe4e(0x1ae)]:testsPassed+=0x1;break;case _0x204052['rrCFe']:testsSkipped+=0x1;break;case _0x204052[_0x4fe4e(0x16e)]:testsPending+=0x1;break;case _0x204052[_0x4fe4e(0x1e4)]:testsUndefined+=0x1;break;case _0x204052['XLTdb']:testsUnknown+=0x1;break;case _0x204052['fcehp']:testsAmbiguous+=0x1;break;default:break;}}async[a6_0x1b768d(0x161)](_0x18786){const _0x3eec80=a6_0x1b768d,_0x59ca5f={'NxQdZ':function(_0x262561,_0x4821e1){return _0x262561!==_0x4821e1;},'vXhMR':function(_0x701f8e,_0xbfd042){return _0x701f8e!==_0xbfd042;},'Tdxik':function(_0x1967e2){return _0x1967e2();},'KXemq':function(_0x3bc366,_0x1ed606){return _0x3bc366(_0x1ed606);},'BDUUI':function(_0x106bf4,_0x211d1f){return _0x106bf4+_0x211d1f;},'tHgSi':'cucumber'};let _0x4457da;if(_0x59ca5f['NxQdZ'](process[_0x3eec80(0x1c1)]['CONFIG'],undefined)){const _0x5d14f6=JSON['parse'](process['env']['CONFIG']);_0x4457da=_0x5d14f6['capability'];}_0x59ca5f[_0x3eec80(0x18a)](_0x4457da,undefined)&&_0x59ca5f[_0x3eec80(0x1f0)](isBrowserstackInfra)&&(global['__platform']=_0x59ca5f[_0x3eec80(0x185)](getPlatformName,_0x4457da),this['log'](_0x59ca5f['BDUUI'](_0x3eec80(0x1da)+global[_0x3eec80(0x19e)],'\x0a'))),_0x59ca5f[_0x3eec80(0x1f0)](shouldProcessEventForTesthub)&&(TestDetails[_0x3eec80(0x16f)](),this[_0x3eec80(0x180)][_0x3eec80(0x170)]=_0x18786,BrowserstackCLI[_0x3eec80(0x18b)]()[_0x3eec80(0x187)]()&&await this[_0x3eec80(0x1dc)]()&&(TestInfo[_0x3eec80(0x16f)](_0x59ca5f['tHgSi']),await BrowserstackCLI['getInstance']()['getTestFramework']()[_0x3eec80(0x1fb)](TestFrameworkState[_0x3eec80(0x154)],HookState['PRE'],{})));}[a6_0x1b768d(0x165)](_0xa2ad92){const _0x3dd3a3=a6_0x1b768d;this['report'][_0x3dd3a3(0x1e3)]=_0xa2ad92,this[_0x3dd3a3(0x160)](_0xa2ad92);}async['onTestCaseStarted'](_0xf3e174,_0x42a5de,_0x2d7a78){const _0x4fad81=a6_0x1b768d,_0x33a7bf={'rwAot':function(_0x56d5d5,_0x58ae06){return _0x56d5d5(_0x58ae06);},'UmnrR':_0x4fad81(0x1d7),'fBJcR':function(_0x21f0a3,_0xec5f76){return _0x21f0a3&&_0xec5f76;}};testSuites+=0x1;if(_0x33a7bf[_0x4fad81(0x13a)](shouldProcessEventForTesthub,_0x33a7bf['UmnrR']))try{this[_0x4fad81(0x180)][_0x4fad81(0x1c2)]=this['report']['testCaseStarted']||{},this[_0x4fad81(0x180)][_0x4fad81(0x1c2)][_0xf3e174['id']]=_0xf3e174;let _0x58bce4=null;BrowserstackCLI[_0x4fad81(0x18b)]()['isCliEnabled']()&&await this[_0x4fad81(0x1dc)]()?_0x58bce4=TestInfo['getTestUUID'](_0xf3e174['id']):_0x58bce4=TestDetails[_0x4fad81(0x1a8)](_0xf3e174['id']);_testCasesData[_0xf3e174['id']]=Object[_0x4fad81(0x149)]({},_0x2d7a78);const _0x1bfdb3=this[_0x4fad81(0x180)],_0x49732f=_0xf3e174[_0x4fad81(0x147)],_0x290623=_0x1bfdb3[_0x4fad81(0x182)][_0x4fad81(0x177)](_0x3561e7=>_0x3561e7['id']===_0x49732f)[_0x4fad81(0x162)],_0x15c959=_0x1bfdb3[_0x4fad81(0x1ac)]['find'](_0x454b18=>_0x454b18['id']===_0x290623),_0x3b8d02=_0x1bfdb3[_0x4fad81(0x192)][_0x4fad81(0x177)](_0x3f252b=>_0x3f252b['uri']===_0x15c959[_0x4fad81(0x157)]),_0x3dff1b=_0x3b8d02[_0x4fad81(0x1f1)],_0xfd3b8={'uuid':_0x58bce4,'startedAt':new Date()[_0x4fad81(0x1a0)]()};if(_0x15c959){const _0x1f3dda={};_0x1f3dda[_0x4fad81(0x1a5)]=_0x15c959[_0x4fad81(0x1a5)],_0xfd3b8['scenario']=_0x1f3dda;}if(_0x33a7bf[_0x4fad81(0x131)](_0x3b8d02,_0x3dff1b)){const _0x177ff0={};_0x177ff0[_0x4fad81(0x1c4)]=_0x3b8d02[_0x4fad81(0x157)],_0x177ff0[_0x4fad81(0x1a5)]=_0x3dff1b['name'],_0x177ff0[_0x4fad81(0x1a3)]=_0x3dff1b[_0x4fad81(0x1a3)],_0xfd3b8['feature']=_0x177ff0;}_tests[_0x49732f]=_0xfd3b8;if(BrowserstackCLI[_0x4fad81(0x18b)]()[_0x4fad81(0x187)]()&&await this[_0x4fad81(0x1dc)]()){const _0x16c170=await cucumberUtils['createTestFrameworkData'](_0xfd3b8,_0x15c959,_0x2d7a78,_0x3b8d02,_0xf3e174['id'],_0x33a7bf[_0x4fad81(0x1c8)]),_0x4524dc={};_0x4524dc[_0x4fad81(0x167)]=_0x16c170,await BrowserstackCLI[_0x4fad81(0x18b)]()['getTestFramework']()[_0x4fad81(0x1fb)](TestFrameworkState['TEST'],HookState['PRE'],_0x4524dc);return;}await testObservabilityReporter[_0x4fad81(0x1eb)](_0x2d7a78,_0x3b8d02,_0x15c959,_0x33a7bf['UmnrR'],_0xfd3b8);}catch(_0x5a92da){logger[_0x4fad81(0x17a)](_0x4fad81(0x12f)+util[_0x4fad81(0x14c)](_0x5a92da)+'\x20');}}async[a6_0x1b768d(0x17b)](_0x2bebb6,_0xf0160a,_0x36bb81){const _0x1fc7ef=a6_0x1b768d,_0x442169={'QjsXP':function(_0x3711d2,_0xcda054){return _0x3711d2(_0xcda054);},'DmfUT':'TestRunFinished','KYzgl':'test'};this[_0x1fc7ef(0x140)](_0x2bebb6);if(_0x442169[_0x1fc7ef(0x1bf)](shouldProcessEventForTesthub,_0x442169[_0x1fc7ef(0x194)]))try{this[_0x1fc7ef(0x180)][_0x1fc7ef(0x1cd)]=this[_0x1fc7ef(0x180)][_0x1fc7ef(0x1cd)]||{},this['report'][_0x1fc7ef(0x1cd)][_0x2bebb6[_0x1fc7ef(0x150)]]=_0x2bebb6,_testCasesData[_0x36bb81['id']]=Object[_0x1fc7ef(0x149)]({},_0x36bb81);const _0x177972=_0x2bebb6[_0x1fc7ef(0x150)],_0x3a800b=_0xf0160a[_0x1fc7ef(0x163)][_0x1fc7ef(0x17e)][_0x177972][_0x1fc7ef(0x147)],_0xf9a16f=_0xf0160a[_0x1fc7ef(0x163)][_0x1fc7ef(0x17d)][_0x3a800b],_0xd39a4b=_0xf9a16f[_0x1fc7ef(0x162)],_0x2afcb7=_0xf0160a[_0x1fc7ef(0x163)]['pickleMap'][_0xd39a4b],_0x200323=this[_0x1fc7ef(0x1ed)](_0xf0160a,_0x2afcb7),_0x2e3b9c=_0x200323[_0x1fc7ef(0x1f1)],_0x3ddf29=_tests[_0x3a800b];_0x3ddf29&&(delete _tests[_0x3a800b],_0x3ddf29[_0x1fc7ef(0x134)]=new Date()[_0x1fc7ef(0x1a0)]());if(BrowserstackCLI['getInstance']()[_0x1fc7ef(0x187)]()&&await this['isCLIReady']()){const _0x1e4fe2=await cucumberUtils['createTestFrameworkData'](_0x3ddf29,_0x2afcb7,_0x36bb81,_0x200323,_0x177972,_0x442169['DmfUT']),_0x477977={};_0x477977[_0x1fc7ef(0x167)]=_0x1e4fe2,await BrowserstackCLI[_0x1fc7ef(0x18b)]()[_0x1fc7ef(0x1d2)]()[_0x1fc7ef(0x1fb)](TestFrameworkState['TEST'],HookState[_0x1fc7ef(0x1c3)],_0x477977);const _0x3f3206={};_0x3f3206[_0x1fc7ef(0x1c6)]=_0x2bebb6['testCaseStartedId'],_0x3f3206[_0x1fc7ef(0x1ab)]=_0x442169[_0x1fc7ef(0x1ec)],await BrowserstackCLI[_0x1fc7ef(0x18b)]()[_0x1fc7ef(0x1d2)]()[_0x1fc7ef(0x1fb)](TestFrameworkState[_0x1fc7ef(0x188)],HookState['POST'],_0x3f3206);return;}await testObservabilityReporter['sendTestRunEventForCucumber'](_0x36bb81,_0x200323,_0x2afcb7,_0x442169[_0x1fc7ef(0x194)],_0x3ddf29);}catch(_0x4e7e0c){logger[_0x1fc7ef(0x17a)](_0x1fc7ef(0x1f6)+util[_0x1fc7ef(0x14c)](_0x4e7e0c));}}async['onTestStepStarted'](_0x1c90e2,_0xe2d2b7){const _0x2f8a19=a6_0x1b768d,_0x59111e={'Cuywn':function(_0x695c,_0x2975eb){return _0x695c(_0x2975eb);},'mHZZI':_0x2f8a19(0x183),'MUkVU':function(_0x26bf34,_0x17d896){return _0x26bf34!==_0x17d896;},'GlyHh':_0x2f8a19(0x1b1)};if(_0x59111e['Cuywn'](shouldProcessEventForTesthub,_0x59111e['mHZZI']))try{this['report'][_0x2f8a19(0x15d)]=this[_0x2f8a19(0x180)][_0x2f8a19(0x15d)]||{},this[_0x2f8a19(0x180)][_0x2f8a19(0x15d)][_0x1c90e2[_0x2f8a19(0x150)]]=_0x1c90e2;const _0x11c49a=_0x1c90e2[_0x2f8a19(0x150)],_0x28f9f2=_0xe2d2b7[_0x2f8a19(0x163)][_0x2f8a19(0x17e)][_0x11c49a][_0x2f8a19(0x147)],_0x37a0a8=this[_0x2f8a19(0x180)]['testCases'][_0x2f8a19(0x177)](_0xf340d9=>_0xf340d9['id']===_0x28f9f2)[_0x2f8a19(0x162)],_0x45530b=this[_0x2f8a19(0x180)]['pickle'][_0x2f8a19(0x177)](_0x4bd63c=>_0x4bd63c['id']===_0x37a0a8),_0x4a8145=this[_0x2f8a19(0x180)][_0x2f8a19(0x182)]['find'](_0x45c6d4=>_0x45c6d4['id']===_0x28f9f2)[_0x2f8a19(0x16a)],_0x5e1feb=this[_0x2f8a19(0x180)]['testStepStarted'][_0x11c49a][_0x2f8a19(0x1b1)],_0x22a5bb=_0x4a8145['find'](_0x541099=>_0x541099['id']===_0x5e1feb)[_0x2f8a19(0x14b)],_0x2d211b=_0x45530b[_0x2f8a19(0x1c0)][_0x2f8a19(0x177)](_0x3eedf8=>_0x3eedf8['id']===_0x22a5bb);if(_0x22a5bb&&_tests[_0x28f9f2]&&_0x59111e[_0x2f8a19(0x16c)](_tests[_0x28f9f2][_0x59111e[_0x2f8a19(0x1d8)]],_0x5e1feb)){_tests[_0x28f9f2][_0x59111e['GlyHh']]=_0x5e1feb;const _0xfc28e={};_0xfc28e[_0x2f8a19(0x1c0)]=[];const _0x781837=_tests[_0x28f9f2]||_0xfc28e;_0x781837&&!_0x781837[_0x2f8a19(0x1c0)]&&(_0x781837[_0x2f8a19(0x1c0)]=[]),_0x781837[_0x2f8a19(0x1c0)]['push']({'id':_0x2d211b['id'],'text':_0x2d211b[_0x2f8a19(0x1f2)],'started_at':new Date()['toISOString']()}),_tests[_0x28f9f2]=_0x781837;}if(BrowserstackCLI['getInstance']()[_0x2f8a19(0x187)]()&&await this['isCLIReady']()){const _0x48c3be=await cucumberUtils[_0x2f8a19(0x1fe)](this[_0x2f8a19(0x180)],_0x11c49a,_0x59111e['mHZZI'],_0x4a8145,_0x5e1feb,_tests[_0x28f9f2]);_0x48c3be&&await BrowserstackCLI[_0x2f8a19(0x18b)]()[_0x2f8a19(0x1d2)]()[_0x2f8a19(0x1fb)](TestFrameworkState[_0x48c3be[_0x2f8a19(0x151)]],HookState[_0x2f8a19(0x1f4)],{'hookData':_0x48c3be,'testUUID':_0x1c90e2[_0x2f8a19(0x150)]});return;}await testObservabilityReporter['sendHook'](this[_0x2f8a19(0x180)],_0x11c49a,_0x59111e['mHZZI'],_0x4a8145,_0x5e1feb,_tests[_0x28f9f2]);}catch(_0x14b5d4){logger[_0x2f8a19(0x17a)]('Exception\x20in\x20onTestStepStarted\x20event:\x20'+util[_0x2f8a19(0x14c)](_0x14b5d4));}}async[a6_0x1b768d(0x181)](_0x5293c5,_0x4ba6c7){const _0x3528ea=a6_0x1b768d,_0x2971cb={'KfNNI':function(_0x10413d,_0xf03c04){return _0x10413d===_0xf03c04;},'ZcQgI':_0x3528ea(0x1c5),'Zxcgv':function(_0xa3cae5,_0x55fcd3){return _0xa3cae5(_0x55fcd3);},'TuprQ':'HookRunFinished','yVlnR':_0x3528ea(0x1de),'OyjnK':function(_0x634ac,_0x461b22){return _0x634ac===_0x461b22;},'UMVPF':_0x3528ea(0x1bb),'eKJHT':_0x3528ea(0x1b1),'uqvNf':'HookRunStarted','FcYLm':_0x3528ea(0x141)};this[_0x3528ea(0x180)]['testStepFinished']=this['report'][_0x3528ea(0x133)]||{},this[_0x3528ea(0x180)][_0x3528ea(0x133)][_0x5293c5[_0x3528ea(0x150)]]=_0x5293c5;if(_0x2971cb[_0x3528ea(0x14d)](shouldProcessEventForTesthub,_0x2971cb[_0x3528ea(0x144)]))try{const _0x2f008e=_0x5293c5[_0x3528ea(0x150)],_0x540fdc=_0x4ba6c7['eventDataCollector'][_0x3528ea(0x17e)][_0x2f008e][_0x3528ea(0x147)],_0x3ce898=_0x4ba6c7[_0x3528ea(0x163)][_0x3528ea(0x17d)][_0x540fdc],_0x5b5029=_0x3ce898[_0x3528ea(0x162)],_0xc9234c=_0x4ba6c7['eventDataCollector'][_0x3528ea(0x18e)][_0x5b5029],_0x82c300=_0x5293c5[_0x3528ea(0x1b1)],_0xb6935e=_0x3ce898[_0x3528ea(0x16a)],_0x24a596=this[_0x3528ea(0x163)]['getTestCaseAttempt'](_0x2f008e),_0x27984c=_0xb6935e[_0x3528ea(0x177)](_0x3d90c4=>_0x3d90c4['id']===_0x82c300)[_0x3528ea(0x14b)];let _0x2511d2,_0x3cfc95;_0x5293c5[_0x3528ea(0x1a6)]&&_0x2971cb['KfNNI'](_0x5293c5[_0x3528ea(0x1a6)][_0x3528ea(0x1be)][_0x3528ea(0x138)]()['toLowerCase'](),_0x2971cb[_0x3528ea(0x1cb)])&&(_0x2511d2=_0x2971cb[_0x3528ea(0x1f5)](_0x5293c5[_0x3528ea(0x1a6)][_0x3528ea(0x174)],undefined)?_0x5293c5[_0x3528ea(0x1a6)][_0x3528ea(0x1ba)]:_0x5293c5[_0x3528ea(0x1a6)]['exception'][_0x3528ea(0x1ba)],_0x3cfc95=_0x2971cb['KfNNI'](_0x5293c5[_0x3528ea(0x1a6)][_0x3528ea(0x174)],undefined)?_0x2971cb[_0x3528ea(0x1b0)]:_0x5293c5[_0x3528ea(0x1a6)][_0x3528ea(0x1ba)]);if(_0x27984c&&_tests[_0x540fdc][_0x2971cb['eKJHT']]){const _0x3aa5d8=_0xc9234c[_0x3528ea(0x1c0)][_0x3528ea(0x177)](_0x55d65e=>_0x55d65e['id']===_0x27984c),_0x1bd361={};_0x1bd361['steps']=[];const _0x3df00b=_tests[_0x540fdc]||_0x1bd361;!_0x3df00b[_0x3528ea(0x1c0)]?_0x3df00b[_0x3528ea(0x1c0)]=[{'id':_0x3aa5d8['id'],'text':_0x3aa5d8[_0x3528ea(0x1f2)],'finished_at':new Date()[_0x3528ea(0x1a0)](),'result':_0x5293c5['testStepResult'][_0x3528ea(0x1be)],'duration':_0x5293c5[_0x3528ea(0x1a6)][_0x3528ea(0x153)]['seconds'],'failure':_0x2511d2,'failureType':_0x3cfc95}]:_0x3df00b[_0x3528ea(0x1c0)]['forEach'](_0x84b01a=>{const _0x53b87b=_0x3528ea;if(_0x2971cb[_0x53b87b(0x15e)](_0x84b01a['id'],_0x3aa5d8['id'])){const _0x2e04db=_0x2971cb[_0x53b87b(0x1cf)][_0x53b87b(0x200)]('|');let _0x12ef3d=0x0;while(!![]){switch(_0x2e04db[_0x12ef3d++]){case'0':_0x84b01a['result']=_0x5293c5['testStepResult'][_0x53b87b(0x1be)];continue;case'1':_0x84b01a[_0x53b87b(0x153)]=_0x5293c5[_0x53b87b(0x1a6)][_0x53b87b(0x153)][_0x53b87b(0x19b)];continue;case'2':_0x84b01a[_0x53b87b(0x176)]=_0x2511d2;continue;case'3':_0x84b01a[_0x53b87b(0x1ce)]=_0x3cfc95;continue;case'4':_0x84b01a[_0x53b87b(0x17c)]=new Date()[_0x53b87b(0x1a0)]();continue;}break;}}}),_tests[_0x540fdc]=_0x3df00b;}delete _tests[_0x540fdc][_0x2971cb[_0x3528ea(0x18c)]];if(BrowserstackCLI[_0x3528ea(0x18b)]()[_0x3528ea(0x187)]()&&await this['isCLIReady']()){const _0x4dd7bb=await cucumberUtils[_0x3528ea(0x1fe)](this['report'],_0x2f008e,_0x2971cb['uqvNf'],_0xb6935e,_0x82c300,_tests[_0x540fdc]);if(_0x4dd7bb){await BrowserstackCLI['getInstance']()[_0x3528ea(0x1d2)]()['trackEvent'](TestFrameworkState[_0x4dd7bb[_0x3528ea(0x151)]],HookState[_0x3528ea(0x1c3)],{'hookData':_0x4dd7bb,'testUUID':_0x5293c5['testCaseStartedId']});const _0x50b3ab={};_0x50b3ab[_0x3528ea(0x1c6)]=_0x5293c5[_0x3528ea(0x150)],_0x50b3ab['type']=_0x2971cb['FcYLm'],await BrowserstackCLI[_0x3528ea(0x18b)]()[_0x3528ea(0x1d2)]()['trackEvent'](TestFrameworkState['LOG_REPORT'],HookState[_0x3528ea(0x1c3)],_0x50b3ab);}return;}await testObservabilityReporter[_0x3528ea(0x1d0)](this[_0x3528ea(0x180)],_0x2f008e,_0x2971cb[_0x3528ea(0x144)],_0xb6935e,_0x82c300,_tests[_0x540fdc]);}catch(_0x2998a9){logger[_0x3528ea(0x17a)](_0x3528ea(0x1d4)+util[_0x3528ea(0x14c)](_0x2998a9));}}[a6_0x1b768d(0x171)](_0x17ef04){const _0x3012b1=a6_0x1b768d,_0x1e9525={};return _0x17ef04[_0x3012b1(0x1f1)][_0x3012b1(0x19a)][_0x3012b1(0x1f3)](this[_0x3012b1(0x159)])[_0x3012b1(0x130)]()[_0x3012b1(0x1c9)](_0x74098f=>_0x74098f['steps']['forEach'](_0x52725d=>_0x1e9525[_0x52725d['id']]=_0x52725d)),_0x1e9525;}[a6_0x1b768d(0x159)](_0xeac117){const _0x5cccb8=a6_0x1b768d,_0x5ddf25={'BDHWT':function(_0x307910,_0x46e4ee){return _0x307910(_0x46e4ee);},'RsOOD':function(_0xdd6e2e,_0x242c06){return _0xdd6e2e(_0x242c06);}};if(!_0x5ddf25[_0x5cccb8(0x1e6)](isUndefined,_0xeac117[_0x5cccb8(0x143)]))return[_0xeac117['background']];else{if(!_0x5ddf25[_0x5cccb8(0x1e1)](isUndefined,_0xeac117[_0x5cccb8(0x156)]))return _0xeac117[_0x5cccb8(0x156)][_0x5cccb8(0x19a)]['map'](_0x226082=>!isUndefined(_0x226082[_0x5cccb8(0x143)])?_0x226082[_0x5cccb8(0x143)]:_0x226082[_0x5cccb8(0x158)]);};return[_0xeac117[_0x5cccb8(0x158)]];}['getGherkinDocument'](_0x3f02eb,_0x4d423d){const _0x29293e=a6_0x1b768d;return Object[_0x29293e(0x1b7)](_0x3f02eb[_0x29293e(0x163)][_0x29293e(0x13c)])[_0x29293e(0x177)](_0x3f00fb=>_0x3f00fb[_0x29293e(0x157)]===_0x4d423d['uri']);}async['ensureCLIInitialized'](){const _0x3d932d=a6_0x1b768d;if(this[_0x3d932d(0x1b4)])return this[_0x3d932d(0x1b4)];return this[_0x3d932d(0x1b4)]=this[_0x3d932d(0x178)](),this['cliInitPromise'];}async[a6_0x1b768d(0x178)](){const _0x4dcca3=a6_0x1b768d,_0x70f533={'TLGLC':_0x4dcca3(0x1a4),'RYEGd':function(_0x386de4,_0x78d8a8){return _0x386de4(_0x78d8a8);},'IxyTc':'../../v2/cliUtils','nPyLu':_0x4dcca3(0x1af)};try{const _0x575300=BrowserstackCLI[_0x4dcca3(0x18b)]();if(_0x575300[_0x4dcca3(0x152)]())return logger['debug'](_0x4dcca3(0x169)+_0x575300[_0x4dcca3(0x1ee)]),!![];const _0xdfecbc=process[_0x4dcca3(0x1c1)]['BROWSERSTACK_CLI_BIN_SESSION_ID'];if(!_0xdfecbc)return logger['debug'](_0x70f533[_0x4dcca3(0x17f)]),![];const _0x1e0d9a=_0x70f533[_0x4dcca3(0x13d)](require,_0x70f533['IxyTc']),{FRAMEWORKS:_0x4f2757}=_0x70f533[_0x4dcca3(0x13d)](require,_0x70f533[_0x4dcca3(0x155)]);return _0x1e0d9a[_0x4dcca3(0x146)](_0x4f2757[_0x4dcca3(0x1d1)],_0x4f2757[_0x4dcca3(0x1fa)]),logger[_0x4dcca3(0x17a)]('Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20'+_0xdfecbc),await _0x575300['bootstrap'](),logger[_0x4dcca3(0x17a)](_0x4dcca3(0x13b)+_0x575300[_0x4dcca3(0x152)]()+_0x4dcca3(0x184)+_0x575300[_0x4dcca3(0x1ee)]),_0x575300[_0x4dcca3(0x152)]();}catch(_0x4942c9){return logger[_0x4dcca3(0x17a)](_0x4dcca3(0x1e7)+util['format'](_0x4942c9)),![];}}async[a6_0x1b768d(0x1dc)](){const _0x1f7f0b=a6_0x1b768d;try{return await this[_0x1f7f0b(0x19f)](),BrowserstackCLI[_0x1f7f0b(0x18b)]()[_0x1f7f0b(0x152)]();}catch(_0x52b3d5){return logger['debug'](_0x1f7f0b(0x1b5)+util[_0x1f7f0b(0x14c)](_0x52b3d5)),![];}}}module[a6_0x1b768d(0x1ad)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x1b768d(0x1e0),a6_0x1b768d(0x17b),'onTestStepStarted',a6_0x1b768d(0x181),'onTestRunStarted',a6_0x1b768d(0x165),a6_0x1b768d(0x159),a6_0x1b768d(0x1ed),a6_0x1b768d(0x171)]);