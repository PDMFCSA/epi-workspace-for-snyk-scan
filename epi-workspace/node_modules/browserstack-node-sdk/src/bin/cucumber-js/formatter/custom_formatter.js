const a6_0x9974d6=a6_0x3140;function a6_0x5e33(){const _0xc6039=['cliInitPromise','getInstance','seconds','description','uri','\x20\x20\x20\x20','gherkinDocumentMap','FAILED','Executing\x20tests\x20for\x20','FmixC','message','ELnJf','sendHook','INIT_TEST','testSteps','testCase','NpPHZ','GmHgD','iAMYN','YUMcz','flat','includes','uRdpD','createTestFrameworkData','ErNhR','log','testCaseFinished','supportCodeLibrary','getGherkinDocument','find','children','zeAQG','BROWSERSTACK_CLI_BIN_SESSION_ID','onTestCaseFinished','testCaseStartedId','ryonB','report','rule','text','\x20-\x20','split','ensureCLIInitialized','logTestRunFinished','sendTestRunEventForCucumber','hooks','incrementCounter','isBstackHook','type','failureType','790480EAfwbD','uVraH','_performCLIInitialization','background','isCLIReady','CLI\x20already\x20running\x20-\x20binSessionId:\x20','duration','isRunning','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','testCaseMap','extractStepContainers','NoooP','LOG_REPORT','testCaseId','../../../bin/v2/TestInfo.js','name','bwaZp','debug','../../v2/state/hookState.js','eventDataCollector','dLuiY','../../../helpers/logger','AAHjO','failure','wbNhX','CONFIG','__platform','push','gdHBR','onHook','../../v2/state/testFrameworkState.js','onTestStepFinished','GTYGw','setup','onTestRunFinished','yAEWE','../../utils/constants','onTestCase','testRunStarted','testCaseStarted','azMvC','eventBroadcaster','failed','result','Exception\x20in\x20onTestStepStarted\x20event:\x20','ExODW','onGherkinDocument','rZmBe','fvMsk','steps','cucumber','onTestCaseStarted','testStepFinished','PRE','exports','../../v2/cliUtils','testCases','setFrameworkDetail','VIwSd','pickleStepId','3683628wvRbZb','exception','util','AWitN','Exception\x20in\x20onTestStepFinished\x20event:\x20','env','wvyxg','onPickle','201350mThxwp','trackEvent','TestRunStarted','bstack','finished_at','HookRunFinished','OjZxw','source','snippetBuilder','UNDEFINED','onTestRunStarted','envelope','CUCUMBER','forEach','test','JQqqp','map','../../../helpers/test-observability/error-handler','@cucumber/cucumber','pickle','../test-observability.js','xChCx','HookRunStarted','isCliEnabled','USGfD','JKqMF','iYoJC','POST','testUUID','pickleMap','keyword','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','testRunFinished','../../../helpers/helper','getGherkinStepMap','gherkinDocument','testStepResult','../../playwright/reporter/test-details.js','testStepStarted','getTestCaseAttempt','parseTestCaseAttempt','logTestCaseFinished','HxbSQ','feature','yslar','assign','yFwMl','testStepId','UNKNOWN','KLJIK','TEST','qDJTi','../../v2/browserstackCLI.js','NNqgN','pickleId','toISOString','gQXZh','15619303slasUX','path','binSessionId','format','capability','2857332awqoEE','320220SIqETk','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','toString','cpPcD','hook_type','scenario','bootstrap','testCaseAttemptDataMap','getTestFramework','status','createHookData','onTestStepStarted','TestRunFinished','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','gpcFx','gUrvL','actionLocation','2648505hRvZeQ','hook','finishedAt','stepDefinition'];a6_0x5e33=function(){return _0xc6039;};return a6_0x5e33();}(function(_0x4950bc,_0x885a21){const _0x34b864=a6_0x3140,_0x1d23cc=_0x4950bc();while(!![]){try{const _0x590cc8=-parseInt(_0x34b864(0x22a))/0x1+-parseInt(_0x34b864(0x1a5))/0x2+-parseInt(_0x34b864(0x1f5))/0x3+parseInt(_0x34b864(0x1e3))/0x4+-parseInt(_0x34b864(0x1e4))/0x5+-parseInt(_0x34b864(0x19d))/0x6+parseInt(_0x34b864(0x1de))/0x7;if(_0x590cc8===_0x885a21)break;else _0x1d23cc['push'](_0x1d23cc['shift']());}catch(_0x244a7b){_0x1d23cc['push'](_0x1d23cc['shift']());}}}(a6_0x5e33,0x7887a));function a6_0x3140(_0x16f208,_0x24ad22){const _0x5e3394=a6_0x5e33();return a6_0x3140=function(_0x3140e4,_0x1903cd){_0x3140e4=_0x3140e4-0x187;let _0x14d662=_0x5e3394[_0x3140e4];return _0x14d662;},a6_0x3140(_0x16f208,_0x24ad22);}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x9974d6(0x1c6)),util=require(a6_0x9974d6(0x19f)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x9974d6(0x1b7)),TestDetails=require(a6_0x9974d6(0x1ca)),TestObservabilityReporter=require(a6_0x9974d6(0x1b9)),{o11yClassErrorHandler}=require(a6_0x9974d6(0x1b6)),{shouldProcessEventForTesthub}=require('../../../helpers/testhub/utils.js'),BrowserstackCLI=require(a6_0x9974d6(0x1d9)),TestFrameworkState=require(a6_0x9974d6(0x249)),HookState=require(a6_0x9974d6(0x23d)),CucumberUtils=require('../../v2/utils/cucumber-utils.js'),TestInfo=require(a6_0x9974d6(0x239)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x9974d6(0x240))['winstonLogger'],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x4a58cf){const _0xb71e4a=a6_0x9974d6,_0x133d56={};_0x133d56[_0xb71e4a(0x20a)]=_0xb71e4a(0x1b0);const _0x146f35=_0x133d56;super(_0x4a58cf),this[_0xb71e4a(0x21d)]={},_0x4a58cf[_0xb71e4a(0x18a)]['on'](_0x146f35[_0xb71e4a(0x20a)],async _0x2a6a55=>{const _0x3c7782=_0xb71e4a;switch(!![]){case!!_0x2a6a55[_0x3c7782(0x187)]:this[_0x3c7782(0x1af)](_0x2a6a55[_0x3c7782(0x187)]);break;case!!_0x2a6a55[_0x3c7782(0x1c5)]:this[_0x3c7782(0x24d)](_0x2a6a55['testRunFinished']);break;case!!_0x2a6a55[_0x3c7782(0x188)]:this['onTestCaseStarted'](_0x2a6a55[_0x3c7782(0x188)],_0x4a58cf,_0x2a6a55);break;case!!_0x2a6a55[_0x3c7782(0x213)]:this['onTestCaseFinished'](_0x2a6a55[_0x3c7782(0x213)],_0x4a58cf,_0x2a6a55);break;case!!_0x2a6a55['testStepStarted']:this['onTestStepStarted'](_0x2a6a55[_0x3c7782(0x1cb)],_0x4a58cf);break;case!!_0x2a6a55[_0x3c7782(0x195)]:this[_0x3c7782(0x24a)](_0x2a6a55['testStepFinished'],_0x4a58cf);break;case!!_0x2a6a55['hook']:this['onHook'](_0x2a6a55[_0x3c7782(0x1f6)]);break;case!!_0x2a6a55[_0x3c7782(0x208)]:this[_0x3c7782(0x250)](_0x2a6a55[_0x3c7782(0x208)]);break;case!!_0x2a6a55['pickle']:this['onPickle'](_0x2a6a55['pickle']);break;case!!_0x2a6a55['gherkinDocument']:this[_0x3c7782(0x18f)](_0x2a6a55[_0x3c7782(0x1c8)]);break;}});}[a6_0x9974d6(0x248)](_0x57460e){const _0x987a85=a6_0x9974d6;this[_0x987a85(0x21d)][_0x987a85(0x225)]=Object[_0x987a85(0x1d2)]([],this['report']['hooks']||[]),this[_0x987a85(0x21d)][_0x987a85(0x225)]['push'](_0x57460e);}[a6_0x9974d6(0x1a4)](_0xcde804){const _0x22c567=a6_0x9974d6;this['report'][_0x22c567(0x1b8)]=Object[_0x22c567(0x1d2)]([],this['report'][_0x22c567(0x1b8)]||[],[_0xcde804]),this[_0x22c567(0x21d)]['pickle'][_0x22c567(0x246)](_0xcde804);}['onGherkinDocument'](_0x4fd43c){const _0x12f385=a6_0x9974d6;this[_0x12f385(0x21d)][_0x12f385(0x1c8)]=Object[_0x12f385(0x1d2)]([],this[_0x12f385(0x21d)][_0x12f385(0x1c8)]||[],[_0x4fd43c]),this[_0x12f385(0x21d)][_0x12f385(0x1c8)][_0x12f385(0x246)](_0x4fd43c);}['onSource'](_0x1d800f){const _0x4e4540=a6_0x9974d6;this[_0x4e4540(0x21d)][_0x4e4540(0x1ac)]=_0x1d800f;}['onStepDefinition'](_0x4f6c22){const _0x231925=a6_0x9974d6;this[_0x231925(0x21d)][_0x231925(0x1f8)]=Object[_0x231925(0x1d2)]([],this[_0x231925(0x21d)]['stepDefinition']||[],[_0x4f6c22]),this[_0x231925(0x21d)][_0x231925(0x1f8)]['push'](_0x4f6c22);}[a6_0x9974d6(0x250)](_0x5d4366){const _0x42f805=a6_0x9974d6;this[_0x42f805(0x21d)][_0x42f805(0x199)]=Object[_0x42f805(0x1d2)]([],this[_0x42f805(0x21d)][_0x42f805(0x199)]||[],[_0x5d4366]),this[_0x42f805(0x21d)][_0x42f805(0x199)][_0x42f805(0x246)](_0x5d4366);}[a6_0x9974d6(0x1ce)](_0x56e3b6){const _0x72318e=a6_0x9974d6,_0x519330={'wvyxg':function(_0x5a8a23,_0x370cba){return _0x5a8a23!==_0x370cba;},'gdHBR':_0x72318e(0x1a8),'NNqgN':function(_0x4c586c,_0x1f3be7){return _0x4c586c+_0x1f3be7;},'uRdpD':function(_0x5218fe,_0x377bd6){return _0x5218fe+_0x377bd6;},'KruRh':_0x72318e(0x1fe),'JQqqp':_0x72318e(0x220),'JXCEZ':function(_0x3d0d90,_0x3e51ff){return _0x3d0d90===_0x3e51ff;},'yFwMl':_0x72318e(0x200),'ryonB':function(_0x5c607e,_0x3cc819,_0x3600d7){return _0x5c607e(_0x3cc819,_0x3600d7);},'AWitN':'result','GYuwc':_0x72318e(0x203),'wbNhX':function(_0x203229,_0x58802e){return _0x203229+_0x58802e;},'xChCx':function(_0x6e9ebd,_0x875b1e){return _0x6e9ebd+_0x875b1e;}};_0x519330[_0x72318e(0x1a3)](global[_0x72318e(0x245)],undefined)&&this[_0x72318e(0x212)](_0x519330[_0x72318e(0x243)](_0x519330['NNqgN']('\x0a',global['__platform']),'\x0a'));const _0x574f06=this[_0x72318e(0x23e)][_0x72318e(0x1cc)](_0x56e3b6[_0x72318e(0x21b)]);this[_0x72318e(0x212)](_0x519330[_0x72318e(0x1da)](_0x519330[_0x72318e(0x243)](_0x519330[_0x72318e(0x1ba)](_0x519330[_0x72318e(0x1ba)]('\x20\x20',_0x574f06[_0x72318e(0x1c8)]['feature'][_0x72318e(0x23a)]),_0x519330[_0x72318e(0x1b4)]),_0x574f06[_0x72318e(0x1b8)][_0x72318e(0x23a)]),'\x0a'));const _0x256f99={};_0x256f99['cwd']=this['cwd'],_0x256f99[_0x72318e(0x1ad)]=this['snippetBuilder'],_0x256f99[_0x72318e(0x214)]=this[_0x72318e(0x214)],_0x256f99['testCaseAttempt']=_0x574f06;const _0x46dfcf=formatterHelpers[_0x72318e(0x1cd)](_0x256f99);let _0x35cbe4=![];_0x46dfcf[_0x72318e(0x207)][_0x72318e(0x1b2)](_0x27d626=>{const _0x2e7d33=_0x72318e;if(_0x519330[_0x2e7d33(0x1a3)](_0x27d626[_0x2e7d33(0x23a)],_0x519330[_0x2e7d33(0x247)])&&!this[_0x2e7d33(0x227)](_0x27d626)){totalTests+=0x1,this[_0x2e7d33(0x212)](_0x519330['NNqgN'](_0x519330[_0x2e7d33(0x20f)](_0x519330['uRdpD'](_0x519330[_0x2e7d33(0x20f)](_0x519330[_0x2e7d33(0x1da)](_0x519330['KruRh'],_0x27d626[_0x2e7d33(0x1c3)]),_0x27d626['text']||''),_0x519330[_0x2e7d33(0x1b4)]),Status[_0x27d626[_0x2e7d33(0x18c)][_0x2e7d33(0x1ed)]]),'\x0a')),this[_0x2e7d33(0x226)](Status[_0x27d626[_0x2e7d33(0x18c)][_0x2e7d33(0x1ed)]]);if(_0x519330['JXCEZ'](Status[_0x27d626[_0x2e7d33(0x18c)][_0x2e7d33(0x1ed)]],_0x519330[_0x2e7d33(0x1d3)])){_0x35cbe4=!![];const _0x32ee3e=_0x519330[_0x2e7d33(0x21c)](nestedKeyValue,_0x27d626,[_0x519330[_0x2e7d33(0x1a0)],_0x519330['GYuwc']]);_0x32ee3e&&(testsErrorMessage[_0x519330['NNqgN'](_0x519330['uRdpD'](_0x574f06[_0x2e7d33(0x1c8)][_0x2e7d33(0x1d0)][_0x2e7d33(0x23a)],_0x519330[_0x2e7d33(0x1b4)]),_0x574f06[_0x2e7d33(0x1b8)][_0x2e7d33(0x23a)])]=_0x32ee3e,this['log'](_0x519330[_0x2e7d33(0x20f)](_0x32ee3e,'\x0a')));}}}),_0x35cbe4&&(testSuitesFailed+=0x1),this[_0x72318e(0x212)]('\x0a');}['logTestRunFinished'](_0x4d2e76){}[a6_0x9974d6(0x227)](_0x2d78ee){const _0x2f3518=a6_0x9974d6,_0x2a42f8={};_0x2a42f8[_0x2f3518(0x22b)]=function(_0x4b11d6,_0x38bfa6){return _0x4b11d6!==_0x38bfa6;},_0x2a42f8[_0x2f3518(0x23f)]='cucumber-js/test.setup.js';const _0x510ea8=_0x2a42f8;if(_0x510ea8['uVraH'](_0x2d78ee['sourceLocation'],undefined))return![];if(_0x2d78ee[_0x2f3518(0x1f4)]&&_0x2d78ee[_0x2f3518(0x1f4)][_0x2f3518(0x1fd)][_0x2f3518(0x20e)](_0x510ea8[_0x2f3518(0x23f)]))return!![];return![];}[a6_0x9974d6(0x226)](_0x5b8dd9){const _0x363823=a6_0x9974d6,_0x55fac2={};_0x55fac2[_0x363823(0x19b)]=_0x363823(0x200),_0x55fac2[_0x363823(0x191)]='PASSED',_0x55fac2[_0x363823(0x189)]='SKIPPED',_0x55fac2[_0x363823(0x23b)]='PENDING',_0x55fac2[_0x363823(0x1d1)]=_0x363823(0x1ae),_0x55fac2[_0x363823(0x211)]=_0x363823(0x1d5),_0x55fac2['enmDA']='AMBIGUOUS';const _0x261af7=_0x55fac2;switch(_0x5b8dd9){case _0x261af7[_0x363823(0x19b)]:testsFailed+=0x1;break;case _0x261af7[_0x363823(0x191)]:testsPassed+=0x1;break;case _0x261af7[_0x363823(0x189)]:testsSkipped+=0x1;break;case _0x261af7[_0x363823(0x23b)]:testsPending+=0x1;break;case _0x261af7['yslar']:testsUndefined+=0x1;break;case _0x261af7['ErNhR']:testsUnknown+=0x1;break;case _0x261af7['enmDA']:testsAmbiguous+=0x1;break;default:break;}}async[a6_0x9974d6(0x1af)](_0x464f3a){const _0x17fc4a=a6_0x9974d6,_0x48efa4={'HxbSQ':function(_0x90f65,_0x21c0e4){return _0x90f65!==_0x21c0e4;},'UVugK':function(_0x59323e){return _0x59323e();},'HlHqs':function(_0x1626cf,_0x2fa5f0){return _0x1626cf(_0x2fa5f0);},'pCYpy':function(_0x1f42a9,_0x4a9304){return _0x1f42a9+_0x4a9304;},'vkQbH':_0x17fc4a(0x193)};let _0x1ddf9e;if(_0x48efa4[_0x17fc4a(0x1cf)](process[_0x17fc4a(0x1a2)][_0x17fc4a(0x244)],undefined)){const _0x5c7ff2=JSON['parse'](process[_0x17fc4a(0x1a2)][_0x17fc4a(0x244)]);_0x1ddf9e=_0x5c7ff2[_0x17fc4a(0x1e2)];}_0x48efa4[_0x17fc4a(0x1cf)](_0x1ddf9e,undefined)&&_0x48efa4['UVugK'](isBrowserstackInfra)&&(global[_0x17fc4a(0x245)]=_0x48efa4['HlHqs'](getPlatformName,_0x1ddf9e),this[_0x17fc4a(0x212)](_0x48efa4['pCYpy'](_0x17fc4a(0x201)+global[_0x17fc4a(0x245)],'\x0a'))),_0x48efa4['UVugK'](shouldProcessEventForTesthub)&&(TestDetails[_0x17fc4a(0x24c)](),this['report'][_0x17fc4a(0x187)]=_0x464f3a,BrowserstackCLI[_0x17fc4a(0x1fa)]()[_0x17fc4a(0x1bc)]()&&await this['isCLIReady']()&&(TestInfo[_0x17fc4a(0x24c)](_0x48efa4['vkQbH']),await BrowserstackCLI['getInstance']()[_0x17fc4a(0x1ec)]()[_0x17fc4a(0x1a6)](TestFrameworkState[_0x17fc4a(0x206)],HookState[_0x17fc4a(0x196)],{})));}[a6_0x9974d6(0x24d)](_0x526a79){const _0x8f2afa=a6_0x9974d6;this['report']['testRunFinished']=_0x526a79,this[_0x8f2afa(0x223)](_0x526a79);}async[a6_0x9974d6(0x194)](_0x2d28c6,_0x31f627,_0x530628){const _0x4e1011=a6_0x9974d6,_0x279fc0={'PgXrL':function(_0x401386,_0x5cbf77){return _0x401386(_0x5cbf77);},'rZmBe':_0x4e1011(0x1a7),'gUrvL':function(_0x52848f,_0x563bd4){return _0x52848f&&_0x563bd4;}};testSuites+=0x1;if(_0x279fc0['PgXrL'](shouldProcessEventForTesthub,_0x279fc0[_0x4e1011(0x190)]))try{this[_0x4e1011(0x21d)][_0x4e1011(0x188)]=this[_0x4e1011(0x21d)]['testCaseStarted']||{},this[_0x4e1011(0x21d)][_0x4e1011(0x188)][_0x2d28c6['id']]=_0x2d28c6;let _0x19cbc7=null;BrowserstackCLI[_0x4e1011(0x1fa)]()[_0x4e1011(0x1bc)]()&&await this[_0x4e1011(0x22e)]()?_0x19cbc7=TestInfo['getTestUUID'](_0x2d28c6['id']):_0x19cbc7=TestDetails['getTestUUID'](_0x2d28c6['id']);_testCasesData[_0x2d28c6['id']]=Object[_0x4e1011(0x1d2)]({},_0x530628);const _0x5f1bbc=this[_0x4e1011(0x21d)],_0x468957=_0x2d28c6[_0x4e1011(0x238)],_0x4c6995=_0x5f1bbc[_0x4e1011(0x199)]['find'](_0x5995d5=>_0x5995d5['id']===_0x468957)[_0x4e1011(0x1db)],_0x10cce0=_0x5f1bbc['pickle'][_0x4e1011(0x216)](_0x20d19c=>_0x20d19c['id']===_0x4c6995),_0x5e9fc6=_0x5f1bbc[_0x4e1011(0x1c8)][_0x4e1011(0x216)](_0x2db110=>_0x2db110['uri']===_0x10cce0[_0x4e1011(0x1fd)]),_0xb4aed1=_0x5e9fc6[_0x4e1011(0x1d0)],_0x10347a={'uuid':_0x19cbc7,'startedAt':new Date()[_0x4e1011(0x1dc)]()};if(_0x10cce0){const _0x5083b2={};_0x5083b2['name']=_0x10cce0[_0x4e1011(0x23a)],_0x10347a[_0x4e1011(0x1e9)]=_0x5083b2;}if(_0x279fc0[_0x4e1011(0x1f3)](_0x5e9fc6,_0xb4aed1)){const _0x5a5385={};_0x5a5385[_0x4e1011(0x1df)]=_0x5e9fc6[_0x4e1011(0x1fd)],_0x5a5385['name']=_0xb4aed1['name'],_0x5a5385[_0x4e1011(0x1fc)]=_0xb4aed1[_0x4e1011(0x1fc)],_0x10347a[_0x4e1011(0x1d0)]=_0x5a5385;}_tests[_0x468957]=_0x10347a;if(BrowserstackCLI[_0x4e1011(0x1fa)]()[_0x4e1011(0x1bc)]()&&await this['isCLIReady']()){const _0x1720cf=await cucumberUtils[_0x4e1011(0x210)](_0x10347a,_0x10cce0,_0x530628,_0x5e9fc6,_0x2d28c6['id'],_0x279fc0[_0x4e1011(0x190)]),_0x2793d3={};_0x2793d3[_0x4e1011(0x1b3)]=_0x1720cf,await BrowserstackCLI['getInstance']()[_0x4e1011(0x1ec)]()[_0x4e1011(0x1a6)](TestFrameworkState[_0x4e1011(0x1d7)],HookState[_0x4e1011(0x196)],_0x2793d3);return;}await testObservabilityReporter[_0x4e1011(0x224)](_0x530628,_0x5e9fc6,_0x10cce0,_0x279fc0[_0x4e1011(0x190)],_0x10347a);}catch(_0x53d3f2){logger[_0x4e1011(0x23c)](_0x4e1011(0x1c4)+util['format'](_0x53d3f2)+'\x20');}}async[a6_0x9974d6(0x21a)](_0x490891,_0xfa899c,_0x3f9b44){const _0x46303a=a6_0x9974d6,_0x5aeaf9={'iAMYN':function(_0x52a3ec,_0x505c28){return _0x52a3ec(_0x505c28);},'iYoJC':_0x46303a(0x1f0),'WgUIN':_0x46303a(0x1b3)};this[_0x46303a(0x1ce)](_0x490891);if(_0x5aeaf9[_0x46303a(0x20b)](shouldProcessEventForTesthub,_0x5aeaf9['iYoJC']))try{this[_0x46303a(0x21d)][_0x46303a(0x213)]=this[_0x46303a(0x21d)]['testCaseFinished']||{},this[_0x46303a(0x21d)]['testCaseFinished'][_0x490891[_0x46303a(0x21b)]]=_0x490891,_testCasesData[_0x3f9b44['id']]=Object['assign']({},_0x3f9b44);const _0x4bba6e=_0x490891[_0x46303a(0x21b)],_0x95c8a=_0xfa899c[_0x46303a(0x23e)][_0x46303a(0x1eb)][_0x4bba6e][_0x46303a(0x238)],_0x5510d1=_0xfa899c['eventDataCollector'][_0x46303a(0x234)][_0x95c8a],_0x326c8f=_0x5510d1[_0x46303a(0x1db)],_0x3b0389=_0xfa899c['eventDataCollector']['pickleMap'][_0x326c8f],_0x1e741f=this[_0x46303a(0x215)](_0xfa899c,_0x3b0389),_0x5dc314=_0x1e741f['feature'],_0x4bd242=_tests[_0x95c8a];_0x4bd242&&(delete _tests[_0x95c8a],_0x4bd242[_0x46303a(0x1f7)]=new Date()[_0x46303a(0x1dc)]());if(BrowserstackCLI[_0x46303a(0x1fa)]()['isCliEnabled']()&&await this[_0x46303a(0x22e)]()){const _0x6f0fb3=await cucumberUtils[_0x46303a(0x210)](_0x4bd242,_0x3b0389,_0x3f9b44,_0x1e741f,_0x4bba6e,_0x5aeaf9[_0x46303a(0x1bf)]),_0x1b2ee4={};_0x1b2ee4['test']=_0x6f0fb3,await BrowserstackCLI[_0x46303a(0x1fa)]()[_0x46303a(0x1ec)]()[_0x46303a(0x1a6)](TestFrameworkState[_0x46303a(0x1d7)],HookState['POST'],_0x1b2ee4);const _0x55989d={};_0x55989d['testUUID']=_0x490891[_0x46303a(0x21b)],_0x55989d[_0x46303a(0x228)]=_0x5aeaf9['WgUIN'],await BrowserstackCLI['getInstance']()[_0x46303a(0x1ec)]()[_0x46303a(0x1a6)](TestFrameworkState[_0x46303a(0x237)],HookState[_0x46303a(0x1c0)],_0x55989d);return;}await testObservabilityReporter[_0x46303a(0x224)](_0x3f9b44,_0x1e741f,_0x3b0389,_0x5aeaf9[_0x46303a(0x1bf)],_0x4bd242);}catch(_0x360501){logger['debug']('Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20'+util[_0x46303a(0x1e1)](_0x360501));}}async[a6_0x9974d6(0x1ef)](_0x317ae3,_0x2409cf){const _0x4dd62f=a6_0x9974d6,_0x56e8ac={'YcvoL':function(_0x9726a5,_0x3b9bd4){return _0x9726a5(_0x3b9bd4);},'gQXZh':_0x4dd62f(0x1bb),'yAEWE':function(_0x2b1e39,_0x25485e){return _0x2b1e39!==_0x25485e;},'YUMcz':_0x4dd62f(0x1d4)};if(_0x56e8ac['YcvoL'](shouldProcessEventForTesthub,_0x56e8ac[_0x4dd62f(0x1dd)]))try{this[_0x4dd62f(0x21d)]['testStepStarted']=this[_0x4dd62f(0x21d)][_0x4dd62f(0x1cb)]||{},this[_0x4dd62f(0x21d)]['testStepStarted'][_0x317ae3[_0x4dd62f(0x21b)]]=_0x317ae3;const _0x1d78ee=_0x317ae3['testCaseStartedId'],_0x1459ae=_0x2409cf[_0x4dd62f(0x23e)]['testCaseAttemptDataMap'][_0x1d78ee]['testCaseId'],_0x551182=this['report'][_0x4dd62f(0x199)][_0x4dd62f(0x216)](_0x51fb46=>_0x51fb46['id']===_0x1459ae)[_0x4dd62f(0x1db)],_0x767161=this['report'][_0x4dd62f(0x1b8)][_0x4dd62f(0x216)](_0x561674=>_0x561674['id']===_0x551182),_0x1024df=this['report'][_0x4dd62f(0x199)][_0x4dd62f(0x216)](_0x4c4caa=>_0x4c4caa['id']===_0x1459ae)[_0x4dd62f(0x207)],_0x454419=this[_0x4dd62f(0x21d)][_0x4dd62f(0x1cb)][_0x1d78ee][_0x4dd62f(0x1d4)],_0x4f23c2=_0x1024df[_0x4dd62f(0x216)](_0x47b717=>_0x47b717['id']===_0x454419)[_0x4dd62f(0x19c)],_0x344cdb=_0x767161['steps']['find'](_0x29e72d=>_0x29e72d['id']===_0x4f23c2);if(_0x4f23c2&&_tests[_0x1459ae]&&_0x56e8ac[_0x4dd62f(0x24e)](_tests[_0x1459ae][_0x56e8ac[_0x4dd62f(0x20c)]],_0x454419)){_tests[_0x1459ae][_0x56e8ac[_0x4dd62f(0x20c)]]=_0x454419;const _0x152b68={};_0x152b68[_0x4dd62f(0x192)]=[];const _0x139e57=_tests[_0x1459ae]||_0x152b68;_0x139e57&&!_0x139e57[_0x4dd62f(0x192)]&&(_0x139e57[_0x4dd62f(0x192)]=[]),_0x139e57[_0x4dd62f(0x192)][_0x4dd62f(0x246)]({'id':_0x344cdb['id'],'text':_0x344cdb[_0x4dd62f(0x21f)],'started_at':new Date()[_0x4dd62f(0x1dc)]()}),_tests[_0x1459ae]=_0x139e57;}if(BrowserstackCLI['getInstance']()['isCliEnabled']()&&await this[_0x4dd62f(0x22e)]()){const _0x104eb0=await cucumberUtils[_0x4dd62f(0x1ee)](this[_0x4dd62f(0x21d)],_0x1d78ee,_0x56e8ac[_0x4dd62f(0x1dd)],_0x1024df,_0x454419,_tests[_0x1459ae]);_0x104eb0&&await BrowserstackCLI[_0x4dd62f(0x1fa)]()[_0x4dd62f(0x1ec)]()[_0x4dd62f(0x1a6)](TestFrameworkState[_0x104eb0[_0x4dd62f(0x1e8)]],HookState[_0x4dd62f(0x196)],{'hookData':_0x104eb0,'testUUID':_0x317ae3[_0x4dd62f(0x21b)]});return;}await testObservabilityReporter[_0x4dd62f(0x205)](this[_0x4dd62f(0x21d)],_0x1d78ee,_0x56e8ac['gQXZh'],_0x1024df,_0x454419,_tests[_0x1459ae]);}catch(_0xa7d4ff){logger['debug'](_0x4dd62f(0x18d)+util[_0x4dd62f(0x1e1)](_0xa7d4ff));}}async[a6_0x9974d6(0x24a)](_0x9810af,_0x1eac5b){const _0x40e328=a6_0x9974d6,_0x1105ee={'qDJTi':function(_0x361121,_0x38a2c9){return _0x361121===_0x38a2c9;},'ELnJf':'4|2|3|1|0','MGXjA':function(_0x1d5932,_0x1398b6){return _0x1d5932(_0x1398b6);},'NoooP':_0x40e328(0x1aa),'USGfD':function(_0x2c48c0,_0x528026){return _0x2c48c0===_0x528026;},'FmixC':_0x40e328(0x18b),'wbppI':function(_0x459b87,_0x4434ff){return _0x459b87===_0x4434ff;},'JKqMF':'UnhandledError','gpcFx':_0x40e328(0x1d4),'zeAQG':_0x40e328(0x1bb),'OjZxw':_0x40e328(0x1f6)};this[_0x40e328(0x21d)][_0x40e328(0x195)]=this[_0x40e328(0x21d)][_0x40e328(0x195)]||{},this[_0x40e328(0x21d)][_0x40e328(0x195)][_0x9810af[_0x40e328(0x21b)]]=_0x9810af;if(_0x1105ee['MGXjA'](shouldProcessEventForTesthub,_0x1105ee['NoooP']))try{const _0x2bd09b=_0x9810af[_0x40e328(0x21b)],_0x56baf0=_0x1eac5b[_0x40e328(0x23e)][_0x40e328(0x1eb)][_0x2bd09b][_0x40e328(0x238)],_0x1e1e9b=_0x1eac5b[_0x40e328(0x23e)][_0x40e328(0x234)][_0x56baf0],_0x4e4ad6=_0x1e1e9b['pickleId'],_0x4e619f=_0x1eac5b[_0x40e328(0x23e)][_0x40e328(0x1c2)][_0x4e4ad6],_0x22e7a6=_0x9810af[_0x40e328(0x1d4)],_0x5398ee=_0x1e1e9b[_0x40e328(0x207)],_0x425c77=this[_0x40e328(0x23e)][_0x40e328(0x1cc)](_0x2bd09b),_0x5a72a6=_0x5398ee[_0x40e328(0x216)](_0x526e26=>_0x526e26['id']===_0x22e7a6)[_0x40e328(0x19c)];let _0x5ad741,_0xb993c4;_0x9810af[_0x40e328(0x1c9)]&&_0x1105ee['USGfD'](_0x9810af[_0x40e328(0x1c9)]['status'][_0x40e328(0x1e6)]()['toLowerCase'](),_0x1105ee[_0x40e328(0x202)])&&(_0x5ad741=_0x1105ee[_0x40e328(0x1bd)](_0x9810af[_0x40e328(0x1c9)][_0x40e328(0x19e)],undefined)?_0x9810af[_0x40e328(0x1c9)][_0x40e328(0x203)]:_0x9810af['testStepResult'][_0x40e328(0x19e)]['message'],_0xb993c4=_0x1105ee['wbppI'](_0x9810af[_0x40e328(0x1c9)][_0x40e328(0x19e)],undefined)?_0x1105ee[_0x40e328(0x1be)]:_0x9810af['testStepResult'][_0x40e328(0x203)]);if(_0x5a72a6&&_tests[_0x56baf0][_0x1105ee[_0x40e328(0x1f2)]]){const _0x109397=_0x4e619f[_0x40e328(0x192)][_0x40e328(0x216)](_0x103640=>_0x103640['id']===_0x5a72a6),_0x32f9cc={};_0x32f9cc[_0x40e328(0x192)]=[];const _0x29a1cc=_tests[_0x56baf0]||_0x32f9cc;!_0x29a1cc[_0x40e328(0x192)]?_0x29a1cc['steps']=[{'id':_0x109397['id'],'text':_0x109397['text'],'finished_at':new Date()[_0x40e328(0x1dc)](),'result':_0x9810af[_0x40e328(0x1c9)]['status'],'duration':_0x9810af[_0x40e328(0x1c9)][_0x40e328(0x230)][_0x40e328(0x1fb)],'failure':_0x5ad741,'failureType':_0xb993c4}]:_0x29a1cc[_0x40e328(0x192)][_0x40e328(0x1b2)](_0x5907d0=>{const _0x3b6c94=_0x40e328;if(_0x1105ee[_0x3b6c94(0x1d8)](_0x5907d0['id'],_0x109397['id'])){const _0x548646=_0x1105ee[_0x3b6c94(0x204)][_0x3b6c94(0x221)]('|');let _0x472307=0x0;while(!![]){switch(_0x548646[_0x472307++]){case'0':_0x5907d0[_0x3b6c94(0x229)]=_0xb993c4;continue;case'1':_0x5907d0[_0x3b6c94(0x242)]=_0x5ad741;continue;case'2':_0x5907d0[_0x3b6c94(0x18c)]=_0x9810af['testStepResult'][_0x3b6c94(0x1ed)];continue;case'3':_0x5907d0[_0x3b6c94(0x230)]=_0x9810af[_0x3b6c94(0x1c9)][_0x3b6c94(0x230)]['seconds'];continue;case'4':_0x5907d0[_0x3b6c94(0x1a9)]=new Date()['toISOString']();continue;}break;}}}),_tests[_0x56baf0]=_0x29a1cc;}delete _tests[_0x56baf0][_0x1105ee['gpcFx']];if(BrowserstackCLI[_0x40e328(0x1fa)]()[_0x40e328(0x1bc)]()&&await this[_0x40e328(0x22e)]()){const _0x211357=await cucumberUtils[_0x40e328(0x1ee)](this[_0x40e328(0x21d)],_0x2bd09b,_0x1105ee[_0x40e328(0x218)],_0x5398ee,_0x22e7a6,_tests[_0x56baf0]);if(_0x211357){await BrowserstackCLI[_0x40e328(0x1fa)]()[_0x40e328(0x1ec)]()[_0x40e328(0x1a6)](TestFrameworkState[_0x211357[_0x40e328(0x1e8)]],HookState['POST'],{'hookData':_0x211357,'testUUID':_0x9810af[_0x40e328(0x21b)]});const _0x1920c6={};_0x1920c6[_0x40e328(0x1c1)]=_0x9810af['testCaseStartedId'],_0x1920c6[_0x40e328(0x228)]=_0x1105ee[_0x40e328(0x1ab)],await BrowserstackCLI[_0x40e328(0x1fa)]()[_0x40e328(0x1ec)]()[_0x40e328(0x1a6)](TestFrameworkState[_0x40e328(0x237)],HookState[_0x40e328(0x1c0)],_0x1920c6);}return;}await testObservabilityReporter['sendHook'](this[_0x40e328(0x21d)],_0x2bd09b,_0x1105ee[_0x40e328(0x236)],_0x5398ee,_0x22e7a6,_tests[_0x56baf0]);}catch(_0x897a45){logger[_0x40e328(0x23c)](_0x40e328(0x1a1)+util[_0x40e328(0x1e1)](_0x897a45));}}[a6_0x9974d6(0x1c7)](_0x2f8b72){const _0x37f1cf=a6_0x9974d6,_0x8fb7de={};return _0x2f8b72[_0x37f1cf(0x1d0)][_0x37f1cf(0x217)][_0x37f1cf(0x1b5)](this['extractStepContainers'])[_0x37f1cf(0x20d)]()[_0x37f1cf(0x1b2)](_0x40a41e=>_0x40a41e['steps']['forEach'](_0x4209c5=>_0x8fb7de[_0x4209c5['id']]=_0x4209c5)),_0x8fb7de;}[a6_0x9974d6(0x235)](_0x2aeb06){const _0x5ac4b9=a6_0x9974d6,_0x1d7a0c={'NpPHZ':function(_0x373fd5,_0x140e8e){return _0x373fd5(_0x140e8e);},'GTYGw':function(_0x4025ad,_0x20f736){return _0x4025ad(_0x20f736);}};if(!_0x1d7a0c[_0x5ac4b9(0x209)](isUndefined,_0x2aeb06[_0x5ac4b9(0x22d)]))return[_0x2aeb06[_0x5ac4b9(0x22d)]];else{if(!_0x1d7a0c[_0x5ac4b9(0x24b)](isUndefined,_0x2aeb06['rule']))return _0x2aeb06[_0x5ac4b9(0x21e)][_0x5ac4b9(0x217)]['map'](_0x22bae4=>!isUndefined(_0x22bae4[_0x5ac4b9(0x22d)])?_0x22bae4[_0x5ac4b9(0x22d)]:_0x22bae4[_0x5ac4b9(0x1e9)]);};return[_0x2aeb06['scenario']];}[a6_0x9974d6(0x215)](_0x247676,_0x2da796){const _0x42b08a=a6_0x9974d6;return Object['values'](_0x247676[_0x42b08a(0x23e)][_0x42b08a(0x1ff)])[_0x42b08a(0x216)](_0x1c7228=>_0x1c7228[_0x42b08a(0x1fd)]===_0x2da796[_0x42b08a(0x1fd)]);}async[a6_0x9974d6(0x222)](){const _0x377673=a6_0x9974d6;if(this[_0x377673(0x1f9)])return this['cliInitPromise'];return this['cliInitPromise']=this[_0x377673(0x22c)](),this[_0x377673(0x1f9)];}async[a6_0x9974d6(0x22c)](){const _0x4ae5b8=a6_0x9974d6,_0x454316={'ExODW':_0x4ae5b8(0x1f1),'KLJIK':function(_0x3dcfee,_0x5f5753){return _0x3dcfee(_0x5f5753);},'aszPA':_0x4ae5b8(0x198),'AAHjO':function(_0xc0a045,_0x1d28e4){return _0xc0a045(_0x1d28e4);},'cpPcD':_0x4ae5b8(0x24f)};try{const _0x26eff2=BrowserstackCLI[_0x4ae5b8(0x1fa)]();if(_0x26eff2[_0x4ae5b8(0x231)]())return logger[_0x4ae5b8(0x23c)](_0x4ae5b8(0x22f)+_0x26eff2[_0x4ae5b8(0x1e0)]),!![];const _0x259183=process[_0x4ae5b8(0x1a2)][_0x4ae5b8(0x219)];if(!_0x259183)return logger[_0x4ae5b8(0x23c)](_0x454316[_0x4ae5b8(0x18e)]),![];const _0x2c3bc4=_0x454316[_0x4ae5b8(0x1d6)](require,_0x454316['aszPA']),{FRAMEWORKS:_0x415912}=_0x454316[_0x4ae5b8(0x241)](require,_0x454316[_0x4ae5b8(0x1e7)]);return _0x2c3bc4[_0x4ae5b8(0x19a)](_0x415912[_0x4ae5b8(0x1b1)],_0x415912['PLAYWRIGHT']),logger[_0x4ae5b8(0x23c)]('Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20'+_0x259183),await _0x26eff2[_0x4ae5b8(0x1ea)](),logger[_0x4ae5b8(0x23c)](_0x4ae5b8(0x233)+_0x26eff2['isRunning']()+',\x20binSessionId:\x20'+_0x26eff2[_0x4ae5b8(0x1e0)]),_0x26eff2[_0x4ae5b8(0x231)]();}catch(_0x1c5369){return logger[_0x4ae5b8(0x23c)](_0x4ae5b8(0x1e5)+util['format'](_0x1c5369)),![];}}async[a6_0x9974d6(0x22e)](){const _0x5c39e4=a6_0x9974d6;try{return await this[_0x5c39e4(0x222)](),BrowserstackCLI[_0x5c39e4(0x1fa)]()['isRunning']();}catch(_0x547fc9){return logger[_0x5c39e4(0x23c)](_0x5c39e4(0x232)+util['format'](_0x547fc9)),![];}}}module[a6_0x9974d6(0x197)]=o11yClassErrorHandler(BrowserstackFormatter,['onTestCaseStarted','onTestCaseFinished',a6_0x9974d6(0x1ef),a6_0x9974d6(0x24a),a6_0x9974d6(0x1af),a6_0x9974d6(0x24d),'extractStepContainers',a6_0x9974d6(0x215),'getGherkinStepMap']);