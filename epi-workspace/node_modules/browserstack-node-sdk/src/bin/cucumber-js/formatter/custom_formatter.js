const a6_0x2d9228=a6_0x4d7c;(function(_0x56466c,_0x21c48c){const _0x46c89d=a6_0x4d7c,_0x3c0bab=_0x56466c();while(!![]){try{const _0x540fb0=parseInt(_0x46c89d(0x1b7))/0x1+-parseInt(_0x46c89d(0x1d0))/0x2+-parseInt(_0x46c89d(0x128))/0x3*(-parseInt(_0x46c89d(0x1d3))/0x4)+-parseInt(_0x46c89d(0x15f))/0x5*(parseInt(_0x46c89d(0x13b))/0x6)+-parseInt(_0x46c89d(0x1a3))/0x7+parseInt(_0x46c89d(0x1d2))/0x8*(-parseInt(_0x46c89d(0x1ab))/0x9)+parseInt(_0x46c89d(0x159))/0xa;if(_0x540fb0===_0x21c48c)break;else _0x3c0bab['push'](_0x3c0bab['shift']());}catch(_0x308a97){_0x3c0bab['push'](_0x3c0bab['shift']());}}}(a6_0x5671,0x3af35));function a6_0x4d7c(_0x211bd1,_0x55cef2){const _0x567143=a6_0x5671();return a6_0x4d7c=function(_0x4d7c25,_0xc98d99){_0x4d7c25=_0x4d7c25-0x122;let _0x21e9c7=_0x567143[_0x4d7c25];return _0x21e9c7;},a6_0x4d7c(_0x211bd1,_0x55cef2);}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x2d9228(0x1f3)),util=require(a6_0x2d9228(0x1a5)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x2d9228(0x1b5)),TestDetails=require(a6_0x2d9228(0x1b6)),TestObservabilityReporter=require(a6_0x2d9228(0x1f7)),{o11yClassErrorHandler}=require(a6_0x2d9228(0x1e1)),{shouldProcessEventForTesthub}=require(a6_0x2d9228(0x1cf)),BrowserstackCLI=require(a6_0x2d9228(0x187)),TestFrameworkState=require(a6_0x2d9228(0x16f)),HookState=require(a6_0x2d9228(0x160)),CucumberUtils=require(a6_0x2d9228(0x1dc)),TestInfo=require(a6_0x2d9228(0x1e2)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x2d9228(0x130))['winstonLogger'],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x44b7dc){const _0xf5511c=a6_0x2d9228,_0x5f077f={};_0x5f077f[_0xf5511c(0x199)]=_0xf5511c(0x1c6);const _0x40b85f=_0x5f077f;super(_0x44b7dc),this[_0xf5511c(0x19b)]={},_0x44b7dc[_0xf5511c(0x169)]['on'](_0x40b85f[_0xf5511c(0x199)],async _0x202b1b=>{const _0x12254d=_0xf5511c;switch(!![]){case!!_0x202b1b[_0x12254d(0x155)]:this[_0x12254d(0x191)](_0x202b1b[_0x12254d(0x155)]);break;case!!_0x202b1b['testRunFinished']:this[_0x12254d(0x18c)](_0x202b1b[_0x12254d(0x135)]);break;case!!_0x202b1b[_0x12254d(0x146)]:this[_0x12254d(0x1f0)](_0x202b1b[_0x12254d(0x146)],_0x44b7dc,_0x202b1b);break;case!!_0x202b1b['testCaseFinished']:this[_0x12254d(0x1eb)](_0x202b1b['testCaseFinished'],_0x44b7dc,_0x202b1b);break;case!!_0x202b1b['testStepStarted']:this['onTestStepStarted'](_0x202b1b[_0x12254d(0x1ad)],_0x44b7dc);break;case!!_0x202b1b[_0x12254d(0x1bd)]:this[_0x12254d(0x1f1)](_0x202b1b[_0x12254d(0x1bd)],_0x44b7dc);break;case!!_0x202b1b['hook']:this['onHook'](_0x202b1b[_0x12254d(0x195)]);break;case!!_0x202b1b[_0x12254d(0x166)]:this[_0x12254d(0x163)](_0x202b1b[_0x12254d(0x166)]);break;case!!_0x202b1b[_0x12254d(0x127)]:this['onPickle'](_0x202b1b[_0x12254d(0x127)]);break;case!!_0x202b1b[_0x12254d(0x14d)]:this['onGherkinDocument'](_0x202b1b[_0x12254d(0x14d)]);break;}});}[a6_0x2d9228(0x1d5)](_0x692552){const _0x395003=a6_0x2d9228;this['report'][_0x395003(0x1ba)]=Object[_0x395003(0x13d)]([],this[_0x395003(0x19b)]['hooks']||[]),this['report'][_0x395003(0x1ba)]['push'](_0x692552);}['onPickle'](_0x3f1362){const _0x530bae=a6_0x2d9228;this[_0x530bae(0x19b)][_0x530bae(0x127)]=Object[_0x530bae(0x13d)]([],this['report'][_0x530bae(0x127)]||[],[_0x3f1362]),this['report']['pickle'][_0x530bae(0x148)](_0x3f1362);}[a6_0x2d9228(0x18b)](_0x1db253){const _0x4e1952=a6_0x2d9228;this[_0x4e1952(0x19b)]['gherkinDocument']=Object[_0x4e1952(0x13d)]([],this[_0x4e1952(0x19b)]['gherkinDocument']||[],[_0x1db253]),this[_0x4e1952(0x19b)][_0x4e1952(0x14d)][_0x4e1952(0x148)](_0x1db253);}[a6_0x2d9228(0x18d)](_0x4d43a4){const _0x2f45dd=a6_0x2d9228;this['report'][_0x2f45dd(0x138)]=_0x4d43a4;}[a6_0x2d9228(0x1e3)](_0x3eed1c){const _0x33c3b1=a6_0x2d9228;this[_0x33c3b1(0x19b)][_0x33c3b1(0x1ec)]=Object[_0x33c3b1(0x13d)]([],this['report'][_0x33c3b1(0x1ec)]||[],[_0x3eed1c]),this[_0x33c3b1(0x19b)][_0x33c3b1(0x1ec)][_0x33c3b1(0x148)](_0x3eed1c);}[a6_0x2d9228(0x163)](_0x39cee1){const _0x4d5b18=a6_0x2d9228;this[_0x4d5b18(0x19b)][_0x4d5b18(0x1ef)]=Object[_0x4d5b18(0x13d)]([],this[_0x4d5b18(0x19b)]['testCases']||[],[_0x39cee1]),this[_0x4d5b18(0x19b)][_0x4d5b18(0x1ef)][_0x4d5b18(0x148)](_0x39cee1);}[a6_0x2d9228(0x170)](_0x6f21f5){const _0x453b75=a6_0x2d9228,_0x642384={'aLhXK':function(_0x32c3da,_0x5d7b2d){return _0x32c3da!==_0x5d7b2d;},'AHLCA':_0x453b75(0x1bc),'IHeDb':function(_0x146af4,_0x53caa6){return _0x146af4+_0x53caa6;},'TAapE':function(_0x126028,_0x44c32a){return _0x126028+_0x44c32a;},'qCLQH':function(_0x148fd2,_0x26352d){return _0x148fd2+_0x26352d;},'sWcWQ':function(_0x4bb517,_0x51a6f8){return _0x4bb517+_0x51a6f8;},'GWzmn':_0x453b75(0x1e0),'IFtbt':_0x453b75(0x1c2),'MJCfe':function(_0x211bf7,_0x305ce6){return _0x211bf7===_0x305ce6;},'ZtVRy':_0x453b75(0x1c8),'ONIzt':function(_0x89d76f,_0x2c088f,_0xfbafb8){return _0x89d76f(_0x2c088f,_0xfbafb8);},'kyIqr':_0x453b75(0x1cb),'iCwoz':'message','GHKrS':function(_0x52e3ab,_0x286d5b){return _0x52e3ab+_0x286d5b;},'twEzD':function(_0x1ca3c6,_0x49c25c){return _0x1ca3c6+_0x49c25c;},'EHlDa':function(_0x219bc9,_0x47cee2){return _0x219bc9+_0x47cee2;},'DnoJU':function(_0x6c010c,_0x411753){return _0x6c010c+_0x411753;},'UzJzD':function(_0x5dfe30,_0x237aa4){return _0x5dfe30+_0x237aa4;},'lOklu':function(_0x570ff0,_0x275863){return _0x570ff0+_0x275863;}};_0x642384[_0x453b75(0x152)](global[_0x453b75(0x145)],undefined)&&this[_0x453b75(0x1d6)](_0x642384[_0x453b75(0x157)](_0x642384[_0x453b75(0x1aa)]('\x0a',global[_0x453b75(0x145)]),'\x0a'));const _0x30dfd5=this[_0x453b75(0x161)][_0x453b75(0x141)](_0x6f21f5[_0x453b75(0x1c0)]);this[_0x453b75(0x1d6)](_0x642384[_0x453b75(0x1e4)](_0x642384[_0x453b75(0x172)](_0x642384[_0x453b75(0x1c4)](_0x642384[_0x453b75(0x157)]('\x20\x20',_0x30dfd5[_0x453b75(0x14d)][_0x453b75(0x14b)][_0x453b75(0x1cd)]),_0x642384['IFtbt']),_0x30dfd5[_0x453b75(0x127)][_0x453b75(0x1cd)]),'\x0a'));const _0x1fb4a4={};_0x1fb4a4['cwd']=this['cwd'],_0x1fb4a4[_0x453b75(0x1bb)]=this[_0x453b75(0x1bb)],_0x1fb4a4[_0x453b75(0x179)]=this[_0x453b75(0x179)],_0x1fb4a4[_0x453b75(0x158)]=_0x30dfd5;const _0x2304ef=formatterHelpers[_0x453b75(0x133)](_0x1fb4a4);let _0x1faf90=![];_0x2304ef[_0x453b75(0x17f)][_0x453b75(0x13a)](_0x49dad2=>{const _0x384a12=_0x453b75;if(_0x642384[_0x384a12(0x152)](_0x49dad2[_0x384a12(0x1cd)],_0x642384[_0x384a12(0x137)])&&!this[_0x384a12(0x150)](_0x49dad2)){totalTests+=0x1,this['log'](_0x642384['IHeDb'](_0x642384['IHeDb'](_0x642384[_0x384a12(0x157)](_0x642384[_0x384a12(0x1ae)](_0x642384[_0x384a12(0x1d4)](_0x642384[_0x384a12(0x1c1)],_0x49dad2['keyword']),_0x49dad2[_0x384a12(0x149)]||''),_0x642384[_0x384a12(0x1c9)]),Status[_0x49dad2[_0x384a12(0x1cb)][_0x384a12(0x178)]]),'\x0a')),this[_0x384a12(0x1b1)](Status[_0x49dad2[_0x384a12(0x1cb)]['status']]);if(_0x642384['MJCfe'](Status[_0x49dad2[_0x384a12(0x1cb)][_0x384a12(0x178)]],_0x642384['ZtVRy'])){_0x1faf90=!![];const _0x3b9ef4=_0x642384[_0x384a12(0x192)](nestedKeyValue,_0x49dad2,[_0x642384[_0x384a12(0x1a7)],_0x642384[_0x384a12(0x1b0)]]);_0x3b9ef4&&(testsErrorMessage[_0x642384['GHKrS'](_0x642384[_0x384a12(0x15b)](_0x30dfd5[_0x384a12(0x14d)]['feature'][_0x384a12(0x1cd)],_0x642384[_0x384a12(0x1c9)]),_0x30dfd5[_0x384a12(0x127)][_0x384a12(0x1cd)])]=_0x3b9ef4,this['log'](_0x642384[_0x384a12(0x190)](_0x3b9ef4,'\x0a')));}}}),_0x1faf90&&(testSuitesFailed+=0x1),this[_0x453b75(0x1d6)]('\x0a');}[a6_0x2d9228(0x183)](_0x1b09f6){}[a6_0x2d9228(0x150)](_0x312c8a){const _0x3d9f27=a6_0x2d9228,_0x25860a={};_0x25860a[_0x3d9f27(0x17b)]=function(_0x50054d,_0x54b1a2){return _0x50054d!==_0x54b1a2;},_0x25860a['FVMHr']='cucumber-js/test.setup.js';const _0x165a18=_0x25860a;if(_0x165a18[_0x3d9f27(0x17b)](_0x312c8a['sourceLocation'],undefined))return![];if(_0x312c8a[_0x3d9f27(0x1a2)]&&_0x312c8a[_0x3d9f27(0x1a2)]['uri'][_0x3d9f27(0x16b)](_0x165a18[_0x3d9f27(0x194)]))return!![];return![];}[a6_0x2d9228(0x1b1)](_0x215f7b){const _0x24c630=a6_0x2d9228,_0x55e102={};_0x55e102[_0x24c630(0x15d)]=_0x24c630(0x1c8),_0x55e102[_0x24c630(0x189)]=_0x24c630(0x167),_0x55e102[_0x24c630(0x177)]=_0x24c630(0x182),_0x55e102[_0x24c630(0x185)]=_0x24c630(0x151),_0x55e102[_0x24c630(0x1ed)]=_0x24c630(0x14f),_0x55e102[_0x24c630(0x164)]=_0x24c630(0x1a4),_0x55e102[_0x24c630(0x17c)]=_0x24c630(0x1be);const _0x8e9fc3=_0x55e102;switch(_0x215f7b){case _0x8e9fc3[_0x24c630(0x15d)]:testsFailed+=0x1;break;case _0x8e9fc3['PlidM']:testsPassed+=0x1;break;case _0x8e9fc3[_0x24c630(0x177)]:testsSkipped+=0x1;break;case _0x8e9fc3[_0x24c630(0x185)]:testsPending+=0x1;break;case _0x8e9fc3[_0x24c630(0x1ed)]:testsUndefined+=0x1;break;case _0x8e9fc3[_0x24c630(0x164)]:testsUnknown+=0x1;break;case _0x8e9fc3[_0x24c630(0x17c)]:testsAmbiguous+=0x1;break;default:break;}}async[a6_0x2d9228(0x191)](_0x2e3cc1){const _0x549c81=a6_0x2d9228,_0x1ab493={'pVJtJ':function(_0xc0c0f2,_0x2f4c2b){return _0xc0c0f2!==_0x2f4c2b;},'rjISX':function(_0x5914eb){return _0x5914eb();},'BOSyj':function(_0x292d8d,_0x2249d7){return _0x292d8d(_0x2249d7);},'Duplu':function(_0x5bad1b,_0x5bb5f8){return _0x5bad1b+_0x5bb5f8;},'MZzeY':'cucumber'};let _0x3b54a9;if(_0x1ab493[_0x549c81(0x1cc)](process[_0x549c81(0x196)][_0x549c81(0x13c)],undefined)){const _0x5337a9=JSON[_0x549c81(0x143)](process['env'][_0x549c81(0x13c)]);_0x3b54a9=_0x5337a9['capability'];}_0x1ab493[_0x549c81(0x1cc)](_0x3b54a9,undefined)&&_0x1ab493['rjISX'](isBrowserstackInfra)&&(global['__platform']=_0x1ab493[_0x549c81(0x168)](getPlatformName,_0x3b54a9),this[_0x549c81(0x1d6)](_0x1ab493[_0x549c81(0x1c3)]('Executing\x20tests\x20for\x20'+global['__platform'],'\x0a'))),_0x1ab493[_0x549c81(0x1e9)](shouldProcessEventForTesthub)&&(TestDetails[_0x549c81(0x154)](),this[_0x549c81(0x19b)][_0x549c81(0x155)]=_0x2e3cc1,BrowserstackCLI[_0x549c81(0x1d1)]()['isCliEnabled']()&&await this[_0x549c81(0x175)]()&&(TestInfo['setup'](_0x1ab493['MZzeY']),await BrowserstackCLI[_0x549c81(0x1d1)]()[_0x549c81(0x197)]()['trackEvent'](TestFrameworkState[_0x549c81(0x153)],HookState[_0x549c81(0x19e)],{})));}[a6_0x2d9228(0x18c)](_0x2fb901){const _0x19ed04=a6_0x2d9228;this[_0x19ed04(0x19b)]['testRunFinished']=_0x2fb901,this[_0x19ed04(0x183)](_0x2fb901);}async['onTestCaseStarted'](_0x2b6537,_0x493ab5,_0x14f8ac){const _0x135c09=a6_0x2d9228,_0x2ab86e={'GHIag':function(_0xbfb646,_0x17d5fc){return _0xbfb646(_0x17d5fc);},'zdPeF':_0x135c09(0x17a),'suJPL':function(_0x4431bc,_0x26cbab){return _0x4431bc&&_0x26cbab;}};testSuites+=0x1;if(_0x2ab86e[_0x135c09(0x1d9)](shouldProcessEventForTesthub,_0x2ab86e[_0x135c09(0x1b3)]))try{this[_0x135c09(0x19b)][_0x135c09(0x146)]=this[_0x135c09(0x19b)][_0x135c09(0x146)]||{},this[_0x135c09(0x19b)]['testCaseStarted'][_0x2b6537['id']]=_0x2b6537;let _0x36d093=null;BrowserstackCLI[_0x135c09(0x1d1)]()[_0x135c09(0x134)]()&&await this['isCLIReady']()?_0x36d093=TestInfo[_0x135c09(0x171)](_0x2b6537['id']):_0x36d093=TestDetails[_0x135c09(0x171)](_0x2b6537['id']);_testCasesData[_0x2b6537['id']]=Object[_0x135c09(0x13d)]({},_0x14f8ac);const _0x117e80=this[_0x135c09(0x19b)],_0x25cfd1=_0x2b6537[_0x135c09(0x16d)],_0x58c100=_0x117e80[_0x135c09(0x1ef)]['find'](_0x27cf89=>_0x27cf89['id']===_0x25cfd1)[_0x135c09(0x193)],_0xb01791=_0x117e80[_0x135c09(0x127)][_0x135c09(0x16c)](_0x31b1dc=>_0x31b1dc['id']===_0x58c100),_0x4c3028=_0x117e80['gherkinDocument'][_0x135c09(0x16c)](_0x1048df=>_0x1048df[_0x135c09(0x125)]===_0xb01791[_0x135c09(0x125)]),_0x500fbb=_0x4c3028[_0x135c09(0x14b)],_0x400d6c={'uuid':_0x36d093,'startedAt':new Date()[_0x135c09(0x139)]()};if(_0xb01791){const _0x55f6b7={};_0x55f6b7[_0x135c09(0x1cd)]=_0xb01791[_0x135c09(0x1cd)],_0x400d6c['scenario']=_0x55f6b7;}if(_0x2ab86e['suJPL'](_0x4c3028,_0x500fbb)){const _0x2fcc5c={};_0x2fcc5c[_0x135c09(0x1db)]=_0x4c3028[_0x135c09(0x125)],_0x2fcc5c[_0x135c09(0x1cd)]=_0x500fbb[_0x135c09(0x1cd)],_0x2fcc5c['description']=_0x500fbb['description'],_0x400d6c[_0x135c09(0x14b)]=_0x2fcc5c;}_tests[_0x25cfd1]=_0x400d6c;if(BrowserstackCLI[_0x135c09(0x1d1)]()[_0x135c09(0x134)]()&&await this[_0x135c09(0x175)]()){const _0xa02d5d=await cucumberUtils[_0x135c09(0x19a)](_0x400d6c,_0xb01791,_0x14f8ac,_0x4c3028,_0x2b6537['id'],_0x2ab86e[_0x135c09(0x1b3)]),_0x332f82={};_0x332f82['test']=_0xa02d5d,await BrowserstackCLI[_0x135c09(0x1d1)]()[_0x135c09(0x197)]()['trackEvent'](TestFrameworkState[_0x135c09(0x12b)],HookState[_0x135c09(0x19e)],_0x332f82);return;}await testObservabilityReporter[_0x135c09(0x142)](_0x14f8ac,_0x4c3028,_0xb01791,_0x2ab86e[_0x135c09(0x1b3)],_0x400d6c);}catch(_0x43caeb){logger[_0x135c09(0x1a1)](_0x135c09(0x1a8)+util[_0x135c09(0x18a)](_0x43caeb)+'\x20');}}async[a6_0x2d9228(0x1eb)](_0x1948a4,_0x139e74,_0x5a4915){const _0x4bb00d=a6_0x2d9228,_0x505eb0={'Shagb':function(_0x857656,_0x56c090){return _0x857656(_0x56c090);},'ATeMS':'TestRunFinished','pbKsD':_0x4bb00d(0x18e)};this[_0x4bb00d(0x170)](_0x1948a4);if(_0x505eb0[_0x4bb00d(0x131)](shouldProcessEventForTesthub,_0x505eb0[_0x4bb00d(0x124)]))try{this[_0x4bb00d(0x19b)][_0x4bb00d(0x1f4)]=this[_0x4bb00d(0x19b)][_0x4bb00d(0x1f4)]||{},this[_0x4bb00d(0x19b)][_0x4bb00d(0x1f4)][_0x1948a4[_0x4bb00d(0x1c0)]]=_0x1948a4,_testCasesData[_0x5a4915['id']]=Object[_0x4bb00d(0x13d)]({},_0x5a4915);const _0x2c1a62=_0x1948a4[_0x4bb00d(0x1c0)],_0x51dfcc=_0x139e74[_0x4bb00d(0x161)]['testCaseAttemptDataMap'][_0x2c1a62][_0x4bb00d(0x16d)],_0x34dbad=_0x139e74[_0x4bb00d(0x161)][_0x4bb00d(0x173)][_0x51dfcc],_0x3dd15b=_0x34dbad[_0x4bb00d(0x193)],_0x5286aa=_0x139e74[_0x4bb00d(0x161)][_0x4bb00d(0x14a)][_0x3dd15b],_0x584257=this['getGherkinDocument'](_0x139e74,_0x5286aa),_0x231bf6=_0x584257[_0x4bb00d(0x14b)],_0xfb575d=_tests[_0x51dfcc];_0xfb575d&&(delete _tests[_0x51dfcc],_0xfb575d[_0x4bb00d(0x1da)]=new Date()[_0x4bb00d(0x139)]());if(BrowserstackCLI[_0x4bb00d(0x1d1)]()[_0x4bb00d(0x134)]()&&await this[_0x4bb00d(0x175)]()){const _0x539eba=await cucumberUtils[_0x4bb00d(0x19a)](_0xfb575d,_0x5286aa,_0x5a4915,_0x584257,_0x2c1a62,_0x505eb0[_0x4bb00d(0x124)]),_0x34022a={};_0x34022a['test']=_0x539eba,await BrowserstackCLI[_0x4bb00d(0x1d1)]()[_0x4bb00d(0x197)]()[_0x4bb00d(0x15e)](TestFrameworkState['TEST'],HookState['POST'],_0x34022a);const _0x22b597={};_0x22b597[_0x4bb00d(0x144)]=_0x1948a4['testCaseStartedId'],_0x22b597['type']=_0x505eb0[_0x4bb00d(0x19f)],await BrowserstackCLI['getInstance']()['getTestFramework']()['trackEvent'](TestFrameworkState[_0x4bb00d(0x188)],HookState[_0x4bb00d(0x1e6)],_0x22b597);return;}await testObservabilityReporter['sendTestRunEventForCucumber'](_0x5a4915,_0x584257,_0x5286aa,_0x505eb0['ATeMS'],_0xfb575d);}catch(_0x1dcbaf){logger[_0x4bb00d(0x1a1)](_0x4bb00d(0x1b2)+util['format'](_0x1dcbaf));}}async[a6_0x2d9228(0x186)](_0x458713,_0x128c85){const _0x9b9df1=a6_0x2d9228,_0x557cb4={'kxItm':function(_0x1d7043,_0x4ea9d8){return _0x1d7043(_0x4ea9d8);},'EgCWc':_0x9b9df1(0x13e),'SiyjR':function(_0xab0ad,_0xa5e476){return _0xab0ad!==_0xa5e476;},'CJnyY':_0x9b9df1(0x17d)};if(_0x557cb4[_0x9b9df1(0x1ee)](shouldProcessEventForTesthub,_0x557cb4['EgCWc']))try{this[_0x9b9df1(0x19b)][_0x9b9df1(0x1ad)]=this[_0x9b9df1(0x19b)][_0x9b9df1(0x1ad)]||{},this[_0x9b9df1(0x19b)]['testStepStarted'][_0x458713['testCaseStartedId']]=_0x458713;const _0x5a5539=_0x458713[_0x9b9df1(0x1c0)],_0x14838d=_0x128c85[_0x9b9df1(0x161)][_0x9b9df1(0x1e7)][_0x5a5539][_0x9b9df1(0x16d)],_0x4afaef=this[_0x9b9df1(0x19b)][_0x9b9df1(0x1ef)][_0x9b9df1(0x16c)](_0x4d3920=>_0x4d3920['id']===_0x14838d)[_0x9b9df1(0x193)],_0x299172=this[_0x9b9df1(0x19b)]['pickle']['find'](_0x28805c=>_0x28805c['id']===_0x4afaef),_0x13705e=this[_0x9b9df1(0x19b)][_0x9b9df1(0x1ef)][_0x9b9df1(0x16c)](_0xb11dcf=>_0xb11dcf['id']===_0x14838d)[_0x9b9df1(0x17f)],_0x8030a9=this[_0x9b9df1(0x19b)]['testStepStarted'][_0x5a5539]['testStepId'],_0x45f7b8=_0x13705e[_0x9b9df1(0x16c)](_0x23b89b=>_0x23b89b['id']===_0x8030a9)[_0x9b9df1(0x1a0)],_0x5a4e01=_0x299172[_0x9b9df1(0x136)][_0x9b9df1(0x16c)](_0x40357e=>_0x40357e['id']===_0x45f7b8);if(_0x45f7b8&&_tests[_0x14838d]&&_0x557cb4[_0x9b9df1(0x19d)](_tests[_0x14838d][_0x557cb4[_0x9b9df1(0x16a)]],_0x8030a9)){_tests[_0x14838d][_0x557cb4[_0x9b9df1(0x16a)]]=_0x8030a9;const _0x4daa34={};_0x4daa34[_0x9b9df1(0x136)]=[];const _0x150a4b=_tests[_0x14838d]||_0x4daa34;_0x150a4b&&!_0x150a4b[_0x9b9df1(0x136)]&&(_0x150a4b[_0x9b9df1(0x136)]=[]),_0x150a4b[_0x9b9df1(0x136)]['push']({'id':_0x5a4e01['id'],'text':_0x5a4e01['text'],'started_at':new Date()[_0x9b9df1(0x139)]()}),_tests[_0x14838d]=_0x150a4b;}if(BrowserstackCLI[_0x9b9df1(0x1d1)]()[_0x9b9df1(0x134)]()&&await this[_0x9b9df1(0x175)]()){const _0x7ba82b=await cucumberUtils[_0x9b9df1(0x1d8)](this[_0x9b9df1(0x19b)],_0x5a5539,_0x557cb4[_0x9b9df1(0x15c)],_0x13705e,_0x8030a9,_tests[_0x14838d]);_0x7ba82b&&await BrowserstackCLI['getInstance']()[_0x9b9df1(0x197)]()[_0x9b9df1(0x15e)](TestFrameworkState[_0x7ba82b[_0x9b9df1(0x129)]],HookState[_0x9b9df1(0x19e)],{'hookData':_0x7ba82b,'testUUID':_0x458713['testCaseStartedId']});return;}await testObservabilityReporter[_0x9b9df1(0x180)](this[_0x9b9df1(0x19b)],_0x5a5539,_0x557cb4[_0x9b9df1(0x15c)],_0x13705e,_0x8030a9,_tests[_0x14838d]);}catch(_0x411acc){logger[_0x9b9df1(0x1a1)]('Exception\x20in\x20onTestStepStarted\x20event:\x20'+util['format'](_0x411acc));}}async[a6_0x2d9228(0x1f1)](_0x4aa70e,_0x42a13f){const _0x53a5f2=a6_0x2d9228,_0x14f1ed={'xeIQC':function(_0xd3f61f,_0x19ca06){return _0xd3f61f===_0x19ca06;},'yTATq':_0x53a5f2(0x126),'sgunh':function(_0x41cc06,_0x441e5a){return _0x41cc06(_0x441e5a);},'qVzlE':_0x53a5f2(0x1ea),'LSbmL':function(_0x3fec1c,_0x1aa8c8){return _0x3fec1c===_0x1aa8c8;},'SeFUf':_0x53a5f2(0x1e5),'Oqfnu':_0x53a5f2(0x1c7),'FlhYh':'testStepId','JItNZ':_0x53a5f2(0x13e),'fhlEM':'hook'};this[_0x53a5f2(0x19b)][_0x53a5f2(0x1bd)]=this['report'][_0x53a5f2(0x1bd)]||{},this[_0x53a5f2(0x19b)][_0x53a5f2(0x1bd)][_0x4aa70e[_0x53a5f2(0x1c0)]]=_0x4aa70e;if(_0x14f1ed['sgunh'](shouldProcessEventForTesthub,_0x14f1ed[_0x53a5f2(0x1b8)]))try{const _0x49756e=_0x4aa70e[_0x53a5f2(0x1c0)],_0x334260=_0x42a13f[_0x53a5f2(0x161)][_0x53a5f2(0x1e7)][_0x49756e]['testCaseId'],_0x6ffa89=_0x42a13f[_0x53a5f2(0x161)]['testCaseMap'][_0x334260],_0x3e7276=_0x6ffa89[_0x53a5f2(0x193)],_0x425771=_0x42a13f[_0x53a5f2(0x161)][_0x53a5f2(0x14a)][_0x3e7276],_0x55f5fe=_0x4aa70e[_0x53a5f2(0x17d)],_0x2d0458=_0x6ffa89[_0x53a5f2(0x17f)],_0x96cd0e=this[_0x53a5f2(0x161)][_0x53a5f2(0x141)](_0x49756e),_0x56559b=_0x2d0458[_0x53a5f2(0x16c)](_0x1dee7f=>_0x1dee7f['id']===_0x55f5fe)[_0x53a5f2(0x1a0)];let _0x45e961,_0x2b763e;_0x4aa70e[_0x53a5f2(0x1af)]&&_0x14f1ed['LSbmL'](_0x4aa70e[_0x53a5f2(0x1af)][_0x53a5f2(0x178)]['toString']()['toLowerCase'](),_0x14f1ed[_0x53a5f2(0x1b9)])&&(_0x45e961=_0x14f1ed[_0x53a5f2(0x147)](_0x4aa70e['testStepResult'][_0x53a5f2(0x12f)],undefined)?_0x4aa70e[_0x53a5f2(0x1af)]['message']:_0x4aa70e[_0x53a5f2(0x1af)][_0x53a5f2(0x12f)][_0x53a5f2(0x14c)],_0x2b763e=_0x14f1ed[_0x53a5f2(0x12c)](_0x4aa70e[_0x53a5f2(0x1af)][_0x53a5f2(0x12f)],undefined)?_0x14f1ed[_0x53a5f2(0x19c)]:_0x4aa70e[_0x53a5f2(0x1af)][_0x53a5f2(0x14c)]);if(_0x56559b&&_tests[_0x334260][_0x14f1ed[_0x53a5f2(0x140)]]){const _0x27586f=_0x425771['steps']['find'](_0x3e8ab3=>_0x3e8ab3['id']===_0x56559b),_0x40ea87={};_0x40ea87[_0x53a5f2(0x136)]=[];const _0x5b6886=_tests[_0x334260]||_0x40ea87;!_0x5b6886[_0x53a5f2(0x136)]?_0x5b6886[_0x53a5f2(0x136)]=[{'id':_0x27586f['id'],'text':_0x27586f['text'],'finished_at':new Date()['toISOString'](),'result':_0x4aa70e[_0x53a5f2(0x1af)]['status'],'duration':_0x4aa70e[_0x53a5f2(0x1af)]['duration'][_0x53a5f2(0x1f6)],'failure':_0x45e961,'failureType':_0x2b763e}]:_0x5b6886[_0x53a5f2(0x136)]['forEach'](_0x3da6eb=>{const _0x38d297=_0x53a5f2;if(_0x14f1ed[_0x38d297(0x12c)](_0x3da6eb['id'],_0x27586f['id'])){const _0x543b4d=_0x14f1ed[_0x38d297(0x176)]['split']('|');let _0x21275b=0x0;while(!![]){switch(_0x543b4d[_0x21275b++]){case'0':_0x3da6eb[_0x38d297(0x1cb)]=_0x4aa70e['testStepResult'][_0x38d297(0x178)];continue;case'1':_0x3da6eb['failureType']=_0x2b763e;continue;case'2':_0x3da6eb['duration']=_0x4aa70e[_0x38d297(0x1af)]['duration'][_0x38d297(0x1f6)];continue;case'3':_0x3da6eb['finished_at']=new Date()[_0x38d297(0x139)]();continue;case'4':_0x3da6eb[_0x38d297(0x1ce)]=_0x45e961;continue;}break;}}}),_tests[_0x334260]=_0x5b6886;}delete _tests[_0x334260][_0x14f1ed['FlhYh']];if(BrowserstackCLI[_0x53a5f2(0x1d1)]()['isCliEnabled']()&&await this['isCLIReady']()){const _0x326352=await cucumberUtils[_0x53a5f2(0x1d8)](this['report'],_0x49756e,_0x14f1ed[_0x53a5f2(0x18f)],_0x2d0458,_0x55f5fe,_tests[_0x334260]);if(_0x326352){await BrowserstackCLI['getInstance']()[_0x53a5f2(0x197)]()[_0x53a5f2(0x15e)](TestFrameworkState[_0x326352[_0x53a5f2(0x129)]],HookState[_0x53a5f2(0x1e6)],{'hookData':_0x326352,'testUUID':_0x4aa70e[_0x53a5f2(0x1c0)]});const _0x2d939f={};_0x2d939f[_0x53a5f2(0x144)]=_0x4aa70e[_0x53a5f2(0x1c0)],_0x2d939f['type']=_0x14f1ed[_0x53a5f2(0x1ac)],await BrowserstackCLI['getInstance']()[_0x53a5f2(0x197)]()[_0x53a5f2(0x15e)](TestFrameworkState['LOG_REPORT'],HookState[_0x53a5f2(0x1e6)],_0x2d939f);}return;}await testObservabilityReporter['sendHook'](this[_0x53a5f2(0x19b)],_0x49756e,_0x14f1ed['qVzlE'],_0x2d0458,_0x55f5fe,_tests[_0x334260]);}catch(_0x9d5d2){logger['debug'](_0x53a5f2(0x123)+util[_0x53a5f2(0x18a)](_0x9d5d2));}}[a6_0x2d9228(0x13f)](_0x25e6ef){const _0x1eb40e=a6_0x2d9228,_0x1dd64a={};return _0x25e6ef[_0x1eb40e(0x14b)]['children']['map'](this[_0x1eb40e(0x1f2)])[_0x1eb40e(0x15a)]()['forEach'](_0x1d6986=>_0x1d6986[_0x1eb40e(0x136)][_0x1eb40e(0x13a)](_0x3d8d91=>_0x1dd64a[_0x3d8d91['id']]=_0x3d8d91)),_0x1dd64a;}['extractStepContainers'](_0xe885da){const _0x2e595b=a6_0x2d9228,_0x4ac071={'HEiHu':function(_0xec89c0,_0x2fd667){return _0xec89c0(_0x2fd667);}};if(!_0x4ac071[_0x2e595b(0x156)](isUndefined,_0xe885da['background']))return[_0xe885da['background']];else{if(!_0x4ac071[_0x2e595b(0x156)](isUndefined,_0xe885da[_0x2e595b(0x12a)]))return _0xe885da[_0x2e595b(0x12a)][_0x2e595b(0x17e)]['map'](_0x48f3c9=>!isUndefined(_0x48f3c9[_0x2e595b(0x1e8)])?_0x48f3c9[_0x2e595b(0x1e8)]:_0x48f3c9['scenario']);};return[_0xe885da[_0x2e595b(0x1dd)]];}[a6_0x2d9228(0x12e)](_0x257bbe,_0x4d5752){const _0x43c6d8=a6_0x2d9228;return Object[_0x43c6d8(0x1de)](_0x257bbe[_0x43c6d8(0x161)]['gherkinDocumentMap'])[_0x43c6d8(0x16c)](_0x6d0982=>_0x6d0982['uri']===_0x4d5752['uri']);}async[a6_0x2d9228(0x1f5)](){const _0x12b8a7=a6_0x2d9228;if(this[_0x12b8a7(0x1a6)])return this[_0x12b8a7(0x1a6)];return this['cliInitPromise']=this['_performCLIInitialization'](),this['cliInitPromise'];}async[a6_0x2d9228(0x1b4)](){const _0x21fd05=a6_0x2d9228,_0x1b7dc7={'ztLPw':_0x21fd05(0x165),'naEHA':function(_0x2d3dcb,_0x55fb04){return _0x2d3dcb(_0x55fb04);},'WnYUj':_0x21fd05(0x16e),'pYriC':'../../utils/constants'};try{const _0x2bb29c=BrowserstackCLI[_0x21fd05(0x1d1)]();if(_0x2bb29c[_0x21fd05(0x1ca)]())return logger['debug'](_0x21fd05(0x1a9)+_0x2bb29c[_0x21fd05(0x12d)]),!![];const _0xef5988=process[_0x21fd05(0x196)][_0x21fd05(0x162)];if(!_0xef5988)return logger[_0x21fd05(0x1a1)](_0x1b7dc7[_0x21fd05(0x1c5)]),![];const _0x49a522=_0x1b7dc7[_0x21fd05(0x174)](require,_0x1b7dc7[_0x21fd05(0x14e)]),{FRAMEWORKS:_0x12b534}=_0x1b7dc7[_0x21fd05(0x174)](require,_0x1b7dc7['pYriC']);return _0x49a522[_0x21fd05(0x181)](_0x12b534['CUCUMBER'],_0x12b534[_0x21fd05(0x184)]),logger[_0x21fd05(0x1a1)](_0x21fd05(0x198)+_0xef5988),await _0x2bb29c[_0x21fd05(0x132)](),logger[_0x21fd05(0x1a1)]('CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20'+_0x2bb29c[_0x21fd05(0x1ca)]()+_0x21fd05(0x1df)+_0x2bb29c[_0x21fd05(0x12d)]),_0x2bb29c[_0x21fd05(0x1ca)]();}catch(_0x556e48){return logger['debug'](_0x21fd05(0x1d7)+util[_0x21fd05(0x18a)](_0x556e48)),![];}}async[a6_0x2d9228(0x175)](){const _0x6e729a=a6_0x2d9228;try{return await this[_0x6e729a(0x1f5)](),BrowserstackCLI[_0x6e729a(0x1d1)]()[_0x6e729a(0x1ca)]();}catch(_0x4b9c60){return logger['debug'](_0x6e729a(0x122)+util['format'](_0x4b9c60)),![];}}}function a6_0x5671(){const _0x1d4682=['eventBroadcaster','CJnyY','includes','find','testCaseId','../../v2/cliUtils','../../v2/state/testFrameworkState.js','logTestCaseFinished','getTestUUID','UzJzD','testCaseMap','naEHA','isCLIReady','yTATq','ptgfF','status','supportCodeLibrary','TestRunStarted','sekRS','GqKKb','testStepId','children','testSteps','sendHook','setFrameworkDetail','SKIPPED','logTestRunFinished','PLAYWRIGHT','FBdfQ','onTestStepStarted','../../v2/browserstackCLI.js','LOG_REPORT','PlidM','format','onGherkinDocument','onTestRunFinished','onSource','test','JItNZ','EHlDa','onTestRunStarted','ONIzt','pickleId','FVMHr','hook','env','getTestFramework','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','zxPsK','createTestFrameworkData','report','Oqfnu','SiyjR','PRE','pbKsD','pickleStepId','debug','actionLocation','2912882isCytA','UNKNOWN','util','cliInitPromise','kyIqr','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','CLI\x20already\x20running\x20-\x20binSessionId:\x20','GHKrS','1467SpzFUZ','fhlEM','testStepStarted','qCLQH','testStepResult','iCwoz','incrementCounter','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','zdPeF','_performCLIInitialization','@cucumber/cucumber','../../playwright/reporter/test-details.js','246260Ozdwug','qVzlE','SeFUf','hooks','snippetBuilder','bstack','testStepFinished','AMBIGUOUS','exports','testCaseStartedId','GWzmn','\x20-\x20','Duplu','lOklu','ztLPw','envelope','UnhandledError','FAILED','IFtbt','isRunning','result','pVJtJ','name','failure','../../../helpers/testhub/utils.js','87840yExXWf','getInstance','12632rNBFFA','508pssBbk','sWcWQ','onHook','log','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','createHookData','GHIag','finishedAt','path','../../v2/utils/cucumber-utils.js','scenario','values',',\x20binSessionId:\x20','\x20\x20\x20\x20','../../../helpers/test-observability/error-handler','../../../bin/v2/TestInfo.js','onStepDefinition','DnoJU','failed','POST','testCaseAttemptDataMap','background','rjISX','HookRunFinished','onTestCaseFinished','stepDefinition','LEZxq','kxItm','testCases','onTestCaseStarted','onTestStepFinished','extractStepContainers','../../../helpers/helper','testCaseFinished','ensureCLIInitialized','seconds','../test-observability.js','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','Exception\x20in\x20onTestStepFinished\x20event:\x20','ATeMS','uri','3|0|2|4|1','pickle','11028mbtGrU','hook_type','rule','TEST','xeIQC','binSessionId','getGherkinDocument','exception','../../../helpers/logger','Shagb','bootstrap','parseTestCaseAttempt','isCliEnabled','testRunFinished','steps','AHLCA','source','toISOString','forEach','1405554pSFgYJ','CONFIG','assign','HookRunStarted','getGherkinStepMap','FlhYh','getTestCaseAttempt','sendTestRunEventForCucumber','parse','testUUID','__platform','testCaseStarted','LSbmL','push','text','pickleMap','feature','message','gherkinDocument','WnYUj','UNDEFINED','isBstackHook','PENDING','aLhXK','INIT_TEST','setup','testRunStarted','HEiHu','TAapE','testCaseAttempt','4800310eAcYTm','flat','twEzD','EgCWc','dTyZY','trackEvent','5aBwRYc','../../v2/state/hookState.js','eventDataCollector','BROWSERSTACK_CLI_BIN_SESSION_ID','onTestCase','fTffu','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','testCase','PASSED','BOSyj'];a6_0x5671=function(){return _0x1d4682;};return a6_0x5671();}module[a6_0x2d9228(0x1bf)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x2d9228(0x1f0),a6_0x2d9228(0x1eb),a6_0x2d9228(0x186),a6_0x2d9228(0x1f1),a6_0x2d9228(0x191),'onTestRunFinished',a6_0x2d9228(0x1f2),'getGherkinDocument',a6_0x2d9228(0x13f)]);