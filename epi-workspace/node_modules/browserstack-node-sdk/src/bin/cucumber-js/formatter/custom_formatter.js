const a6_0x117c4d=a6_0x11b7;(function(_0x1ed827,_0x5c4069){const _0x6ac9c7=a6_0x11b7,_0x1d0a0b=_0x1ed827();while(!![]){try{const _0x228d7b=parseInt(_0x6ac9c7(0xe8))/0x1+-parseInt(_0x6ac9c7(0x13c))/0x2+-parseInt(_0x6ac9c7(0x119))/0x3*(parseInt(_0x6ac9c7(0xb4))/0x4)+parseInt(_0x6ac9c7(0x7b))/0x5+-parseInt(_0x6ac9c7(0x144))/0x6*(parseInt(_0x6ac9c7(0xb3))/0x7)+parseInt(_0x6ac9c7(0x88))/0x8*(-parseInt(_0x6ac9c7(0x117))/0x9)+-parseInt(_0x6ac9c7(0xab))/0xa*(-parseInt(_0x6ac9c7(0x145))/0xb);if(_0x228d7b===_0x5c4069)break;else _0x1d0a0b['push'](_0x1d0a0b['shift']());}catch(_0x349586){_0x1d0a0b['push'](_0x1d0a0b['shift']());}}}(a6_0x43a3,0x3554b));function a6_0x43a3(){const _0x315fd5=['createHookData','hook','bjeGZ','gherkinDocument','trackEvent','map','ODgUj','86378WolteY','actionLocation','giMSd','getGherkinDocument','dtKMd','test','vOIoz','HookRunFinished','12erogWI','2563zHxNmS','HlprF','winstonLogger','path','cmSpW','feature','incrementCounter','rCJPv','PLAYWRIGHT','SmGjj','eventDataCollector','debug','971740VKeZrS','../test-observability.js','DprVx','rule','PASSED','DJMmZ','name','uJpTm','eventBroadcaster','snippetBuilder','pickle','background','parse','21832UqUXcK','../../../bin/v2/TestInfo.js','testCaseStarted','WMPMl','isBstackHook','logTestRunFinished','lRzif','result','getTestFramework','steps','getInstance','onPickle','cucumber','QUEhq','finishedAt','Executing\x20tests\x20for\x20','includes','../../v2/state/hookState.js','YtpGo','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','NEDBz','envelope','isCliEnabled','POST','PRE','ensureCLIInitialized','TestRunStarted','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','testStepId','ygFNa','SbADY','../../../helpers/test-observability/error-handler','isCLIReady','../../v2/state/testFrameworkState.js','find','9190AsIztr','report','toString','sendTestRunEventForCucumber',',\x20binSessionId:\x20','testCaseMap','toLowerCase','testCaseAttemptDataMap','274442EUeUCF','1316YPSWrm','YySui','onTestStepStarted','wuSIb','keyword','Ghxlx','failureType','CLI\x20already\x20running\x20-\x20binSessionId:\x20','onTestRunFinished','type','binSessionId','../../v2/browserstackCLI.js','UnhandledError','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','assign','sourceLocation','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','DMaLD','VeLli','failed','TEST','CUCUMBER','BROWSERSTACK_CLI_BIN_SESSION_ID','testCaseFinished','gdPhN','sendHook','onStepDefinition','AMBIGUOUS','onTestCaseFinished','pickleStepId','env','../../v2/utils/cucumber-utils.js','log','uri','push','\x20-\x20','bKPfh','logTestCaseFinished','CTFwS','HookRunStarted','idLRA','testSteps','onGherkinDocument','QwpzL','testCase','QCDTe','createTestFrameworkData','source','exports','testRunStarted','setup','fAaJi','328898rauuRv','onTestStepFinished','CONFIG','testStepResult','BzGzg','../../v2/cliUtils','getGherkinStepMap','children','status','EPZUf','wMnPB','getTestCaseAttempt','NVssp','testRunFinished','onSource','FAILED','hooks','capability','onHook','testCaseAttempt','testStepStarted','extractStepContainers','IEDhU','cwd','qgyTD','../../playwright/reporter/test-details.js','description','testCaseStartedId','pickleId','UNKNOWN','KKPoY','text','isRunning','testStepFinished','toISOString','split','onTestCase','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','onTestCaseStarted','testCaseId','IUpiM','WWlzI','ogOVC','../../../helpers/helper','message','duration','testUUID','1242mShefN','../../../helpers/testhub/utils.js','189khpUmg','forEach','REjIx','4|1|2|0|3','LOG_REPORT','@cucumber/cucumber','scenario','IBxCn','seconds','iuzzi','_performCLIInitialization','testCases','hook_type','flat','onTestRunStarted','format','gherkinDocumentMap','util','ArXvb','exception','cliInitPromise','__platform','supportCodeLibrary','stepDefinition','PENDING','kBOeR','pickleMap','ajgZC'];a6_0x43a3=function(){return _0x315fd5;};return a6_0x43a3();}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x117c4d(0x113)),util=require(a6_0x117c4d(0x12a)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x117c4d(0x11e)),TestDetails=require(a6_0x117c4d(0x101)),TestObservabilityReporter=require(a6_0x117c4d(0x7c)),{o11yClassErrorHandler}=require(a6_0x117c4d(0xa7)),{shouldProcessEventForTesthub}=require(a6_0x117c4d(0x118)),BrowserstackCLI=require(a6_0x117c4d(0xbf)),TestFrameworkState=require(a6_0x117c4d(0xa9)),HookState=require(a6_0x117c4d(0x99)),CucumberUtils=require(a6_0x117c4d(0xd3)),TestInfo=require(a6_0x117c4d(0x89)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require('../../../helpers/logger')[a6_0x117c4d(0x147)],_tests={},_testCasesData={};function a6_0x11b7(_0x3b285f,_0x556f0d){const _0x43a301=a6_0x43a3();return a6_0x11b7=function(_0x11b740,_0x57d47e){_0x11b740=_0x11b740-0x79;let _0x7a92e9=_0x43a301[_0x11b740];return _0x7a92e9;},a6_0x11b7(_0x3b285f,_0x556f0d);}class BrowserstackFormatter extends Formatter{constructor(_0x37f2d3){const _0x467d76=a6_0x117c4d,_0x2c7bbe={};_0x2c7bbe[_0x467d76(0xdc)]=_0x467d76(0x9d);const _0x5a099a=_0x2c7bbe;super(_0x37f2d3),this[_0x467d76(0xac)]={},_0x37f2d3[_0x467d76(0x83)]['on'](_0x5a099a[_0x467d76(0xdc)],async _0x3b4afa=>{const _0x56afdb=_0x467d76;switch(!![]){case!!_0x3b4afa[_0x56afdb(0xe5)]:this[_0x56afdb(0x127)](_0x3b4afa[_0x56afdb(0xe5)]);break;case!!_0x3b4afa[_0x56afdb(0xf5)]:this['onTestRunFinished'](_0x3b4afa[_0x56afdb(0xf5)]);break;case!!_0x3b4afa[_0x56afdb(0x8a)]:this['onTestCaseStarted'](_0x3b4afa[_0x56afdb(0x8a)],_0x37f2d3,_0x3b4afa);break;case!!_0x3b4afa[_0x56afdb(0xcb)]:this[_0x56afdb(0xd0)](_0x3b4afa['testCaseFinished'],_0x37f2d3,_0x3b4afa);break;case!!_0x3b4afa[_0x56afdb(0xfc)]:this[_0x56afdb(0xb6)](_0x3b4afa[_0x56afdb(0xfc)],_0x37f2d3);break;case!!_0x3b4afa[_0x56afdb(0x109)]:this[_0x56afdb(0xe9)](_0x3b4afa[_0x56afdb(0x109)],_0x37f2d3);break;case!!_0x3b4afa[_0x56afdb(0x136)]:this[_0x56afdb(0xfa)](_0x3b4afa[_0x56afdb(0x136)]);break;case!!_0x3b4afa[_0x56afdb(0xe0)]:this[_0x56afdb(0x10c)](_0x3b4afa[_0x56afdb(0xe0)]);break;case!!_0x3b4afa[_0x56afdb(0x85)]:this[_0x56afdb(0x93)](_0x3b4afa[_0x56afdb(0x85)]);break;case!!_0x3b4afa[_0x56afdb(0x138)]:this['onGherkinDocument'](_0x3b4afa[_0x56afdb(0x138)]);break;}});}[a6_0x117c4d(0xfa)](_0xbcf9b4){const _0x3578a7=a6_0x117c4d;this[_0x3578a7(0xac)][_0x3578a7(0xf8)]=Object[_0x3578a7(0xc2)]([],this[_0x3578a7(0xac)][_0x3578a7(0xf8)]||[]),this['report'][_0x3578a7(0xf8)][_0x3578a7(0xd6)](_0xbcf9b4);}['onPickle'](_0x464c10){const _0x2e13c4=a6_0x117c4d;this[_0x2e13c4(0xac)][_0x2e13c4(0x85)]=Object[_0x2e13c4(0xc2)]([],this[_0x2e13c4(0xac)][_0x2e13c4(0x85)]||[],[_0x464c10]),this[_0x2e13c4(0xac)][_0x2e13c4(0x85)][_0x2e13c4(0xd6)](_0x464c10);}[a6_0x117c4d(0xde)](_0x31b896){const _0x56736a=a6_0x117c4d;this[_0x56736a(0xac)][_0x56736a(0x138)]=Object[_0x56736a(0xc2)]([],this[_0x56736a(0xac)][_0x56736a(0x138)]||[],[_0x31b896]),this[_0x56736a(0xac)]['gherkinDocument']['push'](_0x31b896);}[a6_0x117c4d(0xf6)](_0x51f317){const _0x3b94d3=a6_0x117c4d;this[_0x3b94d3(0xac)][_0x3b94d3(0xe3)]=_0x51f317;}[a6_0x117c4d(0xce)](_0x4d6b8a){const _0x9b2a4f=a6_0x117c4d;this[_0x9b2a4f(0xac)][_0x9b2a4f(0x130)]=Object[_0x9b2a4f(0xc2)]([],this[_0x9b2a4f(0xac)][_0x9b2a4f(0x130)]||[],[_0x4d6b8a]),this['report'][_0x9b2a4f(0x130)][_0x9b2a4f(0xd6)](_0x4d6b8a);}[a6_0x117c4d(0x10c)](_0xe75ae1){const _0x57406a=a6_0x117c4d;this[_0x57406a(0xac)]['testCases']=Object[_0x57406a(0xc2)]([],this[_0x57406a(0xac)][_0x57406a(0x124)]||[],[_0xe75ae1]),this['report'][_0x57406a(0x124)]['push'](_0xe75ae1);}[a6_0x117c4d(0xd9)](_0x3badb1){const _0x324e6f=a6_0x117c4d,_0x1a41de={'EPZUf':function(_0x4344fa,_0xee41a4){return _0x4344fa!==_0xee41a4;},'QwpzL':'bstack','iuzzi':function(_0x5152d8,_0x437955){return _0x5152d8+_0x437955;},'iWNzC':function(_0x49b985,_0x94cc2d){return _0x49b985+_0x94cc2d;},'VeLli':function(_0x3108a3,_0x65c05e){return _0x3108a3+_0x65c05e;},'qgyTD':function(_0x3e7f08,_0x4327ad){return _0x3e7f08+_0x4327ad;},'ogOVC':'\x20\x20\x20\x20','cmSpW':_0x324e6f(0xd7),'DMaLD':function(_0x3ee333,_0x44fd2b){return _0x3ee333===_0x44fd2b;},'KKPoY':_0x324e6f(0xf7),'yHmKs':function(_0xf3f516,_0x367f59,_0x3ffc89){return _0xf3f516(_0x367f59,_0x3ffc89);},'YySui':_0x324e6f(0x8f),'NVssp':_0x324e6f(0x114),'FoMsU':function(_0x2bf208,_0x44aa1d){return _0x2bf208+_0x44aa1d;},'ajgZC':function(_0x3f97e7,_0x3eb40f){return _0x3f97e7!==_0x3eb40f;},'REjIx':function(_0x1137bc,_0x211265){return _0x1137bc+_0x211265;},'IUpiM':function(_0x2a6333,_0x42e9cd){return _0x2a6333+_0x42e9cd;},'UaDCR':function(_0x4f9ff7,_0x9b2e9a){return _0x4f9ff7+_0x9b2e9a;}};_0x1a41de[_0x324e6f(0x134)](global[_0x324e6f(0x12e)],undefined)&&this['log'](_0x1a41de['REjIx'](_0x1a41de['iuzzi']('\x0a',global[_0x324e6f(0x12e)]),'\x0a'));const _0x17c741=this[_0x324e6f(0x79)]['getTestCaseAttempt'](_0x3badb1['testCaseStartedId']);this[_0x324e6f(0xd4)](_0x1a41de['qgyTD'](_0x1a41de[_0x324e6f(0x110)](_0x1a41de[_0x324e6f(0x11b)](_0x1a41de['UaDCR']('\x20\x20',_0x17c741[_0x324e6f(0x138)][_0x324e6f(0x14a)][_0x324e6f(0x81)]),_0x1a41de[_0x324e6f(0x149)]),_0x17c741['pickle'][_0x324e6f(0x81)]),'\x0a'));const _0x492561={};_0x492561['cwd']=this[_0x324e6f(0xff)],_0x492561[_0x324e6f(0x84)]=this[_0x324e6f(0x84)],_0x492561[_0x324e6f(0x12f)]=this['supportCodeLibrary'],_0x492561[_0x324e6f(0xfb)]=_0x17c741;const _0x20b6df=formatterHelpers['parseTestCaseAttempt'](_0x492561);let _0x12e45e=![];_0x20b6df[_0x324e6f(0xdd)][_0x324e6f(0x11a)](_0x8b48a7=>{const _0x204ac2=_0x324e6f;if(_0x1a41de[_0x204ac2(0xf1)](_0x8b48a7[_0x204ac2(0x81)],_0x1a41de[_0x204ac2(0xdf)])&&!this['isBstackHook'](_0x8b48a7)){totalTests+=0x1,this['log'](_0x1a41de[_0x204ac2(0x122)](_0x1a41de[_0x204ac2(0x122)](_0x1a41de['iWNzC'](_0x1a41de[_0x204ac2(0xc6)](_0x1a41de[_0x204ac2(0x100)](_0x1a41de[_0x204ac2(0x112)],_0x8b48a7[_0x204ac2(0xb8)]),_0x8b48a7[_0x204ac2(0x107)]||''),_0x1a41de['cmSpW']),Status[_0x8b48a7[_0x204ac2(0x8f)]['status']]),'\x0a')),this[_0x204ac2(0x14b)](Status[_0x8b48a7[_0x204ac2(0x8f)]['status']]);if(_0x1a41de[_0x204ac2(0xc5)](Status[_0x8b48a7['result'][_0x204ac2(0xf0)]],_0x1a41de[_0x204ac2(0x106)])){_0x12e45e=!![];const _0x431c18=_0x1a41de['yHmKs'](nestedKeyValue,_0x8b48a7,[_0x1a41de[_0x204ac2(0xb5)],_0x1a41de[_0x204ac2(0xf4)]]);_0x431c18&&(testsErrorMessage[_0x1a41de[_0x204ac2(0xc6)](_0x1a41de['qgyTD'](_0x17c741[_0x204ac2(0x138)][_0x204ac2(0x14a)][_0x204ac2(0x81)],_0x1a41de[_0x204ac2(0x149)]),_0x17c741['pickle'][_0x204ac2(0x81)])]=_0x431c18,this[_0x204ac2(0xd4)](_0x1a41de['FoMsU'](_0x431c18,'\x0a')));}}}),_0x12e45e&&(testSuitesFailed+=0x1),this[_0x324e6f(0xd4)]('\x0a');}['logTestRunFinished'](_0x4abc51){}[a6_0x117c4d(0x8c)](_0x3d884e){const _0x187962=a6_0x117c4d,_0x9a93b0={};_0x9a93b0[_0x187962(0x13e)]=function(_0x7b0d5b,_0x3f1380){return _0x7b0d5b!==_0x3f1380;},_0x9a93b0[_0x187962(0x95)]='cucumber-js/test.setup.js';const _0x480893=_0x9a93b0;if(_0x480893[_0x187962(0x13e)](_0x3d884e[_0x187962(0xc3)],undefined))return![];if(_0x3d884e['actionLocation']&&_0x3d884e[_0x187962(0x13d)][_0x187962(0xd5)][_0x187962(0x98)](_0x480893['QUEhq']))return!![];return![];}[a6_0x117c4d(0x14b)](_0x2d6a19){const _0x533d12=a6_0x117c4d,_0x5d3229={};_0x5d3229[_0x533d12(0xa6)]=_0x533d12(0xf7),_0x5d3229[_0x533d12(0xfe)]=_0x533d12(0x7f),_0x5d3229['QNiJG']='SKIPPED',_0x5d3229[_0x533d12(0xe7)]=_0x533d12(0x131),_0x5d3229['gEprD']='UNDEFINED',_0x5d3229[_0x533d12(0xe1)]=_0x533d12(0x105),_0x5d3229['bjeGZ']=_0x533d12(0xcf);const _0x4b7a40=_0x5d3229;switch(_0x2d6a19){case _0x4b7a40[_0x533d12(0xa6)]:testsFailed+=0x1;break;case _0x4b7a40[_0x533d12(0xfe)]:testsPassed+=0x1;break;case _0x4b7a40['QNiJG']:testsSkipped+=0x1;break;case _0x4b7a40['fAaJi']:testsPending+=0x1;break;case _0x4b7a40['gEprD']:testsUndefined+=0x1;break;case _0x4b7a40[_0x533d12(0xe1)]:testsUnknown+=0x1;break;case _0x4b7a40[_0x533d12(0x137)]:testsAmbiguous+=0x1;break;default:break;}}async[a6_0x117c4d(0x127)](_0x5968d2){const _0x5a72f7=a6_0x117c4d,_0x2d4326={'QYqxw':function(_0x12512e,_0x1dad82){return _0x12512e!==_0x1dad82;},'Ueisc':function(_0x41f7a0,_0x2563a4){return _0x41f7a0!==_0x2563a4;},'KJTWU':function(_0x435692){return _0x435692();},'YtpGo':function(_0xe267cc,_0x39171d){return _0xe267cc(_0x39171d);},'NGsgd':function(_0x4fc4b4,_0x18c070){return _0x4fc4b4+_0x18c070;},'lRzif':function(_0x1e3e6d){return _0x1e3e6d();},'kFXpn':_0x5a72f7(0x94)};let _0x101c50;if(_0x2d4326['QYqxw'](process[_0x5a72f7(0xd2)][_0x5a72f7(0xea)],undefined)){const _0x48ef3e=JSON[_0x5a72f7(0x87)](process[_0x5a72f7(0xd2)][_0x5a72f7(0xea)]);_0x101c50=_0x48ef3e[_0x5a72f7(0xf9)];}_0x2d4326['Ueisc'](_0x101c50,undefined)&&_0x2d4326['KJTWU'](isBrowserstackInfra)&&(global['__platform']=_0x2d4326[_0x5a72f7(0x9a)](getPlatformName,_0x101c50),this[_0x5a72f7(0xd4)](_0x2d4326['NGsgd'](_0x5a72f7(0x97)+global['__platform'],'\x0a'))),_0x2d4326[_0x5a72f7(0x8e)](shouldProcessEventForTesthub)&&(TestDetails[_0x5a72f7(0xe6)](),this[_0x5a72f7(0xac)][_0x5a72f7(0xe5)]=_0x5968d2,BrowserstackCLI[_0x5a72f7(0x92)]()[_0x5a72f7(0x9e)]()&&await this[_0x5a72f7(0xa8)]()&&(TestInfo[_0x5a72f7(0xe6)](_0x2d4326['kFXpn']),await BrowserstackCLI[_0x5a72f7(0x92)]()['getTestFramework']()[_0x5a72f7(0x139)](TestFrameworkState['INIT_TEST'],HookState['PRE'],{})));}[a6_0x117c4d(0xbc)](_0x212c7f){const _0x205cd6=a6_0x117c4d;this[_0x205cd6(0xac)]['testRunFinished']=_0x212c7f,this[_0x205cd6(0x8d)](_0x212c7f);}async[a6_0x117c4d(0x10e)](_0x2ae71d,_0x1f952c,_0x788d32){const _0x4474e3=a6_0x117c4d,_0x4910d1={'DJMmZ':function(_0x4b9fef,_0x44ea32){return _0x4b9fef(_0x44ea32);},'gdPhN':_0x4474e3(0xa2),'wMnPB':function(_0x375397,_0x4114fb){return _0x375397&&_0x4114fb;}};testSuites+=0x1;if(_0x4910d1[_0x4474e3(0x80)](shouldProcessEventForTesthub,_0x4910d1[_0x4474e3(0xcc)]))try{this[_0x4474e3(0xac)][_0x4474e3(0x8a)]=this[_0x4474e3(0xac)][_0x4474e3(0x8a)]||{},this[_0x4474e3(0xac)][_0x4474e3(0x8a)][_0x2ae71d['id']]=_0x2ae71d;let _0x2be1fb=null;BrowserstackCLI[_0x4474e3(0x92)]()[_0x4474e3(0x9e)]()&&await this['isCLIReady']()?_0x2be1fb=TestInfo['getTestUUID'](_0x2ae71d['id']):_0x2be1fb=TestDetails['getTestUUID'](_0x2ae71d['id']);_testCasesData[_0x2ae71d['id']]=Object['assign']({},_0x788d32);const _0x59bd8d=this['report'],_0x59fb94=_0x2ae71d[_0x4474e3(0x10f)],_0x504fb7=_0x59bd8d[_0x4474e3(0x124)][_0x4474e3(0xaa)](_0x46beba=>_0x46beba['id']===_0x59fb94)[_0x4474e3(0x104)],_0x370aa2=_0x59bd8d[_0x4474e3(0x85)][_0x4474e3(0xaa)](_0x812ce5=>_0x812ce5['id']===_0x504fb7),_0x35aeca=_0x59bd8d[_0x4474e3(0x138)][_0x4474e3(0xaa)](_0x1697e7=>_0x1697e7[_0x4474e3(0xd5)]===_0x370aa2['uri']),_0x572489=_0x35aeca[_0x4474e3(0x14a)],_0xbb62f8={'uuid':_0x2be1fb,'startedAt':new Date()[_0x4474e3(0x10a)]()};if(_0x370aa2){const _0x111390={};_0x111390['name']=_0x370aa2['name'],_0xbb62f8[_0x4474e3(0x11f)]=_0x111390;}if(_0x4910d1[_0x4474e3(0xf2)](_0x35aeca,_0x572489)){const _0x28a9e9={};_0x28a9e9[_0x4474e3(0x148)]=_0x35aeca[_0x4474e3(0xd5)],_0x28a9e9[_0x4474e3(0x81)]=_0x572489[_0x4474e3(0x81)],_0x28a9e9[_0x4474e3(0x102)]=_0x572489[_0x4474e3(0x102)],_0xbb62f8[_0x4474e3(0x14a)]=_0x28a9e9;}_tests[_0x59fb94]=_0xbb62f8;if(BrowserstackCLI['getInstance']()['isCliEnabled']()&&await this[_0x4474e3(0xa8)]()){const _0x3fa133=await cucumberUtils[_0x4474e3(0xe2)](_0xbb62f8,_0x370aa2,_0x788d32,_0x35aeca,_0x2ae71d['id'],_0x4910d1['gdPhN']),_0x7885cc={};_0x7885cc[_0x4474e3(0x141)]=_0x3fa133,await BrowserstackCLI[_0x4474e3(0x92)]()[_0x4474e3(0x90)]()[_0x4474e3(0x139)](TestFrameworkState[_0x4474e3(0xc8)],HookState[_0x4474e3(0xa0)],_0x7885cc);return;}await testObservabilityReporter[_0x4474e3(0xae)](_0x788d32,_0x35aeca,_0x370aa2,_0x4910d1[_0x4474e3(0xcc)],_0xbb62f8);}catch(_0x1f67f0){logger[_0x4474e3(0x7a)]('Exception\x20in\x20sending\x20onTestCaseStarted:\x20'+util[_0x4474e3(0x128)](_0x1f67f0)+'\x20');}}async['onTestCaseFinished'](_0x7e0c79,_0x147368,_0x1648c8){const _0x5dd4b5=a6_0x117c4d,_0x479ee7={'WMPMl':function(_0x2f91fd,_0x30f031){return _0x2f91fd(_0x30f031);},'DprVx':'TestRunFinished','BzGzg':_0x5dd4b5(0x141)};this[_0x5dd4b5(0xd9)](_0x7e0c79);if(_0x479ee7[_0x5dd4b5(0x8b)](shouldProcessEventForTesthub,_0x479ee7[_0x5dd4b5(0x7d)]))try{this[_0x5dd4b5(0xac)][_0x5dd4b5(0xcb)]=this[_0x5dd4b5(0xac)][_0x5dd4b5(0xcb)]||{},this[_0x5dd4b5(0xac)][_0x5dd4b5(0xcb)][_0x7e0c79['testCaseStartedId']]=_0x7e0c79,_testCasesData[_0x1648c8['id']]=Object[_0x5dd4b5(0xc2)]({},_0x1648c8);const _0x496b56=_0x7e0c79[_0x5dd4b5(0x103)],_0x318957=_0x147368['eventDataCollector'][_0x5dd4b5(0xb2)][_0x496b56][_0x5dd4b5(0x10f)],_0x1ae573=_0x147368['eventDataCollector'][_0x5dd4b5(0xb0)][_0x318957],_0x5a83fd=_0x1ae573['pickleId'],_0x177ae3=_0x147368[_0x5dd4b5(0x79)][_0x5dd4b5(0x133)][_0x5a83fd],_0x16b78d=this[_0x5dd4b5(0x13f)](_0x147368,_0x177ae3),_0x428d72=_0x16b78d[_0x5dd4b5(0x14a)],_0x3a5b52=_tests[_0x318957];_0x3a5b52&&(delete _tests[_0x318957],_0x3a5b52[_0x5dd4b5(0x96)]=new Date()[_0x5dd4b5(0x10a)]());if(BrowserstackCLI[_0x5dd4b5(0x92)]()[_0x5dd4b5(0x9e)]()&&await this['isCLIReady']()){const _0x5adefe=await cucumberUtils[_0x5dd4b5(0xe2)](_0x3a5b52,_0x177ae3,_0x1648c8,_0x16b78d,_0x496b56,_0x479ee7[_0x5dd4b5(0x7d)]),_0x2d2767={};_0x2d2767[_0x5dd4b5(0x141)]=_0x5adefe,await BrowserstackCLI[_0x5dd4b5(0x92)]()[_0x5dd4b5(0x90)]()['trackEvent'](TestFrameworkState[_0x5dd4b5(0xc8)],HookState['POST'],_0x2d2767);const _0x9345c4={};_0x9345c4['testUUID']=_0x7e0c79[_0x5dd4b5(0x103)],_0x9345c4[_0x5dd4b5(0xbd)]=_0x479ee7[_0x5dd4b5(0xec)],await BrowserstackCLI['getInstance']()[_0x5dd4b5(0x90)]()[_0x5dd4b5(0x139)](TestFrameworkState[_0x5dd4b5(0x11d)],HookState[_0x5dd4b5(0x9f)],_0x9345c4);return;}await testObservabilityReporter[_0x5dd4b5(0xae)](_0x1648c8,_0x16b78d,_0x177ae3,_0x479ee7['DprVx'],_0x3a5b52);}catch(_0x2d0e08){logger[_0x5dd4b5(0x7a)](_0x5dd4b5(0xc1)+util[_0x5dd4b5(0x128)](_0x2d0e08));}}async[a6_0x117c4d(0xb6)](_0x3c02af,_0x4c2e72){const _0x2cbb52=a6_0x117c4d,_0x1bb3a6={'PtiwM':function(_0x5dc449,_0x4d4122){return _0x5dc449(_0x4d4122);},'vOIoz':_0x2cbb52(0xdb),'DSIIX':function(_0x404073,_0x4c9519){return _0x404073!==_0x4c9519;},'Ghxlx':_0x2cbb52(0xa4)};if(_0x1bb3a6['PtiwM'](shouldProcessEventForTesthub,_0x1bb3a6['vOIoz']))try{this[_0x2cbb52(0xac)]['testStepStarted']=this[_0x2cbb52(0xac)][_0x2cbb52(0xfc)]||{},this['report']['testStepStarted'][_0x3c02af['testCaseStartedId']]=_0x3c02af;const _0x149122=_0x3c02af[_0x2cbb52(0x103)],_0x1c0490=_0x4c2e72['eventDataCollector'][_0x2cbb52(0xb2)][_0x149122][_0x2cbb52(0x10f)],_0x43471f=this[_0x2cbb52(0xac)][_0x2cbb52(0x124)][_0x2cbb52(0xaa)](_0x2559d3=>_0x2559d3['id']===_0x1c0490)[_0x2cbb52(0x104)],_0x10390d=this['report'][_0x2cbb52(0x85)][_0x2cbb52(0xaa)](_0x4ab3d7=>_0x4ab3d7['id']===_0x43471f),_0x33783e=this[_0x2cbb52(0xac)][_0x2cbb52(0x124)][_0x2cbb52(0xaa)](_0x4ad247=>_0x4ad247['id']===_0x1c0490)[_0x2cbb52(0xdd)],_0x4efa0f=this[_0x2cbb52(0xac)][_0x2cbb52(0xfc)][_0x149122][_0x2cbb52(0xa4)],_0x19af43=_0x33783e[_0x2cbb52(0xaa)](_0xf67cc1=>_0xf67cc1['id']===_0x4efa0f)[_0x2cbb52(0xd1)],_0x46c19c=_0x10390d[_0x2cbb52(0x91)][_0x2cbb52(0xaa)](_0x20b347=>_0x20b347['id']===_0x19af43);if(_0x19af43&&_tests[_0x1c0490]&&_0x1bb3a6['DSIIX'](_tests[_0x1c0490][_0x1bb3a6['Ghxlx']],_0x4efa0f)){_tests[_0x1c0490][_0x1bb3a6[_0x2cbb52(0xb9)]]=_0x4efa0f;const _0x58bc98={};_0x58bc98[_0x2cbb52(0x91)]=[];const _0x4988c3=_tests[_0x1c0490]||_0x58bc98;_0x4988c3&&!_0x4988c3['steps']&&(_0x4988c3[_0x2cbb52(0x91)]=[]),_0x4988c3[_0x2cbb52(0x91)][_0x2cbb52(0xd6)]({'id':_0x46c19c['id'],'text':_0x46c19c[_0x2cbb52(0x107)],'started_at':new Date()[_0x2cbb52(0x10a)]()}),_tests[_0x1c0490]=_0x4988c3;}if(BrowserstackCLI[_0x2cbb52(0x92)]()[_0x2cbb52(0x9e)]()&&await this[_0x2cbb52(0xa8)]()){const _0x2154a4=await cucumberUtils[_0x2cbb52(0x135)](this[_0x2cbb52(0xac)],_0x149122,_0x1bb3a6[_0x2cbb52(0x142)],_0x33783e,_0x4efa0f,_tests[_0x1c0490]);_0x2154a4&&await BrowserstackCLI[_0x2cbb52(0x92)]()[_0x2cbb52(0x90)]()['trackEvent'](TestFrameworkState[_0x2154a4[_0x2cbb52(0x125)]],HookState[_0x2cbb52(0xa0)],{'hookData':_0x2154a4,'testUUID':_0x3c02af[_0x2cbb52(0x103)]});return;}await testObservabilityReporter[_0x2cbb52(0xcd)](this[_0x2cbb52(0xac)],_0x149122,_0x1bb3a6['vOIoz'],_0x33783e,_0x4efa0f,_tests[_0x1c0490]);}catch(_0x5a4637){logger[_0x2cbb52(0x7a)]('Exception\x20in\x20onTestStepStarted\x20event:\x20'+util['format'](_0x5a4637));}}async['onTestStepFinished'](_0x332efe,_0x5558da){const _0x1aeb05=a6_0x117c4d,_0x41f245={'ODgUj':function(_0x27a971,_0x524a2a){return _0x27a971===_0x524a2a;},'kBOeR':_0x1aeb05(0x11c),'CTFwS':function(_0x5d8ed4,_0x29ac4e){return _0x5d8ed4(_0x29ac4e);},'WWlzI':_0x1aeb05(0x143),'bKPfh':function(_0x51d323,_0x4a38f4){return _0x51d323===_0x4a38f4;},'IBxCn':_0x1aeb05(0xc7),'yCRhj':function(_0x466c28,_0x22b860){return _0x466c28===_0x22b860;},'wuSIb':function(_0x5db3a4,_0x114d88){return _0x5db3a4===_0x114d88;},'NEDBz':_0x1aeb05(0xc0),'HlprF':_0x1aeb05(0xa4),'rCJPv':_0x1aeb05(0xdb),'uJpTm':_0x1aeb05(0x136)};this[_0x1aeb05(0xac)][_0x1aeb05(0x109)]=this[_0x1aeb05(0xac)][_0x1aeb05(0x109)]||{},this[_0x1aeb05(0xac)][_0x1aeb05(0x109)][_0x332efe['testCaseStartedId']]=_0x332efe;if(_0x41f245[_0x1aeb05(0xda)](shouldProcessEventForTesthub,_0x41f245['WWlzI']))try{const _0x723b8c=_0x332efe['testCaseStartedId'],_0x5fb5be=_0x5558da[_0x1aeb05(0x79)][_0x1aeb05(0xb2)][_0x723b8c]['testCaseId'],_0x53a69e=_0x5558da[_0x1aeb05(0x79)][_0x1aeb05(0xb0)][_0x5fb5be],_0x4103b0=_0x53a69e[_0x1aeb05(0x104)],_0x5ce6c9=_0x5558da[_0x1aeb05(0x79)][_0x1aeb05(0x133)][_0x4103b0],_0x79abd9=_0x332efe[_0x1aeb05(0xa4)],_0xe1e1a0=_0x53a69e[_0x1aeb05(0xdd)],_0x23cdd7=this[_0x1aeb05(0x79)][_0x1aeb05(0xf3)](_0x723b8c),_0x1880c1=_0xe1e1a0[_0x1aeb05(0xaa)](_0x2f3fa5=>_0x2f3fa5['id']===_0x79abd9)[_0x1aeb05(0xd1)];let _0x272c67,_0x2047bb;_0x332efe[_0x1aeb05(0xeb)]&&_0x41f245[_0x1aeb05(0xd8)](_0x332efe['testStepResult'][_0x1aeb05(0xf0)][_0x1aeb05(0xad)]()[_0x1aeb05(0xb1)](),_0x41f245[_0x1aeb05(0x120)])&&(_0x272c67=_0x41f245['yCRhj'](_0x332efe[_0x1aeb05(0xeb)][_0x1aeb05(0x12c)],undefined)?_0x332efe[_0x1aeb05(0xeb)]['message']:_0x332efe[_0x1aeb05(0xeb)][_0x1aeb05(0x12c)][_0x1aeb05(0x114)],_0x2047bb=_0x41f245[_0x1aeb05(0xb7)](_0x332efe['testStepResult']['exception'],undefined)?_0x41f245[_0x1aeb05(0x9c)]:_0x332efe[_0x1aeb05(0xeb)][_0x1aeb05(0x114)]);if(_0x1880c1&&_tests[_0x5fb5be][_0x41f245[_0x1aeb05(0x146)]]){const _0x48b9f6=_0x5ce6c9[_0x1aeb05(0x91)][_0x1aeb05(0xaa)](_0x2b734d=>_0x2b734d['id']===_0x1880c1),_0x332548={};_0x332548[_0x1aeb05(0x91)]=[];const _0x3e8139=_tests[_0x5fb5be]||_0x332548;!_0x3e8139[_0x1aeb05(0x91)]?_0x3e8139[_0x1aeb05(0x91)]=[{'id':_0x48b9f6['id'],'text':_0x48b9f6[_0x1aeb05(0x107)],'finished_at':new Date()['toISOString'](),'result':_0x332efe[_0x1aeb05(0xeb)][_0x1aeb05(0xf0)],'duration':_0x332efe[_0x1aeb05(0xeb)][_0x1aeb05(0x115)][_0x1aeb05(0x121)],'failure':_0x272c67,'failureType':_0x2047bb}]:_0x3e8139[_0x1aeb05(0x91)][_0x1aeb05(0x11a)](_0x323115=>{const _0x122d0e=_0x1aeb05;if(_0x41f245[_0x122d0e(0x13b)](_0x323115['id'],_0x48b9f6['id'])){const _0xc740f2=_0x41f245[_0x122d0e(0x132)][_0x122d0e(0x10b)]('|');let _0x3cf3da=0x0;while(!![]){switch(_0xc740f2[_0x3cf3da++]){case'0':_0x323115['failure']=_0x272c67;continue;case'1':_0x323115[_0x122d0e(0x8f)]=_0x332efe[_0x122d0e(0xeb)][_0x122d0e(0xf0)];continue;case'2':_0x323115[_0x122d0e(0x115)]=_0x332efe[_0x122d0e(0xeb)][_0x122d0e(0x115)][_0x122d0e(0x121)];continue;case'3':_0x323115[_0x122d0e(0xba)]=_0x2047bb;continue;case'4':_0x323115['finished_at']=new Date()[_0x122d0e(0x10a)]();continue;}break;}}}),_tests[_0x5fb5be]=_0x3e8139;}delete _tests[_0x5fb5be][_0x41f245[_0x1aeb05(0x146)]];if(BrowserstackCLI[_0x1aeb05(0x92)]()[_0x1aeb05(0x9e)]()&&await this[_0x1aeb05(0xa8)]()){const _0x3708f5=await cucumberUtils[_0x1aeb05(0x135)](this[_0x1aeb05(0xac)],_0x723b8c,_0x41f245[_0x1aeb05(0x14c)],_0xe1e1a0,_0x79abd9,_tests[_0x5fb5be]);if(_0x3708f5){await BrowserstackCLI[_0x1aeb05(0x92)]()[_0x1aeb05(0x90)]()[_0x1aeb05(0x139)](TestFrameworkState[_0x3708f5['hook_type']],HookState['POST'],{'hookData':_0x3708f5,'testUUID':_0x332efe[_0x1aeb05(0x103)]});const _0x3c8244={};_0x3c8244[_0x1aeb05(0x116)]=_0x332efe['testCaseStartedId'],_0x3c8244[_0x1aeb05(0xbd)]=_0x41f245[_0x1aeb05(0x82)],await BrowserstackCLI[_0x1aeb05(0x92)]()[_0x1aeb05(0x90)]()[_0x1aeb05(0x139)](TestFrameworkState['LOG_REPORT'],HookState['POST'],_0x3c8244);}return;}await testObservabilityReporter['sendHook'](this[_0x1aeb05(0xac)],_0x723b8c,_0x41f245[_0x1aeb05(0x111)],_0xe1e1a0,_0x79abd9,_tests[_0x5fb5be]);}catch(_0x114962){logger['debug']('Exception\x20in\x20onTestStepFinished\x20event:\x20'+util[_0x1aeb05(0x128)](_0x114962));}}[a6_0x117c4d(0xee)](_0x48a6da){const _0x18a9fc=a6_0x117c4d,_0x5ac551={};return _0x48a6da[_0x18a9fc(0x14a)][_0x18a9fc(0xef)][_0x18a9fc(0x13a)](this[_0x18a9fc(0xfd)])[_0x18a9fc(0x126)]()[_0x18a9fc(0x11a)](_0xeb9161=>_0xeb9161[_0x18a9fc(0x91)][_0x18a9fc(0x11a)](_0x340d9b=>_0x5ac551[_0x340d9b['id']]=_0x340d9b)),_0x5ac551;}[a6_0x117c4d(0xfd)](_0x10edd0){const _0x33c32f=a6_0x117c4d,_0x2a9bad={'ygFNa':function(_0x9955e9,_0x58b0dc){return _0x9955e9(_0x58b0dc);}};if(!_0x2a9bad[_0x33c32f(0xa5)](isUndefined,_0x10edd0[_0x33c32f(0x86)]))return[_0x10edd0[_0x33c32f(0x86)]];else{if(!_0x2a9bad[_0x33c32f(0xa5)](isUndefined,_0x10edd0[_0x33c32f(0x7e)]))return _0x10edd0[_0x33c32f(0x7e)]['children'][_0x33c32f(0x13a)](_0x2becbd=>!isUndefined(_0x2becbd[_0x33c32f(0x86)])?_0x2becbd[_0x33c32f(0x86)]:_0x2becbd[_0x33c32f(0x11f)]);};return[_0x10edd0[_0x33c32f(0x11f)]];}[a6_0x117c4d(0x13f)](_0x252401,_0x2bd859){const _0x383b18=a6_0x117c4d;return Object['values'](_0x252401['eventDataCollector'][_0x383b18(0x129)])['find'](_0x32ac2e=>_0x32ac2e['uri']===_0x2bd859[_0x383b18(0xd5)]);}async['ensureCLIInitialized'](){const _0xb3536b=a6_0x117c4d;if(this[_0xb3536b(0x12d)])return this[_0xb3536b(0x12d)];return this['cliInitPromise']=this['_performCLIInitialization'](),this[_0xb3536b(0x12d)];}async[a6_0x117c4d(0x123)](){const _0x3d7df9=a6_0x117c4d,_0x256406={'ArXvb':_0x3d7df9(0xa3),'rvoTo':function(_0x2db5f4,_0x373786){return _0x2db5f4(_0x373786);},'dtKMd':_0x3d7df9(0xed),'urbFl':function(_0x2c9ca8,_0x30e4d6){return _0x2c9ca8(_0x30e4d6);},'SmGjj':'../../utils/constants'};try{const _0x2e848e=BrowserstackCLI[_0x3d7df9(0x92)]();if(_0x2e848e[_0x3d7df9(0x108)]())return logger[_0x3d7df9(0x7a)](_0x3d7df9(0xbb)+_0x2e848e[_0x3d7df9(0xbe)]),!![];const _0x245992=process[_0x3d7df9(0xd2)][_0x3d7df9(0xca)];if(!_0x245992)return logger[_0x3d7df9(0x7a)](_0x256406[_0x3d7df9(0x12b)]),![];const _0x4fe3db=_0x256406['rvoTo'](require,_0x256406[_0x3d7df9(0x140)]),{FRAMEWORKS:_0x5a04e7}=_0x256406['urbFl'](require,_0x256406[_0x3d7df9(0x14e)]);return _0x4fe3db['setFrameworkDetail'](_0x5a04e7[_0x3d7df9(0xc9)],_0x5a04e7[_0x3d7df9(0x14d)]),logger['debug'](_0x3d7df9(0xc4)+_0x245992),await _0x2e848e['bootstrap'](),logger[_0x3d7df9(0x7a)](_0x3d7df9(0x10d)+_0x2e848e['isRunning']()+_0x3d7df9(0xaf)+_0x2e848e[_0x3d7df9(0xbe)]),_0x2e848e['isRunning']();}catch(_0x1b3fab){return logger[_0x3d7df9(0x7a)](_0x3d7df9(0x9b)+util['format'](_0x1b3fab)),![];}}async[a6_0x117c4d(0xa8)](){const _0x2709a1=a6_0x117c4d;try{return await this[_0x2709a1(0xa1)](),BrowserstackCLI[_0x2709a1(0x92)]()[_0x2709a1(0x108)]();}catch(_0x23dba6){return logger[_0x2709a1(0x7a)]('isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20'+util[_0x2709a1(0x128)](_0x23dba6)),![];}}}module[a6_0x117c4d(0xe4)]=o11yClassErrorHandler(BrowserstackFormatter,['onTestCaseStarted',a6_0x117c4d(0xd0),a6_0x117c4d(0xb6),a6_0x117c4d(0xe9),'onTestRunStarted',a6_0x117c4d(0xbc),'extractStepContainers','getGherkinDocument','getGherkinStepMap']);