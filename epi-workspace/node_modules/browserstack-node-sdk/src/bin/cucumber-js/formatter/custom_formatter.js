function a6_0x44c4(_0x1ef989,_0x5c6614){const _0x43c859=a6_0x43c8();return a6_0x44c4=function(_0x44c4d0,_0x52d86b){_0x44c4d0=_0x44c4d0-0x197;let _0x43e205=_0x43c859[_0x44c4d0];return _0x43e205;},a6_0x44c4(_0x1ef989,_0x5c6614);}const a6_0x285c53=a6_0x44c4;(function(_0x3996c7,_0x1e6e1e){const _0x1672ec=a6_0x44c4,_0x4ae533=_0x3996c7();while(!![]){try{const _0x8e5af0=-parseInt(_0x1672ec(0x203))/0x1+-parseInt(_0x1672ec(0x1c0))/0x2*(-parseInt(_0x1672ec(0x19e))/0x3)+-parseInt(_0x1672ec(0x1d5))/0x4+-parseInt(_0x1672ec(0x20b))/0x5+-parseInt(_0x1672ec(0x1e2))/0x6*(parseInt(_0x1672ec(0x1de))/0x7)+parseInt(_0x1672ec(0x1cb))/0x8+parseInt(_0x1672ec(0x22e))/0x9*(parseInt(_0x1672ec(0x1d9))/0xa);if(_0x8e5af0===_0x1e6e1e)break;else _0x4ae533['push'](_0x4ae533['shift']());}catch(_0x1456b8){_0x4ae533['push'](_0x4ae533['shift']());}}}(a6_0x43c8,0x4cb06));const {requireModule,getPlatformName,nestedKeyValue,isUndefined}=require('../../../helpers/helper'),util=require(a6_0x285c53(0x215)),{Formatter,formatterHelpers,Status}=requireModule('@cucumber/cucumber'),TestDetails=require(a6_0x285c53(0x1f2)),TestObservabilityReporter=require(a6_0x285c53(0x1be)),{o11yClassErrorHandler}=require(a6_0x285c53(0x20d)),{shouldProcessEventForTesthub}=require('../../../helpers/testhub/utils.js'),testObservabilityReporter=new TestObservabilityReporter(),logger=require(a6_0x285c53(0x217))[a6_0x285c53(0x1f5)],_tests={},_testCasesData={};function a6_0x43c8(){const _0x54b711=['getTestCaseAttempt','actionLocation','toLowerCase','AMBIGUOUS','cucumber-js/test.setup.js','parseTestCaseAttempt','debug','feature','dHdXG','ZPIls','243899liQiaa','status','toISOString','sendHook','gcJYg','gherkinDocument','UNKNOWN','testRunFinished','2572515aBeBJZ','forEach','../../../helpers/test-observability/error-handler','sendTestRunEventForCucumber','BXpai','cwd','\x20\x20\x20\x20','Exception\x20in\x20onTestStepStarted\x20event:\x20','testSteps','find','util','QrbzW','../../../helpers/logger','message','lkpzG','testCaseAttempt','wcIKR','UnhandledError','snippetBuilder','FRGaz','oDhwo','map','extractStepContainers','sourceLocation','failureType','seconds','SMJWx','NoXlg','background','ofPSX','vcBiz','pickleMap','capability','kpdzB','nlCMw','2007qnuAis','COFZg','stepDefinition','EnyVn','onTestCaseFinished','pickleStepId','cXAsC','lEnkG','rule','finishedAt','logTestRunFinished','onTestStepFinished','values','IGgRt','pickleId','report','testStepFinished','name','pickle','format','toString','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','testRunStarted','EbStW','3FKbzsF','flat','testCaseFinished','onSource','source','eventDataCollector','onTestStepStarted','env','getTestUUID','onStepDefinition','FAILED','scenario','nAhzE','RZbXo','tywtr','Xfphf','ueSjQ','__platform','\x20-\x20','setup','ZMgRG','zgVUv','testCaseId','testCases','testStepResult','onTestCaseStarted','GJxiW','onHook','supportCodeLibrary','finished_at','xFXfC','nWPcW','../test-observability.js','onTestRunFinished','716580zjoRJM','log','testStepStarted','description','push','getGherkinDocument','children','CEfyN','hook','CONFIG','kVtoO','1369832aeDXGW','FwSwF','failure','testCaseStartedId','logTestCaseFinished','onTestRunStarted','bIFtE','PENDING','gherkinDocumentMap','steps','810288DQfzyu','AyYBh','lvDQq','split','33950yKjONq','testCaseStarted','SKIPPED','pjmbf','text','56SDoyyv','TestRunStarted','testCaseMap','onGherkinDocument','8634lhTUVJ','KlaRt','GFluC','testCaseAttemptDataMap','bsazG','result','testStepId','cLFYb','assign','uri','onPickle','hooks','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','exception','Executing\x20tests\x20for\x20','HookRunStarted','../../playwright/reporter/test-details.js','path','isBstackHook','winstonLogger','getGherkinStepMap','tJuiA','duration'];a6_0x43c8=function(){return _0x54b711;};return a6_0x43c8();}class BrowserstackFormatter extends Formatter{constructor(_0x905877){const _0x9a2fe7=a6_0x285c53,_0x44e2e0={};_0x44e2e0[_0x9a2fe7(0x1f7)]='envelope';const _0x344cae=_0x44e2e0;super(_0x905877),this[_0x9a2fe7(0x23d)]={},_0x905877['eventBroadcaster']['on'](_0x344cae['tJuiA'],async _0x536f0c=>{const _0x20d5be=_0x9a2fe7;switch(!![]){case!!_0x536f0c[_0x20d5be(0x19c)]:this[_0x20d5be(0x1d0)](_0x536f0c[_0x20d5be(0x19c)]);break;case!!_0x536f0c['testRunFinished']:this['onTestRunFinished'](_0x536f0c[_0x20d5be(0x20a)]);break;case!!_0x536f0c[_0x20d5be(0x1da)]:this[_0x20d5be(0x1b7)](_0x536f0c['testCaseStarted'],_0x905877,_0x536f0c);break;case!!_0x536f0c[_0x20d5be(0x1a0)]:this[_0x20d5be(0x232)](_0x536f0c[_0x20d5be(0x1a0)],_0x905877,_0x536f0c);break;case!!_0x536f0c['testStepStarted']:this[_0x20d5be(0x1a4)](_0x536f0c['testStepStarted'],_0x905877);break;case!!_0x536f0c[_0x20d5be(0x23e)]:this[_0x20d5be(0x239)](_0x536f0c[_0x20d5be(0x23e)],_0x905877);break;case!!_0x536f0c[_0x20d5be(0x1c8)]:this[_0x20d5be(0x1b9)](_0x536f0c[_0x20d5be(0x1c8)]);break;case!!_0x536f0c['testCase']:this['onTestCase'](_0x536f0c['testCase']);break;case!!_0x536f0c[_0x20d5be(0x198)]:this[_0x20d5be(0x1ec)](_0x536f0c[_0x20d5be(0x198)]);break;case!!_0x536f0c['gherkinDocument']:this[_0x20d5be(0x1e1)](_0x536f0c[_0x20d5be(0x208)]);break;}});}[a6_0x285c53(0x1b9)](_0x3c6a51){const _0x44d763=a6_0x285c53;this[_0x44d763(0x23d)]['hooks']=Object[_0x44d763(0x1ea)]([],this[_0x44d763(0x23d)][_0x44d763(0x1ed)]||[]),this[_0x44d763(0x23d)]['hooks']['push'](_0x3c6a51);}[a6_0x285c53(0x1ec)](_0x37cbe9){const _0x3d8193=a6_0x285c53;this[_0x3d8193(0x23d)][_0x3d8193(0x198)]=Object[_0x3d8193(0x1ea)]([],this[_0x3d8193(0x23d)][_0x3d8193(0x198)]||[],[_0x37cbe9]),this[_0x3d8193(0x23d)]['pickle'][_0x3d8193(0x1c4)](_0x37cbe9);}['onGherkinDocument'](_0x1d0134){const _0x3ed73c=a6_0x285c53;this['report']['gherkinDocument']=Object[_0x3ed73c(0x1ea)]([],this[_0x3ed73c(0x23d)]['gherkinDocument']||[],[_0x1d0134]),this[_0x3ed73c(0x23d)]['gherkinDocument'][_0x3ed73c(0x1c4)](_0x1d0134);}[a6_0x285c53(0x1a1)](_0x26b093){const _0x4d52cc=a6_0x285c53;this[_0x4d52cc(0x23d)][_0x4d52cc(0x1a2)]=_0x26b093;}[a6_0x285c53(0x1a7)](_0x2bf0aa){const _0x1d87e3=a6_0x285c53;this[_0x1d87e3(0x23d)][_0x1d87e3(0x230)]=Object[_0x1d87e3(0x1ea)]([],this[_0x1d87e3(0x23d)]['stepDefinition']||[],[_0x2bf0aa]),this[_0x1d87e3(0x23d)][_0x1d87e3(0x230)][_0x1d87e3(0x1c4)](_0x2bf0aa);}['onTestCase'](_0x5da884){const _0x3c4f00=a6_0x285c53;this[_0x3c4f00(0x23d)]['testCases']=Object['assign']([],this[_0x3c4f00(0x23d)]['testCases']||[],[_0x5da884]),this[_0x3c4f00(0x23d)][_0x3c4f00(0x1b5)]['push'](_0x5da884);}[a6_0x285c53(0x1cf)](_0x6e6b7c){const _0x24ecee=a6_0x285c53,_0x191b21={'RZbXo':function(_0x1aee15,_0x2826be){return _0x1aee15!==_0x2826be;},'gysHy':'bstack','SMJWx':function(_0x3b02bd,_0xbb7d5b){return _0x3b02bd+_0xbb7d5b;},'FwSwF':function(_0x43ec6d,_0x30f82e){return _0x43ec6d+_0x30f82e;},'vcBiz':function(_0x52f4bf,_0x4ebe97){return _0x52f4bf+_0x4ebe97;},'lpJZs':_0x24ecee(0x211),'EnyVn':_0x24ecee(0x1b0),'tywtr':function(_0x133aae,_0x16a909){return _0x133aae===_0x16a909;},'lEnkG':_0x24ecee(0x1a8),'nlCMw':function(_0x115e1c,_0x4c7a20,_0x2715e1){return _0x115e1c(_0x4c7a20,_0x2715e1);},'lvDQq':_0x24ecee(0x1e7),'xFXfC':'message','AyYBh':function(_0x8d63df,_0x3d2ba4){return _0x8d63df+_0x3d2ba4;},'nWPcW':function(_0x110104,_0x1e94a6){return _0x110104!==_0x1e94a6;},'FRGaz':function(_0x25ca64,_0x564a2d){return _0x25ca64+_0x564a2d;},'bvQjv':function(_0x1c0321,_0x3e0eac){return _0x1c0321+_0x3e0eac;},'IGgRt':function(_0x1f4769,_0x31b7ef){return _0x1f4769+_0x31b7ef;}};_0x191b21[_0x24ecee(0x1bd)](global[_0x24ecee(0x1af)],undefined)&&this[_0x24ecee(0x1c1)](_0x191b21[_0x24ecee(0x21e)](_0x191b21['bvQjv']('\x0a',global['__platform']),'\x0a'));const _0x26da65=this['eventDataCollector'][_0x24ecee(0x1f9)](_0x6e6b7c[_0x24ecee(0x1ce)]);this[_0x24ecee(0x1c1)](_0x191b21['IGgRt'](_0x191b21[_0x24ecee(0x23b)](_0x191b21['IGgRt'](_0x191b21[_0x24ecee(0x1d6)]('\x20\x20',_0x26da65[_0x24ecee(0x208)][_0x24ecee(0x200)][_0x24ecee(0x197)]),_0x191b21[_0x24ecee(0x231)]),_0x26da65[_0x24ecee(0x198)][_0x24ecee(0x197)]),'\x0a'));const _0x21bb3e={};_0x21bb3e['cwd']=this[_0x24ecee(0x210)],_0x21bb3e['snippetBuilder']=this[_0x24ecee(0x21d)],_0x21bb3e['supportCodeLibrary']=this[_0x24ecee(0x1ba)],_0x21bb3e[_0x24ecee(0x21a)]=_0x26da65;const _0xf5f259=formatterHelpers[_0x24ecee(0x1fe)](_0x21bb3e);let _0x55cdff=![];_0xf5f259[_0x24ecee(0x213)][_0x24ecee(0x20c)](_0x13ac2d=>{const _0x41e39b=_0x24ecee;if(_0x191b21[_0x41e39b(0x1ab)](_0x13ac2d[_0x41e39b(0x197)],_0x191b21['gysHy'])&&!this[_0x41e39b(0x1f4)](_0x13ac2d)){totalTests+=0x1,this[_0x41e39b(0x1c1)](_0x191b21[_0x41e39b(0x225)](_0x191b21[_0x41e39b(0x225)](_0x191b21[_0x41e39b(0x1cc)](_0x191b21[_0x41e39b(0x1cc)](_0x191b21[_0x41e39b(0x229)](_0x191b21['lpJZs'],_0x13ac2d['keyword']),_0x13ac2d[_0x41e39b(0x1dd)]||''),_0x191b21['EnyVn']),Status[_0x13ac2d[_0x41e39b(0x1e7)]['status']]),'\x0a')),this['incrementCounter'](Status[_0x13ac2d[_0x41e39b(0x1e7)][_0x41e39b(0x204)]]);if(_0x191b21[_0x41e39b(0x1ac)](Status[_0x13ac2d[_0x41e39b(0x1e7)][_0x41e39b(0x204)]],_0x191b21[_0x41e39b(0x235)])){_0x55cdff=!![];const _0x545057=_0x191b21[_0x41e39b(0x22d)](nestedKeyValue,_0x13ac2d,[_0x191b21[_0x41e39b(0x1d7)],_0x191b21[_0x41e39b(0x1bc)]]);_0x545057&&(testsErrorMessage[_0x191b21['SMJWx'](_0x191b21[_0x41e39b(0x225)](_0x26da65[_0x41e39b(0x208)]['feature'][_0x41e39b(0x197)],_0x191b21[_0x41e39b(0x231)]),_0x26da65[_0x41e39b(0x198)]['name'])]=_0x545057,this[_0x41e39b(0x1c1)](_0x191b21['AyYBh'](_0x545057,'\x0a')));}}}),_0x55cdff&&(testSuitesFailed+=0x1),this[_0x24ecee(0x1c1)]('\x0a');}[a6_0x285c53(0x238)](_0x78127d){}[a6_0x285c53(0x1f4)](_0x545fa8){const _0x1ac8bb=a6_0x285c53,_0x515902={};_0x515902[_0x1ac8bb(0x22f)]=function(_0x3eb833,_0x2cda8a){return _0x3eb833!==_0x2cda8a;},_0x515902[_0x1ac8bb(0x1e6)]=_0x1ac8bb(0x1fd);const _0xe1cad8=_0x515902;if(_0xe1cad8[_0x1ac8bb(0x22f)](_0x545fa8[_0x1ac8bb(0x222)],undefined))return![];if(_0x545fa8[_0x1ac8bb(0x1fa)]&&_0x545fa8[_0x1ac8bb(0x1fa)][_0x1ac8bb(0x1eb)]['includes'](_0xe1cad8[_0x1ac8bb(0x1e6)]))return!![];return![];}['incrementCounter'](_0x149cc0){const _0x65f234=a6_0x285c53,_0x332772={};_0x332772[_0x65f234(0x1ca)]=_0x65f234(0x1a8),_0x332772[_0x65f234(0x22c)]='PASSED',_0x332772[_0x65f234(0x1b2)]=_0x65f234(0x1db),_0x332772['cXAsC']=_0x65f234(0x1d2),_0x332772[_0x65f234(0x201)]='UNDEFINED',_0x332772[_0x65f234(0x1e4)]=_0x65f234(0x209),_0x332772[_0x65f234(0x1e3)]=_0x65f234(0x1fc);const _0x49a848=_0x332772;switch(_0x149cc0){case _0x49a848[_0x65f234(0x1ca)]:testsFailed+=0x1;break;case _0x49a848[_0x65f234(0x22c)]:testsPassed+=0x1;break;case _0x49a848[_0x65f234(0x1b2)]:testsSkipped+=0x1;break;case _0x49a848[_0x65f234(0x234)]:testsPending+=0x1;break;case _0x49a848[_0x65f234(0x201)]:testsUndefined+=0x1;break;case _0x49a848['GFluC']:testsUnknown+=0x1;break;case _0x49a848['KlaRt']:testsAmbiguous+=0x1;break;default:break;}}['onTestRunStarted'](_0x46b3a4){const _0xd65c63=a6_0x285c53,_0x56c2db={'EyNiS':function(_0x5783e6,_0x38b658){return _0x5783e6!==_0x38b658;},'KaSbu':function(_0xc49e75,_0x182d8e){return _0xc49e75!==_0x182d8e;},'gcJYg':function(_0x2c7f27,_0x56f9bd){return _0x2c7f27(_0x56f9bd);},'NoXlg':function(_0x2da411,_0x3c8fb5){return _0x2da411+_0x3c8fb5;},'zgVUv':function(_0x544c2f){return _0x544c2f();}};let _0x304766;if(_0x56c2db['EyNiS'](process[_0xd65c63(0x1a5)][_0xd65c63(0x1c9)],undefined)){const _0x512eb9=JSON['parse'](process[_0xd65c63(0x1a5)]['CONFIG']);_0x304766=_0x512eb9[_0xd65c63(0x22b)];}_0x56c2db['KaSbu'](_0x304766,undefined)&&(global[_0xd65c63(0x1af)]=_0x56c2db[_0xd65c63(0x207)](getPlatformName,_0x304766),this['log'](_0x56c2db[_0xd65c63(0x226)](_0xd65c63(0x1f0)+global['__platform'],'\x0a'))),_0x56c2db[_0xd65c63(0x1b3)](shouldProcessEventForTesthub)&&(TestDetails[_0xd65c63(0x1b1)](),this[_0xd65c63(0x23d)][_0xd65c63(0x19c)]=_0x46b3a4);}[a6_0x285c53(0x1bf)](_0x3101be){const _0x505860=a6_0x285c53;this['report'][_0x505860(0x20a)]=_0x3101be,this[_0x505860(0x238)](_0x3101be);}async['onTestCaseStarted'](_0x36c5e9,_0x5a641d,_0x45d7c4){const _0x394af5=a6_0x285c53,_0x443410={'ofPSX':function(_0x51bb07,_0x235084){return _0x51bb07(_0x235084);},'Xfphf':_0x394af5(0x1df),'EbStW':function(_0x528b41,_0x5ae63f){return _0x528b41&&_0x5ae63f;}};testSuites+=0x1;if(_0x443410[_0x394af5(0x228)](shouldProcessEventForTesthub,_0x443410[_0x394af5(0x1ad)]))try{this[_0x394af5(0x23d)][_0x394af5(0x1da)]=this[_0x394af5(0x23d)][_0x394af5(0x1da)]||{},this['report'][_0x394af5(0x1da)][_0x36c5e9['id']]=_0x36c5e9;const _0x56730b=TestDetails[_0x394af5(0x1a6)](_0x36c5e9['id']);_testCasesData[_0x36c5e9['id']]=Object[_0x394af5(0x1ea)]({},_0x45d7c4);const _0x4c3287=this[_0x394af5(0x23d)],_0x2ff611=_0x36c5e9[_0x394af5(0x1b4)],_0x51823e=_0x4c3287['testCases']['find'](_0x4b0591=>_0x4b0591['id']===_0x2ff611)[_0x394af5(0x23c)],_0x58fdae=_0x4c3287[_0x394af5(0x198)]['find'](_0x5b7c05=>_0x5b7c05['id']===_0x51823e),_0x3fdb25=_0x4c3287[_0x394af5(0x208)][_0x394af5(0x214)](_0x3a0e97=>_0x3a0e97['uri']===_0x58fdae[_0x394af5(0x1eb)]),_0x40a931=_0x3fdb25['feature'],_0x345210={'uuid':_0x56730b,'startedAt':new Date()[_0x394af5(0x205)]()};if(_0x58fdae){const _0x1d7280={};_0x1d7280[_0x394af5(0x197)]=_0x58fdae[_0x394af5(0x197)],_0x345210[_0x394af5(0x1a9)]=_0x1d7280;}if(_0x443410[_0x394af5(0x19d)](_0x3fdb25,_0x40a931)){const _0x23bd8d={};_0x23bd8d[_0x394af5(0x1f3)]=_0x3fdb25[_0x394af5(0x1eb)],_0x23bd8d[_0x394af5(0x197)]=_0x40a931[_0x394af5(0x197)],_0x23bd8d[_0x394af5(0x1c3)]=_0x40a931[_0x394af5(0x1c3)],_0x345210[_0x394af5(0x200)]=_0x23bd8d;}_tests[_0x2ff611]=_0x345210,await testObservabilityReporter[_0x394af5(0x20e)](_0x45d7c4,_0x3fdb25,_0x58fdae,_0x443410[_0x394af5(0x1ad)],_0x345210);}catch(_0x1f299f){logger[_0x394af5(0x1ff)](_0x394af5(0x19b)+util[_0x394af5(0x199)](_0x1f299f)+'\x20');}}async[a6_0x285c53(0x232)](_0x516182,_0x1347e6,_0xbc4863){const _0x58eed8=a6_0x285c53,_0x984f57={'bIFtE':function(_0x337c46,_0x559bf3){return _0x337c46(_0x559bf3);},'QrbzW':'TestRunFinished'};this['logTestCaseFinished'](_0x516182);if(_0x984f57[_0x58eed8(0x1d1)](shouldProcessEventForTesthub,_0x984f57[_0x58eed8(0x216)]))try{this[_0x58eed8(0x23d)][_0x58eed8(0x1a0)]=this['report'][_0x58eed8(0x1a0)]||{},this[_0x58eed8(0x23d)]['testCaseFinished'][_0x516182[_0x58eed8(0x1ce)]]=_0x516182,_testCasesData[_0xbc4863['id']]=Object[_0x58eed8(0x1ea)]({},_0xbc4863);const _0x2b7992=_0x516182['testCaseStartedId'],_0xfbafff=_0x1347e6['eventDataCollector'][_0x58eed8(0x1e5)][_0x2b7992][_0x58eed8(0x1b4)],_0x1d7c6c=_0x1347e6[_0x58eed8(0x1a3)]['testCaseMap'][_0xfbafff],_0x4d2c27=_0x1d7c6c[_0x58eed8(0x23c)],_0x49d6f8=_0x1347e6[_0x58eed8(0x1a3)][_0x58eed8(0x22a)][_0x4d2c27],_0x12f5df=this[_0x58eed8(0x1c5)](_0x1347e6,_0x49d6f8),_0x4b6df7=_tests[_0xfbafff];_0x4b6df7&&(delete _tests[_0xfbafff],_0x4b6df7[_0x58eed8(0x237)]=new Date()['toISOString']()),await testObservabilityReporter[_0x58eed8(0x20e)](_0xbc4863,_0x12f5df,_0x49d6f8,_0x984f57[_0x58eed8(0x216)],_0x4b6df7);}catch(_0x5c8fcc){logger[_0x58eed8(0x1ff)](_0x58eed8(0x1ee)+util[_0x58eed8(0x199)](_0x5c8fcc));}}async['onTestStepStarted'](_0x544b7b,_0x39bd7c){const _0x32dbed=a6_0x285c53,_0x3217b1={'BXpai':function(_0x227cc0,_0x2513cd){return _0x227cc0(_0x2513cd);},'CEfyN':_0x32dbed(0x1f1),'GJxiW':function(_0x1df506,_0x216300){return _0x1df506!==_0x216300;},'ueSjQ':_0x32dbed(0x1e8)};if(_0x3217b1[_0x32dbed(0x20f)](shouldProcessEventForTesthub,_0x3217b1[_0x32dbed(0x1c7)]))try{this[_0x32dbed(0x23d)]['testStepStarted']=this[_0x32dbed(0x23d)][_0x32dbed(0x1c2)]||{},this[_0x32dbed(0x23d)][_0x32dbed(0x1c2)][_0x544b7b[_0x32dbed(0x1ce)]]=_0x544b7b;const _0x508fda=_0x544b7b[_0x32dbed(0x1ce)],_0x29b39c=_0x39bd7c[_0x32dbed(0x1a3)]['testCaseAttemptDataMap'][_0x508fda][_0x32dbed(0x1b4)],_0x9c024e=this[_0x32dbed(0x23d)]['testCases'][_0x32dbed(0x214)](_0x3fc81b=>_0x3fc81b['id']===_0x29b39c)[_0x32dbed(0x23c)],_0x2e691f=this[_0x32dbed(0x23d)][_0x32dbed(0x198)][_0x32dbed(0x214)](_0x24e616=>_0x24e616['id']===_0x9c024e),_0x5acd5c=this[_0x32dbed(0x23d)][_0x32dbed(0x1b5)]['find'](_0x3376c7=>_0x3376c7['id']===_0x29b39c)[_0x32dbed(0x213)],_0x4cf4ac=this[_0x32dbed(0x23d)][_0x32dbed(0x1c2)][_0x508fda][_0x32dbed(0x1e8)],_0xc8ff85=_0x5acd5c[_0x32dbed(0x214)](_0x4574ad=>_0x4574ad['id']===_0x4cf4ac)[_0x32dbed(0x233)],_0x459111=_0x2e691f[_0x32dbed(0x1d4)][_0x32dbed(0x214)](_0x341f1f=>_0x341f1f['id']===_0xc8ff85);if(_0xc8ff85&&_tests[_0x29b39c]&&_0x3217b1[_0x32dbed(0x1b8)](_tests[_0x29b39c][_0x3217b1[_0x32dbed(0x1ae)]],_0x4cf4ac)){_tests[_0x29b39c][_0x3217b1[_0x32dbed(0x1ae)]]=_0x4cf4ac;const _0x88723a={};_0x88723a[_0x32dbed(0x1d4)]=[];const _0x279374=_tests[_0x29b39c]||_0x88723a;_0x279374&&!_0x279374['steps']&&(_0x279374[_0x32dbed(0x1d4)]=[]),_0x279374[_0x32dbed(0x1d4)]['push']({'id':_0x459111['id'],'text':_0x459111[_0x32dbed(0x1dd)],'started_at':new Date()[_0x32dbed(0x205)]()}),_tests[_0x29b39c]=_0x279374;}await testObservabilityReporter[_0x32dbed(0x206)](this['report'],_0x508fda,_0x3217b1[_0x32dbed(0x1c7)],_0x5acd5c,_0x4cf4ac,_tests[_0x29b39c]);}catch(_0x4be5e4){logger[_0x32dbed(0x1ff)](_0x32dbed(0x212)+util['format'](_0x4be5e4));}}async[a6_0x285c53(0x239)](_0x1dd54a,_0x2cc483){const _0x1e4a7c=a6_0x285c53,_0x4c0858={'ZPIls':function(_0x16a324,_0x553bf0){return _0x16a324===_0x553bf0;},'lkpzG':'2|3|4|0|1','pjmbf':function(_0x24e327,_0x343c8e){return _0x24e327(_0x343c8e);},'cLFYb':'HookRunFinished','dXOnk':'failed','wEXPz':function(_0x4da099,_0x280fa9){return _0x4da099===_0x280fa9;},'wcIKR':_0x1e4a7c(0x21c),'oDhwo':_0x1e4a7c(0x1e8)};this[_0x1e4a7c(0x23d)][_0x1e4a7c(0x23e)]=this[_0x1e4a7c(0x23d)][_0x1e4a7c(0x23e)]||{},this[_0x1e4a7c(0x23d)]['testStepFinished'][_0x1dd54a[_0x1e4a7c(0x1ce)]]=_0x1dd54a;if(_0x4c0858[_0x1e4a7c(0x1dc)](shouldProcessEventForTesthub,_0x4c0858[_0x1e4a7c(0x1e9)]))try{const _0x3cda5e=_0x1dd54a[_0x1e4a7c(0x1ce)],_0x18b6c8=_0x2cc483[_0x1e4a7c(0x1a3)]['testCaseAttemptDataMap'][_0x3cda5e]['testCaseId'],_0x159cc1=_0x2cc483[_0x1e4a7c(0x1a3)][_0x1e4a7c(0x1e0)][_0x18b6c8],_0x2d6ab5=_0x159cc1[_0x1e4a7c(0x23c)],_0x2a90ae=_0x2cc483[_0x1e4a7c(0x1a3)]['pickleMap'][_0x2d6ab5],_0x1c718b=_0x1dd54a[_0x1e4a7c(0x1e8)],_0x4fa55e=_0x159cc1[_0x1e4a7c(0x213)],_0x2400e7=this['eventDataCollector'][_0x1e4a7c(0x1f9)](_0x3cda5e),_0x4a1f43=_0x4fa55e[_0x1e4a7c(0x214)](_0x3fa764=>_0x3fa764['id']===_0x1c718b)[_0x1e4a7c(0x233)];let _0x5379b6,_0x34524f;_0x1dd54a[_0x1e4a7c(0x1b6)]&&_0x4c0858[_0x1e4a7c(0x202)](_0x1dd54a[_0x1e4a7c(0x1b6)][_0x1e4a7c(0x204)][_0x1e4a7c(0x19a)]()[_0x1e4a7c(0x1fb)](),_0x4c0858['dXOnk'])&&(_0x5379b6=_0x4c0858[_0x1e4a7c(0x202)](_0x1dd54a[_0x1e4a7c(0x1b6)]['exception'],undefined)?_0x1dd54a[_0x1e4a7c(0x1b6)]['message']:_0x1dd54a[_0x1e4a7c(0x1b6)][_0x1e4a7c(0x1ef)][_0x1e4a7c(0x218)],_0x34524f=_0x4c0858['wEXPz'](_0x1dd54a['testStepResult'][_0x1e4a7c(0x1ef)],undefined)?_0x4c0858[_0x1e4a7c(0x21b)]:_0x1dd54a[_0x1e4a7c(0x1b6)][_0x1e4a7c(0x218)]);await testObservabilityReporter[_0x1e4a7c(0x206)](this['report'],_0x3cda5e,_0x4c0858['cLFYb'],_0x4fa55e,_0x1c718b,_tests[_0x18b6c8]);if(_0x4a1f43&&_tests[_0x18b6c8][_0x4c0858[_0x1e4a7c(0x21f)]]){const _0x12c8b5=_0x2a90ae[_0x1e4a7c(0x1d4)][_0x1e4a7c(0x214)](_0x58f5e5=>_0x58f5e5['id']===_0x4a1f43),_0x4ecc03={};_0x4ecc03[_0x1e4a7c(0x1d4)]=[];const _0x5552fc=_tests[_0x18b6c8]||_0x4ecc03;!_0x5552fc[_0x1e4a7c(0x1d4)]?_0x5552fc[_0x1e4a7c(0x1d4)]=[{'id':_0x12c8b5['id'],'text':_0x12c8b5['text'],'finished_at':new Date()[_0x1e4a7c(0x205)](),'result':_0x1dd54a['testStepResult'][_0x1e4a7c(0x204)],'duration':_0x1dd54a['testStepResult'][_0x1e4a7c(0x1f8)][_0x1e4a7c(0x224)],'failure':_0x5379b6,'failureType':_0x34524f}]:_0x5552fc[_0x1e4a7c(0x1d4)][_0x1e4a7c(0x20c)](_0x41380a=>{const _0x19d648=_0x1e4a7c;if(_0x4c0858[_0x19d648(0x202)](_0x41380a['id'],_0x12c8b5['id'])){const _0x215209=_0x4c0858[_0x19d648(0x219)][_0x19d648(0x1d8)]('|');let _0x409ff2=0x0;while(!![]){switch(_0x215209[_0x409ff2++]){case'0':_0x41380a[_0x19d648(0x1cd)]=_0x5379b6;continue;case'1':_0x41380a[_0x19d648(0x223)]=_0x34524f;continue;case'2':_0x41380a[_0x19d648(0x1bb)]=new Date()[_0x19d648(0x205)]();continue;case'3':_0x41380a[_0x19d648(0x1e7)]=_0x1dd54a[_0x19d648(0x1b6)][_0x19d648(0x204)];continue;case'4':_0x41380a[_0x19d648(0x1f8)]=_0x1dd54a[_0x19d648(0x1b6)][_0x19d648(0x1f8)][_0x19d648(0x224)];continue;}break;}}}),_tests[_0x18b6c8]=_0x5552fc,delete _tests[_0x18b6c8][_0x4c0858[_0x1e4a7c(0x21f)]];}}catch(_0x141886){logger[_0x1e4a7c(0x1ff)]('Exception\x20in\x20onTestStepFinished\x20event:\x20'+util[_0x1e4a7c(0x199)](_0x141886));}}[a6_0x285c53(0x1f6)](_0x35914a){const _0x30da21=a6_0x285c53,_0x164544={};return _0x35914a[_0x30da21(0x200)][_0x30da21(0x1c6)][_0x30da21(0x220)](this[_0x30da21(0x221)])[_0x30da21(0x19f)]()[_0x30da21(0x20c)](_0x17a739=>_0x17a739['steps'][_0x30da21(0x20c)](_0x579df0=>_0x164544[_0x579df0['id']]=_0x579df0)),_0x164544;}[a6_0x285c53(0x221)](_0x39c325){const _0x206219=a6_0x285c53,_0x5f3d6a={'nAhzE':function(_0x59a536,_0x5e234e){return _0x59a536(_0x5e234e);}};if(!_0x5f3d6a[_0x206219(0x1aa)](isUndefined,_0x39c325[_0x206219(0x227)]))return[_0x39c325[_0x206219(0x227)]];else{if(!_0x5f3d6a[_0x206219(0x1aa)](isUndefined,_0x39c325[_0x206219(0x236)]))return _0x39c325[_0x206219(0x236)]['children'][_0x206219(0x220)](_0x54fdad=>!isUndefined(_0x54fdad[_0x206219(0x227)])?_0x54fdad[_0x206219(0x227)]:_0x54fdad[_0x206219(0x1a9)]);};return[_0x39c325[_0x206219(0x1a9)]];}[a6_0x285c53(0x1c5)](_0xd7597,_0x4e6e27){const _0x1fcfe3=a6_0x285c53;return Object[_0x1fcfe3(0x23a)](_0xd7597['eventDataCollector'][_0x1fcfe3(0x1d3)])[_0x1fcfe3(0x214)](_0x379267=>_0x379267[_0x1fcfe3(0x1eb)]===_0x4e6e27['uri']);}}module['exports']=o11yClassErrorHandler(BrowserstackFormatter,['onTestCaseStarted',a6_0x285c53(0x232),a6_0x285c53(0x1a4),a6_0x285c53(0x239),'onTestRunStarted',a6_0x285c53(0x1bf),a6_0x285c53(0x221),a6_0x285c53(0x1c5),a6_0x285c53(0x1f6)]);