function a6_0xaae5(){const _0x82b7d=['bootstrap','exception','../../v2/state/hookState.js','source','AprxH','BROWSERSTACK_CLI_BIN_SESSION_ID','pickle','children','tLeBA','../../utils/constants','11765383HuqZCy','logTestCaseFinished','trackEvent','../../v2/utils/cucumber-utils.js','isCliEnabled','LOG_REPORT','setFrameworkDetail','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','onStepDefinition','rule','getGherkinStepMap','CWbIm','ensureCLIInitialized','seconds','__platform','supportCodeLibrary','binSessionId','testCaseStarted','forEach','status','testCases','onTestCaseFinished','Exception\x20in\x20onTestStepFinished\x20event:\x20','testStepFinished','493287sKtJfV','feature','text','onHook','CUCUMBER','testRunStarted','util','HlRDq','TEST','jAhWD','HgzqL','../../../helpers/logger','stepDefinition','testStepStarted','logTestRunFinished','extractStepContainers','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','result','1842011fJOojz','parse','QKmsB','gherkinDocument','onTestCase','SGkZX','PASSED','pickleStepId','finished_at','vpjPS','testCase','36AHjuHz','CGFyJ','actionLocation','testUUID','JImEe','testSteps','failed','hook','GZDYd','name','yuiXF','Executing\x20tests\x20for\x20','getTestUUID','../../v2/state/testFrameworkState.js','liibg','8xoeBDl','hwizV',',\x20binSessionId:\x20','description','wtxTD','toISOString','onPickle','log','report','isBstackHook','zxmdR','PRE','uri','qJsyn','OCCkI','onGherkinDocument','../../../helpers/testhub/utils.js','../../../helpers/helper','background','../../v2/browserstackCLI.js','hWiuc','MTxrY','debug','\x20\x20\x20\x20','createTestFrameworkData','4633587qHJaiq','qTWFC','SrhyB','UNKNOWN','testCaseStartedId','QHNdj','TestRunStarted','11qJGGYI','27486876uuFqPp','3295DDfCeo','ZKmmV','parseTestCaseAttempt','flat','tFaND','uwZea','SKIPPED','sendHook','sendTestRunEventForCucumber','AMBIGUOUS','steps','toString','GGxcX','quseV','testRunFinished','CLI\x20already\x20running\x20-\x20binSessionId:\x20','\x20-\x20','snippetBuilder','hooks','Exception\x20in\x20onTestStepStarted\x20event:\x20','_performCLIInitialization','IYaxF','isCLIReady','onTestStepStarted','test','HookRunStarted','2ObUCul','../../playwright/reporter/test-details.js','XcYeH','testCaseFinished','keyword','zgHwf','immXR','../test-observability.js','dnzGY','2|0|3|4|1','epikw','testStepResult','toLowerCase','cucumber','path','LSNZZ','testCaseMap','testCaseAttemptDataMap','FoBPI','15702wqizkV','map','onTestRunStarted','testCaseId','EwPfT','zofTX','VGMaw','yvpBF','CONFIG','MbtOh','cwd','UnhandledError','isRunning','getTestFramework','onSource','type','push','Wssyh','testStepId','createHookData','CMpUI','Vuggf','incrementCounter','pickleMap','../../v2/cliUtils','winstonLogger','assign','getGherkinDocument','PENDING','@cucumber/cucumber','jnvNI','HookRunFinished','cliInitPromise','FuWaK','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','lWAJZ','pickleId','INIT_TEST','format','find','hook_type','getInstance','duration','PLAYWRIGHT','eventBroadcaster','failureType','testCaseAttempt','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','bRZdu','ucowJ','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','eventDataCollector','onTestStepFinished','POST','onTestRunFinished','getTestCaseAttempt','scenario','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','onTestCaseStarted','TestRunFinished','15268950XPpHQl','message','finishedAt','icFMB','gherkinDocumentMap','OihXA','env'];a6_0xaae5=function(){return _0x82b7d;};return a6_0xaae5();}const a6_0x4730db=a6_0x1106;function a6_0x1106(_0x5c7def,_0x4009e2){const _0xaae588=a6_0xaae5();return a6_0x1106=function(_0x110635,_0xbbc68){_0x110635=_0x110635-0xcc;let _0x49ed13=_0xaae588[_0x110635];return _0x49ed13;},a6_0x1106(_0x5c7def,_0x4009e2);}(function(_0x3ab5ce,_0x23784a){const _0x365000=a6_0x1106,_0x1d4e7f=_0x3ab5ce();while(!![]){try{const _0xb45421=parseInt(_0x365000(0x18c))/0x1*(-parseInt(_0x365000(0x102))/0x2)+parseInt(_0x365000(0x17a))/0x3*(-parseInt(_0x365000(0x197))/0x4)+-parseInt(_0x365000(0xe8))/0x5*(parseInt(_0x365000(0x115))/0x6)+-parseInt(_0x365000(0x162))/0x7*(-parseInt(_0x365000(0x1a6))/0x8)+parseInt(_0x365000(0xdf))/0x9+parseInt(_0x365000(0x151))/0xa+-parseInt(_0x365000(0xe6))/0xb*(-parseInt(_0x365000(0xe7))/0xc);if(_0xb45421===_0x23784a)break;else _0x1d4e7f['push'](_0x1d4e7f['shift']());}catch(_0x48f097){_0x1d4e7f['push'](_0x1d4e7f['shift']());}}}(a6_0xaae5,0xebfcd));const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x4730db(0xd7)),util=require(a6_0x4730db(0x180)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x4730db(0x132)),TestDetails=require(a6_0x4730db(0x103)),TestObservabilityReporter=require(a6_0x4730db(0x109)),{o11yClassErrorHandler}=require('../../../helpers/test-observability/error-handler'),{shouldProcessEventForTesthub}=require(a6_0x4730db(0xd6)),BrowserstackCLI=require(a6_0x4730db(0xd9)),TestFrameworkState=require(a6_0x4730db(0x1a4)),HookState=require(a6_0x4730db(0x15a)),CucumberUtils=require(a6_0x4730db(0x165)),TestInfo=require('../../../bin/v2/TestInfo.js'),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x4730db(0x185))[a6_0x4730db(0x12e)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x52d16d){const _0x3cf55c=a6_0x4730db,_0xded0df={};_0xded0df[_0x3cf55c(0x1a7)]='envelope';const _0x3466c7=_0xded0df;super(_0x52d16d),this[_0x3cf55c(0xce)]={},_0x52d16d[_0x3cf55c(0x141)]['on'](_0x3466c7[_0x3cf55c(0x1a7)],async _0x353313=>{const _0x5855dd=_0x3cf55c;switch(!![]){case!!_0x353313[_0x5855dd(0x17f)]:this[_0x5855dd(0x117)](_0x353313['testRunStarted']);break;case!!_0x353313['testRunFinished']:this['onTestRunFinished'](_0x353313[_0x5855dd(0xf6)]);break;case!!_0x353313[_0x5855dd(0x173)]:this[_0x5855dd(0x14f)](_0x353313[_0x5855dd(0x173)],_0x52d16d,_0x353313);break;case!!_0x353313[_0x5855dd(0x105)]:this[_0x5855dd(0x177)](_0x353313['testCaseFinished'],_0x52d16d,_0x353313);break;case!!_0x353313[_0x5855dd(0x187)]:this[_0x5855dd(0xff)](_0x353313[_0x5855dd(0x187)],_0x52d16d);break;case!!_0x353313['testStepFinished']:this[_0x5855dd(0x149)](_0x353313[_0x5855dd(0x179)],_0x52d16d);break;case!!_0x353313[_0x5855dd(0x19e)]:this[_0x5855dd(0x17d)](_0x353313[_0x5855dd(0x19e)]);break;case!!_0x353313[_0x5855dd(0x196)]:this[_0x5855dd(0x190)](_0x353313[_0x5855dd(0x196)]);break;case!!_0x353313[_0x5855dd(0x15e)]:this[_0x5855dd(0xcc)](_0x353313[_0x5855dd(0x15e)]);break;case!!_0x353313[_0x5855dd(0x18f)]:this[_0x5855dd(0xd5)](_0x353313[_0x5855dd(0x18f)]);break;}});}[a6_0x4730db(0x17d)](_0x17e220){const _0x165aaa=a6_0x4730db;this[_0x165aaa(0xce)]['hooks']=Object['assign']([],this[_0x165aaa(0xce)][_0x165aaa(0xfa)]||[]),this[_0x165aaa(0xce)]['hooks'][_0x165aaa(0x125)](_0x17e220);}['onPickle'](_0x3d57b6){const _0x24eb28=a6_0x4730db;this[_0x24eb28(0xce)][_0x24eb28(0x15e)]=Object[_0x24eb28(0x12f)]([],this[_0x24eb28(0xce)]['pickle']||[],[_0x3d57b6]),this[_0x24eb28(0xce)]['pickle'][_0x24eb28(0x125)](_0x3d57b6);}[a6_0x4730db(0xd5)](_0x274398){const _0x4431f1=a6_0x4730db;this[_0x4431f1(0xce)][_0x4431f1(0x18f)]=Object[_0x4431f1(0x12f)]([],this[_0x4431f1(0xce)][_0x4431f1(0x18f)]||[],[_0x274398]),this['report'][_0x4431f1(0x18f)][_0x4431f1(0x125)](_0x274398);}[a6_0x4730db(0x123)](_0x5ab466){const _0x549598=a6_0x4730db;this['report'][_0x549598(0x15b)]=_0x5ab466;}[a6_0x4730db(0x16a)](_0x451d20){const _0x1218c5=a6_0x4730db;this['report'][_0x1218c5(0x186)]=Object[_0x1218c5(0x12f)]([],this['report'][_0x1218c5(0x186)]||[],[_0x451d20]),this[_0x1218c5(0xce)][_0x1218c5(0x186)][_0x1218c5(0x125)](_0x451d20);}[a6_0x4730db(0x190)](_0x5a98b1){const _0xc2fff3=a6_0x4730db;this[_0xc2fff3(0xce)]['testCases']=Object['assign']([],this[_0xc2fff3(0xce)][_0xc2fff3(0x176)]||[],[_0x5a98b1]),this[_0xc2fff3(0xce)]['testCases'][_0xc2fff3(0x125)](_0x5a98b1);}[a6_0x4730db(0x163)](_0x5bbf2b){const _0x209ca1=a6_0x4730db,_0x39c92d={'Wssyh':function(_0x19d379,_0x3e1a2f){return _0x19d379!==_0x3e1a2f;},'epikw':'bstack','SGkZX':function(_0x1020ab,_0x4429d2){return _0x1020ab+_0x4429d2;},'ZKmmV':function(_0x4686df,_0x25ff0c){return _0x4686df+_0x25ff0c;},'yuiXF':function(_0xa3925c,_0x2099a5){return _0xa3925c+_0x2099a5;},'bVLWM':_0x209ca1(0xdd),'immXR':_0x209ca1(0xf8),'vpjPS':function(_0x41bdec,_0x5a1d3c){return _0x41bdec===_0x5a1d3c;},'zofTX':'FAILED','zgHwf':function(_0x36817c,_0xeff504,_0x209558){return _0x36817c(_0xeff504,_0x209558);},'wtxTD':_0x209ca1(0x18b),'GGxcX':_0x209ca1(0x152),'uwZea':function(_0x2804c6,_0x5e2431){return _0x2804c6!==_0x5e2431;},'hNwJT':function(_0x1dd79b,_0x4ff932){return _0x1dd79b+_0x4ff932;},'bRZdu':function(_0x199594,_0x2f3a19){return _0x199594+_0x2f3a19;}};_0x39c92d[_0x209ca1(0xed)](global['__platform'],undefined)&&this[_0x209ca1(0xcd)](_0x39c92d['SGkZX'](_0x39c92d[_0x209ca1(0xe9)]('\x0a',global['__platform']),'\x0a'));const _0x43806d=this[_0x209ca1(0x148)][_0x209ca1(0x14c)](_0x5bbf2b[_0x209ca1(0xe3)]);this['log'](_0x39c92d['ZKmmV'](_0x39c92d['hNwJT'](_0x39c92d[_0x209ca1(0x1a1)](_0x39c92d[_0x209ca1(0x145)]('\x20\x20',_0x43806d[_0x209ca1(0x18f)][_0x209ca1(0x17b)][_0x209ca1(0x1a0)]),_0x39c92d[_0x209ca1(0x108)]),_0x43806d[_0x209ca1(0x15e)]['name']),'\x0a'));const _0x228ec2={};_0x228ec2[_0x209ca1(0x11f)]=this[_0x209ca1(0x11f)],_0x228ec2['snippetBuilder']=this[_0x209ca1(0xf9)],_0x228ec2[_0x209ca1(0x171)]=this[_0x209ca1(0x171)],_0x228ec2[_0x209ca1(0x143)]=_0x43806d;const _0x6b2501=formatterHelpers[_0x209ca1(0xea)](_0x228ec2);let _0x3f43c3=![];_0x6b2501[_0x209ca1(0x19c)][_0x209ca1(0x174)](_0x327721=>{const _0x1a1f57=_0x209ca1;if(_0x39c92d[_0x1a1f57(0x126)](_0x327721[_0x1a1f57(0x1a0)],_0x39c92d[_0x1a1f57(0x10c)])&&!this[_0x1a1f57(0xcf)](_0x327721)){totalTests+=0x1,this[_0x1a1f57(0xcd)](_0x39c92d[_0x1a1f57(0x191)](_0x39c92d[_0x1a1f57(0xe9)](_0x39c92d[_0x1a1f57(0x1a1)](_0x39c92d[_0x1a1f57(0x1a1)](_0x39c92d[_0x1a1f57(0xe9)](_0x39c92d['bVLWM'],_0x327721[_0x1a1f57(0x106)]),_0x327721[_0x1a1f57(0x17c)]||''),_0x39c92d['immXR']),Status[_0x327721[_0x1a1f57(0x18b)][_0x1a1f57(0x175)]]),'\x0a')),this['incrementCounter'](Status[_0x327721[_0x1a1f57(0x18b)]['status']]);if(_0x39c92d[_0x1a1f57(0x195)](Status[_0x327721['result'][_0x1a1f57(0x175)]],_0x39c92d[_0x1a1f57(0x11a)])){_0x3f43c3=!![];const _0x241d1a=_0x39c92d[_0x1a1f57(0x107)](nestedKeyValue,_0x327721,[_0x39c92d[_0x1a1f57(0x1aa)],_0x39c92d[_0x1a1f57(0xf4)]]);_0x241d1a&&(testsErrorMessage[_0x39c92d['ZKmmV'](_0x39c92d[_0x1a1f57(0x191)](_0x43806d[_0x1a1f57(0x18f)]['feature'][_0x1a1f57(0x1a0)],_0x39c92d['immXR']),_0x43806d['pickle'][_0x1a1f57(0x1a0)])]=_0x241d1a,this[_0x1a1f57(0xcd)](_0x39c92d[_0x1a1f57(0x1a1)](_0x241d1a,'\x0a')));}}}),_0x3f43c3&&(testSuitesFailed+=0x1),this['log']('\x0a');}[a6_0x4730db(0x188)](_0x354262){}['isBstackHook'](_0x29581a){const _0x43c6dd=a6_0x4730db,_0x9309ad={};_0x9309ad[_0x43c6dd(0xd4)]=function(_0x38f606,_0x19bf4c){return _0x38f606!==_0x19bf4c;},_0x9309ad[_0x43c6dd(0x12a)]='cucumber-js/test.setup.js';const _0x487350=_0x9309ad;if(_0x487350['OCCkI'](_0x29581a['sourceLocation'],undefined))return![];if(_0x29581a['actionLocation']&&_0x29581a[_0x43c6dd(0x199)][_0x43c6dd(0xd2)]['includes'](_0x487350['Vuggf']))return!![];return![];}[a6_0x4730db(0x12b)](_0x3974b4){const _0x3d9375=a6_0x4730db,_0x5ba74c={};_0x5ba74c[_0x3d9375(0x184)]='FAILED',_0x5ba74c['QKmsB']=_0x3d9375(0x192),_0x5ba74c['MbtOh']=_0x3d9375(0xee),_0x5ba74c[_0x3d9375(0x1a5)]=_0x3d9375(0x131),_0x5ba74c[_0x3d9375(0x119)]='UNDEFINED',_0x5ba74c[_0x3d9375(0xe1)]=_0x3d9375(0xe2),_0x5ba74c[_0x3d9375(0x104)]=_0x3d9375(0xf1);const _0x4043d6=_0x5ba74c;switch(_0x3974b4){case _0x4043d6[_0x3d9375(0x184)]:testsFailed+=0x1;break;case _0x4043d6[_0x3d9375(0x18e)]:testsPassed+=0x1;break;case _0x4043d6[_0x3d9375(0x11e)]:testsSkipped+=0x1;break;case _0x4043d6['liibg']:testsPending+=0x1;break;case _0x4043d6[_0x3d9375(0x119)]:testsUndefined+=0x1;break;case _0x4043d6['SrhyB']:testsUnknown+=0x1;break;case _0x4043d6[_0x3d9375(0x104)]:testsAmbiguous+=0x1;break;default:break;}}async['onTestRunStarted'](_0x292198){const _0x5d02b6=a6_0x4730db,_0x517aa3={'FuWaK':function(_0x18b671,_0x41ec62){return _0x18b671!==_0x41ec62;},'qJsyn':function(_0x3a3399){return _0x3a3399();},'OihXA':function(_0x469b53,_0x3ce84f){return _0x469b53(_0x3ce84f);},'JXLfK':function(_0x56fe48,_0x55e8af){return _0x56fe48+_0x55e8af;},'quseV':_0x5d02b6(0x10f)};let _0x433181;if(_0x517aa3['FuWaK'](process[_0x5d02b6(0x157)]['CONFIG'],undefined)){const _0x22ba62=JSON[_0x5d02b6(0x18d)](process['env'][_0x5d02b6(0x11d)]);_0x433181=_0x22ba62['capability'];}_0x517aa3[_0x5d02b6(0x136)](_0x433181,undefined)&&_0x517aa3[_0x5d02b6(0xd3)](isBrowserstackInfra)&&(global[_0x5d02b6(0x170)]=_0x517aa3[_0x5d02b6(0x156)](getPlatformName,_0x433181),this[_0x5d02b6(0xcd)](_0x517aa3['JXLfK'](_0x5d02b6(0x1a2)+global[_0x5d02b6(0x170)],'\x0a'))),_0x517aa3[_0x5d02b6(0xd3)](shouldProcessEventForTesthub)&&(TestDetails['setup'](),this['report']['testRunStarted']=_0x292198,BrowserstackCLI[_0x5d02b6(0x13e)]()[_0x5d02b6(0x166)]()&&await this[_0x5d02b6(0xfe)]()&&(TestInfo['setup'](_0x517aa3[_0x5d02b6(0xf5)]),await BrowserstackCLI[_0x5d02b6(0x13e)]()[_0x5d02b6(0x122)]()['trackEvent'](TestFrameworkState[_0x5d02b6(0x13a)],HookState[_0x5d02b6(0xd1)],{})));}[a6_0x4730db(0x14b)](_0x33df61){const _0xc7e97e=a6_0x4730db;this[_0xc7e97e(0xce)][_0xc7e97e(0xf6)]=_0x33df61,this[_0xc7e97e(0x188)](_0x33df61);}async[a6_0x4730db(0x14f)](_0x55a4cd,_0x24b002,_0x139e39){const _0x4ea365=a6_0x4730db,_0xd38a4f={'CMpUI':function(_0x46d2df,_0x4cba00){return _0x46d2df(_0x4cba00);},'IYaxF':_0x4ea365(0xe5),'CWbIm':function(_0x106135,_0x421391){return _0x106135&&_0x421391;}};testSuites+=0x1;if(_0xd38a4f[_0x4ea365(0x129)](shouldProcessEventForTesthub,_0xd38a4f[_0x4ea365(0xfd)]))try{this[_0x4ea365(0xce)][_0x4ea365(0x173)]=this[_0x4ea365(0xce)][_0x4ea365(0x173)]||{},this['report'][_0x4ea365(0x173)][_0x55a4cd['id']]=_0x55a4cd;let _0x1ec920=null;BrowserstackCLI['getInstance']()['isCliEnabled']()&&await this[_0x4ea365(0xfe)]()?_0x1ec920=TestInfo[_0x4ea365(0x1a3)](_0x55a4cd['id']):_0x1ec920=TestDetails[_0x4ea365(0x1a3)](_0x55a4cd['id']);_testCasesData[_0x55a4cd['id']]=Object[_0x4ea365(0x12f)]({},_0x139e39);const _0x5a23f2=this[_0x4ea365(0xce)],_0x40807d=_0x55a4cd[_0x4ea365(0x118)],_0x32207b=_0x5a23f2[_0x4ea365(0x176)]['find'](_0x2d08ad=>_0x2d08ad['id']===_0x40807d)[_0x4ea365(0x139)],_0x18084e=_0x5a23f2['pickle'][_0x4ea365(0x13c)](_0x47da50=>_0x47da50['id']===_0x32207b),_0x1540db=_0x5a23f2[_0x4ea365(0x18f)][_0x4ea365(0x13c)](_0x200b9d=>_0x200b9d[_0x4ea365(0xd2)]===_0x18084e[_0x4ea365(0xd2)]),_0x39ea70=_0x1540db['feature'],_0x3a68d8={'uuid':_0x1ec920,'startedAt':new Date()[_0x4ea365(0x1ab)]()};if(_0x18084e){const _0x2c9b0b={};_0x2c9b0b[_0x4ea365(0x1a0)]=_0x18084e[_0x4ea365(0x1a0)],_0x3a68d8['scenario']=_0x2c9b0b;}if(_0xd38a4f[_0x4ea365(0x16d)](_0x1540db,_0x39ea70)){const _0x10af4f={};_0x10af4f[_0x4ea365(0x110)]=_0x1540db[_0x4ea365(0xd2)],_0x10af4f[_0x4ea365(0x1a0)]=_0x39ea70[_0x4ea365(0x1a0)],_0x10af4f[_0x4ea365(0x1a9)]=_0x39ea70[_0x4ea365(0x1a9)],_0x3a68d8[_0x4ea365(0x17b)]=_0x10af4f;}_tests[_0x40807d]=_0x3a68d8;if(BrowserstackCLI['getInstance']()[_0x4ea365(0x166)]()&&await this[_0x4ea365(0xfe)]()){const _0x101103=await cucumberUtils['createTestFrameworkData'](_0x3a68d8,_0x18084e,_0x139e39,_0x1540db,_0x55a4cd['id'],_0xd38a4f[_0x4ea365(0xfd)]),_0x34e586={};_0x34e586[_0x4ea365(0x100)]=_0x101103,await BrowserstackCLI[_0x4ea365(0x13e)]()['getTestFramework']()[_0x4ea365(0x164)](TestFrameworkState[_0x4ea365(0x182)],HookState['PRE'],_0x34e586);return;}await testObservabilityReporter[_0x4ea365(0xf0)](_0x139e39,_0x1540db,_0x18084e,_0xd38a4f[_0x4ea365(0xfd)],_0x3a68d8);}catch(_0x31dc89){logger[_0x4ea365(0xdc)](_0x4ea365(0x14e)+util[_0x4ea365(0x13b)](_0x31dc89)+'\x20');}}async['onTestCaseFinished'](_0x2a76ed,_0x4cf2a9,_0x1d8161){const _0x4a64bf=a6_0x4730db,_0x31fefc={'hWiuc':function(_0x5785fd,_0x5646a9){return _0x5785fd(_0x5646a9);},'FoBPI':_0x4a64bf(0x150),'AprxH':_0x4a64bf(0x100)};this[_0x4a64bf(0x163)](_0x2a76ed);if(_0x31fefc[_0x4a64bf(0xda)](shouldProcessEventForTesthub,_0x31fefc[_0x4a64bf(0x114)]))try{this['report']['testCaseFinished']=this[_0x4a64bf(0xce)][_0x4a64bf(0x105)]||{},this[_0x4a64bf(0xce)]['testCaseFinished'][_0x2a76ed['testCaseStartedId']]=_0x2a76ed,_testCasesData[_0x1d8161['id']]=Object[_0x4a64bf(0x12f)]({},_0x1d8161);const _0x1c1ee9=_0x2a76ed[_0x4a64bf(0xe3)],_0x38df2c=_0x4cf2a9[_0x4a64bf(0x148)][_0x4a64bf(0x113)][_0x1c1ee9][_0x4a64bf(0x118)],_0x31877a=_0x4cf2a9[_0x4a64bf(0x148)][_0x4a64bf(0x112)][_0x38df2c],_0x5ae644=_0x31877a['pickleId'],_0xeb9a6c=_0x4cf2a9['eventDataCollector'][_0x4a64bf(0x12c)][_0x5ae644],_0x451a81=this[_0x4a64bf(0x130)](_0x4cf2a9,_0xeb9a6c),_0x56a3ac=_0x451a81[_0x4a64bf(0x17b)],_0x5609a2=_tests[_0x38df2c];_0x5609a2&&(delete _tests[_0x38df2c],_0x5609a2[_0x4a64bf(0x153)]=new Date()['toISOString']());if(BrowserstackCLI[_0x4a64bf(0x13e)]()[_0x4a64bf(0x166)]()&&await this[_0x4a64bf(0xfe)]()){const _0x385a31=await cucumberUtils[_0x4a64bf(0xde)](_0x5609a2,_0xeb9a6c,_0x1d8161,_0x451a81,_0x1c1ee9,_0x31fefc[_0x4a64bf(0x114)]),_0x4e121b={};_0x4e121b[_0x4a64bf(0x100)]=_0x385a31,await BrowserstackCLI[_0x4a64bf(0x13e)]()[_0x4a64bf(0x122)]()[_0x4a64bf(0x164)](TestFrameworkState['TEST'],HookState['POST'],_0x4e121b);const _0x153b50={};_0x153b50[_0x4a64bf(0x19a)]=_0x2a76ed[_0x4a64bf(0xe3)],_0x153b50['type']=_0x31fefc[_0x4a64bf(0x15c)],await BrowserstackCLI[_0x4a64bf(0x13e)]()[_0x4a64bf(0x122)]()[_0x4a64bf(0x164)](TestFrameworkState[_0x4a64bf(0x167)],HookState['POST'],_0x153b50);return;}await testObservabilityReporter['sendTestRunEventForCucumber'](_0x1d8161,_0x451a81,_0xeb9a6c,_0x31fefc[_0x4a64bf(0x114)],_0x5609a2);}catch(_0x979bdb){logger[_0x4a64bf(0xdc)](_0x4a64bf(0x147)+util[_0x4a64bf(0x13b)](_0x979bdb));}}async['onTestStepStarted'](_0x530e50,_0xe809f2){const _0x1d3d06=a6_0x4730db,_0x1f8a0c={'dnzGY':function(_0x3d9d23,_0x7b4d11){return _0x3d9d23(_0x7b4d11);},'lWAJZ':_0x1d3d06(0x101),'qTWFC':function(_0x541fdc,_0x5e1d78){return _0x541fdc!==_0x5e1d78;},'MTxrY':_0x1d3d06(0x127)};if(_0x1f8a0c[_0x1d3d06(0x10a)](shouldProcessEventForTesthub,_0x1f8a0c['lWAJZ']))try{this[_0x1d3d06(0xce)][_0x1d3d06(0x187)]=this[_0x1d3d06(0xce)][_0x1d3d06(0x187)]||{},this[_0x1d3d06(0xce)][_0x1d3d06(0x187)][_0x530e50[_0x1d3d06(0xe3)]]=_0x530e50;const _0x227511=_0x530e50[_0x1d3d06(0xe3)],_0x308eaa=_0xe809f2['eventDataCollector']['testCaseAttemptDataMap'][_0x227511][_0x1d3d06(0x118)],_0x327225=this[_0x1d3d06(0xce)][_0x1d3d06(0x176)][_0x1d3d06(0x13c)](_0x40c171=>_0x40c171['id']===_0x308eaa)[_0x1d3d06(0x139)],_0x834ce3=this[_0x1d3d06(0xce)][_0x1d3d06(0x15e)][_0x1d3d06(0x13c)](_0x1df2f6=>_0x1df2f6['id']===_0x327225),_0x5d78b0=this[_0x1d3d06(0xce)]['testCases'][_0x1d3d06(0x13c)](_0x1e5474=>_0x1e5474['id']===_0x308eaa)[_0x1d3d06(0x19c)],_0x382e1b=this[_0x1d3d06(0xce)][_0x1d3d06(0x187)][_0x227511][_0x1d3d06(0x127)],_0x2f2edb=_0x5d78b0['find'](_0x524537=>_0x524537['id']===_0x382e1b)[_0x1d3d06(0x193)],_0x27d479=_0x834ce3[_0x1d3d06(0xf2)][_0x1d3d06(0x13c)](_0x1ca775=>_0x1ca775['id']===_0x2f2edb);if(_0x2f2edb&&_tests[_0x308eaa]&&_0x1f8a0c[_0x1d3d06(0xe0)](_tests[_0x308eaa][_0x1f8a0c[_0x1d3d06(0xdb)]],_0x382e1b)){_tests[_0x308eaa][_0x1f8a0c[_0x1d3d06(0xdb)]]=_0x382e1b;const _0x38b427={};_0x38b427[_0x1d3d06(0xf2)]=[];const _0x5c1cc0=_tests[_0x308eaa]||_0x38b427;_0x5c1cc0&&!_0x5c1cc0[_0x1d3d06(0xf2)]&&(_0x5c1cc0['steps']=[]),_0x5c1cc0['steps'][_0x1d3d06(0x125)]({'id':_0x27d479['id'],'text':_0x27d479[_0x1d3d06(0x17c)],'started_at':new Date()[_0x1d3d06(0x1ab)]()}),_tests[_0x308eaa]=_0x5c1cc0;}if(BrowserstackCLI[_0x1d3d06(0x13e)]()[_0x1d3d06(0x166)]()&&await this[_0x1d3d06(0xfe)]()){const _0x1412a9=await cucumberUtils['createHookData'](this[_0x1d3d06(0xce)],_0x227511,_0x1f8a0c[_0x1d3d06(0x138)],_0x5d78b0,_0x382e1b,_tests[_0x308eaa]);_0x1412a9&&await BrowserstackCLI[_0x1d3d06(0x13e)]()[_0x1d3d06(0x122)]()['trackEvent'](TestFrameworkState[_0x1412a9[_0x1d3d06(0x13d)]],HookState[_0x1d3d06(0xd1)],{'hookData':_0x1412a9,'testUUID':_0x530e50['testCaseStartedId']});return;}await testObservabilityReporter[_0x1d3d06(0xef)](this[_0x1d3d06(0xce)],_0x227511,_0x1f8a0c[_0x1d3d06(0x138)],_0x5d78b0,_0x382e1b,_tests[_0x308eaa]);}catch(_0x537e53){logger[_0x1d3d06(0xdc)](_0x1d3d06(0xfb)+util[_0x1d3d06(0x13b)](_0x537e53));}}async[a6_0x4730db(0x149)](_0x15976f,_0x1ae205){const _0x3e5213=a6_0x4730db,_0x2eb15b={'yvpBF':function(_0x2299ce,_0x54dd83){return _0x2299ce===_0x54dd83;},'zxmdR':_0x3e5213(0x10b),'HlRDq':function(_0x121949,_0x2e6742){return _0x121949(_0x2e6742);},'GZDYd':_0x3e5213(0x134),'kmkHA':_0x3e5213(0x19d),'icFMB':function(_0x1b5c12,_0x1ac1d6){return _0x1b5c12===_0x1ac1d6;},'CGFyJ':function(_0x265404,_0x52c750){return _0x265404===_0x52c750;},'jnvNI':_0x3e5213(0x120),'JImEe':_0x3e5213(0x127),'ucowJ':_0x3e5213(0x101),'AoloB':_0x3e5213(0x19e)};this[_0x3e5213(0xce)][_0x3e5213(0x179)]=this['report'][_0x3e5213(0x179)]||{},this[_0x3e5213(0xce)][_0x3e5213(0x179)][_0x15976f[_0x3e5213(0xe3)]]=_0x15976f;if(_0x2eb15b[_0x3e5213(0x181)](shouldProcessEventForTesthub,_0x2eb15b[_0x3e5213(0x19f)]))try{const _0x1786d3=_0x15976f['testCaseStartedId'],_0x25cc4c=_0x1ae205[_0x3e5213(0x148)][_0x3e5213(0x113)][_0x1786d3][_0x3e5213(0x118)],_0x59acab=_0x1ae205['eventDataCollector'][_0x3e5213(0x112)][_0x25cc4c],_0x3859bf=_0x59acab[_0x3e5213(0x139)],_0x409b44=_0x1ae205[_0x3e5213(0x148)][_0x3e5213(0x12c)][_0x3859bf],_0x2e6bb7=_0x15976f[_0x3e5213(0x127)],_0x118b2d=_0x59acab[_0x3e5213(0x19c)],_0x984de1=this[_0x3e5213(0x148)][_0x3e5213(0x14c)](_0x1786d3),_0x1bce5e=_0x118b2d[_0x3e5213(0x13c)](_0x68940a=>_0x68940a['id']===_0x2e6bb7)['pickleStepId'];let _0x4fb661,_0x229ea7;_0x15976f[_0x3e5213(0x10d)]&&_0x2eb15b['yvpBF'](_0x15976f[_0x3e5213(0x10d)][_0x3e5213(0x175)][_0x3e5213(0xf3)]()[_0x3e5213(0x10e)](),_0x2eb15b['kmkHA'])&&(_0x4fb661=_0x2eb15b[_0x3e5213(0x154)](_0x15976f['testStepResult'][_0x3e5213(0x159)],undefined)?_0x15976f[_0x3e5213(0x10d)]['message']:_0x15976f[_0x3e5213(0x10d)][_0x3e5213(0x159)][_0x3e5213(0x152)],_0x229ea7=_0x2eb15b[_0x3e5213(0x198)](_0x15976f['testStepResult'][_0x3e5213(0x159)],undefined)?_0x2eb15b[_0x3e5213(0x133)]:_0x15976f[_0x3e5213(0x10d)][_0x3e5213(0x152)]);if(_0x1bce5e&&_tests[_0x25cc4c][_0x2eb15b[_0x3e5213(0x19b)]]){const _0x1d2aa2=_0x409b44['steps'][_0x3e5213(0x13c)](_0x53a823=>_0x53a823['id']===_0x1bce5e),_0x47adba={};_0x47adba[_0x3e5213(0xf2)]=[];const _0x5f088=_tests[_0x25cc4c]||_0x47adba;!_0x5f088['steps']?_0x5f088[_0x3e5213(0xf2)]=[{'id':_0x1d2aa2['id'],'text':_0x1d2aa2[_0x3e5213(0x17c)],'finished_at':new Date()[_0x3e5213(0x1ab)](),'result':_0x15976f[_0x3e5213(0x10d)][_0x3e5213(0x175)],'duration':_0x15976f[_0x3e5213(0x10d)]['duration'][_0x3e5213(0x16f)],'failure':_0x4fb661,'failureType':_0x229ea7}]:_0x5f088[_0x3e5213(0xf2)][_0x3e5213(0x174)](_0x1bd816=>{const _0xad5820=_0x3e5213;if(_0x2eb15b[_0xad5820(0x11c)](_0x1bd816['id'],_0x1d2aa2['id'])){const _0x4b4059=_0x2eb15b[_0xad5820(0xd0)]['split']('|');let _0x1cd78b=0x0;while(!![]){switch(_0x4b4059[_0x1cd78b++]){case'0':_0x1bd816['result']=_0x15976f['testStepResult']['status'];continue;case'1':_0x1bd816[_0xad5820(0x142)]=_0x229ea7;continue;case'2':_0x1bd816[_0xad5820(0x194)]=new Date()['toISOString']();continue;case'3':_0x1bd816[_0xad5820(0x13f)]=_0x15976f[_0xad5820(0x10d)]['duration']['seconds'];continue;case'4':_0x1bd816['failure']=_0x4fb661;continue;}break;}}}),_tests[_0x25cc4c]=_0x5f088;}delete _tests[_0x25cc4c][_0x2eb15b[_0x3e5213(0x19b)]];if(BrowserstackCLI[_0x3e5213(0x13e)]()[_0x3e5213(0x166)]()&&await this[_0x3e5213(0xfe)]()){const _0x3294fc=await cucumberUtils[_0x3e5213(0x128)](this[_0x3e5213(0xce)],_0x1786d3,_0x2eb15b[_0x3e5213(0x146)],_0x118b2d,_0x2e6bb7,_tests[_0x25cc4c]);if(_0x3294fc){await BrowserstackCLI['getInstance']()['getTestFramework']()[_0x3e5213(0x164)](TestFrameworkState[_0x3294fc[_0x3e5213(0x13d)]],HookState[_0x3e5213(0x14a)],{'hookData':_0x3294fc,'testUUID':_0x15976f['testCaseStartedId']});const _0x4223c9={};_0x4223c9[_0x3e5213(0x19a)]=_0x15976f[_0x3e5213(0xe3)],_0x4223c9[_0x3e5213(0x124)]=_0x2eb15b['AoloB'],await BrowserstackCLI[_0x3e5213(0x13e)]()[_0x3e5213(0x122)]()[_0x3e5213(0x164)](TestFrameworkState[_0x3e5213(0x167)],HookState[_0x3e5213(0x14a)],_0x4223c9);}return;}await testObservabilityReporter[_0x3e5213(0xef)](this[_0x3e5213(0xce)],_0x1786d3,_0x2eb15b['GZDYd'],_0x118b2d,_0x2e6bb7,_tests[_0x25cc4c]);}catch(_0x56025e){logger['debug'](_0x3e5213(0x178)+util['format'](_0x56025e));}}[a6_0x4730db(0x16c)](_0x43046c){const _0xbd8edb=a6_0x4730db,_0x35859e={};return _0x43046c[_0xbd8edb(0x17b)][_0xbd8edb(0x15f)][_0xbd8edb(0x116)](this[_0xbd8edb(0x189)])[_0xbd8edb(0xeb)]()[_0xbd8edb(0x174)](_0x544177=>_0x544177[_0xbd8edb(0xf2)][_0xbd8edb(0x174)](_0x179a8d=>_0x35859e[_0x179a8d['id']]=_0x179a8d)),_0x35859e;}[a6_0x4730db(0x189)](_0x584f0a){const _0x1b0190=a6_0x4730db,_0x2bca53={'QHNdj':function(_0x2ddf88,_0x38b165){return _0x2ddf88(_0x38b165);},'tFaND':function(_0x34642d,_0x3acab7){return _0x34642d(_0x3acab7);}};if(!_0x2bca53[_0x1b0190(0xe4)](isUndefined,_0x584f0a[_0x1b0190(0xd8)]))return[_0x584f0a[_0x1b0190(0xd8)]];else{if(!_0x2bca53[_0x1b0190(0xec)](isUndefined,_0x584f0a[_0x1b0190(0x16b)]))return _0x584f0a[_0x1b0190(0x16b)][_0x1b0190(0x15f)][_0x1b0190(0x116)](_0x5a9288=>!isUndefined(_0x5a9288[_0x1b0190(0xd8)])?_0x5a9288['background']:_0x5a9288[_0x1b0190(0x14d)]);};return[_0x584f0a[_0x1b0190(0x14d)]];}[a6_0x4730db(0x130)](_0x149074,_0x28676f){const _0x30d4d2=a6_0x4730db;return Object['values'](_0x149074['eventDataCollector'][_0x30d4d2(0x155)])[_0x30d4d2(0x13c)](_0xb482e9=>_0xb482e9[_0x30d4d2(0xd2)]===_0x28676f[_0x30d4d2(0xd2)]);}async[a6_0x4730db(0x16e)](){const _0xd5f4ca=a6_0x4730db;if(this['cliInitPromise'])return this['cliInitPromise'];return this[_0xd5f4ca(0x135)]=this['_performCLIInitialization'](),this[_0xd5f4ca(0x135)];}async[a6_0x4730db(0xfc)](){const _0xf894c7=a6_0x4730db,_0x504a2c={'LSNZZ':'No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','YCKcy':function(_0x30ac9d,_0x4e7687){return _0x30ac9d(_0x4e7687);},'jAhWD':_0xf894c7(0x12d),'tLeBA':function(_0x3687d5,_0x385446){return _0x3687d5(_0x385446);},'VGMaw':_0xf894c7(0x161)};try{const _0x4e7085=BrowserstackCLI[_0xf894c7(0x13e)]();if(_0x4e7085[_0xf894c7(0x121)]())return logger['debug'](_0xf894c7(0xf7)+_0x4e7085['binSessionId']),!![];const _0x3d74a0=process['env'][_0xf894c7(0x15d)];if(!_0x3d74a0)return logger[_0xf894c7(0xdc)](_0x504a2c[_0xf894c7(0x111)]),![];const _0x4ff8d7=_0x504a2c['YCKcy'](require,_0x504a2c[_0xf894c7(0x183)]),{FRAMEWORKS:_0x4224d2}=_0x504a2c[_0xf894c7(0x160)](require,_0x504a2c[_0xf894c7(0x11b)]);return _0x4ff8d7[_0xf894c7(0x168)](_0x4224d2[_0xf894c7(0x17e)],_0x4224d2[_0xf894c7(0x140)]),logger[_0xf894c7(0xdc)](_0xf894c7(0x144)+_0x3d74a0),await _0x4e7085[_0xf894c7(0x158)](),logger['debug'](_0xf894c7(0x137)+_0x4e7085['isRunning']()+_0xf894c7(0x1a8)+_0x4e7085[_0xf894c7(0x172)]),_0x4e7085['isRunning']();}catch(_0x31b9ad){return logger[_0xf894c7(0xdc)](_0xf894c7(0x18a)+util['format'](_0x31b9ad)),![];}}async[a6_0x4730db(0xfe)](){const _0x5a7fdd=a6_0x4730db;try{return await this['ensureCLIInitialized'](),BrowserstackCLI[_0x5a7fdd(0x13e)]()['isRunning']();}catch(_0x53d923){return logger['debug'](_0x5a7fdd(0x169)+util[_0x5a7fdd(0x13b)](_0x53d923)),![];}}}module['exports']=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x4730db(0x14f),'onTestCaseFinished',a6_0x4730db(0xff),'onTestStepFinished',a6_0x4730db(0x117),a6_0x4730db(0x14b),a6_0x4730db(0x189),a6_0x4730db(0x130),'getGherkinStepMap']);