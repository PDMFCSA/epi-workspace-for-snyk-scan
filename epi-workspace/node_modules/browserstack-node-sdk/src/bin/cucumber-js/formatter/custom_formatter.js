const a6_0x580e18=a6_0x1aa0;function a6_0x2a72(){const _0x2557fd=['uRIHB','testCaseAttemptDataMap','uYwTS','exception','values','envelope','Mpzcy','../test-observability.js','BvfKg','bstack','env','HaTvd','testRunStarted','testCaseAttempt','split','4|1|3|2|0','steps','UnhandledError','jqNAj','\x20-\x20','Dkxof','@cucumber/cucumber','218248zzIcuZ','fYfID','actionLocation','izoOc','onPickle','421848fhlIdy','background','testSteps','log','JmPqa','hooks','Exception\x20in\x20onTestStepStarted\x20event:\x20','eventDataCollector','gherkinDocumentMap','pickleStepId','jkuMy','Pvdys','223398YeAkJr','incrementCounter','find','sendTestRunEventForCucumber','testCaseFinished','failureType','__platform','failure','../../playwright/reporter/test-details.js','duration','200470CAHEMr','111036AHuwsm','onStepDefinition','SghYP','WSMCH','children','cwd','getTestCaseAttempt','FAILED','parse','onTestCaseStarted','setup','RsfeC','PFAWm','208RCTydZ','2RaGbgH','onTestStepFinished','name','15MsKfcZ','aaKrm','TestRunStarted','../../../helpers/test-observability/error-handler','onTestRunFinished','push','VBUaR','PASSED','OHDsY','testStepFinished','../../../helpers/logger','qlOLa','AMBIGUOUS','debug','testCaseMap','source','gherkinDocument','sourceLocation','testStepResult','HcQGZ','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','Dlcqa','format','TestRunFinished','onTestCaseFinished','AsYgi','finished_at','testCases','ARzZL','forEach','testStepStarted','isBstackHook','flat','supportCodeLibrary','\x20\x20\x20\x20','assign','extractStepContainers','rule','uIhEr','OPeIi','snippetBuilder','onTestRunStarted','util','tzntT','logTestRunFinished','UNKNOWN','pZHEc','igPwx','pickleId','testCase','exports','saCyw','scenario','zsNCQ','testRunFinished','pickle','description','SKIPPED','getGherkinDocument','getTestUUID','UNDEFINED','includes','getGherkinStepMap','status','Executing\x20tests\x20for\x20','785134TFYpJa','sendHook','vZWlR','XXHBz','text','WIbZL','../../../helpers/testhub/utils.js','result','testCaseStartedId','onTestStepStarted','MPqcl','54009vkSYSx','uri','stepDefinition','11PHJBoi','testStepId','HfVvF','message','toISOString','testCaseStarted','onSource','report','HookRunStarted','feature','RITXV','testCaseId','DFvjq','mPDNX','keyword','FJQxX','winstonLogger','logTestCaseFinished','toLowerCase','pickleMap','hook','onHook'];a6_0x2a72=function(){return _0x2557fd;};return a6_0x2a72();}(function(_0xc1a284,_0x19c400){const _0x3b67d3=a6_0x1aa0,_0x360ca6=_0xc1a284();while(!![]){try{const _0x1f490d=parseInt(_0x3b67d3(0xc7))/0x1*(-parseInt(_0x3b67d3(0x145))/0x2)+parseInt(_0x3b67d3(0xb9))/0x3+-parseInt(_0x3b67d3(0x14a))/0x4+parseInt(_0x3b67d3(0xca))/0x5*(parseInt(_0x3b67d3(0x156))/0x6)+parseInt(_0x3b67d3(0x10b))/0x7+-parseInt(_0x3b67d3(0xc6))/0x8*(-parseInt(_0x3b67d3(0x116))/0x9)+parseInt(_0x3b67d3(0xb8))/0xa*(parseInt(_0x3b67d3(0x119))/0xb);if(_0x1f490d===_0x19c400)break;else _0x360ca6['push'](_0x360ca6['shift']());}catch(_0x2381f4){_0x360ca6['push'](_0x360ca6['shift']());}}}(a6_0x2a72,0x1ba54));const {requireModule,getPlatformName,nestedKeyValue,isUndefined}=require('../../../helpers/helper'),util=require(a6_0x580e18(0xf4)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x580e18(0x144)),TestDetails=require(a6_0x580e18(0xb6)),TestObservabilityReporter=require(a6_0x580e18(0x136)),{o11yClassErrorHandler}=require(a6_0x580e18(0xcd)),{shouldProcessEventForTesthub}=require(a6_0x580e18(0x111)),testObservabilityReporter=new TestObservabilityReporter(),logger=require(a6_0x580e18(0xd4))[a6_0x580e18(0x129)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x1ba6b5){const _0x5c5125=a6_0x580e18,_0x1b1517={};_0x1b1517[_0x5c5125(0xf0)]=_0x5c5125(0x134);const _0x5cd8b0=_0x1b1517;super(_0x1ba6b5),this['report']={},_0x1ba6b5['eventBroadcaster']['on'](_0x5cd8b0[_0x5c5125(0xf0)],async _0x98e56a=>{const _0x2a8985=_0x5c5125;switch(!![]){case!!_0x98e56a[_0x2a8985(0x13b)]:this[_0x2a8985(0xf3)](_0x98e56a[_0x2a8985(0x13b)]);break;case!!_0x98e56a['testRunFinished']:this[_0x2a8985(0xce)](_0x98e56a['testRunFinished']);break;case!!_0x98e56a[_0x2a8985(0x11e)]:this['onTestCaseStarted'](_0x98e56a['testCaseStarted'],_0x1ba6b5,_0x98e56a);break;case!!_0x98e56a[_0x2a8985(0x15a)]:this[_0x2a8985(0xe2)](_0x98e56a['testCaseFinished'],_0x1ba6b5,_0x98e56a);break;case!!_0x98e56a[_0x2a8985(0xe8)]:this[_0x2a8985(0x114)](_0x98e56a[_0x2a8985(0xe8)],_0x1ba6b5);break;case!!_0x98e56a[_0x2a8985(0xd3)]:this[_0x2a8985(0xc8)](_0x98e56a['testStepFinished'],_0x1ba6b5);break;case!!_0x98e56a[_0x2a8985(0x12d)]:this[_0x2a8985(0x12e)](_0x98e56a[_0x2a8985(0x12d)]);break;case!!_0x98e56a[_0x2a8985(0xfb)]:this['onTestCase'](_0x98e56a[_0x2a8985(0xfb)]);break;case!!_0x98e56a[_0x2a8985(0x101)]:this[_0x2a8985(0x149)](_0x98e56a[_0x2a8985(0x101)]);break;case!!_0x98e56a['gherkinDocument']:this['onGherkinDocument'](_0x98e56a[_0x2a8985(0xda)]);break;}});}['onHook'](_0x1e7fb4){const _0x3c0f19=a6_0x580e18;this[_0x3c0f19(0x120)][_0x3c0f19(0x14f)]=Object['assign']([],this['report']['hooks']||[]),this['report']['hooks'][_0x3c0f19(0xcf)](_0x1e7fb4);}['onPickle'](_0x47d466){const _0x307013=a6_0x580e18;this[_0x307013(0x120)][_0x307013(0x101)]=Object[_0x307013(0xed)]([],this[_0x307013(0x120)][_0x307013(0x101)]||[],[_0x47d466]),this['report'][_0x307013(0x101)]['push'](_0x47d466);}['onGherkinDocument'](_0x7c599c){const _0x28ae30=a6_0x580e18;this[_0x28ae30(0x120)][_0x28ae30(0xda)]=Object[_0x28ae30(0xed)]([],this[_0x28ae30(0x120)]['gherkinDocument']||[],[_0x7c599c]),this[_0x28ae30(0x120)][_0x28ae30(0xda)][_0x28ae30(0xcf)](_0x7c599c);}[a6_0x580e18(0x11f)](_0xa64b2b){const _0x48bcf0=a6_0x580e18;this[_0x48bcf0(0x120)][_0x48bcf0(0xd9)]=_0xa64b2b;}[a6_0x580e18(0xba)](_0x31d277){const _0x2b5b77=a6_0x580e18;this[_0x2b5b77(0x120)][_0x2b5b77(0x118)]=Object[_0x2b5b77(0xed)]([],this[_0x2b5b77(0x120)]['stepDefinition']||[],[_0x31d277]),this[_0x2b5b77(0x120)][_0x2b5b77(0x118)][_0x2b5b77(0xcf)](_0x31d277);}['onTestCase'](_0x37c64f){const _0x46e0cd=a6_0x580e18;this[_0x46e0cd(0x120)][_0x46e0cd(0xe5)]=Object[_0x46e0cd(0xed)]([],this[_0x46e0cd(0x120)][_0x46e0cd(0xe5)]||[],[_0x37c64f]),this[_0x46e0cd(0x120)]['testCases'][_0x46e0cd(0xcf)](_0x37c64f);}[a6_0x580e18(0x12a)](_0x16057b){const _0x69fc18=a6_0x580e18,_0x2486f5={'wwPQP':function(_0x4d877d,_0x1f0ce5){return _0x4d877d!==_0x1f0ce5;},'Dkxof':_0x69fc18(0x138),'HaTvd':function(_0x591743,_0x74279b){return _0x591743+_0x74279b;},'mPDNX':function(_0x306dbf,_0x31fc90){return _0x306dbf+_0x31fc90;},'ARzZL':_0x69fc18(0xec),'qlOLa':_0x69fc18(0x142),'yMxiL':function(_0x1602b5,_0x3baed3){return _0x1602b5===_0x3baed3;},'clTxl':_0x69fc18(0xc0),'WSMCH':function(_0x31dea2,_0x1ba47b,_0xd070e){return _0x31dea2(_0x1ba47b,_0xd070e);},'tzntT':'result','MPqcl':_0x69fc18(0x11c),'izoOc':function(_0x231a35,_0x3e1112){return _0x231a35!==_0x3e1112;},'vZWlR':function(_0x26d8cc,_0x412a7c){return _0x26d8cc+_0x412a7c;},'BvfKg':function(_0xb0cc55,_0x552aa2){return _0xb0cc55+_0x552aa2;},'uYwTS':function(_0x46341d,_0x3ccdc6){return _0x46341d+_0x3ccdc6;}};_0x2486f5[_0x69fc18(0x148)](global[_0x69fc18(0x15c)],undefined)&&this['log'](_0x2486f5[_0x69fc18(0x13a)](_0x2486f5[_0x69fc18(0x13a)]('\x0a',global['__platform']),'\x0a'));const _0x113326=this[_0x69fc18(0x151)][_0x69fc18(0xbf)](_0x16057b[_0x69fc18(0x113)]);this[_0x69fc18(0x14d)](_0x2486f5[_0x69fc18(0x10d)](_0x2486f5[_0x69fc18(0x137)](_0x2486f5[_0x69fc18(0x131)](_0x2486f5['HaTvd']('\x20\x20',_0x113326['gherkinDocument'][_0x69fc18(0x122)][_0x69fc18(0xc9)]),_0x2486f5[_0x69fc18(0xd5)]),_0x113326[_0x69fc18(0x101)][_0x69fc18(0xc9)]),'\x0a'));const _0x3b34b6={};_0x3b34b6[_0x69fc18(0xbe)]=this[_0x69fc18(0xbe)],_0x3b34b6[_0x69fc18(0xf2)]=this[_0x69fc18(0xf2)],_0x3b34b6[_0x69fc18(0xeb)]=this['supportCodeLibrary'],_0x3b34b6[_0x69fc18(0x13c)]=_0x113326;const _0x265259=formatterHelpers['parseTestCaseAttempt'](_0x3b34b6);let _0x2b71ec=![];_0x265259[_0x69fc18(0x14c)][_0x69fc18(0xe7)](_0x7de874=>{const _0x16edc5=_0x69fc18;if(_0x2486f5['wwPQP'](_0x7de874[_0x16edc5(0xc9)],_0x2486f5[_0x16edc5(0x143)])&&!this['isBstackHook'](_0x7de874)){totalTests+=0x1,this[_0x16edc5(0x14d)](_0x2486f5[_0x16edc5(0x13a)](_0x2486f5['HaTvd'](_0x2486f5[_0x16edc5(0x126)](_0x2486f5['mPDNX'](_0x2486f5['HaTvd'](_0x2486f5[_0x16edc5(0xe6)],_0x7de874[_0x16edc5(0x127)]),_0x7de874[_0x16edc5(0x10f)]||''),_0x2486f5[_0x16edc5(0xd5)]),Status[_0x7de874[_0x16edc5(0x112)]['status']]),'\x0a')),this[_0x16edc5(0x157)](Status[_0x7de874[_0x16edc5(0x112)][_0x16edc5(0x109)]]);if(_0x2486f5['yMxiL'](Status[_0x7de874['result']['status']],_0x2486f5['clTxl'])){_0x2b71ec=!![];const _0x426237=_0x2486f5[_0x16edc5(0xbc)](nestedKeyValue,_0x7de874,[_0x2486f5[_0x16edc5(0xf5)],_0x2486f5[_0x16edc5(0x115)]]);_0x426237&&(testsErrorMessage[_0x2486f5[_0x16edc5(0x13a)](_0x2486f5['HaTvd'](_0x113326[_0x16edc5(0xda)][_0x16edc5(0x122)][_0x16edc5(0xc9)],_0x2486f5[_0x16edc5(0xd5)]),_0x113326[_0x16edc5(0x101)]['name'])]=_0x426237,this['log'](_0x2486f5[_0x16edc5(0x126)](_0x426237,'\x0a')));}}}),_0x2b71ec&&(testSuitesFailed+=0x1),this['log']('\x0a');}[a6_0x580e18(0xf6)](_0x519032){}[a6_0x580e18(0xe9)](_0x431ca9){const _0x46d580=a6_0x580e18,_0x23a58f={};_0x23a58f['jkuMy']=function(_0xaf1865,_0x5c2629){return _0xaf1865!==_0x5c2629;},_0x23a58f['YKBqI']='cucumber-js/test.setup.js';const _0x29e832=_0x23a58f;if(_0x29e832[_0x46d580(0x154)](_0x431ca9[_0x46d580(0xdb)],undefined))return![];if(_0x431ca9[_0x46d580(0x147)]&&_0x431ca9['actionLocation'][_0x46d580(0x117)][_0x46d580(0x107)](_0x29e832['YKBqI']))return!![];return![];}[a6_0x580e18(0x157)](_0x2acad7){const _0x3d7343=a6_0x580e18,_0x10f132={};_0x10f132['IcNoL']=_0x3d7343(0xc0),_0x10f132[_0x3d7343(0x14e)]=_0x3d7343(0xd1),_0x10f132[_0x3d7343(0x10e)]=_0x3d7343(0x103),_0x10f132[_0x3d7343(0xf9)]='PENDING',_0x10f132[_0x3d7343(0x125)]=_0x3d7343(0x106),_0x10f132[_0x3d7343(0xf1)]=_0x3d7343(0xf7),_0x10f132[_0x3d7343(0xc4)]=_0x3d7343(0xd6);const _0x25f13d=_0x10f132;switch(_0x2acad7){case _0x25f13d['IcNoL']:testsFailed+=0x1;break;case _0x25f13d['JmPqa']:testsPassed+=0x1;break;case _0x25f13d[_0x3d7343(0x10e)]:testsSkipped+=0x1;break;case _0x25f13d[_0x3d7343(0xf9)]:testsPending+=0x1;break;case _0x25f13d[_0x3d7343(0x125)]:testsUndefined+=0x1;break;case _0x25f13d[_0x3d7343(0xf1)]:testsUnknown+=0x1;break;case _0x25f13d[_0x3d7343(0xc4)]:testsAmbiguous+=0x1;break;default:break;}}[a6_0x580e18(0xf3)](_0x27e475){const _0xa10b28=a6_0x580e18,_0x167c26={'lUnYT':function(_0x737f18,_0x17a231){return _0x737f18!==_0x17a231;},'FJQxX':function(_0x526227,_0x1efb1d){return _0x526227(_0x1efb1d);},'LTfrV':function(_0x1adafb,_0x4d87dc){return _0x1adafb+_0x4d87dc;},'zsNCQ':function(_0x3e3bf7){return _0x3e3bf7();}};let _0x435961;if(_0x167c26['lUnYT'](process[_0xa10b28(0x139)]['CONFIG'],undefined)){const _0x1a1fcd=JSON[_0xa10b28(0xc1)](process[_0xa10b28(0x139)]['CONFIG']);_0x435961=_0x1a1fcd['capability'];}_0x167c26['lUnYT'](_0x435961,undefined)&&(global['__platform']=_0x167c26[_0xa10b28(0x128)](getPlatformName,_0x435961),this[_0xa10b28(0x14d)](_0x167c26['LTfrV'](_0xa10b28(0x10a)+global[_0xa10b28(0x15c)],'\x0a'))),_0x167c26[_0xa10b28(0xff)](shouldProcessEventForTesthub)&&(TestDetails[_0xa10b28(0xc3)](),this['report'][_0xa10b28(0x13b)]=_0x27e475);}[a6_0x580e18(0xce)](_0x5cfa26){const _0x598f80=a6_0x580e18;this[_0x598f80(0x120)][_0x598f80(0x100)]=_0x5cfa26,this[_0x598f80(0xf6)](_0x5cfa26);}async[a6_0x580e18(0xc2)](_0x5b9600,_0x1fd3d9,_0xc25773){const _0x6dd159=a6_0x580e18,_0x273854={'RITXV':function(_0x8fbaa9,_0x1fcb23){return _0x8fbaa9(_0x1fcb23);},'HcQGZ':_0x6dd159(0xcc),'saCyw':function(_0x499a66,_0x4a4763){return _0x499a66&&_0x4a4763;}};testSuites+=0x1;if(_0x273854[_0x6dd159(0x123)](shouldProcessEventForTesthub,_0x273854['HcQGZ']))try{this[_0x6dd159(0x120)][_0x6dd159(0x11e)]=this['report']['testCaseStarted']||{},this[_0x6dd159(0x120)][_0x6dd159(0x11e)][_0x5b9600['id']]=_0x5b9600;const _0x35cb14=TestDetails[_0x6dd159(0x105)](_0x5b9600['id']);_testCasesData[_0x5b9600['id']]=Object['assign']({},_0xc25773);const _0x52678b=this[_0x6dd159(0x120)],_0xa3046f=_0x5b9600[_0x6dd159(0x124)],_0x473ed9=_0x52678b[_0x6dd159(0xe5)][_0x6dd159(0x158)](_0x594a0a=>_0x594a0a['id']===_0xa3046f)[_0x6dd159(0xfa)],_0x1111b2=_0x52678b[_0x6dd159(0x101)]['find'](_0x4197a7=>_0x4197a7['id']===_0x473ed9),_0x51a8da=_0x52678b[_0x6dd159(0xda)]['find'](_0x22107e=>_0x22107e['uri']===_0x1111b2[_0x6dd159(0x117)]),_0x393543=_0x51a8da[_0x6dd159(0x122)],_0x2b0188={'uuid':_0x35cb14,'startedAt':new Date()[_0x6dd159(0x11d)]()};if(_0x1111b2){const _0x380f1b={};_0x380f1b['name']=_0x1111b2[_0x6dd159(0xc9)],_0x2b0188[_0x6dd159(0xfe)]=_0x380f1b;}if(_0x273854[_0x6dd159(0xfd)](_0x51a8da,_0x393543)){const _0x48d5d4={};_0x48d5d4['path']=_0x51a8da['uri'],_0x48d5d4[_0x6dd159(0xc9)]=_0x393543[_0x6dd159(0xc9)],_0x48d5d4[_0x6dd159(0x102)]=_0x393543[_0x6dd159(0x102)],_0x2b0188[_0x6dd159(0x122)]=_0x48d5d4;}_tests[_0xa3046f]=_0x2b0188,await testObservabilityReporter[_0x6dd159(0x159)](_0xc25773,_0x51a8da,_0x1111b2,_0x273854[_0x6dd159(0xdd)],_0x2b0188);}catch(_0x3226f9){logger[_0x6dd159(0xd7)]('Exception\x20in\x20sending\x20onTestCaseStarted:\x20'+util['format'](_0x3226f9)+'\x20');}}async[a6_0x580e18(0xe2)](_0x1b4843,_0x370604,_0x25b736){const _0x5665f6=a6_0x580e18,_0x30ce68={'fYfID':function(_0x47d8fa,_0x4ed218){return _0x47d8fa(_0x4ed218);},'jqNAj':_0x5665f6(0xe1)};this[_0x5665f6(0x12a)](_0x1b4843);if(_0x30ce68[_0x5665f6(0x146)](shouldProcessEventForTesthub,_0x30ce68[_0x5665f6(0x141)]))try{this[_0x5665f6(0x120)]['testCaseFinished']=this[_0x5665f6(0x120)][_0x5665f6(0x15a)]||{},this[_0x5665f6(0x120)]['testCaseFinished'][_0x1b4843['testCaseStartedId']]=_0x1b4843,_testCasesData[_0x25b736['id']]=Object[_0x5665f6(0xed)]({},_0x25b736);const _0xe2265c=_0x1b4843[_0x5665f6(0x113)],_0x2a0037=_0x370604['eventDataCollector'][_0x5665f6(0x130)][_0xe2265c][_0x5665f6(0x124)],_0x246813=_0x370604[_0x5665f6(0x151)][_0x5665f6(0xd8)][_0x2a0037],_0x3a4480=_0x246813[_0x5665f6(0xfa)],_0x1b81de=_0x370604[_0x5665f6(0x151)][_0x5665f6(0x12c)][_0x3a4480],_0x83de0=this[_0x5665f6(0x104)](_0x370604,_0x1b81de),_0x304366=_tests[_0x2a0037];_0x304366&&(delete _tests[_0x2a0037],_0x304366['finishedAt']=new Date()[_0x5665f6(0x11d)]()),await testObservabilityReporter['sendTestRunEventForCucumber'](_0x25b736,_0x83de0,_0x1b81de,_0x30ce68[_0x5665f6(0x141)],_0x304366);}catch(_0x3abe93){logger['debug'](_0x5665f6(0xde)+util[_0x5665f6(0xe0)](_0x3abe93));}}async[a6_0x580e18(0x114)](_0x156399,_0x3a69aa){const _0x3a5bca=a6_0x580e18,_0x19fd2e={'uRIHB':function(_0x15e6f9,_0x24f0b9){return _0x15e6f9(_0x24f0b9);},'aaKrm':_0x3a5bca(0x121),'VBUaR':function(_0x42b2f5,_0x2f6822){return _0x42b2f5!==_0x2f6822;},'SghYP':_0x3a5bca(0x11a)};if(_0x19fd2e[_0x3a5bca(0x12f)](shouldProcessEventForTesthub,_0x19fd2e[_0x3a5bca(0xcb)]))try{this['report']['testStepStarted']=this[_0x3a5bca(0x120)][_0x3a5bca(0xe8)]||{},this['report'][_0x3a5bca(0xe8)][_0x156399['testCaseStartedId']]=_0x156399;const _0x3dcf36=_0x156399[_0x3a5bca(0x113)],_0x78bc89=_0x3a69aa[_0x3a5bca(0x151)][_0x3a5bca(0x130)][_0x3dcf36]['testCaseId'],_0x3d7eb4=this[_0x3a5bca(0x120)][_0x3a5bca(0xe5)]['find'](_0x1cda01=>_0x1cda01['id']===_0x78bc89)['pickleId'],_0x33e4a9=this[_0x3a5bca(0x120)]['pickle'][_0x3a5bca(0x158)](_0x1c65c5=>_0x1c65c5['id']===_0x3d7eb4),_0x2e01b4=this[_0x3a5bca(0x120)][_0x3a5bca(0xe5)]['find'](_0x165b7b=>_0x165b7b['id']===_0x78bc89)[_0x3a5bca(0x14c)],_0x47c13d=this[_0x3a5bca(0x120)][_0x3a5bca(0xe8)][_0x3dcf36]['testStepId'],_0x376394=_0x2e01b4[_0x3a5bca(0x158)](_0x33979b=>_0x33979b['id']===_0x47c13d)['pickleStepId'],_0x558d1e=_0x33e4a9[_0x3a5bca(0x13f)]['find'](_0x26aac6=>_0x26aac6['id']===_0x376394);if(_0x376394&&_tests[_0x78bc89]&&_0x19fd2e[_0x3a5bca(0xd0)](_tests[_0x78bc89][_0x19fd2e[_0x3a5bca(0xbb)]],_0x47c13d)){_tests[_0x78bc89][_0x19fd2e[_0x3a5bca(0xbb)]]=_0x47c13d;const _0x1a9db8={};_0x1a9db8[_0x3a5bca(0x13f)]=[];const _0x568b4d=_tests[_0x78bc89]||_0x1a9db8;_0x568b4d&&!_0x568b4d[_0x3a5bca(0x13f)]&&(_0x568b4d[_0x3a5bca(0x13f)]=[]),_0x568b4d['steps'][_0x3a5bca(0xcf)]({'id':_0x558d1e['id'],'text':_0x558d1e[_0x3a5bca(0x10f)],'started_at':new Date()[_0x3a5bca(0x11d)]()}),_tests[_0x78bc89]=_0x568b4d;}await testObservabilityReporter[_0x3a5bca(0x10c)](this[_0x3a5bca(0x120)],_0x3dcf36,_0x19fd2e[_0x3a5bca(0xcb)],_0x2e01b4,_0x47c13d,_tests[_0x78bc89]);}catch(_0x41571a){logger[_0x3a5bca(0xd7)](_0x3a5bca(0x150)+util[_0x3a5bca(0xe0)](_0x41571a));}}async['onTestStepFinished'](_0x1638df,_0x3689a0){const _0x30d1d9=a6_0x580e18,_0x5d1a3a={'Dlcqa':function(_0x1a2977,_0x28ad53){return _0x1a2977===_0x28ad53;},'ilzox':_0x30d1d9(0x13e),'pZHEc':function(_0x2e92ab,_0x11516a){return _0x2e92ab(_0x11516a);},'Mpzcy':'HookRunFinished','AsYgi':function(_0x10c63,_0x4f2ea9){return _0x10c63===_0x4f2ea9;},'Pvdys':'failed','HfVvF':function(_0x1c549d,_0x4fb52e){return _0x1c549d===_0x4fb52e;},'PFAWm':_0x30d1d9(0x140),'WIbZL':'testStepId'};this['report']['testStepFinished']=this[_0x30d1d9(0x120)][_0x30d1d9(0xd3)]||{},this[_0x30d1d9(0x120)][_0x30d1d9(0xd3)][_0x1638df[_0x30d1d9(0x113)]]=_0x1638df;if(_0x5d1a3a[_0x30d1d9(0xf8)](shouldProcessEventForTesthub,_0x5d1a3a[_0x30d1d9(0x135)]))try{const _0x4215e4=_0x1638df['testCaseStartedId'],_0x59b0b0=_0x3689a0[_0x30d1d9(0x151)][_0x30d1d9(0x130)][_0x4215e4][_0x30d1d9(0x124)],_0x3d2fd6=_0x3689a0['eventDataCollector'][_0x30d1d9(0xd8)][_0x59b0b0],_0x45035c=_0x3d2fd6['pickleId'],_0x433ad2=_0x3689a0[_0x30d1d9(0x151)]['pickleMap'][_0x45035c],_0x4b3f11=_0x1638df['testStepId'],_0x23ec1d=_0x3d2fd6[_0x30d1d9(0x14c)],_0x48dd58=this['eventDataCollector'][_0x30d1d9(0xbf)](_0x4215e4),_0xd11c56=_0x23ec1d[_0x30d1d9(0x158)](_0x28cac1=>_0x28cac1['id']===_0x4b3f11)[_0x30d1d9(0x153)];let _0x23bcad,_0x215624;_0x1638df[_0x30d1d9(0xdc)]&&_0x5d1a3a[_0x30d1d9(0xe3)](_0x1638df['testStepResult'][_0x30d1d9(0x109)]['toString']()[_0x30d1d9(0x12b)](),_0x5d1a3a[_0x30d1d9(0x155)])&&(_0x23bcad=_0x5d1a3a[_0x30d1d9(0xdf)](_0x1638df[_0x30d1d9(0xdc)][_0x30d1d9(0x132)],undefined)?_0x1638df['testStepResult'][_0x30d1d9(0x11c)]:_0x1638df[_0x30d1d9(0xdc)][_0x30d1d9(0x132)][_0x30d1d9(0x11c)],_0x215624=_0x5d1a3a[_0x30d1d9(0x11b)](_0x1638df[_0x30d1d9(0xdc)]['exception'],undefined)?_0x5d1a3a[_0x30d1d9(0xc5)]:_0x1638df[_0x30d1d9(0xdc)][_0x30d1d9(0x11c)]);await testObservabilityReporter['sendHook'](this['report'],_0x4215e4,_0x5d1a3a[_0x30d1d9(0x135)],_0x23ec1d,_0x4b3f11,_tests[_0x59b0b0]);if(_0xd11c56&&_tests[_0x59b0b0][_0x5d1a3a[_0x30d1d9(0x110)]]){const _0x8234d2=_0x433ad2[_0x30d1d9(0x13f)][_0x30d1d9(0x158)](_0x2bbbe2=>_0x2bbbe2['id']===_0xd11c56),_0x4f3550={};_0x4f3550[_0x30d1d9(0x13f)]=[];const _0x4c950d=_tests[_0x59b0b0]||_0x4f3550;!_0x4c950d['steps']?_0x4c950d[_0x30d1d9(0x13f)]=[{'id':_0x8234d2['id'],'text':_0x8234d2[_0x30d1d9(0x10f)],'finished_at':new Date()['toISOString'](),'result':_0x1638df[_0x30d1d9(0xdc)][_0x30d1d9(0x109)],'duration':_0x1638df[_0x30d1d9(0xdc)][_0x30d1d9(0xb7)]['seconds'],'failure':_0x23bcad,'failureType':_0x215624}]:_0x4c950d[_0x30d1d9(0x13f)][_0x30d1d9(0xe7)](_0xb88e23=>{const _0x1c98c1=_0x30d1d9;if(_0x5d1a3a[_0x1c98c1(0xdf)](_0xb88e23['id'],_0x8234d2['id'])){const _0x586f52=_0x5d1a3a['ilzox'][_0x1c98c1(0x13d)]('|');let _0x35a38d=0x0;while(!![]){switch(_0x586f52[_0x35a38d++]){case'0':_0xb88e23[_0x1c98c1(0x15b)]=_0x215624;continue;case'1':_0xb88e23['result']=_0x1638df[_0x1c98c1(0xdc)][_0x1c98c1(0x109)];continue;case'2':_0xb88e23[_0x1c98c1(0xb5)]=_0x23bcad;continue;case'3':_0xb88e23['duration']=_0x1638df[_0x1c98c1(0xdc)][_0x1c98c1(0xb7)]['seconds'];continue;case'4':_0xb88e23[_0x1c98c1(0xe4)]=new Date()[_0x1c98c1(0x11d)]();continue;}break;}}}),_tests[_0x59b0b0]=_0x4c950d,delete _tests[_0x59b0b0][_0x5d1a3a[_0x30d1d9(0x110)]];}}catch(_0x3f928d){logger[_0x30d1d9(0xd7)]('Exception\x20in\x20onTestStepFinished\x20event:\x20'+util[_0x30d1d9(0xe0)](_0x3f928d));}}[a6_0x580e18(0x108)](_0x2a917d){const _0x2734b9=a6_0x580e18,_0xf07371={};return _0x2a917d[_0x2734b9(0x122)][_0x2734b9(0xbd)]['map'](this[_0x2734b9(0xee)])[_0x2734b9(0xea)]()[_0x2734b9(0xe7)](_0x14b8af=>_0x14b8af[_0x2734b9(0x13f)][_0x2734b9(0xe7)](_0x5ea321=>_0xf07371[_0x5ea321['id']]=_0x5ea321)),_0xf07371;}[a6_0x580e18(0xee)](_0xc338b3){const _0x314663=a6_0x580e18,_0x2d1415={'haUjL':function(_0x190fdb,_0x17411d){return _0x190fdb(_0x17411d);},'OHDsY':function(_0x2887aa,_0x321e02){return _0x2887aa(_0x321e02);}};if(!_0x2d1415['haUjL'](isUndefined,_0xc338b3[_0x314663(0x14b)]))return[_0xc338b3[_0x314663(0x14b)]];else{if(!_0x2d1415[_0x314663(0xd2)](isUndefined,_0xc338b3[_0x314663(0xef)]))return _0xc338b3[_0x314663(0xef)][_0x314663(0xbd)]['map'](_0x2fb340=>!isUndefined(_0x2fb340[_0x314663(0x14b)])?_0x2fb340[_0x314663(0x14b)]:_0x2fb340[_0x314663(0xfe)]);};return[_0xc338b3['scenario']];}[a6_0x580e18(0x104)](_0x12ed04,_0x31562a){const _0x2da636=a6_0x580e18;return Object[_0x2da636(0x133)](_0x12ed04[_0x2da636(0x151)][_0x2da636(0x152)])['find'](_0x40cc6a=>_0x40cc6a['uri']===_0x31562a[_0x2da636(0x117)]);}}function a6_0x1aa0(_0x21b19d,_0x5b26f5){const _0x2a7291=a6_0x2a72();return a6_0x1aa0=function(_0x1aa034,_0x533692){_0x1aa034=_0x1aa034-0xb5;let _0x204595=_0x2a7291[_0x1aa034];return _0x204595;},a6_0x1aa0(_0x21b19d,_0x5b26f5);}module[a6_0x580e18(0xfc)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x580e18(0xc2),a6_0x580e18(0xe2),a6_0x580e18(0x114),a6_0x580e18(0xc8),a6_0x580e18(0xf3),a6_0x580e18(0xce),a6_0x580e18(0xee),a6_0x580e18(0x104),a6_0x580e18(0x108)]);