const a6_0x77e8b0=a6_0x18e9;(function(_0x3725c4,_0x5a919a){const _0x1a1f23=a6_0x18e9,_0x1ee53a=_0x3725c4();while(!![]){try{const _0xe4fbd2=parseInt(_0x1a1f23(0xf4))/0x1*(parseInt(_0x1a1f23(0x147))/0x2)+-parseInt(_0x1a1f23(0x12d))/0x3*(parseInt(_0x1a1f23(0xe9))/0x4)+parseInt(_0x1a1f23(0x17a))/0x5+parseInt(_0x1a1f23(0x1b3))/0x6+-parseInt(_0x1a1f23(0x119))/0x7+parseInt(_0x1a1f23(0x1a4))/0x8+-parseInt(_0x1a1f23(0xeb))/0x9;if(_0xe4fbd2===_0x5a919a)break;else _0x1ee53a['push'](_0x1ee53a['shift']());}catch(_0x12f5fe){_0x1ee53a['push'](_0x1ee53a['shift']());}}}(a6_0x4cd2,0x5f297));function a6_0x4cd2(){const _0x1e2b6c=['sizwt','onTestCase','onTestRunFinished','../../../helpers/testhub/utils.js','scenario','values','DiGyP','AmgaD','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','XUVvR','onGherkinDocument','gwpvN','sourceLocation','extractStepContainers','split','cnvGm','../../utils/constants','logTestRunFinished','background','PLAYWRIGHT','env','logTestCaseFinished','log','finishedAt','testSteps','HookRunStarted','1051904SHVpum','failure','snippetBuilder','onTestCaseFinished','exports','AzaZb','hook','RcBRc','../../playwright/reporter/test-details.js','../test-observability.js','TEST','testCase','_performCLIInitialization','gogEu','4|0|2|3|1','375810Effiio','TNMeA','testCaseStartedId','wsbOw','BROWSERSTACK_CLI_BIN_SESSION_ID','../../v2/utils/cucumber-utils.js','createHookData','POST','sendTestRunEventForCucumber','../../../helpers/test-observability/error-handler','envelope','description','test','FYTOI','testCaseStarted','AsZbO','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','actionLocation','keyword','204Nsfyjk','SKIPPED','3357126jasapu','FnLyC','RNyax','onPickle','hooks','../../v2/browserstackCLI.js','onSource','PASSED','rElRW','2902LpoJMs','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','finished_at','../../v2/state/hookState.js','LOG_REPORT','testCases','winstonLogger','testStepResult','testCaseFinished','bstack','pizSj','tHKjd','Exception\x20in\x20onTestStepFinished\x20event:\x20','onTestCaseStarted','HTfMf','gherkinDocumentMap','testCaseAttemptDataMap','seconds','testCaseAttempt','TqQbH','getGherkinDocument','VKqrI','cTUzR','../../../bin/v2/TestInfo.js','stepDefinition','INIT_TEST','status','UNDEFINED','find','assign','toLowerCase','testCaseMap','cliInitPromise','isCliEnabled','trackEvent','ctEJR','uQuEI','4005358ragoiJ','UFJJb','format','EGrNr','eventDataCollector','testStepId','onTestStepStarted','binSessionId','pickleMap','VuRnv','kugwS','hook_type','oaaxk','ONeng','util','__platform','pickleStepId','includes','AOnye','rLITP','22593achUFR','cucumber-js/test.setup.js','udjMW','lTCij','../../../helpers/logger','type','getInstance','gherkinDocument','uri','getTestUUID','parse','ejHce','testRunStarted','push','testStepStarted','supportCodeLibrary','toISOString','IAwBu','FAILED','setup','caLMM','EBnGb','ovWIQ','yhUjo','testRunFinished','pickleId','518RfrYdM','iFOFT','isBstackHook','result','dJcmY','cFmhg','forEach','getGherkinStepMap','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','capability','../../../helpers/helper','onTestRunStarted','ENEYo','duration','children','HTBBW','cucumber','getTestFramework','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','Executing\x20tests\x20for\x20','PRE','getTestCaseAttempt','ensureCLIInitialized','message','../../v2/state/testFrameworkState.js','cwd','CONFIG','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','steps','onTestStepFinished','exception','text','vvzJe','TestRunStarted','incrementCounter','isRunning',',\x20binSessionId:\x20','sendHook','testUUID','pickle','parseTestCaseAttempt','tYnnn','isCLIReady','report','NstpY','map','NfxRJ','aBcVn','testCaseId','UNKNOWN','PENDING','3866655skniqi','\x20-\x20','ewUXo','HookRunFinished','onHook','debug','TestRunFinished','feature','HAbie','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','testStepFinished','DPQJv','name','eventBroadcaster','PQXOw','\x20\x20\x20\x20'];a6_0x4cd2=function(){return _0x1e2b6c;};return a6_0x4cd2();}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x77e8b0(0x151)),util=require(a6_0x77e8b0(0x127)),{Formatter,formatterHelpers,Status}=requireModule('@cucumber/cucumber'),TestDetails=require(a6_0x77e8b0(0x1ac)),TestObservabilityReporter=require(a6_0x77e8b0(0x1ad)),{o11yClassErrorHandler}=require(a6_0x77e8b0(0x1bc)),{shouldProcessEventForTesthub}=require(a6_0x77e8b0(0x18d)),BrowserstackCLI=require(a6_0x77e8b0(0xf0)),TestFrameworkState=require(a6_0x77e8b0(0x15f)),HookState=require(a6_0x77e8b0(0xf7)),CucumberUtils=require(a6_0x77e8b0(0x1b8)),TestInfo=require(a6_0x77e8b0(0x10b)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x77e8b0(0x131))[a6_0x77e8b0(0xfa)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x101308){const _0x43495c=a6_0x77e8b0,_0x16689f={};_0x16689f['kugwS']=_0x43495c(0x1bd);const _0x2c785b=_0x16689f;super(_0x101308),this[_0x43495c(0x172)]={},_0x101308[_0x43495c(0x187)]['on'](_0x2c785b[_0x43495c(0x123)],async _0x2a6ec7=>{const _0x2c75a6=_0x43495c;switch(!![]){case!!_0x2a6ec7['testRunStarted']:this['onTestRunStarted'](_0x2a6ec7['testRunStarted']);break;case!!_0x2a6ec7[_0x2c75a6(0x145)]:this[_0x2c75a6(0x18c)](_0x2a6ec7[_0x2c75a6(0x145)]);break;case!!_0x2a6ec7['testCaseStarted']:this['onTestCaseStarted'](_0x2a6ec7['testCaseStarted'],_0x101308,_0x2a6ec7);break;case!!_0x2a6ec7['testCaseFinished']:this[_0x2c75a6(0x1a7)](_0x2a6ec7[_0x2c75a6(0xfc)],_0x101308,_0x2a6ec7);break;case!!_0x2a6ec7[_0x2c75a6(0x13b)]:this['onTestStepStarted'](_0x2a6ec7[_0x2c75a6(0x13b)],_0x101308);break;case!!_0x2a6ec7[_0x2c75a6(0x184)]:this[_0x2c75a6(0x164)](_0x2a6ec7[_0x2c75a6(0x184)],_0x101308);break;case!!_0x2a6ec7['hook']:this[_0x2c75a6(0x17e)](_0x2a6ec7['hook']);break;case!!_0x2a6ec7['testCase']:this['onTestCase'](_0x2a6ec7[_0x2c75a6(0x1af)]);break;case!!_0x2a6ec7[_0x2c75a6(0x16e)]:this['onPickle'](_0x2a6ec7[_0x2c75a6(0x16e)]);break;case!!_0x2a6ec7[_0x2c75a6(0x134)]:this[_0x2c75a6(0x194)](_0x2a6ec7[_0x2c75a6(0x134)]);break;}});}[a6_0x77e8b0(0x17e)](_0x443527){const _0x5e34fd=a6_0x77e8b0;this[_0x5e34fd(0x172)][_0x5e34fd(0xef)]=Object[_0x5e34fd(0x111)]([],this[_0x5e34fd(0x172)][_0x5e34fd(0xef)]||[]),this['report'][_0x5e34fd(0xef)][_0x5e34fd(0x13a)](_0x443527);}[a6_0x77e8b0(0xee)](_0x2e9158){const _0x1368d4=a6_0x77e8b0;this[_0x1368d4(0x172)][_0x1368d4(0x16e)]=Object[_0x1368d4(0x111)]([],this[_0x1368d4(0x172)][_0x1368d4(0x16e)]||[],[_0x2e9158]),this['report'][_0x1368d4(0x16e)][_0x1368d4(0x13a)](_0x2e9158);}[a6_0x77e8b0(0x194)](_0x575ca1){const _0x578c67=a6_0x77e8b0;this['report'][_0x578c67(0x134)]=Object['assign']([],this[_0x578c67(0x172)][_0x578c67(0x134)]||[],[_0x575ca1]),this[_0x578c67(0x172)][_0x578c67(0x134)][_0x578c67(0x13a)](_0x575ca1);}[a6_0x77e8b0(0xf1)](_0x4b98dc){const _0x51d49e=a6_0x77e8b0;this[_0x51d49e(0x172)]['source']=_0x4b98dc;}['onStepDefinition'](_0xeb360){const _0x4198ad=a6_0x77e8b0;this[_0x4198ad(0x172)][_0x4198ad(0x10c)]=Object[_0x4198ad(0x111)]([],this[_0x4198ad(0x172)][_0x4198ad(0x10c)]||[],[_0xeb360]),this[_0x4198ad(0x172)][_0x4198ad(0x10c)][_0x4198ad(0x13a)](_0xeb360);}[a6_0x77e8b0(0x18b)](_0x5ef243){const _0x4d45ce=a6_0x77e8b0;this['report'][_0x4d45ce(0xf9)]=Object['assign']([],this[_0x4d45ce(0x172)]['testCases']||[],[_0x5ef243]),this[_0x4d45ce(0x172)][_0x4d45ce(0xf9)][_0x4d45ce(0x13a)](_0x5ef243);}['logTestCaseFinished'](_0x593ed){const _0x4c8d01=a6_0x77e8b0,_0x2a8eba={'vvzJe':function(_0x10e7bf,_0x2218a8){return _0x10e7bf!==_0x2218a8;},'sizwt':_0x4c8d01(0xfd),'lTCij':function(_0x5d4102,_0x129999){return _0x5d4102+_0x129999;},'UFJJb':function(_0x5ce6bc,_0x27870f){return _0x5ce6bc+_0x27870f;},'dJcmY':function(_0x11af55,_0x58cd1e){return _0x11af55+_0x58cd1e;},'oaaxk':function(_0x5b5fce,_0x2f2e54){return _0x5b5fce+_0x2f2e54;},'udjMW':_0x4c8d01(0x189),'ejHce':_0x4c8d01(0x17b),'lTiGu':function(_0x40bdb1,_0x5b6ad8){return _0x40bdb1===_0x5b6ad8;},'AOnye':_0x4c8d01(0x13f),'AmgaD':function(_0x16f0ba,_0x9db00c,_0x136aa8){return _0x16f0ba(_0x9db00c,_0x136aa8);},'tHKjd':_0x4c8d01(0x14a),'AzaZb':'message','ctEJR':function(_0x28a7ba,_0x2e60fd){return _0x28a7ba!==_0x2e60fd;},'cTUzR':function(_0x22262c,_0x290580){return _0x22262c+_0x290580;},'EGrNr':function(_0x129157,_0x1e5559){return _0x129157+_0x1e5559;},'DPQJv':function(_0x2892b4,_0x365ed3){return _0x2892b4+_0x365ed3;},'FnLyC':function(_0x16ad35,_0x175271){return _0x16ad35+_0x175271;}};_0x2a8eba[_0x4c8d01(0x117)](global[_0x4c8d01(0x128)],undefined)&&this[_0x4c8d01(0x1a0)](_0x2a8eba['cTUzR'](_0x2a8eba[_0x4c8d01(0x11c)]('\x0a',global[_0x4c8d01(0x128)]),'\x0a'));const _0x2245d8=this['eventDataCollector'][_0x4c8d01(0x15c)](_0x593ed[_0x4c8d01(0x1b5)]);this[_0x4c8d01(0x1a0)](_0x2a8eba[_0x4c8d01(0x10a)](_0x2a8eba[_0x4c8d01(0x185)](_0x2a8eba[_0x4c8d01(0xec)](_0x2a8eba[_0x4c8d01(0x125)]('\x20\x20',_0x2245d8[_0x4c8d01(0x134)]['feature'][_0x4c8d01(0x186)]),_0x2a8eba[_0x4c8d01(0x138)]),_0x2245d8[_0x4c8d01(0x16e)][_0x4c8d01(0x186)]),'\x0a'));const _0x167e32={};_0x167e32['cwd']=this[_0x4c8d01(0x160)],_0x167e32[_0x4c8d01(0x1a6)]=this['snippetBuilder'],_0x167e32[_0x4c8d01(0x13c)]=this[_0x4c8d01(0x13c)],_0x167e32[_0x4c8d01(0x106)]=_0x2245d8;const _0x4baad9=formatterHelpers[_0x4c8d01(0x16f)](_0x167e32);let _0xd8698f=![];_0x4baad9['testSteps']['forEach'](_0x4e6621=>{const _0x4be065=_0x4c8d01;if(_0x2a8eba[_0x4be065(0x167)](_0x4e6621['name'],_0x2a8eba[_0x4be065(0x18a)])&&!this[_0x4be065(0x149)](_0x4e6621)){totalTests+=0x1,this[_0x4be065(0x1a0)](_0x2a8eba[_0x4be065(0x130)](_0x2a8eba[_0x4be065(0x11a)](_0x2a8eba[_0x4be065(0x14b)](_0x2a8eba[_0x4be065(0x130)](_0x2a8eba[_0x4be065(0x125)](_0x2a8eba[_0x4be065(0x12f)],_0x4e6621[_0x4be065(0xe8)]),_0x4e6621[_0x4be065(0x166)]||''),_0x2a8eba[_0x4be065(0x138)]),Status[_0x4e6621[_0x4be065(0x14a)][_0x4be065(0x10e)]]),'\x0a')),this[_0x4be065(0x169)](Status[_0x4e6621[_0x4be065(0x14a)]['status']]);if(_0x2a8eba['lTiGu'](Status[_0x4e6621[_0x4be065(0x14a)][_0x4be065(0x10e)]],_0x2a8eba[_0x4be065(0x12b)])){_0xd8698f=!![];const _0x566dc1=_0x2a8eba[_0x4be065(0x191)](nestedKeyValue,_0x4e6621,[_0x2a8eba[_0x4be065(0xff)],_0x2a8eba[_0x4be065(0x1a9)]]);_0x566dc1&&(testsErrorMessage[_0x2a8eba['lTCij'](_0x2a8eba['lTCij'](_0x2245d8[_0x4be065(0x134)][_0x4be065(0x181)][_0x4be065(0x186)],_0x2a8eba[_0x4be065(0x138)]),_0x2245d8[_0x4be065(0x16e)][_0x4be065(0x186)])]=_0x566dc1,this[_0x4be065(0x1a0)](_0x2a8eba[_0x4be065(0x14b)](_0x566dc1,'\x0a')));}}}),_0xd8698f&&(testSuitesFailed+=0x1),this[_0x4c8d01(0x1a0)]('\x0a');}['logTestRunFinished'](_0x2d515e){}['isBstackHook'](_0x31c84f){const _0xb2184d=a6_0x77e8b0,_0x37e6b6={};_0x37e6b6[_0xb2184d(0x12c)]=function(_0x29075a,_0x9b7bf1){return _0x29075a!==_0x9b7bf1;},_0x37e6b6[_0xb2184d(0x1c0)]=_0xb2184d(0x12e);const _0x1cfaca=_0x37e6b6;if(_0x1cfaca['rLITP'](_0x31c84f[_0xb2184d(0x196)],undefined))return![];if(_0x31c84f[_0xb2184d(0x1c4)]&&_0x31c84f[_0xb2184d(0x1c4)][_0xb2184d(0x135)][_0xb2184d(0x12a)](_0x1cfaca[_0xb2184d(0x1c0)]))return!![];return![];}[a6_0x77e8b0(0x169)](_0x7018bd){const _0x21811a=a6_0x77e8b0,_0x2c978c={};_0x2c978c[_0x21811a(0x182)]=_0x21811a(0x13f),_0x2c978c[_0x21811a(0x195)]=_0x21811a(0xf2),_0x2c978c[_0x21811a(0xfe)]=_0x21811a(0xea),_0x2c978c[_0x21811a(0xed)]=_0x21811a(0x179),_0x2c978c[_0x21811a(0x17c)]=_0x21811a(0x10f),_0x2c978c['cFmhg']=_0x21811a(0x178),_0x2c978c[_0x21811a(0x199)]='AMBIGUOUS';const _0x3a5453=_0x2c978c;switch(_0x7018bd){case _0x3a5453[_0x21811a(0x182)]:testsFailed+=0x1;break;case _0x3a5453[_0x21811a(0x195)]:testsPassed+=0x1;break;case _0x3a5453[_0x21811a(0xfe)]:testsSkipped+=0x1;break;case _0x3a5453['RNyax']:testsPending+=0x1;break;case _0x3a5453[_0x21811a(0x17c)]:testsUndefined+=0x1;break;case _0x3a5453[_0x21811a(0x14c)]:testsUnknown+=0x1;break;case _0x3a5453[_0x21811a(0x199)]:testsAmbiguous+=0x1;break;default:break;}}async[a6_0x77e8b0(0x152)](_0x259eeb){const _0x401d40=a6_0x77e8b0,_0xebaf0a={'uQuEI':function(_0x1c0884,_0x5e3d97){return _0x1c0884!==_0x5e3d97;},'GYxik':function(_0x5e52ad){return _0x5e52ad();},'ONeng':function(_0x2df561,_0x10e42a){return _0x2df561(_0x10e42a);},'EKocF':function(_0x4016d9,_0x640598){return _0x4016d9+_0x640598;},'xJeim':function(_0x74a851){return _0x74a851();},'ENEYo':_0x401d40(0x157)};let _0x3749c8;if(_0xebaf0a[_0x401d40(0x118)](process['env']['CONFIG'],undefined)){const _0x2fa88e=JSON[_0x401d40(0x137)](process['env'][_0x401d40(0x161)]);_0x3749c8=_0x2fa88e[_0x401d40(0x150)];}_0xebaf0a[_0x401d40(0x118)](_0x3749c8,undefined)&&_0xebaf0a['GYxik'](isBrowserstackInfra)&&(global[_0x401d40(0x128)]=_0xebaf0a[_0x401d40(0x126)](getPlatformName,_0x3749c8),this[_0x401d40(0x1a0)](_0xebaf0a['EKocF'](_0x401d40(0x15a)+global[_0x401d40(0x128)],'\x0a'))),_0xebaf0a['xJeim'](shouldProcessEventForTesthub)&&(TestDetails[_0x401d40(0x140)](),this[_0x401d40(0x172)][_0x401d40(0x139)]=_0x259eeb,BrowserstackCLI['getInstance']()[_0x401d40(0x115)]()&&await this[_0x401d40(0x171)]()&&(TestInfo['setup'](_0xebaf0a[_0x401d40(0x153)]),await BrowserstackCLI['getInstance']()[_0x401d40(0x158)]()[_0x401d40(0x116)](TestFrameworkState[_0x401d40(0x10d)],HookState['PRE'],{})));}[a6_0x77e8b0(0x18c)](_0x2a1f7f){const _0x3fca66=a6_0x77e8b0;this[_0x3fca66(0x172)]['testRunFinished']=_0x2a1f7f,this[_0x3fca66(0x19b)](_0x2a1f7f);}async[a6_0x77e8b0(0x101)](_0x163dbf,_0x34cb5d,_0x362b71){const _0x351005=a6_0x77e8b0,_0x3a1c99={'VuRnv':function(_0x5833ea,_0x4777d2){return _0x5833ea(_0x4777d2);},'SoHPy':_0x351005(0x168),'ovWIQ':function(_0x582fdf,_0x611094){return _0x582fdf&&_0x611094;}};testSuites+=0x1;if(_0x3a1c99[_0x351005(0x122)](shouldProcessEventForTesthub,_0x3a1c99['SoHPy']))try{this[_0x351005(0x172)][_0x351005(0x1c1)]=this['report']['testCaseStarted']||{},this['report']['testCaseStarted'][_0x163dbf['id']]=_0x163dbf;let _0x4a59a4=null;BrowserstackCLI[_0x351005(0x133)]()[_0x351005(0x115)]()&&await this[_0x351005(0x171)]()?_0x4a59a4=TestInfo[_0x351005(0x136)](_0x163dbf['id']):_0x4a59a4=TestDetails[_0x351005(0x136)](_0x163dbf['id']);_testCasesData[_0x163dbf['id']]=Object[_0x351005(0x111)]({},_0x362b71);const _0x1d604e=this[_0x351005(0x172)],_0x45c29e=_0x163dbf['testCaseId'],_0x4c9806=_0x1d604e[_0x351005(0xf9)][_0x351005(0x110)](_0x172bdd=>_0x172bdd['id']===_0x45c29e)[_0x351005(0x146)],_0x286d21=_0x1d604e[_0x351005(0x16e)]['find'](_0x27bafd=>_0x27bafd['id']===_0x4c9806),_0x1edc19=_0x1d604e[_0x351005(0x134)][_0x351005(0x110)](_0x4fb273=>_0x4fb273[_0x351005(0x135)]===_0x286d21[_0x351005(0x135)]),_0x2e198c=_0x1edc19[_0x351005(0x181)],_0x53e61a={'uuid':_0x4a59a4,'startedAt':new Date()[_0x351005(0x13d)]()};if(_0x286d21){const _0x4fdbfb={};_0x4fdbfb[_0x351005(0x186)]=_0x286d21[_0x351005(0x186)],_0x53e61a[_0x351005(0x18e)]=_0x4fdbfb;}if(_0x3a1c99[_0x351005(0x143)](_0x1edc19,_0x2e198c)){const _0x4c3abc={};_0x4c3abc['path']=_0x1edc19[_0x351005(0x135)],_0x4c3abc[_0x351005(0x186)]=_0x2e198c[_0x351005(0x186)],_0x4c3abc['description']=_0x2e198c[_0x351005(0x1be)],_0x53e61a[_0x351005(0x181)]=_0x4c3abc;}_tests[_0x45c29e]=_0x53e61a;if(BrowserstackCLI[_0x351005(0x133)]()[_0x351005(0x115)]()&&await this[_0x351005(0x171)]()){const _0x24ee3a=await cucumberUtils['createTestFrameworkData'](_0x53e61a,_0x286d21,_0x362b71,_0x1edc19,_0x163dbf['id'],_0x3a1c99['SoHPy']),_0x2f4d47={};_0x2f4d47['test']=_0x24ee3a,await BrowserstackCLI[_0x351005(0x133)]()[_0x351005(0x158)]()[_0x351005(0x116)](TestFrameworkState[_0x351005(0x1ae)],HookState[_0x351005(0x15b)],_0x2f4d47);return;}await testObservabilityReporter[_0x351005(0x1bb)](_0x362b71,_0x1edc19,_0x286d21,_0x3a1c99['SoHPy'],_0x53e61a);}catch(_0x47cb52){logger[_0x351005(0x17f)](_0x351005(0x162)+util['format'](_0x47cb52)+'\x20');}}async[a6_0x77e8b0(0x1a7)](_0x425ce4,_0x25f4bf,_0x22b4f2){const _0x5842e1=a6_0x77e8b0,_0x5b2ad5={'DiGyP':function(_0xb15653,_0xc6b529){return _0xb15653(_0xc6b529);},'caLMM':_0x5842e1(0x180),'aBcVn':_0x5842e1(0x1bf)};this[_0x5842e1(0x19f)](_0x425ce4);if(_0x5b2ad5[_0x5842e1(0x190)](shouldProcessEventForTesthub,_0x5b2ad5[_0x5842e1(0x141)]))try{this[_0x5842e1(0x172)][_0x5842e1(0xfc)]=this[_0x5842e1(0x172)][_0x5842e1(0xfc)]||{},this[_0x5842e1(0x172)][_0x5842e1(0xfc)][_0x425ce4[_0x5842e1(0x1b5)]]=_0x425ce4,_testCasesData[_0x22b4f2['id']]=Object['assign']({},_0x22b4f2);const _0x5c84d5=_0x425ce4[_0x5842e1(0x1b5)],_0x1ef5e4=_0x25f4bf[_0x5842e1(0x11d)][_0x5842e1(0x104)][_0x5c84d5][_0x5842e1(0x177)],_0x11300a=_0x25f4bf[_0x5842e1(0x11d)][_0x5842e1(0x113)][_0x1ef5e4],_0x3fb236=_0x11300a[_0x5842e1(0x146)],_0xadcfeb=_0x25f4bf[_0x5842e1(0x11d)]['pickleMap'][_0x3fb236],_0x155cef=this['getGherkinDocument'](_0x25f4bf,_0xadcfeb),_0x2cf2f0=_0x155cef[_0x5842e1(0x181)],_0x170b39=_tests[_0x1ef5e4];_0x170b39&&(delete _tests[_0x1ef5e4],_0x170b39[_0x5842e1(0x1a1)]=new Date()[_0x5842e1(0x13d)]());if(BrowserstackCLI[_0x5842e1(0x133)]()[_0x5842e1(0x115)]()&&await this['isCLIReady']()){const _0x4f8d83=await cucumberUtils['createTestFrameworkData'](_0x170b39,_0xadcfeb,_0x22b4f2,_0x155cef,_0x5c84d5,_0x5b2ad5[_0x5842e1(0x141)]),_0x3db261={};_0x3db261[_0x5842e1(0x1bf)]=_0x4f8d83,await BrowserstackCLI[_0x5842e1(0x133)]()['getTestFramework']()[_0x5842e1(0x116)](TestFrameworkState[_0x5842e1(0x1ae)],HookState[_0x5842e1(0x1ba)],_0x3db261);const _0x2a0862={};_0x2a0862[_0x5842e1(0x16d)]=_0x425ce4[_0x5842e1(0x1b5)],_0x2a0862[_0x5842e1(0x132)]=_0x5b2ad5[_0x5842e1(0x176)],await BrowserstackCLI[_0x5842e1(0x133)]()['getTestFramework']()[_0x5842e1(0x116)](TestFrameworkState[_0x5842e1(0xf8)],HookState['POST'],_0x2a0862);return;}await testObservabilityReporter[_0x5842e1(0x1bb)](_0x22b4f2,_0x155cef,_0xadcfeb,_0x5b2ad5[_0x5842e1(0x141)],_0x170b39);}catch(_0x5a2522){logger[_0x5842e1(0x17f)](_0x5842e1(0x14f)+util[_0x5842e1(0x11b)](_0x5a2522));}}async[a6_0x77e8b0(0x11f)](_0x40f2fc,_0x4faed7){const _0x9b76c4=a6_0x77e8b0,_0x35e16b={'iFOFT':function(_0xeca045,_0x58440b){return _0xeca045(_0x58440b);},'TNMeA':_0x9b76c4(0x1a3),'HTfMf':function(_0x2b0377,_0x7d96e3){return _0x2b0377!==_0x7d96e3;},'RcBRc':_0x9b76c4(0x11e)};if(_0x35e16b[_0x9b76c4(0x148)](shouldProcessEventForTesthub,_0x35e16b[_0x9b76c4(0x1b4)]))try{this['report']['testStepStarted']=this[_0x9b76c4(0x172)][_0x9b76c4(0x13b)]||{},this[_0x9b76c4(0x172)][_0x9b76c4(0x13b)][_0x40f2fc['testCaseStartedId']]=_0x40f2fc;const _0x374f81=_0x40f2fc['testCaseStartedId'],_0x537edb=_0x4faed7[_0x9b76c4(0x11d)][_0x9b76c4(0x104)][_0x374f81][_0x9b76c4(0x177)],_0x584286=this[_0x9b76c4(0x172)][_0x9b76c4(0xf9)][_0x9b76c4(0x110)](_0x42d483=>_0x42d483['id']===_0x537edb)['pickleId'],_0x20fa9e=this[_0x9b76c4(0x172)][_0x9b76c4(0x16e)][_0x9b76c4(0x110)](_0x2db502=>_0x2db502['id']===_0x584286),_0xa5f9d8=this['report']['testCases'][_0x9b76c4(0x110)](_0x148bbd=>_0x148bbd['id']===_0x537edb)[_0x9b76c4(0x1a2)],_0x30fbcd=this[_0x9b76c4(0x172)][_0x9b76c4(0x13b)][_0x374f81][_0x9b76c4(0x11e)],_0x18003d=_0xa5f9d8[_0x9b76c4(0x110)](_0x1b6a34=>_0x1b6a34['id']===_0x30fbcd)[_0x9b76c4(0x129)],_0x5b1801=_0x20fa9e[_0x9b76c4(0x163)][_0x9b76c4(0x110)](_0x316017=>_0x316017['id']===_0x18003d);if(_0x18003d&&_tests[_0x537edb]&&_0x35e16b[_0x9b76c4(0x102)](_tests[_0x537edb][_0x35e16b['RcBRc']],_0x30fbcd)){_tests[_0x537edb][_0x35e16b[_0x9b76c4(0x1ab)]]=_0x30fbcd;const _0x3dfbc5={};_0x3dfbc5[_0x9b76c4(0x163)]=[];const _0x4d2953=_tests[_0x537edb]||_0x3dfbc5;_0x4d2953&&!_0x4d2953[_0x9b76c4(0x163)]&&(_0x4d2953[_0x9b76c4(0x163)]=[]),_0x4d2953['steps']['push']({'id':_0x5b1801['id'],'text':_0x5b1801[_0x9b76c4(0x166)],'started_at':new Date()[_0x9b76c4(0x13d)]()}),_tests[_0x537edb]=_0x4d2953;}if(BrowserstackCLI['getInstance']()[_0x9b76c4(0x115)]()&&await this[_0x9b76c4(0x171)]()){const _0xd4f7aa=await cucumberUtils[_0x9b76c4(0x1b9)](this['report'],_0x374f81,_0x35e16b[_0x9b76c4(0x1b4)],_0xa5f9d8,_0x30fbcd,_tests[_0x537edb]);_0xd4f7aa&&await BrowserstackCLI[_0x9b76c4(0x133)]()['getTestFramework']()[_0x9b76c4(0x116)](TestFrameworkState[_0xd4f7aa[_0x9b76c4(0x124)]],HookState[_0x9b76c4(0x15b)],{'hookData':_0xd4f7aa,'testUUID':_0x40f2fc[_0x9b76c4(0x1b5)]});return;}await testObservabilityReporter['sendHook'](this[_0x9b76c4(0x172)],_0x374f81,_0x35e16b[_0x9b76c4(0x1b4)],_0xa5f9d8,_0x30fbcd,_tests[_0x537edb]);}catch(_0x2253bc){logger['debug']('Exception\x20in\x20onTestStepStarted\x20event:\x20'+util[_0x9b76c4(0x11b)](_0x2253bc));}}async['onTestStepFinished'](_0x41ee04,_0x1541b4){const _0x6e2cd8=a6_0x77e8b0,_0x141095={'AsZbO':function(_0x2b24fb,_0x54f0a8){return _0x2b24fb===_0x54f0a8;},'VKqrI':_0x6e2cd8(0x1b2),'tYnnn':function(_0x1dddd0,_0x516b61){return _0x1dddd0(_0x516b61);},'IAwBu':_0x6e2cd8(0x17d),'NfxRJ':function(_0x26feee,_0x419dac){return _0x26feee===_0x419dac;},'NstpY':'failed','HTBBW':function(_0x19f2a7,_0x2bd025){return _0x19f2a7===_0x2bd025;},'wsbOw':function(_0x348aa9,_0x5324fa){return _0x348aa9===_0x5324fa;},'yhUjo':'UnhandledError','XUVvR':'testStepId','FOtSE':_0x6e2cd8(0x1a3),'gogEu':_0x6e2cd8(0x1aa)};this[_0x6e2cd8(0x172)][_0x6e2cd8(0x184)]=this[_0x6e2cd8(0x172)]['testStepFinished']||{},this[_0x6e2cd8(0x172)][_0x6e2cd8(0x184)][_0x41ee04[_0x6e2cd8(0x1b5)]]=_0x41ee04;if(_0x141095[_0x6e2cd8(0x170)](shouldProcessEventForTesthub,_0x141095['IAwBu']))try{const _0x52283b=_0x41ee04['testCaseStartedId'],_0x5f3fff=_0x1541b4[_0x6e2cd8(0x11d)][_0x6e2cd8(0x104)][_0x52283b]['testCaseId'],_0x1baf8c=_0x1541b4[_0x6e2cd8(0x11d)]['testCaseMap'][_0x5f3fff],_0x1a86c5=_0x1baf8c['pickleId'],_0x51555e=_0x1541b4[_0x6e2cd8(0x11d)][_0x6e2cd8(0x121)][_0x1a86c5],_0x5aba64=_0x41ee04[_0x6e2cd8(0x11e)],_0x3a4ac2=_0x1baf8c[_0x6e2cd8(0x1a2)],_0x47b5a1=this[_0x6e2cd8(0x11d)][_0x6e2cd8(0x15c)](_0x52283b),_0x4fe899=_0x3a4ac2['find'](_0x3cc553=>_0x3cc553['id']===_0x5aba64)[_0x6e2cd8(0x129)];let _0x23a934,_0x1fa498;_0x41ee04[_0x6e2cd8(0xfb)]&&_0x141095[_0x6e2cd8(0x175)](_0x41ee04[_0x6e2cd8(0xfb)][_0x6e2cd8(0x10e)]['toString']()[_0x6e2cd8(0x112)](),_0x141095[_0x6e2cd8(0x173)])&&(_0x23a934=_0x141095[_0x6e2cd8(0x156)](_0x41ee04[_0x6e2cd8(0xfb)][_0x6e2cd8(0x165)],undefined)?_0x41ee04[_0x6e2cd8(0xfb)][_0x6e2cd8(0x15e)]:_0x41ee04[_0x6e2cd8(0xfb)][_0x6e2cd8(0x165)][_0x6e2cd8(0x15e)],_0x1fa498=_0x141095[_0x6e2cd8(0x1b6)](_0x41ee04['testStepResult'][_0x6e2cd8(0x165)],undefined)?_0x141095[_0x6e2cd8(0x144)]:_0x41ee04[_0x6e2cd8(0xfb)]['message']);if(_0x4fe899&&_tests[_0x5f3fff][_0x141095['XUVvR']]){const _0x9dac64=_0x51555e['steps']['find'](_0x259bdc=>_0x259bdc['id']===_0x4fe899),_0x330f62={};_0x330f62[_0x6e2cd8(0x163)]=[];const _0x2e6459=_tests[_0x5f3fff]||_0x330f62;!_0x2e6459['steps']?_0x2e6459[_0x6e2cd8(0x163)]=[{'id':_0x9dac64['id'],'text':_0x9dac64[_0x6e2cd8(0x166)],'finished_at':new Date()[_0x6e2cd8(0x13d)](),'result':_0x41ee04[_0x6e2cd8(0xfb)]['status'],'duration':_0x41ee04[_0x6e2cd8(0xfb)][_0x6e2cd8(0x154)][_0x6e2cd8(0x105)],'failure':_0x23a934,'failureType':_0x1fa498}]:_0x2e6459[_0x6e2cd8(0x163)]['forEach'](_0x2601b6=>{const _0x3d082b=_0x6e2cd8;if(_0x141095[_0x3d082b(0x1c2)](_0x2601b6['id'],_0x9dac64['id'])){const _0x5a65dc=_0x141095[_0x3d082b(0x109)][_0x3d082b(0x198)]('|');let _0x362e07=0x0;while(!![]){switch(_0x5a65dc[_0x362e07++]){case'0':_0x2601b6['result']=_0x41ee04['testStepResult']['status'];continue;case'1':_0x2601b6['failureType']=_0x1fa498;continue;case'2':_0x2601b6[_0x3d082b(0x154)]=_0x41ee04[_0x3d082b(0xfb)]['duration'][_0x3d082b(0x105)];continue;case'3':_0x2601b6[_0x3d082b(0x1a5)]=_0x23a934;continue;case'4':_0x2601b6[_0x3d082b(0xf6)]=new Date()['toISOString']();continue;}break;}}}),_tests[_0x5f3fff]=_0x2e6459;}delete _tests[_0x5f3fff][_0x141095[_0x6e2cd8(0x193)]];if(BrowserstackCLI[_0x6e2cd8(0x133)]()[_0x6e2cd8(0x115)]()&&await this[_0x6e2cd8(0x171)]()){const _0x5a895b=await cucumberUtils[_0x6e2cd8(0x1b9)](this[_0x6e2cd8(0x172)],_0x52283b,_0x141095['FOtSE'],_0x3a4ac2,_0x5aba64,_tests[_0x5f3fff]);if(_0x5a895b){await BrowserstackCLI['getInstance']()[_0x6e2cd8(0x158)]()[_0x6e2cd8(0x116)](TestFrameworkState[_0x5a895b[_0x6e2cd8(0x124)]],HookState['POST'],{'hookData':_0x5a895b,'testUUID':_0x41ee04[_0x6e2cd8(0x1b5)]});const _0x5d9af1={};_0x5d9af1[_0x6e2cd8(0x16d)]=_0x41ee04[_0x6e2cd8(0x1b5)],_0x5d9af1[_0x6e2cd8(0x132)]=_0x141095[_0x6e2cd8(0x1b1)],await BrowserstackCLI[_0x6e2cd8(0x133)]()[_0x6e2cd8(0x158)]()[_0x6e2cd8(0x116)](TestFrameworkState[_0x6e2cd8(0xf8)],HookState[_0x6e2cd8(0x1ba)],_0x5d9af1);}return;}await testObservabilityReporter[_0x6e2cd8(0x16c)](this[_0x6e2cd8(0x172)],_0x52283b,_0x141095[_0x6e2cd8(0x13e)],_0x3a4ac2,_0x5aba64,_tests[_0x5f3fff]);}catch(_0x1bfbb6){logger['debug'](_0x6e2cd8(0x100)+util[_0x6e2cd8(0x11b)](_0x1bfbb6));}}[a6_0x77e8b0(0x14e)](_0x218228){const _0x511761=a6_0x77e8b0,_0x4e838f={};return _0x218228[_0x511761(0x181)][_0x511761(0x155)]['map'](this[_0x511761(0x197)])['flat']()[_0x511761(0x14d)](_0x2809c0=>_0x2809c0[_0x511761(0x163)][_0x511761(0x14d)](_0x67e5b9=>_0x4e838f[_0x67e5b9['id']]=_0x67e5b9)),_0x4e838f;}[a6_0x77e8b0(0x197)](_0x4e4768){const _0x21c378=a6_0x77e8b0,_0x2b734c={'rElRW':function(_0x5440e6,_0x1533c0){return _0x5440e6(_0x1533c0);},'mHMgZ':function(_0x347147,_0x295055){return _0x347147(_0x295055);}};if(!_0x2b734c[_0x21c378(0xf3)](isUndefined,_0x4e4768['background']))return[_0x4e4768['background']];else{if(!_0x2b734c['mHMgZ'](isUndefined,_0x4e4768['rule']))return _0x4e4768['rule'][_0x21c378(0x155)][_0x21c378(0x174)](_0x426659=>!isUndefined(_0x426659[_0x21c378(0x19c)])?_0x426659[_0x21c378(0x19c)]:_0x426659[_0x21c378(0x18e)]);};return[_0x4e4768[_0x21c378(0x18e)]];}[a6_0x77e8b0(0x108)](_0xc4548f,_0x57f13f){const _0x3887b2=a6_0x77e8b0;return Object[_0x3887b2(0x18f)](_0xc4548f[_0x3887b2(0x11d)][_0x3887b2(0x103)])['find'](_0xd84162=>_0xd84162[_0x3887b2(0x135)]===_0x57f13f[_0x3887b2(0x135)]);}async[a6_0x77e8b0(0x15d)](){const _0x5a2455=a6_0x77e8b0;if(this[_0x5a2455(0x114)])return this[_0x5a2455(0x114)];return this[_0x5a2455(0x114)]=this[_0x5a2455(0x1b0)](),this['cliInitPromise'];}async[a6_0x77e8b0(0x1b0)](){const _0x5904dc=a6_0x77e8b0,_0x132ca0={'TqQbH':_0x5904dc(0x1c3),'kQQpm':function(_0x4c4422,_0x1b4595){return _0x4c4422(_0x1b4595);},'PQXOw':'../../v2/cliUtils','EBnGb':_0x5904dc(0x19a)};try{const _0x124933=BrowserstackCLI['getInstance']();if(_0x124933[_0x5904dc(0x16a)]())return logger[_0x5904dc(0x17f)]('CLI\x20already\x20running\x20-\x20binSessionId:\x20'+_0x124933[_0x5904dc(0x120)]),!![];const _0x4780c8=process[_0x5904dc(0x19e)][_0x5904dc(0x1b7)];if(!_0x4780c8)return logger[_0x5904dc(0x17f)](_0x132ca0[_0x5904dc(0x107)]),![];const _0x2a522c=_0x132ca0['kQQpm'](require,_0x132ca0[_0x5904dc(0x188)]),{FRAMEWORKS:_0x3306ce}=_0x132ca0['kQQpm'](require,_0x132ca0[_0x5904dc(0x142)]);return _0x2a522c['setFrameworkDetail'](_0x3306ce['CUCUMBER'],_0x3306ce[_0x5904dc(0x19d)]),logger[_0x5904dc(0x17f)](_0x5904dc(0x192)+_0x4780c8),await _0x124933['bootstrap'](),logger[_0x5904dc(0x17f)](_0x5904dc(0xf5)+_0x124933['isRunning']()+_0x5904dc(0x16b)+_0x124933[_0x5904dc(0x120)]),_0x124933[_0x5904dc(0x16a)]();}catch(_0x547e96){return logger[_0x5904dc(0x17f)](_0x5904dc(0x183)+util[_0x5904dc(0x11b)](_0x547e96)),![];}}async[a6_0x77e8b0(0x171)](){const _0x576cf7=a6_0x77e8b0;try{return await this['ensureCLIInitialized'](),BrowserstackCLI[_0x576cf7(0x133)]()[_0x576cf7(0x16a)]();}catch(_0x2cd10c){return logger['debug'](_0x576cf7(0x159)+util[_0x576cf7(0x11b)](_0x2cd10c)),![];}}}function a6_0x18e9(_0x593db2,_0x148d15){const _0x4cd233=a6_0x4cd2();return a6_0x18e9=function(_0x18e95f,_0xf58aae){_0x18e95f=_0x18e95f-0xe8;let _0xcf5e34=_0x4cd233[_0x18e95f];return _0xcf5e34;},a6_0x18e9(_0x593db2,_0x148d15);}module[a6_0x77e8b0(0x1a8)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x77e8b0(0x101),a6_0x77e8b0(0x1a7),'onTestStepStarted',a6_0x77e8b0(0x164),a6_0x77e8b0(0x152),'onTestRunFinished','extractStepContainers','getGherkinDocument',a6_0x77e8b0(0x14e)]);