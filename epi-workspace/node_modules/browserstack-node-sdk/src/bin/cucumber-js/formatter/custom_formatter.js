const a7_0x4f8300=a7_0x6177;function a7_0x54e1(){const _0x83420e=['qaKjC','../test-observability.js','YVCBI','hyFkc','getTestFramework','Ioxmy','LOG_REPORT','131946ndppbF','flat','snippetBuilder','report','TestRunFinished','@cucumber/cucumber','gMivj','../../utils/constants','parse','zZfMX','feature','status','Executing\x20tests\x20for\x20','kULox','pickleId','22bBKAfm','testCaseStartedId','description','XLSRO','duration','cliInitPromise','../../v2/state/hookState.js','3830480OnfgzR','logTestCaseFinished','onTestStepStarted','getTestUUID','actionLocation','createHookData','cucumber','CLI\x20already\x20running\x20-\x20binSessionId:\x20','steps','message','exports','../../../helpers/test-observability/error-handler','_performCLIInitialization','uri','../../../helpers/helper','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','PASSED','getGherkinStepMap','OwjnK','brBvq','bUGNv','../../v2/utils/cucumber-utils.js','envelope','testSteps','sendHook','rule','QmewO','hXPtq','assign','HookRunStarted','path','getGherkinDocument','HVYoh','trackEvent','24ukdDmq','lPiax','finished_at','yYzWc','UNDEFINED','onTestRunFinished','isBstackHook','gXxsM','3|1|0|4|2','log','incrementCounter','background','TEST','../../playwright/reporter/test-details.js','debug','gherkinDocumentMap','onHook','GOUld','5ZieHci','sendTestRunEventForCucumber','dliBJ','pickleStepId','mNPof','onTestRunStarted','util','SKIPPED','8mxCSVa','FAILED','NbmVP','cLqHi','onTestCase','exception','TestRunStarted','testCase','AMBIGUOUS','onTestStepFinished','lbDtU','GfPeD','Rdvxt','extractStepContainers','kqroT','text','VkCdI','4923342JyyqEn','format','capability','bDvBn','UnhandledError','../../../helpers/logger','onStepDefinition','bstack','POST','lOybs','testCaseStarted','mHjtr','XyBdi','toLowerCase','toISOString','env','jsFFb','source','testRunFinished','values','seconds','includes','name','isCliEnabled','hooks','fDWap','split','testStepResult','nXEIx','9kSlAlb','eventDataCollector','SZTtz','IzYsI','ensureCLIInitialized','supportCodeLibrary','isCLIReady','testCases','HewTc','logTestRunFinished','cwd','testStepFinished','testCaseId','yqejz','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','find','children','iIdCP','toString','pickle','hook_type','onTestCaseFinished','push','../../../bin/v2/TestInfo.js','getTestCaseAttempt','failed','gherkinDocument','testCaseFinished','pickleMap','WUZTh','setFrameworkDetail','hook','PENDING','../../v2/state/testFrameworkState.js','forEach','6023836NoMVyK','../../../helpers/testhub/utils.js','Exception\x20in\x20onTestStepFinished\x20event:\x20','MFumo','stepDefinition','scenario','4479144sLKhev','TTQAg','BnXgN','XNOoY','__platform','bootstrap','onTestCaseStarted','getInstance','binSessionId','oIVBP','testStepStarted','createTestFrameworkData','isRunning','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','testRunStarted','CONFIG','testStepId','result','setup','16467XQPVuc','testCaseAttemptDataMap','sourceLocation','RSLXV','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','\x20\x20\x20\x20','PRE','SeIzX','AUgLz','26698608vRrLCH','onGherkinDocument','onPickle','test','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','\x20-\x20','aITcc'];a7_0x54e1=function(){return _0x83420e;};return a7_0x54e1();}(function(_0xba9f63,_0x2efff7){const _0x1ee6db=a7_0x6177,_0x2ee5cf=_0xba9f63();while(!![]){try{const _0x3d2f7e=-parseInt(_0x1ee6db(0x168))/0x1*(parseInt(_0x1ee6db(0x1b7))/0x2)+-parseInt(_0x1ee6db(0x17f))/0x3*(parseInt(_0x1ee6db(0xfe))/0x4)+-parseInt(_0x1ee6db(0xf6))/0x5*(-parseInt(_0x1ee6db(0x10f))/0x6)+parseInt(_0x1ee6db(0x14f))/0x7+parseInt(_0x1ee6db(0x155))/0x8*(parseInt(_0x1ee6db(0x12c))/0x9)+parseInt(_0x1ee6db(0x195))/0xa*(parseInt(_0x1ee6db(0x18e))/0xb)+-parseInt(_0x1ee6db(0x171))/0xc;if(_0x3d2f7e===_0x2efff7)break;else _0x2ee5cf['push'](_0x2ee5cf['shift']());}catch(_0x5bd238){_0x2ee5cf['push'](_0x2ee5cf['shift']());}}}(a7_0x54e1,0x79402));function a7_0x6177(_0x18afe5,_0x110215){const _0x54e120=a7_0x54e1();return a7_0x6177=function(_0x6177cd,_0x36e750){_0x6177cd=_0x6177cd-0xed;let _0x5ccc34=_0x54e120[_0x6177cd];return _0x5ccc34;},a7_0x6177(_0x18afe5,_0x110215);}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a7_0x4f8300(0x1a3)),util=require(a7_0x4f8300(0xfc)),{Formatter,formatterHelpers,Status}=requireModule(a7_0x4f8300(0x184)),TestDetails=require(a7_0x4f8300(0xf1)),TestObservabilityReporter=require(a7_0x4f8300(0x179)),{o11yClassErrorHandler}=require(a7_0x4f8300(0x1a0)),{shouldProcessEventForTesthub}=require(a7_0x4f8300(0x150)),BrowserstackCLI=require('../../v2/browserstackCLI.js'),TestFrameworkState=require(a7_0x4f8300(0x14d)),HookState=require(a7_0x4f8300(0x194)),CucumberUtils=require(a7_0x4f8300(0x1aa)),TestInfo=require(a7_0x4f8300(0x143)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a7_0x4f8300(0x114))['winstonLogger'],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x229272){const _0x3f67b8=a7_0x4f8300,_0x244f90={};_0x244f90[_0x3f67b8(0x11b)]=_0x3f67b8(0x1ab);const _0xa403e7=_0x244f90;super(_0x229272),this[_0x3f67b8(0x182)]={},_0x229272['eventBroadcaster']['on'](_0xa403e7['XyBdi'],async _0x34cacb=>{const _0x477ddf=_0x3f67b8;switch(!![]){case!!_0x34cacb[_0x477ddf(0x163)]:this[_0x477ddf(0xfb)](_0x34cacb[_0x477ddf(0x163)]);break;case!!_0x34cacb[_0x477ddf(0x121)]:this[_0x477ddf(0x1bc)](_0x34cacb[_0x477ddf(0x121)]);break;case!!_0x34cacb[_0x477ddf(0x119)]:this[_0x477ddf(0x15b)](_0x34cacb[_0x477ddf(0x119)],_0x229272,_0x34cacb);break;case!!_0x34cacb[_0x477ddf(0x147)]:this[_0x477ddf(0x141)](_0x34cacb[_0x477ddf(0x147)],_0x229272,_0x34cacb);break;case!!_0x34cacb['testStepStarted']:this[_0x477ddf(0x197)](_0x34cacb[_0x477ddf(0x15f)],_0x229272);break;case!!_0x34cacb[_0x477ddf(0x137)]:this[_0x477ddf(0x107)](_0x34cacb[_0x477ddf(0x137)],_0x229272);break;case!!_0x34cacb['hook']:this[_0x477ddf(0xf4)](_0x34cacb[_0x477ddf(0x14b)]);break;case!!_0x34cacb['testCase']:this[_0x477ddf(0x102)](_0x34cacb[_0x477ddf(0x105)]);break;case!!_0x34cacb[_0x477ddf(0x13f)]:this['onPickle'](_0x34cacb[_0x477ddf(0x13f)]);break;case!!_0x34cacb[_0x477ddf(0x146)]:this[_0x477ddf(0x172)](_0x34cacb[_0x477ddf(0x146)]);break;}});}[a7_0x4f8300(0xf4)](_0x3950c1){const _0x566ea=a7_0x4f8300;this[_0x566ea(0x182)][_0x566ea(0x127)]=Object[_0x566ea(0x1b1)]([],this[_0x566ea(0x182)][_0x566ea(0x127)]||[]),this[_0x566ea(0x182)]['hooks'][_0x566ea(0x142)](_0x3950c1);}[a7_0x4f8300(0x173)](_0x216c6f){const _0x46ace2=a7_0x4f8300;this['report']['pickle']=Object[_0x46ace2(0x1b1)]([],this[_0x46ace2(0x182)]['pickle']||[],[_0x216c6f]),this[_0x46ace2(0x182)]['pickle'][_0x46ace2(0x142)](_0x216c6f);}['onGherkinDocument'](_0x5790c7){const _0x218c22=a7_0x4f8300;this[_0x218c22(0x182)][_0x218c22(0x146)]=Object[_0x218c22(0x1b1)]([],this[_0x218c22(0x182)][_0x218c22(0x146)]||[],[_0x5790c7]),this[_0x218c22(0x182)]['gherkinDocument']['push'](_0x5790c7);}['onSource'](_0x457042){const _0x52e043=a7_0x4f8300;this[_0x52e043(0x182)][_0x52e043(0x120)]=_0x457042;}[a7_0x4f8300(0x115)](_0x200dd8){const _0x4cbfdb=a7_0x4f8300;this[_0x4cbfdb(0x182)]['stepDefinition']=Object[_0x4cbfdb(0x1b1)]([],this[_0x4cbfdb(0x182)][_0x4cbfdb(0x153)]||[],[_0x200dd8]),this['report']['stepDefinition'][_0x4cbfdb(0x142)](_0x200dd8);}[a7_0x4f8300(0x102)](_0x13910f){const _0x381aca=a7_0x4f8300;this[_0x381aca(0x182)][_0x381aca(0x133)]=Object[_0x381aca(0x1b1)]([],this[_0x381aca(0x182)][_0x381aca(0x133)]||[],[_0x13910f]),this[_0x381aca(0x182)][_0x381aca(0x133)]['push'](_0x13910f);}[a7_0x4f8300(0x196)](_0x19e0e0){const _0x7e4424=a7_0x4f8300,_0x4924a5={'bDvBn':function(_0x3543a1,_0x37bc43){return _0x3543a1!==_0x37bc43;},'zZfMX':_0x7e4424(0x116),'mHjtr':function(_0x1dc05f,_0x1367bd){return _0x1dc05f+_0x1367bd;},'SeIzX':function(_0x31e988,_0x206d5c){return _0x31e988+_0x206d5c;},'wKOsj':_0x7e4424(0x16d),'bUGNv':_0x7e4424(0x176),'CCNdw':function(_0x193f54,_0xbfc77b){return _0x193f54===_0xbfc77b;},'oIVBP':_0x7e4424(0xff),'TTQAg':function(_0x274629,_0xea7c08,_0x1ddbff){return _0x274629(_0xea7c08,_0x1ddbff);},'WUZTh':_0x7e4424(0x166),'hXPtq':_0x7e4424(0x19e),'yqejz':function(_0x1c4ae1,_0x316650){return _0x1c4ae1+_0x316650;},'hyFkc':function(_0x194bc3,_0x52322d){return _0x194bc3+_0x52322d;},'VkCdI':function(_0x964fce,_0x3431fb){return _0x964fce+_0x3431fb;},'kULox':function(_0x3a3dee,_0x597bd6){return _0x3a3dee+_0x597bd6;}};_0x4924a5[_0x7e4424(0x112)](global[_0x7e4424(0x159)],undefined)&&this[_0x7e4424(0xed)](_0x4924a5[_0x7e4424(0x139)](_0x4924a5[_0x7e4424(0x11a)]('\x0a',global[_0x7e4424(0x159)]),'\x0a'));const _0x1d2173=this[_0x7e4424(0x12d)][_0x7e4424(0x144)](_0x19e0e0['testCaseStartedId']);this[_0x7e4424(0xed)](_0x4924a5[_0x7e4424(0x11a)](_0x4924a5[_0x7e4424(0x10e)](_0x4924a5[_0x7e4424(0x11a)](_0x4924a5[_0x7e4424(0x18c)]('\x20\x20',_0x1d2173['gherkinDocument']['feature']['name']),_0x4924a5[_0x7e4424(0x1a9)]),_0x1d2173[_0x7e4424(0x13f)][_0x7e4424(0x125)]),'\x0a'));const _0x17b797={};_0x17b797['cwd']=this[_0x7e4424(0x136)],_0x17b797['snippetBuilder']=this[_0x7e4424(0x181)],_0x17b797['supportCodeLibrary']=this[_0x7e4424(0x131)],_0x17b797['testCaseAttempt']=_0x1d2173;const _0x355881=formatterHelpers['parseTestCaseAttempt'](_0x17b797);let _0x3bbdd7=![];_0x355881['testSteps'][_0x7e4424(0x14e)](_0x554712=>{const _0x2d108d=_0x7e4424;if(_0x4924a5[_0x2d108d(0x112)](_0x554712[_0x2d108d(0x125)],_0x4924a5[_0x2d108d(0x188)])&&!this[_0x2d108d(0x1bd)](_0x554712)){totalTests+=0x1,this[_0x2d108d(0xed)](_0x4924a5[_0x2d108d(0x11a)](_0x4924a5['mHjtr'](_0x4924a5[_0x2d108d(0x11a)](_0x4924a5[_0x2d108d(0x11a)](_0x4924a5[_0x2d108d(0x16f)](_0x4924a5['wKOsj'],_0x554712['keyword']),_0x554712[_0x2d108d(0x10d)]||''),_0x4924a5[_0x2d108d(0x1a9)]),Status[_0x554712[_0x2d108d(0x166)][_0x2d108d(0x18a)]]),'\x0a')),this[_0x2d108d(0xee)](Status[_0x554712[_0x2d108d(0x166)][_0x2d108d(0x18a)]]);if(_0x4924a5['CCNdw'](Status[_0x554712[_0x2d108d(0x166)][_0x2d108d(0x18a)]],_0x4924a5[_0x2d108d(0x15e)])){_0x3bbdd7=!![];const _0x2cda44=_0x4924a5[_0x2d108d(0x156)](nestedKeyValue,_0x554712,[_0x4924a5[_0x2d108d(0x149)],_0x4924a5[_0x2d108d(0x1b0)]]);_0x2cda44&&(testsErrorMessage[_0x4924a5[_0x2d108d(0x139)](_0x4924a5[_0x2d108d(0x17b)](_0x1d2173[_0x2d108d(0x146)][_0x2d108d(0x189)][_0x2d108d(0x125)],_0x4924a5['bUGNv']),_0x1d2173[_0x2d108d(0x13f)][_0x2d108d(0x125)])]=_0x2cda44,this[_0x2d108d(0xed)](_0x4924a5['hyFkc'](_0x2cda44,'\x0a')));}}}),_0x3bbdd7&&(testSuitesFailed+=0x1),this['log']('\x0a');}[a7_0x4f8300(0x135)](_0x47df1d){}[a7_0x4f8300(0x1bd)](_0x3450e3){const _0xf10094=a7_0x4f8300,_0x1535c1={};_0x1535c1[_0xf10094(0x11f)]=function(_0x4e2373,_0x2be5c6){return _0x4e2373!==_0x2be5c6;},_0x1535c1[_0xf10094(0x1ba)]='cucumber-js/test.setup.js';const _0x48332a=_0x1535c1;if(_0x48332a[_0xf10094(0x11f)](_0x3450e3[_0xf10094(0x16a)],undefined))return![];if(_0x3450e3[_0xf10094(0x199)]&&_0x3450e3[_0xf10094(0x199)]['uri'][_0xf10094(0x124)](_0x48332a['yYzWc']))return!![];return![];}[a7_0x4f8300(0xee)](_0x3c7c0a){const _0x228a70=a7_0x4f8300,_0x22fc38={};_0x22fc38[_0x228a70(0x12f)]='FAILED',_0x22fc38[_0x228a70(0x16b)]=_0x228a70(0x1a5),_0x22fc38[_0x228a70(0x170)]=_0x228a70(0xfd),_0x22fc38[_0x228a70(0xfa)]=_0x228a70(0x14c),_0x22fc38[_0x228a70(0x100)]=_0x228a70(0x1bb),_0x22fc38['iIdCP']='UNKNOWN',_0x22fc38['lOybs']=_0x228a70(0x106);const _0x59f19a=_0x22fc38;switch(_0x3c7c0a){case _0x59f19a['IzYsI']:testsFailed+=0x1;break;case _0x59f19a[_0x228a70(0x16b)]:testsPassed+=0x1;break;case _0x59f19a['AUgLz']:testsSkipped+=0x1;break;case _0x59f19a['mNPof']:testsPending+=0x1;break;case _0x59f19a[_0x228a70(0x100)]:testsUndefined+=0x1;break;case _0x59f19a[_0x228a70(0x13d)]:testsUnknown+=0x1;break;case _0x59f19a[_0x228a70(0x118)]:testsAmbiguous+=0x1;break;default:break;}}async[a7_0x4f8300(0xfb)](_0x339834){const _0x172ce7=a7_0x4f8300,_0x1b682d={'ODsdX':function(_0x10adb0,_0x1287a2){return _0x10adb0!==_0x1287a2;},'aITcc':function(_0x3e7b55,_0x244ba1){return _0x3e7b55!==_0x244ba1;},'HVYoh':function(_0x19b009){return _0x19b009();},'fDWap':function(_0x1f9347,_0xb5a8db){return _0x1f9347(_0xb5a8db);},'xORNG':function(_0x2de590,_0x223d57){return _0x2de590+_0x223d57;},'brBvq':_0x172ce7(0x19b)};let _0x546aee;if(_0x1b682d['ODsdX'](process[_0x172ce7(0x11e)][_0x172ce7(0x164)],undefined)){const _0x1247b3=JSON[_0x172ce7(0x187)](process[_0x172ce7(0x11e)]['CONFIG']);_0x546aee=_0x1247b3[_0x172ce7(0x111)];}_0x1b682d[_0x172ce7(0x177)](_0x546aee,undefined)&&_0x1b682d['HVYoh'](isBrowserstackInfra)&&(global[_0x172ce7(0x159)]=_0x1b682d[_0x172ce7(0x128)](getPlatformName,_0x546aee),this[_0x172ce7(0xed)](_0x1b682d['xORNG'](_0x172ce7(0x18b)+global['__platform'],'\x0a'))),_0x1b682d[_0x172ce7(0x1b5)](shouldProcessEventForTesthub)&&(TestDetails[_0x172ce7(0x167)](),this['report']['testRunStarted']=_0x339834,BrowserstackCLI[_0x172ce7(0x15c)]()[_0x172ce7(0x126)]()&&await this[_0x172ce7(0x132)]()&&(TestInfo[_0x172ce7(0x167)](_0x1b682d[_0x172ce7(0x1a8)]),await BrowserstackCLI['getInstance']()['getTestFramework']()[_0x172ce7(0x1b6)](TestFrameworkState['INIT_TEST'],HookState[_0x172ce7(0x16e)],{})));}['onTestRunFinished'](_0x11400a){const _0xd9987e=a7_0x4f8300;this[_0xd9987e(0x182)][_0xd9987e(0x121)]=_0x11400a,this[_0xd9987e(0x135)](_0x11400a);}async[a7_0x4f8300(0x15b)](_0x1aff10,_0x367b76,_0x2a3117){const _0x2295da=a7_0x4f8300,_0x10dd3d={'gXxsM':function(_0x59dd9d,_0x4877d3){return _0x59dd9d(_0x4877d3);},'MFumo':_0x2295da(0x104),'lPiax':function(_0x427210,_0x59b129){return _0x427210&&_0x59b129;}};testSuites+=0x1;if(_0x10dd3d[_0x2295da(0x1be)](shouldProcessEventForTesthub,_0x10dd3d['MFumo']))try{this[_0x2295da(0x182)][_0x2295da(0x119)]=this[_0x2295da(0x182)][_0x2295da(0x119)]||{},this[_0x2295da(0x182)][_0x2295da(0x119)][_0x1aff10['id']]=_0x1aff10;let _0x4730a6=null;BrowserstackCLI[_0x2295da(0x15c)]()['isCliEnabled']()&&await this[_0x2295da(0x132)]()?_0x4730a6=TestInfo[_0x2295da(0x198)](_0x1aff10['id']):_0x4730a6=TestDetails['getTestUUID'](_0x1aff10['id']);_testCasesData[_0x1aff10['id']]=Object[_0x2295da(0x1b1)]({},_0x2a3117);const _0xd73fe2=this[_0x2295da(0x182)],_0x12a5e0=_0x1aff10[_0x2295da(0x138)],_0x55ef1a=_0xd73fe2['testCases'][_0x2295da(0x13b)](_0x463b6b=>_0x463b6b['id']===_0x12a5e0)[_0x2295da(0x18d)],_0x533ac0=_0xd73fe2[_0x2295da(0x13f)][_0x2295da(0x13b)](_0x55077a=>_0x55077a['id']===_0x55ef1a),_0x32abf6=_0xd73fe2['gherkinDocument'][_0x2295da(0x13b)](_0x4863a0=>_0x4863a0[_0x2295da(0x1a2)]===_0x533ac0['uri']),_0x52e9b2=_0x32abf6[_0x2295da(0x189)],_0x51700c={'uuid':_0x4730a6,'startedAt':new Date()[_0x2295da(0x11d)]()};if(_0x533ac0){const _0xa705c4={};_0xa705c4['name']=_0x533ac0[_0x2295da(0x125)],_0x51700c[_0x2295da(0x154)]=_0xa705c4;}if(_0x10dd3d[_0x2295da(0x1b8)](_0x32abf6,_0x52e9b2)){const _0x55dc9e={};_0x55dc9e[_0x2295da(0x1b3)]=_0x32abf6['uri'],_0x55dc9e[_0x2295da(0x125)]=_0x52e9b2[_0x2295da(0x125)],_0x55dc9e[_0x2295da(0x190)]=_0x52e9b2[_0x2295da(0x190)],_0x51700c['feature']=_0x55dc9e;}_tests[_0x12a5e0]=_0x51700c;if(BrowserstackCLI[_0x2295da(0x15c)]()[_0x2295da(0x126)]()&&await this[_0x2295da(0x132)]()){const _0x370a8f=await cucumberUtils['createTestFrameworkData'](_0x51700c,_0x533ac0,_0x2a3117,_0x32abf6,_0x1aff10['id'],_0x10dd3d[_0x2295da(0x152)]),_0x2aec85={};_0x2aec85['test']=_0x370a8f,await BrowserstackCLI[_0x2295da(0x15c)]()[_0x2295da(0x17c)]()['trackEvent'](TestFrameworkState[_0x2295da(0xf0)],HookState['PRE'],_0x2aec85);return;}await testObservabilityReporter[_0x2295da(0xf7)](_0x2a3117,_0x32abf6,_0x533ac0,_0x10dd3d[_0x2295da(0x152)],_0x51700c);}catch(_0x149c34){logger['debug'](_0x2295da(0x162)+util[_0x2295da(0x110)](_0x149c34)+'\x20');}}async[a7_0x4f8300(0x141)](_0xb720e0,_0x34ec10,_0x346ae8){const _0x1fde4b=a7_0x4f8300,_0x10f089={'Rdvxt':function(_0xf25052,_0x558521){return _0xf25052(_0x558521);},'XNOoY':_0x1fde4b(0x183),'GfPeD':_0x1fde4b(0x174)};this[_0x1fde4b(0x196)](_0xb720e0);if(_0x10f089[_0x1fde4b(0x10a)](shouldProcessEventForTesthub,_0x10f089[_0x1fde4b(0x158)]))try{this[_0x1fde4b(0x182)][_0x1fde4b(0x147)]=this['report'][_0x1fde4b(0x147)]||{},this[_0x1fde4b(0x182)][_0x1fde4b(0x147)][_0xb720e0[_0x1fde4b(0x18f)]]=_0xb720e0,_testCasesData[_0x346ae8['id']]=Object[_0x1fde4b(0x1b1)]({},_0x346ae8);const _0x1f1890=_0xb720e0[_0x1fde4b(0x18f)],_0x2a77c8=_0x34ec10[_0x1fde4b(0x12d)][_0x1fde4b(0x169)][_0x1f1890][_0x1fde4b(0x138)],_0x57a0ba=_0x34ec10[_0x1fde4b(0x12d)]['testCaseMap'][_0x2a77c8],_0x3e2cab=_0x57a0ba[_0x1fde4b(0x18d)],_0x1aa066=_0x34ec10['eventDataCollector'][_0x1fde4b(0x148)][_0x3e2cab],_0x28027e=this[_0x1fde4b(0x1b4)](_0x34ec10,_0x1aa066),_0x244c1a=_0x28027e['feature'],_0xdcc0a=_tests[_0x2a77c8];_0xdcc0a&&(delete _tests[_0x2a77c8],_0xdcc0a['finishedAt']=new Date()[_0x1fde4b(0x11d)]());if(BrowserstackCLI[_0x1fde4b(0x15c)]()[_0x1fde4b(0x126)]()&&await this[_0x1fde4b(0x132)]()){const _0x26f27d=await cucumberUtils[_0x1fde4b(0x160)](_0xdcc0a,_0x1aa066,_0x346ae8,_0x28027e,_0x1f1890,_0x10f089[_0x1fde4b(0x158)]),_0x319ab2={};_0x319ab2[_0x1fde4b(0x174)]=_0x26f27d,await BrowserstackCLI[_0x1fde4b(0x15c)]()[_0x1fde4b(0x17c)]()[_0x1fde4b(0x1b6)](TestFrameworkState[_0x1fde4b(0xf0)],HookState[_0x1fde4b(0x117)],_0x319ab2);const _0x3b2bb7={};_0x3b2bb7['testUUID']=_0xb720e0[_0x1fde4b(0x18f)],_0x3b2bb7['type']=_0x10f089[_0x1fde4b(0x109)],await BrowserstackCLI[_0x1fde4b(0x15c)]()[_0x1fde4b(0x17c)]()[_0x1fde4b(0x1b6)](TestFrameworkState[_0x1fde4b(0x17e)],HookState[_0x1fde4b(0x117)],_0x3b2bb7);return;}await testObservabilityReporter[_0x1fde4b(0xf7)](_0x346ae8,_0x28027e,_0x1aa066,_0x10f089[_0x1fde4b(0x158)],_0xdcc0a);}catch(_0x2be1be){logger[_0x1fde4b(0xf2)]('Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20'+util[_0x1fde4b(0x110)](_0x2be1be));}}async[a7_0x4f8300(0x197)](_0x3729cd,_0x13a59a){const _0x18f5ea=a7_0x4f8300,_0x37cdba={'OwjnK':function(_0x5540ae,_0x3342b9){return _0x5540ae(_0x3342b9);},'BnXgN':_0x18f5ea(0x1b2),'YVCBI':function(_0x248ecf,_0x33c226){return _0x248ecf!==_0x33c226;},'QmewO':_0x18f5ea(0x165)};if(_0x37cdba[_0x18f5ea(0x1a7)](shouldProcessEventForTesthub,_0x37cdba[_0x18f5ea(0x157)]))try{this[_0x18f5ea(0x182)][_0x18f5ea(0x15f)]=this[_0x18f5ea(0x182)][_0x18f5ea(0x15f)]||{},this[_0x18f5ea(0x182)][_0x18f5ea(0x15f)][_0x3729cd[_0x18f5ea(0x18f)]]=_0x3729cd;const _0x2fbe2e=_0x3729cd['testCaseStartedId'],_0x1cf1ed=_0x13a59a[_0x18f5ea(0x12d)]['testCaseAttemptDataMap'][_0x2fbe2e][_0x18f5ea(0x138)],_0x500873=this[_0x18f5ea(0x182)][_0x18f5ea(0x133)]['find'](_0x14ce57=>_0x14ce57['id']===_0x1cf1ed)[_0x18f5ea(0x18d)],_0x120c56=this[_0x18f5ea(0x182)]['pickle'][_0x18f5ea(0x13b)](_0x377973=>_0x377973['id']===_0x500873),_0x1bcef0=this[_0x18f5ea(0x182)][_0x18f5ea(0x133)]['find'](_0x2a4334=>_0x2a4334['id']===_0x1cf1ed)['testSteps'],_0x5547d9=this[_0x18f5ea(0x182)][_0x18f5ea(0x15f)][_0x2fbe2e][_0x18f5ea(0x165)],_0x2ec2a5=_0x1bcef0['find'](_0x22ae6a=>_0x22ae6a['id']===_0x5547d9)[_0x18f5ea(0xf9)],_0x10fcad=_0x120c56[_0x18f5ea(0x19d)][_0x18f5ea(0x13b)](_0x475651=>_0x475651['id']===_0x2ec2a5);if(_0x2ec2a5&&_tests[_0x1cf1ed]&&_0x37cdba[_0x18f5ea(0x17a)](_tests[_0x1cf1ed][_0x37cdba[_0x18f5ea(0x1af)]],_0x5547d9)){_tests[_0x1cf1ed][_0x37cdba['QmewO']]=_0x5547d9;const _0x3dea1b={};_0x3dea1b[_0x18f5ea(0x19d)]=[];const _0x51ea92=_tests[_0x1cf1ed]||_0x3dea1b;_0x51ea92&&!_0x51ea92[_0x18f5ea(0x19d)]&&(_0x51ea92[_0x18f5ea(0x19d)]=[]),_0x51ea92['steps']['push']({'id':_0x10fcad['id'],'text':_0x10fcad['text'],'started_at':new Date()[_0x18f5ea(0x11d)]()}),_tests[_0x1cf1ed]=_0x51ea92;}if(BrowserstackCLI['getInstance']()['isCliEnabled']()&&await this[_0x18f5ea(0x132)]()){const _0x325806=await cucumberUtils[_0x18f5ea(0x19a)](this[_0x18f5ea(0x182)],_0x2fbe2e,_0x37cdba[_0x18f5ea(0x157)],_0x1bcef0,_0x5547d9,_tests[_0x1cf1ed]);_0x325806&&await BrowserstackCLI[_0x18f5ea(0x15c)]()[_0x18f5ea(0x17c)]()[_0x18f5ea(0x1b6)](TestFrameworkState[_0x325806['hook_type']],HookState['PRE'],{'hookData':_0x325806,'testUUID':_0x3729cd[_0x18f5ea(0x18f)]});return;}await testObservabilityReporter[_0x18f5ea(0x1ad)](this[_0x18f5ea(0x182)],_0x2fbe2e,_0x37cdba[_0x18f5ea(0x157)],_0x1bcef0,_0x5547d9,_tests[_0x1cf1ed]);}catch(_0x280aa8){logger[_0x18f5ea(0xf2)]('Exception\x20in\x20onTestStepStarted\x20event:\x20'+util[_0x18f5ea(0x110)](_0x280aa8));}}async['onTestStepFinished'](_0x1f1fa9,_0x114861){const _0x2c21f5=a7_0x4f8300,_0xd5590c={'nXEIx':function(_0x384d39,_0x714d9c){return _0x384d39===_0x714d9c;},'GOUld':_0x2c21f5(0x1bf),'dliBJ':function(_0x458fe4,_0x197b44){return _0x458fe4(_0x197b44);},'lbDtU':'HookRunFinished','XLSRO':function(_0x44aeb3,_0xd4b4d3){return _0x44aeb3===_0xd4b4d3;},'dOHcM':_0x2c21f5(0x145),'gMivj':_0x2c21f5(0x113),'HewTc':_0x2c21f5(0x165),'SZTtz':_0x2c21f5(0x1b2),'MtWDP':_0x2c21f5(0x14b)};this[_0x2c21f5(0x182)]['testStepFinished']=this[_0x2c21f5(0x182)][_0x2c21f5(0x137)]||{},this[_0x2c21f5(0x182)][_0x2c21f5(0x137)][_0x1f1fa9[_0x2c21f5(0x18f)]]=_0x1f1fa9;if(_0xd5590c[_0x2c21f5(0xf8)](shouldProcessEventForTesthub,_0xd5590c[_0x2c21f5(0x108)]))try{const _0x245781=_0x1f1fa9['testCaseStartedId'],_0x9830ba=_0x114861[_0x2c21f5(0x12d)][_0x2c21f5(0x169)][_0x245781]['testCaseId'],_0x4f455d=_0x114861[_0x2c21f5(0x12d)]['testCaseMap'][_0x9830ba],_0x2a17e8=_0x4f455d[_0x2c21f5(0x18d)],_0x428cf2=_0x114861[_0x2c21f5(0x12d)]['pickleMap'][_0x2a17e8],_0x512d90=_0x1f1fa9[_0x2c21f5(0x165)],_0x3ca78c=_0x4f455d[_0x2c21f5(0x1ac)],_0x4bdf8d=this[_0x2c21f5(0x12d)][_0x2c21f5(0x144)](_0x245781),_0x115177=_0x3ca78c[_0x2c21f5(0x13b)](_0x419635=>_0x419635['id']===_0x512d90)['pickleStepId'];let _0x110f64,_0x3f52d5;_0x1f1fa9[_0x2c21f5(0x12a)]&&_0xd5590c[_0x2c21f5(0x191)](_0x1f1fa9[_0x2c21f5(0x12a)]['status'][_0x2c21f5(0x13e)]()[_0x2c21f5(0x11c)](),_0xd5590c['dOHcM'])&&(_0x110f64=_0xd5590c[_0x2c21f5(0x12b)](_0x1f1fa9[_0x2c21f5(0x12a)][_0x2c21f5(0x103)],undefined)?_0x1f1fa9['testStepResult'][_0x2c21f5(0x19e)]:_0x1f1fa9[_0x2c21f5(0x12a)][_0x2c21f5(0x103)][_0x2c21f5(0x19e)],_0x3f52d5=_0xd5590c[_0x2c21f5(0x191)](_0x1f1fa9[_0x2c21f5(0x12a)][_0x2c21f5(0x103)],undefined)?_0xd5590c[_0x2c21f5(0x185)]:_0x1f1fa9[_0x2c21f5(0x12a)][_0x2c21f5(0x19e)]);if(_0x115177&&_tests[_0x9830ba][_0xd5590c[_0x2c21f5(0x134)]]){const _0x3074ce=_0x428cf2[_0x2c21f5(0x19d)][_0x2c21f5(0x13b)](_0x5ccd78=>_0x5ccd78['id']===_0x115177),_0x8f2194={};_0x8f2194['steps']=[];const _0x58e0db=_tests[_0x9830ba]||_0x8f2194;!_0x58e0db[_0x2c21f5(0x19d)]?_0x58e0db[_0x2c21f5(0x19d)]=[{'id':_0x3074ce['id'],'text':_0x3074ce['text'],'finished_at':new Date()[_0x2c21f5(0x11d)](),'result':_0x1f1fa9[_0x2c21f5(0x12a)][_0x2c21f5(0x18a)],'duration':_0x1f1fa9[_0x2c21f5(0x12a)][_0x2c21f5(0x192)][_0x2c21f5(0x123)],'failure':_0x110f64,'failureType':_0x3f52d5}]:_0x58e0db[_0x2c21f5(0x19d)][_0x2c21f5(0x14e)](_0x45954b=>{const _0x560b79=_0x2c21f5;if(_0xd5590c[_0x560b79(0x12b)](_0x45954b['id'],_0x3074ce['id'])){const _0x1079a3=_0xd5590c[_0x560b79(0xf5)][_0x560b79(0x129)]('|');let _0x4ddb6f=0x0;while(!![]){switch(_0x1079a3[_0x4ddb6f++]){case'0':_0x45954b['duration']=_0x1f1fa9[_0x560b79(0x12a)]['duration'][_0x560b79(0x123)];continue;case'1':_0x45954b[_0x560b79(0x166)]=_0x1f1fa9[_0x560b79(0x12a)][_0x560b79(0x18a)];continue;case'2':_0x45954b['failureType']=_0x3f52d5;continue;case'3':_0x45954b[_0x560b79(0x1b9)]=new Date()[_0x560b79(0x11d)]();continue;case'4':_0x45954b['failure']=_0x110f64;continue;}break;}}}),_tests[_0x9830ba]=_0x58e0db;}delete _tests[_0x9830ba][_0xd5590c[_0x2c21f5(0x134)]];if(BrowserstackCLI[_0x2c21f5(0x15c)]()[_0x2c21f5(0x126)]()&&await this[_0x2c21f5(0x132)]()){const _0x548234=await cucumberUtils['createHookData'](this['report'],_0x245781,_0xd5590c[_0x2c21f5(0x12e)],_0x3ca78c,_0x512d90,_tests[_0x9830ba]);if(_0x548234){await BrowserstackCLI['getInstance']()[_0x2c21f5(0x17c)]()[_0x2c21f5(0x1b6)](TestFrameworkState[_0x548234[_0x2c21f5(0x140)]],HookState[_0x2c21f5(0x117)],{'hookData':_0x548234,'testUUID':_0x1f1fa9[_0x2c21f5(0x18f)]});const _0x49c92a={};_0x49c92a['testUUID']=_0x1f1fa9[_0x2c21f5(0x18f)],_0x49c92a['type']=_0xd5590c['MtWDP'],await BrowserstackCLI[_0x2c21f5(0x15c)]()[_0x2c21f5(0x17c)]()[_0x2c21f5(0x1b6)](TestFrameworkState[_0x2c21f5(0x17e)],HookState[_0x2c21f5(0x117)],_0x49c92a);}return;}await testObservabilityReporter[_0x2c21f5(0x1ad)](this[_0x2c21f5(0x182)],_0x245781,_0xd5590c[_0x2c21f5(0x108)],_0x3ca78c,_0x512d90,_tests[_0x9830ba]);}catch(_0x40e512){logger[_0x2c21f5(0xf2)](_0x2c21f5(0x151)+util[_0x2c21f5(0x110)](_0x40e512));}}['getGherkinStepMap'](_0x2ac235){const _0x42d44b=a7_0x4f8300,_0x288bf0={};return _0x2ac235[_0x42d44b(0x189)]['children']['map'](this['extractStepContainers'])[_0x42d44b(0x180)]()[_0x42d44b(0x14e)](_0x556787=>_0x556787[_0x42d44b(0x19d)][_0x42d44b(0x14e)](_0x442ef9=>_0x288bf0[_0x442ef9['id']]=_0x442ef9)),_0x288bf0;}[a7_0x4f8300(0x10b)](_0x42f6ca){const _0xa79713=a7_0x4f8300,_0x38e387={'kqroT':function(_0x40e2fe,_0x8ace00){return _0x40e2fe(_0x8ace00);}};if(!_0x38e387['kqroT'](isUndefined,_0x42f6ca[_0xa79713(0xef)]))return[_0x42f6ca[_0xa79713(0xef)]];else{if(!_0x38e387[_0xa79713(0x10c)](isUndefined,_0x42f6ca['rule']))return _0x42f6ca[_0xa79713(0x1ae)][_0xa79713(0x13c)]['map'](_0x4b19a4=>!isUndefined(_0x4b19a4[_0xa79713(0xef)])?_0x4b19a4['background']:_0x4b19a4[_0xa79713(0x154)]);};return[_0x42f6ca[_0xa79713(0x154)]];}[a7_0x4f8300(0x1b4)](_0x1ed033,_0x1f80d6){const _0x4f52aa=a7_0x4f8300;return Object[_0x4f52aa(0x122)](_0x1ed033[_0x4f52aa(0x12d)][_0x4f52aa(0xf3)])[_0x4f52aa(0x13b)](_0x12cf90=>_0x12cf90[_0x4f52aa(0x1a2)]===_0x1f80d6[_0x4f52aa(0x1a2)]);}async[a7_0x4f8300(0x130)](){const _0x212108=a7_0x4f8300;if(this[_0x212108(0x193)])return this[_0x212108(0x193)];return this[_0x212108(0x193)]=this[_0x212108(0x1a1)](),this[_0x212108(0x193)];}async['_performCLIInitialization'](){const _0x297d0b=a7_0x4f8300,_0x5cfbbe={'GZLUc':_0x297d0b(0x1a4),'cLqHi':function(_0x57150c,_0x3737ae){return _0x57150c(_0x3737ae);},'qaKjC':'../../v2/cliUtils','icbkE':function(_0x10195a,_0x32a17b){return _0x10195a(_0x32a17b);},'Ioxmy':_0x297d0b(0x186)};try{const _0x5e52aa=BrowserstackCLI[_0x297d0b(0x15c)]();if(_0x5e52aa[_0x297d0b(0x161)]())return logger[_0x297d0b(0xf2)](_0x297d0b(0x19c)+_0x5e52aa['binSessionId']),!![];const _0x5cfc08=process['env']['BROWSERSTACK_CLI_BIN_SESSION_ID'];if(!_0x5cfc08)return logger[_0x297d0b(0xf2)](_0x5cfbbe['GZLUc']),![];const _0x5644af=_0x5cfbbe[_0x297d0b(0x101)](require,_0x5cfbbe[_0x297d0b(0x178)]),{FRAMEWORKS:_0x55d626}=_0x5cfbbe['icbkE'](require,_0x5cfbbe[_0x297d0b(0x17d)]);return _0x5644af[_0x297d0b(0x14a)](_0x55d626['CUCUMBER'],_0x55d626['PLAYWRIGHT']),logger['debug'](_0x297d0b(0x175)+_0x5cfc08),await _0x5e52aa[_0x297d0b(0x15a)](),logger[_0x297d0b(0xf2)]('CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20'+_0x5e52aa[_0x297d0b(0x161)]()+',\x20binSessionId:\x20'+_0x5e52aa[_0x297d0b(0x15d)]),_0x5e52aa[_0x297d0b(0x161)]();}catch(_0x121724){return logger[_0x297d0b(0xf2)](_0x297d0b(0x13a)+util[_0x297d0b(0x110)](_0x121724)),![];}}async[a7_0x4f8300(0x132)](){const _0x533bc3=a7_0x4f8300;try{return await this[_0x533bc3(0x130)](),BrowserstackCLI[_0x533bc3(0x15c)]()[_0x533bc3(0x161)]();}catch(_0x3990b4){return logger[_0x533bc3(0xf2)](_0x533bc3(0x16c)+util[_0x533bc3(0x110)](_0x3990b4)),![];}}}module[a7_0x4f8300(0x19f)]=o11yClassErrorHandler(BrowserstackFormatter,[a7_0x4f8300(0x15b),a7_0x4f8300(0x141),'onTestStepStarted','onTestStepFinished',a7_0x4f8300(0xfb),a7_0x4f8300(0x1bc),a7_0x4f8300(0x10b),a7_0x4f8300(0x1b4),a7_0x4f8300(0x1a6)]);