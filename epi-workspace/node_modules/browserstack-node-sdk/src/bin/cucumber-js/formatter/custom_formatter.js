const a6_0x10a1fe=a6_0x412f;function a6_0x51d4(){const _0x45b80b=['pickleMap','AWqez','1506StKcLW','testCaseStartedId','McmEZ','winstonLogger','debug','background','name','FAILED','pickleId','onHook','result','pickle','AYRqR','IgCvv','source','PzNyV','OpOOA','97Mwkaex','push','exception','SBQtM','onTestCaseFinished','text','onTestCaseStarted','toLowerCase','toString','getGherkinDocument','onPickle','testStepResult','Exception\x20in\x20onTestStepStarted\x20event:\x20','env','yrVQZ','envelope','report','assign','../../playwright/reporter/test-details.js','supportCodeLibrary','TestRunStarted','feature','logTestRunFinished','gZtng','wrrIX','\x20\x20\x20\x20','failed','sendHook','CcrnE','PENDING','82705asYAjG','VBgsr','../test-observability.js','eventDataCollector','isBstackHook','25210LfMjWD','CdqfZ','sourceLocation','seconds','onStepDefinition','cwd','\x20-\x20','flat','exports','bgVcL','children','actionLocation','getTestCaseAttempt','FBxPG','jOOlu','CkjzY','rmZqW','hook','logTestCaseFinished','onTestRunFinished','../../../helpers/helper','message','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','__platform','stepDefinition','forEach','nkuhT','hooks','finishedAt','util','sendTestRunEventForCucumber','HdMhZ','extractStepContainers','gherkinDocumentMap','status','1615632hKWwkx','onSource','testCaseId','testStepStarted','testRunStarted','map','eventBroadcaster','AMBIGUOUS','2739unHuFA','onTestRunStarted','description','sipvB','pickleStepId','kXptl','incrementCounter','622734RMyGQK','6903sxprxI','finished_at','cucumber-js/test.setup.js','CONFIG','testCaseMap','244948DcLRJR','includes','rule','ufJyK','path','onTestStepFinished','steps','testStepId','testSteps','TrcYE','testCaseAttemptDataMap','snippetBuilder','testRunFinished','rLFhw','WIMAR','split','onTestStepStarted','testCase','YIGBq','onTestCase','GFLYO','UNDEFINED','failureType','format','RgjKz','parse','../../../helpers/logger','Executing\x20tests\x20for\x20','onGherkinDocument','7vVbfUG','gherkinDocument','getTestUUID','testCaseFinished','find','testCaseStarted','uri','log','testCases','Rckiv','getGherkinStepMap','testStepFinished','setup','ShTdV','keyword','CjiSb','TestRunFinished','ADBnq','wsUFW','toISOString','PASSED','2536XUiwfm','hpBxM','duration'];a6_0x51d4=function(){return _0x45b80b;};return a6_0x51d4();}(function(_0x40e1bf,_0x2dac61){const _0x376c0d=a6_0x412f,_0x3cfd4d=_0x40e1bf();while(!![]){try{const _0x1b3e05=parseInt(_0x376c0d(0x245))/0x1*(parseInt(_0x376c0d(0x234))/0x2)+parseInt(_0x376c0d(0x1f7))/0x3+parseInt(_0x376c0d(0x1fd))/0x4+parseInt(_0x376c0d(0x263))/0x5+parseInt(_0x376c0d(0x1e8))/0x6*(parseInt(_0x376c0d(0x21a))/0x7)+parseInt(_0x376c0d(0x22f))/0x8*(parseInt(_0x376c0d(0x1f8))/0x9)+parseInt(_0x376c0d(0x268))/0xa*(-parseInt(_0x376c0d(0x1f0))/0xb);if(_0x1b3e05===_0x2dac61)break;else _0x3cfd4d['push'](_0x3cfd4d['shift']());}catch(_0x5db7c7){_0x3cfd4d['push'](_0x3cfd4d['shift']());}}}(a6_0x51d4,0x3b587));function a6_0x412f(_0x3674d3,_0x55faf2){const _0x51d4dd=a6_0x51d4();return a6_0x412f=function(_0x412f7a,_0x40c1e2){_0x412f7a=_0x412f7a-0x1d9;let _0xcd14fd=_0x51d4dd[_0x412f7a];return _0xcd14fd;},a6_0x412f(_0x3674d3,_0x55faf2);}const {requireModule,getPlatformName,nestedKeyValue,isUndefined}=require(a6_0x10a1fe(0x1d9)),util=require(a6_0x10a1fe(0x1e2)),{Formatter,formatterHelpers,Status}=requireModule('@cucumber/cucumber'),TestDetails=require(a6_0x10a1fe(0x257)),TestObservabilityReporter=require(a6_0x10a1fe(0x265)),{o11yClassErrorHandler}=require('../../../helpers/test-observability/error-handler'),{shouldProcessEventForTesthub}=require('../../../helpers/testhub/utils.js'),testObservabilityReporter=new TestObservabilityReporter(),logger=require(a6_0x10a1fe(0x217))[a6_0x10a1fe(0x237)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x2be8cf){const _0x50c7c2=a6_0x10a1fe,_0x453ba8={};_0x453ba8['Rckiv']=_0x50c7c2(0x254);const _0x5383ec=_0x453ba8;super(_0x2be8cf),this['report']={},_0x2be8cf[_0x50c7c2(0x1ee)]['on'](_0x5383ec[_0x50c7c2(0x223)],async _0x4fa17f=>{const _0x28db92=_0x50c7c2;switch(!![]){case!!_0x4fa17f[_0x28db92(0x1ec)]:this['onTestRunStarted'](_0x4fa17f[_0x28db92(0x1ec)]);break;case!!_0x4fa17f['testRunFinished']:this[_0x28db92(0x27b)](_0x4fa17f[_0x28db92(0x209)]);break;case!!_0x4fa17f[_0x28db92(0x21f)]:this[_0x28db92(0x24b)](_0x4fa17f[_0x28db92(0x21f)],_0x2be8cf,_0x4fa17f);break;case!!_0x4fa17f[_0x28db92(0x21d)]:this[_0x28db92(0x249)](_0x4fa17f[_0x28db92(0x21d)],_0x2be8cf,_0x4fa17f);break;case!!_0x4fa17f[_0x28db92(0x1eb)]:this[_0x28db92(0x20d)](_0x4fa17f[_0x28db92(0x1eb)],_0x2be8cf);break;case!!_0x4fa17f['testStepFinished']:this[_0x28db92(0x202)](_0x4fa17f[_0x28db92(0x225)],_0x2be8cf);break;case!!_0x4fa17f[_0x28db92(0x279)]:this[_0x28db92(0x23d)](_0x4fa17f[_0x28db92(0x279)]);break;case!!_0x4fa17f[_0x28db92(0x20e)]:this[_0x28db92(0x210)](_0x4fa17f[_0x28db92(0x20e)]);break;case!!_0x4fa17f['pickle']:this[_0x28db92(0x24f)](_0x4fa17f[_0x28db92(0x23f)]);break;case!!_0x4fa17f['gherkinDocument']:this[_0x28db92(0x219)](_0x4fa17f[_0x28db92(0x21b)]);break;}});}[a6_0x10a1fe(0x23d)](_0x2ace98){const _0xaccabf=a6_0x10a1fe;this[_0xaccabf(0x255)]['hooks']=Object['assign']([],this['report']['hooks']||[]),this[_0xaccabf(0x255)][_0xaccabf(0x1e0)][_0xaccabf(0x246)](_0x2ace98);}[a6_0x10a1fe(0x24f)](_0x5e9263){const _0x4206b1=a6_0x10a1fe;this[_0x4206b1(0x255)][_0x4206b1(0x23f)]=Object[_0x4206b1(0x256)]([],this['report'][_0x4206b1(0x23f)]||[],[_0x5e9263]),this['report'][_0x4206b1(0x23f)][_0x4206b1(0x246)](_0x5e9263);}[a6_0x10a1fe(0x219)](_0x17885f){const _0x5e044c=a6_0x10a1fe;this[_0x5e044c(0x255)][_0x5e044c(0x21b)]=Object[_0x5e044c(0x256)]([],this[_0x5e044c(0x255)]['gherkinDocument']||[],[_0x17885f]),this[_0x5e044c(0x255)][_0x5e044c(0x21b)][_0x5e044c(0x246)](_0x17885f);}[a6_0x10a1fe(0x1e9)](_0x175478){const _0x4bbc4d=a6_0x10a1fe;this['report'][_0x4bbc4d(0x242)]=_0x175478;}[a6_0x10a1fe(0x26c)](_0x3e3052){const _0xc4d4ed=a6_0x10a1fe;this['report'][_0xc4d4ed(0x1dd)]=Object[_0xc4d4ed(0x256)]([],this[_0xc4d4ed(0x255)][_0xc4d4ed(0x1dd)]||[],[_0x3e3052]),this[_0xc4d4ed(0x255)][_0xc4d4ed(0x1dd)][_0xc4d4ed(0x246)](_0x3e3052);}['onTestCase'](_0x837491){const _0x3692b7=a6_0x10a1fe;this['report'][_0x3692b7(0x222)]=Object[_0x3692b7(0x256)]([],this[_0x3692b7(0x255)][_0x3692b7(0x222)]||[],[_0x837491]),this[_0x3692b7(0x255)]['testCases'][_0x3692b7(0x246)](_0x837491);}['logTestCaseFinished'](_0x56cc83){const _0x179e05=a6_0x10a1fe,_0x24d275={'CcrnE':function(_0x3b45bc,_0x3b19b2){return _0x3b45bc!==_0x3b19b2;},'dGGOF':'bstack','AWqez':function(_0x331ebe,_0x4943e3){return _0x331ebe+_0x4943e3;},'FBxPG':function(_0x4cd0bd,_0x584bdc){return _0x4cd0bd+_0x584bdc;},'RgjKz':function(_0x3f650d,_0x176cdd){return _0x3f650d+_0x176cdd;},'YIGBq':function(_0x4890cc,_0x4864ee){return _0x4890cc+_0x4864ee;},'CdqfZ':function(_0x324ffd,_0x109e68){return _0x324ffd+_0x109e68;},'HmATy':_0x179e05(0x25e),'ufJyK':_0x179e05(0x26e),'EbTfO':function(_0x1f3719,_0x5da5df){return _0x1f3719===_0x5da5df;},'hpBxM':_0x179e05(0x23b),'CkjzY':function(_0x529fa7,_0x489a9e,_0x29e062){return _0x529fa7(_0x489a9e,_0x29e062);},'ShTdV':'result','FjbQO':_0x179e05(0x1da),'ADBnq':function(_0x4630d6,_0x18fe31){return _0x4630d6+_0x18fe31;},'JfGEp':function(_0x350f92,_0x8a671a){return _0x350f92+_0x8a671a;},'gZtng':function(_0x379fc3,_0xa80047){return _0x379fc3+_0xa80047;},'kXptl':function(_0x1a8695,_0x15671c){return _0x1a8695+_0x15671c;},'rbvBc':function(_0x51f20a,_0x1d59a8){return _0x51f20a+_0x1d59a8;}};_0x24d275['CcrnE'](global['__platform'],undefined)&&this[_0x179e05(0x221)](_0x24d275[_0x179e05(0x22b)](_0x24d275[_0x179e05(0x25c)]('\x0a',global['__platform']),'\x0a'));const _0x4e51f2=this[_0x179e05(0x266)]['getTestCaseAttempt'](_0x56cc83['testCaseStartedId']);this[_0x179e05(0x221)](_0x24d275['YIGBq'](_0x24d275[_0x179e05(0x1f5)](_0x24d275['rbvBc'](_0x24d275['kXptl']('\x20\x20',_0x4e51f2[_0x179e05(0x21b)][_0x179e05(0x25a)][_0x179e05(0x23a)]),_0x24d275[_0x179e05(0x200)]),_0x4e51f2[_0x179e05(0x23f)][_0x179e05(0x23a)]),'\x0a'));const _0x7b0a78={};_0x7b0a78[_0x179e05(0x26d)]=this[_0x179e05(0x26d)],_0x7b0a78[_0x179e05(0x208)]=this[_0x179e05(0x208)],_0x7b0a78[_0x179e05(0x258)]=this[_0x179e05(0x258)],_0x7b0a78['testCaseAttempt']=_0x4e51f2;const _0x40fe3f=formatterHelpers['parseTestCaseAttempt'](_0x7b0a78);let _0x1bd1d3=![];_0x40fe3f['testSteps'][_0x179e05(0x1de)](_0x27ff8e=>{const _0xebe33c=_0x179e05;if(_0x24d275[_0xebe33c(0x261)](_0x27ff8e[_0xebe33c(0x23a)],_0x24d275['dGGOF'])&&!this[_0xebe33c(0x267)](_0x27ff8e)){totalTests+=0x1,this[_0xebe33c(0x221)](_0x24d275[_0xebe33c(0x233)](_0x24d275[_0xebe33c(0x275)](_0x24d275[_0xebe33c(0x215)](_0x24d275[_0xebe33c(0x20f)](_0x24d275[_0xebe33c(0x269)](_0x24d275['HmATy'],_0x27ff8e[_0xebe33c(0x228)]),_0x27ff8e[_0xebe33c(0x24a)]||''),_0x24d275[_0xebe33c(0x200)]),Status[_0x27ff8e[_0xebe33c(0x23e)]['status']]),'\x0a')),this['incrementCounter'](Status[_0x27ff8e[_0xebe33c(0x23e)][_0xebe33c(0x1e7)]]);if(_0x24d275['EbTfO'](Status[_0x27ff8e[_0xebe33c(0x23e)][_0xebe33c(0x1e7)]],_0x24d275[_0xebe33c(0x230)])){_0x1bd1d3=!![];const _0x2acdc8=_0x24d275[_0xebe33c(0x277)](nestedKeyValue,_0x27ff8e,[_0x24d275[_0xebe33c(0x227)],_0x24d275['FjbQO']]);_0x2acdc8&&(testsErrorMessage[_0x24d275[_0xebe33c(0x22b)](_0x24d275[_0xebe33c(0x269)](_0x4e51f2['gherkinDocument']['feature'][_0xebe33c(0x23a)],_0x24d275[_0xebe33c(0x200)]),_0x4e51f2[_0xebe33c(0x23f)][_0xebe33c(0x23a)])]=_0x2acdc8,this[_0xebe33c(0x221)](_0x24d275['JfGEp'](_0x2acdc8,'\x0a')));}}}),_0x1bd1d3&&(testSuitesFailed+=0x1),this[_0x179e05(0x221)]('\x0a');}[a6_0x10a1fe(0x25b)](_0x2ae64d){}[a6_0x10a1fe(0x267)](_0x4db663){const _0x41f193=a6_0x10a1fe,_0x392aa6={};_0x392aa6[_0x41f193(0x1f3)]=function(_0x22e331,_0x1bedd5){return _0x22e331!==_0x1bedd5;},_0x392aa6[_0x41f193(0x240)]=_0x41f193(0x1fa);const _0x4c6be1=_0x392aa6;if(_0x4c6be1[_0x41f193(0x1f3)](_0x4db663[_0x41f193(0x26a)],undefined))return![];if(_0x4db663[_0x41f193(0x273)]&&_0x4db663[_0x41f193(0x273)][_0x41f193(0x220)][_0x41f193(0x1fe)](_0x4c6be1[_0x41f193(0x240)]))return!![];return![];}[a6_0x10a1fe(0x1f6)](_0xfa61b7){const _0x4e56a2=a6_0x10a1fe,_0x220f13={};_0x220f13['ndzBk']='FAILED',_0x220f13['lVqve']=_0x4e56a2(0x22e),_0x220f13[_0x4e56a2(0x22c)]='SKIPPED',_0x220f13[_0x4e56a2(0x1e4)]=_0x4e56a2(0x262),_0x220f13[_0x4e56a2(0x243)]=_0x4e56a2(0x212),_0x220f13[_0x4e56a2(0x248)]='UNKNOWN',_0x220f13['PONwp']=_0x4e56a2(0x1ef);const _0x8d796e=_0x220f13;switch(_0xfa61b7){case _0x8d796e['ndzBk']:testsFailed+=0x1;break;case _0x8d796e['lVqve']:testsPassed+=0x1;break;case _0x8d796e[_0x4e56a2(0x22c)]:testsSkipped+=0x1;break;case _0x8d796e[_0x4e56a2(0x1e4)]:testsPending+=0x1;break;case _0x8d796e[_0x4e56a2(0x243)]:testsUndefined+=0x1;break;case _0x8d796e[_0x4e56a2(0x248)]:testsUnknown+=0x1;break;case _0x8d796e['PONwp']:testsAmbiguous+=0x1;break;default:break;}}[a6_0x10a1fe(0x1f1)](_0x2f1b0a){const _0x2655b0=a6_0x10a1fe,_0x825d46={'iuEQm':function(_0xf2449a,_0x388866){return _0xf2449a!==_0x388866;},'nmykj':function(_0x4c8224,_0x350d5a){return _0x4c8224!==_0x350d5a;},'daGWo':function(_0x4b255e,_0x1c110a){return _0x4b255e(_0x1c110a);},'FVRPO':function(_0x372561,_0x2bbaf6){return _0x372561+_0x2bbaf6;},'jOOlu':function(_0x129228){return _0x129228();}};let _0x49de95;if(_0x825d46['iuEQm'](process[_0x2655b0(0x252)][_0x2655b0(0x1fb)],undefined)){const _0x2e8674=JSON[_0x2655b0(0x216)](process['env'][_0x2655b0(0x1fb)]);_0x49de95=_0x2e8674['capability'];}_0x825d46['nmykj'](_0x49de95,undefined)&&(global[_0x2655b0(0x1dc)]=_0x825d46['daGWo'](getPlatformName,_0x49de95),this['log'](_0x825d46['FVRPO'](_0x2655b0(0x218)+global[_0x2655b0(0x1dc)],'\x0a'))),_0x825d46[_0x2655b0(0x276)](shouldProcessEventForTesthub)&&(TestDetails[_0x2655b0(0x226)](),this[_0x2655b0(0x255)][_0x2655b0(0x1ec)]=_0x2f1b0a);}[a6_0x10a1fe(0x27b)](_0x4df3c6){const _0x48f3c6=a6_0x10a1fe;this['report']['testRunFinished']=_0x4df3c6,this[_0x48f3c6(0x25b)](_0x4df3c6);}async[a6_0x10a1fe(0x24b)](_0x15b901,_0x285008,_0x29a70c){const _0x3def72=a6_0x10a1fe,_0x4cb0b6={'GATgE':function(_0x365737,_0x46bf43){return _0x365737(_0x46bf43);},'WIMAR':_0x3def72(0x259),'rmZqW':function(_0x16c04e,_0x440ed0){return _0x16c04e&&_0x440ed0;}};testSuites+=0x1;if(_0x4cb0b6['GATgE'](shouldProcessEventForTesthub,_0x4cb0b6[_0x3def72(0x20b)]))try{this[_0x3def72(0x255)][_0x3def72(0x21f)]=this[_0x3def72(0x255)][_0x3def72(0x21f)]||{},this['report'][_0x3def72(0x21f)][_0x15b901['id']]=_0x15b901;const _0x6776e0=TestDetails[_0x3def72(0x21c)](_0x15b901['id']);_testCasesData[_0x15b901['id']]=Object[_0x3def72(0x256)]({},_0x29a70c);const _0x1f72fa=this['report'],_0x26c45d=_0x15b901[_0x3def72(0x1ea)],_0x257702=_0x1f72fa[_0x3def72(0x222)][_0x3def72(0x21e)](_0x5bcaef=>_0x5bcaef['id']===_0x26c45d)[_0x3def72(0x23c)],_0x3c150e=_0x1f72fa[_0x3def72(0x23f)]['find'](_0x2e550a=>_0x2e550a['id']===_0x257702),_0x22e126=_0x1f72fa[_0x3def72(0x21b)][_0x3def72(0x21e)](_0x1023e7=>_0x1023e7[_0x3def72(0x220)]===_0x3c150e[_0x3def72(0x220)]),_0x5cd877=_0x22e126[_0x3def72(0x25a)],_0x1eb107={'uuid':_0x6776e0,'startedAt':new Date()['toISOString']()};if(_0x3c150e){const _0x45535b={};_0x45535b[_0x3def72(0x23a)]=_0x3c150e[_0x3def72(0x23a)],_0x1eb107['scenario']=_0x45535b;}if(_0x4cb0b6[_0x3def72(0x278)](_0x22e126,_0x5cd877)){const _0x24afa0={};_0x24afa0[_0x3def72(0x201)]=_0x22e126['uri'],_0x24afa0[_0x3def72(0x23a)]=_0x5cd877[_0x3def72(0x23a)],_0x24afa0[_0x3def72(0x1f2)]=_0x5cd877[_0x3def72(0x1f2)],_0x1eb107[_0x3def72(0x25a)]=_0x24afa0;}_tests[_0x26c45d]=_0x1eb107,await testObservabilityReporter[_0x3def72(0x1e3)](_0x29a70c,_0x22e126,_0x3c150e,_0x4cb0b6[_0x3def72(0x20b)],_0x1eb107);}catch(_0x2f15e8){logger[_0x3def72(0x238)](_0x3def72(0x1db)+util['format'](_0x2f15e8)+'\x20');}}async['onTestCaseFinished'](_0x3445b5,_0x1cd6e5,_0x2af35f){const _0x2e957a=a6_0x10a1fe,_0x3f9d02={'nkuhT':function(_0x28ae01,_0x2ac6ce){return _0x28ae01(_0x2ac6ce);},'VBgsr':_0x2e957a(0x22a)};this[_0x2e957a(0x27a)](_0x3445b5);if(_0x3f9d02[_0x2e957a(0x1df)](shouldProcessEventForTesthub,_0x3f9d02[_0x2e957a(0x264)]))try{this[_0x2e957a(0x255)][_0x2e957a(0x21d)]=this[_0x2e957a(0x255)]['testCaseFinished']||{},this[_0x2e957a(0x255)][_0x2e957a(0x21d)][_0x3445b5[_0x2e957a(0x235)]]=_0x3445b5,_testCasesData[_0x2af35f['id']]=Object[_0x2e957a(0x256)]({},_0x2af35f);const _0x292b0c=_0x3445b5[_0x2e957a(0x235)],_0x24a208=_0x1cd6e5[_0x2e957a(0x266)]['testCaseAttemptDataMap'][_0x292b0c][_0x2e957a(0x1ea)],_0x2c6f08=_0x1cd6e5['eventDataCollector'][_0x2e957a(0x1fc)][_0x24a208],_0xfcb2e0=_0x2c6f08['pickleId'],_0x4ed591=_0x1cd6e5[_0x2e957a(0x266)][_0x2e957a(0x232)][_0xfcb2e0],_0x20a8e1=this[_0x2e957a(0x24e)](_0x1cd6e5,_0x4ed591),_0x4f7be7=_tests[_0x24a208];_0x4f7be7&&(delete _tests[_0x24a208],_0x4f7be7[_0x2e957a(0x1e1)]=new Date()[_0x2e957a(0x22d)]()),await testObservabilityReporter['sendTestRunEventForCucumber'](_0x2af35f,_0x20a8e1,_0x4ed591,_0x3f9d02['VBgsr'],_0x4f7be7);}catch(_0x226c3c){logger[_0x2e957a(0x238)]('Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20'+util[_0x2e957a(0x214)](_0x226c3c));}}async[a6_0x10a1fe(0x20d)](_0x14576c,_0x5ba7d6){const _0x4c8e25=a6_0x10a1fe,_0x3e5582={'bgVcL':function(_0x178a10,_0x1bb114){return _0x178a10(_0x1bb114);},'wrrIX':'HookRunStarted','AaSLp':function(_0x1031da,_0x76ce84){return _0x1031da!==_0x76ce84;},'yrVQZ':_0x4c8e25(0x204)};if(_0x3e5582[_0x4c8e25(0x271)](shouldProcessEventForTesthub,_0x3e5582[_0x4c8e25(0x25d)]))try{this[_0x4c8e25(0x255)][_0x4c8e25(0x1eb)]=this[_0x4c8e25(0x255)][_0x4c8e25(0x1eb)]||{},this['report'][_0x4c8e25(0x1eb)][_0x14576c[_0x4c8e25(0x235)]]=_0x14576c;const _0x229bbe=_0x14576c[_0x4c8e25(0x235)],_0x112fe0=_0x5ba7d6[_0x4c8e25(0x266)]['testCaseAttemptDataMap'][_0x229bbe]['testCaseId'],_0xbbe7ec=this[_0x4c8e25(0x255)][_0x4c8e25(0x222)]['find'](_0x40c531=>_0x40c531['id']===_0x112fe0)['pickleId'],_0x159d72=this['report']['pickle'][_0x4c8e25(0x21e)](_0x2d8e43=>_0x2d8e43['id']===_0xbbe7ec),_0x1215fb=this[_0x4c8e25(0x255)][_0x4c8e25(0x222)][_0x4c8e25(0x21e)](_0x13731b=>_0x13731b['id']===_0x112fe0)['testSteps'],_0x23e564=this[_0x4c8e25(0x255)][_0x4c8e25(0x1eb)][_0x229bbe]['testStepId'],_0x2cca4f=_0x1215fb[_0x4c8e25(0x21e)](_0x1a2dce=>_0x1a2dce['id']===_0x23e564)[_0x4c8e25(0x1f4)],_0x14365a=_0x159d72[_0x4c8e25(0x203)]['find'](_0x3f606c=>_0x3f606c['id']===_0x2cca4f);if(_0x2cca4f&&_tests[_0x112fe0]&&_0x3e5582['AaSLp'](_tests[_0x112fe0][_0x3e5582[_0x4c8e25(0x253)]],_0x23e564)){_tests[_0x112fe0][_0x3e5582[_0x4c8e25(0x253)]]=_0x23e564;const _0x531f3d={};_0x531f3d[_0x4c8e25(0x203)]=[];const _0x5e145e=_tests[_0x112fe0]||_0x531f3d;_0x5e145e&&!_0x5e145e[_0x4c8e25(0x203)]&&(_0x5e145e[_0x4c8e25(0x203)]=[]),_0x5e145e[_0x4c8e25(0x203)][_0x4c8e25(0x246)]({'id':_0x14365a['id'],'text':_0x14365a['text'],'started_at':new Date()[_0x4c8e25(0x22d)]()}),_tests[_0x112fe0]=_0x5e145e;}await testObservabilityReporter[_0x4c8e25(0x260)](this[_0x4c8e25(0x255)],_0x229bbe,_0x3e5582[_0x4c8e25(0x25d)],_0x1215fb,_0x23e564,_tests[_0x112fe0]);}catch(_0x7569a7){logger[_0x4c8e25(0x238)](_0x4c8e25(0x251)+util[_0x4c8e25(0x214)](_0x7569a7));}}async[a6_0x10a1fe(0x202)](_0x46116f,_0x263a00){const _0x1f1d91=a6_0x10a1fe,_0x4d11d7={'rjWbw':function(_0x36d61c,_0x3d996b){return _0x36d61c===_0x3d996b;},'kICtq':'4|0|1|3|2','rLFhw':function(_0x27209d,_0x10918e){return _0x27209d(_0x10918e);},'GFLYO':'HookRunFinished','CjiSb':function(_0x4a0638,_0x35a744){return _0x4a0638===_0x35a744;},'ZrXaG':_0x1f1d91(0x25f),'ZFgRW':function(_0x158860,_0x3a495f){return _0x158860===_0x3a495f;},'TrcYE':'UnhandledError','McmEZ':_0x1f1d91(0x204)};this[_0x1f1d91(0x255)]['testStepFinished']=this[_0x1f1d91(0x255)][_0x1f1d91(0x225)]||{},this[_0x1f1d91(0x255)][_0x1f1d91(0x225)][_0x46116f[_0x1f1d91(0x235)]]=_0x46116f;if(_0x4d11d7[_0x1f1d91(0x20a)](shouldProcessEventForTesthub,_0x4d11d7[_0x1f1d91(0x211)]))try{const _0x11d627=_0x46116f[_0x1f1d91(0x235)],_0x3b2803=_0x263a00['eventDataCollector'][_0x1f1d91(0x207)][_0x11d627][_0x1f1d91(0x1ea)],_0x3c4ce2=_0x263a00['eventDataCollector'][_0x1f1d91(0x1fc)][_0x3b2803],_0x366c05=_0x3c4ce2[_0x1f1d91(0x23c)],_0xf5c26b=_0x263a00[_0x1f1d91(0x266)][_0x1f1d91(0x232)][_0x366c05],_0x433744=_0x46116f[_0x1f1d91(0x204)],_0x207fc9=_0x3c4ce2[_0x1f1d91(0x205)],_0x55e9cb=this[_0x1f1d91(0x266)][_0x1f1d91(0x274)](_0x11d627),_0x508992=_0x207fc9[_0x1f1d91(0x21e)](_0x57816b=>_0x57816b['id']===_0x433744)[_0x1f1d91(0x1f4)];let _0x2a94e8,_0x3198e7;_0x46116f[_0x1f1d91(0x250)]&&_0x4d11d7[_0x1f1d91(0x229)](_0x46116f['testStepResult'][_0x1f1d91(0x1e7)][_0x1f1d91(0x24d)]()[_0x1f1d91(0x24c)](),_0x4d11d7['ZrXaG'])&&(_0x2a94e8=_0x4d11d7['ZFgRW'](_0x46116f[_0x1f1d91(0x250)]['exception'],undefined)?_0x46116f[_0x1f1d91(0x250)]['message']:_0x46116f[_0x1f1d91(0x250)]['exception'][_0x1f1d91(0x1da)],_0x3198e7=_0x4d11d7['ZFgRW'](_0x46116f[_0x1f1d91(0x250)][_0x1f1d91(0x247)],undefined)?_0x4d11d7[_0x1f1d91(0x206)]:_0x46116f[_0x1f1d91(0x250)][_0x1f1d91(0x1da)]);await testObservabilityReporter[_0x1f1d91(0x260)](this['report'],_0x11d627,_0x4d11d7['GFLYO'],_0x207fc9,_0x433744,_tests[_0x3b2803]);if(_0x508992&&_tests[_0x3b2803][_0x4d11d7[_0x1f1d91(0x236)]]){const _0x27226e=_0xf5c26b[_0x1f1d91(0x203)][_0x1f1d91(0x21e)](_0x177bbe=>_0x177bbe['id']===_0x508992),_0x568e4f={};_0x568e4f[_0x1f1d91(0x203)]=[];const _0x54ffc4=_tests[_0x3b2803]||_0x568e4f;!_0x54ffc4[_0x1f1d91(0x203)]?_0x54ffc4['steps']=[{'id':_0x27226e['id'],'text':_0x27226e['text'],'finished_at':new Date()[_0x1f1d91(0x22d)](),'result':_0x46116f[_0x1f1d91(0x250)][_0x1f1d91(0x1e7)],'duration':_0x46116f[_0x1f1d91(0x250)][_0x1f1d91(0x231)][_0x1f1d91(0x26b)],'failure':_0x2a94e8,'failureType':_0x3198e7}]:_0x54ffc4['steps'][_0x1f1d91(0x1de)](_0x247bcc=>{const _0x1c314f=_0x1f1d91;if(_0x4d11d7['rjWbw'](_0x247bcc['id'],_0x27226e['id'])){const _0x40ff13=_0x4d11d7['kICtq'][_0x1c314f(0x20c)]('|');let _0x40ca86=0x0;while(!![]){switch(_0x40ff13[_0x40ca86++]){case'0':_0x247bcc[_0x1c314f(0x23e)]=_0x46116f[_0x1c314f(0x250)][_0x1c314f(0x1e7)];continue;case'1':_0x247bcc[_0x1c314f(0x231)]=_0x46116f['testStepResult'][_0x1c314f(0x231)][_0x1c314f(0x26b)];continue;case'2':_0x247bcc[_0x1c314f(0x213)]=_0x3198e7;continue;case'3':_0x247bcc['failure']=_0x2a94e8;continue;case'4':_0x247bcc[_0x1c314f(0x1f9)]=new Date()['toISOString']();continue;}break;}}}),_tests[_0x3b2803]=_0x54ffc4,delete _tests[_0x3b2803][_0x4d11d7['McmEZ']];}}catch(_0x497ba5){logger[_0x1f1d91(0x238)]('Exception\x20in\x20onTestStepFinished\x20event:\x20'+util[_0x1f1d91(0x214)](_0x497ba5));}}['getGherkinStepMap'](_0x1b1d57){const _0x2958fe=a6_0x10a1fe,_0x50a56c={};return _0x1b1d57[_0x2958fe(0x25a)][_0x2958fe(0x272)][_0x2958fe(0x1ed)](this['extractStepContainers'])[_0x2958fe(0x26f)]()[_0x2958fe(0x1de)](_0x52c129=>_0x52c129[_0x2958fe(0x203)]['forEach'](_0x2c927d=>_0x50a56c[_0x2c927d['id']]=_0x2c927d)),_0x50a56c;}[a6_0x10a1fe(0x1e5)](_0x2fdecf){const _0xcdcd4d=a6_0x10a1fe,_0x9131ec={'IgCvv':function(_0x203d8d,_0x5ef3ee){return _0x203d8d(_0x5ef3ee);},'OpOOA':function(_0x3acda0,_0xdb7885){return _0x3acda0(_0xdb7885);}};if(!_0x9131ec[_0xcdcd4d(0x241)](isUndefined,_0x2fdecf[_0xcdcd4d(0x239)]))return[_0x2fdecf[_0xcdcd4d(0x239)]];else{if(!_0x9131ec[_0xcdcd4d(0x244)](isUndefined,_0x2fdecf[_0xcdcd4d(0x1ff)]))return _0x2fdecf[_0xcdcd4d(0x1ff)][_0xcdcd4d(0x272)][_0xcdcd4d(0x1ed)](_0x19f100=>!isUndefined(_0x19f100['background'])?_0x19f100[_0xcdcd4d(0x239)]:_0x19f100['scenario']);};return[_0x2fdecf['scenario']];}['getGherkinDocument'](_0x529501,_0x31c481){const _0x192b88=a6_0x10a1fe;return Object['values'](_0x529501[_0x192b88(0x266)][_0x192b88(0x1e6)])[_0x192b88(0x21e)](_0x2ab43e=>_0x2ab43e[_0x192b88(0x220)]===_0x31c481[_0x192b88(0x220)]);}}module[a6_0x10a1fe(0x270)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x10a1fe(0x24b),'onTestCaseFinished','onTestStepStarted','onTestStepFinished',a6_0x10a1fe(0x1f1),a6_0x10a1fe(0x27b),a6_0x10a1fe(0x1e5),a6_0x10a1fe(0x24e),a6_0x10a1fe(0x224)]);