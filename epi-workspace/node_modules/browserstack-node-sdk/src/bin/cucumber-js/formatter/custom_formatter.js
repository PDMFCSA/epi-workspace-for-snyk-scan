const a6_0x10d507=a6_0x2494;function a6_0x2109(){const _0x38ad0c=['util','cwd','logTestRunFinished','MObXb','onSource','testCaseFinished','forEach','assign','JqxdX','CUCUMBER','testRunFinished','fcUUp','../../../bin/v2/TestInfo.js','WoRGX','KkIgC','EEnbv','UNDEFINED','cucumber','mWqas','setFrameworkDetail','10WFCMSI','parse','adbTs','onGherkinDocument','VcozT','supportCodeLibrary','16bqdpGm','onStepDefinition','zPppp','exports','PRE','bstack','../../playwright/reporter/test-details.js','1020447bJvLXZ','logTestCaseFinished','PLAYWRIGHT','cliInitPromise','onTestStepStarted','AMBIGUOUS','onTestCase','uri','QJMKP','find','UgbXf','../../v2/cliUtils','ensureCLIInitialized','vLvMx','testCase','map','onPickle','env','../../v2/state/hookState.js','FAILED','seconds','xXwTj','report','aFDdX','parseTestCaseAttempt','199590FnFdMi','gherkinDocumentMap','envelope','GqLpE','createTestFrameworkData','format','LOG_REPORT','120426OdMuId','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','keyword','Wenlz','NXyus','POST','steps','pickle','onTestRunFinished','duration','fEvUX','2479623uyPFxj','name','XxOgU','description','hjhHt','getTestFramework','nAaeC','../../../helpers/testhub/utils.js','fHxCS','toString','BROWSERSTACK_CLI_BIN_SESSION_ID','../../../helpers/test-observability/error-handler','eventDataCollector','testCases','isBstackHook','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','hook','../../v2/state/testFrameworkState.js','sendTestRunEventForCucumber','../../v2/browserstackCLI.js','testSteps','__platform','lnGAA','exception','dmjCC','AuESu','7112PGzIPj','log','HookRunFinished','hook_type','finished_at','snippetBuilder','KmAzy','type','IzJCi','uVqJk','UmSwN','testCaseAttempt','message','CONFIG','testStepResult','toISOString','result','rule','PASSED','Exception\x20in\x20onTestStepFinished\x20event:\x20','trackEvent','upxGl','failure','source','testStepStarted','pickleStepId','xyfpp','sourceLocation','pickleMap',',\x20binSessionId:\x20','testCaseAttemptDataMap','includes','hooks','rgKFX','testStepId','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','TestRunStarted','createHookData','isRunning','KbeBd','test','binSessionId','ENTQB','status','INIT_TEST','CLI\x20already\x20running\x20-\x20binSessionId:\x20','pickleId','extractStepContainers','AwKTU','feature','split','isCliEnabled','_performCLIInitialization','ZLKVT','testCaseStartedId','TestRunFinished','../../../helpers/logger','cJXaV','HookRunStarted','203xRegzr','YxnkU','testUUID','incrementCounter','background','children','testCaseId','465ZzpyVg','getGherkinStepMap','setup','PENDING','testCaseMap','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','4164413JlulWR','failed','finishedAt','onTestStepFinished','cdqZo','text','debug','isCLIReady','jmdKD','onTestCaseFinished','gherkinDocument','bootstrap','testCaseStarted','tkaBX','sendHook','Exception\x20in\x20onTestStepStarted\x20event:\x20','lbMnC','gpUgT','onTestCaseStarted','onTestRunStarted','stepDefinition','getGherkinDocument','testRunStarted','aCSPf','437816TBbsRr','getInstance','FtIcT','mMiuJ','winstonLogger','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','path','giNJJ','../../v2/utils/cucumber-utils.js','hMTpl','\x20\x20\x20\x20','testStepFinished','\x20-\x20','actionLocation','scenario','push','cucumber-js/test.setup.js','capability','UnhandledError','DmlRn'];a6_0x2109=function(){return _0x38ad0c;};return a6_0x2109();}(function(_0x404707,_0x5a9bba){const _0x3e2f33=a6_0x2494,_0x185f38=_0x404707();while(!![]){try{const _0x5e47ff=parseInt(_0x3e2f33(0x1f7))/0x1+parseInt(_0x3e2f33(0x16b))/0x2+parseInt(_0x3e2f33(0x17d))/0x3+-parseInt(_0x3e2f33(0x197))/0x4*(parseInt(_0x3e2f33(0x1d9))/0x5)+-parseInt(_0x3e2f33(0x172))/0x6*(parseInt(_0x3e2f33(0x1d2))/0x7)+-parseInt(_0x3e2f33(0x14b))/0x8*(-parseInt(_0x3e2f33(0x152))/0x9)+parseInt(_0x3e2f33(0x145))/0xa*(-parseInt(_0x3e2f33(0x1df))/0xb);if(_0x5e47ff===_0x5a9bba)break;else _0x185f38['push'](_0x185f38['shift']());}catch(_0x1d7cad){_0x185f38['push'](_0x185f38['shift']());}}}(a6_0x2109,0x7181a));function a6_0x2494(_0x4be2cd,_0x72bba0){const _0x21095a=a6_0x2109();return a6_0x2494=function(_0x2494d9,_0x48456e){_0x2494d9=_0x2494d9-0x134;let _0x4c3664=_0x21095a[_0x2494d9];return _0x4c3664;},a6_0x2494(_0x4be2cd,_0x72bba0);}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require('../../../helpers/helper'),util=require(a6_0x10d507(0x20b)),{Formatter,formatterHelpers,Status}=requireModule('@cucumber/cucumber'),TestDetails=require(a6_0x10d507(0x151)),TestObservabilityReporter=require('../test-observability.js'),{o11yClassErrorHandler}=require(a6_0x10d507(0x188)),{shouldProcessEventForTesthub}=require(a6_0x10d507(0x184)),BrowserstackCLI=require(a6_0x10d507(0x190)),TestFrameworkState=require(a6_0x10d507(0x18e)),HookState=require(a6_0x10d507(0x164)),CucumberUtils=require(a6_0x10d507(0x1ff)),TestInfo=require(a6_0x10d507(0x13d)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x10d507(0x1cf))[a6_0x10d507(0x1fb)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x24c102){const _0x392e28=a6_0x10d507,_0x5a5d90={};_0x5a5d90[_0x392e28(0x167)]=_0x392e28(0x16d);const _0x3c6b1c=_0x5a5d90;super(_0x24c102),this[_0x392e28(0x168)]={},_0x24c102['eventBroadcaster']['on'](_0x3c6b1c['xXwTj'],async _0x5bc974=>{const _0x3e334a=_0x392e28;switch(!![]){case!!_0x5bc974[_0x3e334a(0x1f5)]:this[_0x3e334a(0x1f2)](_0x5bc974[_0x3e334a(0x1f5)]);break;case!!_0x5bc974[_0x3e334a(0x13b)]:this[_0x3e334a(0x17a)](_0x5bc974['testRunFinished']);break;case!!_0x5bc974['testCaseStarted']:this[_0x3e334a(0x1f1)](_0x5bc974[_0x3e334a(0x1eb)],_0x24c102,_0x5bc974);break;case!!_0x5bc974[_0x3e334a(0x136)]:this[_0x3e334a(0x1e8)](_0x5bc974[_0x3e334a(0x136)],_0x24c102,_0x5bc974);break;case!!_0x5bc974['testStepStarted']:this[_0x3e334a(0x156)](_0x5bc974[_0x3e334a(0x1af)],_0x24c102);break;case!!_0x5bc974['testStepFinished']:this[_0x3e334a(0x1e2)](_0x5bc974['testStepFinished'],_0x24c102);break;case!!_0x5bc974[_0x3e334a(0x18d)]:this['onHook'](_0x5bc974['hook']);break;case!!_0x5bc974[_0x3e334a(0x160)]:this[_0x3e334a(0x158)](_0x5bc974[_0x3e334a(0x160)]);break;case!!_0x5bc974[_0x3e334a(0x179)]:this[_0x3e334a(0x162)](_0x5bc974[_0x3e334a(0x179)]);break;case!!_0x5bc974[_0x3e334a(0x1e9)]:this['onGherkinDocument'](_0x5bc974['gherkinDocument']);break;}});}['onHook'](_0x27b9d0){const _0x27d123=a6_0x10d507;this[_0x27d123(0x168)][_0x27d123(0x1b7)]=Object['assign']([],this[_0x27d123(0x168)][_0x27d123(0x1b7)]||[]),this[_0x27d123(0x168)][_0x27d123(0x1b7)][_0x27d123(0x206)](_0x27b9d0);}[a6_0x10d507(0x162)](_0x5e2838){const _0x254ee1=a6_0x10d507;this['report'][_0x254ee1(0x179)]=Object['assign']([],this['report'][_0x254ee1(0x179)]||[],[_0x5e2838]),this[_0x254ee1(0x168)][_0x254ee1(0x179)][_0x254ee1(0x206)](_0x5e2838);}[a6_0x10d507(0x148)](_0x2b62af){const _0xecc83c=a6_0x10d507;this[_0xecc83c(0x168)][_0xecc83c(0x1e9)]=Object[_0xecc83c(0x138)]([],this[_0xecc83c(0x168)][_0xecc83c(0x1e9)]||[],[_0x2b62af]),this[_0xecc83c(0x168)][_0xecc83c(0x1e9)][_0xecc83c(0x206)](_0x2b62af);}[a6_0x10d507(0x135)](_0x32aeee){const _0x488323=a6_0x10d507;this['report'][_0x488323(0x1ae)]=_0x32aeee;}[a6_0x10d507(0x14c)](_0x225b49){const _0x1d4c37=a6_0x10d507;this[_0x1d4c37(0x168)][_0x1d4c37(0x1f3)]=Object['assign']([],this[_0x1d4c37(0x168)][_0x1d4c37(0x1f3)]||[],[_0x225b49]),this[_0x1d4c37(0x168)][_0x1d4c37(0x1f3)][_0x1d4c37(0x206)](_0x225b49);}[a6_0x10d507(0x158)](_0x14ac2e){const _0x105968=a6_0x10d507;this[_0x105968(0x168)][_0x105968(0x18a)]=Object[_0x105968(0x138)]([],this['report'][_0x105968(0x18a)]||[],[_0x14ac2e]),this['report'][_0x105968(0x18a)]['push'](_0x14ac2e);}['logTestCaseFinished'](_0x8955ce){const _0x2d0bf9=a6_0x10d507,_0x1781e1={'ENTQB':function(_0x81c6ce,_0x549319){return _0x81c6ce!==_0x549319;},'upxGl':_0x2d0bf9(0x150),'KmAzy':function(_0x2d048d,_0x55b208){return _0x2d048d+_0x55b208;},'lnGAA':function(_0x11547a,_0x1e0673){return _0x11547a+_0x1e0673;},'jmdKD':function(_0x5e7262,_0x1dd439){return _0x5e7262+_0x1dd439;},'qwtDF':_0x2d0bf9(0x201),'FtIcT':_0x2d0bf9(0x203),'hMTpl':function(_0x45b210,_0x41d4fb){return _0x45b210===_0x41d4fb;},'AuESu':_0x2d0bf9(0x165),'xyfpp':function(_0x12dfdf,_0x27f47c,_0x28ac6e){return _0x12dfdf(_0x27f47c,_0x28ac6e);},'QJMKP':_0x2d0bf9(0x1a7),'UmSwN':_0x2d0bf9(0x1a3),'MObXb':function(_0x50137d,_0x2cb237){return _0x50137d+_0x2cb237;},'fcUUp':function(_0x4cd01f,_0x49a382){return _0x4cd01f+_0x49a382;},'WoRGX':function(_0x481039,_0x2f93c4){return _0x481039+_0x2f93c4;},'EEnbv':function(_0x47a7af,_0x6ea283){return _0x47a7af+_0x6ea283;},'ZLKVT':function(_0x4d409d,_0xef6444){return _0x4d409d+_0xef6444;}};_0x1781e1[_0x2d0bf9(0x1c1)](global['__platform'],undefined)&&this['log'](_0x1781e1[_0x2d0bf9(0x13c)](_0x1781e1[_0x2d0bf9(0x19d)]('\x0a',global[_0x2d0bf9(0x192)]),'\x0a'));const _0x454e59=this[_0x2d0bf9(0x189)]['getTestCaseAttempt'](_0x8955ce[_0x2d0bf9(0x1cd)]);this[_0x2d0bf9(0x198)](_0x1781e1[_0x2d0bf9(0x13e)](_0x1781e1[_0x2d0bf9(0x140)](_0x1781e1[_0x2d0bf9(0x134)](_0x1781e1[_0x2d0bf9(0x1cc)]('\x20\x20',_0x454e59[_0x2d0bf9(0x1e9)][_0x2d0bf9(0x1c8)]['name']),_0x1781e1[_0x2d0bf9(0x1f9)]),_0x454e59['pickle'][_0x2d0bf9(0x17e)]),'\x0a'));const _0x4ead20={};_0x4ead20[_0x2d0bf9(0x20c)]=this[_0x2d0bf9(0x20c)],_0x4ead20['snippetBuilder']=this[_0x2d0bf9(0x19c)],_0x4ead20[_0x2d0bf9(0x14a)]=this['supportCodeLibrary'],_0x4ead20[_0x2d0bf9(0x1a2)]=_0x454e59;const _0x41a718=formatterHelpers[_0x2d0bf9(0x16a)](_0x4ead20);let _0x4d08f3=![];_0x41a718[_0x2d0bf9(0x191)]['forEach'](_0x3b6c72=>{const _0x326277=_0x2d0bf9;if(_0x1781e1[_0x326277(0x1c1)](_0x3b6c72[_0x326277(0x17e)],_0x1781e1[_0x326277(0x1ac)])&&!this[_0x326277(0x18b)](_0x3b6c72)){totalTests+=0x1,this[_0x326277(0x198)](_0x1781e1[_0x326277(0x19d)](_0x1781e1[_0x326277(0x193)](_0x1781e1[_0x326277(0x193)](_0x1781e1[_0x326277(0x1e7)](_0x1781e1[_0x326277(0x1e7)](_0x1781e1['qwtDF'],_0x3b6c72[_0x326277(0x174)]),_0x3b6c72[_0x326277(0x1e4)]||''),_0x1781e1[_0x326277(0x1f9)]),Status[_0x3b6c72[_0x326277(0x1a7)]['status']]),'\x0a')),this[_0x326277(0x1d5)](Status[_0x3b6c72[_0x326277(0x1a7)]['status']]);if(_0x1781e1[_0x326277(0x200)](Status[_0x3b6c72[_0x326277(0x1a7)]['status']],_0x1781e1[_0x326277(0x196)])){_0x4d08f3=!![];const _0x1bff86=_0x1781e1[_0x326277(0x1b1)](nestedKeyValue,_0x3b6c72,[_0x1781e1[_0x326277(0x15a)],_0x1781e1[_0x326277(0x1a1)]]);_0x1bff86&&(testsErrorMessage[_0x1781e1[_0x326277(0x1e7)](_0x1781e1[_0x326277(0x193)](_0x454e59['gherkinDocument'][_0x326277(0x1c8)][_0x326277(0x17e)],_0x1781e1[_0x326277(0x1f9)]),_0x454e59['pickle'][_0x326277(0x17e)])]=_0x1bff86,this[_0x326277(0x198)](_0x1781e1[_0x326277(0x134)](_0x1bff86,'\x0a')));}}}),_0x4d08f3&&(testSuitesFailed+=0x1),this[_0x2d0bf9(0x198)]('\x0a');}[a6_0x10d507(0x20d)](_0x4ee776){}[a6_0x10d507(0x18b)](_0x28c441){const _0x3178d2=a6_0x10d507,_0x640104={};_0x640104[_0x3178d2(0x15c)]=function(_0x54defe,_0x4d1657){return _0x54defe!==_0x4d1657;},_0x640104[_0x3178d2(0x13f)]=_0x3178d2(0x207);const _0x386251=_0x640104;if(_0x386251[_0x3178d2(0x15c)](_0x28c441[_0x3178d2(0x1b2)],undefined))return![];if(_0x28c441[_0x3178d2(0x204)]&&_0x28c441[_0x3178d2(0x204)][_0x3178d2(0x159)][_0x3178d2(0x1b6)](_0x386251[_0x3178d2(0x13f)]))return!![];return![];}['incrementCounter'](_0x39c0c0){const _0x2e0900=a6_0x10d507,_0x3dddce={};_0x3dddce[_0x2e0900(0x17c)]=_0x2e0900(0x165),_0x3dddce[_0x2e0900(0x169)]=_0x2e0900(0x1a9),_0x3dddce[_0x2e0900(0x17f)]='SKIPPED',_0x3dddce['adbTs']=_0x2e0900(0x1dc),_0x3dddce['JqxdX']=_0x2e0900(0x141),_0x3dddce[_0x2e0900(0x16e)]='UNKNOWN',_0x3dddce[_0x2e0900(0x1fa)]=_0x2e0900(0x157);const _0x376f0d=_0x3dddce;switch(_0x39c0c0){case _0x376f0d[_0x2e0900(0x17c)]:testsFailed+=0x1;break;case _0x376f0d[_0x2e0900(0x169)]:testsPassed+=0x1;break;case _0x376f0d[_0x2e0900(0x17f)]:testsSkipped+=0x1;break;case _0x376f0d[_0x2e0900(0x147)]:testsPending+=0x1;break;case _0x376f0d[_0x2e0900(0x139)]:testsUndefined+=0x1;break;case _0x376f0d[_0x2e0900(0x16e)]:testsUnknown+=0x1;break;case _0x376f0d[_0x2e0900(0x1fa)]:testsAmbiguous+=0x1;break;default:break;}}async[a6_0x10d507(0x1f2)](_0x15459d){const _0x1fc021=a6_0x10d507,_0x1714b6={'cJXaV':function(_0x3bcb4d,_0x51c437){return _0x3bcb4d!==_0x51c437;},'lfWUr':function(_0x56ad83,_0xba3c11){return _0x56ad83!==_0xba3c11;},'OSJnZ':function(_0x385231){return _0x385231();},'lbMnC':function(_0x355801,_0x3359e4){return _0x355801(_0x3359e4);},'NXyus':function(_0x2b223a,_0x2a6e13){return _0x2b223a+_0x2a6e13;},'vLvMx':function(_0x51608f){return _0x51608f();},'KbeBd':_0x1fc021(0x142)};let _0x540f2c;if(_0x1714b6[_0x1fc021(0x1d0)](process[_0x1fc021(0x163)][_0x1fc021(0x1a4)],undefined)){const _0x47c467=JSON[_0x1fc021(0x146)](process['env'][_0x1fc021(0x1a4)]);_0x540f2c=_0x47c467[_0x1fc021(0x208)];}_0x1714b6['lfWUr'](_0x540f2c,undefined)&&_0x1714b6['OSJnZ'](isBrowserstackInfra)&&(global['__platform']=_0x1714b6[_0x1fc021(0x1ef)](getPlatformName,_0x540f2c),this['log'](_0x1714b6[_0x1fc021(0x176)]('Executing\x20tests\x20for\x20'+global[_0x1fc021(0x192)],'\x0a'))),_0x1714b6[_0x1fc021(0x15f)](shouldProcessEventForTesthub)&&(TestDetails[_0x1fc021(0x1db)](),this['report'][_0x1fc021(0x1f5)]=_0x15459d,BrowserstackCLI[_0x1fc021(0x1f8)]()['isCliEnabled']()&&await this['isCLIReady']()&&(TestInfo[_0x1fc021(0x1db)](_0x1714b6[_0x1fc021(0x1be)]),await BrowserstackCLI[_0x1fc021(0x1f8)]()[_0x1fc021(0x182)]()[_0x1fc021(0x1ab)](TestFrameworkState[_0x1fc021(0x1c3)],HookState[_0x1fc021(0x14f)],{})));}['onTestRunFinished'](_0x4ca1df){const _0x3b384e=a6_0x10d507;this[_0x3b384e(0x168)]['testRunFinished']=_0x4ca1df,this[_0x3b384e(0x20d)](_0x4ca1df);}async['onTestCaseStarted'](_0x21f031,_0x517bb0,_0x429425){const _0x1dce63=a6_0x10d507,_0x3fffd6={'IzJCi':function(_0x599a74,_0x580d6c){return _0x599a74(_0x580d6c);},'YxnkU':_0x1dce63(0x1bb),'AwKTU':function(_0x2bb1e6,_0x55286c){return _0x2bb1e6&&_0x55286c;}};testSuites+=0x1;if(_0x3fffd6[_0x1dce63(0x19f)](shouldProcessEventForTesthub,_0x3fffd6[_0x1dce63(0x1d3)]))try{this[_0x1dce63(0x168)][_0x1dce63(0x1eb)]=this[_0x1dce63(0x168)][_0x1dce63(0x1eb)]||{},this['report']['testCaseStarted'][_0x21f031['id']]=_0x21f031;let _0x36df72=null;BrowserstackCLI['getInstance']()[_0x1dce63(0x1ca)]()&&await this[_0x1dce63(0x1e6)]()?_0x36df72=TestInfo['getTestUUID'](_0x21f031['id']):_0x36df72=TestDetails['getTestUUID'](_0x21f031['id']);_testCasesData[_0x21f031['id']]=Object[_0x1dce63(0x138)]({},_0x429425);const _0x6e8de=this['report'],_0x580c6b=_0x21f031[_0x1dce63(0x1d8)],_0x5bd2f9=_0x6e8de[_0x1dce63(0x18a)][_0x1dce63(0x15b)](_0x4c20f5=>_0x4c20f5['id']===_0x580c6b)[_0x1dce63(0x1c5)],_0x32c9b1=_0x6e8de['pickle'][_0x1dce63(0x15b)](_0x58536d=>_0x58536d['id']===_0x5bd2f9),_0x1a45b7=_0x6e8de[_0x1dce63(0x1e9)]['find'](_0x423384=>_0x423384[_0x1dce63(0x159)]===_0x32c9b1[_0x1dce63(0x159)]),_0x487679=_0x1a45b7[_0x1dce63(0x1c8)],_0x43293a={'uuid':_0x36df72,'startedAt':new Date()['toISOString']()};if(_0x32c9b1){const _0x107f4b={};_0x107f4b[_0x1dce63(0x17e)]=_0x32c9b1[_0x1dce63(0x17e)],_0x43293a[_0x1dce63(0x205)]=_0x107f4b;}if(_0x3fffd6[_0x1dce63(0x1c7)](_0x1a45b7,_0x487679)){const _0x8f3113={};_0x8f3113[_0x1dce63(0x1fd)]=_0x1a45b7[_0x1dce63(0x159)],_0x8f3113[_0x1dce63(0x17e)]=_0x487679['name'],_0x8f3113[_0x1dce63(0x180)]=_0x487679[_0x1dce63(0x180)],_0x43293a[_0x1dce63(0x1c8)]=_0x8f3113;}_tests[_0x580c6b]=_0x43293a;if(BrowserstackCLI[_0x1dce63(0x1f8)]()[_0x1dce63(0x1ca)]()&&await this[_0x1dce63(0x1e6)]()){const _0x382f77=await cucumberUtils[_0x1dce63(0x16f)](_0x43293a,_0x32c9b1,_0x429425,_0x1a45b7,_0x21f031['id'],_0x3fffd6[_0x1dce63(0x1d3)]),_0x1dd7d0={};_0x1dd7d0[_0x1dce63(0x1bf)]=_0x382f77,await BrowserstackCLI[_0x1dce63(0x1f8)]()[_0x1dce63(0x182)]()[_0x1dce63(0x1ab)](TestFrameworkState['TEST'],HookState['PRE'],_0x1dd7d0);return;}await testObservabilityReporter[_0x1dce63(0x18f)](_0x429425,_0x1a45b7,_0x32c9b1,_0x3fffd6[_0x1dce63(0x1d3)],_0x43293a);}catch(_0x5d8105){logger[_0x1dce63(0x1e5)]('Exception\x20in\x20sending\x20onTestCaseStarted:\x20'+util[_0x1dce63(0x170)](_0x5d8105)+'\x20');}}async[a6_0x10d507(0x1e8)](_0x395495,_0x149f49,_0x3dd7a0){const _0x395d16=a6_0x10d507,_0x2f3da7={'uVqJk':function(_0x1fde89,_0x3b16f6){return _0x1fde89(_0x3b16f6);},'mWqas':_0x395d16(0x1ce),'qNXki':_0x395d16(0x1bf)};this[_0x395d16(0x153)](_0x395495);if(_0x2f3da7[_0x395d16(0x1a0)](shouldProcessEventForTesthub,_0x2f3da7[_0x395d16(0x143)]))try{this['report'][_0x395d16(0x136)]=this[_0x395d16(0x168)][_0x395d16(0x136)]||{},this['report'][_0x395d16(0x136)][_0x395495['testCaseStartedId']]=_0x395495,_testCasesData[_0x3dd7a0['id']]=Object[_0x395d16(0x138)]({},_0x3dd7a0);const _0x5f2772=_0x395495[_0x395d16(0x1cd)],_0x4cac2c=_0x149f49[_0x395d16(0x189)]['testCaseAttemptDataMap'][_0x5f2772][_0x395d16(0x1d8)],_0x3fdc54=_0x149f49['eventDataCollector'][_0x395d16(0x1dd)][_0x4cac2c],_0x144caf=_0x3fdc54[_0x395d16(0x1c5)],_0x1073a8=_0x149f49['eventDataCollector'][_0x395d16(0x1b3)][_0x144caf],_0x599c3f=this[_0x395d16(0x1f4)](_0x149f49,_0x1073a8),_0x2e23e1=_0x599c3f[_0x395d16(0x1c8)],_0x450f91=_tests[_0x4cac2c];_0x450f91&&(delete _tests[_0x4cac2c],_0x450f91[_0x395d16(0x1e1)]=new Date()[_0x395d16(0x1a6)]());if(BrowserstackCLI[_0x395d16(0x1f8)]()['isCliEnabled']()&&await this[_0x395d16(0x1e6)]()){const _0x8e571b=await cucumberUtils['createTestFrameworkData'](_0x450f91,_0x1073a8,_0x3dd7a0,_0x599c3f,_0x5f2772,_0x2f3da7[_0x395d16(0x143)]),_0x5ca754={};_0x5ca754['test']=_0x8e571b,await BrowserstackCLI['getInstance']()[_0x395d16(0x182)]()[_0x395d16(0x1ab)](TestFrameworkState['TEST'],HookState['POST'],_0x5ca754);const _0x49d7bd={};_0x49d7bd[_0x395d16(0x1d4)]=_0x395495[_0x395d16(0x1cd)],_0x49d7bd[_0x395d16(0x19e)]=_0x2f3da7['qNXki'],await BrowserstackCLI['getInstance']()['getTestFramework']()[_0x395d16(0x1ab)](TestFrameworkState[_0x395d16(0x171)],HookState[_0x395d16(0x177)],_0x49d7bd);return;}await testObservabilityReporter[_0x395d16(0x18f)](_0x3dd7a0,_0x599c3f,_0x1073a8,_0x2f3da7[_0x395d16(0x143)],_0x450f91);}catch(_0x17c2f2){logger[_0x395d16(0x1e5)](_0x395d16(0x173)+util[_0x395d16(0x170)](_0x17c2f2));}}async['onTestStepStarted'](_0x27af5f,_0x2da52b){const _0x3e26d5=a6_0x10d507,_0x1ab240={'tkaBX':function(_0x599655,_0x41fd68){return _0x599655(_0x41fd68);},'cdqZo':_0x3e26d5(0x1d1),'equzT':function(_0x36a3df,_0x19ec57){return _0x36a3df!==_0x19ec57;},'fHxCS':'testStepId'};if(_0x1ab240[_0x3e26d5(0x1ec)](shouldProcessEventForTesthub,_0x1ab240[_0x3e26d5(0x1e3)]))try{this[_0x3e26d5(0x168)][_0x3e26d5(0x1af)]=this[_0x3e26d5(0x168)]['testStepStarted']||{},this[_0x3e26d5(0x168)][_0x3e26d5(0x1af)][_0x27af5f['testCaseStartedId']]=_0x27af5f;const _0x402529=_0x27af5f[_0x3e26d5(0x1cd)],_0x5143bc=_0x2da52b[_0x3e26d5(0x189)][_0x3e26d5(0x1b5)][_0x402529][_0x3e26d5(0x1d8)],_0x349f17=this[_0x3e26d5(0x168)][_0x3e26d5(0x18a)]['find'](_0x313310=>_0x313310['id']===_0x5143bc)[_0x3e26d5(0x1c5)],_0x28d3e9=this[_0x3e26d5(0x168)][_0x3e26d5(0x179)][_0x3e26d5(0x15b)](_0x16f37a=>_0x16f37a['id']===_0x349f17),_0x4f724b=this[_0x3e26d5(0x168)][_0x3e26d5(0x18a)][_0x3e26d5(0x15b)](_0x4023a6=>_0x4023a6['id']===_0x5143bc)[_0x3e26d5(0x191)],_0x208e64=this['report']['testStepStarted'][_0x402529][_0x3e26d5(0x1b9)],_0x5ede46=_0x4f724b[_0x3e26d5(0x15b)](_0x32454d=>_0x32454d['id']===_0x208e64)['pickleStepId'],_0x29935d=_0x28d3e9['steps'][_0x3e26d5(0x15b)](_0xe45f6c=>_0xe45f6c['id']===_0x5ede46);if(_0x5ede46&&_tests[_0x5143bc]&&_0x1ab240['equzT'](_tests[_0x5143bc][_0x1ab240[_0x3e26d5(0x185)]],_0x208e64)){_tests[_0x5143bc][_0x1ab240['fHxCS']]=_0x208e64;const _0x4818ec={};_0x4818ec[_0x3e26d5(0x178)]=[];const _0x59126d=_tests[_0x5143bc]||_0x4818ec;_0x59126d&&!_0x59126d[_0x3e26d5(0x178)]&&(_0x59126d[_0x3e26d5(0x178)]=[]),_0x59126d[_0x3e26d5(0x178)][_0x3e26d5(0x206)]({'id':_0x29935d['id'],'text':_0x29935d[_0x3e26d5(0x1e4)],'started_at':new Date()['toISOString']()}),_tests[_0x5143bc]=_0x59126d;}if(BrowserstackCLI[_0x3e26d5(0x1f8)]()[_0x3e26d5(0x1ca)]()&&await this[_0x3e26d5(0x1e6)]()){const _0x2d2a72=await cucumberUtils[_0x3e26d5(0x1bc)](this[_0x3e26d5(0x168)],_0x402529,_0x1ab240[_0x3e26d5(0x1e3)],_0x4f724b,_0x208e64,_tests[_0x5143bc]);_0x2d2a72&&await BrowserstackCLI[_0x3e26d5(0x1f8)]()[_0x3e26d5(0x182)]()[_0x3e26d5(0x1ab)](TestFrameworkState[_0x2d2a72[_0x3e26d5(0x19a)]],HookState['PRE'],{'hookData':_0x2d2a72,'testUUID':_0x27af5f['testCaseStartedId']});return;}await testObservabilityReporter[_0x3e26d5(0x1ed)](this[_0x3e26d5(0x168)],_0x402529,_0x1ab240[_0x3e26d5(0x1e3)],_0x4f724b,_0x208e64,_tests[_0x5143bc]);}catch(_0x4e8017){logger[_0x3e26d5(0x1e5)](_0x3e26d5(0x1ee)+util[_0x3e26d5(0x170)](_0x4e8017));}}async['onTestStepFinished'](_0x381434,_0x5324f6){const _0x2b2a68=a6_0x10d507,_0x8f52e={'zPppp':function(_0x241ce4,_0x2ce8ec){return _0x241ce4===_0x2ce8ec;},'mlRfK':'1|3|4|0|2','aCSPf':function(_0x57ec09,_0x152bb6){return _0x57ec09(_0x152bb6);},'CCCWg':_0x2b2a68(0x199),'ipWwp':function(_0x1ee4f8,_0x1846ec){return _0x1ee4f8===_0x1846ec;},'dmjCC':_0x2b2a68(0x1e0),'VcozT':_0x2b2a68(0x209),'Wenlz':_0x2b2a68(0x1b9),'giNJJ':_0x2b2a68(0x1d1),'gpUgT':_0x2b2a68(0x18d)};this['report'][_0x2b2a68(0x202)]=this['report']['testStepFinished']||{},this[_0x2b2a68(0x168)][_0x2b2a68(0x202)][_0x381434[_0x2b2a68(0x1cd)]]=_0x381434;if(_0x8f52e[_0x2b2a68(0x1f6)](shouldProcessEventForTesthub,_0x8f52e['CCCWg']))try{const _0x515ee6=_0x381434[_0x2b2a68(0x1cd)],_0x324954=_0x5324f6[_0x2b2a68(0x189)][_0x2b2a68(0x1b5)][_0x515ee6]['testCaseId'],_0x3818ed=_0x5324f6['eventDataCollector'][_0x2b2a68(0x1dd)][_0x324954],_0x40a3c7=_0x3818ed[_0x2b2a68(0x1c5)],_0x1e906c=_0x5324f6[_0x2b2a68(0x189)][_0x2b2a68(0x1b3)][_0x40a3c7],_0x3221d6=_0x381434[_0x2b2a68(0x1b9)],_0x839899=_0x3818ed[_0x2b2a68(0x191)],_0x29deae=this['eventDataCollector']['getTestCaseAttempt'](_0x515ee6),_0x115b29=_0x839899['find'](_0x152b8e=>_0x152b8e['id']===_0x3221d6)[_0x2b2a68(0x1b0)];let _0x36df01,_0x1940e0;_0x381434[_0x2b2a68(0x1a5)]&&_0x8f52e['ipWwp'](_0x381434['testStepResult']['status'][_0x2b2a68(0x186)]()['toLowerCase'](),_0x8f52e[_0x2b2a68(0x195)])&&(_0x36df01=_0x8f52e[_0x2b2a68(0x14d)](_0x381434[_0x2b2a68(0x1a5)][_0x2b2a68(0x194)],undefined)?_0x381434[_0x2b2a68(0x1a5)]['message']:_0x381434[_0x2b2a68(0x1a5)][_0x2b2a68(0x194)][_0x2b2a68(0x1a3)],_0x1940e0=_0x8f52e['ipWwp'](_0x381434[_0x2b2a68(0x1a5)]['exception'],undefined)?_0x8f52e[_0x2b2a68(0x149)]:_0x381434[_0x2b2a68(0x1a5)][_0x2b2a68(0x1a3)]);if(_0x115b29&&_tests[_0x324954][_0x8f52e['Wenlz']]){const _0x57057a=_0x1e906c[_0x2b2a68(0x178)][_0x2b2a68(0x15b)](_0x55ec03=>_0x55ec03['id']===_0x115b29),_0x4099b9={};_0x4099b9[_0x2b2a68(0x178)]=[];const _0x4e8995=_tests[_0x324954]||_0x4099b9;!_0x4e8995[_0x2b2a68(0x178)]?_0x4e8995[_0x2b2a68(0x178)]=[{'id':_0x57057a['id'],'text':_0x57057a['text'],'finished_at':new Date()[_0x2b2a68(0x1a6)](),'result':_0x381434[_0x2b2a68(0x1a5)]['status'],'duration':_0x381434[_0x2b2a68(0x1a5)][_0x2b2a68(0x17b)][_0x2b2a68(0x166)],'failure':_0x36df01,'failureType':_0x1940e0}]:_0x4e8995[_0x2b2a68(0x178)][_0x2b2a68(0x137)](_0x22f319=>{const _0x49eecd=_0x2b2a68;if(_0x8f52e[_0x49eecd(0x14d)](_0x22f319['id'],_0x57057a['id'])){const _0x115664=_0x8f52e['mlRfK'][_0x49eecd(0x1c9)]('|');let _0xa93153=0x0;while(!![]){switch(_0x115664[_0xa93153++]){case'0':_0x22f319[_0x49eecd(0x1ad)]=_0x36df01;continue;case'1':_0x22f319[_0x49eecd(0x19b)]=new Date()[_0x49eecd(0x1a6)]();continue;case'2':_0x22f319['failureType']=_0x1940e0;continue;case'3':_0x22f319[_0x49eecd(0x1a7)]=_0x381434['testStepResult'][_0x49eecd(0x1c2)];continue;case'4':_0x22f319[_0x49eecd(0x17b)]=_0x381434[_0x49eecd(0x1a5)][_0x49eecd(0x17b)][_0x49eecd(0x166)];continue;}break;}}}),_tests[_0x324954]=_0x4e8995;}delete _tests[_0x324954][_0x8f52e[_0x2b2a68(0x175)]];if(BrowserstackCLI[_0x2b2a68(0x1f8)]()['isCliEnabled']()&&await this[_0x2b2a68(0x1e6)]()){const _0x1101ed=await cucumberUtils[_0x2b2a68(0x1bc)](this[_0x2b2a68(0x168)],_0x515ee6,_0x8f52e[_0x2b2a68(0x1fe)],_0x839899,_0x3221d6,_tests[_0x324954]);if(_0x1101ed){await BrowserstackCLI['getInstance']()[_0x2b2a68(0x182)]()[_0x2b2a68(0x1ab)](TestFrameworkState[_0x1101ed[_0x2b2a68(0x19a)]],HookState['POST'],{'hookData':_0x1101ed,'testUUID':_0x381434[_0x2b2a68(0x1cd)]});const _0x18377c={};_0x18377c['testUUID']=_0x381434[_0x2b2a68(0x1cd)],_0x18377c[_0x2b2a68(0x19e)]=_0x8f52e[_0x2b2a68(0x1f0)],await BrowserstackCLI['getInstance']()['getTestFramework']()[_0x2b2a68(0x1ab)](TestFrameworkState[_0x2b2a68(0x171)],HookState[_0x2b2a68(0x177)],_0x18377c);}return;}await testObservabilityReporter[_0x2b2a68(0x1ed)](this[_0x2b2a68(0x168)],_0x515ee6,_0x8f52e['CCCWg'],_0x839899,_0x3221d6,_tests[_0x324954]);}catch(_0x5694ae){logger['debug'](_0x2b2a68(0x1aa)+util[_0x2b2a68(0x170)](_0x5694ae));}}[a6_0x10d507(0x1da)](_0x573416){const _0x248cbd=a6_0x10d507,_0x4f3613={};return _0x573416[_0x248cbd(0x1c8)][_0x248cbd(0x1d7)][_0x248cbd(0x161)](this[_0x248cbd(0x1c6)])['flat']()[_0x248cbd(0x137)](_0x351f51=>_0x351f51[_0x248cbd(0x178)]['forEach'](_0xf5f358=>_0x4f3613[_0xf5f358['id']]=_0xf5f358)),_0x4f3613;}[a6_0x10d507(0x1c6)](_0x14fb28){const _0x26f978=a6_0x10d507,_0x4cec17={'rgKFX':function(_0x422286,_0x54951c){return _0x422286(_0x54951c);}};if(!_0x4cec17[_0x26f978(0x1b8)](isUndefined,_0x14fb28[_0x26f978(0x1d6)]))return[_0x14fb28[_0x26f978(0x1d6)]];else{if(!_0x4cec17[_0x26f978(0x1b8)](isUndefined,_0x14fb28[_0x26f978(0x1a8)]))return _0x14fb28[_0x26f978(0x1a8)][_0x26f978(0x1d7)][_0x26f978(0x161)](_0xad32b8=>!isUndefined(_0xad32b8[_0x26f978(0x1d6)])?_0xad32b8[_0x26f978(0x1d6)]:_0xad32b8[_0x26f978(0x205)]);};return[_0x14fb28['scenario']];}[a6_0x10d507(0x1f4)](_0x5bb2cc,_0xb87f37){const _0x216fe=a6_0x10d507;return Object['values'](_0x5bb2cc[_0x216fe(0x189)][_0x216fe(0x16c)])[_0x216fe(0x15b)](_0x454aec=>_0x454aec['uri']===_0xb87f37[_0x216fe(0x159)]);}async[a6_0x10d507(0x15e)](){const _0x2d907b=a6_0x10d507;if(this['cliInitPromise'])return this[_0x2d907b(0x155)];return this[_0x2d907b(0x155)]=this[_0x2d907b(0x1cb)](),this[_0x2d907b(0x155)];}async[a6_0x10d507(0x1cb)](){const _0x303b7e=a6_0x10d507,_0x562937={'nAaeC':_0x303b7e(0x1fc),'DmlRn':function(_0x3e0020,_0x37cb64){return _0x3e0020(_0x37cb64);},'hjhHt':_0x303b7e(0x15d),'pBnXP':function(_0x41c5be,_0x5108de){return _0x41c5be(_0x5108de);},'IUnRL':'../../utils/constants'};try{const _0x14af08=BrowserstackCLI[_0x303b7e(0x1f8)]();if(_0x14af08['isRunning']())return logger['debug'](_0x303b7e(0x1c4)+_0x14af08[_0x303b7e(0x1c0)]),!![];const _0x4bb321=process[_0x303b7e(0x163)][_0x303b7e(0x187)];if(!_0x4bb321)return logger[_0x303b7e(0x1e5)](_0x562937[_0x303b7e(0x183)]),![];const _0x16c3cf=_0x562937[_0x303b7e(0x20a)](require,_0x562937[_0x303b7e(0x181)]),{FRAMEWORKS:_0x2b3007}=_0x562937['pBnXP'](require,_0x562937['IUnRL']);return _0x16c3cf[_0x303b7e(0x144)](_0x2b3007[_0x303b7e(0x13a)],_0x2b3007[_0x303b7e(0x154)]),logger['debug'](_0x303b7e(0x1de)+_0x4bb321),await _0x14af08[_0x303b7e(0x1ea)](),logger[_0x303b7e(0x1e5)]('CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20'+_0x14af08[_0x303b7e(0x1bd)]()+_0x303b7e(0x1b4)+_0x14af08[_0x303b7e(0x1c0)]),_0x14af08[_0x303b7e(0x1bd)]();}catch(_0x39cc27){return logger[_0x303b7e(0x1e5)](_0x303b7e(0x18c)+util[_0x303b7e(0x170)](_0x39cc27)),![];}}async[a6_0x10d507(0x1e6)](){const _0x1a4518=a6_0x10d507;try{return await this[_0x1a4518(0x15e)](),BrowserstackCLI[_0x1a4518(0x1f8)]()[_0x1a4518(0x1bd)]();}catch(_0x3819e0){return logger[_0x1a4518(0x1e5)](_0x1a4518(0x1ba)+util[_0x1a4518(0x170)](_0x3819e0)),![];}}}module[a6_0x10d507(0x14e)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x10d507(0x1f1),a6_0x10d507(0x1e8),'onTestStepStarted','onTestStepFinished',a6_0x10d507(0x1f2),a6_0x10d507(0x17a),'extractStepContainers',a6_0x10d507(0x1f4),a6_0x10d507(0x1da)]);