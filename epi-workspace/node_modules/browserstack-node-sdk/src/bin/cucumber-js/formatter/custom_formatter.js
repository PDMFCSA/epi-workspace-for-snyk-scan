function a6_0x1b7e(){const _0x1fed03=['15LxpQdA','isBstackHook','testCase','gherkinDocumentMap','toString','failed','zZxVZ','DTliF','42Louaqm','testCaseAttempt','taqGk','69732GmKwIK','TestRunStarted','LkjMx','parseTestCaseAttempt','testStepFinished','hook','includes','testCases','finishedAt','onTestCaseStarted','2aKFNvd','sourceLocation','map','Exception\x20in\x20onTestStepFinished\x20event:\x20','pickleStepId','cNXdf','CMCfb','source','3|4|1|0|2','parse','testStepId','onStepDefinition','1269lKCiXU','UNDEFINED','forEach','env','pHWSm','steps','FJUFz','QyNEQ','assign','sendHook','name','538736DmVMdM','xcgZL','values','onPickle','testCaseAttemptDataMap','THppZ','HookRunStarted','util','../../../helpers/test-observability/error-handler','feature','testSteps','../test-observability.js','status','supportCodeLibrary','AKDVg','KnhHZ','children','ceHUS','duration','cwd','snippetBuilder','pickleId','sDVsp','HpYxp','format','ZxpZr','getTestCaseAttempt','ypdrd','SKIPPED','pickleMap','heTNZ','testCaseFinished','message','TYJaA','762465rkbivW','find','background','qakqm','mkCIv','nyGQH','testRunStarted','hooks','OvJgg','\x20\x20\x20\x20','onTestCase','RXoXp','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','yptCD','pickle','Executing\x20tests\x20for\x20','finished_at','debug','SYmkG','Rrnzw','35513agHkSJ','IqjPk','onTestStepStarted','onGherkinDocument','__platform','onTestStepFinished','incrementCounter','onTestRunFinished','eventDataCollector','text','failureType','push','scenario','capability','onHook','onTestRunStarted','onTestCaseFinished','../../../helpers/testhub/utils.js','eventBroadcaster','rule','result','QyjlK','testCaseStarted','extractStepContainers','stepDefinition','260267ZtDpvr','testRunFinished','bstack','PENDING','ilvgl','xDZWz','description','\x20-\x20','XCFNQ','HbmDi','sendTestRunEventForCucumber','winstonLogger','TestRunFinished','Exception\x20in\x20onTestStepStarted\x20event:\x20','testStepStarted','uri','actionLocation','onSource','uiyMC','testCaseId','jOKpb','log','PASSED','testCaseMap','17950MBOtZg','toISOString','logTestRunFinished','idnLI','FAILED','LdKkH','getGherkinDocument','GJipZ','keyword','142713BHtrWa','testStepResult','logTestCaseFinished','seconds','XkuoF','@cucumber/cucumber','VgLQc','testCaseStartedId','RieQA','gherkinDocument','report'];a6_0x1b7e=function(){return _0x1fed03;};return a6_0x1b7e();}const a6_0x3c5ca6=a6_0x19d0;(function(_0x328dbe,_0x77574b){const _0x21ec97=a6_0x19d0,_0x2e8a63=_0x328dbe();while(!![]){try{const _0x5a8e5d=parseInt(_0x21ec97(0x250))/0x1*(-parseInt(_0x21ec97(0x203))/0x2)+parseInt(_0x21ec97(0x28a))/0x3+parseInt(_0x21ec97(0x1f9))/0x4*(parseInt(_0x21ec97(0x295))/0x5)+parseInt(_0x21ec97(0x1f6))/0x6*(parseInt(_0x21ec97(0x269))/0x7)+parseInt(_0x21ec97(0x21a))/0x8+parseInt(_0x21ec97(0x20f))/0x9*(-parseInt(_0x21ec97(0x281))/0xa)+parseInt(_0x21ec97(0x23c))/0xb;if(_0x5a8e5d===_0x77574b)break;else _0x2e8a63['push'](_0x2e8a63['shift']());}catch(_0x405231){_0x2e8a63['push'](_0x2e8a63['shift']());}}}(a6_0x1b7e,0x32d3a));const {requireModule,getPlatformName,nestedKeyValue,isUndefined}=require('../../../helpers/helper'),util=require(a6_0x3c5ca6(0x221)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x3c5ca6(0x28f)),TestDetails=require('../../playwright/reporter/test-details.js'),TestObservabilityReporter=require(a6_0x3c5ca6(0x225)),{o11yClassErrorHandler}=require(a6_0x3c5ca6(0x222)),{shouldProcessEventForTesthub}=require(a6_0x3c5ca6(0x261)),testObservabilityReporter=new TestObservabilityReporter(),logger=require('../../../helpers/logger')[a6_0x3c5ca6(0x274)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x43e073){const _0x343633=a6_0x3c5ca6,_0x2bd2f2={};_0x2bd2f2[_0x343633(0x24f)]='envelope';const _0x3f1fa4=_0x2bd2f2;super(_0x43e073),this[_0x343633(0x294)]={},_0x43e073[_0x343633(0x262)]['on'](_0x3f1fa4['Rrnzw'],async _0x1d12c0=>{const _0xeff7fb=_0x343633;switch(!![]){case!!_0x1d12c0[_0xeff7fb(0x242)]:this[_0xeff7fb(0x25f)](_0x1d12c0[_0xeff7fb(0x242)]);break;case!!_0x1d12c0[_0xeff7fb(0x26a)]:this[_0xeff7fb(0x257)](_0x1d12c0['testRunFinished']);break;case!!_0x1d12c0[_0xeff7fb(0x266)]:this['onTestCaseStarted'](_0x1d12c0[_0xeff7fb(0x266)],_0x43e073,_0x1d12c0);break;case!!_0x1d12c0[_0xeff7fb(0x239)]:this[_0xeff7fb(0x260)](_0x1d12c0['testCaseFinished'],_0x43e073,_0x1d12c0);break;case!!_0x1d12c0[_0xeff7fb(0x277)]:this[_0xeff7fb(0x252)](_0x1d12c0['testStepStarted'],_0x43e073);break;case!!_0x1d12c0['testStepFinished']:this[_0xeff7fb(0x255)](_0x1d12c0[_0xeff7fb(0x1fd)],_0x43e073);break;case!!_0x1d12c0[_0xeff7fb(0x1fe)]:this[_0xeff7fb(0x25e)](_0x1d12c0['hook']);break;case!!_0x1d12c0['testCase']:this['onTestCase'](_0x1d12c0[_0xeff7fb(0x297)]);break;case!!_0x1d12c0[_0xeff7fb(0x24a)]:this['onPickle'](_0x1d12c0[_0xeff7fb(0x24a)]);break;case!!_0x1d12c0[_0xeff7fb(0x293)]:this[_0xeff7fb(0x253)](_0x1d12c0[_0xeff7fb(0x293)]);break;}});}['onHook'](_0x46d2b2){const _0x37128d=a6_0x3c5ca6;this[_0x37128d(0x294)]['hooks']=Object[_0x37128d(0x217)]([],this[_0x37128d(0x294)][_0x37128d(0x243)]||[]),this[_0x37128d(0x294)]['hooks']['push'](_0x46d2b2);}[a6_0x3c5ca6(0x21d)](_0x3c3aff){const _0x3fa5e9=a6_0x3c5ca6;this[_0x3fa5e9(0x294)][_0x3fa5e9(0x24a)]=Object[_0x3fa5e9(0x217)]([],this[_0x3fa5e9(0x294)][_0x3fa5e9(0x24a)]||[],[_0x3c3aff]),this[_0x3fa5e9(0x294)][_0x3fa5e9(0x24a)][_0x3fa5e9(0x25b)](_0x3c3aff);}[a6_0x3c5ca6(0x253)](_0xcf19d2){const _0x55410e=a6_0x3c5ca6;this[_0x55410e(0x294)][_0x55410e(0x293)]=Object[_0x55410e(0x217)]([],this[_0x55410e(0x294)][_0x55410e(0x293)]||[],[_0xcf19d2]),this[_0x55410e(0x294)][_0x55410e(0x293)][_0x55410e(0x25b)](_0xcf19d2);}[a6_0x3c5ca6(0x27a)](_0x2ad691){const _0x160c4b=a6_0x3c5ca6;this[_0x160c4b(0x294)][_0x160c4b(0x20a)]=_0x2ad691;}[a6_0x3c5ca6(0x20e)](_0x12e21f){const _0x7db0f1=a6_0x3c5ca6;this[_0x7db0f1(0x294)][_0x7db0f1(0x268)]=Object[_0x7db0f1(0x217)]([],this[_0x7db0f1(0x294)]['stepDefinition']||[],[_0x12e21f]),this[_0x7db0f1(0x294)][_0x7db0f1(0x268)][_0x7db0f1(0x25b)](_0x12e21f);}[a6_0x3c5ca6(0x246)](_0x12e38f){const _0x5daefd=a6_0x3c5ca6;this[_0x5daefd(0x294)][_0x5daefd(0x200)]=Object[_0x5daefd(0x217)]([],this[_0x5daefd(0x294)]['testCases']||[],[_0x12e38f]),this[_0x5daefd(0x294)][_0x5daefd(0x200)][_0x5daefd(0x25b)](_0x12e38f);}[a6_0x3c5ca6(0x28c)](_0x52063d){const _0x1547a7=a6_0x3c5ca6,_0x245fba={'heTNZ':function(_0x392adb,_0x697017){return _0x392adb!==_0x697017;},'LkjMx':_0x1547a7(0x26b),'ceHUS':function(_0x228937,_0x15cc98){return _0x228937+_0x15cc98;},'VgLQc':function(_0x7ae316,_0x48961d){return _0x7ae316+_0x48961d;},'THppZ':function(_0x52e035,_0x377cb5){return _0x52e035+_0x377cb5;},'CMCfb':function(_0x34f396,_0x248bf3){return _0x34f396+_0x248bf3;},'zZxVZ':_0x1547a7(0x245),'FJUFz':_0x1547a7(0x270),'QyNEQ':function(_0x23a5c4,_0x4e3a41){return _0x23a5c4===_0x4e3a41;},'yptCD':_0x1547a7(0x285),'TYJaA':function(_0xda10ec,_0x45dfed,_0x329bef){return _0xda10ec(_0x45dfed,_0x329bef);},'GJipZ':_0x1547a7(0x264),'ypdrd':_0x1547a7(0x23a),'XCFNQ':function(_0x5941aa,_0x5ede26){return _0x5941aa+_0x5ede26;},'cNXdf':function(_0x10095c,_0x5be69d){return _0x10095c+_0x5be69d;}};_0x245fba['heTNZ'](global['__platform'],undefined)&&this[_0x1547a7(0x27e)](_0x245fba[_0x1547a7(0x271)](_0x245fba[_0x1547a7(0x208)]('\x0a',global[_0x1547a7(0x254)]),'\x0a'));const _0x4696e8=this[_0x1547a7(0x258)][_0x1547a7(0x234)](_0x52063d[_0x1547a7(0x291)]);this[_0x1547a7(0x27e)](_0x245fba[_0x1547a7(0x209)](_0x245fba[_0x1547a7(0x209)](_0x245fba[_0x1547a7(0x271)](_0x245fba['cNXdf']('\x20\x20',_0x4696e8[_0x1547a7(0x293)]['feature'][_0x1547a7(0x219)]),_0x245fba[_0x1547a7(0x215)]),_0x4696e8['pickle'][_0x1547a7(0x219)]),'\x0a'));const _0x273795={};_0x273795[_0x1547a7(0x22d)]=this[_0x1547a7(0x22d)],_0x273795[_0x1547a7(0x22e)]=this['snippetBuilder'],_0x273795['supportCodeLibrary']=this[_0x1547a7(0x227)],_0x273795[_0x1547a7(0x1f7)]=_0x4696e8;const _0x3e8ad5=formatterHelpers[_0x1547a7(0x1fc)](_0x273795);let _0x2a37f6=![];_0x3e8ad5[_0x1547a7(0x224)][_0x1547a7(0x211)](_0x31ef33=>{const _0x3caacd=_0x1547a7;if(_0x245fba[_0x3caacd(0x238)](_0x31ef33[_0x3caacd(0x219)],_0x245fba[_0x3caacd(0x1fb)])&&!this[_0x3caacd(0x296)](_0x31ef33)){totalTests+=0x1,this['log'](_0x245fba[_0x3caacd(0x22b)](_0x245fba[_0x3caacd(0x290)](_0x245fba[_0x3caacd(0x290)](_0x245fba[_0x3caacd(0x21f)](_0x245fba[_0x3caacd(0x209)](_0x245fba[_0x3caacd(0x1f4)],_0x31ef33[_0x3caacd(0x289)]),_0x31ef33['text']||''),_0x245fba[_0x3caacd(0x215)]),Status[_0x31ef33[_0x3caacd(0x264)][_0x3caacd(0x226)]]),'\x0a')),this[_0x3caacd(0x256)](Status[_0x31ef33[_0x3caacd(0x264)][_0x3caacd(0x226)]]);if(_0x245fba[_0x3caacd(0x216)](Status[_0x31ef33[_0x3caacd(0x264)][_0x3caacd(0x226)]],_0x245fba[_0x3caacd(0x249)])){_0x2a37f6=!![];const _0x4d7307=_0x245fba[_0x3caacd(0x23b)](nestedKeyValue,_0x31ef33,[_0x245fba[_0x3caacd(0x288)],_0x245fba[_0x3caacd(0x235)]]);_0x4d7307&&(testsErrorMessage[_0x245fba[_0x3caacd(0x271)](_0x245fba[_0x3caacd(0x271)](_0x4696e8[_0x3caacd(0x293)][_0x3caacd(0x223)][_0x3caacd(0x219)],_0x245fba['FJUFz']),_0x4696e8[_0x3caacd(0x24a)]['name'])]=_0x4d7307,this[_0x3caacd(0x27e)](_0x245fba['THppZ'](_0x4d7307,'\x0a')));}}}),_0x2a37f6&&(testSuitesFailed+=0x1),this[_0x1547a7(0x27e)]('\x0a');}[a6_0x3c5ca6(0x283)](_0x45300e){}[a6_0x3c5ca6(0x296)](_0x3555ba){const _0x19a0c9=a6_0x3c5ca6,_0x41cf5d={};_0x41cf5d[_0x19a0c9(0x24e)]=function(_0x3d4359,_0x2e5277){return _0x3d4359!==_0x2e5277;},_0x41cf5d['nyGQH']='cucumber-js/test.setup.js';const _0x33e044=_0x41cf5d;if(_0x33e044[_0x19a0c9(0x24e)](_0x3555ba[_0x19a0c9(0x204)],undefined))return![];if(_0x3555ba[_0x19a0c9(0x279)]&&_0x3555ba[_0x19a0c9(0x279)][_0x19a0c9(0x278)][_0x19a0c9(0x1ff)](_0x33e044[_0x19a0c9(0x241)]))return!![];return![];}[a6_0x3c5ca6(0x256)](_0x5bb191){const _0x17c4e2=a6_0x3c5ca6,_0x11e04d={};_0x11e04d['mkCIv']=_0x17c4e2(0x285),_0x11e04d[_0x17c4e2(0x272)]=_0x17c4e2(0x27f),_0x11e04d[_0x17c4e2(0x284)]=_0x17c4e2(0x236),_0x11e04d[_0x17c4e2(0x21b)]=_0x17c4e2(0x26c),_0x11e04d[_0x17c4e2(0x28e)]=_0x17c4e2(0x210),_0x11e04d[_0x17c4e2(0x27d)]='UNKNOWN',_0x11e04d[_0x17c4e2(0x27b)]='AMBIGUOUS';const _0x3a34f9=_0x11e04d;switch(_0x5bb191){case _0x3a34f9[_0x17c4e2(0x240)]:testsFailed+=0x1;break;case _0x3a34f9[_0x17c4e2(0x272)]:testsPassed+=0x1;break;case _0x3a34f9[_0x17c4e2(0x284)]:testsSkipped+=0x1;break;case _0x3a34f9[_0x17c4e2(0x21b)]:testsPending+=0x1;break;case _0x3a34f9[_0x17c4e2(0x28e)]:testsUndefined+=0x1;break;case _0x3a34f9[_0x17c4e2(0x27d)]:testsUnknown+=0x1;break;case _0x3a34f9['uiyMC']:testsAmbiguous+=0x1;break;default:break;}}[a6_0x3c5ca6(0x25f)](_0x18333b){const _0x4ca42e=a6_0x3c5ca6,_0x4bc691={'RQWQw':function(_0x1050d7,_0x12852c){return _0x1050d7!==_0x12852c;},'AKDVg':function(_0x24428e,_0x32ba1f){return _0x24428e!==_0x32ba1f;},'OvJgg':function(_0x1433a1,_0x1578c1){return _0x1433a1(_0x1578c1);},'ilvgl':function(_0x267c1f,_0xc17bff){return _0x267c1f+_0xc17bff;},'kUZZd':function(_0x2d6437){return _0x2d6437();}};let _0x36f0f4;if(_0x4bc691['RQWQw'](process[_0x4ca42e(0x212)]['CONFIG'],undefined)){const _0x5cc5a7=JSON[_0x4ca42e(0x20c)](process['env']['CONFIG']);_0x36f0f4=_0x5cc5a7[_0x4ca42e(0x25d)];}_0x4bc691[_0x4ca42e(0x228)](_0x36f0f4,undefined)&&(global['__platform']=_0x4bc691[_0x4ca42e(0x244)](getPlatformName,_0x36f0f4),this[_0x4ca42e(0x27e)](_0x4bc691[_0x4ca42e(0x26d)](_0x4ca42e(0x24b)+global[_0x4ca42e(0x254)],'\x0a'))),_0x4bc691['kUZZd'](shouldProcessEventForTesthub)&&(TestDetails['setup'](),this[_0x4ca42e(0x294)][_0x4ca42e(0x242)]=_0x18333b);}['onTestRunFinished'](_0x27266e){const _0x4379d1=a6_0x3c5ca6;this[_0x4379d1(0x294)][_0x4379d1(0x26a)]=_0x27266e,this[_0x4379d1(0x283)](_0x27266e);}async[a6_0x3c5ca6(0x202)](_0x228691,_0x4d62c6,_0x31f2fd){const _0x5db978=a6_0x3c5ca6,_0x5d6e7c={'RieQA':function(_0x4f27e2,_0x5945b7){return _0x4f27e2(_0x5945b7);},'pHWSm':_0x5db978(0x1fa),'IqjPk':function(_0x4b17c3,_0x18abd7){return _0x4b17c3&&_0x18abd7;}};testSuites+=0x1;if(_0x5d6e7c[_0x5db978(0x292)](shouldProcessEventForTesthub,_0x5d6e7c[_0x5db978(0x213)]))try{this[_0x5db978(0x294)][_0x5db978(0x266)]=this[_0x5db978(0x294)][_0x5db978(0x266)]||{},this[_0x5db978(0x294)]['testCaseStarted'][_0x228691['id']]=_0x228691;const _0x321fb6=TestDetails['getTestUUID'](_0x228691['id']);_testCasesData[_0x228691['id']]=Object['assign']({},_0x31f2fd);const _0x50feb1=this['report'],_0x3ecfbf=_0x228691['testCaseId'],_0x2f8fe3=_0x50feb1[_0x5db978(0x200)][_0x5db978(0x23d)](_0x406167=>_0x406167['id']===_0x3ecfbf)[_0x5db978(0x22f)],_0x2ebc1a=_0x50feb1[_0x5db978(0x24a)]['find'](_0x2e465b=>_0x2e465b['id']===_0x2f8fe3),_0x2b6c1c=_0x50feb1[_0x5db978(0x293)][_0x5db978(0x23d)](_0x1d4077=>_0x1d4077[_0x5db978(0x278)]===_0x2ebc1a[_0x5db978(0x278)]),_0x52c90c=_0x2b6c1c[_0x5db978(0x223)],_0x498eb6={'uuid':_0x321fb6,'startedAt':new Date()[_0x5db978(0x282)]()};if(_0x2ebc1a){const _0x5eb287={};_0x5eb287[_0x5db978(0x219)]=_0x2ebc1a[_0x5db978(0x219)],_0x498eb6[_0x5db978(0x25c)]=_0x5eb287;}if(_0x5d6e7c[_0x5db978(0x251)](_0x2b6c1c,_0x52c90c)){const _0x113d2b={};_0x113d2b['path']=_0x2b6c1c['uri'],_0x113d2b[_0x5db978(0x219)]=_0x52c90c['name'],_0x113d2b[_0x5db978(0x26f)]=_0x52c90c[_0x5db978(0x26f)],_0x498eb6[_0x5db978(0x223)]=_0x113d2b;}_tests[_0x3ecfbf]=_0x498eb6,await testObservabilityReporter[_0x5db978(0x273)](_0x31f2fd,_0x2b6c1c,_0x2ebc1a,_0x5d6e7c[_0x5db978(0x213)],_0x498eb6);}catch(_0x1749ca){logger[_0x5db978(0x24d)]('Exception\x20in\x20sending\x20onTestCaseStarted:\x20'+util['format'](_0x1749ca)+'\x20');}}async[a6_0x3c5ca6(0x260)](_0x13bb51,_0xca4fd,_0x2f67f5){const _0x2f32b4=a6_0x3c5ca6,_0xca020={'RXoXp':function(_0x27c6c7,_0x2286ab){return _0x27c6c7(_0x2286ab);},'LdKkH':_0x2f32b4(0x275)};this[_0x2f32b4(0x28c)](_0x13bb51);if(_0xca020[_0x2f32b4(0x247)](shouldProcessEventForTesthub,_0xca020[_0x2f32b4(0x286)]))try{this['report'][_0x2f32b4(0x239)]=this[_0x2f32b4(0x294)][_0x2f32b4(0x239)]||{},this[_0x2f32b4(0x294)]['testCaseFinished'][_0x13bb51[_0x2f32b4(0x291)]]=_0x13bb51,_testCasesData[_0x2f67f5['id']]=Object[_0x2f32b4(0x217)]({},_0x2f67f5);const _0x271746=_0x13bb51[_0x2f32b4(0x291)],_0x15e1b8=_0xca4fd['eventDataCollector'][_0x2f32b4(0x21e)][_0x271746]['testCaseId'],_0x35f088=_0xca4fd[_0x2f32b4(0x258)][_0x2f32b4(0x280)][_0x15e1b8],_0x1151ca=_0x35f088['pickleId'],_0x5e847f=_0xca4fd[_0x2f32b4(0x258)]['pickleMap'][_0x1151ca],_0xb90c81=this['getGherkinDocument'](_0xca4fd,_0x5e847f),_0x32990f=_tests[_0x15e1b8];_0x32990f&&(delete _tests[_0x15e1b8],_0x32990f[_0x2f32b4(0x201)]=new Date()[_0x2f32b4(0x282)]()),await testObservabilityReporter[_0x2f32b4(0x273)](_0x2f67f5,_0xb90c81,_0x5e847f,_0xca020['LdKkH'],_0x32990f);}catch(_0x29574b){logger[_0x2f32b4(0x24d)](_0x2f32b4(0x248)+util[_0x2f32b4(0x232)](_0x29574b));}}async['onTestStepStarted'](_0x561c68,_0x1558c7){const _0x476fef=a6_0x3c5ca6,_0x53db8c={'SFaSU':function(_0x5c6340,_0x292018){return _0x5c6340(_0x292018);},'taqGk':_0x476fef(0x220),'sDVsp':function(_0x4360f2,_0x1e990f){return _0x4360f2!==_0x1e990f;},'qakqm':_0x476fef(0x20d)};if(_0x53db8c['SFaSU'](shouldProcessEventForTesthub,_0x53db8c[_0x476fef(0x1f8)]))try{this[_0x476fef(0x294)]['testStepStarted']=this[_0x476fef(0x294)]['testStepStarted']||{},this[_0x476fef(0x294)][_0x476fef(0x277)][_0x561c68[_0x476fef(0x291)]]=_0x561c68;const _0x6bf4d4=_0x561c68[_0x476fef(0x291)],_0x46a30a=_0x1558c7[_0x476fef(0x258)][_0x476fef(0x21e)][_0x6bf4d4][_0x476fef(0x27c)],_0x5a68e7=this[_0x476fef(0x294)][_0x476fef(0x200)][_0x476fef(0x23d)](_0x3a0ee9=>_0x3a0ee9['id']===_0x46a30a)['pickleId'],_0xb63cde=this[_0x476fef(0x294)][_0x476fef(0x24a)][_0x476fef(0x23d)](_0x3fe7bf=>_0x3fe7bf['id']===_0x5a68e7),_0x4f9f5b=this[_0x476fef(0x294)][_0x476fef(0x200)][_0x476fef(0x23d)](_0x58353f=>_0x58353f['id']===_0x46a30a)[_0x476fef(0x224)],_0x20e684=this[_0x476fef(0x294)]['testStepStarted'][_0x6bf4d4][_0x476fef(0x20d)],_0x4bc43c=_0x4f9f5b[_0x476fef(0x23d)](_0x24e736=>_0x24e736['id']===_0x20e684)['pickleStepId'],_0x626b16=_0xb63cde[_0x476fef(0x214)]['find'](_0xb9af13=>_0xb9af13['id']===_0x4bc43c);if(_0x4bc43c&&_tests[_0x46a30a]&&_0x53db8c[_0x476fef(0x230)](_tests[_0x46a30a][_0x53db8c[_0x476fef(0x23f)]],_0x20e684)){_tests[_0x46a30a][_0x53db8c[_0x476fef(0x23f)]]=_0x20e684;const _0x5d9230={};_0x5d9230[_0x476fef(0x214)]=[];const _0x44d885=_tests[_0x46a30a]||_0x5d9230;_0x44d885&&!_0x44d885[_0x476fef(0x214)]&&(_0x44d885[_0x476fef(0x214)]=[]),_0x44d885['steps']['push']({'id':_0x626b16['id'],'text':_0x626b16[_0x476fef(0x259)],'started_at':new Date()[_0x476fef(0x282)]()}),_tests[_0x46a30a]=_0x44d885;}await testObservabilityReporter[_0x476fef(0x218)](this[_0x476fef(0x294)],_0x6bf4d4,_0x53db8c[_0x476fef(0x1f8)],_0x4f9f5b,_0x20e684,_tests[_0x46a30a]);}catch(_0x1647d2){logger[_0x476fef(0x24d)](_0x476fef(0x276)+util[_0x476fef(0x232)](_0x1647d2));}}async['onTestStepFinished'](_0x1fa3d1,_0x119074){const _0x239e37=a6_0x3c5ca6,_0xb21821={'KnhHZ':function(_0x10cbb4,_0x12b6e0){return _0x10cbb4===_0x12b6e0;},'QyjlK':_0x239e37(0x20b),'LtiLT':function(_0x2de7b6,_0x45ad33){return _0x2de7b6(_0x45ad33);},'HpYxp':'HookRunFinished','VLKFu':_0x239e37(0x29a),'YDHto':function(_0xaf6c7d,_0x5488b4){return _0xaf6c7d===_0x5488b4;},'ZxpZr':'UnhandledError','DTliF':_0x239e37(0x20d)};this[_0x239e37(0x294)][_0x239e37(0x1fd)]=this['report'][_0x239e37(0x1fd)]||{},this[_0x239e37(0x294)][_0x239e37(0x1fd)][_0x1fa3d1['testCaseStartedId']]=_0x1fa3d1;if(_0xb21821['LtiLT'](shouldProcessEventForTesthub,_0xb21821[_0x239e37(0x231)]))try{const _0x582037=_0x1fa3d1[_0x239e37(0x291)],_0x4ef591=_0x119074['eventDataCollector']['testCaseAttemptDataMap'][_0x582037]['testCaseId'],_0x2ef548=_0x119074[_0x239e37(0x258)][_0x239e37(0x280)][_0x4ef591],_0x39ea81=_0x2ef548[_0x239e37(0x22f)],_0x41771e=_0x119074['eventDataCollector'][_0x239e37(0x237)][_0x39ea81],_0x1931f5=_0x1fa3d1[_0x239e37(0x20d)],_0x16645b=_0x2ef548[_0x239e37(0x224)],_0xa68130=this[_0x239e37(0x258)][_0x239e37(0x234)](_0x582037),_0x5d94c6=_0x16645b[_0x239e37(0x23d)](_0x5773ce=>_0x5773ce['id']===_0x1931f5)[_0x239e37(0x207)];let _0x448156,_0x13d0e7;_0x1fa3d1[_0x239e37(0x28b)]&&_0xb21821[_0x239e37(0x229)](_0x1fa3d1[_0x239e37(0x28b)][_0x239e37(0x226)][_0x239e37(0x299)]()['toLowerCase'](),_0xb21821['VLKFu'])&&(_0x448156=_0xb21821[_0x239e37(0x229)](_0x1fa3d1['testStepResult']['exception'],undefined)?_0x1fa3d1[_0x239e37(0x28b)][_0x239e37(0x23a)]:_0x1fa3d1[_0x239e37(0x28b)]['exception'][_0x239e37(0x23a)],_0x13d0e7=_0xb21821['YDHto'](_0x1fa3d1[_0x239e37(0x28b)]['exception'],undefined)?_0xb21821[_0x239e37(0x233)]:_0x1fa3d1[_0x239e37(0x28b)][_0x239e37(0x23a)]);await testObservabilityReporter[_0x239e37(0x218)](this[_0x239e37(0x294)],_0x582037,_0xb21821['HpYxp'],_0x16645b,_0x1931f5,_tests[_0x4ef591]);if(_0x5d94c6&&_tests[_0x4ef591][_0xb21821[_0x239e37(0x1f5)]]){const _0x5ddde9=_0x41771e[_0x239e37(0x214)][_0x239e37(0x23d)](_0x39328d=>_0x39328d['id']===_0x5d94c6),_0xcf141e={};_0xcf141e[_0x239e37(0x214)]=[];const _0x1f8d25=_tests[_0x4ef591]||_0xcf141e;!_0x1f8d25['steps']?_0x1f8d25[_0x239e37(0x214)]=[{'id':_0x5ddde9['id'],'text':_0x5ddde9['text'],'finished_at':new Date()[_0x239e37(0x282)](),'result':_0x1fa3d1['testStepResult'][_0x239e37(0x226)],'duration':_0x1fa3d1[_0x239e37(0x28b)][_0x239e37(0x22c)][_0x239e37(0x28d)],'failure':_0x448156,'failureType':_0x13d0e7}]:_0x1f8d25[_0x239e37(0x214)]['forEach'](_0x34b559=>{const _0x5bca10=_0x239e37;if(_0xb21821[_0x5bca10(0x229)](_0x34b559['id'],_0x5ddde9['id'])){const _0x1286e7=_0xb21821[_0x5bca10(0x265)]['split']('|');let _0x3b4c8d=0x0;while(!![]){switch(_0x1286e7[_0x3b4c8d++]){case'0':_0x34b559['failure']=_0x448156;continue;case'1':_0x34b559[_0x5bca10(0x22c)]=_0x1fa3d1[_0x5bca10(0x28b)][_0x5bca10(0x22c)][_0x5bca10(0x28d)];continue;case'2':_0x34b559[_0x5bca10(0x25a)]=_0x13d0e7;continue;case'3':_0x34b559[_0x5bca10(0x24c)]=new Date()[_0x5bca10(0x282)]();continue;case'4':_0x34b559[_0x5bca10(0x264)]=_0x1fa3d1[_0x5bca10(0x28b)][_0x5bca10(0x226)];continue;}break;}}}),_tests[_0x4ef591]=_0x1f8d25,delete _tests[_0x4ef591][_0xb21821['DTliF']];}}catch(_0x576fe7){logger['debug'](_0x239e37(0x206)+util['format'](_0x576fe7));}}['getGherkinStepMap'](_0x314bd0){const _0xa63868=a6_0x3c5ca6,_0x48fecc={};return _0x314bd0[_0xa63868(0x223)][_0xa63868(0x22a)]['map'](this['extractStepContainers'])['flat']()[_0xa63868(0x211)](_0xeb1ffc=>_0xeb1ffc[_0xa63868(0x214)][_0xa63868(0x211)](_0x1562c6=>_0x48fecc[_0x1562c6['id']]=_0x1562c6)),_0x48fecc;}[a6_0x3c5ca6(0x267)](_0x4492dc){const _0x139161=a6_0x3c5ca6,_0x2cff47={'xDZWz':function(_0x2c9d65,_0x10e183){return _0x2c9d65(_0x10e183);}};if(!_0x2cff47[_0x139161(0x26e)](isUndefined,_0x4492dc[_0x139161(0x23e)]))return[_0x4492dc[_0x139161(0x23e)]];else{if(!_0x2cff47[_0x139161(0x26e)](isUndefined,_0x4492dc[_0x139161(0x263)]))return _0x4492dc[_0x139161(0x263)]['children'][_0x139161(0x205)](_0x4d4846=>!isUndefined(_0x4d4846[_0x139161(0x23e)])?_0x4d4846[_0x139161(0x23e)]:_0x4d4846[_0x139161(0x25c)]);};return[_0x4492dc[_0x139161(0x25c)]];}[a6_0x3c5ca6(0x287)](_0x360042,_0x25dc1b){const _0x3507ec=a6_0x3c5ca6;return Object[_0x3507ec(0x21c)](_0x360042[_0x3507ec(0x258)][_0x3507ec(0x298)])[_0x3507ec(0x23d)](_0x22843a=>_0x22843a[_0x3507ec(0x278)]===_0x25dc1b[_0x3507ec(0x278)]);}}function a6_0x19d0(_0x5261c2,_0x3a833d){const _0x1b7ec5=a6_0x1b7e();return a6_0x19d0=function(_0x19d053,_0x1dba12){_0x19d053=_0x19d053-0x1f4;let _0x350355=_0x1b7ec5[_0x19d053];return _0x350355;},a6_0x19d0(_0x5261c2,_0x3a833d);}module['exports']=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x3c5ca6(0x202),'onTestCaseFinished',a6_0x3c5ca6(0x252),a6_0x3c5ca6(0x255),'onTestRunStarted','onTestRunFinished',a6_0x3c5ca6(0x267),'getGherkinDocument','getGherkinStepMap']);