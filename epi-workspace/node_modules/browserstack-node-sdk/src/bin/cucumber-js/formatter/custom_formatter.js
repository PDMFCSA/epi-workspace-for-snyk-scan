const a6_0x4cddcd=a6_0x3bd7;(function(_0x528325,_0x10775f){const _0x259110=a6_0x3bd7,_0x3ba0d3=_0x528325();while(!![]){try{const _0xc5330d=-parseInt(_0x259110(0x196))/0x1*(parseInt(_0x259110(0x1d5))/0x2)+-parseInt(_0x259110(0x1ee))/0x3*(parseInt(_0x259110(0x1a8))/0x4)+-parseInt(_0x259110(0x1a9))/0x5*(parseInt(_0x259110(0x16b))/0x6)+parseInt(_0x259110(0x186))/0x7*(parseInt(_0x259110(0x246))/0x8)+parseInt(_0x259110(0x228))/0x9*(parseInt(_0x259110(0x22e))/0xa)+parseInt(_0x259110(0x18d))/0xb+-parseInt(_0x259110(0x17a))/0xc*(parseInt(_0x259110(0x1d0))/0xd);if(_0xc5330d===_0x10775f)break;else _0x3ba0d3['push'](_0x3ba0d3['shift']());}catch(_0xe86beb){_0x3ba0d3['push'](_0x3ba0d3['shift']());}}}(a6_0x1b93,0x24915));function a6_0x1b93(){const _0x35cc6f=['PLAYWRIGHT','PRE','seconds','../../../helpers/helper','PgWmt','../test-observability.js','description','SxrnH','testCaseAttempt','testCaseStartedId','htXDA','BROWSERSTACK_CLI_BIN_SESSION_ID','HookRunStarted','nAESo','getTestFramework','onTestRunFinished','push','getInstance','onPickle','source','hook_type','../../v2/state/hookState.js','assign','pickleMap','CONFIG','capability','testStepId','AMBIGUOUS','\x20-\x20','EgJQT','testCase','bzTQY','getTestUUID','includes','trackEvent','onTestCaseStarted','sHzSz','testSteps','\x20\x20\x20\x20','hooks','PASSED','../../../helpers/testhub/utils.js','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','hook','finished_at','137475UNlCZT','failure','isBstackHook','eventDataCollector','__platform','onTestStepStarted','130iCFZRU','owQFv','toISOString','flat','erfnx','envelope','LRvxD','getTestCaseAttempt','status','split','sourceLocation','setup','../../utils/constants','gherkinDocument','uri','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','logTestRunFinished','testRunFinished','eventBroadcaster','ythgT','HookRunFinished','wnNzz','grajr','onTestCase','224auUYGZ','finishedAt','logTestCaseFinished','BHmrL','UNDEFINED','293142tXDwZu','report','onGherkinDocument','PENDING','wLAvY','pickle','parseTestCaseAttempt','onTestStepFinished','result','oyVav','onTestRunStarted','snippetBuilder','../../../helpers/logger','steps','format','12idCGfL','toLowerCase','SKIPPED','actionLocation','getGherkinDocument','gherkinDocumentMap','background','find','cucumber','testStepStarted','values','arHWG','16359JmvNrf','LOG_REPORT','sendHook','testCases','../../v2/cliUtils',',\x20binSessionId:\x20','setFrameworkDetail','729432kcBDkP','duration','OHaCX','OwSjB','msiIs','winstonLogger','BGnMc','exports','testUUID','95hpWoiJ','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','testCaseFinished','TEST','env','Exception\x20in\x20onTestStepStarted\x20event:\x20','ZdkQK','yvJso','pickleId','testStepFinished','isCliEnabled','name','../../v2/browserstackCLI.js','ensureCLIInitialized','pickleStepId','POST','text','onSource','116ukSgda','5WZsFLr','jzNEI','EWupE','failed','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','dPxFc','testRunStarted','scenario','log','../../v2/state/testFrameworkState.js','toString','children','incrementCounter','csPKN','sendTestRunEventForCucumber','feature','INIT_TEST','qiJWd','gqVvf','onRMJ','forEach','onHook','tmgGj','llvOJ','onStepDefinition','isRunning','type','CLI\x20already\x20running\x20-\x20binSessionId:\x20','isCLIReady','testCaseAttemptDataMap','debug','extractStepContainers','gtnon','testCaseId','testStepResult','IFAtn','zRuHg','RtoxD','../../../helpers/test-observability/error-handler','480467aJkVnJ','createTestFrameworkData','_performCLIInitialization','rule','supportCodeLibrary','902LKOGol','parse','zpnju','fmkbM','bootstrap','cucumber-js/test.setup.js','bstack','testCaseStarted','message','BnsNA','FAILED','Exception\x20in\x20onTestStepFinished\x20event:\x20','createHookData','fIZcV','oZecJ','nIgAc','test','nrjAZ','HWPlZ','stepDefinition','exception','path','aOtEl','@cucumber/cucumber','../../../bin/v2/TestInfo.js','5367HCSzcL','onTestCaseFinished','cwd','getGherkinStepMap','YrGmM','testCaseMap','UNKNOWN','jvEiG','binSessionId','VaTgo','cliInitPromise','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','map'];a6_0x1b93=function(){return _0x35cc6f;};return a6_0x1b93();}function a6_0x3bd7(_0x35c07b,_0x56bd90){const _0x1b93a8=a6_0x1b93();return a6_0x3bd7=function(_0x3bd77a,_0x5cb4f6){_0x3bd77a=_0x3bd77a-0x168;let _0x24b4c0=_0x1b93a8[_0x3bd77a];return _0x24b4c0;},a6_0x3bd7(_0x35c07b,_0x56bd90);}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x4cddcd(0x1fe)),util=require('util'),{Formatter,formatterHelpers,Status}=requireModule(a6_0x4cddcd(0x1ec)),TestDetails=require('../../playwright/reporter/test-details.js'),TestObservabilityReporter=require(a6_0x4cddcd(0x200)),{o11yClassErrorHandler}=require(a6_0x4cddcd(0x1cf)),{shouldProcessEventForTesthub}=require(a6_0x4cddcd(0x224)),BrowserstackCLI=require(a6_0x4cddcd(0x1a2)),TestFrameworkState=require(a6_0x4cddcd(0x1b2)),HookState=require(a6_0x4cddcd(0x210)),CucumberUtils=require('../../v2/utils/cucumber-utils.js'),TestInfo=require(a6_0x4cddcd(0x1ed)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x4cddcd(0x177))[a6_0x4cddcd(0x192)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x56a7e3){const _0x127795=a6_0x4cddcd,_0x1f0e4a={};_0x1f0e4a[_0x127795(0x1e2)]=_0x127795(0x233);const _0x1eda7e=_0x1f0e4a;super(_0x56a7e3),this[_0x127795(0x16c)]={},_0x56a7e3[_0x127795(0x240)]['on'](_0x1eda7e[_0x127795(0x1e2)],async _0x587629=>{const _0x279aad=_0x127795;switch(!![]){case!!_0x587629[_0x279aad(0x1af)]:this[_0x279aad(0x175)](_0x587629[_0x279aad(0x1af)]);break;case!!_0x587629[_0x279aad(0x23f)]:this[_0x279aad(0x20a)](_0x587629['testRunFinished']);break;case!!_0x587629['testCaseStarted']:this[_0x279aad(0x21e)](_0x587629['testCaseStarted'],_0x56a7e3,_0x587629);break;case!!_0x587629['testCaseFinished']:this[_0x279aad(0x1ef)](_0x587629[_0x279aad(0x198)],_0x56a7e3,_0x587629);break;case!!_0x587629['testStepStarted']:this[_0x279aad(0x22d)](_0x587629[_0x279aad(0x183)],_0x56a7e3);break;case!!_0x587629[_0x279aad(0x19f)]:this[_0x279aad(0x172)](_0x587629[_0x279aad(0x19f)],_0x56a7e3);break;case!!_0x587629[_0x279aad(0x226)]:this[_0x279aad(0x1be)](_0x587629['hook']);break;case!!_0x587629[_0x279aad(0x219)]:this['onTestCase'](_0x587629[_0x279aad(0x219)]);break;case!!_0x587629[_0x279aad(0x170)]:this[_0x279aad(0x20d)](_0x587629['pickle']);break;case!!_0x587629[_0x279aad(0x23b)]:this['onGherkinDocument'](_0x587629[_0x279aad(0x23b)]);break;}});}['onHook'](_0x279940){const _0x2a4361=a6_0x4cddcd;this['report'][_0x2a4361(0x222)]=Object[_0x2a4361(0x211)]([],this['report'][_0x2a4361(0x222)]||[]),this[_0x2a4361(0x16c)][_0x2a4361(0x222)][_0x2a4361(0x20b)](_0x279940);}[a6_0x4cddcd(0x20d)](_0x2a353c){const _0xe32ce1=a6_0x4cddcd;this[_0xe32ce1(0x16c)][_0xe32ce1(0x170)]=Object['assign']([],this['report'][_0xe32ce1(0x170)]||[],[_0x2a353c]),this[_0xe32ce1(0x16c)][_0xe32ce1(0x170)][_0xe32ce1(0x20b)](_0x2a353c);}[a6_0x4cddcd(0x16d)](_0x170899){const _0x3d57c9=a6_0x4cddcd;this[_0x3d57c9(0x16c)][_0x3d57c9(0x23b)]=Object['assign']([],this['report'][_0x3d57c9(0x23b)]||[],[_0x170899]),this['report'][_0x3d57c9(0x23b)]['push'](_0x170899);}[a6_0x4cddcd(0x1a7)](_0x59dc3d){const _0x44ac20=a6_0x4cddcd;this[_0x44ac20(0x16c)][_0x44ac20(0x20e)]=_0x59dc3d;}[a6_0x4cddcd(0x1c1)](_0x69a59e){const _0x5c56cc=a6_0x4cddcd;this[_0x5c56cc(0x16c)][_0x5c56cc(0x1e8)]=Object[_0x5c56cc(0x211)]([],this[_0x5c56cc(0x16c)][_0x5c56cc(0x1e8)]||[],[_0x69a59e]),this['report']['stepDefinition']['push'](_0x69a59e);}[a6_0x4cddcd(0x245)](_0x359ee0){const _0x2ca5a3=a6_0x4cddcd;this[_0x2ca5a3(0x16c)][_0x2ca5a3(0x189)]=Object['assign']([],this[_0x2ca5a3(0x16c)][_0x2ca5a3(0x189)]||[],[_0x359ee0]),this[_0x2ca5a3(0x16c)][_0x2ca5a3(0x189)][_0x2ca5a3(0x20b)](_0x359ee0);}[a6_0x4cddcd(0x168)](_0x405a82){const _0x2a26fe=a6_0x4cddcd,_0x1eaaea={'aOtEl':function(_0x498f80,_0x4cd216){return _0x498f80!==_0x4cd216;},'OHaCX':_0x2a26fe(0x1db),'OwSjB':function(_0x36aa6d,_0x3d0616){return _0x36aa6d+_0x3d0616;},'tmgGj':_0x2a26fe(0x221),'bzTQY':_0x2a26fe(0x217),'SxrnH':function(_0xd8930f,_0x469368){return _0xd8930f===_0x469368;},'YrGmM':_0x2a26fe(0x1df),'dPxFc':function(_0x5e2227,_0x5f01d9,_0x474f35){return _0x5e2227(_0x5f01d9,_0x474f35);},'arHWG':'result','BHmrL':'message','ugzQU':function(_0x3375ef,_0x372457){return _0x3375ef+_0x372457;},'BGnMc':function(_0x3c94fd,_0x24acdd){return _0x3c94fd+_0x24acdd;},'ythgT':function(_0x39f125,_0x3e525b){return _0x39f125+_0x3e525b;},'QOdFl':function(_0x38587e,_0x284ba2){return _0x38587e+_0x284ba2;},'qiJWd':function(_0x5b04db,_0x5a1b3b){return _0x5b04db+_0x5a1b3b;}};_0x1eaaea[_0x2a26fe(0x1eb)](global[_0x2a26fe(0x22c)],undefined)&&this[_0x2a26fe(0x1b1)](_0x1eaaea['OwSjB'](_0x1eaaea['OwSjB']('\x0a',global[_0x2a26fe(0x22c)]),'\x0a'));const _0x2ce97f=this['eventDataCollector'][_0x2a26fe(0x235)](_0x405a82[_0x2a26fe(0x204)]);this['log'](_0x1eaaea[_0x2a26fe(0x241)](_0x1eaaea['QOdFl'](_0x1eaaea[_0x2a26fe(0x193)](_0x1eaaea[_0x2a26fe(0x1ba)]('\x20\x20',_0x2ce97f[_0x2a26fe(0x23b)][_0x2a26fe(0x1b8)][_0x2a26fe(0x1a1)]),_0x1eaaea['bzTQY']),_0x2ce97f[_0x2a26fe(0x170)][_0x2a26fe(0x1a1)]),'\x0a'));const _0x44659b={};_0x44659b[_0x2a26fe(0x1f0)]=this[_0x2a26fe(0x1f0)],_0x44659b[_0x2a26fe(0x176)]=this['snippetBuilder'],_0x44659b[_0x2a26fe(0x1d4)]=this[_0x2a26fe(0x1d4)],_0x44659b[_0x2a26fe(0x203)]=_0x2ce97f;const _0xa08e76=formatterHelpers[_0x2a26fe(0x171)](_0x44659b);let _0x7c42bc=![];_0xa08e76[_0x2a26fe(0x220)][_0x2a26fe(0x1bd)](_0x226916=>{const _0x55cb77=_0x2a26fe;if(_0x1eaaea[_0x55cb77(0x1eb)](_0x226916[_0x55cb77(0x1a1)],_0x1eaaea[_0x55cb77(0x18f)])&&!this[_0x55cb77(0x22a)](_0x226916)){totalTests+=0x1,this[_0x55cb77(0x1b1)](_0x1eaaea[_0x55cb77(0x190)](_0x1eaaea[_0x55cb77(0x190)](_0x1eaaea[_0x55cb77(0x190)](_0x1eaaea['OwSjB'](_0x1eaaea[_0x55cb77(0x190)](_0x1eaaea[_0x55cb77(0x1bf)],_0x226916['keyword']),_0x226916[_0x55cb77(0x1a6)]||''),_0x1eaaea[_0x55cb77(0x21a)]),Status[_0x226916[_0x55cb77(0x173)][_0x55cb77(0x236)]]),'\x0a')),this[_0x55cb77(0x1b5)](Status[_0x226916[_0x55cb77(0x173)][_0x55cb77(0x236)]]);if(_0x1eaaea[_0x55cb77(0x202)](Status[_0x226916[_0x55cb77(0x173)][_0x55cb77(0x236)]],_0x1eaaea[_0x55cb77(0x1f2)])){_0x7c42bc=!![];const _0x3db484=_0x1eaaea[_0x55cb77(0x1ae)](nestedKeyValue,_0x226916,[_0x1eaaea[_0x55cb77(0x185)],_0x1eaaea[_0x55cb77(0x169)]]);_0x3db484&&(testsErrorMessage[_0x1eaaea[_0x55cb77(0x190)](_0x1eaaea['ugzQU'](_0x2ce97f['gherkinDocument']['feature'][_0x55cb77(0x1a1)],_0x1eaaea[_0x55cb77(0x21a)]),_0x2ce97f[_0x55cb77(0x170)][_0x55cb77(0x1a1)])]=_0x3db484,this['log'](_0x1eaaea['BGnMc'](_0x3db484,'\x0a')));}}}),_0x7c42bc&&(testSuitesFailed+=0x1),this[_0x2a26fe(0x1b1)]('\x0a');}['logTestRunFinished'](_0x4caca4){}[a6_0x4cddcd(0x22a)](_0x1891a7){const _0xe73793=a6_0x4cddcd,_0x29c98e={};_0x29c98e[_0xe73793(0x244)]=function(_0x1ff247,_0x6ab457){return _0x1ff247!==_0x6ab457;},_0x29c98e[_0xe73793(0x191)]=_0xe73793(0x1da);const _0x2bc759=_0x29c98e;if(_0x2bc759['grajr'](_0x1891a7[_0xe73793(0x238)],undefined))return![];if(_0x1891a7[_0xe73793(0x17d)]&&_0x1891a7[_0xe73793(0x17d)][_0xe73793(0x23c)][_0xe73793(0x21c)](_0x2bc759[_0xe73793(0x191)]))return!![];return![];}[a6_0x4cddcd(0x1b5)](_0x5a7993){const _0x2e5494=a6_0x4cddcd,_0x447727={};_0x447727['erfnx']=_0x2e5494(0x1df),_0x447727[_0x2e5494(0x1f7)]=_0x2e5494(0x223),_0x447727['wLAvY']=_0x2e5494(0x17c),_0x447727[_0x2e5494(0x1b6)]=_0x2e5494(0x16e),_0x447727[_0x2e5494(0x1de)]=_0x2e5494(0x16a),_0x447727['bNELn']=_0x2e5494(0x1f4),_0x447727['yvJso']=_0x2e5494(0x216);const _0x470275=_0x447727;switch(_0x5a7993){case _0x470275[_0x2e5494(0x232)]:testsFailed+=0x1;break;case _0x470275[_0x2e5494(0x1f7)]:testsPassed+=0x1;break;case _0x470275[_0x2e5494(0x16f)]:testsSkipped+=0x1;break;case _0x470275[_0x2e5494(0x1b6)]:testsPending+=0x1;break;case _0x470275[_0x2e5494(0x1de)]:testsUndefined+=0x1;break;case _0x470275['bNELn']:testsUnknown+=0x1;break;case _0x470275[_0x2e5494(0x19d)]:testsAmbiguous+=0x1;break;default:break;}}async[a6_0x4cddcd(0x175)](_0x38ed7d){const _0x4b6b52=a6_0x4cddcd,_0x2e1e57={'owQFv':function(_0x2057c5,_0x433926){return _0x2057c5!==_0x433926;},'LRvxD':function(_0x21b42c){return _0x21b42c();},'fmdhk':function(_0x41863d,_0xa1f7b1){return _0x41863d(_0xa1f7b1);},'sHzSz':function(_0x173981,_0x1d818e){return _0x173981+_0x1d818e;},'gqVvf':function(_0x1a9a61){return _0x1a9a61();},'htXDA':_0x4b6b52(0x182)};let _0x492384;if(_0x2e1e57[_0x4b6b52(0x22f)](process[_0x4b6b52(0x19a)][_0x4b6b52(0x213)],undefined)){const _0x45f003=JSON[_0x4b6b52(0x1d6)](process[_0x4b6b52(0x19a)][_0x4b6b52(0x213)]);_0x492384=_0x45f003[_0x4b6b52(0x214)];}_0x2e1e57[_0x4b6b52(0x22f)](_0x492384,undefined)&&_0x2e1e57[_0x4b6b52(0x234)](isBrowserstackInfra)&&(global[_0x4b6b52(0x22c)]=_0x2e1e57['fmdhk'](getPlatformName,_0x492384),this['log'](_0x2e1e57[_0x4b6b52(0x21f)]('Executing\x20tests\x20for\x20'+global[_0x4b6b52(0x22c)],'\x0a'))),_0x2e1e57[_0x4b6b52(0x1bb)](shouldProcessEventForTesthub)&&(TestDetails[_0x4b6b52(0x239)](),this['report'][_0x4b6b52(0x1af)]=_0x38ed7d,BrowserstackCLI['getInstance']()[_0x4b6b52(0x1a0)]()&&await this['isCLIReady']()&&(TestInfo['setup'](_0x2e1e57[_0x4b6b52(0x205)]),await BrowserstackCLI[_0x4b6b52(0x20c)]()[_0x4b6b52(0x209)]()[_0x4b6b52(0x21d)](TestFrameworkState[_0x4b6b52(0x1b9)],HookState[_0x4b6b52(0x1fc)],{})));}['onTestRunFinished'](_0x35528d){const _0x2a6c92=a6_0x4cddcd;this[_0x2a6c92(0x16c)][_0x2a6c92(0x23f)]=_0x35528d,this[_0x2a6c92(0x23e)](_0x35528d);}async[a6_0x4cddcd(0x21e)](_0x487eca,_0x4f4dd3,_0xc41857){const _0x20bfe2=a6_0x4cddcd,_0x4b29eb={'jzNEI':function(_0x3eeebb,_0x2db9ed){return _0x3eeebb(_0x2db9ed);},'zRuHg':'TestRunStarted','onRMJ':function(_0x3279f1,_0x28dfd4){return _0x3279f1&&_0x28dfd4;}};testSuites+=0x1;if(_0x4b29eb[_0x20bfe2(0x1aa)](shouldProcessEventForTesthub,_0x4b29eb['zRuHg']))try{this[_0x20bfe2(0x16c)][_0x20bfe2(0x1dc)]=this[_0x20bfe2(0x16c)][_0x20bfe2(0x1dc)]||{},this[_0x20bfe2(0x16c)][_0x20bfe2(0x1dc)][_0x487eca['id']]=_0x487eca;let _0x2ad2cb=null;BrowserstackCLI[_0x20bfe2(0x20c)]()[_0x20bfe2(0x1a0)]()&&await this[_0x20bfe2(0x1c5)]()?_0x2ad2cb=TestInfo['getTestUUID'](_0x487eca['id']):_0x2ad2cb=TestDetails[_0x20bfe2(0x21b)](_0x487eca['id']);_testCasesData[_0x487eca['id']]=Object['assign']({},_0xc41857);const _0x30849a=this['report'],_0x32b1ac=_0x487eca[_0x20bfe2(0x1ca)],_0x2e207b=_0x30849a[_0x20bfe2(0x189)][_0x20bfe2(0x181)](_0x47a45f=>_0x47a45f['id']===_0x32b1ac)[_0x20bfe2(0x19e)],_0x4a85c6=_0x30849a['pickle']['find'](_0x49922f=>_0x49922f['id']===_0x2e207b),_0x4e9205=_0x30849a[_0x20bfe2(0x23b)]['find'](_0x4b6a23=>_0x4b6a23[_0x20bfe2(0x23c)]===_0x4a85c6[_0x20bfe2(0x23c)]),_0xc34d93=_0x4e9205[_0x20bfe2(0x1b8)],_0x5b7fa2={'uuid':_0x2ad2cb,'startedAt':new Date()[_0x20bfe2(0x230)]()};if(_0x4a85c6){const _0x57b673={};_0x57b673[_0x20bfe2(0x1a1)]=_0x4a85c6[_0x20bfe2(0x1a1)],_0x5b7fa2[_0x20bfe2(0x1b0)]=_0x57b673;}if(_0x4b29eb[_0x20bfe2(0x1bc)](_0x4e9205,_0xc34d93)){const _0x10e42d={};_0x10e42d[_0x20bfe2(0x1ea)]=_0x4e9205['uri'],_0x10e42d[_0x20bfe2(0x1a1)]=_0xc34d93[_0x20bfe2(0x1a1)],_0x10e42d[_0x20bfe2(0x201)]=_0xc34d93[_0x20bfe2(0x201)],_0x5b7fa2['feature']=_0x10e42d;}_tests[_0x32b1ac]=_0x5b7fa2;if(BrowserstackCLI[_0x20bfe2(0x20c)]()[_0x20bfe2(0x1a0)]()&&await this[_0x20bfe2(0x1c5)]()){const _0x46a2c8=await cucumberUtils[_0x20bfe2(0x1d1)](_0x5b7fa2,_0x4a85c6,_0xc41857,_0x4e9205,_0x487eca['id'],_0x4b29eb[_0x20bfe2(0x1cd)]),_0x1cf0a5={};_0x1cf0a5[_0x20bfe2(0x1e5)]=_0x46a2c8,await BrowserstackCLI[_0x20bfe2(0x20c)]()[_0x20bfe2(0x209)]()[_0x20bfe2(0x21d)](TestFrameworkState[_0x20bfe2(0x199)],HookState['PRE'],_0x1cf0a5);return;}await testObservabilityReporter['sendTestRunEventForCucumber'](_0xc41857,_0x4e9205,_0x4a85c6,_0x4b29eb[_0x20bfe2(0x1cd)],_0x5b7fa2);}catch(_0x3df973){logger['debug']('Exception\x20in\x20sending\x20onTestCaseStarted:\x20'+util[_0x20bfe2(0x179)](_0x3df973)+'\x20');}}async[a6_0x4cddcd(0x1ef)](_0x2c9167,_0x1e23fd,_0x476d95){const _0x2b5ffe=a6_0x4cddcd,_0x3b6cdb={'nrjAZ':function(_0xcca81a,_0x2efa88){return _0xcca81a(_0x2efa88);},'jvEiG':'TestRunFinished','zpnju':_0x2b5ffe(0x1e5)};this[_0x2b5ffe(0x168)](_0x2c9167);if(_0x3b6cdb[_0x2b5ffe(0x1e6)](shouldProcessEventForTesthub,_0x3b6cdb[_0x2b5ffe(0x1f5)]))try{this[_0x2b5ffe(0x16c)][_0x2b5ffe(0x198)]=this[_0x2b5ffe(0x16c)][_0x2b5ffe(0x198)]||{},this[_0x2b5ffe(0x16c)][_0x2b5ffe(0x198)][_0x2c9167[_0x2b5ffe(0x204)]]=_0x2c9167,_testCasesData[_0x476d95['id']]=Object['assign']({},_0x476d95);const _0x3e4218=_0x2c9167[_0x2b5ffe(0x204)],_0x2e0cbd=_0x1e23fd['eventDataCollector']['testCaseAttemptDataMap'][_0x3e4218][_0x2b5ffe(0x1ca)],_0x2e3eec=_0x1e23fd['eventDataCollector'][_0x2b5ffe(0x1f3)][_0x2e0cbd],_0x59730a=_0x2e3eec[_0x2b5ffe(0x19e)],_0xf5472d=_0x1e23fd[_0x2b5ffe(0x22b)][_0x2b5ffe(0x212)][_0x59730a],_0x545d47=this[_0x2b5ffe(0x17e)](_0x1e23fd,_0xf5472d),_0x247b47=_0x545d47[_0x2b5ffe(0x1b8)],_0x5c5069=_tests[_0x2e0cbd];_0x5c5069&&(delete _tests[_0x2e0cbd],_0x5c5069[_0x2b5ffe(0x247)]=new Date()['toISOString']());if(BrowserstackCLI['getInstance']()['isCliEnabled']()&&await this[_0x2b5ffe(0x1c5)]()){const _0x3f74b4=await cucumberUtils[_0x2b5ffe(0x1d1)](_0x5c5069,_0xf5472d,_0x476d95,_0x545d47,_0x3e4218,_0x3b6cdb[_0x2b5ffe(0x1f5)]),_0x319af9={};_0x319af9[_0x2b5ffe(0x1e5)]=_0x3f74b4,await BrowserstackCLI[_0x2b5ffe(0x20c)]()[_0x2b5ffe(0x209)]()[_0x2b5ffe(0x21d)](TestFrameworkState['TEST'],HookState['POST'],_0x319af9);const _0x5de003={};_0x5de003['testUUID']=_0x2c9167[_0x2b5ffe(0x204)],_0x5de003[_0x2b5ffe(0x1c3)]=_0x3b6cdb[_0x2b5ffe(0x1d7)],await BrowserstackCLI[_0x2b5ffe(0x20c)]()[_0x2b5ffe(0x209)]()[_0x2b5ffe(0x21d)](TestFrameworkState['LOG_REPORT'],HookState[_0x2b5ffe(0x1a5)],_0x5de003);return;}await testObservabilityReporter[_0x2b5ffe(0x1b7)](_0x476d95,_0x545d47,_0xf5472d,_0x3b6cdb[_0x2b5ffe(0x1f5)],_0x5c5069);}catch(_0x2229af){logger[_0x2b5ffe(0x1c7)]('Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20'+util[_0x2b5ffe(0x179)](_0x2229af));}}async[a6_0x4cddcd(0x22d)](_0x395d14,_0x4afdfb){const _0xfa5a23=a6_0x4cddcd,_0x5df544={'wnNzz':function(_0x406eb1,_0x3220c4){return _0x406eb1(_0x3220c4);},'EWupE':_0xfa5a23(0x207),'ECzYw':function(_0x9e6cf3,_0x550b72){return _0x9e6cf3!==_0x550b72;},'HWPlZ':_0xfa5a23(0x215)};if(_0x5df544[_0xfa5a23(0x243)](shouldProcessEventForTesthub,_0x5df544['EWupE']))try{this['report'][_0xfa5a23(0x183)]=this[_0xfa5a23(0x16c)][_0xfa5a23(0x183)]||{},this[_0xfa5a23(0x16c)][_0xfa5a23(0x183)][_0x395d14['testCaseStartedId']]=_0x395d14;const _0x48e5dc=_0x395d14['testCaseStartedId'],_0xbb7ceb=_0x4afdfb[_0xfa5a23(0x22b)]['testCaseAttemptDataMap'][_0x48e5dc][_0xfa5a23(0x1ca)],_0xc0b690=this[_0xfa5a23(0x16c)][_0xfa5a23(0x189)]['find'](_0x2eebda=>_0x2eebda['id']===_0xbb7ceb)[_0xfa5a23(0x19e)],_0x57d96b=this['report']['pickle'][_0xfa5a23(0x181)](_0x1719ed=>_0x1719ed['id']===_0xc0b690),_0x3d8f1f=this[_0xfa5a23(0x16c)][_0xfa5a23(0x189)][_0xfa5a23(0x181)](_0x18db38=>_0x18db38['id']===_0xbb7ceb)['testSteps'],_0x5e54ac=this[_0xfa5a23(0x16c)]['testStepStarted'][_0x48e5dc]['testStepId'],_0x270814=_0x3d8f1f['find'](_0x1f3137=>_0x1f3137['id']===_0x5e54ac)['pickleStepId'],_0x40c97a=_0x57d96b[_0xfa5a23(0x178)][_0xfa5a23(0x181)](_0x3dda00=>_0x3dda00['id']===_0x270814);if(_0x270814&&_tests[_0xbb7ceb]&&_0x5df544['ECzYw'](_tests[_0xbb7ceb][_0x5df544[_0xfa5a23(0x1e7)]],_0x5e54ac)){_tests[_0xbb7ceb][_0x5df544['HWPlZ']]=_0x5e54ac;const _0x36e86a={};_0x36e86a[_0xfa5a23(0x178)]=[];const _0x497239=_tests[_0xbb7ceb]||_0x36e86a;_0x497239&&!_0x497239[_0xfa5a23(0x178)]&&(_0x497239[_0xfa5a23(0x178)]=[]),_0x497239[_0xfa5a23(0x178)]['push']({'id':_0x40c97a['id'],'text':_0x40c97a[_0xfa5a23(0x1a6)],'started_at':new Date()['toISOString']()}),_tests[_0xbb7ceb]=_0x497239;}if(BrowserstackCLI['getInstance']()[_0xfa5a23(0x1a0)]()&&await this[_0xfa5a23(0x1c5)]()){const _0x20d1e0=await cucumberUtils['createHookData'](this[_0xfa5a23(0x16c)],_0x48e5dc,_0x5df544[_0xfa5a23(0x1ab)],_0x3d8f1f,_0x5e54ac,_tests[_0xbb7ceb]);_0x20d1e0&&await BrowserstackCLI['getInstance']()[_0xfa5a23(0x209)]()[_0xfa5a23(0x21d)](TestFrameworkState[_0x20d1e0[_0xfa5a23(0x20f)]],HookState[_0xfa5a23(0x1fc)],{'hookData':_0x20d1e0,'testUUID':_0x395d14[_0xfa5a23(0x204)]});return;}await testObservabilityReporter['sendHook'](this['report'],_0x48e5dc,_0x5df544[_0xfa5a23(0x1ab)],_0x3d8f1f,_0x5e54ac,_tests[_0xbb7ceb]);}catch(_0x15e0bc){logger[_0xfa5a23(0x1c7)](_0xfa5a23(0x19b)+util[_0xfa5a23(0x179)](_0x15e0bc));}}async['onTestStepFinished'](_0x415c37,_0x483495){const _0x24cccd=a6_0x4cddcd,_0x15dd69={'PgWmt':function(_0x455a48,_0x4abddc){return _0x455a48===_0x4abddc;},'llvOJ':'2|4|1|0|3','EyLDk':function(_0x187264,_0x837451){return _0x187264(_0x837451);},'ZdkQK':_0x24cccd(0x242),'gtnon':_0x24cccd(0x1ac),'RGsHu':function(_0x4d546b,_0x26bfd4){return _0x4d546b===_0x26bfd4;},'EgJQT':'UnhandledError','oyVav':_0x24cccd(0x215),'oZecJ':'HookRunStarted','RtoxD':_0x24cccd(0x226)};this['report'][_0x24cccd(0x19f)]=this[_0x24cccd(0x16c)]['testStepFinished']||{},this[_0x24cccd(0x16c)]['testStepFinished'][_0x415c37[_0x24cccd(0x204)]]=_0x415c37;if(_0x15dd69['EyLDk'](shouldProcessEventForTesthub,_0x15dd69[_0x24cccd(0x19c)]))try{const _0x5b4b29=_0x415c37['testCaseStartedId'],_0x1b708f=_0x483495[_0x24cccd(0x22b)][_0x24cccd(0x1c6)][_0x5b4b29]['testCaseId'],_0x5c4f9b=_0x483495[_0x24cccd(0x22b)][_0x24cccd(0x1f3)][_0x1b708f],_0x5d6872=_0x5c4f9b[_0x24cccd(0x19e)],_0x15a930=_0x483495[_0x24cccd(0x22b)][_0x24cccd(0x212)][_0x5d6872],_0x251066=_0x415c37['testStepId'],_0x14b8ce=_0x5c4f9b[_0x24cccd(0x220)],_0xc99a7d=this['eventDataCollector'][_0x24cccd(0x235)](_0x5b4b29),_0x6b1a0c=_0x14b8ce[_0x24cccd(0x181)](_0x46577e=>_0x46577e['id']===_0x251066)[_0x24cccd(0x1a4)];let _0x2b8cf2,_0x46767b;_0x415c37['testStepResult']&&_0x15dd69[_0x24cccd(0x1ff)](_0x415c37[_0x24cccd(0x1cb)][_0x24cccd(0x236)][_0x24cccd(0x1b3)]()[_0x24cccd(0x17b)](),_0x15dd69[_0x24cccd(0x1c9)])&&(_0x2b8cf2=_0x15dd69['PgWmt'](_0x415c37['testStepResult'][_0x24cccd(0x1e9)],undefined)?_0x415c37[_0x24cccd(0x1cb)][_0x24cccd(0x1dd)]:_0x415c37[_0x24cccd(0x1cb)][_0x24cccd(0x1e9)]['message'],_0x46767b=_0x15dd69['RGsHu'](_0x415c37['testStepResult'][_0x24cccd(0x1e9)],undefined)?_0x15dd69[_0x24cccd(0x218)]:_0x415c37['testStepResult'][_0x24cccd(0x1dd)]);if(_0x6b1a0c&&_tests[_0x1b708f][_0x15dd69[_0x24cccd(0x174)]]){const _0x3654d4=_0x15a930[_0x24cccd(0x178)][_0x24cccd(0x181)](_0x16b832=>_0x16b832['id']===_0x6b1a0c),_0x2df1fa={};_0x2df1fa[_0x24cccd(0x178)]=[];const _0x5b89ae=_tests[_0x1b708f]||_0x2df1fa;!_0x5b89ae[_0x24cccd(0x178)]?_0x5b89ae[_0x24cccd(0x178)]=[{'id':_0x3654d4['id'],'text':_0x3654d4[_0x24cccd(0x1a6)],'finished_at':new Date()[_0x24cccd(0x230)](),'result':_0x415c37[_0x24cccd(0x1cb)]['status'],'duration':_0x415c37['testStepResult'][_0x24cccd(0x18e)][_0x24cccd(0x1fd)],'failure':_0x2b8cf2,'failureType':_0x46767b}]:_0x5b89ae[_0x24cccd(0x178)][_0x24cccd(0x1bd)](_0x837a40=>{const _0x2996f7=_0x24cccd;if(_0x15dd69[_0x2996f7(0x1ff)](_0x837a40['id'],_0x3654d4['id'])){const _0x2f9f15=_0x15dd69[_0x2996f7(0x1c0)][_0x2996f7(0x237)]('|');let _0x2f95cb=0x0;while(!![]){switch(_0x2f9f15[_0x2f95cb++]){case'0':_0x837a40[_0x2996f7(0x229)]=_0x2b8cf2;continue;case'1':_0x837a40['duration']=_0x415c37['testStepResult'][_0x2996f7(0x18e)][_0x2996f7(0x1fd)];continue;case'2':_0x837a40[_0x2996f7(0x227)]=new Date()['toISOString']();continue;case'3':_0x837a40['failureType']=_0x46767b;continue;case'4':_0x837a40[_0x2996f7(0x173)]=_0x415c37[_0x2996f7(0x1cb)][_0x2996f7(0x236)];continue;}break;}}}),_tests[_0x1b708f]=_0x5b89ae;}delete _tests[_0x1b708f][_0x15dd69[_0x24cccd(0x174)]];if(BrowserstackCLI['getInstance']()[_0x24cccd(0x1a0)]()&&await this['isCLIReady']()){const _0x1c7d2e=await cucumberUtils[_0x24cccd(0x1e1)](this['report'],_0x5b4b29,_0x15dd69[_0x24cccd(0x1e3)],_0x14b8ce,_0x251066,_tests[_0x1b708f]);if(_0x1c7d2e){await BrowserstackCLI[_0x24cccd(0x20c)]()[_0x24cccd(0x209)]()[_0x24cccd(0x21d)](TestFrameworkState[_0x1c7d2e[_0x24cccd(0x20f)]],HookState[_0x24cccd(0x1a5)],{'hookData':_0x1c7d2e,'testUUID':_0x415c37[_0x24cccd(0x204)]});const _0x2e3dc0={};_0x2e3dc0[_0x24cccd(0x195)]=_0x415c37['testCaseStartedId'],_0x2e3dc0['type']=_0x15dd69[_0x24cccd(0x1ce)],await BrowserstackCLI['getInstance']()[_0x24cccd(0x209)]()['trackEvent'](TestFrameworkState[_0x24cccd(0x187)],HookState[_0x24cccd(0x1a5)],_0x2e3dc0);}return;}await testObservabilityReporter[_0x24cccd(0x188)](this[_0x24cccd(0x16c)],_0x5b4b29,_0x15dd69[_0x24cccd(0x19c)],_0x14b8ce,_0x251066,_tests[_0x1b708f]);}catch(_0x4fcdee){logger[_0x24cccd(0x1c7)](_0x24cccd(0x1e0)+util[_0x24cccd(0x179)](_0x4fcdee));}}[a6_0x4cddcd(0x1f1)](_0x3eb8e9){const _0x1108c3=a6_0x4cddcd,_0x37faa3={};return _0x3eb8e9[_0x1108c3(0x1b8)][_0x1108c3(0x1b4)][_0x1108c3(0x1fa)](this['extractStepContainers'])[_0x1108c3(0x231)]()[_0x1108c3(0x1bd)](_0x175acd=>_0x175acd[_0x1108c3(0x178)][_0x1108c3(0x1bd)](_0x57fc1e=>_0x37faa3[_0x57fc1e['id']]=_0x57fc1e)),_0x37faa3;}[a6_0x4cddcd(0x1c8)](_0x5827ac){const _0x491e10=a6_0x4cddcd,_0x2eb007={'fmkbM':function(_0x5dfb56,_0x3b3642){return _0x5dfb56(_0x3b3642);},'nAESo':function(_0x318ed8,_0x41ad0a){return _0x318ed8(_0x41ad0a);}};if(!_0x2eb007[_0x491e10(0x1d8)](isUndefined,_0x5827ac[_0x491e10(0x180)]))return[_0x5827ac[_0x491e10(0x180)]];else{if(!_0x2eb007[_0x491e10(0x208)](isUndefined,_0x5827ac[_0x491e10(0x1d3)]))return _0x5827ac[_0x491e10(0x1d3)][_0x491e10(0x1b4)]['map'](_0x223e0a=>!isUndefined(_0x223e0a[_0x491e10(0x180)])?_0x223e0a[_0x491e10(0x180)]:_0x223e0a[_0x491e10(0x1b0)]);};return[_0x5827ac[_0x491e10(0x1b0)]];}[a6_0x4cddcd(0x17e)](_0x13556c,_0xf96074){const _0x2f8507=a6_0x4cddcd;return Object[_0x2f8507(0x184)](_0x13556c[_0x2f8507(0x22b)][_0x2f8507(0x17f)])[_0x2f8507(0x181)](_0x5874aa=>_0x5874aa[_0x2f8507(0x23c)]===_0xf96074['uri']);}async[a6_0x4cddcd(0x1a3)](){const _0xd1df2c=a6_0x4cddcd;if(this[_0xd1df2c(0x1f8)])return this[_0xd1df2c(0x1f8)];return this[_0xd1df2c(0x1f8)]=this[_0xd1df2c(0x1d2)](),this['cliInitPromise'];}async['_performCLIInitialization'](){const _0x2bcb68=a6_0x4cddcd,_0x5e79b4={'nIgAc':_0x2bcb68(0x197),'IFAtn':function(_0x41f3bf,_0xf2c3c3){return _0x41f3bf(_0xf2c3c3);},'jSRmm':_0x2bcb68(0x18a),'BRSSd':_0x2bcb68(0x23a)};try{const _0x42713d=BrowserstackCLI['getInstance']();if(_0x42713d[_0x2bcb68(0x1c2)]())return logger['debug'](_0x2bcb68(0x1c4)+_0x42713d[_0x2bcb68(0x1f6)]),!![];const _0x9afcaf=process['env'][_0x2bcb68(0x206)];if(!_0x9afcaf)return logger[_0x2bcb68(0x1c7)](_0x5e79b4[_0x2bcb68(0x1e4)]),![];const _0x40c9c1=_0x5e79b4[_0x2bcb68(0x1cc)](require,_0x5e79b4['jSRmm']),{FRAMEWORKS:_0x55ed06}=_0x5e79b4[_0x2bcb68(0x1cc)](require,_0x5e79b4['BRSSd']);return _0x40c9c1[_0x2bcb68(0x18c)](_0x55ed06['CUCUMBER'],_0x55ed06[_0x2bcb68(0x1fb)]),logger['debug'](_0x2bcb68(0x1ad)+_0x9afcaf),await _0x42713d[_0x2bcb68(0x1d9)](),logger[_0x2bcb68(0x1c7)](_0x2bcb68(0x225)+_0x42713d[_0x2bcb68(0x1c2)]()+_0x2bcb68(0x18b)+_0x42713d[_0x2bcb68(0x1f6)]),_0x42713d['isRunning']();}catch(_0x4ea6dc){return logger[_0x2bcb68(0x1c7)](_0x2bcb68(0x23d)+util[_0x2bcb68(0x179)](_0x4ea6dc)),![];}}async[a6_0x4cddcd(0x1c5)](){const _0x5578e2=a6_0x4cddcd;try{return await this['ensureCLIInitialized'](),BrowserstackCLI[_0x5578e2(0x20c)]()[_0x5578e2(0x1c2)]();}catch(_0x373513){return logger[_0x5578e2(0x1c7)](_0x5578e2(0x1f9)+util[_0x5578e2(0x179)](_0x373513)),![];}}}module[a6_0x4cddcd(0x194)]=o11yClassErrorHandler(BrowserstackFormatter,['onTestCaseStarted','onTestCaseFinished','onTestStepStarted',a6_0x4cddcd(0x172),a6_0x4cddcd(0x175),a6_0x4cddcd(0x20a),a6_0x4cddcd(0x1c8),a6_0x4cddcd(0x17e),a6_0x4cddcd(0x1f1)]);