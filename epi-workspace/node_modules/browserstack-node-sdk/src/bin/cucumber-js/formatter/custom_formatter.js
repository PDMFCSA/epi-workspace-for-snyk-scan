function a6_0x18bb(){const _0x4fcd70=['18wSAjVs','PLAYWRIGHT','ZVlXP','DyUTD','tsChN','testCase','YiAqU','AMBIGUOUS','setup','Exception\x20in\x20onTestStepFinished\x20event:\x20','@cucumber/cucumber','gherkinDocumentMap','xpGPF','wvwHF','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','result','XHayN','logTestRunFinished','cucumber','__platform','getTestCaseAttempt','testCaseAttempt','onTestStepStarted','sWWGm','testUUID','bstack','onTestCaseStarted','eventDataCollector','pickle','rPGlB','trackEvent','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','onTestCaseFinished','onSource','TestRunStarted','LOG_REPORT','PASSED','rule','isCLIReady','eXJzy','extractStepContainers','POST','yXoTK','createTestFrameworkData','TlqOC','flat','CLI\x20already\x20running\x20-\x20binSessionId:\x20','../../v2/utils/cucumber-utils.js','eebik','../test-observability.js','capability','winstonLogger','format','seconds','supportCodeLibrary','finished_at','testRunStarted','swWUf','PRE','onTestCase','CONFIG','status','5lkUQpM','parse','../../../bin/v2/TestInfo.js','../../v2/state/hookState.js','getInstance','UzSEp','syqoV','actionLocation','FAILED','scenario','pickleId','3|0|1|4|2','type','name','testRunFinished','CUCUMBER','log','hsLsc','IUqbs','SVTWb','testCaseMap','ncfIu','cwd','FBujj','zXZfi','SKIPPED','includes','testStepId','OpeUS','util','incrementCounter','gherkinDocument','split','27263835Xpunrk','onHook','UikSH','duration','onTestStepFinished','values','exception','onStepDefinition','snippetBuilder','assign','YkZVz','testCases','hQatw','../../../helpers/test-observability/error-handler','isBstackHook','../../v2/cliUtils','UNKNOWN',',\x20binSessionId:\x20','ZOjqu','qaJNh','testCaseAttemptDataMap','onPickle','SdFdN','eventBroadcaster','Ukkkm','blEsc','testSteps','EDwad','TestRunFinished','TEST','isCliEnabled','toISOString','Exception\x20in\x20onTestStepStarted\x20event:\x20','testCaseFinished','sendTestRunEventForCucumber','test','kYplG','dOAUe','sourceLocation','sendHook','feature','KRfeV','getTestUUID','HookRunStarted','getGherkinDocument','testCaseId','source','stepDefinition','../../utils/constants','_performCLIInitialization','NTEge','report','failure','1641114QVApKQ','UNDEFINED','find','children','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','description','nZHvC','cucumber-js/test.setup.js','message','vhmIU','isRunning','testStepResult','debug','logTestCaseFinished','testCaseStarted','onGherkinDocument','hook','uri','cahxX','528256btPRSS','../../../helpers/logger','testStepStarted','../../../helpers/testhub/utils.js','bootstrap','hook_type','4507576LCiCGI','env','steps','ebSAc','onTestRunStarted','BROWSERSTACK_CLI_BIN_SESSION_ID','binSessionId','onTestRunFinished','mqLMr','background','push','getGherkinStepMap','text','7905632rPxsQu','kGVOB','exports','map','EsgCY','testCaseStartedId','OxhbR','UnhandledError','8960304xBrquc','toLowerCase','pickleMap','../../v2/browserstackCLI.js','getTestFramework','createHookData','gcpuD','PENDING','Executing\x20tests\x20for\x20','testStepFinished','forEach','mnubu','hooks','200769lzEIge','toString','../../playwright/reporter/test-details.js','cliInitPromise','JVNKy','UOnnd'];a6_0x18bb=function(){return _0x4fcd70;};return a6_0x18bb();}const a6_0x6e6aad=a6_0x4cf2;(function(_0xe69a76,_0x1a85ec){const _0x1ca0b1=a6_0x4cf2,_0x19a371=_0xe69a76();while(!![]){try{const _0xb02e00=-parseInt(_0x1ca0b1(0x17b))/0x1+-parseInt(_0x1ca0b1(0x1a9))/0x2*(-parseInt(_0x1ca0b1(0x1a3))/0x3)+parseInt(_0x1ca0b1(0x181))/0x4+parseInt(_0x1ca0b1(0x1e7))/0x5*(parseInt(_0x1ca0b1(0x168))/0x6)+parseInt(_0x1ca0b1(0x18e))/0x7+parseInt(_0x1ca0b1(0x196))/0x8+-parseInt(_0x1ca0b1(0x133))/0x9;if(_0xb02e00===_0x1a85ec)break;else _0x19a371['push'](_0x19a371['shift']());}catch(_0x397dd6){_0x19a371['push'](_0x19a371['shift']());}}}(a6_0x18bb,0xa9923));function a6_0x4cf2(_0x147d60,_0xfc319f){const _0x18bb52=a6_0x18bb();return a6_0x4cf2=function(_0x4cf277,_0x5de582){_0x4cf277=_0x4cf277-0x114;let _0x8bd876=_0x18bb52[_0x4cf277];return _0x8bd876;},a6_0x4cf2(_0x147d60,_0xfc319f);}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require('../../../helpers/helper'),util=require(a6_0x6e6aad(0x12f)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x6e6aad(0x1b3)),TestDetails=require(a6_0x6e6aad(0x1a5)),TestObservabilityReporter=require(a6_0x6e6aad(0x1da)),{o11yClassErrorHandler}=require(a6_0x6e6aad(0x140)),{shouldProcessEventForTesthub}=require(a6_0x6e6aad(0x17e)),BrowserstackCLI=require(a6_0x6e6aad(0x199)),TestFrameworkState=require('../../v2/state/testFrameworkState.js'),HookState=require(a6_0x6e6aad(0x115)),CucumberUtils=require(a6_0x6e6aad(0x1d8)),TestInfo=require(a6_0x6e6aad(0x114)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x6e6aad(0x17c))[a6_0x6e6aad(0x1dc)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x2a9ae4){const _0x46cf75=a6_0x6e6aad,_0x1b47ab={};_0x1b47ab[_0x46cf75(0x12e)]='envelope';const _0x2147bb=_0x1b47ab;super(_0x2a9ae4),this[_0x46cf75(0x166)]={},_0x2a9ae4[_0x46cf75(0x14a)]['on'](_0x2147bb[_0x46cf75(0x12e)],async _0x31fe20=>{const _0x2a2b80=_0x46cf75;switch(!![]){case!!_0x31fe20[_0x2a2b80(0x1e1)]:this['onTestRunStarted'](_0x31fe20[_0x2a2b80(0x1e1)]);break;case!!_0x31fe20[_0x2a2b80(0x120)]:this['onTestRunFinished'](_0x31fe20['testRunFinished']);break;case!!_0x31fe20[_0x2a2b80(0x176)]:this[_0x2a2b80(0x1c3)](_0x31fe20[_0x2a2b80(0x176)],_0x2a9ae4,_0x31fe20);break;case!!_0x31fe20[_0x2a2b80(0x154)]:this[_0x2a2b80(0x1c9)](_0x31fe20[_0x2a2b80(0x154)],_0x2a9ae4,_0x31fe20);break;case!!_0x31fe20[_0x2a2b80(0x17d)]:this[_0x2a2b80(0x1bf)](_0x31fe20[_0x2a2b80(0x17d)],_0x2a9ae4);break;case!!_0x31fe20[_0x2a2b80(0x19f)]:this['onTestStepFinished'](_0x31fe20['testStepFinished'],_0x2a9ae4);break;case!!_0x31fe20[_0x2a2b80(0x178)]:this[_0x2a2b80(0x134)](_0x31fe20[_0x2a2b80(0x178)]);break;case!!_0x31fe20[_0x2a2b80(0x1ae)]:this[_0x2a2b80(0x1e4)](_0x31fe20[_0x2a2b80(0x1ae)]);break;case!!_0x31fe20[_0x2a2b80(0x1c5)]:this[_0x2a2b80(0x148)](_0x31fe20[_0x2a2b80(0x1c5)]);break;case!!_0x31fe20[_0x2a2b80(0x131)]:this[_0x2a2b80(0x177)](_0x31fe20[_0x2a2b80(0x131)]);break;}});}[a6_0x6e6aad(0x134)](_0x37bdfb){const _0x391474=a6_0x6e6aad;this['report'][_0x391474(0x1a2)]=Object[_0x391474(0x13c)]([],this[_0x391474(0x166)][_0x391474(0x1a2)]||[]),this[_0x391474(0x166)][_0x391474(0x1a2)][_0x391474(0x18b)](_0x37bdfb);}[a6_0x6e6aad(0x148)](_0x4c8975){const _0x42c20a=a6_0x6e6aad;this[_0x42c20a(0x166)]['pickle']=Object[_0x42c20a(0x13c)]([],this[_0x42c20a(0x166)]['pickle']||[],[_0x4c8975]),this[_0x42c20a(0x166)][_0x42c20a(0x1c5)][_0x42c20a(0x18b)](_0x4c8975);}[a6_0x6e6aad(0x177)](_0x2727b0){const _0x225224=a6_0x6e6aad;this[_0x225224(0x166)][_0x225224(0x131)]=Object[_0x225224(0x13c)]([],this[_0x225224(0x166)][_0x225224(0x131)]||[],[_0x2727b0]),this[_0x225224(0x166)][_0x225224(0x131)][_0x225224(0x18b)](_0x2727b0);}[a6_0x6e6aad(0x1ca)](_0x48b063){const _0x16af3c=a6_0x6e6aad;this[_0x16af3c(0x166)][_0x16af3c(0x161)]=_0x48b063;}[a6_0x6e6aad(0x13a)](_0x33648a){const _0x3be4b3=a6_0x6e6aad;this[_0x3be4b3(0x166)][_0x3be4b3(0x162)]=Object[_0x3be4b3(0x13c)]([],this[_0x3be4b3(0x166)][_0x3be4b3(0x162)]||[],[_0x33648a]),this[_0x3be4b3(0x166)]['stepDefinition']['push'](_0x33648a);}[a6_0x6e6aad(0x1e4)](_0xe4e629){const _0x48f8c3=a6_0x6e6aad;this[_0x48f8c3(0x166)][_0x48f8c3(0x13e)]=Object[_0x48f8c3(0x13c)]([],this[_0x48f8c3(0x166)][_0x48f8c3(0x13e)]||[],[_0xe4e629]),this[_0x48f8c3(0x166)][_0x48f8c3(0x13e)][_0x48f8c3(0x18b)](_0xe4e629);}['logTestCaseFinished'](_0xe4de42){const _0x16cd3d=a6_0x6e6aad,_0x2b0844={'SdFdN':function(_0x5662c8,_0x132d14){return _0x5662c8!==_0x132d14;},'DyUTD':_0x16cd3d(0x1c2),'vhmIU':function(_0x3f259e,_0x3b4df2){return _0x3f259e+_0x3b4df2;},'rPGlB':function(_0x2fcd5f,_0x72602c){return _0x2fcd5f+_0x72602c;},'EDwad':function(_0x4ddc81,_0x431fdb){return _0x4ddc81+_0x431fdb;},'JVNKy':'\x20\x20\x20\x20','ZVlXP':'\x20-\x20','JyjSo':function(_0x149435,_0x2e1e4b){return _0x149435===_0x2e1e4b;},'EOdVV':'FAILED','SVTWb':function(_0x53d14c,_0x5639fa,_0x46c8ca){return _0x53d14c(_0x5639fa,_0x46c8ca);},'wvwHF':'result','eebik':_0x16cd3d(0x170),'yXoTK':function(_0x189d84,_0x3ebc4a){return _0x189d84+_0x3ebc4a;},'sWWGm':function(_0x518dd6,_0x1b0f96){return _0x518dd6!==_0x1b0f96;},'VATby':function(_0x49ae87,_0x353bc9){return _0x49ae87+_0x353bc9;},'OxhbR':function(_0x1acaa5,_0x4f6346){return _0x1acaa5+_0x4f6346;},'AYuwl':function(_0x70afa0,_0x3ba574){return _0x70afa0+_0x3ba574;}};_0x2b0844[_0x16cd3d(0x1c0)](global[_0x16cd3d(0x1bc)],undefined)&&this[_0x16cd3d(0x122)](_0x2b0844[_0x16cd3d(0x1d3)](_0x2b0844['yXoTK']('\x0a',global[_0x16cd3d(0x1bc)]),'\x0a'));const _0xa6a0c5=this[_0x16cd3d(0x1c4)][_0x16cd3d(0x1bd)](_0xe4de42['testCaseStartedId']);this[_0x16cd3d(0x122)](_0x2b0844[_0x16cd3d(0x1c6)](_0x2b0844['VATby'](_0x2b0844[_0x16cd3d(0x194)](_0x2b0844['AYuwl']('\x20\x20',_0xa6a0c5[_0x16cd3d(0x131)][_0x16cd3d(0x15b)][_0x16cd3d(0x11f)]),_0x2b0844[_0x16cd3d(0x1ab)]),_0xa6a0c5[_0x16cd3d(0x1c5)]['name']),'\x0a'));const _0x574940={};_0x574940[_0x16cd3d(0x128)]=this['cwd'],_0x574940[_0x16cd3d(0x13b)]=this[_0x16cd3d(0x13b)],_0x574940[_0x16cd3d(0x1df)]=this[_0x16cd3d(0x1df)],_0x574940[_0x16cd3d(0x1be)]=_0xa6a0c5;const _0x49e5d7=formatterHelpers['parseTestCaseAttempt'](_0x574940);let _0xc81d2f=![];_0x49e5d7[_0x16cd3d(0x14d)]['forEach'](_0x5bef3a=>{const _0x3e4b84=_0x16cd3d;if(_0x2b0844[_0x3e4b84(0x149)](_0x5bef3a[_0x3e4b84(0x11f)],_0x2b0844[_0x3e4b84(0x1ac)])&&!this[_0x3e4b84(0x141)](_0x5bef3a)){totalTests+=0x1,this[_0x3e4b84(0x122)](_0x2b0844['vhmIU'](_0x2b0844[_0x3e4b84(0x1c6)](_0x2b0844['rPGlB'](_0x2b0844[_0x3e4b84(0x171)](_0x2b0844[_0x3e4b84(0x14e)](_0x2b0844[_0x3e4b84(0x1a7)],_0x5bef3a['keyword']),_0x5bef3a[_0x3e4b84(0x18d)]||''),_0x2b0844[_0x3e4b84(0x1ab)]),Status[_0x5bef3a[_0x3e4b84(0x1b8)][_0x3e4b84(0x1e6)]]),'\x0a')),this[_0x3e4b84(0x130)](Status[_0x5bef3a[_0x3e4b84(0x1b8)][_0x3e4b84(0x1e6)]]);if(_0x2b0844['JyjSo'](Status[_0x5bef3a['result'][_0x3e4b84(0x1e6)]],_0x2b0844['EOdVV'])){_0xc81d2f=!![];const _0x2f4e69=_0x2b0844[_0x3e4b84(0x125)](nestedKeyValue,_0x5bef3a,[_0x2b0844[_0x3e4b84(0x1b6)],_0x2b0844[_0x3e4b84(0x1d9)]]);_0x2f4e69&&(testsErrorMessage[_0x2b0844['rPGlB'](_0x2b0844['vhmIU'](_0xa6a0c5[_0x3e4b84(0x131)]['feature'][_0x3e4b84(0x11f)],_0x2b0844[_0x3e4b84(0x1ab)]),_0xa6a0c5[_0x3e4b84(0x1c5)][_0x3e4b84(0x11f)])]=_0x2f4e69,this[_0x3e4b84(0x122)](_0x2b0844[_0x3e4b84(0x1d3)](_0x2f4e69,'\x0a')));}}}),_0xc81d2f&&(testSuitesFailed+=0x1),this['log']('\x0a');}[a6_0x6e6aad(0x1ba)](_0x255969){}[a6_0x6e6aad(0x141)](_0x29ff10){const _0x39f82e=a6_0x6e6aad,_0x2fb647={};_0x2fb647[_0x39f82e(0x1b9)]=function(_0x37ea0e,_0x494853){return _0x37ea0e!==_0x494853;},_0x2fb647[_0x39f82e(0x14b)]=_0x39f82e(0x16f);const _0x196b11=_0x2fb647;if(_0x196b11[_0x39f82e(0x1b9)](_0x29ff10[_0x39f82e(0x159)],undefined))return![];if(_0x29ff10[_0x39f82e(0x119)]&&_0x29ff10[_0x39f82e(0x119)][_0x39f82e(0x179)][_0x39f82e(0x12c)](_0x196b11['Ukkkm']))return!![];return![];}[a6_0x6e6aad(0x130)](_0x8a40c4){const _0x1d6461=a6_0x6e6aad,_0x254780={};_0x254780[_0x1d6461(0x123)]=_0x1d6461(0x11a),_0x254780[_0x1d6461(0x129)]=_0x1d6461(0x1cd),_0x254780[_0x1d6461(0x15c)]=_0x1d6461(0x12b),_0x254780['mnubu']=_0x1d6461(0x19d),_0x254780[_0x1d6461(0x189)]=_0x1d6461(0x169),_0x254780[_0x1d6461(0x117)]=_0x1d6461(0x143),_0x254780[_0x1d6461(0x17a)]=_0x1d6461(0x1b0);const _0x3fc7a6=_0x254780;switch(_0x8a40c4){case _0x3fc7a6['hsLsc']:testsFailed+=0x1;break;case _0x3fc7a6[_0x1d6461(0x129)]:testsPassed+=0x1;break;case _0x3fc7a6['KRfeV']:testsSkipped+=0x1;break;case _0x3fc7a6[_0x1d6461(0x1a1)]:testsPending+=0x1;break;case _0x3fc7a6[_0x1d6461(0x189)]:testsUndefined+=0x1;break;case _0x3fc7a6['UzSEp']:testsUnknown+=0x1;break;case _0x3fc7a6[_0x1d6461(0x17a)]:testsAmbiguous+=0x1;break;default:break;}}async['onTestRunStarted'](_0x1703be){const _0x2f6d31=a6_0x6e6aad,_0x4cb2db={'hQatw':function(_0xfd141c,_0x19f160){return _0xfd141c!==_0x19f160;},'EsgCY':function(_0x1231fe){return _0x1231fe();},'UVccA':function(_0x376146,_0x57f310){return _0x376146(_0x57f310);},'swWUf':function(_0xac9d7,_0x5a8d69){return _0xac9d7+_0x5a8d69;},'UOnnd':function(_0x1d4b6f){return _0x1d4b6f();},'dOAUe':_0x2f6d31(0x1bb)};let _0x2cc31e;if(_0x4cb2db['hQatw'](process[_0x2f6d31(0x182)][_0x2f6d31(0x1e5)],undefined)){const _0x4a1f5a=JSON[_0x2f6d31(0x1e8)](process['env'][_0x2f6d31(0x1e5)]);_0x2cc31e=_0x4a1f5a[_0x2f6d31(0x1db)];}_0x4cb2db[_0x2f6d31(0x13f)](_0x2cc31e,undefined)&&_0x4cb2db[_0x2f6d31(0x192)](isBrowserstackInfra)&&(global[_0x2f6d31(0x1bc)]=_0x4cb2db['UVccA'](getPlatformName,_0x2cc31e),this[_0x2f6d31(0x122)](_0x4cb2db[_0x2f6d31(0x1e2)](_0x2f6d31(0x19e)+global['__platform'],'\x0a'))),_0x4cb2db[_0x2f6d31(0x1a8)](shouldProcessEventForTesthub)&&(TestDetails[_0x2f6d31(0x1b1)](),this['report'][_0x2f6d31(0x1e1)]=_0x1703be,BrowserstackCLI[_0x2f6d31(0x116)]()[_0x2f6d31(0x151)]()&&await this['isCLIReady']()&&(TestInfo[_0x2f6d31(0x1b1)](_0x4cb2db[_0x2f6d31(0x158)]),await BrowserstackCLI[_0x2f6d31(0x116)]()[_0x2f6d31(0x19a)]()[_0x2f6d31(0x1c7)](TestFrameworkState['INIT_TEST'],HookState[_0x2f6d31(0x1e3)],{})));}['onTestRunFinished'](_0x444a85){const _0x319a27=a6_0x6e6aad;this[_0x319a27(0x166)][_0x319a27(0x120)]=_0x444a85,this[_0x319a27(0x1ba)](_0x444a85);}async[a6_0x6e6aad(0x1c3)](_0x26f9fb,_0x15335b,_0x17e128){const _0x2b2b5c=a6_0x6e6aad,_0x392573={'blEsc':function(_0x101fc1,_0x42cd24){return _0x101fc1(_0x42cd24);},'tsChN':_0x2b2b5c(0x1cb),'VJbCt':function(_0x430498,_0x163c14){return _0x430498&&_0x163c14;}};testSuites+=0x1;if(_0x392573[_0x2b2b5c(0x14c)](shouldProcessEventForTesthub,_0x392573['tsChN']))try{this[_0x2b2b5c(0x166)]['testCaseStarted']=this[_0x2b2b5c(0x166)]['testCaseStarted']||{},this[_0x2b2b5c(0x166)][_0x2b2b5c(0x176)][_0x26f9fb['id']]=_0x26f9fb;let _0x3970a2=null;BrowserstackCLI[_0x2b2b5c(0x116)]()[_0x2b2b5c(0x151)]()&&await this[_0x2b2b5c(0x1cf)]()?_0x3970a2=TestInfo[_0x2b2b5c(0x15d)](_0x26f9fb['id']):_0x3970a2=TestDetails[_0x2b2b5c(0x15d)](_0x26f9fb['id']);_testCasesData[_0x26f9fb['id']]=Object[_0x2b2b5c(0x13c)]({},_0x17e128);const _0x276244=this[_0x2b2b5c(0x166)],_0x57299e=_0x26f9fb[_0x2b2b5c(0x160)],_0x704836=_0x276244[_0x2b2b5c(0x13e)][_0x2b2b5c(0x16a)](_0x528186=>_0x528186['id']===_0x57299e)[_0x2b2b5c(0x11c)],_0x3ec83c=_0x276244[_0x2b2b5c(0x1c5)][_0x2b2b5c(0x16a)](_0x50c4a0=>_0x50c4a0['id']===_0x704836),_0x98002a=_0x276244[_0x2b2b5c(0x131)][_0x2b2b5c(0x16a)](_0x528ba3=>_0x528ba3[_0x2b2b5c(0x179)]===_0x3ec83c['uri']),_0x226b15=_0x98002a[_0x2b2b5c(0x15b)],_0x18a0ea={'uuid':_0x3970a2,'startedAt':new Date()['toISOString']()};if(_0x3ec83c){const _0x27b967={};_0x27b967[_0x2b2b5c(0x11f)]=_0x3ec83c[_0x2b2b5c(0x11f)],_0x18a0ea[_0x2b2b5c(0x11b)]=_0x27b967;}if(_0x392573['VJbCt'](_0x98002a,_0x226b15)){const _0x21dcef={};_0x21dcef['path']=_0x98002a[_0x2b2b5c(0x179)],_0x21dcef[_0x2b2b5c(0x11f)]=_0x226b15['name'],_0x21dcef[_0x2b2b5c(0x16d)]=_0x226b15[_0x2b2b5c(0x16d)],_0x18a0ea[_0x2b2b5c(0x15b)]=_0x21dcef;}_tests[_0x57299e]=_0x18a0ea;if(BrowserstackCLI['getInstance']()['isCliEnabled']()&&await this[_0x2b2b5c(0x1cf)]()){const _0xe1c465=await cucumberUtils[_0x2b2b5c(0x1d4)](_0x18a0ea,_0x3ec83c,_0x17e128,_0x98002a,_0x26f9fb['id'],_0x392573[_0x2b2b5c(0x1ad)]),_0x2fb1dc={};_0x2fb1dc[_0x2b2b5c(0x156)]=_0xe1c465,await BrowserstackCLI[_0x2b2b5c(0x116)]()['getTestFramework']()['trackEvent'](TestFrameworkState['TEST'],HookState['PRE'],_0x2fb1dc);return;}await testObservabilityReporter[_0x2b2b5c(0x155)](_0x17e128,_0x98002a,_0x3ec83c,_0x392573['tsChN'],_0x18a0ea);}catch(_0x748962){logger['debug']('Exception\x20in\x20sending\x20onTestCaseStarted:\x20'+util['format'](_0x748962)+'\x20');}}async[a6_0x6e6aad(0x1c9)](_0x502335,_0x1488d9,_0x318941){const _0x2f9b85=a6_0x6e6aad,_0x26bf33={'zXZfi':function(_0xe2a578,_0x1bd0dd){return _0xe2a578(_0x1bd0dd);},'NTEge':_0x2f9b85(0x14f),'kYplG':'test'};this[_0x2f9b85(0x175)](_0x502335);if(_0x26bf33[_0x2f9b85(0x12a)](shouldProcessEventForTesthub,_0x26bf33['NTEge']))try{this[_0x2f9b85(0x166)][_0x2f9b85(0x154)]=this[_0x2f9b85(0x166)][_0x2f9b85(0x154)]||{},this[_0x2f9b85(0x166)][_0x2f9b85(0x154)][_0x502335['testCaseStartedId']]=_0x502335,_testCasesData[_0x318941['id']]=Object[_0x2f9b85(0x13c)]({},_0x318941);const _0x554e2c=_0x502335['testCaseStartedId'],_0x311282=_0x1488d9[_0x2f9b85(0x1c4)][_0x2f9b85(0x147)][_0x554e2c][_0x2f9b85(0x160)],_0x55d58f=_0x1488d9[_0x2f9b85(0x1c4)][_0x2f9b85(0x126)][_0x311282],_0xb2ae7a=_0x55d58f[_0x2f9b85(0x11c)],_0x4644cd=_0x1488d9[_0x2f9b85(0x1c4)][_0x2f9b85(0x198)][_0xb2ae7a],_0x35eb80=this['getGherkinDocument'](_0x1488d9,_0x4644cd),_0x1ef621=_0x35eb80[_0x2f9b85(0x15b)],_0x4c6a10=_tests[_0x311282];_0x4c6a10&&(delete _tests[_0x311282],_0x4c6a10['finishedAt']=new Date()[_0x2f9b85(0x152)]());if(BrowserstackCLI['getInstance']()[_0x2f9b85(0x151)]()&&await this[_0x2f9b85(0x1cf)]()){const _0x1c070=await cucumberUtils[_0x2f9b85(0x1d4)](_0x4c6a10,_0x4644cd,_0x318941,_0x35eb80,_0x554e2c,_0x26bf33[_0x2f9b85(0x165)]),_0xdb6e88={};_0xdb6e88[_0x2f9b85(0x156)]=_0x1c070,await BrowserstackCLI[_0x2f9b85(0x116)]()[_0x2f9b85(0x19a)]()[_0x2f9b85(0x1c7)](TestFrameworkState[_0x2f9b85(0x150)],HookState[_0x2f9b85(0x1d2)],_0xdb6e88);const _0x537965={};_0x537965['testUUID']=_0x502335[_0x2f9b85(0x193)],_0x537965['type']=_0x26bf33[_0x2f9b85(0x157)],await BrowserstackCLI['getInstance']()['getTestFramework']()[_0x2f9b85(0x1c7)](TestFrameworkState[_0x2f9b85(0x1cc)],HookState[_0x2f9b85(0x1d2)],_0x537965);return;}await testObservabilityReporter[_0x2f9b85(0x155)](_0x318941,_0x35eb80,_0x4644cd,_0x26bf33[_0x2f9b85(0x165)],_0x4c6a10);}catch(_0x310fe9){logger[_0x2f9b85(0x174)](_0x2f9b85(0x16c)+util[_0x2f9b85(0x1dd)](_0x310fe9));}}async[a6_0x6e6aad(0x1bf)](_0x5be664,_0x2bfe8b){const _0x27d35f=a6_0x6e6aad,_0x38ec81={'TlqOC':function(_0x5217bc,_0x2660e7){return _0x5217bc(_0x2660e7);},'aOrXr':_0x27d35f(0x15e),'UikSH':function(_0x4be623,_0x249e81){return _0x4be623!==_0x249e81;},'rafuf':_0x27d35f(0x12d)};if(_0x38ec81[_0x27d35f(0x1d5)](shouldProcessEventForTesthub,_0x38ec81['aOrXr']))try{this[_0x27d35f(0x166)][_0x27d35f(0x17d)]=this[_0x27d35f(0x166)][_0x27d35f(0x17d)]||{},this[_0x27d35f(0x166)][_0x27d35f(0x17d)][_0x5be664[_0x27d35f(0x193)]]=_0x5be664;const _0x4f89b3=_0x5be664[_0x27d35f(0x193)],_0x48caa9=_0x2bfe8b[_0x27d35f(0x1c4)][_0x27d35f(0x147)][_0x4f89b3][_0x27d35f(0x160)],_0x558c5d=this['report'][_0x27d35f(0x13e)]['find'](_0x5424ad=>_0x5424ad['id']===_0x48caa9)[_0x27d35f(0x11c)],_0x495c4d=this[_0x27d35f(0x166)][_0x27d35f(0x1c5)]['find'](_0x341452=>_0x341452['id']===_0x558c5d),_0x5e9b6e=this[_0x27d35f(0x166)][_0x27d35f(0x13e)][_0x27d35f(0x16a)](_0x31177c=>_0x31177c['id']===_0x48caa9)[_0x27d35f(0x14d)],_0x7afbae=this['report'][_0x27d35f(0x17d)][_0x4f89b3]['testStepId'],_0x4fa261=_0x5e9b6e[_0x27d35f(0x16a)](_0x560efa=>_0x560efa['id']===_0x7afbae)['pickleStepId'],_0xe9a445=_0x495c4d[_0x27d35f(0x183)][_0x27d35f(0x16a)](_0x3075a7=>_0x3075a7['id']===_0x4fa261);if(_0x4fa261&&_tests[_0x48caa9]&&_0x38ec81[_0x27d35f(0x135)](_tests[_0x48caa9][_0x38ec81['rafuf']],_0x7afbae)){_tests[_0x48caa9][_0x38ec81['rafuf']]=_0x7afbae;const _0x146793={};_0x146793[_0x27d35f(0x183)]=[];const _0x243fc9=_tests[_0x48caa9]||_0x146793;_0x243fc9&&!_0x243fc9[_0x27d35f(0x183)]&&(_0x243fc9[_0x27d35f(0x183)]=[]),_0x243fc9[_0x27d35f(0x183)][_0x27d35f(0x18b)]({'id':_0xe9a445['id'],'text':_0xe9a445[_0x27d35f(0x18d)],'started_at':new Date()['toISOString']()}),_tests[_0x48caa9]=_0x243fc9;}if(BrowserstackCLI[_0x27d35f(0x116)]()[_0x27d35f(0x151)]()&&await this[_0x27d35f(0x1cf)]()){const _0x36a610=await cucumberUtils['createHookData'](this[_0x27d35f(0x166)],_0x4f89b3,_0x38ec81['aOrXr'],_0x5e9b6e,_0x7afbae,_tests[_0x48caa9]);_0x36a610&&await BrowserstackCLI[_0x27d35f(0x116)]()[_0x27d35f(0x19a)]()[_0x27d35f(0x1c7)](TestFrameworkState[_0x36a610[_0x27d35f(0x180)]],HookState[_0x27d35f(0x1e3)],{'hookData':_0x36a610,'testUUID':_0x5be664[_0x27d35f(0x193)]});return;}await testObservabilityReporter[_0x27d35f(0x15a)](this[_0x27d35f(0x166)],_0x4f89b3,_0x38ec81['aOrXr'],_0x5e9b6e,_0x7afbae,_tests[_0x48caa9]);}catch(_0x477bda){logger[_0x27d35f(0x174)](_0x27d35f(0x153)+util[_0x27d35f(0x1dd)](_0x477bda));}}async['onTestStepFinished'](_0x1d3fb0,_0x140ec){const _0x14d2f8=a6_0x6e6aad,_0x4e4a12={'YiAqU':function(_0x2d335e,_0x29a3d6){return _0x2d335e===_0x29a3d6;},'YkZVz':_0x14d2f8(0x11d),'qaJNh':function(_0x54d817,_0x4e8db6){return _0x54d817(_0x4e8db6);},'ncfIu':'HookRunFinished','gcpuD':function(_0x45d0b1,_0x3ff88a){return _0x45d0b1===_0x3ff88a;},'WnHxj':'failed','kGVOB':_0x14d2f8(0x195),'eXJzy':_0x14d2f8(0x12d),'ZOjqu':_0x14d2f8(0x15e),'syqoV':_0x14d2f8(0x178)};this['report'][_0x14d2f8(0x19f)]=this[_0x14d2f8(0x166)][_0x14d2f8(0x19f)]||{},this[_0x14d2f8(0x166)][_0x14d2f8(0x19f)][_0x1d3fb0[_0x14d2f8(0x193)]]=_0x1d3fb0;if(_0x4e4a12[_0x14d2f8(0x146)](shouldProcessEventForTesthub,_0x4e4a12[_0x14d2f8(0x127)]))try{const _0x53c149=_0x1d3fb0[_0x14d2f8(0x193)],_0x1a0c62=_0x140ec[_0x14d2f8(0x1c4)]['testCaseAttemptDataMap'][_0x53c149]['testCaseId'],_0x2ce853=_0x140ec['eventDataCollector'][_0x14d2f8(0x126)][_0x1a0c62],_0x7fe137=_0x2ce853[_0x14d2f8(0x11c)],_0x5eb2ba=_0x140ec['eventDataCollector'][_0x14d2f8(0x198)][_0x7fe137],_0x464250=_0x1d3fb0[_0x14d2f8(0x12d)],_0x3e2437=_0x2ce853['testSteps'],_0x3eab28=this['eventDataCollector']['getTestCaseAttempt'](_0x53c149),_0x38fc53=_0x3e2437[_0x14d2f8(0x16a)](_0x1769ae=>_0x1769ae['id']===_0x464250)['pickleStepId'];let _0x5a8c20,_0x35288a;_0x1d3fb0[_0x14d2f8(0x173)]&&_0x4e4a12[_0x14d2f8(0x19c)](_0x1d3fb0[_0x14d2f8(0x173)][_0x14d2f8(0x1e6)][_0x14d2f8(0x1a4)]()[_0x14d2f8(0x197)](),_0x4e4a12['WnHxj'])&&(_0x5a8c20=_0x4e4a12[_0x14d2f8(0x19c)](_0x1d3fb0[_0x14d2f8(0x173)][_0x14d2f8(0x139)],undefined)?_0x1d3fb0[_0x14d2f8(0x173)][_0x14d2f8(0x170)]:_0x1d3fb0[_0x14d2f8(0x173)][_0x14d2f8(0x139)][_0x14d2f8(0x170)],_0x35288a=_0x4e4a12['YiAqU'](_0x1d3fb0['testStepResult'][_0x14d2f8(0x139)],undefined)?_0x4e4a12[_0x14d2f8(0x18f)]:_0x1d3fb0['testStepResult']['message']);if(_0x38fc53&&_tests[_0x1a0c62][_0x4e4a12[_0x14d2f8(0x1d0)]]){const _0x40d63e=_0x5eb2ba[_0x14d2f8(0x183)][_0x14d2f8(0x16a)](_0x2a4416=>_0x2a4416['id']===_0x38fc53),_0x2fcca2={};_0x2fcca2[_0x14d2f8(0x183)]=[];const _0x5b1442=_tests[_0x1a0c62]||_0x2fcca2;!_0x5b1442[_0x14d2f8(0x183)]?_0x5b1442[_0x14d2f8(0x183)]=[{'id':_0x40d63e['id'],'text':_0x40d63e[_0x14d2f8(0x18d)],'finished_at':new Date()[_0x14d2f8(0x152)](),'result':_0x1d3fb0['testStepResult']['status'],'duration':_0x1d3fb0[_0x14d2f8(0x173)]['duration']['seconds'],'failure':_0x5a8c20,'failureType':_0x35288a}]:_0x5b1442[_0x14d2f8(0x183)][_0x14d2f8(0x1a0)](_0x567da9=>{const _0x478d6a=_0x14d2f8;if(_0x4e4a12[_0x478d6a(0x1af)](_0x567da9['id'],_0x40d63e['id'])){const _0x365ea1=_0x4e4a12[_0x478d6a(0x13d)][_0x478d6a(0x132)]('|');let _0x2165bd=0x0;while(!![]){switch(_0x365ea1[_0x2165bd++]){case'0':_0x567da9[_0x478d6a(0x1b8)]=_0x1d3fb0[_0x478d6a(0x173)]['status'];continue;case'1':_0x567da9['duration']=_0x1d3fb0[_0x478d6a(0x173)][_0x478d6a(0x136)][_0x478d6a(0x1de)];continue;case'2':_0x567da9['failureType']=_0x35288a;continue;case'3':_0x567da9[_0x478d6a(0x1e0)]=new Date()[_0x478d6a(0x152)]();continue;case'4':_0x567da9[_0x478d6a(0x167)]=_0x5a8c20;continue;}break;}}}),_tests[_0x1a0c62]=_0x5b1442;}delete _tests[_0x1a0c62][_0x4e4a12[_0x14d2f8(0x1d0)]];if(BrowserstackCLI[_0x14d2f8(0x116)]()[_0x14d2f8(0x151)]()&&await this[_0x14d2f8(0x1cf)]()){const _0x169ebd=await cucumberUtils[_0x14d2f8(0x19b)](this[_0x14d2f8(0x166)],_0x53c149,_0x4e4a12[_0x14d2f8(0x145)],_0x3e2437,_0x464250,_tests[_0x1a0c62]);if(_0x169ebd){await BrowserstackCLI[_0x14d2f8(0x116)]()[_0x14d2f8(0x19a)]()[_0x14d2f8(0x1c7)](TestFrameworkState[_0x169ebd[_0x14d2f8(0x180)]],HookState['POST'],{'hookData':_0x169ebd,'testUUID':_0x1d3fb0['testCaseStartedId']});const _0x3e35a1={};_0x3e35a1[_0x14d2f8(0x1c1)]=_0x1d3fb0[_0x14d2f8(0x193)],_0x3e35a1[_0x14d2f8(0x11e)]=_0x4e4a12[_0x14d2f8(0x118)],await BrowserstackCLI[_0x14d2f8(0x116)]()[_0x14d2f8(0x19a)]()['trackEvent'](TestFrameworkState[_0x14d2f8(0x1cc)],HookState[_0x14d2f8(0x1d2)],_0x3e35a1);}return;}await testObservabilityReporter['sendHook'](this[_0x14d2f8(0x166)],_0x53c149,_0x4e4a12[_0x14d2f8(0x127)],_0x3e2437,_0x464250,_tests[_0x1a0c62]);}catch(_0x30cc80){logger['debug'](_0x14d2f8(0x1b2)+util[_0x14d2f8(0x1dd)](_0x30cc80));}}[a6_0x6e6aad(0x18c)](_0x3a07d5){const _0x4a7516=a6_0x6e6aad,_0x52eecf={};return _0x3a07d5['feature'][_0x4a7516(0x16b)][_0x4a7516(0x191)](this[_0x4a7516(0x1d1)])[_0x4a7516(0x1d6)]()['forEach'](_0x1b1d61=>_0x1b1d61[_0x4a7516(0x183)][_0x4a7516(0x1a0)](_0x53443c=>_0x52eecf[_0x53443c['id']]=_0x53443c)),_0x52eecf;}[a6_0x6e6aad(0x1d1)](_0x40e2ca){const _0x3b040c=a6_0x6e6aad,_0x9da753={'nZHvC':function(_0x20fcea,_0x340439){return _0x20fcea(_0x340439);}};if(!_0x9da753[_0x3b040c(0x16e)](isUndefined,_0x40e2ca[_0x3b040c(0x18a)]))return[_0x40e2ca[_0x3b040c(0x18a)]];else{if(!_0x9da753[_0x3b040c(0x16e)](isUndefined,_0x40e2ca[_0x3b040c(0x1ce)]))return _0x40e2ca[_0x3b040c(0x1ce)][_0x3b040c(0x16b)][_0x3b040c(0x191)](_0x3e8bb3=>!isUndefined(_0x3e8bb3[_0x3b040c(0x18a)])?_0x3e8bb3[_0x3b040c(0x18a)]:_0x3e8bb3[_0x3b040c(0x11b)]);};return[_0x40e2ca[_0x3b040c(0x11b)]];}[a6_0x6e6aad(0x15f)](_0x2a3029,_0x171cdb){const _0x554786=a6_0x6e6aad;return Object[_0x554786(0x138)](_0x2a3029[_0x554786(0x1c4)][_0x554786(0x1b4)])[_0x554786(0x16a)](_0x316221=>_0x316221['uri']===_0x171cdb[_0x554786(0x179)]);}async['ensureCLIInitialized'](){const _0x56ae76=a6_0x6e6aad;if(this['cliInitPromise'])return this[_0x56ae76(0x1a6)];return this['cliInitPromise']=this[_0x56ae76(0x164)](),this[_0x56ae76(0x1a6)];}async[a6_0x6e6aad(0x164)](){const _0x4199e1=a6_0x6e6aad,_0x56a1a0={'OlllF':'No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','IUqbs':function(_0x145922,_0x279d41){return _0x145922(_0x279d41);},'elbQH':_0x4199e1(0x142),'ebSAc':function(_0x56958b,_0x5da4d6){return _0x56958b(_0x5da4d6);},'xpGPF':_0x4199e1(0x163)};try{const _0x454371=BrowserstackCLI[_0x4199e1(0x116)]();if(_0x454371['isRunning']())return logger[_0x4199e1(0x174)](_0x4199e1(0x1d7)+_0x454371[_0x4199e1(0x187)]),!![];const _0x31fe06=process[_0x4199e1(0x182)][_0x4199e1(0x186)];if(!_0x31fe06)return logger[_0x4199e1(0x174)](_0x56a1a0['OlllF']),![];const _0x592891=_0x56a1a0[_0x4199e1(0x124)](require,_0x56a1a0['elbQH']),{FRAMEWORKS:_0x11db8e}=_0x56a1a0[_0x4199e1(0x184)](require,_0x56a1a0[_0x4199e1(0x1b5)]);return _0x592891['setFrameworkDetail'](_0x11db8e[_0x4199e1(0x121)],_0x11db8e[_0x4199e1(0x1aa)]),logger[_0x4199e1(0x174)]('Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20'+_0x31fe06),await _0x454371[_0x4199e1(0x17f)](),logger[_0x4199e1(0x174)](_0x4199e1(0x1b7)+_0x454371[_0x4199e1(0x172)]()+_0x4199e1(0x144)+_0x454371['binSessionId']),_0x454371[_0x4199e1(0x172)]();}catch(_0xb61338){return logger[_0x4199e1(0x174)](_0x4199e1(0x1c8)+util['format'](_0xb61338)),![];}}async[a6_0x6e6aad(0x1cf)](){const _0x3a8280=a6_0x6e6aad;try{return await this['ensureCLIInitialized'](),BrowserstackCLI[_0x3a8280(0x116)]()[_0x3a8280(0x172)]();}catch(_0x17afb7){return logger[_0x3a8280(0x174)]('isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20'+util[_0x3a8280(0x1dd)](_0x17afb7)),![];}}}module[a6_0x6e6aad(0x190)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x6e6aad(0x1c3),'onTestCaseFinished','onTestStepStarted',a6_0x6e6aad(0x137),a6_0x6e6aad(0x185),a6_0x6e6aad(0x188),'extractStepContainers',a6_0x6e6aad(0x15f),'getGherkinStepMap']);