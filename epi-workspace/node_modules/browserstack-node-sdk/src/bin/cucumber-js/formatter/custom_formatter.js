const a7_0x1c79cb=a7_0x202b;function a7_0x4973(){const _0x39492d=['UNKNOWN','getTestUUID','pickle','parse','failed','eventDataCollector','PpNVs','duration','66RvVbaG','6KEyDRI','actionLocation','ndFTe','OoCwX','../../../helpers/testhub/utils.js','zmorL','rhPTt','MIoPd','FAILED','logTestCaseFinished','ioGLc','onTestStepStarted','2177944WvxmXh','MJCHE','HAWHL','onPickle','11zwmRuk','description','extractStepContainers','TestRunFinished','testCaseFinished','logTestRunFinished','ePoDn','children','sendTestRunEventForCucumber','pickleStepId','Exception\x20in\x20onTestStepStarted\x20event:\x20','seconds','sourceLocation','Lrxmp','exception','VNAFU','feature','\x20-\x20','bdjmT','DArhU','testCaseId','Executing\x20tests\x20for\x20','cgqgE','zEBRk','testRunStarted','testStepFinished','onTestRunStarted','onTestCaseFinished','renAQ','cwd','exports','uri','message','9FrcckN','48955laqegc','Wanpi','UnhandledError','scenario','@cucumber/cucumber','onTestStepFinished','testCaseAttempt','onTestRunFinished','3|0|2|1|4','env','SKIPPED','toISOString','PVQCL','push','testCases','forEach','bstack','steps','11681290xEpOrv','testStepStarted','map','testCase','testRunFinished','cVVQZ','../../../helpers/helper','MPNkG','AetLp','isBstackHook','finished_at','format','PASSED','debug','getTestCaseAttempt','UNDEFINED','find','sendHook','supportCodeLibrary','vxpzK','gherkinDocument','KSNLS','testSteps','onTestCaseStarted','WpnTa','envelope','hooks','capability','finishedAt','148478XtaIyP','oVtPN','CONFIG','pickleMap','LQIiS','WUofP','incrementCounter','testCaseMap','WUIgi','report','eventBroadcaster','log','onSource','parseTestCaseAttempt','toString','name','winstonLogger','result','testCaseStarted','onHook','background','bwpGg','Exception\x20in\x20onTestStepFinished\x20event:\x20','snippetBuilder','testStepResult','failure','getGherkinDocument','values','HookRunFinished','TestRunStarted','fcpUw','status','pickleId','4130343uKFTGW','split','tEYim','FMbZM','text','hook','qHrDp','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','testCaseAttemptDataMap','241138YMbEPI','includes','testStepId','testCaseStartedId','path','Uykfn','__platform','keyword','rule','kdBQG','stepDefinition','\x20\x20\x20\x20','gCbxB','assign','QEZBB','TyJXK','getGherkinStepMap','onStepDefinition','1314688MvzJci'];a7_0x4973=function(){return _0x39492d;};return a7_0x4973();}(function(_0x196ab5,_0x3fd764){const _0x460f74=a7_0x202b,_0x227c7d=_0x196ab5();while(!![]){try{const _0x5513f0=-parseInt(_0x460f74(0x155))/0x1+parseInt(_0x460f74(0x17f))/0x2*(-parseInt(_0x460f74(0x19b))/0x3)+parseInt(_0x460f74(0x191))/0x4+-parseInt(_0x460f74(0x1cd))/0x5*(-parseInt(_0x460f74(0x19a))/0x6)+-parseInt(_0x460f74(0x176))/0x7+-parseInt(_0x460f74(0x1a7))/0x8*(parseInt(_0x460f74(0x1cc))/0x9)+-parseInt(_0x460f74(0x138))/0xa*(-parseInt(_0x460f74(0x1ab))/0xb);if(_0x5513f0===_0x3fd764)break;else _0x227c7d['push'](_0x227c7d['shift']());}catch(_0x55aced){_0x227c7d['push'](_0x227c7d['shift']());}}}(a7_0x4973,0x56152));const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a7_0x1c79cb(0x13e)),util=require('util'),{Formatter,formatterHelpers,Status}=requireModule(a7_0x1c79cb(0x1d1)),TestDetails=require('../../playwright/reporter/test-details.js'),TestObservabilityReporter=require('../test-observability.js'),{o11yClassErrorHandler}=require('../../../helpers/test-observability/error-handler'),{shouldProcessEventForTesthub}=require(a7_0x1c79cb(0x19f)),testObservabilityReporter=new TestObservabilityReporter(),logger=require('../../../helpers/logger')[a7_0x1c79cb(0x165)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x3ab78a){const _0x6bd4c8=a7_0x1c79cb,_0x2f3ab5={};_0x2f3ab5[_0x6bd4c8(0x188)]=_0x6bd4c8(0x151);const _0x2c2b46=_0x2f3ab5;super(_0x3ab78a),this[_0x6bd4c8(0x15e)]={},_0x3ab78a[_0x6bd4c8(0x15f)]['on'](_0x2c2b46[_0x6bd4c8(0x188)],async _0x500777=>{const _0x551de8=_0x6bd4c8;switch(!![]){case!!_0x500777[_0x551de8(0x1c3)]:this['onTestRunStarted'](_0x500777['testRunStarted']);break;case!!_0x500777[_0x551de8(0x13c)]:this['onTestRunFinished'](_0x500777['testRunFinished']);break;case!!_0x500777['testCaseStarted']:this[_0x551de8(0x14f)](_0x500777[_0x551de8(0x167)],_0x3ab78a,_0x500777);break;case!!_0x500777[_0x551de8(0x1af)]:this[_0x551de8(0x1c6)](_0x500777['testCaseFinished'],_0x3ab78a,_0x500777);break;case!!_0x500777[_0x551de8(0x139)]:this[_0x551de8(0x1a6)](_0x500777[_0x551de8(0x139)],_0x3ab78a);break;case!!_0x500777[_0x551de8(0x1c4)]:this[_0x551de8(0x1d2)](_0x500777[_0x551de8(0x1c4)],_0x3ab78a);break;case!!_0x500777[_0x551de8(0x17b)]:this[_0x551de8(0x168)](_0x500777[_0x551de8(0x17b)]);break;case!!_0x500777[_0x551de8(0x13b)]:this['onTestCase'](_0x500777[_0x551de8(0x13b)]);break;case!!_0x500777[_0x551de8(0x194)]:this[_0x551de8(0x1aa)](_0x500777[_0x551de8(0x194)]);break;case!!_0x500777[_0x551de8(0x14c)]:this['onGherkinDocument'](_0x500777['gherkinDocument']);break;}});}[a7_0x1c79cb(0x168)](_0x126337){const _0x57fc1c=a7_0x1c79cb;this['report'][_0x57fc1c(0x152)]=Object[_0x57fc1c(0x18c)]([],this[_0x57fc1c(0x15e)][_0x57fc1c(0x152)]||[]),this[_0x57fc1c(0x15e)][_0x57fc1c(0x152)][_0x57fc1c(0x133)](_0x126337);}[a7_0x1c79cb(0x1aa)](_0x2e1d1b){const _0x3d2236=a7_0x1c79cb;this[_0x3d2236(0x15e)][_0x3d2236(0x194)]=Object[_0x3d2236(0x18c)]([],this[_0x3d2236(0x15e)]['pickle']||[],[_0x2e1d1b]),this[_0x3d2236(0x15e)][_0x3d2236(0x194)][_0x3d2236(0x133)](_0x2e1d1b);}['onGherkinDocument'](_0x57cdfc){const _0x5d74d8=a7_0x1c79cb;this[_0x5d74d8(0x15e)][_0x5d74d8(0x14c)]=Object['assign']([],this[_0x5d74d8(0x15e)][_0x5d74d8(0x14c)]||[],[_0x57cdfc]),this[_0x5d74d8(0x15e)][_0x5d74d8(0x14c)][_0x5d74d8(0x133)](_0x57cdfc);}[a7_0x1c79cb(0x161)](_0x3e2def){const _0x3c43b6=a7_0x1c79cb;this[_0x3c43b6(0x15e)]['source']=_0x3e2def;}[a7_0x1c79cb(0x190)](_0x1c0bd5){const _0x59daa8=a7_0x1c79cb;this[_0x59daa8(0x15e)][_0x59daa8(0x189)]=Object['assign']([],this[_0x59daa8(0x15e)][_0x59daa8(0x189)]||[],[_0x1c0bd5]),this[_0x59daa8(0x15e)][_0x59daa8(0x189)][_0x59daa8(0x133)](_0x1c0bd5);}['onTestCase'](_0x2c9a4f){const _0x1c6153=a7_0x1c79cb;this[_0x1c6153(0x15e)]['testCases']=Object[_0x1c6153(0x18c)]([],this['report'][_0x1c6153(0x134)]||[],[_0x2c9a4f]),this[_0x1c6153(0x15e)]['testCases']['push'](_0x2c9a4f);}['logTestCaseFinished'](_0x4927c3){const _0x4ed6ff=a7_0x1c79cb,_0xa80c9c={'Wanpi':function(_0x577ba7,_0x245939){return _0x577ba7!==_0x245939;},'MJCHE':_0x4ed6ff(0x136),'fcpUw':function(_0x8c08c3,_0x354373){return _0x8c08c3+_0x354373;},'aGaaZ':_0x4ed6ff(0x18a),'rhPTt':_0x4ed6ff(0x1bc),'Bzwul':function(_0x54d15d,_0x483982){return _0x54d15d===_0x483982;},'Obzpe':_0x4ed6ff(0x1a3),'cVVQZ':function(_0x132d57,_0x1ca199,_0x380560){return _0x132d57(_0x1ca199,_0x380560);},'WUofP':_0x4ed6ff(0x166),'ePoDn':_0x4ed6ff(0x1cb),'LQIiS':function(_0x49f924,_0x10447d){return _0x49f924+_0x10447d;}};_0xa80c9c[_0x4ed6ff(0x1ce)](global[_0x4ed6ff(0x185)],undefined)&&this[_0x4ed6ff(0x160)](_0xa80c9c['LQIiS'](_0xa80c9c[_0x4ed6ff(0x173)]('\x0a',global[_0x4ed6ff(0x185)]),'\x0a'));const _0x34d0c1=this[_0x4ed6ff(0x197)][_0x4ed6ff(0x146)](_0x4927c3[_0x4ed6ff(0x182)]);this[_0x4ed6ff(0x160)](_0xa80c9c[_0x4ed6ff(0x173)](_0xa80c9c[_0x4ed6ff(0x159)](_0xa80c9c[_0x4ed6ff(0x173)](_0xa80c9c[_0x4ed6ff(0x173)]('\x20\x20',_0x34d0c1[_0x4ed6ff(0x14c)][_0x4ed6ff(0x1bb)][_0x4ed6ff(0x164)]),_0xa80c9c['rhPTt']),_0x34d0c1[_0x4ed6ff(0x194)][_0x4ed6ff(0x164)]),'\x0a'));const _0x9a6083={};_0x9a6083[_0x4ed6ff(0x1c8)]=this['cwd'],_0x9a6083['snippetBuilder']=this[_0x4ed6ff(0x16c)],_0x9a6083[_0x4ed6ff(0x14a)]=this[_0x4ed6ff(0x14a)],_0x9a6083[_0x4ed6ff(0x1d3)]=_0x34d0c1;const _0x2d0c50=formatterHelpers[_0x4ed6ff(0x162)](_0x9a6083);let _0x4ae178=![];_0x2d0c50['testSteps'][_0x4ed6ff(0x135)](_0x3d49b4=>{const _0x20eeb3=_0x4ed6ff;if(_0xa80c9c['Wanpi'](_0x3d49b4[_0x20eeb3(0x164)],_0xa80c9c[_0x20eeb3(0x1a8)])&&!this[_0x20eeb3(0x141)](_0x3d49b4)){totalTests+=0x1,this['log'](_0xa80c9c[_0x20eeb3(0x173)](_0xa80c9c['fcpUw'](_0xa80c9c['fcpUw'](_0xa80c9c['fcpUw'](_0xa80c9c[_0x20eeb3(0x173)](_0xa80c9c['aGaaZ'],_0x3d49b4[_0x20eeb3(0x186)]),_0x3d49b4[_0x20eeb3(0x17a)]||''),_0xa80c9c[_0x20eeb3(0x1a1)]),Status[_0x3d49b4[_0x20eeb3(0x166)][_0x20eeb3(0x174)]]),'\x0a')),this['incrementCounter'](Status[_0x3d49b4[_0x20eeb3(0x166)][_0x20eeb3(0x174)]]);if(_0xa80c9c['Bzwul'](Status[_0x3d49b4['result'][_0x20eeb3(0x174)]],_0xa80c9c['Obzpe'])){_0x4ae178=!![];const _0x1b71a8=_0xa80c9c[_0x20eeb3(0x13d)](nestedKeyValue,_0x3d49b4,[_0xa80c9c[_0x20eeb3(0x15a)],_0xa80c9c[_0x20eeb3(0x1b1)]]);_0x1b71a8&&(testsErrorMessage[_0xa80c9c['fcpUw'](_0xa80c9c[_0x20eeb3(0x173)](_0x34d0c1['gherkinDocument'][_0x20eeb3(0x1bb)][_0x20eeb3(0x164)],_0xa80c9c[_0x20eeb3(0x1a1)]),_0x34d0c1[_0x20eeb3(0x194)][_0x20eeb3(0x164)])]=_0x1b71a8,this[_0x20eeb3(0x160)](_0xa80c9c[_0x20eeb3(0x173)](_0x1b71a8,'\x0a')));}}}),_0x4ae178&&(testSuitesFailed+=0x1),this[_0x4ed6ff(0x160)]('\x0a');}['logTestRunFinished'](_0x49dd46){}['isBstackHook'](_0x527986){const _0x5982fe=a7_0x1c79cb,_0x2254e={};_0x2254e['OoCwX']=function(_0x370029,_0xc3b5d6){return _0x370029!==_0xc3b5d6;},_0x2254e[_0x5982fe(0x18e)]='cucumber-js/test.setup.js';const _0x30169f=_0x2254e;if(_0x30169f[_0x5982fe(0x19e)](_0x527986[_0x5982fe(0x1b7)],undefined))return![];if(_0x527986[_0x5982fe(0x19c)]&&_0x527986[_0x5982fe(0x19c)]['uri'][_0x5982fe(0x180)](_0x30169f[_0x5982fe(0x18e)]))return!![];return![];}[a7_0x1c79cb(0x15b)](_0x3942b7){const _0x286a7b=a7_0x1c79cb,_0xe5e9c8={};_0xe5e9c8[_0x286a7b(0x18b)]=_0x286a7b(0x1a3),_0xe5e9c8[_0x286a7b(0x184)]=_0x286a7b(0x144),_0xe5e9c8[_0x286a7b(0x1b8)]=_0x286a7b(0x1d7),_0xe5e9c8[_0x286a7b(0x1a5)]='PENDING',_0xe5e9c8[_0x286a7b(0x14d)]=_0x286a7b(0x147),_0xe5e9c8[_0x286a7b(0x150)]=_0x286a7b(0x192),_0xe5e9c8[_0x286a7b(0x19d)]='AMBIGUOUS';const _0x1acab5=_0xe5e9c8;switch(_0x3942b7){case _0x1acab5[_0x286a7b(0x18b)]:testsFailed+=0x1;break;case _0x1acab5[_0x286a7b(0x184)]:testsPassed+=0x1;break;case _0x1acab5[_0x286a7b(0x1b8)]:testsSkipped+=0x1;break;case _0x1acab5[_0x286a7b(0x1a5)]:testsPending+=0x1;break;case _0x1acab5[_0x286a7b(0x14d)]:testsUndefined+=0x1;break;case _0x1acab5[_0x286a7b(0x150)]:testsUnknown+=0x1;break;case _0x1acab5['ndFTe']:testsAmbiguous+=0x1;break;default:break;}}[a7_0x1c79cb(0x1c5)](_0x517ea9){const _0x50cb7f=a7_0x1c79cb,_0x25eada={'MIoPd':function(_0x3452fd,_0x4653cc){return _0x3452fd!==_0x4653cc;},'VNAFU':function(_0x484c02){return _0x484c02();},'Oxcpd':function(_0x297b15,_0x5bd1a3){return _0x297b15(_0x5bd1a3);},'QEZBB':function(_0x379bbc,_0x417d1f){return _0x379bbc+_0x417d1f;}};let _0x344143;if(_0x25eada['MIoPd'](process['env'][_0x50cb7f(0x157)],undefined)){const _0x139719=JSON[_0x50cb7f(0x195)](process[_0x50cb7f(0x1d6)][_0x50cb7f(0x157)]);_0x344143=_0x139719[_0x50cb7f(0x153)];}_0x25eada[_0x50cb7f(0x1a2)](_0x344143,undefined)&&_0x25eada[_0x50cb7f(0x1ba)](isBrowserstackInfra)&&(global[_0x50cb7f(0x185)]=_0x25eada['Oxcpd'](getPlatformName,_0x344143),this[_0x50cb7f(0x160)](_0x25eada[_0x50cb7f(0x18d)](_0x50cb7f(0x1c0)+global[_0x50cb7f(0x185)],'\x0a'))),_0x25eada[_0x50cb7f(0x1ba)](shouldProcessEventForTesthub)&&(TestDetails['setup'](),this['report']['testRunStarted']=_0x517ea9);}['onTestRunFinished'](_0x267ffc){const _0xdc21c6=a7_0x1c79cb;this[_0xdc21c6(0x15e)][_0xdc21c6(0x13c)]=_0x267ffc,this[_0xdc21c6(0x1b0)](_0x267ffc);}async[a7_0x1c79cb(0x14f)](_0x45aac6,_0x3d96c0,_0x13f301){const _0x5598c4=a7_0x1c79cb,_0x17b921={'zEBRk':function(_0x5765ee,_0x190468){return _0x5765ee(_0x190468);},'tEYim':_0x5598c4(0x172),'PpNVs':function(_0x16c387,_0x3f3a65){return _0x16c387&&_0x3f3a65;}};testSuites+=0x1;if(_0x17b921[_0x5598c4(0x1c2)](shouldProcessEventForTesthub,_0x17b921[_0x5598c4(0x178)]))try{this['report'][_0x5598c4(0x167)]=this[_0x5598c4(0x15e)][_0x5598c4(0x167)]||{},this['report'][_0x5598c4(0x167)][_0x45aac6['id']]=_0x45aac6;const _0x479220=TestDetails[_0x5598c4(0x193)](_0x45aac6['id']);_testCasesData[_0x45aac6['id']]=Object['assign']({},_0x13f301);const _0xe7a3ba=this[_0x5598c4(0x15e)],_0x17da55=_0x45aac6[_0x5598c4(0x1bf)],_0x3f5539=_0xe7a3ba[_0x5598c4(0x134)][_0x5598c4(0x148)](_0x47ac49=>_0x47ac49['id']===_0x17da55)['pickleId'],_0x2a0a54=_0xe7a3ba['pickle'][_0x5598c4(0x148)](_0x8adeec=>_0x8adeec['id']===_0x3f5539),_0x543f1d=_0xe7a3ba['gherkinDocument']['find'](_0x19f3c9=>_0x19f3c9['uri']===_0x2a0a54[_0x5598c4(0x1ca)]),_0xf0aeda=_0x543f1d['feature'],_0x5ab124={'uuid':_0x479220,'startedAt':new Date()['toISOString']()};if(_0x2a0a54){const _0x3ff4b5={};_0x3ff4b5[_0x5598c4(0x164)]=_0x2a0a54[_0x5598c4(0x164)],_0x5ab124[_0x5598c4(0x1d0)]=_0x3ff4b5;}if(_0x17b921[_0x5598c4(0x198)](_0x543f1d,_0xf0aeda)){const _0xa24551={};_0xa24551[_0x5598c4(0x183)]=_0x543f1d[_0x5598c4(0x1ca)],_0xa24551[_0x5598c4(0x164)]=_0xf0aeda[_0x5598c4(0x164)],_0xa24551[_0x5598c4(0x1ac)]=_0xf0aeda[_0x5598c4(0x1ac)],_0x5ab124[_0x5598c4(0x1bb)]=_0xa24551;}_tests[_0x17da55]=_0x5ab124,await testObservabilityReporter[_0x5598c4(0x1b3)](_0x13f301,_0x543f1d,_0x2a0a54,_0x17b921['tEYim'],_0x5ab124);}catch(_0x455336){logger['debug']('Exception\x20in\x20sending\x20onTestCaseStarted:\x20'+util[_0x5598c4(0x143)](_0x455336)+'\x20');}}async['onTestCaseFinished'](_0x39e6a7,_0x4943dc,_0xf1147e){const _0x1fa00b=a7_0x1c79cb,_0x42c097={'oVtPN':function(_0x254c02,_0x18b1a1){return _0x254c02(_0x18b1a1);},'vxpzK':_0x1fa00b(0x1ae)};this[_0x1fa00b(0x1a4)](_0x39e6a7);if(_0x42c097[_0x1fa00b(0x156)](shouldProcessEventForTesthub,_0x42c097[_0x1fa00b(0x14b)]))try{this['report']['testCaseFinished']=this[_0x1fa00b(0x15e)][_0x1fa00b(0x1af)]||{},this['report'][_0x1fa00b(0x1af)][_0x39e6a7[_0x1fa00b(0x182)]]=_0x39e6a7,_testCasesData[_0xf1147e['id']]=Object['assign']({},_0xf1147e);const _0x53f125=_0x39e6a7[_0x1fa00b(0x182)],_0x29e137=_0x4943dc[_0x1fa00b(0x197)][_0x1fa00b(0x17e)][_0x53f125][_0x1fa00b(0x1bf)],_0x92ef1a=_0x4943dc[_0x1fa00b(0x197)][_0x1fa00b(0x15c)][_0x29e137],_0xaeefe7=_0x92ef1a[_0x1fa00b(0x175)],_0x1a81ad=_0x4943dc[_0x1fa00b(0x197)][_0x1fa00b(0x158)][_0xaeefe7],_0x46c6c8=this[_0x1fa00b(0x16f)](_0x4943dc,_0x1a81ad),_0x5d8a95=_tests[_0x29e137];_0x5d8a95&&(delete _tests[_0x29e137],_0x5d8a95[_0x1fa00b(0x154)]=new Date()['toISOString']()),await testObservabilityReporter[_0x1fa00b(0x1b3)](_0xf1147e,_0x46c6c8,_0x1a81ad,_0x42c097[_0x1fa00b(0x14b)],_0x5d8a95);}catch(_0x157c6d){logger[_0x1fa00b(0x145)](_0x1fa00b(0x17d)+util[_0x1fa00b(0x143)](_0x157c6d));}}async[a7_0x1c79cb(0x1a6)](_0x4eeb7b,_0x402d2a){const _0x160a8c=a7_0x1c79cb,_0x380ee3={'qHrDp':function(_0x1eb9f6,_0x1d1e43){return _0x1eb9f6(_0x1d1e43);},'cgqgE':'HookRunStarted','bwpGg':function(_0x2f4066,_0x1a62c8){return _0x2f4066!==_0x1a62c8;},'zmorL':_0x160a8c(0x181)};if(_0x380ee3[_0x160a8c(0x17c)](shouldProcessEventForTesthub,_0x380ee3[_0x160a8c(0x1c1)]))try{this[_0x160a8c(0x15e)][_0x160a8c(0x139)]=this[_0x160a8c(0x15e)][_0x160a8c(0x139)]||{},this[_0x160a8c(0x15e)]['testStepStarted'][_0x4eeb7b[_0x160a8c(0x182)]]=_0x4eeb7b;const _0x36ebc3=_0x4eeb7b['testCaseStartedId'],_0x1aa9ef=_0x402d2a[_0x160a8c(0x197)]['testCaseAttemptDataMap'][_0x36ebc3]['testCaseId'],_0x19087b=this[_0x160a8c(0x15e)][_0x160a8c(0x134)][_0x160a8c(0x148)](_0x5dc92c=>_0x5dc92c['id']===_0x1aa9ef)[_0x160a8c(0x175)],_0x3534cf=this[_0x160a8c(0x15e)][_0x160a8c(0x194)]['find'](_0x3ed426=>_0x3ed426['id']===_0x19087b),_0x1c0101=this[_0x160a8c(0x15e)]['testCases'][_0x160a8c(0x148)](_0x232c4a=>_0x232c4a['id']===_0x1aa9ef)[_0x160a8c(0x14e)],_0x304508=this[_0x160a8c(0x15e)][_0x160a8c(0x139)][_0x36ebc3][_0x160a8c(0x181)],_0x1d1f0d=_0x1c0101['find'](_0x3baace=>_0x3baace['id']===_0x304508)[_0x160a8c(0x1b4)],_0x319b94=_0x3534cf[_0x160a8c(0x137)][_0x160a8c(0x148)](_0x25f4d1=>_0x25f4d1['id']===_0x1d1f0d);if(_0x1d1f0d&&_tests[_0x1aa9ef]&&_0x380ee3[_0x160a8c(0x16a)](_tests[_0x1aa9ef][_0x380ee3[_0x160a8c(0x1a0)]],_0x304508)){_tests[_0x1aa9ef][_0x380ee3[_0x160a8c(0x1a0)]]=_0x304508;const _0x337600={};_0x337600[_0x160a8c(0x137)]=[];const _0x48128e=_tests[_0x1aa9ef]||_0x337600;_0x48128e&&!_0x48128e[_0x160a8c(0x137)]&&(_0x48128e[_0x160a8c(0x137)]=[]),_0x48128e[_0x160a8c(0x137)][_0x160a8c(0x133)]({'id':_0x319b94['id'],'text':_0x319b94[_0x160a8c(0x17a)],'started_at':new Date()[_0x160a8c(0x131)]()}),_tests[_0x1aa9ef]=_0x48128e;}await testObservabilityReporter[_0x160a8c(0x149)](this[_0x160a8c(0x15e)],_0x36ebc3,_0x380ee3[_0x160a8c(0x1c1)],_0x1c0101,_0x304508,_tests[_0x1aa9ef]);}catch(_0x969a25){logger[_0x160a8c(0x145)](_0x160a8c(0x1b5)+util['format'](_0x969a25));}}async['onTestStepFinished'](_0x11a871,_0x3d6342){const _0x7aa3ca=a7_0x1c79cb,_0xbb5f17={'AetLp':function(_0x3f489f,_0x4247d4){return _0x3f489f===_0x4247d4;},'bdjmT':_0x7aa3ca(0x1d5),'FMbZM':function(_0x269606,_0x5ab685){return _0x269606(_0x5ab685);},'MPNkG':_0x7aa3ca(0x171),'jsqdL':_0x7aa3ca(0x196),'renAQ':function(_0x357dec,_0x1eccf4){return _0x357dec===_0x1eccf4;},'HAWHL':_0x7aa3ca(0x1cf),'PVQCL':'testStepId'};this[_0x7aa3ca(0x15e)]['testStepFinished']=this[_0x7aa3ca(0x15e)][_0x7aa3ca(0x1c4)]||{},this[_0x7aa3ca(0x15e)][_0x7aa3ca(0x1c4)][_0x11a871[_0x7aa3ca(0x182)]]=_0x11a871;if(_0xbb5f17[_0x7aa3ca(0x179)](shouldProcessEventForTesthub,_0xbb5f17['MPNkG']))try{const _0x134df8=_0x11a871['testCaseStartedId'],_0x220f73=_0x3d6342['eventDataCollector'][_0x7aa3ca(0x17e)][_0x134df8][_0x7aa3ca(0x1bf)],_0x278ac5=_0x3d6342[_0x7aa3ca(0x197)]['testCaseMap'][_0x220f73],_0x155300=_0x278ac5[_0x7aa3ca(0x175)],_0x4bd76b=_0x3d6342['eventDataCollector'][_0x7aa3ca(0x158)][_0x155300],_0x2a8c89=_0x11a871[_0x7aa3ca(0x181)],_0x11197c=_0x278ac5[_0x7aa3ca(0x14e)],_0x2328e4=this['eventDataCollector'][_0x7aa3ca(0x146)](_0x134df8),_0x4ccaec=_0x11197c[_0x7aa3ca(0x148)](_0xf55525=>_0xf55525['id']===_0x2a8c89)[_0x7aa3ca(0x1b4)];let _0xba7a11,_0x1f8ac1;_0x11a871['testStepResult']&&_0xbb5f17[_0x7aa3ca(0x140)](_0x11a871['testStepResult']['status'][_0x7aa3ca(0x163)]()['toLowerCase'](),_0xbb5f17['jsqdL'])&&(_0xba7a11=_0xbb5f17[_0x7aa3ca(0x140)](_0x11a871[_0x7aa3ca(0x16d)][_0x7aa3ca(0x1b9)],undefined)?_0x11a871[_0x7aa3ca(0x16d)]['message']:_0x11a871[_0x7aa3ca(0x16d)][_0x7aa3ca(0x1b9)]['message'],_0x1f8ac1=_0xbb5f17[_0x7aa3ca(0x1c7)](_0x11a871[_0x7aa3ca(0x16d)][_0x7aa3ca(0x1b9)],undefined)?_0xbb5f17[_0x7aa3ca(0x1a9)]:_0x11a871[_0x7aa3ca(0x16d)][_0x7aa3ca(0x1cb)]);await testObservabilityReporter[_0x7aa3ca(0x149)](this[_0x7aa3ca(0x15e)],_0x134df8,_0xbb5f17[_0x7aa3ca(0x13f)],_0x11197c,_0x2a8c89,_tests[_0x220f73]);if(_0x4ccaec&&_tests[_0x220f73][_0xbb5f17[_0x7aa3ca(0x132)]]){const _0x14df2b=_0x4bd76b[_0x7aa3ca(0x137)][_0x7aa3ca(0x148)](_0x514f44=>_0x514f44['id']===_0x4ccaec),_0x2b493c={};_0x2b493c['steps']=[];const _0x282fba=_tests[_0x220f73]||_0x2b493c;!_0x282fba[_0x7aa3ca(0x137)]?_0x282fba[_0x7aa3ca(0x137)]=[{'id':_0x14df2b['id'],'text':_0x14df2b[_0x7aa3ca(0x17a)],'finished_at':new Date()['toISOString'](),'result':_0x11a871[_0x7aa3ca(0x16d)][_0x7aa3ca(0x174)],'duration':_0x11a871[_0x7aa3ca(0x16d)]['duration'][_0x7aa3ca(0x1b6)],'failure':_0xba7a11,'failureType':_0x1f8ac1}]:_0x282fba['steps'][_0x7aa3ca(0x135)](_0x1fed0b=>{const _0x2f0be3=_0x7aa3ca;if(_0xbb5f17[_0x2f0be3(0x140)](_0x1fed0b['id'],_0x14df2b['id'])){const _0x938d9d=_0xbb5f17[_0x2f0be3(0x1bd)][_0x2f0be3(0x177)]('|');let _0x5bf9db=0x0;while(!![]){switch(_0x938d9d[_0x5bf9db++]){case'0':_0x1fed0b['result']=_0x11a871[_0x2f0be3(0x16d)][_0x2f0be3(0x174)];continue;case'1':_0x1fed0b[_0x2f0be3(0x16e)]=_0xba7a11;continue;case'2':_0x1fed0b[_0x2f0be3(0x199)]=_0x11a871['testStepResult'][_0x2f0be3(0x199)][_0x2f0be3(0x1b6)];continue;case'3':_0x1fed0b[_0x2f0be3(0x142)]=new Date()['toISOString']();continue;case'4':_0x1fed0b['failureType']=_0x1f8ac1;continue;}break;}}}),_tests[_0x220f73]=_0x282fba,delete _tests[_0x220f73][_0xbb5f17[_0x7aa3ca(0x132)]];}}catch(_0x5df942){logger['debug'](_0x7aa3ca(0x16b)+util[_0x7aa3ca(0x143)](_0x5df942));}}[a7_0x1c79cb(0x18f)](_0x4dc926){const _0x11bb5e=a7_0x1c79cb,_0xe50d44={};return _0x4dc926['feature'][_0x11bb5e(0x1b2)][_0x11bb5e(0x13a)](this[_0x11bb5e(0x1ad)])['flat']()[_0x11bb5e(0x135)](_0x597360=>_0x597360[_0x11bb5e(0x137)][_0x11bb5e(0x135)](_0x58ccd2=>_0xe50d44[_0x58ccd2['id']]=_0x58ccd2)),_0xe50d44;}[a7_0x1c79cb(0x1ad)](_0x3c8385){const _0x3394ae=a7_0x1c79cb,_0x1921e7={'WUIgi':function(_0x5c8669,_0x5e02c2){return _0x5c8669(_0x5e02c2);},'DArhU':function(_0x2ee8e2,_0x2c6d9c){return _0x2ee8e2(_0x2c6d9c);}};if(!_0x1921e7[_0x3394ae(0x15d)](isUndefined,_0x3c8385[_0x3394ae(0x169)]))return[_0x3c8385[_0x3394ae(0x169)]];else{if(!_0x1921e7[_0x3394ae(0x1be)](isUndefined,_0x3c8385[_0x3394ae(0x187)]))return _0x3c8385[_0x3394ae(0x187)][_0x3394ae(0x1b2)][_0x3394ae(0x13a)](_0x21b04f=>!isUndefined(_0x21b04f[_0x3394ae(0x169)])?_0x21b04f['background']:_0x21b04f[_0x3394ae(0x1d0)]);};return[_0x3c8385[_0x3394ae(0x1d0)]];}[a7_0x1c79cb(0x16f)](_0x4f6134,_0x10505d){const _0x56e2a1=a7_0x1c79cb;return Object[_0x56e2a1(0x170)](_0x4f6134[_0x56e2a1(0x197)]['gherkinDocumentMap'])[_0x56e2a1(0x148)](_0x4c957d=>_0x4c957d[_0x56e2a1(0x1ca)]===_0x10505d[_0x56e2a1(0x1ca)]);}}function a7_0x202b(_0x5acfba,_0x224be7){const _0x4973ee=a7_0x4973();return a7_0x202b=function(_0x202b0d,_0xf5960){_0x202b0d=_0x202b0d-0x131;let _0x2a07ec=_0x4973ee[_0x202b0d];return _0x2a07ec;},a7_0x202b(_0x5acfba,_0x224be7);}module[a7_0x1c79cb(0x1c9)]=o11yClassErrorHandler(BrowserstackFormatter,['onTestCaseStarted','onTestCaseFinished',a7_0x1c79cb(0x1a6),a7_0x1c79cb(0x1d2),a7_0x1c79cb(0x1c5),a7_0x1c79cb(0x1d4),a7_0x1c79cb(0x1ad),a7_0x1c79cb(0x16f),a7_0x1c79cb(0x18f)]);