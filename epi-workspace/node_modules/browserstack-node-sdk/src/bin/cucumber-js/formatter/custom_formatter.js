const a6_0x387eff=a6_0x409a;(function(_0x25368e,_0x354166){const _0x307948=a6_0x409a,_0x5691ad=_0x25368e();while(!![]){try{const _0x16d3a9=-parseInt(_0x307948(0x15c))/0x1+-parseInt(_0x307948(0x14c))/0x2*(parseInt(_0x307948(0x1b6))/0x3)+parseInt(_0x307948(0x190))/0x4+parseInt(_0x307948(0x1a8))/0x5+parseInt(_0x307948(0x17f))/0x6+parseInt(_0x307948(0x188))/0x7*(parseInt(_0x307948(0x17d))/0x8)+parseInt(_0x307948(0x1db))/0x9;if(_0x16d3a9===_0x354166)break;else _0x5691ad['push'](_0x5691ad['shift']());}catch(_0x537c50){_0x5691ad['push'](_0x5691ad['shift']());}}}(a6_0xddfd,0xc0cef));function a6_0xddfd(){const _0x5c2808=['qlKpC','debug','PENDING','onTestCaseFinished','path','OMekc','exports','report','pickle','sFZIO','zMjZU','oZtdk','values','hooks','envelope','message','HoLCW','TestRunFinished','getGherkinDocument','../test-observability.js','Exception\x20in\x20onTestStepFinished\x20event:\x20','1491876lJehas','onTestRunFinished','testRunStarted','testCases','HjreM','hook','sendTestRunEventForCucumber','split','UdVdO','parse','text','Iibeh','cwd','failure','stepDefinition','getTestCaseAttempt','SWxEK','NSdAL','testStepFinished','sourceLocation','vXdHX','__platform','extractStepContainers','setup','QlqcV','6bROTEx','bstack','background','rQadO','duration','supportCodeLibrary','fIcIF','HookRunStarted','sendHook','failed','uri','onHook','krYmS','seconds','UAeYh','children','603615XFyxDZ','rule','name','description','actionLocation','toISOString','isBstackHook','onTestCase','testCase','BWWpE','eventBroadcaster','map','onTestRunStarted','UNDEFINED','SnNuS','format','finishedAt','pickleStepId','find','@cucumber/cucumber','flat','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','testCaseStarted','steps','VzvEf','log','capability','onTestCaseStarted','logTestRunFinished','testStepId','eventDataCollector','wbXHz','testCaseAttemptDataMap','228728HNgnqw','AKajv','1986138MLpdnn','VccNe','exception','onTestStepStarted','source','testCaseFinished','feature','SKIPPED','VlSRw','119rYdHrz','gherkinDocument','forEach','scenario','parseTestCaseAttempt','../../playwright/reporter/test-details.js','AMBIGUOUS','JKEbw','1738692EoOdaI','Syfrt','zdfDL','kIWiX','XIAka','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','getTestUUID','env','LiScS','dohQs','../../../helpers/test-observability/error-handler','zCnMk','incrementCounter','failureType','2|3|0|4|1','../../../helpers/helper','HookRunFinished','pickleId','util','result','assign','gherkinDocumentMap','pickleMap','onTestStepFinished','1733390KMMyEs','testCaseId','testStepStarted','UNKNOWN','bIgRW','status','testRunFinished','kfCEc','onPickle','MXVRH','finished_at','XiSKc','emXsQ','testCaseStartedId','370827SZtjVz','qanaO','testStepResult','CONFIG','FAILED','ZNSUi','rMVHM','testSteps','fvUYd','\x20\x20\x20\x20','WnFpB','PASSED','push','getGherkinStepMap','sBnsy','testCaseMap'];a6_0xddfd=function(){return _0x5c2808;};return a6_0xddfd();}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x387eff(0x19f)),util=require(a6_0x387eff(0x1a2)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x387eff(0x16f)),TestDetails=require(a6_0x387eff(0x18d)),TestObservabilityReporter=require(a6_0x387eff(0x1d9)),{o11yClassErrorHandler}=require(a6_0x387eff(0x19a)),{shouldProcessEventForTesthub}=require('../../../helpers/testhub/utils.js'),testObservabilityReporter=new TestObservabilityReporter(),logger=require('../../../helpers/logger')['winstonLogger'],_tests={},_testCasesData={};function a6_0x409a(_0x2df0b9,_0x55cd82){const _0xddfdf2=a6_0xddfd();return a6_0x409a=function(_0x409a32,_0x29966f){_0x409a32=_0x409a32-0x136;let _0x2c3bfb=_0xddfdf2[_0x409a32];return _0x2c3bfb;},a6_0x409a(_0x2df0b9,_0x55cd82);}class BrowserstackFormatter extends Formatter{constructor(_0x462504){const _0x65f9d9=a6_0x387eff,_0x2812be={};_0x2812be[_0x65f9d9(0x198)]=_0x65f9d9(0x1d4);const _0x4aa43c=_0x2812be;super(_0x462504),this['report']={},_0x462504[_0x65f9d9(0x166)]['on'](_0x4aa43c[_0x65f9d9(0x198)],async _0x1ff3af=>{const _0x5ea598=_0x65f9d9;switch(!![]){case!!_0x1ff3af['testRunStarted']:this[_0x5ea598(0x168)](_0x1ff3af[_0x5ea598(0x1dd)]);break;case!!_0x1ff3af[_0x5ea598(0x1ae)]:this[_0x5ea598(0x1dc)](_0x1ff3af[_0x5ea598(0x1ae)]);break;case!!_0x1ff3af[_0x5ea598(0x172)]:this[_0x5ea598(0x177)](_0x1ff3af[_0x5ea598(0x172)],_0x462504,_0x1ff3af);break;case!!_0x1ff3af[_0x5ea598(0x184)]:this[_0x5ea598(0x1c9)](_0x1ff3af[_0x5ea598(0x184)],_0x462504,_0x1ff3af);break;case!!_0x1ff3af[_0x5ea598(0x1aa)]:this[_0x5ea598(0x182)](_0x1ff3af[_0x5ea598(0x1aa)],_0x462504);break;case!!_0x1ff3af[_0x5ea598(0x145)]:this['onTestStepFinished'](_0x1ff3af['testStepFinished'],_0x462504);break;case!!_0x1ff3af[_0x5ea598(0x138)]:this[_0x5ea598(0x157)](_0x1ff3af['hook']);break;case!!_0x1ff3af[_0x5ea598(0x164)]:this[_0x5ea598(0x163)](_0x1ff3af[_0x5ea598(0x164)]);break;case!!_0x1ff3af[_0x5ea598(0x1ce)]:this[_0x5ea598(0x1b0)](_0x1ff3af[_0x5ea598(0x1ce)]);break;case!!_0x1ff3af[_0x5ea598(0x189)]:this['onGherkinDocument'](_0x1ff3af['gherkinDocument']);break;}});}['onHook'](_0x2dcc3c){const _0xa51000=a6_0x387eff;this['report'][_0xa51000(0x1d3)]=Object[_0xa51000(0x1a4)]([],this[_0xa51000(0x1cd)][_0xa51000(0x1d3)]||[]),this[_0xa51000(0x1cd)]['hooks'][_0xa51000(0x1c2)](_0x2dcc3c);}[a6_0x387eff(0x1b0)](_0xd3a348){const _0x43e41f=a6_0x387eff;this['report'][_0x43e41f(0x1ce)]=Object[_0x43e41f(0x1a4)]([],this[_0x43e41f(0x1cd)][_0x43e41f(0x1ce)]||[],[_0xd3a348]),this[_0x43e41f(0x1cd)][_0x43e41f(0x1ce)]['push'](_0xd3a348);}['onGherkinDocument'](_0x542540){const _0x114220=a6_0x387eff;this[_0x114220(0x1cd)][_0x114220(0x189)]=Object[_0x114220(0x1a4)]([],this['report'][_0x114220(0x189)]||[],[_0x542540]),this[_0x114220(0x1cd)][_0x114220(0x189)][_0x114220(0x1c2)](_0x542540);}['onSource'](_0x46798b){const _0x30f186=a6_0x387eff;this['report'][_0x30f186(0x183)]=_0x46798b;}['onStepDefinition'](_0x468f2e){const _0x5da2fc=a6_0x387eff;this[_0x5da2fc(0x1cd)][_0x5da2fc(0x141)]=Object[_0x5da2fc(0x1a4)]([],this[_0x5da2fc(0x1cd)][_0x5da2fc(0x141)]||[],[_0x468f2e]),this['report']['stepDefinition'][_0x5da2fc(0x1c2)](_0x468f2e);}[a6_0x387eff(0x163)](_0x3535c4){const _0x35eb4c=a6_0x387eff;this['report']['testCases']=Object[_0x35eb4c(0x1a4)]([],this['report'][_0x35eb4c(0x136)]||[],[_0x3535c4]),this[_0x35eb4c(0x1cd)][_0x35eb4c(0x136)]['push'](_0x3535c4);}['logTestCaseFinished'](_0x823c90){const _0x806d1e=a6_0x387eff,_0x5b3480={'sBnsy':function(_0xb4a337,_0x2311a9){return _0xb4a337!==_0x2311a9;},'XIAka':_0x806d1e(0x14d),'OMekc':function(_0x2761e3,_0x3caf3f){return _0x2761e3+_0x3caf3f;},'BWWpE':function(_0x1a78a8,_0x31c387){return _0x1a78a8+_0x31c387;},'wbXHz':function(_0x336f35,_0x2e0c09){return _0x336f35+_0x2e0c09;},'krYmS':_0x806d1e(0x1bf),'LtzTM':'\x20-\x20','XiSKc':function(_0x68a896,_0x8cd69f){return _0x68a896===_0x8cd69f;},'bIgRW':_0x806d1e(0x1ba),'JKEbw':function(_0x26e35b,_0x551f6f,_0x3c2112){return _0x26e35b(_0x551f6f,_0x3c2112);},'VccNe':_0x806d1e(0x1a3),'VlSRw':_0x806d1e(0x1d5),'vXdHX':function(_0x475fbd,_0x35c7dd){return _0x475fbd+_0x35c7dd;},'HjreM':function(_0x4ef034,_0x2d0025){return _0x4ef034+_0x2d0025;},'AKajv':function(_0x301af6,_0x22e706){return _0x301af6!==_0x22e706;},'dohQs':function(_0x316136,_0x269057){return _0x316136+_0x269057;}};_0x5b3480[_0x806d1e(0x17e)](global['__platform'],undefined)&&this[_0x806d1e(0x175)](_0x5b3480[_0x806d1e(0x199)](_0x5b3480[_0x806d1e(0x17b)]('\x0a',global[_0x806d1e(0x148)]),'\x0a'));const _0x2a7a9b=this['eventDataCollector'][_0x806d1e(0x142)](_0x823c90['testCaseStartedId']);this[_0x806d1e(0x175)](_0x5b3480['vXdHX'](_0x5b3480['HjreM'](_0x5b3480[_0x806d1e(0x137)](_0x5b3480[_0x806d1e(0x165)]('\x20\x20',_0x2a7a9b[_0x806d1e(0x189)][_0x806d1e(0x185)][_0x806d1e(0x15e)]),_0x5b3480['LtzTM']),_0x2a7a9b[_0x806d1e(0x1ce)]['name']),'\x0a'));const _0x581692={};_0x581692[_0x806d1e(0x13f)]=this[_0x806d1e(0x13f)],_0x581692['snippetBuilder']=this['snippetBuilder'],_0x581692[_0x806d1e(0x151)]=this[_0x806d1e(0x151)],_0x581692['testCaseAttempt']=_0x2a7a9b;const _0x4f4cff=formatterHelpers[_0x806d1e(0x18c)](_0x581692);let _0x43bd26=![];_0x4f4cff[_0x806d1e(0x1bd)][_0x806d1e(0x18a)](_0x5c6fa7=>{const _0x556b68=_0x806d1e;if(_0x5b3480[_0x556b68(0x1c4)](_0x5c6fa7[_0x556b68(0x15e)],_0x5b3480[_0x556b68(0x194)])&&!this['isBstackHook'](_0x5c6fa7)){totalTests+=0x1,this['log'](_0x5b3480[_0x556b68(0x1cb)](_0x5b3480[_0x556b68(0x165)](_0x5b3480['wbXHz'](_0x5b3480[_0x556b68(0x165)](_0x5b3480[_0x556b68(0x17b)](_0x5b3480[_0x556b68(0x158)],_0x5c6fa7['keyword']),_0x5c6fa7[_0x556b68(0x13d)]||''),_0x5b3480['LtzTM']),Status[_0x5c6fa7[_0x556b68(0x1a3)][_0x556b68(0x1ad)]]),'\x0a')),this['incrementCounter'](Status[_0x5c6fa7[_0x556b68(0x1a3)][_0x556b68(0x1ad)]]);if(_0x5b3480[_0x556b68(0x1b3)](Status[_0x5c6fa7[_0x556b68(0x1a3)][_0x556b68(0x1ad)]],_0x5b3480[_0x556b68(0x1ac)])){_0x43bd26=!![];const _0x95ed3e=_0x5b3480[_0x556b68(0x18f)](nestedKeyValue,_0x5c6fa7,[_0x5b3480[_0x556b68(0x180)],_0x5b3480[_0x556b68(0x187)]]);_0x95ed3e&&(testsErrorMessage[_0x5b3480[_0x556b68(0x165)](_0x5b3480[_0x556b68(0x147)](_0x2a7a9b[_0x556b68(0x189)][_0x556b68(0x185)]['name'],_0x5b3480['LtzTM']),_0x2a7a9b['pickle']['name'])]=_0x95ed3e,this[_0x556b68(0x175)](_0x5b3480[_0x556b68(0x137)](_0x95ed3e,'\x0a')));}}}),_0x43bd26&&(testSuitesFailed+=0x1),this[_0x806d1e(0x175)]('\x0a');}[a6_0x387eff(0x178)](_0x477042){}[a6_0x387eff(0x162)](_0x3ea976){const _0x5ea436=a6_0x387eff,_0x4cf8a4={};_0x4cf8a4[_0x5ea436(0x19b)]=function(_0x4fda1e,_0x551594){return _0x4fda1e!==_0x551594;},_0x4cf8a4[_0x5ea436(0x14b)]='cucumber-js/test.setup.js';const _0x1f57fd=_0x4cf8a4;if(_0x1f57fd[_0x5ea436(0x19b)](_0x3ea976[_0x5ea436(0x146)],undefined))return![];if(_0x3ea976['actionLocation']&&_0x3ea976[_0x5ea436(0x160)]['uri']['includes'](_0x1f57fd[_0x5ea436(0x14b)]))return!![];return![];}[a6_0x387eff(0x19c)](_0x40a81a){const _0x402202=a6_0x387eff,_0x3c9524={};_0x3c9524[_0x402202(0x1b1)]=_0x402202(0x1ba),_0x3c9524[_0x402202(0x1af)]=_0x402202(0x1c1),_0x3c9524['SWxEK']=_0x402202(0x186),_0x3c9524[_0x402202(0x1b4)]=_0x402202(0x1c8),_0x3c9524['qlKpC']=_0x402202(0x169),_0x3c9524['fvUYd']=_0x402202(0x1ab),_0x3c9524['nNEdv']=_0x402202(0x18e);const _0x3195b5=_0x3c9524;switch(_0x40a81a){case _0x3195b5['MXVRH']:testsFailed+=0x1;break;case _0x3195b5[_0x402202(0x1af)]:testsPassed+=0x1;break;case _0x3195b5[_0x402202(0x143)]:testsSkipped+=0x1;break;case _0x3195b5[_0x402202(0x1b4)]:testsPending+=0x1;break;case _0x3195b5[_0x402202(0x1c6)]:testsUndefined+=0x1;break;case _0x3195b5[_0x402202(0x1be)]:testsUnknown+=0x1;break;case _0x3195b5['nNEdv']:testsAmbiguous+=0x1;break;default:break;}}[a6_0x387eff(0x168)](_0x1b7cc2){const _0x41e670=a6_0x387eff,_0x5cc450={'MqQyI':function(_0x1d560f,_0x1a88ad){return _0x1d560f!==_0x1a88ad;},'qanaO':function(_0x35867b){return _0x35867b();},'xRllQ':function(_0x110ceb,_0x41d3e6){return _0x110ceb(_0x41d3e6);},'lZtcN':function(_0x25a5e8,_0x4426e9){return _0x25a5e8+_0x4426e9;}};let _0x4e8f32;if(_0x5cc450['MqQyI'](process[_0x41e670(0x197)][_0x41e670(0x1b9)],undefined)){const _0x5c024e=JSON[_0x41e670(0x13c)](process['env']['CONFIG']);_0x4e8f32=_0x5c024e[_0x41e670(0x176)];}_0x5cc450['MqQyI'](_0x4e8f32,undefined)&&_0x5cc450['qanaO'](isBrowserstackInfra)&&(global[_0x41e670(0x148)]=_0x5cc450['xRllQ'](getPlatformName,_0x4e8f32),this[_0x41e670(0x175)](_0x5cc450['lZtcN']('Executing\x20tests\x20for\x20'+global[_0x41e670(0x148)],'\x0a'))),_0x5cc450[_0x41e670(0x1b7)](shouldProcessEventForTesthub)&&(TestDetails[_0x41e670(0x14a)](),this[_0x41e670(0x1cd)][_0x41e670(0x1dd)]=_0x1b7cc2);}[a6_0x387eff(0x1dc)](_0x42a2d0){const _0x399400=a6_0x387eff;this[_0x399400(0x1cd)][_0x399400(0x1ae)]=_0x42a2d0,this[_0x399400(0x178)](_0x42a2d0);}async['onTestCaseStarted'](_0x22a850,_0x4aa793,_0x539353){const _0x52e734=a6_0x387eff,_0x1783eb={'kIWiX':function(_0x145e06,_0x4bbd19){return _0x145e06(_0x4bbd19);},'NSdAL':'TestRunStarted','oZtdk':function(_0x43f185,_0x4745c0){return _0x43f185&&_0x4745c0;}};testSuites+=0x1;if(_0x1783eb[_0x52e734(0x193)](shouldProcessEventForTesthub,_0x1783eb[_0x52e734(0x144)]))try{this[_0x52e734(0x1cd)][_0x52e734(0x172)]=this[_0x52e734(0x1cd)][_0x52e734(0x172)]||{},this[_0x52e734(0x1cd)][_0x52e734(0x172)][_0x22a850['id']]=_0x22a850;const _0x3ae935=TestDetails[_0x52e734(0x196)](_0x22a850['id']);_testCasesData[_0x22a850['id']]=Object[_0x52e734(0x1a4)]({},_0x539353);const _0x146d0b=this[_0x52e734(0x1cd)],_0x332fcd=_0x22a850[_0x52e734(0x1a9)],_0x199410=_0x146d0b[_0x52e734(0x136)][_0x52e734(0x16e)](_0x40a4b8=>_0x40a4b8['id']===_0x332fcd)['pickleId'],_0xeabf40=_0x146d0b[_0x52e734(0x1ce)][_0x52e734(0x16e)](_0x3c22f1=>_0x3c22f1['id']===_0x199410),_0x75a425=_0x146d0b[_0x52e734(0x189)]['find'](_0x27d027=>_0x27d027[_0x52e734(0x156)]===_0xeabf40['uri']),_0x6dbf04=_0x75a425[_0x52e734(0x185)],_0x23b336={'uuid':_0x3ae935,'startedAt':new Date()['toISOString']()};if(_0xeabf40){const _0x56e708={};_0x56e708[_0x52e734(0x15e)]=_0xeabf40['name'],_0x23b336[_0x52e734(0x18b)]=_0x56e708;}if(_0x1783eb[_0x52e734(0x1d1)](_0x75a425,_0x6dbf04)){const _0x451155={};_0x451155[_0x52e734(0x1ca)]=_0x75a425[_0x52e734(0x156)],_0x451155[_0x52e734(0x15e)]=_0x6dbf04['name'],_0x451155['description']=_0x6dbf04[_0x52e734(0x15f)],_0x23b336['feature']=_0x451155;}_tests[_0x332fcd]=_0x23b336,await testObservabilityReporter[_0x52e734(0x139)](_0x539353,_0x75a425,_0xeabf40,_0x1783eb[_0x52e734(0x144)],_0x23b336);}catch(_0x3656e2){logger['debug'](_0x52e734(0x195)+util['format'](_0x3656e2)+'\x20');}}async[a6_0x387eff(0x1c9)](_0x49892a,_0x20fd20,_0x4cb013){const _0x2de628=a6_0x387eff,_0x3ff609={'SnNuS':function(_0x3fa1be,_0x5f0be1){return _0x3fa1be(_0x5f0be1);},'zdfDL':_0x2de628(0x1d7)};this['logTestCaseFinished'](_0x49892a);if(_0x3ff609[_0x2de628(0x16a)](shouldProcessEventForTesthub,_0x3ff609[_0x2de628(0x192)]))try{this[_0x2de628(0x1cd)][_0x2de628(0x184)]=this[_0x2de628(0x1cd)][_0x2de628(0x184)]||{},this[_0x2de628(0x1cd)]['testCaseFinished'][_0x49892a[_0x2de628(0x1b5)]]=_0x49892a,_testCasesData[_0x4cb013['id']]=Object['assign']({},_0x4cb013);const _0x354737=_0x49892a[_0x2de628(0x1b5)],_0x5d05d8=_0x20fd20[_0x2de628(0x17a)][_0x2de628(0x17c)][_0x354737][_0x2de628(0x1a9)],_0x573dd5=_0x20fd20[_0x2de628(0x17a)][_0x2de628(0x1c5)][_0x5d05d8],_0x54bb7c=_0x573dd5[_0x2de628(0x1a1)],_0xe83fc3=_0x20fd20[_0x2de628(0x17a)]['pickleMap'][_0x54bb7c],_0x2b4ae5=this[_0x2de628(0x1d8)](_0x20fd20,_0xe83fc3),_0x570a5e=_tests[_0x5d05d8];_0x570a5e&&(delete _tests[_0x5d05d8],_0x570a5e[_0x2de628(0x16c)]=new Date()[_0x2de628(0x161)]()),await testObservabilityReporter['sendTestRunEventForCucumber'](_0x4cb013,_0x2b4ae5,_0xe83fc3,_0x3ff609[_0x2de628(0x192)],_0x570a5e);}catch(_0x43f8fc){logger[_0x2de628(0x1c7)](_0x2de628(0x171)+util[_0x2de628(0x16b)](_0x43f8fc));}}async[a6_0x387eff(0x182)](_0x117215,_0x3bdfce){const _0x1c80ef=a6_0x387eff,_0x177f95={'Iibeh':function(_0x103edd,_0x7e9d2f){return _0x103edd(_0x7e9d2f);},'zMjZU':_0x1c80ef(0x153),'UAeYh':function(_0x58107e,_0x25a0cc){return _0x58107e!==_0x25a0cc;},'UdVdO':'testStepId'};if(_0x177f95[_0x1c80ef(0x13e)](shouldProcessEventForTesthub,_0x177f95[_0x1c80ef(0x1d0)]))try{this['report']['testStepStarted']=this['report'][_0x1c80ef(0x1aa)]||{},this[_0x1c80ef(0x1cd)][_0x1c80ef(0x1aa)][_0x117215['testCaseStartedId']]=_0x117215;const _0x5e123d=_0x117215['testCaseStartedId'],_0x4f7b06=_0x3bdfce['eventDataCollector'][_0x1c80ef(0x17c)][_0x5e123d][_0x1c80ef(0x1a9)],_0x2cb06d=this[_0x1c80ef(0x1cd)][_0x1c80ef(0x136)][_0x1c80ef(0x16e)](_0x1085ff=>_0x1085ff['id']===_0x4f7b06)[_0x1c80ef(0x1a1)],_0x3e67da=this['report'][_0x1c80ef(0x1ce)][_0x1c80ef(0x16e)](_0x49ac89=>_0x49ac89['id']===_0x2cb06d),_0x46a6d5=this[_0x1c80ef(0x1cd)]['testCases'][_0x1c80ef(0x16e)](_0x54d558=>_0x54d558['id']===_0x4f7b06)[_0x1c80ef(0x1bd)],_0x5a3982=this[_0x1c80ef(0x1cd)]['testStepStarted'][_0x5e123d][_0x1c80ef(0x179)],_0x19ca5a=_0x46a6d5['find'](_0x504b8c=>_0x504b8c['id']===_0x5a3982)[_0x1c80ef(0x16d)],_0x46d7df=_0x3e67da[_0x1c80ef(0x173)][_0x1c80ef(0x16e)](_0x3042e6=>_0x3042e6['id']===_0x19ca5a);if(_0x19ca5a&&_tests[_0x4f7b06]&&_0x177f95[_0x1c80ef(0x15a)](_tests[_0x4f7b06][_0x177f95[_0x1c80ef(0x13b)]],_0x5a3982)){_tests[_0x4f7b06][_0x177f95['UdVdO']]=_0x5a3982;const _0xdc02b0={};_0xdc02b0['steps']=[];const _0x4410b5=_tests[_0x4f7b06]||_0xdc02b0;_0x4410b5&&!_0x4410b5['steps']&&(_0x4410b5[_0x1c80ef(0x173)]=[]),_0x4410b5['steps'][_0x1c80ef(0x1c2)]({'id':_0x46d7df['id'],'text':_0x46d7df['text'],'started_at':new Date()[_0x1c80ef(0x161)]()}),_tests[_0x4f7b06]=_0x4410b5;}await testObservabilityReporter['sendHook'](this['report'],_0x5e123d,_0x177f95[_0x1c80ef(0x1d0)],_0x46a6d5,_0x5a3982,_tests[_0x4f7b06]);}catch(_0x486138){logger[_0x1c80ef(0x1c7)]('Exception\x20in\x20onTestStepStarted\x20event:\x20'+util[_0x1c80ef(0x16b)](_0x486138));}}async[a6_0x387eff(0x1a7)](_0x169b1a,_0x4ee221){const _0x1931ee=a6_0x387eff,_0x38772a={'WnFpB':function(_0xfa490e,_0x242532){return _0xfa490e===_0x242532;},'rQadO':_0x1931ee(0x19e),'XWKUb':function(_0x47d164,_0xfe3168){return _0x47d164(_0xfe3168);},'sFZIO':_0x1931ee(0x1a0),'ZNSUi':function(_0x5c9bf3,_0xbb2d5){return _0x5c9bf3===_0xbb2d5;},'rMVHM':_0x1931ee(0x155),'HoLCW':function(_0x56437d,_0xed18ce){return _0x56437d===_0xed18ce;},'VzvEf':'UnhandledError','fIcIF':_0x1931ee(0x179)};this[_0x1931ee(0x1cd)][_0x1931ee(0x145)]=this[_0x1931ee(0x1cd)]['testStepFinished']||{},this[_0x1931ee(0x1cd)][_0x1931ee(0x145)][_0x169b1a[_0x1931ee(0x1b5)]]=_0x169b1a;if(_0x38772a['XWKUb'](shouldProcessEventForTesthub,_0x38772a[_0x1931ee(0x1cf)]))try{const _0x15b539=_0x169b1a['testCaseStartedId'],_0x47dad8=_0x4ee221['eventDataCollector'][_0x1931ee(0x17c)][_0x15b539]['testCaseId'],_0x3604a0=_0x4ee221[_0x1931ee(0x17a)][_0x1931ee(0x1c5)][_0x47dad8],_0x43aea3=_0x3604a0[_0x1931ee(0x1a1)],_0x25bb83=_0x4ee221[_0x1931ee(0x17a)][_0x1931ee(0x1a6)][_0x43aea3],_0x3d3fd0=_0x169b1a[_0x1931ee(0x179)],_0x7b3db8=_0x3604a0[_0x1931ee(0x1bd)],_0x4417d6=this['eventDataCollector'][_0x1931ee(0x142)](_0x15b539),_0x353b18=_0x7b3db8[_0x1931ee(0x16e)](_0x22621a=>_0x22621a['id']===_0x3d3fd0)[_0x1931ee(0x16d)];let _0x29c0ee,_0x18e80d;_0x169b1a[_0x1931ee(0x1b8)]&&_0x38772a[_0x1931ee(0x1bb)](_0x169b1a[_0x1931ee(0x1b8)][_0x1931ee(0x1ad)]['toString']()['toLowerCase'](),_0x38772a[_0x1931ee(0x1bc)])&&(_0x29c0ee=_0x38772a[_0x1931ee(0x1bb)](_0x169b1a[_0x1931ee(0x1b8)][_0x1931ee(0x181)],undefined)?_0x169b1a[_0x1931ee(0x1b8)][_0x1931ee(0x1d5)]:_0x169b1a[_0x1931ee(0x1b8)]['exception'][_0x1931ee(0x1d5)],_0x18e80d=_0x38772a[_0x1931ee(0x1d6)](_0x169b1a[_0x1931ee(0x1b8)]['exception'],undefined)?_0x38772a[_0x1931ee(0x174)]:_0x169b1a[_0x1931ee(0x1b8)][_0x1931ee(0x1d5)]);await testObservabilityReporter[_0x1931ee(0x154)](this[_0x1931ee(0x1cd)],_0x15b539,_0x38772a[_0x1931ee(0x1cf)],_0x7b3db8,_0x3d3fd0,_tests[_0x47dad8]);if(_0x353b18&&_tests[_0x47dad8][_0x38772a[_0x1931ee(0x152)]]){const _0x2beaef=_0x25bb83[_0x1931ee(0x173)][_0x1931ee(0x16e)](_0x3a5ca2=>_0x3a5ca2['id']===_0x353b18),_0x4f1442={};_0x4f1442[_0x1931ee(0x173)]=[];const _0x270f47=_tests[_0x47dad8]||_0x4f1442;!_0x270f47[_0x1931ee(0x173)]?_0x270f47[_0x1931ee(0x173)]=[{'id':_0x2beaef['id'],'text':_0x2beaef[_0x1931ee(0x13d)],'finished_at':new Date()[_0x1931ee(0x161)](),'result':_0x169b1a[_0x1931ee(0x1b8)][_0x1931ee(0x1ad)],'duration':_0x169b1a[_0x1931ee(0x1b8)][_0x1931ee(0x150)][_0x1931ee(0x159)],'failure':_0x29c0ee,'failureType':_0x18e80d}]:_0x270f47[_0x1931ee(0x173)]['forEach'](_0x5e7c91=>{const _0xe1ba8c=_0x1931ee;if(_0x38772a[_0xe1ba8c(0x1c0)](_0x5e7c91['id'],_0x2beaef['id'])){const _0x5e7982=_0x38772a[_0xe1ba8c(0x14f)][_0xe1ba8c(0x13a)]('|');let _0x523323=0x0;while(!![]){switch(_0x5e7982[_0x523323++]){case'0':_0x5e7c91[_0xe1ba8c(0x150)]=_0x169b1a['testStepResult']['duration']['seconds'];continue;case'1':_0x5e7c91[_0xe1ba8c(0x19d)]=_0x18e80d;continue;case'2':_0x5e7c91[_0xe1ba8c(0x1b2)]=new Date()[_0xe1ba8c(0x161)]();continue;case'3':_0x5e7c91['result']=_0x169b1a[_0xe1ba8c(0x1b8)][_0xe1ba8c(0x1ad)];continue;case'4':_0x5e7c91[_0xe1ba8c(0x140)]=_0x29c0ee;continue;}break;}}}),_tests[_0x47dad8]=_0x270f47,delete _tests[_0x47dad8][_0x38772a[_0x1931ee(0x152)]];}}catch(_0x4184f0){logger[_0x1931ee(0x1c7)](_0x1931ee(0x1da)+util[_0x1931ee(0x16b)](_0x4184f0));}}[a6_0x387eff(0x1c3)](_0x41f2be){const _0x1432bb=a6_0x387eff,_0x472b78={};return _0x41f2be[_0x1432bb(0x185)][_0x1432bb(0x15b)]['map'](this['extractStepContainers'])[_0x1432bb(0x170)]()[_0x1432bb(0x18a)](_0x6e9160=>_0x6e9160[_0x1432bb(0x173)][_0x1432bb(0x18a)](_0x2ac67b=>_0x472b78[_0x2ac67b['id']]=_0x2ac67b)),_0x472b78;}['extractStepContainers'](_0x3bd66f){const _0x65ffab=a6_0x387eff,_0x57cc0d={'Syfrt':function(_0x2aa248,_0x17c140){return _0x2aa248(_0x17c140);},'UWPts':function(_0x5b9bee,_0x20fcf1){return _0x5b9bee(_0x20fcf1);}};if(!_0x57cc0d[_0x65ffab(0x191)](isUndefined,_0x3bd66f[_0x65ffab(0x14e)]))return[_0x3bd66f[_0x65ffab(0x14e)]];else{if(!_0x57cc0d['UWPts'](isUndefined,_0x3bd66f[_0x65ffab(0x15d)]))return _0x3bd66f[_0x65ffab(0x15d)]['children'][_0x65ffab(0x167)](_0x2d9c3d=>!isUndefined(_0x2d9c3d[_0x65ffab(0x14e)])?_0x2d9c3d['background']:_0x2d9c3d[_0x65ffab(0x18b)]);};return[_0x3bd66f[_0x65ffab(0x18b)]];}[a6_0x387eff(0x1d8)](_0xdf45b5,_0x27c3f8){const _0x30e4ec=a6_0x387eff;return Object[_0x30e4ec(0x1d2)](_0xdf45b5[_0x30e4ec(0x17a)][_0x30e4ec(0x1a5)])[_0x30e4ec(0x16e)](_0xf7bd73=>_0xf7bd73[_0x30e4ec(0x156)]===_0x27c3f8[_0x30e4ec(0x156)]);}}module[a6_0x387eff(0x1cc)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x387eff(0x177),a6_0x387eff(0x1c9),a6_0x387eff(0x182),a6_0x387eff(0x1a7),a6_0x387eff(0x168),a6_0x387eff(0x1dc),a6_0x387eff(0x149),a6_0x387eff(0x1d8),'getGherkinStepMap']);