const a6_0x6bef6a=a6_0x345a;function a6_0x345a(_0x29cb82,_0x16a675){const _0x3bc6e5=a6_0x3bc6();return a6_0x345a=function(_0x345a14,_0x14bc08){_0x345a14=_0x345a14-0xe7;let _0x27b080=_0x3bc6e5[_0x345a14];return _0x27b080;},a6_0x345a(_0x29cb82,_0x16a675);}(function(_0x42c770,_0x24d863){const _0x1a4b85=a6_0x345a,_0x5afbd8=_0x42c770();while(!![]){try{const _0x3e5789=parseInt(_0x1a4b85(0x15b))/0x1*(parseInt(_0x1a4b85(0x106))/0x2)+parseInt(_0x1a4b85(0x126))/0x3*(-parseInt(_0x1a4b85(0x15f))/0x4)+-parseInt(_0x1a4b85(0x108))/0x5*(-parseInt(_0x1a4b85(0x14b))/0x6)+-parseInt(_0x1a4b85(0x134))/0x7+parseInt(_0x1a4b85(0x1b9))/0x8+parseInt(_0x1a4b85(0x144))/0x9*(parseInt(_0x1a4b85(0x1b1))/0xa)+parseInt(_0x1a4b85(0x127))/0xb*(parseInt(_0x1a4b85(0x169))/0xc);if(_0x3e5789===_0x24d863)break;else _0x5afbd8['push'](_0x5afbd8['shift']());}catch(_0x17df9c){_0x5afbd8['push'](_0x5afbd8['shift']());}}}(a6_0x3bc6,0xcd90e));function a6_0x3bc6(){const _0x1acbd0=['testCases','nkcXq',',\x20binSessionId:\x20','100gilToZ','gherkinDocumentMap','seconds','TestRunStarted','KJKNs','children','FaGmi','POST','hook','cucumber','12AxnPTe','failure','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','AWgUk','nPkaG','onTestCaseStarted','cwcmj','status','AxQoz','pPVBD','oJaFO','CUCUMBER','onTestCase','getTestUUID','toLowerCase','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','testSteps','toString','result','message','test','alvDL','BROWSERSTACK_CLI_BIN_SESSION_ID','NXdtP','CLI\x20already\x20running\x20-\x20binSessionId:\x20','_performCLIInitialization','map','gherkinDocument','SKIPPED','Bveti','KuDrv','dILeW','parse','pickleMap','JLlMy','../../../helpers/logger','push','duration','isRunning','path','bstack','GJSKJ','sendTestRunEventForCucumber','qtrVe','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','pickleStepId','Error\x20initializing\x20CLI\x20in\x20formatter:\x20','CbkjM','createHookData','PENDING','../../../helpers/helper','getInstance','sourceLocation','forEach','BWCxG','IcLkm','eAtHp','../../v2/state/hookState.js','trackEvent','PASSED','testRunFinished','HookRunFinished','getTestCaseAttempt','INIT_TEST','hook_type','scenario','hooks','testCaseStartedId','format','../test-observability.js','testStepId','JmOEz','187260UryuQO','wDuvE','PRE','../../v2/state/testFrameworkState.js','LOG_REPORT','VUkLC','cZZTe','\x20\x20\x20\x20','6830640doxeNN','cucumber-js/test.setup.js','isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20','log','finishedAt','testCaseId','source','dCeEb','testStepFinished','exports','snippetBuilder','util','YHuha','HookRunStarted','@cucumber/cucumber','NNCDh','extractStepContainers','PmHdh','../../v2/utils/cucumber-utils.js','CONFIG','jgPYV','testCase','TestRunFinished','cMTki','text','capability','type','onTestRunStarted','feature','nBoQa','onTestRunFinished','testCaseFinished','logTestCaseFinished','onPickle','find','onSource','UzXUv','uri','79634sFdmOu','AMBIGUOUS','5sWefEl','getTestFramework','eventDataCollector','vgzuD','cliInitPromise','Exception\x20in\x20onTestStepFinished\x20event:\x20','cwd','../../utils/constants','UNDEFINED','pickle','testRunStarted','zBwme','GmjOw','jQaYh','logTestRunFinished','ensureCLIInitialized','failed','onTestStepStarted','toISOString','isBstackHook','onStepDefinition','onTestCaseFinished','testCaseAttemptDataMap','testStepResult','actionLocation','KcDSV','pickleId','steps','FAILED','env','198813ZpNSZN','2498463SUJUXT','isCliEnabled','binSessionId','values','background','split','onHook','report','onTestStepFinished','setFrameworkDetail','testStepStarted','pEoTF','name','8854881GUUiQE','ZeqgY','__platform','eventBroadcaster','getGherkinStepMap','isCLIReady','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','testCaseStarted','siCkY','onGherkinDocument','TEST','getGherkinDocument','UCCnj','assign','testUUID','PLAYWRIGHT','117sTtCgK','createTestFrameworkData','qFkAY','exception','SvPrP','IqqkM','rule','4841148YksrHp','../../../helpers/test-observability/error-handler','pggLK','dKZYc','vWAlQ','Exception\x20in\x20onTestStepStarted\x20event:\x20','Executing\x20tests\x20for\x20','sendHook','../../playwright/reporter/test-details.js','inKvx','supportCodeLibrary','CdjiR','debug','description','testCaseAttempt','pxMbH','41IizbRi'];a6_0x3bc6=function(){return _0x1acbd0;};return a6_0x3bc6();}const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x6bef6a(0x19b)),util=require(a6_0x6bef6a(0xeb)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x6bef6a(0xee)),TestDetails=require(a6_0x6bef6a(0x153)),TestObservabilityReporter=require(a6_0x6bef6a(0x1ae)),{o11yClassErrorHandler}=require(a6_0x6bef6a(0x14c)),{shouldProcessEventForTesthub}=require('../../../helpers/testhub/utils.js'),BrowserstackCLI=require('../../v2/browserstackCLI.js'),TestFrameworkState=require(a6_0x6bef6a(0x1b4)),HookState=require(a6_0x6bef6a(0x1a2)),CucumberUtils=require(a6_0x6bef6a(0xf2)),TestInfo=require('../../../bin/v2/TestInfo.js'),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x6bef6a(0x18c))['winstonLogger'],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x3825fe){const _0x4d99fa=a6_0x6bef6a,_0x21d28d={};_0x21d28d[_0x4d99fa(0xef)]='envelope';const _0x346c73=_0x21d28d;super(_0x3825fe),this[_0x4d99fa(0x12e)]={},_0x3825fe[_0x4d99fa(0x137)]['on'](_0x346c73['NNCDh'],async _0x3d7f4d=>{const _0x541609=_0x4d99fa;switch(!![]){case!!_0x3d7f4d[_0x541609(0x112)]:this[_0x541609(0xfb)](_0x3d7f4d[_0x541609(0x112)]);break;case!!_0x3d7f4d[_0x541609(0x1a5)]:this[_0x541609(0xfe)](_0x3d7f4d['testRunFinished']);break;case!!_0x3d7f4d[_0x541609(0x13b)]:this[_0x541609(0x16e)](_0x3d7f4d[_0x541609(0x13b)],_0x3825fe,_0x3d7f4d);break;case!!_0x3d7f4d['testCaseFinished']:this[_0x541609(0x11d)](_0x3d7f4d['testCaseFinished'],_0x3825fe,_0x3d7f4d);break;case!!_0x3d7f4d[_0x541609(0x131)]:this[_0x541609(0x119)](_0x3d7f4d['testStepStarted'],_0x3825fe);break;case!!_0x3d7f4d[_0x541609(0xe8)]:this['onTestStepFinished'](_0x3d7f4d[_0x541609(0xe8)],_0x3825fe);break;case!!_0x3d7f4d[_0x541609(0x167)]:this[_0x541609(0x12d)](_0x3d7f4d[_0x541609(0x167)]);break;case!!_0x3d7f4d[_0x541609(0xf5)]:this[_0x541609(0x175)](_0x3d7f4d[_0x541609(0xf5)]);break;case!!_0x3d7f4d[_0x541609(0x111)]:this[_0x541609(0x101)](_0x3d7f4d[_0x541609(0x111)]);break;case!!_0x3d7f4d[_0x541609(0x184)]:this[_0x541609(0x13d)](_0x3d7f4d[_0x541609(0x184)]);break;}});}[a6_0x6bef6a(0x12d)](_0x323170){const _0x1364be=a6_0x6bef6a;this[_0x1364be(0x12e)][_0x1364be(0x1ab)]=Object[_0x1364be(0x141)]([],this[_0x1364be(0x12e)][_0x1364be(0x1ab)]||[]),this['report']['hooks'][_0x1364be(0x18d)](_0x323170);}['onPickle'](_0x344cb8){const _0x244746=a6_0x6bef6a;this[_0x244746(0x12e)][_0x244746(0x111)]=Object['assign']([],this[_0x244746(0x12e)]['pickle']||[],[_0x344cb8]),this[_0x244746(0x12e)][_0x244746(0x111)][_0x244746(0x18d)](_0x344cb8);}[a6_0x6bef6a(0x13d)](_0x10d762){const _0x20b364=a6_0x6bef6a;this[_0x20b364(0x12e)][_0x20b364(0x184)]=Object[_0x20b364(0x141)]([],this[_0x20b364(0x12e)][_0x20b364(0x184)]||[],[_0x10d762]),this['report'][_0x20b364(0x184)]['push'](_0x10d762);}[a6_0x6bef6a(0x103)](_0x6e7d5){const _0x2fb8ac=a6_0x6bef6a;this[_0x2fb8ac(0x12e)][_0x2fb8ac(0x1bf)]=_0x6e7d5;}[a6_0x6bef6a(0x11c)](_0x37177a){const _0x180500=a6_0x6bef6a;this['report']['stepDefinition']=Object[_0x180500(0x141)]([],this[_0x180500(0x12e)]['stepDefinition']||[],[_0x37177a]),this[_0x180500(0x12e)]['stepDefinition'][_0x180500(0x18d)](_0x37177a);}[a6_0x6bef6a(0x175)](_0x590189){const _0x22a0b8=a6_0x6bef6a;this[_0x22a0b8(0x12e)]['testCases']=Object[_0x22a0b8(0x141)]([],this[_0x22a0b8(0x12e)][_0x22a0b8(0x15c)]||[],[_0x590189]),this[_0x22a0b8(0x12e)][_0x22a0b8(0x15c)]['push'](_0x590189);}[a6_0x6bef6a(0x100)](_0x39633f){const _0x2a7ce6=a6_0x6bef6a,_0x226b46={'dKZYc':function(_0x4c2b98,_0x203d23){return _0x4c2b98!==_0x203d23;},'FaGmi':_0x2a7ce6(0x191),'UzXUv':function(_0x1ecac3,_0x180062){return _0x1ecac3+_0x180062;},'CdjiR':function(_0x3f69b5,_0x10088e){return _0x3f69b5+_0x10088e;},'GJSKJ':function(_0x513394,_0x226ab0){return _0x513394+_0x226ab0;},'ZeqgY':_0x2a7ce6(0x1b8),'IcLkm':'\x20-\x20','PmHdh':function(_0x59eda2,_0x106621){return _0x59eda2===_0x106621;},'YmJDF':_0x2a7ce6(0x124),'GIHZL':function(_0x197f63,_0x335a11,_0x51f64e){return _0x197f63(_0x335a11,_0x51f64e);},'cwcmj':_0x2a7ce6(0x17b),'IqqkM':_0x2a7ce6(0x17c),'siCkY':function(_0x3c6c48,_0x14e9f8){return _0x3c6c48+_0x14e9f8;},'ZSkWx':function(_0x4c1321,_0x355c64){return _0x4c1321!==_0x355c64;},'AxQoz':function(_0x411653,_0x5bbc83){return _0x411653+_0x5bbc83;},'nkcXq':function(_0xd06557,_0x1fda10){return _0xd06557+_0x1fda10;},'dkMgf':function(_0x527122,_0x3f7654){return _0x527122+_0x3f7654;}};_0x226b46['ZSkWx'](global[_0x2a7ce6(0x136)],undefined)&&this[_0x2a7ce6(0x1bc)](_0x226b46[_0x2a7ce6(0x13c)](_0x226b46[_0x2a7ce6(0x171)]('\x0a',global[_0x2a7ce6(0x136)]),'\x0a'));const _0x486437=this[_0x2a7ce6(0x10a)][_0x2a7ce6(0x1a7)](_0x39633f[_0x2a7ce6(0x1ac)]);this[_0x2a7ce6(0x1bc)](_0x226b46[_0x2a7ce6(0x156)](_0x226b46[_0x2a7ce6(0x15d)](_0x226b46['dkMgf'](_0x226b46[_0x2a7ce6(0x171)]('\x20\x20',_0x486437[_0x2a7ce6(0x184)][_0x2a7ce6(0xfc)][_0x2a7ce6(0x133)]),_0x226b46[_0x2a7ce6(0x1a0)]),_0x486437[_0x2a7ce6(0x111)]['name']),'\x0a'));const _0x1032c3={};_0x1032c3[_0x2a7ce6(0x10e)]=this['cwd'],_0x1032c3[_0x2a7ce6(0xea)]=this[_0x2a7ce6(0xea)],_0x1032c3[_0x2a7ce6(0x155)]=this[_0x2a7ce6(0x155)],_0x1032c3[_0x2a7ce6(0x159)]=_0x486437;const _0x558a08=formatterHelpers['parseTestCaseAttempt'](_0x1032c3);let _0x3c3c62=![];_0x558a08[_0x2a7ce6(0x179)][_0x2a7ce6(0x19e)](_0x288329=>{const _0x5e70f2=_0x2a7ce6;if(_0x226b46[_0x5e70f2(0x14e)](_0x288329['name'],_0x226b46[_0x5e70f2(0x165)])&&!this[_0x5e70f2(0x11b)](_0x288329)){totalTests+=0x1,this[_0x5e70f2(0x1bc)](_0x226b46['UzXUv'](_0x226b46[_0x5e70f2(0x156)](_0x226b46[_0x5e70f2(0x192)](_0x226b46[_0x5e70f2(0x156)](_0x226b46[_0x5e70f2(0x104)](_0x226b46[_0x5e70f2(0x135)],_0x288329['keyword']),_0x288329[_0x5e70f2(0xf8)]||''),_0x226b46[_0x5e70f2(0x1a0)]),Status[_0x288329[_0x5e70f2(0x17b)][_0x5e70f2(0x170)]]),'\x0a')),this['incrementCounter'](Status[_0x288329[_0x5e70f2(0x17b)][_0x5e70f2(0x170)]]);if(_0x226b46[_0x5e70f2(0xf1)](Status[_0x288329[_0x5e70f2(0x17b)]['status']],_0x226b46['YmJDF'])){_0x3c3c62=!![];const _0x5284dd=_0x226b46['GIHZL'](nestedKeyValue,_0x288329,[_0x226b46[_0x5e70f2(0x16f)],_0x226b46[_0x5e70f2(0x149)]]);_0x5284dd&&(testsErrorMessage[_0x226b46[_0x5e70f2(0x104)](_0x226b46['UzXUv'](_0x486437[_0x5e70f2(0x184)][_0x5e70f2(0xfc)][_0x5e70f2(0x133)],_0x226b46[_0x5e70f2(0x1a0)]),_0x486437[_0x5e70f2(0x111)][_0x5e70f2(0x133)])]=_0x5284dd,this['log'](_0x226b46['siCkY'](_0x5284dd,'\x0a')));}}}),_0x3c3c62&&(testSuitesFailed+=0x1),this[_0x2a7ce6(0x1bc)]('\x0a');}[a6_0x6bef6a(0x116)](_0x3a569a){}[a6_0x6bef6a(0x11b)](_0x19dbdb){const _0x54b9a0=a6_0x6bef6a,_0x440b81={};_0x440b81[_0x54b9a0(0x14f)]=function(_0x4ba146,_0x2252e2){return _0x4ba146!==_0x2252e2;},_0x440b81[_0x54b9a0(0xec)]=_0x54b9a0(0x1ba);const _0x1d2105=_0x440b81;if(_0x1d2105[_0x54b9a0(0x14f)](_0x19dbdb[_0x54b9a0(0x19d)],undefined))return![];if(_0x19dbdb[_0x54b9a0(0x120)]&&_0x19dbdb[_0x54b9a0(0x120)][_0x54b9a0(0x105)]['includes'](_0x1d2105[_0x54b9a0(0xec)]))return!![];return![];}['incrementCounter'](_0x5ea484){const _0x154fd8=a6_0x6bef6a,_0x50933b={};_0x50933b[_0x154fd8(0xe7)]=_0x154fd8(0x124),_0x50933b[_0x154fd8(0x121)]=_0x154fd8(0x1a4),_0x50933b[_0x154fd8(0x115)]=_0x154fd8(0x185),_0x50933b[_0x154fd8(0x198)]=_0x154fd8(0x19a),_0x50933b[_0x154fd8(0x19f)]=_0x154fd8(0x110),_0x50933b[_0x154fd8(0x1b0)]='UNKNOWN',_0x50933b[_0x154fd8(0x146)]=_0x154fd8(0x107);const _0x5c3aa8=_0x50933b;switch(_0x5ea484){case _0x5c3aa8[_0x154fd8(0xe7)]:testsFailed+=0x1;break;case _0x5c3aa8[_0x154fd8(0x121)]:testsPassed+=0x1;break;case _0x5c3aa8[_0x154fd8(0x115)]:testsSkipped+=0x1;break;case _0x5c3aa8['CbkjM']:testsPending+=0x1;break;case _0x5c3aa8[_0x154fd8(0x19f)]:testsUndefined+=0x1;break;case _0x5c3aa8[_0x154fd8(0x1b0)]:testsUnknown+=0x1;break;case _0x5c3aa8['qFkAY']:testsAmbiguous+=0x1;break;default:break;}}async[a6_0x6bef6a(0xfb)](_0x5aa418){const _0x39b20e=a6_0x6bef6a,_0x52db98={'zBwme':function(_0x28afd4,_0x52ef3a){return _0x28afd4!==_0x52ef3a;},'HsVvR':function(_0x318a13,_0x249b2e){return _0x318a13!==_0x249b2e;},'nPkaG':function(_0x37691a){return _0x37691a();},'nRpoV':function(_0x25a69b,_0xcc624b){return _0x25a69b(_0xcc624b);},'vgzuD':function(_0x55d06a,_0x5393a2){return _0x55d06a+_0x5393a2;},'cZZTe':function(_0x4029f5){return _0x4029f5();},'SvPrP':_0x39b20e(0x168)};let _0x2e8125;if(_0x52db98[_0x39b20e(0x113)](process[_0x39b20e(0x125)]['CONFIG'],undefined)){const _0x4614df=JSON[_0x39b20e(0x189)](process[_0x39b20e(0x125)][_0x39b20e(0xf3)]);_0x2e8125=_0x4614df[_0x39b20e(0xf9)];}_0x52db98['HsVvR'](_0x2e8125,undefined)&&_0x52db98[_0x39b20e(0x16d)](isBrowserstackInfra)&&(global[_0x39b20e(0x136)]=_0x52db98['nRpoV'](getPlatformName,_0x2e8125),this[_0x39b20e(0x1bc)](_0x52db98[_0x39b20e(0x10b)](_0x39b20e(0x151)+global[_0x39b20e(0x136)],'\x0a'))),_0x52db98[_0x39b20e(0x1b7)](shouldProcessEventForTesthub)&&(TestDetails['setup'](),this[_0x39b20e(0x12e)]['testRunStarted']=_0x5aa418,BrowserstackCLI[_0x39b20e(0x19c)]()[_0x39b20e(0x128)]()&&await this['isCLIReady']()&&(TestInfo['setup'](_0x52db98[_0x39b20e(0x148)]),await BrowserstackCLI[_0x39b20e(0x19c)]()[_0x39b20e(0x109)]()[_0x39b20e(0x1a3)](TestFrameworkState[_0x39b20e(0x1a8)],HookState[_0x39b20e(0x1b3)],{})));}[a6_0x6bef6a(0xfe)](_0x59e80d){const _0x360bc6=a6_0x6bef6a;this[_0x360bc6(0x12e)][_0x360bc6(0x1a5)]=_0x59e80d,this['logTestRunFinished'](_0x59e80d);}async[a6_0x6bef6a(0x16e)](_0x12697d,_0x323dbb,_0x27a6fe){const _0xec7c91=a6_0x6bef6a,_0x5807f4={'AmAAw':function(_0x5a93ab,_0x6dbfc2){return _0x5a93ab(_0x6dbfc2);},'VUkLC':_0xec7c91(0x162),'pEoTF':function(_0x3817b5,_0x4b907e){return _0x3817b5&&_0x4b907e;}};testSuites+=0x1;if(_0x5807f4['AmAAw'](shouldProcessEventForTesthub,_0x5807f4[_0xec7c91(0x1b6)]))try{this[_0xec7c91(0x12e)][_0xec7c91(0x13b)]=this[_0xec7c91(0x12e)][_0xec7c91(0x13b)]||{},this['report']['testCaseStarted'][_0x12697d['id']]=_0x12697d;let _0x1cc98f=null;BrowserstackCLI[_0xec7c91(0x19c)]()[_0xec7c91(0x128)]()&&await this[_0xec7c91(0x139)]()?_0x1cc98f=TestInfo[_0xec7c91(0x176)](_0x12697d['id']):_0x1cc98f=TestDetails[_0xec7c91(0x176)](_0x12697d['id']);_testCasesData[_0x12697d['id']]=Object[_0xec7c91(0x141)]({},_0x27a6fe);const _0x574955=this['report'],_0x10d24e=_0x12697d[_0xec7c91(0x1be)],_0x3ebd0d=_0x574955['testCases'][_0xec7c91(0x102)](_0x35f3e8=>_0x35f3e8['id']===_0x10d24e)[_0xec7c91(0x122)],_0x14c48e=_0x574955['pickle'][_0xec7c91(0x102)](_0xbbd3a8=>_0xbbd3a8['id']===_0x3ebd0d),_0xaf978=_0x574955[_0xec7c91(0x184)][_0xec7c91(0x102)](_0x297335=>_0x297335[_0xec7c91(0x105)]===_0x14c48e[_0xec7c91(0x105)]),_0x282c67=_0xaf978[_0xec7c91(0xfc)],_0x6c232b={'uuid':_0x1cc98f,'startedAt':new Date()[_0xec7c91(0x11a)]()};if(_0x14c48e){const _0x42f464={};_0x42f464[_0xec7c91(0x133)]=_0x14c48e[_0xec7c91(0x133)],_0x6c232b[_0xec7c91(0x1aa)]=_0x42f464;}if(_0x5807f4[_0xec7c91(0x132)](_0xaf978,_0x282c67)){const _0x448e4b={};_0x448e4b[_0xec7c91(0x190)]=_0xaf978[_0xec7c91(0x105)],_0x448e4b[_0xec7c91(0x133)]=_0x282c67[_0xec7c91(0x133)],_0x448e4b[_0xec7c91(0x158)]=_0x282c67[_0xec7c91(0x158)],_0x6c232b[_0xec7c91(0xfc)]=_0x448e4b;}_tests[_0x10d24e]=_0x6c232b;if(BrowserstackCLI['getInstance']()['isCliEnabled']()&&await this[_0xec7c91(0x139)]()){const _0x4e9de0=await cucumberUtils[_0xec7c91(0x145)](_0x6c232b,_0x14c48e,_0x27a6fe,_0xaf978,_0x12697d['id'],_0x5807f4['VUkLC']),_0x783b49={};_0x783b49[_0xec7c91(0x17d)]=_0x4e9de0,await BrowserstackCLI[_0xec7c91(0x19c)]()[_0xec7c91(0x109)]()[_0xec7c91(0x1a3)](TestFrameworkState[_0xec7c91(0x13e)],HookState[_0xec7c91(0x1b3)],_0x783b49);return;}await testObservabilityReporter[_0xec7c91(0x193)](_0x27a6fe,_0xaf978,_0x14c48e,_0x5807f4[_0xec7c91(0x1b6)],_0x6c232b);}catch(_0x131764){logger[_0xec7c91(0x157)](_0xec7c91(0x13a)+util[_0xec7c91(0x1ad)](_0x131764)+'\x20');}}async[a6_0x6bef6a(0x11d)](_0x199b1f,_0x2959b8,_0x70607c){const _0xae99a7=a6_0x6bef6a,_0x241628={'HUAvp':function(_0x3c0169,_0x79d9f0){return _0x3c0169(_0x79d9f0);},'qtrVe':_0xae99a7(0xf6),'KJKNs':_0xae99a7(0x17d)};this[_0xae99a7(0x100)](_0x199b1f);if(_0x241628['HUAvp'](shouldProcessEventForTesthub,_0x241628[_0xae99a7(0x194)]))try{this[_0xae99a7(0x12e)][_0xae99a7(0xff)]=this[_0xae99a7(0x12e)][_0xae99a7(0xff)]||{},this[_0xae99a7(0x12e)][_0xae99a7(0xff)][_0x199b1f[_0xae99a7(0x1ac)]]=_0x199b1f,_testCasesData[_0x70607c['id']]=Object[_0xae99a7(0x141)]({},_0x70607c);const _0x54a8fb=_0x199b1f[_0xae99a7(0x1ac)],_0x12d050=_0x2959b8['eventDataCollector']['testCaseAttemptDataMap'][_0x54a8fb]['testCaseId'],_0x3a74d2=_0x2959b8[_0xae99a7(0x10a)]['testCaseMap'][_0x12d050],_0x5f07f0=_0x3a74d2[_0xae99a7(0x122)],_0x792b4=_0x2959b8[_0xae99a7(0x10a)][_0xae99a7(0x18a)][_0x5f07f0],_0x206a47=this[_0xae99a7(0x13f)](_0x2959b8,_0x792b4),_0x4d4e1c=_0x206a47[_0xae99a7(0xfc)],_0x229878=_tests[_0x12d050];_0x229878&&(delete _tests[_0x12d050],_0x229878[_0xae99a7(0x1bd)]=new Date()['toISOString']());if(BrowserstackCLI['getInstance']()[_0xae99a7(0x128)]()&&await this[_0xae99a7(0x139)]()){const _0x1ac9d3=await cucumberUtils['createTestFrameworkData'](_0x229878,_0x792b4,_0x70607c,_0x206a47,_0x54a8fb,_0x241628[_0xae99a7(0x194)]),_0x384e54={};_0x384e54['test']=_0x1ac9d3,await BrowserstackCLI[_0xae99a7(0x19c)]()[_0xae99a7(0x109)]()['trackEvent'](TestFrameworkState[_0xae99a7(0x13e)],HookState['POST'],_0x384e54);const _0x1685ee={};_0x1685ee['testUUID']=_0x199b1f[_0xae99a7(0x1ac)],_0x1685ee[_0xae99a7(0xfa)]=_0x241628[_0xae99a7(0x163)],await BrowserstackCLI['getInstance']()['getTestFramework']()[_0xae99a7(0x1a3)](TestFrameworkState[_0xae99a7(0x1b5)],HookState[_0xae99a7(0x166)],_0x1685ee);return;}await testObservabilityReporter[_0xae99a7(0x193)](_0x70607c,_0x206a47,_0x792b4,_0x241628[_0xae99a7(0x194)],_0x229878);}catch(_0x1995a0){logger[_0xae99a7(0x157)](_0xae99a7(0x178)+util['format'](_0x1995a0));}}async[a6_0x6bef6a(0x119)](_0xf2ecc7,_0x5c7959){const _0x59e103=a6_0x6bef6a,_0x2310d8={'eAtHp':function(_0x2b1443,_0x4cc607){return _0x2b1443(_0x4cc607);},'UCCnj':_0x59e103(0xed),'pggLK':function(_0x3253f6,_0x35c086){return _0x3253f6!==_0x35c086;},'jgPYV':_0x59e103(0x1af)};if(_0x2310d8[_0x59e103(0x1a1)](shouldProcessEventForTesthub,_0x2310d8[_0x59e103(0x140)]))try{this[_0x59e103(0x12e)]['testStepStarted']=this[_0x59e103(0x12e)][_0x59e103(0x131)]||{},this[_0x59e103(0x12e)][_0x59e103(0x131)][_0xf2ecc7['testCaseStartedId']]=_0xf2ecc7;const _0x33de5d=_0xf2ecc7[_0x59e103(0x1ac)],_0x481986=_0x5c7959[_0x59e103(0x10a)]['testCaseAttemptDataMap'][_0x33de5d]['testCaseId'],_0x198e8f=this[_0x59e103(0x12e)]['testCases'][_0x59e103(0x102)](_0x7a3263=>_0x7a3263['id']===_0x481986)[_0x59e103(0x122)],_0x5af4e8=this[_0x59e103(0x12e)][_0x59e103(0x111)]['find'](_0x548e6b=>_0x548e6b['id']===_0x198e8f),_0x19753a=this[_0x59e103(0x12e)][_0x59e103(0x15c)][_0x59e103(0x102)](_0x21d2c2=>_0x21d2c2['id']===_0x481986)[_0x59e103(0x179)],_0x50ae75=this[_0x59e103(0x12e)][_0x59e103(0x131)][_0x33de5d]['testStepId'],_0x3beeae=_0x19753a[_0x59e103(0x102)](_0x3e2bc0=>_0x3e2bc0['id']===_0x50ae75)[_0x59e103(0x196)],_0x46b2d4=_0x5af4e8[_0x59e103(0x123)][_0x59e103(0x102)](_0x38f4da=>_0x38f4da['id']===_0x3beeae);if(_0x3beeae&&_tests[_0x481986]&&_0x2310d8[_0x59e103(0x14d)](_tests[_0x481986][_0x2310d8['jgPYV']],_0x50ae75)){_tests[_0x481986][_0x2310d8[_0x59e103(0xf4)]]=_0x50ae75;const _0x2e4648={};_0x2e4648[_0x59e103(0x123)]=[];const _0x3679b9=_tests[_0x481986]||_0x2e4648;_0x3679b9&&!_0x3679b9['steps']&&(_0x3679b9['steps']=[]),_0x3679b9['steps'][_0x59e103(0x18d)]({'id':_0x46b2d4['id'],'text':_0x46b2d4[_0x59e103(0xf8)],'started_at':new Date()[_0x59e103(0x11a)]()}),_tests[_0x481986]=_0x3679b9;}if(BrowserstackCLI[_0x59e103(0x19c)]()[_0x59e103(0x128)]()&&await this[_0x59e103(0x139)]()){const _0x347da5=await cucumberUtils['createHookData'](this[_0x59e103(0x12e)],_0x33de5d,_0x2310d8['UCCnj'],_0x19753a,_0x50ae75,_tests[_0x481986]);_0x347da5&&await BrowserstackCLI[_0x59e103(0x19c)]()[_0x59e103(0x109)]()[_0x59e103(0x1a3)](TestFrameworkState[_0x347da5[_0x59e103(0x1a9)]],HookState[_0x59e103(0x1b3)],{'hookData':_0x347da5,'testUUID':_0xf2ecc7[_0x59e103(0x1ac)]});return;}await testObservabilityReporter[_0x59e103(0x152)](this[_0x59e103(0x12e)],_0x33de5d,_0x2310d8[_0x59e103(0x140)],_0x19753a,_0x50ae75,_tests[_0x481986]);}catch(_0x36cac2){logger['debug'](_0x59e103(0x150)+util[_0x59e103(0x1ad)](_0x36cac2));}}async[a6_0x6bef6a(0x12f)](_0x1741e5,_0x26caa3){const _0x37a0dc=a6_0x6bef6a,_0x51121f={'JLlMy':function(_0x88b080,_0x3f2a20){return _0x88b080===_0x3f2a20;},'pxMbH':'4|0|2|3|1','cMTki':function(_0x5c1c34,_0x381af8){return _0x5c1c34(_0x381af8);},'GmjOw':_0x37a0dc(0x1a6),'oJaFO':_0x37a0dc(0x118),'AWgUk':function(_0x2e2a78,_0x5a8f37){return _0x2e2a78===_0x5a8f37;},'alvDL':'UnhandledError','inKvx':_0x37a0dc(0x1af),'NXdtP':_0x37a0dc(0xed),'pPVBD':_0x37a0dc(0x167)};this[_0x37a0dc(0x12e)]['testStepFinished']=this[_0x37a0dc(0x12e)][_0x37a0dc(0xe8)]||{},this[_0x37a0dc(0x12e)][_0x37a0dc(0xe8)][_0x1741e5[_0x37a0dc(0x1ac)]]=_0x1741e5;if(_0x51121f[_0x37a0dc(0xf7)](shouldProcessEventForTesthub,_0x51121f['GmjOw']))try{const _0x163828=_0x1741e5[_0x37a0dc(0x1ac)],_0x5638f3=_0x26caa3[_0x37a0dc(0x10a)][_0x37a0dc(0x11e)][_0x163828][_0x37a0dc(0x1be)],_0x41e6ba=_0x26caa3['eventDataCollector']['testCaseMap'][_0x5638f3],_0x19d160=_0x41e6ba[_0x37a0dc(0x122)],_0x41a3d8=_0x26caa3['eventDataCollector'][_0x37a0dc(0x18a)][_0x19d160],_0x5e2479=_0x1741e5[_0x37a0dc(0x1af)],_0x4e54b2=_0x41e6ba['testSteps'],_0x5bc9f7=this[_0x37a0dc(0x10a)][_0x37a0dc(0x1a7)](_0x163828),_0x1e4d37=_0x4e54b2[_0x37a0dc(0x102)](_0x358133=>_0x358133['id']===_0x5e2479)['pickleStepId'];let _0x1a14d2,_0x18f209;_0x1741e5[_0x37a0dc(0x11f)]&&_0x51121f[_0x37a0dc(0x18b)](_0x1741e5['testStepResult'][_0x37a0dc(0x170)][_0x37a0dc(0x17a)]()[_0x37a0dc(0x177)](),_0x51121f[_0x37a0dc(0x173)])&&(_0x1a14d2=_0x51121f[_0x37a0dc(0x16c)](_0x1741e5[_0x37a0dc(0x11f)][_0x37a0dc(0x147)],undefined)?_0x1741e5[_0x37a0dc(0x11f)][_0x37a0dc(0x17c)]:_0x1741e5[_0x37a0dc(0x11f)][_0x37a0dc(0x147)]['message'],_0x18f209=_0x51121f[_0x37a0dc(0x16c)](_0x1741e5[_0x37a0dc(0x11f)][_0x37a0dc(0x147)],undefined)?_0x51121f[_0x37a0dc(0x17e)]:_0x1741e5['testStepResult'][_0x37a0dc(0x17c)]);if(_0x1e4d37&&_tests[_0x5638f3][_0x51121f[_0x37a0dc(0x154)]]){const _0x559f30=_0x41a3d8[_0x37a0dc(0x123)][_0x37a0dc(0x102)](_0x2833ff=>_0x2833ff['id']===_0x1e4d37),_0x58ce0c={};_0x58ce0c[_0x37a0dc(0x123)]=[];const _0x51d7f6=_tests[_0x5638f3]||_0x58ce0c;!_0x51d7f6[_0x37a0dc(0x123)]?_0x51d7f6['steps']=[{'id':_0x559f30['id'],'text':_0x559f30[_0x37a0dc(0xf8)],'finished_at':new Date()[_0x37a0dc(0x11a)](),'result':_0x1741e5['testStepResult'][_0x37a0dc(0x170)],'duration':_0x1741e5[_0x37a0dc(0x11f)][_0x37a0dc(0x18e)]['seconds'],'failure':_0x1a14d2,'failureType':_0x18f209}]:_0x51d7f6[_0x37a0dc(0x123)][_0x37a0dc(0x19e)](_0x130297=>{const _0x219930=_0x37a0dc;if(_0x51121f[_0x219930(0x18b)](_0x130297['id'],_0x559f30['id'])){const _0x2282e2=_0x51121f[_0x219930(0x15a)][_0x219930(0x12c)]('|');let _0x1f707f=0x0;while(!![]){switch(_0x2282e2[_0x1f707f++]){case'0':_0x130297[_0x219930(0x17b)]=_0x1741e5[_0x219930(0x11f)][_0x219930(0x170)];continue;case'1':_0x130297['failureType']=_0x18f209;continue;case'2':_0x130297['duration']=_0x1741e5[_0x219930(0x11f)][_0x219930(0x18e)][_0x219930(0x161)];continue;case'3':_0x130297[_0x219930(0x16a)]=_0x1a14d2;continue;case'4':_0x130297['finished_at']=new Date()[_0x219930(0x11a)]();continue;}break;}}}),_tests[_0x5638f3]=_0x51d7f6;}delete _tests[_0x5638f3][_0x51121f[_0x37a0dc(0x154)]];if(BrowserstackCLI[_0x37a0dc(0x19c)]()[_0x37a0dc(0x128)]()&&await this[_0x37a0dc(0x139)]()){const _0x2f6aea=await cucumberUtils[_0x37a0dc(0x199)](this[_0x37a0dc(0x12e)],_0x163828,_0x51121f[_0x37a0dc(0x180)],_0x4e54b2,_0x5e2479,_tests[_0x5638f3]);if(_0x2f6aea){await BrowserstackCLI[_0x37a0dc(0x19c)]()[_0x37a0dc(0x109)]()[_0x37a0dc(0x1a3)](TestFrameworkState[_0x2f6aea[_0x37a0dc(0x1a9)]],HookState[_0x37a0dc(0x166)],{'hookData':_0x2f6aea,'testUUID':_0x1741e5[_0x37a0dc(0x1ac)]});const _0x339e0a={};_0x339e0a[_0x37a0dc(0x142)]=_0x1741e5[_0x37a0dc(0x1ac)],_0x339e0a['type']=_0x51121f[_0x37a0dc(0x172)],await BrowserstackCLI['getInstance']()['getTestFramework']()['trackEvent'](TestFrameworkState[_0x37a0dc(0x1b5)],HookState['POST'],_0x339e0a);}return;}await testObservabilityReporter[_0x37a0dc(0x152)](this['report'],_0x163828,_0x51121f[_0x37a0dc(0x114)],_0x4e54b2,_0x5e2479,_tests[_0x5638f3]);}catch(_0x26df2e){logger['debug'](_0x37a0dc(0x10d)+util[_0x37a0dc(0x1ad)](_0x26df2e));}}[a6_0x6bef6a(0x138)](_0x39fcb3){const _0x24127f=a6_0x6bef6a,_0x4fe81e={};return _0x39fcb3[_0x24127f(0xfc)][_0x24127f(0x164)]['map'](this[_0x24127f(0xf0)])['flat']()[_0x24127f(0x19e)](_0x34f321=>_0x34f321[_0x24127f(0x123)][_0x24127f(0x19e)](_0x4fe770=>_0x4fe81e[_0x4fe770['id']]=_0x4fe770)),_0x4fe81e;}[a6_0x6bef6a(0xf0)](_0x4b16c9){const _0x2fff5e=a6_0x6bef6a,_0x1d1162={'nBoQa':function(_0x30027c,_0x55c354){return _0x30027c(_0x55c354);}};if(!_0x1d1162[_0x2fff5e(0xfd)](isUndefined,_0x4b16c9['background']))return[_0x4b16c9[_0x2fff5e(0x12b)]];else{if(!_0x1d1162[_0x2fff5e(0xfd)](isUndefined,_0x4b16c9[_0x2fff5e(0x14a)]))return _0x4b16c9[_0x2fff5e(0x14a)][_0x2fff5e(0x164)][_0x2fff5e(0x183)](_0x10b391=>!isUndefined(_0x10b391[_0x2fff5e(0x12b)])?_0x10b391[_0x2fff5e(0x12b)]:_0x10b391[_0x2fff5e(0x1aa)]);};return[_0x4b16c9[_0x2fff5e(0x1aa)]];}[a6_0x6bef6a(0x13f)](_0x294d03,_0xa0797){const _0x5aba6f=a6_0x6bef6a;return Object[_0x5aba6f(0x12a)](_0x294d03[_0x5aba6f(0x10a)][_0x5aba6f(0x160)])[_0x5aba6f(0x102)](_0x48e675=>_0x48e675[_0x5aba6f(0x105)]===_0xa0797[_0x5aba6f(0x105)]);}async[a6_0x6bef6a(0x117)](){const _0x5cae02=a6_0x6bef6a;if(this[_0x5cae02(0x10c)])return this[_0x5cae02(0x10c)];return this[_0x5cae02(0x10c)]=this[_0x5cae02(0x182)](),this['cliInitPromise'];}async[a6_0x6bef6a(0x182)](){const _0x2ecb66=a6_0x6bef6a,_0x413cd7={'Bveti':_0x2ecb66(0x16b),'KuDrv':function(_0xbd0250,_0xb57617){return _0xbd0250(_0xb57617);},'wMQcu':'../../v2/cliUtils','dILeW':function(_0x44196d,_0x176442){return _0x44196d(_0x176442);},'wDuvE':_0x2ecb66(0x10f)};try{const _0x440864=BrowserstackCLI[_0x2ecb66(0x19c)]();if(_0x440864[_0x2ecb66(0x18f)]())return logger[_0x2ecb66(0x157)](_0x2ecb66(0x181)+_0x440864[_0x2ecb66(0x129)]),!![];const _0x2dd9f2=process[_0x2ecb66(0x125)][_0x2ecb66(0x17f)];if(!_0x2dd9f2)return logger[_0x2ecb66(0x157)](_0x413cd7[_0x2ecb66(0x186)]),![];const _0x4b44f5=_0x413cd7[_0x2ecb66(0x187)](require,_0x413cd7['wMQcu']),{FRAMEWORKS:_0x5c0c3f}=_0x413cd7[_0x2ecb66(0x188)](require,_0x413cd7[_0x2ecb66(0x1b2)]);return _0x4b44f5[_0x2ecb66(0x130)](_0x5c0c3f[_0x2ecb66(0x174)],_0x5c0c3f[_0x2ecb66(0x143)]),logger[_0x2ecb66(0x157)]('Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20'+_0x2dd9f2),await _0x440864['bootstrap'](),logger[_0x2ecb66(0x157)](_0x2ecb66(0x195)+_0x440864[_0x2ecb66(0x18f)]()+_0x2ecb66(0x15e)+_0x440864[_0x2ecb66(0x129)]),_0x440864[_0x2ecb66(0x18f)]();}catch(_0x1c57dc){return logger[_0x2ecb66(0x157)](_0x2ecb66(0x197)+util[_0x2ecb66(0x1ad)](_0x1c57dc)),![];}}async[a6_0x6bef6a(0x139)](){const _0x22160d=a6_0x6bef6a;try{return await this[_0x22160d(0x117)](),BrowserstackCLI[_0x22160d(0x19c)]()[_0x22160d(0x18f)]();}catch(_0xfeb594){return logger[_0x22160d(0x157)](_0x22160d(0x1bb)+util[_0x22160d(0x1ad)](_0xfeb594)),![];}}}module[a6_0x6bef6a(0xe9)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x6bef6a(0x16e),a6_0x6bef6a(0x11d),a6_0x6bef6a(0x119),'onTestStepFinished',a6_0x6bef6a(0xfb),'onTestRunFinished',a6_0x6bef6a(0xf0),a6_0x6bef6a(0x13f),a6_0x6bef6a(0x138)]);