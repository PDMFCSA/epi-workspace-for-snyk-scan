const a6_0x4c4640=a6_0x319c;function a6_0x4f64(){const _0x526662=['uri','envelope','VuoKQ','sendTestRunEventForCucumber','name','result','DJESq','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','HookRunStarted','PreVe','testStepStarted','1329932KUYnDq','efGcC','../../../helpers/helper','flat','message','eZvoB','gherkinDocument','failureType','lfRyK','__platform','pickleStepId','steps','KwNUD','Executing\x20tests\x20for\x20','testCaseFinished','onTestRunFinished','map','../test-observability.js','onPickle','source','onHook','uukJG','onStepDefinition','yNAIg','winstonLogger','onTestStepStarted','assign','4406728hXGfjl','find','supportCodeLibrary','1421847mBvebG','exception','eventDataCollector','QQPSy','zdyzo','testCaseStartedId','testStepId','otNJx','6389840mqcmty','pickleMap','PMxMf','forEach','rule','KLTMI','includes','getTestUUID','extractStepContainers','pickle','hooks','onSource','actionLocation','CONFIG','isBstackHook','DkRKL','onTestCaseFinished','CTSSo','7MdglpQ','testSteps','\x20\x20\x20\x20','util','yuwvq','testCases','QlDeE','testCaseStarted','testCase','pickleId','vgMtU','debug','nHfLv','wBfPC','logTestRunFinished','duration','AMBIGUOUS','RKRov','mqXFh','gherkinDocumentMap','foYUT','TestRunFinished','NuCKC','gPvfx','keyword','UNDEFINED','PASSED','cwd','failure','6pEvLMV','TestRunStarted','feature','background','testStepFinished','@cucumber/cucumber','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','aAOzS','toISOString','AgtdM','625789JVzLsh','scenario','gNwnA','MtmQr','stepDefinition','text','env','UnhandledError','AVjBB','wmHFW','FAILED','cucumber-js/test.setup.js','path','TYANq','snippetBuilder','onTestRunStarted','\x20-\x20','Exception\x20in\x20onTestStepFinished\x20event:\x20','parseTestCaseAttempt','toLowerCase','testRunFinished','Exception\x20in\x20onTestStepStarted\x20event:\x20','log','../../../helpers/testhub/utils.js','status','bstack','setup','testCaseMap','values','testStepResult','sendHook','sourceLocation','report','uzJlo','getTestCaseAttempt','children','description','zbrnZ','testRunStarted','push','SKIPPED','getGherkinStepMap','onTestCase','RvHhG','incrementCounter','testCaseId','finishedAt','6042065NffhKh','getGherkinDocument','finished_at','format','IcFTE','33189471etGkUI','gedVR','toString','0|3|2|4|1','eventBroadcaster','testCaseAttemptDataMap','cmYdP','onTestStepFinished','exports','oRMMY'];a6_0x4f64=function(){return _0x526662;};return a6_0x4f64();}function a6_0x319c(_0x104611,_0xb1f19f){const _0x4f6492=a6_0x4f64();return a6_0x319c=function(_0x319cfa,_0x325843){_0x319cfa=_0x319cfa-0x17d;let _0x1d8fd0=_0x4f6492[_0x319cfa];return _0x1d8fd0;},a6_0x319c(_0x104611,_0xb1f19f);}(function(_0x142bb5,_0x1f151a){const _0x275caa=a6_0x319c,_0x57ce73=_0x142bb5();while(!![]){try{const _0x16fc52=parseInt(_0x275caa(0x1da))/0x1+-parseInt(_0x275caa(0x223))/0x2+-parseInt(_0x275caa(0x199))/0x3+-parseInt(_0x275caa(0x1a1))/0x4+-parseInt(_0x275caa(0x209))/0x5*(parseInt(_0x275caa(0x1d0))/0x6)+parseInt(_0x275caa(0x1b3))/0x7*(parseInt(_0x275caa(0x196))/0x8)+parseInt(_0x275caa(0x20e))/0x9;if(_0x16fc52===_0x1f151a)break;else _0x57ce73['push'](_0x57ce73['shift']());}catch(_0x3a912b){_0x57ce73['push'](_0x57ce73['shift']());}}}(a6_0x4f64,0xe0809));const {requireModule,getPlatformName,nestedKeyValue,isUndefined}=require(a6_0x4c4640(0x17d)),util=require(a6_0x4c4640(0x1b6)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x4c4640(0x1d5)),TestDetails=require('../../playwright/reporter/test-details.js'),TestObservabilityReporter=require(a6_0x4c4640(0x18c)),{o11yClassErrorHandler}=require('../../../helpers/test-observability/error-handler'),{shouldProcessEventForTesthub}=require(a6_0x4c4640(0x1f1)),testObservabilityReporter=new TestObservabilityReporter(),logger=require('../../../helpers/logger')[a6_0x4c4640(0x193)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x4148f4){const _0x488ab1=a6_0x4c4640,_0x27f3ee={};_0x27f3ee[_0x488ab1(0x1c0)]=_0x488ab1(0x219);const _0x1e04b9=_0x27f3ee;super(_0x4148f4),this[_0x488ab1(0x1fa)]={},_0x4148f4[_0x488ab1(0x212)]['on'](_0x1e04b9[_0x488ab1(0x1c0)],async _0x48536c=>{const _0x1319b7=_0x488ab1;switch(!![]){case!!_0x48536c['testRunStarted']:this[_0x1319b7(0x1e9)](_0x48536c[_0x1319b7(0x200)]);break;case!!_0x48536c[_0x1319b7(0x1ee)]:this['onTestRunFinished'](_0x48536c[_0x1319b7(0x1ee)]);break;case!!_0x48536c['testCaseStarted']:this['onTestCaseStarted'](_0x48536c['testCaseStarted'],_0x4148f4,_0x48536c);break;case!!_0x48536c['testCaseFinished']:this[_0x1319b7(0x1b1)](_0x48536c[_0x1319b7(0x189)],_0x4148f4,_0x48536c);break;case!!_0x48536c[_0x1319b7(0x222)]:this[_0x1319b7(0x194)](_0x48536c['testStepStarted'],_0x4148f4);break;case!!_0x48536c['testStepFinished']:this[_0x1319b7(0x215)](_0x48536c[_0x1319b7(0x1d4)],_0x4148f4);break;case!!_0x48536c['hook']:this[_0x1319b7(0x18f)](_0x48536c['hook']);break;case!!_0x48536c[_0x1319b7(0x1bb)]:this[_0x1319b7(0x204)](_0x48536c[_0x1319b7(0x1bb)]);break;case!!_0x48536c[_0x1319b7(0x1aa)]:this['onPickle'](_0x48536c['pickle']);break;case!!_0x48536c[_0x1319b7(0x181)]:this['onGherkinDocument'](_0x48536c[_0x1319b7(0x181)]);break;}});}[a6_0x4c4640(0x18f)](_0x33079e){const _0x350a55=a6_0x4c4640;this['report'][_0x350a55(0x1ab)]=Object[_0x350a55(0x195)]([],this[_0x350a55(0x1fa)]['hooks']||[]),this[_0x350a55(0x1fa)][_0x350a55(0x1ab)][_0x350a55(0x201)](_0x33079e);}[a6_0x4c4640(0x18d)](_0x584126){const _0x46bf31=a6_0x4c4640;this[_0x46bf31(0x1fa)]['pickle']=Object['assign']([],this[_0x46bf31(0x1fa)][_0x46bf31(0x1aa)]||[],[_0x584126]),this[_0x46bf31(0x1fa)][_0x46bf31(0x1aa)][_0x46bf31(0x201)](_0x584126);}['onGherkinDocument'](_0x71b488){const _0x32e05f=a6_0x4c4640;this['report'][_0x32e05f(0x181)]=Object[_0x32e05f(0x195)]([],this[_0x32e05f(0x1fa)][_0x32e05f(0x181)]||[],[_0x71b488]),this[_0x32e05f(0x1fa)][_0x32e05f(0x181)][_0x32e05f(0x201)](_0x71b488);}[a6_0x4c4640(0x1ac)](_0x25645f){const _0x4a3d68=a6_0x4c4640;this['report'][_0x4a3d68(0x18e)]=_0x25645f;}[a6_0x4c4640(0x191)](_0x3ec4ee){const _0x4212e1=a6_0x4c4640;this[_0x4212e1(0x1fa)]['stepDefinition']=Object['assign']([],this[_0x4212e1(0x1fa)][_0x4212e1(0x1de)]||[],[_0x3ec4ee]),this['report']['stepDefinition'][_0x4212e1(0x201)](_0x3ec4ee);}[a6_0x4c4640(0x204)](_0x2cf6a1){const _0x3b61fb=a6_0x4c4640;this[_0x3b61fb(0x1fa)][_0x3b61fb(0x1b8)]=Object[_0x3b61fb(0x195)]([],this[_0x3b61fb(0x1fa)]['testCases']||[],[_0x2cf6a1]),this['report'][_0x3b61fb(0x1b8)]['push'](_0x2cf6a1);}['logTestCaseFinished'](_0x346d25){const _0x605e17=a6_0x4c4640,_0x421762={'TvXwM':function(_0x1561f6,_0x4be9fb){return _0x1561f6!==_0x4be9fb;},'oRMMY':_0x605e17(0x1f3),'uukJG':function(_0x4ee9e4,_0x286e91){return _0x4ee9e4+_0x286e91;},'RKRov':function(_0x38b434,_0x323df2){return _0x38b434+_0x323df2;},'ZEhgi':_0x605e17(0x1b5),'efGcC':_0x605e17(0x1ea),'zdyzo':function(_0x549136,_0x2618c5){return _0x549136===_0x2618c5;},'VuoKQ':_0x605e17(0x1e4),'wmHFW':function(_0x3ecab7,_0xaf6617,_0xeca9f1){return _0x3ecab7(_0xaf6617,_0xeca9f1);},'gPvfx':_0x605e17(0x21d),'RvHhG':_0x605e17(0x17f),'CTSSo':function(_0x106058,_0x29897a){return _0x106058+_0x29897a;},'eZvoB':function(_0x4590d6,_0x2e6577){return _0x4590d6+_0x2e6577;},'TCJtX':function(_0x93d5f1,_0xf20b09){return _0x93d5f1!==_0xf20b09;},'yuwvq':function(_0x78712d,_0x1c2a85){return _0x78712d+_0x1c2a85;}};_0x421762['TCJtX'](global[_0x605e17(0x184)],undefined)&&this[_0x605e17(0x1f0)](_0x421762['eZvoB'](_0x421762[_0x605e17(0x1b7)]('\x0a',global[_0x605e17(0x184)]),'\x0a'));const _0x21038b=this[_0x605e17(0x19b)][_0x605e17(0x1fc)](_0x346d25[_0x605e17(0x19e)]);this['log'](_0x421762['CTSSo'](_0x421762[_0x605e17(0x1b2)](_0x421762[_0x605e17(0x1b7)](_0x421762[_0x605e17(0x180)]('\x20\x20',_0x21038b[_0x605e17(0x181)][_0x605e17(0x1d2)][_0x605e17(0x21c)]),_0x421762[_0x605e17(0x224)]),_0x21038b[_0x605e17(0x1aa)][_0x605e17(0x21c)]),'\x0a'));const _0x229db1={};_0x229db1[_0x605e17(0x1ce)]=this[_0x605e17(0x1ce)],_0x229db1[_0x605e17(0x1e8)]=this[_0x605e17(0x1e8)],_0x229db1['supportCodeLibrary']=this[_0x605e17(0x198)],_0x229db1['testCaseAttempt']=_0x21038b;const _0x5ac4fd=formatterHelpers[_0x605e17(0x1ec)](_0x229db1);let _0x5420c7=![];_0x5ac4fd[_0x605e17(0x1b4)][_0x605e17(0x1a4)](_0x53d5d6=>{const _0x102f41=_0x605e17;if(_0x421762['TvXwM'](_0x53d5d6['name'],_0x421762[_0x102f41(0x217)])&&!this[_0x102f41(0x1af)](_0x53d5d6)){totalTests+=0x1,this[_0x102f41(0x1f0)](_0x421762[_0x102f41(0x190)](_0x421762[_0x102f41(0x190)](_0x421762[_0x102f41(0x190)](_0x421762[_0x102f41(0x1c4)](_0x421762['uukJG'](_0x421762['ZEhgi'],_0x53d5d6[_0x102f41(0x1cb)]),_0x53d5d6[_0x102f41(0x1df)]||''),_0x421762[_0x102f41(0x224)]),Status[_0x53d5d6[_0x102f41(0x21d)][_0x102f41(0x1f2)]]),'\x0a')),this[_0x102f41(0x206)](Status[_0x53d5d6[_0x102f41(0x21d)][_0x102f41(0x1f2)]]);if(_0x421762[_0x102f41(0x19d)](Status[_0x53d5d6[_0x102f41(0x21d)][_0x102f41(0x1f2)]],_0x421762[_0x102f41(0x21a)])){_0x5420c7=!![];const _0x256c2a=_0x421762[_0x102f41(0x1e3)](nestedKeyValue,_0x53d5d6,[_0x421762[_0x102f41(0x1ca)],_0x421762[_0x102f41(0x205)]]);_0x256c2a&&(testsErrorMessage[_0x421762[_0x102f41(0x1c4)](_0x421762['CTSSo'](_0x21038b['gherkinDocument'][_0x102f41(0x1d2)][_0x102f41(0x21c)],_0x421762['efGcC']),_0x21038b[_0x102f41(0x1aa)][_0x102f41(0x21c)])]=_0x256c2a,this[_0x102f41(0x1f0)](_0x421762[_0x102f41(0x180)](_0x256c2a,'\x0a')));}}}),_0x5420c7&&(testSuitesFailed+=0x1),this[_0x605e17(0x1f0)]('\x0a');}[a6_0x4c4640(0x1c1)](_0x2d588d){}['isBstackHook'](_0x3de8bf){const _0xdf04e6=a6_0x4c4640,_0x14a4f0={};_0x14a4f0[_0xdf04e6(0x1dd)]=function(_0x107e65,_0x8e1823){return _0x107e65!==_0x8e1823;},_0x14a4f0[_0xdf04e6(0x1d9)]=_0xdf04e6(0x1e5);const _0x11d5d7=_0x14a4f0;if(_0x11d5d7[_0xdf04e6(0x1dd)](_0x3de8bf[_0xdf04e6(0x1f9)],undefined))return![];if(_0x3de8bf['actionLocation']&&_0x3de8bf[_0xdf04e6(0x1ad)][_0xdf04e6(0x218)][_0xdf04e6(0x1a7)](_0x11d5d7[_0xdf04e6(0x1d9)]))return!![];return![];}['incrementCounter'](_0x2e1968){const _0x442b1e=a6_0x4c4640,_0x3b1b13={};_0x3b1b13[_0x442b1e(0x1dc)]=_0x442b1e(0x1e4),_0x3b1b13['uzJlo']=_0x442b1e(0x1cd),_0x3b1b13[_0x442b1e(0x20d)]=_0x442b1e(0x202),_0x3b1b13['KLTMI']='PENDING',_0x3b1b13['lNXkx']=_0x442b1e(0x1cc),_0x3b1b13[_0x442b1e(0x1d7)]='UNKNOWN',_0x3b1b13[_0x442b1e(0x1a3)]=_0x442b1e(0x1c3);const _0x2cb079=_0x3b1b13;switch(_0x2e1968){case _0x2cb079['gNwnA']:testsFailed+=0x1;break;case _0x2cb079[_0x442b1e(0x1fb)]:testsPassed+=0x1;break;case _0x2cb079[_0x442b1e(0x20d)]:testsSkipped+=0x1;break;case _0x2cb079[_0x442b1e(0x1a6)]:testsPending+=0x1;break;case _0x2cb079['lNXkx']:testsUndefined+=0x1;break;case _0x2cb079[_0x442b1e(0x1d7)]:testsUnknown+=0x1;break;case _0x2cb079[_0x442b1e(0x1a3)]:testsAmbiguous+=0x1;break;default:break;}}[a6_0x4c4640(0x1e9)](_0x3cc750){const _0xebac49=a6_0x4c4640,_0x160436={'QQPSy':function(_0x22dd95,_0x29a64a){return _0x22dd95!==_0x29a64a;},'lfRyK':function(_0x471c0a,_0x1f9aea){return _0x471c0a(_0x1f9aea);},'NuCKC':function(_0x1833ef,_0x59ec9f){return _0x1833ef+_0x59ec9f;},'otNJx':function(_0x436f12){return _0x436f12();}};let _0x3c7e10;if(_0x160436[_0xebac49(0x19c)](process[_0xebac49(0x1e0)][_0xebac49(0x1ae)],undefined)){const _0x326f71=JSON['parse'](process[_0xebac49(0x1e0)][_0xebac49(0x1ae)]);_0x3c7e10=_0x326f71['capability'];}_0x160436[_0xebac49(0x19c)](_0x3c7e10,undefined)&&(global[_0xebac49(0x184)]=_0x160436[_0xebac49(0x183)](getPlatformName,_0x3c7e10),this[_0xebac49(0x1f0)](_0x160436[_0xebac49(0x1c9)](_0xebac49(0x188)+global['__platform'],'\x0a'))),_0x160436[_0xebac49(0x1a0)](shouldProcessEventForTesthub)&&(TestDetails[_0xebac49(0x1f4)](),this[_0xebac49(0x1fa)][_0xebac49(0x200)]=_0x3cc750);}[a6_0x4c4640(0x18a)](_0x2a584a){const _0x23f411=a6_0x4c4640;this['report'][_0x23f411(0x1ee)]=_0x2a584a,this[_0x23f411(0x1c1)](_0x2a584a);}async['onTestCaseStarted'](_0x116bf4,_0x420ada,_0x3f7bac){const _0x19ca92=a6_0x4c4640,_0x34e40f={'zbrnZ':function(_0x58e31a,_0x151c7c){return _0x58e31a(_0x151c7c);},'QlDeE':_0x19ca92(0x1d1),'foYUT':function(_0xcdac7d,_0x17941f){return _0xcdac7d&&_0x17941f;}};testSuites+=0x1;if(_0x34e40f[_0x19ca92(0x1ff)](shouldProcessEventForTesthub,_0x34e40f[_0x19ca92(0x1b9)]))try{this[_0x19ca92(0x1fa)][_0x19ca92(0x1ba)]=this[_0x19ca92(0x1fa)]['testCaseStarted']||{},this[_0x19ca92(0x1fa)][_0x19ca92(0x1ba)][_0x116bf4['id']]=_0x116bf4;const _0x1ea3dd=TestDetails[_0x19ca92(0x1a8)](_0x116bf4['id']);_testCasesData[_0x116bf4['id']]=Object[_0x19ca92(0x195)]({},_0x3f7bac);const _0xcc9c77=this[_0x19ca92(0x1fa)],_0x51dba0=_0x116bf4[_0x19ca92(0x207)],_0x3f8ac2=_0xcc9c77[_0x19ca92(0x1b8)][_0x19ca92(0x197)](_0x482d71=>_0x482d71['id']===_0x51dba0)[_0x19ca92(0x1bc)],_0x3db630=_0xcc9c77['pickle'][_0x19ca92(0x197)](_0x2cdcde=>_0x2cdcde['id']===_0x3f8ac2),_0x2ac2c1=_0xcc9c77[_0x19ca92(0x181)][_0x19ca92(0x197)](_0x450c4a=>_0x450c4a[_0x19ca92(0x218)]===_0x3db630[_0x19ca92(0x218)]),_0xaf75c1=_0x2ac2c1['feature'],_0x8fe2e1={'uuid':_0x1ea3dd,'startedAt':new Date()[_0x19ca92(0x1d8)]()};if(_0x3db630){const _0x4c7aac={};_0x4c7aac[_0x19ca92(0x21c)]=_0x3db630[_0x19ca92(0x21c)],_0x8fe2e1[_0x19ca92(0x1db)]=_0x4c7aac;}if(_0x34e40f[_0x19ca92(0x1c7)](_0x2ac2c1,_0xaf75c1)){const _0x1e438f={};_0x1e438f[_0x19ca92(0x1e6)]=_0x2ac2c1['uri'],_0x1e438f['name']=_0xaf75c1['name'],_0x1e438f[_0x19ca92(0x1fe)]=_0xaf75c1[_0x19ca92(0x1fe)],_0x8fe2e1[_0x19ca92(0x1d2)]=_0x1e438f;}_tests[_0x51dba0]=_0x8fe2e1,await testObservabilityReporter['sendTestRunEventForCucumber'](_0x3f7bac,_0x2ac2c1,_0x3db630,_0x34e40f['QlDeE'],_0x8fe2e1);}catch(_0x578192){logger['debug'](_0x19ca92(0x1d6)+util[_0x19ca92(0x20c)](_0x578192)+'\x20');}}async[a6_0x4c4640(0x1b1)](_0x15f2c7,_0x3a9772,_0x40795d){const _0xb5b573=a6_0x4c4640,_0x413f98={'mqXFh':function(_0x31bc7c,_0x5823c9){return _0x31bc7c(_0x5823c9);},'AVjBB':_0xb5b573(0x1c8)};this['logTestCaseFinished'](_0x15f2c7);if(_0x413f98[_0xb5b573(0x1c5)](shouldProcessEventForTesthub,_0x413f98[_0xb5b573(0x1e2)]))try{this[_0xb5b573(0x1fa)][_0xb5b573(0x189)]=this[_0xb5b573(0x1fa)]['testCaseFinished']||{},this['report'][_0xb5b573(0x189)][_0x15f2c7[_0xb5b573(0x19e)]]=_0x15f2c7,_testCasesData[_0x40795d['id']]=Object[_0xb5b573(0x195)]({},_0x40795d);const _0x5d1785=_0x15f2c7[_0xb5b573(0x19e)],_0x2d9cb2=_0x3a9772[_0xb5b573(0x19b)][_0xb5b573(0x213)][_0x5d1785][_0xb5b573(0x207)],_0x2a7940=_0x3a9772['eventDataCollector']['testCaseMap'][_0x2d9cb2],_0x15b8b9=_0x2a7940[_0xb5b573(0x1bc)],_0x13ff4b=_0x3a9772[_0xb5b573(0x19b)]['pickleMap'][_0x15b8b9],_0x4ddec0=this[_0xb5b573(0x20a)](_0x3a9772,_0x13ff4b),_0x49aa61=_tests[_0x2d9cb2];_0x49aa61&&(delete _tests[_0x2d9cb2],_0x49aa61[_0xb5b573(0x208)]=new Date()[_0xb5b573(0x1d8)]()),await testObservabilityReporter[_0xb5b573(0x21b)](_0x40795d,_0x4ddec0,_0x13ff4b,_0x413f98[_0xb5b573(0x1e2)],_0x49aa61);}catch(_0x225488){logger['debug'](_0xb5b573(0x21f)+util['format'](_0x225488));}}async[a6_0x4c4640(0x194)](_0x26e407,_0x1e3993){const _0x43c188=a6_0x4c4640,_0x250457={'vgMtU':function(_0x5d28df,_0x6e94a7){return _0x5d28df(_0x6e94a7);},'TYANq':_0x43c188(0x220),'FwJel':function(_0x45867b,_0xdff355){return _0x45867b!==_0xdff355;},'nHfLv':'testStepId'};if(_0x250457[_0x43c188(0x1bd)](shouldProcessEventForTesthub,_0x250457[_0x43c188(0x1e7)]))try{this[_0x43c188(0x1fa)]['testStepStarted']=this[_0x43c188(0x1fa)]['testStepStarted']||{},this[_0x43c188(0x1fa)][_0x43c188(0x222)][_0x26e407[_0x43c188(0x19e)]]=_0x26e407;const _0xd68a3e=_0x26e407[_0x43c188(0x19e)],_0xe26f88=_0x1e3993['eventDataCollector'][_0x43c188(0x213)][_0xd68a3e][_0x43c188(0x207)],_0x18a1b1=this['report'][_0x43c188(0x1b8)][_0x43c188(0x197)](_0x49aa22=>_0x49aa22['id']===_0xe26f88)['pickleId'],_0x2ab81e=this[_0x43c188(0x1fa)][_0x43c188(0x1aa)][_0x43c188(0x197)](_0x171680=>_0x171680['id']===_0x18a1b1),_0x5118df=this[_0x43c188(0x1fa)][_0x43c188(0x1b8)]['find'](_0xdf7c4d=>_0xdf7c4d['id']===_0xe26f88)['testSteps'],_0x1719e9=this[_0x43c188(0x1fa)]['testStepStarted'][_0xd68a3e][_0x43c188(0x19f)],_0x1b3e16=_0x5118df[_0x43c188(0x197)](_0x3a9896=>_0x3a9896['id']===_0x1719e9)[_0x43c188(0x185)],_0x20c2a7=_0x2ab81e[_0x43c188(0x186)][_0x43c188(0x197)](_0x313adf=>_0x313adf['id']===_0x1b3e16);if(_0x1b3e16&&_tests[_0xe26f88]&&_0x250457['FwJel'](_tests[_0xe26f88][_0x250457[_0x43c188(0x1bf)]],_0x1719e9)){_tests[_0xe26f88][_0x250457[_0x43c188(0x1bf)]]=_0x1719e9;const _0x11ee0d={};_0x11ee0d['steps']=[];const _0x5c003a=_tests[_0xe26f88]||_0x11ee0d;_0x5c003a&&!_0x5c003a['steps']&&(_0x5c003a[_0x43c188(0x186)]=[]),_0x5c003a['steps'][_0x43c188(0x201)]({'id':_0x20c2a7['id'],'text':_0x20c2a7['text'],'started_at':new Date()['toISOString']()}),_tests[_0xe26f88]=_0x5c003a;}await testObservabilityReporter[_0x43c188(0x1f8)](this[_0x43c188(0x1fa)],_0xd68a3e,_0x250457[_0x43c188(0x1e7)],_0x5118df,_0x1719e9,_tests[_0xe26f88]);}catch(_0x1c882d){logger[_0x43c188(0x1be)](_0x43c188(0x1ef)+util[_0x43c188(0x20c)](_0x1c882d));}}async[a6_0x4c4640(0x215)](_0x2ede03,_0x5822de){const _0x2da5da=a6_0x4c4640,_0x5b7b8e={'yNAIg':function(_0x465a9c,_0xefd1bc){return _0x465a9c===_0xefd1bc;},'MdtMi':_0x2da5da(0x211),'DkRKL':function(_0x2c54ac,_0x108fde){return _0x2c54ac(_0x108fde);},'DJESq':'HookRunFinished','PreVe':'failed','KwNUD':function(_0x24c96d,_0x5856a0){return _0x24c96d===_0x5856a0;},'gedVR':_0x2da5da(0x1e1),'cmYdP':'testStepId'};this[_0x2da5da(0x1fa)][_0x2da5da(0x1d4)]=this['report'][_0x2da5da(0x1d4)]||{},this[_0x2da5da(0x1fa)]['testStepFinished'][_0x2ede03[_0x2da5da(0x19e)]]=_0x2ede03;if(_0x5b7b8e[_0x2da5da(0x1b0)](shouldProcessEventForTesthub,_0x5b7b8e[_0x2da5da(0x21e)]))try{const _0x5b764b=_0x2ede03[_0x2da5da(0x19e)],_0x1cc0df=_0x5822de['eventDataCollector'][_0x2da5da(0x213)][_0x5b764b][_0x2da5da(0x207)],_0x576932=_0x5822de[_0x2da5da(0x19b)][_0x2da5da(0x1f5)][_0x1cc0df],_0x16d9fe=_0x576932[_0x2da5da(0x1bc)],_0x276d86=_0x5822de[_0x2da5da(0x19b)][_0x2da5da(0x1a2)][_0x16d9fe],_0x5be695=_0x2ede03[_0x2da5da(0x19f)],_0x2c204b=_0x576932[_0x2da5da(0x1b4)],_0x2dc346=this[_0x2da5da(0x19b)][_0x2da5da(0x1fc)](_0x5b764b),_0x5b6ade=_0x2c204b[_0x2da5da(0x197)](_0x1842c2=>_0x1842c2['id']===_0x5be695)[_0x2da5da(0x185)];let _0x399385,_0x3befa3;_0x2ede03[_0x2da5da(0x1f7)]&&_0x5b7b8e[_0x2da5da(0x192)](_0x2ede03[_0x2da5da(0x1f7)]['status'][_0x2da5da(0x210)]()[_0x2da5da(0x1ed)](),_0x5b7b8e[_0x2da5da(0x221)])&&(_0x399385=_0x5b7b8e[_0x2da5da(0x192)](_0x2ede03[_0x2da5da(0x1f7)][_0x2da5da(0x19a)],undefined)?_0x2ede03[_0x2da5da(0x1f7)][_0x2da5da(0x17f)]:_0x2ede03[_0x2da5da(0x1f7)][_0x2da5da(0x19a)][_0x2da5da(0x17f)],_0x3befa3=_0x5b7b8e[_0x2da5da(0x187)](_0x2ede03['testStepResult']['exception'],undefined)?_0x5b7b8e[_0x2da5da(0x20f)]:_0x2ede03[_0x2da5da(0x1f7)][_0x2da5da(0x17f)]);await testObservabilityReporter[_0x2da5da(0x1f8)](this['report'],_0x5b764b,_0x5b7b8e['DJESq'],_0x2c204b,_0x5be695,_tests[_0x1cc0df]);if(_0x5b6ade&&_tests[_0x1cc0df][_0x5b7b8e[_0x2da5da(0x214)]]){const _0x154c59=_0x276d86['steps'][_0x2da5da(0x197)](_0x2f0784=>_0x2f0784['id']===_0x5b6ade),_0x11bfec={};_0x11bfec[_0x2da5da(0x186)]=[];const _0x4c3eff=_tests[_0x1cc0df]||_0x11bfec;!_0x4c3eff[_0x2da5da(0x186)]?_0x4c3eff['steps']=[{'id':_0x154c59['id'],'text':_0x154c59[_0x2da5da(0x1df)],'finished_at':new Date()[_0x2da5da(0x1d8)](),'result':_0x2ede03[_0x2da5da(0x1f7)][_0x2da5da(0x1f2)],'duration':_0x2ede03[_0x2da5da(0x1f7)]['duration']['seconds'],'failure':_0x399385,'failureType':_0x3befa3}]:_0x4c3eff[_0x2da5da(0x186)][_0x2da5da(0x1a4)](_0x911b9f=>{const _0x53b2ed=_0x2da5da;if(_0x5b7b8e['yNAIg'](_0x911b9f['id'],_0x154c59['id'])){const _0x177b9b=_0x5b7b8e['MdtMi']['split']('|');let _0x293d00=0x0;while(!![]){switch(_0x177b9b[_0x293d00++]){case'0':_0x911b9f[_0x53b2ed(0x20b)]=new Date()[_0x53b2ed(0x1d8)]();continue;case'1':_0x911b9f[_0x53b2ed(0x182)]=_0x3befa3;continue;case'2':_0x911b9f[_0x53b2ed(0x1c2)]=_0x2ede03[_0x53b2ed(0x1f7)][_0x53b2ed(0x1c2)]['seconds'];continue;case'3':_0x911b9f[_0x53b2ed(0x21d)]=_0x2ede03[_0x53b2ed(0x1f7)]['status'];continue;case'4':_0x911b9f[_0x53b2ed(0x1cf)]=_0x399385;continue;}break;}}}),_tests[_0x1cc0df]=_0x4c3eff,delete _tests[_0x1cc0df][_0x5b7b8e[_0x2da5da(0x214)]];}}catch(_0x59c64a){logger[_0x2da5da(0x1be)](_0x2da5da(0x1eb)+util['format'](_0x59c64a));}}[a6_0x4c4640(0x203)](_0x1d0e89){const _0x559eb2=a6_0x4c4640,_0x29edbb={};return _0x1d0e89['feature']['children'][_0x559eb2(0x18b)](this[_0x559eb2(0x1a9)])[_0x559eb2(0x17e)]()[_0x559eb2(0x1a4)](_0x5e71f4=>_0x5e71f4[_0x559eb2(0x186)][_0x559eb2(0x1a4)](_0xa25275=>_0x29edbb[_0xa25275['id']]=_0xa25275)),_0x29edbb;}['extractStepContainers'](_0x436509){const _0x31abb3=a6_0x4c4640,_0x47c711={'tpVHX':function(_0xf2279c,_0x3e4e3f){return _0xf2279c(_0x3e4e3f);}};if(!_0x47c711['tpVHX'](isUndefined,_0x436509[_0x31abb3(0x1d3)]))return[_0x436509[_0x31abb3(0x1d3)]];else{if(!_0x47c711['tpVHX'](isUndefined,_0x436509['rule']))return _0x436509[_0x31abb3(0x1a5)][_0x31abb3(0x1fd)][_0x31abb3(0x18b)](_0x4b7288=>!isUndefined(_0x4b7288['background'])?_0x4b7288[_0x31abb3(0x1d3)]:_0x4b7288[_0x31abb3(0x1db)]);};return[_0x436509[_0x31abb3(0x1db)]];}['getGherkinDocument'](_0xc6a7d4,_0x5a2b05){const _0x3c1607=a6_0x4c4640;return Object[_0x3c1607(0x1f6)](_0xc6a7d4[_0x3c1607(0x19b)][_0x3c1607(0x1c6)])[_0x3c1607(0x197)](_0x7dcf08=>_0x7dcf08[_0x3c1607(0x218)]===_0x5a2b05['uri']);}}module[a6_0x4c4640(0x216)]=o11yClassErrorHandler(BrowserstackFormatter,['onTestCaseStarted','onTestCaseFinished',a6_0x4c4640(0x194),a6_0x4c4640(0x215),a6_0x4c4640(0x1e9),'onTestRunFinished',a6_0x4c4640(0x1a9),a6_0x4c4640(0x20a),'getGherkinStepMap']);