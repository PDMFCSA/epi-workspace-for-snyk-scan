#!/usr/bin/env node
'use strict';const a5_0x1e7496=a5_0x4fb3;(function(_0xf8463c,_0x1610db){const _0x2f1740=a5_0x4fb3,_0xb0b3ad=_0xf8463c();while(!![]){try{const _0x203c38=parseInt(_0x2f1740(0xe6))/0x1+-parseInt(_0x2f1740(0x93))/0x2*(-parseInt(_0x2f1740(0x9b))/0x3)+parseInt(_0x2f1740(0xf5))/0x4+parseInt(_0x2f1740(0xf6))/0x5*(-parseInt(_0x2f1740(0xef))/0x6)+-parseInt(_0x2f1740(0x90))/0x7+-parseInt(_0x2f1740(0xf1))/0x8+-parseInt(_0x2f1740(0x8b))/0x9;if(_0x203c38===_0x1610db)break;else _0xb0b3ad['push'](_0xb0b3ad['shift']());}catch(_0x157f15){_0xb0b3ad['push'](_0xb0b3ad['shift']());}}}(a5_0x2910,0x26341));const fs=require('fs'),path=require(a5_0x1e7496(0xe9)),util=require(a5_0x1e7496(0xab)),logger=require(a5_0x1e7496(0x94))[a5_0x1e7496(0xa6)],{default:BrowserStackSetup}=require(a5_0x1e7496(0xc1)),helper=require(a5_0x1e7496(0xf9)),utilities=require('../../helpers/utilities'),constants=require(a5_0x1e7496(0xed)),{parallelCucumberRun}=require(a5_0x1e7496(0x87)),TestHubHandler=require(a5_0x1e7496(0x92)),testOpsHelper=require('../../helpers/test-observability/utils'),chalk=require(a5_0x1e7496(0xfc)),PerformanceTester=require(a5_0x1e7496(0x86)),PerformanceEvents=require(a5_0x1e7496(0xe4))['EVENTS'];function a5_0x2910(){const _0x1f9a54=['setupTCGAuth','svMHZ','scenariosFailed','stepsSkipped','3HIpZAM','mEZtD','ikptv','scenarios','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','rmdirSync','HdscU','yellow','parseFormatters','getPlatformName','framework','winstonLogger','getUserWorkerCount','stepsPassed','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','SDK_CLEANUP','util','stepsUnknown','unlinkSync','cwd','join','HfqfQ','setUserConfigPath','HfrgU','skipSessionStatus','\x20skipped','cyan','stop','error\x20removing\x20tcg\x20config\x20file','SMeus','CUCUMBER','bold','XMwCZ','PbHZi','logLevel','URPtP','printBuildLink','turboScaleUrl','../../helpers/BrowserStackSetup','rgIJQ','cVGQa','rnGNB','\x20steps','debug','tmp','mergeOutputFiles','testContextOptions','RkdMB','getHubUrl','isBrowserstackInfra','Generating\x20consolidated\x20report...','stepsUndefined','finally','FuaXe','splice','exports','getTCGConfigFilePaths','proxySettings','push','DVegn','format','NWkwt','SSDxB','Kgvvq','getErrorMessageFromResults','stepsAmbiguous','hrJFY','accessibilityOptions','exitCode','processSuccess','end','skipSessionName','handleApp','../../helpers/performance/constants','parallelsPerPlatform','300681coqfIf','green','NBRei','path','GDcOA','env','length','../utils/constants','useW3C','16086VuIOok','xJXgn','1186864LePynK','stringify','LLqFG','prepareCapabilities','736916KvjJWa','520EtLpFs','config','start','../../helpers/helper','BROWSERSTACK_TEST_OBSERVABILITY_YML','\x20failed','chalk','\x20undefined','then','kxisz','bgWhite','log','../../helpers/performance/performance-tester','../test-runner','testObservability','createDir','****\x20RESULTS\x20****','1602873lBwjpa','boWin','forEach','stepsPending','FRAMEWORKS','246078UmTUrL','bdnTX','../../helpers/testhub/testhubHandler','624008myiHQN','../../helpers/logger','UhOOX','red'];a5_0x2910=function(){return _0x1f9a54;};return a5_0x2910();}function printCucumberStats(_0x5dd802){const _0x5b1142=a5_0x1e7496,_0x317cd8={};_0x317cd8['Kgvvq']=function(_0x6a3bcc,_0x55925c){return _0x6a3bcc>_0x55925c;},_0x317cd8[_0x5b1142(0xd9)]=function(_0x453d91,_0x5e9cfa){return _0x453d91-_0x5e9cfa;},_0x317cd8[_0x5b1142(0xc2)]=function(_0x2a7689,_0x3b2c9a){return _0x2a7689-_0x3b2c9a;},_0x317cd8[_0x5b1142(0x8c)]=function(_0x43be4f,_0x14b68b){return _0x43be4f>_0x14b68b;},_0x317cd8[_0x5b1142(0xdd)]=function(_0x197d69,_0x4b05ba){return _0x197d69>_0x4b05ba;},_0x317cd8[_0x5b1142(0xca)]=function(_0x3992de,_0x592681){return _0x3992de>_0x592681;},_0x317cd8[_0x5b1142(0x91)]=function(_0x2115e1,_0x5a2e97){return _0x2115e1>_0x5a2e97;},_0x317cd8[_0x5b1142(0xe8)]=function(_0x4e1523,_0x475b04){return _0x4e1523>_0x475b04;},_0x317cd8[_0x5b1142(0xa1)]=function(_0x564605,_0x2fa0f1){return _0x564605>_0x2fa0f1;},_0x317cd8[_0x5b1142(0xbb)]=function(_0x6dfbf,_0xaa0ce4){return _0x6dfbf>_0xaa0ce4;},_0x317cd8['uBCaE']=function(_0x474a6f,_0x7533e4){return _0x474a6f>_0x7533e4;},_0x317cd8['sNRdi']=function(_0x4cbe79,_0x3cf46c){return _0x4cbe79>_0x3cf46c;},_0x317cd8['sxiKA']=function(_0x127c02,_0x5769a2){return _0x127c02>_0x5769a2;},_0x317cd8[_0x5b1142(0x98)]=function(_0x2ec378,_0x472fbb){return _0x2ec378+_0x472fbb;},_0x317cd8[_0x5b1142(0xbe)]=function(_0x40284d,_0x33391d){return _0x40284d+_0x33391d;},_0x317cd8[_0x5b1142(0xea)]=function(_0x2fa182,_0x3052e4){return _0x2fa182+_0x3052e4;},_0x317cd8[_0x5b1142(0xb8)]=function(_0x28796f,_0x1629fd){return _0x28796f+_0x1629fd;},_0x317cd8[_0x5b1142(0xc4)]=function(_0xc535c6,_0x11882e){return _0xc535c6+_0x11882e;},_0x317cd8['ikptv']=function(_0x55fb9f,_0x4d35ae){return _0x55fb9f===_0x4d35ae;},_0x317cd8[_0x5b1142(0xf3)]=_0x5b1142(0x8a);const _0x4353a6=_0x317cd8;let _0x1e0355=0x0;if(_0x4353a6[_0x5b1142(0x9d)](_0x5dd802[_0x5b1142(0xec)],0x0))return _0x1e0355;return console['log'](chalk['bold'][_0x5b1142(0x100)](_0x4353a6[_0x5b1142(0xf3)])),_0x5dd802[_0x5b1142(0x8d)](_0xb327bd=>{const _0x236f8a=_0x5b1142,_0x50b3dd=_0xb327bd[0x0],_0x1f921e=_0xb327bd[0x1];helper[_0x236f8a(0xcc)]()&&console['log']('\x0a'+chalk[_0x236f8a(0xba)][_0x236f8a(0xa2)](''+helper[_0x236f8a(0xa4)](_0x50b3dd)));const _0x23d3d5=_0x1f921e[_0x236f8a(0x9e)],_0x55c3d5=_0x1f921e['steps'],_0x143678=_0x1f921e[_0x236f8a(0x99)],_0x34cd06=_0x1f921e['stepsFailed'],_0x3010fa=_0x1f921e[_0x236f8a(0xa8)],_0x3b52ff=_0x1f921e[_0x236f8a(0x9a)],_0x5938a0=_0x1f921e[_0x236f8a(0x8e)],_0x518c95=_0x1f921e[_0x236f8a(0xce)],_0x4ebe26=_0x1f921e[_0x236f8a(0xac)],_0x782cad=_0x1f921e[_0x236f8a(0xdc)],_0x5a6b23=_0x1f921e[_0x236f8a(0xe0)];let _0x5a74a6=_0x23d3d5+'\x20scenarios';const _0x379894=_0x4353a6[_0x236f8a(0xda)](_0x4353a6[_0x236f8a(0xd9)](_0x23d3d5,_0x143678),0x0)?_0x4353a6[_0x236f8a(0xc2)](_0x23d3d5,_0x143678):0x0;if(_0x4353a6['Kgvvq'](_0x143678,0x0)&&_0x4353a6[_0x236f8a(0x8c)](_0x379894,0x0))_0x5a74a6+='\x20('+chalk[_0x236f8a(0xba)][_0x236f8a(0x96)](_0x143678+_0x236f8a(0xfb))+',\x20'+chalk[_0x236f8a(0xba)][_0x236f8a(0xe7)](_0x379894+'\x20passed')+')';else(_0x4353a6[_0x236f8a(0xdd)](_0x143678,0x0)||_0x4353a6[_0x236f8a(0xca)](_0x379894,0x0))&&(_0x5a74a6+=_0x4353a6[_0x236f8a(0x91)](_0x143678,0x0)?'\x20('+chalk['bold'][_0x236f8a(0x96)](_0x143678+_0x236f8a(0xfb))+')':'\x20('+chalk[_0x236f8a(0xba)][_0x236f8a(0xe7)](_0x379894+'\x20passed')+')');const _0xdb62f2=_0x55c3d5+_0x236f8a(0xc5),_0x6e4427=[];_0x4353a6['NBRei'](_0x782cad,0x0)&&_0x6e4427['push'](''+chalk[_0x236f8a(0xba)]['red'](_0x782cad+'\x20ambiguous'));_0x4353a6[_0x236f8a(0xa1)](_0x34cd06,0x0)&&_0x6e4427[_0x236f8a(0xd5)](''+chalk[_0x236f8a(0xba)][_0x236f8a(0x96)](_0x34cd06+_0x236f8a(0xfb)));_0x4353a6[_0x236f8a(0xdd)](_0x3010fa,0x0)&&_0x6e4427['push'](''+chalk[_0x236f8a(0xba)][_0x236f8a(0xe7)](_0x3010fa+'\x20passed'));_0x4353a6[_0x236f8a(0xbb)](_0x5938a0,0x0)&&_0x6e4427['push'](''+chalk['bold']['yellow'](_0x5938a0+'\x20pending'));_0x4353a6['uBCaE'](_0x3b52ff,0x0)&&_0x6e4427[_0x236f8a(0xd5)](''+chalk[_0x236f8a(0xba)][_0x236f8a(0xb5)](_0x3b52ff+_0x236f8a(0xb4)));_0x4353a6['sNRdi'](_0x518c95,0x0)&&_0x6e4427[_0x236f8a(0xd5)](''+chalk[_0x236f8a(0xba)]['yellow'](_0x518c95+_0x236f8a(0xfd)));_0x4353a6['sxiKA'](_0x4ebe26,0x0)&&_0x6e4427['push'](''+chalk[_0x236f8a(0xba)][_0x236f8a(0xa2)](_0x4ebe26+_0x236f8a(0xb4)));const _0x12104d=_0x4353a6['svMHZ'](_0x4353a6[_0x236f8a(0xbe)](_0x4353a6[_0x236f8a(0xea)](_0xdb62f2,'('),_0x6e4427['join'](',\x20')),')');console[_0x236f8a(0x101)](_0x4353a6['SMeus'](_0x4353a6[_0x236f8a(0xc4)](_0x4353a6[_0x236f8a(0xc4)](_0x4353a6['SMeus']('\x0a',_0x5a74a6),'\x0a'),_0x12104d),'\x0a')),_0x4353a6[_0x236f8a(0x9d)](_0x5a6b23,![])&&(_0x1e0355=0x1);}),_0x1e0355;}function a5_0x4fb3(_0x185e9b,_0x4c3314){const _0x29108b=a5_0x2910();return a5_0x4fb3=function(_0x4fb349,_0x1f9310){_0x4fb349=_0x4fb349-0x86;let _0x57fc07=_0x29108b[_0x4fb349];return _0x57fc07;},a5_0x4fb3(_0x185e9b,_0x4c3314);}async function run(_0x509ade,_0x26e19c,_0x10da4a){const _0x52530e=a5_0x1e7496,_0x3ae517={'DVegn':function(_0x65d66a,_0x50acef){return _0x65d66a(_0x50acef);},'xJXgn':function(_0x3ff9d5,_0x351278){return _0x3ff9d5>_0x351278;},'kxisz':_0x52530e(0xcd),'PbHZi':'Removing\x20tmp\x20directory\x20created\x20for\x20reports','HfqfQ':'cucumber','HfrgU':_0x52530e(0xb7),'ULYeZ':_0x52530e(0xc7),'mEZtD':function(_0x328c64,_0x337ae6){return _0x328c64-_0x337ae6;},'NWkwt':function(_0x3b984c,_0x78e270){return _0x3b984c>=_0x78e270;},'UhOOX':function(_0x511940,_0xd02edc){return _0x511940!=_0xd02edc;},'FuaXe':'true','cVGQa':function(_0x21e2e6,_0x517f02,_0x208bc6,_0xd6e2f2,_0x3801b2,_0x1efa30){return _0x21e2e6(_0x517f02,_0x208bc6,_0xd6e2f2,_0x3801b2,_0x1efa30);}};await _0x10da4a['initialize'](_0x509ade),helper[_0x52530e(0xb1)](_0x10da4a[_0x52530e(0xa5)],_0x509ade);!helper['isBrowserstackInfra']()&&await _0x10da4a[_0x52530e(0x97)]();await helper[_0x52530e(0xe3)](_0x10da4a['config']);const _0x15cab9=helper[_0x52530e(0xee)](_0x10da4a[_0x52530e(0xf7)]);!helper['isUndefined'](_0x10da4a['config'][_0x52530e(0xde)])&&(process[_0x52530e(0xeb)][_0x52530e(0x9f)]=JSON[_0x52530e(0xf2)](_0x10da4a[_0x52530e(0xf7)][_0x52530e(0xde)]));const _0x379960=await TestHubHandler['launchBuild'](constants[_0x52530e(0x8f)][_0x52530e(0xb9)],_0x10da4a);let _0x18c42f=[];if(!helper['isBrowserstackInfra']()){const _0x37cd8d={};_0x37cd8d['platforms']=[],_0x18c42f=helper[_0x52530e(0xf4)](Object['assign']({},_0x10da4a['config'],_0x37cd8d),_0x15cab9,constants[_0x52530e(0x8f)][_0x52530e(0xb9)]);}else _0x18c42f=helper[_0x52530e(0xf4)](_0x10da4a[_0x52530e(0xf7)],_0x15cab9,constants[_0x52530e(0x8f)]['CUCUMBER']);if(!_0x10da4a[_0x52530e(0xf7)])return;const _0x344cbe=_0x10da4a[_0x52530e(0xf7)][_0x52530e(0xe5)]||helper[_0x52530e(0xa7)](_0x509ade,_0x26e19c,_0x10da4a[_0x52530e(0xf7)],constants[_0x52530e(0x8f)][_0x52530e(0xb9)])||0x1,_0x28c2bb={'server':helper[_0x52530e(0xcb)](_0x10da4a[_0x52530e(0xf7)]),'proxySettings':_0x10da4a[_0x52530e(0xf7)][_0x52530e(0xd4)],'maxWorkers':_0x344cbe,'browserStackLogLevel':_0x10da4a[_0x52530e(0xf7)][_0x52530e(0xbd)],'skipSessionName':_0x10da4a[_0x52530e(0xf7)][_0x52530e(0xc9)][_0x52530e(0xe2)],'skipSessionStatus':_0x10da4a['config']['testContextOptions'][_0x52530e(0xb3)],'turboScaleUrl':_0x10da4a[_0x52530e(0xf7)][_0x52530e(0xc0)]},_0x4fb519=process['argv'],[_0x442f16,_0x2f4b92]=helper[_0x52530e(0xa3)](_0x4fb519),_0xde15d0=path[_0x52530e(0xaf)](process[_0x52530e(0xae)](),_0x3ae517['ULYeZ']);if(_0x3ae517[_0x52530e(0xf0)](_0x2f4b92['length'],0x0)){helper[_0x52530e(0x89)](_0xde15d0);for(let _0x5e0fc4=_0x3ae517[_0x52530e(0x9c)](_0x442f16[_0x52530e(0xec)],0x1);_0x3ae517[_0x52530e(0xd8)](_0x5e0fc4,0x0);_0x5e0fc4--){_0x4fb519[_0x52530e(0xd1)](_0x442f16[_0x5e0fc4],0x2);}}_0x3ae517[_0x52530e(0x95)](_0x10da4a[_0x52530e(0xf7)][_0x52530e(0x88)],null)?process['env'][_0x52530e(0xfa)]=_0x10da4a[_0x52530e(0xf7)][_0x52530e(0x88)]:process[_0x52530e(0xeb)][_0x52530e(0xfa)]=_0x3ae517[_0x52530e(0xd0)];PerformanceTester[_0x52530e(0xe1)](PerformanceEvents['SDK_SETUP']);let _0x14b354;_0x3ae517[_0x52530e(0xc3)](parallelCucumberRun,_0x18c42f,_0x28c2bb,_0x10da4a[_0x52530e(0xf7)],_0x4fb519,_0x2f4b92)[_0x52530e(0xfe)](async _0x4e4a07=>{const _0x44e47c=_0x52530e;PerformanceTester[_0x44e47c(0xf8)](PerformanceEvents[_0x44e47c(0xaa)]),_0x14b354=_0x4e4a07;const _0x365692=_0x3ae517[_0x44e47c(0xd6)](printCucumberStats,_0x4e4a07);process[_0x44e47c(0xdf)]=_0x365692,_0x3ae517[_0x44e47c(0xf0)](_0x2f4b92[_0x44e47c(0xec)],0x0)&&(logger[_0x44e47c(0xc6)](_0x3ae517[_0x44e47c(0xff)]),helper[_0x44e47c(0xc8)](_0xde15d0,_0x2f4b92),logger[_0x44e47c(0xc6)](_0x3ae517[_0x44e47c(0xbc)]),helper['removeDir'](_0xde15d0));})[_0x52530e(0xcf)](async()=>{const _0x41ee3d=_0x52530e;PerformanceTester[_0x41ee3d(0xf8)](PerformanceEvents[_0x41ee3d(0xaa)]),_0x10da4a['errorMessage']=helper[_0x41ee3d(0xdb)](_0x14b354,_0x3ae517[_0x41ee3d(0xb0)]),testOpsHelper[_0x41ee3d(0xbf)]();try{await TestHubHandler[_0x41ee3d(0xb6)]();}catch(_0x4156e0){logger[_0x41ee3d(0xc6)](_0x41ee3d(0xa9)+util[_0x41ee3d(0xd7)](_0x4156e0));}try{const {browserstackFolderPath:_0x2ce3d9,tcgConfigPath:_0x54c0fc}=helper[_0x41ee3d(0xd3)]();fs[_0x41ee3d(0xad)](_0x54c0fc),fs[_0x41ee3d(0xa0)](_0x2ce3d9);}catch(_0x459eb2){logger[_0x41ee3d(0xc6)](_0x3ae517[_0x41ee3d(0xb2)],_0x459eb2);}await utilities['finalExecution'](_0x10da4a);});}module[a5_0x1e7496(0xd2)]=run;