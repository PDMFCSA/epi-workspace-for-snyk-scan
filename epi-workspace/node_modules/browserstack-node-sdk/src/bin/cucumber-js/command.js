#!/usr/bin/env node
'use strict';const a5_0x21e991=a5_0x5aa7;(function(_0x3c07af,_0x3285bb){const _0x38f337=a5_0x5aa7,_0x4a9f7b=_0x3c07af();while(!![]){try{const _0x2b1d36=parseInt(_0x38f337(0x1c3))/0x1*(parseInt(_0x38f337(0x1ea))/0x2)+-parseInt(_0x38f337(0x20b))/0x3*(-parseInt(_0x38f337(0x1f9))/0x4)+parseInt(_0x38f337(0x20a))/0x5+-parseInt(_0x38f337(0x1f4))/0x6+parseInt(_0x38f337(0x1bb))/0x7+parseInt(_0x38f337(0x1b2))/0x8*(-parseInt(_0x38f337(0x212))/0x9)+parseInt(_0x38f337(0x1fd))/0xa*(-parseInt(_0x38f337(0x1eb))/0xb);if(_0x2b1d36===_0x3285bb)break;else _0x4a9f7b['push'](_0x4a9f7b['shift']());}catch(_0x4db1d3){_0x4a9f7b['push'](_0x4a9f7b['shift']());}}}(a5_0x4bed,0xda733));const fs=require('fs'),path=require(a5_0x21e991(0x1d6)),util=require('util'),logger=require(a5_0x21e991(0x211))['winstonLogger'],{default:BrowserStackSetup}=require(a5_0x21e991(0x1c5)),helper=require(a5_0x21e991(0x1a9)),utilities=require(a5_0x21e991(0x1e9)),constants=require('../utils/constants'),{parallelCucumberRun}=require('../test-runner'),TestHubHandler=require(a5_0x21e991(0x1c1)),testOpsHelper=require(a5_0x21e991(0x1e7)),chalk=require('chalk'),PerformanceTester=require(a5_0x21e991(0x21a)),PerformanceEvents=require(a5_0x21e991(0x20c))[a5_0x21e991(0x1ef)];function printCucumberStats(_0x2dc375){const _0x332e0e=a5_0x21e991,_0x5c87f1={};_0x5c87f1['qYdKH']=function(_0x39abee,_0x1556df){return _0x39abee>_0x1556df;},_0x5c87f1['wNIPC']=function(_0x584e2d,_0x155c00){return _0x584e2d-_0x155c00;},_0x5c87f1['hwzzM']=function(_0x4c3605,_0x2e0b29){return _0x4c3605>_0x2e0b29;},_0x5c87f1[_0x332e0e(0x1d4)]=function(_0x79883b,_0x2f9608){return _0x79883b>_0x2f9608;},_0x5c87f1[_0x332e0e(0x1c2)]=function(_0xfaf4b0,_0xb5c701){return _0xfaf4b0>_0xb5c701;},_0x5c87f1['qKujj']=function(_0x379399,_0x3dfdc4){return _0x379399>_0x3dfdc4;},_0x5c87f1[_0x332e0e(0x1d8)]=function(_0x1db1d2,_0x5a7e3e){return _0x1db1d2>_0x5a7e3e;},_0x5c87f1[_0x332e0e(0x1c9)]=function(_0xb61ea,_0x3cb958){return _0xb61ea+_0x3cb958;},_0x5c87f1[_0x332e0e(0x1be)]=function(_0x11391e,_0xd74e1d){return _0x11391e+_0xd74e1d;},_0x5c87f1[_0x332e0e(0x1d5)]=function(_0x595440,_0x334cf1){return _0x595440+_0x334cf1;},_0x5c87f1[_0x332e0e(0x1b3)]=function(_0x54ab53,_0x51dac7){return _0x54ab53+_0x51dac7;},_0x5c87f1[_0x332e0e(0x21f)]=function(_0x4cc939,_0x416d2f){return _0x4cc939===_0x416d2f;},_0x5c87f1[_0x332e0e(0x1fa)]=function(_0x3a5d98,_0xc959ea){return _0x3a5d98===_0xc959ea;},_0x5c87f1[_0x332e0e(0x1f1)]=_0x332e0e(0x20e);const _0x3aa3e8=_0x5c87f1;let _0x123bec=0x0;if(_0x3aa3e8[_0x332e0e(0x1fa)](_0x2dc375[_0x332e0e(0x21c)],0x0))return _0x123bec;return console['log'](chalk[_0x332e0e(0x1b5)][_0x332e0e(0x1f3)](_0x3aa3e8[_0x332e0e(0x1f1)])),_0x2dc375[_0x332e0e(0x1cf)](_0x1e35d3=>{const _0x2b146c=_0x332e0e,_0x5d790e=_0x1e35d3[0x0],_0x2a9381=_0x1e35d3[0x1];console[_0x2b146c(0x1c8)]('\x0a'+chalk[_0x2b146c(0x1b5)][_0x2b146c(0x1b1)](''+helper[_0x2b146c(0x209)](_0x5d790e)));const _0x4dc6f0=_0x2a9381[_0x2b146c(0x1c6)],_0x51ec69=_0x2a9381[_0x2b146c(0x1b7)],_0x318223=_0x2a9381[_0x2b146c(0x1ee)],_0x1cfd23=_0x2a9381[_0x2b146c(0x1c4)],_0x2ff243=_0x2a9381['stepsPassed'],_0x16f5bb=_0x2a9381[_0x2b146c(0x21d)],_0xbcaac6=_0x2a9381['stepsPending'],_0x5b0608=_0x2a9381[_0x2b146c(0x219)],_0x3c7e89=_0x2a9381[_0x2b146c(0x213)],_0x5e0688=_0x2a9381[_0x2b146c(0x1f5)],_0x1cea23=_0x2a9381[_0x2b146c(0x1de)];let _0x17099d=_0x4dc6f0+'\x20scenarios';const _0x259306=_0x3aa3e8[_0x2b146c(0x1d9)](_0x3aa3e8[_0x2b146c(0x1ac)](_0x4dc6f0,_0x318223),0x0)?_0x3aa3e8[_0x2b146c(0x1ac)](_0x4dc6f0,_0x318223):0x0;if(_0x3aa3e8['qYdKH'](_0x318223,0x0)&&_0x3aa3e8[_0x2b146c(0x1d9)](_0x259306,0x0))_0x17099d+='\x20('+chalk[_0x2b146c(0x1b5)]['red'](_0x318223+'\x20failed')+',\x20'+chalk[_0x2b146c(0x1b5)][_0x2b146c(0x20f)](_0x259306+_0x2b146c(0x1db))+')';else(_0x3aa3e8[_0x2b146c(0x1e1)](_0x318223,0x0)||_0x3aa3e8[_0x2b146c(0x1d4)](_0x259306,0x0))&&(_0x17099d+=_0x3aa3e8['Tlquk'](_0x318223,0x0)?'\x20('+chalk[_0x2b146c(0x1b5)][_0x2b146c(0x1ca)](_0x318223+_0x2b146c(0x218))+')':'\x20('+chalk[_0x2b146c(0x1b5)]['green'](_0x259306+_0x2b146c(0x1db))+')');const _0x456c7a=_0x51ec69+_0x2b146c(0x1d2),_0x255d2f=[];_0x3aa3e8[_0x2b146c(0x1d9)](_0x5e0688,0x0)&&_0x255d2f['push'](''+chalk[_0x2b146c(0x1b5)][_0x2b146c(0x1ca)](_0x5e0688+_0x2b146c(0x1ce)));_0x3aa3e8['wAfRq'](_0x1cfd23,0x0)&&_0x255d2f[_0x2b146c(0x216)](''+chalk['bold'][_0x2b146c(0x1ca)](_0x1cfd23+_0x2b146c(0x218)));_0x3aa3e8['qKujj'](_0x2ff243,0x0)&&_0x255d2f[_0x2b146c(0x216)](''+chalk['bold'][_0x2b146c(0x20f)](_0x2ff243+'\x20passed'));_0x3aa3e8[_0x2b146c(0x1c2)](_0xbcaac6,0x0)&&_0x255d2f['push'](''+chalk[_0x2b146c(0x1b5)][_0x2b146c(0x1b1)](_0xbcaac6+_0x2b146c(0x206)));_0x3aa3e8[_0x2b146c(0x1d8)](_0x16f5bb,0x0)&&_0x255d2f[_0x2b146c(0x216)](''+chalk[_0x2b146c(0x1b5)]['cyan'](_0x16f5bb+_0x2b146c(0x214)));_0x3aa3e8[_0x2b146c(0x1d9)](_0x5b0608,0x0)&&_0x255d2f[_0x2b146c(0x216)](''+chalk[_0x2b146c(0x1b5)][_0x2b146c(0x1b1)](_0x5b0608+_0x2b146c(0x1ad)));_0x3aa3e8[_0x2b146c(0x1e1)](_0x3c7e89,0x0)&&_0x255d2f[_0x2b146c(0x216)](''+chalk[_0x2b146c(0x1b5)][_0x2b146c(0x1b1)](_0x3c7e89+_0x2b146c(0x214)));const _0x6a2faa=_0x3aa3e8[_0x2b146c(0x1c9)](_0x3aa3e8[_0x2b146c(0x1c9)](_0x3aa3e8['sYISX'](_0x456c7a,'('),_0x255d2f[_0x2b146c(0x1a8)](',\x20')),')');console['log'](_0x3aa3e8[_0x2b146c(0x1be)](_0x3aa3e8[_0x2b146c(0x1d5)](_0x3aa3e8[_0x2b146c(0x1be)](_0x3aa3e8[_0x2b146c(0x1b3)]('\x0a',_0x17099d),'\x0a'),_0x6a2faa),'\x0a')),_0x3aa3e8[_0x2b146c(0x21f)](_0x1cea23,![])&&(_0x123bec=0x1);}),_0x123bec;}function a5_0x5aa7(_0x2d20e9,_0x286892){const _0x4bedb7=a5_0x4bed();return a5_0x5aa7=function(_0x5aa7f4,_0x178d0f){_0x5aa7f4=_0x5aa7f4-0x1a8;let _0xd5d1f9=_0x4bedb7[_0x5aa7f4];return _0xd5d1f9;},a5_0x5aa7(_0x2d20e9,_0x286892);}async function run(_0x4b8d1a,_0x15feac){const _0x327e71=a5_0x21e991,_0x29f8ce={'nOhdd':function(_0x5d062b,_0x5ba4cd){return _0x5d062b(_0x5ba4cd);},'xWhNW':function(_0x154173,_0x1f04a7){return _0x154173>_0x1f04a7;},'MNKBA':_0x327e71(0x1b8),'qQrIX':_0x327e71(0x1e0),'sXiQa':_0x327e71(0x208),'wuQXR':_0x327e71(0x1aa),'szBli':_0x327e71(0x1e5),'KkaCO':'tmp','slinM':function(_0xb6b7e0,_0x2a98fe){return _0xb6b7e0-_0x2a98fe;},'huPgu':function(_0x5c7013,_0x2dc864){return _0x5c7013>=_0x2dc864;},'ppKVz':function(_0x5a7d84,_0x22c8fe){return _0x5a7d84!=_0x22c8fe;},'cYYic':_0x327e71(0x1f2),'uAKdY':function(_0x23ed7b,_0x3e2426,_0x5bd1b5,_0x5b3f54,_0x56f345,_0x135a60){return _0x23ed7b(_0x3e2426,_0x5bd1b5,_0x5b3f54,_0x56f345,_0x135a60);}},_0x5a2386=new BrowserStackSetup(_0x4b8d1a,_0x29f8ce[_0x327e71(0x1e6)]);await _0x5a2386[_0x327e71(0x1f0)](),helper[_0x327e71(0x1fb)](_0x5a2386[_0x327e71(0x1af)],_0x4b8d1a);!helper[_0x327e71(0x1ec)]()&&await _0x5a2386['setupTCGAuth']();await helper[_0x327e71(0x1d3)](_0x5a2386[_0x327e71(0x1e2)]);const _0x1c0130=helper[_0x327e71(0x1d1)](_0x5a2386[_0x327e71(0x1e2)]),_0x427558=helper[_0x327e71(0x1e3)](_0x5a2386[_0x327e71(0x1e2)],_0x1c0130,constants[_0x327e71(0x1dc)][_0x327e71(0x210)]);if(!_0x5a2386['config'])return;const _0x133e3f=_0x5a2386[_0x327e71(0x1e2)]['parallelsPerPlatform']||helper[_0x327e71(0x20d)](_0x4b8d1a,_0x15feac,_0x5a2386[_0x327e71(0x1e2)],constants[_0x327e71(0x1dc)][_0x327e71(0x210)])||0x1,_0x12517f={'server':helper[_0x327e71(0x1bc)](_0x5a2386['config']),'proxySettings':_0x5a2386[_0x327e71(0x1e2)][_0x327e71(0x1da)],'maxWorkers':_0x133e3f,'browserStackLogLevel':_0x5a2386[_0x327e71(0x1e2)][_0x327e71(0x1c7)],'skipSessionName':_0x5a2386[_0x327e71(0x1e2)][_0x327e71(0x201)][_0x327e71(0x207)],'skipSessionStatus':_0x5a2386['config'][_0x327e71(0x201)][_0x327e71(0x21e)],'turboScaleUrl':_0x5a2386[_0x327e71(0x1e2)]['turboScaleUrl']},_0x45741f=process[_0x327e71(0x1b9)],[_0x50e9ee,_0x258c6e]=helper[_0x327e71(0x204)](_0x45741f),_0x3029f3=path[_0x327e71(0x1a8)](process[_0x327e71(0x1dd)](),_0x29f8ce['KkaCO']);if(_0x29f8ce['xWhNW'](_0x258c6e[_0x327e71(0x21c)],0x0)){helper['createDir'](_0x3029f3);for(let _0xbe2138=_0x29f8ce[_0x327e71(0x1fe)](_0x50e9ee[_0x327e71(0x21c)],0x1);_0x29f8ce[_0x327e71(0x217)](_0xbe2138,0x0);_0xbe2138--){_0x45741f[_0x327e71(0x1b0)](_0x50e9ee[_0xbe2138],0x2);}}!helper[_0x327e71(0x1c0)](_0x5a2386['config']['accessibilityOptions'])&&(process[_0x327e71(0x200)][_0x327e71(0x1b6)]=JSON['stringify'](_0x5a2386[_0x327e71(0x1e2)][_0x327e71(0x1bf)]));_0x29f8ce['ppKVz'](_0x5a2386[_0x327e71(0x1e2)][_0x327e71(0x1cb)],null)?process[_0x327e71(0x200)][_0x327e71(0x1bd)]=_0x5a2386[_0x327e71(0x1e2)][_0x327e71(0x1cb)]:process[_0x327e71(0x200)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x29f8ce[_0x327e71(0x21b)];const _0xd53e6f=await TestHubHandler[_0x327e71(0x1f8)](constants[_0x327e71(0x1dc)]['CUCUMBER'],_0x5a2386);PerformanceTester['end'](PerformanceEvents[_0x327e71(0x205)]);let _0x20294a;_0x29f8ce[_0x327e71(0x1f6)](parallelCucumberRun,_0x427558,_0x12517f,_0x5a2386[_0x327e71(0x1e2)],_0x45741f,_0x258c6e)[_0x327e71(0x1e8)](async _0x3f64f8=>{const _0xbc1514=_0x327e71;PerformanceTester['start'](PerformanceEvents[_0xbc1514(0x1df)]),_0x20294a=_0x3f64f8;const _0x4ecb7a=_0x29f8ce['nOhdd'](printCucumberStats,_0x3f64f8);process['exitCode']=_0x4ecb7a,_0x29f8ce[_0xbc1514(0x203)](_0x258c6e[_0xbc1514(0x21c)],0x0)&&(logger[_0xbc1514(0x1cd)](_0x29f8ce['MNKBA']),helper[_0xbc1514(0x1ab)](_0x3029f3,_0x258c6e),logger['debug'](_0x29f8ce['qQrIX']),helper[_0xbc1514(0x1ba)](_0x3029f3));})[_0x327e71(0x1d7)](async()=>{const _0x2a0c68=_0x327e71;PerformanceTester[_0x2a0c68(0x202)](PerformanceEvents[_0x2a0c68(0x1df)]),_0x5a2386['errorMessage']=helper[_0x2a0c68(0x215)](_0x20294a,_0x29f8ce[_0x2a0c68(0x1ae)]),testOpsHelper[_0x2a0c68(0x1cc)]();try{await TestHubHandler[_0x2a0c68(0x1f7)]();}catch(_0x4f6a04){logger[_0x2a0c68(0x1cd)](_0x2a0c68(0x1e4)+util['format'](_0x4f6a04));}try{const {browserstackFolderPath:_0x4623bf,tcgConfigPath:_0x1ade8a}=helper['getTCGConfigFilePaths']();fs[_0x2a0c68(0x1fc)](_0x1ade8a),fs[_0x2a0c68(0x1d0)](_0x4623bf);}catch(_0x3ec69a){logger[_0x2a0c68(0x1cd)](_0x29f8ce[_0x2a0c68(0x1b4)],_0x3ec69a);}await utilities[_0x2a0c68(0x1ed)](_0x5a2386);});}module[a5_0x21e991(0x1ff)]=run;function a5_0x4bed(){const _0x29e361=['SDK_CLEANUP','Removing\x20tmp\x20directory\x20created\x20for\x20reports','hwzzM','config','prepareCapabilities','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','cucumber-js','szBli','../../helpers/test-observability/utils','then','../../helpers/utilities','569866BbqoZX','374tRexjm','isBrowserstackInfra','finalExecution','scenariosFailed','EVENTS','initialize','qsxQE','true','bgWhite','8584362UEVVZI','stepsAmbiguous','uAKdY','stop','launchBuild','5795580YPXlqQ','mSLJq','setUserConfigPath','unlinkSync','213980erNxdl','slinM','exports','env','testContextOptions','start','xWhNW','parseFormatters','SDK_SETUP','\x20pending','skipSessionName','cucumber','getPlatformName','4091260cSGTFG','3tzTyHd','../../helpers/performance/constants','getUserWorkerCount','****\x20RESULTS\x20****','green','CUCUMBER','../../helpers/logger','9hAyhlX','stepsUnknown','\x20skipped','getErrorMessageFromResults','push','huPgu','\x20failed','stepsUndefined','../../helpers/performance/performance-tester','cYYic','length','stepsSkipped','skipSessionStatus','gCAco','join','../../helpers/helper','error\x20removing\x20tcg\x20config\x20file','mergeOutputFiles','wNIPC','\x20undefined','sXiQa','framework','splice','yellow','11679240KpdCnw','pmwwd','wuQXR','bold','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','steps','Generating\x20consolidated\x20report...','argv','removeDir','5747861MFIlKA','getHubUrl','BROWSERSTACK_TEST_OBSERVABILITY_YML','sYISX','accessibilityOptions','isUndefined','../../helpers/testhub/testhubHandler','wAfRq','5iIREdN','stepsFailed','../../helpers/BrowserStackSetup','scenarios','logLevel','log','oydMl','red','testObservability','printBuildLink','debug','\x20ambiguous','forEach','rmdirSync','useW3C','\x20steps','handleApp','Tlquk','XHUZp','path','finally','jhVvm','qYdKH','proxySettings','\x20passed','FRAMEWORKS','cwd','processSuccess'];a5_0x4bed=function(){return _0x29e361;};return a5_0x4bed();}