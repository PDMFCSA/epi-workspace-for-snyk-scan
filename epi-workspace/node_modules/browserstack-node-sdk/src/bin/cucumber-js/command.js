#!/usr/bin/env node
'use strict';const a5_0x447355=a5_0x25fd;function a5_0x25fd(_0x74b864,_0x28619e){const _0x5668de=a5_0x5668();return a5_0x25fd=function(_0x25fd58,_0x23b059){_0x25fd58=_0x25fd58-0x1b5;let _0x5910cb=_0x5668de[_0x25fd58];return _0x5910cb;},a5_0x25fd(_0x74b864,_0x28619e);}(function(_0x57ffc8,_0x9ce2db){const _0x274290=a5_0x25fd,_0x11c9b8=_0x57ffc8();while(!![]){try{const _0x3b4ea9=-parseInt(_0x274290(0x219))/0x1*(parseInt(_0x274290(0x1ee))/0x2)+parseInt(_0x274290(0x200))/0x3+parseInt(_0x274290(0x20d))/0x4+-parseInt(_0x274290(0x20b))/0x5*(parseInt(_0x274290(0x1cf))/0x6)+parseInt(_0x274290(0x208))/0x7*(-parseInt(_0x274290(0x1e3))/0x8)+-parseInt(_0x274290(0x1f7))/0x9*(parseInt(_0x274290(0x1c4))/0xa)+parseInt(_0x274290(0x1f8))/0xb*(parseInt(_0x274290(0x1bf))/0xc);if(_0x3b4ea9===_0x9ce2db)break;else _0x11c9b8['push'](_0x11c9b8['shift']());}catch(_0x4331b2){_0x11c9b8['push'](_0x11c9b8['shift']());}}}(a5_0x5668,0x42514));const fs=require('fs'),path=require(a5_0x447355(0x1bd)),util=require(a5_0x447355(0x1d0)),logger=require(a5_0x447355(0x1db))[a5_0x447355(0x1c5)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a5_0x447355(0x205)),utilities=require('../../helpers/utilities'),constants=require(a5_0x447355(0x1de)),{parallelCucumberRun}=require(a5_0x447355(0x215)),TestHubHandler=require(a5_0x447355(0x1c6)),testOpsHelper=require(a5_0x447355(0x1c1)),chalk=require(a5_0x447355(0x22a)),PerformanceTester=require(a5_0x447355(0x1f2)),PerformanceEvents=require(a5_0x447355(0x1ed))[a5_0x447355(0x1e9)];function printCucumberStats(_0xc73733){const _0x2a9b68=a5_0x447355,_0x16c87a={};_0x16c87a[_0x2a9b68(0x1f4)]=function(_0x2160e0,_0x29fd66){return _0x2160e0>_0x29fd66;},_0x16c87a[_0x2a9b68(0x1ff)]=function(_0x511245,_0x4001c9){return _0x511245-_0x4001c9;},_0x16c87a[_0x2a9b68(0x223)]=function(_0x372c11,_0x2aaaff){return _0x372c11-_0x2aaaff;},_0x16c87a[_0x2a9b68(0x202)]=function(_0x451382,_0x13a28f){return _0x451382>_0x13a28f;},_0x16c87a[_0x2a9b68(0x1dc)]=function(_0x4bd696,_0x300eea){return _0x4bd696>_0x300eea;},_0x16c87a[_0x2a9b68(0x1c8)]=function(_0x206039,_0x23bf24){return _0x206039>_0x23bf24;},_0x16c87a[_0x2a9b68(0x214)]=function(_0x58bb0a,_0x3dab1a){return _0x58bb0a>_0x3dab1a;},_0x16c87a[_0x2a9b68(0x226)]=function(_0x439978,_0x249987){return _0x439978>_0x249987;},_0x16c87a['dbLzc']=function(_0x3cd5f4,_0x47735c){return _0x3cd5f4>_0x47735c;},_0x16c87a['rMzYI']=function(_0x4d24bd,_0x22b733){return _0x4d24bd>_0x22b733;},_0x16c87a[_0x2a9b68(0x1c0)]=function(_0xd63038,_0x2ba226){return _0xd63038>_0x2ba226;},_0x16c87a[_0x2a9b68(0x229)]=function(_0x2f1ab9,_0x39f097){return _0x2f1ab9+_0x39f097;},_0x16c87a[_0x2a9b68(0x1d5)]=function(_0x2220e3,_0x1f49a4){return _0x2220e3+_0x1f49a4;},_0x16c87a[_0x2a9b68(0x1ba)]=function(_0xe0916b,_0x398141){return _0xe0916b+_0x398141;},_0x16c87a[_0x2a9b68(0x1cd)]=function(_0x5d4662,_0x420de5){return _0x5d4662+_0x420de5;},_0x16c87a[_0x2a9b68(0x1da)]=function(_0x448b14,_0x4f9ed0){return _0x448b14===_0x4f9ed0;},_0x16c87a[_0x2a9b68(0x230)]=_0x2a9b68(0x221);const _0x5bb341=_0x16c87a;let _0x394922=0x0;if(_0x5bb341[_0x2a9b68(0x1da)](_0xc73733['length'],0x0))return _0x394922;return console['log'](chalk[_0x2a9b68(0x1fe)][_0x2a9b68(0x1f5)](_0x5bb341[_0x2a9b68(0x230)])),_0xc73733[_0x2a9b68(0x1b6)](_0x246b85=>{const _0x374011=_0x2a9b68,_0x3175ea=_0x246b85[0x0],_0x32207c=_0x246b85[0x1];console['log']('\x0a'+chalk[_0x374011(0x1fe)]['yellow'](''+helper[_0x374011(0x211)](_0x3175ea)));const _0x357b56=_0x32207c['scenarios'],_0x43ec6d=_0x32207c[_0x374011(0x1e8)],_0x445838=_0x32207c[_0x374011(0x1d8)],_0x185246=_0x32207c['stepsFailed'],_0x7cddc6=_0x32207c['stepsPassed'],_0x49aac8=_0x32207c[_0x374011(0x1ea)],_0x3e7f21=_0x32207c[_0x374011(0x222)],_0x54f732=_0x32207c[_0x374011(0x1d7)],_0x1eb17d=_0x32207c['stepsUnknown'],_0x4de00e=_0x32207c[_0x374011(0x1ef)],_0x1784b3=_0x32207c[_0x374011(0x20f)];let _0x340f2c=_0x357b56+_0x374011(0x1eb);const _0x550e2a=_0x5bb341[_0x374011(0x1f4)](_0x5bb341['JjthH'](_0x357b56,_0x445838),0x0)?_0x5bb341['AZcLA'](_0x357b56,_0x445838):0x0;if(_0x5bb341[_0x374011(0x202)](_0x445838,0x0)&&_0x5bb341[_0x374011(0x1f4)](_0x550e2a,0x0))_0x340f2c+='\x20('+chalk[_0x374011(0x1fe)][_0x374011(0x1e1)](_0x445838+'\x20failed')+',\x20'+chalk[_0x374011(0x1fe)]['green'](_0x550e2a+_0x374011(0x1c2))+')';else(_0x5bb341[_0x374011(0x1dc)](_0x445838,0x0)||_0x5bb341[_0x374011(0x1f4)](_0x550e2a,0x0))&&(_0x340f2c+=_0x5bb341[_0x374011(0x1dc)](_0x445838,0x0)?'\x20('+chalk[_0x374011(0x1fe)][_0x374011(0x1e1)](_0x445838+_0x374011(0x22f))+')':'\x20('+chalk[_0x374011(0x1fe)]['green'](_0x550e2a+'\x20passed')+')');const _0x2a03d8=_0x43ec6d+_0x374011(0x21a),_0x265edf=[];_0x5bb341[_0x374011(0x1c8)](_0x4de00e,0x0)&&_0x265edf['push'](''+chalk[_0x374011(0x1fe)][_0x374011(0x1e1)](_0x4de00e+_0x374011(0x21d)));_0x5bb341[_0x374011(0x214)](_0x185246,0x0)&&_0x265edf[_0x374011(0x1d4)](''+chalk['bold'][_0x374011(0x1e1)](_0x185246+'\x20failed'));_0x5bb341[_0x374011(0x226)](_0x7cddc6,0x0)&&_0x265edf['push'](''+chalk[_0x374011(0x1fe)]['green'](_0x7cddc6+_0x374011(0x1c2)));_0x5bb341[_0x374011(0x1d1)](_0x3e7f21,0x0)&&_0x265edf[_0x374011(0x1d4)](''+chalk[_0x374011(0x1fe)][_0x374011(0x21f)](_0x3e7f21+'\x20pending'));_0x5bb341[_0x374011(0x1c8)](_0x49aac8,0x0)&&_0x265edf[_0x374011(0x1d4)](''+chalk['bold']['cyan'](_0x49aac8+_0x374011(0x203)));_0x5bb341[_0x374011(0x1e4)](_0x54f732,0x0)&&_0x265edf[_0x374011(0x1d4)](''+chalk[_0x374011(0x1fe)][_0x374011(0x21f)](_0x54f732+_0x374011(0x20c)));_0x5bb341[_0x374011(0x1c0)](_0x1eb17d,0x0)&&_0x265edf['push'](''+chalk[_0x374011(0x1fe)][_0x374011(0x21f)](_0x1eb17d+_0x374011(0x203)));const _0xa8ea5a=_0x5bb341[_0x374011(0x229)](_0x5bb341['KKZXO'](_0x5bb341[_0x374011(0x1ba)](_0x2a03d8,'('),_0x265edf[_0x374011(0x212)](',\x20')),')');console[_0x374011(0x227)](_0x5bb341['KKZXO'](_0x5bb341[_0x374011(0x1ba)](_0x5bb341[_0x374011(0x1cd)](_0x5bb341['AGaZA']('\x0a',_0x340f2c),'\x0a'),_0xa8ea5a),'\x0a')),_0x5bb341[_0x374011(0x1da)](_0x1784b3,![])&&(_0x394922=0x1);}),_0x394922;}async function run(_0x402bb6,_0x4b4135,_0x42e5ce){const _0x2ed887=a5_0x447355,_0x21a5cb={'uTkRP':function(_0x3af644,_0x617e4b){return _0x3af644(_0x617e4b);},'moZRo':function(_0x402b74,_0x369e38){return _0x402b74>_0x369e38;},'tsbOD':_0x2ed887(0x1c9),'ACQqY':_0x2ed887(0x1d9),'bxYYl':_0x2ed887(0x1ec),'YCcIX':_0x2ed887(0x1dd),'IJyqL':'tmp','gHphN':function(_0x4f70ef,_0x5e1a28){return _0x4f70ef>_0x5e1a28;},'nOHIJ':function(_0x2261d0,_0x5c3ad6){return _0x2261d0-_0x5c3ad6;},'UHYKA':function(_0x3eab35,_0x11a2a6){return _0x3eab35>=_0x11a2a6;},'lAuOw':function(_0x39e985,_0xe50e49){return _0x39e985!=_0xe50e49;},'MCZwW':_0x2ed887(0x1e6),'oqPZE':function(_0x5a27f8,_0x15ef3d,_0x4e5134,_0x54b434,_0x286779,_0x23f05d){return _0x5a27f8(_0x15ef3d,_0x4e5134,_0x54b434,_0x286779,_0x23f05d);}};await _0x42e5ce['initialize'](_0x402bb6),helper[_0x2ed887(0x1e7)](_0x42e5ce['framework'],_0x402bb6);!helper[_0x2ed887(0x209)]()&&await _0x42e5ce['setupTCGAuth']();await helper['handleApp'](_0x42e5ce[_0x2ed887(0x201)]);const _0x52361e=helper['useW3C'](_0x42e5ce[_0x2ed887(0x201)]);!helper[_0x2ed887(0x1d3)](_0x42e5ce[_0x2ed887(0x201)][_0x2ed887(0x213)])&&(process['env']['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON[_0x2ed887(0x1fc)](_0x42e5ce[_0x2ed887(0x201)][_0x2ed887(0x213)]));const _0x2acbbc=await TestHubHandler['launchBuild'](constants[_0x2ed887(0x207)][_0x2ed887(0x20e)],_0x42e5ce),_0x35a993=helper[_0x2ed887(0x1b9)](_0x42e5ce[_0x2ed887(0x201)],_0x52361e,constants['FRAMEWORKS'][_0x2ed887(0x20e)]);if(!_0x42e5ce[_0x2ed887(0x201)])return;const _0xbcfd48=_0x42e5ce[_0x2ed887(0x201)][_0x2ed887(0x1b7)]||helper[_0x2ed887(0x228)](_0x402bb6,_0x4b4135,_0x42e5ce[_0x2ed887(0x201)],constants['FRAMEWORKS'][_0x2ed887(0x20e)])||0x1,_0x1d035c={'server':helper[_0x2ed887(0x225)](_0x42e5ce[_0x2ed887(0x201)]),'proxySettings':_0x42e5ce['config'][_0x2ed887(0x224)],'maxWorkers':_0xbcfd48,'browserStackLogLevel':_0x42e5ce[_0x2ed887(0x201)][_0x2ed887(0x21e)],'skipSessionName':_0x42e5ce[_0x2ed887(0x201)][_0x2ed887(0x1c3)]['skipSessionName'],'skipSessionStatus':_0x42e5ce[_0x2ed887(0x201)][_0x2ed887(0x1c3)][_0x2ed887(0x1fb)],'turboScaleUrl':_0x42e5ce[_0x2ed887(0x201)][_0x2ed887(0x218)]},_0x1f5ed2=process[_0x2ed887(0x1e2)],[_0x5aa8ef,_0x385c68]=helper[_0x2ed887(0x216)](_0x1f5ed2),_0x2f8fc1=path[_0x2ed887(0x212)](process[_0x2ed887(0x1f0)](),_0x21a5cb[_0x2ed887(0x1ce)]);if(_0x21a5cb[_0x2ed887(0x210)](_0x385c68[_0x2ed887(0x1fd)],0x0)){helper[_0x2ed887(0x1d6)](_0x2f8fc1);for(let _0x496168=_0x21a5cb['nOHIJ'](_0x5aa8ef[_0x2ed887(0x1fd)],0x1);_0x21a5cb['UHYKA'](_0x496168,0x0);_0x496168--){_0x1f5ed2[_0x2ed887(0x1f3)](_0x5aa8ef[_0x496168],0x2);}}_0x21a5cb[_0x2ed887(0x1bc)](_0x42e5ce[_0x2ed887(0x201)]['testObservability'],null)?process[_0x2ed887(0x21b)][_0x2ed887(0x1f9)]=_0x42e5ce[_0x2ed887(0x201)]['testObservability']:process[_0x2ed887(0x21b)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x21a5cb[_0x2ed887(0x22c)];PerformanceTester['end'](PerformanceEvents[_0x2ed887(0x204)]);let _0x166215;_0x21a5cb[_0x2ed887(0x1cc)](parallelCucumberRun,_0x35a993,_0x1d035c,_0x42e5ce[_0x2ed887(0x201)],_0x1f5ed2,_0x385c68)['then'](async _0x552278=>{const _0x2805ed=_0x2ed887;PerformanceTester['start'](PerformanceEvents[_0x2805ed(0x217)]),_0x166215=_0x552278;const _0x3c71c2=_0x21a5cb[_0x2805ed(0x21c)](printCucumberStats,_0x552278);process[_0x2805ed(0x1f6)]=_0x3c71c2,_0x21a5cb[_0x2805ed(0x1ca)](_0x385c68[_0x2805ed(0x1fd)],0x0)&&(logger[_0x2805ed(0x1fa)](_0x21a5cb[_0x2805ed(0x206)]),helper[_0x2805ed(0x1cb)](_0x2f8fc1,_0x385c68),logger[_0x2805ed(0x1fa)](_0x21a5cb[_0x2805ed(0x20a)]),helper[_0x2805ed(0x1d2)](_0x2f8fc1));})[_0x2ed887(0x1be)](async()=>{const _0x2954f4=_0x2ed887;PerformanceTester[_0x2954f4(0x1bb)](PerformanceEvents[_0x2954f4(0x217)]),_0x42e5ce[_0x2954f4(0x1e0)]=helper[_0x2954f4(0x1e5)](_0x166215,_0x21a5cb[_0x2954f4(0x1df)]),testOpsHelper[_0x2954f4(0x1b8)]();try{await TestHubHandler[_0x2954f4(0x220)]();}catch(_0x2b20bc){logger[_0x2954f4(0x1fa)](_0x2954f4(0x1c7)+util[_0x2954f4(0x22e)](_0x2b20bc));}try{const {browserstackFolderPath:_0x4718f8,tcgConfigPath:_0x21c82d}=helper[_0x2954f4(0x22d)]();fs[_0x2954f4(0x22b)](_0x21c82d),fs[_0x2954f4(0x1f1)](_0x4718f8);}catch(_0x374944){logger['debug'](_0x21a5cb[_0x2954f4(0x1b5)],_0x374944);}await utilities['finalExecution'](_0x42e5ce);});}module['exports']=run;function a5_0x5668(){const _0x244795=['424902rNQJUR','config','aFUdL','\x20skipped','SDK_SETUP','../../helpers/helper','tsbOD','FRAMEWORKS','154574UAkZjx','isBrowserstackInfra','ACQqY','5FWylho','\x20undefined','1015676GiSvcy','CUCUMBER','processSuccess','gHphN','getPlatformName','join','accessibilityOptions','AFieK','../test-runner','parseFormatters','SDK_CLEANUP','turboScaleUrl','1ZquDFh','\x20steps','env','uTkRP','\x20ambiguous','logLevel','yellow','stop','****\x20RESULTS\x20****','stepsPending','AZcLA','proxySettings','getHubUrl','gWCXq','log','getUserWorkerCount','IMeEQ','chalk','unlinkSync','MCZwW','getTCGConfigFilePaths','format','\x20failed','WCaPh','YCcIX','forEach','parallelsPerPlatform','printBuildLink','prepareCapabilities','AGaZA','start','lAuOw','path','finally','276nYnIjf','UWAtB','../../helpers/test-observability/utils','\x20passed','testContextOptions','29620RUinVf','winstonLogger','../../helpers/testhub/testhubHandler','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','ObJGt','Generating\x20consolidated\x20report...','moZRo','mergeOutputFiles','oqPZE','erXfS','IJyqL','2973294TwdaSp','util','dbLzc','removeDir','isUndefined','push','KKZXO','createDir','stepsUndefined','scenariosFailed','Removing\x20tmp\x20directory\x20created\x20for\x20reports','nMXrL','../../helpers/logger','MAlar','error\x20removing\x20tcg\x20config\x20file','../utils/constants','bxYYl','errorMessage','red','argv','40DbfTsg','rMzYI','getErrorMessageFromResults','true','setUserConfigPath','steps','EVENTS','stepsSkipped','\x20scenarios','cucumber','../../helpers/performance/constants','1002566haqkmQ','stepsAmbiguous','cwd','rmdirSync','../../helpers/performance/performance-tester','splice','FtapV','bgWhite','exitCode','963UeYDpm','621863nlCKnd','BROWSERSTACK_TEST_OBSERVABILITY_YML','debug','skipSessionStatus','stringify','length','bold','JjthH'];a5_0x5668=function(){return _0x244795;};return a5_0x5668();}