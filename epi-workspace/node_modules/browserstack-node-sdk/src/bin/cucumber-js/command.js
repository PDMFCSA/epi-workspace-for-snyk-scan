#!/usr/bin/env node
'use strict';function a5_0x13ae(_0x55373b,_0x214333){const _0x3f8eea=a5_0x3f8e();return a5_0x13ae=function(_0x13aebb,_0x25020a){_0x13aebb=_0x13aebb-0x159;let _0x12deb5=_0x3f8eea[_0x13aebb];return _0x12deb5;},a5_0x13ae(_0x55373b,_0x214333);}const a5_0x5eca13=a5_0x13ae;function a5_0x3f8e(){const _0xb45e9d=['util','green','BROWSERSTACK_TEST_OBSERVABILITY_YML','DAzJm','tRkyg','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','accessibilityOptions','8430590boUaOL','7111164IfXTMx','Generating\x20consolidated\x20report...','fpmsr','getHubUrl','unlinkSync','exports','finalExecution','prepareCapabilities','parallelsPerPlatform','EVENTS','exitCode','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','winstonLogger','../../helpers/performance/constants','CUCUMBER','Fsmfd','../../helpers/test-observability/utils','yellow','rmdirSync','251898zxisdV','initialize','removeDir','486868dzwRmA','iCscN','useW3C','../../helpers/helper','\x20failed','RbpVS','../../helpers/utilities','62DQrjFH','then','testContextOptions','qdcOt','framework','SDK_CLEANUP','stop','cucumber','format','\x20passed','error\x20removing\x20tcg\x20config\x20file','oYefJ','OLBUi','stepsFailed','../../helpers/testhub/testhubHandler','setupTCGAuth','\x20skipped','createDir','debug','turboScaleUrl','SDK_SETUP','Removing\x20tmp\x20directory\x20created\x20for\x20reports','printBuildLink','../../helpers/logger','finally','getErrorMessageFromResults','argv','QKubW','ZDORD','cwd','uVtAd','stepsUndefined','\x20steps','red','12892943EAVZQP','skipSessionStatus','path','env','bgWhite','scenarios','join','dRcVS','\x20undefined','32909wDqEtk','errorMessage','../../helpers/performance/performance-tester','bold','stepsAmbiguous','RKgQt','testObservability','start','tmp','push','../../helpers/BrowserStackSetup','isUndefined','\x20scenarios','NtFwv','kwJWk','ogWPA','stepsPassed','length','CHCNb','log','****\x20RESULTS\x20****','stepsSkipped','../utils/constants','scenariosFailed','getUserWorkerCount','SPSDo','cyan','setUserConfigPath','isBrowserstackInfra','handleApp','\x20pending','pNAgX','getTCGConfigFilePaths','parseFormatters','FRAMEWORKS','mergeOutputFiles','processSuccess','\x20ambiguous','logLevel','config','38637520AiKBEB','steps'];a5_0x3f8e=function(){return _0xb45e9d;};return a5_0x3f8e();}(function(_0x33e761,_0x11008a){const _0x5a38ab=a5_0x13ae,_0x27fd3c=_0x33e761();while(!![]){try{const _0x14c296=-parseInt(_0x5a38ab(0x193))/0x1*(-parseInt(_0x5a38ab(0x168))/0x2)+-parseInt(_0x5a38ab(0x15e))/0x3+-parseInt(_0x5a38ab(0x161))/0x4+-parseInt(_0x5a38ab(0x1c4))/0x5+-parseInt(_0x5a38ab(0x1c5))/0x6+-parseInt(_0x5a38ab(0x18a))/0x7+parseInt(_0x5a38ab(0x1bb))/0x8;if(_0x14c296===_0x11008a)break;else _0x27fd3c['push'](_0x27fd3c['shift']());}catch(_0x5c9afb){_0x27fd3c['push'](_0x27fd3c['shift']());}}}(a5_0x3f8e,0xe34d1));const fs=require('fs'),path=require(a5_0x5eca13(0x18c)),util=require(a5_0x5eca13(0x1bd)),logger=require(a5_0x5eca13(0x17f))[a5_0x5eca13(0x1d1)],{default:BrowserStackSetup}=require(a5_0x5eca13(0x19d)),helper=require(a5_0x5eca13(0x164)),utilities=require(a5_0x5eca13(0x167)),constants=require(a5_0x5eca13(0x1a9)),{parallelCucumberRun}=require('../test-runner'),TestHubHandler=require(a5_0x5eca13(0x176)),testOpsHelper=require(a5_0x5eca13(0x15b)),chalk=require('chalk'),PerformanceTester=require(a5_0x5eca13(0x195)),PerformanceEvents=require(a5_0x5eca13(0x1d2))[a5_0x5eca13(0x1ce)];function printCucumberStats(_0x448cfb){const _0x266bad=a5_0x5eca13,_0x478fe2={};_0x478fe2[_0x266bad(0x166)]=function(_0x47430e,_0xde920f){return _0x47430e>_0xde920f;},_0x478fe2[_0x266bad(0x1b2)]=function(_0x51391a,_0x434d3c){return _0x51391a-_0x434d3c;},_0x478fe2[_0x266bad(0x1a1)]=function(_0x28bd72,_0x5a1cef){return _0x28bd72-_0x5a1cef;},_0x478fe2[_0x266bad(0x191)]=function(_0x56ff1e,_0x18e0d5){return _0x56ff1e>_0x18e0d5;},_0x478fe2[_0x266bad(0x173)]=function(_0x53d87a,_0x2e1c8d){return _0x53d87a>_0x2e1c8d;},_0x478fe2['fpmsr']=function(_0x332e61,_0x35143f){return _0x332e61>_0x35143f;},_0x478fe2[_0x266bad(0x15a)]=function(_0x1c8a49,_0x5dfc15){return _0x1c8a49>_0x5dfc15;},_0x478fe2[_0x266bad(0x184)]=function(_0x499bd0,_0x194bbc){return _0x499bd0>_0x194bbc;},_0x478fe2[_0x266bad(0x16b)]=function(_0x398366,_0x5cd51d){return _0x398366+_0x5cd51d;},_0x478fe2[_0x266bad(0x1a5)]=function(_0x874025,_0x408380){return _0x874025+_0x408380;},_0x478fe2[_0x266bad(0x183)]=function(_0x38ff80,_0x3ca29f){return _0x38ff80===_0x3ca29f;},_0x478fe2['OfNAl']=_0x266bad(0x1a7);const _0x4aae8a=_0x478fe2;let _0x5b0d80=0x0;if(_0x4aae8a[_0x266bad(0x183)](_0x448cfb[_0x266bad(0x1a4)],0x0))return _0x5b0d80;return console[_0x266bad(0x1a6)](chalk['bold'][_0x266bad(0x18e)](_0x4aae8a['OfNAl'])),_0x448cfb['forEach'](_0x383085=>{const _0x5076d6=_0x266bad,_0x4b7068=_0x383085[0x0],_0xebaa01=_0x383085[0x1];console[_0x5076d6(0x1a6)]('\x0a'+chalk['bold'][_0x5076d6(0x15c)](''+helper['getPlatformName'](_0x4b7068)));const _0x5be415=_0xebaa01[_0x5076d6(0x18f)],_0x56d723=_0xebaa01[_0x5076d6(0x1bc)],_0x48a11b=_0xebaa01[_0x5076d6(0x1aa)],_0x330699=_0xebaa01[_0x5076d6(0x175)],_0x53e535=_0xebaa01[_0x5076d6(0x1a3)],_0x13389e=_0xebaa01[_0x5076d6(0x1a8)],_0x138f5c=_0xebaa01['stepsPending'],_0x7b503d=_0xebaa01[_0x5076d6(0x187)],_0x19f629=_0xebaa01['stepsUnknown'],_0x2c83a2=_0xebaa01[_0x5076d6(0x197)],_0x560fa6=_0xebaa01[_0x5076d6(0x1b7)];let _0x5268ca=_0x5be415+_0x5076d6(0x19f);const _0x5087b2=_0x4aae8a[_0x5076d6(0x166)](_0x4aae8a[_0x5076d6(0x1b2)](_0x5be415,_0x48a11b),0x0)?_0x4aae8a[_0x5076d6(0x1a1)](_0x5be415,_0x48a11b):0x0;if(_0x4aae8a['dRcVS'](_0x48a11b,0x0)&&_0x4aae8a[_0x5076d6(0x173)](_0x5087b2,0x0))_0x5268ca+='\x20('+chalk['bold']['red'](_0x48a11b+_0x5076d6(0x165))+',\x20'+chalk[_0x5076d6(0x196)][_0x5076d6(0x1be)](_0x5087b2+_0x5076d6(0x171))+')';else(_0x4aae8a[_0x5076d6(0x1c7)](_0x48a11b,0x0)||_0x4aae8a[_0x5076d6(0x191)](_0x5087b2,0x0))&&(_0x5268ca+=_0x4aae8a[_0x5076d6(0x1c7)](_0x48a11b,0x0)?'\x20('+chalk[_0x5076d6(0x196)][_0x5076d6(0x189)](_0x48a11b+_0x5076d6(0x165))+')':'\x20('+chalk[_0x5076d6(0x196)][_0x5076d6(0x1be)](_0x5087b2+_0x5076d6(0x171))+')');const _0x37d37e=_0x56d723+_0x5076d6(0x188),_0x438307=[];_0x4aae8a[_0x5076d6(0x166)](_0x2c83a2,0x0)&&_0x438307[_0x5076d6(0x19c)](''+chalk[_0x5076d6(0x196)]['red'](_0x2c83a2+_0x5076d6(0x1b8)));_0x4aae8a[_0x5076d6(0x173)](_0x330699,0x0)&&_0x438307['push'](''+chalk[_0x5076d6(0x196)][_0x5076d6(0x189)](_0x330699+'\x20failed'));_0x4aae8a[_0x5076d6(0x173)](_0x53e535,0x0)&&_0x438307[_0x5076d6(0x19c)](''+chalk[_0x5076d6(0x196)][_0x5076d6(0x1be)](_0x53e535+_0x5076d6(0x171)));_0x4aae8a['RbpVS'](_0x138f5c,0x0)&&_0x438307['push'](''+chalk['bold'][_0x5076d6(0x15c)](_0x138f5c+_0x5076d6(0x1b1)));_0x4aae8a[_0x5076d6(0x191)](_0x13389e,0x0)&&_0x438307['push'](''+chalk['bold'][_0x5076d6(0x1ad)](_0x13389e+'\x20skipped'));_0x4aae8a[_0x5076d6(0x15a)](_0x7b503d,0x0)&&_0x438307[_0x5076d6(0x19c)](''+chalk['bold'][_0x5076d6(0x15c)](_0x7b503d+_0x5076d6(0x192)));_0x4aae8a[_0x5076d6(0x184)](_0x19f629,0x0)&&_0x438307['push'](''+chalk[_0x5076d6(0x196)][_0x5076d6(0x15c)](_0x19f629+_0x5076d6(0x178)));const _0x5b2e96=_0x4aae8a[_0x5076d6(0x16b)](_0x4aae8a[_0x5076d6(0x16b)](_0x4aae8a[_0x5076d6(0x16b)](_0x37d37e,'('),_0x438307['join'](',\x20')),')');console[_0x5076d6(0x1a6)](_0x4aae8a[_0x5076d6(0x16b)](_0x4aae8a[_0x5076d6(0x16b)](_0x4aae8a[_0x5076d6(0x1a5)](_0x4aae8a[_0x5076d6(0x1a5)]('\x0a',_0x5268ca),'\x0a'),_0x5b2e96),'\x0a')),_0x4aae8a['QKubW'](_0x560fa6,![])&&(_0x5b0d80=0x1);}),_0x5b0d80;}async function run(_0x38a613,_0x26e239,_0x55bc20){const _0x525458=a5_0x5eca13,_0x16cb1b={'SPSDo':function(_0x24e019,_0x50408e){return _0x24e019(_0x50408e);},'ogWPA':function(_0xc45a3b,_0x4a96bd){return _0xc45a3b>_0x4a96bd;},'uVtAd':_0x525458(0x1c6),'OLBUi':_0x525458(0x17d),'tRkyg':_0x525458(0x16f),'DrVWJ':_0x525458(0x172),'JjDHA':_0x525458(0x19b),'RKgQt':function(_0x3feadc,_0x551b86){return _0x3feadc-_0x551b86;},'iCscN':function(_0x435868,_0x1289d5){return _0x435868>=_0x1289d5;},'VuhtT':function(_0x4f328c,_0x4302a0){return _0x4f328c!=_0x4302a0;},'NtFwv':'true','DAzJm':function(_0x364489,_0x484d2b,_0x4740f0,_0x22c98f,_0x381579,_0x220639){return _0x364489(_0x484d2b,_0x4740f0,_0x22c98f,_0x381579,_0x220639);}};await _0x55bc20[_0x525458(0x15f)](_0x38a613),helper[_0x525458(0x1ae)](_0x55bc20[_0x525458(0x16c)],_0x38a613);!helper[_0x525458(0x1af)]()&&await _0x55bc20[_0x525458(0x177)]();await helper[_0x525458(0x1b0)](_0x55bc20[_0x525458(0x1ba)]);const _0x66b7ea=helper[_0x525458(0x163)](_0x55bc20[_0x525458(0x1ba)]);!helper[_0x525458(0x19e)](_0x55bc20[_0x525458(0x1ba)]['accessibilityOptions'])&&(process['env'][_0x525458(0x1c2)]=JSON['stringify'](_0x55bc20[_0x525458(0x1ba)][_0x525458(0x1c3)]));const _0x17060a=await TestHubHandler['launchBuild'](constants['FRAMEWORKS'][_0x525458(0x159)],_0x55bc20),_0x2cb836=helper[_0x525458(0x1cc)](_0x55bc20[_0x525458(0x1ba)],_0x66b7ea,constants[_0x525458(0x1b5)][_0x525458(0x159)]);if(!_0x55bc20[_0x525458(0x1ba)])return;const _0x3500fc=_0x55bc20[_0x525458(0x1ba)][_0x525458(0x1cd)]||helper[_0x525458(0x1ab)](_0x38a613,_0x26e239,_0x55bc20[_0x525458(0x1ba)],constants[_0x525458(0x1b5)]['CUCUMBER'])||0x1,_0x5e064d={'server':helper[_0x525458(0x1c8)](_0x55bc20['config']),'proxySettings':_0x55bc20[_0x525458(0x1ba)]['proxySettings'],'maxWorkers':_0x3500fc,'browserStackLogLevel':_0x55bc20[_0x525458(0x1ba)][_0x525458(0x1b9)],'skipSessionName':_0x55bc20['config'][_0x525458(0x16a)]['skipSessionName'],'skipSessionStatus':_0x55bc20['config'][_0x525458(0x16a)][_0x525458(0x18b)],'turboScaleUrl':_0x55bc20[_0x525458(0x1ba)][_0x525458(0x17b)]},_0x57eb81=process[_0x525458(0x182)],[_0x19e108,_0x533aa5]=helper[_0x525458(0x1b4)](_0x57eb81),_0x579952=path[_0x525458(0x190)](process[_0x525458(0x185)](),_0x16cb1b['JjDHA']);if(_0x16cb1b[_0x525458(0x1a2)](_0x533aa5['length'],0x0)){helper[_0x525458(0x179)](_0x579952);for(let _0x4a34d8=_0x16cb1b[_0x525458(0x198)](_0x19e108['length'],0x1);_0x16cb1b[_0x525458(0x162)](_0x4a34d8,0x0);_0x4a34d8--){_0x57eb81['splice'](_0x19e108[_0x4a34d8],0x2);}}_0x16cb1b['VuhtT'](_0x55bc20['config'][_0x525458(0x199)],null)?process['env'][_0x525458(0x1bf)]=_0x55bc20[_0x525458(0x1ba)][_0x525458(0x199)]:process[_0x525458(0x18d)][_0x525458(0x1bf)]=_0x16cb1b[_0x525458(0x1a0)];PerformanceTester['end'](PerformanceEvents[_0x525458(0x17c)]);let _0x5413b1;_0x16cb1b[_0x525458(0x1c0)](parallelCucumberRun,_0x2cb836,_0x5e064d,_0x55bc20[_0x525458(0x1ba)],_0x57eb81,_0x533aa5)[_0x525458(0x169)](async _0xcdc44d=>{const _0x2ec678=_0x525458;PerformanceTester['start'](PerformanceEvents[_0x2ec678(0x16d)]),_0x5413b1=_0xcdc44d;const _0x3abf3a=_0x16cb1b[_0x2ec678(0x1ac)](printCucumberStats,_0xcdc44d);process[_0x2ec678(0x1cf)]=_0x3abf3a,_0x16cb1b[_0x2ec678(0x1a2)](_0x533aa5[_0x2ec678(0x1a4)],0x0)&&(logger['debug'](_0x16cb1b[_0x2ec678(0x186)]),helper[_0x2ec678(0x1b6)](_0x579952,_0x533aa5),logger[_0x2ec678(0x17a)](_0x16cb1b[_0x2ec678(0x174)]),helper[_0x2ec678(0x160)](_0x579952));})[_0x525458(0x180)](async()=>{const _0x2c86a0=_0x525458;PerformanceTester[_0x2c86a0(0x19a)](PerformanceEvents[_0x2c86a0(0x16d)]),_0x55bc20[_0x2c86a0(0x194)]=helper[_0x2c86a0(0x181)](_0x5413b1,_0x16cb1b[_0x2c86a0(0x1c1)]),testOpsHelper[_0x2c86a0(0x17e)]();try{await TestHubHandler[_0x2c86a0(0x16e)]();}catch(_0x2293e2){logger['debug'](_0x2c86a0(0x1d0)+util[_0x2c86a0(0x170)](_0x2293e2));}try{const {browserstackFolderPath:_0x7ef1a7,tcgConfigPath:_0x43f631}=helper[_0x2c86a0(0x1b3)]();fs[_0x2c86a0(0x1c9)](_0x43f631),fs[_0x2c86a0(0x15d)](_0x7ef1a7);}catch(_0x48f28a){logger['debug'](_0x16cb1b['DrVWJ'],_0x48f28a);}await utilities[_0x2c86a0(0x1cb)](_0x55bc20);});}module[a5_0x5eca13(0x1ca)]=run;