#!/usr/bin/env node
'use strict';const a5_0x54d2fc=a5_0x6cab;(function(_0x2bb923,_0x1ba2fa){const _0x32daa9=a5_0x6cab,_0x345e28=_0x2bb923();while(!![]){try{const _0x117c59=parseInt(_0x32daa9(0x1d7))/0x1+-parseInt(_0x32daa9(0x22c))/0x2*(parseInt(_0x32daa9(0x20a))/0x3)+parseInt(_0x32daa9(0x1f9))/0x4*(parseInt(_0x32daa9(0x20b))/0x5)+parseInt(_0x32daa9(0x23d))/0x6*(-parseInt(_0x32daa9(0x219))/0x7)+-parseInt(_0x32daa9(0x216))/0x8*(-parseInt(_0x32daa9(0x207))/0x9)+parseInt(_0x32daa9(0x223))/0xa+-parseInt(_0x32daa9(0x21d))/0xb;if(_0x117c59===_0x1ba2fa)break;else _0x345e28['push'](_0x345e28['shift']());}catch(_0x4c29c7){_0x345e28['push'](_0x345e28['shift']());}}}(a5_0x3eb6,0x1962b));function a5_0x3eb6(){const _0x49cbe0=['testContextOptions','steps','log','testObservability','setupTCGAuth','env','stop','mergeOutputFiles','SDK_SETUP','bold','SkTaK','SvseS','../../helpers/test-observability/utils','isBrowserstackInfra','209624RxdQcM','finalExecution','processSuccess','parallelsPerPlatform','EVENTS','../../helpers/utilities','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','stepsPassed','RWZnJ','BROWSERSTACK_TEST_OBSERVABILITY_YML','\x20skipped','scenarios','skipSessionStatus','stepsUndefined','63phfIQC','error\x20removing\x20tcg\x20config\x20file','GDRTY','67641YaDNpu','5Vzgdps','JXsMx','../utils/constants','setUserConfigPath','format','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','config','\x20undefined','finally','YKlzs','push','10392KhPcKL','ryVwO','parseFormatters','715883OcHGmB','yellow','errorMessage','CUCUMBER','189695LySLJs','framework','\x20ambiguous','length','Generating\x20consolidated\x20report...','then','2059410cKMCUK','Oiywf','logLevel','\x20passed','initialize','debug','rmdirSync','exitCode','accessibilityOptions','14kJaUfp','SDK_CLEANUP','splice','\x20failed','Mjtpk','mjpkX','path','removeDir','turboScaleUrl','../test-runner','\x20scenarios','TgWrk','cyan','Removing\x20tmp\x20directory\x20created\x20for\x20reports','stepsPending','red','../../helpers/logger','6DZTRIk','winstonLogger','BNhpu','lQjks','uJZNF','bgWhite','getUserWorkerCount','EpTpg','true','scenariosFailed','****\x20RESULTS\x20****','RKgoj','proxySettings','FRAMEWORKS','XMgQq','../../helpers/performance/constants','DmNbE','../../helpers/BrowserStackSetup','113882gbUVwc','prepareCapabilities','util','green','PutFL','../../helpers/performance/performance-tester','hAaTE','end','\x20pending','OVeZP','cucumber','launchBuild','createDir','tmp','RdPJz','printBuildLink','getPlatformName','getErrorMessageFromResults','aOdUH','forEach'];a5_0x3eb6=function(){return _0x49cbe0;};return a5_0x3eb6();}function a5_0x6cab(_0x3ce5e8,_0x3c45b0){const _0x3eb6e8=a5_0x3eb6();return a5_0x6cab=function(_0x6cab83,_0x493d15){_0x6cab83=_0x6cab83-0x1d3;let _0x312e43=_0x3eb6e8[_0x6cab83];return _0x312e43;},a5_0x6cab(_0x3ce5e8,_0x3c45b0);}const fs=require('fs'),path=require(a5_0x54d2fc(0x232)),util=require(a5_0x54d2fc(0x1d9)),logger=require(a5_0x54d2fc(0x23c))[a5_0x54d2fc(0x23e)],{default:BrowserStackSetup}=require(a5_0x54d2fc(0x1d6)),helper=require('../../helpers/helper'),utilities=require(a5_0x54d2fc(0x1fe)),constants=require(a5_0x54d2fc(0x20d)),{parallelCucumberRun}=require(a5_0x54d2fc(0x235)),TestHubHandler=require('../../helpers/testhub/testhubHandler'),testOpsHelper=require(a5_0x54d2fc(0x1f7)),chalk=require('chalk'),PerformanceTester=require(a5_0x54d2fc(0x1dc)),PerformanceEvents=require(a5_0x54d2fc(0x1d4))[a5_0x54d2fc(0x1fd)];function printCucumberStats(_0x1eb6cc){const _0x18dee9=a5_0x54d2fc,_0x170eab={};_0x170eab[_0x18dee9(0x1dd)]=function(_0xb5576e,_0x587401){return _0xb5576e>_0x587401;},_0x170eab[_0x18dee9(0x20c)]=function(_0x2c61a4,_0x85d276){return _0x2c61a4-_0x85d276;},_0x170eab[_0x18dee9(0x1db)]=function(_0x56601f,_0x107b74){return _0x56601f>_0x107b74;},_0x170eab[_0x18dee9(0x201)]=function(_0x29f1ff,_0x4a6162){return _0x29f1ff>_0x4a6162;},_0x170eab[_0x18dee9(0x241)]=function(_0x6b90bc,_0x242c62){return _0x6b90bc>_0x242c62;},_0x170eab[_0x18dee9(0x1e9)]=function(_0x2976ea,_0x542d7c){return _0x2976ea>_0x542d7c;},_0x170eab[_0x18dee9(0x23f)]=function(_0x5c846d,_0x890375){return _0x5c846d+_0x890375;},_0x170eab[_0x18dee9(0x240)]=function(_0x4e4552,_0xcf1eee){return _0x4e4552+_0xcf1eee;},_0x170eab['OVeZP']=function(_0x3aa300,_0x486edf){return _0x3aa300+_0x486edf;},_0x170eab[_0x18dee9(0x231)]=function(_0x49d20,_0x57caaf){return _0x49d20+_0x57caaf;},_0x170eab[_0x18dee9(0x244)]=function(_0x46fd8c,_0x9ad458){return _0x46fd8c===_0x9ad458;},_0x170eab[_0x18dee9(0x214)]=function(_0x5536be,_0x2276ba){return _0x5536be===_0x2276ba;},_0x170eab[_0x18dee9(0x217)]=_0x18dee9(0x247);const _0x6ea1ec=_0x170eab;let _0x1a41c6=0x0;if(_0x6ea1ec['YKlzs'](_0x1eb6cc[_0x18dee9(0x220)],0x0))return _0x1a41c6;return console[_0x18dee9(0x1ed)](chalk['bold'][_0x18dee9(0x242)](_0x6ea1ec[_0x18dee9(0x217)])),_0x1eb6cc[_0x18dee9(0x1ea)](_0x3f2085=>{const _0x4ac87d=_0x18dee9,_0x4baf00=_0x3f2085[0x0],_0xe12e19=_0x3f2085[0x1];console['log']('\x0a'+chalk[_0x4ac87d(0x1f4)]['yellow'](''+helper[_0x4ac87d(0x1e7)](_0x4baf00)));const _0x4cb59a=_0xe12e19[_0x4ac87d(0x204)],_0x2a98b7=_0xe12e19[_0x4ac87d(0x1ec)],_0x5cd678=_0xe12e19[_0x4ac87d(0x246)],_0x382cbf=_0xe12e19['stepsFailed'],_0x34b754=_0xe12e19[_0x4ac87d(0x200)],_0x70c956=_0xe12e19['stepsSkipped'],_0x45fc69=_0xe12e19[_0x4ac87d(0x23a)],_0x5b4586=_0xe12e19[_0x4ac87d(0x206)],_0x4ea7ff=_0xe12e19['stepsUnknown'],_0xb46a7e=_0xe12e19['stepsAmbiguous'],_0x31b36e=_0xe12e19[_0x4ac87d(0x1fb)];let _0x5574f3=_0x4cb59a+_0x4ac87d(0x236);const _0x1ba413=_0x6ea1ec[_0x4ac87d(0x1dd)](_0x6ea1ec[_0x4ac87d(0x20c)](_0x4cb59a,_0x5cd678),0x0)?_0x6ea1ec[_0x4ac87d(0x20c)](_0x4cb59a,_0x5cd678):0x0;if(_0x6ea1ec[_0x4ac87d(0x1dd)](_0x5cd678,0x0)&&_0x6ea1ec[_0x4ac87d(0x1dd)](_0x1ba413,0x0))_0x5574f3+='\x20('+chalk[_0x4ac87d(0x1f4)]['red'](_0x5cd678+_0x4ac87d(0x22f))+',\x20'+chalk[_0x4ac87d(0x1f4)]['green'](_0x1ba413+_0x4ac87d(0x226))+')';else(_0x6ea1ec['PutFL'](_0x5cd678,0x0)||_0x6ea1ec[_0x4ac87d(0x1dd)](_0x1ba413,0x0))&&(_0x5574f3+=_0x6ea1ec[_0x4ac87d(0x1dd)](_0x5cd678,0x0)?'\x20('+chalk[_0x4ac87d(0x1f4)][_0x4ac87d(0x23b)](_0x5cd678+_0x4ac87d(0x22f))+')':'\x20('+chalk[_0x4ac87d(0x1f4)][_0x4ac87d(0x1da)](_0x1ba413+_0x4ac87d(0x226))+')');const _0x2db55d=_0x2a98b7+'\x20steps',_0x4c75ce=[];_0x6ea1ec['hAaTE'](_0xb46a7e,0x0)&&_0x4c75ce['push'](''+chalk[_0x4ac87d(0x1f4)][_0x4ac87d(0x23b)](_0xb46a7e+_0x4ac87d(0x21f)));_0x6ea1ec['RWZnJ'](_0x382cbf,0x0)&&_0x4c75ce['push'](''+chalk[_0x4ac87d(0x1f4)][_0x4ac87d(0x23b)](_0x382cbf+'\x20failed'));_0x6ea1ec[_0x4ac87d(0x201)](_0x34b754,0x0)&&_0x4c75ce['push'](''+chalk[_0x4ac87d(0x1f4)]['green'](_0x34b754+_0x4ac87d(0x226)));_0x6ea1ec[_0x4ac87d(0x1db)](_0x45fc69,0x0)&&_0x4c75ce['push'](''+chalk[_0x4ac87d(0x1f4)][_0x4ac87d(0x21a)](_0x45fc69+_0x4ac87d(0x1df)));_0x6ea1ec[_0x4ac87d(0x201)](_0x70c956,0x0)&&_0x4c75ce['push'](''+chalk[_0x4ac87d(0x1f4)][_0x4ac87d(0x238)](_0x70c956+'\x20skipped'));_0x6ea1ec['uJZNF'](_0x5b4586,0x0)&&_0x4c75ce[_0x4ac87d(0x215)](''+chalk[_0x4ac87d(0x1f4)]['yellow'](_0x5b4586+_0x4ac87d(0x212)));_0x6ea1ec[_0x4ac87d(0x1e9)](_0x4ea7ff,0x0)&&_0x4c75ce[_0x4ac87d(0x215)](''+chalk[_0x4ac87d(0x1f4)][_0x4ac87d(0x21a)](_0x4ea7ff+_0x4ac87d(0x203)));const _0x3bd431=_0x6ea1ec[_0x4ac87d(0x23f)](_0x6ea1ec['lQjks'](_0x6ea1ec[_0x4ac87d(0x1e0)](_0x2db55d,'('),_0x4c75ce['join'](',\x20')),')');console[_0x4ac87d(0x1ed)](_0x6ea1ec[_0x4ac87d(0x23f)](_0x6ea1ec['mjpkX'](_0x6ea1ec[_0x4ac87d(0x231)](_0x6ea1ec[_0x4ac87d(0x231)]('\x0a',_0x5574f3),'\x0a'),_0x3bd431),'\x0a')),_0x6ea1ec[_0x4ac87d(0x244)](_0x31b36e,![])&&(_0x1a41c6=0x1);}),_0x1a41c6;}async function run(_0x19ba6e,_0x5b0c3c,_0x3b1ff7){const _0xa4a8b5=a5_0x54d2fc,_0x35d672={'Mjtpk':function(_0x29a5bc,_0x52df2e){return _0x29a5bc(_0x52df2e);},'GDRTY':function(_0x411060,_0x164aa3){return _0x411060>_0x164aa3;},'SvseS':_0xa4a8b5(0x221),'SkTaK':_0xa4a8b5(0x239),'vUmSB':_0xa4a8b5(0x1e1),'Oiywf':_0xa4a8b5(0x208),'XMgQq':_0xa4a8b5(0x1e4),'TgWrk':function(_0xfe6064,_0x1d6475){return _0xfe6064-_0x1d6475;},'RdPJz':function(_0x362e38,_0x71f446){return _0x362e38>=_0x71f446;},'DmNbE':function(_0x105eb8,_0x1dcbea){return _0x105eb8!=_0x1dcbea;},'RKgoj':_0xa4a8b5(0x245),'PyQGR':function(_0x25273d,_0x3e27ff,_0x2354e4,_0x33ffff,_0x3a6029,_0xa9e8fd){return _0x25273d(_0x3e27ff,_0x2354e4,_0x33ffff,_0x3a6029,_0xa9e8fd);}};await _0x3b1ff7[_0xa4a8b5(0x227)](_0x19ba6e),helper[_0xa4a8b5(0x20e)](_0x3b1ff7[_0xa4a8b5(0x21e)],_0x19ba6e);!helper[_0xa4a8b5(0x1f8)]()&&await _0x3b1ff7[_0xa4a8b5(0x1ef)]();await helper['handleApp'](_0x3b1ff7['config']);const _0x348308=helper['useW3C'](_0x3b1ff7['config']);!helper['isUndefined'](_0x3b1ff7[_0xa4a8b5(0x211)][_0xa4a8b5(0x22b)])&&(process[_0xa4a8b5(0x1f0)][_0xa4a8b5(0x1ff)]=JSON['stringify'](_0x3b1ff7['config'][_0xa4a8b5(0x22b)]));const _0x4bddd0=await TestHubHandler[_0xa4a8b5(0x1e2)](constants[_0xa4a8b5(0x24a)][_0xa4a8b5(0x21c)],_0x3b1ff7),_0x85e2fb=helper[_0xa4a8b5(0x1d8)](_0x3b1ff7[_0xa4a8b5(0x211)],_0x348308,constants[_0xa4a8b5(0x24a)][_0xa4a8b5(0x21c)]);if(!_0x3b1ff7[_0xa4a8b5(0x211)])return;const _0x1ec41b=_0x3b1ff7[_0xa4a8b5(0x211)][_0xa4a8b5(0x1fc)]||helper[_0xa4a8b5(0x243)](_0x19ba6e,_0x5b0c3c,_0x3b1ff7[_0xa4a8b5(0x211)],constants[_0xa4a8b5(0x24a)][_0xa4a8b5(0x21c)])||0x1,_0x1c4ff1={'server':helper['getHubUrl'](_0x3b1ff7[_0xa4a8b5(0x211)]),'proxySettings':_0x3b1ff7['config'][_0xa4a8b5(0x249)],'maxWorkers':_0x1ec41b,'browserStackLogLevel':_0x3b1ff7[_0xa4a8b5(0x211)][_0xa4a8b5(0x225)],'skipSessionName':_0x3b1ff7['config']['testContextOptions']['skipSessionName'],'skipSessionStatus':_0x3b1ff7[_0xa4a8b5(0x211)][_0xa4a8b5(0x1eb)][_0xa4a8b5(0x205)],'turboScaleUrl':_0x3b1ff7[_0xa4a8b5(0x211)][_0xa4a8b5(0x234)]},_0x2beca6=process['argv'],[_0x3e35a7,_0x27f2ef]=helper[_0xa4a8b5(0x218)](_0x2beca6),_0x45995e=path['join'](process['cwd'](),_0x35d672[_0xa4a8b5(0x1d3)]);if(_0x35d672[_0xa4a8b5(0x209)](_0x27f2ef['length'],0x0)){helper[_0xa4a8b5(0x1e3)](_0x45995e);for(let _0x524d27=_0x35d672[_0xa4a8b5(0x237)](_0x3e35a7[_0xa4a8b5(0x220)],0x1);_0x35d672[_0xa4a8b5(0x1e5)](_0x524d27,0x0);_0x524d27--){_0x2beca6[_0xa4a8b5(0x22e)](_0x3e35a7[_0x524d27],0x2);}}_0x35d672[_0xa4a8b5(0x1d5)](_0x3b1ff7['config'][_0xa4a8b5(0x1ee)],null)?process[_0xa4a8b5(0x1f0)][_0xa4a8b5(0x202)]=_0x3b1ff7[_0xa4a8b5(0x211)][_0xa4a8b5(0x1ee)]:process[_0xa4a8b5(0x1f0)][_0xa4a8b5(0x202)]=_0x35d672[_0xa4a8b5(0x248)];PerformanceTester[_0xa4a8b5(0x1de)](PerformanceEvents[_0xa4a8b5(0x1f3)]);let _0x30026b;_0x35d672['PyQGR'](parallelCucumberRun,_0x85e2fb,_0x1c4ff1,_0x3b1ff7[_0xa4a8b5(0x211)],_0x2beca6,_0x27f2ef)[_0xa4a8b5(0x222)](async _0x21c4de=>{const _0x1095e6=_0xa4a8b5;PerformanceTester['start'](PerformanceEvents[_0x1095e6(0x22d)]),_0x30026b=_0x21c4de;const _0x19b397=_0x35d672[_0x1095e6(0x230)](printCucumberStats,_0x21c4de);process[_0x1095e6(0x22a)]=_0x19b397,_0x35d672[_0x1095e6(0x209)](_0x27f2ef[_0x1095e6(0x220)],0x0)&&(logger[_0x1095e6(0x228)](_0x35d672[_0x1095e6(0x1f6)]),helper[_0x1095e6(0x1f2)](_0x45995e,_0x27f2ef),logger[_0x1095e6(0x228)](_0x35d672[_0x1095e6(0x1f5)]),helper[_0x1095e6(0x233)](_0x45995e));})[_0xa4a8b5(0x213)](async()=>{const _0x1c5e47=_0xa4a8b5;PerformanceTester['start'](PerformanceEvents[_0x1c5e47(0x22d)]),_0x3b1ff7[_0x1c5e47(0x21b)]=helper[_0x1c5e47(0x1e8)](_0x30026b,_0x35d672['vUmSB']),testOpsHelper[_0x1c5e47(0x1e6)]();try{await TestHubHandler[_0x1c5e47(0x1f1)]();}catch(_0x2f7cf3){logger['debug'](_0x1c5e47(0x210)+util[_0x1c5e47(0x20f)](_0x2f7cf3));}try{const {browserstackFolderPath:_0x4a0a99,tcgConfigPath:_0x2dc3aa}=helper['getTCGConfigFilePaths']();fs['unlinkSync'](_0x2dc3aa),fs[_0x1c5e47(0x229)](_0x4a0a99);}catch(_0x35c56b){logger[_0x1c5e47(0x228)](_0x35d672[_0x1c5e47(0x224)],_0x35c56b);}await utilities[_0x1c5e47(0x1fa)](_0x3b1ff7);});}module['exports']=run;