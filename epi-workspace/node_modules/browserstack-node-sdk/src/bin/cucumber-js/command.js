#!/usr/bin/env node
'use strict';const a5_0x185782=a5_0xa065;(function(_0x51ea9a,_0x514202){const _0x4cc16f=a5_0xa065,_0x45a147=_0x51ea9a();while(!![]){try{const _0x195fd3=parseInt(_0x4cc16f(0x136))/0x1+-parseInt(_0x4cc16f(0x177))/0x2*(parseInt(_0x4cc16f(0x180))/0x3)+parseInt(_0x4cc16f(0x163))/0x4*(-parseInt(_0x4cc16f(0x15b))/0x5)+-parseInt(_0x4cc16f(0x161))/0x6*(-parseInt(_0x4cc16f(0x10d))/0x7)+parseInt(_0x4cc16f(0x126))/0x8+-parseInt(_0x4cc16f(0x148))/0x9+parseInt(_0x4cc16f(0x112))/0xa*(parseInt(_0x4cc16f(0x123))/0xb);if(_0x195fd3===_0x514202)break;else _0x45a147['push'](_0x45a147['shift']());}catch(_0x1661f0){_0x45a147['push'](_0x45a147['shift']());}}}(a5_0x370e,0xea5dd));function a5_0xa065(_0x53236a,_0x4196db){const _0x370ecc=a5_0x370e();return a5_0xa065=function(_0xa06575,_0x4d5a2a){_0xa06575=_0xa06575-0x106;let _0x117b1c=_0x370ecc[_0xa06575];return _0x117b1c;},a5_0xa065(_0x53236a,_0x4196db);}const fs=require('fs'),path=require(a5_0x185782(0x131)),util=require('util'),logger=require(a5_0x185782(0x175))[a5_0x185782(0x121)],{default:BrowserStackSetup}=require(a5_0x185782(0x157)),helper=require(a5_0x185782(0x12c)),utilities=require(a5_0x185782(0x150)),constants=require(a5_0x185782(0x15f)),{parallelCucumberRun}=require('../test-runner'),TestHubHandler=require('../../helpers/testhub/testhubHandler'),testOpsHelper=require(a5_0x185782(0x16c)),chalk=require(a5_0x185782(0x15c)),PerformanceTester=require(a5_0x185782(0x12e)),PerformanceEvents=require('../../helpers/performance/constants')['EVENTS'];function a5_0x370e(){const _0xf8f8e4=['finally','iFKkV','isBrowserstackInfra','OuaIX','env','../../helpers/BrowserStackSetup','rmdirSync','grbfo','\x20skipped','55QOIASG','chalk','qdIAT','stepsFailed','../utils/constants','sUHSh','4470PNVMsq','sBgNx','151184smlCkM','processSuccess','unlinkSync','SDK_SETUP','debug','red','WjGCo','testObservability','ndBbo','../../helpers/test-observability/utils','PurUH','prepareCapabilities','stepsAmbiguous','yellow','initialize','WqFYi','SDK_CLEANUP','stop','../../helpers/logger','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','71426egpiES','cyan','AVpqW','then','steps','join','getPlatformName','BROWSERSTACK_TEST_OBSERVABILITY_YML','setupTCGAuth','90SnpsJf','uztzq','stepsUndefined','\x20undefined','\x20scenarios','USMkO','FRAMEWORKS','kCLDf','getErrorMessageFromResults','1589HPoFvB','KZiJW','useW3C','Generating\x20consolidated\x20report...','HmmTA','146830yKEGKM','bold','OFPSD','length','removeDir','isUndefined','scenarios','createDir','fCvYp','cwd','cJNOk','push','framework','end','finalExecution','winstonLogger','proxySettings','1606ALyAsw','LxGzD','\x20pending','14532808YeiNgo','errorMessage','dKNSX','argv','stringify','printBuildLink','../../helpers/helper','skipSessionStatus','../../helpers/performance/performance-tester','testContextOptions','onPhp','path','tmp','parseFormatters','exitCode','stepsPending','14759YOIzUL','\x20ambiguous','XqTsG','bgWhite','exports','accessibilityOptions','OnxRA','****\x20RESULTS\x20****','splice','green','\x20steps','getTCGConfigFilePaths','getHubUrl','error\x20removing\x20tcg\x20config\x20file','true','CUCUMBER','format','tvDAj','15273738JssaXU','config','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','aYxna','log','stepsSkipped','\x20passed','\x20failed','../../helpers/utilities','cucumber'];a5_0x370e=function(){return _0xf8f8e4;};return a5_0x370e();}function printCucumberStats(_0x4cbf57){const _0x3c656c=a5_0x185782,_0x1b7969={};_0x1b7969['OFPSD']=function(_0x438b97,_0x3286d4){return _0x438b97>_0x3286d4;},_0x1b7969[_0x3c656c(0x15d)]=function(_0x2828d1,_0x19c612){return _0x2828d1-_0x19c612;},_0x1b7969[_0x3c656c(0x128)]=function(_0x17e941,_0x276710){return _0x17e941-_0x276710;},_0x1b7969[_0x3c656c(0x138)]=function(_0x5beda2,_0xb3788f){return _0x5beda2>_0xb3788f;},_0x1b7969[_0x3c656c(0x10b)]=function(_0x1f0b63,_0x9f17be){return _0x1f0b63>_0x9f17be;},_0x1b7969['tJBGy']=function(_0xc77a0d,_0x1bb0b7){return _0xc77a0d>_0x1bb0b7;},_0x1b7969[_0x3c656c(0x124)]=function(_0x49f0d0,_0x21858a){return _0x49f0d0>_0x21858a;},_0x1b7969[_0x3c656c(0x109)]=function(_0x5e676e,_0x4170ef){return _0x5e676e>_0x4170ef;},_0x1b7969[_0x3c656c(0x11c)]=function(_0x4f2eda,_0x1cd88e){return _0x4f2eda>_0x1cd88e;},_0x1b7969[_0x3c656c(0x16b)]=function(_0x19b218,_0x58a2a0){return _0x19b218>_0x58a2a0;},_0x1b7969[_0x3c656c(0x14b)]=function(_0x470dcc,_0x55ad92){return _0x470dcc+_0x55ad92;},_0x1b7969[_0x3c656c(0x155)]=function(_0x2d1cb6,_0x42c132){return _0x2d1cb6+_0x42c132;},_0x1b7969[_0x3c656c(0x10e)]=function(_0x4009c7,_0x11603d){return _0x4009c7+_0x11603d;},_0x1b7969[_0x3c656c(0x172)]=function(_0x3e0857,_0x2cfdbd){return _0x3e0857+_0x2cfdbd;},_0x1b7969['WjGCo']=function(_0x5e9adb,_0x581240){return _0x5e9adb+_0x581240;},_0x1b7969[_0x3c656c(0x13c)]=function(_0x3e0c91,_0x5f106f){return _0x3e0c91+_0x5f106f;},_0x1b7969[_0x3c656c(0x153)]=function(_0x2aefe2,_0x4f4d8d){return _0x2aefe2===_0x4f4d8d;},_0x1b7969['sBgNx']=_0x3c656c(0x13d);const _0x418e79=_0x1b7969;let _0x591c47=0x0;if(_0x418e79[_0x3c656c(0x153)](_0x4cbf57[_0x3c656c(0x115)],0x0))return _0x591c47;return console[_0x3c656c(0x14c)](chalk[_0x3c656c(0x113)][_0x3c656c(0x139)](_0x418e79[_0x3c656c(0x162)])),_0x4cbf57['forEach'](_0x3718cd=>{const _0x2df103=_0x3c656c,_0x2d9c41=_0x3718cd[0x0],_0x5a95e9=_0x3718cd[0x1];console[_0x2df103(0x14c)]('\x0a'+chalk[_0x2df103(0x113)][_0x2df103(0x170)](''+helper[_0x2df103(0x17d)](_0x2d9c41)));const _0x40383f=_0x5a95e9[_0x2df103(0x118)],_0x59c3f4=_0x5a95e9[_0x2df103(0x17b)],_0x5f364b=_0x5a95e9['scenariosFailed'],_0x2129ff=_0x5a95e9[_0x2df103(0x15e)],_0x777dd9=_0x5a95e9['stepsPassed'],_0x1854ab=_0x5a95e9[_0x2df103(0x14d)],_0x30647c=_0x5a95e9[_0x2df103(0x135)],_0x98c8f=_0x5a95e9[_0x2df103(0x106)],_0x1adebe=_0x5a95e9['stepsUnknown'],_0xb40ad1=_0x5a95e9[_0x2df103(0x16f)],_0x2ced5b=_0x5a95e9[_0x2df103(0x164)];let _0x390a41=_0x40383f+_0x2df103(0x108);const _0x3988fa=_0x418e79[_0x2df103(0x114)](_0x418e79[_0x2df103(0x15d)](_0x40383f,_0x5f364b),0x0)?_0x418e79[_0x2df103(0x128)](_0x40383f,_0x5f364b):0x0;if(_0x418e79['XqTsG'](_0x5f364b,0x0)&&_0x418e79[_0x2df103(0x138)](_0x3988fa,0x0))_0x390a41+='\x20('+chalk[_0x2df103(0x113)]['red'](_0x5f364b+_0x2df103(0x14f))+',\x20'+chalk[_0x2df103(0x113)][_0x2df103(0x13f)](_0x3988fa+_0x2df103(0x14e))+')';else(_0x418e79['kCLDf'](_0x5f364b,0x0)||_0x418e79['tJBGy'](_0x3988fa,0x0))&&(_0x390a41+=_0x418e79['LxGzD'](_0x5f364b,0x0)?'\x20('+chalk['bold']['red'](_0x5f364b+_0x2df103(0x14f))+')':'\x20('+chalk['bold'][_0x2df103(0x13f)](_0x3988fa+_0x2df103(0x14e))+')');const _0x10650f=_0x59c3f4+_0x2df103(0x140),_0xb04005=[];_0x418e79[_0x2df103(0x124)](_0xb40ad1,0x0)&&_0xb04005['push'](''+chalk[_0x2df103(0x113)][_0x2df103(0x168)](_0xb40ad1+_0x2df103(0x137)));_0x418e79[_0x2df103(0x138)](_0x2129ff,0x0)&&_0xb04005[_0x2df103(0x11d)](''+chalk[_0x2df103(0x113)][_0x2df103(0x168)](_0x2129ff+_0x2df103(0x14f)));_0x418e79['XqTsG'](_0x777dd9,0x0)&&_0xb04005['push'](''+chalk['bold'][_0x2df103(0x13f)](_0x777dd9+_0x2df103(0x14e)));_0x418e79[_0x2df103(0x109)](_0x30647c,0x0)&&_0xb04005[_0x2df103(0x11d)](''+chalk['bold'][_0x2df103(0x170)](_0x30647c+_0x2df103(0x125)));_0x418e79[_0x2df103(0x11c)](_0x1854ab,0x0)&&_0xb04005[_0x2df103(0x11d)](''+chalk[_0x2df103(0x113)][_0x2df103(0x178)](_0x1854ab+_0x2df103(0x15a)));_0x418e79[_0x2df103(0x109)](_0x98c8f,0x0)&&_0xb04005['push'](''+chalk['bold'][_0x2df103(0x170)](_0x98c8f+_0x2df103(0x107)));_0x418e79['ndBbo'](_0x1adebe,0x0)&&_0xb04005['push'](''+chalk[_0x2df103(0x113)]['yellow'](_0x1adebe+_0x2df103(0x15a)));const _0x170835=_0x418e79[_0x2df103(0x14b)](_0x418e79[_0x2df103(0x155)](_0x418e79['KZiJW'](_0x10650f,'('),_0xb04005[_0x2df103(0x17c)](',\x20')),')');console[_0x2df103(0x14c)](_0x418e79[_0x2df103(0x172)](_0x418e79[_0x2df103(0x169)](_0x418e79[_0x2df103(0x13c)](_0x418e79[_0x2df103(0x10e)]('\x0a',_0x390a41),'\x0a'),_0x170835),'\x0a')),_0x418e79['iFKkV'](_0x2ced5b,![])&&(_0x591c47=0x1);}),_0x591c47;}async function run(_0xc4cfbd,_0xbb60d7,_0x1fb066){const _0x18e885=a5_0x185782,_0x4e3f17={'HmmTA':function(_0x30136f,_0x7f48f9){return _0x30136f(_0x7f48f9);},'tvDAj':function(_0x361b53,_0x39c3e1){return _0x361b53>_0x39c3e1;},'onPhp':_0x18e885(0x110),'sUHSh':'Removing\x20tmp\x20directory\x20created\x20for\x20reports','PurUH':_0x18e885(0x151),'fCvYp':_0x18e885(0x143),'KCWNG':_0x18e885(0x132),'grbfo':function(_0x5a53ab,_0x462952){return _0x5a53ab>_0x462952;},'mqtNj':function(_0x5b8a43,_0x5ca63e){return _0x5b8a43-_0x5ca63e;},'SomyI':function(_0x47e471,_0x37e72b){return _0x47e471>=_0x37e72b;},'AVpqW':function(_0x546f2e,_0x17e9ff){return _0x546f2e!=_0x17e9ff;},'uztzq':_0x18e885(0x144),'eArTP':function(_0x35be4d,_0x53169b,_0x4e2998,_0x5fafcd,_0x1dec2e,_0x1cd0e7){return _0x35be4d(_0x53169b,_0x4e2998,_0x5fafcd,_0x1dec2e,_0x1cd0e7);}};await _0x1fb066[_0x18e885(0x171)](_0xc4cfbd),helper['setUserConfigPath'](_0x1fb066[_0x18e885(0x11e)],_0xc4cfbd);!helper[_0x18e885(0x154)]()&&await _0x1fb066[_0x18e885(0x17f)]();await helper['handleApp'](_0x1fb066[_0x18e885(0x149)]);const _0x43c4a5=helper[_0x18e885(0x10f)](_0x1fb066[_0x18e885(0x149)]);!helper[_0x18e885(0x117)](_0x1fb066[_0x18e885(0x149)][_0x18e885(0x13b)])&&(process[_0x18e885(0x156)][_0x18e885(0x14a)]=JSON[_0x18e885(0x12a)](_0x1fb066[_0x18e885(0x149)][_0x18e885(0x13b)]));const _0x2cf973=await TestHubHandler['launchBuild'](constants[_0x18e885(0x10a)][_0x18e885(0x145)],_0x1fb066),_0x14d50e=helper[_0x18e885(0x16e)](_0x1fb066['config'],_0x43c4a5,constants['FRAMEWORKS'][_0x18e885(0x145)]);if(!_0x1fb066[_0x18e885(0x149)])return;const _0x240dd7=_0x1fb066['config']['parallelsPerPlatform']||helper['getUserWorkerCount'](_0xc4cfbd,_0xbb60d7,_0x1fb066[_0x18e885(0x149)],constants[_0x18e885(0x10a)][_0x18e885(0x145)])||0x1,_0xb30499={'server':helper[_0x18e885(0x142)](_0x1fb066[_0x18e885(0x149)]),'proxySettings':_0x1fb066[_0x18e885(0x149)][_0x18e885(0x122)],'maxWorkers':_0x240dd7,'browserStackLogLevel':_0x1fb066[_0x18e885(0x149)]['logLevel'],'skipSessionName':_0x1fb066[_0x18e885(0x149)][_0x18e885(0x12f)]['skipSessionName'],'skipSessionStatus':_0x1fb066[_0x18e885(0x149)][_0x18e885(0x12f)][_0x18e885(0x12d)],'turboScaleUrl':_0x1fb066[_0x18e885(0x149)]['turboScaleUrl']},_0x3b1cda=process[_0x18e885(0x129)],[_0x5c9197,_0x21390a]=helper[_0x18e885(0x133)](_0x3b1cda),_0x5a06ea=path[_0x18e885(0x17c)](process[_0x18e885(0x11b)](),_0x4e3f17['KCWNG']);if(_0x4e3f17[_0x18e885(0x159)](_0x21390a[_0x18e885(0x115)],0x0)){helper[_0x18e885(0x119)](_0x5a06ea);for(let _0x2d0b43=_0x4e3f17['mqtNj'](_0x5c9197['length'],0x1);_0x4e3f17['SomyI'](_0x2d0b43,0x0);_0x2d0b43--){_0x3b1cda[_0x18e885(0x13e)](_0x5c9197[_0x2d0b43],0x2);}}_0x4e3f17[_0x18e885(0x179)](_0x1fb066['config'][_0x18e885(0x16a)],null)?process[_0x18e885(0x156)][_0x18e885(0x17e)]=_0x1fb066[_0x18e885(0x149)][_0x18e885(0x16a)]:process[_0x18e885(0x156)][_0x18e885(0x17e)]=_0x4e3f17[_0x18e885(0x181)];PerformanceTester[_0x18e885(0x11f)](PerformanceEvents[_0x18e885(0x166)]);let _0x7360b1;_0x4e3f17['eArTP'](parallelCucumberRun,_0x14d50e,_0xb30499,_0x1fb066[_0x18e885(0x149)],_0x3b1cda,_0x21390a)[_0x18e885(0x17a)](async _0x48b0e8=>{const _0xec4bb1=_0x18e885;PerformanceTester['start'](PerformanceEvents[_0xec4bb1(0x173)]),_0x7360b1=_0x48b0e8;const _0x207f46=_0x4e3f17[_0xec4bb1(0x111)](printCucumberStats,_0x48b0e8);process[_0xec4bb1(0x134)]=_0x207f46,_0x4e3f17[_0xec4bb1(0x147)](_0x21390a[_0xec4bb1(0x115)],0x0)&&(logger[_0xec4bb1(0x167)](_0x4e3f17[_0xec4bb1(0x130)]),helper['mergeOutputFiles'](_0x5a06ea,_0x21390a),logger[_0xec4bb1(0x167)](_0x4e3f17[_0xec4bb1(0x160)]),helper[_0xec4bb1(0x116)](_0x5a06ea));})[_0x18e885(0x152)](async()=>{const _0x212dfc=_0x18e885;PerformanceTester['start'](PerformanceEvents[_0x212dfc(0x173)]),_0x1fb066[_0x212dfc(0x127)]=helper[_0x212dfc(0x10c)](_0x7360b1,_0x4e3f17[_0x212dfc(0x16d)]),testOpsHelper[_0x212dfc(0x12b)]();try{await TestHubHandler[_0x212dfc(0x174)]();}catch(_0x57fba1){logger[_0x212dfc(0x167)](_0x212dfc(0x176)+util[_0x212dfc(0x146)](_0x57fba1));}try{const {browserstackFolderPath:_0x3eadae,tcgConfigPath:_0x3cf78a}=helper[_0x212dfc(0x141)]();fs[_0x212dfc(0x165)](_0x3cf78a),fs[_0x212dfc(0x158)](_0x3eadae);}catch(_0x21590a){logger[_0x212dfc(0x167)](_0x4e3f17[_0x212dfc(0x11a)],_0x21590a);}await utilities[_0x212dfc(0x120)](_0x1fb066);});}module[a5_0x185782(0x13a)]=run;