#!/usr/bin/env node
'use strict';const a5_0x529de4=a5_0x54da;(function(_0x5452a6,_0x354e93){const _0x1f9e4a=a5_0x54da,_0xed6bb0=_0x5452a6();while(!![]){try{const _0x3d3b4e=-parseInt(_0x1f9e4a(0x199))/0x1+-parseInt(_0x1f9e4a(0x1a6))/0x2*(-parseInt(_0x1f9e4a(0x146))/0x3)+parseInt(_0x1f9e4a(0x1b0))/0x4+-parseInt(_0x1f9e4a(0x15e))/0x5*(-parseInt(_0x1f9e4a(0x19e))/0x6)+-parseInt(_0x1f9e4a(0x16c))/0x7+parseInt(_0x1f9e4a(0x175))/0x8+-parseInt(_0x1f9e4a(0x13c))/0x9*(parseInt(_0x1f9e4a(0x141))/0xa);if(_0x3d3b4e===_0x354e93)break;else _0xed6bb0['push'](_0xed6bb0['shift']());}catch(_0xe2395b){_0xed6bb0['push'](_0xed6bb0['shift']());}}}(a5_0x2836,0xab481));function a5_0x54da(_0x3ed402,_0x14fbaf){const _0x283618=a5_0x2836();return a5_0x54da=function(_0x54da21,_0x2ef9d3){_0x54da21=_0x54da21-0x13c;let _0x170761=_0x283618[_0x54da21];return _0x170761;},a5_0x54da(_0x3ed402,_0x14fbaf);}function a5_0x2836(){const _0x2e71e2=['../../helpers/performance/performance-tester','DJlGq','mBYYz','stringify','\x20scenarios','start','../../helpers/performance/constants','yLzoe','getErrorMessageFromResults','\x20undefined','debug','HHdUo','1036385bOGTAz','parallelsPerPlatform','green','HWeft','getHubUrl','AseaC','CUCUMBER','format','prepareCapabilities','fgCEJ','../../helpers/logger','createDir','../../helpers/utilities','hbhWB','4497829SMJoeW','../test-runner','stepsUndefined','EVENTS','end','removeDir','****\x20RESULTS\x20****','env','util','9546536QocRTm','RTHof','XBlWU','exitCode','errorMessage','tmp','red','stepsFailed','mergeOutputFiles','../utils/constants','initialize','forEach','processSuccess','LdxNj','setupTCGAuth','yellow','uyqMN','true','unlinkSync','RXNxx','Generating\x20consolidated\x20report...','handleApp','setUserConfigPath','steps','TDzte','YFLsv','testObservability','isUndefined','SDK_CLEANUP','dbOza','McTHM','../../helpers/testhub/testhubHandler','turboScaleUrl','TwkVc','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','push','525146RKAxfc','bold','cucumber','cyan','stepsUnknown','18RcfCGA','getUserWorkerCount','../../helpers/helper','winstonLogger','finally','logLevel','log','exports','2413182iiwfda','printBuildLink','sWqKq','\x20passed','launchBuild','\x20steps','../../helpers/test-observability/utils','getTCGConfigFilePaths','../../helpers/BrowserStackSetup','zagwn','3118312UOtmuY','length','FRAMEWORKS','iXShw','config','scenarios','stepsAmbiguous','splice','proxySettings','argv','parseFormatters','\x20ambiguous','RMNju','3477699AeOYIb','\x20failed','skipSessionName','gNuQs','skipSessionStatus','50FmWEeP','wJMsa','BROWSERSTACK_TEST_OBSERVABILITY_YML','stepsSkipped','\x20skipped','3EOWpjx','accessibilityOptions','cMeZx','testContextOptions','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','path','eUdOg','stepsPassed','Removing\x20tmp\x20directory\x20created\x20for\x20reports','join','finalExecution','chalk'];a5_0x2836=function(){return _0x2e71e2;};return a5_0x2836();}const fs=require('fs'),path=require(a5_0x529de4(0x14b)),util=require(a5_0x529de4(0x174)),logger=require(a5_0x529de4(0x168))[a5_0x529de4(0x1a1)],{default:BrowserStackSetup}=require(a5_0x529de4(0x1ae)),helper=require(a5_0x529de4(0x1a0)),utilities=require(a5_0x529de4(0x16a)),constants=require(a5_0x529de4(0x17e)),{parallelCucumberRun}=require(a5_0x529de4(0x16d)),TestHubHandler=require(a5_0x529de4(0x194)),testOpsHelper=require(a5_0x529de4(0x1ac)),chalk=require(a5_0x529de4(0x151)),PerformanceTester=require(a5_0x529de4(0x152)),PerformanceEvents=require(a5_0x529de4(0x158))[a5_0x529de4(0x16f)];function printCucumberStats(_0x1c8174){const _0x5ee0c5=a5_0x529de4,_0x23ac32={};_0x23ac32[_0x5ee0c5(0x182)]=function(_0x8bcf18,_0x16aa32){return _0x8bcf18>_0x16aa32;},_0x23ac32[_0x5ee0c5(0x185)]=function(_0x15cc5d,_0x4d3924){return _0x15cc5d-_0x4d3924;},_0x23ac32[_0x5ee0c5(0x15d)]=function(_0x38bd0c,_0x533775){return _0x38bd0c-_0x533775;},_0x23ac32[_0x5ee0c5(0x1a8)]=function(_0x167872,_0x378e88){return _0x167872>_0x378e88;},_0x23ac32[_0x5ee0c5(0x161)]=function(_0x5cf374,_0x20751a){return _0x5cf374>_0x20751a;},_0x23ac32[_0x5ee0c5(0x176)]=function(_0x27875b,_0x3b8fa9){return _0x27875b>_0x3b8fa9;},_0x23ac32[_0x5ee0c5(0x1bc)]=function(_0x15c2f9,_0x6d7dea){return _0x15c2f9>_0x6d7dea;},_0x23ac32[_0x5ee0c5(0x18e)]=function(_0x39628a,_0x3745fa){return _0x39628a>_0x3745fa;},_0x23ac32['TwkVc']=function(_0x2c16be,_0x5956c0){return _0x2c16be>_0x5956c0;},_0x23ac32['dbOza']=function(_0xef3e5,_0x5b9df7){return _0xef3e5>_0x5b9df7;},_0x23ac32[_0x5ee0c5(0x177)]=function(_0x48ae7e,_0x1a8b77){return _0x48ae7e>_0x1a8b77;},_0x23ac32[_0x5ee0c5(0x163)]=function(_0x12ca00,_0x4b9d00){return _0x12ca00+_0x4b9d00;},_0x23ac32['gNuQs']=function(_0x440c69,_0x54d193){return _0x440c69+_0x54d193;},_0x23ac32[_0x5ee0c5(0x159)]=function(_0x527ca5,_0x90f28){return _0x527ca5+_0x90f28;},_0x23ac32['fgCEJ']=function(_0x552fa7,_0x4b2e4d){return _0x552fa7+_0x4b2e4d;},_0x23ac32['RXNxx']=function(_0x28e826,_0x29cbfa){return _0x28e826+_0x29cbfa;},_0x23ac32['iXShw']=function(_0x134781,_0x343885){return _0x134781===_0x343885;},_0x23ac32[_0x5ee0c5(0x148)]=_0x5ee0c5(0x172);const _0xdb74e=_0x23ac32;let _0x3289ae=0x0;if(_0xdb74e['iXShw'](_0x1c8174[_0x5ee0c5(0x1b1)],0x0))return _0x3289ae;return console[_0x5ee0c5(0x1a4)](chalk[_0x5ee0c5(0x19a)]['bgWhite'](_0xdb74e[_0x5ee0c5(0x148)])),_0x1c8174[_0x5ee0c5(0x180)](_0x3707bc=>{const _0x3e8d99=_0x5ee0c5,_0x49b169=_0x3707bc[0x0],_0x14d447=_0x3707bc[0x1];console[_0x3e8d99(0x1a4)]('\x0a'+chalk['bold']['yellow'](''+helper['getPlatformName'](_0x49b169)));const _0x2923cb=_0x14d447[_0x3e8d99(0x1b5)],_0xca95ff=_0x14d447[_0x3e8d99(0x18c)],_0x122959=_0x14d447['scenariosFailed'],_0x23e7f4=_0x14d447[_0x3e8d99(0x17c)],_0x2cfd68=_0x14d447[_0x3e8d99(0x14d)],_0x1439fe=_0x14d447[_0x3e8d99(0x144)],_0x40f0da=_0x14d447['stepsPending'],_0x9585b=_0x14d447[_0x3e8d99(0x16e)],_0x289ce7=_0x14d447[_0x3e8d99(0x19d)],_0xa4d0f=_0x14d447[_0x3e8d99(0x1b6)],_0x262bfb=_0x14d447[_0x3e8d99(0x181)];let _0x3adbd0=_0x2923cb+_0x3e8d99(0x156);const _0x122973=_0xdb74e['LdxNj'](_0xdb74e[_0x3e8d99(0x185)](_0x2923cb,_0x122959),0x0)?_0xdb74e[_0x3e8d99(0x15d)](_0x2923cb,_0x122959):0x0;if(_0xdb74e[_0x3e8d99(0x182)](_0x122959,0x0)&&_0xdb74e[_0x3e8d99(0x1a8)](_0x122973,0x0))_0x3adbd0+='\x20('+chalk['bold'][_0x3e8d99(0x17b)](_0x122959+_0x3e8d99(0x13d))+',\x20'+chalk[_0x3e8d99(0x19a)]['green'](_0x122973+_0x3e8d99(0x1a9))+')';else(_0xdb74e[_0x3e8d99(0x161)](_0x122959,0x0)||_0xdb74e['RTHof'](_0x122973,0x0))&&(_0x3adbd0+=_0xdb74e['RTHof'](_0x122959,0x0)?'\x20('+chalk[_0x3e8d99(0x19a)][_0x3e8d99(0x17b)](_0x122959+_0x3e8d99(0x13d))+')':'\x20('+chalk['bold'][_0x3e8d99(0x160)](_0x122973+'\x20passed')+')');const _0x211b7c=_0xca95ff+_0x3e8d99(0x1ab),_0x42f6c0=[];_0xdb74e['RMNju'](_0xa4d0f,0x0)&&_0x42f6c0['push'](''+chalk[_0x3e8d99(0x19a)]['red'](_0xa4d0f+_0x3e8d99(0x1bb)));_0xdb74e[_0x3e8d99(0x18e)](_0x23e7f4,0x0)&&_0x42f6c0[_0x3e8d99(0x198)](''+chalk[_0x3e8d99(0x19a)]['red'](_0x23e7f4+_0x3e8d99(0x13d)));_0xdb74e[_0x3e8d99(0x196)](_0x2cfd68,0x0)&&_0x42f6c0[_0x3e8d99(0x198)](''+chalk['bold']['green'](_0x2cfd68+_0x3e8d99(0x1a9)));_0xdb74e[_0x3e8d99(0x192)](_0x40f0da,0x0)&&_0x42f6c0['push'](''+chalk[_0x3e8d99(0x19a)][_0x3e8d99(0x184)](_0x40f0da+'\x20pending'));_0xdb74e[_0x3e8d99(0x177)](_0x1439fe,0x0)&&_0x42f6c0[_0x3e8d99(0x198)](''+chalk[_0x3e8d99(0x19a)][_0x3e8d99(0x19c)](_0x1439fe+_0x3e8d99(0x145)));_0xdb74e['RMNju'](_0x9585b,0x0)&&_0x42f6c0[_0x3e8d99(0x198)](''+chalk['bold'][_0x3e8d99(0x184)](_0x9585b+_0x3e8d99(0x15b)));_0xdb74e[_0x3e8d99(0x192)](_0x289ce7,0x0)&&_0x42f6c0[_0x3e8d99(0x198)](''+chalk[_0x3e8d99(0x19a)][_0x3e8d99(0x184)](_0x289ce7+_0x3e8d99(0x145)));const _0x19b610=_0xdb74e[_0x3e8d99(0x163)](_0xdb74e[_0x3e8d99(0x13f)](_0xdb74e[_0x3e8d99(0x159)](_0x211b7c,'('),_0x42f6c0[_0x3e8d99(0x14f)](',\x20')),')');console['log'](_0xdb74e[_0x3e8d99(0x13f)](_0xdb74e[_0x3e8d99(0x167)](_0xdb74e[_0x3e8d99(0x13f)](_0xdb74e[_0x3e8d99(0x188)]('\x0a',_0x3adbd0),'\x0a'),_0x19b610),'\x0a')),_0xdb74e[_0x3e8d99(0x1b3)](_0x262bfb,![])&&(_0x3289ae=0x1);}),_0x3289ae;}async function run(_0x2a8580,_0x5247d8,_0x25632a){const _0xa42929=a5_0x529de4,_0x24039c={'BEFWR':function(_0x2cca28,_0x30d306){return _0x2cca28(_0x30d306);},'wJMsa':function(_0xc4b9b3,_0x419d11){return _0xc4b9b3>_0x419d11;},'zagwn':_0xa42929(0x189),'hbhWB':_0xa42929(0x14e),'TDzte':_0xa42929(0x19b),'eUdOg':'error\x20removing\x20tcg\x20config\x20file','mBYYz':_0xa42929(0x17a),'McTHM':function(_0x9f1d0d,_0x25ab0c){return _0x9f1d0d-_0x25ab0c;},'DJlGq':function(_0x2c8cb5,_0x544e53){return _0x2c8cb5>=_0x544e53;},'ALAPI':function(_0xfc7f32,_0x595f7a){return _0xfc7f32!=_0x595f7a;},'QShPf':_0xa42929(0x186),'NPKYH':function(_0x73135a,_0x2677b9,_0x2ec11c,_0x59ff63,_0x41dc90,_0x469b19){return _0x73135a(_0x2677b9,_0x2ec11c,_0x59ff63,_0x41dc90,_0x469b19);}};await _0x25632a[_0xa42929(0x17f)](_0x2a8580),helper[_0xa42929(0x18b)](_0x25632a['framework'],_0x2a8580);!helper['isBrowserstackInfra']()&&await _0x25632a[_0xa42929(0x183)]();await helper[_0xa42929(0x18a)](_0x25632a[_0xa42929(0x1b4)]);const _0x170bdd=helper['useW3C'](_0x25632a['config']);!helper[_0xa42929(0x190)](_0x25632a[_0xa42929(0x1b4)][_0xa42929(0x147)])&&(process[_0xa42929(0x173)][_0xa42929(0x14a)]=JSON[_0xa42929(0x155)](_0x25632a[_0xa42929(0x1b4)][_0xa42929(0x147)]));const _0x4e367d=await TestHubHandler[_0xa42929(0x1aa)](constants[_0xa42929(0x1b2)][_0xa42929(0x164)],_0x25632a),_0x5dcb90=helper[_0xa42929(0x166)](_0x25632a[_0xa42929(0x1b4)],_0x170bdd,constants['FRAMEWORKS'][_0xa42929(0x164)]);if(!_0x25632a['config'])return;const _0x5bbbc4=_0x25632a[_0xa42929(0x1b4)][_0xa42929(0x15f)]||helper[_0xa42929(0x19f)](_0x2a8580,_0x5247d8,_0x25632a[_0xa42929(0x1b4)],constants['FRAMEWORKS']['CUCUMBER'])||0x1,_0x595c4f={'server':helper[_0xa42929(0x162)](_0x25632a[_0xa42929(0x1b4)]),'proxySettings':_0x25632a['config'][_0xa42929(0x1b8)],'maxWorkers':_0x5bbbc4,'browserStackLogLevel':_0x25632a[_0xa42929(0x1b4)][_0xa42929(0x1a3)],'skipSessionName':_0x25632a[_0xa42929(0x1b4)][_0xa42929(0x149)][_0xa42929(0x13e)],'skipSessionStatus':_0x25632a[_0xa42929(0x1b4)][_0xa42929(0x149)][_0xa42929(0x140)],'turboScaleUrl':_0x25632a[_0xa42929(0x1b4)][_0xa42929(0x195)]},_0x2d4f73=process[_0xa42929(0x1b9)],[_0x3438ed,_0x19eefe]=helper[_0xa42929(0x1ba)](_0x2d4f73),_0x40372c=path[_0xa42929(0x14f)](process['cwd'](),_0x24039c[_0xa42929(0x154)]);if(_0x24039c['wJMsa'](_0x19eefe['length'],0x0)){helper[_0xa42929(0x169)](_0x40372c);for(let _0x1a5f0f=_0x24039c[_0xa42929(0x193)](_0x3438ed['length'],0x1);_0x24039c[_0xa42929(0x153)](_0x1a5f0f,0x0);_0x1a5f0f--){_0x2d4f73[_0xa42929(0x1b7)](_0x3438ed[_0x1a5f0f],0x2);}}_0x24039c['ALAPI'](_0x25632a['config'][_0xa42929(0x18f)],null)?process[_0xa42929(0x173)][_0xa42929(0x143)]=_0x25632a['config'][_0xa42929(0x18f)]:process[_0xa42929(0x173)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x24039c['QShPf'];PerformanceTester[_0xa42929(0x170)](PerformanceEvents['SDK_SETUP']);let _0x50a49e;_0x24039c['NPKYH'](parallelCucumberRun,_0x5dcb90,_0x595c4f,_0x25632a[_0xa42929(0x1b4)],_0x2d4f73,_0x19eefe)['then'](async _0x26aaea=>{const _0x2b1ef1=_0xa42929;PerformanceTester[_0x2b1ef1(0x157)](PerformanceEvents[_0x2b1ef1(0x191)]),_0x50a49e=_0x26aaea;const _0x709dbd=_0x24039c['BEFWR'](printCucumberStats,_0x26aaea);process[_0x2b1ef1(0x178)]=_0x709dbd,_0x24039c[_0x2b1ef1(0x142)](_0x19eefe[_0x2b1ef1(0x1b1)],0x0)&&(logger[_0x2b1ef1(0x15c)](_0x24039c[_0x2b1ef1(0x1af)]),helper[_0x2b1ef1(0x17d)](_0x40372c,_0x19eefe),logger[_0x2b1ef1(0x15c)](_0x24039c[_0x2b1ef1(0x16b)]),helper[_0x2b1ef1(0x171)](_0x40372c));})[_0xa42929(0x1a2)](async()=>{const _0x238ff9=_0xa42929;PerformanceTester[_0x238ff9(0x157)](PerformanceEvents[_0x238ff9(0x191)]),_0x25632a[_0x238ff9(0x179)]=helper[_0x238ff9(0x15a)](_0x50a49e,_0x24039c[_0x238ff9(0x18d)]),testOpsHelper[_0x238ff9(0x1a7)]();try{await TestHubHandler['stop']();}catch(_0x3a24d2){logger['debug'](_0x238ff9(0x197)+util[_0x238ff9(0x165)](_0x3a24d2));}try{const {browserstackFolderPath:_0x4fec41,tcgConfigPath:_0x40833f}=helper[_0x238ff9(0x1ad)]();fs[_0x238ff9(0x187)](_0x40833f),fs['rmdirSync'](_0x4fec41);}catch(_0x2d0122){logger[_0x238ff9(0x15c)](_0x24039c[_0x238ff9(0x14c)],_0x2d0122);}await utilities[_0x238ff9(0x150)](_0x25632a);});}module[a5_0x529de4(0x1a5)]=run;