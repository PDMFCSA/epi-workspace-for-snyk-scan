#!/usr/bin/env node
'use strict';function a5_0x4312(){const _0x4cd30f=['scenariosFailed','CAXpx','../../helpers/BrowserStackSetup','pSUyl','setUserConfigPath','895nczGsz','exports','length','proxySettings','cwd','push','logLevel','chalk','prepareCapabilities','accessibilityOptions','removeDir','7163607xCwihL','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','stringify','ItsKx','cucumber','path','then','argv','cyan','ybEHQ','yellow','stepsPassed','bold','bgWhite','ySUIP','testContextOptions','Generating\x20consolidated\x20report...','CUCUMBER','getPlatformName','finally','139285TcKYbo','debug','../test-runner','stepsUndefined','\x20passed','nrhuB','env','exitCode','49398qtdrQm','SDK_CLEANUP','launchBuild','errorMessage','stepsPending','UETPl','28kPlOUb','TqqQc','ccVFH','2903038USybZS','\x20undefined','stepsAmbiguous','Quojt','NAdYC','MyuuT','PuFXm','getHubUrl','\x20skipped','\x20steps','stepsSkipped','../../helpers/testhub/testhubHandler','getTCGConfigFilePaths','Removing\x20tmp\x20directory\x20created\x20for\x20reports','../../helpers/performance/performance-tester','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','fCydC','../../helpers/utilities','util','handleApp','FRAMEWORKS','isUndefined','QHcbK','testObservability','153vplXyV','unlinkSync','NgQGY','EVENTS','stop','\x20failed','\x20scenarios','BROWSERSTACK_TEST_OBSERVABILITY_YML','EAJJs','format','642820dcIGWI','rmdirSync','end','setupTCGAuth','red','CvIRU','../../helpers/helper','getUserWorkerCount','processSuccess','log','wrWVp','green','773560ZnEiWb','cucumber-js','tmp','MiyYd','mergeOutputFiles','xHweC','SDK_SETUP','config','winstonLogger','error\x20removing\x20tcg\x20config\x20file','true','\x20ambiguous','33ogFoEU','initialize','7756MUVxbt','start','isBrowserstackInfra','framework','finalExecution','../../helpers/logger'];a5_0x4312=function(){return _0x4cd30f;};return a5_0x4312();}const a5_0x1c8bba=a5_0xe9dc;(function(_0x579566,_0x3565a2){const _0x1919fe=a5_0xe9dc,_0x164dcc=_0x579566();while(!![]){try{const _0x27391b=parseInt(_0x1919fe(0x1e6))/0x1+parseInt(_0x1919fe(0x1f7))/0x2+-parseInt(_0x1919fe(0x1ba))/0x3*(-parseInt(_0x1919fe(0x1bc))/0x4)+parseInt(_0x1919fe(0x1c7))/0x5*(-parseInt(_0x1919fe(0x1ee))/0x6)+parseInt(_0x1919fe(0x1f4))/0x7*(parseInt(_0x1919fe(0x1ae))/0x8)+parseInt(_0x1919fe(0x198))/0x9*(parseInt(_0x1919fe(0x1a2))/0xa)+-parseInt(_0x1919fe(0x1d2))/0xb;if(_0x27391b===_0x3565a2)break;else _0x164dcc['push'](_0x164dcc['shift']());}catch(_0x18b8d4){_0x164dcc['push'](_0x164dcc['shift']());}}}(a5_0x4312,0xec06b));const fs=require('fs'),path=require(a5_0x1c8bba(0x1d7)),util=require(a5_0x1c8bba(0x192)),logger=require(a5_0x1c8bba(0x1c1))[a5_0x1c8bba(0x1b6)],{default:BrowserStackSetup}=require(a5_0x1c8bba(0x1c4)),helper=require(a5_0x1c8bba(0x1a8)),utilities=require(a5_0x1c8bba(0x191)),constants=require('../utils/constants'),{parallelCucumberRun}=require(a5_0x1c8bba(0x1e8)),TestHubHandler=require(a5_0x1c8bba(0x18b)),testOpsHelper=require('../../helpers/test-observability/utils'),chalk=require(a5_0x1c8bba(0x1ce)),PerformanceTester=require(a5_0x1c8bba(0x18e)),PerformanceEvents=require('../../helpers/performance/constants')[a5_0x1c8bba(0x19b)];function a5_0xe9dc(_0x4c0db8,_0x1ea9c2){const _0x431252=a5_0x4312();return a5_0xe9dc=function(_0xe9dc12,_0x2c50c5){_0xe9dc12=_0xe9dc12-0x184;let _0x14e5ee=_0x431252[_0xe9dc12];return _0x14e5ee;},a5_0xe9dc(_0x4c0db8,_0x1ea9c2);}function printCucumberStats(_0x1f406b){const _0x2bc042=a5_0x1c8bba,_0x475cd1={};_0x475cd1[_0x2bc042(0x1d5)]=function(_0x30566e,_0x3d5797){return _0x30566e>_0x3d5797;},_0x475cd1['PuFXm']=function(_0x3555e5,_0x5e4204){return _0x3555e5-_0x5e4204;},_0x475cd1[_0x2bc042(0x19a)]=function(_0x5cf1a0,_0x3d8ab2){return _0x5cf1a0-_0x3d8ab2;},_0x475cd1[_0x2bc042(0x196)]=function(_0x3cd18e,_0x22a907){return _0x3cd18e>_0x22a907;},_0x475cd1[_0x2bc042(0x1b1)]=function(_0x419705,_0x206ef7){return _0x419705>_0x206ef7;},_0x475cd1[_0x2bc042(0x1c5)]=function(_0x5c4ffc,_0x32358d){return _0x5c4ffc>_0x32358d;},_0x475cd1['MJmKo']=function(_0x2c4c39,_0x5e2113){return _0x2c4c39>_0x5e2113;},_0x475cd1[_0x2bc042(0x1c3)]=function(_0x39ee18,_0x1bbb15){return _0x39ee18+_0x1bbb15;},_0x475cd1[_0x2bc042(0x184)]=function(_0x36c136,_0x234b6c){return _0x36c136+_0x234b6c;},_0x475cd1['CvIRU']=function(_0x31fe0a,_0x1e44f7){return _0x31fe0a===_0x1e44f7;},_0x475cd1[_0x2bc042(0x1a0)]='****\x20RESULTS\x20****';const _0x162b48=_0x475cd1;let _0x585212=0x0;if(_0x162b48['CvIRU'](_0x1f406b[_0x2bc042(0x1c9)],0x0))return _0x585212;return console[_0x2bc042(0x1ab)](chalk[_0x2bc042(0x1de)][_0x2bc042(0x1df)](_0x162b48[_0x2bc042(0x1a0)])),_0x1f406b['forEach'](_0x279555=>{const _0x1041a6=_0x2bc042,_0x3d0e95=_0x279555[0x0],_0x47e0df=_0x279555[0x1];console[_0x1041a6(0x1ab)]('\x0a'+chalk[_0x1041a6(0x1de)][_0x1041a6(0x1dc)](''+helper[_0x1041a6(0x1e4)](_0x3d0e95)));const _0x1ea07f=_0x47e0df['scenarios'],_0x3e0a7a=_0x47e0df['steps'],_0x12d42f=_0x47e0df[_0x1041a6(0x1c2)],_0x1fbd16=_0x47e0df['stepsFailed'],_0x11fb46=_0x47e0df[_0x1041a6(0x1dd)],_0x576abf=_0x47e0df[_0x1041a6(0x18a)],_0xd92fbc=_0x47e0df[_0x1041a6(0x1f2)],_0x17cebe=_0x47e0df[_0x1041a6(0x1e9)],_0x95c39a=_0x47e0df['stepsUnknown'],_0x527091=_0x47e0df[_0x1041a6(0x1f9)],_0x5af5d9=_0x47e0df[_0x1041a6(0x1aa)];let _0x25b2a5=_0x1ea07f+_0x1041a6(0x19e);const _0x423444=_0x162b48[_0x1041a6(0x1d5)](_0x162b48[_0x1041a6(0x186)](_0x1ea07f,_0x12d42f),0x0)?_0x162b48[_0x1041a6(0x19a)](_0x1ea07f,_0x12d42f):0x0;if(_0x162b48['ItsKx'](_0x12d42f,0x0)&&_0x162b48[_0x1041a6(0x1d5)](_0x423444,0x0))_0x25b2a5+='\x20('+chalk[_0x1041a6(0x1de)][_0x1041a6(0x1a6)](_0x12d42f+_0x1041a6(0x19d))+',\x20'+chalk[_0x1041a6(0x1de)][_0x1041a6(0x1ad)](_0x423444+_0x1041a6(0x1ea))+')';else(_0x162b48[_0x1041a6(0x196)](_0x12d42f,0x0)||_0x162b48[_0x1041a6(0x196)](_0x423444,0x0))&&(_0x25b2a5+=_0x162b48['MiyYd'](_0x12d42f,0x0)?'\x20('+chalk[_0x1041a6(0x1de)][_0x1041a6(0x1a6)](_0x12d42f+_0x1041a6(0x19d))+')':'\x20('+chalk[_0x1041a6(0x1de)]['green'](_0x423444+_0x1041a6(0x1ea))+')');const _0x3d133b=_0x3e0a7a+_0x1041a6(0x189),_0x31878f=[];_0x162b48[_0x1041a6(0x1c5)](_0x527091,0x0)&&_0x31878f['push'](''+chalk[_0x1041a6(0x1de)][_0x1041a6(0x1a6)](_0x527091+_0x1041a6(0x1b9)));_0x162b48['QHcbK'](_0x1fbd16,0x0)&&_0x31878f[_0x1041a6(0x1cc)](''+chalk['bold'][_0x1041a6(0x1a6)](_0x1fbd16+_0x1041a6(0x19d)));_0x162b48['MJmKo'](_0x11fb46,0x0)&&_0x31878f[_0x1041a6(0x1cc)](''+chalk[_0x1041a6(0x1de)][_0x1041a6(0x1ad)](_0x11fb46+_0x1041a6(0x1ea)));_0x162b48[_0x1041a6(0x1d5)](_0xd92fbc,0x0)&&_0x31878f[_0x1041a6(0x1cc)](''+chalk[_0x1041a6(0x1de)][_0x1041a6(0x1dc)](_0xd92fbc+'\x20pending'));_0x162b48[_0x1041a6(0x196)](_0x576abf,0x0)&&_0x31878f[_0x1041a6(0x1cc)](''+chalk['bold'][_0x1041a6(0x1da)](_0x576abf+_0x1041a6(0x188)));_0x162b48[_0x1041a6(0x1d5)](_0x17cebe,0x0)&&_0x31878f[_0x1041a6(0x1cc)](''+chalk['bold'][_0x1041a6(0x1dc)](_0x17cebe+_0x1041a6(0x1f8)));_0x162b48[_0x1041a6(0x1d5)](_0x95c39a,0x0)&&_0x31878f['push'](''+chalk['bold'][_0x1041a6(0x1dc)](_0x95c39a+_0x1041a6(0x188)));const _0x1f72cf=_0x162b48['CAXpx'](_0x162b48[_0x1041a6(0x1c3)](_0x162b48[_0x1041a6(0x1c3)](_0x3d133b,'('),_0x31878f['join'](',\x20')),')');console[_0x1041a6(0x1ab)](_0x162b48[_0x1041a6(0x184)](_0x162b48[_0x1041a6(0x1c3)](_0x162b48['CAXpx'](_0x162b48['NAdYC']('\x0a',_0x25b2a5),'\x0a'),_0x1f72cf),'\x0a')),_0x162b48[_0x1041a6(0x1a7)](_0x5af5d9,![])&&(_0x585212=0x1);}),_0x585212;}async function run(_0x39a1e8,_0x1aff2b){const _0x3b23ce=a5_0x1c8bba,_0x160da6={'fCydC':function(_0x446e30,_0x3e10fd){return _0x446e30(_0x3e10fd);},'bwLCZ':function(_0x3daf92,_0x25a4b9){return _0x3daf92>_0x25a4b9;},'xHweC':_0x3b23ce(0x1e2),'wrWVp':_0x3b23ce(0x18d),'KeKKT':_0x3b23ce(0x1d6),'ybEHQ':_0x3b23ce(0x1b7),'UETPl':_0x3b23ce(0x1af),'TqqQc':_0x3b23ce(0x1b0),'Quojt':function(_0x41ba9e,_0x552631){return _0x41ba9e>_0x552631;},'MyuuT':function(_0x190cd0,_0x4ad033){return _0x190cd0-_0x4ad033;},'uIjnP':function(_0x198f41,_0x301491){return _0x198f41>=_0x301491;},'nrhuB':function(_0x4f63c2,_0x488023){return _0x4f63c2!=_0x488023;},'ySUIP':_0x3b23ce(0x1b8),'ccVFH':function(_0x275ab9,_0x554d4c,_0x12fad5,_0xb70d9c,_0x19b634,_0x18b112){return _0x275ab9(_0x554d4c,_0x12fad5,_0xb70d9c,_0x19b634,_0x18b112);}},_0x253ec1=new BrowserStackSetup(_0x39a1e8,_0x160da6[_0x3b23ce(0x1f3)]);await _0x253ec1[_0x3b23ce(0x1bb)](),helper[_0x3b23ce(0x1c6)](_0x253ec1[_0x3b23ce(0x1bf)],_0x39a1e8);!helper[_0x3b23ce(0x1be)]()&&await _0x253ec1[_0x3b23ce(0x1a5)]();await helper[_0x3b23ce(0x193)](_0x253ec1[_0x3b23ce(0x1b5)]);const _0xd42caa=helper['useW3C'](_0x253ec1[_0x3b23ce(0x1b5)]),_0x4757be=helper[_0x3b23ce(0x1cf)](_0x253ec1['config'],_0xd42caa,constants[_0x3b23ce(0x194)][_0x3b23ce(0x1e3)]);if(!_0x253ec1[_0x3b23ce(0x1b5)])return;const _0x4e1bfd=_0x253ec1[_0x3b23ce(0x1b5)]['parallelsPerPlatform']||helper[_0x3b23ce(0x1a9)](_0x39a1e8,_0x1aff2b,_0x253ec1[_0x3b23ce(0x1b5)],constants[_0x3b23ce(0x194)][_0x3b23ce(0x1e3)])||0x1,_0x567a1e={'server':helper[_0x3b23ce(0x187)](_0x253ec1[_0x3b23ce(0x1b5)]),'proxySettings':_0x253ec1[_0x3b23ce(0x1b5)][_0x3b23ce(0x1ca)],'maxWorkers':_0x4e1bfd,'browserStackLogLevel':_0x253ec1[_0x3b23ce(0x1b5)][_0x3b23ce(0x1cd)],'skipSessionName':_0x253ec1[_0x3b23ce(0x1b5)][_0x3b23ce(0x1e1)]['skipSessionName'],'skipSessionStatus':_0x253ec1[_0x3b23ce(0x1b5)][_0x3b23ce(0x1e1)]['skipSessionStatus'],'turboScaleUrl':_0x253ec1[_0x3b23ce(0x1b5)]['turboScaleUrl']},_0x28bf4c=process[_0x3b23ce(0x1d9)],[_0x9c8e71,_0x3375bd]=helper['parseFormatters'](_0x28bf4c),_0x2b7a6b=path['join'](process[_0x3b23ce(0x1cb)](),_0x160da6[_0x3b23ce(0x1f5)]);if(_0x160da6[_0x3b23ce(0x1fa)](_0x3375bd[_0x3b23ce(0x1c9)],0x0)){helper['createDir'](_0x2b7a6b);for(let _0x5cbce6=_0x160da6[_0x3b23ce(0x185)](_0x9c8e71['length'],0x1);_0x160da6['uIjnP'](_0x5cbce6,0x0);_0x5cbce6--){_0x28bf4c['splice'](_0x9c8e71[_0x5cbce6],0x2);}}!helper[_0x3b23ce(0x195)](_0x253ec1['config'][_0x3b23ce(0x1d0)])&&(process['env'][_0x3b23ce(0x18f)]=JSON[_0x3b23ce(0x1d4)](_0x253ec1[_0x3b23ce(0x1b5)][_0x3b23ce(0x1d0)]));_0x160da6[_0x3b23ce(0x1eb)](_0x253ec1[_0x3b23ce(0x1b5)][_0x3b23ce(0x197)],null)?process[_0x3b23ce(0x1ec)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x253ec1[_0x3b23ce(0x1b5)]['testObservability']:process['env'][_0x3b23ce(0x19f)]=_0x160da6[_0x3b23ce(0x1e0)];const _0x182802=await TestHubHandler[_0x3b23ce(0x1f0)](constants['FRAMEWORKS'][_0x3b23ce(0x1e3)],_0x253ec1);PerformanceTester[_0x3b23ce(0x1a4)](PerformanceEvents[_0x3b23ce(0x1b4)]);let _0x2dc6c1;_0x160da6[_0x3b23ce(0x1f6)](parallelCucumberRun,_0x4757be,_0x567a1e,_0x253ec1['config'],_0x28bf4c,_0x3375bd)[_0x3b23ce(0x1d8)](async _0x5ac3a5=>{const _0x585a9d=_0x3b23ce;PerformanceTester[_0x585a9d(0x1bd)](PerformanceEvents[_0x585a9d(0x1ef)]),_0x2dc6c1=_0x5ac3a5;const _0x18ad9d=_0x160da6[_0x585a9d(0x190)](printCucumberStats,_0x5ac3a5);process[_0x585a9d(0x1ed)]=_0x18ad9d,_0x160da6['bwLCZ'](_0x3375bd[_0x585a9d(0x1c9)],0x0)&&(logger[_0x585a9d(0x1e7)](_0x160da6[_0x585a9d(0x1b3)]),helper[_0x585a9d(0x1b2)](_0x2b7a6b,_0x3375bd),logger[_0x585a9d(0x1e7)](_0x160da6[_0x585a9d(0x1ac)]),helper[_0x585a9d(0x1d1)](_0x2b7a6b));})[_0x3b23ce(0x1e5)](async()=>{const _0x222129=_0x3b23ce;PerformanceTester[_0x222129(0x1bd)](PerformanceEvents['SDK_CLEANUP']),_0x253ec1[_0x222129(0x1f1)]=helper['getErrorMessageFromResults'](_0x2dc6c1,_0x160da6['KeKKT']),testOpsHelper['printBuildLink']();try{await TestHubHandler[_0x222129(0x19c)]();}catch(_0x3379dd){logger[_0x222129(0x1e7)](_0x222129(0x1d3)+util[_0x222129(0x1a1)](_0x3379dd));}try{const {browserstackFolderPath:_0x1727a0,tcgConfigPath:_0x4d97e2}=helper[_0x222129(0x18c)]();fs[_0x222129(0x199)](_0x4d97e2),fs[_0x222129(0x1a3)](_0x1727a0);}catch(_0x461b7c){logger[_0x222129(0x1e7)](_0x160da6[_0x222129(0x1db)],_0x461b7c);}await utilities[_0x222129(0x1c0)](_0x253ec1);});}module[a5_0x1c8bba(0x1c8)]=run;