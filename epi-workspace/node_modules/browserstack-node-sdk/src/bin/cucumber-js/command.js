#!/usr/bin/env node
'use strict';function a5_0x1428(_0x3f3dfe,_0x48d2c8){const _0x820db4=a5_0x820d();return a5_0x1428=function(_0x1428e9,_0x114642){_0x1428e9=_0x1428e9-0x1ac;let _0x5b85c8=_0x820db4[_0x1428e9];return _0x5b85c8;},a5_0x1428(_0x3f3dfe,_0x48d2c8);}const a5_0x11ab1b=a5_0x1428;(function(_0x2f2126,_0x488a34){const _0x3d6d15=a5_0x1428,_0xed9aba=_0x2f2126();while(!![]){try{const _0x47a663=parseInt(_0x3d6d15(0x1c4))/0x1*(-parseInt(_0x3d6d15(0x1b3))/0x2)+parseInt(_0x3d6d15(0x20b))/0x3+parseInt(_0x3d6d15(0x1f1))/0x4*(-parseInt(_0x3d6d15(0x1f2))/0x5)+parseInt(_0x3d6d15(0x1da))/0x6+-parseInt(_0x3d6d15(0x224))/0x7*(parseInt(_0x3d6d15(0x214))/0x8)+parseInt(_0x3d6d15(0x1ee))/0x9*(-parseInt(_0x3d6d15(0x1cf))/0xa)+parseInt(_0x3d6d15(0x205))/0xb;if(_0x47a663===_0x488a34)break;else _0xed9aba['push'](_0xed9aba['shift']());}catch(_0x310d7f){_0xed9aba['push'](_0xed9aba['shift']());}}}(a5_0x820d,0x79215));const fs=require('fs'),path=require('path'),util=require(a5_0x11ab1b(0x1ed)),logger=require(a5_0x11ab1b(0x1e8))[a5_0x11ab1b(0x1ea)],{default:BrowserStackSetup}=require(a5_0x11ab1b(0x1c9)),helper=require(a5_0x11ab1b(0x209)),utilities=require('../../helpers/utilities'),constants=require(a5_0x11ab1b(0x223)),{parallelCucumberRun}=require(a5_0x11ab1b(0x1b2)),TestHubHandler=require(a5_0x11ab1b(0x1cb)),testOpsHelper=require('../../helpers/test-observability/utils'),chalk=require('chalk'),PerformanceTester=require(a5_0x11ab1b(0x1bc)),PerformanceEvents=require(a5_0x11ab1b(0x20e))[a5_0x11ab1b(0x1fc)];function printCucumberStats(_0x3399cf){const _0x434287=a5_0x11ab1b,_0x5a9af2={};_0x5a9af2[_0x434287(0x1af)]=function(_0xde8bbc,_0x30efd7){return _0xde8bbc>_0x30efd7;},_0x5a9af2[_0x434287(0x1f5)]=function(_0x44317d,_0x1ae8c4){return _0x44317d-_0x1ae8c4;},_0x5a9af2['sGytx']=function(_0x51528c,_0xb6f768){return _0x51528c-_0xb6f768;},_0x5a9af2[_0x434287(0x1e1)]=function(_0x24615f,_0x3e48f6){return _0x24615f>_0x3e48f6;},_0x5a9af2['eRXfF']=function(_0xcbe8c5,_0xe95971){return _0xcbe8c5>_0xe95971;},_0x5a9af2[_0x434287(0x212)]=function(_0x3c9e0f,_0x25e824){return _0x3c9e0f>_0x25e824;},_0x5a9af2[_0x434287(0x1d5)]=function(_0x11f09f,_0x36deb9){return _0x11f09f>_0x36deb9;},_0x5a9af2[_0x434287(0x200)]=function(_0x24da1a,_0x19418d){return _0x24da1a+_0x19418d;},_0x5a9af2['pFyZm']=function(_0x318ab0,_0x1a958c){return _0x318ab0+_0x1a958c;},_0x5a9af2['FnljB']=function(_0x5ad76b,_0x2751ad){return _0x5ad76b+_0x2751ad;},_0x5a9af2[_0x434287(0x1e7)]=function(_0x2db4ef,_0x2f5537){return _0x2db4ef+_0x2f5537;},_0x5a9af2[_0x434287(0x1c5)]=function(_0x5e2c69,_0xee1ea5){return _0x5e2c69+_0xee1ea5;},_0x5a9af2[_0x434287(0x208)]=function(_0x42e19d,_0x2b4554){return _0x42e19d===_0x2b4554;},_0x5a9af2[_0x434287(0x1b6)]=function(_0x246a1c,_0x200415){return _0x246a1c===_0x200415;},_0x5a9af2['tgQio']=_0x434287(0x1b5);const _0x318c1e=_0x5a9af2;let _0x1b9943=0x0;if(_0x318c1e[_0x434287(0x1b6)](_0x3399cf[_0x434287(0x1d1)],0x0))return _0x1b9943;return console[_0x434287(0x1d4)](chalk['bold'][_0x434287(0x1cd)](_0x318c1e[_0x434287(0x1d6)])),_0x3399cf[_0x434287(0x1d9)](_0x526b51=>{const _0x15e730=_0x434287,_0x2cf34c=_0x526b51[0x0],_0x359181=_0x526b51[0x1];console[_0x15e730(0x1d4)]('\x0a'+chalk[_0x15e730(0x1ca)][_0x15e730(0x1d7)](''+helper[_0x15e730(0x1ce)](_0x2cf34c)));const _0x454fd2=_0x359181[_0x15e730(0x202)],_0x1812d8=_0x359181[_0x15e730(0x21f)],_0x16de09=_0x359181[_0x15e730(0x207)],_0x56862a=_0x359181['stepsFailed'],_0x2a6687=_0x359181[_0x15e730(0x1e5)],_0x636db7=_0x359181[_0x15e730(0x215)],_0x1ecc3f=_0x359181[_0x15e730(0x1f0)],_0xcc50c9=_0x359181[_0x15e730(0x21b)],_0x423722=_0x359181[_0x15e730(0x1b0)],_0xfaf0b4=_0x359181[_0x15e730(0x1b9)],_0x12eae6=_0x359181[_0x15e730(0x1c3)];let _0x2b2b3d=_0x454fd2+_0x15e730(0x210);const _0xc2abd8=_0x318c1e['oOcqS'](_0x318c1e[_0x15e730(0x1f5)](_0x454fd2,_0x16de09),0x0)?_0x318c1e[_0x15e730(0x1ef)](_0x454fd2,_0x16de09):0x0;if(_0x318c1e[_0x15e730(0x1af)](_0x16de09,0x0)&&_0x318c1e[_0x15e730(0x1af)](_0xc2abd8,0x0))_0x2b2b3d+='\x20('+chalk[_0x15e730(0x1ca)][_0x15e730(0x1be)](_0x16de09+'\x20failed')+',\x20'+chalk[_0x15e730(0x1ca)][_0x15e730(0x1ae)](_0xc2abd8+'\x20passed')+')';else(_0x318c1e[_0x15e730(0x1e1)](_0x16de09,0x0)||_0x318c1e[_0x15e730(0x1e1)](_0xc2abd8,0x0))&&(_0x2b2b3d+=_0x318c1e['WMuHJ'](_0x16de09,0x0)?'\x20('+chalk['bold'][_0x15e730(0x1be)](_0x16de09+_0x15e730(0x1e9))+')':'\x20('+chalk[_0x15e730(0x1ca)][_0x15e730(0x1ae)](_0xc2abd8+_0x15e730(0x1bb))+')');const _0x59d3c9=_0x1812d8+_0x15e730(0x217),_0x3fe84d=[];_0x318c1e[_0x15e730(0x1af)](_0xfaf0b4,0x0)&&_0x3fe84d[_0x15e730(0x1fd)](''+chalk[_0x15e730(0x1ca)][_0x15e730(0x1be)](_0xfaf0b4+'\x20ambiguous'));_0x318c1e[_0x15e730(0x1af)](_0x56862a,0x0)&&_0x3fe84d[_0x15e730(0x1fd)](''+chalk[_0x15e730(0x1ca)][_0x15e730(0x1be)](_0x56862a+_0x15e730(0x1e9)));_0x318c1e['eRXfF'](_0x2a6687,0x0)&&_0x3fe84d['push'](''+chalk['bold'][_0x15e730(0x1ae)](_0x2a6687+_0x15e730(0x1bb)));_0x318c1e[_0x15e730(0x212)](_0x1ecc3f,0x0)&&_0x3fe84d['push'](''+chalk[_0x15e730(0x1ca)]['yellow'](_0x1ecc3f+_0x15e730(0x201)));_0x318c1e[_0x15e730(0x1d5)](_0x636db7,0x0)&&_0x3fe84d['push'](''+chalk[_0x15e730(0x1ca)]['cyan'](_0x636db7+_0x15e730(0x1b8)));_0x318c1e[_0x15e730(0x1fe)](_0xcc50c9,0x0)&&_0x3fe84d[_0x15e730(0x1fd)](''+chalk[_0x15e730(0x1ca)][_0x15e730(0x1d7)](_0xcc50c9+_0x15e730(0x1f3)));_0x318c1e[_0x15e730(0x212)](_0x423722,0x0)&&_0x3fe84d[_0x15e730(0x1fd)](''+chalk['bold'][_0x15e730(0x1d7)](_0x423722+_0x15e730(0x1b8)));const _0xb77689=_0x318c1e[_0x15e730(0x200)](_0x318c1e[_0x15e730(0x200)](_0x318c1e[_0x15e730(0x1e3)](_0x59d3c9,'('),_0x3fe84d[_0x15e730(0x220)](',\x20')),')');console[_0x15e730(0x1d4)](_0x318c1e['pFyZm'](_0x318c1e['FnljB'](_0x318c1e[_0x15e730(0x1e7)](_0x318c1e[_0x15e730(0x1c5)]('\x0a',_0x2b2b3d),'\x0a'),_0xb77689),'\x0a')),_0x318c1e[_0x15e730(0x208)](_0x12eae6,![])&&(_0x1b9943=0x1);}),_0x1b9943;}async function run(_0x4c1923,_0x526fdc,_0x10b0d6){const _0x3d6e50=a5_0x11ab1b,_0x400beb={'fmXSI':function(_0x2c18d7,_0x53aa2a){return _0x2c18d7(_0x53aa2a);},'thUkw':function(_0x20c3ce,_0x315337){return _0x20c3ce>_0x315337;},'FYDjK':_0x3d6e50(0x21e),'wgOMf':_0x3d6e50(0x211),'BeVIL':_0x3d6e50(0x1eb),'lUfjA':_0x3d6e50(0x1d8),'qURpf':_0x3d6e50(0x1ba),'javjD':function(_0x79b8a4,_0x5275ee){return _0x79b8a4-_0x5275ee;},'sACxY':function(_0x270910,_0x50771a){return _0x270910>=_0x50771a;},'BVfCk':function(_0x22079b,_0x2d25ec){return _0x22079b!=_0x2d25ec;},'ItXhl':'true','LMQwz':function(_0x537e60,_0x45d631,_0x564176,_0x57c446,_0x516f3,_0x3ee4ac){return _0x537e60(_0x45d631,_0x564176,_0x57c446,_0x516f3,_0x3ee4ac);}};await _0x10b0d6[_0x3d6e50(0x1fa)](_0x4c1923),helper[_0x3d6e50(0x1ec)](_0x10b0d6['framework'],_0x4c1923);!helper['isBrowserstackInfra']()&&await _0x10b0d6[_0x3d6e50(0x1db)]();await helper[_0x3d6e50(0x1b4)](_0x10b0d6['config']);const _0x5bc0a5=helper['useW3C'](_0x10b0d6['config']);!helper[_0x3d6e50(0x216)](_0x10b0d6[_0x3d6e50(0x1dc)]['accessibilityOptions'])&&(process[_0x3d6e50(0x1de)]['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON[_0x3d6e50(0x21a)](_0x10b0d6[_0x3d6e50(0x1dc)][_0x3d6e50(0x213)]));const _0x1df4de=await TestHubHandler[_0x3d6e50(0x1f8)](constants['FRAMEWORKS'][_0x3d6e50(0x1fb)],_0x10b0d6),_0x95c8b3=helper['prepareCapabilities'](_0x10b0d6['config'],_0x5bc0a5,constants[_0x3d6e50(0x206)][_0x3d6e50(0x1fb)]);if(!_0x10b0d6[_0x3d6e50(0x1dc)])return;const _0x195355=_0x10b0d6[_0x3d6e50(0x1dc)][_0x3d6e50(0x1c8)]||helper[_0x3d6e50(0x203)](_0x4c1923,_0x526fdc,_0x10b0d6[_0x3d6e50(0x1dc)],constants[_0x3d6e50(0x206)][_0x3d6e50(0x1fb)])||0x1,_0x325387={'server':helper[_0x3d6e50(0x218)](_0x10b0d6[_0x3d6e50(0x1dc)]),'proxySettings':_0x10b0d6['config'][_0x3d6e50(0x221)],'maxWorkers':_0x195355,'browserStackLogLevel':_0x10b0d6[_0x3d6e50(0x1dc)][_0x3d6e50(0x1e6)],'skipSessionName':_0x10b0d6[_0x3d6e50(0x1dc)]['testContextOptions']['skipSessionName'],'skipSessionStatus':_0x10b0d6['config']['testContextOptions'][_0x3d6e50(0x1d3)],'turboScaleUrl':_0x10b0d6[_0x3d6e50(0x1dc)][_0x3d6e50(0x1f6)]},_0x4842c6=process['argv'],[_0xc6219b,_0x1f6189]=helper[_0x3d6e50(0x1ff)](_0x4842c6),_0x13ac62=path[_0x3d6e50(0x220)](process[_0x3d6e50(0x1e0)](),_0x400beb['qURpf']);if(_0x400beb[_0x3d6e50(0x1bd)](_0x1f6189['length'],0x0)){helper[_0x3d6e50(0x21c)](_0x13ac62);for(let _0x23ef99=_0x400beb[_0x3d6e50(0x20c)](_0xc6219b[_0x3d6e50(0x1d1)],0x1);_0x400beb[_0x3d6e50(0x1f4)](_0x23ef99,0x0);_0x23ef99--){_0x4842c6[_0x3d6e50(0x20d)](_0xc6219b[_0x23ef99],0x2);}}_0x400beb[_0x3d6e50(0x1c6)](_0x10b0d6[_0x3d6e50(0x1dc)][_0x3d6e50(0x219)],null)?process[_0x3d6e50(0x1de)][_0x3d6e50(0x1e2)]=_0x10b0d6[_0x3d6e50(0x1dc)][_0x3d6e50(0x219)]:process['env']['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x400beb[_0x3d6e50(0x1c1)];PerformanceTester[_0x3d6e50(0x20a)](PerformanceEvents['SDK_SETUP']);let _0x2dfe0c;_0x400beb['LMQwz'](parallelCucumberRun,_0x95c8b3,_0x325387,_0x10b0d6[_0x3d6e50(0x1dc)],_0x4842c6,_0x1f6189)[_0x3d6e50(0x1f9)](async _0x40b852=>{const _0x1191c3=_0x3d6e50;PerformanceTester[_0x1191c3(0x1c2)](PerformanceEvents['SDK_CLEANUP']),_0x2dfe0c=_0x40b852;const _0x2d7bfe=_0x400beb[_0x1191c3(0x1d2)](printCucumberStats,_0x40b852);process['exitCode']=_0x2d7bfe,_0x400beb['thUkw'](_0x1f6189[_0x1191c3(0x1d1)],0x0)&&(logger[_0x1191c3(0x1c7)](_0x400beb[_0x1191c3(0x20f)]),helper[_0x1191c3(0x1d0)](_0x13ac62,_0x1f6189),logger['debug'](_0x400beb[_0x1191c3(0x1b1)]),helper['removeDir'](_0x13ac62));})[_0x3d6e50(0x1c0)](async()=>{const _0x5d6781=_0x3d6e50;PerformanceTester[_0x5d6781(0x1c2)](PerformanceEvents[_0x5d6781(0x21d)]),_0x10b0d6[_0x5d6781(0x1dd)]=helper[_0x5d6781(0x222)](_0x2dfe0c,_0x400beb[_0x5d6781(0x1f7)]),testOpsHelper[_0x5d6781(0x1cc)]();try{await TestHubHandler[_0x5d6781(0x1df)]();}catch(_0x2021a6){logger[_0x5d6781(0x1c7)](_0x5d6781(0x1ad)+util['format'](_0x2021a6));}try{const {browserstackFolderPath:_0x4e2be2,tcgConfigPath:_0x56a348}=helper[_0x5d6781(0x1b7)]();fs[_0x5d6781(0x1e4)](_0x56a348),fs[_0x5d6781(0x1bf)](_0x4e2be2);}catch(_0x5efa6b){logger[_0x5d6781(0x1c7)](_0x400beb['lUfjA'],_0x5efa6b);}await utilities[_0x5d6781(0x1ac)](_0x10b0d6);});}module[a5_0x11ab1b(0x204)]=run;function a5_0x820d(){const _0x5b1483=['getPlatformName','880190zQiRSm','mergeOutputFiles','length','fmXSI','skipSessionStatus','log','FLewD','tgQio','yellow','error\x20removing\x20tcg\x20config\x20file','forEach','2596710uvYTTb','setupTCGAuth','config','errorMessage','env','stop','cwd','WMuHJ','BROWSERSTACK_TEST_OBSERVABILITY_YML','pFyZm','unlinkSync','stepsPassed','logLevel','nIVPa','../../helpers/logger','\x20failed','winstonLogger','cucumber','setUserConfigPath','util','36UElNvB','sGytx','stepsPending','236932weaNGP','75XkAgsH','\x20undefined','sACxY','igkXB','turboScaleUrl','BeVIL','launchBuild','then','initialize','CUCUMBER','EVENTS','push','eRXfF','parseFormatters','ppCRZ','\x20pending','scenarios','getUserWorkerCount','exports','22146971QYjnbo','FRAMEWORKS','scenariosFailed','QxREH','../../helpers/helper','end','64317orWNyh','javjD','splice','../../helpers/performance/constants','FYDjK','\x20scenarios','Removing\x20tmp\x20directory\x20created\x20for\x20reports','cueLg','accessibilityOptions','70312yqvCZl','stepsSkipped','isUndefined','\x20steps','getHubUrl','testObservability','stringify','stepsUndefined','createDir','SDK_CLEANUP','Generating\x20consolidated\x20report...','steps','join','proxySettings','getErrorMessageFromResults','../utils/constants','518fxwfyH','finalExecution','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','green','oOcqS','stepsUnknown','wgOMf','../test-runner','2oLSZTt','handleApp','****\x20RESULTS\x20****','xGrdk','getTCGConfigFilePaths','\x20skipped','stepsAmbiguous','tmp','\x20passed','../../helpers/performance/performance-tester','thUkw','red','rmdirSync','finally','ItXhl','start','processSuccess','80479HTZusO','FcZdX','BVfCk','debug','parallelsPerPlatform','../../helpers/BrowserStackSetup','bold','../../helpers/testhub/testhubHandler','printBuildLink','bgWhite'];a5_0x820d=function(){return _0x5b1483;};return a5_0x820d();}