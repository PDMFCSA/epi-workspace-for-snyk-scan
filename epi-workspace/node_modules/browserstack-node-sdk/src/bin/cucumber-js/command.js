#!/usr/bin/env node
'use strict';const a5_0x448adf=a5_0x119b;(function(_0x35c2fd,_0x1eb86){const _0x198ccf=a5_0x119b,_0x2bae72=_0x35c2fd();while(!![]){try{const _0x4361c9=parseInt(_0x198ccf(0x186))/0x1*(-parseInt(_0x198ccf(0x1cb))/0x2)+parseInt(_0x198ccf(0x1c2))/0x3+-parseInt(_0x198ccf(0x1c0))/0x4*(-parseInt(_0x198ccf(0x1cd))/0x5)+parseInt(_0x198ccf(0x1c9))/0x6+parseInt(_0x198ccf(0x199))/0x7+-parseInt(_0x198ccf(0x1a9))/0x8+parseInt(_0x198ccf(0x1c5))/0x9*(-parseInt(_0x198ccf(0x193))/0xa);if(_0x4361c9===_0x1eb86)break;else _0x2bae72['push'](_0x2bae72['shift']());}catch(_0x491010){_0x2bae72['push'](_0x2bae72['shift']());}}}(a5_0x1d36,0xbbeb1));function a5_0x1d36(){const _0x29baff=['****\x20RESULTS\x20****','617139mnpNir','mZVCJ','lxrTY','1013499wAruFN','testObservability','vsAag','error\x20removing\x20tcg\x20config\x20file','89310RjTusP','start','1686ivjAgW','testContextOptions','420tjLeyP','\x20steps','errorMessage','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','bupCy','\x20skipped','cpznR','eYJkv','utwUx','kasBI','splice','SDK_SETUP','accessibilityOptions','mCmfN','cyan','length','PlxTh','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','debug','exports','env','mrSQv','argv','FRAMEWORKS','gYdNH','then','isBrowserstackInfra','bold','parallelsPerPlatform','stepsFailed','setupTCGAuth','uNATL','log','mUDam','setUserConfigPath','useW3C','OOITK','prepareCapabilities','../../helpers/utilities','\x20failed','\x20undefined','proxySettings','stringify','initialize','../test-runner','\x20ambiguous','590GancbQ','turboScaleUrl','printBuildLink','GfbBe','KZBUC','tVcBS','stepsUndefined','cucumber','nEzyY','CUCUMBER','scenarios','Generating\x20consolidated\x20report...','stepsSkipped','10kCexvm','end','DqnEr','join','bGsbx','qVCEi','6383496Umkuza','mergeOutputFiles','qyxJu','unlinkSync','../../helpers/testhub/testhubHandler','red','push','chalk','parseFormatters','createDir','rmdirSync','finalExecution','yellow','scenariosFailed','BROWSERSTACK_TEST_OBSERVABILITY_YML','format','8892928HeZRMJ','Removing\x20tmp\x20directory\x20created\x20for\x20reports','config','getHubUrl','../../helpers/helper','\x20passed','handleApp','green','../../helpers/logger','exitCode','../../helpers/performance/constants','SDK_CLEANUP','getUserWorkerCount','\x20scenarios','getErrorMessageFromResults','finally','ruPac','winstonLogger','rznkp','processSuccess','steps','logLevel','EVENTS','64704cLbjLC'];a5_0x1d36=function(){return _0x29baff;};return a5_0x1d36();}const fs=require('fs'),path=require('path'),util=require('util'),logger=require(a5_0x448adf(0x1b1))[a5_0x448adf(0x1ba)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a5_0x448adf(0x1ad)),utilities=require(a5_0x448adf(0x17e)),constants=require('../utils/constants'),{parallelCucumberRun}=require(a5_0x448adf(0x184)),TestHubHandler=require(a5_0x448adf(0x19d)),testOpsHelper=require('../../helpers/test-observability/utils'),chalk=require(a5_0x448adf(0x1a0)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a5_0x448adf(0x1b3))[a5_0x448adf(0x1bf)];function a5_0x119b(_0x6548eb,_0x1350e9){const _0x1d360e=a5_0x1d36();return a5_0x119b=function(_0x119bff,_0x622859){_0x119bff=_0x119bff-0x177;let _0x2b018e=_0x1d360e[_0x119bff];return _0x2b018e;},a5_0x119b(_0x6548eb,_0x1350e9);}function printCucumberStats(_0x5ba9a8){const _0x4328cf=a5_0x448adf,_0x21f349={};_0x21f349[_0x4328cf(0x1e5)]=function(_0x58fc35,_0x4dd283){return _0x58fc35>_0x4dd283;},_0x21f349[_0x4328cf(0x1b9)]=function(_0x28d3c3,_0x1b8ac5){return _0x28d3c3-_0x1b8ac5;},_0x21f349[_0x4328cf(0x1e2)]=function(_0x4fb28c,_0x55a046){return _0x4fb28c-_0x55a046;},_0x21f349[_0x4328cf(0x195)]=function(_0x511ca6,_0x42d832){return _0x511ca6>_0x42d832;},_0x21f349[_0x4328cf(0x1d4)]=function(_0x4e9a21,_0x177dc4){return _0x4e9a21>_0x177dc4;},_0x21f349[_0x4328cf(0x1d5)]=function(_0x29c7d1,_0x43a62f){return _0x29c7d1>_0x43a62f;},_0x21f349['KZBUC']=function(_0x13e507,_0x22aa32){return _0x13e507>_0x22aa32;},_0x21f349[_0x4328cf(0x179)]=function(_0x389686,_0x29bda9){return _0x389686>_0x29bda9;},_0x21f349[_0x4328cf(0x1dd)]=function(_0x287c2a,_0x28a2f9){return _0x287c2a>_0x28a2f9;},_0x21f349['tVcBS']=function(_0x4c39ce,_0x29b0e6){return _0x4c39ce+_0x29b0e6;},_0x21f349[_0x4328cf(0x1bb)]=function(_0x2d8a1a,_0x14df4e){return _0x2d8a1a+_0x14df4e;},_0x21f349[_0x4328cf(0x19b)]=function(_0x1e4b82,_0x1882b3){return _0x1e4b82+_0x1882b3;},_0x21f349[_0x4328cf(0x1d6)]=function(_0xef2ba3,_0x217afe){return _0xef2ba3+_0x217afe;},_0x21f349['GfbBe']=function(_0x43c1f8,_0x4b8511){return _0x43c1f8+_0x4b8511;},_0x21f349[_0x4328cf(0x1da)]=function(_0x486558,_0x2f43e1){return _0x486558===_0x2f43e1;},_0x21f349[_0x4328cf(0x1c7)]=function(_0x2b9ec7,_0x175841){return _0x2b9ec7===_0x175841;},_0x21f349['uNATL']=_0x4328cf(0x1c1);const _0x3db101=_0x21f349;let _0x44b961=0x0;if(_0x3db101[_0x4328cf(0x1c7)](_0x5ba9a8['length'],0x0))return _0x44b961;return console[_0x4328cf(0x178)](chalk['bold']['bgWhite'](_0x3db101[_0x4328cf(0x177)])),_0x5ba9a8['forEach'](_0x4a4bfa=>{const _0x300f94=_0x4328cf,_0x537dda=_0x4a4bfa[0x0],_0x51537b=_0x4a4bfa[0x1];console[_0x300f94(0x178)]('\x0a'+chalk['bold']['yellow'](''+helper['getPlatformName'](_0x537dda)));const _0x1de8fb=_0x51537b[_0x300f94(0x190)],_0x9d9948=_0x51537b[_0x300f94(0x1bd)],_0x16375f=_0x51537b[_0x300f94(0x1a6)],_0x205728=_0x51537b[_0x300f94(0x1ea)],_0x18cb0f=_0x51537b['stepsPassed'],_0x42201f=_0x51537b[_0x300f94(0x192)],_0x5e2285=_0x51537b['stepsPending'],_0x13837a=_0x51537b[_0x300f94(0x18c)],_0xb742c2=_0x51537b['stepsUnknown'],_0x4e20e6=_0x51537b['stepsAmbiguous'],_0x47b955=_0x51537b[_0x300f94(0x1bc)];let _0x4b5ef1=_0x1de8fb+_0x300f94(0x1b6);const _0x6a845c=_0x3db101[_0x300f94(0x1e5)](_0x3db101[_0x300f94(0x1b9)](_0x1de8fb,_0x16375f),0x0)?_0x3db101[_0x300f94(0x1e2)](_0x1de8fb,_0x16375f):0x0;if(_0x3db101['gYdNH'](_0x16375f,0x0)&&_0x3db101[_0x300f94(0x195)](_0x6a845c,0x0))_0x4b5ef1+='\x20('+chalk['bold'][_0x300f94(0x19e)](_0x16375f+_0x300f94(0x17f))+',\x20'+chalk['bold'][_0x300f94(0x1b0)](_0x6a845c+_0x300f94(0x1ae))+')';else(_0x3db101[_0x300f94(0x195)](_0x16375f,0x0)||_0x3db101[_0x300f94(0x1e5)](_0x6a845c,0x0))&&(_0x4b5ef1+=_0x3db101[_0x300f94(0x1d4)](_0x16375f,0x0)?'\x20('+chalk[_0x300f94(0x1e8)][_0x300f94(0x19e)](_0x16375f+_0x300f94(0x17f))+')':'\x20('+chalk[_0x300f94(0x1e8)][_0x300f94(0x1b0)](_0x6a845c+_0x300f94(0x1ae))+')');const _0x5279c2=_0x9d9948+_0x300f94(0x1ce),_0x47920e=[];_0x3db101[_0x300f94(0x1e5)](_0x4e20e6,0x0)&&_0x47920e[_0x300f94(0x19f)](''+chalk[_0x300f94(0x1e8)][_0x300f94(0x19e)](_0x4e20e6+_0x300f94(0x185)));_0x3db101['utwUx'](_0x205728,0x0)&&_0x47920e['push'](''+chalk[_0x300f94(0x1e8)][_0x300f94(0x19e)](_0x205728+_0x300f94(0x17f)));_0x3db101[_0x300f94(0x1d5)](_0x18cb0f,0x0)&&_0x47920e['push'](''+chalk['bold'][_0x300f94(0x1b0)](_0x18cb0f+_0x300f94(0x1ae)));_0x3db101[_0x300f94(0x18a)](_0x5e2285,0x0)&&_0x47920e[_0x300f94(0x19f)](''+chalk[_0x300f94(0x1e8)][_0x300f94(0x1a5)](_0x5e2285+'\x20pending'));_0x3db101[_0x300f94(0x179)](_0x42201f,0x0)&&_0x47920e[_0x300f94(0x19f)](''+chalk['bold'][_0x300f94(0x1db)](_0x42201f+_0x300f94(0x1d2)));_0x3db101['DqnEr'](_0x13837a,0x0)&&_0x47920e[_0x300f94(0x19f)](''+chalk[_0x300f94(0x1e8)]['yellow'](_0x13837a+_0x300f94(0x180)));_0x3db101['PlxTh'](_0xb742c2,0x0)&&_0x47920e[_0x300f94(0x19f)](''+chalk['bold']['yellow'](_0xb742c2+'\x20skipped'));const _0x5bcc56=_0x3db101[_0x300f94(0x18b)](_0x3db101['rznkp'](_0x3db101[_0x300f94(0x19b)](_0x5279c2,'('),_0x47920e[_0x300f94(0x196)](',\x20')),')');console[_0x300f94(0x178)](_0x3db101[_0x300f94(0x1d6)](_0x3db101['tVcBS'](_0x3db101[_0x300f94(0x189)](_0x3db101[_0x300f94(0x18b)]('\x0a',_0x4b5ef1),'\x0a'),_0x5bcc56),'\x0a')),_0x3db101[_0x300f94(0x1da)](_0x47b955,![])&&(_0x44b961=0x1);}),_0x44b961;}async function run(_0xfc728c,_0x1d1af8,_0x3121cd){const _0x470a7b=a5_0x448adf,_0x46f9b9={'bupCy':function(_0x5776e9,_0x3d2754){return _0x5776e9(_0x3d2754);},'cpznR':function(_0x1e61e9,_0x2d65d3){return _0x1e61e9>_0x2d65d3;},'vZCnY':_0x470a7b(0x191),'bGsbx':_0x470a7b(0x1aa),'mZVCJ':_0x470a7b(0x18d),'vbWwA':_0x470a7b(0x1c8),'CRClK':'tmp','OOITK':function(_0x2c6144,_0x46a47f){return _0x2c6144>_0x46a47f;},'fgIHl':function(_0x1ff404,_0x221075){return _0x1ff404-_0x221075;},'lxrTY':function(_0x13379a,_0x547f0b){return _0x13379a>=_0x547f0b;},'nEzyY':function(_0x362e22,_0x3bb0a6){return _0x362e22!=_0x3bb0a6;},'gBhls':'true','qVCEi':function(_0x12c0ed,_0x152fda,_0x4f7733,_0x326c68,_0x273be8,_0xec64d9){return _0x12c0ed(_0x152fda,_0x4f7733,_0x326c68,_0x273be8,_0xec64d9);}};await _0x3121cd[_0x470a7b(0x183)](_0xfc728c),helper[_0x470a7b(0x17a)](_0x3121cd['framework'],_0xfc728c);!helper[_0x470a7b(0x1e7)]()&&await _0x3121cd[_0x470a7b(0x1eb)]();await helper[_0x470a7b(0x1af)](_0x3121cd[_0x470a7b(0x1ab)]);const _0x3ec157=helper[_0x470a7b(0x17b)](_0x3121cd['config']);!helper['isUndefined'](_0x3121cd[_0x470a7b(0x1ab)][_0x470a7b(0x1d9)])&&(process['env'][_0x470a7b(0x1d0)]=JSON[_0x470a7b(0x182)](_0x3121cd[_0x470a7b(0x1ab)][_0x470a7b(0x1d9)]));const _0x296579=await TestHubHandler['launchBuild'](constants['FRAMEWORKS']['CUCUMBER'],_0x3121cd),_0x1a2e84=helper[_0x470a7b(0x17d)](_0x3121cd[_0x470a7b(0x1ab)],_0x3ec157,constants[_0x470a7b(0x1e4)][_0x470a7b(0x18f)]);if(!_0x3121cd[_0x470a7b(0x1ab)])return;const _0x6fa639=_0x3121cd['config'][_0x470a7b(0x1e9)]||helper[_0x470a7b(0x1b5)](_0xfc728c,_0x1d1af8,_0x3121cd['config'],constants[_0x470a7b(0x1e4)][_0x470a7b(0x18f)])||0x1,_0x572c72={'server':helper[_0x470a7b(0x1ac)](_0x3121cd[_0x470a7b(0x1ab)]),'proxySettings':_0x3121cd[_0x470a7b(0x1ab)][_0x470a7b(0x181)],'maxWorkers':_0x6fa639,'browserStackLogLevel':_0x3121cd[_0x470a7b(0x1ab)][_0x470a7b(0x1be)],'skipSessionName':_0x3121cd[_0x470a7b(0x1ab)]['testContextOptions']['skipSessionName'],'skipSessionStatus':_0x3121cd[_0x470a7b(0x1ab)][_0x470a7b(0x1cc)]['skipSessionStatus'],'turboScaleUrl':_0x3121cd['config'][_0x470a7b(0x187)]},_0x2c0c51=process[_0x470a7b(0x1e3)],[_0x582b77,_0x2cc565]=helper[_0x470a7b(0x1a1)](_0x2c0c51),_0x400a8c=path[_0x470a7b(0x196)](process['cwd'](),_0x46f9b9['CRClK']);if(_0x46f9b9[_0x470a7b(0x17c)](_0x2cc565[_0x470a7b(0x1dc)],0x0)){helper[_0x470a7b(0x1a2)](_0x400a8c);for(let _0x268bbc=_0x46f9b9['fgIHl'](_0x582b77['length'],0x1);_0x46f9b9[_0x470a7b(0x1c4)](_0x268bbc,0x0);_0x268bbc--){_0x2c0c51[_0x470a7b(0x1d7)](_0x582b77[_0x268bbc],0x2);}}_0x46f9b9[_0x470a7b(0x18e)](_0x3121cd[_0x470a7b(0x1ab)][_0x470a7b(0x1c6)],null)?process[_0x470a7b(0x1e1)][_0x470a7b(0x1a7)]=_0x3121cd['config'][_0x470a7b(0x1c6)]:process['env'][_0x470a7b(0x1a7)]=_0x46f9b9['gBhls'];PerformanceTester[_0x470a7b(0x194)](PerformanceEvents[_0x470a7b(0x1d8)]);let _0x2938a1;_0x46f9b9[_0x470a7b(0x198)](parallelCucumberRun,_0x1a2e84,_0x572c72,_0x3121cd['config'],_0x2c0c51,_0x2cc565)[_0x470a7b(0x1e6)](async _0x2d3158=>{const _0x174492=_0x470a7b;PerformanceTester[_0x174492(0x1ca)](PerformanceEvents[_0x174492(0x1b4)]),_0x2938a1=_0x2d3158;const _0x34494e=_0x46f9b9[_0x174492(0x1d1)](printCucumberStats,_0x2d3158);process[_0x174492(0x1b2)]=_0x34494e,_0x46f9b9[_0x174492(0x1d3)](_0x2cc565['length'],0x0)&&(logger[_0x174492(0x1df)](_0x46f9b9['vZCnY']),helper[_0x174492(0x19a)](_0x400a8c,_0x2cc565),logger[_0x174492(0x1df)](_0x46f9b9[_0x174492(0x197)]),helper['removeDir'](_0x400a8c));})[_0x470a7b(0x1b8)](async()=>{const _0x1e24d1=_0x470a7b;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']),_0x3121cd[_0x1e24d1(0x1cf)]=helper[_0x1e24d1(0x1b7)](_0x2938a1,_0x46f9b9[_0x1e24d1(0x1c3)]),testOpsHelper[_0x1e24d1(0x188)]();try{await TestHubHandler['stop']();}catch(_0x4bb6ba){logger[_0x1e24d1(0x1df)](_0x1e24d1(0x1de)+util[_0x1e24d1(0x1a8)](_0x4bb6ba));}try{const {browserstackFolderPath:_0x407be1,tcgConfigPath:_0x55d6cd}=helper['getTCGConfigFilePaths']();fs[_0x1e24d1(0x19c)](_0x55d6cd),fs[_0x1e24d1(0x1a3)](_0x407be1);}catch(_0x392a91){logger[_0x1e24d1(0x1df)](_0x46f9b9['vbWwA'],_0x392a91);}await utilities[_0x1e24d1(0x1a4)](_0x3121cd);});}module[a5_0x448adf(0x1e0)]=run;