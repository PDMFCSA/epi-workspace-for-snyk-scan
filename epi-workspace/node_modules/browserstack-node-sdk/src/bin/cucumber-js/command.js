#!/usr/bin/env node
'use strict';const a5_0x59a010=a5_0x2e2a;(function(_0x5e58a7,_0x1deeeb){const _0x4044e9=a5_0x2e2a,_0x37262d=_0x5e58a7();while(!![]){try{const _0xc06016=-parseInt(_0x4044e9(0x213))/0x1+parseInt(_0x4044e9(0x243))/0x2+-parseInt(_0x4044e9(0x25e))/0x3+parseInt(_0x4044e9(0x225))/0x4+parseInt(_0x4044e9(0x23d))/0x5+parseInt(_0x4044e9(0x20f))/0x6*(parseInt(_0x4044e9(0x26b))/0x7)+parseInt(_0x4044e9(0x258))/0x8;if(_0xc06016===_0x1deeeb)break;else _0x37262d['push'](_0x37262d['shift']());}catch(_0x575f2a){_0x37262d['push'](_0x37262d['shift']());}}}(a5_0x5848,0x26b27));function a5_0x2e2a(_0x19d1ef,_0x2975a2){const _0x5848c6=a5_0x5848();return a5_0x2e2a=function(_0x2e2a83,_0x183f6b){_0x2e2a83=_0x2e2a83-0x1f2;let _0x1c52b0=_0x5848c6[_0x2e2a83];return _0x1c52b0;},a5_0x2e2a(_0x19d1ef,_0x2975a2);}const fs=require('fs'),path=require('path'),util=require(a5_0x59a010(0x26c)),logger=require(a5_0x59a010(0x269))['winstonLogger'],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a5_0x59a010(0x23a)),utilities=require(a5_0x59a010(0x25c)),constants=require(a5_0x59a010(0x260)),{parallelCucumberRun}=require('../test-runner'),TestHubHandler=require(a5_0x59a010(0x222)),testOpsHelper=require(a5_0x59a010(0x246)),chalk=require(a5_0x59a010(0x221)),PerformanceTester=require(a5_0x59a010(0x271)),PerformanceEvents=require(a5_0x59a010(0x1f4))[a5_0x59a010(0x1fd)];function a5_0x5848(){const _0x5682bf=['../../helpers/testhub/testhubHandler','\x20undefined','\x20skipped','204280qNYTxa','push','NZJgu','zNVPA','UUODI','length','stepsAmbiguous','yellow','parseFormatters','assign','parallelsPerPlatform','join','exitCode','\x20steps','PMGfY','isUndefined','QSMqB','getTCGConfigFilePaths','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','hFuni','setUserConfigPath','../../helpers/helper','bold','bgWhite','103185VNZUef','whiPp','sZPoA','BROWSERSTACK_TEST_OBSERVABILITY_YML','log','Generating\x20consolidated\x20report...','247858HXEvsW','platforms','\x20passed','../../helpers/test-observability/utils','config','argv','\x20failed','tmp','launchBuild','steps','isBrowserstackInfra','exports','getErrorMessageFromResults','proxySettings','PeSYS','EcbWA','then','skipSessionName','RnWtR','ZHTRK','errorMessage','3387376rLNOPj','splice','Removing\x20tmp\x20directory\x20created\x20for\x20reports','printBuildLink','../../helpers/utilities','\x20scenarios','938949izDBHW','getHubUrl','../utils/constants','handleApp','env','testObservability','uqnat','start','scenariosFailed','\x20pending','unlinkSync','../../helpers/logger','stepsPassed','377356wiBeMI','util','MtjDu','stepsUndefined','scenarios','green','../../helpers/performance/performance-tester','getPlatformName','accessibilityOptions','../../helpers/performance/constants','initialize','oZWPV','error\x20removing\x20tcg\x20config\x20file','CUCUMBER','red','finalExecution','turboScaleUrl','setupTCGAuth','EVENTS','end','stop','****\x20RESULTS\x20****','format','mergeOutputFiles','sgJnW','processSuccess','cucumber','xnDUV','FRAMEWORKS','forEach','removeDir','\x20ambiguous','MoQeq','useW3C','stepsFailed','SDK_CLEANUP','12MKMRZq','stepsUnknown','SDK_SETUP','TEwSb','255388uTHlck','VBEVZ','tOnxV','FcKNy','prepareCapabilities','true','createDir','cyan','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','eHsgQ','nlGTA','getUserWorkerCount','debug','UAXIX','chalk'];a5_0x5848=function(){return _0x5682bf;};return a5_0x5848();}function printCucumberStats(_0x4ac2dd){const _0x5dbed2=a5_0x59a010,_0x2f6bfb={};_0x2f6bfb[_0x5dbed2(0x21d)]=function(_0x531b70,_0x5e66dc){return _0x531b70>_0x5e66dc;},_0x2f6bfb[_0x5dbed2(0x206)]=function(_0x362ef4,_0x469bbc){return _0x362ef4-_0x469bbc;},_0x2f6bfb[_0x5dbed2(0x238)]=function(_0x53a31d,_0x81bf09){return _0x53a31d-_0x81bf09;},_0x2f6bfb[_0x5dbed2(0x214)]=function(_0x3c4630,_0x59223d){return _0x3c4630>_0x59223d;},_0x2f6bfb['tOnxV']=function(_0x4ab0cc,_0x4ee8aa){return _0x4ab0cc>_0x4ee8aa;},_0x2f6bfb[_0x5dbed2(0x251)]=function(_0x3d6165,_0xd9cd9e){return _0x3d6165>_0xd9cd9e;},_0x2f6bfb[_0x5dbed2(0x256)]=function(_0x2d4035,_0x1b1e92){return _0x2d4035>_0x1b1e92;},_0x2f6bfb[_0x5dbed2(0x255)]=function(_0x4eb54e,_0x6b6cca){return _0x4eb54e>_0x6b6cca;},_0x2f6bfb[_0x5dbed2(0x220)]=function(_0x128695,_0x3f53cb){return _0x128695>_0x3f53cb;},_0x2f6bfb[_0x5dbed2(0x216)]=function(_0x53fa4a,_0x3fff52){return _0x53fa4a>_0x3fff52;},_0x2f6bfb[_0x5dbed2(0x203)]=function(_0x43412e,_0x5c538c){return _0x43412e>_0x5c538c;},_0x2f6bfb['UUODI']=function(_0x235a63,_0x1d3dec){return _0x235a63+_0x1d3dec;},_0x2f6bfb[_0x5dbed2(0x23e)]=function(_0x258b63,_0x44b3ae){return _0x258b63+_0x44b3ae;},_0x2f6bfb['QSMqB']=function(_0x328bab,_0x2bcf35){return _0x328bab+_0x2bcf35;},_0x2f6bfb['oZWPV']=function(_0x14ba9d,_0x2ebfb1){return _0x14ba9d===_0x2ebfb1;},_0x2f6bfb[_0x5dbed2(0x252)]=function(_0x4cf250,_0x18f8dc){return _0x4cf250===_0x18f8dc;},_0x2f6bfb[_0x5dbed2(0x233)]=_0x5dbed2(0x200);const _0x3ac62c=_0x2f6bfb;let _0xf98915=0x0;if(_0x3ac62c[_0x5dbed2(0x252)](_0x4ac2dd[_0x5dbed2(0x22a)],0x0))return _0xf98915;return console[_0x5dbed2(0x241)](chalk['bold'][_0x5dbed2(0x23c)](_0x3ac62c[_0x5dbed2(0x233)])),_0x4ac2dd[_0x5dbed2(0x208)](_0x1e3c6f=>{const _0x588603=_0x5dbed2,_0x3770c2=_0x1e3c6f[0x0],_0x500555=_0x1e3c6f[0x1];helper[_0x588603(0x24d)]()&&console[_0x588603(0x241)]('\x0a'+chalk['bold'][_0x588603(0x22c)](''+helper[_0x588603(0x1f2)](_0x3770c2)));const _0x276151=_0x500555[_0x588603(0x26f)],_0x532652=_0x500555[_0x588603(0x24c)],_0x52c6ae=_0x500555[_0x588603(0x266)],_0x2a2546=_0x500555[_0x588603(0x20d)],_0x10940a=_0x500555[_0x588603(0x26a)],_0x71dc87=_0x500555['stepsSkipped'],_0x5500ac=_0x500555['stepsPending'],_0x7f1083=_0x500555[_0x588603(0x26e)],_0x403365=_0x500555[_0x588603(0x210)],_0x52327c=_0x500555[_0x588603(0x22b)],_0x43e979=_0x500555[_0x588603(0x204)];let _0x3303a8=_0x276151+_0x588603(0x25d);const _0x5e7b3e=_0x3ac62c['nlGTA'](_0x3ac62c['xnDUV'](_0x276151,_0x52c6ae),0x0)?_0x3ac62c['hFuni'](_0x276151,_0x52c6ae):0x0;if(_0x3ac62c[_0x588603(0x214)](_0x52c6ae,0x0)&&_0x3ac62c[_0x588603(0x21d)](_0x5e7b3e,0x0))_0x3303a8+='\x20('+chalk[_0x588603(0x23b)][_0x588603(0x1f9)](_0x52c6ae+_0x588603(0x249))+',\x20'+chalk[_0x588603(0x23b)][_0x588603(0x270)](_0x5e7b3e+'\x20passed')+')';else(_0x3ac62c[_0x588603(0x214)](_0x52c6ae,0x0)||_0x3ac62c[_0x588603(0x215)](_0x5e7b3e,0x0))&&(_0x3303a8+=_0x3ac62c['PeSYS'](_0x52c6ae,0x0)?'\x20('+chalk[_0x588603(0x23b)][_0x588603(0x1f9)](_0x52c6ae+_0x588603(0x249))+')':'\x20('+chalk['bold'][_0x588603(0x270)](_0x5e7b3e+_0x588603(0x245))+')');const _0x91649b=_0x532652+_0x588603(0x232),_0x2daa8a=[];_0x3ac62c['ZHTRK'](_0x52327c,0x0)&&_0x2daa8a[_0x588603(0x226)](''+chalk[_0x588603(0x23b)][_0x588603(0x1f9)](_0x52327c+_0x588603(0x20a)));_0x3ac62c['RnWtR'](_0x2a2546,0x0)&&_0x2daa8a[_0x588603(0x226)](''+chalk[_0x588603(0x23b)]['red'](_0x2a2546+_0x588603(0x249)));_0x3ac62c[_0x588603(0x220)](_0x10940a,0x0)&&_0x2daa8a[_0x588603(0x226)](''+chalk[_0x588603(0x23b)][_0x588603(0x270)](_0x10940a+'\x20passed'));_0x3ac62c[_0x588603(0x215)](_0x5500ac,0x0)&&_0x2daa8a['push'](''+chalk[_0x588603(0x23b)]['yellow'](_0x5500ac+_0x588603(0x267)));_0x3ac62c[_0x588603(0x216)](_0x71dc87,0x0)&&_0x2daa8a[_0x588603(0x226)](''+chalk['bold'][_0x588603(0x21a)](_0x71dc87+_0x588603(0x224)));_0x3ac62c[_0x588603(0x255)](_0x7f1083,0x0)&&_0x2daa8a['push'](''+chalk['bold'][_0x588603(0x22c)](_0x7f1083+_0x588603(0x223)));_0x3ac62c['sgJnW'](_0x403365,0x0)&&_0x2daa8a[_0x588603(0x226)](''+chalk[_0x588603(0x23b)]['yellow'](_0x403365+_0x588603(0x224)));const _0x5831cc=_0x3ac62c[_0x588603(0x229)](_0x3ac62c[_0x588603(0x23e)](_0x3ac62c['UUODI'](_0x91649b,'('),_0x2daa8a[_0x588603(0x230)](',\x20')),')');console[_0x588603(0x241)](_0x3ac62c[_0x588603(0x23e)](_0x3ac62c['QSMqB'](_0x3ac62c[_0x588603(0x235)](_0x3ac62c[_0x588603(0x23e)]('\x0a',_0x3303a8),'\x0a'),_0x5831cc),'\x0a')),_0x3ac62c[_0x588603(0x1f6)](_0x43e979,![])&&(_0xf98915=0x1);}),_0xf98915;}async function run(_0x880005,_0x2419e5,_0x39a5e8){const _0x2b9971=a5_0x59a010,_0x46ce49={'VMfxO':function(_0x329f0c,_0x8c7865){return _0x329f0c(_0x8c7865);},'eHsgQ':function(_0x543f05,_0x2381cd){return _0x543f05>_0x2381cd;},'uqnat':_0x2b9971(0x242),'MtjDu':_0x2b9971(0x25a),'sZPoA':_0x2b9971(0x205),'MoQeq':_0x2b9971(0x1f7),'NZJgu':_0x2b9971(0x24a),'zNVPA':function(_0x364e62,_0x36f74e){return _0x364e62-_0x36f74e;},'BovQN':function(_0x305ae7,_0x26703d){return _0x305ae7>=_0x26703d;},'xdUsm':function(_0x94371a,_0xf057ff){return _0x94371a!=_0xf057ff;},'TEwSb':_0x2b9971(0x218),'avAdp':function(_0xba9577,_0x151c35,_0x4057da,_0x5c079c,_0x29b07c,_0x205968){return _0xba9577(_0x151c35,_0x4057da,_0x5c079c,_0x29b07c,_0x205968);}};await _0x39a5e8[_0x2b9971(0x1f5)](_0x880005),helper[_0x2b9971(0x239)](_0x39a5e8['framework'],_0x880005);!helper[_0x2b9971(0x24d)]()&&await _0x39a5e8[_0x2b9971(0x1fc)]();await helper[_0x2b9971(0x261)](_0x39a5e8[_0x2b9971(0x247)]);const _0x3399c4=helper[_0x2b9971(0x20c)](_0x39a5e8[_0x2b9971(0x247)]);!helper[_0x2b9971(0x234)](_0x39a5e8[_0x2b9971(0x247)][_0x2b9971(0x1f3)])&&(process[_0x2b9971(0x262)][_0x2b9971(0x237)]=JSON['stringify'](_0x39a5e8['config']['accessibilityOptions']));const _0x27bad3=await TestHubHandler[_0x2b9971(0x24b)](constants['FRAMEWORKS'][_0x2b9971(0x1f8)],_0x39a5e8);let _0x2fc226=[];if(!helper['isBrowserstackInfra']()){const _0x5a47f4={};_0x5a47f4[_0x2b9971(0x244)]=[],_0x2fc226=helper[_0x2b9971(0x217)](Object[_0x2b9971(0x22e)]({},_0x39a5e8[_0x2b9971(0x247)],_0x5a47f4),_0x3399c4,constants[_0x2b9971(0x207)][_0x2b9971(0x1f8)]);}else _0x2fc226=helper[_0x2b9971(0x217)](_0x39a5e8['config'],_0x3399c4,constants[_0x2b9971(0x207)]['CUCUMBER']);if(!_0x39a5e8[_0x2b9971(0x247)])return;const _0x149e5e=_0x39a5e8[_0x2b9971(0x247)][_0x2b9971(0x22f)]||helper[_0x2b9971(0x21e)](_0x880005,_0x2419e5,_0x39a5e8[_0x2b9971(0x247)],constants['FRAMEWORKS'][_0x2b9971(0x1f8)])||0x1,_0x48f48f={'server':helper[_0x2b9971(0x25f)](_0x39a5e8['config']),'proxySettings':_0x39a5e8['config'][_0x2b9971(0x250)],'maxWorkers':_0x149e5e,'browserStackLogLevel':_0x39a5e8[_0x2b9971(0x247)]['logLevel'],'skipSessionName':_0x39a5e8['config']['testContextOptions'][_0x2b9971(0x254)],'skipSessionStatus':_0x39a5e8['config']['testContextOptions']['skipSessionStatus'],'turboScaleUrl':_0x39a5e8[_0x2b9971(0x247)][_0x2b9971(0x1fb)]},_0x248708=process[_0x2b9971(0x248)],[_0x16c843,_0x36928d]=helper[_0x2b9971(0x22d)](_0x248708),_0x4dedf5=path['join'](process['cwd'](),_0x46ce49[_0x2b9971(0x227)]);if(_0x46ce49[_0x2b9971(0x21c)](_0x36928d[_0x2b9971(0x22a)],0x0)){helper[_0x2b9971(0x219)](_0x4dedf5);for(let _0x27c6cb=_0x46ce49[_0x2b9971(0x228)](_0x16c843[_0x2b9971(0x22a)],0x1);_0x46ce49['BovQN'](_0x27c6cb,0x0);_0x27c6cb--){_0x248708[_0x2b9971(0x259)](_0x16c843[_0x27c6cb],0x2);}}_0x46ce49['xdUsm'](_0x39a5e8['config'][_0x2b9971(0x263)],null)?process[_0x2b9971(0x262)][_0x2b9971(0x240)]=_0x39a5e8['config'][_0x2b9971(0x263)]:process[_0x2b9971(0x262)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x46ce49[_0x2b9971(0x212)];PerformanceTester[_0x2b9971(0x1fe)](PerformanceEvents[_0x2b9971(0x211)]);let _0x57bc13;_0x46ce49['avAdp'](parallelCucumberRun,_0x2fc226,_0x48f48f,_0x39a5e8[_0x2b9971(0x247)],_0x248708,_0x36928d)[_0x2b9971(0x253)](async _0x5161cb=>{const _0x2f45ec=_0x2b9971;PerformanceTester['start'](PerformanceEvents[_0x2f45ec(0x20e)]),_0x57bc13=_0x5161cb;const _0x4992f1=_0x46ce49['VMfxO'](printCucumberStats,_0x5161cb);process[_0x2f45ec(0x231)]=_0x4992f1,_0x46ce49['eHsgQ'](_0x36928d[_0x2f45ec(0x22a)],0x0)&&(logger[_0x2f45ec(0x21f)](_0x46ce49[_0x2f45ec(0x264)]),helper[_0x2f45ec(0x202)](_0x4dedf5,_0x36928d),logger['debug'](_0x46ce49[_0x2f45ec(0x26d)]),helper[_0x2f45ec(0x209)](_0x4dedf5));})['finally'](async()=>{const _0xa48c30=_0x2b9971;PerformanceTester[_0xa48c30(0x265)](PerformanceEvents[_0xa48c30(0x20e)]),_0x39a5e8[_0xa48c30(0x257)]=helper[_0xa48c30(0x24f)](_0x57bc13,_0x46ce49[_0xa48c30(0x23f)]),testOpsHelper[_0xa48c30(0x25b)]();try{await TestHubHandler[_0xa48c30(0x1ff)]();}catch(_0x5be8a3){logger[_0xa48c30(0x21f)](_0xa48c30(0x21b)+util[_0xa48c30(0x201)](_0x5be8a3));}try{const {browserstackFolderPath:_0x13e783,tcgConfigPath:_0x123af6}=helper[_0xa48c30(0x236)]();fs[_0xa48c30(0x268)](_0x123af6),fs['rmdirSync'](_0x13e783);}catch(_0x41e56a){logger[_0xa48c30(0x21f)](_0x46ce49[_0xa48c30(0x20b)],_0x41e56a);}await utilities[_0xa48c30(0x1fa)](_0x39a5e8);});}module[a5_0x59a010(0x24e)]=run;