#!/usr/bin/env node
'use strict';const a5_0x440ed2=a5_0x4cdb;(function(_0x5acc5e,_0x3c5521){const _0x1e4283=a5_0x4cdb,_0x40ba65=_0x5acc5e();while(!![]){try{const _0x6247b=-parseInt(_0x1e4283(0x13d))/0x1*(parseInt(_0x1e4283(0x151))/0x2)+parseInt(_0x1e4283(0x120))/0x3+parseInt(_0x1e4283(0x17f))/0x4*(parseInt(_0x1e4283(0x162))/0x5)+-parseInt(_0x1e4283(0x12e))/0x6*(-parseInt(_0x1e4283(0x18d))/0x7)+parseInt(_0x1e4283(0x13f))/0x8*(-parseInt(_0x1e4283(0x159))/0x9)+parseInt(_0x1e4283(0x122))/0xa*(-parseInt(_0x1e4283(0x193))/0xb)+parseInt(_0x1e4283(0x134))/0xc*(-parseInt(_0x1e4283(0x172))/0xd);if(_0x6247b===_0x3c5521)break;else _0x40ba65['push'](_0x40ba65['shift']());}catch(_0x14e5cc){_0x40ba65['push'](_0x40ba65['shift']());}}}(a5_0x131e,0x66518));function a5_0x4cdb(_0xf5c71f,_0x46dd36){const _0x131e98=a5_0x131e();return a5_0x4cdb=function(_0x4cdb3a,_0x3ebd66){_0x4cdb3a=_0x4cdb3a-0x11d;let _0x2e1a31=_0x131e98[_0x4cdb3a];return _0x2e1a31;},a5_0x4cdb(_0xf5c71f,_0x46dd36);}function a5_0x131e(){const _0x20978c=['path','cyan','../../helpers/test-observability/utils','parseFormatters','useW3C','HFRBV','chalk','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','stringify','handleApp','2CJdsAj','SDK_CLEANUP','DPXok','join','debug','****\x20RESULTS\x20****','ufreR','RbiWP','1753749iVNxsw','GzATR','dxLyT','proxySettings','util','voBIG','stepsFailed','then','yellow','10GyEtVy','\x20skipped','skipSessionStatus','QxCNS','\x20pending','uhuHy','scenarios','getErrorMessageFromResults','config','\x20steps','\x20undefined','stepsUndefined','avgef','parallelsPerPlatform','gRdOn','iTjVK','949HNtOSo','exitCode','platforms','isBrowserstackInfra','../test-runner','stepsPassed','bRJnl','forEach','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','green','../../helpers/helper','\x20failed','initialize','167372dvQywP','FRAMEWORKS','\x20passed','length','PQgwE','stepsSkipped','Flwwa','prepareCapabilities','getPlatformName','push','../utils/constants','logLevel','giycy','accessibilityOptions','2513QDqWzv','start','argv','printBuildLink','uUVtN','TIEKt','264kdxPAt','setUserConfigPath','framework','RqBMX','turboScaleUrl','red','log','\x20scenarios','exports','splice','finally','QcEQj','assign','2300529AvktJH','env','40170YbWUJd','getHubUrl','steps','stop','getTCGConfigFilePaths','testContextOptions','bold','../../helpers/BrowserStackSetup','rmdirSync','../../helpers/performance/performance-tester','SDK_SETUP','testObservability','11022vBDGUP','OMkBB','removeDir','\x20ambiguous','getUserWorkerCount','cwd','87252nCBBvS','../../helpers/logger','../../helpers/utilities','launchBuild','CUCUMBER','xZsZC','winstonLogger','../../helpers/testhub/testhubHandler','BROWSERSTACK_TEST_OBSERVABILITY_YML','74003EUKuYq','unlinkSync','16CTnRzi','FvXyr','stepsUnknown','isUndefined','stepsAmbiguous','cucumber','KggQN','createDir'];a5_0x131e=function(){return _0x20978c;};return a5_0x131e();}const fs=require('fs'),path=require(a5_0x440ed2(0x147)),util=require(a5_0x440ed2(0x15d)),logger=require(a5_0x440ed2(0x135))[a5_0x440ed2(0x13a)],{default:BrowserStackSetup}=require(a5_0x440ed2(0x129)),helper=require(a5_0x440ed2(0x17c)),utilities=require(a5_0x440ed2(0x136)),constants=require(a5_0x440ed2(0x189)),{parallelCucumberRun}=require(a5_0x440ed2(0x176)),TestHubHandler=require(a5_0x440ed2(0x13b)),testOpsHelper=require(a5_0x440ed2(0x149)),chalk=require(a5_0x440ed2(0x14d)),PerformanceTester=require(a5_0x440ed2(0x12b)),PerformanceEvents=require('../../helpers/performance/constants')['EVENTS'];function printCucumberStats(_0xc3c743){const _0x4701c6=a5_0x440ed2,_0x4cd2a2={};_0x4cd2a2[_0x4701c6(0x16e)]=function(_0x3f4fa8,_0x24fe81){return _0x3f4fa8>_0x24fe81;},_0x4cd2a2[_0x4701c6(0x171)]=function(_0x233468,_0x206bd2){return _0x233468-_0x206bd2;},_0x4cd2a2['zSFaL']=function(_0x4b4478,_0x5c9518){return _0x4b4478-_0x5c9518;},_0x4cd2a2[_0x4701c6(0x170)]=function(_0xdb5097,_0x4b94d0){return _0xdb5097>_0x4b94d0;},_0x4cd2a2[_0x4701c6(0x183)]=function(_0x2a1033,_0x16c2b9){return _0x2a1033>_0x16c2b9;},_0x4cd2a2[_0x4701c6(0x11e)]=function(_0xfbfa66,_0x201374){return _0xfbfa66>_0x201374;},_0x4cd2a2[_0x4701c6(0x12f)]=function(_0x4ae2a7,_0x2b5f9e){return _0x4ae2a7>_0x2b5f9e;},_0x4cd2a2[_0x4701c6(0x165)]=function(_0x2ec038,_0x1d08bd){return _0x2ec038>_0x1d08bd;},_0x4cd2a2['TIEKt']=function(_0x1ff763,_0x674a36){return _0x1ff763>_0x674a36;},_0x4cd2a2[_0x4701c6(0x15a)]=function(_0x5c507f,_0x2d641a){return _0x5c507f>_0x2d641a;},_0x4cd2a2['aypQh']=function(_0x5bb60d,_0x1b9f19){return _0x5bb60d>_0x1b9f19;},_0x4cd2a2[_0x4701c6(0x158)]=function(_0x199275,_0x3ced41){return _0x199275>_0x3ced41;},_0x4cd2a2['dxLyT']=function(_0x42bd32,_0x4d1784){return _0x42bd32+_0x4d1784;},_0x4cd2a2['FvXyr']=function(_0x15b282,_0x217ebf){return _0x15b282+_0x217ebf;},_0x4cd2a2[_0x4701c6(0x139)]=function(_0x343f06,_0x1779cc){return _0x343f06+_0x1779cc;},_0x4cd2a2['voBIG']=function(_0x346746,_0x31f2ed){return _0x346746===_0x31f2ed;},_0x4cd2a2[_0x4701c6(0x157)]=_0x4701c6(0x156);const _0x5adcc5=_0x4cd2a2;let _0x3de753=0x0;if(_0x5adcc5[_0x4701c6(0x15e)](_0xc3c743[_0x4701c6(0x182)],0x0))return _0x3de753;return console[_0x4701c6(0x199)](chalk[_0x4701c6(0x128)]['bgWhite'](_0x5adcc5[_0x4701c6(0x157)])),_0xc3c743[_0x4701c6(0x179)](_0x384953=>{const _0x59b19a=_0x4701c6,_0x347cf6=_0x384953[0x0],_0x111670=_0x384953[0x1];helper[_0x59b19a(0x175)]()&&console[_0x59b19a(0x199)]('\x0a'+chalk['bold'][_0x59b19a(0x161)](''+helper[_0x59b19a(0x187)](_0x347cf6)));const _0x537624=_0x111670[_0x59b19a(0x168)],_0x4b8a9e=_0x111670[_0x59b19a(0x124)],_0x53b3bd=_0x111670['scenariosFailed'],_0x471c61=_0x111670[_0x59b19a(0x15f)],_0x24cfce=_0x111670[_0x59b19a(0x177)],_0x2fa052=_0x111670[_0x59b19a(0x184)],_0x46935b=_0x111670['stepsPending'],_0x21c48e=_0x111670[_0x59b19a(0x16d)],_0x1e81a3=_0x111670[_0x59b19a(0x141)],_0x50f4a2=_0x111670[_0x59b19a(0x143)],_0x2292dc=_0x111670['processSuccess'];let _0x3337d8=_0x537624+_0x59b19a(0x19a);const _0x227fbd=_0x5adcc5['avgef'](_0x5adcc5[_0x59b19a(0x171)](_0x537624,_0x53b3bd),0x0)?_0x5adcc5['zSFaL'](_0x537624,_0x53b3bd):0x0;if(_0x5adcc5[_0x59b19a(0x170)](_0x53b3bd,0x0)&&_0x5adcc5[_0x59b19a(0x16e)](_0x227fbd,0x0))_0x3337d8+='\x20('+chalk[_0x59b19a(0x128)]['red'](_0x53b3bd+_0x59b19a(0x17d))+',\x20'+chalk[_0x59b19a(0x128)][_0x59b19a(0x17b)](_0x227fbd+_0x59b19a(0x181))+')';else(_0x5adcc5[_0x59b19a(0x183)](_0x53b3bd,0x0)||_0x5adcc5[_0x59b19a(0x11e)](_0x227fbd,0x0))&&(_0x3337d8+=_0x5adcc5[_0x59b19a(0x12f)](_0x53b3bd,0x0)?'\x20('+chalk[_0x59b19a(0x128)][_0x59b19a(0x198)](_0x53b3bd+'\x20failed')+')':'\x20('+chalk[_0x59b19a(0x128)][_0x59b19a(0x17b)](_0x227fbd+_0x59b19a(0x181))+')');const _0x1431f7=_0x4b8a9e+_0x59b19a(0x16b),_0x24906f=[];_0x5adcc5[_0x59b19a(0x11e)](_0x50f4a2,0x0)&&_0x24906f[_0x59b19a(0x188)](''+chalk[_0x59b19a(0x128)]['red'](_0x50f4a2+_0x59b19a(0x131)));_0x5adcc5[_0x59b19a(0x165)](_0x471c61,0x0)&&_0x24906f[_0x59b19a(0x188)](''+chalk[_0x59b19a(0x128)][_0x59b19a(0x198)](_0x471c61+'\x20failed'));_0x5adcc5[_0x59b19a(0x192)](_0x24cfce,0x0)&&_0x24906f[_0x59b19a(0x188)](''+chalk[_0x59b19a(0x128)][_0x59b19a(0x17b)](_0x24cfce+_0x59b19a(0x181)));_0x5adcc5[_0x59b19a(0x15a)](_0x46935b,0x0)&&_0x24906f['push'](''+chalk[_0x59b19a(0x128)][_0x59b19a(0x161)](_0x46935b+_0x59b19a(0x166)));_0x5adcc5['TIEKt'](_0x2fa052,0x0)&&_0x24906f['push'](''+chalk[_0x59b19a(0x128)][_0x59b19a(0x148)](_0x2fa052+'\x20skipped'));_0x5adcc5['aypQh'](_0x21c48e,0x0)&&_0x24906f['push'](''+chalk['bold'][_0x59b19a(0x161)](_0x21c48e+_0x59b19a(0x16c)));_0x5adcc5[_0x59b19a(0x158)](_0x1e81a3,0x0)&&_0x24906f['push'](''+chalk[_0x59b19a(0x128)][_0x59b19a(0x161)](_0x1e81a3+_0x59b19a(0x163)));const _0x452329=_0x5adcc5[_0x59b19a(0x15b)](_0x5adcc5[_0x59b19a(0x15b)](_0x5adcc5['dxLyT'](_0x1431f7,'('),_0x24906f[_0x59b19a(0x154)](',\x20')),')');console['log'](_0x5adcc5[_0x59b19a(0x15b)](_0x5adcc5[_0x59b19a(0x140)](_0x5adcc5['xZsZC'](_0x5adcc5[_0x59b19a(0x15b)]('\x0a',_0x3337d8),'\x0a'),_0x452329),'\x0a')),_0x5adcc5[_0x59b19a(0x15e)](_0x2292dc,![])&&(_0x3de753=0x1);}),_0x3de753;}async function run(_0x150d8d,_0x53bc83,_0xf3a5b6){const _0x2444bf=a5_0x440ed2,_0x4df9cd={'kpAHf':function(_0x25cf2c,_0x56899c){return _0x25cf2c(_0x56899c);},'uUVtN':function(_0x24ddde,_0x168bab){return _0x24ddde>_0x168bab;},'LkKWz':'Generating\x20consolidated\x20report...','giycy':'Removing\x20tmp\x20directory\x20created\x20for\x20reports','RqBMX':_0x2444bf(0x144),'DPXok':'error\x20removing\x20tcg\x20config\x20file','HFRBV':'tmp','yTaGH':function(_0x106eb4,_0x1354a2){return _0x106eb4>_0x1354a2;},'DJjgq':function(_0x25dcd7,_0x100ab5){return _0x25dcd7-_0x100ab5;},'uhuHy':function(_0x31689c,_0x5f1490){return _0x31689c>=_0x5f1490;},'Flwwa':function(_0x25a291,_0xbf93b){return _0x25a291!=_0xbf93b;},'KggQN':'true','bRJnl':function(_0x3219d5,_0x2d0edd,_0x102a48,_0x301877,_0x14dcf8,_0x5711d8){return _0x3219d5(_0x2d0edd,_0x102a48,_0x301877,_0x14dcf8,_0x5711d8);}};await _0xf3a5b6[_0x2444bf(0x17e)](_0x150d8d),helper[_0x2444bf(0x194)](_0xf3a5b6[_0x2444bf(0x195)],_0x150d8d);!helper[_0x2444bf(0x175)]()&&await _0xf3a5b6['setupTCGAuth']();await helper[_0x2444bf(0x150)](_0xf3a5b6[_0x2444bf(0x16a)]);const _0x21622b=helper[_0x2444bf(0x14b)](_0xf3a5b6[_0x2444bf(0x16a)]);!helper[_0x2444bf(0x142)](_0xf3a5b6['config'][_0x2444bf(0x18c)])&&(process[_0x2444bf(0x121)][_0x2444bf(0x14e)]=JSON[_0x2444bf(0x14f)](_0xf3a5b6['config']['accessibilityOptions']));const _0x226d40=await TestHubHandler[_0x2444bf(0x137)](constants[_0x2444bf(0x180)][_0x2444bf(0x138)],_0xf3a5b6);let _0x24f701=[];if(!helper[_0x2444bf(0x175)]()){const _0x333900={};_0x333900[_0x2444bf(0x174)]=[],_0x24f701=helper[_0x2444bf(0x186)](Object[_0x2444bf(0x11f)]({},_0xf3a5b6[_0x2444bf(0x16a)],_0x333900),_0x21622b,constants[_0x2444bf(0x180)][_0x2444bf(0x138)]);}else _0x24f701=helper[_0x2444bf(0x186)](_0xf3a5b6['config'],_0x21622b,constants[_0x2444bf(0x180)][_0x2444bf(0x138)]);if(!_0xf3a5b6[_0x2444bf(0x16a)])return;const _0x2cc32b=_0xf3a5b6[_0x2444bf(0x16a)][_0x2444bf(0x16f)]||helper[_0x2444bf(0x132)](_0x150d8d,_0x53bc83,_0xf3a5b6[_0x2444bf(0x16a)],constants['FRAMEWORKS'][_0x2444bf(0x138)])||0x1,_0x119017={'server':helper[_0x2444bf(0x123)](_0xf3a5b6[_0x2444bf(0x16a)]),'proxySettings':_0xf3a5b6[_0x2444bf(0x16a)][_0x2444bf(0x15c)],'maxWorkers':_0x2cc32b,'browserStackLogLevel':_0xf3a5b6[_0x2444bf(0x16a)][_0x2444bf(0x18a)],'skipSessionName':_0xf3a5b6['config'][_0x2444bf(0x127)]['skipSessionName'],'skipSessionStatus':_0xf3a5b6['config'][_0x2444bf(0x127)][_0x2444bf(0x164)],'turboScaleUrl':_0xf3a5b6[_0x2444bf(0x16a)][_0x2444bf(0x197)]},_0x42caf7=process[_0x2444bf(0x18f)],[_0x32bbbf,_0x58eaf2]=helper[_0x2444bf(0x14a)](_0x42caf7),_0x4c0fc5=path[_0x2444bf(0x154)](process[_0x2444bf(0x133)](),_0x4df9cd[_0x2444bf(0x14c)]);if(_0x4df9cd['yTaGH'](_0x58eaf2[_0x2444bf(0x182)],0x0)){helper[_0x2444bf(0x146)](_0x4c0fc5);for(let _0x3446cf=_0x4df9cd['DJjgq'](_0x32bbbf[_0x2444bf(0x182)],0x1);_0x4df9cd[_0x2444bf(0x167)](_0x3446cf,0x0);_0x3446cf--){_0x42caf7[_0x2444bf(0x19c)](_0x32bbbf[_0x3446cf],0x2);}}_0x4df9cd[_0x2444bf(0x185)](_0xf3a5b6[_0x2444bf(0x16a)]['testObservability'],null)?process[_0x2444bf(0x121)][_0x2444bf(0x13c)]=_0xf3a5b6[_0x2444bf(0x16a)][_0x2444bf(0x12d)]:process[_0x2444bf(0x121)][_0x2444bf(0x13c)]=_0x4df9cd[_0x2444bf(0x145)];PerformanceTester['end'](PerformanceEvents[_0x2444bf(0x12c)]);let _0x312993;_0x4df9cd[_0x2444bf(0x178)](parallelCucumberRun,_0x24f701,_0x119017,_0xf3a5b6['config'],_0x42caf7,_0x58eaf2)[_0x2444bf(0x160)](async _0x1b8f65=>{const _0x1c7b63=_0x2444bf;PerformanceTester[_0x1c7b63(0x18e)](PerformanceEvents[_0x1c7b63(0x152)]),_0x312993=_0x1b8f65;const _0x39e4e0=_0x4df9cd['kpAHf'](printCucumberStats,_0x1b8f65);process[_0x1c7b63(0x173)]=_0x39e4e0,_0x4df9cd[_0x1c7b63(0x191)](_0x58eaf2[_0x1c7b63(0x182)],0x0)&&(logger[_0x1c7b63(0x155)](_0x4df9cd['LkKWz']),helper['mergeOutputFiles'](_0x4c0fc5,_0x58eaf2),logger[_0x1c7b63(0x155)](_0x4df9cd[_0x1c7b63(0x18b)]),helper[_0x1c7b63(0x130)](_0x4c0fc5));})[_0x2444bf(0x11d)](async()=>{const _0x545601=_0x2444bf;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']),_0xf3a5b6['errorMessage']=helper[_0x545601(0x169)](_0x312993,_0x4df9cd[_0x545601(0x196)]),testOpsHelper[_0x545601(0x190)]();try{await TestHubHandler[_0x545601(0x125)]();}catch(_0x3b61aa){logger[_0x545601(0x155)](_0x545601(0x17a)+util['format'](_0x3b61aa));}try{const {browserstackFolderPath:_0xec7284,tcgConfigPath:_0x3d2a71}=helper[_0x545601(0x126)]();fs[_0x545601(0x13e)](_0x3d2a71),fs[_0x545601(0x12a)](_0xec7284);}catch(_0x13459b){logger[_0x545601(0x155)](_0x4df9cd[_0x545601(0x153)],_0x13459b);}await utilities['finalExecution'](_0xf3a5b6);});}module[a5_0x440ed2(0x19b)]=run;