#!/usr/bin/env node
'use strict';const a5_0x119ede=a5_0x666a;(function(_0x47007f,_0x2f1815){const _0x3c7205=a5_0x666a,_0x2aacd0=_0x47007f();while(!![]){try{const _0x2bb2dd=parseInt(_0x3c7205(0x1af))/0x1+parseInt(_0x3c7205(0x1a5))/0x2*(parseInt(_0x3c7205(0x1bb))/0x3)+parseInt(_0x3c7205(0x1de))/0x4+-parseInt(_0x3c7205(0x1eb))/0x5+-parseInt(_0x3c7205(0x1d5))/0x6*(parseInt(_0x3c7205(0x1dd))/0x7)+-parseInt(_0x3c7205(0x1c4))/0x8*(parseInt(_0x3c7205(0x1e0))/0x9)+-parseInt(_0x3c7205(0x188))/0xa;if(_0x2bb2dd===_0x2f1815)break;else _0x2aacd0['push'](_0x2aacd0['shift']());}catch(_0x217391){_0x2aacd0['push'](_0x2aacd0['shift']());}}}(a5_0x31e0,0x4d67e));const fs=require('fs'),path=require(a5_0x119ede(0x18d)),util=require(a5_0x119ede(0x1f3)),logger=require(a5_0x119ede(0x1ac))[a5_0x119ede(0x1b3)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a5_0x119ede(0x183)),utilities=require(a5_0x119ede(0x192)),constants=require(a5_0x119ede(0x197)),{parallelCucumberRun}=require(a5_0x119ede(0x19a)),TestHubHandler=require(a5_0x119ede(0x1c8)),testOpsHelper=require(a5_0x119ede(0x191)),chalk=require(a5_0x119ede(0x1b6)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a5_0x119ede(0x194))[a5_0x119ede(0x1f0)];function printCucumberStats(_0x5101a7){const _0xb09a4a=a5_0x119ede,_0x4ed080={};_0x4ed080[_0xb09a4a(0x1e8)]=function(_0x71db2c,_0x49caa6){return _0x71db2c>_0x49caa6;},_0x4ed080[_0xb09a4a(0x1f9)]=function(_0x56e947,_0x273cb1){return _0x56e947-_0x273cb1;},_0x4ed080[_0xb09a4a(0x1e9)]=function(_0x4a4856,_0x3b0275){return _0x4a4856>_0x3b0275;},_0x4ed080['hRtlP']=function(_0x189fc6,_0x535cf7){return _0x189fc6>_0x535cf7;},_0x4ed080['iENhx']=function(_0x426d85,_0x114176){return _0x426d85>_0x114176;},_0x4ed080['nkNfs']=function(_0x48334b,_0x10492f){return _0x48334b>_0x10492f;},_0x4ed080[_0xb09a4a(0x1bd)]=function(_0x3c028d,_0x229421){return _0x3c028d>_0x229421;},_0x4ed080[_0xb09a4a(0x1d1)]=function(_0xa254fe,_0x2bc933){return _0xa254fe>_0x2bc933;},_0x4ed080[_0xb09a4a(0x1d8)]=function(_0x68cc33,_0x1ca71a){return _0x68cc33+_0x1ca71a;},_0x4ed080[_0xb09a4a(0x1ee)]=function(_0x3df26e,_0x553f7e){return _0x3df26e+_0x553f7e;},_0x4ed080[_0xb09a4a(0x1a6)]=function(_0x7aab32,_0x286f49){return _0x7aab32+_0x286f49;},_0x4ed080[_0xb09a4a(0x1e2)]=function(_0x54b8e,_0xe0709b){return _0x54b8e+_0xe0709b;},_0x4ed080[_0xb09a4a(0x1b1)]=function(_0x12dade,_0x22381f){return _0x12dade+_0x22381f;},_0x4ed080[_0xb09a4a(0x17d)]=function(_0x3314d9,_0x3a79f6){return _0x3314d9+_0x3a79f6;},_0x4ed080[_0xb09a4a(0x1c5)]=function(_0x5ee2c1,_0x3abfd6){return _0x5ee2c1===_0x3abfd6;},_0x4ed080[_0xb09a4a(0x1b9)]=function(_0x551804,_0x5af8bf){return _0x551804===_0x5af8bf;},_0x4ed080['ZAMgz']=_0xb09a4a(0x1d4);const _0x425a5a=_0x4ed080;let _0x181252=0x0;if(_0x425a5a['sLGyF'](_0x5101a7['length'],0x0))return _0x181252;return console[_0xb09a4a(0x1f1)](chalk['bold'][_0xb09a4a(0x17c)](_0x425a5a[_0xb09a4a(0x1df)])),_0x5101a7[_0xb09a4a(0x1d0)](_0x27fd66=>{const _0x27f4c2=_0xb09a4a,_0x4263e5=_0x27fd66[0x0],_0xd1e5d0=_0x27fd66[0x1];console[_0x27f4c2(0x1f1)]('\x0a'+chalk['bold']['yellow'](''+helper[_0x27f4c2(0x1f8)](_0x4263e5)));const _0x4dcfe4=_0xd1e5d0[_0x27f4c2(0x1a2)],_0xcbcdc9=_0xd1e5d0[_0x27f4c2(0x1ad)],_0x4d936c=_0xd1e5d0[_0x27f4c2(0x1e6)],_0x447917=_0xd1e5d0[_0x27f4c2(0x187)],_0x24509d=_0xd1e5d0[_0x27f4c2(0x1ae)],_0x290fd0=_0xd1e5d0[_0x27f4c2(0x1bf)],_0x3f2c8c=_0xd1e5d0[_0x27f4c2(0x1b5)],_0x454677=_0xd1e5d0['stepsUndefined'],_0x5efcc2=_0xd1e5d0[_0x27f4c2(0x1d3)],_0x260528=_0xd1e5d0[_0x27f4c2(0x19e)],_0x3d05bd=_0xd1e5d0[_0x27f4c2(0x184)];let _0x2bd805=_0x4dcfe4+_0x27f4c2(0x1aa);const _0x3b165e=_0x425a5a[_0x27f4c2(0x1e8)](_0x425a5a[_0x27f4c2(0x1f9)](_0x4dcfe4,_0x4d936c),0x0)?_0x425a5a[_0x27f4c2(0x1f9)](_0x4dcfe4,_0x4d936c):0x0;if(_0x425a5a[_0x27f4c2(0x1e9)](_0x4d936c,0x0)&&_0x425a5a[_0x27f4c2(0x1e9)](_0x3b165e,0x0))_0x2bd805+='\x20('+chalk[_0x27f4c2(0x18b)][_0x27f4c2(0x1c0)](_0x4d936c+_0x27f4c2(0x1f5))+',\x20'+chalk[_0x27f4c2(0x18b)][_0x27f4c2(0x195)](_0x3b165e+_0x27f4c2(0x1e4))+')';else(_0x425a5a[_0x27f4c2(0x198)](_0x4d936c,0x0)||_0x425a5a['UUwOa'](_0x3b165e,0x0))&&(_0x2bd805+=_0x425a5a[_0x27f4c2(0x1d9)](_0x4d936c,0x0)?'\x20('+chalk[_0x27f4c2(0x18b)]['red'](_0x4d936c+'\x20failed')+')':'\x20('+chalk[_0x27f4c2(0x18b)][_0x27f4c2(0x195)](_0x3b165e+_0x27f4c2(0x1e4))+')');const _0x443972=_0xcbcdc9+_0x27f4c2(0x1d6),_0x12dfd4=[];_0x425a5a[_0x27f4c2(0x1e9)](_0x260528,0x0)&&_0x12dfd4['push'](''+chalk[_0x27f4c2(0x18b)][_0x27f4c2(0x1c0)](_0x260528+'\x20ambiguous'));_0x425a5a[_0x27f4c2(0x1d9)](_0x447917,0x0)&&_0x12dfd4[_0x27f4c2(0x1c7)](''+chalk['bold']['red'](_0x447917+_0x27f4c2(0x1f5)));_0x425a5a[_0x27f4c2(0x190)](_0x24509d,0x0)&&_0x12dfd4['push'](''+chalk[_0x27f4c2(0x18b)]['green'](_0x24509d+'\x20passed'));_0x425a5a[_0x27f4c2(0x1bd)](_0x3f2c8c,0x0)&&_0x12dfd4['push'](''+chalk[_0x27f4c2(0x18b)]['yellow'](_0x3f2c8c+_0x27f4c2(0x1bc)));_0x425a5a['nkNfs'](_0x290fd0,0x0)&&_0x12dfd4[_0x27f4c2(0x1c7)](''+chalk['bold']['cyan'](_0x290fd0+_0x27f4c2(0x18c)));_0x425a5a['mKTKX'](_0x454677,0x0)&&_0x12dfd4[_0x27f4c2(0x1c7)](''+chalk[_0x27f4c2(0x18b)][_0x27f4c2(0x1b8)](_0x454677+_0x27f4c2(0x1c1)));_0x425a5a[_0x27f4c2(0x1d1)](_0x5efcc2,0x0)&&_0x12dfd4[_0x27f4c2(0x1c7)](''+chalk['bold'][_0x27f4c2(0x1b8)](_0x5efcc2+_0x27f4c2(0x18c)));const _0x29425d=_0x425a5a[_0x27f4c2(0x1d8)](_0x425a5a['tPjaJ'](_0x425a5a[_0x27f4c2(0x1ee)](_0x443972,'('),_0x12dfd4[_0x27f4c2(0x1ca)](',\x20')),')');console[_0x27f4c2(0x1f1)](_0x425a5a[_0x27f4c2(0x1a6)](_0x425a5a[_0x27f4c2(0x1e2)](_0x425a5a[_0x27f4c2(0x1b1)](_0x425a5a[_0x27f4c2(0x17d)]('\x0a',_0x2bd805),'\x0a'),_0x29425d),'\x0a')),_0x425a5a[_0x27f4c2(0x1c5)](_0x3d05bd,![])&&(_0x181252=0x1);}),_0x181252;}async function run(_0xb14f4f,_0x396493){const _0x3c1fdf=a5_0x119ede,_0x5deff6={'wGUBP':function(_0x5ee4ef,_0x4ac083){return _0x5ee4ef(_0x4ac083);},'WxhQc':function(_0x1c7282,_0x246ab8){return _0x1c7282>_0x246ab8;},'jbZgO':_0x3c1fdf(0x1cb),'WWfeK':_0x3c1fdf(0x196),'jVMLh':_0x3c1fdf(0x1ef),'eBEvc':_0x3c1fdf(0x189),'URPwu':_0x3c1fdf(0x1a3),'pZmgD':_0x3c1fdf(0x1cf),'sztsg':function(_0x2108a1,_0x4a1b3d){return _0x2108a1>_0x4a1b3d;},'aptmP':function(_0x318f30,_0x9f0419){return _0x318f30-_0x9f0419;},'janmw':function(_0x8793cf,_0x58d058){return _0x8793cf>=_0x58d058;},'CaKzU':function(_0x33c1d2,_0x9f8795){return _0x33c1d2!=_0x9f8795;},'ZQhnT':_0x3c1fdf(0x1b0),'mbsVh':function(_0x1fa64b,_0x18a106,_0x2003e3,_0x276977,_0x378f8d,_0x339abb){return _0x1fa64b(_0x18a106,_0x2003e3,_0x276977,_0x378f8d,_0x339abb);}},_0xea3745=new BrowserStackSetup(_0xb14f4f,_0x5deff6[_0x3c1fdf(0x1f6)]);await _0xea3745[_0x3c1fdf(0x1da)](),helper[_0x3c1fdf(0x19b)](_0xea3745[_0x3c1fdf(0x1a0)],_0xb14f4f);!helper['isBrowserstackInfra']()&&await _0xea3745['setupTCGAuth']();await helper['handleApp'](_0xea3745[_0x3c1fdf(0x1be)]);const _0x4c48bc=helper['useW3C'](_0xea3745['config']),_0x464905=helper[_0x3c1fdf(0x18a)](_0xea3745[_0x3c1fdf(0x1be)],_0x4c48bc,constants['FRAMEWORKS'][_0x3c1fdf(0x17b)]);if(!_0xea3745[_0x3c1fdf(0x1be)])return;const _0x513e01=_0xea3745['config'][_0x3c1fdf(0x17e)]||helper[_0x3c1fdf(0x1db)](_0xb14f4f,_0x396493,_0xea3745[_0x3c1fdf(0x1be)],constants['FRAMEWORKS'][_0x3c1fdf(0x17b)])||0x1,_0x48bb39={'server':helper[_0x3c1fdf(0x1c9)](_0xea3745[_0x3c1fdf(0x1be)]),'proxySettings':_0xea3745[_0x3c1fdf(0x1be)]['proxySettings'],'maxWorkers':_0x513e01,'browserStackLogLevel':_0xea3745[_0x3c1fdf(0x1be)][_0x3c1fdf(0x1ea)],'skipSessionName':_0xea3745[_0x3c1fdf(0x1be)][_0x3c1fdf(0x19f)][_0x3c1fdf(0x1e3)],'skipSessionStatus':_0xea3745[_0x3c1fdf(0x1be)][_0x3c1fdf(0x19f)][_0x3c1fdf(0x18f)],'turboScaleUrl':_0xea3745[_0x3c1fdf(0x1be)][_0x3c1fdf(0x19d)]},_0xebe6bb=process[_0x3c1fdf(0x1b4)],[_0x222215,_0x47576a]=helper['parseFormatters'](_0xebe6bb),_0x4d1df0=path[_0x3c1fdf(0x1ca)](process[_0x3c1fdf(0x181)](),_0x5deff6['pZmgD']);if(_0x5deff6[_0x3c1fdf(0x185)](_0x47576a[_0x3c1fdf(0x1ec)],0x0)){helper[_0x3c1fdf(0x1e1)](_0x4d1df0);for(let _0x9a30d7=_0x5deff6[_0x3c1fdf(0x199)](_0x222215['length'],0x1);_0x5deff6['janmw'](_0x9a30d7,0x0);_0x9a30d7--){_0xebe6bb['splice'](_0x222215[_0x9a30d7],0x2);}}!helper['isUndefined'](_0xea3745[_0x3c1fdf(0x1be)][_0x3c1fdf(0x1b2)])&&(process[_0x3c1fdf(0x19c)][_0x3c1fdf(0x1dc)]=JSON['stringify'](_0xea3745[_0x3c1fdf(0x1be)]['accessibilityOptions']));_0x5deff6[_0x3c1fdf(0x1f2)](_0xea3745[_0x3c1fdf(0x1be)]['testObservability'],null)?process['env'][_0x3c1fdf(0x1b7)]=_0xea3745[_0x3c1fdf(0x1be)][_0x3c1fdf(0x1ab)]:process[_0x3c1fdf(0x19c)][_0x3c1fdf(0x1b7)]=_0x5deff6['ZQhnT'];const _0x899d38=await TestHubHandler[_0x3c1fdf(0x1ba)](constants[_0x3c1fdf(0x180)][_0x3c1fdf(0x17b)],_0xea3745);PerformanceTester[_0x3c1fdf(0x17f)](PerformanceEvents[_0x3c1fdf(0x1e5)]);let _0x5bc059;_0x5deff6[_0x3c1fdf(0x18e)](parallelCucumberRun,_0x464905,_0x48bb39,_0xea3745[_0x3c1fdf(0x1be)],_0xebe6bb,_0x47576a)[_0x3c1fdf(0x1d2)](async _0x5aad53=>{const _0x150d52=_0x3c1fdf;PerformanceTester['start'](PerformanceEvents[_0x150d52(0x1cd)]),_0x5bc059=_0x5aad53;const _0x2b1c00=_0x5deff6[_0x150d52(0x1fa)](printCucumberStats,_0x5aad53);process[_0x150d52(0x1ed)]=_0x2b1c00,_0x5deff6[_0x150d52(0x193)](_0x47576a[_0x150d52(0x1ec)],0x0)&&(logger[_0x150d52(0x182)](_0x5deff6['jbZgO']),helper[_0x150d52(0x1f7)](_0x4d1df0,_0x47576a),logger['debug'](_0x5deff6[_0x150d52(0x1e7)]),helper[_0x150d52(0x1a9)](_0x4d1df0));})[_0x3c1fdf(0x186)](async()=>{const _0x5859b8=_0x3c1fdf;PerformanceTester['start'](PerformanceEvents[_0x5859b8(0x1cd)]),_0xea3745['errorMessage']=helper[_0x5859b8(0x1c6)](_0x5bc059,_0x5deff6[_0x5859b8(0x1a7)]),testOpsHelper[_0x5859b8(0x1c3)]();try{await TestHubHandler[_0x5859b8(0x1a8)]();}catch(_0x5855b2){logger['debug'](_0x5859b8(0x1a1)+util[_0x5859b8(0x1c2)](_0x5855b2));}try{const {browserstackFolderPath:_0x10e9e1,tcgConfigPath:_0x29b84e}=helper[_0x5859b8(0x1d7)]();fs[_0x5859b8(0x1a4)](_0x29b84e),fs[_0x5859b8(0x1ce)](_0x10e9e1);}catch(_0x55594a){logger['debug'](_0x5deff6[_0x5859b8(0x1cc)],_0x55594a);}await utilities['finalExecution'](_0xea3745);});}function a5_0x666a(_0x2ce114,_0x59f04f){const _0x31e0b6=a5_0x31e0();return a5_0x666a=function(_0x666ace,_0x5357fa){_0x666ace=_0x666ace-0x17b;let _0x2092bd=_0x31e0b6[_0x666ace];return _0x2092bd;},a5_0x666a(_0x2ce114,_0x59f04f);}module[a5_0x119ede(0x1f4)]=run;function a5_0x31e0(){const _0x40cac8=['48150bgDUTS','\x20steps','getTCGConfigFilePaths','tPjaJ','iENhx','initialize','getUserWorkerCount','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','42qtxKIm','1340788szopTT','ZAMgz','143919MqCUQj','createDir','fLnVJ','skipSessionName','\x20passed','SDK_SETUP','scenariosFailed','WWfeK','WBZMB','UUwOa','logLevel','971200emqHHP','length','exitCode','xWCCe','cucumber','EVENTS','log','CaKzU','util','exports','\x20failed','URPwu','mergeOutputFiles','getPlatformName','voawC','wGUBP','CUCUMBER','bgWhite','iFRwo','parallelsPerPlatform','end','FRAMEWORKS','cwd','debug','../../helpers/helper','processSuccess','sztsg','finally','stepsFailed','2072670xBRKlF','error\x20removing\x20tcg\x20config\x20file','prepareCapabilities','bold','\x20skipped','path','mbsVh','skipSessionStatus','nkNfs','../../helpers/test-observability/utils','../../helpers/utilities','WxhQc','../../helpers/performance/constants','green','Removing\x20tmp\x20directory\x20created\x20for\x20reports','../utils/constants','hRtlP','aptmP','../test-runner','setUserConfigPath','env','turboScaleUrl','stepsAmbiguous','testContextOptions','framework','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','scenarios','cucumber-js','unlinkSync','611728xKDHPb','RybpR','jVMLh','stop','removeDir','\x20scenarios','testObservability','../../helpers/logger','steps','stepsPassed','173623Komzbn','true','indNI','accessibilityOptions','winstonLogger','argv','stepsPending','chalk','BROWSERSTACK_TEST_OBSERVABILITY_YML','yellow','sLGyF','launchBuild','3rvUDBr','\x20pending','mKTKX','config','stepsSkipped','red','\x20undefined','format','printBuildLink','24QfnfDk','AcbQF','getErrorMessageFromResults','push','../../helpers/testhub/testhubHandler','getHubUrl','join','Generating\x20consolidated\x20report...','eBEvc','SDK_CLEANUP','rmdirSync','tmp','forEach','noVnv','then','stepsUnknown','****\x20RESULTS\x20****'];a5_0x31e0=function(){return _0x40cac8;};return a5_0x31e0();}