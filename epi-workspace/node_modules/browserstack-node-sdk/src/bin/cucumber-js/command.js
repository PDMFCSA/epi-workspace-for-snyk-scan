#!/usr/bin/env node
'use strict';const a5_0x1c9f08=a5_0x5734;(function(_0x20267b,_0x24fef8){const _0x3da1fd=a5_0x5734,_0x4b2159=_0x20267b();while(!![]){try{const _0x5e730c=-parseInt(_0x3da1fd(0x134))/0x1+parseInt(_0x3da1fd(0x131))/0x2*(parseInt(_0x3da1fd(0x125))/0x3)+-parseInt(_0x3da1fd(0x179))/0x4*(-parseInt(_0x3da1fd(0x168))/0x5)+parseInt(_0x3da1fd(0x11e))/0x6*(parseInt(_0x3da1fd(0x176))/0x7)+-parseInt(_0x3da1fd(0x127))/0x8*(parseInt(_0x3da1fd(0x141))/0x9)+-parseInt(_0x3da1fd(0x185))/0xa+-parseInt(_0x3da1fd(0x164))/0xb*(-parseInt(_0x3da1fd(0x195))/0xc);if(_0x5e730c===_0x24fef8)break;else _0x4b2159['push'](_0x4b2159['shift']());}catch(_0x43b6e6){_0x4b2159['push'](_0x4b2159['shift']());}}}(a5_0x1c49,0x73039));function a5_0x1c49(){const _0xb9f9f6=['chalk','scenariosFailed','scenarios','stepsPassed','env','CUCUMBER','166WZzAqA','exitCode','BROWSERSTACK_TEST_OBSERVABILITY_YML','266141FPOqlM','processSuccess','../../helpers/logger','accessibilityOptions','SJMyt','rLIRt','platforms','error\x20removing\x20tcg\x20config\x20file','testContextOptions','cwd','QryjE','finally','length','4077081rDEjKU','tvzso','getUserWorkerCount','FAkjO','XxfmZ','SDK_CLEANUP','stop','\x20failed','isUndefined','proxySettings','stringify','parallelsPerPlatform','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','finalExecution','nNzDs','isBrowserstackInfra','fLqqH','iLzhn','start','assign','initialize','launchBuild','Ttciq','exports','framework','stepsUndefined','qhcfZ','handleApp','\x20scenarios','rmdirSync','dKwZP','PKbQf','steps','setupTCGAuth','splice','121cMeeGc','prepareCapabilities','format','stepsPending','65onVsld','printBuildLink','yellow','\x20pending','mergeOutputFiles','stepsSkipped','logLevel','createDir','stepsFailed','../../helpers/performance/performance-tester','../../helpers/helper','testObservability','unlinkSync','\x20passed','931yFGEqx','end','skipSessionName','285164wOEQjM','QMcHI','ioOnt','YxnxX','fRixC','debug','log','green','red','cyan','Generating\x20consolidated\x20report...','\x20undefined','2569390HZaTdY','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','\x20ambiguous','push','getPlatformName','../test-runner','RbZio','parseFormatters','\x20skipped','stepsAmbiguous','npFCB','then','fEKpr','../../helpers/performance/constants','eurxX','SDK_SETUP','526248UbEwjL','dUAGZ','getTCGConfigFilePaths','stepsUnknown','setUserConfigPath','FRAMEWORKS','config','getHubUrl','join','15138XVxEWJ','BefSd','\x20steps','EVENTS','bold','util','Removing\x20tmp\x20directory\x20created\x20for\x20reports','5619UlLiLe','IiwpM','16QAGTaa','useW3C','nkBsO','../../helpers/testhub/testhubHandler'];a5_0x1c49=function(){return _0xb9f9f6;};return a5_0x1c49();}const fs=require('fs'),path=require('path'),util=require(a5_0x1c9f08(0x123)),logger=require(a5_0x1c9f08(0x136))['winstonLogger'],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a5_0x1c9f08(0x172)),utilities=require('../../helpers/utilities'),constants=require('../utils/constants'),{parallelCucumberRun}=require(a5_0x1c9f08(0x18a)),TestHubHandler=require(a5_0x1c9f08(0x12a)),testOpsHelper=require('../../helpers/test-observability/utils'),chalk=require(a5_0x1c9f08(0x12b)),PerformanceTester=require(a5_0x1c9f08(0x171)),PerformanceEvents=require(a5_0x1c9f08(0x192))[a5_0x1c9f08(0x121)];function a5_0x5734(_0x31e947,_0x33f30c){const _0x1c49cb=a5_0x1c49();return a5_0x5734=function(_0x57341e,_0x49feff){_0x57341e=_0x57341e-0x118;let _0x4092de=_0x1c49cb[_0x57341e];return _0x4092de;},a5_0x5734(_0x31e947,_0x33f30c);}function printCucumberStats(_0x388457){const _0x2b7b20=a5_0x1c9f08,_0x1ad8c1={};_0x1ad8c1['tvzso']=function(_0x494f98,_0x3dde89){return _0x494f98>_0x3dde89;},_0x1ad8c1[_0x2b7b20(0x191)]=function(_0xac7b14,_0x91c3d5){return _0xac7b14-_0x91c3d5;},_0x1ad8c1[_0x2b7b20(0x13e)]=function(_0xa1204c,_0x3c26fc){return _0xa1204c-_0x3c26fc;},_0x1ad8c1[_0x2b7b20(0x17b)]=function(_0x4848f8,_0x547395){return _0x4848f8>_0x547395;},_0x1ad8c1[_0x2b7b20(0x15f)]=function(_0x48354f,_0x10e863){return _0x48354f>_0x10e863;},_0x1ad8c1['YxnxX']=function(_0x5277cc,_0xdacea){return _0x5277cc>_0xdacea;},_0x1ad8c1[_0x2b7b20(0x14f)]=function(_0x25c054,_0x8752d){return _0x25c054>_0x8752d;},_0x1ad8c1[_0x2b7b20(0x144)]=function(_0x39b24d,_0x2fdb5f){return _0x39b24d>_0x2fdb5f;},_0x1ad8c1[_0x2b7b20(0x17d)]=function(_0x1b4807,_0x4c2851){return _0x1b4807+_0x4c2851;},_0x1ad8c1['nkBsO']=function(_0x47c618,_0x253116){return _0x47c618+_0x253116;},_0x1ad8c1[_0x2b7b20(0x193)]=function(_0xc1b4ec,_0x5b2065){return _0xc1b4ec+_0x5b2065;},_0x1ad8c1[_0x2b7b20(0x11f)]=function(_0x2bd1be,_0x5efd6e){return _0x2bd1be+_0x5efd6e;},_0x1ad8c1[_0x2b7b20(0x18f)]=function(_0x36298c,_0x38af12){return _0x36298c+_0x38af12;},_0x1ad8c1[_0x2b7b20(0x17a)]=function(_0x366c5e,_0x2aae9a){return _0x366c5e===_0x2aae9a;},_0x1ad8c1[_0x2b7b20(0x138)]='****\x20RESULTS\x20****';const _0x35869f=_0x1ad8c1;let _0x52fea3=0x0;if(_0x35869f[_0x2b7b20(0x17a)](_0x388457[_0x2b7b20(0x140)],0x0))return _0x52fea3;return console['log'](chalk[_0x2b7b20(0x122)]['bgWhite'](_0x35869f[_0x2b7b20(0x138)])),_0x388457['forEach'](_0x50114a=>{const _0x28c32b=_0x2b7b20,_0x3a3482=_0x50114a[0x0],_0x453662=_0x50114a[0x1];helper[_0x28c32b(0x150)]()&&console[_0x28c32b(0x17f)]('\x0a'+chalk[_0x28c32b(0x122)][_0x28c32b(0x16a)](''+helper[_0x28c32b(0x189)](_0x3a3482)));const _0x3b3a3a=_0x453662[_0x28c32b(0x12d)],_0x2574a8=_0x453662[_0x28c32b(0x161)],_0x11f94b=_0x453662[_0x28c32b(0x12c)],_0x43ba17=_0x453662[_0x28c32b(0x170)],_0x57402f=_0x453662[_0x28c32b(0x12e)],_0x1d7158=_0x453662[_0x28c32b(0x16d)],_0x47d1cc=_0x453662[_0x28c32b(0x167)],_0x43bd21=_0x453662[_0x28c32b(0x15a)],_0x248cc1=_0x453662[_0x28c32b(0x118)],_0xe867c7=_0x453662[_0x28c32b(0x18e)],_0x1e8007=_0x453662[_0x28c32b(0x135)];let _0x5cf0c8=_0x3b3a3a+_0x28c32b(0x15d);const _0x735299=_0x35869f[_0x28c32b(0x142)](_0x35869f[_0x28c32b(0x191)](_0x3b3a3a,_0x11f94b),0x0)?_0x35869f[_0x28c32b(0x13e)](_0x3b3a3a,_0x11f94b):0x0;if(_0x35869f[_0x28c32b(0x142)](_0x11f94b,0x0)&&_0x35869f['tvzso'](_0x735299,0x0))_0x5cf0c8+='\x20('+chalk[_0x28c32b(0x122)]['red'](_0x11f94b+'\x20failed')+',\x20'+chalk[_0x28c32b(0x122)][_0x28c32b(0x180)](_0x735299+'\x20passed')+')';else(_0x35869f[_0x28c32b(0x17b)](_0x11f94b,0x0)||_0x35869f['dKwZP'](_0x735299,0x0))&&(_0x5cf0c8+=_0x35869f[_0x28c32b(0x142)](_0x11f94b,0x0)?'\x20('+chalk['bold'][_0x28c32b(0x181)](_0x11f94b+_0x28c32b(0x148))+')':'\x20('+chalk[_0x28c32b(0x122)][_0x28c32b(0x180)](_0x735299+_0x28c32b(0x175))+')');const _0x198292=_0x2574a8+_0x28c32b(0x120),_0xb99290=[];_0x35869f['dKwZP'](_0xe867c7,0x0)&&_0xb99290[_0x28c32b(0x188)](''+chalk['bold'][_0x28c32b(0x181)](_0xe867c7+_0x28c32b(0x187)));_0x35869f[_0x28c32b(0x17c)](_0x43ba17,0x0)&&_0xb99290[_0x28c32b(0x188)](''+chalk[_0x28c32b(0x122)][_0x28c32b(0x181)](_0x43ba17+'\x20failed'));_0x35869f[_0x28c32b(0x14f)](_0x57402f,0x0)&&_0xb99290[_0x28c32b(0x188)](''+chalk[_0x28c32b(0x122)][_0x28c32b(0x180)](_0x57402f+_0x28c32b(0x175)));_0x35869f[_0x28c32b(0x144)](_0x47d1cc,0x0)&&_0xb99290[_0x28c32b(0x188)](''+chalk[_0x28c32b(0x122)][_0x28c32b(0x16a)](_0x47d1cc+_0x28c32b(0x16b)));_0x35869f[_0x28c32b(0x144)](_0x1d7158,0x0)&&_0xb99290[_0x28c32b(0x188)](''+chalk['bold'][_0x28c32b(0x182)](_0x1d7158+_0x28c32b(0x18d)));_0x35869f[_0x28c32b(0x17b)](_0x43bd21,0x0)&&_0xb99290['push'](''+chalk[_0x28c32b(0x122)][_0x28c32b(0x16a)](_0x43bd21+_0x28c32b(0x184)));_0x35869f[_0x28c32b(0x15f)](_0x248cc1,0x0)&&_0xb99290[_0x28c32b(0x188)](''+chalk[_0x28c32b(0x122)][_0x28c32b(0x16a)](_0x248cc1+_0x28c32b(0x18d)));const _0x25b575=_0x35869f['fRixC'](_0x35869f[_0x28c32b(0x129)](_0x35869f[_0x28c32b(0x193)](_0x198292,'('),_0xb99290['join'](',\x20')),')');console[_0x28c32b(0x17f)](_0x35869f[_0x28c32b(0x17d)](_0x35869f['BefSd'](_0x35869f[_0x28c32b(0x129)](_0x35869f[_0x28c32b(0x18f)]('\x0a',_0x5cf0c8),'\x0a'),_0x25b575),'\x0a')),_0x35869f[_0x28c32b(0x17a)](_0x1e8007,![])&&(_0x52fea3=0x1);}),_0x52fea3;}async function run(_0x43dc69,_0x27e62d,_0x47c2df){const _0x4d1e8c=a5_0x1c9f08,_0x3ffaeb={'Ttciq':function(_0x2b93a9,_0x19c77d){return _0x2b93a9(_0x19c77d);},'PKbQf':function(_0x392ed1,_0x587553){return _0x392ed1>_0x587553;},'rLIRt':_0x4d1e8c(0x183),'qhcfZ':_0x4d1e8c(0x124),'dUAGZ':'cucumber','PLKdo':_0x4d1e8c(0x13b),'RRWxE':'tmp','iLzhn':function(_0x35f504,_0x54c904){return _0x35f504>_0x54c904;},'IiwpM':function(_0x55ad78,_0x33271b){return _0x55ad78-_0x33271b;},'fLqqH':function(_0xde3574,_0x5980e3){return _0xde3574>=_0x5980e3;},'RbZio':function(_0x5a60c3,_0x568f4a){return _0x5a60c3!=_0x568f4a;},'XxfmZ':'true','siteK':function(_0x25936f,_0x388dad,_0x5aeb46,_0x5efc39,_0x293292,_0x1abfbc){return _0x25936f(_0x388dad,_0x5aeb46,_0x5efc39,_0x293292,_0x1abfbc);}};await _0x47c2df[_0x4d1e8c(0x155)](_0x43dc69),helper[_0x4d1e8c(0x119)](_0x47c2df[_0x4d1e8c(0x159)],_0x43dc69);!helper[_0x4d1e8c(0x150)]()&&await _0x47c2df[_0x4d1e8c(0x162)]();await helper[_0x4d1e8c(0x15c)](_0x47c2df[_0x4d1e8c(0x11b)]);const _0x14738d=helper[_0x4d1e8c(0x128)](_0x47c2df[_0x4d1e8c(0x11b)]);!helper[_0x4d1e8c(0x149)](_0x47c2df[_0x4d1e8c(0x11b)][_0x4d1e8c(0x137)])&&(process[_0x4d1e8c(0x12f)][_0x4d1e8c(0x186)]=JSON[_0x4d1e8c(0x14b)](_0x47c2df['config'][_0x4d1e8c(0x137)]));const _0x2d9b9b=await TestHubHandler[_0x4d1e8c(0x156)](constants[_0x4d1e8c(0x11a)]['CUCUMBER'],_0x47c2df);let _0x1b72f4=[];if(!helper[_0x4d1e8c(0x150)]()){const _0x5d08d6={};_0x5d08d6[_0x4d1e8c(0x13a)]=[],_0x1b72f4=helper[_0x4d1e8c(0x165)](Object[_0x4d1e8c(0x154)]({},_0x47c2df[_0x4d1e8c(0x11b)],_0x5d08d6),_0x14738d,constants[_0x4d1e8c(0x11a)]['CUCUMBER']);}else _0x1b72f4=helper[_0x4d1e8c(0x165)](_0x47c2df[_0x4d1e8c(0x11b)],_0x14738d,constants['FRAMEWORKS'][_0x4d1e8c(0x130)]);if(!_0x47c2df[_0x4d1e8c(0x11b)])return;const _0x36d54e=_0x47c2df['config'][_0x4d1e8c(0x14c)]||helper[_0x4d1e8c(0x143)](_0x43dc69,_0x27e62d,_0x47c2df['config'],constants[_0x4d1e8c(0x11a)]['CUCUMBER'])||0x1,_0x4156db={'server':helper[_0x4d1e8c(0x11c)](_0x47c2df[_0x4d1e8c(0x11b)]),'proxySettings':_0x47c2df['config'][_0x4d1e8c(0x14a)],'maxWorkers':_0x36d54e,'browserStackLogLevel':_0x47c2df[_0x4d1e8c(0x11b)][_0x4d1e8c(0x16e)],'skipSessionName':_0x47c2df[_0x4d1e8c(0x11b)][_0x4d1e8c(0x13c)][_0x4d1e8c(0x178)],'skipSessionStatus':_0x47c2df[_0x4d1e8c(0x11b)][_0x4d1e8c(0x13c)]['skipSessionStatus'],'turboScaleUrl':_0x47c2df[_0x4d1e8c(0x11b)]['turboScaleUrl']},_0x31176c=process['argv'],[_0x3bcc47,_0x413682]=helper[_0x4d1e8c(0x18c)](_0x31176c),_0x2d8e62=path[_0x4d1e8c(0x11d)](process[_0x4d1e8c(0x13d)](),_0x3ffaeb['RRWxE']);if(_0x3ffaeb[_0x4d1e8c(0x152)](_0x413682[_0x4d1e8c(0x140)],0x0)){helper[_0x4d1e8c(0x16f)](_0x2d8e62);for(let _0x3d6300=_0x3ffaeb[_0x4d1e8c(0x126)](_0x3bcc47[_0x4d1e8c(0x140)],0x1);_0x3ffaeb[_0x4d1e8c(0x151)](_0x3d6300,0x0);_0x3d6300--){_0x31176c[_0x4d1e8c(0x163)](_0x3bcc47[_0x3d6300],0x2);}}_0x3ffaeb[_0x4d1e8c(0x18b)](_0x47c2df[_0x4d1e8c(0x11b)]['testObservability'],null)?process[_0x4d1e8c(0x12f)][_0x4d1e8c(0x133)]=_0x47c2df['config'][_0x4d1e8c(0x173)]:process[_0x4d1e8c(0x12f)][_0x4d1e8c(0x133)]=_0x3ffaeb[_0x4d1e8c(0x145)];PerformanceTester[_0x4d1e8c(0x177)](PerformanceEvents[_0x4d1e8c(0x194)]);let _0x5977c5;_0x3ffaeb['siteK'](parallelCucumberRun,_0x1b72f4,_0x4156db,_0x47c2df[_0x4d1e8c(0x11b)],_0x31176c,_0x413682)[_0x4d1e8c(0x190)](async _0x14e174=>{const _0x4a9118=_0x4d1e8c;PerformanceTester[_0x4a9118(0x153)](PerformanceEvents[_0x4a9118(0x146)]),_0x5977c5=_0x14e174;const _0x1b0e93=_0x3ffaeb[_0x4a9118(0x157)](printCucumberStats,_0x14e174);process[_0x4a9118(0x132)]=_0x1b0e93,_0x3ffaeb[_0x4a9118(0x160)](_0x413682[_0x4a9118(0x140)],0x0)&&(logger[_0x4a9118(0x17e)](_0x3ffaeb[_0x4a9118(0x139)]),helper[_0x4a9118(0x16c)](_0x2d8e62,_0x413682),logger[_0x4a9118(0x17e)](_0x3ffaeb[_0x4a9118(0x15b)]),helper['removeDir'](_0x2d8e62));})[_0x4d1e8c(0x13f)](async()=>{const _0x4bb0d0=_0x4d1e8c;PerformanceTester['start'](PerformanceEvents[_0x4bb0d0(0x146)]),_0x47c2df['errorMessage']=helper['getErrorMessageFromResults'](_0x5977c5,_0x3ffaeb[_0x4bb0d0(0x196)]),testOpsHelper[_0x4bb0d0(0x169)]();try{await TestHubHandler[_0x4bb0d0(0x147)]();}catch(_0x2c7817){logger['debug'](_0x4bb0d0(0x14d)+util[_0x4bb0d0(0x166)](_0x2c7817));}try{const {browserstackFolderPath:_0x2827ae,tcgConfigPath:_0xb9cc74}=helper[_0x4bb0d0(0x197)]();fs[_0x4bb0d0(0x174)](_0xb9cc74),fs[_0x4bb0d0(0x15e)](_0x2827ae);}catch(_0x141b70){logger['debug'](_0x3ffaeb['PLKdo'],_0x141b70);}await utilities[_0x4bb0d0(0x14e)](_0x47c2df);});}module[a5_0x1c9f08(0x158)]=run;