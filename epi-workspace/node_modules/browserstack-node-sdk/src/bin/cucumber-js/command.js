#!/usr/bin/env node
'use strict';function a5_0x5a1e(){const _0x5bdd50=['DWVWj','FRAMEWORKS','useW3C','launchBuild','handleApp','turboScaleUrl','errorMessage','stepsUnknown','splice','stepsUndefined','MDhcs','length','****\x20RESULTS\x20****','BROWSERSTACK_TEST_OBSERVABILITY_YML','chalk','scenarios','aSxXK','accessibilityOptions','steps','error\x20removing\x20tcg\x20config\x20file','path','testContextOptions','EckAo','10906aEGUfM','end','log','tmp','MrWnW','../test-runner','cyan','20AOWQrF','stepsFailed','XdFpg','RVqGf','stringify','parseFormatters','bgWhite','scenariosFailed','prepareCapabilities','\x20passed','../../helpers/logger','265690FgafrR','debug','initialize','../../helpers/test-observability/utils','../../helpers/BrowserStackSetup','removeDir','\x20undefined','testObservability','setUserConfigPath','isUndefined','yellow','tqTdX','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','Generating\x20consolidated\x20report...','slRbb','2hzGeLF','\x20pending','config','join','215293aXdVhS','../../helpers/helper','272082zyvYSP','bold','format','getErrorMessageFromResults','printBuildLink','createDir','28828dGKUXb','getPlatformName','processSuccess','unlinkSync','xOkUP','stepsPassed','SDK_SETUP','xxzwY','33UmKFVA','IJyRO','util','1776yNEhlg','\x20steps','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','../../helpers/performance/performance-tester','eRNpx','cwd','5499765ciHOiN','Removing\x20tmp\x20directory\x20created\x20for\x20reports','setupTCGAuth','\x20scenarios','dJAYu','framework','cucumber','uIrYn','push','36VQSFPJ','getTCGConfigFilePaths','../../helpers/performance/constants','start','../../helpers/utilities','ZJnfK','red','sYccW','then','exports','\x20failed','dcCGX','parallelsPerPlatform','CUCUMBER','455543NfHQEK','isBrowserstackInfra','../utils/constants','env','\x20skipped','FGXEC','SDK_CLEANUP','xuibK','green','gzvKM','getHubUrl','mergeOutputFiles','forEach','finally','skipSessionName','WhoYF','winstonLogger','45AlMXED','GeKtz','getUserWorkerCount','stop'];a5_0x5a1e=function(){return _0x5bdd50;};return a5_0x5a1e();}function a5_0x5c3b(_0x574064,_0x7e33aa){const _0x5a1e18=a5_0x5a1e();return a5_0x5c3b=function(_0x5c3b2d,_0x36be3c){_0x5c3b2d=_0x5c3b2d-0x1dc;let _0x51c73e=_0x5a1e18[_0x5c3b2d];return _0x51c73e;},a5_0x5c3b(_0x574064,_0x7e33aa);}const a5_0x10a62e=a5_0x5c3b;(function(_0x4425be,_0x5c8f17){const _0x24e82b=a5_0x5c3b,_0x385d5a=_0x4425be();while(!![]){try{const _0x11a68f=parseInt(_0x24e82b(0x251))/0x1*(-parseInt(_0x24e82b(0x1df))/0x2)+-parseInt(_0x24e82b(0x1f3))/0x3*(-parseInt(_0x24e82b(0x1eb))/0x4)+-parseInt(_0x24e82b(0x224))/0x5*(-parseInt(_0x24e82b(0x1e5))/0x6)+-parseInt(_0x24e82b(0x23f))/0x7*(parseInt(_0x24e82b(0x1f6))/0x8)+parseInt(_0x24e82b(0x1fc))/0x9+parseInt(_0x24e82b(0x246))/0xa*(-parseInt(_0x24e82b(0x213))/0xb)+-parseInt(_0x24e82b(0x205))/0xc*(parseInt(_0x24e82b(0x1e3))/0xd);if(_0x11a68f===_0x5c8f17)break;else _0x385d5a['push'](_0x385d5a['shift']());}catch(_0x4293ee){_0x385d5a['push'](_0x385d5a['shift']());}}}(a5_0x5a1e,0x5686a));const fs=require('fs'),path=require(a5_0x10a62e(0x23c)),util=require(a5_0x10a62e(0x1f5)),logger=require(a5_0x10a62e(0x250))[a5_0x10a62e(0x223)],{default:BrowserStackSetup}=require(a5_0x10a62e(0x255)),helper=require(a5_0x10a62e(0x1e4)),utilities=require(a5_0x10a62e(0x209)),constants=require(a5_0x10a62e(0x215)),{parallelCucumberRun}=require(a5_0x10a62e(0x244)),TestHubHandler=require('../../helpers/testhub/testhubHandler'),testOpsHelper=require(a5_0x10a62e(0x254)),chalk=require(a5_0x10a62e(0x236)),PerformanceTester=require(a5_0x10a62e(0x1f9)),PerformanceEvents=require(a5_0x10a62e(0x207))['EVENTS'];function printCucumberStats(_0x2c5171){const _0x554823=a5_0x10a62e,_0x319d28={};_0x319d28['GeKtz']=function(_0x51e5df,_0x22d13d){return _0x51e5df>_0x22d13d;},_0x319d28[_0x554823(0x21a)]=function(_0x2d325c,_0x257842){return _0x2d325c-_0x257842;},_0x319d28['slRbb']=function(_0x2e086b,_0x599458){return _0x2e086b>_0x599458;},_0x319d28[_0x554823(0x238)]=function(_0x5c5b31,_0x551255){return _0x5c5b31>_0x551255;},_0x319d28[_0x554823(0x20c)]=function(_0x54e871,_0x5224f7){return _0x54e871>_0x5224f7;},_0x319d28['IJyRO']=function(_0x427b00,_0x468815){return _0x427b00+_0x468815;},_0x319d28[_0x554823(0x20a)]=function(_0x58dfc3,_0x271322){return _0x58dfc3+_0x271322;},_0x319d28[_0x554823(0x25c)]=function(_0x8866df,_0x81f2a2){return _0x8866df+_0x81f2a2;},_0x319d28[_0x554823(0x210)]=function(_0x559ad5,_0x49a0c9){return _0x559ad5+_0x49a0c9;},_0x319d28['MDhcs']=function(_0xa686b4,_0x3390d8){return _0xa686b4+_0x3390d8;},_0x319d28[_0x554823(0x1ef)]=function(_0x2444ea,_0x4d3187){return _0x2444ea+_0x4d3187;},_0x319d28[_0x554823(0x203)]=function(_0x418440,_0x4a1baf){return _0x418440===_0x4a1baf;},_0x319d28[_0x554823(0x249)]=function(_0x2549f3,_0x4794bc){return _0x2549f3===_0x4794bc;},_0x319d28[_0x554823(0x222)]=_0x554823(0x234);const _0x49bdab=_0x319d28;let _0x465757=0x0;if(_0x49bdab[_0x554823(0x249)](_0x2c5171[_0x554823(0x233)],0x0))return _0x465757;return console[_0x554823(0x241)](chalk[_0x554823(0x1e6)][_0x554823(0x24c)](_0x49bdab[_0x554823(0x222)])),_0x2c5171[_0x554823(0x21f)](_0x21069a=>{const _0x23a4da=_0x554823,_0x4a0871=_0x21069a[0x0],_0x24b49b=_0x21069a[0x1];console[_0x23a4da(0x241)]('\x0a'+chalk['bold'][_0x23a4da(0x25b)](''+helper[_0x23a4da(0x1ec)](_0x4a0871)));const _0x87650b=_0x24b49b[_0x23a4da(0x237)],_0x3637f6=_0x24b49b[_0x23a4da(0x23a)],_0x32ac31=_0x24b49b[_0x23a4da(0x24d)],_0x2689d3=_0x24b49b[_0x23a4da(0x247)],_0xa4984d=_0x24b49b[_0x23a4da(0x1f0)],_0x41d23c=_0x24b49b['stepsSkipped'],_0x14e6de=_0x24b49b['stepsPending'],_0x11d605=_0x24b49b[_0x23a4da(0x231)],_0x3b3161=_0x24b49b[_0x23a4da(0x22f)],_0x5c2b6c=_0x24b49b['stepsAmbiguous'],_0x111c95=_0x24b49b[_0x23a4da(0x1ed)];let _0x316ef2=_0x87650b+_0x23a4da(0x1ff);const _0x2585d1=_0x49bdab[_0x23a4da(0x225)](_0x49bdab[_0x23a4da(0x21a)](_0x87650b,_0x32ac31),0x0)?_0x49bdab['xuibK'](_0x87650b,_0x32ac31):0x0;if(_0x49bdab['slRbb'](_0x32ac31,0x0)&&_0x49bdab[_0x23a4da(0x225)](_0x2585d1,0x0))_0x316ef2+='\x20('+chalk[_0x23a4da(0x1e6)]['red'](_0x32ac31+_0x23a4da(0x20f))+',\x20'+chalk[_0x23a4da(0x1e6)]['green'](_0x2585d1+_0x23a4da(0x24f))+')';else(_0x49bdab['slRbb'](_0x32ac31,0x0)||_0x49bdab[_0x23a4da(0x1de)](_0x2585d1,0x0))&&(_0x316ef2+=_0x49bdab[_0x23a4da(0x238)](_0x32ac31,0x0)?'\x20('+chalk[_0x23a4da(0x1e6)][_0x23a4da(0x20b)](_0x32ac31+_0x23a4da(0x20f))+')':'\x20('+chalk[_0x23a4da(0x1e6)][_0x23a4da(0x21b)](_0x2585d1+_0x23a4da(0x24f))+')');const _0x5e332d=_0x3637f6+_0x23a4da(0x1f7),_0x3fc63f=[];_0x49bdab[_0x23a4da(0x225)](_0x5c2b6c,0x0)&&_0x3fc63f[_0x23a4da(0x204)](''+chalk['bold']['red'](_0x5c2b6c+'\x20ambiguous'));_0x49bdab['slRbb'](_0x2689d3,0x0)&&_0x3fc63f[_0x23a4da(0x204)](''+chalk[_0x23a4da(0x1e6)][_0x23a4da(0x20b)](_0x2689d3+_0x23a4da(0x20f)));_0x49bdab[_0x23a4da(0x225)](_0xa4984d,0x0)&&_0x3fc63f[_0x23a4da(0x204)](''+chalk[_0x23a4da(0x1e6)][_0x23a4da(0x21b)](_0xa4984d+_0x23a4da(0x24f)));_0x49bdab['GeKtz'](_0x14e6de,0x0)&&_0x3fc63f[_0x23a4da(0x204)](''+chalk[_0x23a4da(0x1e6)][_0x23a4da(0x25b)](_0x14e6de+_0x23a4da(0x1e0)));_0x49bdab[_0x23a4da(0x238)](_0x41d23c,0x0)&&_0x3fc63f[_0x23a4da(0x204)](''+chalk[_0x23a4da(0x1e6)][_0x23a4da(0x245)](_0x41d23c+_0x23a4da(0x217)));_0x49bdab[_0x23a4da(0x238)](_0x11d605,0x0)&&_0x3fc63f[_0x23a4da(0x204)](''+chalk['bold'][_0x23a4da(0x25b)](_0x11d605+_0x23a4da(0x257)));_0x49bdab[_0x23a4da(0x20c)](_0x3b3161,0x0)&&_0x3fc63f[_0x23a4da(0x204)](''+chalk['bold'][_0x23a4da(0x25b)](_0x3b3161+_0x23a4da(0x217)));const _0x2e2377=_0x49bdab[_0x23a4da(0x1f4)](_0x49bdab[_0x23a4da(0x20a)](_0x49bdab['tqTdX'](_0x5e332d,'('),_0x3fc63f[_0x23a4da(0x1e2)](',\x20')),')');console[_0x23a4da(0x241)](_0x49bdab[_0x23a4da(0x210)](_0x49bdab[_0x23a4da(0x232)](_0x49bdab[_0x23a4da(0x1ef)](_0x49bdab['xOkUP']('\x0a',_0x316ef2),'\x0a'),_0x2e2377),'\x0a')),_0x49bdab[_0x23a4da(0x203)](_0x111c95,![])&&(_0x465757=0x1);}),_0x465757;}async function run(_0x339e30,_0x196d25,_0x4bfa9f){const _0x42b1a9=a5_0x10a62e,_0x407b4e={'EckAo':function(_0x28a329,_0x3bcbff){return _0x28a329(_0x3bcbff);},'XdFpg':function(_0x4f5185,_0x456cf4){return _0x4f5185>_0x456cf4;},'JTurq':_0x42b1a9(0x1dd),'MrWnW':_0x42b1a9(0x1fd),'IYddj':_0x42b1a9(0x202),'lZhVk':_0x42b1a9(0x23b),'eRNpx':_0x42b1a9(0x242),'dJAYu':function(_0x274d8a,_0x48d2c3){return _0x274d8a>_0x48d2c3;},'FGXEC':function(_0xe7d715,_0x682fe9){return _0xe7d715-_0x682fe9;},'DWVWj':function(_0x13fc47,_0x126e56){return _0x13fc47>=_0x126e56;},'lGXmm':function(_0x4acbc7,_0x1e08d2){return _0x4acbc7!=_0x1e08d2;},'gzvKM':'true','xxzwY':function(_0x414891,_0xaa2913,_0x508b89,_0x2de80b,_0x38478e,_0x4e552c){return _0x414891(_0xaa2913,_0x508b89,_0x2de80b,_0x38478e,_0x4e552c);}};await _0x4bfa9f[_0x42b1a9(0x253)](_0x339e30),helper[_0x42b1a9(0x259)](_0x4bfa9f[_0x42b1a9(0x201)],_0x339e30);!helper[_0x42b1a9(0x214)]()&&await _0x4bfa9f[_0x42b1a9(0x1fe)]();await helper[_0x42b1a9(0x22c)](_0x4bfa9f['config']);const _0x571faa=helper[_0x42b1a9(0x22a)](_0x4bfa9f['config']);!helper[_0x42b1a9(0x25a)](_0x4bfa9f['config'][_0x42b1a9(0x239)])&&(process['env'][_0x42b1a9(0x1f8)]=JSON[_0x42b1a9(0x24a)](_0x4bfa9f['config'][_0x42b1a9(0x239)]));const _0x3ed496=await TestHubHandler[_0x42b1a9(0x22b)](constants['FRAMEWORKS'][_0x42b1a9(0x212)],_0x4bfa9f),_0x36780d=helper[_0x42b1a9(0x24e)](_0x4bfa9f[_0x42b1a9(0x1e1)],_0x571faa,constants[_0x42b1a9(0x229)]['CUCUMBER']);if(!_0x4bfa9f[_0x42b1a9(0x1e1)])return;const _0x23d23c=_0x4bfa9f['config'][_0x42b1a9(0x211)]||helper[_0x42b1a9(0x226)](_0x339e30,_0x196d25,_0x4bfa9f['config'],constants[_0x42b1a9(0x229)][_0x42b1a9(0x212)])||0x1,_0x14a0ab={'server':helper[_0x42b1a9(0x21d)](_0x4bfa9f[_0x42b1a9(0x1e1)]),'proxySettings':_0x4bfa9f['config']['proxySettings'],'maxWorkers':_0x23d23c,'browserStackLogLevel':_0x4bfa9f[_0x42b1a9(0x1e1)]['logLevel'],'skipSessionName':_0x4bfa9f['config'][_0x42b1a9(0x23d)][_0x42b1a9(0x221)],'skipSessionStatus':_0x4bfa9f[_0x42b1a9(0x1e1)][_0x42b1a9(0x23d)]['skipSessionStatus'],'turboScaleUrl':_0x4bfa9f['config'][_0x42b1a9(0x22d)]},_0x1a9833=process['argv'],[_0x5076dd,_0x4dbce3]=helper[_0x42b1a9(0x24b)](_0x1a9833),_0x13fbca=path[_0x42b1a9(0x1e2)](process[_0x42b1a9(0x1fb)](),_0x407b4e[_0x42b1a9(0x1fa)]);if(_0x407b4e[_0x42b1a9(0x200)](_0x4dbce3[_0x42b1a9(0x233)],0x0)){helper[_0x42b1a9(0x1ea)](_0x13fbca);for(let _0x5b3758=_0x407b4e[_0x42b1a9(0x218)](_0x5076dd[_0x42b1a9(0x233)],0x1);_0x407b4e[_0x42b1a9(0x228)](_0x5b3758,0x0);_0x5b3758--){_0x1a9833[_0x42b1a9(0x230)](_0x5076dd[_0x5b3758],0x2);}}_0x407b4e['lGXmm'](_0x4bfa9f[_0x42b1a9(0x1e1)][_0x42b1a9(0x258)],null)?process['env'][_0x42b1a9(0x235)]=_0x4bfa9f[_0x42b1a9(0x1e1)][_0x42b1a9(0x258)]:process[_0x42b1a9(0x216)][_0x42b1a9(0x235)]=_0x407b4e[_0x42b1a9(0x21c)];PerformanceTester[_0x42b1a9(0x240)](PerformanceEvents[_0x42b1a9(0x1f1)]);let _0x324696;_0x407b4e[_0x42b1a9(0x1f2)](parallelCucumberRun,_0x36780d,_0x14a0ab,_0x4bfa9f[_0x42b1a9(0x1e1)],_0x1a9833,_0x4dbce3)[_0x42b1a9(0x20d)](async _0x103531=>{const _0x2d8548=_0x42b1a9;PerformanceTester['start'](PerformanceEvents[_0x2d8548(0x219)]),_0x324696=_0x103531;const _0x1e0bbf=_0x407b4e[_0x2d8548(0x23e)](printCucumberStats,_0x103531);process['exitCode']=_0x1e0bbf,_0x407b4e[_0x2d8548(0x248)](_0x4dbce3[_0x2d8548(0x233)],0x0)&&(logger['debug'](_0x407b4e['JTurq']),helper[_0x2d8548(0x21e)](_0x13fbca,_0x4dbce3),logger[_0x2d8548(0x252)](_0x407b4e[_0x2d8548(0x243)]),helper[_0x2d8548(0x256)](_0x13fbca));})[_0x42b1a9(0x220)](async()=>{const _0x2662ad=_0x42b1a9;PerformanceTester[_0x2662ad(0x208)](PerformanceEvents[_0x2662ad(0x219)]),_0x4bfa9f[_0x2662ad(0x22e)]=helper[_0x2662ad(0x1e8)](_0x324696,_0x407b4e['IYddj']),testOpsHelper[_0x2662ad(0x1e9)]();try{await TestHubHandler[_0x2662ad(0x227)]();}catch(_0x1998c0){logger[_0x2662ad(0x252)](_0x2662ad(0x1dc)+util[_0x2662ad(0x1e7)](_0x1998c0));}try{const {browserstackFolderPath:_0x6f9990,tcgConfigPath:_0x2f385c}=helper[_0x2662ad(0x206)]();fs[_0x2662ad(0x1ee)](_0x2f385c),fs['rmdirSync'](_0x6f9990);}catch(_0x373d03){logger[_0x2662ad(0x252)](_0x407b4e['lZhVk'],_0x373d03);}await utilities['finalExecution'](_0x4bfa9f);});}module[a5_0x10a62e(0x20e)]=run;