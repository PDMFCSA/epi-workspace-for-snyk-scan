#!/usr/bin/env node
'use strict';function a5_0x2b74(){const _0x33652c=['SlXVk','testObservability','CUCUMBER','../../helpers/performance/constants','scenariosFailed','useW3C','GsvlJ','GXhGb','start','yellow','5891262vqnGsh','fCeJh','eCXpc','enHzG','Generating\x20consolidated\x20report...','cucumber','launchBuild','processSuccess','pAwFt','tjkOB','\x20ambiguous','664392sakqeN','1twbIIO','cyan','RUXQn','stringify','22067152UrWUtY','length','5548536Kpzemf','printBuildLink','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','steps','stepsAmbiguous','testContextOptions','stop','parallelsPerPlatform','errorMessage','stepsSkipped','../../helpers/test-observability/utils','../../helpers/BrowserStackSetup','finally','env','then','push','mergeOutputFiles','initialize','argv','BROWSERSTACK_TEST_OBSERVABILITY_YML','1314452nekFDa','2878828ghQPxS','\x20scenarios','../../helpers/testhub/testhubHandler','stepsUndefined','prepareCapabilities','turboScaleUrl','forEach','splice','stepsPassed','getErrorMessageFromResults','SDK_CLEANUP','end','AbWsM','accessibilityOptions','\x20pending','\x20passed','../utils/constants','EVENTS','stepsPending','432295UgUuDC','framework','stepsFailed','\x20failed','proxySettings','../../helpers/logger','qprIL','red','QYbkM','finalExecution','\x20undefined','lQvqP','FRAMEWORKS','green','vrcmt','wZBTu','OtHrI','YLEOI','ZpztW','../../helpers/helper','lCDtb','IOoNv','logLevel','format','depcV','xtpSu','\x20steps','cwd','debug','tmp','hFpiq','KPxlo','bold','../../helpers/utilities','config','getPlatformName','createDir','log','stepsUnknown','chalk','****\x20RESULTS\x20****','siHlo','zMNFQ','unlinkSync','NJOtd','parseFormatters','../../helpers/performance/performance-tester','join','exitCode','winstonLogger','bgWhite','SDK_SETUP','../test-runner','isBrowserstackInfra','\x20skipped','rmdirSync','handleApp','exports'];a5_0x2b74=function(){return _0x33652c;};return a5_0x2b74();}const a5_0x23b060=a5_0x5257;(function(_0x51522c,_0x2a8aed){const _0x191523=a5_0x5257,_0x36bfa7=_0x51522c();while(!![]){try{const _0x50f863=-parseInt(_0x191523(0xff))/0x1*(-parseInt(_0x191523(0x119))/0x2)+parseInt(_0x191523(0xfe))/0x3+parseInt(_0x191523(0x11a))/0x4+parseInt(_0x191523(0x12d))/0x5+parseInt(_0x191523(0xf3))/0x6+parseInt(_0x191523(0x105))/0x7+-parseInt(_0x191523(0x103))/0x8;if(_0x50f863===_0x2a8aed)break;else _0x36bfa7['push'](_0x36bfa7['shift']());}catch(_0x1077ec){_0x36bfa7['push'](_0x36bfa7['shift']());}}}(a5_0x2b74,0xab23b));function a5_0x5257(_0x30612e,_0x2ea1a3){const _0x2b7482=a5_0x2b74();return a5_0x5257=function(_0x52579a,_0x3ad202){_0x52579a=_0x52579a-0xeb;let _0x5dafa9=_0x2b7482[_0x52579a];return _0x5dafa9;},a5_0x5257(_0x30612e,_0x2ea1a3);}const fs=require('fs'),path=require('path'),util=require('util'),logger=require(a5_0x23b060(0x132))[a5_0x23b060(0x15e)],{default:BrowserStackSetup}=require(a5_0x23b060(0x110)),helper=require(a5_0x23b060(0x140)),utilities=require(a5_0x23b060(0x14e)),constants=require(a5_0x23b060(0x12a)),{parallelCucumberRun}=require(a5_0x23b060(0x161)),TestHubHandler=require(a5_0x23b060(0x11c)),testOpsHelper=require(a5_0x23b060(0x10f)),chalk=require(a5_0x23b060(0x154)),PerformanceTester=require(a5_0x23b060(0x15b)),PerformanceEvents=require(a5_0x23b060(0xec))[a5_0x23b060(0x12b)];function printCucumberStats(_0x45515f){const _0x35e59b=a5_0x23b060,_0xf66cd={};_0xf66cd[_0x35e59b(0xf0)]=function(_0x7f80ff,_0x5309d2){return _0x7f80ff>_0x5309d2;},_0xf66cd[_0x35e59b(0x101)]=function(_0x6aa278,_0x3a971f){return _0x6aa278-_0x3a971f;},_0xf66cd[_0x35e59b(0x157)]=function(_0x1c5718,_0x15e946){return _0x1c5718>_0x15e946;},_0xf66cd['vrcmt']=function(_0x2c970c,_0x5b5d0d){return _0x2c970c>_0x5b5d0d;},_0xf66cd[_0x35e59b(0x141)]=function(_0x133deb,_0x1903f6){return _0x133deb>_0x1903f6;},_0xf66cd[_0x35e59b(0xf6)]=function(_0x303630,_0x4dff1e){return _0x303630>_0x4dff1e;},_0xf66cd[_0x35e59b(0xfc)]=function(_0x155360,_0x3e6e68){return _0x155360>_0x3e6e68;},_0xf66cd[_0x35e59b(0x133)]=function(_0x501fa2,_0x467a03){return _0x501fa2>_0x467a03;},_0xf66cd['AbWsM']=function(_0x261735,_0x1360ae){return _0x261735>_0x1360ae;},_0xf66cd[_0x35e59b(0x13c)]=function(_0x2f90e6,_0x3f9d53){return _0x2f90e6>_0x3f9d53;},_0xf66cd['GsvlJ']=function(_0x15d41f,_0x3d6e30){return _0x15d41f+_0x3d6e30;},_0xf66cd['siHlo']=function(_0x51994d,_0x2a870e){return _0x51994d+_0x2a870e;},_0xf66cd[_0x35e59b(0x13e)]=function(_0x31a642,_0x21721a){return _0x31a642+_0x21721a;},_0xf66cd[_0x35e59b(0x145)]=function(_0x5c92eb,_0x1d74a1){return _0x5c92eb+_0x1d74a1;},_0xf66cd['ZpztW']=function(_0x57fddd,_0x8b0f3a){return _0x57fddd+_0x8b0f3a;},_0xf66cd[_0x35e59b(0xf5)]=function(_0x5eb888,_0x270bf7){return _0x5eb888===_0x270bf7;},_0xf66cd[_0x35e59b(0x135)]=_0x35e59b(0x155);const _0x4b760c=_0xf66cd;let _0x57746f=0x0;if(_0x4b760c['eCXpc'](_0x45515f[_0x35e59b(0x104)],0x0))return _0x57746f;return console[_0x35e59b(0x152)](chalk[_0x35e59b(0x14d)][_0x35e59b(0x15f)](_0x4b760c[_0x35e59b(0x135)])),_0x45515f[_0x35e59b(0x120)](_0xf0ebcd=>{const _0x2b2aa=_0x35e59b,_0x23d314=_0xf0ebcd[0x0],_0xd1e5ab=_0xf0ebcd[0x1];console[_0x2b2aa(0x152)]('\x0a'+chalk['bold']['yellow'](''+helper[_0x2b2aa(0x150)](_0x23d314)));const _0x383da6=_0xd1e5ab['scenarios'],_0x355476=_0xd1e5ab[_0x2b2aa(0x108)],_0x13f67c=_0xd1e5ab[_0x2b2aa(0xed)],_0x2a837d=_0xd1e5ab[_0x2b2aa(0x12f)],_0x59c0e2=_0xd1e5ab[_0x2b2aa(0x122)],_0x4178d5=_0xd1e5ab[_0x2b2aa(0x10e)],_0xc96c6d=_0xd1e5ab[_0x2b2aa(0x12c)],_0x3bff23=_0xd1e5ab[_0x2b2aa(0x11d)],_0x2ea714=_0xd1e5ab[_0x2b2aa(0x153)],_0x3b4b12=_0xd1e5ab[_0x2b2aa(0x109)],_0x22ae34=_0xd1e5ab[_0x2b2aa(0xfa)];let _0x4e3168=_0x383da6+_0x2b2aa(0x11b);const _0x2687f9=_0x4b760c[_0x2b2aa(0xf0)](_0x4b760c[_0x2b2aa(0x101)](_0x383da6,_0x13f67c),0x0)?_0x4b760c[_0x2b2aa(0x101)](_0x383da6,_0x13f67c):0x0;if(_0x4b760c[_0x2b2aa(0x157)](_0x13f67c,0x0)&&_0x4b760c[_0x2b2aa(0x13b)](_0x2687f9,0x0))_0x4e3168+='\x20('+chalk['bold'][_0x2b2aa(0x134)](_0x13f67c+_0x2b2aa(0x130))+',\x20'+chalk[_0x2b2aa(0x14d)][_0x2b2aa(0x13a)](_0x2687f9+_0x2b2aa(0x129))+')';else(_0x4b760c[_0x2b2aa(0x13b)](_0x13f67c,0x0)||_0x4b760c[_0x2b2aa(0x141)](_0x2687f9,0x0))&&(_0x4e3168+=_0x4b760c['enHzG'](_0x13f67c,0x0)?'\x20('+chalk[_0x2b2aa(0x14d)][_0x2b2aa(0x134)](_0x13f67c+'\x20failed')+')':'\x20('+chalk['bold'][_0x2b2aa(0x13a)](_0x2687f9+_0x2b2aa(0x129))+')');const _0x258824=_0x355476+_0x2b2aa(0x147),_0x52957d=[];_0x4b760c[_0x2b2aa(0xfc)](_0x3b4b12,0x0)&&_0x52957d[_0x2b2aa(0x114)](''+chalk['bold']['red'](_0x3b4b12+_0x2b2aa(0xfd)));_0x4b760c[_0x2b2aa(0x13b)](_0x2a837d,0x0)&&_0x52957d['push'](''+chalk[_0x2b2aa(0x14d)][_0x2b2aa(0x134)](_0x2a837d+_0x2b2aa(0x130)));_0x4b760c['qprIL'](_0x59c0e2,0x0)&&_0x52957d['push'](''+chalk['bold'][_0x2b2aa(0x13a)](_0x59c0e2+_0x2b2aa(0x129)));_0x4b760c[_0x2b2aa(0x126)](_0xc96c6d,0x0)&&_0x52957d[_0x2b2aa(0x114)](''+chalk[_0x2b2aa(0x14d)][_0x2b2aa(0xf2)](_0xc96c6d+_0x2b2aa(0x128)));_0x4b760c[_0x2b2aa(0x13c)](_0x4178d5,0x0)&&_0x52957d[_0x2b2aa(0x114)](''+chalk[_0x2b2aa(0x14d)][_0x2b2aa(0x100)](_0x4178d5+_0x2b2aa(0x163)));_0x4b760c['tjkOB'](_0x3bff23,0x0)&&_0x52957d[_0x2b2aa(0x114)](''+chalk['bold'][_0x2b2aa(0xf2)](_0x3bff23+_0x2b2aa(0x137)));_0x4b760c[_0x2b2aa(0xfc)](_0x2ea714,0x0)&&_0x52957d[_0x2b2aa(0x114)](''+chalk['bold'][_0x2b2aa(0xf2)](_0x2ea714+_0x2b2aa(0x163)));const _0x5ddb00=_0x4b760c[_0x2b2aa(0xef)](_0x4b760c[_0x2b2aa(0x156)](_0x4b760c['YLEOI'](_0x258824,'('),_0x52957d[_0x2b2aa(0x15c)](',\x20')),')');console['log'](_0x4b760c[_0x2b2aa(0x145)](_0x4b760c[_0x2b2aa(0x156)](_0x4b760c['depcV'](_0x4b760c[_0x2b2aa(0x13f)]('\x0a',_0x4e3168),'\x0a'),_0x5ddb00),'\x0a')),_0x4b760c['eCXpc'](_0x22ae34,![])&&(_0x57746f=0x1);}),_0x57746f;}async function run(_0x1cc7dd,_0x4dd620){const _0x15f1da=a5_0x23b060,_0x1301af={'fCeJh':function(_0x48a75c,_0x4d7bbf){return _0x48a75c(_0x4d7bbf);},'OtHrI':function(_0x215d27,_0x22451f){return _0x215d27>_0x22451f;},'hFpiq':_0x15f1da(0xf7),'gRrIu':'Removing\x20tmp\x20directory\x20created\x20for\x20reports','uwhZO':_0x15f1da(0xf8),'UAkvV':'error\x20removing\x20tcg\x20config\x20file','SlXVk':'cucumber-js','QxCId':_0x15f1da(0x14a),'xtpSu':function(_0x169960,_0x749d74){return _0x169960>_0x749d74;},'KPxlo':function(_0x289ab4,_0x3459bb){return _0x289ab4-_0x3459bb;},'lQvqP':function(_0x1efc4c,_0x230c2c){return _0x1efc4c>=_0x230c2c;},'IOoNv':function(_0x573b4c,_0x4ea109){return _0x573b4c!=_0x4ea109;},'NJOtd':'true','pAwFt':function(_0x49e293,_0x16b27a,_0xf4e05b,_0x3e2952,_0x11d1b6,_0x245c77){return _0x49e293(_0x16b27a,_0xf4e05b,_0x3e2952,_0x11d1b6,_0x245c77);}},_0x31f293=new BrowserStackSetup(_0x1cc7dd,_0x1301af[_0x15f1da(0x167)]);await _0x31f293[_0x15f1da(0x116)](),helper['setUserConfigPath'](_0x31f293[_0x15f1da(0x12e)],_0x1cc7dd);!helper[_0x15f1da(0x162)]()&&await _0x31f293['setupTCGAuth']();await helper[_0x15f1da(0x165)](_0x31f293[_0x15f1da(0x14f)]);const _0x934563=helper[_0x15f1da(0xee)](_0x31f293[_0x15f1da(0x14f)]),_0x35144e=helper[_0x15f1da(0x11e)](_0x31f293[_0x15f1da(0x14f)],_0x934563,constants[_0x15f1da(0x139)][_0x15f1da(0xeb)]);if(!_0x31f293[_0x15f1da(0x14f)])return;const _0x2e30c8=_0x31f293[_0x15f1da(0x14f)][_0x15f1da(0x10c)]||helper['getUserWorkerCount'](_0x1cc7dd,_0x4dd620,_0x31f293[_0x15f1da(0x14f)],constants[_0x15f1da(0x139)][_0x15f1da(0xeb)])||0x1,_0x473bfc={'server':helper['getHubUrl'](_0x31f293[_0x15f1da(0x14f)]),'proxySettings':_0x31f293[_0x15f1da(0x14f)][_0x15f1da(0x131)],'maxWorkers':_0x2e30c8,'browserStackLogLevel':_0x31f293[_0x15f1da(0x14f)][_0x15f1da(0x143)],'skipSessionName':_0x31f293['config'][_0x15f1da(0x10a)]['skipSessionName'],'skipSessionStatus':_0x31f293[_0x15f1da(0x14f)][_0x15f1da(0x10a)]['skipSessionStatus'],'turboScaleUrl':_0x31f293[_0x15f1da(0x14f)][_0x15f1da(0x11f)]},_0x139802=process[_0x15f1da(0x117)],[_0x3419d5,_0x354346]=helper[_0x15f1da(0x15a)](_0x139802),_0x58c981=path['join'](process[_0x15f1da(0x148)](),_0x1301af['QxCId']);if(_0x1301af[_0x15f1da(0x146)](_0x354346[_0x15f1da(0x104)],0x0)){helper[_0x15f1da(0x151)](_0x58c981);for(let _0x342e94=_0x1301af[_0x15f1da(0x14c)](_0x3419d5[_0x15f1da(0x104)],0x1);_0x1301af[_0x15f1da(0x138)](_0x342e94,0x0);_0x342e94--){_0x139802[_0x15f1da(0x121)](_0x3419d5[_0x342e94],0x2);}}!helper['isUndefined'](_0x31f293[_0x15f1da(0x14f)][_0x15f1da(0x127)])&&(process[_0x15f1da(0x112)][_0x15f1da(0x107)]=JSON[_0x15f1da(0x102)](_0x31f293['config'][_0x15f1da(0x127)]));_0x1301af[_0x15f1da(0x142)](_0x31f293[_0x15f1da(0x14f)][_0x15f1da(0x168)],null)?process[_0x15f1da(0x112)][_0x15f1da(0x118)]=_0x31f293[_0x15f1da(0x14f)][_0x15f1da(0x168)]:process[_0x15f1da(0x112)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x1301af[_0x15f1da(0x159)];const _0xb97625=await TestHubHandler[_0x15f1da(0xf9)](constants[_0x15f1da(0x139)][_0x15f1da(0xeb)],_0x31f293);PerformanceTester[_0x15f1da(0x125)](PerformanceEvents[_0x15f1da(0x160)]);let _0x6dc133;_0x1301af[_0x15f1da(0xfb)](parallelCucumberRun,_0x35144e,_0x473bfc,_0x31f293[_0x15f1da(0x14f)],_0x139802,_0x354346)[_0x15f1da(0x113)](async _0x14869d=>{const _0x23303c=_0x15f1da;PerformanceTester[_0x23303c(0xf1)](PerformanceEvents['SDK_CLEANUP']),_0x6dc133=_0x14869d;const _0x4b380b=_0x1301af[_0x23303c(0xf4)](printCucumberStats,_0x14869d);process[_0x23303c(0x15d)]=_0x4b380b,_0x1301af[_0x23303c(0x13d)](_0x354346[_0x23303c(0x104)],0x0)&&(logger[_0x23303c(0x149)](_0x1301af[_0x23303c(0x14b)]),helper[_0x23303c(0x115)](_0x58c981,_0x354346),logger[_0x23303c(0x149)](_0x1301af['gRrIu']),helper['removeDir'](_0x58c981));})[_0x15f1da(0x111)](async()=>{const _0x5518ae=_0x15f1da;PerformanceTester[_0x5518ae(0xf1)](PerformanceEvents[_0x5518ae(0x124)]),_0x31f293[_0x5518ae(0x10d)]=helper[_0x5518ae(0x123)](_0x6dc133,_0x1301af['uwhZO']),testOpsHelper[_0x5518ae(0x106)]();try{await TestHubHandler[_0x5518ae(0x10b)]();}catch(_0x1dcd38){logger[_0x5518ae(0x149)]('Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20'+util[_0x5518ae(0x144)](_0x1dcd38));}try{const {browserstackFolderPath:_0x1ad5e7,tcgConfigPath:_0x2a8506}=helper['getTCGConfigFilePaths']();fs[_0x5518ae(0x158)](_0x2a8506),fs[_0x5518ae(0x164)](_0x1ad5e7);}catch(_0x1f4a46){logger[_0x5518ae(0x149)](_0x1301af['UAkvV'],_0x1f4a46);}await utilities[_0x5518ae(0x136)](_0x31f293);});}module[a5_0x23b060(0x166)]=run;