#!/usr/bin/env node
'use strict';function a5_0x4c47(){const _0x3dcd0f=['5fqBkaZ','config','Removing\x20tmp\x20directory\x20created\x20for\x20reports','\x20pending','DKZwE','../../helpers/utilities','stepsUnknown','EzaLn','XLYUl','195554ZSuqvk','red','getTCGConfigFilePaths','forEach','winstonLogger','framework','BROWSERSTACK_TEST_OBSERVABILITY_YML','../../helpers/performance/constants','start','../../helpers/helper','setupTCGAuth','fGlVV','debug','GnoVf','cwd','chalk','EXres','error\x20removing\x20tcg\x20config\x20file','Generating\x20consolidated\x20report...','tmp','FtABv','../../helpers/test-observability/utils','scenariosFailed','format','\x20undefined','path','parallelsPerPlatform','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','green','FRAMEWORKS','isBrowserstackInfra','gNxIv','YBEmz','zFgyb','bgWhite','getHubUrl','hOYSU','removeDir','processSuccess','CUCUMBER','steps','xWxVx','OyabZ','getUserWorkerCount','join','\x20ambiguous','30EDFvIj','turboScaleUrl','then','stepsAmbiguous','\x20failed','EVENTS','mYcBN','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','argv','log','exitCode','ZHLFd','stop','vgYyd','../../helpers/logger','testContextOptions','SDK_CLEANUP','true','UQZQv','../utils/constants','****\x20RESULTS\x20****','mergeOutputFiles','useW3C','TydOW','1118250qdbllW','cucumber','yellow','3943616HTlZwT','HFLGM','initialize','rmdirSync','proxySettings','bold','VpMCX','length','push','../../helpers/BrowserStackSetup','ILRCA','\x20passed','oyofl','env','stringify','finalExecution','MzVtY','stepsUndefined','xVfkB','handleApp','getPlatformName','100ONlhwx','logLevel','399015cLwlHY','\x20steps','isUndefined','stepsFailed','../test-runner','accessibilityOptions','launchBuild','1475404GLqFAa','skipSessionName','setUserConfigPath','util','555768QpiVId','testObservability','1942199rEjPBY'];a5_0x4c47=function(){return _0x3dcd0f;};return a5_0x4c47();}const a5_0x209adf=a5_0x1194;(function(_0x3470c2,_0x1bb8cf){const _0xd62e38=a5_0x1194,_0x34b1a3=_0x3470c2();while(!![]){try{const _0x4afb35=parseInt(_0xd62e38(0x1b3))/0x1*(-parseInt(_0xd62e38(0x1bc))/0x2)+parseInt(_0xd62e38(0x18b))/0x3+parseInt(_0xd62e38(0x1ac))/0x4+parseInt(_0xd62e38(0x1a5))/0x5*(parseInt(_0xd62e38(0x173))/0x6)+-parseInt(_0xd62e38(0x1b2))/0x7+parseInt(_0xd62e38(0x18e))/0x8+parseInt(_0xd62e38(0x1b0))/0x9*(-parseInt(_0xd62e38(0x1a3))/0xa);if(_0x4afb35===_0x1bb8cf)break;else _0x34b1a3['push'](_0x34b1a3['shift']());}catch(_0x1c0b11){_0x34b1a3['push'](_0x34b1a3['shift']());}}}(a5_0x4c47,0x3cf6a));function a5_0x1194(_0x2fba02,_0x5df67f){const _0x4c4765=a5_0x4c47();return a5_0x1194=function(_0x11946a,_0x3dc42c){_0x11946a=_0x11946a-0x154;let _0x3f7fd6=_0x4c4765[_0x11946a];return _0x3f7fd6;},a5_0x1194(_0x2fba02,_0x5df67f);}const fs=require('fs'),path=require(a5_0x209adf(0x15e)),util=require(a5_0x209adf(0x1af)),logger=require(a5_0x209adf(0x181))[a5_0x209adf(0x1c0)],{default:BrowserStackSetup}=require(a5_0x209adf(0x197)),helper=require(a5_0x209adf(0x1c5)),utilities=require(a5_0x209adf(0x1b8)),constants=require(a5_0x209adf(0x186)),{parallelCucumberRun}=require(a5_0x209adf(0x1a9)),TestHubHandler=require('../../helpers/testhub/testhubHandler'),testOpsHelper=require(a5_0x209adf(0x15a)),chalk=require(a5_0x209adf(0x154)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a5_0x209adf(0x1c3))[a5_0x209adf(0x178)];function printCucumberStats(_0x48f76e){const _0x34af7c=a5_0x209adf,_0x14dffa={};_0x14dffa['zFgyb']=function(_0x49834d,_0x10661d){return _0x49834d>_0x10661d;},_0x14dffa[_0x34af7c(0x1c7)]=function(_0x123686,_0x3a34c1){return _0x123686-_0x3a34c1;},_0x14dffa['FtABv']=function(_0x4ae32f,_0x3f802d){return _0x4ae32f-_0x3f802d;},_0x14dffa[_0x34af7c(0x19e)]=function(_0x3378b1,_0x50c2ae){return _0x3378b1>_0x50c2ae;},_0x14dffa['mYcBN']=function(_0x1051b0,_0x1cc66a){return _0x1051b0>_0x1cc66a;},_0x14dffa[_0x34af7c(0x17e)]=function(_0x3e07cb,_0x283fd3){return _0x3e07cb>_0x283fd3;},_0x14dffa[_0x34af7c(0x164)]=function(_0x20ba80,_0x4f6f01){return _0x20ba80>_0x4f6f01;},_0x14dffa[_0x34af7c(0x1bb)]=function(_0x2c438d,_0x42e21d){return _0x2c438d>_0x42e21d;},_0x14dffa[_0x34af7c(0x194)]=function(_0x1b474e,_0x29970e){return _0x1b474e+_0x29970e;},_0x14dffa[_0x34af7c(0x180)]=function(_0x3955ae,_0x5ca57d){return _0x3955ae+_0x5ca57d;},_0x14dffa[_0x34af7c(0x185)]=function(_0x8c339e,_0x429b27){return _0x8c339e+_0x429b27;},_0x14dffa[_0x34af7c(0x155)]=function(_0x58f520,_0x34de35){return _0x58f520===_0x34de35;},_0x14dffa[_0x34af7c(0x1c9)]=_0x34af7c(0x187);const _0x53a41e=_0x14dffa;let _0x32b197=0x0;if(_0x53a41e[_0x34af7c(0x155)](_0x48f76e['length'],0x0))return _0x32b197;return console['log'](chalk[_0x34af7c(0x193)][_0x34af7c(0x167)](_0x53a41e[_0x34af7c(0x1c9)])),_0x48f76e[_0x34af7c(0x1bf)](_0x37f5ae=>{const _0x4b8fd4=_0x34af7c,_0x2b3470=_0x37f5ae[0x0],_0x2d790a=_0x37f5ae[0x1];console[_0x4b8fd4(0x17c)]('\x0a'+chalk[_0x4b8fd4(0x193)][_0x4b8fd4(0x18d)](''+helper[_0x4b8fd4(0x1a2)](_0x2b3470)));const _0xd9f62c=_0x2d790a['scenarios'],_0x6d6ad6=_0x2d790a[_0x4b8fd4(0x16d)],_0x1089f6=_0x2d790a[_0x4b8fd4(0x15b)],_0x4d9a23=_0x2d790a[_0x4b8fd4(0x1a8)],_0x4d82df=_0x2d790a['stepsPassed'],_0x528572=_0x2d790a['stepsSkipped'],_0x18fbbf=_0x2d790a['stepsPending'],_0x56094c=_0x2d790a[_0x4b8fd4(0x19f)],_0x1568e9=_0x2d790a[_0x4b8fd4(0x1b9)],_0x5522ef=_0x2d790a[_0x4b8fd4(0x176)],_0x59b8c8=_0x2d790a[_0x4b8fd4(0x16b)];let _0x19c2a3=_0xd9f62c+'\x20scenarios';const _0x1f6387=_0x53a41e['zFgyb'](_0x53a41e[_0x4b8fd4(0x1c7)](_0xd9f62c,_0x1089f6),0x0)?_0x53a41e[_0x4b8fd4(0x159)](_0xd9f62c,_0x1089f6):0x0;if(_0x53a41e[_0x4b8fd4(0x166)](_0x1089f6,0x0)&&_0x53a41e[_0x4b8fd4(0x166)](_0x1f6387,0x0))_0x19c2a3+='\x20('+chalk['bold'][_0x4b8fd4(0x1bd)](_0x1089f6+_0x4b8fd4(0x177))+',\x20'+chalk['bold']['green'](_0x1f6387+'\x20passed')+')';else(_0x53a41e[_0x4b8fd4(0x166)](_0x1089f6,0x0)||_0x53a41e[_0x4b8fd4(0x19e)](_0x1f6387,0x0))&&(_0x19c2a3+=_0x53a41e[_0x4b8fd4(0x179)](_0x1089f6,0x0)?'\x20('+chalk['bold']['red'](_0x1089f6+_0x4b8fd4(0x177))+')':'\x20('+chalk[_0x4b8fd4(0x193)][_0x4b8fd4(0x161)](_0x1f6387+_0x4b8fd4(0x199))+')');const _0x57f160=_0x6d6ad6+_0x4b8fd4(0x1a6),_0x4b9283=[];_0x53a41e['MzVtY'](_0x5522ef,0x0)&&_0x4b9283[_0x4b8fd4(0x196)](''+chalk[_0x4b8fd4(0x193)][_0x4b8fd4(0x1bd)](_0x5522ef+_0x4b8fd4(0x172)));_0x53a41e[_0x4b8fd4(0x17e)](_0x4d9a23,0x0)&&_0x4b9283[_0x4b8fd4(0x196)](''+chalk['bold']['red'](_0x4d9a23+_0x4b8fd4(0x177)));_0x53a41e[_0x4b8fd4(0x17e)](_0x4d82df,0x0)&&_0x4b9283[_0x4b8fd4(0x196)](''+chalk[_0x4b8fd4(0x193)][_0x4b8fd4(0x161)](_0x4d82df+'\x20passed'));_0x53a41e[_0x4b8fd4(0x17e)](_0x18fbbf,0x0)&&_0x4b9283[_0x4b8fd4(0x196)](''+chalk[_0x4b8fd4(0x193)][_0x4b8fd4(0x18d)](_0x18fbbf+_0x4b8fd4(0x1b6)));_0x53a41e[_0x4b8fd4(0x164)](_0x528572,0x0)&&_0x4b9283['push'](''+chalk[_0x4b8fd4(0x193)]['cyan'](_0x528572+'\x20skipped'));_0x53a41e['XLYUl'](_0x56094c,0x0)&&_0x4b9283[_0x4b8fd4(0x196)](''+chalk[_0x4b8fd4(0x193)][_0x4b8fd4(0x18d)](_0x56094c+_0x4b8fd4(0x15d)));_0x53a41e[_0x4b8fd4(0x19e)](_0x1568e9,0x0)&&_0x4b9283['push'](''+chalk['bold'][_0x4b8fd4(0x18d)](_0x1568e9+'\x20skipped'));const _0x31f4a6=_0x53a41e[_0x4b8fd4(0x194)](_0x53a41e[_0x4b8fd4(0x194)](_0x53a41e[_0x4b8fd4(0x194)](_0x57f160,'('),_0x4b9283[_0x4b8fd4(0x171)](',\x20')),')');console['log'](_0x53a41e[_0x4b8fd4(0x180)](_0x53a41e[_0x4b8fd4(0x194)](_0x53a41e[_0x4b8fd4(0x185)](_0x53a41e[_0x4b8fd4(0x194)]('\x0a',_0x19c2a3),'\x0a'),_0x31f4a6),'\x0a')),_0x53a41e[_0x4b8fd4(0x155)](_0x59b8c8,![])&&(_0x32b197=0x1);}),_0x32b197;}async function run(_0x162c43,_0x1d78e1){const _0x48eb23=a5_0x209adf,_0x46d574={'DKZwE':function(_0x2d99b0,_0x47a73d){return _0x2d99b0(_0x47a73d);},'TydOW':function(_0x1a3827,_0x234976){return _0x1a3827>_0x234976;},'YBEmz':_0x48eb23(0x157),'JVjkx':_0x48eb23(0x1b5),'xWxVx':_0x48eb23(0x18c),'xVfkB':_0x48eb23(0x156),'oyofl':'cucumber-js','zLoTX':_0x48eb23(0x158),'EzaLn':function(_0x42d782,_0x2f6412){return _0x42d782>_0x2f6412;},'hOYSU':function(_0x5b64a3,_0x1648f7){return _0x5b64a3-_0x1648f7;},'ILRCA':function(_0x439e71,_0x5cba8e){return _0x439e71>=_0x5cba8e;},'HFLGM':function(_0x152eaf,_0x2c7255){return _0x152eaf!=_0x2c7255;},'dNxgo':_0x48eb23(0x184),'OyabZ':function(_0x3b341c,_0x3f4c48,_0x22ec9e,_0x576be9,_0x4bbbd2,_0x40047b){return _0x3b341c(_0x3f4c48,_0x22ec9e,_0x576be9,_0x4bbbd2,_0x40047b);}},_0x2076f9=new BrowserStackSetup(_0x162c43,_0x46d574[_0x48eb23(0x19a)]);await _0x2076f9[_0x48eb23(0x190)](),helper[_0x48eb23(0x1ae)](_0x2076f9[_0x48eb23(0x1c1)],_0x162c43);!helper[_0x48eb23(0x163)]()&&await _0x2076f9[_0x48eb23(0x1c6)]();await helper[_0x48eb23(0x1a1)](_0x2076f9[_0x48eb23(0x1b4)]);const _0x3d7912=helper[_0x48eb23(0x189)](_0x2076f9[_0x48eb23(0x1b4)]),_0x57d3eb=helper['prepareCapabilities'](_0x2076f9['config'],_0x3d7912,constants[_0x48eb23(0x162)]['CUCUMBER']);if(!_0x2076f9[_0x48eb23(0x1b4)])return;const _0x1e49b6=_0x2076f9[_0x48eb23(0x1b4)][_0x48eb23(0x15f)]||helper[_0x48eb23(0x170)](_0x162c43,_0x1d78e1,_0x2076f9[_0x48eb23(0x1b4)],constants['FRAMEWORKS'][_0x48eb23(0x16c)])||0x1,_0x4c19fa={'server':helper[_0x48eb23(0x168)](_0x2076f9[_0x48eb23(0x1b4)]),'proxySettings':_0x2076f9['config'][_0x48eb23(0x192)],'maxWorkers':_0x1e49b6,'browserStackLogLevel':_0x2076f9[_0x48eb23(0x1b4)][_0x48eb23(0x1a4)],'skipSessionName':_0x2076f9[_0x48eb23(0x1b4)][_0x48eb23(0x182)][_0x48eb23(0x1ad)],'skipSessionStatus':_0x2076f9['config'][_0x48eb23(0x182)]['skipSessionStatus'],'turboScaleUrl':_0x2076f9[_0x48eb23(0x1b4)][_0x48eb23(0x174)]},_0x5a4dcc=process[_0x48eb23(0x17b)],[_0x50f2d2,_0x2c7046]=helper['parseFormatters'](_0x5a4dcc),_0x424e3e=path[_0x48eb23(0x171)](process[_0x48eb23(0x1ca)](),_0x46d574['zLoTX']);if(_0x46d574[_0x48eb23(0x1ba)](_0x2c7046[_0x48eb23(0x195)],0x0)){helper['createDir'](_0x424e3e);for(let _0x2cf6f0=_0x46d574[_0x48eb23(0x169)](_0x50f2d2[_0x48eb23(0x195)],0x1);_0x46d574[_0x48eb23(0x198)](_0x2cf6f0,0x0);_0x2cf6f0--){_0x5a4dcc['splice'](_0x50f2d2[_0x2cf6f0],0x2);}}!helper[_0x48eb23(0x1a7)](_0x2076f9[_0x48eb23(0x1b4)][_0x48eb23(0x1aa)])&&(process[_0x48eb23(0x19b)][_0x48eb23(0x160)]=JSON[_0x48eb23(0x19c)](_0x2076f9[_0x48eb23(0x1b4)][_0x48eb23(0x1aa)]));_0x46d574[_0x48eb23(0x18f)](_0x2076f9[_0x48eb23(0x1b4)][_0x48eb23(0x1b1)],null)?process[_0x48eb23(0x19b)][_0x48eb23(0x1c2)]=_0x2076f9[_0x48eb23(0x1b4)][_0x48eb23(0x1b1)]:process[_0x48eb23(0x19b)][_0x48eb23(0x1c2)]=_0x46d574['dNxgo'];const _0x268ec0=await TestHubHandler[_0x48eb23(0x1ab)](constants[_0x48eb23(0x162)][_0x48eb23(0x16c)],_0x2076f9);PerformanceTester['end'](PerformanceEvents['SDK_SETUP']);let _0x258c6b;_0x46d574[_0x48eb23(0x16f)](parallelCucumberRun,_0x57d3eb,_0x4c19fa,_0x2076f9['config'],_0x5a4dcc,_0x2c7046)[_0x48eb23(0x175)](async _0xf1046c=>{const _0x42716b=_0x48eb23;PerformanceTester[_0x42716b(0x1c4)](PerformanceEvents['SDK_CLEANUP']),_0x258c6b=_0xf1046c;const _0x30b546=_0x46d574[_0x42716b(0x1b7)](printCucumberStats,_0xf1046c);process[_0x42716b(0x17d)]=_0x30b546,_0x46d574[_0x42716b(0x18a)](_0x2c7046[_0x42716b(0x195)],0x0)&&(logger[_0x42716b(0x1c8)](_0x46d574[_0x42716b(0x165)]),helper[_0x42716b(0x188)](_0x424e3e,_0x2c7046),logger[_0x42716b(0x1c8)](_0x46d574['JVjkx']),helper[_0x42716b(0x16a)](_0x424e3e));})['finally'](async()=>{const _0x4f5c1f=_0x48eb23;PerformanceTester[_0x4f5c1f(0x1c4)](PerformanceEvents[_0x4f5c1f(0x183)]),_0x2076f9['errorMessage']=helper['getErrorMessageFromResults'](_0x258c6b,_0x46d574[_0x4f5c1f(0x16e)]),testOpsHelper['printBuildLink']();try{await TestHubHandler[_0x4f5c1f(0x17f)]();}catch(_0x14a327){logger[_0x4f5c1f(0x1c8)](_0x4f5c1f(0x17a)+util[_0x4f5c1f(0x15c)](_0x14a327));}try{const {browserstackFolderPath:_0x40440b,tcgConfigPath:_0x3bab52}=helper[_0x4f5c1f(0x1be)]();fs['unlinkSync'](_0x3bab52),fs[_0x4f5c1f(0x191)](_0x40440b);}catch(_0x29e1b8){logger[_0x4f5c1f(0x1c8)](_0x46d574[_0x4f5c1f(0x1a0)],_0x29e1b8);}await utilities[_0x4f5c1f(0x19d)](_0x2076f9);});}module['exports']=run;