#!/usr/bin/env node
'use strict';function a5_0x3e9e(){const _0x532b74=['yXHCf','xDdGd','exitCode','initialize','5463HswNYA','path','stop','42KAWfST','AQCel','log','logLevel','fFULc','124056GGKwRk','8KVUpGH','join','framework','gjgEx','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','1336461SPJJDg','oSgEP','length','finalExecution','tRkmB','getErrorMessageFromResults','670650hUdTNr','createDir','eKvCC','cyan','TZjUQ','then','BROWSERSTACK_TEST_OBSERVABILITY_YML','stringify','error\x20removing\x20tcg\x20config\x20file','2894880ALHSdQ','KywqL','format','rifok','tmp','SDK_SETUP','stepsSkipped','jFQXY','../../helpers/BrowserStackSetup','109105qLcvae','useW3C','FRAMEWORKS','../../helpers/helper','cDwTs','QWGrd','forEach','../test-runner','\x20skipped','AdOdv','JpHQA','getTCGConfigFilePaths','splice','bold','removeDir','steps','lFVjZ','isUndefined','lWqhr','winstonLogger','chalk','stepsUndefined','stepsPassed','335590spWPDe','Generating\x20consolidated\x20report...','../../helpers/utilities','\x20passed','../../helpers/testhub/testhubHandler','processSuccess','exports','unlinkSync','parallelsPerPlatform','ujsFL','QysMg','debug','SDK_CLEANUP','isBrowserstackInfra','env','getUserWorkerCount','scenariosFailed','../../helpers/logger','proxySettings','../../helpers/performance/performance-tester','printBuildLink','errorMessage','voovU','config','green','red','argv','setupTCGAuth','bgWhite','ScfKy','CUCUMBER','\x20steps','stepsFailed','setUserConfigPath','****\x20RESULTS\x20****','ZAXje','yellow','launchBuild','getHubUrl','parseFormatters','NzIUg','testObservability','stepsAmbiguous','getPlatformName','push','stepsPending','end','nbCFy','stepsUnknown','22270APFoJg','prepareCapabilities','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','../utils/constants','EVENTS','accessibilityOptions','\x20failed','start','rmdirSync','JfLJE','Removing\x20tmp\x20directory\x20created\x20for\x20reports'];a5_0x3e9e=function(){return _0x532b74;};return a5_0x3e9e();}const a5_0x23a162=a5_0x4c2c;function a5_0x4c2c(_0x512543,_0x4e801e){const _0x3e9e79=a5_0x3e9e();return a5_0x4c2c=function(_0x4c2c3d,_0x4bde97){_0x4c2c3d=_0x4c2c3d-0x177;let _0x346aca=_0x3e9e79[_0x4c2c3d];return _0x346aca;},a5_0x4c2c(_0x512543,_0x4e801e);}(function(_0x40b932,_0x17e02b){const _0x1a2a29=a5_0x4c2c,_0x33c0c5=_0x40b932();while(!![]){try{const _0x3cc913=-parseInt(_0x1a2a29(0x1cb))/0x1+-parseInt(_0x1a2a29(0x1b9))/0x2+parseInt(_0x1a2a29(0x1a8))/0x3*(-parseInt(_0x1a2a29(0x1ad))/0x4)+parseInt(_0x1a2a29(0x1e2))/0x5+-parseInt(_0x1a2a29(0x1c2))/0x6+-parseInt(_0x1a2a29(0x1b3))/0x7*(-parseInt(_0x1a2a29(0x1ae))/0x8)+-parseInt(_0x1a2a29(0x1a5))/0x9*(-parseInt(_0x1a2a29(0x196))/0xa);if(_0x3cc913===_0x17e02b)break;else _0x33c0c5['push'](_0x33c0c5['shift']());}catch(_0x3622e1){_0x33c0c5['push'](_0x33c0c5['shift']());}}}(a5_0x3e9e,0x3cb94));const fs=require('fs'),path=require(a5_0x23a162(0x1a6)),util=require('util'),logger=require(a5_0x23a162(0x1f3))[a5_0x23a162(0x1de)],{default:BrowserStackSetup}=require(a5_0x23a162(0x1ca)),helper=require(a5_0x23a162(0x1ce)),utilities=require(a5_0x23a162(0x1e4)),constants=require(a5_0x23a162(0x199)),{parallelCucumberRun}=require(a5_0x23a162(0x1d2)),TestHubHandler=require(a5_0x23a162(0x1e6)),testOpsHelper=require('../../helpers/test-observability/utils'),chalk=require(a5_0x23a162(0x1df)),PerformanceTester=require(a5_0x23a162(0x178)),PerformanceEvents=require('../../helpers/performance/constants')[a5_0x23a162(0x19a)];function printCucumberStats(_0x516e37){const _0x55f728=a5_0x23a162,_0x28dff1={};_0x28dff1[_0x55f728(0x1ec)]=function(_0x3110af,_0x4dd578){return _0x3110af>_0x4dd578;},_0x28dff1[_0x55f728(0x1b7)]=function(_0x198799,_0x431a60){return _0x198799-_0x431a60;},_0x28dff1[_0x55f728(0x1ac)]=function(_0x1328f4,_0x538aa2){return _0x1328f4-_0x538aa2;},_0x28dff1['yXHCf']=function(_0x4dd61f,_0x5568c9){return _0x4dd61f>_0x5568c9;},_0x28dff1['KywqL']=function(_0x1dca19,_0xb0f5a0){return _0x1dca19>_0xb0f5a0;},_0x28dff1[_0x55f728(0x1c9)]=function(_0x511da6,_0x5a31b3){return _0x511da6>_0x5a31b3;},_0x28dff1[_0x55f728(0x1cf)]=function(_0x10b7ca,_0xe1c939){return _0x10b7ca>_0xe1c939;},_0x28dff1[_0x55f728(0x18d)]=function(_0x46829c,_0x2a9137){return _0x46829c>_0x2a9137;},_0x28dff1[_0x55f728(0x1c5)]=function(_0x202660,_0x607c6f){return _0x202660>_0x607c6f;},_0x28dff1['Cvaww']=function(_0x3244b8,_0x36817a){return _0x3244b8+_0x36817a;},_0x28dff1[_0x55f728(0x1bb)]=function(_0x1b0d62,_0x241311){return _0x1b0d62+_0x241311;},_0x28dff1[_0x55f728(0x1eb)]=function(_0x2a3ce0,_0x304800){return _0x2a3ce0+_0x304800;},_0x28dff1['JfLJE']=function(_0x5a64f3,_0x865f3){return _0x5a64f3+_0x865f3;},_0x28dff1[_0x55f728(0x1d0)]=function(_0x4efd21,_0x3ca2e1){return _0x4efd21===_0x3ca2e1;},_0x28dff1['JpHQA']=_0x55f728(0x187);const _0x42e6ff=_0x28dff1;let _0x4eaeb6=0x0;if(_0x42e6ff[_0x55f728(0x1d0)](_0x516e37['length'],0x0))return _0x4eaeb6;return console[_0x55f728(0x1aa)](chalk[_0x55f728(0x1d8)][_0x55f728(0x181)](_0x42e6ff[_0x55f728(0x1d5)])),_0x516e37[_0x55f728(0x1d1)](_0x235345=>{const _0x378b6c=_0x55f728,_0x293ed5=_0x235345[0x0],_0x57d854=_0x235345[0x1];console[_0x378b6c(0x1aa)]('\x0a'+chalk[_0x378b6c(0x1d8)][_0x378b6c(0x189)](''+helper[_0x378b6c(0x190)](_0x293ed5)));const _0x1c4216=_0x57d854['scenarios'],_0xd79a14=_0x57d854[_0x378b6c(0x1da)],_0x231ea6=_0x57d854[_0x378b6c(0x1f2)],_0x4403bd=_0x57d854[_0x378b6c(0x185)],_0x5ac2a8=_0x57d854[_0x378b6c(0x1e1)],_0x5eb50c=_0x57d854[_0x378b6c(0x1c8)],_0xcd2b51=_0x57d854[_0x378b6c(0x192)],_0x46fc66=_0x57d854[_0x378b6c(0x1e0)],_0x2f5995=_0x57d854[_0x378b6c(0x195)],_0x16434a=_0x57d854[_0x378b6c(0x18f)],_0xabd488=_0x57d854[_0x378b6c(0x1e7)];let _0x545495=_0x1c4216+'\x20scenarios';const _0x1a7a7b=_0x42e6ff['QysMg'](_0x42e6ff['tRkmB'](_0x1c4216,_0x231ea6),0x0)?_0x42e6ff[_0x378b6c(0x1ac)](_0x1c4216,_0x231ea6):0x0;if(_0x42e6ff[_0x378b6c(0x1a1)](_0x231ea6,0x0)&&_0x42e6ff['KywqL'](_0x1a7a7b,0x0))_0x545495+='\x20('+chalk[_0x378b6c(0x1d8)][_0x378b6c(0x17e)](_0x231ea6+_0x378b6c(0x19c))+',\x20'+chalk['bold'][_0x378b6c(0x17d)](_0x1a7a7b+'\x20passed')+')';else(_0x42e6ff[_0x378b6c(0x1c3)](_0x231ea6,0x0)||_0x42e6ff['jFQXY'](_0x1a7a7b,0x0))&&(_0x545495+=_0x42e6ff['KywqL'](_0x231ea6,0x0)?'\x20('+chalk[_0x378b6c(0x1d8)]['red'](_0x231ea6+_0x378b6c(0x19c))+')':'\x20('+chalk[_0x378b6c(0x1d8)][_0x378b6c(0x17d)](_0x1a7a7b+'\x20passed')+')');const _0x28acc9=_0xd79a14+_0x378b6c(0x184),_0x50f1e2=[];_0x42e6ff[_0x378b6c(0x1cf)](_0x16434a,0x0)&&_0x50f1e2[_0x378b6c(0x191)](''+chalk[_0x378b6c(0x1d8)]['red'](_0x16434a+'\x20ambiguous'));_0x42e6ff[_0x378b6c(0x1a1)](_0x4403bd,0x0)&&_0x50f1e2['push'](''+chalk[_0x378b6c(0x1d8)][_0x378b6c(0x17e)](_0x4403bd+_0x378b6c(0x19c)));_0x42e6ff['jFQXY'](_0x5ac2a8,0x0)&&_0x50f1e2['push'](''+chalk[_0x378b6c(0x1d8)][_0x378b6c(0x17d)](_0x5ac2a8+_0x378b6c(0x1e5)));_0x42e6ff[_0x378b6c(0x1c3)](_0xcd2b51,0x0)&&_0x50f1e2[_0x378b6c(0x191)](''+chalk[_0x378b6c(0x1d8)][_0x378b6c(0x189)](_0xcd2b51+'\x20pending'));_0x42e6ff[_0x378b6c(0x18d)](_0x5eb50c,0x0)&&_0x50f1e2['push'](''+chalk['bold'][_0x378b6c(0x1bc)](_0x5eb50c+_0x378b6c(0x1d3)));_0x42e6ff['rifok'](_0x46fc66,0x0)&&_0x50f1e2['push'](''+chalk[_0x378b6c(0x1d8)]['yellow'](_0x46fc66+'\x20undefined'));_0x42e6ff['yXHCf'](_0x2f5995,0x0)&&_0x50f1e2[_0x378b6c(0x191)](''+chalk[_0x378b6c(0x1d8)][_0x378b6c(0x189)](_0x2f5995+_0x378b6c(0x1d3)));const _0x3f86bc=_0x42e6ff['Cvaww'](_0x42e6ff[_0x378b6c(0x1bb)](_0x42e6ff['eKvCC'](_0x28acc9,'('),_0x50f1e2[_0x378b6c(0x1af)](',\x20')),')');console[_0x378b6c(0x1aa)](_0x42e6ff[_0x378b6c(0x1eb)](_0x42e6ff[_0x378b6c(0x1eb)](_0x42e6ff[_0x378b6c(0x19f)](_0x42e6ff[_0x378b6c(0x1eb)]('\x0a',_0x545495),'\x0a'),_0x3f86bc),'\x0a')),_0x42e6ff[_0x378b6c(0x1d0)](_0xabd488,![])&&(_0x4eaeb6=0x1);}),_0x4eaeb6;}async function run(_0x301e27,_0x4f40be){const _0x10414d=a5_0x23a162,_0x4529ee={'lFVjZ':function(_0x5f451a,_0x304bd9){return _0x5f451a(_0x304bd9);},'aSCdL':function(_0x10ebb0,_0x3fbc44){return _0x10ebb0>_0x3fbc44;},'xDdGd':_0x10414d(0x1e3),'gjgEx':_0x10414d(0x1a0),'AdOdv':'cucumber','scltD':_0x10414d(0x1c1),'AQCel':'cucumber-js','ZAXje':_0x10414d(0x1c6),'TZjUQ':function(_0x5ad862,_0x398f8e){return _0x5ad862>_0x398f8e;},'lWqhr':function(_0x365e78,_0x3cad12){return _0x365e78-_0x3cad12;},'voovU':function(_0x33105f,_0x556e71){return _0x33105f>=_0x556e71;},'oSgEP':function(_0xb541a4,_0x3771c7){return _0xb541a4!=_0x3771c7;},'nbCFy':'true','ScfKy':function(_0x512505,_0xe30d5,_0x35223a,_0x1e45c7,_0x91f584,_0x236a3d){return _0x512505(_0xe30d5,_0x35223a,_0x1e45c7,_0x91f584,_0x236a3d);}},_0x507f76=new BrowserStackSetup(_0x301e27,_0x4529ee[_0x10414d(0x1a9)]);await _0x507f76[_0x10414d(0x1a4)](),helper[_0x10414d(0x186)](_0x507f76[_0x10414d(0x1b0)],_0x301e27);!helper[_0x10414d(0x1ef)]()&&await _0x507f76[_0x10414d(0x180)]();await helper['handleApp'](_0x507f76[_0x10414d(0x17c)]);const _0x471c04=helper[_0x10414d(0x1cc)](_0x507f76[_0x10414d(0x17c)]),_0x5d413c=helper[_0x10414d(0x197)](_0x507f76['config'],_0x471c04,constants[_0x10414d(0x1cd)][_0x10414d(0x183)]);if(!_0x507f76[_0x10414d(0x17c)])return;const _0x196bc6=_0x507f76[_0x10414d(0x17c)][_0x10414d(0x1ea)]||helper[_0x10414d(0x1f1)](_0x301e27,_0x4f40be,_0x507f76[_0x10414d(0x17c)],constants['FRAMEWORKS'][_0x10414d(0x183)])||0x1,_0x39d3ec={'server':helper[_0x10414d(0x18b)](_0x507f76[_0x10414d(0x17c)]),'proxySettings':_0x507f76[_0x10414d(0x17c)][_0x10414d(0x177)],'maxWorkers':_0x196bc6,'browserStackLogLevel':_0x507f76[_0x10414d(0x17c)][_0x10414d(0x1ab)],'skipSessionName':_0x507f76[_0x10414d(0x17c)]['testContextOptions']['skipSessionName'],'skipSessionStatus':_0x507f76[_0x10414d(0x17c)]['testContextOptions']['skipSessionStatus'],'turboScaleUrl':_0x507f76[_0x10414d(0x17c)]['turboScaleUrl']},_0x15a609=process[_0x10414d(0x17f)],[_0x527b37,_0x243aa5]=helper[_0x10414d(0x18c)](_0x15a609),_0x316774=path['join'](process['cwd'](),_0x4529ee[_0x10414d(0x188)]);if(_0x4529ee[_0x10414d(0x1bd)](_0x243aa5['length'],0x0)){helper[_0x10414d(0x1ba)](_0x316774);for(let _0x1f6145=_0x4529ee[_0x10414d(0x1dd)](_0x527b37['length'],0x1);_0x4529ee[_0x10414d(0x17b)](_0x1f6145,0x0);_0x1f6145--){_0x15a609[_0x10414d(0x1d7)](_0x527b37[_0x1f6145],0x2);}}!helper[_0x10414d(0x1dc)](_0x507f76[_0x10414d(0x17c)][_0x10414d(0x19b)])&&(process[_0x10414d(0x1f0)][_0x10414d(0x198)]=JSON[_0x10414d(0x1c0)](_0x507f76[_0x10414d(0x17c)][_0x10414d(0x19b)]));_0x4529ee[_0x10414d(0x1b4)](_0x507f76[_0x10414d(0x17c)]['testObservability'],null)?process['env'][_0x10414d(0x1bf)]=_0x507f76[_0x10414d(0x17c)][_0x10414d(0x18e)]:process[_0x10414d(0x1f0)][_0x10414d(0x1bf)]=_0x4529ee[_0x10414d(0x194)];const _0x318096=await TestHubHandler[_0x10414d(0x18a)](constants[_0x10414d(0x1cd)]['CUCUMBER'],_0x507f76);PerformanceTester[_0x10414d(0x193)](PerformanceEvents[_0x10414d(0x1c7)]);let _0x13caac;_0x4529ee[_0x10414d(0x182)](parallelCucumberRun,_0x5d413c,_0x39d3ec,_0x507f76[_0x10414d(0x17c)],_0x15a609,_0x243aa5)[_0x10414d(0x1be)](async _0x5bf34f=>{const _0x496f1d=_0x10414d;PerformanceTester['start'](PerformanceEvents[_0x496f1d(0x1ee)]),_0x13caac=_0x5bf34f;const _0x1a0b57=_0x4529ee[_0x496f1d(0x1db)](printCucumberStats,_0x5bf34f);process[_0x496f1d(0x1a3)]=_0x1a0b57,_0x4529ee['aSCdL'](_0x243aa5[_0x496f1d(0x1b5)],0x0)&&(logger['debug'](_0x4529ee[_0x496f1d(0x1a2)]),helper['mergeOutputFiles'](_0x316774,_0x243aa5),logger[_0x496f1d(0x1ed)](_0x4529ee[_0x496f1d(0x1b1)]),helper[_0x496f1d(0x1d9)](_0x316774));})['finally'](async()=>{const _0x23b84c=_0x10414d;PerformanceTester[_0x23b84c(0x19d)](PerformanceEvents[_0x23b84c(0x1ee)]),_0x507f76[_0x23b84c(0x17a)]=helper[_0x23b84c(0x1b8)](_0x13caac,_0x4529ee[_0x23b84c(0x1d4)]),testOpsHelper[_0x23b84c(0x179)]();try{await TestHubHandler[_0x23b84c(0x1a7)]();}catch(_0x5358ae){logger[_0x23b84c(0x1ed)](_0x23b84c(0x1b2)+util[_0x23b84c(0x1c4)](_0x5358ae));}try{const {browserstackFolderPath:_0x75cfb2,tcgConfigPath:_0xaaa4b3}=helper[_0x23b84c(0x1d6)]();fs[_0x23b84c(0x1e9)](_0xaaa4b3),fs[_0x23b84c(0x19e)](_0x75cfb2);}catch(_0xe77dcc){logger[_0x23b84c(0x1ed)](_0x4529ee['scltD'],_0xe77dcc);}await utilities[_0x23b84c(0x1b6)](_0x507f76);});}module[a5_0x23a162(0x1e8)]=run;