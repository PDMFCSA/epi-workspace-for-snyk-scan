#!/usr/bin/env node
'use strict';function a5_0x5b95(){const _0x213ddc=['getUserWorkerCount','stepsUnknown','../../helpers/BrowserStackSetup','rmdirSync','thZBW','../../helpers/test-observability/utils','SDK_SETUP','TYkMe','6138335FPPiOK','stepsFailed','testObservability','winstonLogger','config','dPPMA','skipSessionStatus','unlinkSync','initialize','accessibilityOptions','49sznyoo','finalExecution','isBrowserstackInfra','stepsAmbiguous','util','format','stepsPassed','handleApp','launchBuild','ScSjB','\x20skipped','start','error\x20removing\x20tcg\x20config\x20file','../../helpers/performance/constants','push','chalk','length','xsEXk','../utils/constants','1749571rHkkVy','stepsPending','skipSessionName','327560sWqEmT','forEach','yellow','iddeM','cexnn','stepsSkipped','Generating\x20consolidated\x20report...','FRAMEWORKS','then','../../helpers/testhub/testhubHandler','4880LeNndj','bgWhite','createDir','parseFormatters','EbGxe','removeDir','OxXvt','../../helpers/helper','\x20scenarios','SDK_CLEANUP','stringify','path','\x20undefined','cucumber','GJNop','cyan','splice','getHubUrl','IblMb','yGZUC','setUserConfigPath','108mOHmFL','boAmL','setupTCGAuth','cwd','scenariosFailed','CUCUMBER','../../helpers/logger','isUndefined','132720lEPxOc','steps','assign','****\x20RESULTS\x20****','green','BROWSERSTACK_TEST_OBSERVABILITY_YML','TJWXQ','148788CguzLH','stop','tmp','\x20passed','useW3C','platforms','DubgU','true','hlBlQ','../../helpers/utilities','rabXT','logLevel','HgLHA','stepsUndefined','TgJon','JrSir','\x20steps','EVENTS','\x20failed','\x20pending','join','bold','getTCGConfigFilePaths','mergeOutputFiles','log','VNEwN','\x20ambiguous','1034820AJtIif','testContextOptions','debug','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','processSuccess','3597176rGkUZr','UrKIz','red','prepareCapabilities','env','AYTIh','exitCode','parallelsPerPlatform'];a5_0x5b95=function(){return _0x213ddc;};return a5_0x5b95();}const a5_0x2e3f89=a5_0x544e;(function(_0x32f2b7,_0x473dc0){const _0x3ab7d7=a5_0x544e,_0x48453d=_0x32f2b7();while(!![]){try{const _0x2a2689=-parseInt(_0x3ab7d7(0x1e8))/0x1+-parseInt(_0x3ab7d7(0x1bb))/0x2+-parseInt(_0x3ab7d7(0x194))/0x3*(parseInt(_0x3ab7d7(0x18c))/0x4)+-parseInt(_0x3ab7d7(0x1cb))/0x5+parseInt(_0x3ab7d7(0x1b6))/0x6*(-parseInt(_0x3ab7d7(0x1d5))/0x7)+parseInt(_0x3ab7d7(0x1eb))/0x8+parseInt(_0x3ab7d7(0x19b))/0x9*(parseInt(_0x3ab7d7(0x177))/0xa);if(_0x2a2689===_0x473dc0)break;else _0x48453d['push'](_0x48453d['shift']());}catch(_0x44a91f){_0x48453d['push'](_0x48453d['shift']());}}}(a5_0x5b95,0xe3495));function a5_0x544e(_0x2893e5,_0x46dc23){const _0x5b9525=a5_0x5b95();return a5_0x544e=function(_0x544e18,_0x285bc3){_0x544e18=_0x544e18-0x176;let _0x584e4e=_0x5b9525[_0x544e18];return _0x584e4e;},a5_0x544e(_0x2893e5,_0x46dc23);}const fs=require('fs'),path=require(a5_0x2e3f89(0x182)),util=require(a5_0x2e3f89(0x1d9)),logger=require(a5_0x2e3f89(0x192))[a5_0x2e3f89(0x1ce)],{default:BrowserStackSetup}=require(a5_0x2e3f89(0x1c5)),helper=require(a5_0x2e3f89(0x17e)),utilities=require(a5_0x2e3f89(0x1a4)),constants=require(a5_0x2e3f89(0x1e7)),{parallelCucumberRun}=require('../test-runner'),TestHubHandler=require(a5_0x2e3f89(0x176)),testOpsHelper=require(a5_0x2e3f89(0x1c8)),chalk=require(a5_0x2e3f89(0x1e4)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a5_0x2e3f89(0x1e2))[a5_0x2e3f89(0x1ac)];function printCucumberStats(_0x3fad3f){const _0x116699=a5_0x2e3f89,_0x4cfbaf={};_0x4cfbaf[_0x116699(0x1a1)]=function(_0x26b2c3,_0x135ce9){return _0x26b2c3>_0x135ce9;},_0x4cfbaf[_0x116699(0x19a)]=function(_0x3a2882,_0x4ebb73){return _0x3a2882-_0x4ebb73;},_0x4cfbaf[_0x116699(0x1c7)]=function(_0x7d998a,_0x3e7dc5){return _0x7d998a-_0x3e7dc5;},_0x4cfbaf[_0x116699(0x1a5)]=function(_0x409d1c,_0x3c2143){return _0x409d1c>_0x3c2143;},_0x4cfbaf['cexnn']=function(_0x4f65a7,_0x51a372){return _0x4f65a7>_0x51a372;},_0x4cfbaf[_0x116699(0x1c0)]=function(_0x3f204f,_0x27e802){return _0x3f204f>_0x27e802;},_0x4cfbaf[_0x116699(0x17b)]=function(_0x2cfe55,_0x11f13d){return _0x2cfe55>_0x11f13d;},_0x4cfbaf[_0x116699(0x1b4)]=function(_0x38e22f,_0x28c2ce){return _0x38e22f>_0x28c2ce;},_0x4cfbaf[_0x116699(0x1ee)]=function(_0x2949c6,_0x48e399){return _0x2949c6>_0x48e399;},_0x4cfbaf['ScSjB']=function(_0x8d8a82,_0x494deb){return _0x8d8a82+_0x494deb;},_0x4cfbaf['xsEXk']=function(_0x42355f,_0x28f433){return _0x42355f+_0x28f433;},_0x4cfbaf[_0x116699(0x1ca)]=function(_0xe928f,_0xceac40){return _0xe928f+_0xceac40;},_0x4cfbaf[_0x116699(0x18a)]=function(_0x59528e,_0x5db8a9){return _0x59528e===_0x5db8a9;},_0x4cfbaf[_0x116699(0x18d)]=_0x116699(0x197);const _0xfad88e=_0x4cfbaf;let _0x2e0620=0x0;if(_0xfad88e[_0x116699(0x18a)](_0x3fad3f[_0x116699(0x1e5)],0x0))return _0x2e0620;return console[_0x116699(0x1b3)](chalk[_0x116699(0x1b0)][_0x116699(0x178)](_0xfad88e['boAmL'])),_0x3fad3f[_0x116699(0x1ec)](_0x59125b=>{const _0x55bb16=_0x116699,_0x409810=_0x59125b[0x0],_0x49615e=_0x59125b[0x1];helper[_0x55bb16(0x1d7)]()&&console[_0x55bb16(0x1b3)]('\x0a'+chalk[_0x55bb16(0x1b0)]['yellow'](''+helper['getPlatformName'](_0x409810)));const _0xac130d=_0x49615e['scenarios'],_0x23d839=_0x49615e[_0x55bb16(0x195)],_0x39956b=_0x49615e[_0x55bb16(0x190)],_0x5b1938=_0x49615e[_0x55bb16(0x1cc)],_0x157711=_0x49615e[_0x55bb16(0x1db)],_0x567e9f=_0x49615e[_0x55bb16(0x1f0)],_0x37d2fe=_0x49615e[_0x55bb16(0x1e9)],_0x5c4de0=_0x49615e[_0x55bb16(0x1a8)],_0x4517ee=_0x49615e[_0x55bb16(0x1c4)],_0x3a3f92=_0x49615e[_0x55bb16(0x1d8)],_0x2964ce=_0x49615e[_0x55bb16(0x1ba)];let _0x5e690d=_0xac130d+_0x55bb16(0x17f);const _0x1c7cde=_0xfad88e[_0x55bb16(0x1a1)](_0xfad88e['TJWXQ'](_0xac130d,_0x39956b),0x0)?_0xfad88e['thZBW'](_0xac130d,_0x39956b):0x0;if(_0xfad88e[_0x55bb16(0x1a1)](_0x39956b,0x0)&&_0xfad88e[_0x55bb16(0x1a1)](_0x1c7cde,0x0))_0x5e690d+='\x20('+chalk[_0x55bb16(0x1b0)]['red'](_0x39956b+_0x55bb16(0x1ad))+',\x20'+chalk[_0x55bb16(0x1b0)][_0x55bb16(0x198)](_0x1c7cde+_0x55bb16(0x19e))+')';else(_0xfad88e[_0x55bb16(0x1a1)](_0x39956b,0x0)||_0xfad88e['rabXT'](_0x1c7cde,0x0))&&(_0x5e690d+=_0xfad88e[_0x55bb16(0x1ef)](_0x39956b,0x0)?'\x20('+chalk[_0x55bb16(0x1b0)][_0x55bb16(0x1bd)](_0x39956b+'\x20failed')+')':'\x20('+chalk[_0x55bb16(0x1b0)][_0x55bb16(0x198)](_0x1c7cde+_0x55bb16(0x19e))+')');const _0x589863=_0x23d839+_0x55bb16(0x1ab),_0xfe9ab6=[];_0xfad88e[_0x55bb16(0x1ef)](_0x3a3f92,0x0)&&_0xfe9ab6[_0x55bb16(0x1e3)](''+chalk[_0x55bb16(0x1b0)]['red'](_0x3a3f92+_0x55bb16(0x1b5)));_0xfad88e[_0x55bb16(0x1c0)](_0x5b1938,0x0)&&_0xfe9ab6['push'](''+chalk[_0x55bb16(0x1b0)][_0x55bb16(0x1bd)](_0x5b1938+_0x55bb16(0x1ad)));_0xfad88e[_0x55bb16(0x1ef)](_0x157711,0x0)&&_0xfe9ab6[_0x55bb16(0x1e3)](''+chalk[_0x55bb16(0x1b0)][_0x55bb16(0x198)](_0x157711+_0x55bb16(0x19e)));_0xfad88e[_0x55bb16(0x17b)](_0x37d2fe,0x0)&&_0xfe9ab6['push'](''+chalk[_0x55bb16(0x1b0)][_0x55bb16(0x1ed)](_0x37d2fe+_0x55bb16(0x1ae)));_0xfad88e[_0x55bb16(0x1c0)](_0x567e9f,0x0)&&_0xfe9ab6['push'](''+chalk[_0x55bb16(0x1b0)][_0x55bb16(0x186)](_0x567e9f+_0x55bb16(0x1df)));_0xfad88e[_0x55bb16(0x1b4)](_0x5c4de0,0x0)&&_0xfe9ab6[_0x55bb16(0x1e3)](''+chalk[_0x55bb16(0x1b0)][_0x55bb16(0x1ed)](_0x5c4de0+_0x55bb16(0x183)));_0xfad88e[_0x55bb16(0x1ee)](_0x4517ee,0x0)&&_0xfe9ab6[_0x55bb16(0x1e3)](''+chalk[_0x55bb16(0x1b0)][_0x55bb16(0x1ed)](_0x4517ee+_0x55bb16(0x1df)));const _0x7ece50=_0xfad88e[_0x55bb16(0x1de)](_0xfad88e['xsEXk'](_0xfad88e[_0x55bb16(0x1e6)](_0x589863,'('),_0xfe9ab6[_0x55bb16(0x1af)](',\x20')),')');console[_0x55bb16(0x1b3)](_0xfad88e[_0x55bb16(0x1e6)](_0xfad88e[_0x55bb16(0x1de)](_0xfad88e[_0x55bb16(0x1e6)](_0xfad88e[_0x55bb16(0x1ca)]('\x0a',_0x5e690d),'\x0a'),_0x7ece50),'\x0a')),_0xfad88e['yGZUC'](_0x2964ce,![])&&(_0x2e0620=0x1);}),_0x2e0620;}async function run(_0x5b6260,_0x1feba5,_0x3cf5fa){const _0x37dfbb=a5_0x2e3f89,_0x195f10={'UrKIz':function(_0x49aec1,_0x4a8b43){return _0x49aec1(_0x4a8b43);},'nNoSW':function(_0x89c02e,_0x199e3a){return _0x89c02e>_0x199e3a;},'GJNop':_0x37dfbb(0x1f1),'hlBlQ':'Removing\x20tmp\x20directory\x20created\x20for\x20reports','JrSir':_0x37dfbb(0x184),'IblMb':_0x37dfbb(0x1e1),'UrozT':_0x37dfbb(0x19d),'OxXvt':function(_0x56429f,_0x48bba4){return _0x56429f>_0x48bba4;},'HgLHA':function(_0xe608ee,_0x5351b2){return _0xe608ee-_0x5351b2;},'HrKIc':function(_0x539ab4,_0x4456e5){return _0x539ab4>=_0x4456e5;},'TgJon':function(_0x23e56e,_0x5481d5){return _0x23e56e!=_0x5481d5;},'dPPMA':_0x37dfbb(0x1a2),'samjN':function(_0x4c5928,_0x15c799,_0x177167,_0xe46c54,_0x51a8fe,_0x45bd99){return _0x4c5928(_0x15c799,_0x177167,_0xe46c54,_0x51a8fe,_0x45bd99);}};await _0x3cf5fa[_0x37dfbb(0x1d3)](_0x5b6260),helper[_0x37dfbb(0x18b)](_0x3cf5fa['framework'],_0x5b6260);!helper[_0x37dfbb(0x1d7)]()&&await _0x3cf5fa[_0x37dfbb(0x18e)]();await helper[_0x37dfbb(0x1dc)](_0x3cf5fa['config']);const _0x419a90=helper[_0x37dfbb(0x19f)](_0x3cf5fa[_0x37dfbb(0x1cf)]);!helper[_0x37dfbb(0x193)](_0x3cf5fa[_0x37dfbb(0x1cf)][_0x37dfbb(0x1d4)])&&(process[_0x37dfbb(0x1bf)][_0x37dfbb(0x1b9)]=JSON[_0x37dfbb(0x181)](_0x3cf5fa[_0x37dfbb(0x1cf)][_0x37dfbb(0x1d4)]));const _0x3d9b34=await TestHubHandler[_0x37dfbb(0x1dd)](constants['FRAMEWORKS'][_0x37dfbb(0x191)],_0x3cf5fa);let _0x4e4848=[];if(!helper[_0x37dfbb(0x1d7)]()){const _0x460b5a={};_0x460b5a[_0x37dfbb(0x1a0)]=[],_0x4e4848=helper[_0x37dfbb(0x1be)](Object[_0x37dfbb(0x196)]({},_0x3cf5fa['config'],_0x460b5a),_0x419a90,constants[_0x37dfbb(0x1f2)]['CUCUMBER']);}else _0x4e4848=helper[_0x37dfbb(0x1be)](_0x3cf5fa[_0x37dfbb(0x1cf)],_0x419a90,constants[_0x37dfbb(0x1f2)]['CUCUMBER']);if(!_0x3cf5fa[_0x37dfbb(0x1cf)])return;const _0x5cfc0a=_0x3cf5fa[_0x37dfbb(0x1cf)][_0x37dfbb(0x1c2)]||helper[_0x37dfbb(0x1c3)](_0x5b6260,_0x1feba5,_0x3cf5fa[_0x37dfbb(0x1cf)],constants[_0x37dfbb(0x1f2)][_0x37dfbb(0x191)])||0x1,_0xdc7de={'server':helper[_0x37dfbb(0x188)](_0x3cf5fa[_0x37dfbb(0x1cf)]),'proxySettings':_0x3cf5fa['config']['proxySettings'],'maxWorkers':_0x5cfc0a,'browserStackLogLevel':_0x3cf5fa[_0x37dfbb(0x1cf)][_0x37dfbb(0x1a6)],'skipSessionName':_0x3cf5fa[_0x37dfbb(0x1cf)][_0x37dfbb(0x1b7)][_0x37dfbb(0x1ea)],'skipSessionStatus':_0x3cf5fa[_0x37dfbb(0x1cf)][_0x37dfbb(0x1b7)][_0x37dfbb(0x1d1)],'turboScaleUrl':_0x3cf5fa[_0x37dfbb(0x1cf)]['turboScaleUrl']},_0x45f3ab=process['argv'],[_0xe84282,_0x4c48ee]=helper[_0x37dfbb(0x17a)](_0x45f3ab),_0x231c5b=path[_0x37dfbb(0x1af)](process[_0x37dfbb(0x18f)](),_0x195f10['UrozT']);if(_0x195f10[_0x37dfbb(0x17d)](_0x4c48ee[_0x37dfbb(0x1e5)],0x0)){helper[_0x37dfbb(0x179)](_0x231c5b);for(let _0x1b0500=_0x195f10[_0x37dfbb(0x1a7)](_0xe84282['length'],0x1);_0x195f10['HrKIc'](_0x1b0500,0x0);_0x1b0500--){_0x45f3ab[_0x37dfbb(0x187)](_0xe84282[_0x1b0500],0x2);}}_0x195f10[_0x37dfbb(0x1a9)](_0x3cf5fa[_0x37dfbb(0x1cf)][_0x37dfbb(0x1cd)],null)?process[_0x37dfbb(0x1bf)][_0x37dfbb(0x199)]=_0x3cf5fa[_0x37dfbb(0x1cf)][_0x37dfbb(0x1cd)]:process[_0x37dfbb(0x1bf)][_0x37dfbb(0x199)]=_0x195f10[_0x37dfbb(0x1d0)];PerformanceTester['end'](PerformanceEvents[_0x37dfbb(0x1c9)]);let _0x215fbe;_0x195f10['samjN'](parallelCucumberRun,_0x4e4848,_0xdc7de,_0x3cf5fa[_0x37dfbb(0x1cf)],_0x45f3ab,_0x4c48ee)[_0x37dfbb(0x1f3)](async _0x1ef410=>{const _0x133f2b=_0x37dfbb;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']),_0x215fbe=_0x1ef410;const _0x1203cf=_0x195f10[_0x133f2b(0x1bc)](printCucumberStats,_0x1ef410);process[_0x133f2b(0x1c1)]=_0x1203cf,_0x195f10['nNoSW'](_0x4c48ee[_0x133f2b(0x1e5)],0x0)&&(logger[_0x133f2b(0x1b8)](_0x195f10[_0x133f2b(0x185)]),helper[_0x133f2b(0x1b2)](_0x231c5b,_0x4c48ee),logger[_0x133f2b(0x1b8)](_0x195f10[_0x133f2b(0x1a3)]),helper[_0x133f2b(0x17c)](_0x231c5b));})['finally'](async()=>{const _0xbfa1b6=_0x37dfbb;PerformanceTester[_0xbfa1b6(0x1e0)](PerformanceEvents[_0xbfa1b6(0x180)]),_0x3cf5fa['errorMessage']=helper['getErrorMessageFromResults'](_0x215fbe,_0x195f10[_0xbfa1b6(0x1aa)]),testOpsHelper['printBuildLink']();try{await TestHubHandler[_0xbfa1b6(0x19c)]();}catch(_0x6db75){logger['debug']('Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20'+util[_0xbfa1b6(0x1da)](_0x6db75));}try{const {browserstackFolderPath:_0x4d9af6,tcgConfigPath:_0x33ab4e}=helper[_0xbfa1b6(0x1b1)]();fs[_0xbfa1b6(0x1d2)](_0x33ab4e),fs[_0xbfa1b6(0x1c6)](_0x4d9af6);}catch(_0x59b11f){logger[_0xbfa1b6(0x1b8)](_0x195f10[_0xbfa1b6(0x189)],_0x59b11f);}await utilities[_0xbfa1b6(0x1d6)](_0x3cf5fa);});}module['exports']=run;