#!/usr/bin/env node
'use strict';const a5_0x245cb7=a5_0x230c;(function(_0x4f258f,_0x4aec89){const _0x5731b3=a5_0x230c,_0x7a98e2=_0x4f258f();while(!![]){try{const _0x1413a8=parseInt(_0x5731b3(0x1fc))/0x1*(-parseInt(_0x5731b3(0x1e3))/0x2)+parseInt(_0x5731b3(0x1e9))/0x3*(-parseInt(_0x5731b3(0x1b3))/0x4)+parseInt(_0x5731b3(0x203))/0x5*(-parseInt(_0x5731b3(0x1cf))/0x6)+-parseInt(_0x5731b3(0x1f6))/0x7+parseInt(_0x5731b3(0x1ef))/0x8+-parseInt(_0x5731b3(0x1de))/0x9*(-parseInt(_0x5731b3(0x1e7))/0xa)+parseInt(_0x5731b3(0x1e8))/0xb*(parseInt(_0x5731b3(0x1e5))/0xc);if(_0x1413a8===_0x4aec89)break;else _0x7a98e2['push'](_0x7a98e2['shift']());}catch(_0x4587d9){_0x7a98e2['push'](_0x7a98e2['shift']());}}}(a5_0x4b4d,0xd1c54));function a5_0x4b4d(){const _0x305273=['prepareCapabilities','stepsFailed','KUIaQ','SVFTz','SDK_SETUP','scenariosFailed','framework','tWjlC','scenarios','SDK_CLEANUP','getUserWorkerCount','../../helpers/helper','tRajL','turboScaleUrl','exitCode','jRZHt','rmdirSync','testObservability','exports','cwd','join','\x20failed','util','CUCUMBER','testContextOptions','pkAtr','true','iMZIt','712552FCmhJs','hmMtE','start','getPlatformName','cucumber','bgWhite','parseFormatters','chalk','BROWSERSTACK_TEST_OBSERVABILITY_YML','XSZDM','stop','yellow','\x20skipped','mergeOutputFiles','rSywh','stepsUnknown','winstonLogger','../utils/constants','isBrowserstackInfra','config','green','../../helpers/performance/performance-tester','stepsAmbiguous','snEFW','jxrWh','removeDir','push','env','7915722XEvErz','length','logLevel','setupTCGAuth','getHubUrl','processSuccess','iPFKv','\x20steps','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','nNmug','stringify','cyan','bold','unlinkSync','log','27108uHBFBr','brura','tmp','Generating\x20consolidated\x20report...','getErrorMessageFromResults','3267742rDXyoA','errorMessage','8224716OaqkmI','pJEXp','1560NfKMfU','88EQcMfe','24QopTzl','proxySettings','error\x20removing\x20tcg\x20config\x20file','initialize','oYJHC','setUserConfigPath','6178688OFBxnf','../../helpers/performance/constants','\x20scenarios','debug','\x20ambiguous','handleApp','yPxov','10415090Ezwrre','wzDmS','../test-runner','joiwf','stepsPending','../../helpers/test-observability/utils','1trRSKA','iXQfx','stepsUndefined','finalExecution','FRAMEWORKS','then','\x20passed','5XuJKlL','skipSessionName','../../helpers/utilities','red','BhqvA','accessibilityOptions','useW3C','printBuildLink','isUndefined'];a5_0x4b4d=function(){return _0x305273;};return a5_0x4b4d();}const fs=require('fs'),path=require('path'),util=require(a5_0x245cb7(0x1ad)),logger=require('../../helpers/logger')[a5_0x245cb7(0x1c3)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a5_0x245cb7(0x217)),utilities=require(a5_0x245cb7(0x205)),constants=require(a5_0x245cb7(0x1c4)),{parallelCucumberRun}=require(a5_0x245cb7(0x1f8)),TestHubHandler=require('../../helpers/testhub/testhubHandler'),testOpsHelper=require(a5_0x245cb7(0x1fb)),chalk=require(a5_0x245cb7(0x1ba)),PerformanceTester=require(a5_0x245cb7(0x1c8)),PerformanceEvents=require(a5_0x245cb7(0x1f0))['EVENTS'];function printCucumberStats(_0xead25f){const _0x40f3fd=a5_0x245cb7,_0x1dbb08={};_0x1dbb08['iMZIt']=function(_0x21797e,_0x5326ee){return _0x21797e>_0x5326ee;},_0x1dbb08['tRajL']=function(_0x48d4ab,_0x5064db){return _0x48d4ab-_0x5064db;},_0x1dbb08[_0x40f3fd(0x1b4)]=function(_0x5d18d8,_0xbbdb3e){return _0x5d18d8-_0xbbdb3e;},_0x1dbb08[_0x40f3fd(0x1d8)]=function(_0x2c162c,_0xce9b1){return _0x2c162c>_0xce9b1;},_0x1dbb08[_0x40f3fd(0x1bc)]=function(_0x59200b,_0xa5474d){return _0x59200b>_0xa5474d;},_0x1dbb08[_0x40f3fd(0x1cb)]=function(_0x5ab722,_0x1899a4){return _0x5ab722>_0x1899a4;},_0x1dbb08[_0x40f3fd(0x1b0)]=function(_0x42b062,_0x1a5508){return _0x42b062>_0x1a5508;},_0x1dbb08[_0x40f3fd(0x1ed)]=function(_0x51abef,_0x57ed6a){return _0x51abef>_0x57ed6a;},_0x1dbb08[_0x40f3fd(0x1fd)]=function(_0x2a6974,_0x1b4b81){return _0x2a6974+_0x1b4b81;},_0x1dbb08[_0x40f3fd(0x1f7)]=function(_0x2431a7,_0x2f18ee){return _0x2431a7+_0x2f18ee;},_0x1dbb08[_0x40f3fd(0x1d5)]=function(_0xb6e61e,_0x7ce281){return _0xb6e61e+_0x7ce281;},_0x1dbb08[_0x40f3fd(0x21b)]=function(_0x3d67b4,_0x3de281){return _0x3d67b4+_0x3de281;},_0x1dbb08[_0x40f3fd(0x1df)]=function(_0x358b75,_0x2365d6){return _0x358b75+_0x2365d6;},_0x1dbb08[_0x40f3fd(0x1ca)]=function(_0x5639da,_0x3ed35e){return _0x5639da===_0x3ed35e;},_0x1dbb08[_0x40f3fd(0x1c1)]=function(_0x24f3ba,_0x4b164b){return _0x24f3ba===_0x4b164b;},_0x1dbb08[_0x40f3fd(0x20e)]='****\x20RESULTS\x20****';const _0x303c97=_0x1dbb08;let _0x4aef11=0x0;if(_0x303c97[_0x40f3fd(0x1c1)](_0xead25f[_0x40f3fd(0x1d0)],0x0))return _0x4aef11;return console['log'](chalk['bold'][_0x40f3fd(0x1b8)](_0x303c97[_0x40f3fd(0x20e)])),_0xead25f['forEach'](_0x443c57=>{const _0x390dae=_0x40f3fd,_0xc878d0=_0x443c57[0x0],_0x82c44e=_0x443c57[0x1];console[_0x390dae(0x1dd)]('\x0a'+chalk[_0x390dae(0x1db)]['yellow'](''+helper[_0x390dae(0x1b6)](_0xc878d0)));const _0x430dbf=_0x82c44e[_0x390dae(0x214)],_0x1aff43=_0x82c44e['steps'],_0x5b50d3=_0x82c44e[_0x390dae(0x211)],_0x26fc13=_0x82c44e[_0x390dae(0x20d)],_0x2c04a3=_0x82c44e['stepsPassed'],_0x2ca920=_0x82c44e['stepsSkipped'],_0x40e9c0=_0x82c44e[_0x390dae(0x1fa)],_0x778fe=_0x82c44e[_0x390dae(0x1fe)],_0x500cfb=_0x82c44e[_0x390dae(0x1c2)],_0x8ea892=_0x82c44e[_0x390dae(0x1c9)],_0x23af7f=_0x82c44e[_0x390dae(0x1d4)];let _0x4c748e=_0x430dbf+_0x390dae(0x1f1);const _0x5d7b6f=_0x303c97['iMZIt'](_0x303c97[_0x390dae(0x218)](_0x430dbf,_0x5b50d3),0x0)?_0x303c97[_0x390dae(0x1b4)](_0x430dbf,_0x5b50d3):0x0;if(_0x303c97[_0x390dae(0x1b2)](_0x5b50d3,0x0)&&_0x303c97[_0x390dae(0x1b2)](_0x5d7b6f,0x0))_0x4c748e+='\x20('+chalk['bold'][_0x390dae(0x206)](_0x5b50d3+_0x390dae(0x1ac))+',\x20'+chalk[_0x390dae(0x1db)]['green'](_0x5d7b6f+_0x390dae(0x202))+')';else(_0x303c97[_0x390dae(0x1d8)](_0x5b50d3,0x0)||_0x303c97[_0x390dae(0x1d8)](_0x5d7b6f,0x0))&&(_0x4c748e+=_0x303c97[_0x390dae(0x1bc)](_0x5b50d3,0x0)?'\x20('+chalk[_0x390dae(0x1db)][_0x390dae(0x206)](_0x5b50d3+_0x390dae(0x1ac))+')':'\x20('+chalk[_0x390dae(0x1db)][_0x390dae(0x1c7)](_0x5d7b6f+'\x20passed')+')');const _0x50c574=_0x1aff43+_0x390dae(0x1d6),_0x5939b9=[];_0x303c97[_0x390dae(0x1cb)](_0x8ea892,0x0)&&_0x5939b9[_0x390dae(0x1cd)](''+chalk['bold'][_0x390dae(0x206)](_0x8ea892+_0x390dae(0x1f3)));_0x303c97['XSZDM'](_0x26fc13,0x0)&&_0x5939b9[_0x390dae(0x1cd)](''+chalk['bold'][_0x390dae(0x206)](_0x26fc13+_0x390dae(0x1ac)));_0x303c97[_0x390dae(0x1b0)](_0x2c04a3,0x0)&&_0x5939b9[_0x390dae(0x1cd)](''+chalk[_0x390dae(0x1db)][_0x390dae(0x1c7)](_0x2c04a3+_0x390dae(0x202)));_0x303c97[_0x390dae(0x1bc)](_0x40e9c0,0x0)&&_0x5939b9[_0x390dae(0x1cd)](''+chalk[_0x390dae(0x1db)][_0x390dae(0x1be)](_0x40e9c0+'\x20pending'));_0x303c97[_0x390dae(0x1ed)](_0x2ca920,0x0)&&_0x5939b9['push'](''+chalk['bold'][_0x390dae(0x1da)](_0x2ca920+_0x390dae(0x1bf)));_0x303c97[_0x390dae(0x1b2)](_0x778fe,0x0)&&_0x5939b9['push'](''+chalk[_0x390dae(0x1db)]['yellow'](_0x778fe+'\x20undefined'));_0x303c97[_0x390dae(0x1ed)](_0x500cfb,0x0)&&_0x5939b9[_0x390dae(0x1cd)](''+chalk['bold'][_0x390dae(0x1be)](_0x500cfb+'\x20skipped'));const _0x165e05=_0x303c97['iXQfx'](_0x303c97[_0x390dae(0x1fd)](_0x303c97[_0x390dae(0x1f7)](_0x50c574,'('),_0x5939b9[_0x390dae(0x220)](',\x20')),')');console[_0x390dae(0x1dd)](_0x303c97[_0x390dae(0x1f7)](_0x303c97['iPFKv'](_0x303c97[_0x390dae(0x21b)](_0x303c97[_0x390dae(0x1df)]('\x0a',_0x4c748e),'\x0a'),_0x165e05),'\x0a')),_0x303c97['snEFW'](_0x23af7f,![])&&(_0x4aef11=0x1);}),_0x4aef11;}function a5_0x230c(_0x2d6bd3,_0x71adcb){const _0x4b4ddb=a5_0x4b4d();return a5_0x230c=function(_0x230c3b,_0x4539bf){_0x230c3b=_0x230c3b-0x1ac;let _0x57a324=_0x4b4ddb[_0x230c3b];return _0x57a324;},a5_0x230c(_0x2d6bd3,_0x71adcb);}async function run(_0x34958e,_0x77c30b,_0x2c5939){const _0x578aea=a5_0x245cb7,_0x526723={'yPxov':function(_0x3bb020,_0x2b9dec){return _0x3bb020(_0x2b9dec);},'EFdvL':function(_0xd475f1,_0x466034){return _0xd475f1>_0x466034;},'Rwfmm':_0x578aea(0x1e1),'SVFTz':'Removing\x20tmp\x20directory\x20created\x20for\x20reports','BhqvA':_0x578aea(0x1b7),'rospz':_0x578aea(0x1eb),'TQsao':_0x578aea(0x1e0),'tWjlC':function(_0x316858,_0x4cb22b){return _0x316858>_0x4cb22b;},'pJEXp':function(_0x5d52ca,_0x5b31cd){return _0x5d52ca-_0x5b31cd;},'tfazv':function(_0x4a95b1,_0x80e87b){return _0x4a95b1>=_0x80e87b;},'joiwf':function(_0x366e7c,_0x3bc10c){return _0x366e7c!=_0x3bc10c;},'Kssaz':_0x578aea(0x1b1),'SHyQk':function(_0x293adb,_0x41af96,_0x1dc560,_0x515862,_0x72787f,_0x5d3aa8){return _0x293adb(_0x41af96,_0x1dc560,_0x515862,_0x72787f,_0x5d3aa8);}};await _0x2c5939[_0x578aea(0x1ec)](_0x34958e),helper[_0x578aea(0x1ee)](_0x2c5939[_0x578aea(0x212)],_0x34958e);!helper[_0x578aea(0x1c5)]()&&await _0x2c5939[_0x578aea(0x1d2)]();await helper[_0x578aea(0x1f4)](_0x2c5939[_0x578aea(0x1c6)]);const _0x371811=helper[_0x578aea(0x209)](_0x2c5939[_0x578aea(0x1c6)]);!helper[_0x578aea(0x20b)](_0x2c5939['config'][_0x578aea(0x208)])&&(process['env'][_0x578aea(0x1d7)]=JSON[_0x578aea(0x1d9)](_0x2c5939[_0x578aea(0x1c6)][_0x578aea(0x208)]));const _0x9eb633=await TestHubHandler['launchBuild'](constants['FRAMEWORKS']['CUCUMBER'],_0x2c5939),_0x34c734=helper[_0x578aea(0x20c)](_0x2c5939[_0x578aea(0x1c6)],_0x371811,constants['FRAMEWORKS'][_0x578aea(0x1ae)]);if(!_0x2c5939[_0x578aea(0x1c6)])return;const _0x84cc6f=_0x2c5939[_0x578aea(0x1c6)]['parallelsPerPlatform']||helper[_0x578aea(0x216)](_0x34958e,_0x77c30b,_0x2c5939[_0x578aea(0x1c6)],constants[_0x578aea(0x200)][_0x578aea(0x1ae)])||0x1,_0x4478bc={'server':helper[_0x578aea(0x1d3)](_0x2c5939['config']),'proxySettings':_0x2c5939[_0x578aea(0x1c6)][_0x578aea(0x1ea)],'maxWorkers':_0x84cc6f,'browserStackLogLevel':_0x2c5939[_0x578aea(0x1c6)][_0x578aea(0x1d1)],'skipSessionName':_0x2c5939[_0x578aea(0x1c6)]['testContextOptions'][_0x578aea(0x204)],'skipSessionStatus':_0x2c5939[_0x578aea(0x1c6)][_0x578aea(0x1af)]['skipSessionStatus'],'turboScaleUrl':_0x2c5939['config'][_0x578aea(0x219)]},_0x503e34=process['argv'],[_0x2f3d5a,_0x94c0ef]=helper[_0x578aea(0x1b9)](_0x503e34),_0x3b5af0=path[_0x578aea(0x220)](process[_0x578aea(0x21f)](),_0x526723['TQsao']);if(_0x526723[_0x578aea(0x213)](_0x94c0ef[_0x578aea(0x1d0)],0x0)){helper['createDir'](_0x3b5af0);for(let _0xce7f8c=_0x526723[_0x578aea(0x1e6)](_0x2f3d5a['length'],0x1);_0x526723['tfazv'](_0xce7f8c,0x0);_0xce7f8c--){_0x503e34['splice'](_0x2f3d5a[_0xce7f8c],0x2);}}_0x526723[_0x578aea(0x1f9)](_0x2c5939[_0x578aea(0x1c6)][_0x578aea(0x21d)],null)?process[_0x578aea(0x1ce)][_0x578aea(0x1bb)]=_0x2c5939['config']['testObservability']:process[_0x578aea(0x1ce)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x526723['Kssaz'];PerformanceTester['end'](PerformanceEvents[_0x578aea(0x210)]);let _0x5361f7;_0x526723['SHyQk'](parallelCucumberRun,_0x34c734,_0x4478bc,_0x2c5939[_0x578aea(0x1c6)],_0x503e34,_0x94c0ef)[_0x578aea(0x201)](async _0x231eea=>{const _0x45747e=_0x578aea;PerformanceTester[_0x45747e(0x1b5)](PerformanceEvents[_0x45747e(0x215)]),_0x5361f7=_0x231eea;const _0x28b688=_0x526723[_0x45747e(0x1f5)](printCucumberStats,_0x231eea);process[_0x45747e(0x21a)]=_0x28b688,_0x526723['EFdvL'](_0x94c0ef[_0x45747e(0x1d0)],0x0)&&(logger[_0x45747e(0x1f2)](_0x526723['Rwfmm']),helper[_0x45747e(0x1c0)](_0x3b5af0,_0x94c0ef),logger[_0x45747e(0x1f2)](_0x526723[_0x45747e(0x20f)]),helper[_0x45747e(0x1cc)](_0x3b5af0));})['finally'](async()=>{const _0x26c7d8=_0x578aea;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']),_0x2c5939[_0x26c7d8(0x1e4)]=helper[_0x26c7d8(0x1e2)](_0x5361f7,_0x526723[_0x26c7d8(0x207)]),testOpsHelper[_0x26c7d8(0x20a)]();try{await TestHubHandler[_0x26c7d8(0x1bd)]();}catch(_0x41875f){logger[_0x26c7d8(0x1f2)]('Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20'+util['format'](_0x41875f));}try{const {browserstackFolderPath:_0x306565,tcgConfigPath:_0x5b14da}=helper['getTCGConfigFilePaths']();fs[_0x26c7d8(0x1dc)](_0x5b14da),fs[_0x26c7d8(0x21c)](_0x306565);}catch(_0xb01ae5){logger[_0x26c7d8(0x1f2)](_0x526723['rospz'],_0xb01ae5);}await utilities[_0x26c7d8(0x1ff)](_0x2c5939);});}module[a5_0x245cb7(0x21e)]=run;