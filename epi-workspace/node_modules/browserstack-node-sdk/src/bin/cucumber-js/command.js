#!/usr/bin/env node
'use strict';const a5_0x15ff14=a5_0x4040;(function(_0x1cae73,_0x4540b1){const _0x145453=a5_0x4040,_0x77e534=_0x1cae73();while(!![]){try{const _0x53293f=parseInt(_0x145453(0x1d8))/0x1+-parseInt(_0x145453(0x1d3))/0x2+-parseInt(_0x145453(0x1c5))/0x3*(parseInt(_0x145453(0x1e7))/0x4)+parseInt(_0x145453(0x1a4))/0x5*(parseInt(_0x145453(0x1e4))/0x6)+parseInt(_0x145453(0x1b6))/0x7*(-parseInt(_0x145453(0x192))/0x8)+-parseInt(_0x145453(0x1ae))/0x9+-parseInt(_0x145453(0x1ec))/0xa*(-parseInt(_0x145453(0x19f))/0xb);if(_0x53293f===_0x4540b1)break;else _0x77e534['push'](_0x77e534['shift']());}catch(_0x6f1ccd){_0x77e534['push'](_0x77e534['shift']());}}}(a5_0x53ca,0x77e4b));function a5_0x53ca(){const _0x16a39c=['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','rmdirSync','15518393wFMnYX','vohzR','yvEVa','../../helpers/testhub/testhubHandler','setUserConfigPath','35OMIkSD','argv','chalk','../../helpers/performance/performance-tester','SZSmz','framework','then','../utils/constants','useW3C','SDK_SETUP','2477322dYNPQV','testContextOptions','cucumber','kMFrn','../../helpers/test-observability/utils','stepsUnknown','launchBuild','fWeDz','4945689RKZWzc','\x20pending','errorMessage','OfFHZ','../../helpers/helper','BROWSERSTACK_TEST_OBSERVABILITY_YML','cyan','env','printBuildLink','winstonLogger','EbTHU','steps','oBvYj','EVENTS','\x20undefined','246225KYqwqD','getUserWorkerCount','CUCUMBER','rEape','stepsPending','logLevel','config','debug','proxySettings','bold','createDir','isBrowserstackInfra','accessibilityOptions','testObservability','920836MhXxVk','FfRWu','scenariosFailed','wTkHb','../test-runner','726384LsTszg','finalExecution','stepsUndefined','parallelsPerPlatform','green','push','stepsAmbiguous','error\x20removing\x20tcg\x20config\x20file','stepsSkipped','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','unlinkSync','stringify','317712JFPyRY','processSuccess','isUndefined','28PedEwQ','true','join','red','initialize','10BPSBww','SVZjr','jyQCx','../../helpers/logger','\x20passed','handleApp','splice','util','yellow','start','length','Generating\x20consolidated\x20report...','setupTCGAuth','\x20scenarios','parseFormatters','DgXVb','../../helpers/BrowserStackSetup','../../helpers/utilities','KABRT','exports','forEach','getTCGConfigFilePaths','FRAMEWORKS','OtERE','log','../../helpers/performance/constants','turboScaleUrl','getHubUrl','spFoK','yxVdH','8vdrhqu','scenarios','USiMW','prepareCapabilities','finally','stepsPassed','****\x20RESULTS\x20****','\x20failed','cwd','UhzcF','hDjaG'];a5_0x53ca=function(){return _0x16a39c;};return a5_0x53ca();}function a5_0x4040(_0x5d6937,_0x5f48d3){const _0x53cac0=a5_0x53ca();return a5_0x4040=function(_0x4040b0,_0x1b12c0){_0x4040b0=_0x4040b0-0x18a;let _0x5bcb25=_0x53cac0[_0x4040b0];return _0x5bcb25;},a5_0x4040(_0x5d6937,_0x5f48d3);}const fs=require('fs'),path=require('path'),util=require(a5_0x15ff14(0x1f3)),logger=require(a5_0x15ff14(0x1ef))[a5_0x15ff14(0x1bf)],{default:BrowserStackSetup}=require(a5_0x15ff14(0x1fc)),helper=require(a5_0x15ff14(0x1ba)),utilities=require(a5_0x15ff14(0x1fd)),constants=require(a5_0x15ff14(0x1ab)),{parallelCucumberRun}=require(a5_0x15ff14(0x1d7)),TestHubHandler=require(a5_0x15ff14(0x1a2)),testOpsHelper=require(a5_0x15ff14(0x1b2)),chalk=require(a5_0x15ff14(0x1a6)),PerformanceTester=require(a5_0x15ff14(0x1a7)),PerformanceEvents=require(a5_0x15ff14(0x18d))[a5_0x15ff14(0x1c3)];function printCucumberStats(_0x17cb05){const _0x36575b=a5_0x15ff14,_0x3223f0={};_0x3223f0[_0x36575b(0x1b1)]=function(_0x346895,_0x3a4f70){return _0x346895>_0x3a4f70;},_0x3223f0[_0x36575b(0x1d4)]=function(_0x571a37,_0x5909e7){return _0x571a37-_0x5909e7;},_0x3223f0[_0x36575b(0x1c2)]=function(_0x3d91ad,_0x5825b4){return _0x3d91ad-_0x5825b4;},_0x3223f0[_0x36575b(0x1c0)]=function(_0x1d8271,_0x5e75f7){return _0x1d8271>_0x5e75f7;},_0x3223f0[_0x36575b(0x1ed)]=function(_0x5287ad,_0x576aec){return _0x5287ad>_0x576aec;},_0x3223f0[_0x36575b(0x1b5)]=function(_0x151e2f,_0x17a294){return _0x151e2f>_0x17a294;},_0x3223f0[_0x36575b(0x1a0)]=function(_0x4e75df,_0x59bf28){return _0x4e75df>_0x59bf28;},_0x3223f0[_0x36575b(0x1a8)]=function(_0x3b102a,_0x2be505){return _0x3b102a>_0x2be505;},_0x3223f0[_0x36575b(0x1fb)]=function(_0x26747c,_0x3ef553){return _0x26747c>_0x3ef553;},_0x3223f0['wTkHb']=function(_0x189182,_0x5c67ff){return _0x189182+_0x5c67ff;},_0x3223f0[_0x36575b(0x18b)]=function(_0x3868d5,_0x11c862){return _0x3868d5+_0x11c862;},_0x3223f0['yvEVa']=function(_0x3f5b1b,_0x14429b){return _0x3f5b1b+_0x14429b;},_0x3223f0['jyQCx']=function(_0x2c2689,_0x4aacee){return _0x2c2689+_0x4aacee;},_0x3223f0[_0x36575b(0x1fe)]=function(_0x24cb95,_0x1c1e19){return _0x24cb95===_0x1c1e19;},_0x3223f0[_0x36575b(0x19b)]=_0x36575b(0x198);const _0x53e0da=_0x3223f0;let _0x3ea677=0x0;if(_0x53e0da['KABRT'](_0x17cb05['length'],0x0))return _0x3ea677;return console[_0x36575b(0x18c)](chalk[_0x36575b(0x1ce)]['bgWhite'](_0x53e0da['UhzcF'])),_0x17cb05[_0x36575b(0x200)](_0x34900c=>{const _0x333cef=_0x36575b,_0x67f422=_0x34900c[0x0],_0x4bf79d=_0x34900c[0x1];console[_0x333cef(0x18c)]('\x0a'+chalk['bold'][_0x333cef(0x1f4)](''+helper['getPlatformName'](_0x67f422)));const _0x81f173=_0x4bf79d[_0x333cef(0x193)],_0x4a6022=_0x4bf79d[_0x333cef(0x1c1)],_0x502d6b=_0x4bf79d[_0x333cef(0x1d5)],_0x2d2b68=_0x4bf79d['stepsFailed'],_0x4aa274=_0x4bf79d[_0x333cef(0x197)],_0x3fe75e=_0x4bf79d[_0x333cef(0x1e0)],_0x3d6d7a=_0x4bf79d[_0x333cef(0x1c9)],_0x6bc9e6=_0x4bf79d[_0x333cef(0x1da)],_0x3f20d8=_0x4bf79d[_0x333cef(0x1b3)],_0x5a2497=_0x4bf79d[_0x333cef(0x1de)],_0x544239=_0x4bf79d[_0x333cef(0x1e5)];let _0x26fba2=_0x81f173+_0x333cef(0x1f9);const _0x125423=_0x53e0da[_0x333cef(0x1b1)](_0x53e0da[_0x333cef(0x1d4)](_0x81f173,_0x502d6b),0x0)?_0x53e0da['oBvYj'](_0x81f173,_0x502d6b):0x0;if(_0x53e0da[_0x333cef(0x1c0)](_0x502d6b,0x0)&&_0x53e0da[_0x333cef(0x1c0)](_0x125423,0x0))_0x26fba2+='\x20('+chalk['bold'][_0x333cef(0x1ea)](_0x502d6b+'\x20failed')+',\x20'+chalk['bold'][_0x333cef(0x1dc)](_0x125423+_0x333cef(0x1f0))+')';else(_0x53e0da[_0x333cef(0x1ed)](_0x502d6b,0x0)||_0x53e0da[_0x333cef(0x1c0)](_0x125423,0x0))&&(_0x26fba2+=_0x53e0da[_0x333cef(0x1b5)](_0x502d6b,0x0)?'\x20('+chalk[_0x333cef(0x1ce)][_0x333cef(0x1ea)](_0x502d6b+_0x333cef(0x199))+')':'\x20('+chalk[_0x333cef(0x1ce)][_0x333cef(0x1dc)](_0x125423+_0x333cef(0x1f0))+')');const _0x1b8c29=_0x4a6022+'\x20steps',_0xc43ca1=[];_0x53e0da['EbTHU'](_0x5a2497,0x0)&&_0xc43ca1[_0x333cef(0x1dd)](''+chalk[_0x333cef(0x1ce)][_0x333cef(0x1ea)](_0x5a2497+'\x20ambiguous'));_0x53e0da[_0x333cef(0x1ed)](_0x2d2b68,0x0)&&_0xc43ca1[_0x333cef(0x1dd)](''+chalk[_0x333cef(0x1ce)][_0x333cef(0x1ea)](_0x2d2b68+_0x333cef(0x199)));_0x53e0da[_0x333cef(0x1a0)](_0x4aa274,0x0)&&_0xc43ca1['push'](''+chalk[_0x333cef(0x1ce)][_0x333cef(0x1dc)](_0x4aa274+_0x333cef(0x1f0)));_0x53e0da['SZSmz'](_0x3d6d7a,0x0)&&_0xc43ca1[_0x333cef(0x1dd)](''+chalk[_0x333cef(0x1ce)][_0x333cef(0x1f4)](_0x3d6d7a+_0x333cef(0x1b7)));_0x53e0da[_0x333cef(0x1fb)](_0x3fe75e,0x0)&&_0xc43ca1[_0x333cef(0x1dd)](''+chalk[_0x333cef(0x1ce)][_0x333cef(0x1bc)](_0x3fe75e+'\x20skipped'));_0x53e0da[_0x333cef(0x1fb)](_0x6bc9e6,0x0)&&_0xc43ca1[_0x333cef(0x1dd)](''+chalk[_0x333cef(0x1ce)][_0x333cef(0x1f4)](_0x6bc9e6+_0x333cef(0x1c4)));_0x53e0da['EbTHU'](_0x3f20d8,0x0)&&_0xc43ca1[_0x333cef(0x1dd)](''+chalk[_0x333cef(0x1ce)]['yellow'](_0x3f20d8+'\x20skipped'));const _0x33fd3f=_0x53e0da[_0x333cef(0x1d6)](_0x53e0da['wTkHb'](_0x53e0da[_0x333cef(0x18b)](_0x1b8c29,'('),_0xc43ca1[_0x333cef(0x1e9)](',\x20')),')');console['log'](_0x53e0da[_0x333cef(0x1a1)](_0x53e0da[_0x333cef(0x1d6)](_0x53e0da[_0x333cef(0x1ee)](_0x53e0da[_0x333cef(0x1a1)]('\x0a',_0x26fba2),'\x0a'),_0x33fd3f),'\x0a')),_0x53e0da[_0x333cef(0x1fe)](_0x544239,![])&&(_0x3ea677=0x1);}),_0x3ea677;}async function run(_0x1683bd,_0x19c715){const _0x181dbb=a5_0x15ff14,_0x553f0d={'cytHw':function(_0x1041b7,_0x302b8c){return _0x1041b7(_0x302b8c);},'hDjaG':function(_0x40d977,_0x5305b1){return _0x40d977>_0x5305b1;},'imwtA':_0x181dbb(0x1f7),'rEape':'Removing\x20tmp\x20directory\x20created\x20for\x20reports','tpweJ':_0x181dbb(0x1b0),'EASWI':_0x181dbb(0x1df),'USiMW':'cucumber-js','dcXKs':'tmp','spFoK':function(_0x3b789e,_0x9ef016){return _0x3b789e-_0x9ef016;},'OfFHZ':function(_0x21c7d7,_0x254b80){return _0x21c7d7>=_0x254b80;},'yxVdH':function(_0x12de76,_0x599e39){return _0x12de76!=_0x599e39;},'gJElD':_0x181dbb(0x1e8),'EDyDn':function(_0x3a8e78,_0xba919,_0x2cb4d3,_0x4aacd2,_0x40d5c1,_0x5d7621){return _0x3a8e78(_0xba919,_0x2cb4d3,_0x4aacd2,_0x40d5c1,_0x5d7621);}},_0x1850bf=new BrowserStackSetup(_0x1683bd,_0x553f0d[_0x181dbb(0x194)]);await _0x1850bf[_0x181dbb(0x1eb)](),helper[_0x181dbb(0x1a3)](_0x1850bf[_0x181dbb(0x1a9)],_0x1683bd);!helper[_0x181dbb(0x1d0)]()&&await _0x1850bf[_0x181dbb(0x1f8)]();await helper[_0x181dbb(0x1f1)](_0x1850bf[_0x181dbb(0x1cb)]);const _0x4bfe5a=helper[_0x181dbb(0x1ac)](_0x1850bf[_0x181dbb(0x1cb)]),_0x3b1838=await TestHubHandler[_0x181dbb(0x1b4)](constants[_0x181dbb(0x18a)][_0x181dbb(0x1c7)],_0x1850bf),_0x59af9=helper[_0x181dbb(0x195)](_0x1850bf[_0x181dbb(0x1cb)],_0x4bfe5a,constants[_0x181dbb(0x18a)][_0x181dbb(0x1c7)]);if(!_0x1850bf[_0x181dbb(0x1cb)])return;const _0x1ca3f1=_0x1850bf['config'][_0x181dbb(0x1db)]||helper[_0x181dbb(0x1c6)](_0x1683bd,_0x19c715,_0x1850bf['config'],constants[_0x181dbb(0x18a)][_0x181dbb(0x1c7)])||0x1,_0x594672={'server':helper[_0x181dbb(0x18f)](_0x1850bf[_0x181dbb(0x1cb)]),'proxySettings':_0x1850bf[_0x181dbb(0x1cb)][_0x181dbb(0x1cd)],'maxWorkers':_0x1ca3f1,'browserStackLogLevel':_0x1850bf[_0x181dbb(0x1cb)][_0x181dbb(0x1ca)],'skipSessionName':_0x1850bf[_0x181dbb(0x1cb)][_0x181dbb(0x1af)]['skipSessionName'],'skipSessionStatus':_0x1850bf[_0x181dbb(0x1cb)]['testContextOptions']['skipSessionStatus'],'turboScaleUrl':_0x1850bf['config'][_0x181dbb(0x18e)]},_0x3ccc69=process[_0x181dbb(0x1a5)],[_0x5f175e,_0x5ad883]=helper[_0x181dbb(0x1fa)](_0x3ccc69),_0x3be8ab=path[_0x181dbb(0x1e9)](process[_0x181dbb(0x19a)](),_0x553f0d['dcXKs']);if(_0x553f0d['hDjaG'](_0x5ad883[_0x181dbb(0x1f6)],0x0)){helper[_0x181dbb(0x1cf)](_0x3be8ab);for(let _0x20cb31=_0x553f0d[_0x181dbb(0x190)](_0x5f175e['length'],0x1);_0x553f0d[_0x181dbb(0x1b9)](_0x20cb31,0x0);_0x20cb31--){_0x3ccc69[_0x181dbb(0x1f2)](_0x5f175e[_0x20cb31],0x2);}}!helper[_0x181dbb(0x1e6)](_0x1850bf[_0x181dbb(0x1cb)][_0x181dbb(0x1d1)])&&(process['env'][_0x181dbb(0x19d)]=JSON[_0x181dbb(0x1e3)](_0x1850bf['config'][_0x181dbb(0x1d1)]));_0x553f0d[_0x181dbb(0x191)](_0x1850bf[_0x181dbb(0x1cb)][_0x181dbb(0x1d2)],null)?process[_0x181dbb(0x1bd)][_0x181dbb(0x1bb)]=_0x1850bf[_0x181dbb(0x1cb)][_0x181dbb(0x1d2)]:process[_0x181dbb(0x1bd)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x553f0d['gJElD'];PerformanceTester['end'](PerformanceEvents[_0x181dbb(0x1ad)]);let _0x5c7550;_0x553f0d['EDyDn'](parallelCucumberRun,_0x59af9,_0x594672,_0x1850bf['config'],_0x3ccc69,_0x5ad883)[_0x181dbb(0x1aa)](async _0x4e4454=>{const _0x79afd4=_0x181dbb;PerformanceTester[_0x79afd4(0x1f5)](PerformanceEvents['SDK_CLEANUP']),_0x5c7550=_0x4e4454;const _0x9bb7b9=_0x553f0d['cytHw'](printCucumberStats,_0x4e4454);process['exitCode']=_0x9bb7b9,_0x553f0d[_0x79afd4(0x19c)](_0x5ad883['length'],0x0)&&(logger[_0x79afd4(0x1cc)](_0x553f0d['imwtA']),helper['mergeOutputFiles'](_0x3be8ab,_0x5ad883),logger[_0x79afd4(0x1cc)](_0x553f0d[_0x79afd4(0x1c8)]),helper['removeDir'](_0x3be8ab));})[_0x181dbb(0x196)](async()=>{const _0x9bbd01=_0x181dbb;PerformanceTester[_0x9bbd01(0x1f5)](PerformanceEvents['SDK_CLEANUP']),_0x1850bf[_0x9bbd01(0x1b8)]=helper['getErrorMessageFromResults'](_0x5c7550,_0x553f0d['tpweJ']),testOpsHelper[_0x9bbd01(0x1be)]();try{await TestHubHandler['stop']();}catch(_0x1a9a34){logger[_0x9bbd01(0x1cc)](_0x9bbd01(0x1e1)+util['format'](_0x1a9a34));}try{const {browserstackFolderPath:_0x25b61a,tcgConfigPath:_0x1efe3c}=helper[_0x9bbd01(0x201)]();fs[_0x9bbd01(0x1e2)](_0x1efe3c),fs[_0x9bbd01(0x19e)](_0x25b61a);}catch(_0x81c28){logger[_0x9bbd01(0x1cc)](_0x553f0d['EASWI'],_0x81c28);}await utilities[_0x9bbd01(0x1d9)](_0x1850bf);});}module[a5_0x15ff14(0x1ff)]=run;