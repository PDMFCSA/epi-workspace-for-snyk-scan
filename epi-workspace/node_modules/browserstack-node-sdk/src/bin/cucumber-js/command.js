#!/usr/bin/env node
'use strict';const a5_0x461b4b=a5_0x33a6;(function(_0x495fe7,_0x4db05d){const _0x40a55a=a5_0x33a6,_0x4cc413=_0x495fe7();while(!![]){try{const _0x7d2482=-parseInt(_0x40a55a(0x196))/0x1+-parseInt(_0x40a55a(0x182))/0x2*(parseInt(_0x40a55a(0x1f6))/0x3)+-parseInt(_0x40a55a(0x1d6))/0x4+-parseInt(_0x40a55a(0x1df))/0x5+-parseInt(_0x40a55a(0x1bc))/0x6*(-parseInt(_0x40a55a(0x1ef))/0x7)+-parseInt(_0x40a55a(0x1d7))/0x8+parseInt(_0x40a55a(0x192))/0x9*(parseInt(_0x40a55a(0x1bf))/0xa);if(_0x7d2482===_0x4db05d)break;else _0x4cc413['push'](_0x4cc413['shift']());}catch(_0x1e235a){_0x4cc413['push'](_0x4cc413['shift']());}}}(a5_0x1d77,0x5a88f));const fs=require('fs'),path=require(a5_0x461b4b(0x1cd)),util=require(a5_0x461b4b(0x186)),logger=require('../../helpers/logger')[a5_0x461b4b(0x1dd)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a5_0x461b4b(0x1d1)),utilities=require(a5_0x461b4b(0x1b3)),constants=require('../utils/constants'),{parallelCucumberRun}=require(a5_0x461b4b(0x1ad)),TestHubHandler=require(a5_0x461b4b(0x1ba)),testOpsHelper=require(a5_0x461b4b(0x197)),chalk=require(a5_0x461b4b(0x1d4)),PerformanceTester=require(a5_0x461b4b(0x1a5)),PerformanceEvents=require(a5_0x461b4b(0x19e))[a5_0x461b4b(0x1d8)];function a5_0x33a6(_0x5eebec,_0xb81d){const _0x1d7794=a5_0x1d77();return a5_0x33a6=function(_0x33a6f2,_0x24da08){_0x33a6f2=_0x33a6f2-0x180;let _0x29d2d2=_0x1d7794[_0x33a6f2];return _0x29d2d2;},a5_0x33a6(_0x5eebec,_0xb81d);}function printCucumberStats(_0x1cbc64){const _0x29f268=a5_0x461b4b,_0x3f633c={};_0x3f633c[_0x29f268(0x1c3)]=function(_0x4ec4d7,_0x448afb){return _0x4ec4d7>_0x448afb;},_0x3f633c[_0x29f268(0x1a0)]=function(_0x213d46,_0x560003){return _0x213d46-_0x560003;},_0x3f633c[_0x29f268(0x1f0)]=function(_0x3e3f30,_0x29eef7){return _0x3e3f30>_0x29eef7;},_0x3f633c['aIfrK']=function(_0x1fe100,_0x2c20db){return _0x1fe100>_0x2c20db;},_0x3f633c[_0x29f268(0x1e6)]=function(_0x27d6bc,_0xb595f8){return _0x27d6bc>_0xb595f8;},_0x3f633c[_0x29f268(0x1b4)]=function(_0x1f5a75,_0x318c6b){return _0x1f5a75>_0x318c6b;},_0x3f633c['PCWnd']=function(_0x16314a,_0x505a2f){return _0x16314a+_0x505a2f;},_0x3f633c[_0x29f268(0x1f9)]=function(_0x4de47f,_0x479cc3){return _0x4de47f+_0x479cc3;},_0x3f633c['baltV']=function(_0x58bfad,_0x5beb47){return _0x58bfad===_0x5beb47;},_0x3f633c[_0x29f268(0x191)]=function(_0x39d8ba,_0xcc1f44){return _0x39d8ba===_0xcc1f44;},_0x3f633c[_0x29f268(0x1ce)]='****\x20RESULTS\x20****';const _0xeca522=_0x3f633c;let _0x101f83=0x0;if(_0xeca522[_0x29f268(0x191)](_0x1cbc64[_0x29f268(0x1ac)],0x0))return _0x101f83;return console[_0x29f268(0x1b1)](chalk[_0x29f268(0x19c)][_0x29f268(0x1a1)](_0xeca522[_0x29f268(0x1ce)])),_0x1cbc64[_0x29f268(0x1cc)](_0xa65e70=>{const _0x3e915b=_0x29f268,_0x55803a=_0xa65e70[0x0],_0x5c2fba=_0xa65e70[0x1];console[_0x3e915b(0x1b1)]('\x0a'+chalk[_0x3e915b(0x19c)][_0x3e915b(0x1b6)](''+helper['getPlatformName'](_0x55803a)));const _0x4275cd=_0x5c2fba[_0x3e915b(0x1a4)],_0x454101=_0x5c2fba[_0x3e915b(0x1b2)],_0x194fc3=_0x5c2fba[_0x3e915b(0x1c2)],_0x7e96b8=_0x5c2fba[_0x3e915b(0x1cf)],_0xfb16e3=_0x5c2fba['stepsPassed'],_0x20296f=_0x5c2fba[_0x3e915b(0x1ea)],_0x1f8ea5=_0x5c2fba[_0x3e915b(0x1e0)],_0x1e46de=_0x5c2fba[_0x3e915b(0x1d5)],_0x504115=_0x5c2fba[_0x3e915b(0x1f8)],_0x31de97=_0x5c2fba[_0x3e915b(0x1f5)],_0x3f8cac=_0x5c2fba[_0x3e915b(0x1c4)];let _0x43f819=_0x4275cd+_0x3e915b(0x19a);const _0x1b6693=_0xeca522[_0x3e915b(0x1c3)](_0xeca522['ogPaf'](_0x4275cd,_0x194fc3),0x0)?_0xeca522[_0x3e915b(0x1a0)](_0x4275cd,_0x194fc3):0x0;if(_0xeca522[_0x3e915b(0x1f0)](_0x194fc3,0x0)&&_0xeca522[_0x3e915b(0x1c3)](_0x1b6693,0x0))_0x43f819+='\x20('+chalk[_0x3e915b(0x19c)]['red'](_0x194fc3+_0x3e915b(0x1c0))+',\x20'+chalk[_0x3e915b(0x19c)]['green'](_0x1b6693+_0x3e915b(0x1a2))+')';else(_0xeca522[_0x3e915b(0x1b0)](_0x194fc3,0x0)||_0xeca522[_0x3e915b(0x1f0)](_0x1b6693,0x0))&&(_0x43f819+=_0xeca522[_0x3e915b(0x1f0)](_0x194fc3,0x0)?'\x20('+chalk[_0x3e915b(0x19c)]['red'](_0x194fc3+_0x3e915b(0x1c0))+')':'\x20('+chalk['bold'][_0x3e915b(0x18a)](_0x1b6693+_0x3e915b(0x1a2))+')');const _0x4c3b19=_0x454101+_0x3e915b(0x190),_0x28622a=[];_0xeca522[_0x3e915b(0x1f0)](_0x31de97,0x0)&&_0x28622a['push'](''+chalk[_0x3e915b(0x19c)]['red'](_0x31de97+'\x20ambiguous'));_0xeca522['VIZyA'](_0x7e96b8,0x0)&&_0x28622a[_0x3e915b(0x1e9)](''+chalk[_0x3e915b(0x19c)][_0x3e915b(0x1db)](_0x7e96b8+_0x3e915b(0x1c0)));_0xeca522[_0x3e915b(0x1f0)](_0xfb16e3,0x0)&&_0x28622a[_0x3e915b(0x1e9)](''+chalk[_0x3e915b(0x19c)][_0x3e915b(0x18a)](_0xfb16e3+'\x20passed'));_0xeca522[_0x3e915b(0x1b4)](_0x1f8ea5,0x0)&&_0x28622a['push'](''+chalk['bold'][_0x3e915b(0x1b6)](_0x1f8ea5+_0x3e915b(0x18c)));_0xeca522[_0x3e915b(0x1b0)](_0x20296f,0x0)&&_0x28622a[_0x3e915b(0x1e9)](''+chalk[_0x3e915b(0x19c)][_0x3e915b(0x1da)](_0x20296f+_0x3e915b(0x188)));_0xeca522[_0x3e915b(0x1e6)](_0x1e46de,0x0)&&_0x28622a[_0x3e915b(0x1e9)](''+chalk[_0x3e915b(0x19c)]['yellow'](_0x1e46de+_0x3e915b(0x189)));_0xeca522['bfMzM'](_0x504115,0x0)&&_0x28622a[_0x3e915b(0x1e9)](''+chalk['bold']['yellow'](_0x504115+_0x3e915b(0x188)));const _0x57c082=_0xeca522[_0x3e915b(0x1ca)](_0xeca522[_0x3e915b(0x1ca)](_0xeca522['KBzky'](_0x4c3b19,'('),_0x28622a['join'](',\x20')),')');console[_0x3e915b(0x1b1)](_0xeca522['PCWnd'](_0xeca522[_0x3e915b(0x1f9)](_0xeca522[_0x3e915b(0x1ca)](_0xeca522[_0x3e915b(0x1f9)]('\x0a',_0x43f819),'\x0a'),_0x57c082),'\x0a')),_0xeca522[_0x3e915b(0x1fa)](_0x3f8cac,![])&&(_0x101f83=0x1);}),_0x101f83;}function a5_0x1d77(){const _0x18607a=['stepsPending','Fyben','SDK_CLEANUP','YoYTl','BROWSERSTACK_TEST_OBSERVABILITY_YML','true','VIZyA','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','exports','push','stepsSkipped','getErrorMessageFromResults','start','testContextOptions','cucumber','224OApmyx','bfMzM','setUserConfigPath','initialize','turboScaleUrl','createDir','stepsAmbiguous','234579vimneU','isBrowserstackInfra','stepsUnknown','KBzky','baltV','getTCGConfigFilePaths','then','error\x20removing\x20tcg\x20config\x20file','16pRyAXH','env','launchBuild','framework','util','krxkm','\x20skipped','\x20undefined','green','end','\x20pending','printBuildLink','parallelsPerPlatform','JBSZv','\x20steps','qcmjN','99IKrwoz','stop','accessibilityOptions','unlinkSync','264007gCGJfo','../../helpers/test-observability/utils','skipSessionStatus','prepareCapabilities','\x20scenarios','cucumber-js','bold','proxySettings','../../helpers/performance/constants','kZbdZ','ogPaf','bgWhite','\x20passed','config','scenarios','../../helpers/performance/performance-tester','testObservability','setupTCGAuth','finalExecution','PuCBf','mergeOutputFiles','Removing\x20tmp\x20directory\x20created\x20for\x20reports','length','../test-runner','finally','logLevel','aIfrK','log','steps','../../helpers/utilities','wMEUW','SDK_SETUP','yellow','BPLka','parseFormatters','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','../../helpers/testhub/testhubHandler','debug','82122PPxvFM','cwd','getHubUrl','1949180pHjRYg','\x20failed','splice','scenariosFailed','rAyBl','processSuccess','QaVwZ','FRAMEWORKS','errorMessage','CUCUMBER','argv','PCWnd','format','forEach','path','NukDz','stepsFailed','exitCode','../../helpers/helper','useW3C','removeDir','chalk','stepsUndefined','2756148sSYENL','1207376uMOvTF','EVENTS','stringify','cyan','red','QwvUq','winstonLogger','Generating\x20consolidated\x20report...','2408705nmTkoC'];a5_0x1d77=function(){return _0x18607a;};return a5_0x1d77();}async function run(_0x5c1941,_0x48eb6d){const _0x3a54fe=a5_0x461b4b,_0x47654d={'krxkm':function(_0x2f35cf,_0x291bcf){return _0x2f35cf(_0x291bcf);},'PuCBf':function(_0x3d5341,_0x54ac28){return _0x3d5341>_0x54ac28;},'MfIyo':_0x3a54fe(0x1de),'vDEmW':_0x3a54fe(0x1ab),'Fyben':_0x3a54fe(0x1ee),'kZbdZ':_0x3a54fe(0x181),'zMQym':_0x3a54fe(0x19b),'QwvUq':'tmp','YoYTl':function(_0x5e16c2,_0x366b6c){return _0x5e16c2>_0x366b6c;},'QaVwZ':function(_0xca62a0,_0x1330f6){return _0xca62a0-_0x1330f6;},'BPLka':function(_0x30ebf5,_0x2da768){return _0x30ebf5>=_0x2da768;},'SFysV':function(_0x7f412b,_0x3fec22){return _0x7f412b!=_0x3fec22;},'rQUlk':_0x3a54fe(0x1e5),'JBSZv':function(_0x13204d,_0x52a695,_0x2d988b,_0x70338c,_0x268f34,_0x37ebe0){return _0x13204d(_0x52a695,_0x2d988b,_0x70338c,_0x268f34,_0x37ebe0);}},_0x22fa0a=new BrowserStackSetup(_0x5c1941,_0x47654d['zMQym']);await _0x22fa0a[_0x3a54fe(0x1f2)](),helper[_0x3a54fe(0x1f1)](_0x22fa0a[_0x3a54fe(0x185)],_0x5c1941);!helper[_0x3a54fe(0x1f7)]()&&await _0x22fa0a[_0x3a54fe(0x1a7)]();await helper['handleApp'](_0x22fa0a[_0x3a54fe(0x1a3)]);const _0x32c684=helper[_0x3a54fe(0x1d2)](_0x22fa0a[_0x3a54fe(0x1a3)]),_0x201cc3=helper[_0x3a54fe(0x199)](_0x22fa0a['config'],_0x32c684,constants['FRAMEWORKS']['CUCUMBER']);if(!_0x22fa0a[_0x3a54fe(0x1a3)])return;const _0x44c3b6=_0x22fa0a['config'][_0x3a54fe(0x18e)]||helper['getUserWorkerCount'](_0x5c1941,_0x48eb6d,_0x22fa0a['config'],constants[_0x3a54fe(0x1c6)][_0x3a54fe(0x1c8)])||0x1,_0x8c9b58={'server':helper[_0x3a54fe(0x1be)](_0x22fa0a[_0x3a54fe(0x1a3)]),'proxySettings':_0x22fa0a['config'][_0x3a54fe(0x19d)],'maxWorkers':_0x44c3b6,'browserStackLogLevel':_0x22fa0a[_0x3a54fe(0x1a3)][_0x3a54fe(0x1af)],'skipSessionName':_0x22fa0a['config'][_0x3a54fe(0x1ed)]['skipSessionName'],'skipSessionStatus':_0x22fa0a[_0x3a54fe(0x1a3)][_0x3a54fe(0x1ed)][_0x3a54fe(0x198)],'turboScaleUrl':_0x22fa0a['config'][_0x3a54fe(0x1f3)]},_0x3c745d=process[_0x3a54fe(0x1c9)],[_0x5b12e8,_0x6f723e]=helper[_0x3a54fe(0x1b8)](_0x3c745d),_0x296eac=path['join'](process[_0x3a54fe(0x1bd)](),_0x47654d[_0x3a54fe(0x1dc)]);if(_0x47654d[_0x3a54fe(0x1e3)](_0x6f723e[_0x3a54fe(0x1ac)],0x0)){helper[_0x3a54fe(0x1f4)](_0x296eac);for(let _0x125587=_0x47654d[_0x3a54fe(0x1c5)](_0x5b12e8['length'],0x1);_0x47654d[_0x3a54fe(0x1b7)](_0x125587,0x0);_0x125587--){_0x3c745d[_0x3a54fe(0x1c1)](_0x5b12e8[_0x125587],0x2);}}!helper['isUndefined'](_0x22fa0a[_0x3a54fe(0x1a3)][_0x3a54fe(0x194)])&&(process[_0x3a54fe(0x183)][_0x3a54fe(0x1b9)]=JSON[_0x3a54fe(0x1d9)](_0x22fa0a[_0x3a54fe(0x1a3)][_0x3a54fe(0x194)]));_0x47654d['SFysV'](_0x22fa0a[_0x3a54fe(0x1a3)][_0x3a54fe(0x1a6)],null)?process[_0x3a54fe(0x183)][_0x3a54fe(0x1e4)]=_0x22fa0a[_0x3a54fe(0x1a3)][_0x3a54fe(0x1a6)]:process['env'][_0x3a54fe(0x1e4)]=_0x47654d['rQUlk'];const _0x459dc7=await TestHubHandler[_0x3a54fe(0x184)](constants[_0x3a54fe(0x1c6)][_0x3a54fe(0x1c8)],_0x22fa0a);PerformanceTester[_0x3a54fe(0x18b)](PerformanceEvents[_0x3a54fe(0x1b5)]);let _0x5448c4;_0x47654d[_0x3a54fe(0x18f)](parallelCucumberRun,_0x201cc3,_0x8c9b58,_0x22fa0a[_0x3a54fe(0x1a3)],_0x3c745d,_0x6f723e)[_0x3a54fe(0x180)](async _0x145717=>{const _0x5cae59=_0x3a54fe;PerformanceTester['start'](PerformanceEvents[_0x5cae59(0x1e2)]),_0x5448c4=_0x145717;const _0x3671d4=_0x47654d[_0x5cae59(0x187)](printCucumberStats,_0x145717);process[_0x5cae59(0x1d0)]=_0x3671d4,_0x47654d[_0x5cae59(0x1a9)](_0x6f723e[_0x5cae59(0x1ac)],0x0)&&(logger['debug'](_0x47654d['MfIyo']),helper[_0x5cae59(0x1aa)](_0x296eac,_0x6f723e),logger[_0x5cae59(0x1bb)](_0x47654d['vDEmW']),helper[_0x5cae59(0x1d3)](_0x296eac));})[_0x3a54fe(0x1ae)](async()=>{const _0xa02625=_0x3a54fe;PerformanceTester[_0xa02625(0x1ec)](PerformanceEvents[_0xa02625(0x1e2)]),_0x22fa0a[_0xa02625(0x1c7)]=helper[_0xa02625(0x1eb)](_0x5448c4,_0x47654d[_0xa02625(0x1e1)]),testOpsHelper[_0xa02625(0x18d)]();try{await TestHubHandler[_0xa02625(0x193)]();}catch(_0x48301b){logger['debug'](_0xa02625(0x1e7)+util[_0xa02625(0x1cb)](_0x48301b));}try{const {browserstackFolderPath:_0x5e88db,tcgConfigPath:_0x33fbc3}=helper[_0xa02625(0x1fb)]();fs[_0xa02625(0x195)](_0x33fbc3),fs['rmdirSync'](_0x5e88db);}catch(_0x1f6b8a){logger[_0xa02625(0x1bb)](_0x47654d[_0xa02625(0x19f)],_0x1f6b8a);}await utilities[_0xa02625(0x1a8)](_0x22fa0a);});}module[a5_0x461b4b(0x1e8)]=run;