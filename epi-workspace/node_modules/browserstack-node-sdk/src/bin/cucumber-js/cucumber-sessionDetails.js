function a6_0x1691(){const _0x3f5d80=['zepph','_connection','VPDEO','winstonLogger','isRemote','AqGFW','browser_version','format','oEfvP','browserName','PRYXS','UbhTm','oGXlN','isRunning','Rcdsw','3620976UheBnA','platformVersion','playwright-',',\x20os=','6132072qGMOBQ','_cucumberDispatchPatched','patchConnection','1803DOWFVK','jjOHM','getTrackedInstance','jKCYB','CRConnection\x20already\x20patched\x20for\x20Cucumber.js','capabilties','client','Setting\x20session\x20id\x20received\x20from\x20BS\x20','browserVersion','url','_defaultConnectOptions','project','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','PtiXT','BpuAa','POST','bsSessionId','params','wKITK','Triggering\x20PLAYWRIGHT_DISPATCH\x20event\x20for\x20Cucumber.js','cloudProvider','test','platformName','NdyLE','obyxj','toLowerCase','dispatch','currentSessionDetails','OKkFw','nTAHn','webkit','596TXcJfG','MOgIM','BSTACK_ATS_URL','bStackParams','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','RHxaJ','getInstance','_name','channel','turboscale','fmEFS','MJSHH','osVersion','qWOnL','_cucumberCRPatched','patch','firefox','assign','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','_onMessage','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','chrome','Upjqi','getAutomationFramework','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','triggerPlaywrightDispatchEvent','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','Session\x20details\x20setup\x20complete:\x20','CyEux','Successfully\x20patched\x20Connection.dispatch\x20for\x20Cucumber.js','bsParams','patchCRConnection','NAVbJ','_browserType','uamie','unknown_grid','rqGvF','apply','531348hntUgR','LYZgV','TrgYE','sessionError','parse','extractBrowserStackParams','AcwQy','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','DOgke','7brxiOT','wsEndpoint','Connection','edge','XLjbJ','exports','connection.js','iDpNb','platform_version','BSTACK_URL','Device\x20Model\x20is\x20not\x20available','TRyxU','PiNjU','nsIru','kVGPt','../v2/state/hookState.js','TPnDs','JLKTn','weKqv','env','desiredCapabilities','lPWTH','message','platformDetails','kvSEV','caps','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','Kxgxp','sessionId','trackEvent','gxCWk','9EpfDsJ','capabilities','7598330ghpgRh','accessibilityPlatform','model','AAgcz','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','bstack:options','385CbMYMX','ekQkb','FPadZ','jCyFf','Error\x20in\x20finding\x20platform\x20details\x20','function','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','query','778668EsurEi','use','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','instance','includes','chromium','platform','product','sPDdI','DIXqw','defineProperty','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','lib','TYfVu','../../helpers/logger','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','prototype','CpnRj','GrCew','nmKNC','nvoXk','msedge','setupBrowserDetails','1071205BOGzED','jHdTy','rYivH','safari','Mtdyb','getDetails','MrcFN','CadAq','fDavd','../../helpers/helper','dFsDd','gecko','browserstack_capabilities','join','automate','os_version','Error\x20in\x20importing\x20connection\x20','path','browser','BROWSERSTACK_TEST_OBSERVABILITY','entries','debug','connectOptions','16QlGFnq','PLAYWRIGHT_DISPATCH','FQJFi','hVdpP','jpugF','Connection\x20dispatch\x20already\x20patched\x20for\x20Cucumber.js','version','string','toString','CRConnection','Error\x20in\x20importing\x20crConnection','Failed\x20to\x20import\x20connection\x20from\x20','KDzOU','wYIcN'];a6_0x1691=function(){return _0x3f5d80;};return a6_0x1691();}function a6_0x57f9(_0xec8953,_0x242b34){const _0x1691cc=a6_0x1691();return a6_0x57f9=function(_0x57f940,_0x256005){_0x57f940=_0x57f940-0x1c9;let _0x1f9a1d=_0x1691cc[_0x57f940];return _0x1f9a1d;},a6_0x57f9(_0xec8953,_0x242b34);}const a6_0x582097=a6_0x57f9;(function(_0x1ecfb4,_0x419402){const _0x35c1ce=a6_0x57f9,_0x20cc16=_0x1ecfb4();while(!![]){try{const _0x36dbe4=-parseInt(_0x35c1ce(0x1d7))/0x1+-parseInt(_0x35c1ce(0x249))/0x2*(parseInt(_0x35c1ce(0x22a))/0x3)+-parseInt(_0x35c1ce(0x206))/0x4*(-parseInt(_0x35c1ce(0x1ef))/0x5)+parseInt(_0x35c1ce(0x223))/0x6+parseInt(_0x35c1ce(0x279))/0x7*(parseInt(_0x35c1ce(0x227))/0x8)+-parseInt(_0x35c1ce(0x298))/0x9*(-parseInt(_0x35c1ce(0x1c9))/0xa)+-parseInt(_0x35c1ce(0x1cf))/0xb*(parseInt(_0x35c1ce(0x270))/0xc);if(_0x36dbe4===_0x419402)break;else _0x20cc16['push'](_0x20cc16['shift']());}catch(_0x36f9aa){_0x20cc16['push'](_0x20cc16['shift']());}}}(a6_0x1691,0x75027));const path=require(a6_0x582097(0x200)),url=require(a6_0x582097(0x233)),util=require('util'),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a6_0x582097(0x1f8)),{o11yErrorHandler}=require('../../helpers/test-observability/error-handler'),{debug,getPlatformDetails}=require('../../helpers/test-observability/utils'),logger=require(a6_0x582097(0x1e5))[a6_0x582097(0x217)],constants=require('../utils/constants'),AutomationFramework=require('../v2/framework/automationFramework'),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require('../v2/state/automationFrameworkState.js'),HookState=require(a6_0x582097(0x288)),{platform}=require('os'),getBrowserNameFromChannel=_0x4ccde0=>{const _0x3a6458=a6_0x582097,_0x4e68a5={};_0x4e68a5[_0x3a6458(0x1cc)]=_0x3a6458(0x25f),_0x4e68a5['sPDdI']=_0x3a6458(0x27c),_0x4e68a5['OKkFw']=_0x3a6458(0x259),_0x4e68a5[_0x3a6458(0x247)]='safari';const _0x30f66b=_0x4e68a5;if(_0x4ccde0['includes'](_0x30f66b['AAgcz']))return _0x30f66b[_0x3a6458(0x1cc)];if(_0x4ccde0[_0x3a6458(0x1db)](_0x30f66b[_0x3a6458(0x1df)]))return _0x30f66b[_0x3a6458(0x1df)];if(_0x4ccde0[_0x3a6458(0x1db)](_0x30f66b['OKkFw']))return _0x30f66b[_0x3a6458(0x246)];if(_0x4ccde0[_0x3a6458(0x1db)](_0x30f66b[_0x3a6458(0x247)]))return _0x30f66b[_0x3a6458(0x247)];},getBrowserFromWSEndpoint=_0xe9c7f4=>{const _0x5ba0b6=a6_0x582097,_0x26f044={'CyEux':_0x5ba0b6(0x1ce),'TPnDs':function(_0x41de1a,_0x586d92){return _0x41de1a(_0x586d92);},'fmEFS':function(_0x5f4084,_0x19c8da){return _0x5f4084(_0x19c8da);},'jKCYB':'edge','GrCew':_0x5ba0b6(0x1ed),'oGXlN':_0x5ba0b6(0x259),'jHdTy':_0x5ba0b6(0x1fa),'JLKTn':_0x5ba0b6(0x1f2),'zepph':_0x5ba0b6(0x248),'CpnRj':_0x5ba0b6(0x25f),'PiNjU':function(_0x3b6f4f,_0x179be9){return _0x3b6f4f(_0x179be9);}};try{const _0x132352=url[_0x5ba0b6(0x274)](_0xe9c7f4),_0x1bb2ce=new URLSearchParams(_0x132352[_0x5ba0b6(0x1d6)]),_0x5646d3=Object['fromEntries'](_0x1bb2ce[_0x5ba0b6(0x203)]()),_0xfea373=[_0x5646d3[_0x5ba0b6(0x292)],_0x5646d3[_0x5ba0b6(0x299)],_0x5646d3[_0x5ba0b6(0x28d)],_0x5646d3[_0x5ba0b6(0x1fb)]];for(const _0x5d2c89 of _0xfea373){if(_0x5d2c89)try{const _0x59f8bc=JSON[_0x5ba0b6(0x274)](_0x5d2c89),_0x300545=_0x59f8bc[_0x5ba0b6(0x21d)]||_0x59f8bc[_0x5ba0b6(0x201)]||_0x59f8bc[_0x26f044[_0x5ba0b6(0x266)]]?.[_0x5ba0b6(0x21d)];if(_0x300545)return _0x26f044[_0x5ba0b6(0x289)](debug,_0x5ba0b6(0x25e)+_0x300545),_0x300545[_0x5ba0b6(0x243)]();}catch(_0x575b92){_0x26f044[_0x5ba0b6(0x253)](debug,_0x5ba0b6(0x24d)+_0x575b92[_0x5ba0b6(0x28f)]);}}if(_0xe9c7f4[_0x5ba0b6(0x1db)](_0x26f044[_0x5ba0b6(0x22d)])||_0xe9c7f4[_0x5ba0b6(0x1db)](_0x26f044[_0x5ba0b6(0x1ea)]))return _0x26f044[_0x5ba0b6(0x22d)];if(_0xe9c7f4[_0x5ba0b6(0x1db)](_0x26f044[_0x5ba0b6(0x220)])||_0xe9c7f4[_0x5ba0b6(0x1db)](_0x26f044[_0x5ba0b6(0x1f0)]))return _0x26f044[_0x5ba0b6(0x220)];if(_0xe9c7f4['includes'](_0x26f044[_0x5ba0b6(0x28a)])||_0xe9c7f4[_0x5ba0b6(0x1db)](_0x26f044[_0x5ba0b6(0x214)]))return _0x26f044[_0x5ba0b6(0x28a)];return _0x26f044[_0x5ba0b6(0x1e9)];}catch(_0x54c56a){return _0x26f044[_0x5ba0b6(0x285)](debug,_0x5ba0b6(0x264)+_0x54c56a[_0x5ba0b6(0x20e)]()),_0x26f044['CpnRj'];}},getCloudProviderFromWsEndpoint=_0x13fa32=>{const _0x39a1c5=a6_0x582097,_0x31e5c3={};_0x31e5c3[_0x39a1c5(0x241)]='browserstack',_0x31e5c3['PtiXT']=_0x39a1c5(0x26d);const _0x1dd8d4=_0x31e5c3;if(_0x13fa32['includes'](constants[_0x39a1c5(0x282)])||_0x13fa32['includes'](constants[_0x39a1c5(0x24b)]))return _0x1dd8d4[_0x39a1c5(0x241)];return _0x1dd8d4[_0x39a1c5(0x237)];},a6_0x2ce213={};a6_0x2ce213[a6_0x582097(0x23e)]=undefined,a6_0x2ce213[a6_0x582097(0x23a)]=undefined,a6_0x2ce213[a6_0x582097(0x201)]=undefined,a6_0x2ce213['browser_version']=undefined,a6_0x2ce213[a6_0x582097(0x1dd)]=undefined,a6_0x2ce213[a6_0x582097(0x281)]=undefined,a6_0x2ce213[a6_0x582097(0x1de)]=undefined,a6_0x2ce213['capabilities']={};class CucumberSessionDetails{static [a6_0x582097(0x245)]=a6_0x2ce213;constructor(){const _0x15b7f7=a6_0x582097,_0x5006d8={};_0x5006d8[_0x15b7f7(0x21f)]=_0x15b7f7(0x25d);const _0x5a615c=_0x5006d8;throw new Error(_0x5a615c[_0x15b7f7(0x21f)]);}static [a6_0x582097(0x273)]=null;static[a6_0x582097(0x1ee)](_0x267ce9,_0xf674e2,_0x10838e=null){const _0x19e76e=a6_0x582097,_0x1d8c28={'gxCWk':function(_0x11521f,_0x3303da){return _0x11521f===_0x3303da;},'TYfVu':_0x19e76e(0x1d4),'RHxaJ':_0x19e76e(0x25b),'RsNxq':_0x19e76e(0x283),'kvSEV':'local_grid','wKITK':function(_0x494795,_0x182a18,_0x483173){return _0x494795(_0x182a18,_0x483173);},'wbELO':_0x19e76e(0x26b),'LYZgV':_0x19e76e(0x234),'rYivH':function(_0xd096af,_0x45427a,_0x278237){return _0xd096af(_0x45427a,_0x278237);},'ekQkb':_0x19e76e(0x235),'XLjbJ':_0x19e76e(0x1d8),'jjOHM':_0x19e76e(0x205),'lPWTH':function(_0x5e0042,_0x488dbc){return _0x5e0042(_0x488dbc);},'zZBWY':'browserstack','TRyxU':_0x19e76e(0x252),'DOgke':_0x19e76e(0x1fd),'MJSHH':function(_0xaf8dba,_0x2ae2d9){return _0xaf8dba(_0x2ae2d9);},'kRfJP':function(_0x3f2b4b,_0x37a02c){return _0x3f2b4b===_0x37a02c;},'Mtdyb':_0x19e76e(0x1dc),'NAVbJ':function(_0x178277,_0x1b101d){return _0x178277(_0x1b101d);},'Upjqi':function(_0x436ad3,_0x3e1219){return _0x436ad3+_0x3e1219;},'qWOnL':_0x19e76e(0x225),'CadAq':function(_0x430e77){return _0x430e77();},'obyxj':function(_0x29eec1,_0x48117a,_0x50ef21){return _0x29eec1(_0x48117a,_0x50ef21);},'jbuie':'setupBrowserDetails'},_0x5205ae=this;return _0x1d8c28[_0x19e76e(0x242)](o11yErrorHandler,async function _0x10f3cc(_0x4d26b4,_0x439669,_0x3a07d7=null){const _0x1ac6e2=_0x19e76e;let _0x25ed5e=_0x4d26b4[_0x1ac6e2(0x250)],_0x11c8a5=null;_0x4d26b4&&_0x1d8c28[_0x1ac6e2(0x297)](typeof _0x4d26b4[_0x1ac6e2(0x20c)],_0x1d8c28[_0x1ac6e2(0x1e4)])?_0x11c8a5=_0x4d26b4[_0x1ac6e2(0x20c)]():logger['debug'](_0x1d8c28[_0x1ac6e2(0x24e)]);let _0x55cf00=null;_0x4d26b4&&_0x1d8c28['gxCWk'](typeof _0x4d26b4[_0x1ac6e2(0x1cb)],_0x1d8c28['TYfVu'])?_0x55cf00=_0x4d26b4[_0x1ac6e2(0x1cb)]():logger[_0x1ac6e2(0x204)](_0x1d8c28['RsNxq']);let _0x2fced5=null,_0x4572cb=null,_0x2801c2=null,_0x2932e4=_0x1d8c28[_0x1ac6e2(0x291)];if(_0x4d26b4[_0x1ac6e2(0x215)][_0x1ac6e2(0x218)]()||global[_0x1ac6e2(0x1ca)]){let _0x52a7f2=null;_0x1d8c28[_0x1ac6e2(0x23c)](nestedKeyValue,_0x4d26b4,[_0x1d8c28['wbELO'],_0x1d8c28[_0x1ac6e2(0x271)]])?_0x52a7f2=_0x4d26b4[_0x1ac6e2(0x26b)][_0x1ac6e2(0x234)]:_0x52a7f2=_0x1d8c28[_0x1ac6e2(0x1f1)](nestedKeyValue,_0x439669,[_0x1d8c28[_0x1ac6e2(0x1d0)],_0x1d8c28[_0x1ac6e2(0x27d)],_0x1d8c28[_0x1ac6e2(0x22b)]]);const _0x1d5d79=_0x3a07d7||_0x52a7f2&&_0x52a7f2[_0x1ac6e2(0x27a)];if(_0x1d5d79){_0x2932e4=_0x1d8c28[_0x1ac6e2(0x28e)](getCloudProviderFromWsEndpoint,_0x1d5d79);if(_0x1d8c28['gxCWk'](_0x2932e4,_0x1d8c28['zZBWY'])){_0x2801c2=constants['ATS_WSS_URL_REGEX'][_0x1ac6e2(0x23f)](_0x1d5d79)?_0x1d8c28[_0x1ac6e2(0x284)]:_0x1d8c28[_0x1ac6e2(0x278)];const _0x4dc5c5=_0x1d8c28[_0x1ac6e2(0x254)](getBrowserFromWSEndpoint,_0x1d5d79);if(_0x4dc5c5&&(!_0x25ed5e||_0x1d8c28['kRfJP'](_0x25ed5e,_0x1d8c28[_0x1ac6e2(0x1f3)])))_0x25ed5e=_0x4dc5c5,logger[_0x1ac6e2(0x204)](_0x1ac6e2(0x1e6)+_0x25ed5e);else _0x25ed5e&&logger['debug'](_0x1ac6e2(0x1d5)+_0x25ed5e);_0x2fced5=_0x5205ae[_0x1ac6e2(0x245)][_0x1ac6e2(0x1dd)],_0x4572cb=_0x5205ae[_0x1ac6e2(0x245)][_0x1ac6e2(0x281)];}}}else{_0x439669&&_0x439669[_0x1ac6e2(0x235)][_0x1ac6e2(0x1d8)][_0x1ac6e2(0x251)]?_0x25ed5e=_0x1d8c28[_0x1ac6e2(0x26a)](getBrowserNameFromChannel,_0x439669[_0x1ac6e2(0x235)][_0x1ac6e2(0x1d8)]['channel']):_0x25ed5e=_0x1d8c28[_0x1ac6e2(0x260)](_0x1d8c28[_0x1ac6e2(0x256)],_0x25ed5e['toLowerCase']());const _0x3a95d4=await _0x1d8c28[_0x1ac6e2(0x1f6)](getPlatformDetails);_0x2fced5=_0x3a95d4[_0x1ac6e2(0x240)],_0x4572cb=_0x3a95d4['platformVersion'];}const _0x5504cc={};_0x5504cc[_0x1ac6e2(0x201)]=_0x25ed5e,_0x5504cc['browser_version']=_0x11c8a5,_0x5504cc[_0x1ac6e2(0x299)]={},_0x5504cc['platform']=_0x2fced5,_0x5504cc[_0x1ac6e2(0x281)]=_0x4572cb,_0x5504cc[_0x1ac6e2(0x1de)]=_0x2801c2;const _0x579762=_0x5504cc;_0x55cf00&&(_0x579762[_0x1ac6e2(0x299)]['deviceModel']=_0x55cf00);const _0x162a13={};_0x162a13[_0x1ac6e2(0x23e)]=_0x2932e4,_0x5205ae['currentSessionDetails']=Object[_0x1ac6e2(0x25a)]({},_0x5205ae[_0x1ac6e2(0x245)],_0x162a13,_0x579762);const _0x53f090={};_0x53f090[_0x1ac6e2(0x201)]=_0x5205ae[_0x1ac6e2(0x245)][_0x1ac6e2(0x201)],_0x53f090['browserVersion']=_0x5205ae['currentSessionDetails'][_0x1ac6e2(0x21a)],_0x53f090[_0x1ac6e2(0x1dd)]=_0x5205ae[_0x1ac6e2(0x245)][_0x1ac6e2(0x1dd)],_0x53f090['platformVersion']=_0x5205ae['currentSessionDetails']['platform_version'],_0x53f090[_0x1ac6e2(0x23e)]=_0x5205ae[_0x1ac6e2(0x245)][_0x1ac6e2(0x23e)],_0x53f090[_0x1ac6e2(0x1de)]=_0x5205ae[_0x1ac6e2(0x245)][_0x1ac6e2(0x1de)],logger[_0x1ac6e2(0x204)](_0x1ac6e2(0x265)+JSON['stringify'](_0x53f090));},_0x1d8c28['jbuie'])(_0x267ce9,_0xf674e2,_0x10838e);}static[a6_0x582097(0x258)](){const _0x505c67=a6_0x582097;this[_0x505c67(0x229)](),this[_0x505c67(0x269)]();}static[a6_0x582097(0x229)](){const _0x41d7d1=a6_0x582097,_0x22123b={'nmKNC':function(_0x522de5,_0x1f1208){return _0x522de5(_0x1f1208);},'rqGvF':'lib','DIXqw':_0x41d7d1(0x230),'AqGFW':_0x41d7d1(0x27f),'TrgYE':_0x41d7d1(0x262),'uamie':function(_0x939662,_0x414bbb){return _0x939662(_0x414bbb);},'Rcdsw':function(_0x28cafb,_0x1c085d){return _0x28cafb!=_0x1c085d;},'SfmZb':function(_0x447df9,_0x1380f1){return _0x447df9(_0x1380f1);},'oAFry':_0x41d7d1(0x20b),'Tvhsk':_0x41d7d1(0x244),'ZbGtr':_0x41d7d1(0x267),'fDavd':function(_0x3d5f18,_0x5ee971){return _0x3d5f18(_0x5ee971);}},_0x1541fa=this;if(!this[_0x41d7d1(0x27b)])try{const _0x42749d=[path[_0x41d7d1(0x1fc)](_0x22123b['rqGvF'],_0x22123b[_0x41d7d1(0x1e0)],_0x22123b[_0x41d7d1(0x219)]),path[_0x41d7d1(0x1fc)](_0x22123b[_0x41d7d1(0x26e)],_0x22123b[_0x41d7d1(0x219)]),path[_0x41d7d1(0x1fc)](_0x22123b[_0x41d7d1(0x1e0)],_0x22123b[_0x41d7d1(0x219)])];for(const _0x50996a of _0x42749d){try{const _0x114601=_0x22123b[_0x41d7d1(0x1eb)](importFileFromPWCore,_0x50996a);if(_0x114601&&_0x114601['Connection']){this['Connection']=_0x114601[_0x41d7d1(0x27b)],logger['debug']('Found\x20Connection\x20class\x20at:\x20'+_0x50996a);break;}}catch(_0xee9319){_0x22123b[_0x41d7d1(0x1eb)](debug,_0x41d7d1(0x211)+_0x50996a+':\x20'+_0xee9319[_0x41d7d1(0x20e)]());}}if(!this['Connection']){_0x22123b[_0x41d7d1(0x1eb)](debug,_0x22123b[_0x41d7d1(0x272)]);return;}}catch(_0x2264b2){_0x22123b[_0x41d7d1(0x26c)](debug,_0x41d7d1(0x1ff)+_0x2264b2['toString']());return;}const _0x495bd5=this[_0x41d7d1(0x27b)];try{if(_0x22123b[_0x41d7d1(0x222)](_0x495bd5,null)){const _0x16782d=_0x495bd5[_0x41d7d1(0x1e8)][_0x41d7d1(0x244)];if(!_0x22123b['SfmZb'](isFalse,process[_0x41d7d1(0x28c)][_0x41d7d1(0x202)])){if(_0x495bd5[_0x41d7d1(0x1e8)][_0x41d7d1(0x228)]){logger[_0x41d7d1(0x204)](_0x22123b['oAFry']);return;}Object[_0x41d7d1(0x1e1)](_0x495bd5['prototype'],_0x22123b['Tvhsk'],{'get':function(){const _0x3aff5a={'jpugF':function(_0x1117a3,_0x576c5e){return _0x22123b['nmKNC'](_0x1117a3,_0x576c5e);}};return async function _0xf38e75(_0x4793c9){const _0xbe057f=a6_0x57f9;if(BrowserstackCLI[_0xbe057f(0x24f)]()[_0xbe057f(0x221)]()){const _0x37d281={};_0x37d281[_0xbe057f(0x28f)]=_0x4793c9,await BrowserstackCLI['getInstance']()['getAutomationFramework']()['trackEvent'](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState[_0xbe057f(0x239)],_0x37d281);}else{const _0x3cc11d=_0x4793c9&&_0x4793c9['params']&&_0x4793c9[_0xbe057f(0x23b)][_0xbe057f(0x268)];if(_0x3cc11d){const _0x4cd2a5=_0x3cc11d[_0xbe057f(0x295)],_0x3bfbb5=_0x3cc11d['platformDetails'];_0x3bfbb5&&(_0x3aff5a[_0xbe057f(0x20a)](debug,_0xbe057f(0x293)+_0x3bfbb5[_0xbe057f(0x20e)]()),_0x1541fa[_0xbe057f(0x245)][_0xbe057f(0x1dd)]=_0x3bfbb5['platformName'],_0x1541fa[_0xbe057f(0x245)]['platform_version']=_0x3bfbb5['platformVersion']),_0x4cd2a5&&(_0x3aff5a['jpugF'](debug,_0xbe057f(0x231)+_0x4cd2a5),_0x1541fa['currentSessionDetails'][_0xbe057f(0x23a)]=_0x4cd2a5);}}return _0x16782d[_0xbe057f(0x26f)](this,arguments);};}}),_0x495bd5['prototype']['_cucumberDispatchPatched']=!![],logger[_0x41d7d1(0x204)](_0x22123b['ZbGtr']);}}}catch(_0x508bba){_0x22123b[_0x41d7d1(0x1f7)](debug,'Error\x20in\x20applying\x20Connection\x20patch\x20'+_0x508bba),_0x1541fa[_0x41d7d1(0x273)]=_0x508bba[_0x41d7d1(0x20e)]();}}static['patchCRConnection'](){const _0x143ca6=a6_0x582097,_0x1f020c={'VPDEO':function(_0x194ce1,_0x3498a5){return _0x194ce1(_0x3498a5);},'PRYXS':function(_0x1c4414,_0x5a3eaa){return _0x1c4414(_0x5a3eaa);},'kVGPt':_0x143ca6(0x1e3),'KIDGb':'server','MOgIM':'chromium','Kxgxp':'crConnection.js','MrcFN':function(_0x4de487,_0x874a4){return _0x4de487(_0x874a4);},'hVdpP':'Not\x20able\x20to\x20import\x20crConnection','nvoXk':_0x143ca6(0x210),'AcwQy':function(_0x200a90,_0x45ed13){return _0x200a90!=_0x45ed13;},'iDpNb':_0x143ca6(0x22e),'dFsDd':_0x143ca6(0x25c),'FPadZ':'Successfully\x20patched\x20CRConnection._onMessage\x20for\x20Cucumber.js'},_0xb0c743=this;let _0x2dd57a=null;try{const _0x22cffc=path['join'](_0x1f020c[_0x143ca6(0x287)],_0x1f020c['KIDGb'],_0x1f020c[_0x143ca6(0x24a)],_0x1f020c[_0x143ca6(0x294)]),_0x283dda=_0x1f020c['PRYXS'](importFileFromPWCore,_0x22cffc);!_0x283dda?_0x1f020c[_0x143ca6(0x1f5)](debug,_0x1f020c[_0x143ca6(0x209)]):_0x2dd57a=_0x283dda[_0x143ca6(0x20f)];}catch(_0x4bb698){_0x1f020c['MrcFN'](debug,_0x1f020c[_0x143ca6(0x1ec)]);}try{if(_0x1f020c[_0x143ca6(0x276)](_0x2dd57a,null)){const _0xe46230=_0x2dd57a[_0x143ca6(0x1e8)][_0x143ca6(0x25c)];if(_0x2dd57a[_0x143ca6(0x1e8)][_0x143ca6(0x257)]){logger[_0x143ca6(0x204)](_0x1f020c[_0x143ca6(0x280)]);return;}Object['defineProperty'](_0x2dd57a[_0x143ca6(0x1e8)],_0x1f020c[_0x143ca6(0x1f9)],{'get':function(){return async function _0x2ddf5c(_0x1544e8){const _0x3fb4d3=a6_0x57f9;try{if(BrowserstackCLI[_0x3fb4d3(0x24f)]()[_0x3fb4d3(0x221)]()){const _0x357c95={};_0x357c95[_0x3fb4d3(0x28f)]=_0x1544e8,await BrowserstackCLI[_0x3fb4d3(0x24f)]()[_0x3fb4d3(0x261)]()[_0x3fb4d3(0x296)](AutomationFrameworkState[_0x3fb4d3(0x207)],HookState[_0x3fb4d3(0x239)],_0x357c95),delete _0x1544e8[_0x3fb4d3(0x24c)];}else{const _0x3d0361=_0x1544e8[_0x3fb4d3(0x24c)];if(_0x3d0361){delete _0x1544e8[_0x3fb4d3(0x24c)];const _0x10cfa3=_0x3d0361[_0x3fb4d3(0x295)],_0x1b7410=_0x3d0361['platformDetails'];_0x1b7410&&(_0x1f020c[_0x3fb4d3(0x216)](debug,_0x3fb4d3(0x236)+_0x1b7410[_0x3fb4d3(0x20e)]()),_0xb0c743['currentSessionDetails'][_0x3fb4d3(0x1dd)]=_0x1b7410[_0x3fb4d3(0x240)],_0xb0c743[_0x3fb4d3(0x245)][_0x3fb4d3(0x281)]=_0x1b7410[_0x3fb4d3(0x224)]),_0x10cfa3&&(_0x1f020c[_0x3fb4d3(0x216)](debug,_0x3fb4d3(0x1e7)+_0x10cfa3),_0xb0c743[_0x3fb4d3(0x245)][_0x3fb4d3(0x23a)]=_0x10cfa3);}}}catch(_0x5000af){_0x1f020c[_0x3fb4d3(0x21e)](debug,_0x3fb4d3(0x1d3)+_0x5000af[_0x3fb4d3(0x20e)]());}return _0xe46230['apply'](this,arguments);};}}),_0x2dd57a['prototype'][_0x143ca6(0x257)]=!![],logger[_0x143ca6(0x204)](_0x1f020c[_0x143ca6(0x1d1)]);}}catch(_0x5e1b84){_0x1f020c[_0x143ca6(0x1f5)](debug,_0x143ca6(0x1d9)+_0x5e1b84),_0xb0c743['sessionError']=_0x5e1b84['toString']();}}static[a6_0x582097(0x275)](_0x348811,_0x1da6a7){const _0x3225d9=a6_0x582097,_0x4d6235={'BpuAa':_0x3225d9(0x1ce),'oEfvP':function(_0x3dcf7e,_0x3bbd09){return _0x3dcf7e||_0x3bbd09;},'KDzOU':function(_0x4a23b6,_0x22c509){return _0x4a23b6||_0x22c509;},'FQJFi':function(_0x1689d1,_0x35e3c3){return _0x1689d1===_0x35e3c3;},'OUCGk':_0x3225d9(0x20d),'weKqv':_0x3225d9(0x277),'JsHVH':function(_0xe814e8,_0x47ba4b){return _0xe814e8(_0x47ba4b);},'nsIru':function(_0x5d7032,_0x2282ff){return _0x5d7032(_0x2282ff);}};let _0x3bfdcb=null,_0x4505e2=null;try{const _0x5421cd=[_0x1da6a7,global['__platformCaps'],global[_0x3225d9(0x22f)]];for(const _0x3d32ea of _0x5421cd){if(_0x3d32ea&&(!_0x4505e2||!_0x4505e2[_0x3225d9(0x295)])){const _0x1a3b02=_0x3d32ea['sessionId']||_0x3d32ea[_0x4d6235['BpuAa']]?.[_0x3225d9(0x295)],_0x3cc67e=_0x3d32ea[_0x3225d9(0x21d)]||_0x3d32ea[_0x3225d9(0x201)]||_0x3d32ea[_0x4d6235['BpuAa']]?.[_0x3225d9(0x21d)],_0x50bc1b=_0x3d32ea[_0x3225d9(0x232)]||_0x3d32ea[_0x3225d9(0x21a)]||_0x3d32ea[_0x4d6235[_0x3225d9(0x238)]]?.[_0x3225d9(0x232)],_0x186b8d=_0x3d32ea['os']||_0x3d32ea[_0x3225d9(0x1dd)]||_0x3d32ea[_0x4d6235[_0x3225d9(0x238)]]?.['os'],_0x2658c6=_0x3d32ea[_0x3225d9(0x255)]||_0x3d32ea[_0x3225d9(0x1fe)]||_0x3d32ea[_0x4d6235[_0x3225d9(0x238)]]?.[_0x3225d9(0x255)];if(_0x4d6235[_0x3225d9(0x21c)](_0x1a3b02,_0x3cc67e)||_0x186b8d){const _0x1a2f1a={};_0x1a2f1a[_0x3225d9(0x21d)]=_0x3cc67e,_0x1a2f1a['browserVersion']=_0x50bc1b,_0x1a2f1a['os']=_0x186b8d,_0x1a2f1a[_0x3225d9(0x255)]=_0x2658c6,_0x1a2f1a[_0x3225d9(0x240)]=_0x3d32ea[_0x3225d9(0x240)]||_0x186b8d,_0x1a2f1a[_0x3225d9(0x224)]=_0x3d32ea['platformVersion']||_0x2658c6;const _0x1b7a55={};_0x1b7a55[_0x3225d9(0x295)]=_0x1a3b02,_0x1b7a55[_0x3225d9(0x290)]=_0x1a2f1a,_0x4505e2=_0x1b7a55;if(_0x4d6235[_0x3225d9(0x212)](_0x1a3b02,_0x3cc67e)){logger['debug']('BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser='+_0x3cc67e+_0x3225d9(0x226)+_0x186b8d);break;}}}}if(_0x348811&&_0x4d6235[_0x3225d9(0x208)](typeof _0x348811,_0x4d6235['OUCGk']))try{const _0x285e13=url[_0x3225d9(0x274)](_0x348811),_0xbe10a0=new URLSearchParams(_0x285e13[_0x3225d9(0x1d6)]),_0x43bc7c=Object['fromEntries'](_0xbe10a0[_0x3225d9(0x203)]()),_0x5df02d=[_0x43bc7c[_0x3225d9(0x292)],_0x43bc7c[_0x3225d9(0x299)],_0x43bc7c[_0x3225d9(0x28d)]];for(const _0x40d7fe of _0x5df02d){if(_0x40d7fe&&(!_0x3bfdcb||!_0x3bfdcb[_0x3225d9(0x295)]))try{const _0x35dc64=JSON[_0x3225d9(0x274)](_0x40d7fe),_0x1e5f1c={};_0x1e5f1c[_0x3225d9(0x295)]=_0x35dc64[_0x3225d9(0x295)]||_0x35dc64[_0x4d6235[_0x3225d9(0x238)]]?.['sessionId'],_0x1e5f1c[_0x3225d9(0x290)]={},_0x1e5f1c[_0x3225d9(0x290)][_0x3225d9(0x21d)]=_0x35dc64[_0x3225d9(0x21d)]||_0x35dc64[_0x3225d9(0x201)],_0x1e5f1c[_0x3225d9(0x290)]['browserVersion']=_0x35dc64[_0x3225d9(0x232)]||_0x35dc64['browser_version'],_0x1e5f1c[_0x3225d9(0x290)]['os']=_0x35dc64['os']||_0x35dc64['platform'],_0x1e5f1c[_0x3225d9(0x290)][_0x3225d9(0x255)]=_0x35dc64[_0x3225d9(0x255)]||_0x35dc64[_0x3225d9(0x1fe)],_0x1e5f1c[_0x3225d9(0x290)]['platformName']=_0x35dc64[_0x3225d9(0x240)]||_0x35dc64['os']||_0x35dc64['platform'],_0x1e5f1c[_0x3225d9(0x290)][_0x3225d9(0x224)]=_0x35dc64[_0x3225d9(0x224)]||_0x35dc64[_0x3225d9(0x255)]||_0x35dc64[_0x3225d9(0x1fe)],_0x3bfdcb=_0x1e5f1c;if(_0x3bfdcb[_0x3225d9(0x295)]||_0x3bfdcb[_0x3225d9(0x290)][_0x3225d9(0x21d)]){logger[_0x3225d9(0x204)](_0x4d6235[_0x3225d9(0x28b)]);break;}}catch(_0x211fa2){_0x4d6235['JsHVH'](debug,_0x3225d9(0x1cd)+_0x211fa2[_0x3225d9(0x20e)]());}}}catch(_0x3a00f5){_0x4d6235['nsIru'](debug,'Error\x20parsing\x20WebSocket\x20endpoint:\x20'+_0x3a00f5['toString']());}}catch(_0x3c0768){_0x4d6235[_0x3225d9(0x286)](debug,'Error\x20extracting\x20BrowserStack\x20parameters:\x20'+util[_0x3225d9(0x21b)](_0x3c0768));}const _0x401e96={};return _0x401e96[_0x3225d9(0x268)]=_0x3bfdcb,_0x401e96[_0x3225d9(0x24c)]=_0x4505e2,_0x401e96;}static async[a6_0x582097(0x263)](_0x36b99a,_0x1e24ff){const _0x441f59=a6_0x582097,_0x53abb9={'jCyFf':function(_0x2a73b1,_0x44ad6e){return _0x2a73b1||_0x44ad6e;},'wYIcN':_0x441f59(0x23d),'KRXSG':function(_0x1c7d94,_0xf2f0bc){return _0x1c7d94(_0xf2f0bc);}};try{if(!BrowserstackCLI['getInstance']()['isRunning']())return;if(_0x53abb9[_0x441f59(0x1d2)](_0x36b99a,_0x1e24ff)){logger[_0x441f59(0x204)](_0x53abb9[_0x441f59(0x213)]);const _0x69667e={'params':_0x36b99a?{'bsParams':_0x36b99a}:null,'bStackParams':_0x53abb9[_0x441f59(0x1d2)](_0x1e24ff,null)},_0x31535f=AutomationFramework[_0x441f59(0x22c)](),_0x510b63={};_0x510b63[_0x441f59(0x28f)]=_0x69667e,_0x510b63[_0x441f59(0x1da)]=_0x31535f,await BrowserstackCLI[_0x441f59(0x24f)]()[_0x441f59(0x261)]()[_0x441f59(0x296)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState[_0x441f59(0x239)],_0x510b63);}}catch(_0x4568df){_0x53abb9['KRXSG'](debug,_0x441f59(0x1e2)+util[_0x441f59(0x21b)](_0x4568df));}}static[a6_0x582097(0x1f4)](){const _0x56d80f=a6_0x582097;return this[_0x56d80f(0x245)];}}module[a6_0x582097(0x27e)]=CucumberSessionDetails;