function a6_0x49e5(_0x165701,_0x12a4d2){const _0x252b00=a6_0x252b();return a6_0x49e5=function(_0x49e553,_0x768c0c){_0x49e553=_0x49e553-0xcb;let _0x39a685=_0x252b00[_0x49e553];return _0x39a685;},a6_0x49e5(_0x165701,_0x12a4d2);}const a6_0x222a4f=a6_0x49e5;(function(_0x1c257b,_0x54ecb1){const _0x560bce=a6_0x49e5,_0x5bc51d=_0x1c257b();while(!![]){try{const _0x1fda77=parseInt(_0x560bce(0x103))/0x1*(parseInt(_0x560bce(0x189))/0x2)+-parseInt(_0x560bce(0x122))/0x3+parseInt(_0x560bce(0x120))/0x4*(parseInt(_0x560bce(0x13c))/0x5)+parseInt(_0x560bce(0x116))/0x6*(-parseInt(_0x560bce(0x181))/0x7)+-parseInt(_0x560bce(0x15f))/0x8+-parseInt(_0x560bce(0x132))/0x9+-parseInt(_0x560bce(0x125))/0xa*(-parseInt(_0x560bce(0x10d))/0xb);if(_0x1fda77===_0x54ecb1)break;else _0x5bc51d['push'](_0x5bc51d['shift']());}catch(_0xb10e85){_0x5bc51d['push'](_0x5bc51d['shift']());}}}(a6_0x252b,0xa41a5));const path=require(a6_0x222a4f(0x105)),url=require('url'),util=require(a6_0x222a4f(0x14b)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require('../../helpers/helper'),{o11yErrorHandler}=require(a6_0x222a4f(0x131)),{debug,getPlatformDetails}=require(a6_0x222a4f(0x15a)),logger=require(a6_0x222a4f(0x170))['winstonLogger'],constants=require(a6_0x222a4f(0x159)),AutomationFramework=require('../v2/framework/automationFramework'),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require('../v2/state/automationFrameworkState.js'),HookState=require(a6_0x222a4f(0xd4)),{platform}=require('os'),getBrowserNameFromChannel=_0x1dffc8=>{const _0x4011ee=a6_0x222a4f,_0x384b80={};_0x384b80[_0x4011ee(0x179)]=_0x4011ee(0xd3),_0x384b80[_0x4011ee(0x110)]='edge',_0x384b80[_0x4011ee(0x152)]=_0x4011ee(0x14d),_0x384b80[_0x4011ee(0xfe)]=_0x4011ee(0xda);const _0x9cd15=_0x384b80;if(_0x1dffc8[_0x4011ee(0x192)](_0x9cd15['vatWd']))return _0x9cd15['vatWd'];if(_0x1dffc8['includes'](_0x9cd15[_0x4011ee(0x110)]))return _0x9cd15[_0x4011ee(0x110)];if(_0x1dffc8['includes'](_0x9cd15[_0x4011ee(0x152)]))return _0x9cd15[_0x4011ee(0x152)];if(_0x1dffc8[_0x4011ee(0x192)](_0x9cd15[_0x4011ee(0xfe)]))return _0x9cd15[_0x4011ee(0xfe)];},getBrowserFromWSEndpoint=_0x185889=>{const _0x25c462=a6_0x222a4f,_0x294c97={'IaJNI':_0x25c462(0x13b),'lxdLb':function(_0x4e2217,_0x1e6ab3){return _0x4e2217(_0x1e6ab3);},'PSHPM':_0x25c462(0x158),'azSbW':_0x25c462(0x109),'JmzSS':_0x25c462(0x14d),'QakhG':_0x25c462(0x124),'WMmWW':_0x25c462(0xda),'dUiiL':_0x25c462(0x14c),'gCwgn':_0x25c462(0xd3)};try{const _0x443872=url[_0x25c462(0xcd)](_0x185889),_0x6e9508=new URLSearchParams(_0x443872[_0x25c462(0x16d)]),_0x3d4f32=Object[_0x25c462(0x135)](_0x6e9508[_0x25c462(0xf1)]()),_0xa0719=[_0x3d4f32[_0x25c462(0x15c)],_0x3d4f32['capabilities'],_0x3d4f32['desiredCapabilities'],_0x3d4f32[_0x25c462(0x16f)]];for(const _0x5eaf07 of _0xa0719){if(_0x5eaf07)try{const _0x361367=JSON['parse'](_0x5eaf07),_0x1ae30d=_0x361367[_0x25c462(0xe8)]||_0x361367[_0x25c462(0x141)]||_0x361367[_0x294c97['IaJNI']]?.[_0x25c462(0xe8)];if(_0x1ae30d)return _0x294c97[_0x25c462(0xfd)](debug,_0x25c462(0x143)+_0x1ae30d),_0x1ae30d[_0x25c462(0x162)]();}catch(_0xfef869){_0x294c97[_0x25c462(0xfd)](debug,_0x25c462(0x145)+_0xfef869[_0x25c462(0x165)]);}}if(_0x185889[_0x25c462(0x192)](_0x294c97[_0x25c462(0x11f)])||_0x185889[_0x25c462(0x192)](_0x294c97[_0x25c462(0x100)]))return _0x294c97[_0x25c462(0x11f)];if(_0x185889[_0x25c462(0x192)](_0x294c97[_0x25c462(0x174)])||_0x185889[_0x25c462(0x192)](_0x294c97[_0x25c462(0xfc)]))return _0x294c97[_0x25c462(0x174)];if(_0x185889[_0x25c462(0x192)](_0x294c97[_0x25c462(0x16c)])||_0x185889[_0x25c462(0x192)](_0x294c97['dUiiL']))return _0x294c97[_0x25c462(0x16c)];return _0x294c97[_0x25c462(0x11c)];}catch(_0x5a7536){return _0x294c97[_0x25c462(0xfd)](debug,_0x25c462(0x17f)+_0x5a7536['toString']()),_0x294c97[_0x25c462(0x11c)];}},getCloudProviderFromWsEndpoint=_0x3e06a9=>{const _0xf2efed=a6_0x222a4f,_0x27aa1c={};_0x27aa1c[_0xf2efed(0xff)]=_0xf2efed(0x112),_0x27aa1c['IttQb']='unknown_grid';const _0x5ae89a=_0x27aa1c;if(_0x3e06a9[_0xf2efed(0x192)](constants['BSTACK_URL'])||_0x3e06a9[_0xf2efed(0x192)](constants['BSTACK_ATS_URL']))return _0x5ae89a[_0xf2efed(0xff)];return _0x5ae89a[_0xf2efed(0x117)];},a6_0x1d55d7={};a6_0x1d55d7[a6_0x222a4f(0x130)]=undefined,a6_0x1d55d7['bsSessionId']=undefined,a6_0x1d55d7[a6_0x222a4f(0x141)]=undefined,a6_0x1d55d7[a6_0x222a4f(0x126)]=undefined,a6_0x1d55d7[a6_0x222a4f(0x195)]=undefined,a6_0x1d55d7[a6_0x222a4f(0x17c)]=undefined,a6_0x1d55d7[a6_0x222a4f(0x198)]=undefined,a6_0x1d55d7[a6_0x222a4f(0x137)]={};function a6_0x252b(){const _0x138d30=['AbBLK','client','Error\x20parsing\x20WebSocket\x20endpoint:\x20','env','LzdSA','project','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','fTObz','isRemote','apply',',\x20os=','_onMessage','CMybX','browserName','lQSPr','cXGXK','PLAYWRIGHT_DISPATCH','CRConnection\x20already\x20patched\x20for\x20Cucumber.js','getAutomationFramework','platformDetails','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','patchConnection','entries','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','wsEndpoint','server','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','sessionId','hddmr','os_version','fYsBa','connectOptions','osVersion','QakhG','lxdLb','vjxWM','zcMVU','azSbW','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','WTYgg','1dSPXCX','fQudc','path','_cucumberDispatchPatched','triggerPlaywrightDispatchEvent','setupBrowserDetails','msedge','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','AMLvz','Not\x20able\x20to\x20import\x20crConnection','7218035KZrQou','gmARf','instance','RwbAB','desiredCapabilities','browserstack','bStackParams','deviceModel','extractBrowserStackParams','15738zhBzpB','IttQb','KXVuN','yzRPQ','QIBfH','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','gCwgn','Lxfwy','ziIYv','PSHPM','4pFwAZG','Found\x20Connection\x20class\x20at:\x20','3264441ippvUF','automate','gecko','30bxTDGx','browser_version','debug','fEbFF','platformVersion','hBrRs','currentSessionDetails','yJtTc','Pptpn','Triggering\x20PLAYWRIGHT_DISPATCH\x20event\x20for\x20Cucumber.js','channel','cloudProvider','../../helpers/test-observability/error-handler','3422961SwhYAg','Failed\x20to\x20import\x20connection\x20from\x20','JlEOz','fromEntries','Successfully\x20patched\x20Connection.dispatch\x20for\x20Cucumber.js','capabilities','AFNZa','accessibilityPlatform','BJeWO','bstack:options','2792155LZSusA','assign','NVnja','join','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','browser','dispatch','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','MyGNj','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','OVKto','HLQIC','toString','getDetails','Device\x20Model\x20is\x20not\x20available','util','webkit','firefox','PNrHc','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','use','DLqGe','vkzQO','azcUQ','hMUue','_defaultConnectOptions','POST','Error\x20in\x20finding\x20platform\x20details\x20','edge','../utils/constants','../../helpers/test-observability/utils','platformName','caps','toMYv','Error\x20in\x20importing\x20connection\x20','6284992VUXaLW','kKOga','format','toLowerCase','model','params','message','turboscale','ePRit','lib','ANZPC','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','browserVersion','WMmWW','query','XrqNM','browserstack_capabilities','../../helpers/logger','Error\x20extracting\x20BrowserStack\x20parameters:\x20','getInstance','IHGyC','JmzSS','_browserType','tlIjH','iMWlw','Connection','vatWd','__platformCaps','prototype','platform_version','stringify','OHDQv','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','BROWSERSTACK_TEST_OBSERVABILITY','266jYJydN','qMWgP','exports','chromium','daiIc','test','bTUlI','capabilties','997906cFBAFb','defineProperty','akpNS','sessionError','VsRfw','vswwB','function','CRConnection','SbYKG','includes','playwright-','jZwWD','platform','bsParams','version','product','jHSpR','Error\x20in\x20applying\x20Connection\x20patch\x20','parse','isRunning','trackEvent','_cucumberCRPatched','ynCWK','getTrackedInstance','chrome','../v2/state/hookState.js','local_grid','patchCRConnection','wJsNF','patch','sRIis','safari'];a6_0x252b=function(){return _0x138d30;};return a6_0x252b();}class CucumberSessionDetails{static [a6_0x222a4f(0x12b)]=a6_0x1d55d7;constructor(){const _0x1d9835=a6_0x222a4f,_0xc0ee69={};_0xc0ee69[_0x1d9835(0x11a)]=_0x1d9835(0x16a);const _0x373871=_0xc0ee69;throw new Error(_0x373871[_0x1d9835(0x11a)]);}static [a6_0x222a4f(0x18c)]=null;static[a6_0x222a4f(0x108)](_0x394326,_0x4e6276,_0x203c82=null){const _0x5ba7a3=a6_0x222a4f,_0x331c4b={'ZZCkW':function(_0x2cda85,_0x56a1f5){return _0x2cda85===_0x56a1f5;},'hMUue':_0x5ba7a3(0x18f),'AbBLK':_0x5ba7a3(0x101),'BJeWO':function(_0x3f083e,_0x309807){return _0x3f083e===_0x309807;},'hddmr':_0x5ba7a3(0x14a),'HLQIC':_0x5ba7a3(0xd5),'Pptpn':function(_0x341ff2,_0x1fa142,_0x55d2ed){return _0x341ff2(_0x1fa142,_0x55d2ed);},'vLpyh':_0x5ba7a3(0x175),'tlIjH':_0x5ba7a3(0x155),'wJsNF':_0x5ba7a3(0xe0),'akpNS':'use','SbYKG':_0x5ba7a3(0xfa),'Lxfwy':function(_0x46ae34,_0x1a0292){return _0x46ae34(_0x1a0292);},'uukLN':function(_0x4a47a7,_0x161a0a){return _0x4a47a7===_0x161a0a;},'yJtTc':_0x5ba7a3(0x112),'daiIc':_0x5ba7a3(0x166),'JlEOz':_0x5ba7a3(0x123),'azcUQ':function(_0x1924c5,_0x26659c){return _0x1924c5===_0x26659c;},'ikUUQ':_0x5ba7a3(0x184),'sRIis':function(_0x1e436c,_0x5c3c62){return _0x1e436c(_0x5c3c62);},'cXGXK':function(_0x52cd0d,_0x574eef){return _0x52cd0d+_0x574eef;},'hBrRs':_0x5ba7a3(0x193),'CMybX':function(_0x105bd5){return _0x105bd5();},'ePRit':function(_0x98c77c,_0x401e09,_0x5ad9ad){return _0x98c77c(_0x401e09,_0x5ad9ad);},'gQDiq':_0x5ba7a3(0x108)},_0x47ee86=this;return _0x331c4b[_0x5ba7a3(0x167)](o11yErrorHandler,async function _0x4bbc64(_0x31310a,_0x4da5e9,_0x283884=null){const _0x421321=_0x5ba7a3;let _0x13a3b3=_0x31310a['_name'],_0x353a77=null;_0x31310a&&_0x331c4b['ZZCkW'](typeof _0x31310a[_0x421321(0x197)],_0x331c4b[_0x421321(0x154)])?_0x353a77=_0x31310a['version']():logger[_0x421321(0x127)](_0x331c4b[_0x421321(0xdb)]);let _0xfa83b1=null;_0x31310a&&_0x331c4b[_0x421321(0x13a)](typeof _0x31310a[_0x421321(0x163)],_0x331c4b[_0x421321(0x154)])?_0xfa83b1=_0x31310a['model']():logger[_0x421321(0x127)](_0x331c4b[_0x421321(0xf7)]);let _0x4e90d8=null,_0x12881b=null,_0x2acf6e=null,_0x56d674=_0x331c4b[_0x421321(0x147)];if(_0x31310a['_connection'][_0x421321(0xe3)]()||global[_0x421321(0x139)]){let _0x54d25d=null;_0x331c4b[_0x421321(0x12d)](nestedKeyValue,_0x31310a,[_0x331c4b['vLpyh'],_0x331c4b[_0x421321(0x176)]])?_0x54d25d=_0x31310a[_0x421321(0x175)][_0x421321(0x155)]:_0x54d25d=_0x331c4b[_0x421321(0x12d)](nestedKeyValue,_0x4da5e9,[_0x331c4b[_0x421321(0xd7)],_0x331c4b[_0x421321(0x18b)],_0x331c4b[_0x421321(0x191)]]);const _0x447c72=_0x283884||_0x54d25d&&_0x54d25d[_0x421321(0xf3)];if(_0x447c72){_0x56d674=_0x331c4b[_0x421321(0x11d)](getCloudProviderFromWsEndpoint,_0x447c72);if(_0x331c4b['uukLN'](_0x56d674,_0x331c4b[_0x421321(0x12c)])){_0x2acf6e=constants['ATS_WSS_URL_REGEX'][_0x421321(0x186)](_0x447c72)?_0x331c4b[_0x421321(0x185)]:_0x331c4b[_0x421321(0x134)];const _0x413ff0=_0x331c4b[_0x421321(0x11d)](getBrowserFromWSEndpoint,_0x447c72);if(_0x413ff0&&(!_0x13a3b3||_0x331c4b[_0x421321(0x153)](_0x13a3b3,_0x331c4b['ikUUQ'])))_0x13a3b3=_0x413ff0,logger[_0x421321(0x127)]('Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20'+_0x13a3b3);else _0x13a3b3&&logger[_0x421321(0x127)](_0x421321(0xf2)+_0x13a3b3);_0x4e90d8=_0x47ee86[_0x421321(0x12b)][_0x421321(0x195)],_0x12881b=_0x47ee86[_0x421321(0x12b)][_0x421321(0x17c)];}}}else{_0x4da5e9&&_0x4da5e9[_0x421321(0xe0)][_0x421321(0x150)][_0x421321(0x12f)]?_0x13a3b3=_0x331c4b[_0x421321(0xd9)](getBrowserNameFromChannel,_0x4da5e9[_0x421321(0xe0)][_0x421321(0x150)]['channel']):_0x13a3b3=_0x331c4b[_0x421321(0xea)](_0x331c4b[_0x421321(0x12a)],_0x13a3b3[_0x421321(0x162)]());const _0x5b2392=await _0x331c4b[_0x421321(0xe7)](getPlatformDetails);_0x4e90d8=_0x5b2392[_0x421321(0x15b)],_0x12881b=_0x5b2392[_0x421321(0x129)];}const _0x334dc4={};_0x334dc4[_0x421321(0x141)]=_0x13a3b3,_0x334dc4['browser_version']=_0x353a77,_0x334dc4[_0x421321(0x137)]={},_0x334dc4[_0x421321(0x195)]=_0x4e90d8,_0x334dc4[_0x421321(0x17c)]=_0x12881b,_0x334dc4['product']=_0x2acf6e;const _0x37da60=_0x334dc4;_0xfa83b1&&(_0x37da60[_0x421321(0x137)][_0x421321(0x114)]=_0xfa83b1);const _0x2c8b86={};_0x2c8b86['cloudProvider']=_0x56d674,_0x47ee86[_0x421321(0x12b)]=Object[_0x421321(0x13d)]({},_0x47ee86['currentSessionDetails'],_0x2c8b86,_0x37da60);const _0x4c01a5={};_0x4c01a5[_0x421321(0x141)]=_0x47ee86[_0x421321(0x12b)][_0x421321(0x141)],_0x4c01a5[_0x421321(0x16b)]=_0x47ee86['currentSessionDetails'][_0x421321(0x126)],_0x4c01a5[_0x421321(0x195)]=_0x47ee86['currentSessionDetails'][_0x421321(0x195)],_0x4c01a5['platformVersion']=_0x47ee86[_0x421321(0x12b)][_0x421321(0x17c)],_0x4c01a5[_0x421321(0x130)]=_0x47ee86[_0x421321(0x12b)][_0x421321(0x130)],_0x4c01a5[_0x421321(0x198)]=_0x47ee86[_0x421321(0x12b)][_0x421321(0x198)],logger[_0x421321(0x127)]('Session\x20details\x20setup\x20complete:\x20'+JSON[_0x421321(0x17d)](_0x4c01a5));},_0x331c4b['gQDiq'])(_0x394326,_0x4e6276,_0x203c82);}static[a6_0x222a4f(0xd8)](){const _0x336ce6=a6_0x222a4f;this[_0x336ce6(0xf0)](),this[_0x336ce6(0xd6)]();}static['patchConnection'](){const _0x58f00b=a6_0x222a4f,_0x339261={'AMLvz':function(_0x310c49,_0x20a80b){return _0x310c49(_0x20a80b);},'WTYgg':_0x58f00b(0x168),'fYsBa':_0x58f00b(0xdc),'LzdSA':'connection.js','IHGyC':function(_0xd3ad2f,_0x1fde1f){return _0xd3ad2f(_0x1fde1f);},'gmARf':_0x58f00b(0x140),'jHSpR':function(_0x5e10f4,_0x48ac03){return _0x5e10f4!=_0x48ac03;},'ziIYv':'Connection\x20dispatch\x20already\x20patched\x20for\x20Cucumber.js','OHDQv':_0x58f00b(0x142),'kKOga':_0x58f00b(0x136),'vswwB':function(_0x9219e0,_0xc7475d){return _0x9219e0(_0xc7475d);}},_0x478809=this;if(!this[_0x58f00b(0x178)])try{const _0x478767=[path[_0x58f00b(0x13f)](_0x339261[_0x58f00b(0x102)],_0x339261['fYsBa'],_0x339261[_0x58f00b(0xdf)]),path[_0x58f00b(0x13f)](_0x339261[_0x58f00b(0x102)],_0x339261[_0x58f00b(0xdf)]),path[_0x58f00b(0x13f)](_0x339261[_0x58f00b(0xf9)],_0x339261[_0x58f00b(0xdf)])];for(const _0xe1a11a of _0x478767){try{const _0x322bab=_0x339261[_0x58f00b(0x10b)](importFileFromPWCore,_0xe1a11a);if(_0x322bab&&_0x322bab[_0x58f00b(0x178)]){this['Connection']=_0x322bab[_0x58f00b(0x178)],logger[_0x58f00b(0x127)](_0x58f00b(0x121)+_0xe1a11a);break;}}catch(_0x56ceed){_0x339261[_0x58f00b(0x10b)](debug,_0x58f00b(0x133)+_0xe1a11a+':\x20'+_0x56ceed[_0x58f00b(0x148)]());}}if(!this[_0x58f00b(0x178)]){_0x339261[_0x58f00b(0x173)](debug,_0x339261[_0x58f00b(0x10e)]);return;}}catch(_0x17b671){_0x339261[_0x58f00b(0x173)](debug,_0x58f00b(0x15e)+_0x17b671[_0x58f00b(0x148)]());return;}const _0x1a5455=this[_0x58f00b(0x178)];try{if(_0x339261[_0x58f00b(0xcb)](_0x1a5455,null)){const _0x9a720e=_0x1a5455[_0x58f00b(0x17b)]['dispatch'];if(!_0x339261[_0x58f00b(0x10b)](isFalse,process[_0x58f00b(0xde)][_0x58f00b(0x180)])){if(_0x1a5455[_0x58f00b(0x17b)][_0x58f00b(0x106)]){logger[_0x58f00b(0x127)](_0x339261[_0x58f00b(0x11e)]);return;}Object[_0x58f00b(0x18a)](_0x1a5455[_0x58f00b(0x17b)],_0x339261[_0x58f00b(0x17e)],{'get':function(){const _0x1f2b14={'DLqGe':function(_0x44dd23,_0x323b84){const _0x2e0b41=a6_0x49e5;return _0x339261[_0x2e0b41(0x10b)](_0x44dd23,_0x323b84);},'OVKto':function(_0x197959,_0x5a96cd){return _0x339261['AMLvz'](_0x197959,_0x5a96cd);}};return async function _0x374660(_0x584bb0){const _0x2fca36=a6_0x49e5;if(BrowserstackCLI['getInstance']()[_0x2fca36(0xce)]()){const _0x5ef0f9={};_0x5ef0f9[_0x2fca36(0x165)]=_0x584bb0,await BrowserstackCLI['getInstance']()[_0x2fca36(0xed)]()[_0x2fca36(0xcf)](AutomationFrameworkState[_0x2fca36(0xeb)],HookState['POST'],_0x5ef0f9);}else{const _0x3ee444=_0x584bb0&&_0x584bb0['params']&&_0x584bb0[_0x2fca36(0x164)]['bsParams'];if(_0x3ee444){const _0x3a8930=_0x3ee444['sessionId'],_0x18ddd2=_0x3ee444['platformDetails'];_0x18ddd2&&(_0x1f2b14[_0x2fca36(0x151)](debug,_0x2fca36(0x11b)+_0x18ddd2['toString']()),_0x478809[_0x2fca36(0x12b)][_0x2fca36(0x195)]=_0x18ddd2[_0x2fca36(0x15b)],_0x478809[_0x2fca36(0x12b)][_0x2fca36(0x17c)]=_0x18ddd2[_0x2fca36(0x129)]),_0x3a8930&&(_0x1f2b14[_0x2fca36(0x146)](debug,'Setting\x20session\x20id\x20received\x20from\x20BS\x20'+_0x3a8930),_0x478809[_0x2fca36(0x12b)]['bsSessionId']=_0x3a8930);}}return _0x9a720e['apply'](this,arguments);};}}),_0x1a5455[_0x58f00b(0x17b)]['_cucumberDispatchPatched']=!![],logger['debug'](_0x339261[_0x58f00b(0x160)]);}}}catch(_0xdeb88a){_0x339261[_0x58f00b(0x18e)](debug,_0x58f00b(0xcc)+_0xdeb88a),_0x478809[_0x58f00b(0x18c)]=_0xdeb88a[_0x58f00b(0x148)]();}}static['patchCRConnection'](){const _0x4829ac=a6_0x222a4f,_0x37f618={'fTObz':function(_0x45c428,_0x5727f7){return _0x45c428(_0x5727f7);},'VsRfw':function(_0x4a91b4,_0x37f029){return _0x4a91b4(_0x37f029);},'mioTv':_0x4829ac(0x168),'lQSPr':_0x4829ac(0xf4),'qAzny':_0x4829ac(0x184),'HfrCc':'crConnection.js','yzRPQ':_0x4829ac(0x10c),'fQudc':'Error\x20in\x20importing\x20crConnection','AFNZa':function(_0xffc69e,_0x3abc0c){return _0xffc69e!=_0x3abc0c;},'vMELm':_0x4829ac(0xec),'MyGNj':_0x4829ac(0xe6),'PfNip':'Successfully\x20patched\x20CRConnection._onMessage\x20for\x20Cucumber.js','PNrHc':function(_0x3bfebd,_0x1cbee7){return _0x3bfebd(_0x1cbee7);}},_0xb2783a=this;let _0x8bbc8a=null;try{const _0x3f7840=path[_0x4829ac(0x13f)](_0x37f618['mioTv'],_0x37f618[_0x4829ac(0xe9)],_0x37f618['qAzny'],_0x37f618['HfrCc']),_0x280305=_0x37f618[_0x4829ac(0xe2)](importFileFromPWCore,_0x3f7840);!_0x280305?_0x37f618[_0x4829ac(0xe2)](debug,_0x37f618[_0x4829ac(0x119)]):_0x8bbc8a=_0x280305[_0x4829ac(0x190)];}catch(_0x4ea60b){_0x37f618['fTObz'](debug,_0x37f618[_0x4829ac(0x104)]);}try{if(_0x37f618[_0x4829ac(0x138)](_0x8bbc8a,null)){const _0x103043=_0x8bbc8a['prototype'][_0x4829ac(0xe6)];if(_0x8bbc8a[_0x4829ac(0x17b)]['_cucumberCRPatched']){logger['debug'](_0x37f618['vMELm']);return;}Object[_0x4829ac(0x18a)](_0x8bbc8a[_0x4829ac(0x17b)],_0x37f618[_0x4829ac(0x144)],{'get':function(){const _0x7c40fe={'bTUlI':function(_0x1c83c0,_0x2bbadf){const _0x3e71aa=a6_0x49e5;return _0x37f618[_0x3e71aa(0xe2)](_0x1c83c0,_0x2bbadf);},'ynCWK':function(_0x200a88,_0x3d6310){const _0x56dbfa=a6_0x49e5;return _0x37f618[_0x56dbfa(0x18d)](_0x200a88,_0x3d6310);}};return async function _0x2ed851(_0x548fbc){const _0x3e52a5=a6_0x49e5;try{if(BrowserstackCLI['getInstance']()['isRunning']()){const _0x54c434={};_0x54c434[_0x3e52a5(0x165)]=_0x548fbc,await BrowserstackCLI[_0x3e52a5(0x172)]()[_0x3e52a5(0xed)]()['trackEvent'](AutomationFrameworkState[_0x3e52a5(0xeb)],HookState[_0x3e52a5(0x156)],_0x54c434),delete _0x548fbc[_0x3e52a5(0x113)];}else{const _0x5d2d14=_0x548fbc[_0x3e52a5(0x113)];if(_0x5d2d14){delete _0x548fbc[_0x3e52a5(0x113)];const _0x4343f8=_0x5d2d14[_0x3e52a5(0xf6)],_0x1be0c4=_0x5d2d14[_0x3e52a5(0xee)];_0x1be0c4&&(_0x7c40fe['bTUlI'](debug,_0x3e52a5(0x14f)+_0x1be0c4[_0x3e52a5(0x148)]()),_0xb2783a['currentSessionDetails'][_0x3e52a5(0x195)]=_0x1be0c4[_0x3e52a5(0x15b)],_0xb2783a[_0x3e52a5(0x12b)][_0x3e52a5(0x17c)]=_0x1be0c4['platformVersion']),_0x4343f8&&(_0x7c40fe[_0x3e52a5(0x187)](debug,_0x3e52a5(0xf5)+_0x4343f8),_0xb2783a[_0x3e52a5(0x12b)]['bsSessionId']=_0x4343f8);}}}catch(_0x5526ae){_0x7c40fe[_0x3e52a5(0xd1)](debug,_0x3e52a5(0x157)+_0x5526ae[_0x3e52a5(0x148)]());}return _0x103043[_0x3e52a5(0xe4)](this,arguments);};}}),_0x8bbc8a[_0x4829ac(0x17b)][_0x4829ac(0xd0)]=!![],logger['debug'](_0x37f618['PfNip']);}}catch(_0x539fcd){_0x37f618[_0x4829ac(0x14e)](debug,_0x4829ac(0xe1)+_0x539fcd),_0xb2783a[_0x4829ac(0x18c)]=_0x539fcd[_0x4829ac(0x148)]();}}static[a6_0x222a4f(0x115)](_0xe6f3b,_0x5f0406){const _0xdd2df8=a6_0x222a4f,_0x12ee26={'iMWlw':_0xdd2df8(0x13b),'NVnja':function(_0x3a587e,_0x349740){return _0x3a587e||_0x349740;},'fEbFF':function(_0x44b873,_0x3b4df3){return _0x44b873||_0x3b4df3;},'XrqNM':function(_0x57e1a1,_0x574928){return _0x57e1a1===_0x574928;},'apbkm':'string','jjrlH':'BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','ANZPC':function(_0x17452c,_0x4859e8){return _0x17452c(_0x4859e8);},'KXVuN':function(_0x30e675,_0x2b12f6){return _0x30e675(_0x2b12f6);}};let _0x4bcf8b=null,_0x1f39e7=null;try{const _0x1dbc92=[_0x5f0406,global[_0xdd2df8(0x17a)],global[_0xdd2df8(0x188)]];for(const _0x1cae12 of _0x1dbc92){if(_0x1cae12&&(!_0x1f39e7||!_0x1f39e7['sessionId'])){const _0x4e0221=_0x1cae12[_0xdd2df8(0xf6)]||_0x1cae12[_0x12ee26[_0xdd2df8(0x177)]]?.[_0xdd2df8(0xf6)],_0x18ac4a=_0x1cae12[_0xdd2df8(0xe8)]||_0x1cae12[_0xdd2df8(0x141)]||_0x1cae12[_0x12ee26['iMWlw']]?.['browserName'],_0x5a3dc6=_0x1cae12['browserVersion']||_0x1cae12[_0xdd2df8(0x126)]||_0x1cae12[_0x12ee26[_0xdd2df8(0x177)]]?.[_0xdd2df8(0x16b)],_0x42d1a8=_0x1cae12['os']||_0x1cae12['platform']||_0x1cae12[_0x12ee26[_0xdd2df8(0x177)]]?.['os'],_0x2f1518=_0x1cae12[_0xdd2df8(0xfb)]||_0x1cae12[_0xdd2df8(0xf8)]||_0x1cae12[_0x12ee26[_0xdd2df8(0x177)]]?.[_0xdd2df8(0xfb)];if(_0x12ee26[_0xdd2df8(0x13e)](_0x4e0221,_0x18ac4a)||_0x42d1a8){const _0x130b4d={};_0x130b4d[_0xdd2df8(0xe8)]=_0x18ac4a,_0x130b4d[_0xdd2df8(0x16b)]=_0x5a3dc6,_0x130b4d['os']=_0x42d1a8,_0x130b4d['osVersion']=_0x2f1518,_0x130b4d[_0xdd2df8(0x15b)]=_0x1cae12[_0xdd2df8(0x15b)]||_0x42d1a8,_0x130b4d[_0xdd2df8(0x129)]=_0x1cae12[_0xdd2df8(0x129)]||_0x2f1518;const _0x38703c={};_0x38703c[_0xdd2df8(0xf6)]=_0x4e0221,_0x38703c['platformDetails']=_0x130b4d,_0x1f39e7=_0x38703c;if(_0x12ee26[_0xdd2df8(0x128)](_0x4e0221,_0x18ac4a)){logger[_0xdd2df8(0x127)](_0xdd2df8(0xef)+_0x18ac4a+_0xdd2df8(0xe5)+_0x42d1a8);break;}}}}if(_0xe6f3b&&_0x12ee26[_0xdd2df8(0x16e)](typeof _0xe6f3b,_0x12ee26['apbkm']))try{const _0x3f3c53=url[_0xdd2df8(0xcd)](_0xe6f3b),_0x46758e=new URLSearchParams(_0x3f3c53[_0xdd2df8(0x16d)]),_0x5a5bc3=Object[_0xdd2df8(0x135)](_0x46758e[_0xdd2df8(0xf1)]()),_0x5495c7=[_0x5a5bc3['caps'],_0x5a5bc3['capabilities'],_0x5a5bc3[_0xdd2df8(0x111)]];for(const _0x4b0735 of _0x5495c7){if(_0x4b0735&&(!_0x4bcf8b||!_0x4bcf8b[_0xdd2df8(0xf6)]))try{const _0x1c3469=JSON[_0xdd2df8(0xcd)](_0x4b0735),_0x38a78d={};_0x38a78d[_0xdd2df8(0xf6)]=_0x1c3469[_0xdd2df8(0xf6)]||_0x1c3469[_0x12ee26['iMWlw']]?.[_0xdd2df8(0xf6)],_0x38a78d[_0xdd2df8(0xee)]={},_0x38a78d[_0xdd2df8(0xee)][_0xdd2df8(0xe8)]=_0x1c3469['browserName']||_0x1c3469[_0xdd2df8(0x141)],_0x38a78d[_0xdd2df8(0xee)]['browserVersion']=_0x1c3469[_0xdd2df8(0x16b)]||_0x1c3469[_0xdd2df8(0x126)],_0x38a78d[_0xdd2df8(0xee)]['os']=_0x1c3469['os']||_0x1c3469[_0xdd2df8(0x195)],_0x38a78d[_0xdd2df8(0xee)]['osVersion']=_0x1c3469['osVersion']||_0x1c3469[_0xdd2df8(0xf8)],_0x38a78d[_0xdd2df8(0xee)][_0xdd2df8(0x15b)]=_0x1c3469['platformName']||_0x1c3469['os']||_0x1c3469[_0xdd2df8(0x195)],_0x38a78d[_0xdd2df8(0xee)][_0xdd2df8(0x129)]=_0x1c3469[_0xdd2df8(0x129)]||_0x1c3469[_0xdd2df8(0xfb)]||_0x1c3469['os_version'],_0x4bcf8b=_0x38a78d;if(_0x4bcf8b[_0xdd2df8(0xf6)]||_0x4bcf8b['platformDetails'][_0xdd2df8(0xe8)]){logger[_0xdd2df8(0x127)](_0x12ee26['jjrlH']);break;}}catch(_0x2ff9a7){_0x12ee26[_0xdd2df8(0x169)](debug,'Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20'+_0x2ff9a7[_0xdd2df8(0x148)]());}}}catch(_0x202915){_0x12ee26[_0xdd2df8(0x118)](debug,_0xdd2df8(0xdd)+_0x202915['toString']());}}catch(_0x2183d9){_0x12ee26[_0xdd2df8(0x169)](debug,_0xdd2df8(0x171)+util[_0xdd2df8(0x161)](_0x2183d9));}const _0x55070f={};return _0x55070f[_0xdd2df8(0x196)]=_0x4bcf8b,_0x55070f['bStackParams']=_0x1f39e7,_0x55070f;}static async[a6_0x222a4f(0x107)](_0x1744d2,_0x47c423){const _0x4a4115=a6_0x222a4f,_0x2f7281={'toMYv':function(_0xb4d40c,_0x384292){return _0xb4d40c||_0x384292;},'ictYe':_0x4a4115(0x12e),'qMWgP':function(_0x568940,_0x2edaef){return _0x568940||_0x2edaef;},'jZwWD':function(_0x58097c,_0x11ca81){return _0x58097c(_0x11ca81);}};try{if(!BrowserstackCLI[_0x4a4115(0x172)]()[_0x4a4115(0xce)]())return;if(_0x2f7281[_0x4a4115(0x15d)](_0x1744d2,_0x47c423)){logger[_0x4a4115(0x127)](_0x2f7281['ictYe']);const _0x616396={'params':_0x1744d2?{'bsParams':_0x1744d2}:null,'bStackParams':_0x2f7281[_0x4a4115(0x182)](_0x47c423,null)},_0x332f24=AutomationFramework[_0x4a4115(0xd2)](),_0x30fd36={};_0x30fd36['message']=_0x616396,_0x30fd36[_0x4a4115(0x10f)]=_0x332f24,await BrowserstackCLI[_0x4a4115(0x172)]()[_0x4a4115(0xed)]()['trackEvent'](AutomationFrameworkState[_0x4a4115(0xeb)],HookState['POST'],_0x30fd36);}}catch(_0x4d4427){_0x2f7281[_0x4a4115(0x194)](debug,_0x4a4115(0x10a)+util[_0x4a4115(0x161)](_0x4d4427));}}static[a6_0x222a4f(0x149)](){return this['currentSessionDetails'];}}module[a6_0x222a4f(0x183)]=CucumberSessionDetails;