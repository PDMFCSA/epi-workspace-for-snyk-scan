const a6_0x2a86c9=a6_0x1159;(function(_0x461d54,_0x5477f9){const _0x2a4b00=a6_0x1159,_0x80eacf=_0x461d54();while(!![]){try{const _0x41e58e=-parseInt(_0x2a4b00(0x142))/0x1*(parseInt(_0x2a4b00(0x1a6))/0x2)+parseInt(_0x2a4b00(0x141))/0x3*(parseInt(_0x2a4b00(0x116))/0x4)+parseInt(_0x2a4b00(0x1c1))/0x5+parseInt(_0x2a4b00(0x1a1))/0x6*(parseInt(_0x2a4b00(0x175))/0x7)+parseInt(_0x2a4b00(0x171))/0x8*(-parseInt(_0x2a4b00(0x17f))/0x9)+parseInt(_0x2a4b00(0x15c))/0xa+-parseInt(_0x2a4b00(0x132))/0xb;if(_0x41e58e===_0x5477f9)break;else _0x80eacf['push'](_0x80eacf['shift']());}catch(_0x214d2f){_0x80eacf['push'](_0x80eacf['shift']());}}}(a6_0x3945,0x2b132));const path=require(a6_0x2a86c9(0x183)),url=require(a6_0x2a86c9(0x1c0)),util=require(a6_0x2a86c9(0x172)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require('../../helpers/helper'),{o11yErrorHandler}=require('../../helpers/test-observability/error-handler'),{debug,getPlatformDetails}=require(a6_0x2a86c9(0x1c4)),logger=require(a6_0x2a86c9(0x19f))['winstonLogger'],constants=require(a6_0x2a86c9(0x184)),AutomationFramework=require('../v2/framework/automationFramework'),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require(a6_0x2a86c9(0x1a2)),HookState=require('../v2/state/hookState.js'),{platform}=require('os'),getBrowserNameFromChannel=_0x57f22f=>{const _0xd0c725=a6_0x2a86c9,_0x53a9a8={};_0x53a9a8[_0xd0c725(0x17c)]=_0xd0c725(0x13d),_0x53a9a8[_0xd0c725(0x126)]=_0xd0c725(0x166),_0x53a9a8[_0xd0c725(0x104)]=_0xd0c725(0x129),_0x53a9a8[_0xd0c725(0x11b)]='safari';const _0x2af8be=_0x53a9a8;if(_0x57f22f['includes'](_0x2af8be[_0xd0c725(0x17c)]))return _0x2af8be[_0xd0c725(0x17c)];if(_0x57f22f[_0xd0c725(0x1a9)](_0x2af8be['nRavk']))return _0x2af8be[_0xd0c725(0x126)];if(_0x57f22f[_0xd0c725(0x1a9)](_0x2af8be[_0xd0c725(0x104)]))return _0x2af8be['NVGwD'];if(_0x57f22f['includes'](_0x2af8be[_0xd0c725(0x11b)]))return _0x2af8be[_0xd0c725(0x11b)];},getBrowserFromWSEndpoint=_0x4c292c=>{const _0x38da37=a6_0x2a86c9,_0x4e103a={'Uwczq':'bstack:options','rvVxJ':function(_0x4f45ae,_0x43cefd){return _0x4f45ae(_0x43cefd);},'whdsF':function(_0x5f5908,_0x1880e){return _0x5f5908(_0x1880e);},'LGrzj':_0x38da37(0x166),'DowGE':_0x38da37(0x102),'BVcxi':'firefox','EXdvD':_0x38da37(0x10b),'eLxXW':'safari','vnXpu':_0x38da37(0x185),'vhlhz':_0x38da37(0x13d)};try{const _0x36f88b=url[_0x38da37(0x1be)](_0x4c292c),_0x25d183=new URLSearchParams(_0x36f88b[_0x38da37(0x153)]),_0x4a76f7=Object['fromEntries'](_0x25d183[_0x38da37(0x182)]()),_0x32ca12=[_0x4a76f7[_0x38da37(0x1b4)],_0x4a76f7['capabilities'],_0x4a76f7[_0x38da37(0x1d0)],_0x4a76f7[_0x38da37(0x1a3)]];for(const _0x48206c of _0x32ca12){if(_0x48206c)try{const _0x270a93=JSON[_0x38da37(0x1be)](_0x48206c),_0x21d0aa=_0x270a93[_0x38da37(0x17b)]||_0x270a93[_0x38da37(0x19a)]||_0x270a93[_0x4e103a[_0x38da37(0x193)]]?.[_0x38da37(0x17b)];if(_0x21d0aa)return _0x4e103a['rvVxJ'](debug,_0x38da37(0x188)+_0x21d0aa),_0x21d0aa['toLowerCase']();}catch(_0x4caa9a){_0x4e103a[_0x38da37(0x10f)](debug,_0x38da37(0x13c)+_0x4caa9a[_0x38da37(0x1a4)]);}}if(_0x4c292c[_0x38da37(0x1a9)](_0x4e103a[_0x38da37(0x134)])||_0x4c292c[_0x38da37(0x1a9)](_0x4e103a['DowGE']))return _0x4e103a['LGrzj'];if(_0x4c292c[_0x38da37(0x1a9)](_0x4e103a[_0x38da37(0x181)])||_0x4c292c[_0x38da37(0x1a9)](_0x4e103a[_0x38da37(0x19e)]))return _0x4e103a[_0x38da37(0x181)];if(_0x4c292c[_0x38da37(0x1a9)](_0x4e103a['eLxXW'])||_0x4c292c[_0x38da37(0x1a9)](_0x4e103a['vnXpu']))return _0x4e103a[_0x38da37(0x196)];return _0x4e103a[_0x38da37(0x14e)];}catch(_0x57e1d7){return _0x4e103a['whdsF'](debug,'Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20'+_0x57e1d7['toString']()),_0x4e103a[_0x38da37(0x14e)];}},getCloudProviderFromWsEndpoint=_0xe577ed=>{const _0x394204=a6_0x2a86c9,_0x5e3ae7={};_0x5e3ae7[_0x394204(0x189)]='browserstack',_0x5e3ae7[_0x394204(0x18c)]=_0x394204(0x16c);const _0x447ba8=_0x5e3ae7;if(_0xe577ed[_0x394204(0x1a9)](constants[_0x394204(0x1b7)])||_0xe577ed['includes'](constants[_0x394204(0x13e)]))return _0x447ba8[_0x394204(0x189)];return _0x447ba8[_0x394204(0x18c)];},a6_0x8f7a64={};a6_0x8f7a64[a6_0x2a86c9(0x15f)]=undefined,a6_0x8f7a64[a6_0x2a86c9(0x178)]=undefined,a6_0x8f7a64['browser']=undefined,a6_0x8f7a64['browser_version']=undefined,a6_0x8f7a64[a6_0x2a86c9(0x1b6)]=undefined,a6_0x8f7a64[a6_0x2a86c9(0x19c)]=undefined,a6_0x8f7a64['product']=undefined,a6_0x8f7a64[a6_0x2a86c9(0x11e)]={};class CucumberSessionDetails{static [a6_0x2a86c9(0x123)]=a6_0x8f7a64;constructor(){const _0x522b91=a6_0x2a86c9,_0x30e807={};_0x30e807['rkCIk']='Invalid\x20constructor,\x20please\x20use\x20static\x20methods';const _0xcec790=_0x30e807;throw new Error(_0xcec790[_0x522b91(0x16e)]);}static [a6_0x2a86c9(0x1bc)]=null;static[a6_0x2a86c9(0x1a5)](_0x29806b,_0x3f2828,_0x2d4a91=null){const _0x396cbc=a6_0x2a86c9,_0x103523={'ovRaF':function(_0x3428fa,_0x4488dd){return _0x3428fa===_0x4488dd;},'vWsQr':_0x396cbc(0x186),'XFWFR':_0x396cbc(0x169),'xgGLJ':'Device\x20Model\x20is\x20not\x20available','AzThO':_0x396cbc(0x152),'tKYfW':function(_0x35aa31,_0x34b8b7,_0x3f8e96){return _0x35aa31(_0x34b8b7,_0x3f8e96);},'UUiQf':_0x396cbc(0x15a),'UqzOr':_0x396cbc(0x148),'aCMJr':_0x396cbc(0x14c),'qxJTm':_0x396cbc(0x105),'fXtaB':'connectOptions','gtlLS':function(_0x2e68e9,_0x5dd8b1){return _0x2e68e9(_0x5dd8b1);},'SYUtM':function(_0x5242bf,_0x279d6f){return _0x5242bf===_0x279d6f;},'JeeuH':_0x396cbc(0x145),'udAdH':_0x396cbc(0x10d),'mgBzK':_0x396cbc(0x155),'wQhIW':function(_0x56e741,_0x3f6e11){return _0x56e741(_0x3f6e11);},'YDrHC':_0x396cbc(0x10c),'oNaDc':function(_0x10d8c9,_0x18cf9b){return _0x10d8c9+_0x18cf9b;},'Xznzz':_0x396cbc(0x103),'sUFhq':function(_0x4b67e9){return _0x4b67e9();},'ESYGT':'setupBrowserDetails'},_0x775b2d=this;return _0x103523[_0x396cbc(0x160)](o11yErrorHandler,async function _0x2c7d2e(_0x1d1a85,_0x6760cc,_0x5a9519=null){const _0x3cba42=_0x396cbc;let _0x1656c7=_0x1d1a85[_0x3cba42(0x1ae)],_0x37f07b=null;_0x1d1a85&&_0x103523[_0x3cba42(0x137)](typeof _0x1d1a85[_0x3cba42(0x177)],_0x103523['vWsQr'])?_0x37f07b=_0x1d1a85[_0x3cba42(0x177)]():logger[_0x3cba42(0x11a)](_0x103523[_0x3cba42(0x1ad)]);let _0xb04227=null;_0x1d1a85&&_0x103523[_0x3cba42(0x137)](typeof _0x1d1a85[_0x3cba42(0x1ab)],_0x103523[_0x3cba42(0x13b)])?_0xb04227=_0x1d1a85[_0x3cba42(0x1ab)]():logger[_0x3cba42(0x11a)](_0x103523[_0x3cba42(0x112)]);let _0x346c94=null,_0x51affc=null,_0x356683=null,_0x1c1461=_0x103523['AzThO'];if(_0x1d1a85['_connection'][_0x3cba42(0x115)]()||global['accessibilityPlatform']){let _0x5a2262=null;_0x103523[_0x3cba42(0x160)](nestedKeyValue,_0x1d1a85,[_0x103523['UUiQf'],_0x103523[_0x3cba42(0x108)]])?_0x5a2262=_0x1d1a85[_0x3cba42(0x15a)][_0x3cba42(0x148)]:_0x5a2262=_0x103523[_0x3cba42(0x160)](nestedKeyValue,_0x6760cc,[_0x103523[_0x3cba42(0x119)],_0x103523[_0x3cba42(0x1b2)],_0x103523[_0x3cba42(0x151)]]);const _0x3fcd76=_0x5a9519||_0x5a2262&&_0x5a2262[_0x3cba42(0x131)];if(_0x3fcd76){_0x1c1461=_0x103523[_0x3cba42(0x12e)](getCloudProviderFromWsEndpoint,_0x3fcd76);if(_0x103523[_0x3cba42(0x1c9)](_0x1c1461,_0x103523[_0x3cba42(0x1c5)])){_0x356683=constants[_0x3cba42(0x1cc)][_0x3cba42(0x159)](_0x3fcd76)?_0x103523[_0x3cba42(0x16f)]:_0x103523['mgBzK'];const _0x2bbf09=_0x103523[_0x3cba42(0x11c)](getBrowserFromWSEndpoint,_0x3fcd76);if(_0x2bbf09&&(!_0x1656c7||_0x103523['ovRaF'](_0x1656c7,_0x103523[_0x3cba42(0x125)])))_0x1656c7=_0x2bbf09,logger['debug'](_0x3cba42(0x1a8)+_0x1656c7);else _0x1656c7&&logger[_0x3cba42(0x11a)](_0x3cba42(0x120)+_0x1656c7);_0x346c94=_0x775b2d[_0x3cba42(0x123)][_0x3cba42(0x1b6)],_0x51affc=_0x775b2d[_0x3cba42(0x123)][_0x3cba42(0x19c)];}}}else{_0x6760cc&&_0x6760cc[_0x3cba42(0x14c)]['use']['channel']?_0x1656c7=_0x103523[_0x3cba42(0x12e)](getBrowserNameFromChannel,_0x6760cc[_0x3cba42(0x14c)][_0x3cba42(0x105)][_0x3cba42(0x165)]):_0x1656c7=_0x103523[_0x3cba42(0x1b9)](_0x103523[_0x3cba42(0x17e)],_0x1656c7[_0x3cba42(0x10e)]());const _0x3fcd9d=await _0x103523[_0x3cba42(0x197)](getPlatformDetails);_0x346c94=_0x3fcd9d[_0x3cba42(0x146)],_0x51affc=_0x3fcd9d['platformVersion'];}const _0x493cc6={};_0x493cc6[_0x3cba42(0x19a)]=_0x1656c7,_0x493cc6[_0x3cba42(0x136)]=_0x37f07b,_0x493cc6[_0x3cba42(0x11e)]={},_0x493cc6[_0x3cba42(0x1b6)]=_0x346c94,_0x493cc6['platform_version']=_0x51affc,_0x493cc6['product']=_0x356683;const _0x29f659=_0x493cc6;_0xb04227&&(_0x29f659[_0x3cba42(0x11e)][_0x3cba42(0x147)]=_0xb04227);const _0x4229f0={};_0x4229f0[_0x3cba42(0x15f)]=_0x1c1461,_0x775b2d['currentSessionDetails']=Object[_0x3cba42(0x109)]({},_0x775b2d[_0x3cba42(0x123)],_0x4229f0,_0x29f659);const _0x4f9559={};_0x4f9559[_0x3cba42(0x19a)]=_0x775b2d[_0x3cba42(0x123)]['browser'],_0x4f9559['browserVersion']=_0x775b2d['currentSessionDetails'][_0x3cba42(0x136)],_0x4f9559[_0x3cba42(0x1b6)]=_0x775b2d[_0x3cba42(0x123)][_0x3cba42(0x1b6)],_0x4f9559[_0x3cba42(0x10a)]=_0x775b2d['currentSessionDetails'][_0x3cba42(0x19c)],_0x4f9559['cloudProvider']=_0x775b2d[_0x3cba42(0x123)]['cloudProvider'],_0x4f9559[_0x3cba42(0x107)]=_0x775b2d[_0x3cba42(0x123)][_0x3cba42(0x107)],logger['debug'](_0x3cba42(0x106)+JSON[_0x3cba42(0x114)](_0x4f9559));},_0x103523[_0x396cbc(0x101)])(_0x29806b,_0x3f2828,_0x2d4a91);}static[a6_0x2a86c9(0x174)](){const _0x4b7019=a6_0x2a86c9;this[_0x4b7019(0x1cb)](),this[_0x4b7019(0x192)]();}static[a6_0x2a86c9(0x1cb)](){const _0x2aa442=a6_0x2a86c9,_0x41eb3e={'JIHNj':function(_0x1ec238,_0x16d47e){return _0x1ec238(_0x16d47e);},'vwMYX':_0x2aa442(0x13a),'TVxjd':'client','XHIAh':_0x2aa442(0x122),'EPPhB':function(_0x13aecd,_0x5d6c67){return _0x13aecd(_0x5d6c67);},'dfeHn':function(_0x362b69,_0x12d40d){return _0x362b69(_0x12d40d);},'KDZGF':_0x2aa442(0x130),'GrLRC':function(_0x20507d,_0x1c6094){return _0x20507d!=_0x1c6094;},'GlSYu':function(_0x11213b,_0x3ad8fe){return _0x11213b(_0x3ad8fe);},'ILLsa':_0x2aa442(0x18e),'wjGVY':_0x2aa442(0x1bd),'eZIdK':_0x2aa442(0x127)},_0x1bf7a6=this;if(!this['Connection'])try{const _0x5a8e23=[path['join'](_0x41eb3e[_0x2aa442(0x1b1)],_0x41eb3e[_0x2aa442(0x1b8)],_0x41eb3e['XHIAh']),path[_0x2aa442(0x139)](_0x41eb3e['vwMYX'],_0x41eb3e[_0x2aa442(0x1b0)]),path[_0x2aa442(0x139)](_0x41eb3e['TVxjd'],_0x41eb3e[_0x2aa442(0x1b0)])];for(const _0x4f818e of _0x5a8e23){try{const _0x2af716=_0x41eb3e[_0x2aa442(0x18d)](importFileFromPWCore,_0x4f818e);if(_0x2af716&&_0x2af716[_0x2aa442(0x1bf)]){this[_0x2aa442(0x1bf)]=_0x2af716[_0x2aa442(0x1bf)],logger[_0x2aa442(0x11a)](_0x2aa442(0x1ac)+_0x4f818e);break;}}catch(_0x1f560a){_0x41eb3e[_0x2aa442(0x179)](debug,_0x2aa442(0x190)+_0x4f818e+':\x20'+_0x1f560a[_0x2aa442(0x1b5)]());}}if(!this[_0x2aa442(0x1bf)]){_0x41eb3e[_0x2aa442(0x18d)](debug,_0x41eb3e[_0x2aa442(0x144)]);return;}}catch(_0x2e9703){_0x41eb3e['JIHNj'](debug,_0x2aa442(0x195)+_0x2e9703['toString']());return;}const _0x35afd3=this['Connection'];try{if(_0x41eb3e[_0x2aa442(0x187)](_0x35afd3,null)){const _0x4a228b=_0x35afd3[_0x2aa442(0x135)][_0x2aa442(0x1bd)];if(!_0x41eb3e[_0x2aa442(0x154)](isFalse,process[_0x2aa442(0x15d)]['BROWSERSTACK_TEST_OBSERVABILITY'])){if(_0x35afd3['prototype'][_0x2aa442(0x158)]){logger['debug'](_0x41eb3e['ILLsa']);return;}Object[_0x2aa442(0x1c8)](_0x35afd3['prototype'],_0x41eb3e[_0x2aa442(0x1aa)],{'get':function(){const _0xeead7c={'qFsQr':function(_0x3c5c4f,_0x490bee){const _0x1c252d=a6_0x1159;return _0x41eb3e[_0x1c252d(0x14b)](_0x3c5c4f,_0x490bee);},'Uwuay':function(_0x6b587b,_0x2fb6bd){return _0x41eb3e['JIHNj'](_0x6b587b,_0x2fb6bd);}};return async function _0x3f65d5(_0x1b8ffd){const _0x21f175=a6_0x1159;if(BrowserstackCLI[_0x21f175(0x1d1)]()[_0x21f175(0x113)]()){const _0x155914={};_0x155914[_0x21f175(0x1a4)]=_0x1b8ffd,await BrowserstackCLI[_0x21f175(0x1d1)]()[_0x21f175(0x12d)]()[_0x21f175(0x168)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState[_0x21f175(0x16d)],_0x155914);}else{const _0x3f03b1=_0x1b8ffd&&_0x1b8ffd['params']&&_0x1b8ffd[_0x21f175(0x1a0)]['bsParams'];if(_0x3f03b1){const _0x14c093=_0x3f03b1[_0x21f175(0x117)],_0x1a7e93=_0x3f03b1[_0x21f175(0x156)];_0x1a7e93&&(_0xeead7c[_0x21f175(0x167)](debug,_0x21f175(0x18a)+_0x1a7e93[_0x21f175(0x1b5)]()),_0x1bf7a6[_0x21f175(0x123)][_0x21f175(0x1b6)]=_0x1a7e93[_0x21f175(0x146)],_0x1bf7a6[_0x21f175(0x123)][_0x21f175(0x19c)]=_0x1a7e93[_0x21f175(0x10a)]),_0x14c093&&(_0xeead7c[_0x21f175(0x138)](debug,_0x21f175(0x1b3)+_0x14c093),_0x1bf7a6[_0x21f175(0x123)]['bsSessionId']=_0x14c093);}}return _0x4a228b[_0x21f175(0x143)](this,arguments);};}}),_0x35afd3['prototype'][_0x2aa442(0x158)]=!![],logger[_0x2aa442(0x11a)](_0x41eb3e[_0x2aa442(0x176)]);}}}catch(_0x2ab85b){_0x41eb3e[_0x2aa442(0x18d)](debug,_0x2aa442(0x140)+_0x2ab85b),_0x1bf7a6[_0x2aa442(0x1bc)]=_0x2ab85b['toString']();}}static[a6_0x2a86c9(0x192)](){const _0x32b2df=a6_0x2a86c9,_0x1f0716={'IGUZe':function(_0x5a7e03,_0x6b6903){return _0x5a7e03(_0x6b6903);},'RIIBg':function(_0x254555,_0x30a112){return _0x254555(_0x30a112);},'TKego':function(_0x4fc34b,_0x2d8b24){return _0x4fc34b(_0x2d8b24);},'EEENY':'lib','UnKLF':_0x32b2df(0x14d),'hnKCW':'chromium','crFpz':_0x32b2df(0x164),'zRKLE':function(_0x990911,_0x4f6f78){return _0x990911(_0x4f6f78);},'Kcivm':function(_0x1f1aa5,_0x4d6322){return _0x1f1aa5(_0x4d6322);},'TywwJ':'Not\x20able\x20to\x20import\x20crConnection','PsNfK':function(_0x2ba81d,_0x28a604){return _0x2ba81d(_0x28a604);},'ESeAA':_0x32b2df(0x1c7),'GplxQ':function(_0x2b1fcb,_0x3d250f){return _0x2b1fcb!=_0x3d250f;},'gkCgT':_0x32b2df(0x11d),'NycMi':'_onMessage','qubtw':_0x32b2df(0x12a)},_0x5f2478=this;let _0x1841ba=null;try{const _0x2e8cd7=path[_0x32b2df(0x139)](_0x1f0716[_0x32b2df(0x11f)],_0x1f0716[_0x32b2df(0x150)],_0x1f0716[_0x32b2df(0x157)],_0x1f0716['crFpz']),_0x49a936=_0x1f0716[_0x32b2df(0x163)](importFileFromPWCore,_0x2e8cd7);!_0x49a936?_0x1f0716['Kcivm'](debug,_0x1f0716['TywwJ']):_0x1841ba=_0x49a936['CRConnection'];}catch(_0x418f72){_0x1f0716[_0x32b2df(0x111)](debug,_0x1f0716[_0x32b2df(0x100)]);}try{if(_0x1f0716[_0x32b2df(0x133)](_0x1841ba,null)){const _0xa6e2a0=_0x1841ba[_0x32b2df(0x135)][_0x32b2df(0x149)];if(_0x1841ba[_0x32b2df(0x135)]['_cucumberCRPatched']){logger[_0x32b2df(0x11a)](_0x1f0716[_0x32b2df(0x18f)]);return;}Object['defineProperty'](_0x1841ba[_0x32b2df(0x135)],_0x1f0716[_0x32b2df(0x19b)],{'get':function(){return async function _0x16d260(_0x34d715){const _0x233701=a6_0x1159;try{if(BrowserstackCLI[_0x233701(0x1d1)]()[_0x233701(0x113)]()){const _0x248b72={};_0x248b72['message']=_0x34d715,await BrowserstackCLI[_0x233701(0x1d1)]()['getAutomationFramework']()[_0x233701(0x168)](AutomationFrameworkState[_0x233701(0x15b)],HookState[_0x233701(0x16d)],_0x248b72),delete _0x34d715[_0x233701(0x12c)];}else{const _0x57675d=_0x34d715['bStackParams'];if(_0x57675d){delete _0x34d715[_0x233701(0x12c)];const _0x747b78=_0x57675d[_0x233701(0x117)],_0x426235=_0x57675d[_0x233701(0x156)];_0x426235&&(_0x1f0716[_0x233701(0x1c6)](debug,_0x233701(0x194)+_0x426235[_0x233701(0x1b5)]()),_0x5f2478['currentSessionDetails']['platform']=_0x426235[_0x233701(0x146)],_0x5f2478[_0x233701(0x123)][_0x233701(0x19c)]=_0x426235[_0x233701(0x10a)]),_0x747b78&&(_0x1f0716[_0x233701(0x12b)](debug,_0x233701(0x14f)+_0x747b78),_0x5f2478[_0x233701(0x123)][_0x233701(0x178)]=_0x747b78);}}}catch(_0x12ba96){_0x1f0716[_0x233701(0x162)](debug,'Error\x20in\x20finding\x20platform\x20details\x20'+_0x12ba96['toString']());}return _0xa6e2a0[_0x233701(0x143)](this,arguments);};}}),_0x1841ba[_0x32b2df(0x135)][_0x32b2df(0x1a7)]=!![],logger[_0x32b2df(0x11a)](_0x1f0716[_0x32b2df(0x191)]);}}catch(_0x4b86dd){_0x1f0716[_0x32b2df(0x1c6)](debug,_0x32b2df(0x1ca)+_0x4b86dd),_0x5f2478[_0x32b2df(0x1bc)]=_0x4b86dd[_0x32b2df(0x1b5)]();}}static[a6_0x2a86c9(0x1bb)](_0xcb7213,_0x535287){const _0x3a3239=a6_0x2a86c9,_0x449a65={'APiWN':_0x3a3239(0x173),'xvwyP':function(_0x397175,_0x539fa0){return _0x397175||_0x539fa0;},'KCzVp':function(_0x31900b,_0x55e8af){return _0x31900b===_0x55e8af;},'SxHgl':'string','iKFwA':_0x3a3239(0x118),'RwFXs':function(_0x32b2ef,_0x111829){return _0x32b2ef(_0x111829);}};let _0x282692=null,_0x2a222e=null;try{const _0x3c35b5=[_0x535287,global[_0x3a3239(0x1ce)],global[_0x3a3239(0x124)]];for(const _0x5dbde9 of _0x3c35b5){if(_0x5dbde9&&(!_0x2a222e||!_0x2a222e[_0x3a3239(0x117)])){const _0x229fe9=_0x5dbde9[_0x3a3239(0x117)]||_0x5dbde9[_0x449a65[_0x3a3239(0x14a)]]?.[_0x3a3239(0x117)],_0x1a45b0=_0x5dbde9[_0x3a3239(0x17b)]||_0x5dbde9[_0x3a3239(0x19a)]||_0x5dbde9[_0x449a65[_0x3a3239(0x14a)]]?.['browserName'],_0x136645=_0x5dbde9['browserVersion']||_0x5dbde9[_0x3a3239(0x136)]||_0x5dbde9[_0x449a65['APiWN']]?.[_0x3a3239(0x1c2)],_0x3d0537=_0x5dbde9['os']||_0x5dbde9[_0x3a3239(0x1b6)]||_0x5dbde9[_0x449a65[_0x3a3239(0x14a)]]?.['os'],_0x2a1d52=_0x5dbde9['osVersion']||_0x5dbde9[_0x3a3239(0x1af)]||_0x5dbde9[_0x449a65['APiWN']]?.[_0x3a3239(0x170)];if(_0x449a65[_0x3a3239(0x13f)](_0x229fe9,_0x1a45b0)||_0x3d0537){const _0x439760={};_0x439760[_0x3a3239(0x17b)]=_0x1a45b0,_0x439760[_0x3a3239(0x1c2)]=_0x136645,_0x439760['os']=_0x3d0537,_0x439760[_0x3a3239(0x170)]=_0x2a1d52,_0x439760['platformName']=_0x5dbde9[_0x3a3239(0x146)]||_0x3d0537,_0x439760[_0x3a3239(0x10a)]=_0x5dbde9[_0x3a3239(0x10a)]||_0x2a1d52;const _0x2a3309={};_0x2a3309['sessionId']=_0x229fe9,_0x2a3309[_0x3a3239(0x156)]=_0x439760,_0x2a222e=_0x2a3309;if(_0x449a65[_0x3a3239(0x13f)](_0x229fe9,_0x1a45b0)){logger[_0x3a3239(0x11a)](_0x3a3239(0x1cf)+_0x1a45b0+_0x3a3239(0x17a)+_0x3d0537);break;}}}}if(_0xcb7213&&_0x449a65['KCzVp'](typeof _0xcb7213,_0x449a65[_0x3a3239(0x1c3)]))try{const _0x430cf4=url['parse'](_0xcb7213),_0x335fc5=new URLSearchParams(_0x430cf4['query']),_0x2ad4da=Object[_0x3a3239(0x1cd)](_0x335fc5[_0x3a3239(0x182)]()),_0x190037=[_0x2ad4da['caps'],_0x2ad4da['capabilities'],_0x2ad4da['desiredCapabilities']];for(const _0x3a2a57 of _0x190037){if(_0x3a2a57&&(!_0x282692||!_0x282692['sessionId']))try{const _0x5a0ede=JSON[_0x3a3239(0x1be)](_0x3a2a57),_0x4e2ed6={};_0x4e2ed6[_0x3a3239(0x117)]=_0x5a0ede['sessionId']||_0x5a0ede[_0x449a65['APiWN']]?.['sessionId'],_0x4e2ed6[_0x3a3239(0x156)]={},_0x4e2ed6[_0x3a3239(0x156)][_0x3a3239(0x17b)]=_0x5a0ede['browserName']||_0x5a0ede['browser'],_0x4e2ed6[_0x3a3239(0x156)][_0x3a3239(0x1c2)]=_0x5a0ede[_0x3a3239(0x1c2)]||_0x5a0ede['browser_version'],_0x4e2ed6[_0x3a3239(0x156)]['os']=_0x5a0ede['os']||_0x5a0ede[_0x3a3239(0x1b6)],_0x4e2ed6[_0x3a3239(0x156)]['osVersion']=_0x5a0ede[_0x3a3239(0x170)]||_0x5a0ede[_0x3a3239(0x1af)],_0x4e2ed6[_0x3a3239(0x156)]['platformName']=_0x5a0ede[_0x3a3239(0x146)]||_0x5a0ede['os']||_0x5a0ede[_0x3a3239(0x1b6)],_0x4e2ed6[_0x3a3239(0x156)]['platformVersion']=_0x5a0ede[_0x3a3239(0x10a)]||_0x5a0ede[_0x3a3239(0x170)]||_0x5a0ede[_0x3a3239(0x1af)],_0x282692=_0x4e2ed6;if(_0x282692[_0x3a3239(0x117)]||_0x282692['platformDetails'][_0x3a3239(0x17b)]){logger[_0x3a3239(0x11a)](_0x449a65[_0x3a3239(0x12f)]);break;}}catch(_0x3df38c){_0x449a65['RwFXs'](debug,_0x3a3239(0x16a)+_0x3df38c[_0x3a3239(0x1b5)]());}}}catch(_0x82969a){_0x449a65['RwFXs'](debug,_0x3a3239(0x198)+_0x82969a['toString']());}}catch(_0x4fbbb9){_0x449a65[_0x3a3239(0x15e)](debug,'Error\x20extracting\x20BrowserStack\x20parameters:\x20'+util[_0x3a3239(0x128)](_0x4fbbb9));}const _0x4bb7a4={};return _0x4bb7a4['bsParams']=_0x282692,_0x4bb7a4['bStackParams']=_0x2a222e,_0x4bb7a4;}static async[a6_0x2a86c9(0x180)](_0x2ff626,_0x3b4898){const _0x2cc71e=a6_0x2a86c9,_0x49dd1f={'aSnsD':function(_0x388859,_0x7c572f){return _0x388859||_0x7c572f;},'JhVEY':_0x2cc71e(0x16b),'WmXaL':function(_0x306fe2,_0x1718a6){return _0x306fe2(_0x1718a6);}};try{if(!BrowserstackCLI[_0x2cc71e(0x1d1)]()[_0x2cc71e(0x113)]())return;if(_0x49dd1f['aSnsD'](_0x2ff626,_0x3b4898)){logger[_0x2cc71e(0x11a)](_0x49dd1f[_0x2cc71e(0x19d)]);const _0x224489={'params':_0x2ff626?{'bsParams':_0x2ff626}:null,'bStackParams':_0x49dd1f[_0x2cc71e(0x17d)](_0x3b4898,null)},_0x2f87d7=AutomationFramework[_0x2cc71e(0x161)](),_0x40686c={};_0x40686c['message']=_0x224489,_0x40686c[_0x2cc71e(0x110)]=_0x2f87d7,await BrowserstackCLI[_0x2cc71e(0x1d1)]()[_0x2cc71e(0x12d)]()[_0x2cc71e(0x168)](AutomationFrameworkState[_0x2cc71e(0x15b)],HookState[_0x2cc71e(0x16d)],_0x40686c);}}catch(_0x2e623b){_0x49dd1f[_0x2cc71e(0x18b)](debug,_0x2cc71e(0x1ba)+util[_0x2cc71e(0x128)](_0x2e623b));}}static[a6_0x2a86c9(0x121)](){return this['currentSessionDetails'];}}function a6_0x1159(_0x15f5a1,_0xd4fdc2){const _0x39450c=a6_0x3945();return a6_0x1159=function(_0x115932,_0x4d8f18){_0x115932=_0x115932-0x100;let _0x3c1201=_0x39450c[_0x115932];return _0x3c1201;},a6_0x1159(_0x15f5a1,_0xd4fdc2);}function a6_0x3945(){const _0x4d5027=['includes','wjGVY','model','Found\x20Connection\x20class\x20at:\x20','XFWFR','_name','os_version','XHIAh','vwMYX','qxJTm','Setting\x20session\x20id\x20received\x20from\x20BS\x20','caps','toString','platform','BSTACK_URL','TVxjd','oNaDc','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','extractBrowserStackParams','sessionError','dispatch','parse','Connection','url','1216485iyjQAv','browserVersion','SxHgl','../../helpers/test-observability/utils','JeeuH','IGUZe','Error\x20in\x20importing\x20crConnection','defineProperty','SYUtM','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','patchConnection','ATS_WSS_URL_REGEX','fromEntries','__platformCaps','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','desiredCapabilities','getInstance','ESeAA','ESYGT','msedge','playwright-','NVGwD','use','Session\x20details\x20setup\x20complete:\x20','product','UqzOr','assign','platformVersion','gecko','chromium','turboscale','toLowerCase','whdsF','instance','PsNfK','xgGLJ','isRunning','stringify','isRemote','252020uDugoa','sessionId','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','aCMJr','debug','SVaTd','wQhIW','CRConnection\x20already\x20patched\x20for\x20Cucumber.js','capabilities','EEENY','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','getDetails','connection.js','currentSessionDetails','capabilties','YDrHC','nRavk','Successfully\x20patched\x20Connection.dispatch\x20for\x20Cucumber.js','format','firefox','Successfully\x20patched\x20CRConnection._onMessage\x20for\x20Cucumber.js','RIIBg','bStackParams','getAutomationFramework','gtlLS','iKFwA','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','wsEndpoint','3899390Httdkp','GplxQ','LGrzj','prototype','browser_version','ovRaF','Uwuay','join','lib','vWsQr','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','chrome','BSTACK_ATS_URL','xvwyP','Error\x20in\x20applying\x20Connection\x20patch\x20','15nFbQwO','1913UixKPX','apply','KDZGF','browserstack','platformName','deviceModel','_defaultConnectOptions','_onMessage','APiWN','JIHNj','project','server','vhlhz','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','UnKLF','fXtaB','local_grid','query','GlSYu','automate','platformDetails','hnKCW','_cucumberDispatchPatched','test','_browserType','PLAYWRIGHT_DISPATCH','2941290jUYwZK','env','RwFXs','cloudProvider','tKYfW','getTrackedInstance','TKego','zRKLE','crConnection.js','channel','edge','qFsQr','trackEvent','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','Triggering\x20PLAYWRIGHT_DISPATCH\x20event\x20for\x20Cucumber.js','unknown_grid','POST','rkCIk','udAdH','osVersion','2504800ghRLOO','util','bstack:options','patch','10066xhQUwY','eZIdK','version','bsSessionId','dfeHn',',\x20os=','browserName','SbiLo','aSnsD','Xznzz','9NzlLgZ','triggerPlaywrightDispatchEvent','BVcxi','entries','path','../utils/constants','webkit','function','GrLRC','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','xbLFu','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','WmXaL','zCQKG','EPPhB','Connection\x20dispatch\x20already\x20patched\x20for\x20Cucumber.js','gkCgT','Failed\x20to\x20import\x20connection\x20from\x20','qubtw','patchCRConnection','Uwczq','Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20','Error\x20in\x20importing\x20connection\x20','eLxXW','sUFhq','Error\x20parsing\x20WebSocket\x20endpoint:\x20','exports','browser','NycMi','platform_version','JhVEY','EXdvD','../../helpers/logger','params','1218QaoyyP','../v2/state/automationFrameworkState.js','browserstack_capabilities','message','setupBrowserDetails','314mHUlfK','_cucumberCRPatched','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20'];a6_0x3945=function(){return _0x4d5027;};return a6_0x3945();}module[a6_0x2a86c9(0x199)]=CucumberSessionDetails;