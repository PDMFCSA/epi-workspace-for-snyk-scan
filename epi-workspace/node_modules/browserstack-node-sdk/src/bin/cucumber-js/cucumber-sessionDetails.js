const a6_0x3f06d5=a6_0xe7b7;(function(_0x595852,_0x4bb0db){const _0x576507=a6_0xe7b7,_0x555ba9=_0x595852();while(!![]){try{const _0x46b010=-parseInt(_0x576507(0xcb))/0x1+parseInt(_0x576507(0xf3))/0x2*(parseInt(_0x576507(0x9c))/0x3)+-parseInt(_0x576507(0x110))/0x4*(parseInt(_0x576507(0xe4))/0x5)+parseInt(_0x576507(0xdb))/0x6+parseInt(_0x576507(0xf6))/0x7*(-parseInt(_0x576507(0xbb))/0x8)+parseInt(_0x576507(0x134))/0x9*(parseInt(_0x576507(0x13d))/0xa)+-parseInt(_0x576507(0xe0))/0xb;if(_0x46b010===_0x4bb0db)break;else _0x555ba9['push'](_0x555ba9['shift']());}catch(_0x540ea0){_0x555ba9['push'](_0x555ba9['shift']());}}}(a6_0x1678,0xd08ca));function a6_0xe7b7(_0x3b0e9f,_0x1c15d5){const _0x1678a0=a6_0x1678();return a6_0xe7b7=function(_0xe7b7b4,_0x5d005d){_0xe7b7b4=_0xe7b7b4-0x7b;let _0x5c8352=_0x1678a0[_0xe7b7b4];return _0x5c8352;},a6_0xe7b7(_0x3b0e9f,_0x1c15d5);}const path=require(a6_0x3f06d5(0x10d)),url=require(a6_0x3f06d5(0xed)),util=require(a6_0x3f06d5(0xc2)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require('../../helpers/helper'),{o11yErrorHandler}=require(a6_0x3f06d5(0x9e)),{debug,getPlatformDetails}=require(a6_0x3f06d5(0x11c)),logger=require(a6_0x3f06d5(0x84))[a6_0x3f06d5(0x103)],constants=require(a6_0x3f06d5(0x7b)),AutomationFramework=require(a6_0x3f06d5(0x82)),BrowserstackCLI=require(a6_0x3f06d5(0x9a)),AutomationFrameworkState=require(a6_0x3f06d5(0x113)),HookState=require(a6_0x3f06d5(0x116)),{platform}=require('os'),getBrowserNameFromChannel=_0x43e8e9=>{const _0x1763ed=a6_0x3f06d5,_0x213171={};_0x213171[_0x1763ed(0xf5)]=_0x1763ed(0x10e),_0x213171[_0x1763ed(0x122)]=_0x1763ed(0xee),_0x213171[_0x1763ed(0x136)]=_0x1763ed(0x131),_0x213171['mkmTU']=_0x1763ed(0x10a);const _0x33c90b=_0x213171;if(_0x43e8e9[_0x1763ed(0xfe)](_0x33c90b[_0x1763ed(0xf5)]))return _0x33c90b[_0x1763ed(0xf5)];if(_0x43e8e9[_0x1763ed(0xfe)](_0x33c90b[_0x1763ed(0x122)]))return _0x33c90b['MpXjJ'];if(_0x43e8e9[_0x1763ed(0xfe)](_0x33c90b['Gphmr']))return _0x33c90b[_0x1763ed(0x136)];if(_0x43e8e9['includes'](_0x33c90b['mkmTU']))return _0x33c90b['mkmTU'];},getBrowserFromWSEndpoint=_0x1481a3=>{const _0x4e4080=a6_0x3f06d5,_0x5ed6ca={'piYFQ':'bstack:options','wzXHk':function(_0x30ed92,_0x57b5bf){return _0x30ed92(_0x57b5bf);},'KGEDk':_0x4e4080(0xee),'dWdsU':_0x4e4080(0xd4),'DjPYa':'firefox','UkbJa':'gecko','WdEuc':'safari','LTguc':_0x4e4080(0xfd),'qaPfx':_0x4e4080(0x10e),'eZvOA':function(_0x25b48,_0xdfa2ed){return _0x25b48(_0xdfa2ed);}};try{const _0x492b3a=url[_0x4e4080(0x118)](_0x1481a3),_0x524aa9=new URLSearchParams(_0x492b3a[_0x4e4080(0xe3)]),_0x2a7e0d=Object['fromEntries'](_0x524aa9[_0x4e4080(0xe7)]()),_0x32f4c4=[_0x2a7e0d[_0x4e4080(0xa5)],_0x2a7e0d['capabilities'],_0x2a7e0d['desiredCapabilities'],_0x2a7e0d[_0x4e4080(0xe6)]];for(const _0x46b577 of _0x32f4c4){if(_0x46b577)try{const _0x28ceb6=JSON[_0x4e4080(0x118)](_0x46b577),_0x4fb266=_0x28ceb6[_0x4e4080(0xf0)]||_0x28ceb6[_0x4e4080(0x141)]||_0x28ceb6[_0x5ed6ca[_0x4e4080(0x10c)]]?.[_0x4e4080(0xf0)];if(_0x4fb266)return _0x5ed6ca['wzXHk'](debug,_0x4e4080(0xb7)+_0x4fb266),_0x4fb266['toLowerCase']();}catch(_0x45b28d){_0x5ed6ca[_0x4e4080(0x123)](debug,_0x4e4080(0x93)+_0x45b28d[_0x4e4080(0xae)]);}}if(_0x1481a3[_0x4e4080(0xfe)](_0x5ed6ca['KGEDk'])||_0x1481a3['includes'](_0x5ed6ca[_0x4e4080(0x8f)]))return _0x5ed6ca[_0x4e4080(0x111)];if(_0x1481a3[_0x4e4080(0xfe)](_0x5ed6ca[_0x4e4080(0xbe)])||_0x1481a3['includes'](_0x5ed6ca['UkbJa']))return _0x5ed6ca[_0x4e4080(0xbe)];if(_0x1481a3[_0x4e4080(0xfe)](_0x5ed6ca[_0x4e4080(0x99)])||_0x1481a3[_0x4e4080(0xfe)](_0x5ed6ca['LTguc']))return _0x5ed6ca[_0x4e4080(0x99)];return _0x5ed6ca[_0x4e4080(0xfa)];}catch(_0x2f821f){return _0x5ed6ca[_0x4e4080(0x12c)](debug,'Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20'+_0x2f821f['toString']()),_0x5ed6ca[_0x4e4080(0xfa)];}},getCloudProviderFromWsEndpoint=_0x91822b=>{const _0x3b828f=a6_0x3f06d5,_0x3d3b8f={};_0x3d3b8f['XBvOQ']=_0x3b828f(0x104),_0x3d3b8f[_0x3b828f(0xd9)]=_0x3b828f(0xec);const _0x32a2d7=_0x3d3b8f;if(_0x91822b['includes'](constants[_0x3b828f(0xef)])||_0x91822b[_0x3b828f(0xfe)](constants[_0x3b828f(0xac)]))return _0x32a2d7['XBvOQ'];return _0x32a2d7['eOleM'];},a6_0x31e486={};a6_0x31e486['cloudProvider']=undefined,a6_0x31e486['bsSessionId']=undefined,a6_0x31e486[a6_0x3f06d5(0x141)]=undefined,a6_0x31e486['browser_version']=undefined,a6_0x31e486[a6_0x3f06d5(0xdf)]=undefined,a6_0x31e486[a6_0x3f06d5(0xce)]=undefined,a6_0x31e486[a6_0x3f06d5(0xf4)]=undefined,a6_0x31e486[a6_0x3f06d5(0x81)]={};class CucumberSessionDetails{static [a6_0x3f06d5(0xa0)]=a6_0x31e486;constructor(){const _0x16b5b1=a6_0x3f06d5,_0x3c8421={};_0x3c8421[_0x16b5b1(0xe8)]='Invalid\x20constructor,\x20please\x20use\x20static\x20methods';const _0x28f67b=_0x3c8421;throw new Error(_0x28f67b['SNGRW']);}static [a6_0x3f06d5(0xb8)]=null;static[a6_0x3f06d5(0xc0)](_0x33f580,_0x952e91,_0x1d1588=null){const _0xbe5760=a6_0x3f06d5,_0x377b0b={'qeaEI':function(_0x8552fb,_0x1f6a1b){return _0x8552fb===_0x1f6a1b;},'mSHtb':_0xbe5760(0xab),'APiij':_0xbe5760(0x101),'cthfW':_0xbe5760(0x11d),'CgiYL':'local_grid','sPbXl':function(_0x3e8885,_0x364a12,_0x4ff74d){return _0x3e8885(_0x364a12,_0x4ff74d);},'HlAbk':_0xbe5760(0xaf),'RIowv':_0xbe5760(0xb4),'kZufd':function(_0x536400,_0x41ba47,_0xe141b2){return _0x536400(_0x41ba47,_0xe141b2);},'zUbuF':_0xbe5760(0x85),'SSKLL':'use','FiuUk':_0xbe5760(0x7c),'kXDFG':function(_0x51629a,_0x4582bf){return _0x51629a(_0x4582bf);},'zIEdc':function(_0x185c06,_0x231a9f){return _0x185c06===_0x231a9f;},'RgIhu':'browserstack','ZgeHd':_0xbe5760(0x114),'hGjqj':_0xbe5760(0x105),'zQpvo':function(_0x1731f0,_0x104aae){return _0x1731f0(_0x104aae);},'VKuit':function(_0x21efdf,_0x196c3b){return _0x21efdf===_0x196c3b;},'tWuAD':_0xbe5760(0x11a),'UFvCE':function(_0xa3bf74,_0xf112c9){return _0xa3bf74+_0xf112c9;},'UqkNP':_0xbe5760(0xc8),'ijivW':function(_0x13a6a0){return _0x13a6a0();},'VPYdX':_0xbe5760(0xc0)},_0xc58096=this;return _0x377b0b[_0xbe5760(0x135)](o11yErrorHandler,async function _0x3c4434(_0x570fee,_0x172bd6,_0x28c753=null){const _0x1a6d8b=_0xbe5760;let _0x2d0f53=_0x570fee[_0x1a6d8b(0x90)],_0x2ddc5e=null;_0x570fee&&_0x377b0b['qeaEI'](typeof _0x570fee[_0x1a6d8b(0xc7)],_0x377b0b['mSHtb'])?_0x2ddc5e=_0x570fee[_0x1a6d8b(0xc7)]():logger[_0x1a6d8b(0xe2)](_0x377b0b['APiij']);let _0x1f4c93=null;_0x570fee&&_0x377b0b[_0x1a6d8b(0xf1)](typeof _0x570fee[_0x1a6d8b(0xea)],_0x377b0b['mSHtb'])?_0x1f4c93=_0x570fee[_0x1a6d8b(0xea)]():logger[_0x1a6d8b(0xe2)](_0x377b0b[_0x1a6d8b(0xa3)]);let _0x58044e=null,_0x2b1070=null,_0x1fe9e5=null,_0x41a2df=_0x377b0b[_0x1a6d8b(0x119)];if(_0x570fee[_0x1a6d8b(0xdc)]['isRemote']()||global[_0x1a6d8b(0xd7)]){let _0x4607a6=null;_0x377b0b[_0x1a6d8b(0x135)](nestedKeyValue,_0x570fee,[_0x377b0b[_0x1a6d8b(0xbc)],_0x377b0b['RIowv']])?_0x4607a6=_0x570fee['_browserType'][_0x1a6d8b(0xb4)]:_0x4607a6=_0x377b0b[_0x1a6d8b(0xdd)](nestedKeyValue,_0x172bd6,[_0x377b0b[_0x1a6d8b(0x87)],_0x377b0b[_0x1a6d8b(0x8e)],_0x377b0b[_0x1a6d8b(0x138)]]);const _0xd331e8=_0x28c753||_0x4607a6&&_0x4607a6[_0x1a6d8b(0xe5)];if(_0xd331e8){_0x41a2df=_0x377b0b[_0x1a6d8b(0x94)](getCloudProviderFromWsEndpoint,_0xd331e8);if(_0x377b0b[_0x1a6d8b(0x11e)](_0x41a2df,_0x377b0b['RgIhu'])){_0x1fe9e5=constants[_0x1a6d8b(0x129)][_0x1a6d8b(0xda)](_0xd331e8)?_0x377b0b[_0x1a6d8b(0xa8)]:_0x377b0b[_0x1a6d8b(0x12b)];const _0xd10c25=_0x377b0b[_0x1a6d8b(0x7e)](getBrowserFromWSEndpoint,_0xd331e8);if(_0xd10c25&&(!_0x2d0f53||_0x377b0b[_0x1a6d8b(0xc9)](_0x2d0f53,_0x377b0b[_0x1a6d8b(0x9d)])))_0x2d0f53=_0xd10c25,logger[_0x1a6d8b(0xe2)](_0x1a6d8b(0xde)+_0x2d0f53);else _0x2d0f53&&logger[_0x1a6d8b(0xe2)](_0x1a6d8b(0xa1)+_0x2d0f53);_0x58044e=_0xc58096[_0x1a6d8b(0xa0)][_0x1a6d8b(0xdf)],_0x2b1070=_0xc58096[_0x1a6d8b(0xa0)][_0x1a6d8b(0xce)];}}}else{_0x172bd6&&_0x172bd6['project'][_0x1a6d8b(0xb2)]['channel']?_0x2d0f53=_0x377b0b['kXDFG'](getBrowserNameFromChannel,_0x172bd6[_0x1a6d8b(0x85)][_0x1a6d8b(0xb2)][_0x1a6d8b(0x13f)]):_0x2d0f53=_0x377b0b['UFvCE'](_0x377b0b[_0x1a6d8b(0x13e)],_0x2d0f53['toLowerCase']());const _0x53b2ba=await _0x377b0b[_0x1a6d8b(0x12a)](getPlatformDetails);_0x58044e=_0x53b2ba[_0x1a6d8b(0x132)],_0x2b1070=_0x53b2ba['platformVersion'];}const _0x92dda6={};_0x92dda6[_0x1a6d8b(0x141)]=_0x2d0f53,_0x92dda6[_0x1a6d8b(0xbd)]=_0x2ddc5e,_0x92dda6[_0x1a6d8b(0x81)]={},_0x92dda6[_0x1a6d8b(0xdf)]=_0x58044e,_0x92dda6['platform_version']=_0x2b1070,_0x92dda6[_0x1a6d8b(0xf4)]=_0x1fe9e5;const _0x49664d=_0x92dda6;_0x1f4c93&&(_0x49664d[_0x1a6d8b(0x81)][_0x1a6d8b(0x7d)]=_0x1f4c93);const _0x5f40e1={};_0x5f40e1[_0x1a6d8b(0xb9)]=_0x41a2df,_0xc58096[_0x1a6d8b(0xa0)]=Object['assign']({},_0xc58096[_0x1a6d8b(0xa0)],_0x5f40e1,_0x49664d);const _0x293304={};_0x293304[_0x1a6d8b(0x141)]=_0xc58096[_0x1a6d8b(0xa0)][_0x1a6d8b(0x141)],_0x293304[_0x1a6d8b(0xf8)]=_0xc58096[_0x1a6d8b(0xa0)][_0x1a6d8b(0xbd)],_0x293304[_0x1a6d8b(0xdf)]=_0xc58096['currentSessionDetails'][_0x1a6d8b(0xdf)],_0x293304[_0x1a6d8b(0xb0)]=_0xc58096['currentSessionDetails'][_0x1a6d8b(0xce)],_0x293304[_0x1a6d8b(0xb9)]=_0xc58096['currentSessionDetails'][_0x1a6d8b(0xb9)],_0x293304[_0x1a6d8b(0xf4)]=_0xc58096[_0x1a6d8b(0xa0)][_0x1a6d8b(0xf4)],logger[_0x1a6d8b(0xe2)](_0x1a6d8b(0xc4)+JSON[_0x1a6d8b(0xe1)](_0x293304));},_0x377b0b[_0xbe5760(0x109)])(_0x33f580,_0x952e91,_0x1d1588);}static[a6_0x3f06d5(0x8a)](){const _0x11af63=a6_0x3f06d5;this[_0x11af63(0xd5)](),this['patchCRConnection']();}static[a6_0x3f06d5(0xd5)](){const _0x5614c6=a6_0x3f06d5,_0x11941b={'jtdgf':function(_0x1396f9,_0x32203b){return _0x1396f9(_0x32203b);},'ZSlsd':_0x5614c6(0xca),'YvNbN':'client','bbRIZ':_0x5614c6(0x10f),'OtwpE':function(_0xe52526,_0x1597b1){return _0xe52526(_0x1597b1);},'iJLbE':function(_0x4cf60e,_0x536987){return _0x4cf60e(_0x536987);},'BTgMv':_0x5614c6(0xd0),'RlfJh':function(_0x116aa0,_0x375d8a){return _0x116aa0!=_0x375d8a;},'kfTou':'Connection\x20dispatch\x20already\x20patched\x20for\x20Cucumber.js','reBKR':'dispatch','OtIRQ':_0x5614c6(0xcc)},_0x2c9d71=this;if(!this['Connection'])try{const _0x53d5f9=[path[_0x5614c6(0xb3)](_0x11941b[_0x5614c6(0xf7)],_0x11941b['YvNbN'],_0x11941b[_0x5614c6(0xa4)]),path['join'](_0x11941b[_0x5614c6(0xf7)],_0x11941b[_0x5614c6(0xa4)]),path[_0x5614c6(0xb3)](_0x11941b[_0x5614c6(0x98)],_0x11941b[_0x5614c6(0xa4)])];for(const _0x5f2eb8 of _0x53d5f9){try{const _0x3efcc6=_0x11941b[_0x5614c6(0x11f)](importFileFromPWCore,_0x5f2eb8);if(_0x3efcc6&&_0x3efcc6['Connection']){this[_0x5614c6(0xba)]=_0x3efcc6[_0x5614c6(0xba)],logger[_0x5614c6(0xe2)]('Found\x20Connection\x20class\x20at:\x20'+_0x5f2eb8);break;}}catch(_0x3ff980){_0x11941b[_0x5614c6(0x8c)](debug,'Failed\x20to\x20import\x20connection\x20from\x20'+_0x5f2eb8+':\x20'+_0x3ff980['toString']());}}if(!this[_0x5614c6(0xba)]){_0x11941b[_0x5614c6(0xfb)](debug,_0x11941b[_0x5614c6(0x112)]);return;}}catch(_0x587ca0){_0x11941b['jtdgf'](debug,_0x5614c6(0xbf)+_0x587ca0['toString']());return;}const _0x1c4bc2=this[_0x5614c6(0xba)];try{if(_0x11941b[_0x5614c6(0xcd)](_0x1c4bc2,null)){const _0x13a48b=_0x1c4bc2[_0x5614c6(0xb5)][_0x5614c6(0xc6)];if(!_0x11941b[_0x5614c6(0x8c)](isFalse,process['env'][_0x5614c6(0x127)])){if(_0x1c4bc2[_0x5614c6(0xb5)][_0x5614c6(0x126)]){logger[_0x5614c6(0xe2)](_0x11941b['kfTou']);return;}Object[_0x5614c6(0x86)](_0x1c4bc2[_0x5614c6(0xb5)],_0x11941b['reBKR'],{'get':function(){const _0x17d701={'aATpZ':function(_0x364f32,_0x16ae41){const _0x99b961=a6_0xe7b7;return _0x11941b[_0x99b961(0x8c)](_0x364f32,_0x16ae41);}};return async function _0x3a6f65(_0x5761e9){const _0x5566b6=a6_0xe7b7;if(BrowserstackCLI['getInstance']()[_0x5566b6(0x9f)]()){const _0x4215e1={};_0x4215e1[_0x5566b6(0xae)]=_0x5761e9,await BrowserstackCLI[_0x5566b6(0x124)]()[_0x5566b6(0x9b)]()[_0x5566b6(0x102)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState[_0x5566b6(0xd2)],_0x4215e1);}else{const _0x3f6c1d=_0x5761e9&&_0x5761e9[_0x5566b6(0xb6)]&&_0x5761e9[_0x5566b6(0xb6)][_0x5566b6(0x95)];if(_0x3f6c1d){const _0x3e2815=_0x3f6c1d[_0x5566b6(0x140)],_0x15bf42=_0x3f6c1d[_0x5566b6(0xc1)];_0x15bf42&&(_0x17d701[_0x5566b6(0xf9)](debug,_0x5566b6(0x88)+_0x15bf42[_0x5566b6(0x8d)]()),_0x2c9d71['currentSessionDetails'][_0x5566b6(0xdf)]=_0x15bf42[_0x5566b6(0x132)],_0x2c9d71[_0x5566b6(0xa0)][_0x5566b6(0xce)]=_0x15bf42[_0x5566b6(0xb0)]),_0x3e2815&&(_0x17d701['aATpZ'](debug,'Setting\x20session\x20id\x20received\x20from\x20BS\x20'+_0x3e2815),_0x2c9d71[_0x5566b6(0xa0)][_0x5566b6(0x100)]=_0x3e2815);}}return _0x13a48b[_0x5566b6(0x11b)](this,arguments);};}}),_0x1c4bc2[_0x5614c6(0xb5)][_0x5614c6(0x126)]=!![],logger[_0x5614c6(0xe2)](_0x11941b[_0x5614c6(0x137)]);}}}catch(_0x5d6317){_0x11941b[_0x5614c6(0x8c)](debug,'Error\x20in\x20applying\x20Connection\x20patch\x20'+_0x5d6317),_0x2c9d71[_0x5614c6(0xb8)]=_0x5d6317[_0x5614c6(0x8d)]();}}static['patchCRConnection'](){const _0x3a6c57=a6_0x3f06d5,_0x51a07a={'gxgCK':function(_0x156744,_0x4492de){return _0x156744(_0x4492de);},'BOYhT':_0x3a6c57(0xca),'CuvYN':'server','qfjKZ':_0x3a6c57(0x11a),'VuJzz':_0x3a6c57(0x139),'SeHZI':function(_0x39ac48,_0x56f235){return _0x39ac48(_0x56f235);},'hwJZb':_0x3a6c57(0x107),'WUQwX':function(_0x5f4647,_0x1aec87){return _0x5f4647(_0x1aec87);},'LzGCC':_0x3a6c57(0x13b),'ZVOMH':function(_0x2bcc21,_0x2ce04e){return _0x2bcc21!=_0x2ce04e;},'pkooF':_0x3a6c57(0x117),'yGWQX':_0x3a6c57(0xd1),'fJZVu':_0x3a6c57(0xe9),'FkNRl':function(_0x5cae15,_0x1e4f04){return _0x5cae15(_0x1e4f04);}},_0x14da1a=this;let _0x634707=null;try{const _0x4c76fe=path[_0x3a6c57(0xb3)](_0x51a07a[_0x3a6c57(0xb1)],_0x51a07a[_0x3a6c57(0x12f)],_0x51a07a[_0x3a6c57(0xeb)],_0x51a07a[_0x3a6c57(0x10b)]),_0x3402ab=_0x51a07a['SeHZI'](importFileFromPWCore,_0x4c76fe);!_0x3402ab?_0x51a07a[_0x3a6c57(0x89)](debug,_0x51a07a[_0x3a6c57(0x7f)]):_0x634707=_0x3402ab['CRConnection'];}catch(_0xdd8ebe){_0x51a07a['WUQwX'](debug,_0x51a07a[_0x3a6c57(0x106)]);}try{if(_0x51a07a['ZVOMH'](_0x634707,null)){const _0x144ee6=_0x634707['prototype']['_onMessage'];if(_0x634707[_0x3a6c57(0xb5)][_0x3a6c57(0xfc)]){logger[_0x3a6c57(0xe2)](_0x51a07a['pkooF']);return;}Object[_0x3a6c57(0x86)](_0x634707[_0x3a6c57(0xb5)],_0x51a07a[_0x3a6c57(0x12d)],{'get':function(){const _0x578631={'bESoN':function(_0x2e3414,_0x322ad4){return _0x51a07a['gxgCK'](_0x2e3414,_0x322ad4);},'rMILR':function(_0x3d8110,_0x1db0a6){const _0x134ef7=a6_0xe7b7;return _0x51a07a[_0x134ef7(0x143)](_0x3d8110,_0x1db0a6);}};return async function _0x72da6b(_0x3c9188){const _0x855925=a6_0xe7b7;try{if(BrowserstackCLI[_0x855925(0x124)]()[_0x855925(0x9f)]()){const _0x147b32={};_0x147b32[_0x855925(0xae)]=_0x3c9188,await BrowserstackCLI[_0x855925(0x124)]()[_0x855925(0x9b)]()[_0x855925(0x102)](AutomationFrameworkState[_0x855925(0xa9)],HookState[_0x855925(0xd2)],_0x147b32),delete _0x3c9188[_0x855925(0x130)];}else{const _0x33e4ee=_0x3c9188[_0x855925(0x130)];if(_0x33e4ee){delete _0x3c9188[_0x855925(0x130)];const _0x179a71=_0x33e4ee['sessionId'],_0x1e9bf9=_0x33e4ee['platformDetails'];_0x1e9bf9&&(_0x578631[_0x855925(0x80)](debug,'Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20'+_0x1e9bf9['toString']()),_0x14da1a['currentSessionDetails'][_0x855925(0xdf)]=_0x1e9bf9[_0x855925(0x132)],_0x14da1a[_0x855925(0xa0)]['platform_version']=_0x1e9bf9['platformVersion']),_0x179a71&&(_0x578631[_0x855925(0x80)](debug,_0x855925(0x120)+_0x179a71),_0x14da1a[_0x855925(0xa0)][_0x855925(0x100)]=_0x179a71);}}}catch(_0x10e5c9){_0x578631[_0x855925(0xf2)](debug,_0x855925(0xff)+_0x10e5c9['toString']());}return _0x144ee6[_0x855925(0x11b)](this,arguments);};}}),_0x634707[_0x3a6c57(0xb5)][_0x3a6c57(0xfc)]=!![],logger[_0x3a6c57(0xe2)](_0x51a07a[_0x3a6c57(0x91)]);}}catch(_0x4d9142){_0x51a07a[_0x3a6c57(0x83)](debug,'Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20'+_0x4d9142),_0x14da1a[_0x3a6c57(0xb8)]=_0x4d9142[_0x3a6c57(0x8d)]();}}static[a6_0x3f06d5(0x125)](_0x82f1f5,_0x32df9b){const _0x5976f0=a6_0x3f06d5,_0x4b2733={'BZxNj':_0x5976f0(0x12e),'EjwAR':function(_0x3b5eb6,_0xaddfe7){return _0x3b5eb6||_0xaddfe7;},'EPQIl':function(_0x34f403,_0x4cfbb9){return _0x34f403||_0x4cfbb9;},'xevoL':function(_0x201b56,_0x3efcfe){return _0x201b56===_0x3efcfe;},'Vjcvc':_0x5976f0(0x96),'lHKzp':_0x5976f0(0xc5),'vuXQz':function(_0x1a80ff,_0x700f36){return _0x1a80ff(_0x700f36);}};let _0x33d87a=null,_0xb3d37b=null;try{const _0x35d229=[_0x32df9b,global[_0x5976f0(0x13a)],global[_0x5976f0(0x108)]];for(const _0x4873b4 of _0x35d229){if(_0x4873b4&&(!_0xb3d37b||!_0xb3d37b[_0x5976f0(0x140)])){const _0x34971c=_0x4873b4['sessionId']||_0x4873b4[_0x4b2733['BZxNj']]?.[_0x5976f0(0x140)],_0x1cd9d7=_0x4873b4[_0x5976f0(0xf0)]||_0x4873b4[_0x5976f0(0x141)]||_0x4873b4[_0x4b2733['BZxNj']]?.['browserName'],_0x929325=_0x4873b4[_0x5976f0(0xf8)]||_0x4873b4['browser_version']||_0x4873b4[_0x4b2733[_0x5976f0(0x121)]]?.[_0x5976f0(0xf8)],_0x33c1b7=_0x4873b4['os']||_0x4873b4[_0x5976f0(0xdf)]||_0x4873b4[_0x4b2733[_0x5976f0(0x121)]]?.['os'],_0x50c5b3=_0x4873b4[_0x5976f0(0x128)]||_0x4873b4[_0x5976f0(0xcf)]||_0x4873b4[_0x4b2733['BZxNj']]?.[_0x5976f0(0x128)];if(_0x4b2733[_0x5976f0(0xa6)](_0x34971c,_0x1cd9d7)||_0x33c1b7){const _0x576c84={};_0x576c84[_0x5976f0(0xf0)]=_0x1cd9d7,_0x576c84[_0x5976f0(0xf8)]=_0x929325,_0x576c84['os']=_0x33c1b7,_0x576c84['osVersion']=_0x50c5b3,_0x576c84[_0x5976f0(0x132)]=_0x4873b4[_0x5976f0(0x132)]||_0x33c1b7,_0x576c84[_0x5976f0(0xb0)]=_0x4873b4[_0x5976f0(0xb0)]||_0x50c5b3;const _0x3f7ff0={};_0x3f7ff0[_0x5976f0(0x140)]=_0x34971c,_0x3f7ff0[_0x5976f0(0xc1)]=_0x576c84,_0xb3d37b=_0x3f7ff0;if(_0x4b2733[_0x5976f0(0xc3)](_0x34971c,_0x1cd9d7)){logger['debug']('BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser='+_0x1cd9d7+',\x20os='+_0x33c1b7);break;}}}}if(_0x82f1f5&&_0x4b2733[_0x5976f0(0x115)](typeof _0x82f1f5,_0x4b2733['Vjcvc']))try{const _0x4792e1=url[_0x5976f0(0x118)](_0x82f1f5),_0x514ea5=new URLSearchParams(_0x4792e1['query']),_0x509020=Object[_0x5976f0(0xaa)](_0x514ea5[_0x5976f0(0xe7)]()),_0x3c62f1=[_0x509020['caps'],_0x509020[_0x5976f0(0x81)],_0x509020['desiredCapabilities']];for(const _0x371875 of _0x3c62f1){if(_0x371875&&(!_0x33d87a||!_0x33d87a[_0x5976f0(0x140)]))try{const _0x3a0cf8=JSON['parse'](_0x371875),_0x45b305={};_0x45b305[_0x5976f0(0x140)]=_0x3a0cf8['sessionId']||_0x3a0cf8[_0x4b2733[_0x5976f0(0x121)]]?.[_0x5976f0(0x140)],_0x45b305[_0x5976f0(0xc1)]={},_0x45b305[_0x5976f0(0xc1)]['browserName']=_0x3a0cf8[_0x5976f0(0xf0)]||_0x3a0cf8[_0x5976f0(0x141)],_0x45b305[_0x5976f0(0xc1)]['browserVersion']=_0x3a0cf8[_0x5976f0(0xf8)]||_0x3a0cf8[_0x5976f0(0xbd)],_0x45b305[_0x5976f0(0xc1)]['os']=_0x3a0cf8['os']||_0x3a0cf8[_0x5976f0(0xdf)],_0x45b305[_0x5976f0(0xc1)][_0x5976f0(0x128)]=_0x3a0cf8[_0x5976f0(0x128)]||_0x3a0cf8[_0x5976f0(0xcf)],_0x45b305[_0x5976f0(0xc1)]['platformName']=_0x3a0cf8['platformName']||_0x3a0cf8['os']||_0x3a0cf8[_0x5976f0(0xdf)],_0x45b305[_0x5976f0(0xc1)][_0x5976f0(0xb0)]=_0x3a0cf8[_0x5976f0(0xb0)]||_0x3a0cf8[_0x5976f0(0x128)]||_0x3a0cf8['os_version'],_0x33d87a=_0x45b305;if(_0x33d87a['sessionId']||_0x33d87a[_0x5976f0(0xc1)][_0x5976f0(0xf0)]){logger['debug'](_0x4b2733[_0x5976f0(0xd6)]);break;}}catch(_0x54e43e){_0x4b2733[_0x5976f0(0x142)](debug,'Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20'+_0x54e43e[_0x5976f0(0x8d)]());}}}catch(_0x183354){_0x4b2733[_0x5976f0(0x142)](debug,_0x5976f0(0x8b)+_0x183354[_0x5976f0(0x8d)]());}}catch(_0x38410a){_0x4b2733[_0x5976f0(0x142)](debug,_0x5976f0(0xa7)+util[_0x5976f0(0x13c)](_0x38410a));}const _0x3fd57a={};return _0x3fd57a[_0x5976f0(0x95)]=_0x33d87a,_0x3fd57a[_0x5976f0(0x130)]=_0xb3d37b,_0x3fd57a;}static async['triggerPlaywrightDispatchEvent'](_0x53d69a,_0x460b1d){const _0x4ecf98=a6_0x3f06d5,_0x2e8d3c={'GtqPH':function(_0x2549f0,_0x148acf){return _0x2549f0||_0x148acf;},'ClUsd':_0x4ecf98(0x92),'upLNR':function(_0xeec4dd,_0x4cb4c9){return _0xeec4dd(_0x4cb4c9);}};try{if(!BrowserstackCLI[_0x4ecf98(0x124)]()[_0x4ecf98(0x9f)]())return;if(_0x2e8d3c[_0x4ecf98(0xd8)](_0x53d69a,_0x460b1d)){logger['debug'](_0x2e8d3c['ClUsd']);const _0x578fdf={'params':_0x53d69a?{'bsParams':_0x53d69a}:null,'bStackParams':_0x2e8d3c['GtqPH'](_0x460b1d,null)},_0x5522df=AutomationFramework[_0x4ecf98(0x133)](),_0x321615={};_0x321615['message']=_0x578fdf,_0x321615['instance']=_0x5522df,await BrowserstackCLI[_0x4ecf98(0x124)]()['getAutomationFramework']()[_0x4ecf98(0x102)](AutomationFrameworkState[_0x4ecf98(0xa9)],HookState[_0x4ecf98(0xd2)],_0x321615);}}catch(_0x264e86){_0x2e8d3c[_0x4ecf98(0xad)](debug,_0x4ecf98(0xa2)+util[_0x4ecf98(0x13c)](_0x264e86));}}static[a6_0x3f06d5(0x97)](){return this['currentSessionDetails'];}}module[a6_0x3f06d5(0xd3)]=CucumberSessionDetails;function a6_0x1678(){const _0x421ae6=['dWdsU','_name','fJZVu','Triggering\x20PLAYWRIGHT_DISPATCH\x20event\x20for\x20Cucumber.js','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','kXDFG','bsParams','string','getDetails','YvNbN','WdEuc','../v2/browserstackCLI','getAutomationFramework','9FHifnh','tWuAD','../../helpers/test-observability/error-handler','isRunning','currentSessionDetails','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20','cthfW','bbRIZ','caps','EjwAR','Error\x20extracting\x20BrowserStack\x20parameters:\x20','ZgeHd','PLAYWRIGHT_DISPATCH','fromEntries','function','BSTACK_ATS_URL','upLNR','message','_browserType','platformVersion','BOYhT','use','join','_defaultConnectOptions','prototype','params','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','sessionError','cloudProvider','Connection','8NtwPFY','HlAbk','browser_version','DjPYa','Error\x20in\x20importing\x20connection\x20','setupBrowserDetails','platformDetails','util','EPQIl','Session\x20details\x20setup\x20complete:\x20','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','dispatch','version','playwright-','VKuit','lib','631096OEFysQ','Successfully\x20patched\x20Connection.dispatch\x20for\x20Cucumber.js','RlfJh','platform_version','os_version','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','_onMessage','POST','exports','msedge','patchConnection','lHKzp','accessibilityPlatform','GtqPH','eOleM','test','7292652fWwnth','_connection','kZufd','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','platform','4379650xkTAFE','stringify','debug','query','88800LNESch','wsEndpoint','browserstack_capabilities','entries','SNGRW','Successfully\x20patched\x20CRConnection._onMessage\x20for\x20Cucumber.js','model','qfjKZ','unknown_grid','url','edge','BSTACK_URL','browserName','qeaEI','rMILR','1098382sqDlDn','product','yerfj','8049923tJTiAg','ZSlsd','browserVersion','aATpZ','qaPfx','iJLbE','_cucumberCRPatched','webkit','includes','Error\x20in\x20finding\x20platform\x20details\x20','bsSessionId','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','trackEvent','winstonLogger','browserstack','automate','LzGCC','Not\x20able\x20to\x20import\x20crConnection','capabilties','VPYdX','safari','VuJzz','piYFQ','path','chrome','connection.js','212zFcPwY','KGEDk','BTgMv','../v2/state/automationFrameworkState.js','turboscale','xevoL','../v2/state/hookState.js','CRConnection\x20already\x20patched\x20for\x20Cucumber.js','parse','CgiYL','chromium','apply','../../helpers/test-observability/utils','Device\x20Model\x20is\x20not\x20available','zIEdc','OtwpE','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','BZxNj','MpXjJ','wzXHk','getInstance','extractBrowserStackParams','_cucumberDispatchPatched','BROWSERSTACK_TEST_OBSERVABILITY','osVersion','ATS_WSS_URL_REGEX','ijivW','hGjqj','eZvOA','yGWQX','bstack:options','CuvYN','bStackParams','firefox','platformName','getTrackedInstance','5002731uRBMLL','sPbXl','Gphmr','OtIRQ','FiuUk','crConnection.js','__platformCaps','Error\x20in\x20importing\x20crConnection','format','20utgJYG','UqkNP','channel','sessionId','browser','vuXQz','gxgCK','../utils/constants','connectOptions','deviceModel','zQpvo','hwJZb','bESoN','capabilities','../v2/framework/automationFramework','FkNRl','../../helpers/logger','project','defineProperty','zUbuF','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','SeHZI','patch','Error\x20parsing\x20WebSocket\x20endpoint:\x20','jtdgf','toString','SSKLL'];a6_0x1678=function(){return _0x421ae6;};return a6_0x1678();}