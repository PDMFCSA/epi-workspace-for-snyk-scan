#!/usr/bin/env node

const a45_0x2691cf=a45_0x1c33;(function(_0x22f3da,_0x3dc40a){const _0x39c8f7=a45_0x1c33,_0x831dc2=_0x22f3da();while(!![]){try{const _0x43d894=-parseInt(_0x39c8f7(0xe9))/0x1+-parseInt(_0x39c8f7(0xfc))/0x2*(-parseInt(_0x39c8f7(0xbb))/0x3)+parseInt(_0x39c8f7(0xf4))/0x4*(-parseInt(_0x39c8f7(0xfe))/0x5)+parseInt(_0x39c8f7(0xc2))/0x6*(-parseInt(_0x39c8f7(0xf2))/0x7)+parseInt(_0x39c8f7(0xd0))/0x8*(-parseInt(_0x39c8f7(0xb2))/0x9)+parseInt(_0x39c8f7(0xe0))/0xa*(parseInt(_0x39c8f7(0xc3))/0xb)+parseInt(_0x39c8f7(0xfb))/0xc*(parseInt(_0x39c8f7(0xe2))/0xd);if(_0x43d894===_0x3dc40a)break;else _0x831dc2['push'](_0x831dc2['shift']());}catch(_0x425a0c){_0x831dc2['push'](_0x831dc2['shift']());}}}(a45_0xc199,0x7311d));const fs=require('fs'),helper=require(a45_0x2691cf(0xe6)),utilities=require(a45_0x2691cf(0xe5)),yaml=require(a45_0x2691cf(0xd8)),yargs=require(a45_0x2691cf(0xcb)),logger=require(a45_0x2691cf(0xd6))[a45_0x2691cf(0xdf)],configFileTemplate=__dirname+a45_0x2691cf(0x104),configFileTemplatePW=__dirname+a45_0x2691cf(0xd4),configFile=process[a45_0x2691cf(0xdc)]()+'/browserstack.yml',packageFile=process[a45_0x2691cf(0xdc)]()+a45_0x2691cf(0xf1),frameworks=['mocha',a45_0x2691cf(0xb8),a45_0x2691cf(0xbf),a45_0x2691cf(0xd2),a45_0x2691cf(0xec),a45_0x2691cf(0xf3),a45_0x2691cf(0xef)];let config;logger['info'](a45_0x2691cf(0xc4)),createConfigurationFile(yargs[a45_0x2691cf(0xfd)][a45_0x2691cf(0xe3)],yargs[a45_0x2691cf(0xfd)][a45_0x2691cf(0xb9)],yargs[a45_0x2691cf(0xfd)][a45_0x2691cf(0xef)]);function a45_0xc199(){const _0x58b4b8=['entries','Setup\x20completed','fFDpQ','readFileSync','/../../browserstack.yml.sample','789309uRvGLv','scripts','Adding\x20new\x20script(s)\x20in\x20package.json...','NUkug','uKfDY','orxHx','jest','key','JwLQT','24ZsxmQH','sPCxh','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','push','cucumber-js','BneLV','splice','539322ObTuta','11ZibhPl','Creating\x20configuration\x20file...','indexOf','MtYQH','alIgS','load','-browserstack','browserstack-node-sdk','yargs','OcHxw','length','browserstack-node-sdk\x20','writeFileSync','8lpkMsn','YOUR_ACCESS_KEY','node','oqivE','/../../browserstack.pw.yml.sample','rMVuG','../helpers/logger','npm\x20update\x20browserstack-node-sdk','js-yaml','\x20&&\x20npm\x20update\x20browserstack-node-sdk','JDpYe','info','cwd','ZjAwL','rcTKt','winstonLogger','3537370dmkOCz','split','13bpliZJ','username','idKuT','../helpers/utilities','../helpers/helper','includes','RMEvA','341213agUWAx','error','SDKSetup','nightwatch','postinstall','JnBUG','playwright','stringify','/package.json','70GdREbM','codeceptjs','2068boyDjR','utf8','parse','JeEsV','replace','isUndefined','bgoDb','14184084uGhYbc','173248iikvCY','argv','4155zjYnit','node-setup'];a45_0xc199=function(){return _0x58b4b8;};return a45_0xc199();}try{sdkSetup();}catch(a45_0x257257){logger['debug'](a45_0x2691cf(0xbd)+a45_0x257257);}addScriptInPackageJson();function createConfigurationFile(_0x34b70a,_0x1dfd86,_0x5a6f14=![]){const _0xc57502=a45_0x2691cf,_0x5c8c03={};_0x5c8c03[_0xc57502(0xd5)]=_0xc57502(0xf5),_0x5c8c03['JnBUG']='YOUR_USERNAME',_0x5c8c03[_0xc57502(0xb5)]=_0xc57502(0xd1);const _0x59f48f=_0x5c8c03;try{let _0x358083=fs['readFileSync'](_0x5a6f14?configFileTemplatePW:configFileTemplate,_0x59f48f[_0xc57502(0xd5)]);_0x34b70a&&(_0x358083=_0x358083[_0xc57502(0xf8)](_0x59f48f[_0xc57502(0xee)],_0x34b70a)),_0x1dfd86&&(_0x358083=_0x358083[_0xc57502(0xf8)](_0x59f48f[_0xc57502(0xb5)],_0x1dfd86)),config=yaml[_0xc57502(0xc8)](_0x358083),fs['writeFileSync'](configFile,_0x358083,_0x26779a=>{const _0x4a5960=_0xc57502;_0x26779a&&logger[_0x4a5960(0xea)](_0x26779a);});}catch(_0x160fba){logger['error'](_0x160fba);}}function addPostInstallScript(_0x359987,_0xb2295d){const _0x2315f9=a45_0x2691cf,_0x381b06={};_0x381b06['OcHxw']=_0x2315f9(0xed),_0x381b06[_0x2315f9(0xbc)]=_0x2315f9(0xd7),_0x381b06[_0x2315f9(0xe8)]=_0x2315f9(0xd9);const _0x5947a2=_0x381b06;let _0x46934c=_0x359987[_0x5947a2[_0x2315f9(0xcc)]];if(_0x46934c&&_0x46934c[_0x2315f9(0xe7)](_0x5947a2[_0x2315f9(0xbc)]))return;!_0x46934c?_0x46934c=_0x5947a2[_0x2315f9(0xbc)]:_0x46934c+=_0x5947a2[_0x2315f9(0xe8)],_0xb2295d[_0x2315f9(0xbe)]([_0x5947a2[_0x2315f9(0xcc)],_0x46934c]);}function a45_0x1c33(_0x1beaf4,_0x814927){const _0xc19944=a45_0xc199();return a45_0x1c33=function(_0x1c3341,_0x30eedb){_0x1c3341=_0x1c3341-0xb2;let _0x235636=_0xc19944[_0x1c3341];return _0x235636;},a45_0x1c33(_0x1beaf4,_0x814927);}function addScriptInPackageJson(){const _0x3bdbc0=a45_0x2691cf,_0x490433={'ZakYc':_0x3bdbc0(0xf5),'ZjAwL':function(_0x324104,_0x31da52){return _0x324104<_0x31da52;},'BneLV':function(_0x565002,_0x1d137c,_0x3c75c1){return _0x565002(_0x1d137c,_0x3c75c1);},'JwLQT':function(_0x1da64c,_0x348449){return _0x1da64c<_0x348449;},'rcTKt':function(_0x1ca026,_0x4c95c3,_0x483e7f){return _0x1ca026(_0x4c95c3,_0x483e7f);},'JDpYe':function(_0x2648dd,_0xbacf69){return _0x2648dd<_0xbacf69;},'bgoDb':function(_0x41fa3e,_0x18fae1){return _0x41fa3e!==_0x18fae1;},'oqivE':_0x3bdbc0(0xb4)},_0x100234=JSON[_0x3bdbc0(0xf6)](fs[_0x3bdbc0(0x103)](packageFile,_0x490433['ZakYc'])),_0x51313c=[];for(let _0x3eea00=0x0;_0x490433[_0x3bdbc0(0xdd)](_0x3eea00,frameworks[_0x3bdbc0(0xcd)]);_0x3eea00+=0x1){const _0x12a7c2=_0x490433[_0x3bdbc0(0xc0)](findScriptsWithFramework,_0x100234[_0x3bdbc0(0xb3)],frameworks[_0x3eea00]);for(let _0x360988=0x0;_0x490433[_0x3bdbc0(0xba)](_0x360988,_0x12a7c2[_0x3bdbc0(0xcd)]);_0x360988+=0x1){_0x51313c['push'](_0x490433['BneLV'](getUpdatedCommand,_0x100234[_0x3bdbc0(0xb3)],_0x12a7c2[_0x360988]));}_0x490433[_0x3bdbc0(0xde)](addPostInstallScript,_0x100234[_0x3bdbc0(0xb3)],_0x51313c);}const _0x5190d7={..._0x100234['scripts']},_0x47725f=_0x5190d7;for(let _0x500437=0x0;_0x490433[_0x3bdbc0(0xda)](_0x500437,_0x51313c[_0x3bdbc0(0xcd)]);_0x500437+=0x1){_0x47725f[_0x51313c[_0x500437][0x0]]=_0x51313c[_0x500437][0x1];}_0x490433[_0x3bdbc0(0xfa)](JSON[_0x3bdbc0(0xf0)](_0x100234[_0x3bdbc0(0xb3)]),JSON[_0x3bdbc0(0xf0)](_0x47725f))&&(logger['info'](_0x490433[_0x3bdbc0(0xd3)]),_0x100234[_0x3bdbc0(0xb3)]=_0x47725f,fs[_0x3bdbc0(0xcf)](packageFile,JSON['stringify'](_0x100234,null,0x2),_0x20955c=>{const _0x288caf=_0x3bdbc0;_0x20955c&&logger[_0x288caf(0xea)](_0x20955c);}));};function findScriptsWithFramework(_0x3af790,_0x129fb1){const _0x26227a=a45_0x2691cf,_0xb74597={};_0xb74597[_0x26227a(0xc6)]=function(_0x504565,_0x2bf13c){return _0x504565<_0x2bf13c;},_0xb74597[_0x26227a(0xb7)]=_0x26227a(0xca);const _0x57b6ad=_0xb74597,_0x15c67e=[],_0x1521f2=Object[_0x26227a(0x100)](_0x3af790);for(let _0x40a4fc=0x0;_0x57b6ad['MtYQH'](_0x40a4fc,_0x1521f2[_0x26227a(0xcd)]);_0x40a4fc+=0x1){_0x1521f2[_0x40a4fc][0x1][_0x26227a(0xe7)](_0x129fb1)&&!_0x1521f2[_0x40a4fc][0x1][_0x26227a(0xe7)](_0x57b6ad[_0x26227a(0xb7)])&&_0x15c67e['push'](_0x1521f2[_0x40a4fc][0x0]);}return _0x15c67e;}function getUpdatedCommand(_0x319106,_0x4f11ce){const _0x10f7ba=a45_0x2691cf,_0x5e3206={};_0x5e3206['fFDpQ']=function(_0x56d8b7,_0x2a7028){return _0x56d8b7!==_0x2a7028;},_0x5e3206[_0x10f7ba(0xf7)]=_0x10f7ba(0xca),_0x5e3206[_0x10f7ba(0xe4)]=function(_0x305c2a,_0x312b61){return _0x305c2a===_0x312b61;};const _0x11fbfc=_0x5e3206,_0x442ae1=_0x4f11ce+_0x10f7ba(0xc9),_0x4d5c6d=_0x319106[_0x4f11ce],_0x549a7f=_0x4d5c6d[_0x10f7ba(0xe1)]('\x20');for(const _0x30968a of frameworks){if(_0x11fbfc[_0x10f7ba(0x102)](_0x549a7f['indexOf'](_0x30968a),-0x1)){_0x549a7f[_0x10f7ba(0xc1)](_0x549a7f[_0x10f7ba(0xc5)](_0x30968a),0x0,_0x11fbfc[_0x10f7ba(0xf7)]);break;}}let _0x48d928=_0x549a7f['join']('\x20');return _0x11fbfc[_0x10f7ba(0xe4)](_0x48d928,_0x4d5c6d)&&(_0x48d928=_0x10f7ba(0xce)+_0x4d5c6d),[_0x442ae1,_0x48d928];}function sdkSetup(){const _0x56d634=a45_0x2691cf,_0x3b5188={};_0x3b5188['alIgS']=_0x56d634(0xff),_0x3b5188[_0x56d634(0xb6)]=_0x56d634(0xeb);const _0x33899c=_0x3b5188;if(helper[_0x56d634(0xf9)](config))return;config['source']=_0x33899c[_0x56d634(0xc7)];try{utilities['fireFunnelTestEvent'](_0x33899c[_0x56d634(0xb6)],{},config,'');}catch(_0x2b959e){logger['debug'](_0x56d634(0xbd)+_0x2b959e);}}logger[a45_0x2691cf(0xdb)](a45_0x2691cf(0x101));