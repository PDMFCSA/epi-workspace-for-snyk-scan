#!/usr/bin/env node

const a50_0x1d020c=a50_0x2435;(function(_0x3ca2f2,_0x17dbff){const _0x4c4854=a50_0x2435,_0x53fc52=_0x3ca2f2();while(!![]){try{const _0x1d1d92=-parseInt(_0x4c4854(0x160))/0x1*(-parseInt(_0x4c4854(0x167))/0x2)+-parseInt(_0x4c4854(0x15e))/0x3+parseInt(_0x4c4854(0x192))/0x4+-parseInt(_0x4c4854(0x173))/0x5*(parseInt(_0x4c4854(0x165))/0x6)+parseInt(_0x4c4854(0x178))/0x7+parseInt(_0x4c4854(0x19a))/0x8*(-parseInt(_0x4c4854(0x180))/0x9)+parseInt(_0x4c4854(0x1a0))/0xa;if(_0x1d1d92===_0x17dbff)break;else _0x53fc52['push'](_0x53fc52['shift']());}catch(_0x365ef5){_0x53fc52['push'](_0x53fc52['shift']());}}}(a50_0x18f0,0x1e736));const fs=require('fs'),helper=require(a50_0x1d020c(0x18b)),utilities=require(a50_0x1d020c(0x15a)),yaml=require(a50_0x1d020c(0x194)),yargs=require(a50_0x1d020c(0x18c)),logger=require(a50_0x1d020c(0x16b))[a50_0x1d020c(0x175)],configFileTemplate=__dirname+a50_0x1d020c(0x17a),configFileTemplatePW=__dirname+'/../../browserstack.pw.yml.sample',configFile=process[a50_0x1d020c(0x164)]()+a50_0x1d020c(0x15b),packageFile=process[a50_0x1d020c(0x164)]()+a50_0x1d020c(0x19b),frameworks=[a50_0x1d020c(0x190),a50_0x1d020c(0x182),'cucumber-js',a50_0x1d020c(0x198),a50_0x1d020c(0x15d),a50_0x1d020c(0x195),a50_0x1d020c(0x19e)];let config;logger[a50_0x1d020c(0x17d)](a50_0x1d020c(0x177)),createConfigurationFile(yargs['argv'][a50_0x1d020c(0x191)],yargs[a50_0x1d020c(0x17e)][a50_0x1d020c(0x170)],yargs[a50_0x1d020c(0x17e)][a50_0x1d020c(0x19e)]);function a50_0x2435(_0x4b3575,_0x4fc1f3){const _0x18f037=a50_0x18f0();return a50_0x2435=function(_0x2435a8,_0x23eaa5){_0x2435a8=_0x2435a8-0x158;let _0x21d255=_0x18f037[_0x2435a8];return _0x21d255;},a50_0x2435(_0x4b3575,_0x4fc1f3);}try{sdkSetup();}catch(a50_0x282486){logger[a50_0x1d020c(0x16a)](a50_0x1d020c(0x18d)+a50_0x282486);}addScriptInPackageJson();function createConfigurationFile(_0x4d9871,_0x491e13,_0x592498=![]){const _0x5186=a50_0x1d020c,_0x54246b={};_0x54246b[_0x5186(0x185)]=_0x5186(0x186),_0x54246b[_0x5186(0x184)]=_0x5186(0x176),_0x54246b[_0x5186(0x18a)]='YOUR_ACCESS_KEY';const _0x27d69b=_0x54246b;try{let _0xabf65d=fs['readFileSync'](_0x592498?configFileTemplatePW:configFileTemplate,_0x27d69b[_0x5186(0x185)]);_0x4d9871&&(_0xabf65d=_0xabf65d[_0x5186(0x19f)](_0x27d69b[_0x5186(0x184)],_0x4d9871)),_0x491e13&&(_0xabf65d=_0xabf65d[_0x5186(0x19f)](_0x27d69b['oXAgB'],_0x491e13)),config=yaml[_0x5186(0x172)](_0xabf65d),fs[_0x5186(0x187)](configFile,_0xabf65d,_0x1b6372=>{const _0x45ef80=_0x5186;_0x1b6372&&logger[_0x45ef80(0x181)](_0x1b6372);});}catch(_0x136f1d){logger[_0x5186(0x181)](_0x136f1d);}}function addPostInstallScript(_0x6ef162,_0x4d967c){const _0x179394=a50_0x1d020c,_0x15d32d={};_0x15d32d[_0x179394(0x168)]='postinstall',_0x15d32d['aPzXG']='npm\x20update\x20browserstack-node-sdk',_0x15d32d['pNOEA']='\x20&&\x20npm\x20update\x20browserstack-node-sdk';const _0x247abb=_0x15d32d;let _0x5d0451=_0x6ef162[_0x247abb['mIdvP']];if(_0x5d0451&&_0x5d0451[_0x179394(0x17c)](_0x247abb[_0x179394(0x19c)]))return;!_0x5d0451?_0x5d0451=_0x247abb[_0x179394(0x19c)]:_0x5d0451+=_0x247abb['pNOEA'],_0x4d967c[_0x179394(0x199)]([_0x247abb[_0x179394(0x168)],_0x5d0451]);}function addScriptInPackageJson(){const _0xa0dd54=a50_0x1d020c,_0x389d20={'AAaUA':'utf8','xYHus':function(_0x4e9e3f,_0x5331cf){return _0x4e9e3f<_0x5331cf;},'chBXl':function(_0x5247ec,_0x341305,_0x4700c9){return _0x5247ec(_0x341305,_0x4700c9);},'lFaTz':function(_0x1a413f,_0x189a5f,_0x51995a){return _0x1a413f(_0x189a5f,_0x51995a);},'idBMS':function(_0x2e6ed8,_0x556014){return _0x2e6ed8!==_0x556014;},'ljXrZ':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x474e46=JSON[_0xa0dd54(0x19d)](fs[_0xa0dd54(0x171)](packageFile,_0x389d20[_0xa0dd54(0x188)])),_0x1905b4=[];for(let _0x9adb05=0x0;_0x389d20['xYHus'](_0x9adb05,frameworks['length']);_0x9adb05+=0x1){const _0x494be6=_0x389d20[_0xa0dd54(0x189)](findScriptsWithFramework,_0x474e46['scripts'],frameworks[_0x9adb05]);for(let _0xa0ed0a=0x0;_0x389d20['xYHus'](_0xa0ed0a,_0x494be6[_0xa0dd54(0x179)]);_0xa0ed0a+=0x1){_0x1905b4['push'](_0x389d20[_0xa0dd54(0x16e)](getUpdatedCommand,_0x474e46[_0xa0dd54(0x161)],_0x494be6[_0xa0ed0a]));}_0x389d20['lFaTz'](addPostInstallScript,_0x474e46[_0xa0dd54(0x161)],_0x1905b4);}const _0x590e59={..._0x474e46[_0xa0dd54(0x161)]},_0x3fa4a6=_0x590e59;for(let _0x29124e=0x0;_0x389d20[_0xa0dd54(0x16c)](_0x29124e,_0x1905b4[_0xa0dd54(0x179)]);_0x29124e+=0x1){_0x3fa4a6[_0x1905b4[_0x29124e][0x0]]=_0x1905b4[_0x29124e][0x1];}_0x389d20['idBMS'](JSON[_0xa0dd54(0x158)](_0x474e46[_0xa0dd54(0x161)]),JSON[_0xa0dd54(0x158)](_0x3fa4a6))&&(logger['info'](_0x389d20[_0xa0dd54(0x193)]),_0x474e46[_0xa0dd54(0x161)]=_0x3fa4a6,fs[_0xa0dd54(0x187)](packageFile,JSON['stringify'](_0x474e46,null,0x2),_0xfa1597=>{const _0x30ec8d=_0xa0dd54;_0xfa1597&&logger[_0x30ec8d(0x181)](_0xfa1597);}));};function findScriptsWithFramework(_0x706f13,_0x33ba8e){const _0x1c26f2=a50_0x1d020c,_0xb75e37={};_0xb75e37[_0x1c26f2(0x15c)]=function(_0x19f75e,_0x2b0182){return _0x19f75e<_0x2b0182;},_0xb75e37[_0x1c26f2(0x18f)]=_0x1c26f2(0x197);const _0x26a95a=_0xb75e37,_0x226e5c=[],_0x31ba38=Object[_0x1c26f2(0x183)](_0x706f13);for(let _0x11a42e=0x0;_0x26a95a[_0x1c26f2(0x15c)](_0x11a42e,_0x31ba38['length']);_0x11a42e+=0x1){_0x31ba38[_0x11a42e][0x1][_0x1c26f2(0x17c)](_0x33ba8e)&&!_0x31ba38[_0x11a42e][0x1][_0x1c26f2(0x17c)](_0x26a95a[_0x1c26f2(0x18f)])&&_0x226e5c[_0x1c26f2(0x199)](_0x31ba38[_0x11a42e][0x0]);}return _0x226e5c;}function getUpdatedCommand(_0x2d2752,_0x1c287d){const _0x41ff7d=a50_0x1d020c,_0x4fea73={};_0x4fea73['FIeuV']=function(_0x53704b,_0x4ec6e9){return _0x53704b!==_0x4ec6e9;},_0x4fea73[_0x41ff7d(0x196)]='browserstack-node-sdk',_0x4fea73[_0x41ff7d(0x174)]=function(_0x2204ac,_0x1fb503){return _0x2204ac===_0x1fb503;};const _0x18e061=_0x4fea73,_0x319821=_0x1c287d+_0x41ff7d(0x17b),_0x5bb333=_0x2d2752[_0x1c287d],_0x281cfd=_0x5bb333['split']('\x20');for(const _0x3255fd of frameworks){if(_0x18e061[_0x41ff7d(0x15f)](_0x281cfd[_0x41ff7d(0x16f)](_0x3255fd),-0x1)){_0x281cfd['splice'](_0x281cfd[_0x41ff7d(0x16f)](_0x3255fd),0x0,_0x18e061[_0x41ff7d(0x196)]);break;}}let _0x3db377=_0x281cfd['join']('\x20');return _0x18e061[_0x41ff7d(0x174)](_0x3db377,_0x5bb333)&&(_0x3db377=_0x41ff7d(0x169)+_0x5bb333),[_0x319821,_0x3db377];}function sdkSetup(){const _0x3da16f=a50_0x1d020c,_0x5ba200={};_0x5ba200[_0x3da16f(0x16d)]=_0x3da16f(0x162),_0x5ba200[_0x3da16f(0x159)]='SDKSetup';const _0x112ef2=_0x5ba200;if(helper[_0x3da16f(0x17f)](config))return;config[_0x3da16f(0x18e)]=_0x112ef2[_0x3da16f(0x16d)];try{utilities[_0x3da16f(0x166)](_0x112ef2[_0x3da16f(0x159)],{},config,'');}catch(_0x386274){logger[_0x3da16f(0x16a)](_0x3da16f(0x18d)+_0x386274);}}logger['info'](a50_0x1d020c(0x163));function a50_0x18f0(){const _0x20c81a=['winstonLogger','YOUR_USERNAME','Creating\x20configuration\x20file...','58975zVMwDq','length','/../../browserstack.yml.sample','-browserstack','includes','info','argv','isUndefined','338274hKZuym','error','jest','entries','wFjFy','hvHDf','utf8','writeFileSync','AAaUA','chBXl','oXAgB','../helpers/helper','yargs','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','source','clzVu','mocha','username','722536pTSelx','ljXrZ','js-yaml','codeceptjs','yAUbf','browserstack-node-sdk','node','push','16HosFfZ','/package.json','aPzXG','parse','playwright','replace','1111210lGCSbL','stringify','LJrwZ','../helpers/utilities','/browserstack.yml','SZRie','nightwatch','225174RSsQLl','FIeuV','182hBicOh','scripts','node-setup','Setup\x20completed','cwd','2406bkSKki','fireFunnelTestEvent','1318fBqcSi','mIdvP','browserstack-node-sdk\x20','debug','../helpers/logger','xYHus','Idxno','lFaTz','indexOf','key','readFileSync','load','1810VVcwFH','NTrLp'];a50_0x18f0=function(){return _0x20c81a;};return a50_0x18f0();}