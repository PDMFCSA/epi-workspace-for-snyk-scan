#!/usr/bin/env node

const a49_0x14fe88=a49_0x4116;(function(_0x4a90e4,_0x550fd7){const _0x2978d9=a49_0x4116,_0x48ad86=_0x4a90e4();while(!![]){try{const _0x17bb3c=-parseInt(_0x2978d9(0x1e2))/0x1+parseInt(_0x2978d9(0x1c0))/0x2+-parseInt(_0x2978d9(0x1c7))/0x3*(parseInt(_0x2978d9(0x1ed))/0x4)+parseInt(_0x2978d9(0x1c1))/0x5*(-parseInt(_0x2978d9(0x1ec))/0x6)+parseInt(_0x2978d9(0x1da))/0x7*(parseInt(_0x2978d9(0x1a0))/0x8)+parseInt(_0x2978d9(0x1e5))/0x9*(parseInt(_0x2978d9(0x1f3))/0xa)+parseInt(_0x2978d9(0x1cd))/0xb*(parseInt(_0x2978d9(0x1d7))/0xc);if(_0x17bb3c===_0x550fd7)break;else _0x48ad86['push'](_0x48ad86['shift']());}catch(_0x2d2c41){_0x48ad86['push'](_0x48ad86['shift']());}}}(a49_0x3d0b,0xdd68d));const fs=require('fs'),helper=require(a49_0x14fe88(0x1d8)),utilities=require(a49_0x14fe88(0x1ee)),yaml=require(a49_0x14fe88(0x1a2)),yargs=require(a49_0x14fe88(0x1db)),logger=require(a49_0x14fe88(0x1d3))[a49_0x14fe88(0x1bd)],configFileTemplate=__dirname+'/../../browserstack.yml.sample',configFileTemplatePW=__dirname+a49_0x14fe88(0x1d4),configFile=process[a49_0x14fe88(0x1d9)]()+a49_0x14fe88(0x1b3),packageFile=process[a49_0x14fe88(0x1d9)]()+a49_0x14fe88(0x1c2),frameworks=[a49_0x14fe88(0x1c8),a49_0x14fe88(0x1ca),a49_0x14fe88(0x1b6),a49_0x14fe88(0x1dd),a49_0x14fe88(0x1bf),a49_0x14fe88(0x1ac),a49_0x14fe88(0x1b8)];let config;logger[a49_0x14fe88(0x1bc)](a49_0x14fe88(0x1a3)),createConfigurationFile(yargs['argv'][a49_0x14fe88(0x1bb)],yargs[a49_0x14fe88(0x1b0)][a49_0x14fe88(0x1a4)],yargs['argv'][a49_0x14fe88(0x1b8)]);try{sdkSetup();}catch(a49_0x356b2d){logger['debug'](a49_0x14fe88(0x1df)+a49_0x356b2d);}function a49_0x4116(_0x4bede0,_0x582dc6){const _0x3d0b82=a49_0x3d0b();return a49_0x4116=function(_0x4116b9,_0x40975f){_0x4116b9=_0x4116b9-0x1a0;let _0x45d3ac=_0x3d0b82[_0x4116b9];return _0x45d3ac;},a49_0x4116(_0x4bede0,_0x582dc6);}addScriptInPackageJson();function createConfigurationFile(_0x22bc45,_0x3c9842,_0x406b32=![]){const _0x3a0460=a49_0x14fe88,_0x474045={};_0x474045[_0x3a0460(0x1cc)]=_0x3a0460(0x1ba),_0x474045['exVNY']='YOUR_USERNAME',_0x474045[_0x3a0460(0x1be)]=_0x3a0460(0x1c3);const _0x4a1f8c=_0x474045;try{let _0xfdf6fc=fs[_0x3a0460(0x1e9)](_0x406b32?configFileTemplatePW:configFileTemplate,_0x4a1f8c[_0x3a0460(0x1cc)]);_0x22bc45&&(_0xfdf6fc=_0xfdf6fc[_0x3a0460(0x1ea)](_0x4a1f8c[_0x3a0460(0x1cb)],_0x22bc45)),_0x3c9842&&(_0xfdf6fc=_0xfdf6fc[_0x3a0460(0x1ea)](_0x4a1f8c['eCYBL'],_0x3c9842)),config=yaml[_0x3a0460(0x1ad)](_0xfdf6fc),fs[_0x3a0460(0x1e0)](configFile,_0xfdf6fc,_0xbee946=>{const _0x26200e=_0x3a0460;_0xbee946&&logger[_0x26200e(0x1d0)](_0xbee946);});}catch(_0xdbc55c){logger[_0x3a0460(0x1d0)](_0xdbc55c);}}function addPostInstallScript(_0x3679ca,_0x5de34b){const _0x2216d8=a49_0x14fe88,_0x6ab4e={};_0x6ab4e[_0x2216d8(0x1f2)]='postinstall',_0x6ab4e['nigsy']=_0x2216d8(0x1ab),_0x6ab4e[_0x2216d8(0x1e6)]=_0x2216d8(0x1a6);const _0x168927=_0x6ab4e;let _0x108892=_0x3679ca[_0x168927['cVUim']];if(_0x108892&&_0x108892[_0x2216d8(0x1c4)](_0x168927[_0x2216d8(0x1de)]))return;!_0x108892?_0x108892=_0x168927[_0x2216d8(0x1de)]:_0x108892+=_0x168927[_0x2216d8(0x1e6)],_0x5de34b[_0x2216d8(0x1eb)]([_0x168927['cVUim'],_0x108892]);}function addScriptInPackageJson(){const _0x7170cf=a49_0x14fe88,_0xc4a30d={'CPNgP':_0x7170cf(0x1ba),'MERjD':function(_0x18458c,_0x42fbc2){return _0x18458c<_0x42fbc2;},'oAaER':function(_0x377d66,_0x22e8d3,_0x4f468f){return _0x377d66(_0x22e8d3,_0x4f468f);},'PzXRs':function(_0x241769,_0xcc07dd){return _0x241769<_0xcc07dd;},'opuWt':function(_0x5f421b,_0x372f38,_0x4ae7fb){return _0x5f421b(_0x372f38,_0x4ae7fb);},'jZhgr':function(_0x192bec,_0x2712c2,_0x546568){return _0x192bec(_0x2712c2,_0x546568);},'OFwxA':function(_0x4bc056,_0x562990){return _0x4bc056!==_0x562990;},'ekzMN':_0x7170cf(0x1af)},_0x2baa63=JSON[_0x7170cf(0x1ef)](fs[_0x7170cf(0x1e9)](packageFile,_0xc4a30d[_0x7170cf(0x1b9)])),_0x401878=[];for(let _0xd0f3d6=0x0;_0xc4a30d[_0x7170cf(0x1a8)](_0xd0f3d6,frameworks[_0x7170cf(0x1b1)]);_0xd0f3d6+=0x1){const _0x198b9c=_0xc4a30d[_0x7170cf(0x1a9)](findScriptsWithFramework,_0x2baa63[_0x7170cf(0x1ae)],frameworks[_0xd0f3d6]);for(let _0x3089e0=0x0;_0xc4a30d[_0x7170cf(0x1aa)](_0x3089e0,_0x198b9c['length']);_0x3089e0+=0x1){_0x401878['push'](_0xc4a30d[_0x7170cf(0x1a7)](getUpdatedCommand,_0x2baa63[_0x7170cf(0x1ae)],_0x198b9c[_0x3089e0]));}_0xc4a30d[_0x7170cf(0x1d5)](addPostInstallScript,_0x2baa63['scripts'],_0x401878);}const _0x361711={..._0x2baa63[_0x7170cf(0x1ae)]},_0x26d6bd=_0x361711;for(let _0x3ada86=0x0;_0xc4a30d[_0x7170cf(0x1aa)](_0x3ada86,_0x401878[_0x7170cf(0x1b1)]);_0x3ada86+=0x1){_0x26d6bd[_0x401878[_0x3ada86][0x0]]=_0x401878[_0x3ada86][0x1];}_0xc4a30d[_0x7170cf(0x1e1)](JSON[_0x7170cf(0x1e4)](_0x2baa63[_0x7170cf(0x1ae)]),JSON[_0x7170cf(0x1e4)](_0x26d6bd))&&(logger[_0x7170cf(0x1bc)](_0xc4a30d[_0x7170cf(0x1e8)]),_0x2baa63[_0x7170cf(0x1ae)]=_0x26d6bd,fs[_0x7170cf(0x1e0)](packageFile,JSON['stringify'](_0x2baa63,null,0x2),_0x574889=>{const _0x48e625=_0x7170cf;_0x574889&&logger[_0x48e625(0x1d0)](_0x574889);}));};function findScriptsWithFramework(_0x4b37f9,_0x58d193){const _0x40e8eb=a49_0x14fe88,_0x14ddb2={};_0x14ddb2[_0x40e8eb(0x1d6)]=function(_0x580f78,_0x5215e7){return _0x580f78<_0x5215e7;},_0x14ddb2[_0x40e8eb(0x1cf)]=_0x40e8eb(0x1a1);const _0x5dcb7f=_0x14ddb2,_0x36e9a2=[],_0x2ef73c=Object[_0x40e8eb(0x1b2)](_0x4b37f9);for(let _0x3e82af=0x0;_0x5dcb7f[_0x40e8eb(0x1d6)](_0x3e82af,_0x2ef73c[_0x40e8eb(0x1b1)]);_0x3e82af+=0x1){_0x2ef73c[_0x3e82af][0x1][_0x40e8eb(0x1c4)](_0x58d193)&&!_0x2ef73c[_0x3e82af][0x1][_0x40e8eb(0x1c4)](_0x5dcb7f['WalUx'])&&_0x36e9a2[_0x40e8eb(0x1eb)](_0x2ef73c[_0x3e82af][0x0]);}return _0x36e9a2;}function a49_0x3d0b(){const _0x577475=['/../../browserstack.pw.yml.sample','jZhgr','FZukY','22271412PqmJaW','../helpers/helper','cwd','7iAreEN','yargs','debug','node','nigsy','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','writeFileSync','OFwxA','1487764jhzYCD','split','stringify','1215yZpJLY','iVHlz','join','ekzMN','readFileSync','replace','push','234TXhbTC','5669812DfKgYO','../helpers/utilities','parse','-browserstack','fireFunnelTestEvent','cVUim','53470NmIkQn','9621616LoUecq','browserstack-node-sdk','js-yaml','Creating\x20configuration\x20file...','key','qVssU','\x20&&\x20npm\x20update\x20browserstack-node-sdk','opuWt','MERjD','oAaER','PzXRs','npm\x20update\x20browserstack-node-sdk','codeceptjs','load','scripts','Adding\x20new\x20script(s)\x20in\x20package.json...','argv','length','entries','/browserstack.yml','node-setup','pKLYv','cucumber-js','indexOf','playwright','CPNgP','utf8','username','info','winstonLogger','eCYBL','nightwatch','1624394zVdjxT','100075kGTGER','/package.json','YOUR_ACCESS_KEY','includes','rdHdS','ftjxN','3GxypSn','mocha','dKpFB','jest','exVNY','eYSqa','11TkSFnI','source','WalUx','error','browserstack-node-sdk\x20','SDKSetup','../helpers/logger'];a49_0x3d0b=function(){return _0x577475;};return a49_0x3d0b();}function getUpdatedCommand(_0x54c942,_0x158c65){const _0x6c3b19=a49_0x14fe88,_0x597c21={};_0x597c21[_0x6c3b19(0x1c6)]=function(_0x1b92fb,_0x1fbde3){return _0x1b92fb!==_0x1fbde3;},_0x597c21['pKLYv']=_0x6c3b19(0x1a1),_0x597c21[_0x6c3b19(0x1a5)]=function(_0x579ca7,_0x464270){return _0x579ca7===_0x464270;};const _0x483430=_0x597c21,_0x470aa0=_0x158c65+_0x6c3b19(0x1f0),_0x367655=_0x54c942[_0x158c65],_0x2bd1de=_0x367655[_0x6c3b19(0x1e3)]('\x20');for(const _0x20676b of frameworks){if(_0x483430['ftjxN'](_0x2bd1de['indexOf'](_0x20676b),-0x1)){_0x2bd1de['splice'](_0x2bd1de[_0x6c3b19(0x1b7)](_0x20676b),0x0,_0x483430[_0x6c3b19(0x1b5)]);break;}}let _0x3a35d7=_0x2bd1de[_0x6c3b19(0x1e7)]('\x20');return _0x483430[_0x6c3b19(0x1a5)](_0x3a35d7,_0x367655)&&(_0x3a35d7=_0x6c3b19(0x1d1)+_0x367655),[_0x470aa0,_0x3a35d7];}function sdkSetup(){const _0x1b2119=a49_0x14fe88,_0x3eec3c={};_0x3eec3c['rdHdS']=_0x1b2119(0x1b4),_0x3eec3c[_0x1b2119(0x1c9)]=_0x1b2119(0x1d2);const _0x214252=_0x3eec3c;if(helper['isUndefined'](config))return;config[_0x1b2119(0x1ce)]=_0x214252[_0x1b2119(0x1c5)];try{utilities[_0x1b2119(0x1f1)](_0x214252[_0x1b2119(0x1c9)],{},config,'');}catch(_0x34e04f){logger[_0x1b2119(0x1dc)](_0x1b2119(0x1df)+_0x34e04f);}}logger[a49_0x14fe88(0x1bc)]('Setup\x20completed');