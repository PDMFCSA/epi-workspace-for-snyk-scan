#!/usr/bin/env node

const a45_0x193bf1=a45_0x482f;(function(_0x5856d9,_0x3747b7){const _0x3e8aba=a45_0x482f,_0x1baf7c=_0x5856d9();while(!![]){try{const _0x382833=-parseInt(_0x3e8aba(0x19b))/0x1+parseInt(_0x3e8aba(0x182))/0x2+parseInt(_0x3e8aba(0x16f))/0x3+parseInt(_0x3e8aba(0x199))/0x4+parseInt(_0x3e8aba(0x194))/0x5*(-parseInt(_0x3e8aba(0x186))/0x6)+parseInt(_0x3e8aba(0x187))/0x7+-parseInt(_0x3e8aba(0x197))/0x8;if(_0x382833===_0x3747b7)break;else _0x1baf7c['push'](_0x1baf7c['shift']());}catch(_0xff7240){_0x1baf7c['push'](_0x1baf7c['shift']());}}}(a45_0xeba3,0x43cda));function a45_0xeba3(){const _0x5eb765=['parse','isUndefined','OKYce','Creating\x20configuration\x20file...','quils','yUHEV','cwd','../helpers/logger','utf8','debug','cuilb','../helpers/utilities','error','node-setup','BEdyO','codeceptjs','info','dwKNl','jest','fireFunnelTestEvent','../helpers/helper','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','\x20&&\x20npm\x20update\x20browserstack-node-sdk','uazJk','length','SDKSetup','argv','1645407btODEO','username','cucumber-js','Setup\x20completed','entries','push','/package.json','scripts','browserstack-node-sdk\x20','js-yaml','readFileSync','splice','Ctohw','zDzGJ','pVBMy','RWqWM','node','YOUR_ACCESS_KEY','key','987008QvxbDi','browserstack-node-sdk','indexOf','source','42EhGyRP','2707026DbZBAE','playwright','ThMHJ','wZAQw','/browserstack.yml','rpYip','-browserstack','yJMiX','includes','yargs','rIecM','HDRMw','/../../browserstack.pw.yml.sample','328195pAiYOU','writeFileSync','Adding\x20new\x20script(s)\x20in\x20package.json...','3882712mHZQGb','TRZIC','1051924OnnAul','stringify','469138QysQjJ'];a45_0xeba3=function(){return _0x5eb765;};return a45_0xeba3();}const fs=require('fs'),helper=require(a45_0x193bf1(0x1b0)),utilities=require(a45_0x193bf1(0x1a7)),yaml=require(a45_0x193bf1(0x178)),yargs=require(a45_0x193bf1(0x190)),logger=require(a45_0x193bf1(0x1a3))['winstonLogger'],configFileTemplate=__dirname+'/../../browserstack.yml.sample',configFileTemplatePW=__dirname+a45_0x193bf1(0x193),configFile=process['cwd']()+a45_0x193bf1(0x18b),packageFile=process[a45_0x193bf1(0x1a2)]()+a45_0x193bf1(0x175),frameworks=['mocha',a45_0x193bf1(0x1ae),a45_0x193bf1(0x171),a45_0x193bf1(0x17f),'nightwatch',a45_0x193bf1(0x1ab),a45_0x193bf1(0x188)];let config;logger[a45_0x193bf1(0x1ac)](a45_0x193bf1(0x19f)),createConfigurationFile(yargs[a45_0x193bf1(0x16e)][a45_0x193bf1(0x170)],yargs[a45_0x193bf1(0x16e)][a45_0x193bf1(0x181)],yargs[a45_0x193bf1(0x16e)][a45_0x193bf1(0x188)]);try{sdkSetup();}catch(a45_0x458ed7){logger[a45_0x193bf1(0x1a5)](a45_0x193bf1(0x1b1)+a45_0x458ed7);}addScriptInPackageJson();function createConfigurationFile(_0x33848e,_0x26f74e,_0x2fdbb2=![]){const _0x412e9d=a45_0x193bf1,_0x1ca79d={};_0x1ca79d['TDhCS']='utf8',_0x1ca79d[_0x412e9d(0x17d)]='YOUR_USERNAME',_0x1ca79d[_0x412e9d(0x1a1)]=_0x412e9d(0x180);const _0x4eac71=_0x1ca79d;try{let _0x40de5a=fs['readFileSync'](_0x2fdbb2?configFileTemplatePW:configFileTemplate,_0x4eac71['TDhCS']);_0x33848e&&(_0x40de5a=_0x40de5a['replace'](_0x4eac71[_0x412e9d(0x17d)],_0x33848e)),_0x26f74e&&(_0x40de5a=_0x40de5a['replace'](_0x4eac71[_0x412e9d(0x1a1)],_0x26f74e)),config=yaml['load'](_0x40de5a),fs[_0x412e9d(0x195)](configFile,_0x40de5a,_0x479aeb=>{const _0x1a14fb=_0x412e9d;_0x479aeb&&logger[_0x1a14fb(0x1a8)](_0x479aeb);});}catch(_0x42dbe5){logger['error'](_0x42dbe5);}}function addPostInstallScript(_0x2801cd,_0x477b20){const _0x4ea7de=a45_0x193bf1,_0x26fe0c={};_0x26fe0c[_0x4ea7de(0x1a0)]='postinstall',_0x26fe0c['yJMiX']='npm\x20update\x20browserstack-node-sdk',_0x26fe0c[_0x4ea7de(0x1ad)]=_0x4ea7de(0x1b2);const _0x8f11a5=_0x26fe0c;let _0x50489c=_0x2801cd[_0x8f11a5[_0x4ea7de(0x1a0)]];if(_0x50489c&&_0x50489c[_0x4ea7de(0x18f)](_0x8f11a5[_0x4ea7de(0x18e)]))return;!_0x50489c?_0x50489c=_0x8f11a5['yJMiX']:_0x50489c+=_0x8f11a5[_0x4ea7de(0x1ad)],_0x477b20[_0x4ea7de(0x174)]([_0x8f11a5[_0x4ea7de(0x1a0)],_0x50489c]);}function addScriptInPackageJson(){const _0x304695=a45_0x193bf1,_0x3e1030={'TRZIC':_0x304695(0x1a4),'cuilb':function(_0x43cb3d,_0x581cda){return _0x43cb3d<_0x581cda;},'ThMHJ':function(_0x16e952,_0x1e4765,_0x4f4dd4){return _0x16e952(_0x1e4765,_0x4f4dd4);},'OKYce':function(_0x517f0f,_0x154a69,_0x37c14e){return _0x517f0f(_0x154a69,_0x37c14e);},'HDRMw':function(_0x224a5d,_0xfe66b5){return _0x224a5d<_0xfe66b5;},'rIecM':function(_0x573f9f,_0x4c5af6){return _0x573f9f!==_0x4c5af6;},'HUIIF':_0x304695(0x196)},_0x1b896c=JSON[_0x304695(0x19c)](fs[_0x304695(0x179)](packageFile,_0x3e1030[_0x304695(0x198)])),_0x28f74a=[];for(let _0x1ba51d=0x0;_0x3e1030[_0x304695(0x1a6)](_0x1ba51d,frameworks[_0x304695(0x1b4)]);_0x1ba51d+=0x1){const _0x589d9b=_0x3e1030[_0x304695(0x189)](findScriptsWithFramework,_0x1b896c['scripts'],frameworks[_0x1ba51d]);for(let _0x13642d=0x0;_0x3e1030[_0x304695(0x1a6)](_0x13642d,_0x589d9b[_0x304695(0x1b4)]);_0x13642d+=0x1){_0x28f74a['push'](_0x3e1030[_0x304695(0x189)](getUpdatedCommand,_0x1b896c[_0x304695(0x176)],_0x589d9b[_0x13642d]));}_0x3e1030[_0x304695(0x19e)](addPostInstallScript,_0x1b896c[_0x304695(0x176)],_0x28f74a);}const _0x457d23={..._0x1b896c['scripts']},_0xab47cd=_0x457d23;for(let _0x564c66=0x0;_0x3e1030[_0x304695(0x192)](_0x564c66,_0x28f74a['length']);_0x564c66+=0x1){_0xab47cd[_0x28f74a[_0x564c66][0x0]]=_0x28f74a[_0x564c66][0x1];}_0x3e1030[_0x304695(0x191)](JSON[_0x304695(0x19a)](_0x1b896c['scripts']),JSON[_0x304695(0x19a)](_0xab47cd))&&(logger['info'](_0x3e1030['HUIIF']),_0x1b896c[_0x304695(0x176)]=_0xab47cd,fs['writeFileSync'](packageFile,JSON[_0x304695(0x19a)](_0x1b896c,null,0x2),_0x35425c=>{const _0x2d0033=_0x304695;_0x35425c&&logger[_0x2d0033(0x1a8)](_0x35425c);}));};function findScriptsWithFramework(_0x3922b5,_0x13c7f3){const _0x87cbcd=a45_0x193bf1,_0x561ebe={};_0x561ebe[_0x87cbcd(0x17c)]=function(_0x234ef1,_0x1b4a56){return _0x234ef1<_0x1b4a56;},_0x561ebe[_0x87cbcd(0x18c)]=_0x87cbcd(0x183);const _0x4df9e2=_0x561ebe,_0x1cad94=[],_0x2b1bb8=Object[_0x87cbcd(0x173)](_0x3922b5);for(let _0x115b69=0x0;_0x4df9e2[_0x87cbcd(0x17c)](_0x115b69,_0x2b1bb8[_0x87cbcd(0x1b4)]);_0x115b69+=0x1){_0x2b1bb8[_0x115b69][0x1]['includes'](_0x13c7f3)&&!_0x2b1bb8[_0x115b69][0x1]['includes'](_0x4df9e2[_0x87cbcd(0x18c)])&&_0x1cad94[_0x87cbcd(0x174)](_0x2b1bb8[_0x115b69][0x0]);}return _0x1cad94;}function getUpdatedCommand(_0x1a8068,_0x55880a){const _0x258d6a=a45_0x193bf1,_0x372ed7={};_0x372ed7[_0x258d6a(0x17e)]=function(_0x4ac642,_0x2dd8e4){return _0x4ac642!==_0x2dd8e4;},_0x372ed7[_0x258d6a(0x18a)]=_0x258d6a(0x183),_0x372ed7[_0x258d6a(0x1aa)]=function(_0x2bda14,_0x47a849){return _0x2bda14===_0x47a849;};const _0x44a27e=_0x372ed7,_0x357500=_0x55880a+_0x258d6a(0x18d),_0x52e853=_0x1a8068[_0x55880a],_0x429dd6=_0x52e853['split']('\x20');for(const _0x4e1b92 of frameworks){if(_0x44a27e[_0x258d6a(0x17e)](_0x429dd6[_0x258d6a(0x184)](_0x4e1b92),-0x1)){_0x429dd6[_0x258d6a(0x17a)](_0x429dd6[_0x258d6a(0x184)](_0x4e1b92),0x0,_0x44a27e[_0x258d6a(0x18a)]);break;}}let _0x135624=_0x429dd6['join']('\x20');return _0x44a27e[_0x258d6a(0x1aa)](_0x135624,_0x52e853)&&(_0x135624=_0x258d6a(0x177)+_0x52e853),[_0x357500,_0x135624];}function sdkSetup(){const _0x4ddb8b=a45_0x193bf1,_0x27b50f={};_0x27b50f[_0x4ddb8b(0x17b)]=_0x4ddb8b(0x1a9),_0x27b50f[_0x4ddb8b(0x1b3)]=_0x4ddb8b(0x16d);const _0x3621c4=_0x27b50f;if(helper[_0x4ddb8b(0x19d)](config))return;config[_0x4ddb8b(0x185)]=_0x3621c4[_0x4ddb8b(0x17b)];try{utilities[_0x4ddb8b(0x1af)](_0x3621c4[_0x4ddb8b(0x1b3)],{},config,'');}catch(_0x5a98ab){logger[_0x4ddb8b(0x1a5)](_0x4ddb8b(0x1b1)+_0x5a98ab);}}function a45_0x482f(_0x43594f,_0x365a55){const _0xeba337=a45_0xeba3();return a45_0x482f=function(_0x482fba,_0x45bbdd){_0x482fba=_0x482fba-0x16d;let _0x3fc06e=_0xeba337[_0x482fba];return _0x3fc06e;},a45_0x482f(_0x43594f,_0x365a55);}logger[a45_0x193bf1(0x1ac)](a45_0x193bf1(0x172));