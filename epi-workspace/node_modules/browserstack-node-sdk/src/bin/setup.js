#!/usr/bin/env node

const a50_0x4107e3=a50_0x329f;(function(_0x28dfc7,_0x4943fc){const _0x203835=a50_0x329f,_0x444c2f=_0x28dfc7();while(!![]){try{const _0x538e53=parseInt(_0x203835(0x1a8))/0x1+parseInt(_0x203835(0x1a6))/0x2*(parseInt(_0x203835(0x170))/0x3)+parseInt(_0x203835(0x18a))/0x4*(-parseInt(_0x203835(0x1ac))/0x5)+parseInt(_0x203835(0x186))/0x6*(parseInt(_0x203835(0x18c))/0x7)+-parseInt(_0x203835(0x191))/0x8*(-parseInt(_0x203835(0x178))/0x9)+parseInt(_0x203835(0x169))/0xa+-parseInt(_0x203835(0x1a0))/0xb*(parseInt(_0x203835(0x17a))/0xc);if(_0x538e53===_0x4943fc)break;else _0x444c2f['push'](_0x444c2f['shift']());}catch(_0x4e4581){_0x444c2f['push'](_0x444c2f['shift']());}}}(a50_0x13e8,0xa5ebb));function a50_0x329f(_0x441216,_0xe7cdfb){const _0x13e8ba=a50_0x13e8();return a50_0x329f=function(_0x329ffd,_0x5a5e7e){_0x329ffd=_0x329ffd-0x160;let _0x1246ec=_0x13e8ba[_0x329ffd];return _0x1246ec;},a50_0x329f(_0x441216,_0xe7cdfb);}const fs=require('fs'),helper=require(a50_0x4107e3(0x19b)),utilities=require(a50_0x4107e3(0x18b)),yaml=require(a50_0x4107e3(0x181)),yargs=require(a50_0x4107e3(0x162)),logger=require(a50_0x4107e3(0x194))[a50_0x4107e3(0x1a9)],configFileTemplate=__dirname+a50_0x4107e3(0x171),configFileTemplatePW=__dirname+a50_0x4107e3(0x164),configFile=process[a50_0x4107e3(0x168)]()+a50_0x4107e3(0x195),packageFile=process['cwd']()+'/package.json',frameworks=[a50_0x4107e3(0x16b),a50_0x4107e3(0x1ab),'cucumber-js','node',a50_0x4107e3(0x179),a50_0x4107e3(0x192),a50_0x4107e3(0x161)];let config;logger['info']('Creating\x20configuration\x20file...'),createConfigurationFile(yargs[a50_0x4107e3(0x19e)][a50_0x4107e3(0x16a)],yargs[a50_0x4107e3(0x19e)]['key'],yargs['argv']['playwright']);try{sdkSetup();}catch(a50_0xd13206){logger[a50_0x4107e3(0x174)](a50_0x4107e3(0x18f)+a50_0xd13206);}addScriptInPackageJson();function createConfigurationFile(_0xafbd26,_0xe94e5,_0x2d2129=![]){const _0xb5c80d=a50_0x4107e3,_0x2f15b5={};_0x2f15b5[_0xb5c80d(0x17b)]=_0xb5c80d(0x19a),_0x2f15b5[_0xb5c80d(0x187)]=_0xb5c80d(0x183),_0x2f15b5['ELffn']=_0xb5c80d(0x190);const _0x4ea946=_0x2f15b5;try{let _0x334868=fs['readFileSync'](_0x2d2129?configFileTemplatePW:configFileTemplate,_0x4ea946['OIgKI']);_0xafbd26&&(_0x334868=_0x334868['replace'](_0x4ea946[_0xb5c80d(0x187)],_0xafbd26)),_0xe94e5&&(_0x334868=_0x334868[_0xb5c80d(0x1a3)](_0x4ea946[_0xb5c80d(0x160)],_0xe94e5)),config=yaml[_0xb5c80d(0x163)](_0x334868),fs[_0xb5c80d(0x19d)](configFile,_0x334868,_0xa3a3fb=>{const _0x32fa6d=_0xb5c80d;_0xa3a3fb&&logger[_0x32fa6d(0x18e)](_0xa3a3fb);});}catch(_0x1642a1){logger[_0xb5c80d(0x18e)](_0x1642a1);}}function a50_0x13e8(){const _0x4a6f0d=['isUndefined','split','272823engSQu','/../../browserstack.yml.sample','browserstack-node-sdk\x20','browserstack-node-sdk','debug','taiNm','gRzrf','ZkBYL','45kfbvUW','nightwatch','35873256KbTCZe','OIgKI','zOXEf','bDalD','NrEyE','CmYYI','yhQeY','js-yaml','readFileSync','YOUR_USERNAME','postinstall','LsEyc','12KITmGY','yGbxR','join','entries','92dUGyIQ','../helpers/utilities','3140970cMCSpR','stringify','error','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','YOUR_ACCESS_KEY','2020024Hvrhxp','codeceptjs','indexOf','../helpers/logger','/browserstack.yml','tnpjC','scripts','AYhqZ','push','utf8','../helpers/helper','tIKRN','writeFileSync','argv','SDKSetup','11YMacJY','Setup\x20completed','fireFunnelTestEvent','replace','jtvac','info','22jEUWyX','length','458059Wfjfxu','winstonLogger','source','jest','107885AnGhzO','ELffn','playwright','yargs','load','/../../browserstack.pw.yml.sample','mBMef','BLWaB','QKtFN','cwd','5469750XYrfVM','username','mocha','node-setup','includes'];a50_0x13e8=function(){return _0x4a6f0d;};return a50_0x13e8();}function addPostInstallScript(_0x3333d3,_0x405358){const _0x17b7df=a50_0x4107e3,_0x573f33={};_0x573f33[_0x17b7df(0x17f)]=_0x17b7df(0x184),_0x573f33['BLWaB']='npm\x20update\x20browserstack-node-sdk',_0x573f33[_0x17b7df(0x198)]='\x20&&\x20npm\x20update\x20browserstack-node-sdk';const _0x53b264=_0x573f33;let _0x52575b=_0x3333d3[_0x53b264[_0x17b7df(0x17f)]];if(_0x52575b&&_0x52575b[_0x17b7df(0x16d)](_0x53b264[_0x17b7df(0x166)]))return;!_0x52575b?_0x52575b=_0x53b264[_0x17b7df(0x166)]:_0x52575b+=_0x53b264[_0x17b7df(0x198)],_0x405358[_0x17b7df(0x199)]([_0x53b264[_0x17b7df(0x17f)],_0x52575b]);}function addScriptInPackageJson(){const _0x1786cd=a50_0x4107e3,_0x205e7f={'taiNm':_0x1786cd(0x19a),'ebyNn':function(_0x94e0e0,_0xdecc17){return _0x94e0e0<_0xdecc17;},'mBMef':function(_0x3c1a10,_0x4fea8c,_0x30e940){return _0x3c1a10(_0x4fea8c,_0x30e940);},'bDalD':function(_0x4910db,_0x3bceb5){return _0x4910db<_0x3bceb5;},'tIKRN':function(_0x268204,_0x51ea0a,_0x517432){return _0x268204(_0x51ea0a,_0x517432);},'yhQeY':function(_0x3eda43,_0x3057fc,_0xf0e200){return _0x3eda43(_0x3057fc,_0xf0e200);},'vBsUn':function(_0x121073,_0x409103){return _0x121073<_0x409103;},'jtvac':function(_0x4c9d7e,_0x5a6b05){return _0x4c9d7e!==_0x5a6b05;},'zOXEf':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x1d8c2f=JSON['parse'](fs[_0x1786cd(0x182)](packageFile,_0x205e7f[_0x1786cd(0x175)])),_0x3636a0=[];for(let _0x46bf46=0x0;_0x205e7f['ebyNn'](_0x46bf46,frameworks[_0x1786cd(0x1a7)]);_0x46bf46+=0x1){const _0x57b654=_0x205e7f[_0x1786cd(0x165)](findScriptsWithFramework,_0x1d8c2f[_0x1786cd(0x197)],frameworks[_0x46bf46]);for(let _0x1cb1cc=0x0;_0x205e7f[_0x1786cd(0x17d)](_0x1cb1cc,_0x57b654[_0x1786cd(0x1a7)]);_0x1cb1cc+=0x1){_0x3636a0[_0x1786cd(0x199)](_0x205e7f[_0x1786cd(0x19c)](getUpdatedCommand,_0x1d8c2f[_0x1786cd(0x197)],_0x57b654[_0x1cb1cc]));}_0x205e7f[_0x1786cd(0x180)](addPostInstallScript,_0x1d8c2f['scripts'],_0x3636a0);}const _0x7e65d6={..._0x1d8c2f[_0x1786cd(0x197)]},_0x55695d=_0x7e65d6;for(let _0x405f76=0x0;_0x205e7f['vBsUn'](_0x405f76,_0x3636a0[_0x1786cd(0x1a7)]);_0x405f76+=0x1){_0x55695d[_0x3636a0[_0x405f76][0x0]]=_0x3636a0[_0x405f76][0x1];}_0x205e7f[_0x1786cd(0x1a4)](JSON[_0x1786cd(0x18d)](_0x1d8c2f[_0x1786cd(0x197)]),JSON[_0x1786cd(0x18d)](_0x55695d))&&(logger[_0x1786cd(0x1a5)](_0x205e7f[_0x1786cd(0x17c)]),_0x1d8c2f['scripts']=_0x55695d,fs['writeFileSync'](packageFile,JSON['stringify'](_0x1d8c2f,null,0x2),_0x2217b5=>{const _0x5b5eea=_0x1786cd;_0x2217b5&&logger[_0x5b5eea(0x18e)](_0x2217b5);}));};function findScriptsWithFramework(_0x132f91,_0x1d84a4){const _0x387db5=a50_0x4107e3,_0x44c026={};_0x44c026[_0x387db5(0x17e)]=function(_0x44f2e7,_0x411422){return _0x44f2e7<_0x411422;},_0x44c026['ZkBYL']=_0x387db5(0x173);const _0x3731b6=_0x44c026,_0x44fff1=[],_0x2e67ee=Object[_0x387db5(0x189)](_0x132f91);for(let _0x226e0b=0x0;_0x3731b6[_0x387db5(0x17e)](_0x226e0b,_0x2e67ee[_0x387db5(0x1a7)]);_0x226e0b+=0x1){_0x2e67ee[_0x226e0b][0x1][_0x387db5(0x16d)](_0x1d84a4)&&!_0x2e67ee[_0x226e0b][0x1][_0x387db5(0x16d)](_0x3731b6[_0x387db5(0x177)])&&_0x44fff1[_0x387db5(0x199)](_0x2e67ee[_0x226e0b][0x0]);}return _0x44fff1;}function getUpdatedCommand(_0x44627a,_0x22cd71){const _0x165321=a50_0x4107e3,_0x5f41f5={};_0x5f41f5['gRzrf']=function(_0x79550d,_0x33186c){return _0x79550d!==_0x33186c;},_0x5f41f5['xFyXZ']=_0x165321(0x173),_0x5f41f5['QKtFN']=function(_0x9f6bcd,_0x5364de){return _0x9f6bcd===_0x5364de;};const _0x45de74=_0x5f41f5,_0x25ba8b=_0x22cd71+'-browserstack',_0x191f13=_0x44627a[_0x22cd71],_0x448ef8=_0x191f13[_0x165321(0x16f)]('\x20');for(const _0x4048ea of frameworks){if(_0x45de74[_0x165321(0x176)](_0x448ef8[_0x165321(0x193)](_0x4048ea),-0x1)){_0x448ef8['splice'](_0x448ef8['indexOf'](_0x4048ea),0x0,_0x45de74['xFyXZ']);break;}}let _0x1d048a=_0x448ef8[_0x165321(0x188)]('\x20');return _0x45de74[_0x165321(0x167)](_0x1d048a,_0x191f13)&&(_0x1d048a=_0x165321(0x172)+_0x191f13),[_0x25ba8b,_0x1d048a];}function sdkSetup(){const _0x293262=a50_0x4107e3,_0xf414ec={};_0xf414ec['LsEyc']=_0x293262(0x16c),_0xf414ec[_0x293262(0x196)]=_0x293262(0x19f);const _0x270894=_0xf414ec;if(helper[_0x293262(0x16e)](config))return;config[_0x293262(0x1aa)]=_0x270894[_0x293262(0x185)];try{utilities[_0x293262(0x1a2)](_0x270894[_0x293262(0x196)],{},config,'');}catch(_0x3dc9c1){logger[_0x293262(0x174)](_0x293262(0x18f)+_0x3dc9c1);}}logger[a50_0x4107e3(0x1a5)](a50_0x4107e3(0x1a1));