#!/usr/bin/env node

const a50_0x87c3ee=a50_0x588b;(function(_0x3f8e00,_0x11f19d){const _0x44a664=a50_0x588b,_0x475193=_0x3f8e00();while(!![]){try{const _0x1b4e67=parseInt(_0x44a664(0xad))/0x1*(parseInt(_0x44a664(0xb1))/0x2)+parseInt(_0x44a664(0x84))/0x3+parseInt(_0x44a664(0x8f))/0x4*(-parseInt(_0x44a664(0xa7))/0x5)+-parseInt(_0x44a664(0xa1))/0x6*(-parseInt(_0x44a664(0x8a))/0x7)+-parseInt(_0x44a664(0xa5))/0x8*(-parseInt(_0x44a664(0x87))/0x9)+-parseInt(_0x44a664(0xbc))/0xa*(parseInt(_0x44a664(0xc6))/0xb)+-parseInt(_0x44a664(0xb0))/0xc;if(_0x1b4e67===_0x11f19d)break;else _0x475193['push'](_0x475193['shift']());}catch(_0x121e61){_0x475193['push'](_0x475193['shift']());}}}(a50_0x1752,0x5903e));const fs=require('fs'),helper=require(a50_0x87c3ee(0xa6)),utilities=require(a50_0x87c3ee(0xa4)),yaml=require(a50_0x87c3ee(0x82)),yargs=require(a50_0x87c3ee(0xa0)),logger=require(a50_0x87c3ee(0x89))[a50_0x87c3ee(0xc4)],configFileTemplate=__dirname+a50_0x87c3ee(0xbb),configFileTemplatePW=__dirname+'/../../browserstack.pw.yml.sample',configFile=process[a50_0x87c3ee(0x88)]()+'/browserstack.yml',packageFile=process[a50_0x87c3ee(0x88)]()+'/package.json',frameworks=['mocha',a50_0x87c3ee(0xb3),'cucumber-js','node','nightwatch','codeceptjs',a50_0x87c3ee(0xa3)];let config;function a50_0x588b(_0x3520ce,_0x2993c5){const _0x175293=a50_0x1752();return a50_0x588b=function(_0x588be1,_0x52075b){_0x588be1=_0x588be1-0x7f;let _0x42ee6b=_0x175293[_0x588be1];return _0x42ee6b;},a50_0x588b(_0x3520ce,_0x2993c5);}logger[a50_0x87c3ee(0x98)](a50_0x87c3ee(0x94)),createConfigurationFile(yargs[a50_0x87c3ee(0x80)][a50_0x87c3ee(0x81)],yargs['argv'][a50_0x87c3ee(0x86)],yargs[a50_0x87c3ee(0x80)]['playwright']);try{sdkSetup();}catch(a50_0x4b24b2){logger[a50_0x87c3ee(0x96)](a50_0x87c3ee(0x99)+a50_0x4b24b2);}addScriptInPackageJson();function createConfigurationFile(_0x310a83,_0x454aa0,_0x361161=![]){const _0x5c394d=a50_0x87c3ee,_0x473865={};_0x473865[_0x5c394d(0xbe)]='utf8',_0x473865['tLYsm']=_0x5c394d(0xc5),_0x473865['oswSH']='YOUR_ACCESS_KEY';const _0x2e3d4c=_0x473865;try{let _0x5b2c1c=fs[_0x5c394d(0xae)](_0x361161?configFileTemplatePW:configFileTemplate,_0x2e3d4c[_0x5c394d(0xbe)]);_0x310a83&&(_0x5b2c1c=_0x5b2c1c[_0x5c394d(0x97)](_0x2e3d4c[_0x5c394d(0x8c)],_0x310a83)),_0x454aa0&&(_0x5b2c1c=_0x5b2c1c[_0x5c394d(0x97)](_0x2e3d4c[_0x5c394d(0x85)],_0x454aa0)),config=yaml['load'](_0x5b2c1c),fs[_0x5c394d(0xb2)](configFile,_0x5b2c1c,_0x139e23=>{const _0x29eb97=_0x5c394d;_0x139e23&&logger[_0x29eb97(0x9f)](_0x139e23);});}catch(_0x33bcc4){logger[_0x5c394d(0x9f)](_0x33bcc4);}}function addPostInstallScript(_0x1af1d3,_0x516f79){const _0x577fc9=a50_0x87c3ee,_0x133ca2={};_0x133ca2[_0x577fc9(0x95)]=_0x577fc9(0xb7),_0x133ca2['xVpyt']=_0x577fc9(0x83),_0x133ca2[_0x577fc9(0xb8)]=_0x577fc9(0x8d);const _0x67f846=_0x133ca2;let _0x1028cc=_0x1af1d3[_0x67f846[_0x577fc9(0x95)]];if(_0x1028cc&&_0x1028cc[_0x577fc9(0xbf)](_0x67f846[_0x577fc9(0x8b)]))return;!_0x1028cc?_0x1028cc=_0x67f846[_0x577fc9(0x8b)]:_0x1028cc+=_0x67f846[_0x577fc9(0xb8)],_0x516f79['push']([_0x67f846[_0x577fc9(0x95)],_0x1028cc]);}function addScriptInPackageJson(){const _0x2bee46=a50_0x87c3ee,_0x23fac7={'dnFMD':'utf8','JYsEu':function(_0x235e77,_0x44cb7b){return _0x235e77<_0x44cb7b;},'EonoT':function(_0x5b03c3,_0x3c881c,_0x365915){return _0x5b03c3(_0x3c881c,_0x365915);},'DVqQn':function(_0xffd0da,_0x48f603){return _0xffd0da<_0x48f603;},'hsaZp':function(_0x3e0533,_0x588984){return _0x3e0533<_0x588984;},'Fvcey':function(_0x2ea7e8,_0x3e84ad){return _0x2ea7e8!==_0x3e84ad;},'arukJ':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x2660e3=JSON[_0x2bee46(0xba)](fs['readFileSync'](packageFile,_0x23fac7[_0x2bee46(0xc1)])),_0xddde45=[];for(let _0x4e7e31=0x0;_0x23fac7['JYsEu'](_0x4e7e31,frameworks[_0x2bee46(0x7f)]);_0x4e7e31+=0x1){const _0x4dbaf3=_0x23fac7[_0x2bee46(0xb6)](findScriptsWithFramework,_0x2660e3['scripts'],frameworks[_0x4e7e31]);for(let _0x172c2f=0x0;_0x23fac7[_0x2bee46(0xa2)](_0x172c2f,_0x4dbaf3[_0x2bee46(0x7f)]);_0x172c2f+=0x1){_0xddde45[_0x2bee46(0xac)](_0x23fac7['EonoT'](getUpdatedCommand,_0x2660e3[_0x2bee46(0x9d)],_0x4dbaf3[_0x172c2f]));}_0x23fac7[_0x2bee46(0xb6)](addPostInstallScript,_0x2660e3[_0x2bee46(0x9d)],_0xddde45);}const _0xf03857={..._0x2660e3[_0x2bee46(0x9d)]},_0x5a6da4=_0xf03857;for(let _0x401f9f=0x0;_0x23fac7['hsaZp'](_0x401f9f,_0xddde45['length']);_0x401f9f+=0x1){_0x5a6da4[_0xddde45[_0x401f9f][0x0]]=_0xddde45[_0x401f9f][0x1];}_0x23fac7['Fvcey'](JSON['stringify'](_0x2660e3[_0x2bee46(0x9d)]),JSON[_0x2bee46(0x8e)](_0x5a6da4))&&(logger[_0x2bee46(0x98)](_0x23fac7[_0x2bee46(0xb4)]),_0x2660e3[_0x2bee46(0x9d)]=_0x5a6da4,fs[_0x2bee46(0xb2)](packageFile,JSON[_0x2bee46(0x8e)](_0x2660e3,null,0x2),_0x3dbc5f=>{const _0x5e186d=_0x2bee46;_0x3dbc5f&&logger[_0x5e186d(0x9f)](_0x3dbc5f);}));};function findScriptsWithFramework(_0x4470f4,_0x1b72ea){const _0x12ee8d=a50_0x87c3ee,_0x548f4a={};_0x548f4a['oMeCX']=function(_0x116c7e,_0x431df2){return _0x116c7e<_0x431df2;},_0x548f4a[_0x12ee8d(0xab)]='browserstack-node-sdk';const _0xb370c3=_0x548f4a,_0x37903d=[],_0x208040=Object[_0x12ee8d(0x9e)](_0x4470f4);for(let _0x10c9b3=0x0;_0xb370c3[_0x12ee8d(0xc7)](_0x10c9b3,_0x208040[_0x12ee8d(0x7f)]);_0x10c9b3+=0x1){_0x208040[_0x10c9b3][0x1][_0x12ee8d(0xbf)](_0x1b72ea)&&!_0x208040[_0x10c9b3][0x1]['includes'](_0xb370c3[_0x12ee8d(0xab)])&&_0x37903d[_0x12ee8d(0xac)](_0x208040[_0x10c9b3][0x0]);}return _0x37903d;}function getUpdatedCommand(_0x5814d5,_0x1d6d1e){const _0x1a1fa5=a50_0x87c3ee,_0xff8fc0={};_0xff8fc0['axfKO']=function(_0x309edb,_0x567607){return _0x309edb!==_0x567607;},_0xff8fc0[_0x1a1fa5(0xa8)]=_0x1a1fa5(0x91),_0xff8fc0[_0x1a1fa5(0x93)]=function(_0x44225a,_0x568355){return _0x44225a===_0x568355;};const _0x3eda56=_0xff8fc0,_0x358eb5=_0x1d6d1e+_0x1a1fa5(0x9c),_0xc9a3a7=_0x5814d5[_0x1d6d1e],_0x33fac4=_0xc9a3a7[_0x1a1fa5(0xb9)]('\x20');for(const _0x5349b9 of frameworks){if(_0x3eda56[_0x1a1fa5(0xb5)](_0x33fac4[_0x1a1fa5(0xaa)](_0x5349b9),-0x1)){_0x33fac4[_0x1a1fa5(0x90)](_0x33fac4[_0x1a1fa5(0xaa)](_0x5349b9),0x0,_0x3eda56[_0x1a1fa5(0xa8)]);break;}}let _0x3c1028=_0x33fac4[_0x1a1fa5(0x9b)]('\x20');return _0x3eda56[_0x1a1fa5(0x93)](_0x3c1028,_0xc9a3a7)&&(_0x3c1028=_0x1a1fa5(0xaf)+_0xc9a3a7),[_0x358eb5,_0x3c1028];}function sdkSetup(){const _0x2b393e=a50_0x87c3ee,_0x5f5a2f={};_0x5f5a2f['tGXDd']=_0x2b393e(0xa9),_0x5f5a2f[_0x2b393e(0x9a)]=_0x2b393e(0xc0);const _0x3e9dd5=_0x5f5a2f;if(helper[_0x2b393e(0xc2)](config))return;config[_0x2b393e(0xc3)]=_0x3e9dd5['tGXDd'];try{utilities[_0x2b393e(0xbd)](_0x3e9dd5[_0x2b393e(0x9a)],{},config,'');}catch(_0x4aa08f){logger[_0x2b393e(0x96)]('Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20'+_0x4aa08f);}}logger[a50_0x87c3ee(0x98)](a50_0x87c3ee(0x92));function a50_0x1752(){const _0x598e43=['271044OHCIRJ','cwd','../helpers/logger','5495IeGOkK','xVpyt','tLYsm','\x20&&\x20npm\x20update\x20browserstack-node-sdk','stringify','935012SNSwZu','splice','browserstack-node-sdk','Setup\x20completed','MDeRc','Creating\x20configuration\x20file...','COtUB','debug','replace','info','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','CqbXr','join','-browserstack','scripts','entries','error','yargs','3036EMUSAi','DVqQn','playwright','../helpers/utilities','192ZXFcTy','../helpers/helper','10RNNVkU','CpBJt','node-setup','indexOf','HBmiF','push','596351FzUSgA','readFileSync','browserstack-node-sdk\x20','5261316GtHkTI','2yylgwC','writeFileSync','jest','arukJ','axfKO','EonoT','postinstall','ixxOH','split','parse','/../../browserstack.yml.sample','510ceAgiT','fireFunnelTestEvent','OyYim','includes','SDKSetup','dnFMD','isUndefined','source','winstonLogger','YOUR_USERNAME','149853UxKabB','oMeCX','length','argv','username','js-yaml','npm\x20update\x20browserstack-node-sdk','746949bHFEqJ','oswSH','key'];a50_0x1752=function(){return _0x598e43;};return a50_0x1752();}