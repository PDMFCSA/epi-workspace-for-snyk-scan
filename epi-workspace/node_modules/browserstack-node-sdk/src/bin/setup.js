#!/usr/bin/env node

const a50_0x4d18a4=a50_0x5d86;(function(_0x5934a9,_0x709439){const _0x592eb3=a50_0x5d86,_0xf65b6f=_0x5934a9();while(!![]){try{const _0x27d44a=parseInt(_0x592eb3(0x18e))/0x1+-parseInt(_0x592eb3(0x16c))/0x2+-parseInt(_0x592eb3(0x164))/0x3*(-parseInt(_0x592eb3(0x169))/0x4)+-parseInt(_0x592eb3(0x16b))/0x5*(parseInt(_0x592eb3(0x1a7))/0x6)+-parseInt(_0x592eb3(0x174))/0x7*(-parseInt(_0x592eb3(0x195))/0x8)+-parseInt(_0x592eb3(0x18d))/0x9+parseInt(_0x592eb3(0x177))/0xa*(parseInt(_0x592eb3(0x166))/0xb);if(_0x27d44a===_0x709439)break;else _0xf65b6f['push'](_0xf65b6f['shift']());}catch(_0x509237){_0xf65b6f['push'](_0xf65b6f['shift']());}}}(a50_0x10d2,0x66c7e));const fs=require('fs'),helper=require(a50_0x4d18a4(0x176)),utilities=require(a50_0x4d18a4(0x167)),yaml=require('js-yaml'),yargs=require('yargs'),logger=require(a50_0x4d18a4(0x188))['winstonLogger'],configFileTemplate=__dirname+a50_0x4d18a4(0x175),configFileTemplatePW=__dirname+a50_0x4d18a4(0x190),configFile=process[a50_0x4d18a4(0x183)]()+a50_0x4d18a4(0x19a),packageFile=process[a50_0x4d18a4(0x183)]()+a50_0x4d18a4(0x165),frameworks=[a50_0x4d18a4(0x163),a50_0x4d18a4(0x16a),'cucumber-js','node',a50_0x4d18a4(0x19d),a50_0x4d18a4(0x1a3),a50_0x4d18a4(0x181)];let config;logger[a50_0x4d18a4(0x19c)](a50_0x4d18a4(0x162)),createConfigurationFile(yargs[a50_0x4d18a4(0x1a1)]['username'],yargs[a50_0x4d18a4(0x1a1)][a50_0x4d18a4(0x179)],yargs['argv'][a50_0x4d18a4(0x181)]);try{sdkSetup();}catch(a50_0xf125aa){logger[a50_0x4d18a4(0x17e)](a50_0x4d18a4(0x1a2)+a50_0xf125aa);}addScriptInPackageJson();function a50_0x5d86(_0x5215e0,_0x40000a){const _0x10d23c=a50_0x10d2();return a50_0x5d86=function(_0x5d86d4,_0x25e5a2){_0x5d86d4=_0x5d86d4-0x162;let _0x52011d=_0x10d23c[_0x5d86d4];return _0x52011d;},a50_0x5d86(_0x5215e0,_0x40000a);}function createConfigurationFile(_0x4ea0b7,_0x144ab9,_0x2e3fe4=![]){const _0x2a1040=a50_0x4d18a4,_0xa6feb5={};_0xa6feb5[_0x2a1040(0x1a4)]=_0x2a1040(0x180),_0xa6feb5[_0x2a1040(0x185)]=_0x2a1040(0x1a5),_0xa6feb5['qNssP']=_0x2a1040(0x1a0);const _0x56525c=_0xa6feb5;try{let _0x440735=fs[_0x2a1040(0x192)](_0x2e3fe4?configFileTemplatePW:configFileTemplate,_0x56525c[_0x2a1040(0x1a4)]);_0x4ea0b7&&(_0x440735=_0x440735[_0x2a1040(0x19e)](_0x56525c['Pcpsy'],_0x4ea0b7)),_0x144ab9&&(_0x440735=_0x440735[_0x2a1040(0x19e)](_0x56525c['qNssP'],_0x144ab9)),config=yaml['load'](_0x440735),fs[_0x2a1040(0x186)](configFile,_0x440735,_0x461653=>{const _0x25a851=_0x2a1040;_0x461653&&logger[_0x25a851(0x17b)](_0x461653);});}catch(_0x5699d1){logger['error'](_0x5699d1);}}function addPostInstallScript(_0x3493b3,_0x33f160){const _0x234964=a50_0x4d18a4,_0x17ae57={};_0x17ae57[_0x234964(0x17c)]=_0x234964(0x18b),_0x17ae57['WTsHH']='npm\x20update\x20browserstack-node-sdk',_0x17ae57['ZFuLK']=_0x234964(0x17f);const _0x798611=_0x17ae57;let _0x551edc=_0x3493b3[_0x798611['OEpPD']];if(_0x551edc&&_0x551edc[_0x234964(0x194)](_0x798611['WTsHH']))return;!_0x551edc?_0x551edc=_0x798611[_0x234964(0x196)]:_0x551edc+=_0x798611['ZFuLK'],_0x33f160[_0x234964(0x16f)]([_0x798611['OEpPD'],_0x551edc]);}function addScriptInPackageJson(){const _0x12b59f=a50_0x4d18a4,_0x23ff64={'KCcbx':_0x12b59f(0x180),'iQUtG':function(_0x57c74e,_0x5f2cf0){return _0x57c74e<_0x5f2cf0;},'BWKDt':function(_0x54483e,_0x4cdabf,_0x334d9f){return _0x54483e(_0x4cdabf,_0x334d9f);},'DlmFh':function(_0x413fe8,_0x1fdd88,_0x583d1c){return _0x413fe8(_0x1fdd88,_0x583d1c);},'iyIHg':function(_0x5a1261,_0x416374,_0xcc04ea){return _0x5a1261(_0x416374,_0xcc04ea);},'qPViw':function(_0x259bff,_0xb010bc){return _0x259bff!==_0xb010bc;},'ZiXAe':_0x12b59f(0x16d)},_0x526d33=JSON[_0x12b59f(0x17a)](fs[_0x12b59f(0x192)](packageFile,_0x23ff64[_0x12b59f(0x168)])),_0x26ab9d=[];for(let _0x39484b=0x0;_0x23ff64[_0x12b59f(0x189)](_0x39484b,frameworks[_0x12b59f(0x16e)]);_0x39484b+=0x1){const _0x4a8c48=_0x23ff64[_0x12b59f(0x170)](findScriptsWithFramework,_0x526d33[_0x12b59f(0x1a6)],frameworks[_0x39484b]);for(let _0x321d66=0x0;_0x23ff64[_0x12b59f(0x189)](_0x321d66,_0x4a8c48[_0x12b59f(0x16e)]);_0x321d66+=0x1){_0x26ab9d[_0x12b59f(0x16f)](_0x23ff64[_0x12b59f(0x187)](getUpdatedCommand,_0x526d33[_0x12b59f(0x1a6)],_0x4a8c48[_0x321d66]));}_0x23ff64[_0x12b59f(0x173)](addPostInstallScript,_0x526d33['scripts'],_0x26ab9d);}const _0x568a2a={..._0x526d33[_0x12b59f(0x1a6)]},_0x5d4206=_0x568a2a;for(let _0x5c7bcb=0x0;_0x23ff64[_0x12b59f(0x189)](_0x5c7bcb,_0x26ab9d[_0x12b59f(0x16e)]);_0x5c7bcb+=0x1){_0x5d4206[_0x26ab9d[_0x5c7bcb][0x0]]=_0x26ab9d[_0x5c7bcb][0x1];}_0x23ff64[_0x12b59f(0x1a8)](JSON[_0x12b59f(0x19f)](_0x526d33['scripts']),JSON[_0x12b59f(0x19f)](_0x5d4206))&&(logger[_0x12b59f(0x19c)](_0x23ff64['ZiXAe']),_0x526d33[_0x12b59f(0x1a6)]=_0x5d4206,fs[_0x12b59f(0x186)](packageFile,JSON[_0x12b59f(0x19f)](_0x526d33,null,0x2),_0x4c5265=>{const _0x2a188a=_0x12b59f;_0x4c5265&&logger[_0x2a188a(0x17b)](_0x4c5265);}));};function findScriptsWithFramework(_0x340a94,_0x3fdd56){const _0x499cdc=a50_0x4d18a4,_0x49fa94={};_0x49fa94[_0x499cdc(0x193)]=function(_0x41da81,_0x162a66){return _0x41da81<_0x162a66;},_0x49fa94[_0x499cdc(0x191)]=_0x499cdc(0x19b);const _0x13fbe2=_0x49fa94,_0x292084=[],_0x1cbed8=Object[_0x499cdc(0x1ab)](_0x340a94);for(let _0x20ac2f=0x0;_0x13fbe2[_0x499cdc(0x193)](_0x20ac2f,_0x1cbed8[_0x499cdc(0x16e)]);_0x20ac2f+=0x1){_0x1cbed8[_0x20ac2f][0x1][_0x499cdc(0x194)](_0x3fdd56)&&!_0x1cbed8[_0x20ac2f][0x1][_0x499cdc(0x194)](_0x13fbe2[_0x499cdc(0x191)])&&_0x292084['push'](_0x1cbed8[_0x20ac2f][0x0]);}return _0x292084;}function getUpdatedCommand(_0x26759b,_0x38d1dc){const _0x4eb409=a50_0x4d18a4,_0x5055cc={};_0x5055cc[_0x4eb409(0x1a9)]=function(_0x5c24ca,_0x5804b2){return _0x5c24ca!==_0x5804b2;},_0x5055cc[_0x4eb409(0x198)]='browserstack-node-sdk',_0x5055cc[_0x4eb409(0x18a)]=function(_0x552e12,_0x211871){return _0x552e12===_0x211871;};const _0x4b6e10=_0x5055cc,_0x68a8df=_0x38d1dc+_0x4eb409(0x178),_0x19db77=_0x26759b[_0x38d1dc],_0x385eae=_0x19db77['split']('\x20');for(const _0x11ac44 of frameworks){if(_0x4b6e10[_0x4eb409(0x1a9)](_0x385eae[_0x4eb409(0x184)](_0x11ac44),-0x1)){_0x385eae[_0x4eb409(0x199)](_0x385eae[_0x4eb409(0x184)](_0x11ac44),0x0,_0x4b6e10[_0x4eb409(0x198)]);break;}}let _0x562256=_0x385eae[_0x4eb409(0x18c)]('\x20');return _0x4b6e10[_0x4eb409(0x18a)](_0x562256,_0x19db77)&&(_0x562256=_0x4eb409(0x182)+_0x19db77),[_0x68a8df,_0x562256];}function sdkSetup(){const _0x3b907d=a50_0x4d18a4,_0x369344={};_0x369344['aEbnk']=_0x3b907d(0x172),_0x369344[_0x3b907d(0x1aa)]=_0x3b907d(0x1ac);const _0x2c4e62=_0x369344;if(helper[_0x3b907d(0x17d)](config))return;config[_0x3b907d(0x197)]=_0x2c4e62[_0x3b907d(0x18f)];try{utilities['fireFunnelTestEvent'](_0x2c4e62['mhOGi'],{},config,'');}catch(_0x200eaa){logger[_0x3b907d(0x17e)](_0x3b907d(0x1a2)+_0x200eaa);}}logger[a50_0x4d18a4(0x19c)](a50_0x4d18a4(0x171));function a50_0x10d2(){const _0xcc9d1a=['source','haukO','splice','/browserstack.yml','browserstack-node-sdk','info','nightwatch','replace','stringify','YOUR_ACCESS_KEY','argv','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','codeceptjs','lPqKO','YOUR_USERNAME','scripts','498iVuVlv','qPViw','zxybz','mhOGi','entries','SDKSetup','Creating\x20configuration\x20file...','mocha','835041ihOpGe','/package.json','22giUaDg','../helpers/utilities','KCcbx','4ecUKUR','jest','33595pgCDFT','1047256xdiOGK','Adding\x20new\x20script(s)\x20in\x20package.json...','length','push','BWKDt','Setup\x20completed','node-setup','iyIHg','6895dCcJvU','/../../browserstack.yml.sample','../helpers/helper','2752030fwriSE','-browserstack','key','parse','error','OEpPD','isUndefined','debug','\x20&&\x20npm\x20update\x20browserstack-node-sdk','utf8','playwright','browserstack-node-sdk\x20','cwd','indexOf','Pcpsy','writeFileSync','DlmFh','../helpers/logger','iQUtG','zvPSJ','postinstall','join','1375155kGIWYY','397862OrjKxc','aEbnk','/../../browserstack.pw.yml.sample','DeyZa','readFileSync','BJNxa','includes','3480BRoHxC','WTsHH'];a50_0x10d2=function(){return _0xcc9d1a;};return a50_0x10d2();}