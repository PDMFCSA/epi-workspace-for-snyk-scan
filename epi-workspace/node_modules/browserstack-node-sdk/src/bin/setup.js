#!/usr/bin/env node

const a45_0x1292f8=a45_0x11a9;(function(_0x23294f,_0x56179a){const _0x362b6c=a45_0x11a9,_0x1f8fea=_0x23294f();while(!![]){try{const _0x3d96af=parseInt(_0x362b6c(0x1bb))/0x1+-parseInt(_0x362b6c(0x1c0))/0x2*(-parseInt(_0x362b6c(0x1d1))/0x3)+parseInt(_0x362b6c(0x1a9))/0x4*(-parseInt(_0x362b6c(0x193))/0x5)+parseInt(_0x362b6c(0x1d3))/0x6*(parseInt(_0x362b6c(0x1af))/0x7)+-parseInt(_0x362b6c(0x1b7))/0x8*(-parseInt(_0x362b6c(0x1c3))/0x9)+parseInt(_0x362b6c(0x1ad))/0xa+-parseInt(_0x362b6c(0x1ba))/0xb;if(_0x3d96af===_0x56179a)break;else _0x1f8fea['push'](_0x1f8fea['shift']());}catch(_0x395a55){_0x1f8fea['push'](_0x1f8fea['shift']());}}}(a45_0x5c5c,0x9d71a));const fs=require('fs'),helper=require(a45_0x1292f8(0x18a)),utilities=require(a45_0x1292f8(0x1c4)),yaml=require(a45_0x1292f8(0x1b2)),yargs=require(a45_0x1292f8(0x1ce)),logger=require(a45_0x1292f8(0x1a4))[a45_0x1292f8(0x1a7)],configFileTemplate=__dirname+'/../../browserstack.yml.sample',configFileTemplatePW=__dirname+a45_0x1292f8(0x1cf),configFile=process[a45_0x1292f8(0x1aa)]()+a45_0x1292f8(0x1b9),packageFile=process[a45_0x1292f8(0x1aa)]()+'/package.json',frameworks=[a45_0x1292f8(0x18c),a45_0x1292f8(0x195),a45_0x1292f8(0x1cb),a45_0x1292f8(0x1a3),a45_0x1292f8(0x18e),a45_0x1292f8(0x192),a45_0x1292f8(0x196)];let config;logger['info'](a45_0x1292f8(0x190)),createConfigurationFile(yargs[a45_0x1292f8(0x18d)]['username'],yargs[a45_0x1292f8(0x18d)][a45_0x1292f8(0x194)],yargs[a45_0x1292f8(0x18d)][a45_0x1292f8(0x196)]);try{sdkSetup();}catch(a45_0x5755b6){logger[a45_0x1292f8(0x1b3)](a45_0x1292f8(0x1d0)+a45_0x5755b6);}addScriptInPackageJson();function createConfigurationFile(_0x18d055,_0x47f18a,_0x32a3cd=![]){const _0x4a6284=a45_0x1292f8,_0xed446f={};_0xed446f[_0x4a6284(0x1b0)]='utf8',_0xed446f[_0x4a6284(0x19e)]='YOUR_USERNAME',_0xed446f[_0x4a6284(0x1bd)]='YOUR_ACCESS_KEY';const _0x3c0f19=_0xed446f;try{let _0x5279c7=fs[_0x4a6284(0x1ab)](_0x32a3cd?configFileTemplatePW:configFileTemplate,_0x3c0f19[_0x4a6284(0x1b0)]);_0x18d055&&(_0x5279c7=_0x5279c7[_0x4a6284(0x1b6)](_0x3c0f19['UFtxL'],_0x18d055)),_0x47f18a&&(_0x5279c7=_0x5279c7[_0x4a6284(0x1b6)](_0x3c0f19[_0x4a6284(0x1bd)],_0x47f18a)),config=yaml['load'](_0x5279c7),fs['writeFileSync'](configFile,_0x5279c7,_0x4e330c=>{_0x4e330c&&logger['error'](_0x4e330c);});}catch(_0x4e69c7){logger[_0x4a6284(0x19a)](_0x4e69c7);}}function a45_0x11a9(_0x24f79c,_0x5379a9){const _0x5c5cc5=a45_0x5c5c();return a45_0x11a9=function(_0x11a90e,_0x7d45a4){_0x11a90e=_0x11a90e-0x18a;let _0x3a2665=_0x5c5cc5[_0x11a90e];return _0x3a2665;},a45_0x11a9(_0x24f79c,_0x5379a9);}function addPostInstallScript(_0x376bd6,_0xf2a9a0){const _0x26bfb7=a45_0x1292f8,_0x19f3c4={};_0x19f3c4[_0x26bfb7(0x1b4)]=_0x26bfb7(0x1bf),_0x19f3c4['VnWTA']='npm\x20update\x20browserstack-node-sdk',_0x19f3c4[_0x26bfb7(0x1bc)]=_0x26bfb7(0x198);const _0x3fcf2d=_0x19f3c4;let _0x4a7542=_0x376bd6[_0x3fcf2d['HJlLd']];if(_0x4a7542&&_0x4a7542['includes'](_0x3fcf2d[_0x26bfb7(0x1c9)]))return;!_0x4a7542?_0x4a7542=_0x3fcf2d['VnWTA']:_0x4a7542+=_0x3fcf2d[_0x26bfb7(0x1bc)],_0xf2a9a0[_0x26bfb7(0x1cd)]([_0x3fcf2d['HJlLd'],_0x4a7542]);}function addScriptInPackageJson(){const _0x309888=a45_0x1292f8,_0xf2bf4d={'OQxXC':_0x309888(0x199),'UYcjD':function(_0x526d2c,_0x2a63ec){return _0x526d2c<_0x2a63ec;},'XZelc':function(_0x40df8c,_0x554eec,_0x2c53b2){return _0x40df8c(_0x554eec,_0x2c53b2);},'TlzbZ':function(_0x6500f4,_0x4cbc06){return _0x6500f4<_0x4cbc06;},'HoCBC':function(_0x50c61d,_0x2e01cc){return _0x50c61d<_0x2e01cc;},'jqplr':function(_0x142af8,_0x5bf90a){return _0x142af8!==_0x5bf90a;},'nebLH':_0x309888(0x18b)},_0x3575f8=JSON['parse'](fs[_0x309888(0x1ab)](packageFile,_0xf2bf4d[_0x309888(0x1ac)])),_0x4fa917=[];for(let _0x381d48=0x0;_0xf2bf4d[_0x309888(0x1ca)](_0x381d48,frameworks['length']);_0x381d48+=0x1){const _0x2d6496=_0xf2bf4d[_0x309888(0x191)](findScriptsWithFramework,_0x3575f8[_0x309888(0x1b1)],frameworks[_0x381d48]);for(let _0x4deaee=0x0;_0xf2bf4d['TlzbZ'](_0x4deaee,_0x2d6496[_0x309888(0x1cc)]);_0x4deaee+=0x1){_0x4fa917[_0x309888(0x1cd)](_0xf2bf4d[_0x309888(0x191)](getUpdatedCommand,_0x3575f8[_0x309888(0x1b1)],_0x2d6496[_0x4deaee]));}_0xf2bf4d[_0x309888(0x191)](addPostInstallScript,_0x3575f8[_0x309888(0x1b1)],_0x4fa917);}const _0x3be357={..._0x3575f8[_0x309888(0x1b1)]},_0x22a6bf=_0x3be357;for(let _0xe31cbc=0x0;_0xf2bf4d[_0x309888(0x18f)](_0xe31cbc,_0x4fa917[_0x309888(0x1cc)]);_0xe31cbc+=0x1){_0x22a6bf[_0x4fa917[_0xe31cbc][0x0]]=_0x4fa917[_0xe31cbc][0x1];}_0xf2bf4d['jqplr'](JSON['stringify'](_0x3575f8[_0x309888(0x1b1)]),JSON[_0x309888(0x1b5)](_0x22a6bf))&&(logger['info'](_0xf2bf4d[_0x309888(0x1d4)]),_0x3575f8[_0x309888(0x1b1)]=_0x22a6bf,fs[_0x309888(0x1ae)](packageFile,JSON[_0x309888(0x1b5)](_0x3575f8,null,0x2),_0x59bd08=>{const _0x3d8d0d=_0x309888;_0x59bd08&&logger[_0x3d8d0d(0x19a)](_0x59bd08);}));};function a45_0x5c5c(){const _0x1a2e34=['stringify','replace','27592uRxkAg','indexOf','/browserstack.yml','27568959REEViQ','591378MxobpG','TmEHe','cHORy','EELGo','postinstall','8LRupXw','PFeUK','ewPpD','2367JQyhdT','../helpers/utilities','info','entries','-browserstack','xGODe','VnWTA','UYcjD','cucumber-js','length','push','yargs','/../../browserstack.pw.yml.sample','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','42873aFQyxZ','HdzJp','798108yQNlGO','nebLH','../helpers/helper','Adding\x20new\x20script(s)\x20in\x20package.json...','mocha','argv','nightwatch','HoCBC','Creating\x20configuration\x20file...','XZelc','codeceptjs','896225EouUmp','key','jest','playwright','CZrsW','\x20&&\x20npm\x20update\x20browserstack-node-sdk','utf8','error','fireFunnelTestEvent','browserstack-node-sdk','browserstack-node-sdk\x20','UFtxL','Setup\x20completed','dWckr','split','isUndefined','node','../helpers/logger','splice','node-setup','winstonLogger','includes','4CggkZN','cwd','readFileSync','OQxXC','12427030ssKGkQ','writeFileSync','28XnErTF','zWSBG','scripts','js-yaml','debug','HJlLd'];a45_0x5c5c=function(){return _0x1a2e34;};return a45_0x5c5c();}function findScriptsWithFramework(_0x3cd827,_0x113327){const _0x34d060=a45_0x1292f8,_0x3f5270={};_0x3f5270[_0x34d060(0x1c2)]=function(_0x3af7ec,_0x5d52cf){return _0x3af7ec<_0x5d52cf;},_0x3f5270['HdzJp']='browserstack-node-sdk';const _0x522232=_0x3f5270,_0x5b617e=[],_0x50c93d=Object[_0x34d060(0x1c6)](_0x3cd827);for(let _0x3ea1bb=0x0;_0x522232[_0x34d060(0x1c2)](_0x3ea1bb,_0x50c93d[_0x34d060(0x1cc)]);_0x3ea1bb+=0x1){_0x50c93d[_0x3ea1bb][0x1][_0x34d060(0x1a8)](_0x113327)&&!_0x50c93d[_0x3ea1bb][0x1]['includes'](_0x522232[_0x34d060(0x1d2)])&&_0x5b617e[_0x34d060(0x1cd)](_0x50c93d[_0x3ea1bb][0x0]);}return _0x5b617e;}function getUpdatedCommand(_0x5479bc,_0x1a04a7){const _0x1fa13d=a45_0x1292f8,_0x583019={};_0x583019[_0x1fa13d(0x197)]=function(_0x4c8453,_0x1315d9){return _0x4c8453!==_0x1315d9;},_0x583019['PFeUK']=_0x1fa13d(0x19c),_0x583019[_0x1fa13d(0x1a0)]=function(_0x330e1b,_0x59ec5d){return _0x330e1b===_0x59ec5d;};const _0x12d1e6=_0x583019,_0x154c1d=_0x1a04a7+_0x1fa13d(0x1c7),_0x251cf5=_0x5479bc[_0x1a04a7],_0x4bb200=_0x251cf5[_0x1fa13d(0x1a1)]('\x20');for(const _0x20c921 of frameworks){if(_0x12d1e6['CZrsW'](_0x4bb200[_0x1fa13d(0x1b8)](_0x20c921),-0x1)){_0x4bb200[_0x1fa13d(0x1a5)](_0x4bb200[_0x1fa13d(0x1b8)](_0x20c921),0x0,_0x12d1e6[_0x1fa13d(0x1c1)]);break;}}let _0x5ebce6=_0x4bb200['join']('\x20');return _0x12d1e6[_0x1fa13d(0x1a0)](_0x5ebce6,_0x251cf5)&&(_0x5ebce6=_0x1fa13d(0x19d)+_0x251cf5),[_0x154c1d,_0x5ebce6];}function sdkSetup(){const _0x547d61=a45_0x1292f8,_0xe8d7cc={};_0xe8d7cc[_0x547d61(0x1be)]=_0x547d61(0x1a6),_0xe8d7cc[_0x547d61(0x1c8)]='SDKSetup';const _0x7aaf88=_0xe8d7cc;if(helper[_0x547d61(0x1a2)](config))return;config['source']=_0x7aaf88[_0x547d61(0x1be)];try{utilities[_0x547d61(0x19b)](_0x7aaf88[_0x547d61(0x1c8)],{},config,'');}catch(_0x6fa77b){logger[_0x547d61(0x1b3)](_0x547d61(0x1d0)+_0x6fa77b);}}logger[a45_0x1292f8(0x1c5)](a45_0x1292f8(0x19f));