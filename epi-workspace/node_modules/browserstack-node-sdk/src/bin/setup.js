#!/usr/bin/env node

const a50_0x2c0b2e=a50_0x52c9;(function(_0x566127,_0x4e4f33){const _0x53ef3f=a50_0x52c9,_0x1b7443=_0x566127();while(!![]){try{const _0x571ccc=-parseInt(_0x53ef3f(0x1ca))/0x1+parseInt(_0x53ef3f(0x1ef))/0x2*(-parseInt(_0x53ef3f(0x207))/0x3)+-parseInt(_0x53ef3f(0x1d2))/0x4*(-parseInt(_0x53ef3f(0x1e3))/0x5)+parseInt(_0x53ef3f(0x1fe))/0x6+-parseInt(_0x53ef3f(0x1dc))/0x7*(parseInt(_0x53ef3f(0x1db))/0x8)+-parseInt(_0x53ef3f(0x1c7))/0x9+parseInt(_0x53ef3f(0x1ec))/0xa*(parseInt(_0x53ef3f(0x1fd))/0xb);if(_0x571ccc===_0x4e4f33)break;else _0x1b7443['push'](_0x1b7443['shift']());}catch(_0x355861){_0x1b7443['push'](_0x1b7443['shift']());}}}(a50_0x23b2,0xa0619));const fs=require('fs'),helper=require(a50_0x2c0b2e(0x1c5)),utilities=require(a50_0x2c0b2e(0x1e0)),yaml=require(a50_0x2c0b2e(0x1da)),yargs=require('yargs'),logger=require(a50_0x2c0b2e(0x1de))[a50_0x2c0b2e(0x1e9)],configFileTemplate=__dirname+a50_0x2c0b2e(0x1c3),configFileTemplatePW=__dirname+'/../../browserstack.pw.yml.sample',configFile=process['cwd']()+a50_0x2c0b2e(0x1f0),packageFile=process[a50_0x2c0b2e(0x1d8)]()+a50_0x2c0b2e(0x201),frameworks=[a50_0x2c0b2e(0x1ed),a50_0x2c0b2e(0x1f6),a50_0x2c0b2e(0x20c),a50_0x2c0b2e(0x1fb),a50_0x2c0b2e(0x1ff),a50_0x2c0b2e(0x1cd),a50_0x2c0b2e(0x1f5)];let config;logger[a50_0x2c0b2e(0x1c8)](a50_0x2c0b2e(0x1d1)),createConfigurationFile(yargs['argv'][a50_0x2c0b2e(0x1f7)],yargs[a50_0x2c0b2e(0x1d0)][a50_0x2c0b2e(0x1d5)],yargs[a50_0x2c0b2e(0x1d0)][a50_0x2c0b2e(0x1f5)]);function a50_0x23b2(){const _0x58706e=['fireFunnelTestEvent','source','postinstall','scripts','/../../browserstack.yml.sample','Adding\x20new\x20script(s)\x20in\x20package.json...','../helpers/helper','utf8','3114846xqoCdh','info','replace','141722QNBtUj','stringify','YOUR_USERNAME','codeceptjs','YQyZJ','error','argv','Creating\x20configuration\x20file...','1591372gyphog','-browserstack','length','key','pFcVR','SDKSetup','cwd','indexOf','js-yaml','8IYtfNa','368277jiMHtv','join','../helpers/logger','AtOMO','../helpers/utilities','HdCiQ','\x20&&\x20npm\x20update\x20browserstack-node-sdk','5pNhQBu','browserstack-node-sdk','yyGrj','split','browserstack-node-sdk\x20','VrZZD','winstonLogger','wNyqB','writeFileSync','153480xsCCPJ','mocha','debug','338qCZkaY','/browserstack.yml','bDmSq','UKnWq','dismQ','node-setup','playwright','jest','username','fLgAL','Setup\x20completed','yehuU','node','Opydp','1122iWXCZA','375696sEliTC','nightwatch','entries','/package.json','readFileSync','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','ffFXy','IjpdY','Tdgsl','14709RiWTDO','JLYdb','push','Vgyox','njXNe','cucumber-js','includes'];a50_0x23b2=function(){return _0x58706e;};return a50_0x23b2();}try{sdkSetup();}catch(a50_0x1485ad){logger[a50_0x2c0b2e(0x1ee)](a50_0x2c0b2e(0x203)+a50_0x1485ad);}addScriptInPackageJson();function createConfigurationFile(_0x5415c6,_0x137a25,_0x3ad409=![]){const _0x6b1252=a50_0x2c0b2e,_0x5d4c65={};_0x5d4c65[_0x6b1252(0x1fa)]=_0x6b1252(0x1c6),_0x5d4c65['VrZZD']=_0x6b1252(0x1cc),_0x5d4c65[_0x6b1252(0x1f2)]='YOUR_ACCESS_KEY';const _0x393379=_0x5d4c65;try{let _0x2db63d=fs[_0x6b1252(0x202)](_0x3ad409?configFileTemplatePW:configFileTemplate,_0x393379['yehuU']);_0x5415c6&&(_0x2db63d=_0x2db63d['replace'](_0x393379[_0x6b1252(0x1e8)],_0x5415c6)),_0x137a25&&(_0x2db63d=_0x2db63d[_0x6b1252(0x1c9)](_0x393379[_0x6b1252(0x1f2)],_0x137a25)),config=yaml['load'](_0x2db63d),fs[_0x6b1252(0x1eb)](configFile,_0x2db63d,_0x1606ad=>{_0x1606ad&&logger['error'](_0x1606ad);});}catch(_0x2c58b6){logger[_0x6b1252(0x1cf)](_0x2c58b6);}}function a50_0x52c9(_0x2552a4,_0x558f3c){const _0x23b2b3=a50_0x23b2();return a50_0x52c9=function(_0x52c9c7,_0x4ab251){_0x52c9c7=_0x52c9c7-0x1c1;let _0x5057db=_0x23b2b3[_0x52c9c7];return _0x5057db;},a50_0x52c9(_0x2552a4,_0x558f3c);}function addPostInstallScript(_0x59bd62,_0x3eeafe){const _0x4b3d3e=a50_0x2c0b2e,_0x42175f={};_0x42175f[_0x4b3d3e(0x1f3)]=_0x4b3d3e(0x1c1),_0x42175f[_0x4b3d3e(0x208)]='npm\x20update\x20browserstack-node-sdk',_0x42175f['NnehH']=_0x4b3d3e(0x1e2);const _0x12996d=_0x42175f;let _0x1d59d3=_0x59bd62[_0x12996d['dismQ']];if(_0x1d59d3&&_0x1d59d3[_0x4b3d3e(0x20d)](_0x12996d[_0x4b3d3e(0x208)]))return;!_0x1d59d3?_0x1d59d3=_0x12996d['JLYdb']:_0x1d59d3+=_0x12996d['NnehH'],_0x3eeafe[_0x4b3d3e(0x209)]([_0x12996d[_0x4b3d3e(0x1f3)],_0x1d59d3]);}function addScriptInPackageJson(){const _0x2e5cba=a50_0x2c0b2e,_0x513738={'ffFXy':'utf8','njXNe':function(_0x48d45f,_0x20e38d){return _0x48d45f<_0x20e38d;},'HdCiQ':function(_0x5d6207,_0x545323,_0x3d24d4){return _0x5d6207(_0x545323,_0x3d24d4);},'Opydp':function(_0x5e51f3,_0x27007a,_0x4fd5db){return _0x5e51f3(_0x27007a,_0x4fd5db);},'AtOMO':function(_0x436a91,_0x525e16){return _0x436a91<_0x525e16;},'Vgyox':function(_0x448aa2,_0x2e78c7){return _0x448aa2!==_0x2e78c7;},'bDmSq':_0x2e5cba(0x1c4)},_0x4ff416=JSON['parse'](fs[_0x2e5cba(0x202)](packageFile,_0x513738[_0x2e5cba(0x204)])),_0x2ab28d=[];for(let _0x3c28f5=0x0;_0x513738['njXNe'](_0x3c28f5,frameworks[_0x2e5cba(0x1d4)]);_0x3c28f5+=0x1){const _0xbd271f=_0x513738[_0x2e5cba(0x1e1)](findScriptsWithFramework,_0x4ff416[_0x2e5cba(0x1c2)],frameworks[_0x3c28f5]);for(let _0x26b364=0x0;_0x513738[_0x2e5cba(0x20b)](_0x26b364,_0xbd271f[_0x2e5cba(0x1d4)]);_0x26b364+=0x1){_0x2ab28d[_0x2e5cba(0x209)](_0x513738[_0x2e5cba(0x1fc)](getUpdatedCommand,_0x4ff416[_0x2e5cba(0x1c2)],_0xbd271f[_0x26b364]));}_0x513738[_0x2e5cba(0x1fc)](addPostInstallScript,_0x4ff416[_0x2e5cba(0x1c2)],_0x2ab28d);}const _0xf37677={..._0x4ff416['scripts']},_0x279989=_0xf37677;for(let _0x4f24fe=0x0;_0x513738[_0x2e5cba(0x1df)](_0x4f24fe,_0x2ab28d[_0x2e5cba(0x1d4)]);_0x4f24fe+=0x1){_0x279989[_0x2ab28d[_0x4f24fe][0x0]]=_0x2ab28d[_0x4f24fe][0x1];}_0x513738[_0x2e5cba(0x20a)](JSON[_0x2e5cba(0x1cb)](_0x4ff416[_0x2e5cba(0x1c2)]),JSON[_0x2e5cba(0x1cb)](_0x279989))&&(logger[_0x2e5cba(0x1c8)](_0x513738[_0x2e5cba(0x1f1)]),_0x4ff416[_0x2e5cba(0x1c2)]=_0x279989,fs[_0x2e5cba(0x1eb)](packageFile,JSON[_0x2e5cba(0x1cb)](_0x4ff416,null,0x2),_0x5d3335=>{const _0x5f0bf0=_0x2e5cba;_0x5d3335&&logger[_0x5f0bf0(0x1cf)](_0x5d3335);}));};function findScriptsWithFramework(_0x534908,_0x5bbd1f){const _0x44c47a=a50_0x2c0b2e,_0x251bd0={};_0x251bd0[_0x44c47a(0x206)]=function(_0x5824c3,_0x48604f){return _0x5824c3<_0x48604f;},_0x251bd0[_0x44c47a(0x1ea)]=_0x44c47a(0x1e4);const _0x335ffe=_0x251bd0,_0x24b0ad=[],_0x43d080=Object[_0x44c47a(0x200)](_0x534908);for(let _0x3d5be9=0x0;_0x335ffe['Tdgsl'](_0x3d5be9,_0x43d080[_0x44c47a(0x1d4)]);_0x3d5be9+=0x1){_0x43d080[_0x3d5be9][0x1][_0x44c47a(0x20d)](_0x5bbd1f)&&!_0x43d080[_0x3d5be9][0x1][_0x44c47a(0x20d)](_0x335ffe[_0x44c47a(0x1ea)])&&_0x24b0ad['push'](_0x43d080[_0x3d5be9][0x0]);}return _0x24b0ad;}function getUpdatedCommand(_0x2f0eaa,_0x997f7a){const _0x1f176a=a50_0x2c0b2e,_0x262bf5={};_0x262bf5[_0x1f176a(0x1d6)]=function(_0x5178f8,_0x221ae7){return _0x5178f8!==_0x221ae7;},_0x262bf5[_0x1f176a(0x1ce)]='browserstack-node-sdk',_0x262bf5[_0x1f176a(0x205)]=function(_0xae5017,_0x533a37){return _0xae5017===_0x533a37;};const _0x281b58=_0x262bf5,_0x5d0cca=_0x997f7a+_0x1f176a(0x1d3),_0x735a07=_0x2f0eaa[_0x997f7a],_0x555f5b=_0x735a07[_0x1f176a(0x1e6)]('\x20');for(const _0x2b8347 of frameworks){if(_0x281b58[_0x1f176a(0x1d6)](_0x555f5b[_0x1f176a(0x1d9)](_0x2b8347),-0x1)){_0x555f5b['splice'](_0x555f5b['indexOf'](_0x2b8347),0x0,_0x281b58['YQyZJ']);break;}}let _0x1fef49=_0x555f5b[_0x1f176a(0x1dd)]('\x20');return _0x281b58['IjpdY'](_0x1fef49,_0x735a07)&&(_0x1fef49=_0x1f176a(0x1e7)+_0x735a07),[_0x5d0cca,_0x1fef49];}function sdkSetup(){const _0x557b59=a50_0x2c0b2e,_0x546c9b={};_0x546c9b[_0x557b59(0x1f8)]=_0x557b59(0x1f4),_0x546c9b[_0x557b59(0x1e5)]=_0x557b59(0x1d7);const _0xb637d1=_0x546c9b;if(helper['isUndefined'](config))return;config[_0x557b59(0x20f)]=_0xb637d1[_0x557b59(0x1f8)];try{utilities[_0x557b59(0x20e)](_0xb637d1[_0x557b59(0x1e5)],{},config,'');}catch(_0x436823){logger[_0x557b59(0x1ee)](_0x557b59(0x203)+_0x436823);}}logger[a50_0x2c0b2e(0x1c8)](a50_0x2c0b2e(0x1f9));