#!/usr/bin/env node

const a45_0x549bea=a45_0x505c;function a45_0x2bcd(){const _0x233a8b=['load','push','Creating\x20configuration\x20file...','752272qtjdqm','ciIHN','MuiDL','stringify','cucumber-js','node-setup','qojjd','npm\x20update\x20browserstack-node-sdk','utf8','1125iFoAkP','fireFunnelTestEvent','6ugnrJq','parse','codeceptjs','jest','../helpers/utilities','indexOf','npMIi','197609rUqaac','eGElC','info','isUndefined','YOUR_ACCESS_KEY','error','winstonLogger','mHzlr','scripts','cwd','length','browserstack-node-sdk','/../../browserstack.yml.sample','oIZZN','390455GRISBq','32459ieAGIj','ukVEm','724732LQfyjE','YOUR_USERNAME','mocha','/package.json','ofmPE','JyaGW','MGOFH','node','key','writeFileSync','WElFx','PKcHe','split','/../../browserstack.pw.yml.sample','492VjUPEt','nightwatch','iblWi','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','FImnR','argv','replace','postinstall','debug','entries','../helpers/helper','playwright','SDKSetup','/browserstack.yml','Setup\x20completed','43670yPyIYo','includes','2410408ZIEFNA','join','readFileSync'];a45_0x2bcd=function(){return _0x233a8b;};return a45_0x2bcd();}(function(_0x4ac99d,_0x44d810){const _0x55173a=a45_0x505c,_0x42c59f=_0x4ac99d();while(!![]){try{const _0x37f525=parseInt(_0x55173a(0x172))/0x1+parseInt(_0x55173a(0x160))/0x2+parseInt(_0x55173a(0x16b))/0x3*(parseInt(_0x55173a(0x183))/0x4)+-parseInt(_0x55173a(0x180))/0x5+-parseInt(_0x55173a(0x149))/0x6*(-parseInt(_0x55173a(0x181))/0x7)+-parseInt(_0x55173a(0x15a))/0x8+-parseInt(_0x55173a(0x169))/0x9*(parseInt(_0x55173a(0x158))/0xa);if(_0x37f525===_0x44d810)break;else _0x42c59f['push'](_0x42c59f['shift']());}catch(_0x1e0634){_0x42c59f['push'](_0x42c59f['shift']());}}}(a45_0x2bcd,0x5f7a6));const fs=require('fs'),helper=require(a45_0x549bea(0x153)),utilities=require(a45_0x549bea(0x16f)),yaml=require('js-yaml'),yargs=require('yargs'),logger=require('../helpers/logger')[a45_0x549bea(0x178)],configFileTemplate=__dirname+a45_0x549bea(0x17e),configFileTemplatePW=__dirname+a45_0x549bea(0x148),configFile=process['cwd']()+a45_0x549bea(0x156),packageFile=process[a45_0x549bea(0x17b)]()+a45_0x549bea(0x13e),frameworks=[a45_0x549bea(0x13d),a45_0x549bea(0x16e),a45_0x549bea(0x164),a45_0x549bea(0x142),a45_0x549bea(0x14a),a45_0x549bea(0x16d),a45_0x549bea(0x154)];let config;logger[a45_0x549bea(0x174)](a45_0x549bea(0x15f)),createConfigurationFile(yargs['argv']['username'],yargs[a45_0x549bea(0x14e)][a45_0x549bea(0x143)],yargs[a45_0x549bea(0x14e)][a45_0x549bea(0x154)]);try{sdkSetup();}catch(a45_0xefd676){logger[a45_0x549bea(0x151)]('Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20'+a45_0xefd676);}addScriptInPackageJson();function createConfigurationFile(_0x1c4b95,_0x54ddca,_0x2cf6a8=![]){const _0x423ad7=a45_0x549bea,_0x17a9a1={};_0x17a9a1['qojjd']=_0x423ad7(0x168),_0x17a9a1[_0x423ad7(0x145)]=_0x423ad7(0x184),_0x17a9a1[_0x423ad7(0x173)]=_0x423ad7(0x176);const _0x18b090=_0x17a9a1;try{let _0x11199e=fs[_0x423ad7(0x15c)](_0x2cf6a8?configFileTemplatePW:configFileTemplate,_0x18b090[_0x423ad7(0x166)]);_0x1c4b95&&(_0x11199e=_0x11199e[_0x423ad7(0x14f)](_0x18b090[_0x423ad7(0x145)],_0x1c4b95)),_0x54ddca&&(_0x11199e=_0x11199e[_0x423ad7(0x14f)](_0x18b090[_0x423ad7(0x173)],_0x54ddca)),config=yaml[_0x423ad7(0x15d)](_0x11199e),fs[_0x423ad7(0x144)](configFile,_0x11199e,_0x112382=>{const _0x37ba58=_0x423ad7;_0x112382&&logger[_0x37ba58(0x177)](_0x112382);});}catch(_0x118472){logger[_0x423ad7(0x177)](_0x118472);}}function addPostInstallScript(_0x3938c0,_0x374bc6){const _0x6470aa=a45_0x549bea,_0x1878d0={};_0x1878d0[_0x6470aa(0x13f)]=_0x6470aa(0x150),_0x1878d0[_0x6470aa(0x179)]=_0x6470aa(0x167),_0x1878d0[_0x6470aa(0x140)]='\x20&&\x20npm\x20update\x20browserstack-node-sdk';const _0x12bc06=_0x1878d0;let _0x139f69=_0x3938c0[_0x12bc06[_0x6470aa(0x13f)]];if(_0x139f69&&_0x139f69[_0x6470aa(0x159)](_0x12bc06[_0x6470aa(0x179)]))return;!_0x139f69?_0x139f69=_0x12bc06[_0x6470aa(0x179)]:_0x139f69+=_0x12bc06[_0x6470aa(0x140)],_0x374bc6[_0x6470aa(0x15e)]([_0x12bc06['ofmPE'],_0x139f69]);}function a45_0x505c(_0x4e5fa2,_0x2e513f){const _0x2bcd13=a45_0x2bcd();return a45_0x505c=function(_0x505cf8,_0x28490c){_0x505cf8=_0x505cf8-0x13d;let _0x5030c2=_0x2bcd13[_0x505cf8];return _0x5030c2;},a45_0x505c(_0x4e5fa2,_0x2e513f);}function addScriptInPackageJson(){const _0x475cd2=a45_0x549bea,_0x3958b4={'ciIHN':_0x475cd2(0x168),'VjVdw':function(_0x17394d,_0x1b7500){return _0x17394d<_0x1b7500;},'qIzCJ':function(_0x57e5f5,_0x3f2216,_0x3214df){return _0x57e5f5(_0x3f2216,_0x3214df);},'oIZZN':function(_0x176270,_0x3b5749){return _0x176270<_0x3b5749;},'iblWi':function(_0x4feaa1,_0x2a56da,_0x1e27fa){return _0x4feaa1(_0x2a56da,_0x1e27fa);},'DZDyq':function(_0x498187,_0x295ec7){return _0x498187<_0x295ec7;},'YMXnY':function(_0x5e1413,_0x55e1d5){return _0x5e1413!==_0x55e1d5;},'FImnR':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x274447=JSON[_0x475cd2(0x16c)](fs[_0x475cd2(0x15c)](packageFile,_0x3958b4[_0x475cd2(0x161)])),_0x5258e7=[];for(let _0x3f644f=0x0;_0x3958b4['VjVdw'](_0x3f644f,frameworks[_0x475cd2(0x17c)]);_0x3f644f+=0x1){const _0x1c3eee=_0x3958b4['qIzCJ'](findScriptsWithFramework,_0x274447[_0x475cd2(0x17a)],frameworks[_0x3f644f]);for(let _0x1ca68c=0x0;_0x3958b4[_0x475cd2(0x17f)](_0x1ca68c,_0x1c3eee[_0x475cd2(0x17c)]);_0x1ca68c+=0x1){_0x5258e7['push'](_0x3958b4['qIzCJ'](getUpdatedCommand,_0x274447['scripts'],_0x1c3eee[_0x1ca68c]));}_0x3958b4[_0x475cd2(0x14b)](addPostInstallScript,_0x274447[_0x475cd2(0x17a)],_0x5258e7);}const _0x2a8212={..._0x274447[_0x475cd2(0x17a)]},_0x221daf=_0x2a8212;for(let _0x55ea27=0x0;_0x3958b4['DZDyq'](_0x55ea27,_0x5258e7[_0x475cd2(0x17c)]);_0x55ea27+=0x1){_0x221daf[_0x5258e7[_0x55ea27][0x0]]=_0x5258e7[_0x55ea27][0x1];}_0x3958b4['YMXnY'](JSON[_0x475cd2(0x163)](_0x274447[_0x475cd2(0x17a)]),JSON['stringify'](_0x221daf))&&(logger[_0x475cd2(0x174)](_0x3958b4[_0x475cd2(0x14d)]),_0x274447[_0x475cd2(0x17a)]=_0x221daf,fs[_0x475cd2(0x144)](packageFile,JSON[_0x475cd2(0x163)](_0x274447,null,0x2),_0x3f16e7=>{const _0x50619f=_0x475cd2;_0x3f16e7&&logger[_0x50619f(0x177)](_0x3f16e7);}));};function findScriptsWithFramework(_0xaef48c,_0x7f7034){const _0x598c1c=a45_0x549bea,_0x3886bb={};_0x3886bb['MGOFH']=function(_0x40e6c2,_0x2a2fe6){return _0x40e6c2<_0x2a2fe6;},_0x3886bb[_0x598c1c(0x146)]='browserstack-node-sdk';const _0x4853e5=_0x3886bb,_0x5f08f0=[],_0x402fe4=Object[_0x598c1c(0x152)](_0xaef48c);for(let _0x55d702=0x0;_0x4853e5[_0x598c1c(0x141)](_0x55d702,_0x402fe4[_0x598c1c(0x17c)]);_0x55d702+=0x1){_0x402fe4[_0x55d702][0x1][_0x598c1c(0x159)](_0x7f7034)&&!_0x402fe4[_0x55d702][0x1][_0x598c1c(0x159)](_0x4853e5[_0x598c1c(0x146)])&&_0x5f08f0[_0x598c1c(0x15e)](_0x402fe4[_0x55d702][0x0]);}return _0x5f08f0;}function getUpdatedCommand(_0x49db31,_0x4e5759){const _0x54e44d=a45_0x549bea,_0x42b83e={};_0x42b83e['MuiDL']=function(_0x54f22f,_0x56bd32){return _0x54f22f!==_0x56bd32;},_0x42b83e['SOErJ']=_0x54e44d(0x17d),_0x42b83e[_0x54e44d(0x182)]=function(_0x51fc4d,_0x48e106){return _0x51fc4d===_0x48e106;};const _0x803de5=_0x42b83e,_0x2a852e=_0x4e5759+'-browserstack',_0x372179=_0x49db31[_0x4e5759],_0x31b0c1=_0x372179[_0x54e44d(0x147)]('\x20');for(const _0xaaa583 of frameworks){if(_0x803de5[_0x54e44d(0x162)](_0x31b0c1[_0x54e44d(0x170)](_0xaaa583),-0x1)){_0x31b0c1['splice'](_0x31b0c1['indexOf'](_0xaaa583),0x0,_0x803de5['SOErJ']);break;}}let _0x3b0044=_0x31b0c1[_0x54e44d(0x15b)]('\x20');return _0x803de5[_0x54e44d(0x182)](_0x3b0044,_0x372179)&&(_0x3b0044='browserstack-node-sdk\x20'+_0x372179),[_0x2a852e,_0x3b0044];}function sdkSetup(){const _0x5a63e4=a45_0x549bea,_0x2542f3={};_0x2542f3['PpwfN']=_0x5a63e4(0x165),_0x2542f3[_0x5a63e4(0x171)]=_0x5a63e4(0x155);const _0x1c7fb0=_0x2542f3;if(helper[_0x5a63e4(0x175)](config))return;config['source']=_0x1c7fb0['PpwfN'];try{utilities[_0x5a63e4(0x16a)](_0x1c7fb0['npMIi'],{},config,'');}catch(_0x3cebcc){logger[_0x5a63e4(0x151)](_0x5a63e4(0x14c)+_0x3cebcc);}}logger[a45_0x549bea(0x174)](a45_0x549bea(0x157));