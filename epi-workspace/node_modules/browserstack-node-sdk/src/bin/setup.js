#!/usr/bin/env node

const a48_0x518be8=a48_0x3bd8;function a48_0x3bd8(_0x177631,_0x14fa1f){const _0x384f9d=a48_0x384f();return a48_0x3bd8=function(_0x3bd86a,_0x40448f){_0x3bd86a=_0x3bd86a-0xf3;let _0x3fe14c=_0x384f9d[_0x3bd86a];return _0x3fe14c;},a48_0x3bd8(_0x177631,_0x14fa1f);}(function(_0x3128eb,_0x119cbe){const _0x396ac3=a48_0x3bd8,_0x3e2803=_0x3128eb();while(!![]){try{const _0x29488b=parseInt(_0x396ac3(0x124))/0x1+-parseInt(_0x396ac3(0x136))/0x2+-parseInt(_0x396ac3(0x11b))/0x3+-parseInt(_0x396ac3(0x10c))/0x4+parseInt(_0x396ac3(0x116))/0x5+-parseInt(_0x396ac3(0x10b))/0x6*(parseInt(_0x396ac3(0x114))/0x7)+parseInt(_0x396ac3(0x108))/0x8;if(_0x29488b===_0x119cbe)break;else _0x3e2803['push'](_0x3e2803['shift']());}catch(_0x317776){_0x3e2803['push'](_0x3e2803['shift']());}}}(a48_0x384f,0x26264));const fs=require('fs'),helper=require(a48_0x518be8(0x100)),utilities=require(a48_0x518be8(0x12a)),yaml=require(a48_0x518be8(0x127)),yargs=require('yargs'),logger=require(a48_0x518be8(0x10d))['winstonLogger'],configFileTemplate=__dirname+a48_0x518be8(0x12b),configFileTemplatePW=__dirname+a48_0x518be8(0xf8),configFile=process[a48_0x518be8(0x10e)]()+a48_0x518be8(0x134),packageFile=process[a48_0x518be8(0x10e)]()+a48_0x518be8(0x121),frameworks=[a48_0x518be8(0x11e),a48_0x518be8(0x12e),a48_0x518be8(0x103),a48_0x518be8(0x128),a48_0x518be8(0x129),'codeceptjs',a48_0x518be8(0xf9)];function a48_0x384f(){const _0x28ace7=['abyMt','../helpers/helper','includes','username','cucumber-js','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','indexOf','GQiqL','hTwwO','3569712GhIcie','utf8','load','1032438fQBJAU','1031232kTFQtX','../helpers/logger','cwd','qqLLr','SYZth','SDKSetup','writeFileSync','YICYC','7YmSZUB','key','1297000NgimSp','RtSsM','node-setup','postinstall','AkDpG','863277hcEOeE','Qkoyy','debug','mocha','stringify','VxICl','/package.json','split','\x20&&\x20npm\x20update\x20browserstack-node-sdk','185893AJIPYy','npm\x20update\x20browserstack-node-sdk','browserstack-node-sdk','js-yaml','node','nightwatch','../helpers/utilities','/../../browserstack.yml.sample','rseYM','ZGUMS','jest','length','xSEaY','replace','push','join','/browserstack.yml','Efmur','35214zQpHwU','Setup\x20completed','YOUR_USERNAME','aHGre','YOUR_ACCESS_KEY','JFUqD','splice','argv','/../../browserstack.pw.yml.sample','playwright','error','info','scripts','readFileSync','sAcWO'];a48_0x384f=function(){return _0x28ace7;};return a48_0x384f();}let config;logger['info']('Creating\x20configuration\x20file...'),createConfigurationFile(yargs[a48_0x518be8(0xf7)][a48_0x518be8(0x102)],yargs[a48_0x518be8(0xf7)][a48_0x518be8(0x115)],yargs[a48_0x518be8(0xf7)][a48_0x518be8(0xf9)]);try{sdkSetup();}catch(a48_0x1a32a4){logger[a48_0x518be8(0x11d)](a48_0x518be8(0x104)+a48_0x1a32a4);}addScriptInPackageJson();function createConfigurationFile(_0x5ee842,_0xef6cca,_0x28742f=![]){const _0x15e5d1=a48_0x518be8,_0x5553ee={};_0x5553ee[_0x15e5d1(0x106)]='utf8',_0x5553ee['SYZth']=_0x15e5d1(0x138),_0x5553ee[_0x15e5d1(0xff)]=_0x15e5d1(0xf4);const _0x53965a=_0x5553ee;try{let _0x58c7d1=fs[_0x15e5d1(0xfd)](_0x28742f?configFileTemplatePW:configFileTemplate,_0x53965a[_0x15e5d1(0x106)]);_0x5ee842&&(_0x58c7d1=_0x58c7d1[_0x15e5d1(0x131)](_0x53965a[_0x15e5d1(0x110)],_0x5ee842)),_0xef6cca&&(_0x58c7d1=_0x58c7d1['replace'](_0x53965a['abyMt'],_0xef6cca)),config=yaml[_0x15e5d1(0x10a)](_0x58c7d1),fs[_0x15e5d1(0x112)](configFile,_0x58c7d1,_0x14ad1f=>{const _0x49a878=_0x15e5d1;_0x14ad1f&&logger[_0x49a878(0xfa)](_0x14ad1f);});}catch(_0x877048){logger[_0x15e5d1(0xfa)](_0x877048);}}function addPostInstallScript(_0xd0196b,_0x12c34f){const _0x90817e=a48_0x518be8,_0x486804={};_0x486804[_0x90817e(0x107)]=_0x90817e(0x119),_0x486804[_0x90817e(0xf5)]=_0x90817e(0x125),_0x486804[_0x90817e(0xf3)]=_0x90817e(0x123);const _0x51b723=_0x486804;let _0x229ab5=_0xd0196b[_0x51b723['hTwwO']];if(_0x229ab5&&_0x229ab5['includes'](_0x51b723[_0x90817e(0xf5)]))return;!_0x229ab5?_0x229ab5=_0x51b723[_0x90817e(0xf5)]:_0x229ab5+=_0x51b723[_0x90817e(0xf3)],_0x12c34f[_0x90817e(0x132)]([_0x51b723[_0x90817e(0x107)],_0x229ab5]);}function addScriptInPackageJson(){const _0x125941=a48_0x518be8,_0x3a9208={'RtSsM':_0x125941(0x109),'FCYsi':function(_0x4515e9,_0x566f44){return _0x4515e9<_0x566f44;},'AkDpG':function(_0x126bfd,_0x4aec3f,_0x1c84f4){return _0x126bfd(_0x4aec3f,_0x1c84f4);},'LkBHa':function(_0x401369,_0x2a0f0c,_0x5ebcb2){return _0x401369(_0x2a0f0c,_0x5ebcb2);},'xSEaY':function(_0x56b3cf,_0x320830){return _0x56b3cf<_0x320830;},'AwDCY':function(_0x4c59a6,_0x2ec795){return _0x4c59a6!==_0x2ec795;},'sAcWO':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x41d8bf=JSON['parse'](fs['readFileSync'](packageFile,_0x3a9208[_0x125941(0x117)])),_0x168fb9=[];for(let _0x1fd02d=0x0;_0x3a9208['FCYsi'](_0x1fd02d,frameworks[_0x125941(0x12f)]);_0x1fd02d+=0x1){const _0x43857c=_0x3a9208[_0x125941(0x11a)](findScriptsWithFramework,_0x41d8bf['scripts'],frameworks[_0x1fd02d]);for(let _0x2bd2da=0x0;_0x3a9208['FCYsi'](_0x2bd2da,_0x43857c[_0x125941(0x12f)]);_0x2bd2da+=0x1){_0x168fb9[_0x125941(0x132)](_0x3a9208['AkDpG'](getUpdatedCommand,_0x41d8bf[_0x125941(0xfc)],_0x43857c[_0x2bd2da]));}_0x3a9208['LkBHa'](addPostInstallScript,_0x41d8bf[_0x125941(0xfc)],_0x168fb9);}const _0xbaf633={..._0x41d8bf[_0x125941(0xfc)]},_0x17659a=_0xbaf633;for(let _0x3a8786=0x0;_0x3a9208[_0x125941(0x130)](_0x3a8786,_0x168fb9[_0x125941(0x12f)]);_0x3a8786+=0x1){_0x17659a[_0x168fb9[_0x3a8786][0x0]]=_0x168fb9[_0x3a8786][0x1];}_0x3a9208['AwDCY'](JSON[_0x125941(0x11f)](_0x41d8bf[_0x125941(0xfc)]),JSON['stringify'](_0x17659a))&&(logger[_0x125941(0xfb)](_0x3a9208[_0x125941(0xfe)]),_0x41d8bf[_0x125941(0xfc)]=_0x17659a,fs[_0x125941(0x112)](packageFile,JSON[_0x125941(0x11f)](_0x41d8bf,null,0x2),_0x2dde88=>{_0x2dde88&&logger['error'](_0x2dde88);}));};function findScriptsWithFramework(_0x304bdf,_0x57e795){const _0x3f147d=a48_0x518be8,_0x2296ff={};_0x2296ff[_0x3f147d(0x10f)]=function(_0x18220b,_0x3476f8){return _0x18220b<_0x3476f8;},_0x2296ff['YICYC']=_0x3f147d(0x126);const _0x3db221=_0x2296ff,_0x1f7568=[],_0x146a7c=Object['entries'](_0x304bdf);for(let _0x4febbc=0x0;_0x3db221['qqLLr'](_0x4febbc,_0x146a7c[_0x3f147d(0x12f)]);_0x4febbc+=0x1){_0x146a7c[_0x4febbc][0x1][_0x3f147d(0x101)](_0x57e795)&&!_0x146a7c[_0x4febbc][0x1][_0x3f147d(0x101)](_0x3db221[_0x3f147d(0x113)])&&_0x1f7568[_0x3f147d(0x132)](_0x146a7c[_0x4febbc][0x0]);}return _0x1f7568;}function getUpdatedCommand(_0x48e3b6,_0x33e2bf){const _0xfb7c36=a48_0x518be8,_0x534860={};_0x534860[_0xfb7c36(0x120)]=function(_0x1e4752,_0xa9f0a0){return _0x1e4752!==_0xa9f0a0;},_0x534860['rseYM']=_0xfb7c36(0x126),_0x534860[_0xfb7c36(0x12d)]=function(_0x157d37,_0x13e16e){return _0x157d37===_0x13e16e;};const _0x372102=_0x534860,_0x29a3c4=_0x33e2bf+'-browserstack',_0xe09d6f=_0x48e3b6[_0x33e2bf],_0x25537f=_0xe09d6f[_0xfb7c36(0x122)]('\x20');for(const _0x57c59a of frameworks){if(_0x372102[_0xfb7c36(0x120)](_0x25537f[_0xfb7c36(0x105)](_0x57c59a),-0x1)){_0x25537f[_0xfb7c36(0xf6)](_0x25537f[_0xfb7c36(0x105)](_0x57c59a),0x0,_0x372102[_0xfb7c36(0x12c)]);break;}}let _0x48417f=_0x25537f[_0xfb7c36(0x133)]('\x20');return _0x372102[_0xfb7c36(0x12d)](_0x48417f,_0xe09d6f)&&(_0x48417f='browserstack-node-sdk\x20'+_0xe09d6f),[_0x29a3c4,_0x48417f];}function sdkSetup(){const _0x422dd2=a48_0x518be8,_0x1617a0={};_0x1617a0[_0x422dd2(0x135)]=_0x422dd2(0x118),_0x1617a0[_0x422dd2(0x11c)]=_0x422dd2(0x111);const _0x2c6e2d=_0x1617a0;if(helper['isUndefined'](config))return;config['source']=_0x2c6e2d['Efmur'];try{utilities['fireFunnelTestEvent'](_0x2c6e2d['Qkoyy'],{},config,'');}catch(_0x45dc7c){logger[_0x422dd2(0x11d)](_0x422dd2(0x104)+_0x45dc7c);}}logger[a48_0x518be8(0xfb)](a48_0x518be8(0x137));