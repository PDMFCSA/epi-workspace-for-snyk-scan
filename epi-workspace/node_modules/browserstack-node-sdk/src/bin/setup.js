#!/usr/bin/env node

const a46_0x26c905=a46_0x135d;function a46_0x4834(){const _0x3dd359=['Setup\x20completed','source','Adding\x20new\x20script(s)\x20in\x20package.json...','\x20&&\x20npm\x20update\x20browserstack-node-sdk','4734440GfBkxb','parse','OWWpj','load','VODAr','qAeXI','info','mocha','push','../helpers/logger','error','WhREU','node','tixEv','/browserstack.yml','kGdtE','debug','browserstack-node-sdk','1519320jheYWx','splice','browserstack-node-sdk\x20','winstonLogger','cucumber-js','replace','765564GqFEFU','FqlWn','writeFileSync','scripts','codeceptjs','gdfpO','cwd','entries','SkSou','vLbjv','split','Rwqti','766913aTurXZ','313149pAQmyM','/../../browserstack.yml.sample','npm\x20update\x20browserstack-node-sdk','../helpers/helper','../helpers/utilities','readFileSync','yargs','indexOf','UZPBr','riiak','node-setup','566692eWLfGY','YOUR_USERNAME','length','key','sCyFt','stringify','username','jyUSD','9EzFKau','playwright','/package.json','2McCMNH','FSJkf','TfODj','iVaog','utf8','postinstall','6MdZGnb','Creating\x20configuration\x20file...','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','1694655jodwcW','join','/../../browserstack.pw.yml.sample'];a46_0x4834=function(){return _0x3dd359;};return a46_0x4834();}(function(_0x106d61,_0x9dc839){const _0x58bb02=a46_0x135d,_0xf54249=_0x106d61();while(!![]){try{const _0x23550a=parseInt(_0x58bb02(0x168))/0x1*(-parseInt(_0x58bb02(0x133))/0x2)+-parseInt(_0x58bb02(0x15b))/0x3+-parseInt(_0x58bb02(0x128))/0x4+-parseInt(_0x58bb02(0x13c))/0x5*(-parseInt(_0x58bb02(0x139))/0x6)+-parseInt(_0x58bb02(0x167))/0x7+parseInt(_0x58bb02(0x155))/0x8+-parseInt(_0x58bb02(0x130))/0x9*(-parseInt(_0x58bb02(0x143))/0xa);if(_0x23550a===_0x9dc839)break;else _0xf54249['push'](_0xf54249['shift']());}catch(_0x1327cd){_0xf54249['push'](_0xf54249['shift']());}}}(a46_0x4834,0x2c9c1));const fs=require('fs'),helper=require(a46_0x26c905(0x16b)),utilities=require(a46_0x26c905(0x16c)),yaml=require('js-yaml'),yargs=require(a46_0x26c905(0x16e)),logger=require(a46_0x26c905(0x14c))[a46_0x26c905(0x158)],configFileTemplate=__dirname+a46_0x26c905(0x169),configFileTemplatePW=__dirname+a46_0x26c905(0x13e),configFile=process[a46_0x26c905(0x161)]()+a46_0x26c905(0x151),packageFile=process['cwd']()+a46_0x26c905(0x132),frameworks=[a46_0x26c905(0x14a),'jest',a46_0x26c905(0x159),a46_0x26c905(0x14f),'nightwatch',a46_0x26c905(0x15f),a46_0x26c905(0x131)];let config;logger[a46_0x26c905(0x149)](a46_0x26c905(0x13a)),createConfigurationFile(yargs['argv'][a46_0x26c905(0x12e)],yargs['argv'][a46_0x26c905(0x12b)],yargs['argv'][a46_0x26c905(0x131)]);try{sdkSetup();}catch(a46_0x349746){logger[a46_0x26c905(0x153)](a46_0x26c905(0x13b)+a46_0x349746);}addScriptInPackageJson();function createConfigurationFile(_0x574572,_0x34b00b,_0x9be9af=![]){const _0x8f926c=a46_0x26c905,_0x4210c3={};_0x4210c3[_0x8f926c(0x150)]=_0x8f926c(0x137),_0x4210c3[_0x8f926c(0x145)]=_0x8f926c(0x129),_0x4210c3[_0x8f926c(0x135)]='YOUR_ACCESS_KEY';const _0x2faef4=_0x4210c3;try{let _0x32869f=fs[_0x8f926c(0x16d)](_0x9be9af?configFileTemplatePW:configFileTemplate,_0x2faef4['tixEv']);_0x574572&&(_0x32869f=_0x32869f[_0x8f926c(0x15a)](_0x2faef4['OWWpj'],_0x574572)),_0x34b00b&&(_0x32869f=_0x32869f[_0x8f926c(0x15a)](_0x2faef4[_0x8f926c(0x135)],_0x34b00b)),config=yaml[_0x8f926c(0x146)](_0x32869f),fs[_0x8f926c(0x15d)](configFile,_0x32869f,_0x901a1f=>{const _0xca2d81=_0x8f926c;_0x901a1f&&logger[_0xca2d81(0x14d)](_0x901a1f);});}catch(_0x2bfb40){logger[_0x8f926c(0x14d)](_0x2bfb40);}}function addPostInstallScript(_0x540257,_0x593f5f){const _0x3e419e=a46_0x26c905,_0x44d64e={};_0x44d64e[_0x3e419e(0x134)]=_0x3e419e(0x138),_0x44d64e[_0x3e419e(0x136)]=_0x3e419e(0x16a),_0x44d64e['iElow']=_0x3e419e(0x142);const _0x5aa6d6=_0x44d64e;let _0x5d760e=_0x540257[_0x5aa6d6['FSJkf']];if(_0x5d760e&&_0x5d760e['includes'](_0x5aa6d6[_0x3e419e(0x136)]))return;!_0x5d760e?_0x5d760e=_0x5aa6d6[_0x3e419e(0x136)]:_0x5d760e+=_0x5aa6d6['iElow'],_0x593f5f[_0x3e419e(0x14b)]([_0x5aa6d6[_0x3e419e(0x134)],_0x5d760e]);}function addScriptInPackageJson(){const _0x20e5a2=a46_0x26c905,_0x59ef49={'vLbjv':_0x20e5a2(0x137),'sCyFt':function(_0x5d9cf6,_0x1969cb){return _0x5d9cf6<_0x1969cb;},'qAeXI':function(_0x1db65f,_0x2b897d,_0x3e1712){return _0x1db65f(_0x2b897d,_0x3e1712);},'Rwqti':function(_0x3f888c,_0x137392,_0x4b8377){return _0x3f888c(_0x137392,_0x4b8377);},'FqlWn':function(_0x60a0e4,_0x13f14a){return _0x60a0e4<_0x13f14a;},'kGdtE':function(_0x55201d,_0x38fe6b){return _0x55201d!==_0x38fe6b;},'nVUBJ':_0x20e5a2(0x141)},_0x460575=JSON[_0x20e5a2(0x144)](fs['readFileSync'](packageFile,_0x59ef49[_0x20e5a2(0x164)])),_0x52db7b=[];for(let _0x4d27c4=0x0;_0x59ef49[_0x20e5a2(0x12c)](_0x4d27c4,frameworks[_0x20e5a2(0x12a)]);_0x4d27c4+=0x1){const _0x1e4386=_0x59ef49[_0x20e5a2(0x148)](findScriptsWithFramework,_0x460575['scripts'],frameworks[_0x4d27c4]);for(let _0x3708dd=0x0;_0x59ef49['sCyFt'](_0x3708dd,_0x1e4386[_0x20e5a2(0x12a)]);_0x3708dd+=0x1){_0x52db7b['push'](_0x59ef49[_0x20e5a2(0x166)](getUpdatedCommand,_0x460575[_0x20e5a2(0x15e)],_0x1e4386[_0x3708dd]));}_0x59ef49['Rwqti'](addPostInstallScript,_0x460575[_0x20e5a2(0x15e)],_0x52db7b);}const _0x833a57={..._0x460575[_0x20e5a2(0x15e)]},_0x175bfc=_0x833a57;for(let _0x28a94a=0x0;_0x59ef49[_0x20e5a2(0x15c)](_0x28a94a,_0x52db7b[_0x20e5a2(0x12a)]);_0x28a94a+=0x1){_0x175bfc[_0x52db7b[_0x28a94a][0x0]]=_0x52db7b[_0x28a94a][0x1];}_0x59ef49[_0x20e5a2(0x152)](JSON[_0x20e5a2(0x12d)](_0x460575[_0x20e5a2(0x15e)]),JSON['stringify'](_0x175bfc))&&(logger[_0x20e5a2(0x149)](_0x59ef49['nVUBJ']),_0x460575['scripts']=_0x175bfc,fs[_0x20e5a2(0x15d)](packageFile,JSON[_0x20e5a2(0x12d)](_0x460575,null,0x2),_0x49fc38=>{const _0x855145=_0x20e5a2;_0x49fc38&&logger[_0x855145(0x14d)](_0x49fc38);}));}function a46_0x135d(_0x1a86c8,_0x2fecf9){const _0x48346e=a46_0x4834();return a46_0x135d=function(_0x135de8,_0x5b5f08){_0x135de8=_0x135de8-0x128;let _0x33db97=_0x48346e[_0x135de8];return _0x33db97;},a46_0x135d(_0x1a86c8,_0x2fecf9);};function findScriptsWithFramework(_0x5bbcef,_0x26cfe3){const _0x14c4db=a46_0x26c905,_0x5cf939={};_0x5cf939[_0x14c4db(0x160)]=function(_0x463f76,_0x57ed3d){return _0x463f76<_0x57ed3d;},_0x5cf939['jyUSD']=_0x14c4db(0x154);const _0x573bf6=_0x5cf939,_0x2ce2c5=[],_0x3170cb=Object[_0x14c4db(0x162)](_0x5bbcef);for(let _0x2d9ade=0x0;_0x573bf6[_0x14c4db(0x160)](_0x2d9ade,_0x3170cb['length']);_0x2d9ade+=0x1){_0x3170cb[_0x2d9ade][0x1]['includes'](_0x26cfe3)&&!_0x3170cb[_0x2d9ade][0x1]['includes'](_0x573bf6[_0x14c4db(0x12f)])&&_0x2ce2c5[_0x14c4db(0x14b)](_0x3170cb[_0x2d9ade][0x0]);}return _0x2ce2c5;}function getUpdatedCommand(_0x5204c0,_0x57a3fe){const _0x2472e3=a46_0x26c905,_0x161204={};_0x161204[_0x2472e3(0x170)]=function(_0x573b3c,_0x4f5db8){return _0x573b3c!==_0x4f5db8;},_0x161204['WhREU']=_0x2472e3(0x154),_0x161204[_0x2472e3(0x171)]=function(_0x54918f,_0x2484c2){return _0x54918f===_0x2484c2;};const _0x276aa1=_0x161204,_0x3a6016=_0x57a3fe+'-browserstack',_0x273cbc=_0x5204c0[_0x57a3fe],_0x5b56ab=_0x273cbc[_0x2472e3(0x165)]('\x20');for(const _0x134824 of frameworks){if(_0x276aa1[_0x2472e3(0x170)](_0x5b56ab[_0x2472e3(0x16f)](_0x134824),-0x1)){_0x5b56ab[_0x2472e3(0x156)](_0x5b56ab[_0x2472e3(0x16f)](_0x134824),0x0,_0x276aa1[_0x2472e3(0x14e)]);break;}}let _0x436888=_0x5b56ab[_0x2472e3(0x13d)]('\x20');return _0x276aa1['riiak'](_0x436888,_0x273cbc)&&(_0x436888=_0x2472e3(0x157)+_0x273cbc),[_0x3a6016,_0x436888];}function sdkSetup(){const _0x893353=a46_0x26c905,_0xcde023={};_0xcde023['SkSou']=_0x893353(0x172),_0xcde023[_0x893353(0x147)]='SDKSetup';const _0x17c3d1=_0xcde023;if(helper['isUndefined'](config))return;config[_0x893353(0x140)]=_0x17c3d1[_0x893353(0x163)];try{utilities['fireFunnelTestEvent'](_0x17c3d1[_0x893353(0x147)],{},config,'');}catch(_0x5bfd8d){logger[_0x893353(0x153)](_0x893353(0x13b)+_0x5bfd8d);}}logger['info'](a46_0x26c905(0x13f));