#!/usr/bin/env node

const a49_0x422ef7=a49_0x12c0;function a49_0x5599(){const _0x4adb1b=['parse','error','21928xBAAxo','SDKSetup','148630OupWKj','../helpers/utilities','kcEKi','nightwatch','nQSFO','Creating\x20configuration\x20file...','includes','YOUR_USERNAME','mocha','QdwOo','-browserstack','/browserstack.yml','../helpers/helper','EAquo','Adding\x20new\x20script(s)\x20in\x20package.json...','playwright','debug','key','readFileSync','fireFunnelTestEvent','/../../browserstack.pw.yml.sample','/package.json','winstonLogger','cwd','42DIPptN','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','QXPkx','100GPXTXd','info','JdcSP','44569TOkrub','45224234vMMwbk','6248072ApRMdb','cucumber-js','YOUR_ACCESS_KEY','splice','scripts','120CAZBAK','browserstack-node-sdk','writeFileSync','split','hgEbO','dJiLT','eGHzU','fRetn','NQxeT','node','Setup\x20completed','ZjmDu','../helpers/logger','FPHik','oOIBU','56tqnbuP','argv','postinstall','length','241395rRQIdl','stringify','aMvcl','\x20&&\x20npm\x20update\x20browserstack-node-sdk','jest','346374JNHnSm','yargs','node-setup','js-yaml','indexOf','CwqJO','GAkfg'];a49_0x5599=function(){return _0x4adb1b;};return a49_0x5599();}(function(_0x37759f,_0x157ade){const _0x2c21f7=a49_0x12c0,_0x2af2aa=_0x37759f();while(!![]){try{const _0x1f4941=parseInt(_0x2c21f7(0x18f))/0x1*(-parseInt(_0x2c21f7(0x15d))/0x2)+-parseInt(_0x2c21f7(0x161))/0x3+-parseInt(_0x2c21f7(0x191))/0x4+-parseInt(_0x2c21f7(0x171))/0x5*(parseInt(_0x2c21f7(0x196))/0x6)+parseInt(_0x2c21f7(0x189))/0x7*(-parseInt(_0x2c21f7(0x16f))/0x8)+parseInt(_0x2c21f7(0x166))/0x9*(parseInt(_0x2c21f7(0x18c))/0xa)+parseInt(_0x2c21f7(0x190))/0xb;if(_0x1f4941===_0x157ade)break;else _0x2af2aa['push'](_0x2af2aa['shift']());}catch(_0x1b0a43){_0x2af2aa['push'](_0x2af2aa['shift']());}}}(a49_0x5599,0xf2dd5));const fs=require('fs'),helper=require(a49_0x422ef7(0x17d)),utilities=require(a49_0x422ef7(0x172)),yaml=require(a49_0x422ef7(0x169)),yargs=require(a49_0x422ef7(0x167)),logger=require(a49_0x422ef7(0x15a))[a49_0x422ef7(0x187)],configFileTemplate=__dirname+'/../../browserstack.yml.sample',configFileTemplatePW=__dirname+a49_0x422ef7(0x185),configFile=process[a49_0x422ef7(0x188)]()+a49_0x422ef7(0x17c),packageFile=process[a49_0x422ef7(0x188)]()+a49_0x422ef7(0x186),frameworks=[a49_0x422ef7(0x179),a49_0x422ef7(0x165),a49_0x422ef7(0x192),a49_0x422ef7(0x157),a49_0x422ef7(0x174),'codeceptjs',a49_0x422ef7(0x180)];let config;logger[a49_0x422ef7(0x18d)](a49_0x422ef7(0x176)),createConfigurationFile(yargs[a49_0x422ef7(0x15e)]['username'],yargs[a49_0x422ef7(0x15e)][a49_0x422ef7(0x182)],yargs[a49_0x422ef7(0x15e)]['playwright']);try{sdkSetup();}catch(a49_0x4d8f03){logger[a49_0x422ef7(0x181)](a49_0x422ef7(0x18a)+a49_0x4d8f03);}function a49_0x12c0(_0x335050,_0x452e8b){const _0x559918=a49_0x5599();return a49_0x12c0=function(_0x12c076,_0x28f957){_0x12c076=_0x12c076-0x152;let _0x104fd3=_0x559918[_0x12c076];return _0x104fd3;},a49_0x12c0(_0x335050,_0x452e8b);}addScriptInPackageJson();function createConfigurationFile(_0x20bb80,_0x2b04ab,_0x13a575=![]){const _0x4ffcdf=a49_0x422ef7,_0x16236b={};_0x16236b[_0x4ffcdf(0x156)]='utf8',_0x16236b['kcEKi']=_0x4ffcdf(0x178),_0x16236b[_0x4ffcdf(0x16b)]=_0x4ffcdf(0x193);const _0x47114b=_0x16236b;try{let _0x3992a3=fs[_0x4ffcdf(0x183)](_0x13a575?configFileTemplatePW:configFileTemplate,_0x47114b['NQxeT']);_0x20bb80&&(_0x3992a3=_0x3992a3['replace'](_0x47114b[_0x4ffcdf(0x173)],_0x20bb80)),_0x2b04ab&&(_0x3992a3=_0x3992a3['replace'](_0x47114b[_0x4ffcdf(0x16b)],_0x2b04ab)),config=yaml['load'](_0x3992a3),fs['writeFileSync'](configFile,_0x3992a3,_0x471805=>{const _0x20d0c5=_0x4ffcdf;_0x471805&&logger[_0x20d0c5(0x16e)](_0x471805);});}catch(_0x46a0e2){logger[_0x4ffcdf(0x16e)](_0x46a0e2);}}function addPostInstallScript(_0x31932d,_0x17e4a1){const _0x2f9dae=a49_0x422ef7,_0x54bea2={};_0x54bea2[_0x2f9dae(0x18b)]=_0x2f9dae(0x15f),_0x54bea2['GAkfg']='npm\x20update\x20browserstack-node-sdk',_0x54bea2[_0x2f9dae(0x15b)]=_0x2f9dae(0x164);const _0x145831=_0x54bea2;let _0x5243b2=_0x31932d[_0x145831['QXPkx']];if(_0x5243b2&&_0x5243b2[_0x2f9dae(0x177)](_0x145831[_0x2f9dae(0x16c)]))return;!_0x5243b2?_0x5243b2=_0x145831[_0x2f9dae(0x16c)]:_0x5243b2+=_0x145831[_0x2f9dae(0x15b)],_0x17e4a1['push']([_0x145831['QXPkx'],_0x5243b2]);}function addScriptInPackageJson(){const _0x30aa78=a49_0x422ef7,_0x48b6c6={'hgEbO':'utf8','JdcSP':function(_0x445829,_0x3adbb3){return _0x445829<_0x3adbb3;},'dJiLT':function(_0x587887,_0x3c590d,_0x5944ca){return _0x587887(_0x3c590d,_0x5944ca);},'LFGcR':function(_0x9ad68a,_0x2c4172){return _0x9ad68a!==_0x2c4172;},'aMvcl':_0x30aa78(0x17f)},_0x385ae9=JSON[_0x30aa78(0x16d)](fs[_0x30aa78(0x183)](packageFile,_0x48b6c6[_0x30aa78(0x152)])),_0x4e6e15=[];for(let _0x59eeba=0x0;_0x48b6c6[_0x30aa78(0x18e)](_0x59eeba,frameworks[_0x30aa78(0x160)]);_0x59eeba+=0x1){const _0x44a52b=_0x48b6c6['dJiLT'](findScriptsWithFramework,_0x385ae9[_0x30aa78(0x195)],frameworks[_0x59eeba]);for(let _0xaa529b=0x0;_0x48b6c6[_0x30aa78(0x18e)](_0xaa529b,_0x44a52b[_0x30aa78(0x160)]);_0xaa529b+=0x1){_0x4e6e15['push'](_0x48b6c6[_0x30aa78(0x153)](getUpdatedCommand,_0x385ae9[_0x30aa78(0x195)],_0x44a52b[_0xaa529b]));}_0x48b6c6[_0x30aa78(0x153)](addPostInstallScript,_0x385ae9[_0x30aa78(0x195)],_0x4e6e15);}const _0x12f51e={..._0x385ae9[_0x30aa78(0x195)]},_0x59e68f=_0x12f51e;for(let _0x54fedf=0x0;_0x48b6c6[_0x30aa78(0x18e)](_0x54fedf,_0x4e6e15['length']);_0x54fedf+=0x1){_0x59e68f[_0x4e6e15[_0x54fedf][0x0]]=_0x4e6e15[_0x54fedf][0x1];}_0x48b6c6['LFGcR'](JSON[_0x30aa78(0x162)](_0x385ae9[_0x30aa78(0x195)]),JSON[_0x30aa78(0x162)](_0x59e68f))&&(logger['info'](_0x48b6c6[_0x30aa78(0x163)]),_0x385ae9['scripts']=_0x59e68f,fs[_0x30aa78(0x198)](packageFile,JSON[_0x30aa78(0x162)](_0x385ae9,null,0x2),_0x385d3b=>{const _0x2e4491=_0x30aa78;_0x385d3b&&logger[_0x2e4491(0x16e)](_0x385d3b);}));};function findScriptsWithFramework(_0x3cd98d,_0x13a0c7){const _0x32c0ec=a49_0x422ef7,_0xed4566={};_0xed4566[_0x32c0ec(0x154)]=function(_0x4d99f2,_0x484395){return _0x4d99f2<_0x484395;},_0xed4566['nQSFO']=_0x32c0ec(0x197);const _0x157b86=_0xed4566,_0x22d02b=[],_0x113ebc=Object['entries'](_0x3cd98d);for(let _0x5ab38d=0x0;_0x157b86[_0x32c0ec(0x154)](_0x5ab38d,_0x113ebc[_0x32c0ec(0x160)]);_0x5ab38d+=0x1){_0x113ebc[_0x5ab38d][0x1][_0x32c0ec(0x177)](_0x13a0c7)&&!_0x113ebc[_0x5ab38d][0x1][_0x32c0ec(0x177)](_0x157b86[_0x32c0ec(0x175)])&&_0x22d02b['push'](_0x113ebc[_0x5ab38d][0x0]);}return _0x22d02b;}function getUpdatedCommand(_0x3f0a8f,_0x120855){const _0xa44c77=a49_0x422ef7,_0x4a2982={};_0x4a2982[_0xa44c77(0x17a)]=function(_0x2cba21,_0x2bab8c){return _0x2cba21!==_0x2bab8c;},_0x4a2982[_0xa44c77(0x159)]='browserstack-node-sdk',_0x4a2982[_0xa44c77(0x17e)]=function(_0x2a8b0c,_0x1b593a){return _0x2a8b0c===_0x1b593a;};const _0x75d994=_0x4a2982,_0x300dd1=_0x120855+_0xa44c77(0x17b),_0x2df782=_0x3f0a8f[_0x120855],_0x620cc6=_0x2df782[_0xa44c77(0x199)]('\x20');for(const _0xe327e2 of frameworks){if(_0x75d994[_0xa44c77(0x17a)](_0x620cc6[_0xa44c77(0x16a)](_0xe327e2),-0x1)){_0x620cc6[_0xa44c77(0x194)](_0x620cc6['indexOf'](_0xe327e2),0x0,_0x75d994[_0xa44c77(0x159)]);break;}}let _0x1fd549=_0x620cc6['join']('\x20');return _0x75d994[_0xa44c77(0x17e)](_0x1fd549,_0x2df782)&&(_0x1fd549='browserstack-node-sdk\x20'+_0x2df782),[_0x300dd1,_0x1fd549];}function sdkSetup(){const _0x531f18=a49_0x422ef7,_0x166abf={};_0x166abf[_0x531f18(0x155)]=_0x531f18(0x168),_0x166abf[_0x531f18(0x15c)]=_0x531f18(0x170);const _0x5244b7=_0x166abf;if(helper['isUndefined'](config))return;config['source']=_0x5244b7[_0x531f18(0x155)];try{utilities[_0x531f18(0x184)](_0x5244b7[_0x531f18(0x15c)],{},config,'');}catch(_0x852810){logger[_0x531f18(0x181)](_0x531f18(0x18a)+_0x852810);}}logger[a49_0x422ef7(0x18d)](a49_0x422ef7(0x158));