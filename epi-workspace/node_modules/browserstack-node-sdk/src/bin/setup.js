#!/usr/bin/env node

function a48_0x346d(_0x2bbe21,_0x3dbb47){const _0x14c0bb=a48_0x14c0();return a48_0x346d=function(_0x346dd0,_0x596351){_0x346dd0=_0x346dd0-0x10f;let _0x54eadf=_0x14c0bb[_0x346dd0];return _0x54eadf;},a48_0x346d(_0x2bbe21,_0x3dbb47);}const a48_0x441326=a48_0x346d;(function(_0x5a8bba,_0x18df01){const _0x5bb0bc=a48_0x346d,_0x1377bd=_0x5a8bba();while(!![]){try{const _0x5716a4=-parseInt(_0x5bb0bc(0x159))/0x1+-parseInt(_0x5bb0bc(0x152))/0x2*(-parseInt(_0x5bb0bc(0x110))/0x3)+-parseInt(_0x5bb0bc(0x139))/0x4*(parseInt(_0x5bb0bc(0x153))/0x5)+parseInt(_0x5bb0bc(0x157))/0x6*(-parseInt(_0x5bb0bc(0x10f))/0x7)+-parseInt(_0x5bb0bc(0x13d))/0x8+parseInt(_0x5bb0bc(0x14a))/0x9*(parseInt(_0x5bb0bc(0x11f))/0xa)+parseInt(_0x5bb0bc(0x122))/0xb;if(_0x5716a4===_0x18df01)break;else _0x1377bd['push'](_0x1377bd['shift']());}catch(_0x502c0e){_0x1377bd['push'](_0x1377bd['shift']());}}}(a48_0x14c0,0xc2665));const fs=require('fs'),helper=require('../helpers/helper'),utilities=require(a48_0x441326(0x13e)),yaml=require(a48_0x441326(0x132)),yargs=require(a48_0x441326(0x111)),logger=require(a48_0x441326(0x117))['winstonLogger'],configFileTemplate=__dirname+a48_0x441326(0x113),configFileTemplatePW=__dirname+'/../../browserstack.pw.yml.sample',configFile=process[a48_0x441326(0x124)]()+a48_0x441326(0x158),packageFile=process['cwd']()+a48_0x441326(0x144),frameworks=[a48_0x441326(0x129),a48_0x441326(0x156),a48_0x441326(0x14d),'node',a48_0x441326(0x12e),a48_0x441326(0x12a),a48_0x441326(0x12d)];let config;logger[a48_0x441326(0x11c)](a48_0x441326(0x142)),createConfigurationFile(yargs[a48_0x441326(0x114)][a48_0x441326(0x135)],yargs[a48_0x441326(0x114)]['key'],yargs[a48_0x441326(0x114)][a48_0x441326(0x12d)]);try{sdkSetup();}catch(a48_0x3e1b29){logger[a48_0x441326(0x13f)](a48_0x441326(0x14b)+a48_0x3e1b29);}addScriptInPackageJson();function createConfigurationFile(_0x543561,_0x8d760b,_0x1dc556=![]){const _0x337a61=a48_0x441326,_0x2c1542={};_0x2c1542['fiBgC']=_0x337a61(0x136),_0x2c1542[_0x337a61(0x14e)]=_0x337a61(0x14c),_0x2c1542[_0x337a61(0x13c)]=_0x337a61(0x11a);const _0x325c1d=_0x2c1542;try{let _0x14b066=fs[_0x337a61(0x128)](_0x1dc556?configFileTemplatePW:configFileTemplate,_0x325c1d['fiBgC']);_0x543561&&(_0x14b066=_0x14b066['replace'](_0x325c1d[_0x337a61(0x14e)],_0x543561)),_0x8d760b&&(_0x14b066=_0x14b066[_0x337a61(0x133)](_0x325c1d[_0x337a61(0x13c)],_0x8d760b)),config=yaml[_0x337a61(0x134)](_0x14b066),fs[_0x337a61(0x115)](configFile,_0x14b066,_0x410613=>{const _0x3cc44b=_0x337a61;_0x410613&&logger[_0x3cc44b(0x14f)](_0x410613);});}catch(_0x1b8f1a){logger['error'](_0x1b8f1a);}}function addPostInstallScript(_0x3c9863,_0x2a5871){const _0x52767e=a48_0x441326,_0x118500={};_0x118500[_0x52767e(0x125)]='postinstall',_0x118500[_0x52767e(0x137)]=_0x52767e(0x130),_0x118500[_0x52767e(0x151)]=_0x52767e(0x148);const _0x48a2ac=_0x118500;let _0x58935e=_0x3c9863[_0x48a2ac['lkdAo']];if(_0x58935e&&_0x58935e[_0x52767e(0x127)](_0x48a2ac[_0x52767e(0x137)]))return;!_0x58935e?_0x58935e=_0x48a2ac[_0x52767e(0x137)]:_0x58935e+=_0x48a2ac[_0x52767e(0x151)],_0x2a5871[_0x52767e(0x118)]([_0x48a2ac[_0x52767e(0x125)],_0x58935e]);}function addScriptInPackageJson(){const _0x36345a=a48_0x441326,_0x50bae4={'jruCq':_0x36345a(0x136),'kCSBJ':function(_0x15b9f6,_0x44cd33){return _0x15b9f6<_0x44cd33;},'AeNct':function(_0x2f83c0,_0x18a670,_0x25fd3b){return _0x2f83c0(_0x18a670,_0x25fd3b);},'zlzSA':function(_0x3bb314,_0x2b09d2,_0x365132){return _0x3bb314(_0x2b09d2,_0x365132);},'Mxgwb':function(_0x48fd6e,_0x41d3bd){return _0x48fd6e<_0x41d3bd;},'zJIQE':function(_0x557b3c,_0x35ba2e){return _0x557b3c!==_0x35ba2e;},'JxUwh':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x483371=JSON[_0x36345a(0x11b)](fs[_0x36345a(0x128)](packageFile,_0x50bae4[_0x36345a(0x145)])),_0x28e48e=[];for(let _0x2c2c6c=0x0;_0x50bae4[_0x36345a(0x112)](_0x2c2c6c,frameworks[_0x36345a(0x150)]);_0x2c2c6c+=0x1){const _0x379fc9=_0x50bae4[_0x36345a(0x126)](findScriptsWithFramework,_0x483371[_0x36345a(0x116)],frameworks[_0x2c2c6c]);for(let _0x56f9aa=0x0;_0x50bae4['kCSBJ'](_0x56f9aa,_0x379fc9['length']);_0x56f9aa+=0x1){_0x28e48e[_0x36345a(0x118)](_0x50bae4[_0x36345a(0x120)](getUpdatedCommand,_0x483371['scripts'],_0x379fc9[_0x56f9aa]));}_0x50bae4[_0x36345a(0x120)](addPostInstallScript,_0x483371['scripts'],_0x28e48e);}const _0x59e9fe={..._0x483371[_0x36345a(0x116)]},_0x2132b6=_0x59e9fe;for(let _0x2d1ad7=0x0;_0x50bae4['Mxgwb'](_0x2d1ad7,_0x28e48e[_0x36345a(0x150)]);_0x2d1ad7+=0x1){_0x2132b6[_0x28e48e[_0x2d1ad7][0x0]]=_0x28e48e[_0x2d1ad7][0x1];}_0x50bae4[_0x36345a(0x149)](JSON['stringify'](_0x483371[_0x36345a(0x116)]),JSON[_0x36345a(0x154)](_0x2132b6))&&(logger[_0x36345a(0x11c)](_0x50bae4[_0x36345a(0x141)]),_0x483371[_0x36345a(0x116)]=_0x2132b6,fs[_0x36345a(0x115)](packageFile,JSON[_0x36345a(0x154)](_0x483371,null,0x2),_0x361ced=>{const _0x38aaaf=_0x36345a;_0x361ced&&logger[_0x38aaaf(0x14f)](_0x361ced);}));};function findScriptsWithFramework(_0x451e35,_0x595dfe){const _0x5929da=a48_0x441326,_0x3efe54={};_0x3efe54['jZCpO']=function(_0x31272a,_0x301596){return _0x31272a<_0x301596;},_0x3efe54[_0x5929da(0x13a)]='browserstack-node-sdk';const _0x31ff9b=_0x3efe54,_0x53973d=[],_0xdf386e=Object[_0x5929da(0x11e)](_0x451e35);for(let _0x2ed8e3=0x0;_0x31ff9b[_0x5929da(0x12f)](_0x2ed8e3,_0xdf386e[_0x5929da(0x150)]);_0x2ed8e3+=0x1){_0xdf386e[_0x2ed8e3][0x1][_0x5929da(0x127)](_0x595dfe)&&!_0xdf386e[_0x2ed8e3][0x1]['includes'](_0x31ff9b[_0x5929da(0x13a)])&&_0x53973d[_0x5929da(0x118)](_0xdf386e[_0x2ed8e3][0x0]);}return _0x53973d;}function a48_0x14c0(){const _0x22cc3f=['js-yaml','replace','load','username','utf8','NpMpV','-browserstack','2828JmzRyu','EZFVl','HYned','HZiRE','7606824LOuuMl','../helpers/utilities','debug','ldRXm','JxUwh','Creating\x20configuration\x20file...','Setup\x20completed','/package.json','jruCq','node-setup','fireFunnelTestEvent','\x20&&\x20npm\x20update\x20browserstack-node-sdk','zJIQE','685530bqvvnt','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','YOUR_USERNAME','cucumber-js','eETBr','error','length','cEXrO','250384jUMyAn','4565pVIwKA','stringify','SDKSetup','jest','6679194xIvdVj','/browserstack.yml','523523KOpPEL','7sQytIN','18zNaWls','yargs','kCSBJ','/../../browserstack.yml.sample','argv','writeFileSync','scripts','../helpers/logger','push','split','YOUR_ACCESS_KEY','parse','info','indexOf','entries','40LLbYxK','zlzSA','wwZAj','32708445IiKXLz','GltHh','cwd','lkdAo','AeNct','includes','readFileSync','mocha','codeceptjs','browserstack-node-sdk\x20','ozjjf','playwright','nightwatch','jZCpO','npm\x20update\x20browserstack-node-sdk','source'];a48_0x14c0=function(){return _0x22cc3f;};return a48_0x14c0();}function getUpdatedCommand(_0x3779bd,_0x26364b){const _0x54f54f=a48_0x441326,_0x430ac5={};_0x430ac5[_0x54f54f(0x13b)]=function(_0x571a70,_0x5682ce){return _0x571a70!==_0x5682ce;},_0x430ac5[_0x54f54f(0x140)]='browserstack-node-sdk',_0x430ac5[_0x54f54f(0x121)]=function(_0x57d75f,_0x33e2c1){return _0x57d75f===_0x33e2c1;};const _0x1eb4e2=_0x430ac5,_0x1e0f0a=_0x26364b+_0x54f54f(0x138),_0x378be1=_0x3779bd[_0x26364b],_0x8f83f1=_0x378be1[_0x54f54f(0x119)]('\x20');for(const _0x58d554 of frameworks){if(_0x1eb4e2[_0x54f54f(0x13b)](_0x8f83f1['indexOf'](_0x58d554),-0x1)){_0x8f83f1['splice'](_0x8f83f1[_0x54f54f(0x11d)](_0x58d554),0x0,_0x1eb4e2[_0x54f54f(0x140)]);break;}}let _0x16bb94=_0x8f83f1['join']('\x20');return _0x1eb4e2[_0x54f54f(0x121)](_0x16bb94,_0x378be1)&&(_0x16bb94=_0x54f54f(0x12b)+_0x378be1),[_0x1e0f0a,_0x16bb94];}function sdkSetup(){const _0x31ed36=a48_0x441326,_0xae6a8d={};_0xae6a8d[_0x31ed36(0x123)]=_0x31ed36(0x146),_0xae6a8d[_0x31ed36(0x12c)]=_0x31ed36(0x155);const _0x570798=_0xae6a8d;if(helper['isUndefined'](config))return;config[_0x31ed36(0x131)]=_0x570798[_0x31ed36(0x123)];try{utilities[_0x31ed36(0x147)](_0x570798[_0x31ed36(0x12c)],{},config,'');}catch(_0x227fbd){logger[_0x31ed36(0x13f)](_0x31ed36(0x14b)+_0x227fbd);}}logger[a48_0x441326(0x11c)](a48_0x441326(0x143));