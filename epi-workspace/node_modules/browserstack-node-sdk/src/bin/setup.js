#!/usr/bin/env node

const a48_0xff9922=a48_0x2373;(function(_0x58beef,_0x5b3d45){const _0x346b70=a48_0x2373,_0x454ee2=_0x58beef();while(!![]){try{const _0x198747=parseInt(_0x346b70(0x117))/0x1+parseInt(_0x346b70(0x10a))/0x2+parseInt(_0x346b70(0x13f))/0x3+-parseInt(_0x346b70(0x136))/0x4+-parseInt(_0x346b70(0x129))/0x5*(-parseInt(_0x346b70(0x143))/0x6)+-parseInt(_0x346b70(0x134))/0x7*(parseInt(_0x346b70(0x10b))/0x8)+parseInt(_0x346b70(0x130))/0x9;if(_0x198747===_0x5b3d45)break;else _0x454ee2['push'](_0x454ee2['shift']());}catch(_0x4b1f22){_0x454ee2['push'](_0x454ee2['shift']());}}}(a48_0xa576,0xdec3d));const fs=require('fs'),helper=require(a48_0xff9922(0x131)),utilities=require(a48_0xff9922(0x10c)),yaml=require(a48_0xff9922(0x14a)),yargs=require(a48_0xff9922(0x108)),logger=require('../helpers/logger')[a48_0xff9922(0x112)],configFileTemplate=__dirname+a48_0xff9922(0x146),configFileTemplatePW=__dirname+'/../../browserstack.pw.yml.sample',configFile=process['cwd']()+a48_0xff9922(0x10f),packageFile=process['cwd']()+a48_0xff9922(0x10e),frameworks=[a48_0xff9922(0x132),a48_0xff9922(0x127),a48_0xff9922(0x110),a48_0xff9922(0x116),'nightwatch',a48_0xff9922(0x147),'playwright'];let config;logger[a48_0xff9922(0x113)]('Creating\x20configuration\x20file...'),createConfigurationFile(yargs[a48_0xff9922(0x12c)]['username'],yargs[a48_0xff9922(0x12c)]['key'],yargs[a48_0xff9922(0x12c)]['playwright']);function a48_0x2373(_0x12ccb4,_0x5289ba){const _0xa57682=a48_0xa576();return a48_0x2373=function(_0x23732e,_0x7870dd){_0x23732e=_0x23732e-0x104;let _0x3f8e71=_0xa57682[_0x23732e];return _0x3f8e71;},a48_0x2373(_0x12ccb4,_0x5289ba);}try{sdkSetup();}catch(a48_0x42fe38){logger[a48_0xff9922(0x148)](a48_0xff9922(0x137)+a48_0x42fe38);}addScriptInPackageJson();function createConfigurationFile(_0x46d950,_0x5268f6,_0x4e8b49=![]){const _0x41fce6=a48_0xff9922,_0x2823d3={};_0x2823d3[_0x41fce6(0x104)]=_0x41fce6(0x118),_0x2823d3[_0x41fce6(0x145)]=_0x41fce6(0x106),_0x2823d3['vUNab']=_0x41fce6(0x123);const _0x106a7e=_0x2823d3;try{let _0x757076=fs[_0x41fce6(0x12e)](_0x4e8b49?configFileTemplatePW:configFileTemplate,_0x106a7e[_0x41fce6(0x104)]);_0x46d950&&(_0x757076=_0x757076[_0x41fce6(0x124)](_0x106a7e[_0x41fce6(0x145)],_0x46d950)),_0x5268f6&&(_0x757076=_0x757076['replace'](_0x106a7e[_0x41fce6(0x11e)],_0x5268f6)),config=yaml[_0x41fce6(0x12a)](_0x757076),fs['writeFileSync'](configFile,_0x757076,_0x43830e=>{_0x43830e&&logger['error'](_0x43830e);});}catch(_0xda4cea){logger[_0x41fce6(0x115)](_0xda4cea);}}function addPostInstallScript(_0x291848,_0xdcaba4){const _0x391cd5=a48_0xff9922,_0x2f95b5={};_0x2f95b5[_0x391cd5(0x11d)]=_0x391cd5(0x119),_0x2f95b5[_0x391cd5(0x13a)]=_0x391cd5(0x144),_0x2f95b5['hQnXs']=_0x391cd5(0x14b);const _0x1c63e9=_0x2f95b5;let _0x43f062=_0x291848[_0x1c63e9['bWkXi']];if(_0x43f062&&_0x43f062['includes'](_0x1c63e9[_0x391cd5(0x13a)]))return;!_0x43f062?_0x43f062=_0x1c63e9['xbrzH']:_0x43f062+=_0x1c63e9[_0x391cd5(0x12d)],_0xdcaba4[_0x391cd5(0x120)]([_0x1c63e9['bWkXi'],_0x43f062]);}function a48_0xa576(){const _0xfb4392=['fireFunnelTestEvent','cTuBS','isUndefined','YOUR_USERNAME','PfaKx','yargs','uiiGM','429182PrmwcG','51376IYJodY','../helpers/utilities','zrxlI','/package.json','/browserstack.yml','cucumber-js','lxdFz','winstonLogger','info','includes','error','node','212442OphirW','utf8','postinstall','writeFileSync','JCGGp','browserstack-node-sdk\x20','bWkXi','vUNab','dkpmP','push','splice','vHjHb','YOUR_ACCESS_KEY','replace','entries','qqetq','jest','stringify','970UFLhGy','load','length','argv','hQnXs','readFileSync','RrkHD','16309098eUNYrg','../helpers/helper','mocha','-browserstack','1393KeCoRe','anClP','6154708iVfwfW','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','OWczn','BPxrh','xbrzH','bEIuP','SDKSetup','source','indexOf','15207FuxOIf','scripts','parse','Setup\x20completed','45924NVAzfC','npm\x20update\x20browserstack-node-sdk','mfBHB','/../../browserstack.yml.sample','codeceptjs','debug','browserstack-node-sdk','js-yaml','\x20&&\x20npm\x20update\x20browserstack-node-sdk'];a48_0xa576=function(){return _0xfb4392;};return a48_0xa576();}function addScriptInPackageJson(){const _0x25f66e=a48_0xff9922,_0x517129={'vHjHb':'utf8','OWczn':function(_0x58b763,_0x27becd){return _0x58b763<_0x27becd;},'uiiGM':function(_0x43f5dd,_0x3e481a,_0x4ab0f0){return _0x43f5dd(_0x3e481a,_0x4ab0f0);},'anClP':function(_0x23249c,_0x354223,_0x34869d){return _0x23249c(_0x354223,_0x34869d);},'bEIuP':function(_0xe75609,_0x1c8a05,_0x41ec72){return _0xe75609(_0x1c8a05,_0x41ec72);},'WsfeR':function(_0x4ce211,_0x243e52){return _0x4ce211<_0x243e52;},'dkpmP':function(_0x4c02c6,_0x60bb08){return _0x4c02c6!==_0x60bb08;},'QevdJ':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x485824=JSON[_0x25f66e(0x141)](fs[_0x25f66e(0x12e)](packageFile,_0x517129[_0x25f66e(0x122)])),_0xf9adc0=[];for(let _0x224ff1=0x0;_0x517129[_0x25f66e(0x138)](_0x224ff1,frameworks[_0x25f66e(0x12b)]);_0x224ff1+=0x1){const _0x692525=_0x517129[_0x25f66e(0x109)](findScriptsWithFramework,_0x485824[_0x25f66e(0x140)],frameworks[_0x224ff1]);for(let _0x336687=0x0;_0x517129[_0x25f66e(0x138)](_0x336687,_0x692525[_0x25f66e(0x12b)]);_0x336687+=0x1){_0xf9adc0[_0x25f66e(0x120)](_0x517129[_0x25f66e(0x135)](getUpdatedCommand,_0x485824[_0x25f66e(0x140)],_0x692525[_0x336687]));}_0x517129[_0x25f66e(0x13b)](addPostInstallScript,_0x485824[_0x25f66e(0x140)],_0xf9adc0);}const _0x56ad1f={..._0x485824[_0x25f66e(0x140)]},_0x52d78d=_0x56ad1f;for(let _0x18c3f0=0x0;_0x517129['WsfeR'](_0x18c3f0,_0xf9adc0['length']);_0x18c3f0+=0x1){_0x52d78d[_0xf9adc0[_0x18c3f0][0x0]]=_0xf9adc0[_0x18c3f0][0x1];}_0x517129[_0x25f66e(0x11f)](JSON[_0x25f66e(0x128)](_0x485824[_0x25f66e(0x140)]),JSON['stringify'](_0x52d78d))&&(logger['info'](_0x517129['QevdJ']),_0x485824[_0x25f66e(0x140)]=_0x52d78d,fs[_0x25f66e(0x11a)](packageFile,JSON['stringify'](_0x485824,null,0x2),_0x20a443=>{const _0x457333=_0x25f66e;_0x20a443&&logger[_0x457333(0x115)](_0x20a443);}));};function findScriptsWithFramework(_0x564f5b,_0x2e138c){const _0x6758e5=a48_0xff9922,_0x5ad468={};_0x5ad468[_0x6758e5(0x111)]=function(_0x3f9df8,_0x1a324){return _0x3f9df8<_0x1a324;},_0x5ad468[_0x6758e5(0x10d)]=_0x6758e5(0x149);const _0x2850e6=_0x5ad468,_0x293bf8=[],_0x3c1556=Object[_0x6758e5(0x125)](_0x564f5b);for(let _0x425cb3=0x0;_0x2850e6[_0x6758e5(0x111)](_0x425cb3,_0x3c1556[_0x6758e5(0x12b)]);_0x425cb3+=0x1){_0x3c1556[_0x425cb3][0x1][_0x6758e5(0x114)](_0x2e138c)&&!_0x3c1556[_0x425cb3][0x1]['includes'](_0x2850e6['zrxlI'])&&_0x293bf8[_0x6758e5(0x120)](_0x3c1556[_0x425cb3][0x0]);}return _0x293bf8;}function getUpdatedCommand(_0x4d930e,_0x567493){const _0x5275d2=a48_0xff9922,_0x2771ad={};_0x2771ad[_0x5275d2(0x12f)]=function(_0x379097,_0x2ab7af){return _0x379097!==_0x2ab7af;},_0x2771ad[_0x5275d2(0x126)]=_0x5275d2(0x149),_0x2771ad[_0x5275d2(0x11b)]=function(_0x5ebd21,_0x27f925){return _0x5ebd21===_0x27f925;};const _0x51f1b7=_0x2771ad,_0x2b422e=_0x567493+_0x5275d2(0x133),_0x3c02ca=_0x4d930e[_0x567493],_0x549246=_0x3c02ca['split']('\x20');for(const _0x513099 of frameworks){if(_0x51f1b7[_0x5275d2(0x12f)](_0x549246[_0x5275d2(0x13e)](_0x513099),-0x1)){_0x549246[_0x5275d2(0x121)](_0x549246[_0x5275d2(0x13e)](_0x513099),0x0,_0x51f1b7[_0x5275d2(0x126)]);break;}}let _0x14bd99=_0x549246['join']('\x20');return _0x51f1b7['JCGGp'](_0x14bd99,_0x3c02ca)&&(_0x14bd99=_0x5275d2(0x11c)+_0x3c02ca),[_0x2b422e,_0x14bd99];}function sdkSetup(){const _0x4f4ad7=a48_0xff9922,_0x355ff9={};_0x355ff9[_0x4f4ad7(0x107)]='node-setup',_0x355ff9[_0x4f4ad7(0x139)]=_0x4f4ad7(0x13c);const _0x387d2a=_0x355ff9;if(helper[_0x4f4ad7(0x105)](config))return;config[_0x4f4ad7(0x13d)]=_0x387d2a[_0x4f4ad7(0x107)];try{utilities[_0x4f4ad7(0x14c)](_0x387d2a[_0x4f4ad7(0x139)],{},config,'');}catch(_0x246f90){logger[_0x4f4ad7(0x148)](_0x4f4ad7(0x137)+_0x246f90);}}logger[a48_0xff9922(0x113)](a48_0xff9922(0x142));