#!/usr/bin/env node

function a45_0x2bc4(){const _0x34fa0c=['indexOf','username','71109ZJQxpJ','entries','22lrLJXn','1172055yIZkxL','3713718qbhBiQ','/../../browserstack.yml.sample','isUndefined','1918705PkTVoa','4nPkYrL','Adding\x20new\x20script(s)\x20in\x20package.json...','npm\x20update\x20browserstack-node-sdk','TZMGc','270rutcba','includes','Yngtp','/package.json','key','push','replace','browserstack-node-sdk','485sXQcVP','playwright','node','postinstall','parse','error','utf8','scripts','\x20&&\x20npm\x20update\x20browserstack-node-sdk','QBoeu','../helpers/logger','Creating\x20configuration\x20file...','QSJot','winstonLogger','Setup\x20completed','mocha','nmdan','EwVVh','readFileSync','cucumber-js','jest','HjWMW','YOUR_ACCESS_KEY','source','jLjMj','length','dWjMW','join','WMcto','/browserstack.yml','argv','splice','js-yaml','2278daUbjG','debug','cwd','stringify','TPrGH','browserstack-node-sdk\x20','JFMbk','dhvck','QGOPR','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','../helpers/utilities','103082PdOFnW','split','yqobP','info','codeceptjs','tHtQp','168tsBfJf','GHtFw','10418388kZJpeX','/../../browserstack.pw.yml.sample','yargs','xYJfD'];a45_0x2bc4=function(){return _0x34fa0c;};return a45_0x2bc4();}const a45_0xc0cb7=a45_0x3b87;(function(_0x35cb33,_0x3ab0f9){const _0x19bff4=a45_0x3b87,_0x548c5c=_0x35cb33();while(!![]){try{const _0x3e91dd=-parseInt(_0x19bff4(0x137))/0x1*(parseInt(_0x19bff4(0x10a))/0x2)+-parseInt(_0x19bff4(0x126))/0x3+parseInt(_0x19bff4(0x12b))/0x4*(-parseInt(_0x19bff4(0x12a))/0x5)+-parseInt(_0x19bff4(0x127))/0x6+-parseInt(_0x19bff4(0x115))/0x7*(-parseInt(_0x19bff4(0x11b))/0x8)+-parseInt(_0x19bff4(0x123))/0x9*(-parseInt(_0x19bff4(0x12f))/0xa)+parseInt(_0x19bff4(0x125))/0xb*(parseInt(_0x19bff4(0x11d))/0xc);if(_0x3e91dd===_0x3ab0f9)break;else _0x548c5c['push'](_0x548c5c['shift']());}catch(_0x2e0efa){_0x548c5c['push'](_0x548c5c['shift']());}}}(a45_0x2bc4,0x4c759));const fs=require('fs'),helper=require('../helpers/helper'),utilities=require(a45_0xc0cb7(0x114)),yaml=require(a45_0xc0cb7(0x109)),yargs=require(a45_0xc0cb7(0x11f)),logger=require(a45_0xc0cb7(0x141))[a45_0xc0cb7(0xf6)],configFileTemplate=__dirname+a45_0xc0cb7(0x128),configFileTemplatePW=__dirname+a45_0xc0cb7(0x11e),configFile=process[a45_0xc0cb7(0x10c)]()+a45_0xc0cb7(0x106),packageFile=process[a45_0xc0cb7(0x10c)]()+a45_0xc0cb7(0x132),frameworks=[a45_0xc0cb7(0xf8),a45_0xc0cb7(0xfd),a45_0xc0cb7(0xfc),a45_0xc0cb7(0x139),'nightwatch',a45_0xc0cb7(0x119),a45_0xc0cb7(0x138)];let config;logger[a45_0xc0cb7(0x118)](a45_0xc0cb7(0xf4)),createConfigurationFile(yargs[a45_0xc0cb7(0x107)][a45_0xc0cb7(0x122)],yargs[a45_0xc0cb7(0x107)][a45_0xc0cb7(0x133)],yargs[a45_0xc0cb7(0x107)]['playwright']);try{sdkSetup();}catch(a45_0x66c099){logger[a45_0xc0cb7(0x10b)]('Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20'+a45_0x66c099);}addScriptInPackageJson();function createConfigurationFile(_0x3d984f,_0x522910,_0x25b346=![]){const _0x334d6e=a45_0xc0cb7,_0x2cd893={};_0x2cd893[_0x334d6e(0x117)]=_0x334d6e(0x13d),_0x2cd893[_0x334d6e(0x103)]='YOUR_USERNAME',_0x2cd893[_0x334d6e(0x12e)]=_0x334d6e(0xff);const _0x6127eb=_0x2cd893;try{let _0x3f3ba4=fs[_0x334d6e(0xfb)](_0x25b346?configFileTemplatePW:configFileTemplate,_0x6127eb[_0x334d6e(0x117)]);_0x3d984f&&(_0x3f3ba4=_0x3f3ba4[_0x334d6e(0x135)](_0x6127eb[_0x334d6e(0x103)],_0x3d984f)),_0x522910&&(_0x3f3ba4=_0x3f3ba4['replace'](_0x6127eb[_0x334d6e(0x12e)],_0x522910)),config=yaml['load'](_0x3f3ba4),fs['writeFileSync'](configFile,_0x3f3ba4,_0x5ba133=>{const _0x229469=_0x334d6e;_0x5ba133&&logger[_0x229469(0x13c)](_0x5ba133);});}catch(_0x522246){logger[_0x334d6e(0x13c)](_0x522246);}}function addPostInstallScript(_0xa78462,_0x3adf80){const _0x4333ed=a45_0xc0cb7,_0x9bba23={};_0x9bba23[_0x4333ed(0x112)]=_0x4333ed(0x13a),_0x9bba23[_0x4333ed(0x110)]=_0x4333ed(0x12d),_0x9bba23['HjWMW']=_0x4333ed(0x13f);const _0x4a96ce=_0x9bba23;let _0x3ad2cd=_0xa78462[_0x4a96ce[_0x4333ed(0x112)]];if(_0x3ad2cd&&_0x3ad2cd[_0x4333ed(0x130)](_0x4a96ce[_0x4333ed(0x110)]))return;!_0x3ad2cd?_0x3ad2cd=_0x4a96ce[_0x4333ed(0x110)]:_0x3ad2cd+=_0x4a96ce[_0x4333ed(0xfe)],_0x3adf80[_0x4333ed(0x134)]([_0x4a96ce[_0x4333ed(0x112)],_0x3ad2cd]);}function addScriptInPackageJson(){const _0x141e0b=a45_0xc0cb7,_0x594829={'QSJot':_0x141e0b(0x13d),'QBoeu':function(_0x491751,_0x44fbc7){return _0x491751<_0x44fbc7;},'dhvck':function(_0xd2ecbe,_0xc626c,_0x339838){return _0xd2ecbe(_0xc626c,_0x339838);},'WMcto':function(_0x3251f9,_0xb622d5){return _0x3251f9<_0xb622d5;},'tHtQp':function(_0x5223ee,_0x5e3b3b){return _0x5223ee!==_0x5e3b3b;},'yAeyc':_0x141e0b(0x12c)},_0x21dd91=JSON[_0x141e0b(0x13b)](fs[_0x141e0b(0xfb)](packageFile,_0x594829[_0x141e0b(0xf5)])),_0x164703=[];for(let _0x2dc808=0x0;_0x594829[_0x141e0b(0x140)](_0x2dc808,frameworks[_0x141e0b(0x102)]);_0x2dc808+=0x1){const _0x25cc10=_0x594829[_0x141e0b(0x111)](findScriptsWithFramework,_0x21dd91[_0x141e0b(0x13e)],frameworks[_0x2dc808]);for(let _0x34617e=0x0;_0x594829[_0x141e0b(0x105)](_0x34617e,_0x25cc10[_0x141e0b(0x102)]);_0x34617e+=0x1){_0x164703[_0x141e0b(0x134)](_0x594829['dhvck'](getUpdatedCommand,_0x21dd91[_0x141e0b(0x13e)],_0x25cc10[_0x34617e]));}_0x594829['dhvck'](addPostInstallScript,_0x21dd91[_0x141e0b(0x13e)],_0x164703);}const _0x2689e4={..._0x21dd91[_0x141e0b(0x13e)]},_0x30fa4f=_0x2689e4;for(let _0x2ffa52=0x0;_0x594829['QBoeu'](_0x2ffa52,_0x164703['length']);_0x2ffa52+=0x1){_0x30fa4f[_0x164703[_0x2ffa52][0x0]]=_0x164703[_0x2ffa52][0x1];}_0x594829[_0x141e0b(0x11a)](JSON[_0x141e0b(0x10d)](_0x21dd91[_0x141e0b(0x13e)]),JSON[_0x141e0b(0x10d)](_0x30fa4f))&&(logger[_0x141e0b(0x118)](_0x594829['yAeyc']),_0x21dd91[_0x141e0b(0x13e)]=_0x30fa4f,fs['writeFileSync'](packageFile,JSON['stringify'](_0x21dd91,null,0x2),_0x11187f=>{const _0x22ab6d=_0x141e0b;_0x11187f&&logger[_0x22ab6d(0x13c)](_0x11187f);}));}function a45_0x3b87(_0x42def3,_0xc8273){const _0x2bc40c=a45_0x2bc4();return a45_0x3b87=function(_0x3b87cc,_0x564654){_0x3b87cc=_0x3b87cc-0xf4;let _0xcd23a1=_0x2bc40c[_0x3b87cc];return _0xcd23a1;},a45_0x3b87(_0x42def3,_0xc8273);};function findScriptsWithFramework(_0x88c84c,_0x44679b){const _0x49069e=a45_0xc0cb7,_0x45468a={};_0x45468a['nmdan']=function(_0x293789,_0x575d12){return _0x293789<_0x575d12;},_0x45468a[_0x49069e(0x131)]=_0x49069e(0x136);const _0x55fd29=_0x45468a,_0x128002=[],_0x4e6cff=Object[_0x49069e(0x124)](_0x88c84c);for(let _0x273117=0x0;_0x55fd29[_0x49069e(0xf9)](_0x273117,_0x4e6cff[_0x49069e(0x102)]);_0x273117+=0x1){_0x4e6cff[_0x273117][0x1][_0x49069e(0x130)](_0x44679b)&&!_0x4e6cff[_0x273117][0x1][_0x49069e(0x130)](_0x55fd29[_0x49069e(0x131)])&&_0x128002[_0x49069e(0x134)](_0x4e6cff[_0x273117][0x0]);}return _0x128002;}function getUpdatedCommand(_0x4705a6,_0x28a7f5){const _0x3311ce=a45_0xc0cb7,_0x5a0cf8={};_0x5a0cf8[_0x3311ce(0x11c)]=function(_0x1893fe,_0x17b6c2){return _0x1893fe!==_0x17b6c2;},_0x5a0cf8[_0x3311ce(0xfa)]=_0x3311ce(0x136),_0x5a0cf8[_0x3311ce(0x10e)]=function(_0x1e05a0,_0xdf8f1d){return _0x1e05a0===_0xdf8f1d;};const _0x36676f=_0x5a0cf8,_0x444d59=_0x28a7f5+'-browserstack',_0x152e48=_0x4705a6[_0x28a7f5],_0x58dc1d=_0x152e48[_0x3311ce(0x116)]('\x20');for(const _0x15456f of frameworks){if(_0x36676f['GHtFw'](_0x58dc1d[_0x3311ce(0x121)](_0x15456f),-0x1)){_0x58dc1d[_0x3311ce(0x108)](_0x58dc1d[_0x3311ce(0x121)](_0x15456f),0x0,_0x36676f[_0x3311ce(0xfa)]);break;}}let _0x9d1187=_0x58dc1d[_0x3311ce(0x104)]('\x20');return _0x36676f['TPrGH'](_0x9d1187,_0x152e48)&&(_0x9d1187=_0x3311ce(0x10f)+_0x152e48),[_0x444d59,_0x9d1187];}function sdkSetup(){const _0x195d8c=a45_0xc0cb7,_0x722db1={};_0x722db1[_0x195d8c(0x120)]='node-setup',_0x722db1[_0x195d8c(0x101)]='SDKSetup';const _0xdfea74=_0x722db1;if(helper[_0x195d8c(0x129)](config))return;config[_0x195d8c(0x100)]=_0xdfea74['xYJfD'];try{utilities['fireFunnelTestEvent'](_0xdfea74[_0x195d8c(0x101)],{},config,'');}catch(_0x4a6452){logger[_0x195d8c(0x10b)](_0x195d8c(0x113)+_0x4a6452);}}logger['info'](a45_0xc0cb7(0xf7));