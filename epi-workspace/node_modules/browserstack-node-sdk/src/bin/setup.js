#!/usr/bin/env node

function a49_0x4735(){const _0x2fe68f=['fireFunnelTestEvent','/browserstack.yml','username','IZwMz','qeSTK','7340125mkESiF','JFnkH','ZuesE','argv','YmyIs','rwpVL','browserstack-node-sdk\x20','../helpers/utilities','Setup\x20completed','browserstack-node-sdk','winstonLogger','934274kMZilo','../helpers/helper','entries','push','YOUR_ACCESS_KEY','npm\x20update\x20browserstack-node-sdk','cbvCT','replace','postinstall','FhNly','42zCcesO','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','MBxcG','debug','playwright','js-yaml','189KhcQKe','split','yZIim','YIVYa','12235376yhLMxa','yargs','1281364UAREjk','node-setup','../helpers/logger','error','4974540KGqXwL','writeFileSync','PccaZ','806490hvqdiT','24454uZvfou','jest','isUndefined','orAJd','YOUR_USERNAME','includes','gJqIf','\x20&&\x20npm\x20update\x20browserstack-node-sdk','length','rSiyg','-browserstack','codeceptjs','/../../browserstack.yml.sample','scripts','parse','cwd','stringify','indexOf','wXGDt','load','ozFeq','xOSrc','Adding\x20new\x20script(s)\x20in\x20package.json...','readFileSync','kmNLP','300DLynjz','/../../browserstack.pw.yml.sample','SDKSetup','info'];a49_0x4735=function(){return _0x2fe68f;};return a49_0x4735();}const a49_0x5d0dbd=a49_0x3d2e;function a49_0x3d2e(_0x4f584c,_0x2ea970){const _0x473552=a49_0x4735();return a49_0x3d2e=function(_0x3d2eb5,_0x5d72b0){_0x3d2eb5=_0x3d2eb5-0x18d;let _0x3001be=_0x473552[_0x3d2eb5];return _0x3001be;},a49_0x3d2e(_0x4f584c,_0x2ea970);}(function(_0x28fb28,_0x375aad){const _0x27362c=a49_0x3d2e,_0x54ddc5=_0x28fb28();while(!![]){try{const _0xf4b155=parseInt(_0x27362c(0x1b9))/0x1+parseInt(_0x27362c(0x1d7))/0x2*(parseInt(_0x27362c(0x1a5))/0x3)+parseInt(_0x27362c(0x1d3))/0x4+-parseInt(_0x27362c(0x1ae))/0x5+-parseInt(_0x27362c(0x1c3))/0x6*(parseInt(_0x27362c(0x1cf))/0x7)+-parseInt(_0x27362c(0x1cd))/0x8+-parseInt(_0x27362c(0x1c9))/0x9*(-parseInt(_0x27362c(0x1d6))/0xa);if(_0xf4b155===_0x375aad)break;else _0x54ddc5['push'](_0x54ddc5['shift']());}catch(_0x348b85){_0x54ddc5['push'](_0x54ddc5['shift']());}}}(a49_0x4735,0xc7143));const fs=require('fs'),helper=require(a49_0x5d0dbd(0x1ba)),utilities=require(a49_0x5d0dbd(0x1b5)),yaml=require(a49_0x5d0dbd(0x1c8)),yargs=require(a49_0x5d0dbd(0x1ce)),logger=require(a49_0x5d0dbd(0x1d1))[a49_0x5d0dbd(0x1b8)],configFileTemplate=__dirname+a49_0x5d0dbd(0x198),configFileTemplatePW=__dirname+a49_0x5d0dbd(0x1a6),configFile=process[a49_0x5d0dbd(0x19b)]()+a49_0x5d0dbd(0x1aa),packageFile=process[a49_0x5d0dbd(0x19b)]()+'/package.json',frameworks=['mocha',a49_0x5d0dbd(0x18d),'cucumber-js','node','nightwatch',a49_0x5d0dbd(0x197),a49_0x5d0dbd(0x1c7)];let config;logger[a49_0x5d0dbd(0x1a8)]('Creating\x20configuration\x20file...'),createConfigurationFile(yargs[a49_0x5d0dbd(0x1b1)][a49_0x5d0dbd(0x1ab)],yargs[a49_0x5d0dbd(0x1b1)]['key'],yargs[a49_0x5d0dbd(0x1b1)][a49_0x5d0dbd(0x1c7)]);try{sdkSetup();}catch(a49_0x2d8736){logger[a49_0x5d0dbd(0x1c6)](a49_0x5d0dbd(0x1c4)+a49_0x2d8736);}addScriptInPackageJson();function createConfigurationFile(_0x5161bf,_0x30a958,_0x18c9f3=![]){const _0x359c1d=a49_0x5d0dbd,_0x48a24f={};_0x48a24f['PccaZ']='utf8',_0x48a24f[_0x359c1d(0x1c2)]=_0x359c1d(0x190),_0x48a24f['chVAP']=_0x359c1d(0x1bd);const _0x3a21c0=_0x48a24f;try{let _0xc4f666=fs[_0x359c1d(0x1a3)](_0x18c9f3?configFileTemplatePW:configFileTemplate,_0x3a21c0[_0x359c1d(0x1d5)]);_0x5161bf&&(_0xc4f666=_0xc4f666[_0x359c1d(0x1c0)](_0x3a21c0[_0x359c1d(0x1c2)],_0x5161bf)),_0x30a958&&(_0xc4f666=_0xc4f666[_0x359c1d(0x1c0)](_0x3a21c0['chVAP'],_0x30a958)),config=yaml[_0x359c1d(0x19f)](_0xc4f666),fs[_0x359c1d(0x1d4)](configFile,_0xc4f666,_0x14e79f=>{const _0x31ff52=_0x359c1d;_0x14e79f&&logger[_0x31ff52(0x1d2)](_0x14e79f);});}catch(_0x3c15fc){logger[_0x359c1d(0x1d2)](_0x3c15fc);}}function addPostInstallScript(_0x4b28ce,_0x2771b6){const _0x7fa5aa=a49_0x5d0dbd,_0xab3a61={};_0xab3a61[_0x7fa5aa(0x1a0)]=_0x7fa5aa(0x1c1),_0xab3a61[_0x7fa5aa(0x1c5)]=_0x7fa5aa(0x1be),_0xab3a61[_0x7fa5aa(0x1cc)]=_0x7fa5aa(0x193);const _0x45c658=_0xab3a61;let _0x4aaefe=_0x4b28ce[_0x45c658[_0x7fa5aa(0x1a0)]];if(_0x4aaefe&&_0x4aaefe[_0x7fa5aa(0x191)](_0x45c658[_0x7fa5aa(0x1c5)]))return;!_0x4aaefe?_0x4aaefe=_0x45c658[_0x7fa5aa(0x1c5)]:_0x4aaefe+=_0x45c658[_0x7fa5aa(0x1cc)],_0x2771b6[_0x7fa5aa(0x1bc)]([_0x45c658[_0x7fa5aa(0x1a0)],_0x4aaefe]);}function addScriptInPackageJson(){const _0x49cae3=a49_0x5d0dbd,_0x56927a={'orAJd':'utf8','yZIim':function(_0x414356,_0x2122ed){return _0x414356<_0x2122ed;},'kmNLP':function(_0x866f08,_0x42f5f0,_0x1b5c9c){return _0x866f08(_0x42f5f0,_0x1b5c9c);},'rwpVL':function(_0x265338,_0x11eab7,_0x453fc6){return _0x265338(_0x11eab7,_0x453fc6);},'wXGDt':function(_0x29cd2e,_0x3e920d){return _0x29cd2e<_0x3e920d;},'rSiyg':function(_0x3b36e3,_0x49451f){return _0x3b36e3!==_0x49451f;},'JFnkH':_0x49cae3(0x1a2)},_0x3f5080=JSON[_0x49cae3(0x19a)](fs[_0x49cae3(0x1a3)](packageFile,_0x56927a[_0x49cae3(0x18f)])),_0x2773bf=[];for(let _0x3dc51f=0x0;_0x56927a[_0x49cae3(0x1cb)](_0x3dc51f,frameworks[_0x49cae3(0x194)]);_0x3dc51f+=0x1){const _0x56c5c0=_0x56927a[_0x49cae3(0x1a4)](findScriptsWithFramework,_0x3f5080[_0x49cae3(0x199)],frameworks[_0x3dc51f]);for(let _0x1d4930=0x0;_0x56927a[_0x49cae3(0x1cb)](_0x1d4930,_0x56c5c0['length']);_0x1d4930+=0x1){_0x2773bf[_0x49cae3(0x1bc)](_0x56927a[_0x49cae3(0x1a4)](getUpdatedCommand,_0x3f5080[_0x49cae3(0x199)],_0x56c5c0[_0x1d4930]));}_0x56927a[_0x49cae3(0x1b3)](addPostInstallScript,_0x3f5080['scripts'],_0x2773bf);}const _0xa62478={..._0x3f5080[_0x49cae3(0x199)]},_0x5a6501=_0xa62478;for(let _0x10d827=0x0;_0x56927a[_0x49cae3(0x19e)](_0x10d827,_0x2773bf[_0x49cae3(0x194)]);_0x10d827+=0x1){_0x5a6501[_0x2773bf[_0x10d827][0x0]]=_0x2773bf[_0x10d827][0x1];}_0x56927a[_0x49cae3(0x195)](JSON[_0x49cae3(0x19c)](_0x3f5080['scripts']),JSON['stringify'](_0x5a6501))&&(logger[_0x49cae3(0x1a8)](_0x56927a[_0x49cae3(0x1af)]),_0x3f5080['scripts']=_0x5a6501,fs['writeFileSync'](packageFile,JSON[_0x49cae3(0x19c)](_0x3f5080,null,0x2),_0x43707a=>{const _0x388a70=_0x49cae3;_0x43707a&&logger[_0x388a70(0x1d2)](_0x43707a);}));};function findScriptsWithFramework(_0x30b83c,_0x3bd83d){const _0x24c1f1=a49_0x5d0dbd,_0x402c97={};_0x402c97[_0x24c1f1(0x1ac)]=function(_0x3b7f78,_0xe9cda6){return _0x3b7f78<_0xe9cda6;},_0x402c97['xOSrc']='browserstack-node-sdk';const _0x54db2a=_0x402c97,_0x3563b8=[],_0x6e09e1=Object[_0x24c1f1(0x1bb)](_0x30b83c);for(let _0x2f7980=0x0;_0x54db2a[_0x24c1f1(0x1ac)](_0x2f7980,_0x6e09e1['length']);_0x2f7980+=0x1){_0x6e09e1[_0x2f7980][0x1][_0x24c1f1(0x191)](_0x3bd83d)&&!_0x6e09e1[_0x2f7980][0x1]['includes'](_0x54db2a[_0x24c1f1(0x1a1)])&&_0x3563b8[_0x24c1f1(0x1bc)](_0x6e09e1[_0x2f7980][0x0]);}return _0x3563b8;}function getUpdatedCommand(_0x3331dd,_0x39d311){const _0x43c55b=a49_0x5d0dbd,_0x44bd2e={};_0x44bd2e[_0x43c55b(0x192)]=function(_0x2424c6,_0x438808){return _0x2424c6!==_0x438808;},_0x44bd2e[_0x43c55b(0x1b0)]=_0x43c55b(0x1b7),_0x44bd2e[_0x43c55b(0x1b2)]=function(_0x1a69a1,_0x3078c6){return _0x1a69a1===_0x3078c6;};const _0x5052ba=_0x44bd2e,_0x397858=_0x39d311+_0x43c55b(0x196),_0xcbb05f=_0x3331dd[_0x39d311],_0x3ed26d=_0xcbb05f[_0x43c55b(0x1ca)]('\x20');for(const _0x55ebf0 of frameworks){if(_0x5052ba[_0x43c55b(0x192)](_0x3ed26d[_0x43c55b(0x19d)](_0x55ebf0),-0x1)){_0x3ed26d['splice'](_0x3ed26d[_0x43c55b(0x19d)](_0x55ebf0),0x0,_0x5052ba[_0x43c55b(0x1b0)]);break;}}let _0x493f12=_0x3ed26d['join']('\x20');return _0x5052ba[_0x43c55b(0x1b2)](_0x493f12,_0xcbb05f)&&(_0x493f12=_0x43c55b(0x1b4)+_0xcbb05f),[_0x397858,_0x493f12];}function sdkSetup(){const _0x7d4c01=a49_0x5d0dbd,_0x1a007d={};_0x1a007d[_0x7d4c01(0x1ad)]=_0x7d4c01(0x1d0),_0x1a007d[_0x7d4c01(0x1bf)]=_0x7d4c01(0x1a7);const _0x615501=_0x1a007d;if(helper[_0x7d4c01(0x18e)](config))return;config['source']=_0x615501[_0x7d4c01(0x1ad)];try{utilities[_0x7d4c01(0x1a9)](_0x615501[_0x7d4c01(0x1bf)],{},config,'');}catch(_0x553b64){logger[_0x7d4c01(0x1c6)](_0x7d4c01(0x1c4)+_0x553b64);}}logger[a49_0x5d0dbd(0x1a8)](a49_0x5d0dbd(0x1b6));