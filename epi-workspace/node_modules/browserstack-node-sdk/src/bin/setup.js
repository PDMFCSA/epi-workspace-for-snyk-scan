#!/usr/bin/env node

const a49_0x1b009c=a49_0x4f3f;(function(_0x8813d2,_0x272e8c){const _0x24580f=a49_0x4f3f,_0x448f65=_0x8813d2();while(!![]){try{const _0x5b352b=parseInt(_0x24580f(0xe9))/0x1+-parseInt(_0x24580f(0xd5))/0x2*(-parseInt(_0x24580f(0xb4))/0x3)+-parseInt(_0x24580f(0xad))/0x4*(-parseInt(_0x24580f(0x9c))/0x5)+parseInt(_0x24580f(0xea))/0x6*(parseInt(_0x24580f(0xbb))/0x7)+parseInt(_0x24580f(0xda))/0x8*(parseInt(_0x24580f(0xc1))/0x9)+-parseInt(_0x24580f(0xe2))/0xa*(parseInt(_0x24580f(0xde))/0xb)+-parseInt(_0x24580f(0xd9))/0xc;if(_0x5b352b===_0x272e8c)break;else _0x448f65['push'](_0x448f65['shift']());}catch(_0x2682d7){_0x448f65['push'](_0x448f65['shift']());}}}(a49_0x3587,0x8f534));function a49_0x3587(){const _0x39f693=['../helpers/utilities','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','46533HTnzZu','info','tpgvi','XaAHl','browserstack-node-sdk','entries','sojSY','197673kuyekw','YOUR_ACCESS_KEY','jest','SoRFi','/browserstack.yml','isUndefined','18FBvVKJ','length','node-setup','load','join','Gfuew','npm\x20update\x20browserstack-node-sdk','../helpers/helper','\x20&&\x20npm\x20update\x20browserstack-node-sdk','stringify','tFoJM','yargs','SDKSetup','Setup\x20completed','push','node','indexOf','UIqDk','MVdIk','splice','40gIDjVX','source','js-yaml','replace','16420020ETngZH','1805208IcdwJr','debug','username','parse','66QbVYOr','/../../browserstack.yml.sample','argv','scripts','523340SfzOTR','NLYFs','fireFunnelTestEvent','postinstall','error','../helpers/logger','WFnpJ','88835bwIhRT','234umromi','utf8','/../../browserstack.pw.yml.sample','5pNvMZv','browserstack-node-sdk\x20','mocha','ZxtJD','vEUqr','VsscG','YOUR_USERNAME','GOxKV','includes','BZgIv','codeceptjs','writeFileSync','sDHFD','playwright','Creating\x20configuration\x20file...','key','FrqaZ','1270884UVhDui','HbwEL','cwd','RNGSF','readFileSync'];a49_0x3587=function(){return _0x39f693;};return a49_0x3587();}const fs=require('fs'),helper=require(a49_0x1b009c(0xc8)),utilities=require(a49_0x1b009c(0xb2)),yaml=require(a49_0x1b009c(0xd7)),yargs=require(a49_0x1b009c(0xcc)),logger=require(a49_0x1b009c(0xe7))['winstonLogger'],configFileTemplate=__dirname+a49_0x1b009c(0xdf),configFileTemplatePW=__dirname+a49_0x1b009c(0x9b),configFile=process['cwd']()+a49_0x1b009c(0xbf),packageFile=process[a49_0x1b009c(0xaf)]()+'/package.json',frameworks=[a49_0x1b009c(0x9e),a49_0x1b009c(0xbd),'cucumber-js',a49_0x1b009c(0xd0),'nightwatch',a49_0x1b009c(0xa6),a49_0x1b009c(0xa9)];let config;logger[a49_0x1b009c(0xb5)](a49_0x1b009c(0xaa)),createConfigurationFile(yargs[a49_0x1b009c(0xe0)][a49_0x1b009c(0xdc)],yargs[a49_0x1b009c(0xe0)][a49_0x1b009c(0xab)],yargs[a49_0x1b009c(0xe0)][a49_0x1b009c(0xa9)]);function a49_0x4f3f(_0x276f62,_0x961076){const _0x3587f8=a49_0x3587();return a49_0x4f3f=function(_0x4f3f50,_0x6af91b){_0x4f3f50=_0x4f3f50-0x9a;let _0x43127b=_0x3587f8[_0x4f3f50];return _0x43127b;},a49_0x4f3f(_0x276f62,_0x961076);}try{sdkSetup();}catch(a49_0x4f7b7d){logger[a49_0x1b009c(0xdb)](a49_0x1b009c(0xb3)+a49_0x4f7b7d);}addScriptInPackageJson();function createConfigurationFile(_0x6d93aa,_0x59f37c,_0x269d22=![]){const _0x3c4b80=a49_0x1b009c,_0x50c436={};_0x50c436[_0x3c4b80(0xa1)]=_0x3c4b80(0x9a),_0x50c436['tpgvi']=_0x3c4b80(0xa2),_0x50c436['tFoJM']=_0x3c4b80(0xbc);const _0x28ed0b=_0x50c436;try{let _0x3eaaa7=fs[_0x3c4b80(0xb1)](_0x269d22?configFileTemplatePW:configFileTemplate,_0x28ed0b[_0x3c4b80(0xa1)]);_0x6d93aa&&(_0x3eaaa7=_0x3eaaa7[_0x3c4b80(0xd8)](_0x28ed0b[_0x3c4b80(0xb6)],_0x6d93aa)),_0x59f37c&&(_0x3eaaa7=_0x3eaaa7[_0x3c4b80(0xd8)](_0x28ed0b[_0x3c4b80(0xcb)],_0x59f37c)),config=yaml[_0x3c4b80(0xc4)](_0x3eaaa7),fs['writeFileSync'](configFile,_0x3eaaa7,_0x44c323=>{const _0xb2dd57=_0x3c4b80;_0x44c323&&logger[_0xb2dd57(0xe6)](_0x44c323);});}catch(_0x3d115d){logger[_0x3c4b80(0xe6)](_0x3d115d);}}function addPostInstallScript(_0x1f2d80,_0x1e2300){const _0x1e2d7a=a49_0x1b009c,_0x264453={};_0x264453[_0x1e2d7a(0xac)]=_0x1e2d7a(0xe5),_0x264453[_0x1e2d7a(0xd2)]=_0x1e2d7a(0xc7),_0x264453['HbwEL']=_0x1e2d7a(0xc9);const _0x154d6f=_0x264453;let _0x285064=_0x1f2d80[_0x154d6f['FrqaZ']];if(_0x285064&&_0x285064[_0x1e2d7a(0xa4)](_0x154d6f[_0x1e2d7a(0xd2)]))return;!_0x285064?_0x285064=_0x154d6f['UIqDk']:_0x285064+=_0x154d6f[_0x1e2d7a(0xae)],_0x1e2300[_0x1e2d7a(0xcf)]([_0x154d6f[_0x1e2d7a(0xac)],_0x285064]);}function addScriptInPackageJson(){const _0xad80a3=a49_0x1b009c,_0x571783={'MVdIk':_0xad80a3(0x9a),'XaAHl':function(_0x5becc5,_0x5b64bf){return _0x5becc5<_0x5b64bf;},'SoRFi':function(_0x3e9a73,_0x3fc653,_0x47ae1a){return _0x3e9a73(_0x3fc653,_0x47ae1a);},'RNGSF':function(_0x47baf0,_0x57d83f){return _0x47baf0<_0x57d83f;},'sojSY':function(_0x19cc01,_0x89a1bc){return _0x19cc01!==_0x89a1bc;},'sDHFD':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x102224=JSON[_0xad80a3(0xdd)](fs[_0xad80a3(0xb1)](packageFile,_0x571783[_0xad80a3(0xd3)])),_0x1ad28b=[];for(let _0x3b7e97=0x0;_0x571783[_0xad80a3(0xb7)](_0x3b7e97,frameworks[_0xad80a3(0xc2)]);_0x3b7e97+=0x1){const _0x585831=_0x571783['SoRFi'](findScriptsWithFramework,_0x102224['scripts'],frameworks[_0x3b7e97]);for(let _0x50abee=0x0;_0x571783[_0xad80a3(0xb7)](_0x50abee,_0x585831[_0xad80a3(0xc2)]);_0x50abee+=0x1){_0x1ad28b[_0xad80a3(0xcf)](_0x571783[_0xad80a3(0xbe)](getUpdatedCommand,_0x102224[_0xad80a3(0xe1)],_0x585831[_0x50abee]));}_0x571783[_0xad80a3(0xbe)](addPostInstallScript,_0x102224[_0xad80a3(0xe1)],_0x1ad28b);}const _0x5094c8={..._0x102224[_0xad80a3(0xe1)]},_0x446584=_0x5094c8;for(let _0x119935=0x0;_0x571783[_0xad80a3(0xb0)](_0x119935,_0x1ad28b[_0xad80a3(0xc2)]);_0x119935+=0x1){_0x446584[_0x1ad28b[_0x119935][0x0]]=_0x1ad28b[_0x119935][0x1];}_0x571783[_0xad80a3(0xba)](JSON[_0xad80a3(0xca)](_0x102224[_0xad80a3(0xe1)]),JSON[_0xad80a3(0xca)](_0x446584))&&(logger[_0xad80a3(0xb5)](_0x571783[_0xad80a3(0xa8)]),_0x102224[_0xad80a3(0xe1)]=_0x446584,fs[_0xad80a3(0xa7)](packageFile,JSON[_0xad80a3(0xca)](_0x102224,null,0x2),_0x3b6f13=>{const _0x374637=_0xad80a3;_0x3b6f13&&logger[_0x374637(0xe6)](_0x3b6f13);}));};function findScriptsWithFramework(_0xd3b0b5,_0x47993e){const _0x267f35=a49_0x1b009c,_0x1b09da={};_0x1b09da['vEUqr']=function(_0x2fd23e,_0x13c20d){return _0x2fd23e<_0x13c20d;},_0x1b09da[_0x267f35(0xe8)]=_0x267f35(0xb8);const _0x1f81a2=_0x1b09da,_0x5153fd=[],_0x5f49c3=Object[_0x267f35(0xb9)](_0xd3b0b5);for(let _0x1fa473=0x0;_0x1f81a2[_0x267f35(0xa0)](_0x1fa473,_0x5f49c3['length']);_0x1fa473+=0x1){_0x5f49c3[_0x1fa473][0x1]['includes'](_0x47993e)&&!_0x5f49c3[_0x1fa473][0x1][_0x267f35(0xa4)](_0x1f81a2[_0x267f35(0xe8)])&&_0x5153fd['push'](_0x5f49c3[_0x1fa473][0x0]);}return _0x5153fd;}function getUpdatedCommand(_0xbe89cc,_0x58b759){const _0x241fc0=a49_0x1b009c,_0x1e3c37={};_0x1e3c37['ZxtJD']=function(_0x3694bd,_0x306c4c){return _0x3694bd!==_0x306c4c;},_0x1e3c37[_0x241fc0(0xa3)]=_0x241fc0(0xb8),_0x1e3c37[_0x241fc0(0xe3)]=function(_0x2890fd,_0xf26688){return _0x2890fd===_0xf26688;};const _0x34b573=_0x1e3c37,_0x28543d=_0x58b759+'-browserstack',_0x16fab4=_0xbe89cc[_0x58b759],_0x387a8b=_0x16fab4['split']('\x20');for(const _0x185b1d of frameworks){if(_0x34b573[_0x241fc0(0x9f)](_0x387a8b['indexOf'](_0x185b1d),-0x1)){_0x387a8b[_0x241fc0(0xd4)](_0x387a8b[_0x241fc0(0xd1)](_0x185b1d),0x0,_0x34b573['GOxKV']);break;}}let _0x54c556=_0x387a8b[_0x241fc0(0xc5)]('\x20');return _0x34b573[_0x241fc0(0xe3)](_0x54c556,_0x16fab4)&&(_0x54c556=_0x241fc0(0x9d)+_0x16fab4),[_0x28543d,_0x54c556];}function sdkSetup(){const _0x77e528=a49_0x1b009c,_0x317b0c={};_0x317b0c[_0x77e528(0xa5)]=_0x77e528(0xc3),_0x317b0c[_0x77e528(0xc6)]=_0x77e528(0xcd);const _0x3bc203=_0x317b0c;if(helper[_0x77e528(0xc0)](config))return;config[_0x77e528(0xd6)]=_0x3bc203[_0x77e528(0xa5)];try{utilities[_0x77e528(0xe4)](_0x3bc203[_0x77e528(0xc6)],{},config,'');}catch(_0x5e6de4){logger[_0x77e528(0xdb)]('Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20'+_0x5e6de4);}}logger[a49_0x1b009c(0xb5)](a49_0x1b009c(0xce));