#!/usr/bin/env node

const a45_0x58005e=a45_0x4c4b;(function(_0x344886,_0x2ebdee){const _0x4f687d=a45_0x4c4b,_0x1f1ff2=_0x344886();while(!![]){try{const _0x92db07=-parseInt(_0x4f687d(0x1e2))/0x1*(parseInt(_0x4f687d(0x21e))/0x2)+-parseInt(_0x4f687d(0x1ed))/0x3*(-parseInt(_0x4f687d(0x1f5))/0x4)+parseInt(_0x4f687d(0x1e1))/0x5+parseInt(_0x4f687d(0x1e6))/0x6+-parseInt(_0x4f687d(0x1ee))/0x7+parseInt(_0x4f687d(0x205))/0x8+-parseInt(_0x4f687d(0x1fa))/0x9;if(_0x92db07===_0x2ebdee)break;else _0x1f1ff2['push'](_0x1f1ff2['shift']());}catch(_0x1e9df9){_0x1f1ff2['push'](_0x1f1ff2['shift']());}}}(a45_0x1fbd,0x31aee));const fs=require('fs'),helper=require(a45_0x58005e(0x213)),utilities=require(a45_0x58005e(0x21c)),yaml=require(a45_0x58005e(0x1d8)),yargs=require(a45_0x58005e(0x1d9)),logger=require('../helpers/logger')[a45_0x58005e(0x1e8)],configFileTemplate=__dirname+'/../../browserstack.yml.sample',configFileTemplatePW=__dirname+'/../../browserstack.pw.yml.sample',configFile=process[a45_0x58005e(0x1fc)]()+'/browserstack.yml',packageFile=process[a45_0x58005e(0x1fc)]()+a45_0x58005e(0x1d6),frameworks=[a45_0x58005e(0x1ef),a45_0x58005e(0x1f1),a45_0x58005e(0x20f),a45_0x58005e(0x20a),a45_0x58005e(0x1dd),a45_0x58005e(0x216),a45_0x58005e(0x21b)];let config;logger[a45_0x58005e(0x20c)](a45_0x58005e(0x20b)),createConfigurationFile(yargs[a45_0x58005e(0x1e4)][a45_0x58005e(0x1df)],yargs['argv'][a45_0x58005e(0x1f0)],yargs[a45_0x58005e(0x1e4)][a45_0x58005e(0x21b)]);try{sdkSetup();}catch(a45_0x5a0976){logger['debug'](a45_0x58005e(0x1f9)+a45_0x5a0976);}addScriptInPackageJson();function createConfigurationFile(_0x1193bd,_0x3c2efe,_0x4af5be=![]){const _0x44110b=a45_0x58005e,_0x2fbbe3={};_0x2fbbe3[_0x44110b(0x1e3)]=_0x44110b(0x1da),_0x2fbbe3[_0x44110b(0x1ec)]=_0x44110b(0x1de),_0x2fbbe3[_0x44110b(0x1f7)]='YOUR_ACCESS_KEY';const _0x1a17e6=_0x2fbbe3;try{let _0x12602f=fs['readFileSync'](_0x4af5be?configFileTemplatePW:configFileTemplate,_0x1a17e6[_0x44110b(0x1e3)]);_0x1193bd&&(_0x12602f=_0x12602f[_0x44110b(0x210)](_0x1a17e6[_0x44110b(0x1ec)],_0x1193bd)),_0x3c2efe&&(_0x12602f=_0x12602f['replace'](_0x1a17e6[_0x44110b(0x1f7)],_0x3c2efe)),config=yaml[_0x44110b(0x1e0)](_0x12602f),fs[_0x44110b(0x209)](configFile,_0x12602f,_0x144e69=>{const _0x358c35=_0x44110b;_0x144e69&&logger[_0x358c35(0x217)](_0x144e69);});}catch(_0x6931f1){logger[_0x44110b(0x217)](_0x6931f1);}}function addPostInstallScript(_0x90d6ed,_0xded762){const _0x3c834d=a45_0x58005e,_0x2478d1={};_0x2478d1['upfpi']=_0x3c834d(0x1e5),_0x2478d1[_0x3c834d(0x1e7)]=_0x3c834d(0x21d),_0x2478d1[_0x3c834d(0x1ea)]=_0x3c834d(0x1e9);const _0x4fc699=_0x2478d1;let _0x19e996=_0x90d6ed[_0x4fc699[_0x3c834d(0x203)]];if(_0x19e996&&_0x19e996[_0x3c834d(0x1fe)](_0x4fc699[_0x3c834d(0x1e7)]))return;!_0x19e996?_0x19e996=_0x4fc699['gqkgY']:_0x19e996+=_0x4fc699[_0x3c834d(0x1ea)],_0xded762[_0x3c834d(0x1f6)]([_0x4fc699[_0x3c834d(0x203)],_0x19e996]);}function a45_0x4c4b(_0x56b4f4,_0x1f5052){const _0x1fbdf5=a45_0x1fbd();return a45_0x4c4b=function(_0x4c4bf1,_0x11081f){_0x4c4bf1=_0x4c4bf1-0x1d5;let _0x498590=_0x1fbdf5[_0x4c4bf1];return _0x498590;},a45_0x4c4b(_0x56b4f4,_0x1f5052);}function addScriptInPackageJson(){const _0xbe11bd=a45_0x58005e,_0x532d7f={'dQBDD':_0xbe11bd(0x1da),'LTgfc':function(_0x4c3c25,_0x19fd4e){return _0x4c3c25<_0x19fd4e;},'hOlAN':function(_0x3fda24,_0x35a1d3,_0x5e2870){return _0x3fda24(_0x35a1d3,_0x5e2870);},'wqFFV':function(_0x215123,_0x51162d,_0x20a48a){return _0x215123(_0x51162d,_0x20a48a);},'wfvop':function(_0x5a3bed,_0x320976,_0x29c624){return _0x5a3bed(_0x320976,_0x29c624);},'RpIMp':function(_0x2e0a73,_0x3b4868){return _0x2e0a73<_0x3b4868;},'rAxue':function(_0x4441d1,_0xa5e908){return _0x4441d1!==_0xa5e908;},'HPQIh':_0xbe11bd(0x21a)},_0x3a961e=JSON['parse'](fs[_0xbe11bd(0x219)](packageFile,_0x532d7f['dQBDD'])),_0x263d37=[];for(let _0x47d19c=0x0;_0x532d7f['LTgfc'](_0x47d19c,frameworks['length']);_0x47d19c+=0x1){const _0x487555=_0x532d7f[_0xbe11bd(0x214)](findScriptsWithFramework,_0x3a961e[_0xbe11bd(0x201)],frameworks[_0x47d19c]);for(let _0x5735ae=0x0;_0x532d7f[_0xbe11bd(0x1d7)](_0x5735ae,_0x487555['length']);_0x5735ae+=0x1){_0x263d37[_0xbe11bd(0x1f6)](_0x532d7f[_0xbe11bd(0x212)](getUpdatedCommand,_0x3a961e[_0xbe11bd(0x201)],_0x487555[_0x5735ae]));}_0x532d7f[_0xbe11bd(0x1db)](addPostInstallScript,_0x3a961e['scripts'],_0x263d37);}const _0x54bce4={..._0x3a961e[_0xbe11bd(0x201)]},_0x5cf3eb=_0x54bce4;for(let _0x50b42f=0x0;_0x532d7f[_0xbe11bd(0x200)](_0x50b42f,_0x263d37['length']);_0x50b42f+=0x1){_0x5cf3eb[_0x263d37[_0x50b42f][0x0]]=_0x263d37[_0x50b42f][0x1];}_0x532d7f['rAxue'](JSON['stringify'](_0x3a961e[_0xbe11bd(0x201)]),JSON['stringify'](_0x5cf3eb))&&(logger[_0xbe11bd(0x20c)](_0x532d7f[_0xbe11bd(0x218)]),_0x3a961e[_0xbe11bd(0x201)]=_0x5cf3eb,fs['writeFileSync'](packageFile,JSON['stringify'](_0x3a961e,null,0x2),_0x56e492=>{_0x56e492&&logger['error'](_0x56e492);}));}function a45_0x1fbd(){const _0x3ead55=['writeFileSync','node','Creating\x20configuration\x20file...','info','join','fireFunnelTestEvent','cucumber-js','replace','entries','wqFFV','../helpers/helper','hOlAN','qdgXf','codeceptjs','error','HPQIh','readFileSync','Adding\x20new\x20script(s)\x20in\x20package.json...','playwright','../helpers/utilities','npm\x20update\x20browserstack-node-sdk','136zKKkjY','isUndefined','/package.json','LTgfc','js-yaml','yargs','utf8','wfvop','SDKSetup','nightwatch','YOUR_USERNAME','username','load','1640740fiIBLE','3815rpjhCf','xivwl','argv','postinstall','1386342VsgNpw','gqkgY','winstonLogger','\x20&&\x20npm\x20update\x20browserstack-node-sdk','ycHxF','zBbjH','iboYU','732ESeFUV','319438bNkXis','mocha','key','jest','-browserstack','length','node-setup','3268rQwbvi','push','uWqan','aYjwf','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','4354722HFDfIH','indexOf','cwd','PbxqB','includes','rzHoa','RpIMp','scripts','debug','upfpi','artDJ','1870888LhKfSZ','kilsC','browserstack-node-sdk','Setup\x20completed'];a45_0x1fbd=function(){return _0x3ead55;};return a45_0x1fbd();};function findScriptsWithFramework(_0x2951df,_0xae1a33){const _0xf4ad93=a45_0x58005e,_0x1bd1e3={};_0x1bd1e3[_0xf4ad93(0x206)]=function(_0x16b3ac,_0x444121){return _0x16b3ac<_0x444121;},_0x1bd1e3[_0xf4ad93(0x1ff)]=_0xf4ad93(0x207);const _0x166977=_0x1bd1e3,_0x3f0106=[],_0x5026d3=Object[_0xf4ad93(0x211)](_0x2951df);for(let _0xcb968a=0x0;_0x166977[_0xf4ad93(0x206)](_0xcb968a,_0x5026d3[_0xf4ad93(0x1f3)]);_0xcb968a+=0x1){_0x5026d3[_0xcb968a][0x1][_0xf4ad93(0x1fe)](_0xae1a33)&&!_0x5026d3[_0xcb968a][0x1][_0xf4ad93(0x1fe)](_0x166977[_0xf4ad93(0x1ff)])&&_0x3f0106[_0xf4ad93(0x1f6)](_0x5026d3[_0xcb968a][0x0]);}return _0x3f0106;}function getUpdatedCommand(_0x1a1b27,_0x6f85ce){const _0x481916=a45_0x58005e,_0x250aac={};_0x250aac[_0x481916(0x215)]=function(_0x32f3b3,_0xe2292b){return _0x32f3b3!==_0xe2292b;},_0x250aac[_0x481916(0x1f8)]=_0x481916(0x207),_0x250aac[_0x481916(0x1eb)]=function(_0x314eb1,_0x433bd8){return _0x314eb1===_0x433bd8;};const _0x3e5ba6=_0x250aac,_0x139b93=_0x6f85ce+_0x481916(0x1f2),_0x3bb29b=_0x1a1b27[_0x6f85ce],_0x1f8cd8=_0x3bb29b['split']('\x20');for(const _0x1d8bf7 of frameworks){if(_0x3e5ba6['qdgXf'](_0x1f8cd8[_0x481916(0x1fb)](_0x1d8bf7),-0x1)){_0x1f8cd8['splice'](_0x1f8cd8[_0x481916(0x1fb)](_0x1d8bf7),0x0,_0x3e5ba6[_0x481916(0x1f8)]);break;}}let _0x5d1729=_0x1f8cd8[_0x481916(0x20d)]('\x20');return _0x3e5ba6[_0x481916(0x1eb)](_0x5d1729,_0x3bb29b)&&(_0x5d1729='browserstack-node-sdk\x20'+_0x3bb29b),[_0x139b93,_0x5d1729];}function sdkSetup(){const _0x2e09e1=a45_0x58005e,_0x23ae4d={};_0x23ae4d[_0x2e09e1(0x204)]=_0x2e09e1(0x1f4),_0x23ae4d[_0x2e09e1(0x1fd)]=_0x2e09e1(0x1dc);const _0x2953b1=_0x23ae4d;if(helper[_0x2e09e1(0x1d5)](config))return;config['source']=_0x2953b1[_0x2e09e1(0x204)];try{utilities[_0x2e09e1(0x20e)](_0x2953b1[_0x2e09e1(0x1fd)],{},config,'');}catch(_0x433f64){logger[_0x2e09e1(0x202)]('Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20'+_0x433f64);}}logger[a45_0x58005e(0x20c)](a45_0x58005e(0x208));