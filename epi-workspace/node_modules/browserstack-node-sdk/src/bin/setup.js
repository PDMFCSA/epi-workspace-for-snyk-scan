#!/usr/bin/env node

const a45_0x5a8a8a=a45_0x30ec;(function(_0x235cdf,_0x388034){const _0x1fef8b=a45_0x30ec,_0x1132f1=_0x235cdf();while(!![]){try{const _0x37bf09=-parseInt(_0x1fef8b(0x14f))/0x1*(parseInt(_0x1fef8b(0x138))/0x2)+-parseInt(_0x1fef8b(0x147))/0x3*(-parseInt(_0x1fef8b(0x141))/0x4)+parseInt(_0x1fef8b(0x173))/0x5*(-parseInt(_0x1fef8b(0x15b))/0x6)+-parseInt(_0x1fef8b(0x162))/0x7*(parseInt(_0x1fef8b(0x168))/0x8)+parseInt(_0x1fef8b(0x136))/0x9*(parseInt(_0x1fef8b(0x150))/0xa)+-parseInt(_0x1fef8b(0x143))/0xb+parseInt(_0x1fef8b(0x13c))/0xc*(parseInt(_0x1fef8b(0x15e))/0xd);if(_0x37bf09===_0x388034)break;else _0x1132f1['push'](_0x1132f1['shift']());}catch(_0x2960e8){_0x1132f1['push'](_0x1132f1['shift']());}}}(a45_0x13cf,0xcba1b));const fs=require('fs'),helper=require('../helpers/helper'),utilities=require(a45_0x5a8a8a(0x158)),yaml=require('js-yaml'),yargs=require('yargs'),logger=require('../helpers/logger')[a45_0x5a8a8a(0x142)],configFileTemplate=__dirname+a45_0x5a8a8a(0x169),configFileTemplatePW=__dirname+a45_0x5a8a8a(0x16f),configFile=process[a45_0x5a8a8a(0x165)]()+a45_0x5a8a8a(0x14d),packageFile=process[a45_0x5a8a8a(0x165)]()+a45_0x5a8a8a(0x174),frameworks=[a45_0x5a8a8a(0x15c),a45_0x5a8a8a(0x12f),a45_0x5a8a8a(0x156),a45_0x5a8a8a(0x16a),a45_0x5a8a8a(0x159),a45_0x5a8a8a(0x130),a45_0x5a8a8a(0x171)];function a45_0x30ec(_0x20b659,_0x143d4c){const _0x13cfb0=a45_0x13cf();return a45_0x30ec=function(_0x30ec61,_0x13e583){_0x30ec61=_0x30ec61-0x12f;let _0x2d6ada=_0x13cfb0[_0x30ec61];return _0x2d6ada;},a45_0x30ec(_0x20b659,_0x143d4c);}let config;logger['info'](a45_0x5a8a8a(0x16d)),createConfigurationFile(yargs[a45_0x5a8a8a(0x153)][a45_0x5a8a8a(0x152)],yargs[a45_0x5a8a8a(0x153)][a45_0x5a8a8a(0x157)],yargs[a45_0x5a8a8a(0x153)][a45_0x5a8a8a(0x171)]);try{sdkSetup();}catch(a45_0x494a79){logger[a45_0x5a8a8a(0x139)](a45_0x5a8a8a(0x13b)+a45_0x494a79);}addScriptInPackageJson();function createConfigurationFile(_0x3efbae,_0x8eab3,_0xbf6752=![]){const _0x332532=a45_0x5a8a8a,_0x4231b6={};_0x4231b6['Eyxcp']=_0x332532(0x179),_0x4231b6[_0x332532(0x14a)]=_0x332532(0x15a),_0x4231b6[_0x332532(0x135)]=_0x332532(0x15f);const _0x59ef65=_0x4231b6;try{let _0x32984c=fs[_0x332532(0x154)](_0xbf6752?configFileTemplatePW:configFileTemplate,_0x59ef65[_0x332532(0x15d)]);_0x3efbae&&(_0x32984c=_0x32984c[_0x332532(0x167)](_0x59ef65[_0x332532(0x14a)],_0x3efbae)),_0x8eab3&&(_0x32984c=_0x32984c[_0x332532(0x167)](_0x59ef65[_0x332532(0x135)],_0x8eab3)),config=yaml['load'](_0x32984c),fs['writeFileSync'](configFile,_0x32984c,_0x445a0d=>{const _0x92ebf8=_0x332532;_0x445a0d&&logger[_0x92ebf8(0x16c)](_0x445a0d);});}catch(_0x33b46b){logger[_0x332532(0x16c)](_0x33b46b);}}function addPostInstallScript(_0x54540d,_0x478e91){const _0x57e92c=a45_0x5a8a8a,_0x26189b={};_0x26189b['ExYYU']=_0x57e92c(0x163),_0x26189b[_0x57e92c(0x14c)]='npm\x20update\x20browserstack-node-sdk',_0x26189b['CPPEX']=_0x57e92c(0x176);const _0x2f62b9=_0x26189b;let _0x4eb7d6=_0x54540d[_0x2f62b9[_0x57e92c(0x132)]];if(_0x4eb7d6&&_0x4eb7d6[_0x57e92c(0x133)](_0x2f62b9[_0x57e92c(0x14c)]))return;!_0x4eb7d6?_0x4eb7d6=_0x2f62b9[_0x57e92c(0x14c)]:_0x4eb7d6+=_0x2f62b9[_0x57e92c(0x155)],_0x478e91[_0x57e92c(0x137)]([_0x2f62b9[_0x57e92c(0x132)],_0x4eb7d6]);}function addScriptInPackageJson(){const _0x5f2321=a45_0x5a8a8a,_0x34125a={'uNHCQ':'utf8','hADCs':function(_0xd3fb0d,_0x5509c1){return _0xd3fb0d<_0x5509c1;},'hgksb':function(_0x44cd30,_0x2ff4fd,_0x793de0){return _0x44cd30(_0x2ff4fd,_0x793de0);},'hadsP':function(_0x29e133,_0x58ee60,_0x20c3f){return _0x29e133(_0x58ee60,_0x20c3f);},'SaEAS':function(_0x1e81d7,_0x437eb4,_0x556d9d){return _0x1e81d7(_0x437eb4,_0x556d9d);},'vjQrJ':function(_0xe35e4,_0x13c0aa){return _0xe35e4<_0x13c0aa;},'VWjjE':function(_0x3a8f8a,_0x420e7b){return _0x3a8f8a!==_0x420e7b;},'LxYKd':_0x5f2321(0x170)},_0x110ea5=JSON['parse'](fs[_0x5f2321(0x154)](packageFile,_0x34125a[_0x5f2321(0x17a)])),_0x42fa87=[];for(let _0xca0a19=0x0;_0x34125a[_0x5f2321(0x145)](_0xca0a19,frameworks['length']);_0xca0a19+=0x1){const _0x5bf3d5=_0x34125a['hgksb'](findScriptsWithFramework,_0x110ea5[_0x5f2321(0x164)],frameworks[_0xca0a19]);for(let _0x3740c3=0x0;_0x34125a['hADCs'](_0x3740c3,_0x5bf3d5[_0x5f2321(0x13d)]);_0x3740c3+=0x1){_0x42fa87[_0x5f2321(0x137)](_0x34125a[_0x5f2321(0x177)](getUpdatedCommand,_0x110ea5['scripts'],_0x5bf3d5[_0x3740c3]));}_0x34125a[_0x5f2321(0x16b)](addPostInstallScript,_0x110ea5['scripts'],_0x42fa87);}const _0x49e592={..._0x110ea5[_0x5f2321(0x164)]},_0x5e70a8=_0x49e592;for(let _0x1f4180=0x0;_0x34125a['vjQrJ'](_0x1f4180,_0x42fa87[_0x5f2321(0x13d)]);_0x1f4180+=0x1){_0x5e70a8[_0x42fa87[_0x1f4180][0x0]]=_0x42fa87[_0x1f4180][0x1];}_0x34125a['VWjjE'](JSON[_0x5f2321(0x14e)](_0x110ea5['scripts']),JSON[_0x5f2321(0x14e)](_0x5e70a8))&&(logger[_0x5f2321(0x16e)](_0x34125a[_0x5f2321(0x146)]),_0x110ea5[_0x5f2321(0x164)]=_0x5e70a8,fs[_0x5f2321(0x13f)](packageFile,JSON['stringify'](_0x110ea5,null,0x2),_0x270fd4=>{const _0x2b21be=_0x5f2321;_0x270fd4&&logger[_0x2b21be(0x16c)](_0x270fd4);}));};function findScriptsWithFramework(_0x2334ad,_0x435d14){const _0x2d80ff=a45_0x5a8a8a,_0x40bcb5={};_0x40bcb5[_0x2d80ff(0x178)]=function(_0x27dce6,_0x4b5213){return _0x27dce6<_0x4b5213;},_0x40bcb5[_0x2d80ff(0x175)]=_0x2d80ff(0x140);const _0x5e4f15=_0x40bcb5,_0x10378f=[],_0x3c0e61=Object[_0x2d80ff(0x131)](_0x2334ad);for(let _0x5bc31d=0x0;_0x5e4f15['cLtFo'](_0x5bc31d,_0x3c0e61[_0x2d80ff(0x13d)]);_0x5bc31d+=0x1){_0x3c0e61[_0x5bc31d][0x1][_0x2d80ff(0x133)](_0x435d14)&&!_0x3c0e61[_0x5bc31d][0x1][_0x2d80ff(0x133)](_0x5e4f15[_0x2d80ff(0x175)])&&_0x10378f['push'](_0x3c0e61[_0x5bc31d][0x0]);}return _0x10378f;}function getUpdatedCommand(_0x2e1883,_0x581089){const _0x264067=a45_0x5a8a8a,_0x1c9677={};_0x1c9677[_0x264067(0x151)]=function(_0x512f2a,_0x1f595b){return _0x512f2a!==_0x1f595b;},_0x1c9677[_0x264067(0x17b)]=_0x264067(0x140),_0x1c9677[_0x264067(0x14b)]=function(_0xa1b629,_0x44adf1){return _0xa1b629===_0x44adf1;};const _0x5e0495=_0x1c9677,_0x45484c=_0x581089+_0x264067(0x149),_0x6a2366=_0x2e1883[_0x581089],_0x5ca2b4=_0x6a2366['split']('\x20');for(const _0xd977f9 of frameworks){if(_0x5e0495[_0x264067(0x151)](_0x5ca2b4[_0x264067(0x172)](_0xd977f9),-0x1)){_0x5ca2b4[_0x264067(0x144)](_0x5ca2b4[_0x264067(0x172)](_0xd977f9),0x0,_0x5e0495[_0x264067(0x17b)]);break;}}let _0x16e7c1=_0x5ca2b4['join']('\x20');return _0x5e0495[_0x264067(0x14b)](_0x16e7c1,_0x6a2366)&&(_0x16e7c1=_0x264067(0x161)+_0x6a2366),[_0x45484c,_0x16e7c1];}function sdkSetup(){const _0x1207fa=a45_0x5a8a8a,_0x526901={};_0x526901['ftFEB']='node-setup',_0x526901[_0x1207fa(0x134)]=_0x1207fa(0x13a);const _0x40e709=_0x526901;if(helper[_0x1207fa(0x148)](config))return;config[_0x1207fa(0x160)]=_0x40e709['ftFEB'];try{utilities[_0x1207fa(0x166)](_0x40e709['TPcSZ'],{},config,'');}catch(_0x23e394){logger['debug']('Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20'+_0x23e394);}}function a45_0x13cf(){const _0x33fa11=['YOUR_ACCESS_KEY','source','browserstack-node-sdk\x20','7JnDXIB','postinstall','scripts','cwd','fireFunnelTestEvent','replace','5322352ZaQuqP','/../../browserstack.yml.sample','node','SaEAS','error','Creating\x20configuration\x20file...','info','/../../browserstack.pw.yml.sample','Adding\x20new\x20script(s)\x20in\x20package.json...','playwright','indexOf','3225pfLoCB','/package.json','GcVOq','\x20&&\x20npm\x20update\x20browserstack-node-sdk','hadsP','cLtFo','utf8','uNHCQ','iThho','jest','codeceptjs','entries','ExYYU','includes','TPcSZ','kZOBv','3123zvqdRS','push','34PSLzKj','debug','SDKSetup','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','12zFUzJp','length','Setup\x20completed','writeFileSync','browserstack-node-sdk','44996iTwqQw','winstonLogger','14584262ZbcrQR','splice','hADCs','LxYKd','282YpekhN','isUndefined','-browserstack','txUrK','yaOAD','fcHba','/browserstack.yml','stringify','38644qIOVpy','1130epWuqx','xZDJF','username','argv','readFileSync','CPPEX','cucumber-js','key','../helpers/utilities','nightwatch','YOUR_USERNAME','5634fpSeoZ','mocha','Eyxcp','38885561AskRHX'];a45_0x13cf=function(){return _0x33fa11;};return a45_0x13cf();}logger[a45_0x5a8a8a(0x16e)](a45_0x5a8a8a(0x13e));