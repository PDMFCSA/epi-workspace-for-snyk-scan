#!/usr/bin/env node

const a48_0x28a76d=a48_0x44ed;(function(_0x314d2f,_0x67d31f){const _0x14437a=a48_0x44ed,_0xf6549b=_0x314d2f();while(!![]){try{const _0xa530a9=parseInt(_0x14437a(0xf3))/0x1+parseInt(_0x14437a(0x12f))/0x2*(parseInt(_0x14437a(0x121))/0x3)+-parseInt(_0x14437a(0xea))/0x4+parseInt(_0x14437a(0xe9))/0x5+parseInt(_0x14437a(0xfc))/0x6*(parseInt(_0x14437a(0x122))/0x7)+parseInt(_0x14437a(0x10e))/0x8*(-parseInt(_0x14437a(0x128))/0x9)+parseInt(_0x14437a(0xfd))/0xa*(-parseInt(_0x14437a(0xef))/0xb);if(_0xa530a9===_0x67d31f)break;else _0xf6549b['push'](_0xf6549b['shift']());}catch(_0x3b16c7){_0xf6549b['push'](_0xf6549b['shift']());}}}(a48_0x3ddc,0x33bbc));function a48_0x3ddc(){const _0x55f873=['js-yaml','includes','354486IUwgLJ','BNxWf','info','mGBPc','422353MDTNoL','\x20&&\x20npm\x20update\x20browserstack-node-sdk','../helpers/logger','npm\x20update\x20browserstack-node-sdk','cwd','/../../browserstack.pw.yml.sample','replace','parse','length','174pIMPSR','170jdVFDY','/../../browserstack.yml.sample','qRZBj','jest','load','fireFunnelTestEvent','SDKSetup','Setup\x20completed','FTRtA','DNNpU','debug','playwright','YOUR_USERNAME','codeceptjs','xKciZ','mocha','nightwatch','6040MqAesX','OmqPw','UNeLZ','Creating\x20configuration\x20file...','cucumber-js','isUndefined','ooLFR','source','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','/browserstack.yml','/package.json','indexOf','postinstall','error','yargs','browserstack-node-sdk','WuGBb','entries','mCZsa','256236bamMwO','19803sdCPgc','join','stringify','split','RJyWN','scripts','3285IvTSDM','winstonLogger','zyErX','readFileSync','LuuBt','writeFileSync','YRZEl','4heUaHU','argv','OhCjr','push','utf8','YOUR_ACCESS_KEY','splice','2035940GZVjcR','188356GvODrn','-browserstack','jgehO'];a48_0x3ddc=function(){return _0x55f873;};return a48_0x3ddc();}const fs=require('fs'),helper=require('../helpers/helper'),utilities=require('../helpers/utilities'),yaml=require(a48_0x28a76d(0xed)),yargs=require(a48_0x28a76d(0x11c)),logger=require(a48_0x28a76d(0xf5))[a48_0x28a76d(0x129)],configFileTemplate=__dirname+a48_0x28a76d(0xfe),configFileTemplatePW=__dirname+a48_0x28a76d(0xf8),configFile=process[a48_0x28a76d(0xf7)]()+a48_0x28a76d(0x117),packageFile=process[a48_0x28a76d(0xf7)]()+a48_0x28a76d(0x118),frameworks=[a48_0x28a76d(0x10c),a48_0x28a76d(0x100),a48_0x28a76d(0x112),'node',a48_0x28a76d(0x10d),a48_0x28a76d(0x10a),a48_0x28a76d(0x108)];let config;logger[a48_0x28a76d(0xf1)](a48_0x28a76d(0x111)),createConfigurationFile(yargs[a48_0x28a76d(0x130)]['username'],yargs[a48_0x28a76d(0x130)]['key'],yargs['argv'][a48_0x28a76d(0x108)]);try{sdkSetup();}catch(a48_0x2149a3){logger[a48_0x28a76d(0x107)]('Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20'+a48_0x2149a3);}addScriptInPackageJson();function createConfigurationFile(_0x243af6,_0x24ca2d,_0x331936=![]){const _0x2fcfed=a48_0x28a76d,_0x29969b={};_0x29969b[_0x2fcfed(0xf0)]=_0x2fcfed(0xe6),_0x29969b[_0x2fcfed(0x10b)]=_0x2fcfed(0x109),_0x29969b[_0x2fcfed(0x120)]=_0x2fcfed(0xe7);const _0x256141=_0x29969b;try{let _0x12b014=fs[_0x2fcfed(0x12b)](_0x331936?configFileTemplatePW:configFileTemplate,_0x256141[_0x2fcfed(0xf0)]);_0x243af6&&(_0x12b014=_0x12b014[_0x2fcfed(0xf9)](_0x256141['xKciZ'],_0x243af6)),_0x24ca2d&&(_0x12b014=_0x12b014[_0x2fcfed(0xf9)](_0x256141[_0x2fcfed(0x120)],_0x24ca2d)),config=yaml[_0x2fcfed(0x101)](_0x12b014),fs[_0x2fcfed(0x12d)](configFile,_0x12b014,_0x411153=>{_0x411153&&logger['error'](_0x411153);});}catch(_0x142827){logger[_0x2fcfed(0x11b)](_0x142827);}}function addPostInstallScript(_0x596495,_0x305def){const _0xca4890=a48_0x28a76d,_0x70aa50={};_0x70aa50['DNNpU']=_0xca4890(0x11a),_0x70aa50[_0xca4890(0x10f)]=_0xca4890(0xf6),_0x70aa50['qRZBj']=_0xca4890(0xf4);const _0x5c4dac=_0x70aa50;let _0x21979b=_0x596495[_0x5c4dac['DNNpU']];if(_0x21979b&&_0x21979b[_0xca4890(0xee)](_0x5c4dac[_0xca4890(0x10f)]))return;!_0x21979b?_0x21979b=_0x5c4dac[_0xca4890(0x10f)]:_0x21979b+=_0x5c4dac[_0xca4890(0xff)],_0x305def['push']([_0x5c4dac[_0xca4890(0x106)],_0x21979b]);}function a48_0x44ed(_0x14272b,_0x28a7c9){const _0x3ddc37=a48_0x3ddc();return a48_0x44ed=function(_0x44ed59,_0x5b765a){_0x44ed59=_0x44ed59-0xe4;let _0x34c0e6=_0x3ddc37[_0x44ed59];return _0x34c0e6;},a48_0x44ed(_0x14272b,_0x28a7c9);}function addScriptInPackageJson(){const _0x13ca68=a48_0x28a76d,_0x2ad2c0={'DPyMf':_0x13ca68(0xe6),'WuGBb':function(_0x1ed744,_0xd95e7a){return _0x1ed744<_0xd95e7a;},'RJyWN':function(_0x39414a,_0x41c74f,_0x37cb4e){return _0x39414a(_0x41c74f,_0x37cb4e);},'FTRtA':function(_0x59c800,_0x3bf76b){return _0x59c800<_0x3bf76b;},'WWfNw':function(_0x2c7625,_0x1855a7,_0x3baa8d){return _0x2c7625(_0x1855a7,_0x3baa8d);},'YRZEl':function(_0x1eee25,_0x51d9ab,_0x43970d){return _0x1eee25(_0x51d9ab,_0x43970d);},'iXfIr':function(_0x58b946,_0x5e3c0f){return _0x58b946!==_0x5e3c0f;},'ANdAF':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x31b8cf=JSON[_0x13ca68(0xfa)](fs['readFileSync'](packageFile,_0x2ad2c0['DPyMf'])),_0x8f7b47=[];for(let _0x559b1c=0x0;_0x2ad2c0[_0x13ca68(0x11e)](_0x559b1c,frameworks[_0x13ca68(0xfb)]);_0x559b1c+=0x1){const _0x5772b1=_0x2ad2c0[_0x13ca68(0x126)](findScriptsWithFramework,_0x31b8cf[_0x13ca68(0x127)],frameworks[_0x559b1c]);for(let _0x151c41=0x0;_0x2ad2c0['FTRtA'](_0x151c41,_0x5772b1[_0x13ca68(0xfb)]);_0x151c41+=0x1){_0x8f7b47[_0x13ca68(0xe5)](_0x2ad2c0['WWfNw'](getUpdatedCommand,_0x31b8cf[_0x13ca68(0x127)],_0x5772b1[_0x151c41]));}_0x2ad2c0[_0x13ca68(0x12e)](addPostInstallScript,_0x31b8cf[_0x13ca68(0x127)],_0x8f7b47);}const _0x31eeb8={..._0x31b8cf[_0x13ca68(0x127)]},_0x4a32aa=_0x31eeb8;for(let _0x561401=0x0;_0x2ad2c0[_0x13ca68(0x105)](_0x561401,_0x8f7b47[_0x13ca68(0xfb)]);_0x561401+=0x1){_0x4a32aa[_0x8f7b47[_0x561401][0x0]]=_0x8f7b47[_0x561401][0x1];}_0x2ad2c0['iXfIr'](JSON[_0x13ca68(0x124)](_0x31b8cf[_0x13ca68(0x127)]),JSON[_0x13ca68(0x124)](_0x4a32aa))&&(logger['info'](_0x2ad2c0['ANdAF']),_0x31b8cf[_0x13ca68(0x127)]=_0x4a32aa,fs[_0x13ca68(0x12d)](packageFile,JSON[_0x13ca68(0x124)](_0x31b8cf,null,0x2),_0x529605=>{const _0x301400=_0x13ca68;_0x529605&&logger[_0x301400(0x11b)](_0x529605);}));};function findScriptsWithFramework(_0x44e388,_0x66764a){const _0x19a473=a48_0x28a76d,_0x173ac4={};_0x173ac4[_0x19a473(0x12c)]=function(_0x3bdb78,_0x13e8b4){return _0x3bdb78<_0x13e8b4;},_0x173ac4['OhCjr']=_0x19a473(0x11d);const _0x3cde88=_0x173ac4,_0xf6afd3=[],_0x48002e=Object[_0x19a473(0x11f)](_0x44e388);for(let _0x104aa9=0x0;_0x3cde88[_0x19a473(0x12c)](_0x104aa9,_0x48002e['length']);_0x104aa9+=0x1){_0x48002e[_0x104aa9][0x1][_0x19a473(0xee)](_0x66764a)&&!_0x48002e[_0x104aa9][0x1]['includes'](_0x3cde88[_0x19a473(0xe4)])&&_0xf6afd3[_0x19a473(0xe5)](_0x48002e[_0x104aa9][0x0]);}return _0xf6afd3;}function getUpdatedCommand(_0x12d39a,_0x5729a4){const _0x3b1b20=a48_0x28a76d,_0x1a2c63={};_0x1a2c63[_0x3b1b20(0x12a)]=function(_0x3d2020,_0x1285a6){return _0x3d2020!==_0x1285a6;},_0x1a2c63['jgehO']=_0x3b1b20(0x11d),_0x1a2c63[_0x3b1b20(0xf2)]=function(_0xcb2924,_0x39099a){return _0xcb2924===_0x39099a;};const _0xde9172=_0x1a2c63,_0xdfb2be=_0x5729a4+_0x3b1b20(0xeb),_0xff372f=_0x12d39a[_0x5729a4],_0xfa853f=_0xff372f[_0x3b1b20(0x125)]('\x20');for(const _0x2dc10d of frameworks){if(_0xde9172[_0x3b1b20(0x12a)](_0xfa853f['indexOf'](_0x2dc10d),-0x1)){_0xfa853f[_0x3b1b20(0xe8)](_0xfa853f[_0x3b1b20(0x119)](_0x2dc10d),0x0,_0xde9172[_0x3b1b20(0xec)]);break;}}let _0x1fd43a=_0xfa853f[_0x3b1b20(0x123)]('\x20');return _0xde9172[_0x3b1b20(0xf2)](_0x1fd43a,_0xff372f)&&(_0x1fd43a='browserstack-node-sdk\x20'+_0xff372f),[_0xdfb2be,_0x1fd43a];}function sdkSetup(){const _0x26598a=a48_0x28a76d,_0x280061={};_0x280061[_0x26598a(0x110)]='node-setup',_0x280061[_0x26598a(0x114)]=_0x26598a(0x103);const _0x317151=_0x280061;if(helper[_0x26598a(0x113)](config))return;config[_0x26598a(0x115)]=_0x317151['UNeLZ'];try{utilities[_0x26598a(0x102)](_0x317151[_0x26598a(0x114)],{},config,'');}catch(_0x3e111a){logger[_0x26598a(0x107)](_0x26598a(0x116)+_0x3e111a);}}logger['info'](a48_0x28a76d(0x104));