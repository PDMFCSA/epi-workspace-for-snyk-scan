#!/usr/bin/env node

const a45_0x4a8046=a45_0x444b;(function(_0x10e5b1,_0x55d3c0){const _0x3efc13=a45_0x444b,_0x105263=_0x10e5b1();while(!![]){try{const _0x2185c9=-parseInt(_0x3efc13(0x148))/0x1*(parseInt(_0x3efc13(0x171))/0x2)+-parseInt(_0x3efc13(0x173))/0x3+-parseInt(_0x3efc13(0x13d))/0x4*(parseInt(_0x3efc13(0x12b))/0x5)+parseInt(_0x3efc13(0x149))/0x6*(-parseInt(_0x3efc13(0x127))/0x7)+-parseInt(_0x3efc13(0x151))/0x8*(parseInt(_0x3efc13(0x146))/0x9)+parseInt(_0x3efc13(0x14c))/0xa*(parseInt(_0x3efc13(0x16e))/0xb)+-parseInt(_0x3efc13(0x16d))/0xc*(-parseInt(_0x3efc13(0x157))/0xd);if(_0x2185c9===_0x55d3c0)break;else _0x105263['push'](_0x105263['shift']());}catch(_0x2221db){_0x105263['push'](_0x105263['shift']());}}}(a45_0x374b,0x40c2b));const fs=require('fs'),helper=require(a45_0x4a8046(0x153)),utilities=require(a45_0x4a8046(0x13e)),yaml=require(a45_0x4a8046(0x168)),yargs=require(a45_0x4a8046(0x143)),logger=require(a45_0x4a8046(0x135))[a45_0x4a8046(0x169)],configFileTemplate=__dirname+a45_0x4a8046(0x138),configFileTemplatePW=__dirname+a45_0x4a8046(0x13c),configFile=process[a45_0x4a8046(0x160)]()+a45_0x4a8046(0x14e),packageFile=process[a45_0x4a8046(0x160)]()+a45_0x4a8046(0x12e),frameworks=['mocha',a45_0x4a8046(0x12a),a45_0x4a8046(0x175),a45_0x4a8046(0x14f),a45_0x4a8046(0x15c),a45_0x4a8046(0x12c),'playwright'];let config;logger[a45_0x4a8046(0x15d)](a45_0x4a8046(0x16f)),createConfigurationFile(yargs[a45_0x4a8046(0x177)]['username'],yargs[a45_0x4a8046(0x177)][a45_0x4a8046(0x165)],yargs[a45_0x4a8046(0x177)][a45_0x4a8046(0x131)]);try{sdkSetup();}catch(a45_0x5f4fed){logger['debug'](a45_0x4a8046(0x152)+a45_0x5f4fed);}function a45_0x374b(){const _0x17953e=['key','NuGNU','SDKSetup','js-yaml','winstonLogger','\x20&&\x20npm\x20update\x20browserstack-node-sdk','parse','length','12CRMsJh','33siugaK','Creating\x20configuration\x20file...','DafGl','548958VngiYE','-browserstack','1460049OxvAvo','indexOf','cucumber-js','writeFileSync','argv','Setup\x20completed','browserstack-node-sdk\x20','511ZmGhoh','USsTP','scripts','jest','908095RHhqzN','codeceptjs','error','/package.json','fireFunnelTestEvent','YzWba','playwright','source','Adding\x20new\x20script(s)\x20in\x20package.json...','TeIkE','../helpers/logger','ztqZj','utf8','/../../browserstack.yml.sample','FDxLg','aANbP','join','/../../browserstack.pw.yml.sample','4lZUANm','../helpers/utilities','npm\x20update\x20browserstack-node-sdk','ZbcwA','entries','stringify','yargs','browserstack-node-sdk','YOUR_ACCESS_KEY','1561941DIowde','isUndefined','1SqojRi','8544WFwXbg','includes','hjxFR','524200eSWIBc','replace','/browserstack.yml','node','push','8eBghLT','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','../helpers/helper','split','node-setup','EbUEa','17267653kuNSGH','ypHbg','scBOB','YOUR_USERNAME','load','nightwatch','info','THanm','YsUnt','cwd','igVCt','BAzvy','vpJMH','JmXod'];a45_0x374b=function(){return _0x17953e;};return a45_0x374b();}addScriptInPackageJson();function createConfigurationFile(_0x441c4e,_0x4d7c30,_0x12a2b5=![]){const _0x2302d1=a45_0x4a8046,_0x581ae7={};_0x581ae7[_0x2302d1(0x161)]=_0x2302d1(0x137),_0x581ae7['YzWba']=_0x2302d1(0x15a),_0x581ae7[_0x2302d1(0x15e)]=_0x2302d1(0x145);const _0x8d5666=_0x581ae7;try{let _0x41c0a2=fs['readFileSync'](_0x12a2b5?configFileTemplatePW:configFileTemplate,_0x8d5666[_0x2302d1(0x161)]);_0x441c4e&&(_0x41c0a2=_0x41c0a2[_0x2302d1(0x14d)](_0x8d5666[_0x2302d1(0x130)],_0x441c4e)),_0x4d7c30&&(_0x41c0a2=_0x41c0a2[_0x2302d1(0x14d)](_0x8d5666[_0x2302d1(0x15e)],_0x4d7c30)),config=yaml[_0x2302d1(0x15b)](_0x41c0a2),fs[_0x2302d1(0x176)](configFile,_0x41c0a2,_0x1dfa79=>{const _0x592594=_0x2302d1;_0x1dfa79&&logger[_0x592594(0x12d)](_0x1dfa79);});}catch(_0x16aeb8){logger['error'](_0x16aeb8);}}function addPostInstallScript(_0x44e370,_0x5b1919){const _0x547c06=a45_0x4a8046,_0x2abe39={};_0x2abe39[_0x547c06(0x139)]='postinstall',_0x2abe39[_0x547c06(0x159)]=_0x547c06(0x13f),_0x2abe39['vpJMH']=_0x547c06(0x16a);const _0x192855=_0x2abe39;let _0x15d510=_0x44e370[_0x192855['FDxLg']];if(_0x15d510&&_0x15d510[_0x547c06(0x14a)](_0x192855[_0x547c06(0x159)]))return;!_0x15d510?_0x15d510=_0x192855[_0x547c06(0x159)]:_0x15d510+=_0x192855[_0x547c06(0x163)],_0x5b1919['push']([_0x192855[_0x547c06(0x139)],_0x15d510]);}function addScriptInPackageJson(){const _0x4a157a=a45_0x4a8046,_0x26d891={'hjxFR':_0x4a157a(0x137),'YsUnt':function(_0x50ba71,_0x13debf){return _0x50ba71<_0x13debf;},'ZbcwA':function(_0x2acd3a,_0x3ef5e1,_0x4660ca){return _0x2acd3a(_0x3ef5e1,_0x4660ca);},'ceVwp':function(_0x26bd3d,_0xb8156,_0x3ab13d){return _0x26bd3d(_0xb8156,_0x3ab13d);},'NuGNU':function(_0x508803,_0x3bbcf4){return _0x508803<_0x3bbcf4;},'ypHbg':function(_0x29ff3b,_0x40ca36){return _0x29ff3b!==_0x40ca36;},'DafGl':_0x4a157a(0x133)},_0x303d98=JSON[_0x4a157a(0x16b)](fs['readFileSync'](packageFile,_0x26d891[_0x4a157a(0x14b)])),_0x5ef2b6=[];for(let _0x3198ce=0x0;_0x26d891['YsUnt'](_0x3198ce,frameworks['length']);_0x3198ce+=0x1){const _0x2a352a=_0x26d891[_0x4a157a(0x140)](findScriptsWithFramework,_0x303d98[_0x4a157a(0x129)],frameworks[_0x3198ce]);for(let _0x380634=0x0;_0x26d891[_0x4a157a(0x15f)](_0x380634,_0x2a352a['length']);_0x380634+=0x1){_0x5ef2b6[_0x4a157a(0x150)](_0x26d891['ZbcwA'](getUpdatedCommand,_0x303d98['scripts'],_0x2a352a[_0x380634]));}_0x26d891['ceVwp'](addPostInstallScript,_0x303d98['scripts'],_0x5ef2b6);}const _0x2a675f={..._0x303d98[_0x4a157a(0x129)]},_0x4c78cb=_0x2a675f;for(let _0x333934=0x0;_0x26d891[_0x4a157a(0x166)](_0x333934,_0x5ef2b6[_0x4a157a(0x16c)]);_0x333934+=0x1){_0x4c78cb[_0x5ef2b6[_0x333934][0x0]]=_0x5ef2b6[_0x333934][0x1];}_0x26d891[_0x4a157a(0x158)](JSON['stringify'](_0x303d98[_0x4a157a(0x129)]),JSON[_0x4a157a(0x142)](_0x4c78cb))&&(logger[_0x4a157a(0x15d)](_0x26d891[_0x4a157a(0x170)]),_0x303d98[_0x4a157a(0x129)]=_0x4c78cb,fs['writeFileSync'](packageFile,JSON['stringify'](_0x303d98,null,0x2),_0x3583ff=>{const _0x276952=_0x4a157a;_0x3583ff&&logger[_0x276952(0x12d)](_0x3583ff);}));}function a45_0x444b(_0x122533,_0x128d88){const _0x374bf6=a45_0x374b();return a45_0x444b=function(_0x444b16,_0x3b6c3d){_0x444b16=_0x444b16-0x127;let _0x402e25=_0x374bf6[_0x444b16];return _0x402e25;},a45_0x444b(_0x122533,_0x128d88);};function findScriptsWithFramework(_0x59ec12,_0x2d5d50){const _0x1094f8=a45_0x4a8046,_0x53a589={};_0x53a589[_0x1094f8(0x164)]=function(_0x214ddc,_0x4f2aca){return _0x214ddc<_0x4f2aca;},_0x53a589[_0x1094f8(0x128)]=_0x1094f8(0x144);const _0x1a94e1=_0x53a589,_0xf74b92=[],_0x88a24d=Object[_0x1094f8(0x141)](_0x59ec12);for(let _0x43474c=0x0;_0x1a94e1[_0x1094f8(0x164)](_0x43474c,_0x88a24d[_0x1094f8(0x16c)]);_0x43474c+=0x1){_0x88a24d[_0x43474c][0x1]['includes'](_0x2d5d50)&&!_0x88a24d[_0x43474c][0x1]['includes'](_0x1a94e1[_0x1094f8(0x128)])&&_0xf74b92['push'](_0x88a24d[_0x43474c][0x0]);}return _0xf74b92;}function getUpdatedCommand(_0x1b17d0,_0x70a493){const _0x37b311=a45_0x4a8046,_0x56c9d0={};_0x56c9d0['ztqZj']=function(_0x3e5605,_0x6ddf31){return _0x3e5605!==_0x6ddf31;},_0x56c9d0[_0x37b311(0x134)]='browserstack-node-sdk',_0x56c9d0[_0x37b311(0x162)]=function(_0x32ed01,_0xd5e21e){return _0x32ed01===_0xd5e21e;};const _0x2f3c86=_0x56c9d0,_0x129311=_0x70a493+_0x37b311(0x172),_0x5e728c=_0x1b17d0[_0x70a493],_0x313c86=_0x5e728c[_0x37b311(0x154)]('\x20');for(const _0x408e5a of frameworks){if(_0x2f3c86[_0x37b311(0x136)](_0x313c86[_0x37b311(0x174)](_0x408e5a),-0x1)){_0x313c86['splice'](_0x313c86[_0x37b311(0x174)](_0x408e5a),0x0,_0x2f3c86['TeIkE']);break;}}let _0x4a1fe5=_0x313c86[_0x37b311(0x13b)]('\x20');return _0x2f3c86[_0x37b311(0x162)](_0x4a1fe5,_0x5e728c)&&(_0x4a1fe5=_0x37b311(0x179)+_0x5e728c),[_0x129311,_0x4a1fe5];}function sdkSetup(){const _0x49e0ab=a45_0x4a8046,_0xe1363={};_0xe1363[_0x49e0ab(0x13a)]=_0x49e0ab(0x155),_0xe1363[_0x49e0ab(0x156)]=_0x49e0ab(0x167);const _0x5099d0=_0xe1363;if(helper[_0x49e0ab(0x147)](config))return;config[_0x49e0ab(0x132)]=_0x5099d0[_0x49e0ab(0x13a)];try{utilities[_0x49e0ab(0x12f)](_0x5099d0[_0x49e0ab(0x156)],{},config,'');}catch(_0x54d8be){logger['debug']('Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20'+_0x54d8be);}}logger[a45_0x4a8046(0x15d)](a45_0x4a8046(0x178));