#!/usr/bin/env node

function a45_0x1c90(){const _0x4bedbc=['Creating\x20configuration\x20file...','qkATC','yQQTj','split','48104myVNZT','writeFileSync','utf8','jHiBB','replace','node-setup','3483208BDPGKn','GUwWJ','js-yaml','entries','FKNyf','1106vJgVSm','YBAcz','key','95463fglGVC','YOUR_ACCESS_KEY','Somle','69060mZWpwr','error','Setup\x20completed','playwright','zeKME','9562800WNIXgJ','readFileSync','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','ARyjg','YVfZM','indexOf','node','debug','bBMVG','4627521nkBALK','30HvomDR','length','parse','argv','/../../browserstack.pw.yml.sample','NDpTC','yargs','/../../browserstack.yml.sample','DWFnz','load','includes','mocha','cwd','info','fireFunnelTestEvent','BRzOk','splice','browserstack-node-sdk\x20','tYtnm','push','isUndefined','browserstack-node-sdk','scripts','xceea','IYsgC','nwNkf','npm\x20update\x20browserstack-node-sdk','SDKSetup','username','/browserstack.yml','postinstall','cucumber-js','stringify','source','/package.json','445557zbWeKu','jest','22FkUteX','zUxGK'];a45_0x1c90=function(){return _0x4bedbc;};return a45_0x1c90();}const a45_0x552894=a45_0x22ad;(function(_0x224202,_0x55697f){const _0x2070c5=a45_0x22ad,_0x3cbb74=_0x224202();while(!![]){try{const _0xf07bf0=parseInt(_0x2070c5(0xb0))/0x1+parseInt(_0x2070c5(0xb2))/0x2*(parseInt(_0x2070c5(0xc6))/0x3)+-parseInt(_0x2070c5(0xbe))/0x4+-parseInt(_0x2070c5(0xc9))/0x5*(-parseInt(_0x2070c5(0xd8))/0x6)+parseInt(_0x2070c5(0xc3))/0x7*(-parseInt(_0x2070c5(0xb8))/0x8)+parseInt(_0x2070c5(0xd7))/0x9+parseInt(_0x2070c5(0xce))/0xa;if(_0xf07bf0===_0x55697f)break;else _0x3cbb74['push'](_0x3cbb74['shift']());}catch(_0x821009){_0x3cbb74['push'](_0x3cbb74['shift']());}}}(a45_0x1c90,0x7d8c1));function a45_0x22ad(_0x38212a,_0xf9f775){const _0x1c9092=a45_0x1c90();return a45_0x22ad=function(_0x22adbe,_0x37cd1b){_0x22adbe=_0x22adbe-0xb0;let _0x555cfb=_0x1c9092[_0x22adbe];return _0x555cfb;},a45_0x22ad(_0x38212a,_0xf9f775);}const fs=require('fs'),helper=require('../helpers/helper'),utilities=require('../helpers/utilities'),yaml=require(a45_0x552894(0xc0)),yargs=require(a45_0x552894(0xde)),logger=require('../helpers/logger')['winstonLogger'],configFileTemplate=__dirname+a45_0x552894(0xdf),configFileTemplatePW=__dirname+a45_0x552894(0xdc),configFile=process[a45_0x552894(0xe4)]()+a45_0x552894(0xf5),packageFile=process[a45_0x552894(0xe4)]()+a45_0x552894(0xfa),frameworks=[a45_0x552894(0xe3),a45_0x552894(0xb1),a45_0x552894(0xf7),a45_0x552894(0xd4),'nightwatch','codeceptjs',a45_0x552894(0xcc)];let config;logger[a45_0x552894(0xe5)](a45_0x552894(0xb4)),createConfigurationFile(yargs[a45_0x552894(0xdb)][a45_0x552894(0xf4)],yargs[a45_0x552894(0xdb)][a45_0x552894(0xc5)],yargs[a45_0x552894(0xdb)][a45_0x552894(0xcc)]);try{sdkSetup();}catch(a45_0x392037){logger[a45_0x552894(0xd5)](a45_0x552894(0xd0)+a45_0x392037);}addScriptInPackageJson();function createConfigurationFile(_0x34a398,_0x4f8105,_0x31668f=![]){const _0x54212b=a45_0x552894,_0x7aa4b7={};_0x7aa4b7['zUxGK']=_0x54212b(0xba),_0x7aa4b7[_0x54212b(0xc4)]='YOUR_USERNAME',_0x7aa4b7[_0x54212b(0xd6)]=_0x54212b(0xc7);const _0x29bb8d=_0x7aa4b7;try{let _0x41cc4a=fs[_0x54212b(0xcf)](_0x31668f?configFileTemplatePW:configFileTemplate,_0x29bb8d[_0x54212b(0xb3)]);_0x34a398&&(_0x41cc4a=_0x41cc4a[_0x54212b(0xbc)](_0x29bb8d[_0x54212b(0xc4)],_0x34a398)),_0x4f8105&&(_0x41cc4a=_0x41cc4a[_0x54212b(0xbc)](_0x29bb8d[_0x54212b(0xd6)],_0x4f8105)),config=yaml[_0x54212b(0xe1)](_0x41cc4a),fs[_0x54212b(0xb9)](configFile,_0x41cc4a,_0x4cd503=>{_0x4cd503&&logger['error'](_0x4cd503);});}catch(_0x3157c3){logger[_0x54212b(0xca)](_0x3157c3);}}function addPostInstallScript(_0x57f387,_0x369096){const _0x4ec279=a45_0x552894,_0x3a77de={};_0x3a77de[_0x4ec279(0xbf)]=_0x4ec279(0xf6),_0x3a77de['Somle']=_0x4ec279(0xf2),_0x3a77de[_0x4ec279(0xbb)]='\x20&&\x20npm\x20update\x20browserstack-node-sdk';const _0x533314=_0x3a77de;let _0x1a1629=_0x57f387[_0x533314[_0x4ec279(0xbf)]];if(_0x1a1629&&_0x1a1629[_0x4ec279(0xe2)](_0x533314[_0x4ec279(0xc8)]))return;!_0x1a1629?_0x1a1629=_0x533314['Somle']:_0x1a1629+=_0x533314[_0x4ec279(0xbb)],_0x369096[_0x4ec279(0xeb)]([_0x533314[_0x4ec279(0xbf)],_0x1a1629]);}function addScriptInPackageJson(){const _0x4983e5=a45_0x552894,_0x587a71={'yQQTj':_0x4983e5(0xba),'YVfZM':function(_0x3f4533,_0x5ddfcf){return _0x3f4533<_0x5ddfcf;},'tYtnm':function(_0x2db84a,_0x35da5f,_0x7e0da3){return _0x2db84a(_0x35da5f,_0x7e0da3);},'IYsgC':function(_0x120f5b,_0x453d14,_0x34a231){return _0x120f5b(_0x453d14,_0x34a231);},'DWFnz':function(_0x3d6da2,_0x3dce07){return _0x3d6da2!==_0x3dce07;},'NDpTC':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x2d5aa9=JSON[_0x4983e5(0xda)](fs[_0x4983e5(0xcf)](packageFile,_0x587a71[_0x4983e5(0xb6)])),_0x3a0549=[];for(let _0x3d23d2=0x0;_0x587a71[_0x4983e5(0xd2)](_0x3d23d2,frameworks[_0x4983e5(0xd9)]);_0x3d23d2+=0x1){const _0x23f13b=_0x587a71[_0x4983e5(0xea)](findScriptsWithFramework,_0x2d5aa9['scripts'],frameworks[_0x3d23d2]);for(let _0x4bb12d=0x0;_0x587a71[_0x4983e5(0xd2)](_0x4bb12d,_0x23f13b[_0x4983e5(0xd9)]);_0x4bb12d+=0x1){_0x3a0549[_0x4983e5(0xeb)](_0x587a71[_0x4983e5(0xea)](getUpdatedCommand,_0x2d5aa9[_0x4983e5(0xee)],_0x23f13b[_0x4bb12d]));}_0x587a71[_0x4983e5(0xf0)](addPostInstallScript,_0x2d5aa9[_0x4983e5(0xee)],_0x3a0549);}const _0x2c9aa0={..._0x2d5aa9['scripts']},_0x3471b5=_0x2c9aa0;for(let _0x24a938=0x0;_0x587a71['YVfZM'](_0x24a938,_0x3a0549['length']);_0x24a938+=0x1){_0x3471b5[_0x3a0549[_0x24a938][0x0]]=_0x3a0549[_0x24a938][0x1];}_0x587a71[_0x4983e5(0xe0)](JSON[_0x4983e5(0xf8)](_0x2d5aa9[_0x4983e5(0xee)]),JSON[_0x4983e5(0xf8)](_0x3471b5))&&(logger[_0x4983e5(0xe5)](_0x587a71[_0x4983e5(0xdd)]),_0x2d5aa9[_0x4983e5(0xee)]=_0x3471b5,fs[_0x4983e5(0xb9)](packageFile,JSON['stringify'](_0x2d5aa9,null,0x2),_0x3076fe=>{const _0x46ce13=_0x4983e5;_0x3076fe&&logger[_0x46ce13(0xca)](_0x3076fe);}));};function findScriptsWithFramework(_0x141b57,_0x1aedd0){const _0x167ea7=a45_0x552894,_0x2ed948={};_0x2ed948[_0x167ea7(0xb5)]=function(_0x548d54,_0xa11339){return _0x548d54<_0xa11339;},_0x2ed948[_0x167ea7(0xd1)]=_0x167ea7(0xed);const _0x345843=_0x2ed948,_0x3f8d46=[],_0x59f9c6=Object[_0x167ea7(0xc1)](_0x141b57);for(let _0x4c7f54=0x0;_0x345843[_0x167ea7(0xb5)](_0x4c7f54,_0x59f9c6[_0x167ea7(0xd9)]);_0x4c7f54+=0x1){_0x59f9c6[_0x4c7f54][0x1][_0x167ea7(0xe2)](_0x1aedd0)&&!_0x59f9c6[_0x4c7f54][0x1][_0x167ea7(0xe2)](_0x345843[_0x167ea7(0xd1)])&&_0x3f8d46[_0x167ea7(0xeb)](_0x59f9c6[_0x4c7f54][0x0]);}return _0x3f8d46;}function getUpdatedCommand(_0x4c2c9a,_0x1c48dc){const _0x11f54d=a45_0x552894,_0x5d66d7={};_0x5d66d7[_0x11f54d(0xcd)]=function(_0x1dc972,_0x91ff36){return _0x1dc972!==_0x91ff36;},_0x5d66d7[_0x11f54d(0xc2)]='browserstack-node-sdk',_0x5d66d7[_0x11f54d(0xe7)]=function(_0x4e973a,_0x2ce698){return _0x4e973a===_0x2ce698;};const _0x27b2b1=_0x5d66d7,_0x5aa38c=_0x1c48dc+'-browserstack',_0xdbc000=_0x4c2c9a[_0x1c48dc],_0x503128=_0xdbc000[_0x11f54d(0xb7)]('\x20');for(const _0x5dc2b4 of frameworks){if(_0x27b2b1['zeKME'](_0x503128[_0x11f54d(0xd3)](_0x5dc2b4),-0x1)){_0x503128[_0x11f54d(0xe8)](_0x503128[_0x11f54d(0xd3)](_0x5dc2b4),0x0,_0x27b2b1[_0x11f54d(0xc2)]);break;}}let _0x39ffaf=_0x503128['join']('\x20');return _0x27b2b1[_0x11f54d(0xe7)](_0x39ffaf,_0xdbc000)&&(_0x39ffaf=_0x11f54d(0xe9)+_0xdbc000),[_0x5aa38c,_0x39ffaf];}function sdkSetup(){const _0x4eb3ed=a45_0x552894,_0x190756={};_0x190756[_0x4eb3ed(0xef)]=_0x4eb3ed(0xbd),_0x190756['nwNkf']=_0x4eb3ed(0xf3);const _0x3e7834=_0x190756;if(helper[_0x4eb3ed(0xec)](config))return;config[_0x4eb3ed(0xf9)]=_0x3e7834[_0x4eb3ed(0xef)];try{utilities[_0x4eb3ed(0xe6)](_0x3e7834[_0x4eb3ed(0xf1)],{},config,'');}catch(_0x84bd57){logger[_0x4eb3ed(0xd5)](_0x4eb3ed(0xd0)+_0x84bd57);}}logger[a45_0x552894(0xe5)](a45_0x552894(0xcb));