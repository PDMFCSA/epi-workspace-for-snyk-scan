#!/usr/bin/env node

function a49_0x62ff(_0x4e16cb,_0x155f65){const _0x3ee7ba=a49_0x3ee7();return a49_0x62ff=function(_0x62ff27,_0x21edd0){_0x62ff27=_0x62ff27-0xb2;let _0x33e3aa=_0x3ee7ba[_0x62ff27];return _0x33e3aa;},a49_0x62ff(_0x4e16cb,_0x155f65);}const a49_0x3bcfa0=a49_0x62ff;(function(_0xa49428,_0x211bb5){const _0xd8929d=a49_0x62ff,_0x58ca18=_0xa49428();while(!![]){try{const _0x6d1ebd=-parseInt(_0xd8929d(0xde))/0x1*(-parseInt(_0xd8929d(0xf1))/0x2)+parseInt(_0xd8929d(0xcc))/0x3+parseInt(_0xd8929d(0xbe))/0x4+-parseInt(_0xd8929d(0xd2))/0x5+parseInt(_0xd8929d(0xca))/0x6*(parseInt(_0xd8929d(0xf5))/0x7)+-parseInt(_0xd8929d(0xd1))/0x8+-parseInt(_0xd8929d(0xeb))/0x9*(-parseInt(_0xd8929d(0xbb))/0xa);if(_0x6d1ebd===_0x211bb5)break;else _0x58ca18['push'](_0x58ca18['shift']());}catch(_0x509d1f){_0x58ca18['push'](_0x58ca18['shift']());}}}(a49_0x3ee7,0x7835a));const fs=require('fs'),helper=require(a49_0x3bcfa0(0xfb)),utilities=require(a49_0x3bcfa0(0xda)),yaml=require('js-yaml'),yargs=require(a49_0x3bcfa0(0xbc)),logger=require(a49_0x3bcfa0(0xe3))[a49_0x3bcfa0(0xd3)],configFileTemplate=__dirname+a49_0x3bcfa0(0xb6),configFileTemplatePW=__dirname+a49_0x3bcfa0(0xe8),configFile=process[a49_0x3bcfa0(0xfa)]()+a49_0x3bcfa0(0xf4),packageFile=process['cwd']()+a49_0x3bcfa0(0xcb),frameworks=[a49_0x3bcfa0(0xbd),a49_0x3bcfa0(0xfc),a49_0x3bcfa0(0xc2),a49_0x3bcfa0(0xf7),a49_0x3bcfa0(0xb7),a49_0x3bcfa0(0xd5),a49_0x3bcfa0(0xc1)];let config;logger[a49_0x3bcfa0(0xdd)]('Creating\x20configuration\x20file...'),createConfigurationFile(yargs[a49_0x3bcfa0(0xdf)][a49_0x3bcfa0(0xea)],yargs[a49_0x3bcfa0(0xdf)]['key'],yargs['argv'][a49_0x3bcfa0(0xc1)]);try{sdkSetup();}catch(a49_0x5d9245){logger['debug'](a49_0x3bcfa0(0xc3)+a49_0x5d9245);}addScriptInPackageJson();function createConfigurationFile(_0x959866,_0x56d2d4,_0x13331b=![]){const _0x417136=a49_0x3bcfa0,_0x3cdfa2={};_0x3cdfa2['bSnKS']=_0x417136(0xf9),_0x3cdfa2[_0x417136(0xec)]=_0x417136(0xd0),_0x3cdfa2['trXOz']=_0x417136(0xe0);const _0x4f1f00=_0x3cdfa2;try{let _0x27f14a=fs[_0x417136(0xc7)](_0x13331b?configFileTemplatePW:configFileTemplate,_0x4f1f00[_0x417136(0xe1)]);_0x959866&&(_0x27f14a=_0x27f14a[_0x417136(0x101)](_0x4f1f00[_0x417136(0xec)],_0x959866)),_0x56d2d4&&(_0x27f14a=_0x27f14a[_0x417136(0x101)](_0x4f1f00[_0x417136(0xdb)],_0x56d2d4)),config=yaml[_0x417136(0xc9)](_0x27f14a),fs[_0x417136(0x100)](configFile,_0x27f14a,_0x5ce15b=>{_0x5ce15b&&logger['error'](_0x5ce15b);});}catch(_0x417bb3){logger[_0x417136(0xb4)](_0x417bb3);}}function addPostInstallScript(_0x1b5671,_0x4bb290){const _0x503924=a49_0x3bcfa0,_0x51948f={};_0x51948f[_0x503924(0xd8)]=_0x503924(0xb8),_0x51948f[_0x503924(0xb3)]='npm\x20update\x20browserstack-node-sdk',_0x51948f['AQwCO']='\x20&&\x20npm\x20update\x20browserstack-node-sdk';const _0x3fe1de=_0x51948f;let _0x4e77c3=_0x1b5671[_0x3fe1de[_0x503924(0xd8)]];if(_0x4e77c3&&_0x4e77c3[_0x503924(0xfd)](_0x3fe1de['AdBsV']))return;!_0x4e77c3?_0x4e77c3=_0x3fe1de[_0x503924(0xb3)]:_0x4e77c3+=_0x3fe1de[_0x503924(0xc4)],_0x4bb290['push']([_0x3fe1de[_0x503924(0xd8)],_0x4e77c3]);}function addScriptInPackageJson(){const _0x2ef0f8=a49_0x3bcfa0,_0x90b5d0={'cXtrO':'utf8','sscNm':function(_0x1d3600,_0x1e7811){return _0x1d3600<_0x1e7811;},'GqajS':function(_0x2d34a2,_0x518766,_0x3ca657){return _0x2d34a2(_0x518766,_0x3ca657);},'Gyuxo':function(_0x372ba0,_0x8d9a30){return _0x372ba0<_0x8d9a30;},'mIHJY':function(_0x25cbe1,_0xb022ba,_0x59ff0a){return _0x25cbe1(_0xb022ba,_0x59ff0a);},'Nyhkv':function(_0x543f04,_0x2ef403){return _0x543f04!==_0x2ef403;},'UJlMN':_0x2ef0f8(0xf8)},_0x29fcdf=JSON['parse'](fs[_0x2ef0f8(0xc7)](packageFile,_0x90b5d0[_0x2ef0f8(0xdc)])),_0x18e2e4=[];for(let _0x2196f0=0x0;_0x90b5d0[_0x2ef0f8(0xfe)](_0x2196f0,frameworks[_0x2ef0f8(0xd6)]);_0x2196f0+=0x1){const _0x28bb11=_0x90b5d0[_0x2ef0f8(0xba)](findScriptsWithFramework,_0x29fcdf[_0x2ef0f8(0xf2)],frameworks[_0x2196f0]);for(let _0x281841=0x0;_0x90b5d0[_0x2ef0f8(0xe5)](_0x281841,_0x28bb11['length']);_0x281841+=0x1){_0x18e2e4[_0x2ef0f8(0xf0)](_0x90b5d0[_0x2ef0f8(0xff)](getUpdatedCommand,_0x29fcdf['scripts'],_0x28bb11[_0x281841]));}_0x90b5d0[_0x2ef0f8(0xba)](addPostInstallScript,_0x29fcdf[_0x2ef0f8(0xf2)],_0x18e2e4);}const _0x2358ce={..._0x29fcdf['scripts']},_0x59e5dd=_0x2358ce;for(let _0x64970d=0x0;_0x90b5d0[_0x2ef0f8(0xfe)](_0x64970d,_0x18e2e4[_0x2ef0f8(0xd6)]);_0x64970d+=0x1){_0x59e5dd[_0x18e2e4[_0x64970d][0x0]]=_0x18e2e4[_0x64970d][0x1];}_0x90b5d0[_0x2ef0f8(0xc0)](JSON[_0x2ef0f8(0xe7)](_0x29fcdf[_0x2ef0f8(0xf2)]),JSON[_0x2ef0f8(0xe7)](_0x59e5dd))&&(logger['info'](_0x90b5d0[_0x2ef0f8(0xb5)]),_0x29fcdf[_0x2ef0f8(0xf2)]=_0x59e5dd,fs['writeFileSync'](packageFile,JSON[_0x2ef0f8(0xe7)](_0x29fcdf,null,0x2),_0x3056d6=>{const _0x4aa2d9=_0x2ef0f8;_0x3056d6&&logger[_0x4aa2d9(0xb4)](_0x3056d6);}));};function findScriptsWithFramework(_0x94bee2,_0x58c3db){const _0x450f1c=a49_0x3bcfa0,_0x39a647={};_0x39a647[_0x450f1c(0xf6)]=function(_0x575f96,_0x3072b2){return _0x575f96<_0x3072b2;},_0x39a647[_0x450f1c(0xe2)]='browserstack-node-sdk';const _0x500a3d=_0x39a647,_0x2d3c5e=[],_0x7aca73=Object[_0x450f1c(0xd9)](_0x94bee2);for(let _0x17e745=0x0;_0x500a3d[_0x450f1c(0xf6)](_0x17e745,_0x7aca73[_0x450f1c(0xd6)]);_0x17e745+=0x1){_0x7aca73[_0x17e745][0x1][_0x450f1c(0xfd)](_0x58c3db)&&!_0x7aca73[_0x17e745][0x1][_0x450f1c(0xfd)](_0x500a3d['BYQPi'])&&_0x2d3c5e[_0x450f1c(0xf0)](_0x7aca73[_0x17e745][0x0]);}return _0x2d3c5e;}function getUpdatedCommand(_0x384528,_0x46abea){const _0x54f80b=a49_0x3bcfa0,_0x3aaa8f={};_0x3aaa8f[_0x54f80b(0xed)]=function(_0x4ae1cf,_0x47f4af){return _0x4ae1cf!==_0x47f4af;},_0x3aaa8f[_0x54f80b(0xe4)]=_0x54f80b(0xce),_0x3aaa8f[_0x54f80b(0xb9)]=function(_0x4c2824,_0x9f701){return _0x4c2824===_0x9f701;};const _0x9048cc=_0x3aaa8f,_0x187b5b=_0x46abea+_0x54f80b(0xb2),_0x1c9b59=_0x384528[_0x46abea],_0xa1e6df=_0x1c9b59[_0x54f80b(0xef)]('\x20');for(const _0x1b606e of frameworks){if(_0x9048cc['EUbKy'](_0xa1e6df[_0x54f80b(0xee)](_0x1b606e),-0x1)){_0xa1e6df[_0x54f80b(0xe9)](_0xa1e6df[_0x54f80b(0xee)](_0x1b606e),0x0,_0x9048cc[_0x54f80b(0xe4)]);break;}}let _0x4ca5fd=_0xa1e6df[_0x54f80b(0xf3)]('\x20');return _0x9048cc[_0x54f80b(0xb9)](_0x4ca5fd,_0x1c9b59)&&(_0x4ca5fd=_0x54f80b(0xcd)+_0x1c9b59),[_0x187b5b,_0x4ca5fd];}function sdkSetup(){const _0x24ed0b=a49_0x3bcfa0,_0x2717c2={};_0x2717c2[_0x24ed0b(0xc8)]='node-setup',_0x2717c2[_0x24ed0b(0xd7)]=_0x24ed0b(0xcf);const _0x3d2777=_0x2717c2;if(helper[_0x24ed0b(0xd4)](config))return;config[_0x24ed0b(0xbf)]=_0x3d2777[_0x24ed0b(0xc8)];try{utilities[_0x24ed0b(0xc5)](_0x3d2777[_0x24ed0b(0xd7)],{},config,'');}catch(_0x245a09){logger[_0x24ed0b(0xe6)](_0x24ed0b(0xc3)+_0x245a09);}}logger[a49_0x3bcfa0(0xdd)](a49_0x3bcfa0(0xc6));function a49_0x3ee7(){const _0x7d1a81=['entries','../helpers/utilities','trXOz','cXtrO','info','6164DdcqOC','argv','YOUR_ACCESS_KEY','bSnKS','BYQPi','../helpers/logger','ooBCe','Gyuxo','debug','stringify','/../../browserstack.pw.yml.sample','splice','username','141147EoNBMj','WYzFN','EUbKy','indexOf','split','push','26penMqH','scripts','join','/browserstack.yml','7574BqNcTo','uQhAM','node','Adding\x20new\x20script(s)\x20in\x20package.json...','utf8','cwd','../helpers/helper','jest','includes','sscNm','mIHJY','writeFileSync','replace','-browserstack','AdBsV','error','UJlMN','/../../browserstack.yml.sample','nightwatch','postinstall','eGnzz','GqajS','860LIiYDp','yargs','mocha','303132TEhXsF','source','Nyhkv','playwright','cucumber-js','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','AQwCO','fireFunnelTestEvent','Setup\x20completed','readFileSync','HqsAi','load','1854DFdQOq','/package.json','461118XYLfAT','browserstack-node-sdk\x20','browserstack-node-sdk','SDKSetup','YOUR_USERNAME','7599624ywloav','2751830rMKOuQ','winstonLogger','isUndefined','codeceptjs','length','PGbhm','ALqTP'];a49_0x3ee7=function(){return _0x7d1a81;};return a49_0x3ee7();}