#!/usr/bin/env node

const a50_0x4cc237=a50_0x2374;(function(_0x1bb471,_0x1d5be6){const _0x1ed243=a50_0x2374,_0x327bb5=_0x1bb471();while(!![]){try{const _0x1a0880=-parseInt(_0x1ed243(0x133))/0x1+-parseInt(_0x1ed243(0x127))/0x2*(-parseInt(_0x1ed243(0x153))/0x3)+-parseInt(_0x1ed243(0x145))/0x4+parseInt(_0x1ed243(0x14e))/0x5+parseInt(_0x1ed243(0x136))/0x6*(parseInt(_0x1ed243(0x159))/0x7)+parseInt(_0x1ed243(0x13a))/0x8*(-parseInt(_0x1ed243(0x122))/0x9)+parseInt(_0x1ed243(0x13d))/0xa;if(_0x1a0880===_0x1d5be6)break;else _0x327bb5['push'](_0x327bb5['shift']());}catch(_0x4c4249){_0x327bb5['push'](_0x327bb5['shift']());}}}(a50_0x197b,0x6ff80));const fs=require('fs'),helper=require(a50_0x4cc237(0x152)),utilities=require(a50_0x4cc237(0x158)),yaml=require(a50_0x4cc237(0x137)),yargs=require(a50_0x4cc237(0x14a)),logger=require(a50_0x4cc237(0x14d))['winstonLogger'],configFileTemplate=__dirname+a50_0x4cc237(0x132),configFileTemplatePW=__dirname+a50_0x4cc237(0x129),configFile=process['cwd']()+a50_0x4cc237(0x151),packageFile=process[a50_0x4cc237(0x144)]()+'/package.json',frameworks=['mocha',a50_0x4cc237(0x12c),a50_0x4cc237(0x14c),a50_0x4cc237(0x13f),'nightwatch',a50_0x4cc237(0x119),a50_0x4cc237(0x10e)];function a50_0x2374(_0x123a9a,_0x36824b){const _0x197bdd=a50_0x197b();return a50_0x2374=function(_0x237470,_0x1e6c61){_0x237470=_0x237470-0x10e;let _0x3c1c9f=_0x197bdd[_0x237470];return _0x3c1c9f;},a50_0x2374(_0x123a9a,_0x36824b);}let config;logger[a50_0x4cc237(0x11b)](a50_0x4cc237(0x139)),createConfigurationFile(yargs[a50_0x4cc237(0x12b)][a50_0x4cc237(0x148)],yargs[a50_0x4cc237(0x12b)]['key'],yargs[a50_0x4cc237(0x12b)][a50_0x4cc237(0x10e)]);try{sdkSetup();}catch(a50_0x263378){logger[a50_0x4cc237(0x114)](a50_0x4cc237(0x124)+a50_0x263378);}addScriptInPackageJson();function createConfigurationFile(_0x1d638b,_0x13b2e4,_0x26d6ca=![]){const _0x520ca0=a50_0x4cc237,_0x2f38={};_0x2f38['HHNZK']=_0x520ca0(0x111),_0x2f38[_0x520ca0(0x11a)]=_0x520ca0(0x155),_0x2f38['KDEzl']=_0x520ca0(0x117);const _0x1630de=_0x2f38;try{let _0x243f13=fs[_0x520ca0(0x126)](_0x26d6ca?configFileTemplatePW:configFileTemplate,_0x1630de[_0x520ca0(0x131)]);_0x1d638b&&(_0x243f13=_0x243f13['replace'](_0x1630de[_0x520ca0(0x11a)],_0x1d638b)),_0x13b2e4&&(_0x243f13=_0x243f13[_0x520ca0(0x11f)](_0x1630de[_0x520ca0(0x130)],_0x13b2e4)),config=yaml[_0x520ca0(0x12a)](_0x243f13),fs[_0x520ca0(0x11e)](configFile,_0x243f13,_0xac058d=>{const _0x14eaab=_0x520ca0;_0xac058d&&logger[_0x14eaab(0x121)](_0xac058d);});}catch(_0x517f7f){logger[_0x520ca0(0x121)](_0x517f7f);}}function addPostInstallScript(_0x253763,_0x178982){const _0x429ab9=a50_0x4cc237,_0x10550c={};_0x10550c[_0x429ab9(0x13e)]='postinstall',_0x10550c[_0x429ab9(0x141)]=_0x429ab9(0x118),_0x10550c[_0x429ab9(0x150)]=_0x429ab9(0x113);const _0x495b29=_0x10550c;let _0x5a9db7=_0x253763[_0x495b29[_0x429ab9(0x13e)]];if(_0x5a9db7&&_0x5a9db7[_0x429ab9(0x11c)](_0x495b29[_0x429ab9(0x141)]))return;!_0x5a9db7?_0x5a9db7=_0x495b29['cZYrq']:_0x5a9db7+=_0x495b29['NNiZy'],_0x178982[_0x429ab9(0x143)]([_0x495b29['LIiEq'],_0x5a9db7]);}function addScriptInPackageJson(){const _0x1ba38d=a50_0x4cc237,_0x31f517={'gMJTz':_0x1ba38d(0x111),'bYvAL':function(_0x4b1ae1,_0x4293a8){return _0x4b1ae1<_0x4293a8;},'LHZxG':function(_0x4422c0,_0x33af4a,_0xb4b19){return _0x4422c0(_0x33af4a,_0xb4b19);},'yZKGo':function(_0x539cf4,_0x1d232b){return _0x539cf4<_0x1d232b;},'xhpEh':function(_0x4ccd22,_0x44a553,_0x4e7ee2){return _0x4ccd22(_0x44a553,_0x4e7ee2);},'HECHL':function(_0x1a7a85,_0x1ad6c7){return _0x1a7a85!==_0x1ad6c7;},'tLGtD':_0x1ba38d(0x156)},_0x488b56=JSON[_0x1ba38d(0x110)](fs[_0x1ba38d(0x126)](packageFile,_0x31f517['gMJTz'])),_0x36704e=[];for(let _0x48fa5a=0x0;_0x31f517[_0x1ba38d(0x135)](_0x48fa5a,frameworks[_0x1ba38d(0x12f)]);_0x48fa5a+=0x1){const _0x2fe48c=_0x31f517['LHZxG'](findScriptsWithFramework,_0x488b56['scripts'],frameworks[_0x48fa5a]);for(let _0x53f43b=0x0;_0x31f517['yZKGo'](_0x53f43b,_0x2fe48c['length']);_0x53f43b+=0x1){_0x36704e[_0x1ba38d(0x143)](_0x31f517['LHZxG'](getUpdatedCommand,_0x488b56[_0x1ba38d(0x128)],_0x2fe48c[_0x53f43b]));}_0x31f517['xhpEh'](addPostInstallScript,_0x488b56['scripts'],_0x36704e);}const _0x2405ce={..._0x488b56[_0x1ba38d(0x128)]},_0x1fd7da=_0x2405ce;for(let _0x25f8d5=0x0;_0x31f517[_0x1ba38d(0x14b)](_0x25f8d5,_0x36704e[_0x1ba38d(0x12f)]);_0x25f8d5+=0x1){_0x1fd7da[_0x36704e[_0x25f8d5][0x0]]=_0x36704e[_0x25f8d5][0x1];}_0x31f517[_0x1ba38d(0x138)](JSON[_0x1ba38d(0x125)](_0x488b56[_0x1ba38d(0x128)]),JSON[_0x1ba38d(0x125)](_0x1fd7da))&&(logger[_0x1ba38d(0x11b)](_0x31f517[_0x1ba38d(0x10f)]),_0x488b56['scripts']=_0x1fd7da,fs[_0x1ba38d(0x11e)](packageFile,JSON['stringify'](_0x488b56,null,0x2),_0x250c49=>{const _0x4fbbd3=_0x1ba38d;_0x250c49&&logger[_0x4fbbd3(0x121)](_0x250c49);}));};function findScriptsWithFramework(_0x58cd65,_0x3afba4){const _0xca94c2=a50_0x4cc237,_0x12355e={};_0x12355e[_0xca94c2(0x157)]=function(_0x41f50b,_0x3fed35){return _0x41f50b<_0x3fed35;},_0x12355e[_0xca94c2(0x12e)]=_0xca94c2(0x12d);const _0x33b408=_0x12355e,_0x24981b=[],_0x5a2d66=Object[_0xca94c2(0x120)](_0x58cd65);for(let _0x114609=0x0;_0x33b408[_0xca94c2(0x157)](_0x114609,_0x5a2d66[_0xca94c2(0x12f)]);_0x114609+=0x1){_0x5a2d66[_0x114609][0x1]['includes'](_0x3afba4)&&!_0x5a2d66[_0x114609][0x1]['includes'](_0x33b408[_0xca94c2(0x12e)])&&_0x24981b[_0xca94c2(0x143)](_0x5a2d66[_0x114609][0x0]);}return _0x24981b;}function getUpdatedCommand(_0x33f52b,_0x3936e5){const _0x4a3b3b=a50_0x4cc237,_0x5c79ea={};_0x5c79ea[_0x4a3b3b(0x13b)]=function(_0xde2247,_0x43de1e){return _0xde2247!==_0x43de1e;},_0x5c79ea['hbIhe']=_0x4a3b3b(0x12d),_0x5c79ea['ItSHC']=function(_0x1ee90a,_0x2688ec){return _0x1ee90a===_0x2688ec;};const _0x11179a=_0x5c79ea,_0x872034=_0x3936e5+_0x4a3b3b(0x142),_0x439754=_0x33f52b[_0x3936e5],_0x1dbfea=_0x439754[_0x4a3b3b(0x123)]('\x20');for(const _0x53a44a of frameworks){if(_0x11179a[_0x4a3b3b(0x13b)](_0x1dbfea[_0x4a3b3b(0x14f)](_0x53a44a),-0x1)){_0x1dbfea[_0x4a3b3b(0x134)](_0x1dbfea[_0x4a3b3b(0x14f)](_0x53a44a),0x0,_0x11179a[_0x4a3b3b(0x11d)]);break;}}let _0x5f2832=_0x1dbfea[_0x4a3b3b(0x140)]('\x20');return _0x11179a[_0x4a3b3b(0x112)](_0x5f2832,_0x439754)&&(_0x5f2832=_0x4a3b3b(0x116)+_0x439754),[_0x872034,_0x5f2832];}function sdkSetup(){const _0x30b997=a50_0x4cc237,_0x7da5b9={};_0x7da5b9[_0x30b997(0x147)]=_0x30b997(0x13c),_0x7da5b9['HTfAH']=_0x30b997(0x154);const _0xc2d20b=_0x7da5b9;if(helper[_0x30b997(0x115)](config))return;config[_0x30b997(0x149)]=_0xc2d20b[_0x30b997(0x147)];try{utilities['fireFunnelTestEvent'](_0xc2d20b[_0x30b997(0x15a)],{},config,'');}catch(_0x1f3531){logger[_0x30b997(0x114)](_0x30b997(0x124)+_0x1f3531);}}function a50_0x197b(){const _0xf00211=['replace','entries','error','171ckZwhr','split','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','stringify','readFileSync','422gpRDur','scripts','/../../browserstack.pw.yml.sample','load','argv','jest','browserstack-node-sdk','gznrb','length','KDEzl','HHNZK','/../../browserstack.yml.sample','486912KftSzv','splice','bYvAL','30vfDXoX','js-yaml','HECHL','Creating\x20configuration\x20file...','138152RdnFhY','vdmcw','node-setup','12171600usDhsE','LIiEq','node','join','cZYrq','-browserstack','push','cwd','1558128GQUENb','Setup\x20completed','caqrn','username','source','yargs','yZKGo','cucumber-js','../helpers/logger','1982040lSNTkt','indexOf','NNiZy','/browserstack.yml','../helpers/helper','498nDtVxS','SDKSetup','YOUR_USERNAME','Adding\x20new\x20script(s)\x20in\x20package.json...','nFArs','../helpers/utilities','20419yqxLDY','HTfAH','playwright','tLGtD','parse','utf8','ItSHC','\x20&&\x20npm\x20update\x20browserstack-node-sdk','debug','isUndefined','browserstack-node-sdk\x20','YOUR_ACCESS_KEY','npm\x20update\x20browserstack-node-sdk','codeceptjs','OszsU','info','includes','hbIhe','writeFileSync'];a50_0x197b=function(){return _0xf00211;};return a50_0x197b();}logger[a50_0x4cc237(0x11b)](a50_0x4cc237(0x146));