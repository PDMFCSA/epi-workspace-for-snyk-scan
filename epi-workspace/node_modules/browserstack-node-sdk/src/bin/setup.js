#!/usr/bin/env node

const a46_0x3f9965=a46_0x4f34;function a46_0x444f(){const _0x156f58=['2206784DeJMeM','node','browserstack-node-sdk','/browserstack.yml','replace','error','YOUR_ACCESS_KEY','FJIVh','2919pChDsN','length','js-yaml','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','/../../browserstack.yml.sample','../helpers/helper','browserstack-node-sdk\x20','bHxKo','source','jGUUB','Setup\x20completed','info','writeFileSync','jest','/../../browserstack.pw.yml.sample','splice','winstonLogger','24voZpHZ','isUndefined','4291861JXNEkV','/package.json','cucumber-js','key','Creating\x20configuration\x20file...','includes','../helpers/utilities','NKriA','24QlhTLy','mHTbc','xjZWG','entries','debug','parse','stringify','fireFunnelTestEvent','node-setup','split','PoJnq','argv','push','881695mrJZWj','hlGvr','YOUR_USERNAME','playwright','rkFgf','ObJbY','170MaeXIY','LTadb','JZgrL','indexOf','RFFqH','Adding\x20new\x20script(s)\x20in\x20package.json...','698328SfpAYs','RWvzU','KYXbE','utf8','2682620vjezur','MaEaO','864477zfRxDE','cwd','yargs','codeceptjs','npm\x20update\x20browserstack-node-sdk','mocha','XASEt','scripts','readFileSync','postinstall'];a46_0x444f=function(){return _0x156f58;};return a46_0x444f();}(function(_0x586ab8,_0x20d260){const _0x189974=a46_0x4f34,_0x117c4f=_0x586ab8();while(!![]){try{const _0x5c61ac=parseInt(_0x189974(0x22a))/0x1*(-parseInt(_0x189974(0x1f9))/0x2)+-parseInt(_0x189974(0x212))/0x3+parseInt(_0x189974(0x216))/0x4+parseInt(_0x189974(0x206))/0x5*(parseInt(_0x189974(0x1ef))/0x6)+parseInt(_0x189974(0x1f1))/0x7+parseInt(_0x189974(0x222))/0x8+-parseInt(_0x189974(0x218))/0x9*(parseInt(_0x189974(0x20c))/0xa);if(_0x5c61ac===_0x20d260)break;else _0x117c4f['push'](_0x117c4f['shift']());}catch(_0x43459d){_0x117c4f['push'](_0x117c4f['shift']());}}}(a46_0x444f,0x58ef5));const fs=require('fs'),helper=require(a46_0x3f9965(0x22f)),utilities=require(a46_0x3f9965(0x1f7)),yaml=require(a46_0x3f9965(0x22c)),yargs=require(a46_0x3f9965(0x21a)),logger=require('../helpers/logger')[a46_0x3f9965(0x23a)],configFileTemplate=__dirname+a46_0x3f9965(0x22e),configFileTemplatePW=__dirname+a46_0x3f9965(0x238),configFile=process[a46_0x3f9965(0x219)]()+a46_0x3f9965(0x225),packageFile=process[a46_0x3f9965(0x219)]()+a46_0x3f9965(0x1f2),frameworks=[a46_0x3f9965(0x21d),a46_0x3f9965(0x237),a46_0x3f9965(0x1f3),a46_0x3f9965(0x223),'nightwatch',a46_0x3f9965(0x21b),a46_0x3f9965(0x209)];let config;logger[a46_0x3f9965(0x235)](a46_0x3f9965(0x1f5)),createConfigurationFile(yargs[a46_0x3f9965(0x204)]['username'],yargs[a46_0x3f9965(0x204)][a46_0x3f9965(0x1f4)],yargs['argv']['playwright']);try{sdkSetup();}catch(a46_0x44a7e7){logger[a46_0x3f9965(0x1fd)](a46_0x3f9965(0x22d)+a46_0x44a7e7);}addScriptInPackageJson();function createConfigurationFile(_0x4257c0,_0x40eb1f,_0x408f94=![]){const _0x1ce5bc=a46_0x3f9965,_0x13931b={};_0x13931b[_0x1ce5bc(0x21e)]=_0x1ce5bc(0x215),_0x13931b[_0x1ce5bc(0x20a)]=_0x1ce5bc(0x208),_0x13931b[_0x1ce5bc(0x210)]=_0x1ce5bc(0x228);const _0x29d6e1=_0x13931b;try{let _0x57e817=fs[_0x1ce5bc(0x220)](_0x408f94?configFileTemplatePW:configFileTemplate,_0x29d6e1[_0x1ce5bc(0x21e)]);_0x4257c0&&(_0x57e817=_0x57e817[_0x1ce5bc(0x226)](_0x29d6e1[_0x1ce5bc(0x20a)],_0x4257c0)),_0x40eb1f&&(_0x57e817=_0x57e817[_0x1ce5bc(0x226)](_0x29d6e1['RFFqH'],_0x40eb1f)),config=yaml['load'](_0x57e817),fs[_0x1ce5bc(0x236)](configFile,_0x57e817,_0x8a78a5=>{const _0x3ed77d=_0x1ce5bc;_0x8a78a5&&logger[_0x3ed77d(0x227)](_0x8a78a5);});}catch(_0x1bfa8d){logger[_0x1ce5bc(0x227)](_0x1bfa8d);}}function addPostInstallScript(_0x598965,_0x2976ce){const _0x3ec449=a46_0x3f9965,_0x5ca826={};_0x5ca826['ObJbY']=_0x3ec449(0x221),_0x5ca826[_0x3ec449(0x1fa)]=_0x3ec449(0x21c),_0x5ca826[_0x3ec449(0x217)]='\x20&&\x20npm\x20update\x20browserstack-node-sdk';const _0x41e94a=_0x5ca826;let _0x36026c=_0x598965[_0x41e94a[_0x3ec449(0x20b)]];if(_0x36026c&&_0x36026c[_0x3ec449(0x1f6)](_0x41e94a[_0x3ec449(0x1fa)]))return;!_0x36026c?_0x36026c=_0x41e94a['mHTbc']:_0x36026c+=_0x41e94a[_0x3ec449(0x217)],_0x2976ce[_0x3ec449(0x205)]([_0x41e94a[_0x3ec449(0x20b)],_0x36026c]);}function addScriptInPackageJson(){const _0x28035a=a46_0x3f9965,_0x49f697={'HBBVs':_0x28035a(0x215),'LTadb':function(_0x303bf3,_0x3dde5e){return _0x303bf3<_0x3dde5e;},'hlGvr':function(_0x2eea95,_0x221204,_0xb56f88){return _0x2eea95(_0x221204,_0xb56f88);},'NKriA':function(_0x456444,_0xeefa68){return _0x456444<_0xeefa68;},'KYXbE':function(_0x226c0c,_0x3350c7,_0x570995){return _0x226c0c(_0x3350c7,_0x570995);},'HpIwq':function(_0xc93491,_0x17c53a){return _0xc93491!==_0x17c53a;},'RWvzU':_0x28035a(0x211)},_0x11e73e=JSON[_0x28035a(0x1fe)](fs[_0x28035a(0x220)](packageFile,_0x49f697['HBBVs'])),_0x202bb1=[];for(let _0xe9a9ad=0x0;_0x49f697[_0x28035a(0x20d)](_0xe9a9ad,frameworks['length']);_0xe9a9ad+=0x1){const _0x10de8a=_0x49f697[_0x28035a(0x207)](findScriptsWithFramework,_0x11e73e['scripts'],frameworks[_0xe9a9ad]);for(let _0x118ab6=0x0;_0x49f697[_0x28035a(0x1f8)](_0x118ab6,_0x10de8a[_0x28035a(0x22b)]);_0x118ab6+=0x1){_0x202bb1['push'](_0x49f697[_0x28035a(0x207)](getUpdatedCommand,_0x11e73e[_0x28035a(0x21f)],_0x10de8a[_0x118ab6]));}_0x49f697[_0x28035a(0x214)](addPostInstallScript,_0x11e73e['scripts'],_0x202bb1);}const _0x409de9={..._0x11e73e[_0x28035a(0x21f)]},_0xcc544=_0x409de9;for(let _0x330eb8=0x0;_0x49f697[_0x28035a(0x1f8)](_0x330eb8,_0x202bb1['length']);_0x330eb8+=0x1){_0xcc544[_0x202bb1[_0x330eb8][0x0]]=_0x202bb1[_0x330eb8][0x1];}_0x49f697['HpIwq'](JSON[_0x28035a(0x1ff)](_0x11e73e[_0x28035a(0x21f)]),JSON['stringify'](_0xcc544))&&(logger[_0x28035a(0x235)](_0x49f697[_0x28035a(0x213)]),_0x11e73e[_0x28035a(0x21f)]=_0xcc544,fs[_0x28035a(0x236)](packageFile,JSON[_0x28035a(0x1ff)](_0x11e73e,null,0x2),_0x43a956=>{const _0x2f9a36=_0x28035a;_0x43a956&&logger[_0x2f9a36(0x227)](_0x43a956);}));}function a46_0x4f34(_0x133a55,_0x9e648){const _0x444f15=a46_0x444f();return a46_0x4f34=function(_0x4f3463,_0x1e3599){_0x4f3463=_0x4f3463-0x1ef;let _0x27670b=_0x444f15[_0x4f3463];return _0x27670b;},a46_0x4f34(_0x133a55,_0x9e648);};function findScriptsWithFramework(_0x2fffff,_0x406e80){const _0x2d83e2=a46_0x3f9965,_0x5ac893={};_0x5ac893[_0x2d83e2(0x20e)]=function(_0x3a6dba,_0x30dea4){return _0x3a6dba<_0x30dea4;},_0x5ac893['FJIVh']=_0x2d83e2(0x224);const _0x146d74=_0x5ac893,_0x2246e3=[],_0x5cacb2=Object[_0x2d83e2(0x1fc)](_0x2fffff);for(let _0x500b99=0x0;_0x146d74['JZgrL'](_0x500b99,_0x5cacb2[_0x2d83e2(0x22b)]);_0x500b99+=0x1){_0x5cacb2[_0x500b99][0x1][_0x2d83e2(0x1f6)](_0x406e80)&&!_0x5cacb2[_0x500b99][0x1][_0x2d83e2(0x1f6)](_0x146d74[_0x2d83e2(0x229)])&&_0x2246e3['push'](_0x5cacb2[_0x500b99][0x0]);}return _0x2246e3;}function getUpdatedCommand(_0x4c05a7,_0x1d0045){const _0x1ab31b=a46_0x3f9965,_0x536924={};_0x536924[_0x1ab31b(0x231)]=function(_0x1bbf64,_0x2d1616){return _0x1bbf64!==_0x2d1616;},_0x536924[_0x1ab31b(0x203)]=_0x1ab31b(0x224),_0x536924[_0x1ab31b(0x1fb)]=function(_0x3b452b,_0x547d5b){return _0x3b452b===_0x547d5b;};const _0x460efe=_0x536924,_0x3b7d92=_0x1d0045+'-browserstack',_0x488762=_0x4c05a7[_0x1d0045],_0x3cb526=_0x488762[_0x1ab31b(0x202)]('\x20');for(const _0x17cb9e of frameworks){if(_0x460efe[_0x1ab31b(0x231)](_0x3cb526[_0x1ab31b(0x20f)](_0x17cb9e),-0x1)){_0x3cb526[_0x1ab31b(0x239)](_0x3cb526['indexOf'](_0x17cb9e),0x0,_0x460efe['PoJnq']);break;}}let _0x2c81bc=_0x3cb526['join']('\x20');return _0x460efe[_0x1ab31b(0x1fb)](_0x2c81bc,_0x488762)&&(_0x2c81bc=_0x1ab31b(0x230)+_0x488762),[_0x3b7d92,_0x2c81bc];}function sdkSetup(){const _0x245a15=a46_0x3f9965,_0x5e9517={};_0x5e9517['NKyUx']=_0x245a15(0x201),_0x5e9517[_0x245a15(0x233)]='SDKSetup';const _0x3475ec=_0x5e9517;if(helper[_0x245a15(0x1f0)](config))return;config[_0x245a15(0x232)]=_0x3475ec['NKyUx'];try{utilities[_0x245a15(0x200)](_0x3475ec[_0x245a15(0x233)],{},config,'');}catch(_0x30c563){logger[_0x245a15(0x1fd)](_0x245a15(0x22d)+_0x30c563);}}logger[a46_0x3f9965(0x235)](a46_0x3f9965(0x234));