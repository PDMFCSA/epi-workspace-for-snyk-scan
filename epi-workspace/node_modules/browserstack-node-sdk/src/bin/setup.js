#!/usr/bin/env node

function a49_0x1334(_0x515168,_0x3a866c){const _0x5c12c3=a49_0x5c12();return a49_0x1334=function(_0x13344f,_0x2ecad4){_0x13344f=_0x13344f-0x6b;let _0x363dfd=_0x5c12c3[_0x13344f];return _0x363dfd;},a49_0x1334(_0x515168,_0x3a866c);}const a49_0x210b6c=a49_0x1334;(function(_0x5dfc86,_0x490aa6){const _0x1f7eba=a49_0x1334,_0x376fe4=_0x5dfc86();while(!![]){try{const _0x160df9=-parseInt(_0x1f7eba(0x9d))/0x1*(-parseInt(_0x1f7eba(0xa3))/0x2)+parseInt(_0x1f7eba(0x6e))/0x3*(parseInt(_0x1f7eba(0x8a))/0x4)+-parseInt(_0x1f7eba(0xab))/0x5*(parseInt(_0x1f7eba(0xb3))/0x6)+-parseInt(_0x1f7eba(0x9e))/0x7+-parseInt(_0x1f7eba(0xa0))/0x8*(parseInt(_0x1f7eba(0x99))/0x9)+parseInt(_0x1f7eba(0xa7))/0xa*(-parseInt(_0x1f7eba(0x7b))/0xb)+parseInt(_0x1f7eba(0x8c))/0xc*(parseInt(_0x1f7eba(0x87))/0xd);if(_0x160df9===_0x490aa6)break;else _0x376fe4['push'](_0x376fe4['shift']());}catch(_0x4b9cc1){_0x376fe4['push'](_0x376fe4['shift']());}}}(a49_0x5c12,0x79489));const fs=require('fs'),helper=require(a49_0x210b6c(0xb1)),utilities=require(a49_0x210b6c(0x96)),yaml=require(a49_0x210b6c(0x97)),yargs=require('yargs'),logger=require(a49_0x210b6c(0xb2))[a49_0x210b6c(0xa9)],configFileTemplate=__dirname+a49_0x210b6c(0x80),configFileTemplatePW=__dirname+a49_0x210b6c(0xb0),configFile=process['cwd']()+a49_0x210b6c(0x95),packageFile=process['cwd']()+'/package.json',frameworks=[a49_0x210b6c(0x9c),'jest',a49_0x210b6c(0x85),'node',a49_0x210b6c(0x7c),a49_0x210b6c(0x70),a49_0x210b6c(0x75)];function a49_0x5c12(){const _0x570df7=['LNGwI','\x20&&\x20npm\x20update\x20browserstack-node-sdk','push','replace','YOUR_ACCESS_KEY','/browserstack.yml','../helpers/utilities','js-yaml','npm\x20update\x20browserstack-node-sdk','16074viPQWe','parse','splice','mocha','61XUPzmH','1770860fmjqJl','indexOf','4008EjelOw','Setup\x20completed','GZHuO','19268GRmgEe','jZJBK','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','vNtLc','6750ECXEdu','fireFunnelTestEvent','winstonLogger','error','2041945UyyraZ','readFileSync','VzDwh','browserstack-node-sdk','info','/../../browserstack.pw.yml.sample','../helpers/helper','../helpers/logger','12rsnGpS','stringify','TLnKL','browserstack-node-sdk\x20','writeFileSync','59685WHsIul','includes','codeceptjs','-browserstack','DiPnH','MEsnn','debug','playwright','load','join','argv','pFZYA','scripts','9416WMxICe','nightwatch','YTkUK','utf8','postinstall','/../../browserstack.yml.sample','wQqpr','isUndefined','username','levOF','cucumber-js','ELEiJ','1199731EjvFDC','length','zmvuN','196WswKNs','node-setup','192MDCgVG','OVhES','key','dzkjb'];a49_0x5c12=function(){return _0x570df7;};return a49_0x5c12();}let config;logger[a49_0x210b6c(0xaf)]('Creating\x20configuration\x20file...'),createConfigurationFile(yargs[a49_0x210b6c(0x78)][a49_0x210b6c(0x83)],yargs[a49_0x210b6c(0x78)][a49_0x210b6c(0x8e)],yargs[a49_0x210b6c(0x78)][a49_0x210b6c(0x75)]);try{sdkSetup();}catch(a49_0x35b45b){logger[a49_0x210b6c(0x74)](a49_0x210b6c(0xa5)+a49_0x35b45b);}addScriptInPackageJson();function createConfigurationFile(_0x4a1dc6,_0x4731e0,_0x5da8cd=![]){const _0x58402f=a49_0x210b6c,_0x12413c={};_0x12413c[_0x58402f(0x81)]=_0x58402f(0x7e),_0x12413c[_0x58402f(0x6b)]='YOUR_USERNAME',_0x12413c[_0x58402f(0xad)]=_0x58402f(0x94);const _0x33512a=_0x12413c;try{let _0x53f830=fs[_0x58402f(0xac)](_0x5da8cd?configFileTemplatePW:configFileTemplate,_0x33512a['wQqpr']);_0x4a1dc6&&(_0x53f830=_0x53f830[_0x58402f(0x93)](_0x33512a['TLnKL'],_0x4a1dc6)),_0x4731e0&&(_0x53f830=_0x53f830[_0x58402f(0x93)](_0x33512a['VzDwh'],_0x4731e0)),config=yaml[_0x58402f(0x76)](_0x53f830),fs['writeFileSync'](configFile,_0x53f830,_0x3d3177=>{const _0x24a9e8=_0x58402f;_0x3d3177&&logger[_0x24a9e8(0xaa)](_0x3d3177);});}catch(_0x5b6386){logger['error'](_0x5b6386);}}function addPostInstallScript(_0x4f5e66,_0x386b34){const _0x5a01af=a49_0x210b6c,_0x31db39={};_0x31db39[_0x5a01af(0x89)]=_0x5a01af(0x7f),_0x31db39[_0x5a01af(0x86)]=_0x5a01af(0x98),_0x31db39[_0x5a01af(0x84)]=_0x5a01af(0x91);const _0x3ebdda=_0x31db39;let _0x396e29=_0x4f5e66[_0x3ebdda[_0x5a01af(0x89)]];if(_0x396e29&&_0x396e29[_0x5a01af(0x6f)](_0x3ebdda[_0x5a01af(0x86)]))return;!_0x396e29?_0x396e29=_0x3ebdda['ELEiJ']:_0x396e29+=_0x3ebdda[_0x5a01af(0x84)],_0x386b34['push']([_0x3ebdda[_0x5a01af(0x89)],_0x396e29]);}function addScriptInPackageJson(){const _0x366641=a49_0x210b6c,_0x36dccd={'GZHuO':_0x366641(0x7e),'MEsnn':function(_0x2c57f5,_0x2d6c3f){return _0x2c57f5<_0x2d6c3f;},'vNtLc':function(_0x25f5f0,_0x15ae12,_0x1c48b4){return _0x25f5f0(_0x15ae12,_0x1c48b4);},'Nnuri':function(_0x4bf44c,_0x3256f2,_0x2cfbf0){return _0x4bf44c(_0x3256f2,_0x2cfbf0);},'DiPnH':function(_0x2dabcd,_0x366d48){return _0x2dabcd!==_0x366d48;},'FfPaU':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x26aaef=JSON[_0x366641(0x9a)](fs[_0x366641(0xac)](packageFile,_0x36dccd[_0x366641(0xa2)])),_0x72d4bf=[];for(let _0x3da2a8=0x0;_0x36dccd['MEsnn'](_0x3da2a8,frameworks[_0x366641(0x88)]);_0x3da2a8+=0x1){const _0x586419=_0x36dccd[_0x366641(0xa6)](findScriptsWithFramework,_0x26aaef['scripts'],frameworks[_0x3da2a8]);for(let _0x323f8b=0x0;_0x36dccd[_0x366641(0x73)](_0x323f8b,_0x586419[_0x366641(0x88)]);_0x323f8b+=0x1){_0x72d4bf[_0x366641(0x92)](_0x36dccd[_0x366641(0xa6)](getUpdatedCommand,_0x26aaef[_0x366641(0x7a)],_0x586419[_0x323f8b]));}_0x36dccd['Nnuri'](addPostInstallScript,_0x26aaef[_0x366641(0x7a)],_0x72d4bf);}const _0x5c5ca3={..._0x26aaef[_0x366641(0x7a)]},_0x465af1=_0x5c5ca3;for(let _0x23eae1=0x0;_0x36dccd[_0x366641(0x73)](_0x23eae1,_0x72d4bf['length']);_0x23eae1+=0x1){_0x465af1[_0x72d4bf[_0x23eae1][0x0]]=_0x72d4bf[_0x23eae1][0x1];}_0x36dccd[_0x366641(0x72)](JSON[_0x366641(0xb4)](_0x26aaef['scripts']),JSON['stringify'](_0x465af1))&&(logger[_0x366641(0xaf)](_0x36dccd['FfPaU']),_0x26aaef[_0x366641(0x7a)]=_0x465af1,fs[_0x366641(0x6d)](packageFile,JSON[_0x366641(0xb4)](_0x26aaef,null,0x2),_0xb4f3dc=>{const _0x32dfab=_0x366641;_0xb4f3dc&&logger[_0x32dfab(0xaa)](_0xb4f3dc);}));};function findScriptsWithFramework(_0x3d0580,_0x2c70d1){const _0x3cb87c=a49_0x210b6c,_0x15760b={};_0x15760b[_0x3cb87c(0x7d)]=function(_0x18eda2,_0x16b24b){return _0x18eda2<_0x16b24b;},_0x15760b[_0x3cb87c(0x8f)]=_0x3cb87c(0xae);const _0x4c6ba2=_0x15760b,_0x5475d3=[],_0x20efa4=Object['entries'](_0x3d0580);for(let _0xfe792d=0x0;_0x4c6ba2['YTkUK'](_0xfe792d,_0x20efa4[_0x3cb87c(0x88)]);_0xfe792d+=0x1){_0x20efa4[_0xfe792d][0x1][_0x3cb87c(0x6f)](_0x2c70d1)&&!_0x20efa4[_0xfe792d][0x1]['includes'](_0x4c6ba2[_0x3cb87c(0x8f)])&&_0x5475d3[_0x3cb87c(0x92)](_0x20efa4[_0xfe792d][0x0]);}return _0x5475d3;}function getUpdatedCommand(_0x20404a,_0x126a58){const _0x8966=a49_0x210b6c,_0x50b29b={};_0x50b29b[_0x8966(0xa4)]=function(_0x51391c,_0x18b07b){return _0x51391c!==_0x18b07b;},_0x50b29b[_0x8966(0x8d)]=_0x8966(0xae),_0x50b29b[_0x8966(0x90)]=function(_0x32dea4,_0x4c6e24){return _0x32dea4===_0x4c6e24;};const _0x195dbd=_0x50b29b,_0x55f2ce=_0x126a58+_0x8966(0x71),_0x519f58=_0x20404a[_0x126a58],_0x504d70=_0x519f58['split']('\x20');for(const _0x1fc247 of frameworks){if(_0x195dbd[_0x8966(0xa4)](_0x504d70[_0x8966(0x9f)](_0x1fc247),-0x1)){_0x504d70[_0x8966(0x9b)](_0x504d70[_0x8966(0x9f)](_0x1fc247),0x0,_0x195dbd[_0x8966(0x8d)]);break;}}let _0x1d943d=_0x504d70[_0x8966(0x77)]('\x20');return _0x195dbd[_0x8966(0x90)](_0x1d943d,_0x519f58)&&(_0x1d943d=_0x8966(0x6c)+_0x519f58),[_0x55f2ce,_0x1d943d];}function sdkSetup(){const _0x354357=a49_0x210b6c,_0x225e01={};_0x225e01[_0x354357(0x79)]=_0x354357(0x8b),_0x225e01['bxLdp']='SDKSetup';const _0x38d14b=_0x225e01;if(helper[_0x354357(0x82)](config))return;config['source']=_0x38d14b['pFZYA'];try{utilities[_0x354357(0xa8)](_0x38d14b['bxLdp'],{},config,'');}catch(_0x1282ae){logger[_0x354357(0x74)](_0x354357(0xa5)+_0x1282ae);}}logger[a49_0x210b6c(0xaf)](a49_0x210b6c(0xa1));