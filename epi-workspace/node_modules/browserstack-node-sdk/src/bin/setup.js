#!/usr/bin/env node

const a49_0x26208c=a49_0x2999;(function(_0x6cb936,_0x4427e6){const _0x25f0ce=a49_0x2999,_0x15b9ae=_0x6cb936();while(!![]){try{const _0x336171=parseInt(_0x25f0ce(0x10a))/0x1+parseInt(_0x25f0ce(0x116))/0x2+-parseInt(_0x25f0ce(0xff))/0x3+-parseInt(_0x25f0ce(0xe4))/0x4*(-parseInt(_0x25f0ce(0xec))/0x5)+parseInt(_0x25f0ce(0x10f))/0x6+parseInt(_0x25f0ce(0xe9))/0x7*(-parseInt(_0x25f0ce(0xf4))/0x8)+-parseInt(_0x25f0ce(0xe2))/0x9*(parseInt(_0x25f0ce(0xfc))/0xa);if(_0x336171===_0x4427e6)break;else _0x15b9ae['push'](_0x15b9ae['shift']());}catch(_0x3de5ac){_0x15b9ae['push'](_0x15b9ae['shift']());}}}(a49_0x564f,0x953fc));const fs=require('fs'),helper=require(a49_0x26208c(0xd0)),utilities=require(a49_0x26208c(0xd2)),yaml=require(a49_0x26208c(0xfd)),yargs=require(a49_0x26208c(0x103)),logger=require(a49_0x26208c(0xd7))[a49_0x26208c(0x10b)],configFileTemplate=__dirname+a49_0x26208c(0x106),configFileTemplatePW=__dirname+a49_0x26208c(0xdd),configFile=process['cwd']()+a49_0x26208c(0xd4),packageFile=process['cwd']()+'/package.json',frameworks=[a49_0x26208c(0x10c),a49_0x26208c(0xda),a49_0x26208c(0xe1),a49_0x26208c(0x104),a49_0x26208c(0x111),a49_0x26208c(0xf3),'playwright'];let config;logger[a49_0x26208c(0xef)](a49_0x26208c(0x108)),createConfigurationFile(yargs['argv']['username'],yargs['argv']['key'],yargs[a49_0x26208c(0xfa)][a49_0x26208c(0xf5)]);try{sdkSetup();}catch(a49_0xc52549){logger[a49_0x26208c(0x11b)](a49_0x26208c(0xcf)+a49_0xc52549);}addScriptInPackageJson();function a49_0x564f(){const _0x82b556=['3106833pStxCq','SDKSetup','replace','FDRev','yargs','node','readFileSync','/../../browserstack.yml.sample','utf8','Creating\x20configuration\x20file...','includes','1199268Syotcz','winstonLogger','mocha','indexOf','fgyTO','4821300brXqbO','hPDcf','nightwatch','hJrap','length','KVOYC','push','2338788VJQlBV','IMJtu','source','NjZld','parse','debug','entries','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','../helpers/helper','Yelaf','../helpers/utilities','zuCYt','/browserstack.yml','rLYjl','gdJEI','../helpers/logger','unFDV','cgDmw','jest','writeFileSync','YOUR_ACCESS_KEY','/../../browserstack.pw.yml.sample','WQKMM','browserstack-node-sdk','Adding\x20new\x20script(s)\x20in\x20package.json...','cucumber-js','8706267kCKCQg','node-setup','1909076tJnXDY','join','hgoiB','fireFunnelTestEvent','LsxIj','233751jfrmSr','ovlVP','split','5khMSfG','browserstack-node-sdk\x20','scripts','info','postinstall','cwTTB','stringify','codeceptjs','248ZWVjlG','playwright','\x20&&\x20npm\x20update\x20browserstack-node-sdk','isUndefined','kmlis','load','argv','error','10HQffmA','js-yaml','splice'];a49_0x564f=function(){return _0x82b556;};return a49_0x564f();}function createConfigurationFile(_0x156ec2,_0x193685,_0x1eb455=![]){const _0x3a3f3a=a49_0x26208c,_0x17b33a={};_0x17b33a[_0x3a3f3a(0xe8)]=_0x3a3f3a(0x107),_0x17b33a['Yelaf']='YOUR_USERNAME',_0x17b33a[_0x3a3f3a(0xf8)]=_0x3a3f3a(0xdc);const _0x1905ad=_0x17b33a;try{let _0x3fc3ea=fs[_0x3a3f3a(0x105)](_0x1eb455?configFileTemplatePW:configFileTemplate,_0x1905ad[_0x3a3f3a(0xe8)]);_0x156ec2&&(_0x3fc3ea=_0x3fc3ea[_0x3a3f3a(0x101)](_0x1905ad[_0x3a3f3a(0xd1)],_0x156ec2)),_0x193685&&(_0x3fc3ea=_0x3fc3ea[_0x3a3f3a(0x101)](_0x1905ad[_0x3a3f3a(0xf8)],_0x193685)),config=yaml[_0x3a3f3a(0xf9)](_0x3fc3ea),fs[_0x3a3f3a(0xdb)](configFile,_0x3fc3ea,_0x4f3851=>{const _0x48d3a3=_0x3a3f3a;_0x4f3851&&logger[_0x48d3a3(0xfb)](_0x4f3851);});}catch(_0x1beacf){logger[_0x3a3f3a(0xfb)](_0x1beacf);}}function addPostInstallScript(_0x2595fa,_0xa8857){const _0x3c47aa=a49_0x26208c,_0x2bbfea={};_0x2bbfea[_0x3c47aa(0x112)]=_0x3c47aa(0xf0),_0x2bbfea['hPDcf']='npm\x20update\x20browserstack-node-sdk',_0x2bbfea[_0x3c47aa(0x114)]=_0x3c47aa(0xf6);const _0x2cea49=_0x2bbfea;let _0x42b904=_0x2595fa[_0x2cea49[_0x3c47aa(0x112)]];if(_0x42b904&&_0x42b904[_0x3c47aa(0x109)](_0x2cea49[_0x3c47aa(0x110)]))return;!_0x42b904?_0x42b904=_0x2cea49['hPDcf']:_0x42b904+=_0x2cea49[_0x3c47aa(0x114)],_0xa8857[_0x3c47aa(0x115)]([_0x2cea49[_0x3c47aa(0x112)],_0x42b904]);}function addScriptInPackageJson(){const _0x2e24c2=a49_0x26208c,_0x5206bc={'cgDmw':_0x2e24c2(0x107),'zuCYt':function(_0x3c0fdd,_0x3967c7){return _0x3c0fdd<_0x3967c7;},'fgyTO':function(_0x3b4287,_0x19f6ae,_0x394814){return _0x3b4287(_0x19f6ae,_0x394814);},'NjZld':function(_0x262b1a,_0x4bbe54){return _0x262b1a<_0x4bbe54;},'IMJtu':function(_0x4df14d,_0xdfd03e){return _0x4df14d!==_0xdfd03e;},'WQKMM':_0x2e24c2(0xe0)},_0x58abe=JSON[_0x2e24c2(0x11a)](fs[_0x2e24c2(0x105)](packageFile,_0x5206bc[_0x2e24c2(0xd9)])),_0x48542f=[];for(let _0x9d6079=0x0;_0x5206bc[_0x2e24c2(0xd3)](_0x9d6079,frameworks[_0x2e24c2(0x113)]);_0x9d6079+=0x1){const _0x2ec8ca=_0x5206bc[_0x2e24c2(0x10e)](findScriptsWithFramework,_0x58abe[_0x2e24c2(0xee)],frameworks[_0x9d6079]);for(let _0x2302f9=0x0;_0x5206bc[_0x2e24c2(0xd3)](_0x2302f9,_0x2ec8ca[_0x2e24c2(0x113)]);_0x2302f9+=0x1){_0x48542f[_0x2e24c2(0x115)](_0x5206bc['fgyTO'](getUpdatedCommand,_0x58abe[_0x2e24c2(0xee)],_0x2ec8ca[_0x2302f9]));}_0x5206bc[_0x2e24c2(0x10e)](addPostInstallScript,_0x58abe[_0x2e24c2(0xee)],_0x48542f);}const _0x24bbe6={..._0x58abe['scripts']},_0x2e62dd=_0x24bbe6;for(let _0x56cd8d=0x0;_0x5206bc[_0x2e24c2(0x119)](_0x56cd8d,_0x48542f[_0x2e24c2(0x113)]);_0x56cd8d+=0x1){_0x2e62dd[_0x48542f[_0x56cd8d][0x0]]=_0x48542f[_0x56cd8d][0x1];}_0x5206bc[_0x2e24c2(0x117)](JSON[_0x2e24c2(0xf2)](_0x58abe[_0x2e24c2(0xee)]),JSON[_0x2e24c2(0xf2)](_0x2e62dd))&&(logger[_0x2e24c2(0xef)](_0x5206bc[_0x2e24c2(0xde)]),_0x58abe['scripts']=_0x2e62dd,fs['writeFileSync'](packageFile,JSON[_0x2e24c2(0xf2)](_0x58abe,null,0x2),_0x2f027a=>{const _0x291bc2=_0x2e24c2;_0x2f027a&&logger[_0x291bc2(0xfb)](_0x2f027a);}));};function findScriptsWithFramework(_0x3aaebc,_0x255f8d){const _0x5194a2=a49_0x26208c,_0x1314e7={};_0x1314e7[_0x5194a2(0xe6)]=function(_0x48c3eb,_0x48c1f3){return _0x48c3eb<_0x48c1f3;},_0x1314e7['unFDV']=_0x5194a2(0xdf);const _0x40e638=_0x1314e7,_0x46bc53=[],_0x5af5cf=Object[_0x5194a2(0x11c)](_0x3aaebc);for(let _0xa13ea5=0x0;_0x40e638[_0x5194a2(0xe6)](_0xa13ea5,_0x5af5cf['length']);_0xa13ea5+=0x1){_0x5af5cf[_0xa13ea5][0x1][_0x5194a2(0x109)](_0x255f8d)&&!_0x5af5cf[_0xa13ea5][0x1][_0x5194a2(0x109)](_0x40e638[_0x5194a2(0xd8)])&&_0x46bc53['push'](_0x5af5cf[_0xa13ea5][0x0]);}return _0x46bc53;}function getUpdatedCommand(_0x5e905a,_0x401af7){const _0x328bb6=a49_0x26208c,_0x51fe82={};_0x51fe82[_0x328bb6(0xd5)]=function(_0x274f27,_0x9263){return _0x274f27!==_0x9263;},_0x51fe82[_0x328bb6(0xd6)]='browserstack-node-sdk',_0x51fe82[_0x328bb6(0x102)]=function(_0x4d2abd,_0x44fa26){return _0x4d2abd===_0x44fa26;};const _0x4bb1f6=_0x51fe82,_0x3490d1=_0x401af7+'-browserstack',_0x277b47=_0x5e905a[_0x401af7],_0x2c28f4=_0x277b47[_0x328bb6(0xeb)]('\x20');for(const _0x4d06f7 of frameworks){if(_0x4bb1f6[_0x328bb6(0xd5)](_0x2c28f4[_0x328bb6(0x10d)](_0x4d06f7),-0x1)){_0x2c28f4[_0x328bb6(0xfe)](_0x2c28f4[_0x328bb6(0x10d)](_0x4d06f7),0x0,_0x4bb1f6[_0x328bb6(0xd6)]);break;}}let _0xc75b36=_0x2c28f4[_0x328bb6(0xe5)]('\x20');return _0x4bb1f6['FDRev'](_0xc75b36,_0x277b47)&&(_0xc75b36=_0x328bb6(0xed)+_0x277b47),[_0x3490d1,_0xc75b36];}function sdkSetup(){const _0x36f713=a49_0x26208c,_0x18f6e5={};_0x18f6e5[_0x36f713(0xf1)]=_0x36f713(0xe3),_0x18f6e5[_0x36f713(0xea)]=_0x36f713(0x100);const _0x163268=_0x18f6e5;if(helper[_0x36f713(0xf7)](config))return;config[_0x36f713(0x118)]=_0x163268[_0x36f713(0xf1)];try{utilities[_0x36f713(0xe7)](_0x163268[_0x36f713(0xea)],{},config,'');}catch(_0x35163c){logger[_0x36f713(0x11b)](_0x36f713(0xcf)+_0x35163c);}}function a49_0x2999(_0x1b8c57,_0x48ea88){const _0x564f87=a49_0x564f();return a49_0x2999=function(_0x299938,_0x4cb1a7){_0x299938=_0x299938-0xcf;let _0x5c9b3b=_0x564f87[_0x299938];return _0x5c9b3b;},a49_0x2999(_0x1b8c57,_0x48ea88);}logger[a49_0x26208c(0xef)]('Setup\x20completed');