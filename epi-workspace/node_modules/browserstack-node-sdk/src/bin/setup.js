#!/usr/bin/env node

const a45_0x202a42=a45_0x5355;(function(_0x412019,_0x49171d){const _0x2dada5=a45_0x5355,_0x593925=_0x412019();while(!![]){try{const _0x28f5f2=-parseInt(_0x2dada5(0x13f))/0x1*(-parseInt(_0x2dada5(0x117))/0x2)+parseInt(_0x2dada5(0x127))/0x3+parseInt(_0x2dada5(0x145))/0x4*(parseInt(_0x2dada5(0x132))/0x5)+parseInt(_0x2dada5(0x13c))/0x6+-parseInt(_0x2dada5(0x11f))/0x7+parseInt(_0x2dada5(0x131))/0x8+-parseInt(_0x2dada5(0x11a))/0x9;if(_0x28f5f2===_0x49171d)break;else _0x593925['push'](_0x593925['shift']());}catch(_0x2ca811){_0x593925['push'](_0x593925['shift']());}}}(a45_0x371d,0xa432d));const fs=require('fs'),helper=require(a45_0x202a42(0x11d)),utilities=require(a45_0x202a42(0x142)),yaml=require(a45_0x202a42(0x128)),yargs=require(a45_0x202a42(0x129)),logger=require('../helpers/logger')[a45_0x202a42(0x112)],configFileTemplate=__dirname+a45_0x202a42(0x130),configFileTemplatePW=__dirname+a45_0x202a42(0x14a),configFile=process['cwd']()+a45_0x202a42(0x10c),packageFile=process['cwd']()+a45_0x202a42(0x124),frameworks=[a45_0x202a42(0x138),a45_0x202a42(0x10b),a45_0x202a42(0x137),a45_0x202a42(0x12b),a45_0x202a42(0x144),a45_0x202a42(0x11b),a45_0x202a42(0x146)];let config;logger['info']('Creating\x20configuration\x20file...'),createConfigurationFile(yargs[a45_0x202a42(0x149)]['username'],yargs['argv'][a45_0x202a42(0x10f)],yargs['argv'][a45_0x202a42(0x146)]);try{sdkSetup();}catch(a45_0x45b985){logger[a45_0x202a42(0x13e)]('Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20'+a45_0x45b985);}addScriptInPackageJson();function createConfigurationFile(_0x5ed5d0,_0x4808f4,_0x3a7574=![]){const _0x56bf09=a45_0x202a42,_0x2ba7a7={};_0x2ba7a7['TOBCD']=_0x56bf09(0x120),_0x2ba7a7[_0x56bf09(0x14e)]=_0x56bf09(0x147),_0x2ba7a7[_0x56bf09(0x12c)]='YOUR_ACCESS_KEY';const _0x5ecac6=_0x2ba7a7;try{let _0x36fa4f=fs['readFileSync'](_0x3a7574?configFileTemplatePW:configFileTemplate,_0x5ecac6['TOBCD']);_0x5ed5d0&&(_0x36fa4f=_0x36fa4f['replace'](_0x5ecac6[_0x56bf09(0x14e)],_0x5ed5d0)),_0x4808f4&&(_0x36fa4f=_0x36fa4f[_0x56bf09(0x143)](_0x5ecac6[_0x56bf09(0x12c)],_0x4808f4)),config=yaml[_0x56bf09(0x115)](_0x36fa4f),fs['writeFileSync'](configFile,_0x36fa4f,_0x4b1b78=>{_0x4b1b78&&logger['error'](_0x4b1b78);});}catch(_0x391466){logger['error'](_0x391466);}}function addPostInstallScript(_0x187243,_0x12c9e1){const _0x1aff49=a45_0x202a42,_0x257772={};_0x257772[_0x1aff49(0x12f)]='postinstall',_0x257772[_0x1aff49(0x109)]=_0x1aff49(0x13a),_0x257772[_0x1aff49(0x108)]='\x20&&\x20npm\x20update\x20browserstack-node-sdk';const _0x31171c=_0x257772;let _0x5b6af7=_0x187243[_0x31171c[_0x1aff49(0x12f)]];if(_0x5b6af7&&_0x5b6af7[_0x1aff49(0x118)](_0x31171c[_0x1aff49(0x109)]))return;!_0x5b6af7?_0x5b6af7=_0x31171c[_0x1aff49(0x109)]:_0x5b6af7+=_0x31171c[_0x1aff49(0x108)],_0x12c9e1[_0x1aff49(0x111)]([_0x31171c[_0x1aff49(0x12f)],_0x5b6af7]);}function addScriptInPackageJson(){const _0xc16372=a45_0x202a42,_0x5c99f5={'uWlul':_0xc16372(0x120),'ExZqD':function(_0x509dfd,_0x186bb3){return _0x509dfd<_0x186bb3;},'dseeq':function(_0x1d43a4,_0x2e80fb,_0x246bfa){return _0x1d43a4(_0x2e80fb,_0x246bfa);},'vyMJQ':function(_0x38046f,_0x3d7a0e,_0x392e94){return _0x38046f(_0x3d7a0e,_0x392e94);},'NfIkS':function(_0x4318fc,_0x38a299){return _0x4318fc!==_0x38a299;},'eTpIr':'Adding\x20new\x20script(s)\x20in\x20package.json...'},_0x47d140=JSON['parse'](fs[_0xc16372(0x13b)](packageFile,_0x5c99f5['uWlul'])),_0x2239b2=[];for(let _0x3ed62c=0x0;_0x5c99f5[_0xc16372(0x141)](_0x3ed62c,frameworks['length']);_0x3ed62c+=0x1){const _0x108eed=_0x5c99f5[_0xc16372(0x11e)](findScriptsWithFramework,_0x47d140[_0xc16372(0x122)],frameworks[_0x3ed62c]);for(let _0x2e4ec4=0x0;_0x5c99f5[_0xc16372(0x141)](_0x2e4ec4,_0x108eed['length']);_0x2e4ec4+=0x1){_0x2239b2['push'](_0x5c99f5[_0xc16372(0x11e)](getUpdatedCommand,_0x47d140[_0xc16372(0x122)],_0x108eed[_0x2e4ec4]));}_0x5c99f5[_0xc16372(0x10d)](addPostInstallScript,_0x47d140[_0xc16372(0x122)],_0x2239b2);}const _0x197f75={..._0x47d140[_0xc16372(0x122)]},_0xfb5063=_0x197f75;for(let _0x501a71=0x0;_0x5c99f5[_0xc16372(0x141)](_0x501a71,_0x2239b2['length']);_0x501a71+=0x1){_0xfb5063[_0x2239b2[_0x501a71][0x0]]=_0x2239b2[_0x501a71][0x1];}_0x5c99f5[_0xc16372(0x119)](JSON['stringify'](_0x47d140[_0xc16372(0x122)]),JSON[_0xc16372(0x12d)](_0xfb5063))&&(logger['info'](_0x5c99f5[_0xc16372(0x116)]),_0x47d140[_0xc16372(0x122)]=_0xfb5063,fs[_0xc16372(0x12e)](packageFile,JSON[_0xc16372(0x12d)](_0x47d140,null,0x2),_0x23a1fa=>{_0x23a1fa&&logger['error'](_0x23a1fa);}));};function findScriptsWithFramework(_0x254d7a,_0x1371e2){const _0x2586ea=a45_0x202a42,_0x3daccc={};_0x3daccc[_0x2586ea(0x10a)]=function(_0x233748,_0x45239f){return _0x233748<_0x45239f;},_0x3daccc['tNJAd']=_0x2586ea(0x133);const _0x3d3c03=_0x3daccc,_0x37bb47=[],_0x21c0bf=Object[_0x2586ea(0x126)](_0x254d7a);for(let _0x163fcd=0x0;_0x3d3c03[_0x2586ea(0x10a)](_0x163fcd,_0x21c0bf['length']);_0x163fcd+=0x1){_0x21c0bf[_0x163fcd][0x1][_0x2586ea(0x118)](_0x1371e2)&&!_0x21c0bf[_0x163fcd][0x1][_0x2586ea(0x118)](_0x3d3c03[_0x2586ea(0x12a)])&&_0x37bb47[_0x2586ea(0x111)](_0x21c0bf[_0x163fcd][0x0]);}return _0x37bb47;}function getUpdatedCommand(_0x1e7f56,_0x381fa5){const _0x3d257e=a45_0x202a42,_0x3a5b95={};_0x3a5b95[_0x3d257e(0x14c)]=function(_0x344ae7,_0x7b1946){return _0x344ae7!==_0x7b1946;},_0x3a5b95[_0x3d257e(0x10e)]='browserstack-node-sdk',_0x3a5b95[_0x3d257e(0x13d)]=function(_0x5aa67d,_0x219471){return _0x5aa67d===_0x219471;};const _0x133685=_0x3a5b95,_0x135e78=_0x381fa5+_0x3d257e(0x121),_0xa7009a=_0x1e7f56[_0x381fa5],_0x33fcff=_0xa7009a[_0x3d257e(0x135)]('\x20');for(const _0x49d9e4 of frameworks){if(_0x133685[_0x3d257e(0x14c)](_0x33fcff[_0x3d257e(0x140)](_0x49d9e4),-0x1)){_0x33fcff[_0x3d257e(0x114)](_0x33fcff[_0x3d257e(0x140)](_0x49d9e4),0x0,_0x133685[_0x3d257e(0x10e)]);break;}}let _0x30dfeb=_0x33fcff['join']('\x20');return _0x133685[_0x3d257e(0x13d)](_0x30dfeb,_0xa7009a)&&(_0x30dfeb=_0x3d257e(0x11c)+_0xa7009a),[_0x135e78,_0x30dfeb];}function sdkSetup(){const _0xeceb5c=a45_0x202a42,_0x30f506={};_0x30f506[_0xeceb5c(0x14b)]=_0xeceb5c(0x123),_0x30f506['HaIpf']=_0xeceb5c(0x136);const _0x57f88f=_0x30f506;if(helper[_0xeceb5c(0x134)](config))return;config[_0xeceb5c(0x14d)]=_0x57f88f[_0xeceb5c(0x14b)];try{utilities[_0xeceb5c(0x139)](_0x57f88f[_0xeceb5c(0x110)],{},config,'');}catch(_0xd023ad){logger[_0xeceb5c(0x13e)](_0xeceb5c(0x113)+_0xd023ad);}}function a45_0x5355(_0x6019c3,_0x14d521){const _0x371d15=a45_0x371d();return a45_0x5355=function(_0x535512,_0x1d37d5){_0x535512=_0x535512-0x108;let _0x5826ea=_0x371d15[_0x535512];return _0x5826ea;},a45_0x5355(_0x6019c3,_0x14d521);}function a45_0x371d(){const _0xad0768=['load','eTpIr','90934PLzfVk','includes','NfIkS','2158848eeQzpn','codeceptjs','browserstack-node-sdk\x20','../helpers/helper','dseeq','8280153fCAcPH','utf8','-browserstack','scripts','node-setup','/package.json','info','entries','1495743xrPoHG','js-yaml','yargs','tNJAd','node','MRdIl','stringify','writeFileSync','wzQUL','/../../browserstack.yml.sample','184480sbqvIn','5WdOxdm','browserstack-node-sdk','isUndefined','split','SDKSetup','cucumber-js','mocha','fireFunnelTestEvent','npm\x20update\x20browserstack-node-sdk','readFileSync','3014292gDXdcG','nELVv','debug','11WQWsso','indexOf','ExZqD','../helpers/utilities','replace','nightwatch','2284592LrAPml','playwright','YOUR_USERNAME','Setup\x20completed','argv','/../../browserstack.pw.yml.sample','QeNjy','pVbBj','source','IPNBb','UTlOK','slngE','FFBYz','jest','/browserstack.yml','vyMJQ','pDncT','key','HaIpf','push','winstonLogger','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','splice'];a45_0x371d=function(){return _0xad0768;};return a45_0x371d();}logger[a45_0x202a42(0x125)](a45_0x202a42(0x148));