const a33_0x2c1cd2=a33_0x350a;(function(_0x20162a,_0x16f5c6){const _0x8ae16d=a33_0x350a,_0x53e59d=_0x20162a();while(!![]){try{const _0x295d08=-parseInt(_0x8ae16d(0x14b))/0x1*(-parseInt(_0x8ae16d(0x11d))/0x2)+parseInt(_0x8ae16d(0x101))/0x3*(parseInt(_0x8ae16d(0x149))/0x4)+parseInt(_0x8ae16d(0x11c))/0x5+parseInt(_0x8ae16d(0x134))/0x6+parseInt(_0x8ae16d(0xf8))/0x7+parseInt(_0x8ae16d(0xf9))/0x8+parseInt(_0x8ae16d(0xea))/0x9*(-parseInt(_0x8ae16d(0x13d))/0xa);if(_0x295d08===_0x16f5c6)break;else _0x53e59d['push'](_0x53e59d['shift']());}catch(_0x1b8834){_0x53e59d['push'](_0x53e59d['shift']());}}}(a33_0x4d4f,0xb3652));function a33_0x350a(_0x1a9389,_0x1b0c0d){const _0x4d4f1a=a33_0x4d4f();return a33_0x350a=function(_0x350aa9,_0x3b71d3){_0x350aa9=_0x350aa9-0xde;let _0x92dce4=_0x4d4f1a[_0x350aa9];return _0x92dce4;},a33_0x350a(_0x1a9389,_0x1b0c0d);}const logger=require(a33_0x2c1cd2(0x131))[a33_0x2c1cd2(0x133)],helper=require('../../../helpers/helper'),constants=require('../../../bin/utils/constants'),hubAllocator=require('../../../hubAllocationMethods'),{overrideQuit,overrideTakeScreenshot,overrideGet}=require('../../../helpers/patchHelpers'),{setAccessibilityCapabilities,setExtension}=require(a33_0x2c1cd2(0xe5)),{isAccessibilityAutomationSession,getAccessibilityResultsSummary,getAccessibilityResults}=require(a33_0x2c1cd2(0xf4)),globals=require(a33_0x2c1cd2(0xe2)),{overrideExecute}=require('./helpers/patchHelper'),modify=(_0x54a711,_0x2588dd=null,_0x101183=![])=>{const _0x2467bd=a33_0x2c1cd2,_0x1a5676={'Vkmpi':function(_0x95c3af,_0x485684){return _0x95c3af!==_0x485684;},'neNsH':_0x2467bd(0xf2),'hGipP':function(_0x409568,_0x25e5cf){return _0x409568!==_0x25e5cf;},'FvQef':function(_0x487ecf,_0x35233e){return _0x487ecf+_0x35233e;},'VzRkc':'https://','HyMGM':_0x2467bd(0x120),'ujFkG':_0x2467bd(0x11f),'Osgzc':_0x2467bd(0xff),'CZOmn':_0x2467bd(0x14a),'mgZuK':_0x2467bd(0x11a),'yBOLC':_0x2467bd(0x137),'ZqtSW':_0x2467bd(0x130),'eFEbl':_0x2467bd(0x14d),'dHqbn':_0x2467bd(0x117),'tMeGx':_0x2467bd(0xe4),'yjTaT':function(_0x31729e,_0x5ca350){return _0x31729e===_0x5ca350;},'eRbXY':_0x2467bd(0x102),'MGCaP':'Setting\x20Browserstack\x20capabilities','VMRRa':'optimalHubUrl','eDGgW':_0x2467bd(0x107),'CrNCU':function(_0x2a7fe6,_0x2bc3ce,_0x1c238d){return _0x2a7fe6(_0x2bc3ce,_0x1c238d);},'GGTFs':function(_0x4b1155,_0x566f52){return _0x4b1155(_0x566f52);},'MlMlF':function(_0x515385,_0xe464c4,_0x6432d7){return _0x515385(_0xe464c4,_0x6432d7);},'ZcquI':function(_0x3e02bf,_0x5713a3,_0x42a5fe){return _0x3e02bf(_0x5713a3,_0x42a5fe);},'hOcwi':function(_0x1a3daa,_0x398a07,_0x52025c){return _0x1a3daa(_0x398a07,_0x52025c);},'erZqp':'3|0|4|1|2|5','KgbeG':'isAccessibilityPlatform','WbtEl':function(_0x5bd3cd,_0x8b5294,_0x256eab){return _0x5bd3cd(_0x8b5294,_0x256eab);},'TKcqF':function(_0x556e35){return _0x556e35();},'hqnrg':function(_0x74fa79,_0x500895){return _0x74fa79(_0x500895);},'UawbA':_0x2467bd(0xed),'MXGUm':function(_0x12b6f5,_0x3bad32){return _0x12b6f5!==_0x3bad32;},'HmIcO':_0x2467bd(0x11b),'kqApS':'Modifying\x20webdriver\x20builder'},_0x155632=helper[_0x2467bd(0x121)]();let _0x31aae9;try{_0x31aae9=helper['requireSeleniumWebdriver'](),_0x31aae9[_0x2467bd(0x112)]&&(_0x31aae9[_0x2467bd(0x12b)]=_0x31aae9[_0x2467bd(0x112)]);}catch(_0x96ad29){return;}if(helper['isBrowserstackInfra']()){const _0x489c20={};_0x489c20[_0x2467bd(0x13c)]=_0x54a711[_0x2467bd(0x13b)],helper['setLogLevel'](_0x489c20,new Map(),new Map()),logger[_0x2467bd(0xdf)](_0x1a5676['HmIcO']),logger[_0x2467bd(0x127)](_0x1a5676[_0x2467bd(0x12f)]);}class _0xac7207 extends _0x155632[_0x2467bd(0x118)]{[_0x2467bd(0x139)](_0x1b348c){const _0x110ebb=_0x2467bd;if(_0x1a5676[_0x110ebb(0x115)](_0x1b348c[_0x110ebb(0xfd)],_0x1a5676[_0x110ebb(0x105)])&&_0x1a5676[_0x110ebb(0xe6)](global[_0x110ebb(0x136)],''))try{global[_0x110ebb(0x136)]=_0x1a5676['FvQef'](_0x1a5676[_0x110ebb(0x119)](_0x1a5676[_0x110ebb(0x138)],global[_0x110ebb(0x136)]),_0x1a5676['HyMGM']),this[_0x110ebb(0x150)]=hubAllocator['getRequestOptions'](global[_0x110ebb(0x136)]),logger[_0x110ebb(0x127)]('New\x20hub\x20url\x20set\x20to\x20'+global[_0x110ebb(0x136)]),global['newHubUrl']='';}catch(_0x573c43){logger['error'](_0x573c43);}return super['send'](_0x1b348c);}}class _0x4b310c extends _0x31aae9[_0x2467bd(0x12b)]{[_0x2467bd(0xf6)](){const _0x45f4f3=_0x2467bd;return this[_0x45f4f3(0x13a)]=helper['getHubUrl'](_0x54a711),logger[_0x45f4f3(0x127)](_0x45f4f3(0x10e)+this[_0x45f4f3(0x13a)]),this;}['__setBrowserOptions'](_0xc04523){const _0x4a8aac=_0x2467bd;let _0x33a7c8={};for(const _0x51e5aa in _0xc04523){switch(_0x51e5aa){case _0x1a5676[_0x4a8aac(0xe0)]:case _0x1a5676[_0x4a8aac(0x128)]:this['chromeOptions_']&&(_0x33a7c8=this[_0x4a8aac(0x146)][_0x4a8aac(0xe7)](this[_0x4a8aac(0x146)]['CAPABILITY_KEY'])||{},this[_0x4a8aac(0x146)][_0x4a8aac(0x12a)](this[_0x4a8aac(0x146)][_0x4a8aac(0xf0)],helper['mergeDeep'](_0x33a7c8,_0xc04523[_0x51e5aa])));break;case _0x1a5676[_0x4a8aac(0x114)]:case _0x1a5676['mgZuK']:this['edgeOptions_']&&(_0x33a7c8=this[_0x4a8aac(0x148)][_0x4a8aac(0xe7)](this[_0x4a8aac(0x148)]['CAPABILITY_KEY'])||{},this[_0x4a8aac(0x148)][_0x4a8aac(0x12a)](this[_0x4a8aac(0x148)]['CAPABILITY_KEY'],helper[_0x4a8aac(0x14f)](_0x33a7c8,_0xc04523[_0x51e5aa])));break;case _0x1a5676[_0x4a8aac(0x14c)]:case _0x1a5676[_0x4a8aac(0x11e)]:this[_0x4a8aac(0xe8)]&&(_0x33a7c8=this['firefoxOptions_'][_0x4a8aac(0xe7)](this[_0x4a8aac(0xe8)]['CAPABILITY_KEY'])||{},this[_0x4a8aac(0xe8)][_0x4a8aac(0x12a)](this[_0x4a8aac(0xe8)]['CAPABILITY_KEY'],helper['mergeDeep'](_0x33a7c8,_0xc04523[_0x51e5aa])));break;case _0x1a5676[_0x4a8aac(0x113)]:this[_0x4a8aac(0xef)]&&(_0x33a7c8=this[_0x4a8aac(0xef)][_0x4a8aac(0xe7)](this['safariOptions_']['CAPABILITY_KEY'])||{},this[_0x4a8aac(0xef)][_0x4a8aac(0x12a)](this['safariOptions_'][_0x4a8aac(0xf0)],helper[_0x4a8aac(0x14f)](_0x33a7c8,_0xc04523[_0x51e5aa])));break;case _0x1a5676[_0x4a8aac(0xe1)]:case _0x1a5676[_0x4a8aac(0x13e)]:this[_0x4a8aac(0x125)]&&(_0x33a7c8=this[_0x4a8aac(0x125)][_0x4a8aac(0xe7)](this['ieOptions_'][_0x4a8aac(0xf0)])||{},this['ieOptions_'][_0x4a8aac(0x12a)](this['ieOptions_'][_0x4a8aac(0xf0)],helper[_0x4a8aac(0x14f)](_0x33a7c8,_0xc04523[_0x51e5aa])));break;}}}[_0x2467bd(0x109)](){const _0x33417e=_0x2467bd;return logger[_0x33417e(0x127)](_0x1a5676[_0x33417e(0x132)]),this[_0x33417e(0xee)](_0x54a711[_0x33417e(0xfa)]),Object['keys'](_0x54a711[_0x33417e(0xfa)])[_0x33417e(0x10b)](_0x497004=>{const _0x56fbee=_0x33417e,_0x500c82=this['capabilities_']['get'](_0x497004);_0x1a5676[_0x56fbee(0x151)](typeof _0x500c82,_0x1a5676[_0x56fbee(0xe9)])?this['capabilities_']['set'](_0x497004,helper[_0x56fbee(0x14f)](_0x500c82,_0x54a711['capability'][_0x497004])):this[_0x56fbee(0xf3)][_0x56fbee(0x12a)](_0x497004,_0x54a711[_0x56fbee(0xfa)][_0x497004]);}),this;}[_0x2467bd(0x14e)](){const _0x3347fe=_0x2467bd,_0x202d0a={'AENfi':function(_0x59b736,_0x1d30a2,_0x13ddec){const _0x3de836=a33_0x350a;return _0x1a5676[_0x3de836(0x10d)](_0x59b736,_0x1d30a2,_0x13ddec);},'zuJWM':function(_0x3ebe76,_0x57174a,_0x224a87){const _0x1d1524=a33_0x350a;return _0x1a5676[_0x1d1524(0x116)](_0x3ebe76,_0x57174a,_0x224a87);}};if(helper[_0x3347fe(0x104)]()){const _0x397ba8=_0x1a5676['erZqp'][_0x3347fe(0x135)]('|');let _0x40d321=0x0;while(!![]){switch(_0x397ba8[_0x40d321++]){case'0':this['setServer']();continue;case'1':if(helper[_0x3347fe(0x129)](_0x54a711['proxySettings'][_0x3347fe(0x108)]))this[_0x3347fe(0x12e)]=helper[_0x3347fe(0xfe)](_0x54a711[_0x3347fe(0x103)][_0x3347fe(0x108)]);else _0x54a711[_0x3347fe(0x103)][_0x3347fe(0x108)]&&(this[_0x3347fe(0x110)]=_0x54a711[_0x3347fe(0x103)]['proxyUrl'],logger[_0x3347fe(0x127)](_0x3347fe(0xe3)+this[_0x3347fe(0x110)]));continue;case'2':globals['getGlobal'](_0x1a5676['KgbeG'])&&(!_0x1a5676[_0x3347fe(0xde)](setExtension,this,_0x54a711)&&globals[_0x3347fe(0x111)](_0x1a5676[_0x3347fe(0x13f)],![]));continue;case'3':_0x1a5676[_0x3347fe(0x123)](isAccessibilityAutomationSession)&&_0x1a5676[_0x3347fe(0x143)](setAccessibilityCapabilities,_0x54a711);continue;case'4':this[_0x3347fe(0x109)]();continue;case'5':logger[_0x3347fe(0x127)](_0x1a5676[_0x3347fe(0x100)]);continue;}break;}}const _0x1b392c=super[_0x3347fe(0x14e)]();return _0x1b392c[_0x3347fe(0x140)][_0x3347fe(0x10f)](_0x3d57af=>{const _0x59987a=_0x3347fe;try{const _0x5265de=_0x3d57af[_0x59987a(0x10a)][_0x59987a(0xe7)](_0x1a5676[_0x59987a(0x126)]);_0x5265de?(logger['debug']('SETTING\x20NEW\x20URL\x20TO\x20OPTIMAL\x20URL\x20-\x20'+_0x5265de),hubAllocator['updateHubUrl'](_0x5265de),helper[_0x59987a(0xf7)](_0x5265de)):logger[_0x59987a(0x127)](_0x1a5676['eDGgW']);}catch(_0x356e4b){logger[_0x59987a(0x127)](_0x59987a(0x147)+_0x356e4b);}}),_0x1b392c[_0x3347fe(0x141)]=0x0,_0x1b392c[_0x3347fe(0x10f)]&&_0x1b392c['then'](_0x402c06=>{const _0x3ed04b=_0x3347fe,_0x2915a8={'NiSHm':function(_0x42474b,_0x32a0ac,_0x437300){const _0x174d32=a33_0x350a;return _0x1a5676[_0x174d32(0x10c)](_0x42474b,_0x32a0ac,_0x437300);}};_0x1a5676['CrNCU'](overrideQuit,_0x402c06,_0x1b392c),_0x1a5676[_0x3ed04b(0xfc)](overrideTakeScreenshot,_0x402c06),helper['overrideGet'](_0x402c06,_0x54a711),_0x1a5676['CrNCU'](overrideExecute,_0x402c06,_0x54a711),_0x402c06['getAccessibilityResultsSummary']=async()=>{const _0x429b45=_0x3ed04b;return await _0x202d0a[_0x429b45(0xeb)](getAccessibilityResultsSummary,_0x402c06,global);},_0x402c06[_0x3ed04b(0x122)]=async()=>{return await _0x2915a8['NiSHm'](getAccessibilityResults,_0x402c06,global);};}),_0x1b392c[_0x3347fe(0xf5)]=async()=>{const _0x561787=_0x3347fe;return await _0x202d0a[_0x561787(0x12d)](getAccessibilityResultsSummary,_0x1b392c,global);},_0x1b392c[_0x3347fe(0x122)]=async()=>{const _0x558748=_0x3347fe;return await _0x1a5676[_0x558748(0x12c)](getAccessibilityResults,_0x1b392c,global);},_0x1a5676['hqnrg'](overrideTakeScreenshot,_0x1b392c),_0x1a5676[_0x3347fe(0x143)](overrideQuit,_0x1b392c),helper[_0x3347fe(0xf1)](_0x1b392c,_0x54a711),_0x1a5676[_0x3347fe(0x12c)](overrideExecute,_0x1b392c,_0x54a711),helper[_0x3347fe(0x124)](global[_0x3347fe(0x144)])&&(global['__driversArray']=[]),helper[_0x3347fe(0x124)](global[_0x3347fe(0xec)])&&(global[_0x3347fe(0xec)]=[]),global[_0x3347fe(0x144)][_0x3347fe(0x106)](_0x1b392c),global['__driver']=_0x1b392c,_0x1a5676[_0x3347fe(0xe6)](global[_0x3347fe(0xec)],undefined)&&global[_0x3347fe(0xec)][_0x3347fe(0x106)](_0x1b392c),_0x2588dd&&helper[_0x3347fe(0x124)](_0x2588dd[_0x3347fe(0x145)][_0x3347fe(0x144)])&&(_0x2588dd[_0x3347fe(0x145)]['__driversArray']=[]),_0x2588dd&&_0x1a5676[_0x3347fe(0x142)](_0x2588dd[_0x3347fe(0x145)][_0x3347fe(0xec)],undefined)&&(_0x2588dd[_0x3347fe(0x145)][_0x3347fe(0xec)][_0x3347fe(0x106)](_0x1b392c),_0x2588dd[_0x3347fe(0x145)][_0x3347fe(0x144)]['push'](_0x1b392c)),_0x1b392c;}}return _0x31aae9['originalBuilder']=_0x31aae9[_0x2467bd(0x12b)],_0x31aae9[_0x2467bd(0x12b)]=_0x4b310c,_0x155632[_0x2467bd(0x118)]=_0xac7207,_0x31aae9;};module[a33_0x2c1cd2(0xfb)]['browserstackAgentObservability']=modify;function a33_0x4d4f(){const _0x28c29a=['2535210HmpBid','split','newHubUrl','moz:firefoxOptions','VzRkc','send','url_','browserStackLogLevel','logLevel','10TtoLWd','tMeGx','KgbeG','session_','quitCount_','MXGUm','hqnrg','__driversArray','global','chromeOptions_','ERROR\x20IN\x20GETTING\x20OPTIMAL\x20HUB\x20URL\x20-\x20','edgeOptions_','31704aFzjxY','ms:edgeOptions','33QTRpek','yBOLC','safari.options','build','mergeDeep','options_','yjTaT','WbtEl','info','ujFkG','dHqbn','../../../helpers/globals','Proxy\x20set\x20to\x20','ieOptions','../accessibility-automation/helper','hGipP','get','firefoxOptions_','eRbXY','29213262WsDwoc','AENfi','__drivers','Running\x20your\x20test\x20suite\x20on\x20BrowserStack','__setBrowserOptions','safariOptions_','CAPABILITY_KEY','overrideGet','/session','capabilities_','../../../helpers/accessibility-automation/helper','getAccessibilityResultsSummary','setServer','storeOptimalHubUrl','127407NaUjun','11304888nvZFdo','capability','exports','GGTFs','path','getHttpAgent','chromeOptions','UawbA','291YEBvOn','object','proxySettings','isBrowserstackInfra','neNsH','push','OPTIMAL\x20HUB\x20URL\x20NOT\x20FOUND','proxyUrl','setCapabilities','caps_','forEach','CrNCU','ZcquI','Hub\x20url\x20set\x20to\x20','then','proxy_','setGlobal','originalBuilder','eFEbl','CZOmn','Vkmpi','hOcwi','se:ieOptions','HttpClient','FvQef','edgeOptions','Configuring\x20to\x20run\x20tests\x20on\x20BrowserStack','4457485IxGrFm','28276fJztJv','ZqtSW','goog:chromeOptions','/wd/hub','requireHttpClient','getAccessibilityResults','TKcqF','isUndefined','ieOptions_','VMRRa','debug','Osgzc','isPacProxy','set','Builder','MlMlF','zuJWM','agent_','kqApS','firefoxOptions','../../../helpers/logger','MGCaP','winstonLogger'];a33_0x4d4f=function(){return _0x28c29a;};return a33_0x4d4f();}