const a32_0x21709d=a32_0x3ca2;function a32_0x3ca2(_0x588cd5,_0x4b6455){const _0x34e218=a32_0x34e2();return a32_0x3ca2=function(_0x3ca261,_0x5e1656){_0x3ca261=_0x3ca261-0x13a;let _0x4e5849=_0x34e218[_0x3ca261];return _0x4e5849;},a32_0x3ca2(_0x588cd5,_0x4b6455);}(function(_0x2a2ad0,_0xdb5a7a){const _0x58060e=a32_0x3ca2,_0x34d555=_0x2a2ad0();while(!![]){try{const _0x4851f6=-parseInt(_0x58060e(0x154))/0x1*(-parseInt(_0x58060e(0x184))/0x2)+-parseInt(_0x58060e(0x13c))/0x3*(-parseInt(_0x58060e(0x145))/0x4)+-parseInt(_0x58060e(0x1a1))/0x5+parseInt(_0x58060e(0x190))/0x6+-parseInt(_0x58060e(0x180))/0x7+parseInt(_0x58060e(0x198))/0x8+-parseInt(_0x58060e(0x15c))/0x9;if(_0x4851f6===_0xdb5a7a)break;else _0x34d555['push'](_0x34d555['shift']());}catch(_0x252869){_0x34d555['push'](_0x34d555['shift']());}}}(a32_0x34e2,0x90e3e));const logger=require(a32_0x21709d(0x169))[a32_0x21709d(0x177)],helper=require(a32_0x21709d(0x1a9)),constants=require('../../../bin/utils/constants'),hubAllocator=require(a32_0x21709d(0x1a5)),{overrideQuit,overrideTakeScreenshot,overrideGet}=require(a32_0x21709d(0x164)),{setAccessibilityCapabilities,setExtension}=require(a32_0x21709d(0x173)),{isAccessibilityAutomationSession,getAccessibilityResultsSummary,getAccessibilityResults}=require(a32_0x21709d(0x150)),globals=require('../../../helpers/globals'),{overrideExecute}=require(a32_0x21709d(0x1a2)),modify=(_0x160c3e,_0x1a6b74=null,_0x25ae6b=![])=>{const _0x533c8e=a32_0x21709d,_0x686d0e={'NBLcB':function(_0x1552d7,_0x534e64){return _0x1552d7!==_0x534e64;},'eyMit':'/session','KCGqE':function(_0x493693,_0x2ce162){return _0x493693!==_0x2ce162;},'axCuR':function(_0x4e4c28,_0x5009a9){return _0x4e4c28+_0x5009a9;},'VbQdu':_0x533c8e(0x152),'zqvZP':'/wd/hub','FGiiB':'goog:chromeOptions','dBqCm':_0x533c8e(0x196),'rFbSp':_0x533c8e(0x153),'KVHFh':_0x533c8e(0x193),'zuiVb':_0x533c8e(0x1a4),'LiFkv':_0x533c8e(0x179),'OjonU':_0x533c8e(0x17e),'guQlB':_0x533c8e(0x147),'YGGms':_0x533c8e(0x16f),'AQBAG':function(_0x1fb94d,_0x3589f7){return _0x1fb94d===_0x3589f7;},'qzppa':_0x533c8e(0x17c),'KlCEh':_0x533c8e(0x14a),'lIXyX':function(_0x23b223,_0x51f762,_0x3f54a8){return _0x23b223(_0x51f762,_0x3f54a8);},'qanuO':_0x533c8e(0x1a6),'SXzXN':_0x533c8e(0x1b3),'Xefps':function(_0x3aea3e,_0x126d87){return _0x3aea3e(_0x126d87);},'cMCNJ':_0x533c8e(0x158),'ZpmhX':'isAccessibilityPlatform','eXakW':function(_0x48f528,_0x1727cd,_0xa7db35){return _0x48f528(_0x1727cd,_0xa7db35);},'OZWnU':'Running\x20your\x20test\x20suite\x20on\x20BrowserStack','GKEyT':function(_0x4d11f4){return _0x4d11f4();},'nPAAN':function(_0x35f1f0,_0x53e7f5){return _0x35f1f0(_0x53e7f5);},'ZBxlH':function(_0x48a686,_0x2a3611){return _0x48a686(_0x2a3611);},'ZvdlR':function(_0x335556,_0x174948,_0x19f71a){return _0x335556(_0x174948,_0x19f71a);},'kuUnL':function(_0xbcef6f,_0x19e033){return _0xbcef6f!==_0x19e033;},'OJIhX':_0x533c8e(0x185),'Btlaz':_0x533c8e(0x16e)},_0x4de662=helper[_0x533c8e(0x143)]();let _0x2b9dcd;try{_0x2b9dcd=helper['requireSeleniumWebdriver'](),_0x2b9dcd[_0x533c8e(0x15d)]&&(_0x2b9dcd[_0x533c8e(0x140)]=_0x2b9dcd[_0x533c8e(0x15d)]);}catch(_0x543b78){return;}if(helper[_0x533c8e(0x146)]()){const _0x5f0618={};_0x5f0618['logLevel']=_0x160c3e[_0x533c8e(0x18d)],helper[_0x533c8e(0x160)](_0x5f0618,new Map(),new Map()),logger[_0x533c8e(0x181)](_0x686d0e[_0x533c8e(0x19e)]),logger['debug'](_0x686d0e[_0x533c8e(0x197)]);}class _0x81b7e5 extends _0x4de662[_0x533c8e(0x1ac)]{[_0x533c8e(0x14e)](_0x3b5af9){const _0x1da4f5=_0x533c8e;if(_0x686d0e['NBLcB'](_0x3b5af9[_0x1da4f5(0x174)],_0x686d0e[_0x1da4f5(0x1a8)])&&_0x686d0e['KCGqE'](global[_0x1da4f5(0x191)],''))try{global[_0x1da4f5(0x191)]=_0x686d0e[_0x1da4f5(0x15e)](_0x686d0e[_0x1da4f5(0x15e)](_0x686d0e[_0x1da4f5(0x1a0)],global[_0x1da4f5(0x191)]),_0x686d0e[_0x1da4f5(0x175)]),this[_0x1da4f5(0x1ab)]=hubAllocator[_0x1da4f5(0x183)](global[_0x1da4f5(0x191)]),logger[_0x1da4f5(0x13b)](_0x1da4f5(0x149)+global['newHubUrl']),global[_0x1da4f5(0x191)]='';}catch(_0x18c81f){logger['error'](_0x18c81f);}return super[_0x1da4f5(0x14e)](_0x3b5af9);}}class _0x51dfe7 extends _0x2b9dcd[_0x533c8e(0x140)]{[_0x533c8e(0x14f)](){const _0x2e6eb6=_0x533c8e;return this[_0x2e6eb6(0x194)]=helper[_0x2e6eb6(0x142)](_0x160c3e),logger['debug'](_0x2e6eb6(0x170)+this[_0x2e6eb6(0x194)]),this;}[_0x533c8e(0x18f)](_0x1c27e9){const _0x37eb5f=_0x533c8e;let _0x4b7ed5={};for(const _0x2e92cb in _0x1c27e9){switch(_0x2e92cb){case _0x686d0e[_0x37eb5f(0x1a3)]:case _0x686d0e['dBqCm']:this[_0x37eb5f(0x163)]&&(_0x4b7ed5=this[_0x37eb5f(0x163)][_0x37eb5f(0x1ad)](this[_0x37eb5f(0x163)][_0x37eb5f(0x16c)])||{},this[_0x37eb5f(0x163)][_0x37eb5f(0x19b)](this[_0x37eb5f(0x163)][_0x37eb5f(0x16c)],helper['mergeDeep'](_0x4b7ed5,_0x1c27e9[_0x2e92cb])));break;case _0x686d0e['rFbSp']:case _0x686d0e[_0x37eb5f(0x14b)]:this[_0x37eb5f(0x17f)]&&(_0x4b7ed5=this[_0x37eb5f(0x17f)][_0x37eb5f(0x1ad)](this[_0x37eb5f(0x17f)]['CAPABILITY_KEY'])||{},this[_0x37eb5f(0x17f)][_0x37eb5f(0x19b)](this[_0x37eb5f(0x17f)][_0x37eb5f(0x16c)],helper[_0x37eb5f(0x186)](_0x4b7ed5,_0x1c27e9[_0x2e92cb])));break;case _0x686d0e[_0x37eb5f(0x187)]:case _0x686d0e[_0x37eb5f(0x15f)]:this[_0x37eb5f(0x19a)]&&(_0x4b7ed5=this[_0x37eb5f(0x19a)]['get'](this['firefoxOptions_'][_0x37eb5f(0x16c)])||{},this[_0x37eb5f(0x19a)][_0x37eb5f(0x19b)](this[_0x37eb5f(0x19a)][_0x37eb5f(0x16c)],helper['mergeDeep'](_0x4b7ed5,_0x1c27e9[_0x2e92cb])));break;case _0x686d0e[_0x37eb5f(0x18a)]:this['safariOptions_']&&(_0x4b7ed5=this['safariOptions_']['get'](this[_0x37eb5f(0x178)][_0x37eb5f(0x16c)])||{},this[_0x37eb5f(0x178)][_0x37eb5f(0x19b)](this[_0x37eb5f(0x178)][_0x37eb5f(0x16c)],helper['mergeDeep'](_0x4b7ed5,_0x1c27e9[_0x2e92cb])));break;case _0x686d0e[_0x37eb5f(0x14d)]:case _0x686d0e[_0x37eb5f(0x15b)]:this['ieOptions_']&&(_0x4b7ed5=this['ieOptions_']['get'](this['ieOptions_']['CAPABILITY_KEY'])||{},this[_0x37eb5f(0x172)][_0x37eb5f(0x19b)](this[_0x37eb5f(0x172)][_0x37eb5f(0x16c)],helper['mergeDeep'](_0x4b7ed5,_0x1c27e9[_0x2e92cb])));break;}}}[_0x533c8e(0x156)](){const _0x1b0cf3=_0x533c8e;return logger['debug'](_0x686d0e['KlCEh']),this[_0x1b0cf3(0x18f)](_0x160c3e[_0x1b0cf3(0x176)]),Object[_0x1b0cf3(0x13a)](_0x160c3e['capability'])[_0x1b0cf3(0x168)](_0x6932a1=>{const _0x520a9b=_0x1b0cf3,_0x3487d3=this[_0x520a9b(0x1b0)][_0x520a9b(0x1ad)](_0x6932a1);_0x686d0e[_0x520a9b(0x157)](typeof _0x3487d3,_0x686d0e[_0x520a9b(0x192)])?this[_0x520a9b(0x1b0)][_0x520a9b(0x19b)](_0x6932a1,helper[_0x520a9b(0x186)](_0x3487d3,_0x160c3e['capability'][_0x6932a1])):this[_0x520a9b(0x1b0)][_0x520a9b(0x19b)](_0x6932a1,_0x160c3e[_0x520a9b(0x176)][_0x6932a1]);}),this;}[_0x533c8e(0x162)](){const _0xac1959=_0x533c8e,_0x363e18={'NFbZz':_0x686d0e['qanuO'],'lOeXY':_0x686d0e[_0xac1959(0x1a7)],'ApBHp':function(_0x52c2c7,_0x2348e9,_0x30371b){const _0x47e1d0=_0xac1959;return _0x686d0e[_0x47e1d0(0x182)](_0x52c2c7,_0x2348e9,_0x30371b);},'jOAxp':function(_0x53bcee,_0x1ee310){const _0x5a9e88=_0xac1959;return _0x686d0e[_0x5a9e88(0x19f)](_0x53bcee,_0x1ee310);},'vbggP':function(_0x277ef8,_0x5092d3,_0x54fdc1){const _0x553155=_0xac1959;return _0x686d0e[_0x553155(0x182)](_0x277ef8,_0x5092d3,_0x54fdc1);}};if(helper['isBrowserstackInfra']()){const _0x21404b=_0x686d0e[_0xac1959(0x189)][_0xac1959(0x16a)]('|');let _0x16cf69=0x0;while(!![]){switch(_0x21404b[_0x16cf69++]){case'0':if(helper[_0xac1959(0x18e)](_0x160c3e['proxySettings'][_0xac1959(0x148)]))this[_0xac1959(0x195)]=helper['getHttpAgent'](_0x160c3e[_0xac1959(0x17a)][_0xac1959(0x148)]);else _0x160c3e[_0xac1959(0x17a)][_0xac1959(0x148)]&&(this[_0xac1959(0x13f)]=_0x160c3e[_0xac1959(0x17a)][_0xac1959(0x148)],logger[_0xac1959(0x13b)]('Proxy\x20set\x20to\x20'+this[_0xac1959(0x13f)]));continue;case'1':this[_0xac1959(0x14f)]();continue;case'2':globals[_0xac1959(0x17d)](_0x686d0e[_0xac1959(0x167)])&&(!_0x686d0e[_0xac1959(0x19d)](setExtension,this,_0x160c3e)&&globals[_0xac1959(0x13d)](_0x686d0e[_0xac1959(0x167)],![]));continue;case'3':logger[_0xac1959(0x13b)](_0x686d0e[_0xac1959(0x1aa)]);continue;case'4':this[_0xac1959(0x156)]();continue;case'5':_0x686d0e[_0xac1959(0x166)](isAccessibilityAutomationSession)&&_0x686d0e[_0xac1959(0x19f)](setAccessibilityCapabilities,_0x160c3e);continue;}break;}}const _0x71c9a1=super['build']();return _0x71c9a1[_0xac1959(0x13e)][_0xac1959(0x1b1)](_0x32efed=>{const _0x14eb96=_0xac1959;try{const _0x325bd2=_0x32efed['caps_'][_0x14eb96(0x1ad)](_0x363e18[_0x14eb96(0x16d)]);_0x325bd2?(logger['debug'](_0x14eb96(0x1b2)+_0x325bd2),hubAllocator['updateHubUrl'](_0x325bd2),helper[_0x14eb96(0x171)](_0x325bd2)):logger[_0x14eb96(0x13b)](_0x363e18[_0x14eb96(0x15a)]);}catch(_0x452070){logger[_0x14eb96(0x13b)]('ERROR\x20IN\x20GETTING\x20OPTIMAL\x20HUB\x20URL\x20-\x20'+_0x452070);}}),_0x71c9a1['quitCount_']=0x0,_0x71c9a1[_0xac1959(0x1b1)]&&_0x71c9a1[_0xac1959(0x1b1)](_0x43f85c=>{const _0x2ffc14=_0xac1959,_0x5c738d={'jtnGm':function(_0x552805,_0x25b0dd,_0x49991f){const _0x12abd3=a32_0x3ca2;return _0x363e18[_0x12abd3(0x165)](_0x552805,_0x25b0dd,_0x49991f);}};_0x363e18[_0x2ffc14(0x165)](overrideQuit,_0x43f85c,_0x71c9a1),_0x363e18[_0x2ffc14(0x199)](overrideTakeScreenshot,_0x43f85c),helper[_0x2ffc14(0x16b)](_0x43f85c,_0x160c3e),_0x363e18['vbggP'](overrideExecute,_0x43f85c,_0x160c3e),_0x43f85c[_0x2ffc14(0x144)]=async()=>{const _0x14ac7f=_0x2ffc14;return await _0x363e18[_0x14ac7f(0x165)](getAccessibilityResultsSummary,_0x43f85c,global);},_0x43f85c['getAccessibilityResults']=async()=>{const _0x30af2f=_0x2ffc14;return await _0x5c738d[_0x30af2f(0x19c)](getAccessibilityResults,_0x43f85c,global);};}),_0x71c9a1[_0xac1959(0x144)]=async()=>{return await _0x686d0e['lIXyX'](getAccessibilityResultsSummary,_0x71c9a1,global);},_0x71c9a1[_0xac1959(0x17b)]=async()=>{const _0x2f71d0=_0xac1959;return await _0x363e18[_0x2f71d0(0x155)](getAccessibilityResults,_0x71c9a1,global);},_0x686d0e[_0xac1959(0x18b)](overrideTakeScreenshot,_0x71c9a1),_0x686d0e[_0xac1959(0x188)](overrideQuit,_0x71c9a1),helper[_0xac1959(0x16b)](_0x71c9a1,_0x160c3e),_0x686d0e['ZvdlR'](overrideExecute,_0x71c9a1,_0x160c3e),helper['isUndefined'](global[_0xac1959(0x1ae)])&&(global[_0xac1959(0x1ae)]=[]),helper[_0xac1959(0x14c)](global[_0xac1959(0x159)])&&(global[_0xac1959(0x159)]=[]),global[_0xac1959(0x1ae)][_0xac1959(0x18c)](_0x71c9a1),global[_0xac1959(0x151)]=_0x71c9a1,_0x686d0e[_0xac1959(0x161)](global[_0xac1959(0x159)],undefined)&&global['__drivers'][_0xac1959(0x18c)](_0x71c9a1),_0x1a6b74&&helper[_0xac1959(0x14c)](_0x1a6b74[_0xac1959(0x141)][_0xac1959(0x1ae)])&&(_0x1a6b74['global']['__driversArray']=[]),_0x1a6b74&&_0x686d0e[_0xac1959(0x1af)](_0x1a6b74['global'][_0xac1959(0x159)],undefined)&&(_0x1a6b74[_0xac1959(0x141)][_0xac1959(0x159)][_0xac1959(0x18c)](_0x71c9a1),_0x1a6b74[_0xac1959(0x141)]['__driversArray'][_0xac1959(0x18c)](_0x71c9a1)),_0x71c9a1;}}return _0x2b9dcd[_0x533c8e(0x15d)]=_0x2b9dcd[_0x533c8e(0x140)],_0x2b9dcd['Builder']=_0x51dfe7,_0x4de662[_0x533c8e(0x1ac)]=_0x81b7e5,_0x2b9dcd;};function a32_0x34e2(){const _0x33b519=['ieOptions_','../accessibility-automation/helper','path','zqvZP','capability','winstonLogger','safariOptions_','firefoxOptions','proxySettings','getAccessibilityResults','object','getGlobal','safari.options','edgeOptions_','5371632jdIvWW','info','lIXyX','getRequestOptions','2eqeVJP','Configuring\x20to\x20run\x20tests\x20on\x20BrowserStack','mergeDeep','zuiVb','ZBxlH','cMCNJ','OjonU','nPAAN','push','browserStackLogLevel','isPacProxy','__setBrowserOptions','1705368IGWJCn','newHubUrl','qzppa','edgeOptions','url_','agent_','chromeOptions','Btlaz','7300336BuTHed','jOAxp','firefoxOptions_','set','jtnGm','eXakW','OJIhX','Xefps','VbQdu','3014070DLYcde','./helpers/patchHelper','FGiiB','moz:firefoxOptions','../../../hubAllocationMethods','optimalHubUrl','SXzXN','eyMit','../../../helpers/helper','OZWnU','options_','HttpClient','get','__driversArray','kuUnL','capabilities_','then','SETTING\x20NEW\x20URL\x20TO\x20OPTIMAL\x20URL\x20-\x20','OPTIMAL\x20HUB\x20URL\x20NOT\x20FOUND','keys','debug','247920sPcjDK','setGlobal','session_','proxy_','Builder','global','getHubUrl','requireHttpClient','getAccessibilityResultsSummary','52cEccDT','isBrowserstackInfra','se:ieOptions','proxyUrl','New\x20hub\x20url\x20set\x20to\x20','Setting\x20Browserstack\x20capabilities','KVHFh','isUndefined','guQlB','send','setServer','../../../helpers/accessibility-automation/helper','__driver','https://','ms:edgeOptions','450175wtfXZI','vbggP','setCapabilities','AQBAG','5|1|4|0|2|3','__drivers','lOeXY','YGGms','6818445SlphOK','originalBuilder','axCuR','LiFkv','setLogLevel','KCGqE','build','chromeOptions_','../../../helpers/patchHelpers','ApBHp','GKEyT','ZpmhX','forEach','../../../helpers/logger','split','overrideGet','CAPABILITY_KEY','NFbZz','Modifying\x20webdriver\x20builder','ieOptions','Hub\x20url\x20set\x20to\x20','storeOptimalHubUrl'];a32_0x34e2=function(){return _0x33b519;};return a32_0x34e2();}module['exports']['browserstackAgentObservability']=modify;