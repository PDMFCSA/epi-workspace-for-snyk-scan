const a29_0x32eafa=a29_0x48d7;function a29_0x490a(){const _0x2ae60b=['capabilities_','isPacProxy','path','isAccessibilityPlatform','1143636CBvHvg','nJPNj','getRequestOptions','setServer','updateHubUrl','setCapabilities','SWCdA','https://','6EINwwM','__drivers','QCRGV','nDUSi','../accessibility-automation/helper','debug','mZFLs','../../../helpers/helper','SlzRU','BGZSe','getAccessibilityResultsSummary','logLevel','PgqHI','chromeOptions_','forEach','set','Builder','8448342fshkEN','ms:edgeOptions','CAPABILITY_KEY','vPaih','iAsAp','getHubUrl','__setBrowserOptions','31998830saZfnU','vbkmb','EmNTw','CCvam','BUBpD','optimalHubUrl','HttpClient','ZUgdz','mergeDeep','getGlobal','DraEH','chromeOptions','send','__driversArray','build','newHubUrl','/session','OvuSA','Configuring\x20to\x20run\x20tests\x20on\x20BrowserStack','push','dWlEd','caps_','exports','../../../hubAllocationMethods','rYrup','NgujB','proxy_','Hub\x20url\x20set\x20to\x20','firefoxOptions_','PZzNJ','url_','../../../bin/utils/constants','BVjmg','edgeOptions_','Running\x20your\x20test\x20suite\x20on\x20BrowserStack','RKKhM','proxyUrl','./helpers/patchHelper','safariOptions_','capability','njNLp','QsNoJ','New\x20hub\x20url\x20set\x20to\x20','setGlobal','moz:firefoxOptions','ieOptions_','HwsBi','HWICQ','373235vFfFyc','1049998SNtyRO','../../../helpers/logger','hmbQh','4|2|0|1|3|5','overrideGet','NIIpA','getAccessibilityResults','options_','../../../helpers/accessibility-automation/helper','object','lMsUH','isBrowserstackInfra','error','isUndefined','then','browserStackLogLevel','getHttpAgent','935134XYiDSY','UizuH','465904CsQBGZ','safari.options','207NDxBSy','get','KPFKt','vTtxK','storeOptimalHubUrl','OPTIMAL\x20HUB\x20URL\x20NOT\x20FOUND','global','lnmtu','setLogLevel','originalBuilder','20Idegog','../../../helpers/globals','Modifying\x20webdriver\x20builder','quitCount_','requireSeleniumWebdriver','info','proxySettings'];a29_0x490a=function(){return _0x2ae60b;};return a29_0x490a();}function a29_0x48d7(_0x358735,_0x13facd){const _0x490a3=a29_0x490a();return a29_0x48d7=function(_0x48d7e8,_0x52f305){_0x48d7e8=_0x48d7e8-0x1d3;let _0x537bbd=_0x490a3[_0x48d7e8];return _0x537bbd;},a29_0x48d7(_0x358735,_0x13facd);}(function(_0x28c204,_0x5ea36f){const _0x22c463=a29_0x48d7,_0x27003a=_0x28c204();while(!![]){try{const _0x2b45a4=parseInt(_0x22c463(0x1d6))/0x1+parseInt(_0x22c463(0x240))/0x2*(parseInt(_0x22c463(0x1f7))/0x3)+-parseInt(_0x22c463(0x1e4))/0x4*(parseInt(_0x22c463(0x23f))/0x5)+-parseInt(_0x22c463(0x1ef))/0x6+parseInt(_0x22c463(0x208))/0x7+-parseInt(_0x22c463(0x1d8))/0x8*(-parseInt(_0x22c463(0x1da))/0x9)+-parseInt(_0x22c463(0x20f))/0xa;if(_0x2b45a4===_0x5ea36f)break;else _0x27003a['push'](_0x27003a['shift']());}catch(_0x241cf1){_0x27003a['push'](_0x27003a['shift']());}}}(a29_0x490a,0xbb72c));const logger=require(a29_0x32eafa(0x241))['winstonLogger'],helper=require(a29_0x32eafa(0x1fe)),constants=require(a29_0x32eafa(0x22e)),hubAllocator=require(a29_0x32eafa(0x226)),{overrideQuit,overrideTakeScreenshot,overrideGet}=require('../../../helpers/patchHelpers'),{setAccessibilityCapabilities,setExtension}=require(a29_0x32eafa(0x1fb)),{isAccessibilityAutomationSession,getAccessibilityResultsSummary,getAccessibilityResults}=require(a29_0x32eafa(0x248)),globals=require(a29_0x32eafa(0x1e5)),{overrideExecute}=require(a29_0x32eafa(0x234)),modify=(_0x18211b,_0x74d939=null,_0x3430ba=![])=>{const _0xd1f528=a29_0x32eafa,_0x462fee={'OvuSA':function(_0xc5a071,_0x889449){return _0xc5a071!==_0x889449;},'EmNTw':_0xd1f528(0x21f),'UizuH':function(_0x3a58c1,_0x575a97){return _0x3a58c1!==_0x575a97;},'RKKhM':function(_0x21bdd4,_0xa69782){return _0x21bdd4+_0xa69782;},'rYrup':function(_0xb2bdc0,_0x28fc9a){return _0xb2bdc0+_0x28fc9a;},'SWCdA':_0xd1f528(0x1f6),'hmbQh':'/wd/hub','QsNoJ':'goog:chromeOptions','KPFKt':_0xd1f528(0x21a),'hVqpd':_0xd1f528(0x209),'nJPNj':'edgeOptions','vPaih':_0xd1f528(0x23b),'NIIpA':'firefoxOptions','vTtxK':_0xd1f528(0x1d9),'tWKcE':'se:ieOptions','PgqHI':'ieOptions','eNjUr':function(_0x4ef2a4,_0x4a166f){return _0x4ef2a4===_0x4a166f;},'ZUgdz':_0xd1f528(0x249),'iAsAp':'Setting\x20Browserstack\x20capabilities','lMsUH':_0xd1f528(0x214),'QCRGV':_0xd1f528(0x1df),'BVjmg':function(_0x3b0e78,_0x46b16c,_0xf98c3f){return _0x3b0e78(_0x46b16c,_0xf98c3f);},'HWICQ':function(_0x174d2a,_0x2e6e22,_0x5e2f71){return _0x174d2a(_0x2e6e22,_0x5e2f71);},'vbkmb':function(_0x18273b,_0x6c7b6f,_0x1bfe08){return _0x18273b(_0x6c7b6f,_0x1bfe08);},'nDUSi':function(_0x58eba8,_0x567d28,_0x4ff550){return _0x58eba8(_0x567d28,_0x4ff550);},'BGZSe':function(_0x28c198,_0x231fba){return _0x28c198(_0x231fba);},'AEMsl':_0xd1f528(0x243),'mZFLs':_0xd1f528(0x1ee),'dWlEd':function(_0x3e7697,_0x10f6dc,_0x2fb8bb){return _0x3e7697(_0x10f6dc,_0x2fb8bb);},'SlzRU':function(_0x27970c){return _0x27970c();},'lnmtu':_0xd1f528(0x231),'BUBpD':function(_0x19f7d0,_0x10923e){return _0x19f7d0(_0x10923e);},'njNLp':function(_0x2d4b31,_0xfee9a2){return _0x2d4b31(_0xfee9a2);},'yfuqq':_0xd1f528(0x221),'PZzNJ':_0xd1f528(0x1e6)},_0x287393=helper['requireHttpClient']();let _0x4c666f;try{_0x4c666f=helper[_0xd1f528(0x1e8)](),_0x4c666f[_0xd1f528(0x1e3)]&&(_0x4c666f[_0xd1f528(0x207)]=_0x4c666f[_0xd1f528(0x1e3)]);}catch(_0x5bc7bc){return;}if(helper[_0xd1f528(0x24b)]()){const _0x3dbaca={};_0x3dbaca[_0xd1f528(0x202)]=_0x18211b[_0xd1f528(0x1d4)],helper[_0xd1f528(0x1e2)](_0x3dbaca,new Map(),new Map()),logger[_0xd1f528(0x1e9)](_0x462fee['yfuqq']),logger[_0xd1f528(0x1fc)](_0x462fee[_0xd1f528(0x22c)]);}class _0x104388 extends _0x287393['HttpClient']{[_0xd1f528(0x21b)](_0x294592){const _0x559dc3=_0xd1f528;if(_0x462fee[_0x559dc3(0x220)](_0x294592[_0x559dc3(0x1ed)],_0x462fee[_0x559dc3(0x211)])&&_0x462fee[_0x559dc3(0x1d7)](global['newHubUrl'],''))try{global[_0x559dc3(0x21e)]=_0x462fee[_0x559dc3(0x232)](_0x462fee[_0x559dc3(0x227)](_0x462fee[_0x559dc3(0x1f5)],global[_0x559dc3(0x21e)]),_0x462fee[_0x559dc3(0x242)]),this[_0x559dc3(0x247)]=hubAllocator[_0x559dc3(0x1f1)](global[_0x559dc3(0x21e)]),logger[_0x559dc3(0x1fc)](_0x559dc3(0x239)+global[_0x559dc3(0x21e)]),global[_0x559dc3(0x21e)]='';}catch(_0x406096){logger[_0x559dc3(0x24c)](_0x406096);}return super[_0x559dc3(0x21b)](_0x294592);}}class _0x374179 extends _0x4c666f[_0xd1f528(0x207)]{[_0xd1f528(0x1f2)](){const _0x313724=_0xd1f528;return this[_0x313724(0x22d)]=helper[_0x313724(0x20d)](_0x18211b),logger[_0x313724(0x1fc)](_0x313724(0x22a)+this[_0x313724(0x22d)]),this;}[_0xd1f528(0x20e)](_0x39cf32){const _0x4bf395=_0xd1f528;let _0xed4b62={};for(const _0x36f3c7 in _0x39cf32){switch(_0x36f3c7){case _0x462fee[_0x4bf395(0x238)]:case _0x462fee[_0x4bf395(0x1dc)]:this[_0x4bf395(0x204)]&&(_0xed4b62=this[_0x4bf395(0x204)]['get'](this['chromeOptions_']['CAPABILITY_KEY'])||{},this[_0x4bf395(0x204)][_0x4bf395(0x206)](this[_0x4bf395(0x204)][_0x4bf395(0x20a)],helper[_0x4bf395(0x217)](_0xed4b62,_0x39cf32[_0x36f3c7])));break;case _0x462fee['hVqpd']:case _0x462fee[_0x4bf395(0x1f0)]:this[_0x4bf395(0x230)]&&(_0xed4b62=this[_0x4bf395(0x230)][_0x4bf395(0x1db)](this[_0x4bf395(0x230)][_0x4bf395(0x20a)])||{},this[_0x4bf395(0x230)][_0x4bf395(0x206)](this[_0x4bf395(0x230)][_0x4bf395(0x20a)],helper[_0x4bf395(0x217)](_0xed4b62,_0x39cf32[_0x36f3c7])));break;case _0x462fee[_0x4bf395(0x20b)]:case _0x462fee[_0x4bf395(0x245)]:this[_0x4bf395(0x22b)]&&(_0xed4b62=this['firefoxOptions_']['get'](this[_0x4bf395(0x22b)][_0x4bf395(0x20a)])||{},this[_0x4bf395(0x22b)][_0x4bf395(0x206)](this[_0x4bf395(0x22b)][_0x4bf395(0x20a)],helper[_0x4bf395(0x217)](_0xed4b62,_0x39cf32[_0x36f3c7])));break;case _0x462fee[_0x4bf395(0x1dd)]:this[_0x4bf395(0x235)]&&(_0xed4b62=this[_0x4bf395(0x235)][_0x4bf395(0x1db)](this[_0x4bf395(0x235)][_0x4bf395(0x20a)])||{},this[_0x4bf395(0x235)]['set'](this['safariOptions_'][_0x4bf395(0x20a)],helper[_0x4bf395(0x217)](_0xed4b62,_0x39cf32[_0x36f3c7])));break;case _0x462fee['tWKcE']:case _0x462fee[_0x4bf395(0x203)]:this[_0x4bf395(0x23c)]&&(_0xed4b62=this[_0x4bf395(0x23c)]['get'](this[_0x4bf395(0x23c)][_0x4bf395(0x20a)])||{},this[_0x4bf395(0x23c)][_0x4bf395(0x206)](this[_0x4bf395(0x23c)]['CAPABILITY_KEY'],helper[_0x4bf395(0x217)](_0xed4b62,_0x39cf32[_0x36f3c7])));break;}}}[_0xd1f528(0x1f4)](){const _0x4cefdf=_0xd1f528;return logger[_0x4cefdf(0x1fc)](_0x462fee[_0x4cefdf(0x20c)]),this[_0x4cefdf(0x20e)](_0x18211b[_0x4cefdf(0x236)]),Object['keys'](_0x18211b[_0x4cefdf(0x236)])[_0x4cefdf(0x205)](_0x1b1dc4=>{const _0x3eeea6=_0x4cefdf,_0x5b6af7=this[_0x3eeea6(0x1eb)][_0x3eeea6(0x1db)](_0x1b1dc4);_0x462fee['eNjUr'](typeof _0x5b6af7,_0x462fee[_0x3eeea6(0x216)])?this['capabilities_'][_0x3eeea6(0x206)](_0x1b1dc4,helper[_0x3eeea6(0x217)](_0x5b6af7,_0x18211b[_0x3eeea6(0x236)][_0x1b1dc4])):this[_0x3eeea6(0x1eb)][_0x3eeea6(0x206)](_0x1b1dc4,_0x18211b[_0x3eeea6(0x236)][_0x1b1dc4]);}),this;}['build'](){const _0x305610=_0xd1f528,_0x50afa7={'HwsBi':function(_0x460103,_0x198a3e,_0x10d090){const _0x490b2d=a29_0x48d7;return _0x462fee[_0x490b2d(0x210)](_0x460103,_0x198a3e,_0x10d090);},'NgujB':function(_0x32cf17,_0x9d79e5,_0x30c342){const _0x2eb287=a29_0x48d7;return _0x462fee[_0x2eb287(0x1fa)](_0x32cf17,_0x9d79e5,_0x30c342);},'CCvam':function(_0x3f796a,_0x1bc08f){const _0x3dd8e6=a29_0x48d7;return _0x462fee[_0x3dd8e6(0x200)](_0x3f796a,_0x1bc08f);}};if(helper[_0x305610(0x24b)]()){const _0x4a8a1f=_0x462fee['AEMsl']['split']('|');let _0x541690=0x0;while(!![]){switch(_0x4a8a1f[_0x541690++]){case'0':this[_0x305610(0x1f4)]();continue;case'1':if(helper[_0x305610(0x1ec)](_0x18211b[_0x305610(0x1ea)][_0x305610(0x233)]))this['agent_']=helper[_0x305610(0x1d5)](_0x18211b[_0x305610(0x1ea)]['proxyUrl']);else _0x18211b['proxySettings'][_0x305610(0x233)]&&(this[_0x305610(0x229)]=_0x18211b[_0x305610(0x1ea)][_0x305610(0x233)],logger[_0x305610(0x1fc)]('Proxy\x20set\x20to\x20'+this[_0x305610(0x229)]));continue;case'2':this[_0x305610(0x1f2)]();continue;case'3':globals[_0x305610(0x218)](_0x462fee[_0x305610(0x1fd)])&&(!_0x462fee[_0x305610(0x223)](setExtension,this,_0x18211b)&&globals[_0x305610(0x23a)](_0x462fee[_0x305610(0x1fd)],![]));continue;case'4':_0x462fee[_0x305610(0x1ff)](isAccessibilityAutomationSession)&&_0x462fee[_0x305610(0x200)](setAccessibilityCapabilities,_0x18211b);continue;case'5':logger['debug'](_0x462fee[_0x305610(0x1e1)]);continue;}break;}}const _0x30bd7f=super[_0x305610(0x21d)]();return _0x30bd7f['session_'][_0x305610(0x1d3)](_0x138310=>{const _0x28fd8b=_0x305610;try{const _0x4617e9=_0x138310[_0x28fd8b(0x224)][_0x28fd8b(0x1db)](_0x462fee[_0x28fd8b(0x24a)]);_0x4617e9?(logger['debug']('SETTING\x20NEW\x20URL\x20TO\x20OPTIMAL\x20URL\x20-\x20'+_0x4617e9),hubAllocator[_0x28fd8b(0x1f3)](_0x4617e9),helper[_0x28fd8b(0x1de)](_0x4617e9)):logger['debug'](_0x462fee[_0x28fd8b(0x1f9)]);}catch(_0x134ebc){logger[_0x28fd8b(0x1fc)]('ERROR\x20IN\x20GETTING\x20OPTIMAL\x20HUB\x20URL\x20-\x20'+_0x134ebc);}}),_0x30bd7f[_0x305610(0x1e7)]=0x0,_0x30bd7f[_0x305610(0x1d3)]&&_0x30bd7f['then'](_0x2320d4=>{const _0x5bcfbe=_0x305610,_0x468588={'DraEH':function(_0x2fd942,_0xd36a08,_0x5f2172){const _0x55668e=a29_0x48d7;return _0x50afa7[_0x55668e(0x23d)](_0x2fd942,_0xd36a08,_0x5f2172);}};_0x50afa7['NgujB'](overrideQuit,_0x2320d4,_0x30bd7f),_0x50afa7[_0x5bcfbe(0x212)](overrideTakeScreenshot,_0x2320d4),helper[_0x5bcfbe(0x244)](_0x2320d4,_0x18211b),_0x50afa7[_0x5bcfbe(0x228)](overrideExecute,_0x2320d4,_0x18211b),_0x2320d4['getAccessibilityResultsSummary']=async()=>{const _0x2dedf8=_0x5bcfbe;return await _0x468588[_0x2dedf8(0x219)](getAccessibilityResultsSummary,_0x2320d4,global);},_0x2320d4[_0x5bcfbe(0x246)]=async()=>{const _0x27f276=_0x5bcfbe;return await _0x50afa7[_0x27f276(0x23d)](getAccessibilityResults,_0x2320d4,global);};}),_0x30bd7f[_0x305610(0x201)]=async()=>{const _0x4ac594=_0x305610;return await _0x462fee[_0x4ac594(0x22f)](getAccessibilityResultsSummary,_0x30bd7f,global);},_0x30bd7f['getAccessibilityResults']=async()=>{const _0x1825db=_0x305610;return await _0x462fee[_0x1825db(0x23e)](getAccessibilityResults,_0x30bd7f,global);},_0x462fee[_0x305610(0x213)](overrideTakeScreenshot,_0x30bd7f),_0x462fee[_0x305610(0x237)](overrideQuit,_0x30bd7f),helper[_0x305610(0x244)](_0x30bd7f,_0x18211b),_0x462fee[_0x305610(0x1fa)](overrideExecute,_0x30bd7f,_0x18211b),helper[_0x305610(0x24d)](global[_0x305610(0x21c)])&&(global['__driversArray']=[]),helper['isUndefined'](global['__drivers'])&&(global[_0x305610(0x1f8)]=[]),global['__driversArray'][_0x305610(0x222)](_0x30bd7f),global['__driver']=_0x30bd7f,_0x462fee['OvuSA'](global['__drivers'],undefined)&&global[_0x305610(0x1f8)][_0x305610(0x222)](_0x30bd7f),_0x74d939&&helper[_0x305610(0x24d)](_0x74d939[_0x305610(0x1e0)][_0x305610(0x21c)])&&(_0x74d939[_0x305610(0x1e0)][_0x305610(0x21c)]=[]),_0x74d939&&_0x462fee[_0x305610(0x1d7)](_0x74d939[_0x305610(0x1e0)][_0x305610(0x1f8)],undefined)&&(_0x74d939[_0x305610(0x1e0)][_0x305610(0x1f8)][_0x305610(0x222)](_0x30bd7f),_0x74d939[_0x305610(0x1e0)][_0x305610(0x21c)][_0x305610(0x222)](_0x30bd7f)),_0x30bd7f;}}return _0x4c666f['originalBuilder']=_0x4c666f[_0xd1f528(0x207)],_0x4c666f[_0xd1f528(0x207)]=_0x374179,_0x287393[_0xd1f528(0x215)]=_0x104388,_0x4c666f;};module[a29_0x32eafa(0x225)]['browserstackAgentObservability']=modify;