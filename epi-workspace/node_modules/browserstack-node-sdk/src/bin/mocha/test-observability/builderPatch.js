function a34_0x793a(){const _0x1dc908=['setCapabilities','__driversArray','mVsgj','nqZgy','DoFWn','__setBrowserOptions','ABGqG','proxy_','12rQgrbN','NglVj','edgeOptions','qMCvG','quitCount_','logLevel','mAfMn','set','2387732dniIcr','split','nCjpn','CVimq','Proxy\x20set\x20to\x20','setLogLevel','../../../helpers/logger','New\x20hub\x20url\x20set\x20to\x20','ieOptions','pMFzY','firefoxOptions_','FuBWg','KzDJE','getAccessibilityResultsSummary','url_','send','HttpClient','5503715BGMlqo','Setting\x20Browserstack\x20capabilities','__drivers','chromeOptions_','setGlobal','caps_','proxySettings','OPTIMAL\x20HUB\x20URL\x20NOT\x20FOUND','storeOptimalHubUrl','setServer','requireSeleniumWebdriver','zXqGa','PScRt','../../../helpers/helper','getRequestOptions','isPacProxy','wzjSQ','17851750jSCKlM','getHubUrl','1692052NIIBag','originalBuilder','EeItT','edgeOptions_','../../../helpers/globals','itPAe','vxDBO','../../../bin/utils/constants','newHubUrl','584781VeaNvs','overrideGet','options_','GEAzK','liSEo','/session','WEUBn','EBxgn','winstonLogger','288054msmXDX','debug','isBrowserstackInfra','./helpers/patchHelper','optimalHubUrl','capability','Builder','CAPABILITY_KEY','object','NQDZX','ziaqS','getAccessibilityResults','mergeDeep','forEach','dFZql','updateHubUrl','agent_','getGlobal','uLJiI','315680uLUHQU','Hub\x20url\x20set\x20to\x20','KDbdA','build','5|4|2|0|3|1','proxyUrl','jcCMd','global','ms:edgeOptions','capabilities_','NiiUY','ERROR\x20IN\x20GETTING\x20OPTIMAL\x20HUB\x20URL\x20-\x20','get','then','info','BKksc','kCXqO','isUndefined','Modifying\x20webdriver\x20builder','ieOptions_','ftbXY','path','goog:chromeOptions','moz:firefoxOptions','error','https://','VFJGl','../../../helpers/patchHelpers','WZfLE','keys','306rwRnaQ','154fbsfoh','push','safariOptions_'];a34_0x793a=function(){return _0x1dc908;};return a34_0x793a();}const a34_0x98ad22=a34_0x5585;(function(_0x11ac1a,_0x2ea09c){const _0x579e0d=a34_0x5585,_0x172354=_0x11ac1a();while(!![]){try{const _0x182121=parseInt(_0x579e0d(0x130))/0x1+parseInt(_0x579e0d(0x103))/0x2+-parseInt(_0x579e0d(0xfb))/0x3*(-parseInt(_0x579e0d(0x127))/0x4)+-parseInt(_0x579e0d(0x114))/0x5+parseInt(_0x579e0d(0x139))/0x6*(-parseInt(_0x579e0d(0x16b))/0x7)+-parseInt(_0x579e0d(0x14c))/0x8*(-parseInt(_0x579e0d(0x16a))/0x9)+-parseInt(_0x579e0d(0x125))/0xa;if(_0x182121===_0x2ea09c)break;else _0x172354['push'](_0x172354['shift']());}catch(_0x2b36ba){_0x172354['push'](_0x172354['shift']());}}}(a34_0x793a,0xd474f));const logger=require(a34_0x98ad22(0x109))[a34_0x98ad22(0x138)],helper=require(a34_0x98ad22(0x121)),constants=require(a34_0x98ad22(0x12e)),hubAllocator=require('../../../hubAllocationMethods'),{overrideQuit,overrideTakeScreenshot,overrideGet}=require(a34_0x98ad22(0x167)),{setAccessibilityCapabilities,setExtension}=require('../accessibility-automation/helper'),{isAccessibilityAutomationSession,getAccessibilityResultsSummary,getAccessibilityResults}=require('../../../helpers/accessibility-automation/helper'),globals=require(a34_0x98ad22(0x12b)),{overrideExecute}=require(a34_0x98ad22(0x13c)),modify=(_0x2416d1,_0x2d8a9e=null,_0x2bcda1=![])=>{const _0x53c875=a34_0x98ad22,_0x3f261a={'PScRt':function(_0x30884b,_0x4b1e87){return _0x30884b!==_0x4b1e87;},'dFZql':_0x53c875(0x135),'KzDJE':function(_0x5701a9,_0x4a0416){return _0x5701a9+_0x4a0416;},'kCXqO':_0x53c875(0x165),'EBxgn':'/wd/hub','NQDZX':_0x53c875(0x162),'WEUBn':'chromeOptions','gYGsG':_0x53c875(0x154),'FuBWg':_0x53c875(0xfd),'KDbdA':_0x53c875(0x163),'LlfdL':'firefoxOptions','CVimq':'safari.options','VFJGl':'se:ieOptions','liSEo':_0x53c875(0x10b),'vxDBO':function(_0x1be9ac,_0x237cc0){return _0x1be9ac===_0x237cc0;},'qMCvG':_0x53c875(0x141),'pMFzY':_0x53c875(0x115),'nCjpn':_0x53c875(0x13d),'BKksc':_0x53c875(0x11b),'itPAe':function(_0x4f3846,_0x3416d8,_0x31018e){return _0x4f3846(_0x3416d8,_0x31018e);},'jcCMd':function(_0x4c1dfa,_0x342abd,_0x366aa8){return _0x4c1dfa(_0x342abd,_0x366aa8);},'ABGqG':function(_0x157a61,_0x4b6934){return _0x157a61(_0x4b6934);},'uLJiI':_0x53c875(0x150),'NiiUY':'Running\x20your\x20test\x20suite\x20on\x20BrowserStack','zXqGa':'isAccessibilityPlatform','DoFWn':function(_0x452629){return _0x452629();},'ftbXY':function(_0xf754f9,_0xf4b608){return _0xf754f9(_0xf4b608);},'NglVj':function(_0x30551c,_0x128303,_0x11bab5){return _0x30551c(_0x128303,_0x11bab5);},'ziaqS':function(_0x42ac57,_0x57dd95){return _0x42ac57!==_0x57dd95;},'WZfLE':'Configuring\x20to\x20run\x20tests\x20on\x20BrowserStack','wuZMR':_0x53c875(0x15e)},_0x1e0a60=helper['requireHttpClient']();let _0x2e6589;try{_0x2e6589=helper[_0x53c875(0x11e)](),_0x2e6589[_0x53c875(0x128)]&&(_0x2e6589[_0x53c875(0x13f)]=_0x2e6589[_0x53c875(0x128)]);}catch(_0x138227){return;}if(helper[_0x53c875(0x13b)]()){const _0x24f6fb={};_0x24f6fb[_0x53c875(0x100)]=_0x2416d1['browserStackLogLevel'],helper[_0x53c875(0x108)](_0x24f6fb,new Map(),new Map()),logger[_0x53c875(0x15a)](_0x3f261a[_0x53c875(0x168)]),logger[_0x53c875(0x13a)](_0x3f261a['wuZMR']);}class _0x43c469 extends _0x1e0a60[_0x53c875(0x113)]{[_0x53c875(0x112)](_0x29c287){const _0x1350c7=_0x53c875;if(_0x3f261a[_0x1350c7(0x120)](_0x29c287[_0x1350c7(0x161)],_0x3f261a[_0x1350c7(0x147)])&&_0x3f261a[_0x1350c7(0x120)](global['newHubUrl'],''))try{global[_0x1350c7(0x12f)]=_0x3f261a['KzDJE'](_0x3f261a[_0x1350c7(0x10f)](_0x3f261a[_0x1350c7(0x15c)],global['newHubUrl']),_0x3f261a[_0x1350c7(0x137)]),this[_0x1350c7(0x132)]=hubAllocator[_0x1350c7(0x122)](global[_0x1350c7(0x12f)]),logger[_0x1350c7(0x13a)](_0x1350c7(0x10a)+global[_0x1350c7(0x12f)]),global[_0x1350c7(0x12f)]='';}catch(_0x1bcddc){logger[_0x1350c7(0x164)](_0x1bcddc);}return super[_0x1350c7(0x112)](_0x29c287);}}class _0x4d1be7 extends _0x2e6589[_0x53c875(0x13f)]{[_0x53c875(0x11d)](){const _0x3b0df7=_0x53c875;return this[_0x3b0df7(0x111)]=helper[_0x3b0df7(0x126)](_0x2416d1),logger[_0x3b0df7(0x13a)](_0x3b0df7(0x14d)+this[_0x3b0df7(0x111)]),this;}[_0x53c875(0xf8)](_0x3c4d02){const _0x58ca0b=_0x53c875;let _0x39a4e3={};for(const _0x47672f in _0x3c4d02){switch(_0x47672f){case _0x3f261a[_0x58ca0b(0x142)]:case _0x3f261a[_0x58ca0b(0x136)]:this[_0x58ca0b(0x117)]&&(_0x39a4e3=this[_0x58ca0b(0x117)][_0x58ca0b(0x158)](this[_0x58ca0b(0x117)][_0x58ca0b(0x140)])||{},this[_0x58ca0b(0x117)][_0x58ca0b(0x102)](this['chromeOptions_'][_0x58ca0b(0x140)],helper['mergeDeep'](_0x39a4e3,_0x3c4d02[_0x47672f])));break;case _0x3f261a['gYGsG']:case _0x3f261a[_0x58ca0b(0x10e)]:this[_0x58ca0b(0x12a)]&&(_0x39a4e3=this[_0x58ca0b(0x12a)]['get'](this['edgeOptions_'][_0x58ca0b(0x140)])||{},this['edgeOptions_']['set'](this[_0x58ca0b(0x12a)]['CAPABILITY_KEY'],helper['mergeDeep'](_0x39a4e3,_0x3c4d02[_0x47672f])));break;case _0x3f261a[_0x58ca0b(0x14e)]:case _0x3f261a['LlfdL']:this[_0x58ca0b(0x10d)]&&(_0x39a4e3=this[_0x58ca0b(0x10d)][_0x58ca0b(0x158)](this[_0x58ca0b(0x10d)]['CAPABILITY_KEY'])||{},this['firefoxOptions_'][_0x58ca0b(0x102)](this[_0x58ca0b(0x10d)]['CAPABILITY_KEY'],helper['mergeDeep'](_0x39a4e3,_0x3c4d02[_0x47672f])));break;case _0x3f261a[_0x58ca0b(0x106)]:this[_0x58ca0b(0x16d)]&&(_0x39a4e3=this[_0x58ca0b(0x16d)]['get'](this[_0x58ca0b(0x16d)]['CAPABILITY_KEY'])||{},this[_0x58ca0b(0x16d)][_0x58ca0b(0x102)](this[_0x58ca0b(0x16d)][_0x58ca0b(0x140)],helper[_0x58ca0b(0x145)](_0x39a4e3,_0x3c4d02[_0x47672f])));break;case _0x3f261a[_0x58ca0b(0x166)]:case _0x3f261a[_0x58ca0b(0x134)]:this[_0x58ca0b(0x15f)]&&(_0x39a4e3=this[_0x58ca0b(0x15f)][_0x58ca0b(0x158)](this[_0x58ca0b(0x15f)][_0x58ca0b(0x140)])||{},this[_0x58ca0b(0x15f)]['set'](this['ieOptions_'][_0x58ca0b(0x140)],helper[_0x58ca0b(0x145)](_0x39a4e3,_0x3c4d02[_0x47672f])));break;}}}[_0x53c875(0x16e)](){const _0x30cee0=_0x53c875,_0x2f8a65={'mAfMn':function(_0x4c0313,_0x3f5fbb){const _0x31f03a=a34_0x5585;return _0x3f261a[_0x31f03a(0x12d)](_0x4c0313,_0x3f5fbb);},'nqZgy':_0x3f261a[_0x30cee0(0xfe)]};return logger[_0x30cee0(0x13a)](_0x3f261a[_0x30cee0(0x10c)]),this[_0x30cee0(0xf8)](_0x2416d1[_0x30cee0(0x13e)]),Object[_0x30cee0(0x169)](_0x2416d1['capability'])[_0x30cee0(0x146)](_0x4a4271=>{const _0xa71aa4=_0x30cee0,_0x522c08=this[_0xa71aa4(0x155)][_0xa71aa4(0x158)](_0x4a4271);_0x2f8a65[_0xa71aa4(0x101)](typeof _0x522c08,_0x2f8a65[_0xa71aa4(0x171)])?this[_0xa71aa4(0x155)][_0xa71aa4(0x102)](_0x4a4271,helper[_0xa71aa4(0x145)](_0x522c08,_0x2416d1[_0xa71aa4(0x13e)][_0x4a4271])):this[_0xa71aa4(0x155)][_0xa71aa4(0x102)](_0x4a4271,_0x2416d1['capability'][_0x4a4271]);}),this;}[_0x53c875(0x14f)](){const _0x58a13e=_0x53c875,_0x2c8ac6={'GEAzK':function(_0xe7282f,_0x28532d,_0x5d5250){return _0x3f261a['itPAe'](_0xe7282f,_0x28532d,_0x5d5250);},'EeItT':function(_0x8491a9,_0x5090a0,_0x5ae004){const _0x198d1c=a34_0x5585;return _0x3f261a[_0x198d1c(0x152)](_0x8491a9,_0x5090a0,_0x5ae004);},'wzjSQ':function(_0x5d42b3,_0x27dbeb){const _0x2f0e56=a34_0x5585;return _0x3f261a[_0x2f0e56(0xf9)](_0x5d42b3,_0x27dbeb);}};if(helper[_0x58a13e(0x13b)]()){const _0x47ad51=_0x3f261a[_0x58a13e(0x14b)][_0x58a13e(0x104)]('|');let _0x39b490=0x0;while(!![]){switch(_0x47ad51[_0x39b490++]){case'0':if(helper[_0x58a13e(0x123)](_0x2416d1['proxySettings'][_0x58a13e(0x151)]))this[_0x58a13e(0x149)]=helper['getHttpAgent'](_0x2416d1[_0x58a13e(0x11a)][_0x58a13e(0x151)]);else _0x2416d1[_0x58a13e(0x11a)][_0x58a13e(0x151)]&&(this[_0x58a13e(0xfa)]=_0x2416d1['proxySettings']['proxyUrl'],logger[_0x58a13e(0x13a)](_0x58a13e(0x107)+this['proxy_']));continue;case'1':logger[_0x58a13e(0x13a)](_0x3f261a[_0x58a13e(0x156)]);continue;case'2':this[_0x58a13e(0x16e)]();continue;case'3':globals[_0x58a13e(0x14a)](_0x3f261a[_0x58a13e(0x11f)])&&(!_0x3f261a['jcCMd'](setExtension,this,_0x2416d1)&&globals[_0x58a13e(0x118)](_0x3f261a[_0x58a13e(0x11f)],![]));continue;case'4':this[_0x58a13e(0x11d)]();continue;case'5':_0x3f261a[_0x58a13e(0x172)](isAccessibilityAutomationSession)&&_0x3f261a['ABGqG'](setAccessibilityCapabilities,_0x2416d1);continue;}break;}}const _0xa0b8ef=super[_0x58a13e(0x14f)]();return _0xa0b8ef['session_'][_0x58a13e(0x159)](_0x13e559=>{const _0xebf0ca=_0x58a13e;try{const _0x2506c2=_0x13e559[_0xebf0ca(0x119)][_0xebf0ca(0x158)](_0x3f261a[_0xebf0ca(0x105)]);_0x2506c2?(logger['debug']('SETTING\x20NEW\x20URL\x20TO\x20OPTIMAL\x20URL\x20-\x20'+_0x2506c2),hubAllocator[_0xebf0ca(0x148)](_0x2506c2),helper[_0xebf0ca(0x11c)](_0x2506c2)):logger[_0xebf0ca(0x13a)](_0x3f261a[_0xebf0ca(0x15b)]);}catch(_0x53d008){logger[_0xebf0ca(0x13a)](_0xebf0ca(0x157)+_0x53d008);}}),_0xa0b8ef[_0x58a13e(0xff)]=0x0,_0xa0b8ef[_0x58a13e(0x159)]&&_0xa0b8ef[_0x58a13e(0x159)](_0x302c02=>{const _0x851748=_0x58a13e,_0x2e6f10={'mVsgj':function(_0x439579,_0x28c90e,_0x3d5776){const _0x4ee86e=a34_0x5585;return _0x2c8ac6[_0x4ee86e(0x129)](_0x439579,_0x28c90e,_0x3d5776);}};_0x2c8ac6['GEAzK'](overrideQuit,_0x302c02,_0xa0b8ef),_0x2c8ac6[_0x851748(0x124)](overrideTakeScreenshot,_0x302c02),helper[_0x851748(0x131)](_0x302c02,_0x2416d1),_0x2c8ac6[_0x851748(0x133)](overrideExecute,_0x302c02,_0x2416d1),_0x302c02[_0x851748(0x110)]=async()=>{const _0xe8bf28=_0x851748;return await _0x2c8ac6[_0xe8bf28(0x133)](getAccessibilityResultsSummary,_0x302c02,global);},_0x302c02['getAccessibilityResults']=async()=>{const _0x194f6e=_0x851748;return await _0x2e6f10[_0x194f6e(0x170)](getAccessibilityResults,_0x302c02,global);};}),_0xa0b8ef[_0x58a13e(0x110)]=async()=>{const _0x179557=_0x58a13e;return await _0x2c8ac6[_0x179557(0x133)](getAccessibilityResultsSummary,_0xa0b8ef,global);},_0xa0b8ef[_0x58a13e(0x144)]=async()=>{const _0x5a4ccd=_0x58a13e;return await _0x3f261a[_0x5a4ccd(0x12c)](getAccessibilityResults,_0xa0b8ef,global);},_0x3f261a['ABGqG'](overrideTakeScreenshot,_0xa0b8ef),_0x3f261a[_0x58a13e(0x160)](overrideQuit,_0xa0b8ef),helper[_0x58a13e(0x131)](_0xa0b8ef,_0x2416d1),_0x3f261a[_0x58a13e(0xfc)](overrideExecute,_0xa0b8ef,_0x2416d1),helper[_0x58a13e(0x15d)](global[_0x58a13e(0x16f)])&&(global[_0x58a13e(0x16f)]=[]),helper[_0x58a13e(0x15d)](global[_0x58a13e(0x116)])&&(global[_0x58a13e(0x116)]=[]),global[_0x58a13e(0x16f)][_0x58a13e(0x16c)](_0xa0b8ef),global['__driver']=_0xa0b8ef,_0x3f261a[_0x58a13e(0x120)](global[_0x58a13e(0x116)],undefined)&&global[_0x58a13e(0x116)]['push'](_0xa0b8ef),_0x2d8a9e&&helper[_0x58a13e(0x15d)](_0x2d8a9e[_0x58a13e(0x153)]['__driversArray'])&&(_0x2d8a9e[_0x58a13e(0x153)][_0x58a13e(0x16f)]=[]),_0x2d8a9e&&_0x3f261a[_0x58a13e(0x143)](_0x2d8a9e[_0x58a13e(0x153)][_0x58a13e(0x116)],undefined)&&(_0x2d8a9e[_0x58a13e(0x153)][_0x58a13e(0x116)][_0x58a13e(0x16c)](_0xa0b8ef),_0x2d8a9e[_0x58a13e(0x153)][_0x58a13e(0x16f)]['push'](_0xa0b8ef)),_0xa0b8ef;}}return _0x2e6589[_0x53c875(0x128)]=_0x2e6589[_0x53c875(0x13f)],_0x2e6589[_0x53c875(0x13f)]=_0x4d1be7,_0x1e0a60[_0x53c875(0x113)]=_0x43c469,_0x2e6589;};function a34_0x5585(_0x113373,_0x2ad682){const _0x793a3a=a34_0x793a();return a34_0x5585=function(_0x5585d1,_0x2f1cf3){_0x5585d1=_0x5585d1-0xf8;let _0x479b1d=_0x793a3a[_0x5585d1];return _0x479b1d;},a34_0x5585(_0x113373,_0x2ad682);}module['exports']['browserstackAgentObservability']=modify;