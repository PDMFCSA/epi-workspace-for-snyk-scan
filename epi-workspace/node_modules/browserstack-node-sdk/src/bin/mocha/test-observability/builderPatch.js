function a29_0x3197(){const _0x1f2186=['CFhkG','ZJliv','uZmWY','isAccessibilityPlatform','eMhcj','__drivers','chromeOptions','overrideGet','ieOptions_','originalBuilder','../../../helpers/helper','PQrRh','../../../helpers/patchHelpers','storeOptimalHubUrl','ztXfQ','New\x20hub\x20url\x20set\x20to\x20','getGlobal','__driver','SETTING\x20NEW\x20URL\x20TO\x20OPTIMAL\x20URL\x20-\x20','keys','FCNrT','131755KDQCaN','329WznQnv','SNtRP','global','../accessibility-automation/helper','252wVUOdK','adpYw','6zBHEJq','requireSeleniumWebdriver','set','maeJh','send','898606UAJSWW','1RngPFl','Hub\x20url\x20set\x20to\x20','ieOptions','UASWS','CAPABILITY_KEY','__driversArray','then','newHubUrl','setCapabilities','forEach','split','../../../helpers/globals','proxySettings','error','isPacProxy','getHubUrl','eTsKi','xFSiX','object','LBSQK','HttpClient','push','../../../helpers/accessibility-automation/helper','getAccessibilityResultsSummary','capabilities_','fXhEV','uESkz','GBaOe','quitCount_','KcyuO','1753180pexupy','CJxHi','firefoxOptions_','Proxy\x20set\x20to\x20','getRequestOptions','safariOptions_','get','4kbkgRj','getHttpAgent','agent_','Configuring\x20to\x20run\x20tests\x20on\x20BrowserStack','isUndefined','KcDVh','ISNRp','path','proxy_','chromeOptions_','optimalHubUrl','76696kyTpwR','UEccp','PMvlO','url_','ERROR\x20IN\x20GETTING\x20OPTIMAL\x20HUB\x20URL\x20-\x20','proxyUrl','mergeDeep','rlQxj','ms:edgeOptions','EWbOc','getAccessibilityResults','browserStackLogLevel','aZbcb','setLogLevel','isBrowserstackInfra','__setBrowserOptions','updateHubUrl','setGlobal','safari.options','edgeOptions_','/wd/hub','capability','setServer','Builder','1221264buqQOg','moz:firefoxOptions','10CNpBiK','build','326915nUXDzr','CCTZE','KdXtp','OxCSu','../../../hubAllocationMethods','firefoxOptions','Modifying\x20webdriver\x20builder','winstonLogger','requireHttpClient','session_','fzqbj','481695qsyARB','info','debug'];a29_0x3197=function(){return _0x1f2186;};return a29_0x3197();}function a29_0x1aef(_0x1a16cf,_0x168875){const _0x319706=a29_0x3197();return a29_0x1aef=function(_0x1aef3f,_0x1542f0){_0x1aef3f=_0x1aef3f-0xfe;let _0x82702d=_0x319706[_0x1aef3f];return _0x82702d;},a29_0x1aef(_0x1a16cf,_0x168875);}const a29_0x569240=a29_0x1aef;(function(_0x48045c,_0x5da582){const _0x188c3d=a29_0x1aef,_0x5cd06e=_0x48045c();while(!![]){try{const _0x991e2f=-parseInt(_0x188c3d(0x13b))/0x1*(-parseInt(_0x188c3d(0x13a))/0x2)+parseInt(_0x188c3d(0x116))/0x3*(-parseInt(_0x188c3d(0x160))/0x4)+parseInt(_0x188c3d(0x10b))/0x5*(parseInt(_0x188c3d(0x135))/0x6)+parseInt(_0x188c3d(0x12f))/0x7*(parseInt(_0x188c3d(0x16b))/0x8)+parseInt(_0x188c3d(0x107))/0x9+parseInt(_0x188c3d(0x109))/0xa*(-parseInt(_0x188c3d(0x159))/0xb)+parseInt(_0x188c3d(0x133))/0xc*(-parseInt(_0x188c3d(0x12e))/0xd);if(_0x991e2f===_0x5da582)break;else _0x5cd06e['push'](_0x5cd06e['shift']());}catch(_0xfb2904){_0x5cd06e['push'](_0x5cd06e['shift']());}}}(a29_0x3197,0x8ab7f));const logger=require('../../../helpers/logger')[a29_0x569240(0x112)],helper=require(a29_0x569240(0x123)),constants=require('../../../bin/utils/constants'),hubAllocator=require(a29_0x569240(0x10f)),{overrideQuit,overrideTakeScreenshot,overrideGet}=require(a29_0x569240(0x125)),{setAccessibilityCapabilities,setExtension}=require(a29_0x569240(0x132)),{isAccessibilityAutomationSession,getAccessibilityResultsSummary,getAccessibilityResults}=require(a29_0x569240(0x151)),globals=require(a29_0x569240(0x146)),{overrideExecute}=require('./helpers/patchHelper'),modify=(_0x22f170,_0x4ec654=null,_0x5c9ed9=![])=>{const _0x476a8e=a29_0x569240,_0x433c1c={'KdXtp':function(_0x26c971,_0x324479){return _0x26c971!==_0x324479;},'qKqat':'/session','CFhkG':function(_0x8646e4,_0x1ca755){return _0x8646e4+_0x1ca755;},'lbBbw':function(_0x2dea59,_0x32b4c8){return _0x2dea59+_0x32b4c8;},'maeJh':'https://','qHoCW':_0x476a8e(0x103),'LBSQK':'goog:chromeOptions','PMvlO':_0x476a8e(0x11f),'xFSiX':_0x476a8e(0x173),'TUPav':'edgeOptions','fzqbj':_0x476a8e(0x108),'KcDVh':_0x476a8e(0x110),'ztXfQ':_0x476a8e(0x101),'EWbOc':'se:ieOptions','KcyuO':_0x476a8e(0x13d),'fXhEV':function(_0x930c43,_0x51a8cb){return _0x930c43===_0x51a8cb;},'FzrOg':_0x476a8e(0x14d),'eMhcj':'Setting\x20Browserstack\x20capabilities','CJxHi':_0x476a8e(0x16a),'eTsKi':'OPTIMAL\x20HUB\x20URL\x20NOT\x20FOUND','UASWS':function(_0x3ea4d8,_0x40a353,_0x49a444){return _0x3ea4d8(_0x40a353,_0x49a444);},'SNtRP':function(_0x4ca493,_0x2489bf){return _0x4ca493(_0x2489bf);},'UEccp':function(_0x20b2fa,_0x5c87ab,_0x48b092){return _0x20b2fa(_0x5c87ab,_0x48b092);},'adpYw':'2|5|1|0|4|3','GBaOe':function(_0x14207d){return _0x14207d();},'OxCSu':'Running\x20your\x20test\x20suite\x20on\x20BrowserStack','FCNrT':_0x476a8e(0x11c),'iNBzx':function(_0x1554d1,_0x54edb0,_0x595343){return _0x1554d1(_0x54edb0,_0x595343);},'CCTZE':function(_0x309e94,_0x3bd793){return _0x309e94(_0x3bd793);},'aZbcb':function(_0x2cc5e6,_0x42ce24,_0x2933de){return _0x2cc5e6(_0x42ce24,_0x2933de);},'uESkz':function(_0x377e74,_0x3185b4){return _0x377e74!==_0x3185b4;},'rlQxj':_0x476a8e(0x163),'NgxKr':_0x476a8e(0x111)},_0x107ac2=helper[_0x476a8e(0x113)]();let _0x206f4d;try{_0x206f4d=helper[_0x476a8e(0x136)](),_0x206f4d['originalBuilder']&&(_0x206f4d['Builder']=_0x206f4d[_0x476a8e(0x122)]);}catch(_0x2779be){return;}if(helper[_0x476a8e(0x179)]()){const _0x1cc285={};_0x1cc285['logLevel']=_0x22f170[_0x476a8e(0x176)],helper[_0x476a8e(0x178)](_0x1cc285,new Map(),new Map()),logger[_0x476a8e(0x117)](_0x433c1c[_0x476a8e(0x172)]),logger['debug'](_0x433c1c['NgxKr']);}class _0x62ee6f extends _0x107ac2[_0x476a8e(0x14f)]{[_0x476a8e(0x139)](_0x566fbb){const _0x4218e4=_0x476a8e;if(_0x433c1c[_0x4218e4(0x10d)](_0x566fbb[_0x4218e4(0x167)],_0x433c1c['qKqat'])&&_0x433c1c['KdXtp'](global['newHubUrl'],''))try{global['newHubUrl']=_0x433c1c[_0x4218e4(0x119)](_0x433c1c['lbBbw'](_0x433c1c[_0x4218e4(0x138)],global[_0x4218e4(0x142)]),_0x433c1c['qHoCW']),this['options_']=hubAllocator[_0x4218e4(0x15d)](global['newHubUrl']),logger[_0x4218e4(0x118)](_0x4218e4(0x128)+global['newHubUrl']),global[_0x4218e4(0x142)]='';}catch(_0x589f5b){logger[_0x4218e4(0x148)](_0x589f5b);}return super[_0x4218e4(0x139)](_0x566fbb);}}class _0x5deafc extends _0x206f4d[_0x476a8e(0x106)]{[_0x476a8e(0x105)](){const _0x508679=_0x476a8e;return this[_0x508679(0x16e)]=helper[_0x508679(0x14a)](_0x22f170),logger[_0x508679(0x118)](_0x508679(0x13c)+this[_0x508679(0x16e)]),this;}[_0x476a8e(0xfe)](_0x5064c0){const _0x302eac=_0x476a8e;let _0x3fd6e6={};for(const _0x2ae464 in _0x5064c0){switch(_0x2ae464){case _0x433c1c[_0x302eac(0x14e)]:case _0x433c1c[_0x302eac(0x16d)]:this[_0x302eac(0x169)]&&(_0x3fd6e6=this[_0x302eac(0x169)][_0x302eac(0x15f)](this[_0x302eac(0x169)][_0x302eac(0x13f)])||{},this[_0x302eac(0x169)][_0x302eac(0x137)](this['chromeOptions_'][_0x302eac(0x13f)],helper[_0x302eac(0x171)](_0x3fd6e6,_0x5064c0[_0x2ae464])));break;case _0x433c1c[_0x302eac(0x14c)]:case _0x433c1c['TUPav']:this[_0x302eac(0x102)]&&(_0x3fd6e6=this[_0x302eac(0x102)][_0x302eac(0x15f)](this[_0x302eac(0x102)][_0x302eac(0x13f)])||{},this[_0x302eac(0x102)][_0x302eac(0x137)](this[_0x302eac(0x102)][_0x302eac(0x13f)],helper[_0x302eac(0x171)](_0x3fd6e6,_0x5064c0[_0x2ae464])));break;case _0x433c1c[_0x302eac(0x115)]:case _0x433c1c[_0x302eac(0x165)]:this['firefoxOptions_']&&(_0x3fd6e6=this['firefoxOptions_'][_0x302eac(0x15f)](this[_0x302eac(0x15b)][_0x302eac(0x13f)])||{},this[_0x302eac(0x15b)]['set'](this[_0x302eac(0x15b)][_0x302eac(0x13f)],helper[_0x302eac(0x171)](_0x3fd6e6,_0x5064c0[_0x2ae464])));break;case _0x433c1c[_0x302eac(0x127)]:this[_0x302eac(0x15e)]&&(_0x3fd6e6=this[_0x302eac(0x15e)][_0x302eac(0x15f)](this[_0x302eac(0x15e)][_0x302eac(0x13f)])||{},this['safariOptions_']['set'](this[_0x302eac(0x15e)][_0x302eac(0x13f)],helper[_0x302eac(0x171)](_0x3fd6e6,_0x5064c0[_0x2ae464])));break;case _0x433c1c[_0x302eac(0x174)]:case _0x433c1c[_0x302eac(0x158)]:this[_0x302eac(0x121)]&&(_0x3fd6e6=this[_0x302eac(0x121)][_0x302eac(0x15f)](this[_0x302eac(0x121)][_0x302eac(0x13f)])||{},this[_0x302eac(0x121)]['set'](this['ieOptions_'][_0x302eac(0x13f)],helper['mergeDeep'](_0x3fd6e6,_0x5064c0[_0x2ae464])));break;}}}[_0x476a8e(0x143)](){const _0x1dc7bb=_0x476a8e;return logger['debug'](_0x433c1c[_0x1dc7bb(0x11d)]),this['__setBrowserOptions'](_0x22f170[_0x1dc7bb(0x104)]),Object[_0x1dc7bb(0x12c)](_0x22f170['capability'])[_0x1dc7bb(0x144)](_0x35526a=>{const _0x3fff07=_0x1dc7bb,_0x58866c=this[_0x3fff07(0x153)][_0x3fff07(0x15f)](_0x35526a);_0x433c1c[_0x3fff07(0x154)](typeof _0x58866c,_0x433c1c['FzrOg'])?this['capabilities_'][_0x3fff07(0x137)](_0x35526a,helper[_0x3fff07(0x171)](_0x58866c,_0x22f170[_0x3fff07(0x104)][_0x35526a])):this[_0x3fff07(0x153)][_0x3fff07(0x137)](_0x35526a,_0x22f170[_0x3fff07(0x104)][_0x35526a]);}),this;}[_0x476a8e(0x10a)](){const _0x2305fc=_0x476a8e,_0x352ac7={'PQrRh':function(_0x176530,_0x5e6e1c,_0x35f6d9){const _0xd48ba7=a29_0x1aef;return _0x433c1c[_0xd48ba7(0x13e)](_0x176530,_0x5e6e1c,_0x35f6d9);},'ZJliv':function(_0x23227e,_0x5645c0){const _0x5d6df2=a29_0x1aef;return _0x433c1c[_0x5d6df2(0x130)](_0x23227e,_0x5645c0);},'uZmWY':function(_0x76bdbf,_0x174fbc,_0x2eda99){const _0x1a5043=a29_0x1aef;return _0x433c1c[_0x1a5043(0x13e)](_0x76bdbf,_0x174fbc,_0x2eda99);},'oUJSX':function(_0x433370,_0x189048,_0x2145a5){const _0x226c07=a29_0x1aef;return _0x433c1c[_0x226c07(0x16c)](_0x433370,_0x189048,_0x2145a5);}};if(helper['isBrowserstackInfra']()){const _0x197bae=_0x433c1c[_0x2305fc(0x134)][_0x2305fc(0x145)]('|');let _0x191929=0x0;while(!![]){switch(_0x197bae[_0x191929++]){case'0':if(helper[_0x2305fc(0x149)](_0x22f170['proxySettings']['proxyUrl']))this[_0x2305fc(0x162)]=helper[_0x2305fc(0x161)](_0x22f170['proxySettings'][_0x2305fc(0x170)]);else _0x22f170[_0x2305fc(0x147)][_0x2305fc(0x170)]&&(this[_0x2305fc(0x168)]=_0x22f170[_0x2305fc(0x147)][_0x2305fc(0x170)],logger[_0x2305fc(0x118)](_0x2305fc(0x15c)+this[_0x2305fc(0x168)]));continue;case'1':this['setCapabilities']();continue;case'2':_0x433c1c[_0x2305fc(0x156)](isAccessibilityAutomationSession)&&_0x433c1c[_0x2305fc(0x130)](setAccessibilityCapabilities,_0x22f170);continue;case'3':logger['debug'](_0x433c1c[_0x2305fc(0x10e)]);continue;case'4':globals[_0x2305fc(0x129)](_0x433c1c[_0x2305fc(0x12d)])&&(!_0x433c1c['iNBzx'](setExtension,this,_0x22f170)&&globals[_0x2305fc(0x100)](_0x433c1c[_0x2305fc(0x12d)],![]));continue;case'5':this[_0x2305fc(0x105)]();continue;}break;}}const _0x120ffd=super[_0x2305fc(0x10a)]();return _0x120ffd[_0x2305fc(0x114)][_0x2305fc(0x141)](_0x34015b=>{const _0x526c03=_0x2305fc;try{const _0x38c2fd=_0x34015b['caps_'][_0x526c03(0x15f)](_0x433c1c[_0x526c03(0x15a)]);_0x38c2fd?(logger[_0x526c03(0x118)](_0x526c03(0x12b)+_0x38c2fd),hubAllocator[_0x526c03(0xff)](_0x38c2fd),helper[_0x526c03(0x126)](_0x38c2fd)):logger[_0x526c03(0x118)](_0x433c1c[_0x526c03(0x14b)]);}catch(_0x45a6a5){logger[_0x526c03(0x118)](_0x526c03(0x16f)+_0x45a6a5);}}),_0x120ffd[_0x2305fc(0x157)]=0x0,_0x120ffd['then']&&_0x120ffd[_0x2305fc(0x141)](_0x33e8e0=>{const _0xd0fdcb=_0x2305fc,_0x2c32ef={'ISNRp':function(_0x436466,_0x32f6d0,_0x3d0ba4){const _0x4681d0=a29_0x1aef;return _0x352ac7[_0x4681d0(0x124)](_0x436466,_0x32f6d0,_0x3d0ba4);}};_0x352ac7[_0xd0fdcb(0x124)](overrideQuit,_0x33e8e0,_0x120ffd),_0x352ac7[_0xd0fdcb(0x11a)](overrideTakeScreenshot,_0x33e8e0),helper['overrideGet'](_0x33e8e0,_0x22f170),_0x352ac7[_0xd0fdcb(0x124)](overrideExecute,_0x33e8e0,_0x22f170),_0x33e8e0[_0xd0fdcb(0x152)]=async()=>{const _0x4df6a2=_0xd0fdcb;return await _0x352ac7[_0x4df6a2(0x124)](getAccessibilityResultsSummary,_0x33e8e0,global);},_0x33e8e0[_0xd0fdcb(0x175)]=async()=>{const _0x4f526e=_0xd0fdcb;return await _0x2c32ef[_0x4f526e(0x166)](getAccessibilityResults,_0x33e8e0,global);};}),_0x120ffd[_0x2305fc(0x152)]=async()=>{const _0x4bc567=_0x2305fc;return await _0x352ac7[_0x4bc567(0x11b)](getAccessibilityResultsSummary,_0x120ffd,global);},_0x120ffd[_0x2305fc(0x175)]=async()=>{return await _0x352ac7['oUJSX'](getAccessibilityResults,_0x120ffd,global);},_0x433c1c[_0x2305fc(0x130)](overrideTakeScreenshot,_0x120ffd),_0x433c1c[_0x2305fc(0x10c)](overrideQuit,_0x120ffd),helper[_0x2305fc(0x120)](_0x120ffd,_0x22f170),_0x433c1c[_0x2305fc(0x177)](overrideExecute,_0x120ffd,_0x22f170),helper[_0x2305fc(0x164)](global[_0x2305fc(0x140)])&&(global['__driversArray']=[]),helper[_0x2305fc(0x164)](global[_0x2305fc(0x11e)])&&(global[_0x2305fc(0x11e)]=[]),global[_0x2305fc(0x140)]['push'](_0x120ffd),global[_0x2305fc(0x12a)]=_0x120ffd,_0x433c1c[_0x2305fc(0x10d)](global[_0x2305fc(0x11e)],undefined)&&global[_0x2305fc(0x11e)][_0x2305fc(0x150)](_0x120ffd),_0x4ec654&&helper['isUndefined'](_0x4ec654['global'][_0x2305fc(0x140)])&&(_0x4ec654[_0x2305fc(0x131)]['__driversArray']=[]),_0x4ec654&&_0x433c1c[_0x2305fc(0x155)](_0x4ec654[_0x2305fc(0x131)][_0x2305fc(0x11e)],undefined)&&(_0x4ec654[_0x2305fc(0x131)][_0x2305fc(0x11e)][_0x2305fc(0x150)](_0x120ffd),_0x4ec654[_0x2305fc(0x131)][_0x2305fc(0x140)][_0x2305fc(0x150)](_0x120ffd)),_0x120ffd;}}return _0x206f4d[_0x476a8e(0x122)]=_0x206f4d[_0x476a8e(0x106)],_0x206f4d[_0x476a8e(0x106)]=_0x5deafc,_0x107ac2[_0x476a8e(0x14f)]=_0x62ee6f,_0x206f4d;};module['exports']['browserstackAgentObservability']=modify;