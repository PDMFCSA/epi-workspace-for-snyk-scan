function a31_0x2436(){const _0x4f8821=['filter','tMCRg','7427946hCmniB','split','6109360EDgecV','xvvLy','zSnVZ','forEach','js-','getHooksForTest','substring','LVyIO','failed','getCapabilities','elodS','passed','5487328cMvaRj','uuid','EdFRu','2423InupSz','pending','SKjZq','getPlatform','sendPlatformDetails','suites','_beforeAll','../../../helpers/test-observability/utils','markedStatus','getHookSkippedTests','__cloud_provider___','pid','LZOSk','414fYrISj','_afterAll','fKKMU','indexOf','platformVersion','_beforeEach','rYuDs','toJSON','jMxvl','NJGNK','wBMdi','3400xEqBJW','cybeq','3034944wQSefN','../../../helpers/test-observability/constants','yHwTa','concat','hookAnalyticsId','obmvW','aBNJe','get','ItsUL','slice','parent','../../utils/logPatcher','toISOString','SbhEq','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','Egnft','fromEntries','emit','BKDDJ','generic','uycSv','getTestEnv','UAVri','niDLX','state','browserstack','type','12609HFJYpR','fPsLQ','SMvoq','../../../../package.json','FRgVJ','hook:','yNzuL','TEST_PLATFORM','425964OJXIMe','hook','nKmkL','mapTestHooks','getBrowserVersion','getBrowserName','_afterEach','../../../helpers/testhub/utils'];a31_0x2436=function(){return _0x4f8821;};return a31_0x2436();}function a31_0x163d(_0x51a047,_0x5b03ea){const _0x24363b=a31_0x2436();return a31_0x163d=function(_0x163d42,_0x5271bf){_0x163d42=_0x163d42-0x1e3;let _0x586788=_0x24363b[_0x163d42];return _0x586788;},a31_0x163d(_0x51a047,_0x5b03ea);}const a31_0x2ed083=a31_0x163d;(function(_0x580f90,_0x1f662b){const _0x5d7bb0=a31_0x163d,_0x55313f=_0x580f90();while(!![]){try{const _0x1302c8=parseInt(_0x5d7bb0(0x20e))/0x1*(parseInt(_0x5d7bb0(0x21b))/0x2)+-parseInt(_0x5d7bb0(0x228))/0x3+-parseInt(_0x5d7bb0(0x1f3))/0x4+-parseInt(_0x5d7bb0(0x1ff))/0x5+parseInt(_0x5d7bb0(0x1fd))/0x6+parseInt(_0x5d7bb0(0x20b))/0x7+parseInt(_0x5d7bb0(0x226))/0x8*(parseInt(_0x5d7bb0(0x1eb))/0x9);if(_0x1302c8===_0x1f662b)break;else _0x55313f['push'](_0x55313f['shift']());}catch(_0x15ad04){_0x55313f['push'](_0x55313f['shift']());}}}(a31_0x2436,0xbe276));const {v4:uuidv4}=require(a31_0x2ed083(0x20c)),{name,version}=require(a31_0x2ed083(0x1ee)),logPatcher=require(a31_0x2ed083(0x233)),BSTestOpsPatcher=new logPatcher({}),{debug,isInternalHook,getObservabilityLinkedProductName}=require(a31_0x2ed083(0x215)),{consoleHolder}=require(a31_0x2ed083(0x229)),{getPlatformVersion}=require('../../../helpers/helper'),{shouldProcessEventForTesthub}=require(a31_0x2ed083(0x1fa)),{isFunction}=require('lodash'),{patchConsoleLogger}=require(a31_0x2ed083(0x215));patchConsoleLogger(),exports[a31_0x2ed083(0x1e5)]=()=>{const _0x506bd2=a31_0x2ed083,_0x57bc2d={'xvvLy':_0x506bd2(0x1e3),'UAVri':function(_0x34a044){return _0x34a044();}};return{'ci':_0x57bc2d[_0x506bd2(0x200)],'key':_0x57bc2d[_0x506bd2(0x1e6)](uuidv4),'version':version,'collector':_0x506bd2(0x203)+name};},exports['getHookDetails']=_0x23a1fc=>{const _0x45ddf0=a31_0x2ed083,_0x1d2b40={};_0x1d2b40[_0x45ddf0(0x227)]=function(_0x5802a4,_0xe6d5aa){return _0x5802a4!==_0xe6d5aa;},_0x1d2b40[_0x45ddf0(0x230)]='string',_0x1d2b40[_0x45ddf0(0x209)]=_0x45ddf0(0x1f0),_0x1d2b40[_0x45ddf0(0x22a)]=function(_0x3dd3b0,_0x2e5092){return _0x3dd3b0!==_0x2e5092;},_0x1d2b40[_0x45ddf0(0x1fc)]='hook';const _0x112165=_0x1d2b40;if(!_0x23a1fc||_0x112165[_0x45ddf0(0x227)](typeof _0x23a1fc,_0x112165[_0x45ddf0(0x230)]))return[null,null];if(_0x112165[_0x45ddf0(0x227)](_0x23a1fc[_0x45ddf0(0x21e)](_0x112165[_0x45ddf0(0x209)]),-0x1)){const _0x5d7cf3=_0x23a1fc[_0x45ddf0(0x1fe)](_0x112165[_0x45ddf0(0x209)]);return[_0x5d7cf3[0x0][_0x45ddf0(0x231)](0x0,-0x1)[_0x45ddf0(0x1fe)]('\x22')[0x1],_0x5d7cf3[0x1][_0x45ddf0(0x205)](0x1)];}else{if(_0x112165[_0x45ddf0(0x22a)](_0x23a1fc[_0x45ddf0(0x21e)](_0x112165['tMCRg']),-0x1)){const _0x2f9459=_0x23a1fc['split'](_0x112165[_0x45ddf0(0x1fc)]);return[_0x2f9459[0x0][_0x45ddf0(0x231)](0x0,-0x1)[_0x45ddf0(0x1fe)]('\x22')[0x1],_0x23a1fc];}}return[null,null];},exports[a31_0x2ed083(0x204)]=_0x29c915=>{const _0x22e18a=a31_0x2ed083,_0x15cb8c={'niDLX':function(_0x450073,_0x5da9b3){return _0x450073(_0x5da9b3);},'SKjZq':_0x22e18a(0x214),'jMxvl':_0x22e18a(0x21c),'PTuIK':_0x22e18a(0x220),'wBMdi':_0x22e18a(0x1f9)};if(!_0x29c915||!_0x29c915[_0x22e18a(0x232)])return[];const _0x2fcb29=[];return[_0x15cb8c[_0x22e18a(0x210)],_0x15cb8c[_0x22e18a(0x223)],_0x15cb8c['PTuIK'],_0x15cb8c[_0x22e18a(0x225)]][_0x22e18a(0x202)](_0x554df7=>{const _0x51bb49=_0x22e18a,_0x11178b=_0x29c915['parent'][_0x554df7]||[];_0x11178b[_0x51bb49(0x202)](_0x2a5729=>{const _0x4ceb43=_0x51bb49;_0x2a5729[_0x4ceb43(0x22c)]&&!_0x15cb8c[_0x4ceb43(0x1e7)](isInternalHook,_0x2a5729['fn'])&&_0x2fcb29['push'](_0x2a5729[_0x4ceb43(0x22c)]);});}),[..._0x2fcb29,...exports[_0x22e18a(0x204)](_0x29c915[_0x22e18a(0x232)])];},exports['mapTestHooks']=_0x3bfb5b=>{const _0x30b119=a31_0x2ed083,_0x1b249f={'zSnVZ':function(_0x3560f5){return _0x3560f5();},'CjLLN':function(_0x5b3b23,_0x444b90){return _0x5b3b23===_0x444b90;},'BKDDJ':_0x30b119(0x1f9),'fPsLQ':_0x30b119(0x214),'offYc':_0x30b119(0x21c),'rYuDs':_0x30b119(0x220)};if(!_0x3bfb5b||!_0x3bfb5b[_0x30b119(0x232)])return;[_0x1b249f[_0x30b119(0x1ec)],_0x1b249f['offYc'],_0x1b249f[_0x30b119(0x221)],_0x1b249f[_0x30b119(0x23a)]]['forEach'](_0x413394=>{const _0xf1b4a1=_0x30b119,_0xb5cbf3={'fKKMU':function(_0x34f04c){const _0x1052fa=a31_0x163d;return _0x1b249f[_0x1052fa(0x201)](_0x34f04c);},'LZOSk':function(_0x4152ff,_0x234216){return _0x1b249f['CjLLN'](_0x4152ff,_0x234216);},'FRgVJ':_0x1b249f[_0xf1b4a1(0x23a)]},_0x3e738f=_0x3bfb5b['parent'][_0x413394]||[];_0x3e738f[_0xf1b4a1(0x202)](_0x278d2b=>{const _0xdeaa46=_0xf1b4a1;if(!_0x278d2b['hookAnalyticsId'])_0x278d2b[_0xdeaa46(0x22c)]=_0xb5cbf3[_0xdeaa46(0x21d)](uuidv4);else _0x278d2b[_0xdeaa46(0x216)]&&_0xb5cbf3[_0xdeaa46(0x21a)](_0x413394,_0xb5cbf3[_0xdeaa46(0x1ef)])&&(_0x278d2b[_0xdeaa46(0x22c)]=_0xb5cbf3[_0xdeaa46(0x21d)](uuidv4),delete _0x278d2b[_0xdeaa46(0x216)]);});}),exports[_0x30b119(0x1f6)](_0x3bfb5b['parent']);},exports[a31_0x2ed083(0x212)]=async(_0x593529,_0x2f5b11)=>{const _0x4d96de=a31_0x2ed083,_0x42ad9a={'uycSv':function(_0x1f0e79){return _0x1f0e79();},'nKmkL':function(_0x5d9483,_0x1c7db8){return _0x5d9483(_0x1c7db8);},'SbhEq':_0x4d96de(0x21f),'bNaQg':function(_0x386e3b,_0x2eadcd){return _0x386e3b===_0x2eadcd;},'NJGNK':_0x4d96de(0x1e9),'yNzuL':'unknown_grid','obmvW':_0x4d96de(0x1f2),'rlZHR':function(_0xe18af4,_0x5e3c5c){return _0xe18af4(_0x5e3c5c);}};try{if(!_0x42ad9a[_0x4d96de(0x1e4)](shouldProcessEventForTesthub))return;const _0x3145df=await _0x593529[_0x4d96de(0x208)](),_0x49bb6b=await _0x593529['getSession'](),_0x30906a={},_0x35e725=Object[_0x4d96de(0x238)](_0x49bb6b[_0x4d96de(0x208)]()['map_']),_0x590908={'product':_0x42ad9a['nKmkL'](getObservabilityLinkedProductName,_0x35e725),'capabilities':_0x35e725,'platform':_0x3145df[_0x4d96de(0x211)](),'platform_version':_0x3145df[_0x4d96de(0x22f)](_0x42ad9a[_0x4d96de(0x235)])?_0x3145df['get'](_0x42ad9a[_0x4d96de(0x235)]):_0x42ad9a[_0x4d96de(0x1f5)](getPlatformVersion,_0x42ad9a['bNaQg'](global[_0x4d96de(0x218)],_0x42ad9a[_0x4d96de(0x224)])),'browser':_0x3145df[_0x4d96de(0x1f8)](),'browser_version':_0x3145df[_0x4d96de(0x1f7)](),'session_id':_0x49bb6b[_0x4d96de(0x222)]()};global[_0x4d96de(0x218)]?_0x30906a[global['__cloud_provider___']]=_0x590908:_0x30906a[_0x42ad9a[_0x4d96de(0x1f1)]]=_0x590908,process[_0x4d96de(0x239)]('bs:addPlatformDetails:'+process[_0x4d96de(0x219)],{'timestamp':new Date()[_0x4d96de(0x234)](),'level':null,'message':null,'kind':_0x42ad9a[_0x4d96de(0x22d)],'http_response':_0x30906a,'uuid':_0x2f5b11});}catch(_0x5dee6a){_0x42ad9a['rlZHR'](debug,_0x4d96de(0x236)+_0x5dee6a);}},exports[a31_0x2ed083(0x217)]=_0x4190a0=>{const _0x2d3de5=a31_0x2ed083,_0x2b5775={};_0x2b5775[_0x2d3de5(0x206)]=function(_0x3b0b53,_0x51903d){return _0x3b0b53!==_0x51903d;},_0x2b5775[_0x2d3de5(0x20d)]=_0x2d3de5(0x1f4),_0x2b5775[_0x2d3de5(0x1ed)]=function(_0x329a7d,_0xf7608){return _0x329a7d!==_0xf7608;},_0x2b5775['Egnft']=_0x2d3de5(0x20a),_0x2b5775[_0x2d3de5(0x22e)]=_0x2d3de5(0x207);const _0x1313cf=_0x2b5775,_0x246a38=_0x4190a0[_0x2d3de5(0x213)]['reduce']((_0x2f0b66,_0x3f5e4f)=>{const _0x561f2e=_0x2d3de5,_0x576e72=exports[_0x561f2e(0x217)](_0x3f5e4f);return _0x576e72&&(_0x2f0b66=_0x2f0b66[_0x561f2e(0x22b)](_0x576e72)),_0x2f0b66;},[]),_0x38003b=_0x4190a0['tests'][_0x2d3de5(0x1fb)](_0x8b7126=>{const _0x439772=_0x2d3de5,_0x5103a1=_0x1313cf[_0x439772(0x206)](_0x8b7126[_0x439772(0x1ea)],_0x1313cf['EdFRu'])&&!_0x8b7126[_0x439772(0x216)]&&_0x1313cf[_0x439772(0x1ed)](_0x8b7126[_0x439772(0x1e8)],_0x1313cf[_0x439772(0x237)])&&_0x1313cf[_0x439772(0x206)](_0x8b7126[_0x439772(0x1e8)],_0x1313cf[_0x439772(0x22e)])&&!_0x8b7126[_0x439772(0x20f)];return _0x5103a1;});return _0x38003b[_0x2d3de5(0x22b)](_0x246a38);};