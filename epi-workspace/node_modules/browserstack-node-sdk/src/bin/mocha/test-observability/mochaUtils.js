const a35_0x227bfe=a35_0xcfa9;(function(_0x41b25e,_0x1d9751){const _0x2b5092=a35_0xcfa9,_0x26e323=_0x41b25e();while(!![]){try{const _0x2d7740=-parseInt(_0x2b5092(0x198))/0x1+-parseInt(_0x2b5092(0x1a6))/0x2*(parseInt(_0x2b5092(0x1d9))/0x3)+-parseInt(_0x2b5092(0x1c0))/0x4+parseInt(_0x2b5092(0x1d8))/0x5*(parseInt(_0x2b5092(0x1da))/0x6)+parseInt(_0x2b5092(0x1d2))/0x7*(parseInt(_0x2b5092(0x1c5))/0x8)+-parseInt(_0x2b5092(0x1b9))/0x9+parseInt(_0x2b5092(0x1d5))/0xa;if(_0x2d7740===_0x1d9751)break;else _0x26e323['push'](_0x26e323['shift']());}catch(_0x17f845){_0x26e323['push'](_0x26e323['shift']());}}}(a35_0x28c0,0x3c990));const {v4:uuidv4}=require('uuid'),{name,version}=require(a35_0x227bfe(0x19e)),logPatcher=require(a35_0x227bfe(0x1bb)),BSTestOpsPatcher=new logPatcher({}),{debug,isInternalHook,getObservabilityLinkedProductName}=require(a35_0x227bfe(0x1af)),{consoleHolder}=require('../../../helpers/test-observability/constants'),{getPlatformVersion}=require('../../../helpers/helper'),{shouldProcessEventForTesthub}=require(a35_0x227bfe(0x197)),{isFunction}=require(a35_0x227bfe(0x1be)),{patchConsoleLogger}=require(a35_0x227bfe(0x1af));function a35_0xcfa9(_0x19592f,_0x33c7a6){const _0x28c0ec=a35_0x28c0();return a35_0xcfa9=function(_0xcfa9b0,_0x5c3d57){_0xcfa9b0=_0xcfa9b0-0x191;let _0x1d1538=_0x28c0ec[_0xcfa9b0];return _0x1d1538;},a35_0xcfa9(_0x19592f,_0x33c7a6);}function a35_0x28c0(){const _0x5487cc=['_afterEach','generic','forEach','filter','xcOnw','UOUtU','fromEntries','4362237IWdCYJ','platformVersion','../../utils/logPatcher','NmPfu','reduce','lodash','mEquz','42924fGABWR','IVDGb','parent','QdGzF','passed','32lIXrgZ','_beforeEach','mapTestHooks','getHookDetails','get','IbpnG','IFSoT','rddDn','tIoSE','toJSON','__cloud_provider___','Uknyh','cBRnK','38297dHfaZN','hAGjL','sendPlatformDetails','6886660LsDvZW','VGEuV','eNCKv','956945WIrhxm','12VyOeiN','6LTzYzC','getTestEnv','hook','getHookSkippedTests','pid','Mftva','LPidA','MupVV','AGRdP','OUCrn','getHooksForTest','JMRte','concat','hookAnalyticsId','split','markedStatus','../../../helpers/testhub/utils','158303asgLdN','TEST_PLATFORM','tests','push','unknown_grid','getSession','../../../../package.json','state','mZUdL','slice','toISOString','oNWVq','failed','emit','2RnAIgE','_afterAll','ghwEW','getBrowserName','niiUf','WhQmX','indexOf','suites','getCapabilities','../../../helpers/test-observability/utils','substring','qIkVI'];a35_0x28c0=function(){return _0x5487cc;};return a35_0x28c0();}patchConsoleLogger(),exports[a35_0x227bfe(0x1db)]=()=>{const _0x37bb8f=a35_0x227bfe,_0x2a179e={'WhQmX':_0x37bb8f(0x1b3),'cxRhp':function(_0x517f6c){return _0x517f6c();}};return{'ci':_0x2a179e[_0x37bb8f(0x1ab)],'key':_0x2a179e['cxRhp'](uuidv4),'version':version,'collector':'js-'+name};},exports[a35_0x227bfe(0x1c8)]=_0x3a1520=>{const _0x3c3a5b=a35_0x227bfe,_0x3d0e9d={};_0x3d0e9d[_0x3c3a5b(0x1c3)]=function(_0x360da2,_0x6bf88f){return _0x360da2!==_0x6bf88f;},_0x3d0e9d[_0x3c3a5b(0x1ca)]='string',_0x3d0e9d[_0x3c3a5b(0x1e1)]=function(_0x5a335a,_0x5e0423){return _0x5a335a!==_0x5e0423;},_0x3d0e9d[_0x3c3a5b(0x1a0)]='hook:',_0x3d0e9d[_0x3c3a5b(0x1cb)]=function(_0x5649ed,_0x4788ac){return _0x5649ed!==_0x4788ac;},_0x3d0e9d[_0x3c3a5b(0x1cd)]=_0x3c3a5b(0x1dc);const _0x1af1ff=_0x3d0e9d;if(!_0x3a1520||_0x1af1ff[_0x3c3a5b(0x1c3)](typeof _0x3a1520,_0x1af1ff[_0x3c3a5b(0x1ca)]))return[null,null];if(_0x1af1ff[_0x3c3a5b(0x1e1)](_0x3a1520[_0x3c3a5b(0x1ac)](_0x1af1ff[_0x3c3a5b(0x1a0)]),-0x1)){const _0xa8dc76=_0x3a1520[_0x3c3a5b(0x195)](_0x1af1ff[_0x3c3a5b(0x1a0)]);return[_0xa8dc76[0x0][_0x3c3a5b(0x1a1)](0x0,-0x1)[_0x3c3a5b(0x195)]('\x22')[0x1],_0xa8dc76[0x1][_0x3c3a5b(0x1b0)](0x1)];}else{if(_0x1af1ff[_0x3c3a5b(0x1cb)](_0x3a1520['indexOf'](_0x1af1ff[_0x3c3a5b(0x1cd)]),-0x1)){const _0x161efe=_0x3a1520[_0x3c3a5b(0x195)](_0x1af1ff[_0x3c3a5b(0x1cd)]);return[_0x161efe[0x0][_0x3c3a5b(0x1a1)](0x0,-0x1)[_0x3c3a5b(0x195)]('\x22')[0x1],_0x3a1520];}}return[null,null];},exports[a35_0x227bfe(0x191)]=_0x223cf7=>{const _0x5acabc=a35_0x227bfe,_0x2ce7f1={'niiUf':function(_0x22acee,_0x13af45){return _0x22acee(_0x13af45);},'ghwEW':'_beforeAll','JMRte':_0x5acabc(0x1a7),'UOUtU':'_beforeEach','VGEuV':_0x5acabc(0x1b2)};if(!_0x223cf7||!_0x223cf7['parent'])return[];const _0x461903=[];return[_0x2ce7f1[_0x5acabc(0x1a8)],_0x2ce7f1[_0x5acabc(0x192)],_0x2ce7f1[_0x5acabc(0x1b7)],_0x2ce7f1[_0x5acabc(0x1d6)]]['forEach'](_0x2f22a5=>{const _0xcd9a39=_0x5acabc,_0x10bf93={'xcOnw':function(_0x39ff71,_0x14cc2b){const _0x1d8e8a=a35_0xcfa9;return _0x2ce7f1[_0x1d8e8a(0x1aa)](_0x39ff71,_0x14cc2b);}},_0x462142=_0x223cf7[_0xcd9a39(0x1c2)][_0x2f22a5]||[];_0x462142[_0xcd9a39(0x1b4)](_0x4201f0=>{const _0xe3cd0b=_0xcd9a39;_0x4201f0[_0xe3cd0b(0x194)]&&!_0x10bf93[_0xe3cd0b(0x1b6)](isInternalHook,_0x4201f0['fn'])&&_0x461903[_0xe3cd0b(0x19b)](_0x4201f0[_0xe3cd0b(0x194)]);});}),[..._0x461903,...exports[_0x5acabc(0x191)](_0x223cf7[_0x5acabc(0x1c2)])];},exports[a35_0x227bfe(0x1c7)]=_0x59d78a=>{const _0x40f1af=a35_0x227bfe,_0x5bc8e8={'NmPfu':function(_0x505f7e){return _0x505f7e();},'yFWjU':function(_0x8514db,_0x3c5505){return _0x8514db===_0x3c5505;},'yaouy':_0x40f1af(0x1b2),'wpnOg':'_beforeAll','xfHdu':_0x40f1af(0x1a7),'HLWdt':_0x40f1af(0x1c6)};if(!_0x59d78a||!_0x59d78a[_0x40f1af(0x1c2)])return;[_0x5bc8e8['wpnOg'],_0x5bc8e8['xfHdu'],_0x5bc8e8['HLWdt'],_0x5bc8e8['yaouy']][_0x40f1af(0x1b4)](_0x4f5f3a=>{const _0x1e7c83=_0x40f1af,_0x4e7dc4={'IVDGb':function(_0x27cf8d){const _0x690a20=a35_0xcfa9;return _0x5bc8e8[_0x690a20(0x1bc)](_0x27cf8d);},'NCkLk':function(_0xb48e0e,_0x17edd8){return _0x5bc8e8['yFWjU'](_0xb48e0e,_0x17edd8);},'HVZaX':_0x5bc8e8['yaouy']},_0x1d61b4=_0x59d78a[_0x1e7c83(0x1c2)][_0x4f5f3a]||[];_0x1d61b4['forEach'](_0x4cb0ad=>{const _0x3bf40d=_0x1e7c83;if(!_0x4cb0ad[_0x3bf40d(0x194)])_0x4cb0ad[_0x3bf40d(0x194)]=_0x4e7dc4['IVDGb'](uuidv4);else _0x4cb0ad[_0x3bf40d(0x196)]&&_0x4e7dc4['NCkLk'](_0x4f5f3a,_0x4e7dc4['HVZaX'])&&(_0x4cb0ad[_0x3bf40d(0x194)]=_0x4e7dc4[_0x3bf40d(0x1c1)](uuidv4),delete _0x4cb0ad[_0x3bf40d(0x196)]);});}),exports['mapTestHooks'](_0x59d78a[_0x40f1af(0x1c2)]);},exports[a35_0x227bfe(0x1d4)]=async(_0x2e7b2a,_0x5a24f2)=>{const _0x14a0bb=a35_0x227bfe,_0x1b61bb={'cBRnK':function(_0x233af3){return _0x233af3();},'hAGjL':function(_0x57157a,_0x303abf){return _0x57157a(_0x303abf);},'AGRdP':_0x14a0bb(0x1ba),'JuTBk':function(_0x202ec0,_0x546b8f){return _0x202ec0(_0x546b8f);},'oNWVq':function(_0x3a6927,_0x218c81){return _0x3a6927===_0x218c81;},'eNCKv':'browserstack','ibAzw':_0x14a0bb(0x19c),'Uknyh':_0x14a0bb(0x199)};try{if(!_0x1b61bb[_0x14a0bb(0x1d1)](shouldProcessEventForTesthub))return;const _0x326a3d=await _0x2e7b2a[_0x14a0bb(0x1ae)](),_0x740d30=await _0x2e7b2a[_0x14a0bb(0x19d)](),_0x2e8e05={},_0x242d3c=Object[_0x14a0bb(0x1b8)](_0x740d30[_0x14a0bb(0x1ae)]()['map_']),_0x2a55a5={'product':_0x1b61bb[_0x14a0bb(0x1d3)](getObservabilityLinkedProductName,_0x242d3c),'capabilities':_0x242d3c,'platform':_0x326a3d['getPlatform'](),'platform_version':_0x326a3d['get'](_0x1b61bb[_0x14a0bb(0x1e2)])?_0x326a3d[_0x14a0bb(0x1c9)](_0x1b61bb['AGRdP']):_0x1b61bb['JuTBk'](getPlatformVersion,_0x1b61bb[_0x14a0bb(0x1a3)](global[_0x14a0bb(0x1cf)],_0x1b61bb[_0x14a0bb(0x1d7)])),'browser':_0x326a3d[_0x14a0bb(0x1a9)](),'browser_version':_0x326a3d['getBrowserVersion'](),'session_id':_0x740d30[_0x14a0bb(0x1ce)]()};global[_0x14a0bb(0x1cf)]?_0x2e8e05[global[_0x14a0bb(0x1cf)]]=_0x2a55a5:_0x2e8e05[_0x1b61bb['ibAzw']]=_0x2a55a5,process[_0x14a0bb(0x1a5)]('bs:addPlatformDetails:'+process[_0x14a0bb(0x1de)],{'timestamp':new Date()[_0x14a0bb(0x1a2)](),'level':null,'message':null,'kind':_0x1b61bb[_0x14a0bb(0x1d0)],'http_response':_0x2e8e05,'uuid':_0x5a24f2});}catch(_0x376e07){_0x1b61bb['JuTBk'](debug,'Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20'+_0x376e07);}},exports[a35_0x227bfe(0x1dd)]=_0x11d283=>{const _0x37adc3=a35_0x227bfe,_0x27025f={};_0x27025f['mEquz']=function(_0x186fa1,_0x1d2e27){return _0x186fa1!==_0x1d2e27;},_0x27025f[_0x37adc3(0x1df)]=_0x37adc3(0x1dc),_0x27025f[_0x37adc3(0x1e3)]=function(_0x5ef859,_0x322e28){return _0x5ef859!==_0x322e28;},_0x27025f[_0x37adc3(0x1b1)]=_0x37adc3(0x1c4),_0x27025f[_0x37adc3(0x1e0)]=function(_0x306800,_0xa74c28){return _0x306800!==_0xa74c28;},_0x27025f[_0x37adc3(0x1cc)]=_0x37adc3(0x1a4);const _0x53c30f=_0x27025f,_0x818bf0=_0x11d283[_0x37adc3(0x1ad)][_0x37adc3(0x1bd)]((_0x1c8177,_0x238c6c)=>{const _0x15ee77=_0x37adc3,_0x1e2a96=exports['getHookSkippedTests'](_0x238c6c);return _0x1e2a96&&(_0x1c8177=_0x1c8177[_0x15ee77(0x193)](_0x1e2a96)),_0x1c8177;},[]),_0x151cfc=_0x11d283[_0x37adc3(0x19a)][_0x37adc3(0x1b5)](_0xaeb784=>{const _0x2456f9=_0x37adc3,_0x21d4a9=_0x53c30f[_0x2456f9(0x1bf)](_0xaeb784['type'],_0x53c30f[_0x2456f9(0x1df)])&&!_0xaeb784['markedStatus']&&_0x53c30f[_0x2456f9(0x1e3)](_0xaeb784['state'],_0x53c30f[_0x2456f9(0x1b1)])&&_0x53c30f[_0x2456f9(0x1e0)](_0xaeb784[_0x2456f9(0x19f)],_0x53c30f['rddDn'])&&!_0xaeb784['pending'];return _0x21d4a9;});return _0x151cfc[_0x37adc3(0x193)](_0x818bf0);};