const a31_0x41678f=a31_0xbf0c;function a31_0x1126(){const _0x430e6b=['rSggW','unknown_grid','pVSQd','zeJdE','reduce','HQUQL','llwFR','state','189ufgHrW','getBrowserName','xADHR','get','string','RfAnG','13298552kyfiVt','_beforeAll','1326232LWotpV','tests','getCapabilities','../../../helpers/testhub/utils','HkLzx','markedStatus','fVukA','GcazY','sendPlatformDetails','parent','getHooksForTest','../../utils/logPatcher','generic','xTVfz','VLsTv','pIYTN','bpCQJ','pid','exiJa','../../../helpers/helper','UTfef','GqNeA','HaAOW','aNejN','concat','jplFl','qeVML','oYRkq','_afterEach','fromEntries','12tsRvgy','_beforeEach','22326qdeWvG','497410AHkEgs','getPlatform','HjqRr','substring','hookAnalyticsId','type','dNGOW','toJSON','../../../helpers/test-observability/utils','../../../../package.json','107912QdXzJf','getTestEnv','suites','hook:','seTSC','975sMvLZD','_afterAll','indexOf','slice','forEach','1152726ueqyuo','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','mapTestHooks','qcDvv','split','YyMjm','getSession','11620441gZflLh','getBrowserVersion','../../../helpers/test-observability/constants','__cloud_provider___','BBdKh','TEST_PLATFORM','browserstack','hook','KIORm','YYAGN'];a31_0x1126=function(){return _0x430e6b;};return a31_0x1126();}(function(_0x2e5682,_0x1447e1){const _0x5c6aa1=a31_0xbf0c,_0xba3dc5=_0x2e5682();while(!![]){try{const _0x488ec8=-parseInt(_0x5c6aa1(0x1e1))/0x1+-parseInt(_0x5c6aa1(0x1eb))/0x2+-parseInt(_0x5c6aa1(0x1d4))/0x3*(-parseInt(_0x5c6aa1(0x1b6))/0x4)+parseInt(_0x5c6aa1(0x1e6))/0x5*(-parseInt(_0x5c6aa1(0x1d6))/0x6)+parseInt(_0x5c6aa1(0x1f2))/0x7+-parseInt(_0x5c6aa1(0x1b4))/0x8+-parseInt(_0x5c6aa1(0x1ae))/0x9*(-parseInt(_0x5c6aa1(0x1d7))/0xa);if(_0x488ec8===_0x1447e1)break;else _0xba3dc5['push'](_0xba3dc5['shift']());}catch(_0x133186){_0xba3dc5['push'](_0xba3dc5['shift']());}}}(a31_0x1126,0xea0cb));const {v4:uuidv4}=require('uuid'),{name,version}=require(a31_0x41678f(0x1e0)),logPatcher=require(a31_0x41678f(0x1c1)),BSTestOpsPatcher=new logPatcher({}),{debug,isInternalHook,getObservabilityLinkedProductName}=require(a31_0x41678f(0x1df)),{consoleHolder}=require(a31_0x41678f(0x1f4)),{getPlatformVersion}=require(a31_0x41678f(0x1c9)),{shouldProcessEventForTesthub}=require(a31_0x41678f(0x1b9)),{isFunction}=require('lodash'),{patchConsoleLogger}=require(a31_0x41678f(0x1df));function a31_0xbf0c(_0x5638c2,_0x4a97be){const _0x112600=a31_0x1126();return a31_0xbf0c=function(_0xbf0cd9,_0x52b059){_0xbf0cd9=_0xbf0cd9-0x1a8;let _0x17fc55=_0x112600[_0xbf0cd9];return _0x17fc55;},a31_0xbf0c(_0x5638c2,_0x4a97be);}patchConsoleLogger(),exports[a31_0x41678f(0x1e2)]=()=>{const _0x33b4f7=a31_0x41678f,_0x2f2f43={'UTfef':_0x33b4f7(0x1c2),'HkLzx':function(_0x5b341d){return _0x5b341d();}};return{'ci':_0x2f2f43[_0x33b4f7(0x1ca)],'key':_0x2f2f43[_0x33b4f7(0x1ba)](uuidv4),'version':version,'collector':'js-'+name};},exports['getHookDetails']=_0x249762=>{const _0x50cc38=a31_0x41678f,_0x1183bc={};_0x1183bc[_0x50cc38(0x1b3)]=function(_0x2b8a4b,_0xf61b82){return _0x2b8a4b!==_0xf61b82;},_0x1183bc[_0x50cc38(0x1fa)]=_0x50cc38(0x1b2),_0x1183bc[_0x50cc38(0x1cb)]=_0x50cc38(0x1e4),_0x1183bc[_0x50cc38(0x1dd)]=function(_0x20382f,_0x54cea2){return _0x20382f!==_0x54cea2;},_0x1183bc[_0x50cc38(0x1c5)]=_0x50cc38(0x1f9);const _0x1310c9=_0x1183bc;if(!_0x249762||_0x1310c9[_0x50cc38(0x1b3)](typeof _0x249762,_0x1310c9[_0x50cc38(0x1fa)]))return[null,null];if(_0x1310c9['RfAnG'](_0x249762[_0x50cc38(0x1e8)](_0x1310c9[_0x50cc38(0x1cb)]),-0x1)){const _0x5a4548=_0x249762['split'](_0x1310c9['GqNeA']);return[_0x5a4548[0x0][_0x50cc38(0x1e9)](0x0,-0x1)[_0x50cc38(0x1ef)]('\x22')[0x1],_0x5a4548[0x1][_0x50cc38(0x1da)](0x1)];}else{if(_0x1310c9['dNGOW'](_0x249762[_0x50cc38(0x1e8)](_0x1310c9['pIYTN']),-0x1)){const _0x12205f=_0x249762[_0x50cc38(0x1ef)](_0x1310c9[_0x50cc38(0x1c5)]);return[_0x12205f[0x0]['slice'](0x0,-0x1)[_0x50cc38(0x1ef)]('\x22')[0x1],_0x249762];}}return[null,null];},exports['getHooksForTest']=_0x55a2b8=>{const _0x3030b6=a31_0x41678f,_0x46b4bc={'llwFR':function(_0x30a550,_0x2c9533){return _0x30a550(_0x2c9533);},'qeVML':'_beforeAll','jplFl':'_afterAll','VLsTv':'_beforeEach','oYRkq':_0x3030b6(0x1d2)};if(!_0x55a2b8||!_0x55a2b8[_0x3030b6(0x1bf)])return[];const _0x29f3b9=[];return[_0x46b4bc[_0x3030b6(0x1d0)],_0x46b4bc[_0x3030b6(0x1cf)],_0x46b4bc[_0x3030b6(0x1c4)],_0x46b4bc[_0x3030b6(0x1d1)]][_0x3030b6(0x1ea)](_0x4b6faa=>{const _0x30ce8b=_0x3030b6,_0x3dcfd8={'seTSC':function(_0x431d6f,_0x553d01){const _0x36ed44=a31_0xbf0c;return _0x46b4bc[_0x36ed44(0x1ac)](_0x431d6f,_0x553d01);}},_0xc6b373=_0x55a2b8[_0x30ce8b(0x1bf)][_0x4b6faa]||[];_0xc6b373['forEach'](_0x104e55=>{const _0x10942a=_0x30ce8b;_0x104e55['hookAnalyticsId']&&!_0x3dcfd8[_0x10942a(0x1e5)](isInternalHook,_0x104e55['fn'])&&_0x29f3b9['push'](_0x104e55[_0x10942a(0x1db)]);});}),[..._0x29f3b9,...exports[_0x3030b6(0x1c0)](_0x55a2b8[_0x3030b6(0x1bf)])];},exports[a31_0x41678f(0x1ed)]=_0x670f17=>{const _0x212528=a31_0x41678f,_0x1f1b94={'exiJa':function(_0x39d612){return _0x39d612();},'HaAOW':function(_0x196a61,_0x4510f4){return _0x196a61===_0x4510f4;},'GcazY':_0x212528(0x1d2),'rSggW':function(_0x3248da){return _0x3248da();},'HQUQL':_0x212528(0x1b5),'svgtC':_0x212528(0x1e7),'QLAvp':_0x212528(0x1d5)};if(!_0x670f17||!_0x670f17[_0x212528(0x1bf)])return;[_0x1f1b94[_0x212528(0x1ab)],_0x1f1b94['svgtC'],_0x1f1b94['QLAvp'],_0x1f1b94[_0x212528(0x1bd)]][_0x212528(0x1ea)](_0x44da61=>{const _0x58430a=_0x212528,_0x45202f={'IStEE':function(_0x2985cd){const _0x3a3ca3=a31_0xbf0c;return _0x1f1b94[_0x3a3ca3(0x1c8)](_0x2985cd);},'Jthgs':function(_0x2bcdee,_0x25c017){const _0xbcfe5e=a31_0xbf0c;return _0x1f1b94[_0xbcfe5e(0x1cc)](_0x2bcdee,_0x25c017);},'ujjJw':_0x1f1b94['GcazY'],'BBdKh':function(_0x45b824){const _0x1e2d58=a31_0xbf0c;return _0x1f1b94[_0x1e2d58(0x1fc)](_0x45b824);}},_0x540b54=_0x670f17[_0x58430a(0x1bf)][_0x44da61]||[];_0x540b54['forEach'](_0x476ed1=>{const _0x523880=_0x58430a;if(!_0x476ed1[_0x523880(0x1db)])_0x476ed1['hookAnalyticsId']=_0x45202f['IStEE'](uuidv4);else _0x476ed1[_0x523880(0x1bb)]&&_0x45202f['Jthgs'](_0x44da61,_0x45202f['ujjJw'])&&(_0x476ed1['hookAnalyticsId']=_0x45202f[_0x523880(0x1f6)](uuidv4),delete _0x476ed1[_0x523880(0x1bb)]);});}),exports[_0x212528(0x1ed)](_0x670f17[_0x212528(0x1bf)]);},exports[a31_0x41678f(0x1be)]=async(_0x3f599c,_0x4ce052)=>{const _0x511f3f=a31_0x41678f,_0x2e08f0={'zznCB':function(_0x3bd175){return _0x3bd175();},'aNejN':function(_0x1fff33,_0x1d4a1d){return _0x1fff33(_0x1d4a1d);},'HjqRr':'platformVersion','xTVfz':function(_0x4ab5fa,_0x5a06e3){return _0x4ab5fa===_0x5a06e3;},'pVSQd':_0x511f3f(0x1f8),'YyMjm':_0x511f3f(0x1fd),'YYAGN':_0x511f3f(0x1f7)};try{if(!_0x2e08f0['zznCB'](shouldProcessEventForTesthub))return;const _0x122e75=await _0x3f599c[_0x511f3f(0x1b8)](),_0x29011f=await _0x3f599c[_0x511f3f(0x1f1)](),_0x14b321={},_0x477c67=Object[_0x511f3f(0x1d3)](_0x29011f['getCapabilities']()['map_']),_0x4d0bb8={'product':_0x2e08f0['aNejN'](getObservabilityLinkedProductName,_0x477c67),'capabilities':_0x477c67,'platform':_0x122e75[_0x511f3f(0x1d8)](),'platform_version':_0x122e75[_0x511f3f(0x1b1)](_0x2e08f0[_0x511f3f(0x1d9)])?_0x122e75[_0x511f3f(0x1b1)](_0x2e08f0['HjqRr']):_0x2e08f0[_0x511f3f(0x1cd)](getPlatformVersion,_0x2e08f0[_0x511f3f(0x1c3)](global[_0x511f3f(0x1f5)],_0x2e08f0[_0x511f3f(0x1a8)])),'browser':_0x122e75[_0x511f3f(0x1af)](),'browser_version':_0x122e75[_0x511f3f(0x1f3)](),'session_id':_0x29011f[_0x511f3f(0x1de)]()};global[_0x511f3f(0x1f5)]?_0x14b321[global['__cloud_provider___']]=_0x4d0bb8:_0x14b321[_0x2e08f0[_0x511f3f(0x1f0)]]=_0x4d0bb8,process['emit']('bs:addPlatformDetails:'+process[_0x511f3f(0x1c7)],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x2e08f0[_0x511f3f(0x1fb)],'http_response':_0x14b321,'uuid':_0x4ce052});}catch(_0x933122){_0x2e08f0[_0x511f3f(0x1cd)](debug,_0x511f3f(0x1ec)+_0x933122);}},exports['getHookSkippedTests']=_0x1205cc=>{const _0x59a4c0=a31_0x41678f,_0x1bda19={};_0x1bda19[_0x59a4c0(0x1c6)]=function(_0x464451,_0x259726){return _0x464451!==_0x259726;},_0x1bda19[_0x59a4c0(0x1a9)]=_0x59a4c0(0x1f9),_0x1bda19[_0x59a4c0(0x1bc)]='passed',_0x1bda19[_0x59a4c0(0x1ee)]=function(_0x515ab6,_0x1989ff){return _0x515ab6!==_0x1989ff;},_0x1bda19[_0x59a4c0(0x1b0)]='failed';const _0x5550ab=_0x1bda19,_0x500e2e=_0x1205cc[_0x59a4c0(0x1e3)][_0x59a4c0(0x1aa)]((_0x37666f,_0x1419d1)=>{const _0x5a1641=_0x59a4c0,_0xb0777f=exports['getHookSkippedTests'](_0x1419d1);return _0xb0777f&&(_0x37666f=_0x37666f[_0x5a1641(0x1ce)](_0xb0777f)),_0x37666f;},[]),_0x21be70=_0x1205cc[_0x59a4c0(0x1b7)]['filter'](_0x1b4f96=>{const _0x1ed710=_0x59a4c0,_0x41ff77=_0x5550ab['bpCQJ'](_0x1b4f96[_0x1ed710(0x1dc)],_0x5550ab['zeJdE'])&&!_0x1b4f96[_0x1ed710(0x1bb)]&&_0x5550ab[_0x1ed710(0x1c6)](_0x1b4f96[_0x1ed710(0x1ad)],_0x5550ab[_0x1ed710(0x1bc)])&&_0x5550ab[_0x1ed710(0x1ee)](_0x1b4f96['state'],_0x5550ab[_0x1ed710(0x1b0)])&&!_0x1b4f96['pending'];return _0x41ff77;});return _0x21be70[_0x59a4c0(0x1ce)](_0x500e2e);};