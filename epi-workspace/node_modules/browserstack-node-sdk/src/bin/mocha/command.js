#!/usr/bin/env node
'use strict';const a28_0x4d6651=a28_0x2dea;(function(_0xf19449,_0x5b16e3){const _0xbe19c9=a28_0x2dea,_0x56d5e3=_0xf19449();while(!![]){try{const _0x465158=parseInt(_0xbe19c9(0x285))/0x1*(parseInt(_0xbe19c9(0x293))/0x2)+-parseInt(_0xbe19c9(0x215))/0x3+parseInt(_0xbe19c9(0x232))/0x4*(-parseInt(_0xbe19c9(0x277))/0x5)+-parseInt(_0xbe19c9(0x24a))/0x6+parseInt(_0xbe19c9(0x1cd))/0x7*(-parseInt(_0xbe19c9(0x297))/0x8)+-parseInt(_0xbe19c9(0x1d4))/0x9*(-parseInt(_0xbe19c9(0x281))/0xa)+-parseInt(_0xbe19c9(0x275))/0xb*(-parseInt(_0xbe19c9(0x25c))/0xc);if(_0x465158===_0x5b16e3)break;else _0x56d5e3['push'](_0x56d5e3['shift']());}catch(_0x351b3a){_0x56d5e3['push'](_0x56d5e3['shift']());}}}(a28_0x4aa8,0x2aa3e));const chalk=require('chalk'),logger=require(a28_0x4d6651(0x214))[a28_0x4d6651(0x20b)],helper=require('../../helpers/helper'),utilities=require(a28_0x4d6651(0x1d8)),testOpsHelper=require(a28_0x4d6651(0x238)),fs=require('fs'),os=require('os'),{parallelTestRun}=require('../test-runner'),{requireModule,nestedKeyValue}=require(a28_0x4d6651(0x1ac)),{getPercyOptions}=require(a28_0x4d6651(0x1cb)),Base=requireModule(a28_0x4d6651(0x1b8),a28_0x4d6651(0x21f)),collectFiles=requireModule('mocha/lib/cli/collect-files.js',a28_0x4d6651(0x21f)),constants=require('../utils/constants'),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a28_0x4d6651(0x1a4))['EVENTS'],centralScannerConstants=require('../../helpers/central-scanner/constants'),{FRAMEWORKS}=require(a28_0x4d6651(0x27c)),TestHubHandler=require(a28_0x4d6651(0x225));function a28_0x2dea(_0x36df6f,_0x1ef938){const _0x4aa83c=a28_0x4aa8();return a28_0x2dea=function(_0x2dea35,_0x4aae16){_0x2dea35=_0x2dea35-0x19f;let _0xfe493c=_0x4aa83c[_0x2dea35];return _0xfe493c;},a28_0x2dea(_0x36df6f,_0x1ef938);}function tag(_0x177065,_0x2ece99,_0x36949e,_0x2fb6fc){const _0x2905ba=a28_0x4d6651,_0x4279b7={'UJBlV':function(_0x15a1e3,_0x106055){return _0x15a1e3+_0x106055;},'XDtdI':function(_0x101b14,_0x768e5d){return _0x101b14+_0x768e5d;},'SQCqH':function(_0x468c96,_0x3be4f4){return _0x468c96(_0x3be4f4);}},_0x660e9e=_0x36949e?'/>':'>',_0x302fdc=[];let _0x33ee5e;for(const _0x2e1f4d in _0x2ece99){Object[_0x2905ba(0x280)][_0x2905ba(0x243)]['call'](_0x2ece99,_0x2e1f4d)&&_0x302fdc[_0x2905ba(0x23a)](_0x4279b7[_0x2905ba(0x24e)](_0x4279b7['UJBlV'](_0x4279b7['XDtdI'](_0x2e1f4d,'=\x22'),_0x4279b7[_0x2905ba(0x290)](escape,_0x2ece99[_0x2e1f4d])),'\x22'));}return _0x33ee5e=_0x4279b7[_0x2905ba(0x24e)](_0x4279b7[_0x2905ba(0x24e)](_0x4279b7[_0x2905ba(0x24e)]('<',_0x177065),_0x302fdc[_0x2905ba(0x218)]?_0x4279b7['UJBlV']('\x20',_0x302fdc[_0x2905ba(0x250)]('\x20')):''),_0x660e9e),_0x2fb6fc&&(_0x33ee5e+=_0x4279b7['XDtdI'](_0x4279b7['XDtdI'](_0x4279b7[_0x2905ba(0x24e)](_0x2fb6fc,'</'),_0x177065),_0x660e9e)),_0x33ee5e;}let xunitContent='';function xunitWrite(_0x56236f){xunitContent+=_0x56236f;}function xunitTest(_0x1dbda5,_0x4b9b9a){const _0x19a137=a28_0x4d6651,_0x2b4ff3={'BUphD':function(_0x437422,_0x52b4c4){return _0x437422/_0x52b4c4;},'eBUXf':function(_0x22cb72,_0x2a4fc1){return _0x22cb72===_0x2a4fc1;},'YwKng':_0x19a137(0x21e),'smKCK':function(_0x2f78f6,_0x3c600d){return _0x2f78f6+_0x3c600d;},'ONvnU':function(_0x574fc1,_0xe9fd74){return _0x574fc1(_0xe9fd74);},'xxRDA':function(_0x5d296b,_0x435cb8,_0x1c347f,_0x5e6efa,_0x42857c){return _0x5d296b(_0x435cb8,_0x1c347f,_0x5e6efa,_0x42857c);},'QwJFk':_0x19a137(0x20f),'ZlpiH':_0x19a137(0x1a1),'bqvba':function(_0x2dd5d7,_0x539b0e){return _0x2dd5d7+_0x539b0e;},'eGVyS':function(_0x59496c,_0x209081){return _0x59496c+_0x209081;},'mGzKk':function(_0x52d54f,_0x3a1358){return _0x52d54f+_0x3a1358;},'LgGSm':function(_0x45e002,_0x19c3cc){return _0x45e002(_0x19c3cc);},'SerxR':function(_0x4cce61,_0x2fba16){return _0x4cce61(_0x2fba16);},'Mkgww':function(_0x30b17a,_0x37da71){return _0x30b17a(_0x37da71);},'atihx':function(_0x53c568,_0x52a624,_0x55e2f4,_0x5191d5,_0x12d101){return _0x53c568(_0x52a624,_0x55e2f4,_0x5191d5,_0x12d101);},'tfarX':function(_0x457899,_0x51fcf4,_0x1bfdad,_0x2c73de){return _0x457899(_0x51fcf4,_0x1bfdad,_0x2c73de);},'xOKCu':_0x19a137(0x230),'ikuxd':function(_0x346577,_0x547c23){return _0x346577(_0x547c23);},'RinSV':function(_0x5c59fb,_0x59b31b,_0x39d4a1,_0x36844b){return _0x5c59fb(_0x59b31b,_0x39d4a1,_0x36844b);}};Base['useColors']=![];var _0x4ef4d8={'classname':_0x1dbda5[_0x19a137(0x222)],'name':_0x1dbda5['title'],'time':_0x2b4ff3['BUphD'](_0x1dbda5['duration'],0x3e8)||0x0,'platform':_0x4b9b9a};if(_0x2b4ff3[_0x19a137(0x237)](_0x1dbda5[_0x19a137(0x21c)],_0x2b4ff3[_0x19a137(0x1fc)])){var _0x463b17=_0x1dbda5[_0x19a137(0x1da)],_0x5aa73d=!Base['hideDiff']&&Base[_0x19a137(0x234)](_0x463b17)?_0x2b4ff3[_0x19a137(0x211)]('\x0a',Base[_0x19a137(0x1e4)](_0x463b17[_0x19a137(0x1fe)],_0x463b17[_0x19a137(0x268)])):'';_0x2b4ff3['ONvnU'](xunitWrite,_0x2b4ff3[_0x19a137(0x267)](tag,_0x2b4ff3[_0x19a137(0x1e8)],_0x4ef4d8,![],_0x2b4ff3[_0x19a137(0x267)](tag,_0x2b4ff3[_0x19a137(0x279)],{},![],_0x2b4ff3[_0x19a137(0x1d5)](_0x2b4ff3[_0x19a137(0x227)](_0x2b4ff3['mGzKk'](_0x2b4ff3[_0x19a137(0x1f1)](escape,_0x463b17[_0x19a137(0x1d3)]),_0x2b4ff3['LgGSm'](escape,_0x5aa73d)),'\x0a'),_0x2b4ff3[_0x19a137(0x1d9)](escape,_0x463b17[_0x19a137(0x1c9)])))));}else _0x1dbda5[_0x19a137(0x1d0)]?_0x2b4ff3['Mkgww'](xunitWrite,_0x2b4ff3[_0x19a137(0x264)](tag,_0x2b4ff3[_0x19a137(0x1e8)],_0x4ef4d8,![],_0x2b4ff3[_0x19a137(0x1bd)](tag,_0x2b4ff3[_0x19a137(0x25e)],{},!![]))):_0x2b4ff3[_0x19a137(0x231)](xunitWrite,_0x2b4ff3[_0x19a137(0x1a9)](tag,_0x2b4ff3[_0x19a137(0x1e8)],_0x4ef4d8,!![]));}function a28_0x4aa8(){const _0x2418eb=['FUOBN','bgRedBright','1288302wLufFP','parallelsPerPlatform','json','min','UJBlV','nVpMt','join','keys','EDCQP','MOCHA','validPlatformsPresent','cliConfig','recursive','Total\x20Suites:\x20','BROWSERSTACK_GRR_US_HUB_URL','yellow','tPJka','\x20failed','12VLrOGv','getCentralUser','xOKCu','getOwnPropertyNames','env','qZCQW','start','handleApp','atihx','ignore','Writing\x20xunit\x20result\x20to\x20file','xxRDA','expected','config','hxZLH','finally','debug','NKbuv','forEach','map','zSmem','OuNjG','Tests:\x20\x20\x20\x20\x20\x20\x20','fCNix','IIpGv','5141092RlJlNC','totalTests','5gezqtd','BROWSERSTACK_TEST_OBSERVABILITY_YML','ZlpiH','PclZW','lETpK','../../helpers/test-observability/constants','suite','file','VaiFM','prototype','10qcXXCj','testsPassed','framework','IEfRB','88007tzjpcM','ZbFTw','ZusSC','BROWSERSTACK_TEST_ACCESSIBILITY_YML','logLevel','riAna','xunit','Running\x20your\x20mocha\x20tests','jVadI','ItbUG','SDK_CLEANUP','SQCqH','MemsY','\x20total','2IVPgrt','unlinkSync','accessibilityOptions','extension','1110808SAgHfT','initialize','assign','hpNLu','useW3C','rerunTests','object','stringify','Writing\x20json\x20result\x20to\x20file','cdnqs','jSIZT','yyYQM','failure','mjs','platform','../../helpers/performance/constants','accessibility','testsPending','Couldn\x27t\x20write\x20json\x20result\x20to','gQSKH','RinSV','CtELG','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','../../helpers/helper','errorMessage','platforms','CWPub','iqHiq','failures','DnUvJ','Now,\x20showing\x20logs\x20from\x20mocha','Printing\x20stats\x20of\x20tests','launchBuild','stats','laJUz','mocha/lib/reporters/base.js','get','central_scanner','rootHooks','fireFunnelTestEvent','tfarX','output','BpUiz','passed','duration','shouldReRunObservabilityTests','gWNUI','BwVXq','isUndefined','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','kajPr','tNUat','stack','aXjuv','../../helpers/percy/utils','IUnaj','7BArkzt','Listing\x20all\x20the\x20failures','zRddV','isPending','oGCqw','FPwDB','message','1404099BQjkLS','bqvba','</testsuite>','reporter','../../helpers/utilities','SerxR','err','red','parseFileNames','mFSTX','MXSbS','ehpMl','paMQv','RPtvv','indexOf','passes','generateDiff','exports','CNRbp','KpUxn','QwJFk','upfie','YPyzM','UYrza','MuyLR','titlePath','error','aGmoG','isTestObservabilitySession','ONvnU','ZyzWC','YTQWV','YIyUU','****\x20FAILURES\x20****','BROWSERSTACK_RERUN_TESTS','bgBlueBright','kqZAi','list','hmFjk','setUserConfigPath','YwKng','testSuites','actual','NRRuk','writeFileSync','size','rmdirSync','printBuildLink','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','iiLmK','getPlatformName','testObservability','Running\x20your\x20mocha\x20tests\x20across\x20','add','hzcRh','winstonLogger','FdUmp','nEbMc','toUTCString','testcase','hydEr','smKCK','hcuIj','UDejX','../../helpers/logger','130965vzlkzJ','FRAMEWORKS','wmViU','length','YOSKK','\x0a\x0a\x0a','then','state','RRdLG','failed','mocha','DVjHF','Total\x20Platforms:\x20','fullTitle','proxySettings','spec','../../helpers/testhub/testhubHandler','\x20skipped','eGVyS','test','uQPIe','testsFailed','JAJuz','hmhVE','titlePathV','isBrowserstackInfra','testsuite','skipped','ikuxd','558052ivrxYc','gMapT','showDiff','\x20platforms','results','eBUXf','../../helpers/test-observability/utils','consoleLog','push','bold','oKYbz','cjs','SDKTestSuccessful','EZDBW','suiteName','reporter-option','log','hasOwnProperty','speed','green','getTCGConfigFilePaths','error\x20removing\x20tcg\x20config\x20file'];a28_0x4aa8=function(){return _0x2418eb;};return a28_0x4aa8();};function getStats(_0x3ebed3){const _0x25de01=a28_0x4d6651,_0x2792b5={};_0x2792b5[_0x25de01(0x1aa)]=_0x25de01(0x27d),_0x2792b5[_0x25de01(0x1bf)]=_0x25de01(0x1c0),_0x2792b5[_0x25de01(0x291)]=_0x25de01(0x21e),_0x2792b5['nEbMc']=_0x25de01(0x236);const _0x7a2e12=_0x2792b5,_0x6e62c7=Object[_0x25de01(0x251)](_0x3ebed3);let _0x36c16f=0x0,_0xb9d341=0x0,_0x2c7f0e=0x0,_0x35ec14=0x0;const _0x2aff5e=new Set();_0x6e62c7[_0x25de01(0x26e)](_0xc3b782=>{const _0x39f6ff=_0x25de01,_0x58257e={};_0x58257e[_0x39f6ff(0x1dd)]=_0x7a2e12['CtELG'],_0x58257e[_0x39f6ff(0x1e1)]=_0x7a2e12[_0x39f6ff(0x1bf)],_0x58257e[_0x39f6ff(0x220)]=_0x7a2e12[_0x39f6ff(0x291)];const _0x5be03b=_0x58257e;_0x3ebed3[_0xc3b782][_0x7a2e12[_0x39f6ff(0x20d)]][_0x39f6ff(0x26e)](_0x11ee6d=>{const _0x2cfac6=_0x39f6ff;_0x2aff5e[_0x2cfac6(0x209)](_0x11ee6d[_0x5be03b[_0x2cfac6(0x1dd)]]),_0x36c16f++;switch(_0x11ee6d[_0x2cfac6(0x21c)]){case _0x5be03b[_0x2cfac6(0x1e1)]:_0x2c7f0e++;break;case _0x5be03b[_0x2cfac6(0x220)]:_0xb9d341++;break;default:_0x35ec14++;}});});const _0x274ee3={};return _0x274ee3['testSuites']=_0x2aff5e[_0x25de01(0x201)],_0x274ee3['platforms']=_0x6e62c7,_0x274ee3[_0x25de01(0x276)]=_0x36c16f,_0x274ee3[_0x25de01(0x22a)]=_0xb9d341,_0x274ee3[_0x25de01(0x282)]=_0x2c7f0e,_0x274ee3[_0x25de01(0x1a6)]=_0x35ec14,_0x274ee3;}function errorJSON(_0x3ec943){const _0x171314=a28_0x4d6651;var _0x275bdb={};return Object[_0x171314(0x25f)](_0x3ec943)[_0x171314(0x26e)](function(_0x15c3e8){_0x275bdb[_0x15c3e8]=_0x3ec943[_0x15c3e8];},_0x3ec943),_0x275bdb;}function cleanCycles(_0xd5c708){const _0x8096a3=a28_0x4d6651,_0x270052={};_0x270052['NyhmT']=function(_0x3caeee,_0x4eb40c){return _0x3caeee===_0x4eb40c;},_0x270052[_0x8096a3(0x23f)]=_0x8096a3(0x29d),_0x270052[_0x8096a3(0x2a0)]=function(_0x4fea4a,_0x585f9a){return _0x4fea4a!==_0x585f9a;},_0x270052[_0x8096a3(0x1de)]=function(_0x3354d9,_0x1e993b){return _0x3354d9+_0x1e993b;};const _0x44bf4e=_0x270052;var _0x2f4a96=[];return JSON['parse'](JSON[_0x8096a3(0x29e)](_0xd5c708,function(_0x6b0628,_0x4748b7){const _0x54846f=_0x8096a3;if(_0x44bf4e['NyhmT'](typeof _0x4748b7,_0x44bf4e[_0x54846f(0x23f)])&&_0x44bf4e[_0x54846f(0x2a0)](_0x4748b7,null)){if(_0x44bf4e[_0x54846f(0x2a0)](_0x2f4a96[_0x54846f(0x1e2)](_0x4748b7),-0x1))return _0x44bf4e[_0x54846f(0x1de)]('',_0x4748b7);_0x2f4a96[_0x54846f(0x23a)](_0x4748b7);}return _0x4748b7;}));}function clean(_0x35a4ff){const _0xf1440b=a28_0x4d6651,_0x4c86a9={'dLrjN':function(_0x468127,_0xf5cd47){return _0x468127 instanceof _0xf5cd47;},'FUOBN':function(_0x48857b,_0x2c1bb9){return _0x48857b(_0x2c1bb9);}};var _0x5d016c=_0x35a4ff[_0xf1440b(0x1da)]||{};return _0x4c86a9['dLrjN'](_0x5d016c,Error)&&(_0x5d016c=_0x4c86a9[_0xf1440b(0x248)](errorJSON,_0x5d016c)),{'title':_0x35a4ff['title'],'fullTitle':_0x35a4ff[_0xf1440b(0x222)],'file':_0x35a4ff[_0xf1440b(0x27e)],'duration':_0x35a4ff[_0xf1440b(0x1c1)],'currentRetry':_0x35a4ff['currentRetry'],'speed':_0x35a4ff[_0xf1440b(0x244)],'err':_0x4c86a9[_0xf1440b(0x248)](cleanCycles,_0x5d016c)};}function printStats(_0x253468,_0x2364e0=a28_0x4d6651(0x224),_0x5e2a8e={}){const _0x5ef6de=a28_0x4d6651,_0x25350d={'prFeu':function(_0x4612eb,_0x4d036d){return _0x4612eb(_0x4d036d);},'iiLmK':function(_0x595ae7,_0x314359){return _0x595ae7===_0x314359;},'gQSKH':_0x5ef6de(0x1c0),'ItbUG':_0x5ef6de(0x1e3),'CWPub':function(_0x978fe1,_0x3a5622){return _0x978fe1===_0x3a5622;},'tPJka':_0x5ef6de(0x21e),'OuNjG':_0x5ef6de(0x1b1),'oqTbq':'pending','uQPIe':_0x5ef6de(0x236),'qZCQW':function(_0x270637,_0x3982c8){return _0x270637*_0x3982c8;},'aABpv':function(_0x17dcd9,_0x1a845c,_0x13e3c6){return _0x17dcd9(_0x1a845c,_0x13e3c6);},'oKYbz':function(_0x12fc8b,_0x42deb2){return _0x12fc8b===_0x42deb2;},'ZusSC':function(_0x28b158,_0x227923){return _0x28b158>_0x227923;},'YVFbg':function(_0x21a8f2){return _0x21a8f2();},'MuyLR':function(_0x348c4c,_0x594bfb){return _0x348c4c===_0x594bfb;},'qyPyD':'doc','IEfRB':function(_0x49e490,_0x2c2e7d){return _0x49e490(_0x2c2e7d);},'DESnh':function(_0x250379,_0x2cbf30){return _0x250379>_0x2cbf30;},'PclZW':'Setting\x20non\x20exit\x20code\x20for\x20failures','jVadI':_0x5ef6de(0x1b4),'zSmem':function(_0x25a84e,_0x5d57f6){return _0x25a84e+_0x5d57f6;},'vWaKs':_0x5ef6de(0x221),'kqZAi':function(_0x574065,_0x4ed446){return _0x574065+_0x4ed446;},'rsIgK':_0x5ef6de(0x257),'FdUmp':function(_0x441ed6,_0x3639bc){return _0x441ed6+_0x3639bc;},'riAna':function(_0x3e6fa1,_0x427327){return _0x3e6fa1+_0x427327;},'YTQWV':_0x5ef6de(0x272),'lETpK':function(_0x740f80,_0x13288f){return _0x740f80>_0x13288f;},'FPwDB':function(_0x34890a,_0x5f0920){return _0x34890a>_0x5f0920;},'EDCQP':function(_0x4cc37e,_0x2f96c3){return _0x4cc37e+_0x2f96c3;},'ZbFTw':function(_0x493f6e,_0x2fb865){return _0x493f6e+_0x2fb865;},'zRddV':_0x5ef6de(0x21a),'vnTjf':_0x5ef6de(0x24c),'RRdLG':_0x5ef6de(0x29f),'cfaQA':_0x5ef6de(0x1a7),'upfie':_0x5ef6de(0x1c6),'gWNUI':function(_0x12d1fb,_0x373db0){return _0x12d1fb===_0x373db0;},'hcuIj':_0x5ef6de(0x28b),'IUnaj':'Mocha\x20Tests','wSaSj':function(_0x1cab92,_0x3d55ce){return _0x1cab92||_0x3d55ce;},'yyYQM':function(_0x5d0d61,_0x10f838){return _0x5d0d61(_0x10f838);},'GDxDI':function(_0x380cbb,_0x5d3f04,_0x1cd824,_0x349e21){return _0x380cbb(_0x5d3f04,_0x1cd824,_0x349e21);},'fCNix':_0x5ef6de(0x22f),'VaiFM':function(_0x144627,_0x15d65e){return _0x144627-_0x15d65e;},'gMapT':function(_0x3709f0,_0x5ee069){return _0x3709f0-_0x5ee069;},'oGCqw':function(_0x14a67f,_0x5c7429){return _0x14a67f/_0x5c7429;},'JAJuz':function(_0xe242ea,_0x1f807f){return _0xe242ea(_0x1f807f);},'tNUat':_0x5ef6de(0x1d6),'hmhVE':_0x5ef6de(0x266),'EoLzp':'Couldn\x27t\x20write\x20xunit\x20result\x20to','ZyzWC':_0x5ef6de(0x1ab),'BwVXq':function(_0x3463ca,_0x16dc4e){return _0x3463ca===_0x16dc4e;},'UYrza':_0x5ef6de(0x1ce),'ehpMl':_0x5ef6de(0x1f5)};if(_0x25350d[_0x5ef6de(0x1ec)](_0x2364e0,_0x25350d['qyPyD']))return;const _0x56fa0c=0x0,_0x22ed1d=()=>{return _0x25350d['prFeu'](Array,_0x56fa0c)['join']('\x20\x20');},{testSuites:_0x1fbdfb,platforms:_0x40a265,totalTests:_0x2f1699,testsFailed:_0x158bc8,testsPassed:_0x30a3bd,testsPending:_0x2b9ea7}=_0x25350d[_0x5ef6de(0x284)](getStats,_0x253468);_0x25350d['DESnh'](_0x158bc8,0x0)&&(logger[_0x5ef6de(0x26c)](_0x25350d[_0x5ef6de(0x27a)]),process['exitCode']=Math[_0x5ef6de(0x24d)](_0x158bc8,0xff));logger[_0x5ef6de(0x26c)](_0x25350d[_0x5ef6de(0x28d)]);const _0x3df0cd=''+_0x25350d[_0x5ef6de(0x270)](chalk['bold'](_0x25350d['vWaKs']),_0x40a265[_0x5ef6de(0x218)]),_0x5695f3=''+_0x25350d[_0x5ef6de(0x1f8)](chalk[_0x5ef6de(0x23b)](_0x25350d['rsIgK']),_0x1fbdfb),_0x3fdb1d=''+_0x25350d[_0x5ef6de(0x20c)](_0x25350d[_0x5ef6de(0x28a)](_0x25350d[_0x5ef6de(0x20c)](chalk[_0x5ef6de(0x23b)](_0x25350d[_0x5ef6de(0x1f3)]),_0x25350d['ZusSC'](_0x158bc8,0x0)?chalk[_0x5ef6de(0x23b)][_0x5ef6de(0x1db)](_0x158bc8+_0x5ef6de(0x25b))+',\x20':''),_0x25350d[_0x5ef6de(0x27b)](_0x2b9ea7,0x0)?chalk[_0x5ef6de(0x23b)][_0x5ef6de(0x259)](_0x2b9ea7+_0x5ef6de(0x226))+',\x20':''),_0x25350d[_0x5ef6de(0x1d2)](_0x30a3bd,0x0)?chalk[_0x5ef6de(0x23b)][_0x5ef6de(0x245)](_0x30a3bd+'\x20passed')+',\x20':'')+_0x2f1699+_0x5ef6de(0x292);console[_0x5ef6de(0x242)](_0x25350d[_0x5ef6de(0x252)](_0x25350d[_0x5ef6de(0x270)](_0x25350d[_0x5ef6de(0x286)](_0x25350d[_0x5ef6de(0x252)](_0x25350d[_0x5ef6de(0x20c)](_0x25350d[_0x5ef6de(0x1cf)],_0x3df0cd),'\x0a'),_0x5695f3),'\x0a'),_0x3fdb1d));if(_0x25350d[_0x5ef6de(0x23c)](_0x2364e0,_0x25350d['vnTjf'])){const _0x3c2fe7={},_0x41278e={};_0x41278e[_0x5ef6de(0x1fd)]=_0x1fbdfb,_0x41278e[_0x5ef6de(0x1ae)]=_0x40a265,_0x41278e[_0x5ef6de(0x22a)]=_0x158bc8,_0x41278e[_0x5ef6de(0x282)]=_0x30a3bd,_0x41278e['testsPending']=_0x2b9ea7,_0x3c2fe7[_0x5ef6de(0x1b6)]=_0x41278e,_0x40a265[_0x5ef6de(0x26e)](_0x479d50=>{const _0xa2a948=_0x5ef6de,_0x45b46a={'IIpGv':function(_0x56f632,_0x2250f5){const _0x4377a1=a28_0x2dea;return _0x25350d[_0x4377a1(0x205)](_0x56f632,_0x2250f5);},'NRRuk':_0x25350d[_0xa2a948(0x1a8)],'hpNLu':_0x25350d[_0xa2a948(0x28e)],'AOdCi':function(_0x22becb,_0x32de27){return _0x25350d['prFeu'](_0x22becb,_0x32de27);},'YPyzM':function(_0x2d10c6,_0x2a9bea){const _0x4cfcf8=_0xa2a948;return _0x25350d[_0x4cfcf8(0x1af)](_0x2d10c6,_0x2a9bea);},'aXjuv':_0x25350d[_0xa2a948(0x25a)],'UDejX':_0x25350d[_0xa2a948(0x271)],'jSIZT':function(_0x51a4a7,_0x1b7c98){return _0x25350d['prFeu'](_0x51a4a7,_0x1b7c98);},'CNRbp':_0x25350d['oqTbq']};_0x3c2fe7[_0x479d50]={'pending':[],'failures':[],'passes':[],'tests':_0x253468[_0x479d50][_0x25350d['uQPIe']][_0xa2a948(0x26f)](clean)},_0x253468[_0x479d50][_0x25350d[_0xa2a948(0x229)]][_0xa2a948(0x26e)](_0x23db20=>{const _0x1926d7=_0xa2a948;if(_0x45b46a[_0x1926d7(0x274)](_0x23db20[_0x1926d7(0x21c)],_0x45b46a[_0x1926d7(0x1ff)]))_0x3c2fe7[_0x479d50][_0x45b46a[_0x1926d7(0x29a)]][_0x1926d7(0x23a)](_0x45b46a['AOdCi'](clean,_0x23db20));else _0x45b46a[_0x1926d7(0x1ea)](_0x23db20[_0x1926d7(0x21c)],_0x45b46a[_0x1926d7(0x1ca)])?_0x3c2fe7[_0x479d50][_0x45b46a[_0x1926d7(0x213)]][_0x1926d7(0x23a)](_0x45b46a[_0x1926d7(0x19f)](clean,_0x23db20)):_0x3c2fe7[_0x479d50][_0x45b46a[_0x1926d7(0x1e6)]][_0x1926d7(0x23a)](_0x45b46a['AOdCi'](clean,_0x23db20));});});if(_0x5e2a8e[_0x5ef6de(0x1be)])try{logger['debug'](_0x25350d[_0x5ef6de(0x21d)],_0x5e2a8e[_0x5ef6de(0x1be)]),fs['writeFileSync'](_0x5e2a8e[_0x5ef6de(0x1be)],JSON[_0x5ef6de(0x29e)](_0x3c2fe7,null,0x3));}catch(_0x406484){logger['error'](_0x25350d['cfaQA'],_0x5e2a8e[_0x5ef6de(0x1be)]),logger[_0x5ef6de(0x26c)](_0x406484);}else logger[_0x5ef6de(0x26c)](_0x25350d[_0x5ef6de(0x1e9)]),console[_0x5ef6de(0x242)](JSON['stringify'](_0x3c2fe7,null,0x3));}else{if(_0x25350d[_0x5ef6de(0x1c3)](_0x2364e0,_0x25350d[_0x5ef6de(0x212)])){let _0x338535;const _0x13c427=_0x25350d[_0x5ef6de(0x1cc)];_0x5e2a8e&&(_0x338535=_0x5e2a8e[_0x5ef6de(0x240)]);_0x338535=_0x25350d['wSaSj'](_0x338535,_0x13c427);let _0x248844=0x0,_0x58790e=0x0,_0x25f5e9=0x0,_0x32d9f8=0x0;_0x40a265[_0x5ef6de(0x26e)](_0x3f91cb=>{const _0x35c21b=_0x5ef6de;_0x253468[_0x3f91cb][_0x25350d[_0x35c21b(0x229)]][_0x35c21b(0x26e)](_0xc5f852=>{const _0x562b5f=_0x35c21b;if(_0x25350d[_0x562b5f(0x1af)](_0xc5f852[_0x562b5f(0x21c)],_0x25350d[_0x562b5f(0x1a8)]))_0x248844++;else _0x25350d[_0x562b5f(0x1af)](_0xc5f852[_0x562b5f(0x21c)],_0x25350d['tPJka'])&&_0x58790e++;_0x25f5e9++,_0x32d9f8+=_0x25350d[_0x562b5f(0x261)](_0xc5f852['duration'],0x1);});}),_0x25350d[_0x5ef6de(0x1a0)](xunitWrite,_0x25350d['GDxDI'](tag,_0x25350d[_0x5ef6de(0x273)],{'name':_0x338535,'tests':_0x25f5e9,'failures':0x0,'errors':_0x58790e,'skipped':_0x25350d[_0x5ef6de(0x27f)](_0x25350d[_0x5ef6de(0x233)](_0x25f5e9,_0x58790e),_0x248844),'timestamp':new Date()[_0x5ef6de(0x20e)](),'time':_0x25350d[_0x5ef6de(0x1d1)](_0x32d9f8,0x3e8)||0x0},![])),_0x40a265[_0x5ef6de(0x26e)](_0x47aeb5=>{const _0x442c1e=_0x5ef6de,_0x5f28a2={'eXXCW':function(_0x46ac13,_0x2968ec,_0x352a8e){return _0x25350d['aABpv'](_0x46ac13,_0x2968ec,_0x352a8e);}};_0x253468[_0x47aeb5][_0x25350d[_0x442c1e(0x229)]]['forEach'](_0x1e3390=>{_0x5f28a2['eXXCW'](xunitTest,_0x1e3390,_0x47aeb5);});}),_0x25350d[_0x5ef6de(0x22b)](xunitWrite,_0x25350d[_0x5ef6de(0x1c8)]);if(_0x5e2a8e['output'])try{logger[_0x5ef6de(0x26c)](_0x25350d[_0x5ef6de(0x22c)],_0x5e2a8e[_0x5ef6de(0x1be)]),fs[_0x5ef6de(0x200)](_0x5e2a8e[_0x5ef6de(0x1be)],xunitContent);}catch(_0x1be90e){logger[_0x5ef6de(0x1ee)](_0x25350d['EoLzp'],_0x5e2a8e[_0x5ef6de(0x1be)]),logger[_0x5ef6de(0x26c)](_0x1be90e);}else logger[_0x5ef6de(0x26c)](_0x25350d[_0x5ef6de(0x1f2)]),console[_0x5ef6de(0x242)](xunitContent);}else{if(_0x25350d[_0x5ef6de(0x1c4)](_0x158bc8,0x0))return;console['log'](),logger[_0x5ef6de(0x26c)](_0x25350d[_0x5ef6de(0x1eb)]),console[_0x5ef6de(0x242)](chalk[_0x5ef6de(0x23b)][_0x5ef6de(0x249)](_0x25350d[_0x5ef6de(0x1df)])),_0x40a265[_0x5ef6de(0x26e)](_0xb43e3e=>{const _0xfa3e53=_0x5ef6de,_0x34d96c=[];_0x253468[_0xb43e3e][_0x25350d[_0xfa3e53(0x229)]][_0xfa3e53(0x26e)](_0x4ff04b=>{const _0x246330=_0xfa3e53;_0x25350d[_0x246330(0x23c)](_0x4ff04b[_0x246330(0x21c)],_0x25350d[_0x246330(0x25a)])&&(_0x4ff04b[_0x246330(0x1ed)]=()=>_0x4ff04b[_0x246330(0x22d)],_0x34d96c[_0x246330(0x23a)](_0x4ff04b));}),_0x25350d[_0xfa3e53(0x287)](_0x34d96c[_0xfa3e53(0x218)],0x0)&&(Base['consoleLog'](),Base[_0xfa3e53(0x239)](_0x25350d['YVFbg'](_0x22ed1d),chalk[_0xfa3e53(0x23b)][_0xfa3e53(0x1f7)](_0xb43e3e)),Base[_0xfa3e53(0x1f9)](_0x34d96c));});}}}async function run(_0x9b5505,_0x1af93d,_0x3e34a3){const _0x54ade2=a28_0x4d6651,_0x1347da={'aGmoG':function(_0x2e7347,_0xda1e20,_0x5d610d,_0x16acfe){return _0x2e7347(_0xda1e20,_0x5d610d,_0x16acfe);},'hzcRh':_0x54ade2(0x241),'LWczl':_0x54ade2(0x247),'laJUz':_0x54ade2(0x23e),'wmViU':function(_0x12303b,_0x20c380,_0x503eaa,_0x12b83b){return _0x12303b(_0x20c380,_0x503eaa,_0x12b83b);},'aqAmk':'mocha','kajPr':function(_0x53ffe6,_0x17b00f){return _0x53ffe6!=_0x17b00f;},'YIyUU':_0x54ade2(0x23d),'hxZLH':_0x54ade2(0x1a2),'paMQv':_0x54ade2(0x228),'iqHiq':_0x54ade2(0x29c),'KBEWC':function(_0x425f17,_0x5128c4){return _0x425f17(_0x5128c4);},'hydEr':function(_0x4a89af,_0x28a586,_0x50545a){return _0x4a89af(_0x28a586,_0x50545a);},'DnUvJ':'files','nVpMt':_0x54ade2(0x28c),'YOSKK':_0x54ade2(0x1b3),'tSAZN':function(_0x3c7286,_0x42adc9,_0x46befd,_0x235e3e){return _0x3c7286(_0x42adc9,_0x46befd,_0x235e3e);},'hmFjk':function(_0x3a5a65,_0xa2a14e){return _0x3a5a65*_0xa2a14e;},'NKbuv':function(_0xe3353e,_0x4fb236){return _0xe3353e(_0x4fb236);},'KpUxn':function(_0x4b8a88,_0x282ab9){return _0x4b8a88!==_0x282ab9;},'jdrZq':function(_0x43c19b,_0x3abc06,_0x159240,_0x3ad523){return _0x43c19b(_0x3abc06,_0x159240,_0x3ad523);}};helper[_0x54ade2(0x1fb)](_0x3e34a3[_0x54ade2(0x283)],_0x9b5505);helper[_0x54ade2(0x22e)]()?(await _0x3e34a3[_0x54ade2(0x298)](_0x9b5505),await helper[_0x54ade2(0x263)](_0x3e34a3[_0x54ade2(0x269)])):await _0x3e34a3['setupTCGAuth']();const _0x48de0d=[];let _0x446958=[];if(!_0x3e34a3[_0x54ade2(0x269)])return;!helper[_0x54ade2(0x1c5)](_0x3e34a3[_0x54ade2(0x269)][_0x54ade2(0x295)])&&(process['env']['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON['stringify'](_0x3e34a3[_0x54ade2(0x269)][_0x54ade2(0x295)]));const _0x12ca38=await TestHubHandler[_0x54ade2(0x1b5)](FRAMEWORKS[_0x54ade2(0x253)],_0x3e34a3);_0x1347da[_0x54ade2(0x1c7)](_0x3e34a3[_0x54ade2(0x269)][_0x54ade2(0x207)],null)&&(process[_0x54ade2(0x260)][_0x54ade2(0x278)]=_0x3e34a3[_0x54ade2(0x269)][_0x54ade2(0x207)]);!helper[_0x54ade2(0x1c5)](_0x3e34a3['config'][_0x54ade2(0x1a5)])&&(process['env'][_0x54ade2(0x288)]=_0x3e34a3[_0x54ade2(0x269)]['accessibility']);const {extension:extension=['js',_0x1347da[_0x54ade2(0x1f4)],_0x1347da[_0x54ade2(0x26a)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x1347da[_0x54ade2(0x1e0)]]}=_0x9b5505,_0x80055a={..._0x9b5505};_0x80055a[_0x54ade2(0x1bb)]=null;const _0x5c4688=_0x80055a;let _0xa97e16;if(testOpsHelper[_0x54ade2(0x1f0)]()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0x595006=process[_0x54ade2(0x260)][_0x54ade2(0x1f6)];!helper[_0x54ade2(0x1c5)](_0x3e34a3[_0x54ade2(0x255)])&&_0x3e34a3['cliConfig']['has'](_0x1347da[_0x54ade2(0x1b0)])&&(_0x595006=_0x3e34a3[_0x54ade2(0x255)][_0x54ade2(0x1b9)](_0x1347da['iqHiq'])),_0xa97e16=testOpsHelper[_0x54ade2(0x1dc)](_0x595006);}if(helper['isUndefined'](_0xa97e16)){const _0x149ec2={};_0x149ec2[_0x54ade2(0x265)]=ignore,_0x149ec2[_0x54ade2(0x296)]=extension,_0x149ec2[_0x54ade2(0x27e)]=file,_0x149ec2[_0x54ade2(0x256)]=recursive,_0x149ec2['sort']=sort,_0x149ec2[_0x54ade2(0x224)]=spec,_0xa97e16=_0x1347da['KBEWC'](collectFiles,_0x149ec2),_0x1347da[_0x54ade2(0x210)](nestedKeyValue,_0xa97e16,[_0x1347da[_0x54ade2(0x1b2)]])&&(_0xa97e16=_0xa97e16['files']);}if(!helper['isBrowserstackInfra']()){const _0x3cdf78=0x1,_0x13b1c9={..._0x5c4688};_0x13b1c9[_0x54ade2(0x224)]=[..._0xa97e16],_0x48de0d[_0x54ade2(0x23a)]({'mochaOpts':_0x13b1c9,'configuration':{'platform':os[_0x54ade2(0x1a3)]()}}),logger['info'](_0x1347da[_0x54ade2(0x24f)]),logger['info'](_0x1347da[_0x54ade2(0x219)]),_0x1347da['tSAZN'](parallelTestRun,_0x48de0d,_0x3cdf78,_0x3e34a3)[_0x54ade2(0x21b)](_0x5374d7=>{const _0x3c9c72=_0x54ade2;PerformanceTester[_0x3c9c72(0x262)](PerformanceEvents[_0x3c9c72(0x28f)]),_0x1347da[_0x3c9c72(0x1ef)](printStats,_0x5374d7,_0x9b5505[_0x3c9c72(0x1d7)],_0x9b5505['reporterOptions']||_0x9b5505[_0x1347da[_0x3c9c72(0x20a)]]);})[_0x54ade2(0x26b)](()=>{const _0x9b06e=_0x54ade2;PerformanceTester['start'](PerformanceEvents[_0x9b06e(0x28f)]);try{const {browserstackFolderPath:_0x56384d,tcgConfigPath:_0xb19017}=helper[_0x9b06e(0x246)]();fs[_0x9b06e(0x294)](_0xb19017),fs[_0x9b06e(0x202)](_0x56384d);}catch(_0x52be74){logger[_0x9b06e(0x26c)](_0x1347da['LWczl'],_0x52be74);}try{utilities[_0x9b06e(0x1bc)](_0x1347da[_0x9b06e(0x1b7)],{},_0x3e34a3['config'],_0x3e34a3[_0x9b06e(0x283)]);}catch(_0x42b2f3){logger[_0x9b06e(0x26c)]('Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20'+_0x42b2f3['stack']);}try{helper['notifyUpdate']();}catch(_0x471aa1){logger['debug'](_0x9b06e(0x204)+_0x471aa1);}testOpsHelper[_0x9b06e(0x203)]();});}else{const _0x191154=helper[_0x54ade2(0x29b)](_0x3e34a3[_0x54ade2(0x269)]);let _0xafbf98=helper['getHubUrl'](_0x3e34a3[_0x54ade2(0x269)]);_0x446958=helper['prepareCapabilities'](_0x3e34a3[_0x54ade2(0x269)],_0x191154,constants[_0x54ade2(0x216)][_0x54ade2(0x253)]);helper[_0x54ade2(0x25d)]()[_0x54ade2(0x1ba)]&&(_0xafbf98=centralScannerConstants[_0x54ade2(0x258)]);let _0x46cd30;const _0x263cef=_0x3e34a3['config'][_0x54ade2(0x24b)]||helper['getUserWorkerCount'](_0x9b5505,_0x1af93d,_0x3e34a3[_0x54ade2(0x269)],constants[_0x54ade2(0x216)][_0x54ade2(0x253)])||0x1;helper[_0x54ade2(0x254)](_0x3e34a3['config'])?_0x46cd30=_0x1347da[_0x54ade2(0x1fa)](_0x3e34a3[_0x54ade2(0x269)][_0x54ade2(0x1ae)][_0x54ade2(0x218)],_0x263cef):_0x46cd30=_0x263cef;const _0x39b381=_0x1347da[_0x54ade2(0x26d)](getPercyOptions,_0x3e34a3['config']);if(_0x1347da[_0x54ade2(0x1e7)](_0x3e34a3['config'][_0x54ade2(0x24b)],0x1))_0xa97e16['forEach'](_0x210a37=>{const _0x4ac1e2=_0x54ade2,_0x38b5f3=[];_0x446958[_0x4ac1e2(0x26e)]((_0x380b7a,_0x4b15c0)=>{const _0x267b9b=_0x4ac1e2,_0x157ae3={};_0x157ae3[_0x267b9b(0x224)]=[_0x210a37],_0x38b5f3[_0x267b9b(0x23a)]({'mochaOpts':Object[_0x267b9b(0x299)]({},_0x5c4688,_0x157ae3),'configuration':{'server':_0xafbf98,'capability':_0x380b7a,'proxySettings':_0x3e34a3[_0x267b9b(0x269)][_0x267b9b(0x223)],'platform':helper[_0x267b9b(0x206)](_0x380b7a),'browserStackLogLevel':_0x3e34a3[_0x267b9b(0x269)][_0x267b9b(0x289)],'platformIndex':_0x4b15c0,'browserStackPercyOptions':_0x39b381,'platformCaps':Object[_0x267b9b(0x299)]({'index':_0x4b15c0},_0x3e34a3[_0x267b9b(0x269)][_0x267b9b(0x1ae)][_0x4b15c0])}});}),_0x48de0d[_0x4ac1e2(0x23a)](..._0x38b5f3);});else{const _0x3eb5c6=[];_0x446958[_0x54ade2(0x26e)]((_0x403b86,_0x15d4a4)=>{const _0x58d784=_0x54ade2;let _0x308a35=Object[_0x58d784(0x299)]({},_0x5c4688);testOpsHelper[_0x58d784(0x1f0)]()&&testOpsHelper[_0x58d784(0x1c2)]()&&(_0x308a35={..._0x308a35,'spec':[..._0xa97e16]}),_0x3eb5c6['push']({'mochaOpts':_0x308a35,'configuration':{'server':_0xafbf98,'capability':_0x403b86,'proxySettings':_0x3e34a3['config'][_0x58d784(0x223)],'platform':helper['getPlatformName'](_0x403b86),'browserStackLogLevel':_0x3e34a3[_0x58d784(0x269)][_0x58d784(0x289)],'platformIndex':_0x15d4a4,'browserStackPercyOptions':_0x39b381,'platformCaps':Object['assign']({'index':_0x15d4a4},_0x3e34a3['config'][_0x58d784(0x1ae)][_0x15d4a4])}});}),_0x48de0d[_0x54ade2(0x23a)](..._0x3eb5c6);}logger['info'](_0x54ade2(0x208)+_0x3e34a3['config']['platforms'][_0x54ade2(0x218)]+_0x54ade2(0x235)),logger['info'](_0x1347da[_0x54ade2(0x219)]);let _0xe29541;_0x1347da['jdrZq'](parallelTestRun,_0x48de0d,_0x46cd30,_0x3e34a3)['then'](_0x1afd30=>{const _0x3fd41e=_0x54ade2;PerformanceTester[_0x3fd41e(0x262)](PerformanceEvents[_0x3fd41e(0x28f)]),_0xe29541=_0x1afd30,_0x1347da[_0x3fd41e(0x217)](printStats,_0x1afd30,_0x9b5505['reporter'],_0x9b5505['reporterOptions']||_0x9b5505[_0x1347da['hzcRh']]);})[_0x54ade2(0x26b)](async()=>{const _0x574c2e=_0x54ade2;PerformanceTester[_0x574c2e(0x262)](PerformanceEvents[_0x574c2e(0x28f)]),_0x3e34a3[_0x574c2e(0x1ad)]=helper['getErrorMessageFromResults'](_0xe29541,_0x1347da['aqAmk']),await utilities['finalExecution'](_0x3e34a3),testOpsHelper[_0x574c2e(0x203)]();});}}module[a28_0x4d6651(0x1e5)]=run;