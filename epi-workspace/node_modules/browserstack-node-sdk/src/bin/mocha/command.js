#!/usr/bin/env node
'use strict';function a28_0xbb8f(_0x224b4d,_0x37deab){const _0x32c07a=a28_0x32c0();return a28_0xbb8f=function(_0xbb8f09,_0x19a2be){_0xbb8f09=_0xbb8f09-0x83;let _0x1220b5=_0x32c07a[_0xbb8f09];return _0x1220b5;},a28_0xbb8f(_0x224b4d,_0x37deab);}const a28_0x352146=a28_0xbb8f;(function(_0x4c5e57,_0x16707e){const _0xb234c1=a28_0xbb8f,_0x4d8751=_0x4c5e57();while(!![]){try{const _0x10d874=-parseInt(_0xb234c1(0xab))/0x1*(parseInt(_0xb234c1(0x86))/0x2)+-parseInt(_0xb234c1(0x109))/0x3+-parseInt(_0xb234c1(0x130))/0x4+-parseInt(_0xb234c1(0xf8))/0x5+-parseInt(_0xb234c1(0x103))/0x6*(-parseInt(_0xb234c1(0x18e))/0x7)+parseInt(_0xb234c1(0x160))/0x8*(parseInt(_0xb234c1(0x99))/0x9)+parseInt(_0xb234c1(0xac))/0xa;if(_0x10d874===_0x16707e)break;else _0x4d8751['push'](_0x4d8751['shift']());}catch(_0x3500cf){_0x4d8751['push'](_0x4d8751['shift']());}}}(a28_0x32c0,0xb3276));const chalk=require(a28_0x352146(0xc4)),logger=require(a28_0x352146(0x95))['winstonLogger'],helper=require(a28_0x352146(0x12c)),utilities=require(a28_0x352146(0x157)),testOpsHelper=require('../../helpers/test-observability/utils'),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a28_0x352146(0xa4)),{requireModule,nestedKeyValue}=require(a28_0x352146(0x12c)),{getPercyOptions}=require(a28_0x352146(0x176)),Base=requireModule(a28_0x352146(0x180),'mocha'),collectFiles=requireModule(a28_0x352146(0xce),'mocha'),constants=require(a28_0x352146(0x18d)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a28_0x352146(0x159))['EVENTS'],centralScannerConstants=require('../../helpers/central-scanner/constants'),{FRAMEWORKS}=require(a28_0x352146(0x13f)),TestHubHandler=require(a28_0x352146(0xcc));function tag(_0x4c73a3,_0x3be04d,_0x111301,_0x24661f){const _0x28ad23=a28_0x352146,_0x4b3caa={'jYIQD':function(_0x4f7979,_0x2e3141){return _0x4f7979+_0x2e3141;},'KLLgb':function(_0x31ca87,_0xf0319a){return _0x31ca87+_0xf0319a;},'MISQo':function(_0x39496a,_0x559b25){return _0x39496a(_0x559b25);},'FNFsU':function(_0x2251d8,_0x91e7d2){return _0x2251d8+_0x91e7d2;},'TOIcS':function(_0x44d605,_0x256799){return _0x44d605+_0x256799;},'SIWiv':function(_0x39b8c2,_0x557cc1){return _0x39b8c2+_0x557cc1;},'DLxPF':function(_0x3a499f,_0x4ba80){return _0x3a499f+_0x4ba80;},'PujzJ':function(_0x11ca8d,_0xca16e5){return _0x11ca8d+_0xca16e5;}},_0x530105=_0x111301?'/>':'>',_0x2fac26=[];let _0x30c89c;for(const _0x152955 in _0x3be04d){Object[_0x28ad23(0x9b)][_0x28ad23(0x189)][_0x28ad23(0x11f)](_0x3be04d,_0x152955)&&_0x2fac26[_0x28ad23(0x158)](_0x4b3caa[_0x28ad23(0x106)](_0x4b3caa[_0x28ad23(0x106)](_0x4b3caa['KLLgb'](_0x152955,'=\x22'),_0x4b3caa[_0x28ad23(0x121)](escape,_0x3be04d[_0x152955])),'\x22'));}return _0x30c89c=_0x4b3caa[_0x28ad23(0x106)](_0x4b3caa[_0x28ad23(0xb4)](_0x4b3caa[_0x28ad23(0xb4)]('<',_0x4c73a3),_0x2fac26[_0x28ad23(0x15e)]?_0x4b3caa[_0x28ad23(0x139)]('\x20',_0x2fac26[_0x28ad23(0xec)]('\x20')):''),_0x530105),_0x24661f&&(_0x30c89c+=_0x4b3caa[_0x28ad23(0x131)](_0x4b3caa['DLxPF'](_0x4b3caa[_0x28ad23(0x138)](_0x24661f,'</'),_0x4c73a3),_0x530105)),_0x30c89c;}function a28_0x32c0(){const _0xf6a0ab=['extension','FRAMEWORKS','KgXkj','../../helpers/helper','Total\x20Suites:\x20','QCGKY','\x20total','3021056qPDDYp','SIWiv','error\x20removing\x20tcg\x20config\x20file','GmmUT','getTCGConfigFilePaths','printBuildLink','SDKTestSuccessful','wXthc','PujzJ','TOIcS','eojqB','ZWyeQ','notifyUpdate','has','handleApp','../../helpers/test-observability/constants','getOwnPropertyNames','wuFfw','env','logLevel','finalExecution','Vxhpp','exports','retryTestsOnFailure','WYboQ','platforms','qSWHS','suiteName','xesCt','iUJZg','currentRetry','iEabp','pending','parallelsPerPlatform','ciQTx','qxFCQ','dWUfz','aLAhz','framework','../../helpers/utilities','push','../../helpers/performance/constants','wBXME','fullTitle','titlePath','config','length','showDiff','7576zDnMpH','actual','ignore','maxRetries','xunit','rerunTests','MOCHA','rtsdP','forEach','OqnfO','isEmpty','mjs','file','LRhIR','AEGAG','passed','jPeYC','json','validPlatformsPresent','swUKy','\x20platforms','KfpIc','../../helpers/percy/utils','BROWSERSTACK_RERUN_TESTS','gvbYv','yvkJK','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','min','bgRedBright','OzWxt','hkpBt','keys','mocha/lib/reporters/base.js','reporter-option','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','totalTests','hHYGi','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','mQnHp','yAQyw','setUserConfigPath','hasOwnProperty','XYCLA','mocha','OwUVR','../utils/constants','7qDKjRv','initialize','files','title','isUndefined','failure','toUTCString','MjLcD','2742086enYUey','qtuLf','get','then','add','isPending','fSsKd','bgBlueBright','aOxIV','testcase','getCentralUser','testsFailed','SDK_CLEANUP','Printing\x20stats\x20of\x20tests','log','../../helpers/logger','launchBuild','skipped','duration','3501mBxcUD','YQNnl','prototype','EKWfi','prYYo','Setting\x20non\x20exit\x20code\x20for\x20failures','prepareCapabilities','oIFMw','EoBuS','jnLxX','vQsfK','../test-runner','DcWuX','finally','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','cliConfig','Running\x20your\x20mocha\x20tests\x20across\x20','WylTL','1RXGvpB','21173930syERPN','map','output','\x0a\x0a\x0a','FzesK','ZXnDJ','setupTCGAuth','\x20skipped','FNFsU','hnbvd','EgtaP','bold','xhPKV','KeRSG','TQoKt','nUOBd','parseTestOrchestrationOptions','error','qNUmU','zUakR','spec','Couldn\x27t\x20write\x20json\x20result\x20to','CiDsj','GyqUu','chalk','results','kvXIH','debug','ZvwDd','testsPassed','NReYY','oRHSQ','../../helpers/testhub/testhubHandler','state','mocha/lib/cli/collect-files.js','red','reporter','GUBLw','message','start','indexOf','stack','Listing\x20all\x20the\x20failures','isTestObservabilitySession','DgDGm','errorMessage','getHubUrl','isBrowserstackInfra','getErrorMessageFromResults','RZTIQ','HYwXw','stats','MEwEZ','hxpdH','cjs','MmwPS','JHaPK','getUserWorkerCount','parseFileNames','suite','JbNdD','useW3C','Omxau','proxySettings','join','BROWSERSTACK_TEST_ACCESSIBILITY_YML','ZYdhd','err','LtJBk','fkJHB','EkrAo','VIckK','LfFHR','BROWSERSTACK_TEST_OBSERVABILITY_YML','UcNhZ','nTepw','416315aRYbIR','getPlatformName','</testsuite>','rEaYp','Tests:\x20\x20\x20\x20\x20\x20\x20','accessibility','GMdUY','QIkPH','accessibilityOptions','hideDiff','KucIy','7630584waNLYb','abnNn','test','jYIQD','TkWxy','fireFunnelTestEvent','2442468RgJIZh','testsuite','xtebX','info','consoleLog','list','reporterOptions','speed','SShFr','ddvSr','\x20passed','Mocha\x20Tests','mehpb','Running\x20your\x20mocha\x20tests','doc','assign','aXojj','platform','sort','stringify','GDiAn','testSuites','call','TboeN','MISQo','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','central_scanner','testObservability','recursive','parse','RGALB','failed'];a28_0x32c0=function(){return _0xf6a0ab;};return a28_0x32c0();}let xunitContent='';function xunitWrite(_0x69576){xunitContent+=_0x69576;}function xunitTest(_0x10b865,_0x5d8ead){const _0x3416a6=a28_0x352146,_0x92deba={'OzWxt':function(_0xc61101,_0x3e014d){return _0xc61101/_0x3e014d;},'OwUVR':function(_0x38e6cd,_0x5db257){return _0x38e6cd===_0x5db257;},'QIkPH':_0x3416a6(0x128),'RGALB':function(_0x3cb8c2,_0x54ee9f){return _0x3cb8c2+_0x54ee9f;},'ciQTx':function(_0x36c66a,_0x1b083c){return _0x36c66a(_0x1b083c);},'ZYdhd':function(_0x27f503,_0x5b11b0,_0xeab1fe,_0x597e1c,_0x3f079d){return _0x27f503(_0x5b11b0,_0xeab1fe,_0x597e1c,_0x3f079d);},'TQoKt':_0x3416a6(0x8f),'kvXIH':function(_0x478d77,_0x471a14,_0x164b74,_0x10ec77,_0x53c4b0){return _0x478d77(_0x471a14,_0x164b74,_0x10ec77,_0x53c4b0);},'abnNn':_0x3416a6(0x83),'xesCt':function(_0x3df32a,_0x380f61){return _0x3df32a+_0x380f61;},'iUJZg':function(_0x372eac,_0x58713b){return _0x372eac+_0x58713b;},'yvkJK':function(_0x1fc1ac,_0x5127f3){return _0x1fc1ac(_0x5127f3);},'MjLcD':function(_0xa57c5d,_0x51bc66,_0x5c4426,_0x277546){return _0xa57c5d(_0x51bc66,_0x5c4426,_0x277546);},'AEGAG':_0x3416a6(0x97),'WYboQ':function(_0x41b39a,_0x509dab){return _0x41b39a(_0x509dab);}};Base['useColors']=![];var _0x143016={'classname':_0x10b865['fullTitle'],'name':_0x10b865[_0x3416a6(0x191)],'time':_0x92deba[_0x3416a6(0x17d)](_0x10b865[_0x3416a6(0x98)],0x3e8)||0x0,'platform':_0x5d8ead};if(_0x92deba[_0x3416a6(0x18c)](_0x10b865[_0x3416a6(0xcd)],_0x92deba[_0x3416a6(0xff)])){var _0x19e65c=_0x10b865[_0x3416a6(0xef)],_0x2b0311=!Base[_0x3416a6(0x101)]&&Base[_0x3416a6(0x15f)](_0x19e65c)?_0x92deba[_0x3416a6(0x127)]('\x0a',Base['generateDiff'](_0x19e65c[_0x3416a6(0x161)],_0x19e65c['expected'])):'';_0x92deba[_0x3416a6(0x152)](xunitWrite,_0x92deba[_0x3416a6(0xee)](tag,_0x92deba['TQoKt'],_0x143016,![],_0x92deba[_0x3416a6(0xc6)](tag,_0x92deba[_0x3416a6(0x104)],{},![],_0x92deba[_0x3416a6(0x127)](_0x92deba[_0x3416a6(0x14c)](_0x92deba[_0x3416a6(0x14d)](_0x92deba[_0x3416a6(0x179)](escape,_0x19e65c[_0x3416a6(0xd2)]),_0x92deba[_0x3416a6(0x179)](escape,_0x2b0311)),'\x0a'),_0x92deba[_0x3416a6(0x152)](escape,_0x19e65c[_0x3416a6(0xd5)])))));}else _0x10b865[_0x3416a6(0x8b)]?_0x92deba[_0x3416a6(0x179)](xunitWrite,_0x92deba[_0x3416a6(0xc6)](tag,_0x92deba[_0x3416a6(0xba)],_0x143016,![],_0x92deba[_0x3416a6(0x85)](tag,_0x92deba[_0x3416a6(0x16e)],{},!![]))):_0x92deba[_0x3416a6(0x148)](xunitWrite,_0x92deba['MjLcD'](tag,_0x92deba[_0x3416a6(0xba)],_0x143016,!![]));};function getStats(_0xa0a941){const _0x908c0b=a28_0x352146,_0x26e451={};_0x26e451[_0x908c0b(0xe4)]=_0x908c0b(0xe7),_0x26e451[_0x908c0b(0xb9)]=_0x908c0b(0x16f),_0x26e451[_0x908c0b(0x111)]=_0x908c0b(0x128),_0x26e451[_0x908c0b(0xb5)]=_0x908c0b(0xc5);const _0xec45ec=_0x26e451,_0x27ca10=Object[_0x908c0b(0x17f)](_0xa0a941);let _0x19d9e8=0x0,_0x504d0a=0x0,_0x2d12aa=0x0,_0xfcbfe1=0x0;const _0x590a39=new Set();_0x27ca10[_0x908c0b(0x168)](_0x467bb9=>{const _0x4075a7=_0x908c0b,_0x4894ae={};_0x4894ae[_0x4075a7(0xa5)]=_0xec45ec[_0x4075a7(0xe4)],_0x4894ae[_0x4075a7(0xdd)]=_0xec45ec[_0x4075a7(0xb9)],_0x4894ae[_0x4075a7(0x15a)]=_0xec45ec[_0x4075a7(0x111)];const _0x31e136=_0x4894ae;_0xa0a941[_0x467bb9][_0xec45ec[_0x4075a7(0xb5)]][_0x4075a7(0x168)](_0x5b108a=>{const _0x5b2e4e=_0x4075a7;_0x590a39[_0x5b2e4e(0x8a)](_0x5b108a[_0x31e136['DcWuX']]),_0x19d9e8++;switch(_0x5b108a[_0x5b2e4e(0xcd)]){case _0x31e136[_0x5b2e4e(0xdd)]:_0x2d12aa++;break;case _0x31e136[_0x5b2e4e(0x15a)]:_0x504d0a++;break;default:_0xfcbfe1++;}});});const _0x3a8eb3={};return _0x3a8eb3['testSuites']=_0x590a39['size'],_0x3a8eb3[_0x908c0b(0x149)]=_0x27ca10,_0x3a8eb3[_0x908c0b(0x183)]=_0x19d9e8,_0x3a8eb3[_0x908c0b(0x91)]=_0x504d0a,_0x3a8eb3[_0x908c0b(0xc9)]=_0x2d12aa,_0x3a8eb3['testsPending']=_0xfcbfe1,_0x3a8eb3;}function errorJSON(_0x44d0e2){const _0x2153a2=a28_0x352146;var _0x1b0229={};return Object[_0x2153a2(0x140)](_0x44d0e2)[_0x2153a2(0x168)](function(_0x125aea){_0x1b0229[_0x125aea]=_0x44d0e2[_0x125aea];},_0x44d0e2),_0x1b0229;}function cleanCycles(_0x288e90){const _0x10496e=a28_0x352146,_0x30d6ff={};_0x30d6ff[_0x10496e(0x14a)]=function(_0x4ac582,_0x5383cb){return _0x4ac582===_0x5383cb;},_0x30d6ff['hkpBt']='object',_0x30d6ff[_0x10496e(0x12b)]=function(_0x4e7468,_0x30a694){return _0x4e7468!==_0x30a694;},_0x30d6ff[_0x10496e(0x153)]=function(_0x228bd4,_0x284bd5){return _0x228bd4+_0x284bd5;};const _0x586e87=_0x30d6ff;var _0x421b88=[];return JSON[_0x10496e(0x126)](JSON['stringify'](_0x288e90,function(_0x49cbf3,_0x5d71a4){const _0xbdd17d=_0x10496e;if(_0x586e87[_0xbdd17d(0x14a)](typeof _0x5d71a4,_0x586e87[_0xbdd17d(0x17e)])&&_0x586e87[_0xbdd17d(0x12b)](_0x5d71a4,null)){if(_0x586e87[_0xbdd17d(0x12b)](_0x421b88[_0xbdd17d(0xd4)](_0x5d71a4),-0x1))return _0x586e87['qxFCQ']('',_0x5d71a4);_0x421b88[_0xbdd17d(0x158)](_0x5d71a4);}return _0x5d71a4;}));}function clean(_0x3b4f2a){const _0x4c4bbb=a28_0x352146,_0x299654={'TkWxy':function(_0x32e461,_0x108b6f){return _0x32e461 instanceof _0x108b6f;},'yAQyw':function(_0x4a0b3a,_0x211a8f){return _0x4a0b3a(_0x211a8f);}};var _0x3814c4=_0x3b4f2a[_0x4c4bbb(0xef)]||{};return _0x299654[_0x4c4bbb(0x107)](_0x3814c4,Error)&&(_0x3814c4=_0x299654['yAQyw'](errorJSON,_0x3814c4)),{'title':_0x3b4f2a[_0x4c4bbb(0x191)],'fullTitle':_0x3b4f2a[_0x4c4bbb(0x15b)],'file':_0x3b4f2a[_0x4c4bbb(0x16c)],'duration':_0x3b4f2a[_0x4c4bbb(0x98)],'currentRetry':_0x3b4f2a[_0x4c4bbb(0x14e)],'speed':_0x3b4f2a[_0x4c4bbb(0x110)],'err':_0x299654[_0x4c4bbb(0x187)](cleanCycles,_0x3814c4)};}function printStats(_0x2d8de5,_0x10c1b7=a28_0x352146(0xc0),_0x5b50a1={}){const _0x20663b=a28_0x352146,_0x53c776={'mehpb':function(_0x32f7ee,_0x1406e9){return _0x32f7ee(_0x1406e9);},'iEabp':function(_0x3c343a,_0x18f8a8){return _0x3c343a===_0x18f8a8;},'wuFfw':_0x20663b(0x16f),'jnLxX':'passes','xtebX':function(_0x4f5899,_0xbf78b1){return _0x4f5899(_0xbf78b1);},'EgtaP':'failed','EkrAo':'failures','rEaYp':_0x20663b(0x150),'qtuLf':_0x20663b(0xc5),'upTzL':function(_0x291e32,_0x4948c6){return _0x291e32===_0x4948c6;},'NeAnQ':function(_0x5a11f6,_0x51ca17){return _0x5a11f6===_0x51ca17;},'HjtRf':function(_0x348997,_0x539040){return _0x348997*_0x539040;},'GMdUY':function(_0xd9bb53,_0x3608a5,_0x17e8d2){return _0xd9bb53(_0x3608a5,_0x17e8d2);},'XfzNF':function(_0x855e6f,_0x5007ca){return _0x855e6f===_0x5007ca;},'prYYo':function(_0x531547,_0x1c6e2c){return _0x531547>_0x1c6e2c;},'VIckK':function(_0x41db49){return _0x41db49();},'TboeN':_0x20663b(0x117),'CiDsj':_0x20663b(0x9e),'wXthc':_0x20663b(0x93),'LRhIR':function(_0x27916c,_0x229903){return _0x27916c+_0x229903;},'GmmUT':'Total\x20Platforms:\x20','GyqUu':function(_0x436704,_0x2e5654){return _0x436704+_0x2e5654;},'QCGKY':_0x20663b(0x12d),'GDiAn':function(_0x4def60,_0x399d3a){return _0x4def60+_0x399d3a;},'swUKy':function(_0x53414f,_0x25258f){return _0x53414f+_0x25258f;},'mEShk':_0x20663b(0xfc),'LfFHR':function(_0xa5d81,_0x3d29f5){return _0xa5d81>_0x3d29f5;},'eojqB':function(_0x1d8cda,_0x1422ee){return _0x1d8cda>_0x1422ee;},'MEwEZ':function(_0x709d7,_0x578844){return _0x709d7>_0x578844;},'xmbWf':function(_0x2d4281,_0x17200c){return _0x2d4281+_0x17200c;},'LtJBk':function(_0x368b6b,_0x45bd05){return _0x368b6b+_0x45bd05;},'gvbYv':_0x20663b(0xaf),'ddvSr':function(_0x85e613,_0x176f77){return _0x85e613===_0x176f77;},'jPeYC':_0x20663b(0x171),'ZvwDd':'Writing\x20json\x20result\x20to\x20file','TsCsP':_0x20663b(0xc1),'aOxIV':_0x20663b(0xa7),'fkJHB':function(_0x56a8fa,_0x6cfe3c){return _0x56a8fa===_0x6cfe3c;},'WylTL':_0x20663b(0x164),'YQNnl':_0x20663b(0x114),'UcNhZ':function(_0x307786,_0x56fb02){return _0x307786||_0x56fb02;},'ZWyeQ':function(_0x4dc250,_0x43c7e5){return _0x4dc250(_0x43c7e5);},'FzesK':function(_0x40f8d5,_0x247997,_0x255c43,_0x5d4b72){return _0x40f8d5(_0x247997,_0x255c43,_0x5d4b72);},'EKWfi':_0x20663b(0x10a),'OqnfO':function(_0x1101fe,_0xada1b){return _0x1101fe-_0xada1b;},'hxpdH':function(_0xeb1d27,_0x859593){return _0xeb1d27-_0x859593;},'zUakR':function(_0x302bc6,_0x548b29){return _0x302bc6/_0x548b29;},'vQsfK':function(_0x5b33dd,_0x333e33){return _0x5b33dd(_0x333e33);},'kINgx':_0x20663b(0xfa),'nTepw':'Writing\x20xunit\x20result\x20to\x20file','nUOBd':'Couldn\x27t\x20write\x20xunit\x20result\x20to','KaRVa':_0x20663b(0x122),'KfpIc':function(_0x2620ad,_0x3d3a49){return _0x2620ad===_0x3d3a49;},'hHYGi':_0x20663b(0xd6),'XYCLA':'****\x20FAILURES\x20****'};if(_0x53c776[_0x20663b(0x14f)](_0x10c1b7,_0x53c776[_0x20663b(0x120)]))return;const _0x4110b9=0x0,_0x79e3ca=()=>{const _0x226efd=_0x20663b;return _0x53c776[_0x226efd(0x115)](Array,_0x4110b9)[_0x226efd(0xec)]('\x20\x20');},{testSuites:_0x50e3cf,platforms:_0x198da9,totalTests:_0x4cb548,testsFailed:_0x316476,testsPassed:_0x113fa4,testsPending:_0x5c4c14}=_0x53c776[_0x20663b(0x115)](getStats,_0x2d8de5);_0x53c776[_0x20663b(0x9d)](_0x316476,0x0)&&(logger[_0x20663b(0xc7)](_0x53c776[_0x20663b(0xc2)]),process['exitCode']=Math[_0x20663b(0x17b)](_0x316476,0xff));logger[_0x20663b(0xc7)](_0x53c776[_0x20663b(0x137)]);const _0x3439ae=''+_0x53c776[_0x20663b(0x16d)](chalk[_0x20663b(0xb7)](_0x53c776[_0x20663b(0x133)]),_0x198da9[_0x20663b(0x15e)]),_0x4de5bd=''+_0x53c776[_0x20663b(0xc3)](chalk[_0x20663b(0xb7)](_0x53c776[_0x20663b(0x12e)]),_0x50e3cf),_0x17cdbe=''+_0x53c776[_0x20663b(0xc3)](_0x53c776[_0x20663b(0x11d)](_0x53c776[_0x20663b(0x173)](chalk[_0x20663b(0xb7)](_0x53c776['mEShk']),_0x53c776[_0x20663b(0xf4)](_0x316476,0x0)?chalk[_0x20663b(0xb7)][_0x20663b(0xcf)](_0x316476+'\x20failed')+',\x20':''),_0x53c776[_0x20663b(0x13a)](_0x5c4c14,0x0)?chalk[_0x20663b(0xb7)]['yellow'](_0x5c4c14+_0x20663b(0xb3))+',\x20':''),_0x53c776[_0x20663b(0xe0)](_0x113fa4,0x0)?chalk[_0x20663b(0xb7)]['green'](_0x113fa4+_0x20663b(0x113))+',\x20':'')+_0x4cb548+_0x20663b(0x12f);console[_0x20663b(0x94)](_0x53c776[_0x20663b(0x11d)](_0x53c776[_0x20663b(0x11d)](_0x53c776['xmbWf'](_0x53c776[_0x20663b(0x11d)](_0x53c776[_0x20663b(0xf0)](_0x53c776[_0x20663b(0x178)],_0x3439ae),'\x0a'),_0x4de5bd),'\x0a'),_0x17cdbe));if(_0x53c776[_0x20663b(0x112)](_0x10c1b7,_0x53c776[_0x20663b(0x170)])){const _0xc8976={},_0x371528={};_0x371528[_0x20663b(0x11e)]=_0x50e3cf,_0x371528[_0x20663b(0x149)]=_0x198da9,_0x371528['testsFailed']=_0x316476,_0x371528[_0x20663b(0xc9)]=_0x113fa4,_0x371528['testsPending']=_0x5c4c14,_0xc8976[_0x20663b(0xdf)]=_0x371528,_0x198da9[_0x20663b(0x168)](_0x3578af=>{const _0x364e21=_0x20663b,_0x14d5f6={'Omxau':function(_0x316df7,_0x23bc8c){const _0x46dcb8=a28_0xbb8f;return _0x53c776[_0x46dcb8(0x14f)](_0x316df7,_0x23bc8c);},'oIFMw':_0x53c776[_0x364e21(0x141)],'ZXnDJ':_0x53c776[_0x364e21(0xa2)],'aXojj':function(_0x4df38e,_0x29eccf){const _0x1cb127=_0x364e21;return _0x53c776[_0x1cb127(0x10b)](_0x4df38e,_0x29eccf);},'fSsKd':_0x53c776[_0x364e21(0xb6)],'oRHSQ':_0x53c776[_0x364e21(0xf2)],'xhPKV':_0x53c776[_0x364e21(0xfb)]};_0xc8976[_0x3578af]={'pending':[],'failures':[],'passes':[],'tests':_0x2d8de5[_0x3578af][_0x53c776[_0x364e21(0x87)]][_0x364e21(0xad)](clean)},_0x2d8de5[_0x3578af][_0x53c776[_0x364e21(0x87)]][_0x364e21(0x168)](_0x58f9d6=>{const _0x5bd590=_0x364e21;if(_0x14d5f6['Omxau'](_0x58f9d6[_0x5bd590(0xcd)],_0x14d5f6[_0x5bd590(0xa0)]))_0xc8976[_0x3578af][_0x14d5f6[_0x5bd590(0xb1)]][_0x5bd590(0x158)](_0x14d5f6[_0x5bd590(0x119)](clean,_0x58f9d6));else _0x14d5f6[_0x5bd590(0xea)](_0x58f9d6[_0x5bd590(0xcd)],_0x14d5f6[_0x5bd590(0x8c)])?_0xc8976[_0x3578af][_0x14d5f6[_0x5bd590(0xcb)]][_0x5bd590(0x158)](_0x14d5f6[_0x5bd590(0x119)](clean,_0x58f9d6)):_0xc8976[_0x3578af][_0x14d5f6[_0x5bd590(0xb8)]][_0x5bd590(0x158)](_0x14d5f6['aXojj'](clean,_0x58f9d6));});});if(_0x5b50a1[_0x20663b(0xae)])try{logger[_0x20663b(0xc7)](_0x53c776[_0x20663b(0xc8)],_0x5b50a1['output']),fs['writeFileSync'](_0x5b50a1[_0x20663b(0xae)],JSON[_0x20663b(0x11c)](_0xc8976,null,0x3));}catch(_0x171520){logger['error'](_0x53c776['TsCsP'],_0x5b50a1[_0x20663b(0xae)]),logger['debug'](_0x171520);}else logger[_0x20663b(0xc7)](_0x53c776[_0x20663b(0x8e)]),console[_0x20663b(0x94)](JSON[_0x20663b(0x11c)](_0xc8976,null,0x3));}else{if(_0x53c776[_0x20663b(0xf1)](_0x10c1b7,_0x53c776[_0x20663b(0xaa)])){let _0xbc4473;const _0x53a973=_0x53c776[_0x20663b(0x9a)];_0x5b50a1&&(_0xbc4473=_0x5b50a1[_0x20663b(0x14b)]);_0xbc4473=_0x53c776[_0x20663b(0xf6)](_0xbc4473,_0x53a973);let _0x34f564=0x0,_0xbe30d0=0x0,_0x403b21=0x0,_0x4fac44=0x0;_0x198da9[_0x20663b(0x168)](_0x2c6813=>{const _0x4c352f=_0x20663b;_0x2d8de5[_0x2c6813][_0x53c776[_0x4c352f(0x87)]][_0x4c352f(0x168)](_0x32e6a4=>{const _0x490573=_0x4c352f;if(_0x53c776['upTzL'](_0x32e6a4[_0x490573(0xcd)],_0x53c776['wuFfw']))_0x34f564++;else _0x53c776['NeAnQ'](_0x32e6a4[_0x490573(0xcd)],_0x53c776['EgtaP'])&&_0xbe30d0++;_0x403b21++,_0x4fac44+=_0x53c776['HjtRf'](_0x32e6a4['duration'],0x1);});}),_0x53c776[_0x20663b(0x13b)](xunitWrite,_0x53c776[_0x20663b(0xb0)](tag,_0x53c776[_0x20663b(0x9c)],{'name':_0xbc4473,'tests':_0x403b21,'failures':0x0,'errors':_0xbe30d0,'skipped':_0x53c776[_0x20663b(0x169)](_0x53c776[_0x20663b(0xe1)](_0x403b21,_0xbe30d0),_0x34f564),'timestamp':new Date()[_0x20663b(0x84)](),'time':_0x53c776[_0x20663b(0xbf)](_0x4fac44,0x3e8)||0x0},![])),_0x198da9[_0x20663b(0x168)](_0x2773eb=>{const _0x5a00fd=_0x20663b;_0x2d8de5[_0x2773eb][_0x53c776[_0x5a00fd(0x87)]][_0x5a00fd(0x168)](_0x220129=>{const _0x174471=_0x5a00fd;_0x53c776[_0x174471(0xfe)](xunitTest,_0x220129,_0x2773eb);});}),_0x53c776[_0x20663b(0xa3)](xunitWrite,_0x53c776['kINgx']);if(_0x5b50a1[_0x20663b(0xae)])try{logger[_0x20663b(0xc7)](_0x53c776[_0x20663b(0xf7)],_0x5b50a1[_0x20663b(0xae)]),fs['writeFileSync'](_0x5b50a1[_0x20663b(0xae)],xunitContent);}catch(_0x11e739){logger[_0x20663b(0xbd)](_0x53c776[_0x20663b(0xbb)],_0x5b50a1['output']),logger[_0x20663b(0xc7)](_0x11e739);}else logger[_0x20663b(0xc7)](_0x53c776['KaRVa']),console[_0x20663b(0x94)](xunitContent);}else{if(_0x53c776[_0x20663b(0x175)](_0x316476,0x0))return;console[_0x20663b(0x94)](),logger[_0x20663b(0xc7)](_0x53c776[_0x20663b(0x184)]),console['log'](chalk['bold'][_0x20663b(0x17c)](_0x53c776[_0x20663b(0x18a)])),_0x198da9[_0x20663b(0x168)](_0x2d5b25=>{const _0x59f886=_0x20663b,_0x224cbe={'Vxhpp':function(_0x85b60b,_0x19f1ee){return _0x53c776['XfzNF'](_0x85b60b,_0x19f1ee);},'LvtZJ':_0x53c776[_0x59f886(0xb6)]},_0xfa24b7=[];_0x2d8de5[_0x2d5b25][_0x53c776[_0x59f886(0x87)]][_0x59f886(0x168)](_0x13d5ae=>{const _0x52c6df=_0x59f886;_0x224cbe[_0x52c6df(0x145)](_0x13d5ae[_0x52c6df(0xcd)],_0x224cbe['LvtZJ'])&&(_0x13d5ae[_0x52c6df(0x15c)]=()=>_0x13d5ae['titlePathV'],_0xfa24b7['push'](_0x13d5ae));}),_0x53c776[_0x59f886(0x9d)](_0xfa24b7[_0x59f886(0x15e)],0x0)&&(Base['consoleLog'](),Base[_0x59f886(0x10d)](_0x53c776[_0x59f886(0xf3)](_0x79e3ca),chalk['bold'][_0x59f886(0x8d)](_0x2d5b25)),Base[_0x59f886(0x10e)](_0xfa24b7));});}}}async function run(_0x422530,_0x152403,_0x5ea7c1){const _0xb9a5aa=a28_0x352146,_0x5829c8={'DgDGm':function(_0x2965e5,_0x1ed303,_0x56772a,_0x2ba0ac){return _0x2965e5(_0x1ed303,_0x56772a,_0x2ba0ac);},'KucIy':_0xb9a5aa(0x181),'nGOEF':_0xb9a5aa(0x132),'mqHsz':_0xb9a5aa(0x136),'GUBLw':_0xb9a5aa(0x18b),'UwqqM':function(_0x552da1,_0x13aafd){return _0x552da1!=_0x13aafd;},'qNUmU':_0xb9a5aa(0xe2),'dWUfz':_0xb9a5aa(0x16b),'EoBuS':_0xb9a5aa(0x105),'rtsdP':_0xb9a5aa(0x165),'mQnHp':function(_0x2ece81,_0x43c430){return _0x2ece81(_0x43c430);},'NReYY':function(_0x1e8403,_0x25087d,_0x3be751){return _0x1e8403(_0x25087d,_0x3be751);},'aLAhz':_0xb9a5aa(0x190),'tuwyU':_0xb9a5aa(0x116),'MmwPS':'Now,\x20showing\x20logs\x20from\x20mocha','JbNdD':function(_0x2359e0,_0x590112){return _0x2359e0*_0x590112;},'QbeZD':function(_0x2fca53,_0x2c6cf7){return _0x2fca53(_0x2c6cf7);},'HYwXw':function(_0x3db4cd,_0x186f17){return _0x3db4cd!==_0x186f17;}};helper[_0xb9a5aa(0x188)](_0x5ea7c1[_0xb9a5aa(0x156)],_0x422530);helper[_0xb9a5aa(0xdb)]()?(await _0x5ea7c1[_0xb9a5aa(0x18f)](_0x422530),await helper[_0xb9a5aa(0x13e)](_0x5ea7c1['config'])):await _0x5ea7c1[_0xb9a5aa(0xb2)]();const _0x1eec31=[];let _0x5be579=[];if(!_0x5ea7c1[_0xb9a5aa(0x15d)])return;!helper[_0xb9a5aa(0x192)](_0x5ea7c1[_0xb9a5aa(0x15d)][_0xb9a5aa(0x100)])&&(process[_0xb9a5aa(0x142)][_0xb9a5aa(0x185)]=JSON[_0xb9a5aa(0x11c)](_0x5ea7c1[_0xb9a5aa(0x15d)][_0xb9a5aa(0x100)]));const _0x16a501=await TestHubHandler[_0xb9a5aa(0x96)](FRAMEWORKS[_0xb9a5aa(0x166)],_0x5ea7c1);_0x5829c8['UwqqM'](_0x5ea7c1[_0xb9a5aa(0x15d)][_0xb9a5aa(0x124)],null)&&(process[_0xb9a5aa(0x142)][_0xb9a5aa(0xf5)]=_0x5ea7c1[_0xb9a5aa(0x15d)][_0xb9a5aa(0x124)]);!helper[_0xb9a5aa(0x192)](_0x5ea7c1[_0xb9a5aa(0x15d)][_0xb9a5aa(0xfd)])&&(process[_0xb9a5aa(0x142)][_0xb9a5aa(0xed)]=_0x5ea7c1[_0xb9a5aa(0x15d)][_0xb9a5aa(0xfd)]);const {extension:extension=['js',_0x5829c8[_0xb9a5aa(0xbe)],_0x5829c8[_0xb9a5aa(0x154)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x5829c8[_0xb9a5aa(0xa1)]]}=_0x422530,_0x2ddaa9={..._0x422530};_0x2ddaa9['rootHooks']=null;const _0xc817bd=_0x2ddaa9;let _0x1492b;if(testOpsHelper[_0xb9a5aa(0xd7)]()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0x1a3982=process[_0xb9a5aa(0x142)][_0xb9a5aa(0x177)];!helper[_0xb9a5aa(0x192)](_0x5ea7c1[_0xb9a5aa(0xa8)])&&_0x5ea7c1[_0xb9a5aa(0xa8)][_0xb9a5aa(0x13d)](_0x5829c8[_0xb9a5aa(0x167)])&&(_0x1a3982=_0x5ea7c1['cliConfig'][_0xb9a5aa(0x88)](_0x5829c8[_0xb9a5aa(0x167)])),_0x1492b=testOpsHelper[_0xb9a5aa(0xe6)](_0x1a3982);}if(helper[_0xb9a5aa(0x192)](_0x1492b)){const _0x2fa1f2={};_0x2fa1f2[_0xb9a5aa(0x162)]=ignore,_0x2fa1f2[_0xb9a5aa(0x129)]=extension,_0x2fa1f2['file']=file,_0x2fa1f2[_0xb9a5aa(0x125)]=recursive,_0x2fa1f2[_0xb9a5aa(0x11b)]=sort,_0x2fa1f2[_0xb9a5aa(0xc0)]=spec,_0x1492b=_0x5829c8[_0xb9a5aa(0x186)](collectFiles,_0x2fa1f2),_0x5829c8[_0xb9a5aa(0xca)](nestedKeyValue,_0x1492b,[_0x5829c8[_0xb9a5aa(0x155)]])&&(_0x1492b=_0x1492b['files']);}const _0x48eb40=helper[_0xb9a5aa(0xbc)](_0x5ea7c1['config']);!helper[_0xb9a5aa(0x16a)](_0x48eb40)&&helper['isNotUndefined'](_0x48eb40[_0xb9a5aa(0x147)])&&(_0xc817bd['retries']=_0x48eb40[_0xb9a5aa(0x147)][_0xb9a5aa(0x163)]);if(!helper[_0xb9a5aa(0xdb)]()){const _0x594b95=0x1,_0xb07a05={..._0xc817bd};_0xb07a05[_0xb9a5aa(0xc0)]=[..._0x1492b],_0x1eec31[_0xb9a5aa(0x158)]({'mochaOpts':_0xb07a05,'configuration':{'platform':os[_0xb9a5aa(0x11a)]()}}),logger[_0xb9a5aa(0x10c)](_0x5829c8['tuwyU']),logger[_0xb9a5aa(0x10c)](_0x5829c8[_0xb9a5aa(0xe3)]),_0x5829c8['DgDGm'](parallelTestRun,_0x1eec31,_0x594b95,_0x5ea7c1)['then'](_0x565407=>{const _0x3876c5=_0xb9a5aa;PerformanceTester['start'](PerformanceEvents[_0x3876c5(0x92)]),_0x5829c8[_0x3876c5(0xd8)](printStats,_0x565407,_0x422530[_0x3876c5(0xd0)],_0x422530[_0x3876c5(0x10f)]||_0x422530[_0x5829c8[_0x3876c5(0x102)]]);})[_0xb9a5aa(0xa6)](()=>{const _0x42ffaa=_0xb9a5aa;PerformanceTester[_0x42ffaa(0xd3)](PerformanceEvents[_0x42ffaa(0x92)]);try{const {browserstackFolderPath:_0x453e53,tcgConfigPath:_0x7d44b2}=helper[_0x42ffaa(0x134)]();fs['unlinkSync'](_0x7d44b2),fs['rmdirSync'](_0x453e53);}catch(_0x2590e6){logger[_0x42ffaa(0xc7)](_0x5829c8['nGOEF'],_0x2590e6);}try{utilities[_0x42ffaa(0x108)](_0x5829c8['mqHsz'],{},_0x5ea7c1[_0x42ffaa(0x15d)],_0x5ea7c1['framework']);}catch(_0xbacd07){logger[_0x42ffaa(0xc7)](_0x42ffaa(0x17a)+_0xbacd07['stack']);}try{helper[_0x42ffaa(0x13c)]();}catch(_0x4be5e6){logger[_0x42ffaa(0xc7)](_0x42ffaa(0x182)+_0x4be5e6);}testOpsHelper[_0x42ffaa(0x135)]();});}else{const _0x5463c4=helper[_0xb9a5aa(0xe9)](_0x5ea7c1[_0xb9a5aa(0x15d)]);let _0x56e2e8=helper[_0xb9a5aa(0xda)](_0x5ea7c1['config']);_0x5be579=helper[_0xb9a5aa(0x9f)](_0x5ea7c1[_0xb9a5aa(0x15d)],_0x5463c4,constants[_0xb9a5aa(0x12a)][_0xb9a5aa(0x166)]);helper[_0xb9a5aa(0x90)]()[_0xb9a5aa(0x123)]&&(_0x56e2e8=centralScannerConstants['BROWSERSTACK_GRR_US_HUB_URL']);let _0x58f2d7;const _0x4e657c=_0x5ea7c1['config']['parallelsPerPlatform']||helper[_0xb9a5aa(0xe5)](_0x422530,_0x152403,_0x5ea7c1[_0xb9a5aa(0x15d)],constants[_0xb9a5aa(0x12a)][_0xb9a5aa(0x166)])||0x1;helper[_0xb9a5aa(0x172)](_0x5ea7c1[_0xb9a5aa(0x15d)])?_0x58f2d7=_0x5829c8[_0xb9a5aa(0xe8)](_0x5ea7c1[_0xb9a5aa(0x15d)]['platforms']['length'],_0x4e657c):_0x58f2d7=_0x4e657c;const _0xe0fe77=_0x5829c8['QbeZD'](getPercyOptions,_0x5ea7c1[_0xb9a5aa(0x15d)]);if(_0x5829c8[_0xb9a5aa(0xde)](_0x5ea7c1['config'][_0xb9a5aa(0x151)],0x1))_0x1492b[_0xb9a5aa(0x168)](_0x48c882=>{const _0x2559d0=_0xb9a5aa,_0x513a3c=[];_0x5be579['forEach']((_0x5b2caf,_0x1b3e99)=>{const _0xa103f2=a28_0xbb8f,_0x2d93a4={};_0x2d93a4[_0xa103f2(0xc0)]=[_0x48c882],_0x513a3c[_0xa103f2(0x158)]({'mochaOpts':Object[_0xa103f2(0x118)]({},_0xc817bd,_0x2d93a4),'configuration':{'server':_0x56e2e8,'capability':_0x5b2caf,'proxySettings':_0x5ea7c1[_0xa103f2(0x15d)][_0xa103f2(0xeb)],'platform':helper[_0xa103f2(0xf9)](_0x5b2caf),'browserStackLogLevel':_0x5ea7c1[_0xa103f2(0x15d)]['logLevel'],'platformIndex':_0x1b3e99,'browserStackPercyOptions':_0xe0fe77,'platformCaps':Object[_0xa103f2(0x118)]({'index':_0x1b3e99},_0x5ea7c1[_0xa103f2(0x15d)]['platforms'][_0x1b3e99])}});}),_0x1eec31[_0x2559d0(0x158)](..._0x513a3c);});else{const _0x2df2ed=[];_0x5be579[_0xb9a5aa(0x168)]((_0x2d197a,_0x4ecb94)=>{const _0x6a30be=_0xb9a5aa;let _0x3bb6f1=Object[_0x6a30be(0x118)]({},_0xc817bd);testOpsHelper[_0x6a30be(0xd7)]()&&testOpsHelper['shouldReRunObservabilityTests']()&&(_0x3bb6f1={..._0x3bb6f1,'spec':[..._0x1492b]}),_0x2df2ed[_0x6a30be(0x158)]({'mochaOpts':_0x3bb6f1,'configuration':{'server':_0x56e2e8,'capability':_0x2d197a,'proxySettings':_0x5ea7c1[_0x6a30be(0x15d)]['proxySettings'],'platform':helper[_0x6a30be(0xf9)](_0x2d197a),'browserStackLogLevel':_0x5ea7c1[_0x6a30be(0x15d)][_0x6a30be(0x143)],'platformIndex':_0x4ecb94,'browserStackPercyOptions':_0xe0fe77,'platformCaps':Object[_0x6a30be(0x118)]({'index':_0x4ecb94},_0x5ea7c1['config']['platforms'][_0x4ecb94])}});}),_0x1eec31['push'](..._0x2df2ed);}logger[_0xb9a5aa(0x10c)](_0xb9a5aa(0xa9)+_0x5ea7c1[_0xb9a5aa(0x15d)]['platforms'][_0xb9a5aa(0x15e)]+_0xb9a5aa(0x174)),logger['info'](_0x5829c8[_0xb9a5aa(0xe3)]);let _0x4605a7;_0x5829c8[_0xb9a5aa(0xd8)](parallelTestRun,_0x1eec31,_0x58f2d7,_0x5ea7c1)[_0xb9a5aa(0x89)](_0x1c3705=>{const _0x28a5d0=_0xb9a5aa;PerformanceTester[_0x28a5d0(0xd3)](PerformanceEvents[_0x28a5d0(0x92)]),_0x4605a7=_0x1c3705,_0x5829c8[_0x28a5d0(0xd8)](printStats,_0x1c3705,_0x422530[_0x28a5d0(0xd0)],_0x422530[_0x28a5d0(0x10f)]||_0x422530[_0x5829c8[_0x28a5d0(0x102)]]);})[_0xb9a5aa(0xa6)](async()=>{const _0x27803b=_0xb9a5aa;PerformanceTester['start'](PerformanceEvents[_0x27803b(0x92)]),_0x5ea7c1[_0x27803b(0xd9)]=helper[_0x27803b(0xdc)](_0x4605a7,_0x5829c8[_0x27803b(0xd1)]),await utilities[_0x27803b(0x144)](_0x5ea7c1),testOpsHelper['printBuildLink']();});}}module[a28_0x352146(0x146)]=run;