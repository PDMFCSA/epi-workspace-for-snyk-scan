#!/usr/bin/env node
'use strict';const a32_0x560772=a32_0x5285;(function(_0x418bd5,_0x2ba2ec){const _0x53adb4=a32_0x5285,_0x37f141=_0x418bd5();while(!![]){try{const _0x323599=parseInt(_0x53adb4(0xe9))/0x1+parseInt(_0x53adb4(0x165))/0x2*(-parseInt(_0x53adb4(0x7d))/0x3)+parseInt(_0x53adb4(0xb6))/0x4*(parseInt(_0x53adb4(0x14c))/0x5)+parseInt(_0x53adb4(0xd2))/0x6+parseInt(_0x53adb4(0x112))/0x7*(-parseInt(_0x53adb4(0xee))/0x8)+-parseInt(_0x53adb4(0x100))/0x9+parseInt(_0x53adb4(0xf8))/0xa;if(_0x323599===_0x2ba2ec)break;else _0x37f141['push'](_0x37f141['shift']());}catch(_0x3e1c47){_0x37f141['push'](_0x37f141['shift']());}}}(a32_0x48d4,0x811c6));const chalk=require(a32_0x560772(0x15c)),logger=require(a32_0x560772(0x9c))['winstonLogger'],helper=require(a32_0x560772(0xce)),utilities=require('../../helpers/utilities'),testOpsHelper=require('../../helpers/test-observability/utils'),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a32_0x560772(0x143)),{requireModule,nestedKeyValue}=require(a32_0x560772(0xce)),{getPercyOptions}=require(a32_0x560772(0x70)),Base=requireModule(a32_0x560772(0x65),a32_0x560772(0x105)),collectFiles=requireModule('mocha/lib/cli/collect-files.js',a32_0x560772(0x105)),constants=require('../utils/constants'),PerformanceTester=require(a32_0x560772(0x12d)),PerformanceEvents=require('../../helpers/performance/constants')[a32_0x560772(0x124)],centralScannerConstants=require(a32_0x560772(0xa6)),{FRAMEWORKS}=require(a32_0x560772(0x109)),TestHubHandler=require(a32_0x560772(0x152)),ClientTroubleShootingService=require(a32_0x560772(0x11b));function tag(_0x125baa,_0x67d28e,_0x5c4d86,_0x68802d){const _0x1c0a97=a32_0x560772,_0x28a995={'ouSzG':function(_0x11afdb,_0x43e678){return _0x11afdb+_0x43e678;},'LvZnu':function(_0x38fb88,_0xc8c9c7){return _0x38fb88(_0xc8c9c7);},'OHTaH':function(_0x28edc8,_0x487dc7){return _0x28edc8+_0x487dc7;},'VsakA':function(_0xf15da5,_0x2a6442){return _0xf15da5+_0x2a6442;},'jZpuH':function(_0x8c4127,_0x4ccb96){return _0x8c4127+_0x4ccb96;},'cimYD':function(_0xad7879,_0x32ed50){return _0xad7879+_0x32ed50;},'jPCFd':function(_0x5545c3,_0x1f66cc){return _0x5545c3+_0x1f66cc;},'bgZdE':function(_0x3a5c3a,_0x4f8dd8){return _0x3a5c3a+_0x4f8dd8;}},_0x2b971a=_0x5c4d86?'/>':'>',_0x10441e=[];let _0x558498;for(const _0x3d02da in _0x67d28e){Object['prototype'][_0x1c0a97(0x155)]['call'](_0x67d28e,_0x3d02da)&&_0x10441e[_0x1c0a97(0xa4)](_0x28a995[_0x1c0a97(0x10e)](_0x28a995[_0x1c0a97(0x10e)](_0x28a995[_0x1c0a97(0x10e)](_0x3d02da,'=\x22'),_0x28a995[_0x1c0a97(0x108)](escape,_0x67d28e[_0x3d02da])),'\x22'));}return _0x558498=_0x28a995[_0x1c0a97(0x98)](_0x28a995[_0x1c0a97(0xba)](_0x28a995[_0x1c0a97(0x166)]('<',_0x125baa),_0x10441e[_0x1c0a97(0xc5)]?_0x28a995['cimYD']('\x20',_0x10441e[_0x1c0a97(0x10f)]('\x20')):''),_0x2b971a),_0x68802d&&(_0x558498+=_0x28a995[_0x1c0a97(0xde)](_0x28a995['OHTaH'](_0x28a995[_0x1c0a97(0x110)](_0x68802d,'</'),_0x125baa),_0x2b971a)),_0x558498;}let xunitContent='';function xunitWrite(_0x414465){xunitContent+=_0x414465;}function xunitTest(_0x1b1560,_0x5958cb){const _0x58b5fe=a32_0x560772,_0x1d2cb5={'NVyAP':function(_0x16fa96,_0x1ccb79){return _0x16fa96/_0x1ccb79;},'tTeJG':function(_0x2a0ac8,_0x4854b0){return _0x2a0ac8===_0x4854b0;},'zLeOp':_0x58b5fe(0x75),'DwNso':function(_0x83e5e5,_0x54f289){return _0x83e5e5+_0x54f289;},'HPCjQ':function(_0x4a5b6d,_0x29cbe3){return _0x4a5b6d(_0x29cbe3);},'VKjMe':function(_0x31b369,_0x4776b8,_0x11416f,_0x54cf9b,_0x1ef8fe){return _0x31b369(_0x4776b8,_0x11416f,_0x54cf9b,_0x1ef8fe);},'yIYlp':_0x58b5fe(0x11a),'hwkKv':_0x58b5fe(0x91),'pLyQu':function(_0x4e65bc,_0x1b375b){return _0x4e65bc(_0x1b375b);},'QqZYk':function(_0x565ed5,_0x2584c7,_0x3bfa6c,_0x5b3c98){return _0x565ed5(_0x2584c7,_0x3bfa6c,_0x5b3c98);},'qbPtG':_0x58b5fe(0x135),'FdieB':function(_0x823dad,_0x42ed58){return _0x823dad(_0x42ed58);}};Base[_0x58b5fe(0x150)]=![];var _0x22b4df={'classname':_0x1b1560['fullTitle'],'name':_0x1b1560['title'],'time':_0x1d2cb5['NVyAP'](_0x1b1560[_0x58b5fe(0x89)],0x3e8)||0x0,'platform':_0x5958cb};if(_0x1d2cb5['tTeJG'](_0x1b1560[_0x58b5fe(0x12a)],_0x1d2cb5[_0x58b5fe(0x77)])){var _0x5e4b5e=_0x1b1560[_0x58b5fe(0x99)],_0x3f80e0=!Base[_0x58b5fe(0x174)]&&Base[_0x58b5fe(0xd8)](_0x5e4b5e)?_0x1d2cb5['DwNso']('\x0a',Base[_0x58b5fe(0x118)](_0x5e4b5e[_0x58b5fe(0xdb)],_0x5e4b5e[_0x58b5fe(0x11c)])):'';_0x1d2cb5['HPCjQ'](xunitWrite,_0x1d2cb5[_0x58b5fe(0x117)](tag,_0x1d2cb5[_0x58b5fe(0x13b)],_0x22b4df,![],_0x1d2cb5['VKjMe'](tag,_0x1d2cb5[_0x58b5fe(0x168)],{},![],_0x1d2cb5['DwNso'](_0x1d2cb5[_0x58b5fe(0xb4)](_0x1d2cb5['DwNso'](_0x1d2cb5[_0x58b5fe(0xa0)](escape,_0x5e4b5e[_0x58b5fe(0x9e)]),_0x1d2cb5[_0x58b5fe(0xa0)](escape,_0x3f80e0)),'\x0a'),_0x1d2cb5[_0x58b5fe(0x151)](escape,_0x5e4b5e[_0x58b5fe(0x130)])))));}else _0x1b1560[_0x58b5fe(0x95)]?_0x1d2cb5['HPCjQ'](xunitWrite,_0x1d2cb5[_0x58b5fe(0x117)](tag,_0x1d2cb5[_0x58b5fe(0x13b)],_0x22b4df,![],_0x1d2cb5[_0x58b5fe(0xbf)](tag,_0x1d2cb5[_0x58b5fe(0xc4)],{},!![]))):_0x1d2cb5[_0x58b5fe(0xf0)](xunitWrite,_0x1d2cb5[_0x58b5fe(0xbf)](tag,_0x1d2cb5['yIYlp'],_0x22b4df,!![]));};function getStats(_0x4c85be){const _0x1b9194=a32_0x560772,_0x4e9383={};_0x4e9383['nswmn']=_0x1b9194(0xdf),_0x4e9383[_0x1b9194(0xe8)]='passed',_0x4e9383['inhGT']=_0x1b9194(0x75),_0x4e9383[_0x1b9194(0xf6)]='results';const _0x1c9947=_0x4e9383,_0x52c867=Object['keys'](_0x4c85be);let _0x1fa15b=0x0,_0x396e6b=0x0,_0x19ea59=0x0,_0x595138=0x0;const _0x2bb10f=new Set();_0x52c867[_0x1b9194(0x68)](_0x3a1141=>{const _0x51a198=_0x1b9194;_0x4c85be[_0x3a1141][_0x1c9947[_0x51a198(0xf6)]]['forEach'](_0x324360=>{const _0x11fe91=_0x51a198;_0x2bb10f[_0x11fe91(0x139)](_0x324360[_0x1c9947[_0x11fe91(0x141)]]),_0x1fa15b++;switch(_0x324360[_0x11fe91(0x12a)]){case _0x1c9947[_0x11fe91(0xe8)]:_0x19ea59++;break;case _0x1c9947[_0x11fe91(0x87)]:_0x396e6b++;break;default:_0x595138++;}});});const _0xf147c0={};return _0xf147c0[_0x1b9194(0x72)]=_0x2bb10f['size'],_0xf147c0[_0x1b9194(0x106)]=_0x52c867,_0xf147c0[_0x1b9194(0xe5)]=_0x1fa15b,_0xf147c0['testsFailed']=_0x396e6b,_0xf147c0['testsPassed']=_0x19ea59,_0xf147c0[_0x1b9194(0x125)]=_0x595138,_0xf147c0;}function errorJSON(_0x187b76){const _0x2957f1=a32_0x560772;var _0x2a6173={};return Object[_0x2957f1(0xb8)](_0x187b76)[_0x2957f1(0x68)](function(_0x31dc0a){_0x2a6173[_0x31dc0a]=_0x187b76[_0x31dc0a];},_0x187b76),_0x2a6173;}function cleanCycles(_0x3d7ba9){const _0x51556a=a32_0x560772,_0x4ec89b={};_0x4ec89b[_0x51556a(0x103)]=function(_0xf28682,_0x40ce32){return _0xf28682===_0x40ce32;},_0x4ec89b[_0x51556a(0x123)]='object',_0x4ec89b[_0x51556a(0xaf)]=function(_0x39f6ec,_0x5b4788){return _0x39f6ec!==_0x5b4788;},_0x4ec89b['ggqEE']=function(_0x8d6bb4,_0x34c072){return _0x8d6bb4!==_0x34c072;},_0x4ec89b[_0x51556a(0x101)]=function(_0x39f4d2,_0x92d0d5){return _0x39f4d2+_0x92d0d5;};const _0x5a8a36=_0x4ec89b;var _0x187334=[];return JSON[_0x51556a(0x8f)](JSON['stringify'](_0x3d7ba9,function(_0x486891,_0x1263cf){const _0x4eb867=_0x51556a;if(_0x5a8a36['kTjdE'](typeof _0x1263cf,_0x5a8a36[_0x4eb867(0x123)])&&_0x5a8a36['IRULB'](_0x1263cf,null)){if(_0x5a8a36['ggqEE'](_0x187334[_0x4eb867(0xcd)](_0x1263cf),-0x1))return _0x5a8a36[_0x4eb867(0x101)]('',_0x1263cf);_0x187334[_0x4eb867(0xa4)](_0x1263cf);}return _0x1263cf;}));}function clean(_0x173c72){const _0x4afa83=a32_0x560772,_0x4a7497={'KqGZn':function(_0x33f88,_0x2b976d){return _0x33f88 instanceof _0x2b976d;},'qRQhp':function(_0x79f109,_0x26b803){return _0x79f109(_0x26b803);}};var _0x37bc43=_0x173c72[_0x4afa83(0x99)]||{};return _0x4a7497[_0x4afa83(0x74)](_0x37bc43,Error)&&(_0x37bc43=_0x4a7497[_0x4afa83(0xe1)](errorJSON,_0x37bc43)),{'title':_0x173c72[_0x4afa83(0x158)],'fullTitle':_0x173c72[_0x4afa83(0x120)],'file':_0x173c72[_0x4afa83(0x169)],'duration':_0x173c72[_0x4afa83(0x89)],'currentRetry':_0x173c72[_0x4afa83(0x156)],'speed':_0x173c72[_0x4afa83(0x14e)],'err':_0x4a7497['qRQhp'](cleanCycles,_0x37bc43)};}function a32_0x5285(_0x4ca0fa,_0x11bafc){const _0x48d46f=a32_0x48d4();return a32_0x5285=function(_0x528500,_0x2b363b){_0x528500=_0x528500-0x65;let _0x5bc272=_0x48d46f[_0x528500];return _0x5bc272;},a32_0x5285(_0x4ca0fa,_0x11bafc);}function printStats(_0x1b70a5,_0xab4c10=a32_0x560772(0xdd),_0xea886b={}){const _0x2f439f=a32_0x560772,_0x24c034={'wrpBE':function(_0x3b90f9,_0x7f01c9){return _0x3b90f9(_0x7f01c9);},'DBnVq':function(_0x21bd88,_0x5c0ba5){return _0x21bd88===_0x5c0ba5;},'ITZPN':_0x2f439f(0xa8),'XYAmq':'passes','BpvfF':function(_0x2c77e3,_0x266866){return _0x2c77e3(_0x266866);},'LiaFx':_0x2f439f(0x75),'GJREs':_0x2f439f(0xa2),'iBNEo':_0x2f439f(0x176),'teCyF':_0x2f439f(0x171),'olCLl':function(_0xb8bd89,_0x5e1b5a){return _0xb8bd89===_0x5e1b5a;},'KAuLu':function(_0x3ebfe0,_0x327cbb){return _0x3ebfe0===_0x327cbb;},'ymwCK':function(_0x5e922e,_0x1fde17){return _0x5e922e*_0x1fde17;},'XivpV':function(_0x14fc3e,_0x30693b,_0x2dcb61){return _0x14fc3e(_0x30693b,_0x2dcb61);},'MXppj':function(_0x1aa295,_0x5e328a){return _0x1aa295===_0x5e328a;},'iUDhm':function(_0x4b1ddc,_0x3dcb5b){return _0x4b1ddc>_0x3dcb5b;},'aXDKJ':function(_0x227244){return _0x227244();},'sWiDW':function(_0x288d4f,_0x2b9418){return _0x288d4f===_0x2b9418;},'JaEtd':_0x2f439f(0xe7),'DkyED':function(_0x248907,_0x65efa0){return _0x248907>_0x65efa0;},'LeXxy':_0x2f439f(0x6a),'pwDog':_0x2f439f(0xd5),'ZMXBW':function(_0x5b33fe,_0x394c48){return _0x5b33fe+_0x394c48;},'tDeoB':_0x2f439f(0xda),'ZxFHV':_0x2f439f(0x76),'QuNaQ':function(_0x2c4f4a,_0x1833de){return _0x2c4f4a+_0x1833de;},'YvaxI':_0x2f439f(0x115),'gEZGu':function(_0x18d43f,_0x3cde65){return _0x18d43f>_0x3cde65;},'VeApA':function(_0x5aa048,_0x2a657a){return _0x5aa048>_0x2a657a;},'KIauq':function(_0xc93739,_0x694172){return _0xc93739+_0x694172;},'qGCfu':function(_0x2610bf,_0x3d461b){return _0x2610bf+_0x3d461b;},'PsdxS':function(_0x4cdd82,_0x3e7f1c){return _0x4cdd82+_0x3e7f1c;},'eIqcf':function(_0xa4c690,_0x51f151){return _0xa4c690+_0x51f151;},'BRtPC':_0x2f439f(0x16e),'XjHcz':function(_0x5bfed9,_0x4e8102){return _0x5bfed9===_0x4e8102;},'WqdVs':_0x2f439f(0xa5),'LKRDq':_0x2f439f(0x10c),'VWkhZ':'Couldn\x27t\x20write\x20json\x20result\x20to','WYqXh':'No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','zunMD':_0x2f439f(0x126),'OvNda':_0x2f439f(0x16a),'uBBoe':function(_0x492cb4,_0x3a1c6b){return _0x492cb4||_0x3a1c6b;},'NLhjK':function(_0x489d53,_0x540eca,_0x305e88,_0x3de897){return _0x489d53(_0x540eca,_0x305e88,_0x3de897);},'nTrcn':_0x2f439f(0x14b),'EKqtK':function(_0x1f81e4,_0x39ff7c){return _0x1f81e4-_0x39ff7c;},'rbKAL':function(_0x1536c3,_0x5b5969){return _0x1536c3/_0x5b5969;},'JruyG':_0x2f439f(0x147),'OzCvu':_0x2f439f(0x96),'nbSfL':_0x2f439f(0x140),'AwACP':_0x2f439f(0x6d),'dfbwn':'Listing\x20all\x20the\x20failures','TFEMC':'****\x20FAILURES\x20****'};if(_0x24c034[_0x2f439f(0xd6)](_0xab4c10,_0x24c034[_0x2f439f(0xfc)]))return;const _0x1172d8=0x0,_0x3defc7=()=>{const _0x418bd3=_0x2f439f;return _0x24c034[_0x418bd3(0xcf)](Array,_0x1172d8)[_0x418bd3(0x10f)]('\x20\x20');},{testSuites:_0xc4c9f9,platforms:_0x5798a8,totalTests:_0x534ea5,testsFailed:_0x136464,testsPassed:_0x59dbe8,testsPending:_0x14678e}=_0x24c034[_0x2f439f(0xcf)](getStats,_0x1b70a5);_0x24c034[_0x2f439f(0xf2)](_0x136464,0x0)&&(logger['debug'](_0x24c034['LeXxy']),process[_0x2f439f(0xec)]=Math[_0x2f439f(0xca)](_0x136464,0xff));logger['debug'](_0x24c034['pwDog']);const _0x50f5af=''+_0x24c034['ZMXBW'](chalk[_0x2f439f(0x11d)](_0x24c034[_0x2f439f(0xa1)]),_0x5798a8['length']),_0x23c332=''+_0x24c034[_0x2f439f(0xd9)](chalk[_0x2f439f(0x11d)](_0x24c034['ZxFHV']),_0xc4c9f9),_0x3937cf=''+_0x24c034[_0x2f439f(0xd9)](_0x24c034[_0x2f439f(0x88)](_0x24c034[_0x2f439f(0xd9)](chalk[_0x2f439f(0x11d)](_0x24c034[_0x2f439f(0x11f)]),_0x24c034[_0x2f439f(0x79)](_0x136464,0x0)?chalk[_0x2f439f(0x11d)]['red'](_0x136464+_0x2f439f(0xf1))+',\x20':''),_0x24c034[_0x2f439f(0x129)](_0x14678e,0x0)?chalk[_0x2f439f(0x11d)][_0x2f439f(0x13d)](_0x14678e+'\x20skipped')+',\x20':''),_0x24c034[_0x2f439f(0xf2)](_0x59dbe8,0x0)?chalk[_0x2f439f(0x11d)][_0x2f439f(0x170)](_0x59dbe8+_0x2f439f(0xd4))+',\x20':'')+_0x534ea5+_0x2f439f(0x6e);console['log'](_0x24c034['QuNaQ'](_0x24c034['KIauq'](_0x24c034[_0x2f439f(0x12e)](_0x24c034[_0x2f439f(0x138)](_0x24c034[_0x2f439f(0x14f)](_0x24c034['BRtPC'],_0x50f5af),'\x0a'),_0x23c332),'\x0a'),_0x3937cf));if(_0x24c034[_0x2f439f(0x15b)](_0xab4c10,_0x24c034[_0x2f439f(0x15d)])){const _0x556744={},_0x343e6e={};_0x343e6e[_0x2f439f(0x72)]=_0xc4c9f9,_0x343e6e['platforms']=_0x5798a8,_0x343e6e['testsFailed']=_0x136464,_0x343e6e[_0x2f439f(0x8a)]=_0x59dbe8,_0x343e6e[_0x2f439f(0x125)]=_0x14678e,_0x556744['stats']=_0x343e6e,_0x5798a8[_0x2f439f(0x68)](_0x279f5b=>{const _0x3feaeb=_0x2f439f,_0x1753e9={'sSRJA':function(_0x212923,_0x53409b){return _0x24c034['DBnVq'](_0x212923,_0x53409b);},'KmYKh':_0x24c034[_0x3feaeb(0xb5)],'YUmKT':_0x24c034[_0x3feaeb(0x102)],'joZao':function(_0x125d9d,_0x570922){const _0x39d4f6=_0x3feaeb;return _0x24c034[_0x39d4f6(0x157)](_0x125d9d,_0x570922);},'RPxJh':_0x24c034[_0x3feaeb(0xe4)],'PBzCE':_0x24c034['GJREs'],'WJkux':function(_0x1c962a,_0x52d49d){const _0x41ad93=_0x3feaeb;return _0x24c034[_0x41ad93(0x157)](_0x1c962a,_0x52d49d);},'InBuB':_0x24c034[_0x3feaeb(0xf9)]};_0x556744[_0x279f5b]={'pending':[],'failures':[],'passes':[],'tests':_0x1b70a5[_0x279f5b][_0x24c034[_0x3feaeb(0xff)]][_0x3feaeb(0xc7)](clean)},_0x1b70a5[_0x279f5b][_0x24c034[_0x3feaeb(0xff)]]['forEach'](_0x570221=>{const _0xb24d98=_0x3feaeb;if(_0x1753e9[_0xb24d98(0xaa)](_0x570221['state'],_0x1753e9[_0xb24d98(0x145)]))_0x556744[_0x279f5b][_0x1753e9['YUmKT']]['push'](_0x1753e9[_0xb24d98(0xd1)](clean,_0x570221));else _0x1753e9['sSRJA'](_0x570221['state'],_0x1753e9[_0xb24d98(0x122)])?_0x556744[_0x279f5b][_0x1753e9[_0xb24d98(0x136)]][_0xb24d98(0xa4)](_0x1753e9['WJkux'](clean,_0x570221)):_0x556744[_0x279f5b][_0x1753e9[_0xb24d98(0x15e)]][_0xb24d98(0xa4)](_0x1753e9[_0xb24d98(0xe2)](clean,_0x570221));});});if(_0xea886b['output'])try{logger[_0x2f439f(0x84)](_0x24c034[_0x2f439f(0x114)],_0xea886b[_0x2f439f(0x12f)]),fs['writeFileSync'](_0xea886b[_0x2f439f(0x12f)],JSON[_0x2f439f(0x16b)](_0x556744,null,0x3));}catch(_0xd9d562){logger['error'](_0x24c034[_0x2f439f(0x11e)],_0xea886b[_0x2f439f(0x12f)]),logger[_0x2f439f(0x84)](_0xd9d562);}else logger[_0x2f439f(0x84)](_0x24c034[_0x2f439f(0x178)]),console[_0x2f439f(0x175)](JSON['stringify'](_0x556744,null,0x3));}else{if(_0x24c034[_0x2f439f(0xd6)](_0xab4c10,_0x24c034[_0x2f439f(0x164)])){let _0x4add45;const _0x4217b7=_0x24c034['OvNda'];_0xea886b&&(_0x4add45=_0xea886b[_0x2f439f(0xe3)]);_0x4add45=_0x24c034[_0x2f439f(0x86)](_0x4add45,_0x4217b7);let _0x58b8cc=0x0,_0x3fdd65=0x0,_0x5f0473=0x0,_0x3bd472=0x0;_0x5798a8['forEach'](_0x201575=>{const _0x5accb4=_0x2f439f,_0x4fed86={'goYdS':function(_0x1760be,_0x109d21){return _0x24c034['olCLl'](_0x1760be,_0x109d21);},'oxQFW':_0x24c034['ITZPN'],'YgndN':function(_0x104ca6,_0x4514da){const _0xa8e486=a32_0x5285;return _0x24c034[_0xa8e486(0xc6)](_0x104ca6,_0x4514da);},'DSLKh':_0x24c034[_0x5accb4(0xe4)],'DPfvD':function(_0x446c6b,_0x3bf107){const _0x4f5c7e=_0x5accb4;return _0x24c034[_0x4f5c7e(0x144)](_0x446c6b,_0x3bf107);}};_0x1b70a5[_0x201575][_0x24c034[_0x5accb4(0xff)]][_0x5accb4(0x68)](_0x12f140=>{const _0x49b9f3=_0x5accb4;if(_0x4fed86['goYdS'](_0x12f140['state'],_0x4fed86[_0x49b9f3(0x6c)]))_0x58b8cc++;else _0x4fed86[_0x49b9f3(0x66)](_0x12f140['state'],_0x4fed86['DSLKh'])&&_0x3fdd65++;_0x5f0473++,_0x3bd472+=_0x4fed86[_0x49b9f3(0x128)](_0x12f140['duration'],0x1);});}),_0x24c034[_0x2f439f(0x157)](xunitWrite,_0x24c034[_0x2f439f(0xc9)](tag,_0x24c034[_0x2f439f(0xac)],{'name':_0x4add45,'tests':_0x5f0473,'failures':0x0,'errors':_0x3fdd65,'skipped':_0x24c034[_0x2f439f(0x163)](_0x24c034[_0x2f439f(0x163)](_0x5f0473,_0x3fdd65),_0x58b8cc),'timestamp':new Date()[_0x2f439f(0x13e)](),'time':_0x24c034[_0x2f439f(0x9f)](_0x3bd472,0x3e8)||0x0},![])),_0x5798a8['forEach'](_0x5b3f5d=>{const _0x81675a=_0x2f439f,_0x5a2b25={'WeIDf':function(_0x178f0c,_0x1d9336,_0xc90a39){const _0x273965=a32_0x5285;return _0x24c034[_0x273965(0xd7)](_0x178f0c,_0x1d9336,_0xc90a39);}};_0x1b70a5[_0x5b3f5d][_0x24c034[_0x81675a(0xff)]][_0x81675a(0x68)](_0x5ec8e0=>{const _0x199f1c=_0x81675a;_0x5a2b25[_0x199f1c(0xeb)](xunitTest,_0x5ec8e0,_0x5b3f5d);});}),_0x24c034[_0x2f439f(0xcf)](xunitWrite,_0x24c034[_0x2f439f(0x132)]);if(_0xea886b['output'])try{logger[_0x2f439f(0x84)](_0x24c034[_0x2f439f(0x133)],_0xea886b[_0x2f439f(0x12f)]),fs[_0x2f439f(0x8e)](_0xea886b['output'],xunitContent);}catch(_0x3e6eed){logger[_0x2f439f(0x9d)](_0x24c034[_0x2f439f(0xa3)],_0xea886b[_0x2f439f(0x12f)]),logger[_0x2f439f(0x84)](_0x3e6eed);}else logger[_0x2f439f(0x84)](_0x24c034[_0x2f439f(0x80)]),console[_0x2f439f(0x175)](xunitContent);}else{if(_0x24c034[_0x2f439f(0xc8)](_0x136464,0x0))return;console[_0x2f439f(0x175)](),logger[_0x2f439f(0x84)](_0x24c034[_0x2f439f(0x10b)]),console['log'](chalk[_0x2f439f(0x11d)][_0x2f439f(0x104)](_0x24c034[_0x2f439f(0xcc)])),_0x5798a8[_0x2f439f(0x68)](_0x3b39d2=>{const _0x4f35eb=_0x2f439f,_0x2e9ec2=[];_0x1b70a5[_0x3b39d2][_0x24c034[_0x4f35eb(0xff)]][_0x4f35eb(0x68)](_0x4af6ef=>{const _0x4a13c9=_0x4f35eb;_0x24c034[_0x4a13c9(0xc8)](_0x4af6ef[_0x4a13c9(0x12a)],_0x24c034[_0x4a13c9(0xe4)])&&(_0x4af6ef[_0x4a13c9(0x146)]=()=>_0x4af6ef[_0x4a13c9(0x116)],_0x2e9ec2['push'](_0x4af6ef));}),_0x24c034[_0x4f35eb(0x94)](_0x2e9ec2[_0x4f35eb(0xc5)],0x0)&&(Base[_0x4f35eb(0x16d)](),Base['consoleLog'](_0x24c034[_0x4f35eb(0xb0)](_0x3defc7),chalk[_0x4f35eb(0x11d)]['bgBlueBright'](_0x3b39d2)),Base[_0x4f35eb(0x161)](_0x2e9ec2));});}}}async function run(_0x355ecd,_0x5c29cc,_0x40b57c){const _0x429068=a32_0x560772,_0x506681={'crcjI':function(_0x2dab59,_0x4da36f,_0x493bd1,_0x357904){return _0x2dab59(_0x4da36f,_0x493bd1,_0x357904);},'RpfmR':_0x429068(0xc3),'nupQK':_0x429068(0xbb),'aySey':_0x429068(0xfd),'rzUgW':'mocha','jwNXY':function(_0x2d687c,_0x44404d){return _0x2d687c!=_0x44404d;},'Ymnxb':'cjs','QZBSG':_0x429068(0x8b),'wMneb':_0x429068(0xed),'AVTqC':_0x429068(0xc2),'KFPwR':function(_0x9129e4,_0x4e83e0){return _0x9129e4(_0x4e83e0);},'itAyo':function(_0x2aced4,_0xb5f5d8,_0x3f003a){return _0x2aced4(_0xb5f5d8,_0x3f003a);},'hTDTG':_0x429068(0xb1),'zFAlO':function(_0x34723a,_0x423d61){return _0x34723a!=_0x423d61;},'YjNbT':_0x429068(0x149),'NQPcN':_0x429068(0xe0),'GMfsI':'includeEncodedExtension','yQhWq':'Running\x20your\x20mocha\x20tests','bYWSR':_0x429068(0x7e),'EDnak':function(_0x5b3aa9,_0x1088a7){return _0x5b3aa9*_0x1088a7;},'ybRjS':function(_0x2c9ec2,_0xfdbc84){return _0x2c9ec2(_0xfdbc84);},'nrisH':function(_0x3ddcd0,_0x2e61a5){return _0x3ddcd0!==_0x2e61a5;}};helper[_0x429068(0x137)](_0x40b57c[_0x429068(0xf5)],_0x355ecd),await _0x40b57c[_0x429068(0x78)](_0x355ecd);helper[_0x429068(0x13a)]()?await helper[_0x429068(0xea)](_0x40b57c[_0x429068(0xae)]):await _0x40b57c['setupTCGAuth']();const _0x48356e=[];let _0x1e7b94=[];if(!_0x40b57c['config'])return;!helper[_0x429068(0xcb)](_0x40b57c[_0x429068(0xae)][_0x429068(0x81)])&&(process['env'][_0x429068(0x159)]=JSON['stringify'](_0x40b57c[_0x429068(0xae)][_0x429068(0x81)]));const _0x17dc94=await TestHubHandler[_0x429068(0xb3)](FRAMEWORKS[_0x429068(0x16f)],_0x40b57c);_0x506681[_0x429068(0x131)](_0x40b57c[_0x429068(0xae)][_0x429068(0x73)],null)&&(process[_0x429068(0xfb)][_0x429068(0x71)]=_0x40b57c[_0x429068(0xae)][_0x429068(0x73)]);!helper['isUndefined'](_0x40b57c[_0x429068(0xae)][_0x429068(0x15f)])&&(process[_0x429068(0xfb)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x40b57c[_0x429068(0xae)][_0x429068(0x15f)]);const {extension:extension=['js',_0x506681[_0x429068(0x7b)],_0x506681[_0x429068(0x6f)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x506681['wMneb']]}=_0x355ecd,_0x1fe1f9={..._0x355ecd};_0x1fe1f9[_0x429068(0x121)]=null;const _0x4daf47=_0x1fe1f9;let _0x5c6139;if(testOpsHelper[_0x429068(0xd3)]()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0xb0e648=process[_0x429068(0xfb)][_0x429068(0xc0)];!helper['isUndefined'](_0x40b57c['cliConfig'])&&_0x40b57c['cliConfig'][_0x429068(0x13c)](_0x506681[_0x429068(0x83)])&&(_0xb0e648=_0x40b57c[_0x429068(0x167)][_0x429068(0x10d)](_0x506681['AVTqC'])),_0x5c6139=testOpsHelper[_0x429068(0xc1)](_0xb0e648);}if(helper[_0x429068(0xcb)](_0x5c6139)){const _0x50ada8={};_0x50ada8[_0x429068(0xb2)]=ignore,_0x50ada8[_0x429068(0x97)]=extension,_0x50ada8['file']=file,_0x50ada8[_0x429068(0xbd)]=recursive,_0x50ada8[_0x429068(0x93)]=sort,_0x50ada8[_0x429068(0xdd)]=spec,_0x5c6139=_0x506681[_0x429068(0x14d)](collectFiles,_0x50ada8),_0x506681[_0x429068(0x69)](nestedKeyValue,_0x5c6139,[_0x506681[_0x429068(0x13f)]])&&(_0x5c6139=_0x5c6139['files']);}const _0x5c27be=helper['parseTestOrchestrationOptions'](_0x40b57c[_0x429068(0xae)]);!helper[_0x429068(0xad)](_0x5c27be)&&helper['isNotUndefined'](_0x5c27be['retryTestsOnFailure'])&&(_0x4daf47[_0x429068(0xf4)]=_0x5c27be[_0x429068(0xa9)][_0x429068(0xbe)]);if(!helper[_0x429068(0x13a)]()){const _0x40984d=0x1,_0x12a0d4={..._0x4daf47};_0x12a0d4[_0x429068(0xdd)]=[..._0x5c6139],_0x48356e[_0x429068(0xa4)]({'mochaOpts':_0x12a0d4,'configuration':{'platform':os[_0x429068(0x7c)]()}});if(_0x40b57c[_0x429068(0xae)][_0x429068(0x15f)]){const _0x4f216f={};_0x4f216f[_0x429068(0x15f)]=!![];const _0x1913b9=_0x4f216f;_0x506681['zFAlO'](_0x40b57c[_0x429068(0xae)][_0x429068(0x81)],null)&&(_0x1913b9[_0x429068(0x81)]=_0x40b57c[_0x429068(0xae)][_0x429068(0x81)],delete _0x1913b9[_0x429068(0x81)][_0x506681[_0x429068(0x119)]],delete _0x1913b9[_0x429068(0x81)][_0x506681[_0x429068(0xef)]],delete _0x1913b9[_0x429068(0x81)][_0x506681[_0x429068(0xb9)]]);const _0x41fd7d={};_0x41fd7d[_0x429068(0x127)]=_0x1913b9,_0x48356e[0x0][_0x429068(0x67)][_0x429068(0x92)]=_0x41fd7d;}logger['info'](_0x506681[_0x429068(0x16c)]),logger['info'](_0x506681[_0x429068(0x148)]),_0x506681[_0x429068(0xfa)](parallelTestRun,_0x48356e,_0x40984d,_0x40b57c)[_0x429068(0xf3)](_0x52e73b=>{const _0x4a6849=_0x429068;PerformanceTester[_0x4a6849(0x173)](PerformanceEvents['SDK_CLEANUP']),_0x506681['crcjI'](printStats,_0x52e73b,_0x355ecd[_0x4a6849(0x154)],_0x355ecd['reporterOptions']||_0x355ecd[_0x506681['RpfmR']]);})['finally'](()=>{const _0x185041=_0x429068;PerformanceTester['start'](PerformanceEvents[_0x185041(0xd0)]);try{const {browserstackFolderPath:_0x185701,tcgConfigPath:_0x4c4f71}=helper[_0x185041(0xfe)]();fs[_0x185041(0x142)](_0x4c4f71),fs['rmdirSync'](_0x185701);}catch(_0x15954e){logger['debug'](_0x506681[_0x185041(0x8d)],_0x15954e);}try{utilities[_0x185041(0x82)](_0x506681[_0x185041(0x111)],{},_0x40b57c[_0x185041(0xae)],_0x40b57c[_0x185041(0xf5)]);}catch(_0x23b823){logger[_0x185041(0x84)](_0x185041(0x162)+_0x23b823[_0x185041(0x130)]);}try{helper[_0x185041(0x6b)]();}catch(_0x29eee9){logger[_0x185041(0x84)](_0x185041(0x160)+_0x29eee9);}testOpsHelper[_0x185041(0xab)]();});}else{const _0x254c84=helper[_0x429068(0x177)](_0x40b57c['config']);let _0x1b22a8=helper[_0x429068(0x15a)](_0x40b57c['config']);_0x1e7b94=helper['prepareCapabilities'](_0x40b57c[_0x429068(0xae)],_0x254c84,constants[_0x429068(0x7a)][_0x429068(0x16f)]);helper[_0x429068(0x134)]()[_0x429068(0x12b)]&&(_0x1b22a8=centralScannerConstants[_0x429068(0x85)]);let _0x3b209b;const _0x1a59e0=_0x40b57c['config'][_0x429068(0x153)]||helper[_0x429068(0x9a)](_0x355ecd,_0x5c29cc,_0x40b57c[_0x429068(0xae)],constants[_0x429068(0x7a)][_0x429068(0x16f)])||0x1;helper[_0x429068(0x113)](_0x40b57c[_0x429068(0xae)])?_0x3b209b=_0x506681[_0x429068(0x172)](_0x40b57c[_0x429068(0xae)]['platforms'][_0x429068(0xc5)],_0x1a59e0):_0x3b209b=_0x1a59e0;const _0x5a5295=_0x506681[_0x429068(0x7f)](getPercyOptions,_0x40b57c['config']);if(_0x506681[_0x429068(0xb7)](_0x40b57c[_0x429068(0xae)][_0x429068(0x153)],0x1))_0x5c6139[_0x429068(0x68)](_0x2a0ecd=>{const _0x1b3557=_0x429068,_0x4d095d=[];_0x1e7b94['forEach']((_0x284fb5,_0x1c37f2)=>{const _0x124402=a32_0x5285,_0x28809b={};_0x28809b[_0x124402(0xdd)]=[_0x2a0ecd],_0x4d095d[_0x124402(0xa4)]({'mochaOpts':Object[_0x124402(0x12c)]({},_0x4daf47,_0x28809b),'configuration':{'server':_0x1b22a8,'capability':_0x284fb5,'proxySettings':_0x40b57c[_0x124402(0xae)][_0x124402(0xbc)],'platform':helper[_0x124402(0xe6)](_0x284fb5),'browserStackLogLevel':_0x40b57c[_0x124402(0xae)][_0x124402(0x9b)],'platformIndex':_0x1c37f2,'browserStackPercyOptions':_0x5a5295,'platformCaps':Object[_0x124402(0x12c)]({'index':_0x1c37f2},_0x40b57c[_0x124402(0xae)][_0x124402(0x106)][_0x1c37f2])}});}),_0x48356e[_0x1b3557(0xa4)](..._0x4d095d);});else{const _0x50f1e8=[];_0x1e7b94['forEach']((_0x436923,_0x43933d)=>{const _0x5cdb92=_0x429068;let _0x90e256=Object[_0x5cdb92(0x12c)]({},_0x4daf47);testOpsHelper[_0x5cdb92(0xd3)]()&&testOpsHelper[_0x5cdb92(0x14a)]()&&(_0x90e256={..._0x90e256,'spec':[..._0x5c6139]}),_0x50f1e8[_0x5cdb92(0xa4)]({'mochaOpts':_0x90e256,'configuration':{'server':_0x1b22a8,'capability':_0x436923,'proxySettings':_0x40b57c[_0x5cdb92(0xae)][_0x5cdb92(0xbc)],'platform':helper[_0x5cdb92(0xe6)](_0x436923),'browserStackLogLevel':_0x40b57c[_0x5cdb92(0xae)][_0x5cdb92(0x9b)],'platformIndex':_0x43933d,'browserStackPercyOptions':_0x5a5295,'platformCaps':Object['assign']({'index':_0x43933d},_0x40b57c['config'][_0x5cdb92(0x106)][_0x43933d])}});}),_0x48356e[_0x429068(0xa4)](..._0x50f1e8);}logger[_0x429068(0x10a)]('Running\x20your\x20mocha\x20tests\x20across\x20'+_0x40b57c['config']['platforms'][_0x429068(0xc5)]+_0x429068(0x107)),logger['info'](_0x506681[_0x429068(0x148)]);let _0x2dc5ee;_0x506681[_0x429068(0xfa)](parallelTestRun,_0x48356e,_0x3b209b,_0x40b57c)['then'](_0x2525f2=>{const _0x37970f=_0x429068;PerformanceTester['start'](PerformanceEvents[_0x37970f(0xd0)]),_0x2dc5ee=_0x2525f2,_0x506681[_0x37970f(0xfa)](printStats,_0x2525f2,_0x355ecd[_0x37970f(0x154)],_0x355ecd[_0x37970f(0x8c)]||_0x355ecd[_0x506681['RpfmR']]);})[_0x429068(0xf7)](async()=>{const _0xbe8559=_0x429068;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']),_0x40b57c[_0xbe8559(0x90)]=helper['getErrorMessageFromResults'](_0x2dc5ee,_0x506681[_0xbe8559(0xa7)]),await utilities['finalExecution'](_0x40b57c),testOpsHelper[_0xbe8559(0xab)]();});}}module[a32_0x560772(0xdc)]=run;function a32_0x48d4(){const _0x47b5b6=['rerunTests','reporter-option','qbPtG','length','KAuLu','map','MXppj','NLhjK','min','isUndefined','TFEMC','indexOf','../../helpers/helper','wrpBE','SDK_CLEANUP','joZao','2254188oKUaSy','isTestObservabilitySession','\x20passed','Printing\x20stats\x20of\x20tests','sWiDW','XivpV','showDiff','ZMXBW','Total\x20Platforms:\x20','actual','exports','spec','jPCFd','suite','excludeTagsInTestingScope','qRQhp','WJkux','suiteName','LiaFx','totalTests','getPlatformName','doc','uKpER','1006630XXcsya','handleApp','WeIDf','exitCode','test','116136ojWNWg','NQPcN','FdieB','\x20failed','DkyED','then','retries','framework','BUBLg','finally','3611950KALNcv','iBNEo','crcjI','env','JaEtd','SDKTestSuccessful','getTCGConfigFilePaths','teCyF','5000670DrfKbx','DHhZg','XYAmq','kTjdE','bgRedBright','mocha','platforms','\x20platforms','LvZnu','../../helpers/test-observability/constants','info','dfbwn','Writing\x20json\x20result\x20to\x20file','get','ouSzG','join','bgZdE','aySey','406msauUp','validPlatformsPresent','LKRDq','Tests:\x20\x20\x20\x20\x20\x20\x20','titlePathV','VKjMe','generateDiff','YjNbT','testcase','../utils/clientTroubleshootingService','expected','bold','VWkhZ','YvaxI','fullTitle','rootHooks','RPxJh','swqZu','EVENTS','testsPending','xunit','bstack:options','DPfvD','VeApA','state','central_scanner','assign','../../helpers/performance/performance-tester','qGCfu','output','stack','jwNXY','JruyG','OzCvu','getCentralUser','skipped','PBzCE','setUserConfigPath','PsdxS','add','isBrowserstackInfra','yIYlp','has','yellow','toUTCString','hTDTG','Couldn\x27t\x20write\x20xunit\x20result\x20to','nswmn','unlinkSync','../test-runner','ymwCK','KmYKh','titlePath','</testsuite>','bYWSR','includeTagsInTestingScope','shouldReRunObservabilityTests','testsuite','159625UmoFnN','KFPwR','speed','eIqcf','useColors','pLyQu','../../helpers/testhub/testhubHandler','parallelsPerPlatform','reporter','hasOwnProperty','currentRetry','BpvfF','title','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','getHubUrl','XjHcz','chalk','WqdVs','InBuB','accessibility','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','list','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','EKqtK','zunMD','133446vbAUSe','jZpuH','cliConfig','hwkKv','file','Mocha\x20Tests','stringify','yQhWq','consoleLog','\x0a\x0a\x0a','MOCHA','green','results','EDnak','start','hideDiff','log','pending','useW3C','WYqXh','mocha/lib/reporters/base.js','YgndN','configuration','forEach','itAyo','Setting\x20non\x20exit\x20code\x20for\x20failures','notifyUpdate','oxQFW','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','\x20total','QZBSG','../../helpers/percy/utils','BROWSERSTACK_TEST_OBSERVABILITY_YML','testSuites','testObservability','KqGZn','failed','Total\x20Suites:\x20','zLeOp','initialize','gEZGu','FRAMEWORKS','Ymnxb','platform','9DrEaLl','Now,\x20showing\x20logs\x20from\x20mocha','ybRjS','AwACP','accessibilityOptions','fireFunnelTestEvent','AVTqC','debug','BROWSERSTACK_GRR_US_HUB_URL','uBBoe','inhGT','QuNaQ','duration','testsPassed','mjs','reporterOptions','nupQK','writeFileSync','parse','errorMessage','failure','capability','sort','iUDhm','isPending','Writing\x20xunit\x20result\x20to\x20file','extension','OHTaH','err','getUserWorkerCount','logLevel','../../helpers/logger','error','message','rbKAL','HPCjQ','tDeoB','failures','nbSfL','push','json','../../helpers/central-scanner/constants','rzUgW','passed','retryTestsOnFailure','sSRJA','printBuildLink','nTrcn','isEmpty','config','IRULB','aXDKJ','files','ignore','launchBuild','DwNso','ITZPN','48spVwjw','nrisH','getOwnPropertyNames','GMfsI','VsakA','error\x20removing\x20tcg\x20config\x20file','proxySettings','recursive','maxRetries','QqZYk','BROWSERSTACK_RERUN_TESTS','parseFileNames'];a32_0x48d4=function(){return _0x47b5b6;};return a32_0x48d4();}