#!/usr/bin/env node
'use strict';const a29_0x4aafc0=a29_0x136d;(function(_0x35a9ae,_0x273d93){const _0x28eac4=a29_0x136d,_0x332542=_0x35a9ae();while(!![]){try{const _0x5258c7=-parseInt(_0x28eac4(0x21c))/0x1+parseInt(_0x28eac4(0x177))/0x2*(-parseInt(_0x28eac4(0x1d9))/0x3)+-parseInt(_0x28eac4(0x22b))/0x4*(parseInt(_0x28eac4(0x240))/0x5)+parseInt(_0x28eac4(0x1e5))/0x6*(parseInt(_0x28eac4(0x1b3))/0x7)+parseInt(_0x28eac4(0x1d7))/0x8+-parseInt(_0x28eac4(0x217))/0x9+-parseInt(_0x28eac4(0x227))/0xa;if(_0x5258c7===_0x273d93)break;else _0x332542['push'](_0x332542['shift']());}catch(_0x516ba5){_0x332542['push'](_0x332542['shift']());}}}(a29_0x17f3,0xc0bf2));const chalk=require(a29_0x4aafc0(0x20f)),logger=require('../../helpers/logger')[a29_0x4aafc0(0x169)],helper=require(a29_0x4aafc0(0x1ef)),utilities=require(a29_0x4aafc0(0x1c3)),testOpsHelper=require(a29_0x4aafc0(0x225)),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a29_0x4aafc0(0x1dd)),{requireModule,nestedKeyValue}=require(a29_0x4aafc0(0x1ef)),{getPercyOptions}=require(a29_0x4aafc0(0x157)),Base=requireModule(a29_0x4aafc0(0x19b),'mocha'),collectFiles=requireModule(a29_0x4aafc0(0x15a),'mocha'),constants=require(a29_0x4aafc0(0x156)),PerformanceTester=require(a29_0x4aafc0(0x1e4)),PerformanceEvents=require('../../helpers/performance/constants')[a29_0x4aafc0(0x196)],centralScannerConstants=require(a29_0x4aafc0(0x213)),{FRAMEWORKS}=require(a29_0x4aafc0(0x1c5)),TestHubHandler=require('../../helpers/testhub/testhubHandler');function tag(_0x141012,_0x562195,_0x2570a1,_0x2e9f25){const _0x5c4f10=a29_0x4aafc0,_0x52bac2={'hIUTR':function(_0x39c249,_0x53c660){return _0x39c249+_0x53c660;},'ZulAm':function(_0x31b9a5,_0x8af97d){return _0x31b9a5(_0x8af97d);},'PIEsB':function(_0x40b452,_0x4aa66d){return _0x40b452+_0x4aa66d;},'KYwRu':function(_0x53395e,_0x37f280){return _0x53395e+_0x37f280;},'tBjaz':function(_0x4af3b5,_0xf78077){return _0x4af3b5+_0xf78077;}},_0x1f80ef=_0x2570a1?'/>':'>',_0x149fb0=[];let _0x1c393f;for(const _0x5bb979 in _0x562195){Object[_0x5c4f10(0x1b7)][_0x5c4f10(0x167)]['call'](_0x562195,_0x5bb979)&&_0x149fb0['push'](_0x52bac2[_0x5c4f10(0x17a)](_0x52bac2['hIUTR'](_0x52bac2['hIUTR'](_0x5bb979,'=\x22'),_0x52bac2[_0x5c4f10(0x1d5)](escape,_0x562195[_0x5bb979])),'\x22'));}return _0x1c393f=_0x52bac2[_0x5c4f10(0x17a)](_0x52bac2[_0x5c4f10(0x17a)](_0x52bac2[_0x5c4f10(0x17a)]('<',_0x141012),_0x149fb0[_0x5c4f10(0x1f4)]?_0x52bac2['PIEsB']('\x20',_0x149fb0['join']('\x20')):''),_0x1f80ef),_0x2e9f25&&(_0x1c393f+=_0x52bac2[_0x5c4f10(0x203)](_0x52bac2['KYwRu'](_0x52bac2[_0x5c4f10(0x229)](_0x2e9f25,'</'),_0x141012),_0x1f80ef)),_0x1c393f;}function a29_0x17f3(){const _0x6a88d7=['EXWDb','passed','abmDO','Listing\x20all\x20the\x20failures','central_scanner','ghlFK','BzRJt','suiteName','failed','MSesy','expected','testsPassed','exports','KYwRu','Setting\x20non\x20exit\x20code\x20for\x20failures','EMWvv','proxySettings','tvWiT','BROWSERSTACK_RERUN_TESTS','eFyHd','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','chLSo','isEmpty','excludeTagsInTestingScope','JZUmQ','chalk','RotZY','nxuuW','add','../../helpers/central-scanner/constants','testsuite','writeFileSync','rmdirSync','1352196dLosWJ','generateDiff','xFHOe','AWnSK','notifyUpdate','55771hTixJG','getPlatformName','GArzx','passes','red','puWwv','xtEZs','hideDiff','SbufZ','../../helpers/test-observability/utils','getTCGConfigFilePaths','9442750ysQQAv','lAkuc','tBjaz','BROWSERSTACK_TEST_OBSERVABILITY_YML','56MxpEKH','\x20platforms','results','then','wFxjG','mhHhm','yMQor','spDyc','isUndefined','Total\x20Platforms:\x20','list','pAfFL','bgRedBright','stringify','rerunTests','qeOVt','json','qgffc','GYvNa','forEach','IlTfU','114410AjcAgs','testsFailed','shouldReRunObservabilityTests','ZEzNt','xunit','title','error\x20removing\x20tcg\x20config\x20file','getUserWorkerCount','getOwnPropertyNames','failure','error','\x20passed','retries','start','reporterOptions','useW3C','PAAGm','igQmE','\x20skipped','doc','AYpqt','capability','failures','</testsuite>','uJckf','output','cjs','test','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','err','../utils/constants','../../helpers/percy/utils','ggaJL','hJEEK','mocha/lib/cli/collect-files.js','SDVjv','speed','cliConfig','join','getErrorMessageFromResults','stack','toUTCString','rootHooks','actual','sjfks','env','printBuildLink','hasOwnProperty','parallelsPerPlatform','winstonLogger','pTpty','consoleLog','taNAB','sort','****\x20FAILURES\x20****','logLevel','platforms','SDKTestSuccessful','EjvOj','jFtSd','parseTestOrchestrationOptions','bstack:options','yQdeT','1402sTcLWA','VrNRY','isBrowserstackInfra','hIUTR','Printing\x20stats\x20of\x20tests','stats','info','lGxDf','isPending','BXyNb','kbxhG','\x20total','has','extension','mjs','OqsHB','Zrsec','Couldn\x27t\x20write\x20json\x20result\x20to','Hzxbh','pending','NMTCF','reporter-option','log','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','suite','mdCwN','indexOf','Tests:\x20\x20\x20\x20\x20\x20\x20','useColors','Mocha\x20Tests','IoRYW','EVENTS','setUserConfigPath','IzvqP','size','bold','mocha/lib/reporters/base.js','LPgWr','skipped','oyasT','MOCHA','isTestObservabilitySession','initialize','Iqplv','VBDLL','ZaeiA','AZcBg','eyWXG','accessibilityOptions','FrFDa','testObservability','includeEncodedExtension','jSikD','errorMessage','testSuites','config','Uwqkb','framework','push','mocha','4961306hsbWvD','KZudd','eCuvg','object','prototype','OWZdf','exitCode','Total\x20Suites:\x20','showDiff','accessibility','min','ignore','Running\x20your\x20mocha\x20tests','wNDWa','retryTestsOnFailure','Now,\x20showing\x20logs\x20from\x20mocha','../../helpers/utilities','DOVRg','../../helpers/test-observability/constants','egPHV','state','CCoOJ','\x0a\x0a\x0a','setupTCGAuth','fullTitle','recursive','SDK_CLEANUP','titlePath','Eivfn','yOBAV','isNotUndefined','handleApp','testcase','KvDvW','ZulAm','VmkCW','10638456YUAMhA','totalTests','2085ljuFPO','debug','BMNVN','get','../test-runner','BROWSERSTACK_TEST_ACCESSIBILITY_YML','assign','yrHiH','configuration','spec','uTtgC','../../helpers/performance/performance-tester','12SLpZou','JpbnX','yellow','UcQnI','finally','IpEpB','prepareCapabilities','testsPending','PxCic','cuJVv','../../helpers/helper','HwiTd','duration','reporter','ERHKr','length','Tohub'];a29_0x17f3=function(){return _0x6a88d7;};return a29_0x17f3();}let xunitContent='';function a29_0x136d(_0x3f59b7,_0x7a4ed2){const _0x17f36e=a29_0x17f3();return a29_0x136d=function(_0x136d7a,_0x39c49b){_0x136d7a=_0x136d7a-0x147;let _0x117b0f=_0x17f36e[_0x136d7a];return _0x117b0f;},a29_0x136d(_0x3f59b7,_0x7a4ed2);}function xunitWrite(_0x23e5b1){xunitContent+=_0x23e5b1;}function xunitTest(_0xfc568f,_0x12d291){const _0x408f56=a29_0x4aafc0,_0x1ed89a={'kbxhG':function(_0xf72718,_0xe3ab2d){return _0xf72718/_0xe3ab2d;},'RotZY':function(_0x210371,_0x5ae312){return _0x210371===_0x5ae312;},'KvDvW':'failed','OINEl':function(_0x48c7b8,_0x526db4){return _0x48c7b8+_0x526db4;},'BzRJt':function(_0x5dc480,_0x24f1ed){return _0x5dc480(_0x24f1ed);},'IzvqP':function(_0x29e715,_0x2ebaa7,_0x573ada,_0x143313,_0x10e214){return _0x29e715(_0x2ebaa7,_0x573ada,_0x143313,_0x10e214);},'HwiTd':_0x408f56(0x1d3),'BatNC':_0x408f56(0x249),'wNDWa':function(_0x1953f2,_0x3f4a55){return _0x1953f2+_0x3f4a55;},'jFtSd':function(_0x10aa2d,_0x30492e,_0x2c4398,_0x468840){return _0x10aa2d(_0x30492e,_0x2c4398,_0x468840);},'yOBAV':_0x408f56(0x19d)};Base[_0x408f56(0x193)]=![];var _0x3b0a67={'classname':_0xfc568f[_0x408f56(0x1cb)],'name':_0xfc568f[_0x408f56(0x245)],'time':_0x1ed89a[_0x408f56(0x181)](_0xfc568f['duration'],0x3e8)||0x0,'platform':_0x12d291};if(_0x1ed89a[_0x408f56(0x210)](_0xfc568f['state'],_0x1ed89a[_0x408f56(0x1d4)])){var _0x2b9f27=_0xfc568f[_0x408f56(0x155)],_0x8c4d9e=!Base[_0x408f56(0x223)]&&Base[_0x408f56(0x1bb)](_0x2b9f27)?_0x1ed89a['OINEl']('\x0a',Base[_0x408f56(0x218)](_0x2b9f27[_0x408f56(0x163)],_0x2b9f27[_0x408f56(0x200)])):'';_0x1ed89a[_0x408f56(0x1fc)](xunitWrite,_0x1ed89a['IzvqP'](tag,_0x1ed89a[_0x408f56(0x1f0)],_0x3b0a67,![],_0x1ed89a[_0x408f56(0x198)](tag,_0x1ed89a['BatNC'],{},![],_0x1ed89a[_0x408f56(0x1c0)](_0x1ed89a['wNDWa'](_0x1ed89a['OINEl'](_0x1ed89a[_0x408f56(0x1fc)](escape,_0x2b9f27['message']),_0x1ed89a['BzRJt'](escape,_0x8c4d9e)),'\x0a'),_0x1ed89a[_0x408f56(0x1fc)](escape,_0x2b9f27[_0x408f56(0x160)])))));}else _0xfc568f[_0x408f56(0x17f)]?_0x1ed89a[_0x408f56(0x1fc)](xunitWrite,_0x1ed89a['IzvqP'](tag,_0x1ed89a['HwiTd'],_0x3b0a67,![],_0x1ed89a[_0x408f56(0x173)](tag,_0x1ed89a[_0x408f56(0x1d0)],{},!![]))):_0x1ed89a[_0x408f56(0x1fc)](xunitWrite,_0x1ed89a[_0x408f56(0x173)](tag,_0x1ed89a[_0x408f56(0x1f0)],_0x3b0a67,!![]));};function getStats(_0x1f709e){const _0x11b6d5=a29_0x4aafc0,_0x5e767a={};_0x5e767a[_0x11b6d5(0x236)]=_0x11b6d5(0x18f),_0x5e767a[_0x11b6d5(0x1b5)]='passed',_0x5e767a[_0x11b6d5(0x1e0)]=_0x11b6d5(0x1fe),_0x5e767a[_0x11b6d5(0x211)]=_0x11b6d5(0x22d);const _0x37b4e3=_0x5e767a,_0x322e45=Object['keys'](_0x1f709e);let _0x1429b9=0x0,_0x12e17e=0x0,_0x2ea01b=0x0,_0x2bd723=0x0;const _0x4c371c=new Set();_0x322e45[_0x11b6d5(0x23e)](_0x20d293=>{const _0x151166=_0x11b6d5;_0x1f709e[_0x20d293][_0x37b4e3[_0x151166(0x211)]][_0x151166(0x23e)](_0x23b8a9=>{const _0xfdae57=_0x151166;_0x4c371c[_0xfdae57(0x212)](_0x23b8a9[_0x37b4e3[_0xfdae57(0x236)]]),_0x1429b9++;switch(_0x23b8a9[_0xfdae57(0x1c7)]){case _0x37b4e3[_0xfdae57(0x1b5)]:_0x2ea01b++;break;case _0x37b4e3['yrHiH']:_0x12e17e++;break;default:_0x2bd723++;}});});const _0x14e560={};return _0x14e560['testSuites']=_0x4c371c[_0x11b6d5(0x199)],_0x14e560[_0x11b6d5(0x170)]=_0x322e45,_0x14e560[_0x11b6d5(0x1d8)]=_0x1429b9,_0x14e560[_0x11b6d5(0x241)]=_0x12e17e,_0x14e560['testsPassed']=_0x2ea01b,_0x14e560[_0x11b6d5(0x1ec)]=_0x2bd723,_0x14e560;}function errorJSON(_0x4b71d6){const _0x42c328=a29_0x4aafc0;var _0x2f8580={};return Object[_0x42c328(0x248)](_0x4b71d6)[_0x42c328(0x23e)](function(_0x580e43){_0x2f8580[_0x580e43]=_0x4b71d6[_0x580e43];},_0x4b71d6),_0x2f8580;}function cleanCycles(_0x59dd15){const _0x403385=a29_0x4aafc0,_0x57760a={};_0x57760a[_0x403385(0x19e)]=function(_0x32fccd,_0x53ddfe){return _0x32fccd===_0x53ddfe;},_0x57760a[_0x403385(0x164)]=_0x403385(0x1b6),_0x57760a[_0x403385(0x1c8)]=function(_0xf484f9,_0xdc4539){return _0xf484f9!==_0xdc4539;},_0x57760a[_0x403385(0x1f3)]=function(_0x297078,_0x2ca0ba){return _0x297078!==_0x2ca0ba;},_0x57760a[_0x403385(0x187)]=function(_0x371e95,_0x587503){return _0x371e95+_0x587503;};const _0x53a93d=_0x57760a;var _0x4a2770=[];return JSON['parse'](JSON[_0x403385(0x238)](_0x59dd15,function(_0x392eba,_0x2083fd){const _0x38be16=_0x403385;if(_0x53a93d[_0x38be16(0x19e)](typeof _0x2083fd,_0x53a93d['sjfks'])&&_0x53a93d['CCoOJ'](_0x2083fd,null)){if(_0x53a93d['ERHKr'](_0x4a2770[_0x38be16(0x191)](_0x2083fd),-0x1))return _0x53a93d['Zrsec']('',_0x2083fd);_0x4a2770[_0x38be16(0x1b1)](_0x2083fd);}return _0x2083fd;}));}function clean(_0x5f7aa6){const _0x507d41=a29_0x4aafc0,_0x45a8c1={'DOVRg':function(_0x4f9553,_0xd4b560){return _0x4f9553 instanceof _0xd4b560;},'cuJVv':function(_0x1b2172,_0x139bad){return _0x1b2172(_0x139bad);},'Uwqkb':function(_0x341828,_0x18bd91){return _0x341828(_0x18bd91);}};var _0x16f76b=_0x5f7aa6[_0x507d41(0x155)]||{};return _0x45a8c1[_0x507d41(0x1c4)](_0x16f76b,Error)&&(_0x16f76b=_0x45a8c1[_0x507d41(0x1ee)](errorJSON,_0x16f76b)),{'title':_0x5f7aa6[_0x507d41(0x245)],'fullTitle':_0x5f7aa6[_0x507d41(0x1cb)],'file':_0x5f7aa6['file'],'duration':_0x5f7aa6[_0x507d41(0x1f1)],'currentRetry':_0x5f7aa6['currentRetry'],'speed':_0x5f7aa6[_0x507d41(0x15c)],'err':_0x45a8c1[_0x507d41(0x1af)](cleanCycles,_0x16f76b)};}function printStats(_0x123654,_0x25b68f=a29_0x4aafc0(0x1e2),_0x25d982={}){const _0x4e362d=a29_0x4aafc0,_0xe04d06={'lGxDf':function(_0x145dfb,_0x453215){return _0x145dfb(_0x453215);},'lAkuc':function(_0x257fcb,_0x4947ec){return _0x257fcb===_0x4947ec;},'upSsg':_0x4e362d(0x1f7),'lALzj':_0x4e362d(0x21f),'EXWDb':function(_0x25ca52,_0x300a0d){return _0x25ca52===_0x300a0d;},'wFxjG':_0x4e362d(0x1fe),'ZaeiA':_0x4e362d(0x14e),'uJckf':function(_0x56c038,_0x1b4b5e){return _0x56c038(_0x1b4b5e);},'mhHhm':_0x4e362d(0x18a),'AZcBg':function(_0x3ff780,_0x32fdde){return _0x3ff780(_0x32fdde);},'xFHOe':_0x4e362d(0x22d),'SDVjv':function(_0x32808b,_0x4b1e51){return _0x32808b===_0x4b1e51;},'OWZdf':function(_0x5b562e,_0x5a37b1){return _0x5b562e*_0x5a37b1;},'VrNRY':function(_0x1e1c48,_0x522eb0,_0x5171ea){return _0x1e1c48(_0x522eb0,_0x5171ea);},'eFyHd':function(_0x10b46c,_0x3a2aeb){return _0x10b46c>_0x3a2aeb;},'Eivfn':function(_0x243647){return _0x243647();},'VBDLL':function(_0x12364d,_0x59f8cf){return _0x12364d===_0x59f8cf;},'SyUYS':_0x4e362d(0x14b),'chLSo':function(_0x270628,_0x4f6455){return _0x270628>_0x4f6455;},'NyEUb':_0x4e362d(0x204),'UcQnI':_0x4e362d(0x17b),'egPHV':function(_0x1148ca,_0x3c20d4){return _0x1148ca+_0x3c20d4;},'qeOVt':_0x4e362d(0x234),'ggaJL':_0x4e362d(0x1ba),'jSikD':function(_0x24966e,_0x3eea96){return _0x24966e+_0x3eea96;},'IlTfU':function(_0x486017,_0xd39b9a){return _0x486017+_0xd39b9a;},'KZudd':_0x4e362d(0x192),'AWnSK':function(_0x1a6edc,_0x5993e2){return _0x1a6edc>_0x5993e2;},'qgffc':function(_0x8a8083,_0x164408){return _0x8a8083+_0x164408;},'ghlFK':_0x4e362d(0x1c9),'NxTUL':_0x4e362d(0x23b),'Hzxbh':'Writing\x20json\x20result\x20to\x20file','taNAB':_0x4e362d(0x188),'PxCic':_0x4e362d(0x18e),'PfRyk':_0x4e362d(0x244),'WpgKY':_0x4e362d(0x194),'MSesy':function(_0x322092,_0x35304f){return _0x322092||_0x35304f;},'uTtgC':function(_0x3af0b4,_0x446e6a,_0x33b64d,_0x208bf6){return _0x3af0b4(_0x446e6a,_0x33b64d,_0x208bf6);},'PAAGm':_0x4e362d(0x214),'JZUmQ':function(_0x4bb7a8,_0x3426c4){return _0x4bb7a8-_0x3426c4;},'rDzHA':function(_0x307154,_0x4199a0){return _0x307154/_0x4199a0;},'VKSYx':function(_0x5ad50b,_0x59270f){return _0x5ad50b(_0x59270f);},'OqsHB':_0x4e362d(0x14f),'LPgWr':'Writing\x20xunit\x20result\x20to\x20file','pTpty':'Couldn\x27t\x20write\x20xunit\x20result\x20to','JpbnX':_0x4e362d(0x154),'igQmE':function(_0x4d259e,_0x2e4acb){return _0x4d259e===_0x2e4acb;},'yMQor':_0x4e362d(0x1f9),'GArzx':_0x4e362d(0x16e)};if(_0xe04d06[_0x4e362d(0x1a3)](_0x25b68f,_0xe04d06['SyUYS']))return;const _0x2eeded=0x0,_0x41c5a2=()=>{const _0x461696=_0x4e362d;return _0xe04d06[_0x461696(0x17e)](Array,_0x2eeded)[_0x461696(0x15e)]('\x20\x20');},{testSuites:_0x4665a1,platforms:_0x1ab575,totalTests:_0x2e2532,testsFailed:_0x516c5c,testsPassed:_0x4e321c,testsPending:_0x3c2880}=_0xe04d06[_0x4e362d(0x17e)](getStats,_0x123654);_0xe04d06[_0x4e362d(0x20b)](_0x516c5c,0x0)&&(logger['debug'](_0xe04d06['NyEUb']),process[_0x4e362d(0x1b9)]=Math[_0x4e362d(0x1bd)](_0x516c5c,0xff));logger[_0x4e362d(0x1da)](_0xe04d06[_0x4e362d(0x1e8)]);const _0x2fc18b=''+_0xe04d06['egPHV'](chalk[_0x4e362d(0x19a)](_0xe04d06[_0x4e362d(0x23a)]),_0x1ab575[_0x4e362d(0x1f4)]),_0x29a057=''+_0xe04d06[_0x4e362d(0x1c6)](chalk[_0x4e362d(0x19a)](_0xe04d06[_0x4e362d(0x158)]),_0x4665a1),_0x7b2a55=''+_0xe04d06[_0x4e362d(0x1ab)](_0xe04d06[_0x4e362d(0x23f)](_0xe04d06['jSikD'](chalk[_0x4e362d(0x19a)](_0xe04d06[_0x4e362d(0x1b4)]),_0xe04d06[_0x4e362d(0x20b)](_0x516c5c,0x0)?chalk[_0x4e362d(0x19a)][_0x4e362d(0x220)](_0x516c5c+'\x20failed')+',\x20':''),_0xe04d06[_0x4e362d(0x209)](_0x3c2880,0x0)?chalk[_0x4e362d(0x19a)][_0x4e362d(0x1e7)](_0x3c2880+_0x4e362d(0x14a))+',\x20':''),_0xe04d06[_0x4e362d(0x21a)](_0x4e321c,0x0)?chalk[_0x4e362d(0x19a)]['green'](_0x4e321c+_0x4e362d(0x24b))+',\x20':'')+_0x2e2532+_0x4e362d(0x182);console[_0x4e362d(0x18d)](_0xe04d06[_0x4e362d(0x23c)](_0xe04d06[_0x4e362d(0x23f)](_0xe04d06[_0x4e362d(0x1c6)](_0xe04d06[_0x4e362d(0x23c)](_0xe04d06[_0x4e362d(0x1c6)](_0xe04d06[_0x4e362d(0x1fb)],_0x2fc18b),'\x0a'),_0x29a057),'\x0a'),_0x7b2a55));if(_0xe04d06[_0x4e362d(0x15b)](_0x25b68f,_0xe04d06['NxTUL'])){const _0x49afd9={},_0x4e84ec={};_0x4e84ec[_0x4e362d(0x1ad)]=_0x4665a1,_0x4e84ec[_0x4e362d(0x170)]=_0x1ab575,_0x4e84ec[_0x4e362d(0x241)]=_0x516c5c,_0x4e84ec[_0x4e362d(0x201)]=_0x4e321c,_0x4e84ec[_0x4e362d(0x1ec)]=_0x3c2880,_0x49afd9[_0x4e362d(0x17c)]=_0x4e84ec,_0x1ab575[_0x4e362d(0x23e)](_0x2a6d3f=>{const _0x374523=_0x4e362d;_0x49afd9[_0x2a6d3f]={'pending':[],'failures':[],'passes':[],'tests':_0x123654[_0x2a6d3f][_0xe04d06['xFHOe']]['map'](clean)},_0x123654[_0x2a6d3f][_0xe04d06[_0x374523(0x219)]][_0x374523(0x23e)](_0x3a6a70=>{const _0x194fc7=_0x374523;if(_0xe04d06[_0x194fc7(0x228)](_0x3a6a70[_0x194fc7(0x1c7)],_0xe04d06['upSsg']))_0x49afd9[_0x2a6d3f][_0xe04d06['lALzj']][_0x194fc7(0x1b1)](_0xe04d06['lGxDf'](clean,_0x3a6a70));else _0xe04d06[_0x194fc7(0x1f6)](_0x3a6a70['state'],_0xe04d06['wFxjG'])?_0x49afd9[_0x2a6d3f][_0xe04d06[_0x194fc7(0x1a4)]]['push'](_0xe04d06[_0x194fc7(0x150)](clean,_0x3a6a70)):_0x49afd9[_0x2a6d3f][_0xe04d06[_0x194fc7(0x230)]][_0x194fc7(0x1b1)](_0xe04d06[_0x194fc7(0x1a5)](clean,_0x3a6a70));});});if(_0x25d982[_0x4e362d(0x151)])try{logger[_0x4e362d(0x1da)](_0xe04d06[_0x4e362d(0x189)],_0x25d982[_0x4e362d(0x151)]),fs[_0x4e362d(0x215)](_0x25d982[_0x4e362d(0x151)],JSON[_0x4e362d(0x238)](_0x49afd9,null,0x3));}catch(_0x3b3e2b){logger[_0x4e362d(0x24a)](_0xe04d06[_0x4e362d(0x16c)],_0x25d982['output']),logger['debug'](_0x3b3e2b);}else logger[_0x4e362d(0x1da)](_0xe04d06[_0x4e362d(0x1ed)]),console['log'](JSON[_0x4e362d(0x238)](_0x49afd9,null,0x3));}else{if(_0xe04d06['EXWDb'](_0x25b68f,_0xe04d06['PfRyk'])){let _0x5ea58b;const _0x1b2f8c=_0xe04d06['WpgKY'];_0x25d982&&(_0x5ea58b=_0x25d982[_0x4e362d(0x1fd)]);_0x5ea58b=_0xe04d06[_0x4e362d(0x1ff)](_0x5ea58b,_0x1b2f8c);let _0x124044=0x0,_0x28cecb=0x0,_0xedf060=0x0,_0x5086ea=0x0;_0x1ab575[_0x4e362d(0x23e)](_0x3272e9=>{const _0x3708ba=_0x4e362d,_0x48e562={'tvWiT':function(_0xb65130,_0x29c262){const _0x50c358=a29_0x136d;return _0xe04d06[_0x50c358(0x228)](_0xb65130,_0x29c262);},'GYvNa':_0xe04d06['upSsg'],'spDyc':function(_0x53ba7e,_0x3faa89){const _0x133853=a29_0x136d;return _0xe04d06[_0x133853(0x15b)](_0x53ba7e,_0x3faa89);},'mdCwN':_0xe04d06[_0x3708ba(0x22f)],'xtEZs':function(_0x4c11db,_0x5b59cb){const _0x37cb31=_0x3708ba;return _0xe04d06[_0x37cb31(0x1b8)](_0x4c11db,_0x5b59cb);}};_0x123654[_0x3272e9][_0xe04d06['xFHOe']][_0x3708ba(0x23e)](_0x23e3ba=>{const _0x3d421b=_0x3708ba;if(_0x48e562[_0x3d421b(0x207)](_0x23e3ba[_0x3d421b(0x1c7)],_0x48e562[_0x3d421b(0x23d)]))_0x124044++;else _0x48e562[_0x3d421b(0x232)](_0x23e3ba['state'],_0x48e562[_0x3d421b(0x190)])&&_0x28cecb++;_0xedf060++,_0x5086ea+=_0x48e562[_0x3d421b(0x222)](_0x23e3ba[_0x3d421b(0x1f1)],0x1);});}),_0xe04d06[_0x4e362d(0x1a5)](xunitWrite,_0xe04d06[_0x4e362d(0x1e3)](tag,_0xe04d06[_0x4e362d(0x148)],{'name':_0x5ea58b,'tests':_0xedf060,'failures':0x0,'errors':_0x28cecb,'skipped':_0xe04d06[_0x4e362d(0x20e)](_0xe04d06['JZUmQ'](_0xedf060,_0x28cecb),_0x124044),'timestamp':new Date()[_0x4e362d(0x161)](),'time':_0xe04d06['rDzHA'](_0x5086ea,0x3e8)||0x0},![])),_0x1ab575[_0x4e362d(0x23e)](_0x1146ae=>{const _0x530096=_0x4e362d;_0x123654[_0x1146ae][_0xe04d06[_0x530096(0x219)]][_0x530096(0x23e)](_0x3c9a4f=>{const _0x5c4205=_0x530096;_0xe04d06[_0x5c4205(0x178)](xunitTest,_0x3c9a4f,_0x1146ae);});}),_0xe04d06['VKSYx'](xunitWrite,_0xe04d06[_0x4e362d(0x186)]);if(_0x25d982[_0x4e362d(0x151)])try{logger[_0x4e362d(0x1da)](_0xe04d06[_0x4e362d(0x19c)],_0x25d982[_0x4e362d(0x151)]),fs[_0x4e362d(0x215)](_0x25d982['output'],xunitContent);}catch(_0x10bc7b){logger[_0x4e362d(0x24a)](_0xe04d06[_0x4e362d(0x16a)],_0x25d982[_0x4e362d(0x151)]),logger[_0x4e362d(0x1da)](_0x10bc7b);}else logger[_0x4e362d(0x1da)](_0xe04d06[_0x4e362d(0x1e6)]),console[_0x4e362d(0x18d)](xunitContent);}else{if(_0xe04d06[_0x4e362d(0x149)](_0x516c5c,0x0))return;console[_0x4e362d(0x18d)](),logger[_0x4e362d(0x1da)](_0xe04d06[_0x4e362d(0x231)]),console[_0x4e362d(0x18d)](chalk['bold'][_0x4e362d(0x237)](_0xe04d06[_0x4e362d(0x21e)])),_0x1ab575[_0x4e362d(0x23e)](_0x392840=>{const _0x21764e=_0x4e362d,_0x24849c=[];_0x123654[_0x392840][_0xe04d06[_0x21764e(0x219)]][_0x21764e(0x23e)](_0x154d6d=>{const _0x865adc=_0x21764e;_0xe04d06['EXWDb'](_0x154d6d[_0x865adc(0x1c7)],_0xe04d06[_0x865adc(0x22f)])&&(_0x154d6d[_0x865adc(0x1ce)]=()=>_0x154d6d['titlePathV'],_0x24849c[_0x865adc(0x1b1)](_0x154d6d));}),_0xe04d06['eFyHd'](_0x24849c['length'],0x0)&&(Base[_0x21764e(0x16b)](),Base[_0x21764e(0x16b)](_0xe04d06[_0x21764e(0x1cf)](_0x41c5a2),chalk['bold']['bgBlueBright'](_0x392840)),Base[_0x21764e(0x235)](_0x24849c));});}}}async function run(_0x48d7de,_0xcbf8cb,_0x393191){const _0x253092=a29_0x4aafc0,_0x14d5d1={'puWwv':function(_0x22195b,_0x3c4907,_0x3158dc,_0x4a2d92){return _0x22195b(_0x3c4907,_0x3158dc,_0x4a2d92);},'AYpqt':_0x253092(0x18c),'IpEpB':_0x253092(0x246),'Tohub':_0x253092(0x171),'FrFDa':_0x253092(0x1b2),'yQdeT':function(_0x4a0a00,_0x2e6e79){return _0x4a0a00!=_0x2e6e79;},'BMNVN':_0x253092(0x152),'ZEzNt':_0x253092(0x185),'eyWXG':_0x253092(0x153),'abmDO':_0x253092(0x239),'EMWvv':function(_0x55120a,_0x2d1099){return _0x55120a(_0x2d1099);},'SbufZ':function(_0x271e30,_0xd2a07f,_0x14ccc2){return _0x271e30(_0xd2a07f,_0x14ccc2);},'hJEEK':'files','pPCYv':function(_0x11abff,_0x104e17){return _0x11abff!=_0x104e17;},'Iqplv':'includeTagsInTestingScope','BXyNb':_0x253092(0x20d),'VmkCW':_0x253092(0x1aa),'IoRYW':_0x253092(0x1bf),'mWhMt':_0x253092(0x1c2),'EjvOj':function(_0x3de1ba,_0x4c8b9c,_0x12e50c,_0x5bb3eb){return _0x3de1ba(_0x4c8b9c,_0x12e50c,_0x5bb3eb);},'AlGWk':function(_0x527ca1,_0x58ed49){return _0x527ca1*_0x58ed49;},'NMTCF':function(_0x5a6eb8,_0x1db024){return _0x5a6eb8(_0x1db024);},'IslgO':function(_0x43bbc8,_0x52c676){return _0x43bbc8!==_0x52c676;}};helper[_0x253092(0x197)](_0x393191[_0x253092(0x1b0)],_0x48d7de),await _0x393191[_0x253092(0x1a1)](_0x48d7de);helper['isBrowserstackInfra']()?await helper[_0x253092(0x1d2)](_0x393191[_0x253092(0x1ae)]):await _0x393191[_0x253092(0x1ca)]();const _0x2f2004=[];let _0x2c662f=[];if(!_0x393191[_0x253092(0x1ae)])return;!helper[_0x253092(0x233)](_0x393191[_0x253092(0x1ae)]['accessibilityOptions'])&&(process[_0x253092(0x165)]['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON[_0x253092(0x238)](_0x393191[_0x253092(0x1ae)]['accessibilityOptions']));const _0x960912=await TestHubHandler['launchBuild'](FRAMEWORKS[_0x253092(0x19f)],_0x393191);_0x14d5d1[_0x253092(0x176)](_0x393191['config'][_0x253092(0x1a9)],null)&&(process[_0x253092(0x165)][_0x253092(0x22a)]=_0x393191[_0x253092(0x1ae)][_0x253092(0x1a9)]);!helper[_0x253092(0x233)](_0x393191[_0x253092(0x1ae)][_0x253092(0x1bc)])&&(process[_0x253092(0x165)][_0x253092(0x1de)]=_0x393191['config']['accessibility']);const {extension:extension=['js',_0x14d5d1[_0x253092(0x1db)],_0x14d5d1[_0x253092(0x243)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x14d5d1[_0x253092(0x1a6)]]}=_0x48d7de,_0x29a93d={..._0x48d7de};_0x29a93d[_0x253092(0x162)]=null;const _0x270714=_0x29a93d;let _0x242b90;if(testOpsHelper[_0x253092(0x1a0)]()&&testOpsHelper[_0x253092(0x242)]()){let _0x5b471d=process[_0x253092(0x165)][_0x253092(0x208)];!helper[_0x253092(0x233)](_0x393191[_0x253092(0x15d)])&&_0x393191[_0x253092(0x15d)][_0x253092(0x183)](_0x14d5d1[_0x253092(0x1f8)])&&(_0x5b471d=_0x393191[_0x253092(0x15d)][_0x253092(0x1dc)](_0x14d5d1[_0x253092(0x1f8)])),_0x242b90=testOpsHelper['parseFileNames'](_0x5b471d);}if(helper[_0x253092(0x233)](_0x242b90)){const _0x63599d={};_0x63599d[_0x253092(0x1be)]=ignore,_0x63599d[_0x253092(0x184)]=extension,_0x63599d['file']=file,_0x63599d[_0x253092(0x1cc)]=recursive,_0x63599d[_0x253092(0x16d)]=sort,_0x63599d['spec']=spec,_0x242b90=_0x14d5d1[_0x253092(0x205)](collectFiles,_0x63599d),_0x14d5d1[_0x253092(0x224)](nestedKeyValue,_0x242b90,[_0x14d5d1[_0x253092(0x159)]])&&(_0x242b90=_0x242b90['files']);}const _0x585509=helper[_0x253092(0x174)](_0x393191['config']);!helper[_0x253092(0x20c)](_0x585509)&&helper[_0x253092(0x1d1)](_0x585509[_0x253092(0x1c1)])&&(_0x270714[_0x253092(0x24c)]=_0x585509[_0x253092(0x1c1)]['maxRetries']);if(!helper[_0x253092(0x179)]()){const _0x31f1b4=0x1,_0x54c9f7={..._0x270714};_0x54c9f7[_0x253092(0x1e2)]=[..._0x242b90],_0x2f2004['push']({'mochaOpts':_0x54c9f7,'configuration':{'platform':os['platform']()}});if(_0x393191[_0x253092(0x1ae)][_0x253092(0x1bc)]){const _0x5ab60a={};_0x5ab60a[_0x253092(0x1bc)]=!![];const _0x1e242d=_0x5ab60a;_0x14d5d1['pPCYv'](_0x393191[_0x253092(0x1ae)]['accessibilityOptions'],null)&&(_0x1e242d[_0x253092(0x1a7)]=_0x393191[_0x253092(0x1ae)][_0x253092(0x1a7)],delete _0x1e242d[_0x253092(0x1a7)][_0x14d5d1[_0x253092(0x1a2)]],delete _0x1e242d[_0x253092(0x1a7)][_0x14d5d1[_0x253092(0x180)]],delete _0x1e242d[_0x253092(0x1a7)][_0x14d5d1[_0x253092(0x1d6)]]);const _0xf79dcf={};_0xf79dcf[_0x253092(0x175)]=_0x1e242d,_0x2f2004[0x0][_0x253092(0x1e1)][_0x253092(0x14d)]=_0xf79dcf;}logger[_0x253092(0x17d)](_0x14d5d1[_0x253092(0x195)]),logger[_0x253092(0x17d)](_0x14d5d1['mWhMt']),_0x14d5d1[_0x253092(0x172)](parallelTestRun,_0x2f2004,_0x31f1b4,_0x393191)['then'](_0x61bb20=>{const _0x2625b8=_0x253092;PerformanceTester[_0x2625b8(0x24d)](PerformanceEvents[_0x2625b8(0x1cd)]),_0x14d5d1['puWwv'](printStats,_0x61bb20,_0x48d7de['reporter'],_0x48d7de['reporterOptions']||_0x48d7de[_0x14d5d1[_0x2625b8(0x14c)]]);})[_0x253092(0x1e9)](()=>{const _0x52f59f=_0x253092;PerformanceTester[_0x52f59f(0x24d)](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0x3d3e6b,tcgConfigPath:_0x15f71c}=helper[_0x52f59f(0x226)]();fs['unlinkSync'](_0x15f71c),fs[_0x52f59f(0x216)](_0x3d3e6b);}catch(_0x4ef947){logger[_0x52f59f(0x1da)](_0x14d5d1[_0x52f59f(0x1ea)],_0x4ef947);}try{utilities['fireFunnelTestEvent'](_0x14d5d1[_0x52f59f(0x1f5)],{},_0x393191[_0x52f59f(0x1ae)],_0x393191[_0x52f59f(0x1b0)]);}catch(_0x28f5d3){logger[_0x52f59f(0x1da)]('Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20'+_0x28f5d3['stack']);}try{helper[_0x52f59f(0x21b)]();}catch(_0x4a9347){logger[_0x52f59f(0x1da)](_0x52f59f(0x20a)+_0x4a9347);}testOpsHelper[_0x52f59f(0x166)]();});}else{const _0x39520d=helper[_0x253092(0x147)](_0x393191[_0x253092(0x1ae)]);let _0x391764=helper['getHubUrl'](_0x393191['config']);_0x2c662f=helper[_0x253092(0x1eb)](_0x393191[_0x253092(0x1ae)],_0x39520d,constants['FRAMEWORKS'][_0x253092(0x19f)]);helper['getCentralUser']()[_0x253092(0x1fa)]&&(_0x391764=centralScannerConstants['BROWSERSTACK_GRR_US_HUB_URL']);let _0x2c351b;const _0x1c4670=_0x393191[_0x253092(0x1ae)][_0x253092(0x168)]||helper[_0x253092(0x247)](_0x48d7de,_0xcbf8cb,_0x393191[_0x253092(0x1ae)],constants['FRAMEWORKS']['MOCHA'])||0x1;helper['validPlatformsPresent'](_0x393191['config'])?_0x2c351b=_0x14d5d1['AlGWk'](_0x393191[_0x253092(0x1ae)][_0x253092(0x170)]['length'],_0x1c4670):_0x2c351b=_0x1c4670;const _0x48f208=_0x14d5d1[_0x253092(0x18b)](getPercyOptions,_0x393191[_0x253092(0x1ae)]);if(_0x14d5d1['IslgO'](_0x393191[_0x253092(0x1ae)][_0x253092(0x168)],0x1))_0x242b90[_0x253092(0x23e)](_0x4eaab4=>{const _0xd0f3a0=_0x253092,_0x3dff39=[];_0x2c662f[_0xd0f3a0(0x23e)]((_0xe4ee59,_0x42f77d)=>{const _0x539018=_0xd0f3a0,_0x489c59={};_0x489c59[_0x539018(0x1e2)]=[_0x4eaab4],_0x3dff39['push']({'mochaOpts':Object[_0x539018(0x1df)]({},_0x270714,_0x489c59),'configuration':{'server':_0x391764,'capability':_0xe4ee59,'proxySettings':_0x393191[_0x539018(0x1ae)][_0x539018(0x206)],'platform':helper[_0x539018(0x21d)](_0xe4ee59),'browserStackLogLevel':_0x393191[_0x539018(0x1ae)][_0x539018(0x16f)],'platformIndex':_0x42f77d,'browserStackPercyOptions':_0x48f208,'platformCaps':Object[_0x539018(0x1df)]({'index':_0x42f77d},_0x393191['config'][_0x539018(0x170)][_0x42f77d])}});}),_0x2f2004[_0xd0f3a0(0x1b1)](..._0x3dff39);});else{const _0x5efd52=[];_0x2c662f[_0x253092(0x23e)]((_0x79c032,_0x24427e)=>{const _0x4332c7=_0x253092;let _0x57bf4d=Object[_0x4332c7(0x1df)]({},_0x270714);testOpsHelper['isTestObservabilitySession']()&&testOpsHelper[_0x4332c7(0x242)]()&&(_0x57bf4d={..._0x57bf4d,'spec':[..._0x242b90]}),_0x5efd52[_0x4332c7(0x1b1)]({'mochaOpts':_0x57bf4d,'configuration':{'server':_0x391764,'capability':_0x79c032,'proxySettings':_0x393191[_0x4332c7(0x1ae)][_0x4332c7(0x206)],'platform':helper['getPlatformName'](_0x79c032),'browserStackLogLevel':_0x393191[_0x4332c7(0x1ae)][_0x4332c7(0x16f)],'platformIndex':_0x24427e,'browserStackPercyOptions':_0x48f208,'platformCaps':Object[_0x4332c7(0x1df)]({'index':_0x24427e},_0x393191[_0x4332c7(0x1ae)][_0x4332c7(0x170)][_0x24427e])}});}),_0x2f2004[_0x253092(0x1b1)](..._0x5efd52);}logger[_0x253092(0x17d)]('Running\x20your\x20mocha\x20tests\x20across\x20'+_0x393191[_0x253092(0x1ae)][_0x253092(0x170)][_0x253092(0x1f4)]+_0x253092(0x22c)),logger[_0x253092(0x17d)](_0x14d5d1['mWhMt']);let _0x53bd2a;_0x14d5d1['puWwv'](parallelTestRun,_0x2f2004,_0x2c351b,_0x393191)[_0x253092(0x22e)](_0x4dc276=>{const _0xf53200=_0x253092;PerformanceTester[_0xf53200(0x24d)](PerformanceEvents[_0xf53200(0x1cd)]),_0x53bd2a=_0x4dc276,_0x14d5d1[_0xf53200(0x221)](printStats,_0x4dc276,_0x48d7de[_0xf53200(0x1f2)],_0x48d7de[_0xf53200(0x24e)]||_0x48d7de[_0x14d5d1[_0xf53200(0x14c)]]);})[_0x253092(0x1e9)](async()=>{const _0x30369a=_0x253092;PerformanceTester[_0x30369a(0x24d)](PerformanceEvents['SDK_CLEANUP']),_0x393191[_0x30369a(0x1ac)]=helper[_0x30369a(0x15f)](_0x53bd2a,_0x14d5d1[_0x30369a(0x1a8)]),await utilities['finalExecution'](_0x393191),testOpsHelper[_0x30369a(0x166)]();});}}module[a29_0x4aafc0(0x202)]=run;