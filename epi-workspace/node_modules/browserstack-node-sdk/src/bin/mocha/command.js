#!/usr/bin/env node
'use strict';const a32_0x174226=a32_0x4dc2;(function(_0x75d0a6,_0x5bc5ae){const _0x51bac7=a32_0x4dc2,_0x6be1c7=_0x75d0a6();while(!![]){try{const _0x2f5c09=parseInt(_0x51bac7(0x1b7))/0x1+-parseInt(_0x51bac7(0x22c))/0x2*(parseInt(_0x51bac7(0x1d7))/0x3)+-parseInt(_0x51bac7(0x252))/0x4+-parseInt(_0x51bac7(0x1dc))/0x5+-parseInt(_0x51bac7(0x222))/0x6*(-parseInt(_0x51bac7(0x20d))/0x7)+-parseInt(_0x51bac7(0x1c8))/0x8+parseInt(_0x51bac7(0x21d))/0x9;if(_0x2f5c09===_0x5bc5ae)break;else _0x6be1c7['push'](_0x6be1c7['shift']());}catch(_0x4b5230){_0x6be1c7['push'](_0x6be1c7['shift']());}}}(a32_0x2d39,0xabd7d));const chalk=require(a32_0x174226(0x220)),logger=require(a32_0x174226(0x1a0))['winstonLogger'],helper=require(a32_0x174226(0x211)),utilities=require(a32_0x174226(0x1a5)),testOpsHelper=require(a32_0x174226(0x1b2)),fs=require('fs'),os=require('os'),{parallelTestRun}=require('../test-runner'),{requireModule,nestedKeyValue}=require(a32_0x174226(0x211)),{getPercyOptions}=require('../../helpers/percy/utils'),Base=requireModule('mocha/lib/reporters/base.js',a32_0x174226(0x24c)),collectFiles=requireModule(a32_0x174226(0x218),a32_0x174226(0x24c)),constants=require('../utils/constants'),PerformanceTester=require(a32_0x174226(0x1bb)),PerformanceEvents=require('../../helpers/performance/constants')['EVENTS'],centralScannerConstants=require(a32_0x174226(0x229)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),TestHubHandler=require(a32_0x174226(0x217)),ClientTroubleShootingService=require(a32_0x174226(0x200));function a32_0x4dc2(_0x5887cf,_0x26c340){const _0x2d3924=a32_0x2d39();return a32_0x4dc2=function(_0x4dc20f,_0x33c8da){_0x4dc20f=_0x4dc20f-0x198;let _0x5838a4=_0x2d3924[_0x4dc20f];return _0x5838a4;},a32_0x4dc2(_0x5887cf,_0x26c340);}function tag(_0x3999ed,_0x1c0810,_0x4e0077,_0x3d1a6d){const _0x4476b3=a32_0x174226,_0x4028fa={'FnMlT':function(_0xe0a32c,_0x29ff99){return _0xe0a32c+_0x29ff99;},'yxguM':function(_0x1ac15e,_0x1e53aa){return _0x1ac15e+_0x1e53aa;},'dGDGF':function(_0x572a1b,_0xaffa0c){return _0x572a1b(_0xaffa0c);},'hhAML':function(_0x2d4060,_0x4288e1){return _0x2d4060+_0x4288e1;},'bJxnb':function(_0x31a8b7,_0x45c5d8){return _0x31a8b7+_0x45c5d8;},'ONMBt':function(_0x1e7c44,_0x1a7d99){return _0x1e7c44+_0x1a7d99;},'lMNIa':function(_0x27e524,_0x570946){return _0x27e524+_0x570946;},'smMYw':function(_0x5403f4,_0x282b24){return _0x5403f4+_0x282b24;}},_0x640924=_0x4e0077?'/>':'>',_0x4b866f=[];let _0x470b65;for(const _0x53d959 in _0x1c0810){Object[_0x4476b3(0x1c3)]['hasOwnProperty'][_0x4476b3(0x286)](_0x1c0810,_0x53d959)&&_0x4b866f[_0x4476b3(0x198)](_0x4028fa[_0x4476b3(0x1c5)](_0x4028fa[_0x4476b3(0x1c5)](_0x4028fa['yxguM'](_0x53d959,'=\x22'),_0x4028fa[_0x4476b3(0x1a8)](escape,_0x1c0810[_0x53d959])),'\x22'));}return _0x470b65=_0x4028fa[_0x4476b3(0x1c5)](_0x4028fa[_0x4476b3(0x1ec)](_0x4028fa['bJxnb']('<',_0x3999ed),_0x4b866f[_0x4476b3(0x258)]?_0x4028fa[_0x4476b3(0x256)]('\x20',_0x4b866f[_0x4476b3(0x27c)]('\x20')):''),_0x640924),_0x3d1a6d&&(_0x470b65+=_0x4028fa['lMNIa'](_0x4028fa['FnMlT'](_0x4028fa[_0x4476b3(0x265)](_0x3d1a6d,'</'),_0x3999ed),_0x640924)),_0x470b65;}let xunitContent='';function xunitWrite(_0x1f8ab6){xunitContent+=_0x1f8ab6;}function xunitTest(_0x2e2cb8,_0x4759ba){const _0x439acc=a32_0x174226,_0x191ac8={'WlMVV':function(_0x2eda7e,_0x28c76a){return _0x2eda7e/_0x28c76a;},'MUCly':function(_0x45c7f3,_0x454808){return _0x45c7f3===_0x454808;},'Ttcbn':'failed','yiZgQ':function(_0x59d3db,_0xed6743){return _0x59d3db+_0xed6743;},'eJRBX':function(_0x1247ee,_0x499697){return _0x1247ee(_0x499697);},'YfjED':function(_0x31c5ca,_0x3ff127,_0xb3e536,_0xbd1330,_0x351a2e){return _0x31c5ca(_0x3ff127,_0xb3e536,_0xbd1330,_0x351a2e);},'pRwRb':'testcase','hCjyo':_0x439acc(0x249),'mUHfY':function(_0x44c15f,_0xba6314){return _0x44c15f(_0xba6314);},'ELeFQ':function(_0x2d2467,_0x40f948,_0x2e83c1,_0x396fbb,_0x5095c5){return _0x2d2467(_0x40f948,_0x2e83c1,_0x396fbb,_0x5095c5);},'PMmEV':function(_0x42e8ba,_0x1ffeac,_0x18045c,_0x24661f){return _0x42e8ba(_0x1ffeac,_0x18045c,_0x24661f);},'mroUP':_0x439acc(0x26a),'bSYRP':function(_0x11b8f3,_0x228711,_0x781a02,_0x4e2302){return _0x11b8f3(_0x228711,_0x781a02,_0x4e2302);}};Base[_0x439acc(0x1c7)]=![];var _0x52309c={'classname':_0x2e2cb8[_0x439acc(0x23a)],'name':_0x2e2cb8[_0x439acc(0x24d)],'time':_0x191ac8[_0x439acc(0x1e6)](_0x2e2cb8[_0x439acc(0x26c)],0x3e8)||0x0,'platform':_0x4759ba};if(_0x191ac8[_0x439acc(0x1e3)](_0x2e2cb8[_0x439acc(0x255)],_0x191ac8[_0x439acc(0x244)])){var _0xbca572=_0x2e2cb8[_0x439acc(0x1b1)],_0x78de14=!Base['hideDiff']&&Base['showDiff'](_0xbca572)?_0x191ac8[_0x439acc(0x19c)]('\x0a',Base[_0x439acc(0x262)](_0xbca572[_0x439acc(0x241)],_0xbca572[_0x439acc(0x1d6)])):'';_0x191ac8[_0x439acc(0x23f)](xunitWrite,_0x191ac8[_0x439acc(0x1ae)](tag,_0x191ac8[_0x439acc(0x26f)],_0x52309c,![],_0x191ac8['YfjED'](tag,_0x191ac8[_0x439acc(0x22e)],{},![],_0x191ac8[_0x439acc(0x19c)](_0x191ac8[_0x439acc(0x19c)](_0x191ac8[_0x439acc(0x19c)](_0x191ac8[_0x439acc(0x23f)](escape,_0xbca572[_0x439acc(0x1df)]),_0x191ac8[_0x439acc(0x23f)](escape,_0x78de14)),'\x0a'),_0x191ac8[_0x439acc(0x219)](escape,_0xbca572[_0x439acc(0x1a1)])))));}else _0x2e2cb8[_0x439acc(0x25d)]?_0x191ac8[_0x439acc(0x23f)](xunitWrite,_0x191ac8[_0x439acc(0x276)](tag,_0x191ac8[_0x439acc(0x26f)],_0x52309c,![],_0x191ac8[_0x439acc(0x21b)](tag,_0x191ac8['mroUP'],{},!![]))):_0x191ac8[_0x439acc(0x219)](xunitWrite,_0x191ac8[_0x439acc(0x1d3)](tag,_0x191ac8[_0x439acc(0x26f)],_0x52309c,!![]));};function getStats(_0x331ea5){const _0x191e02=a32_0x174226,_0x47429b={};_0x47429b[_0x191e02(0x1fe)]=_0x191e02(0x268),_0x47429b[_0x191e02(0x28a)]=_0x191e02(0x226),_0x47429b[_0x191e02(0x1e8)]=_0x191e02(0x207),_0x47429b[_0x191e02(0x19a)]=_0x191e02(0x1fd);const _0x342023=_0x47429b,_0x4a3c35=Object['keys'](_0x331ea5);let _0x2a1fd3=0x0,_0x311fdb=0x0,_0x1be77b=0x0,_0x258b43=0x0;const _0x207b0b=new Set();_0x4a3c35['forEach'](_0x1ae0fb=>{_0x331ea5[_0x1ae0fb][_0x342023['aBueX']]['forEach'](_0xa2711c=>{const _0x3a6bc7=a32_0x4dc2;_0x207b0b[_0x3a6bc7(0x27a)](_0xa2711c[_0x342023[_0x3a6bc7(0x1fe)]]),_0x2a1fd3++;switch(_0xa2711c[_0x3a6bc7(0x255)]){case _0x342023['SJYAx']:_0x1be77b++;break;case _0x342023[_0x3a6bc7(0x1e8)]:_0x311fdb++;break;default:_0x258b43++;}});});const _0x5e213f={};return _0x5e213f[_0x191e02(0x1ca)]=_0x207b0b[_0x191e02(0x23b)],_0x5e213f['platforms']=_0x4a3c35,_0x5e213f[_0x191e02(0x234)]=_0x2a1fd3,_0x5e213f['testsFailed']=_0x311fdb,_0x5e213f[_0x191e02(0x20b)]=_0x1be77b,_0x5e213f[_0x191e02(0x271)]=_0x258b43,_0x5e213f;}function errorJSON(_0x4ebf29){const _0x323405=a32_0x174226;var _0x129e5d={};return Object[_0x323405(0x24a)](_0x4ebf29)[_0x323405(0x1e1)](function(_0x265406){_0x129e5d[_0x265406]=_0x4ebf29[_0x265406];},_0x4ebf29),_0x129e5d;}function cleanCycles(_0x3574f4){const _0x5c6960=a32_0x174226,_0x322971={};_0x322971[_0x5c6960(0x230)]=function(_0x571f7e,_0x229f81){return _0x571f7e===_0x229f81;},_0x322971[_0x5c6960(0x264)]=_0x5c6960(0x28c),_0x322971[_0x5c6960(0x22b)]=function(_0x264967,_0x4671d9){return _0x264967!==_0x4671d9;},_0x322971[_0x5c6960(0x260)]=function(_0x5cefc0,_0x2e8d4d){return _0x5cefc0+_0x2e8d4d;};const _0x177fd3=_0x322971;var _0x1ccf63=[];return JSON['parse'](JSON[_0x5c6960(0x248)](_0x3574f4,function(_0x331c5d,_0x1080d4){const _0x46ce04=_0x5c6960;if(_0x177fd3[_0x46ce04(0x230)](typeof _0x1080d4,_0x177fd3[_0x46ce04(0x264)])&&_0x177fd3[_0x46ce04(0x22b)](_0x1080d4,null)){if(_0x177fd3[_0x46ce04(0x22b)](_0x1ccf63[_0x46ce04(0x237)](_0x1080d4),-0x1))return _0x177fd3['JyWkX']('',_0x1080d4);_0x1ccf63[_0x46ce04(0x198)](_0x1080d4);}return _0x1080d4;}));}function a32_0x2d39(){const _0x5b44ab=['ZBybc','proxySettings','MwHNh','prepareCapabilities','prototype','</testsuite>','FnMlT','Setting\x20non\x20exit\x20code\x20for\x20failures','useColors','2527608NojHaO','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','testSuites','titlePath','aWVlL','getPlatformName','exports','BKcrF','json','parseFileNames','bold','bSYRP','sDxPT','stats','expected','821364PxWmDI','Listing\x20all\x20the\x20failures','nceNw','isTestObservabilitySession','doc','2791385ZaOtWl','BFGIc','stvgl','message','Total\x20Suites:\x20','forEach','vfbia','MUCly','FRAMEWORKS','shouldReRunObservabilityTests','WlMVV','Tests:\x20\x20\x20\x20\x20\x20\x20','fsWGu','Printing\x20stats\x20of\x20tests','TcNbl','accessibilityOptions','hhAML','accessibility','\x20skipped','maxRetries','cmBQB','BROWSERSTACK_GRR_US_HUB_URL','log','YGUSE','mjs','yFJvW','file','testsFailed','AYLao','list','TVOIN','passes','LfksE','results','fKPgM','Codod','../utils/clientTroubleshootingService','spec','dRFEW','exitCode','start','getErrorMessageFromResults','retries','failed','ignore','LgArr','toUTCString','testsPassed','rtWqq','2044154PrgjOM','bObxS','rerunTests','\x20passed','../../helpers/helper','printBuildLink','aCcJR','reporterOptions','Writing\x20json\x20result\x20to\x20file','retryTestsOnFailure','../../helpers/testhub/testhubHandler','mocha/lib/cli/collect-files.js','mUHfY','handleApp','PMmEV','bgRedBright','9644598hXyqBC','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','output','chalk','ZrpDZ','24cQZApn','sort','debug','YQUxk','passed','PaVvu','FUJye','../../helpers/central-scanner/constants','PNgsQ','QuSbn','6lOfJMB','cliConfig','hCjyo','titlePathV','osUVJ','BROWSERSTACK_TEST_OBSERVABILITY_YML','isUndefined','JHceJ','totalTests','capability','Running\x20your\x20mocha\x20tests','indexOf','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','fullTitle','size','isEmpty','error','platforms','eJRBX','includeEncodedExtension','actual','xRznJ','bowcd','Ttcbn','Mocha\x20Tests','\x20total','pUrOH','stringify','failure','getOwnPropertyNames','Total\x20Platforms:\x20','mocha','title','qgrTC','getUserWorkerCount','framework','hEMYR','2726484DSrPjg','assign','cjs','state','ONMBt','lYdDd','length','env','reporter-option','config','get','isPending','UaReO','parseTestOrchestrationOptions','JyWkX','fireFunnelTestEvent','generateDiff','tFxdR','CuzIV','smMYw','logLevel','zOeVr','suite','testObservability','skipped','DQgqf','duration','uNhTz','nyelY','pRwRb','ClgNn','testsPending','errorMessage','isBrowserstackInfra','platform','useW3C','ELeFQ','info','speed','UlIDX','add','excludeTagsInTestingScope','join','extension','MOCHA','parallelsPerPlatform','consoleLog','green','iApPP','unlinkSync','ApnyE','SDK_CLEANUP','call','central_scanner','pLFmX','QOcnh','SJYAx','setUserConfigPath','object','fwMuW','push','yoTuu','aBueX','Couldn\x27t\x20write\x20xunit\x20result\x20to','yiZgQ','xkINY','NnzgQ','BROWSERSTACK_RERUN_TESTS','../../helpers/logger','stack','writeFileSync','huxAg','finalExecution','../../helpers/utilities','Couldn\x27t\x20write\x20json\x20result\x20to','Now,\x20showing\x20logs\x20from\x20mocha','dGDGF','bgBlueBright','mNAeo','reporter','qFOqU','CKNUo','YfjED','xunit','rootHooks','err','../../helpers/test-observability/utils','files','QYcYF','configuration','wviFM','841372XiqSYq','red','bstack:options','finally','../../helpers/performance/performance-tester','cUYUr','eXWMH','StXdE'];a32_0x2d39=function(){return _0x5b44ab;};return a32_0x2d39();}function clean(_0x27a7ad){const _0xab475a=a32_0x174226,_0xe5c582={'rtWqq':function(_0x8ee807,_0x3c0af8){return _0x8ee807 instanceof _0x3c0af8;},'MwHNh':function(_0x439fdd,_0x368309){return _0x439fdd(_0x368309);},'yFJvW':function(_0x2e8a94,_0x5588fc){return _0x2e8a94(_0x5588fc);}};var _0x26b952=_0x27a7ad[_0xab475a(0x1b1)]||{};return _0xe5c582[_0xab475a(0x20c)](_0x26b952,Error)&&(_0x26b952=_0xe5c582[_0xab475a(0x1c1)](errorJSON,_0x26b952)),{'title':_0x27a7ad['title'],'fullTitle':_0x27a7ad[_0xab475a(0x23a)],'file':_0x27a7ad[_0xab475a(0x1f6)],'duration':_0x27a7ad['duration'],'currentRetry':_0x27a7ad['currentRetry'],'speed':_0x27a7ad[_0xab475a(0x278)],'err':_0xe5c582[_0xab475a(0x1f5)](cleanCycles,_0x26b952)};}function printStats(_0x21b0d4,_0x1e474a=a32_0x174226(0x201),_0x519f2e={}){const _0x387bd6=a32_0x174226,_0x113e47={'stvgl':function(_0x2be6af,_0x47e8e4){return _0x2be6af(_0x47e8e4);},'QOcnh':function(_0x1dc318,_0x39f8af){return _0x1dc318===_0x39f8af;},'FUJye':_0x387bd6(0x226),'NnzgQ':_0x387bd6(0x1fb),'cmBQB':function(_0x33abcd,_0x371d65){return _0x33abcd===_0x371d65;},'StXdE':_0x387bd6(0x207),'hEMYR':'failures','bowcd':'pending','LHjdE':function(_0x2a98db,_0xd899b2){return _0x2a98db(_0xd899b2);},'iApPP':_0x387bd6(0x1fd),'ApcWJ':function(_0x21ce27,_0x2b3238){return _0x21ce27*_0x2b3238;},'qFOqU':function(_0x259cbb,_0x17479c,_0x25bfea){return _0x259cbb(_0x17479c,_0x25bfea);},'nyelY':function(_0x437ba6,_0x1d20ac){return _0x437ba6>_0x1d20ac;},'pyYJv':function(_0x5c66cd){return _0x5c66cd();},'lYdDd':function(_0x4fa748,_0x537ad2){return _0x4fa748===_0x537ad2;},'PNgsQ':_0x387bd6(0x1db),'PaVvu':function(_0x188e05,_0x19a031){return _0x188e05>_0x19a031;},'bObxS':_0x387bd6(0x1c6),'IPvan':_0x387bd6(0x1e9),'BFGIc':function(_0x53f1a9,_0x56616b){return _0x53f1a9+_0x56616b;},'huxAg':_0x387bd6(0x24b),'ZBybc':_0x387bd6(0x1e0),'yoTuu':function(_0x2e4a41,_0x3c272c){return _0x2e4a41+_0x3c272c;},'pPYJc':function(_0x25ed5d,_0x318a55){return _0x25ed5d+_0x318a55;},'UlIDX':function(_0x13e3de,_0x1206b2){return _0x13e3de+_0x1206b2;},'qvAwP':_0x387bd6(0x1e7),'YQUxk':function(_0x3e1689,_0xc8c5f0){return _0x3e1689>_0xc8c5f0;},'VuYdy':function(_0x559574,_0x1eb610){return _0x559574>_0x1eb610;},'TcNbl':function(_0x3ba7be,_0x50b87c){return _0x3ba7be+_0x50b87c;},'cUYUr':function(_0x59cfe2,_0xa258aa){return _0x59cfe2+_0xa258aa;},'KuZom':'\x0a\x0a\x0a','FMVkl':function(_0x2ce83b,_0x492374){return _0x2ce83b===_0x492374;},'Codod':_0x387bd6(0x1d0),'eXWMH':_0x387bd6(0x215),'aCcJR':_0x387bd6(0x1a6),'wviFM':_0x387bd6(0x239),'dRFEW':_0x387bd6(0x1af),'fwMuW':_0x387bd6(0x245),'pUrOH':function(_0x534bda,_0x3ee209){return _0x534bda||_0x3ee209;},'ZUxpf':function(_0x14e685,_0x53cf4d){return _0x14e685(_0x53cf4d);},'TPipA':function(_0x438325,_0xdabd64,_0x1be697,_0x2e5b9a){return _0x438325(_0xdabd64,_0x1be697,_0x2e5b9a);},'KnYHk':'testsuite','dTzif':function(_0x54f845,_0x2cae34){return _0x54f845-_0x2cae34;},'CKNUo':function(_0x285e30,_0x590ab8){return _0x285e30-_0x590ab8;},'pLFmX':function(_0x571ccd,_0x53a90e){return _0x571ccd/_0x53a90e;},'DQgqf':function(_0x259475,_0x11cd80){return _0x259475(_0x11cd80);},'VouOb':_0x387bd6(0x1c4),'aWVlL':'Writing\x20xunit\x20result\x20to\x20file','QYcYF':_0x387bd6(0x19b),'mNAeo':_0x387bd6(0x21e),'guZJS':_0x387bd6(0x1d8),'TVOIN':'****\x20FAILURES\x20****'};if(_0x113e47[_0x387bd6(0x257)](_0x1e474a,_0x113e47[_0x387bd6(0x22a)]))return;const _0x2cf23e=0x0,_0xc44e1f=()=>{const _0x5e8559=_0x387bd6;return _0x113e47['stvgl'](Array,_0x2cf23e)[_0x5e8559(0x27c)]('\x20\x20');},{testSuites:_0x302143,platforms:_0x31a7cb,totalTests:_0x58040d,testsFailed:_0x3969a2,testsPassed:_0xaa3e82,testsPending:_0x599090}=_0x113e47[_0x387bd6(0x1de)](getStats,_0x21b0d4);_0x113e47[_0x387bd6(0x227)](_0x3969a2,0x0)&&(logger[_0x387bd6(0x224)](_0x113e47[_0x387bd6(0x20e)]),process[_0x387bd6(0x203)]=Math['min'](_0x3969a2,0xff));logger[_0x387bd6(0x224)](_0x113e47['IPvan']);const _0x3ef4a9=''+_0x113e47[_0x387bd6(0x1dd)](chalk[_0x387bd6(0x1d2)](_0x113e47[_0x387bd6(0x1a3)]),_0x31a7cb[_0x387bd6(0x258)]),_0x1836f9=''+_0x113e47[_0x387bd6(0x1dd)](chalk['bold'](_0x113e47[_0x387bd6(0x1bf)]),_0x302143),_0xdc4ee8=''+_0x113e47[_0x387bd6(0x199)](_0x113e47['pPYJc'](_0x113e47[_0x387bd6(0x279)](chalk[_0x387bd6(0x1d2)](_0x113e47['qvAwP']),_0x113e47[_0x387bd6(0x26e)](_0x3969a2,0x0)?chalk[_0x387bd6(0x1d2)][_0x387bd6(0x1b8)](_0x3969a2+'\x20failed')+',\x20':''),_0x113e47[_0x387bd6(0x225)](_0x599090,0x0)?chalk[_0x387bd6(0x1d2)]['yellow'](_0x599090+_0x387bd6(0x1ee))+',\x20':''),_0x113e47['VuYdy'](_0xaa3e82,0x0)?chalk['bold'][_0x387bd6(0x281)](_0xaa3e82+_0x387bd6(0x210))+',\x20':'')+_0x58040d+_0x387bd6(0x246);console['log'](_0x113e47[_0x387bd6(0x1ea)](_0x113e47[_0x387bd6(0x199)](_0x113e47[_0x387bd6(0x1bc)](_0x113e47['TcNbl'](_0x113e47['pPYJc'](_0x113e47['KuZom'],_0x3ef4a9),'\x0a'),_0x1836f9),'\x0a'),_0xdc4ee8));if(_0x113e47['FMVkl'](_0x1e474a,_0x113e47[_0x387bd6(0x1ff)])){const _0x4ea109={},_0x2e5817={};_0x2e5817[_0x387bd6(0x1ca)]=_0x302143,_0x2e5817[_0x387bd6(0x23e)]=_0x31a7cb,_0x2e5817[_0x387bd6(0x1f7)]=_0x3969a2,_0x2e5817[_0x387bd6(0x20b)]=_0xaa3e82,_0x2e5817[_0x387bd6(0x271)]=_0x599090,_0x4ea109[_0x387bd6(0x1d5)]=_0x2e5817,_0x31a7cb['forEach'](_0x2cacce=>{const _0x1eb953=_0x387bd6;_0x4ea109[_0x2cacce]={'pending':[],'failures':[],'passes':[],'tests':_0x21b0d4[_0x2cacce][_0x113e47[_0x1eb953(0x282)]]['map'](clean)},_0x21b0d4[_0x2cacce][_0x113e47[_0x1eb953(0x282)]][_0x1eb953(0x1e1)](_0x3cc6e6=>{const _0x436e4f=_0x1eb953;if(_0x113e47[_0x436e4f(0x289)](_0x3cc6e6[_0x436e4f(0x255)],_0x113e47[_0x436e4f(0x228)]))_0x4ea109[_0x2cacce][_0x113e47[_0x436e4f(0x19e)]][_0x436e4f(0x198)](_0x113e47[_0x436e4f(0x1de)](clean,_0x3cc6e6));else _0x113e47['cmBQB'](_0x3cc6e6[_0x436e4f(0x255)],_0x113e47['StXdE'])?_0x4ea109[_0x2cacce][_0x113e47[_0x436e4f(0x251)]][_0x436e4f(0x198)](_0x113e47[_0x436e4f(0x1de)](clean,_0x3cc6e6)):_0x4ea109[_0x2cacce][_0x113e47[_0x436e4f(0x243)]][_0x436e4f(0x198)](_0x113e47['LHjdE'](clean,_0x3cc6e6));});});if(_0x519f2e[_0x387bd6(0x21f)])try{logger[_0x387bd6(0x224)](_0x113e47[_0x387bd6(0x1bd)],_0x519f2e[_0x387bd6(0x21f)]),fs[_0x387bd6(0x1a2)](_0x519f2e[_0x387bd6(0x21f)],JSON['stringify'](_0x4ea109,null,0x3));}catch(_0x3bb9dc){logger[_0x387bd6(0x23d)](_0x113e47[_0x387bd6(0x213)],_0x519f2e['output']),logger[_0x387bd6(0x224)](_0x3bb9dc);}else logger[_0x387bd6(0x224)](_0x113e47[_0x387bd6(0x1b6)]),console[_0x387bd6(0x1f2)](JSON[_0x387bd6(0x248)](_0x4ea109,null,0x3));}else{if(_0x113e47['QOcnh'](_0x1e474a,_0x113e47[_0x387bd6(0x202)])){let _0xfff116;const _0x58751f=_0x113e47[_0x387bd6(0x28d)];_0x519f2e&&(_0xfff116=_0x519f2e['suiteName']);_0xfff116=_0x113e47[_0x387bd6(0x247)](_0xfff116,_0x58751f);let _0x3a71ef=0x0,_0x421c39=0x0,_0x4c5575=0x0,_0x146ef6=0x0;_0x31a7cb['forEach'](_0x33799f=>{const _0xc89454=_0x387bd6;_0x21b0d4[_0x33799f][_0x113e47[_0xc89454(0x282)]][_0xc89454(0x1e1)](_0x29da97=>{const _0x45a534=_0xc89454;if(_0x113e47[_0x45a534(0x1f0)](_0x29da97['state'],_0x113e47[_0x45a534(0x228)]))_0x3a71ef++;else _0x113e47[_0x45a534(0x289)](_0x29da97[_0x45a534(0x255)],_0x113e47['StXdE'])&&_0x421c39++;_0x4c5575++,_0x146ef6+=_0x113e47['ApcWJ'](_0x29da97[_0x45a534(0x26c)],0x1);});}),_0x113e47['ZUxpf'](xunitWrite,_0x113e47['TPipA'](tag,_0x113e47['KnYHk'],{'name':_0xfff116,'tests':_0x4c5575,'failures':0x0,'errors':_0x421c39,'skipped':_0x113e47['dTzif'](_0x113e47[_0x387bd6(0x1ad)](_0x4c5575,_0x421c39),_0x3a71ef),'timestamp':new Date()[_0x387bd6(0x20a)](),'time':_0x113e47[_0x387bd6(0x288)](_0x146ef6,0x3e8)||0x0},![])),_0x31a7cb['forEach'](_0x55c835=>{const _0x1dcb63=_0x387bd6,_0x2c1e29={'uNhTz':function(_0x129142,_0xf0ec2c,_0x2fd6f5){const _0x42648b=a32_0x4dc2;return _0x113e47[_0x42648b(0x1ac)](_0x129142,_0xf0ec2c,_0x2fd6f5);}};_0x21b0d4[_0x55c835][_0x113e47[_0x1dcb63(0x282)]][_0x1dcb63(0x1e1)](_0x2a8c38=>{const _0x2f4577=_0x1dcb63;_0x2c1e29[_0x2f4577(0x26d)](xunitTest,_0x2a8c38,_0x55c835);});}),_0x113e47[_0x387bd6(0x26b)](xunitWrite,_0x113e47['VouOb']);if(_0x519f2e[_0x387bd6(0x21f)])try{logger[_0x387bd6(0x224)](_0x113e47[_0x387bd6(0x1cc)],_0x519f2e['output']),fs[_0x387bd6(0x1a2)](_0x519f2e['output'],xunitContent);}catch(_0x4b4ffa){logger[_0x387bd6(0x23d)](_0x113e47[_0x387bd6(0x1b4)],_0x519f2e[_0x387bd6(0x21f)]),logger['debug'](_0x4b4ffa);}else logger['debug'](_0x113e47[_0x387bd6(0x1aa)]),console[_0x387bd6(0x1f2)](xunitContent);}else{if(_0x113e47[_0x387bd6(0x1f0)](_0x3969a2,0x0))return;console[_0x387bd6(0x1f2)](),logger[_0x387bd6(0x224)](_0x113e47['guZJS']),console[_0x387bd6(0x1f2)](chalk['bold'][_0x387bd6(0x21c)](_0x113e47[_0x387bd6(0x1fa)])),_0x31a7cb[_0x387bd6(0x1e1)](_0x5e0939=>{const _0x3ed62a=_0x387bd6,_0x2d835c={'bfMVS':function(_0x5f23cd,_0x2ec4f6){const _0x155b9c=a32_0x4dc2;return _0x113e47[_0x155b9c(0x1f0)](_0x5f23cd,_0x2ec4f6);},'UaReO':_0x113e47[_0x3ed62a(0x1be)]},_0x8460e2=[];_0x21b0d4[_0x5e0939][_0x113e47['iApPP']][_0x3ed62a(0x1e1)](_0x48047b=>{const _0x5caf64=_0x3ed62a;_0x2d835c['bfMVS'](_0x48047b['state'],_0x2d835c[_0x5caf64(0x25e)])&&(_0x48047b[_0x5caf64(0x1cb)]=()=>_0x48047b[_0x5caf64(0x22f)],_0x8460e2[_0x5caf64(0x198)](_0x48047b));}),_0x113e47[_0x3ed62a(0x26e)](_0x8460e2[_0x3ed62a(0x258)],0x0)&&(Base[_0x3ed62a(0x280)](),Base['consoleLog'](_0x113e47['pyYJv'](_0xc44e1f),chalk[_0x3ed62a(0x1d2)][_0x3ed62a(0x1a9)](_0x5e0939)),Base[_0x3ed62a(0x1f9)](_0x8460e2));});}}}async function run(_0x153d65,_0x24b74c,_0x1848d7){const _0x2ed121=a32_0x174226,_0x5c0c20={'ZrpDZ':function(_0x2aa3da,_0x1f2f9b,_0x3a89e5,_0x188aeb){return _0x2aa3da(_0x1f2f9b,_0x3a89e5,_0x188aeb);},'tFxdR':_0x2ed121(0x25a),'JHceJ':'error\x20removing\x20tcg\x20config\x20file','iQSqa':'SDKTestSuccessful','BKcrF':_0x2ed121(0x24c),'YGUSE':function(_0x55506a,_0x507982){return _0x55506a!=_0x507982;},'qgrTC':_0x2ed121(0x254),'Pwaxl':_0x2ed121(0x1f4),'ApnyE':'test','LgArr':_0x2ed121(0x20f),'vfbia':function(_0x27fe66,_0x2f079f){return _0x27fe66(_0x2f079f);},'xkINY':function(_0x6c8945,_0x529de6,_0x3b9816){return _0x6c8945(_0x529de6,_0x3b9816);},'nceNw':_0x2ed121(0x1b3),'AYLao':function(_0x3b7ce5,_0x37138e){return _0x3b7ce5!=_0x37138e;},'Zfdyb':'includeTagsInTestingScope','xRznJ':_0x2ed121(0x27b),'sDxPT':_0x2ed121(0x240),'zOeVr':_0x2ed121(0x236),'mLOhE':_0x2ed121(0x1a7),'LfksE':function(_0x5b1cc0,_0x557b02,_0x29ebc3,_0x2bcf44){return _0x5b1cc0(_0x557b02,_0x29ebc3,_0x2bcf44);},'RlJPm':function(_0x30d1c9,_0x23ee4f){return _0x30d1c9*_0x23ee4f;},'ClgNn':function(_0x2ff36e,_0x2aa731){return _0x2ff36e!==_0x2aa731;}};helper[_0x2ed121(0x28b)](_0x1848d7[_0x2ed121(0x250)],_0x153d65),await _0x1848d7['initialize'](_0x153d65);helper[_0x2ed121(0x273)]()?await helper[_0x2ed121(0x21a)](_0x1848d7[_0x2ed121(0x25b)]):await _0x1848d7['setupTCGAuth']();const _0x13d00a=[];let _0x236b73=[];if(!_0x1848d7['config'])return;!helper[_0x2ed121(0x232)](_0x1848d7[_0x2ed121(0x25b)]['accessibilityOptions'])&&(process[_0x2ed121(0x259)]['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON[_0x2ed121(0x248)](_0x1848d7[_0x2ed121(0x25b)][_0x2ed121(0x1eb)]));const _0x8a60e8=await TestHubHandler['launchBuild'](FRAMEWORKS['MOCHA'],_0x1848d7);_0x5c0c20[_0x2ed121(0x1f3)](_0x1848d7[_0x2ed121(0x25b)]['testObservability'],null)&&(process[_0x2ed121(0x259)][_0x2ed121(0x231)]=_0x1848d7[_0x2ed121(0x25b)][_0x2ed121(0x269)]);!helper[_0x2ed121(0x232)](_0x1848d7[_0x2ed121(0x25b)]['accessibility'])&&(process['env']['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x1848d7['config'][_0x2ed121(0x1ed)]);const {extension:extension=['js',_0x5c0c20[_0x2ed121(0x24e)],_0x5c0c20['Pwaxl']],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x5c0c20[_0x2ed121(0x284)]]}=_0x153d65,_0x5ab383={..._0x153d65};_0x5ab383[_0x2ed121(0x1b0)]=null;const _0x4ae258=_0x5ab383;let _0x2ec4d0;if(testOpsHelper[_0x2ed121(0x1da)]()&&testOpsHelper[_0x2ed121(0x1e5)]()){let _0x48c307=process[_0x2ed121(0x259)][_0x2ed121(0x19f)];!helper[_0x2ed121(0x232)](_0x1848d7['cliConfig'])&&_0x1848d7['cliConfig']['has'](_0x5c0c20[_0x2ed121(0x209)])&&(_0x48c307=_0x1848d7[_0x2ed121(0x22d)][_0x2ed121(0x25c)](_0x5c0c20[_0x2ed121(0x209)])),_0x2ec4d0=testOpsHelper[_0x2ed121(0x1d1)](_0x48c307);}if(helper[_0x2ed121(0x232)](_0x2ec4d0)){const _0xa83c0b={};_0xa83c0b[_0x2ed121(0x208)]=ignore,_0xa83c0b[_0x2ed121(0x27d)]=extension,_0xa83c0b[_0x2ed121(0x1f6)]=file,_0xa83c0b['recursive']=recursive,_0xa83c0b[_0x2ed121(0x223)]=sort,_0xa83c0b[_0x2ed121(0x201)]=spec,_0x2ec4d0=_0x5c0c20[_0x2ed121(0x1e2)](collectFiles,_0xa83c0b),_0x5c0c20[_0x2ed121(0x19d)](nestedKeyValue,_0x2ec4d0,[_0x5c0c20[_0x2ed121(0x1d9)]])&&(_0x2ec4d0=_0x2ec4d0[_0x2ed121(0x1b3)]);}const _0x3f2675=helper[_0x2ed121(0x25f)](_0x1848d7[_0x2ed121(0x25b)]);!helper[_0x2ed121(0x23c)](_0x3f2675)&&helper['isNotUndefined'](_0x3f2675[_0x2ed121(0x216)])&&(_0x4ae258[_0x2ed121(0x206)]=_0x3f2675[_0x2ed121(0x216)][_0x2ed121(0x1ef)]);if(!helper[_0x2ed121(0x273)]()){const _0x43d78d=0x1,_0x22894b={..._0x4ae258};_0x22894b[_0x2ed121(0x201)]=[..._0x2ec4d0],_0x13d00a[_0x2ed121(0x198)]({'mochaOpts':_0x22894b,'configuration':{'platform':os[_0x2ed121(0x274)]()}});if(_0x1848d7[_0x2ed121(0x25b)][_0x2ed121(0x1ed)]){const _0x55da0e={};_0x55da0e[_0x2ed121(0x1ed)]=!![];const _0x30499f=_0x55da0e;_0x5c0c20[_0x2ed121(0x1f8)](_0x1848d7[_0x2ed121(0x25b)][_0x2ed121(0x1eb)],null)&&(_0x30499f[_0x2ed121(0x1eb)]=_0x1848d7['config'][_0x2ed121(0x1eb)],delete _0x30499f[_0x2ed121(0x1eb)][_0x5c0c20['Zfdyb']],delete _0x30499f['accessibilityOptions'][_0x5c0c20[_0x2ed121(0x242)]],delete _0x30499f[_0x2ed121(0x1eb)][_0x5c0c20[_0x2ed121(0x1d4)]]);const _0xe522f9={};_0xe522f9[_0x2ed121(0x1b9)]=_0x30499f,_0x13d00a[0x0][_0x2ed121(0x1b5)][_0x2ed121(0x235)]=_0xe522f9;}logger['info'](_0x5c0c20[_0x2ed121(0x267)]),logger[_0x2ed121(0x277)](_0x5c0c20['mLOhE']),_0x5c0c20[_0x2ed121(0x1fc)](parallelTestRun,_0x13d00a,_0x43d78d,_0x1848d7)['then'](_0x54ac4d=>{const _0x2fa988=_0x2ed121;PerformanceTester['start'](PerformanceEvents[_0x2fa988(0x285)]),_0x5c0c20[_0x2fa988(0x221)](printStats,_0x54ac4d,_0x153d65[_0x2fa988(0x1ab)],_0x153d65['reporterOptions']||_0x153d65[_0x5c0c20['tFxdR']]);})[_0x2ed121(0x1ba)](()=>{const _0x34fe58=_0x2ed121;PerformanceTester[_0x34fe58(0x204)](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0x4fefbf,tcgConfigPath:_0x46dec0}=helper['getTCGConfigFilePaths']();fs[_0x34fe58(0x283)](_0x46dec0),fs['rmdirSync'](_0x4fefbf);}catch(_0x3ce602){logger[_0x34fe58(0x224)](_0x5c0c20[_0x34fe58(0x233)],_0x3ce602);}try{utilities[_0x34fe58(0x261)](_0x5c0c20['iQSqa'],{},_0x1848d7[_0x34fe58(0x25b)],_0x1848d7[_0x34fe58(0x250)]);}catch(_0x145f89){logger[_0x34fe58(0x224)](_0x34fe58(0x238)+_0x145f89[_0x34fe58(0x1a1)]);}try{helper['notifyUpdate']();}catch(_0x48b772){logger[_0x34fe58(0x224)](_0x34fe58(0x1c9)+_0x48b772);}testOpsHelper[_0x34fe58(0x212)]();});}else{const _0x497d16=helper[_0x2ed121(0x275)](_0x1848d7[_0x2ed121(0x25b)]);let _0x445d31=helper['getHubUrl'](_0x1848d7['config']);_0x236b73=helper[_0x2ed121(0x1c2)](_0x1848d7[_0x2ed121(0x25b)],_0x497d16,constants[_0x2ed121(0x1e4)][_0x2ed121(0x27e)]);helper['getCentralUser']()[_0x2ed121(0x287)]&&(_0x445d31=centralScannerConstants[_0x2ed121(0x1f1)]);let _0x356453;const _0x4bc06=_0x1848d7[_0x2ed121(0x25b)][_0x2ed121(0x27f)]||helper[_0x2ed121(0x24f)](_0x153d65,_0x24b74c,_0x1848d7[_0x2ed121(0x25b)],constants['FRAMEWORKS'][_0x2ed121(0x27e)])||0x1;helper['validPlatformsPresent'](_0x1848d7['config'])?_0x356453=_0x5c0c20['RlJPm'](_0x1848d7['config'][_0x2ed121(0x23e)][_0x2ed121(0x258)],_0x4bc06):_0x356453=_0x4bc06;const _0x3d8ba3=_0x5c0c20[_0x2ed121(0x1e2)](getPercyOptions,_0x1848d7[_0x2ed121(0x25b)]);if(_0x5c0c20[_0x2ed121(0x270)](_0x1848d7['config'][_0x2ed121(0x27f)],0x1))_0x2ec4d0[_0x2ed121(0x1e1)](_0x5c3210=>{const _0x2149cf=_0x2ed121,_0x469566=[];_0x236b73[_0x2149cf(0x1e1)]((_0xd6764,_0x770e30)=>{const _0x11c643=_0x2149cf,_0x31895b={};_0x31895b[_0x11c643(0x201)]=[_0x5c3210],_0x469566[_0x11c643(0x198)]({'mochaOpts':Object[_0x11c643(0x253)]({},_0x4ae258,_0x31895b),'configuration':{'server':_0x445d31,'capability':_0xd6764,'proxySettings':_0x1848d7['config'][_0x11c643(0x1c0)],'platform':helper[_0x11c643(0x1cd)](_0xd6764),'browserStackLogLevel':_0x1848d7[_0x11c643(0x25b)][_0x11c643(0x266)],'platformIndex':_0x770e30,'browserStackPercyOptions':_0x3d8ba3,'platformCaps':Object[_0x11c643(0x253)]({'index':_0x770e30},_0x1848d7[_0x11c643(0x25b)][_0x11c643(0x23e)][_0x770e30])}});}),_0x13d00a[_0x2149cf(0x198)](..._0x469566);});else{const _0x580973=[];_0x236b73[_0x2ed121(0x1e1)]((_0x39bac9,_0x404022)=>{const _0x1498db=_0x2ed121;let _0x253b34=Object[_0x1498db(0x253)]({},_0x4ae258);testOpsHelper['isTestObservabilitySession']()&&testOpsHelper[_0x1498db(0x1e5)]()&&(_0x253b34={..._0x253b34,'spec':[..._0x2ec4d0]}),_0x580973['push']({'mochaOpts':_0x253b34,'configuration':{'server':_0x445d31,'capability':_0x39bac9,'proxySettings':_0x1848d7[_0x1498db(0x25b)]['proxySettings'],'platform':helper[_0x1498db(0x1cd)](_0x39bac9),'browserStackLogLevel':_0x1848d7[_0x1498db(0x25b)][_0x1498db(0x266)],'platformIndex':_0x404022,'browserStackPercyOptions':_0x3d8ba3,'platformCaps':Object['assign']({'index':_0x404022},_0x1848d7['config'][_0x1498db(0x23e)][_0x404022])}});}),_0x13d00a[_0x2ed121(0x198)](..._0x580973);}logger[_0x2ed121(0x277)]('Running\x20your\x20mocha\x20tests\x20across\x20'+_0x1848d7[_0x2ed121(0x25b)][_0x2ed121(0x23e)]['length']+'\x20platforms'),logger[_0x2ed121(0x277)](_0x5c0c20['mLOhE']);let _0x15c1d6;_0x5c0c20['ZrpDZ'](parallelTestRun,_0x13d00a,_0x356453,_0x1848d7)['then'](_0xfcb764=>{const _0x2382d0=_0x2ed121;PerformanceTester[_0x2382d0(0x204)](PerformanceEvents[_0x2382d0(0x285)]),_0x15c1d6=_0xfcb764,_0x5c0c20[_0x2382d0(0x221)](printStats,_0xfcb764,_0x153d65['reporter'],_0x153d65[_0x2382d0(0x214)]||_0x153d65[_0x5c0c20[_0x2382d0(0x263)]]);})[_0x2ed121(0x1ba)](async()=>{const _0x509296=_0x2ed121;PerformanceTester[_0x509296(0x204)](PerformanceEvents[_0x509296(0x285)]),_0x1848d7[_0x509296(0x272)]=helper[_0x509296(0x205)](_0x15c1d6,_0x5c0c20[_0x509296(0x1cf)]),await utilities[_0x509296(0x1a4)](_0x1848d7),testOpsHelper['printBuildLink']();});}}module[a32_0x174226(0x1ce)]=run;