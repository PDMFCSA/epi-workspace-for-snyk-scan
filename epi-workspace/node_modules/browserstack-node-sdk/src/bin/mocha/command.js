#!/usr/bin/env node
'use strict';const a33_0x31d8ce=a33_0xf188;(function(_0x429870,_0x39736e){const _0x5cbf64=a33_0xf188,_0x438938=_0x429870();while(!![]){try{const _0x55ea17=-parseInt(_0x5cbf64(0xfe))/0x1+parseInt(_0x5cbf64(0x152))/0x2+-parseInt(_0x5cbf64(0xf1))/0x3*(parseInt(_0x5cbf64(0xe5))/0x4)+parseInt(_0x5cbf64(0x1a8))/0x5*(-parseInt(_0x5cbf64(0x172))/0x6)+parseInt(_0x5cbf64(0x155))/0x7+-parseInt(_0x5cbf64(0x1cd))/0x8+parseInt(_0x5cbf64(0x146))/0x9;if(_0x55ea17===_0x39736e)break;else _0x438938['push'](_0x438938['shift']());}catch(_0x1b1fe4){_0x438938['push'](_0x438938['shift']());}}}(a33_0x23ef,0x97f4d));const chalk=require(a33_0x31d8ce(0xcb)),logger=require(a33_0x31d8ce(0x107))['winstonLogger'],helper=require(a33_0x31d8ce(0x1bc)),utilities=require(a33_0x31d8ce(0xe3)),testOpsHelper=require('../../helpers/test-observability/utils'),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a33_0x31d8ce(0x147)),{requireModule,nestedKeyValue}=require(a33_0x31d8ce(0x1bc)),{getPercyOptions}=require('../../helpers/percy/utils'),Base=requireModule(a33_0x31d8ce(0x187),a33_0x31d8ce(0x194)),collectFiles=requireModule(a33_0x31d8ce(0x14d),'mocha'),constants=require(a33_0x31d8ce(0x117)),PerformanceTester=require(a33_0x31d8ce(0x15d)),PerformanceEvents=require('../../helpers/performance/constants')[a33_0x31d8ce(0x167)],centralScannerConstants=require('../../helpers/central-scanner/constants'),{FRAMEWORKS}=require(a33_0x31d8ce(0x1d5)),TestHubHandler=require(a33_0x31d8ce(0xf5));function tag(_0x5dc504,_0x4f7155,_0x53049c,_0x2ba28a){const _0x434761=a33_0x31d8ce,_0x251104={'wKMpG':function(_0x4c5809,_0x187711){return _0x4c5809+_0x187711;},'rXQOG':function(_0x3b5a28,_0x27c52f){return _0x3b5a28+_0x27c52f;},'yHYJW':function(_0x487165,_0xfb89d6){return _0x487165(_0xfb89d6);},'euvFM':function(_0x2e61ff,_0x22806f){return _0x2e61ff+_0x22806f;},'iadNZ':function(_0x27dbdd,_0x4ae9b0){return _0x27dbdd+_0x4ae9b0;}},_0x1901a0=_0x53049c?'/>':'>',_0x29d541=[];let _0x43a134;for(const _0xda772c in _0x4f7155){Object[_0x434761(0x16a)]['hasOwnProperty']['call'](_0x4f7155,_0xda772c)&&_0x29d541[_0x434761(0x17e)](_0x251104['wKMpG'](_0x251104[_0x434761(0xe7)](_0x251104[_0x434761(0xe7)](_0xda772c,'=\x22'),_0x251104[_0x434761(0x116)](escape,_0x4f7155[_0xda772c])),'\x22'));}return _0x43a134=_0x251104[_0x434761(0x168)](_0x251104[_0x434761(0x168)](_0x251104['rXQOG']('<',_0x5dc504),_0x29d541[_0x434761(0x1b7)]?_0x251104[_0x434761(0xef)]('\x20',_0x29d541['join']('\x20')):''),_0x1901a0),_0x2ba28a&&(_0x43a134+=_0x251104[_0x434761(0x113)](_0x251104[_0x434761(0xef)](_0x251104[_0x434761(0xe7)](_0x2ba28a,'</'),_0x5dc504),_0x1901a0)),_0x43a134;}let xunitContent='';function xunitWrite(_0x650d19){xunitContent+=_0x650d19;}function xunitTest(_0xf9fce7,_0x6ba21){const _0x15dea7=a33_0x31d8ce,_0x28cf81={'rurYx':function(_0x53c96f,_0x3a4e15){return _0x53c96f/_0x3a4e15;},'XTvwN':function(_0x2c9909,_0x290b9d){return _0x2c9909===_0x290b9d;},'TFkJD':_0x15dea7(0x10c),'JGdJc':function(_0x52f95a,_0x14c229){return _0x52f95a+_0x14c229;},'zxaeX':function(_0x4a78d4,_0x284d77){return _0x4a78d4(_0x284d77);},'sMTrV':function(_0xbe7e96,_0x409ea4,_0x4c31c1,_0x14c525,_0x3f8ea9){return _0xbe7e96(_0x409ea4,_0x4c31c1,_0x14c525,_0x3f8ea9);},'JbiBA':_0x15dea7(0x1c4),'kkNiU':function(_0xa73573,_0x49c59a,_0x31d494,_0x4dacf4,_0xbf31db){return _0xa73573(_0x49c59a,_0x31d494,_0x4dacf4,_0xbf31db);},'vKosz':_0x15dea7(0x173),'LyOdm':function(_0x333da6,_0x5760af){return _0x333da6+_0x5760af;},'otyAh':function(_0x2cb480,_0x5523d1){return _0x2cb480+_0x5523d1;},'LXZdS':function(_0x3d9e3e,_0x15a4bd){return _0x3d9e3e(_0x15a4bd);},'QzdrP':function(_0x36ca4c,_0x24462b){return _0x36ca4c(_0x24462b);},'OdHpe':function(_0x5a4db4,_0x12454d){return _0x5a4db4(_0x12454d);},'omZDc':function(_0x5bb363,_0x2ebd28,_0x5e0a52,_0x299824,_0x2e560f){return _0x5bb363(_0x2ebd28,_0x5e0a52,_0x299824,_0x2e560f);},'jTLEi':function(_0x41cd7f,_0x3f00fc,_0x29346e,_0x576ea8){return _0x41cd7f(_0x3f00fc,_0x29346e,_0x576ea8);},'GkHYW':'skipped','ILoKZ':function(_0x51cc2e,_0x30a43f,_0x4c315b,_0x31a637){return _0x51cc2e(_0x30a43f,_0x4c315b,_0x31a637);}};Base[_0x15dea7(0x1d3)]=![];var _0x42dcdf={'classname':_0xf9fce7[_0x15dea7(0x1b3)],'name':_0xf9fce7['title'],'time':_0x28cf81[_0x15dea7(0x112)](_0xf9fce7['duration'],0x3e8)||0x0,'platform':_0x6ba21};if(_0x28cf81['XTvwN'](_0xf9fce7[_0x15dea7(0x1bb)],_0x28cf81[_0x15dea7(0x198)])){var _0xeb0b2=_0xf9fce7[_0x15dea7(0x191)],_0x338cd4=!Base[_0x15dea7(0xd5)]&&Base[_0x15dea7(0x101)](_0xeb0b2)?_0x28cf81['JGdJc']('\x0a',Base[_0x15dea7(0x174)](_0xeb0b2[_0x15dea7(0xfb)],_0xeb0b2['expected'])):'';_0x28cf81[_0x15dea7(0x18a)](xunitWrite,_0x28cf81[_0x15dea7(0x131)](tag,_0x28cf81['JbiBA'],_0x42dcdf,![],_0x28cf81[_0x15dea7(0x13a)](tag,_0x28cf81['vKosz'],{},![],_0x28cf81[_0x15dea7(0x1ac)](_0x28cf81[_0x15dea7(0x175)](_0x28cf81[_0x15dea7(0x1ac)](_0x28cf81['zxaeX'](escape,_0xeb0b2['message']),_0x28cf81[_0x15dea7(0x1aa)](escape,_0x338cd4)),'\x0a'),_0x28cf81[_0x15dea7(0x14e)](escape,_0xeb0b2[_0x15dea7(0x1cc)])))));}else _0xf9fce7[_0x15dea7(0x108)]?_0x28cf81[_0x15dea7(0xf3)](xunitWrite,_0x28cf81[_0x15dea7(0x161)](tag,_0x28cf81[_0x15dea7(0x111)],_0x42dcdf,![],_0x28cf81[_0x15dea7(0x1d9)](tag,_0x28cf81[_0x15dea7(0xce)],{},!![]))):_0x28cf81[_0x15dea7(0x1aa)](xunitWrite,_0x28cf81[_0x15dea7(0x12b)](tag,_0x28cf81['JbiBA'],_0x42dcdf,!![]));};function getStats(_0x986eeb){const _0x25d120=a33_0x31d8ce,_0x5568b3={};_0x5568b3[_0x25d120(0x11d)]='suite',_0x5568b3[_0x25d120(0x16b)]=_0x25d120(0x18d),_0x5568b3[_0x25d120(0x1a3)]=_0x25d120(0x10c),_0x5568b3['QTzyR']=_0x25d120(0x192);const _0x457c3e=_0x5568b3,_0x54e23d=Object[_0x25d120(0x115)](_0x986eeb);let _0x553674=0x0,_0x4bd28a=0x0,_0x4cdb7e=0x0,_0x4f4194=0x0;const _0x16f4e5=new Set();_0x54e23d[_0x25d120(0x1d2)](_0x5f4729=>{const _0x486070=_0x25d120,_0x3c8225={};_0x3c8225[_0x486070(0xf0)]=_0x457c3e['cfKMG'],_0x3c8225[_0x486070(0x164)]=_0x457c3e[_0x486070(0x16b)],_0x3c8225['wpmeI']=_0x457c3e['IkNiO'];const _0xc0ead4=_0x3c8225;_0x986eeb[_0x5f4729][_0x457c3e[_0x486070(0xf9)]][_0x486070(0x1d2)](_0x57e8b0=>{const _0x2ab085=_0x486070;_0x16f4e5[_0x2ab085(0x1d1)](_0x57e8b0[_0xc0ead4[_0x2ab085(0xf0)]]),_0x553674++;switch(_0x57e8b0[_0x2ab085(0x1bb)]){case _0xc0ead4[_0x2ab085(0x164)]:_0x4cdb7e++;break;case _0xc0ead4[_0x2ab085(0x19e)]:_0x4bd28a++;break;default:_0x4f4194++;}});});const _0x1f28ac={};return _0x1f28ac['testSuites']=_0x16f4e5[_0x25d120(0x128)],_0x1f28ac['platforms']=_0x54e23d,_0x1f28ac[_0x25d120(0x181)]=_0x553674,_0x1f28ac['testsFailed']=_0x4bd28a,_0x1f28ac[_0x25d120(0x188)]=_0x4cdb7e,_0x1f28ac[_0x25d120(0xcf)]=_0x4f4194,_0x1f28ac;}function errorJSON(_0x214c21){var _0x47122f={};return Object['getOwnPropertyNames'](_0x214c21)['forEach'](function(_0x17d70b){_0x47122f[_0x17d70b]=_0x214c21[_0x17d70b];},_0x214c21),_0x47122f;}function cleanCycles(_0x111054){const _0x491e67=a33_0x31d8ce,_0x339812={};_0x339812['TEFAU']=function(_0x4d5798,_0x46a812){return _0x4d5798===_0x46a812;},_0x339812['DIzrx']=_0x491e67(0x197),_0x339812[_0x491e67(0xfa)]=function(_0x4f7935,_0x1c599c){return _0x4f7935!==_0x1c599c;},_0x339812[_0x491e67(0x189)]=function(_0x377a0d,_0x3dc2d5){return _0x377a0d!==_0x3dc2d5;},_0x339812[_0x491e67(0xe0)]=function(_0x4f0628,_0x293f2c){return _0x4f0628+_0x293f2c;};const _0x559dd3=_0x339812;var _0x31c2f8=[];return JSON[_0x491e67(0x1d4)](JSON[_0x491e67(0x109)](_0x111054,function(_0x1e5125,_0x6a0037){const _0x1fdeac=_0x491e67;if(_0x559dd3[_0x1fdeac(0x114)](typeof _0x6a0037,_0x559dd3[_0x1fdeac(0x12e)])&&_0x559dd3[_0x1fdeac(0xfa)](_0x6a0037,null)){if(_0x559dd3[_0x1fdeac(0x189)](_0x31c2f8[_0x1fdeac(0x1c0)](_0x6a0037),-0x1))return _0x559dd3['TVRoa']('',_0x6a0037);_0x31c2f8[_0x1fdeac(0x17e)](_0x6a0037);}return _0x6a0037;}));}function clean(_0x181920){const _0x3851c7=a33_0x31d8ce,_0x82793={'XqmMP':function(_0x329115,_0x569a29){return _0x329115 instanceof _0x569a29;},'OxOwp':function(_0x4918f3,_0x454ae7){return _0x4918f3(_0x454ae7);},'WhiJS':function(_0x54b3fb,_0x590487){return _0x54b3fb(_0x590487);}};var _0x442d3a=_0x181920[_0x3851c7(0x191)]||{};return _0x82793['XqmMP'](_0x442d3a,Error)&&(_0x442d3a=_0x82793['OxOwp'](errorJSON,_0x442d3a)),{'title':_0x181920['title'],'fullTitle':_0x181920[_0x3851c7(0x1b3)],'file':_0x181920[_0x3851c7(0x1d7)],'duration':_0x181920[_0x3851c7(0x193)],'currentRetry':_0x181920[_0x3851c7(0x158)],'speed':_0x181920[_0x3851c7(0x19d)],'err':_0x82793[_0x3851c7(0x163)](cleanCycles,_0x442d3a)};}function a33_0xf188(_0x6561f,_0x49eccc){const _0x23efb2=a33_0x23ef();return a33_0xf188=function(_0xf188d7,_0x50f897){_0xf188d7=_0xf188d7-0xcb;let _0x1eb41b=_0x23efb2[_0xf188d7];return _0x1eb41b;},a33_0xf188(_0x6561f,_0x49eccc);}function printStats(_0x4aab59,_0x3f9743=a33_0x31d8ce(0x16e),_0x5314e5={}){const _0x373352=a33_0x31d8ce,_0x200483={'ePxcS':function(_0x54782b,_0xa1a8f6){return _0x54782b(_0xa1a8f6);},'uFDLT':function(_0x111933,_0x1dab8a){return _0x111933===_0x1dab8a;},'DWsrb':'passed','dINhx':_0x373352(0x127),'jmhaD':_0x373352(0x10c),'QIyjU':'failures','hGbjg':_0x373352(0x1c5),'BoibV':'results','jLUWh':function(_0x59046b,_0x332a24){return _0x59046b*_0x332a24;},'sfRXw':function(_0x2b4fdc,_0x505883,_0xa9a22){return _0x2b4fdc(_0x505883,_0xa9a22);},'xTpeq':function(_0x59aec8,_0x1b9943){return _0x59aec8>_0x1b9943;},'uDbRu':function(_0x354d05){return _0x354d05();},'zKNNR':_0x373352(0x120),'hrCrJ':_0x373352(0x1cb),'MIwfa':_0x373352(0x178),'XDzZu':function(_0x21cb92,_0x565aee){return _0x21cb92+_0x565aee;},'wtpTd':_0x373352(0x17a),'ppTJa':_0x373352(0x169),'AcoYq':function(_0x971240,_0x3267b4){return _0x971240+_0x3267b4;},'YuWLZ':function(_0x5e35d3,_0x396489){return _0x5e35d3+_0x396489;},'iAZTI':function(_0x21ffa0,_0x564e3c){return _0x21ffa0+_0x564e3c;},'niccn':'Tests:\x20\x20\x20\x20\x20\x20\x20','uIHMa':function(_0x2c9a88,_0x4e241b){return _0x2c9a88+_0x4e241b;},'UGLkB':function(_0x586696,_0x2d959a){return _0x586696+_0x2d959a;},'gVGAQ':function(_0x46e484,_0x34497c){return _0x46e484+_0x34497c;},'SeDys':_0x373352(0xda),'oYwkm':'json','brUqj':_0x373352(0x180),'ZgpBa':_0x373352(0x1ae),'eoutL':'No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','tdsqR':function(_0x422d1c,_0x325b4b){return _0x422d1c===_0x325b4b;},'zVIOz':_0x373352(0xde),'kWLkh':_0x373352(0x145),'zmppl':function(_0x632224,_0x17a9d3){return _0x632224||_0x17a9d3;},'SrztD':function(_0x4a3bda,_0x2fa154,_0x512253,_0x1f4ced){return _0x4a3bda(_0x2fa154,_0x512253,_0x1f4ced);},'IdbNO':'testsuite','vGjRO':function(_0x4c4a07,_0x4ec1be){return _0x4c4a07-_0x4ec1be;},'HnVRs':function(_0x5a9cbd,_0x1540e9){return _0x5a9cbd/_0x1540e9;},'GBiFZ':function(_0x2a82f6,_0x4928cf){return _0x2a82f6(_0x4928cf);},'KnJcK':_0x373352(0x148),'BMzym':_0x373352(0x10f),'uFguj':_0x373352(0x1ab),'IXGNX':_0x373352(0x1d8),'ZQScl':_0x373352(0x1c9),'gMqzT':_0x373352(0x171)};if(_0x200483['uFDLT'](_0x3f9743,_0x200483[_0x373352(0x13e)]))return;const _0x2817f5=0x0,_0x45aa35=()=>{const _0x1ae1ad=_0x373352;return _0x200483[_0x1ae1ad(0x1a2)](Array,_0x2817f5)[_0x1ae1ad(0x121)]('\x20\x20');},{testSuites:_0x5a8425,platforms:_0x5232ee,totalTests:_0x4951b5,testsFailed:_0x2ec0e6,testsPassed:_0x484f1d,testsPending:_0x2988a2}=_0x200483[_0x373352(0x1a2)](getStats,_0x4aab59);_0x200483[_0x373352(0x1ce)](_0x2ec0e6,0x0)&&(logger[_0x373352(0x182)](_0x200483[_0x373352(0x136)]),process[_0x373352(0xd1)]=Math[_0x373352(0x106)](_0x2ec0e6,0xff));logger['debug'](_0x200483[_0x373352(0x144)]);const _0x6d2934=''+_0x200483[_0x373352(0xf4)](chalk[_0x373352(0xdd)](_0x200483[_0x373352(0xee)]),_0x5232ee[_0x373352(0x1b7)]),_0x561a9b=''+_0x200483[_0x373352(0xf4)](chalk[_0x373352(0xdd)](_0x200483['ppTJa']),_0x5a8425),_0x37f8d8=''+_0x200483[_0x373352(0x10a)](_0x200483[_0x373352(0x15e)](_0x200483[_0x373352(0x16d)](chalk[_0x373352(0xdd)](_0x200483[_0x373352(0x1cf)]),_0x200483[_0x373352(0x1ce)](_0x2ec0e6,0x0)?chalk[_0x373352(0xdd)][_0x373352(0x199)](_0x2ec0e6+'\x20failed')+',\x20':''),_0x200483['xTpeq'](_0x2988a2,0x0)?chalk[_0x373352(0xdd)][_0x373352(0x176)](_0x2988a2+_0x373352(0xe2))+',\x20':''),_0x200483[_0x373352(0x1ce)](_0x484f1d,0x0)?chalk[_0x373352(0xdd)][_0x373352(0xcc)](_0x484f1d+_0x373352(0x105))+',\x20':'')+_0x4951b5+_0x373352(0x190);console[_0x373352(0xff)](_0x200483[_0x373352(0xe8)](_0x200483['UGLkB'](_0x200483[_0x373352(0xe8)](_0x200483[_0x373352(0xf8)](_0x200483['YuWLZ'](_0x200483[_0x373352(0x125)],_0x6d2934),'\x0a'),_0x561a9b),'\x0a'),_0x37f8d8));if(_0x200483[_0x373352(0xd4)](_0x3f9743,_0x200483[_0x373352(0x11c)])){const _0x1a10ff={},_0x56d999={};_0x56d999[_0x373352(0x122)]=_0x5a8425,_0x56d999[_0x373352(0x1d6)]=_0x5232ee,_0x56d999[_0x373352(0x184)]=_0x2ec0e6,_0x56d999[_0x373352(0x188)]=_0x484f1d,_0x56d999[_0x373352(0xcf)]=_0x2988a2,_0x1a10ff[_0x373352(0x110)]=_0x56d999,_0x5232ee[_0x373352(0x1d2)](_0x3dc3a1=>{const _0x408de5=_0x373352,_0x2c0b05={'rHqpl':function(_0x14741b,_0x112a84){const _0x37d317=a33_0xf188;return _0x200483[_0x37d317(0xd4)](_0x14741b,_0x112a84);},'FQULG':_0x200483['DWsrb'],'wGDai':_0x200483[_0x408de5(0x15c)],'OjUJR':function(_0x46cb47,_0x4cbaef){const _0x560b1c=_0x408de5;return _0x200483[_0x560b1c(0x1a2)](_0x46cb47,_0x4cbaef);},'xrsvz':function(_0x5b30b6,_0x3fd1a3){const _0x2033d2=_0x408de5;return _0x200483[_0x2033d2(0xd4)](_0x5b30b6,_0x3fd1a3);},'HGgRb':_0x200483[_0x408de5(0x1a4)],'fiTsH':_0x200483[_0x408de5(0x104)],'rFsbK':function(_0x44dbb7,_0x1863f9){const _0x2570bc=_0x408de5;return _0x200483[_0x2570bc(0x1a2)](_0x44dbb7,_0x1863f9);},'BhCeG':_0x200483['hGbjg']};_0x1a10ff[_0x3dc3a1]={'pending':[],'failures':[],'passes':[],'tests':_0x4aab59[_0x3dc3a1][_0x200483['BoibV']]['map'](clean)},_0x4aab59[_0x3dc3a1][_0x200483['BoibV']][_0x408de5(0x1d2)](_0x2d9867=>{const _0x543276=_0x408de5;if(_0x2c0b05[_0x543276(0x14b)](_0x2d9867['state'],_0x2c0b05[_0x543276(0xec)]))_0x1a10ff[_0x3dc3a1][_0x2c0b05[_0x543276(0x150)]][_0x543276(0x17e)](_0x2c0b05[_0x543276(0x19b)](clean,_0x2d9867));else _0x2c0b05[_0x543276(0xe9)](_0x2d9867['state'],_0x2c0b05[_0x543276(0x12f)])?_0x1a10ff[_0x3dc3a1][_0x2c0b05[_0x543276(0xd0)]][_0x543276(0x17e)](_0x2c0b05[_0x543276(0x151)](clean,_0x2d9867)):_0x1a10ff[_0x3dc3a1][_0x2c0b05[_0x543276(0x1be)]][_0x543276(0x17e)](_0x2c0b05['OjUJR'](clean,_0x2d9867));});});if(_0x5314e5['output'])try{logger['debug'](_0x200483[_0x373352(0x18b)],_0x5314e5['output']),fs[_0x373352(0x1ad)](_0x5314e5[_0x373352(0x1c3)],JSON[_0x373352(0x109)](_0x1a10ff,null,0x3));}catch(_0x219201){logger[_0x373352(0xea)](_0x200483['ZgpBa'],_0x5314e5[_0x373352(0x1c3)]),logger['debug'](_0x219201);}else logger[_0x373352(0x182)](_0x200483[_0x373352(0x1c6)]),console[_0x373352(0xff)](JSON[_0x373352(0x109)](_0x1a10ff,null,0x3));}else{if(_0x200483['tdsqR'](_0x3f9743,_0x200483[_0x373352(0x123)])){let _0x288086;const _0x55d7b5=_0x200483[_0x373352(0x1a9)];_0x5314e5&&(_0x288086=_0x5314e5['suiteName']);_0x288086=_0x200483[_0x373352(0x133)](_0x288086,_0x55d7b5);let _0x215142=0x0,_0x3254d6=0x0,_0x1554fe=0x0,_0x2d86d0=0x0;_0x5232ee['forEach'](_0x48846e=>{const _0xef3be2=_0x373352,_0x15b958={'soPBR':function(_0x5ab0f5,_0x2c4e91){const _0x19b2c7=a33_0xf188;return _0x200483[_0x19b2c7(0xd4)](_0x5ab0f5,_0x2c4e91);},'jAdrw':_0x200483[_0xef3be2(0xdb)],'UCdyy':_0x200483[_0xef3be2(0x1a4)],'rfsHc':function(_0x137bf,_0x3ddab1){return _0x200483['jLUWh'](_0x137bf,_0x3ddab1);}};_0x4aab59[_0x48846e][_0x200483[_0xef3be2(0xf7)]][_0xef3be2(0x1d2)](_0x58f7bf=>{const _0x59d92d=_0xef3be2;if(_0x15b958[_0x59d92d(0xf6)](_0x58f7bf[_0x59d92d(0x1bb)],_0x15b958[_0x59d92d(0x118)]))_0x215142++;else _0x15b958['soPBR'](_0x58f7bf[_0x59d92d(0x1bb)],_0x15b958[_0x59d92d(0x159)])&&_0x3254d6++;_0x1554fe++,_0x2d86d0+=_0x15b958[_0x59d92d(0x13b)](_0x58f7bf[_0x59d92d(0x193)],0x1);});}),_0x200483[_0x373352(0x1a2)](xunitWrite,_0x200483['SrztD'](tag,_0x200483[_0x373352(0x1ba)],{'name':_0x288086,'tests':_0x1554fe,'failures':0x0,'errors':_0x3254d6,'skipped':_0x200483[_0x373352(0x183)](_0x200483[_0x373352(0x183)](_0x1554fe,_0x3254d6),_0x215142),'timestamp':new Date()[_0x373352(0x126)](),'time':_0x200483['HnVRs'](_0x2d86d0,0x3e8)||0x0},![])),_0x5232ee[_0x373352(0x1d2)](_0x500771=>{const _0x1b6b3b=_0x373352;_0x4aab59[_0x500771][_0x200483['BoibV']][_0x1b6b3b(0x1d2)](_0x5cf53e=>{const _0x16845a=_0x1b6b3b;_0x200483[_0x16845a(0x10e)](xunitTest,_0x5cf53e,_0x500771);});}),_0x200483[_0x373352(0x1c7)](xunitWrite,_0x200483['KnJcK']);if(_0x5314e5['output'])try{logger[_0x373352(0x182)](_0x200483['BMzym'],_0x5314e5[_0x373352(0x1c3)]),fs[_0x373352(0x1ad)](_0x5314e5['output'],xunitContent);}catch(_0x66c7b8){logger[_0x373352(0xea)](_0x200483[_0x373352(0xfc)],_0x5314e5[_0x373352(0x1c3)]),logger[_0x373352(0x182)](_0x66c7b8);}else logger[_0x373352(0x182)](_0x200483[_0x373352(0x139)]),console[_0x373352(0xff)](xunitContent);}else{if(_0x200483[_0x373352(0xd4)](_0x2ec0e6,0x0))return;console[_0x373352(0xff)](),logger[_0x373352(0x182)](_0x200483['ZQScl']),console['log'](chalk[_0x373352(0xdd)]['bgRedBright'](_0x200483[_0x373352(0x1b6)])),_0x5232ee[_0x373352(0x1d2)](_0x5cc12f=>{const _0x3a024d=_0x373352,_0x3d07f3={'FuGLe':function(_0x5cbc85,_0x1441c9){const _0x34595a=a33_0xf188;return _0x200483[_0x34595a(0xd4)](_0x5cbc85,_0x1441c9);},'pgKNz':_0x200483[_0x3a024d(0x1a4)]},_0x160236=[];_0x4aab59[_0x5cc12f][_0x200483[_0x3a024d(0xf7)]][_0x3a024d(0x1d2)](_0x43223a=>{const _0x278a45=_0x3a024d;_0x3d07f3[_0x278a45(0x10b)](_0x43223a[_0x278a45(0x1bb)],_0x3d07f3[_0x278a45(0x100)])&&(_0x43223a[_0x278a45(0x1c1)]=()=>_0x43223a[_0x278a45(0x165)],_0x160236[_0x278a45(0x17e)](_0x43223a));}),_0x200483[_0x3a024d(0x1ce)](_0x160236[_0x3a024d(0x1b7)],0x0)&&(Base['consoleLog'](),Base[_0x3a024d(0x135)](_0x200483[_0x3a024d(0x16f)](_0x45aa35),chalk['bold'][_0x3a024d(0x17c)](_0x5cc12f)),Base[_0x3a024d(0xd9)](_0x160236));});}}}async function run(_0x1fe24c,_0x79a2db,_0x19448d){const _0x240338=a33_0x31d8ce,_0x4d5598={'PhOGx':function(_0x48b79c,_0x5c75e5,_0x48da90,_0x29684c){return _0x48b79c(_0x5c75e5,_0x48da90,_0x29684c);},'NqYoo':'reporter-option','eVSRO':_0x240338(0x1b9),'nkaLM':_0x240338(0x18f),'zJCQa':_0x240338(0x194),'NNxYT':function(_0x20f1bb,_0x25b2f5){return _0x20f1bb!=_0x25b2f5;},'UyvKm':_0x240338(0xeb),'CjYEd':_0x240338(0x160),'OIZAM':'test','vqMLG':'rerunTests','BOBeC':function(_0x2f72e4,_0x25165f){return _0x2f72e4(_0x25165f);},'CfKgM':function(_0x1d7438,_0x3ca203,_0x3f8607){return _0x1d7438(_0x3ca203,_0x3f8607);},'OmRIM':_0x240338(0x162),'mEHXt':function(_0x278f23,_0x3c9e3e){return _0x278f23!=_0x3c9e3e;},'vFqbq':_0x240338(0x130),'xALpU':_0x240338(0xcd),'bnpdP':_0x240338(0x19f),'OctRW':_0x240338(0x12d),'IqPzy':_0x240338(0xdf),'GLVrU':function(_0x4437f2,_0x515d31){return _0x4437f2*_0x515d31;},'diSIG':function(_0x5706e0,_0x264f1){return _0x5706e0(_0x264f1);},'zHnwa':function(_0xfebf5b,_0x17fea6){return _0xfebf5b!==_0x17fea6;}};helper[_0x240338(0x14a)](_0x19448d[_0x240338(0x149)],_0x1fe24c),await _0x19448d[_0x240338(0xd8)](_0x1fe24c);helper['isBrowserstackInfra']()?await helper[_0x240338(0x1ca)](_0x19448d[_0x240338(0x15f)]):await _0x19448d[_0x240338(0x14c)]();const _0x277d76=[];let _0x14f13e=[];if(!_0x19448d[_0x240338(0x15f)])return;!helper[_0x240338(0x15a)](_0x19448d['config'][_0x240338(0x137)])&&(process['env'][_0x240338(0x13c)]=JSON[_0x240338(0x109)](_0x19448d[_0x240338(0x15f)][_0x240338(0x137)]));const _0x4cbdb7=await TestHubHandler[_0x240338(0x1da)](FRAMEWORKS[_0x240338(0x166)],_0x19448d);_0x4d5598[_0x240338(0x19a)](_0x19448d[_0x240338(0x15f)][_0x240338(0x1a7)],null)&&(process[_0x240338(0xd2)][_0x240338(0x156)]=_0x19448d['config']['testObservability']);!helper[_0x240338(0x15a)](_0x19448d[_0x240338(0x15f)][_0x240338(0x177)])&&(process[_0x240338(0xd2)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x19448d['config']['accessibility']);const {extension:extension=['js',_0x4d5598[_0x240338(0x143)],_0x4d5598['CjYEd']],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x4d5598[_0x240338(0x11f)]]}=_0x1fe24c,_0x28c8f6={..._0x1fe24c};_0x28c8f6[_0x240338(0x18e)]=null;const _0x565744=_0x28c8f6;let _0x36fb26;if(testOpsHelper[_0x240338(0xfd)]()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0x832a6b=process[_0x240338(0xd2)][_0x240338(0x10d)];!helper[_0x240338(0x15a)](_0x19448d[_0x240338(0x157)])&&_0x19448d[_0x240338(0x157)][_0x240338(0x196)](_0x4d5598[_0x240338(0x19c)])&&(_0x832a6b=_0x19448d[_0x240338(0x157)][_0x240338(0x138)](_0x4d5598['vqMLG'])),_0x36fb26=testOpsHelper[_0x240338(0x129)](_0x832a6b);}if(helper['isUndefined'](_0x36fb26)){const _0x41e7ca={};_0x41e7ca[_0x240338(0x1b5)]=ignore,_0x41e7ca['extension']=extension,_0x41e7ca[_0x240338(0x1d7)]=file,_0x41e7ca[_0x240338(0x170)]=recursive,_0x41e7ca[_0x240338(0x12a)]=sort,_0x41e7ca[_0x240338(0x16e)]=spec,_0x36fb26=_0x4d5598['BOBeC'](collectFiles,_0x41e7ca),_0x4d5598[_0x240338(0xdc)](nestedKeyValue,_0x36fb26,[_0x4d5598['OmRIM']])&&(_0x36fb26=_0x36fb26[_0x240338(0x162)]);}const _0x3066d4=helper['parseTestOrchestrationOptions'](_0x19448d[_0x240338(0x15f)]);!helper[_0x240338(0x1d0)](_0x3066d4)&&helper[_0x240338(0x103)](_0x3066d4['retryTestsOnFailure'])&&(_0x565744[_0x240338(0x102)]=_0x3066d4['retryTestsOnFailure'][_0x240338(0x16c)]);if(!helper[_0x240338(0x1b0)]()){const _0x18e4cb=0x1,_0x5e1c2e={..._0x565744};_0x5e1c2e['spec']=[..._0x36fb26],_0x277d76[_0x240338(0x17e)]({'mochaOpts':_0x5e1c2e,'configuration':{'platform':os[_0x240338(0x1a6)]()}});if(_0x19448d[_0x240338(0x15f)][_0x240338(0x177)]){const _0x1a7c1d={};_0x1a7c1d[_0x240338(0x177)]=!![];const _0x38e9ce=_0x1a7c1d;_0x4d5598[_0x240338(0x11a)](_0x19448d[_0x240338(0x15f)][_0x240338(0x137)],null)&&(_0x38e9ce[_0x240338(0x137)]=_0x19448d[_0x240338(0x15f)][_0x240338(0x137)],delete _0x38e9ce[_0x240338(0x137)][_0x4d5598[_0x240338(0x179)]],delete _0x38e9ce[_0x240338(0x137)][_0x4d5598[_0x240338(0xe6)]],delete _0x38e9ce[_0x240338(0x137)][_0x4d5598[_0x240338(0x13f)]]);const _0x20fd37={};_0x20fd37['bstack:options']=_0x38e9ce,_0x277d76[0x0]['configuration'][_0x240338(0x1af)]=_0x20fd37;}logger[_0x240338(0x195)](_0x4d5598[_0x240338(0x15b)]),logger['info'](_0x4d5598[_0x240338(0x140)]),_0x4d5598['PhOGx'](parallelTestRun,_0x277d76,_0x18e4cb,_0x19448d)['then'](_0x559979=>{const _0x4a3890=_0x240338;PerformanceTester[_0x4a3890(0x14f)](PerformanceEvents['SDK_CLEANUP']),_0x4d5598['PhOGx'](printStats,_0x559979,_0x1fe24c[_0x4a3890(0x1bd)],_0x1fe24c[_0x4a3890(0x1b2)]||_0x1fe24c[_0x4d5598[_0x4a3890(0x1c8)]]);})[_0x240338(0xf2)](()=>{const _0x5ddf30=_0x240338;PerformanceTester[_0x5ddf30(0x14f)](PerformanceEvents[_0x5ddf30(0x1b8)]);try{const {browserstackFolderPath:_0x16ee9c,tcgConfigPath:_0x374fed}=helper[_0x5ddf30(0x17d)]();fs[_0x5ddf30(0x17b)](_0x374fed),fs[_0x5ddf30(0xe1)](_0x16ee9c);}catch(_0x22f7cb){logger[_0x5ddf30(0x182)](_0x4d5598[_0x5ddf30(0x1db)],_0x22f7cb);}try{utilities[_0x5ddf30(0xed)](_0x4d5598[_0x5ddf30(0x11e)],{},_0x19448d[_0x5ddf30(0x15f)],_0x19448d['framework']);}catch(_0x33b3aa){logger[_0x5ddf30(0x182)]('Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20'+_0x33b3aa[_0x5ddf30(0x1cc)]);}try{helper[_0x5ddf30(0x1a1)]();}catch(_0x456a38){logger[_0x5ddf30(0x182)](_0x5ddf30(0x134)+_0x456a38);}testOpsHelper[_0x5ddf30(0x1b4)]();});}else{const _0x31bc10=helper[_0x240338(0x1a0)](_0x19448d['config']);let _0x39aca3=helper[_0x240338(0x11b)](_0x19448d[_0x240338(0x15f)]);_0x14f13e=helper[_0x240338(0xd6)](_0x19448d[_0x240338(0x15f)],_0x31bc10,constants[_0x240338(0x1b1)][_0x240338(0x166)]);helper[_0x240338(0x185)]()['central_scanner']&&(_0x39aca3=centralScannerConstants[_0x240338(0x1c2)]);let _0xdc3920;const _0x2d7ebf=_0x19448d[_0x240338(0x15f)][_0x240338(0x186)]||helper[_0x240338(0x1bf)](_0x1fe24c,_0x79a2db,_0x19448d[_0x240338(0x15f)],constants[_0x240338(0x1b1)][_0x240338(0x166)])||0x1;helper[_0x240338(0x132)](_0x19448d[_0x240338(0x15f)])?_0xdc3920=_0x4d5598[_0x240338(0x141)](_0x19448d[_0x240338(0x15f)][_0x240338(0x1d6)][_0x240338(0x1b7)],_0x2d7ebf):_0xdc3920=_0x2d7ebf;const _0x4aab9e=_0x4d5598[_0x240338(0x124)](getPercyOptions,_0x19448d['config']);if(_0x4d5598[_0x240338(0xe4)](_0x19448d[_0x240338(0x15f)][_0x240338(0x186)],0x1))_0x36fb26['forEach'](_0x108fc2=>{const _0x4465f2=_0x240338,_0x459a44=[];_0x14f13e['forEach']((_0x453c24,_0x77ce74)=>{const _0xd5d8e5=a33_0xf188,_0x366bb4={};_0x366bb4['spec']=[_0x108fc2],_0x459a44[_0xd5d8e5(0x17e)]({'mochaOpts':Object[_0xd5d8e5(0xd7)]({},_0x565744,_0x366bb4),'configuration':{'server':_0x39aca3,'capability':_0x453c24,'proxySettings':_0x19448d[_0xd5d8e5(0x15f)][_0xd5d8e5(0x153)],'platform':helper[_0xd5d8e5(0x142)](_0x453c24),'browserStackLogLevel':_0x19448d[_0xd5d8e5(0x15f)]['logLevel'],'platformIndex':_0x77ce74,'browserStackPercyOptions':_0x4aab9e,'platformCaps':Object[_0xd5d8e5(0xd7)]({'index':_0x77ce74},_0x19448d['config'][_0xd5d8e5(0x1d6)][_0x77ce74])}});}),_0x277d76[_0x4465f2(0x17e)](..._0x459a44);});else{const _0x5138de=[];_0x14f13e[_0x240338(0x1d2)]((_0x7e6f6,_0x383bbb)=>{const _0x3d06c1=_0x240338;let _0x4df35c=Object[_0x3d06c1(0xd7)]({},_0x565744);testOpsHelper[_0x3d06c1(0xfd)]()&&testOpsHelper[_0x3d06c1(0x13d)]()&&(_0x4df35c={..._0x4df35c,'spec':[..._0x36fb26]}),_0x5138de[_0x3d06c1(0x17e)]({'mochaOpts':_0x4df35c,'configuration':{'server':_0x39aca3,'capability':_0x7e6f6,'proxySettings':_0x19448d[_0x3d06c1(0x15f)][_0x3d06c1(0x153)],'platform':helper[_0x3d06c1(0x142)](_0x7e6f6),'browserStackLogLevel':_0x19448d[_0x3d06c1(0x15f)]['logLevel'],'platformIndex':_0x383bbb,'browserStackPercyOptions':_0x4aab9e,'platformCaps':Object[_0x3d06c1(0xd7)]({'index':_0x383bbb},_0x19448d['config'][_0x3d06c1(0x1d6)][_0x383bbb])}});}),_0x277d76[_0x240338(0x17e)](..._0x5138de);}logger['info']('Running\x20your\x20mocha\x20tests\x20across\x20'+_0x19448d[_0x240338(0x15f)][_0x240338(0x1d6)][_0x240338(0x1b7)]+_0x240338(0x17f)),logger['info'](_0x4d5598[_0x240338(0x140)]);let _0x37bb74;_0x4d5598[_0x240338(0xd3)](parallelTestRun,_0x277d76,_0xdc3920,_0x19448d)[_0x240338(0x18c)](_0x30e0a6=>{const _0x15f831=_0x240338;PerformanceTester[_0x15f831(0x14f)](PerformanceEvents[_0x15f831(0x1b8)]),_0x37bb74=_0x30e0a6,_0x4d5598[_0x15f831(0xd3)](printStats,_0x30e0a6,_0x1fe24c[_0x15f831(0x1bd)],_0x1fe24c[_0x15f831(0x1b2)]||_0x1fe24c[_0x4d5598['NqYoo']]);})[_0x240338(0xf2)](async()=>{const _0x2bdb7f=_0x240338;PerformanceTester[_0x2bdb7f(0x14f)](PerformanceEvents[_0x2bdb7f(0x1b8)]),_0x19448d[_0x2bdb7f(0x154)]=helper['getErrorMessageFromResults'](_0x37bb74,_0x4d5598[_0x2bdb7f(0x1a5)]),await utilities[_0x2bdb7f(0x119)](_0x19448d),testOpsHelper[_0x2bdb7f(0x1b4)]();});}}module[a33_0x31d8ce(0x12c)]=run;function a33_0x23ef(){const _0x13b62c=['5879784rbsuex','xTpeq','niccn','isEmpty','add','forEach','useColors','parse','../../helpers/test-observability/constants','platforms','file','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','jTLEi','launchBuild','eVSRO','chalk','green','excludeTagsInTestingScope','GkHYW','testsPending','fiTsH','exitCode','env','PhOGx','uFDLT','hideDiff','prepareCapabilities','assign','initialize','list','\x0a\x0a\x0a','DWsrb','CfKgM','bold','xunit','Now,\x20showing\x20logs\x20from\x20mocha','TVRoa','rmdirSync','\x20skipped','../../helpers/utilities','zHnwa','28712LgFwxN','xALpU','rXQOG','uIHMa','xrsvz','error','cjs','FQULG','fireFunnelTestEvent','wtpTd','euvFM','AaPoT','342islCAy','finally','OdHpe','XDzZu','../../helpers/testhub/testhubHandler','soPBR','BoibV','gVGAQ','QTzyR','WuBgP','actual','uFguj','isTestObservabilitySession','60865oXNBlG','log','pgKNz','showDiff','retries','isNotUndefined','QIyjU','\x20passed','min','../../helpers/logger','isPending','stringify','AcoYq','FuGLe','failed','BROWSERSTACK_RERUN_TESTS','sfRXw','Writing\x20xunit\x20result\x20to\x20file','stats','JbiBA','rurYx','iadNZ','TEFAU','keys','yHYJW','../utils/constants','jAdrw','finalExecution','mEHXt','getHubUrl','oYwkm','cfKMG','nkaLM','OIZAM','doc','join','testSuites','zVIOz','diSIG','SeDys','toUTCString','passes','size','parseFileNames','sort','ILoKZ','exports','Running\x20your\x20mocha\x20tests','DIzrx','HGgRb','includeTagsInTestingScope','sMTrV','validPlatformsPresent','zmppl','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','consoleLog','hrCrJ','accessibilityOptions','get','IXGNX','kkNiU','rfsHc','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','shouldReRunObservabilityTests','zKNNR','bnpdP','IqPzy','GLVrU','getPlatformName','UyvKm','MIwfa','Mocha\x20Tests','15156432qpvDTu','../test-runner','</testsuite>','framework','setUserConfigPath','rHqpl','setupTCGAuth','mocha/lib/cli/collect-files.js','QzdrP','start','wGDai','rFsbK','833786JXbMbj','proxySettings','errorMessage','3716706THSsSb','BROWSERSTACK_TEST_OBSERVABILITY_YML','cliConfig','currentRetry','UCdyy','isUndefined','OctRW','dINhx','../../helpers/performance/performance-tester','YuWLZ','config','mjs','omZDc','files','WhiJS','iCQGU','titlePathV','MOCHA','EVENTS','wKMpG','Total\x20Suites:\x20','prototype','gIOcM','maxRetries','iAZTI','spec','uDbRu','recursive','****\x20FAILURES\x20****','312VnspfN','failure','generateDiff','otyAh','yellow','accessibility','Printing\x20stats\x20of\x20tests','vFqbq','Total\x20Platforms:\x20','unlinkSync','bgBlueBright','getTCGConfigFilePaths','push','\x20platforms','Writing\x20json\x20result\x20to\x20file','totalTests','debug','vGjRO','testsFailed','getCentralUser','parallelsPerPlatform','mocha/lib/reporters/base.js','testsPassed','NgrOG','zxaeX','brUqj','then','passed','rootHooks','SDKTestSuccessful','\x20total','err','results','duration','mocha','info','has','object','TFkJD','red','NNxYT','OjUJR','vqMLG','speed','wpmeI','includeEncodedExtension','useW3C','notifyUpdate','ePxcS','IkNiO','jmhaD','zJCQa','platform','testObservability','38015EoSRLi','kWLkh','LXZdS','Couldn\x27t\x20write\x20xunit\x20result\x20to','LyOdm','writeFileSync','Couldn\x27t\x20write\x20json\x20result\x20to','capability','isBrowserstackInfra','FRAMEWORKS','reporterOptions','fullTitle','printBuildLink','ignore','gMqzT','length','SDK_CLEANUP','error\x20removing\x20tcg\x20config\x20file','IdbNO','state','../../helpers/helper','reporter','BhCeG','getUserWorkerCount','indexOf','titlePath','BROWSERSTACK_GRR_US_HUB_URL','output','testcase','pending','eoutL','GBiFZ','NqYoo','Listing\x20all\x20the\x20failures','handleApp','Setting\x20non\x20exit\x20code\x20for\x20failures','stack'];a33_0x23ef=function(){return _0x13b62c;};return a33_0x23ef();}