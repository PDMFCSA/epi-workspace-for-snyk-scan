#!/usr/bin/env node
'use strict';const a33_0x2bf374=a33_0x57c2;function a33_0x2e8a(){const _0x146fad=['getHubUrl','1246350AzPHYJ','jwzkz','oWBql','mocha','BROWSERSTACK_RERUN_TESTS','fNrnl','rEQzc','mkVuZ','../../helpers/utilities','isTestObservabilitySession','has','testcase','reporter-option','kLlyk','reporter','TCAGu','TFebg','isUndefined','Running\x20your\x20mocha\x20tests','consoleLog','jenlX','wGfLL','336thqjUT','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','mocha/lib/cli/collect-files.js','../../helpers/central-scanner/constants','UNoJd','setUserConfigPath','jaKJS','parse','forEach','LDqQX','generateDiff','Wtxyi','toUTCString','unlinkSync','Couldn\x27t\x20write\x20xunit\x20result\x20to','NnvYi','prepareCapabilities','FRAMEWORKS','LWePN','Pfklj','currentRetry','bstack:options','suiteName','MOCHA','proxySettings','\x20failed','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','</testsuite>','rmdirSync','cliConfig','zOPQo','debug','test','MvojZ','getPlatformName','rdeTn','7780XcQWLf','Mraza','WOoUy','json','testsPassed','log','\x20passed','SYTCr','stats','sGeVa','Running\x20your\x20mocha\x20tests\x20across\x20','printBuildLink','fullTitle','expected','isBrowserstackInfra','BROWSERSTACK_TEST_OBSERVABILITY_YML','pending','testsuite','error\x20removing\x20tcg\x20config\x20file','titlePath','../utils/constants','duration','eQzdu','reporterOptions','kMvNB','rootHooks','yqfdo','IexhK','711jfMtjp','logLevel','kSmXF','ZNZBb','title','Writing\x20json\x20result\x20to\x20file','initialize','recursive','message','testsPending','KjVoZ','error','Printing\x20stats\x20of\x20tests','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','testObservability','config','oopzm','dfREi','IPHRU','UTSeq','sort','ZQbVh','YOOFo','HHbiW','actual','32186352QduKRP','platform','finally','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','xunit','spec','state','get','mMzBF','shouldReRunObservabilityTests','add','Writing\x20xunit\x20result\x20to\x20file','MRzzR','assign','pEchq','hPgbg','RPUfl','file','yellow','maxRetries','AunUD','bold','IBIUE','TkTaN','AHXQc','BROWSERSTACK_GRR_US_HUB_URL','lgaIF','notifyUpdate','voojb','ioBcl','parseFileNames','validPlatformsPresent','useColors','framework','bgRedBright','showDiff','isBvH','TEgeA','pySVy','getOwnPropertyNames','../../helpers/testhub/testhubHandler','VQKcT','finalExecution','HfIwr','BrmWN','doc','rerunTests','files','../../helpers/logger','Mocha\x20Tests','YctqJ','getErrorMessageFromResults','env','4400845siYpKV','length','cjs','getUserWorkerCount','EmOhj','11LPPgvk','configuration','kYeuP','start','eVboa','iXvmz','NPiwA','xgmNt','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','tGghi','red','prototype','passes','testsFailed','parallelsPerPlatform','mgVsF','35RtKpTt','Qwnsd','DeCLB','hjgVk','kmbtZ','hasOwnProperty','min','exitCode','setupTCGAuth','****\x20FAILURES\x20****','object','exports','accessibilityOptions','writeFileSync','VpQjq','YablO','suite','EVENTS','hMdny','Setting\x20non\x20exit\x20code\x20for\x20failures','info','ignore','output','ptOvN','titlePathV','excludeTagsInTestingScope','\x0a\x0a\x0a','wSZxq','hlZGG','zoiiF','map','UemSz','RBvJh','QNYmZ','stringify','gLhbE','YbWpw','ZYsiH','bgBlueBright','twQaD','269901nbeFAk','57121qCnocA','handleApp','2IdaMzm','../../helpers/helper','testSuites','indexOf','XLrut','accessibility','FPozC','SDK_CLEANUP','QLQfT','RGdij','wXXfJ','isPending','failed','parseTestOrchestrationOptions','NkvrT','bBrlM','../../helpers/performance/constants','HGMVI','GubiF','tBsqw','getTCGConfigFilePaths','Now,\x20showing\x20logs\x20from\x20mocha','xAgOK','fuvEc','stack','8617670xNfcRe','size','retries','getCentralUser','results','platforms','list','SDKTestSuccessful','\x20skipped','IOYII','includeTagsInTestingScope','retryTestsOnFailure','passed','CPrmP','phdVc','join','bPHUf','capability','push'];a33_0x2e8a=function(){return _0x146fad;};return a33_0x2e8a();}(function(_0x227b52,_0x169863){const _0x4e4578=a33_0x57c2,_0x4bde22=_0x227b52();while(!![]){try{const _0x2c7075=-parseInt(_0x4e4578(0x1a7))/0x1*(parseInt(_0x4e4578(0x1a9))/0x2)+-parseInt(_0x4e4578(0x11b))/0x3*(parseInt(_0x4e4578(0xff))/0x4)+parseInt(_0x4e4578(0x169))/0x5+-parseInt(_0x4e4578(0x1d6))/0x6*(-parseInt(_0x4e4578(0x17e))/0x7)+-parseInt(_0x4e4578(0x1ec))/0x8*(-parseInt(_0x4e4578(0x1a6))/0x9)+parseInt(_0x4e4578(0x1c2))/0xa*(parseInt(_0x4e4578(0x16e))/0xb)+-parseInt(_0x4e4578(0x134))/0xc;if(_0x2c7075===_0x169863)break;else _0x4bde22['push'](_0x4bde22['shift']());}catch(_0x5c162c){_0x4bde22['push'](_0x4bde22['shift']());}}}(a33_0x2e8a,0xcd089));const chalk=require('chalk'),logger=require(a33_0x2bf374(0x164))['winstonLogger'],helper=require(a33_0x2bf374(0x1aa)),utilities=require(a33_0x2bf374(0x1de)),testOpsHelper=require('../../helpers/test-observability/utils'),fs=require('fs'),os=require('os'),{parallelTestRun}=require('../test-runner'),{requireModule,nestedKeyValue}=require(a33_0x2bf374(0x1aa)),{getPercyOptions}=require('../../helpers/percy/utils'),Base=requireModule('mocha/lib/reporters/base.js',a33_0x2bf374(0x1d9)),collectFiles=requireModule(a33_0x2bf374(0xdd),'mocha'),constants=require(a33_0x2bf374(0x113)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a33_0x2bf374(0x1b9))[a33_0x2bf374(0x18f)],centralScannerConstants=require(a33_0x2bf374(0xde)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),TestHubHandler=require(a33_0x2bf374(0x15c));function tag(_0x560641,_0x46c1f8,_0xf00df9,_0x43ed46){const _0x36088f=a33_0x2bf374,_0x28fc69={'kYeuP':function(_0x535301,_0xcef3f1){return _0x535301+_0xcef3f1;},'dNSSO':function(_0x559afe,_0x22386b){return _0x559afe+_0x22386b;},'KjVoZ':function(_0x26f2df,_0x28048e){return _0x26f2df(_0x28048e);},'hPgbg':function(_0x1ef2ea,_0x1b812c){return _0x1ef2ea+_0x1b812c;},'twQaD':function(_0x381525,_0x3fa15){return _0x381525+_0x3fa15;}},_0xe05b70=_0xf00df9?'/>':'>',_0x263209=[];let _0x42ff06;for(const _0x55cd01 in _0x46c1f8){Object[_0x36088f(0x179)][_0x36088f(0x183)]['call'](_0x46c1f8,_0x55cd01)&&_0x263209[_0x36088f(0x1d4)](_0x28fc69[_0x36088f(0x170)](_0x28fc69['dNSSO'](_0x28fc69[_0x36088f(0x170)](_0x55cd01,'=\x22'),_0x28fc69[_0x36088f(0x125)](escape,_0x46c1f8[_0x55cd01])),'\x22'));}return _0x42ff06=_0x28fc69[_0x36088f(0x170)](_0x28fc69['kYeuP'](_0x28fc69[_0x36088f(0x143)]('<',_0x560641),_0x263209[_0x36088f(0x16a)]?_0x28fc69['hPgbg']('\x20',_0x263209[_0x36088f(0x1d1)]('\x20')):''),_0xe05b70),_0x43ed46&&(_0x42ff06+=_0x28fc69[_0x36088f(0x170)](_0x28fc69[_0x36088f(0x1a5)](_0x28fc69[_0x36088f(0x170)](_0x43ed46,'</'),_0x560641),_0xe05b70)),_0x42ff06;}let xunitContent='';function a33_0x57c2(_0x3d3a2b,_0x414918){const _0x2e8a6c=a33_0x2e8a();return a33_0x57c2=function(_0x57c2cb,_0x2528df){_0x57c2cb=_0x57c2cb-0xdd;let _0xeb052e=_0x2e8a6c[_0x57c2cb];return _0xeb052e;},a33_0x57c2(_0x3d3a2b,_0x414918);}function xunitWrite(_0x21100f){xunitContent+=_0x21100f;}function xunitTest(_0x52fd10,_0x127e9e){const _0x2fdba2=a33_0x2bf374,_0x572605={'HGMVI':function(_0x38d741,_0x12fb19){return _0x38d741/_0x12fb19;},'Mraza':function(_0x368adf,_0xf9cf45){return _0x368adf===_0xf9cf45;},'QNYmZ':'failed','iXvmz':function(_0x1daa8c,_0x18f9b3){return _0x1daa8c+_0x18f9b3;},'sGeVa':function(_0x17c421,_0x36aedc){return _0x17c421(_0x36aedc);},'ZYsiH':function(_0x16e47b,_0x576610,_0x253a47,_0x373fc9,_0x4377b5){return _0x16e47b(_0x576610,_0x253a47,_0x373fc9,_0x4377b5);},'zoiiF':_0x2fdba2(0x1e1),'AHXQc':'failure','dfREi':function(_0x3a7224,_0x5b4bf1){return _0x3a7224+_0x5b4bf1;},'TdSSk':function(_0x2cfa94,_0x1db47e){return _0x2cfa94+_0x1db47e;},'rdeTn':function(_0x2a1e06,_0x11630b){return _0x2a1e06(_0x11630b);},'phdVc':function(_0x2e05d2,_0x5bf694){return _0x2e05d2(_0x5bf694);},'KKCqb':function(_0xb892a5,_0x39981b){return _0xb892a5(_0x39981b);},'rEQzc':function(_0x28a7ce,_0x360077,_0x1a554a,_0x1976ff){return _0x28a7ce(_0x360077,_0x1a554a,_0x1976ff);},'kMvNB':'skipped'};Base[_0x2fdba2(0x154)]=![];var _0x13b334={'classname':_0x52fd10[_0x2fdba2(0x10b)],'name':_0x52fd10[_0x2fdba2(0x11f)],'time':_0x572605[_0x2fdba2(0x1ba)](_0x52fd10[_0x2fdba2(0x114)],0x3e8)||0x0,'platform':_0x127e9e};if(_0x572605[_0x2fdba2(0x100)](_0x52fd10['state'],_0x572605[_0x2fdba2(0x19f)])){var _0x231c0a=_0x52fd10['err'],_0x5b0f00=!Base['hideDiff']&&Base[_0x2fdba2(0x157)](_0x231c0a)?_0x572605[_0x2fdba2(0x173)]('\x0a',Base[_0x2fdba2(0xe5)](_0x231c0a[_0x2fdba2(0x133)],_0x231c0a[_0x2fdba2(0x10c)])):'';_0x572605[_0x2fdba2(0x108)](xunitWrite,_0x572605[_0x2fdba2(0x1a3)](tag,_0x572605['zoiiF'],_0x13b334,![],_0x572605[_0x2fdba2(0x1a3)](tag,_0x572605[_0x2fdba2(0x14c)],{},![],_0x572605[_0x2fdba2(0x173)](_0x572605[_0x2fdba2(0x12c)](_0x572605['TdSSk'](_0x572605[_0x2fdba2(0x108)](escape,_0x231c0a[_0x2fdba2(0x123)]),_0x572605[_0x2fdba2(0xfe)](escape,_0x5b0f00)),'\x0a'),_0x572605[_0x2fdba2(0x1d0)](escape,_0x231c0a[_0x2fdba2(0x1c1)])))));}else _0x52fd10[_0x2fdba2(0x1b4)]?_0x572605['KKCqb'](xunitWrite,_0x572605[_0x2fdba2(0x1a3)](tag,_0x572605[_0x2fdba2(0x19b)],_0x13b334,![],_0x572605[_0x2fdba2(0x1dc)](tag,_0x572605[_0x2fdba2(0x117)],{},!![]))):_0x572605[_0x2fdba2(0xfe)](xunitWrite,_0x572605[_0x2fdba2(0x1dc)](tag,_0x572605[_0x2fdba2(0x19b)],_0x13b334,!![]));};function getStats(_0x497425){const _0x47349f=a33_0x2bf374,_0x5a2915={};_0x5a2915[_0x47349f(0x19e)]=_0x47349f(0x18e),_0x5a2915[_0x47349f(0x199)]=_0x47349f(0x1ce),_0x5a2915[_0x47349f(0x182)]=_0x47349f(0x1b5),_0x5a2915[_0x47349f(0x106)]='results';const _0x4ab8d6=_0x5a2915,_0xf71613=Object['keys'](_0x497425);let _0x340be9=0x0,_0x4564f9=0x0,_0x1b236a=0x0,_0x7c99b5=0x0;const _0x52bf8e=new Set();_0xf71613['forEach'](_0x2f0d80=>{const _0x591fc1=_0x47349f;_0x497425[_0x2f0d80][_0x4ab8d6[_0x591fc1(0x106)]][_0x591fc1(0xe3)](_0x506cb4=>{const _0x422dcb=_0x591fc1;_0x52bf8e[_0x422dcb(0x13e)](_0x506cb4[_0x4ab8d6[_0x422dcb(0x19e)]]),_0x340be9++;switch(_0x506cb4['state']){case _0x4ab8d6['wSZxq']:_0x1b236a++;break;case _0x4ab8d6[_0x422dcb(0x182)]:_0x4564f9++;break;default:_0x7c99b5++;}});});const _0x11208a={};return _0x11208a[_0x47349f(0x1ab)]=_0x52bf8e[_0x47349f(0x1c3)],_0x11208a['platforms']=_0xf71613,_0x11208a['totalTests']=_0x340be9,_0x11208a[_0x47349f(0x17b)]=_0x4564f9,_0x11208a[_0x47349f(0x103)]=_0x1b236a,_0x11208a[_0x47349f(0x124)]=_0x7c99b5,_0x11208a;}function errorJSON(_0x2b0c57){const _0x5c8b74=a33_0x2bf374;var _0x4ba471={};return Object[_0x5c8b74(0x15b)](_0x2b0c57)[_0x5c8b74(0xe3)](function(_0x3e852a){_0x4ba471[_0x3e852a]=_0x2b0c57[_0x3e852a];},_0x2b0c57),_0x4ba471;}function cleanCycles(_0x320bef){const _0x550d63=a33_0x2bf374,_0x1cfcef={};_0x1cfcef[_0x550d63(0x15d)]=function(_0x1da6c8,_0xf1ec69){return _0x1da6c8===_0xf1ec69;},_0x1cfcef['TCAGu']=_0x550d63(0x188),_0x1cfcef[_0x550d63(0x14b)]=function(_0x21d049,_0x1031c9){return _0x21d049!==_0x1031c9;},_0x1cfcef[_0x550d63(0x1e6)]=function(_0x3f3377,_0x2b6105){return _0x3f3377!==_0x2b6105;},_0x1cfcef[_0x550d63(0x12e)]=function(_0x806970,_0x58d549){return _0x806970+_0x58d549;};const _0x596fc5=_0x1cfcef;var _0xd25e2b=[];return JSON[_0x550d63(0xe2)](JSON[_0x550d63(0x1a0)](_0x320bef,function(_0x1b823c,_0xe2371c){const _0xf6e5a8=_0x550d63;if(_0x596fc5[_0xf6e5a8(0x15d)](typeof _0xe2371c,_0x596fc5[_0xf6e5a8(0x1e5)])&&_0x596fc5[_0xf6e5a8(0x14b)](_0xe2371c,null)){if(_0x596fc5[_0xf6e5a8(0x1e6)](_0xd25e2b[_0xf6e5a8(0x1ac)](_0xe2371c),-0x1))return _0x596fc5[_0xf6e5a8(0x12e)]('',_0xe2371c);_0xd25e2b[_0xf6e5a8(0x1d4)](_0xe2371c);}return _0xe2371c;}));}function clean(_0x401356){const _0x32d182=a33_0x2bf374,_0x4f2a17={'yqfdo':function(_0xed0dc0,_0x210427){return _0xed0dc0 instanceof _0x210427;},'voojb':function(_0x4e2684,_0x3e9af5){return _0x4e2684(_0x3e9af5);}};var _0x30731b=_0x401356['err']||{};return _0x4f2a17[_0x32d182(0x119)](_0x30731b,Error)&&(_0x30731b=_0x4f2a17['voojb'](errorJSON,_0x30731b)),{'title':_0x401356['title'],'fullTitle':_0x401356[_0x32d182(0x10b)],'file':_0x401356['file'],'duration':_0x401356[_0x32d182(0x114)],'currentRetry':_0x401356[_0x32d182(0xef)],'speed':_0x401356['speed'],'err':_0x4f2a17[_0x32d182(0x150)](cleanCycles,_0x30731b)};}function printStats(_0xe058ca,_0x310e18=a33_0x2bf374(0x139),_0x4f33fa={}){const _0x33bd5e=a33_0x2bf374,_0x521415={'YOOFo':function(_0x25a84b,_0x1c204e){return _0x25a84b(_0x1c204e);},'wXXfJ':function(_0x1194bc,_0x54c20a){return _0x1194bc===_0x54c20a;},'ioBcl':_0x33bd5e(0x1ce),'bBrlM':_0x33bd5e(0x17a),'FPozC':function(_0x8532f2,_0x47201d){return _0x8532f2(_0x47201d);},'NnvYi':function(_0x5ac00c,_0x5be0d9){return _0x5ac00c===_0x5be0d9;},'MRzzR':'failed','eXKCh':'failures','Ercqd':function(_0x111847,_0x245d77){return _0x111847(_0x245d77);},'aTNEW':_0x33bd5e(0x10f),'pEchq':_0x33bd5e(0x1c6),'LuoVH':function(_0x388818,_0x40f60d){return _0x388818===_0x40f60d;},'trKAG':function(_0x170954,_0x426af7){return _0x170954*_0x426af7;},'VpQjq':function(_0x5ccc85,_0x415487,_0x4d1701){return _0x5ccc85(_0x415487,_0x4d1701);},'LWePN':function(_0x1ea067,_0x1abe43){return _0x1ea067===_0x1abe43;},'tBsqw':function(_0x4e9da7,_0x323325){return _0x4e9da7>_0x323325;},'Wtxyi':function(_0x760a0b){return _0x760a0b();},'hMdny':_0x33bd5e(0x161),'EmOhj':function(_0xef41a,_0x366375){return _0xef41a>_0x366375;},'oWBql':_0x33bd5e(0x191),'YctqJ':_0x33bd5e(0x127),'Qwnsd':function(_0x288430,_0x4ea71e){return _0x288430+_0x4ea71e;},'Pfklj':'Total\x20Platforms:\x20','ptOvN':function(_0x351a47,_0x5a3855){return _0x351a47+_0x5a3855;},'kLlyk':'Total\x20Suites:\x20','BrmWN':function(_0x1937d6,_0x59c4b5){return _0x1937d6+_0x59c4b5;},'IPHRU':'Tests:\x20\x20\x20\x20\x20\x20\x20','IOYII':function(_0x9f225c,_0x5ae360){return _0x9f225c>_0x5ae360;},'IexhK':function(_0x327c61,_0x4187f4){return _0x327c61+_0x4187f4;},'ZQbVh':function(_0x4d953e,_0xce99bb){return _0x4d953e+_0xce99bb;},'DeCLB':function(_0x3dc3b1,_0x3cad57){return _0x3dc3b1+_0x3cad57;},'gjgnf':_0x33bd5e(0x198),'jenlX':function(_0x2eecb9,_0x2335f1){return _0x2eecb9===_0x2335f1;},'bPHUf':_0x33bd5e(0x102),'fNrnl':_0x33bd5e(0x120),'pySVy':'Couldn\x27t\x20write\x20json\x20result\x20to','dPHRs':_0x33bd5e(0x1ed),'lNGyB':_0x33bd5e(0x138),'HfIwr':_0x33bd5e(0x165),'IBIUE':function(_0x14cb04,_0x2d8fe6){return _0x14cb04||_0x2d8fe6;},'xAgOK':function(_0x3e7462,_0x1a7ba7,_0xf7fcbb,_0x30b566){return _0x3e7462(_0x1a7ba7,_0xf7fcbb,_0x30b566);},'WOoUy':_0x33bd5e(0x110),'QLQfT':function(_0x289870,_0x36aeae){return _0x289870-_0x36aeae;},'EYHSh':function(_0x1faa3d,_0x403f74){return _0x1faa3d-_0x403f74;},'lgaIF':function(_0x15fdeb,_0x3ea639){return _0x15fdeb/_0x3ea639;},'oopzm':function(_0x388279,_0x4cf51f){return _0x388279(_0x4cf51f);},'StmOW':_0x33bd5e(0xf6),'xgmNt':_0x33bd5e(0x13f),'YablO':_0x33bd5e(0xe9),'fuvEc':_0x33bd5e(0xf5),'MvojZ':function(_0x58fbfb,_0xaf015a){return _0x58fbfb===_0xaf015a;},'skUxP':'Listing\x20all\x20the\x20failures','JHvMs':_0x33bd5e(0x187)};if(_0x521415[_0x33bd5e(0xea)](_0x310e18,_0x521415[_0x33bd5e(0x190)]))return;const _0x5efef4=0x0,_0x61a5e9=()=>{const _0x2d64a2=_0x33bd5e;return _0x521415['YOOFo'](Array,_0x5efef4)[_0x2d64a2(0x1d1)]('\x20\x20');},{testSuites:_0x220d33,platforms:_0x724a4b,totalTests:_0x41665e,testsFailed:_0xabcbaa,testsPassed:_0x2215ea,testsPending:_0x1586cf}=_0x521415[_0x33bd5e(0x1af)](getStats,_0xe058ca);_0x521415[_0x33bd5e(0x16d)](_0xabcbaa,0x0)&&(logger['debug'](_0x521415[_0x33bd5e(0x1d8)]),process[_0x33bd5e(0x185)]=Math[_0x33bd5e(0x184)](_0xabcbaa,0xff));logger[_0x33bd5e(0xfa)](_0x521415[_0x33bd5e(0x166)]);const _0x3e7f79=''+_0x521415[_0x33bd5e(0x17f)](chalk[_0x33bd5e(0x149)](_0x521415[_0x33bd5e(0xee)]),_0x724a4b[_0x33bd5e(0x16a)]),_0xfcd599=''+_0x521415[_0x33bd5e(0x195)](chalk[_0x33bd5e(0x149)](_0x521415[_0x33bd5e(0x1e3)]),_0x220d33),_0xaf05dc=''+_0x521415[_0x33bd5e(0x160)](_0x521415[_0x33bd5e(0x160)](_0x521415['ptOvN'](chalk[_0x33bd5e(0x149)](_0x521415[_0x33bd5e(0x12d)]),_0x521415[_0x33bd5e(0x16d)](_0xabcbaa,0x0)?chalk[_0x33bd5e(0x149)][_0x33bd5e(0x178)](_0xabcbaa+_0x33bd5e(0xf4))+',\x20':''),_0x521415[_0x33bd5e(0x1cb)](_0x1586cf,0x0)?chalk[_0x33bd5e(0x149)][_0x33bd5e(0x146)](_0x1586cf+_0x33bd5e(0x1ca))+',\x20':''),_0x521415['tBsqw'](_0x2215ea,0x0)?chalk[_0x33bd5e(0x149)]['green'](_0x2215ea+_0x33bd5e(0x105))+',\x20':'')+_0x41665e+'\x20total';console[_0x33bd5e(0x104)](_0x521415[_0x33bd5e(0x11a)](_0x521415[_0x33bd5e(0x130)](_0x521415[_0x33bd5e(0x180)](_0x521415[_0x33bd5e(0x17f)](_0x521415[_0x33bd5e(0x11a)](_0x521415['gjgnf'],_0x3e7f79),'\x0a'),_0xfcd599),'\x0a'),_0xaf05dc));if(_0x521415[_0x33bd5e(0x1ea)](_0x310e18,_0x521415[_0x33bd5e(0x1d2)])){const _0x264159={},_0x402e90={};_0x402e90[_0x33bd5e(0x1ab)]=_0x220d33,_0x402e90['platforms']=_0x724a4b,_0x402e90[_0x33bd5e(0x17b)]=_0xabcbaa,_0x402e90[_0x33bd5e(0x103)]=_0x2215ea,_0x402e90[_0x33bd5e(0x124)]=_0x1586cf,_0x264159[_0x33bd5e(0x107)]=_0x402e90,_0x724a4b[_0x33bd5e(0xe3)](_0x1062e0=>{const _0x47a5b5=_0x33bd5e,_0xbab823={'GubiF':function(_0x58ae43,_0x375162){const _0xca4852=a33_0x57c2;return _0x521415[_0xca4852(0x1b3)](_0x58ae43,_0x375162);},'NPiwA':_0x521415[_0x47a5b5(0x151)],'isBvH':_0x521415[_0x47a5b5(0x1b8)],'wGfLL':function(_0x2f2821,_0x5100f8){const _0x434518=_0x47a5b5;return _0x521415[_0x434518(0x1af)](_0x2f2821,_0x5100f8);},'UemSz':function(_0x1a32b1,_0x1a838a){const _0x500791=_0x47a5b5;return _0x521415[_0x500791(0xea)](_0x1a32b1,_0x1a838a);},'zOPQo':_0x521415[_0x47a5b5(0x140)],'qocLB':_0x521415['eXKCh'],'jwzkz':function(_0x47712b,_0x2509e7){return _0x521415['Ercqd'](_0x47712b,_0x2509e7);},'YbWpw':_0x521415['aTNEW']};_0x264159[_0x1062e0]={'pending':[],'failures':[],'passes':[],'tests':_0xe058ca[_0x1062e0][_0x521415['pEchq']][_0x47a5b5(0x19c)](clean)},_0xe058ca[_0x1062e0][_0x521415[_0x47a5b5(0x142)]][_0x47a5b5(0xe3)](_0x45d750=>{const _0x3b98c1=_0x47a5b5;if(_0xbab823[_0x3b98c1(0x1bb)](_0x45d750[_0x3b98c1(0x13a)],_0xbab823[_0x3b98c1(0x174)]))_0x264159[_0x1062e0][_0xbab823[_0x3b98c1(0x158)]][_0x3b98c1(0x1d4)](_0xbab823[_0x3b98c1(0x1eb)](clean,_0x45d750));else _0xbab823[_0x3b98c1(0x19d)](_0x45d750[_0x3b98c1(0x13a)],_0xbab823[_0x3b98c1(0xf9)])?_0x264159[_0x1062e0][_0xbab823['qocLB']][_0x3b98c1(0x1d4)](_0xbab823[_0x3b98c1(0x1d7)](clean,_0x45d750)):_0x264159[_0x1062e0][_0xbab823[_0x3b98c1(0x1a2)]][_0x3b98c1(0x1d4)](_0xbab823['jwzkz'](clean,_0x45d750));});});if(_0x4f33fa['output'])try{logger[_0x33bd5e(0xfa)](_0x521415[_0x33bd5e(0x1db)],_0x4f33fa[_0x33bd5e(0x194)]),fs[_0x33bd5e(0x18b)](_0x4f33fa['output'],JSON['stringify'](_0x264159,null,0x3));}catch(_0x4ed47f){logger[_0x33bd5e(0x126)](_0x521415[_0x33bd5e(0x15a)],_0x4f33fa['output']),logger[_0x33bd5e(0xfa)](_0x4ed47f);}else logger[_0x33bd5e(0xfa)](_0x521415['dPHRs']),console['log'](JSON[_0x33bd5e(0x1a0)](_0x264159,null,0x3));}else{if(_0x521415[_0x33bd5e(0x1b3)](_0x310e18,_0x521415['lNGyB'])){let _0x20951b;const _0x10d96f=_0x521415[_0x33bd5e(0x15f)];_0x4f33fa&&(_0x20951b=_0x4f33fa[_0x33bd5e(0xf1)]);_0x20951b=_0x521415[_0x33bd5e(0x14a)](_0x20951b,_0x10d96f);let _0x16ae8c=0x0,_0x4ec7e=0x0,_0x385738=0x0,_0xc9cf0=0x0;_0x724a4b[_0x33bd5e(0xe3)](_0x209a99=>{const _0x222d38=_0x33bd5e,_0x274447={'XLrut':function(_0x64c056,_0x187d14){return _0x521415['LuoVH'](_0x64c056,_0x187d14);},'jaKJS':_0x521415['ioBcl'],'tGghi':function(_0x3ea159,_0x3b61db){const _0x162505=a33_0x57c2;return _0x521415[_0x162505(0x1b3)](_0x3ea159,_0x3b61db);},'LbFdH':_0x521415[_0x222d38(0x140)],'gLhbE':function(_0x250b9c,_0x57d44a){return _0x521415['trKAG'](_0x250b9c,_0x57d44a);}};_0xe058ca[_0x209a99][_0x521415[_0x222d38(0x142)]][_0x222d38(0xe3)](_0x10866b=>{const _0x2b77d2=_0x222d38;if(_0x274447[_0x2b77d2(0x1ad)](_0x10866b[_0x2b77d2(0x13a)],_0x274447[_0x2b77d2(0xe1)]))_0x16ae8c++;else _0x274447[_0x2b77d2(0x177)](_0x10866b[_0x2b77d2(0x13a)],_0x274447['LbFdH'])&&_0x4ec7e++;_0x385738++,_0xc9cf0+=_0x274447[_0x2b77d2(0x1a1)](_0x10866b[_0x2b77d2(0x114)],0x1);});}),_0x521415[_0x33bd5e(0x131)](xunitWrite,_0x521415[_0x33bd5e(0x1bf)](tag,_0x521415[_0x33bd5e(0x101)],{'name':_0x20951b,'tests':_0x385738,'failures':0x0,'errors':_0x4ec7e,'skipped':_0x521415[_0x33bd5e(0x1b1)](_0x521415['EYHSh'](_0x385738,_0x4ec7e),_0x16ae8c),'timestamp':new Date()[_0x33bd5e(0xe7)](),'time':_0x521415[_0x33bd5e(0x14e)](_0xc9cf0,0x3e8)||0x0},![])),_0x724a4b[_0x33bd5e(0xe3)](_0xfe0b79=>{const _0x5ac4d7=_0x33bd5e;_0xe058ca[_0xfe0b79][_0x521415[_0x5ac4d7(0x142)]]['forEach'](_0x571e1c=>{const _0x6e1843=_0x5ac4d7;_0x521415[_0x6e1843(0x18c)](xunitTest,_0x571e1c,_0xfe0b79);});}),_0x521415[_0x33bd5e(0x12b)](xunitWrite,_0x521415['StmOW']);if(_0x4f33fa[_0x33bd5e(0x194)])try{logger[_0x33bd5e(0xfa)](_0x521415[_0x33bd5e(0x175)],_0x4f33fa['output']),fs[_0x33bd5e(0x18b)](_0x4f33fa[_0x33bd5e(0x194)],xunitContent);}catch(_0x46b348){logger[_0x33bd5e(0x126)](_0x521415[_0x33bd5e(0x18d)],_0x4f33fa['output']),logger[_0x33bd5e(0xfa)](_0x46b348);}else logger['debug'](_0x521415[_0x33bd5e(0x1c0)]),console['log'](xunitContent);}else{if(_0x521415[_0x33bd5e(0xfc)](_0xabcbaa,0x0))return;console[_0x33bd5e(0x104)](),logger[_0x33bd5e(0xfa)](_0x521415['skUxP']),console[_0x33bd5e(0x104)](chalk['bold'][_0x33bd5e(0x156)](_0x521415['JHvMs'])),_0x724a4b['forEach'](_0x5797b5=>{const _0x387c04=_0x33bd5e,_0xbb473b={'OtkuB':function(_0x8652a,_0x1969a3){const _0x16c512=a33_0x57c2;return _0x521415[_0x16c512(0xed)](_0x8652a,_0x1969a3);},'RPUfl':_0x521415[_0x387c04(0x140)]},_0x389df2=[];_0xe058ca[_0x5797b5][_0x521415[_0x387c04(0x142)]][_0x387c04(0xe3)](_0x596a7b=>{const _0x1b0a0d=_0x387c04;_0xbb473b['OtkuB'](_0x596a7b['state'],_0xbb473b[_0x1b0a0d(0x144)])&&(_0x596a7b[_0x1b0a0d(0x112)]=()=>_0x596a7b[_0x1b0a0d(0x196)],_0x389df2[_0x1b0a0d(0x1d4)](_0x596a7b));}),_0x521415[_0x387c04(0x1bc)](_0x389df2['length'],0x0)&&(Base['consoleLog'](),Base[_0x387c04(0x1e9)](_0x521415[_0x387c04(0xe6)](_0x61a5e9),chalk[_0x387c04(0x149)][_0x387c04(0x1a4)](_0x5797b5)),Base[_0x387c04(0x1c8)](_0x389df2));});}}}async function run(_0x1a6923,_0x2834e9,_0x3a63e4){const _0x34c754=a33_0x2bf374,_0x96a79e={'rqkSm':function(_0x336dad,_0x4ce745,_0x478411,_0x15b640){return _0x336dad(_0x4ce745,_0x478411,_0x15b640);},'HHbiW':_0x34c754(0x1e2),'ZNZBb':_0x34c754(0x111),'NkvrT':_0x34c754(0x1c9),'LDqQX':function(_0x6fb98a,_0x9de89c,_0x4d803e,_0x326613){return _0x6fb98a(_0x9de89c,_0x4d803e,_0x326613);},'NErKl':_0x34c754(0x1d9),'eQzdu':function(_0x464670,_0x137ebd){return _0x464670!=_0x137ebd;},'mgVsF':_0x34c754(0x16b),'ILwMj':'mjs','TEgeA':_0x34c754(0xfb),'hjgVk':_0x34c754(0x162),'mkVuZ':function(_0x277881,_0x57192e){return _0x277881(_0x57192e);},'hlZGG':function(_0x3622ba,_0x2970bb,_0x55b1a2){return _0x3622ba(_0x2970bb,_0x55b1a2);},'wHWoI':_0x34c754(0x163),'AunUD':_0x34c754(0x1cc),'PNylR':_0x34c754(0x197),'xwzwP':'includeEncodedExtension','RGdij':_0x34c754(0x1e8),'CPrmP':_0x34c754(0x1be),'KyyNZ':function(_0x428f10,_0x1a24a9,_0x228b0e,_0x285f96){return _0x428f10(_0x1a24a9,_0x228b0e,_0x285f96);},'kSmXF':function(_0x2a68fb,_0x42a4c1){return _0x2a68fb*_0x42a4c1;},'eVboa':function(_0x16909a,_0x59ec80){return _0x16909a(_0x59ec80);},'mMzBF':function(_0xa8eef9,_0x5d41ce){return _0xa8eef9!==_0x5d41ce;},'UNoJd':function(_0x83cc87,_0x54d7a7,_0x40de97,_0x2161a2){return _0x83cc87(_0x54d7a7,_0x40de97,_0x2161a2);}};helper[_0x34c754(0xe0)](_0x3a63e4[_0x34c754(0x155)],_0x1a6923),await _0x3a63e4[_0x34c754(0x121)](_0x1a6923);helper[_0x34c754(0x10d)]()?await helper[_0x34c754(0x1a8)](_0x3a63e4[_0x34c754(0x12a)]):await _0x3a63e4[_0x34c754(0x186)]();const _0x2f6df5=[];let _0x30afd9=[];if(!_0x3a63e4[_0x34c754(0x12a)])return;!helper[_0x34c754(0x1e7)](_0x3a63e4[_0x34c754(0x12a)][_0x34c754(0x18a)])&&(process[_0x34c754(0x168)][_0x34c754(0x176)]=JSON[_0x34c754(0x1a0)](_0x3a63e4[_0x34c754(0x12a)]['accessibilityOptions']));const _0x56ac98=await TestHubHandler['launchBuild'](FRAMEWORKS['MOCHA'],_0x3a63e4);_0x96a79e[_0x34c754(0x115)](_0x3a63e4[_0x34c754(0x12a)][_0x34c754(0x129)],null)&&(process[_0x34c754(0x168)][_0x34c754(0x10e)]=_0x3a63e4[_0x34c754(0x12a)][_0x34c754(0x129)]);!helper[_0x34c754(0x1e7)](_0x3a63e4[_0x34c754(0x12a)][_0x34c754(0x1ae)])&&(process['env']['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x3a63e4['config'][_0x34c754(0x1ae)]);const {extension:extension=['js',_0x96a79e[_0x34c754(0x17d)],_0x96a79e['ILwMj']],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x96a79e[_0x34c754(0x159)]]}=_0x1a6923,_0xb17c6={..._0x1a6923};_0xb17c6[_0x34c754(0x118)]=null;const _0x5b86ee=_0xb17c6;let _0x264937;if(testOpsHelper['isTestObservabilitySession']()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0xf7005f=process[_0x34c754(0x168)][_0x34c754(0x1da)];!helper['isUndefined'](_0x3a63e4['cliConfig'])&&_0x3a63e4[_0x34c754(0xf8)][_0x34c754(0x1e0)](_0x96a79e[_0x34c754(0x181)])&&(_0xf7005f=_0x3a63e4[_0x34c754(0xf8)][_0x34c754(0x13b)](_0x96a79e['hjgVk'])),_0x264937=testOpsHelper[_0x34c754(0x152)](_0xf7005f);}if(helper[_0x34c754(0x1e7)](_0x264937)){const _0x5e20b3={};_0x5e20b3[_0x34c754(0x193)]=ignore,_0x5e20b3['extension']=extension,_0x5e20b3[_0x34c754(0x145)]=file,_0x5e20b3[_0x34c754(0x122)]=recursive,_0x5e20b3[_0x34c754(0x12f)]=sort,_0x5e20b3[_0x34c754(0x139)]=spec,_0x264937=_0x96a79e[_0x34c754(0x1dd)](collectFiles,_0x5e20b3),_0x96a79e[_0x34c754(0x19a)](nestedKeyValue,_0x264937,[_0x96a79e['wHWoI']])&&(_0x264937=_0x264937['files']);}const _0x131831=helper[_0x34c754(0x1b6)](_0x3a63e4[_0x34c754(0x12a)]);!helper['isEmpty'](_0x131831)&&helper['isNotUndefined'](_0x131831[_0x34c754(0x1cd)])&&(_0x5b86ee[_0x34c754(0x1c4)]=_0x131831[_0x34c754(0x1cd)][_0x34c754(0x147)]);if(!helper[_0x34c754(0x10d)]()){const _0x17b986=0x1,_0x4f9286={..._0x5b86ee};_0x4f9286[_0x34c754(0x139)]=[..._0x264937],_0x2f6df5[_0x34c754(0x1d4)]({'mochaOpts':_0x4f9286,'configuration':{'platform':os[_0x34c754(0x135)]()}});if(_0x3a63e4[_0x34c754(0x12a)][_0x34c754(0x1ae)]){const _0x29b68e={};_0x29b68e['accessibility']=!![];const _0x49370e=_0x29b68e;_0x96a79e['eQzdu'](_0x3a63e4[_0x34c754(0x12a)]['accessibilityOptions'],null)&&(_0x49370e[_0x34c754(0x18a)]=_0x3a63e4[_0x34c754(0x12a)][_0x34c754(0x18a)],delete _0x49370e['accessibilityOptions'][_0x96a79e[_0x34c754(0x148)]],delete _0x49370e[_0x34c754(0x18a)][_0x96a79e['PNylR']],delete _0x49370e[_0x34c754(0x18a)][_0x96a79e['xwzwP']]);const _0x372ee5={};_0x372ee5[_0x34c754(0xf0)]=_0x49370e,_0x2f6df5[0x0][_0x34c754(0x16f)][_0x34c754(0x1d3)]=_0x372ee5;}logger[_0x34c754(0x192)](_0x96a79e[_0x34c754(0x1b2)]),logger[_0x34c754(0x192)](_0x96a79e[_0x34c754(0x1cf)]),_0x96a79e['KyyNZ'](parallelTestRun,_0x2f6df5,_0x17b986,_0x3a63e4)['then'](_0x137cc9=>{const _0x56c29a=_0x34c754;PerformanceTester['start'](PerformanceEvents[_0x56c29a(0x1b0)]),_0x96a79e['rqkSm'](printStats,_0x137cc9,_0x1a6923[_0x56c29a(0x1e4)],_0x1a6923['reporterOptions']||_0x1a6923[_0x96a79e['HHbiW']]);})[_0x34c754(0x136)](()=>{const _0x41a96f=_0x34c754;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0x3cb75c,tcgConfigPath:_0x2eab5c}=helper[_0x41a96f(0x1bd)]();fs[_0x41a96f(0xe8)](_0x2eab5c),fs[_0x41a96f(0xf7)](_0x3cb75c);}catch(_0x5487ba){logger[_0x41a96f(0xfa)](_0x96a79e[_0x41a96f(0x11e)],_0x5487ba);}try{utilities['fireFunnelTestEvent'](_0x96a79e[_0x41a96f(0x1b7)],{},_0x3a63e4[_0x41a96f(0x12a)],_0x3a63e4[_0x41a96f(0x155)]);}catch(_0x46044e){logger['debug'](_0x41a96f(0x137)+_0x46044e[_0x41a96f(0x1c1)]);}try{helper[_0x41a96f(0x14f)]();}catch(_0xe1dcb){logger[_0x41a96f(0xfa)](_0x41a96f(0x128)+_0xe1dcb);}testOpsHelper[_0x41a96f(0x10a)]();});}else{const _0x3fd4b6=helper['useW3C'](_0x3a63e4[_0x34c754(0x12a)]);let _0x215726=helper[_0x34c754(0x1d5)](_0x3a63e4['config']);_0x30afd9=helper[_0x34c754(0xeb)](_0x3a63e4[_0x34c754(0x12a)],_0x3fd4b6,constants[_0x34c754(0xec)][_0x34c754(0xf2)]);helper[_0x34c754(0x1c5)]()['central_scanner']&&(_0x215726=centralScannerConstants[_0x34c754(0x14d)]);let _0xfc5f68;const _0x1e155f=_0x3a63e4[_0x34c754(0x12a)][_0x34c754(0x17c)]||helper[_0x34c754(0x16c)](_0x1a6923,_0x2834e9,_0x3a63e4[_0x34c754(0x12a)],constants[_0x34c754(0xec)][_0x34c754(0xf2)])||0x1;helper[_0x34c754(0x153)](_0x3a63e4['config'])?_0xfc5f68=_0x96a79e[_0x34c754(0x11d)](_0x3a63e4['config'][_0x34c754(0x1c7)]['length'],_0x1e155f):_0xfc5f68=_0x1e155f;const _0x8eec30=_0x96a79e[_0x34c754(0x172)](getPercyOptions,_0x3a63e4[_0x34c754(0x12a)]);if(_0x96a79e[_0x34c754(0x13c)](_0x3a63e4[_0x34c754(0x12a)][_0x34c754(0x17c)],0x1))_0x264937['forEach'](_0x21f490=>{const _0x424d66=_0x34c754,_0xf43a04=[];_0x30afd9[_0x424d66(0xe3)]((_0xb28e8,_0x15ae40)=>{const _0xe33adf=_0x424d66,_0x44295b={};_0x44295b[_0xe33adf(0x139)]=[_0x21f490],_0xf43a04[_0xe33adf(0x1d4)]({'mochaOpts':Object[_0xe33adf(0x141)]({},_0x5b86ee,_0x44295b),'configuration':{'server':_0x215726,'capability':_0xb28e8,'proxySettings':_0x3a63e4[_0xe33adf(0x12a)][_0xe33adf(0xf3)],'platform':helper[_0xe33adf(0xfd)](_0xb28e8),'browserStackLogLevel':_0x3a63e4[_0xe33adf(0x12a)][_0xe33adf(0x11c)],'platformIndex':_0x15ae40,'browserStackPercyOptions':_0x8eec30,'platformCaps':Object[_0xe33adf(0x141)]({'index':_0x15ae40},_0x3a63e4[_0xe33adf(0x12a)][_0xe33adf(0x1c7)][_0x15ae40])}});}),_0x2f6df5[_0x424d66(0x1d4)](..._0xf43a04);});else{const _0x232152=[];_0x30afd9[_0x34c754(0xe3)]((_0x10dd24,_0x6366b9)=>{const _0x2b7f5d=_0x34c754;let _0x49746b=Object['assign']({},_0x5b86ee);testOpsHelper[_0x2b7f5d(0x1df)]()&&testOpsHelper[_0x2b7f5d(0x13d)]()&&(_0x49746b={..._0x49746b,'spec':[..._0x264937]}),_0x232152['push']({'mochaOpts':_0x49746b,'configuration':{'server':_0x215726,'capability':_0x10dd24,'proxySettings':_0x3a63e4[_0x2b7f5d(0x12a)]['proxySettings'],'platform':helper[_0x2b7f5d(0xfd)](_0x10dd24),'browserStackLogLevel':_0x3a63e4[_0x2b7f5d(0x12a)][_0x2b7f5d(0x11c)],'platformIndex':_0x6366b9,'browserStackPercyOptions':_0x8eec30,'platformCaps':Object[_0x2b7f5d(0x141)]({'index':_0x6366b9},_0x3a63e4['config'][_0x2b7f5d(0x1c7)][_0x6366b9])}});}),_0x2f6df5['push'](..._0x232152);}logger['info'](_0x34c754(0x109)+_0x3a63e4['config']['platforms']['length']+'\x20platforms'),logger['info'](_0x96a79e[_0x34c754(0x1cf)]);let _0x5d96c1;_0x96a79e[_0x34c754(0xdf)](parallelTestRun,_0x2f6df5,_0xfc5f68,_0x3a63e4)['then'](_0x87a998=>{const _0x19da0f=_0x34c754;PerformanceTester[_0x19da0f(0x171)](PerformanceEvents[_0x19da0f(0x1b0)]),_0x5d96c1=_0x87a998,_0x96a79e[_0x19da0f(0xe4)](printStats,_0x87a998,_0x1a6923[_0x19da0f(0x1e4)],_0x1a6923[_0x19da0f(0x116)]||_0x1a6923[_0x96a79e[_0x19da0f(0x132)]]);})['finally'](async()=>{const _0x4ca33f=_0x34c754;PerformanceTester['start'](PerformanceEvents[_0x4ca33f(0x1b0)]),_0x3a63e4['errorMessage']=helper[_0x4ca33f(0x167)](_0x5d96c1,_0x96a79e['NErKl']),await utilities[_0x4ca33f(0x15e)](_0x3a63e4),testOpsHelper[_0x4ca33f(0x10a)]();});}}module[a33_0x2bf374(0x189)]=run;