#!/usr/bin/env node
'use strict';const a28_0x3496e9=a28_0xa16a;(function(_0x6cdc69,_0x12996c){const _0x5716b3=a28_0xa16a,_0x4893c3=_0x6cdc69();while(!![]){try{const _0x5279c3=-parseInt(_0x5716b3(0x170))/0x1*(parseInt(_0x5716b3(0x203))/0x2)+parseInt(_0x5716b3(0x228))/0x3*(parseInt(_0x5716b3(0x23e))/0x4)+-parseInt(_0x5716b3(0x23c))/0x5+-parseInt(_0x5716b3(0x234))/0x6+parseInt(_0x5716b3(0x25f))/0x7*(-parseInt(_0x5716b3(0x233))/0x8)+parseInt(_0x5716b3(0x21f))/0x9*(-parseInt(_0x5716b3(0x1d4))/0xa)+parseInt(_0x5716b3(0x261))/0xb;if(_0x5279c3===_0x12996c)break;else _0x4893c3['push'](_0x4893c3['shift']());}catch(_0x55baee){_0x4893c3['push'](_0x4893c3['shift']());}}}(a28_0x5b5c,0x67278));function a28_0x5b5c(){const _0x5c02df=['call','mjs','awubt','FRAMEWORKS','IvBnO','dgxch','2djNsuV','platform','EVENTS','error\x20removing\x20tcg\x20config\x20file','ignore','expected','luxDJ','hceha','size','consoleLog','skipped','Couldn\x27t\x20write\x20xunit\x20result\x20to','unlinkSync','rMIoH','wyZmW','file','Running\x20your\x20mocha\x20tests','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','duration','fjSnu','FckvL','sLvWN','stack','reporter','getErrorMessageFromResults','YgcUG','message','assign','1631862nSnLEQ','Total\x20Platforms:\x20','hasOwnProperty','Running\x20your\x20mocha\x20tests\x20across\x20','toUTCString','WlpMS','kXKLI','QDWna','push','144clCLWl','KUyHW','BROWSERSTACK_TEST_OBSERVABILITY','pobYE','printBuildLink','nyhPw','NRhPc','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','WZrkT','</testsuite>','proxySettings','6409360LpHZDO','216312ngqJVP','Couldn\x27t\x20write\x20json\x20result\x20to','kOeMO','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','CKAvq','suite','GQbNv','../../helpers/performance/constants','1931215dSfVqE','env','8872ynDOQi','fireFunnelTestEvent','OcFhX','torGv','EmHjb','reporterOptions','bgRedBright','nyvgu','finally','useW3C','AMcyg','Tests:\x20\x20\x20\x20\x20\x20\x20','--disable-test-observability','****\x20FAILURES\x20****','JIHJm','parseFileNames','argv','err','IMMzd','BROWSERSTACK_AUTOMATION','YlObd','../test-runner','hryeK','htOuq','RirtV','getHubUrl','eoPtQ','xunit','KdEho','ykQmw','prepareCapabilities','oKRNy','PGlXd','7ZmWWCT','../../helpers/helper','26279462eZsWxg','showDiff','cjEwt','accessibilityOptions','mocha/lib/cli/collect-files.js','rerunTests','ZIDJC','MUlnF','668203IvnNQQ','Osnas','KQJvb','testSuites','getUserWorkerCount','Cbalx','nkuno','VGTEn','mocha','VUCBW','AjRFT','output','NVZdO','stringify','../../helpers/test-observability/utils','sort','notifyUpdate','length','MxmXD','getPlatformName','CDeXw','log','then','parse','shouldReRunObservabilityTests','titlePath','actual','testcase','TwBAu','logLevel','info','tKwei','platforms','doc','bold','../../helpers/percy/utils','isBrowserstackInfra','recursive','testsFailed','BROWSERSTACK_TEST_ACCESSIBILITY_YML','debug','passed','OTzEO','Writing\x20json\x20result\x20to\x20file','files','config','ZlDPk','pkxNx','qhBtV','xHjgO','caZdu','setupTCGAuth','sMPtB','failures','includes','testsPassed','start','yellow','testsuite','get','exports','spec','testObservability','Total\x20Suites:\x20','keys','reporter-option','\x20skipped','jWXBz','writeFileSync','titlePathV','MOCHA','Tkxze','framework','../utils/constants','handleApp','Listing\x20all\x20the\x20failures','bgBlueBright','useColors','getTCGConfigFilePaths','spcrl','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','results','test','ytqBR','KUShy','suiteName','zmgHj','dqZPM','min','fullTitle','tuacb','KEaPP','chalk','join','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','IBVdD','wKpqn','Mocha\x20Tests','jGNJV','YIFdn','10LmcNZn','SDK_CLEANUP','testsPending','red','state','../../helpers/BrowserStackSetup','setUserConfigPath','currentRetry','BROWSERSTACK_CENTRAL_USER','DkJDk','finalExecution','TEAsY','lIzJR','Jsflz','failure','NqYAr','prototype','QTHua','PAxDH','cliConfig','../../helpers/performance/performance-tester','MVrdM','cTrNK','isUndefined','flXtN','forEach','accessibility','isPending','rootHooks','green','failed','Writing\x20xunit\x20result\x20to\x20file','errorMessage','parallelsPerPlatform','NVoGB','totalTests','Setting\x20non\x20exit\x20code\x20for\x20failures','Printing\x20stats\x20of\x20tests','MTwvx','dqGin','hideDiff'];a28_0x5b5c=function(){return _0x5c02df;};return a28_0x5b5c();}const chalk=require(a28_0x3496e9(0x1cc)),logger=require('../../helpers/logger')['winstonLogger'],{default:BrowserStackSetup}=require(a28_0x3496e9(0x1d9)),helper=require(a28_0x3496e9(0x260)),utilities=require('../../helpers/utilities'),testOpsHelper=require(a28_0x3496e9(0x17e)),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a28_0x3496e9(0x253)),{requireModule,nestedKeyValue}=require(a28_0x3496e9(0x260)),{getPercyOptions}=require(a28_0x3496e9(0x193)),Base=requireModule('mocha/lib/reporters/base.js',a28_0x3496e9(0x178)),collectFiles=requireModule(a28_0x3496e9(0x16c),a28_0x3496e9(0x178)),constants=require(a28_0x3496e9(0x1b9)),PerformanceTester=require(a28_0x3496e9(0x1e8)),PerformanceEvents=require(a28_0x3496e9(0x23b))[a28_0x3496e9(0x205)],centralScannerConstants=require('../../helpers/central-scanner/constants');function tag(_0x2c3d63,_0x28c2bb,_0x31f145,_0xac9100){const _0x478793=a28_0x3496e9,_0x147616={'hryeK':function(_0x1c23f8,_0x59e794){return _0x1c23f8+_0x59e794;},'RirtV':function(_0x5289de,_0x4a68b9){return _0x5289de+_0x4a68b9;},'nkuno':function(_0x9e93b6,_0x8b7a43){return _0x9e93b6+_0x8b7a43;},'qmQmo':function(_0x14c8cb,_0x5c1893){return _0x14c8cb(_0x5c1893);},'wKpqn':function(_0x4aa575,_0x3442bf){return _0x4aa575+_0x3442bf;},'SbpTM':function(_0x287d5e,_0x356e14){return _0x287d5e+_0x356e14;},'OrZzt':function(_0x2d92db,_0x3873f2){return _0x2d92db+_0x3873f2;}},_0x708969=_0x31f145?'/>':'>',_0x507eb3=[];let _0x5da74d;for(const _0x187026 in _0x28c2bb){Object[_0x478793(0x1e4)][_0x478793(0x221)][_0x478793(0x1fd)](_0x28c2bb,_0x187026)&&_0x507eb3['push'](_0x147616[_0x478793(0x254)](_0x147616['RirtV'](_0x147616[_0x478793(0x176)](_0x187026,'=\x22'),_0x147616['qmQmo'](escape,_0x28c2bb[_0x187026])),'\x22'));}return _0x5da74d=_0x147616[_0x478793(0x1d0)](_0x147616[_0x478793(0x176)](_0x147616['SbpTM']('<',_0x2c3d63),_0x507eb3[_0x478793(0x181)]?_0x147616[_0x478793(0x176)]('\x20',_0x507eb3[_0x478793(0x1cd)]('\x20')):''),_0x708969),_0xac9100&&(_0x5da74d+=_0x147616[_0x478793(0x256)](_0x147616['OrZzt'](_0x147616[_0x478793(0x254)](_0xac9100,'</'),_0x2c3d63),_0x708969)),_0x5da74d;}let xunitContent='';function a28_0xa16a(_0x50a4c1,_0x49c792){const _0x5b5cd3=a28_0x5b5c();return a28_0xa16a=function(_0xa16ae3,_0x4b50be){_0xa16ae3=_0xa16ae3-0x16a;let _0x34a5cd=_0x5b5cd3[_0xa16ae3];return _0x34a5cd;},a28_0xa16a(_0x50a4c1,_0x49c792);}function xunitWrite(_0x4def7e){xunitContent+=_0x4def7e;}function xunitTest(_0x5b95b7,_0xfa66ba){const _0x3f8832=a28_0x3496e9,_0x19ea4e={'hnycz':function(_0x89278b,_0x13ae85){return _0x89278b/_0x13ae85;},'PQtCm':function(_0x442311,_0x5c8770){return _0x442311===_0x5c8770;},'sLvWN':_0x3f8832(0x1f2),'NqYAr':function(_0x350462,_0x42bd2b){return _0x350462+_0x42bd2b;},'YIFdn':function(_0x477874,_0x1f5342){return _0x477874(_0x1f5342);},'OcFhX':function(_0x24cd44,_0x263f0a,_0x1c6147,_0x1638e5,_0x3c9ba7){return _0x24cd44(_0x263f0a,_0x1c6147,_0x1638e5,_0x3c9ba7);},'VGTEn':_0x3f8832(0x18b),'KUShy':_0x3f8832(0x1e2),'JIHJm':function(_0x50dc3f,_0x15623c){return _0x50dc3f+_0x15623c;},'kOeMO':function(_0x2ffa09,_0xfea48b){return _0x2ffa09+_0xfea48b;},'cjEwt':function(_0x58cce3,_0x26ef25){return _0x58cce3(_0x26ef25);},'KEaPP':function(_0x2119e2,_0x400ccf,_0x1e521f,_0x1c9eca,_0x449841){return _0x2119e2(_0x400ccf,_0x1e521f,_0x1c9eca,_0x449841);},'caZdu':function(_0x593ecd,_0x5e4d54,_0x493fd6,_0x343cac){return _0x593ecd(_0x5e4d54,_0x493fd6,_0x343cac);},'Jsflz':_0x3f8832(0x20d),'MhuuU':function(_0xf5d188,_0x361317){return _0xf5d188(_0x361317);},'jWXBz':function(_0x35843c,_0x18ef15,_0x45c214,_0x484752){return _0x35843c(_0x18ef15,_0x45c214,_0x484752);}};Base[_0x3f8832(0x1bd)]=![];var _0x3a3f89={'classname':_0x5b95b7[_0x3f8832(0x1c9)],'name':_0x5b95b7['title'],'time':_0x19ea4e['hnycz'](_0x5b95b7[_0x3f8832(0x215)],0x3e8)||0x0,'platform':_0xfa66ba};if(_0x19ea4e['PQtCm'](_0x5b95b7[_0x3f8832(0x1d8)],_0x19ea4e[_0x3f8832(0x218)])){var _0x11f23c=_0x5b95b7[_0x3f8832(0x24f)],_0x91a248=!Base[_0x3f8832(0x1fc)]&&Base[_0x3f8832(0x262)](_0x11f23c)?_0x19ea4e[_0x3f8832(0x1e3)]('\x0a',Base['generateDiff'](_0x11f23c[_0x3f8832(0x18a)],_0x11f23c[_0x3f8832(0x208)])):'';_0x19ea4e[_0x3f8832(0x1d3)](xunitWrite,_0x19ea4e[_0x3f8832(0x240)](tag,_0x19ea4e[_0x3f8832(0x177)],_0x3a3f89,![],_0x19ea4e[_0x3f8832(0x240)](tag,_0x19ea4e[_0x3f8832(0x1c4)],{},![],_0x19ea4e[_0x3f8832(0x1e3)](_0x19ea4e[_0x3f8832(0x24c)](_0x19ea4e[_0x3f8832(0x236)](_0x19ea4e[_0x3f8832(0x16a)](escape,_0x11f23c[_0x3f8832(0x21d)]),_0x19ea4e[_0x3f8832(0x16a)](escape,_0x91a248)),'\x0a'),_0x19ea4e[_0x3f8832(0x16a)](escape,_0x11f23c[_0x3f8832(0x219)])))));}else _0x5b95b7[_0x3f8832(0x1ef)]?_0x19ea4e[_0x3f8832(0x1d3)](xunitWrite,_0x19ea4e[_0x3f8832(0x1cb)](tag,_0x19ea4e[_0x3f8832(0x177)],_0x3a3f89,![],_0x19ea4e[_0x3f8832(0x1a2)](tag,_0x19ea4e[_0x3f8832(0x1e1)],{},!![]))):_0x19ea4e['MhuuU'](xunitWrite,_0x19ea4e[_0x3f8832(0x1b3)](tag,_0x19ea4e[_0x3f8832(0x177)],_0x3a3f89,!![]));};function getStats(_0x2d8d20){const _0x2f16bd=a28_0x3496e9,_0x50608a={};_0x50608a[_0x2f16bd(0x1e6)]=_0x2f16bd(0x239),_0x50608a[_0x2f16bd(0x1c6)]=_0x2f16bd(0x199),_0x50608a['MTwvx']=_0x2f16bd(0x1f2),_0x50608a[_0x2f16bd(0x25a)]=_0x2f16bd(0x1c1);const _0x1436d2=_0x50608a,_0x503f28=Object[_0x2f16bd(0x1b0)](_0x2d8d20);let _0x1c188e=0x0,_0x1c889b=0x0,_0x53e38c=0x0,_0x2e74cd=0x0;const _0x650f55=new Set();_0x503f28[_0x2f16bd(0x1ed)](_0x10dc03=>{const _0x205077=_0x2f16bd;_0x2d8d20[_0x10dc03][_0x1436d2['KdEho']][_0x205077(0x1ed)](_0x1a5115=>{const _0x30212f=_0x205077;_0x650f55['add'](_0x1a5115[_0x1436d2['PAxDH']]),_0x1c188e++;switch(_0x1a5115[_0x30212f(0x1d8)]){case _0x1436d2[_0x30212f(0x1c6)]:_0x53e38c++;break;case _0x1436d2[_0x30212f(0x1fa)]:_0x1c889b++;break;default:_0x2e74cd++;}});});const _0x19eff5={};return _0x19eff5[_0x2f16bd(0x173)]=_0x650f55[_0x2f16bd(0x20b)],_0x19eff5['platforms']=_0x503f28,_0x19eff5[_0x2f16bd(0x1f7)]=_0x1c188e,_0x19eff5[_0x2f16bd(0x196)]=_0x1c889b,_0x19eff5[_0x2f16bd(0x1a7)]=_0x53e38c,_0x19eff5['testsPending']=_0x2e74cd,_0x19eff5;}function errorJSON(_0x3fd3a7){var _0xec860c={};return Object['getOwnPropertyNames'](_0x3fd3a7)['forEach'](function(_0x56470a){_0xec860c[_0x56470a]=_0x3fd3a7[_0x56470a];},_0x3fd3a7),_0xec860c;}function cleanCycles(_0x1c0692){const _0x1ac58c=a28_0x3496e9,_0x3f9cc8={};_0x3f9cc8[_0x1ac58c(0x19e)]=function(_0x33fbc4,_0x524769){return _0x33fbc4===_0x524769;},_0x3f9cc8[_0x1ac58c(0x1cf)]='object',_0x3f9cc8['IvBnO']=function(_0x1dbf74,_0x36bbdf){return _0x1dbf74!==_0x36bbdf;},_0x3f9cc8[_0x1ac58c(0x1a4)]=function(_0x53620e,_0x550a8e){return _0x53620e!==_0x550a8e;},_0x3f9cc8[_0x1ac58c(0x175)]=function(_0x527a68,_0x1fb26a){return _0x527a68+_0x1fb26a;};const _0x3c3e79=_0x3f9cc8;var _0x5d3131=[];return JSON[_0x1ac58c(0x187)](JSON[_0x1ac58c(0x17d)](_0x1c0692,function(_0x5d6f3b,_0x4f35a8){const _0x3864c6=_0x1ac58c;if(_0x3c3e79[_0x3864c6(0x19e)](typeof _0x4f35a8,_0x3c3e79['IBVdD'])&&_0x3c3e79[_0x3864c6(0x201)](_0x4f35a8,null)){if(_0x3c3e79['sMPtB'](_0x5d3131['indexOf'](_0x4f35a8),-0x1))return _0x3c3e79[_0x3864c6(0x175)]('',_0x4f35a8);_0x5d3131[_0x3864c6(0x227)](_0x4f35a8);}return _0x4f35a8;}));}function clean(_0x4baf8c){const _0x47d00a=a28_0x3496e9,_0x2858bb={'TwBAu':function(_0x3f0294,_0x2fce04){return _0x3f0294 instanceof _0x2fce04;},'xHjgO':function(_0x49d739,_0x2ee6c3){return _0x49d739(_0x2ee6c3);},'IMMzd':function(_0x204cbe,_0x2b69eb){return _0x204cbe(_0x2b69eb);}};var _0x2532e2=_0x4baf8c['err']||{};return _0x2858bb[_0x47d00a(0x18c)](_0x2532e2,Error)&&(_0x2532e2=_0x2858bb[_0x47d00a(0x1a1)](errorJSON,_0x2532e2)),{'title':_0x4baf8c['title'],'fullTitle':_0x4baf8c[_0x47d00a(0x1c9)],'file':_0x4baf8c[_0x47d00a(0x212)],'duration':_0x4baf8c[_0x47d00a(0x215)],'currentRetry':_0x4baf8c[_0x47d00a(0x1db)],'speed':_0x4baf8c['speed'],'err':_0x2858bb[_0x47d00a(0x250)](cleanCycles,_0x2532e2)};}function printStats(_0x7594d3,_0x1fb1c4=a28_0x3496e9(0x1ad),_0x3b4e23={}){const _0x469f92=a28_0x3496e9,_0x594358={'wyZmW':function(_0x48628b,_0x1e8bd5){return _0x48628b(_0x1e8bd5);},'kXKLI':function(_0x404bbb,_0x215b32){return _0x404bbb===_0x215b32;},'fjSnu':_0x469f92(0x199),'hceha':'passes','jGNJV':function(_0x12263d,_0x106efd){return _0x12263d(_0x106efd);},'CKAvq':function(_0x468810,_0x1a14e5){return _0x468810===_0x1a14e5;},'MVrdM':_0x469f92(0x1f2),'CDeXw':_0x469f92(0x1a5),'XfxNB':'pending','qhBtV':function(_0x440d9e,_0x314777){return _0x440d9e(_0x314777);},'oKRNy':'results','dgxch':function(_0x539027,_0x1e18fa){return _0x539027===_0x1e18fa;},'TEAsY':function(_0x5a2f04,_0x92c069){return _0x5a2f04===_0x92c069;},'flXtN':function(_0xa703cf,_0xdf6583){return _0xa703cf*_0xdf6583;},'NVZdO':function(_0x3453db,_0x4a4dac,_0x2e8231){return _0x3453db(_0x4a4dac,_0x2e8231);},'lIzJR':function(_0xb67001,_0x107963){return _0xb67001>_0x107963;},'tuacb':function(_0x57965e){return _0x57965e();},'qBvyG':_0x469f92(0x191),'Tkxze':function(_0x2707ca,_0x3fc31b){return _0x2707ca(_0x3fc31b);},'YgcUG':function(_0x405e5d,_0x3be387){return _0x405e5d>_0x3be387;},'JQRxz':_0x469f92(0x1f8),'pkxNx':_0x469f92(0x1f9),'cTrNK':function(_0xead6ea,_0x30ba4d){return _0xead6ea+_0x30ba4d;},'eVnda':_0x469f92(0x220),'luxDJ':_0x469f92(0x1af),'Osnas':function(_0x18a0dc,_0x49bad7){return _0x18a0dc+_0x49bad7;},'nyhPw':function(_0x3f0947,_0x11e503){return _0x3f0947+_0x11e503;},'AMcyg':_0x469f92(0x249),'htOuq':function(_0x44a5ad,_0x3fa429){return _0x44a5ad>_0x3fa429;},'PGlXd':function(_0x5defdf,_0x563f7d){return _0x5defdf>_0x563f7d;},'YlObd':function(_0x38be44,_0x1b4dc9){return _0x38be44+_0x1b4dc9;},'pfmMP':function(_0x332110,_0x49f69a){return _0x332110+_0x49f69a;},'KUyHW':'\x0a\x0a\x0a','FckvL':'json','ykQmw':_0x469f92(0x19b),'SzlmS':_0x469f92(0x235),'GQbNv':_0x469f92(0x1ce),'QTHua':_0x469f92(0x259),'EmHjb':_0x469f92(0x1d1),'OTzEO':function(_0x1f100d,_0x2d171d){return _0x1f100d||_0x2d171d;},'xKnWc':function(_0x2f6561,_0x2e419f,_0x2394c1,_0x84dfd1){return _0x2f6561(_0x2e419f,_0x2394c1,_0x84dfd1);},'MUlnF':_0x469f92(0x1aa),'eoPtQ':function(_0x1edf81,_0x515251){return _0x1edf81-_0x515251;},'MPeJl':function(_0x3ba0bd,_0x5e074e){return _0x3ba0bd/_0x5e074e;},'torGv':function(_0x36a567,_0x4bc5b5){return _0x36a567(_0x4bc5b5);},'eNPXV':_0x469f92(0x231),'DkJDk':_0x469f92(0x1f3),'nyvgu':_0x469f92(0x20e),'VUCBW':_0x469f92(0x237),'WlpMS':function(_0x3360eb,_0x518309){return _0x3360eb===_0x518309;},'HKoCQ':_0x469f92(0x1bb),'MxmXD':_0x469f92(0x24b)};if(_0x594358['dgxch'](_0x1fb1c4,_0x594358['qBvyG']))return;const _0x586ceb=0x0,_0x36fbcb=()=>{const _0xc280fc=_0x469f92;return _0x594358[_0xc280fc(0x211)](Array,_0x586ceb)[_0xc280fc(0x1cd)]('\x20\x20');},{testSuites:_0x3126be,platforms:_0x483df4,totalTests:_0xfef950,testsFailed:_0x40cf27,testsPassed:_0xe2735,testsPending:_0x828d7c}=_0x594358[_0x469f92(0x1b7)](getStats,_0x7594d3);_0x594358[_0x469f92(0x21c)](_0x40cf27,0x0)&&(logger['debug'](_0x594358['JQRxz']),process['exitCode']=Math[_0x469f92(0x1c8)](_0x40cf27,0xff));logger[_0x469f92(0x198)](_0x594358[_0x469f92(0x19f)]);const _0x36a1b6=''+_0x594358[_0x469f92(0x1ea)](chalk[_0x469f92(0x192)](_0x594358['eVnda']),_0x483df4[_0x469f92(0x181)]),_0x438407=''+_0x594358[_0x469f92(0x1ea)](chalk[_0x469f92(0x192)](_0x594358[_0x469f92(0x209)]),_0x3126be),_0x449be7=''+_0x594358[_0x469f92(0x171)](_0x594358[_0x469f92(0x22d)](_0x594358['nyhPw'](chalk[_0x469f92(0x192)](_0x594358[_0x469f92(0x248)]),_0x594358[_0x469f92(0x255)](_0x40cf27,0x0)?chalk[_0x469f92(0x192)][_0x469f92(0x1d7)](_0x40cf27+'\x20failed')+',\x20':''),_0x594358[_0x469f92(0x21c)](_0x828d7c,0x0)?chalk[_0x469f92(0x192)][_0x469f92(0x1a9)](_0x828d7c+_0x469f92(0x1b2))+',\x20':''),_0x594358[_0x469f92(0x25e)](_0xe2735,0x0)?chalk[_0x469f92(0x192)][_0x469f92(0x1f1)](_0xe2735+'\x20passed')+',\x20':'')+_0xfef950+'\x20total';console[_0x469f92(0x185)](_0x594358['cTrNK'](_0x594358[_0x469f92(0x22d)](_0x594358[_0x469f92(0x252)](_0x594358['pfmMP'](_0x594358[_0x469f92(0x22d)](_0x594358[_0x469f92(0x229)],_0x36a1b6),'\x0a'),_0x438407),'\x0a'),_0x449be7));if(_0x594358[_0x469f92(0x202)](_0x1fb1c4,_0x594358[_0x469f92(0x217)])){const _0x4a3eb4={},_0x25d333={};_0x25d333['testSuites']=_0x3126be,_0x25d333[_0x469f92(0x190)]=_0x483df4,_0x25d333[_0x469f92(0x196)]=_0x40cf27,_0x25d333[_0x469f92(0x1a7)]=_0xe2735,_0x25d333[_0x469f92(0x1d6)]=_0x828d7c,_0x4a3eb4['stats']=_0x25d333,_0x483df4[_0x469f92(0x1ed)](_0x5a53ea=>{const _0xb1fb1=_0x469f92;_0x4a3eb4[_0x5a53ea]={'pending':[],'failures':[],'passes':[],'tests':_0x7594d3[_0x5a53ea][_0x594358[_0xb1fb1(0x25d)]]['map'](clean)},_0x7594d3[_0x5a53ea][_0x594358[_0xb1fb1(0x25d)]][_0xb1fb1(0x1ed)](_0x871ebc=>{const _0x20ad24=_0xb1fb1;if(_0x594358[_0x20ad24(0x225)](_0x871ebc[_0x20ad24(0x1d8)],_0x594358[_0x20ad24(0x216)]))_0x4a3eb4[_0x5a53ea][_0x594358[_0x20ad24(0x20a)]][_0x20ad24(0x227)](_0x594358[_0x20ad24(0x1d2)](clean,_0x871ebc));else _0x594358[_0x20ad24(0x238)](_0x871ebc[_0x20ad24(0x1d8)],_0x594358['MVrdM'])?_0x4a3eb4[_0x5a53ea][_0x594358[_0x20ad24(0x184)]][_0x20ad24(0x227)](_0x594358[_0x20ad24(0x211)](clean,_0x871ebc)):_0x4a3eb4[_0x5a53ea][_0x594358['XfxNB']][_0x20ad24(0x227)](_0x594358[_0x20ad24(0x1a0)](clean,_0x871ebc));});});if(_0x3b4e23['output'])try{logger[_0x469f92(0x198)](_0x594358[_0x469f92(0x25b)],_0x3b4e23[_0x469f92(0x17b)]),fs[_0x469f92(0x1b4)](_0x3b4e23['output'],JSON[_0x469f92(0x17d)](_0x4a3eb4,null,0x3));}catch(_0x2ea942){logger['error'](_0x594358['SzlmS'],_0x3b4e23['output']),logger[_0x469f92(0x198)](_0x2ea942);}else logger[_0x469f92(0x198)](_0x594358[_0x469f92(0x23a)]),console[_0x469f92(0x185)](JSON[_0x469f92(0x17d)](_0x4a3eb4,null,0x3));}else{if(_0x594358['CKAvq'](_0x1fb1c4,_0x594358[_0x469f92(0x1e5)])){let _0xf38f01;const _0x5e83f4=_0x594358[_0x469f92(0x242)];_0x3b4e23&&(_0xf38f01=_0x3b4e23[_0x469f92(0x1c5)]);_0xf38f01=_0x594358[_0x469f92(0x19a)](_0xf38f01,_0x5e83f4);let _0x20bcca=0x0,_0x2c0de6=0x0,_0x320aa9=0x0,_0x1399ea=0x0;_0x483df4[_0x469f92(0x1ed)](_0x28c722=>{_0x7594d3[_0x28c722][_0x594358['oKRNy']]['forEach'](_0x4fb652=>{const _0x92a153=a28_0xa16a;if(_0x594358[_0x92a153(0x202)](_0x4fb652[_0x92a153(0x1d8)],_0x594358[_0x92a153(0x216)]))_0x20bcca++;else _0x594358[_0x92a153(0x1df)](_0x4fb652[_0x92a153(0x1d8)],_0x594358[_0x92a153(0x1e9)])&&_0x2c0de6++;_0x320aa9++,_0x1399ea+=_0x594358[_0x92a153(0x1ec)](_0x4fb652[_0x92a153(0x215)],0x1);});}),_0x594358[_0x469f92(0x1d2)](xunitWrite,_0x594358['xKnWc'](tag,_0x594358[_0x469f92(0x16f)],{'name':_0xf38f01,'tests':_0x320aa9,'failures':0x0,'errors':_0x2c0de6,'skipped':_0x594358['eoPtQ'](_0x594358[_0x469f92(0x258)](_0x320aa9,_0x2c0de6),_0x20bcca),'timestamp':new Date()[_0x469f92(0x223)](),'time':_0x594358['MPeJl'](_0x1399ea,0x3e8)||0x0},![])),_0x483df4[_0x469f92(0x1ed)](_0x592e98=>{const _0x5215f2=_0x469f92;_0x7594d3[_0x592e98][_0x594358[_0x5215f2(0x25d)]]['forEach'](_0x5b472b=>{const _0x716987=_0x5215f2;_0x594358[_0x716987(0x17c)](xunitTest,_0x5b472b,_0x592e98);});}),_0x594358[_0x469f92(0x241)](xunitWrite,_0x594358['eNPXV']);if(_0x3b4e23[_0x469f92(0x17b)])try{logger[_0x469f92(0x198)](_0x594358[_0x469f92(0x1dd)],_0x3b4e23[_0x469f92(0x17b)]),fs[_0x469f92(0x1b4)](_0x3b4e23[_0x469f92(0x17b)],xunitContent);}catch(_0x58ca79){logger['error'](_0x594358[_0x469f92(0x245)],_0x3b4e23['output']),logger[_0x469f92(0x198)](_0x58ca79);}else logger[_0x469f92(0x198)](_0x594358[_0x469f92(0x179)]),console['log'](xunitContent);}else{if(_0x594358[_0x469f92(0x224)](_0x40cf27,0x0))return;console['log'](),logger[_0x469f92(0x198)](_0x594358['HKoCQ']),console['log'](chalk[_0x469f92(0x192)][_0x469f92(0x244)](_0x594358[_0x469f92(0x182)])),_0x483df4[_0x469f92(0x1ed)](_0x2a6fcb=>{const _0x5a9d7f=_0x469f92,_0x851532=[];_0x7594d3[_0x2a6fcb][_0x594358[_0x5a9d7f(0x25d)]]['forEach'](_0x11d748=>{const _0x2c6980=_0x5a9d7f;_0x594358[_0x2c6980(0x1df)](_0x11d748[_0x2c6980(0x1d8)],_0x594358['MVrdM'])&&(_0x11d748[_0x2c6980(0x189)]=()=>_0x11d748[_0x2c6980(0x1b5)],_0x851532['push'](_0x11d748));}),_0x594358[_0x5a9d7f(0x1e0)](_0x851532[_0x5a9d7f(0x181)],0x0)&&(Base['consoleLog'](),Base[_0x5a9d7f(0x20c)](_0x594358[_0x5a9d7f(0x1ca)](_0x36fbcb),chalk[_0x5a9d7f(0x192)][_0x5a9d7f(0x1bc)](_0x2a6fcb)),Base['list'](_0x851532));});}}}async function run(_0xd92390,_0x78c9a3){const _0x4b3642=a28_0x3496e9,_0x52b0d0={'WZrkT':function(_0x266efc,_0x244aea,_0x45923b,_0x5be682){return _0x266efc(_0x244aea,_0x45923b,_0x5be682);},'NVoGB':_0x4b3642(0x1b1),'AjRFT':_0x4b3642(0x206),'rMIoH':'SDKTestSuccessful','ytqBR':_0x4b3642(0x178),'QDWna':_0x4b3642(0x24a),'KQJvb':'--disable-browserstack-automation','CSwZO':function(_0xe29795,_0x4077fa){return _0xe29795!=_0x4077fa;},'qdMrU':'cjs','ZIDJC':_0x4b3642(0x1fe),'awubt':_0x4b3642(0x1c2),'SbPhT':_0x4b3642(0x16d),'dqZPM':function(_0x2d9f33,_0x3a665b){return _0x2d9f33(_0x3a665b);},'spcrl':function(_0x14be2c,_0x213423,_0x345ee3){return _0x14be2c(_0x213423,_0x345ee3);},'ZGKEt':_0x4b3642(0x19c),'pobYE':_0x4b3642(0x213),'dqGin':'Now,\x20showing\x20logs\x20from\x20mocha','iQwhl':function(_0x5294c3,_0x2cf814,_0x240a7b,_0x2f278a){return _0x5294c3(_0x2cf814,_0x240a7b,_0x2f278a);},'tKwei':function(_0x429deb,_0x536d4b){return _0x429deb*_0x536d4b;},'NRhPc':function(_0x4e314e,_0x5dadcc){return _0x4e314e(_0x5dadcc);},'GXLXL':function(_0x5a9e42,_0x17a6a1){return _0x5a9e42!==_0x17a6a1;}};process[_0x4b3642(0x24e)][_0x4b3642(0x1a6)](_0x52b0d0[_0x4b3642(0x226)])&&(process[_0x4b3642(0x23d)][_0x4b3642(0x22a)]=![]);process[_0x4b3642(0x24e)]['includes'](_0x52b0d0[_0x4b3642(0x172)])&&(process[_0x4b3642(0x23d)][_0x4b3642(0x251)]=![]);const _0x11a9b5=new BrowserStackSetup(_0xd92390,_0x52b0d0[_0x4b3642(0x1c3)]);helper[_0x4b3642(0x1da)](_0x11a9b5[_0x4b3642(0x1b8)],_0xd92390);helper[_0x4b3642(0x194)]()?(await _0x11a9b5['initialize'](),await helper[_0x4b3642(0x1ba)](_0x11a9b5[_0x4b3642(0x19d)])):await _0x11a9b5[_0x4b3642(0x1a3)]();const _0x5da661=[];let _0x5ac55c=[];if(!_0x11a9b5['config'])return;_0x52b0d0['CSwZO'](_0x11a9b5[_0x4b3642(0x19d)][_0x4b3642(0x1ae)],null)&&(process['env']['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x11a9b5[_0x4b3642(0x19d)][_0x4b3642(0x1ae)]);!helper['isUndefined'](_0x11a9b5[_0x4b3642(0x19d)][_0x4b3642(0x1ee)])&&(process[_0x4b3642(0x23d)][_0x4b3642(0x197)]=_0x11a9b5[_0x4b3642(0x19d)][_0x4b3642(0x1ee)]);!helper['isUndefined'](_0x11a9b5[_0x4b3642(0x19d)][_0x4b3642(0x16b)])&&(process[_0x4b3642(0x23d)][_0x4b3642(0x1c0)]=JSON['stringify'](_0x11a9b5[_0x4b3642(0x19d)][_0x4b3642(0x16b)]));const {extension:extension=['js',_0x52b0d0['qdMrU'],_0x52b0d0[_0x4b3642(0x16e)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x52b0d0[_0x4b3642(0x1ff)]]}=_0xd92390,_0x58f0ab={..._0xd92390};_0x58f0ab[_0x4b3642(0x1f0)]=null;const _0x5cb762=_0x58f0ab;let _0x4db08e;if(testOpsHelper['isTestObservabilitySession']()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0x44a415=process[_0x4b3642(0x23d)]['BROWSERSTACK_RERUN_TESTS'];!helper[_0x4b3642(0x1eb)](_0x11a9b5[_0x4b3642(0x1e7)])&&_0x11a9b5['cliConfig']['has'](_0x52b0d0['SbPhT'])&&(_0x44a415=_0x11a9b5['cliConfig'][_0x4b3642(0x1ab)](_0x52b0d0['SbPhT'])),_0x4db08e=testOpsHelper[_0x4b3642(0x24d)](_0x44a415);}if(helper[_0x4b3642(0x1eb)](_0x4db08e)){const _0x52eaa9={};_0x52eaa9[_0x4b3642(0x207)]=ignore,_0x52eaa9['extension']=extension,_0x52eaa9[_0x4b3642(0x212)]=file,_0x52eaa9[_0x4b3642(0x195)]=recursive,_0x52eaa9[_0x4b3642(0x17f)]=sort,_0x52eaa9[_0x4b3642(0x1ad)]=spec,_0x4db08e=_0x52b0d0[_0x4b3642(0x1c7)](collectFiles,_0x52eaa9),_0x52b0d0[_0x4b3642(0x1bf)](nestedKeyValue,_0x4db08e,[_0x52b0d0['ZGKEt']])&&(_0x4db08e=_0x4db08e[_0x4b3642(0x19c)]);}if(!helper['isBrowserstackInfra']()){const _0x2eb52a=0x1,_0x11b2c4={..._0x5cb762};_0x11b2c4[_0x4b3642(0x1ad)]=[..._0x4db08e],_0x5da661[_0x4b3642(0x227)]({'mochaOpts':_0x11b2c4,'configuration':{'platform':os[_0x4b3642(0x204)]()}}),logger['info'](_0x52b0d0[_0x4b3642(0x22b)]),logger['info'](_0x52b0d0['dqGin']),_0x52b0d0['iQwhl'](parallelTestRun,_0x5da661,_0x2eb52a,_0x11a9b5)[_0x4b3642(0x186)](_0x1a7d1a=>{const _0x5da2f8=_0x4b3642;PerformanceTester['start'](PerformanceEvents[_0x5da2f8(0x1d5)]),_0x52b0d0[_0x5da2f8(0x230)](printStats,_0x1a7d1a,_0xd92390['reporter'],_0xd92390[_0x5da2f8(0x243)]||_0xd92390[_0x52b0d0[_0x5da2f8(0x1f6)]]);})[_0x4b3642(0x246)](()=>{const _0x4aef61=_0x4b3642;PerformanceTester[_0x4aef61(0x1a8)](PerformanceEvents[_0x4aef61(0x1d5)]);try{const {browserstackFolderPath:_0x47e49b,tcgConfigPath:_0x2b8162}=helper[_0x4aef61(0x1be)]();fs[_0x4aef61(0x20f)](_0x2b8162),fs['rmdirSync'](_0x47e49b);}catch(_0x54976f){logger[_0x4aef61(0x198)](_0x52b0d0[_0x4aef61(0x17a)],_0x54976f);}try{utilities[_0x4aef61(0x23f)](_0x52b0d0[_0x4aef61(0x210)],{},_0x11a9b5[_0x4aef61(0x19d)],_0x11a9b5[_0x4aef61(0x1b8)]);}catch(_0x262f05){logger[_0x4aef61(0x198)](_0x4aef61(0x214)+_0x262f05[_0x4aef61(0x219)]);}try{helper[_0x4aef61(0x180)]();}catch(_0x5b4100){logger[_0x4aef61(0x198)](_0x4aef61(0x22f)+_0x5b4100);}testOpsHelper[_0x4aef61(0x22c)]();});}else{const _0xf67f21=helper[_0x4b3642(0x247)](_0x11a9b5[_0x4b3642(0x19d)]);let _0x3456a1=helper[_0x4b3642(0x257)](_0x11a9b5[_0x4b3642(0x19d)]);_0x5ac55c=helper[_0x4b3642(0x25c)](_0x11a9b5[_0x4b3642(0x19d)],_0xf67f21,constants['FRAMEWORKS']['MOCHA']);process['env'][_0x4b3642(0x1dc)]&&(_0x3456a1=centralScannerConstants['BROWSERSTACK_GRR_US_HUB_URL']);let _0x2d37a5;const _0x5f390d=_0x11a9b5[_0x4b3642(0x19d)]['parallelsPerPlatform']||helper[_0x4b3642(0x174)](_0xd92390,_0x78c9a3,_0x11a9b5[_0x4b3642(0x19d)],constants[_0x4b3642(0x200)][_0x4b3642(0x1b6)])||0x1;helper['validPlatformsPresent'](_0x11a9b5[_0x4b3642(0x19d)])?_0x2d37a5=_0x52b0d0[_0x4b3642(0x18f)](_0x11a9b5['config'][_0x4b3642(0x190)]['length'],_0x5f390d):_0x2d37a5=_0x5f390d;const _0x3b284f=_0x52b0d0[_0x4b3642(0x22e)](getPercyOptions,_0x11a9b5[_0x4b3642(0x19d)]);if(_0x52b0d0['GXLXL'](_0x11a9b5[_0x4b3642(0x19d)][_0x4b3642(0x1f5)],0x1))_0x4db08e['forEach'](_0x39cbc7=>{const _0xae6aef=_0x4b3642,_0x120e6d=[];_0x5ac55c[_0xae6aef(0x1ed)]((_0x2d65fc,_0x13875e)=>{const _0x1c19c1=_0xae6aef,_0x3d057e={};_0x3d057e[_0x1c19c1(0x1ad)]=[_0x39cbc7],_0x120e6d[_0x1c19c1(0x227)]({'mochaOpts':Object[_0x1c19c1(0x21e)]({},_0x5cb762,_0x3d057e),'configuration':{'server':_0x3456a1,'capability':_0x2d65fc,'proxySettings':_0x11a9b5[_0x1c19c1(0x19d)][_0x1c19c1(0x232)],'platform':helper[_0x1c19c1(0x183)](_0x2d65fc),'browserStackLogLevel':_0x11a9b5[_0x1c19c1(0x19d)][_0x1c19c1(0x18d)],'platformIndex':_0x13875e,'browserStackPercyOptions':_0x3b284f,'platformCaps':Object[_0x1c19c1(0x21e)]({'index':_0x13875e},_0x11a9b5[_0x1c19c1(0x19d)][_0x1c19c1(0x190)][_0x13875e])}});}),_0x5da661[_0xae6aef(0x227)](..._0x120e6d);});else{const _0x5490d2=[];_0x5ac55c['forEach']((_0x2eab4d,_0x90643f)=>{const _0x24fae6=_0x4b3642;let _0x1039bf=Object['assign']({},_0x5cb762);testOpsHelper['isTestObservabilitySession']()&&testOpsHelper[_0x24fae6(0x188)]()&&(_0x1039bf={..._0x1039bf,'spec':[..._0x4db08e]}),_0x5490d2[_0x24fae6(0x227)]({'mochaOpts':_0x1039bf,'configuration':{'server':_0x3456a1,'capability':_0x2eab4d,'proxySettings':_0x11a9b5[_0x24fae6(0x19d)][_0x24fae6(0x232)],'platform':helper[_0x24fae6(0x183)](_0x2eab4d),'browserStackLogLevel':_0x11a9b5[_0x24fae6(0x19d)][_0x24fae6(0x18d)],'platformIndex':_0x90643f,'browserStackPercyOptions':_0x3b284f,'platformCaps':Object[_0x24fae6(0x21e)]({'index':_0x90643f},_0x11a9b5[_0x24fae6(0x19d)][_0x24fae6(0x190)][_0x90643f])}});}),_0x5da661[_0x4b3642(0x227)](..._0x5490d2);}logger[_0x4b3642(0x18e)](_0x4b3642(0x222)+_0x11a9b5['config'][_0x4b3642(0x190)][_0x4b3642(0x181)]+'\x20platforms'),logger['info'](_0x52b0d0[_0x4b3642(0x1fb)]);let _0x4d4ca3;_0x52b0d0['WZrkT'](parallelTestRun,_0x5da661,_0x2d37a5,_0x11a9b5)[_0x4b3642(0x186)](_0x4026fb=>{const _0x5b6343=_0x4b3642;PerformanceTester[_0x5b6343(0x1a8)](PerformanceEvents[_0x5b6343(0x1d5)]),_0x4d4ca3=_0x4026fb,_0x52b0d0[_0x5b6343(0x230)](printStats,_0x4026fb,_0xd92390[_0x5b6343(0x21a)],_0xd92390[_0x5b6343(0x243)]||_0xd92390[_0x52b0d0[_0x5b6343(0x1f6)]]);})[_0x4b3642(0x246)](async()=>{const _0xca105b=_0x4b3642;PerformanceTester[_0xca105b(0x1a8)](PerformanceEvents[_0xca105b(0x1d5)]),_0x11a9b5[_0xca105b(0x1f4)]=helper[_0xca105b(0x21b)](_0x4d4ca3,_0x52b0d0[_0xca105b(0x1c3)]),await utilities[_0xca105b(0x1de)](_0x11a9b5),testOpsHelper['printBuildLink']();});}}module[a28_0x3496e9(0x1ac)]=run;