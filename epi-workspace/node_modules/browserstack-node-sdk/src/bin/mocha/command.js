#!/usr/bin/env node
'use strict';const a31_0xddc9cf=a31_0x2d17;(function(_0xcfb848,_0x26a97e){const _0x30eab2=a31_0x2d17,_0x54760e=_0xcfb848();while(!![]){try{const _0x34b4f2=-parseInt(_0x30eab2(0x180))/0x1*(parseInt(_0x30eab2(0x187))/0x2)+-parseInt(_0x30eab2(0x13c))/0x3*(-parseInt(_0x30eab2(0x1ad))/0x4)+parseInt(_0x30eab2(0x14e))/0x5*(-parseInt(_0x30eab2(0x121))/0x6)+-parseInt(_0x30eab2(0x150))/0x7+-parseInt(_0x30eab2(0x13f))/0x8+parseInt(_0x30eab2(0x1a6))/0x9+-parseInt(_0x30eab2(0x12c))/0xa*(-parseInt(_0x30eab2(0xb2))/0xb);if(_0x34b4f2===_0x26a97e)break;else _0x54760e['push'](_0x54760e['shift']());}catch(_0xd6de2e){_0x54760e['push'](_0x54760e['shift']());}}}(a31_0x57bc,0xc4bcb));const chalk=require(a31_0xddc9cf(0xeb)),logger=require(a31_0xddc9cf(0x155))['winstonLogger'],helper=require(a31_0xddc9cf(0x19b)),utilities=require(a31_0xddc9cf(0x15e)),testOpsHelper=require(a31_0xddc9cf(0x1a4)),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a31_0xddc9cf(0x110)),{requireModule,nestedKeyValue}=require('../../helpers/helper'),{getPercyOptions}=require('../../helpers/percy/utils'),Base=requireModule(a31_0xddc9cf(0x11c),a31_0xddc9cf(0x191)),collectFiles=requireModule(a31_0xddc9cf(0xd2),a31_0xddc9cf(0x191)),constants=require(a31_0xddc9cf(0x11e)),PerformanceTester=require(a31_0xddc9cf(0x14d)),PerformanceEvents=require('../../helpers/performance/constants')['EVENTS'],centralScannerConstants=require(a31_0xddc9cf(0x199)),{FRAMEWORKS}=require(a31_0xddc9cf(0x153)),TestHubHandler=require(a31_0xddc9cf(0x167));function tag(_0x5ef9e6,_0x59ae50,_0x413b5d,_0x4b36f4){const _0x2302c2=a31_0xddc9cf,_0x2c3de0={'rQhmE':function(_0x189afb,_0x5efd8a){return _0x189afb+_0x5efd8a;},'flRQx':function(_0x1e6cb5,_0x298a12){return _0x1e6cb5+_0x298a12;},'qGUac':function(_0x188d21,_0x45a000){return _0x188d21(_0x45a000);},'EVUVG':function(_0x3a17c6,_0x7befac){return _0x3a17c6+_0x7befac;},'VUCWk':function(_0x510558,_0x3a7551){return _0x510558+_0x3a7551;},'SVjEW':function(_0x45d378,_0x1559a4){return _0x45d378+_0x1559a4;},'wpbMi':function(_0x516d7c,_0x930c70){return _0x516d7c+_0x930c70;}},_0x2e37bb=_0x413b5d?'/>':'>',_0x55c0dc=[];let _0x64578d;for(const _0x39ba53 in _0x59ae50){Object[_0x2302c2(0xda)][_0x2302c2(0x195)][_0x2302c2(0xac)](_0x59ae50,_0x39ba53)&&_0x55c0dc['push'](_0x2c3de0[_0x2302c2(0xe3)](_0x2c3de0[_0x2302c2(0xfc)](_0x2c3de0[_0x2302c2(0xfc)](_0x39ba53,'=\x22'),_0x2c3de0[_0x2302c2(0xef)](escape,_0x59ae50[_0x39ba53])),'\x22'));}return _0x64578d=_0x2c3de0[_0x2302c2(0xe3)](_0x2c3de0[_0x2302c2(0x128)](_0x2c3de0[_0x2302c2(0xad)]('<',_0x5ef9e6),_0x55c0dc[_0x2302c2(0x105)]?_0x2c3de0['flRQx']('\x20',_0x55c0dc[_0x2302c2(0x186)]('\x20')):''),_0x2e37bb),_0x4b36f4&&(_0x64578d+=_0x2c3de0['SVjEW'](_0x2c3de0[_0x2302c2(0x128)](_0x2c3de0[_0x2302c2(0x116)](_0x4b36f4,'</'),_0x5ef9e6),_0x2e37bb)),_0x64578d;}let xunitContent='';function xunitWrite(_0x264529){xunitContent+=_0x264529;}function xunitTest(_0x437bbd,_0xd35f60){const _0x2b69e0=a31_0xddc9cf,_0x2007d4={'wQUDX':function(_0x184064,_0x365f2f){return _0x184064/_0x365f2f;},'GuYaV':function(_0x55cc39,_0x6b1295){return _0x55cc39===_0x6b1295;},'bqCRE':_0x2b69e0(0xd4),'pmFWM':function(_0x5b1ce6,_0x3864f5){return _0x5b1ce6+_0x3864f5;},'RqfMe':function(_0x2154ec,_0x2fe231){return _0x2154ec(_0x2fe231);},'VrANo':function(_0x56769a,_0x44b5c5,_0x2261e1,_0xcf9de4,_0x19ebc1){return _0x56769a(_0x44b5c5,_0x2261e1,_0xcf9de4,_0x19ebc1);},'LtDRW':_0x2b69e0(0x106),'eZQZB':'failure','SqsGj':function(_0x28ad5e,_0x582c1b){return _0x28ad5e(_0x582c1b);},'qrrsl':function(_0x525c3d,_0x10e9de){return _0x525c3d(_0x10e9de);},'RHFgo':function(_0x111881,_0x3c955b,_0x4089c2,_0x156a56){return _0x111881(_0x3c955b,_0x4089c2,_0x156a56);},'HBTMQ':_0x2b69e0(0x1a9),'THETO':function(_0x56b235,_0x201fa6){return _0x56b235(_0x201fa6);},'ZkVTD':function(_0x533196,_0x8e3f14,_0x307dfb,_0x22305a){return _0x533196(_0x8e3f14,_0x307dfb,_0x22305a);}};Base[_0x2b69e0(0xe0)]=![];var _0xd4c707={'classname':_0x437bbd['fullTitle'],'name':_0x437bbd[_0x2b69e0(0xc7)],'time':_0x2007d4['wQUDX'](_0x437bbd['duration'],0x3e8)||0x0,'platform':_0xd35f60};if(_0x2007d4[_0x2b69e0(0x1b3)](_0x437bbd[_0x2b69e0(0xb9)],_0x2007d4[_0x2b69e0(0x185)])){var _0x1728ac=_0x437bbd[_0x2b69e0(0xde)],_0x181ade=!Base['hideDiff']&&Base[_0x2b69e0(0x12b)](_0x1728ac)?_0x2007d4['pmFWM']('\x0a',Base['generateDiff'](_0x1728ac[_0x2b69e0(0x14a)],_0x1728ac[_0x2b69e0(0x181)])):'';_0x2007d4[_0x2b69e0(0x15f)](xunitWrite,_0x2007d4[_0x2b69e0(0x134)](tag,_0x2007d4[_0x2b69e0(0xdb)],_0xd4c707,![],_0x2007d4[_0x2b69e0(0x134)](tag,_0x2007d4[_0x2b69e0(0x13d)],{},![],_0x2007d4['pmFWM'](_0x2007d4[_0x2b69e0(0x174)](_0x2007d4[_0x2b69e0(0x174)](_0x2007d4[_0x2b69e0(0x15f)](escape,_0x1728ac[_0x2b69e0(0xd5)]),_0x2007d4[_0x2b69e0(0xf4)](escape,_0x181ade)),'\x0a'),_0x2007d4[_0x2b69e0(0xae)](escape,_0x1728ac[_0x2b69e0(0x159)])))));}else _0x437bbd[_0x2b69e0(0x183)]?_0x2007d4[_0x2b69e0(0x15f)](xunitWrite,_0x2007d4[_0x2b69e0(0x134)](tag,_0x2007d4[_0x2b69e0(0xdb)],_0xd4c707,![],_0x2007d4[_0x2b69e0(0xfb)](tag,_0x2007d4['HBTMQ'],{},!![]))):_0x2007d4[_0x2b69e0(0xf1)](xunitWrite,_0x2007d4['ZkVTD'](tag,_0x2007d4['LtDRW'],_0xd4c707,!![]));};function getStats(_0x21a35f){const _0x437507=a31_0xddc9cf,_0x28e350={};_0x28e350[_0x437507(0xc6)]=_0x437507(0x14b),_0x28e350[_0x437507(0xa9)]=_0x437507(0x143),_0x28e350['kuMCW']='failed',_0x28e350[_0x437507(0x130)]='results';const _0x384b01=_0x28e350,_0x19a7ba=Object['keys'](_0x21a35f);let _0x5404f7=0x0,_0x58e4c2=0x0,_0x424ddf=0x0,_0x210cf3=0x0;const _0x33ae99=new Set();_0x19a7ba['forEach'](_0x357d82=>{const _0x3b6530=_0x437507;_0x21a35f[_0x357d82][_0x384b01[_0x3b6530(0x130)]][_0x3b6530(0x17b)](_0x1f3734=>{const _0x1dbecd=_0x3b6530;_0x33ae99[_0x1dbecd(0xdc)](_0x1f3734[_0x384b01[_0x1dbecd(0xc6)]]),_0x5404f7++;switch(_0x1f3734['state']){case _0x384b01[_0x1dbecd(0xa9)]:_0x424ddf++;break;case _0x384b01[_0x1dbecd(0x172)]:_0x58e4c2++;break;default:_0x210cf3++;}});});const _0x29b2ef={};return _0x29b2ef[_0x437507(0xf8)]=_0x33ae99[_0x437507(0x19f)],_0x29b2ef[_0x437507(0x103)]=_0x19a7ba,_0x29b2ef[_0x437507(0x11f)]=_0x5404f7,_0x29b2ef[_0x437507(0x160)]=_0x58e4c2,_0x29b2ef['testsPassed']=_0x424ddf,_0x29b2ef[_0x437507(0x15a)]=_0x210cf3,_0x29b2ef;}function errorJSON(_0x2edd43){const _0x4b3141=a31_0xddc9cf;var _0x5c3cf7={};return Object[_0x4b3141(0x151)](_0x2edd43)[_0x4b3141(0x17b)](function(_0x364fb8){_0x5c3cf7[_0x364fb8]=_0x2edd43[_0x364fb8];},_0x2edd43),_0x5c3cf7;}function cleanCycles(_0x515256){const _0x581218=a31_0xddc9cf,_0x12bc9e={};_0x12bc9e[_0x581218(0x168)]=function(_0x2d71fa,_0x271e07){return _0x2d71fa===_0x271e07;},_0x12bc9e[_0x581218(0x170)]=_0x581218(0x123),_0x12bc9e['hjepK']=function(_0x341a51,_0x33833d){return _0x341a51!==_0x33833d;},_0x12bc9e[_0x581218(0xd7)]=function(_0x5db345,_0x46225d){return _0x5db345!==_0x46225d;},_0x12bc9e[_0x581218(0x182)]=function(_0x3fb74f,_0x4db040){return _0x3fb74f+_0x4db040;};const _0x388a12=_0x12bc9e;var _0x714388=[];return JSON[_0x581218(0x100)](JSON[_0x581218(0xcf)](_0x515256,function(_0x113d8f,_0x5b8d5e){const _0x1cd17b=_0x581218;if(_0x388a12[_0x1cd17b(0x168)](typeof _0x5b8d5e,_0x388a12[_0x1cd17b(0x170)])&&_0x388a12['hjepK'](_0x5b8d5e,null)){if(_0x388a12['JEQjb'](_0x714388[_0x1cd17b(0x15c)](_0x5b8d5e),-0x1))return _0x388a12[_0x1cd17b(0x182)]('',_0x5b8d5e);_0x714388[_0x1cd17b(0x120)](_0x5b8d5e);}return _0x5b8d5e;}));}function clean(_0x21cda8){const _0x27991c=a31_0xddc9cf,_0x2e58f8={'pastv':function(_0x1328e5,_0x470c16){return _0x1328e5 instanceof _0x470c16;},'DRpMT':function(_0x3427b6,_0x1705f0){return _0x3427b6(_0x1705f0);}};var _0x2043d3=_0x21cda8[_0x27991c(0xde)]||{};return _0x2e58f8[_0x27991c(0x148)](_0x2043d3,Error)&&(_0x2043d3=_0x2e58f8['DRpMT'](errorJSON,_0x2043d3)),{'title':_0x21cda8[_0x27991c(0xc7)],'fullTitle':_0x21cda8[_0x27991c(0xb0)],'file':_0x21cda8[_0x27991c(0x18f)],'duration':_0x21cda8[_0x27991c(0x15b)],'currentRetry':_0x21cda8['currentRetry'],'speed':_0x21cda8[_0x27991c(0x197)],'err':_0x2e58f8[_0x27991c(0x1a1)](cleanCycles,_0x2043d3)};}function a31_0x57bc(){const _0xcd4edc=['\x20platforms','aSWIx','title','consoleLog','getCentralUser','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','mjs','HoQuP','\x0a\x0a\x0a','Running\x20your\x20mocha\x20tests','stringify','Now,\x20showing\x20logs\x20from\x20mocha','stats','mocha/lib/cli/collect-files.js','XgBAU','failed','message','XkBKb','JEQjb','OVmWq','log','prototype','LtDRW','add','bold','err','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','useColors','dhneg','</testsuite>','rQhmE','yellow','finally','MCwWV','failures','unlinkSync','has','bgRedBright','chalk','getPlatformName','Mocha\x20Tests','gGrUd','qGUac','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','THETO','errorMessage','****\x20FAILURES\x20****','SqsGj','ualkn','testObservability','yTGsj','testSuites','rmdirSync','debug','RHFgo','flRQx','SpYlD','BROWSERSTACK_TEST_OBSERVABILITY_YML','proxySettings','parse','Setting\x20non\x20exit\x20code\x20for\x20failures','map','platforms','AetIi','length','testcase','SDKTestSuccessful','error','rTUkw','isBrowserstackInfra','sort','isTestObservabilitySession','Total\x20Suites:\x20','retryTestsOnFailure','AwhhN','../test-runner','retries','capability','spec','isEmpty','maxRetries','wpbMi','Tests:\x20\x20\x20\x20\x20\x20\x20','central_scanner','Running\x20your\x20mocha\x20tests\x20across\x20','getErrorMessageFromResults','handleApp','mocha/lib/reporters/base.js','sibUD','../utils/constants','totalTests','push','42DYKNaZ','BROWSERSTACK_TEST_ACCESSIBILITY_YML','object','configuration','XktfO','nmHdV','useW3C','EVUVG','FAWSy','titlePath','showDiff','2600vczBWU','notifyUpdate','setupTCGAuth','bgBlueBright','OZukh','accessibilityOptions','PqKTC','xcZdr','VrANo','XBayT','WeKaI','zBjKC','json','tQgBm','zKkyy','bstack:options','11757DZdgll','eZQZB','launchBuild','9525592sJHqxn','fDHaf','Couldn\x27t\x20write\x20xunit\x20result\x20to','gQVtH','passed','getHubUrl','pgcza','QcZEf','testsPassed','pastv','kjoBZ','actual','suite','titlePathV','../../helpers/performance/performance-tester','286230mIGzLD','YgqBK','10408174AbbRxN','getOwnPropertyNames','FRAMEWORKS','../../helpers/test-observability/constants','\x20passed','../../helpers/logger','noDhJ','assign','isNotUndefined','stack','testsPending','duration','indexOf','excludeTagsInTestingScope','../../helpers/utilities','RqfMe','testsFailed','logLevel','ZNypH','amokX','validPlatformsPresent','SDK_CLEANUP','parallelsPerPlatform','../../helpers/testhub/testhubHandler','VUKBz','prepareCapabilities','XrfzJ','then','BROWSERSTACK_RERUN_TESTS','iimHc','files','extension','baFHF','JIRsH','kuMCW','accessibility','pmFWM','getTCGConfigFilePaths','xAqZy','results','yTXCl','LVSlS','suiteName','forEach','test','output','getUserWorkerCount','tgXMM','753TiZpIv','expected','iiweM','isPending','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','bqCRE','join','78aGGzxl','VmyCf','doc','printBuildLink','rerunTests','list','MOCHA','framework','file','WxFXN','mocha','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','PKLOP','green','hasOwnProperty','Printing\x20stats\x20of\x20tests','speed','JxvpR','../../helpers/central-scanner/constants','config','../../helpers/helper','reporterOptions','toUTCString','reporter-option','size','\x20total','DRpMT','pending','TrwIF','../../helpers/test-observability/utils','jJfSi','6149943odMrdv','BROWSERSTACK_GRR_US_HUB_URL','env','skipped','pclVv','ZdZTv','includeEncodedExtension','808fWywVl','VdAjn','passes','platform','CFnUf','iGDLm','GuYaV','Writing\x20xunit\x20result\x20to\x20file','reporter','start','tZOkO','FzvzK','info','LpAHS','rootHooks','drDOT','call','VUCWk','qrrsl','vBYAc','fullTitle','red','103169rKnYPf','BNeOw','hHxmM','min','wVyPV','cliConfig','wmqRg','state','Couldn\x27t\x20write\x20json\x20result\x20to','cEoXo','FSGFd','finalExecution','GYeec','QAdqn','dXqGv','Writing\x20json\x20result\x20to\x20file','cjs','fireFunnelTestEvent','ADiKc'];a31_0x57bc=function(){return _0xcd4edc;};return a31_0x57bc();}function printStats(_0x346bcf,_0x1c0bfb=a31_0xddc9cf(0x113),_0x4f30d7={}){const _0x2921da=a31_0xddc9cf,_0x1bb53b={'AwhhN':function(_0x3cceee,_0x1df1cc){return _0x3cceee(_0x1df1cc);},'OVmWq':function(_0x134cd5,_0x3d446c){return _0x134cd5===_0x3d446c;},'ZdZTv':_0x2921da(0x143),'yTGsj':_0x2921da(0x1af),'RTnuH':function(_0x3871be,_0x804b65){return _0x3871be(_0x804b65);},'JIRsH':_0x2921da(0xd4),'rTUkw':_0x2921da(0xe7),'ARjqu':_0x2921da(0x1a2),'YgqBK':_0x2921da(0x177),'VvUMz':function(_0x34eec4,_0x309629){return _0x34eec4*_0x309629;},'xAqZy':function(_0x44bfb2,_0x2b11c2,_0x1a0c50){return _0x44bfb2(_0x2b11c2,_0x1a0c50);},'gGrUd':function(_0x3f38df,_0x25f5af){return _0x3f38df>_0x25f5af;},'noDhJ':function(_0x1da42c){return _0x1da42c();},'vBYAc':function(_0x100de4,_0x42d210){return _0x100de4===_0x42d210;},'IJtAN':_0x2921da(0x189),'wmqRg':function(_0x45f66a,_0xf231cf){return _0x45f66a(_0xf231cf);},'XBayT':function(_0x4c12a2,_0x59f324){return _0x4c12a2>_0x59f324;},'hHxmM':_0x2921da(0x101),'MCwWV':_0x2921da(0x196),'pgcza':function(_0x583c87,_0x2bb4ef){return _0x583c87+_0x2bb4ef;},'hKeCo':'Total\x20Platforms:\x20','RRUPN':_0x2921da(0x10d),'yTXCl':function(_0x42cb19,_0x2f814d){return _0x42cb19+_0x2f814d;},'VdAjn':_0x2921da(0x117),'GYeec':function(_0x4ef971,_0x29778a){return _0x4ef971>_0x29778a;},'FAWSy':function(_0x33b712,_0x122c7a){return _0x33b712>_0x122c7a;},'drDOT':function(_0x2f40e6,_0x36c8d8){return _0x2f40e6+_0x36c8d8;},'FfAgA':function(_0x35607c,_0x44d3b2){return _0x35607c+_0x44d3b2;},'VBMhX':function(_0x975494,_0x5b825f){return _0x975494+_0x5b825f;},'WxFXN':_0x2921da(0xcd),'gkLts':function(_0x568f02,_0xcdf3b3){return _0x568f02===_0xcdf3b3;},'gQVtH':_0x2921da(0x138),'dhneg':_0x2921da(0xc1),'XkBKb':_0x2921da(0xba),'mNbQL':_0x2921da(0xdf),'PqKTC':function(_0x257c33,_0x2dfdc1){return _0x257c33===_0x2dfdc1;},'hQvpI':'xunit','bdZPZ':_0x2921da(0xed),'QcZEf':function(_0x30b7cd,_0x3adbd5){return _0x30b7cd||_0x3adbd5;},'LxTzP':function(_0x5624eb,_0x12c959){return _0x5624eb(_0x12c959);},'TrwIF':function(_0x4ea502,_0x55c931,_0x140b52,_0x2d880c){return _0x4ea502(_0x55c931,_0x140b52,_0x2d880c);},'iBUTf':'testsuite','pclVv':function(_0x55d8ba,_0x5c35bc){return _0x55d8ba-_0x5c35bc;},'kjoBZ':function(_0x38f69c,_0xb847b8){return _0x38f69c/_0xb847b8;},'zBjKC':function(_0x4eb753,_0x3fa003){return _0x4eb753(_0x3fa003);},'WeKaI':_0x2921da(0xe2),'wVyPV':_0x2921da(0xa3),'ADiKc':_0x2921da(0x141),'xcZdr':_0x2921da(0xca),'FSGFd':function(_0x34fe81,_0x3c4970){return _0x34fe81===_0x3c4970;},'zKkyy':'Listing\x20all\x20the\x20failures','tZOkO':_0x2921da(0xf3)};if(_0x1bb53b[_0x2921da(0xaf)](_0x1c0bfb,_0x1bb53b['IJtAN']))return;const _0x402fd6=0x0,_0x455d7f=()=>{const _0x46662f=_0x2921da;return _0x1bb53b[_0x46662f(0x10f)](Array,_0x402fd6)[_0x46662f(0x186)]('\x20\x20');},{testSuites:_0x2975ff,platforms:_0x6e585b,totalTests:_0x2ca55f,testsFailed:_0x5cb451,testsPassed:_0x293a04,testsPending:_0x20922f}=_0x1bb53b[_0x2921da(0xb8)](getStats,_0x346bcf);_0x1bb53b[_0x2921da(0x135)](_0x5cb451,0x0)&&(logger['debug'](_0x1bb53b[_0x2921da(0xb4)]),process['exitCode']=Math[_0x2921da(0xb5)](_0x5cb451,0xff));logger[_0x2921da(0xfa)](_0x1bb53b[_0x2921da(0xe6)]);const _0x8f868b=''+_0x1bb53b[_0x2921da(0x145)](chalk['bold'](_0x1bb53b['hKeCo']),_0x6e585b['length']),_0x2fb162=''+_0x1bb53b[_0x2921da(0x145)](chalk[_0x2921da(0xdd)](_0x1bb53b['RRUPN']),_0x2975ff),_0x506480=''+_0x1bb53b[_0x2921da(0x145)](_0x1bb53b[_0x2921da(0x178)](_0x1bb53b[_0x2921da(0x145)](chalk[_0x2921da(0xdd)](_0x1bb53b[_0x2921da(0x1ae)]),_0x1bb53b[_0x2921da(0xbe)](_0x5cb451,0x0)?chalk[_0x2921da(0xdd)][_0x2921da(0xb1)](_0x5cb451+'\x20failed')+',\x20':''),_0x1bb53b[_0x2921da(0x135)](_0x20922f,0x0)?chalk[_0x2921da(0xdd)][_0x2921da(0xe4)](_0x20922f+'\x20skipped')+',\x20':''),_0x1bb53b[_0x2921da(0x129)](_0x293a04,0x0)?chalk['bold'][_0x2921da(0x194)](_0x293a04+_0x2921da(0x154))+',\x20':'')+_0x2ca55f+_0x2921da(0x1a0);console['log'](_0x1bb53b['drDOT'](_0x1bb53b['FfAgA'](_0x1bb53b[_0x2921da(0x145)](_0x1bb53b['VBMhX'](_0x1bb53b[_0x2921da(0xab)](_0x1bb53b[_0x2921da(0x190)],_0x8f868b),'\x0a'),_0x2fb162),'\x0a'),_0x506480));if(_0x1bb53b['gkLts'](_0x1c0bfb,_0x1bb53b[_0x2921da(0x142)])){const _0x5b0c22={},_0x65f1b5={};_0x65f1b5[_0x2921da(0xf8)]=_0x2975ff,_0x65f1b5['platforms']=_0x6e585b,_0x65f1b5[_0x2921da(0x160)]=_0x5cb451,_0x65f1b5[_0x2921da(0x147)]=_0x293a04,_0x65f1b5[_0x2921da(0x15a)]=_0x20922f,_0x5b0c22[_0x2921da(0xd1)]=_0x65f1b5,_0x6e585b['forEach'](_0x31c07f=>{const _0x4424da=_0x2921da,_0x21dc0e={'fDHaf':function(_0x21ddfb,_0x5c4138){const _0x258c60=a31_0x2d17;return _0x1bb53b[_0x258c60(0xd8)](_0x21ddfb,_0x5c4138);},'QAdqn':_0x1bb53b[_0x4424da(0x1ab)],'Yynma':_0x1bb53b[_0x4424da(0xf7)],'dXqGv':function(_0x41ca86,_0x27256b){return _0x1bb53b['RTnuH'](_0x41ca86,_0x27256b);},'XktfO':_0x1bb53b['JIRsH'],'tQgBm':_0x1bb53b[_0x4424da(0x109)],'iimHc':_0x1bb53b['ARjqu'],'BNeOw':function(_0x146abb,_0x4c204d){const _0x17916e=_0x4424da;return _0x1bb53b[_0x17916e(0x10f)](_0x146abb,_0x4c204d);}};_0x5b0c22[_0x31c07f]={'pending':[],'failures':[],'passes':[],'tests':_0x346bcf[_0x31c07f][_0x1bb53b[_0x4424da(0x14f)]][_0x4424da(0x102)](clean)},_0x346bcf[_0x31c07f][_0x1bb53b['YgqBK']]['forEach'](_0x2cd060=>{const _0x35a418=_0x4424da;if(_0x21dc0e[_0x35a418(0x140)](_0x2cd060[_0x35a418(0xb9)],_0x21dc0e[_0x35a418(0xbf)]))_0x5b0c22[_0x31c07f][_0x21dc0e['Yynma']][_0x35a418(0x120)](_0x21dc0e[_0x35a418(0xc0)](clean,_0x2cd060));else _0x21dc0e[_0x35a418(0x140)](_0x2cd060[_0x35a418(0xb9)],_0x21dc0e[_0x35a418(0x125)])?_0x5b0c22[_0x31c07f][_0x21dc0e[_0x35a418(0x139)]]['push'](_0x21dc0e[_0x35a418(0xc0)](clean,_0x2cd060)):_0x5b0c22[_0x31c07f][_0x21dc0e[_0x35a418(0x16d)]][_0x35a418(0x120)](_0x21dc0e[_0x35a418(0xb3)](clean,_0x2cd060));});});if(_0x4f30d7[_0x2921da(0x17d)])try{logger[_0x2921da(0xfa)](_0x1bb53b[_0x2921da(0xe1)],_0x4f30d7[_0x2921da(0x17d)]),fs['writeFileSync'](_0x4f30d7[_0x2921da(0x17d)],JSON[_0x2921da(0xcf)](_0x5b0c22,null,0x3));}catch(_0x55c869){logger[_0x2921da(0x108)](_0x1bb53b[_0x2921da(0xd6)],_0x4f30d7[_0x2921da(0x17d)]),logger[_0x2921da(0xfa)](_0x55c869);}else logger['debug'](_0x1bb53b['mNbQL']),console[_0x2921da(0xd9)](JSON[_0x2921da(0xcf)](_0x5b0c22,null,0x3));}else{if(_0x1bb53b[_0x2921da(0x132)](_0x1c0bfb,_0x1bb53b['hQvpI'])){let _0x450adb;const _0x4cd770=_0x1bb53b['bdZPZ'];_0x4f30d7&&(_0x450adb=_0x4f30d7[_0x2921da(0x17a)]);_0x450adb=_0x1bb53b[_0x2921da(0x146)](_0x450adb,_0x4cd770);let _0x29c2c1=0x0,_0x58febf=0x0,_0xb96303=0x0,_0x44f7fe=0x0;_0x6e585b[_0x2921da(0x17b)](_0x5c57a2=>{const _0x2d1264=_0x2921da,_0x331a92={'ZNypH':function(_0x2ee50a,_0x152695){const _0x5cc1ef=a31_0x2d17;return _0x1bb53b[_0x5cc1ef(0xd8)](_0x2ee50a,_0x152695);},'VmyCf':_0x1bb53b[_0x2d1264(0x1ab)],'VseKc':_0x1bb53b[_0x2d1264(0x171)],'amokX':function(_0x34013b,_0x595272){return _0x1bb53b['VvUMz'](_0x34013b,_0x595272);}};_0x346bcf[_0x5c57a2][_0x1bb53b[_0x2d1264(0x14f)]][_0x2d1264(0x17b)](_0x5b4cdf=>{const _0x257667=_0x2d1264;if(_0x331a92[_0x257667(0x162)](_0x5b4cdf[_0x257667(0xb9)],_0x331a92[_0x257667(0x188)]))_0x29c2c1++;else _0x331a92[_0x257667(0x162)](_0x5b4cdf[_0x257667(0xb9)],_0x331a92['VseKc'])&&_0x58febf++;_0xb96303++,_0x44f7fe+=_0x331a92[_0x257667(0x163)](_0x5b4cdf['duration'],0x1);});}),_0x1bb53b['LxTzP'](xunitWrite,_0x1bb53b[_0x2921da(0x1a3)](tag,_0x1bb53b['iBUTf'],{'name':_0x450adb,'tests':_0xb96303,'failures':0x0,'errors':_0x58febf,'skipped':_0x1bb53b[_0x2921da(0x1aa)](_0x1bb53b[_0x2921da(0x1aa)](_0xb96303,_0x58febf),_0x29c2c1),'timestamp':new Date()[_0x2921da(0x19d)](),'time':_0x1bb53b[_0x2921da(0x149)](_0x44f7fe,0x3e8)||0x0},![])),_0x6e585b[_0x2921da(0x17b)](_0x2e78c6=>{const _0x177c9c=_0x2921da,_0x148175={'FzvzK':function(_0x545298,_0x2adfb7,_0x59aa37){const _0x41ee5b=a31_0x2d17;return _0x1bb53b[_0x41ee5b(0x176)](_0x545298,_0x2adfb7,_0x59aa37);}};_0x346bcf[_0x2e78c6][_0x1bb53b['YgqBK']][_0x177c9c(0x17b)](_0x1cb0f0=>{const _0x59f9e0=_0x177c9c;_0x148175[_0x59f9e0(0xa7)](xunitTest,_0x1cb0f0,_0x2e78c6);});}),_0x1bb53b[_0x2921da(0x137)](xunitWrite,_0x1bb53b[_0x2921da(0x136)]);if(_0x4f30d7[_0x2921da(0x17d)])try{logger['debug'](_0x1bb53b[_0x2921da(0xb6)],_0x4f30d7[_0x2921da(0x17d)]),fs['writeFileSync'](_0x4f30d7['output'],xunitContent);}catch(_0x32ad7b){logger[_0x2921da(0x108)](_0x1bb53b[_0x2921da(0xc4)],_0x4f30d7['output']),logger[_0x2921da(0xfa)](_0x32ad7b);}else logger['debug'](_0x1bb53b[_0x2921da(0x133)]),console[_0x2921da(0xd9)](xunitContent);}else{if(_0x1bb53b[_0x2921da(0xbc)](_0x5cb451,0x0))return;console['log'](),logger[_0x2921da(0xfa)](_0x1bb53b[_0x2921da(0x13a)]),console[_0x2921da(0xd9)](chalk['bold'][_0x2921da(0xea)](_0x1bb53b[_0x2921da(0xa6)])),_0x6e585b[_0x2921da(0x17b)](_0x2fe978=>{const _0x54a535=_0x2921da,_0x14efce=[];_0x346bcf[_0x2fe978][_0x1bb53b['YgqBK']][_0x54a535(0x17b)](_0x2c95d0=>{const _0x4a19c1=_0x54a535;_0x1bb53b[_0x4a19c1(0xd8)](_0x2c95d0[_0x4a19c1(0xb9)],_0x1bb53b[_0x4a19c1(0x171)])&&(_0x2c95d0[_0x4a19c1(0x12a)]=()=>_0x2c95d0[_0x4a19c1(0x14c)],_0x14efce['push'](_0x2c95d0));}),_0x1bb53b[_0x54a535(0xee)](_0x14efce['length'],0x0)&&(Base[_0x54a535(0xc8)](),Base[_0x54a535(0xc8)](_0x1bb53b[_0x54a535(0x156)](_0x455d7f),chalk[_0x54a535(0xdd)][_0x54a535(0x12f)](_0x2fe978)),Base[_0x54a535(0x18c)](_0x14efce));});}}}async function run(_0x30f49c,_0xc3fed1,_0x3dd27f){const _0x483e28=a31_0xddc9cf,_0x392f1f={'CFnUf':function(_0x2054b8,_0x10a8b0,_0x20c3c8,_0x31318d){return _0x2054b8(_0x10a8b0,_0x20c3c8,_0x31318d);},'PKLOP':_0x483e28(0x19e),'btRaq':'error\x20removing\x20tcg\x20config\x20file','XgBAU':_0x483e28(0x107),'iGDLm':_0x483e28(0x191),'MaMNp':function(_0x48d695,_0x2d8e25){return _0x48d695!=_0x2d8e25;},'JxvpR':_0x483e28(0xc2),'cEoXo':_0x483e28(0xcb),'CUnXh':_0x483e28(0x17c),'jJfSi':_0x483e28(0x18b),'SpYlD':function(_0xeb398b,_0x42a725){return _0xeb398b(_0x42a725);},'nmHdV':function(_0x4ca944,_0x39dcef,_0x57d3e6){return _0x4ca944(_0x39dcef,_0x57d3e6);},'LVSlS':_0x483e28(0x16e),'XrfzJ':function(_0x49a2ae,_0x3a1732){return _0x49a2ae!=_0x3a1732;},'AetIi':'includeTagsInTestingScope','vJMrX':_0x483e28(0x15d),'BbbMf':_0x483e28(0x1ac),'HoQuP':_0x483e28(0xce),'ynHED':_0x483e28(0xd0),'tgXMM':function(_0x26266d,_0x40ee04,_0x204954,_0x51bbc8){return _0x26266d(_0x40ee04,_0x204954,_0x51bbc8);},'sibUD':function(_0x182831,_0x459cc9){return _0x182831*_0x459cc9;},'hXNkR':function(_0x5bd4d3,_0x4b03d0){return _0x5bd4d3(_0x4b03d0);},'ualkn':function(_0x17e337,_0x3c48b3){return _0x17e337!==_0x3c48b3;}};helper['setUserConfigPath'](_0x3dd27f['framework'],_0x30f49c),await _0x3dd27f['initialize'](_0x30f49c);helper[_0x483e28(0x10a)]()?await helper[_0x483e28(0x11b)](_0x3dd27f[_0x483e28(0x19a)]):await _0x3dd27f[_0x483e28(0x12e)]();const _0xd82a80=[];let _0x3e7184=[];if(!_0x3dd27f[_0x483e28(0x19a)])return;!helper['isUndefined'](_0x3dd27f[_0x483e28(0x19a)][_0x483e28(0x131)])&&(process[_0x483e28(0x1a8)][_0x483e28(0x192)]=JSON[_0x483e28(0xcf)](_0x3dd27f[_0x483e28(0x19a)][_0x483e28(0x131)]));const _0x567f93=await TestHubHandler[_0x483e28(0x13e)](FRAMEWORKS[_0x483e28(0x18d)],_0x3dd27f);_0x392f1f['MaMNp'](_0x3dd27f[_0x483e28(0x19a)][_0x483e28(0xf6)],null)&&(process[_0x483e28(0x1a8)][_0x483e28(0xfe)]=_0x3dd27f['config'][_0x483e28(0xf6)]);!helper['isUndefined'](_0x3dd27f[_0x483e28(0x19a)][_0x483e28(0x173)])&&(process[_0x483e28(0x1a8)][_0x483e28(0x122)]=_0x3dd27f[_0x483e28(0x19a)][_0x483e28(0x173)]);const {extension:extension=['js',_0x392f1f[_0x483e28(0x198)],_0x392f1f[_0x483e28(0xbb)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x392f1f['CUnXh']]}=_0x30f49c,_0x3b276a={..._0x30f49c};_0x3b276a[_0x483e28(0xaa)]=null;const _0x55503b=_0x3b276a;let _0x13c36f;if(testOpsHelper[_0x483e28(0x10c)]()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0x3de770=process[_0x483e28(0x1a8)][_0x483e28(0x16c)];!helper['isUndefined'](_0x3dd27f[_0x483e28(0xb7)])&&_0x3dd27f[_0x483e28(0xb7)][_0x483e28(0xe9)](_0x392f1f[_0x483e28(0x1a5)])&&(_0x3de770=_0x3dd27f['cliConfig']['get'](_0x392f1f[_0x483e28(0x1a5)])),_0x13c36f=testOpsHelper['parseFileNames'](_0x3de770);}if(helper['isUndefined'](_0x13c36f)){const _0x4f5910={};_0x4f5910['ignore']=ignore,_0x4f5910[_0x483e28(0x16f)]=extension,_0x4f5910[_0x483e28(0x18f)]=file,_0x4f5910['recursive']=recursive,_0x4f5910[_0x483e28(0x10b)]=sort,_0x4f5910[_0x483e28(0x113)]=spec,_0x13c36f=_0x392f1f[_0x483e28(0xfd)](collectFiles,_0x4f5910),_0x392f1f[_0x483e28(0x126)](nestedKeyValue,_0x13c36f,[_0x392f1f[_0x483e28(0x179)]])&&(_0x13c36f=_0x13c36f[_0x483e28(0x16e)]);}const _0x55b4fb=helper['parseTestOrchestrationOptions'](_0x3dd27f[_0x483e28(0x19a)]);!helper[_0x483e28(0x114)](_0x55b4fb)&&helper[_0x483e28(0x158)](_0x55b4fb[_0x483e28(0x10e)])&&(_0x55503b[_0x483e28(0x111)]=_0x55b4fb['retryTestsOnFailure'][_0x483e28(0x115)]);if(!helper[_0x483e28(0x10a)]()){const _0x4b59df=0x1,_0x3c7396={..._0x55503b};_0x3c7396[_0x483e28(0x113)]=[..._0x13c36f],_0xd82a80[_0x483e28(0x120)]({'mochaOpts':_0x3c7396,'configuration':{'platform':os[_0x483e28(0x1b0)]()}});if(_0x3dd27f[_0x483e28(0x19a)]['accessibility']){const _0x178d9c={};_0x178d9c[_0x483e28(0x173)]=!![];const _0x401d87=_0x178d9c;_0x392f1f[_0x483e28(0x16a)](_0x3dd27f[_0x483e28(0x19a)]['accessibilityOptions'],null)&&(_0x401d87['accessibilityOptions']=_0x3dd27f[_0x483e28(0x19a)][_0x483e28(0x131)],delete _0x401d87[_0x483e28(0x131)][_0x392f1f[_0x483e28(0x104)]],delete _0x401d87[_0x483e28(0x131)][_0x392f1f['vJMrX']],delete _0x401d87[_0x483e28(0x131)][_0x392f1f['BbbMf']]);const _0x5b520c={};_0x5b520c[_0x483e28(0x13b)]=_0x401d87,_0xd82a80[0x0][_0x483e28(0x124)][_0x483e28(0x112)]=_0x5b520c;}logger[_0x483e28(0xa8)](_0x392f1f[_0x483e28(0xcc)]),logger['info'](_0x392f1f['ynHED']),_0x392f1f['tgXMM'](parallelTestRun,_0xd82a80,_0x4b59df,_0x3dd27f)[_0x483e28(0x16b)](_0x2663db=>{const _0x413800=_0x483e28;PerformanceTester[_0x413800(0xa5)](PerformanceEvents[_0x413800(0x165)]),_0x392f1f[_0x413800(0x1b1)](printStats,_0x2663db,_0x30f49c[_0x413800(0xa4)],_0x30f49c[_0x413800(0x19c)]||_0x30f49c[_0x392f1f[_0x413800(0x193)]]);})[_0x483e28(0xe5)](()=>{const _0x4a4f55=_0x483e28;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0x38221d,tcgConfigPath:_0x2536b1}=helper[_0x4a4f55(0x175)]();fs[_0x4a4f55(0xe8)](_0x2536b1),fs[_0x4a4f55(0xf9)](_0x38221d);}catch(_0x126dcc){logger[_0x4a4f55(0xfa)](_0x392f1f['btRaq'],_0x126dcc);}try{utilities[_0x4a4f55(0xc3)](_0x392f1f[_0x4a4f55(0xd3)],{},_0x3dd27f[_0x4a4f55(0x19a)],_0x3dd27f[_0x4a4f55(0x18e)]);}catch(_0xaa5af1){logger[_0x4a4f55(0xfa)](_0x4a4f55(0xf0)+_0xaa5af1[_0x4a4f55(0x159)]);}try{helper[_0x4a4f55(0x12d)]();}catch(_0xe029ba){logger[_0x4a4f55(0xfa)](_0x4a4f55(0x184)+_0xe029ba);}testOpsHelper['printBuildLink']();});}else{const _0x3d0097=helper[_0x483e28(0x127)](_0x3dd27f[_0x483e28(0x19a)]);let _0x22bd5c=helper[_0x483e28(0x144)](_0x3dd27f[_0x483e28(0x19a)]);_0x3e7184=helper[_0x483e28(0x169)](_0x3dd27f['config'],_0x3d0097,constants[_0x483e28(0x152)]['MOCHA']);helper[_0x483e28(0xc9)]()[_0x483e28(0x118)]&&(_0x22bd5c=centralScannerConstants[_0x483e28(0x1a7)]);let _0x230ac8;const _0xe0df6=_0x3dd27f[_0x483e28(0x19a)]['parallelsPerPlatform']||helper[_0x483e28(0x17e)](_0x30f49c,_0xc3fed1,_0x3dd27f[_0x483e28(0x19a)],constants['FRAMEWORKS']['MOCHA'])||0x1;helper[_0x483e28(0x164)](_0x3dd27f[_0x483e28(0x19a)])?_0x230ac8=_0x392f1f[_0x483e28(0x11d)](_0x3dd27f[_0x483e28(0x19a)][_0x483e28(0x103)]['length'],_0xe0df6):_0x230ac8=_0xe0df6;const _0xd7c1ff=_0x392f1f['hXNkR'](getPercyOptions,_0x3dd27f['config']);if(_0x392f1f[_0x483e28(0xf5)](_0x3dd27f['config'][_0x483e28(0x166)],0x1))_0x13c36f['forEach'](_0x510ae5=>{const _0xf689f3=_0x483e28,_0x7bf5c7=[];_0x3e7184[_0xf689f3(0x17b)]((_0x20e9a5,_0x58ef78)=>{const _0x5dad20=_0xf689f3,_0x3cab84={};_0x3cab84[_0x5dad20(0x113)]=[_0x510ae5],_0x7bf5c7[_0x5dad20(0x120)]({'mochaOpts':Object[_0x5dad20(0x157)]({},_0x55503b,_0x3cab84),'configuration':{'server':_0x22bd5c,'capability':_0x20e9a5,'proxySettings':_0x3dd27f[_0x5dad20(0x19a)]['proxySettings'],'platform':helper['getPlatformName'](_0x20e9a5),'browserStackLogLevel':_0x3dd27f[_0x5dad20(0x19a)]['logLevel'],'platformIndex':_0x58ef78,'browserStackPercyOptions':_0xd7c1ff,'platformCaps':Object['assign']({'index':_0x58ef78},_0x3dd27f[_0x5dad20(0x19a)][_0x5dad20(0x103)][_0x58ef78])}});}),_0xd82a80['push'](..._0x7bf5c7);});else{const _0x12b5b8=[];_0x3e7184['forEach']((_0x150c5c,_0xdd4390)=>{const _0x324a49=_0x483e28;let _0x26d564=Object[_0x324a49(0x157)]({},_0x55503b);testOpsHelper['isTestObservabilitySession']()&&testOpsHelper['shouldReRunObservabilityTests']()&&(_0x26d564={..._0x26d564,'spec':[..._0x13c36f]}),_0x12b5b8[_0x324a49(0x120)]({'mochaOpts':_0x26d564,'configuration':{'server':_0x22bd5c,'capability':_0x150c5c,'proxySettings':_0x3dd27f['config'][_0x324a49(0xff)],'platform':helper[_0x324a49(0xec)](_0x150c5c),'browserStackLogLevel':_0x3dd27f['config'][_0x324a49(0x161)],'platformIndex':_0xdd4390,'browserStackPercyOptions':_0xd7c1ff,'platformCaps':Object['assign']({'index':_0xdd4390},_0x3dd27f[_0x324a49(0x19a)][_0x324a49(0x103)][_0xdd4390])}});}),_0xd82a80['push'](..._0x12b5b8);}logger['info'](_0x483e28(0x119)+_0x3dd27f['config'][_0x483e28(0x103)][_0x483e28(0x105)]+_0x483e28(0xc5)),logger[_0x483e28(0xa8)](_0x392f1f['ynHED']);let _0x26ffb7;_0x392f1f[_0x483e28(0x17f)](parallelTestRun,_0xd82a80,_0x230ac8,_0x3dd27f)[_0x483e28(0x16b)](_0x3c0f99=>{const _0x2a4d72=_0x483e28;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']),_0x26ffb7=_0x3c0f99,_0x392f1f['CFnUf'](printStats,_0x3c0f99,_0x30f49c[_0x2a4d72(0xa4)],_0x30f49c['reporterOptions']||_0x30f49c[_0x392f1f['PKLOP']]);})[_0x483e28(0xe5)](async()=>{const _0x46c563=_0x483e28;PerformanceTester[_0x46c563(0xa5)](PerformanceEvents[_0x46c563(0x165)]),_0x3dd27f[_0x46c563(0xf2)]=helper[_0x46c563(0x11a)](_0x26ffb7,_0x392f1f[_0x46c563(0x1b2)]),await utilities[_0x46c563(0xbd)](_0x3dd27f),testOpsHelper[_0x46c563(0x18a)]();});}}function a31_0x2d17(_0x4005c9,_0x57db46){const _0x57bc43=a31_0x57bc();return a31_0x2d17=function(_0x2d170a,_0x738712){_0x2d170a=_0x2d170a-0xa3;let _0x54c627=_0x57bc43[_0x2d170a];return _0x54c627;},a31_0x2d17(_0x4005c9,_0x57db46);}module['exports']=run;