#!/usr/bin/env node
'use strict';const a31_0x481dd6=a31_0x3be3;function a31_0x3be3(_0x5ab1eb,_0x258f1a){const _0x4de3c2=a31_0x4de3();return a31_0x3be3=function(_0x3be3ce,_0x51712c){_0x3be3ce=_0x3be3ce-0x198;let _0x507b4c=_0x4de3c2[_0x3be3ce];return _0x507b4c;},a31_0x3be3(_0x5ab1eb,_0x258f1a);}(function(_0x2d787e,_0x4819a6){const _0x404bec=a31_0x3be3,_0x1e457e=_0x2d787e();while(!![]){try{const _0x49fcd0=parseInt(_0x404bec(0x19c))/0x1*(parseInt(_0x404bec(0x236))/0x2)+-parseInt(_0x404bec(0x28a))/0x3+-parseInt(_0x404bec(0x1ff))/0x4*(parseInt(_0x404bec(0x1da))/0x5)+parseInt(_0x404bec(0x2a1))/0x6*(parseInt(_0x404bec(0x21e))/0x7)+parseInt(_0x404bec(0x224))/0x8*(-parseInt(_0x404bec(0x2ad))/0x9)+-parseInt(_0x404bec(0x1c9))/0xa+-parseInt(_0x404bec(0x1cc))/0xb*(-parseInt(_0x404bec(0x200))/0xc);if(_0x49fcd0===_0x4819a6)break;else _0x1e457e['push'](_0x1e457e['shift']());}catch(_0x305fb2){_0x1e457e['push'](_0x1e457e['shift']());}}}(a31_0x4de3,0xa5449));const chalk=require(a31_0x481dd6(0x209)),logger=require('../../helpers/logger')['winstonLogger'],helper=require('../../helpers/helper'),utilities=require(a31_0x481dd6(0x229)),testOpsHelper=require('../../helpers/test-observability/utils'),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a31_0x481dd6(0x19d)),{requireModule,nestedKeyValue}=require(a31_0x481dd6(0x1c6)),{getPercyOptions}=require(a31_0x481dd6(0x1d4)),Base=requireModule(a31_0x481dd6(0x284),a31_0x481dd6(0x2aa)),collectFiles=requireModule(a31_0x481dd6(0x1ec),a31_0x481dd6(0x2aa)),constants=require(a31_0x481dd6(0x253)),PerformanceTester=require(a31_0x481dd6(0x1de)),PerformanceEvents=require(a31_0x481dd6(0x1a9))[a31_0x481dd6(0x20e)],centralScannerConstants=require(a31_0x481dd6(0x1b9)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),TestHubHandler=require(a31_0x481dd6(0x1e5));function tag(_0x279956,_0x24b72b,_0x3b4a09,_0xc03bf9){const _0x181470=a31_0x481dd6,_0x2cd722={'oaSsy':function(_0x1fbf07,_0x294e01){return _0x1fbf07+_0x294e01;},'EyNli':function(_0x4df0cc,_0x159d5e){return _0x4df0cc+_0x159d5e;},'YnjRB':function(_0x59bdb0,_0x4fa569){return _0x59bdb0+_0x4fa569;},'ZAcGZ':function(_0x4e90a4,_0x59cd51){return _0x4e90a4(_0x59cd51);},'cgDbs':function(_0x364451,_0xfcdeb4){return _0x364451+_0xfcdeb4;},'trWyE':function(_0x106d79,_0x2a0f57){return _0x106d79+_0x2a0f57;},'keJac':function(_0x313f32,_0x59f792){return _0x313f32+_0x59f792;}},_0x2008d2=_0x3b4a09?'/>':'>',_0x17da18=[];let _0x9dd930;for(const _0x50f20b in _0x24b72b){Object[_0x181470(0x228)][_0x181470(0x22a)][_0x181470(0x27f)](_0x24b72b,_0x50f20b)&&_0x17da18[_0x181470(0x27b)](_0x2cd722[_0x181470(0x1e0)](_0x2cd722[_0x181470(0x295)](_0x2cd722[_0x181470(0x273)](_0x50f20b,'=\x22'),_0x2cd722[_0x181470(0x259)](escape,_0x24b72b[_0x50f20b])),'\x22'));}return _0x9dd930=_0x2cd722[_0x181470(0x202)](_0x2cd722[_0x181470(0x202)](_0x2cd722['YnjRB']('<',_0x279956),_0x17da18[_0x181470(0x241)]?_0x2cd722[_0x181470(0x273)]('\x20',_0x17da18[_0x181470(0x215)]('\x20')):''),_0x2008d2),_0xc03bf9&&(_0x9dd930+=_0x2cd722[_0x181470(0x245)](_0x2cd722[_0x181470(0x20f)](_0x2cd722['cgDbs'](_0xc03bf9,'</'),_0x279956),_0x2008d2)),_0x9dd930;}let xunitContent='';function xunitWrite(_0x588ea7){xunitContent+=_0x588ea7;}function xunitTest(_0x3a1f14,_0x57d7de){const _0x46d215=a31_0x481dd6,_0x41c218={'BjUiQ':function(_0x6e4e3e,_0x551309){return _0x6e4e3e/_0x551309;},'YVIiz':function(_0x399583,_0x1ce11c){return _0x399583===_0x1ce11c;},'azlEM':_0x46d215(0x2a9),'NlzXL':function(_0x5a3e4a,_0x3c068a){return _0x5a3e4a+_0x3c068a;},'keFfh':function(_0x763ba7,_0x3934f2){return _0x763ba7(_0x3934f2);},'QRrPx':function(_0x219cdc,_0x57137d,_0x13c67b,_0x52b183,_0x477284){return _0x219cdc(_0x57137d,_0x13c67b,_0x52b183,_0x477284);},'MlgCL':'testcase','LKtND':function(_0x3271bc,_0xe33f01,_0x3c2abf,_0x263b88,_0x3d88ab){return _0x3271bc(_0xe33f01,_0x3c2abf,_0x263b88,_0x3d88ab);},'ebouX':_0x46d215(0x23c),'lyACP':function(_0x46b182,_0x18f31f){return _0x46b182+_0x18f31f;},'BQgrC':function(_0x2b4012,_0x21b830){return _0x2b4012(_0x21b830);},'cpCAb':function(_0x1a8623,_0x156425){return _0x1a8623(_0x156425);},'cnSuT':function(_0x5489d5,_0x5e6ba5,_0x4f6b2f,_0x2b93da){return _0x5489d5(_0x5e6ba5,_0x4f6b2f,_0x2b93da);},'MeGfb':_0x46d215(0x1a4),'XoydA':function(_0x1762b5,_0xbc8807){return _0x1762b5(_0xbc8807);},'NAwTq':function(_0x4e88a6,_0x33cce0,_0x229e13,_0xd2f254){return _0x4e88a6(_0x33cce0,_0x229e13,_0xd2f254);}};Base['useColors']=![];var _0x2717e6={'classname':_0x3a1f14[_0x46d215(0x1f6)],'name':_0x3a1f14[_0x46d215(0x1a3)],'time':_0x41c218[_0x46d215(0x267)](_0x3a1f14[_0x46d215(0x19e)],0x3e8)||0x0,'platform':_0x57d7de};if(_0x41c218[_0x46d215(0x289)](_0x3a1f14['state'],_0x41c218[_0x46d215(0x283)])){var _0x420198=_0x3a1f14[_0x46d215(0x198)],_0x36ba3e=!Base[_0x46d215(0x1cb)]&&Base['showDiff'](_0x420198)?_0x41c218[_0x46d215(0x25f)]('\x0a',Base[_0x46d215(0x1bf)](_0x420198[_0x46d215(0x1e4)],_0x420198[_0x46d215(0x244)])):'';_0x41c218[_0x46d215(0x292)](xunitWrite,_0x41c218[_0x46d215(0x214)](tag,_0x41c218[_0x46d215(0x20b)],_0x2717e6,![],_0x41c218['LKtND'](tag,_0x41c218[_0x46d215(0x1b6)],{},![],_0x41c218['NlzXL'](_0x41c218[_0x46d215(0x25f)](_0x41c218[_0x46d215(0x26a)](_0x41c218['keFfh'](escape,_0x420198[_0x46d215(0x252)]),_0x41c218[_0x46d215(0x1db)](escape,_0x36ba3e)),'\x0a'),_0x41c218[_0x46d215(0x292)](escape,_0x420198[_0x46d215(0x19a)])))));}else _0x3a1f14[_0x46d215(0x249)]?_0x41c218[_0x46d215(0x21c)](xunitWrite,_0x41c218[_0x46d215(0x214)](tag,_0x41c218[_0x46d215(0x20b)],_0x2717e6,![],_0x41c218[_0x46d215(0x207)](tag,_0x41c218[_0x46d215(0x29a)],{},!![]))):_0x41c218[_0x46d215(0x246)](xunitWrite,_0x41c218[_0x46d215(0x226)](tag,_0x41c218[_0x46d215(0x20b)],_0x2717e6,!![]));};function getStats(_0x224029){const _0xbb1383=a31_0x481dd6,_0xca46c0={};_0xca46c0[_0xbb1383(0x28d)]='suite',_0xca46c0[_0xbb1383(0x1ab)]='passed',_0xca46c0[_0xbb1383(0x1f9)]=_0xbb1383(0x2a9),_0xca46c0['nOgGV']='results';const _0x18ecf5=_0xca46c0,_0xd24f38=Object[_0xbb1383(0x285)](_0x224029);let _0x475f36=0x0,_0x13e154=0x0,_0x35e016=0x0,_0x3e4f2d=0x0;const _0x559668=new Set();_0xd24f38['forEach'](_0x8b50c5=>{const _0x4d1a5d=_0xbb1383;_0x224029[_0x8b50c5][_0x18ecf5[_0x4d1a5d(0x21b)]][_0x4d1a5d(0x1ea)](_0x39d4a8=>{const _0x18aef9=_0x4d1a5d;_0x559668[_0x18aef9(0x294)](_0x39d4a8[_0x18ecf5['rVhWu']]),_0x475f36++;switch(_0x39d4a8[_0x18aef9(0x270)]){case _0x18ecf5['Lovtf']:_0x35e016++;break;case _0x18ecf5[_0x18aef9(0x1f9)]:_0x13e154++;break;default:_0x3e4f2d++;}});});const _0x2e6def={};return _0x2e6def['testSuites']=_0x559668[_0xbb1383(0x213)],_0x2e6def[_0xbb1383(0x1df)]=_0xd24f38,_0x2e6def[_0xbb1383(0x260)]=_0x475f36,_0x2e6def[_0xbb1383(0x19f)]=_0x13e154,_0x2e6def[_0xbb1383(0x1a6)]=_0x35e016,_0x2e6def[_0xbb1383(0x264)]=_0x3e4f2d,_0x2e6def;}function errorJSON(_0x1d06fb){var _0x1845fc={};return Object['getOwnPropertyNames'](_0x1d06fb)['forEach'](function(_0x4234ec){_0x1845fc[_0x4234ec]=_0x1d06fb[_0x4234ec];},_0x1d06fb),_0x1845fc;}function cleanCycles(_0x5b9270){const _0x41cd0a=a31_0x481dd6,_0x154c6b={};_0x154c6b[_0x41cd0a(0x21f)]=function(_0x91e4b4,_0x3f28b8){return _0x91e4b4===_0x3f28b8;},_0x154c6b[_0x41cd0a(0x29c)]=_0x41cd0a(0x268),_0x154c6b[_0x41cd0a(0x2a6)]=function(_0x33d568,_0x2afcd0){return _0x33d568!==_0x2afcd0;},_0x154c6b[_0x41cd0a(0x2a5)]=function(_0x52d2b3,_0x8294ae){return _0x52d2b3+_0x8294ae;};const _0x3547b5=_0x154c6b;var _0x6a2e15=[];return JSON[_0x41cd0a(0x25a)](JSON['stringify'](_0x5b9270,function(_0x3cc686,_0x1c89d9){const _0x36fc83=_0x41cd0a;if(_0x3547b5['smCJM'](typeof _0x1c89d9,_0x3547b5[_0x36fc83(0x29c)])&&_0x3547b5['SUFlM'](_0x1c89d9,null)){if(_0x3547b5['SUFlM'](_0x6a2e15[_0x36fc83(0x1f5)](_0x1c89d9),-0x1))return _0x3547b5[_0x36fc83(0x2a5)]('',_0x1c89d9);_0x6a2e15[_0x36fc83(0x27b)](_0x1c89d9);}return _0x1c89d9;}));}function a31_0x4de3(){const _0x2b97d2=['titlePath','EIAHB','list','Total\x20Platforms:\x20','failures','eMmlo','map','passed','indexOf','fullTitle','retryTestsOnFailure','rerunTests','jFEkl','recursive','kRSYR','dhrvk','XDPgz','exports','32Xrbyxm','1644TEqulE','jdaWu','cgDbs','reporter','XXCzh','printBuildLink','JSuZb','cnSuT','RqSGv','chalk','suiteName','MlgCL','SDK_CLEANUP','BROWSERSTACK_RERUN_TESTS','EVENTS','keJac','sEERz','ydrzq','isEmpty','size','QRrPx','join','getPlatformName','hLeBO','currentRetry','Now,\x20showing\x20logs\x20from\x20mocha','extension','nOgGV','cpCAb','excludeTagsInTestingScope','7KiLZPW','smCJM','useW3C','fireFunnelTestEvent','WEFeC','assign','15352pEDmQE','iJNCO','NAwTq','JmqSM','prototype','../../helpers/utilities','hasOwnProperty','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','finalExecution','Total\x20Suites:\x20','ZqorN','veIAT','RDgox','LkhKR','errorMessage','swpWF','consoleLog','WETWu','2GpxWqR','XvjoS','min','xunit','MOCHA','VkQJD','failure','rootHooks','SDKTestSuccessful','mqjLO','wSQkm','length','bstack:options','HqZGn','expected','trWyE','XoydA','includeTagsInTestingScope','testsuite','isPending','Tests:\x20\x20\x20\x20\x20\x20\x20','RHBcf','idSzl','handleApp','retries','BEozw','file','luDiK','message','../utils/constants','eZMxG','drUlZ','config','info','UmQUP','ZAcGZ','parse','initialize','ZhTCw','MHebA','Nkufp','NlzXL','totalTests','VWQEJ','sbRXh','xxlhK','testsPending','titlePathV','bYDub','BjUiQ','object','gGYee','lyACP','parallelsPerPlatform','Tdoun','toxCu','xFhLu','qGcHS','state','isTestObservabilitySession','cfApy','YnjRB','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','test','WDAlo','getCentralUser','results','Writing\x20json\x20result\x20to\x20file','capability','push','finally','reporter-option','pending','call','shouldReRunObservabilityTests','NIiQR','tKgCt','azlEM','mocha/lib/reporters/base.js','keys','JBmSs','maxRetries','env','YVIiz','3770958GeJfiy','LluJM','Couldn\x27t\x20write\x20json\x20result\x20to','rVhWu','includeEncodedExtension','reporterOptions','stats','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','keFfh','Running\x20your\x20mocha\x20tests','add','EyNli','\x20skipped','testSuites','setUserConfigPath','LlSXz','MeGfb','central_scanner','jtUsH','PdCkC','MmJZA','isUndefined','red','676860vCZJYZ','setupTCGAuth','logLevel','bgRedBright','GNidu','SUFlM','notifyUpdate','getErrorMessageFromResults','failed','mocha','tqFpT','\x20total','234LalBvC','err','error\x20removing\x20tcg\x20config\x20file','stack','isNotUndefined','559840dFmMca','../test-runner','duration','testsFailed','speed','log','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','title','skipped','accessibilityOptions','testsPassed','output','gxBMc','../../helpers/performance/constants','files','Lovtf','prepareCapabilities','testObservability','error','rEgJz','ignore','jUnAs','debug','has','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','oCpRB','ebouX','passes','accessibility','../../helpers/central-scanner/constants','\x20failed','iaLZr','getUserWorkerCount','CjMVL','ITntJ','generateDiff','rmdirSync','tcHbv','JUcyU','getTCGConfigFilePaths','stringify','toUTCString','../../helpers/helper','launchBuild','\x0a\x0a\x0a','336030aggWvX','lCcMD','hideDiff','191598KPNBPv','FRAMEWORKS','spec','isBrowserstackInfra','\x20platforms','zQbdj','JZneb','bold','../../helpers/percy/utils','viZNc','Printing\x20stats\x20of\x20tests','****\x20FAILURES\x20****','VjxpV','cliConfig','650935kqCFwZ','BQgrC','JNKCi','then','../../helpers/performance/performance-tester','platforms','oaSsy','AXbtV','proxySettings','start','actual','../../helpers/testhub/testhubHandler','Couldn\x27t\x20write\x20xunit\x20result\x20to','JEJZE','\x20passed','oStkR','forEach','CsiGH','mocha/lib/cli/collect-files.js'];a31_0x4de3=function(){return _0x2b97d2;};return a31_0x4de3();}function clean(_0x4f75e2){const _0x553e53=a31_0x481dd6,_0x295001={'PdCkC':function(_0x5bc7ae,_0x2c8b46){return _0x5bc7ae instanceof _0x2c8b46;},'viZNc':function(_0xef8667,_0x4bdfea){return _0xef8667(_0x4bdfea);},'kRSYR':function(_0x2fb4d0,_0x4ca799){return _0x2fb4d0(_0x4ca799);}};var _0x4ad6bb=_0x4f75e2[_0x553e53(0x198)]||{};return _0x295001[_0x553e53(0x29d)](_0x4ad6bb,Error)&&(_0x4ad6bb=_0x295001[_0x553e53(0x1d5)](errorJSON,_0x4ad6bb)),{'title':_0x4f75e2['title'],'fullTitle':_0x4f75e2[_0x553e53(0x1f6)],'file':_0x4f75e2['file'],'duration':_0x4f75e2[_0x553e53(0x19e)],'currentRetry':_0x4f75e2[_0x553e53(0x218)],'speed':_0x4f75e2[_0x553e53(0x1a0)],'err':_0x295001[_0x553e53(0x1fb)](cleanCycles,_0x4ad6bb)};}function printStats(_0x180b34,_0x9f06d2=a31_0x481dd6(0x1ce),_0x30965c={}){const _0x59387a=a31_0x481dd6,_0x267ff1={'toxCu':function(_0x28afe1,_0x4f9493){return _0x28afe1(_0x4f9493);},'iaLZr':function(_0x14eb38,_0x2f686c){return _0x14eb38===_0x2f686c;},'CjMVL':_0x59387a(0x1f4),'mxSxu':_0x59387a(0x1b7),'Tdoun':function(_0xbaadfe,_0x3f893d){return _0xbaadfe===_0x3f893d;},'AXbtV':_0x59387a(0x2a9),'oCpRB':_0x59387a(0x1f1),'YpmIg':_0x59387a(0x27e),'cfApy':_0x59387a(0x278),'swpWF':function(_0x28cccb,_0x4a50c8){return _0x28cccb===_0x4a50c8;},'WETWu':function(_0x2eafaa,_0x2ed7e9){return _0x2eafaa===_0x2ed7e9;},'Nkufp':function(_0x45b6fd,_0x20d7f9){return _0x45b6fd*_0x20d7f9;},'JEJZE':function(_0x4e989d,_0x4b371e,_0x5c2c9d){return _0x4e989d(_0x4b371e,_0x5c2c9d);},'VWQEJ':function(_0xa5e686,_0x49624d){return _0xa5e686>_0x49624d;},'JBmSs':function(_0x119989){return _0x119989();},'hLeBO':'doc','RDgox':function(_0x48429a,_0x5e1b81){return _0x48429a(_0x5e1b81);},'gxBMc':function(_0x50f405,_0x4b8dd1){return _0x50f405>_0x4b8dd1;},'NIiQR':'Setting\x20non\x20exit\x20code\x20for\x20failures','CsiGH':_0x59387a(0x1d6),'HqZGn':function(_0x43bd59,_0x3ecdc6){return _0x43bd59+_0x3ecdc6;},'wSQkm':_0x59387a(0x1f0),'tcHbv':_0x59387a(0x22d),'XDPgz':function(_0x659419,_0x4ce97b){return _0x659419+_0x4ce97b;},'eMmlo':_0x59387a(0x24a),'JSuZb':function(_0x1cf983,_0x133be2){return _0x1cf983>_0x133be2;},'ITntJ':function(_0x471422,_0x62ddef){return _0x471422+_0x62ddef;},'JZneb':function(_0x301cb0,_0x54d849){return _0x301cb0+_0x54d849;},'jdaWu':function(_0x1fc111,_0x148ed9){return _0x1fc111+_0x148ed9;},'WEFeC':function(_0xea09b5,_0x35412b){return _0xea09b5+_0x35412b;},'phhhM':_0x59387a(0x1c8),'idSzl':function(_0x234899,_0x29fa88){return _0x234899===_0x29fa88;},'VhzwE':'json','LlSXz':_0x59387a(0x279),'veIAT':_0x59387a(0x28c),'tKgCt':_0x59387a(0x1b4),'MmJZA':_0x59387a(0x239),'merJX':'Mocha\x20Tests','WuHiT':function(_0x15fa0c,_0x4620aa){return _0x15fa0c||_0x4620aa;},'VjxpV':function(_0x524f9b,_0x5db411){return _0x524f9b(_0x5db411);},'ZqorN':function(_0x29fedc,_0x2d23fe,_0x200f02,_0x7d12b6){return _0x29fedc(_0x2d23fe,_0x200f02,_0x7d12b6);},'oStkR':_0x59387a(0x248),'bYDub':function(_0x103e95,_0x25a604){return _0x103e95-_0x25a604;},'MHebA':function(_0x47d28a,_0x25e7a7){return _0x47d28a/_0x25e7a7;},'sEERz':function(_0x236f66,_0x21ebc1){return _0x236f66(_0x21ebc1);},'drUlZ':'</testsuite>','MpuHt':'Writing\x20xunit\x20result\x20to\x20file','WWiZH':_0x59387a(0x1e6),'EIAHB':_0x59387a(0x1a2),'WDAlo':function(_0x281218,_0x59da71){return _0x281218===_0x59da71;},'bBjek':'Listing\x20all\x20the\x20failures','luDiK':_0x59387a(0x1d7)};if(_0x267ff1[_0x59387a(0x233)](_0x9f06d2,_0x267ff1[_0x59387a(0x217)]))return;const _0x5b80ee=0x0,_0x173bbe=()=>{const _0x3bc466=_0x59387a;return _0x267ff1[_0x3bc466(0x26d)](Array,_0x5b80ee)[_0x3bc466(0x215)]('\x20\x20');},{testSuites:_0x29b338,platforms:_0x34675e,totalTests:_0x334279,testsFailed:_0x2edb23,testsPassed:_0x3c6d62,testsPending:_0x4e8680}=_0x267ff1[_0x59387a(0x230)](getStats,_0x180b34);_0x267ff1[_0x59387a(0x1a8)](_0x2edb23,0x0)&&(logger[_0x59387a(0x1b2)](_0x267ff1[_0x59387a(0x281)]),process['exitCode']=Math[_0x59387a(0x238)](_0x2edb23,0xff));logger['debug'](_0x267ff1[_0x59387a(0x1eb)]);const _0x2e2d41=''+_0x267ff1['HqZGn'](chalk[_0x59387a(0x1d3)](_0x267ff1[_0x59387a(0x240)]),_0x34675e[_0x59387a(0x241)]),_0x3b88b8=''+_0x267ff1[_0x59387a(0x243)](chalk[_0x59387a(0x1d3)](_0x267ff1[_0x59387a(0x1c1)]),_0x29b338),_0x100a93=''+_0x267ff1['HqZGn'](_0x267ff1[_0x59387a(0x1fd)](_0x267ff1[_0x59387a(0x1fd)](chalk[_0x59387a(0x1d3)](_0x267ff1[_0x59387a(0x1f2)]),_0x267ff1[_0x59387a(0x261)](_0x2edb23,0x0)?chalk[_0x59387a(0x1d3)][_0x59387a(0x2a0)](_0x2edb23+_0x59387a(0x1ba))+',\x20':''),_0x267ff1[_0x59387a(0x206)](_0x4e8680,0x0)?chalk[_0x59387a(0x1d3)]['yellow'](_0x4e8680+_0x59387a(0x296))+',\x20':''),_0x267ff1[_0x59387a(0x261)](_0x3c6d62,0x0)?chalk['bold']['green'](_0x3c6d62+_0x59387a(0x1e8))+',\x20':'')+_0x334279+_0x59387a(0x2ac);console[_0x59387a(0x1a1)](_0x267ff1[_0x59387a(0x1be)](_0x267ff1[_0x59387a(0x1be)](_0x267ff1[_0x59387a(0x1d2)](_0x267ff1[_0x59387a(0x201)](_0x267ff1[_0x59387a(0x222)](_0x267ff1['phhhM'],_0x2e2d41),'\x0a'),_0x3b88b8),'\x0a'),_0x100a93));if(_0x267ff1[_0x59387a(0x24c)](_0x9f06d2,_0x267ff1['VhzwE'])){const _0x252922={},_0x3685c5={};_0x3685c5[_0x59387a(0x297)]=_0x29b338,_0x3685c5[_0x59387a(0x1df)]=_0x34675e,_0x3685c5[_0x59387a(0x19f)]=_0x2edb23,_0x3685c5[_0x59387a(0x1a6)]=_0x3c6d62,_0x3685c5['testsPending']=_0x4e8680,_0x252922[_0x59387a(0x290)]=_0x3685c5,_0x34675e['forEach'](_0x255cc2=>{const _0x1bfb2a=_0x59387a,_0x210894={'BLUvH':function(_0x138821,_0x5c31fa){const _0x383e9c=a31_0x3be3;return _0x267ff1[_0x383e9c(0x1bb)](_0x138821,_0x5c31fa);},'tqFpT':_0x267ff1['CjMVL'],'eZMxG':_0x267ff1['mxSxu'],'hpHUR':function(_0x5ea938,_0x469ab6){const _0x1a2ca4=a31_0x3be3;return _0x267ff1[_0x1a2ca4(0x26d)](_0x5ea938,_0x469ab6);},'BEozw':function(_0x18aead,_0x22ff8d){const _0x92915e=a31_0x3be3;return _0x267ff1[_0x92915e(0x26c)](_0x18aead,_0x22ff8d);},'VkQJD':_0x267ff1[_0x1bfb2a(0x1e1)],'XXCzh':_0x267ff1[_0x1bfb2a(0x1b5)],'LkhKR':_0x267ff1['YpmIg'],'LluJM':function(_0x1cdbd8,_0x90035a){return _0x267ff1['toxCu'](_0x1cdbd8,_0x90035a);}};_0x252922[_0x255cc2]={'pending':[],'failures':[],'passes':[],'tests':_0x180b34[_0x255cc2][_0x267ff1[_0x1bfb2a(0x272)]][_0x1bfb2a(0x1f3)](clean)},_0x180b34[_0x255cc2][_0x267ff1[_0x1bfb2a(0x272)]][_0x1bfb2a(0x1ea)](_0x552060=>{const _0x4e4a56=_0x1bfb2a;if(_0x210894['BLUvH'](_0x552060['state'],_0x210894[_0x4e4a56(0x2ab)]))_0x252922[_0x255cc2][_0x210894[_0x4e4a56(0x254)]][_0x4e4a56(0x27b)](_0x210894['hpHUR'](clean,_0x552060));else _0x210894[_0x4e4a56(0x24f)](_0x552060[_0x4e4a56(0x270)],_0x210894[_0x4e4a56(0x23b)])?_0x252922[_0x255cc2][_0x210894[_0x4e4a56(0x204)]][_0x4e4a56(0x27b)](_0x210894['hpHUR'](clean,_0x552060)):_0x252922[_0x255cc2][_0x210894[_0x4e4a56(0x231)]][_0x4e4a56(0x27b)](_0x210894[_0x4e4a56(0x28b)](clean,_0x552060));});});if(_0x30965c[_0x59387a(0x1a7)])try{logger[_0x59387a(0x1b2)](_0x267ff1[_0x59387a(0x299)],_0x30965c[_0x59387a(0x1a7)]),fs['writeFileSync'](_0x30965c[_0x59387a(0x1a7)],JSON[_0x59387a(0x1c4)](_0x252922,null,0x3));}catch(_0x9ac0c8){logger['error'](_0x267ff1[_0x59387a(0x22f)],_0x30965c[_0x59387a(0x1a7)]),logger[_0x59387a(0x1b2)](_0x9ac0c8);}else logger[_0x59387a(0x1b2)](_0x267ff1[_0x59387a(0x282)]),console[_0x59387a(0x1a1)](JSON['stringify'](_0x252922,null,0x3));}else{if(_0x267ff1[_0x59387a(0x235)](_0x9f06d2,_0x267ff1[_0x59387a(0x29e)])){let _0x3b6ae1;const _0x2944af=_0x267ff1['merJX'];_0x30965c&&(_0x3b6ae1=_0x30965c[_0x59387a(0x20a)]);_0x3b6ae1=_0x267ff1['WuHiT'](_0x3b6ae1,_0x2944af);let _0x151d8e=0x0,_0xf9c155=0x0,_0x189d48=0x0,_0x48fc5f=0x0;_0x34675e[_0x59387a(0x1ea)](_0x159892=>{const _0x1928b1=_0x59387a,_0x304210={'sbRXh':function(_0x550289,_0x34fd68){return _0x267ff1['swpWF'](_0x550289,_0x34fd68);},'iJNCO':_0x267ff1[_0x1928b1(0x1bd)],'elaUw':function(_0x1af766,_0x58589e){return _0x267ff1['WETWu'](_0x1af766,_0x58589e);},'kNaZV':_0x267ff1[_0x1928b1(0x1e1)],'RHBcf':function(_0x2d63e8,_0x479ec3){const _0x2f9a16=_0x1928b1;return _0x267ff1[_0x2f9a16(0x25e)](_0x2d63e8,_0x479ec3);}};_0x180b34[_0x159892][_0x267ff1['cfApy']][_0x1928b1(0x1ea)](_0xfacc7e=>{const _0x2aa025=_0x1928b1;if(_0x304210[_0x2aa025(0x262)](_0xfacc7e[_0x2aa025(0x270)],_0x304210[_0x2aa025(0x225)]))_0x151d8e++;else _0x304210['elaUw'](_0xfacc7e[_0x2aa025(0x270)],_0x304210['kNaZV'])&&_0xf9c155++;_0x189d48++,_0x48fc5f+=_0x304210[_0x2aa025(0x24b)](_0xfacc7e[_0x2aa025(0x19e)],0x1);});}),_0x267ff1[_0x59387a(0x1d8)](xunitWrite,_0x267ff1[_0x59387a(0x22e)](tag,_0x267ff1[_0x59387a(0x1e9)],{'name':_0x3b6ae1,'tests':_0x189d48,'failures':0x0,'errors':_0xf9c155,'skipped':_0x267ff1['bYDub'](_0x267ff1[_0x59387a(0x266)](_0x189d48,_0xf9c155),_0x151d8e),'timestamp':new Date()[_0x59387a(0x1c5)](),'time':_0x267ff1[_0x59387a(0x25d)](_0x48fc5f,0x3e8)||0x0},![])),_0x34675e[_0x59387a(0x1ea)](_0xd3c218=>{const _0x182d9b=_0x59387a,_0x167501={'UmQUP':function(_0x19659a,_0x154189,_0x28343c){const _0x247f6e=a31_0x3be3;return _0x267ff1[_0x247f6e(0x1e7)](_0x19659a,_0x154189,_0x28343c);}};_0x180b34[_0xd3c218][_0x267ff1['cfApy']][_0x182d9b(0x1ea)](_0x16fd18=>{const _0xbc6afd=_0x182d9b;_0x167501[_0xbc6afd(0x258)](xunitTest,_0x16fd18,_0xd3c218);});}),_0x267ff1[_0x59387a(0x210)](xunitWrite,_0x267ff1[_0x59387a(0x255)]);if(_0x30965c[_0x59387a(0x1a7)])try{logger[_0x59387a(0x1b2)](_0x267ff1['MpuHt'],_0x30965c[_0x59387a(0x1a7)]),fs['writeFileSync'](_0x30965c['output'],xunitContent);}catch(_0x21d9ed){logger[_0x59387a(0x1ae)](_0x267ff1['WWiZH'],_0x30965c[_0x59387a(0x1a7)]),logger[_0x59387a(0x1b2)](_0x21d9ed);}else logger['debug'](_0x267ff1[_0x59387a(0x1ee)]),console['log'](xunitContent);}else{if(_0x267ff1[_0x59387a(0x276)](_0x2edb23,0x0))return;console[_0x59387a(0x1a1)](),logger['debug'](_0x267ff1['bBjek']),console['log'](chalk[_0x59387a(0x1d3)][_0x59387a(0x2a4)](_0x267ff1[_0x59387a(0x251)])),_0x34675e['forEach'](_0x3f557d=>{const _0x373cce=_0x59387a,_0x41aa20={'sglJC':function(_0x1ceceb,_0x5892f8){const _0x2b8f50=a31_0x3be3;return _0x267ff1[_0x2b8f50(0x26c)](_0x1ceceb,_0x5892f8);},'JNKCi':_0x267ff1[_0x373cce(0x1e1)]},_0x47a585=[];_0x180b34[_0x3f557d][_0x267ff1['cfApy']][_0x373cce(0x1ea)](_0x1f229a=>{const _0x57cc0e=_0x373cce;_0x41aa20['sglJC'](_0x1f229a['state'],_0x41aa20[_0x57cc0e(0x1dc)])&&(_0x1f229a[_0x57cc0e(0x1ed)]=()=>_0x1f229a[_0x57cc0e(0x265)],_0x47a585[_0x57cc0e(0x27b)](_0x1f229a));}),_0x267ff1[_0x373cce(0x261)](_0x47a585[_0x373cce(0x241)],0x0)&&(Base['consoleLog'](),Base[_0x373cce(0x234)](_0x267ff1[_0x373cce(0x286)](_0x173bbe),chalk['bold']['bgBlueBright'](_0x3f557d)),Base[_0x373cce(0x1ef)](_0x47a585));});}}}async function run(_0x556527,_0x59fd26,_0x5c941e){const _0xdb209e=a31_0x481dd6,_0x3fd799={'pIfqm':function(_0x3e5201,_0x20b636,_0x1f69cf,_0x53b130){return _0x3e5201(_0x20b636,_0x1f69cf,_0x53b130);},'qGcHS':_0xdb209e(0x27d),'wRnCV':_0xdb209e(0x199),'JUcyU':_0xdb209e(0x23e),'XvjoS':function(_0x814156,_0x2f9aeb,_0x52a218,_0x39391b){return _0x814156(_0x2f9aeb,_0x52a218,_0x39391b);},'wWbmh':_0xdb209e(0x2aa),'dhrvk':function(_0x4272be,_0x536391){return _0x4272be!=_0x536391;},'gGYee':'cjs','xxlhK':'mjs','RqSGv':_0xdb209e(0x275),'JmqSM':_0xdb209e(0x1f8),'rEgJz':function(_0x51634c,_0xd07232){return _0x51634c(_0xd07232);},'emJeg':function(_0x149a47,_0x551f6a,_0x4b2936){return _0x149a47(_0x551f6a,_0x4b2936);},'leXIv':'files','ydrzq':_0xdb209e(0x247),'jUnAs':_0xdb209e(0x21d),'lCcMD':_0xdb209e(0x28e),'xFhLu':_0xdb209e(0x293),'MNTRS':_0xdb209e(0x219),'mqjLO':function(_0x394002,_0x616fd8,_0x341897,_0x2a5003){return _0x394002(_0x616fd8,_0x341897,_0x2a5003);},'ZhTCw':function(_0x2b4437,_0x44195d){return _0x2b4437*_0x44195d;},'zQbdj':function(_0xaf346b,_0x1f9fce){return _0xaf346b!==_0x1f9fce;}};helper[_0xdb209e(0x298)](_0x5c941e['framework'],_0x556527),await _0x5c941e[_0xdb209e(0x25b)](_0x556527);helper['isBrowserstackInfra']()?await helper[_0xdb209e(0x24d)](_0x5c941e['config']):await _0x5c941e[_0xdb209e(0x2a2)]();const _0x28fed7=[];let _0xdfe16a=[];if(!_0x5c941e[_0xdb209e(0x256)])return;!helper[_0xdb209e(0x29f)](_0x5c941e[_0xdb209e(0x256)][_0xdb209e(0x1a5)])&&(process[_0xdb209e(0x288)][_0xdb209e(0x274)]=JSON[_0xdb209e(0x1c4)](_0x5c941e[_0xdb209e(0x256)][_0xdb209e(0x1a5)]));const _0x9c54a0=await TestHubHandler[_0xdb209e(0x1c7)](FRAMEWORKS[_0xdb209e(0x23a)],_0x5c941e);_0x3fd799[_0xdb209e(0x1fc)](_0x5c941e['config']['testObservability'],null)&&(process[_0xdb209e(0x288)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x5c941e['config'][_0xdb209e(0x1ad)]);!helper[_0xdb209e(0x29f)](_0x5c941e[_0xdb209e(0x256)]['accessibility'])&&(process[_0xdb209e(0x288)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x5c941e[_0xdb209e(0x256)][_0xdb209e(0x1b8)]);const {extension:extension=['js',_0x3fd799[_0xdb209e(0x269)],_0x3fd799[_0xdb209e(0x263)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x3fd799[_0xdb209e(0x208)]]}=_0x556527,_0x4bfef1={..._0x556527};_0x4bfef1[_0xdb209e(0x23d)]=null;const _0x561d7f=_0x4bfef1;let _0x3a5fcf;if(testOpsHelper[_0xdb209e(0x271)]()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0x4a623f=process[_0xdb209e(0x288)][_0xdb209e(0x20d)];!helper[_0xdb209e(0x29f)](_0x5c941e[_0xdb209e(0x1d9)])&&_0x5c941e[_0xdb209e(0x1d9)][_0xdb209e(0x1b3)](_0x3fd799['JmqSM'])&&(_0x4a623f=_0x5c941e[_0xdb209e(0x1d9)]['get'](_0x3fd799[_0xdb209e(0x227)])),_0x3a5fcf=testOpsHelper['parseFileNames'](_0x4a623f);}if(helper[_0xdb209e(0x29f)](_0x3a5fcf)){const _0x24ebea={};_0x24ebea[_0xdb209e(0x1b0)]=ignore,_0x24ebea[_0xdb209e(0x21a)]=extension,_0x24ebea[_0xdb209e(0x250)]=file,_0x24ebea[_0xdb209e(0x1fa)]=recursive,_0x24ebea['sort']=sort,_0x24ebea[_0xdb209e(0x1ce)]=spec,_0x3a5fcf=_0x3fd799[_0xdb209e(0x1af)](collectFiles,_0x24ebea),_0x3fd799['emJeg'](nestedKeyValue,_0x3a5fcf,[_0x3fd799['leXIv']])&&(_0x3a5fcf=_0x3a5fcf[_0xdb209e(0x1aa)]);}const _0x89754d=helper['parseTestOrchestrationOptions'](_0x5c941e[_0xdb209e(0x256)]);!helper[_0xdb209e(0x212)](_0x89754d)&&helper[_0xdb209e(0x19b)](_0x89754d[_0xdb209e(0x1f7)])&&(_0x561d7f[_0xdb209e(0x24e)]=_0x89754d['retryTestsOnFailure'][_0xdb209e(0x287)]);if(!helper[_0xdb209e(0x1cf)]()){const _0x3caba0=0x1,_0x47e2cf={..._0x561d7f};_0x47e2cf[_0xdb209e(0x1ce)]=[..._0x3a5fcf],_0x28fed7[_0xdb209e(0x27b)]({'mochaOpts':_0x47e2cf,'configuration':{'platform':os['platform']()}});if(_0x5c941e[_0xdb209e(0x256)][_0xdb209e(0x1b8)]){const _0x47fdbb={};_0x47fdbb[_0xdb209e(0x1b8)]=!![];const _0x390659=_0x47fdbb;_0x3fd799[_0xdb209e(0x1fc)](_0x5c941e[_0xdb209e(0x256)][_0xdb209e(0x1a5)],null)&&(_0x390659[_0xdb209e(0x1a5)]=_0x5c941e[_0xdb209e(0x256)][_0xdb209e(0x1a5)],delete _0x390659[_0xdb209e(0x1a5)][_0x3fd799[_0xdb209e(0x211)]],delete _0x390659[_0xdb209e(0x1a5)][_0x3fd799[_0xdb209e(0x1b1)]],delete _0x390659[_0xdb209e(0x1a5)][_0x3fd799[_0xdb209e(0x1ca)]]);const _0xd4da0d={};_0xd4da0d[_0xdb209e(0x242)]=_0x390659,_0x28fed7[0x0]['configuration'][_0xdb209e(0x27a)]=_0xd4da0d;}logger['info'](_0x3fd799[_0xdb209e(0x26e)]),logger[_0xdb209e(0x257)](_0x3fd799['MNTRS']),_0x3fd799[_0xdb209e(0x23f)](parallelTestRun,_0x28fed7,_0x3caba0,_0x5c941e)[_0xdb209e(0x1dd)](_0x3795eb=>{const _0x347a60=_0xdb209e;PerformanceTester[_0x347a60(0x1e3)](PerformanceEvents[_0x347a60(0x20c)]),_0x3fd799['pIfqm'](printStats,_0x3795eb,_0x556527[_0x347a60(0x203)],_0x556527[_0x347a60(0x28f)]||_0x556527[_0x3fd799[_0x347a60(0x26f)]]);})[_0xdb209e(0x27c)](()=>{const _0x475968=_0xdb209e;PerformanceTester[_0x475968(0x1e3)](PerformanceEvents[_0x475968(0x20c)]);try{const {browserstackFolderPath:_0x3c55d4,tcgConfigPath:_0x6a270f}=helper[_0x475968(0x1c3)]();fs['unlinkSync'](_0x6a270f),fs[_0x475968(0x1c0)](_0x3c55d4);}catch(_0x52da6b){logger['debug'](_0x3fd799['wRnCV'],_0x52da6b);}try{utilities[_0x475968(0x221)](_0x3fd799[_0x475968(0x1c2)],{},_0x5c941e[_0x475968(0x256)],_0x5c941e['framework']);}catch(_0x4713e3){logger[_0x475968(0x1b2)](_0x475968(0x22b)+_0x4713e3[_0x475968(0x19a)]);}try{helper[_0x475968(0x2a7)]();}catch(_0xd4be58){logger[_0x475968(0x1b2)](_0x475968(0x291)+_0xd4be58);}testOpsHelper[_0x475968(0x205)]();});}else{const _0x2feebe=helper[_0xdb209e(0x220)](_0x5c941e[_0xdb209e(0x256)]);let _0x3f44e3=helper['getHubUrl'](_0x5c941e[_0xdb209e(0x256)]);_0xdfe16a=helper[_0xdb209e(0x1ac)](_0x5c941e['config'],_0x2feebe,constants[_0xdb209e(0x1cd)][_0xdb209e(0x23a)]);helper[_0xdb209e(0x277)]()[_0xdb209e(0x29b)]&&(_0x3f44e3=centralScannerConstants['BROWSERSTACK_GRR_US_HUB_URL']);let _0x5be76f;const _0x506743=_0x5c941e['config']['parallelsPerPlatform']||helper[_0xdb209e(0x1bc)](_0x556527,_0x59fd26,_0x5c941e[_0xdb209e(0x256)],constants[_0xdb209e(0x1cd)][_0xdb209e(0x23a)])||0x1;helper['validPlatformsPresent'](_0x5c941e['config'])?_0x5be76f=_0x3fd799[_0xdb209e(0x25c)](_0x5c941e[_0xdb209e(0x256)]['platforms'][_0xdb209e(0x241)],_0x506743):_0x5be76f=_0x506743;const _0x436cc8=_0x3fd799[_0xdb209e(0x1af)](getPercyOptions,_0x5c941e[_0xdb209e(0x256)]);if(_0x3fd799[_0xdb209e(0x1d1)](_0x5c941e[_0xdb209e(0x256)][_0xdb209e(0x26b)],0x1))_0x3a5fcf[_0xdb209e(0x1ea)](_0x3ce322=>{const _0x2aa555=_0xdb209e,_0x38fc67=[];_0xdfe16a[_0x2aa555(0x1ea)]((_0x491837,_0x5dccbe)=>{const _0x349748=_0x2aa555,_0x194153={};_0x194153[_0x349748(0x1ce)]=[_0x3ce322],_0x38fc67[_0x349748(0x27b)]({'mochaOpts':Object['assign']({},_0x561d7f,_0x194153),'configuration':{'server':_0x3f44e3,'capability':_0x491837,'proxySettings':_0x5c941e[_0x349748(0x256)]['proxySettings'],'platform':helper[_0x349748(0x216)](_0x491837),'browserStackLogLevel':_0x5c941e[_0x349748(0x256)][_0x349748(0x2a3)],'platformIndex':_0x5dccbe,'browserStackPercyOptions':_0x436cc8,'platformCaps':Object['assign']({'index':_0x5dccbe},_0x5c941e[_0x349748(0x256)][_0x349748(0x1df)][_0x5dccbe])}});}),_0x28fed7[_0x2aa555(0x27b)](..._0x38fc67);});else{const _0x485b1a=[];_0xdfe16a[_0xdb209e(0x1ea)]((_0x105e53,_0x486d23)=>{const _0x1e03f9=_0xdb209e;let _0x5201d5=Object['assign']({},_0x561d7f);testOpsHelper[_0x1e03f9(0x271)]()&&testOpsHelper[_0x1e03f9(0x280)]()&&(_0x5201d5={..._0x5201d5,'spec':[..._0x3a5fcf]}),_0x485b1a['push']({'mochaOpts':_0x5201d5,'configuration':{'server':_0x3f44e3,'capability':_0x105e53,'proxySettings':_0x5c941e[_0x1e03f9(0x256)][_0x1e03f9(0x1e2)],'platform':helper[_0x1e03f9(0x216)](_0x105e53),'browserStackLogLevel':_0x5c941e[_0x1e03f9(0x256)][_0x1e03f9(0x2a3)],'platformIndex':_0x486d23,'browserStackPercyOptions':_0x436cc8,'platformCaps':Object[_0x1e03f9(0x223)]({'index':_0x486d23},_0x5c941e['config'][_0x1e03f9(0x1df)][_0x486d23])}});}),_0x28fed7[_0xdb209e(0x27b)](..._0x485b1a);}logger[_0xdb209e(0x257)]('Running\x20your\x20mocha\x20tests\x20across\x20'+_0x5c941e[_0xdb209e(0x256)][_0xdb209e(0x1df)][_0xdb209e(0x241)]+_0xdb209e(0x1d0)),logger[_0xdb209e(0x257)](_0x3fd799['MNTRS']);let _0x598083;_0x3fd799['mqjLO'](parallelTestRun,_0x28fed7,_0x5be76f,_0x5c941e)[_0xdb209e(0x1dd)](_0x2d129e=>{const _0x99e32e=_0xdb209e;PerformanceTester[_0x99e32e(0x1e3)](PerformanceEvents[_0x99e32e(0x20c)]),_0x598083=_0x2d129e,_0x3fd799[_0x99e32e(0x237)](printStats,_0x2d129e,_0x556527['reporter'],_0x556527[_0x99e32e(0x28f)]||_0x556527[_0x3fd799[_0x99e32e(0x26f)]]);})['finally'](async()=>{const _0xa49b0c=_0xdb209e;PerformanceTester['start'](PerformanceEvents[_0xa49b0c(0x20c)]),_0x5c941e[_0xa49b0c(0x232)]=helper[_0xa49b0c(0x2a8)](_0x598083,_0x3fd799['wWbmh']),await utilities[_0xa49b0c(0x22c)](_0x5c941e),testOpsHelper[_0xa49b0c(0x205)]();});}}module[a31_0x481dd6(0x1fe)]=run;