#!/usr/bin/env node
'use strict';const a33_0x2367d3=a33_0x3bab;(function(_0x21fed2,_0x5d5674){const _0x237df9=a33_0x3bab,_0x53c860=_0x21fed2();while(!![]){try{const _0x2670a5=-parseInt(_0x237df9(0x24d))/0x1*(-parseInt(_0x237df9(0x22f))/0x2)+-parseInt(_0x237df9(0x1c7))/0x3+-parseInt(_0x237df9(0x1dd))/0x4+-parseInt(_0x237df9(0x1c0))/0x5+-parseInt(_0x237df9(0x220))/0x6*(-parseInt(_0x237df9(0x246))/0x7)+parseInt(_0x237df9(0x28c))/0x8*(parseInt(_0x237df9(0x20a))/0x9)+parseInt(_0x237df9(0x1cb))/0xa*(parseInt(_0x237df9(0x1d9))/0xb);if(_0x2670a5===_0x5d5674)break;else _0x53c860['push'](_0x53c860['shift']());}catch(_0x1cd5c5){_0x53c860['push'](_0x53c860['shift']());}}}(a33_0xc73f,0xe2b13));const chalk=require(a33_0x2367d3(0x214)),logger=require(a33_0x2367d3(0x224))['winstonLogger'],helper=require(a33_0x2367d3(0x282)),utilities=require(a33_0x2367d3(0x25f)),testOpsHelper=require('../../helpers/test-observability/utils'),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a33_0x2367d3(0x259)),{requireModule,nestedKeyValue}=require(a33_0x2367d3(0x282)),{getPercyOptions}=require(a33_0x2367d3(0x25c)),Base=requireModule(a33_0x2367d3(0x20b),'mocha'),collectFiles=requireModule('mocha/lib/cli/collect-files.js',a33_0x2367d3(0x225)),constants=require(a33_0x2367d3(0x203)),PerformanceTester=require(a33_0x2367d3(0x2bc)),PerformanceEvents=require('../../helpers/performance/constants')[a33_0x2367d3(0x298)],centralScannerConstants=require('../../helpers/central-scanner/constants'),{FRAMEWORKS}=require(a33_0x2367d3(0x1ce)),TestHubHandler=require('../../helpers/testhub/testhubHandler');function a33_0x3bab(_0xfff964,_0x12bb8d){const _0xc73f00=a33_0xc73f();return a33_0x3bab=function(_0x3babf2,_0x181299){_0x3babf2=_0x3babf2-0x1b3;let _0x3d7b8e=_0xc73f00[_0x3babf2];return _0x3d7b8e;},a33_0x3bab(_0xfff964,_0x12bb8d);}function tag(_0x19ad69,_0xdfaf1e,_0x45d26e,_0x4fe978){const _0x295cfb=a33_0x2367d3,_0x255cc9={'bGDiH':function(_0x2cec6e,_0x518de1){return _0x2cec6e+_0x518de1;},'JuLMh':function(_0x4c7cab,_0x225b03){return _0x4c7cab(_0x225b03);},'QwIlx':function(_0x1c8f99,_0x4b6fac){return _0x1c8f99+_0x4b6fac;},'pwQZc':function(_0x337aac,_0x2b1058){return _0x337aac+_0x2b1058;},'tQGrB':function(_0x49c6eb,_0x225f4b){return _0x49c6eb+_0x225f4b;},'ijrtT':function(_0x53e804,_0x4bb270){return _0x53e804+_0x4bb270;}},_0x5d4c7e=_0x45d26e?'/>':'>',_0xa2f577=[];let _0x262bbe;for(const _0x1e4686 in _0xdfaf1e){Object[_0x295cfb(0x243)][_0x295cfb(0x299)][_0x295cfb(0x1f1)](_0xdfaf1e,_0x1e4686)&&_0xa2f577['push'](_0x255cc9[_0x295cfb(0x226)](_0x255cc9[_0x295cfb(0x226)](_0x255cc9[_0x295cfb(0x226)](_0x1e4686,'=\x22'),_0x255cc9[_0x295cfb(0x275)](escape,_0xdfaf1e[_0x1e4686])),'\x22'));}return _0x262bbe=_0x255cc9['bGDiH'](_0x255cc9[_0x295cfb(0x226)](_0x255cc9[_0x295cfb(0x274)]('<',_0x19ad69),_0xa2f577[_0x295cfb(0x2b2)]?_0x255cc9['pwQZc']('\x20',_0xa2f577[_0x295cfb(0x281)]('\x20')):''),_0x5d4c7e),_0x4fe978&&(_0x262bbe+=_0x255cc9[_0x295cfb(0x1b9)](_0x255cc9[_0x295cfb(0x274)](_0x255cc9[_0x295cfb(0x262)](_0x4fe978,'</'),_0x19ad69),_0x5d4c7e)),_0x262bbe;}let xunitContent='';function xunitWrite(_0x1246e7){xunitContent+=_0x1246e7;}function xunitTest(_0x10191e,_0x39ed21){const _0x416c5c=a33_0x2367d3,_0x428be2={'SuIgs':function(_0x58e259,_0x34e9f0){return _0x58e259/_0x34e9f0;},'JBuyk':function(_0x1d4482,_0x243e23){return _0x1d4482===_0x243e23;},'RFhIJ':_0x416c5c(0x27f),'ELbIE':function(_0x3ea5d0,_0xa89f1e){return _0x3ea5d0+_0xa89f1e;},'pPwbL':function(_0xdb602,_0x4a5bcf){return _0xdb602(_0x4a5bcf);},'tOncm':function(_0x47ddc0,_0x5e37af,_0x10cdbb,_0x3e3a46,_0x377ea0){return _0x47ddc0(_0x5e37af,_0x10cdbb,_0x3e3a46,_0x377ea0);},'nuCMP':_0x416c5c(0x1ec),'FOYlq':function(_0x2f81b6,_0x1ad34b,_0x911099,_0x5bbb18,_0x5695b3){return _0x2f81b6(_0x1ad34b,_0x911099,_0x5bbb18,_0x5695b3);},'qGmLD':_0x416c5c(0x204),'BCiOC':function(_0x22bfa9,_0x1feb19){return _0x22bfa9(_0x1feb19);},'TRoip':function(_0xcea642,_0x5b62d8){return _0xcea642(_0x5b62d8);},'CZMLS':function(_0x1d8af6,_0x4c4a3e,_0x5d8242,_0x5d9dc1){return _0x1d8af6(_0x4c4a3e,_0x5d8242,_0x5d9dc1);},'ALhtd':'skipped','OUJCc':function(_0x3a6859,_0x39cc56){return _0x3a6859(_0x39cc56);}};Base['useColors']=![];var _0x1a349b={'classname':_0x10191e[_0x416c5c(0x261)],'name':_0x10191e[_0x416c5c(0x1ff)],'time':_0x428be2[_0x416c5c(0x21f)](_0x10191e[_0x416c5c(0x253)],0x3e8)||0x0,'platform':_0x39ed21};if(_0x428be2[_0x416c5c(0x1df)](_0x10191e['state'],_0x428be2['RFhIJ'])){var _0x4dd563=_0x10191e[_0x416c5c(0x1c6)],_0x5c4649=!Base[_0x416c5c(0x25d)]&&Base[_0x416c5c(0x2b0)](_0x4dd563)?_0x428be2['ELbIE']('\x0a',Base[_0x416c5c(0x1e0)](_0x4dd563[_0x416c5c(0x242)],_0x4dd563[_0x416c5c(0x1e2)])):'';_0x428be2[_0x416c5c(0x27d)](xunitWrite,_0x428be2[_0x416c5c(0x29e)](tag,_0x428be2[_0x416c5c(0x212)],_0x1a349b,![],_0x428be2[_0x416c5c(0x277)](tag,_0x428be2[_0x416c5c(0x286)],{},![],_0x428be2[_0x416c5c(0x247)](_0x428be2['ELbIE'](_0x428be2[_0x416c5c(0x247)](_0x428be2[_0x416c5c(0x27d)](escape,_0x4dd563[_0x416c5c(0x244)]),_0x428be2['pPwbL'](escape,_0x5c4649)),'\x0a'),_0x428be2[_0x416c5c(0x209)](escape,_0x4dd563[_0x416c5c(0x1e6)])))));}else _0x10191e[_0x416c5c(0x24c)]?_0x428be2[_0x416c5c(0x280)](xunitWrite,_0x428be2['FOYlq'](tag,_0x428be2[_0x416c5c(0x212)],_0x1a349b,![],_0x428be2[_0x416c5c(0x1f9)](tag,_0x428be2[_0x416c5c(0x1c1)],{},!![]))):_0x428be2['OUJCc'](xunitWrite,_0x428be2[_0x416c5c(0x1f9)](tag,_0x428be2[_0x416c5c(0x212)],_0x1a349b,!![]));};function getStats(_0x1eef64){const _0x2cd1b1=a33_0x2367d3,_0x31f0f5={};_0x31f0f5[_0x2cd1b1(0x241)]=_0x2cd1b1(0x2a7),_0x31f0f5[_0x2cd1b1(0x200)]=_0x2cd1b1(0x29f),_0x31f0f5[_0x2cd1b1(0x1e5)]=_0x2cd1b1(0x27f),_0x31f0f5[_0x2cd1b1(0x25b)]=_0x2cd1b1(0x1ee);const _0x3e899b=_0x31f0f5,_0x1bcde6=Object[_0x2cd1b1(0x258)](_0x1eef64);let _0x54550a=0x0,_0x1b382d=0x0,_0x2d6798=0x0,_0x55755d=0x0;const _0x219db4=new Set();_0x1bcde6[_0x2cd1b1(0x1c5)](_0x5a1794=>{const _0x5c6a95=_0x2cd1b1,_0x2c98dd={};_0x2c98dd['GqaTB']=_0x3e899b[_0x5c6a95(0x241)],_0x2c98dd[_0x5c6a95(0x1ca)]=_0x3e899b[_0x5c6a95(0x200)],_0x2c98dd[_0x5c6a95(0x24e)]=_0x3e899b[_0x5c6a95(0x1e5)];const _0x17c62f=_0x2c98dd;_0x1eef64[_0x5a1794][_0x3e899b['hUAiM']][_0x5c6a95(0x1c5)](_0x2c8bc0=>{const _0x296f0b=_0x5c6a95;_0x219db4[_0x296f0b(0x27b)](_0x2c8bc0[_0x17c62f[_0x296f0b(0x20f)]]),_0x54550a++;switch(_0x2c8bc0[_0x296f0b(0x271)]){case _0x17c62f['OVSna']:_0x2d6798++;break;case _0x17c62f[_0x296f0b(0x24e)]:_0x1b382d++;break;default:_0x55755d++;}});});const _0x510387={};return _0x510387[_0x2cd1b1(0x245)]=_0x219db4['size'],_0x510387['platforms']=_0x1bcde6,_0x510387[_0x2cd1b1(0x22a)]=_0x54550a,_0x510387[_0x2cd1b1(0x27c)]=_0x1b382d,_0x510387['testsPassed']=_0x2d6798,_0x510387[_0x2cd1b1(0x202)]=_0x55755d,_0x510387;}function a33_0xc73f(){const _0x2cff88=['9lhdngQ','mocha/lib/reporters/base.js','IPRFz','bstack:options','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','GqaTB','xiKQY','list','nuCMP','NROZF','chalk','start','udLvJ','sVqwA','TLBLc','DYaVW','accessibility','reporterOptions','bold','fZJgy','stringify','SuIgs','4402902cLIViY','eHmPr','consoleLog','LnHxS','../../helpers/logger','mocha','bGDiH','uCMNI','isUndefined','launchBuild','totalTests','passes','LBvIG','kNsuX','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','8682sIMggo','NcuSs','bgRedBright','UZLLl','ovXwS','getHubUrl','validPlatformsPresent','BbgCx','BROWSERSTACK_GRR_US_HUB_URL','config','unlinkSync','JMgMg','exitCode','has','min','green','pWQZv','currentRetry','mwfEp','actual','prototype','message','testSuites','7kwdEqE','ELbIE','Shbhe','Mocha\x20Tests','getPlatformName','isEmpty','isPending','72ePYVTi','QVbaw','files','cjs','finally','ignore','duration','tVjPy','WsysO','central_scanner','exports','keys','../test-runner','capability','hUAiM','../../helpers/percy/utils','hideDiff','debug','../../helpers/utilities','BROWSERSTACK_TEST_OBSERVABILITY_YML','fullTitle','ijrtT','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','ztjOp','bLGNX','TiXrA','AJMCA','rmdirSync','\x20passed','</testsuite>','Now,\x20showing\x20logs\x20from\x20mocha','spec','cliConfig','includeTagsInTestingScope','XReVJ','hjlXp','state','printBuildLink','DMFhJ','QwIlx','JuLMh','nXyrB','FOYlq','qwRZL','FRAMEWORKS','getTCGConfigFilePaths','add','testsFailed','pPwbL','log','failed','TRoip','join','../../helpers/helper','kTxns','NoWhq','isBrowserstackInfra','qGmLD','retries','recursive','output','handleApp','getOwnPropertyNames','6173192jNtaiN','uEgte','then','scKmH','testsuite','notifyUpdate','Printing\x20stats\x20of\x20tests','indexOf','Couldn\x27t\x20write\x20xunit\x20result\x20to','testObservability','ChpzX','Total\x20Suites:\x20','EVENTS','hasOwnProperty','CtilH','hOTaO','YMheq','speed','tOncm','passed','framework','YvUkd','BROWSERSTACK_RERUN_TESTS','accessibilityOptions','writeFileSync','ZImgY','proxySettings','suite','Listing\x20all\x20the\x20failures','uUzuG','extension','Writing\x20json\x20result\x20to\x20file','sort','lAxWF','\x20total','json','showDiff','error','length','failures','reporter','btpSy','env','PUdjJ','maxRetries','retryTestsOnFailure','includeEncodedExtension','assign','../../helpers/performance/performance-tester','olmaL','BnAIw','nNcYx','parallelsPerPlatform','fhgkq','finalExecution','mnpNf','tQGrB','stats','SDK_CLEANUP','VzVPJ','OnkUG','PbTZy','shouldReRunObservabilityTests','3580335eUFrbs','ALhtd','WlkuK','reporter-option','DEDtB','forEach','err','1445574BeLczR','get','push','OVSna','310JqWjWj','WlldV','hhscG','../../helpers/test-observability/constants','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','GxmQk','aFcCB','MOCHA','platform','Writing\x20xunit\x20result\x20to\x20file','prepareCapabilities','rootHooks','mmyHr','pending','377938hCXtUT','wHAwq','object','EfylQ','3026640mOtIjN','parseFileNames','JBuyk','generateDiff','info','expected','Couldn\x27t\x20write\x20json\x20result\x20to','file','rAvmH','stack','getErrorMessageFromResults','bFbAG','dLcpI','jMbgK','Running\x20your\x20mocha\x20tests\x20across\x20','testcase','jAYdn','results','isNotUndefined','platforms','call','Running\x20your\x20mocha\x20tests','oKWWd','excludeTagsInTestingScope','Setting\x20non\x20exit\x20code\x20for\x20failures','Wmduh','\x20platforms','LJffy','CZMLS','isTestObservabilitySession','setUserConfigPath','ksdah','Tests:\x20\x20\x20\x20\x20\x20\x20','DnZog','title','YazNJ','DfKii','testsPending','../utils/constants','failure','errorMessage','setupTCGAuth','map','\x0a\x0a\x0a','BCiOC'];a33_0xc73f=function(){return _0x2cff88;};return a33_0xc73f();}function errorJSON(_0x40d53c){const _0x4a8f94=a33_0x2367d3;var _0x57c991={};return Object[_0x4a8f94(0x28b)](_0x40d53c)[_0x4a8f94(0x1c5)](function(_0x3d4033){_0x57c991[_0x3d4033]=_0x40d53c[_0x3d4033];},_0x40d53c),_0x57c991;}function cleanCycles(_0x6301ce){const _0x104872=a33_0x2367d3,_0x594884={};_0x594884[_0x104872(0x266)]=function(_0x3c261c,_0x44613d){return _0x3c261c===_0x44613d;},_0x594884[_0x104872(0x1c2)]=_0x104872(0x1db),_0x594884[_0x104872(0x265)]=function(_0x514c11,_0x74f4fa){return _0x514c11!==_0x74f4fa;},_0x594884[_0x104872(0x2bd)]=function(_0x4058bf,_0x1b4c2c){return _0x4058bf+_0x1b4c2c;};const _0x54cab3=_0x594884;var _0x2ab0de=[];return JSON['parse'](JSON[_0x104872(0x21e)](_0x6301ce,function(_0x425ed3,_0x5ee6d4){const _0x2d278d=_0x104872;if(_0x54cab3[_0x2d278d(0x266)](typeof _0x5ee6d4,_0x54cab3[_0x2d278d(0x1c2)])&&_0x54cab3[_0x2d278d(0x265)](_0x5ee6d4,null)){if(_0x54cab3[_0x2d278d(0x265)](_0x2ab0de[_0x2d278d(0x293)](_0x5ee6d4),-0x1))return _0x54cab3[_0x2d278d(0x2bd)]('',_0x5ee6d4);_0x2ab0de[_0x2d278d(0x1c9)](_0x5ee6d4);}return _0x5ee6d4;}));}function clean(_0x12093c){const _0x1f1c37=a33_0x2367d3,_0xaf7dff={'ZImgY':function(_0x3445be,_0xe91065){return _0x3445be instanceof _0xe91065;},'WsysO':function(_0x5658dd,_0x2abd07){return _0x5658dd(_0x2abd07);},'lAxWF':function(_0x2c0541,_0x2c896f){return _0x2c0541(_0x2c896f);}};var _0x414d0f=_0x12093c[_0x1f1c37(0x1c6)]||{};return _0xaf7dff[_0x1f1c37(0x2a5)](_0x414d0f,Error)&&(_0x414d0f=_0xaf7dff[_0x1f1c37(0x255)](errorJSON,_0x414d0f)),{'title':_0x12093c[_0x1f1c37(0x1ff)],'fullTitle':_0x12093c[_0x1f1c37(0x261)],'file':_0x12093c[_0x1f1c37(0x1e4)],'duration':_0x12093c[_0x1f1c37(0x253)],'currentRetry':_0x12093c[_0x1f1c37(0x240)],'speed':_0x12093c[_0x1f1c37(0x29d)],'err':_0xaf7dff[_0x1f1c37(0x2ad)](cleanCycles,_0x414d0f)};}function printStats(_0xf3bdbe,_0x36b3bb=a33_0x2367d3(0x26c),_0x5d2c0d={}){const _0x409216=a33_0x2367d3,_0x3658eb={'ChpzX':function(_0x5977fd,_0x32ff05){return _0x5977fd(_0x32ff05);},'JUqFa':function(_0x1eff75,_0x323487){return _0x1eff75===_0x323487;},'mnpNf':_0x409216(0x29f),'lFzHE':_0x409216(0x22b),'qwRZL':function(_0x3e84e2,_0x28e871){return _0x3e84e2(_0x28e871);},'AJMCA':function(_0x266f82,_0x3c28f2){return _0x266f82===_0x3c28f2;},'DfKii':_0x409216(0x27f),'oZgCs':_0x409216(0x2b3),'vtZmZ':_0x409216(0x1d8),'tVjPy':_0x409216(0x1ee),'gzHIA':function(_0x5455c0,_0x4d0db6){return _0x5455c0===_0x4d0db6;},'WlldV':function(_0x2cc86e,_0x50072e){return _0x2cc86e*_0x50072e;},'fhgkq':function(_0x39c0d1,_0x5d7461,_0x303e71){return _0x39c0d1(_0x5d7461,_0x303e71);},'oKWWd':function(_0x42d0b5,_0x442913){return _0x42d0b5===_0x442913;},'sVqwA':function(_0x38133d,_0x302695){return _0x38133d>_0x302695;},'PDzCR':function(_0x20017a){return _0x20017a();},'jMbgK':function(_0x134baf,_0x27e4c4){return _0x134baf===_0x27e4c4;},'iKBOp':'doc','aFcCB':function(_0x223f00,_0x5b11b4){return _0x223f00(_0x5b11b4);},'qXjEz':function(_0x4d047f,_0x2baf6f){return _0x4d047f>_0x2baf6f;},'YMheq':_0x409216(0x1f5),'vVEQz':_0x409216(0x292),'JMgMg':function(_0x54e6dc,_0x49bbe7){return _0x54e6dc+_0x49bbe7;},'pWQZv':'Total\x20Platforms:\x20','bFbAG':_0x409216(0x297),'eHmPr':function(_0x19e50f,_0x7e4472){return _0x19e50f+_0x7e4472;},'PUdjJ':_0x409216(0x1fd),'uCMNI':function(_0x349197,_0x274c2f){return _0x349197>_0x274c2f;},'ihFng':function(_0x2fd188,_0x5e2e77){return _0x2fd188>_0x5e2e77;},'ovXwS':function(_0x12e7db,_0x25af7e){return _0x12e7db+_0x25af7e;},'LBvIG':function(_0x29f8da,_0x313d35){return _0x29f8da+_0x313d35;},'DnZog':function(_0x76ee4f,_0x1fdf85){return _0x76ee4f+_0x1fdf85;},'uEgte':_0x409216(0x208),'EfylQ':function(_0x555066,_0x381dd0){return _0x555066===_0x381dd0;},'nXyrB':_0x409216(0x2af),'dQOWy':_0x409216(0x2ab),'xiKQY':_0x409216(0x1e3),'rGJMe':_0x409216(0x1cf),'dHRsz':function(_0x384b1c,_0x9ac38e){return _0x384b1c===_0x9ac38e;},'Wmduh':'xunit','hhscG':_0x409216(0x249),'ksdah':function(_0x44d09d,_0x59a91d){return _0x44d09d||_0x59a91d;},'UZLLl':function(_0x2c3b71,_0x539985,_0x59ccf0,_0x2712db){return _0x2c3b71(_0x539985,_0x59ccf0,_0x2712db);},'hOTaO':_0x409216(0x290),'fZJgy':function(_0x4a12bd,_0x4b1cb6){return _0x4a12bd-_0x4b1cb6;},'udLvJ':function(_0xc44d90,_0x168fd9){return _0xc44d90/_0x168fd9;},'NoWhq':_0x409216(0x26a),'nNcYx':_0x409216(0x1d4),'NcuSs':_0x409216(0x294),'htSOg':_0x409216(0x22e),'IPRFz':function(_0x41c144,_0x3f2fa1){return _0x41c144===_0x3f2fa1;},'LnHxS':_0x409216(0x2a8),'ztjOp':'****\x20FAILURES\x20****'};if(_0x3658eb[_0x409216(0x1ea)](_0x36b3bb,_0x3658eb['iKBOp']))return;const _0x10f5d1=0x0,_0x3cafe0=()=>{const _0x462099=_0x409216;return _0x3658eb['ChpzX'](Array,_0x10f5d1)[_0x462099(0x281)]('\x20\x20');},{testSuites:_0x40a7c7,platforms:_0x109050,totalTests:_0x19cbc3,testsFailed:_0x2d74d5,testsPassed:_0x593a0a,testsPending:_0x5d8a29}=_0x3658eb['aFcCB'](getStats,_0xf3bdbe);_0x3658eb['qXjEz'](_0x2d74d5,0x0)&&(logger['debug'](_0x3658eb[_0x409216(0x29c)]),process[_0x409216(0x23b)]=Math[_0x409216(0x23d)](_0x2d74d5,0xff));logger[_0x409216(0x25e)](_0x3658eb['vVEQz']);const _0x1cecb3=''+_0x3658eb[_0x409216(0x23a)](chalk[_0x409216(0x21c)](_0x3658eb[_0x409216(0x23f)]),_0x109050[_0x409216(0x2b2)]),_0x3c03ed=''+_0x3658eb[_0x409216(0x23a)](chalk[_0x409216(0x21c)](_0x3658eb[_0x409216(0x1e8)]),_0x40a7c7),_0x2297f9=''+_0x3658eb[_0x409216(0x23a)](_0x3658eb['JMgMg'](_0x3658eb[_0x409216(0x221)](chalk[_0x409216(0x21c)](_0x3658eb[_0x409216(0x2b7)]),_0x3658eb[_0x409216(0x227)](_0x2d74d5,0x0)?chalk[_0x409216(0x21c)]['red'](_0x2d74d5+'\x20failed')+',\x20':''),_0x3658eb['ihFng'](_0x5d8a29,0x0)?chalk[_0x409216(0x21c)]['yellow'](_0x5d8a29+'\x20skipped')+',\x20':''),_0x3658eb[_0x409216(0x217)](_0x593a0a,0x0)?chalk[_0x409216(0x21c)][_0x409216(0x23e)](_0x593a0a+_0x409216(0x269))+',\x20':'')+_0x19cbc3+_0x409216(0x2ae);console[_0x409216(0x27e)](_0x3658eb[_0x409216(0x233)](_0x3658eb[_0x409216(0x22c)](_0x3658eb[_0x409216(0x1fe)](_0x3658eb[_0x409216(0x1fe)](_0x3658eb[_0x409216(0x23a)](_0x3658eb[_0x409216(0x28d)],_0x1cecb3),'\x0a'),_0x3c03ed),'\x0a'),_0x2297f9));if(_0x3658eb[_0x409216(0x1dc)](_0x36b3bb,_0x3658eb[_0x409216(0x276)])){const _0xa70d26={},_0x557cb4={};_0x557cb4[_0x409216(0x245)]=_0x40a7c7,_0x557cb4['platforms']=_0x109050,_0x557cb4[_0x409216(0x27c)]=_0x2d74d5,_0x557cb4['testsPassed']=_0x593a0a,_0x557cb4['testsPending']=_0x5d8a29,_0xa70d26[_0x409216(0x1ba)]=_0x557cb4,_0x109050[_0x409216(0x1c5)](_0x4e443d=>{const _0x413c94=_0x409216;_0xa70d26[_0x4e443d]={'pending':[],'failures':[],'passes':[],'tests':_0xf3bdbe[_0x4e443d][_0x3658eb[_0x413c94(0x254)]][_0x413c94(0x207)](clean)},_0xf3bdbe[_0x4e443d][_0x3658eb[_0x413c94(0x254)]][_0x413c94(0x1c5)](_0x4a258d=>{const _0x1cd620=_0x413c94;if(_0x3658eb['JUqFa'](_0x4a258d[_0x1cd620(0x271)],_0x3658eb['mnpNf']))_0xa70d26[_0x4e443d][_0x3658eb['lFzHE']][_0x1cd620(0x1c9)](_0x3658eb['qwRZL'](clean,_0x4a258d));else _0x3658eb[_0x1cd620(0x267)](_0x4a258d[_0x1cd620(0x271)],_0x3658eb['DfKii'])?_0xa70d26[_0x4e443d][_0x3658eb['oZgCs']][_0x1cd620(0x1c9)](_0x3658eb[_0x1cd620(0x296)](clean,_0x4a258d)):_0xa70d26[_0x4e443d][_0x3658eb['vtZmZ']][_0x1cd620(0x1c9)](_0x3658eb['qwRZL'](clean,_0x4a258d));});});if(_0x5d2c0d[_0x409216(0x289)])try{logger[_0x409216(0x25e)](_0x3658eb['dQOWy'],_0x5d2c0d['output']),fs[_0x409216(0x2a4)](_0x5d2c0d[_0x409216(0x289)],JSON['stringify'](_0xa70d26,null,0x3));}catch(_0x348353){logger[_0x409216(0x2b1)](_0x3658eb[_0x409216(0x210)],_0x5d2c0d['output']),logger[_0x409216(0x25e)](_0x348353);}else logger[_0x409216(0x25e)](_0x3658eb['rGJMe']),console[_0x409216(0x27e)](JSON[_0x409216(0x21e)](_0xa70d26,null,0x3));}else{if(_0x3658eb['dHRsz'](_0x36b3bb,_0x3658eb[_0x409216(0x1f6)])){let _0x301eb9;const _0x3b27d5=_0x3658eb[_0x409216(0x1cd)];_0x5d2c0d&&(_0x301eb9=_0x5d2c0d['suiteName']);_0x301eb9=_0x3658eb[_0x409216(0x1fc)](_0x301eb9,_0x3b27d5);let _0x4edae4=0x0,_0x55fa5d=0x0,_0x1b98ac=0x0,_0x4e6a0b=0x0;_0x109050[_0x409216(0x1c5)](_0x31cdb4=>{const _0x5445b9=_0x409216,_0x29fb03={'DMFhJ':function(_0x482f7d,_0x938761){return _0x3658eb['gzHIA'](_0x482f7d,_0x938761);},'dLcpI':_0x3658eb[_0x5445b9(0x1b8)],'LJffy':_0x3658eb['DfKii'],'SuSTD':function(_0x31394d,_0x251300){const _0x55870c=_0x5445b9;return _0x3658eb[_0x55870c(0x1cc)](_0x31394d,_0x251300);}};_0xf3bdbe[_0x31cdb4][_0x3658eb['tVjPy']]['forEach'](_0xfd694=>{const _0x36a92d=_0x5445b9;if(_0x29fb03[_0x36a92d(0x273)](_0xfd694['state'],_0x29fb03[_0x36a92d(0x1e9)]))_0x4edae4++;else _0x29fb03['DMFhJ'](_0xfd694[_0x36a92d(0x271)],_0x29fb03[_0x36a92d(0x1f8)])&&_0x55fa5d++;_0x1b98ac++,_0x4e6a0b+=_0x29fb03['SuSTD'](_0xfd694['duration'],0x1);});}),_0x3658eb[_0x409216(0x278)](xunitWrite,_0x3658eb[_0x409216(0x232)](tag,_0x3658eb[_0x409216(0x29b)],{'name':_0x301eb9,'tests':_0x1b98ac,'failures':0x0,'errors':_0x55fa5d,'skipped':_0x3658eb[_0x409216(0x21d)](_0x3658eb[_0x409216(0x21d)](_0x1b98ac,_0x55fa5d),_0x4edae4),'timestamp':new Date()['toUTCString'](),'time':_0x3658eb[_0x409216(0x216)](_0x4e6a0b,0x3e8)||0x0},![])),_0x109050['forEach'](_0x49e305=>{const _0x147868=_0x409216;_0xf3bdbe[_0x49e305][_0x3658eb[_0x147868(0x254)]][_0x147868(0x1c5)](_0x4f274f=>{const _0xcd857d=_0x147868;_0x3658eb[_0xcd857d(0x1b6)](xunitTest,_0x4f274f,_0x49e305);});}),_0x3658eb[_0x409216(0x1d1)](xunitWrite,_0x3658eb[_0x409216(0x284)]);if(_0x5d2c0d[_0x409216(0x289)])try{logger['debug'](_0x3658eb[_0x409216(0x1b4)],_0x5d2c0d['output']),fs[_0x409216(0x2a4)](_0x5d2c0d[_0x409216(0x289)],xunitContent);}catch(_0x4b27c8){logger[_0x409216(0x2b1)](_0x3658eb[_0x409216(0x230)],_0x5d2c0d[_0x409216(0x289)]),logger[_0x409216(0x25e)](_0x4b27c8);}else logger['debug'](_0x3658eb['htSOg']),console[_0x409216(0x27e)](xunitContent);}else{if(_0x3658eb[_0x409216(0x20c)](_0x2d74d5,0x0))return;console[_0x409216(0x27e)](),logger[_0x409216(0x25e)](_0x3658eb[_0x409216(0x223)]),console['log'](chalk[_0x409216(0x21c)][_0x409216(0x231)](_0x3658eb[_0x409216(0x264)])),_0x109050[_0x409216(0x1c5)](_0xfe105f=>{const _0x59a5d4=_0x409216,_0x3beee7={'kNsuX':function(_0x4ba510,_0xa15250){const _0x4da7de=a33_0x3bab;return _0x3658eb[_0x4da7de(0x1f3)](_0x4ba510,_0xa15250);},'DYaVW':_0x3658eb[_0x59a5d4(0x201)]},_0x2423d8=[];_0xf3bdbe[_0xfe105f][_0x3658eb[_0x59a5d4(0x254)]]['forEach'](_0x4f6cbd=>{const _0x4a7d96=_0x59a5d4;_0x3beee7[_0x4a7d96(0x22d)](_0x4f6cbd[_0x4a7d96(0x271)],_0x3beee7[_0x4a7d96(0x219)])&&(_0x4f6cbd['titlePath']=()=>_0x4f6cbd['titlePathV'],_0x2423d8[_0x4a7d96(0x1c9)](_0x4f6cbd));}),_0x3658eb[_0x59a5d4(0x217)](_0x2423d8['length'],0x0)&&(Base[_0x59a5d4(0x222)](),Base['consoleLog'](_0x3658eb['PDzCR'](_0x3cafe0),chalk['bold']['bgBlueBright'](_0xfe105f)),Base[_0x59a5d4(0x211)](_0x2423d8));});}}}async function run(_0x265dfd,_0x10d393,_0x1eb8e6){const _0x1fcf3f=a33_0x2367d3,_0x4a1c39={'tNEma':function(_0x3fcb03,_0x45130e,_0x336419,_0x926075){return _0x3fcb03(_0x45130e,_0x336419,_0x926075);},'VzVPJ':_0x1fcf3f(0x1c3),'scKmH':'error\x20removing\x20tcg\x20config\x20file','PbTZy':'SDKTestSuccessful','NROZF':function(_0x5cb2bc,_0x310904,_0x2efe7f,_0x1a3c5b){return _0x5cb2bc(_0x310904,_0x2efe7f,_0x1a3c5b);},'uUzuG':_0x1fcf3f(0x225),'mmyHr':function(_0x4a59c3,_0x5374b3){return _0x4a59c3!=_0x5374b3;},'BnAIw':_0x1fcf3f(0x250),'DEDtB':'mjs','YvUkd':'test','fKcrU':'rerunTests','jAYdn':function(_0x1f94fa,_0x1e6c77){return _0x1f94fa(_0x1e6c77);},'GxmQk':function(_0x560ff2,_0x582d48,_0x1f9bd1){return _0x560ff2(_0x582d48,_0x1f9bd1);},'TLBLc':_0x1fcf3f(0x24f),'XReVJ':function(_0xff492b,_0x5def01){return _0xff492b!=_0x5def01;},'Shbhe':_0x1fcf3f(0x26e),'btpSy':_0x1fcf3f(0x1f4),'kTxns':_0x1fcf3f(0x2ba),'OnkUG':_0x1fcf3f(0x1f2),'wHAwq':_0x1fcf3f(0x26b),'hjlXp':function(_0x3a0ee1,_0x297bde,_0x2d65ab,_0x3d586b){return _0x3a0ee1(_0x297bde,_0x2d65ab,_0x3d586b);},'aZIpy':function(_0x288185,_0x46c798){return _0x288185*_0x46c798;},'CtilH':function(_0x3799a9,_0x22c16c){return _0x3799a9(_0x22c16c);},'eKodn':function(_0x166ebc,_0x414f80){return _0x166ebc!==_0x414f80;},'BbgCx':function(_0xc67cc2,_0x57966c,_0x66ee97,_0xfd03ab){return _0xc67cc2(_0x57966c,_0x66ee97,_0xfd03ab);}};helper[_0x1fcf3f(0x1fb)](_0x1eb8e6[_0x1fcf3f(0x2a0)],_0x265dfd),await _0x1eb8e6['initialize'](_0x265dfd);helper[_0x1fcf3f(0x285)]()?await helper[_0x1fcf3f(0x28a)](_0x1eb8e6['config']):await _0x1eb8e6[_0x1fcf3f(0x206)]();const _0x4e38b5=[];let _0x375434=[];if(!_0x1eb8e6[_0x1fcf3f(0x238)])return;!helper[_0x1fcf3f(0x228)](_0x1eb8e6['config'][_0x1fcf3f(0x2a3)])&&(process[_0x1fcf3f(0x2b6)][_0x1fcf3f(0x263)]=JSON[_0x1fcf3f(0x21e)](_0x1eb8e6[_0x1fcf3f(0x238)][_0x1fcf3f(0x2a3)]));const _0x54feaa=await TestHubHandler[_0x1fcf3f(0x229)](FRAMEWORKS[_0x1fcf3f(0x1d2)],_0x1eb8e6);_0x4a1c39[_0x1fcf3f(0x1d7)](_0x1eb8e6['config'][_0x1fcf3f(0x295)],null)&&(process['env'][_0x1fcf3f(0x260)]=_0x1eb8e6['config'][_0x1fcf3f(0x295)]);!helper[_0x1fcf3f(0x228)](_0x1eb8e6[_0x1fcf3f(0x238)][_0x1fcf3f(0x21a)])&&(process[_0x1fcf3f(0x2b6)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x1eb8e6[_0x1fcf3f(0x238)]['accessibility']);const {extension:extension=['js',_0x4a1c39[_0x1fcf3f(0x1b3)],_0x4a1c39[_0x1fcf3f(0x1c4)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x4a1c39[_0x1fcf3f(0x2a1)]]}=_0x265dfd,_0x3fc6e1={..._0x265dfd};_0x3fc6e1[_0x1fcf3f(0x1d6)]=null;const _0x370524=_0x3fc6e1;let _0x2af410;if(testOpsHelper[_0x1fcf3f(0x1fa)]()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0x8490=process[_0x1fcf3f(0x2b6)][_0x1fcf3f(0x2a2)];!helper['isUndefined'](_0x1eb8e6[_0x1fcf3f(0x26d)])&&_0x1eb8e6['cliConfig'][_0x1fcf3f(0x23c)](_0x4a1c39['fKcrU'])&&(_0x8490=_0x1eb8e6[_0x1fcf3f(0x26d)][_0x1fcf3f(0x1c8)](_0x4a1c39['fKcrU'])),_0x2af410=testOpsHelper[_0x1fcf3f(0x1de)](_0x8490);}if(helper[_0x1fcf3f(0x228)](_0x2af410)){const _0xa16fe4={};_0xa16fe4[_0x1fcf3f(0x252)]=ignore,_0xa16fe4[_0x1fcf3f(0x2aa)]=extension,_0xa16fe4['file']=file,_0xa16fe4[_0x1fcf3f(0x288)]=recursive,_0xa16fe4[_0x1fcf3f(0x2ac)]=sort,_0xa16fe4[_0x1fcf3f(0x26c)]=spec,_0x2af410=_0x4a1c39[_0x1fcf3f(0x1ed)](collectFiles,_0xa16fe4),_0x4a1c39[_0x1fcf3f(0x1d0)](nestedKeyValue,_0x2af410,[_0x4a1c39[_0x1fcf3f(0x218)]])&&(_0x2af410=_0x2af410[_0x1fcf3f(0x24f)]);}const _0x52b516=helper['parseTestOrchestrationOptions'](_0x1eb8e6[_0x1fcf3f(0x238)]);!helper[_0x1fcf3f(0x24b)](_0x52b516)&&helper[_0x1fcf3f(0x1ef)](_0x52b516[_0x1fcf3f(0x2b9)])&&(_0x370524[_0x1fcf3f(0x287)]=_0x52b516[_0x1fcf3f(0x2b9)][_0x1fcf3f(0x2b8)]);if(!helper[_0x1fcf3f(0x285)]()){const _0x81c5e8=0x1,_0x3a779a={..._0x370524};_0x3a779a[_0x1fcf3f(0x26c)]=[..._0x2af410],_0x4e38b5[_0x1fcf3f(0x1c9)]({'mochaOpts':_0x3a779a,'configuration':{'platform':os[_0x1fcf3f(0x1d3)]()}});if(_0x1eb8e6[_0x1fcf3f(0x238)][_0x1fcf3f(0x21a)]){const _0x40acb0={};_0x40acb0[_0x1fcf3f(0x21a)]=!![];const _0x3975cc=_0x40acb0;_0x4a1c39[_0x1fcf3f(0x26f)](_0x1eb8e6[_0x1fcf3f(0x238)]['accessibilityOptions'],null)&&(_0x3975cc[_0x1fcf3f(0x2a3)]=_0x1eb8e6['config'][_0x1fcf3f(0x2a3)],delete _0x3975cc[_0x1fcf3f(0x2a3)][_0x4a1c39[_0x1fcf3f(0x248)]],delete _0x3975cc[_0x1fcf3f(0x2a3)][_0x4a1c39[_0x1fcf3f(0x2b5)]],delete _0x3975cc[_0x1fcf3f(0x2a3)][_0x4a1c39[_0x1fcf3f(0x283)]]);const _0x2ea0de={};_0x2ea0de[_0x1fcf3f(0x20d)]=_0x3975cc,_0x4e38b5[0x0]['configuration'][_0x1fcf3f(0x25a)]=_0x2ea0de;}logger[_0x1fcf3f(0x1e1)](_0x4a1c39[_0x1fcf3f(0x1bd)]),logger[_0x1fcf3f(0x1e1)](_0x4a1c39[_0x1fcf3f(0x1da)]),_0x4a1c39[_0x1fcf3f(0x270)](parallelTestRun,_0x4e38b5,_0x81c5e8,_0x1eb8e6)['then'](_0x22b5c9=>{const _0x3eaf8b=_0x1fcf3f;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']),_0x4a1c39['tNEma'](printStats,_0x22b5c9,_0x265dfd[_0x3eaf8b(0x2b4)],_0x265dfd[_0x3eaf8b(0x21b)]||_0x265dfd[_0x4a1c39[_0x3eaf8b(0x1bc)]]);})[_0x1fcf3f(0x251)](()=>{const _0x794aad=_0x1fcf3f;PerformanceTester[_0x794aad(0x215)](PerformanceEvents[_0x794aad(0x1bb)]);try{const {browserstackFolderPath:_0x153c4b,tcgConfigPath:_0x2c93e2}=helper[_0x794aad(0x27a)]();fs[_0x794aad(0x239)](_0x2c93e2),fs[_0x794aad(0x268)](_0x153c4b);}catch(_0x30c31a){logger[_0x794aad(0x25e)](_0x4a1c39[_0x794aad(0x28f)],_0x30c31a);}try{utilities['fireFunnelTestEvent'](_0x4a1c39[_0x794aad(0x1be)],{},_0x1eb8e6[_0x794aad(0x238)],_0x1eb8e6[_0x794aad(0x2a0)]);}catch(_0x59bb1f){logger['debug']('Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20'+_0x59bb1f[_0x794aad(0x1e6)]);}try{helper[_0x794aad(0x291)]();}catch(_0x334681){logger[_0x794aad(0x25e)](_0x794aad(0x20e)+_0x334681);}testOpsHelper[_0x794aad(0x272)]();});}else{const _0x47ac20=helper['useW3C'](_0x1eb8e6['config']);let _0x4225b9=helper[_0x1fcf3f(0x234)](_0x1eb8e6[_0x1fcf3f(0x238)]);_0x375434=helper[_0x1fcf3f(0x1d5)](_0x1eb8e6[_0x1fcf3f(0x238)],_0x47ac20,constants['FRAMEWORKS']['MOCHA']);helper['getCentralUser']()[_0x1fcf3f(0x256)]&&(_0x4225b9=centralScannerConstants[_0x1fcf3f(0x237)]);let _0x4ba824;const _0x39e8ab=_0x1eb8e6[_0x1fcf3f(0x238)][_0x1fcf3f(0x1b5)]||helper['getUserWorkerCount'](_0x265dfd,_0x10d393,_0x1eb8e6[_0x1fcf3f(0x238)],constants[_0x1fcf3f(0x279)][_0x1fcf3f(0x1d2)])||0x1;helper[_0x1fcf3f(0x235)](_0x1eb8e6[_0x1fcf3f(0x238)])?_0x4ba824=_0x4a1c39['aZIpy'](_0x1eb8e6[_0x1fcf3f(0x238)]['platforms'][_0x1fcf3f(0x2b2)],_0x39e8ab):_0x4ba824=_0x39e8ab;const _0x59107d=_0x4a1c39[_0x1fcf3f(0x29a)](getPercyOptions,_0x1eb8e6['config']);if(_0x4a1c39['eKodn'](_0x1eb8e6['config'][_0x1fcf3f(0x1b5)],0x1))_0x2af410[_0x1fcf3f(0x1c5)](_0x20bcee=>{const _0xb11d18=_0x1fcf3f,_0x146a87=[];_0x375434[_0xb11d18(0x1c5)]((_0xb70fff,_0x19d300)=>{const _0xe56d9a=_0xb11d18,_0xd031={};_0xd031[_0xe56d9a(0x26c)]=[_0x20bcee],_0x146a87[_0xe56d9a(0x1c9)]({'mochaOpts':Object[_0xe56d9a(0x2bb)]({},_0x370524,_0xd031),'configuration':{'server':_0x4225b9,'capability':_0xb70fff,'proxySettings':_0x1eb8e6[_0xe56d9a(0x238)]['proxySettings'],'platform':helper['getPlatformName'](_0xb70fff),'browserStackLogLevel':_0x1eb8e6[_0xe56d9a(0x238)]['logLevel'],'platformIndex':_0x19d300,'browserStackPercyOptions':_0x59107d,'platformCaps':Object['assign']({'index':_0x19d300},_0x1eb8e6['config'][_0xe56d9a(0x1f0)][_0x19d300])}});}),_0x4e38b5[_0xb11d18(0x1c9)](..._0x146a87);});else{const _0x5dbfbf=[];_0x375434[_0x1fcf3f(0x1c5)]((_0x1d6423,_0x15e169)=>{const _0x443fd7=_0x1fcf3f;let _0x65f2c3=Object[_0x443fd7(0x2bb)]({},_0x370524);testOpsHelper[_0x443fd7(0x1fa)]()&&testOpsHelper[_0x443fd7(0x1bf)]()&&(_0x65f2c3={..._0x65f2c3,'spec':[..._0x2af410]}),_0x5dbfbf[_0x443fd7(0x1c9)]({'mochaOpts':_0x65f2c3,'configuration':{'server':_0x4225b9,'capability':_0x1d6423,'proxySettings':_0x1eb8e6[_0x443fd7(0x238)][_0x443fd7(0x2a6)],'platform':helper[_0x443fd7(0x24a)](_0x1d6423),'browserStackLogLevel':_0x1eb8e6[_0x443fd7(0x238)]['logLevel'],'platformIndex':_0x15e169,'browserStackPercyOptions':_0x59107d,'platformCaps':Object[_0x443fd7(0x2bb)]({'index':_0x15e169},_0x1eb8e6['config'][_0x443fd7(0x1f0)][_0x15e169])}});}),_0x4e38b5[_0x1fcf3f(0x1c9)](..._0x5dbfbf);}logger[_0x1fcf3f(0x1e1)](_0x1fcf3f(0x1eb)+_0x1eb8e6[_0x1fcf3f(0x238)][_0x1fcf3f(0x1f0)][_0x1fcf3f(0x2b2)]+_0x1fcf3f(0x1f7)),logger['info'](_0x4a1c39[_0x1fcf3f(0x1da)]);let _0x1ccbe6;_0x4a1c39[_0x1fcf3f(0x236)](parallelTestRun,_0x4e38b5,_0x4ba824,_0x1eb8e6)[_0x1fcf3f(0x28e)](_0x23b628=>{const _0x14bd9f=_0x1fcf3f;PerformanceTester['start'](PerformanceEvents[_0x14bd9f(0x1bb)]),_0x1ccbe6=_0x23b628,_0x4a1c39[_0x14bd9f(0x213)](printStats,_0x23b628,_0x265dfd[_0x14bd9f(0x2b4)],_0x265dfd[_0x14bd9f(0x21b)]||_0x265dfd[_0x4a1c39[_0x14bd9f(0x1bc)]]);})['finally'](async()=>{const _0x874107=_0x1fcf3f;PerformanceTester['start'](PerformanceEvents[_0x874107(0x1bb)]),_0x1eb8e6[_0x874107(0x205)]=helper[_0x874107(0x1e7)](_0x1ccbe6,_0x4a1c39[_0x874107(0x2a9)]),await utilities[_0x874107(0x1b7)](_0x1eb8e6),testOpsHelper['printBuildLink']();});}}module[a33_0x2367d3(0x257)]=run;