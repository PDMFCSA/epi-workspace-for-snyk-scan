#!/usr/bin/env node
'use strict';const a33_0x4708eb=a33_0x237d;(function(_0x4836c1,_0x1ad6eb){const _0x3d5c33=a33_0x237d,_0x38b0d2=_0x4836c1();while(!![]){try{const _0xc92e29=parseInt(_0x3d5c33(0x191))/0x1*(-parseInt(_0x3d5c33(0x166))/0x2)+-parseInt(_0x3d5c33(0x1ce))/0x3+-parseInt(_0x3d5c33(0x1ae))/0x4*(parseInt(_0x3d5c33(0x1cd))/0x5)+-parseInt(_0x3d5c33(0x198))/0x6*(-parseInt(_0x3d5c33(0x1f9))/0x7)+-parseInt(_0x3d5c33(0x170))/0x8*(parseInt(_0x3d5c33(0x18e))/0x9)+-parseInt(_0x3d5c33(0x211))/0xa+parseInt(_0x3d5c33(0x22d))/0xb;if(_0xc92e29===_0x1ad6eb)break;else _0x38b0d2['push'](_0x38b0d2['shift']());}catch(_0x310656){_0x38b0d2['push'](_0x38b0d2['shift']());}}}(a33_0x5a2f,0xec559));const chalk=require(a33_0x4708eb(0x22e)),logger=require(a33_0x4708eb(0x220))[a33_0x4708eb(0x1dc)],helper=require(a33_0x4708eb(0x1c4)),utilities=require(a33_0x4708eb(0x1e6)),testOpsHelper=require('../../helpers/test-observability/utils'),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a33_0x4708eb(0x183)),{requireModule,nestedKeyValue}=require(a33_0x4708eb(0x1c4)),{getPercyOptions}=require(a33_0x4708eb(0x17c)),Base=requireModule(a33_0x4708eb(0x235),a33_0x4708eb(0x1e8)),collectFiles=requireModule('mocha/lib/cli/collect-files.js',a33_0x4708eb(0x1e8)),constants=require('../utils/constants'),PerformanceTester=require(a33_0x4708eb(0x255)),PerformanceEvents=require(a33_0x4708eb(0x1d9))[a33_0x4708eb(0x258)],centralScannerConstants=require(a33_0x4708eb(0x163)),{FRAMEWORKS}=require(a33_0x4708eb(0x251)),TestHubHandler=require(a33_0x4708eb(0x165));function tag(_0x59bd80,_0x38fe48,_0x115b95,_0x1a0dd6){const _0x50fa2b=a33_0x4708eb,_0x4d51ee={'tOGNH':function(_0x419045,_0x1ccb95){return _0x419045+_0x1ccb95;},'jQoUa':function(_0x388a13,_0x42ef4a){return _0x388a13(_0x42ef4a);},'scXvA':function(_0x1b431f,_0x3b4e78){return _0x1b431f+_0x3b4e78;},'rxweQ':function(_0x2240ca,_0x4d2d7a){return _0x2240ca+_0x4d2d7a;}},_0x13d83d=_0x115b95?'/>':'>',_0x5def88=[];let _0x5801ab;for(const _0x5e57a8 in _0x38fe48){Object[_0x50fa2b(0x1d5)][_0x50fa2b(0x223)][_0x50fa2b(0x1c8)](_0x38fe48,_0x5e57a8)&&_0x5def88[_0x50fa2b(0x24c)](_0x4d51ee[_0x50fa2b(0x238)](_0x4d51ee[_0x50fa2b(0x238)](_0x4d51ee[_0x50fa2b(0x238)](_0x5e57a8,'=\x22'),_0x4d51ee[_0x50fa2b(0x1d3)](escape,_0x38fe48[_0x5e57a8])),'\x22'));}return _0x5801ab=_0x4d51ee['tOGNH'](_0x4d51ee[_0x50fa2b(0x17e)](_0x4d51ee['tOGNH']('<',_0x59bd80),_0x5def88[_0x50fa2b(0x210)]?_0x4d51ee[_0x50fa2b(0x17e)]('\x20',_0x5def88[_0x50fa2b(0x21d)]('\x20')):''),_0x13d83d),_0x1a0dd6&&(_0x5801ab+=_0x4d51ee[_0x50fa2b(0x17e)](_0x4d51ee[_0x50fa2b(0x22b)](_0x4d51ee['scXvA'](_0x1a0dd6,'</'),_0x59bd80),_0x13d83d)),_0x5801ab;}let xunitContent='';function xunitWrite(_0x255e64){xunitContent+=_0x255e64;}function xunitTest(_0x557674,_0x481e17){const _0x982142=a33_0x4708eb,_0x319012={'sLMgd':function(_0x284030,_0x415bee){return _0x284030/_0x415bee;},'vyyxm':function(_0x5d4fdb,_0xc18c5){return _0x5d4fdb===_0xc18c5;},'XjOMH':_0x982142(0x254),'kkfnz':function(_0x1b7d4c,_0x2121c9){return _0x1b7d4c+_0x2121c9;},'BDDsV':function(_0x201a9b,_0x2e0ca4){return _0x201a9b(_0x2e0ca4);},'HaeBJ':function(_0x3310ee,_0x5c454e,_0x39fcff,_0x56a773,_0x1dc438){return _0x3310ee(_0x5c454e,_0x39fcff,_0x56a773,_0x1dc438);},'lhbjG':'testcase','SfGUk':_0x982142(0x1f6),'iVANb':function(_0x24c5b5,_0x46c7f5){return _0x24c5b5+_0x46c7f5;},'GrmQu':function(_0x2fb554,_0x5e8357){return _0x2fb554(_0x5e8357);},'uJDNP':function(_0x3bdc68,_0x33b63c,_0x250c63,_0x4afdba,_0x277c8b){return _0x3bdc68(_0x33b63c,_0x250c63,_0x4afdba,_0x277c8b);},'bHCOi':function(_0x5b9148,_0x59fc9a,_0x57d3a4,_0x4327fe){return _0x5b9148(_0x59fc9a,_0x57d3a4,_0x4327fe);},'mDsYs':_0x982142(0x23b),'XmwWM':function(_0x1f7a6b,_0x5cbf69,_0x2c3375,_0x3a2390){return _0x1f7a6b(_0x5cbf69,_0x2c3375,_0x3a2390);}};Base['useColors']=![];var _0x1ce833={'classname':_0x557674[_0x982142(0x241)],'name':_0x557674['title'],'time':_0x319012[_0x982142(0x22f)](_0x557674[_0x982142(0x196)],0x3e8)||0x0,'platform':_0x481e17};if(_0x319012['vyyxm'](_0x557674[_0x982142(0x192)],_0x319012[_0x982142(0x1eb)])){var _0xa7209a=_0x557674[_0x982142(0x1fe)],_0x1bacc2=!Base['hideDiff']&&Base[_0x982142(0x184)](_0xa7209a)?_0x319012[_0x982142(0x1b2)]('\x0a',Base[_0x982142(0x237)](_0xa7209a['actual'],_0xa7209a[_0x982142(0x1c7)])):'';_0x319012[_0x982142(0x1b6)](xunitWrite,_0x319012[_0x982142(0x16d)](tag,_0x319012[_0x982142(0x1d0)],_0x1ce833,![],_0x319012['HaeBJ'](tag,_0x319012[_0x982142(0x21e)],{},![],_0x319012['kkfnz'](_0x319012[_0x982142(0x242)](_0x319012[_0x982142(0x1b2)](_0x319012[_0x982142(0x1b6)](escape,_0xa7209a[_0x982142(0x18d)]),_0x319012[_0x982142(0x232)](escape,_0x1bacc2)),'\x0a'),_0x319012[_0x982142(0x1b6)](escape,_0xa7209a[_0x982142(0x225)])))));}else _0x557674['isPending']?_0x319012['BDDsV'](xunitWrite,_0x319012[_0x982142(0x20b)](tag,_0x319012[_0x982142(0x1d0)],_0x1ce833,![],_0x319012['bHCOi'](tag,_0x319012[_0x982142(0x1bc)],{},!![]))):_0x319012[_0x982142(0x1b6)](xunitWrite,_0x319012['XmwWM'](tag,_0x319012[_0x982142(0x1d0)],_0x1ce833,!![]));};function getStats(_0x371c35){const _0x39afb3=a33_0x4708eb,_0x4e6788={};_0x4e6788['JVeMX']=_0x39afb3(0x203),_0x4e6788['MHGCq']=_0x39afb3(0x16e),_0x4e6788[_0x39afb3(0x1c3)]=_0x39afb3(0x254),_0x4e6788[_0x39afb3(0x1ad)]=_0x39afb3(0x1cc);const _0x77f32e=_0x4e6788,_0x40a413=Object[_0x39afb3(0x23a)](_0x371c35);let _0x48b610=0x0,_0x1dbfd4=0x0,_0x2d10a0=0x0,_0x51eaf5=0x0;const _0x4182c6=new Set();_0x40a413[_0x39afb3(0x1a5)](_0x11eae6=>{const _0x2973de=_0x39afb3;_0x371c35[_0x11eae6][_0x77f32e['WviVb']][_0x2973de(0x1a5)](_0x4a53ff=>{const _0x1ae904=_0x2973de;_0x4182c6[_0x1ae904(0x197)](_0x4a53ff[_0x77f32e[_0x1ae904(0x217)]]),_0x48b610++;switch(_0x4a53ff['state']){case _0x77f32e[_0x1ae904(0x1c2)]:_0x2d10a0++;break;case _0x77f32e['ezPGN']:_0x1dbfd4++;break;default:_0x51eaf5++;}});});const _0x11e357={};return _0x11e357[_0x39afb3(0x216)]=_0x4182c6[_0x39afb3(0x19b)],_0x11e357[_0x39afb3(0x1e5)]=_0x40a413,_0x11e357[_0x39afb3(0x24e)]=_0x48b610,_0x11e357['testsFailed']=_0x1dbfd4,_0x11e357[_0x39afb3(0x1e7)]=_0x2d10a0,_0x11e357[_0x39afb3(0x24d)]=_0x51eaf5,_0x11e357;}function a33_0x237d(_0x5aac21,_0x2039ef){const _0x5a2fde=a33_0x5a2f();return a33_0x237d=function(_0x237d0d,_0xce22ad){_0x237d0d=_0x237d0d-0x15d;let _0x3c8e59=_0x5a2fde[_0x237d0d];return _0x3c8e59;},a33_0x237d(_0x5aac21,_0x2039ef);}function errorJSON(_0x28bca4){const _0x150c2f=a33_0x4708eb;var _0xd855b9={};return Object[_0x150c2f(0x17f)](_0x28bca4)[_0x150c2f(0x1a5)](function(_0x1f12ed){_0xd855b9[_0x1f12ed]=_0x28bca4[_0x1f12ed];},_0x28bca4),_0xd855b9;}function cleanCycles(_0x77683b){const _0x1089e5=a33_0x4708eb,_0xb06bb6={};_0xb06bb6[_0x1089e5(0x23f)]=function(_0x454ee3,_0xc42a3f){return _0x454ee3===_0xc42a3f;},_0xb06bb6[_0x1089e5(0x20d)]='object',_0xb06bb6[_0x1089e5(0x252)]=function(_0x3bb1c2,_0xe97765){return _0x3bb1c2!==_0xe97765;},_0xb06bb6[_0x1089e5(0x1e1)]=function(_0x2e584c,_0x2687d4){return _0x2e584c+_0x2687d4;};const _0x3ebc77=_0xb06bb6;var _0x43de31=[];return JSON[_0x1089e5(0x1ee)](JSON[_0x1089e5(0x21c)](_0x77683b,function(_0x3ac6b4,_0x4aa656){const _0x15850b=_0x1089e5;if(_0x3ebc77[_0x15850b(0x23f)](typeof _0x4aa656,_0x3ebc77[_0x15850b(0x20d)])&&_0x3ebc77['HQLmB'](_0x4aa656,null)){if(_0x3ebc77[_0x15850b(0x252)](_0x43de31[_0x15850b(0x1b1)](_0x4aa656),-0x1))return _0x3ebc77[_0x15850b(0x1e1)]('',_0x4aa656);_0x43de31['push'](_0x4aa656);}return _0x4aa656;}));}function clean(_0x3aac6c){const _0x59f61e=a33_0x4708eb,_0x4add39={'DzuTy':function(_0x47f492,_0x22b89f){return _0x47f492 instanceof _0x22b89f;},'cTpro':function(_0xe574ca,_0x80c7d7){return _0xe574ca(_0x80c7d7);},'YAJUU':function(_0x507fd2,_0x381760){return _0x507fd2(_0x381760);}};var _0x25c20c=_0x3aac6c[_0x59f61e(0x1fe)]||{};return _0x4add39[_0x59f61e(0x16b)](_0x25c20c,Error)&&(_0x25c20c=_0x4add39['cTpro'](errorJSON,_0x25c20c)),{'title':_0x3aac6c['title'],'fullTitle':_0x3aac6c[_0x59f61e(0x241)],'file':_0x3aac6c['file'],'duration':_0x3aac6c[_0x59f61e(0x196)],'currentRetry':_0x3aac6c[_0x59f61e(0x224)],'speed':_0x3aac6c['speed'],'err':_0x4add39[_0x59f61e(0x1bd)](cleanCycles,_0x25c20c)};}function a33_0x5a2f(){const _0x47306e=['gtReH','initialize','suiteName','accessibilityOptions','cliConfig','../../helpers/percy/utils','testsuite','scXvA','getOwnPropertyNames','uLBWe','map','then','../test-runner','showDiff','debug','\x20total','getUserWorkerCount','central_scanner','env','MOCHA','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','notifyUpdate','message','1513305cuuWcj','stats','info','466076EFtLnA','state','finally','min','WAzQg','duration','add','582xhCwFV','JGghk','includeEncodedExtension','size','vRsQM','POCuK','BROWSERSTACK_GRR_US_HUB_URL','isBrowserstackInfra','ANRrJ','LryCu','MNkaQ','bstack:options','dwpdG','forEach','DjIOQ','excludeTagsInTestingScope','YDIuM','shouldReRunObservabilityTests','list','gsWkp','lczGG','WviVb','954236YgUeIL','doc','ItIbo','indexOf','kkfnz','spec','maxRetries','\x20skipped','BDDsV','proxySettings','getCentralUser','BROWSERSTACK_TEST_ACCESSIBILITY_YML','configuration','setupTCGAuth','mDsYs','YAJUU','bgRedBright','cYlVd','error','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','MHGCq','ezPGN','../../helpers/helper','testObservability','file','expected','call','getPlatformName','passes','eLZdh','results','20YvCgrJ','3914055LHPJdH','bUXFi','lhbjG','assign','pending','jQoUa','****\x20FAILURES\x20****','prototype','Running\x20your\x20mocha\x20tests','writeFileSync','UBJdC','../../helpers/performance/constants','cNDyd','fixgs','winstonLogger','exports','config','XuRoD','uUoug','lUxgk','Total\x20Suites:\x20','ZIXIw','sAEbZ','platforms','../../helpers/utilities','testsPassed','mocha','\x20passed','retryTestsOnFailure','XjOMH','ilLea','\x20failed','parse','includeTagsInTestingScope','YDzSE','HoSHi','getErrorMessageFromResults','Couldn\x27t\x20write\x20json\x20result\x20to','unlinkSync','MISku','failure','qzkbB','qHseH','103453fLnPdv','WKWvy','mjs','rerunTests','hTXZW','err','launchBuild','errorMessage','log','zXwah','suite','framework','\x0a\x0a\x0a','platform','ZUsBC','getTCGConfigFilePaths','retries','zDiEU','uJDNP','XwmDL','GNONf','BROWSERSTACK_TEST_OBSERVABILITY_YML','has','length','17836630QcXYYf','YVZbq','SDKTestSuccessful','KSdPE','AaQfz','testSuites','JVeMX','getHubUrl','handleApp','kTvDZ','SwXLu','stringify','join','SfGUk','ufCfR','../../helpers/logger','lnHFj','test','hasOwnProperty','currentRetry','stack','recursive','OsjHe','cslpt','logLevel','useW3C','rxweQ','testsFailed','53300368MfPgir','chalk','sLMgd','BmZeG','setUserConfigPath','GrmQu','Running\x20your\x20mocha\x20tests\x20across\x20','JMumf','mocha/lib/reporters/base.js','EuenJ','generateDiff','tOGNH','files','keys','skipped','accessibility','etvyG','red','pGMyb','Writing\x20xunit\x20result\x20to\x20file','fullTitle','iVANb','output','NBYrQ','Now,\x20showing\x20logs\x20from\x20mocha','parallelsPerPlatform','ynAQL','ciuUo','consoleLog','Setting\x20non\x20exit\x20code\x20for\x20failures','akUUP','push','testsPending','totalTests','FRAMEWORKS','isTestObservabilitySession','../../helpers/test-observability/constants','HQLmB','reporter','failed','../../helpers/performance/performance-tester','eWYiW','MViim','EVENTS','reporterOptions','URuXO','bold','isUndefined','start','Listing\x20all\x20the\x20failures','../../helpers/central-scanner/constants','lZXqs','../../helpers/testhub/testhubHandler','4QAwvyO','isNotUndefined','hzrLa','sort','Printing\x20stats\x20of\x20tests','DzuTy','green','HaeBJ','passed','BROWSERSTACK_RERUN_TESTS','16kKzbkf','SDK_CLEANUP','BOBhT','PpUOh','parseFileNames','fireFunnelTestEvent','printBuildLink'];a33_0x5a2f=function(){return _0x47306e;};return a33_0x5a2f();}function printStats(_0x446226,_0x6e6d8f=a33_0x4708eb(0x1b3),_0x1cdc15={}){const _0x506731=a33_0x4708eb,_0x527bc2={'bUXFi':function(_0x2e6fc8,_0x203ec){return _0x2e6fc8(_0x203ec);},'XuRoD':function(_0x5a0363,_0x2c4451){return _0x5a0363===_0x2c4451;},'gsWkp':_0x506731(0x16e),'BsCLg':_0x506731(0x1ca),'MISku':function(_0x27938f,_0x45ded){return _0x27938f===_0x45ded;},'etvyG':_0x506731(0x254),'sAEbZ':'failures','SwXLu':_0x506731(0x1d2),'BmZeG':function(_0xdbec64,_0x49d11e){return _0xdbec64(_0x49d11e);},'MViim':_0x506731(0x1cc),'YDIuM':function(_0x42f08c,_0x37d96f){return _0x42f08c===_0x37d96f;},'KSdPE':function(_0x25b248,_0x520b92){return _0x25b248*_0x520b92;},'zXwah':function(_0x466b6f,_0x3f10d1,_0xbf7ff9){return _0x466b6f(_0x3f10d1,_0xbf7ff9);},'ilLea':function(_0x56d13a,_0x2cf847){return _0x56d13a>_0x2cf847;},'MNkaQ':function(_0x11ab48){return _0x11ab48();},'HIRrG':_0x506731(0x1af),'ZUsBC':_0x506731(0x24a),'LryCu':_0x506731(0x16a),'DjIOQ':function(_0x12a95b,_0xde16a7){return _0x12a95b+_0xde16a7;},'kTvDZ':'Total\x20Platforms:\x20','dwpdG':_0x506731(0x1e2),'gtReH':function(_0x25ce96,_0x1134dc){return _0x25ce96+_0x1134dc;},'uLBWe':function(_0x599989,_0x4fb40c){return _0x599989+_0x4fb40c;},'AaQfz':function(_0x173a7a,_0x3f7d09){return _0x173a7a+_0x3f7d09;},'SyLlj':'Tests:\x20\x20\x20\x20\x20\x20\x20','lczGG':function(_0x174571,_0x2bbc8a){return _0x174571>_0x2bbc8a;},'ZIXIw':function(_0x8bbf16,_0x2a293e){return _0x8bbf16>_0x2a293e;},'XwmDL':function(_0x2d99b4,_0x14885e){return _0x2d99b4+_0x14885e;},'ItIbo':function(_0x2a6c8a,_0x442b4f){return _0x2a6c8a+_0x442b4f;},'ciuUo':function(_0x330c40,_0x30f6cc){return _0x330c40+_0x30f6cc;},'eLZdh':_0x506731(0x205),'OsjHe':'json','ynAQL':'Writing\x20json\x20result\x20to\x20file','qHseH':_0x506731(0x1f3),'CsfIJ':_0x506731(0x18b),'UBJdC':'xunit','akUUP':'Mocha\x20Tests','YDzSE':function(_0x3c2049,_0xab7642){return _0x3c2049||_0xab7642;},'PpUOh':function(_0x5acd6a,_0x5bdd62,_0x220a6b,_0x62d546){return _0x5acd6a(_0x5bdd62,_0x220a6b,_0x62d546);},'EuenJ':_0x506731(0x17d),'ANRrJ':function(_0x30cbba,_0x4032e6){return _0x30cbba-_0x4032e6;},'bHRIc':function(_0x4c7b18,_0x3bba19){return _0x4c7b18/_0x3bba19;},'lZXqs':'</testsuite>','qzkbB':_0x506731(0x240),'uUoug':'Couldn\x27t\x20write\x20xunit\x20result\x20to','WKWvy':'No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','qzwZz':_0x506731(0x162),'NjgZO':_0x506731(0x1d4)};if(_0x527bc2[_0x506731(0x1f5)](_0x6e6d8f,_0x527bc2['HIRrG']))return;const _0x1d8c88=0x0,_0x1a1d93=()=>{const _0x3f1f4d=_0x506731;return _0x527bc2[_0x3f1f4d(0x1cf)](Array,_0x1d8c88)[_0x3f1f4d(0x21d)]('\x20\x20');},{testSuites:_0x5e2cbe,platforms:_0x52d506,totalTests:_0x4508b8,testsFailed:_0x3e15ba,testsPassed:_0x1f40bc,testsPending:_0x661788}=_0x527bc2['bUXFi'](getStats,_0x446226);_0x527bc2['ilLea'](_0x3e15ba,0x0)&&(logger[_0x506731(0x185)](_0x527bc2[_0x506731(0x207)]),process['exitCode']=Math[_0x506731(0x194)](_0x3e15ba,0xff));logger[_0x506731(0x185)](_0x527bc2[_0x506731(0x1a1)]);const _0x1b13b9=''+_0x527bc2[_0x506731(0x1a6)](chalk[_0x506731(0x15f)](_0x527bc2[_0x506731(0x21a)]),_0x52d506[_0x506731(0x210)]),_0x1c18e3=''+_0x527bc2[_0x506731(0x1a6)](chalk[_0x506731(0x15f)](_0x527bc2[_0x506731(0x1a4)]),_0x5e2cbe),_0xdf1750=''+_0x527bc2[_0x506731(0x177)](_0x527bc2[_0x506731(0x180)](_0x527bc2[_0x506731(0x215)](chalk[_0x506731(0x15f)](_0x527bc2['SyLlj']),_0x527bc2[_0x506731(0x1ac)](_0x3e15ba,0x0)?chalk[_0x506731(0x15f)][_0x506731(0x23e)](_0x3e15ba+_0x506731(0x1ed))+',\x20':''),_0x527bc2[_0x506731(0x1e3)](_0x661788,0x0)?chalk[_0x506731(0x15f)]['yellow'](_0x661788+_0x506731(0x1b5))+',\x20':''),_0x527bc2[_0x506731(0x1e3)](_0x1f40bc,0x0)?chalk[_0x506731(0x15f)][_0x506731(0x16c)](_0x1f40bc+_0x506731(0x1e9))+',\x20':'')+_0x4508b8+_0x506731(0x186);console[_0x506731(0x201)](_0x527bc2[_0x506731(0x1a6)](_0x527bc2[_0x506731(0x20c)](_0x527bc2[_0x506731(0x1b0)](_0x527bc2['gtReH'](_0x527bc2[_0x506731(0x248)](_0x527bc2[_0x506731(0x1cb)],_0x1b13b9),'\x0a'),_0x1c18e3),'\x0a'),_0xdf1750));if(_0x527bc2['YDIuM'](_0x6e6d8f,_0x527bc2[_0x506731(0x227)])){const _0x536ef6={},_0x5d3b44={};_0x5d3b44[_0x506731(0x216)]=_0x5e2cbe,_0x5d3b44[_0x506731(0x1e5)]=_0x52d506,_0x5d3b44[_0x506731(0x22c)]=_0x3e15ba,_0x5d3b44['testsPassed']=_0x1f40bc,_0x5d3b44[_0x506731(0x24d)]=_0x661788,_0x536ef6[_0x506731(0x18f)]=_0x5d3b44,_0x52d506[_0x506731(0x1a5)](_0x40f048=>{const _0x2062f8=_0x506731;_0x536ef6[_0x40f048]={'pending':[],'failures':[],'passes':[],'tests':_0x446226[_0x40f048][_0x527bc2[_0x2062f8(0x257)]][_0x2062f8(0x181)](clean)},_0x446226[_0x40f048][_0x527bc2['MViim']][_0x2062f8(0x1a5)](_0x2878ae=>{const _0x327a44=_0x2062f8;if(_0x527bc2[_0x327a44(0x1df)](_0x2878ae[_0x327a44(0x192)],_0x527bc2[_0x327a44(0x1ab)]))_0x536ef6[_0x40f048][_0x527bc2['BsCLg']][_0x327a44(0x24c)](_0x527bc2[_0x327a44(0x1cf)](clean,_0x2878ae));else _0x527bc2['MISku'](_0x2878ae[_0x327a44(0x192)],_0x527bc2[_0x327a44(0x23d)])?_0x536ef6[_0x40f048][_0x527bc2[_0x327a44(0x1e4)]]['push'](_0x527bc2['bUXFi'](clean,_0x2878ae)):_0x536ef6[_0x40f048][_0x527bc2[_0x327a44(0x21b)]][_0x327a44(0x24c)](_0x527bc2[_0x327a44(0x230)](clean,_0x2878ae));});});if(_0x1cdc15['output'])try{logger[_0x506731(0x185)](_0x527bc2[_0x506731(0x247)],_0x1cdc15[_0x506731(0x243)]),fs[_0x506731(0x1d7)](_0x1cdc15['output'],JSON[_0x506731(0x21c)](_0x536ef6,null,0x3));}catch(_0x31153d){logger[_0x506731(0x1c0)](_0x527bc2[_0x506731(0x1f8)],_0x1cdc15[_0x506731(0x243)]),logger[_0x506731(0x185)](_0x31153d);}else logger[_0x506731(0x185)](_0x527bc2['CsfIJ']),console[_0x506731(0x201)](JSON[_0x506731(0x21c)](_0x536ef6,null,0x3));}else{if(_0x527bc2['XuRoD'](_0x6e6d8f,_0x527bc2[_0x506731(0x1d8)])){let _0x329c61;const _0x1407e0=_0x527bc2[_0x506731(0x24b)];_0x1cdc15&&(_0x329c61=_0x1cdc15[_0x506731(0x179)]);_0x329c61=_0x527bc2[_0x506731(0x1f0)](_0x329c61,_0x1407e0);let _0x554656=0x0,_0x206306=0x0,_0x4e95a4=0x0,_0x58afe9=0x0;_0x52d506[_0x506731(0x1a5)](_0x3981e2=>{const _0x4da52b=_0x506731,_0x27f693={'qqWwM':function(_0x107eb8,_0x109fc9){const _0x3137bd=a33_0x237d;return _0x527bc2[_0x3137bd(0x1a8)](_0x107eb8,_0x109fc9);},'BOBhT':_0x527bc2[_0x4da52b(0x1ab)],'cslpt':function(_0x277c8d,_0x74e12e){const _0x3b7ef3=_0x4da52b;return _0x527bc2[_0x3b7ef3(0x1a8)](_0x277c8d,_0x74e12e);},'AOOrY':_0x527bc2[_0x4da52b(0x23d)],'cNDyd':function(_0x185c66,_0xc41b3f){const _0x1f0a67=_0x4da52b;return _0x527bc2[_0x1f0a67(0x214)](_0x185c66,_0xc41b3f);}};_0x446226[_0x3981e2][_0x527bc2[_0x4da52b(0x257)]][_0x4da52b(0x1a5)](_0x5cbcd4=>{const _0x50ccbd=_0x4da52b;if(_0x27f693['qqWwM'](_0x5cbcd4[_0x50ccbd(0x192)],_0x27f693[_0x50ccbd(0x172)]))_0x554656++;else _0x27f693[_0x50ccbd(0x228)](_0x5cbcd4[_0x50ccbd(0x192)],_0x27f693['AOOrY'])&&_0x206306++;_0x4e95a4++,_0x58afe9+=_0x27f693[_0x50ccbd(0x1da)](_0x5cbcd4[_0x50ccbd(0x196)],0x1);});}),_0x527bc2[_0x506731(0x1cf)](xunitWrite,_0x527bc2[_0x506731(0x173)](tag,_0x527bc2[_0x506731(0x236)],{'name':_0x329c61,'tests':_0x4e95a4,'failures':0x0,'errors':_0x206306,'skipped':_0x527bc2['ANRrJ'](_0x527bc2[_0x506731(0x1a0)](_0x4e95a4,_0x206306),_0x554656),'timestamp':new Date()['toUTCString'](),'time':_0x527bc2['bHRIc'](_0x58afe9,0x3e8)||0x0},![])),_0x52d506['forEach'](_0xe1d285=>{const _0x2fe0ff=_0x506731;_0x446226[_0xe1d285][_0x527bc2[_0x2fe0ff(0x257)]][_0x2fe0ff(0x1a5)](_0x385106=>{const _0xfa3779=_0x2fe0ff;_0x527bc2[_0xfa3779(0x202)](xunitTest,_0x385106,_0xe1d285);});}),_0x527bc2[_0x506731(0x1cf)](xunitWrite,_0x527bc2[_0x506731(0x164)]);if(_0x1cdc15['output'])try{logger[_0x506731(0x185)](_0x527bc2[_0x506731(0x1f7)],_0x1cdc15[_0x506731(0x243)]),fs[_0x506731(0x1d7)](_0x1cdc15[_0x506731(0x243)],xunitContent);}catch(_0x2588ff){logger[_0x506731(0x1c0)](_0x527bc2[_0x506731(0x1e0)],_0x1cdc15[_0x506731(0x243)]),logger[_0x506731(0x185)](_0x2588ff);}else logger['debug'](_0x527bc2[_0x506731(0x1fa)]),console[_0x506731(0x201)](xunitContent);}else{if(_0x527bc2[_0x506731(0x1df)](_0x3e15ba,0x0))return;console[_0x506731(0x201)](),logger[_0x506731(0x185)](_0x527bc2['qzwZz']),console[_0x506731(0x201)](chalk[_0x506731(0x15f)][_0x506731(0x1be)](_0x527bc2['NjgZO'])),_0x52d506[_0x506731(0x1a5)](_0x46258b=>{const _0x40ed48=_0x506731,_0x4303ab={'fixgs':function(_0x3b421d,_0x4c0653){return _0x527bc2['XuRoD'](_0x3b421d,_0x4c0653);},'JMumf':_0x527bc2['etvyG']},_0x5984ba=[];_0x446226[_0x46258b][_0x527bc2['MViim']][_0x40ed48(0x1a5)](_0x3418c0=>{const _0x5b09de=_0x40ed48;_0x4303ab[_0x5b09de(0x1db)](_0x3418c0[_0x5b09de(0x192)],_0x4303ab[_0x5b09de(0x234)])&&(_0x3418c0['titlePath']=()=>_0x3418c0['titlePathV'],_0x5984ba[_0x5b09de(0x24c)](_0x3418c0));}),_0x527bc2[_0x40ed48(0x1ec)](_0x5984ba['length'],0x0)&&(Base[_0x40ed48(0x249)](),Base[_0x40ed48(0x249)](_0x527bc2[_0x40ed48(0x1a2)](_0x1a1d93),chalk[_0x40ed48(0x15f)]['bgBlueBright'](_0x46258b)),Base[_0x40ed48(0x1aa)](_0x5984ba));});}}}async function run(_0x2c64e7,_0x1429f5,_0x22b106){const _0x4f0e0a=a33_0x4708eb,_0x48fced={'YVZbq':function(_0x4c9d99,_0x1b482b,_0x3e54d6,_0x30135a){return _0x4c9d99(_0x1b482b,_0x3e54d6,_0x30135a);},'hzrLa':'reporter-option','pLeZJ':'error\x20removing\x20tcg\x20config\x20file','uiuuy':_0x4f0e0a(0x213),'HoSHi':_0x4f0e0a(0x1e8),'hTXZW':function(_0x57e056,_0x31c808){return _0x57e056!=_0x31c808;},'lnHFj':'cjs','NBYrQ':_0x4f0e0a(0x1fb),'zDiEU':_0x4f0e0a(0x222),'JGghk':_0x4f0e0a(0x1fc),'POCuK':function(_0x398ad6,_0x569173){return _0x398ad6(_0x569173);},'qAcgp':function(_0x2b8da5,_0x3bf7c2,_0x63ff99){return _0x2b8da5(_0x3bf7c2,_0x63ff99);},'ufCfR':_0x4f0e0a(0x239),'WAzQg':function(_0x3e879c,_0x2d905){return _0x3e879c!=_0x2d905;},'ZvIPj':_0x4f0e0a(0x1ef),'MgQBR':_0x4f0e0a(0x1a7),'URuXO':_0x4f0e0a(0x19a),'lVcuE':_0x4f0e0a(0x1d6),'vRsQM':_0x4f0e0a(0x245),'eWYiW':function(_0x1f1d8c,_0x272ddb,_0x3a5517,_0x153bd2){return _0x1f1d8c(_0x272ddb,_0x3a5517,_0x153bd2);},'cYlVd':function(_0x2716cd,_0x544a7d){return _0x2716cd*_0x544a7d;},'ZgjvT':function(_0x3869c4,_0x35acbe){return _0x3869c4!==_0x35acbe;}};helper[_0x4f0e0a(0x231)](_0x22b106[_0x4f0e0a(0x204)],_0x2c64e7),await _0x22b106[_0x4f0e0a(0x178)](_0x2c64e7);helper[_0x4f0e0a(0x19f)]()?await helper[_0x4f0e0a(0x219)](_0x22b106[_0x4f0e0a(0x1de)]):await _0x22b106[_0x4f0e0a(0x1bb)]();const _0xbf140c=[];let _0x31757a=[];if(!_0x22b106['config'])return;!helper[_0x4f0e0a(0x160)](_0x22b106[_0x4f0e0a(0x1de)]['accessibilityOptions'])&&(process[_0x4f0e0a(0x189)][_0x4f0e0a(0x1c1)]=JSON[_0x4f0e0a(0x21c)](_0x22b106[_0x4f0e0a(0x1de)][_0x4f0e0a(0x17a)]));const _0x354a5c=await TestHubHandler[_0x4f0e0a(0x1ff)](FRAMEWORKS['MOCHA'],_0x22b106);_0x48fced[_0x4f0e0a(0x1fd)](_0x22b106[_0x4f0e0a(0x1de)][_0x4f0e0a(0x1c5)],null)&&(process[_0x4f0e0a(0x189)][_0x4f0e0a(0x20e)]=_0x22b106['config'][_0x4f0e0a(0x1c5)]);!helper[_0x4f0e0a(0x160)](_0x22b106['config'][_0x4f0e0a(0x23c)])&&(process[_0x4f0e0a(0x189)][_0x4f0e0a(0x1b9)]=_0x22b106[_0x4f0e0a(0x1de)][_0x4f0e0a(0x23c)]);const {extension:extension=['js',_0x48fced[_0x4f0e0a(0x221)],_0x48fced[_0x4f0e0a(0x244)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x48fced[_0x4f0e0a(0x20a)]]}=_0x2c64e7,_0x1cd65f={..._0x2c64e7};_0x1cd65f['rootHooks']=null;const _0xe44537=_0x1cd65f;let _0xec4259;if(testOpsHelper[_0x4f0e0a(0x250)]()&&testOpsHelper[_0x4f0e0a(0x1a9)]()){let _0x205f03=process[_0x4f0e0a(0x189)][_0x4f0e0a(0x16f)];!helper[_0x4f0e0a(0x160)](_0x22b106[_0x4f0e0a(0x17b)])&&_0x22b106[_0x4f0e0a(0x17b)][_0x4f0e0a(0x20f)](_0x48fced[_0x4f0e0a(0x199)])&&(_0x205f03=_0x22b106[_0x4f0e0a(0x17b)]['get'](_0x48fced['JGghk'])),_0xec4259=testOpsHelper[_0x4f0e0a(0x174)](_0x205f03);}if(helper[_0x4f0e0a(0x160)](_0xec4259)){const _0xd5b721={};_0xd5b721['ignore']=ignore,_0xd5b721['extension']=extension,_0xd5b721[_0x4f0e0a(0x1c6)]=file,_0xd5b721[_0x4f0e0a(0x226)]=recursive,_0xd5b721[_0x4f0e0a(0x169)]=sort,_0xd5b721['spec']=spec,_0xec4259=_0x48fced[_0x4f0e0a(0x19d)](collectFiles,_0xd5b721),_0x48fced['qAcgp'](nestedKeyValue,_0xec4259,[_0x48fced[_0x4f0e0a(0x21f)]])&&(_0xec4259=_0xec4259[_0x4f0e0a(0x239)]);}const _0x3de06b=helper['parseTestOrchestrationOptions'](_0x22b106[_0x4f0e0a(0x1de)]);!helper['isEmpty'](_0x3de06b)&&helper[_0x4f0e0a(0x167)](_0x3de06b[_0x4f0e0a(0x1ea)])&&(_0xe44537[_0x4f0e0a(0x209)]=_0x3de06b[_0x4f0e0a(0x1ea)][_0x4f0e0a(0x1b4)]);if(!helper[_0x4f0e0a(0x19f)]()){const _0x199458=0x1,_0x4d8bc6={..._0xe44537};_0x4d8bc6[_0x4f0e0a(0x1b3)]=[..._0xec4259],_0xbf140c['push']({'mochaOpts':_0x4d8bc6,'configuration':{'platform':os[_0x4f0e0a(0x206)]()}});if(_0x22b106[_0x4f0e0a(0x1de)]['accessibility']){const _0x2747c4={};_0x2747c4[_0x4f0e0a(0x23c)]=!![];const _0x4000d9=_0x2747c4;_0x48fced[_0x4f0e0a(0x195)](_0x22b106[_0x4f0e0a(0x1de)][_0x4f0e0a(0x17a)],null)&&(_0x4000d9['accessibilityOptions']=_0x22b106[_0x4f0e0a(0x1de)][_0x4f0e0a(0x17a)],delete _0x4000d9[_0x4f0e0a(0x17a)][_0x48fced['ZvIPj']],delete _0x4000d9['accessibilityOptions'][_0x48fced['MgQBR']],delete _0x4000d9['accessibilityOptions'][_0x48fced[_0x4f0e0a(0x15e)]]);const _0xf3ce30={};_0xf3ce30[_0x4f0e0a(0x1a3)]=_0x4000d9,_0xbf140c[0x0][_0x4f0e0a(0x1ba)]['capability']=_0xf3ce30;}logger[_0x4f0e0a(0x190)](_0x48fced['lVcuE']),logger['info'](_0x48fced[_0x4f0e0a(0x19c)]),_0x48fced[_0x4f0e0a(0x256)](parallelTestRun,_0xbf140c,_0x199458,_0x22b106)['then'](_0x1823bd=>{const _0x45ba8a=_0x4f0e0a;PerformanceTester['start'](PerformanceEvents[_0x45ba8a(0x171)]),_0x48fced[_0x45ba8a(0x212)](printStats,_0x1823bd,_0x2c64e7[_0x45ba8a(0x253)],_0x2c64e7[_0x45ba8a(0x15d)]||_0x2c64e7[_0x48fced['hzrLa']]);})[_0x4f0e0a(0x193)](()=>{const _0xaef4c6=_0x4f0e0a;PerformanceTester['start'](PerformanceEvents[_0xaef4c6(0x171)]);try{const {browserstackFolderPath:_0xe6f296,tcgConfigPath:_0x3cc3ec}=helper[_0xaef4c6(0x208)]();fs[_0xaef4c6(0x1f4)](_0x3cc3ec),fs['rmdirSync'](_0xe6f296);}catch(_0x52cf99){logger[_0xaef4c6(0x185)](_0x48fced['pLeZJ'],_0x52cf99);}try{utilities[_0xaef4c6(0x175)](_0x48fced['uiuuy'],{},_0x22b106[_0xaef4c6(0x1de)],_0x22b106['framework']);}catch(_0x1d7fac){logger[_0xaef4c6(0x185)]('Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20'+_0x1d7fac['stack']);}try{helper[_0xaef4c6(0x18c)]();}catch(_0x436590){logger[_0xaef4c6(0x185)]('Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20'+_0x436590);}testOpsHelper[_0xaef4c6(0x176)]();});}else{const _0x12e86d=helper[_0x4f0e0a(0x22a)](_0x22b106[_0x4f0e0a(0x1de)]);let _0x4c6ae0=helper[_0x4f0e0a(0x218)](_0x22b106[_0x4f0e0a(0x1de)]);_0x31757a=helper['prepareCapabilities'](_0x22b106[_0x4f0e0a(0x1de)],_0x12e86d,constants[_0x4f0e0a(0x24f)][_0x4f0e0a(0x18a)]);helper[_0x4f0e0a(0x1b8)]()[_0x4f0e0a(0x188)]&&(_0x4c6ae0=centralScannerConstants[_0x4f0e0a(0x19e)]);let _0x5b8fd6;const _0x11aedf=_0x22b106['config']['parallelsPerPlatform']||helper[_0x4f0e0a(0x187)](_0x2c64e7,_0x1429f5,_0x22b106[_0x4f0e0a(0x1de)],constants[_0x4f0e0a(0x24f)][_0x4f0e0a(0x18a)])||0x1;helper['validPlatformsPresent'](_0x22b106[_0x4f0e0a(0x1de)])?_0x5b8fd6=_0x48fced[_0x4f0e0a(0x1bf)](_0x22b106[_0x4f0e0a(0x1de)][_0x4f0e0a(0x1e5)][_0x4f0e0a(0x210)],_0x11aedf):_0x5b8fd6=_0x11aedf;const _0x48c868=_0x48fced['POCuK'](getPercyOptions,_0x22b106[_0x4f0e0a(0x1de)]);if(_0x48fced['ZgjvT'](_0x22b106[_0x4f0e0a(0x1de)][_0x4f0e0a(0x246)],0x1))_0xec4259['forEach'](_0xcbc4d3=>{const _0x94328b=_0x4f0e0a,_0x2553ed=[];_0x31757a['forEach']((_0x5582f6,_0x3900f5)=>{const _0x20b52b=a33_0x237d,_0x1e4b68={};_0x1e4b68[_0x20b52b(0x1b3)]=[_0xcbc4d3],_0x2553ed[_0x20b52b(0x24c)]({'mochaOpts':Object[_0x20b52b(0x1d1)]({},_0xe44537,_0x1e4b68),'configuration':{'server':_0x4c6ae0,'capability':_0x5582f6,'proxySettings':_0x22b106['config'][_0x20b52b(0x1b7)],'platform':helper[_0x20b52b(0x1c9)](_0x5582f6),'browserStackLogLevel':_0x22b106['config'][_0x20b52b(0x229)],'platformIndex':_0x3900f5,'browserStackPercyOptions':_0x48c868,'platformCaps':Object[_0x20b52b(0x1d1)]({'index':_0x3900f5},_0x22b106[_0x20b52b(0x1de)]['platforms'][_0x3900f5])}});}),_0xbf140c[_0x94328b(0x24c)](..._0x2553ed);});else{const _0x34ba2c=[];_0x31757a[_0x4f0e0a(0x1a5)]((_0x5b3b72,_0x245cd8)=>{const _0x9622a6=_0x4f0e0a;let _0x1f0172=Object[_0x9622a6(0x1d1)]({},_0xe44537);testOpsHelper[_0x9622a6(0x250)]()&&testOpsHelper['shouldReRunObservabilityTests']()&&(_0x1f0172={..._0x1f0172,'spec':[..._0xec4259]}),_0x34ba2c[_0x9622a6(0x24c)]({'mochaOpts':_0x1f0172,'configuration':{'server':_0x4c6ae0,'capability':_0x5b3b72,'proxySettings':_0x22b106[_0x9622a6(0x1de)][_0x9622a6(0x1b7)],'platform':helper[_0x9622a6(0x1c9)](_0x5b3b72),'browserStackLogLevel':_0x22b106[_0x9622a6(0x1de)][_0x9622a6(0x229)],'platformIndex':_0x245cd8,'browserStackPercyOptions':_0x48c868,'platformCaps':Object[_0x9622a6(0x1d1)]({'index':_0x245cd8},_0x22b106[_0x9622a6(0x1de)][_0x9622a6(0x1e5)][_0x245cd8])}});}),_0xbf140c[_0x4f0e0a(0x24c)](..._0x34ba2c);}logger[_0x4f0e0a(0x190)](_0x4f0e0a(0x233)+_0x22b106['config'][_0x4f0e0a(0x1e5)][_0x4f0e0a(0x210)]+'\x20platforms'),logger[_0x4f0e0a(0x190)](_0x48fced[_0x4f0e0a(0x19c)]);let _0x5059c7;_0x48fced['eWYiW'](parallelTestRun,_0xbf140c,_0x5b8fd6,_0x22b106)[_0x4f0e0a(0x182)](_0x578356=>{const _0x59fa68=_0x4f0e0a;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']),_0x5059c7=_0x578356,_0x48fced[_0x59fa68(0x212)](printStats,_0x578356,_0x2c64e7[_0x59fa68(0x253)],_0x2c64e7['reporterOptions']||_0x2c64e7[_0x48fced[_0x59fa68(0x168)]]);})[_0x4f0e0a(0x193)](async()=>{const _0x1968d6=_0x4f0e0a;PerformanceTester[_0x1968d6(0x161)](PerformanceEvents[_0x1968d6(0x171)]),_0x22b106[_0x1968d6(0x200)]=helper[_0x1968d6(0x1f2)](_0x5059c7,_0x48fced[_0x1968d6(0x1f1)]),await utilities['finalExecution'](_0x22b106),testOpsHelper[_0x1968d6(0x176)]();});}}module[a33_0x4708eb(0x1dd)]=run;