#!/usr/bin/env node
'use strict';const a28_0x105c29=a28_0x1308;(function(_0x38bbbb,_0x2b6232){const _0x1f62e5=a28_0x1308,_0x47930f=_0x38bbbb();while(!![]){try{const _0x44350f=-parseInt(_0x1f62e5(0x193))/0x1*(parseInt(_0x1f62e5(0x1f7))/0x2)+-parseInt(_0x1f62e5(0x1b4))/0x3+-parseInt(_0x1f62e5(0x200))/0x4*(-parseInt(_0x1f62e5(0x1ed))/0x5)+parseInt(_0x1f62e5(0x15f))/0x6+-parseInt(_0x1f62e5(0x167))/0x7+parseInt(_0x1f62e5(0x14a))/0x8+parseInt(_0x1f62e5(0x1a0))/0x9;if(_0x44350f===_0x2b6232)break;else _0x47930f['push'](_0x47930f['shift']());}catch(_0x2a6db3){_0x47930f['push'](_0x47930f['shift']());}}}(a28_0x3c01,0x9412a));const chalk=require('chalk'),logger=require(a28_0x105c29(0x163))['winstonLogger'],{default:BrowserStackSetup}=require(a28_0x105c29(0x21e)),helper=require(a28_0x105c29(0x186)),utilities=require(a28_0x105c29(0x183)),testOpsHelper=require(a28_0x105c29(0x16e)),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a28_0x105c29(0x13a)),{requireModule,nestedKeyValue}=require('../../helpers/helper'),{getPercyOptions}=require(a28_0x105c29(0x1d1)),Base=requireModule(a28_0x105c29(0x1c6),a28_0x105c29(0x14f)),collectFiles=requireModule('mocha/lib/cli/collect-files.js','mocha'),constants=require(a28_0x105c29(0x1e4)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a28_0x105c29(0x1e1))['EVENTS'],centralScannerConstants=require(a28_0x105c29(0x219));function tag(_0x458372,_0x2a3000,_0xe061b4,_0x2be654){const _0x54e681=a28_0x105c29,_0x3abd1f={'ooGSS':function(_0x2761fb,_0x5374c4){return _0x2761fb+_0x5374c4;},'MxoAz':function(_0x1de588,_0x336052){return _0x1de588+_0x336052;},'pJweD':function(_0x311808,_0x50f790){return _0x311808(_0x50f790);},'vTlMF':function(_0x5a15c9,_0x4eacac){return _0x5a15c9+_0x4eacac;},'JDEZq':function(_0x265eab,_0x58b8be){return _0x265eab+_0x58b8be;},'ecugY':function(_0x2a656b,_0x2182e7){return _0x2a656b+_0x2182e7;},'vUTdp':function(_0x3be153,_0x2b6937){return _0x3be153+_0x2b6937;}},_0x4d9a5c=_0xe061b4?'/>':'>',_0x87fd48=[];let _0xbf05e6;for(const _0x408c10 in _0x2a3000){Object['prototype'][_0x54e681(0x14b)][_0x54e681(0x16a)](_0x2a3000,_0x408c10)&&_0x87fd48['push'](_0x3abd1f[_0x54e681(0x194)](_0x3abd1f[_0x54e681(0x1a3)](_0x3abd1f[_0x54e681(0x194)](_0x408c10,'=\x22'),_0x3abd1f[_0x54e681(0x1eb)](escape,_0x2a3000[_0x408c10])),'\x22'));}return _0xbf05e6=_0x3abd1f[_0x54e681(0x1a3)](_0x3abd1f[_0x54e681(0x1fb)](_0x3abd1f['JDEZq']('<',_0x458372),_0x87fd48[_0x54e681(0x148)]?_0x3abd1f[_0x54e681(0x1a3)]('\x20',_0x87fd48[_0x54e681(0x15b)]('\x20')):''),_0x4d9a5c),_0x2be654&&(_0xbf05e6+=_0x3abd1f['ecugY'](_0x3abd1f[_0x54e681(0x1bb)](_0x3abd1f[_0x54e681(0x165)](_0x2be654,'</'),_0x458372),_0x4d9a5c)),_0xbf05e6;}let xunitContent='';function xunitWrite(_0x5c623d){xunitContent+=_0x5c623d;}function a28_0x1308(_0x3a0061,_0x2cf6e4){const _0x3c0150=a28_0x3c01();return a28_0x1308=function(_0x13087b,_0x468b5e){_0x13087b=_0x13087b-0x12c;let _0x404688=_0x3c0150[_0x13087b];return _0x404688;},a28_0x1308(_0x3a0061,_0x2cf6e4);}function xunitTest(_0x259cfb,_0x55c632){const _0x25612f=a28_0x105c29,_0x844e64={'bhQTg':function(_0x4d9ce7,_0x4a4425){return _0x4d9ce7/_0x4a4425;},'aidvi':function(_0x58561f,_0xa2bc2b){return _0x58561f===_0xa2bc2b;},'licEq':'failed','BTHdu':function(_0x5dade3,_0x18cd2f){return _0x5dade3+_0x18cd2f;},'rTsQN':function(_0x560ce3,_0x288803){return _0x560ce3(_0x288803);},'FRDvL':function(_0x1a351a,_0x53dd36,_0x2edc9e,_0x386c97,_0x245e8b){return _0x1a351a(_0x53dd36,_0x2edc9e,_0x386c97,_0x245e8b);},'fpyld':'testcase','BDwTl':function(_0x2f3630,_0x1b5edc,_0x1b933f,_0xac8a0a,_0x3889b5){return _0x2f3630(_0x1b5edc,_0x1b933f,_0xac8a0a,_0x3889b5);},'OzOFm':_0x25612f(0x1c3),'ljebE':function(_0x4aae5c,_0x7ecfa5){return _0x4aae5c+_0x7ecfa5;},'SZRGE':function(_0x12c41f,_0x211eba){return _0x12c41f+_0x211eba;},'VIlCO':function(_0x1f7acd,_0x9f2746){return _0x1f7acd(_0x9f2746);},'TMqGp':function(_0x7b56ee,_0x56e42f){return _0x7b56ee(_0x56e42f);},'OJpFL':function(_0x261a05,_0xee7666){return _0x261a05(_0xee7666);},'jxWke':function(_0x5b03a0,_0x5e7aeb,_0x2a9133,_0x11641a,_0xd50a1){return _0x5b03a0(_0x5e7aeb,_0x2a9133,_0x11641a,_0xd50a1);},'hlvEU':function(_0x33d110,_0x43c039,_0x28cb6e,_0x3441f8){return _0x33d110(_0x43c039,_0x28cb6e,_0x3441f8);},'LufXJ':'skipped','NjtWX':function(_0x31e820,_0x4dad25,_0x2dea45,_0x1e9138){return _0x31e820(_0x4dad25,_0x2dea45,_0x1e9138);}};Base[_0x25612f(0x178)]=![];var _0x415825={'classname':_0x259cfb[_0x25612f(0x1f6)],'name':_0x259cfb[_0x25612f(0x19b)],'time':_0x844e64[_0x25612f(0x19c)](_0x259cfb['duration'],0x3e8)||0x0,'platform':_0x55c632};if(_0x844e64['aidvi'](_0x259cfb[_0x25612f(0x17f)],_0x844e64['licEq'])){var _0x532d76=_0x259cfb[_0x25612f(0x1b3)],_0x462b0e=!Base['hideDiff']&&Base[_0x25612f(0x1ac)](_0x532d76)?_0x844e64[_0x25612f(0x1de)]('\x0a',Base[_0x25612f(0x134)](_0x532d76[_0x25612f(0x1ad)],_0x532d76[_0x25612f(0x1ef)])):'';_0x844e64[_0x25612f(0x203)](xunitWrite,_0x844e64[_0x25612f(0x189)](tag,_0x844e64[_0x25612f(0x1df)],_0x415825,![],_0x844e64[_0x25612f(0x1bc)](tag,_0x844e64[_0x25612f(0x1ea)],{},![],_0x844e64['ljebE'](_0x844e64[_0x25612f(0x199)](_0x844e64[_0x25612f(0x199)](_0x844e64[_0x25612f(0x203)](escape,_0x532d76['message']),_0x844e64[_0x25612f(0x1f9)](escape,_0x462b0e)),'\x0a'),_0x844e64['TMqGp'](escape,_0x532d76['stack'])))));}else _0x259cfb[_0x25612f(0x1c2)]?_0x844e64[_0x25612f(0x15a)](xunitWrite,_0x844e64[_0x25612f(0x157)](tag,_0x844e64[_0x25612f(0x1df)],_0x415825,![],_0x844e64[_0x25612f(0x140)](tag,_0x844e64[_0x25612f(0x12f)],{},!![]))):_0x844e64[_0x25612f(0x1f9)](xunitWrite,_0x844e64['NjtWX'](tag,_0x844e64['fpyld'],_0x415825,!![]));};function getStats(_0x51d1e1){const _0x1f5b2e=a28_0x105c29,_0x563511={};_0x563511[_0x1f5b2e(0x1aa)]='suite',_0x563511[_0x1f5b2e(0x174)]=_0x1f5b2e(0x1a6),_0x563511[_0x1f5b2e(0x12d)]=_0x1f5b2e(0x179),_0x563511[_0x1f5b2e(0x155)]=_0x1f5b2e(0x1e2);const _0x2d0b59=_0x563511,_0x39f385=Object['keys'](_0x51d1e1);let _0x49baf0=0x0,_0x5bc2ad=0x0,_0x38e918=0x0,_0x2d5076=0x0;const _0x3c5831=new Set();_0x39f385['forEach'](_0x3d5fab=>{const _0x5058ba=_0x1f5b2e;_0x51d1e1[_0x3d5fab][_0x2d0b59[_0x5058ba(0x155)]][_0x5058ba(0x14d)](_0x82768b=>{const _0x4c6f41=_0x5058ba;_0x3c5831[_0x4c6f41(0x133)](_0x82768b[_0x2d0b59[_0x4c6f41(0x1aa)]]),_0x49baf0++;switch(_0x82768b[_0x4c6f41(0x17f)]){case _0x2d0b59[_0x4c6f41(0x174)]:_0x38e918++;break;case _0x2d0b59['ujKgJ']:_0x5bc2ad++;break;default:_0x2d5076++;}});});const _0x1564e9={};return _0x1564e9['testSuites']=_0x3c5831[_0x1f5b2e(0x20c)],_0x1564e9[_0x1f5b2e(0x149)]=_0x39f385,_0x1564e9['totalTests']=_0x49baf0,_0x1564e9[_0x1f5b2e(0x1ab)]=_0x5bc2ad,_0x1564e9[_0x1f5b2e(0x190)]=_0x38e918,_0x1564e9[_0x1f5b2e(0x1f3)]=_0x2d5076,_0x1564e9;}function errorJSON(_0x2502fa){const _0x15c1c3=a28_0x105c29;var _0x1d3427={};return Object[_0x15c1c3(0x1fa)](_0x2502fa)['forEach'](function(_0x342d75){_0x1d3427[_0x342d75]=_0x2502fa[_0x342d75];},_0x2502fa),_0x1d3427;}function cleanCycles(_0x54ce20){const _0x460f72=a28_0x105c29,_0x45caa6={};_0x45caa6[_0x460f72(0x154)]=function(_0x486fe0,_0x155213){return _0x486fe0===_0x155213;},_0x45caa6[_0x460f72(0x1d7)]=_0x460f72(0x17e),_0x45caa6['TuQIU']=function(_0x451e55,_0x519ec1){return _0x451e55!==_0x519ec1;},_0x45caa6['GKhPU']=function(_0x36ae15,_0xcd8748){return _0x36ae15!==_0xcd8748;},_0x45caa6['CJuci']=function(_0x1eb0d6,_0xf79fc1){return _0x1eb0d6+_0xf79fc1;};const _0x4cc3a5=_0x45caa6;var _0x4b3d90=[];return JSON[_0x460f72(0x1f4)](JSON[_0x460f72(0x1f2)](_0x54ce20,function(_0x1eefd3,_0x3dd5ad){const _0x3f2904=_0x460f72;if(_0x4cc3a5[_0x3f2904(0x154)](typeof _0x3dd5ad,_0x4cc3a5[_0x3f2904(0x1d7)])&&_0x4cc3a5[_0x3f2904(0x176)](_0x3dd5ad,null)){if(_0x4cc3a5[_0x3f2904(0x1e9)](_0x4b3d90['indexOf'](_0x3dd5ad),-0x1))return _0x4cc3a5[_0x3f2904(0x211)]('',_0x3dd5ad);_0x4b3d90['push'](_0x3dd5ad);}return _0x3dd5ad;}));}function a28_0x3c01(){const _0x1521d7=['finally','lgYRE','Welkx','../../helpers/utilities','Now,\x20showing\x20logs\x20from\x20mocha','start','../../helpers/helper','ghYrn','fVndd','FRDvL','ErqbA','LbMvD','XwDfh','BTcGw','failures','qlPjN','testsPassed','BkXJh','KKyJu','13mprogK','ooGSS','SlpNk','VFqkD','FRAMEWORKS','error','SZRGE','logLevel','title','bhQTg','cEVDO','argv','whHhi','2713680QUWdbf','info','mArgs','MxoAz','WsSIu','AdpwI','passed','pending','testObservability','central_scanner','ZFRvg','testsFailed','showDiff','actual','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','kfRgZ','setUserConfigPath','speed','Running\x20your\x20mocha\x20tests','err','505440kqUvip','debug','jxBVW','zSXFf','LdKEm','reporter-option','printBuildLink','JDEZq','BDwTl','--disable-test-observability','BROWSERSTACK_AUTOMATION','MFftp','fireFunnelTestEvent','testSuites','isPending','failure','stats','file','mocha/lib/reporters/base.js','BROWSERSTACK_TEST_ACCESSIBILITY_YML','SQnPf','shouldReRunObservabilityTests','XjgGt','handleApp','exitCode','isTestObservabilitySession','ntwsD','hgBAX','currentRetry','../../helpers/percy/utils','bgRedBright','vsisV','tuAXQ','Couldn\x27t\x20write\x20json\x20result\x20to','output','tpwMX','PQYng','deJed','YZyXG','config','</testsuite>','Tests:\x20\x20\x20\x20\x20\x20\x20','BTHdu','fpyld','platform','../../helpers/performance/constants','results','getHubUrl','../utils/constants','proxySettings','getUserWorkerCount','SDKTestSuccessful','spec','GKhPU','OzOFm','pJweD','writeFileSync','5bHEenu','Bpprp','expected','BROWSERSTACK_RERUN_TESTS','CWjom','stringify','testsPending','parse','icHDD','fullTitle','58196lQaVcq','\x20total','VIlCO','getOwnPropertyNames','vTlMF','KCFhO','\x20skipped','ignore','doc','3904164ThGdrA','getPlatformName','isUndefined','rTsQN','env','recursive','Mocha\x20Tests','SZpJl','KVUIB','passes','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','parallelsPerPlatform','size','axIyo','Writing\x20xunit\x20result\x20to\x20file','notifyUpdate','accessibilityOptions','CJuci','sLpZs','bgBlueBright','validPlatformsPresent','BEHVm','unlinkSync','setupTCGAuth','assign','../../helpers/central-scanner/constants','JjkII','GzlIH','OBKIb','wVxuK','../../helpers/BrowserStackSetup','QBmXL','\x20failed','UkCkW','WfDxh','json','\x20passed','getCentralUser','bold','getErrorMessageFromResults','includes','XUOit','Running\x20your\x20mocha\x20tests\x20across\x20','SKHgA','rmdirSync','MbLoP','ycLpK','oiKYw','mjs','UdXGX','SCPho','ujKgJ','xunit','LufXJ','log','green','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','add','generateDiff','cliConfig','Couldn\x27t\x20write\x20xunit\x20result\x20to','push','then','parseFileNames','../test-runner','HuLmy','rZSSe','kzWex','testsuite','has','hlvEU','isBrowserstackInfra','MOCHA','BROWSERSTACK_TEST_OBSERVABILITY_YML','UiQOi','pWtVH','accessibility','fytSp','length','platforms','1323728OyUIhD','hasOwnProperty','Setting\x20non\x20exit\x20code\x20for\x20failures','forEach','AKFyg','mocha','jmTrt','\x20platforms','iIzBF','NDiiv','sftxx','hVlWR','errorMessage','jxWke','finalExecution','rootHooks','OJpFL','join','bWPTm','sort','reporter','3632460VllbrQ','rerunTests','toUTCString','cjs','../../helpers/logger','Odffq','vUTdp','map','6266239vOlwBF','TQFMf','mStVn','call','files','stack','consoleLog','../../helpers/test-observability/utils','test','get','min','iiQkp','\x0a\x0a\x0a','gyeJe','titlePathV','TuQIU','hPjMB','useColors','failed','--disable-browserstack-automation','ZqgAa','titlePath','SDK_CLEANUP','object','state'];a28_0x3c01=function(){return _0x1521d7;};return a28_0x3c01();}function clean(_0x34e980){const _0x5499ed=a28_0x105c29,_0x2415a9={'iIzBF':function(_0x58d4ee,_0x3d9b26){return _0x58d4ee instanceof _0x3d9b26;},'MbLoP':function(_0x42f1cf,_0x51d0cd){return _0x42f1cf(_0x51d0cd);},'cEVDO':function(_0x594352,_0x3b349a){return _0x594352(_0x3b349a);}};var _0xedddc=_0x34e980['err']||{};return _0x2415a9[_0x5499ed(0x152)](_0xedddc,Error)&&(_0xedddc=_0x2415a9[_0x5499ed(0x22d)](errorJSON,_0xedddc)),{'title':_0x34e980['title'],'fullTitle':_0x34e980['fullTitle'],'file':_0x34e980['file'],'duration':_0x34e980['duration'],'currentRetry':_0x34e980[_0x5499ed(0x1d0)],'speed':_0x34e980[_0x5499ed(0x1b1)],'err':_0x2415a9[_0x5499ed(0x19d)](cleanCycles,_0xedddc)};}function printStats(_0x5c92a3,_0x2c45da=a28_0x105c29(0x1e8),_0x48b294={}){const _0x1221d4=a28_0x105c29,_0x249653={'LdKEm':function(_0x387c2e,_0x4595c6){return _0x387c2e(_0x4595c6);},'jxBVW':function(_0x32cee3,_0x46ec4b){return _0x32cee3===_0x46ec4b;},'qCsQr':_0x1221d4(0x1a6),'XjgGt':_0x1221d4(0x209),'KKXPE':function(_0x46f48b,_0x2e6b64){return _0x46f48b===_0x2e6b64;},'LbMvD':_0x1221d4(0x179),'KCFhO':_0x1221d4(0x18e),'Bpprp':function(_0x3e8feb,_0x4102be){return _0x3e8feb(_0x4102be);},'oiKYw':_0x1221d4(0x1a7),'MFftp':function(_0x1467f7,_0x46e8fe){return _0x1467f7(_0x46e8fe);},'icHDD':_0x1221d4(0x1e2),'qlPjN':function(_0x4a4d6a,_0x3fb0ec){return _0x4a4d6a===_0x3fb0ec;},'BEHVm':function(_0x53aee1,_0x5bf8d5){return _0x53aee1===_0x5bf8d5;},'wVxuK':function(_0x1f724d,_0x10ba2d){return _0x1f724d*_0x10ba2d;},'HuLmy':function(_0x1d116e,_0x13aea9,_0xe94146){return _0x1d116e(_0x13aea9,_0xe94146);},'kzWex':function(_0x3dfe61,_0x4df34f){return _0x3dfe61>_0x4df34f;},'hPjMB':function(_0x4d5963){return _0x4d5963();},'TxmFK':function(_0x7c0d87,_0x2c08a4){return _0x7c0d87===_0x2c08a4;},'RwBcD':_0x1221d4(0x1ff),'WFWis':function(_0x523945,_0x942f6a){return _0x523945(_0x942f6a);},'lgYRE':function(_0xe0c807,_0x178d2){return _0xe0c807>_0x178d2;},'BdZgU':_0x1221d4(0x14c),'aFEiY':'Printing\x20stats\x20of\x20tests','rZSSe':function(_0x6cdee5,_0x592a8c){return _0x6cdee5+_0x592a8c;},'UdXGX':'Total\x20Platforms:\x20','ycLpK':function(_0x5be74a,_0x74723){return _0x5be74a+_0x74723;},'XosMz':'Total\x20Suites:\x20','SCPho':function(_0x500b6a,_0x401ed6){return _0x500b6a+_0x401ed6;},'hgBAX':function(_0xe39a48,_0x1ecfed){return _0xe39a48+_0x1ecfed;},'SlpNk':_0x1221d4(0x1dd),'fVndd':function(_0x5584a2,_0x45070){return _0x5584a2>_0x45070;},'rwraR':function(_0x1f6674,_0x4c8ff0){return _0x1f6674>_0x4c8ff0;},'pWtVH':function(_0x40a064,_0x4df4ea){return _0x40a064+_0x4df4ea;},'AKFyg':function(_0x2c60f3,_0x5d1f74){return _0x2c60f3+_0x5d1f74;},'mArgs':_0x1221d4(0x173),'CWjom':function(_0x350c2e,_0x721e1e){return _0x350c2e===_0x721e1e;},'NDiiv':_0x1221d4(0x223),'AcXOl':'Writing\x20json\x20result\x20to\x20file','UiQOi':_0x1221d4(0x1d5),'axIyo':'No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','fytSp':function(_0x55ee15,_0x12f3de){return _0x55ee15===_0x12f3de;},'KKyJu':_0x1221d4(0x12e),'WfDxh':_0x1221d4(0x206),'ghYrn':function(_0x4076b6,_0x39c24b){return _0x4076b6||_0x39c24b;},'tuAXQ':function(_0x236935,_0x5bbc26){return _0x236935(_0x5bbc26);},'jmTrt':function(_0x5721a0,_0x493920,_0x215145,_0x531ec5){return _0x5721a0(_0x493920,_0x215145,_0x531ec5);},'LhIxc':_0x1221d4(0x13e),'whHhi':function(_0x42e834,_0x120821){return _0x42e834-_0x120821;},'sLpZs':function(_0x48d562,_0x50ea50){return _0x48d562/_0x50ea50;},'RIxRh':_0x1221d4(0x1dc),'Odffq':_0x1221d4(0x20e),'mStVn':_0x1221d4(0x136),'OBKIb':_0x1221d4(0x132),'KVUIB':'Listing\x20all\x20the\x20failures','GzlIH':'****\x20FAILURES\x20****'};if(_0x249653['TxmFK'](_0x2c45da,_0x249653['RwBcD']))return;const _0x3cacb7=0x0,_0x3b6a64=()=>{return _0x249653['LdKEm'](Array,_0x3cacb7)['join']('\x20\x20');},{testSuites:_0x2cebff,platforms:_0x58ae19,totalTests:_0x1831cc,testsFailed:_0x4d4910,testsPassed:_0x16fd5c,testsPending:_0x3d5979}=_0x249653['WFWis'](getStats,_0x5c92a3);_0x249653[_0x1221d4(0x181)](_0x4d4910,0x0)&&(logger['debug'](_0x249653['BdZgU']),process[_0x1221d4(0x1cc)]=Math[_0x1221d4(0x171)](_0x4d4910,0xff));logger[_0x1221d4(0x1b5)](_0x249653['aFEiY']);const _0x4c5c27=''+_0x249653['rZSSe'](chalk[_0x1221d4(0x226)](_0x249653[_0x1221d4(0x231)]),_0x58ae19[_0x1221d4(0x148)]),_0x2a3759=''+_0x249653[_0x1221d4(0x22e)](chalk[_0x1221d4(0x226)](_0x249653['XosMz']),_0x2cebff),_0x1573c4=''+_0x249653[_0x1221d4(0x12c)](_0x249653[_0x1221d4(0x12c)](_0x249653[_0x1221d4(0x1cf)](chalk[_0x1221d4(0x226)](_0x249653[_0x1221d4(0x195)]),_0x249653['kzWex'](_0x4d4910,0x0)?chalk['bold']['red'](_0x4d4910+_0x1221d4(0x220))+',\x20':''),_0x249653[_0x1221d4(0x188)](_0x3d5979,0x0)?chalk['bold']['yellow'](_0x3d5979+_0x1221d4(0x1fd))+',\x20':''),_0x249653['rwraR'](_0x16fd5c,0x0)?chalk['bold'][_0x1221d4(0x131)](_0x16fd5c+_0x1221d4(0x224))+',\x20':'')+_0x1831cc+_0x1221d4(0x1f8);console[_0x1221d4(0x130)](_0x249653['SCPho'](_0x249653[_0x1221d4(0x13c)](_0x249653[_0x1221d4(0x145)](_0x249653[_0x1221d4(0x14e)](_0x249653[_0x1221d4(0x14e)](_0x249653[_0x1221d4(0x1a2)],_0x4c5c27),'\x0a'),_0x2a3759),'\x0a'),_0x1573c4));if(_0x249653[_0x1221d4(0x1f1)](_0x2c45da,_0x249653[_0x1221d4(0x153)])){const _0x357a0b={},_0x24189f={};_0x24189f[_0x1221d4(0x1c1)]=_0x2cebff,_0x24189f[_0x1221d4(0x149)]=_0x58ae19,_0x24189f[_0x1221d4(0x1ab)]=_0x4d4910,_0x24189f[_0x1221d4(0x190)]=_0x16fd5c,_0x24189f['testsPending']=_0x3d5979,_0x357a0b[_0x1221d4(0x1c4)]=_0x24189f,_0x58ae19[_0x1221d4(0x14d)](_0x4808cc=>{const _0x1d9c7d=_0x1221d4,_0x58e964={'Welkx':function(_0x26a052,_0x1ecb3a){const _0x2a042b=a28_0x1308;return _0x249653[_0x2a042b(0x1b6)](_0x26a052,_0x1ecb3a);},'iiQkp':_0x249653['qCsQr'],'deJed':_0x249653[_0x1d9c7d(0x1ca)],'ntwsD':function(_0x55872e,_0x36b633){const _0x5b3b8d=_0x1d9c7d;return _0x249653[_0x5b3b8d(0x1b8)](_0x55872e,_0x36b633);},'fHadg':function(_0x114354,_0x1d0fce){return _0x249653['KKXPE'](_0x114354,_0x1d0fce);},'SKHgA':_0x249653['LbMvD'],'YZyXG':_0x249653[_0x1d9c7d(0x1fc)],'qAVDx':function(_0x141c83,_0x4d4b25){const _0x5448b1=_0x1d9c7d;return _0x249653[_0x5448b1(0x1ee)](_0x141c83,_0x4d4b25);},'XwDfh':_0x249653[_0x1d9c7d(0x22f)],'vuowB':function(_0x1d94bc,_0x4f24ac){const _0x4b1ae1=_0x1d9c7d;return _0x249653[_0x4b1ae1(0x1bf)](_0x1d94bc,_0x4f24ac);}};_0x357a0b[_0x4808cc]={'pending':[],'failures':[],'passes':[],'tests':_0x5c92a3[_0x4808cc][_0x249653[_0x1d9c7d(0x1f5)]][_0x1d9c7d(0x166)](clean)},_0x5c92a3[_0x4808cc][_0x249653[_0x1d9c7d(0x1f5)]][_0x1d9c7d(0x14d)](_0x3b6dfe=>{const _0x3f22c7=_0x1d9c7d;if(_0x58e964[_0x3f22c7(0x182)](_0x3b6dfe['state'],_0x58e964[_0x3f22c7(0x172)]))_0x357a0b[_0x4808cc][_0x58e964[_0x3f22c7(0x1d9)]]['push'](_0x58e964[_0x3f22c7(0x1ce)](clean,_0x3b6dfe));else _0x58e964['fHadg'](_0x3b6dfe[_0x3f22c7(0x17f)],_0x58e964[_0x3f22c7(0x22b)])?_0x357a0b[_0x4808cc][_0x58e964[_0x3f22c7(0x1da)]][_0x3f22c7(0x137)](_0x58e964['qAVDx'](clean,_0x3b6dfe)):_0x357a0b[_0x4808cc][_0x58e964[_0x3f22c7(0x18c)]]['push'](_0x58e964['vuowB'](clean,_0x3b6dfe));});});if(_0x48b294[_0x1221d4(0x1d6)])try{logger[_0x1221d4(0x1b5)](_0x249653['AcXOl'],_0x48b294[_0x1221d4(0x1d6)]),fs[_0x1221d4(0x1ec)](_0x48b294['output'],JSON['stringify'](_0x357a0b,null,0x3));}catch(_0xcab84c){logger[_0x1221d4(0x198)](_0x249653[_0x1221d4(0x144)],_0x48b294[_0x1221d4(0x1d6)]),logger[_0x1221d4(0x1b5)](_0xcab84c);}else logger[_0x1221d4(0x1b5)](_0x249653[_0x1221d4(0x20d)]),console['log'](JSON[_0x1221d4(0x1f2)](_0x357a0b,null,0x3));}else{if(_0x249653[_0x1221d4(0x147)](_0x2c45da,_0x249653[_0x1221d4(0x192)])){let _0x1675d0;const _0xb0e820=_0x249653[_0x1221d4(0x222)];_0x48b294&&(_0x1675d0=_0x48b294['suiteName']);_0x1675d0=_0x249653[_0x1221d4(0x187)](_0x1675d0,_0xb0e820);let _0x3df897=0x0,_0x5cbd83=0x0,_0x12045c=0x0,_0x1d6ef0=0x0;_0x58ae19[_0x1221d4(0x14d)](_0x8b8226=>{const _0x1db71d=_0x1221d4;_0x5c92a3[_0x8b8226][_0x249653[_0x1db71d(0x1f5)]][_0x1db71d(0x14d)](_0x4de870=>{const _0x239a83=_0x1db71d;if(_0x249653[_0x239a83(0x18f)](_0x4de870[_0x239a83(0x17f)],_0x249653['qCsQr']))_0x3df897++;else _0x249653[_0x239a83(0x215)](_0x4de870[_0x239a83(0x17f)],_0x249653['LbMvD'])&&_0x5cbd83++;_0x12045c++,_0x1d6ef0+=_0x249653[_0x239a83(0x21d)](_0x4de870['duration'],0x1);});}),_0x249653[_0x1221d4(0x1d4)](xunitWrite,_0x249653[_0x1221d4(0x150)](tag,_0x249653['LhIxc'],{'name':_0x1675d0,'tests':_0x12045c,'failures':0x0,'errors':_0x5cbd83,'skipped':_0x249653[_0x1221d4(0x19f)](_0x249653['whHhi'](_0x12045c,_0x5cbd83),_0x3df897),'timestamp':new Date()[_0x1221d4(0x161)](),'time':_0x249653[_0x1221d4(0x212)](_0x1d6ef0,0x3e8)||0x0},![])),_0x58ae19[_0x1221d4(0x14d)](_0x315e09=>{const _0x2ee0a5=_0x1221d4,_0x5740c4={'XUOit':function(_0x16ede6,_0x248a68,_0x542264){const _0x33fdc0=a28_0x1308;return _0x249653[_0x33fdc0(0x13b)](_0x16ede6,_0x248a68,_0x542264);}};_0x5c92a3[_0x315e09][_0x249653[_0x2ee0a5(0x1f5)]][_0x2ee0a5(0x14d)](_0x4ee78b=>{const _0xaa69ef=_0x2ee0a5;_0x5740c4[_0xaa69ef(0x229)](xunitTest,_0x4ee78b,_0x315e09);});}),_0x249653[_0x1221d4(0x1d4)](xunitWrite,_0x249653['RIxRh']);if(_0x48b294[_0x1221d4(0x1d6)])try{logger[_0x1221d4(0x1b5)](_0x249653[_0x1221d4(0x164)],_0x48b294[_0x1221d4(0x1d6)]),fs[_0x1221d4(0x1ec)](_0x48b294['output'],xunitContent);}catch(_0x1934d1){logger[_0x1221d4(0x198)](_0x249653[_0x1221d4(0x169)],_0x48b294['output']),logger[_0x1221d4(0x1b5)](_0x1934d1);}else logger[_0x1221d4(0x1b5)](_0x249653[_0x1221d4(0x21c)]),console[_0x1221d4(0x130)](xunitContent);}else{if(_0x249653['qlPjN'](_0x4d4910,0x0))return;console['log'](),logger[_0x1221d4(0x1b5)](_0x249653[_0x1221d4(0x208)]),console[_0x1221d4(0x130)](chalk[_0x1221d4(0x226)][_0x1221d4(0x1d2)](_0x249653[_0x1221d4(0x21b)])),_0x58ae19[_0x1221d4(0x14d)](_0x13467e=>{const _0x26ff4e=_0x1221d4,_0x78079e=[];_0x5c92a3[_0x13467e][_0x249653['icHDD']]['forEach'](_0x3a9872=>{const _0x2caed8=a28_0x1308;_0x249653['qlPjN'](_0x3a9872[_0x2caed8(0x17f)],_0x249653[_0x2caed8(0x18b)])&&(_0x3a9872[_0x2caed8(0x17c)]=()=>_0x3a9872[_0x2caed8(0x175)],_0x78079e[_0x2caed8(0x137)](_0x3a9872));}),_0x249653[_0x26ff4e(0x13d)](_0x78079e[_0x26ff4e(0x148)],0x0)&&(Base[_0x26ff4e(0x16d)](),Base[_0x26ff4e(0x16d)](_0x249653[_0x26ff4e(0x177)](_0x3b6a64),chalk['bold'][_0x26ff4e(0x213)](_0x13467e)),Base['list'](_0x78079e));});}}}async function run(_0x32b1e5,_0x39058a){const _0x5d6e22=a28_0x105c29,_0x309006={'TQFMf':function(_0x2113f5,_0x5bc907,_0x10c6ef,_0x58a099){return _0x2113f5(_0x5bc907,_0x10c6ef,_0x58a099);},'zSXFf':_0x5d6e22(0x1b9),'vsisV':'error\x20removing\x20tcg\x20config\x20file','ErqbA':_0x5d6e22(0x1e7),'GlIJi':function(_0x42d4fd,_0x14717b,_0x51caf7,_0x23809f){return _0x42d4fd(_0x14717b,_0x51caf7,_0x23809f);},'bWPTm':_0x5d6e22(0x14f),'QBmXL':_0x5d6e22(0x1bd),'ZqgAa':_0x5d6e22(0x17a),'JjkII':function(_0x4a689f,_0x5652c0){return _0x4a689f!=_0x5652c0;},'PQYng':_0x5d6e22(0x162),'Hamth':_0x5d6e22(0x230),'BTcGw':_0x5d6e22(0x16f),'SZpJl':_0x5d6e22(0x160),'kfRgZ':function(_0x3b1067,_0x122a59){return _0x3b1067(_0x122a59);},'rFiqI':function(_0x224aef,_0x310fb1,_0x5efecf){return _0x224aef(_0x310fb1,_0x5efecf);},'HjHIb':_0x5d6e22(0x16b),'VFqkD':_0x5d6e22(0x1b2),'AdpwI':_0x5d6e22(0x184),'WsSIu':function(_0x4a1321,_0x4dac6a){return _0x4a1321*_0x4dac6a;},'BkXJh':function(_0x1248aa,_0x319b7c){return _0x1248aa(_0x319b7c);},'UkCkW':function(_0x1417a2,_0xc50a92){return _0x1417a2!==_0xc50a92;},'SQnPf':function(_0x324350,_0x32634e,_0x5ae6fd,_0x52ffce){return _0x324350(_0x32634e,_0x5ae6fd,_0x52ffce);}};process[_0x5d6e22(0x19e)][_0x5d6e22(0x228)](_0x309006[_0x5d6e22(0x21f)])&&(process[_0x5d6e22(0x204)]['BROWSERSTACK_TEST_OBSERVABILITY']=![]);process[_0x5d6e22(0x19e)][_0x5d6e22(0x228)](_0x309006[_0x5d6e22(0x17b)])&&(process[_0x5d6e22(0x204)][_0x5d6e22(0x1be)]=![]);const _0x2a810e=new BrowserStackSetup(_0x32b1e5,_0x309006[_0x5d6e22(0x15c)]);helper[_0x5d6e22(0x1b0)](_0x2a810e['framework'],_0x32b1e5);helper[_0x5d6e22(0x141)]()?(await _0x2a810e['initialize'](),await helper[_0x5d6e22(0x1cb)](_0x2a810e[_0x5d6e22(0x1db)])):await _0x2a810e[_0x5d6e22(0x217)]();const _0x45d284=[];let _0x298b60=[];if(!_0x2a810e['config'])return;_0x309006[_0x5d6e22(0x21a)](_0x2a810e[_0x5d6e22(0x1db)]['testObservability'],null)&&(process[_0x5d6e22(0x204)][_0x5d6e22(0x143)]=_0x2a810e['config'][_0x5d6e22(0x1a8)]);!helper[_0x5d6e22(0x202)](_0x2a810e[_0x5d6e22(0x1db)][_0x5d6e22(0x146)])&&(process[_0x5d6e22(0x204)][_0x5d6e22(0x1c7)]=_0x2a810e[_0x5d6e22(0x1db)][_0x5d6e22(0x146)]);!helper['isUndefined'](_0x2a810e[_0x5d6e22(0x1db)][_0x5d6e22(0x210)])&&(process[_0x5d6e22(0x204)][_0x5d6e22(0x1ae)]=JSON[_0x5d6e22(0x1f2)](_0x2a810e['config'][_0x5d6e22(0x210)]));const {extension:extension=['js',_0x309006[_0x5d6e22(0x1d8)],_0x309006['Hamth']],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x309006[_0x5d6e22(0x18d)]]}=_0x32b1e5,_0x42160f={..._0x32b1e5};_0x42160f[_0x5d6e22(0x159)]=null;const _0x3f567b=_0x42160f;let _0x4c7f6a;if(testOpsHelper[_0x5d6e22(0x1cd)]()&&testOpsHelper[_0x5d6e22(0x1c9)]()){let _0x4b2e37=process[_0x5d6e22(0x204)][_0x5d6e22(0x1f0)];!helper[_0x5d6e22(0x202)](_0x2a810e[_0x5d6e22(0x135)])&&_0x2a810e['cliConfig'][_0x5d6e22(0x13f)](_0x309006[_0x5d6e22(0x207)])&&(_0x4b2e37=_0x2a810e[_0x5d6e22(0x135)][_0x5d6e22(0x170)](_0x309006[_0x5d6e22(0x207)])),_0x4c7f6a=testOpsHelper[_0x5d6e22(0x139)](_0x4b2e37);}if(helper[_0x5d6e22(0x202)](_0x4c7f6a)){const _0x5367cc={};_0x5367cc[_0x5d6e22(0x1fe)]=ignore,_0x5367cc['extension']=extension,_0x5367cc[_0x5d6e22(0x1c5)]=file,_0x5367cc[_0x5d6e22(0x205)]=recursive,_0x5367cc[_0x5d6e22(0x15d)]=sort,_0x5367cc['spec']=spec,_0x4c7f6a=_0x309006[_0x5d6e22(0x1af)](collectFiles,_0x5367cc),_0x309006['rFiqI'](nestedKeyValue,_0x4c7f6a,[_0x309006['HjHIb']])&&(_0x4c7f6a=_0x4c7f6a[_0x5d6e22(0x16b)]);}if(!helper['isBrowserstackInfra']()){const _0x4f57d4=0x1,_0x20767e={..._0x3f567b};_0x20767e['spec']=[..._0x4c7f6a],_0x45d284[_0x5d6e22(0x137)]({'mochaOpts':_0x20767e,'configuration':{'platform':os[_0x5d6e22(0x1e0)]()}}),logger['info'](_0x309006[_0x5d6e22(0x196)]),logger['info'](_0x309006[_0x5d6e22(0x1a5)]),_0x309006[_0x5d6e22(0x168)](parallelTestRun,_0x45d284,_0x4f57d4,_0x2a810e)[_0x5d6e22(0x138)](_0x221567=>{const _0x44cee5=_0x5d6e22;PerformanceTester[_0x44cee5(0x185)](PerformanceEvents[_0x44cee5(0x17d)]),_0x309006['TQFMf'](printStats,_0x221567,_0x32b1e5[_0x44cee5(0x15e)],_0x32b1e5['reporterOptions']||_0x32b1e5[_0x309006[_0x44cee5(0x1b7)]]);})[_0x5d6e22(0x180)](()=>{const _0x1cca19=_0x5d6e22;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0x5f0d2b,tcgConfigPath:_0x52625b}=helper['getTCGConfigFilePaths']();fs[_0x1cca19(0x216)](_0x52625b),fs[_0x1cca19(0x22c)](_0x5f0d2b);}catch(_0x166925){logger[_0x1cca19(0x1b5)](_0x309006[_0x1cca19(0x1d3)],_0x166925);}try{utilities[_0x1cca19(0x1c0)](_0x309006[_0x1cca19(0x18a)],{},_0x2a810e['config'],_0x2a810e['framework']);}catch(_0x286cf5){logger[_0x1cca19(0x1b5)]('Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20'+_0x286cf5[_0x1cca19(0x16c)]);}try{helper[_0x1cca19(0x20f)]();}catch(_0x38f9fb){logger[_0x1cca19(0x1b5)](_0x1cca19(0x20a)+_0x38f9fb);}testOpsHelper[_0x1cca19(0x1ba)]();});}else{const _0xbbb17=helper['useW3C'](_0x2a810e[_0x5d6e22(0x1db)]);let _0x1ec2ac=helper[_0x5d6e22(0x1e3)](_0x2a810e[_0x5d6e22(0x1db)]);_0x298b60=helper['prepareCapabilities'](_0x2a810e[_0x5d6e22(0x1db)],_0xbbb17,constants[_0x5d6e22(0x197)][_0x5d6e22(0x142)]);helper[_0x5d6e22(0x225)]()[_0x5d6e22(0x1a9)]&&(_0x1ec2ac=centralScannerConstants['BROWSERSTACK_GRR_US_HUB_URL']);let _0x4ce76a;const _0x3a4af2=_0x2a810e['config'][_0x5d6e22(0x20b)]||helper[_0x5d6e22(0x1e6)](_0x32b1e5,_0x39058a,_0x2a810e['config'],constants['FRAMEWORKS'][_0x5d6e22(0x142)])||0x1;helper[_0x5d6e22(0x214)](_0x2a810e['config'])?_0x4ce76a=_0x309006[_0x5d6e22(0x1a4)](_0x2a810e[_0x5d6e22(0x1db)]['platforms'][_0x5d6e22(0x148)],_0x3a4af2):_0x4ce76a=_0x3a4af2;const _0x2172c7=_0x309006[_0x5d6e22(0x191)](getPercyOptions,_0x2a810e[_0x5d6e22(0x1db)]);if(_0x309006[_0x5d6e22(0x221)](_0x2a810e[_0x5d6e22(0x1db)]['parallelsPerPlatform'],0x1))_0x4c7f6a[_0x5d6e22(0x14d)](_0x47fe11=>{const _0x2167e1=_0x5d6e22,_0x28cc1e=[];_0x298b60['forEach']((_0x467e45,_0x3794fb)=>{const _0x9d099a=a28_0x1308,_0xf6ecae={};_0xf6ecae['spec']=[_0x47fe11],_0x28cc1e[_0x9d099a(0x137)]({'mochaOpts':Object[_0x9d099a(0x218)]({},_0x3f567b,_0xf6ecae),'configuration':{'server':_0x1ec2ac,'capability':_0x467e45,'proxySettings':_0x2a810e[_0x9d099a(0x1db)][_0x9d099a(0x1e5)],'platform':helper[_0x9d099a(0x201)](_0x467e45),'browserStackLogLevel':_0x2a810e[_0x9d099a(0x1db)][_0x9d099a(0x19a)],'platformIndex':_0x3794fb,'browserStackPercyOptions':_0x2172c7,'platformCaps':Object[_0x9d099a(0x218)]({'index':_0x3794fb},_0x2a810e['config'][_0x9d099a(0x149)][_0x3794fb])}});}),_0x45d284[_0x2167e1(0x137)](..._0x28cc1e);});else{const _0x1412ff=[];_0x298b60[_0x5d6e22(0x14d)]((_0x2885a9,_0x2a8cb0)=>{const _0xdc361c=_0x5d6e22;let _0x54909b=Object['assign']({},_0x3f567b);testOpsHelper[_0xdc361c(0x1cd)]()&&testOpsHelper['shouldReRunObservabilityTests']()&&(_0x54909b={..._0x54909b,'spec':[..._0x4c7f6a]}),_0x1412ff[_0xdc361c(0x137)]({'mochaOpts':_0x54909b,'configuration':{'server':_0x1ec2ac,'capability':_0x2885a9,'proxySettings':_0x2a810e['config'][_0xdc361c(0x1e5)],'platform':helper[_0xdc361c(0x201)](_0x2885a9),'browserStackLogLevel':_0x2a810e['config'][_0xdc361c(0x19a)],'platformIndex':_0x2a8cb0,'browserStackPercyOptions':_0x2172c7,'platformCaps':Object[_0xdc361c(0x218)]({'index':_0x2a8cb0},_0x2a810e['config']['platforms'][_0x2a8cb0])}});}),_0x45d284[_0x5d6e22(0x137)](..._0x1412ff);}logger['info'](_0x5d6e22(0x22a)+_0x2a810e[_0x5d6e22(0x1db)][_0x5d6e22(0x149)][_0x5d6e22(0x148)]+_0x5d6e22(0x151)),logger[_0x5d6e22(0x1a1)](_0x309006[_0x5d6e22(0x1a5)]);let _0x475f4f;_0x309006[_0x5d6e22(0x1c8)](parallelTestRun,_0x45d284,_0x4ce76a,_0x2a810e)[_0x5d6e22(0x138)](_0x2f05fe=>{const _0x120c31=_0x5d6e22;PerformanceTester[_0x120c31(0x185)](PerformanceEvents[_0x120c31(0x17d)]),_0x475f4f=_0x2f05fe,_0x309006['GlIJi'](printStats,_0x2f05fe,_0x32b1e5['reporter'],_0x32b1e5['reporterOptions']||_0x32b1e5[_0x309006[_0x120c31(0x1b7)]]);})[_0x5d6e22(0x180)](async()=>{const _0x4db1c7=_0x5d6e22;PerformanceTester[_0x4db1c7(0x185)](PerformanceEvents[_0x4db1c7(0x17d)]),_0x2a810e[_0x4db1c7(0x156)]=helper[_0x4db1c7(0x227)](_0x475f4f,_0x309006['bWPTm']),await utilities[_0x4db1c7(0x158)](_0x2a810e),testOpsHelper[_0x4db1c7(0x1ba)]();});}}module['exports']=run;