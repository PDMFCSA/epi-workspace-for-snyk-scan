#!/usr/bin/env node
'use strict';const a28_0x3196fe=a28_0x433e;function a28_0x1cb3(){const _0x5ee99f=['6fEhskP','stringify','mjs','xAzMD','\x0a\x0a\x0a','xszbr','exitCode','debug','AWZVw','ozFdv','push','\x20total','reporter-option','useW3C','aQhKi','BROWSERSTACK_AUTOMATION','rFEVL','NBUVu','\x20skipped','72zAoblJ','gZFuS','JdycI','bold','agdrv','argv','shouldReRunObservabilityTests','titlePathV','--disable-browserstack-automation','map','51739ZiIMLY','err','10VYHBSm','KXOWr','keys','stats','handleApp','parallelsPerPlatform','failures','uzDgo','NpeYA','getUserWorkerCount','fffBF','afutd','trFCl','LEkTo','mocha/lib/reporters/base.js','yellow','HcDve','HFqUm','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','Nymee','state','rootHooks','bgRedBright','testObservability','generateDiff','call','getPlatformName','JKaBM','env','TkZoj','title','Couldn\x27t\x20write\x20xunit\x20result\x20to','list','Oyhiv','cWWTX','testSuites','green','FFzTz','\x20passed','JRLSk','testcase','testsPassed','getErrorMessageFromResults','join','SpeDl','fWAfx','../../helpers/BrowserStackSetup','files','setUserConfigPath','OXzbR','NXRPM','titlePath','spec','nFLxN','error\x20removing\x20tcg\x20config\x20file','useColors','mocha','GWxkQ','VMyhD','accessibility','message','3075665RCkDkL','finally','rerunTests','cjs','failure','PxnHO','moruk','25217964Bzkfjw','uqmnE','prepareCapabilities','YgnlW','../../helpers/percy/utils','proxySettings','showDiff','\x20failed','RVLtZ','file','Total\x20Suites:\x20','nGPAJ','logLevel','consoleLog','output','fullTitle','lUCsw','Writing\x20xunit\x20result\x20to\x20file','okuYf','ulorE','Couldn\x27t\x20write\x20json\x20result\x20to','3876509iTeMih','wCnfp','****\x20FAILURES\x20****','Mocha\x20Tests','has','nIHQj','2WcmdHn','writeFileSync','Cauvm','kVfMP','config','QwMys','GWBuy','actual','error','includes','passes','DPKUi','QJMVt','testsPending','BROWSERSTACK_TEST_ACCESSIBILITY_YML','errorMessage','pLeNS','stack','ZtTNd','info','sfzwP','VFunB','suiteName','288046DLQpZy','printBuildLink','</testsuite>','cliConfig','DYMXn','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','framework','speed','BROWSERSTACK_GRR_US_HUB_URL','LrmMh','reporter','ufzec','../utils/constants','vmIpi','rbnLh','Listing\x20all\x20the\x20failures','EVENTS','reporterOptions','isUndefined','getCentralUser','mUjGh','../../helpers/test-observability/utils','extension','xdiKa','doc','DIKwn','ivJoh','json','../../helpers/performance/performance-tester','hCmnm','passed','bgBlueBright','jTrDV','IctsR','ignore','fireFunnelTestEvent','PWgul','IiOxl','vNkDK','xunit','pOaHl','488ykTiXf','totalTests','isBrowserstackInfra','uIAAC','testsFailed','HvmHR','--disable-test-observability','EZTHN','pending','recursive','isTestObservabilitySession','abWmT','hMhPg','SDK_CLEANUP','ZuzgK','log','failed','jhfPL','UOjPO','assign','central_scanner','accessibilityOptions','length','aVeUJ','SDKTestSuccessful','VpyBj','parse','test','BNgyG','Now,\x20showing\x20logs\x20from\x20mocha','BROWSERSTACK_TEST_OBSERVABILITY','152433gfjneZ','SqgNb','iXfaE','duration','Writing\x20json\x20result\x20to\x20file','parseFileNames','tyLiR','expected','aCjNX','kyKVQ','notifyUpdate','YMOeT','forEach','object','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','NbURM','MOCHA','ISdcv','rmdirSync','start','platforms','iablB','validPlatformsPresent','../../helpers/helper','BROWSERSTACK_TEST_OBSERVABILITY_YML','sFkfY','eYnxD','JwquI','BKugS','JtINK','104298epXpiy','SxZWk','../../helpers/utilities','prototype','isPending','results','bXtup','getHubUrl','LEOrx','Setting\x20non\x20exit\x20code\x20for\x20failures','kdLmV','QCGii','finalExecution'];a28_0x1cb3=function(){return _0x5ee99f;};return a28_0x1cb3();}(function(_0x5f3154,_0x28b989){const _0x404357=a28_0x433e,_0x3f9edc=_0x5f3154();while(!![]){try{const _0x397fad=-parseInt(_0x404357(0x10a))/0x1*(parseInt(_0x404357(0x16b))/0x2)+parseInt(_0x404357(0xe0))/0x3*(parseInt(_0x404357(0x100))/0x4)+parseInt(_0x404357(0x149))/0x5+parseInt(_0x404357(0xed))/0x6*(parseInt(_0x404357(0x165))/0x7)+parseInt(_0x404357(0x1ab))/0x8*(parseInt(_0x404357(0x1ca))/0x9)+parseInt(_0x404357(0x10c))/0xa*(parseInt(_0x404357(0x182))/0xb)+-parseInt(_0x404357(0x150))/0xc;if(_0x397fad===_0x28b989)break;else _0x3f9edc['push'](_0x3f9edc['shift']());}catch(_0x2ddfdd){_0x3f9edc['push'](_0x3f9edc['shift']());}}}(a28_0x1cb3,0xab18f));const chalk=require('chalk'),logger=require('../../helpers/logger')['winstonLogger'],{default:BrowserStackSetup}=require(a28_0x3196fe(0x13a)),helper=require(a28_0x3196fe(0xd9)),utilities=require(a28_0x3196fe(0xe2)),testOpsHelper=require(a28_0x3196fe(0x197)),fs=require('fs'),os=require('os'),{parallelTestRun}=require('../test-runner'),{requireModule,nestedKeyValue}=require(a28_0x3196fe(0xd9)),{getPercyOptions}=require(a28_0x3196fe(0x154)),Base=requireModule(a28_0x3196fe(0x11a),'mocha'),collectFiles=requireModule('mocha/lib/cli/collect-files.js',a28_0x3196fe(0x144)),constants=require(a28_0x3196fe(0x18e)),PerformanceTester=require(a28_0x3196fe(0x19e)),PerformanceEvents=require('../../helpers/performance/constants')[a28_0x3196fe(0x192)],centralScannerConstants=require('../../helpers/central-scanner/constants');function tag(_0x5e505f,_0x28f0a3,_0x3c9cc4,_0x1a756d){const _0x264a89=a28_0x3196fe,_0x435de0={'ZtTNd':function(_0x1fea78,_0x7b66){return _0x1fea78+_0x7b66;},'UJrbb':function(_0x3fc596,_0x2c1d85){return _0x3fc596(_0x2c1d85);},'mUjGh':function(_0x2c8f49,_0x1eff6a){return _0x2c8f49+_0x1eff6a;},'QCGii':function(_0x2cd55a,_0x31d24c){return _0x2cd55a+_0x31d24c;},'VIykt':function(_0x583836,_0x19e530){return _0x583836+_0x19e530;}},_0x19389e=_0x3c9cc4?'/>':'>',_0x3ef520=[];let _0x20987e;for(const _0x46b135 in _0x28f0a3){Object[_0x264a89(0xe3)]['hasOwnProperty'][_0x264a89(0x125)](_0x28f0a3,_0x46b135)&&_0x3ef520['push'](_0x435de0[_0x264a89(0x17d)](_0x435de0[_0x264a89(0x17d)](_0x435de0[_0x264a89(0x17d)](_0x46b135,'=\x22'),_0x435de0['UJrbb'](escape,_0x28f0a3[_0x46b135])),'\x22'));}return _0x20987e=_0x435de0[_0x264a89(0x196)](_0x435de0['QCGii'](_0x435de0['ZtTNd']('<',_0x5e505f),_0x3ef520[_0x264a89(0x1c1)]?_0x435de0[_0x264a89(0x196)]('\x20',_0x3ef520['join']('\x20')):''),_0x19389e),_0x1a756d&&(_0x20987e+=_0x435de0['VIykt'](_0x435de0['mUjGh'](_0x435de0[_0x264a89(0xeb)](_0x1a756d,'</'),_0x5e505f),_0x19389e)),_0x20987e;}let xunitContent='';function xunitWrite(_0x428a63){xunitContent+=_0x428a63;}function xunitTest(_0x20d850,_0x1e5a6f){const _0x4d3d84=a28_0x3196fe,_0x186019={'EJcjz':function(_0x2b04d6,_0x51c8d2){return _0x2b04d6/_0x51c8d2;},'hMhPg':function(_0x2a76e5,_0xe71542){return _0x2a76e5===_0xe71542;},'IDBiR':_0x4d3d84(0x1bb),'xAzMD':function(_0x437ab5,_0x45dcc4){return _0x437ab5+_0x45dcc4;},'TkZoj':function(_0x48e499,_0xf0b9b9){return _0x48e499(_0xf0b9b9);},'moruk':function(_0xf87181,_0x3d8c33,_0x72733a,_0x3243cb,_0x1ee164){return _0xf87181(_0x3d8c33,_0x72733a,_0x3243cb,_0x1ee164);},'cWWTX':_0x4d3d84(0x134),'sFkfY':function(_0x18cb78,_0x239db3,_0x4d6e87,_0x41ac82,_0x44f54e){return _0x18cb78(_0x239db3,_0x4d6e87,_0x41ac82,_0x44f54e);},'Wurfd':_0x4d3d84(0x14d),'trFCl':function(_0x22ee53,_0x33f342){return _0x22ee53+_0x33f342;},'VzhJD':function(_0x12da1d,_0x4d4055){return _0x12da1d+_0x4d4055;},'OXzbR':function(_0x29aeff,_0x1e8e55){return _0x29aeff(_0x1e8e55);},'fffBF':function(_0x19d61c,_0x386cbd){return _0x19d61c(_0x386cbd);},'NKrxP':function(_0x10b93e,_0x433f9d){return _0x10b93e(_0x433f9d);},'ozFdv':function(_0x465e42,_0x29c84e){return _0x465e42(_0x29c84e);},'xdiKa':function(_0x18a79b,_0x528294,_0x4a1ef4,_0x138585){return _0x18a79b(_0x528294,_0x4a1ef4,_0x138585);},'ufzec':'skipped'};Base[_0x4d3d84(0x143)]=![];var _0x3523fe={'classname':_0x20d850['fullTitle'],'name':_0x20d850[_0x4d3d84(0x12a)],'time':_0x186019['EJcjz'](_0x20d850[_0x4d3d84(0x1cd)],0x3e8)||0x0,'platform':_0x1e5a6f};if(_0x186019[_0x4d3d84(0x1b7)](_0x20d850['state'],_0x186019['IDBiR'])){var _0x171c8f=_0x20d850[_0x4d3d84(0x10b)],_0x1d7bb6=!Base['hideDiff']&&Base[_0x4d3d84(0x156)](_0x171c8f)?_0x186019['xAzMD']('\x0a',Base[_0x4d3d84(0x124)](_0x171c8f[_0x4d3d84(0x172)],_0x171c8f[_0x4d3d84(0x1d1)])):'';_0x186019[_0x4d3d84(0x129)](xunitWrite,_0x186019[_0x4d3d84(0x14f)](tag,_0x186019['cWWTX'],_0x3523fe,![],_0x186019[_0x4d3d84(0xdb)](tag,_0x186019['Wurfd'],{},![],_0x186019[_0x4d3d84(0x118)](_0x186019['VzhJD'](_0x186019[_0x4d3d84(0xf0)](_0x186019[_0x4d3d84(0x13d)](escape,_0x171c8f[_0x4d3d84(0x148)]),_0x186019[_0x4d3d84(0x116)](escape,_0x1d7bb6)),'\x0a'),_0x186019['NKrxP'](escape,_0x171c8f['stack'])))));}else _0x20d850[_0x4d3d84(0xe4)]?_0x186019[_0x4d3d84(0xf6)](xunitWrite,_0x186019[_0x4d3d84(0x14f)](tag,_0x186019[_0x4d3d84(0x12e)],_0x3523fe,![],_0x186019[_0x4d3d84(0x199)](tag,_0x186019[_0x4d3d84(0x18d)],{},!![]))):_0x186019[_0x4d3d84(0xf6)](xunitWrite,_0x186019[_0x4d3d84(0x199)](tag,_0x186019[_0x4d3d84(0x12e)],_0x3523fe,!![]));};function getStats(_0x39a684){const _0x13742f=a28_0x3196fe,_0x4a1da3={};_0x4a1da3[_0x13742f(0x153)]='suite',_0x4a1da3[_0x13742f(0x18b)]=_0x13742f(0x1a0),_0x4a1da3[_0x13742f(0x141)]=_0x13742f(0x1bb),_0x4a1da3['PxnHO']=_0x13742f(0xe5);const _0x59452d=_0x4a1da3,_0x960f16=Object[_0x13742f(0x10e)](_0x39a684);let _0x2e61dd=0x0,_0x2d9e12=0x0,_0x5cc7b0=0x0,_0x4b73bf=0x0;const _0x26d4c2=new Set();_0x960f16[_0x13742f(0x1d6)](_0xe5ed83=>{const _0x298648=_0x13742f,_0x238ac7={};_0x238ac7['ISdcv']=_0x59452d['YgnlW'],_0x238ac7[_0x298648(0x1bc)]=_0x59452d[_0x298648(0x18b)],_0x238ac7[_0x298648(0x1cb)]=_0x59452d[_0x298648(0x141)];const _0x1b2393=_0x238ac7;_0x39a684[_0xe5ed83][_0x59452d[_0x298648(0x14e)]][_0x298648(0x1d6)](_0x3b0ab7=>{const _0x4f17a3=_0x298648;_0x26d4c2['add'](_0x3b0ab7[_0x1b2393[_0x4f17a3(0x1db)]]),_0x2e61dd++;switch(_0x3b0ab7['state']){case _0x1b2393[_0x4f17a3(0x1bc)]:_0x5cc7b0++;break;case _0x1b2393[_0x4f17a3(0x1cb)]:_0x2d9e12++;break;default:_0x4b73bf++;}});});const _0x5a4410={};return _0x5a4410[_0x13742f(0x12f)]=_0x26d4c2['size'],_0x5a4410['platforms']=_0x960f16,_0x5a4410[_0x13742f(0x1ac)]=_0x2e61dd,_0x5a4410[_0x13742f(0x1af)]=_0x2d9e12,_0x5a4410[_0x13742f(0x135)]=_0x5cc7b0,_0x5a4410[_0x13742f(0x178)]=_0x4b73bf,_0x5a4410;}function errorJSON(_0x284877){const _0x3a1626=a28_0x3196fe;var _0x4c3783={};return Object['getOwnPropertyNames'](_0x284877)[_0x3a1626(0x1d6)](function(_0x449ceb){_0x4c3783[_0x449ceb]=_0x284877[_0x449ceb];},_0x284877),_0x4c3783;}function cleanCycles(_0xae77a9){const _0x4c04b0=a28_0x3196fe,_0x50ffca={};_0x50ffca[_0x4c04b0(0x186)]=function(_0x3aa208,_0x43a406){return _0x3aa208===_0x43a406;},_0x50ffca[_0x4c04b0(0x146)]=_0x4c04b0(0x1d7),_0x50ffca[_0x4c04b0(0x16a)]=function(_0x4d3895,_0x304b60){return _0x4d3895!==_0x304b60;},_0x50ffca['ivJoh']=function(_0x24707c,_0x23f094){return _0x24707c+_0x23f094;};const _0x1aa639=_0x50ffca;var _0x22059a=[];return JSON[_0x4c04b0(0x1c5)](JSON[_0x4c04b0(0xee)](_0xae77a9,function(_0x5e0856,_0x2c5c6e){const _0x4f7a19=_0x4c04b0;if(_0x1aa639[_0x4f7a19(0x186)](typeof _0x2c5c6e,_0x1aa639[_0x4f7a19(0x146)])&&_0x1aa639['nIHQj'](_0x2c5c6e,null)){if(_0x1aa639['nIHQj'](_0x22059a['indexOf'](_0x2c5c6e),-0x1))return _0x1aa639[_0x4f7a19(0x19c)]('',_0x2c5c6e);_0x22059a[_0x4f7a19(0xf7)](_0x2c5c6e);}return _0x2c5c6e;}));}function clean(_0x5253de){const _0x4fc298=a28_0x3196fe,_0x2ed836={'ZZoWI':function(_0x175b31,_0x47da7a){return _0x175b31 instanceof _0x47da7a;},'aVeUJ':function(_0x11a8e4,_0x5e49fe){return _0x11a8e4(_0x5e49fe);},'fWAfx':function(_0x59b2dc,_0x50e375){return _0x59b2dc(_0x50e375);}};var _0x58519e=_0x5253de[_0x4fc298(0x10b)]||{};return _0x2ed836['ZZoWI'](_0x58519e,Error)&&(_0x58519e=_0x2ed836[_0x4fc298(0x1c2)](errorJSON,_0x58519e)),{'title':_0x5253de[_0x4fc298(0x12a)],'fullTitle':_0x5253de[_0x4fc298(0x15f)],'file':_0x5253de['file'],'duration':_0x5253de[_0x4fc298(0x1cd)],'currentRetry':_0x5253de['currentRetry'],'speed':_0x5253de[_0x4fc298(0x189)],'err':_0x2ed836[_0x4fc298(0x139)](cleanCycles,_0x58519e)};}function printStats(_0x543c9f,_0x432ed2=a28_0x3196fe(0x140),_0x3cfc8c={}){const _0x2d87c5=a28_0x3196fe,_0x41c06e={'UOjPO':function(_0x560a3a,_0x311d25){return _0x560a3a(_0x311d25);},'GWBuy':function(_0x1f95f7,_0x3891f8){return _0x1f95f7===_0x3891f8;},'LEkTo':_0x2d87c5(0x1a0),'JIqAD':_0x2d87c5(0x175),'lUCsw':_0x2d87c5(0x1bb),'BSrNE':_0x2d87c5(0x112),'uzDgo':function(_0x5bbdcd,_0x46c379){return _0x5bbdcd(_0x46c379);},'nGPAJ':_0x2d87c5(0x1b3),'agdrv':_0x2d87c5(0xe5),'JtINK':function(_0x11ddf1,_0x36a241){return _0x11ddf1===_0x36a241;},'DnGbl':function(_0x1de616,_0x1ffd9f){return _0x1de616*_0x1ffd9f;},'CJEHd':function(_0x388884,_0x2c8a7f,_0x5f5d49){return _0x388884(_0x2c8a7f,_0x5f5d49);},'YMOeT':function(_0x1d016e,_0x4f4034){return _0x1d016e>_0x4f4034;},'SxZWk':function(_0xe5c9b6){return _0xe5c9b6();},'Kurmu':function(_0x478931,_0x380b1a){return _0x478931===_0x380b1a;},'QwMys':_0x2d87c5(0x19a),'JdycI':function(_0x1a44a7,_0x5b29cc){return _0x1a44a7(_0x5b29cc);},'tyLiR':function(_0x2ae2e9,_0x40bd4b){return _0x2ae2e9>_0x40bd4b;},'RVLtZ':_0x2d87c5(0xe9),'ZNLmv':'Printing\x20stats\x20of\x20tests','kVfMP':function(_0xed073e,_0x557b47){return _0xed073e+_0x557b47;},'eYnxD':'Total\x20Platforms:\x20','qMlZj':_0x2d87c5(0x15a),'rbnLh':function(_0x3322de,_0x46f408){return _0x3322de+_0x46f408;},'KXOWr':function(_0xf96eb4,_0x2c43a5){return _0xf96eb4+_0x2c43a5;},'DIKwn':function(_0x6a6a84,_0x365b36){return _0x6a6a84+_0x365b36;},'Oyhiv':'Tests:\x20\x20\x20\x20\x20\x20\x20','PWgul':function(_0xf2325b,_0x5b8479){return _0xf2325b>_0x5b8479;},'uIAAC':function(_0x20c4b5,_0x187515){return _0x20c4b5+_0x187515;},'kdLmV':function(_0x174156,_0x117b24){return _0x174156+_0x117b24;},'VpyBj':function(_0x151876,_0x20ce91){return _0x151876+_0x20ce91;},'EZTHN':_0x2d87c5(0xf1),'eLTDf':_0x2d87c5(0x19d),'ZuzgK':_0x2d87c5(0x1ce),'aQhKi':_0x2d87c5(0x164),'wJjjf':'No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','HvmHR':function(_0x270061,_0x559279){return _0x270061===_0x559279;},'Nymee':_0x2d87c5(0x1a9),'DPKUi':_0x2d87c5(0x168),'SpeDl':function(_0x3d8c90,_0x6a546){return _0x3d8c90||_0x6a546;},'bKlTE':function(_0x2b07ba,_0x2ad64e){return _0x2b07ba(_0x2ad64e);},'afutd':function(_0x60878,_0x44de06,_0xc602,_0x38b7f1){return _0x60878(_0x44de06,_0xc602,_0x38b7f1);},'Cauvm':'testsuite','FFzTz':function(_0x769558,_0x4af359){return _0x769558-_0x4af359;},'HcDve':function(_0x148c90,_0x495f40){return _0x148c90-_0x495f40;},'XkCmG':function(_0x427a5e,_0x272cc9){return _0x427a5e/_0x272cc9;},'pOaHl':_0x2d87c5(0x184),'pLeNS':_0x2d87c5(0x161),'JRLSk':_0x2d87c5(0x12b),'EtVzY':_0x2d87c5(0x1d8),'HFqUm':function(_0xbf562c,_0x282b7d){return _0xbf562c===_0x282b7d;},'gZFuS':_0x2d87c5(0x191),'vNkDK':_0x2d87c5(0x167)};if(_0x41c06e['Kurmu'](_0x432ed2,_0x41c06e[_0x2d87c5(0x170)]))return;const _0x274c01=0x0,_0x153c5b=()=>{const _0x3a1774=_0x2d87c5;return _0x41c06e[_0x3a1774(0x1bd)](Array,_0x274c01)[_0x3a1774(0x137)]('\x20\x20');},{testSuites:_0x4289cc,platforms:_0xbd09fe,totalTests:_0x3c8724,testsFailed:_0x4d4a99,testsPassed:_0x5a4f5b,testsPending:_0x13f2e4}=_0x41c06e[_0x2d87c5(0x102)](getStats,_0x543c9f);_0x41c06e[_0x2d87c5(0x1d0)](_0x4d4a99,0x0)&&(logger[_0x2d87c5(0xf4)](_0x41c06e[_0x2d87c5(0x158)]),process[_0x2d87c5(0xf3)]=Math['min'](_0x4d4a99,0xff));logger[_0x2d87c5(0xf4)](_0x41c06e['ZNLmv']);const _0x5ba61f=''+_0x41c06e['kVfMP'](chalk['bold'](_0x41c06e[_0x2d87c5(0xdc)]),_0xbd09fe['length']),_0x4afa8d=''+_0x41c06e[_0x2d87c5(0x16e)](chalk['bold'](_0x41c06e['qMlZj']),_0x4289cc),_0x55e1d4=''+_0x41c06e[_0x2d87c5(0x190)](_0x41c06e[_0x2d87c5(0x10d)](_0x41c06e[_0x2d87c5(0x19b)](chalk[_0x2d87c5(0x103)](_0x41c06e[_0x2d87c5(0x12d)]),_0x41c06e[_0x2d87c5(0x1d0)](_0x4d4a99,0x0)?chalk[_0x2d87c5(0x103)]['red'](_0x4d4a99+_0x2d87c5(0x157))+',\x20':''),_0x41c06e[_0x2d87c5(0x1d5)](_0x13f2e4,0x0)?chalk[_0x2d87c5(0x103)][_0x2d87c5(0x11b)](_0x13f2e4+_0x2d87c5(0xff))+',\x20':''),_0x41c06e[_0x2d87c5(0x1a6)](_0x5a4f5b,0x0)?chalk[_0x2d87c5(0x103)][_0x2d87c5(0x130)](_0x5a4f5b+_0x2d87c5(0x132))+',\x20':'')+_0x3c8724+_0x2d87c5(0xf8);console['log'](_0x41c06e['KXOWr'](_0x41c06e[_0x2d87c5(0x1ae)](_0x41c06e[_0x2d87c5(0x190)](_0x41c06e[_0x2d87c5(0xea)](_0x41c06e[_0x2d87c5(0x1c4)](_0x41c06e[_0x2d87c5(0x1b2)],_0x5ba61f),'\x0a'),_0x4afa8d),'\x0a'),_0x55e1d4));if(_0x41c06e['Kurmu'](_0x432ed2,_0x41c06e['eLTDf'])){const _0x51e12f={},_0x4dad06={};_0x4dad06['testSuites']=_0x4289cc,_0x4dad06[_0x2d87c5(0xd6)]=_0xbd09fe,_0x4dad06['testsFailed']=_0x4d4a99,_0x4dad06[_0x2d87c5(0x135)]=_0x5a4f5b,_0x4dad06[_0x2d87c5(0x178)]=_0x13f2e4,_0x51e12f[_0x2d87c5(0x10f)]=_0x4dad06,_0xbd09fe['forEach'](_0x20ee9c=>{const _0x47f0c7=_0x2d87c5,_0x44bfdd={'bXtup':function(_0x21bc1c,_0x5f02f8){const _0x34788f=a28_0x433e;return _0x41c06e[_0x34788f(0x171)](_0x21bc1c,_0x5f02f8);},'hwnaE':_0x41c06e['LEkTo'],'jTrDV':_0x41c06e['JIqAD'],'kyKVQ':function(_0x55805c,_0x45a7d2){const _0x58ba9d=a28_0x433e;return _0x41c06e[_0x58ba9d(0x1bd)](_0x55805c,_0x45a7d2);},'hCmnm':function(_0x2ea7ec,_0x424e90){const _0x5ca72a=a28_0x433e;return _0x41c06e[_0x5ca72a(0x171)](_0x2ea7ec,_0x424e90);},'IiOxl':_0x41c06e[_0x47f0c7(0x160)],'NBUVu':_0x41c06e['BSrNE'],'sfzwP':function(_0x4b335d,_0x17d8c1){const _0x5c9891=_0x47f0c7;return _0x41c06e[_0x5c9891(0x113)](_0x4b335d,_0x17d8c1);},'ulorE':_0x41c06e[_0x47f0c7(0x15b)]};_0x51e12f[_0x20ee9c]={'pending':[],'failures':[],'passes':[],'tests':_0x543c9f[_0x20ee9c][_0x41c06e[_0x47f0c7(0x104)]][_0x47f0c7(0x109)](clean)},_0x543c9f[_0x20ee9c][_0x41c06e[_0x47f0c7(0x104)]]['forEach'](_0x1bc07e=>{const _0xe5d1d1=_0x47f0c7;if(_0x44bfdd[_0xe5d1d1(0xe6)](_0x1bc07e[_0xe5d1d1(0x120)],_0x44bfdd['hwnaE']))_0x51e12f[_0x20ee9c][_0x44bfdd[_0xe5d1d1(0x1a2)]][_0xe5d1d1(0xf7)](_0x44bfdd[_0xe5d1d1(0x1d3)](clean,_0x1bc07e));else _0x44bfdd[_0xe5d1d1(0x19f)](_0x1bc07e['state'],_0x44bfdd[_0xe5d1d1(0x1a7)])?_0x51e12f[_0x20ee9c][_0x44bfdd[_0xe5d1d1(0xfe)]][_0xe5d1d1(0xf7)](_0x44bfdd[_0xe5d1d1(0x17f)](clean,_0x1bc07e)):_0x51e12f[_0x20ee9c][_0x44bfdd[_0xe5d1d1(0x163)]][_0xe5d1d1(0xf7)](_0x44bfdd[_0xe5d1d1(0x17f)](clean,_0x1bc07e));});});if(_0x3cfc8c[_0x2d87c5(0x15e)])try{logger['debug'](_0x41c06e[_0x2d87c5(0x1b9)],_0x3cfc8c[_0x2d87c5(0x15e)]),fs[_0x2d87c5(0x16c)](_0x3cfc8c[_0x2d87c5(0x15e)],JSON[_0x2d87c5(0xee)](_0x51e12f,null,0x3));}catch(_0x78a96b){logger['error'](_0x41c06e[_0x2d87c5(0xfb)],_0x3cfc8c[_0x2d87c5(0x15e)]),logger[_0x2d87c5(0xf4)](_0x78a96b);}else logger[_0x2d87c5(0xf4)](_0x41c06e['wJjjf']),console['log'](JSON[_0x2d87c5(0xee)](_0x51e12f,null,0x3));}else{if(_0x41c06e[_0x2d87c5(0x1b0)](_0x432ed2,_0x41c06e[_0x2d87c5(0x11f)])){let _0x44e338;const _0x5c84ce=_0x41c06e[_0x2d87c5(0x176)];_0x3cfc8c&&(_0x44e338=_0x3cfc8c[_0x2d87c5(0x181)]);_0x44e338=_0x41c06e[_0x2d87c5(0x138)](_0x44e338,_0x5c84ce);let _0x17ae92=0x0,_0x2358d9=0x0,_0x43a8cd=0x0,_0x4b44d2=0x0;_0xbd09fe['forEach'](_0x78fa07=>{const _0x87af01=_0x2d87c5,_0x181d41={'NpeYA':function(_0x58600c,_0x55caa3){const _0x54ef8d=a28_0x433e;return _0x41c06e[_0x54ef8d(0xdf)](_0x58600c,_0x55caa3);},'uqmnE':_0x41c06e[_0x87af01(0x119)],'JKaBM':function(_0x334d6d,_0x5cb062){const _0x56e89c=_0x87af01;return _0x41c06e[_0x56e89c(0xdf)](_0x334d6d,_0x5cb062);},'wCnfp':_0x41c06e[_0x87af01(0x160)],'AWZVw':function(_0x3f1719,_0x39a8c6){return _0x41c06e['DnGbl'](_0x3f1719,_0x39a8c6);}};_0x543c9f[_0x78fa07][_0x41c06e[_0x87af01(0x104)]][_0x87af01(0x1d6)](_0x5b9485=>{const _0x584f38=_0x87af01;if(_0x181d41[_0x584f38(0x114)](_0x5b9485['state'],_0x181d41[_0x584f38(0x151)]))_0x17ae92++;else _0x181d41[_0x584f38(0x127)](_0x5b9485[_0x584f38(0x120)],_0x181d41[_0x584f38(0x166)])&&_0x2358d9++;_0x43a8cd++,_0x4b44d2+=_0x181d41[_0x584f38(0xf5)](_0x5b9485[_0x584f38(0x1cd)],0x1);});}),_0x41c06e['bKlTE'](xunitWrite,_0x41c06e[_0x2d87c5(0x117)](tag,_0x41c06e[_0x2d87c5(0x16d)],{'name':_0x44e338,'tests':_0x43a8cd,'failures':0x0,'errors':_0x2358d9,'skipped':_0x41c06e[_0x2d87c5(0x131)](_0x41c06e[_0x2d87c5(0x11c)](_0x43a8cd,_0x2358d9),_0x17ae92),'timestamp':new Date()['toUTCString'](),'time':_0x41c06e['XkCmG'](_0x4b44d2,0x3e8)||0x0},![])),_0xbd09fe[_0x2d87c5(0x1d6)](_0xc04b45=>{const _0x452692=_0x2d87c5;_0x543c9f[_0xc04b45][_0x41c06e[_0x452692(0x104)]][_0x452692(0x1d6)](_0x511707=>{_0x41c06e['CJEHd'](xunitTest,_0x511707,_0xc04b45);});}),_0x41c06e['uzDgo'](xunitWrite,_0x41c06e[_0x2d87c5(0x1aa)]);if(_0x3cfc8c[_0x2d87c5(0x15e)])try{logger['debug'](_0x41c06e[_0x2d87c5(0x17b)],_0x3cfc8c[_0x2d87c5(0x15e)]),fs[_0x2d87c5(0x16c)](_0x3cfc8c[_0x2d87c5(0x15e)],xunitContent);}catch(_0x3bad0e){logger[_0x2d87c5(0x173)](_0x41c06e[_0x2d87c5(0x133)],_0x3cfc8c[_0x2d87c5(0x15e)]),logger[_0x2d87c5(0xf4)](_0x3bad0e);}else logger[_0x2d87c5(0xf4)](_0x41c06e['EtVzY']),console[_0x2d87c5(0x1ba)](xunitContent);}else{if(_0x41c06e[_0x2d87c5(0x11d)](_0x4d4a99,0x0))return;console[_0x2d87c5(0x1ba)](),logger[_0x2d87c5(0xf4)](_0x41c06e[_0x2d87c5(0x101)]),console['log'](chalk[_0x2d87c5(0x103)][_0x2d87c5(0x122)](_0x41c06e[_0x2d87c5(0x1a8)])),_0xbd09fe[_0x2d87c5(0x1d6)](_0x53d39e=>{const _0x34db0c=_0x2d87c5,_0x30ccd0=[];_0x543c9f[_0x53d39e][_0x41c06e['agdrv']][_0x34db0c(0x1d6)](_0x5068bc=>{const _0x30797b=_0x34db0c;_0x41c06e[_0x30797b(0xdf)](_0x5068bc[_0x30797b(0x120)],_0x41c06e[_0x30797b(0x160)])&&(_0x5068bc[_0x30797b(0x13f)]=()=>_0x5068bc[_0x30797b(0x107)],_0x30ccd0[_0x30797b(0xf7)](_0x5068bc));}),_0x41c06e['YMOeT'](_0x30ccd0[_0x34db0c(0x1c1)],0x0)&&(Base[_0x34db0c(0x15d)](),Base[_0x34db0c(0x15d)](_0x41c06e[_0x34db0c(0xe1)](_0x153c5b),chalk['bold'][_0x34db0c(0x1a1)](_0x53d39e)),Base[_0x34db0c(0x12c)](_0x30ccd0));});}}}async function run(_0x5c3fb2,_0x54126d){const _0x5f1f5e=a28_0x3196fe,_0x4e760f={'aCjNX':function(_0xa91869,_0x2ec2d3,_0x35aeb6,_0x370fbd){return _0xa91869(_0x2ec2d3,_0x35aeb6,_0x370fbd);},'okuYf':_0x5f1f5e(0xf9),'abWmT':_0x5f1f5e(0x142),'NbURM':_0x5f1f5e(0x1c3),'QJMVt':_0x5f1f5e(0x144),'BNgyG':_0x5f1f5e(0x1b1),'qxEqc':_0x5f1f5e(0x108),'GWxkQ':function(_0x20ce0f,_0x59db81){return _0x20ce0f!=_0x59db81;},'auGGq':_0x5f1f5e(0x14c),'vmIpi':_0x5f1f5e(0xef),'BKugS':_0x5f1f5e(0x1c6),'iXfaE':_0x5f1f5e(0x14b),'NXRPM':function(_0x1a1b28,_0x187f1f){return _0x1a1b28(_0x187f1f);},'rFEVL':function(_0x4bfd4f,_0x44584e,_0x429856){return _0x4bfd4f(_0x44584e,_0x429856);},'IctsR':_0x5f1f5e(0x13b),'xszbr':'Running\x20your\x20mocha\x20tests','iablB':_0x5f1f5e(0x1c8),'JwquI':function(_0x4d5f53,_0x1f9fc5,_0x4686ce,_0x2595ed){return _0x4d5f53(_0x1f9fc5,_0x4686ce,_0x2595ed);},'LEOrx':function(_0x151c5f,_0xbbcac6){return _0x151c5f*_0xbbcac6;},'DyQqj':function(_0x32fca6,_0x3b85aa){return _0x32fca6(_0x3b85aa);},'Vuwly':function(_0x2507bc,_0x258049){return _0x2507bc!==_0x258049;},'VFunB':function(_0x3a630e,_0x3d0fb1,_0x295df0,_0x9c7c5){return _0x3a630e(_0x3d0fb1,_0x295df0,_0x9c7c5);}};process[_0x5f1f5e(0x105)][_0x5f1f5e(0x174)](_0x4e760f[_0x5f1f5e(0x1c7)])&&(process[_0x5f1f5e(0x128)][_0x5f1f5e(0x1c9)]=![]);process[_0x5f1f5e(0x105)][_0x5f1f5e(0x174)](_0x4e760f['qxEqc'])&&(process[_0x5f1f5e(0x128)][_0x5f1f5e(0xfc)]=![]);const _0x1162ca=new BrowserStackSetup(_0x5c3fb2,_0x4e760f[_0x5f1f5e(0x177)]);helper[_0x5f1f5e(0x13c)](_0x1162ca[_0x5f1f5e(0x188)],_0x5c3fb2);helper[_0x5f1f5e(0x1ad)]()?(await _0x1162ca['initialize'](),await helper[_0x5f1f5e(0x110)](_0x1162ca[_0x5f1f5e(0x16f)])):await _0x1162ca['setupTCGAuth']();const _0x4bd1f8=[];let _0x456436=[];if(!_0x1162ca[_0x5f1f5e(0x16f)])return;_0x4e760f[_0x5f1f5e(0x145)](_0x1162ca[_0x5f1f5e(0x16f)][_0x5f1f5e(0x123)],null)&&(process[_0x5f1f5e(0x128)][_0x5f1f5e(0xda)]=_0x1162ca[_0x5f1f5e(0x16f)]['testObservability']);!helper[_0x5f1f5e(0x194)](_0x1162ca[_0x5f1f5e(0x16f)][_0x5f1f5e(0x147)])&&(process[_0x5f1f5e(0x128)][_0x5f1f5e(0x179)]=_0x1162ca[_0x5f1f5e(0x16f)][_0x5f1f5e(0x147)]);!helper[_0x5f1f5e(0x194)](_0x1162ca[_0x5f1f5e(0x16f)][_0x5f1f5e(0x1c0)])&&(process[_0x5f1f5e(0x128)][_0x5f1f5e(0x187)]=JSON[_0x5f1f5e(0xee)](_0x1162ca['config'][_0x5f1f5e(0x1c0)]));const {extension:extension=['js',_0x4e760f['auGGq'],_0x4e760f[_0x5f1f5e(0x18f)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x4e760f[_0x5f1f5e(0xde)]]}=_0x5c3fb2,_0x332131={..._0x5c3fb2};_0x332131[_0x5f1f5e(0x121)]=null;const _0x188d3a=_0x332131;let _0x177a45;if(testOpsHelper[_0x5f1f5e(0x1b5)]()&&testOpsHelper[_0x5f1f5e(0x106)]()){let _0x4edf7e=process[_0x5f1f5e(0x128)]['BROWSERSTACK_RERUN_TESTS'];!helper[_0x5f1f5e(0x194)](_0x1162ca[_0x5f1f5e(0x185)])&&_0x1162ca[_0x5f1f5e(0x185)][_0x5f1f5e(0x169)](_0x4e760f[_0x5f1f5e(0x1cc)])&&(_0x4edf7e=_0x1162ca[_0x5f1f5e(0x185)]['get'](_0x4e760f['iXfaE'])),_0x177a45=testOpsHelper[_0x5f1f5e(0x1cf)](_0x4edf7e);}if(helper[_0x5f1f5e(0x194)](_0x177a45)){const _0x47f5ae={};_0x47f5ae[_0x5f1f5e(0x1a4)]=ignore,_0x47f5ae[_0x5f1f5e(0x198)]=extension,_0x47f5ae[_0x5f1f5e(0x159)]=file,_0x47f5ae[_0x5f1f5e(0x1b4)]=recursive,_0x47f5ae['sort']=sort,_0x47f5ae[_0x5f1f5e(0x140)]=spec,_0x177a45=_0x4e760f[_0x5f1f5e(0x13e)](collectFiles,_0x47f5ae),_0x4e760f[_0x5f1f5e(0xfd)](nestedKeyValue,_0x177a45,[_0x4e760f[_0x5f1f5e(0x1a3)]])&&(_0x177a45=_0x177a45['files']);}if(!helper['isBrowserstackInfra']()){const _0x4ff3e7=0x1,_0x5ce5e0={..._0x188d3a};_0x5ce5e0['spec']=[..._0x177a45],_0x4bd1f8[_0x5f1f5e(0xf7)]({'mochaOpts':_0x5ce5e0,'configuration':{'platform':os['platform']()}}),logger[_0x5f1f5e(0x17e)](_0x4e760f[_0x5f1f5e(0xf2)]),logger[_0x5f1f5e(0x17e)](_0x4e760f[_0x5f1f5e(0xd7)]),_0x4e760f[_0x5f1f5e(0xdd)](parallelTestRun,_0x4bd1f8,_0x4ff3e7,_0x1162ca)['then'](_0xa2722e=>{const _0x442f3b=_0x5f1f5e;PerformanceTester[_0x442f3b(0x1dd)](PerformanceEvents['SDK_CLEANUP']),_0x4e760f[_0x442f3b(0x1d2)](printStats,_0xa2722e,_0x5c3fb2[_0x442f3b(0x18c)],_0x5c3fb2[_0x442f3b(0x193)]||_0x5c3fb2[_0x4e760f['okuYf']]);})[_0x5f1f5e(0x14a)](()=>{const _0x341f4a=_0x5f1f5e;PerformanceTester[_0x341f4a(0x1dd)](PerformanceEvents[_0x341f4a(0x1b8)]);try{const {browserstackFolderPath:_0x129785,tcgConfigPath:_0x2de0d3}=helper['getTCGConfigFilePaths']();fs['unlinkSync'](_0x2de0d3),fs[_0x341f4a(0x1dc)](_0x129785);}catch(_0x20c710){logger[_0x341f4a(0xf4)](_0x4e760f[_0x341f4a(0x1b6)],_0x20c710);}try{utilities[_0x341f4a(0x1a5)](_0x4e760f[_0x341f4a(0x1d9)],{},_0x1162ca['config'],_0x1162ca[_0x341f4a(0x188)]);}catch(_0x4ca0d7){logger['debug'](_0x341f4a(0x11e)+_0x4ca0d7[_0x341f4a(0x17c)]);}try{helper[_0x341f4a(0x1d4)]();}catch(_0x45d37f){logger[_0x341f4a(0xf4)]('Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20'+_0x45d37f);}testOpsHelper[_0x341f4a(0x183)]();});}else{const _0xb98c44=helper[_0x5f1f5e(0xfa)](_0x1162ca['config']);let _0x58ac93=helper[_0x5f1f5e(0xe7)](_0x1162ca['config']);_0x456436=helper[_0x5f1f5e(0x152)](_0x1162ca[_0x5f1f5e(0x16f)],_0xb98c44,constants['FRAMEWORKS'][_0x5f1f5e(0x1da)]);helper[_0x5f1f5e(0x195)]()[_0x5f1f5e(0x1bf)]&&(_0x58ac93=centralScannerConstants[_0x5f1f5e(0x18a)]);let _0x41212c;const _0x56a669=_0x1162ca[_0x5f1f5e(0x16f)][_0x5f1f5e(0x111)]||helper[_0x5f1f5e(0x115)](_0x5c3fb2,_0x54126d,_0x1162ca[_0x5f1f5e(0x16f)],constants['FRAMEWORKS'][_0x5f1f5e(0x1da)])||0x1;helper[_0x5f1f5e(0xd8)](_0x1162ca[_0x5f1f5e(0x16f)])?_0x41212c=_0x4e760f[_0x5f1f5e(0xe8)](_0x1162ca[_0x5f1f5e(0x16f)]['platforms']['length'],_0x56a669):_0x41212c=_0x56a669;const _0x17d928=_0x4e760f['DyQqj'](getPercyOptions,_0x1162ca[_0x5f1f5e(0x16f)]);if(_0x4e760f['Vuwly'](_0x1162ca[_0x5f1f5e(0x16f)]['parallelsPerPlatform'],0x1))_0x177a45[_0x5f1f5e(0x1d6)](_0x4d46f3=>{const _0x39f87b=_0x5f1f5e,_0x202d6d=[];_0x456436[_0x39f87b(0x1d6)]((_0x4f3c91,_0xb4faa2)=>{const _0x23459c=_0x39f87b,_0x1cbe80={};_0x1cbe80[_0x23459c(0x140)]=[_0x4d46f3],_0x202d6d[_0x23459c(0xf7)]({'mochaOpts':Object['assign']({},_0x188d3a,_0x1cbe80),'configuration':{'server':_0x58ac93,'capability':_0x4f3c91,'proxySettings':_0x1162ca[_0x23459c(0x16f)][_0x23459c(0x155)],'platform':helper[_0x23459c(0x126)](_0x4f3c91),'browserStackLogLevel':_0x1162ca[_0x23459c(0x16f)][_0x23459c(0x15c)],'platformIndex':_0xb4faa2,'browserStackPercyOptions':_0x17d928,'platformCaps':Object[_0x23459c(0x1be)]({'index':_0xb4faa2},_0x1162ca[_0x23459c(0x16f)][_0x23459c(0xd6)][_0xb4faa2])}});}),_0x4bd1f8[_0x39f87b(0xf7)](..._0x202d6d);});else{const _0x4e228b=[];_0x456436['forEach']((_0x28282c,_0x4a979b)=>{const _0x36645e=_0x5f1f5e;let _0x6b4931=Object[_0x36645e(0x1be)]({},_0x188d3a);testOpsHelper['isTestObservabilitySession']()&&testOpsHelper['shouldReRunObservabilityTests']()&&(_0x6b4931={..._0x6b4931,'spec':[..._0x177a45]}),_0x4e228b[_0x36645e(0xf7)]({'mochaOpts':_0x6b4931,'configuration':{'server':_0x58ac93,'capability':_0x28282c,'proxySettings':_0x1162ca[_0x36645e(0x16f)][_0x36645e(0x155)],'platform':helper[_0x36645e(0x126)](_0x28282c),'browserStackLogLevel':_0x1162ca[_0x36645e(0x16f)][_0x36645e(0x15c)],'platformIndex':_0x4a979b,'browserStackPercyOptions':_0x17d928,'platformCaps':Object['assign']({'index':_0x4a979b},_0x1162ca[_0x36645e(0x16f)][_0x36645e(0xd6)][_0x4a979b])}});}),_0x4bd1f8['push'](..._0x4e228b);}logger[_0x5f1f5e(0x17e)]('Running\x20your\x20mocha\x20tests\x20across\x20'+_0x1162ca[_0x5f1f5e(0x16f)][_0x5f1f5e(0xd6)][_0x5f1f5e(0x1c1)]+'\x20platforms'),logger['info'](_0x4e760f[_0x5f1f5e(0xd7)]);let _0x5df302;_0x4e760f[_0x5f1f5e(0x180)](parallelTestRun,_0x4bd1f8,_0x41212c,_0x1162ca)['then'](_0x179d36=>{const _0x4d548e=_0x5f1f5e;PerformanceTester[_0x4d548e(0x1dd)](PerformanceEvents[_0x4d548e(0x1b8)]),_0x5df302=_0x179d36,_0x4e760f[_0x4d548e(0x1d2)](printStats,_0x179d36,_0x5c3fb2[_0x4d548e(0x18c)],_0x5c3fb2[_0x4d548e(0x193)]||_0x5c3fb2[_0x4e760f[_0x4d548e(0x162)]]);})['finally'](async()=>{const _0x7655eb=_0x5f1f5e;PerformanceTester[_0x7655eb(0x1dd)](PerformanceEvents['SDK_CLEANUP']),_0x1162ca[_0x7655eb(0x17a)]=helper[_0x7655eb(0x136)](_0x5df302,_0x4e760f[_0x7655eb(0x177)]),await utilities[_0x7655eb(0xec)](_0x1162ca),testOpsHelper[_0x7655eb(0x183)]();});}}function a28_0x433e(_0x5166b6,_0x1f669c){const _0x1cb307=a28_0x1cb3();return a28_0x433e=function(_0x433ec7,_0x1b4d92){_0x433ec7=_0x433ec7-0xd6;let _0x4a6106=_0x1cb307[_0x433ec7];return _0x4a6106;},a28_0x433e(_0x5166b6,_0x1f669c);}module['exports']=run;