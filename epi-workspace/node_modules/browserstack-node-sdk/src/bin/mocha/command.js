#!/usr/bin/env node
'use strict';const a33_0x113849=a33_0x3b84;(function(_0x47e0c1,_0x3bc922){const _0x2ea2fd=a33_0x3b84,_0x23ad7b=_0x47e0c1();while(!![]){try{const _0x1410b7=-parseInt(_0x2ea2fd(0xf3))/0x1*(parseInt(_0x2ea2fd(0x1a6))/0x2)+-parseInt(_0x2ea2fd(0x134))/0x3*(-parseInt(_0x2ea2fd(0x107))/0x4)+-parseInt(_0x2ea2fd(0xde))/0x5*(-parseInt(_0x2ea2fd(0x193))/0x6)+parseInt(_0x2ea2fd(0xd8))/0x7*(parseInt(_0x2ea2fd(0x186))/0x8)+parseInt(_0x2ea2fd(0x156))/0x9*(-parseInt(_0x2ea2fd(0xfe))/0xa)+-parseInt(_0x2ea2fd(0x177))/0xb+parseInt(_0x2ea2fd(0x1bf))/0xc;if(_0x1410b7===_0x3bc922)break;else _0x23ad7b['push'](_0x23ad7b['shift']());}catch(_0x405b18){_0x23ad7b['push'](_0x23ad7b['shift']());}}}(a33_0x4d30,0xe2979));const chalk=require(a33_0x113849(0x1ce)),logger=require(a33_0x113849(0x1a0))[a33_0x113849(0x185)],helper=require(a33_0x113849(0x14c)),utilities=require(a33_0x113849(0x12a)),testOpsHelper=require('../../helpers/test-observability/utils'),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a33_0x113849(0x17a)),{requireModule,nestedKeyValue}=require(a33_0x113849(0x14c)),{getPercyOptions}=require(a33_0x113849(0x188)),Base=requireModule('mocha/lib/reporters/base.js',a33_0x113849(0x1af)),collectFiles=requireModule('mocha/lib/cli/collect-files.js','mocha'),constants=require(a33_0x113849(0x1c3)),PerformanceTester=require(a33_0x113849(0xdf)),PerformanceEvents=require('../../helpers/performance/constants')[a33_0x113849(0xfd)],centralScannerConstants=require('../../helpers/central-scanner/constants'),{FRAMEWORKS}=require(a33_0x113849(0x180)),TestHubHandler=require('../../helpers/testhub/testhubHandler');function tag(_0x6ebb8a,_0x88578b,_0x4041b8,_0x760af9){const _0xa0d0b2=a33_0x113849,_0x527c50={'IQGnN':function(_0x3fa4e7,_0x5117f4){return _0x3fa4e7+_0x5117f4;},'Iugpt':function(_0x2ec748,_0x32c728){return _0x2ec748+_0x32c728;},'hOjdp':function(_0x3af7a4,_0x20bb27){return _0x3af7a4+_0x20bb27;},'mhCLS':function(_0x4c93fe,_0x29749e){return _0x4c93fe(_0x29749e);},'PFnXs':function(_0x53ca04,_0x2fdb89){return _0x53ca04+_0x2fdb89;},'eAukb':function(_0x2db2e6,_0xe10f36){return _0x2db2e6+_0xe10f36;},'lVSNc':function(_0x82fa92,_0x2bef7e){return _0x82fa92+_0x2bef7e;},'yAARf':function(_0x243fd3,_0x26685f){return _0x243fd3+_0x26685f;}},_0x4fb4eb=_0x4041b8?'/>':'>',_0x42dab9=[];let _0x142adc;for(const _0x2292ba in _0x88578b){Object['prototype'][_0xa0d0b2(0x173)][_0xa0d0b2(0x1bb)](_0x88578b,_0x2292ba)&&_0x42dab9['push'](_0x527c50['IQGnN'](_0x527c50[_0xa0d0b2(0x19b)](_0x527c50[_0xa0d0b2(0xe8)](_0x2292ba,'=\x22'),_0x527c50[_0xa0d0b2(0x118)](escape,_0x88578b[_0x2292ba])),'\x22'));}return _0x142adc=_0x527c50[_0xa0d0b2(0x128)](_0x527c50['eAukb'](_0x527c50[_0xa0d0b2(0x19b)]('<',_0x6ebb8a),_0x42dab9['length']?_0x527c50[_0xa0d0b2(0xe8)]('\x20',_0x42dab9['join']('\x20')):''),_0x4fb4eb),_0x760af9&&(_0x142adc+=_0x527c50[_0xa0d0b2(0x19b)](_0x527c50[_0xa0d0b2(0xf1)](_0x527c50[_0xa0d0b2(0x117)](_0x760af9,'</'),_0x6ebb8a),_0x4fb4eb)),_0x142adc;}let xunitContent='';function xunitWrite(_0x4b602d){xunitContent+=_0x4b602d;}function a33_0x4d30(){const _0x1e9be8=['stats','6cYMxeQ','rerunTests','logLevel','assign','lEVdp','lAXBc','titlePath','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','Iugpt','log','notifyUpdate','state','IDjZt','../../helpers/logger','Vnnqb','env','setUserConfigPath','Zqtyx','testsuite','2QxGInu','testsFailed','fullTitle','useColors','AuqMl','bstack:options','setupTCGAuth','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','ymfjO','mocha','isPending','ZLDUb','yBWUA','BROWSERSTACK_TEST_ACCESSIBILITY_YML','FRAMEWORKS','speed','getOwnPropertyNames','xXPGA','bZsMl','ophFz','maxRetries','call','SJOiq','tFfNa','szROj','33271296qkJVrP','getHubUrl','\x20skipped','fMqgc','../utils/constants','object','start','stringify','uBiaN','red','testsPassed','bheQm','add','RrCzj','then','chalk','BROWSERSTACK_GRR_US_HUB_URL','exitCode','TQKvM','qctAp','showDiff','cliConfig','getPlatformName','Couldn\x27t\x20write\x20json\x20result\x20to','retries','\x20total','iHriK','WXkTL','suite','7303891LdYSkq','cjs','ugOfZ','size','uigZt','zzjmK','1919030YPHZKo','../../helpers/performance/performance-tester','consoleLog','Writing\x20xunit\x20result\x20to\x20file','BROWSERSTACK_TEST_OBSERVABILITY_YML','has','IuDBU','FDCEH','isUndefined','mrVAV','hOjdp','central_scanner','XWWuJ','LAzRC','eZjQD','finally','length','hideDiff','generateDiff','lVSNc','ekRPN','1713029kOhBQl','handleApp','EmcpC','LcjdP','get','nCWKq','finalExecution','xunit','includeTagsInTestingScope','json','EVENTS','158960RtAiWg','wBoCB','accessibility','sort','uZXmY','mxlLW','FlphX','nZuuW','aqQnq','103280ePFyaZ','toUTCString','config','testcase','orraF','failures','VLtkh','indexOf','bgBlueBright','PmtGw','Tests:\x20\x20\x20\x20\x20\x20\x20','nUGcl','IaNRg','file','isNotUndefined','skipped','yAARf','mhCLS','accessibilityOptions','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','rmdirSync','cuKIe','getTCGConfigFilePaths','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','qWGyP','map','Pejql','HgFKV','UKdFw','useW3C','oNKAC','\x20passed','failed','PFnXs','recursive','../../helpers/utilities','reporterOptions','title','platforms','UkCBN','MOCHA','printBuildLink','Mocha\x20Tests','czPak','dbsJD','15HmjYct','reporter','egnag','tldkn','parse','BDlUi','WgbTS','expected','ljvNL','isTestObservabilitySession','YysBW','parallelsPerPlatform','mcwfJ','mSsHj','capability','XSNQd','YGcnM','min','shouldReRunObservabilityTests','prepareCapabilities','launchBuild','suiteName','error','BROWSERSTACK_RERUN_TESTS','../../helpers/helper','passed','getUserWorkerCount','nYKNa','totalTests','NwjGu','spec','extension','forEach','err','54nWXtZN','lpjuL','errorMessage','testsPending','test','****\x20FAILURES\x20****','results','ZBfzu','reporter-option','bold','</testsuite>','giEUO','QRZrn','push','message','stack','duration','EAbQq','Vbtcg','\x0a\x0a\x0a','debug','writeFileSync','TjCFP','yellow','retryTestsOnFailure','\x20failed','proxySettings','fireFunnelTestEvent','VfGRd','hasOwnProperty','failure','parseFileNames','DftVn','17516411wnEYty','THDtH','SDK_CLEANUP','../test-runner','getCentralUser','info','unlinkSync','parseTestOrchestrationOptions','EvskO','../../helpers/test-observability/constants','initialize','testObservability','lDWHe','output','winstonLogger','8drRjQw','files','../../helpers/percy/utils','rootHooks','list','Nhadg','Listing\x20all\x20the\x20failures','qaYuG','iKLrW','Running\x20your\x20mocha\x20tests\x20across\x20','testSuites','PKbfx'];a33_0x4d30=function(){return _0x1e9be8;};return a33_0x4d30();}function a33_0x3b84(_0x457659,_0x459727){const _0x4d3009=a33_0x4d30();return a33_0x3b84=function(_0x3b84cc,_0x177326){_0x3b84cc=_0x3b84cc-0xd0;let _0x3a2530=_0x4d3009[_0x3b84cc];return _0x3a2530;},a33_0x3b84(_0x457659,_0x459727);}function xunitTest(_0x506777,_0x46378f){const _0x1ed7bc=a33_0x113849,_0x52bbf7={'zzjmK':function(_0x611972,_0xf7126a){return _0x611972/_0xf7126a;},'ophFz':function(_0x204e1a,_0x5086b1){return _0x204e1a===_0x5086b1;},'QRZrn':_0x1ed7bc(0x127),'SJOiq':function(_0x906058,_0x3e8013){return _0x906058+_0x3e8013;},'IaNRg':function(_0x5f323d,_0x5ce4dc){return _0x5f323d(_0x5ce4dc);},'fMqgc':function(_0x3c1374,_0x29a4bc,_0x5a0d29,_0x23d94b,_0x159641){return _0x3c1374(_0x29a4bc,_0x5a0d29,_0x23d94b,_0x159641);},'wBoCB':_0x1ed7bc(0x10a),'hYXhe':_0x1ed7bc(0x174),'iHriK':function(_0x50149f,_0x349fd2){return _0x50149f+_0x349fd2;},'IuDBU':function(_0x144496,_0x5191f1){return _0x144496(_0x5191f1);},'opiZe':function(_0x29fffa,_0x3d83dc,_0x12d10f,_0x57efb7,_0x206c93){return _0x29fffa(_0x3d83dc,_0x12d10f,_0x57efb7,_0x206c93);},'rhSOG':function(_0x48a7ca,_0x104d37,_0x58c6fd,_0x3da7a2){return _0x48a7ca(_0x104d37,_0x58c6fd,_0x3da7a2);},'bZsMl':_0x1ed7bc(0x116),'HgFKV':function(_0x36f558,_0x385c7b){return _0x36f558(_0x385c7b);},'qaYuG':function(_0x279def,_0x4514ab,_0x5e47ea,_0x16a178){return _0x279def(_0x4514ab,_0x5e47ea,_0x16a178);}};Base[_0x1ed7bc(0x1a9)]=![];var _0x4a870b={'classname':_0x506777[_0x1ed7bc(0x1a8)],'name':_0x506777[_0x1ed7bc(0x12c)],'time':_0x52bbf7[_0x1ed7bc(0xdd)](_0x506777[_0x1ed7bc(0x166)],0x3e8)||0x0,'platform':_0x46378f};if(_0x52bbf7[_0x1ed7bc(0x1b9)](_0x506777[_0x1ed7bc(0x19e)],_0x52bbf7[_0x1ed7bc(0x162)])){var _0x2adc2a=_0x506777[_0x1ed7bc(0x155)],_0x22b34c=!Base[_0x1ed7bc(0xef)]&&Base[_0x1ed7bc(0x1d3)](_0x2adc2a)?_0x52bbf7[_0x1ed7bc(0x1bc)]('\x0a',Base[_0x1ed7bc(0xf0)](_0x2adc2a['actual'],_0x2adc2a[_0x1ed7bc(0x13b)])):'';_0x52bbf7['IaNRg'](xunitWrite,_0x52bbf7['fMqgc'](tag,_0x52bbf7['wBoCB'],_0x4a870b,![],_0x52bbf7[_0x1ed7bc(0x1c2)](tag,_0x52bbf7['hYXhe'],{},![],_0x52bbf7[_0x1ed7bc(0x1bc)](_0x52bbf7[_0x1ed7bc(0xd5)](_0x52bbf7[_0x1ed7bc(0x1bc)](_0x52bbf7[_0x1ed7bc(0x113)](escape,_0x2adc2a[_0x1ed7bc(0x164)]),_0x52bbf7[_0x1ed7bc(0xe4)](escape,_0x22b34c)),'\x0a'),_0x52bbf7[_0x1ed7bc(0xe4)](escape,_0x2adc2a[_0x1ed7bc(0x165)])))));}else _0x506777[_0x1ed7bc(0x1b0)]?_0x52bbf7[_0x1ed7bc(0x113)](xunitWrite,_0x52bbf7['opiZe'](tag,_0x52bbf7[_0x1ed7bc(0xff)],_0x4a870b,![],_0x52bbf7['rhSOG'](tag,_0x52bbf7[_0x1ed7bc(0x1b8)],{},!![]))):_0x52bbf7[_0x1ed7bc(0x122)](xunitWrite,_0x52bbf7[_0x1ed7bc(0x18d)](tag,_0x52bbf7[_0x1ed7bc(0xff)],_0x4a870b,!![]));};function getStats(_0x1a238d){const _0x2d481f=a33_0x113849,_0x26679c={};_0x26679c[_0x2d481f(0x13e)]=_0x2d481f(0xd7),_0x26679c['Pejql']=_0x2d481f(0x14d),_0x26679c[_0x2d481f(0xf5)]=_0x2d481f(0x127),_0x26679c[_0x2d481f(0x18e)]=_0x2d481f(0x15c);const _0x237beb=_0x26679c,_0x1ba569=Object['keys'](_0x1a238d);let _0x198c04=0x0,_0x10a454=0x0,_0x2eb90b=0x0,_0x183236=0x0;const _0xba54cf=new Set();_0x1ba569[_0x2d481f(0x154)](_0x553bf2=>{const _0x19e9c0=_0x2d481f;_0x1a238d[_0x553bf2][_0x237beb[_0x19e9c0(0x18e)]][_0x19e9c0(0x154)](_0x595c00=>{const _0x741486=_0x19e9c0;_0xba54cf[_0x741486(0x1cb)](_0x595c00[_0x237beb[_0x741486(0x13e)]]),_0x198c04++;switch(_0x595c00[_0x741486(0x19e)]){case _0x237beb[_0x741486(0x121)]:_0x2eb90b++;break;case _0x237beb[_0x741486(0xf5)]:_0x10a454++;break;default:_0x183236++;}});});const _0xce5f9f={};return _0xce5f9f[_0x2d481f(0x190)]=_0xba54cf[_0x2d481f(0xdb)],_0xce5f9f[_0x2d481f(0x12d)]=_0x1ba569,_0xce5f9f[_0x2d481f(0x150)]=_0x198c04,_0xce5f9f['testsFailed']=_0x10a454,_0xce5f9f[_0x2d481f(0x1c9)]=_0x2eb90b,_0xce5f9f[_0x2d481f(0x159)]=_0x183236,_0xce5f9f;}function errorJSON(_0x50fe99){const _0x408148=a33_0x113849;var _0x2847a1={};return Object[_0x408148(0x1b6)](_0x50fe99)[_0x408148(0x154)](function(_0x4cf5f6){_0x2847a1[_0x4cf5f6]=_0x50fe99[_0x4cf5f6];},_0x50fe99),_0x2847a1;}function cleanCycles(_0x55977e){const _0x421320=a33_0x113849,_0xe11d03={};_0xe11d03[_0x421320(0xf6)]=function(_0x485944,_0x33c958){return _0x485944===_0x33c958;},_0xe11d03['nYKNa']=_0x421320(0x1c4),_0xe11d03['Vbtcg']=function(_0x22ef71,_0xdcbbe3){return _0x22ef71!==_0xdcbbe3;},_0xe11d03[_0x421320(0x13a)]=function(_0x13d7b9,_0x3f23bb){return _0x13d7b9!==_0x3f23bb;},_0xe11d03[_0x421320(0x1c7)]=function(_0x5913c6,_0xfc4a37){return _0x5913c6+_0xfc4a37;};const _0x20ba72=_0xe11d03;var _0x2dc9ea=[];return JSON[_0x421320(0x138)](JSON['stringify'](_0x55977e,function(_0x3fb83a,_0x1f8e53){const _0x280f97=_0x421320;if(_0x20ba72['LcjdP'](typeof _0x1f8e53,_0x20ba72[_0x280f97(0x14f)])&&_0x20ba72[_0x280f97(0x168)](_0x1f8e53,null)){if(_0x20ba72[_0x280f97(0x13a)](_0x2dc9ea[_0x280f97(0x10e)](_0x1f8e53),-0x1))return _0x20ba72[_0x280f97(0x1c7)]('',_0x1f8e53);_0x2dc9ea[_0x280f97(0x163)](_0x1f8e53);}return _0x1f8e53;}));}function clean(_0x5aa2cf){const _0x27e202=a33_0x113849,_0x2aadfd={'oAAaG':function(_0x4eba64,_0x5d65ff){return _0x4eba64 instanceof _0x5d65ff;},'ekRPN':function(_0x1682eb,_0x3810f6){return _0x1682eb(_0x3810f6);},'UyHWR':function(_0x56238e,_0x4f07b9){return _0x56238e(_0x4f07b9);}};var _0x2df332=_0x5aa2cf[_0x27e202(0x155)]||{};return _0x2aadfd['oAAaG'](_0x2df332,Error)&&(_0x2df332=_0x2aadfd[_0x27e202(0xf2)](errorJSON,_0x2df332)),{'title':_0x5aa2cf['title'],'fullTitle':_0x5aa2cf[_0x27e202(0x1a8)],'file':_0x5aa2cf[_0x27e202(0x114)],'duration':_0x5aa2cf[_0x27e202(0x166)],'currentRetry':_0x5aa2cf['currentRetry'],'speed':_0x5aa2cf[_0x27e202(0x1b5)],'err':_0x2aadfd['UyHWR'](cleanCycles,_0x2df332)};}function printStats(_0x177fe4,_0x1596bd='spec',_0x164be7={}){const _0x39291f=a33_0x113849,_0x3251df={'TQKvM':function(_0x3d36c3,_0x568a8f){return _0x3d36c3(_0x568a8f);},'orraF':function(_0x25afb1,_0x51608d){return _0x25afb1===_0x51608d;},'tldkn':_0x39291f(0x14d),'nCWKq':'passes','Zqtyx':'failed','aqQnq':_0x39291f(0x10c),'AuqMl':'pending','mSsHj':'results','ugOfZ':function(_0x49badf,_0x57e494){return _0x49badf===_0x57e494;},'lEVdp':function(_0x535461,_0x2cc0af){return _0x535461===_0x2cc0af;},'kwFOT':function(_0x187261,_0x16c5e5){return _0x187261*_0x16c5e5;},'irBkI':function(_0x512a3f,_0x303ee2,_0x53367c){return _0x512a3f(_0x303ee2,_0x53367c);},'DbvJr':function(_0x525033,_0x8b75f4){return _0x525033===_0x8b75f4;},'egnag':function(_0x602a47,_0x2494ce){return _0x602a47>_0x2494ce;},'UKdFw':function(_0x2ebf69){return _0x2ebf69();},'qctAp':function(_0x2cf84d,_0x548512){return _0x2cf84d===_0x548512;},'OKveI':'doc','uZXmY':function(_0x48e22d,_0x5cbc60){return _0x48e22d(_0x5cbc60);},'mxlLW':function(_0x2d1484,_0x532fe6){return _0x2d1484>_0x532fe6;},'lAXBc':'Setting\x20non\x20exit\x20code\x20for\x20failures','qWGyP':'Printing\x20stats\x20of\x20tests','XWWuJ':function(_0xd88fe3,_0x3ef1bf){return _0xd88fe3+_0x3ef1bf;},'ljvNL':'Total\x20Platforms:\x20','giEUO':function(_0x18e9e4,_0x14beba){return _0x18e9e4+_0x14beba;},'OnxkO':'Total\x20Suites:\x20','Vnnqb':_0x39291f(0x111),'RrCzj':function(_0x457bf5,_0x399c0d){return _0x457bf5>_0x399c0d;},'bheQm':function(_0x56406b,_0x4044e4){return _0x56406b+_0x4044e4;},'mrVAV':function(_0x3e4cbf,_0x421e35){return _0x3e4cbf+_0x421e35;},'czPak':function(_0x1cd476,_0x5a4bbc){return _0x1cd476+_0x5a4bbc;},'EAbQq':function(_0x5c5ef0,_0x53086c){return _0x5c5ef0+_0x53086c;},'nUGcl':_0x39291f(0x169),'CnKhg':_0x39291f(0xfc),'dGgqx':'Writing\x20json\x20result\x20to\x20file','FlphX':_0x39291f(0xd2),'nZuuW':'No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','ymfjO':_0x39291f(0xfa),'WXkTL':_0x39291f(0x131),'VLtkh':function(_0x4741f4,_0x1b1c68){return _0x4741f4||_0x1b1c68;},'oNKAC':function(_0x4b865b,_0x55a588){return _0x4b865b(_0x55a588);},'DftVn':function(_0x55c9d1,_0x364fbf,_0x2d1f87,_0xd8734){return _0x55c9d1(_0x364fbf,_0x2d1f87,_0xd8734);},'IDjZt':_0x39291f(0x1a5),'uigZt':function(_0x407cee,_0x5ebca5){return _0x407cee-_0x5ebca5;},'TjCFP':function(_0x5ca3d3,_0x556401){return _0x5ca3d3-_0x556401;},'GRMGk':function(_0x365f54,_0x57dcb3){return _0x365f54/_0x57dcb3;},'UkCBN':_0x39291f(0x160),'YGcnM':_0x39291f(0xe1),'JcdAd':'Couldn\x27t\x20write\x20xunit\x20result\x20to','EqmkN':_0x39291f(0x19a),'lDWHe':_0x39291f(0x18c),'yBWUA':_0x39291f(0x15b)};if(_0x3251df[_0x39291f(0x1d2)](_0x1596bd,_0x3251df['OKveI']))return;const _0x2711fb=0x0,_0x1e9623=()=>{return _0x3251df['TQKvM'](Array,_0x2711fb)['join']('\x20\x20');},{testSuites:_0x3de51f,platforms:_0x266c5e,totalTests:_0x35370a,testsFailed:_0x58be76,testsPassed:_0x133027,testsPending:_0x5bc05c}=_0x3251df['uZXmY'](getStats,_0x177fe4);_0x3251df[_0x39291f(0x103)](_0x58be76,0x0)&&(logger[_0x39291f(0x16a)](_0x3251df[_0x39291f(0x198)]),process[_0x39291f(0x1d0)]=Math[_0x39291f(0x145)](_0x58be76,0xff));logger[_0x39291f(0x16a)](_0x3251df[_0x39291f(0x11f)]);const _0x4a4ea7=''+_0x3251df[_0x39291f(0xea)](chalk[_0x39291f(0x15f)](_0x3251df[_0x39291f(0x13c)]),_0x266c5e[_0x39291f(0xee)]),_0x17a9e8=''+_0x3251df[_0x39291f(0x161)](chalk['bold'](_0x3251df['OnxkO']),_0x3de51f),_0x2d532d=''+_0x3251df[_0x39291f(0xea)](_0x3251df[_0x39291f(0xea)](_0x3251df['giEUO'](chalk['bold'](_0x3251df[_0x39291f(0x1a1)]),_0x3251df[_0x39291f(0x136)](_0x58be76,0x0)?chalk[_0x39291f(0x15f)][_0x39291f(0x1c8)](_0x58be76+_0x39291f(0x16f))+',\x20':''),_0x3251df[_0x39291f(0x1cc)](_0x5bc05c,0x0)?chalk[_0x39291f(0x15f)][_0x39291f(0x16d)](_0x5bc05c+_0x39291f(0x1c1))+',\x20':''),_0x3251df[_0x39291f(0x103)](_0x133027,0x0)?chalk[_0x39291f(0x15f)]['green'](_0x133027+_0x39291f(0x126))+',\x20':'')+_0x35370a+_0x39291f(0xd4);console[_0x39291f(0x19c)](_0x3251df[_0x39291f(0x1ca)](_0x3251df['bheQm'](_0x3251df[_0x39291f(0xe7)](_0x3251df[_0x39291f(0x132)](_0x3251df[_0x39291f(0x167)](_0x3251df[_0x39291f(0x112)],_0x4a4ea7),'\x0a'),_0x17a9e8),'\x0a'),_0x2d532d));if(_0x3251df[_0x39291f(0x1d2)](_0x1596bd,_0x3251df['CnKhg'])){const _0x4702a0={},_0x268645={};_0x268645[_0x39291f(0x190)]=_0x3de51f,_0x268645['platforms']=_0x266c5e,_0x268645[_0x39291f(0x1a7)]=_0x58be76,_0x268645[_0x39291f(0x1c9)]=_0x133027,_0x268645['testsPending']=_0x5bc05c,_0x4702a0[_0x39291f(0x192)]=_0x268645,_0x266c5e[_0x39291f(0x154)](_0x1dffeb=>{const _0x2a4b72=_0x39291f,_0x53dda1={'ZBfzu':function(_0x2f67c,_0x45446f){const _0x5d34c9=a33_0x3b84;return _0x3251df[_0x5d34c9(0x10b)](_0x2f67c,_0x45446f);},'lpjuL':_0x3251df['tldkn'],'doZsK':_0x3251df[_0x2a4b72(0xf8)],'PmtGw':function(_0x27ffa8,_0x5de466){const _0xeb616d=_0x2a4b72;return _0x3251df[_0xeb616d(0x1d1)](_0x27ffa8,_0x5de466);},'vTsWV':function(_0x30f361,_0x443a53){const _0xbb94d=_0x2a4b72;return _0x3251df[_0xbb94d(0x10b)](_0x30f361,_0x443a53);},'eZjQD':_0x3251df[_0x2a4b72(0x1a4)],'ZLDUb':_0x3251df[_0x2a4b72(0x106)],'mcwfJ':_0x3251df[_0x2a4b72(0x1aa)]};_0x4702a0[_0x1dffeb]={'pending':[],'failures':[],'passes':[],'tests':_0x177fe4[_0x1dffeb][_0x3251df['mSsHj']][_0x2a4b72(0x120)](clean)},_0x177fe4[_0x1dffeb][_0x3251df['mSsHj']][_0x2a4b72(0x154)](_0x26cf63=>{const _0x4333f7=_0x2a4b72;if(_0x53dda1[_0x4333f7(0x15d)](_0x26cf63[_0x4333f7(0x19e)],_0x53dda1[_0x4333f7(0x157)]))_0x4702a0[_0x1dffeb][_0x53dda1['doZsK']]['push'](_0x53dda1[_0x4333f7(0x110)](clean,_0x26cf63));else _0x53dda1['vTsWV'](_0x26cf63['state'],_0x53dda1[_0x4333f7(0xec)])?_0x4702a0[_0x1dffeb][_0x53dda1[_0x4333f7(0x1b1)]]['push'](_0x53dda1[_0x4333f7(0x110)](clean,_0x26cf63)):_0x4702a0[_0x1dffeb][_0x53dda1[_0x4333f7(0x140)]][_0x4333f7(0x163)](_0x53dda1[_0x4333f7(0x110)](clean,_0x26cf63));});});if(_0x164be7['output'])try{logger['debug'](_0x3251df['dGgqx'],_0x164be7[_0x39291f(0x184)]),fs[_0x39291f(0x16b)](_0x164be7['output'],JSON[_0x39291f(0x1c6)](_0x4702a0,null,0x3));}catch(_0x41f579){logger[_0x39291f(0x14a)](_0x3251df[_0x39291f(0x104)],_0x164be7[_0x39291f(0x184)]),logger[_0x39291f(0x16a)](_0x41f579);}else logger['debug'](_0x3251df[_0x39291f(0x105)]),console['log'](JSON[_0x39291f(0x1c6)](_0x4702a0,null,0x3));}else{if(_0x3251df['lEVdp'](_0x1596bd,_0x3251df[_0x39291f(0x1ae)])){let _0x4eff52;const _0x42eaa3=_0x3251df[_0x39291f(0xd6)];_0x164be7&&(_0x4eff52=_0x164be7[_0x39291f(0x149)]);_0x4eff52=_0x3251df[_0x39291f(0x10d)](_0x4eff52,_0x42eaa3);let _0x361cd6=0x0,_0x7b7535=0x0,_0xd2da=0x0,_0x53d018=0x0;_0x266c5e[_0x39291f(0x154)](_0x3284d6=>{const _0x21f601=_0x39291f;_0x177fe4[_0x3284d6][_0x3251df[_0x21f601(0x141)]][_0x21f601(0x154)](_0x6467b2=>{const _0x58442d=_0x21f601;if(_0x3251df[_0x58442d(0xda)](_0x6467b2[_0x58442d(0x19e)],_0x3251df[_0x58442d(0x137)]))_0x361cd6++;else _0x3251df[_0x58442d(0x197)](_0x6467b2[_0x58442d(0x19e)],_0x3251df[_0x58442d(0x1a4)])&&_0x7b7535++;_0xd2da++,_0x53d018+=_0x3251df['kwFOT'](_0x6467b2['duration'],0x1);});}),_0x3251df[_0x39291f(0x125)](xunitWrite,_0x3251df[_0x39291f(0x176)](tag,_0x3251df[_0x39291f(0x19f)],{'name':_0x4eff52,'tests':_0xd2da,'failures':0x0,'errors':_0x7b7535,'skipped':_0x3251df[_0x39291f(0xdc)](_0x3251df[_0x39291f(0x16c)](_0xd2da,_0x7b7535),_0x361cd6),'timestamp':new Date()[_0x39291f(0x108)](),'time':_0x3251df['GRMGk'](_0x53d018,0x3e8)||0x0},![])),_0x266c5e['forEach'](_0x144ede=>{const _0x127f34=_0x39291f;_0x177fe4[_0x144ede][_0x3251df[_0x127f34(0x141)]][_0x127f34(0x154)](_0x140737=>{_0x3251df['irBkI'](xunitTest,_0x140737,_0x144ede);});}),_0x3251df[_0x39291f(0x102)](xunitWrite,_0x3251df[_0x39291f(0x12e)]);if(_0x164be7[_0x39291f(0x184)])try{logger[_0x39291f(0x16a)](_0x3251df[_0x39291f(0x144)],_0x164be7[_0x39291f(0x184)]),fs['writeFileSync'](_0x164be7[_0x39291f(0x184)],xunitContent);}catch(_0x37286c){logger['error'](_0x3251df['JcdAd'],_0x164be7['output']),logger[_0x39291f(0x16a)](_0x37286c);}else logger[_0x39291f(0x16a)](_0x3251df['EqmkN']),console['log'](xunitContent);}else{if(_0x3251df['orraF'](_0x58be76,0x0))return;console[_0x39291f(0x19c)](),logger[_0x39291f(0x16a)](_0x3251df[_0x39291f(0x183)]),console[_0x39291f(0x19c)](chalk[_0x39291f(0x15f)]['bgRedBright'](_0x3251df[_0x39291f(0x1b2)])),_0x266c5e[_0x39291f(0x154)](_0x12296f=>{const _0x11748b=_0x39291f,_0x330155=[];_0x177fe4[_0x12296f][_0x3251df[_0x11748b(0x141)]][_0x11748b(0x154)](_0x437193=>{const _0x30dd80=_0x11748b;_0x3251df['DbvJr'](_0x437193[_0x30dd80(0x19e)],_0x3251df[_0x30dd80(0x1a4)])&&(_0x437193[_0x30dd80(0x199)]=()=>_0x437193['titlePathV'],_0x330155[_0x30dd80(0x163)](_0x437193));}),_0x3251df['egnag'](_0x330155[_0x11748b(0xee)],0x0)&&(Base['consoleLog'](),Base[_0x11748b(0xe0)](_0x3251df[_0x11748b(0x123)](_0x1e9623),chalk[_0x11748b(0x15f)][_0x11748b(0x10f)](_0x12296f)),Base[_0x11748b(0x18a)](_0x330155));});}}}async function run(_0xe3a29a,_0x38a735,_0x298b6d){const _0x5c62a9=a33_0x113849,_0x23cf00={'cuKIe':function(_0xd6e9bc,_0x88ef1f,_0x26c70c,_0x5965a7){return _0xd6e9bc(_0x88ef1f,_0x26c70c,_0x5965a7);},'JRKfY':_0x5c62a9(0x15e),'CvcRu':'error\x20removing\x20tcg\x20config\x20file','xXPGA':'SDKTestSuccessful','ZvkZT':'mocha','THDtH':function(_0x11b5dd,_0x2ac36d){return _0x11b5dd!=_0x2ac36d;},'XSNQd':_0x5c62a9(0xd9),'BDlUi':'mjs','kapQC':_0x5c62a9(0x15a),'Nhadg':_0x5c62a9(0x194),'tFfNa':function(_0x4e5ce8,_0x2a9e5a){return _0x4e5ce8(_0x2a9e5a);},'NwjGu':function(_0x571213,_0x271389,_0x42094d){return _0x571213(_0x271389,_0x42094d);},'PKbfx':_0x5c62a9(0x187),'fEMLP':_0x5c62a9(0xfb),'lUlQn':'excludeTagsInTestingScope','LAzRC':'includeEncodedExtension','FDCEH':'Running\x20your\x20mocha\x20tests','VfGRd':'Now,\x20showing\x20logs\x20from\x20mocha','EvskO':function(_0x5d9706,_0x143ff3){return _0x5d9706*_0x143ff3;},'szROj':function(_0x2b932c,_0x605d98){return _0x2b932c(_0x605d98);},'dbsJD':function(_0x104e39,_0x1a2de9){return _0x104e39!==_0x1a2de9;}};helper[_0x5c62a9(0x1a3)](_0x298b6d['framework'],_0xe3a29a),await _0x298b6d[_0x5c62a9(0x181)](_0xe3a29a);helper['isBrowserstackInfra']()?await helper[_0x5c62a9(0xf4)](_0x298b6d[_0x5c62a9(0x109)]):await _0x298b6d[_0x5c62a9(0x1ac)]();const _0x1c5125=[];let _0x32d37b=[];if(!_0x298b6d[_0x5c62a9(0x109)])return;!helper['isUndefined'](_0x298b6d['config'][_0x5c62a9(0x119)])&&(process[_0x5c62a9(0x1a2)][_0x5c62a9(0x11a)]=JSON[_0x5c62a9(0x1c6)](_0x298b6d[_0x5c62a9(0x109)][_0x5c62a9(0x119)]));const _0x4340ff=await TestHubHandler[_0x5c62a9(0x148)](FRAMEWORKS[_0x5c62a9(0x12f)],_0x298b6d);_0x23cf00[_0x5c62a9(0x178)](_0x298b6d[_0x5c62a9(0x109)][_0x5c62a9(0x182)],null)&&(process['env'][_0x5c62a9(0xe2)]=_0x298b6d['config'][_0x5c62a9(0x182)]);!helper[_0x5c62a9(0xe6)](_0x298b6d[_0x5c62a9(0x109)][_0x5c62a9(0x100)])&&(process[_0x5c62a9(0x1a2)][_0x5c62a9(0x1b3)]=_0x298b6d[_0x5c62a9(0x109)][_0x5c62a9(0x100)]);const {extension:extension=['js',_0x23cf00[_0x5c62a9(0x143)],_0x23cf00[_0x5c62a9(0x139)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x23cf00['kapQC']]}=_0xe3a29a,_0x45d14d={..._0xe3a29a};_0x45d14d[_0x5c62a9(0x189)]=null;const _0x15ee2c=_0x45d14d;let _0x5aa0cb;if(testOpsHelper[_0x5c62a9(0x13d)]()&&testOpsHelper[_0x5c62a9(0x146)]()){let _0x1e0dd8=process[_0x5c62a9(0x1a2)][_0x5c62a9(0x14b)];!helper[_0x5c62a9(0xe6)](_0x298b6d['cliConfig'])&&_0x298b6d[_0x5c62a9(0xd0)][_0x5c62a9(0xe3)](_0x23cf00['Nhadg'])&&(_0x1e0dd8=_0x298b6d[_0x5c62a9(0xd0)][_0x5c62a9(0xf7)](_0x23cf00[_0x5c62a9(0x18b)])),_0x5aa0cb=testOpsHelper[_0x5c62a9(0x175)](_0x1e0dd8);}if(helper[_0x5c62a9(0xe6)](_0x5aa0cb)){const _0x505fcb={};_0x505fcb['ignore']=ignore,_0x505fcb[_0x5c62a9(0x153)]=extension,_0x505fcb[_0x5c62a9(0x114)]=file,_0x505fcb[_0x5c62a9(0x129)]=recursive,_0x505fcb[_0x5c62a9(0x101)]=sort,_0x505fcb[_0x5c62a9(0x152)]=spec,_0x5aa0cb=_0x23cf00[_0x5c62a9(0x1bd)](collectFiles,_0x505fcb),_0x23cf00[_0x5c62a9(0x151)](nestedKeyValue,_0x5aa0cb,[_0x23cf00[_0x5c62a9(0x191)]])&&(_0x5aa0cb=_0x5aa0cb[_0x5c62a9(0x187)]);}const _0x541d61=helper[_0x5c62a9(0x17e)](_0x298b6d[_0x5c62a9(0x109)]);!helper['isEmpty'](_0x541d61)&&helper[_0x5c62a9(0x115)](_0x541d61[_0x5c62a9(0x16e)])&&(_0x15ee2c[_0x5c62a9(0xd3)]=_0x541d61[_0x5c62a9(0x16e)][_0x5c62a9(0x1ba)]);if(!helper['isBrowserstackInfra']()){const _0x363e86=0x1,_0xafad66={..._0x15ee2c};_0xafad66[_0x5c62a9(0x152)]=[..._0x5aa0cb],_0x1c5125[_0x5c62a9(0x163)]({'mochaOpts':_0xafad66,'configuration':{'platform':os['platform']()}});if(_0x298b6d[_0x5c62a9(0x109)][_0x5c62a9(0x100)]){const _0x15cba4={};_0x15cba4[_0x5c62a9(0x100)]=!![];const _0xb909ab=_0x15cba4;_0x23cf00[_0x5c62a9(0x178)](_0x298b6d['config']['accessibilityOptions'],null)&&(_0xb909ab[_0x5c62a9(0x119)]=_0x298b6d['config'][_0x5c62a9(0x119)],delete _0xb909ab[_0x5c62a9(0x119)][_0x23cf00['fEMLP']],delete _0xb909ab[_0x5c62a9(0x119)][_0x23cf00['lUlQn']],delete _0xb909ab[_0x5c62a9(0x119)][_0x23cf00[_0x5c62a9(0xeb)]]);const _0x3b9ccc={};_0x3b9ccc[_0x5c62a9(0x1ab)]=_0xb909ab,_0x1c5125[0x0]['configuration'][_0x5c62a9(0x142)]=_0x3b9ccc;}logger['info'](_0x23cf00[_0x5c62a9(0xe5)]),logger[_0x5c62a9(0x17c)](_0x23cf00[_0x5c62a9(0x172)]),_0x23cf00['cuKIe'](parallelTestRun,_0x1c5125,_0x363e86,_0x298b6d)[_0x5c62a9(0x1cd)](_0x582a72=>{const _0x32a617=_0x5c62a9;PerformanceTester[_0x32a617(0x1c5)](PerformanceEvents[_0x32a617(0x179)]),_0x23cf00['cuKIe'](printStats,_0x582a72,_0xe3a29a[_0x32a617(0x135)],_0xe3a29a[_0x32a617(0x12b)]||_0xe3a29a[_0x23cf00['JRKfY']]);})[_0x5c62a9(0xed)](()=>{const _0x392915=_0x5c62a9;PerformanceTester[_0x392915(0x1c5)](PerformanceEvents[_0x392915(0x179)]);try{const {browserstackFolderPath:_0x52fa2a,tcgConfigPath:_0x4754a2}=helper[_0x392915(0x11d)]();fs[_0x392915(0x17d)](_0x4754a2),fs[_0x392915(0x11b)](_0x52fa2a);}catch(_0x3b46e7){logger[_0x392915(0x16a)](_0x23cf00['CvcRu'],_0x3b46e7);}try{utilities[_0x392915(0x171)](_0x23cf00[_0x392915(0x1b7)],{},_0x298b6d[_0x392915(0x109)],_0x298b6d['framework']);}catch(_0x14a972){logger[_0x392915(0x16a)](_0x392915(0x1ad)+_0x14a972[_0x392915(0x165)]);}try{helper[_0x392915(0x19d)]();}catch(_0x37cf4a){logger[_0x392915(0x16a)](_0x392915(0x11e)+_0x37cf4a);}testOpsHelper['printBuildLink']();});}else{const _0x5bb2ac=helper[_0x5c62a9(0x124)](_0x298b6d[_0x5c62a9(0x109)]);let _0x9c49e0=helper[_0x5c62a9(0x1c0)](_0x298b6d['config']);_0x32d37b=helper[_0x5c62a9(0x147)](_0x298b6d['config'],_0x5bb2ac,constants[_0x5c62a9(0x1b4)][_0x5c62a9(0x12f)]);helper[_0x5c62a9(0x17b)]()[_0x5c62a9(0xe9)]&&(_0x9c49e0=centralScannerConstants[_0x5c62a9(0x1cf)]);let _0x10240e;const _0x5bae95=_0x298b6d[_0x5c62a9(0x109)][_0x5c62a9(0x13f)]||helper[_0x5c62a9(0x14e)](_0xe3a29a,_0x38a735,_0x298b6d[_0x5c62a9(0x109)],constants[_0x5c62a9(0x1b4)][_0x5c62a9(0x12f)])||0x1;helper['validPlatformsPresent'](_0x298b6d[_0x5c62a9(0x109)])?_0x10240e=_0x23cf00[_0x5c62a9(0x17f)](_0x298b6d[_0x5c62a9(0x109)][_0x5c62a9(0x12d)]['length'],_0x5bae95):_0x10240e=_0x5bae95;const _0x7f6713=_0x23cf00[_0x5c62a9(0x1be)](getPercyOptions,_0x298b6d[_0x5c62a9(0x109)]);if(_0x23cf00[_0x5c62a9(0x133)](_0x298b6d[_0x5c62a9(0x109)][_0x5c62a9(0x13f)],0x1))_0x5aa0cb[_0x5c62a9(0x154)](_0x557ba7=>{const _0x5151cf=_0x5c62a9,_0x5381b3=[];_0x32d37b[_0x5151cf(0x154)]((_0x231ac9,_0x3acd35)=>{const _0x313e87=_0x5151cf,_0x1d8814={};_0x1d8814[_0x313e87(0x152)]=[_0x557ba7],_0x5381b3[_0x313e87(0x163)]({'mochaOpts':Object['assign']({},_0x15ee2c,_0x1d8814),'configuration':{'server':_0x9c49e0,'capability':_0x231ac9,'proxySettings':_0x298b6d[_0x313e87(0x109)][_0x313e87(0x170)],'platform':helper[_0x313e87(0xd1)](_0x231ac9),'browserStackLogLevel':_0x298b6d[_0x313e87(0x109)]['logLevel'],'platformIndex':_0x3acd35,'browserStackPercyOptions':_0x7f6713,'platformCaps':Object[_0x313e87(0x196)]({'index':_0x3acd35},_0x298b6d[_0x313e87(0x109)][_0x313e87(0x12d)][_0x3acd35])}});}),_0x1c5125['push'](..._0x5381b3);});else{const _0x47d10d=[];_0x32d37b['forEach']((_0xb7adaa,_0x24a4ba)=>{const _0x3415ea=_0x5c62a9;let _0x30ff37=Object[_0x3415ea(0x196)]({},_0x15ee2c);testOpsHelper[_0x3415ea(0x13d)]()&&testOpsHelper[_0x3415ea(0x146)]()&&(_0x30ff37={..._0x30ff37,'spec':[..._0x5aa0cb]}),_0x47d10d[_0x3415ea(0x163)]({'mochaOpts':_0x30ff37,'configuration':{'server':_0x9c49e0,'capability':_0xb7adaa,'proxySettings':_0x298b6d['config'][_0x3415ea(0x170)],'platform':helper['getPlatformName'](_0xb7adaa),'browserStackLogLevel':_0x298b6d[_0x3415ea(0x109)][_0x3415ea(0x195)],'platformIndex':_0x24a4ba,'browserStackPercyOptions':_0x7f6713,'platformCaps':Object[_0x3415ea(0x196)]({'index':_0x24a4ba},_0x298b6d[_0x3415ea(0x109)][_0x3415ea(0x12d)][_0x24a4ba])}});}),_0x1c5125[_0x5c62a9(0x163)](..._0x47d10d);}logger[_0x5c62a9(0x17c)](_0x5c62a9(0x18f)+_0x298b6d[_0x5c62a9(0x109)][_0x5c62a9(0x12d)][_0x5c62a9(0xee)]+'\x20platforms'),logger[_0x5c62a9(0x17c)](_0x23cf00[_0x5c62a9(0x172)]);let _0x3dd30a;_0x23cf00[_0x5c62a9(0x11c)](parallelTestRun,_0x1c5125,_0x10240e,_0x298b6d)[_0x5c62a9(0x1cd)](_0x1cf3a3=>{const _0x32b73=_0x5c62a9;PerformanceTester[_0x32b73(0x1c5)](PerformanceEvents[_0x32b73(0x179)]),_0x3dd30a=_0x1cf3a3,_0x23cf00[_0x32b73(0x11c)](printStats,_0x1cf3a3,_0xe3a29a[_0x32b73(0x135)],_0xe3a29a[_0x32b73(0x12b)]||_0xe3a29a[_0x23cf00['JRKfY']]);})[_0x5c62a9(0xed)](async()=>{const _0x57230f=_0x5c62a9;PerformanceTester[_0x57230f(0x1c5)](PerformanceEvents[_0x57230f(0x179)]),_0x298b6d[_0x57230f(0x158)]=helper['getErrorMessageFromResults'](_0x3dd30a,_0x23cf00['ZvkZT']),await utilities[_0x57230f(0xf9)](_0x298b6d),testOpsHelper[_0x57230f(0x130)]();});}}module['exports']=run;