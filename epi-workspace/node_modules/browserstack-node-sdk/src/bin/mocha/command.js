#!/usr/bin/env node
'use strict';const a28_0x5b2abb=a28_0xb60d;(function(_0x192f6c,_0x1a012d){const _0x5aa24f=a28_0xb60d,_0x12063c=_0x192f6c();while(!![]){try{const _0x29e597=-parseInt(_0x5aa24f(0xd5))/0x1*(parseInt(_0x5aa24f(0xf3))/0x2)+-parseInt(_0x5aa24f(0x185))/0x3*(parseInt(_0x5aa24f(0x152))/0x4)+parseInt(_0x5aa24f(0xb2))/0x5+parseInt(_0x5aa24f(0xa3))/0x6*(parseInt(_0x5aa24f(0x195))/0x7)+parseInt(_0x5aa24f(0x164))/0x8*(parseInt(_0x5aa24f(0x138))/0x9)+parseInt(_0x5aa24f(0x12c))/0xa+-parseInt(_0x5aa24f(0xe9))/0xb;if(_0x29e597===_0x1a012d)break;else _0x12063c['push'](_0x12063c['shift']());}catch(_0x4a754e){_0x12063c['push'](_0x12063c['shift']());}}}(a28_0x5781,0xc2dcd));const chalk=require('chalk'),logger=require(a28_0x5b2abb(0x14a))[a28_0x5b2abb(0x1a1)],helper=require('../../helpers/helper'),utilities=require(a28_0x5b2abb(0x19d)),testOpsHelper=require('../../helpers/test-observability/utils'),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a28_0x5b2abb(0x161)),{requireModule,nestedKeyValue}=require(a28_0x5b2abb(0x183)),{getPercyOptions}=require(a28_0x5b2abb(0x158)),Base=requireModule(a28_0x5b2abb(0x180),a28_0x5b2abb(0xed)),collectFiles=requireModule(a28_0x5b2abb(0x10c),'mocha'),constants=require('../utils/constants'),PerformanceTester=require(a28_0x5b2abb(0xf5)),PerformanceEvents=require(a28_0x5b2abb(0xaf))[a28_0x5b2abb(0xab)],centralScannerConstants=require(a28_0x5b2abb(0x174)),{FRAMEWORKS}=require(a28_0x5b2abb(0x14d)),TestHubHandler=require(a28_0x5b2abb(0xcc));function tag(_0x5890af,_0x2cce60,_0x1ca99f,_0x476529){const _0x3ab04c=a28_0x5b2abb,_0x36baca={'cOACC':function(_0x884c5a,_0x394a71){return _0x884c5a+_0x394a71;},'dmbzb':function(_0x288b40,_0x54c69d){return _0x288b40+_0x54c69d;},'dsgrH':function(_0x39c0f5,_0x1c8e2f){return _0x39c0f5+_0x1c8e2f;},'hPyjM':function(_0x2e036b,_0x253c00){return _0x2e036b(_0x253c00);},'vwRur':function(_0x59839e,_0x62eedb){return _0x59839e+_0x62eedb;},'eAntu':function(_0x290274,_0x57e435){return _0x290274+_0x57e435;},'hAIoK':function(_0x21e595,_0x1c67d2){return _0x21e595+_0x1c67d2;}},_0x3569c1=_0x1ca99f?'/>':'>',_0xd741c9=[];let _0x25d629;for(const _0x3d8b07 in _0x2cce60){Object[_0x3ab04c(0xe3)][_0x3ab04c(0x13d)][_0x3ab04c(0x108)](_0x2cce60,_0x3d8b07)&&_0xd741c9['push'](_0x36baca[_0x3ab04c(0xd1)](_0x36baca['dmbzb'](_0x36baca[_0x3ab04c(0x15b)](_0x3d8b07,'=\x22'),_0x36baca['hPyjM'](escape,_0x2cce60[_0x3d8b07])),'\x22'));}return _0x25d629=_0x36baca[_0x3ab04c(0x15b)](_0x36baca[_0x3ab04c(0xbb)](_0x36baca['cOACC']('<',_0x5890af),_0xd741c9['length']?_0x36baca[_0x3ab04c(0xd1)]('\x20',_0xd741c9['join']('\x20')):''),_0x3569c1),_0x476529&&(_0x25d629+=_0x36baca[_0x3ab04c(0x15b)](_0x36baca[_0x3ab04c(0x190)](_0x36baca[_0x3ab04c(0xbe)](_0x476529,'</'),_0x5890af),_0x3569c1)),_0x25d629;}let xunitContent='';function xunitWrite(_0x174a65){xunitContent+=_0x174a65;}function xunitTest(_0x4e538c,_0x4c7e29){const _0x318f9a=a28_0x5b2abb,_0x5d8804={'pFxOd':function(_0x1f36e0,_0x5dd780){return _0x1f36e0/_0x5dd780;},'CmgDp':function(_0x501272,_0xb31dc2){return _0x501272===_0xb31dc2;},'RmaFC':_0x318f9a(0x111),'ongNd':function(_0x5f6926,_0x180886){return _0x5f6926+_0x180886;},'tTaEM':function(_0x183dfa,_0x4edf4a){return _0x183dfa(_0x4edf4a);},'YnliU':function(_0x304281,_0x2117ef,_0x26c05,_0x2d56c3,_0x2767b1){return _0x304281(_0x2117ef,_0x26c05,_0x2d56c3,_0x2767b1);},'tbaKM':_0x318f9a(0x173),'JLsQl':function(_0x14a8d7,_0xd37105,_0xe6f84a,_0x3da0f8,_0x5260dc){return _0x14a8d7(_0xd37105,_0xe6f84a,_0x3da0f8,_0x5260dc);},'JVUpX':'failure','zjyyT':function(_0x282b8c,_0x85156){return _0x282b8c+_0x85156;},'DHSee':function(_0x4c8ebb,_0x32d6d6){return _0x4c8ebb+_0x32d6d6;},'LOcAh':function(_0x6831a9,_0x186cb7){return _0x6831a9(_0x186cb7);},'QvmBt':function(_0x40ecf8,_0x4e95ea){return _0x40ecf8(_0x4e95ea);},'KzYZq':function(_0x58b628,_0x209571){return _0x58b628(_0x209571);},'RzkJI':function(_0x324a06,_0x37af7a,_0xc849a8,_0x183c8f,_0x4ef0db){return _0x324a06(_0x37af7a,_0xc849a8,_0x183c8f,_0x4ef0db);},'kPrpc':function(_0x6de2d7,_0x2c5b74,_0x221cde,_0x22ca7d){return _0x6de2d7(_0x2c5b74,_0x221cde,_0x22ca7d);},'LmqoF':_0x318f9a(0xb7),'CKxaI':function(_0x27c9d5,_0x1e67df){return _0x27c9d5(_0x1e67df);}};Base[_0x318f9a(0x151)]=![];var _0x1a94fb={'classname':_0x4e538c[_0x318f9a(0x14e)],'name':_0x4e538c[_0x318f9a(0x125)],'time':_0x5d8804[_0x318f9a(0x128)](_0x4e538c['duration'],0x3e8)||0x0,'platform':_0x4c7e29};if(_0x5d8804[_0x318f9a(0xf1)](_0x4e538c[_0x318f9a(0x177)],_0x5d8804[_0x318f9a(0x178)])){var _0x27b49f=_0x4e538c[_0x318f9a(0xc4)],_0x1078af=!Base['hideDiff']&&Base[_0x318f9a(0xcf)](_0x27b49f)?_0x5d8804[_0x318f9a(0x122)]('\x0a',Base[_0x318f9a(0x11c)](_0x27b49f[_0x318f9a(0x97)],_0x27b49f[_0x318f9a(0x1a0)])):'';_0x5d8804[_0x318f9a(0xa6)](xunitWrite,_0x5d8804[_0x318f9a(0x194)](tag,_0x5d8804[_0x318f9a(0xdc)],_0x1a94fb,![],_0x5d8804[_0x318f9a(0x131)](tag,_0x5d8804[_0x318f9a(0x10a)],{},![],_0x5d8804[_0x318f9a(0xb9)](_0x5d8804['DHSee'](_0x5d8804[_0x318f9a(0x122)](_0x5d8804[_0x318f9a(0xa6)](escape,_0x27b49f[_0x318f9a(0xfc)]),_0x5d8804[_0x318f9a(0x1a3)](escape,_0x1078af)),'\x0a'),_0x5d8804[_0x318f9a(0xd7)](escape,_0x27b49f[_0x318f9a(0x107)])))));}else _0x4e538c[_0x318f9a(0x103)]?_0x5d8804[_0x318f9a(0x124)](xunitWrite,_0x5d8804['RzkJI'](tag,_0x5d8804['tbaKM'],_0x1a94fb,![],_0x5d8804[_0x318f9a(0x130)](tag,_0x5d8804['LmqoF'],{},!![]))):_0x5d8804['CKxaI'](xunitWrite,_0x5d8804[_0x318f9a(0x130)](tag,_0x5d8804[_0x318f9a(0xdc)],_0x1a94fb,!![]));};function getStats(_0x5134a0){const _0x3b78bd=a28_0x5b2abb,_0xd23f84={};_0xd23f84[_0x3b78bd(0xe0)]=_0x3b78bd(0xea),_0xd23f84[_0x3b78bd(0xc5)]='passed',_0xd23f84['bCdfj']=_0x3b78bd(0x111),_0xd23f84[_0x3b78bd(0x9e)]=_0x3b78bd(0xcd);const _0x473295=_0xd23f84,_0x508f11=Object[_0x3b78bd(0x12f)](_0x5134a0);let _0x39d79a=0x0,_0x2f99b2=0x0,_0x51142d=0x0,_0x21cad0=0x0;const _0x1209c0=new Set();_0x508f11[_0x3b78bd(0x157)](_0x4b3954=>{_0x5134a0[_0x4b3954][_0x473295['GybXE']]['forEach'](_0x5dc93d=>{const _0x567257=a28_0xb60d;_0x1209c0[_0x567257(0x17d)](_0x5dc93d[_0x473295[_0x567257(0xe0)]]),_0x39d79a++;switch(_0x5dc93d[_0x567257(0x177)]){case _0x473295['GRchW']:_0x51142d++;break;case _0x473295[_0x567257(0x12b)]:_0x2f99b2++;break;default:_0x21cad0++;}});});const _0x56e1ad={};return _0x56e1ad[_0x3b78bd(0x18c)]=_0x1209c0[_0x3b78bd(0x134)],_0x56e1ad[_0x3b78bd(0x154)]=_0x508f11,_0x56e1ad['totalTests']=_0x39d79a,_0x56e1ad[_0x3b78bd(0x188)]=_0x2f99b2,_0x56e1ad[_0x3b78bd(0x139)]=_0x51142d,_0x56e1ad[_0x3b78bd(0xd8)]=_0x21cad0,_0x56e1ad;}function a28_0x5781(){const _0x48378c=['VUvgB','eAntu','sxpjm','PcYjc','bgRedBright','YnliU','21IzPEfJ','QRMPj','object','Couldn\x27t\x20write\x20json\x20result\x20to','****\x20FAILURES\x20****','output','\x20failed','titlePath','../../helpers/utilities','</testsuite>','Total\x20Platforms:\x20','expected','winstonLogger','Tests:\x20\x20\x20\x20\x20\x20\x20','LOcAh','bold','mEVvo','actual','info','start','testsuite','YTjSm','oOsdE','getUserWorkerCount','GybXE','file','isUndefined','\x0a\x0a\x0a','JBUCW','2663394BeKxLU','\x20platforms','giQxN','tTaEM','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','CtWwx','jluZF','framework','EVENTS','orWQn','iWBCV','CbOhZ','../../helpers/performance/constants','fIEYQ','AGYKC','582330QLvYmV','wyLTw','AvuzO','testObservability','SACHN','skipped','aTWsd','zjyyT','gCVws','vwRur','BROWSERSTACK_TEST_OBSERVABILITY_YML','initialize','hAIoK','tUPNk','pending','writeFileSync','test','vEIHa','err','GRchW','stringify','\x20skipped','XzquR','extension','EcblK','DOzbf','../../helpers/testhub/testhubHandler','results','ybjJq','showDiff','suiteName','cOACC','jkwfI','HEYqc','green','653ChHDcI','sort','QvmBt','testsPending','setUserConfigPath','MOCHA','config','tbaKM','SDK_CLEANUP','VjeTK','TENfM','eemti','IHXTR','maxRetries','prototype','ShCtf','duration','BROWSERSTACK_GRR_US_HUB_URL','kCfDa','vQvlz','20689141tniRAt','suite','unlinkSync','dabni','mocha','cliConfig','ltdkY','accessibilityOptions','CmgDp','accessibility','2006PrvQjj','rootHooks','../../helpers/performance/performance-tester','Total\x20Suites:\x20','list','zaLOA','handleApp','GiVlZ','spec','message','isBrowserstackInfra','error','logLevel','CTEjJ','debug','errorMessage','isPending','assign','join','Couldn\x27t\x20write\x20xunit\x20result\x20to','stack','call','proxySettings','JVUpX','xXLEF','mocha/lib/cli/collect-files.js','YjkbI','platform','isEmpty','getHubUrl','failed','Setting\x20non\x20exit\x20code\x20for\x20failures','\x20passed','Printing\x20stats\x20of\x20tests','passed','ignore','nZVCi','push','dwfaI','EgzXH','yellow','generateDiff','mjs','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','prepareCapabilities','notifyUpdate','reporterOptions','ongNd','speed','KzYZq','title','pMkkU','retries','pFxOd','scMqG','launchBuild','bCdfj','10883010kbMNHI','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','BROWSERSTACK_RERUN_TESTS','keys','kPrpc','JLsQl','getPlatformName','GRksL','size','RrcoM','eiGAx','indexOf','1099422HhtFWF','testsPassed','rmdirSync','UYrYC','gWzCo','hasOwnProperty','VbEhi','json','log','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','getCentralUser','Listing\x20all\x20the\x20failures','consoleLog','mhDes','SDKTestSuccessful','doc','ExDzW','retryTestsOnFailure','../../helpers/logger','rerunTests','env','../../helpers/test-observability/constants','fullTitle','Writing\x20xunit\x20result\x20to\x20file','fireFunnelTestEvent','useColors','76jTlOyc','Running\x20your\x20mocha\x20tests\x20across\x20','platforms','map','TlUsZ','forEach','../../helpers/percy/utils','shouldReRunObservabilityTests','isTestObservabilitySession','dsgrH','bgBlueBright','LWidr','dzpsa','eIEHI','fnWCx','../test-runner','validPlatformsPresent','red','104fUroQb','files','JSMJd','cjKZH','eUOvz','gclvH','setupTCGAuth','isNotUndefined','passes','reporter','central_scanner','exitCode','titlePathV','then','printBuildLink','testcase','../../helpers/central-scanner/constants','Ucpon','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','state','RmaFC','BROWSERSTACK_TEST_ACCESSIBILITY_YML','ZmthS','currentRetry','length','add','parse','pqCtn','mocha/lib/reporters/base.js','parseTestOrchestrationOptions','parallelsPerPlatform','../../helpers/helper','FRAMEWORKS','124827UOmdwG','HZpMa','agIxV','testsFailed','getOwnPropertyNames','stats','finally','testSuites','recursive','ARISd'];a28_0x5781=function(){return _0x48378c;};return a28_0x5781();}function errorJSON(_0x13189b){const _0xac2e7d=a28_0x5b2abb;var _0x394efc={};return Object[_0xac2e7d(0x189)](_0x13189b)['forEach'](function(_0x4584b1){_0x394efc[_0x4584b1]=_0x13189b[_0x4584b1];},_0x13189b),_0x394efc;}function cleanCycles(_0x162aab){const _0x113418=a28_0x5b2abb,_0x3a6bcc={};_0x3a6bcc[_0x113418(0xca)]=function(_0x58005a,_0x177dd9){return _0x58005a===_0x177dd9;},_0x3a6bcc[_0x113418(0x117)]=_0x113418(0x197),_0x3a6bcc['zaLOA']=function(_0x663427,_0x21f45a){return _0x663427!==_0x21f45a;},_0x3a6bcc['dwfaI']=function(_0x134587,_0x154831){return _0x134587!==_0x154831;},_0x3a6bcc['vEIHa']=function(_0x28c0a1,_0x187e4d){return _0x28c0a1+_0x187e4d;};const _0x2ea5c0=_0x3a6bcc;var _0xb815de=[];return JSON[_0x113418(0x17e)](JSON[_0x113418(0xc6)](_0x162aab,function(_0x51f8f3,_0x111c84){const _0x2c1eb3=_0x113418;if(_0x2ea5c0['EcblK'](typeof _0x111c84,_0x2ea5c0[_0x2c1eb3(0x117)])&&_0x2ea5c0[_0x2c1eb3(0xf8)](_0x111c84,null)){if(_0x2ea5c0[_0x2c1eb3(0x119)](_0xb815de[_0x2c1eb3(0x137)](_0x111c84),-0x1))return _0x2ea5c0[_0x2c1eb3(0xc3)]('',_0x111c84);_0xb815de['push'](_0x111c84);}return _0x111c84;}));}function clean(_0x55ef42){const _0x2df8e0=a28_0x5b2abb,_0x131f9c={'gCVws':function(_0x425ca2,_0x2fa87e){return _0x425ca2 instanceof _0x2fa87e;},'eiGAx':function(_0x471abf,_0x5b4eb0){return _0x471abf(_0x5b4eb0);},'gBmAJ':function(_0x6ca4ab,_0x1eef19){return _0x6ca4ab(_0x1eef19);}};var _0x4d031e=_0x55ef42['err']||{};return _0x131f9c[_0x2df8e0(0xba)](_0x4d031e,Error)&&(_0x4d031e=_0x131f9c[_0x2df8e0(0x136)](errorJSON,_0x4d031e)),{'title':_0x55ef42[_0x2df8e0(0x125)],'fullTitle':_0x55ef42[_0x2df8e0(0x14e)],'file':_0x55ef42[_0x2df8e0(0x9f)],'duration':_0x55ef42['duration'],'currentRetry':_0x55ef42[_0x2df8e0(0x17b)],'speed':_0x55ef42[_0x2df8e0(0x123)],'err':_0x131f9c['gBmAJ'](cleanCycles,_0x4d031e)};}function printStats(_0x505684,_0x335204='spec',_0x1b02ca={}){const _0x35c58e=a28_0x5b2abb,_0x7ec6d7={'kCfDa':function(_0x270b3d,_0x3d3a6d){return _0x270b3d(_0x3d3a6d);},'XPWsB':function(_0x38872c,_0x2d2fcb){return _0x38872c===_0x2d2fcb;},'jkwfI':_0x35c58e(0x115),'JBUCW':_0x35c58e(0x16c),'ARISd':function(_0x4720d2,_0x2dd871){return _0x4720d2(_0x2dd871);},'ybjJq':function(_0x29816e,_0x1d2486){return _0x29816e===_0x1d2486;},'fnWCx':_0x35c58e(0x111),'tUPNk':'failures','oOsdE':_0x35c58e(0xc0),'RrcoM':_0x35c58e(0xcd),'orWQn':function(_0x24feb9,_0x46781b){return _0x24feb9===_0x46781b;},'ltdkY':function(_0x438691,_0x50dd45){return _0x438691===_0x50dd45;},'ExDzW':function(_0x5c9199,_0x284275){return _0x5c9199*_0x284275;},'giQxN':function(_0x3d5c20,_0x1262e5,_0x4a3e51){return _0x3d5c20(_0x1262e5,_0x4a3e51);},'HEYqc':function(_0x313424,_0x130aed){return _0x313424>_0x130aed;},'GiVlZ':function(_0x34014b){return _0x34014b();},'cFYda':function(_0x53d474,_0x58a739){return _0x53d474===_0x58a739;},'CiGwS':_0x35c58e(0x147),'dabni':function(_0x498244,_0x5f426f){return _0x498244(_0x5f426f);},'DOzbf':_0x35c58e(0x112),'HZpMa':_0x35c58e(0x114),'JWZSv':function(_0xfdc99d,_0xea67a9){return _0xfdc99d+_0xea67a9;},'UYrYC':_0x35c58e(0x19f),'vQvlz':function(_0x56ce36,_0x23fcd){return _0x56ce36+_0x23fcd;},'wyLTw':_0x35c58e(0xf6),'dzpsa':function(_0x2398af,_0x17f91a){return _0x2398af+_0x17f91a;},'mhDes':function(_0x1b3ccb,_0x150348){return _0x1b3ccb+_0x150348;},'IoesA':function(_0x56f820,_0x381445){return _0x56f820+_0x381445;},'scMqG':_0x35c58e(0x1a2),'pMkkU':function(_0x393425,_0x4d0281){return _0x393425>_0x4d0281;},'agIxV':function(_0xcdb29,_0x48ff64){return _0xcdb29>_0x48ff64;},'YTjSm':function(_0x101ab7,_0x227288){return _0x101ab7+_0x227288;},'GeyCP':function(_0x4e0609,_0x3667b7){return _0x4e0609+_0x3667b7;},'XzquR':_0x35c58e(0xa1),'eUOvz':_0x35c58e(0x13f),'YjkbI':'Writing\x20json\x20result\x20to\x20file','VDTiu':_0x35c58e(0x198),'LWidr':_0x35c58e(0xa7),'Ucpon':function(_0x168f7d,_0x2b2c92){return _0x168f7d===_0x2b2c92;},'HSiPK':'xunit','IHXTR':'Mocha\x20Tests','ZmthS':function(_0x2e6d0d,_0x357e10){return _0x2e6d0d||_0x357e10;},'ShCtf':function(_0x3adcb8,_0x188b3d){return _0x3adcb8(_0x188b3d);},'grWMq':function(_0x1adcda,_0xfed001,_0x35bb61,_0x34fefe){return _0x1adcda(_0xfed001,_0x35bb61,_0x34fefe);},'dEKlq':_0x35c58e(0x9a),'pqCtn':function(_0x2fbe0d,_0x5a60b9){return _0x2fbe0d-_0x5a60b9;},'VUvgB':function(_0x115596,_0x35a960){return _0x115596/_0x35a960;},'GRksL':function(_0x17b666,_0x13cc34){return _0x17b666(_0x13cc34);},'AGYKC':_0x35c58e(0x19e),'PcYjc':_0x35c58e(0x14f),'SACHN':_0x35c58e(0x106),'gNrlM':_0x35c58e(0x176),'TlUsZ':function(_0x113f83,_0x48f814){return _0x113f83===_0x48f814;},'CtWwx':_0x35c58e(0x143),'nDAgF':_0x35c58e(0x199)};if(_0x7ec6d7['cFYda'](_0x335204,_0x7ec6d7['CiGwS']))return;const _0x1719ad=0x0,_0x2bd463=()=>{const _0x3a4662=_0x35c58e;return _0x7ec6d7[_0x3a4662(0xe7)](Array,_0x1719ad)[_0x3a4662(0x105)]('\x20\x20');},{testSuites:_0x1e09dd,platforms:_0x5d5816,totalTests:_0x20c3f9,testsFailed:_0x57e11b,testsPassed:_0x5511d8,testsPending:_0x2f5f81}=_0x7ec6d7[_0x35c58e(0xec)](getStats,_0x505684);_0x7ec6d7[_0x35c58e(0xd3)](_0x57e11b,0x0)&&(logger[_0x35c58e(0x101)](_0x7ec6d7[_0x35c58e(0xcb)]),process[_0x35c58e(0x16f)]=Math['min'](_0x57e11b,0xff));logger[_0x35c58e(0x101)](_0x7ec6d7[_0x35c58e(0x186)]);const _0x2b0164=''+_0x7ec6d7['JWZSv'](chalk['bold'](_0x7ec6d7[_0x35c58e(0x13b)]),_0x5d5816['length']),_0x8bc8fb=''+_0x7ec6d7[_0x35c58e(0xe8)](chalk[_0x35c58e(0x1a4)](_0x7ec6d7[_0x35c58e(0xb3)]),_0x1e09dd),_0x156683=''+_0x7ec6d7[_0x35c58e(0x15e)](_0x7ec6d7[_0x35c58e(0x145)](_0x7ec6d7['IoesA'](chalk[_0x35c58e(0x1a4)](_0x7ec6d7[_0x35c58e(0x129)]),_0x7ec6d7[_0x35c58e(0x126)](_0x57e11b,0x0)?chalk[_0x35c58e(0x1a4)][_0x35c58e(0x163)](_0x57e11b+_0x35c58e(0x19b))+',\x20':''),_0x7ec6d7[_0x35c58e(0x187)](_0x2f5f81,0x0)?chalk[_0x35c58e(0x1a4)][_0x35c58e(0x11b)](_0x2f5f81+_0x35c58e(0xc7))+',\x20':''),_0x7ec6d7[_0x35c58e(0x187)](_0x5511d8,0x0)?chalk[_0x35c58e(0x1a4)][_0x35c58e(0xd4)](_0x5511d8+_0x35c58e(0x113))+',\x20':'')+_0x20c3f9+'\x20total';console[_0x35c58e(0x140)](_0x7ec6d7[_0x35c58e(0xe8)](_0x7ec6d7[_0x35c58e(0x145)](_0x7ec6d7[_0x35c58e(0x9b)](_0x7ec6d7['GeyCP'](_0x7ec6d7[_0x35c58e(0x145)](_0x7ec6d7[_0x35c58e(0xc8)],_0x2b0164),'\x0a'),_0x8bc8fb),'\x0a'),_0x156683));if(_0x7ec6d7[_0x35c58e(0xac)](_0x335204,_0x7ec6d7[_0x35c58e(0x168)])){const _0xdeee4f={},_0x53a64f={};_0x53a64f[_0x35c58e(0x18c)]=_0x1e09dd,_0x53a64f[_0x35c58e(0x154)]=_0x5d5816,_0x53a64f['testsFailed']=_0x57e11b,_0x53a64f[_0x35c58e(0x139)]=_0x5511d8,_0x53a64f[_0x35c58e(0xd8)]=_0x2f5f81,_0xdeee4f[_0x35c58e(0x18a)]=_0x53a64f,_0x5d5816[_0x35c58e(0x157)](_0x3f4106=>{const _0xe6e6bc=_0x35c58e;_0xdeee4f[_0x3f4106]={'pending':[],'failures':[],'passes':[],'tests':_0x505684[_0x3f4106][_0x7ec6d7['RrcoM']][_0xe6e6bc(0x155)](clean)},_0x505684[_0x3f4106][_0x7ec6d7['RrcoM']][_0xe6e6bc(0x157)](_0x25a0d=>{const _0xba43ec=_0xe6e6bc;if(_0x7ec6d7['XPWsB'](_0x25a0d[_0xba43ec(0x177)],_0x7ec6d7[_0xba43ec(0xd2)]))_0xdeee4f[_0x3f4106][_0x7ec6d7[_0xba43ec(0xa2)]][_0xba43ec(0x118)](_0x7ec6d7[_0xba43ec(0x18e)](clean,_0x25a0d));else _0x7ec6d7[_0xba43ec(0xce)](_0x25a0d[_0xba43ec(0x177)],_0x7ec6d7['fnWCx'])?_0xdeee4f[_0x3f4106][_0x7ec6d7[_0xba43ec(0xbf)]][_0xba43ec(0x118)](_0x7ec6d7[_0xba43ec(0x18e)](clean,_0x25a0d)):_0xdeee4f[_0x3f4106][_0x7ec6d7[_0xba43ec(0x9c)]][_0xba43ec(0x118)](_0x7ec6d7[_0xba43ec(0x18e)](clean,_0x25a0d));});});if(_0x1b02ca[_0x35c58e(0x19a)])try{logger[_0x35c58e(0x101)](_0x7ec6d7[_0x35c58e(0x10d)],_0x1b02ca[_0x35c58e(0x19a)]),fs[_0x35c58e(0xc1)](_0x1b02ca[_0x35c58e(0x19a)],JSON[_0x35c58e(0xc6)](_0xdeee4f,null,0x3));}catch(_0x2cd8f2){logger[_0x35c58e(0xfe)](_0x7ec6d7['VDTiu'],_0x1b02ca[_0x35c58e(0x19a)]),logger['debug'](_0x2cd8f2);}else logger[_0x35c58e(0x101)](_0x7ec6d7[_0x35c58e(0x15d)]),console[_0x35c58e(0x140)](JSON[_0x35c58e(0xc6)](_0xdeee4f,null,0x3));}else{if(_0x7ec6d7[_0x35c58e(0x175)](_0x335204,_0x7ec6d7['HSiPK'])){let _0x51f86d;const _0x146b2f=_0x7ec6d7[_0x35c58e(0xe1)];_0x1b02ca&&(_0x51f86d=_0x1b02ca[_0x35c58e(0xd0)]);_0x51f86d=_0x7ec6d7[_0x35c58e(0x17a)](_0x51f86d,_0x146b2f);let _0x44945b=0x0,_0x4020e3=0x0,_0x34eae0=0x0,_0x30d808=0x0;_0x5d5816[_0x35c58e(0x157)](_0x2eea46=>{const _0x280684=_0x35c58e;_0x505684[_0x2eea46][_0x7ec6d7['RrcoM']][_0x280684(0x157)](_0x38c549=>{const _0xc12a09=_0x280684;if(_0x7ec6d7[_0xc12a09(0xac)](_0x38c549['state'],_0x7ec6d7['jkwfI']))_0x44945b++;else _0x7ec6d7[_0xc12a09(0xef)](_0x38c549[_0xc12a09(0x177)],_0x7ec6d7['fnWCx'])&&_0x4020e3++;_0x34eae0++,_0x30d808+=_0x7ec6d7[_0xc12a09(0x148)](_0x38c549[_0xc12a09(0xe5)],0x1);});}),_0x7ec6d7[_0x35c58e(0xe4)](xunitWrite,_0x7ec6d7['grWMq'](tag,_0x7ec6d7['dEKlq'],{'name':_0x51f86d,'tests':_0x34eae0,'failures':0x0,'errors':_0x4020e3,'skipped':_0x7ec6d7[_0x35c58e(0x17f)](_0x7ec6d7[_0x35c58e(0x17f)](_0x34eae0,_0x4020e3),_0x44945b),'timestamp':new Date()['toUTCString'](),'time':_0x7ec6d7[_0x35c58e(0x18f)](_0x30d808,0x3e8)||0x0},![])),_0x5d5816[_0x35c58e(0x157)](_0x5ca703=>{const _0x4c3fe3=_0x35c58e,_0x2515c5={'gclvH':function(_0x1ca792,_0x56194d,_0x3d1c3a){const _0x7a1b73=a28_0xb60d;return _0x7ec6d7[_0x7a1b73(0xa5)](_0x1ca792,_0x56194d,_0x3d1c3a);}};_0x505684[_0x5ca703][_0x7ec6d7[_0x4c3fe3(0x135)]][_0x4c3fe3(0x157)](_0x24aa01=>{const _0xd22be9=_0x4c3fe3;_0x2515c5[_0xd22be9(0x169)](xunitTest,_0x24aa01,_0x5ca703);});}),_0x7ec6d7[_0x35c58e(0x133)](xunitWrite,_0x7ec6d7[_0x35c58e(0xb1)]);if(_0x1b02ca['output'])try{logger['debug'](_0x7ec6d7[_0x35c58e(0x192)],_0x1b02ca[_0x35c58e(0x19a)]),fs[_0x35c58e(0xc1)](_0x1b02ca[_0x35c58e(0x19a)],xunitContent);}catch(_0x464e8e){logger[_0x35c58e(0xfe)](_0x7ec6d7[_0x35c58e(0xb6)],_0x1b02ca[_0x35c58e(0x19a)]),logger[_0x35c58e(0x101)](_0x464e8e);}else logger[_0x35c58e(0x101)](_0x7ec6d7['gNrlM']),console[_0x35c58e(0x140)](xunitContent);}else{if(_0x7ec6d7[_0x35c58e(0x156)](_0x57e11b,0x0))return;console[_0x35c58e(0x140)](),logger[_0x35c58e(0x101)](_0x7ec6d7[_0x35c58e(0xa8)]),console[_0x35c58e(0x140)](chalk[_0x35c58e(0x1a4)][_0x35c58e(0x193)](_0x7ec6d7['nDAgF'])),_0x5d5816[_0x35c58e(0x157)](_0x1cef1a=>{const _0x2fc9a7=_0x35c58e,_0x54be1d=[];_0x505684[_0x1cef1a][_0x7ec6d7[_0x2fc9a7(0x135)]][_0x2fc9a7(0x157)](_0x2f1f56=>{const _0x34c71a=_0x2fc9a7;_0x7ec6d7[_0x34c71a(0xef)](_0x2f1f56[_0x34c71a(0x177)],_0x7ec6d7[_0x34c71a(0x160)])&&(_0x2f1f56[_0x34c71a(0x19c)]=()=>_0x2f1f56[_0x34c71a(0x170)],_0x54be1d[_0x34c71a(0x118)](_0x2f1f56));}),_0x7ec6d7['HEYqc'](_0x54be1d[_0x2fc9a7(0x17c)],0x0)&&(Base[_0x2fc9a7(0x144)](),Base['consoleLog'](_0x7ec6d7[_0x2fc9a7(0xfa)](_0x2bd463),chalk[_0x2fc9a7(0x1a4)][_0x2fc9a7(0x15c)](_0x1cef1a)),Base[_0x2fc9a7(0xf7)](_0x54be1d));});}}}function a28_0xb60d(_0x161081,_0x10869a){const _0x578190=a28_0x5781();return a28_0xb60d=function(_0xb60dde,_0x1a5403){_0xb60dde=_0xb60dde-0x97;let _0x31d52f=_0x578190[_0xb60dde];return _0x31d52f;},a28_0xb60d(_0x161081,_0x10869a);}async function run(_0x1cebac,_0x2520d8,_0xd7f8d2){const _0x4d9524=a28_0x5b2abb,_0x5671d5={'AvuzO':function(_0x3fffa3,_0x32183c,_0x53b727,_0x2bd036){return _0x3fffa3(_0x32183c,_0x53b727,_0x2bd036);},'sxpjm':'reporter-option','gWzCo':'error\x20removing\x20tcg\x20config\x20file','jluZF':_0x4d9524(0x146),'cjKZH':_0x4d9524(0xed),'iWBCV':function(_0x51b6c1,_0x45a056){return _0x51b6c1!=_0x45a056;},'CTEjJ':'cjs','QRMPj':_0x4d9524(0x11d),'TENfM':_0x4d9524(0xc2),'xXLEF':_0x4d9524(0x14b),'EgzXH':function(_0x4aacd6,_0xb88766){return _0x4aacd6(_0xb88766);},'eIEHI':function(_0x5f389d,_0xd01f3,_0x28797d){return _0x5f389d(_0xd01f3,_0x28797d);},'aTWsd':_0x4d9524(0x165),'mEVvo':'Running\x20your\x20mocha\x20tests','fIEYQ':'Now,\x20showing\x20logs\x20from\x20mocha','VbEhi':function(_0x1e0c3b,_0x1b3123,_0x214db6,_0x254bfe){return _0x1e0c3b(_0x1b3123,_0x214db6,_0x254bfe);},'CbOhZ':function(_0x159d37,_0x103194){return _0x159d37*_0x103194;},'VjeTK':function(_0x416169,_0x484328){return _0x416169(_0x484328);},'JSMJd':function(_0x4e3342,_0x2e7c5a){return _0x4e3342!==_0x2e7c5a;}};helper[_0x4d9524(0xd9)](_0xd7f8d2[_0x4d9524(0xaa)],_0x1cebac);helper[_0x4d9524(0xfd)]()?(await _0xd7f8d2[_0x4d9524(0xbd)](_0x1cebac),await helper[_0x4d9524(0xf9)](_0xd7f8d2[_0x4d9524(0xdb)])):await _0xd7f8d2[_0x4d9524(0x16a)]();const _0x483758=[];let _0x5b6137=[];if(!_0xd7f8d2[_0x4d9524(0xdb)])return;!helper[_0x4d9524(0xa0)](_0xd7f8d2[_0x4d9524(0xdb)][_0x4d9524(0xf0)])&&(process[_0x4d9524(0x14c)][_0x4d9524(0x12d)]=JSON['stringify'](_0xd7f8d2[_0x4d9524(0xdb)]['accessibilityOptions']));const _0x21974c=await TestHubHandler[_0x4d9524(0x12a)](FRAMEWORKS[_0x4d9524(0xda)],_0xd7f8d2);_0x5671d5[_0x4d9524(0xad)](_0xd7f8d2[_0x4d9524(0xdb)][_0x4d9524(0xb5)],null)&&(process['env'][_0x4d9524(0xbc)]=_0xd7f8d2[_0x4d9524(0xdb)]['testObservability']);!helper['isUndefined'](_0xd7f8d2[_0x4d9524(0xdb)]['accessibility'])&&(process['env'][_0x4d9524(0x179)]=_0xd7f8d2['config'][_0x4d9524(0xf2)]);const {extension:extension=['js',_0x5671d5[_0x4d9524(0x100)],_0x5671d5[_0x4d9524(0x196)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x5671d5[_0x4d9524(0xdf)]]}=_0x1cebac,_0x349904={..._0x1cebac};_0x349904[_0x4d9524(0xf4)]=null;const _0x3f068b=_0x349904;let _0x55e485;if(testOpsHelper[_0x4d9524(0x15a)]()&&testOpsHelper[_0x4d9524(0x159)]()){let _0x9690b=process[_0x4d9524(0x14c)][_0x4d9524(0x12e)];!helper[_0x4d9524(0xa0)](_0xd7f8d2[_0x4d9524(0xee)])&&_0xd7f8d2[_0x4d9524(0xee)]['has'](_0x5671d5[_0x4d9524(0x10b)])&&(_0x9690b=_0xd7f8d2[_0x4d9524(0xee)]['get'](_0x5671d5[_0x4d9524(0x10b)])),_0x55e485=testOpsHelper['parseFileNames'](_0x9690b);}if(helper[_0x4d9524(0xa0)](_0x55e485)){const _0x274f17={};_0x274f17[_0x4d9524(0x116)]=ignore,_0x274f17[_0x4d9524(0xc9)]=extension,_0x274f17['file']=file,_0x274f17[_0x4d9524(0x18d)]=recursive,_0x274f17[_0x4d9524(0xd6)]=sort,_0x274f17[_0x4d9524(0xfb)]=spec,_0x55e485=_0x5671d5[_0x4d9524(0x11a)](collectFiles,_0x274f17),_0x5671d5[_0x4d9524(0x15f)](nestedKeyValue,_0x55e485,[_0x5671d5[_0x4d9524(0xb8)]])&&(_0x55e485=_0x55e485[_0x4d9524(0x165)]);}const _0x5c4443=helper[_0x4d9524(0x181)](_0xd7f8d2['config']);!helper[_0x4d9524(0x10f)](_0x5c4443)&&helper[_0x4d9524(0x16b)](_0x5c4443[_0x4d9524(0x149)])&&(_0x3f068b[_0x4d9524(0x127)]=_0x5c4443[_0x4d9524(0x149)][_0x4d9524(0xe2)]);if(!helper[_0x4d9524(0xfd)]()){const _0xc6537f=0x1,_0x293f62={..._0x3f068b};_0x293f62[_0x4d9524(0xfb)]=[..._0x55e485],_0x483758[_0x4d9524(0x118)]({'mochaOpts':_0x293f62,'configuration':{'platform':os[_0x4d9524(0x10e)]()}}),logger[_0x4d9524(0x98)](_0x5671d5[_0x4d9524(0x1a5)]),logger[_0x4d9524(0x98)](_0x5671d5[_0x4d9524(0xb0)]),_0x5671d5[_0x4d9524(0x13e)](parallelTestRun,_0x483758,_0xc6537f,_0xd7f8d2)[_0x4d9524(0x171)](_0x3534ab=>{const _0x50e1d7=_0x4d9524;PerformanceTester[_0x50e1d7(0x99)](PerformanceEvents[_0x50e1d7(0xdd)]),_0x5671d5[_0x50e1d7(0xb4)](printStats,_0x3534ab,_0x1cebac[_0x50e1d7(0x16d)],_0x1cebac[_0x50e1d7(0x121)]||_0x1cebac[_0x5671d5['sxpjm']]);})[_0x4d9524(0x18b)](()=>{const _0x4e8471=_0x4d9524;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0x5d7597,tcgConfigPath:_0x1e0d11}=helper['getTCGConfigFilePaths']();fs[_0x4e8471(0xeb)](_0x1e0d11),fs[_0x4e8471(0x13a)](_0x5d7597);}catch(_0x3736c7){logger['debug'](_0x5671d5[_0x4e8471(0x13c)],_0x3736c7);}try{utilities[_0x4e8471(0x150)](_0x5671d5[_0x4e8471(0xa9)],{},_0xd7f8d2[_0x4e8471(0xdb)],_0xd7f8d2[_0x4e8471(0xaa)]);}catch(_0x5d6210){logger[_0x4e8471(0x101)](_0x4e8471(0x141)+_0x5d6210[_0x4e8471(0x107)]);}try{helper[_0x4e8471(0x120)]();}catch(_0x28786d){logger[_0x4e8471(0x101)](_0x4e8471(0x11e)+_0x28786d);}testOpsHelper[_0x4e8471(0x172)]();});}else{const _0x1f2278=helper['useW3C'](_0xd7f8d2[_0x4d9524(0xdb)]);let _0x49733e=helper[_0x4d9524(0x110)](_0xd7f8d2['config']);_0x5b6137=helper[_0x4d9524(0x11f)](_0xd7f8d2[_0x4d9524(0xdb)],_0x1f2278,constants[_0x4d9524(0x184)][_0x4d9524(0xda)]);helper[_0x4d9524(0x142)]()[_0x4d9524(0x16e)]&&(_0x49733e=centralScannerConstants[_0x4d9524(0xe6)]);let _0x1fe4fc;const _0x438636=_0xd7f8d2['config'][_0x4d9524(0x182)]||helper[_0x4d9524(0x9d)](_0x1cebac,_0x2520d8,_0xd7f8d2[_0x4d9524(0xdb)],constants[_0x4d9524(0x184)]['MOCHA'])||0x1;helper[_0x4d9524(0x162)](_0xd7f8d2[_0x4d9524(0xdb)])?_0x1fe4fc=_0x5671d5[_0x4d9524(0xae)](_0xd7f8d2[_0x4d9524(0xdb)][_0x4d9524(0x154)][_0x4d9524(0x17c)],_0x438636):_0x1fe4fc=_0x438636;const _0x49837d=_0x5671d5[_0x4d9524(0xde)](getPercyOptions,_0xd7f8d2['config']);if(_0x5671d5[_0x4d9524(0x166)](_0xd7f8d2[_0x4d9524(0xdb)][_0x4d9524(0x182)],0x1))_0x55e485[_0x4d9524(0x157)](_0x352418=>{const _0x136ea3=_0x4d9524,_0x201f4b=[];_0x5b6137[_0x136ea3(0x157)]((_0x4b87f0,_0x356ad9)=>{const _0x500ffa=_0x136ea3,_0x58342a={};_0x58342a[_0x500ffa(0xfb)]=[_0x352418],_0x201f4b[_0x500ffa(0x118)]({'mochaOpts':Object[_0x500ffa(0x104)]({},_0x3f068b,_0x58342a),'configuration':{'server':_0x49733e,'capability':_0x4b87f0,'proxySettings':_0xd7f8d2['config']['proxySettings'],'platform':helper[_0x500ffa(0x132)](_0x4b87f0),'browserStackLogLevel':_0xd7f8d2[_0x500ffa(0xdb)][_0x500ffa(0xff)],'platformIndex':_0x356ad9,'browserStackPercyOptions':_0x49837d,'platformCaps':Object[_0x500ffa(0x104)]({'index':_0x356ad9},_0xd7f8d2[_0x500ffa(0xdb)][_0x500ffa(0x154)][_0x356ad9])}});}),_0x483758[_0x136ea3(0x118)](..._0x201f4b);});else{const _0x542551=[];_0x5b6137[_0x4d9524(0x157)]((_0x367acb,_0x3e56c4)=>{const _0x146b45=_0x4d9524;let _0x25af5e=Object[_0x146b45(0x104)]({},_0x3f068b);testOpsHelper[_0x146b45(0x15a)]()&&testOpsHelper['shouldReRunObservabilityTests']()&&(_0x25af5e={..._0x25af5e,'spec':[..._0x55e485]}),_0x542551[_0x146b45(0x118)]({'mochaOpts':_0x25af5e,'configuration':{'server':_0x49733e,'capability':_0x367acb,'proxySettings':_0xd7f8d2[_0x146b45(0xdb)][_0x146b45(0x109)],'platform':helper[_0x146b45(0x132)](_0x367acb),'browserStackLogLevel':_0xd7f8d2[_0x146b45(0xdb)]['logLevel'],'platformIndex':_0x3e56c4,'browserStackPercyOptions':_0x49837d,'platformCaps':Object[_0x146b45(0x104)]({'index':_0x3e56c4},_0xd7f8d2['config'][_0x146b45(0x154)][_0x3e56c4])}});}),_0x483758[_0x4d9524(0x118)](..._0x542551);}logger[_0x4d9524(0x98)](_0x4d9524(0x153)+_0xd7f8d2[_0x4d9524(0xdb)][_0x4d9524(0x154)][_0x4d9524(0x17c)]+_0x4d9524(0xa4)),logger[_0x4d9524(0x98)](_0x5671d5[_0x4d9524(0xb0)]);let _0xaa0fec;_0x5671d5[_0x4d9524(0xb4)](parallelTestRun,_0x483758,_0x1fe4fc,_0xd7f8d2)[_0x4d9524(0x171)](_0x37bea4=>{const _0x3b876e=_0x4d9524;PerformanceTester[_0x3b876e(0x99)](PerformanceEvents[_0x3b876e(0xdd)]),_0xaa0fec=_0x37bea4,_0x5671d5[_0x3b876e(0xb4)](printStats,_0x37bea4,_0x1cebac['reporter'],_0x1cebac['reporterOptions']||_0x1cebac[_0x5671d5[_0x3b876e(0x191)]]);})[_0x4d9524(0x18b)](async()=>{const _0x1c884b=_0x4d9524;PerformanceTester[_0x1c884b(0x99)](PerformanceEvents[_0x1c884b(0xdd)]),_0xd7f8d2[_0x1c884b(0x102)]=helper['getErrorMessageFromResults'](_0xaa0fec,_0x5671d5[_0x1c884b(0x167)]),await utilities['finalExecution'](_0xd7f8d2),testOpsHelper['printBuildLink']();});}}module['exports']=run;