#!/usr/bin/env node
'use strict';const a32_0x20a4a5=a32_0x28c9;(function(_0x5a418c,_0x3169b6){const _0xa2f6cc=a32_0x28c9,_0x19f0f2=_0x5a418c();while(!![]){try{const _0x128b40=parseInt(_0xa2f6cc(0x22d))/0x1+-parseInt(_0xa2f6cc(0x21d))/0x2*(parseInt(_0xa2f6cc(0x236))/0x3)+parseInt(_0xa2f6cc(0x214))/0x4*(parseInt(_0xa2f6cc(0x221))/0x5)+parseInt(_0xa2f6cc(0x2a2))/0x6+parseInt(_0xa2f6cc(0x2c9))/0x7*(parseInt(_0xa2f6cc(0x1f5))/0x8)+-parseInt(_0xa2f6cc(0x1fc))/0x9*(-parseInt(_0xa2f6cc(0x250))/0xa)+-parseInt(_0xa2f6cc(0x28e))/0xb;if(_0x128b40===_0x3169b6)break;else _0x19f0f2['push'](_0x19f0f2['shift']());}catch(_0x44ab94){_0x19f0f2['push'](_0x19f0f2['shift']());}}}(a32_0x21f9,0x4c916));const chalk=require(a32_0x20a4a5(0x24d)),logger=require(a32_0x20a4a5(0x232))['winstonLogger'],helper=require(a32_0x20a4a5(0x298)),utilities=require(a32_0x20a4a5(0x283)),testOpsHelper=require('../../helpers/test-observability/utils'),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a32_0x20a4a5(0x1e5)),{requireModule,nestedKeyValue}=require(a32_0x20a4a5(0x298)),{getPercyOptions}=require('../../helpers/percy/utils'),Base=requireModule(a32_0x20a4a5(0x241),a32_0x20a4a5(0x1f4)),collectFiles=requireModule(a32_0x20a4a5(0x268),a32_0x20a4a5(0x1f4)),constants=require('../utils/constants'),PerformanceTester=require(a32_0x20a4a5(0x2b7)),PerformanceEvents=require(a32_0x20a4a5(0x1e1))['EVENTS'],centralScannerConstants=require(a32_0x20a4a5(0x2be)),{FRAMEWORKS}=require(a32_0x20a4a5(0x2cf)),TestHubHandler=require(a32_0x20a4a5(0x1e2)),ClientTroubleShootingService=require(a32_0x20a4a5(0x269));function tag(_0x3839f0,_0x3b1574,_0x16f01a,_0x381df4){const _0x91e67e=a32_0x20a4a5,_0x1709de={'exzIh':function(_0xe22ce7,_0x157ed6){return _0xe22ce7+_0x157ed6;},'KCYmr':function(_0x27dbfd,_0x299d25){return _0x27dbfd+_0x299d25;},'otSer':function(_0x3154e5,_0x59ee92){return _0x3154e5+_0x59ee92;},'YNRpE':function(_0x5abc7a,_0x5159cb){return _0x5abc7a(_0x5159cb);},'AkNme':function(_0x1b79d2,_0x649a2a){return _0x1b79d2+_0x649a2a;},'ciAFr':function(_0x2431ca,_0x338966){return _0x2431ca+_0x338966;},'kkonO':function(_0x1931b0,_0x118849){return _0x1931b0+_0x118849;},'dNTWB':function(_0x29df84,_0x3a3f03){return _0x29df84+_0x3a3f03;},'YFTYX':function(_0x1b943a,_0x3a9b4e){return _0x1b943a+_0x3a9b4e;},'yKHwO':function(_0x55ad08,_0x5e2714){return _0x55ad08+_0x5e2714;}},_0x402429=_0x16f01a?'/>':'>',_0x210ed4=[];let _0x2f3a8a;for(const _0x363a21 in _0x3b1574){Object[_0x91e67e(0x226)][_0x91e67e(0x2da)][_0x91e67e(0x294)](_0x3b1574,_0x363a21)&&_0x210ed4[_0x91e67e(0x256)](_0x1709de[_0x91e67e(0x271)](_0x1709de['KCYmr'](_0x1709de['otSer'](_0x363a21,'=\x22'),_0x1709de['YNRpE'](escape,_0x3b1574[_0x363a21])),'\x22'));}return _0x2f3a8a=_0x1709de[_0x91e67e(0x26a)](_0x1709de['ciAFr'](_0x1709de[_0x91e67e(0x26a)]('<',_0x3839f0),_0x210ed4[_0x91e67e(0x273)]?_0x1709de[_0x91e67e(0x2d4)]('\x20',_0x210ed4['join']('\x20')):''),_0x402429),_0x381df4&&(_0x2f3a8a+=_0x1709de[_0x91e67e(0x29d)](_0x1709de['YFTYX'](_0x1709de['yKHwO'](_0x381df4,'</'),_0x3839f0),_0x402429)),_0x2f3a8a;}function a32_0x28c9(_0x1d179d,_0x5bbd20){const _0x21f911=a32_0x21f9();return a32_0x28c9=function(_0x28c9c4,_0x34d550){_0x28c9c4=_0x28c9c4-0x1df;let _0x3adee2=_0x21f911[_0x28c9c4];return _0x3adee2;},a32_0x28c9(_0x1d179d,_0x5bbd20);}let xunitContent='';function xunitWrite(_0x27e408){xunitContent+=_0x27e408;}function xunitTest(_0x5c14b2,_0x166a62){const _0x4effdc=a32_0x20a4a5,_0x3f9792={'CbSSp':function(_0x48f485,_0x1480ae){return _0x48f485/_0x1480ae;},'bDpZj':function(_0x42bea5,_0x2fadd9){return _0x42bea5===_0x2fadd9;},'ltdOr':'failed','mURBs':function(_0x2b65cb,_0x2172d7){return _0x2b65cb+_0x2172d7;},'ISpTo':function(_0x4af2ba,_0x2cbb7a){return _0x4af2ba(_0x2cbb7a);},'HQLHj':function(_0x448845,_0xadcb50,_0x49715c,_0x12baee,_0x5728dc){return _0x448845(_0xadcb50,_0x49715c,_0x12baee,_0x5728dc);},'AgqXh':'testcase','VDmvC':function(_0x4af61d,_0x577d6b,_0x5afb44,_0x46531c,_0x4a795b){return _0x4af61d(_0x577d6b,_0x5afb44,_0x46531c,_0x4a795b);},'VwGZa':_0x4effdc(0x213),'AzTgu':function(_0x448024,_0x3b2d49){return _0x448024+_0x3b2d49;},'odUFU':function(_0x192d94,_0x2a76ee){return _0x192d94(_0x2a76ee);},'xsnkM':function(_0x2731d5,_0x58604e,_0x394912,_0x2f624a,_0x4c1039){return _0x2731d5(_0x58604e,_0x394912,_0x2f624a,_0x4c1039);},'nHhKi':function(_0x26ed43,_0x39457e,_0x193412,_0x168679){return _0x26ed43(_0x39457e,_0x193412,_0x168679);},'XzHrT':_0x4effdc(0x235)};Base['useColors']=![];var _0x7c3094={'classname':_0x5c14b2[_0x4effdc(0x254)],'name':_0x5c14b2[_0x4effdc(0x2c7)],'time':_0x3f9792[_0x4effdc(0x223)](_0x5c14b2['duration'],0x3e8)||0x0,'platform':_0x166a62};if(_0x3f9792[_0x4effdc(0x290)](_0x5c14b2[_0x4effdc(0x1e0)],_0x3f9792[_0x4effdc(0x284)])){var _0x38cca2=_0x5c14b2['err'],_0x21126e=!Base[_0x4effdc(0x1fb)]&&Base['showDiff'](_0x38cca2)?_0x3f9792[_0x4effdc(0x218)]('\x0a',Base[_0x4effdc(0x296)](_0x38cca2['actual'],_0x38cca2[_0x4effdc(0x243)])):'';_0x3f9792[_0x4effdc(0x22b)](xunitWrite,_0x3f9792[_0x4effdc(0x258)](tag,_0x3f9792[_0x4effdc(0x2c6)],_0x7c3094,![],_0x3f9792[_0x4effdc(0x25f)](tag,_0x3f9792['VwGZa'],{},![],_0x3f9792[_0x4effdc(0x2a4)](_0x3f9792[_0x4effdc(0x218)](_0x3f9792[_0x4effdc(0x218)](_0x3f9792['ISpTo'](escape,_0x38cca2[_0x4effdc(0x274)]),_0x3f9792[_0x4effdc(0x22b)](escape,_0x21126e)),'\x0a'),_0x3f9792[_0x4effdc(0x202)](escape,_0x38cca2[_0x4effdc(0x208)])))));}else _0x5c14b2[_0x4effdc(0x2af)]?_0x3f9792[_0x4effdc(0x202)](xunitWrite,_0x3f9792[_0x4effdc(0x1e9)](tag,_0x3f9792[_0x4effdc(0x2c6)],_0x7c3094,![],_0x3f9792[_0x4effdc(0x286)](tag,_0x3f9792['XzHrT'],{},!![]))):_0x3f9792[_0x4effdc(0x22b)](xunitWrite,_0x3f9792[_0x4effdc(0x286)](tag,_0x3f9792['AgqXh'],_0x7c3094,!![]));};function getStats(_0x3d2680){const _0x4bde69=a32_0x20a4a5,_0x521247={};_0x521247['soZZB']=_0x4bde69(0x1ef),_0x521247['gWfZo']=_0x4bde69(0x255),_0x521247['NGmRt']=_0x4bde69(0x2bc),_0x521247[_0x4bde69(0x291)]=_0x4bde69(0x27d);const _0x140256=_0x521247,_0x138275=Object['keys'](_0x3d2680);let _0x7266fc=0x0,_0x3f4712=0x0,_0x3d233c=0x0,_0x5e2ec9=0x0;const _0x7f48e5=new Set();_0x138275[_0x4bde69(0x262)](_0x55de90=>{const _0x1b75a3=_0x4bde69,_0x59ca0d={};_0x59ca0d[_0x1b75a3(0x2c3)]=_0x140256['soZZB'],_0x59ca0d[_0x1b75a3(0x2d0)]=_0x140256[_0x1b75a3(0x2c8)],_0x59ca0d[_0x1b75a3(0x227)]=_0x140256[_0x1b75a3(0x28b)];const _0xa86c42=_0x59ca0d;_0x3d2680[_0x55de90][_0x140256['eLEVB']][_0x1b75a3(0x262)](_0x1a6d4c=>{const _0x374338=_0x1b75a3;_0x7f48e5[_0x374338(0x24b)](_0x1a6d4c[_0xa86c42['isbmf']]),_0x7266fc++;switch(_0x1a6d4c[_0x374338(0x1e0)]){case _0xa86c42[_0x374338(0x2d0)]:_0x3d233c++;break;case _0xa86c42[_0x374338(0x227)]:_0x3f4712++;break;default:_0x5e2ec9++;}});});const _0x1b4dd7={};return _0x1b4dd7[_0x4bde69(0x27e)]=_0x7f48e5['size'],_0x1b4dd7['platforms']=_0x138275,_0x1b4dd7[_0x4bde69(0x2b3)]=_0x7266fc,_0x1b4dd7['testsFailed']=_0x3f4712,_0x1b4dd7['testsPassed']=_0x3d233c,_0x1b4dd7[_0x4bde69(0x1f8)]=_0x5e2ec9,_0x1b4dd7;}function errorJSON(_0x67f770){var _0x3935bd={};return Object['getOwnPropertyNames'](_0x67f770)['forEach'](function(_0x42e253){_0x3935bd[_0x42e253]=_0x67f770[_0x42e253];},_0x67f770),_0x3935bd;}function cleanCycles(_0x37a481){const _0x31d037=a32_0x20a4a5,_0x2e7e84={};_0x2e7e84[_0x31d037(0x211)]=function(_0xd1d3a4,_0x3b1998){return _0xd1d3a4===_0x3b1998;},_0x2e7e84[_0x31d037(0x21a)]=_0x31d037(0x23a),_0x2e7e84[_0x31d037(0x277)]=function(_0x444d81,_0x51eb8a){return _0x444d81!==_0x51eb8a;},_0x2e7e84[_0x31d037(0x24a)]=function(_0x4b89a9,_0xcd9c76){return _0x4b89a9!==_0xcd9c76;},_0x2e7e84[_0x31d037(0x23e)]=function(_0x4cba7,_0x171340){return _0x4cba7+_0x171340;};const _0x25dfdf=_0x2e7e84;var _0x24946b=[];return JSON[_0x31d037(0x2b9)](JSON[_0x31d037(0x24f)](_0x37a481,function(_0x523b19,_0x2d0bfd){const _0x399e90=_0x31d037;if(_0x25dfdf[_0x399e90(0x211)](typeof _0x2d0bfd,_0x25dfdf[_0x399e90(0x21a)])&&_0x25dfdf[_0x399e90(0x277)](_0x2d0bfd,null)){if(_0x25dfdf[_0x399e90(0x24a)](_0x24946b[_0x399e90(0x219)](_0x2d0bfd),-0x1))return _0x25dfdf[_0x399e90(0x23e)]('',_0x2d0bfd);_0x24946b[_0x399e90(0x256)](_0x2d0bfd);}return _0x2d0bfd;}));}function clean(_0x31bbad){const _0x2ba9a5=a32_0x20a4a5,_0x5e0f14={'UepCc':function(_0xd21659,_0x27e923){return _0xd21659 instanceof _0x27e923;},'RlKuZ':function(_0x337e16,_0x4fd93e){return _0x337e16(_0x4fd93e);},'OuPRn':function(_0x5a854a,_0x326451){return _0x5a854a(_0x326451);}};var _0x5bcaed=_0x31bbad['err']||{};return _0x5e0f14[_0x2ba9a5(0x20a)](_0x5bcaed,Error)&&(_0x5bcaed=_0x5e0f14[_0x2ba9a5(0x295)](errorJSON,_0x5bcaed)),{'title':_0x31bbad[_0x2ba9a5(0x2c7)],'fullTitle':_0x31bbad[_0x2ba9a5(0x254)],'file':_0x31bbad[_0x2ba9a5(0x2bd)],'duration':_0x31bbad[_0x2ba9a5(0x1e4)],'currentRetry':_0x31bbad[_0x2ba9a5(0x244)],'speed':_0x31bbad[_0x2ba9a5(0x2c2)],'err':_0x5e0f14[_0x2ba9a5(0x257)](cleanCycles,_0x5bcaed)};}function printStats(_0x5207b8,_0x4fad56=a32_0x20a4a5(0x216),_0x4a8a69={}){const _0x4be2c3=a32_0x20a4a5,_0x126270={'SQNkW':function(_0x35a77e,_0x463fa6){return _0x35a77e(_0x463fa6);},'toBdK':function(_0x2ef13e,_0x18d811){return _0x2ef13e===_0x18d811;},'RXJlt':_0x4be2c3(0x255),'DZPsd':_0x4be2c3(0x28c),'kNqdK':function(_0x31b3d5,_0x24d881){return _0x31b3d5===_0x24d881;},'owjwJ':_0x4be2c3(0x2bc),'zUknW':_0x4be2c3(0x22c),'uxbEX':function(_0x598690,_0x109763){return _0x598690(_0x109763);},'ATWeU':_0x4be2c3(0x27b),'siypN':function(_0x1a56be,_0x7ddba0){return _0x1a56be(_0x7ddba0);},'MyFhH':_0x4be2c3(0x27d),'AieUV':function(_0xf54de3,_0x900556){return _0xf54de3*_0x900556;},'TFmAT':function(_0x2a7aad,_0x2f766b,_0x4c96f4){return _0x2a7aad(_0x2f766b,_0x4c96f4);},'NLtjB':function(_0x12c1e9,_0x58d702){return _0x12c1e9>_0x58d702;},'NlUdl':function(_0x2f4f73){return _0x2f4f73();},'TcKlP':function(_0x439d95,_0x499776){return _0x439d95===_0x499776;},'SLQyP':_0x4be2c3(0x20f),'JdDXM':function(_0xbfc3f0,_0x57da20){return _0xbfc3f0(_0x57da20);},'yoxrc':function(_0x43aa58,_0x372db0){return _0x43aa58>_0x372db0;},'SWPRf':_0x4be2c3(0x297),'OMDGE':_0x4be2c3(0x21c),'uGCRw':function(_0x2e49b1,_0x279719){return _0x2e49b1+_0x279719;},'VbtYC':'Total\x20Platforms:\x20','XOgHk':function(_0x452c83,_0x24e1f6){return _0x452c83+_0x24e1f6;},'fFLGU':'Total\x20Suites:\x20','mckBO':_0x4be2c3(0x2d6),'swioh':function(_0x56fa5d,_0x26f25b){return _0x56fa5d+_0x26f25b;},'UtJXn':function(_0x2a517b,_0x4f33f0){return _0x2a517b+_0x4f33f0;},'vwFzd':function(_0xbfe2c9,_0x24dffe){return _0xbfe2c9+_0x24dffe;},'qwoQk':_0x4be2c3(0x220),'tDOsO':'json','ismWc':_0x4be2c3(0x26b),'vFVmn':_0x4be2c3(0x228),'jODTl':'No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','FYcPS':_0x4be2c3(0x1e6),'mJyQp':_0x4be2c3(0x23d),'YKsEC':function(_0x4a7684,_0xac0fdd){return _0x4a7684||_0xac0fdd;},'AMglg':function(_0x4fe453,_0x263e1b){return _0x4fe453(_0x263e1b);},'iyBzP':function(_0x570b3b,_0x333ba0,_0x43190e,_0x319b49){return _0x570b3b(_0x333ba0,_0x43190e,_0x319b49);},'bENJT':_0x4be2c3(0x245),'RdhRy':function(_0x11f2fe,_0x3882e6){return _0x11f2fe-_0x3882e6;},'VvVQO':function(_0x1ef267,_0x41b0c4){return _0x1ef267/_0x41b0c4;},'siZrm':_0x4be2c3(0x233),'vckVh':_0x4be2c3(0x1f2),'ZthUj':_0x4be2c3(0x1eb),'YXpGe':_0x4be2c3(0x200),'LEZat':_0x4be2c3(0x206),'qXKWx':_0x4be2c3(0x212)};if(_0x126270[_0x4be2c3(0x26e)](_0x4fad56,_0x126270['SLQyP']))return;const _0x574b7a=0x0,_0x382741=()=>{const _0x332129=_0x4be2c3;return _0x126270['SQNkW'](Array,_0x574b7a)[_0x332129(0x2a8)]('\x20\x20');},{testSuites:_0x364074,platforms:_0x7ddf2f,totalTests:_0x2fbd95,testsFailed:_0x23aa71,testsPassed:_0x44b7d9,testsPending:_0x5e479c}=_0x126270[_0x4be2c3(0x23b)](getStats,_0x5207b8);_0x126270[_0x4be2c3(0x259)](_0x23aa71,0x0)&&(logger[_0x4be2c3(0x2ab)](_0x126270['SWPRf']),process[_0x4be2c3(0x2c1)]=Math[_0x4be2c3(0x26c)](_0x23aa71,0xff));logger[_0x4be2c3(0x2ab)](_0x126270[_0x4be2c3(0x1f9)]);const _0x4ca01c=''+_0x126270[_0x4be2c3(0x2a7)](chalk[_0x4be2c3(0x2d5)](_0x126270[_0x4be2c3(0x2cd)]),_0x7ddf2f[_0x4be2c3(0x273)]),_0x1ef317=''+_0x126270[_0x4be2c3(0x2cc)](chalk[_0x4be2c3(0x2d5)](_0x126270[_0x4be2c3(0x2a1)]),_0x364074),_0xdb3f90=''+_0x126270[_0x4be2c3(0x2cc)](_0x126270[_0x4be2c3(0x2cc)](_0x126270[_0x4be2c3(0x2a7)](chalk[_0x4be2c3(0x2d5)](_0x126270[_0x4be2c3(0x2b6)]),_0x126270[_0x4be2c3(0x259)](_0x23aa71,0x0)?chalk['bold'][_0x4be2c3(0x21e)](_0x23aa71+'\x20failed')+',\x20':''),_0x126270[_0x4be2c3(0x2aa)](_0x5e479c,0x0)?chalk[_0x4be2c3(0x2d5)]['yellow'](_0x5e479c+_0x4be2c3(0x225))+',\x20':''),_0x126270[_0x4be2c3(0x259)](_0x44b7d9,0x0)?chalk[_0x4be2c3(0x2d5)][_0x4be2c3(0x252)](_0x44b7d9+'\x20passed')+',\x20':'')+_0x2fbd95+_0x4be2c3(0x28d);console[_0x4be2c3(0x222)](_0x126270[_0x4be2c3(0x25a)](_0x126270[_0x4be2c3(0x205)](_0x126270[_0x4be2c3(0x205)](_0x126270['vwFzd'](_0x126270[_0x4be2c3(0x2cc)](_0x126270[_0x4be2c3(0x299)],_0x4ca01c),'\x0a'),_0x1ef317),'\x0a'),_0xdb3f90));if(_0x126270[_0x4be2c3(0x26e)](_0x4fad56,_0x126270[_0x4be2c3(0x281)])){const _0x1d336a={},_0x46ba48={};_0x46ba48[_0x4be2c3(0x27e)]=_0x364074,_0x46ba48[_0x4be2c3(0x2d2)]=_0x7ddf2f,_0x46ba48[_0x4be2c3(0x229)]=_0x23aa71,_0x46ba48['testsPassed']=_0x44b7d9,_0x46ba48['testsPending']=_0x5e479c,_0x1d336a['stats']=_0x46ba48,_0x7ddf2f[_0x4be2c3(0x262)](_0x5afe37=>{const _0x20b475=_0x4be2c3;_0x1d336a[_0x5afe37]={'pending':[],'failures':[],'passes':[],'tests':_0x5207b8[_0x5afe37][_0x126270[_0x20b475(0x2bf)]][_0x20b475(0x2ae)](clean)},_0x5207b8[_0x5afe37][_0x126270[_0x20b475(0x2bf)]][_0x20b475(0x262)](_0x333e67=>{const _0x38a897=_0x20b475;if(_0x126270[_0x38a897(0x2d9)](_0x333e67[_0x38a897(0x1e0)],_0x126270[_0x38a897(0x1ff)]))_0x1d336a[_0x5afe37][_0x126270[_0x38a897(0x270)]][_0x38a897(0x256)](_0x126270[_0x38a897(0x247)](clean,_0x333e67));else _0x126270[_0x38a897(0x2a9)](_0x333e67['state'],_0x126270[_0x38a897(0x2b2)])?_0x1d336a[_0x5afe37][_0x126270[_0x38a897(0x23f)]]['push'](_0x126270[_0x38a897(0x1ec)](clean,_0x333e67)):_0x1d336a[_0x5afe37][_0x126270['ATWeU']][_0x38a897(0x256)](_0x126270[_0x38a897(0x242)](clean,_0x333e67));});});if(_0x4a8a69['output'])try{logger['debug'](_0x126270[_0x4be2c3(0x21f)],_0x4a8a69[_0x4be2c3(0x23c)]),fs['writeFileSync'](_0x4a8a69['output'],JSON[_0x4be2c3(0x24f)](_0x1d336a,null,0x3));}catch(_0xe22fad){logger[_0x4be2c3(0x210)](_0x126270['vFVmn'],_0x4a8a69['output']),logger[_0x4be2c3(0x2ab)](_0xe22fad);}else logger[_0x4be2c3(0x2ab)](_0x126270[_0x4be2c3(0x2ce)]),console['log'](JSON[_0x4be2c3(0x24f)](_0x1d336a,null,0x3));}else{if(_0x126270[_0x4be2c3(0x2d9)](_0x4fad56,_0x126270[_0x4be2c3(0x231)])){let _0xca9817;const _0x46db48=_0x126270['mJyQp'];_0x4a8a69&&(_0xca9817=_0x4a8a69[_0x4be2c3(0x287)]);_0xca9817=_0x126270[_0x4be2c3(0x279)](_0xca9817,_0x46db48);let _0x27d2a0=0x0,_0x3eb7b5=0x0,_0x1bffff=0x0,_0x234665=0x0;_0x7ddf2f[_0x4be2c3(0x262)](_0x42fda9=>{const _0x4c1348=_0x4be2c3,_0x2ce8ae={'FNZRD':function(_0x3073fa,_0x3e4ed8){const _0x59fcf8=a32_0x28c9;return _0x126270[_0x59fcf8(0x2d9)](_0x3073fa,_0x3e4ed8);},'xEOJF':_0x126270['RXJlt'],'GyFTr':_0x126270['owjwJ'],'LQDcZ':function(_0x5629e,_0x937d8){return _0x126270['AieUV'](_0x5629e,_0x937d8);}};_0x5207b8[_0x42fda9][_0x126270[_0x4c1348(0x2bf)]][_0x4c1348(0x262)](_0x1cb043=>{const _0x3324f9=_0x4c1348;if(_0x2ce8ae[_0x3324f9(0x1f0)](_0x1cb043['state'],_0x2ce8ae['xEOJF']))_0x27d2a0++;else _0x2ce8ae[_0x3324f9(0x1f0)](_0x1cb043[_0x3324f9(0x1e0)],_0x2ce8ae[_0x3324f9(0x1fd)])&&_0x3eb7b5++;_0x1bffff++,_0x234665+=_0x2ce8ae[_0x3324f9(0x27a)](_0x1cb043['duration'],0x1);});}),_0x126270[_0x4be2c3(0x2b8)](xunitWrite,_0x126270['iyBzP'](tag,_0x126270[_0x4be2c3(0x29e)],{'name':_0xca9817,'tests':_0x1bffff,'failures':0x0,'errors':_0x3eb7b5,'skipped':_0x126270[_0x4be2c3(0x28a)](_0x126270[_0x4be2c3(0x28a)](_0x1bffff,_0x3eb7b5),_0x27d2a0),'timestamp':new Date()[_0x4be2c3(0x1e7)](),'time':_0x126270[_0x4be2c3(0x29b)](_0x234665,0x3e8)||0x0},![])),_0x7ddf2f[_0x4be2c3(0x262)](_0x37bc02=>{const _0x5419d7=_0x4be2c3;_0x5207b8[_0x37bc02][_0x126270[_0x5419d7(0x2bf)]]['forEach'](_0x1da8b8=>{_0x126270['TFmAT'](xunitTest,_0x1da8b8,_0x37bc02);});}),_0x126270[_0x4be2c3(0x242)](xunitWrite,_0x126270[_0x4be2c3(0x267)]);if(_0x4a8a69[_0x4be2c3(0x23c)])try{logger[_0x4be2c3(0x2ab)](_0x126270[_0x4be2c3(0x240)],_0x4a8a69[_0x4be2c3(0x23c)]),fs[_0x4be2c3(0x293)](_0x4a8a69[_0x4be2c3(0x23c)],xunitContent);}catch(_0x5362dc){logger[_0x4be2c3(0x210)](_0x126270[_0x4be2c3(0x22f)],_0x4a8a69['output']),logger['debug'](_0x5362dc);}else logger[_0x4be2c3(0x2ab)](_0x126270[_0x4be2c3(0x2a3)]),console[_0x4be2c3(0x222)](xunitContent);}else{if(_0x126270[_0x4be2c3(0x2d9)](_0x23aa71,0x0))return;console[_0x4be2c3(0x222)](),logger['debug'](_0x126270['LEZat']),console['log'](chalk[_0x4be2c3(0x2d5)][_0x4be2c3(0x230)](_0x126270[_0x4be2c3(0x21b)])),_0x7ddf2f[_0x4be2c3(0x262)](_0x308f6a=>{const _0xea3078=_0x4be2c3,_0x5c41cf=[];_0x5207b8[_0x308f6a][_0x126270['MyFhH']][_0xea3078(0x262)](_0x250fc4=>{const _0x442eee=_0xea3078;_0x126270[_0x442eee(0x2a9)](_0x250fc4[_0x442eee(0x1e0)],_0x126270[_0x442eee(0x2b2)])&&(_0x250fc4[_0x442eee(0x2ca)]=()=>_0x250fc4['titlePathV'],_0x5c41cf['push'](_0x250fc4));}),_0x126270[_0xea3078(0x2aa)](_0x5c41cf['length'],0x0)&&(Base['consoleLog'](),Base[_0xea3078(0x2b5)](_0x126270['NlUdl'](_0x382741),chalk[_0xea3078(0x2d5)]['bgBlueBright'](_0x308f6a)),Base[_0xea3078(0x25e)](_0x5c41cf));});}}}function a32_0x21f9(){const _0x29f12a=['finally','map','isPending','retryTestsOnFailure','YJjbT','owjwJ','totalTests','MOCHA','consoleLog','mckBO','../../helpers/performance/performance-tester','AMglg','parse','info','excludeTagsInTestingScope','failed','file','../../helpers/central-scanner/constants','MyFhH','notifyUpdate','exitCode','speed','isbmf','proxySettings','gGlzM','AgqXh','title','gWfZo','1288tsEztn','titlePath','getUserWorkerCount','XOgHk','VbtYC','jODTl','../../helpers/test-observability/constants','cOXQb','isBrowserstackInfra','platforms','JOJse','kkonO','bold','Tests:\x20\x20\x20\x20\x20\x20\x20','extension','then','toBdK','hasOwnProperty','recursive','sort','state','../../helpers/performance/constants','../../helpers/testhub/testhubHandler','dPmNU','duration','../test-runner','xunit','toUTCString','isNotUndefined','xsnkM','config','Couldn\x27t\x20write\x20xunit\x20result\x20to','uxbEX','rootHooks','TFXTP','suite','FNZRD','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','Writing\x20xunit\x20result\x20to\x20file','GmKIg','mocha','24744XPZoRo','initialize','IaWPI','testsPending','OMDGE','BWYXv','hideDiff','6354LUcqwL','GyFTr','SDK_CLEANUP','RXJlt','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','isEmpty','odUFU','sEbaH','NOKpY','UtJXn','Listing\x20all\x20the\x20failures','assign','stack','start','UepCc','rmdirSync','ewCev','isTestObservabilitySession','getHubUrl','doc','error','vqKaF','****\x20FAILURES\x20****','failure','4204QMrIHF','framework','spec','HMaoF','mURBs','indexOf','NHrdY','qXKWx','Printing\x20stats\x20of\x20tests','25334AEDvIf','red','ismWc','\x0a\x0a\x0a','2060enLPUy','log','CbSSp','FRAMEWORKS','\x20skipped','prototype','AQcQZ','Couldn\x27t\x20write\x20json\x20result\x20to','testsFailed','configuration','ISpTo','failures','567866vTxZwZ','reporterOptions','ZthUj','bgRedBright','FYcPS','../../helpers/logger','</testsuite>','BROWSERSTACK_GRR_US_HUB_URL','skipped','141DtRHeO','BROWSERSTACK_RERUN_TESTS','pxUZU','accessibilityOptions','object','JdDXM','output','Mocha\x20Tests','vjMMc','zUknW','vckVh','mocha/lib/reporters/base.js','siypN','expected','currentRetry','testsuite','cliConfig','SQNkW','includeEncodedExtension','shouldReRunObservabilityTests','KsVSj','add','mjs','chalk','Running\x20your\x20mocha\x20tests','stringify','6870IuQbcA','Running\x20your\x20mocha\x20tests\x20across\x20','green','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','fullTitle','passed','push','OuPRn','HQLHj','yoxrc','swioh','handleApp','getErrorMessageFromResults','rerunTests','list','VDmvC','logLevel','SDKTestSuccessful','forEach','testObservability','ZoVVY','getPlatformName','finalExecution','siZrm','mocha/lib/cli/collect-files.js','../utils/clientTroubleshootingService','AkNme','Writing\x20json\x20result\x20to\x20file','min','mRUAU','TcKlP','parallelsPerPlatform','DZPsd','exzIh','parseTestOrchestrationOptions','length','message','errorMessage','isUndefined','tfRbN','env','YKsEC','LQDcZ','pending','reporter-option','results','testSuites','platform','maxRetries','tDOsO','printBuildLink','../../helpers/utilities','ltdOr','validPlatformsPresent','nHhKi','suiteName','retries','Now,\x20showing\x20logs\x20from\x20mocha','RdhRy','NGmRt','passes','\x20total','18887341QtWuxq','files','bDpZj','eLEVB','parseFileNames','writeFileSync','call','RlKuZ','generateDiff','Setting\x20non\x20exit\x20code\x20for\x20failures','../../helpers/helper','qwoQk','bcmEm','VvVQO','rTFVt','dNTWB','bENJT','accessibility','central_scanner','fFLGU','3425940FtExLK','YXpGe','AzTgu','reporter','bstack:options','uGCRw','join','kNqdK','NLtjB','debug','unlinkSync'];a32_0x21f9=function(){return _0x29f12a;};return a32_0x21f9();}async function run(_0x5f1d99,_0x58e8ba,_0x22e27b){const _0x24993b=a32_0x20a4a5,_0x5888a1={'NOKpY':function(_0x21d035,_0x31b91a,_0xacc3ed,_0x1229ca){return _0x21d035(_0x31b91a,_0xacc3ed,_0x1229ca);},'YJjbT':_0x24993b(0x27c),'ewCev':'error\x20removing\x20tcg\x20config\x20file','gGlzM':_0x24993b(0x261),'dOpBl':'mocha','TFXTP':function(_0x53c35b,_0x53844c){return _0x53c35b!=_0x53844c;},'HMaoF':'cjs','dPmNU':_0x24993b(0x24c),'ZoVVY':'test','sEbaH':_0x24993b(0x25d),'GmKIg':function(_0x32b13d,_0x47977b){return _0x32b13d(_0x47977b);},'pxUZU':function(_0x44fc47,_0x5de361,_0x57228d){return _0x44fc47(_0x5de361,_0x57228d);},'EvSqP':'files','IaWPI':'includeTagsInTestingScope','mRUAU':_0x24993b(0x2bb),'BWYXv':_0x24993b(0x248),'JUWMe':_0x24993b(0x24e),'bcmEm':_0x24993b(0x289),'BCQyM':function(_0x807494,_0x2bf90f){return _0x807494*_0x2bf90f;},'JOJse':function(_0x1fc29b,_0x2a7590){return _0x1fc29b!==_0x2a7590;},'rTFVt':function(_0x552e80,_0xe2463c,_0x3c15cb,_0x2f5333){return _0x552e80(_0xe2463c,_0x3c15cb,_0x2f5333);}};helper['setUserConfigPath'](_0x22e27b[_0x24993b(0x215)],_0x5f1d99),await _0x22e27b[_0x24993b(0x1f6)](_0x5f1d99);helper[_0x24993b(0x2d1)]()?await helper[_0x24993b(0x25b)](_0x22e27b[_0x24993b(0x1ea)]):await _0x22e27b['setupTCGAuth']();const _0x58193e=[];let _0x296ab6=[];if(!_0x22e27b[_0x24993b(0x1ea)])return;!helper[_0x24993b(0x276)](_0x22e27b[_0x24993b(0x1ea)][_0x24993b(0x239)])&&(process[_0x24993b(0x278)][_0x24993b(0x1f1)]=JSON[_0x24993b(0x24f)](_0x22e27b[_0x24993b(0x1ea)][_0x24993b(0x239)]));const _0x384592=await TestHubHandler['launchBuild'](FRAMEWORKS[_0x24993b(0x2b4)],_0x22e27b);_0x5888a1[_0x24993b(0x1ee)](_0x22e27b[_0x24993b(0x1ea)]['testObservability'],null)&&(process['env']['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x22e27b[_0x24993b(0x1ea)][_0x24993b(0x263)]);!helper[_0x24993b(0x276)](_0x22e27b[_0x24993b(0x1ea)][_0x24993b(0x29f)])&&(process[_0x24993b(0x278)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x22e27b['config'][_0x24993b(0x29f)]);const {extension:extension=['js',_0x5888a1[_0x24993b(0x217)],_0x5888a1[_0x24993b(0x1e3)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x5888a1[_0x24993b(0x264)]]}=_0x5f1d99,_0x41976e={..._0x5f1d99};_0x41976e[_0x24993b(0x1ed)]=null;const _0xab4b8d=_0x41976e;let _0x4a692b;if(testOpsHelper[_0x24993b(0x20d)]()&&testOpsHelper[_0x24993b(0x249)]()){let _0xed850e=process[_0x24993b(0x278)][_0x24993b(0x237)];!helper[_0x24993b(0x276)](_0x22e27b[_0x24993b(0x246)])&&_0x22e27b[_0x24993b(0x246)]['has'](_0x5888a1['sEbaH'])&&(_0xed850e=_0x22e27b[_0x24993b(0x246)]['get'](_0x5888a1[_0x24993b(0x203)])),_0x4a692b=testOpsHelper[_0x24993b(0x292)](_0xed850e);}if(helper[_0x24993b(0x276)](_0x4a692b)){const _0xcf9a02={};_0xcf9a02['ignore']=ignore,_0xcf9a02[_0x24993b(0x2d7)]=extension,_0xcf9a02['file']=file,_0xcf9a02[_0x24993b(0x2db)]=recursive,_0xcf9a02[_0x24993b(0x1df)]=sort,_0xcf9a02['spec']=spec,_0x4a692b=_0x5888a1[_0x24993b(0x1f3)](collectFiles,_0xcf9a02),_0x5888a1[_0x24993b(0x238)](nestedKeyValue,_0x4a692b,[_0x5888a1['EvSqP']])&&(_0x4a692b=_0x4a692b[_0x24993b(0x28f)]);}const _0x643ac5=helper[_0x24993b(0x272)](_0x22e27b['config']);!helper[_0x24993b(0x201)](_0x643ac5)&&helper[_0x24993b(0x1e8)](_0x643ac5[_0x24993b(0x2b0)])&&(_0xab4b8d[_0x24993b(0x288)]=_0x643ac5[_0x24993b(0x2b0)][_0x24993b(0x280)]);if(!helper[_0x24993b(0x2d1)]()){const _0x2639c6=0x1,_0x223206={..._0xab4b8d};_0x223206['spec']=[..._0x4a692b],_0x58193e[_0x24993b(0x256)]({'mochaOpts':_0x223206,'configuration':{'platform':os[_0x24993b(0x27f)]()}});if(_0x22e27b[_0x24993b(0x1ea)][_0x24993b(0x29f)]){const _0x19e62f={};_0x19e62f[_0x24993b(0x29f)]=!![];const _0x22ed62=_0x19e62f;_0x5888a1[_0x24993b(0x1ee)](_0x22e27b[_0x24993b(0x1ea)][_0x24993b(0x239)],null)&&(_0x22ed62['accessibilityOptions']=_0x22e27b[_0x24993b(0x1ea)][_0x24993b(0x239)],delete _0x22ed62[_0x24993b(0x239)][_0x5888a1[_0x24993b(0x1f7)]],delete _0x22ed62['accessibilityOptions'][_0x5888a1[_0x24993b(0x26d)]],delete _0x22ed62[_0x24993b(0x239)][_0x5888a1[_0x24993b(0x1fa)]]);const _0x343ba2={};_0x343ba2[_0x24993b(0x2a6)]=_0x22ed62,_0x58193e[0x0][_0x24993b(0x22a)]['capability']=_0x343ba2;}logger[_0x24993b(0x2ba)](_0x5888a1['JUWMe']),logger[_0x24993b(0x2ba)](_0x5888a1[_0x24993b(0x29a)]),_0x5888a1[_0x24993b(0x204)](parallelTestRun,_0x58193e,_0x2639c6,_0x22e27b)[_0x24993b(0x2d8)](_0x490794=>{const _0x270ac4=_0x24993b;PerformanceTester['start'](PerformanceEvents[_0x270ac4(0x1fe)]),_0x5888a1[_0x270ac4(0x204)](printStats,_0x490794,_0x5f1d99[_0x270ac4(0x2a5)],_0x5f1d99[_0x270ac4(0x22e)]||_0x5f1d99[_0x5888a1[_0x270ac4(0x2b1)]]);})[_0x24993b(0x2ad)](()=>{const _0x2779d7=_0x24993b;PerformanceTester[_0x2779d7(0x209)](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0xae7462,tcgConfigPath:_0x3de740}=helper['getTCGConfigFilePaths']();fs[_0x2779d7(0x2ac)](_0x3de740),fs[_0x2779d7(0x20b)](_0xae7462);}catch(_0x4c214a){logger[_0x2779d7(0x2ab)](_0x5888a1[_0x2779d7(0x20c)],_0x4c214a);}try{utilities['fireFunnelTestEvent'](_0x5888a1[_0x2779d7(0x2c5)],{},_0x22e27b[_0x2779d7(0x1ea)],_0x22e27b[_0x2779d7(0x215)]);}catch(_0x114302){logger[_0x2779d7(0x2ab)](_0x2779d7(0x253)+_0x114302[_0x2779d7(0x208)]);}try{helper[_0x2779d7(0x2c0)]();}catch(_0x242518){logger[_0x2779d7(0x2ab)]('Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20'+_0x242518);}testOpsHelper[_0x2779d7(0x282)]();});}else{const _0x13f07f=helper['useW3C'](_0x22e27b[_0x24993b(0x1ea)]);let _0x554898=helper[_0x24993b(0x20e)](_0x22e27b['config']);_0x296ab6=helper['prepareCapabilities'](_0x22e27b['config'],_0x13f07f,constants[_0x24993b(0x224)][_0x24993b(0x2b4)]);helper['getCentralUser']()[_0x24993b(0x2a0)]&&(_0x554898=centralScannerConstants[_0x24993b(0x234)]);let _0x5e84b2;const _0x548e70=_0x22e27b[_0x24993b(0x1ea)][_0x24993b(0x26f)]||helper[_0x24993b(0x2cb)](_0x5f1d99,_0x58e8ba,_0x22e27b[_0x24993b(0x1ea)],constants[_0x24993b(0x224)][_0x24993b(0x2b4)])||0x1;helper[_0x24993b(0x285)](_0x22e27b[_0x24993b(0x1ea)])?_0x5e84b2=_0x5888a1['BCQyM'](_0x22e27b['config'][_0x24993b(0x2d2)][_0x24993b(0x273)],_0x548e70):_0x5e84b2=_0x548e70;const _0x463028=_0x5888a1[_0x24993b(0x1f3)](getPercyOptions,_0x22e27b['config']);if(_0x5888a1[_0x24993b(0x2d3)](_0x22e27b[_0x24993b(0x1ea)][_0x24993b(0x26f)],0x1))_0x4a692b['forEach'](_0x3134d0=>{const _0x3c036e=_0x24993b,_0x64b241=[];_0x296ab6[_0x3c036e(0x262)]((_0x1abfd7,_0x51c3fd)=>{const _0x2a6db5=_0x3c036e,_0xbd66d2={};_0xbd66d2['spec']=[_0x3134d0],_0x64b241[_0x2a6db5(0x256)]({'mochaOpts':Object['assign']({},_0xab4b8d,_0xbd66d2),'configuration':{'server':_0x554898,'capability':_0x1abfd7,'proxySettings':_0x22e27b[_0x2a6db5(0x1ea)]['proxySettings'],'platform':helper[_0x2a6db5(0x265)](_0x1abfd7),'browserStackLogLevel':_0x22e27b['config'][_0x2a6db5(0x260)],'platformIndex':_0x51c3fd,'browserStackPercyOptions':_0x463028,'platformCaps':Object[_0x2a6db5(0x207)]({'index':_0x51c3fd},_0x22e27b['config'][_0x2a6db5(0x2d2)][_0x51c3fd])}});}),_0x58193e[_0x3c036e(0x256)](..._0x64b241);});else{const _0x5059b4=[];_0x296ab6['forEach']((_0x58f460,_0x4ca1d3)=>{const _0x56251e=_0x24993b;let _0x33517d=Object[_0x56251e(0x207)]({},_0xab4b8d);testOpsHelper[_0x56251e(0x20d)]()&&testOpsHelper[_0x56251e(0x249)]()&&(_0x33517d={..._0x33517d,'spec':[..._0x4a692b]}),_0x5059b4[_0x56251e(0x256)]({'mochaOpts':_0x33517d,'configuration':{'server':_0x554898,'capability':_0x58f460,'proxySettings':_0x22e27b[_0x56251e(0x1ea)][_0x56251e(0x2c4)],'platform':helper[_0x56251e(0x265)](_0x58f460),'browserStackLogLevel':_0x22e27b['config']['logLevel'],'platformIndex':_0x4ca1d3,'browserStackPercyOptions':_0x463028,'platformCaps':Object[_0x56251e(0x207)]({'index':_0x4ca1d3},_0x22e27b[_0x56251e(0x1ea)][_0x56251e(0x2d2)][_0x4ca1d3])}});}),_0x58193e['push'](..._0x5059b4);}logger[_0x24993b(0x2ba)](_0x24993b(0x251)+_0x22e27b['config'][_0x24993b(0x2d2)]['length']+'\x20platforms'),logger[_0x24993b(0x2ba)](_0x5888a1[_0x24993b(0x29a)]);let _0x10161f;_0x5888a1[_0x24993b(0x29c)](parallelTestRun,_0x58193e,_0x5e84b2,_0x22e27b)[_0x24993b(0x2d8)](_0x56e3fb=>{const _0x30a020=_0x24993b;PerformanceTester[_0x30a020(0x209)](PerformanceEvents[_0x30a020(0x1fe)]),_0x10161f=_0x56e3fb,_0x5888a1[_0x30a020(0x204)](printStats,_0x56e3fb,_0x5f1d99[_0x30a020(0x2a5)],_0x5f1d99[_0x30a020(0x22e)]||_0x5f1d99[_0x5888a1[_0x30a020(0x2b1)]]);})[_0x24993b(0x2ad)](async()=>{const _0x3fe334=_0x24993b;PerformanceTester[_0x3fe334(0x209)](PerformanceEvents['SDK_CLEANUP']),_0x22e27b[_0x3fe334(0x275)]=helper[_0x3fe334(0x25c)](_0x10161f,_0x5888a1['dOpBl']),await utilities[_0x3fe334(0x266)](_0x22e27b),testOpsHelper[_0x3fe334(0x282)]();});}}module['exports']=run;