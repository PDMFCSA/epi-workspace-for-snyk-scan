#!/usr/bin/env node
'use strict';const a31_0x53f9fa=a31_0x51ed;(function(_0x139030,_0x3ec49c){const _0x22fdd2=a31_0x51ed,_0x3ce3cd=_0x139030();while(!![]){try{const _0x555f4a=-parseInt(_0x22fdd2(0x278))/0x1+parseInt(_0x22fdd2(0x271))/0x2+parseInt(_0x22fdd2(0x2a0))/0x3*(parseInt(_0x22fdd2(0x26e))/0x4)+parseInt(_0x22fdd2(0x1d2))/0x5*(parseInt(_0x22fdd2(0x1f0))/0x6)+parseInt(_0x22fdd2(0x1ca))/0x7+parseInt(_0x22fdd2(0x1c5))/0x8+-parseInt(_0x22fdd2(0x1fb))/0x9;if(_0x555f4a===_0x3ec49c)break;else _0x3ce3cd['push'](_0x3ce3cd['shift']());}catch(_0x109702){_0x3ce3cd['push'](_0x3ce3cd['shift']());}}}(a31_0x589e,0x9f6d0));const chalk=require(a31_0x53f9fa(0x1fd)),logger=require(a31_0x53f9fa(0x1d0))[a31_0x53f9fa(0x272)],helper=require(a31_0x53f9fa(0x2ab)),utilities=require('../../helpers/utilities'),testOpsHelper=require(a31_0x53f9fa(0x205)),fs=require('fs'),os=require('os'),{parallelTestRun}=require('../test-runner'),{requireModule,nestedKeyValue}=require('../../helpers/helper'),{getPercyOptions}=require(a31_0x53f9fa(0x221)),Base=requireModule('mocha/lib/reporters/base.js',a31_0x53f9fa(0x2a9)),collectFiles=requireModule(a31_0x53f9fa(0x1e0),a31_0x53f9fa(0x2a9)),constants=require('../utils/constants'),PerformanceTester=require(a31_0x53f9fa(0x1ac)),PerformanceEvents=require(a31_0x53f9fa(0x1d6))[a31_0x53f9fa(0x21c)],centralScannerConstants=require(a31_0x53f9fa(0x237)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),TestHubHandler=require('../../helpers/testhub/testhubHandler');function tag(_0x10c293,_0x551ece,_0x4ac09f,_0x3c19b5){const _0x29b0ff=a31_0x53f9fa,_0xfa405b={'FArMv':function(_0x3556ad,_0x47c1a7){return _0x3556ad+_0x47c1a7;},'NjUNa':function(_0x265451,_0x3e47b6){return _0x265451+_0x3e47b6;},'uBEGQ':function(_0x2c5236,_0x49c15f){return _0x2c5236(_0x49c15f);},'iFasg':function(_0x536c45,_0x3adfe3){return _0x536c45+_0x3adfe3;},'BxlNM':function(_0x3bc30a,_0x5ef919){return _0x3bc30a+_0x5ef919;}},_0x3f5ff3=_0x4ac09f?'/>':'>',_0x17e557=[];let _0x1eb679;for(const _0x30d590 in _0x551ece){Object[_0x29b0ff(0x1b3)][_0x29b0ff(0x1c0)][_0x29b0ff(0x216)](_0x551ece,_0x30d590)&&_0x17e557[_0x29b0ff(0x1a2)](_0xfa405b[_0x29b0ff(0x291)](_0xfa405b[_0x29b0ff(0x1eb)](_0xfa405b[_0x29b0ff(0x291)](_0x30d590,'=\x22'),_0xfa405b[_0x29b0ff(0x223)](escape,_0x551ece[_0x30d590])),'\x22'));}return _0x1eb679=_0xfa405b['iFasg'](_0xfa405b[_0x29b0ff(0x1eb)](_0xfa405b[_0x29b0ff(0x291)]('<',_0x10c293),_0x17e557[_0x29b0ff(0x1b1)]?_0xfa405b[_0x29b0ff(0x28f)]('\x20',_0x17e557[_0x29b0ff(0x240)]('\x20')):''),_0x3f5ff3),_0x3c19b5&&(_0x1eb679+=_0xfa405b[_0x29b0ff(0x1eb)](_0xfa405b[_0x29b0ff(0x1eb)](_0xfa405b[_0x29b0ff(0x1eb)](_0x3c19b5,'</'),_0x10c293),_0x3f5ff3)),_0x1eb679;}let xunitContent='';function xunitWrite(_0x30edb4){xunitContent+=_0x30edb4;}function xunitTest(_0xf201e3,_0x362151){const _0x39bbbf=a31_0x53f9fa,_0x39c0b0={'krlgs':function(_0x15d8c2,_0xdb1058){return _0x15d8c2/_0xdb1058;},'yiAeF':function(_0x5c9662,_0x43417a){return _0x5c9662===_0x43417a;},'RiWDb':_0x39bbbf(0x28d),'YooMH':function(_0x179ec7,_0x12168d){return _0x179ec7+_0x12168d;},'zdAJH':function(_0x3e8a29,_0x5b8cf4){return _0x3e8a29(_0x5b8cf4);},'OiUPY':function(_0x4b9592,_0x4330eb,_0x4374d1,_0x2be6b9,_0x411313){return _0x4b9592(_0x4330eb,_0x4374d1,_0x2be6b9,_0x411313);},'gViEF':_0x39bbbf(0x210),'xzteA':function(_0x29f31b,_0x57880c,_0x5a5746,_0x33850d,_0x39b5fa){return _0x29f31b(_0x57880c,_0x5a5746,_0x33850d,_0x39b5fa);},'aYwQL':_0x39bbbf(0x214),'Zktbv':function(_0x5f2162,_0x5dad3f){return _0x5f2162+_0x5dad3f;},'FlQwo':function(_0x3d0b3c,_0xd8b0b1,_0x33fffc,_0x40f65a,_0x22da77){return _0x3d0b3c(_0xd8b0b1,_0x33fffc,_0x40f65a,_0x22da77);},'qhDrm':function(_0x45a9e3,_0x3d4e2e,_0x4fa993,_0x26e4a7){return _0x45a9e3(_0x3d4e2e,_0x4fa993,_0x26e4a7);},'luIrC':_0x39bbbf(0x1db),'wzGLX':function(_0x50c031,_0x2bfa31,_0x957977,_0x3a2a40){return _0x50c031(_0x2bfa31,_0x957977,_0x3a2a40);}};Base['useColors']=![];var _0x54263e={'classname':_0xf201e3[_0x39bbbf(0x2a1)],'name':_0xf201e3['title'],'time':_0x39c0b0[_0x39bbbf(0x1ae)](_0xf201e3[_0x39bbbf(0x24b)],0x3e8)||0x0,'platform':_0x362151};if(_0x39c0b0['yiAeF'](_0xf201e3[_0x39bbbf(0x256)],_0x39c0b0['RiWDb'])){var _0x185718=_0xf201e3[_0x39bbbf(0x25e)],_0x173f18=!Base[_0x39bbbf(0x1da)]&&Base[_0x39bbbf(0x248)](_0x185718)?_0x39c0b0[_0x39bbbf(0x251)]('\x0a',Base[_0x39bbbf(0x28a)](_0x185718[_0x39bbbf(0x1bf)],_0x185718[_0x39bbbf(0x21d)])):'';_0x39c0b0[_0x39bbbf(0x24d)](xunitWrite,_0x39c0b0[_0x39bbbf(0x295)](tag,_0x39c0b0['gViEF'],_0x54263e,![],_0x39c0b0[_0x39bbbf(0x254)](tag,_0x39c0b0[_0x39bbbf(0x1cd)],{},![],_0x39c0b0[_0x39bbbf(0x251)](_0x39c0b0[_0x39bbbf(0x251)](_0x39c0b0[_0x39bbbf(0x1bd)](_0x39c0b0[_0x39bbbf(0x24d)](escape,_0x185718['message']),_0x39c0b0[_0x39bbbf(0x24d)](escape,_0x173f18)),'\x0a'),_0x39c0b0[_0x39bbbf(0x24d)](escape,_0x185718[_0x39bbbf(0x255)])))));}else _0xf201e3['isPending']?_0x39c0b0[_0x39bbbf(0x24d)](xunitWrite,_0x39c0b0[_0x39bbbf(0x1a1)](tag,_0x39c0b0['gViEF'],_0x54263e,![],_0x39c0b0['qhDrm'](tag,_0x39c0b0['luIrC'],{},!![]))):_0x39c0b0['zdAJH'](xunitWrite,_0x39c0b0[_0x39bbbf(0x1c3)](tag,_0x39c0b0[_0x39bbbf(0x244)],_0x54263e,!![]));};function getStats(_0x189f83){const _0x4f6d6e=a31_0x53f9fa,_0x2630d7={};_0x2630d7[_0x4f6d6e(0x215)]=_0x4f6d6e(0x24f),_0x2630d7['yPmea']='passed',_0x2630d7['hUFYF']=_0x4f6d6e(0x28d),_0x2630d7[_0x4f6d6e(0x27f)]='results';const _0x41ebff=_0x2630d7,_0x2dfad1=Object[_0x4f6d6e(0x29c)](_0x189f83);let _0x980f3=0x0,_0x41a859=0x0,_0xdb5adc=0x0,_0x2ed64e=0x0;const _0x26f0fa=new Set();_0x2dfad1[_0x4f6d6e(0x26f)](_0x3c6a1b=>{const _0x47a3d1=_0x4f6d6e,_0x5657b6={};_0x5657b6[_0x47a3d1(0x20d)]=_0x41ebff[_0x47a3d1(0x215)],_0x5657b6[_0x47a3d1(0x1ba)]=_0x41ebff['yPmea'],_0x5657b6[_0x47a3d1(0x220)]=_0x41ebff[_0x47a3d1(0x252)];const _0x50de6a=_0x5657b6;_0x189f83[_0x3c6a1b][_0x41ebff['MIWpp']]['forEach'](_0x1f4d71=>{const _0x1a2acb=_0x47a3d1;_0x26f0fa[_0x1a2acb(0x1a5)](_0x1f4d71[_0x50de6a['skItc']]),_0x980f3++;switch(_0x1f4d71['state']){case _0x50de6a[_0x1a2acb(0x1ba)]:_0xdb5adc++;break;case _0x50de6a[_0x1a2acb(0x220)]:_0x41a859++;break;default:_0x2ed64e++;}});});const _0x4d265a={};return _0x4d265a[_0x4f6d6e(0x226)]=_0x26f0fa[_0x4f6d6e(0x217)],_0x4d265a['platforms']=_0x2dfad1,_0x4d265a[_0x4f6d6e(0x250)]=_0x980f3,_0x4d265a['testsFailed']=_0x41a859,_0x4d265a[_0x4f6d6e(0x1c8)]=_0xdb5adc,_0x4d265a['testsPending']=_0x2ed64e,_0x4d265a;}function a31_0x589e(){const _0x569ba8=['env','chalk','output','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','qOhda','includeTagsInTestingScope','HlbiJ','min','uSBPg','../../helpers/test-observability/utils','map','Iamjz','isEmpty','accessibilityOptions','recursive','Tests:\x20\x20\x20\x20\x20\x20\x20','AMiBi','skItc','initialize','red','testcase','finally','UnXKV','config','failure','mRZcj','call','size','handleApp','isBrowserstackInfra','capability','object','EVENTS','expected','seSAQ','getPlatformName','NhnAw','../../helpers/percy/utils','parallelsPerPlatform','uBEGQ','JSXjJ','eRFmn','testSuites','platforms','proxySettings','xunit','info','bold','toUTCString','mYlGD','setupTCGAuth','IavaX','log','parseFileNames','PtKYZ','\x20passed','shouldReRunObservabilityTests','SDKTestSuccessful','json','../../helpers/central-scanner/constants','Setting\x20non\x20exit\x20code\x20for\x20failures','ZVUeF','pYOsr','retryTestsOnFailure','JXEYn','files','failures','cliConfig','join','green','zdyGz','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','gViEF','framework','retries','cLiHw','showDiff','pjhzZ','zlOnv','duration','JigMR','zdAJH','lpcRM','suite','totalTests','YooMH','hUFYF','MiCec','xzteA','stack','state','</testsuite>','bgBlueBright','mHpQf','parseTestOrchestrationOptions','HOSQx','error','YaWhk','err','JBGWu','KNSno','QlhRl','parse','LLOtL','fireFunnelTestEvent','title','speed','passed','JDImV','EnJbx','Listing\x20all\x20the\x20failures','Writing\x20xunit\x20result\x20to\x20file','NKUac','spec','1212isoIUc','forEach','useW3C','2390768keAvad','winstonLogger','mLKeb','assign','unlinkSync','testsPending','maxRetries','1179405soVsnO','Total\x20Suites:\x20','isNotUndefined','BROWSERSTACK_TEST_ACCESSIBILITY_YML','testObservability','Couldn\x27t\x20write\x20json\x20result\x20to','NPQiH','MIWpp','consoleLog','results','file','ougos','stringify','extension','accessibility','ItYcC','\x20skipped','ONsRk','generateDiff','test','lcVOt','failed','configuration','BxlNM','TRuGs','FArMv','xHlud','WCyUM','rerunTests','OiUPY','GtUtF','mjs','bIMVj','YvWPT','eTrgV','ztxfm','keys','WKFlb','aOmSp','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','10305iTnzsM','fullTitle','Mocha\x20Tests','getTCGConfigFilePaths','then','logLevel','uZtvS','GvCzN','BqoyT','mocha','KiyJg','../../helpers/helper','FlQwo','push','debug','getHubUrl','add','vOwiS','getCentralUser','has','SBwtg','notifyUpdate','start','../../helpers/performance/performance-tester','HspNj','krlgs','Writing\x20json\x20result\x20to\x20file','EsAWX','length','Printing\x20stats\x20of\x20tests','prototype','isUndefined','Now,\x20showing\x20logs\x20from\x20mocha','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','EnXDe','getOwnPropertyNames','finalExecution','IBOUW','getErrorMessageFromResults','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','Zktbv','MOCHA','actual','hasOwnProperty','launchBuild','Total\x20Platforms:\x20','wzGLX','nJtEd','10266968QbFYPk','indexOf','rootHooks','testsPassed','kGFvu','180124lfhseh','get','YqulT','aYwQL','FRAMEWORKS','exitCode','../../helpers/logger','pending','5025rAJAUg','passes','eIBTW','reporterOptions','../../helpers/performance/constants','error\x20removing\x20tcg\x20config\x20file','BROWSERSTACK_TEST_OBSERVABILITY_YML','TvvJJ','hideDiff','skipped','DXDZW','bstack:options','saBUQ','tdlQu','mocha/lib/cli/collect-files.js','OmBTv','testsuite','SDK_CLEANUP','CztjZ','gkruf','ignore','\x20total','suiteName','Couldn\x27t\x20write\x20xunit\x20result\x20to','****\x20FAILURES\x20****','NjUNa','\x0a\x0a\x0a','isTestObservabilitySession','excludeTagsInTestingScope','setUserConfigPath','4494OPRQZR','WyOpm','zfxCv','sTiDu','jjFkf','platform','hhRPY','rYLdu','reporter-option','reporter','imrkC','22190616Zlxxsc'];a31_0x589e=function(){return _0x569ba8;};return a31_0x589e();}function errorJSON(_0x2bcaea){const _0x26873a=a31_0x53f9fa;var _0x229050={};return Object[_0x26873a(0x1b8)](_0x2bcaea)[_0x26873a(0x26f)](function(_0x136f95){_0x229050[_0x136f95]=_0x2bcaea[_0x136f95];},_0x2bcaea),_0x229050;}function a31_0x51ed(_0x173d25,_0x2e6ace){const _0x589ef5=a31_0x589e();return a31_0x51ed=function(_0x51ed8d,_0x3f87a0){_0x51ed8d=_0x51ed8d-0x1a1;let _0x2e7ca9=_0x589ef5[_0x51ed8d];return _0x2e7ca9;},a31_0x51ed(_0x173d25,_0x2e6ace);}function cleanCycles(_0x56228a){const _0x22e7b0=a31_0x53f9fa,_0x133124={};_0x133124[_0x22e7b0(0x21e)]=function(_0x3a3dbb,_0x3dc218){return _0x3a3dbb===_0x3dc218;},_0x133124['HdgTh']=_0x22e7b0(0x21b),_0x133124[_0x22e7b0(0x296)]=function(_0x413ac8,_0x387ad4){return _0x413ac8!==_0x387ad4;},_0x133124[_0x22e7b0(0x2aa)]=function(_0x452d9e,_0x5b79ba){return _0x452d9e+_0x5b79ba;};const _0x28ae6a=_0x133124;var _0xaa6de6=[];return JSON[_0x22e7b0(0x262)](JSON[_0x22e7b0(0x284)](_0x56228a,function(_0x4c21a4,_0x32f66e){const _0x55811f=_0x22e7b0;if(_0x28ae6a['seSAQ'](typeof _0x32f66e,_0x28ae6a['HdgTh'])&&_0x28ae6a[_0x55811f(0x296)](_0x32f66e,null)){if(_0x28ae6a['GtUtF'](_0xaa6de6[_0x55811f(0x1c6)](_0x32f66e),-0x1))return _0x28ae6a[_0x55811f(0x2aa)]('',_0x32f66e);_0xaa6de6[_0x55811f(0x1a2)](_0x32f66e);}return _0x32f66e;}));}function clean(_0x54062d){const _0x2b1df8=a31_0x53f9fa,_0x1d2db5={'yEFFJ':function(_0x2c6727,_0x5a0794){return _0x2c6727 instanceof _0x5a0794;},'lcVOt':function(_0x2a6fe7,_0x4eccbc){return _0x2a6fe7(_0x4eccbc);},'CQDfi':function(_0xc2b582,_0x1e8e1e){return _0xc2b582(_0x1e8e1e);}};var _0x42184b=_0x54062d[_0x2b1df8(0x25e)]||{};return _0x1d2db5['yEFFJ'](_0x42184b,Error)&&(_0x42184b=_0x1d2db5[_0x2b1df8(0x28c)](errorJSON,_0x42184b)),{'title':_0x54062d[_0x2b1df8(0x265)],'fullTitle':_0x54062d[_0x2b1df8(0x2a1)],'file':_0x54062d[_0x2b1df8(0x282)],'duration':_0x54062d[_0x2b1df8(0x24b)],'currentRetry':_0x54062d['currentRetry'],'speed':_0x54062d[_0x2b1df8(0x266)],'err':_0x1d2db5['CQDfi'](cleanCycles,_0x42184b)};}function printStats(_0x1b6501,_0x50e9c7=a31_0x53f9fa(0x26d),_0x100416={}){const _0x5eecc4=a31_0x53f9fa,_0x210f4c={'XWpjU':function(_0x20d7d9,_0x37928a){return _0x20d7d9(_0x37928a);},'rYLdu':function(_0xebd98d,_0x26bfa9){return _0xebd98d===_0x26bfa9;},'JBGWu':_0x5eecc4(0x267),'ONsRk':_0x5eecc4(0x1d3),'EsAWX':function(_0x30c816,_0x5461b2){return _0x30c816(_0x5461b2);},'imrkC':'failed','XasQp':_0x5eecc4(0x23e),'mYlGD':_0x5eecc4(0x1d1),'aOmSp':_0x5eecc4(0x281),'uZtvS':function(_0x20df41,_0x426e74){return _0x20df41===_0x426e74;},'GvCzN':function(_0x2cf48d,_0x1c14ee){return _0x2cf48d*_0x1c14ee;},'TRuGs':function(_0x4f9524,_0x57d15a,_0x36b142){return _0x4f9524(_0x57d15a,_0x36b142);},'YvWPT':function(_0x4cb765,_0x226372){return _0x4cb765===_0x226372;},'zdyGz':function(_0x1aff53,_0x36a8f1){return _0x1aff53>_0x36a8f1;},'JXEYn':function(_0x1da721){return _0x1da721();},'ztxfm':function(_0x3f6cb7,_0x1f6888){return _0x3f6cb7===_0x1f6888;},'jutnv':'doc','WCyUM':function(_0x1a7f81,_0x5893e5){return _0x1a7f81>_0x5893e5;},'JDImV':_0x5eecc4(0x238),'LLOtL':_0x5eecc4(0x1b2),'IavaX':function(_0x543f98,_0x59c15d){return _0x543f98+_0x59c15d;},'hhRPY':_0x5eecc4(0x1c2),'PtKYZ':function(_0x33270c,_0x3cd846){return _0x33270c+_0x3cd846;},'DXDZW':_0x5eecc4(0x279),'NKUac':function(_0xe4814c,_0xed1f0c){return _0xe4814c+_0xed1f0c;},'gkruf':_0x5eecc4(0x20b),'JSXjJ':function(_0x5eaf52,_0x474416){return _0x5eaf52+_0x474416;},'BbnuH':function(_0x370eef,_0xc51c6b){return _0x370eef+_0xc51c6b;},'sTiDu':_0x5eecc4(0x1ec),'zfxCv':_0x5eecc4(0x236),'Hlfax':_0x5eecc4(0x1af),'fqSzM':_0x5eecc4(0x27d),'qIPSf':_0x5eecc4(0x1ff),'OmBTv':function(_0x2704aa,_0x3b301e){return _0x2704aa===_0x3b301e;},'cLiHw':_0x5eecc4(0x229),'xHlud':_0x5eecc4(0x2a2),'BqoyT':function(_0x3c2fbd,_0x48ab8a){return _0x3c2fbd||_0x48ab8a;},'bBKEO':function(_0x40476d,_0x12c920){return _0x40476d(_0x12c920);},'YaWhk':function(_0x39ffe9,_0x1523be,_0x3f87c8,_0x1f18a2){return _0x39ffe9(_0x1523be,_0x3f87c8,_0x1f18a2);},'mLKeb':_0x5eecc4(0x1e2),'eIBTW':function(_0x2b4b63,_0x3a43f5){return _0x2b4b63-_0x3a43f5;},'pYOsr':function(_0x265291,_0x342bec){return _0x265291/_0x342bec;},'EnJbx':_0x5eecc4(0x257),'QlhRl':_0x5eecc4(0x26b),'YqulT':_0x5eecc4(0x1e9),'pjhzZ':_0x5eecc4(0x243),'kiBWa':function(_0x5c4522,_0x32a039){return _0x5c4522===_0x32a039;},'nJtEd':_0x5eecc4(0x26a),'DUzPw':_0x5eecc4(0x1ea)};if(_0x210f4c[_0x5eecc4(0x29b)](_0x50e9c7,_0x210f4c['jutnv']))return;const _0x36e181=0x0,_0x102843=()=>{const _0x3b63f7=_0x5eecc4;return _0x210f4c['XWpjU'](Array,_0x36e181)[_0x3b63f7(0x240)]('\x20\x20');},{testSuites:_0x50e254,platforms:_0x3ca1e6,totalTests:_0x20c2c4,testsFailed:_0x3f5917,testsPassed:_0x3d37ee,testsPending:_0x5771b0}=_0x210f4c[_0x5eecc4(0x1b0)](getStats,_0x1b6501);_0x210f4c[_0x5eecc4(0x293)](_0x3f5917,0x0)&&(logger['debug'](_0x210f4c[_0x5eecc4(0x268)]),process[_0x5eecc4(0x1cf)]=Math[_0x5eecc4(0x203)](_0x3f5917,0xff));logger[_0x5eecc4(0x1a3)](_0x210f4c[_0x5eecc4(0x263)]);const _0x57a178=''+_0x210f4c[_0x5eecc4(0x22f)](chalk[_0x5eecc4(0x22b)](_0x210f4c[_0x5eecc4(0x1f6)]),_0x3ca1e6[_0x5eecc4(0x1b1)]),_0x232367=''+_0x210f4c[_0x5eecc4(0x232)](chalk[_0x5eecc4(0x22b)](_0x210f4c[_0x5eecc4(0x1dc)]),_0x50e254),_0x31b847=''+_0x210f4c[_0x5eecc4(0x232)](_0x210f4c[_0x5eecc4(0x26c)](_0x210f4c[_0x5eecc4(0x232)](chalk[_0x5eecc4(0x22b)](_0x210f4c[_0x5eecc4(0x1e5)]),_0x210f4c['WCyUM'](_0x3f5917,0x0)?chalk['bold'][_0x5eecc4(0x20f)](_0x3f5917+'\x20failed')+',\x20':''),_0x210f4c[_0x5eecc4(0x293)](_0x5771b0,0x0)?chalk[_0x5eecc4(0x22b)]['yellow'](_0x5771b0+_0x5eecc4(0x288))+',\x20':''),_0x210f4c[_0x5eecc4(0x293)](_0x3d37ee,0x0)?chalk[_0x5eecc4(0x22b)][_0x5eecc4(0x241)](_0x3d37ee+_0x5eecc4(0x233))+',\x20':'')+_0x20c2c4+_0x5eecc4(0x1e7);console[_0x5eecc4(0x230)](_0x210f4c[_0x5eecc4(0x26c)](_0x210f4c['IavaX'](_0x210f4c[_0x5eecc4(0x224)](_0x210f4c[_0x5eecc4(0x232)](_0x210f4c['BbnuH'](_0x210f4c[_0x5eecc4(0x1f3)],_0x57a178),'\x0a'),_0x232367),'\x0a'),_0x31b847));if(_0x210f4c[_0x5eecc4(0x1f7)](_0x50e9c7,_0x210f4c[_0x5eecc4(0x1f2)])){const _0xdaaa73={},_0x355236={};_0x355236[_0x5eecc4(0x226)]=_0x50e254,_0x355236['platforms']=_0x3ca1e6,_0x355236['testsFailed']=_0x3f5917,_0x355236[_0x5eecc4(0x1c8)]=_0x3d37ee,_0x355236[_0x5eecc4(0x276)]=_0x5771b0,_0xdaaa73['stats']=_0x355236,_0x3ca1e6[_0x5eecc4(0x26f)](_0x3796ad=>{const _0x76f70d=_0x5eecc4,_0x172674={'Iamjz':function(_0x34d62e,_0x573722){const _0x58446a=a31_0x51ed;return _0x210f4c[_0x58446a(0x1f7)](_0x34d62e,_0x573722);},'WyOpm':_0x210f4c['JBGWu'],'ZVUeF':_0x210f4c[_0x76f70d(0x289)],'SBwtg':function(_0x5e0d7a,_0x3c8786){const _0x26e71d=_0x76f70d;return _0x210f4c[_0x26e71d(0x1b0)](_0x5e0d7a,_0x3c8786);},'tdlQu':_0x210f4c[_0x76f70d(0x1fa)],'JigMR':_0x210f4c['XasQp'],'EnXDe':_0x210f4c[_0x76f70d(0x22d)],'KNSno':function(_0x2b053d,_0x391a6b){const _0x3a032f=_0x76f70d;return _0x210f4c[_0x3a032f(0x1b0)](_0x2b053d,_0x391a6b);}};_0xdaaa73[_0x3796ad]={'pending':[],'failures':[],'passes':[],'tests':_0x1b6501[_0x3796ad][_0x210f4c[_0x76f70d(0x29e)]][_0x76f70d(0x206)](clean)},_0x1b6501[_0x3796ad][_0x210f4c[_0x76f70d(0x29e)]][_0x76f70d(0x26f)](_0x1209f3=>{const _0x18679f=_0x76f70d;if(_0x172674[_0x18679f(0x207)](_0x1209f3[_0x18679f(0x256)],_0x172674[_0x18679f(0x1f1)]))_0xdaaa73[_0x3796ad][_0x172674[_0x18679f(0x239)]][_0x18679f(0x1a2)](_0x172674[_0x18679f(0x1a9)](clean,_0x1209f3));else _0x172674[_0x18679f(0x207)](_0x1209f3[_0x18679f(0x256)],_0x172674[_0x18679f(0x1df)])?_0xdaaa73[_0x3796ad][_0x172674[_0x18679f(0x24c)]][_0x18679f(0x1a2)](_0x172674['SBwtg'](clean,_0x1209f3)):_0xdaaa73[_0x3796ad][_0x172674[_0x18679f(0x1b7)]]['push'](_0x172674[_0x18679f(0x260)](clean,_0x1209f3));});});if(_0x100416[_0x5eecc4(0x1fe)])try{logger['debug'](_0x210f4c['Hlfax'],_0x100416[_0x5eecc4(0x1fe)]),fs['writeFileSync'](_0x100416['output'],JSON[_0x5eecc4(0x284)](_0xdaaa73,null,0x3));}catch(_0x1b98e3){logger[_0x5eecc4(0x25c)](_0x210f4c['fqSzM'],_0x100416[_0x5eecc4(0x1fe)]),logger['debug'](_0x1b98e3);}else logger['debug'](_0x210f4c['qIPSf']),console['log'](JSON[_0x5eecc4(0x284)](_0xdaaa73,null,0x3));}else{if(_0x210f4c[_0x5eecc4(0x1e1)](_0x50e9c7,_0x210f4c[_0x5eecc4(0x247)])){let _0x55692a;const _0x7d8074=_0x210f4c[_0x5eecc4(0x292)];_0x100416&&(_0x55692a=_0x100416[_0x5eecc4(0x1e8)]);_0x55692a=_0x210f4c[_0x5eecc4(0x2a8)](_0x55692a,_0x7d8074);let _0x3ff7e5=0x0,_0x44a0b0=0x0,_0x29617b=0x0,_0xf7df2c=0x0;_0x3ca1e6[_0x5eecc4(0x26f)](_0x3fafdd=>{const _0x26b891=_0x5eecc4,_0x50b58c={'HspNj':function(_0x480107,_0x25ba22){const _0x50a365=a31_0x51ed;return _0x210f4c[_0x50a365(0x2a6)](_0x480107,_0x25ba22);},'AMiBi':_0x210f4c[_0x26b891(0x25f)],'ItYcC':function(_0x312428,_0x3fd352){const _0x5d819e=_0x26b891;return _0x210f4c[_0x5d819e(0x1f7)](_0x312428,_0x3fd352);},'CztjZ':_0x210f4c['imrkC'],'HlbiJ':function(_0x244807,_0x23fb1f){const _0x26d21b=_0x26b891;return _0x210f4c[_0x26d21b(0x2a7)](_0x244807,_0x23fb1f);}};_0x1b6501[_0x3fafdd][_0x210f4c['aOmSp']]['forEach'](_0x598e91=>{const _0x13f05f=_0x26b891;if(_0x50b58c[_0x13f05f(0x1ad)](_0x598e91['state'],_0x50b58c[_0x13f05f(0x20c)]))_0x3ff7e5++;else _0x50b58c[_0x13f05f(0x287)](_0x598e91['state'],_0x50b58c[_0x13f05f(0x1e4)])&&_0x44a0b0++;_0x29617b++,_0xf7df2c+=_0x50b58c[_0x13f05f(0x202)](_0x598e91['duration'],0x1);});}),_0x210f4c['bBKEO'](xunitWrite,_0x210f4c[_0x5eecc4(0x25d)](tag,_0x210f4c[_0x5eecc4(0x273)],{'name':_0x55692a,'tests':_0x29617b,'failures':0x0,'errors':_0x44a0b0,'skipped':_0x210f4c[_0x5eecc4(0x1d4)](_0x210f4c[_0x5eecc4(0x1d4)](_0x29617b,_0x44a0b0),_0x3ff7e5),'timestamp':new Date()[_0x5eecc4(0x22c)](),'time':_0x210f4c[_0x5eecc4(0x23a)](_0xf7df2c,0x3e8)||0x0},![])),_0x3ca1e6['forEach'](_0x5b58b0=>{const _0x43d926=_0x5eecc4;_0x1b6501[_0x5b58b0][_0x210f4c['aOmSp']][_0x43d926(0x26f)](_0x6ec57b=>{const _0x506046=_0x43d926;_0x210f4c[_0x506046(0x290)](xunitTest,_0x6ec57b,_0x5b58b0);});}),_0x210f4c['bBKEO'](xunitWrite,_0x210f4c[_0x5eecc4(0x269)]);if(_0x100416[_0x5eecc4(0x1fe)])try{logger[_0x5eecc4(0x1a3)](_0x210f4c[_0x5eecc4(0x261)],_0x100416[_0x5eecc4(0x1fe)]),fs['writeFileSync'](_0x100416[_0x5eecc4(0x1fe)],xunitContent);}catch(_0x4a5e4e){logger[_0x5eecc4(0x25c)](_0x210f4c[_0x5eecc4(0x1cc)],_0x100416['output']),logger['debug'](_0x4a5e4e);}else logger[_0x5eecc4(0x1a3)](_0x210f4c[_0x5eecc4(0x249)]),console['log'](xunitContent);}else{if(_0x210f4c['kiBWa'](_0x3f5917,0x0))return;console[_0x5eecc4(0x230)](),logger[_0x5eecc4(0x1a3)](_0x210f4c[_0x5eecc4(0x1c4)]),console['log'](chalk[_0x5eecc4(0x22b)]['bgRedBright'](_0x210f4c['DUzPw'])),_0x3ca1e6[_0x5eecc4(0x26f)](_0x55d97a=>{const _0x254666=_0x5eecc4,_0x4cef71=[];_0x1b6501[_0x55d97a][_0x210f4c['aOmSp']][_0x254666(0x26f)](_0x296a9f=>{const _0x17e1d9=_0x254666;_0x210f4c[_0x17e1d9(0x299)](_0x296a9f['state'],_0x210f4c[_0x17e1d9(0x1fa)])&&(_0x296a9f['titlePath']=()=>_0x296a9f['titlePathV'],_0x4cef71[_0x17e1d9(0x1a2)](_0x296a9f));}),_0x210f4c[_0x254666(0x242)](_0x4cef71[_0x254666(0x1b1)],0x0)&&(Base[_0x254666(0x280)](),Base[_0x254666(0x280)](_0x210f4c[_0x254666(0x23c)](_0x102843),chalk['bold'][_0x254666(0x258)](_0x55d97a)),Base['list'](_0x4cef71));});}}}async function run(_0x2cd397,_0x13a6f4,_0x1f2138){const _0x1e92ad=a31_0x53f9fa,_0x46e5d5={'uSBPg':function(_0x1ecaf9,_0x1e4d25,_0x538b8d,_0x15acf1){return _0x1ecaf9(_0x1e4d25,_0x538b8d,_0x15acf1);},'MiCec':_0x1e92ad(0x1f8),'lpcRM':_0x1e92ad(0x1d7),'eRFmn':_0x1e92ad(0x235),'THFll':_0x1e92ad(0x2a9),'yWKzl':function(_0x83d706,_0x36d812){return _0x83d706!=_0x36d812;},'TvvJJ':'cjs','NPQiH':_0x1e92ad(0x297),'WKFlb':_0x1e92ad(0x28b),'saBUQ':_0x1e92ad(0x294),'bIMVj':function(_0x16eaee,_0x5d7bdf){return _0x16eaee(_0x5d7bdf);},'vOwiS':function(_0x3ab372,_0x594bb9,_0x62882f){return _0x3ab372(_0x594bb9,_0x62882f);},'zlOnv':_0x1e92ad(0x23d),'eTrgV':function(_0xa88d20,_0x12a8e2){return _0xa88d20!=_0x12a8e2;},'mHpQf':_0x1e92ad(0x201),'jjFkf':_0x1e92ad(0x1ee),'kXzHK':'includeEncodedExtension','kGFvu':'Running\x20your\x20mocha\x20tests','HOSQx':_0x1e92ad(0x1b5),'UnXKV':function(_0xcf815a,_0x3323eb,_0x50b777,_0x155dc7){return _0xcf815a(_0x3323eb,_0x50b777,_0x155dc7);},'qOhda':function(_0x4be9d3,_0x13f27f){return _0x4be9d3*_0x13f27f;},'ougos':function(_0x2651a9,_0x2631de){return _0x2651a9!==_0x2631de;}};helper[_0x1e92ad(0x1ef)](_0x1f2138[_0x1e92ad(0x245)],_0x2cd397),await _0x1f2138[_0x1e92ad(0x20e)](_0x2cd397);helper[_0x1e92ad(0x219)]()?await helper[_0x1e92ad(0x218)](_0x1f2138[_0x1e92ad(0x213)]):await _0x1f2138[_0x1e92ad(0x22e)]();const _0x5a9a76=[];let _0x5503fd=[];if(!_0x1f2138[_0x1e92ad(0x213)])return;!helper[_0x1e92ad(0x1b4)](_0x1f2138[_0x1e92ad(0x213)][_0x1e92ad(0x209)])&&(process[_0x1e92ad(0x1fc)][_0x1e92ad(0x29f)]=JSON['stringify'](_0x1f2138['config'][_0x1e92ad(0x209)]));const _0x3d823f=await TestHubHandler[_0x1e92ad(0x1c1)](FRAMEWORKS['MOCHA'],_0x1f2138);_0x46e5d5['yWKzl'](_0x1f2138[_0x1e92ad(0x213)][_0x1e92ad(0x27c)],null)&&(process[_0x1e92ad(0x1fc)][_0x1e92ad(0x1d8)]=_0x1f2138[_0x1e92ad(0x213)]['testObservability']);!helper[_0x1e92ad(0x1b4)](_0x1f2138[_0x1e92ad(0x213)][_0x1e92ad(0x286)])&&(process[_0x1e92ad(0x1fc)][_0x1e92ad(0x27b)]=_0x1f2138[_0x1e92ad(0x213)][_0x1e92ad(0x286)]);const {extension:extension=['js',_0x46e5d5[_0x1e92ad(0x1d9)],_0x46e5d5[_0x1e92ad(0x27e)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x46e5d5[_0x1e92ad(0x29d)]]}=_0x2cd397,_0x3de2d2={..._0x2cd397};_0x3de2d2[_0x1e92ad(0x1c7)]=null;const _0x7d6809=_0x3de2d2;let _0x54a24d;if(testOpsHelper[_0x1e92ad(0x1ed)]()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0x6dcc5f=process[_0x1e92ad(0x1fc)]['BROWSERSTACK_RERUN_TESTS'];!helper[_0x1e92ad(0x1b4)](_0x1f2138[_0x1e92ad(0x23f)])&&_0x1f2138[_0x1e92ad(0x23f)][_0x1e92ad(0x1a8)](_0x46e5d5[_0x1e92ad(0x1de)])&&(_0x6dcc5f=_0x1f2138[_0x1e92ad(0x23f)][_0x1e92ad(0x1cb)](_0x46e5d5[_0x1e92ad(0x1de)])),_0x54a24d=testOpsHelper[_0x1e92ad(0x231)](_0x6dcc5f);}if(helper[_0x1e92ad(0x1b4)](_0x54a24d)){const _0x3bb046={};_0x3bb046[_0x1e92ad(0x1e6)]=ignore,_0x3bb046[_0x1e92ad(0x285)]=extension,_0x3bb046[_0x1e92ad(0x282)]=file,_0x3bb046[_0x1e92ad(0x20a)]=recursive,_0x3bb046['sort']=sort,_0x3bb046[_0x1e92ad(0x26d)]=spec,_0x54a24d=_0x46e5d5[_0x1e92ad(0x298)](collectFiles,_0x3bb046),_0x46e5d5[_0x1e92ad(0x1a6)](nestedKeyValue,_0x54a24d,[_0x46e5d5[_0x1e92ad(0x24a)]])&&(_0x54a24d=_0x54a24d['files']);}const _0xc8579e=helper[_0x1e92ad(0x25a)](_0x1f2138[_0x1e92ad(0x213)]);!helper[_0x1e92ad(0x208)](_0xc8579e)&&helper[_0x1e92ad(0x27a)](_0xc8579e[_0x1e92ad(0x23b)])&&(_0x7d6809[_0x1e92ad(0x246)]=_0xc8579e['retryTestsOnFailure'][_0x1e92ad(0x277)]);if(!helper[_0x1e92ad(0x219)]()){const _0x23faa7=0x1,_0x5f276e={..._0x7d6809};_0x5f276e[_0x1e92ad(0x26d)]=[..._0x54a24d],_0x5a9a76[_0x1e92ad(0x1a2)]({'mochaOpts':_0x5f276e,'configuration':{'platform':os[_0x1e92ad(0x1f5)]()}});if(_0x1f2138[_0x1e92ad(0x213)][_0x1e92ad(0x286)]){const _0x13c1ad={};_0x13c1ad[_0x1e92ad(0x286)]=!![];const _0x311491=_0x13c1ad;_0x46e5d5[_0x1e92ad(0x29a)](_0x1f2138[_0x1e92ad(0x213)][_0x1e92ad(0x209)],null)&&(_0x311491[_0x1e92ad(0x209)]=_0x1f2138['config'][_0x1e92ad(0x209)],delete _0x311491[_0x1e92ad(0x209)][_0x46e5d5[_0x1e92ad(0x259)]],delete _0x311491['accessibilityOptions'][_0x46e5d5[_0x1e92ad(0x1f4)]],delete _0x311491[_0x1e92ad(0x209)][_0x46e5d5['kXzHK']]);const _0x3a6fed={};_0x3a6fed[_0x1e92ad(0x1dd)]=_0x311491,_0x5a9a76[0x0][_0x1e92ad(0x28e)][_0x1e92ad(0x21a)]=_0x3a6fed;}logger['info'](_0x46e5d5[_0x1e92ad(0x1c9)]),logger[_0x1e92ad(0x22a)](_0x46e5d5['HOSQx']),_0x46e5d5[_0x1e92ad(0x212)](parallelTestRun,_0x5a9a76,_0x23faa7,_0x1f2138)[_0x1e92ad(0x2a4)](_0x55d4e2=>{const _0x5efc4b=_0x1e92ad;PerformanceTester[_0x5efc4b(0x1ab)](PerformanceEvents[_0x5efc4b(0x1e3)]),_0x46e5d5['uSBPg'](printStats,_0x55d4e2,_0x2cd397[_0x5efc4b(0x1f9)],_0x2cd397[_0x5efc4b(0x1d5)]||_0x2cd397[_0x46e5d5[_0x5efc4b(0x253)]]);})[_0x1e92ad(0x211)](()=>{const _0x1408e9=_0x1e92ad;PerformanceTester[_0x1408e9(0x1ab)](PerformanceEvents[_0x1408e9(0x1e3)]);try{const {browserstackFolderPath:_0x5553d2,tcgConfigPath:_0x2bc3c2}=helper[_0x1408e9(0x2a3)]();fs[_0x1408e9(0x275)](_0x2bc3c2),fs['rmdirSync'](_0x5553d2);}catch(_0x46cbf7){logger[_0x1408e9(0x1a3)](_0x46e5d5[_0x1408e9(0x24e)],_0x46cbf7);}try{utilities[_0x1408e9(0x264)](_0x46e5d5[_0x1408e9(0x225)],{},_0x1f2138[_0x1408e9(0x213)],_0x1f2138['framework']);}catch(_0x569525){logger[_0x1408e9(0x1a3)](_0x1408e9(0x1bc)+_0x569525['stack']);}try{helper[_0x1408e9(0x1aa)]();}catch(_0x3194e4){logger[_0x1408e9(0x1a3)](_0x1408e9(0x1b6)+_0x3194e4);}testOpsHelper['printBuildLink']();});}else{const _0x20457e=helper[_0x1e92ad(0x270)](_0x1f2138['config']);let _0x5cc18b=helper[_0x1e92ad(0x1a4)](_0x1f2138['config']);_0x5503fd=helper['prepareCapabilities'](_0x1f2138[_0x1e92ad(0x213)],_0x20457e,constants[_0x1e92ad(0x1ce)][_0x1e92ad(0x1be)]);helper[_0x1e92ad(0x1a7)]()['central_scanner']&&(_0x5cc18b=centralScannerConstants['BROWSERSTACK_GRR_US_HUB_URL']);let _0x4b4f3e;const _0x563905=_0x1f2138[_0x1e92ad(0x213)][_0x1e92ad(0x222)]||helper['getUserWorkerCount'](_0x2cd397,_0x13a6f4,_0x1f2138[_0x1e92ad(0x213)],constants[_0x1e92ad(0x1ce)][_0x1e92ad(0x1be)])||0x1;helper['validPlatformsPresent'](_0x1f2138['config'])?_0x4b4f3e=_0x46e5d5[_0x1e92ad(0x200)](_0x1f2138[_0x1e92ad(0x213)][_0x1e92ad(0x227)][_0x1e92ad(0x1b1)],_0x563905):_0x4b4f3e=_0x563905;const _0x11932b=_0x46e5d5[_0x1e92ad(0x298)](getPercyOptions,_0x1f2138[_0x1e92ad(0x213)]);if(_0x46e5d5[_0x1e92ad(0x283)](_0x1f2138[_0x1e92ad(0x213)][_0x1e92ad(0x222)],0x1))_0x54a24d[_0x1e92ad(0x26f)](_0x5a629c=>{const _0x3b69b7=_0x1e92ad,_0x23ffdc=[];_0x5503fd[_0x3b69b7(0x26f)]((_0x237fc3,_0x515018)=>{const _0x56a6ff=_0x3b69b7,_0x5d52de={};_0x5d52de['spec']=[_0x5a629c],_0x23ffdc['push']({'mochaOpts':Object[_0x56a6ff(0x274)]({},_0x7d6809,_0x5d52de),'configuration':{'server':_0x5cc18b,'capability':_0x237fc3,'proxySettings':_0x1f2138[_0x56a6ff(0x213)][_0x56a6ff(0x228)],'platform':helper['getPlatformName'](_0x237fc3),'browserStackLogLevel':_0x1f2138[_0x56a6ff(0x213)][_0x56a6ff(0x2a5)],'platformIndex':_0x515018,'browserStackPercyOptions':_0x11932b,'platformCaps':Object[_0x56a6ff(0x274)]({'index':_0x515018},_0x1f2138[_0x56a6ff(0x213)][_0x56a6ff(0x227)][_0x515018])}});}),_0x5a9a76[_0x3b69b7(0x1a2)](..._0x23ffdc);});else{const _0x5caef7=[];_0x5503fd[_0x1e92ad(0x26f)]((_0x1c3085,_0x3ea9b5)=>{const _0x2853c3=_0x1e92ad;let _0x5b9fa0=Object[_0x2853c3(0x274)]({},_0x7d6809);testOpsHelper['isTestObservabilitySession']()&&testOpsHelper[_0x2853c3(0x234)]()&&(_0x5b9fa0={..._0x5b9fa0,'spec':[..._0x54a24d]}),_0x5caef7[_0x2853c3(0x1a2)]({'mochaOpts':_0x5b9fa0,'configuration':{'server':_0x5cc18b,'capability':_0x1c3085,'proxySettings':_0x1f2138[_0x2853c3(0x213)]['proxySettings'],'platform':helper[_0x2853c3(0x21f)](_0x1c3085),'browserStackLogLevel':_0x1f2138[_0x2853c3(0x213)]['logLevel'],'platformIndex':_0x3ea9b5,'browserStackPercyOptions':_0x11932b,'platformCaps':Object[_0x2853c3(0x274)]({'index':_0x3ea9b5},_0x1f2138[_0x2853c3(0x213)]['platforms'][_0x3ea9b5])}});}),_0x5a9a76[_0x1e92ad(0x1a2)](..._0x5caef7);}logger[_0x1e92ad(0x22a)]('Running\x20your\x20mocha\x20tests\x20across\x20'+_0x1f2138[_0x1e92ad(0x213)][_0x1e92ad(0x227)][_0x1e92ad(0x1b1)]+'\x20platforms'),logger[_0x1e92ad(0x22a)](_0x46e5d5[_0x1e92ad(0x25b)]);let _0x15e8d4;_0x46e5d5[_0x1e92ad(0x212)](parallelTestRun,_0x5a9a76,_0x4b4f3e,_0x1f2138)[_0x1e92ad(0x2a4)](_0x5993d0=>{const _0x57b3ee=_0x1e92ad;PerformanceTester[_0x57b3ee(0x1ab)](PerformanceEvents[_0x57b3ee(0x1e3)]),_0x15e8d4=_0x5993d0,_0x46e5d5[_0x57b3ee(0x204)](printStats,_0x5993d0,_0x2cd397[_0x57b3ee(0x1f9)],_0x2cd397[_0x57b3ee(0x1d5)]||_0x2cd397[_0x46e5d5[_0x57b3ee(0x253)]]);})[_0x1e92ad(0x211)](async()=>{const _0x54ec27=_0x1e92ad;PerformanceTester['start'](PerformanceEvents[_0x54ec27(0x1e3)]),_0x1f2138['errorMessage']=helper[_0x54ec27(0x1bb)](_0x15e8d4,_0x46e5d5['THFll']),await utilities[_0x54ec27(0x1b9)](_0x1f2138),testOpsHelper['printBuildLink']();});}}module['exports']=run;