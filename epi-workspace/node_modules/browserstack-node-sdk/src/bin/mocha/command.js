#!/usr/bin/env node
'use strict';const a28_0x157669=a28_0x281e;(function(_0x5453a7,_0x36034d){const _0x43b682=a28_0x281e,_0x45c3cf=_0x5453a7();while(!![]){try{const _0xcb9682=parseInt(_0x43b682(0x246))/0x1*(parseInt(_0x43b682(0x1f5))/0x2)+-parseInt(_0x43b682(0x21e))/0x3+parseInt(_0x43b682(0x19d))/0x4*(-parseInt(_0x43b682(0x271))/0x5)+parseInt(_0x43b682(0x1a6))/0x6*(parseInt(_0x43b682(0x280))/0x7)+-parseInt(_0x43b682(0x1a4))/0x8+parseInt(_0x43b682(0x226))/0x9+-parseInt(_0x43b682(0x225))/0xa;if(_0xcb9682===_0x36034d)break;else _0x45c3cf['push'](_0x45c3cf['shift']());}catch(_0x4371ea){_0x45c3cf['push'](_0x45c3cf['shift']());}}}(a28_0x61a1,0x402c6));const chalk=require(a28_0x157669(0x1ce)),logger=require(a28_0x157669(0x215))[a28_0x157669(0x20b)],helper=require(a28_0x157669(0x1bd)),utilities=require(a28_0x157669(0x212)),testOpsHelper=require(a28_0x157669(0x1ad)),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a28_0x157669(0x262)),{requireModule,nestedKeyValue}=require(a28_0x157669(0x1bd)),{getPercyOptions}=require(a28_0x157669(0x23f)),Base=requireModule(a28_0x157669(0x22a),'mocha'),collectFiles=requireModule(a28_0x157669(0x1ef),a28_0x157669(0x260)),constants=require(a28_0x157669(0x27a)),PerformanceTester=require(a28_0x157669(0x1e6)),PerformanceEvents=require(a28_0x157669(0x283))['EVENTS'],centralScannerConstants=require(a28_0x157669(0x218)),{FRAMEWORKS}=require(a28_0x157669(0x1eb)),TestHubHandler=require(a28_0x157669(0x255));function tag(_0x761158,_0x11984f,_0x274a0a,_0x46b833){const _0x5d18e8=a28_0x157669,_0xa8f11e={'ILJki':function(_0x1de309,_0x512c92){return _0x1de309+_0x512c92;},'ZHIYz':function(_0x3632cf,_0x20bc53){return _0x3632cf+_0x20bc53;},'mFyqJ':function(_0x398b24,_0x312d21){return _0x398b24(_0x312d21);},'wHaSe':function(_0x217a3d,_0x311e21){return _0x217a3d+_0x311e21;},'dkXiY':function(_0x4df38d,_0x42ebfe){return _0x4df38d+_0x42ebfe;}},_0x41e8de=_0x274a0a?'/>':'>',_0x5e1514=[];let _0x503587;for(const _0x398b50 in _0x11984f){Object[_0x5d18e8(0x1ae)][_0x5d18e8(0x231)][_0x5d18e8(0x1fd)](_0x11984f,_0x398b50)&&_0x5e1514[_0x5d18e8(0x1de)](_0xa8f11e['ILJki'](_0xa8f11e[_0x5d18e8(0x1d6)](_0xa8f11e['ZHIYz'](_0x398b50,'=\x22'),_0xa8f11e['mFyqJ'](escape,_0x11984f[_0x398b50])),'\x22'));}return _0x503587=_0xa8f11e['wHaSe'](_0xa8f11e[_0x5d18e8(0x1d6)](_0xa8f11e[_0x5d18e8(0x26b)]('<',_0x761158),_0x5e1514[_0x5d18e8(0x211)]?_0xa8f11e[_0x5d18e8(0x26b)]('\x20',_0x5e1514['join']('\x20')):''),_0x41e8de),_0x46b833&&(_0x503587+=_0xa8f11e[_0x5d18e8(0x1f1)](_0xa8f11e['wHaSe'](_0xa8f11e[_0x5d18e8(0x1f1)](_0x46b833,'</'),_0x761158),_0x41e8de)),_0x503587;}let xunitContent='';function xunitWrite(_0xed29a3){xunitContent+=_0xed29a3;}function a28_0x281e(_0x256cbc,_0x3ce50e){const _0x61a1da=a28_0x61a1();return a28_0x281e=function(_0x281e54,_0x5239a0){_0x281e54=_0x281e54-0x199;let _0xbc414c=_0x61a1da[_0x281e54];return _0xbc414c;},a28_0x281e(_0x256cbc,_0x3ce50e);}function xunitTest(_0x1bc493,_0x94f4d7){const _0x5e6edc=a28_0x157669,_0x19a97e={'fbkfp':function(_0x2505a5,_0x5551d4){return _0x2505a5/_0x5551d4;},'yxvFe':function(_0x465ada,_0x20bea7){return _0x465ada===_0x20bea7;},'rYxoi':_0x5e6edc(0x1b2),'gZCHg':function(_0x41622b,_0x1d7dcf){return _0x41622b+_0x1d7dcf;},'JNyCU':function(_0xd5b17c,_0x31951e){return _0xd5b17c(_0x31951e);},'EXrRF':function(_0x4fcae4,_0x38e644,_0x3d4cb5,_0x5c0ff4,_0x482984){return _0x4fcae4(_0x38e644,_0x3d4cb5,_0x5c0ff4,_0x482984);},'yBuTE':'testcase','EdkGZ':function(_0x1a2b97,_0x1449a1,_0x3818ba,_0x260a2c,_0x1952f4){return _0x1a2b97(_0x1449a1,_0x3818ba,_0x260a2c,_0x1952f4);},'OSslj':_0x5e6edc(0x200),'SClcV':function(_0x3003c4,_0x3351b0){return _0x3003c4+_0x3351b0;},'sfxcH':function(_0x5b263a,_0x2d20ae){return _0x5b263a(_0x2d20ae);},'MlvDK':function(_0x5e6d8f,_0x19d6d2,_0x40b54f,_0x167c4e,_0x51c56d){return _0x5e6d8f(_0x19d6d2,_0x40b54f,_0x167c4e,_0x51c56d);},'VJSTF':function(_0x2608ab,_0x4ad8b9,_0x4d6295,_0x5bb64d){return _0x2608ab(_0x4ad8b9,_0x4d6295,_0x5bb64d);},'RwuHJ':_0x5e6edc(0x235),'bUdkH':function(_0x3cf5a1,_0x21a293){return _0x3cf5a1(_0x21a293);}};Base[_0x5e6edc(0x25e)]=![];var _0x4d7923={'classname':_0x1bc493['fullTitle'],'name':_0x1bc493['title'],'time':_0x19a97e[_0x5e6edc(0x1fc)](_0x1bc493[_0x5e6edc(0x27b)],0x3e8)||0x0,'platform':_0x94f4d7};if(_0x19a97e['yxvFe'](_0x1bc493[_0x5e6edc(0x1e8)],_0x19a97e[_0x5e6edc(0x21a)])){var _0x8b51c2=_0x1bc493[_0x5e6edc(0x20d)],_0x53c7bf=!Base[_0x5e6edc(0x1be)]&&Base[_0x5e6edc(0x1c3)](_0x8b51c2)?_0x19a97e['gZCHg']('\x0a',Base['generateDiff'](_0x8b51c2[_0x5e6edc(0x208)],_0x8b51c2[_0x5e6edc(0x1af)])):'';_0x19a97e[_0x5e6edc(0x272)](xunitWrite,_0x19a97e[_0x5e6edc(0x23d)](tag,_0x19a97e[_0x5e6edc(0x230)],_0x4d7923,![],_0x19a97e[_0x5e6edc(0x254)](tag,_0x19a97e[_0x5e6edc(0x22d)],{},![],_0x19a97e[_0x5e6edc(0x238)](_0x19a97e[_0x5e6edc(0x238)](_0x19a97e[_0x5e6edc(0x1a2)](_0x19a97e[_0x5e6edc(0x272)](escape,_0x8b51c2['message']),_0x19a97e[_0x5e6edc(0x22b)](escape,_0x53c7bf)),'\x0a'),_0x19a97e['sfxcH'](escape,_0x8b51c2[_0x5e6edc(0x1bc)])))));}else _0x1bc493[_0x5e6edc(0x1e1)]?_0x19a97e[_0x5e6edc(0x272)](xunitWrite,_0x19a97e[_0x5e6edc(0x248)](tag,_0x19a97e[_0x5e6edc(0x230)],_0x4d7923,![],_0x19a97e[_0x5e6edc(0x24e)](tag,_0x19a97e['RwuHJ'],{},!![]))):_0x19a97e['bUdkH'](xunitWrite,_0x19a97e['VJSTF'](tag,_0x19a97e['yBuTE'],_0x4d7923,!![]));};function getStats(_0x5de945){const _0x4c2d6c=a28_0x157669,_0xa1f628={};_0xa1f628['CsTCs']=_0x4c2d6c(0x24f),_0xa1f628[_0x4c2d6c(0x26c)]='passed',_0xa1f628[_0x4c2d6c(0x1b7)]=_0x4c2d6c(0x1b2),_0xa1f628[_0x4c2d6c(0x1f3)]=_0x4c2d6c(0x242);const _0x5deb38=_0xa1f628,_0x56ace4=Object[_0x4c2d6c(0x252)](_0x5de945);let _0x4af529=0x0,_0x35db77=0x0,_0x10df2d=0x0,_0x1a8a65=0x0;const _0x567f16=new Set();_0x56ace4['forEach'](_0x2deb72=>{const _0x471385=_0x4c2d6c;_0x5de945[_0x2deb72][_0x5deb38[_0x471385(0x1f3)]][_0x471385(0x1c9)](_0x332f97=>{const _0x15aa02=_0x471385;_0x567f16[_0x15aa02(0x20c)](_0x332f97[_0x5deb38[_0x15aa02(0x253)]]),_0x4af529++;switch(_0x332f97['state']){case _0x5deb38['TEZgW']:_0x10df2d++;break;case _0x5deb38[_0x15aa02(0x1b7)]:_0x35db77++;break;default:_0x1a8a65++;}});});const _0xe6201e={};return _0xe6201e[_0x4c2d6c(0x1d1)]=_0x567f16['size'],_0xe6201e[_0x4c2d6c(0x1e3)]=_0x56ace4,_0xe6201e[_0x4c2d6c(0x1cc)]=_0x4af529,_0xe6201e[_0x4c2d6c(0x1c0)]=_0x35db77,_0xe6201e[_0x4c2d6c(0x1aa)]=_0x10df2d,_0xe6201e['testsPending']=_0x1a8a65,_0xe6201e;}function errorJSON(_0x6b74c6){const _0x3e9ae6=a28_0x157669;var _0x521ab5={};return Object[_0x3e9ae6(0x256)](_0x6b74c6)[_0x3e9ae6(0x1c9)](function(_0x41d831){_0x521ab5[_0x41d831]=_0x6b74c6[_0x41d831];},_0x6b74c6),_0x521ab5;}function cleanCycles(_0x170139){const _0x477674=a28_0x157669,_0x23957c={};_0x23957c[_0x477674(0x209)]=function(_0x40c06b,_0x36d93a){return _0x40c06b===_0x36d93a;},_0x23957c['wcOUT']=_0x477674(0x285),_0x23957c[_0x477674(0x19c)]=function(_0x27817e,_0x178a98){return _0x27817e!==_0x178a98;},_0x23957c['qfonu']=function(_0x5a85d5,_0x24e999){return _0x5a85d5!==_0x24e999;},_0x23957c[_0x477674(0x24d)]=function(_0x3cfe0d,_0x1b3346){return _0x3cfe0d+_0x1b3346;};const _0x190501=_0x23957c;var _0x1ac490=[];return JSON[_0x477674(0x1cd)](JSON[_0x477674(0x264)](_0x170139,function(_0x5dda9f,_0x5e9650){const _0x45a7d8=_0x477674;if(_0x190501['tWLrh'](typeof _0x5e9650,_0x190501['wcOUT'])&&_0x190501[_0x45a7d8(0x19c)](_0x5e9650,null)){if(_0x190501['qfonu'](_0x1ac490['indexOf'](_0x5e9650),-0x1))return _0x190501[_0x45a7d8(0x24d)]('',_0x5e9650);_0x1ac490['push'](_0x5e9650);}return _0x5e9650;}));}function a28_0x61a1(){const _0x30d8cc=['object','finally','nFqEx','logLevel','EecHp','288UPjhgr','Running\x20your\x20mocha\x20tests\x20across\x20','kUNwP','output','getErrorMessageFromResults','SClcV','getPlatformName','2171984upZdeW','aRMWR','6KwPaKx','****\x20FAILURES\x20****','cjs','map','testsPassed','isNotUndefined','mjs','../../helpers/test-observability/utils','prototype','expected','rerunTests','FRAMEWORKS','failed','BROWSERSTACK_GRR_US_HUB_URL','cliConfig','ZKVVX','</testsuite>','FugBT','kuSgR','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','currentRetry','isBrowserstackInfra','stack','../../helpers/helper','hideDiff','xzQde','testsFailed','pending','then','showDiff','xwEii','Writing\x20json\x20result\x20to\x20file','nBBug','snzrX','recursive','forEach','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','\x20failed','totalTests','parse','chalk','lzDYe','Tests:\x20\x20\x20\x20\x20\x20\x20','testSuites','getHubUrl','Writing\x20xunit\x20result\x20to\x20file','KpNIM','BROWSERSTACK_RERUN_TESTS','ILJki','accessibilityOptions','file','central_scanner','isUndefined','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','CIdHj','passed','push','OCNLW','yellow','isPending','toUTCString','platforms','xunit','config','../../helpers/performance/performance-tester','titlePath','state','passes','NMViC','../../helpers/test-observability/constants','bgRedBright','gatXt','brwwl','mocha/lib/cli/collect-files.js','NkTRn','ZHIYz','UMFvJ','vBVkd','Now,\x20showing\x20logs\x20from\x20mocha','206xVWLsK','lqrDQ','green','log','juzIT','start','Couldn\x27t\x20write\x20json\x20result\x20to','fbkfp','call','stats','Listing\x20all\x20the\x20failures','failure','spec','ZNgUh','extension','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','lSlSL','cgLiJ','MOCHA','actual','tWLrh','Hwghw','winstonLogger','add','err','error\x20removing\x20tcg\x20config\x20file','prepareCapabilities','IQbBI','length','../../helpers/utilities','maxRetries','failures','../../helpers/logger','ERzwp','MkCEO','../../helpers/central-scanner/constants','isEmpty','rYxoi','mDVxG','\x20passed','ZNmCv','333354sALesD','files','titlePathV','testObservability','errorMessage','MPzpL','dYxcC','948150mshnAx','3712275xUzTLC','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','iazWk','SDK_CLEANUP','mocha/lib/reporters/base.js','sfxcH','get','OSslj','has','BROWSERSTACK_TEST_ACCESSIBILITY_YML','yBuTE','hasOwnProperty','KrbsT','writeFileSync','env','skipped','setupTCGAuth','assign','gZCHg','fireFunnelTestEvent','parallelsPerPlatform','proxySettings','Vauuq','EXrRF','finalExecution','../../helpers/percy/utils','Total\x20Suites:\x20','Printing\x20stats\x20of\x20tests','results','getUserWorkerCount','isTestObservabilitySession','unlinkSync','2179myDsVR','SDKTestSuccessful','MlvDK','framework','reporterOptions','min','red','UFcWE','VJSTF','suite','reporter','launchBuild','keys','CsTCs','EdkGZ','../../helpers/testhub/testhubHandler','getOwnPropertyNames','retries','YoHfX','debug','qJDtY','parseTestOrchestrationOptions','hfmsX','lYOEm','useColors','JjeXN','mocha','suiteName','../test-runner','vQPeB','stringify','bold','printBuildLink','fLEEz','consoleLog','info','RBHDH','dkXiY','TEZgW','Couldn\x27t\x20write\x20xunit\x20result\x20to','join','Mocha\x20Tests','doc','18750XYXQOu','JNyCU','BROWSERSTACK_TEST_OBSERVABILITY_YML','retryTestsOnFailure','fullTitle','uGKeL','uWlfF','error','reporter-option','../utils/constants','duration','XdZYI','rmdirSync','exitCode','accessibility','2613611woTOup','platform','list','../../helpers/performance/constants','VWxEq'];a28_0x61a1=function(){return _0x30d8cc;};return a28_0x61a1();}function clean(_0x49da0b){const _0x4e675c=a28_0x157669,_0x3493a8={'lqrDQ':function(_0x123660,_0x5b588d){return _0x123660 instanceof _0x5b588d;},'gatXt':function(_0x3d1254,_0x10fcf4){return _0x3d1254(_0x10fcf4);},'XWmHd':function(_0x914cb,_0x5d8d48){return _0x914cb(_0x5d8d48);}};var _0x1e3591=_0x49da0b[_0x4e675c(0x20d)]||{};return _0x3493a8[_0x4e675c(0x1f6)](_0x1e3591,Error)&&(_0x1e3591=_0x3493a8[_0x4e675c(0x1ed)](errorJSON,_0x1e3591)),{'title':_0x49da0b['title'],'fullTitle':_0x49da0b[_0x4e675c(0x275)],'file':_0x49da0b[_0x4e675c(0x1d8)],'duration':_0x49da0b['duration'],'currentRetry':_0x49da0b[_0x4e675c(0x1ba)],'speed':_0x49da0b['speed'],'err':_0x3493a8['XWmHd'](cleanCycles,_0x1e3591)};}function printStats(_0x22e389,_0x5af3be=a28_0x157669(0x201),_0x63d7d={}){const _0x5894e1=a28_0x157669,_0x502696={'MPzpL':function(_0x195e3c,_0x2aea7f){return _0x195e3c(_0x2aea7f);},'vEDVn':function(_0x4946b0,_0x1e78d3){return _0x4946b0===_0x1e78d3;},'nFqEx':_0x5894e1(0x1dd),'lDLUk':_0x5894e1(0x1e9),'juzIT':function(_0xe864c1,_0xe96854){return _0xe864c1===_0xe96854;},'GSWyn':_0x5894e1(0x1b2),'iazWk':_0x5894e1(0x214),'XfWzw':_0x5894e1(0x1c1),'IQbBI':_0x5894e1(0x242),'cgLiJ':function(_0x5bde97,_0x1d13c7){return _0x5bde97===_0x1d13c7;},'rVlNd':function(_0x278008,_0x319d94){return _0x278008*_0x319d94;},'NkTRn':function(_0xfacfb9,_0x3984f8,_0x44b43c){return _0xfacfb9(_0x3984f8,_0x44b43c);},'vQPeB':function(_0x2dc78a,_0x550073){return _0x2dc78a===_0x550073;},'ZNmCv':function(_0x5f0a1a,_0x2b61f4){return _0x5f0a1a>_0x2b61f4;},'lZkKp':function(_0x566d86){return _0x566d86();},'nCwSO':function(_0x2ee512,_0x5779d9){return _0x2ee512===_0x5779d9;},'KrbsT':_0x5894e1(0x270),'xzQde':'Setting\x20non\x20exit\x20code\x20for\x20failures','Wednp':_0x5894e1(0x241),'ZKVVX':function(_0x17f59c,_0x40bd9f){return _0x17f59c+_0x40bd9f;},'NuUoj':'Total\x20Platforms:\x20','ZNgUh':_0x5894e1(0x240),'CIdHj':function(_0x916bf4,_0x433597){return _0x916bf4+_0x433597;},'LbucH':_0x5894e1(0x1d0),'kuSgR':function(_0xf7573f,_0x2d67ee){return _0xf7573f>_0x2d67ee;},'ijEWl':'\x0a\x0a\x0a','YoHfX':function(_0x4d00dc,_0xdc4b13){return _0x4d00dc===_0xdc4b13;},'Pithl':'json','kUNwP':_0x5894e1(0x1c5),'FPapI':_0x5894e1(0x1fb),'uGKeL':_0x5894e1(0x1ca),'eNBDn':function(_0x217b97,_0x382154){return _0x217b97===_0x382154;},'lSlSL':_0x5894e1(0x1e4),'MkCEO':_0x5894e1(0x26f),'brwwl':function(_0x1926f7,_0x379ee8){return _0x1926f7||_0x379ee8;},'Vauuq':function(_0x5b07e2,_0x3768e3,_0x4209fa,_0x2b927e){return _0x5b07e2(_0x3768e3,_0x4209fa,_0x2b927e);},'xwEii':'testsuite','JjeXN':function(_0x26ab38,_0x767dd7){return _0x26ab38-_0x767dd7;},'nBBug':function(_0x540e4c,_0x1f53ee){return _0x540e4c-_0x1f53ee;},'OCNLW':function(_0x2ed1fe,_0xdda7a7){return _0x2ed1fe/_0xdda7a7;},'KpNIM':_0x5894e1(0x1b6),'snzrX':_0x5894e1(0x1d3),'ERzwp':_0x5894e1(0x26d),'nhxRz':_0x5894e1(0x1db),'EbgNP':function(_0x496243,_0x327a54){return _0x496243===_0x327a54;},'dYxcC':_0x5894e1(0x1ff),'qJDtY':_0x5894e1(0x1a7)};if(_0x502696['nCwSO'](_0x5af3be,_0x502696[_0x5894e1(0x232)]))return;const _0x47d344=0x0,_0x43aa59=()=>{const _0x424d84=_0x5894e1;return _0x502696[_0x424d84(0x223)](Array,_0x47d344)[_0x424d84(0x26e)]('\x20\x20');},{testSuites:_0x2843ed,platforms:_0x3cf82d,totalTests:_0x574dbc,testsFailed:_0x31c491,testsPassed:_0x50b2a3,testsPending:_0x495213}=_0x502696[_0x5894e1(0x223)](getStats,_0x22e389);_0x502696[_0x5894e1(0x21d)](_0x31c491,0x0)&&(logger[_0x5894e1(0x259)](_0x502696[_0x5894e1(0x1bf)]),process[_0x5894e1(0x27e)]=Math[_0x5894e1(0x24b)](_0x31c491,0xff));logger[_0x5894e1(0x259)](_0x502696['Wednp']);const _0x42861c=''+_0x502696[_0x5894e1(0x1b5)](chalk[_0x5894e1(0x265)](_0x502696['NuUoj']),_0x3cf82d[_0x5894e1(0x211)]),_0x5d7c97=''+_0x502696[_0x5894e1(0x1b5)](chalk[_0x5894e1(0x265)](_0x502696[_0x5894e1(0x202)]),_0x2843ed),_0x3e9b41=''+_0x502696['ZKVVX'](_0x502696[_0x5894e1(0x1b5)](_0x502696[_0x5894e1(0x1dc)](chalk[_0x5894e1(0x265)](_0x502696['LbucH']),_0x502696['ZNmCv'](_0x31c491,0x0)?chalk[_0x5894e1(0x265)][_0x5894e1(0x24c)](_0x31c491+_0x5894e1(0x1cb))+',\x20':''),_0x502696[_0x5894e1(0x1b8)](_0x495213,0x0)?chalk['bold'][_0x5894e1(0x1e0)](_0x495213+'\x20skipped')+',\x20':''),_0x502696['kuSgR'](_0x50b2a3,0x0)?chalk[_0x5894e1(0x265)][_0x5894e1(0x1f7)](_0x50b2a3+_0x5894e1(0x21c))+',\x20':'')+_0x574dbc+'\x20total';console[_0x5894e1(0x1f8)](_0x502696[_0x5894e1(0x1dc)](_0x502696[_0x5894e1(0x1dc)](_0x502696[_0x5894e1(0x1b5)](_0x502696[_0x5894e1(0x1b5)](_0x502696['ZKVVX'](_0x502696['ijEWl'],_0x42861c),'\x0a'),_0x5d7c97),'\x0a'),_0x3e9b41));if(_0x502696[_0x5894e1(0x258)](_0x5af3be,_0x502696['Pithl'])){const _0x5bad52={},_0x503d33={};_0x503d33['testSuites']=_0x2843ed,_0x503d33[_0x5894e1(0x1e3)]=_0x3cf82d,_0x503d33[_0x5894e1(0x1c0)]=_0x31c491,_0x503d33[_0x5894e1(0x1aa)]=_0x50b2a3,_0x503d33['testsPending']=_0x495213,_0x5bad52[_0x5894e1(0x1fe)]=_0x503d33,_0x3cf82d['forEach'](_0x3b2441=>{const _0x4b5ec1=_0x5894e1;_0x5bad52[_0x3b2441]={'pending':[],'failures':[],'passes':[],'tests':_0x22e389[_0x3b2441][_0x502696[_0x4b5ec1(0x210)]][_0x4b5ec1(0x1a9)](clean)},_0x22e389[_0x3b2441][_0x502696[_0x4b5ec1(0x210)]][_0x4b5ec1(0x1c9)](_0x2c9408=>{const _0x9291=_0x4b5ec1;if(_0x502696['vEDVn'](_0x2c9408[_0x9291(0x1e8)],_0x502696['nFqEx']))_0x5bad52[_0x3b2441][_0x502696['lDLUk']][_0x9291(0x1de)](_0x502696[_0x9291(0x223)](clean,_0x2c9408));else _0x502696[_0x9291(0x1f9)](_0x2c9408[_0x9291(0x1e8)],_0x502696['GSWyn'])?_0x5bad52[_0x3b2441][_0x502696[_0x9291(0x228)]][_0x9291(0x1de)](_0x502696[_0x9291(0x223)](clean,_0x2c9408)):_0x5bad52[_0x3b2441][_0x502696['XfWzw']]['push'](_0x502696[_0x9291(0x223)](clean,_0x2c9408));});});if(_0x63d7d[_0x5894e1(0x1a0)])try{logger[_0x5894e1(0x259)](_0x502696[_0x5894e1(0x19f)],_0x63d7d[_0x5894e1(0x1a0)]),fs[_0x5894e1(0x233)](_0x63d7d[_0x5894e1(0x1a0)],JSON[_0x5894e1(0x264)](_0x5bad52,null,0x3));}catch(_0x581d88){logger[_0x5894e1(0x278)](_0x502696['FPapI'],_0x63d7d[_0x5894e1(0x1a0)]),logger['debug'](_0x581d88);}else logger[_0x5894e1(0x259)](_0x502696[_0x5894e1(0x276)]),console['log'](JSON['stringify'](_0x5bad52,null,0x3));}else{if(_0x502696['eNBDn'](_0x5af3be,_0x502696[_0x5894e1(0x205)])){let _0x36f412;const _0x326d1b=_0x502696[_0x5894e1(0x217)];_0x63d7d&&(_0x36f412=_0x63d7d[_0x5894e1(0x261)]);_0x36f412=_0x502696[_0x5894e1(0x1ee)](_0x36f412,_0x326d1b);let _0x3dfe5f=0x0,_0x47ffaa=0x0,_0x1974d=0x0,_0x49ee43=0x0;_0x3cf82d[_0x5894e1(0x1c9)](_0x16f6d2=>{const _0x1e0830=_0x5894e1;_0x22e389[_0x16f6d2][_0x502696[_0x1e0830(0x210)]][_0x1e0830(0x1c9)](_0x756c8b=>{const _0x125d4b=_0x1e0830;if(_0x502696[_0x125d4b(0x206)](_0x756c8b[_0x125d4b(0x1e8)],_0x502696[_0x125d4b(0x19a)]))_0x3dfe5f++;else _0x502696[_0x125d4b(0x206)](_0x756c8b[_0x125d4b(0x1e8)],_0x502696['GSWyn'])&&_0x47ffaa++;_0x1974d++,_0x49ee43+=_0x502696['rVlNd'](_0x756c8b[_0x125d4b(0x27b)],0x1);});}),_0x502696[_0x5894e1(0x223)](xunitWrite,_0x502696[_0x5894e1(0x23c)](tag,_0x502696[_0x5894e1(0x1c4)],{'name':_0x36f412,'tests':_0x1974d,'failures':0x0,'errors':_0x47ffaa,'skipped':_0x502696[_0x5894e1(0x25f)](_0x502696[_0x5894e1(0x1c6)](_0x1974d,_0x47ffaa),_0x3dfe5f),'timestamp':new Date()[_0x5894e1(0x1e2)](),'time':_0x502696[_0x5894e1(0x1df)](_0x49ee43,0x3e8)||0x0},![])),_0x3cf82d[_0x5894e1(0x1c9)](_0x26c14f=>{const _0x1970bb=_0x5894e1;_0x22e389[_0x26c14f][_0x502696[_0x1970bb(0x210)]]['forEach'](_0x40f57a=>{const _0x5151f2=_0x1970bb;_0x502696[_0x5151f2(0x1f0)](xunitTest,_0x40f57a,_0x26c14f);});}),_0x502696['MPzpL'](xunitWrite,_0x502696[_0x5894e1(0x1d4)]);if(_0x63d7d[_0x5894e1(0x1a0)])try{logger[_0x5894e1(0x259)](_0x502696[_0x5894e1(0x1c7)],_0x63d7d['output']),fs[_0x5894e1(0x233)](_0x63d7d['output'],xunitContent);}catch(_0x240939){logger[_0x5894e1(0x278)](_0x502696[_0x5894e1(0x216)],_0x63d7d[_0x5894e1(0x1a0)]),logger['debug'](_0x240939);}else logger[_0x5894e1(0x259)](_0x502696['nhxRz']),console[_0x5894e1(0x1f8)](xunitContent);}else{if(_0x502696['EbgNP'](_0x31c491,0x0))return;console['log'](),logger[_0x5894e1(0x259)](_0x502696[_0x5894e1(0x224)]),console[_0x5894e1(0x1f8)](chalk[_0x5894e1(0x265)][_0x5894e1(0x1ec)](_0x502696[_0x5894e1(0x25a)])),_0x3cf82d['forEach'](_0x2d60fd=>{const _0x4d0a2b=_0x5894e1,_0x48c83a=[];_0x22e389[_0x2d60fd][_0x502696[_0x4d0a2b(0x210)]][_0x4d0a2b(0x1c9)](_0x1b6ff3=>{const _0x1a165f=_0x4d0a2b;_0x502696[_0x1a165f(0x263)](_0x1b6ff3['state'],_0x502696['GSWyn'])&&(_0x1b6ff3[_0x1a165f(0x1e7)]=()=>_0x1b6ff3[_0x1a165f(0x220)],_0x48c83a[_0x1a165f(0x1de)](_0x1b6ff3));}),_0x502696[_0x4d0a2b(0x21d)](_0x48c83a[_0x4d0a2b(0x211)],0x0)&&(Base['consoleLog'](),Base[_0x4d0a2b(0x268)](_0x502696['lZkKp'](_0x43aa59),chalk['bold']['bgBlueBright'](_0x2d60fd)),Base[_0x4d0a2b(0x282)](_0x48c83a));});}}}async function run(_0x30acc8,_0xe8b5ac,_0x270309){const _0x235130=a28_0x157669,_0x607f18={'uWlfF':function(_0x150b99,_0x32fed7,_0x12817d,_0x158d09){return _0x150b99(_0x32fed7,_0x12817d,_0x158d09);},'Hwghw':_0x235130(0x279),'VWxEq':_0x235130(0x20e),'lzDYe':_0x235130(0x247),'nOdHb':_0x235130(0x260),'WtQwr':function(_0x4caca7,_0x23d562){return _0x4caca7!=_0x23d562;},'lYOEm':_0x235130(0x1a8),'mZLDZ':_0x235130(0x1ac),'iZNPw':'test','XdZYI':_0x235130(0x1b0),'hfmsX':function(_0xc8557d,_0x291ac5){return _0xc8557d(_0x291ac5);},'NMViC':function(_0x511176,_0x80186c,_0x5c719a){return _0x511176(_0x80186c,_0x5c719a);},'CGjuB':_0x235130(0x21f),'aRMWR':'Running\x20your\x20mocha\x20tests','UMFvJ':_0x235130(0x1f4),'mDVxG':function(_0x1c5be1,_0x418255,_0x1c5c6f,_0x1f9942){return _0x1c5be1(_0x418255,_0x1c5c6f,_0x1f9942);},'fLEEz':function(_0x1529b3,_0x35b6e3){return _0x1529b3*_0x35b6e3;},'RBHDH':function(_0x16c0ed,_0x3c99ab){return _0x16c0ed!==_0x3c99ab;}};helper['setUserConfigPath'](_0x270309[_0x235130(0x249)],_0x30acc8);helper['isBrowserstackInfra']()?(await _0x270309['initialize'](_0x30acc8),await helper['handleApp'](_0x270309['config'])):await _0x270309[_0x235130(0x236)]();const _0x16898c=[];let _0x2cd8bb=[];if(!_0x270309['config'])return;!helper['isUndefined'](_0x270309[_0x235130(0x1e5)]['accessibilityOptions'])&&(process[_0x235130(0x234)][_0x235130(0x227)]=JSON['stringify'](_0x270309['config'][_0x235130(0x1d7)]));const _0x127cdc=await TestHubHandler[_0x235130(0x251)](FRAMEWORKS[_0x235130(0x207)],_0x270309);_0x607f18['WtQwr'](_0x270309[_0x235130(0x1e5)]['testObservability'],null)&&(process[_0x235130(0x234)][_0x235130(0x273)]=_0x270309[_0x235130(0x1e5)][_0x235130(0x221)]);!helper[_0x235130(0x1da)](_0x270309[_0x235130(0x1e5)][_0x235130(0x27f)])&&(process['env'][_0x235130(0x22f)]=_0x270309['config'][_0x235130(0x27f)]);const {extension:extension=['js',_0x607f18[_0x235130(0x25d)],_0x607f18['mZLDZ']],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x607f18['iZNPw']]}=_0x30acc8,_0x241ea5={..._0x30acc8};_0x241ea5['rootHooks']=null;const _0x2d34be=_0x241ea5;let _0x392cc6;if(testOpsHelper[_0x235130(0x244)]()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0x3f6e2c=process[_0x235130(0x234)][_0x235130(0x1d5)];!helper['isUndefined'](_0x270309[_0x235130(0x1b4)])&&_0x270309[_0x235130(0x1b4)][_0x235130(0x22e)](_0x607f18[_0x235130(0x27c)])&&(_0x3f6e2c=_0x270309[_0x235130(0x1b4)][_0x235130(0x22c)](_0x607f18[_0x235130(0x27c)])),_0x392cc6=testOpsHelper['parseFileNames'](_0x3f6e2c);}if(helper[_0x235130(0x1da)](_0x392cc6)){const _0x14e97b={};_0x14e97b['ignore']=ignore,_0x14e97b[_0x235130(0x203)]=extension,_0x14e97b[_0x235130(0x1d8)]=file,_0x14e97b[_0x235130(0x1c8)]=recursive,_0x14e97b['sort']=sort,_0x14e97b[_0x235130(0x201)]=spec,_0x392cc6=_0x607f18[_0x235130(0x25c)](collectFiles,_0x14e97b),_0x607f18[_0x235130(0x1ea)](nestedKeyValue,_0x392cc6,[_0x607f18['CGjuB']])&&(_0x392cc6=_0x392cc6[_0x235130(0x21f)]);}const _0x19b6b6=helper[_0x235130(0x25b)](_0x270309[_0x235130(0x1e5)]);!helper[_0x235130(0x219)](_0x19b6b6)&&helper[_0x235130(0x1ab)](_0x19b6b6[_0x235130(0x274)])&&(_0x2d34be[_0x235130(0x257)]=_0x19b6b6[_0x235130(0x274)][_0x235130(0x213)]);if(!helper[_0x235130(0x1bb)]()){const _0x55cbd2=0x1,_0x16cb8b={..._0x2d34be};_0x16cb8b['spec']=[..._0x392cc6],_0x16898c['push']({'mochaOpts':_0x16cb8b,'configuration':{'platform':os[_0x235130(0x281)]()}}),logger[_0x235130(0x269)](_0x607f18[_0x235130(0x1a5)]),logger['info'](_0x607f18[_0x235130(0x1f2)]),_0x607f18[_0x235130(0x21b)](parallelTestRun,_0x16898c,_0x55cbd2,_0x270309)['then'](_0x5f10c9=>{const _0x2cfc1a=_0x235130;PerformanceTester[_0x2cfc1a(0x1fa)](PerformanceEvents['SDK_CLEANUP']),_0x607f18[_0x2cfc1a(0x277)](printStats,_0x5f10c9,_0x30acc8['reporter'],_0x30acc8[_0x2cfc1a(0x24a)]||_0x30acc8[_0x607f18[_0x2cfc1a(0x20a)]]);})['finally'](()=>{const _0xa88c1=_0x235130;PerformanceTester[_0xa88c1(0x1fa)](PerformanceEvents[_0xa88c1(0x229)]);try{const {browserstackFolderPath:_0x37322a,tcgConfigPath:_0x292162}=helper['getTCGConfigFilePaths']();fs[_0xa88c1(0x245)](_0x292162),fs[_0xa88c1(0x27d)](_0x37322a);}catch(_0x157262){logger[_0xa88c1(0x259)](_0x607f18[_0xa88c1(0x284)],_0x157262);}try{utilities[_0xa88c1(0x239)](_0x607f18[_0xa88c1(0x1cf)],{},_0x270309['config'],_0x270309[_0xa88c1(0x249)]);}catch(_0x16d964){logger['debug'](_0xa88c1(0x1b9)+_0x16d964['stack']);}try{helper['notifyUpdate']();}catch(_0x2fa1c2){logger[_0xa88c1(0x259)](_0xa88c1(0x204)+_0x2fa1c2);}testOpsHelper[_0xa88c1(0x266)]();});}else{const _0x222670=helper['useW3C'](_0x270309[_0x235130(0x1e5)]);let _0x7d6626=helper[_0x235130(0x1d2)](_0x270309[_0x235130(0x1e5)]);_0x2cd8bb=helper[_0x235130(0x20f)](_0x270309[_0x235130(0x1e5)],_0x222670,constants['FRAMEWORKS'][_0x235130(0x207)]);helper['getCentralUser']()[_0x235130(0x1d9)]&&(_0x7d6626=centralScannerConstants[_0x235130(0x1b3)]);let _0x434393;const _0x3dc45a=_0x270309[_0x235130(0x1e5)][_0x235130(0x23a)]||helper[_0x235130(0x243)](_0x30acc8,_0xe8b5ac,_0x270309['config'],constants[_0x235130(0x1b1)][_0x235130(0x207)])||0x1;helper['validPlatformsPresent'](_0x270309[_0x235130(0x1e5)])?_0x434393=_0x607f18[_0x235130(0x267)](_0x270309[_0x235130(0x1e5)][_0x235130(0x1e3)]['length'],_0x3dc45a):_0x434393=_0x3dc45a;const _0x157af6=_0x607f18[_0x235130(0x25c)](getPercyOptions,_0x270309[_0x235130(0x1e5)]);if(_0x607f18[_0x235130(0x26a)](_0x270309['config'][_0x235130(0x23a)],0x1))_0x392cc6[_0x235130(0x1c9)](_0x5bef67=>{const _0x16db0f=_0x235130,_0x299575=[];_0x2cd8bb[_0x16db0f(0x1c9)]((_0x3ec678,_0xa47ead)=>{const _0x26c1b9=_0x16db0f,_0x217e1c={};_0x217e1c[_0x26c1b9(0x201)]=[_0x5bef67],_0x299575[_0x26c1b9(0x1de)]({'mochaOpts':Object['assign']({},_0x2d34be,_0x217e1c),'configuration':{'server':_0x7d6626,'capability':_0x3ec678,'proxySettings':_0x270309['config'][_0x26c1b9(0x23b)],'platform':helper[_0x26c1b9(0x1a3)](_0x3ec678),'browserStackLogLevel':_0x270309[_0x26c1b9(0x1e5)][_0x26c1b9(0x19b)],'platformIndex':_0xa47ead,'browserStackPercyOptions':_0x157af6,'platformCaps':Object[_0x26c1b9(0x237)]({'index':_0xa47ead},_0x270309['config'][_0x26c1b9(0x1e3)][_0xa47ead])}});}),_0x16898c[_0x16db0f(0x1de)](..._0x299575);});else{const _0x551a21=[];_0x2cd8bb[_0x235130(0x1c9)]((_0x25091e,_0x3fc076)=>{const _0x62f29f=_0x235130;let _0x41bc8e=Object[_0x62f29f(0x237)]({},_0x2d34be);testOpsHelper['isTestObservabilitySession']()&&testOpsHelper['shouldReRunObservabilityTests']()&&(_0x41bc8e={..._0x41bc8e,'spec':[..._0x392cc6]}),_0x551a21[_0x62f29f(0x1de)]({'mochaOpts':_0x41bc8e,'configuration':{'server':_0x7d6626,'capability':_0x25091e,'proxySettings':_0x270309[_0x62f29f(0x1e5)]['proxySettings'],'platform':helper[_0x62f29f(0x1a3)](_0x25091e),'browserStackLogLevel':_0x270309['config'][_0x62f29f(0x19b)],'platformIndex':_0x3fc076,'browserStackPercyOptions':_0x157af6,'platformCaps':Object['assign']({'index':_0x3fc076},_0x270309[_0x62f29f(0x1e5)][_0x62f29f(0x1e3)][_0x3fc076])}});}),_0x16898c[_0x235130(0x1de)](..._0x551a21);}logger[_0x235130(0x269)](_0x235130(0x19e)+_0x270309[_0x235130(0x1e5)][_0x235130(0x1e3)][_0x235130(0x211)]+'\x20platforms'),logger['info'](_0x607f18[_0x235130(0x1f2)]);let _0x5c35e5;_0x607f18[_0x235130(0x21b)](parallelTestRun,_0x16898c,_0x434393,_0x270309)[_0x235130(0x1c2)](_0x12fc8f=>{const _0x2ceb2a=_0x235130;PerformanceTester[_0x2ceb2a(0x1fa)](PerformanceEvents[_0x2ceb2a(0x229)]),_0x5c35e5=_0x12fc8f,_0x607f18[_0x2ceb2a(0x277)](printStats,_0x12fc8f,_0x30acc8[_0x2ceb2a(0x250)],_0x30acc8['reporterOptions']||_0x30acc8[_0x607f18[_0x2ceb2a(0x20a)]]);})[_0x235130(0x199)](async()=>{const _0x28a546=_0x235130;PerformanceTester[_0x28a546(0x1fa)](PerformanceEvents[_0x28a546(0x229)]),_0x270309[_0x28a546(0x222)]=helper[_0x28a546(0x1a1)](_0x5c35e5,_0x607f18['nOdHb']),await utilities[_0x28a546(0x23e)](_0x270309),testOpsHelper[_0x28a546(0x266)]();});}}module['exports']=run;