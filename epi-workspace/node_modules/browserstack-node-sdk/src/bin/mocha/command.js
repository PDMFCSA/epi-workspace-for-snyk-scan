#!/usr/bin/env node
'use strict';const a28_0x3bc820=a28_0x15b3;(function(_0x326ab3,_0x334ad2){const _0x3c081d=a28_0x15b3,_0x2a7d11=_0x326ab3();while(!![]){try{const _0x2cc12a=-parseInt(_0x3c081d(0x155))/0x1+-parseInt(_0x3c081d(0x1c9))/0x2*(parseInt(_0x3c081d(0x218))/0x3)+-parseInt(_0x3c081d(0x244))/0x4+parseInt(_0x3c081d(0x1dc))/0x5*(parseInt(_0x3c081d(0x192))/0x6)+parseInt(_0x3c081d(0x14f))/0x7*(-parseInt(_0x3c081d(0x1cd))/0x8)+parseInt(_0x3c081d(0x176))/0x9*(parseInt(_0x3c081d(0x1a4))/0xa)+-parseInt(_0x3c081d(0x206))/0xb*(-parseInt(_0x3c081d(0x1c4))/0xc);if(_0x2cc12a===_0x334ad2)break;else _0x2a7d11['push'](_0x2a7d11['shift']());}catch(_0x56ddad){_0x2a7d11['push'](_0x2a7d11['shift']());}}}(a28_0x4af4,0xe1432));function a28_0x15b3(_0x3d8e01,_0x152e1c){const _0x4af47a=a28_0x4af4();return a28_0x15b3=function(_0x15b35c,_0x28d288){_0x15b35c=_0x15b35c-0x146;let _0x118e24=_0x4af47a[_0x15b35c];return _0x118e24;},a28_0x15b3(_0x3d8e01,_0x152e1c);}const chalk=require('chalk'),logger=require(a28_0x3bc820(0x18f))[a28_0x3bc820(0x1c0)],{default:BrowserStackSetup}=require(a28_0x3bc820(0x1c7)),helper=require(a28_0x3bc820(0x150)),utilities=require(a28_0x3bc820(0x174)),testOpsHelper=require(a28_0x3bc820(0x14b)),fs=require('fs'),os=require('os'),{parallelTestRun}=require('../test-runner'),{requireModule,nestedKeyValue}=require(a28_0x3bc820(0x150)),{getPercyOptions}=require(a28_0x3bc820(0x17c)),Base=requireModule('mocha/lib/reporters/base.js','mocha'),collectFiles=requireModule(a28_0x3bc820(0x1d6),a28_0x3bc820(0x1c1)),constants=require('../utils/constants'),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a28_0x3bc820(0x1b1))[a28_0x3bc820(0x195)],centralScannerConstants=require(a28_0x3bc820(0x18d));function tag(_0x35690c,_0x1863e2,_0x22d876,_0x136be5){const _0x3407c4=a28_0x3bc820,_0x4e6592={'GhEvk':function(_0x51c6b4,_0x2c1b07){return _0x51c6b4+_0x2c1b07;},'utwoZ':function(_0x3233f7,_0x186bb6){return _0x3233f7+_0x186bb6;},'vanBA':function(_0x52c59b,_0x285ed9){return _0x52c59b+_0x285ed9;},'AxrDH':function(_0x521bfd,_0x15e3ea){return _0x521bfd(_0x15e3ea);},'oKdIX':function(_0x2ed901,_0x490fcc){return _0x2ed901+_0x490fcc;},'FGOWD':function(_0x15165c,_0x1407a3){return _0x15165c+_0x1407a3;},'rNLgE':function(_0x31dc62,_0x5a9b20){return _0x31dc62+_0x5a9b20;}},_0x43edda=_0x22d876?'/>':'>',_0x555dfd=[];let _0x35ee30;for(const _0x1fbf42 in _0x1863e2){Object[_0x3407c4(0x1a6)][_0x3407c4(0x21c)]['call'](_0x1863e2,_0x1fbf42)&&_0x555dfd[_0x3407c4(0x207)](_0x4e6592[_0x3407c4(0x22d)](_0x4e6592[_0x3407c4(0x214)](_0x4e6592[_0x3407c4(0x17f)](_0x1fbf42,'=\x22'),_0x4e6592[_0x3407c4(0x158)](escape,_0x1863e2[_0x1fbf42])),'\x22'));}return _0x35ee30=_0x4e6592['utwoZ'](_0x4e6592[_0x3407c4(0x24a)](_0x4e6592['oKdIX']('<',_0x35690c),_0x555dfd[_0x3407c4(0x222)]?_0x4e6592[_0x3407c4(0x214)]('\x20',_0x555dfd['join']('\x20')):''),_0x43edda),_0x136be5&&(_0x35ee30+=_0x4e6592['FGOWD'](_0x4e6592['rNLgE'](_0x4e6592[_0x3407c4(0x17f)](_0x136be5,'</'),_0x35690c),_0x43edda)),_0x35ee30;}let xunitContent='';function xunitWrite(_0xbe33ef){xunitContent+=_0xbe33ef;}function xunitTest(_0x2a49de,_0x59ce39){const _0x5e0be3=a28_0x3bc820,_0x592513={'aZrex':function(_0x2e2893,_0x1cfd1a){return _0x2e2893/_0x1cfd1a;},'KnkOk':function(_0x2799c2,_0x2ae46b){return _0x2799c2===_0x2ae46b;},'lnlTR':_0x5e0be3(0x17e),'TSzFo':function(_0x14166d,_0x5b5e1f){return _0x14166d+_0x5b5e1f;},'JILbx':function(_0x257d0b,_0x3b6f3f){return _0x257d0b(_0x3b6f3f);},'jxqrM':function(_0x452b85,_0x3f44ac,_0xf9ab66,_0x361dcb,_0x19693a){return _0x452b85(_0x3f44ac,_0xf9ab66,_0x361dcb,_0x19693a);},'AaIHf':_0x5e0be3(0x1af),'NpFDM':'failure','BQDOZ':function(_0x2c536a,_0x564917,_0x5eaf65,_0x509015){return _0x2c536a(_0x564917,_0x5eaf65,_0x509015);},'MKrzl':'skipped','FYWjb':function(_0x2589bc,_0xdce88f){return _0x2589bc(_0xdce88f);}};Base[_0x5e0be3(0x1f7)]=![];var _0x400774={'classname':_0x2a49de[_0x5e0be3(0x1b6)],'name':_0x2a49de[_0x5e0be3(0x1b4)],'time':_0x592513[_0x5e0be3(0x188)](_0x2a49de[_0x5e0be3(0x15b)],0x3e8)||0x0,'platform':_0x59ce39};if(_0x592513['KnkOk'](_0x2a49de[_0x5e0be3(0x21d)],_0x592513[_0x5e0be3(0x1ad)])){var _0x2b2743=_0x2a49de[_0x5e0be3(0x1e2)],_0x5982dd=!Base['hideDiff']&&Base['showDiff'](_0x2b2743)?_0x592513['TSzFo']('\x0a',Base[_0x5e0be3(0x231)](_0x2b2743[_0x5e0be3(0x1dd)],_0x2b2743[_0x5e0be3(0x233)])):'';_0x592513['JILbx'](xunitWrite,_0x592513[_0x5e0be3(0x1fb)](tag,_0x592513['AaIHf'],_0x400774,![],_0x592513[_0x5e0be3(0x1fb)](tag,_0x592513[_0x5e0be3(0x247)],{},![],_0x592513[_0x5e0be3(0x1ae)](_0x592513[_0x5e0be3(0x1ae)](_0x592513[_0x5e0be3(0x1ae)](_0x592513[_0x5e0be3(0x228)](escape,_0x2b2743['message']),_0x592513[_0x5e0be3(0x228)](escape,_0x5982dd)),'\x0a'),_0x592513[_0x5e0be3(0x228)](escape,_0x2b2743[_0x5e0be3(0x22f)])))));}else _0x2a49de['isPending']?_0x592513[_0x5e0be3(0x228)](xunitWrite,_0x592513[_0x5e0be3(0x1fb)](tag,_0x592513[_0x5e0be3(0x21b)],_0x400774,![],_0x592513[_0x5e0be3(0x1c8)](tag,_0x592513['MKrzl'],{},!![]))):_0x592513['FYWjb'](xunitWrite,_0x592513[_0x5e0be3(0x1c8)](tag,_0x592513[_0x5e0be3(0x21b)],_0x400774,!![]));}function a28_0x4af4(){const _0x3137fa=['AaIHf','hasOwnProperty','state','toUTCString','Writing\x20json\x20result\x20to\x20file','bgBlueBright','ndiZU','length','join','isBrowserstackInfra','suiteName','dxeHC','Couldn\x27t\x20write\x20json\x20result\x20to','JILbx','qqwWq','xayIS','MTkHv','cjs','GhEvk','info','stack','AZkAr','generateDiff','hzyQK','expected','cIDoD','eEoNO','testsFailed','getCentralUser','Listing\x20all\x20the\x20failures','useW3C','ygiCO','parse','getTCGConfigFilePaths','reporterOptions','notifyUpdate','map','DlBIb','pgzag','DENCH','passed','3672464niIwlJ','json','Mocha\x20Tests','NpFDM','BROWSERSTACK_TEST_OBSERVABILITY_YML','rMtge','oKdIX','files','eZFZh','parseFileNames','Qekyy','xunit','zUTkJ','\x0a\x0a\x0a','../../helpers/test-observability/utils','then','setUserConfigPath','esxbO','133eaVqEP','../../helpers/helper','sort','SDKTestSuccessful','finalExecution','errorMessage','1452811ZhUZrc','xgFrK','currentRetry','AxrDH','config','parallelsPerPlatform','duration','env','bold','zdjcQ','Couldn\x27t\x20write\x20xunit\x20result\x20to','getOwnPropertyNames','rmdirSync','jjrGl','red','error','pyYwk','output','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','Nzivz','start','getHubUrl','getUserWorkerCount','log','testsPending','writeFileSync','BROWSERSTACK_GRR_US_HUB_URL','NukQi','cliConfig','Tests:\x20\x20\x20\x20\x20\x20\x20','mlAIG','../../helpers/utilities','shouldReRunObservabilityTests','9dOBEQF','musgx','SDK_CLEANUP','Ikbui','InpwO','nyELa','../../helpers/percy/utils','PKhqV','failed','vanBA','iPVhE','zHZoU','logLevel','\x20skipped','error\x20removing\x20tcg\x20config\x20file','has','file','results','aZrex','stringify','CmhZy','IVQir','PhCJV','../../helpers/central-scanner/constants','forEach','../../helpers/logger','****\x20FAILURES\x20****','finally','42RwTDzb','yNyon','uqhqn','EVENTS','ORAzI','titlePathV','hMlqN','prepareCapabilities','validPlatformsPresent','pending','totalTests','testsuite','BROWSERSTACK_TEST_ACCESSIBILITY_YML','WspQm','IYRcV','PFHgj','includes','DVuNL','15861940fvmxCX','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','prototype','isUndefined','DFITC','fireFunnelTestEvent','XGFLs','SFRhi','rootHooks','lnlTR','TSzFo','testcase','kxthS','../../helpers/performance/constants','failures','central_scanner','title','jxJro','fullTitle','argv','isTestObservabilitySession','--disable-test-observability','rKnuq','pJHqF','gsnUG','FRAMEWORKS','cvzem','hicVN','winstonLogger','mocha','handleApp','hOYFd','40034052wVntpH','list','yrmDK','../../helpers/BrowserStackSetup','BQDOZ','266966pjpjov','Setting\x20non\x20exit\x20code\x20for\x20failures','qLnOK','chNSj','682344kyOqtC','AznUl','\x20failed','spec','framework','MOCHA','Akiso','jySvu','ShUYQ','mocha/lib/cli/collect-files.js','WTftI','titlePath','debug','</testsuite>','--disable-browserstack-automation','756905RHgLeO','actual','keys','add','recursive','reporter','err','UkdtG','lthTY','green','platforms','jPDAC','object','gwKgg','testSuites','JLnHN','indexOf','lWUsO','JHsxY','WDuCR','RQrdQ','lEHtt','test','consoleLog','fwjax','getPlatformName','bgRedBright','useColors','BROWSERSTACK_TEST_OBSERVABILITY','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','Printing\x20stats\x20of\x20tests','jxqrM','testsPassed','\x20total','setupTCGAuth','cxPRq','accessibilityOptions','YaIno','jOlMa','otwCn','LsrqN','Now,\x20showing\x20logs\x20from\x20mocha','11RexsVa','push','OPNpy','QrVbK','FdAKN','exitCode','extension','nnvKL','kujIt','QEKYK','printBuildLink','Total\x20Suites:\x20','zyMMG','doc','utwoZ','cdcWh','testObservability','accessibility','24Enebsk','BROWSERSTACK_RERUN_TESTS','yqtxH'];a28_0x4af4=function(){return _0x3137fa;};return a28_0x4af4();};function getStats(_0x1eac2c){const _0xd66c12=a28_0x3bc820,_0x398e87={};_0x398e87[_0xd66c12(0x235)]='suite',_0x398e87[_0xd66c12(0x249)]=_0xd66c12(0x243),_0x398e87['Qekyy']=_0xd66c12(0x17e),_0x398e87['InpwO']=_0xd66c12(0x187);const _0x5c0344=_0x398e87,_0xf2f96d=Object[_0xd66c12(0x1de)](_0x1eac2c);let _0x552ce9=0x0,_0x46bc89=0x0,_0x1fb6db=0x0,_0x1162e1=0x0;const _0x20cff3=new Set();_0xf2f96d[_0xd66c12(0x18e)](_0x33208c=>{const _0x10d3f0=_0xd66c12,_0x3173fe={};_0x3173fe[_0x10d3f0(0x1be)]=_0x5c0344[_0x10d3f0(0x235)],_0x3173fe[_0x10d3f0(0x173)]=_0x5c0344[_0x10d3f0(0x249)],_0x3173fe[_0x10d3f0(0x1e9)]=_0x5c0344[_0x10d3f0(0x147)];const _0x2ee3be=_0x3173fe;_0x1eac2c[_0x33208c][_0x5c0344[_0x10d3f0(0x17a)]][_0x10d3f0(0x18e)](_0x502599=>{const _0x1a8a5b=_0x10d3f0;_0x20cff3[_0x1a8a5b(0x1df)](_0x502599[_0x2ee3be[_0x1a8a5b(0x1be)]]),_0x552ce9++;switch(_0x502599['state']){case _0x2ee3be[_0x1a8a5b(0x173)]:_0x1fb6db++;break;case _0x2ee3be[_0x1a8a5b(0x1e9)]:_0x46bc89++;break;default:_0x1162e1++;}});});const _0x115e7a={};return _0x115e7a[_0xd66c12(0x1ea)]=_0x20cff3['size'],_0x115e7a[_0xd66c12(0x1e6)]=_0xf2f96d,_0x115e7a[_0xd66c12(0x19c)]=_0x552ce9,_0x115e7a[_0xd66c12(0x236)]=_0x46bc89,_0x115e7a['testsPassed']=_0x1fb6db,_0x115e7a['testsPending']=_0x1162e1,_0x115e7a;}function errorJSON(_0x27f991){const _0x2b7e7c=a28_0x3bc820;var _0x258da1={};return Object[_0x2b7e7c(0x160)](_0x27f991)[_0x2b7e7c(0x18e)](function(_0x5c7ff6){_0x258da1[_0x5c7ff6]=_0x27f991[_0x5c7ff6];},_0x27f991),_0x258da1;}function cleanCycles(_0x22b6bd){const _0x946e13=a28_0x3bc820,_0x19ce50={};_0x19ce50[_0x946e13(0x149)]=function(_0x3ac2f8,_0xd01592){return _0x3ac2f8===_0xd01592;},_0x19ce50[_0x946e13(0x193)]=_0x946e13(0x1e8),_0x19ce50[_0x946e13(0x1a8)]=function(_0x2992f7,_0x28a249){return _0x2992f7!==_0x28a249;},_0x19ce50[_0x946e13(0x24c)]=function(_0x5e1faa,_0x2b5f67){return _0x5e1faa!==_0x2b5f67;},_0x19ce50['JLnHN']=function(_0xfad429,_0x1da9e9){return _0xfad429+_0x1da9e9;};const _0x4ea088=_0x19ce50;var _0x3d3636=[];return JSON[_0x946e13(0x23b)](JSON[_0x946e13(0x189)](_0x22b6bd,function(_0x47fdbe,_0x3fd2d3){const _0x1d8592=_0x946e13;if(_0x4ea088[_0x1d8592(0x149)](typeof _0x3fd2d3,_0x4ea088[_0x1d8592(0x193)])&&_0x4ea088[_0x1d8592(0x1a8)](_0x3fd2d3,null)){if(_0x4ea088[_0x1d8592(0x24c)](_0x3d3636[_0x1d8592(0x1ec)](_0x3fd2d3),-0x1))return _0x4ea088[_0x1d8592(0x1eb)]('',_0x3fd2d3);_0x3d3636['push'](_0x3fd2d3);}return _0x3fd2d3;}));}function clean(_0x144ae2){const _0x3627e9=a28_0x3bc820,_0x4d9617={'pJHqF':function(_0x4d628e,_0x240ca1){return _0x4d628e instanceof _0x240ca1;},'DENCH':function(_0x1688f5,_0x32e58d){return _0x1688f5(_0x32e58d);}};var _0x4a2404=_0x144ae2['err']||{};return _0x4d9617[_0x3627e9(0x1bb)](_0x4a2404,Error)&&(_0x4a2404=_0x4d9617['DENCH'](errorJSON,_0x4a2404)),{'title':_0x144ae2[_0x3627e9(0x1b4)],'fullTitle':_0x144ae2[_0x3627e9(0x1b6)],'file':_0x144ae2[_0x3627e9(0x186)],'duration':_0x144ae2[_0x3627e9(0x15b)],'currentRetry':_0x144ae2[_0x3627e9(0x157)],'speed':_0x144ae2['speed'],'err':_0x4d9617[_0x3627e9(0x242)](cleanCycles,_0x4a2404)};}function printStats(_0x763527,_0x1ee7c4='spec',_0xd6bfe8={}){const _0x53e2c8=a28_0x3bc820,_0x491527={'OPNpy':function(_0x6cff21,_0x591e12){return _0x6cff21(_0x591e12);},'hMlqN':function(_0x23a250,_0x42f67f){return _0x23a250===_0x42f67f;},'dxeHC':_0x53e2c8(0x243),'hOYFd':'passes','kujIt':function(_0x120fcf,_0x4261a8){return _0x120fcf(_0x4261a8);},'MTkHv':'failed','zHZoU':_0x53e2c8(0x1b2),'otwCn':function(_0x3983e1,_0x437423){return _0x3983e1(_0x437423);},'cIDoD':_0x53e2c8(0x19b),'WDuCR':_0x53e2c8(0x187),'jxJro':function(_0x52b6c4,_0x2f7130){return _0x52b6c4===_0x2f7130;},'abnYK':function(_0x2dea2b,_0x5324be){return _0x2dea2b*_0x5324be;},'IVQir':function(_0x57da18,_0x41c7ad,_0x774861){return _0x57da18(_0x41c7ad,_0x774861);},'UkdtG':function(_0x272dfa,_0x2198e0){return _0x272dfa===_0x2198e0;},'yqtxH':function(_0x583e6c,_0x3acf8e){return _0x583e6c>_0x3acf8e;},'CmhZy':function(_0x1f7a03){return _0x1f7a03();},'JHsxY':_0x53e2c8(0x213),'AZkAr':function(_0x579e72,_0x1d671a){return _0x579e72>_0x1d671a;},'lthTY':_0x53e2c8(0x1ca),'jjrGl':_0x53e2c8(0x1fa),'zHqqg':function(_0x1bac44,_0x33293a){return _0x1bac44+_0x33293a;},'PhCJV':'Total\x20Platforms:\x20','qLnOK':function(_0x4be0eb,_0x215db4){return _0x4be0eb+_0x215db4;},'gsnUG':_0x53e2c8(0x211),'yrmDK':function(_0x4adcc4,_0x4b5bdf){return _0x4adcc4+_0x4b5bdf;},'fOvVT':_0x53e2c8(0x172),'fwjax':function(_0x1f1803,_0x4756dd){return _0x1f1803+_0x4756dd;},'ShUYQ':function(_0x243e40,_0x5f5600){return _0x243e40+_0x5f5600;},'BMeDV':_0x53e2c8(0x14a),'XLJoE':function(_0xcc8f38,_0xb5f2f2){return _0xcc8f38===_0xb5f2f2;},'QrVbK':_0x53e2c8(0x245),'YaIno':_0x53e2c8(0x21f),'jPDAC':_0x53e2c8(0x227),'NukQi':_0x53e2c8(0x1f9),'Ikbui':function(_0x2833c7,_0x5e8d1b){return _0x2833c7===_0x5e8d1b;},'pyYwk':_0x53e2c8(0x148),'SFRhi':_0x53e2c8(0x246),'jAHKk':function(_0x5ae31b,_0x2c6629){return _0x5ae31b||_0x2c6629;},'nyELa':function(_0x223b8f,_0x6ad49){return _0x223b8f(_0x6ad49);},'iPVhE':function(_0x3640ef,_0x52f975,_0x43e309,_0x322ddf){return _0x3640ef(_0x52f975,_0x43e309,_0x322ddf);},'PFHgj':_0x53e2c8(0x19d),'cdcWh':function(_0x41429c,_0x1365a5){return _0x41429c-_0x1365a5;},'FdAKN':function(_0x4e8d5b,_0x1b70ac){return _0x4e8d5b-_0x1b70ac;},'IYRcV':function(_0x25b3eb,_0x33f9d5){return _0x25b3eb/_0x33f9d5;},'WTftI':function(_0x3ef822,_0xe4d512){return _0x3ef822(_0xe4d512);},'kxthS':_0x53e2c8(0x1da),'tUSIn':'Writing\x20xunit\x20result\x20to\x20file','DVuNL':_0x53e2c8(0x15f),'jySvu':_0x53e2c8(0x1a5),'ORAzI':function(_0x50b2cb,_0x1ac98b){return _0x50b2cb===_0x1ac98b;},'pgzag':_0x53e2c8(0x238),'EaMJr':_0x53e2c8(0x190)};if(_0x491527['UkdtG'](_0x1ee7c4,_0x491527[_0x53e2c8(0x1ee)]))return;const _0x3a6361=0x0,_0x242fd6=()=>{const _0x29555a=_0x53e2c8;return _0x491527[_0x29555a(0x208)](Array,_0x3a6361)[_0x29555a(0x223)]('\x20\x20');},{testSuites:_0x6b402,platforms:_0x41055c,totalTests:_0xcac4a9,testsFailed:_0x42dedf,testsPassed:_0x40f27f,testsPending:_0x5f4870}=_0x491527[_0x53e2c8(0x20e)](getStats,_0x763527);_0x491527[_0x53e2c8(0x230)](_0x42dedf,0x0)&&(logger[_0x53e2c8(0x1d9)](_0x491527[_0x53e2c8(0x1e4)]),process[_0x53e2c8(0x20b)]=Math['min'](_0x42dedf,0xff));logger['debug'](_0x491527[_0x53e2c8(0x162)]);const _0x46549b=''+_0x491527['zHqqg'](chalk[_0x53e2c8(0x15d)](_0x491527[_0x53e2c8(0x18c)]),_0x41055c[_0x53e2c8(0x222)]),_0x55b8ed=''+_0x491527[_0x53e2c8(0x1cb)](chalk[_0x53e2c8(0x15d)](_0x491527[_0x53e2c8(0x1bc)]),_0x6b402),_0xd55b8d=''+_0x491527[_0x53e2c8(0x1cb)](_0x491527[_0x53e2c8(0x1cb)](_0x491527[_0x53e2c8(0x1c6)](chalk[_0x53e2c8(0x15d)](_0x491527['fOvVT']),_0x491527[_0x53e2c8(0x21a)](_0x42dedf,0x0)?chalk['bold'][_0x53e2c8(0x163)](_0x42dedf+_0x53e2c8(0x1cf))+',\x20':''),_0x491527[_0x53e2c8(0x230)](_0x5f4870,0x0)?chalk[_0x53e2c8(0x15d)]['yellow'](_0x5f4870+_0x53e2c8(0x183))+',\x20':''),_0x491527[_0x53e2c8(0x230)](_0x40f27f,0x0)?chalk[_0x53e2c8(0x15d)][_0x53e2c8(0x1e5)](_0x40f27f+'\x20passed')+',\x20':'')+_0xcac4a9+_0x53e2c8(0x1fd);console[_0x53e2c8(0x16c)](_0x491527[_0x53e2c8(0x1f4)](_0x491527['zHqqg'](_0x491527[_0x53e2c8(0x1d5)](_0x491527[_0x53e2c8(0x1f4)](_0x491527[_0x53e2c8(0x1cb)](_0x491527['BMeDV'],_0x46549b),'\x0a'),_0x55b8ed),'\x0a'),_0xd55b8d));if(_0x491527['XLJoE'](_0x1ee7c4,_0x491527[_0x53e2c8(0x209)])){const _0x3ed4fd={},_0x29aae2={};_0x29aae2[_0x53e2c8(0x1ea)]=_0x6b402,_0x29aae2['platforms']=_0x41055c,_0x29aae2['testsFailed']=_0x42dedf,_0x29aae2[_0x53e2c8(0x1fc)]=_0x40f27f,_0x29aae2[_0x53e2c8(0x16d)]=_0x5f4870,_0x3ed4fd['stats']=_0x29aae2,_0x41055c[_0x53e2c8(0x18e)](_0x14191f=>{const _0x52db05=_0x53e2c8,_0x304cfa={'AznUl':function(_0x27cba2,_0x3efc15){const _0x2391af=a28_0x15b3;return _0x491527[_0x2391af(0x198)](_0x27cba2,_0x3efc15);},'uqhqn':_0x491527[_0x52db05(0x226)],'ygiCO':_0x491527[_0x52db05(0x1c3)],'jiRAJ':function(_0x35e0dc,_0x387b47){const _0x429ccd=_0x52db05;return _0x491527[_0x429ccd(0x20e)](_0x35e0dc,_0x387b47);},'wGgPb':_0x491527[_0x52db05(0x22b)],'pwhUk':_0x491527[_0x52db05(0x181)],'xayIS':function(_0x47f40c,_0x4caa57){const _0x2b8313=_0x52db05;return _0x491527[_0x2b8313(0x203)](_0x47f40c,_0x4caa57);},'lWUsO':_0x491527[_0x52db05(0x234)],'WspQm':function(_0x129284,_0x3951ed){return _0x491527['kujIt'](_0x129284,_0x3951ed);}};_0x3ed4fd[_0x14191f]={'pending':[],'failures':[],'passes':[],'tests':_0x763527[_0x14191f][_0x491527[_0x52db05(0x1ef)]][_0x52db05(0x23f)](clean)},_0x763527[_0x14191f][_0x491527[_0x52db05(0x1ef)]][_0x52db05(0x18e)](_0x45bf76=>{const _0x2975a5=_0x52db05;if(_0x304cfa[_0x2975a5(0x1ce)](_0x45bf76[_0x2975a5(0x21d)],_0x304cfa[_0x2975a5(0x194)]))_0x3ed4fd[_0x14191f][_0x304cfa[_0x2975a5(0x23a)]][_0x2975a5(0x207)](_0x304cfa['jiRAJ'](clean,_0x45bf76));else _0x304cfa['AznUl'](_0x45bf76[_0x2975a5(0x21d)],_0x304cfa['wGgPb'])?_0x3ed4fd[_0x14191f][_0x304cfa['pwhUk']][_0x2975a5(0x207)](_0x304cfa[_0x2975a5(0x22a)](clean,_0x45bf76)):_0x3ed4fd[_0x14191f][_0x304cfa[_0x2975a5(0x1ed)]]['push'](_0x304cfa[_0x2975a5(0x19f)](clean,_0x45bf76));});});if(_0xd6bfe8[_0x53e2c8(0x166)])try{logger['debug'](_0x491527[_0x53e2c8(0x201)],_0xd6bfe8[_0x53e2c8(0x166)]),fs[_0x53e2c8(0x16e)](_0xd6bfe8[_0x53e2c8(0x166)],JSON[_0x53e2c8(0x189)](_0x3ed4fd,null,0x3));}catch(_0x545e30){logger['error'](_0x491527[_0x53e2c8(0x1e7)],_0xd6bfe8[_0x53e2c8(0x166)]),logger[_0x53e2c8(0x1d9)](_0x545e30);}else logger[_0x53e2c8(0x1d9)](_0x491527[_0x53e2c8(0x170)]),console[_0x53e2c8(0x16c)](JSON[_0x53e2c8(0x189)](_0x3ed4fd,null,0x3));}else{if(_0x491527[_0x53e2c8(0x179)](_0x1ee7c4,_0x491527[_0x53e2c8(0x165)])){let _0x874edd;const _0x499c3c=_0x491527[_0x53e2c8(0x1ab)];_0xd6bfe8&&(_0x874edd=_0xd6bfe8[_0x53e2c8(0x225)]);_0x874edd=_0x491527['jAHKk'](_0x874edd,_0x499c3c);let _0xeb977b=0x0,_0x321b27=0x0,_0x3d450d=0x0,_0x3d5557=0x0;_0x41055c[_0x53e2c8(0x18e)](_0x28291f=>{const _0x295846=_0x53e2c8,_0xe915c5={'ndiZU':function(_0x364ebe,_0x4af802){const _0xbb1b27=a28_0x15b3;return _0x491527[_0xbb1b27(0x1b5)](_0x364ebe,_0x4af802);},'NczAA':_0x491527[_0x295846(0x226)],'RQrdQ':function(_0x52d701,_0x5aec8d){return _0x491527['hMlqN'](_0x52d701,_0x5aec8d);},'lEHtt':_0x491527['MTkHv'],'musgx':function(_0x55abed,_0x23fae9){return _0x491527['abnYK'](_0x55abed,_0x23fae9);}};_0x763527[_0x28291f][_0x491527['WDuCR']]['forEach'](_0x1691f4=>{const _0x3e9a5f=_0x295846;if(_0xe915c5[_0x3e9a5f(0x221)](_0x1691f4['state'],_0xe915c5['NczAA']))_0xeb977b++;else _0xe915c5[_0x3e9a5f(0x1f0)](_0x1691f4[_0x3e9a5f(0x21d)],_0xe915c5[_0x3e9a5f(0x1f1)])&&_0x321b27++;_0x3d450d++,_0x3d5557+=_0xe915c5[_0x3e9a5f(0x177)](_0x1691f4['duration'],0x1);});}),_0x491527[_0x53e2c8(0x17b)](xunitWrite,_0x491527[_0x53e2c8(0x180)](tag,_0x491527[_0x53e2c8(0x1a1)],{'name':_0x874edd,'tests':_0x3d450d,'failures':0x0,'errors':_0x321b27,'skipped':_0x491527[_0x53e2c8(0x215)](_0x491527[_0x53e2c8(0x20a)](_0x3d450d,_0x321b27),_0xeb977b),'timestamp':new Date()[_0x53e2c8(0x21e)](),'time':_0x491527[_0x53e2c8(0x1a0)](_0x3d5557,0x3e8)||0x0},![])),_0x41055c[_0x53e2c8(0x18e)](_0x4be855=>{const _0x12e7ef=_0x53e2c8;_0x763527[_0x4be855][_0x491527[_0x12e7ef(0x1ef)]][_0x12e7ef(0x18e)](_0x37a2d2=>{const _0xd67047=_0x12e7ef;_0x491527[_0xd67047(0x18b)](xunitTest,_0x37a2d2,_0x4be855);});}),_0x491527[_0x53e2c8(0x1d7)](xunitWrite,_0x491527[_0x53e2c8(0x1b0)]);if(_0xd6bfe8['output'])try{logger[_0x53e2c8(0x1d9)](_0x491527['tUSIn'],_0xd6bfe8[_0x53e2c8(0x166)]),fs[_0x53e2c8(0x16e)](_0xd6bfe8[_0x53e2c8(0x166)],xunitContent);}catch(_0x37403d){logger[_0x53e2c8(0x164)](_0x491527[_0x53e2c8(0x1a3)],_0xd6bfe8[_0x53e2c8(0x166)]),logger[_0x53e2c8(0x1d9)](_0x37403d);}else logger[_0x53e2c8(0x1d9)](_0x491527[_0x53e2c8(0x1d4)]),console[_0x53e2c8(0x16c)](xunitContent);}else{if(_0x491527[_0x53e2c8(0x196)](_0x42dedf,0x0))return;console[_0x53e2c8(0x16c)](),logger['debug'](_0x491527[_0x53e2c8(0x241)]),console[_0x53e2c8(0x16c)](chalk[_0x53e2c8(0x15d)][_0x53e2c8(0x1f6)](_0x491527['EaMJr'])),_0x41055c[_0x53e2c8(0x18e)](_0x1441f2=>{const _0x41313e=_0x53e2c8,_0x51bf3e=[];_0x763527[_0x1441f2][_0x491527[_0x41313e(0x1ef)]][_0x41313e(0x18e)](_0x13cb4d=>{const _0x1dc954=_0x41313e;_0x491527[_0x1dc954(0x1e3)](_0x13cb4d[_0x1dc954(0x21d)],_0x491527['MTkHv'])&&(_0x13cb4d[_0x1dc954(0x1d8)]=()=>_0x13cb4d[_0x1dc954(0x197)],_0x51bf3e[_0x1dc954(0x207)](_0x13cb4d));}),_0x491527[_0x41313e(0x21a)](_0x51bf3e['length'],0x0)&&(Base['consoleLog'](),Base[_0x41313e(0x1f3)](_0x491527[_0x41313e(0x18a)](_0x242fd6),chalk[_0x41313e(0x15d)][_0x41313e(0x220)](_0x1441f2)),Base[_0x41313e(0x1c5)](_0x51bf3e));});}}}async function run(_0x5700bc,_0x5579d6){const _0x352466=a28_0x3bc820,_0x2e4c8f={'QEKYK':function(_0x1be44f,_0x4846ce,_0x4af8ca,_0xa70cc0){return _0x1be44f(_0x4846ce,_0x4af8ca,_0xa70cc0);},'hzyQK':'reporter-option','hicVN':_0x352466(0x184),'lijJZ':_0x352466(0x152),'chNSj':function(_0x14d3ca,_0x3a55f3,_0x2785e5,_0x2d0d26){return _0x14d3ca(_0x3a55f3,_0x2785e5,_0x2d0d26);},'Nzivz':_0x352466(0x1c1),'Akiso':_0x352466(0x1b9),'zyMMG':_0x352466(0x1db),'qqwWq':function(_0x44ff97,_0x53d911){return _0x44ff97!=_0x53d911;},'PKhqV':_0x352466(0x22c),'XGFLs':'mjs','jOlMa':_0x352466(0x1f2),'zdjcQ':'rerunTests','esxbO':function(_0x184153,_0x12393e){return _0x184153(_0x12393e);},'xgFrK':function(_0x9acd2e,_0xebc0fa,_0x34f34a){return _0x9acd2e(_0xebc0fa,_0x34f34a);},'nnvKL':_0x352466(0x24b),'rKnuq':'Running\x20your\x20mocha\x20tests','LsrqN':_0x352466(0x205),'DlBIb':function(_0x32adef,_0x21467f){return _0x32adef*_0x21467f;},'cxPRq':function(_0x4c7f8e,_0x11d543){return _0x4c7f8e(_0x11d543);},'FURTi':function(_0x46e6c1,_0x1e366c){return _0x46e6c1!==_0x1e366c;}};process[_0x352466(0x1b7)][_0x352466(0x1a2)](_0x2e4c8f[_0x352466(0x1d3)])&&(process[_0x352466(0x15c)][_0x352466(0x1f8)]=![]);process['argv'][_0x352466(0x1a2)](_0x2e4c8f[_0x352466(0x212)])&&(process['env']['BROWSERSTACK_AUTOMATION']=![]);const _0x1de1b6=new BrowserStackSetup(_0x5700bc,_0x2e4c8f[_0x352466(0x168)]);helper[_0x352466(0x14d)](_0x1de1b6[_0x352466(0x1d1)],_0x5700bc);helper['isBrowserstackInfra']()?(await _0x1de1b6['initialize'](),await helper[_0x352466(0x1c2)](_0x1de1b6[_0x352466(0x159)])):await _0x1de1b6[_0x352466(0x1fe)]();const _0x1c6ff3=[];let _0x3211cb=[];if(!_0x1de1b6[_0x352466(0x159)])return;_0x2e4c8f[_0x352466(0x229)](_0x1de1b6['config'][_0x352466(0x216)],null)&&(process[_0x352466(0x15c)][_0x352466(0x248)]=_0x1de1b6[_0x352466(0x159)][_0x352466(0x216)]);!helper[_0x352466(0x1a7)](_0x1de1b6['config'][_0x352466(0x217)])&&(process[_0x352466(0x15c)][_0x352466(0x19e)]=_0x1de1b6[_0x352466(0x159)][_0x352466(0x217)]);!helper['isUndefined'](_0x1de1b6[_0x352466(0x159)][_0x352466(0x200)])&&(process[_0x352466(0x15c)][_0x352466(0x167)]=JSON['stringify'](_0x1de1b6[_0x352466(0x159)][_0x352466(0x200)]));const {extension:extension=['js',_0x2e4c8f[_0x352466(0x17d)],_0x2e4c8f[_0x352466(0x1aa)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x2e4c8f[_0x352466(0x202)]]}=_0x5700bc,_0x58691a={..._0x5700bc};_0x58691a[_0x352466(0x1ac)]=null;const _0xc62c50=_0x58691a;let _0x45746f;if(testOpsHelper[_0x352466(0x1b8)]()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0x535ebc=process[_0x352466(0x15c)][_0x352466(0x219)];!helper[_0x352466(0x1a7)](_0x1de1b6[_0x352466(0x171)])&&_0x1de1b6[_0x352466(0x171)][_0x352466(0x185)](_0x2e4c8f[_0x352466(0x15e)])&&(_0x535ebc=_0x1de1b6['cliConfig']['get'](_0x2e4c8f[_0x352466(0x15e)])),_0x45746f=testOpsHelper[_0x352466(0x146)](_0x535ebc);}if(helper[_0x352466(0x1a7)](_0x45746f)){const _0x291fe1={};_0x291fe1['ignore']=ignore,_0x291fe1[_0x352466(0x20c)]=extension,_0x291fe1['file']=file,_0x291fe1[_0x352466(0x1e0)]=recursive,_0x291fe1[_0x352466(0x151)]=sort,_0x291fe1[_0x352466(0x1d0)]=spec,_0x45746f=_0x2e4c8f[_0x352466(0x14e)](collectFiles,_0x291fe1),_0x2e4c8f[_0x352466(0x156)](nestedKeyValue,_0x45746f,[_0x2e4c8f[_0x352466(0x20d)]])&&(_0x45746f=_0x45746f[_0x352466(0x24b)]);}if(!helper[_0x352466(0x224)]()){const _0xc4926=0x1,_0xbb5fe6={..._0xc62c50};_0xbb5fe6[_0x352466(0x1d0)]=[..._0x45746f],_0x1c6ff3['push']({'mochaOpts':_0xbb5fe6,'configuration':{'platform':os['platform']()}}),logger['info'](_0x2e4c8f[_0x352466(0x1ba)]),logger[_0x352466(0x22e)](_0x2e4c8f['LsrqN']),_0x2e4c8f['QEKYK'](parallelTestRun,_0x1c6ff3,_0xc4926,_0x1de1b6)[_0x352466(0x14c)](_0x1230fb=>{const _0x1d5510=_0x352466;PerformanceTester[_0x1d5510(0x169)](PerformanceEvents[_0x1d5510(0x178)]),_0x2e4c8f[_0x1d5510(0x20f)](printStats,_0x1230fb,_0x5700bc[_0x1d5510(0x1e1)],_0x5700bc[_0x1d5510(0x23d)]||_0x5700bc[_0x2e4c8f[_0x1d5510(0x232)]]);})[_0x352466(0x191)](()=>{const _0x193bbd=_0x352466;PerformanceTester[_0x193bbd(0x169)](PerformanceEvents[_0x193bbd(0x178)]);try{const {browserstackFolderPath:_0x5be83a,tcgConfigPath:_0x8c73fe}=helper[_0x193bbd(0x23c)]();fs['unlinkSync'](_0x8c73fe),fs[_0x193bbd(0x161)](_0x5be83a);}catch(_0x23f541){logger[_0x193bbd(0x1d9)](_0x2e4c8f[_0x193bbd(0x1bf)],_0x23f541);}try{utilities[_0x193bbd(0x1a9)](_0x2e4c8f['lijJZ'],{},_0x1de1b6[_0x193bbd(0x159)],_0x1de1b6['framework']);}catch(_0x2b18ac){logger['debug']('Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20'+_0x2b18ac[_0x193bbd(0x22f)]);}try{helper[_0x193bbd(0x23e)]();}catch(_0x407633){logger[_0x193bbd(0x1d9)]('Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20'+_0x407633);}testOpsHelper['printBuildLink']();});}else{const _0x236f7a=helper[_0x352466(0x239)](_0x1de1b6['config']);let _0x23e100=helper[_0x352466(0x16a)](_0x1de1b6['config']);_0x3211cb=helper[_0x352466(0x199)](_0x1de1b6[_0x352466(0x159)],_0x236f7a,constants[_0x352466(0x1bd)][_0x352466(0x1d2)]);helper[_0x352466(0x237)]()[_0x352466(0x1b3)]&&(_0x23e100=centralScannerConstants[_0x352466(0x16f)]);let _0x4d3fca;const _0x5e8ac7=_0x1de1b6[_0x352466(0x159)]['parallelsPerPlatform']||helper[_0x352466(0x16b)](_0x5700bc,_0x5579d6,_0x1de1b6[_0x352466(0x159)],constants[_0x352466(0x1bd)][_0x352466(0x1d2)])||0x1;helper[_0x352466(0x19a)](_0x1de1b6[_0x352466(0x159)])?_0x4d3fca=_0x2e4c8f[_0x352466(0x240)](_0x1de1b6['config']['platforms']['length'],_0x5e8ac7):_0x4d3fca=_0x5e8ac7;const _0x144ec5=_0x2e4c8f[_0x352466(0x1ff)](getPercyOptions,_0x1de1b6[_0x352466(0x159)]);if(_0x2e4c8f['FURTi'](_0x1de1b6['config'][_0x352466(0x15a)],0x1))_0x45746f[_0x352466(0x18e)](_0x4ae257=>{const _0x3b24b3=_0x352466,_0x32014b=[];_0x3211cb[_0x3b24b3(0x18e)]((_0x522c8a,_0x4f5d05)=>{const _0x18039f=_0x3b24b3,_0x62b84f={};_0x62b84f[_0x18039f(0x1d0)]=[_0x4ae257],_0x32014b[_0x18039f(0x207)]({'mochaOpts':Object['assign']({},_0xc62c50,_0x62b84f),'configuration':{'server':_0x23e100,'capability':_0x522c8a,'proxySettings':_0x1de1b6[_0x18039f(0x159)]['proxySettings'],'platform':helper[_0x18039f(0x1f5)](_0x522c8a),'browserStackLogLevel':_0x1de1b6[_0x18039f(0x159)][_0x18039f(0x182)],'platformIndex':_0x4f5d05,'browserStackPercyOptions':_0x144ec5,'platformCaps':Object['assign']({'index':_0x4f5d05},_0x1de1b6[_0x18039f(0x159)][_0x18039f(0x1e6)][_0x4f5d05])}});}),_0x1c6ff3['push'](..._0x32014b);});else{const _0x5089ac=[];_0x3211cb[_0x352466(0x18e)]((_0x127b52,_0x413557)=>{const _0x200ae1=_0x352466;let _0x44cce9=Object['assign']({},_0xc62c50);testOpsHelper['isTestObservabilitySession']()&&testOpsHelper[_0x200ae1(0x175)]()&&(_0x44cce9={..._0x44cce9,'spec':[..._0x45746f]}),_0x5089ac[_0x200ae1(0x207)]({'mochaOpts':_0x44cce9,'configuration':{'server':_0x23e100,'capability':_0x127b52,'proxySettings':_0x1de1b6[_0x200ae1(0x159)]['proxySettings'],'platform':helper[_0x200ae1(0x1f5)](_0x127b52),'browserStackLogLevel':_0x1de1b6[_0x200ae1(0x159)]['logLevel'],'platformIndex':_0x413557,'browserStackPercyOptions':_0x144ec5,'platformCaps':Object['assign']({'index':_0x413557},_0x1de1b6[_0x200ae1(0x159)][_0x200ae1(0x1e6)][_0x413557])}});}),_0x1c6ff3[_0x352466(0x207)](..._0x5089ac);}logger['info']('Running\x20your\x20mocha\x20tests\x20across\x20'+_0x1de1b6['config'][_0x352466(0x1e6)][_0x352466(0x222)]+'\x20platforms'),logger[_0x352466(0x22e)](_0x2e4c8f[_0x352466(0x204)]);let _0xb80ca7;_0x2e4c8f[_0x352466(0x1cc)](parallelTestRun,_0x1c6ff3,_0x4d3fca,_0x1de1b6)['then'](_0x398991=>{const _0x2f2462=_0x352466;PerformanceTester[_0x2f2462(0x169)](PerformanceEvents[_0x2f2462(0x178)]),_0xb80ca7=_0x398991,_0x2e4c8f[_0x2f2462(0x1cc)](printStats,_0x398991,_0x5700bc['reporter'],_0x5700bc[_0x2f2462(0x23d)]||_0x5700bc[_0x2e4c8f[_0x2f2462(0x232)]]);})['finally'](async()=>{const _0x288646=_0x352466;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']),_0x1de1b6[_0x288646(0x154)]=helper['getErrorMessageFromResults'](_0xb80ca7,_0x2e4c8f[_0x288646(0x168)]),await utilities[_0x288646(0x153)](_0x1de1b6),testOpsHelper[_0x288646(0x210)]();});}}module['exports']=run;