#!/usr/bin/env node
'use strict';const a32_0x381cc7=a32_0x446e;(function(_0x286c8c,_0x4684c7){const _0x37c8a5=a32_0x446e,_0x323a55=_0x286c8c();while(!![]){try{const _0x20198d=parseInt(_0x37c8a5(0x1d0))/0x1+parseInt(_0x37c8a5(0x24f))/0x2+-parseInt(_0x37c8a5(0x257))/0x3+-parseInt(_0x37c8a5(0x154))/0x4+-parseInt(_0x37c8a5(0x249))/0x5*(-parseInt(_0x37c8a5(0x262))/0x6)+parseInt(_0x37c8a5(0x167))/0x7*(-parseInt(_0x37c8a5(0x16c))/0x8)+-parseInt(_0x37c8a5(0x1f3))/0x9;if(_0x20198d===_0x4684c7)break;else _0x323a55['push'](_0x323a55['shift']());}catch(_0x28cc5e){_0x323a55['push'](_0x323a55['shift']());}}}(a32_0x2cf4,0x2934c));function a32_0x446e(_0x3b9b80,_0x9c5c56){const _0x2cf49a=a32_0x2cf4();return a32_0x446e=function(_0x446e71,_0x170fac){_0x446e71=_0x446e71-0x154;let _0x3fc9c6=_0x2cf49a[_0x446e71];return _0x3fc9c6;},a32_0x446e(_0x3b9b80,_0x9c5c56);}const chalk=require(a32_0x381cc7(0x20e)),logger=require(a32_0x381cc7(0x193))[a32_0x381cc7(0x253)],helper=require(a32_0x381cc7(0x1b3)),utilities=require(a32_0x381cc7(0x225)),testOpsHelper=require(a32_0x381cc7(0x16f)),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a32_0x381cc7(0x162)),{requireModule,nestedKeyValue}=require('../../helpers/helper'),{getPercyOptions}=require(a32_0x381cc7(0x174)),Base=requireModule('mocha/lib/reporters/base.js',a32_0x381cc7(0x252)),collectFiles=requireModule(a32_0x381cc7(0x244),a32_0x381cc7(0x252)),constants=require(a32_0x381cc7(0x1ed)),PerformanceTester=require(a32_0x381cc7(0x213)),PerformanceEvents=require(a32_0x381cc7(0x267))[a32_0x381cc7(0x237)],centralScannerConstants=require(a32_0x381cc7(0x247)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),TestHubHandler=require(a32_0x381cc7(0x17d)),ClientTroubleShootingService=require(a32_0x381cc7(0x255));function tag(_0x55b17b,_0x1e9c81,_0x124fd7,_0x1bb39e){const _0x1791ed=a32_0x381cc7,_0x21a5d1={'cAJlz':function(_0x5f3a42,_0x4a85f1){return _0x5f3a42+_0x4a85f1;},'EYIfn':function(_0x27698b,_0xbe7f16){return _0x27698b+_0xbe7f16;},'qGTbY':function(_0x239833,_0x326bc8){return _0x239833(_0x326bc8);},'kZkDF':function(_0x4caa4f,_0x58ab29){return _0x4caa4f+_0x58ab29;},'zsFvW':function(_0x27eb0c,_0x542be3){return _0x27eb0c+_0x542be3;},'qmBMg':function(_0x5b1e0a,_0x485a21){return _0x5b1e0a+_0x485a21;}},_0x210d81=_0x124fd7?'/>':'>',_0x3d3a52=[];let _0x44c4a2;for(const _0x219f2c in _0x1e9c81){Object[_0x1791ed(0x179)][_0x1791ed(0x1b9)][_0x1791ed(0x1ef)](_0x1e9c81,_0x219f2c)&&_0x3d3a52[_0x1791ed(0x19a)](_0x21a5d1[_0x1791ed(0x169)](_0x21a5d1['cAJlz'](_0x21a5d1[_0x1791ed(0x1aa)](_0x219f2c,'=\x22'),_0x21a5d1['qGTbY'](escape,_0x1e9c81[_0x219f2c])),'\x22'));}return _0x44c4a2=_0x21a5d1[_0x1791ed(0x1aa)](_0x21a5d1[_0x1791ed(0x1d7)](_0x21a5d1[_0x1791ed(0x169)]('<',_0x55b17b),_0x3d3a52[_0x1791ed(0x1a9)]?_0x21a5d1[_0x1791ed(0x269)]('\x20',_0x3d3a52[_0x1791ed(0x1a5)]('\x20')):''),_0x210d81),_0x1bb39e&&(_0x44c4a2+=_0x21a5d1[_0x1791ed(0x269)](_0x21a5d1['qmBMg'](_0x21a5d1[_0x1791ed(0x269)](_0x1bb39e,'</'),_0x55b17b),_0x210d81)),_0x44c4a2;}let xunitContent='';function xunitWrite(_0x28da8f){xunitContent+=_0x28da8f;}function a32_0x2cf4(){const _0x7b276d=['yeFcG','Usszd','Running\x20your\x20mocha\x20tests','SKUnC','uhZRH','yellow','tNLqH','26695hiwfwm','getCentralUser','Couldn\x27t\x20write\x20xunit\x20result\x20to','Running\x20your\x20mocha\x20tests\x20across\x20','wBSXz','ZRVxg','RjpcC','kZkDF','green','gzdNh','finally','NwDCp','fcZtS','isEmpty','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','stats','zIKkR','VuDuh','logLevel','log','QUNUT','notifyUpdate','isPending','get','add','error','includeTagsInTestingScope','jlUJo','PKIIp','../utils/constants','validPlatformsPresent','call','testsFailed','indexOf','useW3C','443898lEABst','kmdwa','DqlIk','RRzYv','lVwyR','NtpaJ','YJoXx','BaMCa','stack','MyclZ','HhTWj','vwnNk','output','setUserConfigPath','bgRedBright','HBePS','FVFMc','VVivu','parallelsPerPlatform','finalExecution','parse','RbKia','config','MOCHA','krOcT','rerunTests','Kjrli','chalk','ORUrN','rootHooks','cliConfig','unlinkSync','../../helpers/performance/performance-tester','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','speed','****\x20FAILURES\x20****','ORNCg','OfofI','oVWgw','KAknZ','list','NZVJe','xpHBW','isTestObservabilitySession','DkCws','passes','reporter-option','map','testsPending','cjs','../../helpers/utilities','results','fullTitle','start','getTCGConfigFilePaths','titlePath','prepareCapabilities','info','wFQVh','eALHQ','totalTests','uTZyS','retryTestsOnFailure','assign','bstack:options','platform','isNotUndefined','zwGDr','EVENTS','hNhNb','DlfRH','FRAMEWORKS','Parsm','generateDiff','includeEncodedExtension','files','failures','foUHw','keys','red','PEwXV','mocha/lib/cli/collect-files.js','ADmec','testcase','../../helpers/central-scanner/constants','titlePathV','5idGUel','initialize','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','object','accessibilityOptions','VAFAj','643682WkmDUI','bQjoC','title','mocha','winstonLogger','failure','../utils/clientTroubleshootingService','parseTestOrchestrationOptions','518925hLRglU','reporterOptions','min','failed','mZSSz','bVQNg','toUTCString','launchBuild','bold','testsPassed','\x20passed','1821018uzwomV','QoaPe','extension','igsUf','fireFunnelTestEvent','../../helpers/performance/constants','UWNak','zsFvW','661356WvovHj','BROWSERSTACK_RERUN_TESTS','expected','tWKPz','ZTyCi','file','WNJmx','getPlatformName','WVJAB','Total\x20Platforms:\x20','passed','xnBwS','printBuildLink','getErrorMessageFromResults','../test-runner','maxRetries','framework','BROWSERSTACK_TEST_ACCESSIBILITY_YML','message','669361PSJSal','dGtww','cAJlz','spec','eRwju','8ahdqUx','testsuite','\x0a\x0a\x0a','../../helpers/test-observability/utils','hzTcr','LfVbC','SDK_CLEANUP','test','../../helpers/percy/utils','Writing\x20json\x20result\x20to\x20file','BROWSERSTACK_TEST_OBSERVABILITY_YML','pvoHh','actual','prototype','tBzXP','EdsPc','SThJW','../../helpers/testhub/testhubHandler','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','sfCFG','Couldn\x27t\x20write\x20json\x20result\x20to','Total\x20Suites:\x20','oUmjs','accessibility','ybuSi','testObservability','cJMnk','Tests:\x20\x20\x20\x20\x20\x20\x20','ldBEw','mjs','sDFLe','\x20total','NUhPz','ignore','NWaxC','jjYqQ','then','QswTu','testSuites','../../helpers/logger','parseFileNames','debug','BROWSERSTACK_GRR_US_HUB_URL','ZXGEr','IJxVb','DAmSQ','push','stringify','capability','TumOR','rwmQw','err','json','shouldReRunObservabilityTests','ZdgvG','QMsCM','proxySettings','join','isUndefined','hideDiff','duration','length','EYIfn','</testsuite>','env','GEgTG','forEach','Now,\x20showing\x20logs\x20from\x20mocha','xunit','ZmXYg','reporter','../../helpers/helper','getOwnPropertyNames','IwRyo','recursive','OmROL','state','hasOwnProperty','retries','isBrowserstackInfra','consoleLog','KUBUP','platforms','suite','Listing\x20all\x20the\x20failures','rmdirSync','sort','XQybH','Writing\x20xunit\x20result\x20to\x20file','GaokR','showDiff','has','JddIo'];a32_0x2cf4=function(){return _0x7b276d;};return a32_0x2cf4();}function xunitTest(_0x2aa19a,_0x1a0d4c){const _0x429a4e=a32_0x381cc7,_0x267f8b={'IJxVb':function(_0x3aced2,_0x1e97e5){return _0x3aced2/_0x1e97e5;},'MyclZ':function(_0x435ee9,_0x173dc3){return _0x435ee9===_0x173dc3;},'aqFZL':_0x429a4e(0x25a),'xpHBW':function(_0x327651,_0x15449a){return _0x327651+_0x15449a;},'uTZyS':function(_0x4e7c84,_0xe97544){return _0x4e7c84(_0xe97544);},'RRzYv':function(_0x4ea993,_0x1de55c,_0x5385c3,_0x522dc6,_0x210123){return _0x4ea993(_0x1de55c,_0x5385c3,_0x522dc6,_0x210123);},'fcZtS':_0x429a4e(0x246),'gsWpF':function(_0x3483dd,_0x3d834b,_0x4799b5,_0x25a950,_0x788145){return _0x3483dd(_0x3d834b,_0x4799b5,_0x25a950,_0x788145);},'sRbHS':_0x429a4e(0x254),'gzdNh':function(_0x3de128,_0x4ecb79){return _0x3de128+_0x4ecb79;},'HOIng':function(_0xe1a8e0,_0x3ddc84){return _0xe1a8e0(_0x3ddc84);},'RbKia':function(_0x2f6c02,_0x5c778d){return _0x2f6c02(_0x5c778d);},'xnBwS':function(_0xa8bbc0,_0x119eea){return _0xa8bbc0(_0x119eea);},'SThJW':function(_0x2b2226,_0x32856e,_0x262500,_0x16a77b){return _0x2b2226(_0x32856e,_0x262500,_0x16a77b);},'DkCws':'skipped','ORUrN':function(_0xfe1b84,_0x5e3045){return _0xfe1b84(_0x5e3045);}};Base['useColors']=![];var _0x1fd56e={'classname':_0x2aa19a['fullTitle'],'name':_0x2aa19a[_0x429a4e(0x251)],'time':_0x267f8b[_0x429a4e(0x198)](_0x2aa19a[_0x429a4e(0x1a8)],0x3e8)||0x0,'platform':_0x1a0d4c};if(_0x267f8b[_0x429a4e(0x1fc)](_0x2aa19a[_0x429a4e(0x1b8)],_0x267f8b['aqFZL'])){var _0xcbf72c=_0x2aa19a[_0x429a4e(0x19f)],_0xb5da8c=!Base[_0x429a4e(0x1a7)]&&Base[_0x429a4e(0x1c6)](_0xcbf72c)?_0x267f8b['xpHBW']('\x0a',Base[_0x429a4e(0x23c)](_0xcbf72c[_0x429a4e(0x178)],_0xcbf72c[_0x429a4e(0x156)])):'';_0x267f8b[_0x429a4e(0x230)](xunitWrite,_0x267f8b[_0x429a4e(0x1f6)](tag,_0x267f8b[_0x429a4e(0x1dc)],_0x1fd56e,![],_0x267f8b['gsWpF'](tag,_0x267f8b['sRbHS'],{},![],_0x267f8b[_0x429a4e(0x21d)](_0x267f8b['xpHBW'](_0x267f8b[_0x429a4e(0x1d9)](_0x267f8b[_0x429a4e(0x230)](escape,_0xcbf72c[_0x429a4e(0x166)]),_0x267f8b['HOIng'](escape,_0xb5da8c)),'\x0a'),_0x267f8b[_0x429a4e(0x208)](escape,_0xcbf72c[_0x429a4e(0x1fb)])))));}else _0x2aa19a[_0x429a4e(0x1e6)]?_0x267f8b[_0x429a4e(0x15f)](xunitWrite,_0x267f8b[_0x429a4e(0x1f6)](tag,_0x267f8b['fcZtS'],_0x1fd56e,![],_0x267f8b[_0x429a4e(0x17c)](tag,_0x267f8b[_0x429a4e(0x21f)],{},!![]))):_0x267f8b[_0x429a4e(0x20f)](xunitWrite,_0x267f8b[_0x429a4e(0x17c)](tag,_0x267f8b[_0x429a4e(0x1dc)],_0x1fd56e,!![]));};function getStats(_0x4b73ff){const _0x398af2=a32_0x381cc7,_0x47a269={};_0x47a269[_0x398af2(0x182)]=_0x398af2(0x1bf),_0x47a269[_0x398af2(0x219)]=_0x398af2(0x15e),_0x47a269[_0x398af2(0x1eb)]=_0x398af2(0x25a),_0x47a269[_0x398af2(0x263)]=_0x398af2(0x226);const _0xbae9cc=_0x47a269,_0x2e1f8c=Object[_0x398af2(0x241)](_0x4b73ff);let _0x24bcf6=0x0,_0x455893=0x0,_0x46f5f3=0x0,_0x58a9e1=0x0;const _0x18f541=new Set();_0x2e1f8c[_0x398af2(0x1ae)](_0x2f51db=>{const _0x1725d0=_0x398af2,_0x252d5e={};_0x252d5e['ZdgvG']=_0xbae9cc[_0x1725d0(0x182)],_0x252d5e[_0x1725d0(0x17b)]=_0xbae9cc[_0x1725d0(0x219)],_0x252d5e[_0x1725d0(0x177)]=_0xbae9cc[_0x1725d0(0x1eb)];const _0xdbc5cb=_0x252d5e;_0x4b73ff[_0x2f51db][_0xbae9cc['QoaPe']][_0x1725d0(0x1ae)](_0x427e27=>{const _0x2eb00c=_0x1725d0;_0x18f541[_0x2eb00c(0x1e8)](_0x427e27[_0xdbc5cb[_0x2eb00c(0x1a2)]]),_0x24bcf6++;switch(_0x427e27[_0x2eb00c(0x1b8)]){case _0xdbc5cb[_0x2eb00c(0x17b)]:_0x46f5f3++;break;case _0xdbc5cb['pvoHh']:_0x455893++;break;default:_0x58a9e1++;}});});const _0x572b64={};return _0x572b64['testSuites']=_0x18f541['size'],_0x572b64['platforms']=_0x2e1f8c,_0x572b64[_0x398af2(0x22f)]=_0x24bcf6,_0x572b64[_0x398af2(0x1f0)]=_0x455893,_0x572b64['testsPassed']=_0x46f5f3,_0x572b64[_0x398af2(0x223)]=_0x58a9e1,_0x572b64;}function errorJSON(_0x19aab6){const _0x5ee9e1=a32_0x381cc7;var _0x5ee1f0={};return Object[_0x5ee9e1(0x1b4)](_0x19aab6)[_0x5ee9e1(0x1ae)](function(_0x198f41){_0x5ee1f0[_0x198f41]=_0x19aab6[_0x198f41];},_0x19aab6),_0x5ee1f0;}function cleanCycles(_0x340ee5){const _0x1269d4=a32_0x381cc7,_0x5234ba={};_0x5234ba[_0x1269d4(0x203)]=function(_0x4a7d3e,_0x2cbc16){return _0x4a7d3e===_0x2cbc16;},_0x5234ba[_0x1269d4(0x1ec)]=_0x1269d4(0x24c),_0x5234ba[_0x1269d4(0x17a)]=function(_0x35f144,_0x214f91){return _0x35f144!==_0x214f91;},_0x5234ba['wFQVh']=function(_0x29c1a0,_0x1a884d){return _0x29c1a0!==_0x1a884d;},_0x5234ba[_0x1269d4(0x20d)]=function(_0x4e4a7a,_0x2ecd7f){return _0x4e4a7a+_0x2ecd7f;};const _0x1acd56=_0x5234ba;var _0x397015=[];return JSON[_0x1269d4(0x207)](JSON[_0x1269d4(0x19b)](_0x340ee5,function(_0xdc36aa,_0x23d911){const _0x138664=_0x1269d4;if(_0x1acd56[_0x138664(0x203)](typeof _0x23d911,_0x1acd56['PKIIp'])&&_0x1acd56['tBzXP'](_0x23d911,null)){if(_0x1acd56[_0x138664(0x22d)](_0x397015[_0x138664(0x1f1)](_0x23d911),-0x1))return _0x1acd56[_0x138664(0x20d)]('',_0x23d911);_0x397015[_0x138664(0x19a)](_0x23d911);}return _0x23d911;}));}function clean(_0x3d4387){const _0x613013=a32_0x381cc7,_0x5c1b7f={'bVQNg':function(_0x4f0c25,_0x26bf8b){return _0x4f0c25 instanceof _0x26bf8b;},'foUHw':function(_0x49fbee,_0x598d63){return _0x49fbee(_0x598d63);},'tWKPz':function(_0x517b6f,_0x2a4f3f){return _0x517b6f(_0x2a4f3f);}};var _0x4e529c=_0x3d4387['err']||{};return _0x5c1b7f[_0x613013(0x25c)](_0x4e529c,Error)&&(_0x4e529c=_0x5c1b7f[_0x613013(0x240)](errorJSON,_0x4e529c)),{'title':_0x3d4387[_0x613013(0x251)],'fullTitle':_0x3d4387[_0x613013(0x227)],'file':_0x3d4387[_0x613013(0x159)],'duration':_0x3d4387[_0x613013(0x1a8)],'currentRetry':_0x3d4387['currentRetry'],'speed':_0x3d4387[_0x613013(0x215)],'err':_0x5c1b7f[_0x613013(0x157)](cleanCycles,_0x4e529c)};}function printStats(_0xdecc8f,_0x4131cb='spec',_0x2b02ed={}){const _0x51f8d=a32_0x381cc7,_0x4eceff={'BUEOa':function(_0x161d76,_0xa683f1){return _0x161d76(_0xa683f1);},'VAFAj':function(_0x29599b,_0x2be167){return _0x29599b===_0x2be167;},'NZVJe':'passed','igsUf':_0x51f8d(0x220),'VuDuh':function(_0x304d7b,_0x16acf4){return _0x304d7b(_0x16acf4);},'NUhPz':function(_0x5b1cef,_0x5cbde3){return _0x5b1cef===_0x5cbde3;},'mZSSz':_0x51f8d(0x25a),'kmdwa':_0x51f8d(0x23f),'rwmQw':function(_0x668d3b,_0x4e4077){return _0x668d3b(_0x4e4077);},'HhTWj':'pending','QUNUT':function(_0x5be323,_0x4af02e){return _0x5be323(_0x4af02e);},'ybuSi':_0x51f8d(0x226),'yeFcG':function(_0x1aa8a4,_0x357da0){return _0x1aa8a4===_0x357da0;},'ldBEw':function(_0x416545,_0x1849c0){return _0x416545*_0x1849c0;},'OfofI':function(_0x51a026,_0x459ff1,_0x1f01ac){return _0x51a026(_0x459ff1,_0x1f01ac);},'XQybH':function(_0x1f525d,_0x3d13c2){return _0x1f525d>_0x3d13c2;},'DqlIk':function(_0x3ba718){return _0x3ba718();},'eRwju':'doc','SKUnC':function(_0x5eafc6,_0x246dac){return _0x5eafc6>_0x246dac;},'jjYqQ':'Setting\x20non\x20exit\x20code\x20for\x20failures','oyYmX':'Printing\x20stats\x20of\x20tests','BaMCa':function(_0x55d42e,_0x9eaca4){return _0x55d42e+_0x9eaca4;},'TumOR':_0x51f8d(0x15d),'jWlJV':function(_0x16086c,_0x10fc80){return _0x16086c+_0x10fc80;},'scxin':_0x51f8d(0x181),'uhZRH':function(_0x249b98,_0x49e054){return _0x249b98+_0x49e054;},'fkedF':function(_0x3ba712,_0x4e38a5){return _0x3ba712+_0x4e38a5;},'dGtww':_0x51f8d(0x187),'DlfRH':function(_0xd1494b,_0x2263ee){return _0xd1494b>_0x2263ee;},'tNLqH':function(_0x3c4d91,_0x57e73d){return _0x3c4d91+_0x57e73d;},'LfVbC':function(_0x2e390b,_0x39d21a){return _0x2e390b+_0x39d21a;},'WNJmx':function(_0x364ddc,_0x240b58){return _0x364ddc+_0x240b58;},'NtpaJ':function(_0x3eaa42,_0x35b7c5){return _0x3eaa42+_0x35b7c5;},'IwRyo':_0x51f8d(0x16e),'DAmSQ':_0x51f8d(0x1a0),'sDFLe':_0x51f8d(0x175),'ADmec':_0x51f8d(0x180),'UqPRk':'No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','krOcT':function(_0x1bc78f,_0x1623bd){return _0x1bc78f===_0x1623bd;},'ORNCg':_0x51f8d(0x1b0),'cJMnk':'Mocha\x20Tests','bQjoC':function(_0x4e35ba,_0x12c4ef){return _0x4e35ba||_0x12c4ef;},'VVivu':function(_0x292b96,_0x15eb7f){return _0x292b96(_0x15eb7f);},'KAknZ':function(_0x17fc8f,_0x35aca3,_0x764010,_0x201a68){return _0x17fc8f(_0x35aca3,_0x764010,_0x201a68);},'lVwyR':_0x51f8d(0x16d),'NWaxC':function(_0x3d0241,_0x2ad168){return _0x3d0241-_0x2ad168;},'MhJos':function(_0x5909f0,_0x11f28b){return _0x5909f0-_0x11f28b;},'hNhNb':function(_0x15f6d1,_0x3dc844){return _0x15f6d1/_0x3dc844;},'zIKkR':function(_0x2f46be,_0x49e370){return _0x2f46be(_0x49e370);},'QswTu':_0x51f8d(0x1ab),'Usszd':_0x51f8d(0x1c4),'UWNak':_0x51f8d(0x1d2),'GaokR':_0x51f8d(0x17e),'wBSXz':function(_0x4be6b3,_0x217c04){return _0x4be6b3===_0x217c04;},'ZTyCi':_0x51f8d(0x1c0),'iZzrQ':_0x51f8d(0x216)};if(_0x4eceff['NUhPz'](_0x4131cb,_0x4eceff[_0x51f8d(0x16b)]))return;const _0x593cc0=0x0,_0x369153=()=>{const _0x394936=_0x51f8d;return _0x4eceff['BUEOa'](Array,_0x593cc0)[_0x394936(0x1a5)]('\x20\x20');},{testSuites:_0x1b72b3,platforms:_0x1c02fe,totalTests:_0x2e6de7,testsFailed:_0x1b6548,testsPassed:_0x1869ec,testsPending:_0x4b39ae}=_0x4eceff[_0x51f8d(0x1e4)](getStats,_0xdecc8f);_0x4eceff['SKUnC'](_0x1b6548,0x0)&&(logger['debug'](_0x4eceff[_0x51f8d(0x18f)]),process['exitCode']=Math[_0x51f8d(0x259)](_0x1b6548,0xff));logger[_0x51f8d(0x195)](_0x4eceff['oyYmX']);const _0x3dbbc6=''+_0x4eceff[_0x51f8d(0x1fa)](chalk[_0x51f8d(0x25f)](_0x4eceff[_0x51f8d(0x19d)]),_0x1c02fe[_0x51f8d(0x1a9)]),_0x45c73c=''+_0x4eceff['jWlJV'](chalk[_0x51f8d(0x25f)](_0x4eceff['scxin']),_0x1b72b3),_0x5992ef=''+_0x4eceff[_0x51f8d(0x1cd)](_0x4eceff['fkedF'](_0x4eceff['BaMCa'](chalk[_0x51f8d(0x25f)](_0x4eceff[_0x51f8d(0x168)]),_0x4eceff[_0x51f8d(0x1cc)](_0x1b6548,0x0)?chalk[_0x51f8d(0x25f)][_0x51f8d(0x242)](_0x1b6548+'\x20failed')+',\x20':''),_0x4eceff[_0x51f8d(0x239)](_0x4b39ae,0x0)?chalk[_0x51f8d(0x25f)][_0x51f8d(0x1ce)](_0x4b39ae+'\x20skipped')+',\x20':''),_0x4eceff[_0x51f8d(0x1c3)](_0x1869ec,0x0)?chalk['bold'][_0x51f8d(0x1d8)](_0x1869ec+_0x51f8d(0x261))+',\x20':'')+_0x2e6de7+_0x51f8d(0x18b);console['log'](_0x4eceff[_0x51f8d(0x1cf)](_0x4eceff[_0x51f8d(0x171)](_0x4eceff[_0x51f8d(0x15a)](_0x4eceff[_0x51f8d(0x1f8)](_0x4eceff[_0x51f8d(0x15a)](_0x4eceff[_0x51f8d(0x1b5)],_0x3dbbc6),'\x0a'),_0x45c73c),'\x0a'),_0x5992ef));if(_0x4eceff[_0x51f8d(0x1c9)](_0x4131cb,_0x4eceff[_0x51f8d(0x199)])){const _0x3831e9={},_0x2b6a88={};_0x2b6a88[_0x51f8d(0x192)]=_0x1b72b3,_0x2b6a88[_0x51f8d(0x1be)]=_0x1c02fe,_0x2b6a88[_0x51f8d(0x1f0)]=_0x1b6548,_0x2b6a88[_0x51f8d(0x260)]=_0x1869ec,_0x2b6a88[_0x51f8d(0x223)]=_0x4b39ae,_0x3831e9[_0x51f8d(0x1df)]=_0x2b6a88,_0x1c02fe[_0x51f8d(0x1ae)](_0x25fe45=>{const _0x3fbbe7=_0x51f8d;_0x3831e9[_0x25fe45]={'pending':[],'failures':[],'passes':[],'tests':_0xdecc8f[_0x25fe45][_0x4eceff['ybuSi']][_0x3fbbe7(0x222)](clean)},_0xdecc8f[_0x25fe45][_0x4eceff['ybuSi']]['forEach'](_0x247c74=>{const _0x39e389=_0x3fbbe7;if(_0x4eceff[_0x39e389(0x24e)](_0x247c74[_0x39e389(0x1b8)],_0x4eceff[_0x39e389(0x21c)]))_0x3831e9[_0x25fe45][_0x4eceff[_0x39e389(0x265)]][_0x39e389(0x19a)](_0x4eceff[_0x39e389(0x1e1)](clean,_0x247c74));else _0x4eceff[_0x39e389(0x18c)](_0x247c74[_0x39e389(0x1b8)],_0x4eceff['mZSSz'])?_0x3831e9[_0x25fe45][_0x4eceff[_0x39e389(0x1f4)]][_0x39e389(0x19a)](_0x4eceff[_0x39e389(0x19e)](clean,_0x247c74)):_0x3831e9[_0x25fe45][_0x4eceff[_0x39e389(0x1fd)]][_0x39e389(0x19a)](_0x4eceff[_0x39e389(0x1e4)](clean,_0x247c74));});});if(_0x2b02ed[_0x51f8d(0x1ff)])try{logger[_0x51f8d(0x195)](_0x4eceff[_0x51f8d(0x18a)],_0x2b02ed[_0x51f8d(0x1ff)]),fs['writeFileSync'](_0x2b02ed[_0x51f8d(0x1ff)],JSON['stringify'](_0x3831e9,null,0x3));}catch(_0x599710){logger[_0x51f8d(0x1e9)](_0x4eceff[_0x51f8d(0x245)],_0x2b02ed[_0x51f8d(0x1ff)]),logger[_0x51f8d(0x195)](_0x599710);}else logger[_0x51f8d(0x195)](_0x4eceff['UqPRk']),console[_0x51f8d(0x1e3)](JSON[_0x51f8d(0x19b)](_0x3831e9,null,0x3));}else{if(_0x4eceff[_0x51f8d(0x20b)](_0x4131cb,_0x4eceff[_0x51f8d(0x217)])){let _0x439e81;const _0x3ec394=_0x4eceff[_0x51f8d(0x186)];_0x2b02ed&&(_0x439e81=_0x2b02ed['suiteName']);_0x439e81=_0x4eceff[_0x51f8d(0x250)](_0x439e81,_0x3ec394);let _0x2d716d=0x0,_0x42a525=0x0,_0x26a3a1=0x0,_0x10d4bf=0x0;_0x1c02fe['forEach'](_0x4269ad=>{const _0x9635c3=_0x51f8d,_0x5cf00a={'hzTcr':function(_0x406668,_0x13efa7){const _0x3f15f7=a32_0x446e;return _0x4eceff[_0x3f15f7(0x1c9)](_0x406668,_0x13efa7);},'YJoXx':_0x4eceff[_0x9635c3(0x21c)],'ZXGEr':_0x4eceff[_0x9635c3(0x25b)],'lzEik':function(_0x160a0a,_0x1de4ed){const _0x55d802=_0x9635c3;return _0x4eceff[_0x55d802(0x188)](_0x160a0a,_0x1de4ed);}};_0xdecc8f[_0x4269ad][_0x4eceff[_0x9635c3(0x184)]]['forEach'](_0xa92ebf=>{const _0xb492ef=_0x9635c3;if(_0x5cf00a[_0xb492ef(0x170)](_0xa92ebf[_0xb492ef(0x1b8)],_0x5cf00a[_0xb492ef(0x1f9)]))_0x2d716d++;else _0x5cf00a['hzTcr'](_0xa92ebf['state'],_0x5cf00a[_0xb492ef(0x197)])&&_0x42a525++;_0x26a3a1++,_0x10d4bf+=_0x5cf00a['lzEik'](_0xa92ebf['duration'],0x1);});}),_0x4eceff[_0x51f8d(0x204)](xunitWrite,_0x4eceff[_0x51f8d(0x21a)](tag,_0x4eceff[_0x51f8d(0x1f7)],{'name':_0x439e81,'tests':_0x26a3a1,'failures':0x0,'errors':_0x42a525,'skipped':_0x4eceff[_0x51f8d(0x18e)](_0x4eceff['MhJos'](_0x26a3a1,_0x42a525),_0x2d716d),'timestamp':new Date()[_0x51f8d(0x25d)](),'time':_0x4eceff[_0x51f8d(0x238)](_0x10d4bf,0x3e8)||0x0},![])),_0x1c02fe[_0x51f8d(0x1ae)](_0x27bff8=>{const _0x783135=_0x51f8d;_0xdecc8f[_0x27bff8][_0x4eceff[_0x783135(0x184)]]['forEach'](_0x40d8d8=>{const _0x359087=_0x783135;_0x4eceff[_0x359087(0x218)](xunitTest,_0x40d8d8,_0x27bff8);});}),_0x4eceff[_0x51f8d(0x1e0)](xunitWrite,_0x4eceff[_0x51f8d(0x191)]);if(_0x2b02ed['output'])try{logger[_0x51f8d(0x195)](_0x4eceff[_0x51f8d(0x1ca)],_0x2b02ed[_0x51f8d(0x1ff)]),fs['writeFileSync'](_0x2b02ed['output'],xunitContent);}catch(_0x58a0eb){logger[_0x51f8d(0x1e9)](_0x4eceff[_0x51f8d(0x268)],_0x2b02ed['output']),logger[_0x51f8d(0x195)](_0x58a0eb);}else logger[_0x51f8d(0x195)](_0x4eceff[_0x51f8d(0x1c5)]),console[_0x51f8d(0x1e3)](xunitContent);}else{if(_0x4eceff[_0x51f8d(0x1d4)](_0x1b6548,0x0))return;console[_0x51f8d(0x1e3)](),logger['debug'](_0x4eceff[_0x51f8d(0x158)]),console[_0x51f8d(0x1e3)](chalk[_0x51f8d(0x25f)][_0x51f8d(0x201)](_0x4eceff['iZzrQ'])),_0x1c02fe[_0x51f8d(0x1ae)](_0x5b9188=>{const _0x4694c2=_0x51f8d,_0x12e40d=[];_0xdecc8f[_0x5b9188][_0x4eceff[_0x4694c2(0x184)]][_0x4694c2(0x1ae)](_0x13da59=>{const _0x369d1d=_0x4694c2;_0x4eceff['NUhPz'](_0x13da59[_0x369d1d(0x1b8)],_0x4eceff[_0x369d1d(0x25b)])&&(_0x13da59[_0x369d1d(0x22a)]=()=>_0x13da59[_0x369d1d(0x248)],_0x12e40d[_0x369d1d(0x19a)](_0x13da59));}),_0x4eceff[_0x4694c2(0x1c3)](_0x12e40d[_0x4694c2(0x1a9)],0x0)&&(Base[_0x4694c2(0x1bc)](),Base['consoleLog'](_0x4eceff[_0x4694c2(0x1f5)](_0x369153),chalk[_0x4694c2(0x25f)]['bgBlueBright'](_0x5b9188)),Base[_0x4694c2(0x21b)](_0x12e40d));});}}}async function run(_0x243312,_0x1e807e,_0x59ec25){const _0x207804=a32_0x381cc7,_0x8b7eec={'HBePS':function(_0x425cc5,_0x10cbb0,_0x22dcfe,_0x1d1786){return _0x425cc5(_0x10cbb0,_0x22dcfe,_0x1d1786);},'JddIo':_0x207804(0x221),'ExMLp':'error\x20removing\x20tcg\x20config\x20file','hWcQC':'SDKTestSuccessful','eALHQ':_0x207804(0x252),'NwDCp':function(_0x4f298b,_0x172b90){return _0x4f298b!=_0x172b90;},'VLmbP':_0x207804(0x224),'ZmXYg':_0x207804(0x189),'KUBUP':_0x207804(0x173),'sfCFG':_0x207804(0x20c),'QMsCM':function(_0x5a14ec,_0x2a2754){return _0x5a14ec(_0x2a2754);},'OmROL':function(_0x186326,_0x19da7e,_0x399b18){return _0x186326(_0x19da7e,_0x399b18);},'zwGDr':_0x207804(0x23e),'WVJAB':function(_0xeaaaca,_0x215f16){return _0xeaaaca!=_0x215f16;},'GEgTG':_0x207804(0x1ea),'RjpcC':'excludeTagsInTestingScope','Parsm':_0x207804(0x23d),'vwnNk':_0x207804(0x1cb),'ZRVxg':_0x207804(0x1af),'LBWQD':function(_0x5dc401,_0x362c38){return _0x5dc401*_0x362c38;},'ELplZ':function(_0x3aaa94,_0x4af793){return _0x3aaa94(_0x4af793);},'PEwXV':function(_0x3c56be,_0x5da058){return _0x3c56be!==_0x5da058;}};helper[_0x207804(0x200)](_0x59ec25[_0x207804(0x164)],_0x243312),await _0x59ec25[_0x207804(0x24a)](_0x243312);helper[_0x207804(0x1bb)]()?await helper['handleApp'](_0x59ec25[_0x207804(0x209)]):await _0x59ec25['setupTCGAuth']();const _0x494837=[];let _0x7e5504=[];if(!_0x59ec25[_0x207804(0x209)])return;!helper[_0x207804(0x1a6)](_0x59ec25['config'][_0x207804(0x24d)])&&(process['env'][_0x207804(0x214)]=JSON[_0x207804(0x19b)](_0x59ec25[_0x207804(0x209)][_0x207804(0x24d)]));const _0x26d939=await TestHubHandler[_0x207804(0x25e)](FRAMEWORKS[_0x207804(0x20a)],_0x59ec25);_0x8b7eec[_0x207804(0x1db)](_0x59ec25[_0x207804(0x209)][_0x207804(0x185)],null)&&(process['env'][_0x207804(0x176)]=_0x59ec25['config']['testObservability']);!helper[_0x207804(0x1a6)](_0x59ec25['config']['accessibility'])&&(process[_0x207804(0x1ac)][_0x207804(0x165)]=_0x59ec25[_0x207804(0x209)][_0x207804(0x183)]);const {extension:extension=['js',_0x8b7eec['VLmbP'],_0x8b7eec[_0x207804(0x1b1)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x8b7eec[_0x207804(0x1bd)]]}=_0x243312,_0x20cfac={..._0x243312};_0x20cfac[_0x207804(0x210)]=null;const _0x10ccaa=_0x20cfac;let _0x2b235e;if(testOpsHelper[_0x207804(0x21e)]()&&testOpsHelper[_0x207804(0x1a1)]()){let _0x273553=process[_0x207804(0x1ac)][_0x207804(0x155)];!helper[_0x207804(0x1a6)](_0x59ec25['cliConfig'])&&_0x59ec25[_0x207804(0x211)][_0x207804(0x1c7)](_0x8b7eec[_0x207804(0x17f)])&&(_0x273553=_0x59ec25[_0x207804(0x211)][_0x207804(0x1e7)](_0x8b7eec[_0x207804(0x17f)])),_0x2b235e=testOpsHelper[_0x207804(0x194)](_0x273553);}if(helper['isUndefined'](_0x2b235e)){const _0xd572bb={};_0xd572bb[_0x207804(0x18d)]=ignore,_0xd572bb[_0x207804(0x264)]=extension,_0xd572bb['file']=file,_0xd572bb[_0x207804(0x1b6)]=recursive,_0xd572bb[_0x207804(0x1c2)]=sort,_0xd572bb[_0x207804(0x16a)]=spec,_0x2b235e=_0x8b7eec[_0x207804(0x1a3)](collectFiles,_0xd572bb),_0x8b7eec[_0x207804(0x1b7)](nestedKeyValue,_0x2b235e,[_0x8b7eec[_0x207804(0x236)]])&&(_0x2b235e=_0x2b235e['files']);}const _0x4b265c=helper[_0x207804(0x256)](_0x59ec25[_0x207804(0x209)]);!helper[_0x207804(0x1dd)](_0x4b265c)&&helper[_0x207804(0x235)](_0x4b265c[_0x207804(0x231)])&&(_0x10ccaa[_0x207804(0x1ba)]=_0x4b265c['retryTestsOnFailure'][_0x207804(0x163)]);if(!helper[_0x207804(0x1bb)]()){const _0x2ff191=0x1,_0x19cbe8={..._0x10ccaa};_0x19cbe8[_0x207804(0x16a)]=[..._0x2b235e],_0x494837[_0x207804(0x19a)]({'mochaOpts':_0x19cbe8,'configuration':{'platform':os[_0x207804(0x234)]()}});if(_0x59ec25[_0x207804(0x209)][_0x207804(0x183)]){const _0x3ba020={};_0x3ba020[_0x207804(0x183)]=!![];const _0x4b61fb=_0x3ba020;_0x8b7eec[_0x207804(0x15c)](_0x59ec25['config'][_0x207804(0x24d)],null)&&(_0x4b61fb['accessibilityOptions']=_0x59ec25[_0x207804(0x209)][_0x207804(0x24d)],delete _0x4b61fb[_0x207804(0x24d)][_0x8b7eec[_0x207804(0x1ad)]],delete _0x4b61fb['accessibilityOptions'][_0x8b7eec[_0x207804(0x1d6)]],delete _0x4b61fb[_0x207804(0x24d)][_0x8b7eec[_0x207804(0x23b)]]);const _0x483bfb={};_0x483bfb[_0x207804(0x233)]=_0x4b61fb,_0x494837[0x0]['configuration'][_0x207804(0x19c)]=_0x483bfb;}logger['info'](_0x8b7eec[_0x207804(0x1fe)]),logger[_0x207804(0x22c)](_0x8b7eec[_0x207804(0x1d5)]),_0x8b7eec[_0x207804(0x202)](parallelTestRun,_0x494837,_0x2ff191,_0x59ec25)[_0x207804(0x190)](_0x4a357b=>{const _0x294417=_0x207804;PerformanceTester['start'](PerformanceEvents[_0x294417(0x172)]),_0x8b7eec[_0x294417(0x202)](printStats,_0x4a357b,_0x243312[_0x294417(0x1b2)],_0x243312['reporterOptions']||_0x243312[_0x8b7eec[_0x294417(0x1c8)]]);})[_0x207804(0x1da)](()=>{const _0x3175b7=_0x207804;PerformanceTester['start'](PerformanceEvents[_0x3175b7(0x172)]);try{const {browserstackFolderPath:_0xe97a03,tcgConfigPath:_0x2ae7b2}=helper[_0x3175b7(0x229)]();fs[_0x3175b7(0x212)](_0x2ae7b2),fs[_0x3175b7(0x1c1)](_0xe97a03);}catch(_0x4c5319){logger[_0x3175b7(0x195)](_0x8b7eec['ExMLp'],_0x4c5319);}try{utilities[_0x3175b7(0x266)](_0x8b7eec['hWcQC'],{},_0x59ec25[_0x3175b7(0x209)],_0x59ec25[_0x3175b7(0x164)]);}catch(_0x4cfcde){logger[_0x3175b7(0x195)](_0x3175b7(0x24b)+_0x4cfcde['stack']);}try{helper[_0x3175b7(0x1e5)]();}catch(_0x3b5ff3){logger[_0x3175b7(0x195)](_0x3175b7(0x1de)+_0x3b5ff3);}testOpsHelper[_0x3175b7(0x160)]();});}else{const _0x3221f8=helper[_0x207804(0x1f2)](_0x59ec25['config']);let _0x5321f3=helper['getHubUrl'](_0x59ec25[_0x207804(0x209)]);_0x7e5504=helper[_0x207804(0x22b)](_0x59ec25[_0x207804(0x209)],_0x3221f8,constants[_0x207804(0x23a)][_0x207804(0x20a)]);helper[_0x207804(0x1d1)]()['central_scanner']&&(_0x5321f3=centralScannerConstants[_0x207804(0x196)]);let _0x3fca9b;const _0x238ce4=_0x59ec25['config'][_0x207804(0x205)]||helper['getUserWorkerCount'](_0x243312,_0x1e807e,_0x59ec25[_0x207804(0x209)],constants[_0x207804(0x23a)]['MOCHA'])||0x1;helper[_0x207804(0x1ee)](_0x59ec25[_0x207804(0x209)])?_0x3fca9b=_0x8b7eec['LBWQD'](_0x59ec25['config'][_0x207804(0x1be)][_0x207804(0x1a9)],_0x238ce4):_0x3fca9b=_0x238ce4;const _0x3b9894=_0x8b7eec['ELplZ'](getPercyOptions,_0x59ec25[_0x207804(0x209)]);if(_0x8b7eec[_0x207804(0x243)](_0x59ec25[_0x207804(0x209)][_0x207804(0x205)],0x1))_0x2b235e[_0x207804(0x1ae)](_0x3f5fa4=>{const _0x59b443=_0x207804,_0x153007=[];_0x7e5504[_0x59b443(0x1ae)]((_0x38fffc,_0x38e64c)=>{const _0x28ed7e=_0x59b443,_0x90740e={};_0x90740e[_0x28ed7e(0x16a)]=[_0x3f5fa4],_0x153007[_0x28ed7e(0x19a)]({'mochaOpts':Object[_0x28ed7e(0x232)]({},_0x10ccaa,_0x90740e),'configuration':{'server':_0x5321f3,'capability':_0x38fffc,'proxySettings':_0x59ec25[_0x28ed7e(0x209)][_0x28ed7e(0x1a4)],'platform':helper[_0x28ed7e(0x15b)](_0x38fffc),'browserStackLogLevel':_0x59ec25['config'][_0x28ed7e(0x1e2)],'platformIndex':_0x38e64c,'browserStackPercyOptions':_0x3b9894,'platformCaps':Object[_0x28ed7e(0x232)]({'index':_0x38e64c},_0x59ec25[_0x28ed7e(0x209)][_0x28ed7e(0x1be)][_0x38e64c])}});}),_0x494837['push'](..._0x153007);});else{const _0x227fd9=[];_0x7e5504[_0x207804(0x1ae)]((_0x52e5db,_0xfdf4ed)=>{const _0x59ada1=_0x207804;let _0x2db9ab=Object['assign']({},_0x10ccaa);testOpsHelper[_0x59ada1(0x21e)]()&&testOpsHelper[_0x59ada1(0x1a1)]()&&(_0x2db9ab={..._0x2db9ab,'spec':[..._0x2b235e]}),_0x227fd9[_0x59ada1(0x19a)]({'mochaOpts':_0x2db9ab,'configuration':{'server':_0x5321f3,'capability':_0x52e5db,'proxySettings':_0x59ec25['config'][_0x59ada1(0x1a4)],'platform':helper[_0x59ada1(0x15b)](_0x52e5db),'browserStackLogLevel':_0x59ec25['config'][_0x59ada1(0x1e2)],'platformIndex':_0xfdf4ed,'browserStackPercyOptions':_0x3b9894,'platformCaps':Object[_0x59ada1(0x232)]({'index':_0xfdf4ed},_0x59ec25[_0x59ada1(0x209)][_0x59ada1(0x1be)][_0xfdf4ed])}});}),_0x494837[_0x207804(0x19a)](..._0x227fd9);}logger[_0x207804(0x22c)](_0x207804(0x1d3)+_0x59ec25['config'][_0x207804(0x1be)][_0x207804(0x1a9)]+'\x20platforms'),logger[_0x207804(0x22c)](_0x8b7eec['ZRVxg']);let _0x21ddd9;_0x8b7eec[_0x207804(0x202)](parallelTestRun,_0x494837,_0x3fca9b,_0x59ec25)[_0x207804(0x190)](_0x5b971e=>{const _0x247f5b=_0x207804;PerformanceTester[_0x247f5b(0x228)](PerformanceEvents['SDK_CLEANUP']),_0x21ddd9=_0x5b971e,_0x8b7eec['HBePS'](printStats,_0x5b971e,_0x243312[_0x247f5b(0x1b2)],_0x243312[_0x247f5b(0x258)]||_0x243312[_0x8b7eec['JddIo']]);})[_0x207804(0x1da)](async()=>{const _0x1dca6c=_0x207804;PerformanceTester[_0x1dca6c(0x228)](PerformanceEvents['SDK_CLEANUP']),_0x59ec25['errorMessage']=helper[_0x1dca6c(0x161)](_0x21ddd9,_0x8b7eec[_0x1dca6c(0x22e)]),await utilities[_0x1dca6c(0x206)](_0x59ec25),testOpsHelper[_0x1dca6c(0x160)]();});}}module['exports']=run;