#!/usr/bin/env node
'use strict';const a33_0x592171=a33_0x40f0;(function(_0x1e9d16,_0x3749b5){const _0x101418=a33_0x40f0,_0x4ea04f=_0x1e9d16();while(!![]){try{const _0x409522=-parseInt(_0x101418(0x1eb))/0x1*(-parseInt(_0x101418(0x252))/0x2)+-parseInt(_0x101418(0x19a))/0x3+-parseInt(_0x101418(0x231))/0x4*(-parseInt(_0x101418(0x25f))/0x5)+parseInt(_0x101418(0x1b6))/0x6+-parseInt(_0x101418(0x1de))/0x7+parseInt(_0x101418(0x219))/0x8+-parseInt(_0x101418(0x217))/0x9*(parseInt(_0x101418(0x1d6))/0xa);if(_0x409522===_0x3749b5)break;else _0x4ea04f['push'](_0x4ea04f['shift']());}catch(_0x32ad57){_0x4ea04f['push'](_0x4ea04f['shift']());}}}(a33_0x2d32,0x9ea5e));const chalk=require('chalk'),logger=require(a33_0x592171(0x268))['winstonLogger'],helper=require(a33_0x592171(0x27c)),utilities=require(a33_0x592171(0x18b)),testOpsHelper=require(a33_0x592171(0x203)),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a33_0x592171(0x202)),{requireModule,nestedKeyValue}=require('../../helpers/helper'),{getPercyOptions}=require(a33_0x592171(0x234)),Base=requireModule(a33_0x592171(0x1e1),a33_0x592171(0x1d7)),collectFiles=requireModule(a33_0x592171(0x26d),a33_0x592171(0x1d7)),constants=require(a33_0x592171(0x1fc)),PerformanceTester=require(a33_0x592171(0x20a)),PerformanceEvents=require(a33_0x592171(0x1cf))[a33_0x592171(0x22c)],centralScannerConstants=require('../../helpers/central-scanner/constants'),{FRAMEWORKS}=require(a33_0x592171(0x20f)),TestHubHandler=require(a33_0x592171(0x290));function tag(_0x496765,_0x319ad9,_0x6abd27,_0x3d1dbc){const _0x3a6205=a33_0x592171,_0x28ade9={'KmQLU':function(_0x44f6b5,_0x26252f){return _0x44f6b5+_0x26252f;},'BvYSU':function(_0x445499,_0x235c4e){return _0x445499+_0x235c4e;},'Ozuim':function(_0x3b3c84,_0x325ac8){return _0x3b3c84(_0x325ac8);},'jBcMK':function(_0x682d66,_0x290f08){return _0x682d66+_0x290f08;},'YUYBo':function(_0x3909bf,_0x1e034b){return _0x3909bf+_0x1e034b;},'bxoNo':function(_0x360126,_0x4a5e6d){return _0x360126+_0x4a5e6d;},'BMFod':function(_0xa9caa3,_0x418fac){return _0xa9caa3+_0x418fac;},'efGNv':function(_0x5d78bd,_0x4b8947){return _0x5d78bd+_0x4b8947;}},_0x50ded6=_0x6abd27?'/>':'>',_0x4f76fb=[];let _0x3048bf;for(const _0x37f2fe in _0x319ad9){Object[_0x3a6205(0x1a6)][_0x3a6205(0x18c)][_0x3a6205(0x214)](_0x319ad9,_0x37f2fe)&&_0x4f76fb[_0x3a6205(0x286)](_0x28ade9[_0x3a6205(0x237)](_0x28ade9[_0x3a6205(0x1c0)](_0x28ade9[_0x3a6205(0x1c0)](_0x37f2fe,'=\x22'),_0x28ade9[_0x3a6205(0x1c2)](escape,_0x319ad9[_0x37f2fe])),'\x22'));}return _0x3048bf=_0x28ade9[_0x3a6205(0x1a7)](_0x28ade9[_0x3a6205(0x249)](_0x28ade9[_0x3a6205(0x237)]('<',_0x496765),_0x4f76fb[_0x3a6205(0x1f4)]?_0x28ade9[_0x3a6205(0x1d4)]('\x20',_0x4f76fb[_0x3a6205(0x278)]('\x20')):''),_0x50ded6),_0x3d1dbc&&(_0x3048bf+=_0x28ade9[_0x3a6205(0x1f7)](_0x28ade9[_0x3a6205(0x1f7)](_0x28ade9['efGNv'](_0x3d1dbc,'</'),_0x496765),_0x50ded6)),_0x3048bf;}let xunitContent='';function xunitWrite(_0x292e5d){xunitContent+=_0x292e5d;}function a33_0x2d32(){const _0x17a871=['HZkyJ','RxYHI','config','testObservability','mocha/lib/cli/collect-files.js','has','Writing\x20xunit\x20result\x20to\x20file','\x0a\x0a\x0a','mjs','cihGE','zdYek','testsPending','currentRetry','finally','VMwCc','join','forEach','isEmpty','testsuite','../../helpers/helper','</testsuite>','setupTCGAuth','UUGRu','guIVW','getErrorMessageFromResults','KTPHY','EEyug','chBjk','pWIva','push','hideDiff','failures','getCentralUser','AFkiF','getTCGConfigFilePaths','\x20platforms','Running\x20your\x20mocha\x20tests','spec','message','../../helpers/testhub/testhubHandler','accessibilityOptions','err','LrFFn','Tqany','exports','add','../../helpers/utilities','hasOwnProperty','retryTestsOnFailure','green','proxySettings','Mocha\x20Tests','UKeUU','Bilje','BROWSERSTACK_GRR_US_HUB_URL','setUserConfigPath','NQLYu','mdAHz','test','SDK_CLEANUP','list','1287831HcDUdT','platforms','fireFunnelTestEvent','doc','PTmER','reporter-option','isBrowserstackInfra','failed','MOCHA','accessibility','consoleLog','QJWnr','prototype','jBcMK','isNotUndefined','env','passes','JCZTK','YrObr','finalExecution','actual','Now,\x20showing\x20logs\x20from\x20mocha','DwsrA','cuLHY','kDfDm','xTdgQ','testsFailed','stats','7209390DfXQMA','platform','XmdmW','printBuildLink','showDiff','assign','hJAGR','results','DuQVa','object','BvYSU','oVXbY','Ozuim','BROWSERSTACK_RERUN_TESTS','EYdmo','\x20failed','file','ftShQ','xunit','exitCode','OtpWN','GWwIr','UmFFs','FRAMEWORKS','suiteName','../../helpers/performance/constants','YxwoU','yImgI','mjJAZ','Listing\x20all\x20the\x20failures','bxoNo','pending','301640THnsMi','mocha','reporter','errorMessage','njSjJ','Couldn\x27t\x20write\x20json\x20result\x20to','Writing\x20json\x20result\x20to\x20file','oDWFM','1036490WxoOqB','BdNNw','bgBlueBright','mocha/lib/reporters/base.js','Wqjwa','isTestObservabilitySession','YODlv','map','LtDhC','ignore','getUserWorkerCount','EzdLQ','getHubUrl','8yWJNHf','MJeVX','error','testcase','passed','****\x20FAILURES\x20****','validPlatformsPresent','suite','omNsU','length','includeTagsInTestingScope','cliConfig','BMFod','\x20total','retries','rmdirSync','titlePathV','../utils/constants','testSuites','isPending','debug','testsPassed','parseTestOrchestrationOptions','../test-runner','../../helpers/test-observability/utils','IYZZh','prepareCapabilities','JjiJZ','ztAsU','keys','yellow','../../helpers/performance/performance-tester','duration','bLSCK','DXSOS','title','../../helpers/test-observability/constants','yJDdu','central_scanner','NMlmw','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','call','ejWRJ','bwWmi','576AFowaN','initialize','5805344zNDXPb','YNjQu','writeFileSync','output','zCcsT','hGfzG','start','ICLQo','red','log','isUndefined','BROWSERSTACK_TEST_OBSERVABILITY_YML','fullTitle','ChbfT','BDSHc','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','parallelsPerPlatform','launchBuild','files','EVENTS','reporterOptions','dZYNF','gHybA','recursive','1336zCewxz','DQjRE','xWNNJ','../../helpers/percy/utils','YcYAt','pmZgb','KmQLU','IkOAq','gwsij','DlNaS','totalTests','tYrlU','error\x20removing\x20tcg\x20config\x20file','IHvZg','rWgDn','JeFxc','Tests:\x20\x20\x20\x20\x20\x20\x20','generateDiff','syWfv','titlePath','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','EBcAC','indexOf','min','YUYBo','Qyfeg','JRiYL','toUTCString','stack','getPlatformName','xMfMd','bold','\x20passed','206740hwwBsE','YrAFP','configuration','Couldn\x27t\x20write\x20xunit\x20result\x20to','yBACu','BcsZF','shouldReRunObservabilityTests','lZBBp','bxiEF','logLevel','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','handleApp','info','6040oRvooN','miqtU','stringify','bgRedBright','miXqH','ZNSxH','AKQtN','Total\x20Suites:\x20','state','../../helpers/logger'];a33_0x2d32=function(){return _0x17a871;};return a33_0x2d32();}function xunitTest(_0xd246d9,_0x3fc9af){const _0x4f901c=a33_0x592171,_0x1745df={'rftmG':function(_0x22df1a,_0x4b96d6){return _0x22df1a/_0x4b96d6;},'YODlv':function(_0x152ca8,_0x5a9730){return _0x152ca8===_0x5a9730;},'uKLie':_0x4f901c(0x1a1),'cLDwV':function(_0x47be6f,_0x4f3179){return _0x47be6f+_0x4f3179;},'IHvZg':function(_0x25750d,_0x1b6126){return _0x25750d(_0x1b6126);},'snhXg':function(_0x394e0d,_0x538197,_0x126bc0,_0x492c02,_0xa698bd){return _0x394e0d(_0x538197,_0x126bc0,_0x492c02,_0xa698bd);},'UUGRu':_0x4f901c(0x1ee),'PTmER':function(_0x445103,_0x1899b1,_0x222b89,_0x4c47e6,_0x12b33a){return _0x445103(_0x1899b1,_0x222b89,_0x4c47e6,_0x12b33a);},'gwsij':'failure','DXSOS':function(_0x5070bd,_0x7b2408){return _0x5070bd+_0x7b2408;},'JCZTK':function(_0xf5c824,_0x5c55bc){return _0xf5c824+_0x5c55bc;},'lZBBp':function(_0x1a1333,_0x3b02d7){return _0x1a1333(_0x3b02d7);},'snBgg':function(_0x1103af,_0x3431c5){return _0x1103af(_0x3431c5);},'tYrlU':function(_0x322848,_0x59c4ec){return _0x322848(_0x59c4ec);},'EzdLQ':function(_0x407519,_0xdea736,_0x4a7145,_0x2ac18c){return _0x407519(_0xdea736,_0x4a7145,_0x2ac18c);},'bLSCK':'skipped'};Base['useColors']=![];var _0x2ef7be={'classname':_0xd246d9[_0x4f901c(0x225)],'name':_0xd246d9['title'],'time':_0x1745df['rftmG'](_0xd246d9[_0x4f901c(0x20b)],0x3e8)||0x0,'platform':_0x3fc9af};if(_0x1745df[_0x4f901c(0x1e4)](_0xd246d9[_0x4f901c(0x267)],_0x1745df['uKLie'])){var _0x523072=_0xd246d9[_0x4f901c(0x292)],_0x367208=!Base[_0x4f901c(0x287)]&&Base[_0x4f901c(0x1ba)](_0x523072)?_0x1745df['cLDwV']('\x0a',Base[_0x4f901c(0x242)](_0x523072[_0x4f901c(0x1ae)],_0x523072['expected'])):'';_0x1745df[_0x4f901c(0x23e)](xunitWrite,_0x1745df['snhXg'](tag,_0x1745df[_0x4f901c(0x27f)],_0x2ef7be,![],_0x1745df[_0x4f901c(0x19e)](tag,_0x1745df[_0x4f901c(0x239)],{},![],_0x1745df[_0x4f901c(0x20d)](_0x1745df[_0x4f901c(0x20d)](_0x1745df[_0x4f901c(0x1ab)](_0x1745df[_0x4f901c(0x259)](escape,_0x523072[_0x4f901c(0x28f)]),_0x1745df[_0x4f901c(0x259)](escape,_0x367208)),'\x0a'),_0x1745df['snBgg'](escape,_0x523072[_0x4f901c(0x24d)])))));}else _0xd246d9[_0x4f901c(0x1fe)]?_0x1745df[_0x4f901c(0x23c)](xunitWrite,_0x1745df[_0x4f901c(0x19e)](tag,_0x1745df[_0x4f901c(0x27f)],_0x2ef7be,![],_0x1745df['EzdLQ'](tag,_0x1745df[_0x4f901c(0x20c)],{},!![]))):_0x1745df[_0x4f901c(0x23e)](xunitWrite,_0x1745df[_0x4f901c(0x1e9)](tag,_0x1745df[_0x4f901c(0x27f)],_0x2ef7be,!![]));};function getStats(_0xc5d804){const _0x199711=a33_0x592171,_0x2c476b={};_0x2c476b[_0x199711(0x24a)]=_0x199711(0x1f2),_0x2c476b[_0x199711(0x243)]=_0x199711(0x1ef),_0x2c476b[_0x199711(0x1c4)]=_0x199711(0x1a1),_0x2c476b[_0x199711(0x233)]=_0x199711(0x1bd);const _0x283c4b=_0x2c476b,_0x4f51a3=Object[_0x199711(0x208)](_0xc5d804);let _0x56fece=0x0,_0x35d3c1=0x0,_0x2b5d80=0x0,_0x9973d5=0x0;const _0x4deb0f=new Set();_0x4f51a3[_0x199711(0x279)](_0x28fec5=>{const _0x5f2aec=_0x199711,_0xeef5d5={};_0xeef5d5[_0x5f2aec(0x1df)]=_0x283c4b[_0x5f2aec(0x24a)],_0xeef5d5[_0x5f2aec(0x1d0)]=_0x283c4b[_0x5f2aec(0x243)],_0xeef5d5['EEyug']=_0x283c4b['EYdmo'];const _0x43d6cd=_0xeef5d5;_0xc5d804[_0x28fec5][_0x283c4b['xWNNJ']][_0x5f2aec(0x279)](_0xbb89f6=>{const _0x5e3204=_0x5f2aec;_0x4deb0f[_0x5e3204(0x296)](_0xbb89f6[_0x43d6cd[_0x5e3204(0x1df)]]),_0x56fece++;switch(_0xbb89f6[_0x5e3204(0x267)]){case _0x43d6cd['YxwoU']:_0x2b5d80++;break;case _0x43d6cd[_0x5e3204(0x283)]:_0x35d3c1++;break;default:_0x9973d5++;}});});const _0x22cf62={};return _0x22cf62[_0x199711(0x1fd)]=_0x4deb0f['size'],_0x22cf62[_0x199711(0x19b)]=_0x4f51a3,_0x22cf62[_0x199711(0x23b)]=_0x56fece,_0x22cf62['testsFailed']=_0x35d3c1,_0x22cf62[_0x199711(0x200)]=_0x2b5d80,_0x22cf62[_0x199711(0x274)]=_0x9973d5,_0x22cf62;}function errorJSON(_0x238e9e){var _0x1b9776={};return Object['getOwnPropertyNames'](_0x238e9e)['forEach'](function(_0x3c7d35){_0x1b9776[_0x3c7d35]=_0x238e9e[_0x3c7d35];},_0x238e9e),_0x1b9776;}function cleanCycles(_0x192936){const _0x1f243d=a33_0x592171,_0x4723ed={};_0x4723ed[_0x1f243d(0x236)]=function(_0x1a0a3d,_0x262665){return _0x1a0a3d===_0x262665;},_0x4723ed[_0x1f243d(0x1bc)]=_0x1f243d(0x1bf),_0x4723ed['OtpWN']=function(_0x235ff4,_0x47cefd){return _0x235ff4!==_0x47cefd;},_0x4723ed[_0x1f243d(0x277)]=function(_0xd3b417,_0x17afc5){return _0xd3b417+_0x17afc5;};const _0x5605f1=_0x4723ed;var _0x44c8ee=[];return JSON['parse'](JSON['stringify'](_0x192936,function(_0x548939,_0x5ab1d2){const _0x158341=_0x1f243d;if(_0x5605f1[_0x158341(0x236)](typeof _0x5ab1d2,_0x5605f1[_0x158341(0x1bc)])&&_0x5605f1[_0x158341(0x1ca)](_0x5ab1d2,null)){if(_0x5605f1[_0x158341(0x1ca)](_0x44c8ee[_0x158341(0x247)](_0x5ab1d2),-0x1))return _0x5605f1['VMwCc']('',_0x5ab1d2);_0x44c8ee['push'](_0x5ab1d2);}return _0x5ab1d2;}));}function clean(_0x2b1a39){const _0x420083=a33_0x592171,_0x4b1c00={'AFkiF':function(_0x2a6d83,_0x387715){return _0x2a6d83 instanceof _0x387715;},'ztAsU':function(_0x5d703c,_0x416c57){return _0x5d703c(_0x416c57);}};var _0x215df8=_0x2b1a39['err']||{};return _0x4b1c00[_0x420083(0x28a)](_0x215df8,Error)&&(_0x215df8=_0x4b1c00[_0x420083(0x207)](errorJSON,_0x215df8)),{'title':_0x2b1a39[_0x420083(0x20e)],'fullTitle':_0x2b1a39[_0x420083(0x225)],'file':_0x2b1a39['file'],'duration':_0x2b1a39[_0x420083(0x20b)],'currentRetry':_0x2b1a39[_0x420083(0x275)],'speed':_0x2b1a39['speed'],'err':_0x4b1c00[_0x420083(0x207)](cleanCycles,_0x215df8)};}function a33_0x40f0(_0x20cf06,_0x566a6b){const _0x2d3235=a33_0x2d32();return a33_0x40f0=function(_0x40f09c,_0x482611){_0x40f09c=_0x40f09c-0x18b;let _0x24b7d8=_0x2d3235[_0x40f09c];return _0x24b7d8;},a33_0x40f0(_0x20cf06,_0x566a6b);}function printStats(_0x3937b7,_0x1a2636=a33_0x592171(0x28e),_0x3a05ab={}){const _0x5445b7=a33_0x592171,_0x37fde1={'chBjk':function(_0x3e1bcd,_0x3d014d){return _0x3e1bcd(_0x3d014d);},'YrObr':function(_0x43e6b1,_0x193c5a){return _0x43e6b1===_0x193c5a;},'KTPHY':_0x5445b7(0x1ef),'GWwIr':_0x5445b7(0x1aa),'svCYv':function(_0x380e6b,_0x1655c4){return _0x380e6b===_0x1655c4;},'ChbfT':_0x5445b7(0x1a1),'ejWRJ':_0x5445b7(0x288),'BcsZF':function(_0x153c0d,_0x4b0108){return _0x153c0d(_0x4b0108);},'miqtU':_0x5445b7(0x1d5),'guIVW':'results','LtDhC':function(_0x46b962,_0x48cd9c){return _0x46b962===_0x48cd9c;},'QJWnr':function(_0x4e8a76,_0x208fc0){return _0x4e8a76===_0x208fc0;},'oVXbY':function(_0x212d20,_0x2cd505){return _0x212d20*_0x2cd505;},'BQAsY':function(_0x340dc9,_0x1c6606,_0x278d41){return _0x340dc9(_0x1c6606,_0x278d41);},'DlNaS':function(_0x3b7010,_0x47adc6){return _0x3b7010>_0x47adc6;},'PzTRG':function(_0x31a787){return _0x31a787();},'YrAFP':function(_0x1bda53,_0x542b21){return _0x1bda53===_0x542b21;},'YNjQu':_0x5445b7(0x19d),'UmFFs':function(_0x1ed73b,_0x2ef529){return _0x1ed73b(_0x2ef529);},'hGfzG':'Setting\x20non\x20exit\x20code\x20for\x20failures','UKeUU':'Printing\x20stats\x20of\x20tests','yJDdu':function(_0x44a687,_0xc433f2){return _0x44a687+_0xc433f2;},'IYZZh':'Total\x20Platforms:\x20','gHybA':function(_0x3e32ff,_0x37d758){return _0x3e32ff+_0x37d758;},'kDfDm':_0x5445b7(0x266),'njSjJ':function(_0x5146e8,_0x52f51e){return _0x5146e8+_0x52f51e;},'RxYHI':function(_0xaa2577,_0x359ea3){return _0xaa2577+_0x359ea3;},'YcYAt':_0x5445b7(0x241),'Wqjwa':function(_0x47ebba,_0x1f68e5){return _0x47ebba>_0x1f68e5;},'MJeVX':function(_0x3e53d1,_0x1e5181){return _0x3e53d1+_0x1e5181;},'DwsrA':function(_0x36a763,_0x806e80){return _0x36a763+_0x806e80;},'mdAHz':_0x5445b7(0x270),'SAPMS':'json','HZkyJ':_0x5445b7(0x1dc),'DuQVa':_0x5445b7(0x1db),'MljYw':_0x5445b7(0x213),'bxiEF':_0x5445b7(0x1c8),'xTdgQ':_0x5445b7(0x190),'ICLQo':function(_0xf81db7,_0x2a08fc){return _0xf81db7||_0x2a08fc;},'ZNSxH':function(_0x8838ac,_0x411095){return _0x8838ac(_0x411095);},'IkOAq':function(_0x4f88b9,_0x406b59,_0x42c2c8,_0x4a1f0f){return _0x4f88b9(_0x406b59,_0x42c2c8,_0x4a1f0f);},'NMlmw':_0x5445b7(0x27b),'JRiYL':function(_0x18c7eb,_0x2e29ed){return _0x18c7eb-_0x2e29ed;},'JeFxc':function(_0x377dc3,_0x3eca8e){return _0x377dc3-_0x3eca8e;},'AKQtN':function(_0x5d6e23,_0x1f0793){return _0x5d6e23/_0x1f0793;},'xMfMd':function(_0x4f0bd8,_0x38f4c6){return _0x4f0bd8(_0x38f4c6);},'ftShQ':_0x5445b7(0x27d),'BDSHc':_0x5445b7(0x26f),'zCcsT':_0x5445b7(0x255),'DQjRE':_0x5445b7(0x245),'EBcAC':_0x5445b7(0x1d3),'vCaxV':_0x5445b7(0x1f0)};if(_0x37fde1[_0x5445b7(0x253)](_0x1a2636,_0x37fde1[_0x5445b7(0x21a)]))return;const _0x27dfa2=0x0,_0x54bda4=()=>{const _0x1e5db7=_0x5445b7;return _0x37fde1[_0x1e5db7(0x284)](Array,_0x27dfa2)[_0x1e5db7(0x278)]('\x20\x20');},{testSuites:_0x4bc412,platforms:_0x4384c2,totalTests:_0x5047c9,testsFailed:_0xe20b45,testsPassed:_0x491741,testsPending:_0x1000a4}=_0x37fde1[_0x5445b7(0x1cc)](getStats,_0x3937b7);_0x37fde1['DlNaS'](_0xe20b45,0x0)&&(logger[_0x5445b7(0x1ff)](_0x37fde1[_0x5445b7(0x21e)]),process[_0x5445b7(0x1c9)]=Math[_0x5445b7(0x248)](_0xe20b45,0xff));logger['debug'](_0x37fde1[_0x5445b7(0x191)]);const _0x12f8c8=''+_0x37fde1[_0x5445b7(0x210)](chalk[_0x5445b7(0x250)](_0x37fde1[_0x5445b7(0x204)]),_0x4384c2[_0x5445b7(0x1f4)]),_0x439b2a=''+_0x37fde1[_0x5445b7(0x22f)](chalk['bold'](_0x37fde1[_0x5445b7(0x1b2)]),_0x4bc412),_0x1008a2=''+_0x37fde1[_0x5445b7(0x1da)](_0x37fde1[_0x5445b7(0x26a)](_0x37fde1['yJDdu'](chalk[_0x5445b7(0x250)](_0x37fde1[_0x5445b7(0x235)]),_0x37fde1[_0x5445b7(0x1e2)](_0xe20b45,0x0)?chalk['bold'][_0x5445b7(0x221)](_0xe20b45+_0x5445b7(0x1c5))+',\x20':''),_0x37fde1[_0x5445b7(0x1e2)](_0x1000a4,0x0)?chalk['bold'][_0x5445b7(0x209)](_0x1000a4+'\x20skipped')+',\x20':''),_0x37fde1[_0x5445b7(0x1e2)](_0x491741,0x0)?chalk[_0x5445b7(0x250)][_0x5445b7(0x18e)](_0x491741+_0x5445b7(0x251))+',\x20':'')+_0x5047c9+_0x5445b7(0x1f8);console[_0x5445b7(0x222)](_0x37fde1[_0x5445b7(0x1da)](_0x37fde1[_0x5445b7(0x1ec)](_0x37fde1[_0x5445b7(0x1b0)](_0x37fde1[_0x5445b7(0x1da)](_0x37fde1[_0x5445b7(0x1da)](_0x37fde1[_0x5445b7(0x196)],_0x12f8c8),'\x0a'),_0x439b2a),'\x0a'),_0x1008a2));if(_0x37fde1['LtDhC'](_0x1a2636,_0x37fde1['SAPMS'])){const _0x306685={},_0x3dd4c6={};_0x3dd4c6[_0x5445b7(0x1fd)]=_0x4bc412,_0x3dd4c6['platforms']=_0x4384c2,_0x3dd4c6[_0x5445b7(0x1b4)]=_0xe20b45,_0x3dd4c6[_0x5445b7(0x200)]=_0x491741,_0x3dd4c6[_0x5445b7(0x274)]=_0x1000a4,_0x306685[_0x5445b7(0x1b5)]=_0x3dd4c6,_0x4384c2[_0x5445b7(0x279)](_0x37f398=>{const _0x1448c5=_0x5445b7;_0x306685[_0x37f398]={'pending':[],'failures':[],'passes':[],'tests':_0x3937b7[_0x37f398][_0x37fde1['guIVW']][_0x1448c5(0x1e5)](clean)},_0x3937b7[_0x37f398][_0x37fde1[_0x1448c5(0x280)]]['forEach'](_0x27686b=>{const _0x31c5ed=_0x1448c5;if(_0x37fde1[_0x31c5ed(0x1ac)](_0x27686b[_0x31c5ed(0x267)],_0x37fde1[_0x31c5ed(0x282)]))_0x306685[_0x37f398][_0x37fde1[_0x31c5ed(0x1cb)]]['push'](_0x37fde1[_0x31c5ed(0x284)](clean,_0x27686b));else _0x37fde1['svCYv'](_0x27686b[_0x31c5ed(0x267)],_0x37fde1[_0x31c5ed(0x226)])?_0x306685[_0x37f398][_0x37fde1[_0x31c5ed(0x215)]][_0x31c5ed(0x286)](_0x37fde1[_0x31c5ed(0x257)](clean,_0x27686b)):_0x306685[_0x37f398][_0x37fde1[_0x31c5ed(0x260)]][_0x31c5ed(0x286)](_0x37fde1[_0x31c5ed(0x284)](clean,_0x27686b));});});if(_0x3a05ab[_0x5445b7(0x21c)])try{logger[_0x5445b7(0x1ff)](_0x37fde1[_0x5445b7(0x269)],_0x3a05ab['output']),fs[_0x5445b7(0x21b)](_0x3a05ab[_0x5445b7(0x21c)],JSON[_0x5445b7(0x261)](_0x306685,null,0x3));}catch(_0x33a150){logger[_0x5445b7(0x1ed)](_0x37fde1[_0x5445b7(0x1be)],_0x3a05ab[_0x5445b7(0x21c)]),logger['debug'](_0x33a150);}else logger[_0x5445b7(0x1ff)](_0x37fde1['MljYw']),console['log'](JSON[_0x5445b7(0x261)](_0x306685,null,0x3));}else{if(_0x37fde1[_0x5445b7(0x253)](_0x1a2636,_0x37fde1[_0x5445b7(0x25a)])){let _0x2e39b2;const _0xc792d2=_0x37fde1[_0x5445b7(0x1b3)];_0x3a05ab&&(_0x2e39b2=_0x3a05ab[_0x5445b7(0x1ce)]);_0x2e39b2=_0x37fde1[_0x5445b7(0x220)](_0x2e39b2,_0xc792d2);let _0x152b86=0x0,_0x22ec57=0x0,_0x30d12e=0x0,_0x356fc6=0x0;_0x4384c2[_0x5445b7(0x279)](_0x28ead2=>{const _0x5cc30a=_0x5445b7;_0x3937b7[_0x28ead2][_0x37fde1[_0x5cc30a(0x280)]][_0x5cc30a(0x279)](_0x135a56=>{const _0x47563f=_0x5cc30a;if(_0x37fde1[_0x47563f(0x1e6)](_0x135a56['state'],_0x37fde1[_0x47563f(0x282)]))_0x152b86++;else _0x37fde1[_0x47563f(0x1a5)](_0x135a56[_0x47563f(0x267)],_0x37fde1[_0x47563f(0x226)])&&_0x22ec57++;_0x30d12e++,_0x356fc6+=_0x37fde1[_0x47563f(0x1c1)](_0x135a56[_0x47563f(0x20b)],0x1);});}),_0x37fde1[_0x5445b7(0x264)](xunitWrite,_0x37fde1[_0x5445b7(0x238)](tag,_0x37fde1[_0x5445b7(0x212)],{'name':_0x2e39b2,'tests':_0x30d12e,'failures':0x0,'errors':_0x22ec57,'skipped':_0x37fde1[_0x5445b7(0x24b)](_0x37fde1[_0x5445b7(0x240)](_0x30d12e,_0x22ec57),_0x152b86),'timestamp':new Date()[_0x5445b7(0x24c)](),'time':_0x37fde1[_0x5445b7(0x265)](_0x356fc6,0x3e8)||0x0},![])),_0x4384c2[_0x5445b7(0x279)](_0x2c062e=>{const _0x53ffc0=_0x5445b7,_0x19d136={'NQLYu':function(_0x14be06,_0x360c85,_0x54d995){return _0x37fde1['BQAsY'](_0x14be06,_0x360c85,_0x54d995);}};_0x3937b7[_0x2c062e][_0x37fde1['guIVW']][_0x53ffc0(0x279)](_0x4af7e8=>{const _0x1318de=_0x53ffc0;_0x19d136[_0x1318de(0x195)](xunitTest,_0x4af7e8,_0x2c062e);});}),_0x37fde1[_0x5445b7(0x24f)](xunitWrite,_0x37fde1[_0x5445b7(0x1c7)]);if(_0x3a05ab['output'])try{logger[_0x5445b7(0x1ff)](_0x37fde1[_0x5445b7(0x227)],_0x3a05ab[_0x5445b7(0x21c)]),fs['writeFileSync'](_0x3a05ab[_0x5445b7(0x21c)],xunitContent);}catch(_0x42d8f6){logger[_0x5445b7(0x1ed)](_0x37fde1[_0x5445b7(0x21d)],_0x3a05ab['output']),logger['debug'](_0x42d8f6);}else logger[_0x5445b7(0x1ff)](_0x37fde1[_0x5445b7(0x232)]),console[_0x5445b7(0x222)](xunitContent);}else{if(_0x37fde1[_0x5445b7(0x1e6)](_0xe20b45,0x0))return;console[_0x5445b7(0x222)](),logger[_0x5445b7(0x1ff)](_0x37fde1[_0x5445b7(0x246)]),console[_0x5445b7(0x222)](chalk[_0x5445b7(0x250)][_0x5445b7(0x262)](_0x37fde1['vCaxV'])),_0x4384c2[_0x5445b7(0x279)](_0x306d16=>{const _0x59a7dd=_0x5445b7,_0x51dff6=[];_0x3937b7[_0x306d16][_0x37fde1['guIVW']][_0x59a7dd(0x279)](_0x1457e1=>{const _0x4e09a2=_0x59a7dd;_0x37fde1['svCYv'](_0x1457e1[_0x4e09a2(0x267)],_0x37fde1[_0x4e09a2(0x226)])&&(_0x1457e1[_0x4e09a2(0x244)]=()=>_0x1457e1[_0x4e09a2(0x1fb)],_0x51dff6[_0x4e09a2(0x286)](_0x1457e1));}),_0x37fde1[_0x59a7dd(0x23a)](_0x51dff6[_0x59a7dd(0x1f4)],0x0)&&(Base[_0x59a7dd(0x1a4)](),Base['consoleLog'](_0x37fde1['PzTRG'](_0x54bda4),chalk[_0x59a7dd(0x250)][_0x59a7dd(0x1e0)](_0x306d16)),Base[_0x59a7dd(0x199)](_0x51dff6));});}}}async function run(_0x1da4c6,_0x2cfec3,_0xeac88c){const _0x1f4ffb=a33_0x592171,_0x3f8038={'cuLHY':function(_0x216b2c,_0x2160f3,_0x551345,_0x297a15){return _0x216b2c(_0x2160f3,_0x551345,_0x297a15);},'oDWFM':_0x1f4ffb(0x19f),'yImgI':_0x1f4ffb(0x23d),'zdYek':'SDKTestSuccessful','omNsU':'mocha','bwWmi':function(_0x445d30,_0x4f203a){return _0x445d30!=_0x4f203a;},'LrFFn':'cjs','CuwWf':_0x1f4ffb(0x271),'rWgDn':_0x1f4ffb(0x197),'Zthig':'rerunTests','cihGE':function(_0x5c2159,_0x196dfb){return _0x5c2159(_0x196dfb);},'Bilje':function(_0x134118,_0xcdaf4b,_0x19c882){return _0x134118(_0xcdaf4b,_0x19c882);},'miXqH':_0x1f4ffb(0x22b),'XmdmW':function(_0x4543ad,_0x16c52b){return _0x4543ad!=_0x16c52b;},'mjJAZ':_0x1f4ffb(0x1f5),'dZYNF':'excludeTagsInTestingScope','Tqany':'includeEncodedExtension','JjiJZ':_0x1f4ffb(0x28d),'yBACu':_0x1f4ffb(0x1af),'pWIva':function(_0x58bf83,_0x3f50a2){return _0x58bf83*_0x3f50a2;},'bYSNo':function(_0x4907df,_0x57d7f4){return _0x4907df!==_0x57d7f4;}};helper[_0x1f4ffb(0x194)](_0xeac88c['framework'],_0x1da4c6),await _0xeac88c[_0x1f4ffb(0x218)](_0x1da4c6);helper[_0x1f4ffb(0x1a0)]()?await helper[_0x1f4ffb(0x25d)](_0xeac88c[_0x1f4ffb(0x26b)]):await _0xeac88c[_0x1f4ffb(0x27e)]();const _0x40eebe=[];let _0x223b59=[];if(!_0xeac88c[_0x1f4ffb(0x26b)])return;!helper[_0x1f4ffb(0x223)](_0xeac88c[_0x1f4ffb(0x26b)][_0x1f4ffb(0x291)])&&(process[_0x1f4ffb(0x1a9)][_0x1f4ffb(0x228)]=JSON[_0x1f4ffb(0x261)](_0xeac88c['config'][_0x1f4ffb(0x291)]));const _0x2a9586=await TestHubHandler[_0x1f4ffb(0x22a)](FRAMEWORKS[_0x1f4ffb(0x1a2)],_0xeac88c);_0x3f8038[_0x1f4ffb(0x216)](_0xeac88c[_0x1f4ffb(0x26b)][_0x1f4ffb(0x26c)],null)&&(process[_0x1f4ffb(0x1a9)][_0x1f4ffb(0x224)]=_0xeac88c[_0x1f4ffb(0x26b)]['testObservability']);!helper[_0x1f4ffb(0x223)](_0xeac88c[_0x1f4ffb(0x26b)][_0x1f4ffb(0x1a3)])&&(process[_0x1f4ffb(0x1a9)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0xeac88c['config'][_0x1f4ffb(0x1a3)]);const {extension:extension=['js',_0x3f8038[_0x1f4ffb(0x293)],_0x3f8038['CuwWf']],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x3f8038[_0x1f4ffb(0x23f)]]}=_0x1da4c6,_0x5b9f61={..._0x1da4c6};_0x5b9f61['rootHooks']=null;const _0x113b84=_0x5b9f61;let _0x5ad479;if(testOpsHelper[_0x1f4ffb(0x1e3)]()&&testOpsHelper[_0x1f4ffb(0x258)]()){let _0x4c12b5=process[_0x1f4ffb(0x1a9)][_0x1f4ffb(0x1c3)];!helper[_0x1f4ffb(0x223)](_0xeac88c[_0x1f4ffb(0x1f6)])&&_0xeac88c[_0x1f4ffb(0x1f6)][_0x1f4ffb(0x26e)](_0x3f8038['Zthig'])&&(_0x4c12b5=_0xeac88c[_0x1f4ffb(0x1f6)]['get'](_0x3f8038['Zthig'])),_0x5ad479=testOpsHelper['parseFileNames'](_0x4c12b5);}if(helper[_0x1f4ffb(0x223)](_0x5ad479)){const _0x548c88={};_0x548c88[_0x1f4ffb(0x1e7)]=ignore,_0x548c88['extension']=extension,_0x548c88[_0x1f4ffb(0x1c6)]=file,_0x548c88[_0x1f4ffb(0x230)]=recursive,_0x548c88['sort']=sort,_0x548c88['spec']=spec,_0x5ad479=_0x3f8038['cihGE'](collectFiles,_0x548c88),_0x3f8038[_0x1f4ffb(0x192)](nestedKeyValue,_0x5ad479,[_0x3f8038[_0x1f4ffb(0x263)]])&&(_0x5ad479=_0x5ad479[_0x1f4ffb(0x22b)]);}const _0x2d0490=helper[_0x1f4ffb(0x201)](_0xeac88c[_0x1f4ffb(0x26b)]);!helper[_0x1f4ffb(0x27a)](_0x2d0490)&&helper[_0x1f4ffb(0x1a8)](_0x2d0490[_0x1f4ffb(0x18d)])&&(_0x113b84[_0x1f4ffb(0x1f9)]=_0x2d0490[_0x1f4ffb(0x18d)]['maxRetries']);if(!helper['isBrowserstackInfra']()){const _0x38b053=0x1,_0x588f40={..._0x113b84};_0x588f40[_0x1f4ffb(0x28e)]=[..._0x5ad479],_0x40eebe[_0x1f4ffb(0x286)]({'mochaOpts':_0x588f40,'configuration':{'platform':os[_0x1f4ffb(0x1b7)]()}});if(_0xeac88c[_0x1f4ffb(0x26b)]['accessibility']){const _0x519c58={};_0x519c58[_0x1f4ffb(0x1a3)]=!![];const _0x3cb8fe=_0x519c58;_0x3f8038[_0x1f4ffb(0x1b8)](_0xeac88c[_0x1f4ffb(0x26b)]['accessibilityOptions'],null)&&(_0x3cb8fe['accessibilityOptions']=_0xeac88c[_0x1f4ffb(0x26b)][_0x1f4ffb(0x291)],delete _0x3cb8fe[_0x1f4ffb(0x291)][_0x3f8038[_0x1f4ffb(0x1d2)]],delete _0x3cb8fe[_0x1f4ffb(0x291)][_0x3f8038[_0x1f4ffb(0x22e)]],delete _0x3cb8fe[_0x1f4ffb(0x291)][_0x3f8038[_0x1f4ffb(0x294)]]);const _0x2cc267={};_0x2cc267['bstack:options']=_0x3cb8fe,_0x40eebe[0x0][_0x1f4ffb(0x254)]['capability']=_0x2cc267;}logger[_0x1f4ffb(0x25e)](_0x3f8038[_0x1f4ffb(0x206)]),logger['info'](_0x3f8038[_0x1f4ffb(0x256)]),_0x3f8038[_0x1f4ffb(0x1b1)](parallelTestRun,_0x40eebe,_0x38b053,_0xeac88c)['then'](_0x5dcc6f=>{const _0x476757=_0x1f4ffb;PerformanceTester['start'](PerformanceEvents[_0x476757(0x198)]),_0x3f8038['cuLHY'](printStats,_0x5dcc6f,_0x1da4c6['reporter'],_0x1da4c6[_0x476757(0x22d)]||_0x1da4c6[_0x3f8038[_0x476757(0x1dd)]]);})[_0x1f4ffb(0x276)](()=>{const _0x5e16bd=_0x1f4ffb;PerformanceTester[_0x5e16bd(0x21f)](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0x45d820,tcgConfigPath:_0x4f8d54}=helper[_0x5e16bd(0x28b)]();fs['unlinkSync'](_0x4f8d54),fs[_0x5e16bd(0x1fa)](_0x45d820);}catch(_0x50484e){logger[_0x5e16bd(0x1ff)](_0x3f8038[_0x5e16bd(0x1d1)],_0x50484e);}try{utilities[_0x5e16bd(0x19c)](_0x3f8038[_0x5e16bd(0x273)],{},_0xeac88c['config'],_0xeac88c['framework']);}catch(_0x4b5f9b){logger['debug'](_0x5e16bd(0x25c)+_0x4b5f9b['stack']);}try{helper['notifyUpdate']();}catch(_0x4c5ccf){logger['debug']('Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20'+_0x4c5ccf);}testOpsHelper['printBuildLink']();});}else{const _0x49474f=helper['useW3C'](_0xeac88c[_0x1f4ffb(0x26b)]);let _0x1121c5=helper[_0x1f4ffb(0x1ea)](_0xeac88c[_0x1f4ffb(0x26b)]);_0x223b59=helper[_0x1f4ffb(0x205)](_0xeac88c['config'],_0x49474f,constants['FRAMEWORKS'][_0x1f4ffb(0x1a2)]);helper[_0x1f4ffb(0x289)]()[_0x1f4ffb(0x211)]&&(_0x1121c5=centralScannerConstants[_0x1f4ffb(0x193)]);let _0x532b2b;const _0xf0889f=_0xeac88c['config'][_0x1f4ffb(0x229)]||helper[_0x1f4ffb(0x1e8)](_0x1da4c6,_0x2cfec3,_0xeac88c['config'],constants[_0x1f4ffb(0x1cd)]['MOCHA'])||0x1;helper[_0x1f4ffb(0x1f1)](_0xeac88c['config'])?_0x532b2b=_0x3f8038[_0x1f4ffb(0x285)](_0xeac88c[_0x1f4ffb(0x26b)][_0x1f4ffb(0x19b)][_0x1f4ffb(0x1f4)],_0xf0889f):_0x532b2b=_0xf0889f;const _0x25e8fa=_0x3f8038[_0x1f4ffb(0x272)](getPercyOptions,_0xeac88c[_0x1f4ffb(0x26b)]);if(_0x3f8038['bYSNo'](_0xeac88c['config']['parallelsPerPlatform'],0x1))_0x5ad479[_0x1f4ffb(0x279)](_0x4bf337=>{const _0x3c74fe=_0x1f4ffb,_0x59c181=[];_0x223b59[_0x3c74fe(0x279)]((_0x263b02,_0x22a988)=>{const _0x2aaf90=_0x3c74fe,_0x316899={};_0x316899['spec']=[_0x4bf337],_0x59c181[_0x2aaf90(0x286)]({'mochaOpts':Object[_0x2aaf90(0x1bb)]({},_0x113b84,_0x316899),'configuration':{'server':_0x1121c5,'capability':_0x263b02,'proxySettings':_0xeac88c['config'][_0x2aaf90(0x18f)],'platform':helper[_0x2aaf90(0x24e)](_0x263b02),'browserStackLogLevel':_0xeac88c['config'][_0x2aaf90(0x25b)],'platformIndex':_0x22a988,'browserStackPercyOptions':_0x25e8fa,'platformCaps':Object[_0x2aaf90(0x1bb)]({'index':_0x22a988},_0xeac88c[_0x2aaf90(0x26b)][_0x2aaf90(0x19b)][_0x22a988])}});}),_0x40eebe[_0x3c74fe(0x286)](..._0x59c181);});else{const _0x476e80=[];_0x223b59[_0x1f4ffb(0x279)]((_0x2c8e2f,_0x2feea8)=>{const _0x5e31ac=_0x1f4ffb;let _0x5e133f=Object[_0x5e31ac(0x1bb)]({},_0x113b84);testOpsHelper[_0x5e31ac(0x1e3)]()&&testOpsHelper['shouldReRunObservabilityTests']()&&(_0x5e133f={..._0x5e133f,'spec':[..._0x5ad479]}),_0x476e80[_0x5e31ac(0x286)]({'mochaOpts':_0x5e133f,'configuration':{'server':_0x1121c5,'capability':_0x2c8e2f,'proxySettings':_0xeac88c[_0x5e31ac(0x26b)]['proxySettings'],'platform':helper[_0x5e31ac(0x24e)](_0x2c8e2f),'browserStackLogLevel':_0xeac88c[_0x5e31ac(0x26b)][_0x5e31ac(0x25b)],'platformIndex':_0x2feea8,'browserStackPercyOptions':_0x25e8fa,'platformCaps':Object['assign']({'index':_0x2feea8},_0xeac88c[_0x5e31ac(0x26b)][_0x5e31ac(0x19b)][_0x2feea8])}});}),_0x40eebe[_0x1f4ffb(0x286)](..._0x476e80);}logger[_0x1f4ffb(0x25e)]('Running\x20your\x20mocha\x20tests\x20across\x20'+_0xeac88c[_0x1f4ffb(0x26b)][_0x1f4ffb(0x19b)][_0x1f4ffb(0x1f4)]+_0x1f4ffb(0x28c)),logger['info'](_0x3f8038['yBACu']);let _0x398ec6;_0x3f8038[_0x1f4ffb(0x1b1)](parallelTestRun,_0x40eebe,_0x532b2b,_0xeac88c)['then'](_0x165681=>{const _0x210826=_0x1f4ffb;PerformanceTester[_0x210826(0x21f)](PerformanceEvents['SDK_CLEANUP']),_0x398ec6=_0x165681,_0x3f8038[_0x210826(0x1b1)](printStats,_0x165681,_0x1da4c6[_0x210826(0x1d8)],_0x1da4c6[_0x210826(0x22d)]||_0x1da4c6[_0x3f8038[_0x210826(0x1dd)]]);})[_0x1f4ffb(0x276)](async()=>{const _0x289f27=_0x1f4ffb;PerformanceTester[_0x289f27(0x21f)](PerformanceEvents[_0x289f27(0x198)]),_0xeac88c[_0x289f27(0x1d9)]=helper[_0x289f27(0x281)](_0x398ec6,_0x3f8038[_0x289f27(0x1f3)]),await utilities[_0x289f27(0x1ad)](_0xeac88c),testOpsHelper[_0x289f27(0x1b9)]();});}}module[a33_0x592171(0x295)]=run;