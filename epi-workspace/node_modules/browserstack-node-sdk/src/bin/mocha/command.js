#!/usr/bin/env node
'use strict';const a31_0x3602ed=a31_0x4ce0;(function(_0x49f824,_0x38be16){const _0x2c2a52=a31_0x4ce0,_0x2f802b=_0x49f824();while(!![]){try{const _0x5a7348=-parseInt(_0x2c2a52(0x1ac))/0x1*(parseInt(_0x2c2a52(0x148))/0x2)+-parseInt(_0x2c2a52(0x1a7))/0x3+parseInt(_0x2c2a52(0x208))/0x4*(parseInt(_0x2c2a52(0x14b))/0x5)+-parseInt(_0x2c2a52(0x23b))/0x6*(-parseInt(_0x2c2a52(0x211))/0x7)+parseInt(_0x2c2a52(0x241))/0x8*(-parseInt(_0x2c2a52(0x240))/0x9)+-parseInt(_0x2c2a52(0x14c))/0xa*(-parseInt(_0x2c2a52(0x17a))/0xb)+-parseInt(_0x2c2a52(0x21d))/0xc*(-parseInt(_0x2c2a52(0x232))/0xd);if(_0x5a7348===_0x38be16)break;else _0x2f802b['push'](_0x2f802b['shift']());}catch(_0x26aa0c){_0x2f802b['push'](_0x2f802b['shift']());}}}(a31_0x4076,0x666d0));const chalk=require(a31_0x3602ed(0x1f2)),logger=require(a31_0x3602ed(0x243))['winstonLogger'],helper=require(a31_0x3602ed(0x1b2)),utilities=require('../../helpers/utilities'),testOpsHelper=require('../../helpers/test-observability/utils'),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a31_0x3602ed(0x171)),{requireModule,nestedKeyValue}=require(a31_0x3602ed(0x1b2)),{getPercyOptions}=require('../../helpers/percy/utils'),Base=requireModule(a31_0x3602ed(0x17f),a31_0x3602ed(0x185)),collectFiles=requireModule(a31_0x3602ed(0x1f4),a31_0x3602ed(0x185)),constants=require(a31_0x3602ed(0x22b)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a31_0x3602ed(0x157))[a31_0x3602ed(0x190)],centralScannerConstants=require(a31_0x3602ed(0x1ed)),{FRAMEWORKS}=require(a31_0x3602ed(0x142)),TestHubHandler=require(a31_0x3602ed(0x23f));function a31_0x4076(){const _0x1fb465=['finalExecution','dPWNl','ujoXt','YGxmU','LYPDh','info','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','central_scanner','passes','yMxgw','BROWSERSTACK_TEST_ACCESSIBILITY_YML','../utils/constants','Couldn\x27t\x20write\x20xunit\x20result\x20to','Writing\x20xunit\x20result\x20to\x20file','launchBuild','GWEgQ','getErrorMessageFromResults','get','8399183HDsHQV','printBuildLink','zoJlq','test','testSuites','lAGTZ','****\x20FAILURES\x20****','getOwnPropertyNames','shouldReRunObservabilityTests','6ohmcfc','dpuIV','Total\x20Platforms:\x20','red','../../helpers/testhub/testhubHandler','18bowFqw','2019616ekmTGB','nQTGy','../../helpers/logger','SRWTK','stringify','platforms','../../helpers/test-observability/constants','files','json','Couldn\x27t\x20write\x20json\x20result\x20to','logLevel','testsFailed','1337370pXgjbN','tzCnY','DmbiN','10MzwCxf','60goPWAE','hasOwnProperty','reporter-option','\x0a\x0a\x0a','excludeTagsInTestingScope','Listing\x20all\x20the\x20failures','fuZsy','testObservability','yellow','list','uYvET','../../helpers/performance/constants','bJyMe','HQWbD','state','consoleLog','mpeqH','oVnPk','speed','Ntchu','nqouG','KCaMs','bgRedBright','keys','handleApp','cObMk','min','stack','tLTIn','skipped','QULcC','duration','dPpIN','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','getHubUrl','LwEgY','add','../test-runner','fullTitle','iyNUv','error\x20removing\x20tcg\x20config\x20file','SnfJb','bold','ikOXe','LhUHZ','</testsuite>','158576ZKSeUe','biwTi','testsuite','FZkyc','finally','mocha/lib/reporters/base.js','length','\x20platforms','testsPassed','Running\x20your\x20mocha\x20tests\x20across\x20','pwSFu','mocha','retries','JXjaC','qjLwv','MOCHA','maxRetries','setUserConfigPath','PdVIu','isBrowserstackInfra','MPZdx','currentRetry','EVENTS','kiBDo','VOlMR','CDuNK','mjs','push','SDKTestSuccessful','Fuyrf','TdfMU','log','DSVOs','getPlatformName','NyXuH','JYjFb','rrTtm','toUTCString','BaCGy','title','jLDBL','forEach','parse','errorMessage','Total\x20Suites:\x20','961734WcRfbn','\x20total','BROWSERSTACK_RERUN_TESTS','output','tpzXl','1hwDSjx','failed','framework','actual','extension','\x20skipped','../../helpers/helper','crEHg','nitXW','start','prepareCapabilities','reporterOptions','testsPending','accessibility','vZtiX','error','YBwnR','platform','getUserWorkerCount','useColors','hideDiff','cliConfig','bwPAr','doc','klAus','nTUBl','eiWNt','mBiBu','fireFunnelTestEvent','rmdirSync','accessibilityOptions','ECERo','then','testcase','join','titlePath','retryTestsOnFailure','object','totalTests','BHolu','iXVTG','generateDiff','VgwIy','writeFileSync','IzUbP','EZKrC','getTCGConfigFilePaths','FHYgc','eAxVp','FRAMEWORKS','isUndefined','pending','xanXr','debug','mezjh','message','includeTagsInTestingScope','rerunTests','dlZLQ','sort','results','Yqqyc','indexOf','failure','parallelsPerPlatform','../../helpers/central-scanner/constants','configuration','UBlqc','size','bkYHX','chalk','ZZQkc','mocha/lib/cli/collect-files.js','Running\x20your\x20mocha\x20tests','SDK_CLEANUP','assign','isPending','uzGBS','Tests:\x20\x20\x20\x20\x20\x20\x20','showDiff','Printing\x20stats\x20of\x20tests','passed','expected','tDIVh','ignore','NMXWh','Now,\x20showing\x20logs\x20from\x20mocha','BNmWF','Mocha\x20Tests','JsUjY','config','parseTestOrchestrationOptions','834196EYTOcA','has','bgBlueBright','suiteName','reporter','BbKND','lJsJH','isTestObservabilitySession','spec','5348126PFbKSX','proxySettings','err','gBoYA','green','cRIDX','WrVRQ','PRGiY','notifyUpdate','cdRTj','PitDu','QDhZQ','12uzOLzu','env','file'];a31_0x4076=function(){return _0x1fb465;};return a31_0x4076();}function tag(_0x34b910,_0x5cadc3,_0x51daba,_0x3017d5){const _0x3d3652=a31_0x3602ed,_0x25eade={'SRWTK':function(_0x54a1a6,_0x23e78f){return _0x54a1a6+_0x23e78f;},'PdVIu':function(_0x211f4a,_0x195a2e){return _0x211f4a+_0x195a2e;},'JmiSl':function(_0x29bca5,_0x3d9b2b){return _0x29bca5(_0x3d9b2b);},'cRIDX':function(_0x300bb8,_0x489235){return _0x300bb8+_0x489235;},'qjLwv':function(_0x2ddf1d,_0x1a3600){return _0x2ddf1d+_0x1a3600;}},_0x75fe4f=_0x51daba?'/>':'>',_0x5b69d8=[];let _0x47099c;for(const _0xe0b080 in _0x5cadc3){Object['prototype'][_0x3d3652(0x14d)]['call'](_0x5cadc3,_0xe0b080)&&_0x5b69d8['push'](_0x25eade['SRWTK'](_0x25eade[_0x3d3652(0x13f)](_0x25eade[_0x3d3652(0x18c)](_0xe0b080,'=\x22'),_0x25eade['JmiSl'](escape,_0x5cadc3[_0xe0b080])),'\x22'));}return _0x47099c=_0x25eade['SRWTK'](_0x25eade[_0x3d3652(0x18c)](_0x25eade[_0x3d3652(0x18c)]('<',_0x34b910),_0x5b69d8[_0x3d3652(0x180)]?_0x25eade[_0x3d3652(0x18c)]('\x20',_0x5b69d8[_0x3d3652(0x1ce)]('\x20')):''),_0x75fe4f),_0x3017d5&&(_0x47099c+=_0x25eade[_0x3d3652(0x13f)](_0x25eade[_0x3d3652(0x216)](_0x25eade[_0x3d3652(0x188)](_0x3017d5,'</'),_0x34b910),_0x75fe4f)),_0x47099c;}let xunitContent='';function xunitWrite(_0x59ca5f){xunitContent+=_0x59ca5f;}function a31_0x4ce0(_0x97d3ad,_0x73a6f3){const _0x407618=a31_0x4076();return a31_0x4ce0=function(_0x4ce004,_0x30543f){_0x4ce004=_0x4ce004-0x13f;let _0x21b812=_0x407618[_0x4ce004];return _0x21b812;},a31_0x4ce0(_0x97d3ad,_0x73a6f3);}function xunitTest(_0x41181b,_0x30b5b7){const _0x29184b=a31_0x3602ed,_0x177002={'tDIVh':function(_0x5a4c97,_0x310e78){return _0x5a4c97/_0x310e78;},'ikOXe':function(_0x221aa2,_0x22ad7a){return _0x221aa2===_0x22ad7a;},'DmbiN':_0x29184b(0x1ad),'QULcC':function(_0x2f3f9b,_0x53b37d){return _0x2f3f9b+_0x53b37d;},'LwEgY':function(_0x347939,_0x3f63da){return _0x347939(_0x3f63da);},'bJyMe':function(_0x5417a1,_0x240ee7,_0x40c7c5,_0x1f4050,_0x3bf419){return _0x5417a1(_0x240ee7,_0x40c7c5,_0x1f4050,_0x3bf419);},'BaCGy':_0x29184b(0x1cd),'JYjFb':_0x29184b(0x1eb),'OOviK':function(_0x2f5f7e,_0x509b1c){return _0x2f5f7e+_0x509b1c;},'cdRTj':function(_0x3124a7,_0x38ed58){return _0x3124a7+_0x38ed58;},'tLTIn':function(_0x2a9e77,_0x45092e){return _0x2a9e77(_0x45092e);},'kiBDo':function(_0x1efba1,_0x5310b2,_0x402e8e,_0x29f9ef){return _0x1efba1(_0x5310b2,_0x402e8e,_0x29f9ef);},'LAZQr':_0x29184b(0x169),'IzUbP':function(_0x4e7611,_0x157378){return _0x4e7611(_0x157378);}};Base[_0x29184b(0x1bf)]=![];var _0x4f3763={'classname':_0x41181b[_0x29184b(0x172)],'name':_0x41181b[_0x29184b(0x1a1)],'time':_0x177002[_0x29184b(0x1ff)](_0x41181b[_0x29184b(0x16b)],0x3e8)||0x0,'platform':_0x30b5b7};if(_0x177002[_0x29184b(0x177)](_0x41181b[_0x29184b(0x15a)],_0x177002[_0x29184b(0x14a)])){var _0x56260d=_0x41181b[_0x29184b(0x213)],_0x2a47a5=!Base[_0x29184b(0x1c0)]&&Base[_0x29184b(0x1fb)](_0x56260d)?_0x177002[_0x29184b(0x16a)]('\x0a',Base[_0x29184b(0x1d5)](_0x56260d[_0x29184b(0x1af)],_0x56260d[_0x29184b(0x1fe)])):'';_0x177002[_0x29184b(0x16f)](xunitWrite,_0x177002['bJyMe'](tag,_0x177002[_0x29184b(0x1a0)],_0x4f3763,![],_0x177002[_0x29184b(0x158)](tag,_0x177002[_0x29184b(0x19d)],{},![],_0x177002[_0x29184b(0x16a)](_0x177002['OOviK'](_0x177002[_0x29184b(0x21a)](_0x177002[_0x29184b(0x168)](escape,_0x56260d[_0x29184b(0x1e3)]),_0x177002[_0x29184b(0x16f)](escape,_0x2a47a5)),'\x0a'),_0x177002[_0x29184b(0x168)](escape,_0x56260d['stack'])))));}else _0x41181b[_0x29184b(0x1f8)]?_0x177002[_0x29184b(0x16f)](xunitWrite,_0x177002[_0x29184b(0x158)](tag,_0x177002[_0x29184b(0x1a0)],_0x4f3763,![],_0x177002[_0x29184b(0x191)](tag,_0x177002['LAZQr'],{},!![]))):_0x177002[_0x29184b(0x1d8)](xunitWrite,_0x177002[_0x29184b(0x191)](tag,_0x177002[_0x29184b(0x1a0)],_0x4f3763,!![]));};function getStats(_0x29900b){const _0x469b8d=a31_0x3602ed,_0x2047b5={};_0x2047b5['MNdnD']='suite',_0x2047b5['JsUjY']=_0x469b8d(0x1fd),_0x2047b5[_0x469b8d(0x1f9)]='failed',_0x2047b5[_0x469b8d(0x1d6)]=_0x469b8d(0x1e8);const _0x258205=_0x2047b5,_0xcfc958=Object[_0x469b8d(0x163)](_0x29900b);let _0x4aa3f4=0x0,_0x4d9b21=0x0,_0xde94f7=0x0,_0x4e95e1=0x0;const _0x48d287=new Set();_0xcfc958[_0x469b8d(0x1a3)](_0x45ff89=>{_0x29900b[_0x45ff89][_0x258205['VgwIy']]['forEach'](_0x457f99=>{const _0x174413=a31_0x4ce0;_0x48d287[_0x174413(0x170)](_0x457f99[_0x258205['MNdnD']]),_0x4aa3f4++;switch(_0x457f99[_0x174413(0x15a)]){case _0x258205[_0x174413(0x205)]:_0xde94f7++;break;case _0x258205[_0x174413(0x1f9)]:_0x4d9b21++;break;default:_0x4e95e1++;}});});const _0x7ef6da={};return _0x7ef6da[_0x469b8d(0x236)]=_0x48d287[_0x469b8d(0x1f0)],_0x7ef6da[_0x469b8d(0x141)]=_0xcfc958,_0x7ef6da[_0x469b8d(0x1d2)]=_0x4aa3f4,_0x7ef6da[_0x469b8d(0x147)]=_0x4d9b21,_0x7ef6da[_0x469b8d(0x182)]=_0xde94f7,_0x7ef6da[_0x469b8d(0x1b8)]=_0x4e95e1,_0x7ef6da;}function errorJSON(_0x3eb26d){const _0x4ec0e3=a31_0x3602ed;var _0x3d925d={};return Object[_0x4ec0e3(0x239)](_0x3eb26d)[_0x4ec0e3(0x1a3)](function(_0x157559){_0x3d925d[_0x157559]=_0x3eb26d[_0x157559];},_0x3eb26d),_0x3d925d;}function cleanCycles(_0x4b0f83){const _0x566971=a31_0x3602ed,_0x114522={};_0x114522[_0x566971(0x1cb)]=function(_0x1bd9c1,_0x3e39ae){return _0x1bd9c1===_0x3e39ae;},_0x114522[_0x566971(0x1ba)]=_0x566971(0x1d1),_0x114522['AJuCS']=function(_0x4fae3c,_0x439cbe){return _0x4fae3c!==_0x439cbe;},_0x114522[_0x566971(0x1c7)]=function(_0x44b591,_0x291426){return _0x44b591!==_0x291426;},_0x114522['jLDBL']=function(_0x277bf8,_0x547874){return _0x277bf8+_0x547874;};const _0x58c586=_0x114522;var _0x393a46=[];return JSON[_0x566971(0x1a4)](JSON[_0x566971(0x140)](_0x4b0f83,function(_0x1c8aff,_0xf04b8b){const _0x15e385=_0x566971;if(_0x58c586['ECERo'](typeof _0xf04b8b,_0x58c586[_0x15e385(0x1ba)])&&_0x58c586['AJuCS'](_0xf04b8b,null)){if(_0x58c586[_0x15e385(0x1c7)](_0x393a46[_0x15e385(0x1ea)](_0xf04b8b),-0x1))return _0x58c586[_0x15e385(0x1a2)]('',_0xf04b8b);_0x393a46[_0x15e385(0x195)](_0xf04b8b);}return _0xf04b8b;}));}function clean(_0x4f4330){const _0x34aabf=a31_0x3602ed,_0x10723c={'rrTtm':function(_0x30d50c,_0x19bb3c){return _0x30d50c instanceof _0x19bb3c;},'biwTi':function(_0x2a00c2,_0x146354){return _0x2a00c2(_0x146354);},'uYvET':function(_0x48f69a,_0x3a9136){return _0x48f69a(_0x3a9136);}};var _0x2fd25d=_0x4f4330['err']||{};return _0x10723c[_0x34aabf(0x19e)](_0x2fd25d,Error)&&(_0x2fd25d=_0x10723c[_0x34aabf(0x17b)](errorJSON,_0x2fd25d)),{'title':_0x4f4330[_0x34aabf(0x1a1)],'fullTitle':_0x4f4330['fullTitle'],'file':_0x4f4330['file'],'duration':_0x4f4330[_0x34aabf(0x16b)],'currentRetry':_0x4f4330[_0x34aabf(0x18f)],'speed':_0x4f4330[_0x34aabf(0x15e)],'err':_0x10723c[_0x34aabf(0x156)](cleanCycles,_0x2fd25d)};}function printStats(_0x4cbbad,_0x3630d9=a31_0x3602ed(0x210),_0x4ca94b={}){const _0x3780b0=a31_0x3602ed,_0x45389c={'PitDu':function(_0x1e6438,_0x5dd2a4){return _0x1e6438(_0x5dd2a4);},'YBwnR':function(_0x90e7bd,_0x59e51e){return _0x90e7bd===_0x59e51e;},'xanXr':_0x3780b0(0x1fd),'nQTGy':_0x3780b0(0x228),'LhUHZ':_0x3780b0(0x1ad),'dlZLQ':'failures','Yqqyc':function(_0x314eaf,_0x3012ed){return _0x314eaf(_0x3012ed);},'oVnPk':_0x3780b0(0x1df),'dpuIV':function(_0x1026f7,_0xdb6d30){return _0x1026f7(_0xdb6d30);},'NMXWh':_0x3780b0(0x1e8),'ygtla':function(_0xd81e88,_0x20a2ca){return _0xd81e88*_0x20a2ca;},'fcaut':function(_0x4bc7bc,_0x18763a,_0x352db2){return _0x4bc7bc(_0x18763a,_0x352db2);},'JXjaC':function(_0x1741a0,_0x18930d){return _0x1741a0===_0x18930d;},'bwPAr':function(_0x59c111,_0x2f525c){return _0x59c111>_0x2f525c;},'iXVTG':function(_0x1e8b81){return _0x1e8b81();},'nTUBl':function(_0x58db3f,_0x333292){return _0x58db3f===_0x333292;},'nitXW':_0x3780b0(0x1c3),'SnfJb':function(_0x431a8a,_0x465e5f){return _0x431a8a>_0x465e5f;},'KCaMs':'Setting\x20non\x20exit\x20code\x20for\x20failures','BHolu':_0x3780b0(0x1fc),'EjMGN':function(_0x83083a,_0x11d49d){return _0x83083a+_0x11d49d;},'ujoXt':_0x3780b0(0x23d),'nqouG':function(_0xd50882,_0x4c69ad){return _0xd50882+_0x4c69ad;},'UBlqc':_0x3780b0(0x1a6),'Aydqn':function(_0x4a763d,_0x36282d){return _0x4a763d+_0x36282d;},'fuZsy':function(_0x5181c0,_0x24700a){return _0x5181c0+_0x24700a;},'LYPDh':_0x3780b0(0x1fa),'tpzXl':function(_0x2761ab,_0x1bf178){return _0x2761ab>_0x1bf178;},'QDhZQ':function(_0x271c75,_0x4067de){return _0x271c75>_0x4067de;},'eAxVp':function(_0x363cea,_0x3ffff7){return _0x363cea+_0x3ffff7;},'klAus':function(_0x3d1d01,_0xd271cc){return _0x3d1d01+_0xd271cc;},'CDuNK':_0x3780b0(0x14f),'LzHOS':_0x3780b0(0x144),'iyNUv':'Writing\x20json\x20result\x20to\x20file','GWEgQ':_0x3780b0(0x145),'PRGiY':'No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','FZkyc':'xunit','mpeqH':_0x3780b0(0x204),'bkYHX':function(_0x569460,_0x159694){return _0x569460||_0x159694;},'xskGd':function(_0x18c859,_0x431aaf,_0x151bb4,_0x22c43b){return _0x18c859(_0x431aaf,_0x151bb4,_0x22c43b);},'gBoYA':_0x3780b0(0x17c),'mezjh':function(_0x400fea,_0x3db333){return _0x400fea-_0x3db333;},'crEHg':function(_0xa7f955,_0x52a206){return _0xa7f955-_0x52a206;},'tzCnY':function(_0x25b8b4,_0x5e2938){return _0x25b8b4/_0x5e2938;},'BNmWF':_0x3780b0(0x179),'YGxmU':_0x3780b0(0x22d),'HesfF':_0x3780b0(0x22c),'pwSFu':'No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','TdfMU':_0x3780b0(0x151),'dPpIN':_0x3780b0(0x238)};if(_0x45389c[_0x3780b0(0x1c5)](_0x3630d9,_0x45389c[_0x3780b0(0x1b4)]))return;const _0x1f7f99=0x0,_0xb11eaf=()=>{const _0x4b5474=_0x3780b0;return _0x45389c[_0x4b5474(0x21b)](Array,_0x1f7f99)[_0x4b5474(0x1ce)]('\x20\x20');},{testSuites:_0x48ec30,platforms:_0x26063b,totalTests:_0x4cacf9,testsFailed:_0xe9edc,testsPassed:_0x70f960,testsPending:_0x18b534}=_0x45389c['dpuIV'](getStats,_0x4cbbad);_0x45389c['SnfJb'](_0xe9edc,0x0)&&(logger[_0x3780b0(0x1e1)](_0x45389c[_0x3780b0(0x161)]),process['exitCode']=Math[_0x3780b0(0x166)](_0xe9edc,0xff));logger[_0x3780b0(0x1e1)](_0x45389c[_0x3780b0(0x1d3)]);const _0x2bf475=''+_0x45389c['EjMGN'](chalk[_0x3780b0(0x176)](_0x45389c[_0x3780b0(0x222)]),_0x26063b['length']),_0x52700c=''+_0x45389c['nqouG'](chalk[_0x3780b0(0x176)](_0x45389c[_0x3780b0(0x1ef)]),_0x48ec30),_0x326108=''+_0x45389c['Aydqn'](_0x45389c['nqouG'](_0x45389c[_0x3780b0(0x152)](chalk[_0x3780b0(0x176)](_0x45389c[_0x3780b0(0x224)]),_0x45389c[_0x3780b0(0x1ab)](_0xe9edc,0x0)?chalk['bold'][_0x3780b0(0x23e)](_0xe9edc+'\x20failed')+',\x20':''),_0x45389c[_0x3780b0(0x175)](_0x18b534,0x0)?chalk[_0x3780b0(0x176)][_0x3780b0(0x154)](_0x18b534+_0x3780b0(0x1b1))+',\x20':''),_0x45389c[_0x3780b0(0x21c)](_0x70f960,0x0)?chalk[_0x3780b0(0x176)][_0x3780b0(0x215)](_0x70f960+'\x20passed')+',\x20':'')+_0x4cacf9+_0x3780b0(0x1a8);console[_0x3780b0(0x199)](_0x45389c[_0x3780b0(0x160)](_0x45389c[_0x3780b0(0x160)](_0x45389c[_0x3780b0(0x160)](_0x45389c[_0x3780b0(0x1dc)](_0x45389c[_0x3780b0(0x1c4)](_0x45389c[_0x3780b0(0x193)],_0x2bf475),'\x0a'),_0x52700c),'\x0a'),_0x326108));if(_0x45389c[_0x3780b0(0x1c5)](_0x3630d9,_0x45389c['LzHOS'])){const _0x3a5fc0={},_0x41ea3c={};_0x41ea3c['testSuites']=_0x48ec30,_0x41ea3c[_0x3780b0(0x141)]=_0x26063b,_0x41ea3c[_0x3780b0(0x147)]=_0xe9edc,_0x41ea3c['testsPassed']=_0x70f960,_0x41ea3c[_0x3780b0(0x1b8)]=_0x18b534,_0x3a5fc0['stats']=_0x41ea3c,_0x26063b[_0x3780b0(0x1a3)](_0x5e2377=>{const _0x3af7d5=_0x3780b0;_0x3a5fc0[_0x5e2377]={'pending':[],'failures':[],'passes':[],'tests':_0x4cbbad[_0x5e2377][_0x45389c['NMXWh']]['map'](clean)},_0x4cbbad[_0x5e2377][_0x45389c[_0x3af7d5(0x201)]][_0x3af7d5(0x1a3)](_0x165be8=>{const _0x384f64=_0x3af7d5;if(_0x45389c[_0x384f64(0x1bc)](_0x165be8[_0x384f64(0x15a)],_0x45389c[_0x384f64(0x1e0)]))_0x3a5fc0[_0x5e2377][_0x45389c[_0x384f64(0x242)]]['push'](_0x45389c[_0x384f64(0x21b)](clean,_0x165be8));else _0x45389c['YBwnR'](_0x165be8['state'],_0x45389c[_0x384f64(0x178)])?_0x3a5fc0[_0x5e2377][_0x45389c[_0x384f64(0x1e6)]][_0x384f64(0x195)](_0x45389c[_0x384f64(0x1e9)](clean,_0x165be8)):_0x3a5fc0[_0x5e2377][_0x45389c[_0x384f64(0x15d)]]['push'](_0x45389c['dpuIV'](clean,_0x165be8));});});if(_0x4ca94b[_0x3780b0(0x1aa)])try{logger[_0x3780b0(0x1e1)](_0x45389c[_0x3780b0(0x173)],_0x4ca94b['output']),fs['writeFileSync'](_0x4ca94b[_0x3780b0(0x1aa)],JSON[_0x3780b0(0x140)](_0x3a5fc0,null,0x3));}catch(_0x40fa63){logger[_0x3780b0(0x1bb)](_0x45389c[_0x3780b0(0x22f)],_0x4ca94b['output']),logger[_0x3780b0(0x1e1)](_0x40fa63);}else logger[_0x3780b0(0x1e1)](_0x45389c[_0x3780b0(0x218)]),console['log'](JSON[_0x3780b0(0x140)](_0x3a5fc0,null,0x3));}else{if(_0x45389c[_0x3780b0(0x1c5)](_0x3630d9,_0x45389c[_0x3780b0(0x17d)])){let _0x4cea2c;const _0x2906e1=_0x45389c[_0x3780b0(0x15c)];_0x4ca94b&&(_0x4cea2c=_0x4ca94b[_0x3780b0(0x20b)]);_0x4cea2c=_0x45389c[_0x3780b0(0x1f1)](_0x4cea2c,_0x2906e1);let _0x2ccdbd=0x0,_0x3ae81e=0x0,_0x1471a5=0x0,_0x3be0be=0x0;_0x26063b[_0x3780b0(0x1a3)](_0x1f9b96=>{const _0x588e3e=_0x3780b0;_0x4cbbad[_0x1f9b96][_0x45389c[_0x588e3e(0x201)]]['forEach'](_0x1da7f9=>{const _0xf31115=_0x588e3e;if(_0x45389c[_0xf31115(0x1bc)](_0x1da7f9[_0xf31115(0x15a)],_0x45389c[_0xf31115(0x1e0)]))_0x2ccdbd++;else _0x45389c[_0xf31115(0x1bc)](_0x1da7f9[_0xf31115(0x15a)],_0x45389c[_0xf31115(0x178)])&&_0x3ae81e++;_0x1471a5++,_0x3be0be+=_0x45389c['ygtla'](_0x1da7f9[_0xf31115(0x16b)],0x1);});}),_0x45389c[_0x3780b0(0x23c)](xunitWrite,_0x45389c['xskGd'](tag,_0x45389c[_0x3780b0(0x214)],{'name':_0x4cea2c,'tests':_0x1471a5,'failures':0x0,'errors':_0x3ae81e,'skipped':_0x45389c[_0x3780b0(0x1e2)](_0x45389c[_0x3780b0(0x1b3)](_0x1471a5,_0x3ae81e),_0x2ccdbd),'timestamp':new Date()[_0x3780b0(0x19f)](),'time':_0x45389c[_0x3780b0(0x149)](_0x3be0be,0x3e8)||0x0},![])),_0x26063b['forEach'](_0x2de146=>{const _0x38f4c9=_0x3780b0,_0x331676={'VOlMR':function(_0x24dd26,_0x39c304,_0x2c5c8d){return _0x45389c['fcaut'](_0x24dd26,_0x39c304,_0x2c5c8d);}};_0x4cbbad[_0x2de146][_0x45389c[_0x38f4c9(0x201)]]['forEach'](_0x42e77d=>{const _0x57aaa8=_0x38f4c9;_0x331676[_0x57aaa8(0x192)](xunitTest,_0x42e77d,_0x2de146);});}),_0x45389c[_0x3780b0(0x1e9)](xunitWrite,_0x45389c[_0x3780b0(0x203)]);if(_0x4ca94b[_0x3780b0(0x1aa)])try{logger[_0x3780b0(0x1e1)](_0x45389c[_0x3780b0(0x223)],_0x4ca94b[_0x3780b0(0x1aa)]),fs[_0x3780b0(0x1d7)](_0x4ca94b['output'],xunitContent);}catch(_0x31e040){logger[_0x3780b0(0x1bb)](_0x45389c['HesfF'],_0x4ca94b[_0x3780b0(0x1aa)]),logger[_0x3780b0(0x1e1)](_0x31e040);}else logger[_0x3780b0(0x1e1)](_0x45389c[_0x3780b0(0x184)]),console[_0x3780b0(0x199)](xunitContent);}else{if(_0x45389c[_0x3780b0(0x1c5)](_0xe9edc,0x0))return;console[_0x3780b0(0x199)](),logger[_0x3780b0(0x1e1)](_0x45389c[_0x3780b0(0x198)]),console[_0x3780b0(0x199)](chalk['bold'][_0x3780b0(0x162)](_0x45389c[_0x3780b0(0x16c)])),_0x26063b[_0x3780b0(0x1a3)](_0x3e67e7=>{const _0x16fcdc=_0x3780b0,_0x3b743a=[];_0x4cbbad[_0x3e67e7][_0x45389c[_0x16fcdc(0x201)]][_0x16fcdc(0x1a3)](_0x32e279=>{const _0x3f3776=_0x16fcdc;_0x45389c[_0x3f3776(0x187)](_0x32e279['state'],_0x45389c['LhUHZ'])&&(_0x32e279[_0x3f3776(0x1cf)]=()=>_0x32e279['titlePathV'],_0x3b743a['push'](_0x32e279));}),_0x45389c[_0x16fcdc(0x1c2)](_0x3b743a[_0x16fcdc(0x180)],0x0)&&(Base[_0x16fcdc(0x15b)](),Base['consoleLog'](_0x45389c[_0x16fcdc(0x1d4)](_0xb11eaf),chalk['bold'][_0x16fcdc(0x20a)](_0x3e67e7)),Base[_0x16fcdc(0x155)](_0x3b743a));});}}}async function run(_0x2aa100,_0x44b980,_0x4ffc04){const _0x2a8831=a31_0x3602ed,_0x52b303={'lJsJH':function(_0x231a38,_0x542869,_0x26c517,_0x31b258){return _0x231a38(_0x542869,_0x26c517,_0x31b258);},'zoJlq':_0x2a8831(0x14e),'lAGTZ':_0x2a8831(0x174),'BbKND':_0x2a8831(0x196),'EZKrC':_0x2a8831(0x185),'MPZdx':function(_0x1e7957,_0x14d598){return _0x1e7957!=_0x14d598;},'wxVgZ':'cjs','NyXuH':_0x2a8831(0x194),'DSVOs':_0x2a8831(0x235),'WrVRQ':_0x2a8831(0x1e5),'cObMk':function(_0x43c522,_0x44ecc2){return _0x43c522(_0x44ecc2);},'eiWNt':function(_0x2ba7e8,_0x36130a,_0x570eb8){return _0x2ba7e8(_0x36130a,_0x570eb8);},'HQWbD':_0x2a8831(0x143),'SZYQo':function(_0xd02cbb,_0x138f1b){return _0xd02cbb!=_0x138f1b;},'ZZQkc':_0x2a8831(0x1e4),'yMxgw':_0x2a8831(0x150),'FHYgc':'includeEncodedExtension','itBIW':_0x2a8831(0x1f5),'Ntchu':_0x2a8831(0x202),'QodhH':function(_0x565062,_0x4e94df){return _0x565062*_0x4e94df;},'Fuyrf':function(_0x42fc52,_0xacf3e1){return _0x42fc52(_0xacf3e1);},'BsMsg':function(_0x4a2175,_0x62827e){return _0x4a2175!==_0x62827e;},'dPWNl':function(_0x21646e,_0x4bbe65,_0x228aba,_0x3a6c0d){return _0x21646e(_0x4bbe65,_0x228aba,_0x3a6c0d);}};helper[_0x2a8831(0x18b)](_0x4ffc04['framework'],_0x2aa100),await _0x4ffc04['initialize'](_0x2aa100);helper[_0x2a8831(0x18d)]()?await helper[_0x2a8831(0x164)](_0x4ffc04['config']):await _0x4ffc04['setupTCGAuth']();const _0x3c508d=[];let _0x2f749a=[];if(!_0x4ffc04[_0x2a8831(0x206)])return;!helper[_0x2a8831(0x1de)](_0x4ffc04['config']['accessibilityOptions'])&&(process['env']['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON[_0x2a8831(0x140)](_0x4ffc04[_0x2a8831(0x206)]['accessibilityOptions']));const _0x329e19=await TestHubHandler[_0x2a8831(0x22e)](FRAMEWORKS[_0x2a8831(0x189)],_0x4ffc04);_0x52b303[_0x2a8831(0x18e)](_0x4ffc04[_0x2a8831(0x206)][_0x2a8831(0x153)],null)&&(process['env']['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x4ffc04[_0x2a8831(0x206)][_0x2a8831(0x153)]);!helper[_0x2a8831(0x1de)](_0x4ffc04[_0x2a8831(0x206)][_0x2a8831(0x1b9)])&&(process[_0x2a8831(0x21e)][_0x2a8831(0x22a)]=_0x4ffc04[_0x2a8831(0x206)]['accessibility']);const {extension:extension=['js',_0x52b303['wxVgZ'],_0x52b303[_0x2a8831(0x19c)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x52b303[_0x2a8831(0x19a)]]}=_0x2aa100,_0x2d27b3={..._0x2aa100};_0x2d27b3['rootHooks']=null;const _0x27a4dc=_0x2d27b3;let _0x5725ae;if(testOpsHelper[_0x2a8831(0x20f)]()&&testOpsHelper[_0x2a8831(0x23a)]()){let _0x12ac54=process['env'][_0x2a8831(0x1a9)];!helper['isUndefined'](_0x4ffc04[_0x2a8831(0x1c1)])&&_0x4ffc04[_0x2a8831(0x1c1)][_0x2a8831(0x209)](_0x52b303[_0x2a8831(0x217)])&&(_0x12ac54=_0x4ffc04['cliConfig'][_0x2a8831(0x231)](_0x52b303[_0x2a8831(0x217)])),_0x5725ae=testOpsHelper['parseFileNames'](_0x12ac54);}if(helper[_0x2a8831(0x1de)](_0x5725ae)){const _0x2051ff={};_0x2051ff[_0x2a8831(0x200)]=ignore,_0x2051ff[_0x2a8831(0x1b0)]=extension,_0x2051ff[_0x2a8831(0x21f)]=file,_0x2051ff['recursive']=recursive,_0x2051ff[_0x2a8831(0x1e7)]=sort,_0x2051ff[_0x2a8831(0x210)]=spec,_0x5725ae=_0x52b303[_0x2a8831(0x165)](collectFiles,_0x2051ff),_0x52b303[_0x2a8831(0x1c6)](nestedKeyValue,_0x5725ae,[_0x52b303[_0x2a8831(0x159)]])&&(_0x5725ae=_0x5725ae[_0x2a8831(0x143)]);}const _0x496ab9=helper[_0x2a8831(0x207)](_0x4ffc04[_0x2a8831(0x206)]);!helper['isEmpty'](_0x496ab9)&&helper['isNotUndefined'](_0x496ab9[_0x2a8831(0x1d0)])&&(_0x27a4dc[_0x2a8831(0x186)]=_0x496ab9[_0x2a8831(0x1d0)][_0x2a8831(0x18a)]);if(!helper[_0x2a8831(0x18d)]()){const _0xc8ade2=0x1,_0x81cac9={..._0x27a4dc};_0x81cac9['spec']=[..._0x5725ae],_0x3c508d[_0x2a8831(0x195)]({'mochaOpts':_0x81cac9,'configuration':{'platform':os[_0x2a8831(0x1bd)]()}});if(_0x4ffc04[_0x2a8831(0x206)][_0x2a8831(0x1b9)]){const _0x1f99aa={};_0x1f99aa[_0x2a8831(0x1b9)]=!![];const _0x28a005=_0x1f99aa;_0x52b303['SZYQo'](_0x4ffc04[_0x2a8831(0x206)][_0x2a8831(0x1ca)],null)&&(_0x28a005[_0x2a8831(0x1ca)]=_0x4ffc04['config'][_0x2a8831(0x1ca)],delete _0x28a005[_0x2a8831(0x1ca)][_0x52b303[_0x2a8831(0x1f3)]],delete _0x28a005[_0x2a8831(0x1ca)][_0x52b303[_0x2a8831(0x229)]],delete _0x28a005[_0x2a8831(0x1ca)][_0x52b303[_0x2a8831(0x1db)]]);const _0x1e5dc1={};_0x1e5dc1['bstack:options']=_0x28a005,_0x3c508d[0x0][_0x2a8831(0x1ee)]['capability']=_0x1e5dc1;}logger[_0x2a8831(0x225)](_0x52b303['itBIW']),logger['info'](_0x52b303[_0x2a8831(0x15f)]),_0x52b303[_0x2a8831(0x20e)](parallelTestRun,_0x3c508d,_0xc8ade2,_0x4ffc04)[_0x2a8831(0x1cc)](_0x314984=>{const _0x525109=_0x2a8831;PerformanceTester[_0x525109(0x1b5)](PerformanceEvents[_0x525109(0x1f6)]),_0x52b303[_0x525109(0x20e)](printStats,_0x314984,_0x2aa100[_0x525109(0x20c)],_0x2aa100['reporterOptions']||_0x2aa100[_0x52b303[_0x525109(0x234)]]);})[_0x2a8831(0x17e)](()=>{const _0x340586=_0x2a8831;PerformanceTester[_0x340586(0x1b5)](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0xa0fd8d,tcgConfigPath:_0x3eabc4}=helper[_0x340586(0x1da)]();fs['unlinkSync'](_0x3eabc4),fs[_0x340586(0x1c9)](_0xa0fd8d);}catch(_0x162cc7){logger[_0x340586(0x1e1)](_0x52b303[_0x340586(0x237)],_0x162cc7);}try{utilities[_0x340586(0x1c8)](_0x52b303[_0x340586(0x20d)],{},_0x4ffc04[_0x340586(0x206)],_0x4ffc04[_0x340586(0x1ae)]);}catch(_0x5ada2a){logger[_0x340586(0x1e1)](_0x340586(0x16d)+_0x5ada2a[_0x340586(0x167)]);}try{helper[_0x340586(0x219)]();}catch(_0x4c5cb1){logger[_0x340586(0x1e1)](_0x340586(0x226)+_0x4c5cb1);}testOpsHelper[_0x340586(0x233)]();});}else{const _0x4b11ab=helper['useW3C'](_0x4ffc04[_0x2a8831(0x206)]);let _0x16ebd4=helper[_0x2a8831(0x16e)](_0x4ffc04[_0x2a8831(0x206)]);_0x2f749a=helper[_0x2a8831(0x1b6)](_0x4ffc04[_0x2a8831(0x206)],_0x4b11ab,constants[_0x2a8831(0x1dd)][_0x2a8831(0x189)]);helper['getCentralUser']()[_0x2a8831(0x227)]&&(_0x16ebd4=centralScannerConstants['BROWSERSTACK_GRR_US_HUB_URL']);let _0xd7334e;const _0x22eede=_0x4ffc04['config']['parallelsPerPlatform']||helper[_0x2a8831(0x1be)](_0x2aa100,_0x44b980,_0x4ffc04['config'],constants[_0x2a8831(0x1dd)]['MOCHA'])||0x1;helper['validPlatformsPresent'](_0x4ffc04[_0x2a8831(0x206)])?_0xd7334e=_0x52b303['QodhH'](_0x4ffc04[_0x2a8831(0x206)]['platforms']['length'],_0x22eede):_0xd7334e=_0x22eede;const _0xf485a1=_0x52b303[_0x2a8831(0x197)](getPercyOptions,_0x4ffc04[_0x2a8831(0x206)]);if(_0x52b303['BsMsg'](_0x4ffc04['config'][_0x2a8831(0x1ec)],0x1))_0x5725ae['forEach'](_0x2e28e1=>{const _0x4c1c30=_0x2a8831,_0x4cd630=[];_0x2f749a[_0x4c1c30(0x1a3)]((_0x1218b3,_0x4c831c)=>{const _0x5d1b32=_0x4c1c30,_0x401621={};_0x401621['spec']=[_0x2e28e1],_0x4cd630['push']({'mochaOpts':Object['assign']({},_0x27a4dc,_0x401621),'configuration':{'server':_0x16ebd4,'capability':_0x1218b3,'proxySettings':_0x4ffc04[_0x5d1b32(0x206)][_0x5d1b32(0x212)],'platform':helper[_0x5d1b32(0x19b)](_0x1218b3),'browserStackLogLevel':_0x4ffc04['config'][_0x5d1b32(0x146)],'platformIndex':_0x4c831c,'browserStackPercyOptions':_0xf485a1,'platformCaps':Object[_0x5d1b32(0x1f7)]({'index':_0x4c831c},_0x4ffc04[_0x5d1b32(0x206)][_0x5d1b32(0x141)][_0x4c831c])}});}),_0x3c508d['push'](..._0x4cd630);});else{const _0x26f6da=[];_0x2f749a[_0x2a8831(0x1a3)]((_0x5b1df7,_0x41d38d)=>{const _0x583a7a=_0x2a8831;let _0x346744=Object['assign']({},_0x27a4dc);testOpsHelper[_0x583a7a(0x20f)]()&&testOpsHelper[_0x583a7a(0x23a)]()&&(_0x346744={..._0x346744,'spec':[..._0x5725ae]}),_0x26f6da['push']({'mochaOpts':_0x346744,'configuration':{'server':_0x16ebd4,'capability':_0x5b1df7,'proxySettings':_0x4ffc04[_0x583a7a(0x206)]['proxySettings'],'platform':helper[_0x583a7a(0x19b)](_0x5b1df7),'browserStackLogLevel':_0x4ffc04[_0x583a7a(0x206)][_0x583a7a(0x146)],'platformIndex':_0x41d38d,'browserStackPercyOptions':_0xf485a1,'platformCaps':Object[_0x583a7a(0x1f7)]({'index':_0x41d38d},_0x4ffc04[_0x583a7a(0x206)]['platforms'][_0x41d38d])}});}),_0x3c508d['push'](..._0x26f6da);}logger[_0x2a8831(0x225)](_0x2a8831(0x183)+_0x4ffc04[_0x2a8831(0x206)][_0x2a8831(0x141)]['length']+_0x2a8831(0x181)),logger[_0x2a8831(0x225)](_0x52b303[_0x2a8831(0x15f)]);let _0x4d60ef;_0x52b303[_0x2a8831(0x221)](parallelTestRun,_0x3c508d,_0xd7334e,_0x4ffc04)[_0x2a8831(0x1cc)](_0x38aed2=>{const _0x3dde76=_0x2a8831;PerformanceTester[_0x3dde76(0x1b5)](PerformanceEvents[_0x3dde76(0x1f6)]),_0x4d60ef=_0x38aed2,_0x52b303[_0x3dde76(0x20e)](printStats,_0x38aed2,_0x2aa100[_0x3dde76(0x20c)],_0x2aa100[_0x3dde76(0x1b7)]||_0x2aa100[_0x52b303['zoJlq']]);})[_0x2a8831(0x17e)](async()=>{const _0x378ea4=_0x2a8831;PerformanceTester[_0x378ea4(0x1b5)](PerformanceEvents[_0x378ea4(0x1f6)]),_0x4ffc04[_0x378ea4(0x1a5)]=helper[_0x378ea4(0x230)](_0x4d60ef,_0x52b303[_0x378ea4(0x1d9)]),await utilities[_0x378ea4(0x220)](_0x4ffc04),testOpsHelper[_0x378ea4(0x233)]();});}}module['exports']=run;