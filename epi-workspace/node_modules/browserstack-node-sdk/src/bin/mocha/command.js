#!/usr/bin/env node
'use strict';function a28_0x4864(){const _0x288a01=['--disable-browserstack-automation','lzVls','keys','LCWtH','json','PgVXh','call','handleApp','PPbqk','testObservability','duration','ZXnDH','VYIwH','hideDiff','gyryY','getErrorMessageFromResults','yuAdV','setupTCGAuth','qwqfR','ZULgW','debug','247860XyXMSD','finalExecution','chalk','\x20passed','lyeOs','ToHsG','122979UbwGWn','KzsPr','126zbXxNG','Qtzne','qzYul','Total\x20Platforms:\x20','accessibility','spec','../../helpers/utilities','gUOaV','framework','join','stringify','mocha/lib/reporters/base.js','errorMessage','red','state','then','Mocha\x20Tests','BROWSERSTACK_GRR_US_HUB_URL','finally','lRgYD','files','BsxSM','consoleLog','jWNsV','AUNqk','getHubUrl','info','lvBKF','isTestObservabilitySession','test','AWYcq','push','../../helpers/BrowserStackSetup','TWuSa','Running\x20your\x20mocha\x20tests\x20across\x20','object','mqROM','Tbifw','oEMWA','\x20total','output','currentRetry','ANszt','Tests:\x20\x20\x20\x20\x20\x20\x20','sort','bold','oeHZY','TRSez','fqkbx','pending','cjs','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','iyyqT','forEach','testsPassed','has','../test-runner','log','SDKTestSuccessful','FxbCH','parse','15ZDkNlL','rBIEq','Writing\x20json\x20result\x20to\x20file','isUndefined','bgRedBright','BROWSERSTACK_RERUN_TESTS','aPIkr','platform','../../helpers/performance/constants','BSOHF','wrKin','length','logLevel','reporterOptions','getPlatformName','testcase','useW3C','syFhc','uXZOl','parseFileNames','failed','prepareCapabilities','exports','getCentralUser','list','SDK_CLEANUP','1739844vABtFo','results','../../helpers/helper','AyuYd','\x20platforms','BROWSERSTACK_TEST_OBSERVABILITY_YML','Printing\x20stats\x20of\x20tests','18134wlmpIQ','uPstv','qzCRv','Tksel','MOCHA','passed','isPending','extension','kzrwA','passes','recursive','shouldReRunObservabilityTests','title','UtVfY','BgDmW','tPTwX','hbUkn','platforms','TRZbv','totalTests','pDAXG','UfQRc','kReEH','yellow','isBrowserstackInfra','pbEMt','../../helpers/percy/utils','../utils/constants','add','IenyC','QmRlD','cliConfig','titlePathV','jMPWp','size','155xmYZBX','UJdiH','stack','bgBlueBright','oIGSp','MHThr','titlePath','suiteName','NlLPP','fullTitle','lOZbj','****\x20FAILURES\x20****','testsFailed','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','err','EVENTS','ytaiP','RkEfC','dNSSH','start','rIDYY','failures','Writing\x20xunit\x20result\x20to\x20file','aEXsF','FRAMEWORKS','cABOP','rootHooks','kHXxp','writeFileSync','WzhCU','proxySettings','RJBWt','ykjSj','4568UhNQrP','winstonLogger','kXSTp','setUserConfigPath','argv','testsPending','message','green','FBAtd','testsuite','3169770MfnnPR','DeuYc','env','suite','printBuildLink','rerunTests','file','HwgfQ','xunit','validPlatformsPresent','OgJNl','getUserWorkerCount','parallelsPerPlatform','BROWSERSTACK_TEST_OBSERVABILITY','min','YrGhe','IMVZM','Listing\x20all\x20the\x20failures','BHOkg','xtSEU','accessibilityOptions','mZPWZ','PKYZj','assign','reporter-option','ZDdFu','unlinkSync','--disable-test-observability','error','UyglH','Setting\x20non\x20exit\x20code\x20for\x20failures','reporter','mocha','BRLox','UPlbJ','central_scanner','notifyUpdate','12392qbzpjZ','YqsEF','JUiCC','hCBOv','speed','\x20skipped','config','lqgVK'];a28_0x4864=function(){return _0x288a01;};return a28_0x4864();}const a28_0x225825=a28_0x52df;(function(_0x15879b,_0x3ab696){const _0x3deeee=a28_0x52df,_0x34edf1=_0x15879b();while(!![]){try{const _0x3d0985=-parseInt(_0x3deeee(0x258))/0x1+-parseInt(_0x3deeee(0x1c2))/0x2*(parseInt(_0x3deeee(0x297))/0x3)+parseInt(_0x3deeee(0x235))/0x4*(parseInt(_0x3deeee(0x1e5))/0x5)+parseInt(_0x3deeee(0x252))/0x6+-parseInt(_0x3deeee(0x25a))/0x7*(-parseInt(_0x3deeee(0x206))/0x8)+-parseInt(_0x3deeee(0x1bb))/0x9+parseInt(_0x3deeee(0x210))/0xa;if(_0x3d0985===_0x3ab696)break;else _0x34edf1['push'](_0x34edf1['shift']());}catch(_0x3e14c8){_0x34edf1['push'](_0x34edf1['shift']());}}}(a28_0x4864,0x1923d));const chalk=require(a28_0x225825(0x254)),logger=require('../../helpers/logger')[a28_0x225825(0x207)],{default:BrowserStackSetup}=require(a28_0x225825(0x27a)),helper=require(a28_0x225825(0x1bd)),utilities=require(a28_0x225825(0x260)),testOpsHelper=require('../../helpers/test-observability/utils'),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a28_0x225825(0x292)),{requireModule,nestedKeyValue}=require(a28_0x225825(0x1bd)),{getPercyOptions}=require(a28_0x225825(0x1dc)),Base=requireModule(a28_0x225825(0x265),a28_0x225825(0x230)),collectFiles=requireModule('mocha/lib/cli/collect-files.js',a28_0x225825(0x230)),constants=require(a28_0x225825(0x1dd)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a28_0x225825(0x1a9))[a28_0x225825(0x1f4)],centralScannerConstants=require('../../helpers/central-scanner/constants');function tag(_0x3f30a0,_0x133708,_0x52503e,_0x4d3164){const _0x5275ee=a28_0x225825,_0x3bc790={'AUNqk':function(_0x5f1aff,_0x3746be){return _0x5f1aff+_0x3746be;},'CSsEH':function(_0x12dc3a,_0x3e43e3){return _0x12dc3a+_0x3e43e3;},'ytaiP':function(_0x343551,_0x18b6f5){return _0x343551+_0x18b6f5;},'QsGOT':function(_0x4d69a7,_0x3cc54d){return _0x4d69a7(_0x3cc54d);},'OgJNl':function(_0x45e989,_0x375529){return _0x45e989+_0x375529;},'YWXZd':function(_0x39fc3b,_0x578ef4){return _0x39fc3b+_0x578ef4;},'qzYul':function(_0xe3fee6,_0x20cafc){return _0xe3fee6+_0x20cafc;}},_0x302813=_0x52503e?'/>':'>',_0x3600c0=[];let _0x3e114e;for(const _0x37f262 in _0x133708){Object['prototype']['hasOwnProperty'][_0x5275ee(0x243)](_0x133708,_0x37f262)&&_0x3600c0[_0x5275ee(0x279)](_0x3bc790[_0x5275ee(0x272)](_0x3bc790['CSsEH'](_0x3bc790[_0x5275ee(0x1f5)](_0x37f262,'=\x22'),_0x3bc790['QsGOT'](escape,_0x133708[_0x37f262])),'\x22'));}return _0x3e114e=_0x3bc790[_0x5275ee(0x1f5)](_0x3bc790[_0x5275ee(0x21a)](_0x3bc790['YWXZd']('<',_0x3f30a0),_0x3600c0[_0x5275ee(0x1ac)]?_0x3bc790[_0x5275ee(0x25c)]('\x20',_0x3600c0[_0x5275ee(0x263)]('\x20')):''),_0x302813),_0x4d3164&&(_0x3e114e+=_0x3bc790[_0x5275ee(0x272)](_0x3bc790[_0x5275ee(0x1f5)](_0x3bc790[_0x5275ee(0x1f5)](_0x4d3164,'</'),_0x3f30a0),_0x302813)),_0x3e114e;}let xunitContent='';function xunitWrite(_0x36f236){xunitContent+=_0x36f236;}function xunitTest(_0x4b3a17,_0x39bd35){const _0x4b4dd2=a28_0x225825,_0x31c4de={'Qtzne':function(_0x122a40,_0x184387){return _0x122a40/_0x184387;},'lyeOs':function(_0x47ceb7,_0x1067ef){return _0x47ceb7===_0x1067ef;},'ZULgW':'failed','RJBWt':function(_0x43f600,_0x4ccf38){return _0x43f600+_0x4ccf38;},'LCWtH':function(_0x17f25f,_0x5a6fdc){return _0x17f25f(_0x5a6fdc);},'lvBKF':function(_0x4bf632,_0x570295,_0x3f5760,_0x4bcda0,_0x5dd451){return _0x4bf632(_0x570295,_0x3f5760,_0x4bcda0,_0x5dd451);},'YrGhe':_0x4b4dd2(0x1b0),'KzsPr':function(_0x355f51,_0x182de7,_0x549f36,_0x28720c,_0x111ea5){return _0x355f51(_0x182de7,_0x549f36,_0x28720c,_0x111ea5);},'PKYZj':'failure','NVVYz':function(_0x37f444,_0x566d3d){return _0x37f444+_0x566d3d;},'iZnhN':function(_0x4430b1,_0x3263b4){return _0x4430b1+_0x3263b4;},'UJdiH':function(_0xd06177,_0x563b0c){return _0xd06177(_0x563b0c);},'oEMWA':function(_0x1188c4,_0x230e55,_0xf14a24,_0x450604){return _0x1188c4(_0x230e55,_0xf14a24,_0x450604);},'Tbifw':'skipped','tPTwX':function(_0x1d6eac,_0x100b25,_0x561309,_0x311d0b){return _0x1d6eac(_0x100b25,_0x561309,_0x311d0b);}};Base['useColors']=![];var _0xab3962={'classname':_0x4b3a17[_0x4b4dd2(0x1ee)],'name':_0x4b3a17[_0x4b4dd2(0x1ce)],'time':_0x31c4de[_0x4b4dd2(0x25b)](_0x4b3a17[_0x4b4dd2(0x247)],0x3e8)||0x0,'platform':_0x39bd35};if(_0x31c4de[_0x4b4dd2(0x256)](_0x4b3a17[_0x4b4dd2(0x268)],_0x31c4de[_0x4b4dd2(0x250)])){var _0x533c5a=_0x4b3a17[_0x4b4dd2(0x1f3)],_0x40f7bb=!Base[_0x4b4dd2(0x24a)]&&Base['showDiff'](_0x533c5a)?_0x31c4de[_0x4b4dd2(0x204)]('\x0a',Base['generateDiff'](_0x533c5a['actual'],_0x533c5a['expected'])):'';_0x31c4de[_0x4b4dd2(0x240)](xunitWrite,_0x31c4de[_0x4b4dd2(0x275)](tag,_0x31c4de['YrGhe'],_0xab3962,![],_0x31c4de[_0x4b4dd2(0x259)](tag,_0x31c4de[_0x4b4dd2(0x226)],{},![],_0x31c4de[_0x4b4dd2(0x204)](_0x31c4de['NVVYz'](_0x31c4de['iZnhN'](_0x31c4de[_0x4b4dd2(0x1e6)](escape,_0x533c5a[_0x4b4dd2(0x20c)]),_0x31c4de[_0x4b4dd2(0x1e6)](escape,_0x40f7bb)),'\x0a'),_0x31c4de[_0x4b4dd2(0x240)](escape,_0x533c5a[_0x4b4dd2(0x1e7)])))));}else _0x4b3a17[_0x4b4dd2(0x1c8)]?_0x31c4de[_0x4b4dd2(0x240)](xunitWrite,_0x31c4de[_0x4b4dd2(0x259)](tag,_0x31c4de[_0x4b4dd2(0x21f)],_0xab3962,![],_0x31c4de[_0x4b4dd2(0x280)](tag,_0x31c4de[_0x4b4dd2(0x27f)],{},!![]))):_0x31c4de[_0x4b4dd2(0x240)](xunitWrite,_0x31c4de[_0x4b4dd2(0x1d1)](tag,_0x31c4de[_0x4b4dd2(0x21f)],_0xab3962,!![]));};function getStats(_0x23970f){const _0x30b460=a28_0x225825,_0x4dbcaa={};_0x4dbcaa[_0x30b460(0x1ef)]=_0x30b460(0x213),_0x4dbcaa[_0x30b460(0x200)]=_0x30b460(0x1c7),_0x4dbcaa['xtSEU']=_0x30b460(0x1b5),_0x4dbcaa['WsFzg']=_0x30b460(0x1bc);const _0x5cb089=_0x4dbcaa,_0x184ef1=Object[_0x30b460(0x23f)](_0x23970f);let _0x3c6d3e=0x0,_0x115ab9=0x0,_0x51bca6=0x0,_0x12ac25=0x0;const _0x5bec08=new Set();_0x184ef1[_0x30b460(0x28f)](_0x58b4ba=>{const _0x2a9ece=_0x30b460;_0x23970f[_0x58b4ba][_0x5cb089['WsFzg']][_0x2a9ece(0x28f)](_0x5bc663=>{const _0x22547d=_0x2a9ece;_0x5bec08[_0x22547d(0x1de)](_0x5bc663[_0x5cb089[_0x22547d(0x1ef)]]),_0x3c6d3e++;switch(_0x5bc663[_0x22547d(0x268)]){case _0x5cb089['kHXxp']:_0x51bca6++;break;case _0x5cb089[_0x22547d(0x223)]:_0x115ab9++;break;default:_0x12ac25++;}});});const _0x535166={};return _0x535166['testSuites']=_0x5bec08[_0x30b460(0x1e4)],_0x535166[_0x30b460(0x1d3)]=_0x184ef1,_0x535166[_0x30b460(0x1d5)]=_0x3c6d3e,_0x535166[_0x30b460(0x1f1)]=_0x115ab9,_0x535166[_0x30b460(0x290)]=_0x51bca6,_0x535166['testsPending']=_0x12ac25,_0x535166;}function errorJSON(_0x256edc){const _0x4d57f6=a28_0x225825;var _0x1b5d9a={};return Object['getOwnPropertyNames'](_0x256edc)[_0x4d57f6(0x28f)](function(_0x3f19b3){_0x1b5d9a[_0x3f19b3]=_0x256edc[_0x3f19b3];},_0x256edc),_0x1b5d9a;}function cleanCycles(_0x20b41a){const _0x42383d=a28_0x225825,_0x115b06={};_0x115b06[_0x42383d(0x236)]=function(_0x5b8ba8,_0x3ce4f2){return _0x5b8ba8===_0x3ce4f2;},_0x115b06[_0x42383d(0x1aa)]=_0x42383d(0x27d),_0x115b06[_0x42383d(0x248)]=function(_0x4c407b,_0x34b27a){return _0x4c407b!==_0x34b27a;},_0x115b06[_0x42383d(0x1f6)]=function(_0x25f0ed,_0x514f46){return _0x25f0ed!==_0x514f46;},_0x115b06['ToHsG']=function(_0x307d45,_0x12a4b1){return _0x307d45+_0x12a4b1;};const _0x4aafc0=_0x115b06;var _0x2620db=[];return JSON[_0x42383d(0x296)](JSON[_0x42383d(0x264)](_0x20b41a,function(_0x4dddde,_0x3ff4a8){const _0x38e8c0=_0x42383d;if(_0x4aafc0['YqsEF'](typeof _0x3ff4a8,_0x4aafc0[_0x38e8c0(0x1aa)])&&_0x4aafc0[_0x38e8c0(0x248)](_0x3ff4a8,null)){if(_0x4aafc0['RkEfC'](_0x2620db['indexOf'](_0x3ff4a8),-0x1))return _0x4aafc0[_0x38e8c0(0x257)]('',_0x3ff4a8);_0x2620db['push'](_0x3ff4a8);}return _0x3ff4a8;}));}function clean(_0x176ae0){const _0x2c61bb=a28_0x225825,_0x3db7a3={'aPIkr':function(_0x2ce5fc,_0x2e8dde){return _0x2ce5fc instanceof _0x2e8dde;},'PgVXh':function(_0x3cf606,_0x1d041d){return _0x3cf606(_0x1d041d);}};var _0x285fba=_0x176ae0[_0x2c61bb(0x1f3)]||{};return _0x3db7a3[_0x2c61bb(0x29d)](_0x285fba,Error)&&(_0x285fba=_0x3db7a3[_0x2c61bb(0x242)](errorJSON,_0x285fba)),{'title':_0x176ae0[_0x2c61bb(0x1ce)],'fullTitle':_0x176ae0[_0x2c61bb(0x1ee)],'file':_0x176ae0['file'],'duration':_0x176ae0[_0x2c61bb(0x247)],'currentRetry':_0x176ae0[_0x2c61bb(0x283)],'speed':_0x176ae0[_0x2c61bb(0x239)],'err':_0x3db7a3['PgVXh'](cleanCycles,_0x285fba)};}function printStats(_0x64f8cf,_0x51b883=a28_0x225825(0x25f),_0xf212d1={}){const _0x17fe28=a28_0x225825,_0x27499c={'TRSez':function(_0xa1f19c,_0x48c04a){return _0xa1f19c(_0x48c04a);},'FBAtd':function(_0x175e43,_0x348598){return _0x175e43===_0x348598;},'qwqfR':'passed','TRZbv':_0x17fe28(0x1cb),'BsxSM':function(_0x56e091,_0x42292c){return _0x56e091(_0x42292c);},'rIDYY':function(_0x47d6eb,_0x12e84d){return _0x47d6eb===_0x12e84d;},'JUiCC':_0x17fe28(0x1b5),'ykjSj':_0x17fe28(0x1fa),'qzCRv':_0x17fe28(0x28b),'syFhc':_0x17fe28(0x1bc),'AwSzt':function(_0x57153d,_0x276a2f){return _0x57153d===_0x276a2f;},'BHOkg':function(_0x35170e,_0x276a6d){return _0x35170e*_0x276a6d;},'jWNsV':function(_0x46ba8b,_0x3d881b,_0x17a29b){return _0x46ba8b(_0x3d881b,_0x17a29b);},'yuAdV':function(_0x31451f,_0x2b3c83){return _0x31451f===_0x2b3c83;},'gUOaV':function(_0x5eb1d6,_0x201574){return _0x5eb1d6>_0x201574;},'AyuYd':function(_0x407e2a){return _0x407e2a();},'MHThr':function(_0x5710b4,_0x43dce0){return _0x5710b4===_0x43dce0;},'hbUkn':'doc','pbEMt':function(_0x44f517,_0x2e9d7a){return _0x44f517(_0x2e9d7a);},'hCBOv':function(_0xf0e415,_0x45d5f6){return _0xf0e415>_0x45d5f6;},'BgDmW':_0x17fe28(0x22e),'CyhxS':_0x17fe28(0x1c1),'UtVfY':function(_0x614a3c,_0x112ccc){return _0x614a3c+_0x112ccc;},'dNSSH':_0x17fe28(0x25d),'FxbCH':'Total\x20Suites:\x20','PPbqk':function(_0x3c7a9f,_0x3f187d){return _0x3c7a9f+_0x3f187d;},'lqgVK':_0x17fe28(0x285),'QmRlD':function(_0x5cd340,_0x398fa8){return _0x5cd340>_0x398fa8;},'iyyqT':function(_0x53baa2,_0x4fcc7d){return _0x53baa2>_0x4fcc7d;},'oeHZY':function(_0x5b85b6,_0x492bee){return _0x5b85b6+_0x492bee;},'fqkbx':function(_0x423027,_0xaeedf){return _0x423027+_0xaeedf;},'lzVls':function(_0x3182d0,_0x344b03){return _0x3182d0+_0x344b03;},'UyglH':'\x0a\x0a\x0a','rBIEq':_0x17fe28(0x241),'Tksel':_0x17fe28(0x299),'QEcNT':'Couldn\x27t\x20write\x20json\x20result\x20to','mqROM':'No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','VYIwH':_0x17fe28(0x218),'tGZRI':_0x17fe28(0x26a),'cEpJZ':function(_0x64a479,_0x38e80e){return _0x64a479||_0x38e80e;},'kReEH':function(_0x5317a9,_0x505f14){return _0x5317a9(_0x505f14);},'NlLPP':function(_0x184fcb,_0x467ef5,_0x5a2195,_0x271496){return _0x184fcb(_0x467ef5,_0x5a2195,_0x271496);},'TWuSa':_0x17fe28(0x20f),'tFvnu':function(_0x38c4f5,_0x45b4c6){return _0x38c4f5-_0x45b4c6;},'ZDdFu':function(_0x36255f,_0x105c1e){return _0x36255f-_0x105c1e;},'BRLox':function(_0x1b9e5b,_0x462c72){return _0x1b9e5b/_0x462c72;},'HRSWW':'</testsuite>','oIGSp':_0x17fe28(0x1fb),'cABOP':'Couldn\x27t\x20write\x20xunit\x20result\x20to','WzhCU':'No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','QcKTF':_0x17fe28(0x221),'MDIVC':_0x17fe28(0x1f0)};if(_0x27499c[_0x17fe28(0x1ea)](_0x51b883,_0x27499c[_0x17fe28(0x1d2)]))return;const _0xf910cc=0x0,_0x3a613d=()=>{const _0x2f28e3=_0x17fe28;return _0x27499c[_0x2f28e3(0x289)](Array,_0xf910cc)['join']('\x20\x20');},{testSuites:_0x8741c4,platforms:_0x361229,totalTests:_0xad0981,testsFailed:_0x1cb969,testsPassed:_0x21b4f7,testsPending:_0x280c59}=_0x27499c[_0x17fe28(0x1db)](getStats,_0x64f8cf);_0x27499c[_0x17fe28(0x238)](_0x1cb969,0x0)&&(logger['debug'](_0x27499c[_0x17fe28(0x1d0)]),process['exitCode']=Math[_0x17fe28(0x21e)](_0x1cb969,0xff));logger[_0x17fe28(0x251)](_0x27499c['CyhxS']);const _0x8b90be=''+_0x27499c[_0x17fe28(0x1cf)](chalk[_0x17fe28(0x287)](_0x27499c[_0x17fe28(0x1f7)]),_0x361229[_0x17fe28(0x1ac)]),_0x4882e9=''+_0x27499c['UtVfY'](chalk['bold'](_0x27499c[_0x17fe28(0x295)]),_0x8741c4),_0x2639f8=''+_0x27499c['PPbqk'](_0x27499c[_0x17fe28(0x245)](_0x27499c[_0x17fe28(0x1cf)](chalk[_0x17fe28(0x287)](_0x27499c[_0x17fe28(0x23c)]),_0x27499c[_0x17fe28(0x1e0)](_0x1cb969,0x0)?chalk['bold'][_0x17fe28(0x267)](_0x1cb969+'\x20failed')+',\x20':''),_0x27499c[_0x17fe28(0x28e)](_0x280c59,0x0)?chalk[_0x17fe28(0x287)][_0x17fe28(0x1d9)](_0x280c59+_0x17fe28(0x23a))+',\x20':''),_0x27499c[_0x17fe28(0x238)](_0x21b4f7,0x0)?chalk[_0x17fe28(0x287)][_0x17fe28(0x20d)](_0x21b4f7+_0x17fe28(0x255))+',\x20':'')+_0xad0981+_0x17fe28(0x281);console[_0x17fe28(0x293)](_0x27499c[_0x17fe28(0x288)](_0x27499c[_0x17fe28(0x28a)](_0x27499c['fqkbx'](_0x27499c[_0x17fe28(0x23e)](_0x27499c[_0x17fe28(0x288)](_0x27499c[_0x17fe28(0x22d)],_0x8b90be),'\x0a'),_0x4882e9),'\x0a'),_0x2639f8));if(_0x27499c[_0x17fe28(0x1f9)](_0x51b883,_0x27499c[_0x17fe28(0x298)])){const _0x1d791c={},_0x3133c6={};_0x3133c6['testSuites']=_0x8741c4,_0x3133c6['platforms']=_0x361229,_0x3133c6[_0x17fe28(0x1f1)]=_0x1cb969,_0x3133c6[_0x17fe28(0x290)]=_0x21b4f7,_0x3133c6[_0x17fe28(0x20b)]=_0x280c59,_0x1d791c['stats']=_0x3133c6,_0x361229[_0x17fe28(0x28f)](_0x2ae8a4=>{const _0x45ece3=_0x17fe28;_0x1d791c[_0x2ae8a4]={'pending':[],'failures':[],'passes':[],'tests':_0x64f8cf[_0x2ae8a4][_0x27499c[_0x45ece3(0x1b2)]]['map'](clean)},_0x64f8cf[_0x2ae8a4][_0x27499c['syFhc']][_0x45ece3(0x28f)](_0x44dab0=>{const _0x328010=_0x45ece3;if(_0x27499c[_0x328010(0x20e)](_0x44dab0[_0x328010(0x268)],_0x27499c[_0x328010(0x24f)]))_0x1d791c[_0x2ae8a4][_0x27499c[_0x328010(0x1d4)]][_0x328010(0x279)](_0x27499c['BsxSM'](clean,_0x44dab0));else _0x27499c[_0x328010(0x1f9)](_0x44dab0[_0x328010(0x268)],_0x27499c[_0x328010(0x237)])?_0x1d791c[_0x2ae8a4][_0x27499c[_0x328010(0x205)]][_0x328010(0x279)](_0x27499c[_0x328010(0x26f)](clean,_0x44dab0)):_0x1d791c[_0x2ae8a4][_0x27499c[_0x328010(0x1c4)]][_0x328010(0x279)](_0x27499c[_0x328010(0x26f)](clean,_0x44dab0));});});if(_0xf212d1[_0x17fe28(0x282)])try{logger[_0x17fe28(0x251)](_0x27499c[_0x17fe28(0x1c5)],_0xf212d1['output']),fs[_0x17fe28(0x201)](_0xf212d1[_0x17fe28(0x282)],JSON[_0x17fe28(0x264)](_0x1d791c,null,0x3));}catch(_0xe12e45){logger[_0x17fe28(0x22c)](_0x27499c['QEcNT'],_0xf212d1[_0x17fe28(0x282)]),logger[_0x17fe28(0x251)](_0xe12e45);}else logger['debug'](_0x27499c[_0x17fe28(0x27e)]),console[_0x17fe28(0x293)](JSON[_0x17fe28(0x264)](_0x1d791c,null,0x3));}else{if(_0x27499c[_0x17fe28(0x1ea)](_0x51b883,_0x27499c[_0x17fe28(0x249)])){let _0x56badd;const _0x4ab826=_0x27499c['tGZRI'];_0xf212d1&&(_0x56badd=_0xf212d1[_0x17fe28(0x1ec)]);_0x56badd=_0x27499c['cEpJZ'](_0x56badd,_0x4ab826);let _0x501c33=0x0,_0x376776=0x0,_0x2f3518=0x0,_0x15f18a=0x0;_0x361229[_0x17fe28(0x28f)](_0x51c8a1=>{const _0x364068=_0x17fe28,_0x204c0c={'jMPWp':function(_0x429ddb,_0x2b73da){const _0xd422df=a28_0x52df;return _0x27499c[_0xd422df(0x20e)](_0x429ddb,_0x2b73da);},'HwgfQ':_0x27499c[_0x364068(0x24f)],'DeuYc':function(_0x384cfb,_0x41d6a8){return _0x27499c['AwSzt'](_0x384cfb,_0x41d6a8);},'pDAXG':_0x27499c[_0x364068(0x237)],'ltdWc':function(_0x15831f,_0x2d0fe2){const _0xc0abdb=_0x364068;return _0x27499c[_0xc0abdb(0x222)](_0x15831f,_0x2d0fe2);}};_0x64f8cf[_0x51c8a1][_0x27499c[_0x364068(0x1b2)]]['forEach'](_0x29f800=>{const _0x490247=_0x364068;if(_0x204c0c[_0x490247(0x1e3)](_0x29f800['state'],_0x204c0c[_0x490247(0x217)]))_0x501c33++;else _0x204c0c[_0x490247(0x211)](_0x29f800['state'],_0x204c0c[_0x490247(0x1d6)])&&_0x376776++;_0x2f3518++,_0x15f18a+=_0x204c0c['ltdWc'](_0x29f800[_0x490247(0x247)],0x1);});}),_0x27499c[_0x17fe28(0x1d8)](xunitWrite,_0x27499c[_0x17fe28(0x1ed)](tag,_0x27499c[_0x17fe28(0x27b)],{'name':_0x56badd,'tests':_0x2f3518,'failures':0x0,'errors':_0x376776,'skipped':_0x27499c['tFvnu'](_0x27499c[_0x17fe28(0x229)](_0x2f3518,_0x376776),_0x501c33),'timestamp':new Date()['toUTCString'](),'time':_0x27499c[_0x17fe28(0x231)](_0x15f18a,0x3e8)||0x0},![])),_0x361229[_0x17fe28(0x28f)](_0x39214f=>{const _0x562ecf=_0x17fe28;_0x64f8cf[_0x39214f][_0x27499c[_0x562ecf(0x1b2)]][_0x562ecf(0x28f)](_0x43d2d5=>{const _0x552493=_0x562ecf;_0x27499c[_0x552493(0x271)](xunitTest,_0x43d2d5,_0x39214f);});}),_0x27499c[_0x17fe28(0x289)](xunitWrite,_0x27499c['HRSWW']);if(_0xf212d1['output'])try{logger[_0x17fe28(0x251)](_0x27499c[_0x17fe28(0x1e9)],_0xf212d1[_0x17fe28(0x282)]),fs[_0x17fe28(0x201)](_0xf212d1[_0x17fe28(0x282)],xunitContent);}catch(_0x3037b9){logger[_0x17fe28(0x22c)](_0x27499c[_0x17fe28(0x1fe)],_0xf212d1[_0x17fe28(0x282)]),logger['debug'](_0x3037b9);}else logger[_0x17fe28(0x251)](_0x27499c[_0x17fe28(0x202)]),console[_0x17fe28(0x293)](xunitContent);}else{if(_0x27499c[_0x17fe28(0x20e)](_0x1cb969,0x0))return;console[_0x17fe28(0x293)](),logger['debug'](_0x27499c['QcKTF']),console[_0x17fe28(0x293)](chalk['bold'][_0x17fe28(0x29b)](_0x27499c['MDIVC'])),_0x361229[_0x17fe28(0x28f)](_0x11614a=>{const _0x2a1c3f=_0x17fe28,_0x5c37e2=[];_0x64f8cf[_0x11614a][_0x27499c[_0x2a1c3f(0x1b2)]][_0x2a1c3f(0x28f)](_0x2d3e9b=>{const _0x1bef46=_0x2a1c3f;_0x27499c[_0x1bef46(0x24d)](_0x2d3e9b[_0x1bef46(0x268)],_0x27499c[_0x1bef46(0x237)])&&(_0x2d3e9b[_0x1bef46(0x1eb)]=()=>_0x2d3e9b[_0x1bef46(0x1e2)],_0x5c37e2[_0x1bef46(0x279)](_0x2d3e9b));}),_0x27499c[_0x2a1c3f(0x261)](_0x5c37e2['length'],0x0)&&(Base['consoleLog'](),Base[_0x2a1c3f(0x270)](_0x27499c[_0x2a1c3f(0x1be)](_0x3a613d),chalk[_0x2a1c3f(0x287)][_0x2a1c3f(0x1e8)](_0x11614a)),Base[_0x2a1c3f(0x1b9)](_0x5c37e2));});}}}async function run(_0x3168fa,_0x55d7ef){const _0x291605=a28_0x225825,_0x2cccf4={'AWYcq':function(_0x2a47cd,_0x239636,_0x5b242a,_0x2d757a){return _0x2a47cd(_0x239636,_0x5b242a,_0x2d757a);},'ANszt':_0x291605(0x228),'kXSTp':'error\x20removing\x20tcg\x20config\x20file','UPlbJ':_0x291605(0x294),'biyyJ':function(_0x234bac,_0x378c9d,_0x5104a5,_0x34c194){return _0x234bac(_0x378c9d,_0x5104a5,_0x34c194);},'cStCA':'mocha','xxNkU':_0x291605(0x22b),'mZPWZ':_0x291605(0x23d),'IenyC':function(_0x413c20,_0x12fa8f){return _0x413c20!=_0x12fa8f;},'JVHqx':_0x291605(0x28c),'lRgYD':'mjs','aEXsF':_0x291605(0x277),'IMVZM':_0x291605(0x215),'uPstv':function(_0x48c12d,_0x46f604){return _0x48c12d(_0x46f604);},'gyryY':function(_0x5dfd7c,_0x39009b,_0x576c65){return _0x5dfd7c(_0x39009b,_0x576c65);},'CapXE':_0x291605(0x26e),'CEFMc':'Running\x20your\x20mocha\x20tests','kzrwA':'Now,\x20showing\x20logs\x20from\x20mocha','uXZOl':function(_0x1ce4fe,_0xbf2b2c,_0x7cfe10,_0x205df8){return _0x1ce4fe(_0xbf2b2c,_0x7cfe10,_0x205df8);},'HVjhZ':function(_0x1b1f33,_0xd975c1){return _0x1b1f33*_0xd975c1;},'wrKin':function(_0x371f30,_0xfe33ce){return _0x371f30!==_0xfe33ce;},'UfQRc':function(_0x19826f,_0xda5c85,_0x173442,_0x5eb82a){return _0x19826f(_0xda5c85,_0x173442,_0x5eb82a);}};process['argv']['includes'](_0x2cccf4['xxNkU'])&&(process[_0x291605(0x212)][_0x291605(0x21d)]=![]);process[_0x291605(0x20a)]['includes'](_0x2cccf4[_0x291605(0x225)])&&(process['env']['BROWSERSTACK_AUTOMATION']=![]);const _0x527ff0=new BrowserStackSetup(_0x3168fa,_0x2cccf4['cStCA']);helper[_0x291605(0x209)](_0x527ff0[_0x291605(0x262)],_0x3168fa);helper[_0x291605(0x1da)]()?(await _0x527ff0['initialize'](),await helper[_0x291605(0x244)](_0x527ff0[_0x291605(0x23b)])):await _0x527ff0[_0x291605(0x24e)]();const _0x44c99d=[];let _0x525ce1=[];if(!_0x527ff0[_0x291605(0x23b)])return;_0x2cccf4[_0x291605(0x1df)](_0x527ff0['config']['testObservability'],null)&&(process[_0x291605(0x212)][_0x291605(0x1c0)]=_0x527ff0[_0x291605(0x23b)][_0x291605(0x246)]);!helper[_0x291605(0x29a)](_0x527ff0[_0x291605(0x23b)][_0x291605(0x25e)])&&(process[_0x291605(0x212)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x527ff0[_0x291605(0x23b)]['accessibility']);!helper[_0x291605(0x29a)](_0x527ff0[_0x291605(0x23b)][_0x291605(0x224)])&&(process['env'][_0x291605(0x1f2)]=JSON['stringify'](_0x527ff0['config']['accessibilityOptions']));const {extension:extension=['js',_0x2cccf4['JVHqx'],_0x2cccf4[_0x291605(0x26d)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x2cccf4[_0x291605(0x1fc)]]}=_0x3168fa,_0x31e89e={..._0x3168fa};_0x31e89e[_0x291605(0x1ff)]=null;const _0x5e509a=_0x31e89e;let _0x54c4a9;if(testOpsHelper['isTestObservabilitySession']()&&testOpsHelper[_0x291605(0x1cd)]()){let _0xc244a1=process[_0x291605(0x212)][_0x291605(0x29c)];!helper['isUndefined'](_0x527ff0[_0x291605(0x1e1)])&&_0x527ff0['cliConfig'][_0x291605(0x291)](_0x2cccf4[_0x291605(0x220)])&&(_0xc244a1=_0x527ff0[_0x291605(0x1e1)]['get'](_0x2cccf4[_0x291605(0x220)])),_0x54c4a9=testOpsHelper[_0x291605(0x1b4)](_0xc244a1);}if(helper[_0x291605(0x29a)](_0x54c4a9)){const _0x561bd8={};_0x561bd8['ignore']=ignore,_0x561bd8[_0x291605(0x1c9)]=extension,_0x561bd8[_0x291605(0x216)]=file,_0x561bd8[_0x291605(0x1cc)]=recursive,_0x561bd8[_0x291605(0x286)]=sort,_0x561bd8[_0x291605(0x25f)]=spec,_0x54c4a9=_0x2cccf4[_0x291605(0x1c3)](collectFiles,_0x561bd8),_0x2cccf4[_0x291605(0x24b)](nestedKeyValue,_0x54c4a9,[_0x2cccf4['CapXE']])&&(_0x54c4a9=_0x54c4a9[_0x291605(0x26e)]);}if(!helper[_0x291605(0x1da)]()){const _0x5c9f35=0x1,_0x3e344d={..._0x5e509a};_0x3e344d[_0x291605(0x25f)]=[..._0x54c4a9],_0x44c99d[_0x291605(0x279)]({'mochaOpts':_0x3e344d,'configuration':{'platform':os[_0x291605(0x1a8)]()}}),logger[_0x291605(0x274)](_0x2cccf4['CEFMc']),logger[_0x291605(0x274)](_0x2cccf4[_0x291605(0x1ca)]),_0x2cccf4[_0x291605(0x1b3)](parallelTestRun,_0x44c99d,_0x5c9f35,_0x527ff0)['then'](_0x3b8f35=>{const _0x3f2be6=_0x291605;PerformanceTester['start'](PerformanceEvents[_0x3f2be6(0x1ba)]),_0x2cccf4[_0x3f2be6(0x278)](printStats,_0x3b8f35,_0x3168fa[_0x3f2be6(0x22f)],_0x3168fa[_0x3f2be6(0x1ae)]||_0x3168fa[_0x2cccf4['ANszt']]);})[_0x291605(0x26c)](()=>{const _0x2ec4aa=_0x291605;PerformanceTester[_0x2ec4aa(0x1f8)](PerformanceEvents[_0x2ec4aa(0x1ba)]);try{const {browserstackFolderPath:_0x5425c8,tcgConfigPath:_0x5d043c}=helper['getTCGConfigFilePaths']();fs[_0x2ec4aa(0x22a)](_0x5d043c),fs['rmdirSync'](_0x5425c8);}catch(_0xb64c6b){logger[_0x2ec4aa(0x251)](_0x2cccf4[_0x2ec4aa(0x208)],_0xb64c6b);}try{utilities['fireFunnelTestEvent'](_0x2cccf4[_0x2ec4aa(0x232)],{},_0x527ff0['config'],_0x527ff0[_0x2ec4aa(0x262)]);}catch(_0x2ebdfd){logger[_0x2ec4aa(0x251)]('Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20'+_0x2ebdfd[_0x2ec4aa(0x1e7)]);}try{helper[_0x2ec4aa(0x234)]();}catch(_0x4b032d){logger[_0x2ec4aa(0x251)](_0x2ec4aa(0x28d)+_0x4b032d);}testOpsHelper[_0x2ec4aa(0x214)]();});}else{const _0x199dae=helper[_0x291605(0x1b1)](_0x527ff0[_0x291605(0x23b)]);let _0x559a69=helper[_0x291605(0x273)](_0x527ff0[_0x291605(0x23b)]);_0x525ce1=helper[_0x291605(0x1b6)](_0x527ff0['config'],_0x199dae,constants['FRAMEWORKS'][_0x291605(0x1c6)]);helper[_0x291605(0x1b8)]()[_0x291605(0x233)]&&(_0x559a69=centralScannerConstants[_0x291605(0x26b)]);let _0xe5c1a9;const _0x3ddf8b=_0x527ff0['config'][_0x291605(0x21c)]||helper[_0x291605(0x21b)](_0x3168fa,_0x55d7ef,_0x527ff0[_0x291605(0x23b)],constants[_0x291605(0x1fd)][_0x291605(0x1c6)])||0x1;helper[_0x291605(0x219)](_0x527ff0[_0x291605(0x23b)])?_0xe5c1a9=_0x2cccf4['HVjhZ'](_0x527ff0[_0x291605(0x23b)]['platforms'][_0x291605(0x1ac)],_0x3ddf8b):_0xe5c1a9=_0x3ddf8b;const _0x1e1a96=_0x2cccf4[_0x291605(0x1c3)](getPercyOptions,_0x527ff0['config']);if(_0x2cccf4[_0x291605(0x1ab)](_0x527ff0['config'][_0x291605(0x21c)],0x1))_0x54c4a9[_0x291605(0x28f)](_0x70c6c6=>{const _0x332d29=_0x291605,_0x41b56a=[];_0x525ce1[_0x332d29(0x28f)]((_0x4b1a07,_0x15fab5)=>{const _0x219878=_0x332d29,_0x2f62b9={};_0x2f62b9[_0x219878(0x25f)]=[_0x70c6c6],_0x41b56a[_0x219878(0x279)]({'mochaOpts':Object[_0x219878(0x227)]({},_0x5e509a,_0x2f62b9),'configuration':{'server':_0x559a69,'capability':_0x4b1a07,'proxySettings':_0x527ff0[_0x219878(0x23b)][_0x219878(0x203)],'platform':helper[_0x219878(0x1af)](_0x4b1a07),'browserStackLogLevel':_0x527ff0[_0x219878(0x23b)][_0x219878(0x1ad)],'platformIndex':_0x15fab5,'browserStackPercyOptions':_0x1e1a96,'platformCaps':Object['assign']({'index':_0x15fab5},_0x527ff0[_0x219878(0x23b)]['platforms'][_0x15fab5])}});}),_0x44c99d['push'](..._0x41b56a);});else{const _0x4b21fc=[];_0x525ce1[_0x291605(0x28f)]((_0x3e9604,_0x1e332a)=>{const _0x3c863d=_0x291605;let _0x418918=Object[_0x3c863d(0x227)]({},_0x5e509a);testOpsHelper[_0x3c863d(0x276)]()&&testOpsHelper[_0x3c863d(0x1cd)]()&&(_0x418918={..._0x418918,'spec':[..._0x54c4a9]}),_0x4b21fc[_0x3c863d(0x279)]({'mochaOpts':_0x418918,'configuration':{'server':_0x559a69,'capability':_0x3e9604,'proxySettings':_0x527ff0[_0x3c863d(0x23b)][_0x3c863d(0x203)],'platform':helper[_0x3c863d(0x1af)](_0x3e9604),'browserStackLogLevel':_0x527ff0[_0x3c863d(0x23b)][_0x3c863d(0x1ad)],'platformIndex':_0x1e332a,'browserStackPercyOptions':_0x1e1a96,'platformCaps':Object[_0x3c863d(0x227)]({'index':_0x1e332a},_0x527ff0[_0x3c863d(0x23b)][_0x3c863d(0x1d3)][_0x1e332a])}});}),_0x44c99d[_0x291605(0x279)](..._0x4b21fc);}logger[_0x291605(0x274)](_0x291605(0x27c)+_0x527ff0[_0x291605(0x23b)]['platforms']['length']+_0x291605(0x1bf)),logger['info'](_0x2cccf4[_0x291605(0x1ca)]);let _0x2809eb;_0x2cccf4[_0x291605(0x1d7)](parallelTestRun,_0x44c99d,_0xe5c1a9,_0x527ff0)[_0x291605(0x269)](_0x5a65e9=>{const _0x1d706a=_0x291605;PerformanceTester[_0x1d706a(0x1f8)](PerformanceEvents['SDK_CLEANUP']),_0x2809eb=_0x5a65e9,_0x2cccf4['biyyJ'](printStats,_0x5a65e9,_0x3168fa['reporter'],_0x3168fa[_0x1d706a(0x1ae)]||_0x3168fa[_0x2cccf4[_0x1d706a(0x284)]]);})[_0x291605(0x26c)](async()=>{const _0x7457d9=_0x291605;PerformanceTester[_0x7457d9(0x1f8)](PerformanceEvents[_0x7457d9(0x1ba)]),_0x527ff0[_0x7457d9(0x266)]=helper[_0x7457d9(0x24c)](_0x2809eb,_0x2cccf4['cStCA']),await utilities[_0x7457d9(0x253)](_0x527ff0),testOpsHelper['printBuildLink']();});}}function a28_0x52df(_0x2f3ae1,_0x40096e){const _0x4864ba=a28_0x4864();return a28_0x52df=function(_0x52df43,_0x731514){_0x52df43=_0x52df43-0x1a8;let _0x269c23=_0x4864ba[_0x52df43];return _0x269c23;},a28_0x52df(_0x2f3ae1,_0x40096e);}module[a28_0x225825(0x1b7)]=run;