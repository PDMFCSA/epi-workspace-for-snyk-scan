#!/usr/bin/env node
'use strict';const a31_0x1f3a52=a31_0x4f19;(function(_0x6763ba,_0x450887){const _0x1eeeb1=a31_0x4f19,_0x373b7a=_0x6763ba();while(!![]){try{const _0x1b1b52=parseInt(_0x1eeeb1(0x232))/0x1+parseInt(_0x1eeeb1(0x1ce))/0x2+-parseInt(_0x1eeeb1(0x234))/0x3*(parseInt(_0x1eeeb1(0x1be))/0x4)+-parseInt(_0x1eeeb1(0x1b0))/0x5*(parseInt(_0x1eeeb1(0x264))/0x6)+-parseInt(_0x1eeeb1(0x1e0))/0x7*(-parseInt(_0x1eeeb1(0x1f3))/0x8)+parseInt(_0x1eeeb1(0x1ca))/0x9*(parseInt(_0x1eeeb1(0x1de))/0xa)+-parseInt(_0x1eeeb1(0x1c1))/0xb;if(_0x1b1b52===_0x450887)break;else _0x373b7a['push'](_0x373b7a['shift']());}catch(_0x41a847){_0x373b7a['push'](_0x373b7a['shift']());}}}(a31_0x246d,0x27840));const chalk=require(a31_0x1f3a52(0x1a0)),logger=require(a31_0x1f3a52(0x273))[a31_0x1f3a52(0x251)],helper=require(a31_0x1f3a52(0x1e8)),utilities=require('../../helpers/utilities'),testOpsHelper=require(a31_0x1f3a52(0x2a4)),fs=require('fs'),os=require('os'),{parallelTestRun}=require('../test-runner'),{requireModule,nestedKeyValue}=require('../../helpers/helper'),{getPercyOptions}=require(a31_0x1f3a52(0x1ef)),Base=requireModule(a31_0x1f3a52(0x256),a31_0x1f3a52(0x21a)),collectFiles=requireModule(a31_0x1f3a52(0x1df),'mocha'),constants=require('../utils/constants'),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a31_0x1f3a52(0x1ea))[a31_0x1f3a52(0x211)],centralScannerConstants=require('../../helpers/central-scanner/constants'),{FRAMEWORKS}=require(a31_0x1f3a52(0x1d1)),TestHubHandler=require(a31_0x1f3a52(0x291));function tag(_0x3df17f,_0x443e8e,_0x493286,_0x628f27){const _0x278c73=a31_0x1f3a52,_0x369b63={'zBcte':function(_0x5a4e03,_0x4ac673){return _0x5a4e03+_0x4ac673;},'UnWbl':function(_0x1863be,_0x4da7d2){return _0x1863be+_0x4da7d2;},'zXFQC':function(_0x531e8e,_0x13bffb){return _0x531e8e(_0x13bffb);},'fevqA':function(_0x6d5d3a,_0x3eef36){return _0x6d5d3a+_0x3eef36;},'KriDv':function(_0x45f72a,_0x1603b2){return _0x45f72a+_0x1603b2;},'rKMAV':function(_0x3bd2ea,_0x288938){return _0x3bd2ea+_0x288938;},'DTBOf':function(_0x1bbf20,_0x3a1286){return _0x1bbf20+_0x3a1286;},'mONaT':function(_0x3b20db,_0xb95e41){return _0x3b20db+_0xb95e41;}},_0x4b3a88=_0x493286?'/>':'>',_0x3a63dc=[];let _0x5cc6df;for(const _0x37d738 in _0x443e8e){Object['prototype'][_0x278c73(0x22d)][_0x278c73(0x1c4)](_0x443e8e,_0x37d738)&&_0x3a63dc[_0x278c73(0x29e)](_0x369b63[_0x278c73(0x28a)](_0x369b63[_0x278c73(0x28a)](_0x369b63['UnWbl'](_0x37d738,'=\x22'),_0x369b63['zXFQC'](escape,_0x443e8e[_0x37d738])),'\x22'));}return _0x5cc6df=_0x369b63[_0x278c73(0x1d5)](_0x369b63[_0x278c73(0x278)](_0x369b63[_0x278c73(0x1cd)]('<',_0x3df17f),_0x3a63dc[_0x278c73(0x27b)]?_0x369b63[_0x278c73(0x230)]('\x20',_0x3a63dc[_0x278c73(0x1ad)]('\x20')):''),_0x4b3a88),_0x628f27&&(_0x5cc6df+=_0x369b63['fevqA'](_0x369b63['fevqA'](_0x369b63[_0x278c73(0x1bd)](_0x628f27,'</'),_0x3df17f),_0x4b3a88)),_0x5cc6df;}function a31_0x4f19(_0x26bef3,_0x42b568){const _0x246d95=a31_0x246d();return a31_0x4f19=function(_0x4f199b,_0x146258){_0x4f199b=_0x4f199b-0x196;let _0x471636=_0x246d95[_0x4f199b];return _0x471636;},a31_0x4f19(_0x26bef3,_0x42b568);}let xunitContent='';function xunitWrite(_0x177a8e){xunitContent+=_0x177a8e;}function xunitTest(_0x393c90,_0x212da8){const _0x32f2aa=a31_0x1f3a52,_0x499e5f={'FGylv':function(_0x24c757,_0x35a25d){return _0x24c757/_0x35a25d;},'OCZBU':function(_0x1dfe27,_0x18d521){return _0x1dfe27===_0x18d521;},'GbLVK':_0x32f2aa(0x27e),'LdsoS':function(_0x4b87fd,_0x5064b0){return _0x4b87fd+_0x5064b0;},'GqCVq':function(_0x4a311b,_0x58f663){return _0x4a311b(_0x58f663);},'seple':function(_0x563426,_0x321afa,_0x3a96af,_0xc4fe5c,_0x10def8){return _0x563426(_0x321afa,_0x3a96af,_0xc4fe5c,_0x10def8);},'xrHcx':'testcase','ygQZo':function(_0x46e2d5,_0x20b38f,_0x2b7761,_0x179c20,_0x2ca73e){return _0x46e2d5(_0x20b38f,_0x2b7761,_0x179c20,_0x2ca73e);},'gMCiC':_0x32f2aa(0x29a),'SPnJJ':function(_0x285f20,_0x3c3947){return _0x285f20+_0x3c3947;},'RTQHo':function(_0x1e600c,_0x1e0b6e){return _0x1e600c+_0x1e0b6e;},'oivFX':function(_0x3238f2,_0x1618f5){return _0x3238f2(_0x1618f5);},'XSuBg':function(_0x2c5639,_0x21c831){return _0x2c5639(_0x21c831);},'bQwND':function(_0x48e21c,_0xd8267b){return _0x48e21c(_0xd8267b);},'bnHZh':function(_0x536f21,_0x4b9dd3,_0x29d257,_0x1a10a1){return _0x536f21(_0x4b9dd3,_0x29d257,_0x1a10a1);},'mMulV':_0x32f2aa(0x1cf)};Base['useColors']=![];var _0x2deb55={'classname':_0x393c90[_0x32f2aa(0x25b)],'name':_0x393c90['title'],'time':_0x499e5f[_0x32f2aa(0x207)](_0x393c90[_0x32f2aa(0x255)],0x3e8)||0x0,'platform':_0x212da8};if(_0x499e5f[_0x32f2aa(0x1e1)](_0x393c90['state'],_0x499e5f[_0x32f2aa(0x214)])){var _0x1af712=_0x393c90[_0x32f2aa(0x219)],_0x5b60cb=!Base[_0x32f2aa(0x23b)]&&Base['showDiff'](_0x1af712)?_0x499e5f[_0x32f2aa(0x243)]('\x0a',Base[_0x32f2aa(0x1d3)](_0x1af712[_0x32f2aa(0x1c8)],_0x1af712[_0x32f2aa(0x19b)])):'';_0x499e5f[_0x32f2aa(0x20e)](xunitWrite,_0x499e5f['seple'](tag,_0x499e5f['xrHcx'],_0x2deb55,![],_0x499e5f['ygQZo'](tag,_0x499e5f[_0x32f2aa(0x1c6)],{},![],_0x499e5f[_0x32f2aa(0x295)](_0x499e5f[_0x32f2aa(0x257)](_0x499e5f['LdsoS'](_0x499e5f[_0x32f2aa(0x29c)](escape,_0x1af712[_0x32f2aa(0x287)]),_0x499e5f[_0x32f2aa(0x25e)](escape,_0x5b60cb)),'\x0a'),_0x499e5f[_0x32f2aa(0x25e)](escape,_0x1af712['stack'])))));}else _0x393c90[_0x32f2aa(0x269)]?_0x499e5f['bQwND'](xunitWrite,_0x499e5f[_0x32f2aa(0x282)](tag,_0x499e5f[_0x32f2aa(0x1f0)],_0x2deb55,![],_0x499e5f[_0x32f2aa(0x29d)](tag,_0x499e5f[_0x32f2aa(0x1a9)],{},!![]))):_0x499e5f[_0x32f2aa(0x20e)](xunitWrite,_0x499e5f[_0x32f2aa(0x29d)](tag,_0x499e5f[_0x32f2aa(0x1f0)],_0x2deb55,!![]));};function getStats(_0x288665){const _0x67e6e=a31_0x1f3a52,_0x331dd0={};_0x331dd0[_0x67e6e(0x1f6)]=_0x67e6e(0x218),_0x331dd0[_0x67e6e(0x237)]=_0x67e6e(0x221),_0x331dd0[_0x67e6e(0x1b5)]='failed',_0x331dd0[_0x67e6e(0x271)]=_0x67e6e(0x25a);const _0x456edd=_0x331dd0,_0x4fed31=Object[_0x67e6e(0x1bb)](_0x288665);let _0x33178b=0x0,_0x45ec95=0x0,_0xbfc2d7=0x0,_0x1ec4f3=0x0;const _0xed91cd=new Set();_0x4fed31['forEach'](_0x3d1742=>{const _0x20dcd6=_0x67e6e;_0x288665[_0x3d1742][_0x456edd[_0x20dcd6(0x271)]][_0x20dcd6(0x24e)](_0x549a1a=>{const _0x39ede2=_0x20dcd6;_0xed91cd[_0x39ede2(0x1f4)](_0x549a1a[_0x456edd['RFHSB']]),_0x33178b++;switch(_0x549a1a[_0x39ede2(0x1f5)]){case _0x456edd[_0x39ede2(0x237)]:_0xbfc2d7++;break;case _0x456edd['lTmWH']:_0x45ec95++;break;default:_0x1ec4f3++;}});});const _0x5095de={};return _0x5095de['testSuites']=_0xed91cd[_0x67e6e(0x203)],_0x5095de['platforms']=_0x4fed31,_0x5095de[_0x67e6e(0x265)]=_0x33178b,_0x5095de[_0x67e6e(0x1e3)]=_0x45ec95,_0x5095de[_0x67e6e(0x252)]=_0xbfc2d7,_0x5095de['testsPending']=_0x1ec4f3,_0x5095de;}function errorJSON(_0x6af1c){const _0x5a69cc=a31_0x1f3a52;var _0xa2d255={};return Object['getOwnPropertyNames'](_0x6af1c)[_0x5a69cc(0x24e)](function(_0x32f859){_0xa2d255[_0x32f859]=_0x6af1c[_0x32f859];},_0x6af1c),_0xa2d255;}function a31_0x246d(){const _0x3694f9=['proxySettings','rerunTests','VHUDq','reporterOptions','LdsoS','YNRgk','isTestObservabilitySession','Couldn\x27t\x20write\x20json\x20result\x20to','test','ZgZVf','isNotUndefined','BgBhB','sort','cliConfig','PseZR','forEach','TbpPr','SDKTestSuccessful','winstonLogger','testsPassed','stack','rmdirSync','duration','mocha/lib/reporters/base.js','RTQHo','getHubUrl','Uihqw','results','fullTitle','VdeMn','oNMZc','XSuBg','parse','MOCHA','Yfqhr','IKrot','speed','279954eqYTBx','totalTests','errorMessage','output','env','isPending','toUTCString','extension','rootHooks','HdGsj','titlePath','writeFileSync','config','CRUqG','WFgWR','../../helpers/logger','log','getCentralUser','platforms','retryTestsOnFailure','KriDv','pIDUL','kXKkr','length','BROWSERSTACK_TEST_ACCESSIBILITY_YML','mjs','failed','error\x20removing\x20tcg\x20config\x20file','testObservability','maxRetries','seple','finally','exports','Mocha\x20Tests','KKDlc','message','\x20total','platform','zBcte','wOhAS','parseTestOrchestrationOptions','ByftR','green','aBGzm','has','../../helpers/testhub/testhubHandler','bold','ODnxf','uPOvm','SPnJJ','reporter-option','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','TGibc','parseFileNames','failure','ignore','oivFX','bnHZh','push','launchBuild','</testsuite>','Printing\x20stats\x20of\x20tests','Total\x20Platforms:\x20','accessibilityOptions','../../helpers/test-observability/utils','framework','validPlatformsPresent','\x20skipped','\x20platforms','handleApp','PYKPb','expected','prepareCapabilities','suiteName','FRAMEWORKS','pdVMX','chalk','xunit','aWdyr','LXelQ','PFGMS','get','file','unlinkSync','configuration','mMulV','cjs','Running\x20your\x20mocha\x20tests\x20across\x20','wCLlt','join','jfbrD','bLzOo','5tkDVbp','titlePathV','lOcOi','rfJqW','info','lTmWH','YmLoJ','UAacb','start','STDeg','testsuite','keys','useW3C','mONaT','693496QErAEe','assign','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','2819817ybeyBm','ttwkF','fjCkE','call','stats','gMCiC','reporter','actual','excludeTagsInTestingScope','31347SaxTut','QNkDK','parallelsPerPlatform','rKMAV','273088wmpPuG','skipped','Running\x20your\x20mocha\x20tests','../../helpers/test-observability/constants','uJybh','generateDiff','then','fevqA','BROWSERSTACK_RERUN_TESTS','Setting\x20non\x20exit\x20code\x20for\x20failures','isBrowserstackInfra','ehfkc','notifyUpdate','AQLVh','yVWbm','KBgUo','530EXHDKc','mocha/lib/cli/collect-files.js','77EkvNfL','OCZBU','includeEncodedExtension','testsFailed','YihpY','\x20failed','drxYj','getPlatformName','../../helpers/helper','debug','../../helpers/performance/constants','SJeMA','error','files','setupTCGAuth','../../helpers/percy/utils','xrHcx','\x20passed','Tests:\x20\x20\x20\x20\x20\x20\x20','166312jiCUYR','add','state','RFHSB','pwGVj','getTCGConfigFilePaths','XFOuA','currentRetry','kOcAb','isUndefined','BwfOv','central_scanner','****\x20FAILURES\x20****','RaQxx','testsPending','fCwdH','size','logLevel','RRAUu','SDK_CLEANUP','FGylv','getUserWorkerCount','sfGOg','\x0a\x0a\x0a','qJzAm','initialize','bgRedBright','GqCVq','getErrorMessageFromResults','FjDXC','EVENTS','FIzEb','UgCoZ','GbLVK','setUserConfigPath','Total\x20Suites:\x20','bgBlueBright','suite','err','mocha','spec','dkBMp','Qskoi','Writing\x20json\x20result\x20to\x20file','passes','Writing\x20xunit\x20result\x20to\x20file','passed','printBuildLink','bKQIh','aUyAP','masNZ','OtlIX','exitCode','lmpQi','Now,\x20showing\x20logs\x20from\x20mocha','aYeMr','dbqxM','omMam','hasOwnProperty','UXpQO','retries','DTBOf','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','88414ZDOYND','shouldReRunObservabilityTests','3cxhlLS','BROWSERSTACK_TEST_OBSERVABILITY_YML','eBtAa','vsmUf','Listing\x20all\x20the\x20failures','finalExecution','bstack:options','hideDiff','zWJbP','stringify','upAUB'];a31_0x246d=function(){return _0x3694f9;};return a31_0x246d();}function cleanCycles(_0x1d0981){const _0x51d3db=a31_0x1f3a52,_0x17b9e7={};_0x17b9e7[_0x51d3db(0x261)]=function(_0x13d558,_0x5b7d09){return _0x13d558===_0x5b7d09;},_0x17b9e7['teqoY']='object',_0x17b9e7[_0x51d3db(0x205)]=function(_0x4f72a8,_0x488dda){return _0x4f72a8!==_0x488dda;},_0x17b9e7[_0x51d3db(0x279)]=function(_0x254e1b,_0x1569ee){return _0x254e1b!==_0x1569ee;},_0x17b9e7['omMam']=function(_0xc26cb8,_0x4fb21d){return _0xc26cb8+_0x4fb21d;};const _0x3c810a=_0x17b9e7;var _0x44fab6=[];return JSON[_0x51d3db(0x25f)](JSON[_0x51d3db(0x23d)](_0x1d0981,function(_0x1b2d1a,_0x278cfa){const _0x1b38dd=_0x51d3db;if(_0x3c810a[_0x1b38dd(0x261)](typeof _0x278cfa,_0x3c810a['teqoY'])&&_0x3c810a[_0x1b38dd(0x205)](_0x278cfa,null)){if(_0x3c810a['pIDUL'](_0x44fab6['indexOf'](_0x278cfa),-0x1))return _0x3c810a[_0x1b38dd(0x22c)]('',_0x278cfa);_0x44fab6[_0x1b38dd(0x29e)](_0x278cfa);}return _0x278cfa;}));}function clean(_0x3a2721){const _0x4b6c59=a31_0x1f3a52,_0x5bd003={'bnjGy':function(_0x8ada4e,_0x590182){return _0x8ada4e instanceof _0x590182;},'OtlIX':function(_0x5559f6,_0x8a80bc){return _0x5559f6(_0x8a80bc);},'PYKPb':function(_0x96b20f,_0x28c754){return _0x96b20f(_0x28c754);}};var _0x2727cc=_0x3a2721[_0x4b6c59(0x219)]||{};return _0x5bd003['bnjGy'](_0x2727cc,Error)&&(_0x2727cc=_0x5bd003[_0x4b6c59(0x226)](errorJSON,_0x2727cc)),{'title':_0x3a2721['title'],'fullTitle':_0x3a2721[_0x4b6c59(0x25b)],'file':_0x3a2721[_0x4b6c59(0x1a6)],'duration':_0x3a2721[_0x4b6c59(0x255)],'currentRetry':_0x3a2721[_0x4b6c59(0x1fa)],'speed':_0x3a2721[_0x4b6c59(0x263)],'err':_0x5bd003[_0x4b6c59(0x19a)](cleanCycles,_0x2727cc)};}function printStats(_0x39626a,_0x396145=a31_0x1f3a52(0x21b),_0x56e690={}){const _0x2b65c7=a31_0x1f3a52,_0x1a0f46={'PseZR':function(_0x132cb7,_0x19a158){return _0x132cb7(_0x19a158);},'RaQxx':function(_0x50d352,_0x23653e){return _0x50d352===_0x23653e;},'ODnxf':'passed','PsJlD':_0x2b65c7(0x21f),'pdVMX':function(_0x30e93b,_0x158321){return _0x30e93b(_0x158321);},'dbqxM':_0x2b65c7(0x27e),'yVWbm':'failures','aWdyr':function(_0x5d6184,_0x409c03){return _0x5d6184(_0x409c03);},'WFgWR':'pending','kOcAb':_0x2b65c7(0x25a),'aBGzm':function(_0x30976b,_0x1f0537){return _0x30976b===_0x1f0537;},'aUyAP':function(_0x3700ed,_0x4606ff){return _0x3700ed*_0x4606ff;},'oNMZc':function(_0x7803a2,_0x3ff399,_0xcba33d){return _0x7803a2(_0x3ff399,_0xcba33d);},'KBgUo':function(_0x2be8a9,_0x3e4103){return _0x2be8a9>_0x3e4103;},'cBnpn':function(_0x21eda4){return _0x21eda4();},'EFcFj':function(_0x3fccdd,_0xea3581){return _0x3fccdd===_0xea3581;},'ZYlzt':'doc','rfJqW':_0x2b65c7(0x1d7),'STDeg':_0x2b65c7(0x2a1),'LXelQ':function(_0x3125e3,_0xfa715){return _0x3125e3+_0xfa715;},'EVWSb':_0x2b65c7(0x2a2),'fjCkE':function(_0x51538e,_0x2f5ed4){return _0x51538e+_0x2f5ed4;},'eBtAa':_0x2b65c7(0x216),'XFOuA':_0x2b65c7(0x1f2),'lOcOi':function(_0x5cf08c,_0x2e8f53){return _0x5cf08c>_0x2e8f53;},'TGibc':function(_0x5d99da,_0x478e42){return _0x5d99da>_0x478e42;},'VdeMn':function(_0x549da6,_0x435232){return _0x549da6>_0x435232;},'fCwdH':function(_0x1246a5,_0x1fdf26){return _0x1246a5+_0x1fdf26;},'bKQIh':_0x2b65c7(0x20a),'uJybh':'json','wOhAS':_0x2b65c7(0x21e),'UgCoZ':_0x2b65c7(0x246),'drxYj':_0x2b65c7(0x297),'uPOvm':_0x2b65c7(0x1a1),'Uihqw':_0x2b65c7(0x285),'hQnXV':function(_0x5c4a43,_0x1a572c){return _0x5c4a43||_0x1a572c;},'YhHCW':function(_0x261638,_0x1034f0){return _0x261638(_0x1034f0);},'TbpPr':function(_0x20a09,_0x125c87,_0x2aeb2b,_0x31b663){return _0x20a09(_0x125c87,_0x2aeb2b,_0x31b663);},'Qskoi':_0x2b65c7(0x1ba),'IKrot':function(_0x5f15a1,_0x7ccfcb){return _0x5f15a1-_0x7ccfcb;},'izOXd':function(_0x530017,_0x338d98){return _0x530017-_0x338d98;},'FjDXC':function(_0x49d3ab,_0x136602){return _0x49d3ab/_0x136602;},'JeuiI':function(_0x4ca24b,_0x5739e2){return _0x4ca24b(_0x5739e2);},'UXpQO':_0x2b65c7(0x2a0),'ZgZVf':_0x2b65c7(0x220),'kXKkr':'Couldn\x27t\x20write\x20xunit\x20result\x20to','UAacb':'No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','IOzXL':_0x2b65c7(0x238),'FIzEb':_0x2b65c7(0x1ff)};if(_0x1a0f46['EFcFj'](_0x396145,_0x1a0f46['ZYlzt']))return;const _0x582315=0x0,_0x22ff03=()=>{const _0x9eb179=_0x2b65c7;return _0x1a0f46[_0x9eb179(0x24d)](Array,_0x582315)[_0x9eb179(0x1ad)]('\x20\x20');},{testSuites:_0x3b58b2,platforms:_0x332139,totalTests:_0x38c510,testsFailed:_0x3030c3,testsPassed:_0x142843,testsPending:_0x20fbff}=_0x1a0f46[_0x2b65c7(0x19f)](getStats,_0x39626a);_0x1a0f46[_0x2b65c7(0x1dd)](_0x3030c3,0x0)&&(logger['debug'](_0x1a0f46[_0x2b65c7(0x1b3)]),process[_0x2b65c7(0x227)]=Math['min'](_0x3030c3,0xff));logger[_0x2b65c7(0x1e9)](_0x1a0f46[_0x2b65c7(0x1b9)]);const _0x12423f=''+_0x1a0f46[_0x2b65c7(0x1a3)](chalk[_0x2b65c7(0x292)](_0x1a0f46['EVWSb']),_0x332139[_0x2b65c7(0x27b)]),_0x45e421=''+_0x1a0f46[_0x2b65c7(0x1c3)](chalk[_0x2b65c7(0x292)](_0x1a0f46[_0x2b65c7(0x236)]),_0x3b58b2),_0x40e021=''+_0x1a0f46[_0x2b65c7(0x1c3)](_0x1a0f46[_0x2b65c7(0x1c3)](_0x1a0f46['LXelQ'](chalk[_0x2b65c7(0x292)](_0x1a0f46[_0x2b65c7(0x1f9)]),_0x1a0f46[_0x2b65c7(0x1b2)](_0x3030c3,0x0)?chalk['bold']['red'](_0x3030c3+_0x2b65c7(0x1e5))+',\x20':''),_0x1a0f46[_0x2b65c7(0x298)](_0x20fbff,0x0)?chalk[_0x2b65c7(0x292)]['yellow'](_0x20fbff+_0x2b65c7(0x197))+',\x20':''),_0x1a0f46[_0x2b65c7(0x25c)](_0x142843,0x0)?chalk[_0x2b65c7(0x292)][_0x2b65c7(0x28e)](_0x142843+_0x2b65c7(0x1f1))+',\x20':'')+_0x38c510+_0x2b65c7(0x288);console['log'](_0x1a0f46[_0x2b65c7(0x1a3)](_0x1a0f46['fjCkE'](_0x1a0f46[_0x2b65c7(0x1a3)](_0x1a0f46[_0x2b65c7(0x202)](_0x1a0f46[_0x2b65c7(0x1c3)](_0x1a0f46[_0x2b65c7(0x223)],_0x12423f),'\x0a'),_0x45e421),'\x0a'),_0x40e021));if(_0x1a0f46[_0x2b65c7(0x28f)](_0x396145,_0x1a0f46[_0x2b65c7(0x1d2)])){const _0x3f5113={},_0x1a9f2f={};_0x1a9f2f['testSuites']=_0x3b58b2,_0x1a9f2f[_0x2b65c7(0x276)]=_0x332139,_0x1a9f2f[_0x2b65c7(0x1e3)]=_0x3030c3,_0x1a9f2f[_0x2b65c7(0x252)]=_0x142843,_0x1a9f2f[_0x2b65c7(0x201)]=_0x20fbff,_0x3f5113[_0x2b65c7(0x1c5)]=_0x1a9f2f,_0x332139[_0x2b65c7(0x24e)](_0x213725=>{const _0x299d73=_0x2b65c7,_0x170bea={'ttwkF':function(_0x462395,_0x3b3812){const _0x1ca312=a31_0x4f19;return _0x1a0f46[_0x1ca312(0x200)](_0x462395,_0x3b3812);},'UQCho':_0x1a0f46[_0x299d73(0x293)],'ByftR':_0x1a0f46['PsJlD'],'SJeMA':function(_0x2475aa,_0xa0e02b){const _0xe2161a=_0x299d73;return _0x1a0f46[_0xe2161a(0x19f)](_0x2475aa,_0xa0e02b);},'LaQNM':_0x1a0f46[_0x299d73(0x22b)],'PFGMS':_0x1a0f46[_0x299d73(0x1dc)],'YmLoJ':function(_0xba2769,_0x14e8ad){const _0x1d66a4=_0x299d73;return _0x1a0f46[_0x1d66a4(0x1a2)](_0xba2769,_0x14e8ad);},'MzsAL':_0x1a0f46[_0x299d73(0x272)]};_0x3f5113[_0x213725]={'pending':[],'failures':[],'passes':[],'tests':_0x39626a[_0x213725][_0x1a0f46[_0x299d73(0x1fb)]]['map'](clean)},_0x39626a[_0x213725][_0x1a0f46['kOcAb']][_0x299d73(0x24e)](_0x17015e=>{const _0x118190=_0x299d73;if(_0x170bea['ttwkF'](_0x17015e[_0x118190(0x1f5)],_0x170bea['UQCho']))_0x3f5113[_0x213725][_0x170bea[_0x118190(0x28d)]][_0x118190(0x29e)](_0x170bea[_0x118190(0x1eb)](clean,_0x17015e));else _0x170bea[_0x118190(0x1c2)](_0x17015e[_0x118190(0x1f5)],_0x170bea['LaQNM'])?_0x3f5113[_0x213725][_0x170bea[_0x118190(0x1a4)]][_0x118190(0x29e)](_0x170bea[_0x118190(0x1b6)](clean,_0x17015e)):_0x3f5113[_0x213725][_0x170bea['MzsAL']][_0x118190(0x29e)](_0x170bea[_0x118190(0x1b6)](clean,_0x17015e));});});if(_0x56e690[_0x2b65c7(0x267)])try{logger['debug'](_0x1a0f46[_0x2b65c7(0x28b)],_0x56e690['output']),fs[_0x2b65c7(0x26f)](_0x56e690['output'],JSON['stringify'](_0x3f5113,null,0x3));}catch(_0x2ec379){logger[_0x2b65c7(0x1ec)](_0x1a0f46[_0x2b65c7(0x213)],_0x56e690['output']),logger['debug'](_0x2ec379);}else logger[_0x2b65c7(0x1e9)](_0x1a0f46[_0x2b65c7(0x1e6)]),console[_0x2b65c7(0x274)](JSON[_0x2b65c7(0x23d)](_0x3f5113,null,0x3));}else{if(_0x1a0f46[_0x2b65c7(0x28f)](_0x396145,_0x1a0f46[_0x2b65c7(0x294)])){let _0x7a4724;const _0x26b8f1=_0x1a0f46[_0x2b65c7(0x259)];_0x56e690&&(_0x7a4724=_0x56e690[_0x2b65c7(0x19d)]);_0x7a4724=_0x1a0f46['hQnXV'](_0x7a4724,_0x26b8f1);let _0x3c80ef=0x0,_0x3f9cfa=0x0,_0x5cff46=0x0,_0x5aeacf=0x0;_0x332139['forEach'](_0x3ecdcb=>{const _0x52c8e3=_0x2b65c7,_0x4fc814={'pwGVj':function(_0xda2deb,_0x1514ae){const _0x56204c=a31_0x4f19;return _0x1a0f46[_0x56204c(0x200)](_0xda2deb,_0x1514ae);},'dkBMp':_0x1a0f46['ODnxf'],'wCLlt':function(_0x28e16c,_0x1a7d18){const _0x4e0a29=a31_0x4f19;return _0x1a0f46[_0x4e0a29(0x28f)](_0x28e16c,_0x1a7d18);},'sfGOg':_0x1a0f46[_0x52c8e3(0x22b)],'zWJbP':function(_0x27559b,_0x4dcab0){const _0x2dbb3a=_0x52c8e3;return _0x1a0f46[_0x2dbb3a(0x224)](_0x27559b,_0x4dcab0);}};_0x39626a[_0x3ecdcb][_0x1a0f46[_0x52c8e3(0x1fb)]][_0x52c8e3(0x24e)](_0x3061fa=>{const _0x479bb0=_0x52c8e3;if(_0x4fc814[_0x479bb0(0x1f7)](_0x3061fa[_0x479bb0(0x1f5)],_0x4fc814[_0x479bb0(0x21c)]))_0x3c80ef++;else _0x4fc814[_0x479bb0(0x1ac)](_0x3061fa['state'],_0x4fc814[_0x479bb0(0x209)])&&_0x3f9cfa++;_0x5cff46++,_0x5aeacf+=_0x4fc814[_0x479bb0(0x23c)](_0x3061fa[_0x479bb0(0x255)],0x1);});}),_0x1a0f46['YhHCW'](xunitWrite,_0x1a0f46[_0x2b65c7(0x24f)](tag,_0x1a0f46[_0x2b65c7(0x21d)],{'name':_0x7a4724,'tests':_0x5cff46,'failures':0x0,'errors':_0x3f9cfa,'skipped':_0x1a0f46[_0x2b65c7(0x262)](_0x1a0f46['izOXd'](_0x5cff46,_0x3f9cfa),_0x3c80ef),'timestamp':new Date()[_0x2b65c7(0x26a)](),'time':_0x1a0f46[_0x2b65c7(0x210)](_0x5aeacf,0x3e8)||0x0},![])),_0x332139[_0x2b65c7(0x24e)](_0x5225e5=>{const _0x320055=_0x2b65c7;_0x39626a[_0x5225e5][_0x1a0f46[_0x320055(0x1fb)]][_0x320055(0x24e)](_0x3b2f54=>{const _0x37c283=_0x320055;_0x1a0f46[_0x37c283(0x25d)](xunitTest,_0x3b2f54,_0x5225e5);});}),_0x1a0f46['JeuiI'](xunitWrite,_0x1a0f46[_0x2b65c7(0x22e)]);if(_0x56e690[_0x2b65c7(0x267)])try{logger['debug'](_0x1a0f46[_0x2b65c7(0x248)],_0x56e690[_0x2b65c7(0x267)]),fs['writeFileSync'](_0x56e690[_0x2b65c7(0x267)],xunitContent);}catch(_0x356171){logger[_0x2b65c7(0x1ec)](_0x1a0f46[_0x2b65c7(0x27a)],_0x56e690[_0x2b65c7(0x267)]),logger[_0x2b65c7(0x1e9)](_0x356171);}else logger['debug'](_0x1a0f46[_0x2b65c7(0x1b7)]),console[_0x2b65c7(0x274)](xunitContent);}else{if(_0x1a0f46[_0x2b65c7(0x28f)](_0x3030c3,0x0))return;console[_0x2b65c7(0x274)](),logger[_0x2b65c7(0x1e9)](_0x1a0f46['IOzXL']),console[_0x2b65c7(0x274)](chalk[_0x2b65c7(0x292)][_0x2b65c7(0x20d)](_0x1a0f46[_0x2b65c7(0x212)])),_0x332139[_0x2b65c7(0x24e)](_0x39ddaf=>{const _0x4f9008=_0x2b65c7,_0x51cd56=[];_0x39626a[_0x39ddaf][_0x1a0f46[_0x4f9008(0x1fb)]][_0x4f9008(0x24e)](_0x3b8980=>{const _0x34d075=_0x4f9008;_0x1a0f46['RaQxx'](_0x3b8980[_0x34d075(0x1f5)],_0x1a0f46['dbqxM'])&&(_0x3b8980[_0x34d075(0x26e)]=()=>_0x3b8980[_0x34d075(0x1b1)],_0x51cd56[_0x34d075(0x29e)](_0x3b8980));}),_0x1a0f46[_0x4f9008(0x1dd)](_0x51cd56['length'],0x0)&&(Base['consoleLog'](),Base['consoleLog'](_0x1a0f46['cBnpn'](_0x22ff03),chalk[_0x4f9008(0x292)][_0x4f9008(0x217)](_0x39ddaf)),Base['list'](_0x51cd56));});}}}async function run(_0x1c6c20,_0x2222d6,_0x485819){const _0x597230=a31_0x1f3a52,_0x5c1ae8={'VHUDq':function(_0x432708,_0x3142ad,_0x2b2edb,_0x496d79){return _0x432708(_0x3142ad,_0x2b2edb,_0x496d79);},'YNRgk':_0x597230(0x296),'HdGsj':_0x597230(0x27f),'lmpQi':_0x597230(0x250),'bSZqi':function(_0x17fdf3,_0x1dcc9b,_0x555190,_0x39a7cd){return _0x17fdf3(_0x1dcc9b,_0x555190,_0x39a7cd);},'masNZ':_0x597230(0x21a),'BgBhB':function(_0x3d42a1,_0x350d19){return _0x3d42a1!=_0x350d19;},'qJzAm':_0x597230(0x1aa),'jfbrD':_0x597230(0x27d),'yTLyU':_0x597230(0x247),'QNkDK':_0x597230(0x240),'UUvLb':function(_0xfa1b87,_0x3081ef){return _0xfa1b87(_0x3081ef);},'KeuXX':function(_0x43f605,_0x3962e6,_0x4fa341){return _0x43f605(_0x3962e6,_0x4fa341);},'bLzOo':_0x597230(0x1ed),'YihpY':'includeTagsInTestingScope','RuLzJ':_0x597230(0x1c9),'BEqWY':_0x597230(0x1e2),'AQLVh':_0x597230(0x1d0),'ehfkc':_0x597230(0x229),'KKDlc':function(_0x560857,_0x32d35e){return _0x560857*_0x32d35e;},'upAUB':function(_0x1edebd,_0x18a472){return _0x1edebd(_0x18a472);},'aYeMr':function(_0x747b5d,_0x245035){return _0x747b5d!==_0x245035;},'BwfOv':function(_0x13a705,_0x152177,_0x366170,_0x30b2bf){return _0x13a705(_0x152177,_0x366170,_0x30b2bf);}};helper[_0x597230(0x215)](_0x485819['framework'],_0x1c6c20),await _0x485819[_0x597230(0x20c)](_0x1c6c20);helper[_0x597230(0x1d8)]()?await helper[_0x597230(0x199)](_0x485819[_0x597230(0x270)]):await _0x485819[_0x597230(0x1ee)]();const _0x186c85=[];let _0x500894=[];if(!_0x485819['config'])return;!helper[_0x597230(0x1fc)](_0x485819[_0x597230(0x270)][_0x597230(0x2a3)])&&(process[_0x597230(0x268)][_0x597230(0x1c0)]=JSON['stringify'](_0x485819[_0x597230(0x270)]['accessibilityOptions']));const _0x394a3d=await TestHubHandler[_0x597230(0x29f)](FRAMEWORKS[_0x597230(0x260)],_0x485819);_0x5c1ae8[_0x597230(0x24a)](_0x485819[_0x597230(0x270)]['testObservability'],null)&&(process[_0x597230(0x268)][_0x597230(0x235)]=_0x485819['config'][_0x597230(0x280)]);!helper[_0x597230(0x1fc)](_0x485819[_0x597230(0x270)]['accessibility'])&&(process['env'][_0x597230(0x27c)]=_0x485819[_0x597230(0x270)]['accessibility']);const {extension:extension=['js',_0x5c1ae8[_0x597230(0x20b)],_0x5c1ae8[_0x597230(0x1ae)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x5c1ae8['yTLyU']]}=_0x1c6c20,_0x2f0511={..._0x1c6c20};_0x2f0511[_0x597230(0x26c)]=null;const _0xeaf2ef=_0x2f0511;let _0x46f608;if(testOpsHelper[_0x597230(0x245)]()&&testOpsHelper[_0x597230(0x233)]()){let _0x4c64f1=process[_0x597230(0x268)][_0x597230(0x1d6)];!helper[_0x597230(0x1fc)](_0x485819['cliConfig'])&&_0x485819[_0x597230(0x24c)][_0x597230(0x290)](_0x5c1ae8['QNkDK'])&&(_0x4c64f1=_0x485819[_0x597230(0x24c)][_0x597230(0x1a5)](_0x5c1ae8[_0x597230(0x1cb)])),_0x46f608=testOpsHelper[_0x597230(0x299)](_0x4c64f1);}if(helper[_0x597230(0x1fc)](_0x46f608)){const _0x10b3ae={};_0x10b3ae[_0x597230(0x29b)]=ignore,_0x10b3ae[_0x597230(0x26b)]=extension,_0x10b3ae[_0x597230(0x1a6)]=file,_0x10b3ae['recursive']=recursive,_0x10b3ae[_0x597230(0x24b)]=sort,_0x10b3ae[_0x597230(0x21b)]=spec,_0x46f608=_0x5c1ae8['UUvLb'](collectFiles,_0x10b3ae),_0x5c1ae8['KeuXX'](nestedKeyValue,_0x46f608,[_0x5c1ae8[_0x597230(0x1af)]])&&(_0x46f608=_0x46f608[_0x597230(0x1ed)]);}const _0x5e6419=helper[_0x597230(0x28c)](_0x485819[_0x597230(0x270)]);!helper['isEmpty'](_0x5e6419)&&helper[_0x597230(0x249)](_0x5e6419[_0x597230(0x277)])&&(_0xeaf2ef[_0x597230(0x22f)]=_0x5e6419[_0x597230(0x277)][_0x597230(0x281)]);if(!helper['isBrowserstackInfra']()){const _0x24e69a=0x1,_0x2d4384={..._0xeaf2ef};_0x2d4384[_0x597230(0x21b)]=[..._0x46f608],_0x186c85[_0x597230(0x29e)]({'mochaOpts':_0x2d4384,'configuration':{'platform':os[_0x597230(0x289)]()}});if(_0x485819[_0x597230(0x270)]['accessibility']){const _0x410592={};_0x410592['accessibility']=!![];const _0x57ed3c=_0x410592;_0x5c1ae8[_0x597230(0x24a)](_0x485819[_0x597230(0x270)][_0x597230(0x2a3)],null)&&(_0x57ed3c['accessibilityOptions']=_0x485819['config']['accessibilityOptions'],delete _0x57ed3c[_0x597230(0x2a3)][_0x5c1ae8[_0x597230(0x1e4)]],delete _0x57ed3c[_0x597230(0x2a3)][_0x5c1ae8['RuLzJ']],delete _0x57ed3c[_0x597230(0x2a3)][_0x5c1ae8['BEqWY']]);const _0x3f07ac={};_0x3f07ac[_0x597230(0x23a)]=_0x57ed3c,_0x186c85[0x0][_0x597230(0x1a8)]['capability']=_0x3f07ac;}logger['info'](_0x5c1ae8[_0x597230(0x1db)]),logger[_0x597230(0x1b4)](_0x5c1ae8[_0x597230(0x1d9)]),_0x5c1ae8['bSZqi'](parallelTestRun,_0x186c85,_0x24e69a,_0x485819)[_0x597230(0x1d4)](_0x46ac36=>{const _0x2ccc14=_0x597230;PerformanceTester[_0x2ccc14(0x1b8)](PerformanceEvents[_0x2ccc14(0x206)]),_0x5c1ae8[_0x2ccc14(0x241)](printStats,_0x46ac36,_0x1c6c20[_0x2ccc14(0x1c7)],_0x1c6c20[_0x2ccc14(0x242)]||_0x1c6c20[_0x5c1ae8[_0x2ccc14(0x244)]]);})[_0x597230(0x283)](()=>{const _0x494bcb=_0x597230;PerformanceTester[_0x494bcb(0x1b8)](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0x12af4a,tcgConfigPath:_0x38db0b}=helper[_0x494bcb(0x1f8)]();fs[_0x494bcb(0x1a7)](_0x38db0b),fs[_0x494bcb(0x254)](_0x12af4a);}catch(_0x4803aa){logger[_0x494bcb(0x1e9)](_0x5c1ae8[_0x494bcb(0x26d)],_0x4803aa);}try{utilities['fireFunnelTestEvent'](_0x5c1ae8[_0x494bcb(0x228)],{},_0x485819[_0x494bcb(0x270)],_0x485819[_0x494bcb(0x2a5)]);}catch(_0x81d306){logger['debug'](_0x494bcb(0x231)+_0x81d306[_0x494bcb(0x253)]);}try{helper[_0x494bcb(0x1da)]();}catch(_0x28c231){logger[_0x494bcb(0x1e9)]('Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20'+_0x28c231);}testOpsHelper[_0x494bcb(0x222)]();});}else{const _0x52365e=helper[_0x597230(0x1bc)](_0x485819[_0x597230(0x270)]);let _0x5c9c4a=helper[_0x597230(0x258)](_0x485819[_0x597230(0x270)]);_0x500894=helper[_0x597230(0x19c)](_0x485819['config'],_0x52365e,constants[_0x597230(0x19e)][_0x597230(0x260)]);helper[_0x597230(0x275)]()[_0x597230(0x1fe)]&&(_0x5c9c4a=centralScannerConstants['BROWSERSTACK_GRR_US_HUB_URL']);let _0x29d08a;const _0x1b899d=_0x485819[_0x597230(0x270)][_0x597230(0x1cc)]||helper[_0x597230(0x208)](_0x1c6c20,_0x2222d6,_0x485819[_0x597230(0x270)],constants[_0x597230(0x19e)][_0x597230(0x260)])||0x1;helper[_0x597230(0x196)](_0x485819['config'])?_0x29d08a=_0x5c1ae8[_0x597230(0x286)](_0x485819[_0x597230(0x270)]['platforms'][_0x597230(0x27b)],_0x1b899d):_0x29d08a=_0x1b899d;const _0x351946=_0x5c1ae8[_0x597230(0x23e)](getPercyOptions,_0x485819[_0x597230(0x270)]);if(_0x5c1ae8[_0x597230(0x22a)](_0x485819[_0x597230(0x270)]['parallelsPerPlatform'],0x1))_0x46f608[_0x597230(0x24e)](_0x185e8f=>{const _0x675e91=_0x597230,_0x3f4985=[];_0x500894[_0x675e91(0x24e)]((_0x3629fe,_0x92f35)=>{const _0x5b9a17=_0x675e91,_0x585541={};_0x585541[_0x5b9a17(0x21b)]=[_0x185e8f],_0x3f4985[_0x5b9a17(0x29e)]({'mochaOpts':Object[_0x5b9a17(0x1bf)]({},_0xeaf2ef,_0x585541),'configuration':{'server':_0x5c9c4a,'capability':_0x3629fe,'proxySettings':_0x485819['config'][_0x5b9a17(0x23f)],'platform':helper[_0x5b9a17(0x1e7)](_0x3629fe),'browserStackLogLevel':_0x485819['config'][_0x5b9a17(0x204)],'platformIndex':_0x92f35,'browserStackPercyOptions':_0x351946,'platformCaps':Object[_0x5b9a17(0x1bf)]({'index':_0x92f35},_0x485819[_0x5b9a17(0x270)][_0x5b9a17(0x276)][_0x92f35])}});}),_0x186c85[_0x675e91(0x29e)](..._0x3f4985);});else{const _0x44a7bb=[];_0x500894[_0x597230(0x24e)]((_0x5a92fe,_0xebae66)=>{const _0x330446=_0x597230;let _0x517908=Object[_0x330446(0x1bf)]({},_0xeaf2ef);testOpsHelper['isTestObservabilitySession']()&&testOpsHelper[_0x330446(0x233)]()&&(_0x517908={..._0x517908,'spec':[..._0x46f608]}),_0x44a7bb[_0x330446(0x29e)]({'mochaOpts':_0x517908,'configuration':{'server':_0x5c9c4a,'capability':_0x5a92fe,'proxySettings':_0x485819[_0x330446(0x270)][_0x330446(0x23f)],'platform':helper[_0x330446(0x1e7)](_0x5a92fe),'browserStackLogLevel':_0x485819[_0x330446(0x270)][_0x330446(0x204)],'platformIndex':_0xebae66,'browserStackPercyOptions':_0x351946,'platformCaps':Object[_0x330446(0x1bf)]({'index':_0xebae66},_0x485819[_0x330446(0x270)][_0x330446(0x276)][_0xebae66])}});}),_0x186c85[_0x597230(0x29e)](..._0x44a7bb);}logger['info'](_0x597230(0x1ab)+_0x485819['config'][_0x597230(0x276)]['length']+_0x597230(0x198)),logger['info'](_0x5c1ae8[_0x597230(0x1d9)]);let _0x36b587;_0x5c1ae8[_0x597230(0x1fd)](parallelTestRun,_0x186c85,_0x29d08a,_0x485819)[_0x597230(0x1d4)](_0x333eb3=>{const _0x33e29f=_0x597230;PerformanceTester['start'](PerformanceEvents[_0x33e29f(0x206)]),_0x36b587=_0x333eb3,_0x5c1ae8['bSZqi'](printStats,_0x333eb3,_0x1c6c20[_0x33e29f(0x1c7)],_0x1c6c20['reporterOptions']||_0x1c6c20[_0x5c1ae8['YNRgk']]);})[_0x597230(0x283)](async()=>{const _0x5ecaac=_0x597230;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']),_0x485819[_0x5ecaac(0x266)]=helper[_0x5ecaac(0x20f)](_0x36b587,_0x5c1ae8[_0x5ecaac(0x225)]),await utilities[_0x5ecaac(0x239)](_0x485819),testOpsHelper[_0x5ecaac(0x222)]();});}}module[a31_0x1f3a52(0x284)]=run;