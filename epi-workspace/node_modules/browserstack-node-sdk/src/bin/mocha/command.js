#!/usr/bin/env node
'use strict';const a31_0x5cbfb9=a31_0x1511;(function(_0xed5f0e,_0x3526f3){const _0x2063a2=a31_0x1511,_0x38f246=_0xed5f0e();while(!![]){try{const _0x5aebf0=parseInt(_0x2063a2(0x1c4))/0x1+parseInt(_0x2063a2(0x1f6))/0x2+parseInt(_0x2063a2(0x27e))/0x3+parseInt(_0x2063a2(0x26c))/0x4*(parseInt(_0x2063a2(0x213))/0x5)+-parseInt(_0x2063a2(0x21b))/0x6*(-parseInt(_0x2063a2(0x1df))/0x7)+parseInt(_0x2063a2(0x25b))/0x8+parseInt(_0x2063a2(0x265))/0x9*(-parseInt(_0x2063a2(0x1b9))/0xa);if(_0x5aebf0===_0x3526f3)break;else _0x38f246['push'](_0x38f246['shift']());}catch(_0x214796){_0x38f246['push'](_0x38f246['shift']());}}}(a31_0x308e,0x98677));const chalk=require(a31_0x5cbfb9(0x1ef)),logger=require(a31_0x5cbfb9(0x28e))['winstonLogger'],helper=require(a31_0x5cbfb9(0x1c5)),utilities=require('../../helpers/utilities'),testOpsHelper=require(a31_0x5cbfb9(0x296)),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a31_0x5cbfb9(0x1d4)),{requireModule,nestedKeyValue}=require('../../helpers/helper'),{getPercyOptions}=require(a31_0x5cbfb9(0x249)),Base=requireModule(a31_0x5cbfb9(0x22d),'mocha'),collectFiles=requireModule('mocha/lib/cli/collect-files.js',a31_0x5cbfb9(0x234)),constants=require(a31_0x5cbfb9(0x1cb)),PerformanceTester=require(a31_0x5cbfb9(0x1bd)),PerformanceEvents=require(a31_0x5cbfb9(0x259))[a31_0x5cbfb9(0x1ff)],centralScannerConstants=require(a31_0x5cbfb9(0x276)),{FRAMEWORKS}=require(a31_0x5cbfb9(0x223)),TestHubHandler=require(a31_0x5cbfb9(0x26d));function tag(_0x24dbfd,_0x5dcbd0,_0x16cd82,_0x41283c){const _0x31558d=a31_0x5cbfb9,_0x44a42c={'aqNzY':function(_0x37fd98,_0x5c2f7d){return _0x37fd98+_0x5c2f7d;},'vtSDu':function(_0x1e0b83,_0x43b32a){return _0x1e0b83+_0x43b32a;},'WWnDA':function(_0x2f473d,_0x4045f4){return _0x2f473d(_0x4045f4);},'pjdLI':function(_0x549846,_0xfff87e){return _0x549846+_0xfff87e;},'cfuwh':function(_0x15deb7,_0x28c0f5){return _0x15deb7+_0x28c0f5;},'yZRrR':function(_0x24fcd5,_0x34da40){return _0x24fcd5+_0x34da40;},'ezdcp':function(_0x5cfe97,_0x55db84){return _0x5cfe97+_0x55db84;}},_0x36c125=_0x16cd82?'/>':'>',_0x10c458=[];let _0xa94e1a;for(const _0x3b216f in _0x5dcbd0){Object[_0x31558d(0x1a1)][_0x31558d(0x299)][_0x31558d(0x1da)](_0x5dcbd0,_0x3b216f)&&_0x10c458[_0x31558d(0x28c)](_0x44a42c[_0x31558d(0x23e)](_0x44a42c['vtSDu'](_0x44a42c[_0x31558d(0x23e)](_0x3b216f,'=\x22'),_0x44a42c[_0x31558d(0x1f4)](escape,_0x5dcbd0[_0x3b216f])),'\x22'));}return _0xa94e1a=_0x44a42c['pjdLI'](_0x44a42c[_0x31558d(0x1a2)](_0x44a42c[_0x31558d(0x1b0)]('<',_0x24dbfd),_0x10c458[_0x31558d(0x294)]?_0x44a42c[_0x31558d(0x20b)]('\x20',_0x10c458[_0x31558d(0x216)]('\x20')):''),_0x36c125),_0x41283c&&(_0xa94e1a+=_0x44a42c['yZRrR'](_0x44a42c[_0x31558d(0x23e)](_0x44a42c[_0x31558d(0x268)](_0x41283c,'</'),_0x24dbfd),_0x36c125)),_0xa94e1a;}let xunitContent='';function xunitWrite(_0x4c5135){xunitContent+=_0x4c5135;}function xunitTest(_0x463b2d,_0x22a84a){const _0x5af55e=a31_0x5cbfb9,_0x39704f={'FGohb':function(_0x301904,_0x52b3a7){return _0x301904/_0x52b3a7;},'mbiOc':function(_0x5e7cb4,_0x1ed333){return _0x5e7cb4===_0x1ed333;},'BorjG':_0x5af55e(0x22f),'rAGSm':function(_0x4525d0,_0x54d8ae){return _0x4525d0+_0x54d8ae;},'zUyeQ':function(_0x57a436,_0x31ac60){return _0x57a436(_0x31ac60);},'hGcui':function(_0xc0151e,_0x2710e9,_0x3ea4c3,_0x271ccf,_0x23440e){return _0xc0151e(_0x2710e9,_0x3ea4c3,_0x271ccf,_0x23440e);},'rgRll':_0x5af55e(0x214),'qllEQ':function(_0x73e5ea,_0x2a43cf,_0x24f123,_0x248b0c,_0x1ca26a){return _0x73e5ea(_0x2a43cf,_0x24f123,_0x248b0c,_0x1ca26a);},'nCfyf':_0x5af55e(0x20c),'BlqyK':function(_0x55960b,_0x54ab05){return _0x55960b+_0x54ab05;},'kdRsA':function(_0x4316c8,_0x1f187d){return _0x4316c8+_0x1f187d;},'XepfH':function(_0xc3c0f3,_0x3bd70d,_0x2ec1b8,_0x1a469f){return _0xc3c0f3(_0x3bd70d,_0x2ec1b8,_0x1a469f);},'bNsMl':_0x5af55e(0x267),'lSNtB':function(_0x3cd0cd,_0x3e9bcb){return _0x3cd0cd(_0x3e9bcb);}};Base[_0x5af55e(0x278)]=![];var _0xedaac2={'classname':_0x463b2d[_0x5af55e(0x1b5)],'name':_0x463b2d['title'],'time':_0x39704f['FGohb'](_0x463b2d[_0x5af55e(0x1f1)],0x3e8)||0x0,'platform':_0x22a84a};if(_0x39704f[_0x5af55e(0x279)](_0x463b2d[_0x5af55e(0x25f)],_0x39704f[_0x5af55e(0x1d0)])){var _0x1d2a50=_0x463b2d['err'],_0x3d9d90=!Base[_0x5af55e(0x200)]&&Base[_0x5af55e(0x29c)](_0x1d2a50)?_0x39704f[_0x5af55e(0x251)]('\x0a',Base[_0x5af55e(0x1d7)](_0x1d2a50[_0x5af55e(0x23b)],_0x1d2a50[_0x5af55e(0x24a)])):'';_0x39704f[_0x5af55e(0x225)](xunitWrite,_0x39704f[_0x5af55e(0x1c2)](tag,_0x39704f['rgRll'],_0xedaac2,![],_0x39704f[_0x5af55e(0x1f2)](tag,_0x39704f[_0x5af55e(0x1aa)],{},![],_0x39704f['rAGSm'](_0x39704f[_0x5af55e(0x26b)](_0x39704f[_0x5af55e(0x27f)](_0x39704f['zUyeQ'](escape,_0x1d2a50['message']),_0x39704f[_0x5af55e(0x225)](escape,_0x3d9d90)),'\x0a'),_0x39704f[_0x5af55e(0x225)](escape,_0x1d2a50[_0x5af55e(0x1dd)])))));}else _0x463b2d['isPending']?_0x39704f[_0x5af55e(0x225)](xunitWrite,_0x39704f[_0x5af55e(0x1c2)](tag,_0x39704f[_0x5af55e(0x1ba)],_0xedaac2,![],_0x39704f[_0x5af55e(0x25c)](tag,_0x39704f[_0x5af55e(0x1cd)],{},!![]))):_0x39704f[_0x5af55e(0x25a)](xunitWrite,_0x39704f[_0x5af55e(0x25c)](tag,_0x39704f[_0x5af55e(0x1ba)],_0xedaac2,!![]));};function a31_0x1511(_0xfa7077,_0x57cfe2){const _0x308ed4=a31_0x308e();return a31_0x1511=function(_0x151157,_0x30d962){_0x151157=_0x151157-0x1a1;let _0x572f71=_0x308ed4[_0x151157];return _0x572f71;},a31_0x1511(_0xfa7077,_0x57cfe2);}function getStats(_0x258e80){const _0x3d5ec4=a31_0x5cbfb9,_0x410198={};_0x410198['ZvtGQ']=_0x3d5ec4(0x21d),_0x410198['qiRbq']=_0x3d5ec4(0x215),_0x410198[_0x3d5ec4(0x1c7)]='failed',_0x410198[_0x3d5ec4(0x1ae)]=_0x3d5ec4(0x21a);const _0x375d11=_0x410198,_0xf96ef7=Object[_0x3d5ec4(0x1cf)](_0x258e80);let _0x35e9f1=0x0,_0x1f3705=0x0,_0x57f358=0x0,_0xebf4c6=0x0;const _0x1e4fd5=new Set();_0xf96ef7[_0x3d5ec4(0x1a3)](_0x1e1cf3=>{const _0x336bd1=_0x3d5ec4,_0x1a57ae={};_0x1a57ae[_0x336bd1(0x1f3)]=_0x375d11[_0x336bd1(0x1ce)],_0x1a57ae[_0x336bd1(0x280)]=_0x375d11['qiRbq'],_0x1a57ae['MCQLM']=_0x375d11[_0x336bd1(0x1c7)];const _0x4c24a4=_0x1a57ae;_0x258e80[_0x1e1cf3][_0x375d11[_0x336bd1(0x1ae)]][_0x336bd1(0x1a3)](_0x4f1ab0=>{const _0x1d865a=_0x336bd1;_0x1e4fd5[_0x1d865a(0x1d2)](_0x4f1ab0[_0x4c24a4[_0x1d865a(0x1f3)]]),_0x35e9f1++;switch(_0x4f1ab0[_0x1d865a(0x25f)]){case _0x4c24a4[_0x1d865a(0x280)]:_0x57f358++;break;case _0x4c24a4[_0x1d865a(0x1c3)]:_0x1f3705++;break;default:_0xebf4c6++;}});});const _0x1d5db7={};return _0x1d5db7[_0x3d5ec4(0x20e)]=_0x1e4fd5['size'],_0x1d5db7['platforms']=_0xf96ef7,_0x1d5db7[_0x3d5ec4(0x26f)]=_0x35e9f1,_0x1d5db7[_0x3d5ec4(0x295)]=_0x1f3705,_0x1d5db7[_0x3d5ec4(0x1a4)]=_0x57f358,_0x1d5db7[_0x3d5ec4(0x23d)]=_0xebf4c6,_0x1d5db7;}function errorJSON(_0x1f0b0a){const _0x316f23=a31_0x5cbfb9;var _0x30f423={};return Object[_0x316f23(0x1e0)](_0x1f0b0a)[_0x316f23(0x1a3)](function(_0x5c75fb){_0x30f423[_0x5c75fb]=_0x1f0b0a[_0x5c75fb];},_0x1f0b0a),_0x30f423;}function cleanCycles(_0x312d6a){const _0x4aa935=a31_0x5cbfb9,_0xcaecce={};_0xcaecce['fKBEa']=function(_0x41e716,_0x2b0e19){return _0x41e716===_0x2b0e19;},_0xcaecce[_0x4aa935(0x297)]=_0x4aa935(0x1ac),_0xcaecce[_0x4aa935(0x247)]=function(_0x4ef009,_0x2b86b9){return _0x4ef009!==_0x2b86b9;},_0xcaecce[_0x4aa935(0x1fa)]=function(_0x59d618,_0x4d2acc){return _0x59d618!==_0x4d2acc;},_0xcaecce[_0x4aa935(0x1c9)]=function(_0x2a00d2,_0x125dbd){return _0x2a00d2+_0x125dbd;};const _0x2bff99=_0xcaecce;var _0x482b34=[];return JSON[_0x4aa935(0x1f5)](JSON[_0x4aa935(0x277)](_0x312d6a,function(_0x2d210a,_0x2e28f6){const _0x5efe8b=_0x4aa935;if(_0x2bff99[_0x5efe8b(0x237)](typeof _0x2e28f6,_0x2bff99['osKLU'])&&_0x2bff99[_0x5efe8b(0x247)](_0x2e28f6,null)){if(_0x2bff99['LgVYZ'](_0x482b34[_0x5efe8b(0x252)](_0x2e28f6),-0x1))return _0x2bff99['VxCMZ']('',_0x2e28f6);_0x482b34['push'](_0x2e28f6);}return _0x2e28f6;}));}function clean(_0x3d1f6d){const _0x499313=a31_0x5cbfb9,_0x1fd374={'IbRfN':function(_0x30e9e9,_0x2d403e){return _0x30e9e9 instanceof _0x2d403e;},'pbRTa':function(_0x1a0e54,_0x2f7fda){return _0x1a0e54(_0x2f7fda);},'jmHIe':function(_0x116eb2,_0x58fd3c){return _0x116eb2(_0x58fd3c);}};var _0x1e3750=_0x3d1f6d[_0x499313(0x261)]||{};return _0x1fd374[_0x499313(0x235)](_0x1e3750,Error)&&(_0x1e3750=_0x1fd374[_0x499313(0x28a)](errorJSON,_0x1e3750)),{'title':_0x3d1f6d[_0x499313(0x1e6)],'fullTitle':_0x3d1f6d[_0x499313(0x1b5)],'file':_0x3d1f6d[_0x499313(0x253)],'duration':_0x3d1f6d[_0x499313(0x1f1)],'currentRetry':_0x3d1f6d[_0x499313(0x1a8)],'speed':_0x3d1f6d[_0x499313(0x203)],'err':_0x1fd374[_0x499313(0x264)](cleanCycles,_0x1e3750)};}function a31_0x308e(){const _0x1d0e55=['mjs','speed','ijGRM','output','baMRe','LrjHB','errorMessage','setupTCGAuth','reporter','cfuwh','failure','KyoEh','testSuites','\x0a\x0a\x0a','HntVI','lSmLF','FATvP','1512970qRlfAH','testcase','passed','join','error\x20removing\x20tcg\x20config\x20file','Printing\x20stats\x20of\x20tests','logLevel','results','12otfUhI','red','suite','FRAMEWORKS','Writing\x20json\x20result\x20to\x20file','titlePath','mmNIa','getPlatformName','../../helpers/test-observability/constants','tbrNf','zUyeQ','shouldReRunObservabilityTests','\x20failed','then','stats','bold','BROWSERSTACK_GRR_US_HUB_URL','central_scanner','mocha/lib/reporters/base.js','ZTBlt','failed','Writing\x20xunit\x20result\x20to\x20file','qMBWj','mddYH','bgRedBright','mocha','IbRfN','aPCPy','fKBEa','validPlatformsPresent','env','getCentralUser','actual','setUserConfigPath','testsPending','aqNzY','excludeTagsInTestingScope','passes','ldUSS','map','vNXJb','BROWSERSTACK_RERUN_TESTS','LJhKR','finally','rVbit','rYTUq','../../helpers/percy/utils','expected','UPicB','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','configuration','hZfXO','BWRxg','Couldn\x27t\x20write\x20xunit\x20result\x20to','rAGSm','indexOf','file','gqJwZ','aSrmf','Total\x20Suites:\x20','MOCHA','platform','../../helpers/performance/constants','lSNtB','1198400SwXRQq','XepfH','sMDsc','isTestObservabilitySession','state','THWfu','err','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','sGWIO','jmHIe','9351ALanSL','includeTagsInTestingScope','skipped','ezdcp','IJqCP','\x20skipped','BlqyK','4UEVnmZ','../../helpers/testhub/testhubHandler','bCcTv','totalTests','</testsuite>','CsQIw','testsuite','config','finalExecution','SDK_CLEANUP','../../helpers/central-scanner/constants','stringify','useColors','mbiOc','launchBuild','PDRmd','notifyUpdate','BQQRu','2449620eIsvcl','kdRsA','tYdbd','BXvhz','accessibility','test','rerunTests','VXTZz','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','assign','Running\x20your\x20mocha\x20tests','EYigN','pbRTa','exports','push','getHubUrl','../../helpers/logger','retryTestsOnFailure','cliConfig','parallelsPerPlatform','YmzRE','fireFunnelTestEvent','length','testsFailed','../../helpers/test-observability/utils','osKLU','info','hasOwnProperty','XQwCd','testObservability','showDiff','isEmpty','debug','framework','SDKTestSuccessful','reporter-option','green','unlinkSync','prototype','vtSDu','forEach','testsPassed','FmqjP','json','umXpa','currentRetry','exitCode','nCfyf','ignore','object','handleApp','QEPyP','includeEncodedExtension','pjdLI','rRtwC','spec','isUndefined','toUTCString','fullTitle','extension','CrlAy','jhaBh','35410unvBzi','rgRll','proxySettings','log','../../helpers/performance/performance-tester','zOubh','gjYcD','accessibilityOptions','start','hGcui','MCQLM','941849JLKIlG','../../helpers/helper','getTCGConfigFilePaths','zabba','platforms','VxCMZ','aCDVb','../utils/constants','Mocha\x20Tests','bNsMl','ZvtGQ','keys','BorjG','bstack:options','add','****\x20FAILURES\x20****','../test-runner','retries','jUWxt','generateDiff','\x20passed','isBrowserstackInfra','call','parseTestOrchestrationOptions','sCJfK','stack','pjVJW','3500287GCsifm','getOwnPropertyNames','jLkBv','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','has','pending','\x20platforms','title','elVFx','printBuildLink','getErrorMessageFromResults','FIivj','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','BROWSERSTACK_TEST_OBSERVABILITY_YML','VVIZz','ayXBu','chalk','min','duration','qllEQ','rVMiK','WWnDA','parse','2184962cULHYl','bADFN','writeFileSync','files','LgVYZ','DUNfl','consoleLog','zmEdv','error','EVENTS','hideDiff','uvCkx'];a31_0x308e=function(){return _0x1d0e55;};return a31_0x308e();}function printStats(_0x4ce6,_0x899430=a31_0x5cbfb9(0x1b2),_0x5f0b45={}){const _0x432176=a31_0x5cbfb9,_0x159a09={'inaAF':function(_0x5c28c2,_0x5008e7){return _0x5c28c2(_0x5008e7);},'sGWIO':function(_0x44cc4b,_0x111f13){return _0x44cc4b===_0x111f13;},'BWRxg':_0x432176(0x215),'bPXbO':_0x432176(0x240),'sMDsc':function(_0x5d2da3,_0x255d38){return _0x5d2da3(_0x255d38);},'uvCkx':_0x432176(0x22f),'FIivj':'failures','XQwCd':_0x432176(0x1e4),'pjVJW':_0x432176(0x21a),'aPCPy':function(_0x4abecf,_0x521666){return _0x4abecf*_0x521666;},'jwxCI':function(_0x4a74bc,_0x2b911b,_0x2daa54){return _0x4a74bc(_0x2b911b,_0x2daa54);},'zOubh':function(_0x1a0788,_0x384336){return _0x1a0788===_0x384336;},'bADFN':function(_0x30eae5,_0x29066d){return _0x30eae5>_0x29066d;},'mddYH':function(_0x562fd9){return _0x562fd9();},'hZfXO':'doc','THWfu':function(_0x4719d8,_0x252ad5){return _0x4719d8(_0x252ad5);},'HntVI':'Setting\x20non\x20exit\x20code\x20for\x20failures','YmzRE':_0x432176(0x218),'rRtwC':function(_0x58cbe9,_0x195078){return _0x58cbe9+_0x195078;},'CYqEg':'Total\x20Platforms:\x20','LrjHB':_0x432176(0x256),'iqVIc':function(_0x8f05c1,_0x4e48ce){return _0x8f05c1+_0x4e48ce;},'VXTZz':'Tests:\x20\x20\x20\x20\x20\x20\x20','DUNfl':function(_0x4052c4,_0x53527d){return _0x4052c4+_0x53527d;},'HoMzN':function(_0x1895df,_0x158b62){return _0x1895df+_0x158b62;},'FljyP':function(_0x595e97,_0x5ba155){return _0x595e97+_0x5ba155;},'ldUSS':_0x432176(0x20f),'FmqjP':function(_0x2a98c3,_0x18ee60){return _0x2a98c3===_0x18ee60;},'sCJfK':_0x432176(0x1a6),'umXpa':_0x432176(0x21f),'YqiLh':'Couldn\x27t\x20write\x20json\x20result\x20to','UjLnQ':_0x432176(0x24c),'BQQRu':'xunit','KyoEh':_0x432176(0x1cc),'hIilp':function(_0x255aa7,_0x4a3c49){return _0x255aa7||_0x4a3c49;},'zmEdv':function(_0x1140a9,_0x5df0ef){return _0x1140a9(_0x5df0ef);},'baMRe':function(_0x26bfb1,_0xcf2249,_0x5959dc,_0x3b6ecd){return _0x26bfb1(_0xcf2249,_0x5959dc,_0x3b6ecd);},'FATvP':_0x432176(0x272),'BXvhz':function(_0x5b2b40,_0x4ff76a){return _0x5b2b40-_0x4ff76a;},'lnoGv':function(_0x525ce5,_0x3f04fc){return _0x525ce5/_0x3f04fc;},'qMBWj':_0x432176(0x270),'gqJwZ':_0x432176(0x230),'mxhSv':_0x432176(0x250),'LYGbk':_0x432176(0x1eb),'UPicB':function(_0x5627e7,_0x1356b9){return _0x5627e7===_0x1356b9;},'bCcTv':'Listing\x20all\x20the\x20failures','aCDVb':_0x432176(0x1d3)};if(_0x159a09[_0x432176(0x263)](_0x899430,_0x159a09[_0x432176(0x24e)]))return;const _0x41e90f=0x0,_0x446ff4=()=>{const _0x24cb5f=_0x432176;return _0x159a09['inaAF'](Array,_0x41e90f)[_0x24cb5f(0x216)]('\x20\x20');},{testSuites:_0x758c91,platforms:_0x17940f,totalTests:_0x419ea4,testsFailed:_0x348fc8,testsPassed:_0x173b7b,testsPending:_0x1bcfd4}=_0x159a09['THWfu'](getStats,_0x4ce6);_0x159a09[_0x432176(0x1f7)](_0x348fc8,0x0)&&(logger['debug'](_0x159a09[_0x432176(0x210)]),process[_0x432176(0x1a9)]=Math[_0x432176(0x1f0)](_0x348fc8,0xff));logger[_0x432176(0x29e)](_0x159a09[_0x432176(0x292)]);const _0x3ca1ca=''+_0x159a09[_0x432176(0x1b1)](chalk[_0x432176(0x22a)](_0x159a09['CYqEg']),_0x17940f[_0x432176(0x294)]),_0x1a3c8d=''+_0x159a09[_0x432176(0x1b1)](chalk['bold'](_0x159a09[_0x432176(0x207)]),_0x758c91),_0x3a0af6=''+_0x159a09[_0x432176(0x1b1)](_0x159a09[_0x432176(0x1b1)](_0x159a09['iqVIc'](chalk['bold'](_0x159a09[_0x432176(0x285)]),_0x159a09[_0x432176(0x1f7)](_0x348fc8,0x0)?chalk[_0x432176(0x22a)][_0x432176(0x21c)](_0x348fc8+_0x432176(0x227))+',\x20':''),_0x159a09[_0x432176(0x1f7)](_0x1bcfd4,0x0)?chalk['bold']['yellow'](_0x1bcfd4+_0x432176(0x26a))+',\x20':''),_0x159a09['bADFN'](_0x173b7b,0x0)?chalk[_0x432176(0x22a)][_0x432176(0x2a2)](_0x173b7b+_0x432176(0x1d8))+',\x20':'')+_0x419ea4+'\x20total';console[_0x432176(0x1bc)](_0x159a09[_0x432176(0x1fb)](_0x159a09['HoMzN'](_0x159a09['rRtwC'](_0x159a09['FljyP'](_0x159a09['rRtwC'](_0x159a09[_0x432176(0x241)],_0x3ca1ca),'\x0a'),_0x1a3c8d),'\x0a'),_0x3a0af6));if(_0x159a09[_0x432176(0x1a5)](_0x899430,_0x159a09[_0x432176(0x1dc)])){const _0x222af5={},_0x4a8bd6={};_0x4a8bd6['testSuites']=_0x758c91,_0x4a8bd6[_0x432176(0x1c8)]=_0x17940f,_0x4a8bd6[_0x432176(0x295)]=_0x348fc8,_0x4a8bd6['testsPassed']=_0x173b7b,_0x4a8bd6[_0x432176(0x23d)]=_0x1bcfd4,_0x222af5[_0x432176(0x229)]=_0x4a8bd6,_0x17940f['forEach'](_0x402af1=>{const _0x31ff0b=_0x432176;_0x222af5[_0x402af1]={'pending':[],'failures':[],'passes':[],'tests':_0x4ce6[_0x402af1][_0x159a09['pjVJW']][_0x31ff0b(0x242)](clean)},_0x4ce6[_0x402af1][_0x159a09['pjVJW']]['forEach'](_0x2f0e15=>{const _0x46c2e3=_0x31ff0b;if(_0x159a09[_0x46c2e3(0x263)](_0x2f0e15['state'],_0x159a09[_0x46c2e3(0x24f)]))_0x222af5[_0x402af1][_0x159a09['bPXbO']][_0x46c2e3(0x28c)](_0x159a09[_0x46c2e3(0x25d)](clean,_0x2f0e15));else _0x159a09[_0x46c2e3(0x263)](_0x2f0e15[_0x46c2e3(0x25f)],_0x159a09[_0x46c2e3(0x201)])?_0x222af5[_0x402af1][_0x159a09[_0x46c2e3(0x1ea)]][_0x46c2e3(0x28c)](_0x159a09[_0x46c2e3(0x25d)](clean,_0x2f0e15)):_0x222af5[_0x402af1][_0x159a09[_0x46c2e3(0x29a)]][_0x46c2e3(0x28c)](_0x159a09['sMDsc'](clean,_0x2f0e15));});});if(_0x5f0b45['output'])try{logger[_0x432176(0x29e)](_0x159a09[_0x432176(0x1a7)],_0x5f0b45[_0x432176(0x205)]),fs[_0x432176(0x1f8)](_0x5f0b45['output'],JSON[_0x432176(0x277)](_0x222af5,null,0x3));}catch(_0x3db40e){logger['error'](_0x159a09['YqiLh'],_0x5f0b45[_0x432176(0x205)]),logger[_0x432176(0x29e)](_0x3db40e);}else logger[_0x432176(0x29e)](_0x159a09['UjLnQ']),console[_0x432176(0x1bc)](JSON[_0x432176(0x277)](_0x222af5,null,0x3));}else{if(_0x159a09[_0x432176(0x263)](_0x899430,_0x159a09[_0x432176(0x27d)])){let _0x5ec4f6;const _0x44403d=_0x159a09[_0x432176(0x20d)];_0x5f0b45&&(_0x5ec4f6=_0x5f0b45['suiteName']);_0x5ec4f6=_0x159a09['hIilp'](_0x5ec4f6,_0x44403d);let _0x221f63=0x0,_0x3618ea=0x0,_0x1f7e86=0x0,_0x2fc41a=0x0;_0x17940f[_0x432176(0x1a3)](_0x40523b=>{const _0x5df7d5=_0x432176,_0x4dadbd={'lSmLF':function(_0x5e6140,_0x537f40){return _0x159a09['sGWIO'](_0x5e6140,_0x537f40);},'IJqCP':_0x159a09['BWRxg'],'kafsT':function(_0x38cd6a,_0x220547){return _0x159a09['sGWIO'](_0x38cd6a,_0x220547);},'jUWxt':_0x159a09['uvCkx'],'PDRmd':function(_0x14d896,_0x610c80){const _0x3a54df=a31_0x1511;return _0x159a09[_0x3a54df(0x236)](_0x14d896,_0x610c80);}};_0x4ce6[_0x40523b][_0x159a09[_0x5df7d5(0x1de)]][_0x5df7d5(0x1a3)](_0xba2ed4=>{const _0x660c9e=_0x5df7d5;if(_0x4dadbd[_0x660c9e(0x211)](_0xba2ed4[_0x660c9e(0x25f)],_0x4dadbd[_0x660c9e(0x269)]))_0x221f63++;else _0x4dadbd['kafsT'](_0xba2ed4['state'],_0x4dadbd[_0x660c9e(0x1d6)])&&_0x3618ea++;_0x1f7e86++,_0x2fc41a+=_0x4dadbd[_0x660c9e(0x27b)](_0xba2ed4[_0x660c9e(0x1f1)],0x1);});}),_0x159a09[_0x432176(0x1fd)](xunitWrite,_0x159a09[_0x432176(0x206)](tag,_0x159a09[_0x432176(0x212)],{'name':_0x5ec4f6,'tests':_0x1f7e86,'failures':0x0,'errors':_0x3618ea,'skipped':_0x159a09[_0x432176(0x281)](_0x159a09['BXvhz'](_0x1f7e86,_0x3618ea),_0x221f63),'timestamp':new Date()[_0x432176(0x1b4)](),'time':_0x159a09['lnoGv'](_0x2fc41a,0x3e8)||0x0},![])),_0x17940f[_0x432176(0x1a3)](_0x6e9d2d=>{const _0x5554a6=_0x432176;_0x4ce6[_0x6e9d2d][_0x159a09['pjVJW']][_0x5554a6(0x1a3)](_0x11d099=>{_0x159a09['jwxCI'](xunitTest,_0x11d099,_0x6e9d2d);});}),_0x159a09[_0x432176(0x260)](xunitWrite,_0x159a09[_0x432176(0x231)]);if(_0x5f0b45[_0x432176(0x205)])try{logger[_0x432176(0x29e)](_0x159a09[_0x432176(0x254)],_0x5f0b45['output']),fs[_0x432176(0x1f8)](_0x5f0b45['output'],xunitContent);}catch(_0x465e14){logger[_0x432176(0x1fe)](_0x159a09['mxhSv'],_0x5f0b45['output']),logger['debug'](_0x465e14);}else logger[_0x432176(0x29e)](_0x159a09['LYGbk']),console[_0x432176(0x1bc)](xunitContent);}else{if(_0x159a09[_0x432176(0x24b)](_0x348fc8,0x0))return;console[_0x432176(0x1bc)](),logger[_0x432176(0x29e)](_0x159a09[_0x432176(0x26e)]),console['log'](chalk['bold'][_0x432176(0x233)](_0x159a09[_0x432176(0x1ca)])),_0x17940f[_0x432176(0x1a3)](_0xb07b37=>{const _0x27205d=_0x432176,_0x4712a4=[];_0x4ce6[_0xb07b37][_0x159a09['pjVJW']]['forEach'](_0xe88ef8=>{const _0xbf0f98=a31_0x1511;_0x159a09[_0xbf0f98(0x1be)](_0xe88ef8[_0xbf0f98(0x25f)],_0x159a09[_0xbf0f98(0x201)])&&(_0xe88ef8[_0xbf0f98(0x220)]=()=>_0xe88ef8['titlePathV'],_0x4712a4[_0xbf0f98(0x28c)](_0xe88ef8));}),_0x159a09[_0x27205d(0x1f7)](_0x4712a4[_0x27205d(0x294)],0x0)&&(Base[_0x27205d(0x1fc)](),Base[_0x27205d(0x1fc)](_0x159a09[_0x27205d(0x232)](_0x446ff4),chalk[_0x27205d(0x22a)]['bgBlueBright'](_0xb07b37)),Base['list'](_0x4712a4));});}}}async function run(_0x58caf7,_0x589863,_0x2642c4){const _0x3db8b0=a31_0x5cbfb9,_0x11dfa7={'elVFx':function(_0x376126,_0x3cb28b,_0x56e3a4,_0x54d403){return _0x376126(_0x3cb28b,_0x56e3a4,_0x54d403);},'jLkBv':_0x3db8b0(0x2a1),'jhaBh':_0x3db8b0(0x217),'CsQIw':_0x3db8b0(0x2a0),'LJhKR':function(_0x4b7069,_0x2db9cf,_0x2771f7,_0x4a796b){return _0x4b7069(_0x2db9cf,_0x2771f7,_0x4a796b);},'teHPt':_0x3db8b0(0x234),'UxqwB':function(_0x59a1b2,_0xcde748){return _0x59a1b2!=_0xcde748;},'gjYcD':'cjs','rYTUq':_0x3db8b0(0x202),'wUkND':_0x3db8b0(0x283),'VVIZz':_0x3db8b0(0x284),'CrlAy':function(_0x2982b6,_0x374357){return _0x2982b6(_0x374357);},'tbrNf':function(_0x1d7233,_0x47afcf,_0x7f1bb4){return _0x1d7233(_0x47afcf,_0x7f1bb4);},'dmONw':'files','KdRLU':function(_0xd98734,_0x3b3d61){return _0xd98734!=_0x3b3d61;},'vNXJb':_0x3db8b0(0x266),'EYigN':_0x3db8b0(0x23f),'ZTBlt':_0x3db8b0(0x1af),'aSrmf':_0x3db8b0(0x288),'mmNIa':'Now,\x20showing\x20logs\x20from\x20mocha','ayXBu':function(_0x367e2a,_0x367f0f){return _0x367e2a*_0x367f0f;},'ijGRM':function(_0x2a000e,_0x4906c8){return _0x2a000e!==_0x4906c8;}};helper[_0x3db8b0(0x23c)](_0x2642c4[_0x3db8b0(0x29f)],_0x58caf7),await _0x2642c4['initialize'](_0x58caf7);helper[_0x3db8b0(0x1d9)]()?await helper[_0x3db8b0(0x1ad)](_0x2642c4['config']):await _0x2642c4[_0x3db8b0(0x209)]();const _0x38e78a=[];let _0x52ad9d=[];if(!_0x2642c4[_0x3db8b0(0x273)])return;!helper['isUndefined'](_0x2642c4['config']['accessibilityOptions'])&&(process[_0x3db8b0(0x239)][_0x3db8b0(0x1e2)]=JSON[_0x3db8b0(0x277)](_0x2642c4['config'][_0x3db8b0(0x1c0)]));const _0x4db9be=await TestHubHandler[_0x3db8b0(0x27a)](FRAMEWORKS[_0x3db8b0(0x257)],_0x2642c4);_0x11dfa7['UxqwB'](_0x2642c4[_0x3db8b0(0x273)][_0x3db8b0(0x29b)],null)&&(process[_0x3db8b0(0x239)][_0x3db8b0(0x1ec)]=_0x2642c4[_0x3db8b0(0x273)][_0x3db8b0(0x29b)]);!helper[_0x3db8b0(0x1b3)](_0x2642c4[_0x3db8b0(0x273)]['accessibility'])&&(process['env']['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x2642c4[_0x3db8b0(0x273)]['accessibility']);const {extension:extension=['js',_0x11dfa7[_0x3db8b0(0x1bf)],_0x11dfa7[_0x3db8b0(0x248)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x11dfa7['wUkND']]}=_0x58caf7,_0x19cb4a={..._0x58caf7};_0x19cb4a['rootHooks']=null;const _0x3250ab=_0x19cb4a;let _0x5ba28d;if(testOpsHelper[_0x3db8b0(0x25e)]()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0x31ddf2=process[_0x3db8b0(0x239)][_0x3db8b0(0x244)];!helper['isUndefined'](_0x2642c4['cliConfig'])&&_0x2642c4[_0x3db8b0(0x290)][_0x3db8b0(0x1e3)](_0x11dfa7[_0x3db8b0(0x1ed)])&&(_0x31ddf2=_0x2642c4[_0x3db8b0(0x290)]['get'](_0x11dfa7[_0x3db8b0(0x1ed)])),_0x5ba28d=testOpsHelper['parseFileNames'](_0x31ddf2);}if(helper[_0x3db8b0(0x1b3)](_0x5ba28d)){const _0x48f233={};_0x48f233[_0x3db8b0(0x1ab)]=ignore,_0x48f233[_0x3db8b0(0x1b6)]=extension,_0x48f233[_0x3db8b0(0x253)]=file,_0x48f233['recursive']=recursive,_0x48f233['sort']=sort,_0x48f233[_0x3db8b0(0x1b2)]=spec,_0x5ba28d=_0x11dfa7[_0x3db8b0(0x1b7)](collectFiles,_0x48f233),_0x11dfa7[_0x3db8b0(0x224)](nestedKeyValue,_0x5ba28d,[_0x11dfa7['dmONw']])&&(_0x5ba28d=_0x5ba28d[_0x3db8b0(0x1f9)]);}const _0x36b82c=helper[_0x3db8b0(0x1db)](_0x2642c4[_0x3db8b0(0x273)]);!helper[_0x3db8b0(0x29d)](_0x36b82c)&&helper['isNotUndefined'](_0x36b82c[_0x3db8b0(0x28f)])&&(_0x3250ab[_0x3db8b0(0x1d5)]=_0x36b82c['retryTestsOnFailure']['maxRetries']);if(!helper[_0x3db8b0(0x1d9)]()){const _0xf78735=0x1,_0x5080fd={..._0x3250ab};_0x5080fd['spec']=[..._0x5ba28d],_0x38e78a[_0x3db8b0(0x28c)]({'mochaOpts':_0x5080fd,'configuration':{'platform':os[_0x3db8b0(0x258)]()}});if(_0x2642c4['config']['accessibility']){const _0x447e35={};_0x447e35[_0x3db8b0(0x282)]=!![];const _0x17faf4=_0x447e35;_0x11dfa7['KdRLU'](_0x2642c4[_0x3db8b0(0x273)][_0x3db8b0(0x1c0)],null)&&(_0x17faf4[_0x3db8b0(0x1c0)]=_0x2642c4['config'][_0x3db8b0(0x1c0)],delete _0x17faf4['accessibilityOptions'][_0x11dfa7[_0x3db8b0(0x243)]],delete _0x17faf4[_0x3db8b0(0x1c0)][_0x11dfa7[_0x3db8b0(0x289)]],delete _0x17faf4['accessibilityOptions'][_0x11dfa7[_0x3db8b0(0x22e)]]);const _0x50e6bb={};_0x50e6bb[_0x3db8b0(0x1d1)]=_0x17faf4,_0x38e78a[0x0][_0x3db8b0(0x24d)]['capability']=_0x50e6bb;}logger[_0x3db8b0(0x298)](_0x11dfa7[_0x3db8b0(0x255)]),logger[_0x3db8b0(0x298)](_0x11dfa7[_0x3db8b0(0x221)]),_0x11dfa7[_0x3db8b0(0x1e7)](parallelTestRun,_0x38e78a,_0xf78735,_0x2642c4)[_0x3db8b0(0x228)](_0x5848fe=>{const _0x30b16f=_0x3db8b0;PerformanceTester['start'](PerformanceEvents['SDK_CLEANUP']),_0x11dfa7[_0x30b16f(0x1e7)](printStats,_0x5848fe,_0x58caf7[_0x30b16f(0x20a)],_0x58caf7['reporterOptions']||_0x58caf7[_0x11dfa7['jLkBv']]);})[_0x3db8b0(0x246)](()=>{const _0x58c96a=_0x3db8b0;PerformanceTester[_0x58c96a(0x1c1)](PerformanceEvents[_0x58c96a(0x275)]);try{const {browserstackFolderPath:_0x432638,tcgConfigPath:_0x4d1cb0}=helper[_0x58c96a(0x1c6)]();fs[_0x58c96a(0x2a3)](_0x4d1cb0),fs['rmdirSync'](_0x432638);}catch(_0x1c0ad2){logger[_0x58c96a(0x29e)](_0x11dfa7[_0x58c96a(0x1b8)],_0x1c0ad2);}try{utilities[_0x58c96a(0x293)](_0x11dfa7[_0x58c96a(0x271)],{},_0x2642c4[_0x58c96a(0x273)],_0x2642c4[_0x58c96a(0x29f)]);}catch(_0x1c25d5){logger[_0x58c96a(0x29e)](_0x58c96a(0x262)+_0x1c25d5[_0x58c96a(0x1dd)]);}try{helper[_0x58c96a(0x27c)]();}catch(_0x163c60){logger[_0x58c96a(0x29e)](_0x58c96a(0x286)+_0x163c60);}testOpsHelper[_0x58c96a(0x1e8)]();});}else{const _0x4fceab=helper['useW3C'](_0x2642c4[_0x3db8b0(0x273)]);let _0x11b6e7=helper[_0x3db8b0(0x28d)](_0x2642c4[_0x3db8b0(0x273)]);_0x52ad9d=helper['prepareCapabilities'](_0x2642c4[_0x3db8b0(0x273)],_0x4fceab,constants[_0x3db8b0(0x21e)][_0x3db8b0(0x257)]);helper[_0x3db8b0(0x23a)]()[_0x3db8b0(0x22c)]&&(_0x11b6e7=centralScannerConstants[_0x3db8b0(0x22b)]);let _0x576473;const _0x56ebb4=_0x2642c4['config'][_0x3db8b0(0x291)]||helper['getUserWorkerCount'](_0x58caf7,_0x589863,_0x2642c4[_0x3db8b0(0x273)],constants[_0x3db8b0(0x21e)][_0x3db8b0(0x257)])||0x1;helper[_0x3db8b0(0x238)](_0x2642c4[_0x3db8b0(0x273)])?_0x576473=_0x11dfa7[_0x3db8b0(0x1ee)](_0x2642c4[_0x3db8b0(0x273)][_0x3db8b0(0x1c8)][_0x3db8b0(0x294)],_0x56ebb4):_0x576473=_0x56ebb4;const _0x3e94da=_0x11dfa7[_0x3db8b0(0x1b7)](getPercyOptions,_0x2642c4[_0x3db8b0(0x273)]);if(_0x11dfa7[_0x3db8b0(0x204)](_0x2642c4[_0x3db8b0(0x273)]['parallelsPerPlatform'],0x1))_0x5ba28d[_0x3db8b0(0x1a3)](_0x2d36f4=>{const _0x46bb6e=_0x3db8b0,_0x1ced23=[];_0x52ad9d[_0x46bb6e(0x1a3)]((_0x607d0,_0x2ffff8)=>{const _0x32e6cb=_0x46bb6e,_0xf6822f={};_0xf6822f['spec']=[_0x2d36f4],_0x1ced23[_0x32e6cb(0x28c)]({'mochaOpts':Object[_0x32e6cb(0x287)]({},_0x3250ab,_0xf6822f),'configuration':{'server':_0x11b6e7,'capability':_0x607d0,'proxySettings':_0x2642c4[_0x32e6cb(0x273)][_0x32e6cb(0x1bb)],'platform':helper[_0x32e6cb(0x222)](_0x607d0),'browserStackLogLevel':_0x2642c4[_0x32e6cb(0x273)][_0x32e6cb(0x219)],'platformIndex':_0x2ffff8,'browserStackPercyOptions':_0x3e94da,'platformCaps':Object[_0x32e6cb(0x287)]({'index':_0x2ffff8},_0x2642c4[_0x32e6cb(0x273)]['platforms'][_0x2ffff8])}});}),_0x38e78a[_0x46bb6e(0x28c)](..._0x1ced23);});else{const _0x2d9f4e=[];_0x52ad9d['forEach']((_0x178dfd,_0x4305de)=>{const _0x42ed57=_0x3db8b0;let _0x1b60b7=Object[_0x42ed57(0x287)]({},_0x3250ab);testOpsHelper[_0x42ed57(0x25e)]()&&testOpsHelper[_0x42ed57(0x226)]()&&(_0x1b60b7={..._0x1b60b7,'spec':[..._0x5ba28d]}),_0x2d9f4e[_0x42ed57(0x28c)]({'mochaOpts':_0x1b60b7,'configuration':{'server':_0x11b6e7,'capability':_0x178dfd,'proxySettings':_0x2642c4[_0x42ed57(0x273)][_0x42ed57(0x1bb)],'platform':helper['getPlatformName'](_0x178dfd),'browserStackLogLevel':_0x2642c4[_0x42ed57(0x273)]['logLevel'],'platformIndex':_0x4305de,'browserStackPercyOptions':_0x3e94da,'platformCaps':Object[_0x42ed57(0x287)]({'index':_0x4305de},_0x2642c4['config'][_0x42ed57(0x1c8)][_0x4305de])}});}),_0x38e78a[_0x3db8b0(0x28c)](..._0x2d9f4e);}logger[_0x3db8b0(0x298)]('Running\x20your\x20mocha\x20tests\x20across\x20'+_0x2642c4[_0x3db8b0(0x273)][_0x3db8b0(0x1c8)][_0x3db8b0(0x294)]+_0x3db8b0(0x1e5)),logger[_0x3db8b0(0x298)](_0x11dfa7[_0x3db8b0(0x221)]);let _0x13dd95;_0x11dfa7[_0x3db8b0(0x245)](parallelTestRun,_0x38e78a,_0x576473,_0x2642c4)[_0x3db8b0(0x228)](_0x1b77c9=>{const _0x43e224=_0x3db8b0;PerformanceTester['start'](PerformanceEvents[_0x43e224(0x275)]),_0x13dd95=_0x1b77c9,_0x11dfa7[_0x43e224(0x245)](printStats,_0x1b77c9,_0x58caf7[_0x43e224(0x20a)],_0x58caf7['reporterOptions']||_0x58caf7[_0x11dfa7[_0x43e224(0x1e1)]]);})[_0x3db8b0(0x246)](async()=>{const _0x474694=_0x3db8b0;PerformanceTester[_0x474694(0x1c1)](PerformanceEvents[_0x474694(0x275)]),_0x2642c4[_0x474694(0x208)]=helper[_0x474694(0x1e9)](_0x13dd95,_0x11dfa7['teHPt']),await utilities[_0x474694(0x274)](_0x2642c4),testOpsHelper['printBuildLink']();});}}module[a31_0x5cbfb9(0x28b)]=run;