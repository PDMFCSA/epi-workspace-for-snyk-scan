#!/usr/bin/env node
'use strict';const a33_0xfe1686=a33_0x384a;function a33_0x384a(_0x2c8b48,_0x3cee4b){const _0x357761=a33_0x3577();return a33_0x384a=function(_0x384a23,_0x4a4dc2){_0x384a23=_0x384a23-0x79;let _0x19a69b=_0x357761[_0x384a23];return _0x19a69b;},a33_0x384a(_0x2c8b48,_0x3cee4b);}(function(_0x5401dc,_0x5f2561){const _0x51821f=a33_0x384a,_0x4394b0=_0x5401dc();while(!![]){try{const _0x69889d=parseInt(_0x51821f(0x89))/0x1+parseInt(_0x51821f(0xdb))/0x2+parseInt(_0x51821f(0xae))/0x3*(parseInt(_0x51821f(0x92))/0x4)+-parseInt(_0x51821f(0x8a))/0x5*(parseInt(_0x51821f(0x9e))/0x6)+parseInt(_0x51821f(0xc5))/0x7+parseInt(_0x51821f(0x96))/0x8+-parseInt(_0x51821f(0x16a))/0x9;if(_0x69889d===_0x5f2561)break;else _0x4394b0['push'](_0x4394b0['shift']());}catch(_0x1501cc){_0x4394b0['push'](_0x4394b0['shift']());}}}(a33_0x3577,0x2a94e));const chalk=require('chalk'),logger=require(a33_0xfe1686(0x137))[a33_0xfe1686(0x81)],helper=require(a33_0xfe1686(0xc3)),utilities=require(a33_0xfe1686(0x8f)),testOpsHelper=require(a33_0xfe1686(0x166)),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a33_0xfe1686(0x12b)),{requireModule,nestedKeyValue}=require('../../helpers/helper'),{getPercyOptions}=require(a33_0xfe1686(0x103)),Base=requireModule(a33_0xfe1686(0x164),a33_0xfe1686(0xcd)),collectFiles=requireModule(a33_0xfe1686(0x88),'mocha'),constants=require(a33_0xfe1686(0xa1)),PerformanceTester=require(a33_0xfe1686(0xad)),PerformanceEvents=require(a33_0xfe1686(0x112))[a33_0xfe1686(0x101)],centralScannerConstants=require(a33_0xfe1686(0x99)),{FRAMEWORKS}=require(a33_0xfe1686(0xd4)),TestHubHandler=require(a33_0xfe1686(0x16e));function tag(_0x2d2ff5,_0x56d13d,_0x4f39ba,_0x1c32b4){const _0xca90ae=a33_0xfe1686,_0x5e7a85={'REDjT':function(_0x4ef97e,_0x467120){return _0x4ef97e+_0x467120;},'JDIGd':function(_0x5d7950,_0x4227bd){return _0x5d7950+_0x4227bd;},'LwYBJ':function(_0x3921bf,_0x16a83b){return _0x3921bf(_0x16a83b);},'rNAIR':function(_0x9cd70e,_0x1386a7){return _0x9cd70e+_0x1386a7;},'hcpUM':function(_0x429f5f,_0x5db13d){return _0x429f5f+_0x5db13d;},'vKsOG':function(_0x2e2a64,_0x4a2391){return _0x2e2a64+_0x4a2391;},'eGKhN':function(_0x6ff74d,_0x4cd6c1){return _0x6ff74d+_0x4cd6c1;}},_0x4bb281=_0x4f39ba?'/>':'>',_0x1a3d62=[];let _0x39b888;for(const _0x46ed15 in _0x56d13d){Object[_0xca90ae(0x160)][_0xca90ae(0x128)][_0xca90ae(0x149)](_0x56d13d,_0x46ed15)&&_0x1a3d62[_0xca90ae(0x109)](_0x5e7a85[_0xca90ae(0xdc)](_0x5e7a85['JDIGd'](_0x5e7a85[_0xca90ae(0xdc)](_0x46ed15,'=\x22'),_0x5e7a85[_0xca90ae(0x140)](escape,_0x56d13d[_0x46ed15])),'\x22'));}return _0x39b888=_0x5e7a85[_0xca90ae(0xe4)](_0x5e7a85[_0xca90ae(0x12a)](_0x5e7a85[_0xca90ae(0x105)]('<',_0x2d2ff5),_0x1a3d62[_0xca90ae(0x156)]?_0x5e7a85[_0xca90ae(0x15d)]('\x20',_0x1a3d62[_0xca90ae(0x13f)]('\x20')):''),_0x4bb281),_0x1c32b4&&(_0x39b888+=_0x5e7a85['REDjT'](_0x5e7a85[_0xca90ae(0xc6)](_0x5e7a85[_0xca90ae(0x12a)](_0x1c32b4,'</'),_0x2d2ff5),_0x4bb281)),_0x39b888;}let xunitContent='';function xunitWrite(_0x966e22){xunitContent+=_0x966e22;}function xunitTest(_0xc14688,_0x4462e2){const _0x30579c=a33_0xfe1686,_0x1be518={'KpCqO':function(_0xbc022d,_0x300d63){return _0xbc022d/_0x300d63;},'CAvYu':function(_0x306937,_0x170aa6){return _0x306937===_0x170aa6;},'xoUKx':_0x30579c(0xbb),'KAgSX':function(_0x6c2ac3,_0x1caaf5){return _0x6c2ac3+_0x1caaf5;},'mFjZO':function(_0x360aeb,_0xcfb627){return _0x360aeb(_0xcfb627);},'pWNgV':function(_0x1adae4,_0x333591,_0x19b6d7,_0x319532,_0x3016ef){return _0x1adae4(_0x333591,_0x19b6d7,_0x319532,_0x3016ef);},'fXhfZ':_0x30579c(0x165),'fVHFU':_0x30579c(0xf3),'isRAh':function(_0x223c1e,_0x2d2762){return _0x223c1e+_0x2d2762;},'dtNXo':function(_0x21eb9b,_0x5f0d8b){return _0x21eb9b+_0x5f0d8b;},'Wnobx':function(_0x284ed9,_0x1d20de){return _0x284ed9+_0x1d20de;},'vpUVl':function(_0x108958,_0x20fad2){return _0x108958(_0x20fad2);},'xfuuq':function(_0x31278f,_0x56a24b){return _0x31278f(_0x56a24b);},'iAXSl':function(_0x2e15ba,_0x26e7cf,_0x5c59e1,_0x3f069a){return _0x2e15ba(_0x26e7cf,_0x5c59e1,_0x3f069a);},'RXudQ':'skipped','egyGX':function(_0x3de98b,_0x1141d7){return _0x3de98b(_0x1141d7);}};Base[_0x30579c(0x11b)]=![];var _0x1a99a2={'classname':_0xc14688['fullTitle'],'name':_0xc14688[_0x30579c(0xd0)],'time':_0x1be518[_0x30579c(0xc0)](_0xc14688[_0x30579c(0xde)],0x3e8)||0x0,'platform':_0x4462e2};if(_0x1be518[_0x30579c(0xd5)](_0xc14688['state'],_0x1be518[_0x30579c(0x124)])){var _0x2961ba=_0xc14688['err'],_0x3332ea=!Base['hideDiff']&&Base['showDiff'](_0x2961ba)?_0x1be518['KAgSX']('\x0a',Base[_0x30579c(0x91)](_0x2961ba[_0x30579c(0x98)],_0x2961ba[_0x30579c(0x122)])):'';_0x1be518[_0x30579c(0x102)](xunitWrite,_0x1be518[_0x30579c(0xdf)](tag,_0x1be518['fXhfZ'],_0x1a99a2,![],_0x1be518[_0x30579c(0xdf)](tag,_0x1be518[_0x30579c(0x7b)],{},![],_0x1be518['isRAh'](_0x1be518['dtNXo'](_0x1be518[_0x30579c(0x131)](_0x1be518[_0x30579c(0x102)](escape,_0x2961ba[_0x30579c(0xa0)]),_0x1be518['mFjZO'](escape,_0x3332ea)),'\x0a'),_0x1be518[_0x30579c(0x169)](escape,_0x2961ba[_0x30579c(0xf0)])))));}else _0xc14688[_0x30579c(0xab)]?_0x1be518[_0x30579c(0x115)](xunitWrite,_0x1be518['pWNgV'](tag,_0x1be518['fXhfZ'],_0x1a99a2,![],_0x1be518[_0x30579c(0xa5)](tag,_0x1be518[_0x30579c(0xfc)],{},!![]))):_0x1be518[_0x30579c(0x136)](xunitWrite,_0x1be518[_0x30579c(0xa5)](tag,_0x1be518[_0x30579c(0x7c)],_0x1a99a2,!![]));};function getStats(_0x48e7f7){const _0x407369=a33_0xfe1686,_0x2b1f07={};_0x2b1f07[_0x407369(0x145)]='suite',_0x2b1f07[_0x407369(0x110)]='passed',_0x2b1f07[_0x407369(0x142)]=_0x407369(0xbb),_0x2b1f07[_0x407369(0xf8)]=_0x407369(0xdd);const _0x387fc8=_0x2b1f07,_0x392e80=Object['keys'](_0x48e7f7);let _0x4cee0f=0x0,_0x2303b6=0x0,_0x1365d9=0x0,_0x50af9a=0x0;const _0x124856=new Set();_0x392e80[_0x407369(0x10c)](_0x4ad18e=>{const _0x5a79d6=_0x407369,_0x2013d8={};_0x2013d8[_0x5a79d6(0xc2)]=_0x387fc8[_0x5a79d6(0x145)],_0x2013d8['gqpsr']=_0x387fc8[_0x5a79d6(0x110)],_0x2013d8[_0x5a79d6(0xe6)]=_0x387fc8[_0x5a79d6(0x142)];const _0x4467b2=_0x2013d8;_0x48e7f7[_0x4ad18e][_0x387fc8[_0x5a79d6(0xf8)]][_0x5a79d6(0x10c)](_0x548b27=>{const _0x45435e=_0x5a79d6;_0x124856['add'](_0x548b27[_0x4467b2[_0x45435e(0xc2)]]),_0x4cee0f++;switch(_0x548b27[_0x45435e(0x9d)]){case _0x4467b2[_0x45435e(0xc8)]:_0x1365d9++;break;case _0x4467b2[_0x45435e(0xe6)]:_0x2303b6++;break;default:_0x50af9a++;}});});const _0x151497={};return _0x151497[_0x407369(0xf7)]=_0x124856[_0x407369(0x148)],_0x151497['platforms']=_0x392e80,_0x151497['totalTests']=_0x4cee0f,_0x151497[_0x407369(0xb4)]=_0x2303b6,_0x151497['testsPassed']=_0x1365d9,_0x151497[_0x407369(0xa8)]=_0x50af9a,_0x151497;}function errorJSON(_0x4a25df){const _0x4d6043=a33_0xfe1686;var _0x5e00da={};return Object['getOwnPropertyNames'](_0x4a25df)[_0x4d6043(0x10c)](function(_0x27c74a){_0x5e00da[_0x27c74a]=_0x4a25df[_0x27c74a];},_0x4a25df),_0x5e00da;}function a33_0x3577(){const _0x106a2a=['Wnobx','xlhiQ','BROWSERSTACK_TEST_OBSERVABILITY_YML','MlevD','Bkzfm','egyGX','../../helpers/logger','min','sAukJ','reporter-option','logLevel','OMiAU','validPlatformsPresent','RnDJa','join','LwYBJ','unlinkSync','XIrOR','stringify','Running\x20your\x20mocha\x20tests','SNICl','error','DdbHE','size','call','</testsuite>','sXzEc','PfSXv','Writing\x20json\x20result\x20to\x20file','get','green','passed','FRAMEWORKS','proxySettings','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','getPlatformName','luwQS','length','cliConfig','ymFmW','printBuildLink','bgRedBright','eyVjS','QNBaz','eGKhN','config','log','prototype','getHubUrl','MOCHA','****\x20FAILURES\x20****','mocha/lib/reporters/base.js','testcase','../../helpers/test-observability/utils','zuDIs','setUserConfigPath','vpUVl','4838598CBWcRZ','DDbwu','COowj','error\x20removing\x20tcg\x20config\x20file','../../helpers/testhub/testhubHandler','RjAoA','Gyogf','accessibility','SDKTestSuccessful','speed','dTCyR','fullTitle','yIjxh','PSQFg','ksQbs','fVHFU','fXhfZ','configuration','TdYQt','isBrowserstackInfra','object','winstonLogger','suiteName','TsxFk','TooAh','bold','Now,\x20showing\x20logs\x20from\x20mocha','platform','mocha/lib/cli/collect-files.js','87340khbvfp','207910HUvlAU','platforms','\x20failed','env','BROWSERSTACK_TEST_ACCESSIBILITY_YML','../../helpers/utilities','SDK_CLEANUP','generateDiff','44qobXeF','vNQDE','kPBWY','exitCode','1435040UpjBxL','KCnna','actual','../../helpers/central-scanner/constants','eCEOa','reporter','titlePath','state','6WsIOnB','zQuCj','message','../utils/constants','finally','gEQPG','\x20skipped','iAXSl','pFjYo','WbKFt','testsPending','Printing\x20stats\x20of\x20tests','VDpKv','isPending','parseTestOrchestrationOptions','../../helpers/performance/performance-tester','89703fRHJLL','toUTCString','SyZTr','assign','central_scanner','uafvi','testsFailed','getUserWorkerCount','parseFileNames','fIBba','testsuite','OmSGj','cjs','failed','isNotUndefined','testObservability','Couldn\x27t\x20write\x20xunit\x20result\x20to','YSyrm','KpCqO','iVCgL','WXOiE','../../helpers/helper','utUPt','843542eRWtPZ','JDIGd','tqZxf','gqpsr','oOOPf','LkxPu','framework','NFvkb','mocha','fireFunnelTestEvent','Total\x20Platforms:\x20','title','YTjYk','list','setupTCGAuth','../../helpers/test-observability/constants','CAvYu','JNOsT','debug','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','spec','FTQYV','74962pHwWgL','REDjT','results','duration','pWNgV','MERCG','maxRetries','\x20passed','shouldReRunObservabilityTests','rNAIR','xIUpe','ZDpzH','errorMessage','EcOeE','hSwso','raOkA','KqBry','UWXvg','qQfZg','Listing\x20all\x20the\x20failures','VuorD','stack','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','passes','failure','reporterOptions','start','sGGMr','testSuites','sogCM','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','srwDe','extension','RXudQ','SEVbv','isUndefined','accessibilityOptions','output','EVENTS','mFjZO','../../helpers/percy/utils','then','vKsOG','consoleLog','Writing\x20xunit\x20result\x20to\x20file','Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20','push','bstack:options','info','forEach','zBqHQ','test','Total\x20Suites:\x20','pcnsp','useW3C','../../helpers/performance/constants','parallelsPerPlatform','writeFileSync','xfuuq','initialize','getCentralUser','YIkRV','jXvRZ','indexOf','useColors','nJGem','WroIQ','json','SkiyI','TwCzt','xQnhG','expected','err','xoUKx','retryTestsOnFailure','handleApp','VJDvu','hasOwnProperty','file','hcpUM','../test-runner','isTestObservabilitySession','PyKHn','Cbjsz','GNTbq','prepareCapabilities'];a33_0x3577=function(){return _0x106a2a;};return a33_0x3577();}function cleanCycles(_0x38c7a5){const _0x49f15b=a33_0xfe1686,_0x2be97f={};_0x2be97f[_0x49f15b(0xc9)]=function(_0x164fa9,_0x1f7262){return _0x164fa9===_0x1f7262;},_0x2be97f[_0x49f15b(0xca)]=_0x49f15b(0x80),_0x2be97f['PSQFg']=function(_0x3ae6c1,_0xd04ed9){return _0x3ae6c1!==_0xd04ed9;},_0x2be97f[_0x49f15b(0x139)]=function(_0x1d8f15,_0x39f4ba){return _0x1d8f15+_0x39f4ba;};const _0x101be6=_0x2be97f;var _0x25875c=[];return JSON['parse'](JSON['stringify'](_0x38c7a5,function(_0x4699e2,_0x153d90){const _0x2051d8=_0x49f15b;if(_0x101be6[_0x2051d8(0xc9)](typeof _0x153d90,_0x101be6[_0x2051d8(0xca)])&&_0x101be6[_0x2051d8(0x79)](_0x153d90,null)){if(_0x101be6[_0x2051d8(0x79)](_0x25875c[_0x2051d8(0x11a)](_0x153d90),-0x1))return _0x101be6[_0x2051d8(0x139)]('',_0x153d90);_0x25875c[_0x2051d8(0x109)](_0x153d90);}return _0x153d90;}));}function clean(_0x3ac0b3){const _0x5cb56f=a33_0xfe1686,_0x4cba41={'TwCzt':function(_0x481020,_0x1e1ec2){return _0x481020 instanceof _0x1e1ec2;},'RnDJa':function(_0x244dfe,_0x34326c){return _0x244dfe(_0x34326c);},'SElNZ':function(_0x2c58b7,_0x127808){return _0x2c58b7(_0x127808);}};var _0x21dcd9=_0x3ac0b3[_0x5cb56f(0x123)]||{};return _0x4cba41[_0x5cb56f(0x120)](_0x21dcd9,Error)&&(_0x21dcd9=_0x4cba41[_0x5cb56f(0x13e)](errorJSON,_0x21dcd9)),{'title':_0x3ac0b3[_0x5cb56f(0xd0)],'fullTitle':_0x3ac0b3[_0x5cb56f(0x175)],'file':_0x3ac0b3[_0x5cb56f(0x129)],'duration':_0x3ac0b3['duration'],'currentRetry':_0x3ac0b3['currentRetry'],'speed':_0x3ac0b3[_0x5cb56f(0x173)],'err':_0x4cba41['SElNZ'](cleanCycles,_0x21dcd9)};}function printStats(_0x34b508,_0x35c4d2=a33_0xfe1686(0xd9),_0x21ff18={}){const _0x3668d9=a33_0xfe1686,_0x4520f5={'TsxFk':function(_0x2847f6,_0x210af8){return _0x2847f6(_0x210af8);},'MERCG':function(_0x483df9,_0xcbee62){return _0x483df9===_0xcbee62;},'WroIQ':_0x3668d9(0x150),'Gyogf':_0x3668d9(0xf2),'NFvkb':function(_0x1c0d77,_0x57e279){return _0x1c0d77===_0x57e279;},'TooAh':'failed','fIBba':'failures','uafvi':'pending','YIkRV':_0x3668d9(0xdd),'jOTZK':function(_0x292c57,_0x2db810){return _0x292c57*_0x2db810;},'zBqHQ':function(_0x42f8e1,_0x249dbc,_0x1f504e){return _0x42f8e1(_0x249dbc,_0x1f504e);},'SEVbv':function(_0x2bfeb4,_0x405a1a){return _0x2bfeb4>_0x405a1a;},'gEQPG':function(_0x4acb72){return _0x4acb72();},'zQuCj':function(_0x3fbaa8,_0x36f690){return _0x3fbaa8===_0x36f690;},'VuorD':'doc','wEijH':'Setting\x20non\x20exit\x20code\x20for\x20failures','oiRDO':_0x3668d9(0xa9),'YTjYk':function(_0x3047fb,_0x53b045){return _0x3047fb+_0x53b045;},'KVCZB':_0x3668d9(0xcf),'OmSGj':_0x3668d9(0x10f),'JNOsT':function(_0x4abc03,_0x3887e9){return _0x4abc03+_0x3887e9;},'DDbwu':function(_0x24ddbc,_0x10c7d7){return _0x24ddbc+_0x10c7d7;},'pFjYo':function(_0x5c3940,_0x2e798d){return _0x5c3940+_0x2e798d;},'luwQS':'Tests:\x20\x20\x20\x20\x20\x20\x20','RSJpN':function(_0x57bb79,_0x500e6b){return _0x57bb79>_0x500e6b;},'QAdit':function(_0x24374d,_0x13d7e3){return _0x24374d+_0x13d7e3;},'xQnhG':function(_0x47187e,_0x58beea){return _0x47187e+_0x58beea;},'GhCHt':'\x0a\x0a\x0a','UWXvg':function(_0x5dbb23,_0x3bb279){return _0x5dbb23===_0x3bb279;},'WBLbH':_0x3668d9(0x11e),'zuDIs':_0x3668d9(0x14d),'vNQDE':'Couldn\x27t\x20write\x20json\x20result\x20to','srwDe':_0x3668d9(0x153),'ZyIRd':'xunit','xIUpe':'Mocha\x20Tests','zJTCJ':function(_0x110432,_0x20bb20){return _0x110432||_0x20bb20;},'GNTbq':function(_0x1f5eee,_0x904a0f){return _0x1f5eee(_0x904a0f);},'mMqZx':function(_0x108bd0,_0x315844,_0x183fe9,_0x2a2251){return _0x108bd0(_0x315844,_0x183fe9,_0x2a2251);},'Wfogl':_0x3668d9(0xb8),'Cbjsz':function(_0x4aa0d1,_0x376b92){return _0x4aa0d1-_0x376b92;},'iVCgL':function(_0x5cac37,_0x49ea6c){return _0x5cac37/_0x49ea6c;},'ksQbs':function(_0x3ee960,_0x4710a4){return _0x3ee960(_0x4710a4);},'GSzOM':_0x3668d9(0x14a),'raOkA':_0x3668d9(0x107),'MlevD':_0x3668d9(0xbe),'RjAoA':_0x3668d9(0xf9),'nJGem':_0x3668d9(0xee),'KCnna':_0x3668d9(0x163)};if(_0x4520f5[_0x3668d9(0x9f)](_0x35c4d2,_0x4520f5[_0x3668d9(0xef)]))return;const _0x3ead7a=0x0,_0xfa236f=()=>{return _0x4520f5['TsxFk'](Array,_0x3ead7a)['join']('\x20\x20');},{testSuites:_0x5a9709,platforms:_0x4be598,totalTests:_0x27633d,testsFailed:_0x49b5aa,testsPassed:_0x18afd1,testsPending:_0x4e0984}=_0x4520f5[_0x3668d9(0x83)](getStats,_0x34b508);_0x4520f5['SEVbv'](_0x49b5aa,0x0)&&(logger['debug'](_0x4520f5['wEijH']),process[_0x3668d9(0x95)]=Math[_0x3668d9(0x138)](_0x49b5aa,0xff));logger[_0x3668d9(0xd7)](_0x4520f5['oiRDO']);const _0x138aa2=''+_0x4520f5['YTjYk'](chalk[_0x3668d9(0x85)](_0x4520f5['KVCZB']),_0x4be598[_0x3668d9(0x156)]),_0x4c6225=''+_0x4520f5['YTjYk'](chalk[_0x3668d9(0x85)](_0x4520f5[_0x3668d9(0xb9)]),_0x5a9709),_0xe721db=''+_0x4520f5['JNOsT'](_0x4520f5[_0x3668d9(0x16b)](_0x4520f5[_0x3668d9(0xa6)](chalk[_0x3668d9(0x85)](_0x4520f5[_0x3668d9(0x155)]),_0x4520f5[_0x3668d9(0xfd)](_0x49b5aa,0x0)?chalk[_0x3668d9(0x85)]['red'](_0x49b5aa+_0x3668d9(0x8c))+',\x20':''),_0x4520f5[_0x3668d9(0xfd)](_0x4e0984,0x0)?chalk[_0x3668d9(0x85)]['yellow'](_0x4e0984+_0x3668d9(0xa4))+',\x20':''),_0x4520f5['RSJpN'](_0x18afd1,0x0)?chalk[_0x3668d9(0x85)][_0x3668d9(0x14f)](_0x18afd1+_0x3668d9(0xe2))+',\x20':'')+_0x27633d+'\x20total';console[_0x3668d9(0x15f)](_0x4520f5[_0x3668d9(0xd6)](_0x4520f5[_0x3668d9(0xd1)](_0x4520f5['QAdit'](_0x4520f5[_0x3668d9(0x16b)](_0x4520f5[_0x3668d9(0x121)](_0x4520f5['GhCHt'],_0x138aa2),'\x0a'),_0x4c6225),'\x0a'),_0xe721db));if(_0x4520f5[_0x3668d9(0xec)](_0x35c4d2,_0x4520f5['WBLbH'])){const _0x4d2a47={},_0x2bac0e={};_0x2bac0e[_0x3668d9(0xf7)]=_0x5a9709,_0x2bac0e[_0x3668d9(0x8b)]=_0x4be598,_0x2bac0e[_0x3668d9(0xb4)]=_0x49b5aa,_0x2bac0e['testsPassed']=_0x18afd1,_0x2bac0e['testsPending']=_0x4e0984,_0x4d2a47['stats']=_0x2bac0e,_0x4be598['forEach'](_0x123467=>{const _0x49e919=_0x3668d9,_0x5e825e={'aHeLI':function(_0x5282eb,_0x65f1b4){const _0x327a36=a33_0x384a;return _0x4520f5[_0x327a36(0xe0)](_0x5282eb,_0x65f1b4);},'COowj':_0x4520f5[_0x49e919(0x11d)],'pZceF':_0x4520f5[_0x49e919(0x170)],'VJDvu':function(_0x2f704b,_0x50cee6){const _0x3bf018=_0x49e919;return _0x4520f5[_0x3bf018(0x83)](_0x2f704b,_0x50cee6);},'sXzEc':function(_0x2dc45c,_0x54d139){const _0x12d6a5=_0x49e919;return _0x4520f5[_0x12d6a5(0xcc)](_0x2dc45c,_0x54d139);},'WbKFt':_0x4520f5['TooAh'],'QNBaz':_0x4520f5[_0x49e919(0xb7)],'OMiAU':_0x4520f5[_0x49e919(0xb3)]};_0x4d2a47[_0x123467]={'pending':[],'failures':[],'passes':[],'tests':_0x34b508[_0x123467][_0x4520f5[_0x49e919(0x118)]]['map'](clean)},_0x34b508[_0x123467][_0x4520f5[_0x49e919(0x118)]][_0x49e919(0x10c)](_0x14455d=>{const _0x38efd5=_0x49e919;if(_0x5e825e['aHeLI'](_0x14455d[_0x38efd5(0x9d)],_0x5e825e[_0x38efd5(0x16c)]))_0x4d2a47[_0x123467][_0x5e825e['pZceF']][_0x38efd5(0x109)](_0x5e825e[_0x38efd5(0x127)](clean,_0x14455d));else _0x5e825e[_0x38efd5(0x14b)](_0x14455d['state'],_0x5e825e[_0x38efd5(0xa7)])?_0x4d2a47[_0x123467][_0x5e825e[_0x38efd5(0x15c)]][_0x38efd5(0x109)](_0x5e825e[_0x38efd5(0x127)](clean,_0x14455d)):_0x4d2a47[_0x123467][_0x5e825e[_0x38efd5(0x13c)]][_0x38efd5(0x109)](_0x5e825e[_0x38efd5(0x127)](clean,_0x14455d));});});if(_0x21ff18['output'])try{logger[_0x3668d9(0xd7)](_0x4520f5[_0x3668d9(0x167)],_0x21ff18[_0x3668d9(0x100)]),fs[_0x3668d9(0x114)](_0x21ff18[_0x3668d9(0x100)],JSON[_0x3668d9(0x143)](_0x4d2a47,null,0x3));}catch(_0x4f5f69){logger['error'](_0x4520f5[_0x3668d9(0x93)],_0x21ff18[_0x3668d9(0x100)]),logger[_0x3668d9(0xd7)](_0x4f5f69);}else logger[_0x3668d9(0xd7)](_0x4520f5[_0x3668d9(0xfa)]),console['log'](JSON[_0x3668d9(0x143)](_0x4d2a47,null,0x3));}else{if(_0x4520f5[_0x3668d9(0xcc)](_0x35c4d2,_0x4520f5['ZyIRd'])){let _0x3c94c6;const _0x529c13=_0x4520f5[_0x3668d9(0xe5)];_0x21ff18&&(_0x3c94c6=_0x21ff18[_0x3668d9(0x82)]);_0x3c94c6=_0x4520f5['zJTCJ'](_0x3c94c6,_0x529c13);let _0x2668a3=0x0,_0x48a670=0x0,_0x1155eb=0x0,_0x4225bf=0x0;_0x4be598[_0x3668d9(0x10c)](_0x4ec071=>{const _0x47052f=_0x3668d9,_0x4635f4={'PfSXv':function(_0x3abb10,_0x5239a4){const _0x5f2603=a33_0x384a;return _0x4520f5[_0x5f2603(0xcc)](_0x3abb10,_0x5239a4);},'qQfZg':_0x4520f5[_0x47052f(0x11d)],'TdYQt':_0x4520f5[_0x47052f(0x84)],'EcOeE':function(_0x452109,_0x3ee1eb){return _0x4520f5['jOTZK'](_0x452109,_0x3ee1eb);}};_0x34b508[_0x4ec071][_0x4520f5['YIkRV']][_0x47052f(0x10c)](_0x3fb6d8=>{const _0x4497a6=_0x47052f;if(_0x4635f4[_0x4497a6(0x14c)](_0x3fb6d8[_0x4497a6(0x9d)],_0x4635f4[_0x4497a6(0xed)]))_0x2668a3++;else _0x4635f4['PfSXv'](_0x3fb6d8['state'],_0x4635f4[_0x4497a6(0x7e)])&&_0x48a670++;_0x1155eb++,_0x4225bf+=_0x4635f4[_0x4497a6(0xe8)](_0x3fb6d8[_0x4497a6(0xde)],0x1);});}),_0x4520f5[_0x3668d9(0x12f)](xunitWrite,_0x4520f5['mMqZx'](tag,_0x4520f5['Wfogl'],{'name':_0x3c94c6,'tests':_0x1155eb,'failures':0x0,'errors':_0x48a670,'skipped':_0x4520f5[_0x3668d9(0x12e)](_0x4520f5[_0x3668d9(0x12e)](_0x1155eb,_0x48a670),_0x2668a3),'timestamp':new Date()[_0x3668d9(0xaf)](),'time':_0x4520f5[_0x3668d9(0xc1)](_0x4225bf,0x3e8)||0x0},![])),_0x4be598[_0x3668d9(0x10c)](_0x3f59e5=>{const _0x453a79=_0x3668d9,_0x38ca0d={'utUPt':function(_0x2a19a7,_0x5b4798,_0x5bbec9){const _0xf85fde=a33_0x384a;return _0x4520f5[_0xf85fde(0x10d)](_0x2a19a7,_0x5b4798,_0x5bbec9);}};_0x34b508[_0x3f59e5][_0x4520f5[_0x453a79(0x118)]][_0x453a79(0x10c)](_0x4d19c0=>{const _0x571305=_0x453a79;_0x38ca0d[_0x571305(0xc4)](xunitTest,_0x4d19c0,_0x3f59e5);});}),_0x4520f5[_0x3668d9(0x7a)](xunitWrite,_0x4520f5['GSzOM']);if(_0x21ff18['output'])try{logger[_0x3668d9(0xd7)](_0x4520f5[_0x3668d9(0xea)],_0x21ff18[_0x3668d9(0x100)]),fs[_0x3668d9(0x114)](_0x21ff18[_0x3668d9(0x100)],xunitContent);}catch(_0xbde4d6){logger[_0x3668d9(0x146)](_0x4520f5[_0x3668d9(0x134)],_0x21ff18['output']),logger['debug'](_0xbde4d6);}else logger['debug'](_0x4520f5[_0x3668d9(0x16f)]),console[_0x3668d9(0x15f)](xunitContent);}else{if(_0x4520f5['UWXvg'](_0x49b5aa,0x0))return;console[_0x3668d9(0x15f)](),logger['debug'](_0x4520f5[_0x3668d9(0x11c)]),console['log'](chalk[_0x3668d9(0x85)][_0x3668d9(0x15a)](_0x4520f5[_0x3668d9(0x97)])),_0x4be598[_0x3668d9(0x10c)](_0x2b4def=>{const _0x59e38a=_0x3668d9,_0x148488={'OBdXk':function(_0x3e5421,_0x142633){const _0x55943c=a33_0x384a;return _0x4520f5[_0x55943c(0xe0)](_0x3e5421,_0x142633);},'YSyrm':_0x4520f5[_0x59e38a(0x84)]},_0x1b6ff8=[];_0x34b508[_0x2b4def][_0x4520f5['YIkRV']]['forEach'](_0x58f516=>{const _0x28c460=_0x59e38a;_0x148488['OBdXk'](_0x58f516[_0x28c460(0x9d)],_0x148488[_0x28c460(0xbf)])&&(_0x58f516[_0x28c460(0x9c)]=()=>_0x58f516['titlePathV'],_0x1b6ff8[_0x28c460(0x109)](_0x58f516));}),_0x4520f5[_0x59e38a(0xfd)](_0x1b6ff8[_0x59e38a(0x156)],0x0)&&(Base[_0x59e38a(0x106)](),Base[_0x59e38a(0x106)](_0x4520f5[_0x59e38a(0xa3)](_0xfa236f),chalk[_0x59e38a(0x85)]['bgBlueBright'](_0x2b4def)),Base[_0x59e38a(0xd2)](_0x1b6ff8));});}}}async function run(_0x306418,_0x506c29,_0x4e5b42){const _0x16f491=a33_0xfe1686,_0x4c887a={'eCEOa':function(_0x1cb1ba,_0x398880,_0x46b022,_0x37c5b2){return _0x1cb1ba(_0x398880,_0x46b022,_0x37c5b2);},'DdbHE':_0x16f491(0x13a),'VDpKv':_0x16f491(0x16d),'rduPg':_0x16f491(0x172),'yIjxh':'mocha','SyZTr':function(_0x57e6c6,_0x3cb693){return _0x57e6c6!=_0x3cb693;},'PyKHn':_0x16f491(0xba),'kPBWY':'mjs','FTQYV':_0x16f491(0x10e),'jXvRZ':'rerunTests','sGGMr':function(_0x2d3582,_0x382670){return _0x2d3582(_0x382670);},'hSwso':function(_0x5a3dd3,_0x52d5d9,_0x1fa050){return _0x5a3dd3(_0x52d5d9,_0x1fa050);},'xlhiQ':'files','CDRzd':'includeTagsInTestingScope','tqZxf':'excludeTagsInTestingScope','dTCyR':'includeEncodedExtension','ymFmW':_0x16f491(0x144),'eyVjS':_0x16f491(0x86),'QHRNl':function(_0x1d846d,_0x165b1b,_0x3f38c3,_0x5a3754){return _0x1d846d(_0x165b1b,_0x3f38c3,_0x5a3754);},'CTkXP':function(_0x2bf756,_0x12f5aa){return _0x2bf756*_0x12f5aa;},'KqBry':function(_0x2ec53e,_0x567387){return _0x2ec53e(_0x567387);},'SkiyI':function(_0x31b811,_0x122a4c){return _0x31b811!==_0x122a4c;},'Bkzfm':function(_0x29686d,_0x23b417,_0x3d09b6,_0x1c8b97){return _0x29686d(_0x23b417,_0x3d09b6,_0x1c8b97);}};helper[_0x16f491(0x168)](_0x4e5b42[_0x16f491(0xcb)],_0x306418),await _0x4e5b42[_0x16f491(0x116)](_0x306418);helper[_0x16f491(0x7f)]()?await helper[_0x16f491(0x126)](_0x4e5b42['config']):await _0x4e5b42[_0x16f491(0xd3)]();const _0x271a0f=[];let _0x3a2f42=[];if(!_0x4e5b42['config'])return;!helper[_0x16f491(0xfe)](_0x4e5b42[_0x16f491(0x15e)]['accessibilityOptions'])&&(process['env'][_0x16f491(0xf1)]=JSON[_0x16f491(0x143)](_0x4e5b42[_0x16f491(0x15e)]['accessibilityOptions']));const _0x5decc0=await TestHubHandler['launchBuild'](FRAMEWORKS[_0x16f491(0x162)],_0x4e5b42);_0x4c887a[_0x16f491(0xb0)](_0x4e5b42[_0x16f491(0x15e)][_0x16f491(0xbd)],null)&&(process[_0x16f491(0x8d)][_0x16f491(0x133)]=_0x4e5b42[_0x16f491(0x15e)]['testObservability']);!helper['isUndefined'](_0x4e5b42['config']['accessibility'])&&(process[_0x16f491(0x8d)][_0x16f491(0x8e)]=_0x4e5b42[_0x16f491(0x15e)][_0x16f491(0x171)]);const {extension:extension=['js',_0x4c887a[_0x16f491(0x12d)],_0x4c887a[_0x16f491(0x94)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x4c887a[_0x16f491(0xda)]]}=_0x306418,_0x1e2dc0={..._0x306418};_0x1e2dc0['rootHooks']=null;const _0x5718b0=_0x1e2dc0;let _0x489e28;if(testOpsHelper[_0x16f491(0x12c)]()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0x75806c=process['env']['BROWSERSTACK_RERUN_TESTS'];!helper['isUndefined'](_0x4e5b42[_0x16f491(0x157)])&&_0x4e5b42[_0x16f491(0x157)]['has'](_0x4c887a[_0x16f491(0x119)])&&(_0x75806c=_0x4e5b42['cliConfig'][_0x16f491(0x14e)](_0x4c887a[_0x16f491(0x119)])),_0x489e28=testOpsHelper[_0x16f491(0xb6)](_0x75806c);}if(helper['isUndefined'](_0x489e28)){const _0x5d4f2a={};_0x5d4f2a['ignore']=ignore,_0x5d4f2a[_0x16f491(0xfb)]=extension,_0x5d4f2a[_0x16f491(0x129)]=file,_0x5d4f2a['recursive']=recursive,_0x5d4f2a['sort']=sort,_0x5d4f2a[_0x16f491(0xd9)]=spec,_0x489e28=_0x4c887a[_0x16f491(0xf6)](collectFiles,_0x5d4f2a),_0x4c887a[_0x16f491(0xe9)](nestedKeyValue,_0x489e28,[_0x4c887a[_0x16f491(0x132)]])&&(_0x489e28=_0x489e28['files']);}const _0x41cd24=helper[_0x16f491(0xac)](_0x4e5b42[_0x16f491(0x15e)]);!helper['isEmpty'](_0x41cd24)&&helper[_0x16f491(0xbc)](_0x41cd24[_0x16f491(0x125)])&&(_0x5718b0['retries']=_0x41cd24[_0x16f491(0x125)][_0x16f491(0xe1)]);if(!helper[_0x16f491(0x7f)]()){const _0x5a9159=0x1,_0x5104ae={..._0x5718b0};_0x5104ae[_0x16f491(0xd9)]=[..._0x489e28],_0x271a0f['push']({'mochaOpts':_0x5104ae,'configuration':{'platform':os[_0x16f491(0x87)]()}});if(_0x4e5b42[_0x16f491(0x15e)][_0x16f491(0x171)]){const _0x41797f={};_0x41797f[_0x16f491(0x171)]=!![];const _0x2e1456=_0x41797f;_0x4c887a[_0x16f491(0xb0)](_0x4e5b42['config'][_0x16f491(0xff)],null)&&(_0x2e1456[_0x16f491(0xff)]=_0x4e5b42[_0x16f491(0x15e)][_0x16f491(0xff)],delete _0x2e1456[_0x16f491(0xff)][_0x4c887a['CDRzd']],delete _0x2e1456[_0x16f491(0xff)][_0x4c887a[_0x16f491(0xc7)]],delete _0x2e1456[_0x16f491(0xff)][_0x4c887a[_0x16f491(0x174)]]);const _0x13750c={};_0x13750c[_0x16f491(0x10a)]=_0x2e1456,_0x271a0f[0x0][_0x16f491(0x7d)]['capability']=_0x13750c;}logger[_0x16f491(0x10b)](_0x4c887a[_0x16f491(0x158)]),logger[_0x16f491(0x10b)](_0x4c887a[_0x16f491(0x15b)]),_0x4c887a['QHRNl'](parallelTestRun,_0x271a0f,_0x5a9159,_0x4e5b42)[_0x16f491(0x104)](_0x5ce471=>{const _0x271316=_0x16f491;PerformanceTester[_0x271316(0xf5)](PerformanceEvents['SDK_CLEANUP']),_0x4c887a[_0x271316(0x9a)](printStats,_0x5ce471,_0x306418[_0x271316(0x9b)],_0x306418['reporterOptions']||_0x306418[_0x4c887a[_0x271316(0x147)]]);})[_0x16f491(0xa2)](()=>{const _0x5f338b=_0x16f491;PerformanceTester[_0x5f338b(0xf5)](PerformanceEvents[_0x5f338b(0x90)]);try{const {browserstackFolderPath:_0x421ded,tcgConfigPath:_0x22cb59}=helper['getTCGConfigFilePaths']();fs[_0x5f338b(0x141)](_0x22cb59),fs['rmdirSync'](_0x421ded);}catch(_0x37a34e){logger[_0x5f338b(0xd7)](_0x4c887a[_0x5f338b(0xaa)],_0x37a34e);}try{utilities[_0x5f338b(0xce)](_0x4c887a['rduPg'],{},_0x4e5b42[_0x5f338b(0x15e)],_0x4e5b42[_0x5f338b(0xcb)]);}catch(_0x488af3){logger[_0x5f338b(0xd7)](_0x5f338b(0x108)+_0x488af3[_0x5f338b(0xf0)]);}try{helper['notifyUpdate']();}catch(_0x572fcd){logger[_0x5f338b(0xd7)](_0x5f338b(0xd8)+_0x572fcd);}testOpsHelper[_0x5f338b(0x159)]();});}else{const _0x1c2ed1=helper[_0x16f491(0x111)](_0x4e5b42['config']);let _0x492420=helper[_0x16f491(0x161)](_0x4e5b42['config']);_0x3a2f42=helper[_0x16f491(0x130)](_0x4e5b42[_0x16f491(0x15e)],_0x1c2ed1,constants[_0x16f491(0x151)][_0x16f491(0x162)]);helper[_0x16f491(0x117)]()[_0x16f491(0xb2)]&&(_0x492420=centralScannerConstants['BROWSERSTACK_GRR_US_HUB_URL']);let _0x4d2cfe;const _0x3ce05f=_0x4e5b42[_0x16f491(0x15e)][_0x16f491(0x113)]||helper[_0x16f491(0xb5)](_0x306418,_0x506c29,_0x4e5b42[_0x16f491(0x15e)],constants['FRAMEWORKS']['MOCHA'])||0x1;helper[_0x16f491(0x13d)](_0x4e5b42['config'])?_0x4d2cfe=_0x4c887a['CTkXP'](_0x4e5b42[_0x16f491(0x15e)][_0x16f491(0x8b)][_0x16f491(0x156)],_0x3ce05f):_0x4d2cfe=_0x3ce05f;const _0x3333c4=_0x4c887a[_0x16f491(0xeb)](getPercyOptions,_0x4e5b42[_0x16f491(0x15e)]);if(_0x4c887a[_0x16f491(0x11f)](_0x4e5b42[_0x16f491(0x15e)]['parallelsPerPlatform'],0x1))_0x489e28['forEach'](_0x2f6c79=>{const _0x519a73=_0x16f491,_0x21c54b=[];_0x3a2f42[_0x519a73(0x10c)]((_0x2823cb,_0x804adb)=>{const _0x22957c=_0x519a73,_0x249100={};_0x249100['spec']=[_0x2f6c79],_0x21c54b['push']({'mochaOpts':Object[_0x22957c(0xb1)]({},_0x5718b0,_0x249100),'configuration':{'server':_0x492420,'capability':_0x2823cb,'proxySettings':_0x4e5b42[_0x22957c(0x15e)][_0x22957c(0x152)],'platform':helper[_0x22957c(0x154)](_0x2823cb),'browserStackLogLevel':_0x4e5b42[_0x22957c(0x15e)]['logLevel'],'platformIndex':_0x804adb,'browserStackPercyOptions':_0x3333c4,'platformCaps':Object['assign']({'index':_0x804adb},_0x4e5b42['config']['platforms'][_0x804adb])}});}),_0x271a0f['push'](..._0x21c54b);});else{const _0x53e5d8=[];_0x3a2f42[_0x16f491(0x10c)]((_0x2e7c6f,_0x3d676a)=>{const _0xce935b=_0x16f491;let _0x44b348=Object[_0xce935b(0xb1)]({},_0x5718b0);testOpsHelper[_0xce935b(0x12c)]()&&testOpsHelper[_0xce935b(0xe3)]()&&(_0x44b348={..._0x44b348,'spec':[..._0x489e28]}),_0x53e5d8[_0xce935b(0x109)]({'mochaOpts':_0x44b348,'configuration':{'server':_0x492420,'capability':_0x2e7c6f,'proxySettings':_0x4e5b42[_0xce935b(0x15e)][_0xce935b(0x152)],'platform':helper[_0xce935b(0x154)](_0x2e7c6f),'browserStackLogLevel':_0x4e5b42[_0xce935b(0x15e)][_0xce935b(0x13b)],'platformIndex':_0x3d676a,'browserStackPercyOptions':_0x3333c4,'platformCaps':Object[_0xce935b(0xb1)]({'index':_0x3d676a},_0x4e5b42[_0xce935b(0x15e)][_0xce935b(0x8b)][_0x3d676a])}});}),_0x271a0f[_0x16f491(0x109)](..._0x53e5d8);}logger[_0x16f491(0x10b)]('Running\x20your\x20mocha\x20tests\x20across\x20'+_0x4e5b42[_0x16f491(0x15e)][_0x16f491(0x8b)][_0x16f491(0x156)]+'\x20platforms'),logger[_0x16f491(0x10b)](_0x4c887a[_0x16f491(0x15b)]);let _0x25d62e;_0x4c887a[_0x16f491(0x135)](parallelTestRun,_0x271a0f,_0x4d2cfe,_0x4e5b42)[_0x16f491(0x104)](_0x46dad2=>{const _0x5365a6=_0x16f491;PerformanceTester[_0x5365a6(0xf5)](PerformanceEvents[_0x5365a6(0x90)]),_0x25d62e=_0x46dad2,_0x4c887a[_0x5365a6(0x9a)](printStats,_0x46dad2,_0x306418['reporter'],_0x306418[_0x5365a6(0xf4)]||_0x306418[_0x4c887a[_0x5365a6(0x147)]]);})[_0x16f491(0xa2)](async()=>{const _0x53d031=_0x16f491;PerformanceTester[_0x53d031(0xf5)](PerformanceEvents[_0x53d031(0x90)]),_0x4e5b42[_0x53d031(0xe7)]=helper['getErrorMessageFromResults'](_0x25d62e,_0x4c887a[_0x53d031(0x176)]),await utilities['finalExecution'](_0x4e5b42),testOpsHelper[_0x53d031(0x159)]();});}}module['exports']=run;