const a87_0x585c24=a87_0x2991;function a87_0x425a(){const _0x1a35a0=['getGitMetaData','SqGAd','CBTSessionCreated','QpQTN','getAgentVersion','aMShX','mWRnZ','CTXma','VTUKH','Hook_Start_Upload','browserstackAutomation','Authorization','uuid','buildDescription','test_run','format','pendingUploads','logs','exports','message','WpwOv','xIWXf','stringify','allow_screenshots','BS_A11Y_JWT','FxMYp','rSfvv','Sending\x20trace\x20zip\x20for\x20test:\x20','30562IfWDfl','Retry\x20runs\x20exceeded','arscf','toString','FrsBJ','wCAkt','HookRunStarted','add','PAggU','statusText','CREDENTIALS_FOR_CRASH_REPORTING','application/json','CBT_Upload','requestQueueHandler','ERROR_INVALID_CREDENTIALS','toISOString','qzHLw','2966OHkMhA','BROWSERSTACK_TESTHUB_JWT','build_hashed_id','info','dZXjF','xsaBO','./requestQueueHandler','true','Test_Skipped_Upload','JrnCv','./utils','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','username','RQKNC','getCiInfo','jLfrH','max','headers','getHostInfo','4bluulN','Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20','./constants','WaPjr','../../helpers/testhub/utils','Bearer\x20','success','EXCEPTION\x20IN\x20','lKKfm','HwEOO','6735456SiTyfq','length','getInstance','TestRunStarted','cTraZ','5211222LaNrjm','env','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20','QWxjp','buildIdentifier','response','basename','nestedKeyValue','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','BS_TESTOPS_BUILD_COMPLETED','bVchn','BS_TESTOPS_ALLOW_SCREENSHOTS','test_run_uuid','LogCreated','162OSNAnp','uploadEventData','debug','1139805NayQav','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','BS_TESTOPS_JWT','error','BS_TESTOPS_BUILD_HASHED_ID','BROWSERSTACK_BUILD_RUN_IDENTIFIER','eventUrl','PSUuG','sendTraceZip','json','mUvHL','KbgzK','data','mTsfR','Hook_End_Upload','winstonLogger','waitForBuildStatus','TestRunSkipped','../helper','api/v1/builds','GffPR','aAMyy','2084502uhPuSX','3641712SIXUUA','OkDxv','ScOXA','event_type','cgaCo','Test_Start_Upload','SpVUL','BRxnq','POST','null','Batch-Queue','pRGSt','Log_Upload','nPGfC','hook_run','false','NWrqT','RJOHH','includes','RwxiR','Test_End_Upload','loPPv','sendEventData','getLogTag','util','EBbcc','nhspT','status','LdnSg','qCHQI','seDlY','qcgoY','jwt','BROWSERSTACK_RERUN','errorType','HookRunFinished','yQVTz','TestRunFinished','wLVWR','api/v1/event','projectName','start','BROWSERSTACK_TESTHUB_UUID','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20'];a87_0x425a=function(){return _0x1a35a0;};return a87_0x425a();}(function(_0x2b6af6,_0x57da9f){const _0x5d5cbd=a87_0x2991,_0x26f358=_0x2b6af6();while(!![]){try{const _0x594bf8=parseInt(_0x5d5cbd(0x162))/0x1*(parseInt(_0x5d5cbd(0x192))/0x2)+-parseInt(_0x5d5cbd(0x1ab))/0x3+parseInt(_0x5d5cbd(0x175))/0x4*(-parseInt(_0x5d5cbd(0x195))/0x5)+parseInt(_0x5d5cbd(0x184))/0x6+parseInt(_0x5d5cbd(0x151))/0x7+-parseInt(_0x5d5cbd(0x1ac))/0x8+parseInt(_0x5d5cbd(0x17f))/0x9;if(_0x594bf8===_0x57da9f)break;else _0x26f358['push'](_0x26f358['shift']());}catch(_0x587353){_0x26f358['push'](_0x26f358['shift']());}}}(a87_0x425a,0x760c4));function a87_0x2991(_0xd84af5,_0x30f98f){const _0x425ac6=a87_0x425a();return a87_0x2991=function(_0x2991e9,_0x29aa1f){_0x2991e9=_0x2991e9-0x144;let _0x253cd2=_0x425ac6[_0x2991e9];return _0x253cd2;},a87_0x2991(_0xd84af5,_0x30f98f);}const bsSetupHelper=require(a87_0x585c24(0x1a7)),path=require('path'),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require(a87_0x585c24(0x16c)),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require(a87_0x585c24(0x177)),RequestQueueHandler=require(a87_0x585c24(0x168)),logger=require('../logger')[a87_0x585c24(0x1a4)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap}=require(a87_0x585c24(0x179)),util=require(a87_0x585c24(0x1c4));class SessionHandler{static [a87_0x585c24(0x15e)]=RequestQueueHandler[a87_0x585c24(0x181)]();static async['launch'](_0x3afa3f,_0x53f868){const _0x14ac22=a87_0x585c24,_0x141f92={'bVchn':function(_0x3b123f,_0x4116e6){return _0x3b123f||_0x4116e6;},'dZXjF':function(_0x115c48,_0xa745ae){return _0x115c48||_0xa745ae;},'OMuHu':function(_0x3a1f24,_0x380627){return _0x3a1f24===_0x380627;},'EBbcc':function(_0x6c2d0f,_0xa88a5f){return _0x6c2d0f(_0xa88a5f);},'FxMYp':_0x14ac22(0x196),'nhspT':_0x14ac22(0x1bb),'SBkbE':_0x14ac22(0x19e),'FrsBJ':function(_0x2e5bcf,_0x2b4a42){return _0x2e5bcf(_0x2b4a42);},'cCgsO':function(_0x1610f1,_0xfe1b6e){return _0x1610f1(_0xfe1b6e);},'loPPv':function(_0xfdaabe,_0x4c6150,_0x3c27bc,_0x137529,_0x36acb5){return _0xfdaabe(_0x4c6150,_0x3c27bc,_0x137529,_0x36acb5);},'seDlY':_0x14ac22(0x1b4),'zhUYo':_0x14ac22(0x1a8),'yQVTz':function(_0x3d5bea,_0x528ae2){return _0x3d5bea(_0x528ae2);},'PSUuG':'Build\x20creation\x20successful!','MZJsG':function(_0x409834){return _0x409834();},'wBVWQ':_0x14ac22(0x169),'WaPjr':_0x14ac22(0x1b5),'QpQTN':function(_0x3e0079,_0x18fbd2){return _0x3e0079(_0x18fbd2);},'RwxiR':function(_0x4596b5,_0xa4619a){return _0x4596b5(_0xa4619a);},'wCAkt':_0x14ac22(0x15f),'fRFsu':'ERROR_ACCESS_DENIED','mUvHL':'ERROR_SDK_DEPRECATED'},_0x5a0c16=bsSetupHelper['getUserName'](_0x3afa3f),_0x536dd3=bsSetupHelper['getAccessKey'](_0x3afa3f),_0x440eb7=_0x141f92[_0x14ac22(0x18e)](_0x5a0c16,'')+':'+_0x141f92[_0x14ac22(0x166)](_0x536dd3,'');if(_0x141f92['OMuHu'](_0x440eb7,':'))return _0x141f92[_0x14ac22(0x1c5)](debug,_0x141f92[_0x14ac22(0x14e)]),process[_0x14ac22(0x185)][_0x14ac22(0x18d)]=_0x141f92[_0x14ac22(0x1c6)],[null,null];let _0x457c9b=![],_0x207da5=![];if(_0x3afa3f['browserstackAutomation']&&_0x3afa3f['app'])_0x207da5=!![];else _0x3afa3f[_0x14ac22(0x1e2)]&&(_0x457c9b=!![]);try{const _0x49a54d={'format':_0x141f92['SBkbE'],'project_name':_0x3afa3f[_0x14ac22(0x1d4)]||'','name':_0x3afa3f['buildName']||path[_0x14ac22(0x18a)](path['resolve'](process['cwd']())),'build_identifier':_0x3afa3f[_0x14ac22(0x188)],'description':_0x3afa3f[_0x14ac22(0x1e5)]||'','start_time':new Date()[_0x14ac22(0x160)](),'tags':_0x141f92[_0x14ac22(0x1c5)](getCustomTags,_0x3afa3f),'host_info':bsSetupHelper[_0x14ac22(0x174)](),'ci_info':bsSetupHelper[_0x14ac22(0x170)](),'build_run_identifier':process[_0x14ac22(0x185)][_0x14ac22(0x19a)],'failed_tests_rerun':process[_0x14ac22(0x185)][_0x14ac22(0x1cd)]||![],'version_control':await bsSetupHelper[_0x14ac22(0x1d8)](),'observability_version':{'frameworkName':_0x53f868['frameworkName'],'frameworkVersion':_0x53f868['frameworkVersion'],'sdkVersion':bsSetupHelper[_0x14ac22(0x1dc)]()},'product_map':_0x141f92[_0x14ac22(0x155)](getProductMap,_0x3afa3f)},_0x1fb38c={};_0x1fb38c[_0x14ac22(0x16e)]=_0x5a0c16,_0x1fb38c['password']=_0x536dd3;const _0x5c5b7f={'auth':_0x1fb38c,'headers':_0x141f92['cCgsO'](getDefaultHeaders,![])},_0x172f60=await _0x141f92[_0x14ac22(0x1c1)](nodeRequest,_0x141f92[_0x14ac22(0x1ca)],_0x141f92['zhUYo'],_0x49a54d,_0x5c5b7f);_0x141f92[_0x14ac22(0x1d0)](debug,_0x141f92[_0x14ac22(0x19c)]);const _0x4dfb54=_0x172f60['data'];_0x4dfb54[_0x14ac22(0x164)]&&(process[_0x14ac22(0x185)][_0x14ac22(0x1d6)]=_0x4dfb54[_0x14ac22(0x164)]);if(_0x141f92['MZJsG'](isTestObservabilitySession)){process['env'][_0x14ac22(0x18d)]=_0x141f92['wBVWQ'];if(_0x4dfb54['jwt']){process[_0x14ac22(0x185)][_0x14ac22(0x197)]=_0x4dfb54[_0x14ac22(0x1cc)];const _0x13a79c={};_0x13a79c[_0x14ac22(0x16e)]=_0x5a0c16,_0x13a79c['password']=_0x536dd3,process[_0x14ac22(0x185)][_0x14ac22(0x15b)]=JSON[_0x14ac22(0x14b)](_0x13a79c);}_0x4dfb54[_0x14ac22(0x164)]&&(process[_0x14ac22(0x185)][_0x14ac22(0x199)]=_0x4dfb54[_0x14ac22(0x164)]),_0x4dfb54['allow_screenshots']&&(process[_0x14ac22(0x185)][_0x14ac22(0x18f)]=_0x4dfb54[_0x14ac22(0x14c)][_0x14ac22(0x154)]());}return[_0x172f60[_0x14ac22(0x1a1)][_0x14ac22(0x1cc)],_0x172f60[_0x14ac22(0x1a1)][_0x14ac22(0x164)],_0x172f60['data']['allow_screenshots']];}catch(_0x17084f){process[_0x14ac22(0x185)][_0x14ac22(0x1d6)]=_0x141f92[_0x14ac22(0x178)],process['env']['BS_TESTOPS_BUILD_COMPLETED']=_0x141f92[_0x14ac22(0x1c6)],process[_0x14ac22(0x185)][_0x14ac22(0x197)]=_0x141f92['WaPjr'],process[_0x14ac22(0x185)][_0x14ac22(0x199)]=_0x141f92[_0x14ac22(0x178)],process['env'][_0x14ac22(0x18f)]=_0x141f92[_0x14ac22(0x178)];_0x17084f['response']?_0x141f92[_0x14ac22(0x1db)](debug,'EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20'+_0x17084f[_0x14ac22(0x189)][_0x14ac22(0x1c7)]+'\x20'+_0x17084f[_0x14ac22(0x189)][_0x14ac22(0x15a)]+'\x20'+JSON[_0x14ac22(0x14b)](_0x17084f['response'][_0x14ac22(0x1a1)])):_0x141f92[_0x14ac22(0x1bf)](debug,_0x14ac22(0x16d)+(_0x17084f['message']||_0x17084f));if(_0x17084f&&_0x17084f['message']){const _0xcb1613=_0x17084f['message'];switch(_0x17084f[_0x14ac22(0x1ce)]){case _0x141f92[_0x14ac22(0x156)]:logger[_0x14ac22(0x198)](_0xcb1613);break;case _0x141f92['fRFsu']:logger[_0x14ac22(0x165)](_0xcb1613);break;case _0x141f92[_0x14ac22(0x19f)]:logger['error'](_0xcb1613);break;default:logger[_0x14ac22(0x198)](_0xcb1613);}}else console['info']('Data\x20upload\x20to\x20BrowserStack\x20Test\x20Observability\x20failed\x20due\x20to\x20'+_0x17084f);return[null,null,null];}}static async[a87_0x585c24(0x1a5)](){const _0x188d84=a87_0x585c24,_0x661c0e={'qzHLw':_0x188d84(0x169),'KbgzK':_0x188d84(0x1bb),'ztuqV':function(_0xbb5b08,_0x123df2){return _0xbb5b08(_0x123df2);}},_0x137601=process[_0x188d84(0x185)][_0x188d84(0x18d)];if([_0x661c0e[_0x188d84(0x161)],_0x661c0e[_0x188d84(0x1a0)]][_0x188d84(0x1be)](_0x137601))return;while([_0x661c0e['qzHLw'],_0x661c0e[_0x188d84(0x1a0)]]['includes'](_0x137601)){await _0x661c0e['ztuqV'](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static[a87_0x585c24(0x1c3)](_0x5de563){const _0x53e6d5=a87_0x585c24,_0x133f38={};_0x133f38[_0x53e6d5(0x1aa)]=_0x53e6d5(0x1b1),_0x133f38[_0x53e6d5(0x159)]=_0x53e6d5(0x1c0),_0x133f38[_0x53e6d5(0x1bc)]=_0x53e6d5(0x16a),_0x133f38[_0x53e6d5(0x17d)]=_0x53e6d5(0x1b8),_0x133f38[_0x53e6d5(0x1e0)]=_0x53e6d5(0x1e1),_0x133f38[_0x53e6d5(0x14f)]=_0x53e6d5(0x1a3),_0x133f38[_0x53e6d5(0x1b9)]=_0x53e6d5(0x15d);const _0xee5918=_0x133f38,_0x6f3786={};return _0x6f3786[_0x53e6d5(0x182)]=_0xee5918[_0x53e6d5(0x1aa)],_0x6f3786[_0x53e6d5(0x1d1)]=_0xee5918['PAggU'],_0x6f3786[_0x53e6d5(0x1a6)]=_0xee5918['NWrqT'],_0x6f3786[_0x53e6d5(0x191)]=_0xee5918['lKKfm'],_0x6f3786[_0x53e6d5(0x157)]=_0xee5918['VTUKH'],_0x6f3786[_0x53e6d5(0x1cf)]=_0xee5918[_0x53e6d5(0x14f)],_0x6f3786[_0x53e6d5(0x1da)]=_0xee5918[_0x53e6d5(0x1b9)],_0x6f3786[_0x5de563[_0x53e6d5(0x1af)]];}static async['sendEventData'](_0x51145b,_0x4f0f8b=0x0,_0xd747f2=null){const _0x18490e=a87_0x585c24,_0x266a74={'OkDxv':function(_0x43139d,_0x32fdbf){return _0x43139d===_0x32fdbf;},'jLfrH':_0x18490e(0x19d),'SpVUL':function(_0x64aa36,_0x3bd4be){return _0x64aa36!==_0x3bd4be;},'PBloO':_0x18490e(0x15c),'cTraZ':_0x18490e(0x169),'RQKNC':function(_0x47f5a8,_0x1d588a,_0x254dd0,_0x2883db,_0x474281){return _0x47f5a8(_0x1d588a,_0x254dd0,_0x2883db,_0x474281);},'HwEOO':_0x18490e(0x1b4),'xIWXf':function(_0x375c06,_0x3f06fd,_0x2f2202,_0x5888b4,_0x5a8e84){return _0x375c06(_0x3f06fd,_0x2f2202,_0x5888b4,_0x5a8e84);},'cgaCo':function(_0x276ab2,_0x3ddc99){return _0x276ab2(_0x3ddc99);},'LdnSg':_0x18490e(0x1b6),'QWxjp':function(_0x3e17f2,_0x5d8eb1){return _0x3e17f2-_0x5d8eb1;},'SqGAd':_0x18490e(0x1d3),'JrnCv':_0x18490e(0x17b),'mTsfR':function(_0x4e4658,_0x41858e){return _0x4e4658!==_0x41858e;},'XKKdJ':function(_0x3d4a74,_0x466168){return _0x3d4a74===_0x466168;},'RJOHH':_0x18490e(0x198)};_0x266a74[_0x18490e(0x1ad)](_0xd747f2,_0x266a74[_0x18490e(0x171)])&&logger[_0x18490e(0x194)](_0x18490e(0x150)+_0x51145b['logs'][0x0][_0x18490e(0x190)]);const _0x276a11=await this['getLogTag'](_0x51145b);let _0x398520=_0x51145b,_0x3f412c=EVENT_ENDPOINT;_0x266a74[_0x18490e(0x1b2)](_0xd747f2,_0x266a74[_0x18490e(0x171)])&&this[_0x18490e(0x15e)][_0x18490e(0x1d5)]();const {shouldProceed:_0x3721f2,proceedWithData:_0x5b30ad,proceedWithUrl:_0x385144}=this[_0x18490e(0x15e)][_0x18490e(0x158)](_0x51145b);if(!_0x3721f2)return;else _0x5b30ad&&(_0x398520=_0x5b30ad,_0x3f412c=_0x385144);const _0x1730f1={};_0x1730f1[_0x18490e(0x1e3)]=_0x18490e(0x17a)+process[_0x18490e(0x185)]['BROWSERSTACK_TESTHUB_JWT'],_0x1730f1['Content-Type']=_0x266a74['PBloO'],_0x1730f1['X-BSTACK-TESTOPS']=_0x266a74[_0x18490e(0x183)];const _0x59c9bd={};_0x59c9bd[_0x18490e(0x173)]=_0x1730f1;const _0x563028=_0x59c9bd;let _0x5b74e6;try{_0x266a74['OkDxv'](_0xd747f2,_0x266a74[_0x18490e(0x171)])?(logger[_0x18490e(0x194)](_0x18490e(0x176)+_0x51145b?.[_0x18490e(0x146)][0x0]?.['test_run_uuid']),_0x5b74e6=await _0x266a74[_0x18490e(0x16f)](asyncAwaitNodeReq,_0x266a74['HwEOO'],_0x3f412c,_0x398520,_0x563028),logger[_0x18490e(0x194)](_0x18490e(0x186)+_0x51145b?.[_0x18490e(0x146)][0x0]?.['test_run_uuid'])):_0x5b74e6=await _0x266a74[_0x18490e(0x14a)](nodeRequest,_0x266a74[_0x18490e(0x17e)],_0x3f412c,_0x398520,_0x563028);if(_0x5b74e6['data']['error']){const _0x386b4c={};_0x386b4c[_0x18490e(0x148)]=_0x5b74e6[_0x18490e(0x1a1)][_0x18490e(0x198)];throw _0x386b4c;}else{_0x266a74[_0x18490e(0x1b0)](debug,(_0x266a74[_0x18490e(0x1b2)](_0x3f412c,this[_0x18490e(0x15e)][_0x18490e(0x19b)])?_0x276a11:_0x266a74[_0x18490e(0x1c8)])+'['+_0x4f0f8b+']\x20event\x20successful!'),this[_0x18490e(0x15e)]['pendingUploads']=Math['max'](0x0,_0x266a74[_0x18490e(0x187)](this[_0x18490e(0x15e)]['pendingUploads'],_0x266a74['OkDxv'](_0x3f412c,_0x266a74['SqGAd'])?0x1:_0x398520['length']));const _0x3a5d1c={};return _0x3a5d1c[_0x18490e(0x1c7)]=_0x266a74[_0x18490e(0x16b)],_0x3a5d1c[_0x18490e(0x148)]='',_0x3a5d1c;}}catch(_0x2a4f24){_0x2a4f24[_0x18490e(0x189)]?_0x266a74['cgaCo'](debug,'EXCEPTION\x20IN\x20'+(_0x266a74[_0x18490e(0x1a2)](_0x3f412c,this[_0x18490e(0x15e)]['eventUrl'])?_0x276a11:_0x266a74[_0x18490e(0x1c8)])+_0x18490e(0x1d7)+_0x2a4f24[_0x18490e(0x189)]['status']+'\x20'+_0x2a4f24[_0x18490e(0x189)][_0x18490e(0x15a)]+'\x20'+util['format'](_0x2a4f24[_0x18490e(0x189)][_0x18490e(0x1a1)])):_0x266a74['cgaCo'](debug,'EXCEPTION\x20IN\x20'+(_0x266a74[_0x18490e(0x1a2)](_0x3f412c,this[_0x18490e(0x15e)][_0x18490e(0x19b)])?_0x276a11:_0x266a74[_0x18490e(0x1c8)])+_0x18490e(0x1d7)+util[_0x18490e(0x144)](_0x2a4f24));this['requestQueueHandler'][_0x18490e(0x145)]=Math[_0x18490e(0x172)](0x0,_0x266a74[_0x18490e(0x187)](this[_0x18490e(0x15e)][_0x18490e(0x145)],_0x266a74['XKKdJ'](_0x3f412c,_0x266a74[_0x18490e(0x1d9)])?0x1:_0x398520[_0x18490e(0x180)]));const _0x10068a={};return _0x10068a[_0x18490e(0x1c7)]=_0x266a74[_0x18490e(0x1bd)],_0x10068a['message']=_0x2a4f24[_0x18490e(0x148)]||(_0x2a4f24[_0x18490e(0x189)]?_0x2a4f24[_0x18490e(0x189)][_0x18490e(0x1c7)]+':'+_0x2a4f24['response']['statusText']:_0x2a4f24),_0x10068a;}}static async[a87_0x585c24(0x193)](_0x48ac10,_0x4cc1b5=0x0){const _0x5451a4=a87_0x585c24,_0x2caf33={'qcgoY':function(_0xc545a6,_0x51929d){return _0xc545a6+_0x51929d;},'aMShX':function(_0x4e45c2,_0x232f0d){return _0x4e45c2(_0x232f0d);},'CTXma':_0x5451a4(0x1e6),'nwgpZ':_0x5451a4(0x1e4),'arscf':_0x5451a4(0x1ba),'DQXSN':function(_0x3a7c6d,_0x5e9996,_0x25b860){return _0x3a7c6d(_0x5e9996,_0x25b860);},'fOizh':_0x5451a4(0x193),'CSxKR':function(_0x1ea101,_0x1c046c){return _0x1ea101===_0x1c046c;},'ScOXA':function(_0x5c1218,_0x480b28){return _0x5c1218!==_0x480b28;},'BRxnq':_0x5451a4(0x1b5),'rkeGe':'true','xsaBO':function(_0x512aa0){return _0x512aa0();},'GffPR':function(_0x3d7d0a,_0x398de1){return _0x3d7d0a===_0x398de1;},'pRGSt':function(_0x295889,_0x4b02){return _0x295889-_0x4b02;},'mWRnZ':_0x5451a4(0x198),'BUVCQ':'Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','WpwOv':function(_0x1aba18,_0x887d6){return _0x1aba18>=_0x887d6;},'Fqlat':function(_0x321b95,_0x454b34){return _0x321b95(_0x454b34);},'wLVWR':_0x5451a4(0x152),'qCHQI':_0x5451a4(0x1bb),'utCWm':function(_0x56c68a,_0x4b3104,_0x334815){return _0x56c68a(_0x4b3104,_0x334815);}},_0x1be820=this[_0x5451a4(0x1c3)](_0x48ac10);_0x2caf33[_0x5451a4(0x1dd)](trace,'Processing\x20event\x20-\x20\x27'+_0x48ac10[_0x5451a4(0x1af)]+'\x27\x20'+(bsSetupHelper[_0x5451a4(0x18b)](_0x48ac10,[_0x2caf33[_0x5451a4(0x1df)],_0x2caf33['nwgpZ']])||bsSetupHelper['nestedKeyValue'](_0x48ac10,[_0x2caf33[_0x5451a4(0x153)],_0x2caf33['nwgpZ']])));if(!_0x2caf33['DQXSN'](shouldProcessEventForTesthub,_0x48ac10[_0x5451a4(0x1af)],_0x2caf33['fOizh']))return;_0x2caf33['CSxKR'](_0x4cc1b5,0x0)&&process['env'][_0x5451a4(0x163)]&&_0x2caf33[_0x5451a4(0x1ae)](process['env'][_0x5451a4(0x163)],_0x2caf33['BRxnq'])&&(this[_0x5451a4(0x15e)][_0x5451a4(0x145)]+=0x1);if(_0x2caf33['CSxKR'](process[_0x5451a4(0x185)][_0x5451a4(0x18d)],_0x2caf33['rkeGe'])||process[_0x5451a4(0x185)][_0x5451a4(0x14d)]||_0x2caf33[_0x5451a4(0x167)](isPercyBuild)){if(_0x2caf33[_0x5451a4(0x1a9)](process[_0x5451a4(0x185)][_0x5451a4(0x163)],_0x2caf33[_0x5451a4(0x1b3)])){_0x2caf33[_0x5451a4(0x1dd)](debug,_0x5451a4(0x17c)+_0x1be820+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20missing\x20authentication\x20token'),this['requestQueueHandler'][_0x5451a4(0x145)]=Math[_0x5451a4(0x172)](0x0,_0x2caf33[_0x5451a4(0x1b7)](this['requestQueueHandler']['pendingUploads'],0x1));const _0x4f166f={};return _0x4f166f['status']=_0x2caf33['mWRnZ'],_0x4f166f[_0x5451a4(0x148)]=_0x2caf33['BUVCQ'],_0x4f166f;}return await this[_0x5451a4(0x1c2)](_0x48ac10,_0x4cc1b5);}else{if(_0x2caf33[_0x5451a4(0x149)](_0x4cc1b5,0x5)){_0x2caf33['Fqlat'](debug,_0x5451a4(0x17c)+_0x1be820+_0x5451a4(0x18c)+_0x1be820+'\x20retry\x20runs\x20exceeded');_0x2caf33['ScOXA'](process[_0x5451a4(0x185)][_0x5451a4(0x163)],_0x2caf33[_0x5451a4(0x1b3)])&&(this['requestQueueHandler'][_0x5451a4(0x145)]=Math[_0x5451a4(0x172)](0x0,_0x2caf33[_0x5451a4(0x1b7)](this[_0x5451a4(0x15e)]['pendingUploads'],0x1)));const _0x63cfa8={};return _0x63cfa8[_0x5451a4(0x1c7)]=_0x2caf33[_0x5451a4(0x1de)],_0x63cfa8[_0x5451a4(0x148)]=_0x2caf33[_0x5451a4(0x1d2)],_0x63cfa8;}else _0x2caf33[_0x5451a4(0x1ae)](process['env']['BS_TESTOPS_BUILD_COMPLETED'],_0x2caf33[_0x5451a4(0x1c9)])&&_0x2caf33['utCWm'](setTimeout,()=>{const _0x2824e5=_0x5451a4;this[_0x2824e5(0x193)](_0x48ac10,_0x2caf33[_0x2824e5(0x1cb)](_0x4cc1b5,0x1));},0x3e8);}}}module[a87_0x585c24(0x147)]=SessionHandler;