const a129_0x1dbb17=a129_0xc2e4;(function(_0x5b12cd,_0x5d10b9){const _0x5d1f01=a129_0xc2e4,_0x225f42=_0x5b12cd();while(!![]){try{const _0x3fbe0=parseInt(_0x5d1f01(0x1d7))/0x1+parseInt(_0x5d1f01(0x20d))/0x2+-parseInt(_0x5d1f01(0x1eb))/0x3+-parseInt(_0x5d1f01(0x239))/0x4+parseInt(_0x5d1f01(0x1fc))/0x5*(-parseInt(_0x5d1f01(0x253))/0x6)+parseInt(_0x5d1f01(0x23c))/0x7+parseInt(_0x5d1f01(0x227))/0x8;if(_0x3fbe0===_0x5d10b9)break;else _0x225f42['push'](_0x225f42['shift']());}catch(_0x36988a){_0x225f42['push'](_0x225f42['shift']());}}}(a129_0x1843,0x20bbd));function a129_0xc2e4(_0x4bfacd,_0x16db55){const _0x184348=a129_0x1843();return a129_0xc2e4=function(_0xc2e412,_0x5c95f8){_0xc2e412=_0xc2e412-0x1a9;let _0x1656eb=_0x184348[_0xc2e412];return _0x1656eb;},a129_0xc2e4(_0x4bfacd,_0x16db55);}const bsSetupHelper=require(a129_0x1dbb17(0x24a)),path=require('path'),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require(a129_0x1dbb17(0x1e6)),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require('./constants'),RequestQueueHandler=require('./requestQueueHandler'),logger=require(a129_0x1dbb17(0x240))[a129_0x1dbb17(0x1d3)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require(a129_0x1dbb17(0x211)),util=require('util'),constants=require(a129_0x1dbb17(0x1ff));function a129_0x1843(){const _0x27aed0=['UJzAh',']\x20event\x20successful!','Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20','format','BROWSERSTACK_RERUN','BS_TESTOPS_ALLOW_SCREENSHOTS','EXCEPTION\x20IN\x20','xQpNC','BS_TESTOPS_JWT','test_run_uuid','Test_Start_Upload','HookRunFinished','Test_Skipped_Upload','api/v1/event','bWRIo','jNEuL','Content-Type','Ooskh','GRpjE','true','launch','yOJLO','RaKzZ','ULvmQ','ERROR_INVALID_CREDENTIALS','TEST_REPORTING_ANALYTICS','winstonLogger','Bearer\x20','taAFH','wGxrj','196824sHHOBY','TestRunFinished','BROWSERSTACK_BUILD_RUN_IDENTIFIER','uuid','XOuUY','event_type','length','max','VcPLs','YxXmu','UqdWk','logs','fhZRq','Sending\x20trace\x20zip\x20for\x20test:\x20','ERROR_ACCESS_DENIED','./utils','projectName','lTTZf','jhAFT','EkXus','104439zxmhAd','getInstance','username','cwd','sendEventData','frameworkName','IIsvD','includes','Test_End_Upload','Batch-Queue','X-BSTACK-TESTOPS','inspect','getHostInfo','headers','requestQueueHandler','allow_screenshots','buildDescription','85QsxMpq','test_run','BvMJt','../../bin/utils/constants','djPfC','toISOString','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','resolve','null','response','pPIGL','woIbh','aZkMH','buildName','mTuwg','doyrg','377814XiLZFI','ATNdG','uploadEventData','hgoYo','../../helpers/testhub/utils','WBSGH','YfIoN','\x20:\x20missing\x20authentication\x20token','getUserName','errorType','GCbFk','\x20REQUEST\x20TO\x20','nestedKeyValue','OmWUt','BS_A11Y_JWT','frameworkVersion','lgDmN','Htjik','jiFeY','false','\x20:\x20','build_hashed_id','error','info','kHcee','QyNBb','522040ZoXNlX','json','lfXuJ','debug','password','gzmol','TestRunSkipped','MSPnn','env','Sxvcv','sendTraceZip','TaAXi','api/v1/builds','bkebr','pendingUploads','Processing\x20event\x20-\x20\x27','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20','BwXZx','485928xEYaOB','DnRen','jwt','382123MWsWwN','DioQL','LogCreated','POST','../logger','BROWSERSTACK_TESTHUB_UUID','getAgentVersion','BROWSERSTACK_TESTHUB_JWT','PQfMK','basename','toString','RDgdn','YPjPT','Hook_End_Upload','../helper','AihHp','vwIxQ','Data\x20upload\x20to\x20BrowserStack\x20','\x20failed\x20due\x20to\x20','TeiSn','getGitMetaData','Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20','add','75954bYFjmK','waitForBuildStatus','message','browserstackAutomation','exports','Hook_Start_Upload','YErto','TTiEY','YgaeE','XChJz','SjUXh','getCiInfo','data','aDGDM','Authorization','BS_TESTOPS_BUILD_HASHED_ID','BS_TESTOPS_BUILD_COMPLETED','icDAp','status','getLogTag','ElNry','stringify','lVmby','statusText','jKBYb','success','start','eventUrl','buildIdentifier','\x20retry\x20runs\x20exceeded'];a129_0x1843=function(){return _0x27aed0;};return a129_0x1843();}class SessionHandler{static [a129_0x1dbb17(0x1f9)]=RequestQueueHandler[a129_0x1dbb17(0x1ec)]();static async[a129_0x1dbb17(0x1cd)](_0x5bbb9d,_0x317235){const _0x3fb216=a129_0x1dbb17,_0x3c2b43={'taAFH':function(_0x21ba2d,_0x58e2cb){return _0x21ba2d||_0x58e2cb;},'ULvmQ':function(_0x1acc16,_0x1cddf4){return _0x1acc16||_0x1cddf4;},'YfIoN':function(_0x4808c6,_0x5edd0d){return _0x4808c6===_0x5edd0d;},'Htjik':function(_0x395249,_0x4eca71){return _0x395249(_0x4eca71);},'jNEuL':'EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','fhZRq':'false','UJzAh':_0x3fb216(0x228),'IIsvD':function(_0x2170e0,_0xfa3429){return _0x2170e0(_0xfa3429);},'GRpjE':function(_0x2ae4ba,_0x3e4da6){return _0x2ae4ba(_0x3e4da6);},'RDgdn':function(_0x498743,_0x332fa4,_0x5561cd,_0x2d4fd5,_0x23a64c){return _0x498743(_0x332fa4,_0x5561cd,_0x2d4fd5,_0x23a64c);},'jhAFT':'POST','woIbh':_0x3fb216(0x233),'gzmol':'Build\x20creation\x20successful!','wGxrj':function(_0xd146f2){return _0xd146f2();},'TaAXi':_0x3fb216(0x1cc),'YgaeE':_0x3fb216(0x205),'DnRen':function(_0x420c7c,_0x2ed149){return _0x420c7c(_0x2ed149);},'wBPKi':_0x3fb216(0x1d1),'QyNBb':_0x3fb216(0x1e5),'mTuwg':'ERROR_SDK_DEPRECATED'};logger[_0x3fb216(0x224)](_0x3fb216(0x1bb)+util[_0x3fb216(0x1f6)](_0x5bbb9d));const _0xc85557=bsSetupHelper[_0x3fb216(0x215)](_0x5bbb9d),_0x4c1d51=bsSetupHelper['getAccessKey'](_0x5bbb9d),_0x56a4a9=_0x3c2b43[_0x3fb216(0x1d5)](_0xc85557,'')+':'+_0x3c2b43[_0x3fb216(0x1d0)](_0x4c1d51,'');if(_0x3c2b43[_0x3fb216(0x213)](_0x56a4a9,':'))return _0x3c2b43[_0x3fb216(0x21e)](debug,_0x3c2b43[_0x3fb216(0x1c8)]),process[_0x3fb216(0x22f)][_0x3fb216(0x1ab)]=_0x3c2b43[_0x3fb216(0x1e3)],[null,null];let _0x3ab327=![],_0x38aa6c=![];if(_0x5bbb9d[_0x3fb216(0x256)]&&_0x5bbb9d['app'])_0x38aa6c=!![];else _0x5bbb9d[_0x3fb216(0x256)]&&(_0x3ab327=!![]);try{const _0x10b23a={'format':_0x3c2b43[_0x3fb216(0x1b9)],'project_name':_0x5bbb9d[_0x3fb216(0x1e7)]||'','name':_0x5bbb9d[_0x3fb216(0x20a)]||path[_0x3fb216(0x245)](path[_0x3fb216(0x204)](process[_0x3fb216(0x1ee)]())),'build_identifier':_0x5bbb9d[_0x3fb216(0x1b7)],'description':_0x5bbb9d[_0x3fb216(0x1fb)]||'','start_time':new Date()[_0x3fb216(0x201)](),'tags':_0x3c2b43['Htjik'](getCustomTags,_0x5bbb9d),'host_info':bsSetupHelper[_0x3fb216(0x1f7)](),'ci_info':bsSetupHelper[_0x3fb216(0x25e)](),'build_run_identifier':process[_0x3fb216(0x22f)][_0x3fb216(0x1d9)],'failed_tests_rerun':process['env'][_0x3fb216(0x1bd)]||![],'version_control':await bsSetupHelper[_0x3fb216(0x250)](),'observability_version':{'frameworkName':_0x317235[_0x3fb216(0x1f0)],'frameworkVersion':_0x317235[_0x3fb216(0x21c)],'sdkVersion':bsSetupHelper[_0x3fb216(0x242)]()},'product_map':_0x3c2b43['IIsvD'](getProductMap,_0x5bbb9d),'test_orchestration':_0x3c2b43[_0x3fb216(0x1cb)](getTestOrchestrationBuildStartData,_0x5bbb9d)},_0x2cc746={};_0x2cc746[_0x3fb216(0x1ed)]=_0xc85557,_0x2cc746[_0x3fb216(0x22b)]=_0x4c1d51;const _0x522ddd={'auth':_0x2cc746,'headers':_0x3c2b43[_0x3fb216(0x1f1)](getDefaultHeaders,![])},_0x4364a8=await _0x3c2b43[_0x3fb216(0x247)](nodeRequest,_0x3c2b43[_0x3fb216(0x1e9)],_0x3c2b43[_0x3fb216(0x208)],_0x10b23a,_0x522ddd);_0x3c2b43[_0x3fb216(0x1cb)](debug,_0x3c2b43[_0x3fb216(0x22c)]);const _0x49823f=_0x4364a8[_0x3fb216(0x25f)];_0x49823f[_0x3fb216(0x222)]&&(process[_0x3fb216(0x22f)][_0x3fb216(0x241)]=_0x49823f['build_hashed_id']);if(_0x3c2b43[_0x3fb216(0x1d6)](isTestObservabilitySession)){process[_0x3fb216(0x22f)]['BS_TESTOPS_BUILD_COMPLETED']=_0x3c2b43[_0x3fb216(0x232)];if(_0x49823f[_0x3fb216(0x23b)]){process['env']['BS_TESTOPS_JWT']=_0x49823f[_0x3fb216(0x23b)];const _0x523179={};_0x523179[_0x3fb216(0x1ed)]=_0xc85557,_0x523179[_0x3fb216(0x22b)]=_0x4c1d51,process[_0x3fb216(0x22f)]['CREDENTIALS_FOR_CRASH_REPORTING']=JSON[_0x3fb216(0x1b0)](_0x523179);}_0x49823f[_0x3fb216(0x222)]&&(process['env'][_0x3fb216(0x1aa)]=_0x49823f[_0x3fb216(0x222)]),_0x49823f[_0x3fb216(0x1fa)]&&(process[_0x3fb216(0x22f)][_0x3fb216(0x1be)]=_0x49823f['allow_screenshots'][_0x3fb216(0x246)]());}return[_0x4364a8['data'][_0x3fb216(0x23b)],_0x4364a8[_0x3fb216(0x25f)]['build_hashed_id'],_0x4364a8[_0x3fb216(0x25f)][_0x3fb216(0x1fa)]];}catch(_0x33c672){process[_0x3fb216(0x22f)]['BROWSERSTACK_TESTHUB_UUID']=_0x3c2b43[_0x3fb216(0x25b)],process[_0x3fb216(0x22f)][_0x3fb216(0x1ab)]=_0x3c2b43[_0x3fb216(0x1e3)],process['env'][_0x3fb216(0x1c1)]=_0x3c2b43[_0x3fb216(0x25b)],process['env'][_0x3fb216(0x1aa)]=_0x3c2b43['YgaeE'],process[_0x3fb216(0x22f)][_0x3fb216(0x1be)]=_0x3c2b43['YgaeE'];_0x33c672[_0x3fb216(0x206)]?_0x3c2b43[_0x3fb216(0x1f1)](debug,'EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20'+_0x33c672[_0x3fb216(0x206)][_0x3fb216(0x1ad)]+'\x20'+_0x33c672['response'][_0x3fb216(0x1b2)]+'\x20'+JSON[_0x3fb216(0x1b0)](_0x33c672['response']['data'])):_0x3c2b43[_0x3fb216(0x23a)](debug,'EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20'+(_0x33c672['message']||_0x33c672));if(_0x33c672&&_0x33c672[_0x3fb216(0x255)]){const _0x3f510e=_0x33c672[_0x3fb216(0x255)];switch(_0x33c672[_0x3fb216(0x216)]){case _0x3c2b43['wBPKi']:logger['error'](_0x3f510e);break;case _0x3c2b43[_0x3fb216(0x226)]:logger[_0x3fb216(0x224)](_0x3f510e);break;case _0x3c2b43[_0x3fb216(0x20b)]:logger[_0x3fb216(0x223)](_0x3f510e);break;default:logger[_0x3fb216(0x223)](_0x3f510e);}}else console[_0x3fb216(0x224)](_0x3fb216(0x24d)+constants[_0x3fb216(0x1d2)]+_0x3fb216(0x24e)+_0x33c672);return[null,null,null];}}static async[a129_0x1dbb17(0x254)](){const _0x51c74a=a129_0x1dbb17,_0x1799f1={'vwIxQ':'true','TeiSn':_0x51c74a(0x220),'MSPnn':function(_0x15f96b,_0x31905c){return _0x15f96b(_0x31905c);}},_0x5c5df4=process[_0x51c74a(0x22f)]['BS_TESTOPS_BUILD_COMPLETED'];if([_0x1799f1[_0x51c74a(0x24c)],_0x1799f1[_0x51c74a(0x24f)]][_0x51c74a(0x1f2)](_0x5c5df4))return;while([_0x1799f1[_0x51c74a(0x24c)],_0x1799f1[_0x51c74a(0x24f)]][_0x51c74a(0x1f2)](_0x5c5df4)){await _0x1799f1[_0x51c74a(0x22e)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static[a129_0x1dbb17(0x1ae)](_0x35c6a1){const _0x4b832e=a129_0x1dbb17,_0xdbbc04={};_0xdbbc04['XChJz']=_0x4b832e(0x1c3),_0xdbbc04[_0x4b832e(0x1b1)]=_0x4b832e(0x1f3),_0xdbbc04[_0x4b832e(0x1db)]=_0x4b832e(0x1c5),_0xdbbc04[_0x4b832e(0x248)]='Log_Upload',_0xdbbc04[_0x4b832e(0x1ac)]=_0x4b832e(0x258),_0xdbbc04['YxXmu']=_0x4b832e(0x249),_0xdbbc04[_0x4b832e(0x1ca)]='CBT_Upload';const _0x1c11ab=_0xdbbc04,_0x35a3f1={};return _0x35a3f1['TestRunStarted']=_0x1c11ab[_0x4b832e(0x25c)],_0x35a3f1[_0x4b832e(0x1d8)]=_0x1c11ab[_0x4b832e(0x1b1)],_0x35a3f1[_0x4b832e(0x22d)]=_0x1c11ab[_0x4b832e(0x1db)],_0x35a3f1[_0x4b832e(0x23e)]=_0x1c11ab[_0x4b832e(0x248)],_0x35a3f1['HookRunStarted']=_0x1c11ab[_0x4b832e(0x1ac)],_0x35a3f1[_0x4b832e(0x1c4)]=_0x1c11ab[_0x4b832e(0x1e0)],_0x35a3f1['CBTSessionCreated']=_0x1c11ab[_0x4b832e(0x1ca)],_0x35a3f1[_0x35c6a1[_0x4b832e(0x1dc)]];}static async[a129_0x1dbb17(0x1ef)](_0x5724cb,_0x3c4374=0x0,_0x10871f=null){const _0xcb99c6=a129_0x1dbb17,_0x37e4c0={'bkebr':function(_0x30866f,_0x31a536){return _0x30866f===_0x31a536;},'AihHp':_0xcb99c6(0x231),'kHcee':function(_0x519d59,_0x384925){return _0x519d59!==_0x384925;},'jKBYb':'application/json','pPIGL':'true','BwXZx':function(_0x4eb8f9,_0x1e4ea9){return _0x4eb8f9===_0x1e4ea9;},'YErto':function(_0x20090f,_0x4c1bc0,_0x479c27,_0x364bd4,_0x105465){return _0x20090f(_0x4c1bc0,_0x479c27,_0x364bd4,_0x105465);},'aDGDM':_0xcb99c6(0x23f),'bWRIo':function(_0x4e8a70,_0x203a53,_0x588ce3,_0x4439c8,_0x185a15){return _0x4e8a70(_0x203a53,_0x588ce3,_0x4439c8,_0x185a15);},'WBSGH':function(_0xe4a587,_0x1378e6){return _0xe4a587(_0x1378e6);},'PQfMK':function(_0xa58e33,_0x3fe750){return _0xa58e33!==_0x3fe750;},'GCbFk':_0xcb99c6(0x1f4),'aZkMH':function(_0x1695e0,_0x34acaf){return _0x1695e0-_0x34acaf;},'UqdWk':_0xcb99c6(0x1c6),'hctAy':_0xcb99c6(0x1b4),'EnfuB':function(_0x2caf2f,_0x139422){return _0x2caf2f(_0x139422);},'gXKqg':function(_0x8197fe,_0x228027){return _0x8197fe(_0x228027);},'ElNry':function(_0x297631,_0x4eb9a2){return _0x297631-_0x4eb9a2;},'DioQL':function(_0x15b1da,_0x1838f4){return _0x15b1da===_0x1838f4;},'RaKzZ':'error'};_0x37e4c0[_0xcb99c6(0x234)](_0x10871f,_0x37e4c0['AihHp'])&&logger[_0xcb99c6(0x22a)](_0xcb99c6(0x1e4)+_0x5724cb[_0xcb99c6(0x1e2)][0x0][_0xcb99c6(0x1c2)]);const _0x36c24b=await this[_0xcb99c6(0x1ae)](_0x5724cb);let _0x199acc=_0x5724cb,_0x5de4a1=EVENT_ENDPOINT;_0x37e4c0[_0xcb99c6(0x225)](_0x10871f,_0x37e4c0[_0xcb99c6(0x24b)])&&this[_0xcb99c6(0x1f9)][_0xcb99c6(0x1b5)]();const {shouldProceed:_0x50cb49,proceedWithData:_0xdb3993,proceedWithUrl:_0x59d7ef}=this[_0xcb99c6(0x1f9)][_0xcb99c6(0x252)](_0x5724cb);if(!_0x50cb49)return;else _0xdb3993&&(_0x199acc=_0xdb3993,_0x5de4a1=_0x59d7ef);const _0x3e12c7={};_0x3e12c7[_0xcb99c6(0x1a9)]=_0xcb99c6(0x1d4)+process[_0xcb99c6(0x22f)][_0xcb99c6(0x243)],_0x3e12c7[_0xcb99c6(0x1c9)]=_0x37e4c0[_0xcb99c6(0x1b3)],_0x3e12c7[_0xcb99c6(0x1f5)]=_0x37e4c0[_0xcb99c6(0x207)];const _0x4db7db={};_0x4db7db[_0xcb99c6(0x1f8)]=_0x3e12c7;const _0x6aeb5e=_0x4db7db;let _0x470bc5;try{_0x37e4c0[_0xcb99c6(0x238)](_0x10871f,_0x37e4c0[_0xcb99c6(0x24b)])?(logger[_0xcb99c6(0x22a)](_0xcb99c6(0x251)+_0x5724cb?.['logs'][0x0]?.[_0xcb99c6(0x1c2)]),_0x470bc5=await _0x37e4c0[_0xcb99c6(0x259)](asyncAwaitNodeReq,_0x37e4c0[_0xcb99c6(0x260)],_0x5de4a1,_0x199acc,_0x6aeb5e),logger[_0xcb99c6(0x22a)](_0xcb99c6(0x237)+_0x5724cb?.[_0xcb99c6(0x1e2)][0x0]?.[_0xcb99c6(0x1c2)])):_0x470bc5=await _0x37e4c0[_0xcb99c6(0x1c7)](nodeRequest,_0x37e4c0[_0xcb99c6(0x260)],_0x5de4a1,_0x199acc,_0x6aeb5e);if(_0x470bc5['data'][_0xcb99c6(0x223)]){const _0x34a0d0={};_0x34a0d0[_0xcb99c6(0x255)]=_0x470bc5[_0xcb99c6(0x25f)][_0xcb99c6(0x223)];throw _0x34a0d0;}else{_0x37e4c0[_0xcb99c6(0x212)](debug,(_0x37e4c0[_0xcb99c6(0x244)](_0x5de4a1,this[_0xcb99c6(0x1f9)][_0xcb99c6(0x1b6)])?_0x36c24b:_0x37e4c0[_0xcb99c6(0x217)])+'['+_0x3c4374+_0xcb99c6(0x1ba)),this[_0xcb99c6(0x1f9)][_0xcb99c6(0x235)]=Math[_0xcb99c6(0x1de)](0x0,_0x37e4c0[_0xcb99c6(0x209)](this[_0xcb99c6(0x1f9)]['pendingUploads'],_0x37e4c0['bkebr'](_0x5de4a1,_0x37e4c0[_0xcb99c6(0x1e1)])?0x1:_0x199acc['length']));const _0x1b40af={};return _0x1b40af[_0xcb99c6(0x1ad)]=_0x37e4c0['hctAy'],_0x1b40af[_0xcb99c6(0x255)]='',_0x1b40af;}}catch(_0x313e42){_0x313e42[_0xcb99c6(0x206)]?_0x37e4c0['EnfuB'](debug,_0xcb99c6(0x1bf)+(_0x37e4c0[_0xcb99c6(0x225)](_0x5de4a1,this[_0xcb99c6(0x1f9)][_0xcb99c6(0x1b6)])?_0x36c24b:_0x37e4c0[_0xcb99c6(0x217)])+_0xcb99c6(0x218)+constants[_0xcb99c6(0x1d2)]+_0xcb99c6(0x221)+_0x313e42['response']['status']+'\x20'+_0x313e42[_0xcb99c6(0x206)][_0xcb99c6(0x1b2)]+'\x20'+util[_0xcb99c6(0x1bc)](_0x313e42['response'][_0xcb99c6(0x25f)])):_0x37e4c0['gXKqg'](debug,_0xcb99c6(0x1bf)+(_0x37e4c0[_0xcb99c6(0x225)](_0x5de4a1,this[_0xcb99c6(0x1f9)][_0xcb99c6(0x1b6)])?_0x36c24b:_0x37e4c0[_0xcb99c6(0x217)])+_0xcb99c6(0x218)+constants[_0xcb99c6(0x1d2)]+'\x20:\x20'+util[_0xcb99c6(0x1bc)](_0x313e42));this['requestQueueHandler'][_0xcb99c6(0x235)]=Math['max'](0x0,_0x37e4c0[_0xcb99c6(0x1af)](this[_0xcb99c6(0x1f9)][_0xcb99c6(0x235)],_0x37e4c0[_0xcb99c6(0x23d)](_0x5de4a1,_0x37e4c0[_0xcb99c6(0x1e1)])?0x1:_0x199acc[_0xcb99c6(0x1dd)]));const _0x44a2d7={};return _0x44a2d7[_0xcb99c6(0x1ad)]=_0x37e4c0[_0xcb99c6(0x1cf)],_0x44a2d7[_0xcb99c6(0x255)]=_0x313e42[_0xcb99c6(0x255)]||(_0x313e42[_0xcb99c6(0x206)]?_0x313e42['response'][_0xcb99c6(0x1ad)]+':'+_0x313e42[_0xcb99c6(0x206)][_0xcb99c6(0x1b2)]:_0x313e42),_0x44a2d7;}}static async['uploadEventData'](_0x42548f,_0x4a991e=0x0){const _0x9bef2a=a129_0x1dbb17,_0x522139={'EzbLi':function(_0x20507a,_0x196887){return _0x20507a+_0x196887;},'hgoYo':function(_0x22117a,_0x3d7b8d){return _0x22117a(_0x3d7b8d);},'EkXus':_0x9bef2a(0x1fd),'Sxvcv':_0x9bef2a(0x1da),'djPfC':'hook_run','doyrg':function(_0x18b627,_0x4e56a5,_0x4e963f){return _0x18b627(_0x4e56a5,_0x4e963f);},'yOJLO':_0x9bef2a(0x20f),'oBheA':function(_0x5e9dda,_0xf22c99){return _0x5e9dda===_0xf22c99;},'lTTZf':function(_0x3dd92d,_0x4eb638){return _0x3dd92d!==_0x4eb638;},'BvMJt':_0x9bef2a(0x205),'SjUXh':_0x9bef2a(0x1cc),'iIhcT':function(_0x7fd783){return _0x7fd783();},'jiFeY':function(_0x105a72,_0x157afd){return _0x105a72===_0x157afd;},'IJXys':function(_0x1ee825,_0x10faa2){return _0x1ee825(_0x10faa2);},'lfXuJ':function(_0x14905e,_0x935203){return _0x14905e-_0x935203;},'ATNdG':'error','xMVNo':_0x9bef2a(0x202),'VcPLs':function(_0x3336fc,_0x39d721){return _0x3336fc>=_0x39d721;},'TTiEY':function(_0x9a01e4,_0x1917cf){return _0x9a01e4(_0x1917cf);},'aJPHH':'Retry\x20runs\x20exceeded','xQpNC':function(_0x9230b5,_0x227e1c){return _0x9230b5!==_0x227e1c;},'lgDmN':_0x9bef2a(0x220),'OmWUt':function(_0x54b23f,_0x4aec02,_0x354d27){return _0x54b23f(_0x4aec02,_0x354d27);}},_0x4ad9be=this[_0x9bef2a(0x1ae)](_0x42548f);_0x522139[_0x9bef2a(0x210)](trace,_0x9bef2a(0x236)+_0x42548f[_0x9bef2a(0x1dc)]+'\x27\x20'+(bsSetupHelper['nestedKeyValue'](_0x42548f,[_0x522139[_0x9bef2a(0x1ea)],_0x522139[_0x9bef2a(0x230)]])||bsSetupHelper[_0x9bef2a(0x219)](_0x42548f,[_0x522139[_0x9bef2a(0x200)],_0x522139[_0x9bef2a(0x230)]])));if(!_0x522139[_0x9bef2a(0x20c)](shouldProcessEventForTesthub,_0x42548f[_0x9bef2a(0x1dc)],_0x522139[_0x9bef2a(0x1ce)]))return;_0x522139['oBheA'](_0x4a991e,0x0)&&process['env'][_0x9bef2a(0x243)]&&_0x522139[_0x9bef2a(0x1e8)](process[_0x9bef2a(0x22f)][_0x9bef2a(0x243)],_0x522139[_0x9bef2a(0x1fe)])&&(this['requestQueueHandler'][_0x9bef2a(0x235)]+=0x1);if(_0x522139['oBheA'](process['env'][_0x9bef2a(0x1ab)],_0x522139[_0x9bef2a(0x25d)])||process[_0x9bef2a(0x22f)][_0x9bef2a(0x21b)]||_0x522139['iIhcT'](isPercyBuild)){if(_0x522139[_0x9bef2a(0x21f)](process['env'][_0x9bef2a(0x243)],_0x522139[_0x9bef2a(0x1fe)])){_0x522139['IJXys'](debug,'EXCEPTION\x20IN\x20'+_0x4ad9be+_0x9bef2a(0x218)+constants['TEST_REPORTING_ANALYTICS']+_0x9bef2a(0x214)),this[_0x9bef2a(0x1f9)][_0x9bef2a(0x235)]=Math[_0x9bef2a(0x1de)](0x0,_0x522139[_0x9bef2a(0x229)](this[_0x9bef2a(0x1f9)][_0x9bef2a(0x235)],0x1));const _0x2932bb={};return _0x2932bb[_0x9bef2a(0x1ad)]=_0x522139[_0x9bef2a(0x20e)],_0x2932bb['message']=_0x522139['xMVNo'],_0x2932bb;}return await this[_0x9bef2a(0x1ef)](_0x42548f,_0x4a991e);}else{if(_0x522139[_0x9bef2a(0x1df)](_0x4a991e,0x5)){_0x522139[_0x9bef2a(0x25a)](debug,_0x9bef2a(0x1bf)+_0x4ad9be+_0x9bef2a(0x218)+constants['TEST_REPORTING_ANALYTICS']+_0x9bef2a(0x203)+_0x4ad9be+_0x9bef2a(0x1b8));_0x522139[_0x9bef2a(0x1e8)](process[_0x9bef2a(0x22f)][_0x9bef2a(0x243)],_0x522139['BvMJt'])&&(this[_0x9bef2a(0x1f9)][_0x9bef2a(0x235)]=Math[_0x9bef2a(0x1de)](0x0,_0x522139[_0x9bef2a(0x229)](this[_0x9bef2a(0x1f9)]['pendingUploads'],0x1)));const _0x5053bc={};return _0x5053bc[_0x9bef2a(0x1ad)]=_0x522139[_0x9bef2a(0x20e)],_0x5053bc[_0x9bef2a(0x255)]=_0x522139['aJPHH'],_0x5053bc;}else _0x522139[_0x9bef2a(0x1c0)](process[_0x9bef2a(0x22f)]['BS_TESTOPS_BUILD_COMPLETED'],_0x522139[_0x9bef2a(0x21d)])&&_0x522139[_0x9bef2a(0x21a)](setTimeout,()=>{this['uploadEventData'](_0x42548f,_0x522139['EzbLi'](_0x4a991e,0x1));},0x3e8);}}}module[a129_0x1dbb17(0x257)]=SessionHandler;