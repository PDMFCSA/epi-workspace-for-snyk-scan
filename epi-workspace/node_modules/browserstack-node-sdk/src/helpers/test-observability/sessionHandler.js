const a129_0xfa4b45=a129_0x35be;function a129_0x1415(){const _0x3b6554=['141170ZuxEbm','info','env','xuxyx','GDWey','78849MRdUbW','\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','basename','oeKLn','getUserName','222NWgtoz','XXacP','start','Retry\x20runs\x20exceeded','add','logs','WOWYD','BS_TESTOPS_ALLOW_SCREENSHOTS','114002LhcHDc','buildIdentifier','FLAii','ERROR_ACCESS_DENIED','ezvzD','BS_TESTOPS_BUILD_COMPLETED','AviCl','statusText','UzcOk','xxswI','LArcM','Hook_End_Upload','hWrwC','stringify','winstonLogger','qikfU','null','inspect','Test_Start_Upload','qxiLj','pendingUploads','frameworkVersion','iBNWS',']\x20event\x20successful!','owDsa','fJTfv','headers','wzuqG','EXCEPTION\x20IN\x20','HyjWM','test_run','3ZPAorp','buildDescription','SdKRI','getHostInfo','Data\x20upload\x20to\x20BrowserStack\x20','build_hashed_id','getGitMetaData','zlwkX','TEST_REPORTING_ANALYTICS','mEDXi','browserstackAutomation','Content-Type','ERROR_SDK_DEPRECATED','toISOString','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','rIZNx','EFhet','exports','BROWSERSTACK_RERUN','200hICfZW','sZjfV','event_type','username','uploadEventData','getLogTag','jwt','KAQwc','pCQoK','HookRunFinished','data','api/v1/event','CBT_Upload','FTYBs','Build\x20creation\x20successful!','qtVtl','EDLFH','\x20failed\x20due\x20to\x20','hvIqS','message','69959iITqbR','TestRunStarted','api/v1/builds','OfLJp','DBGhv','true','mRGcY','NJiAn','\x20:\x20','BROWSERSTACK_TESTHUB_JWT','allow_screenshots','Processing\x20event\x20-\x20\x27','getAgentVersion','Test_Skipped_Upload','format','Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20','error','requestQueueHandler','util','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','NyvAo','launch','xcLzw','app','response','CBlxG','711424KRlmZK','HQnDA','BROWSERSTACK_TESTHUB_UUID','SVFeS','qHWTU','toString','test_run_uuid','buildName','GYSuf','HfZlU','./utils','path','getInstance','password','LogCreated','eventUrl','vNSka','HGstf','resolve','bFEhY','BS_A11Y_JWT','nRTMd','../logger','X-BSTACK-TESTOPS','lngBg','\x20retry\x20runs\x20exceeded','PXwwE','Bearer\x20','./constants','Oqtuo','QmFuF','sendEventData','pITPA','ukyHw','BS_TESTOPS_BUILD_HASHED_ID','nlZcT','length','489718utwsjP','ngKlu','ELNhw','includes','sjVpe','\x20REQUEST\x20TO\x20','application/json','projectName','hMeWh','hook_run','status','UkfYA','cwd','BS_TESTOPS_JWT','Log_Upload','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','429OXWBOk','debug','aElSE','3518580OMOgdm','max','false'];a129_0x1415=function(){return _0x3b6554;};return a129_0x1415();}(function(_0x2e1b19,_0x2f685a){const _0xcea81d=a129_0x35be,_0x1ee158=_0x2e1b19();while(!![]){try{const _0x2c111d=-parseInt(_0xcea81d(0x1d7))/0x1+-parseInt(_0xcea81d(0x216))/0x2*(-parseInt(_0xcea81d(0x1b0))/0x3)+-parseInt(_0xcea81d(0x1f1))/0x4+parseInt(_0xcea81d(0x17c))/0x5+-parseInt(_0xcea81d(0x189))/0x6*(parseInt(_0xcea81d(0x191))/0x7)+parseInt(_0xcea81d(0x1c3))/0x8*(-parseInt(_0xcea81d(0x184))/0x9)+-parseInt(_0xcea81d(0x17f))/0xa*(-parseInt(_0xcea81d(0x226))/0xb);if(_0x2c111d===_0x2f685a)break;else _0x1ee158['push'](_0x1ee158['shift']());}catch(_0x451bc2){_0x1ee158['push'](_0x1ee158['shift']());}}}(a129_0x1415,0x68e94));const bsSetupHelper=require('../helper'),path=require(a129_0xfa4b45(0x1fc)),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require(a129_0xfa4b45(0x1fb)),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require(a129_0xfa4b45(0x20d)),RequestQueueHandler=require('./requestQueueHandler'),logger=require(a129_0xfa4b45(0x207))[a129_0xfa4b45(0x19f)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require('../../helpers/testhub/utils'),util=require(a129_0xfa4b45(0x1e9)),constants=require('../../bin/utils/constants');class SessionHandler{static [a129_0xfa4b45(0x1e8)]=RequestQueueHandler[a129_0xfa4b45(0x1fd)]();static async[a129_0xfa4b45(0x1ec)](_0x2675b6,_0x14745d){const _0xbaeb9b=a129_0xfa4b45,_0x27abe1={'xuxyx':function(_0x245965,_0x3e95b3){return _0x245965||_0x3e95b3;},'wzuqG':function(_0x4c62ac,_0x51beae){return _0x4c62ac||_0x51beae;},'zlwkX':function(_0x39a7c9,_0x840373){return _0x39a7c9===_0x840373;},'HfZlU':function(_0x100986,_0x2483d9){return _0x100986(_0x2483d9);},'FLAii':_0xbaeb9b(0x1be),'GDWey':'false','ngKlu':'json','sjVpe':function(_0x3b9da8,_0x862383){return _0x3b9da8(_0x862383);},'qtVtl':function(_0x55375d,_0x3e4e13){return _0x55375d(_0x3e4e13);},'EVIZF':function(_0x33356,_0x2d8fb1){return _0x33356(_0x2d8fb1);},'DBGhv':function(_0x445dd9,_0x1ec14a,_0x1569c4,_0x356f9e,_0x449f81){return _0x445dd9(_0x1ec14a,_0x1569c4,_0x356f9e,_0x449f81);},'lbvJv':'POST','GYSuf':_0xbaeb9b(0x1d9),'sZjfV':function(_0x5eb818,_0x1eed1d){return _0x5eb818(_0x1eed1d);},'QmFuF':_0xbaeb9b(0x1d1),'HGstf':function(_0x3340eb){return _0x3340eb();},'BUteZ':_0xbaeb9b(0x1dc),'xcLzw':_0xbaeb9b(0x1a1),'pITPA':function(_0x469458,_0x3f875d){return _0x469458(_0x3f875d);},'zZiiu':'ERROR_INVALID_CREDENTIALS','Lowvi':_0xbaeb9b(0x194),'lngBg':_0xbaeb9b(0x1bc)};logger[_0xbaeb9b(0x180)](_0xbaeb9b(0x1e6)+util[_0xbaeb9b(0x1a2)](_0x2675b6));const _0x2be254=bsSetupHelper[_0xbaeb9b(0x188)](_0x2675b6),_0x1e9dd8=bsSetupHelper['getAccessKey'](_0x2675b6),_0x4b80a1=_0x27abe1[_0xbaeb9b(0x182)](_0x2be254,'')+':'+_0x27abe1[_0xbaeb9b(0x1ac)](_0x1e9dd8,'');if(_0x27abe1[_0xbaeb9b(0x1b7)](_0x4b80a1,':'))return _0x27abe1[_0xbaeb9b(0x1fa)](debug,_0x27abe1[_0xbaeb9b(0x193)]),process[_0xbaeb9b(0x181)][_0xbaeb9b(0x196)]=_0x27abe1[_0xbaeb9b(0x183)],[null,null];let _0x2b604a=![],_0x180aa1=![];if(_0x2675b6[_0xbaeb9b(0x1ba)]&&_0x2675b6[_0xbaeb9b(0x1ee)])_0x180aa1=!![];else _0x2675b6[_0xbaeb9b(0x1ba)]&&(_0x2b604a=!![]);try{const _0x519e40={'format':_0x27abe1[_0xbaeb9b(0x217)],'project_name':_0x2675b6[_0xbaeb9b(0x21d)]||'','name':_0x2675b6[_0xbaeb9b(0x1f8)]||path[_0xbaeb9b(0x186)](path[_0xbaeb9b(0x203)](process[_0xbaeb9b(0x222)]())),'build_identifier':_0x2675b6[_0xbaeb9b(0x192)],'description':_0x2675b6[_0xbaeb9b(0x1b1)]||'','start_time':new Date()[_0xbaeb9b(0x1bd)](),'tags':_0x27abe1[_0xbaeb9b(0x21a)](getCustomTags,_0x2675b6),'host_info':bsSetupHelper[_0xbaeb9b(0x1b3)](),'ci_info':bsSetupHelper['getCiInfo'](),'build_run_identifier':process[_0xbaeb9b(0x181)]['BROWSERSTACK_BUILD_RUN_IDENTIFIER'],'failed_tests_rerun':process[_0xbaeb9b(0x181)][_0xbaeb9b(0x1c2)]||![],'version_control':await bsSetupHelper[_0xbaeb9b(0x1b6)](),'observability_version':{'frameworkName':_0x14745d['frameworkName'],'frameworkVersion':_0x14745d[_0xbaeb9b(0x1a6)],'sdkVersion':bsSetupHelper[_0xbaeb9b(0x1e3)]()},'product_map':_0x27abe1[_0xbaeb9b(0x1d2)](getProductMap,_0x2675b6),'test_orchestration':_0x27abe1['sjVpe'](getTestOrchestrationBuildStartData,_0x2675b6)},_0x3c0f28={};_0x3c0f28[_0xbaeb9b(0x1c6)]=_0x2be254,_0x3c0f28[_0xbaeb9b(0x1fe)]=_0x1e9dd8;const _0xb00148={'auth':_0x3c0f28,'headers':_0x27abe1['EVIZF'](getDefaultHeaders,![])},_0x3292bb=await _0x27abe1[_0xbaeb9b(0x1db)](nodeRequest,_0x27abe1['lbvJv'],_0x27abe1[_0xbaeb9b(0x1f9)],_0x519e40,_0xb00148);_0x27abe1[_0xbaeb9b(0x1c4)](debug,_0x27abe1[_0xbaeb9b(0x20f)]);const _0x33a08e=_0x3292bb[_0xbaeb9b(0x1cd)];_0x33a08e[_0xbaeb9b(0x1b5)]&&(process['env'][_0xbaeb9b(0x1f3)]=_0x33a08e['build_hashed_id']);if(_0x27abe1[_0xbaeb9b(0x202)](isTestObservabilitySession)){process[_0xbaeb9b(0x181)][_0xbaeb9b(0x196)]=_0x27abe1['BUteZ'];if(_0x33a08e[_0xbaeb9b(0x1c9)]){process[_0xbaeb9b(0x181)][_0xbaeb9b(0x223)]=_0x33a08e[_0xbaeb9b(0x1c9)];const _0x4d2035={};_0x4d2035[_0xbaeb9b(0x1c6)]=_0x2be254,_0x4d2035['password']=_0x1e9dd8,process[_0xbaeb9b(0x181)]['CREDENTIALS_FOR_CRASH_REPORTING']=JSON[_0xbaeb9b(0x19e)](_0x4d2035);}_0x33a08e[_0xbaeb9b(0x1b5)]&&(process['env'][_0xbaeb9b(0x213)]=_0x33a08e[_0xbaeb9b(0x1b5)]),_0x33a08e[_0xbaeb9b(0x1e1)]&&(process[_0xbaeb9b(0x181)][_0xbaeb9b(0x190)]=_0x33a08e[_0xbaeb9b(0x1e1)][_0xbaeb9b(0x1f6)]());}return[_0x3292bb[_0xbaeb9b(0x1cd)][_0xbaeb9b(0x1c9)],_0x3292bb[_0xbaeb9b(0x1cd)][_0xbaeb9b(0x1b5)],_0x3292bb['data'][_0xbaeb9b(0x1e1)]];}catch(_0x3151c2){process[_0xbaeb9b(0x181)][_0xbaeb9b(0x1f3)]=_0x27abe1['xcLzw'],process[_0xbaeb9b(0x181)]['BS_TESTOPS_BUILD_COMPLETED']=_0x27abe1[_0xbaeb9b(0x183)],process['env'][_0xbaeb9b(0x223)]=_0x27abe1[_0xbaeb9b(0x1ed)],process[_0xbaeb9b(0x181)][_0xbaeb9b(0x213)]=_0x27abe1[_0xbaeb9b(0x1ed)],process[_0xbaeb9b(0x181)][_0xbaeb9b(0x190)]=_0x27abe1[_0xbaeb9b(0x1ed)];_0x3151c2[_0xbaeb9b(0x1ef)]?_0x27abe1[_0xbaeb9b(0x21a)](debug,_0xbaeb9b(0x1ea)+_0x3151c2[_0xbaeb9b(0x1ef)][_0xbaeb9b(0x220)]+'\x20'+_0x3151c2[_0xbaeb9b(0x1ef)][_0xbaeb9b(0x198)]+'\x20'+JSON['stringify'](_0x3151c2[_0xbaeb9b(0x1ef)]['data'])):_0x27abe1[_0xbaeb9b(0x211)](debug,_0xbaeb9b(0x1ea)+(_0x3151c2['message']||_0x3151c2));if(_0x3151c2&&_0x3151c2[_0xbaeb9b(0x1d6)]){const _0x4e0871=_0x3151c2['message'];switch(_0x3151c2['errorType']){case _0x27abe1['zZiiu']:logger['error'](_0x4e0871);break;case _0x27abe1['Lowvi']:logger[_0xbaeb9b(0x180)](_0x4e0871);break;case _0x27abe1[_0xbaeb9b(0x209)]:logger[_0xbaeb9b(0x1e7)](_0x4e0871);break;default:logger['error'](_0x4e0871);}}else console[_0xbaeb9b(0x180)](_0xbaeb9b(0x1b4)+constants[_0xbaeb9b(0x1b8)]+_0xbaeb9b(0x1d4)+_0x3151c2);return[null,null,null];}}static async['waitForBuildStatus'](){const _0x20cdc7=a129_0xfa4b45,_0x5df966={'CBlxG':'true','NyvAo':_0x20cdc7(0x17e),'mEDXi':function(_0x269122,_0xcfb3b6){return _0x269122(_0xcfb3b6);}},_0x162b8f=process[_0x20cdc7(0x181)][_0x20cdc7(0x196)];if([_0x5df966[_0x20cdc7(0x1f0)],_0x5df966[_0x20cdc7(0x1eb)]]['includes'](_0x162b8f))return;while([_0x5df966[_0x20cdc7(0x1f0)],_0x5df966[_0x20cdc7(0x1eb)]][_0x20cdc7(0x219)](_0x162b8f)){await _0x5df966[_0x20cdc7(0x1b9)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static[a129_0xfa4b45(0x1c8)](_0x4e4a31){const _0x5d917c=a129_0xfa4b45,_0x5f2db6={};_0x5f2db6[_0x5d917c(0x228)]=_0x5d917c(0x1a3),_0x5f2db6[_0x5d917c(0x204)]='Test_End_Upload',_0x5f2db6[_0x5d917c(0x1d3)]=_0x5d917c(0x1e4),_0x5f2db6[_0x5d917c(0x20b)]=_0x5d917c(0x224),_0x5f2db6['qxiLj']='Hook_Start_Upload',_0x5f2db6['hMeWh']=_0x5d917c(0x19c),_0x5f2db6['pCQoK']=_0x5d917c(0x1cf);const _0x37fb95=_0x5f2db6,_0xf15008={};return _0xf15008[_0x5d917c(0x1d8)]=_0x37fb95[_0x5d917c(0x228)],_0xf15008['TestRunFinished']=_0x37fb95[_0x5d917c(0x204)],_0xf15008['TestRunSkipped']=_0x37fb95[_0x5d917c(0x1d3)],_0xf15008[_0x5d917c(0x1ff)]=_0x37fb95[_0x5d917c(0x20b)],_0xf15008['HookRunStarted']=_0x37fb95[_0x5d917c(0x1a4)],_0xf15008[_0x5d917c(0x1cc)]=_0x37fb95[_0x5d917c(0x21e)],_0xf15008['CBTSessionCreated']=_0x37fb95[_0x5d917c(0x1cb)],_0xf15008[_0x4e4a31[_0x5d917c(0x1c5)]];}static async[a129_0xfa4b45(0x210)](_0x3b40a3,_0x2ab69e=0x0,_0x3e3841=null){const _0x36aaa1=a129_0xfa4b45,_0xb3aca7={'HyjWM':function(_0x1c4233,_0x5b4189){return _0x1c4233===_0x5b4189;},'hvIqS':'sendTraceZip','EFhet':function(_0x543563,_0x5e8083){return _0x543563!==_0x5e8083;},'ukyHw':_0x36aaa1(0x21c),'rIZNx':_0x36aaa1(0x1dc),'owDsa':function(_0x5b9601,_0xd17402){return _0x5b9601===_0xd17402;},'Oqtuo':function(_0x56840b,_0x1e3814,_0x6c247a,_0x4c6c1d,_0x3cd8b6){return _0x56840b(_0x1e3814,_0x6c247a,_0x4c6c1d,_0x3cd8b6);},'NJiAn':'POST','zMjrx':function(_0x31e7e0,_0x511727){return _0x31e7e0(_0x511727);},'vfNuO':function(_0x494aba,_0x6350b8){return _0x494aba!==_0x6350b8;},'SVFeS':'Batch-Queue','OfLJp':function(_0x13a801,_0x3533b0){return _0x13a801-_0x3533b0;},'oeKLn':_0x36aaa1(0x1ce),'WOWYD':'success','LArcM':function(_0x1ca687,_0x4b0245){return _0x1ca687(_0x4b0245);},'toSxK':function(_0x4e2de7,_0x4b1e4c){return _0x4e2de7!==_0x4b1e4c;},'mRGcY':function(_0xa9cee2,_0x4a4c6a){return _0xa9cee2!==_0x4a4c6a;},'iBNWS':function(_0x2065e0,_0x1198fb){return _0x2065e0===_0x1198fb;},'HQnDA':_0x36aaa1(0x1e7)};_0xb3aca7[_0x36aaa1(0x1ae)](_0x3e3841,_0xb3aca7[_0x36aaa1(0x1d5)])&&logger[_0x36aaa1(0x227)]('Sending\x20trace\x20zip\x20for\x20test:\x20'+_0x3b40a3[_0x36aaa1(0x18e)][0x0][_0x36aaa1(0x1f7)]);const _0x16aefa=await this[_0x36aaa1(0x1c8)](_0x3b40a3);let _0x466267=_0x3b40a3,_0xd106dd=EVENT_ENDPOINT;_0xb3aca7[_0x36aaa1(0x1c0)](_0x3e3841,_0xb3aca7[_0x36aaa1(0x1d5)])&&this[_0x36aaa1(0x1e8)][_0x36aaa1(0x18b)]();const {shouldProceed:_0xd3c8ee,proceedWithData:_0x35eebb,proceedWithUrl:_0x4acf75}=this['requestQueueHandler'][_0x36aaa1(0x18d)](_0x3b40a3);if(!_0xd3c8ee)return;else _0x35eebb&&(_0x466267=_0x35eebb,_0xd106dd=_0x4acf75);const _0x4ce205={};_0x4ce205['Authorization']=_0x36aaa1(0x20c)+process[_0x36aaa1(0x181)][_0x36aaa1(0x1e0)],_0x4ce205[_0x36aaa1(0x1bb)]=_0xb3aca7[_0x36aaa1(0x212)],_0x4ce205[_0x36aaa1(0x208)]=_0xb3aca7[_0x36aaa1(0x1bf)];const _0x1af37d={};_0x1af37d[_0x36aaa1(0x1ab)]=_0x4ce205;const _0x37d41=_0x1af37d;let _0x5f08ae;try{_0xb3aca7[_0x36aaa1(0x1a9)](_0x3e3841,_0xb3aca7['hvIqS'])?(logger['debug']('Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20'+_0x3b40a3?.[_0x36aaa1(0x18e)][0x0]?.['test_run_uuid']),_0x5f08ae=await _0xb3aca7[_0x36aaa1(0x20e)](asyncAwaitNodeReq,_0xb3aca7['NJiAn'],_0xd106dd,_0x466267,_0x37d41),logger[_0x36aaa1(0x227)]('Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20'+_0x3b40a3?.[_0x36aaa1(0x18e)][0x0]?.['test_run_uuid'])):_0x5f08ae=await _0xb3aca7['Oqtuo'](nodeRequest,_0xb3aca7[_0x36aaa1(0x1de)],_0xd106dd,_0x466267,_0x37d41);if(_0x5f08ae[_0x36aaa1(0x1cd)][_0x36aaa1(0x1e7)]){const _0x25fb24={};_0x25fb24[_0x36aaa1(0x1d6)]=_0x5f08ae[_0x36aaa1(0x1cd)][_0x36aaa1(0x1e7)];throw _0x25fb24;}else{_0xb3aca7['zMjrx'](debug,(_0xb3aca7['vfNuO'](_0xd106dd,this['requestQueueHandler'][_0x36aaa1(0x200)])?_0x16aefa:_0xb3aca7['SVFeS'])+'['+_0x2ab69e+_0x36aaa1(0x1a8)),this['requestQueueHandler']['pendingUploads']=Math['max'](0x0,_0xb3aca7[_0x36aaa1(0x1da)](this[_0x36aaa1(0x1e8)][_0x36aaa1(0x1a5)],_0xb3aca7[_0x36aaa1(0x1ae)](_0xd106dd,_0xb3aca7['oeKLn'])?0x1:_0x466267[_0x36aaa1(0x215)]));const _0x4ae8d9={};return _0x4ae8d9[_0x36aaa1(0x220)]=_0xb3aca7[_0x36aaa1(0x18f)],_0x4ae8d9[_0x36aaa1(0x1d6)]='',_0x4ae8d9;}}catch(_0x799b25){_0x799b25['response']?_0xb3aca7[_0x36aaa1(0x19b)](debug,_0x36aaa1(0x1ad)+(_0xb3aca7['toSxK'](_0xd106dd,this[_0x36aaa1(0x1e8)][_0x36aaa1(0x200)])?_0x16aefa:_0xb3aca7[_0x36aaa1(0x1f4)])+_0x36aaa1(0x21b)+constants[_0x36aaa1(0x1b8)]+'\x20:\x20'+_0x799b25[_0x36aaa1(0x1ef)][_0x36aaa1(0x220)]+'\x20'+_0x799b25['response'][_0x36aaa1(0x198)]+'\x20'+util[_0x36aaa1(0x1e5)](_0x799b25[_0x36aaa1(0x1ef)][_0x36aaa1(0x1cd)])):_0xb3aca7['zMjrx'](debug,_0x36aaa1(0x1ad)+(_0xb3aca7[_0x36aaa1(0x1dd)](_0xd106dd,this[_0x36aaa1(0x1e8)]['eventUrl'])?_0x16aefa:_0xb3aca7['SVFeS'])+_0x36aaa1(0x21b)+constants[_0x36aaa1(0x1b8)]+_0x36aaa1(0x1df)+util['format'](_0x799b25));this[_0x36aaa1(0x1e8)][_0x36aaa1(0x1a5)]=Math[_0x36aaa1(0x17d)](0x0,_0xb3aca7['OfLJp'](this[_0x36aaa1(0x1e8)][_0x36aaa1(0x1a5)],_0xb3aca7[_0x36aaa1(0x1a7)](_0xd106dd,_0xb3aca7[_0x36aaa1(0x187)])?0x1:_0x466267['length']));const _0x45c00d={};return _0x45c00d[_0x36aaa1(0x220)]=_0xb3aca7[_0x36aaa1(0x1f2)],_0x45c00d['message']=_0x799b25['message']||(_0x799b25['response']?_0x799b25[_0x36aaa1(0x1ef)]['status']+':'+_0x799b25['response'][_0x36aaa1(0x198)]:_0x799b25),_0x45c00d;}}static async[a129_0xfa4b45(0x1c7)](_0x3f658f,_0x182608=0x0){const _0x2764b5=a129_0xfa4b45,_0x291b82={'ZLmTt':function(_0x30236f,_0x1ebd9f){return _0x30236f+_0x1ebd9f;},'qikfU':function(_0xfc24a0,_0x313c96){return _0xfc24a0(_0x313c96);},'ezvzD':_0x2764b5(0x1af),'fJTfv':'uuid','FTYBs':_0x2764b5(0x21f),'ELNhw':function(_0x55eadb,_0x172186,_0x4dd558){return _0x55eadb(_0x172186,_0x4dd558);},'vNSka':'uploadEventData','hWrwC':function(_0x4a9caa,_0x3fb78a){return _0x4a9caa===_0x3fb78a;},'XUADY':function(_0x109cd1,_0x1a98f7){return _0x109cd1!==_0x1a98f7;},'SdKRI':_0x2764b5(0x1a1),'nlZcT':function(_0x25062e,_0x4d8097){return _0x25062e===_0x4d8097;},'mRQMn':_0x2764b5(0x1dc),'XXacP':function(_0x28a5c1){return _0x28a5c1();},'xxswI':function(_0x589656,_0xdcccac){return _0x589656===_0xdcccac;},'qHWTU':function(_0x49d5b3,_0x2a1d58){return _0x49d5b3-_0x2a1d58;},'UzcOk':_0x2764b5(0x1e7),'TQKPB':_0x2764b5(0x225),'nRTMd':function(_0x4e2194,_0x1f5e5d){return _0x4e2194>=_0x1f5e5d;},'UkfYA':function(_0x43a8b2,_0x3f662d){return _0x43a8b2!==_0x3f662d;},'JSIKA':function(_0x4dda94,_0x303807){return _0x4dda94-_0x303807;},'AviCl':_0x2764b5(0x18c),'KAQwc':'false'},_0x44d79f=this[_0x2764b5(0x1c8)](_0x3f658f);_0x291b82[_0x2764b5(0x1a0)](trace,_0x2764b5(0x1e2)+_0x3f658f[_0x2764b5(0x1c5)]+'\x27\x20'+(bsSetupHelper['nestedKeyValue'](_0x3f658f,[_0x291b82[_0x2764b5(0x195)],_0x291b82[_0x2764b5(0x1aa)]])||bsSetupHelper['nestedKeyValue'](_0x3f658f,[_0x291b82[_0x2764b5(0x1d0)],_0x291b82[_0x2764b5(0x1aa)]])));if(!_0x291b82[_0x2764b5(0x218)](shouldProcessEventForTesthub,_0x3f658f[_0x2764b5(0x1c5)],_0x291b82[_0x2764b5(0x201)]))return;_0x291b82[_0x2764b5(0x19d)](_0x182608,0x0)&&process['env'][_0x2764b5(0x1e0)]&&_0x291b82['XUADY'](process['env'][_0x2764b5(0x1e0)],_0x291b82[_0x2764b5(0x1b2)])&&(this[_0x2764b5(0x1e8)][_0x2764b5(0x1a5)]+=0x1);if(_0x291b82[_0x2764b5(0x214)](process[_0x2764b5(0x181)][_0x2764b5(0x196)],_0x291b82['mRQMn'])||process['env'][_0x2764b5(0x205)]||_0x291b82[_0x2764b5(0x18a)](isPercyBuild)){if(_0x291b82[_0x2764b5(0x19a)](process[_0x2764b5(0x181)][_0x2764b5(0x1e0)],_0x291b82[_0x2764b5(0x1b2)])){_0x291b82[_0x2764b5(0x1a0)](debug,'EXCEPTION\x20IN\x20'+_0x44d79f+_0x2764b5(0x21b)+constants[_0x2764b5(0x1b8)]+'\x20:\x20missing\x20authentication\x20token'),this[_0x2764b5(0x1e8)][_0x2764b5(0x1a5)]=Math[_0x2764b5(0x17d)](0x0,_0x291b82[_0x2764b5(0x1f5)](this[_0x2764b5(0x1e8)]['pendingUploads'],0x1));const _0x52928d={};return _0x52928d['status']=_0x291b82[_0x2764b5(0x199)],_0x52928d[_0x2764b5(0x1d6)]=_0x291b82['TQKPB'],_0x52928d;}return await this[_0x2764b5(0x210)](_0x3f658f,_0x182608);}else{if(_0x291b82[_0x2764b5(0x206)](_0x182608,0x5)){_0x291b82[_0x2764b5(0x1a0)](debug,'EXCEPTION\x20IN\x20'+_0x44d79f+_0x2764b5(0x21b)+constants[_0x2764b5(0x1b8)]+_0x2764b5(0x185)+_0x44d79f+_0x2764b5(0x20a));_0x291b82[_0x2764b5(0x221)](process[_0x2764b5(0x181)]['BROWSERSTACK_TESTHUB_JWT'],_0x291b82[_0x2764b5(0x1b2)])&&(this[_0x2764b5(0x1e8)]['pendingUploads']=Math[_0x2764b5(0x17d)](0x0,_0x291b82['JSIKA'](this['requestQueueHandler'][_0x2764b5(0x1a5)],0x1)));const _0x5221ae={};return _0x5221ae[_0x2764b5(0x220)]=_0x291b82['UzcOk'],_0x5221ae[_0x2764b5(0x1d6)]=_0x291b82[_0x2764b5(0x197)],_0x5221ae;}else _0x291b82['XUADY'](process[_0x2764b5(0x181)]['BS_TESTOPS_BUILD_COMPLETED'],_0x291b82[_0x2764b5(0x1ca)])&&_0x291b82[_0x2764b5(0x218)](setTimeout,()=>{const _0x2416e2=_0x2764b5;this[_0x2416e2(0x1c7)](_0x3f658f,_0x291b82['ZLmTt'](_0x182608,0x1));},0x3e8);}}}function a129_0x35be(_0x56a50a,_0x49e65c){const _0x14154c=a129_0x1415();return a129_0x35be=function(_0x35be77,_0x2b0eba){_0x35be77=_0x35be77-0x17c;let _0x26754a=_0x14154c[_0x35be77];return _0x26754a;},a129_0x35be(_0x56a50a,_0x49e65c);}module[a129_0xfa4b45(0x1c1)]=SessionHandler;