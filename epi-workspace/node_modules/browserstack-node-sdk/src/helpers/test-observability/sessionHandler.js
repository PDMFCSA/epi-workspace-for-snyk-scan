const a129_0x39abe1=a129_0x3579;(function(_0x3f40ab,_0x3261bd){const _0x49e51a=a129_0x3579,_0x5cacfb=_0x3f40ab();while(!![]){try{const _0x399f74=parseInt(_0x49e51a(0x22f))/0x1*(-parseInt(_0x49e51a(0x1e8))/0x2)+parseInt(_0x49e51a(0x1f2))/0x3+parseInt(_0x49e51a(0x23b))/0x4*(-parseInt(_0x49e51a(0x229))/0x5)+parseInt(_0x49e51a(0x210))/0x6*(-parseInt(_0x49e51a(0x21e))/0x7)+parseInt(_0x49e51a(0x1b4))/0x8*(-parseInt(_0x49e51a(0x1f0))/0x9)+parseInt(_0x49e51a(0x1f4))/0xa+-parseInt(_0x49e51a(0x243))/0xb*(-parseInt(_0x49e51a(0x1d7))/0xc);if(_0x399f74===_0x3261bd)break;else _0x5cacfb['push'](_0x5cacfb['shift']());}catch(_0x3862c1){_0x5cacfb['push'](_0x5cacfb['shift']());}}}(a129_0x243f,0xbe490));function a129_0x3579(_0x261cc5,_0x2ecf01){const _0x243fde=a129_0x243f();return a129_0x3579=function(_0x357987,_0x18404a){_0x357987=_0x357987-0x195;let _0x27123c=_0x243fde[_0x357987];return _0x27123c;},a129_0x3579(_0x261cc5,_0x2ecf01);}function a129_0x243f(){const _0x354fb7=['pendingUploads','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','zBBbi','Authorization','getCiInfo','qBFJp','24lSCcRm','includes','../../bin/utils/constants','nestedKeyValue','BS_TESTOPS_ALLOW_SCREENSHOTS','max','env','password','add','toISOString','jeBUC','Retry\x20runs\x20exceeded','AeFoF','resolve','yIKZl','buildName','yDpba','82YbQFxA','response','json','jjbwF','BROWSERSTACK_BUILD_RUN_IDENTIFIER','BQFUk','ERROR_INVALID_CREDENTIALS','./requestQueueHandler','2707371jOREwo','BS_TESTOPS_BUILD_COMPLETED','4359879IGQTIo','start','8324060KZBRxK','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','hcPPG','DXOzD','toString','WaIRg','nfCzT','../helper','EDNpO','logs','api/v1/builds','csKDG','Hook_End_Upload','YEqqd','\x20retry\x20runs\x20exceeded','Log_Upload','HBOvO','hkdIK','headers','test_run_uuid','PFLud','xjxww','okQAf','\x20failed\x20due\x20to\x20','ERROR_ACCESS_DENIED','sendTraceZip','XuVHi','TEST_REPORTING_ANALYTICS','16326PvJmWf','CREDENTIALS_FOR_CRASH_REPORTING','dKOaM','false','CvZcV','exports','BS_A11Y_JWT','requestQueueHandler','test_run','data','Batch-Queue','JIint','uKDve',']\x20event\x20successful!','2562kdWyBQ','oLQgb','\x20:\x20','winstonLogger','app','AdlyX','HookRunStarted','Ufouf','BROWSERSTACK_TESTHUB_JWT','WeqcI','message','5SccXhu','X-BSTACK-TESTOPS','TestRunStarted','username','waitForBuildStatus','jeUlO','2581ykmUuV','frameworkName','errorType','WGCBv','CBTSessionCreated','stringify','rFxRg','iUxap','getInstance','build_hashed_id','zLdvC','uuid','2316044UBSLlK','basename','BS_TESTOPS_JWT','Processing\x20event\x20-\x20\x27','HookRunFinished','WWOWr','debug','PMGnh','2613853UibUpH','getHostInfo','vmBuh','./utils','success','getGitMetaData','HrSOU','format','null','LogCreated','hJugi','PYDOG','POST','tgFek','NgDmS','Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20','getUserName','eventUrl','BROWSERSTACK_TESTHUB_UUID','dFbNy','XWzlL','sendEventData','projectName','getAccessKey','zjGDl','NZHyV','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','cwd','Test_Skipped_Upload','info','event_type','Bearer\x20','\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','uxfZF','BS_TESTOPS_BUILD_HASHED_ID','EQWGd','zECVe','jwt','MiHZu','util','8QrBnPn','frameworkVersion','Hook_Start_Upload','icATy','BROWSERSTACK_RERUN','buildIdentifier','TestRunFinished','application/json','BczWQ','\x20REQUEST\x20TO\x20','launch','RjtYV','allow_screenshots','browserstackAutomation','TzXXS','hWuuf','xavGl','WgDWP','error','\x20:\x20missing\x20authentication\x20token','statusText','GzwSZ','iiluB','thdUf','true','status','EXCEPTION\x20IN\x20','VdtJg','Data\x20upload\x20to\x20BrowserStack\x20'];a129_0x243f=function(){return _0x354fb7;};return a129_0x243f();}const bsSetupHelper=require(a129_0x39abe1(0x1fb)),path=require('path'),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require(a129_0x39abe1(0x246)),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require('./constants'),RequestQueueHandler=require(a129_0x39abe1(0x1ef)),logger=require('../logger')[a129_0x39abe1(0x221)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require('../../helpers/testhub/utils'),util=require(a129_0x39abe1(0x1b3)),constants=require(a129_0x39abe1(0x1d9));class SessionHandler{static ['requestQueueHandler']=RequestQueueHandler[a129_0x39abe1(0x237)]();static async[a129_0x39abe1(0x1be)](_0x54174f,_0x16d9f6){const _0x391dd4=a129_0x39abe1,_0x639297={'thdUf':function(_0x29d851,_0x7f80fe){return _0x29d851||_0x7f80fe;},'KDxpM':function(_0x5ee225,_0x13bd7a){return _0x5ee225===_0x13bd7a;},'jeUlO':function(_0x2f62cc,_0x540482){return _0x2f62cc(_0x540482);},'PLSes':_0x391dd4(0x1f5),'XuVHi':_0x391dd4(0x213),'jjbwF':_0x391dd4(0x1ea),'EQWGd':function(_0x50d6c9,_0x50c50f){return _0x50d6c9(_0x50c50f);},'BczWQ':function(_0x5c94e5,_0x3cbad7,_0x1e1c29,_0x1043c8,_0x5c0c95){return _0x5c94e5(_0x3cbad7,_0x1e1c29,_0x1043c8,_0x5c0c95);},'xavGl':_0x391dd4(0x198),'xjxww':_0x391dd4(0x1fe),'csKDG':function(_0x48e21,_0xd74537){return _0x48e21(_0xd74537);},'XWzlL':'Build\x20creation\x20successful!','oLQgb':function(_0x39c5c6){return _0x39c5c6();},'NZHyV':_0x391dd4(0x1cc),'tgFek':'null','uKDve':function(_0x16549c,_0x23518a){return _0x16549c(_0x23518a);},'PFLud':_0x391dd4(0x1ee),'iiluB':_0x391dd4(0x20c),'VdtJg':'ERROR_SDK_DEPRECATED'};logger[_0x391dd4(0x1a9)]('Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20'+util['inspect'](_0x54174f));const _0x3078c6=bsSetupHelper[_0x391dd4(0x19c)](_0x54174f),_0x4a5b07=bsSetupHelper[_0x391dd4(0x1a3)](_0x54174f),_0x193ba5=_0x639297[_0x391dd4(0x1cb)](_0x3078c6,'')+':'+_0x639297['thdUf'](_0x4a5b07,'');if(_0x639297['KDxpM'](_0x193ba5,':'))return _0x639297[_0x391dd4(0x22e)](debug,_0x639297['PLSes']),process[_0x391dd4(0x1dd)][_0x391dd4(0x1f1)]=_0x639297['XuVHi'],[null,null];let _0xd65f6c=![],_0x46ccab=![];if(_0x54174f[_0x391dd4(0x1c1)]&&_0x54174f[_0x391dd4(0x222)])_0x46ccab=!![];else _0x54174f[_0x391dd4(0x1c1)]&&(_0xd65f6c=!![]);try{const _0x32cd67={'format':_0x639297[_0x391dd4(0x1eb)],'project_name':_0x54174f[_0x391dd4(0x1a2)]||'','name':_0x54174f[_0x391dd4(0x1e6)]||path[_0x391dd4(0x23c)](path[_0x391dd4(0x1e4)](process[_0x391dd4(0x1a7)]())),'build_identifier':_0x54174f[_0x391dd4(0x1b9)],'description':_0x54174f['buildDescription']||'','start_time':new Date()[_0x391dd4(0x1e0)](),'tags':_0x639297['EQWGd'](getCustomTags,_0x54174f),'host_info':bsSetupHelper[_0x391dd4(0x244)](),'ci_info':bsSetupHelper[_0x391dd4(0x1d5)](),'build_run_identifier':process['env'][_0x391dd4(0x1ec)],'failed_tests_rerun':process['env'][_0x391dd4(0x1b8)]||![],'version_control':await bsSetupHelper[_0x391dd4(0x248)](),'observability_version':{'frameworkName':_0x16d9f6[_0x391dd4(0x230)],'frameworkVersion':_0x16d9f6[_0x391dd4(0x1b5)],'sdkVersion':bsSetupHelper['getAgentVersion']()},'product_map':_0x639297[_0x391dd4(0x22e)](getProductMap,_0x54174f),'test_orchestration':_0x639297[_0x391dd4(0x1af)](getTestOrchestrationBuildStartData,_0x54174f)},_0x1208e4={};_0x1208e4[_0x391dd4(0x22c)]=_0x3078c6,_0x1208e4[_0x391dd4(0x1de)]=_0x4a5b07;const _0xe912bb={'auth':_0x1208e4,'headers':_0x639297[_0x391dd4(0x1af)](getDefaultHeaders,![])},_0xf0758a=await _0x639297[_0x391dd4(0x1bc)](nodeRequest,_0x639297[_0x391dd4(0x1c4)],_0x639297[_0x391dd4(0x209)],_0x32cd67,_0xe912bb);_0x639297[_0x391dd4(0x1ff)](debug,_0x639297[_0x391dd4(0x1a0)]);const _0x52e21f=_0xf0758a[_0x391dd4(0x219)];_0x52e21f[_0x391dd4(0x238)]&&(process['env'][_0x391dd4(0x19e)]=_0x52e21f[_0x391dd4(0x238)]);if(_0x639297[_0x391dd4(0x21f)](isTestObservabilitySession)){process[_0x391dd4(0x1dd)]['BS_TESTOPS_BUILD_COMPLETED']=_0x639297[_0x391dd4(0x1a5)];if(_0x52e21f[_0x391dd4(0x1b1)]){process[_0x391dd4(0x1dd)][_0x391dd4(0x23d)]=_0x52e21f[_0x391dd4(0x1b1)];const _0x19fd2c={};_0x19fd2c[_0x391dd4(0x22c)]=_0x3078c6,_0x19fd2c['password']=_0x4a5b07,process[_0x391dd4(0x1dd)][_0x391dd4(0x211)]=JSON[_0x391dd4(0x234)](_0x19fd2c);}_0x52e21f[_0x391dd4(0x238)]&&(process[_0x391dd4(0x1dd)][_0x391dd4(0x1ae)]=_0x52e21f[_0x391dd4(0x238)]),_0x52e21f[_0x391dd4(0x1c0)]&&(process['env'][_0x391dd4(0x1db)]=_0x52e21f[_0x391dd4(0x1c0)][_0x391dd4(0x1f8)]());}return[_0xf0758a[_0x391dd4(0x219)][_0x391dd4(0x1b1)],_0xf0758a['data'][_0x391dd4(0x238)],_0xf0758a[_0x391dd4(0x219)][_0x391dd4(0x1c0)]];}catch(_0x2e3753){process[_0x391dd4(0x1dd)][_0x391dd4(0x19e)]=_0x639297[_0x391dd4(0x199)],process['env'][_0x391dd4(0x1f1)]=_0x639297[_0x391dd4(0x20e)],process['env'][_0x391dd4(0x23d)]=_0x639297[_0x391dd4(0x199)],process[_0x391dd4(0x1dd)][_0x391dd4(0x1ae)]=_0x639297['tgFek'],process[_0x391dd4(0x1dd)][_0x391dd4(0x1db)]=_0x639297[_0x391dd4(0x199)];_0x2e3753['response']?_0x639297[_0x391dd4(0x21c)](debug,_0x391dd4(0x1d2)+_0x2e3753[_0x391dd4(0x1e9)]['status']+'\x20'+_0x2e3753[_0x391dd4(0x1e9)][_0x391dd4(0x1c8)]+'\x20'+JSON[_0x391dd4(0x234)](_0x2e3753['response'][_0x391dd4(0x219)])):_0x639297[_0x391dd4(0x22e)](debug,_0x391dd4(0x1d2)+(_0x2e3753[_0x391dd4(0x228)]||_0x2e3753));if(_0x2e3753&&_0x2e3753[_0x391dd4(0x228)]){const _0x50b4c1=_0x2e3753['message'];switch(_0x2e3753[_0x391dd4(0x231)]){case _0x639297[_0x391dd4(0x208)]:logger[_0x391dd4(0x1c6)](_0x50b4c1);break;case _0x639297[_0x391dd4(0x1ca)]:logger[_0x391dd4(0x1a9)](_0x50b4c1);break;case _0x639297[_0x391dd4(0x1cf)]:logger['error'](_0x50b4c1);break;default:logger[_0x391dd4(0x1c6)](_0x50b4c1);}}else console[_0x391dd4(0x1a9)](_0x391dd4(0x1d0)+constants['TEST_REPORTING_ANALYTICS']+_0x391dd4(0x20b)+_0x2e3753);return[null,null,null];}}static async[a129_0x39abe1(0x22d)](){const _0x4c5bdf=a129_0x39abe1,_0x9c71d9={'okQAf':_0x4c5bdf(0x1cc),'icATy':_0x4c5bdf(0x213),'RjtYV':function(_0x435aeb,_0x1bcaf5){return _0x435aeb(_0x1bcaf5);}},_0x1d79f5=process[_0x4c5bdf(0x1dd)]['BS_TESTOPS_BUILD_COMPLETED'];if([_0x9c71d9[_0x4c5bdf(0x20a)],_0x9c71d9[_0x4c5bdf(0x1b7)]][_0x4c5bdf(0x1d8)](_0x1d79f5))return;while([_0x9c71d9[_0x4c5bdf(0x20a)],_0x9c71d9[_0x4c5bdf(0x1b7)]][_0x4c5bdf(0x1d8)](_0x1d79f5)){await _0x9c71d9[_0x4c5bdf(0x1bf)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static['getLogTag'](_0x5786ba){const _0x12e142=a129_0x39abe1,_0x42def9={};_0x42def9[_0x12e142(0x1e3)]='Test_Start_Upload',_0x42def9['hkdIK']='Test_End_Upload',_0x42def9[_0x12e142(0x212)]=_0x12e142(0x1a8),_0x42def9[_0x12e142(0x245)]=_0x12e142(0x203),_0x42def9[_0x12e142(0x1b0)]=_0x12e142(0x1b6),_0x42def9[_0x12e142(0x1d6)]=_0x12e142(0x200),_0x42def9[_0x12e142(0x225)]='CBT_Upload';const _0x199e25=_0x42def9,_0x18ef97={};return _0x18ef97[_0x12e142(0x22b)]=_0x199e25[_0x12e142(0x1e3)],_0x18ef97[_0x12e142(0x1ba)]=_0x199e25[_0x12e142(0x205)],_0x18ef97['TestRunSkipped']=_0x199e25[_0x12e142(0x212)],_0x18ef97[_0x12e142(0x195)]=_0x199e25[_0x12e142(0x245)],_0x18ef97[_0x12e142(0x224)]=_0x199e25[_0x12e142(0x1b0)],_0x18ef97[_0x12e142(0x23f)]=_0x199e25['qBFJp'],_0x18ef97[_0x12e142(0x233)]=_0x199e25['Ufouf'],_0x18ef97[_0x5786ba[_0x12e142(0x1aa)]];}static async[a129_0x39abe1(0x1a1)](_0x2f9404,_0x538540=0x0,_0x1ce777=null){const _0x51ee48=a129_0x39abe1,_0x4cc1a0={'WWOWr':function(_0x163fbb,_0x4d9f4b){return _0x163fbb===_0x4d9f4b;},'DXOzD':_0x51ee48(0x20d),'hcPPG':function(_0x282f93,_0x455fef){return _0x282f93!==_0x455fef;},'zBBbi':_0x51ee48(0x1bb),'iUxap':_0x51ee48(0x1cc),'NgDmS':function(_0x1c8505,_0x3e9be3,_0xde9789,_0x2e6801,_0x312fea){return _0x1c8505(_0x3e9be3,_0xde9789,_0x2e6801,_0x312fea);},'BQFUk':_0x51ee48(0x198),'EDNpO':function(_0x229d50,_0x670c65){return _0x229d50(_0x670c65);},'PMGnh':_0x51ee48(0x21a),'WgDWP':function(_0x451f2c,_0x808238){return _0x451f2c-_0x808238;},'TzXXS':function(_0x3e7f47,_0x1bbb4){return _0x3e7f47===_0x1bbb4;},'AdlyX':'api/v1/event','WeqcI':_0x51ee48(0x247),'yIKZl':function(_0x743108,_0x2d910d){return _0x743108(_0x2d910d);},'dFbNy':function(_0x332c49,_0x5316ac){return _0x332c49!==_0x5316ac;},'YEqqd':function(_0x128473,_0x9fc2f7){return _0x128473-_0x9fc2f7;},'QlhIX':function(_0x4e6ea1,_0x3b11e8){return _0x4e6ea1===_0x3b11e8;},'WGCBv':'error'};_0x4cc1a0['WWOWr'](_0x1ce777,_0x4cc1a0[_0x51ee48(0x1f7)])&&logger['debug']('Sending\x20trace\x20zip\x20for\x20test:\x20'+_0x2f9404[_0x51ee48(0x1fd)][0x0][_0x51ee48(0x207)]);const _0x4f2c1d=await this['getLogTag'](_0x2f9404);let _0x5eb45f=_0x2f9404,_0x3a8733=EVENT_ENDPOINT;_0x4cc1a0[_0x51ee48(0x1f6)](_0x1ce777,_0x4cc1a0['DXOzD'])&&this[_0x51ee48(0x217)][_0x51ee48(0x1f3)]();const {shouldProceed:_0x8f21a0,proceedWithData:_0x22e26f,proceedWithUrl:_0x5d8172}=this[_0x51ee48(0x217)][_0x51ee48(0x1df)](_0x2f9404);if(!_0x8f21a0)return;else _0x22e26f&&(_0x5eb45f=_0x22e26f,_0x3a8733=_0x5d8172);const _0x568d0c={};_0x568d0c[_0x51ee48(0x1d4)]=_0x51ee48(0x1ab)+process[_0x51ee48(0x1dd)][_0x51ee48(0x226)],_0x568d0c['Content-Type']=_0x4cc1a0[_0x51ee48(0x1d3)],_0x568d0c[_0x51ee48(0x22a)]=_0x4cc1a0[_0x51ee48(0x236)];const _0x1c990d={};_0x1c990d[_0x51ee48(0x206)]=_0x568d0c;const _0x37c525=_0x1c990d;let _0x364ce8;try{_0x4cc1a0[_0x51ee48(0x240)](_0x1ce777,_0x4cc1a0[_0x51ee48(0x1f7)])?(logger[_0x51ee48(0x241)](_0x51ee48(0x19b)+_0x2f9404?.[_0x51ee48(0x1fd)][0x0]?.[_0x51ee48(0x207)]),_0x364ce8=await _0x4cc1a0[_0x51ee48(0x19a)](asyncAwaitNodeReq,_0x4cc1a0[_0x51ee48(0x1ed)],_0x3a8733,_0x5eb45f,_0x37c525),logger['debug']('Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20'+_0x2f9404?.[_0x51ee48(0x1fd)][0x0]?.[_0x51ee48(0x207)])):_0x364ce8=await _0x4cc1a0[_0x51ee48(0x19a)](nodeRequest,_0x4cc1a0[_0x51ee48(0x1ed)],_0x3a8733,_0x5eb45f,_0x37c525);if(_0x364ce8['data'][_0x51ee48(0x1c6)]){const _0x52e546={};_0x52e546[_0x51ee48(0x228)]=_0x364ce8[_0x51ee48(0x219)][_0x51ee48(0x1c6)];throw _0x52e546;}else{_0x4cc1a0[_0x51ee48(0x1fc)](debug,(_0x4cc1a0['hcPPG'](_0x3a8733,this[_0x51ee48(0x217)][_0x51ee48(0x19d)])?_0x4f2c1d:_0x4cc1a0['PMGnh'])+'['+_0x538540+_0x51ee48(0x21d)),this['requestQueueHandler'][_0x51ee48(0x1d1)]=Math[_0x51ee48(0x1dc)](0x0,_0x4cc1a0[_0x51ee48(0x1c5)](this['requestQueueHandler']['pendingUploads'],_0x4cc1a0[_0x51ee48(0x1c2)](_0x3a8733,_0x4cc1a0[_0x51ee48(0x223)])?0x1:_0x5eb45f['length']));const _0x5b1821={};return _0x5b1821['status']=_0x4cc1a0[_0x51ee48(0x227)],_0x5b1821[_0x51ee48(0x228)]='',_0x5b1821;}}catch(_0x3f27d6){_0x3f27d6['response']?_0x4cc1a0['EDNpO'](debug,'EXCEPTION\x20IN\x20'+(_0x4cc1a0[_0x51ee48(0x1f6)](_0x3a8733,this['requestQueueHandler'][_0x51ee48(0x19d)])?_0x4f2c1d:_0x4cc1a0[_0x51ee48(0x242)])+_0x51ee48(0x1bd)+constants[_0x51ee48(0x20f)]+'\x20:\x20'+_0x3f27d6[_0x51ee48(0x1e9)][_0x51ee48(0x1cd)]+'\x20'+_0x3f27d6[_0x51ee48(0x1e9)][_0x51ee48(0x1c8)]+'\x20'+util[_0x51ee48(0x24a)](_0x3f27d6['response'][_0x51ee48(0x219)])):_0x4cc1a0[_0x51ee48(0x1e5)](debug,_0x51ee48(0x1ce)+(_0x4cc1a0[_0x51ee48(0x19f)](_0x3a8733,this[_0x51ee48(0x217)]['eventUrl'])?_0x4f2c1d:_0x4cc1a0[_0x51ee48(0x242)])+_0x51ee48(0x1bd)+constants[_0x51ee48(0x20f)]+_0x51ee48(0x220)+util['format'](_0x3f27d6));this[_0x51ee48(0x217)][_0x51ee48(0x1d1)]=Math[_0x51ee48(0x1dc)](0x0,_0x4cc1a0[_0x51ee48(0x201)](this[_0x51ee48(0x217)]['pendingUploads'],_0x4cc1a0['QlhIX'](_0x3a8733,_0x4cc1a0['AdlyX'])?0x1:_0x5eb45f['length']));const _0x3aac0={};return _0x3aac0[_0x51ee48(0x1cd)]=_0x4cc1a0[_0x51ee48(0x232)],_0x3aac0[_0x51ee48(0x228)]=_0x3f27d6['message']||(_0x3f27d6['response']?_0x3f27d6[_0x51ee48(0x1e9)][_0x51ee48(0x1cd)]+':'+_0x3f27d6[_0x51ee48(0x1e9)][_0x51ee48(0x1c8)]:_0x3f27d6),_0x3aac0;}}static async['uploadEventData'](_0x2b7104,_0x2706e6=0x0){const _0x322ae5=a129_0x39abe1,_0x5417c5={'zjGDl':function(_0x164381,_0xb4d647){return _0x164381+_0xb4d647;},'gfzHR':function(_0x5795a8,_0x5112e3){return _0x5795a8(_0x5112e3);},'Imxal':_0x322ae5(0x218),'HrSOU':_0x322ae5(0x23a),'gZUNw':'hook_run','JIint':function(_0x233ae4,_0x3feded,_0x2c9c6f){return _0x233ae4(_0x3feded,_0x2c9c6f);},'AXcqj':'uploadEventData','HkGFD':function(_0x23611b,_0x54d3c8){return _0x23611b===_0x54d3c8;},'HBOvO':function(_0x51aeac,_0x580d47){return _0x51aeac!==_0x580d47;},'GzwSZ':_0x322ae5(0x24b),'uxfZF':function(_0x4596ca,_0x3a3d06){return _0x4596ca===_0x3a3d06;},'hWuuf':'true','nfCzT':function(_0x173416){return _0x173416();},'eYlSx':function(_0x46e22e,_0x44de18){return _0x46e22e===_0x44de18;},'PYDOG':function(_0x231c32,_0x17408c){return _0x231c32-_0x17408c;},'yDpba':_0x322ae5(0x1c6),'jeBUC':_0x322ae5(0x1a6),'FEHoq':function(_0x200426,_0x2f8bea){return _0x200426>=_0x2f8bea;},'hJugi':function(_0x3effd9,_0x21921f){return _0x3effd9(_0x21921f);},'CvZcV':function(_0x3b67ba,_0x115766){return _0x3b67ba!==_0x115766;},'MiHZu':function(_0x457d0c,_0x4666f7){return _0x457d0c-_0x4666f7;},'rFxRg':_0x322ae5(0x1e2),'zLdvC':function(_0x19a78f,_0x2880a2){return _0x19a78f!==_0x2880a2;},'WaIRg':_0x322ae5(0x213)},_0x38ed78=this['getLogTag'](_0x2b7104);_0x5417c5['gfzHR'](trace,_0x322ae5(0x23e)+_0x2b7104['event_type']+'\x27\x20'+(bsSetupHelper[_0x322ae5(0x1da)](_0x2b7104,[_0x5417c5['Imxal'],_0x5417c5[_0x322ae5(0x249)]])||bsSetupHelper[_0x322ae5(0x1da)](_0x2b7104,[_0x5417c5['gZUNw'],_0x5417c5['HrSOU']])));if(!_0x5417c5[_0x322ae5(0x21b)](shouldProcessEventForTesthub,_0x2b7104[_0x322ae5(0x1aa)],_0x5417c5['AXcqj']))return;_0x5417c5['HkGFD'](_0x2706e6,0x0)&&process[_0x322ae5(0x1dd)][_0x322ae5(0x226)]&&_0x5417c5[_0x322ae5(0x204)](process['env']['BROWSERSTACK_TESTHUB_JWT'],_0x5417c5[_0x322ae5(0x1c9)])&&(this[_0x322ae5(0x217)][_0x322ae5(0x1d1)]+=0x1);if(_0x5417c5[_0x322ae5(0x1ad)](process[_0x322ae5(0x1dd)]['BS_TESTOPS_BUILD_COMPLETED'],_0x5417c5[_0x322ae5(0x1c3)])||process['env'][_0x322ae5(0x216)]||_0x5417c5[_0x322ae5(0x1fa)](isPercyBuild)){if(_0x5417c5['eYlSx'](process[_0x322ae5(0x1dd)]['BROWSERSTACK_TESTHUB_JWT'],_0x5417c5['GzwSZ'])){_0x5417c5['gfzHR'](debug,_0x322ae5(0x1ce)+_0x38ed78+'\x20REQUEST\x20TO\x20'+constants[_0x322ae5(0x20f)]+_0x322ae5(0x1c7)),this[_0x322ae5(0x217)][_0x322ae5(0x1d1)]=Math[_0x322ae5(0x1dc)](0x0,_0x5417c5[_0x322ae5(0x197)](this[_0x322ae5(0x217)]['pendingUploads'],0x1));const _0x21eee4={};return _0x21eee4[_0x322ae5(0x1cd)]=_0x5417c5[_0x322ae5(0x1e7)],_0x21eee4['message']=_0x5417c5[_0x322ae5(0x1e1)],_0x21eee4;}return await this['sendEventData'](_0x2b7104,_0x2706e6);}else{if(_0x5417c5['FEHoq'](_0x2706e6,0x5)){_0x5417c5[_0x322ae5(0x196)](debug,_0x322ae5(0x1ce)+_0x38ed78+'\x20REQUEST\x20TO\x20'+constants['TEST_REPORTING_ANALYTICS']+_0x322ae5(0x1ac)+_0x38ed78+_0x322ae5(0x202));_0x5417c5[_0x322ae5(0x214)](process['env'][_0x322ae5(0x226)],_0x5417c5[_0x322ae5(0x1c9)])&&(this[_0x322ae5(0x217)][_0x322ae5(0x1d1)]=Math[_0x322ae5(0x1dc)](0x0,_0x5417c5[_0x322ae5(0x1b2)](this['requestQueueHandler']['pendingUploads'],0x1)));const _0x168d22={};return _0x168d22[_0x322ae5(0x1cd)]=_0x5417c5[_0x322ae5(0x1e7)],_0x168d22['message']=_0x5417c5[_0x322ae5(0x235)],_0x168d22;}else _0x5417c5[_0x322ae5(0x239)](process[_0x322ae5(0x1dd)][_0x322ae5(0x1f1)],_0x5417c5[_0x322ae5(0x1f9)])&&_0x5417c5['JIint'](setTimeout,()=>{const _0x275997=_0x322ae5;this['uploadEventData'](_0x2b7104,_0x5417c5[_0x275997(0x1a4)](_0x2706e6,0x1));},0x3e8);}}}module[a129_0x39abe1(0x215)]=SessionHandler;