const a128_0x22b416=a128_0x32f3;(function(_0x3787c0,_0xe69e3d){const _0x2fa488=a128_0x32f3,_0x43a7c9=_0x3787c0();while(!![]){try{const _0x4f9ebe=parseInt(_0x2fa488(0xde))/0x1+parseInt(_0x2fa488(0xc0))/0x2+parseInt(_0x2fa488(0xaf))/0x3+-parseInt(_0x2fa488(0xbd))/0x4*(-parseInt(_0x2fa488(0xa4))/0x5)+parseInt(_0x2fa488(0xf8))/0x6+parseInt(_0x2fa488(0xd7))/0x7+-parseInt(_0x2fa488(0xf9))/0x8*(parseInt(_0x2fa488(0x12e))/0x9);if(_0x4f9ebe===_0xe69e3d)break;else _0x43a7c9['push'](_0x43a7c9['shift']());}catch(_0x30707d){_0x43a7c9['push'](_0x43a7c9['shift']());}}}(a128_0x1a84,0x6095d));const bsSetupHelper=require(a128_0x22b416(0x117)),path=require('path'),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require(a128_0x22b416(0xb8)),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require(a128_0x22b416(0xb9)),RequestQueueHandler=require(a128_0x22b416(0xbf)),logger=require(a128_0x22b416(0xe4))[a128_0x22b416(0x118)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require('../../helpers/testhub/utils'),util=require('util'),constants=require(a128_0x22b416(0xf4));function a128_0x32f3(_0x3bcb5d,_0x46ec66){const _0x1a84bb=a128_0x1a84();return a128_0x32f3=function(_0x32f3b5,_0x576dd6){_0x32f3b5=_0x32f3b5-0x9b;let _0x2002a0=_0x1a84bb[_0x32f3b5];return _0x2002a0;},a128_0x32f3(_0x3bcb5d,_0x46ec66);}function a128_0x1a84(){const _0x2890e6=['\x20:\x20','CBTSessionCreated','BS_TESTOPS_ALLOW_SCREENSHOTS','Hook_End_Upload','IXPqw','zSgiw','api/v1/event','LFkSC','\x20retry\x20runs\x20exceeded','BROWSERSTACK_BUILD_RUN_IDENTIFIER','debug','../../bin/utils/constants','HookRunFinished','inspect','quYXo','2165358ySvjMz','3760sQYngB','test_run_uuid','null','basename','PRBSX','getLogTag','success','\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','KKEnU','getGitMetaData','dBcFU','errorType','VtkaC','sendTraceZip','ERROR_ACCESS_DENIED','frameworkName','lGFlL','eventUrl','allow_screenshots','Test_Skipped_Upload','false','application/json','includes','IcIqc','buildIdentifier','resolve','zGrge','VODym','DvZnr','asFJr','../helper','winstonLogger','TVTXp','message','TestRunStarted','TEST_REPORTING_ANALYTICS','TestRunFinished','rZZqh','uuid','event_type','kBCnp','BROWSERSTACK_TESTHUB_JWT','zdtDs','ZFXlv','Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20','getHostInfo','edAga','\x20REQUEST\x20TO\x20','kMvEU','ebHPG','wnWyv','vmiTG','X-BSTACK-TESTOPS','24957cPdqar','toString','Authorization','format','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20',']\x20event\x20successful!','BROWSERSTACK_RERUN','ERROR_SDK_DEPRECATED','length','nZmuu','hook_run','BS_TESTOPS_BUILD_COMPLETED','password','max','data','uploadEventData','SvEvQ','aOzUI','build_hashed_id','OipcV','kjDVQ','username','cyuey','statusText','logs','nPxqT','jwt','EXCEPTION\x20IN\x20','pendingUploads','toISOString','dHqat','Hook_Start_Upload','fwAeZ','add','Piwcj','true','env','41630KLjIwn','TGqKP','\x20failed\x20due\x20to\x20','stringify','requestQueueHandler','PrXOg','Test_End_Upload','BS_TESTOPS_BUILD_HASHED_ID','frameworkVersion','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','Nitcs','328314TLcVeC','kmtup','Sending\x20trace\x20zip\x20for\x20test:\x20','FKaQq','epZYf','sendEventData','\x20:\x20missing\x20authentication\x20token','buildDescription','nestedKeyValue','./utils','./constants','getInstance','cVjBf','Data\x20upload\x20to\x20BrowserStack\x20','16pSEEgg','getUserName','./requestQueueHandler','1431164zNmIYe','WxEbi','response','PNqnP','ffexy','Batch-Queue','YahMR','dPBee','info','NfNgl','browserstackAutomation','ERROR_INVALID_CREDENTIALS','test_run','BROWSERSTACK_TESTHUB_UUID','LFnid','NZIvi','getCiInfo','WEafN','app','status','Log_Upload','ZCYyd','CREDENTIALS_FOR_CRASH_REPORTING','3126732cehChA','HkSAl','LusjC','BS_TESTOPS_JWT','Content-Type','POST','launch','33030oyAvzQ','LSoMR','start','Bearer\x20','Processing\x20event\x20-\x20\x27','frHEE','../logger','Build\x20creation\x20successful!','AMDIb','OdsCy','error'];a128_0x1a84=function(){return _0x2890e6;};return a128_0x1a84();}class SessionHandler{static ['requestQueueHandler']=RequestQueueHandler[a128_0x22b416(0xba)]();static async[a128_0x22b416(0xdd)](_0x3614b3,_0xb34e1b){const _0x307925=a128_0x22b416,_0x1bebd2={'YYzve':function(_0x307499,_0xe6054f){return _0x307499||_0xe6054f;},'GZWKt':function(_0x2e67d3,_0x3fa461){return _0x2e67d3||_0x3fa461;},'fwAeZ':function(_0x2b91c9,_0xa8ea2){return _0x2b91c9===_0xa8ea2;},'WxEbi':function(_0x33a8ee,_0x2d1d62){return _0x33a8ee(_0x2d1d62);},'hIcKH':_0x307925(0xad),'kjDVQ':_0x307925(0x10d),'cVjBf':'json','VODym':function(_0x24c22f,_0x5c6eed){return _0x24c22f(_0x5c6eed);},'PNqnP':function(_0xb123dd,_0x2a67ac){return _0xb123dd(_0x2a67ac);},'oJmzI':function(_0x4906e5,_0x30d79c,_0x19a2d0,_0x275b83,_0x17f9e4){return _0x4906e5(_0x30d79c,_0x19a2d0,_0x275b83,_0x17f9e4);},'LFkSC':_0x307925(0xdc),'yoQCF':'api/v1/builds','nLFUQ':function(_0x5ef2c5,_0x491922){return _0x5ef2c5(_0x491922);},'OdsCy':_0x307925(0xe5),'TVTXp':function(_0x4ab1c7){return _0x4ab1c7();},'LSoMR':_0x307925(0xa2),'rZZqh':'null','aOzUI':function(_0x552a95,_0x35d447){return _0x552a95(_0x35d447);},'zGrge':_0x307925(0xcb),'zdtDs':_0x307925(0x107),'DvZnr':_0x307925(0x135)};logger[_0x307925(0xc8)]('Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20'+util[_0x307925(0xf6)](_0x3614b3));const _0x81947f=bsSetupHelper[_0x307925(0xbe)](_0x3614b3),_0x1c7f1c=bsSetupHelper['getAccessKey'](_0x3614b3),_0x2f13e9=_0x1bebd2['YYzve'](_0x81947f,'')+':'+_0x1bebd2['GZWKt'](_0x1c7f1c,'');if(_0x1bebd2[_0x307925(0x9f)](_0x2f13e9,':'))return _0x1bebd2[_0x307925(0xc1)](debug,_0x1bebd2['hIcKH']),process[_0x307925(0xa3)][_0x307925(0x139)]=_0x1bebd2[_0x307925(0x142)],[null,null];let _0x23450f=![],_0x4d226e=![];if(_0x3614b3[_0x307925(0xca)]&&_0x3614b3[_0x307925(0xd2)])_0x4d226e=!![];else _0x3614b3['browserstackAutomation']&&(_0x23450f=!![]);try{const _0x5da9c1={'format':_0x1bebd2[_0x307925(0xbb)],'project_name':_0x3614b3['projectName']||'','name':_0x3614b3['buildName']||path[_0x307925(0xfc)](path[_0x307925(0x112)](process['cwd']())),'build_identifier':_0x3614b3[_0x307925(0x111)],'description':_0x3614b3[_0x307925(0xb6)]||'','start_time':new Date()[_0x307925(0x9c)](),'tags':_0x1bebd2[_0x307925(0xc1)](getCustomTags,_0x3614b3),'host_info':bsSetupHelper[_0x307925(0x126)](),'ci_info':bsSetupHelper[_0x307925(0xd0)](),'build_run_identifier':process[_0x307925(0xa3)][_0x307925(0xf2)],'failed_tests_rerun':process[_0x307925(0xa3)][_0x307925(0x134)]||![],'version_control':await bsSetupHelper[_0x307925(0x102)](),'observability_version':{'frameworkName':_0xb34e1b[_0x307925(0x108)],'frameworkVersion':_0xb34e1b[_0x307925(0xac)],'sdkVersion':bsSetupHelper['getAgentVersion']()},'product_map':_0x1bebd2[_0x307925(0x114)](getProductMap,_0x3614b3),'test_orchestration':_0x1bebd2[_0x307925(0xc3)](getTestOrchestrationBuildStartData,_0x3614b3)},_0x4b2cde={};_0x4b2cde['username']=_0x81947f,_0x4b2cde[_0x307925(0x13a)]=_0x1c7f1c;const _0x2d5900={'auth':_0x4b2cde,'headers':_0x1bebd2[_0x307925(0xc3)](getDefaultHeaders,![])},_0xfc3daa=await _0x1bebd2['oJmzI'](nodeRequest,_0x1bebd2[_0x307925(0xf0)],_0x1bebd2['yoQCF'],_0x5da9c1,_0x2d5900);_0x1bebd2['nLFUQ'](debug,_0x1bebd2[_0x307925(0xe7)]);const _0x3b91db=_0xfc3daa[_0x307925(0x13c)];_0x3b91db['build_hashed_id']&&(process[_0x307925(0xa3)][_0x307925(0xcd)]=_0x3b91db['build_hashed_id']);if(_0x1bebd2[_0x307925(0x119)](isTestObservabilitySession)){process[_0x307925(0xa3)][_0x307925(0x139)]=_0x1bebd2[_0x307925(0xdf)];if(_0x3b91db['jwt']){process[_0x307925(0xa3)][_0x307925(0xda)]=_0x3b91db[_0x307925(0x148)];const _0xf54a1a={};_0xf54a1a[_0x307925(0x143)]=_0x81947f,_0xf54a1a[_0x307925(0x13a)]=_0x1c7f1c,process[_0x307925(0xa3)][_0x307925(0xd6)]=JSON[_0x307925(0xa7)](_0xf54a1a);}_0x3b91db[_0x307925(0x140)]&&(process[_0x307925(0xa3)][_0x307925(0xab)]=_0x3b91db[_0x307925(0x140)]),_0x3b91db[_0x307925(0x10b)]&&(process[_0x307925(0xa3)][_0x307925(0xeb)]=_0x3b91db[_0x307925(0x10b)][_0x307925(0x12f)]());}return[_0xfc3daa['data'][_0x307925(0x148)],_0xfc3daa[_0x307925(0x13c)]['build_hashed_id'],_0xfc3daa['data'][_0x307925(0x10b)]];}catch(_0xfb5164){process['env'][_0x307925(0xcd)]=_0x1bebd2[_0x307925(0x11e)],process[_0x307925(0xa3)][_0x307925(0x139)]=_0x1bebd2[_0x307925(0x142)],process[_0x307925(0xa3)]['BS_TESTOPS_JWT']=_0x1bebd2['rZZqh'],process[_0x307925(0xa3)][_0x307925(0xab)]=_0x1bebd2['rZZqh'],process[_0x307925(0xa3)][_0x307925(0xeb)]=_0x1bebd2[_0x307925(0x11e)];_0xfb5164[_0x307925(0xc2)]?_0x1bebd2['nLFUQ'](debug,'EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20'+_0xfb5164[_0x307925(0xc2)][_0x307925(0xd3)]+'\x20'+_0xfb5164[_0x307925(0xc2)][_0x307925(0x145)]+'\x20'+JSON[_0x307925(0xa7)](_0xfb5164[_0x307925(0xc2)]['data'])):_0x1bebd2[_0x307925(0x13f)](debug,'EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20'+(_0xfb5164[_0x307925(0x11a)]||_0xfb5164));if(_0xfb5164&&_0xfb5164['message']){const _0x23ce1e=_0xfb5164[_0x307925(0x11a)];switch(_0xfb5164[_0x307925(0x104)]){case _0x1bebd2[_0x307925(0x113)]:logger[_0x307925(0xe8)](_0x23ce1e);break;case _0x1bebd2[_0x307925(0x123)]:logger['info'](_0x23ce1e);break;case _0x1bebd2[_0x307925(0x115)]:logger['error'](_0x23ce1e);break;default:logger[_0x307925(0xe8)](_0x23ce1e);}}else console['info'](_0x307925(0xbc)+constants[_0x307925(0x11c)]+_0x307925(0xa6)+_0xfb5164);return[null,null,null];}}static async['waitForBuildStatus'](){const _0x2ecc28=a128_0x22b416,_0xd1a66b={'zSgiw':_0x2ecc28(0xa2),'epZYf':_0x2ecc28(0x10d),'fIuhm':function(_0x107c1a,_0x23508b){return _0x107c1a(_0x23508b);}},_0x5e97f4=process[_0x2ecc28(0xa3)][_0x2ecc28(0x139)];if([_0xd1a66b[_0x2ecc28(0xee)],_0xd1a66b[_0x2ecc28(0xb3)]]['includes'](_0x5e97f4))return;while([_0xd1a66b[_0x2ecc28(0xee)],_0xd1a66b['epZYf']][_0x2ecc28(0x10f)](_0x5e97f4)){await _0xd1a66b['fIuhm'](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static[a128_0x22b416(0xfe)](_0x268a9f){const _0x4e2bac=a128_0x22b416,_0x2027bc={};_0x2027bc['VtkaC']='Test_Start_Upload',_0x2027bc['edAga']=_0x4e2bac(0xaa),_0x2027bc[_0x4e2bac(0xa5)]=_0x4e2bac(0x10c),_0x2027bc[_0x4e2bac(0x137)]=_0x4e2bac(0xd4),_0x2027bc[_0x4e2bac(0xe6)]=_0x4e2bac(0x9e),_0x2027bc[_0x4e2bac(0x103)]=_0x4e2bac(0xec),_0x2027bc[_0x4e2bac(0xb2)]='CBT_Upload';const _0x1ccf5b=_0x2027bc,_0x2889c7={};return _0x2889c7[_0x4e2bac(0x11b)]=_0x1ccf5b[_0x4e2bac(0x105)],_0x2889c7[_0x4e2bac(0x11d)]=_0x1ccf5b[_0x4e2bac(0x127)],_0x2889c7['TestRunSkipped']=_0x1ccf5b[_0x4e2bac(0xa5)],_0x2889c7['LogCreated']=_0x1ccf5b[_0x4e2bac(0x137)],_0x2889c7['HookRunStarted']=_0x1ccf5b[_0x4e2bac(0xe6)],_0x2889c7[_0x4e2bac(0xf5)]=_0x1ccf5b[_0x4e2bac(0x103)],_0x2889c7[_0x4e2bac(0xea)]=_0x1ccf5b[_0x4e2bac(0xb2)],_0x2889c7[_0x268a9f[_0x4e2bac(0x120)]];}static async[a128_0x22b416(0xb4)](_0x2d85e5,_0x309e8a=0x0,_0x28acde=null){const _0xef169f=a128_0x22b416,_0x306fd0={'dPBee':function(_0x49e96b,_0x2d98be){return _0x49e96b===_0x2d98be;},'cyuey':_0xef169f(0x106),'NZIvi':function(_0x138695,_0x296433){return _0x138695!==_0x296433;},'kMvEU':_0xef169f(0x10e),'ZFXlv':'true','PrXOg':function(_0xb9f30f,_0x425550,_0x4b3cf1,_0x569daf,_0x440ba5){return _0xb9f30f(_0x425550,_0x4b3cf1,_0x569daf,_0x440ba5);},'frHEE':'POST','nPxqT':function(_0x5ab676,_0x25bb76){return _0x5ab676(_0x25bb76);},'Piwcj':_0xef169f(0xc5),'Nitcs':function(_0x5545f7,_0x567317){return _0x5545f7-_0x567317;},'quYXo':function(_0x1ad613,_0x4f8782){return _0x1ad613===_0x4f8782;},'WEafN':_0xef169f(0xef),'PRBSX':_0xef169f(0xff),'ffexy':function(_0x4abca6,_0x123bff){return _0x4abca6(_0x123bff);},'lGFlL':function(_0x59fc7e,_0x2428d7){return _0x59fc7e===_0x2428d7;},'dHqat':_0xef169f(0xe8)};_0x306fd0[_0xef169f(0xc7)](_0x28acde,_0x306fd0['cyuey'])&&logger['debug'](_0xef169f(0xb1)+_0x2d85e5[_0xef169f(0x146)][0x0][_0xef169f(0xfa)]);const _0x601f4c=await this['getLogTag'](_0x2d85e5);let _0xb86368=_0x2d85e5,_0x46f00c=EVENT_ENDPOINT;_0x306fd0[_0xef169f(0xcf)](_0x28acde,_0x306fd0[_0xef169f(0x144)])&&this['requestQueueHandler'][_0xef169f(0xe0)]();const {shouldProceed:_0x345db6,proceedWithData:_0x45b7dc,proceedWithUrl:_0x45dfa4}=this['requestQueueHandler'][_0xef169f(0xa0)](_0x2d85e5);if(!_0x345db6)return;else _0x45b7dc&&(_0xb86368=_0x45b7dc,_0x46f00c=_0x45dfa4);const _0x121e66={};_0x121e66[_0xef169f(0x130)]=_0xef169f(0xe1)+process[_0xef169f(0xa3)]['BROWSERSTACK_TESTHUB_JWT'],_0x121e66[_0xef169f(0xdb)]=_0x306fd0[_0xef169f(0x129)],_0x121e66[_0xef169f(0x12d)]=_0x306fd0[_0xef169f(0x124)];const _0x59118f={};_0x59118f['headers']=_0x121e66;const _0x4ef65b=_0x59118f;let _0xa5c17;try{_0x306fd0[_0xef169f(0xc7)](_0x28acde,_0x306fd0['cyuey'])?(logger[_0xef169f(0xf3)](_0xef169f(0x125)+_0x2d85e5?.[_0xef169f(0x146)][0x0]?.['test_run_uuid']),_0xa5c17=await _0x306fd0[_0xef169f(0xa9)](asyncAwaitNodeReq,_0x306fd0[_0xef169f(0xe3)],_0x46f00c,_0xb86368,_0x4ef65b),logger['debug'](_0xef169f(0x132)+_0x2d85e5?.[_0xef169f(0x146)][0x0]?.[_0xef169f(0xfa)])):_0xa5c17=await _0x306fd0[_0xef169f(0xa9)](nodeRequest,_0x306fd0[_0xef169f(0xe3)],_0x46f00c,_0xb86368,_0x4ef65b);if(_0xa5c17[_0xef169f(0x13c)][_0xef169f(0xe8)]){const _0x55c056={};_0x55c056[_0xef169f(0x11a)]=_0xa5c17[_0xef169f(0x13c)]['error'];throw _0x55c056;}else{_0x306fd0[_0xef169f(0x147)](debug,(_0x306fd0[_0xef169f(0xcf)](_0x46f00c,this[_0xef169f(0xa8)]['eventUrl'])?_0x601f4c:_0x306fd0[_0xef169f(0xa1)])+'['+_0x309e8a+_0xef169f(0x133)),this['requestQueueHandler'][_0xef169f(0x9b)]=Math['max'](0x0,_0x306fd0[_0xef169f(0xae)](this['requestQueueHandler'][_0xef169f(0x9b)],_0x306fd0[_0xef169f(0xf7)](_0x46f00c,_0x306fd0['WEafN'])?0x1:_0xb86368[_0xef169f(0x136)]));const _0x3a2ee2={};return _0x3a2ee2[_0xef169f(0xd3)]=_0x306fd0[_0xef169f(0xfd)],_0x3a2ee2[_0xef169f(0x11a)]='',_0x3a2ee2;}}catch(_0x366f29){_0x366f29[_0xef169f(0xc2)]?_0x306fd0[_0xef169f(0xc4)](debug,'EXCEPTION\x20IN\x20'+(_0x306fd0[_0xef169f(0xcf)](_0x46f00c,this[_0xef169f(0xa8)][_0xef169f(0x10a)])?_0x601f4c:_0x306fd0[_0xef169f(0xa1)])+_0xef169f(0x128)+constants[_0xef169f(0x11c)]+_0xef169f(0xe9)+_0x366f29[_0xef169f(0xc2)][_0xef169f(0xd3)]+'\x20'+_0x366f29['response']['statusText']+'\x20'+util[_0xef169f(0x131)](_0x366f29[_0xef169f(0xc2)][_0xef169f(0x13c)])):_0x306fd0[_0xef169f(0x147)](debug,'EXCEPTION\x20IN\x20'+(_0x306fd0[_0xef169f(0xcf)](_0x46f00c,this[_0xef169f(0xa8)][_0xef169f(0x10a)])?_0x601f4c:_0x306fd0[_0xef169f(0xa1)])+_0xef169f(0x128)+constants['TEST_REPORTING_ANALYTICS']+_0xef169f(0xe9)+util[_0xef169f(0x131)](_0x366f29));this[_0xef169f(0xa8)][_0xef169f(0x9b)]=Math[_0xef169f(0x13b)](0x0,_0x306fd0[_0xef169f(0xae)](this[_0xef169f(0xa8)][_0xef169f(0x9b)],_0x306fd0[_0xef169f(0x109)](_0x46f00c,_0x306fd0[_0xef169f(0xd1)])?0x1:_0xb86368[_0xef169f(0x136)]));const _0x4d528b={};return _0x4d528b['status']=_0x306fd0[_0xef169f(0x9d)],_0x4d528b['message']=_0x366f29[_0xef169f(0x11a)]||(_0x366f29[_0xef169f(0xc2)]?_0x366f29[_0xef169f(0xc2)][_0xef169f(0xd3)]+':'+_0x366f29[_0xef169f(0xc2)][_0xef169f(0x145)]:_0x366f29),_0x4d528b;}}static async[a128_0x22b416(0x13d)](_0x3fc665,_0x5c5ae1=0x0){const _0x2fa0d0=a128_0x22b416,_0xab77a2={'kBCnp':function(_0x429f9c,_0x331e40){return _0x429f9c+_0x331e40;},'IcIqc':function(_0x470b8a,_0x495d1f){return _0x470b8a(_0x495d1f);},'LFnid':_0x2fa0d0(0xcc),'KKEnU':_0x2fa0d0(0x11f),'UIJSa':_0x2fa0d0(0x138),'vmiTG':function(_0x429c8e,_0x6f915,_0x49161a){return _0x429c8e(_0x6f915,_0x49161a);},'OipcV':_0x2fa0d0(0x13d),'SvEvQ':function(_0x4c7ee3,_0x356a78){return _0x4c7ee3===_0x356a78;},'YahMR':function(_0x1dc3b1,_0x337e60){return _0x1dc3b1!==_0x337e60;},'wnWyv':_0x2fa0d0(0xfb),'NfNgl':function(_0x5447cd,_0x3f1026){return _0x5447cd===_0x3f1026;},'asFJr':'true','ZCYyd':function(_0xeefa8){return _0xeefa8();},'kMJdG':function(_0x323b42,_0x513d47){return _0x323b42(_0x513d47);},'LusjC':function(_0x42afc4,_0x2d1f32){return _0x42afc4-_0x2d1f32;},'NveCL':_0x2fa0d0(0xe8),'IXPqw':'Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','ebHPG':function(_0x14d3ea,_0xa84856){return _0x14d3ea>=_0xa84856;},'kmtup':function(_0x578f4f,_0x9ab5fb){return _0x578f4f!==_0x9ab5fb;},'aTJUY':'Retry\x20runs\x20exceeded','HkSAl':function(_0x3765b2,_0x228d72){return _0x3765b2!==_0x228d72;},'NkrAo':_0x2fa0d0(0x10d)},_0xfa929b=this['getLogTag'](_0x3fc665);_0xab77a2[_0x2fa0d0(0x110)](trace,_0x2fa0d0(0xe2)+_0x3fc665[_0x2fa0d0(0x120)]+'\x27\x20'+(bsSetupHelper[_0x2fa0d0(0xb7)](_0x3fc665,[_0xab77a2[_0x2fa0d0(0xce)],_0xab77a2[_0x2fa0d0(0x101)]])||bsSetupHelper[_0x2fa0d0(0xb7)](_0x3fc665,[_0xab77a2['UIJSa'],_0xab77a2[_0x2fa0d0(0x101)]])));if(!_0xab77a2[_0x2fa0d0(0x12c)](shouldProcessEventForTesthub,_0x3fc665[_0x2fa0d0(0x120)],_0xab77a2[_0x2fa0d0(0x141)]))return;_0xab77a2['SvEvQ'](_0x5c5ae1,0x0)&&process[_0x2fa0d0(0xa3)]['BROWSERSTACK_TESTHUB_JWT']&&_0xab77a2[_0x2fa0d0(0xc6)](process[_0x2fa0d0(0xa3)][_0x2fa0d0(0x122)],_0xab77a2[_0x2fa0d0(0x12b)])&&(this[_0x2fa0d0(0xa8)][_0x2fa0d0(0x9b)]+=0x1);if(_0xab77a2[_0x2fa0d0(0xc9)](process[_0x2fa0d0(0xa3)][_0x2fa0d0(0x139)],_0xab77a2[_0x2fa0d0(0x116)])||process[_0x2fa0d0(0xa3)]['BS_A11Y_JWT']||_0xab77a2[_0x2fa0d0(0xd5)](isPercyBuild)){if(_0xab77a2[_0x2fa0d0(0x13e)](process[_0x2fa0d0(0xa3)][_0x2fa0d0(0x122)],_0xab77a2[_0x2fa0d0(0x12b)])){_0xab77a2['kMJdG'](debug,_0x2fa0d0(0x149)+_0xfa929b+_0x2fa0d0(0x128)+constants[_0x2fa0d0(0x11c)]+_0x2fa0d0(0xb5)),this['requestQueueHandler'][_0x2fa0d0(0x9b)]=Math[_0x2fa0d0(0x13b)](0x0,_0xab77a2[_0x2fa0d0(0xd9)](this[_0x2fa0d0(0xa8)][_0x2fa0d0(0x9b)],0x1));const _0x5543de={};return _0x5543de[_0x2fa0d0(0xd3)]=_0xab77a2['NveCL'],_0x5543de[_0x2fa0d0(0x11a)]=_0xab77a2[_0x2fa0d0(0xed)],_0x5543de;}return await this[_0x2fa0d0(0xb4)](_0x3fc665,_0x5c5ae1);}else{if(_0xab77a2[_0x2fa0d0(0x12a)](_0x5c5ae1,0x5)){_0xab77a2[_0x2fa0d0(0x110)](debug,_0x2fa0d0(0x149)+_0xfa929b+_0x2fa0d0(0x128)+constants[_0x2fa0d0(0x11c)]+_0x2fa0d0(0x100)+_0xfa929b+_0x2fa0d0(0xf1));_0xab77a2[_0x2fa0d0(0xb0)](process['env'][_0x2fa0d0(0x122)],_0xab77a2[_0x2fa0d0(0x12b)])&&(this['requestQueueHandler'][_0x2fa0d0(0x9b)]=Math['max'](0x0,_0xab77a2[_0x2fa0d0(0xd9)](this[_0x2fa0d0(0xa8)][_0x2fa0d0(0x9b)],0x1)));const _0x3b4fa1={};return _0x3b4fa1[_0x2fa0d0(0xd3)]=_0xab77a2['NveCL'],_0x3b4fa1[_0x2fa0d0(0x11a)]=_0xab77a2['aTJUY'],_0x3b4fa1;}else _0xab77a2[_0x2fa0d0(0xd8)](process[_0x2fa0d0(0xa3)][_0x2fa0d0(0x139)],_0xab77a2['NkrAo'])&&_0xab77a2[_0x2fa0d0(0x12c)](setTimeout,()=>{const _0x370b4d=_0x2fa0d0;this[_0x370b4d(0x13d)](_0x3fc665,_0xab77a2[_0x370b4d(0x121)](_0x5c5ae1,0x1));},0x3e8);}}}module['exports']=SessionHandler;