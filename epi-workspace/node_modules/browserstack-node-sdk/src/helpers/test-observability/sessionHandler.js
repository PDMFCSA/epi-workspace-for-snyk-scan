const a116_0x144ac9=a116_0xb888;(function(_0x204de6,_0x4fdee9){const _0x23bf19=a116_0xb888,_0x258d57=_0x204de6();while(!![]){try{const _0x2db700=-parseInt(_0x23bf19(0x8b))/0x1*(parseInt(_0x23bf19(0xc8))/0x2)+parseInt(_0x23bf19(0xf0))/0x3+parseInt(_0x23bf19(0xf3))/0x4*(-parseInt(_0x23bf19(0x128))/0x5)+parseInt(_0x23bf19(0xb2))/0x6+-parseInt(_0x23bf19(0xa6))/0x7*(-parseInt(_0x23bf19(0xcc))/0x8)+parseInt(_0x23bf19(0xb9))/0x9+-parseInt(_0x23bf19(0x123))/0xa*(parseInt(_0x23bf19(0xd5))/0xb);if(_0x2db700===_0x4fdee9)break;else _0x258d57['push'](_0x258d57['shift']());}catch(_0x4caba6){_0x258d57['push'](_0x258d57['shift']());}}}(a116_0x4f4f,0x52270));function a116_0xb888(_0xa8412d,_0x389e1d){const _0x4f4fd7=a116_0x4f4f();return a116_0xb888=function(_0xb8882d,_0x49b671){_0xb8882d=_0xb8882d-0x80;let _0x27f796=_0x4f4fd7[_0xb8882d];return _0x27f796;},a116_0xb888(_0xa8412d,_0x389e1d);}const bsSetupHelper=require(a116_0x144ac9(0x104)),path=require(a116_0x144ac9(0x120)),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require(a116_0x144ac9(0x113)),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require('./constants'),RequestQueueHandler=require(a116_0x144ac9(0xec)),logger=require(a116_0x144ac9(0xed))[a116_0x144ac9(0x111)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require(a116_0x144ac9(0x10f)),util=require(a116_0x144ac9(0x93));function a116_0x4f4f(){const _0x45c54c=['error','CBTSessionCreated','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20missing\x20authentication\x20token','\x20retry\x20runs\x20exceeded','BS_TESTOPS_BUILD_COMPLETED','info','woAek','application/json','omSyb','debug','AYOoh','IaqdK','BROWSERSTACK_RERUN','username','HhjJk','buildName','headers','zwIUA','115031uzewjq','TestRunFinished','false','BROWSERSTACK_BUILD_RUN_IDENTIFIER',']\x20event\x20successful!','SsCYE','nMZyq','add','KsjUT','LQRHW','mDDVt','cwd','2205894ADnEOi','MFMCe','pendingUploads','getUserName','uuid','length','GIBgk','4877631lnfbCw','inspect','ooJib','basename','uwmFB','kKkpB','ESlSz','BROWSERSTACK_TESTHUB_JWT','stringify','eventUrl','KezKs','sendEventData','status','waitForBuildStatus','browserstackAutomation','95658yfPbSz','statusText','errorType','FZUzm','104wVNiBW','auubR','data','xwOZO','POST','Test_End_Upload','test_run','buildIdentifier','HookRunFinished','892727bdOpkG','api/v1/event','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','QhPxa','getLogTag','TestRunStarted','jwt','message','requestQueueHandler','getGitMetaData','qmWNq','bFffq','launch','build_hashed_id','Hook_End_Upload','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20','BS_TESTOPS_BUILD_HASHED_ID','Authorization','Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20','password','YDRLY','ERROR_SDK_DEPRECATED','allow_screenshots','./requestQueueHandler','../logger','eOXmH','format','803139TKVrVI','IgOSy','X-BSTACK-TESTOPS','737348ScYBFp','MPuor','azEUQ','EXCEPTION\x20IN\x20','null','SafHn','event_type','env','tneXA','getAgentVersion','includes','toString','RDAqn','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','frameworkName','TBNMM','CREDENTIALS_FOR_CRASH_REPORTING','../helper','OPGSi','HookRunStarted','CvmzA','uJHwY','response','tikFB','PVjHX','ERROR_ACCESS_DENIED','Processing\x20event\x20-\x20\x27','qTfvS','../../helpers/testhub/utils','ygCbS','winstonLogger','true','./utils','OldaP','AhAXa','getCiInfo','sreAi','Retry\x20runs\x20exceeded','sendTraceZip','CBT_Upload','AiUur','RBKxU','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','buildDescription','aRcHA','path','success','VeSUe','50doYKkX','BROWSERSTACK_TESTHUB_UUID','MJymb','TihDq','BS_TESTOPS_JWT','15SaRYhS','hVvmq','UtPvA','projectName','Test_Skipped_Upload','LogCreated','TvVXT','max','ERROR_INVALID_CREDENTIALS','BS_TESTOPS_ALLOW_SCREENSHOTS','logs','MPFBF','Sending\x20trace\x20zip\x20for\x20test:\x20','frameworkVersion','ziYsD','bGhnW','ROcWv','Build\x20creation\x20successful!','test_run_uuid','lXnbg','ztTWG','getHostInfo','2trqXrB','Test_Start_Upload','start','Bearer\x20','uploadEventData','nestedKeyValue','HYfak','TestRunSkipped','util'];a116_0x4f4f=function(){return _0x45c54c;};return a116_0x4f4f();}class SessionHandler{static ['requestQueueHandler']=RequestQueueHandler['getInstance']();static async[a116_0x144ac9(0xe1)](_0x5a748c,_0x500bef){const _0x55ea72=a116_0x144ac9,_0xf7b263={'uJHwY':function(_0x1a3a53,_0x1c61a){return _0x1a3a53||_0x1c61a;},'RBKxU':function(_0x490c8d,_0x1b61ca){return _0x490c8d===_0x1b61ca;},'IgOSy':function(_0x5bacc5,_0x2147d9){return _0x5bacc5(_0x2147d9);},'MPFBF':'EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','HhjJk':'false','OPGSi':'json','AiUur':function(_0x1d3aa4,_0x7fcf81){return _0x1d3aa4(_0x7fcf81);},'tneXA':function(_0x560774,_0x3ea6ad){return _0x560774(_0x3ea6ad);},'auubR':function(_0x376eed,_0x3834e3){return _0x376eed(_0x3834e3);},'ROcWv':function(_0xbdf0dd,_0x573e21){return _0xbdf0dd(_0x573e21);},'MJymb':function(_0x2372aa,_0x17fbe0,_0x4b3e55,_0xbc6f0e,_0x4107e4){return _0x2372aa(_0x17fbe0,_0x4b3e55,_0xbc6f0e,_0x4107e4);},'ztTWG':_0x55ea72(0xd0),'aRcHA':'api/v1/builds','yPqOQ':_0x55ea72(0x86),'MPuor':function(_0x26c24c){return _0x26c24c();},'uwmFB':_0x55ea72(0x112),'QhPxa':_0x55ea72(0xf7),'qmWNq':_0x55ea72(0x130),'woAek':_0x55ea72(0x10c),'hVvmq':_0x55ea72(0xea)};logger[_0x55ea72(0x99)]('Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20'+util[_0x55ea72(0xba)](_0x5a748c));const _0x3ce76d=bsSetupHelper[_0x55ea72(0xb5)](_0x5a748c),_0x2ccac5=bsSetupHelper['getAccessKey'](_0x5a748c),_0x2f7df6=_0xf7b263[_0x55ea72(0x108)](_0x3ce76d,'')+':'+_0xf7b263[_0x55ea72(0x108)](_0x2ccac5,'');if(_0xf7b263[_0x55ea72(0x11c)](_0x2f7df6,':'))return _0xf7b263[_0x55ea72(0xf1)](debug,_0xf7b263[_0x55ea72(0x80)]),process[_0x55ea72(0xfa)]['BS_TESTOPS_BUILD_COMPLETED']=_0xf7b263[_0x55ea72(0xa2)],[null,null];let _0x143c3f=![],_0x4c2c0e=![];if(_0x5a748c[_0x55ea72(0xc7)]&&_0x5a748c['app'])_0x4c2c0e=!![];else _0x5a748c[_0x55ea72(0xc7)]&&(_0x143c3f=!![]);try{const _0x853d0a={'format':_0xf7b263[_0x55ea72(0x105)],'project_name':_0x5a748c[_0x55ea72(0x12b)]||'','name':_0x5a748c[_0x55ea72(0xa3)]||path[_0x55ea72(0xbc)](path['resolve'](process[_0x55ea72(0xb1)]())),'build_identifier':_0x5a748c[_0x55ea72(0xd3)],'description':_0x5a748c[_0x55ea72(0x11e)]||'','start_time':new Date()['toISOString'](),'tags':_0xf7b263[_0x55ea72(0x11b)](getCustomTags,_0x5a748c),'host_info':bsSetupHelper[_0x55ea72(0x8a)](),'ci_info':bsSetupHelper[_0x55ea72(0x116)](),'build_run_identifier':process[_0x55ea72(0xfa)][_0x55ea72(0xa9)],'failed_tests_rerun':process['env'][_0x55ea72(0xa0)]||![],'version_control':await bsSetupHelper[_0x55ea72(0xde)](),'observability_version':{'frameworkName':_0x500bef[_0x55ea72(0x101)],'frameworkVersion':_0x500bef[_0x55ea72(0x82)],'sdkVersion':bsSetupHelper[_0x55ea72(0xfc)]()},'product_map':_0xf7b263[_0x55ea72(0xfb)](getProductMap,_0x5a748c),'test_orchestration':_0xf7b263[_0x55ea72(0xcd)](getTestOrchestrationBuildStartData,_0x5a748c)},_0x49a29b={};_0x49a29b[_0x55ea72(0xa1)]=_0x3ce76d,_0x49a29b[_0x55ea72(0xe8)]=_0x2ccac5;const _0x2ffd79={'auth':_0x49a29b,'headers':_0xf7b263[_0x55ea72(0x85)](getDefaultHeaders,![])},_0x5f20a3=await _0xf7b263[_0x55ea72(0x125)](nodeRequest,_0xf7b263[_0x55ea72(0x89)],_0xf7b263[_0x55ea72(0x11f)],_0x853d0a,_0x2ffd79);_0xf7b263[_0x55ea72(0x11b)](debug,_0xf7b263['yPqOQ']);const _0x4ea2d6=_0x5f20a3[_0x55ea72(0xce)];_0x4ea2d6['build_hashed_id']&&(process[_0x55ea72(0xfa)][_0x55ea72(0x124)]=_0x4ea2d6[_0x55ea72(0xe2)]);if(_0xf7b263[_0x55ea72(0xf4)](isTestObservabilitySession)){process[_0x55ea72(0xfa)]['BS_TESTOPS_BUILD_COMPLETED']=_0xf7b263[_0x55ea72(0xbd)];if(_0x4ea2d6['jwt']){process[_0x55ea72(0xfa)][_0x55ea72(0x127)]=_0x4ea2d6[_0x55ea72(0xdb)];const _0x29cc3a={};_0x29cc3a[_0x55ea72(0xa1)]=_0x3ce76d,_0x29cc3a['password']=_0x2ccac5,process[_0x55ea72(0xfa)][_0x55ea72(0x103)]=JSON[_0x55ea72(0xc1)](_0x29cc3a);}_0x4ea2d6[_0x55ea72(0xe2)]&&(process[_0x55ea72(0xfa)][_0x55ea72(0xe5)]=_0x4ea2d6[_0x55ea72(0xe2)]),_0x4ea2d6[_0x55ea72(0xeb)]&&(process[_0x55ea72(0xfa)][_0x55ea72(0x131)]=_0x4ea2d6['allow_screenshots'][_0x55ea72(0xfe)]());}return[_0x5f20a3[_0x55ea72(0xce)][_0x55ea72(0xdb)],_0x5f20a3[_0x55ea72(0xce)][_0x55ea72(0xe2)],_0x5f20a3[_0x55ea72(0xce)][_0x55ea72(0xeb)]];}catch(_0x5f3f5c){process[_0x55ea72(0xfa)][_0x55ea72(0x124)]=_0xf7b263[_0x55ea72(0xd8)],process['env'][_0x55ea72(0x98)]=_0xf7b263[_0x55ea72(0xa2)],process[_0x55ea72(0xfa)][_0x55ea72(0x127)]=_0xf7b263[_0x55ea72(0xd8)],process['env'][_0x55ea72(0xe5)]=_0xf7b263['QhPxa'],process[_0x55ea72(0xfa)][_0x55ea72(0x131)]=_0xf7b263[_0x55ea72(0xd8)];_0x5f3f5c[_0x55ea72(0x109)]?_0xf7b263[_0x55ea72(0x85)](debug,_0x55ea72(0x11d)+_0x5f3f5c[_0x55ea72(0x109)][_0x55ea72(0xc5)]+'\x20'+_0x5f3f5c[_0x55ea72(0x109)]['statusText']+'\x20'+JSON['stringify'](_0x5f3f5c[_0x55ea72(0x109)][_0x55ea72(0xce)])):_0xf7b263['IgOSy'](debug,_0x55ea72(0x11d)+(_0x5f3f5c['message']||_0x5f3f5c));if(_0x5f3f5c&&_0x5f3f5c[_0x55ea72(0xdc)]){const _0x158144=_0x5f3f5c['message'];switch(_0x5f3f5c[_0x55ea72(0xca)]){case _0xf7b263[_0x55ea72(0xdf)]:logger[_0x55ea72(0x94)](_0x158144);break;case _0xf7b263[_0x55ea72(0x9a)]:logger[_0x55ea72(0x99)](_0x158144);break;case _0xf7b263[_0x55ea72(0x129)]:logger[_0x55ea72(0x94)](_0x158144);break;default:logger[_0x55ea72(0x94)](_0x158144);}}else console[_0x55ea72(0x99)]('Data\x20upload\x20to\x20BrowserStack\x20Test\x20Observability\x20failed\x20due\x20to\x20'+_0x5f3f5c);return[null,null,null];}}static async[a116_0x144ac9(0xc6)](){const _0x4a05a4=a116_0x144ac9,_0xd648d7={'YDRLY':_0x4a05a4(0x112),'LQRHW':_0x4a05a4(0xa8),'zwIUA':function(_0x5ad853,_0x3d38eb){return _0x5ad853(_0x3d38eb);}},_0x3b2513=process[_0x4a05a4(0xfa)][_0x4a05a4(0x98)];if([_0xd648d7[_0x4a05a4(0xe9)],_0xd648d7[_0x4a05a4(0xaf)]][_0x4a05a4(0xfd)](_0x3b2513))return;while([_0xd648d7['YDRLY'],_0xd648d7[_0x4a05a4(0xaf)]][_0x4a05a4(0xfd)](_0x3b2513)){await _0xd648d7[_0x4a05a4(0xa5)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static[a116_0x144ac9(0xd9)](_0x1fac62){const _0x5e28e5=a116_0x144ac9,_0xa8fa66={};_0xa8fa66['bFffq']=_0x5e28e5(0x8c),_0xa8fa66['GyYFw']=_0x5e28e5(0xd1),_0xa8fa66[_0x5e28e5(0xee)]=_0x5e28e5(0x12c),_0xa8fa66[_0x5e28e5(0x9c)]='Log_Upload',_0xa8fa66[_0x5e28e5(0xac)]='Hook_Start_Upload',_0xa8fa66['SafHn']=_0x5e28e5(0xe3),_0xa8fa66['OldaP']=_0x5e28e5(0x11a);const _0x5be2ab=_0xa8fa66,_0x57cb90={};return _0x57cb90[_0x5e28e5(0xda)]=_0x5be2ab[_0x5e28e5(0xe0)],_0x57cb90[_0x5e28e5(0xa7)]=_0x5be2ab['GyYFw'],_0x57cb90[_0x5e28e5(0x92)]=_0x5be2ab[_0x5e28e5(0xee)],_0x57cb90[_0x5e28e5(0x12d)]=_0x5be2ab[_0x5e28e5(0x9c)],_0x57cb90[_0x5e28e5(0x106)]=_0x5be2ab[_0x5e28e5(0xac)],_0x57cb90[_0x5e28e5(0xd4)]=_0x5be2ab[_0x5e28e5(0xf8)],_0x57cb90[_0x5e28e5(0x95)]=_0x5be2ab[_0x5e28e5(0x114)],_0x57cb90[_0x1fac62[_0x5e28e5(0xf9)]];}static async[a116_0x144ac9(0xc4)](_0x5f2393,_0x42fd54=0x0,_0x13a766=null){const _0x1f7ada=a116_0x144ac9,_0x418898={'ygCbS':function(_0xaaac3a,_0x24b88a){return _0xaaac3a===_0x24b88a;},'TBNMM':_0x1f7ada(0x119),'ESlSz':function(_0x475ee9,_0x2017f8){return _0x475ee9!==_0x2017f8;},'VeSUe':_0x1f7ada(0x9b),'ziYsD':_0x1f7ada(0x112),'TvVXT':function(_0x592b37,_0x4e371b){return _0x592b37===_0x4e371b;},'KezKs':function(_0x330f9b,_0x3f1358,_0x30d978,_0x51ecb4,_0x36c527){return _0x330f9b(_0x3f1358,_0x30d978,_0x51ecb4,_0x36c527);},'xwOZO':'POST','AhAXa':function(_0x4e4c50,_0xfddbf5,_0x303421,_0x4c1d94,_0xc6d6f){return _0x4e4c50(_0xfddbf5,_0x303421,_0x4c1d94,_0xc6d6f);},'IaqdK':function(_0x9d0501,_0x51db1e){return _0x9d0501(_0x51db1e);},'ooJib':'Batch-Queue','ESrMi':function(_0x2b2cde,_0x272d9b){return _0x2b2cde-_0x272d9b;},'RDAqn':_0x1f7ada(0xd6),'AYOoh':_0x1f7ada(0x121),'QnNKU':function(_0x3f2237,_0x30306c){return _0x3f2237(_0x30306c);},'PVjHX':function(_0x151fdd,_0x149619){return _0x151fdd!==_0x149619;},'tikFB':function(_0x536fe3,_0x400f6c){return _0x536fe3-_0x400f6c;},'sreAi':_0x1f7ada(0x94)};_0x418898[_0x1f7ada(0x110)](_0x13a766,_0x418898[_0x1f7ada(0x102)])&&logger['debug'](_0x1f7ada(0x81)+_0x5f2393[_0x1f7ada(0x132)][0x0][_0x1f7ada(0x87)]);const _0xd3e0a5=await this['getLogTag'](_0x5f2393);let _0x4156f5=_0x5f2393,_0x32e8a6=EVENT_ENDPOINT;_0x418898[_0x1f7ada(0xbf)](_0x13a766,_0x418898[_0x1f7ada(0x102)])&&this[_0x1f7ada(0xdd)][_0x1f7ada(0x8d)]();const {shouldProceed:_0x4cd9a3,proceedWithData:_0xe52987,proceedWithUrl:_0x3cd3ff}=this['requestQueueHandler'][_0x1f7ada(0xad)](_0x5f2393);if(!_0x4cd9a3)return;else _0xe52987&&(_0x4156f5=_0xe52987,_0x32e8a6=_0x3cd3ff);const _0x26da86={};_0x26da86[_0x1f7ada(0xe6)]=_0x1f7ada(0x8e)+process[_0x1f7ada(0xfa)][_0x1f7ada(0xc0)],_0x26da86['Content-Type']=_0x418898[_0x1f7ada(0x122)],_0x26da86[_0x1f7ada(0xf2)]=_0x418898[_0x1f7ada(0x83)];const _0x3f2f66={};_0x3f2f66[_0x1f7ada(0xa4)]=_0x26da86;const _0x23a3ea=_0x3f2f66;let _0x142ccc;try{_0x418898[_0x1f7ada(0x12e)](_0x13a766,_0x418898[_0x1f7ada(0x102)])?(logger[_0x1f7ada(0x9d)](_0x1f7ada(0xe7)+_0x5f2393?.[_0x1f7ada(0x132)][0x0]?.[_0x1f7ada(0x87)]),_0x142ccc=await _0x418898[_0x1f7ada(0xc3)](asyncAwaitNodeReq,_0x418898[_0x1f7ada(0xcf)],_0x32e8a6,_0x4156f5,_0x23a3ea),logger[_0x1f7ada(0x9d)](_0x1f7ada(0xe4)+_0x5f2393?.[_0x1f7ada(0x132)][0x0]?.[_0x1f7ada(0x87)])):_0x142ccc=await _0x418898[_0x1f7ada(0x115)](nodeRequest,_0x418898['xwOZO'],_0x32e8a6,_0x4156f5,_0x23a3ea);if(_0x142ccc[_0x1f7ada(0xce)][_0x1f7ada(0x94)]){const _0x295471={};_0x295471[_0x1f7ada(0xdc)]=_0x142ccc[_0x1f7ada(0xce)][_0x1f7ada(0x94)];throw _0x295471;}else{_0x418898[_0x1f7ada(0x9f)](debug,(_0x418898[_0x1f7ada(0xbf)](_0x32e8a6,this[_0x1f7ada(0xdd)]['eventUrl'])?_0xd3e0a5:_0x418898[_0x1f7ada(0xbb)])+'['+_0x42fd54+_0x1f7ada(0xaa)),this[_0x1f7ada(0xdd)][_0x1f7ada(0xb4)]=Math[_0x1f7ada(0x12f)](0x0,_0x418898['ESrMi'](this['requestQueueHandler'][_0x1f7ada(0xb4)],_0x418898[_0x1f7ada(0x12e)](_0x32e8a6,_0x418898[_0x1f7ada(0xff)])?0x1:_0x4156f5['length']));const _0x54a97d={};return _0x54a97d['status']=_0x418898[_0x1f7ada(0x9e)],_0x54a97d[_0x1f7ada(0xdc)]='',_0x54a97d;}}catch(_0x173a52){_0x173a52[_0x1f7ada(0x109)]?_0x418898[_0x1f7ada(0x9f)](debug,_0x1f7ada(0xf6)+(_0x418898['ESlSz'](_0x32e8a6,this[_0x1f7ada(0xdd)][_0x1f7ada(0xc2)])?_0xd3e0a5:_0x418898[_0x1f7ada(0xbb)])+_0x1f7ada(0x100)+_0x173a52[_0x1f7ada(0x109)][_0x1f7ada(0xc5)]+'\x20'+_0x173a52[_0x1f7ada(0x109)][_0x1f7ada(0xc9)]+'\x20'+util[_0x1f7ada(0xef)](_0x173a52[_0x1f7ada(0x109)][_0x1f7ada(0xce)])):_0x418898['QnNKU'](debug,_0x1f7ada(0xf6)+(_0x418898[_0x1f7ada(0x10b)](_0x32e8a6,this['requestQueueHandler']['eventUrl'])?_0xd3e0a5:_0x418898[_0x1f7ada(0xbb)])+_0x1f7ada(0x100)+util[_0x1f7ada(0xef)](_0x173a52));this[_0x1f7ada(0xdd)][_0x1f7ada(0xb4)]=Math[_0x1f7ada(0x12f)](0x0,_0x418898[_0x1f7ada(0x10a)](this[_0x1f7ada(0xdd)][_0x1f7ada(0xb4)],_0x418898[_0x1f7ada(0x110)](_0x32e8a6,_0x418898[_0x1f7ada(0xff)])?0x1:_0x4156f5[_0x1f7ada(0xb7)]));const _0x37bfec={};return _0x37bfec['status']=_0x418898[_0x1f7ada(0x117)],_0x37bfec[_0x1f7ada(0xdc)]=_0x173a52[_0x1f7ada(0xdc)]||(_0x173a52[_0x1f7ada(0x109)]?_0x173a52[_0x1f7ada(0x109)]['status']+':'+_0x173a52[_0x1f7ada(0x109)]['statusText']:_0x173a52),_0x37bfec;}}static async[a116_0x144ac9(0x8f)](_0x47aa76,_0x103559=0x0){const _0x51c51b=a116_0x144ac9,_0x3afecd={'SsCYE':function(_0x36ceba,_0x1a7fa1){return _0x36ceba+_0x1a7fa1;},'kKkpB':function(_0x3ebb3d,_0x342c54){return _0x3ebb3d(_0x342c54);},'MFMCe':_0x51c51b(0xd2),'mDDVt':_0x51c51b(0xb6),'RDqBc':'hook_run','HYfak':function(_0x16cb4d,_0x4ddc77,_0x261b19){return _0x16cb4d(_0x4ddc77,_0x261b19);},'TihDq':'uploadEventData','bGhnW':function(_0x3923b9,_0x588377){return _0x3923b9===_0x588377;},'FZUzm':function(_0x55becf,_0xe6678a){return _0x55becf!==_0xe6678a;},'azEUQ':'null','lXnbg':_0x51c51b(0x112),'KsjUT':function(_0x28c9d3){return _0x28c9d3();},'CvmzA':function(_0x119a09,_0x5cebf8){return _0x119a09-_0x5cebf8;},'GIBgk':'error','lfRwp':_0x51c51b(0xd7),'uPHNL':function(_0x46f25c,_0x3d483f){return _0x46f25c>=_0x3d483f;},'qTfvS':function(_0x2722f3,_0x1460d2){return _0x2722f3!==_0x1460d2;},'UtPvA':_0x51c51b(0x118),'kHUDh':_0x51c51b(0xa8)},_0x5588ac=this[_0x51c51b(0xd9)](_0x47aa76);_0x3afecd['kKkpB'](trace,_0x51c51b(0x10d)+_0x47aa76['event_type']+'\x27\x20'+(bsSetupHelper[_0x51c51b(0x90)](_0x47aa76,[_0x3afecd[_0x51c51b(0xb3)],_0x3afecd[_0x51c51b(0xb0)]])||bsSetupHelper[_0x51c51b(0x90)](_0x47aa76,[_0x3afecd['RDqBc'],_0x3afecd[_0x51c51b(0xb0)]])));if(!_0x3afecd['HYfak'](shouldProcessEventForTesthub,_0x47aa76[_0x51c51b(0xf9)],_0x3afecd[_0x51c51b(0x126)]))return;_0x3afecd[_0x51c51b(0x84)](_0x103559,0x0)&&process['env'][_0x51c51b(0xc0)]&&_0x3afecd[_0x51c51b(0xcb)](process['env']['BROWSERSTACK_TESTHUB_JWT'],_0x3afecd[_0x51c51b(0xf5)])&&(this['requestQueueHandler']['pendingUploads']+=0x1);if(_0x3afecd[_0x51c51b(0x84)](process[_0x51c51b(0xfa)][_0x51c51b(0x98)],_0x3afecd[_0x51c51b(0x88)])||process[_0x51c51b(0xfa)]['BS_A11Y_JWT']||_0x3afecd[_0x51c51b(0xae)](isPercyBuild)){if(_0x3afecd['bGhnW'](process[_0x51c51b(0xfa)][_0x51c51b(0xc0)],_0x3afecd[_0x51c51b(0xf5)])){_0x3afecd[_0x51c51b(0xbe)](debug,_0x51c51b(0xf6)+_0x5588ac+_0x51c51b(0x96)),this[_0x51c51b(0xdd)][_0x51c51b(0xb4)]=Math[_0x51c51b(0x12f)](0x0,_0x3afecd[_0x51c51b(0x107)](this['requestQueueHandler'][_0x51c51b(0xb4)],0x1));const _0x322c40={};return _0x322c40[_0x51c51b(0xc5)]=_0x3afecd[_0x51c51b(0xb8)],_0x322c40[_0x51c51b(0xdc)]=_0x3afecd['lfRwp'],_0x322c40;}return await this[_0x51c51b(0xc4)](_0x47aa76,_0x103559);}else{if(_0x3afecd['uPHNL'](_0x103559,0x5)){_0x3afecd[_0x51c51b(0xbe)](debug,'EXCEPTION\x20IN\x20'+_0x5588ac+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20'+_0x5588ac+_0x51c51b(0x97));_0x3afecd[_0x51c51b(0x10e)](process[_0x51c51b(0xfa)][_0x51c51b(0xc0)],_0x3afecd[_0x51c51b(0xf5)])&&(this[_0x51c51b(0xdd)][_0x51c51b(0xb4)]=Math[_0x51c51b(0x12f)](0x0,_0x3afecd[_0x51c51b(0x107)](this[_0x51c51b(0xdd)][_0x51c51b(0xb4)],0x1)));const _0x3d2f2b={};return _0x3d2f2b['status']=_0x3afecd['GIBgk'],_0x3d2f2b[_0x51c51b(0xdc)]=_0x3afecd[_0x51c51b(0x12a)],_0x3d2f2b;}else _0x3afecd[_0x51c51b(0x10e)](process['env'][_0x51c51b(0x98)],_0x3afecd['kHUDh'])&&_0x3afecd[_0x51c51b(0x91)](setTimeout,()=>{const _0x6bf442=_0x51c51b;this[_0x6bf442(0x8f)](_0x47aa76,_0x3afecd[_0x6bf442(0xab)](_0x103559,0x1));},0x3e8);}}}module['exports']=SessionHandler;