const a124_0xc6a8dc=a124_0x1417;function a124_0x1417(_0x39427e,_0x11fc26){const _0x2a4382=a124_0x2a43();return a124_0x1417=function(_0x141772,_0x5a472c){_0x141772=_0x141772-0xbc;let _0xb9ead7=_0x2a4382[_0x141772];return _0xb9ead7;},a124_0x1417(_0x39427e,_0x11fc26);}(function(_0x3185d3,_0x47ed2f){const _0x102faa=a124_0x1417,_0x448766=_0x3185d3();while(!![]){try{const _0xe7b730=parseInt(_0x102faa(0xca))/0x1*(parseInt(_0x102faa(0x130))/0x2)+parseInt(_0x102faa(0x158))/0x3+parseInt(_0x102faa(0xe6))/0x4+-parseInt(_0x102faa(0x145))/0x5+-parseInt(_0x102faa(0xe2))/0x6+-parseInt(_0x102faa(0x111))/0x7+parseInt(_0x102faa(0x155))/0x8;if(_0xe7b730===_0x47ed2f)break;else _0x448766['push'](_0x448766['shift']());}catch(_0x320c52){_0x448766['push'](_0x448766['shift']());}}}(a124_0x2a43,0xc0134));const bsSetupHelper=require(a124_0xc6a8dc(0x103)),path=require(a124_0xc6a8dc(0xd7)),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require(a124_0xc6a8dc(0xf6)),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require('./constants'),RequestQueueHandler=require(a124_0xc6a8dc(0xd1)),logger=require('../logger')['winstonLogger'],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require(a124_0xc6a8dc(0x11d)),util=require(a124_0xc6a8dc(0x160)),constants=require(a124_0xc6a8dc(0x153));function a124_0x2a43(){const _0x3ccda8=['UPGen','\x20:\x20missing\x20authentication\x20token','NiXfk','cFWAK','xWhfp','Hklky','pendingUploads','TDOCg','qPPYm','add','browserstackAutomation','CREDENTIALS_FOR_CRASH_REPORTING','uploadEventData','Test_Start_Upload','./utils','debug','\x20REQUEST\x20TO\x20','response','Retry\x20runs\x20exceeded','yuQaw','allow_screenshots','oGtKn','TEST_REPORTING_ANALYTICS','CrwwU','BS_TESTOPS_ALLOW_SCREENSHOTS','TestRunFinished','uRRqm','../helper','ShgQA','null','BROWSERSTACK_BUILD_RUN_IDENTIFIER','vONuZ','Hook_End_Upload','\x20:\x20','kbsni','data','nwIWP','ExVny','format','projectName','getAgentVersion','6756554QoCjSs','osBhE','ZChFu','\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','getLogTag','nestedKeyValue','Data\x20upload\x20to\x20BrowserStack\x20','statusText','uuid','sKfsq','HwSsi','true','../../helpers/testhub/utils','fpbjC','Sending\x20trace\x20zip\x20for\x20test:\x20','Log_Upload','stringify','toString','frameworkVersion','basename','max','BROWSERSTACK_RERUN','message','jwt','KSdvk','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20','ZFOKI','getInstance','application/json','sendEventData','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','200SCxJIN','Authorization','Test_End_Upload','buildDescription','begCt','start','Build\x20creation\x20successful!','GhKRL','TestRunSkipped','PVoUU','PazHu','EspCh','username','success','ZCBzL','Test_Skipped_Upload','HPUJW','api/v1/builds','WetQe','\x20failed\x20due\x20to\x20','CBTSessionCreated','4910170vnSHtV','BROWSERSTACK_TESTHUB_UUID','Hook_Start_Upload','Zudqc','qykVx','getHostInfo','KkuYa','logs','status','build_hashed_id','ERROR_SDK_DEPRECATED','error','includes','requestQueueHandler','../../bin/utils/constants','BSOvI','9109552kdDQWR','POST','hook_run','2805258awKeEo','resolve','dMJLO','TestRunStarted','ASjmh','event_type','pCDLP','json','util','EXCEPTION\x20IN\x20','udgGw','password','BS_TESTOPS_JWT','bvCCu','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','buildIdentifier','Batch-Queue','waitForBuildStatus','OdQxp','inspect','hQNfH','cwd','api/v1/event','test_run','PEaZM','false','oaHcc','ZFNey','AmgRP','Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20','BROWSERSTACK_TESTHUB_JWT','RkIOz','length','ChRDK','EPKMO','paYXw','getGitMetaData','5691GXpQXh','AxAsX','lIIyk','getAccessKey','TxRGw','LogCreated','GkQzl','./requestQueueHandler','toISOString','xkelv','frameworkName','AswLj','launch','path','BS_TESTOPS_BUILD_HASHED_ID','errorType','BS_TESTOPS_BUILD_COMPLETED','TfCbr','HbfNU','info','Processing\x20event\x20-\x20\x27','eventUrl','pWkQj','WKqts','4041210TmBjEB','test_run_uuid','env','HppTi','3058604WjCjlC','HookRunFinished'];a124_0x2a43=function(){return _0x3ccda8;};return a124_0x2a43();}class SessionHandler{static [a124_0xc6a8dc(0x152)]=RequestQueueHandler[a124_0xc6a8dc(0x12c)]();static async[a124_0xc6a8dc(0xd6)](_0x52ffd8,_0x17338b){const _0x37c89b=a124_0xc6a8dc,_0x31667c={'WKqts':function(_0x573a06,_0x5bc6c4){return _0x573a06||_0x5bc6c4;},'qPPYm':function(_0x3a2e6e,_0x1a50fc){return _0x3a2e6e||_0x1a50fc;},'ChRDK':function(_0x30826b,_0x2df2e8){return _0x30826b===_0x2df2e8;},'ShgQA':function(_0x520c7e,_0xc8234f){return _0x520c7e(_0xc8234f);},'KkuYa':_0x37c89b(0x166),'PVoUU':_0x37c89b(0xbe),'KSdvk':_0x37c89b(0x15f),'cFWAK':function(_0x12e725,_0x68128b){return _0x12e725(_0x68128b);},'nwIWP':function(_0x702167,_0x41b3ee){return _0x702167(_0x41b3ee);},'bvCCu':function(_0x49d21b,_0x43ec10){return _0x49d21b(_0x43ec10);},'QYmai':function(_0x52a2d2,_0x335c07,_0x31fab4,_0x4158db,_0x13da92){return _0x52a2d2(_0x335c07,_0x31fab4,_0x4158db,_0x13da92);},'CrwwU':'POST','ZFOKI':_0x37c89b(0x141),'OdQxp':function(_0x4347aa,_0x181482){return _0x4347aa(_0x181482);},'JjWra':_0x37c89b(0x136),'pWkQj':function(_0x594bb9){return _0x594bb9();},'Zudqc':_0x37c89b(0x11c),'xkelv':_0x37c89b(0x105),'AxAsX':function(_0x24613a,_0x2e3470){return _0x24613a(_0x2e3470);},'HXdqQ':'ERROR_INVALID_CREDENTIALS','AmgRP':'ERROR_ACCESS_DENIED','kbsni':_0x37c89b(0x14f)};logger[_0x37c89b(0xdd)]('Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20'+util[_0x37c89b(0x16b)](_0x52ffd8));const _0x13ecb2=bsSetupHelper['getUserName'](_0x52ffd8),_0x188161=bsSetupHelper[_0x37c89b(0xcd)](_0x52ffd8),_0x1a1a1e=_0x31667c[_0x37c89b(0xe1)](_0x13ecb2,'')+':'+_0x31667c[_0x37c89b(0xf0)](_0x188161,'');if(_0x31667c[_0x37c89b(0xc6)](_0x1a1a1e,':'))return _0x31667c[_0x37c89b(0x104)](debug,_0x31667c[_0x37c89b(0x14b)]),process['env']['BS_TESTOPS_BUILD_COMPLETED']=_0x31667c[_0x37c89b(0x139)],[null,null];let _0x2fb404=![],_0x449d33=![];if(_0x52ffd8[_0x37c89b(0xf2)]&&_0x52ffd8['app'])_0x449d33=!![];else _0x52ffd8[_0x37c89b(0xf2)]&&(_0x2fb404=!![]);try{const _0x1677c8={'format':_0x31667c[_0x37c89b(0x129)],'project_name':_0x52ffd8[_0x37c89b(0x10f)]||'','name':_0x52ffd8['buildName']||path[_0x37c89b(0x124)](path[_0x37c89b(0x159)](process[_0x37c89b(0x16d)]())),'build_identifier':_0x52ffd8[_0x37c89b(0x167)],'description':_0x52ffd8[_0x37c89b(0x133)]||'','start_time':new Date()[_0x37c89b(0xd2)](),'tags':_0x31667c[_0x37c89b(0xeb)](getCustomTags,_0x52ffd8),'host_info':bsSetupHelper[_0x37c89b(0x14a)](),'ci_info':bsSetupHelper['getCiInfo'](),'build_run_identifier':process[_0x37c89b(0xe4)][_0x37c89b(0x106)],'failed_tests_rerun':process['env'][_0x37c89b(0x126)]||![],'version_control':await bsSetupHelper[_0x37c89b(0xc9)](),'observability_version':{'frameworkName':_0x17338b[_0x37c89b(0xd4)],'frameworkVersion':_0x17338b[_0x37c89b(0x123)],'sdkVersion':bsSetupHelper[_0x37c89b(0x110)]()},'product_map':_0x31667c[_0x37c89b(0x104)](getProductMap,_0x52ffd8),'test_orchestration':_0x31667c[_0x37c89b(0x10c)](getTestOrchestrationBuildStartData,_0x52ffd8)},_0x2d0a18={};_0x2d0a18[_0x37c89b(0x13c)]=_0x13ecb2,_0x2d0a18[_0x37c89b(0x163)]=_0x188161;const _0x22d691={'auth':_0x2d0a18,'headers':_0x31667c[_0x37c89b(0x165)](getDefaultHeaders,![])},_0x400908=await _0x31667c['QYmai'](nodeRequest,_0x31667c[_0x37c89b(0xff)],_0x31667c[_0x37c89b(0x12b)],_0x1677c8,_0x22d691);_0x31667c[_0x37c89b(0x16a)](debug,_0x31667c['JjWra']);const _0x576b4a=_0x400908[_0x37c89b(0x10b)];_0x576b4a[_0x37c89b(0x14e)]&&(process[_0x37c89b(0xe4)][_0x37c89b(0x146)]=_0x576b4a['build_hashed_id']);if(_0x31667c[_0x37c89b(0xe0)](isTestObservabilitySession)){process[_0x37c89b(0xe4)][_0x37c89b(0xda)]=_0x31667c[_0x37c89b(0x148)];if(_0x576b4a[_0x37c89b(0x128)]){process[_0x37c89b(0xe4)][_0x37c89b(0x164)]=_0x576b4a[_0x37c89b(0x128)];const _0x4ff23c={};_0x4ff23c[_0x37c89b(0x13c)]=_0x13ecb2,_0x4ff23c[_0x37c89b(0x163)]=_0x188161,process[_0x37c89b(0xe4)][_0x37c89b(0xf3)]=JSON[_0x37c89b(0x121)](_0x4ff23c);}_0x576b4a['build_hashed_id']&&(process[_0x37c89b(0xe4)]['BS_TESTOPS_BUILD_HASHED_ID']=_0x576b4a[_0x37c89b(0x14e)]),_0x576b4a[_0x37c89b(0xfc)]&&(process[_0x37c89b(0xe4)][_0x37c89b(0x100)]=_0x576b4a[_0x37c89b(0xfc)][_0x37c89b(0x122)]());}return[_0x400908[_0x37c89b(0x10b)]['jwt'],_0x400908[_0x37c89b(0x10b)][_0x37c89b(0x14e)],_0x400908['data'][_0x37c89b(0xfc)]];}catch(_0x443914){process[_0x37c89b(0xe4)][_0x37c89b(0x146)]=_0x31667c[_0x37c89b(0xd3)],process[_0x37c89b(0xe4)][_0x37c89b(0xda)]=_0x31667c[_0x37c89b(0x139)],process[_0x37c89b(0xe4)][_0x37c89b(0x164)]=_0x31667c[_0x37c89b(0xd3)],process['env'][_0x37c89b(0xd8)]=_0x31667c['xkelv'],process[_0x37c89b(0xe4)][_0x37c89b(0x100)]=_0x31667c[_0x37c89b(0xd3)];_0x443914['response']?_0x31667c[_0x37c89b(0x16a)](debug,_0x37c89b(0x12f)+_0x443914[_0x37c89b(0xf9)][_0x37c89b(0x14d)]+'\x20'+_0x443914[_0x37c89b(0xf9)][_0x37c89b(0x118)]+'\x20'+JSON[_0x37c89b(0x121)](_0x443914[_0x37c89b(0xf9)][_0x37c89b(0x10b)])):_0x31667c[_0x37c89b(0xcb)](debug,'EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20'+(_0x443914['message']||_0x443914));if(_0x443914&&_0x443914[_0x37c89b(0x127)]){const _0x5ca26d=_0x443914['message'];switch(_0x443914[_0x37c89b(0xd9)]){case _0x31667c['HXdqQ']:logger[_0x37c89b(0x150)](_0x5ca26d);break;case _0x31667c[_0x37c89b(0xc1)]:logger['info'](_0x5ca26d);break;case _0x31667c[_0x37c89b(0x10a)]:logger['error'](_0x5ca26d);break;default:logger['error'](_0x5ca26d);}}else console[_0x37c89b(0xdd)](_0x37c89b(0x117)+constants[_0x37c89b(0xfe)]+_0x37c89b(0x143)+_0x443914);return[null,null,null];}}static async[a124_0xc6a8dc(0x169)](){const _0x4bf0e9=a124_0xc6a8dc,_0x2730df={'udgGw':_0x4bf0e9(0x11c),'GkQzl':_0x4bf0e9(0xbe),'HwSsi':function(_0x448584,_0x4f8e03){return _0x448584(_0x4f8e03);}},_0x5a278d=process[_0x4bf0e9(0xe4)][_0x4bf0e9(0xda)];if([_0x2730df[_0x4bf0e9(0x162)],_0x2730df['GkQzl']][_0x4bf0e9(0x151)](_0x5a278d))return;while([_0x2730df[_0x4bf0e9(0x162)],_0x2730df[_0x4bf0e9(0xd0)]][_0x4bf0e9(0x151)](_0x5a278d)){await _0x2730df[_0x4bf0e9(0x11b)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static['getLogTag'](_0x429878){const _0xa15ce=a124_0xc6a8dc,_0x47d578={};_0x47d578[_0xa15ce(0x10d)]=_0xa15ce(0xf5),_0x47d578[_0xa15ce(0xef)]=_0xa15ce(0x132),_0x47d578[_0xa15ce(0xfb)]=_0xa15ce(0x13f),_0x47d578[_0xa15ce(0x15c)]=_0xa15ce(0x120),_0x47d578[_0xa15ce(0x112)]=_0xa15ce(0x147),_0x47d578['TxRGw']=_0xa15ce(0x108),_0x47d578[_0xa15ce(0x13b)]='CBT_Upload';const _0x1142c9=_0x47d578,_0x41bcec={};return _0x41bcec[_0xa15ce(0x15b)]=_0x1142c9[_0xa15ce(0x10d)],_0x41bcec[_0xa15ce(0x101)]=_0x1142c9[_0xa15ce(0xef)],_0x41bcec[_0xa15ce(0x138)]=_0x1142c9[_0xa15ce(0xfb)],_0x41bcec[_0xa15ce(0xcf)]=_0x1142c9[_0xa15ce(0x15c)],_0x41bcec['HookRunStarted']=_0x1142c9[_0xa15ce(0x112)],_0x41bcec[_0xa15ce(0xe7)]=_0x1142c9[_0xa15ce(0xce)],_0x41bcec[_0xa15ce(0x144)]=_0x1142c9[_0xa15ce(0x13b)],_0x41bcec[_0x429878[_0xa15ce(0x15d)]];}static async[a124_0xc6a8dc(0x12e)](_0x573f78,_0x1a3306=0x0,_0x1a775e=null){const _0x41bc41=a124_0xc6a8dc,_0x4194d9={'begCt':function(_0x558af5,_0x1bff78){return _0x558af5===_0x1bff78;},'PEaZM':'sendTraceZip','RkIOz':function(_0x120599,_0x2bf228){return _0x120599!==_0x2bf228;},'ZFNey':_0x41bc41(0x12d),'NiXfk':_0x41bc41(0x11c),'GhKRL':function(_0x2a52be,_0x255a18,_0x44c9c9,_0x66dc15,_0x4d9038){return _0x2a52be(_0x255a18,_0x44c9c9,_0x66dc15,_0x4d9038);},'Hklky':_0x41bc41(0x156),'sKfsq':function(_0x191815,_0x4aae73,_0x22df54,_0xad0556,_0x4e58de){return _0x191815(_0x4aae73,_0x22df54,_0xad0556,_0x4e58de);},'xWhfp':function(_0x222f47,_0x20d91b){return _0x222f47(_0x20d91b);},'HppTi':_0x41bc41(0x168),'ZChFu':function(_0x179b49,_0x268c98){return _0x179b49-_0x268c98;},'HbfNU':function(_0x3ccc21,_0x401d5d){return _0x3ccc21===_0x401d5d;},'fpbjC':_0x41bc41(0x16e),'vXGhc':_0x41bc41(0x13d),'TfCbr':function(_0xcd8fc2,_0x3dbb8e){return _0xcd8fc2(_0x3dbb8e);},'zFZRF':function(_0x1c2dd4,_0x1931a9){return _0x1c2dd4-_0x1931a9;},'vONuZ':'error'};_0x4194d9[_0x41bc41(0x134)](_0x1a775e,_0x4194d9[_0x41bc41(0xbd)])&&logger[_0x41bc41(0xf7)](_0x41bc41(0x11f)+_0x573f78[_0x41bc41(0x14c)][0x0]['test_run_uuid']);const _0x903c48=await this[_0x41bc41(0x115)](_0x573f78);let _0x5e652a=_0x573f78,_0x371e0a=EVENT_ENDPOINT;_0x4194d9[_0x41bc41(0xc4)](_0x1a775e,_0x4194d9['PEaZM'])&&this[_0x41bc41(0x152)][_0x41bc41(0x135)]();const {shouldProceed:_0x2e2278,proceedWithData:_0x2a68d9,proceedWithUrl:_0x4437ee}=this[_0x41bc41(0x152)][_0x41bc41(0xf1)](_0x573f78);if(!_0x2e2278)return;else _0x2a68d9&&(_0x5e652a=_0x2a68d9,_0x371e0a=_0x4437ee);const _0x57c02b={};_0x57c02b[_0x41bc41(0x131)]='Bearer\x20'+process[_0x41bc41(0xe4)][_0x41bc41(0xc3)],_0x57c02b['Content-Type']=_0x4194d9[_0x41bc41(0xc0)],_0x57c02b['X-BSTACK-TESTOPS']=_0x4194d9[_0x41bc41(0xea)];const _0x116a0e={};_0x116a0e['headers']=_0x57c02b;const _0x2b3a9e=_0x116a0e;let _0x38f583;try{_0x4194d9[_0x41bc41(0x134)](_0x1a775e,_0x4194d9['PEaZM'])?(logger[_0x41bc41(0xf7)](_0x41bc41(0xc2)+_0x573f78?.[_0x41bc41(0x14c)][0x0]?.[_0x41bc41(0xe3)]),_0x38f583=await _0x4194d9[_0x41bc41(0x137)](asyncAwaitNodeReq,_0x4194d9[_0x41bc41(0xed)],_0x371e0a,_0x5e652a,_0x2b3a9e),logger['debug'](_0x41bc41(0x12a)+_0x573f78?.['logs'][0x0]?.[_0x41bc41(0xe3)])):_0x38f583=await _0x4194d9[_0x41bc41(0x11a)](nodeRequest,_0x4194d9[_0x41bc41(0xed)],_0x371e0a,_0x5e652a,_0x2b3a9e);if(_0x38f583['data']['error']){const _0x509e32={};_0x509e32[_0x41bc41(0x127)]=_0x38f583[_0x41bc41(0x10b)]['error'];throw _0x509e32;}else{_0x4194d9[_0x41bc41(0xec)](debug,(_0x4194d9[_0x41bc41(0xc4)](_0x371e0a,this[_0x41bc41(0x152)]['eventUrl'])?_0x903c48:_0x4194d9[_0x41bc41(0xe5)])+'['+_0x1a3306+']\x20event\x20successful!'),this[_0x41bc41(0x152)][_0x41bc41(0xee)]=Math[_0x41bc41(0x125)](0x0,_0x4194d9[_0x41bc41(0x113)](this[_0x41bc41(0x152)]['pendingUploads'],_0x4194d9['HbfNU'](_0x371e0a,_0x4194d9['fpbjC'])?0x1:_0x5e652a[_0x41bc41(0xc5)]));const _0x50c1a6={};return _0x50c1a6['status']=_0x4194d9['vXGhc'],_0x50c1a6['message']='',_0x50c1a6;}}catch(_0x34c010){_0x34c010[_0x41bc41(0xf9)]?_0x4194d9[_0x41bc41(0xdb)](debug,_0x41bc41(0x161)+(_0x4194d9['RkIOz'](_0x371e0a,this[_0x41bc41(0x152)][_0x41bc41(0xdf)])?_0x903c48:_0x4194d9[_0x41bc41(0xe5)])+_0x41bc41(0xf8)+constants[_0x41bc41(0xfe)]+_0x41bc41(0x109)+_0x34c010[_0x41bc41(0xf9)][_0x41bc41(0x14d)]+'\x20'+_0x34c010['response'][_0x41bc41(0x118)]+'\x20'+util[_0x41bc41(0x10e)](_0x34c010[_0x41bc41(0xf9)][_0x41bc41(0x10b)])):_0x4194d9[_0x41bc41(0xdb)](debug,'EXCEPTION\x20IN\x20'+(_0x4194d9[_0x41bc41(0xc4)](_0x371e0a,this['requestQueueHandler'][_0x41bc41(0xdf)])?_0x903c48:_0x4194d9[_0x41bc41(0xe5)])+_0x41bc41(0xf8)+constants[_0x41bc41(0xfe)]+_0x41bc41(0x109)+util[_0x41bc41(0x10e)](_0x34c010));this[_0x41bc41(0x152)][_0x41bc41(0xee)]=Math[_0x41bc41(0x125)](0x0,_0x4194d9['zFZRF'](this[_0x41bc41(0x152)]['pendingUploads'],_0x4194d9[_0x41bc41(0xdc)](_0x371e0a,_0x4194d9[_0x41bc41(0x11e)])?0x1:_0x5e652a[_0x41bc41(0xc5)]));const _0x23dbfa={};return _0x23dbfa['status']=_0x4194d9[_0x41bc41(0x107)],_0x23dbfa[_0x41bc41(0x127)]=_0x34c010[_0x41bc41(0x127)]||(_0x34c010[_0x41bc41(0xf9)]?_0x34c010[_0x41bc41(0xf9)][_0x41bc41(0x14d)]+':'+_0x34c010['response'][_0x41bc41(0x118)]:_0x34c010),_0x23dbfa;}}static async[a124_0xc6a8dc(0xf4)](_0x3cf9b1,_0x4ed12f=0x0){const _0x42472a=a124_0xc6a8dc,_0x1a52d1={'WetQe':function(_0x4dcadd,_0x5c451c){return _0x4dcadd+_0x5c451c;},'AswLj':function(_0x448f9f,_0xc25ed1){return _0x448f9f(_0xc25ed1);},'EHLlC':_0x42472a(0xbc),'oGtKn':_0x42472a(0x119),'uRRqm':_0x42472a(0x157),'ZCBzL':function(_0x361389,_0x3ea7b3,_0x9ba729){return _0x361389(_0x3ea7b3,_0x9ba729);},'paYXw':_0x42472a(0xf4),'UPGen':function(_0x29274d,_0x267108){return _0x29274d===_0x267108;},'BSOvI':function(_0x3b3376,_0x80a857){return _0x3b3376!==_0x80a857;},'hQNfH':_0x42472a(0x105),'PazHu':function(_0xdfd4b4,_0x48baa0){return _0xdfd4b4===_0x48baa0;},'lIIyk':_0x42472a(0x11c),'vEeNH':function(_0x322abc){return _0x322abc();},'ECnLg':function(_0x8c4ec9,_0x280354){return _0x8c4ec9===_0x280354;},'hZtqZ':function(_0xac8bde,_0x1fbef4){return _0xac8bde-_0x1fbef4;},'qykVx':'error','EPKMO':'Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','NoIqe':function(_0x39e5aa,_0x3d935f){return _0x39e5aa>=_0x3d935f;},'pCDLP':function(_0x22b911,_0x1a26bd){return _0x22b911(_0x1a26bd);},'dMJLO':function(_0x3c34e6,_0xe8d41c){return _0x3c34e6-_0xe8d41c;},'HPUJW':_0x42472a(0xfa),'oaHcc':'false','qWBfT':function(_0x2e725d,_0x4e134b,_0x10f7ad){return _0x2e725d(_0x4e134b,_0x10f7ad);}},_0x1e390c=this[_0x42472a(0x115)](_0x3cf9b1);_0x1a52d1[_0x42472a(0xd5)](trace,_0x42472a(0xde)+_0x3cf9b1[_0x42472a(0x15d)]+'\x27\x20'+(bsSetupHelper[_0x42472a(0x116)](_0x3cf9b1,[_0x1a52d1['EHLlC'],_0x1a52d1[_0x42472a(0xfd)]])||bsSetupHelper[_0x42472a(0x116)](_0x3cf9b1,[_0x1a52d1[_0x42472a(0x102)],_0x1a52d1['oGtKn']])));if(!_0x1a52d1[_0x42472a(0x13e)](shouldProcessEventForTesthub,_0x3cf9b1[_0x42472a(0x15d)],_0x1a52d1[_0x42472a(0xc8)]))return;_0x1a52d1[_0x42472a(0xe8)](_0x4ed12f,0x0)&&process[_0x42472a(0xe4)][_0x42472a(0xc3)]&&_0x1a52d1[_0x42472a(0x154)](process[_0x42472a(0xe4)][_0x42472a(0xc3)],_0x1a52d1[_0x42472a(0x16c)])&&(this[_0x42472a(0x152)][_0x42472a(0xee)]+=0x1);if(_0x1a52d1[_0x42472a(0x13a)](process[_0x42472a(0xe4)][_0x42472a(0xda)],_0x1a52d1[_0x42472a(0xcc)])||process['env']['BS_A11Y_JWT']||_0x1a52d1['vEeNH'](isPercyBuild)){if(_0x1a52d1['ECnLg'](process[_0x42472a(0xe4)][_0x42472a(0xc3)],_0x1a52d1[_0x42472a(0x16c)])){_0x1a52d1['AswLj'](debug,_0x42472a(0x161)+_0x1e390c+_0x42472a(0xf8)+constants[_0x42472a(0xfe)]+_0x42472a(0xe9)),this[_0x42472a(0x152)][_0x42472a(0xee)]=Math[_0x42472a(0x125)](0x0,_0x1a52d1['hZtqZ'](this[_0x42472a(0x152)]['pendingUploads'],0x1));const _0x59e453={};return _0x59e453[_0x42472a(0x14d)]=_0x1a52d1['qykVx'],_0x59e453[_0x42472a(0x127)]=_0x1a52d1[_0x42472a(0xc7)],_0x59e453;}return await this[_0x42472a(0x12e)](_0x3cf9b1,_0x4ed12f);}else{if(_0x1a52d1['NoIqe'](_0x4ed12f,0x5)){_0x1a52d1[_0x42472a(0x15e)](debug,_0x42472a(0x161)+_0x1e390c+'\x20REQUEST\x20TO\x20'+constants[_0x42472a(0xfe)]+_0x42472a(0x114)+_0x1e390c+'\x20retry\x20runs\x20exceeded');_0x1a52d1['BSOvI'](process[_0x42472a(0xe4)]['BROWSERSTACK_TESTHUB_JWT'],_0x1a52d1[_0x42472a(0x16c)])&&(this[_0x42472a(0x152)][_0x42472a(0xee)]=Math[_0x42472a(0x125)](0x0,_0x1a52d1[_0x42472a(0x15a)](this[_0x42472a(0x152)][_0x42472a(0xee)],0x1)));const _0x10ed5c={};return _0x10ed5c[_0x42472a(0x14d)]=_0x1a52d1[_0x42472a(0x149)],_0x10ed5c['message']=_0x1a52d1[_0x42472a(0x140)],_0x10ed5c;}else _0x1a52d1['BSOvI'](process[_0x42472a(0xe4)][_0x42472a(0xda)],_0x1a52d1[_0x42472a(0xbf)])&&_0x1a52d1['qWBfT'](setTimeout,()=>{const _0x56da5c=_0x42472a;this[_0x56da5c(0xf4)](_0x3cf9b1,_0x1a52d1[_0x56da5c(0x142)](_0x4ed12f,0x1));},0x3e8);}}}module['exports']=SessionHandler;