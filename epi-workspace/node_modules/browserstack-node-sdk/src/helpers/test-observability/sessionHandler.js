const a129_0x12efb5=a129_0x48f5;function a129_0x3860(){const _0x4f2082=['CzgNo','headers','xraBg','\x20failed\x20due\x20to\x20','getAgentVersion','EXCEPTION\x20IN\x20','error','./constants','BS_TESTOPS_BUILD_COMPLETED','Sending\x20trace\x20zip\x20for\x20test:\x20','TQueu','zVKDu','length','../logger','allow_screenshots','env','jwt','toString','6bChKzP','Test_End_Upload','browserstackAutomation','kParu','AJJkO','winstonLogger','2068116IcXIRw','ERROR_INVALID_CREDENTIALS','cukib','./requestQueueHandler','false','luuHj','api/v1/builds','BS_TESTOPS_ALLOW_SCREENSHOTS','lTeGp','pImtb','app','eventUrl','waitForBuildStatus','inspect','HookRunStarted','BS_A11Y_JWT','Log_Upload','sZNug','WJRXB','errorType','POST','MCieC','sendEventData',']\x20event\x20successful!','WkvcM','\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','JfUcy','GoIzx','ERROR_SDK_DEPRECATED','path','yVBlK','LnqcL','event_type','getHostInfo','includes','\x20:\x20','jAHBa','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','YlZXv','Jnnyl','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20','max','frameworkVersion','BROWSERSTACK_TESTHUB_JWT','PSBOb','tuNAj','stringify','osNng','GUYlO','Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20','api/v1/event','TEST_REPORTING_ANALYTICS','WGuCr','xoxph','Authorization','NrVzo','data','basename','true','vUBut','llPFK','3211536qNokdO','BROWSERSTACK_BUILD_RUN_IDENTIFIER','Content-Type','llUNg','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','status','info','ptAde','uuid','BROWSERSTACK_TESTHUB_UUID','../../helpers/testhub/utils','Data\x20upload\x20to\x20BrowserStack\x20','bYWPZ','Hook_Start_Upload','nfCof','launch','util','BROWSERSTACK_RERUN','Hook_End_Upload','LlRFm','sendTraceZip','ZIZsS','getLogTag','getUserName','projectName','Test_Skipped_Upload','IaGHO','aKIFV','\x20retry\x20runs\x20exceeded','SydsP','CBT_Upload','UvkCR','../helper','buildIdentifier','null','UALbE','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','CBTSessionCreated','PFoxi','CPQOn','18012366QwCsug','build_hashed_id','2756584iwnPVO','nestedKeyValue','hook_run','CREDENTIALS_FOR_CRASH_REPORTING','buildName','application/json','SOpbS','udXqV','Build\x20creation\x20successful!','4091585uxNXgO','ARwAl','exports','test_run','Test_Start_Upload','logs','message','oAgbl','BS_TESTOPS_JWT','HqOCs','BS_TESTOPS_BUILD_HASHED_ID','DaFlb','debug','NWnQk','requestQueueHandler','LYoWF','VrAnU','test_run_uuid','iYnUI','869554pmuWgU','ERROR_ACCESS_DENIED','response','PMwfG','TestRunStarted','password','774368BuJOqy','getAccessKey','RWvzF','toISOString','QOavo','\x20REQUEST\x20TO\x20','getGitMetaData','username','7AJHuTv','pendingUploads','lqRgE','iNvzI','kjimt','format','statusText'];a129_0x3860=function(){return _0x4f2082;};return a129_0x3860();}(function(_0x55b558,_0x576f92){const _0x596f52=a129_0x48f5,_0x270206=_0x55b558();while(!![]){try{const _0x2ca93a=parseInt(_0x596f52(0x1da))/0x1+parseInt(_0x596f52(0x1e0))/0x2*(-parseInt(_0x596f52(0x201))/0x3)+-parseInt(_0x596f52(0x207))/0x4+-parseInt(_0x596f52(0x1c7))/0x5+-parseInt(_0x596f52(0x194))/0x6+-parseInt(_0x596f52(0x1e8))/0x7*(-parseInt(_0x596f52(0x1be))/0x8)+parseInt(_0x596f52(0x1bc))/0x9;if(_0x2ca93a===_0x576f92)break;else _0x270206['push'](_0x270206['shift']());}catch(_0x18a607){_0x270206['push'](_0x270206['shift']());}}}(a129_0x3860,0x8b4a3));function a129_0x48f5(_0x2a3a8b,_0x4d64e5){const _0x386054=a129_0x3860();return a129_0x48f5=function(_0x48f525,_0x18a959){_0x48f525=_0x48f525-0x169;let _0x1c893a=_0x386054[_0x48f525];return _0x1c893a;},a129_0x48f5(_0x2a3a8b,_0x4d64e5);}const bsSetupHelper=require(a129_0x12efb5(0x1b4)),path=require(a129_0x12efb5(0x174)),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require('./utils'),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require(a129_0x12efb5(0x1f6)),RequestQueueHandler=require(a129_0x12efb5(0x20a)),logger=require(a129_0x12efb5(0x1fc))[a129_0x12efb5(0x206)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require(a129_0x12efb5(0x19e)),util=require(a129_0x12efb5(0x1a4)),constants=require('../../bin/utils/constants');class SessionHandler{static [a129_0x12efb5(0x1d5)]=RequestQueueHandler['getInstance']();static async[a129_0x12efb5(0x1a3)](_0x5f0f46,_0x150b49){const _0x11c37a=a129_0x12efb5,_0x22af94={'udXqV':function(_0x3e51d1,_0x3fe35b){return _0x3e51d1||_0x3fe35b;},'pImtb':function(_0x48d3b6,_0x1290aa){return _0x48d3b6||_0x1290aa;},'bYWPZ':function(_0x58b25d,_0x4c0c9f){return _0x58b25d===_0x4c0c9f;},'osNng':function(_0x515c42,_0xa6f9b0){return _0x515c42(_0xa6f9b0);},'jAHBa':_0x11c37a(0x198),'JfUcy':_0x11c37a(0x20b),'RWvzF':'json','lTeGp':function(_0x95f564,_0x12d74d){return _0x95f564(_0x12d74d);},'iNvzI':function(_0xd0e9f8,_0x576bdd){return _0xd0e9f8(_0x576bdd);},'luuHj':function(_0x327ea7,_0x1f5314){return _0x327ea7(_0x1f5314);},'yVBlK':function(_0x40cf57,_0x48210f,_0x473aa7,_0x7bba86,_0x5c8dc9){return _0x40cf57(_0x48210f,_0x473aa7,_0x7bba86,_0x5c8dc9);},'nSMuc':_0x11c37a(0x16b),'ARwAl':_0x11c37a(0x20d),'ZIZsS':function(_0x3703ba,_0x36c0de){return _0x3703ba(_0x36c0de);},'noLOS':_0x11c37a(0x1c6),'llUNg':function(_0x496764){return _0x496764();},'XzjIk':'true','PSBOb':_0x11c37a(0x1b6),'DHuBv':function(_0x5174b2,_0x30e10f){return _0x5174b2(_0x30e10f);},'cHSHN':function(_0x19999c,_0x273037){return _0x19999c(_0x273037);},'WkvcM':_0x11c37a(0x208),'LGMrr':_0x11c37a(0x1db),'sZNug':_0x11c37a(0x173)};logger['info'](_0x11c37a(0x188)+util[_0x11c37a(0x214)](_0x5f0f46));const _0xdae475=bsSetupHelper[_0x11c37a(0x1ab)](_0x5f0f46),_0x2f727a=bsSetupHelper[_0x11c37a(0x1e1)](_0x5f0f46),_0x3007e9=_0x22af94[_0x11c37a(0x1c5)](_0xdae475,'')+':'+_0x22af94[_0x11c37a(0x210)](_0x2f727a,'');if(_0x22af94[_0x11c37a(0x1a0)](_0x3007e9,':'))return _0x22af94[_0x11c37a(0x186)](debug,_0x22af94[_0x11c37a(0x17b)]),process[_0x11c37a(0x1fe)][_0x11c37a(0x1f7)]=_0x22af94[_0x11c37a(0x171)],[null,null];let _0x5c20e1=![],_0x131b51=![];if(_0x5f0f46[_0x11c37a(0x203)]&&_0x5f0f46[_0x11c37a(0x211)])_0x131b51=!![];else _0x5f0f46['browserstackAutomation']&&(_0x5c20e1=!![]);try{const _0x33119e={'format':_0x22af94[_0x11c37a(0x1e2)],'project_name':_0x5f0f46[_0x11c37a(0x1ac)]||'','name':_0x5f0f46[_0x11c37a(0x1c2)]||path[_0x11c37a(0x190)](path['resolve'](process['cwd']())),'build_identifier':_0x5f0f46[_0x11c37a(0x1b5)],'description':_0x5f0f46['buildDescription']||'','start_time':new Date()[_0x11c37a(0x1e3)](),'tags':_0x22af94[_0x11c37a(0x20f)](getCustomTags,_0x5f0f46),'host_info':bsSetupHelper[_0x11c37a(0x178)](),'ci_info':bsSetupHelper['getCiInfo'](),'build_run_identifier':process[_0x11c37a(0x1fe)][_0x11c37a(0x195)],'failed_tests_rerun':process[_0x11c37a(0x1fe)][_0x11c37a(0x1a5)]||![],'version_control':await bsSetupHelper[_0x11c37a(0x1e6)](),'observability_version':{'frameworkName':_0x150b49['frameworkName'],'frameworkVersion':_0x150b49[_0x11c37a(0x181)],'sdkVersion':bsSetupHelper[_0x11c37a(0x1f3)]()},'product_map':_0x22af94[_0x11c37a(0x1eb)](getProductMap,_0x5f0f46),'test_orchestration':_0x22af94[_0x11c37a(0x20c)](getTestOrchestrationBuildStartData,_0x5f0f46)},_0x43cfad={};_0x43cfad[_0x11c37a(0x1e7)]=_0xdae475,_0x43cfad[_0x11c37a(0x1df)]=_0x2f727a;const _0x15c36d={'auth':_0x43cfad,'headers':_0x22af94[_0x11c37a(0x186)](getDefaultHeaders,![])},_0x907c14=await _0x22af94[_0x11c37a(0x175)](nodeRequest,_0x22af94['nSMuc'],_0x22af94[_0x11c37a(0x1c8)],_0x33119e,_0x15c36d);_0x22af94[_0x11c37a(0x1a9)](debug,_0x22af94['noLOS']);const _0x302e31=_0x907c14['data'];_0x302e31[_0x11c37a(0x1bd)]&&(process[_0x11c37a(0x1fe)]['BROWSERSTACK_TESTHUB_UUID']=_0x302e31[_0x11c37a(0x1bd)]);if(_0x22af94[_0x11c37a(0x197)](isTestObservabilitySession)){process[_0x11c37a(0x1fe)]['BS_TESTOPS_BUILD_COMPLETED']=_0x22af94['XzjIk'];if(_0x302e31[_0x11c37a(0x1ff)]){process[_0x11c37a(0x1fe)][_0x11c37a(0x1cf)]=_0x302e31[_0x11c37a(0x1ff)];const _0x49655a={};_0x49655a[_0x11c37a(0x1e7)]=_0xdae475,_0x49655a['password']=_0x2f727a,process[_0x11c37a(0x1fe)][_0x11c37a(0x1c1)]=JSON[_0x11c37a(0x185)](_0x49655a);}_0x302e31[_0x11c37a(0x1bd)]&&(process[_0x11c37a(0x1fe)][_0x11c37a(0x1d1)]=_0x302e31[_0x11c37a(0x1bd)]),_0x302e31['allow_screenshots']&&(process['env']['BS_TESTOPS_ALLOW_SCREENSHOTS']=_0x302e31['allow_screenshots'][_0x11c37a(0x200)]());}return[_0x907c14[_0x11c37a(0x18f)][_0x11c37a(0x1ff)],_0x907c14[_0x11c37a(0x18f)][_0x11c37a(0x1bd)],_0x907c14[_0x11c37a(0x18f)][_0x11c37a(0x1fd)]];}catch(_0x258802){process[_0x11c37a(0x1fe)][_0x11c37a(0x19d)]=_0x22af94[_0x11c37a(0x183)],process[_0x11c37a(0x1fe)][_0x11c37a(0x1f7)]=_0x22af94['JfUcy'],process[_0x11c37a(0x1fe)][_0x11c37a(0x1cf)]=_0x22af94['PSBOb'],process[_0x11c37a(0x1fe)]['BS_TESTOPS_BUILD_HASHED_ID']=_0x22af94['PSBOb'],process['env'][_0x11c37a(0x20e)]=_0x22af94[_0x11c37a(0x183)];_0x258802['response']?_0x22af94['DHuBv'](debug,_0x11c37a(0x1b8)+_0x258802['response'][_0x11c37a(0x199)]+'\x20'+_0x258802['response'][_0x11c37a(0x1ee)]+'\x20'+JSON[_0x11c37a(0x185)](_0x258802['response'][_0x11c37a(0x18f)])):_0x22af94['cHSHN'](debug,_0x11c37a(0x1b8)+(_0x258802[_0x11c37a(0x1cd)]||_0x258802));if(_0x258802&&_0x258802['message']){const _0x52a539=_0x258802[_0x11c37a(0x1cd)];switch(_0x258802[_0x11c37a(0x16a)]){case _0x22af94[_0x11c37a(0x16f)]:logger[_0x11c37a(0x1f5)](_0x52a539);break;case _0x22af94['LGMrr']:logger['info'](_0x52a539);break;case _0x22af94[_0x11c37a(0x218)]:logger[_0x11c37a(0x1f5)](_0x52a539);break;default:logger['error'](_0x52a539);}}else console[_0x11c37a(0x19a)](_0x11c37a(0x19f)+constants[_0x11c37a(0x18a)]+_0x11c37a(0x1f2)+_0x258802);return[null,null,null];}}static async[a129_0x12efb5(0x213)](){const _0x340a49=a129_0x12efb5,_0x61b83b={'IaGHO':'true','SydsP':_0x340a49(0x20b),'MCieC':function(_0x2d3258,_0x5d102b){return _0x2d3258(_0x5d102b);}},_0xfd1fae=process[_0x340a49(0x1fe)][_0x340a49(0x1f7)];if([_0x61b83b[_0x340a49(0x1ae)],_0x61b83b[_0x340a49(0x1b1)]][_0x340a49(0x179)](_0xfd1fae))return;while([_0x61b83b[_0x340a49(0x1ae)],_0x61b83b[_0x340a49(0x1b1)]][_0x340a49(0x179)](_0xfd1fae)){await _0x61b83b[_0x340a49(0x16c)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static[a129_0x12efb5(0x1aa)](_0x266c5d){const _0x245e9a=a129_0x12efb5,_0xb4ad8={};_0xb4ad8[_0x245e9a(0x1a2)]=_0x245e9a(0x1cb),_0xb4ad8['QOavo']=_0x245e9a(0x202),_0xb4ad8[_0x245e9a(0x1af)]=_0x245e9a(0x1ad),_0xb4ad8[_0x245e9a(0x17e)]=_0x245e9a(0x217),_0xb4ad8[_0x245e9a(0x1bb)]=_0x245e9a(0x1a1),_0xb4ad8[_0x245e9a(0x1f9)]=_0x245e9a(0x1a6),_0xb4ad8[_0x245e9a(0x1fa)]=_0x245e9a(0x1b2);const _0x4f08ed=_0xb4ad8,_0x892b24={};return _0x892b24[_0x245e9a(0x1de)]=_0x4f08ed[_0x245e9a(0x1a2)],_0x892b24['TestRunFinished']=_0x4f08ed[_0x245e9a(0x1e4)],_0x892b24['TestRunSkipped']=_0x4f08ed[_0x245e9a(0x1af)],_0x892b24['LogCreated']=_0x4f08ed['Jnnyl'],_0x892b24[_0x245e9a(0x215)]=_0x4f08ed['CPQOn'],_0x892b24['HookRunFinished']=_0x4f08ed['TQueu'],_0x892b24[_0x245e9a(0x1b9)]=_0x4f08ed[_0x245e9a(0x1fa)],_0x892b24[_0x266c5d[_0x245e9a(0x177)]];}static async['sendEventData'](_0x42261f,_0x1937c0=0x0,_0x4077ff=null){const _0x18ff02=a129_0x12efb5,_0x5b53ef={'kjimt':function(_0x3ab2a4,_0x2f09ae){return _0x3ab2a4===_0x2f09ae;},'vUBut':_0x18ff02(0x1a8),'WGuCr':function(_0x4bd48c,_0x4d27a8){return _0x4bd48c!==_0x4d27a8;},'wSwbJ':_0x18ff02(0x1c3),'xoxph':_0x18ff02(0x191),'PMwfG':function(_0xbe9234,_0x5d0595,_0x3efad1,_0x587877,_0x4338c1){return _0xbe9234(_0x5d0595,_0x3efad1,_0x587877,_0x4338c1);},'cukib':_0x18ff02(0x16b),'LYoWF':function(_0x43e0d5,_0x530675){return _0x43e0d5(_0x530675);},'SOpbS':'Batch-Queue','NWnQk':function(_0x59401e,_0x33d500){return _0x59401e-_0x33d500;},'LnqcL':_0x18ff02(0x189),'rAuUW':'success','GoIzx':function(_0x459d44,_0x37eba9){return _0x459d44(_0x37eba9);},'ptAde':function(_0x3714e3,_0x54227c){return _0x3714e3(_0x54227c);},'ahslI':function(_0x433ba8,_0x1fc0b5){return _0x433ba8-_0x1fc0b5;},'tuNAj':function(_0x247e28,_0x26a5fe){return _0x247e28===_0x26a5fe;},'LlRFm':_0x18ff02(0x1f5)};_0x5b53ef[_0x18ff02(0x1ec)](_0x4077ff,_0x5b53ef[_0x18ff02(0x192)])&&logger[_0x18ff02(0x1d3)](_0x18ff02(0x1f8)+_0x42261f[_0x18ff02(0x1cc)][0x0][_0x18ff02(0x1d8)]);const _0x574eb0=await this[_0x18ff02(0x1aa)](_0x42261f);let _0x2f5a3a=_0x42261f,_0x7fcbfe=EVENT_ENDPOINT;_0x5b53ef[_0x18ff02(0x18b)](_0x4077ff,_0x5b53ef[_0x18ff02(0x192)])&&this['requestQueueHandler']['start']();const {shouldProceed:_0x3f7dec,proceedWithData:_0x459c22,proceedWithUrl:_0xe1d484}=this[_0x18ff02(0x1d5)]['add'](_0x42261f);if(!_0x3f7dec)return;else _0x459c22&&(_0x2f5a3a=_0x459c22,_0x7fcbfe=_0xe1d484);const _0x2f4119={};_0x2f4119[_0x18ff02(0x18d)]='Bearer\x20'+process[_0x18ff02(0x1fe)]['BROWSERSTACK_TESTHUB_JWT'],_0x2f4119[_0x18ff02(0x196)]=_0x5b53ef['wSwbJ'],_0x2f4119['X-BSTACK-TESTOPS']=_0x5b53ef[_0x18ff02(0x18c)];const _0x3cf936={};_0x3cf936[_0x18ff02(0x1f0)]=_0x2f4119;const _0x37567b=_0x3cf936;let _0x2972bf;try{_0x5b53ef[_0x18ff02(0x1ec)](_0x4077ff,_0x5b53ef['vUBut'])?(logger[_0x18ff02(0x1d3)]('Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20'+_0x42261f?.[_0x18ff02(0x1cc)][0x0]?.[_0x18ff02(0x1d8)]),_0x2972bf=await _0x5b53ef[_0x18ff02(0x1dd)](asyncAwaitNodeReq,_0x5b53ef['cukib'],_0x7fcbfe,_0x2f5a3a,_0x37567b),logger[_0x18ff02(0x1d3)](_0x18ff02(0x17f)+_0x42261f?.[_0x18ff02(0x1cc)][0x0]?.[_0x18ff02(0x1d8)])):_0x2972bf=await _0x5b53ef['PMwfG'](nodeRequest,_0x5b53ef[_0x18ff02(0x209)],_0x7fcbfe,_0x2f5a3a,_0x37567b);if(_0x2972bf[_0x18ff02(0x18f)][_0x18ff02(0x1f5)]){const _0x4337f8={};_0x4337f8['message']=_0x2972bf[_0x18ff02(0x18f)][_0x18ff02(0x1f5)];throw _0x4337f8;}else{_0x5b53ef[_0x18ff02(0x1d6)](debug,(_0x5b53ef['WGuCr'](_0x7fcbfe,this[_0x18ff02(0x1d5)][_0x18ff02(0x212)])?_0x574eb0:_0x5b53ef['SOpbS'])+'['+_0x1937c0+_0x18ff02(0x16e)),this[_0x18ff02(0x1d5)]['pendingUploads']=Math[_0x18ff02(0x180)](0x0,_0x5b53ef[_0x18ff02(0x1d4)](this[_0x18ff02(0x1d5)][_0x18ff02(0x1e9)],_0x5b53ef['kjimt'](_0x7fcbfe,_0x5b53ef[_0x18ff02(0x176)])?0x1:_0x2f5a3a[_0x18ff02(0x1fb)]));const _0x8cb6d3={};return _0x8cb6d3[_0x18ff02(0x199)]=_0x5b53ef['rAuUW'],_0x8cb6d3[_0x18ff02(0x1cd)]='',_0x8cb6d3;}}catch(_0x560858){_0x560858[_0x18ff02(0x1dc)]?_0x5b53ef[_0x18ff02(0x172)](debug,_0x18ff02(0x1f4)+(_0x5b53ef[_0x18ff02(0x18b)](_0x7fcbfe,this['requestQueueHandler'][_0x18ff02(0x212)])?_0x574eb0:_0x5b53ef[_0x18ff02(0x1c4)])+_0x18ff02(0x1e5)+constants[_0x18ff02(0x18a)]+_0x18ff02(0x17a)+_0x560858[_0x18ff02(0x1dc)][_0x18ff02(0x199)]+'\x20'+_0x560858['response'][_0x18ff02(0x1ee)]+'\x20'+util[_0x18ff02(0x1ed)](_0x560858[_0x18ff02(0x1dc)]['data'])):_0x5b53ef[_0x18ff02(0x19b)](debug,_0x18ff02(0x1f4)+(_0x5b53ef['WGuCr'](_0x7fcbfe,this[_0x18ff02(0x1d5)]['eventUrl'])?_0x574eb0:_0x5b53ef[_0x18ff02(0x1c4)])+'\x20REQUEST\x20TO\x20'+constants[_0x18ff02(0x18a)]+'\x20:\x20'+util['format'](_0x560858));this[_0x18ff02(0x1d5)][_0x18ff02(0x1e9)]=Math[_0x18ff02(0x180)](0x0,_0x5b53ef['ahslI'](this[_0x18ff02(0x1d5)][_0x18ff02(0x1e9)],_0x5b53ef[_0x18ff02(0x184)](_0x7fcbfe,_0x5b53ef[_0x18ff02(0x176)])?0x1:_0x2f5a3a[_0x18ff02(0x1fb)]));const _0x1ddb7b={};return _0x1ddb7b[_0x18ff02(0x199)]=_0x5b53ef[_0x18ff02(0x1a7)],_0x1ddb7b[_0x18ff02(0x1cd)]=_0x560858[_0x18ff02(0x1cd)]||(_0x560858[_0x18ff02(0x1dc)]?_0x560858['response'][_0x18ff02(0x199)]+':'+_0x560858['response'][_0x18ff02(0x1ee)]:_0x560858),_0x1ddb7b;}}static async['uploadEventData'](_0x88ffb8,_0xecd902=0x0){const _0x4e1c20=a129_0x12efb5,_0x195a6f={'wFaVg':function(_0x54405f,_0x106ec1){return _0x54405f+_0x106ec1;},'YlZXv':function(_0x61b61f,_0x38d5e3){return _0x61b61f(_0x38d5e3);},'DxFnp':_0x4e1c20(0x1ca),'PFoxi':_0x4e1c20(0x19c),'llPFK':_0x4e1c20(0x1c0),'DaFlb':function(_0x5558f1,_0x3b3afe,_0xad649a){return _0x5558f1(_0x3b3afe,_0xad649a);},'YVXwx':'uploadEventData','GUYlO':function(_0x38c232,_0x1ed5a4){return _0x38c232===_0x1ed5a4;},'kParu':function(_0x4cc9ec,_0x3f75cb){return _0x4cc9ec!==_0x3f75cb;},'CzgNo':_0x4e1c20(0x1b6),'iYnUI':_0x4e1c20(0x191),'xraBg':function(_0x249d43){return _0x249d43();},'oAgbl':function(_0x3a3810,_0x4ec3a4){return _0x3a3810===_0x4ec3a4;},'lqRgE':function(_0x5611fc,_0x4accef){return _0x5611fc(_0x4accef);},'UALbE':function(_0x30c3ee,_0x3dc4c4){return _0x30c3ee-_0x3dc4c4;},'HqOCs':_0x4e1c20(0x1f5),'ZIEzI':_0x4e1c20(0x17c),'VrAnU':function(_0x133b59,_0x42b694){return _0x133b59>=_0x42b694;},'WJRXB':function(_0x3f38bf,_0x41c043){return _0x3f38bf!==_0x41c043;},'DqLeU':function(_0x4d4a47,_0x2aa271){return _0x4d4a47-_0x2aa271;},'UvkCR':'Retry\x20runs\x20exceeded','NrVzo':function(_0x1f5901,_0x367f8c){return _0x1f5901!==_0x367f8c;},'PXypr':_0x4e1c20(0x20b),'AJJkO':function(_0x2c307f,_0x27e493,_0x2eb6a2){return _0x2c307f(_0x27e493,_0x2eb6a2);}},_0x1180c8=this['getLogTag'](_0x88ffb8);_0x195a6f[_0x4e1c20(0x17d)](trace,'Processing\x20event\x20-\x20\x27'+_0x88ffb8[_0x4e1c20(0x177)]+'\x27\x20'+(bsSetupHelper['nestedKeyValue'](_0x88ffb8,[_0x195a6f['DxFnp'],_0x195a6f[_0x4e1c20(0x1ba)]])||bsSetupHelper[_0x4e1c20(0x1bf)](_0x88ffb8,[_0x195a6f[_0x4e1c20(0x193)],_0x195a6f[_0x4e1c20(0x1ba)]])));if(!_0x195a6f[_0x4e1c20(0x1d2)](shouldProcessEventForTesthub,_0x88ffb8[_0x4e1c20(0x177)],_0x195a6f['YVXwx']))return;_0x195a6f[_0x4e1c20(0x187)](_0xecd902,0x0)&&process['env'][_0x4e1c20(0x182)]&&_0x195a6f[_0x4e1c20(0x204)](process[_0x4e1c20(0x1fe)][_0x4e1c20(0x182)],_0x195a6f['CzgNo'])&&(this[_0x4e1c20(0x1d5)]['pendingUploads']+=0x1);if(_0x195a6f[_0x4e1c20(0x187)](process[_0x4e1c20(0x1fe)][_0x4e1c20(0x1f7)],_0x195a6f[_0x4e1c20(0x1d9)])||process[_0x4e1c20(0x1fe)][_0x4e1c20(0x216)]||_0x195a6f[_0x4e1c20(0x1f1)](isPercyBuild)){if(_0x195a6f[_0x4e1c20(0x1ce)](process[_0x4e1c20(0x1fe)][_0x4e1c20(0x182)],_0x195a6f['CzgNo'])){_0x195a6f[_0x4e1c20(0x1ea)](debug,_0x4e1c20(0x1f4)+_0x1180c8+'\x20REQUEST\x20TO\x20'+constants[_0x4e1c20(0x18a)]+'\x20:\x20missing\x20authentication\x20token'),this[_0x4e1c20(0x1d5)][_0x4e1c20(0x1e9)]=Math[_0x4e1c20(0x180)](0x0,_0x195a6f[_0x4e1c20(0x1b7)](this[_0x4e1c20(0x1d5)][_0x4e1c20(0x1e9)],0x1));const _0x2dc2f5={};return _0x2dc2f5[_0x4e1c20(0x199)]=_0x195a6f[_0x4e1c20(0x1d0)],_0x2dc2f5['message']=_0x195a6f['ZIEzI'],_0x2dc2f5;}return await this[_0x4e1c20(0x16d)](_0x88ffb8,_0xecd902);}else{if(_0x195a6f[_0x4e1c20(0x1d7)](_0xecd902,0x5)){_0x195a6f[_0x4e1c20(0x1ea)](debug,_0x4e1c20(0x1f4)+_0x1180c8+_0x4e1c20(0x1e5)+constants[_0x4e1c20(0x18a)]+_0x4e1c20(0x170)+_0x1180c8+_0x4e1c20(0x1b0));_0x195a6f[_0x4e1c20(0x169)](process[_0x4e1c20(0x1fe)]['BROWSERSTACK_TESTHUB_JWT'],_0x195a6f[_0x4e1c20(0x1ef)])&&(this['requestQueueHandler'][_0x4e1c20(0x1e9)]=Math[_0x4e1c20(0x180)](0x0,_0x195a6f['DqLeU'](this[_0x4e1c20(0x1d5)][_0x4e1c20(0x1e9)],0x1)));const _0x3122a7={};return _0x3122a7[_0x4e1c20(0x199)]=_0x195a6f['HqOCs'],_0x3122a7[_0x4e1c20(0x1cd)]=_0x195a6f[_0x4e1c20(0x1b3)],_0x3122a7;}else _0x195a6f[_0x4e1c20(0x18e)](process[_0x4e1c20(0x1fe)][_0x4e1c20(0x1f7)],_0x195a6f['PXypr'])&&_0x195a6f[_0x4e1c20(0x205)](setTimeout,()=>{this['uploadEventData'](_0x88ffb8,_0x195a6f['wFaVg'](_0xecd902,0x1));},0x3e8);}}}module[a129_0x12efb5(0x1c9)]=SessionHandler;