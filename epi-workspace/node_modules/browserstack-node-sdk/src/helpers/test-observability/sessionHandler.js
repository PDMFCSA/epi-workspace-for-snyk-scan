const a119_0x10fab9=a119_0x361f;(function(_0x464552,_0x17dbb0){const _0x15452e=a119_0x361f,_0x4cc2d3=_0x464552();while(!![]){try{const _0x55f12c=-parseInt(_0x15452e(0x17e))/0x1*(parseInt(_0x15452e(0x134))/0x2)+parseInt(_0x15452e(0x197))/0x3+-parseInt(_0x15452e(0x18d))/0x4+-parseInt(_0x15452e(0x14a))/0x5*(parseInt(_0x15452e(0x12d))/0x6)+parseInt(_0x15452e(0x17b))/0x7+parseInt(_0x15452e(0x182))/0x8*(parseInt(_0x15452e(0x122))/0x9)+parseInt(_0x15452e(0x162))/0xa;if(_0x55f12c===_0x17dbb0)break;else _0x4cc2d3['push'](_0x4cc2d3['shift']());}catch(_0x2d6ffe){_0x4cc2d3['push'](_0x4cc2d3['shift']());}}}(a119_0xc85a,0xcaad4));const bsSetupHelper=require(a119_0x10fab9(0x1aa)),path=require(a119_0x10fab9(0x112)),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require('./utils'),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require(a119_0x10fab9(0x199)),RequestQueueHandler=require('./requestQueueHandler'),logger=require(a119_0x10fab9(0x10f))[a119_0x10fab9(0x121)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require(a119_0x10fab9(0x166)),util=require(a119_0x10fab9(0x13e)),constants=require(a119_0x10fab9(0x172));function a119_0x361f(_0x3a0c06,_0x5e26a6){const _0xc85a15=a119_0xc85a();return a119_0x361f=function(_0x361f3b,_0x85a185){_0x361f3b=_0x361f3b-0xf4;let _0x45b597=_0xc85a15[_0x361f3b];return _0x45b597;},a119_0x361f(_0x3a0c06,_0x5e26a6);}class SessionHandler{static ['requestQueueHandler']=RequestQueueHandler['getInstance']();static async[a119_0x10fab9(0x193)](_0x521c9d,_0x439e97){const _0x2e5871=a119_0x10fab9,_0x4bbe32={'xExjM':function(_0x954270,_0xe327b0){return _0x954270||_0xe327b0;},'vyHeY':function(_0xfa2d36,_0x665b1f){return _0xfa2d36===_0x665b1f;},'IguuT':function(_0x5dff4,_0x6d229b){return _0x5dff4(_0x6d229b);},'iRatQ':_0x2e5871(0x165),'dSojw':'false','uxdMO':_0x2e5871(0x111),'BTrCY':function(_0x58c308,_0x34ec7d){return _0x58c308(_0x34ec7d);},'szipw':function(_0x291fea,_0x4b3874,_0x21e974,_0x456463,_0x17b454){return _0x291fea(_0x4b3874,_0x21e974,_0x456463,_0x17b454);},'GurFZ':_0x2e5871(0x14b),'BrGHv':_0x2e5871(0x174),'lkJPv':_0x2e5871(0x1a3),'hSvRs':function(_0x42afea){return _0x42afea();},'iLWir':_0x2e5871(0xf5),'AJnwH':_0x2e5871(0x1ab),'eFhsU':_0x2e5871(0x11b),'Mxkfa':_0x2e5871(0x1a7),'LIZGF':_0x2e5871(0x15c)};logger[_0x2e5871(0x131)]('Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20'+util[_0x2e5871(0x136)](_0x521c9d));const _0x37f473=bsSetupHelper[_0x2e5871(0x185)](_0x521c9d),_0x5361a1=bsSetupHelper[_0x2e5871(0x10a)](_0x521c9d),_0x536798=_0x4bbe32['xExjM'](_0x37f473,'')+':'+_0x4bbe32[_0x2e5871(0xf6)](_0x5361a1,'');if(_0x4bbe32[_0x2e5871(0x149)](_0x536798,':'))return _0x4bbe32[_0x2e5871(0x15e)](debug,_0x4bbe32[_0x2e5871(0x113)]),process[_0x2e5871(0x148)][_0x2e5871(0x106)]=_0x4bbe32[_0x2e5871(0xfd)],[null,null];let _0x492b2a=![],_0x1b91e2=![];if(_0x521c9d['browserstackAutomation']&&_0x521c9d[_0x2e5871(0x19a)])_0x1b91e2=!![];else _0x521c9d[_0x2e5871(0x14f)]&&(_0x492b2a=!![]);try{const _0x3192ca={'format':_0x4bbe32[_0x2e5871(0x105)],'project_name':_0x521c9d[_0x2e5871(0x18f)]||'','name':_0x521c9d[_0x2e5871(0x12b)]||path[_0x2e5871(0x11f)](path['resolve'](process['cwd']())),'build_identifier':_0x521c9d[_0x2e5871(0x10d)],'description':_0x521c9d['buildDescription']||'','start_time':new Date()[_0x2e5871(0x143)](),'tags':_0x4bbe32[_0x2e5871(0x15e)](getCustomTags,_0x521c9d),'host_info':bsSetupHelper[_0x2e5871(0x19c)](),'ci_info':bsSetupHelper['getCiInfo'](),'build_run_identifier':process[_0x2e5871(0x148)][_0x2e5871(0x155)],'failed_tests_rerun':process[_0x2e5871(0x148)][_0x2e5871(0x16a)]||![],'version_control':await bsSetupHelper[_0x2e5871(0x179)](),'observability_version':{'frameworkName':_0x439e97[_0x2e5871(0x192)],'frameworkVersion':_0x439e97[_0x2e5871(0xf8)],'sdkVersion':bsSetupHelper[_0x2e5871(0x150)]()},'product_map':_0x4bbe32[_0x2e5871(0x15e)](getProductMap,_0x521c9d),'test_orchestration':_0x4bbe32[_0x2e5871(0xfc)](getTestOrchestrationBuildStartData,_0x521c9d)},_0x3d96d2={};_0x3d96d2[_0x2e5871(0x128)]=_0x37f473,_0x3d96d2[_0x2e5871(0x109)]=_0x5361a1;const _0x510b70={'auth':_0x3d96d2,'headers':_0x4bbe32[_0x2e5871(0xfc)](getDefaultHeaders,![])},_0x5a6825=await _0x4bbe32[_0x2e5871(0x170)](nodeRequest,_0x4bbe32[_0x2e5871(0x116)],_0x4bbe32[_0x2e5871(0x187)],_0x3192ca,_0x510b70);_0x4bbe32[_0x2e5871(0x15e)](debug,_0x4bbe32[_0x2e5871(0x13d)]);const _0x5ab4fd=_0x5a6825[_0x2e5871(0x188)];_0x5ab4fd[_0x2e5871(0x13f)]&&(process['env'][_0x2e5871(0x168)]=_0x5ab4fd[_0x2e5871(0x13f)]);if(_0x4bbe32[_0x2e5871(0x10b)](isTestObservabilitySession)){process[_0x2e5871(0x148)][_0x2e5871(0x106)]=_0x4bbe32[_0x2e5871(0x1a1)];if(_0x5ab4fd['jwt']){process[_0x2e5871(0x148)][_0x2e5871(0x14e)]=_0x5ab4fd[_0x2e5871(0x108)];const _0x5c2976={};_0x5c2976[_0x2e5871(0x128)]=_0x37f473,_0x5c2976[_0x2e5871(0x109)]=_0x5361a1,process[_0x2e5871(0x148)][_0x2e5871(0x14d)]=JSON[_0x2e5871(0x15d)](_0x5c2976);}_0x5ab4fd[_0x2e5871(0x13f)]&&(process['env']['BS_TESTOPS_BUILD_HASHED_ID']=_0x5ab4fd[_0x2e5871(0x13f)]),_0x5ab4fd[_0x2e5871(0x160)]&&(process['env']['BS_TESTOPS_ALLOW_SCREENSHOTS']=_0x5ab4fd[_0x2e5871(0x160)]['toString']());}return[_0x5a6825[_0x2e5871(0x188)][_0x2e5871(0x108)],_0x5a6825['data'][_0x2e5871(0x13f)],_0x5a6825['data']['allow_screenshots']];}catch(_0x4a1ef1){process[_0x2e5871(0x148)][_0x2e5871(0x168)]=_0x4bbe32[_0x2e5871(0x189)],process[_0x2e5871(0x148)][_0x2e5871(0x106)]=_0x4bbe32['dSojw'],process[_0x2e5871(0x148)]['BS_TESTOPS_JWT']=_0x4bbe32['AJnwH'],process[_0x2e5871(0x148)]['BS_TESTOPS_BUILD_HASHED_ID']=_0x4bbe32['AJnwH'],process['env']['BS_TESTOPS_ALLOW_SCREENSHOTS']=_0x4bbe32['AJnwH'];_0x4a1ef1['response']?_0x4bbe32[_0x2e5871(0xfc)](debug,_0x2e5871(0x191)+_0x4a1ef1[_0x2e5871(0xff)][_0x2e5871(0x15a)]+'\x20'+_0x4a1ef1[_0x2e5871(0xff)][_0x2e5871(0x124)]+'\x20'+JSON[_0x2e5871(0x15d)](_0x4a1ef1['response'][_0x2e5871(0x188)])):_0x4bbe32[_0x2e5871(0xfc)](debug,_0x2e5871(0x191)+(_0x4a1ef1[_0x2e5871(0x184)]||_0x4a1ef1));if(_0x4a1ef1&&_0x4a1ef1[_0x2e5871(0x184)]){const _0x25d924=_0x4a1ef1['message'];switch(_0x4a1ef1[_0x2e5871(0x15b)]){case _0x4bbe32[_0x2e5871(0x15f)]:logger[_0x2e5871(0x140)](_0x25d924);break;case _0x4bbe32['Mxkfa']:logger[_0x2e5871(0x131)](_0x25d924);break;case _0x4bbe32[_0x2e5871(0x103)]:logger['error'](_0x25d924);break;default:logger[_0x2e5871(0x140)](_0x25d924);}}else console['info'](_0x2e5871(0x13b)+constants[_0x2e5871(0xfa)]+_0x2e5871(0x159)+_0x4a1ef1);return[null,null,null];}}static async[a119_0x10fab9(0x104)](){const _0x5de79b=a119_0x10fab9,_0xd2bbcf={'wvgqj':_0x5de79b(0xf5),'dyQuM':_0x5de79b(0x169),'NBahF':function(_0x1ede76,_0x153672){return _0x1ede76(_0x153672);}},_0x1d4654=process[_0x5de79b(0x148)]['BS_TESTOPS_BUILD_COMPLETED'];if([_0xd2bbcf[_0x5de79b(0x154)],_0xd2bbcf[_0x5de79b(0x19d)]][_0x5de79b(0x130)](_0x1d4654))return;while([_0xd2bbcf[_0x5de79b(0x154)],_0xd2bbcf['dyQuM']]['includes'](_0x1d4654)){await _0xd2bbcf[_0x5de79b(0x158)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static['getLogTag'](_0x159c3d){const _0x3d3d16=a119_0x10fab9,_0x564418={};_0x564418[_0x3d3d16(0x11e)]=_0x3d3d16(0x12c),_0x564418['AKeEU']=_0x3d3d16(0x19b),_0x564418['xUTLb']=_0x3d3d16(0x119),_0x564418[_0x3d3d16(0x17a)]=_0x3d3d16(0x16c),_0x564418[_0x3d3d16(0x176)]=_0x3d3d16(0x17c),_0x564418[_0x3d3d16(0x196)]=_0x3d3d16(0xfb),_0x564418[_0x3d3d16(0x16f)]=_0x3d3d16(0x178);const _0x5380f2=_0x564418,_0x2eb90e={};return _0x2eb90e[_0x3d3d16(0xf4)]=_0x5380f2['gzLGL'],_0x2eb90e['TestRunFinished']=_0x5380f2[_0x3d3d16(0x14c)],_0x2eb90e[_0x3d3d16(0x18c)]=_0x5380f2[_0x3d3d16(0x102)],_0x2eb90e['LogCreated']=_0x5380f2[_0x3d3d16(0x17a)],_0x2eb90e[_0x3d3d16(0x100)]=_0x5380f2[_0x3d3d16(0x176)],_0x2eb90e['HookRunFinished']=_0x5380f2[_0x3d3d16(0x196)],_0x2eb90e[_0x3d3d16(0x173)]=_0x5380f2['QUwUm'],_0x2eb90e[_0x159c3d[_0x3d3d16(0x151)]];}static async[a119_0x10fab9(0x177)](_0x1654f1,_0x3c6d12=0x0,_0x302358=null){const _0x55fac8=a119_0x10fab9,_0x2a7b54={'wftUw':function(_0x2afd67,_0x2ecf2a){return _0x2afd67===_0x2ecf2a;},'bTUhA':'sendTraceZip','qKRGr':function(_0xeb6bb1,_0x58ba96){return _0xeb6bb1!==_0x58ba96;},'Ftpmz':_0x55fac8(0x1a2),'MxNJu':_0x55fac8(0xf5),'MmGYD':function(_0xc60fdf,_0x2e457c){return _0xc60fdf===_0x2e457c;},'FxTes':function(_0xa9c3ab,_0x4d4f30,_0x3b899f,_0x48df28,_0x38e3d2){return _0xa9c3ab(_0x4d4f30,_0x3b899f,_0x48df28,_0x38e3d2);},'odmDt':'POST','SJmLv':function(_0x2a1aa1,_0x126e44){return _0x2a1aa1(_0x126e44);},'dVOWF':_0x55fac8(0x13c),'VRHSv':function(_0x53057f,_0x439445){return _0x53057f-_0x439445;},'Rwoyj':function(_0x5035a8,_0x244567){return _0x5035a8===_0x244567;},'NjeeN':_0x55fac8(0x1a5),'fZZan':_0x55fac8(0x195),'pwGqk':function(_0x120ae2,_0x13beb8){return _0x120ae2(_0x13beb8);},'pfsqu':function(_0x472655,_0x5d628a){return _0x472655!==_0x5d628a;},'iqCaM':function(_0x38900a,_0x3cf449){return _0x38900a!==_0x3cf449;},'zWzyD':function(_0x31eed6,_0x3f5285){return _0x31eed6===_0x3f5285;},'djTAx':_0x55fac8(0x140)};_0x2a7b54['wftUw'](_0x302358,_0x2a7b54[_0x55fac8(0x186)])&&logger[_0x55fac8(0x156)]('Sending\x20trace\x20zip\x20for\x20test:\x20'+_0x1654f1[_0x55fac8(0x137)][0x0][_0x55fac8(0x12a)]);const _0x546540=await this[_0x55fac8(0x16b)](_0x1654f1);let _0x31a2f7=_0x1654f1,_0x208289=EVENT_ENDPOINT;_0x2a7b54[_0x55fac8(0x18e)](_0x302358,_0x2a7b54['bTUhA'])&&this[_0x55fac8(0x11d)][_0x55fac8(0x161)]();const {shouldProceed:_0x3d0c19,proceedWithData:_0x139506,proceedWithUrl:_0x2e1ef9}=this[_0x55fac8(0x11d)][_0x55fac8(0x10c)](_0x1654f1);if(!_0x3d0c19)return;else _0x139506&&(_0x31a2f7=_0x139506,_0x208289=_0x2e1ef9);const _0xebcb0c={};_0xebcb0c[_0x55fac8(0x183)]=_0x55fac8(0x180)+process[_0x55fac8(0x148)][_0x55fac8(0x175)],_0xebcb0c['Content-Type']=_0x2a7b54[_0x55fac8(0x18a)],_0xebcb0c['X-BSTACK-TESTOPS']=_0x2a7b54['MxNJu'];const _0x32bb44={};_0x32bb44[_0x55fac8(0x146)]=_0xebcb0c;const _0x5d7c60=_0x32bb44;let _0x10f18d;try{_0x2a7b54[_0x55fac8(0x139)](_0x302358,_0x2a7b54[_0x55fac8(0x186)])?(logger[_0x55fac8(0x156)](_0x55fac8(0x17d)+_0x1654f1?.['logs'][0x0]?.['test_run_uuid']),_0x10f18d=await _0x2a7b54[_0x55fac8(0x19f)](asyncAwaitNodeReq,_0x2a7b54[_0x55fac8(0x133)],_0x208289,_0x31a2f7,_0x5d7c60),logger[_0x55fac8(0x156)](_0x55fac8(0x11a)+_0x1654f1?.[_0x55fac8(0x137)][0x0]?.[_0x55fac8(0x12a)])):_0x10f18d=await _0x2a7b54[_0x55fac8(0x19f)](nodeRequest,_0x2a7b54['odmDt'],_0x208289,_0x31a2f7,_0x5d7c60);if(_0x10f18d[_0x55fac8(0x188)]['error']){const _0x5c2a2f={};_0x5c2a2f[_0x55fac8(0x184)]=_0x10f18d[_0x55fac8(0x188)][_0x55fac8(0x140)];throw _0x5c2a2f;}else{_0x2a7b54[_0x55fac8(0x132)](debug,(_0x2a7b54[_0x55fac8(0x18e)](_0x208289,this[_0x55fac8(0x11d)][_0x55fac8(0x135)])?_0x546540:_0x2a7b54['dVOWF'])+'['+_0x3c6d12+_0x55fac8(0x1a6)),this['requestQueueHandler'][_0x55fac8(0x138)]=Math[_0x55fac8(0x12e)](0x0,_0x2a7b54[_0x55fac8(0x114)](this[_0x55fac8(0x11d)][_0x55fac8(0x138)],_0x2a7b54[_0x55fac8(0x110)](_0x208289,_0x2a7b54[_0x55fac8(0x142)])?0x1:_0x31a2f7[_0x55fac8(0x153)]));const _0x4cc957={};return _0x4cc957[_0x55fac8(0x15a)]=_0x2a7b54[_0x55fac8(0xf7)],_0x4cc957[_0x55fac8(0x184)]='',_0x4cc957;}}catch(_0x193524){_0x193524[_0x55fac8(0xff)]?_0x2a7b54[_0x55fac8(0x115)](debug,'EXCEPTION\x20IN\x20'+(_0x2a7b54['pfsqu'](_0x208289,this[_0x55fac8(0x11d)][_0x55fac8(0x135)])?_0x546540:_0x2a7b54[_0x55fac8(0x190)])+_0x55fac8(0x101)+constants['TEST_REPORTING_ANALYTICS']+_0x55fac8(0x120)+_0x193524[_0x55fac8(0xff)][_0x55fac8(0x15a)]+'\x20'+_0x193524[_0x55fac8(0xff)][_0x55fac8(0x124)]+'\x20'+util[_0x55fac8(0x164)](_0x193524['response'][_0x55fac8(0x188)])):_0x2a7b54[_0x55fac8(0x132)](debug,_0x55fac8(0x152)+(_0x2a7b54[_0x55fac8(0x10e)](_0x208289,this[_0x55fac8(0x11d)][_0x55fac8(0x135)])?_0x546540:_0x2a7b54['dVOWF'])+_0x55fac8(0x101)+constants['TEST_REPORTING_ANALYTICS']+_0x55fac8(0x120)+util[_0x55fac8(0x164)](_0x193524));this[_0x55fac8(0x11d)][_0x55fac8(0x138)]=Math[_0x55fac8(0x12e)](0x0,_0x2a7b54['VRHSv'](this['requestQueueHandler'][_0x55fac8(0x138)],_0x2a7b54[_0x55fac8(0x167)](_0x208289,_0x2a7b54['NjeeN'])?0x1:_0x31a2f7[_0x55fac8(0x153)]));const _0x56fc96={};return _0x56fc96['status']=_0x2a7b54[_0x55fac8(0x18b)],_0x56fc96[_0x55fac8(0x184)]=_0x193524[_0x55fac8(0x184)]||(_0x193524[_0x55fac8(0xff)]?_0x193524[_0x55fac8(0xff)][_0x55fac8(0x15a)]+':'+_0x193524['response'][_0x55fac8(0x124)]:_0x193524),_0x56fc96;}}static async[a119_0x10fab9(0x145)](_0x2bea65,_0xae7642=0x0){const _0x16ee63=a119_0x10fab9,_0xe4a17a={'MrqBD':function(_0x52d97e,_0x25c170){return _0x52d97e+_0x25c170;},'YSxGC':function(_0x93cbb9,_0x195188){return _0x93cbb9(_0x195188);},'WPbJD':_0x16ee63(0x127),'CdgUI':_0x16ee63(0x1a4),'gjuDA':_0x16ee63(0x1a9),'vRWuX':function(_0x106bfb,_0x5c3b14,_0x244fed){return _0x106bfb(_0x5c3b14,_0x244fed);},'lzXCz':_0x16ee63(0x145),'luCGD':function(_0x421364,_0x2677d6){return _0x421364===_0x2677d6;},'QvpoU':function(_0x428cf1,_0x28ec97){return _0x428cf1!==_0x28ec97;},'Hiufh':_0x16ee63(0x1ab),'ooAAb':function(_0x2d606d,_0x13a3b1){return _0x2d606d===_0x13a3b1;},'lBSKK':'true','uSzzq':function(_0x43f6d3){return _0x43f6d3();},'VhXLt':function(_0x33c4ed,_0x76a951){return _0x33c4ed===_0x76a951;},'QztBq':function(_0x2b9bae,_0x1235c6){return _0x2b9bae-_0x1235c6;},'kkvtr':'error','rKMMV':_0x16ee63(0x17f),'Kqjsw':function(_0x3cdacf,_0x58a3ac){return _0x3cdacf>=_0x58a3ac;},'KYPUA':function(_0x4e49a7,_0x2d953a){return _0x4e49a7!==_0x2d953a;},'ISpWY':_0x16ee63(0x16e),'NjDbr':_0x16ee63(0x169)},_0x4a098b=this['getLogTag'](_0x2bea65);_0xe4a17a['YSxGC'](trace,_0x16ee63(0x123)+_0x2bea65['event_type']+'\x27\x20'+(bsSetupHelper['nestedKeyValue'](_0x2bea65,[_0xe4a17a[_0x16ee63(0x107)],_0xe4a17a[_0x16ee63(0x117)]])||bsSetupHelper[_0x16ee63(0x1a0)](_0x2bea65,[_0xe4a17a[_0x16ee63(0x198)],_0xe4a17a[_0x16ee63(0x117)]])));if(!_0xe4a17a['vRWuX'](shouldProcessEventForTesthub,_0x2bea65[_0x16ee63(0x151)],_0xe4a17a[_0x16ee63(0x13a)]))return;_0xe4a17a[_0x16ee63(0x19e)](_0xae7642,0x0)&&process[_0x16ee63(0x148)][_0x16ee63(0x175)]&&_0xe4a17a['QvpoU'](process[_0x16ee63(0x148)][_0x16ee63(0x175)],_0xe4a17a[_0x16ee63(0x11c)])&&(this['requestQueueHandler']['pendingUploads']+=0x1);if(_0xe4a17a[_0x16ee63(0x141)](process[_0x16ee63(0x148)][_0x16ee63(0x106)],_0xe4a17a[_0x16ee63(0x147)])||process[_0x16ee63(0x148)][_0x16ee63(0xfe)]||_0xe4a17a[_0x16ee63(0x157)](isPercyBuild)){if(_0xe4a17a[_0x16ee63(0x16d)](process[_0x16ee63(0x148)][_0x16ee63(0x175)],_0xe4a17a[_0x16ee63(0x11c)])){_0xe4a17a['YSxGC'](debug,'EXCEPTION\x20IN\x20'+_0x4a098b+'\x20REQUEST\x20TO\x20'+constants[_0x16ee63(0xfa)]+'\x20:\x20missing\x20authentication\x20token'),this[_0x16ee63(0x11d)]['pendingUploads']=Math['max'](0x0,_0xe4a17a['QztBq'](this[_0x16ee63(0x11d)][_0x16ee63(0x138)],0x1));const _0x468cc4={};return _0x468cc4['status']=_0xe4a17a[_0x16ee63(0x12f)],_0x468cc4[_0x16ee63(0x184)]=_0xe4a17a[_0x16ee63(0x194)],_0x468cc4;}return await this[_0x16ee63(0x177)](_0x2bea65,_0xae7642);}else{if(_0xe4a17a[_0x16ee63(0x171)](_0xae7642,0x5)){_0xe4a17a[_0x16ee63(0x126)](debug,_0x16ee63(0x152)+_0x4a098b+_0x16ee63(0x101)+constants[_0x16ee63(0xfa)]+_0x16ee63(0xf9)+_0x4a098b+_0x16ee63(0x1a8));_0xe4a17a[_0x16ee63(0x181)](process[_0x16ee63(0x148)][_0x16ee63(0x175)],_0xe4a17a[_0x16ee63(0x11c)])&&(this[_0x16ee63(0x11d)][_0x16ee63(0x138)]=Math[_0x16ee63(0x12e)](0x0,_0xe4a17a[_0x16ee63(0x118)](this[_0x16ee63(0x11d)][_0x16ee63(0x138)],0x1)));const _0x553bf5={};return _0x553bf5[_0x16ee63(0x15a)]=_0xe4a17a[_0x16ee63(0x12f)],_0x553bf5[_0x16ee63(0x184)]=_0xe4a17a[_0x16ee63(0x129)],_0x553bf5;}else _0xe4a17a['QvpoU'](process['env']['BS_TESTOPS_BUILD_COMPLETED'],_0xe4a17a[_0x16ee63(0x144)])&&_0xe4a17a[_0x16ee63(0x163)](setTimeout,()=>{this['uploadEventData'](_0x2bea65,_0xe4a17a['MrqBD'](_0xae7642,0x1));},0x3e8);}}}module[a119_0x10fab9(0x125)]=SessionHandler;function a119_0xc85a(){const _0x19b7c3=['env','vyHeY','273860gxByMf','POST','AKeEU','CREDENTIALS_FOR_CRASH_REPORTING','BS_TESTOPS_JWT','browserstackAutomation','getAgentVersion','event_type','EXCEPTION\x20IN\x20','length','wvgqj','BROWSERSTACK_BUILD_RUN_IDENTIFIER','debug','uSzzq','NBahF','\x20failed\x20due\x20to\x20','status','errorType','ERROR_SDK_DEPRECATED','stringify','IguuT','eFhsU','allow_screenshots','start','10432190pzfIMO','vRWuX','format','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','../../helpers/testhub/utils','zWzyD','BROWSERSTACK_TESTHUB_UUID','false','BROWSERSTACK_RERUN','getLogTag','Log_Upload','VhXLt','Retry\x20runs\x20exceeded','QUwUm','szipw','Kqjsw','../../bin/utils/constants','CBTSessionCreated','api/v1/builds','BROWSERSTACK_TESTHUB_JWT','PFxEm','sendEventData','CBT_Upload','getGitMetaData','NFPLc','9986466qJccgX','Hook_Start_Upload','Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20','1SeKczH','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','Bearer\x20','KYPUA','24Ijyczn','Authorization','message','getUserName','bTUhA','BrGHv','data','AJnwH','Ftpmz','djTAx','TestRunSkipped','3576448QoSwnk','qKRGr','projectName','dVOWF','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','frameworkName','launch','rKMMV','success','TGfDH','3255324JcFHXx','gjuDA','./constants','app','Test_End_Upload','getHostInfo','dyQuM','luCGD','FxTes','nestedKeyValue','iLWir','application/json','Build\x20creation\x20successful!','uuid','api/v1/event',']\x20event\x20successful!','ERROR_ACCESS_DENIED','\x20retry\x20runs\x20exceeded','hook_run','../helper','null','TestRunStarted','true','xExjM','fZZan','frameworkVersion','\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','TEST_REPORTING_ANALYTICS','Hook_End_Upload','BTrCY','dSojw','BS_A11Y_JWT','response','HookRunStarted','\x20REQUEST\x20TO\x20','xUTLb','LIZGF','waitForBuildStatus','uxdMO','BS_TESTOPS_BUILD_COMPLETED','WPbJD','jwt','password','getAccessKey','hSvRs','add','buildIdentifier','iqCaM','../logger','Rwoyj','json','path','iRatQ','VRHSv','pwGqk','GurFZ','CdgUI','QztBq','Test_Skipped_Upload','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20','ERROR_INVALID_CREDENTIALS','Hiufh','requestQueueHandler','gzLGL','basename','\x20:\x20','winstonLogger','2196162EWzYqW','Processing\x20event\x20-\x20\x27','statusText','exports','YSxGC','test_run','username','ISpWY','test_run_uuid','buildName','Test_Start_Upload','174xzKefI','max','kkvtr','includes','info','SJmLv','odmDt','1948710aHnIJB','eventUrl','inspect','logs','pendingUploads','MmGYD','lzXCz','Data\x20upload\x20to\x20BrowserStack\x20','Batch-Queue','lkJPv','util','build_hashed_id','error','ooAAb','NjeeN','toISOString','NjDbr','uploadEventData','headers','lBSKK'];a119_0xc85a=function(){return _0x19b7c3;};return a119_0xc85a();}