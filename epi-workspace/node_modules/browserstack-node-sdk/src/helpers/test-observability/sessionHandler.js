const a116_0x4af373=a116_0x2e80;(function(_0x4c165f,_0x37b573){const _0x5ce848=a116_0x2e80,_0x39270=_0x4c165f();while(!![]){try{const _0x61dc0=parseInt(_0x5ce848(0x293))/0x1+parseInt(_0x5ce848(0x226))/0x2*(-parseInt(_0x5ce848(0x281))/0x3)+-parseInt(_0x5ce848(0x24f))/0x4+-parseInt(_0x5ce848(0x233))/0x5*(-parseInt(_0x5ce848(0x1fd))/0x6)+-parseInt(_0x5ce848(0x20f))/0x7*(-parseInt(_0x5ce848(0x218))/0x8)+parseInt(_0x5ce848(0x213))/0x9*(-parseInt(_0x5ce848(0x21b))/0xa)+parseInt(_0x5ce848(0x271))/0xb;if(_0x61dc0===_0x37b573)break;else _0x39270['push'](_0x39270['shift']());}catch(_0x25cd0c){_0x39270['push'](_0x39270['shift']());}}}(a116_0x13e0,0x75369));const bsSetupHelper=require(a116_0x4af373(0x25e)),path=require('path'),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require('./utils'),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require(a116_0x4af373(0x205)),RequestQueueHandler=require(a116_0x4af373(0x210)),logger=require('../logger')[a116_0x4af373(0x243)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require(a116_0x4af373(0x223)),util=require(a116_0x4af373(0x27d));function a116_0x13e0(){const _0x39e953=['qtumF','ZrjqF','CBTSessionCreated','Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20','raHnO','inspect','getInstance','event_type','eventUrl','364127GvCuOQ','true','status','ERROR_SDK_DEPRECATED','info','sendEventData','BS_TESTOPS_BUILD_HASHED_ID','test_run','WKxhY','UJaqx','RKwmc','Content-Type','getUserName','requestQueueHandler','nQDho','fIXse','Retry\x20runs\x20exceeded','basename','ifToV','TestRunStarted','qAoBc','buildName','jCGmg','json','6UDmNDz','PLiJN','kNxvD','max','XPIUC','KCvcJ','LmRuj','VoXtE','./constants','stringify','statusText','sendTraceZip','nestedKeyValue','vbDiY','CREDENTIALS_FOR_CRASH_REPORTING','jwWut','QCebw','\x20retry\x20runs\x20exceeded','33103vQEWUY','./requestQueueHandler','username','message','3384jJmjsS','toISOString','format','mlyCq','Sending\x20trace\x20zip\x20for\x20test:\x20','616UUveyg','GCbHy','data','6010nefLia','ygVqP','frameworkVersion','raGTl','NeJBQ','api/v1/event','TestRunSkipped','YpuCo','../../helpers/testhub/utils','X-BSTACK-TESTOPS','BROWSERSTACK_RERUN','1128926AAtCPH','length','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','getHostInfo','CBT_Upload','WKekS','success','browserstackAutomation','Batch-Queue','Processing\x20event\x20-\x20\x27','SMgBX','Data\x20upload\x20to\x20BrowserStack\x20Test\x20Observability\x20failed\x20due\x20to\x20','LogCreated','1923410FFfQot','VDegA','logs','api/v1/builds','getLogTag','password','BS_TESTOPS_JWT','cjnrG','kczTa','GdLnA','add',']\x20event\x20successful!','ERROR_ACCESS_DENIED','error','BS_TESTOPS_ALLOW_SCREENSHOTS','Test_Skipped_Upload','winstonLogger','app','GCvYD','kJiHa','BSvrG','exports','QdvaL','pendingUploads','cPsHq','Bearer\x20','env','uploadEventData','724408bvnSJn','mtZTY','rQuTJ','EXCEPTION\x20IN\x20','debug','uuid','buildIdentifier','waitForBuildStatus','oISzP','SRpwj','errorType','null','Hook_End_Upload','test_run_uuid','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','../helper','allow_screenshots','rKylT','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20missing\x20authentication\x20token','BS_TESTOPS_BUILD_COMPLETED','BROWSERSTACK_TESTHUB_JWT','build_hashed_id','Log_Upload','Test_Start_Upload','HookRunFinished','jwt','TestRunFinished','buildDescription','alxsa','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','headers','iKnlK','VEjJy','3725744ndbdSQ','getGitMetaData','FGfYg','false','toString','GaIjm','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','frameworkName','POST','getCiInfo','response','UCGHI','util','hook_run','JowmE','BROWSERSTACK_BUILD_RUN_IDENTIFIER','3YrUeDi','lPkRM','XoonA','OdRCb','lFIZU','Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20','HookRunStarted','rMwCG','QlpZf'];a116_0x13e0=function(){return _0x39e953;};return a116_0x13e0();}function a116_0x2e80(_0x1499e6,_0x2422fc){const _0x13e0ff=a116_0x13e0();return a116_0x2e80=function(_0x2e802d,_0x8cd320){_0x2e802d=_0x2e802d-0x1e9;let _0x3642b4=_0x13e0ff[_0x2e802d];return _0x3642b4;},a116_0x2e80(_0x1499e6,_0x2422fc);}class SessionHandler{static [a116_0x4af373(0x1f2)]=RequestQueueHandler[a116_0x4af373(0x290)]();static async['launch'](_0x41c8d7,_0x393235){const _0x10fc9f=a116_0x4af373,_0x549e77={'kNxvD':function(_0x512628,_0x41f611){return _0x512628||_0x41f611;},'SxbCD':function(_0x49a01a,_0x1dc0f4){return _0x49a01a===_0x1dc0f4;},'qtumF':function(_0x4e2541,_0x279168){return _0x4e2541(_0x279168);},'wFMIZ':_0x10fc9f(0x26d),'DOnqI':_0x10fc9f(0x274),'XoonA':_0x10fc9f(0x1fc),'iKnlK':function(_0x1a508a,_0x4a6a9a){return _0x1a508a(_0x4a6a9a);},'GCvYD':function(_0x348df6,_0x5c5260){return _0x348df6(_0x5c5260);},'ifToV':function(_0x23cc5a,_0x2b5cc4){return _0x23cc5a(_0x2b5cc4);},'BSvrG':function(_0x479569,_0x32efd0,_0x5086ba,_0x190e40,_0x4348b1){return _0x479569(_0x32efd0,_0x5086ba,_0x190e40,_0x4348b1);},'kczTa':_0x10fc9f(0x279),'nQDho':_0x10fc9f(0x236),'UiqwN':function(_0x2530f4,_0x144fa0){return _0x2530f4(_0x144fa0);},'QKHoX':'Build\x20creation\x20successful!','UJaqx':function(_0x5156b7){return _0x5156b7();},'dNfAJ':_0x10fc9f(0x294),'LmRuj':'null','dMnaB':function(_0xc44afd,_0x6efe22){return _0xc44afd(_0x6efe22);},'Nonrl':'ERROR_INVALID_CREDENTIALS','raHnO':_0x10fc9f(0x23f),'DfGHQ':_0x10fc9f(0x296)};logger['info'](_0x10fc9f(0x286)+util[_0x10fc9f(0x28f)](_0x41c8d7));const _0x1b6b0f=bsSetupHelper[_0x10fc9f(0x1f1)](_0x41c8d7),_0x296184=bsSetupHelper['getAccessKey'](_0x41c8d7),_0x34c14e=_0x549e77['kNxvD'](_0x1b6b0f,'')+':'+_0x549e77[_0x10fc9f(0x1ff)](_0x296184,'');if(_0x549e77['SxbCD'](_0x34c14e,':'))return _0x549e77[_0x10fc9f(0x28a)](debug,_0x549e77['wFMIZ']),process[_0x10fc9f(0x24d)][_0x10fc9f(0x263)]=_0x549e77['DOnqI'],[null,null];let _0x501e9d=![],_0x51bb3e=![];if(_0x41c8d7[_0x10fc9f(0x22d)]&&_0x41c8d7[_0x10fc9f(0x244)])_0x51bb3e=!![];else _0x41c8d7['browserstackAutomation']&&(_0x501e9d=!![]);try{const _0xa01186={'format':_0x549e77[_0x10fc9f(0x283)],'project_name':_0x41c8d7['projectName']||'','name':_0x41c8d7[_0x10fc9f(0x1fa)]||path[_0x10fc9f(0x1f6)](path['resolve'](process['cwd']())),'build_identifier':_0x41c8d7[_0x10fc9f(0x255)],'description':_0x41c8d7[_0x10fc9f(0x26b)]||'','start_time':new Date()[_0x10fc9f(0x214)](),'tags':_0x549e77[_0x10fc9f(0x26f)](getCustomTags,_0x41c8d7),'host_info':bsSetupHelper[_0x10fc9f(0x229)](),'ci_info':bsSetupHelper[_0x10fc9f(0x27a)](),'build_run_identifier':process['env'][_0x10fc9f(0x280)],'failed_tests_rerun':process[_0x10fc9f(0x24d)][_0x10fc9f(0x225)]||![],'version_control':await bsSetupHelper[_0x10fc9f(0x272)](),'observability_version':{'frameworkName':_0x393235[_0x10fc9f(0x278)],'frameworkVersion':_0x393235[_0x10fc9f(0x21d)],'sdkVersion':bsSetupHelper['getAgentVersion']()},'product_map':_0x549e77[_0x10fc9f(0x245)](getProductMap,_0x41c8d7),'test_orchestration':_0x549e77[_0x10fc9f(0x28a)](getTestOrchestrationBuildStartData,_0x41c8d7)},_0x1ea5fe={};_0x1ea5fe[_0x10fc9f(0x211)]=_0x1b6b0f,_0x1ea5fe[_0x10fc9f(0x238)]=_0x296184;const _0x237b51={'auth':_0x1ea5fe,'headers':_0x549e77[_0x10fc9f(0x1f7)](getDefaultHeaders,![])},_0x4b27cc=await _0x549e77[_0x10fc9f(0x247)](nodeRequest,_0x549e77[_0x10fc9f(0x23b)],_0x549e77[_0x10fc9f(0x1f3)],_0xa01186,_0x237b51);_0x549e77['UiqwN'](debug,_0x549e77['QKHoX']);const _0x4813a4=_0x4b27cc[_0x10fc9f(0x21a)];_0x4813a4[_0x10fc9f(0x265)]&&(process[_0x10fc9f(0x24d)]['BROWSERSTACK_TESTHUB_UUID']=_0x4813a4[_0x10fc9f(0x265)]);if(_0x549e77[_0x10fc9f(0x1ee)](isTestObservabilitySession)){process['env'][_0x10fc9f(0x263)]=_0x549e77['dNfAJ'];if(_0x4813a4[_0x10fc9f(0x269)]){process[_0x10fc9f(0x24d)][_0x10fc9f(0x239)]=_0x4813a4[_0x10fc9f(0x269)];const _0x170473={};_0x170473['username']=_0x1b6b0f,_0x170473['password']=_0x296184,process[_0x10fc9f(0x24d)][_0x10fc9f(0x20b)]=JSON[_0x10fc9f(0x206)](_0x170473);}_0x4813a4[_0x10fc9f(0x265)]&&(process[_0x10fc9f(0x24d)][_0x10fc9f(0x1eb)]=_0x4813a4[_0x10fc9f(0x265)]),_0x4813a4['allow_screenshots']&&(process[_0x10fc9f(0x24d)]['BS_TESTOPS_ALLOW_SCREENSHOTS']=_0x4813a4[_0x10fc9f(0x25f)][_0x10fc9f(0x275)]());}return[_0x4b27cc['data'][_0x10fc9f(0x269)],_0x4b27cc[_0x10fc9f(0x21a)][_0x10fc9f(0x265)],_0x4b27cc[_0x10fc9f(0x21a)][_0x10fc9f(0x25f)]];}catch(_0x1a49d7){process[_0x10fc9f(0x24d)]['BROWSERSTACK_TESTHUB_UUID']=_0x549e77[_0x10fc9f(0x203)],process['env']['BS_TESTOPS_BUILD_COMPLETED']=_0x549e77['DOnqI'],process[_0x10fc9f(0x24d)][_0x10fc9f(0x239)]=_0x549e77[_0x10fc9f(0x203)],process[_0x10fc9f(0x24d)][_0x10fc9f(0x1eb)]=_0x549e77[_0x10fc9f(0x203)],process[_0x10fc9f(0x24d)][_0x10fc9f(0x241)]=_0x549e77[_0x10fc9f(0x203)];_0x1a49d7[_0x10fc9f(0x27b)]?_0x549e77['dMnaB'](debug,_0x10fc9f(0x25d)+_0x1a49d7[_0x10fc9f(0x27b)][_0x10fc9f(0x295)]+'\x20'+_0x1a49d7['response']['statusText']+'\x20'+JSON['stringify'](_0x1a49d7[_0x10fc9f(0x27b)][_0x10fc9f(0x21a)])):_0x549e77['dMnaB'](debug,'EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20'+(_0x1a49d7['message']||_0x1a49d7));if(_0x1a49d7&&_0x1a49d7[_0x10fc9f(0x212)]){const _0x16fb8f=_0x1a49d7['message'];switch(_0x1a49d7[_0x10fc9f(0x259)]){case _0x549e77['Nonrl']:logger['error'](_0x16fb8f);break;case _0x549e77[_0x10fc9f(0x28e)]:logger[_0x10fc9f(0x1e9)](_0x16fb8f);break;case _0x549e77['DfGHQ']:logger[_0x10fc9f(0x240)](_0x16fb8f);break;default:logger[_0x10fc9f(0x240)](_0x16fb8f);}}else console['info'](_0x10fc9f(0x231)+_0x1a49d7);return[null,null,null];}}static async[a116_0x4af373(0x256)](){const _0xc6d191=a116_0x4af373,_0x4e29f8={'ZrjqF':_0xc6d191(0x294),'NeJBQ':_0xc6d191(0x274),'vbDiY':function(_0x583e56,_0x2111a7){return _0x583e56(_0x2111a7);}},_0x360b00=process[_0xc6d191(0x24d)][_0xc6d191(0x263)];if([_0x4e29f8[_0xc6d191(0x28b)],_0x4e29f8[_0xc6d191(0x21f)]]['includes'](_0x360b00))return;while([_0x4e29f8['ZrjqF'],_0x4e29f8[_0xc6d191(0x21f)]]['includes'](_0x360b00)){await _0x4e29f8[_0xc6d191(0x20a)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static[a116_0x4af373(0x237)](_0x1c04fd){const _0x3fd90c=a116_0x4af373,_0x3167c6={};_0x3167c6[_0x3fd90c(0x204)]=_0x3fd90c(0x267),_0x3167c6[_0x3fd90c(0x234)]='Test_End_Upload',_0x3167c6[_0x3fd90c(0x21c)]=_0x3fd90c(0x242),_0x3167c6['raGTl']=_0x3fd90c(0x266),_0x3167c6[_0x3fd90c(0x216)]='Hook_Start_Upload',_0x3167c6[_0x3fd90c(0x273)]=_0x3fd90c(0x25b),_0x3167c6[_0x3fd90c(0x23a)]=_0x3fd90c(0x22a);const _0x2807be=_0x3167c6,_0x3f4fde={};return _0x3f4fde[_0x3fd90c(0x1f8)]=_0x2807be[_0x3fd90c(0x204)],_0x3f4fde[_0x3fd90c(0x26a)]=_0x2807be[_0x3fd90c(0x234)],_0x3f4fde[_0x3fd90c(0x221)]=_0x2807be['ygVqP'],_0x3f4fde[_0x3fd90c(0x232)]=_0x2807be[_0x3fd90c(0x21e)],_0x3f4fde[_0x3fd90c(0x287)]=_0x2807be[_0x3fd90c(0x216)],_0x3f4fde[_0x3fd90c(0x268)]=_0x2807be[_0x3fd90c(0x273)],_0x3f4fde[_0x3fd90c(0x28c)]=_0x2807be[_0x3fd90c(0x23a)],_0x3f4fde[_0x1c04fd[_0x3fd90c(0x291)]];}static async[a116_0x4af373(0x1ea)](_0x227d4a,_0x4bae6b=0x0,_0x578c2a=null){const _0x47ef36=a116_0x4af373,_0x1fe6ce={'YpuCo':function(_0x250664,_0x582fc0){return _0x250664===_0x582fc0;},'VEjJy':_0x47ef36(0x208),'PLiJN':function(_0x10ae8a,_0x110799){return _0x10ae8a!==_0x110799;},'kxOfK':'application/json','ekdAw':_0x47ef36(0x294),'lFIZU':function(_0x596916,_0x3fb3c0){return _0x596916===_0x3fb3c0;},'UCGHI':function(_0x4d7ebb,_0x42994b,_0x1974ec,_0x4d8455,_0x2f0f2e){return _0x4d7ebb(_0x42994b,_0x1974ec,_0x4d8455,_0x2f0f2e);},'rKylT':_0x47ef36(0x279),'lNfYx':function(_0x1ce839,_0x569327){return _0x1ce839(_0x569327);},'WKxhY':_0x47ef36(0x22e),'GCbHy':function(_0x2376b3,_0x567248){return _0x2376b3-_0x567248;},'SMgBX':_0x47ef36(0x220),'JowmE':_0x47ef36(0x22c),'rMwCG':function(_0x3dbbb1,_0x218ff5){return _0x3dbbb1(_0x218ff5);},'KCvcJ':function(_0x548861,_0x2e7cbd){return _0x548861!==_0x2e7cbd;},'QlpZf':function(_0x5a6752,_0x14b265){return _0x5a6752-_0x14b265;},'alxsa':'error'};_0x1fe6ce[_0x47ef36(0x222)](_0x578c2a,_0x1fe6ce[_0x47ef36(0x270)])&&logger['debug'](_0x47ef36(0x217)+_0x227d4a[_0x47ef36(0x235)][0x0][_0x47ef36(0x25c)]);const _0x38a899=await this[_0x47ef36(0x237)](_0x227d4a);let _0x4a8fe4=_0x227d4a,_0x42c369=EVENT_ENDPOINT;_0x1fe6ce[_0x47ef36(0x1fe)](_0x578c2a,_0x1fe6ce['VEjJy'])&&this[_0x47ef36(0x1f2)]['start']();const {shouldProceed:_0x41ff2f,proceedWithData:_0x12764e,proceedWithUrl:_0xe770e6}=this[_0x47ef36(0x1f2)][_0x47ef36(0x23d)](_0x227d4a);if(!_0x41ff2f)return;else _0x12764e&&(_0x4a8fe4=_0x12764e,_0x42c369=_0xe770e6);const _0x11c5bd={};_0x11c5bd['Authorization']=_0x47ef36(0x24c)+process['env'][_0x47ef36(0x264)],_0x11c5bd[_0x47ef36(0x1f0)]=_0x1fe6ce['kxOfK'],_0x11c5bd[_0x47ef36(0x224)]=_0x1fe6ce['ekdAw'];const _0x34de65={};_0x34de65[_0x47ef36(0x26e)]=_0x11c5bd;const _0x5e6c0d=_0x34de65;let _0x468975;try{_0x1fe6ce[_0x47ef36(0x285)](_0x578c2a,_0x1fe6ce['VEjJy'])?(logger[_0x47ef36(0x253)](_0x47ef36(0x28d)+_0x227d4a?.[_0x47ef36(0x235)][0x0]?.[_0x47ef36(0x25c)]),_0x468975=await _0x1fe6ce['UCGHI'](asyncAwaitNodeReq,_0x1fe6ce[_0x47ef36(0x260)],_0x42c369,_0x4a8fe4,_0x5e6c0d),logger[_0x47ef36(0x253)]('Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20'+_0x227d4a?.[_0x47ef36(0x235)][0x0]?.[_0x47ef36(0x25c)])):_0x468975=await _0x1fe6ce[_0x47ef36(0x27c)](nodeRequest,_0x1fe6ce[_0x47ef36(0x260)],_0x42c369,_0x4a8fe4,_0x5e6c0d);if(_0x468975[_0x47ef36(0x21a)][_0x47ef36(0x240)]){const _0x2d7eb6={};_0x2d7eb6['message']=_0x468975[_0x47ef36(0x21a)][_0x47ef36(0x240)];throw _0x2d7eb6;}else{_0x1fe6ce['lNfYx'](debug,(_0x1fe6ce[_0x47ef36(0x1fe)](_0x42c369,this['requestQueueHandler'][_0x47ef36(0x292)])?_0x38a899:_0x1fe6ce[_0x47ef36(0x1ed)])+'['+_0x4bae6b+_0x47ef36(0x23e)),this[_0x47ef36(0x1f2)][_0x47ef36(0x24a)]=Math[_0x47ef36(0x200)](0x0,_0x1fe6ce[_0x47ef36(0x219)](this['requestQueueHandler'][_0x47ef36(0x24a)],_0x1fe6ce[_0x47ef36(0x222)](_0x42c369,_0x1fe6ce['SMgBX'])?0x1:_0x4a8fe4[_0x47ef36(0x227)]));const _0x50bb42={};return _0x50bb42[_0x47ef36(0x295)]=_0x1fe6ce[_0x47ef36(0x27f)],_0x50bb42[_0x47ef36(0x212)]='',_0x50bb42;}}catch(_0x2ae3ad){_0x2ae3ad[_0x47ef36(0x27b)]?_0x1fe6ce[_0x47ef36(0x288)](debug,'EXCEPTION\x20IN\x20'+(_0x1fe6ce[_0x47ef36(0x202)](_0x42c369,this[_0x47ef36(0x1f2)][_0x47ef36(0x292)])?_0x38a899:_0x1fe6ce[_0x47ef36(0x1ed)])+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20'+_0x2ae3ad[_0x47ef36(0x27b)][_0x47ef36(0x295)]+'\x20'+_0x2ae3ad['response'][_0x47ef36(0x207)]+'\x20'+util[_0x47ef36(0x215)](_0x2ae3ad[_0x47ef36(0x27b)]['data'])):_0x1fe6ce[_0x47ef36(0x288)](debug,_0x47ef36(0x252)+(_0x1fe6ce['PLiJN'](_0x42c369,this[_0x47ef36(0x1f2)][_0x47ef36(0x292)])?_0x38a899:_0x1fe6ce[_0x47ef36(0x1ed)])+_0x47ef36(0x261)+util['format'](_0x2ae3ad));this[_0x47ef36(0x1f2)][_0x47ef36(0x24a)]=Math[_0x47ef36(0x200)](0x0,_0x1fe6ce[_0x47ef36(0x289)](this[_0x47ef36(0x1f2)][_0x47ef36(0x24a)],_0x1fe6ce[_0x47ef36(0x222)](_0x42c369,_0x1fe6ce[_0x47ef36(0x230)])?0x1:_0x4a8fe4[_0x47ef36(0x227)]));const _0x3fcd76={};return _0x3fcd76[_0x47ef36(0x295)]=_0x1fe6ce[_0x47ef36(0x26c)],_0x3fcd76[_0x47ef36(0x212)]=_0x2ae3ad[_0x47ef36(0x212)]||(_0x2ae3ad[_0x47ef36(0x27b)]?_0x2ae3ad[_0x47ef36(0x27b)][_0x47ef36(0x295)]+':'+_0x2ae3ad[_0x47ef36(0x27b)]['statusText']:_0x2ae3ad),_0x3fcd76;}}static async['uploadEventData'](_0x1ff895,_0x560bbb=0x0){const _0x5a9ea7=a116_0x4af373,_0x1b7d2c={'jCGmg':function(_0x5b8099,_0x373b95){return _0x5b8099+_0x373b95;},'fIXse':function(_0x3fb5ce,_0x9d87d2){return _0x3fb5ce(_0x9d87d2);},'lPkRM':_0x5a9ea7(0x1ec),'OdRCb':_0x5a9ea7(0x254),'QCebw':_0x5a9ea7(0x27e),'SRpwj':function(_0x4ab58a,_0x301d94,_0x113653){return _0x4ab58a(_0x301d94,_0x113653);},'QdvaL':_0x5a9ea7(0x24e),'GdLnA':function(_0x3dbf49,_0x4ea15a){return _0x3dbf49===_0x4ea15a;},'oISzP':function(_0x55ce08,_0x5cfa76){return _0x55ce08!==_0x5cfa76;},'RKwmc':_0x5a9ea7(0x25a),'qAoBc':function(_0x413713,_0x40b8a2){return _0x413713===_0x40b8a2;},'WKekS':_0x5a9ea7(0x294),'HwqrO':function(_0x4a67bb){return _0x4a67bb();},'BBfZM':function(_0x8f5b0d,_0x1eb3f2){return _0x8f5b0d(_0x1eb3f2);},'mtZTY':function(_0x12a069,_0x2f796f){return _0x12a069-_0x2f796f;},'wvFnG':_0x5a9ea7(0x240),'GaIjm':_0x5a9ea7(0x277),'kJiHa':function(_0x6c7a09,_0x296d25){return _0x6c7a09>=_0x296d25;},'XPIUC':function(_0x1250f9,_0x3f2bbf){return _0x1250f9!==_0x3f2bbf;},'cPsHq':function(_0x1cb1ff,_0xca07f8){return _0x1cb1ff-_0xca07f8;},'FacWf':_0x5a9ea7(0x1f5),'rQuTJ':_0x5a9ea7(0x274),'jwWut':function(_0x4fc915,_0x32f680,_0x3e495b){return _0x4fc915(_0x32f680,_0x3e495b);}},_0x2e6131=this['getLogTag'](_0x1ff895);_0x1b7d2c[_0x5a9ea7(0x1f4)](trace,_0x5a9ea7(0x22f)+_0x1ff895['event_type']+'\x27\x20'+(bsSetupHelper[_0x5a9ea7(0x209)](_0x1ff895,[_0x1b7d2c[_0x5a9ea7(0x282)],_0x1b7d2c[_0x5a9ea7(0x284)]])||bsSetupHelper[_0x5a9ea7(0x209)](_0x1ff895,[_0x1b7d2c[_0x5a9ea7(0x20d)],_0x1b7d2c['OdRCb']])));if(!_0x1b7d2c[_0x5a9ea7(0x258)](shouldProcessEventForTesthub,_0x1ff895[_0x5a9ea7(0x291)],_0x1b7d2c[_0x5a9ea7(0x249)]))return;_0x1b7d2c[_0x5a9ea7(0x23c)](_0x560bbb,0x0)&&process[_0x5a9ea7(0x24d)]['BROWSERSTACK_TESTHUB_JWT']&&_0x1b7d2c[_0x5a9ea7(0x257)](process['env'][_0x5a9ea7(0x264)],_0x1b7d2c[_0x5a9ea7(0x1ef)])&&(this[_0x5a9ea7(0x1f2)][_0x5a9ea7(0x24a)]+=0x1);if(_0x1b7d2c[_0x5a9ea7(0x1f9)](process['env'][_0x5a9ea7(0x263)],_0x1b7d2c[_0x5a9ea7(0x22b)])||process[_0x5a9ea7(0x24d)]['BS_A11Y_JWT']||_0x1b7d2c['HwqrO'](isPercyBuild)){if(_0x1b7d2c[_0x5a9ea7(0x23c)](process[_0x5a9ea7(0x24d)][_0x5a9ea7(0x264)],_0x1b7d2c[_0x5a9ea7(0x1ef)])){_0x1b7d2c['BBfZM'](debug,_0x5a9ea7(0x252)+_0x2e6131+_0x5a9ea7(0x262)),this[_0x5a9ea7(0x1f2)][_0x5a9ea7(0x24a)]=Math[_0x5a9ea7(0x200)](0x0,_0x1b7d2c[_0x5a9ea7(0x250)](this[_0x5a9ea7(0x1f2)]['pendingUploads'],0x1));const _0x481a6e={};return _0x481a6e[_0x5a9ea7(0x295)]=_0x1b7d2c['wvFnG'],_0x481a6e[_0x5a9ea7(0x212)]=_0x1b7d2c[_0x5a9ea7(0x276)],_0x481a6e;}return await this[_0x5a9ea7(0x1ea)](_0x1ff895,_0x560bbb);}else{if(_0x1b7d2c[_0x5a9ea7(0x246)](_0x560bbb,0x5)){_0x1b7d2c[_0x5a9ea7(0x1f4)](debug,_0x5a9ea7(0x252)+_0x2e6131+_0x5a9ea7(0x228)+_0x2e6131+_0x5a9ea7(0x20e));_0x1b7d2c[_0x5a9ea7(0x201)](process['env'][_0x5a9ea7(0x264)],_0x1b7d2c[_0x5a9ea7(0x1ef)])&&(this['requestQueueHandler'][_0x5a9ea7(0x24a)]=Math['max'](0x0,_0x1b7d2c[_0x5a9ea7(0x24b)](this[_0x5a9ea7(0x1f2)][_0x5a9ea7(0x24a)],0x1)));const _0x4eeb38={};return _0x4eeb38['status']=_0x1b7d2c['wvFnG'],_0x4eeb38[_0x5a9ea7(0x212)]=_0x1b7d2c['FacWf'],_0x4eeb38;}else _0x1b7d2c[_0x5a9ea7(0x257)](process[_0x5a9ea7(0x24d)]['BS_TESTOPS_BUILD_COMPLETED'],_0x1b7d2c[_0x5a9ea7(0x251)])&&_0x1b7d2c[_0x5a9ea7(0x20c)](setTimeout,()=>{const _0x5892fd=_0x5a9ea7;this[_0x5892fd(0x24e)](_0x1ff895,_0x1b7d2c[_0x5892fd(0x1fb)](_0x560bbb,0x1));},0x3e8);}}}module[a116_0x4af373(0x248)]=SessionHandler;