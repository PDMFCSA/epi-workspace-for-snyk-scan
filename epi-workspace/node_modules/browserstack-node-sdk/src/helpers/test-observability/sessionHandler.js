const a129_0x366540=a129_0x6db6;(function(_0x151ef4,_0x4d6af8){const _0x13dc07=a129_0x6db6,_0x27fd35=_0x151ef4();while(!![]){try{const _0x998603=-parseInt(_0x13dc07(0x110))/0x1+-parseInt(_0x13dc07(0x8c))/0x2*(parseInt(_0x13dc07(0xca))/0x3)+-parseInt(_0x13dc07(0xa9))/0x4+parseInt(_0x13dc07(0x13c))/0x5*(parseInt(_0x13dc07(0x111))/0x6)+-parseInt(_0x13dc07(0xa1))/0x7*(parseInt(_0x13dc07(0xc0))/0x8)+parseInt(_0x13dc07(0x10c))/0x9+parseInt(_0x13dc07(0xc7))/0xa;if(_0x998603===_0x4d6af8)break;else _0x27fd35['push'](_0x27fd35['shift']());}catch(_0xdc1056){_0x27fd35['push'](_0x27fd35['shift']());}}}(a129_0x42ab,0xac71a));function a129_0x6db6(_0x4af2fc,_0x400647){const _0x42ab88=a129_0x42ab();return a129_0x6db6=function(_0x6db668,_0x2c7f3d){_0x6db668=_0x6db668-0x81;let _0x528393=_0x42ab88[_0x6db668];return _0x528393;},a129_0x6db6(_0x4af2fc,_0x400647);}const bsSetupHelper=require(a129_0x366540(0xa3)),path=require(a129_0x366540(0x128)),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require(a129_0x366540(0x108)),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require(a129_0x366540(0x124)),RequestQueueHandler=require(a129_0x366540(0x11a)),logger=require('../logger')['winstonLogger'],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require(a129_0x366540(0x82)),util=require('util'),constants=require(a129_0x366540(0xa0));function a129_0x42ab(){const _0x402885=['test_run_uuid','logs','BS_A11Y_JWT','Authorization','Hook_Start_Upload',']\x20event\x20successful!','test_run','getAccessKey','Processing\x20event\x20-\x20\x27','oKRGc','sYFmD','HookRunStarted','inspect','resolve','mYeoU','KZEaT','kItKa','pendingUploads','XJYtP','IXIYG','errorType','null','jwt','buildDescription','xRZTI','hrUVB','GioJq','data','elhNK','rIzwM','password','waitForBuildStatus','JETyZ','format','ORVGt','myBTd','CREDENTIALS_FOR_CRASH_REPORTING','uCgwx','BROWSERSTACK_RERUN','length','./utils','success','X-BSTACK-TESTOPS','Test_End_Upload','5246406XrbXmZ','PgIbW','VMxBz','\x20retry\x20runs\x20exceeded','1283863FoTDfI','427164XIImoH','BS_TESTOPS_JWT','Batch-Queue','fBqQA','Test_Start_Upload','ajdYA','NcMxT','pzvps','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','./requestQueueHandler','POST','gtntA','browserstackAutomation','status','tyDhF','eventUrl','yXlMg','exports','htqbA','./constants','BS_TESTOPS_BUILD_COMPLETED','wzspF','requestQueueHandler','path','CBT_Upload','BS_TESTOPS_ALLOW_SCREENSHOTS','getLogTag','bTAoT','cuvYP','Content-Type','Gakqe','uploadEventData','headers','TestRunFinished','BROWSERSTACK_BUILD_RUN_IDENTIFIER','LywPL','iiGZk','toISOString','xWXKy','zoYWf','add','sdhYn','BROWSERSTACK_TESTHUB_UUID','65sRCXMF','kCksc','kjjoI','username','PBfgA','../../helpers/testhub/utils','includes','Hook_End_Upload','json','api/v1/event','\x20REQUEST\x20TO\x20','application/json','xWsVM','SDply','info','1285442uGVVMh','getHostInfo','CHVBX','Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20','vizGW','frameworkVersion','RJqax','KeRtn','sendEventData','env','okfaB','ZDzsk','max','BS_TESTOPS_BUILD_HASHED_ID','vbuIe','LogCreated','response','\x20:\x20','cZmqU','true','../../bin/utils/constants','128023rxvDug','JYRuq','../helper','jbhhr','app','wtcIj','Data\x20upload\x20to\x20BrowserStack\x20','ERROR_INVALID_CREDENTIALS','3501932IJZAVR','getAgentVersion','Log_Upload','qrckO','build_hashed_id','event_type','tPUJg','launch','tQMdt','Ckzpu','error','MdswA','Sending\x20trace\x20zip\x20for\x20test:\x20','Build\x20creation\x20successful!','allow_screenshots','stringify','uuid','false','wJAIp','start','nRPqt','sendTraceZip','projectName','304QNmDif','BROWSERSTACK_TESTHUB_JWT','EXCEPTION\x20IN\x20','JAyNA','sAjqF','Test_Skipped_Upload','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','26949230RwUlcy','buildIdentifier','jHUsX','3tlEmTy','statusText','hook_run','pePCL','\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','VbDwN','message','\x20failed\x20due\x20to\x20','mwBtP','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20','getGitMetaData','CBTSessionCreated','api/v1/builds','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','Bearer\x20','basename','TEST_REPORTING_ANALYTICS','ODDlU','wiQKC','getCiInfo','nestedKeyValue','debug'];a129_0x42ab=function(){return _0x402885;};return a129_0x42ab();}class SessionHandler{static [a129_0x366540(0x127)]=RequestQueueHandler['getInstance']();static async[a129_0x366540(0xb0)](_0x4a0d01,_0x2b86e3){const _0x22f947=a129_0x366540,_0x3d7827={'kCksc':function(_0x13d63a,_0x12a350){return _0x13d63a||_0x12a350;},'Jrjzg':function(_0x4eeca7,_0x43fb44){return _0x4eeca7===_0x43fb44;},'wJAIp':function(_0x8e21c,_0x32f96d){return _0x8e21c(_0x32f96d);},'jHUsX':_0x22f947(0xc6),'vbuIe':_0x22f947(0xba),'fBqQA':_0x22f947(0x85),'tPUJg':function(_0x31e18d,_0x4c38fc){return _0x31e18d(_0x4c38fc);},'sdhYn':function(_0x457c94,_0x4727c1){return _0x457c94(_0x4727c1);},'PgIbW':function(_0x1e0798,_0x1ac2a1,_0x222202,_0x4c4a21,_0x10f33e){return _0x1e0798(_0x1ac2a1,_0x222202,_0x4c4a21,_0x10f33e);},'sAjqF':_0x22f947(0x11b),'JETyZ':_0x22f947(0xd6),'Ckzpu':function(_0x1a9e37,_0x437e6f){return _0x1a9e37(_0x437e6f);},'XJYtP':_0x22f947(0xb6),'JYRuq':function(_0x33ee1d){return _0x33ee1d();},'ODDlU':'true','xWXKy':'null','SDply':function(_0x14e659,_0x33965a){return _0x14e659(_0x33965a);},'ajdYA':_0x22f947(0xa8),'gtntA':'ERROR_ACCESS_DENIED','cNzFd':'ERROR_SDK_DEPRECATED'};logger[_0x22f947(0x8b)]('Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20'+util[_0x22f947(0xec)](_0x4a0d01));const _0x50874f=bsSetupHelper['getUserName'](_0x4a0d01),_0x31371f=bsSetupHelper[_0x22f947(0xe7)](_0x4a0d01),_0x4a0694=_0x3d7827[_0x22f947(0x13d)](_0x50874f,'')+':'+_0x3d7827[_0x22f947(0x13d)](_0x31371f,'');if(_0x3d7827['Jrjzg'](_0x4a0694,':'))return _0x3d7827[_0x22f947(0xbb)](debug,_0x3d7827[_0x22f947(0xc9)]),process[_0x22f947(0x95)]['BS_TESTOPS_BUILD_COMPLETED']=_0x3d7827[_0x22f947(0x9a)],[null,null];let _0x22e465=![],_0x181bab=![];if(_0x4a0d01[_0x22f947(0x11d)]&&_0x4a0d01[_0x22f947(0xa5)])_0x181bab=!![];else _0x4a0d01['browserstackAutomation']&&(_0x22e465=!![]);try{const _0x825fee={'format':_0x3d7827[_0x22f947(0x114)],'project_name':_0x4a0d01[_0x22f947(0xbf)]||'','name':_0x4a0d01['buildName']||path[_0x22f947(0xd9)](path[_0x22f947(0xed)](process['cwd']())),'build_identifier':_0x4a0d01[_0x22f947(0xc8)],'description':_0x4a0d01[_0x22f947(0xf7)]||'','start_time':new Date()[_0x22f947(0x136)](),'tags':_0x3d7827[_0x22f947(0xaf)](getCustomTags,_0x4a0d01),'host_info':bsSetupHelper[_0x22f947(0x8d)](),'ci_info':bsSetupHelper[_0x22f947(0xdd)](),'build_run_identifier':process['env'][_0x22f947(0x133)],'failed_tests_rerun':process['env'][_0x22f947(0x106)]||![],'version_control':await bsSetupHelper[_0x22f947(0xd4)](),'observability_version':{'frameworkName':_0x2b86e3['frameworkName'],'frameworkVersion':_0x2b86e3[_0x22f947(0x91)],'sdkVersion':bsSetupHelper[_0x22f947(0xaa)]()},'product_map':_0x3d7827['tPUJg'](getProductMap,_0x4a0d01),'test_orchestration':_0x3d7827[_0x22f947(0xbb)](getTestOrchestrationBuildStartData,_0x4a0d01)},_0xb64721={};_0xb64721[_0x22f947(0x13f)]=_0x50874f,_0xb64721[_0x22f947(0xfe)]=_0x31371f;const _0x271e0c={'auth':_0xb64721,'headers':_0x3d7827[_0x22f947(0x13a)](getDefaultHeaders,![])},_0x5045cb=await _0x3d7827[_0x22f947(0x10d)](nodeRequest,_0x3d7827[_0x22f947(0xc4)],_0x3d7827[_0x22f947(0x100)],_0x825fee,_0x271e0c);_0x3d7827[_0x22f947(0xb2)](debug,_0x3d7827[_0x22f947(0xf2)]);const _0x5f4e00=_0x5045cb[_0x22f947(0xfb)];_0x5f4e00['build_hashed_id']&&(process[_0x22f947(0x95)]['BROWSERSTACK_TESTHUB_UUID']=_0x5f4e00[_0x22f947(0xad)]);if(_0x3d7827[_0x22f947(0xa2)](isTestObservabilitySession)){process[_0x22f947(0x95)][_0x22f947(0x125)]=_0x3d7827[_0x22f947(0xdb)];if(_0x5f4e00[_0x22f947(0xf6)]){process[_0x22f947(0x95)][_0x22f947(0x112)]=_0x5f4e00[_0x22f947(0xf6)];const _0x27ed35={};_0x27ed35['username']=_0x50874f,_0x27ed35[_0x22f947(0xfe)]=_0x31371f,process[_0x22f947(0x95)][_0x22f947(0x104)]=JSON[_0x22f947(0xb8)](_0x27ed35);}_0x5f4e00[_0x22f947(0xad)]&&(process[_0x22f947(0x95)][_0x22f947(0x99)]=_0x5f4e00[_0x22f947(0xad)]),_0x5f4e00[_0x22f947(0xb7)]&&(process[_0x22f947(0x95)][_0x22f947(0x12a)]=_0x5f4e00[_0x22f947(0xb7)]['toString']());}return[_0x5045cb[_0x22f947(0xfb)]['jwt'],_0x5045cb[_0x22f947(0xfb)][_0x22f947(0xad)],_0x5045cb[_0x22f947(0xfb)][_0x22f947(0xb7)]];}catch(_0x3ca934){process[_0x22f947(0x95)][_0x22f947(0x13b)]=_0x3d7827[_0x22f947(0x137)],process['env'][_0x22f947(0x125)]=_0x3d7827[_0x22f947(0x9a)],process[_0x22f947(0x95)][_0x22f947(0x112)]=_0x3d7827[_0x22f947(0x137)],process[_0x22f947(0x95)][_0x22f947(0x99)]=_0x3d7827['xWXKy'],process[_0x22f947(0x95)][_0x22f947(0x12a)]=_0x3d7827[_0x22f947(0x137)];_0x3ca934[_0x22f947(0x9c)]?_0x3d7827[_0x22f947(0x13a)](debug,_0x22f947(0xd7)+_0x3ca934[_0x22f947(0x9c)][_0x22f947(0x11e)]+'\x20'+_0x3ca934['response']['statusText']+'\x20'+JSON['stringify'](_0x3ca934['response'][_0x22f947(0xfb)])):_0x3d7827[_0x22f947(0x8a)](debug,_0x22f947(0xd7)+(_0x3ca934[_0x22f947(0xd0)]||_0x3ca934));if(_0x3ca934&&_0x3ca934[_0x22f947(0xd0)]){const _0x140e86=_0x3ca934['message'];switch(_0x3ca934[_0x22f947(0xf4)]){case _0x3d7827[_0x22f947(0x116)]:logger['error'](_0x140e86);break;case _0x3d7827[_0x22f947(0x11c)]:logger[_0x22f947(0x8b)](_0x140e86);break;case _0x3d7827['cNzFd']:logger['error'](_0x140e86);break;default:logger['error'](_0x140e86);}}else console[_0x22f947(0x8b)](_0x22f947(0xa7)+constants[_0x22f947(0xda)]+_0x22f947(0xd1)+_0x3ca934);return[null,null,null];}}static async[a129_0x366540(0xff)](){const _0x1ac63e=a129_0x366540,_0x1bc0a0={'NcMxT':_0x1ac63e(0x9f),'vizGW':_0x1ac63e(0xba),'bTAoT':function(_0x428988,_0x3d70e1){return _0x428988(_0x3d70e1);}},_0x226900=process[_0x1ac63e(0x95)][_0x1ac63e(0x125)];if([_0x1bc0a0['NcMxT'],_0x1bc0a0['vizGW']][_0x1ac63e(0x83)](_0x226900))return;while([_0x1bc0a0[_0x1ac63e(0x117)],_0x1bc0a0[_0x1ac63e(0x90)]][_0x1ac63e(0x83)](_0x226900)){await _0x1bc0a0[_0x1ac63e(0x12c)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static['getLogTag'](_0x561a1b){const _0x4f7331=a129_0x366540,_0x3316b3={};_0x3316b3[_0x4f7331(0x9e)]=_0x4f7331(0x115),_0x3316b3[_0x4f7331(0xf8)]=_0x4f7331(0x10b),_0x3316b3[_0x4f7331(0xf9)]=_0x4f7331(0xc5),_0x3316b3[_0x4f7331(0x93)]=_0x4f7331(0xab),_0x3316b3[_0x4f7331(0xa4)]=_0x4f7331(0xe4),_0x3316b3[_0x4f7331(0x102)]=_0x4f7331(0x84),_0x3316b3[_0x4f7331(0x11f)]=_0x4f7331(0x129);const _0x48523c=_0x3316b3,_0x284a18={};return _0x284a18['TestRunStarted']=_0x48523c[_0x4f7331(0x9e)],_0x284a18[_0x4f7331(0x132)]=_0x48523c[_0x4f7331(0xf8)],_0x284a18['TestRunSkipped']=_0x48523c['hrUVB'],_0x284a18[_0x4f7331(0x9b)]=_0x48523c['KeRtn'],_0x284a18[_0x4f7331(0xeb)]=_0x48523c[_0x4f7331(0xa4)],_0x284a18['HookRunFinished']=_0x48523c[_0x4f7331(0x102)],_0x284a18[_0x4f7331(0xd5)]=_0x48523c[_0x4f7331(0x11f)],_0x284a18[_0x561a1b[_0x4f7331(0xae)]];}static async['sendEventData'](_0x88d0,_0x57ae3a=0x0,_0x6dfbd5=null){const _0xac748a=a129_0x366540,_0x324506={'JAyNA':function(_0x433cbc,_0x58a88e){return _0x433cbc===_0x58a88e;},'xWsVM':_0xac748a(0xbe),'uCgwx':function(_0x3b3e3b,_0x3e480a){return _0x3b3e3b!==_0x3e480a;},'htqbA':_0xac748a(0x88),'kItKa':_0xac748a(0x9f),'wiQKC':function(_0x400c8f,_0x3b78e3){return _0x400c8f===_0x3b78e3;},'qrckO':function(_0x31e409,_0x435ed2,_0x48247f,_0x2f8809,_0x5ad1cf){return _0x31e409(_0x435ed2,_0x48247f,_0x2f8809,_0x5ad1cf);},'mwBtP':'POST','yXlMg':function(_0x3c256d,_0x280cb5){return _0x3c256d(_0x280cb5);},'PBfgA':_0xac748a(0x113),'tQMdt':function(_0x4772d1,_0x38774e){return _0x4772d1-_0x38774e;},'mYeoU':_0xac748a(0x86),'Gakqe':_0xac748a(0x109),'GioJq':function(_0x536b53,_0x39e33b){return _0x536b53(_0x39e33b);},'ZDzsk':function(_0x5e758d,_0x59d47a){return _0x5e758d!==_0x59d47a;},'RJqax':function(_0x3c75ec,_0x22850f){return _0x3c75ec===_0x22850f;},'iiGZk':_0xac748a(0xb3)};_0x324506[_0xac748a(0xc3)](_0x6dfbd5,_0x324506['xWsVM'])&&logger[_0xac748a(0xdf)](_0xac748a(0xb5)+_0x88d0['logs'][0x0][_0xac748a(0xe0)]);const _0x46e4e3=await this[_0xac748a(0x12b)](_0x88d0);let _0x3a4e6f=_0x88d0,_0x17821c=EVENT_ENDPOINT;_0x324506['uCgwx'](_0x6dfbd5,_0x324506[_0xac748a(0x89)])&&this['requestQueueHandler'][_0xac748a(0xbc)]();const {shouldProceed:_0x3bfba9,proceedWithData:_0x298c03,proceedWithUrl:_0x3ee1e8}=this[_0xac748a(0x127)][_0xac748a(0x139)](_0x88d0);if(!_0x3bfba9)return;else _0x298c03&&(_0x3a4e6f=_0x298c03,_0x17821c=_0x3ee1e8);const _0x82a9e3={};_0x82a9e3[_0xac748a(0xe3)]=_0xac748a(0xd8)+process[_0xac748a(0x95)][_0xac748a(0xc1)],_0x82a9e3[_0xac748a(0x12e)]=_0x324506[_0xac748a(0x123)],_0x82a9e3[_0xac748a(0x10a)]=_0x324506[_0xac748a(0xf0)];const _0x1434e7={};_0x1434e7[_0xac748a(0x131)]=_0x82a9e3;const _0x4bebfd=_0x1434e7;let _0x587e19;try{_0x324506[_0xac748a(0xdc)](_0x6dfbd5,_0x324506[_0xac748a(0x89)])?(logger[_0xac748a(0xdf)](_0xac748a(0x8f)+_0x88d0?.[_0xac748a(0xe1)][0x0]?.['test_run_uuid']),_0x587e19=await _0x324506[_0xac748a(0xac)](asyncAwaitNodeReq,_0x324506[_0xac748a(0xd2)],_0x17821c,_0x3a4e6f,_0x4bebfd),logger[_0xac748a(0xdf)](_0xac748a(0xd3)+_0x88d0?.[_0xac748a(0xe1)][0x0]?.[_0xac748a(0xe0)])):_0x587e19=await _0x324506[_0xac748a(0xac)](nodeRequest,_0x324506['mwBtP'],_0x17821c,_0x3a4e6f,_0x4bebfd);if(_0x587e19[_0xac748a(0xfb)]['error']){const _0x565d09={};_0x565d09[_0xac748a(0xd0)]=_0x587e19[_0xac748a(0xfb)][_0xac748a(0xb3)];throw _0x565d09;}else{_0x324506[_0xac748a(0x121)](debug,(_0x324506[_0xac748a(0x105)](_0x17821c,this['requestQueueHandler'][_0xac748a(0x120)])?_0x46e4e3:_0x324506[_0xac748a(0x81)])+'['+_0x57ae3a+_0xac748a(0xe5)),this[_0xac748a(0x127)]['pendingUploads']=Math['max'](0x0,_0x324506[_0xac748a(0xb1)](this[_0xac748a(0x127)][_0xac748a(0xf1)],_0x324506[_0xac748a(0xc3)](_0x17821c,_0x324506['mYeoU'])?0x1:_0x3a4e6f['length']));const _0x210511={};return _0x210511[_0xac748a(0x11e)]=_0x324506[_0xac748a(0x12f)],_0x210511[_0xac748a(0xd0)]='',_0x210511;}}catch(_0x57fe16){_0x57fe16[_0xac748a(0x9c)]?_0x324506[_0xac748a(0xfa)](debug,_0xac748a(0xc2)+(_0x324506['ZDzsk'](_0x17821c,this[_0xac748a(0x127)]['eventUrl'])?_0x46e4e3:_0x324506[_0xac748a(0x81)])+_0xac748a(0x87)+constants[_0xac748a(0xda)]+'\x20:\x20'+_0x57fe16[_0xac748a(0x9c)][_0xac748a(0x11e)]+'\x20'+_0x57fe16[_0xac748a(0x9c)][_0xac748a(0xcb)]+'\x20'+util[_0xac748a(0x101)](_0x57fe16['response'][_0xac748a(0xfb)])):_0x324506[_0xac748a(0xfa)](debug,_0xac748a(0xc2)+(_0x324506[_0xac748a(0x97)](_0x17821c,this['requestQueueHandler'][_0xac748a(0x120)])?_0x46e4e3:_0x324506[_0xac748a(0x81)])+_0xac748a(0x87)+constants[_0xac748a(0xda)]+_0xac748a(0x9d)+util['format'](_0x57fe16));this[_0xac748a(0x127)][_0xac748a(0xf1)]=Math[_0xac748a(0x98)](0x0,_0x324506[_0xac748a(0xb1)](this[_0xac748a(0x127)][_0xac748a(0xf1)],_0x324506[_0xac748a(0x92)](_0x17821c,_0x324506[_0xac748a(0xee)])?0x1:_0x3a4e6f[_0xac748a(0x107)]));const _0x532265={};return _0x532265[_0xac748a(0x11e)]=_0x324506[_0xac748a(0x135)],_0x532265['message']=_0x57fe16[_0xac748a(0xd0)]||(_0x57fe16['response']?_0x57fe16['response'][_0xac748a(0x11e)]+':'+_0x57fe16[_0xac748a(0x9c)][_0xac748a(0xcb)]:_0x57fe16),_0x532265;}}static async[a129_0x366540(0x130)](_0x5a2d47,_0x46a203=0x0){const _0xb418d8=a129_0x366540,_0x43cc58={'EBkJZ':function(_0x55f5d8,_0x20f638){return _0x55f5d8+_0x20f638;},'MdswA':function(_0x236106,_0x581f2b){return _0x236106(_0x581f2b);},'LywPL':_0xb418d8(0xe6),'kjjoI':_0xb418d8(0xb9),'elhNK':_0xb418d8(0xcc),'zoYWf':function(_0x43037f,_0x59fdc4,_0x281e66){return _0x43037f(_0x59fdc4,_0x281e66);},'CHVBX':_0xb418d8(0x130),'wtcIj':function(_0x55b14e,_0xf8330d){return _0x55b14e===_0xf8330d;},'wzspF':function(_0x2d9b3c,_0x21f989){return _0x2d9b3c!==_0x21f989;},'okfaB':_0xb418d8(0xf5),'sYFmD':function(_0x1e78b6,_0x217f44){return _0x1e78b6===_0x217f44;},'cuvYP':_0xb418d8(0x9f),'kKKXv':function(_0x59c3cd){return _0x59c3cd();},'VbDwN':function(_0xb1b098,_0x236dec){return _0xb1b098===_0x236dec;},'pzvps':function(_0x17d449,_0x245daf){return _0x17d449(_0x245daf);},'nRPqt':function(_0x1e552e,_0x1d38d4){return _0x1e552e-_0x1d38d4;},'VMxBz':_0xb418d8(0xb3),'rIzwM':_0xb418d8(0x119),'KZEaT':function(_0x54d3a7,_0x20c51c){return _0x54d3a7>=_0x20c51c;},'IXIYG':function(_0x4fd0b0,_0x253c74){return _0x4fd0b0(_0x253c74);},'pePCL':function(_0x599dec,_0x3de346){return _0x599dec-_0x3de346;},'myBTd':'Retry\x20runs\x20exceeded','gYbub':function(_0x1490df,_0x1e2bbd){return _0x1490df!==_0x1e2bbd;},'JfoJH':_0xb418d8(0xba),'oKRGc':function(_0x2eaedb,_0xca3983,_0x59bd14){return _0x2eaedb(_0xca3983,_0x59bd14);}},_0x1ef81d=this[_0xb418d8(0x12b)](_0x5a2d47);_0x43cc58[_0xb418d8(0xb4)](trace,_0xb418d8(0xe8)+_0x5a2d47[_0xb418d8(0xae)]+'\x27\x20'+(bsSetupHelper[_0xb418d8(0xde)](_0x5a2d47,[_0x43cc58[_0xb418d8(0x134)],_0x43cc58[_0xb418d8(0x13e)]])||bsSetupHelper['nestedKeyValue'](_0x5a2d47,[_0x43cc58[_0xb418d8(0xfc)],_0x43cc58[_0xb418d8(0x13e)]])));if(!_0x43cc58[_0xb418d8(0x138)](shouldProcessEventForTesthub,_0x5a2d47[_0xb418d8(0xae)],_0x43cc58[_0xb418d8(0x8e)]))return;_0x43cc58[_0xb418d8(0xa6)](_0x46a203,0x0)&&process[_0xb418d8(0x95)][_0xb418d8(0xc1)]&&_0x43cc58['wzspF'](process['env']['BROWSERSTACK_TESTHUB_JWT'],_0x43cc58[_0xb418d8(0x96)])&&(this[_0xb418d8(0x127)][_0xb418d8(0xf1)]+=0x1);if(_0x43cc58[_0xb418d8(0xea)](process[_0xb418d8(0x95)]['BS_TESTOPS_BUILD_COMPLETED'],_0x43cc58[_0xb418d8(0x12d)])||process[_0xb418d8(0x95)][_0xb418d8(0xe2)]||_0x43cc58['kKKXv'](isPercyBuild)){if(_0x43cc58[_0xb418d8(0xcf)](process[_0xb418d8(0x95)]['BROWSERSTACK_TESTHUB_JWT'],_0x43cc58[_0xb418d8(0x96)])){_0x43cc58[_0xb418d8(0x118)](debug,_0xb418d8(0xc2)+_0x1ef81d+_0xb418d8(0x87)+constants[_0xb418d8(0xda)]+'\x20:\x20missing\x20authentication\x20token'),this[_0xb418d8(0x127)][_0xb418d8(0xf1)]=Math[_0xb418d8(0x98)](0x0,_0x43cc58[_0xb418d8(0xbd)](this[_0xb418d8(0x127)][_0xb418d8(0xf1)],0x1));const _0x166eca={};return _0x166eca[_0xb418d8(0x11e)]=_0x43cc58[_0xb418d8(0x10e)],_0x166eca[_0xb418d8(0xd0)]=_0x43cc58[_0xb418d8(0xfd)],_0x166eca;}return await this[_0xb418d8(0x94)](_0x5a2d47,_0x46a203);}else{if(_0x43cc58[_0xb418d8(0xef)](_0x46a203,0x5)){_0x43cc58[_0xb418d8(0xf3)](debug,_0xb418d8(0xc2)+_0x1ef81d+_0xb418d8(0x87)+constants[_0xb418d8(0xda)]+_0xb418d8(0xce)+_0x1ef81d+_0xb418d8(0x10f));_0x43cc58[_0xb418d8(0x126)](process[_0xb418d8(0x95)][_0xb418d8(0xc1)],_0x43cc58[_0xb418d8(0x96)])&&(this[_0xb418d8(0x127)]['pendingUploads']=Math['max'](0x0,_0x43cc58[_0xb418d8(0xcd)](this[_0xb418d8(0x127)]['pendingUploads'],0x1)));const _0x3bfada={};return _0x3bfada['status']=_0x43cc58[_0xb418d8(0x10e)],_0x3bfada['message']=_0x43cc58[_0xb418d8(0x103)],_0x3bfada;}else _0x43cc58['gYbub'](process[_0xb418d8(0x95)][_0xb418d8(0x125)],_0x43cc58['JfoJH'])&&_0x43cc58[_0xb418d8(0xe9)](setTimeout,()=>{const _0x245c33=_0xb418d8;this[_0x245c33(0x130)](_0x5a2d47,_0x43cc58['EBkJZ'](_0x46a203,0x1));},0x3e8);}}}module[a129_0x366540(0x122)]=SessionHandler;