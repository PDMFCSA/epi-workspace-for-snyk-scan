const a129_0x10552c=a129_0x133c;(function(_0x4752db,_0x88012b){const _0x31c7dc=a129_0x133c,_0x2508f3=_0x4752db();while(!![]){try{const _0x307f8b=-parseInt(_0x31c7dc(0x210))/0x1+-parseInt(_0x31c7dc(0x223))/0x2*(parseInt(_0x31c7dc(0x242))/0x3)+-parseInt(_0x31c7dc(0x25e))/0x4*(parseInt(_0x31c7dc(0x1ca))/0x5)+-parseInt(_0x31c7dc(0x1c9))/0x6*(parseInt(_0x31c7dc(0x1fa))/0x7)+parseInt(_0x31c7dc(0x1d7))/0x8*(-parseInt(_0x31c7dc(0x22e))/0x9)+parseInt(_0x31c7dc(0x1e6))/0xa*(parseInt(_0x31c7dc(0x266))/0xb)+-parseInt(_0x31c7dc(0x262))/0xc*(-parseInt(_0x31c7dc(0x22f))/0xd);if(_0x307f8b===_0x88012b)break;else _0x2508f3['push'](_0x2508f3['shift']());}catch(_0x557499){_0x2508f3['push'](_0x2508f3['shift']());}}}(a129_0x14fe,0xea81b));const bsSetupHelper=require('../helper'),path=require('path'),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require('./utils'),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require(a129_0x10552c(0x212)),RequestQueueHandler=require(a129_0x10552c(0x23e)),logger=require(a129_0x10552c(0x201))[a129_0x10552c(0x26d)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require(a129_0x10552c(0x258)),util=require('util'),constants=require(a129_0x10552c(0x252));function a129_0x133c(_0x1ecebd,_0x147979){const _0x14fe88=a129_0x14fe();return a129_0x133c=function(_0x133ce3,_0x56c695){_0x133ce3=_0x133ce3-0x1c8;let _0x4b25fb=_0x14fe88[_0x133ce3];return _0x4b25fb;},a129_0x133c(_0x1ecebd,_0x147979);}class SessionHandler{static [a129_0x10552c(0x267)]=RequestQueueHandler['getInstance']();static async['launch'](_0x4c35a6,_0x8fd5cf){const _0x4a3886=a129_0x10552c,_0x75b071={'vvQBa':function(_0x1adf7d,_0x57012f){return _0x1adf7d||_0x57012f;},'yloiW':function(_0xe9446d,_0x44f1e2){return _0xe9446d===_0x44f1e2;},'FMIJI':function(_0x1a6e63,_0x4e0460){return _0x1a6e63(_0x4e0460);},'SfYlX':_0x4a3886(0x256),'sqwGl':_0x4a3886(0x245),'aRSyV':_0x4a3886(0x1db),'DdyXV':function(_0x2f9a5b,_0x391af9){return _0x2f9a5b(_0x391af9);},'oLlPs':function(_0x44f825,_0x51984c,_0x216cf3,_0x577994,_0x33efd9){return _0x44f825(_0x51984c,_0x216cf3,_0x577994,_0x33efd9);},'VjpFC':_0x4a3886(0x1d9),'sUjNz':_0x4a3886(0x1d5),'IoxgM':function(_0x140163,_0x1aced7){return _0x140163(_0x1aced7);},'VzEgc':_0x4a3886(0x24c),'RqsMr':function(_0x192ba3){return _0x192ba3();},'UNKTb':'true','afrNd':'null','ZgyTv':function(_0x346479,_0x4e8fe1){return _0x346479(_0x4e8fe1);},'yAFaj':_0x4a3886(0x240),'EGOSK':_0x4a3886(0x23d),'rHiLY':'ERROR_SDK_DEPRECATED'};logger[_0x4a3886(0x1da)]('Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20'+util[_0x4a3886(0x1e5)](_0x4c35a6));const _0x4eb568=bsSetupHelper[_0x4a3886(0x1e2)](_0x4c35a6),_0x3f4f45=bsSetupHelper['getAccessKey'](_0x4c35a6),_0x469553=_0x75b071[_0x4a3886(0x23f)](_0x4eb568,'')+':'+_0x75b071[_0x4a3886(0x23f)](_0x3f4f45,'');if(_0x75b071[_0x4a3886(0x238)](_0x469553,':'))return _0x75b071[_0x4a3886(0x25f)](debug,_0x75b071[_0x4a3886(0x230)]),process[_0x4a3886(0x239)][_0x4a3886(0x236)]=_0x75b071[_0x4a3886(0x24b)],[null,null];let _0x598fcb=![],_0x5c4461=![];if(_0x4c35a6[_0x4a3886(0x269)]&&_0x4c35a6[_0x4a3886(0x21c)])_0x5c4461=!![];else _0x4c35a6[_0x4a3886(0x269)]&&(_0x598fcb=!![]);try{const _0x47eead={'format':_0x75b071['aRSyV'],'project_name':_0x4c35a6[_0x4a3886(0x224)]||'','name':_0x4c35a6[_0x4a3886(0x259)]||path[_0x4a3886(0x1df)](path['resolve'](process[_0x4a3886(0x264)]())),'build_identifier':_0x4c35a6[_0x4a3886(0x246)],'description':_0x4c35a6['buildDescription']||'','start_time':new Date()[_0x4a3886(0x265)](),'tags':_0x75b071[_0x4a3886(0x25f)](getCustomTags,_0x4c35a6),'host_info':bsSetupHelper[_0x4a3886(0x21e)](),'ci_info':bsSetupHelper[_0x4a3886(0x221)](),'build_run_identifier':process[_0x4a3886(0x239)][_0x4a3886(0x207)],'failed_tests_rerun':process[_0x4a3886(0x239)][_0x4a3886(0x205)]||![],'version_control':await bsSetupHelper['getGitMetaData'](),'observability_version':{'frameworkName':_0x8fd5cf[_0x4a3886(0x21b)],'frameworkVersion':_0x8fd5cf[_0x4a3886(0x1ec)],'sdkVersion':bsSetupHelper[_0x4a3886(0x220)]()},'product_map':_0x75b071['DdyXV'](getProductMap,_0x4c35a6),'test_orchestration':_0x75b071[_0x4a3886(0x25f)](getTestOrchestrationBuildStartData,_0x4c35a6)},_0x598a47={};_0x598a47[_0x4a3886(0x204)]=_0x4eb568,_0x598a47[_0x4a3886(0x21a)]=_0x3f4f45;const _0x3998ea={'auth':_0x598a47,'headers':_0x75b071[_0x4a3886(0x25f)](getDefaultHeaders,![])},_0x508919=await _0x75b071[_0x4a3886(0x1e4)](nodeRequest,_0x75b071[_0x4a3886(0x1d0)],_0x75b071['sUjNz'],_0x47eead,_0x3998ea);_0x75b071[_0x4a3886(0x1f8)](debug,_0x75b071[_0x4a3886(0x21f)]);const _0xd179f=_0x508919[_0x4a3886(0x214)];_0xd179f[_0x4a3886(0x229)]&&(process[_0x4a3886(0x239)][_0x4a3886(0x268)]=_0xd179f[_0x4a3886(0x229)]);if(_0x75b071[_0x4a3886(0x23b)](isTestObservabilitySession)){process[_0x4a3886(0x239)][_0x4a3886(0x236)]=_0x75b071[_0x4a3886(0x20f)];if(_0xd179f[_0x4a3886(0x1f6)]){process['env']['BS_TESTOPS_JWT']=_0xd179f[_0x4a3886(0x1f6)];const _0x3a434d={};_0x3a434d[_0x4a3886(0x204)]=_0x4eb568,_0x3a434d[_0x4a3886(0x21a)]=_0x3f4f45,process[_0x4a3886(0x239)][_0x4a3886(0x1d6)]=JSON[_0x4a3886(0x20d)](_0x3a434d);}_0xd179f[_0x4a3886(0x229)]&&(process[_0x4a3886(0x239)]['BS_TESTOPS_BUILD_HASHED_ID']=_0xd179f[_0x4a3886(0x229)]),_0xd179f['allow_screenshots']&&(process[_0x4a3886(0x239)][_0x4a3886(0x222)]=_0xd179f[_0x4a3886(0x23a)]['toString']());}return[_0x508919[_0x4a3886(0x214)]['jwt'],_0x508919[_0x4a3886(0x214)][_0x4a3886(0x229)],_0x508919[_0x4a3886(0x214)][_0x4a3886(0x23a)]];}catch(_0x5e60e3){process['env']['BROWSERSTACK_TESTHUB_UUID']=_0x75b071[_0x4a3886(0x232)],process[_0x4a3886(0x239)]['BS_TESTOPS_BUILD_COMPLETED']=_0x75b071[_0x4a3886(0x24b)],process[_0x4a3886(0x239)][_0x4a3886(0x25c)]=_0x75b071[_0x4a3886(0x232)],process[_0x4a3886(0x239)][_0x4a3886(0x254)]=_0x75b071[_0x4a3886(0x232)],process[_0x4a3886(0x239)][_0x4a3886(0x222)]=_0x75b071[_0x4a3886(0x232)];_0x5e60e3[_0x4a3886(0x1cc)]?_0x75b071[_0x4a3886(0x1ed)](debug,_0x4a3886(0x1d8)+_0x5e60e3[_0x4a3886(0x1cc)][_0x4a3886(0x1ef)]+'\x20'+_0x5e60e3[_0x4a3886(0x1cc)]['statusText']+'\x20'+JSON[_0x4a3886(0x20d)](_0x5e60e3['response']['data'])):_0x75b071[_0x4a3886(0x217)](debug,'EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20'+(_0x5e60e3[_0x4a3886(0x213)]||_0x5e60e3));if(_0x5e60e3&&_0x5e60e3['message']){const _0x17afb1=_0x5e60e3['message'];switch(_0x5e60e3[_0x4a3886(0x1de)]){case _0x75b071[_0x4a3886(0x1fc)]:logger[_0x4a3886(0x22a)](_0x17afb1);break;case _0x75b071[_0x4a3886(0x1f9)]:logger[_0x4a3886(0x1da)](_0x17afb1);break;case _0x75b071['rHiLY']:logger[_0x4a3886(0x22a)](_0x17afb1);break;default:logger[_0x4a3886(0x22a)](_0x17afb1);}}else console['info']('Data\x20upload\x20to\x20BrowserStack\x20'+constants[_0x4a3886(0x208)]+_0x4a3886(0x25a)+_0x5e60e3);return[null,null,null];}}static async['waitForBuildStatus'](){const _0x27cfe0=a129_0x10552c,_0x193983={'KFwfp':_0x27cfe0(0x24f),'IuYbv':_0x27cfe0(0x245),'eWChF':function(_0x50a42c,_0x501eb5){return _0x50a42c(_0x501eb5);}},_0x2fae23=process[_0x27cfe0(0x239)][_0x27cfe0(0x236)];if([_0x193983[_0x27cfe0(0x1d3)],_0x193983[_0x27cfe0(0x1cf)]][_0x27cfe0(0x228)](_0x2fae23))return;while([_0x193983[_0x27cfe0(0x1d3)],_0x193983[_0x27cfe0(0x1cf)]][_0x27cfe0(0x228)](_0x2fae23)){await _0x193983[_0x27cfe0(0x272)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static[a129_0x10552c(0x244)](_0x186260){const _0x4b846b=a129_0x10552c,_0x2ac348={};_0x2ac348[_0x4b846b(0x1e9)]='Test_Start_Upload',_0x2ac348[_0x4b846b(0x243)]=_0x4b846b(0x20b),_0x2ac348[_0x4b846b(0x21d)]=_0x4b846b(0x1f3),_0x2ac348[_0x4b846b(0x203)]=_0x4b846b(0x1d4),_0x2ac348[_0x4b846b(0x26c)]=_0x4b846b(0x1f1),_0x2ac348[_0x4b846b(0x1d1)]=_0x4b846b(0x219),_0x2ac348['pNuhP']='CBT_Upload';const _0x1e890b=_0x2ac348,_0x32f1b7={};return _0x32f1b7[_0x4b846b(0x1ee)]=_0x1e890b[_0x4b846b(0x1e9)],_0x32f1b7['TestRunFinished']=_0x1e890b[_0x4b846b(0x243)],_0x32f1b7['TestRunSkipped']=_0x1e890b[_0x4b846b(0x21d)],_0x32f1b7[_0x4b846b(0x20e)]=_0x1e890b[_0x4b846b(0x203)],_0x32f1b7[_0x4b846b(0x1fe)]=_0x1e890b[_0x4b846b(0x26c)],_0x32f1b7['HookRunFinished']=_0x1e890b[_0x4b846b(0x1d1)],_0x32f1b7[_0x4b846b(0x26e)]=_0x1e890b['pNuhP'],_0x32f1b7[_0x186260[_0x4b846b(0x255)]];}static async[a129_0x10552c(0x24d)](_0x504df3,_0x43284d=0x0,_0x4c03ce=null){const _0x38d3cf=a129_0x10552c,_0x1eb66f={'slPCR':function(_0x2e72f4,_0xa2e85e){return _0x2e72f4===_0xa2e85e;},'MHUpa':'sendTraceZip','gxlwr':function(_0x2b1f2b,_0x37651a){return _0x2b1f2b!==_0x37651a;},'xGiYL':_0x38d3cf(0x253),'WSjlM':_0x38d3cf(0x24f),'Amyiu':function(_0x557fc6,_0x52e327,_0x41560e,_0x291449,_0x592cd5){return _0x557fc6(_0x52e327,_0x41560e,_0x291449,_0x592cd5);},'dEaEa':_0x38d3cf(0x1d9),'roVax':function(_0x530034,_0x1bd29b,_0x3fa54d,_0x449fdf,_0x45304d){return _0x530034(_0x1bd29b,_0x3fa54d,_0x449fdf,_0x45304d);},'BUEuy':function(_0x54faf5,_0x173c52){return _0x54faf5(_0x173c52);},'AyKmK':function(_0x146016,_0x569cb2){return _0x146016!==_0x569cb2;},'OsdgL':'Batch-Queue','PHLLu':function(_0x37a04a,_0x36c04f){return _0x37a04a-_0x36c04f;},'qjhGJ':function(_0x4eaba9,_0x2c13b1){return _0x4eaba9===_0x2c13b1;},'tFlCQ':_0x38d3cf(0x1e8),'FufCE':_0x38d3cf(0x22c),'ACpqq':function(_0x33542c,_0x45b756){return _0x33542c(_0x45b756);},'PEqih':function(_0x5c51da,_0x4588d3){return _0x5c51da!==_0x4588d3;},'owxRL':_0x38d3cf(0x22a)};_0x1eb66f[_0x38d3cf(0x1eb)](_0x4c03ce,_0x1eb66f['MHUpa'])&&logger['debug'](_0x38d3cf(0x270)+_0x504df3[_0x38d3cf(0x225)][0x0][_0x38d3cf(0x25b)]);const _0x50e19e=await this['getLogTag'](_0x504df3);let _0x5c7a86=_0x504df3,_0x170b2c=EVENT_ENDPOINT;_0x1eb66f['gxlwr'](_0x4c03ce,_0x1eb66f[_0x38d3cf(0x261)])&&this['requestQueueHandler']['start']();const {shouldProceed:_0x3656ff,proceedWithData:_0x1cf689,proceedWithUrl:_0x3566d0}=this['requestQueueHandler']['add'](_0x504df3);if(!_0x3656ff)return;else _0x1cf689&&(_0x5c7a86=_0x1cf689,_0x170b2c=_0x3566d0);const _0x5b999b={};_0x5b999b['Authorization']=_0x38d3cf(0x263)+process[_0x38d3cf(0x239)][_0x38d3cf(0x1f4)],_0x5b999b[_0x38d3cf(0x234)]=_0x1eb66f['xGiYL'],_0x5b999b[_0x38d3cf(0x251)]=_0x1eb66f[_0x38d3cf(0x22d)];const _0xf2575a={};_0xf2575a[_0x38d3cf(0x1cb)]=_0x5b999b;const _0xc9aa34=_0xf2575a;let _0x5dc7db;try{_0x1eb66f[_0x38d3cf(0x1eb)](_0x4c03ce,_0x1eb66f[_0x38d3cf(0x261)])?(logger[_0x38d3cf(0x248)](_0x38d3cf(0x200)+_0x504df3?.[_0x38d3cf(0x225)][0x0]?.['test_run_uuid']),_0x5dc7db=await _0x1eb66f[_0x38d3cf(0x249)](asyncAwaitNodeReq,_0x1eb66f['dEaEa'],_0x170b2c,_0x5c7a86,_0xc9aa34),logger['debug']('Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20'+_0x504df3?.[_0x38d3cf(0x225)][0x0]?.[_0x38d3cf(0x25b)])):_0x5dc7db=await _0x1eb66f[_0x38d3cf(0x24e)](nodeRequest,_0x1eb66f[_0x38d3cf(0x24a)],_0x170b2c,_0x5c7a86,_0xc9aa34);if(_0x5dc7db[_0x38d3cf(0x214)][_0x38d3cf(0x22a)]){const _0x18c2dc={};_0x18c2dc[_0x38d3cf(0x213)]=_0x5dc7db[_0x38d3cf(0x214)]['error'];throw _0x18c2dc;}else{_0x1eb66f['BUEuy'](debug,(_0x1eb66f[_0x38d3cf(0x233)](_0x170b2c,this[_0x38d3cf(0x267)][_0x38d3cf(0x231)])?_0x50e19e:_0x1eb66f[_0x38d3cf(0x1fb)])+'['+_0x43284d+']\x20event\x20successful!'),this[_0x38d3cf(0x267)][_0x38d3cf(0x206)]=Math[_0x38d3cf(0x1fd)](0x0,_0x1eb66f['PHLLu'](this[_0x38d3cf(0x267)]['pendingUploads'],_0x1eb66f['qjhGJ'](_0x170b2c,_0x1eb66f[_0x38d3cf(0x237)])?0x1:_0x5c7a86['length']));const _0x2c76ee={};return _0x2c76ee[_0x38d3cf(0x1ef)]=_0x1eb66f[_0x38d3cf(0x22b)],_0x2c76ee['message']='',_0x2c76ee;}}catch(_0x13cd94){_0x13cd94[_0x38d3cf(0x1cc)]?_0x1eb66f['ACpqq'](debug,_0x38d3cf(0x20c)+(_0x1eb66f['PEqih'](_0x170b2c,this[_0x38d3cf(0x267)][_0x38d3cf(0x231)])?_0x50e19e:_0x1eb66f[_0x38d3cf(0x1fb)])+_0x38d3cf(0x26a)+constants[_0x38d3cf(0x208)]+_0x38d3cf(0x211)+_0x13cd94['response'][_0x38d3cf(0x1ef)]+'\x20'+_0x13cd94[_0x38d3cf(0x1cc)][_0x38d3cf(0x23c)]+'\x20'+util[_0x38d3cf(0x241)](_0x13cd94[_0x38d3cf(0x1cc)][_0x38d3cf(0x214)])):_0x1eb66f[_0x38d3cf(0x260)](debug,'EXCEPTION\x20IN\x20'+(_0x1eb66f[_0x38d3cf(0x233)](_0x170b2c,this[_0x38d3cf(0x267)][_0x38d3cf(0x231)])?_0x50e19e:_0x1eb66f['OsdgL'])+_0x38d3cf(0x26a)+constants[_0x38d3cf(0x208)]+_0x38d3cf(0x211)+util[_0x38d3cf(0x241)](_0x13cd94));this[_0x38d3cf(0x267)]['pendingUploads']=Math['max'](0x0,_0x1eb66f['PHLLu'](this[_0x38d3cf(0x267)][_0x38d3cf(0x206)],_0x1eb66f[_0x38d3cf(0x25d)](_0x170b2c,_0x1eb66f[_0x38d3cf(0x237)])?0x1:_0x5c7a86[_0x38d3cf(0x1dd)]));const _0x5c5ac6={};return _0x5c5ac6['status']=_0x1eb66f[_0x38d3cf(0x1e3)],_0x5c5ac6[_0x38d3cf(0x213)]=_0x13cd94[_0x38d3cf(0x213)]||(_0x13cd94['response']?_0x13cd94['response']['status']+':'+_0x13cd94[_0x38d3cf(0x1cc)][_0x38d3cf(0x23c)]:_0x13cd94),_0x5c5ac6;}}static async['uploadEventData'](_0x80e332,_0x3d9389=0x0){const _0x137c8d=a129_0x10552c,_0x4764bb={'awbKh':function(_0x14b624,_0x5c9e4b){return _0x14b624+_0x5c9e4b;},'zjxFf':function(_0x20a9bb,_0x123327){return _0x20a9bb(_0x123327);},'WjUgq':'test_run','hFXKv':_0x137c8d(0x257),'zZKMR':_0x137c8d(0x26b),'wXkfd':function(_0x3c0489,_0x523f49,_0x1229dd){return _0x3c0489(_0x523f49,_0x1229dd);},'zQZhG':_0x137c8d(0x235),'zoUum':function(_0x17d8a9,_0x30168d){return _0x17d8a9===_0x30168d;},'svnwW':function(_0x3bdd5d,_0x5590f8){return _0x3bdd5d!==_0x5590f8;},'IAgHT':_0x137c8d(0x20a),'hCDzM':function(_0x440372,_0x278232){return _0x440372===_0x278232;},'WbOat':_0x137c8d(0x24f),'TqAmq':function(_0x49b510){return _0x49b510();},'GEpBg':function(_0x58420d,_0x184dfe){return _0x58420d(_0x184dfe);},'eCloB':function(_0x441604,_0x121add){return _0x441604-_0x121add;},'cXtdB':'error','yptqH':_0x137c8d(0x1c8),'qseJA':function(_0x5526f2,_0x2329d9){return _0x5526f2>=_0x2329d9;},'CUmZM':function(_0x436888,_0x2996c7){return _0x436888(_0x2996c7);},'PAcmB':function(_0x250fdc,_0x195175){return _0x250fdc!==_0x195175;},'OkMNY':function(_0x4d476b,_0x455e58){return _0x4d476b-_0x455e58;},'atyDS':'Retry\x20runs\x20exceeded','SDUwH':function(_0x59bc08,_0x586615){return _0x59bc08!==_0x586615;},'vpaec':'false'},_0x25272f=this[_0x137c8d(0x244)](_0x80e332);_0x4764bb[_0x137c8d(0x247)](trace,_0x137c8d(0x1ce)+_0x80e332[_0x137c8d(0x255)]+'\x27\x20'+(bsSetupHelper['nestedKeyValue'](_0x80e332,[_0x4764bb[_0x137c8d(0x216)],_0x4764bb[_0x137c8d(0x1ea)]])||bsSetupHelper[_0x137c8d(0x215)](_0x80e332,[_0x4764bb[_0x137c8d(0x1e7)],_0x4764bb[_0x137c8d(0x1ea)]])));if(!_0x4764bb[_0x137c8d(0x226)](shouldProcessEventForTesthub,_0x80e332[_0x137c8d(0x255)],_0x4764bb[_0x137c8d(0x1d2)]))return;_0x4764bb['zoUum'](_0x3d9389,0x0)&&process[_0x137c8d(0x239)][_0x137c8d(0x1f4)]&&_0x4764bb[_0x137c8d(0x250)](process[_0x137c8d(0x239)][_0x137c8d(0x1f4)],_0x4764bb[_0x137c8d(0x202)])&&(this[_0x137c8d(0x267)][_0x137c8d(0x206)]+=0x1);if(_0x4764bb[_0x137c8d(0x227)](process[_0x137c8d(0x239)][_0x137c8d(0x236)],_0x4764bb[_0x137c8d(0x1e1)])||process[_0x137c8d(0x239)]['BS_A11Y_JWT']||_0x4764bb[_0x137c8d(0x271)](isPercyBuild)){if(_0x4764bb[_0x137c8d(0x227)](process['env'][_0x137c8d(0x1f4)],_0x4764bb[_0x137c8d(0x202)])){_0x4764bb[_0x137c8d(0x1f7)](debug,_0x137c8d(0x20c)+_0x25272f+_0x137c8d(0x26a)+constants[_0x137c8d(0x208)]+_0x137c8d(0x1f5)),this['requestQueueHandler'][_0x137c8d(0x206)]=Math['max'](0x0,_0x4764bb[_0x137c8d(0x273)](this['requestQueueHandler'][_0x137c8d(0x206)],0x1));const _0x395c5d={};return _0x395c5d[_0x137c8d(0x1ef)]=_0x4764bb['cXtdB'],_0x395c5d['message']=_0x4764bb[_0x137c8d(0x1ff)],_0x395c5d;}return await this['sendEventData'](_0x80e332,_0x3d9389);}else{if(_0x4764bb[_0x137c8d(0x1e0)](_0x3d9389,0x5)){_0x4764bb[_0x137c8d(0x1cd)](debug,'EXCEPTION\x20IN\x20'+_0x25272f+'\x20REQUEST\x20TO\x20'+constants[_0x137c8d(0x208)]+_0x137c8d(0x1f0)+_0x25272f+'\x20retry\x20runs\x20exceeded');_0x4764bb['PAcmB'](process[_0x137c8d(0x239)][_0x137c8d(0x1f4)],_0x4764bb[_0x137c8d(0x202)])&&(this[_0x137c8d(0x267)][_0x137c8d(0x206)]=Math[_0x137c8d(0x1fd)](0x0,_0x4764bb[_0x137c8d(0x1dc)](this[_0x137c8d(0x267)][_0x137c8d(0x206)],0x1)));const _0xcb6fc9={};return _0xcb6fc9[_0x137c8d(0x1ef)]=_0x4764bb[_0x137c8d(0x26f)],_0xcb6fc9[_0x137c8d(0x213)]=_0x4764bb[_0x137c8d(0x209)],_0xcb6fc9;}else _0x4764bb[_0x137c8d(0x1f2)](process['env']['BS_TESTOPS_BUILD_COMPLETED'],_0x4764bb['vpaec'])&&_0x4764bb[_0x137c8d(0x226)](setTimeout,()=>{const _0x21aa33=_0x137c8d;this[_0x21aa33(0x235)](_0x80e332,_0x4764bb[_0x21aa33(0x218)](_0x3d9389,0x1));},0x3e8);}}}module['exports']=SessionHandler;function a129_0x14fe(){const _0x3686b6=['SDUwH','Test_Skipped_Upload','BROWSERSTACK_TESTHUB_JWT','\x20:\x20missing\x20authentication\x20token','jwt','GEpBg','IoxgM','EGOSK','1211bKznMK','OsdgL','yAFaj','max','HookRunStarted','yptqH','Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20','../logger','IAgHT','PsKMe','username','BROWSERSTACK_RERUN','pendingUploads','BROWSERSTACK_BUILD_RUN_IDENTIFIER','TEST_REPORTING_ANALYTICS','atyDS','null','Test_End_Upload','EXCEPTION\x20IN\x20','stringify','LogCreated','UNKTb','117790JnIgNa','\x20:\x20','./constants','message','data','nestedKeyValue','WjUgq','ZgyTv','awbKh','Hook_End_Upload','password','frameworkName','app','uSrBG','getHostInfo','VzEgc','getAgentVersion','getCiInfo','BS_TESTOPS_ALLOW_SCREENSHOTS','950134EOpOfa','projectName','logs','wXkfd','hCDzM','includes','build_hashed_id','error','FufCE','success','WSjlM','36nvRsix','442WOirCH','SfYlX','eventUrl','afrNd','AyKmK','Content-Type','uploadEventData','BS_TESTOPS_BUILD_COMPLETED','tFlCQ','yloiW','env','allow_screenshots','RqsMr','statusText','ERROR_ACCESS_DENIED','./requestQueueHandler','vvQBa','ERROR_INVALID_CREDENTIALS','format','3jliuRZ','HXEwY','getLogTag','false','buildIdentifier','zjxFf','debug','Amyiu','dEaEa','sqwGl','Build\x20creation\x20successful!','sendEventData','roVax','true','svnwW','X-BSTACK-TESTOPS','../../bin/utils/constants','application/json','BS_TESTOPS_BUILD_HASHED_ID','event_type','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','uuid','../../helpers/testhub/utils','buildName','\x20failed\x20due\x20to\x20','test_run_uuid','BS_TESTOPS_JWT','qjhGJ','160ivgQBl','FMIJI','ACpqq','MHUpa','1478856LSRFcr','Bearer\x20','cwd','toISOString','542751DTSWGb','requestQueueHandler','BROWSERSTACK_TESTHUB_UUID','browserstackAutomation','\x20REQUEST\x20TO\x20','hook_run','pSKlX','winstonLogger','CBTSessionCreated','cXtdB','Sending\x20trace\x20zip\x20for\x20test:\x20','TqAmq','eWChF','eCloB','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','56874iUoaDH','225190QQCNHw','headers','response','CUmZM','Processing\x20event\x20-\x20\x27','IuYbv','VjpFC','KwmdH','zQZhG','KFwfp','Log_Upload','api/v1/builds','CREDENTIALS_FOR_CRASH_REPORTING','660304UwlujY','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','POST','info','json','OkMNY','length','errorType','basename','qseJA','WbOat','getUserName','owxRL','oLlPs','inspect','230mKGxNH','zZKMR','api/v1/event','eAGFZ','hFXKv','slPCR','frameworkVersion','DdyXV','TestRunStarted','status','\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','Hook_Start_Upload'];a129_0x14fe=function(){return _0x3686b6;};return a129_0x14fe();}