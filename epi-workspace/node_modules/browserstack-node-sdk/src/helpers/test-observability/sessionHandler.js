function a129_0x107f(_0x2eb1ee,_0xdaa8d){const _0xfb2cd1=a129_0xfb2c();return a129_0x107f=function(_0x107fea,_0x4409e2){_0x107fea=_0x107fea-0x68;let _0x325476=_0xfb2cd1[_0x107fea];return _0x325476;},a129_0x107f(_0x2eb1ee,_0xdaa8d);}function a129_0xfb2c(){const _0x4c32d5=['sendEventData','getGitMetaData','allow_screenshots','info','GKRCM','JPFKD','HookRunStarted','bGKHV','\x20REQUEST\x20TO\x20','1275002qHTTXq','fCEdx','format','length','application/json','EXCEPTION\x20IN\x20','uEuzE','errorType','jwt','response','event_type','frameworkVersion','TEST_REPORTING_ANALYTICS','mPmbA','YqfYl','VFhmW','RTVzT','TqzIT','BROWSERSTACK_TESTHUB_JWT','Bearer\x20','lvWGr','ERROR_SDK_DEPRECATED','NOgrx','status','data','yCNHp','khokP','DjpEQ','\x20failed\x20due\x20to\x20','Authorization','CREDENTIALS_FOR_CRASH_REPORTING','env','hook_run','toString','test_run_uuid','password','TestRunStarted','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','Sending\x20trace\x20zip\x20for\x20test:\x20','inspect','1866612WcBmOD','Content-Type','./constants','XtvuU','\x20:\x20missing\x20authentication\x20token','973LtAJxB','Log_Upload','hknJw','ScPWr','BS_A11Y_JWT','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20','toISOString','eLJXH','../../bin/utils/constants','stringify','uploadEventData','SLoPl','Processing\x20event\x20-\x20\x27','swCxq','FjCmU','path','TestRunFinished','vxvUB','Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20','QtJUw','./requestQueueHandler','username','YDaUU','baBlW','yehRF','POST','getCiInfo','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','getAgentVersion','PUvEu','resolve','debug','basename','ETNYM','util','cXJqk','buildName','error','CBTSessionCreated','start','getHostInfo','jcvOj','rjchN','getLogTag','PfNVe','2379828GtPvTQ','true','build_hashed_id','IHIdB','BS_TESTOPS_BUILD_HASHED_ID','cipBK','null','nestedKeyValue','TestRunSkipped','Batch-Queue','\x20:\x20','eventUrl','Pgxps','add','4DRSNpV','353605FWIIpd','34184bstuJN','requestQueueHandler','SHVKz','BS_TESTOPS_JWT','statusText','BS_TESTOPS_ALLOW_SCREENSHOTS','Ahkpj','ZfCrd','X-BSTACK-TESTOPS','ptEzF','BROWSERSTACK_TESTHUB_UUID','getAccessKey','success','VrgrO','Test_Start_Upload','aZKmU','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','zhNRt','VtytC','11157291PuJRVG','./utils','hvGCr','JpCPy','GAsrU','Hook_Start_Upload','app','api/v1/builds','message','CBT_Upload','frameworkName','false','launch','browserstackAutomation',']\x20event\x20successful!','psQEs','mhywD','\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','MqdTu','McPav','zRzLP','BkKIA','pendingUploads','HookRunFinished','ApQwU','SFIrn','ZsLkc','cwd','max','LkaYf','vuKoj','BS_TESTOPS_BUILD_COMPLETED','chlAy','includes','1957195sDKCVa','logs','Build\x20creation\x20successful!','Test_End_Upload','uuid'];a129_0xfb2c=function(){return _0x4c32d5;};return a129_0xfb2c();}const a129_0xc439f1=a129_0x107f;(function(_0x150666,_0x2bceea){const _0x42af03=a129_0x107f,_0x38c223=_0x150666();while(!![]){try{const _0x350506=parseInt(_0x42af03(0xd9))/0x1+parseInt(_0x42af03(0x70))/0x2+-parseInt(_0x42af03(0x98))/0x3+-parseInt(_0x42af03(0xd8))/0x4*(-parseInt(_0x42af03(0x10f))/0x5)+parseInt(_0x42af03(0xca))/0x6+-parseInt(_0x42af03(0x9d))/0x7*(-parseInt(_0x42af03(0xda))/0x8)+-parseInt(_0x42af03(0xed))/0x9;if(_0x350506===_0x2bceea)break;else _0x38c223['push'](_0x38c223['shift']());}catch(_0x4b9ea4){_0x38c223['push'](_0x38c223['shift']());}}}(a129_0xfb2c,0x7ccfb));const bsSetupHelper=require('../helper'),path=require(a129_0xc439f1(0xac)),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require(a129_0xc439f1(0xee)),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require(a129_0xc439f1(0x9a)),RequestQueueHandler=require(a129_0xc439f1(0xb1)),logger=require('../logger')['winstonLogger'],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require('../../helpers/testhub/utils'),util=require(a129_0xc439f1(0xbf)),constants=require(a129_0xc439f1(0xa5));class SessionHandler{static [a129_0xc439f1(0xdb)]=RequestQueueHandler['getInstance']();static async[a129_0xc439f1(0xf9)](_0x427207,_0xa6c49d){const _0x4b7bd8=a129_0xc439f1,_0x58e4da={'Wkowk':function(_0x2c0317,_0x15ffe1){return _0x2c0317||_0x15ffe1;},'vxvUB':function(_0x43c6a7,_0x461594){return _0x43c6a7||_0x461594;},'SFIrn':function(_0x1bf45e,_0x2fc063){return _0x1bf45e===_0x2fc063;},'BkKIA':function(_0x24847b,_0x31b7e5){return _0x24847b(_0x31b7e5);},'HDXSH':_0x4b7bd8(0xb8),'VFhmW':_0x4b7bd8(0xf8),'ptEzF':'json','eLJXH':function(_0x1ae9ca,_0x5be3d8){return _0x1ae9ca(_0x5be3d8);},'NnVzD':function(_0x5dba3a,_0x574632,_0x79925e,_0x16d81b,_0xe59088){return _0x5dba3a(_0x574632,_0x79925e,_0x16d81b,_0xe59088);},'fCEdx':_0x4b7bd8(0xb6),'SLoPl':_0x4b7bd8(0xf4),'VrgrO':function(_0x47bef7,_0x506e8d){return _0x47bef7(_0x506e8d);},'IgSWd':_0x4b7bd8(0x111),'JeCXE':function(_0xed6d23){return _0xed6d23();},'IHIdB':_0x4b7bd8(0xcb),'zhNRt':_0x4b7bd8(0xd0),'Ahkpj':function(_0x250321,_0x4408c2){return _0x250321(_0x4408c2);},'XtvuU':'ERROR_INVALID_CREDENTIALS','nQPzQ':'ERROR_ACCESS_DENIED','baBlW':_0x4b7bd8(0x85)};logger[_0x4b7bd8(0x6a)]('Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20'+util[_0x4b7bd8(0x97)](_0x427207));const _0x35335b=bsSetupHelper['getUserName'](_0x427207),_0x95f462=bsSetupHelper[_0x4b7bd8(0xe5)](_0x427207),_0x5e0da3=_0x58e4da['Wkowk'](_0x35335b,'')+':'+_0x58e4da[_0x4b7bd8(0xae)](_0x95f462,'');if(_0x58e4da[_0x4b7bd8(0x106)](_0x5e0da3,':'))return _0x58e4da[_0x4b7bd8(0x102)](debug,_0x58e4da['HDXSH']),process['env'][_0x4b7bd8(0x10c)]=_0x58e4da[_0x4b7bd8(0x7f)],[null,null];let _0xfddec4=![],_0x4e9384=![];if(_0x427207['browserstackAutomation']&&_0x427207[_0x4b7bd8(0xf3)])_0x4e9384=!![];else _0x427207[_0x4b7bd8(0xfa)]&&(_0xfddec4=!![]);try{const _0x32819e={'format':_0x58e4da[_0x4b7bd8(0xe3)],'project_name':_0x427207['projectName']||'','name':_0x427207[_0x4b7bd8(0xc1)]||path[_0x4b7bd8(0xbd)](path[_0x4b7bd8(0xbb)](process[_0x4b7bd8(0x108)]())),'build_identifier':_0x427207['buildIdentifier'],'description':_0x427207['buildDescription']||'','start_time':new Date()[_0x4b7bd8(0xa3)](),'tags':_0x58e4da['BkKIA'](getCustomTags,_0x427207),'host_info':bsSetupHelper[_0x4b7bd8(0xc5)](),'ci_info':bsSetupHelper[_0x4b7bd8(0xb7)](),'build_run_identifier':process[_0x4b7bd8(0x8f)]['BROWSERSTACK_BUILD_RUN_IDENTIFIER'],'failed_tests_rerun':process['env']['BROWSERSTACK_RERUN']||![],'version_control':await bsSetupHelper[_0x4b7bd8(0x68)](),'observability_version':{'frameworkName':_0xa6c49d[_0x4b7bd8(0xf7)],'frameworkVersion':_0xa6c49d[_0x4b7bd8(0x7b)],'sdkVersion':bsSetupHelper[_0x4b7bd8(0xb9)]()},'product_map':_0x58e4da[_0x4b7bd8(0x102)](getProductMap,_0x427207),'test_orchestration':_0x58e4da[_0x4b7bd8(0x102)](getTestOrchestrationBuildStartData,_0x427207)},_0x3345d6={};_0x3345d6[_0x4b7bd8(0xb2)]=_0x35335b,_0x3345d6[_0x4b7bd8(0x93)]=_0x95f462;const _0x5059e7={'auth':_0x3345d6,'headers':_0x58e4da[_0x4b7bd8(0xa4)](getDefaultHeaders,![])},_0x24e375=await _0x58e4da['NnVzD'](nodeRequest,_0x58e4da[_0x4b7bd8(0x71)],_0x58e4da[_0x4b7bd8(0xa8)],_0x32819e,_0x5059e7);_0x58e4da[_0x4b7bd8(0xe7)](debug,_0x58e4da['IgSWd']);const _0xc4d309=_0x24e375['data'];_0xc4d309[_0x4b7bd8(0xcc)]&&(process[_0x4b7bd8(0x8f)][_0x4b7bd8(0xe4)]=_0xc4d309[_0x4b7bd8(0xcc)]);if(_0x58e4da['JeCXE'](isTestObservabilitySession)){process[_0x4b7bd8(0x8f)][_0x4b7bd8(0x10c)]=_0x58e4da[_0x4b7bd8(0xcd)];if(_0xc4d309[_0x4b7bd8(0x78)]){process['env'][_0x4b7bd8(0xdd)]=_0xc4d309[_0x4b7bd8(0x78)];const _0x30c6ea={};_0x30c6ea[_0x4b7bd8(0xb2)]=_0x35335b,_0x30c6ea[_0x4b7bd8(0x93)]=_0x95f462,process[_0x4b7bd8(0x8f)][_0x4b7bd8(0x8e)]=JSON[_0x4b7bd8(0xa6)](_0x30c6ea);}_0xc4d309[_0x4b7bd8(0xcc)]&&(process[_0x4b7bd8(0x8f)][_0x4b7bd8(0xce)]=_0xc4d309[_0x4b7bd8(0xcc)]),_0xc4d309[_0x4b7bd8(0x69)]&&(process[_0x4b7bd8(0x8f)][_0x4b7bd8(0xdf)]=_0xc4d309[_0x4b7bd8(0x69)][_0x4b7bd8(0x91)]());}return[_0x24e375[_0x4b7bd8(0x88)][_0x4b7bd8(0x78)],_0x24e375['data'][_0x4b7bd8(0xcc)],_0x24e375['data'][_0x4b7bd8(0x69)]];}catch(_0x105ace){process['env']['BROWSERSTACK_TESTHUB_UUID']=_0x58e4da[_0x4b7bd8(0xeb)],process[_0x4b7bd8(0x8f)][_0x4b7bd8(0x10c)]=_0x58e4da[_0x4b7bd8(0x7f)],process[_0x4b7bd8(0x8f)][_0x4b7bd8(0xdd)]=_0x58e4da['zhNRt'],process['env']['BS_TESTOPS_BUILD_HASHED_ID']=_0x58e4da['zhNRt'],process['env']['BS_TESTOPS_ALLOW_SCREENSHOTS']=_0x58e4da[_0x4b7bd8(0xeb)];_0x105ace[_0x4b7bd8(0x79)]?_0x58e4da[_0x4b7bd8(0xe0)](debug,_0x4b7bd8(0xea)+_0x105ace['response']['status']+'\x20'+_0x105ace[_0x4b7bd8(0x79)][_0x4b7bd8(0xde)]+'\x20'+JSON[_0x4b7bd8(0xa6)](_0x105ace[_0x4b7bd8(0x79)][_0x4b7bd8(0x88)])):_0x58e4da['BkKIA'](debug,_0x4b7bd8(0xea)+(_0x105ace[_0x4b7bd8(0xf5)]||_0x105ace));if(_0x105ace&&_0x105ace[_0x4b7bd8(0xf5)]){const _0x3c0f8f=_0x105ace['message'];switch(_0x105ace[_0x4b7bd8(0x77)]){case _0x58e4da[_0x4b7bd8(0x9b)]:logger[_0x4b7bd8(0xc2)](_0x3c0f8f);break;case _0x58e4da['nQPzQ']:logger[_0x4b7bd8(0x6a)](_0x3c0f8f);break;case _0x58e4da[_0x4b7bd8(0xb4)]:logger[_0x4b7bd8(0xc2)](_0x3c0f8f);break;default:logger[_0x4b7bd8(0xc2)](_0x3c0f8f);}}else console['info']('Data\x20upload\x20to\x20BrowserStack\x20'+constants[_0x4b7bd8(0x7c)]+_0x4b7bd8(0x8c)+_0x105ace);return[null,null,null];}}static async['waitForBuildStatus'](){const _0x21b353=a129_0xc439f1,_0x29f5ec={'bGKHV':_0x21b353(0xcb),'cXJqk':_0x21b353(0xf8),'MqdTu':function(_0x204c9c,_0x1d3eff){return _0x204c9c(_0x1d3eff);}},_0x53e377=process[_0x21b353(0x8f)][_0x21b353(0x10c)];if([_0x29f5ec[_0x21b353(0x6e)],_0x29f5ec[_0x21b353(0xc0)]]['includes'](_0x53e377))return;while([_0x29f5ec[_0x21b353(0x6e)],_0x29f5ec[_0x21b353(0xc0)]][_0x21b353(0x10e)](_0x53e377)){await _0x29f5ec[_0x21b353(0xff)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static[a129_0xc439f1(0xc8)](_0x5399ad){const _0x2f0f55=a129_0xc439f1,_0x272820={};_0x272820['FjCmU']=_0x2f0f55(0xe8),_0x272820[_0x2f0f55(0x6b)]=_0x2f0f55(0x112),_0x272820['YqfYl']='Test_Skipped_Upload',_0x272820[_0x2f0f55(0xf1)]=_0x2f0f55(0x9e),_0x272820[_0x2f0f55(0xf0)]=_0x2f0f55(0xf2),_0x272820[_0x2f0f55(0x89)]='Hook_End_Upload',_0x272820['goBvc']=_0x2f0f55(0xf6);const _0x2b2194=_0x272820,_0xa50bfc={};return _0xa50bfc[_0x2f0f55(0x94)]=_0x2b2194[_0x2f0f55(0xab)],_0xa50bfc[_0x2f0f55(0xad)]=_0x2b2194[_0x2f0f55(0x6b)],_0xa50bfc[_0x2f0f55(0xd2)]=_0x2b2194[_0x2f0f55(0x7e)],_0xa50bfc['LogCreated']=_0x2b2194[_0x2f0f55(0xf1)],_0xa50bfc[_0x2f0f55(0x6d)]=_0x2b2194[_0x2f0f55(0xf0)],_0xa50bfc[_0x2f0f55(0x104)]=_0x2b2194[_0x2f0f55(0x89)],_0xa50bfc[_0x2f0f55(0xc3)]=_0x2b2194['goBvc'],_0xa50bfc[_0x5399ad[_0x2f0f55(0x7a)]];}static async[a129_0xc439f1(0x114)](_0x2e5498,_0x5872f8=0x0,_0x1a3b55=null){const _0x57fc7e=a129_0xc439f1,_0x4b4c6d={'rjchN':function(_0x4f9942,_0x36cd06){return _0x4f9942===_0x36cd06;},'swCxq':'sendTraceZip','zRzLP':function(_0x370932,_0x464b18){return _0x370932!==_0x464b18;},'YDaUU':_0x57fc7e(0x74),'DjpEQ':_0x57fc7e(0xcb),'ETNYM':function(_0x3e1400,_0x4c55d6){return _0x3e1400===_0x4c55d6;},'PPrlA':function(_0x34ec14,_0x19ddb8,_0x3a5b55,_0x2c41a6,_0x559618){return _0x34ec14(_0x19ddb8,_0x3a5b55,_0x2c41a6,_0x559618);},'McPav':_0x57fc7e(0xb6),'Lxaqm':function(_0xfd3698,_0x261400,_0x485f78,_0x310b17,_0x5579a1){return _0xfd3698(_0x261400,_0x485f78,_0x310b17,_0x5579a1);},'RTVzT':function(_0x535390,_0x5e6b25){return _0x535390(_0x5e6b25);},'NQrZi':function(_0x3a0c03,_0x54c83b){return _0x3a0c03!==_0x54c83b;},'hknJw':_0x57fc7e(0xd3),'ZfCrd':function(_0x156826,_0x3ccccb){return _0x156826-_0x3ccccb;},'lvWGr':function(_0x2504bf,_0x52732c){return _0x2504bf===_0x52732c;},'khokP':'api/v1/event','vuKoj':_0x57fc7e(0xe6),'uEuzE':function(_0x363881,_0xf0f9ed){return _0x363881!==_0xf0f9ed;},'mPmbA':function(_0x5b059d,_0x4e41cf){return _0x5b059d(_0x4e41cf);},'psQEs':function(_0x445ba0,_0x181d13){return _0x445ba0!==_0x181d13;},'hvGCr':function(_0x1bb80e,_0xcf2115){return _0x1bb80e-_0xcf2115;},'jQvlP':_0x57fc7e(0xc2)};_0x4b4c6d[_0x57fc7e(0xc7)](_0x1a3b55,_0x4b4c6d[_0x57fc7e(0xaa)])&&logger[_0x57fc7e(0xbc)](_0x57fc7e(0x96)+_0x2e5498[_0x57fc7e(0x110)][0x0][_0x57fc7e(0x92)]);const _0x3185c6=await this[_0x57fc7e(0xc8)](_0x2e5498);let _0x11ca61=_0x2e5498,_0x334d75=EVENT_ENDPOINT;_0x4b4c6d[_0x57fc7e(0x101)](_0x1a3b55,_0x4b4c6d[_0x57fc7e(0xaa)])&&this['requestQueueHandler'][_0x57fc7e(0xc4)]();const {shouldProceed:_0x3097a3,proceedWithData:_0x624635,proceedWithUrl:_0x4fbf54}=this[_0x57fc7e(0xdb)][_0x57fc7e(0xd7)](_0x2e5498);if(!_0x3097a3)return;else _0x624635&&(_0x11ca61=_0x624635,_0x334d75=_0x4fbf54);const _0x52dea2={};_0x52dea2[_0x57fc7e(0x8d)]=_0x57fc7e(0x83)+process[_0x57fc7e(0x8f)][_0x57fc7e(0x82)],_0x52dea2[_0x57fc7e(0x99)]=_0x4b4c6d[_0x57fc7e(0xb3)],_0x52dea2[_0x57fc7e(0xe2)]=_0x4b4c6d[_0x57fc7e(0x8b)];const _0x5f032d={};_0x5f032d['headers']=_0x52dea2;const _0xc356fa=_0x5f032d;let _0x1871c2;try{_0x4b4c6d[_0x57fc7e(0xbe)](_0x1a3b55,_0x4b4c6d[_0x57fc7e(0xaa)])?(logger[_0x57fc7e(0xbc)](_0x57fc7e(0xaf)+_0x2e5498?.[_0x57fc7e(0x110)][0x0]?.['test_run_uuid']),_0x1871c2=await _0x4b4c6d['PPrlA'](asyncAwaitNodeReq,_0x4b4c6d[_0x57fc7e(0x100)],_0x334d75,_0x11ca61,_0xc356fa),logger[_0x57fc7e(0xbc)](_0x57fc7e(0xa2)+_0x2e5498?.[_0x57fc7e(0x110)][0x0]?.['test_run_uuid'])):_0x1871c2=await _0x4b4c6d['Lxaqm'](nodeRequest,_0x4b4c6d['McPav'],_0x334d75,_0x11ca61,_0xc356fa);if(_0x1871c2['data'][_0x57fc7e(0xc2)]){const _0x297446={};_0x297446[_0x57fc7e(0xf5)]=_0x1871c2['data'][_0x57fc7e(0xc2)];throw _0x297446;}else{_0x4b4c6d[_0x57fc7e(0x80)](debug,(_0x4b4c6d['NQrZi'](_0x334d75,this[_0x57fc7e(0xdb)][_0x57fc7e(0xd5)])?_0x3185c6:_0x4b4c6d[_0x57fc7e(0x9f)])+'['+_0x5872f8+_0x57fc7e(0xfb)),this[_0x57fc7e(0xdb)][_0x57fc7e(0x103)]=Math['max'](0x0,_0x4b4c6d[_0x57fc7e(0xe1)](this[_0x57fc7e(0xdb)][_0x57fc7e(0x103)],_0x4b4c6d[_0x57fc7e(0x84)](_0x334d75,_0x4b4c6d[_0x57fc7e(0x8a)])?0x1:_0x11ca61[_0x57fc7e(0x73)]));const _0x3c76ec={};return _0x3c76ec[_0x57fc7e(0x87)]=_0x4b4c6d[_0x57fc7e(0x10b)],_0x3c76ec['message']='',_0x3c76ec;}}catch(_0x1d3f70){_0x1d3f70[_0x57fc7e(0x79)]?_0x4b4c6d[_0x57fc7e(0x80)](debug,'EXCEPTION\x20IN\x20'+(_0x4b4c6d[_0x57fc7e(0x76)](_0x334d75,this[_0x57fc7e(0xdb)][_0x57fc7e(0xd5)])?_0x3185c6:_0x4b4c6d[_0x57fc7e(0x9f)])+_0x57fc7e(0x6f)+constants[_0x57fc7e(0x7c)]+_0x57fc7e(0xd4)+_0x1d3f70[_0x57fc7e(0x79)]['status']+'\x20'+_0x1d3f70[_0x57fc7e(0x79)][_0x57fc7e(0xde)]+'\x20'+util[_0x57fc7e(0x72)](_0x1d3f70['response'][_0x57fc7e(0x88)])):_0x4b4c6d[_0x57fc7e(0x7d)](debug,_0x57fc7e(0x75)+(_0x4b4c6d[_0x57fc7e(0xfc)](_0x334d75,this['requestQueueHandler'][_0x57fc7e(0xd5)])?_0x3185c6:_0x4b4c6d[_0x57fc7e(0x9f)])+_0x57fc7e(0x6f)+constants[_0x57fc7e(0x7c)]+_0x57fc7e(0xd4)+util[_0x57fc7e(0x72)](_0x1d3f70));this['requestQueueHandler']['pendingUploads']=Math[_0x57fc7e(0x109)](0x0,_0x4b4c6d[_0x57fc7e(0xef)](this[_0x57fc7e(0xdb)][_0x57fc7e(0x103)],_0x4b4c6d['lvWGr'](_0x334d75,_0x4b4c6d[_0x57fc7e(0x8a)])?0x1:_0x11ca61[_0x57fc7e(0x73)]));const _0x2d9956={};return _0x2d9956[_0x57fc7e(0x87)]=_0x4b4c6d['jQvlP'],_0x2d9956[_0x57fc7e(0xf5)]=_0x1d3f70[_0x57fc7e(0xf5)]||(_0x1d3f70['response']?_0x1d3f70[_0x57fc7e(0x79)][_0x57fc7e(0x87)]+':'+_0x1d3f70[_0x57fc7e(0x79)]['statusText']:_0x1d3f70),_0x2d9956;}}static async[a129_0xc439f1(0xa7)](_0x1dbfe7,_0x2c108a=0x0){const _0x30a65a=a129_0xc439f1,_0x9d8a81={'JPFKD':function(_0x21a3bf,_0x2088b8){return _0x21a3bf+_0x2088b8;},'aZKmU':function(_0x3f28b5,_0x4f2487){return _0x3f28b5(_0x4f2487);},'jcvOj':'test_run','ScPWr':_0x30a65a(0x113),'PfNVe':_0x30a65a(0x90),'LkaYf':function(_0x10bb5e,_0x23346e,_0x5b0d1c){return _0x10bb5e(_0x23346e,_0x5b0d1c);},'PUvEu':_0x30a65a(0xa7),'SHVKz':function(_0x2d67ce,_0x412b11){return _0x2d67ce===_0x412b11;},'ZsLkc':function(_0x208eef,_0x357ef4){return _0x208eef!==_0x357ef4;},'cipBK':_0x30a65a(0xd0),'Pgxps':_0x30a65a(0xcb),'QtJUw':function(_0x526a64){return _0x526a64();},'VIACk':function(_0x26e4ee,_0x4a98a2){return _0x26e4ee-_0x4a98a2;},'ApQwU':_0x30a65a(0xc2),'VtytC':_0x30a65a(0x95),'chlAy':function(_0x530988,_0x958d39){return _0x530988>=_0x958d39;},'NOgrx':function(_0x2cfef6,_0x22084c){return _0x2cfef6(_0x22084c);},'mhywD':'Retry\x20runs\x20exceeded','TqzIT':_0x30a65a(0xf8),'yehRF':function(_0x22ca3d,_0x2b5b8b,_0x5a3a9b){return _0x22ca3d(_0x2b5b8b,_0x5a3a9b);}},_0xfc939f=this[_0x30a65a(0xc8)](_0x1dbfe7);_0x9d8a81['aZKmU'](trace,_0x30a65a(0xa9)+_0x1dbfe7['event_type']+'\x27\x20'+(bsSetupHelper['nestedKeyValue'](_0x1dbfe7,[_0x9d8a81[_0x30a65a(0xc6)],_0x9d8a81[_0x30a65a(0xa0)]])||bsSetupHelper[_0x30a65a(0xd1)](_0x1dbfe7,[_0x9d8a81[_0x30a65a(0xc9)],_0x9d8a81[_0x30a65a(0xa0)]])));if(!_0x9d8a81[_0x30a65a(0x10a)](shouldProcessEventForTesthub,_0x1dbfe7[_0x30a65a(0x7a)],_0x9d8a81[_0x30a65a(0xba)]))return;_0x9d8a81[_0x30a65a(0xdc)](_0x2c108a,0x0)&&process[_0x30a65a(0x8f)][_0x30a65a(0x82)]&&_0x9d8a81['ZsLkc'](process[_0x30a65a(0x8f)][_0x30a65a(0x82)],_0x9d8a81[_0x30a65a(0xcf)])&&(this[_0x30a65a(0xdb)][_0x30a65a(0x103)]+=0x1);if(_0x9d8a81[_0x30a65a(0xdc)](process['env'][_0x30a65a(0x10c)],_0x9d8a81[_0x30a65a(0xd6)])||process[_0x30a65a(0x8f)][_0x30a65a(0xa1)]||_0x9d8a81[_0x30a65a(0xb0)](isPercyBuild)){if(_0x9d8a81[_0x30a65a(0xdc)](process[_0x30a65a(0x8f)][_0x30a65a(0x82)],_0x9d8a81[_0x30a65a(0xcf)])){_0x9d8a81[_0x30a65a(0xe9)](debug,'EXCEPTION\x20IN\x20'+_0xfc939f+_0x30a65a(0x6f)+constants['TEST_REPORTING_ANALYTICS']+_0x30a65a(0x9c)),this[_0x30a65a(0xdb)][_0x30a65a(0x103)]=Math[_0x30a65a(0x109)](0x0,_0x9d8a81['VIACk'](this['requestQueueHandler'][_0x30a65a(0x103)],0x1));const _0x36eda4={};return _0x36eda4[_0x30a65a(0x87)]=_0x9d8a81[_0x30a65a(0x105)],_0x36eda4[_0x30a65a(0xf5)]=_0x9d8a81[_0x30a65a(0xec)],_0x36eda4;}return await this[_0x30a65a(0x114)](_0x1dbfe7,_0x2c108a);}else{if(_0x9d8a81[_0x30a65a(0x10d)](_0x2c108a,0x5)){_0x9d8a81[_0x30a65a(0x86)](debug,_0x30a65a(0x75)+_0xfc939f+_0x30a65a(0x6f)+constants[_0x30a65a(0x7c)]+_0x30a65a(0xfe)+_0xfc939f+'\x20retry\x20runs\x20exceeded');_0x9d8a81[_0x30a65a(0x107)](process['env'][_0x30a65a(0x82)],_0x9d8a81['cipBK'])&&(this[_0x30a65a(0xdb)][_0x30a65a(0x103)]=Math[_0x30a65a(0x109)](0x0,_0x9d8a81['VIACk'](this[_0x30a65a(0xdb)][_0x30a65a(0x103)],0x1)));const _0x256237={};return _0x256237[_0x30a65a(0x87)]=_0x9d8a81[_0x30a65a(0x105)],_0x256237[_0x30a65a(0xf5)]=_0x9d8a81[_0x30a65a(0xfd)],_0x256237;}else _0x9d8a81[_0x30a65a(0x107)](process[_0x30a65a(0x8f)][_0x30a65a(0x10c)],_0x9d8a81[_0x30a65a(0x81)])&&_0x9d8a81[_0x30a65a(0xb5)](setTimeout,()=>{const _0x5a972=_0x30a65a;this['uploadEventData'](_0x1dbfe7,_0x9d8a81[_0x5a972(0x6c)](_0x2c108a,0x1));},0x3e8);}}}module['exports']=SessionHandler;