const a126_0x748072=a126_0x33f3;(function(_0x5b0937,_0x2c0c1c){const _0x26eb18=a126_0x33f3,_0x3a6110=_0x5b0937();while(!![]){try{const _0x1dc492=-parseInt(_0x26eb18(0x179))/0x1+parseInt(_0x26eb18(0x153))/0x2+parseInt(_0x26eb18(0x133))/0x3+parseInt(_0x26eb18(0x116))/0x4+parseInt(_0x26eb18(0x10a))/0x5*(parseInt(_0x26eb18(0x109))/0x6)+-parseInt(_0x26eb18(0x10e))/0x7+-parseInt(_0x26eb18(0x14a))/0x8*(-parseInt(_0x26eb18(0x110))/0x9);if(_0x1dc492===_0x2c0c1c)break;else _0x3a6110['push'](_0x3a6110['shift']());}catch(_0x31d265){_0x3a6110['push'](_0x3a6110['shift']());}}}(a126_0x5dcb,0x26164));const bsSetupHelper=require(a126_0x748072(0x180)),path=require(a126_0x748072(0x137)),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require('./utils'),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require('./constants'),RequestQueueHandler=require(a126_0x748072(0x140)),logger=require(a126_0x748072(0xff))[a126_0x748072(0x10c)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require(a126_0x748072(0x177)),util=require(a126_0x748072(0x14f)),constants=require(a126_0x748072(0x14e));function a126_0x33f3(_0x44c477,_0x3fd81e){const _0x5dcb5f=a126_0x5dcb();return a126_0x33f3=function(_0x33f340,_0x544486){_0x33f340=_0x33f340-0xe3;let _0x559c7d=_0x5dcb5f[_0x33f340];return _0x559c7d;},a126_0x33f3(_0x44c477,_0x3fd81e);}function a126_0x5dcb(){const _0x10444c=['\x20retry\x20runs\x20exceeded','bTjnQ','eKyTm','BhqEg','jwt','getInstance','includes','env','\x20failed\x20due\x20to\x20','HccWC','Test_Start_Upload','HZbZZ','sendTraceZip','message','password','error','USxsF','BROWSERSTACK_TESTHUB_JWT','username','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20','Retry\x20runs\x20exceeded','jgcgm','hook_run','quNHC','LogCreated','status','mdXpM','getLogTag','TDTTA','nestedKeyValue','../logger','getUserName','gfXQH','allow_screenshots','aqpxO','BROWSERSTACK_BUILD_RUN_IDENTIFIER','PrsjO','ZYASQ','start','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','6882FzJfMo','845HNuMmP','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','winstonLogger','debug','1753969fCDwqI','mxgMe','9063SlgEmJ','BqVrt','gsCOX','toISOString','\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','null','121940CyhGYt','logs','BROWSERSTACK_TESTHUB_UUID','Authorization','CBT_Upload','CBTSessionCreated','info','EXCEPTION\x20IN\x20','\x20REQUEST\x20TO\x20','euLTH','VNlKn','Content-Type','json','qRdtJ','mOtbP','TestRunStarted','TXOIf','statusText','application/json','NXCnF','nwCDW','POST','Data\x20upload\x20to\x20BrowserStack\x20','VpqdO',']\x20event\x20successful!','requestQueueHandler','Build\x20creation\x20successful!','toString','resolve','153222WSSlUX','rmLWv','getAgentVersion','projectName','path','uuid','event_type','sendEventData','pendingUploads','cwd','BS_TESTOPS_JWT','yrdGR','response','./requestQueueHandler','zDAfb','iewsU','chlIi','yDYKq','browserstackAutomation','Log_Upload','HGQcJ','BROWSERSTACK_RERUN','Test_End_Upload','664fTfVZT','true','mrdnl','launch','../../bin/utils/constants','util','BS_TESTOPS_BUILD_HASHED_ID','OgdFm','data','338446GmnnzT','WPnVL','UPOpW','basename','headers','buildDescription','test_run','pWhJD','ERROR_SDK_DEPRECATED','aARjR','eventUrl','ztdbn','BS_TESTOPS_ALLOW_SCREENSHOTS','false','ofRFt','\x20:\x20','success','uploadEventData','getHostInfo','uzuUB','stringify','waitForBuildStatus','iUBOE','FbaHm','KbbNY','buildName','Hook_End_Upload','Bearer\x20','build_hashed_id','BS_TESTOPS_BUILD_COMPLETED','max','hiwpl','api/v1/event','TestRunSkipped','test_run_uuid','getCiInfo','../../helpers/testhub/utils','ItqJW','121635lKcLhN','wxXQq','bROCa','errorType','jbizb','vQbWn','Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20','../helper','Processing\x20event\x20-\x20\x27','fjqih','Sending\x20trace\x20zip\x20for\x20test:\x20','yKjQD','eHOjf','TEST_REPORTING_ANALYTICS','add','kNMcM','MbdHs'];a126_0x5dcb=function(){return _0x10444c;};return a126_0x5dcb();}class SessionHandler{static ['requestQueueHandler']=RequestQueueHandler[a126_0x748072(0xe5)]();static async[a126_0x748072(0x14d)](_0x30bcbc,_0x2c98fd){const _0x550208=a126_0x748072,_0x3f4551={'pWhJD':function(_0x534b23,_0x2363eb){return _0x534b23||_0x2363eb;},'mOtbP':function(_0x29b6ad,_0xd884dc){return _0x29b6ad||_0xd884dc;},'rmcqb':function(_0x51039c,_0x10ed06){return _0x51039c===_0x10ed06;},'ofRFt':function(_0x204c92,_0x1b5e4f){return _0x204c92(_0x1b5e4f);},'QEtwv':_0x550208(0x108),'LBybN':_0x550208(0x160),'qYSZw':_0x550208(0x122),'HGQcJ':function(_0x8b2419,_0x4caa32){return _0x8b2419(_0x4caa32);},'HccWC':function(_0x2267e4,_0x114bc4){return _0x2267e4(_0x114bc4);},'ZYASQ':function(_0x4a8d8a,_0x1072cc){return _0x4a8d8a(_0x1072cc);},'vdLVU':function(_0x2f600d,_0xa4223b,_0x17bb92,_0x31f354,_0x129290){return _0x2f600d(_0xa4223b,_0x17bb92,_0x31f354,_0x129290);},'mdXpM':_0x550208(0x12b),'IgVUC':'api/v1/builds','MbdHs':function(_0x45a87f,_0x2ba525){return _0x45a87f(_0x2ba525);},'mxgMe':_0x550208(0x130),'bTjnQ':function(_0x347503){return _0x347503();},'USxsF':_0x550208(0x14b),'FbaHm':_0x550208(0x115),'hiwpl':function(_0x38112c,_0x1a56fc){return _0x38112c(_0x1a56fc);},'ItqJW':'ERROR_INVALID_CREDENTIALS','QPzqS':'ERROR_ACCESS_DENIED','VNlKn':_0x550208(0x15b)};logger['info'](_0x550208(0x17f)+util['inspect'](_0x30bcbc));const _0x117bad=bsSetupHelper[_0x550208(0x100)](_0x30bcbc),_0x31541d=bsSetupHelper['getAccessKey'](_0x30bcbc),_0x57a655=_0x3f4551[_0x550208(0x15a)](_0x117bad,'')+':'+_0x3f4551[_0x550208(0x124)](_0x31541d,'');if(_0x3f4551['rmcqb'](_0x57a655,':'))return _0x3f4551[_0x550208(0x161)](debug,_0x3f4551['QEtwv']),process[_0x550208(0xe7)][_0x550208(0x170)]=_0x3f4551['LBybN'],[null,null];let _0x3d0c78=![],_0x3c7b78=![];if(_0x30bcbc[_0x550208(0x145)]&&_0x30bcbc['app'])_0x3c7b78=!![];else _0x30bcbc[_0x550208(0x145)]&&(_0x3d0c78=!![]);try{const _0x2ac5d3={'format':_0x3f4551['qYSZw'],'project_name':_0x30bcbc[_0x550208(0x136)]||'','name':_0x30bcbc[_0x550208(0x16c)]||path[_0x550208(0x156)](path[_0x550208(0x132)](process[_0x550208(0x13c)]())),'build_identifier':_0x30bcbc['buildIdentifier'],'description':_0x30bcbc[_0x550208(0x158)]||'','start_time':new Date()[_0x550208(0x113)](),'tags':_0x3f4551[_0x550208(0x147)](getCustomTags,_0x30bcbc),'host_info':bsSetupHelper[_0x550208(0x165)](),'ci_info':bsSetupHelper[_0x550208(0x176)](),'build_run_identifier':process[_0x550208(0xe7)][_0x550208(0x104)],'failed_tests_rerun':process[_0x550208(0xe7)][_0x550208(0x148)]||![],'version_control':await bsSetupHelper['getGitMetaData'](),'observability_version':{'frameworkName':_0x2c98fd['frameworkName'],'frameworkVersion':_0x2c98fd['frameworkVersion'],'sdkVersion':bsSetupHelper[_0x550208(0x135)]()},'product_map':_0x3f4551[_0x550208(0xe9)](getProductMap,_0x30bcbc),'test_orchestration':_0x3f4551[_0x550208(0x106)](getTestOrchestrationBuildStartData,_0x30bcbc)},_0xcc9977={};_0xcc9977[_0x550208(0xf2)]=_0x117bad,_0xcc9977[_0x550208(0xee)]=_0x31541d;const _0x55aa7a={'auth':_0xcc9977,'headers':_0x3f4551[_0x550208(0x106)](getDefaultHeaders,![])},_0x46eb22=await _0x3f4551['vdLVU'](nodeRequest,_0x3f4551[_0x550208(0xfb)],_0x3f4551['IgVUC'],_0x2ac5d3,_0x55aa7a);_0x3f4551[_0x550208(0x189)](debug,_0x3f4551[_0x550208(0x10f)]);const _0x1c27e9=_0x46eb22[_0x550208(0x152)];_0x1c27e9[_0x550208(0x16f)]&&(process[_0x550208(0xe7)][_0x550208(0x118)]=_0x1c27e9['build_hashed_id']);if(_0x3f4551[_0x550208(0x18b)](isTestObservabilitySession)){process[_0x550208(0xe7)][_0x550208(0x170)]=_0x3f4551[_0x550208(0xf0)];if(_0x1c27e9[_0x550208(0xe4)]){process[_0x550208(0xe7)][_0x550208(0x13d)]=_0x1c27e9[_0x550208(0xe4)];const _0x2fd38f={};_0x2fd38f[_0x550208(0xf2)]=_0x117bad,_0x2fd38f['password']=_0x31541d,process[_0x550208(0xe7)]['CREDENTIALS_FOR_CRASH_REPORTING']=JSON[_0x550208(0x167)](_0x2fd38f);}_0x1c27e9[_0x550208(0x16f)]&&(process[_0x550208(0xe7)][_0x550208(0x150)]=_0x1c27e9[_0x550208(0x16f)]),_0x1c27e9[_0x550208(0x102)]&&(process[_0x550208(0xe7)][_0x550208(0x15f)]=_0x1c27e9['allow_screenshots'][_0x550208(0x131)]());}return[_0x46eb22[_0x550208(0x152)][_0x550208(0xe4)],_0x46eb22[_0x550208(0x152)][_0x550208(0x16f)],_0x46eb22[_0x550208(0x152)][_0x550208(0x102)]];}catch(_0x3475d0){process[_0x550208(0xe7)][_0x550208(0x118)]=_0x3f4551[_0x550208(0x16a)],process[_0x550208(0xe7)][_0x550208(0x170)]=_0x3f4551['LBybN'],process[_0x550208(0xe7)][_0x550208(0x13d)]=_0x3f4551[_0x550208(0x16a)],process[_0x550208(0xe7)][_0x550208(0x150)]=_0x3f4551[_0x550208(0x16a)],process['env'][_0x550208(0x15f)]=_0x3f4551[_0x550208(0x16a)];_0x3475d0[_0x550208(0x13f)]?_0x3f4551[_0x550208(0x172)](debug,_0x550208(0x10b)+_0x3475d0[_0x550208(0x13f)]['status']+'\x20'+_0x3475d0[_0x550208(0x13f)][_0x550208(0x127)]+'\x20'+JSON[_0x550208(0x167)](_0x3475d0['response'][_0x550208(0x152)])):_0x3f4551[_0x550208(0x106)](debug,_0x550208(0x10b)+(_0x3475d0[_0x550208(0xed)]||_0x3475d0));if(_0x3475d0&&_0x3475d0[_0x550208(0xed)]){const _0x42d9a1=_0x3475d0[_0x550208(0xed)];switch(_0x3475d0[_0x550208(0x17c)]){case _0x3f4551[_0x550208(0x178)]:logger[_0x550208(0xef)](_0x42d9a1);break;case _0x3f4551['QPzqS']:logger[_0x550208(0x11c)](_0x42d9a1);break;case _0x3f4551[_0x550208(0x120)]:logger[_0x550208(0xef)](_0x42d9a1);break;default:logger['error'](_0x42d9a1);}}else console['info'](_0x550208(0x12c)+constants[_0x550208(0x186)]+_0x550208(0xe8)+_0x3475d0);return[null,null,null];}}static async[a126_0x748072(0x168)](){const _0x502910=a126_0x748072,_0x2f3bde={'BhqEg':_0x502910(0x14b),'chlIi':'false','vQbWn':function(_0x4d76c7,_0xaca237){return _0x4d76c7(_0xaca237);}},_0x1b3085=process['env'][_0x502910(0x170)];if([_0x2f3bde[_0x502910(0xe3)],_0x2f3bde[_0x502910(0x143)]]['includes'](_0x1b3085))return;while([_0x2f3bde[_0x502910(0xe3)],_0x2f3bde[_0x502910(0x143)]][_0x502910(0xe6)](_0x1b3085)){await _0x2f3bde[_0x502910(0x17e)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static[a126_0x748072(0xfc)](_0x562404){const _0x4ae6cc=a126_0x748072,_0x56cc6f={};_0x56cc6f[_0x4ae6cc(0x14c)]=_0x4ae6cc(0xea),_0x56cc6f['KbbNY']=_0x4ae6cc(0x149),_0x56cc6f[_0x4ae6cc(0x15c)]='Test_Skipped_Upload',_0x56cc6f[_0x4ae6cc(0xf8)]=_0x4ae6cc(0x146),_0x56cc6f[_0x4ae6cc(0x123)]='Hook_Start_Upload',_0x56cc6f[_0x4ae6cc(0x166)]=_0x4ae6cc(0x16d),_0x56cc6f[_0x4ae6cc(0x184)]=_0x4ae6cc(0x11a);const _0x497ede=_0x56cc6f,_0x39a07d={};return _0x39a07d[_0x4ae6cc(0x125)]=_0x497ede[_0x4ae6cc(0x14c)],_0x39a07d['TestRunFinished']=_0x497ede[_0x4ae6cc(0x16b)],_0x39a07d[_0x4ae6cc(0x174)]=_0x497ede['aARjR'],_0x39a07d[_0x4ae6cc(0xf9)]=_0x497ede[_0x4ae6cc(0xf8)],_0x39a07d['HookRunStarted']=_0x497ede[_0x4ae6cc(0x123)],_0x39a07d['HookRunFinished']=_0x497ede[_0x4ae6cc(0x166)],_0x39a07d[_0x4ae6cc(0x11b)]=_0x497ede[_0x4ae6cc(0x184)],_0x39a07d[_0x562404[_0x4ae6cc(0x139)]];}static async[a126_0x748072(0x13a)](_0x5aae68,_0x426839=0x0,_0x234d89=null){const _0x2f7361=a126_0x748072,_0x98f8ca={'gsCOX':function(_0x1ad9db,_0x1c8b82){return _0x1ad9db===_0x1c8b82;},'UPOpW':_0x2f7361(0xec),'HZbZZ':function(_0x3bd4a4,_0x500684){return _0x3bd4a4!==_0x500684;},'tupzU':_0x2f7361(0x128),'naWVn':'true','TDTTA':function(_0x189c5e,_0x68383f){return _0x189c5e===_0x68383f;},'nwCDW':function(_0x59db04,_0x4cc0ff,_0x14885e,_0x304e7f,_0x511963){return _0x59db04(_0x4cc0ff,_0x14885e,_0x304e7f,_0x511963);},'jgcgm':_0x2f7361(0x12b),'ThmqQ':function(_0x394c9b,_0x1a768e,_0x4e282d,_0x5caf80,_0x5c0c65){return _0x394c9b(_0x1a768e,_0x4e282d,_0x5caf80,_0x5c0c65);},'euLTH':function(_0x238642,_0x2ebe22){return _0x238642(_0x2ebe22);},'WPnVL':function(_0x5a9379,_0x608c1a){return _0x5a9379!==_0x608c1a;},'fjqih':'Batch-Queue','BNxDw':function(_0x565c3d,_0x16673a){return _0x565c3d-_0x16673a;},'NXCnF':function(_0x2ce56,_0x401242){return _0x2ce56===_0x401242;},'iUBOE':_0x2f7361(0x173),'PrsjO':_0x2f7361(0x163),'HSXPA':function(_0x59c528,_0x3352a2){return _0x59c528(_0x3352a2);},'yDYKq':function(_0x5e1411,_0x395330){return _0x5e1411-_0x395330;},'tLRve':function(_0x545506,_0x27ee1f){return _0x545506===_0x27ee1f;},'AzJFF':'error'};_0x98f8ca[_0x2f7361(0x112)](_0x234d89,_0x98f8ca[_0x2f7361(0x155)])&&logger[_0x2f7361(0x10d)](_0x2f7361(0x183)+_0x5aae68[_0x2f7361(0x117)][0x0]['test_run_uuid']);const _0x30cd6d=await this[_0x2f7361(0xfc)](_0x5aae68);let _0x3e3223=_0x5aae68,_0x377fc9=EVENT_ENDPOINT;_0x98f8ca[_0x2f7361(0xeb)](_0x234d89,_0x98f8ca[_0x2f7361(0x155)])&&this[_0x2f7361(0x12f)][_0x2f7361(0x107)]();const {shouldProceed:_0xe9b1fc,proceedWithData:_0x4b539e,proceedWithUrl:_0x4c2e75}=this[_0x2f7361(0x12f)][_0x2f7361(0x187)](_0x5aae68);if(!_0xe9b1fc)return;else _0x4b539e&&(_0x3e3223=_0x4b539e,_0x377fc9=_0x4c2e75);const _0x4ebe56={};_0x4ebe56[_0x2f7361(0x119)]=_0x2f7361(0x16e)+process[_0x2f7361(0xe7)][_0x2f7361(0xf1)],_0x4ebe56[_0x2f7361(0x121)]=_0x98f8ca['tupzU'],_0x4ebe56['X-BSTACK-TESTOPS']=_0x98f8ca['naWVn'];const _0xc71bc9={};_0xc71bc9[_0x2f7361(0x157)]=_0x4ebe56;const _0x2b1c8c=_0xc71bc9;let _0x191880;try{_0x98f8ca[_0x2f7361(0xfd)](_0x234d89,_0x98f8ca[_0x2f7361(0x155)])?(logger[_0x2f7361(0x10d)]('Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20'+_0x5aae68?.[_0x2f7361(0x117)][0x0]?.[_0x2f7361(0x175)]),_0x191880=await _0x98f8ca[_0x2f7361(0x12a)](asyncAwaitNodeReq,_0x98f8ca[_0x2f7361(0xf6)],_0x377fc9,_0x3e3223,_0x2b1c8c),logger[_0x2f7361(0x10d)](_0x2f7361(0xf4)+_0x5aae68?.[_0x2f7361(0x117)][0x0]?.['test_run_uuid'])):_0x191880=await _0x98f8ca['ThmqQ'](nodeRequest,_0x98f8ca['jgcgm'],_0x377fc9,_0x3e3223,_0x2b1c8c);if(_0x191880['data'][_0x2f7361(0xef)]){const _0x4a453f={};_0x4a453f[_0x2f7361(0xed)]=_0x191880['data'][_0x2f7361(0xef)];throw _0x4a453f;}else{_0x98f8ca[_0x2f7361(0x11f)](debug,(_0x98f8ca['WPnVL'](_0x377fc9,this['requestQueueHandler'][_0x2f7361(0x15d)])?_0x30cd6d:_0x98f8ca[_0x2f7361(0x182)])+'['+_0x426839+_0x2f7361(0x12e)),this[_0x2f7361(0x12f)][_0x2f7361(0x13b)]=Math[_0x2f7361(0x171)](0x0,_0x98f8ca['BNxDw'](this[_0x2f7361(0x12f)][_0x2f7361(0x13b)],_0x98f8ca[_0x2f7361(0x129)](_0x377fc9,_0x98f8ca[_0x2f7361(0x169)])?0x1:_0x3e3223['length']));const _0x509a48={};return _0x509a48[_0x2f7361(0xfa)]=_0x98f8ca[_0x2f7361(0x105)],_0x509a48[_0x2f7361(0xed)]='',_0x509a48;}}catch(_0x53f4f4){_0x53f4f4['response']?_0x98f8ca['HSXPA'](debug,_0x2f7361(0x11d)+(_0x98f8ca[_0x2f7361(0x154)](_0x377fc9,this['requestQueueHandler'][_0x2f7361(0x15d)])?_0x30cd6d:_0x98f8ca['fjqih'])+'\x20REQUEST\x20TO\x20'+constants[_0x2f7361(0x186)]+'\x20:\x20'+_0x53f4f4[_0x2f7361(0x13f)]['status']+'\x20'+_0x53f4f4['response'][_0x2f7361(0x127)]+'\x20'+util['format'](_0x53f4f4[_0x2f7361(0x13f)][_0x2f7361(0x152)])):_0x98f8ca['HSXPA'](debug,_0x2f7361(0x11d)+(_0x98f8ca[_0x2f7361(0xeb)](_0x377fc9,this[_0x2f7361(0x12f)][_0x2f7361(0x15d)])?_0x30cd6d:_0x98f8ca[_0x2f7361(0x182)])+_0x2f7361(0x11e)+constants[_0x2f7361(0x186)]+_0x2f7361(0x162)+util['format'](_0x53f4f4));this[_0x2f7361(0x12f)][_0x2f7361(0x13b)]=Math[_0x2f7361(0x171)](0x0,_0x98f8ca[_0x2f7361(0x144)](this['requestQueueHandler'][_0x2f7361(0x13b)],_0x98f8ca['tLRve'](_0x377fc9,_0x98f8ca['iUBOE'])?0x1:_0x3e3223['length']));const _0x579b3d={};return _0x579b3d['status']=_0x98f8ca['AzJFF'],_0x579b3d[_0x2f7361(0xed)]=_0x53f4f4[_0x2f7361(0xed)]||(_0x53f4f4[_0x2f7361(0x13f)]?_0x53f4f4['response'][_0x2f7361(0xfa)]+':'+_0x53f4f4['response'][_0x2f7361(0x127)]:_0x53f4f4),_0x579b3d;}}static async[a126_0x748072(0x164)](_0xff765f,_0x3b5221=0x0){const _0x26e821=a126_0x748072,_0x19ba02={'eKyTm':function(_0x15db4e,_0x5bd330){return _0x15db4e+_0x5bd330;},'iewsU':function(_0x37630b,_0x2074a6){return _0x37630b(_0x2074a6);},'FFyGs':_0x26e821(0x159),'bROCa':_0x26e821(0x138),'aqpxO':_0x26e821(0xf7),'VpqdO':function(_0x38ff14,_0x2a308b,_0x2eabed){return _0x38ff14(_0x2a308b,_0x2eabed);},'zDAfb':'uploadEventData','TXOIf':function(_0x13c909,_0x1e1872){return _0x13c909===_0x1e1872;},'ztdbn':function(_0xdc96f3,_0x44902f){return _0xdc96f3!==_0x44902f;},'kNMcM':_0x26e821(0x115),'eHOjf':_0x26e821(0x14b),'jbizb':function(_0x588a1a){return _0x588a1a();},'BqVrt':function(_0x20534d,_0x103c97){return _0x20534d-_0x103c97;},'rmLWv':'error','OgdFm':_0x26e821(0xf3),'gfXQH':function(_0x36851b,_0x491e31){return _0x36851b>=_0x491e31;},'yrdGR':function(_0x2a6247,_0x12126a){return _0x2a6247!==_0x12126a;},'wxXQq':_0x26e821(0xf5),'teAkN':function(_0x19cad8,_0x663842){return _0x19cad8!==_0x663842;},'UDaTY':_0x26e821(0x160),'UnNCB':function(_0x57e235,_0x2af38f,_0x3179ba){return _0x57e235(_0x2af38f,_0x3179ba);}},_0x192627=this[_0x26e821(0xfc)](_0xff765f);_0x19ba02[_0x26e821(0x142)](trace,_0x26e821(0x181)+_0xff765f[_0x26e821(0x139)]+'\x27\x20'+(bsSetupHelper[_0x26e821(0xfe)](_0xff765f,[_0x19ba02['FFyGs'],_0x19ba02[_0x26e821(0x17b)]])||bsSetupHelper[_0x26e821(0xfe)](_0xff765f,[_0x19ba02[_0x26e821(0x103)],_0x19ba02[_0x26e821(0x17b)]])));if(!_0x19ba02[_0x26e821(0x12d)](shouldProcessEventForTesthub,_0xff765f['event_type'],_0x19ba02[_0x26e821(0x141)]))return;_0x19ba02[_0x26e821(0x126)](_0x3b5221,0x0)&&process[_0x26e821(0xe7)][_0x26e821(0xf1)]&&_0x19ba02[_0x26e821(0x15e)](process[_0x26e821(0xe7)]['BROWSERSTACK_TESTHUB_JWT'],_0x19ba02[_0x26e821(0x188)])&&(this['requestQueueHandler'][_0x26e821(0x13b)]+=0x1);if(_0x19ba02[_0x26e821(0x126)](process[_0x26e821(0xe7)][_0x26e821(0x170)],_0x19ba02[_0x26e821(0x185)])||process['env']['BS_A11Y_JWT']||_0x19ba02[_0x26e821(0x17d)](isPercyBuild)){if(_0x19ba02['TXOIf'](process[_0x26e821(0xe7)]['BROWSERSTACK_TESTHUB_JWT'],_0x19ba02[_0x26e821(0x188)])){_0x19ba02[_0x26e821(0x142)](debug,_0x26e821(0x11d)+_0x192627+_0x26e821(0x11e)+constants[_0x26e821(0x186)]+'\x20:\x20missing\x20authentication\x20token'),this[_0x26e821(0x12f)]['pendingUploads']=Math[_0x26e821(0x171)](0x0,_0x19ba02['BqVrt'](this['requestQueueHandler'][_0x26e821(0x13b)],0x1));const _0x47d5cb={};return _0x47d5cb[_0x26e821(0xfa)]=_0x19ba02[_0x26e821(0x134)],_0x47d5cb[_0x26e821(0xed)]=_0x19ba02[_0x26e821(0x151)],_0x47d5cb;}return await this[_0x26e821(0x13a)](_0xff765f,_0x3b5221);}else{if(_0x19ba02[_0x26e821(0x101)](_0x3b5221,0x5)){_0x19ba02[_0x26e821(0x142)](debug,_0x26e821(0x11d)+_0x192627+_0x26e821(0x11e)+constants['TEST_REPORTING_ANALYTICS']+_0x26e821(0x114)+_0x192627+_0x26e821(0x18a));_0x19ba02[_0x26e821(0x13e)](process[_0x26e821(0xe7)][_0x26e821(0xf1)],_0x19ba02['kNMcM'])&&(this[_0x26e821(0x12f)][_0x26e821(0x13b)]=Math[_0x26e821(0x171)](0x0,_0x19ba02[_0x26e821(0x111)](this[_0x26e821(0x12f)][_0x26e821(0x13b)],0x1)));const _0x172d38={};return _0x172d38['status']=_0x19ba02['rmLWv'],_0x172d38[_0x26e821(0xed)]=_0x19ba02[_0x26e821(0x17a)],_0x172d38;}else _0x19ba02['teAkN'](process[_0x26e821(0xe7)][_0x26e821(0x170)],_0x19ba02['UDaTY'])&&_0x19ba02['UnNCB'](setTimeout,()=>{const _0x8b5532=_0x26e821;this['uploadEventData'](_0xff765f,_0x19ba02[_0x8b5532(0x18c)](_0x3b5221,0x1));},0x3e8);}}}module['exports']=SessionHandler;