const a87_0x904a6e=a87_0x2399;(function(_0x5ace6a,_0x3a4abb){const _0x3b35ab=a87_0x2399,_0x19c364=_0x5ace6a();while(!![]){try{const _0x4dc36c=parseInt(_0x3b35ab(0xfd))/0x1*(-parseInt(_0x3b35ab(0xff))/0x2)+-parseInt(_0x3b35ab(0x13f))/0x3+-parseInt(_0x3b35ab(0x158))/0x4*(parseInt(_0x3b35ab(0xe9))/0x5)+-parseInt(_0x3b35ab(0xd9))/0x6+-parseInt(_0x3b35ab(0xc1))/0x7+-parseInt(_0x3b35ab(0x149))/0x8+parseInt(_0x3b35ab(0x131))/0x9*(parseInt(_0x3b35ab(0x119))/0xa);if(_0x4dc36c===_0x3a4abb)break;else _0x19c364['push'](_0x19c364['shift']());}catch(_0x3f1578){_0x19c364['push'](_0x19c364['shift']());}}}(a87_0x471b,0x8f9e1));function a87_0x471b(){const _0x5034af=['jaWMa','info','uuid','./requestQueueHandler','ESDRz','YVXbO','wXlHs','resolve','AlkwR','getCiInfo','GZLtX','DFRYn','icioZ','env','winstonLogger','BS_A11Y_JWT','basename','vSsAz','kgRsV','6037276HKfZSw','event_type','TtnAw','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20missing\x20authentication\x20token','jwt','../../helpers/testhub/utils','ywxez','uploadEventData','Test_End_Upload','LZycG','Retry\x20runs\x20exceeded','uUzia','Data\x20upload\x20to\x20BrowserStack\x20Test\x20Observability\x20failed\x20due\x20to\x20','Log_Upload','enclg','BS_TESTOPS_BUILD_COMPLETED','launch','aVdng','ylWwa','sPogk','TestRunStarted','\x20retry\x20runs\x20exceeded','Hook_End_Upload','false','4677366yVfgxe','Batch-Queue','zXyvA','CREDENTIALS_FOR_CRASH_REPORTING','PyERl','frameworkVersion','frameworkName','null','waitForBuildStatus','requestQueueHandler','username','exports','UDcOh','GbzlJ','LogCreated','statusText','963360WfslJw','application/json','Tudjb','Sending\x20trace\x20zip\x20for\x20test:\x20','api/v1/builds','YObgz','test_run_uuid','PyAhz','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20','eventUrl','BS_TESTOPS_ALLOW_SCREENSHOTS','hook_run','json','response','projectName','buildDescription','dDDsK','toISOString','util','TestRunFinished','2CEvJba','ljqEx','763262rbeiDO','CBTSessionCreated','BS_TESTOPS_BUILD_HASHED_ID','HookRunStarted','tbFHn','nestedKeyValue','../logger','CBT_Upload','zGkhe','logs','message','max','app','XofCe','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','jDvtp','Processing\x20event\x20-\x20\x27','getAgentVersion','sendEventData','length','OqqdB','iwxIy','getLogTag','Build\x20creation\x20successful!','CSZbz','../helper','154190jUrwAN','Content-Type','hhMra','getInstance','getGitMetaData','FBbrx','getHostInfo','error','OtLSW','format','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','mrSTx','PUuGd','buYcr','ebgfz','ERROR_INVALID_CREDENTIALS','add','getAccessKey','roYkt','WBZyO','POST','YVHxR','EXCEPTION\x20IN\x20','BROWSERSTACK_TESTHUB_JWT','3069yQoyDm','sendTraceZip','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20','fphMc','Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20','build_hashed_id','dvoSv','ERROR_SDK_DEPRECATED','umPfl',']\x20event\x20successful!','GOnrx','OvMby','BS_TESTOPS_JWT','pendingUploads','2299770CSkBQo','debug','qeTXj','true','data','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','Hook_Start_Upload','TestRunSkipped','ydddz','stringify','7357800gpcKOO','lsAjw','BROWSERSTACK_RERUN','./constants','password','Bearer\x20','JvzJM','HEZLd','toString','status','api/v1/event','cwd','ERROR_ACCESS_DENIED','errorType','Test_Skipped_Upload','12VmsaBN','AAYgp','buildIdentifier','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','Atgoo','path','iLkzU'];a87_0x471b=function(){return _0x5034af;};return a87_0x471b();}const bsSetupHelper=require(a87_0x904a6e(0x118)),path=require(a87_0x904a6e(0x15d)),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require('./utils'),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require(a87_0x904a6e(0x14c)),RequestQueueHandler=require(a87_0x904a6e(0x162)),logger=require(a87_0x904a6e(0x105))[a87_0x904a6e(0xbc)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap}=require(a87_0x904a6e(0xc6)),util=require(a87_0x904a6e(0xfb));function a87_0x2399(_0x51d7a1,_0x2bdb12){const _0x471b0d=a87_0x471b();return a87_0x2399=function(_0x239919,_0x26bd0c){_0x239919=_0x239919-0xb9;let _0x9480a6=_0x471b0d[_0x239919];return _0x9480a6;},a87_0x2399(_0x51d7a1,_0x2bdb12);}class SessionHandler{static [a87_0x904a6e(0xe2)]=RequestQueueHandler[a87_0x904a6e(0x11c)]();static async[a87_0x904a6e(0xd1)](_0x2ed9cb,_0x131033){const _0x5c2723=a87_0x904a6e,_0x1862eb={'PyERl':function(_0x259044,_0x55f33c){return _0x259044||_0x55f33c;},'lsAjw':function(_0x4c155f,_0x1503d0){return _0x4c155f||_0x1503d0;},'vTGaJ':function(_0x252523,_0x3029ce){return _0x252523===_0x3029ce;},'Tudjb':function(_0x47d3bd,_0x332d96){return _0x47d3bd(_0x332d96);},'wsyhH':_0x5c2723(0x15b),'XofCe':_0x5c2723(0xd8),'ywxez':_0x5c2723(0xf5),'ylWwa':function(_0x5dc852,_0x2fec9c){return _0x5dc852(_0x2fec9c);},'sPogk':function(_0x14bba0,_0x36fba8){return _0x14bba0(_0x36fba8);},'GOnrx':function(_0x400551,_0x24fc14){return _0x400551(_0x24fc14);},'OtLSW':function(_0x1fb32a,_0x1ef998,_0x12510d,_0x1e98d3,_0x3a4ed8){return _0x1fb32a(_0x1ef998,_0x12510d,_0x1e98d3,_0x3a4ed8);},'dnnru':_0x5c2723(0x12d),'rVgOZ':_0x5c2723(0xed),'zXyvA':function(_0x57a202,_0x51a351){return _0x57a202(_0x51a351);},'zJJeu':_0x5c2723(0x116),'YVXbO':function(_0x467a41){return _0x467a41();},'TtnAw':_0x5c2723(0x142),'zGkhe':_0x5c2723(0xe0),'UooTm':function(_0xc4b94,_0x201baf){return _0xc4b94(_0x201baf);},'ejrNL':_0x5c2723(0x128),'OvMby':_0x5c2723(0x155),'wXlHs':_0x5c2723(0x138)},_0x64b08f=bsSetupHelper['getUserName'](_0x2ed9cb),_0x4d6c40=bsSetupHelper[_0x5c2723(0x12a)](_0x2ed9cb),_0x1ca80d=_0x1862eb[_0x5c2723(0xdd)](_0x64b08f,'')+':'+_0x1862eb[_0x5c2723(0x14a)](_0x4d6c40,'');if(_0x1862eb['vTGaJ'](_0x1ca80d,':'))return _0x1862eb[_0x5c2723(0xeb)](debug,_0x1862eb['wsyhH']),process[_0x5c2723(0xbb)][_0x5c2723(0xd0)]=_0x1862eb[_0x5c2723(0x10c)],[null,null];let _0x163974=![],_0x2605d7=![];if(_0x2ed9cb['browserstackAutomation']&&_0x2ed9cb[_0x5c2723(0x10b)])_0x2605d7=!![];else _0x2ed9cb['browserstackAutomation']&&(_0x163974=!![]);try{const _0x3d8cf9={'format':_0x1862eb[_0x5c2723(0xc7)],'project_name':_0x2ed9cb[_0x5c2723(0xf7)]||'','name':_0x2ed9cb['buildName']||path[_0x5c2723(0xbe)](path[_0x5c2723(0x166)](process[_0x5c2723(0x154)]())),'build_identifier':_0x2ed9cb[_0x5c2723(0x15a)],'description':_0x2ed9cb[_0x5c2723(0xf8)]||'','start_time':new Date()[_0x5c2723(0xfa)](),'tags':_0x1862eb[_0x5c2723(0xd3)](getCustomTags,_0x2ed9cb),'host_info':bsSetupHelper[_0x5c2723(0x11f)](),'ci_info':bsSetupHelper[_0x5c2723(0x168)](),'build_run_identifier':process['env']['BROWSERSTACK_BUILD_RUN_IDENTIFIER'],'failed_tests_rerun':process[_0x5c2723(0xbb)][_0x5c2723(0x14b)]||![],'version_control':await bsSetupHelper[_0x5c2723(0x11d)](),'observability_version':{'frameworkName':_0x131033[_0x5c2723(0xdf)],'frameworkVersion':_0x131033[_0x5c2723(0xde)],'sdkVersion':bsSetupHelper[_0x5c2723(0x110)]()},'product_map':_0x1862eb[_0x5c2723(0xd4)](getProductMap,_0x2ed9cb)},_0x5f4a00={};_0x5f4a00[_0x5c2723(0xe3)]=_0x64b08f,_0x5f4a00[_0x5c2723(0x14d)]=_0x4d6c40;const _0x423dd6={'auth':_0x5f4a00,'headers':_0x1862eb[_0x5c2723(0x13b)](getDefaultHeaders,![])},_0x34ea3e=await _0x1862eb[_0x5c2723(0x121)](nodeRequest,_0x1862eb['dnnru'],_0x1862eb['rVgOZ'],_0x3d8cf9,_0x423dd6);_0x1862eb[_0x5c2723(0xdb)](debug,_0x1862eb['zJJeu']);const _0x86ec02=_0x34ea3e[_0x5c2723(0x143)];_0x86ec02[_0x5c2723(0x136)]&&(process['env']['BROWSERSTACK_TESTHUB_UUID']=_0x86ec02[_0x5c2723(0x136)]);if(_0x1862eb[_0x5c2723(0x164)](isTestObservabilitySession)){process[_0x5c2723(0xbb)]['BS_TESTOPS_BUILD_COMPLETED']=_0x1862eb[_0x5c2723(0xc3)];if(_0x86ec02[_0x5c2723(0xc5)]){process['env'][_0x5c2723(0x13d)]=_0x86ec02[_0x5c2723(0xc5)];const _0x2ff956={};_0x2ff956[_0x5c2723(0xe3)]=_0x64b08f,_0x2ff956[_0x5c2723(0x14d)]=_0x4d6c40,process[_0x5c2723(0xbb)][_0x5c2723(0xdc)]=JSON['stringify'](_0x2ff956);}_0x86ec02[_0x5c2723(0x136)]&&(process['env'][_0x5c2723(0x101)]=_0x86ec02[_0x5c2723(0x136)]),_0x86ec02['allow_screenshots']&&(process[_0x5c2723(0xbb)][_0x5c2723(0xf3)]=_0x86ec02['allow_screenshots'][_0x5c2723(0x151)]());}return[_0x34ea3e[_0x5c2723(0x143)][_0x5c2723(0xc5)],_0x34ea3e[_0x5c2723(0x143)][_0x5c2723(0x136)],_0x34ea3e['data']['allow_screenshots']];}catch(_0x216f09){process[_0x5c2723(0xbb)]['BROWSERSTACK_TESTHUB_UUID']=_0x1862eb[_0x5c2723(0x107)],process[_0x5c2723(0xbb)][_0x5c2723(0xd0)]=_0x1862eb[_0x5c2723(0x10c)],process['env']['BS_TESTOPS_JWT']=_0x1862eb[_0x5c2723(0x107)],process['env'][_0x5c2723(0x101)]=_0x1862eb[_0x5c2723(0x107)],process[_0x5c2723(0xbb)]['BS_TESTOPS_ALLOW_SCREENSHOTS']=_0x1862eb[_0x5c2723(0x107)];_0x216f09[_0x5c2723(0xf6)]?_0x1862eb['UooTm'](debug,_0x5c2723(0x10d)+_0x216f09[_0x5c2723(0xf6)][_0x5c2723(0x152)]+'\x20'+_0x216f09[_0x5c2723(0xf6)][_0x5c2723(0xe8)]+'\x20'+JSON[_0x5c2723(0x148)](_0x216f09[_0x5c2723(0xf6)]['data'])):_0x1862eb[_0x5c2723(0xeb)](debug,_0x5c2723(0x10d)+(_0x216f09[_0x5c2723(0x109)]||_0x216f09));if(_0x216f09&&_0x216f09[_0x5c2723(0x109)]){const _0x4c69ef=_0x216f09[_0x5c2723(0x109)];switch(_0x216f09[_0x5c2723(0x156)]){case _0x1862eb['ejrNL']:logger[_0x5c2723(0x120)](_0x4c69ef);break;case _0x1862eb[_0x5c2723(0x13c)]:logger[_0x5c2723(0x160)](_0x4c69ef);break;case _0x1862eb[_0x5c2723(0x165)]:logger[_0x5c2723(0x120)](_0x4c69ef);break;default:logger[_0x5c2723(0x120)](_0x4c69ef);}}else console[_0x5c2723(0x160)](_0x5c2723(0xcd)+_0x216f09);return[null,null,null];}}static async[a87_0x904a6e(0xe1)](){const _0x562abf=a87_0x904a6e,_0x318b13={'ebgfz':_0x562abf(0x142),'CSZbz':'false','kgRsV':function(_0x5a27e9,_0xb91c29){return _0x5a27e9(_0xb91c29);}},_0x4690fa=process['env'][_0x562abf(0xd0)];if([_0x318b13[_0x562abf(0x127)],_0x318b13[_0x562abf(0x117)]]['includes'](_0x4690fa))return;while([_0x318b13[_0x562abf(0x127)],_0x318b13[_0x562abf(0x117)]]['includes'](_0x4690fa)){await _0x318b13[_0x562abf(0xc0)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static[a87_0x904a6e(0x115)](_0x47715c){const _0x36d061=a87_0x904a6e,_0x2d02f4={};_0x2d02f4[_0x36d061(0x12b)]='Test_Start_Upload',_0x2d02f4[_0x36d061(0x139)]=_0x36d061(0xc9),_0x2d02f4[_0x36d061(0x137)]=_0x36d061(0x157),_0x2d02f4[_0x36d061(0x147)]=_0x36d061(0xce),_0x2d02f4['YObgz']=_0x36d061(0x145),_0x2d02f4[_0x36d061(0xcf)]=_0x36d061(0xd7),_0x2d02f4[_0x36d061(0xf9)]=_0x36d061(0x106);const _0x35855d=_0x2d02f4,_0x163aa7={};return _0x163aa7[_0x36d061(0xd5)]=_0x35855d[_0x36d061(0x12b)],_0x163aa7[_0x36d061(0xfc)]=_0x35855d[_0x36d061(0x139)],_0x163aa7[_0x36d061(0x146)]=_0x35855d['dvoSv'],_0x163aa7[_0x36d061(0xe7)]=_0x35855d['ydddz'],_0x163aa7[_0x36d061(0x102)]=_0x35855d[_0x36d061(0xee)],_0x163aa7['HookRunFinished']=_0x35855d[_0x36d061(0xcf)],_0x163aa7[_0x36d061(0x100)]=_0x35855d['dDDsK'],_0x163aa7[_0x47715c['event_type']];}static async[a87_0x904a6e(0x111)](_0x415ea4,_0x214962=0x0,_0x4327f7=null){const _0x3aec01=a87_0x904a6e,_0x3a09b0={'buYcr':function(_0x4f4d72,_0x2d6c74){return _0x4f4d72===_0x2d6c74;},'mrSTx':_0x3aec01(0x132),'vSsAz':function(_0x500c10,_0x166c43){return _0x500c10!==_0x166c43;},'iLkzU':_0x3aec01(0xea),'JvzJM':_0x3aec01(0x142),'AlkwR':function(_0x2f86a8,_0x12bdc0,_0x302b0d,_0x194417,_0x28572d){return _0x2f86a8(_0x12bdc0,_0x302b0d,_0x194417,_0x28572d);},'PyAhz':_0x3aec01(0x12d),'XDlsq':function(_0x4d9b2c,_0x1a64f1){return _0x4d9b2c(_0x1a64f1);},'LZycG':_0x3aec01(0xda),'ljqEx':function(_0x38bd56,_0x49e1b7){return _0x38bd56-_0x49e1b7;},'Atgoo':_0x3aec01(0x153),'fphMc':'success','iwxIy':function(_0xa2c621,_0x315296){return _0xa2c621(_0x315296);},'HKoWo':function(_0xf37f70,_0x2aa0c){return _0xf37f70(_0x2aa0c);},'jaWMa':function(_0x121224,_0x14df61){return _0x121224===_0x14df61;},'AAYgp':_0x3aec01(0x120)};_0x3a09b0['buYcr'](_0x4327f7,_0x3a09b0[_0x3aec01(0x124)])&&logger[_0x3aec01(0x140)](_0x3aec01(0xec)+_0x415ea4[_0x3aec01(0x108)][0x0][_0x3aec01(0xef)]);const _0x2909d1=await this[_0x3aec01(0x115)](_0x415ea4);let _0x452ae5=_0x415ea4,_0x218098=EVENT_ENDPOINT;_0x3a09b0[_0x3aec01(0xbf)](_0x4327f7,_0x3a09b0[_0x3aec01(0x124)])&&this['requestQueueHandler']['start']();const {shouldProceed:_0x43a201,proceedWithData:_0x30ad06,proceedWithUrl:_0x1265f7}=this[_0x3aec01(0xe2)][_0x3aec01(0x129)](_0x415ea4);if(!_0x43a201)return;else _0x30ad06&&(_0x452ae5=_0x30ad06,_0x218098=_0x1265f7);const _0x4f7cf4={};_0x4f7cf4['Authorization']=_0x3aec01(0x14e)+process['env'][_0x3aec01(0x130)],_0x4f7cf4[_0x3aec01(0x11a)]=_0x3a09b0[_0x3aec01(0x15e)],_0x4f7cf4['X-BSTACK-TESTOPS']=_0x3a09b0[_0x3aec01(0x14f)];const _0x2f56da={};_0x2f56da['headers']=_0x4f7cf4;const _0x4babd3=_0x2f56da;let _0x1c6834;try{_0x3a09b0['buYcr'](_0x4327f7,_0x3a09b0[_0x3aec01(0x124)])?(logger[_0x3aec01(0x140)](_0x3aec01(0x135)+_0x415ea4?.['logs'][0x0]?.['test_run_uuid']),_0x1c6834=await _0x3a09b0[_0x3aec01(0x167)](asyncAwaitNodeReq,_0x3a09b0[_0x3aec01(0xf0)],_0x218098,_0x452ae5,_0x4babd3),logger[_0x3aec01(0x140)](_0x3aec01(0x133)+_0x415ea4?.[_0x3aec01(0x108)][0x0]?.[_0x3aec01(0xef)])):_0x1c6834=await _0x3a09b0[_0x3aec01(0x167)](nodeRequest,_0x3a09b0[_0x3aec01(0xf0)],_0x218098,_0x452ae5,_0x4babd3);if(_0x1c6834[_0x3aec01(0x143)][_0x3aec01(0x120)]){const _0x1bc96c={};_0x1bc96c[_0x3aec01(0x109)]=_0x1c6834[_0x3aec01(0x143)][_0x3aec01(0x120)];throw _0x1bc96c;}else{_0x3a09b0['XDlsq'](debug,(_0x3a09b0[_0x3aec01(0xbf)](_0x218098,this['requestQueueHandler']['eventUrl'])?_0x2909d1:_0x3a09b0[_0x3aec01(0xca)])+'['+_0x214962+_0x3aec01(0x13a)),this[_0x3aec01(0xe2)][_0x3aec01(0x13e)]=Math['max'](0x0,_0x3a09b0['ljqEx'](this[_0x3aec01(0xe2)][_0x3aec01(0x13e)],_0x3a09b0[_0x3aec01(0x126)](_0x218098,_0x3a09b0[_0x3aec01(0x15c)])?0x1:_0x452ae5[_0x3aec01(0x112)]));const _0x56ee92={};return _0x56ee92[_0x3aec01(0x152)]=_0x3a09b0[_0x3aec01(0x134)],_0x56ee92['message']='',_0x56ee92;}}catch(_0xfadb8e){_0xfadb8e['response']?_0x3a09b0[_0x3aec01(0x114)](debug,_0x3aec01(0x12f)+(_0x3a09b0[_0x3aec01(0xbf)](_0x218098,this['requestQueueHandler']['eventUrl'])?_0x2909d1:_0x3a09b0['LZycG'])+_0x3aec01(0x144)+_0xfadb8e[_0x3aec01(0xf6)][_0x3aec01(0x152)]+'\x20'+_0xfadb8e[_0x3aec01(0xf6)][_0x3aec01(0xe8)]+'\x20'+util[_0x3aec01(0x122)](_0xfadb8e[_0x3aec01(0xf6)][_0x3aec01(0x143)])):_0x3a09b0['HKoWo'](debug,_0x3aec01(0x12f)+(_0x3a09b0['vSsAz'](_0x218098,this[_0x3aec01(0xe2)][_0x3aec01(0xf2)])?_0x2909d1:_0x3a09b0['LZycG'])+_0x3aec01(0x144)+util['format'](_0xfadb8e));this['requestQueueHandler'][_0x3aec01(0x13e)]=Math[_0x3aec01(0x10a)](0x0,_0x3a09b0[_0x3aec01(0xfe)](this[_0x3aec01(0xe2)][_0x3aec01(0x13e)],_0x3a09b0[_0x3aec01(0x15f)](_0x218098,_0x3a09b0[_0x3aec01(0x15c)])?0x1:_0x452ae5[_0x3aec01(0x112)]));const _0x237cc8={};return _0x237cc8[_0x3aec01(0x152)]=_0x3a09b0[_0x3aec01(0x159)],_0x237cc8[_0x3aec01(0x109)]=_0xfadb8e[_0x3aec01(0x109)]||(_0xfadb8e[_0x3aec01(0xf6)]?_0xfadb8e[_0x3aec01(0xf6)][_0x3aec01(0x152)]+':'+_0xfadb8e[_0x3aec01(0xf6)][_0x3aec01(0xe8)]:_0xfadb8e),_0x237cc8;}}static async['uploadEventData'](_0x2a0c01,_0x2a7623=0x0){const _0x5e2612=a87_0x904a6e,_0x21f17e={'MiLPv':function(_0x1bebd1,_0x1c606a){return _0x1bebd1+_0x1c606a;},'FBbrx':function(_0x57eb74,_0x117b13){return _0x57eb74(_0x117b13);},'GZLtX':'test_run','aVdng':_0x5e2612(0x161),'DFRYn':_0x5e2612(0xf4),'PUuGd':function(_0xf2d65c,_0x46b834,_0x4cfe68){return _0xf2d65c(_0x46b834,_0x4cfe68);},'hhMra':_0x5e2612(0xc8),'GbzlJ':function(_0x825faf,_0x3f1adc){return _0x825faf===_0x3f1adc;},'tbFHn':function(_0x331f06,_0xec9c6e){return _0x331f06!==_0xec9c6e;},'qeTXj':'null','icioZ':'true','ESDRz':function(_0x42d8fe){return _0x42d8fe();},'YVHxR':function(_0x3bf110,_0x273dcd){return _0x3bf110===_0x273dcd;},'WBZyO':function(_0x379fb9,_0x3d73e9){return _0x379fb9-_0x3d73e9;},'OqqdB':'error','UDcOh':_0x5e2612(0x123),'HEZLd':function(_0x30e750,_0x90fc3c){return _0x30e750>=_0x90fc3c;},'lbUlK':function(_0x3a48bd,_0x115a86){return _0x3a48bd(_0x115a86);},'jDvtp':_0x5e2612(0xcb),'dNNOm':function(_0xc8061,_0x483186){return _0xc8061!==_0x483186;},'uUzia':_0x5e2612(0xd8)},_0x5bff60=this[_0x5e2612(0x115)](_0x2a0c01);_0x21f17e['FBbrx'](trace,_0x5e2612(0x10f)+_0x2a0c01[_0x5e2612(0xc2)]+'\x27\x20'+(bsSetupHelper[_0x5e2612(0x104)](_0x2a0c01,[_0x21f17e[_0x5e2612(0x169)],_0x21f17e[_0x5e2612(0xd2)]])||bsSetupHelper[_0x5e2612(0x104)](_0x2a0c01,[_0x21f17e[_0x5e2612(0xb9)],_0x21f17e[_0x5e2612(0xd2)]])));if(!_0x21f17e[_0x5e2612(0x125)](shouldProcessEventForTesthub,_0x2a0c01[_0x5e2612(0xc2)],_0x21f17e[_0x5e2612(0x11b)]))return;_0x21f17e[_0x5e2612(0xe6)](_0x2a7623,0x0)&&process[_0x5e2612(0xbb)][_0x5e2612(0x130)]&&_0x21f17e[_0x5e2612(0x103)](process[_0x5e2612(0xbb)][_0x5e2612(0x130)],_0x21f17e['qeTXj'])&&(this[_0x5e2612(0xe2)]['pendingUploads']+=0x1);if(_0x21f17e['GbzlJ'](process[_0x5e2612(0xbb)][_0x5e2612(0xd0)],_0x21f17e[_0x5e2612(0xba)])||process[_0x5e2612(0xbb)][_0x5e2612(0xbd)]||_0x21f17e[_0x5e2612(0x163)](isPercyBuild)){if(_0x21f17e[_0x5e2612(0x12e)](process[_0x5e2612(0xbb)][_0x5e2612(0x130)],_0x21f17e[_0x5e2612(0x141)])){_0x21f17e[_0x5e2612(0x11e)](debug,_0x5e2612(0x12f)+_0x5bff60+_0x5e2612(0xc4)),this['requestQueueHandler'][_0x5e2612(0x13e)]=Math['max'](0x0,_0x21f17e['WBZyO'](this['requestQueueHandler'][_0x5e2612(0x13e)],0x1));const _0x2ee567={};return _0x2ee567[_0x5e2612(0x152)]=_0x21f17e[_0x5e2612(0x113)],_0x2ee567[_0x5e2612(0x109)]=_0x21f17e[_0x5e2612(0xe5)],_0x2ee567;}return await this[_0x5e2612(0x111)](_0x2a0c01,_0x2a7623);}else{if(_0x21f17e[_0x5e2612(0x150)](_0x2a7623,0x5)){_0x21f17e['lbUlK'](debug,'EXCEPTION\x20IN\x20'+_0x5bff60+_0x5e2612(0xf1)+_0x5bff60+_0x5e2612(0xd6));_0x21f17e[_0x5e2612(0x103)](process['env']['BROWSERSTACK_TESTHUB_JWT'],_0x21f17e[_0x5e2612(0x141)])&&(this['requestQueueHandler'][_0x5e2612(0x13e)]=Math[_0x5e2612(0x10a)](0x0,_0x21f17e[_0x5e2612(0x12c)](this['requestQueueHandler'][_0x5e2612(0x13e)],0x1)));const _0x327c2e={};return _0x327c2e['status']=_0x21f17e['OqqdB'],_0x327c2e[_0x5e2612(0x109)]=_0x21f17e[_0x5e2612(0x10e)],_0x327c2e;}else _0x21f17e['dNNOm'](process[_0x5e2612(0xbb)][_0x5e2612(0xd0)],_0x21f17e[_0x5e2612(0xcc)])&&_0x21f17e[_0x5e2612(0x125)](setTimeout,()=>{const _0x3aa01c=_0x5e2612;this[_0x3aa01c(0xc8)](_0x2a0c01,_0x21f17e['MiLPv'](_0x2a7623,0x1));},0x3e8);}}}module[a87_0x904a6e(0xe4)]=SessionHandler;