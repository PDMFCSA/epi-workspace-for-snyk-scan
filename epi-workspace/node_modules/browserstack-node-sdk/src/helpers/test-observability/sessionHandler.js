const a114_0x44dcdf=a114_0x3787;function a114_0x3787(_0x2877c5,_0x2b3122){const _0x448094=a114_0x4480();return a114_0x3787=function(_0x3787c8,_0x282cac){_0x3787c8=_0x3787c8-0xdb;let _0x596982=_0x448094[_0x3787c8];return _0x596982;},a114_0x3787(_0x2877c5,_0x2b3122);}(function(_0x32e1ea,_0x20167a){const _0x13c13b=a114_0x3787,_0x2cf745=_0x32e1ea();while(!![]){try{const _0x5ef22e=-parseInt(_0x13c13b(0x146))/0x1+parseInt(_0x13c13b(0x17b))/0x2*(parseInt(_0x13c13b(0x131))/0x3)+parseInt(_0x13c13b(0x178))/0x4*(parseInt(_0x13c13b(0x173))/0x5)+parseInt(_0x13c13b(0xe8))/0x6*(-parseInt(_0x13c13b(0xef))/0x7)+parseInt(_0x13c13b(0x169))/0x8*(-parseInt(_0x13c13b(0x153))/0x9)+-parseInt(_0x13c13b(0x155))/0xa+parseInt(_0x13c13b(0xf6))/0xb*(parseInt(_0x13c13b(0xf2))/0xc);if(_0x5ef22e===_0x20167a)break;else _0x2cf745['push'](_0x2cf745['shift']());}catch(_0x2ab05e){_0x2cf745['push'](_0x2cf745['shift']());}}}(a114_0x4480,0x5878a));const bsSetupHelper=require('../helper'),path=require('path'),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require(a114_0x44dcdf(0x14f)),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require(a114_0x44dcdf(0xed)),RequestQueueHandler=require(a114_0x44dcdf(0x14c)),logger=require(a114_0x44dcdf(0x174))[a114_0x44dcdf(0x121)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require(a114_0x44dcdf(0x180)),util=require('util');function a114_0x4480(){const _0x5a65b3=['getAgentVersion','uYjYv','hZyeB','ZYVfc','Log_Upload','kfHMT','getCiInfo','fSdZg','jwt','Processing\x20event\x20-\x20\x27','frameworkName','TestRunStarted','lWudq','kZCZX','uploadEventData','ERROR_INVALID_CREDENTIALS','eventUrl','BROWSERSTACK_TESTHUB_JWT','inspect','CBT_Upload','getInstance','POST','winstonLogger','hook_run','dbiwj','BROWSERSTACK_RERUN','dfUjD','ntRlJ','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','sendEventData','acULt','IdDrW','TestRunFinished','qwvLY','false','NfInf','Batch-Queue','vmkJo','33ZZkvUd','MbEmb','Data\x20upload\x20to\x20BrowserStack\x20Test\x20Observability\x20failed\x20due\x20to\x20','data','resolve','debug','pendingUploads','test_run_uuid','waitForBuildStatus','Sending\x20trace\x20zip\x20for\x20test:\x20','bHhhd','QYQIz','RYYvp','length','browserstackAutomation','HmHuA','true','allow_screenshots','inmUJ','format','api/v1/event','227950hyAVFt','max','password','QheYN','error','EXCEPTION\x20IN\x20','./requestQueueHandler','QMnWO','HookRunFinished','./utils','event_type','api/v1/builds','BS_TESTOPS_BUILD_COMPLETED','441522HYqGQY','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','1458220HNKWpi','start','Build\x20creation\x20successful!','tFYrN','lBZnh','LiSuh','ERROR_ACCESS_DENIED','PzHgp','UVIAe','logs','BROWSERSTACK_TESTHUB_UUID','RiNUX','ArzuD','kTlTW','GImcO','X-BSTACK-TESTOPS','response','RUEHl','info','Test_Start_Upload','112JLpXRM','TkIRs','bncNU','WHdbo','\x20retry\x20runs\x20exceeded','test_run','build_hashed_id','env',']\x20event\x20successful!','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','3501345nNmGuJ','../logger','KWyDh','nestedKeyValue','XRJPV','4EoRGkS','XjNtv','SauRR','104298MkdFgc','BycVe','BS_TESTOPS_ALLOW_SCREENSHOTS','PvQYO','FgIAK','../../helpers/testhub/utils','Content-Type','application/json','headers','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20','uuid','CBTSessionCreated','RORyi','Bearer\x20','SfjqI','LJgJK','AsbWA','mhoox','null','Hook_Start_Upload','buildDescription','message','projectName','6Vsusvi','otYLd','json','fDfIZ','Authorization','./constants','username','1723652bUuzDy','vwhLQ','toISOString','60UnCOhT','WtIdz','yGJIW','statusText','869638eKIXow','requestQueueHandler','status','getGitMetaData','BS_TESTOPS_BUILD_HASHED_ID','BS_A11Y_JWT','rfaUM','basename','toString','cxxqF','BS_TESTOPS_JWT','buildName','includes','stringify','getLogTag','add','ZnpbK','aqLpG','dRJjs','DXCtm','ERROR_SDK_DEPRECATED'];a114_0x4480=function(){return _0x5a65b3;};return a114_0x4480();}class SessionHandler{static [a114_0x44dcdf(0xf7)]=RequestQueueHandler[a114_0x44dcdf(0x11f)]();static async['launch'](_0x473ef0,_0x1b5289){const _0x2edc0=a114_0x44dcdf,_0x378475={'ZnpbK':function(_0x1c840c,_0x2b809a){return _0x1c840c||_0x2b809a;},'hdbZi':function(_0x596514,_0x4205f1){return _0x596514===_0x4205f1;},'XjNtv':function(_0x1b92f4,_0x3c1378){return _0x1b92f4(_0x3c1378);},'kTlTW':'EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','IdDrW':_0x2edc0(0x12d),'KWyDh':_0x2edc0(0xea),'WtIdz':function(_0x24abb7,_0x3d26a7){return _0x24abb7(_0x3d26a7);},'dfUjD':function(_0xa77fd7,_0x321ed1){return _0xa77fd7(_0x321ed1);},'BycVe':function(_0x5364e0,_0x5ca841,_0x495883,_0xe64612,_0xce7f2a){return _0x5364e0(_0x5ca841,_0x495883,_0xe64612,_0xce7f2a);},'hZyeB':_0x2edc0(0x120),'AsbWA':_0x2edc0(0x151),'LiSuh':_0x2edc0(0x157),'fDfIZ':function(_0x1b17da){return _0x1b17da();},'wQJkC':_0x2edc0(0x141),'lWudq':_0x2edc0(0xe3),'UVIAe':function(_0x41f1f7,_0x5b0fdd){return _0x41f1f7(_0x5b0fdd);},'DXCtm':_0x2edc0(0x11a),'uYjYv':_0x2edc0(0x15b),'Ultiq':_0x2edc0(0x10a)};logger[_0x2edc0(0x167)]('Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20'+util[_0x2edc0(0x11d)](_0x473ef0));const _0xee7295=bsSetupHelper['getUserName'](_0x473ef0),_0x317439=bsSetupHelper['getAccessKey'](_0x473ef0),_0x1f4259=_0x378475[_0x2edc0(0x106)](_0xee7295,'')+':'+_0x378475['ZnpbK'](_0x317439,'');if(_0x378475['hdbZi'](_0x1f4259,':'))return _0x378475[_0x2edc0(0x179)](debug,_0x378475[_0x2edc0(0x162)]),process['env'][_0x2edc0(0x152)]=_0x378475[_0x2edc0(0x12a)],[null,null];let _0x2d492b=![],_0xbb0179=![];if(_0x473ef0[_0x2edc0(0x13f)]&&_0x473ef0['app'])_0xbb0179=!![];else _0x473ef0['browserstackAutomation']&&(_0x2d492b=!![]);try{const _0x30c1c3={'format':_0x378475[_0x2edc0(0x175)],'project_name':_0x473ef0[_0x2edc0(0xe7)]||'','name':_0x473ef0[_0x2edc0(0x101)]||path[_0x2edc0(0xfd)](path[_0x2edc0(0x135)](process['cwd']())),'build_identifier':_0x473ef0['buildIdentifier'],'description':_0x473ef0[_0x2edc0(0xe5)]||'','start_time':new Date()[_0x2edc0(0xf1)](),'tags':_0x378475[_0x2edc0(0x179)](getCustomTags,_0x473ef0),'host_info':bsSetupHelper['getHostInfo'](),'ci_info':bsSetupHelper[_0x2edc0(0x111)](),'build_run_identifier':process[_0x2edc0(0x170)]['BROWSERSTACK_BUILD_RUN_IDENTIFIER'],'failed_tests_rerun':process[_0x2edc0(0x170)][_0x2edc0(0x124)]||![],'version_control':await bsSetupHelper[_0x2edc0(0xf9)](),'observability_version':{'frameworkName':_0x1b5289[_0x2edc0(0x115)],'frameworkVersion':_0x1b5289['frameworkVersion'],'sdkVersion':bsSetupHelper[_0x2edc0(0x10b)]()},'product_map':_0x378475[_0x2edc0(0xf3)](getProductMap,_0x473ef0),'test_orchestration':_0x378475[_0x2edc0(0x179)](getTestOrchestrationBuildStartData,_0x473ef0)},_0x59cb06={};_0x59cb06[_0x2edc0(0xee)]=_0xee7295,_0x59cb06[_0x2edc0(0x148)]=_0x317439;const _0x1c8c42={'auth':_0x59cb06,'headers':_0x378475[_0x2edc0(0x125)](getDefaultHeaders,![])},_0x201803=await _0x378475[_0x2edc0(0x17c)](nodeRequest,_0x378475[_0x2edc0(0x10d)],_0x378475[_0x2edc0(0xe1)],_0x30c1c3,_0x1c8c42);_0x378475[_0x2edc0(0x125)](debug,_0x378475[_0x2edc0(0x15a)]);const _0x48869d=_0x201803[_0x2edc0(0x134)];_0x48869d['build_hashed_id']&&(process[_0x2edc0(0x170)][_0x2edc0(0x15f)]=_0x48869d['build_hashed_id']);if(_0x378475[_0x2edc0(0xeb)](isTestObservabilitySession)){process[_0x2edc0(0x170)][_0x2edc0(0x152)]=_0x378475['wQJkC'];if(_0x48869d[_0x2edc0(0x113)]){process['env'][_0x2edc0(0x100)]=_0x48869d[_0x2edc0(0x113)];const _0x1af137={};_0x1af137[_0x2edc0(0xee)]=_0xee7295,_0x1af137[_0x2edc0(0x148)]=_0x317439,process[_0x2edc0(0x170)]['CREDENTIALS_FOR_CRASH_REPORTING']=JSON[_0x2edc0(0x103)](_0x1af137);}_0x48869d[_0x2edc0(0x16f)]&&(process[_0x2edc0(0x170)][_0x2edc0(0xfa)]=_0x48869d[_0x2edc0(0x16f)]),_0x48869d['allow_screenshots']&&(process[_0x2edc0(0x170)][_0x2edc0(0x17d)]=_0x48869d[_0x2edc0(0x142)][_0x2edc0(0xfe)]());}return[_0x201803['data'][_0x2edc0(0x113)],_0x201803[_0x2edc0(0x134)][_0x2edc0(0x16f)],_0x201803[_0x2edc0(0x134)][_0x2edc0(0x142)]];}catch(_0x43cd0d){process[_0x2edc0(0x170)][_0x2edc0(0x15f)]=_0x378475[_0x2edc0(0x117)],process[_0x2edc0(0x170)][_0x2edc0(0x152)]=_0x378475['IdDrW'],process['env']['BS_TESTOPS_JWT']=_0x378475[_0x2edc0(0x117)],process['env']['BS_TESTOPS_BUILD_HASHED_ID']=_0x378475['lWudq'],process['env']['BS_TESTOPS_ALLOW_SCREENSHOTS']=_0x378475[_0x2edc0(0x117)];_0x43cd0d['response']?_0x378475[_0x2edc0(0x125)](debug,_0x2edc0(0x127)+_0x43cd0d[_0x2edc0(0x165)]['status']+'\x20'+_0x43cd0d[_0x2edc0(0x165)]['statusText']+'\x20'+JSON['stringify'](_0x43cd0d[_0x2edc0(0x165)]['data'])):_0x378475[_0x2edc0(0x15d)](debug,_0x2edc0(0x127)+(_0x43cd0d[_0x2edc0(0xe6)]||_0x43cd0d));if(_0x43cd0d&&_0x43cd0d['message']){const _0x30ca90=_0x43cd0d[_0x2edc0(0xe6)];switch(_0x43cd0d['errorType']){case _0x378475[_0x2edc0(0x109)]:logger['error'](_0x30ca90);break;case _0x378475[_0x2edc0(0x10c)]:logger[_0x2edc0(0x167)](_0x30ca90);break;case _0x378475['Ultiq']:logger[_0x2edc0(0x14a)](_0x30ca90);break;default:logger[_0x2edc0(0x14a)](_0x30ca90);}}else console[_0x2edc0(0x167)](_0x2edc0(0x133)+_0x43cd0d);return[null,null,null];}}static async[a114_0x44dcdf(0x139)](){const _0x55e847=a114_0x44dcdf,_0x4e3cce={'mhoox':_0x55e847(0x141),'yGJIW':_0x55e847(0x12d),'bncNU':function(_0x1f4803,_0x40ed40){return _0x1f4803(_0x40ed40);}},_0xfd455=process[_0x55e847(0x170)][_0x55e847(0x152)];if([_0x4e3cce[_0x55e847(0xe2)],_0x4e3cce[_0x55e847(0xf4)]][_0x55e847(0x102)](_0xfd455))return;while([_0x4e3cce['mhoox'],_0x4e3cce[_0x55e847(0xf4)]][_0x55e847(0x102)](_0xfd455)){await _0x4e3cce[_0x55e847(0x16b)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static[a114_0x44dcdf(0x104)](_0x1071b8){const _0x2377df=a114_0x44dcdf,_0x76a5b8={};_0x76a5b8[_0x2377df(0x13b)]=_0x2377df(0x168),_0x76a5b8['acULt']='Test_End_Upload',_0x76a5b8['cxxqF']='Test_Skipped_Upload',_0x76a5b8[_0x2377df(0xe0)]=_0x2377df(0x10f),_0x76a5b8[_0x2377df(0x12e)]=_0x2377df(0xe4),_0x76a5b8[_0x2377df(0xdf)]='Hook_End_Upload',_0x76a5b8['vmkJo']=_0x2377df(0x11e);const _0x53a64c=_0x76a5b8,_0x1de451={};return _0x1de451[_0x2377df(0x116)]=_0x53a64c[_0x2377df(0x13b)],_0x1de451[_0x2377df(0x12b)]=_0x53a64c[_0x2377df(0x129)],_0x1de451['TestRunSkipped']=_0x53a64c[_0x2377df(0xff)],_0x1de451['LogCreated']=_0x53a64c[_0x2377df(0xe0)],_0x1de451['HookRunStarted']=_0x53a64c[_0x2377df(0x12e)],_0x1de451[_0x2377df(0x14e)]=_0x53a64c['SfjqI'],_0x1de451[_0x2377df(0xdc)]=_0x53a64c[_0x2377df(0x130)],_0x1de451[_0x1071b8[_0x2377df(0x150)]];}static async[a114_0x44dcdf(0x128)](_0x5b6a5b,_0x1eab83=0x0,_0x52501c=null){const _0x1d97ed=a114_0x44dcdf,_0x1bf303={'RiNUX':function(_0x13619b,_0x256e19){return _0x13619b===_0x256e19;},'RORyi':'sendTraceZip','FwSkN':function(_0x1fd0c0,_0x1f0f55){return _0x1fd0c0!==_0x1f0f55;},'rfaUM':_0x1d97ed(0x182),'hJhXI':_0x1d97ed(0x141),'ArzuD':function(_0x4185f6,_0x23f8a3){return _0x4185f6===_0x23f8a3;},'UQfKo':function(_0x4e8ad3,_0x379775,_0xb15e79,_0x475284,_0x27412f){return _0x4e8ad3(_0x379775,_0xb15e79,_0x475284,_0x27412f);},'RUEHl':_0x1d97ed(0x120),'DbmhP':function(_0x4a2120,_0x42dd68,_0x56226b,_0x726b5f,_0x54ff1c){return _0x4a2120(_0x42dd68,_0x56226b,_0x726b5f,_0x54ff1c);},'ZYVfc':function(_0x2ad4ff,_0x4fc1cb){return _0x2ad4ff(_0x4fc1cb);},'DGuEe':function(_0x2b2282,_0x23ee17){return _0x2b2282!==_0x23ee17;},'PvQYO':_0x1d97ed(0x12f),'NkSBX':function(_0x4ef622,_0x25f8ad){return _0x4ef622-_0x25f8ad;},'tFYrN':_0x1d97ed(0x145),'QMnWO':'success','vwhLQ':function(_0xb7c14,_0x335f89){return _0xb7c14!==_0x335f89;},'GImcO':function(_0x332278,_0x2dad68){return _0x332278(_0x2dad68);},'EvDbG':function(_0x57bf80,_0x3e0c58){return _0x57bf80-_0x3e0c58;},'QYQIz':function(_0x3f69a8,_0x51e963){return _0x3f69a8===_0x51e963;},'WHdbo':'error'};_0x1bf303[_0x1d97ed(0x160)](_0x52501c,_0x1bf303[_0x1d97ed(0xdd)])&&logger[_0x1d97ed(0x136)](_0x1d97ed(0x13a)+_0x5b6a5b['logs'][0x0][_0x1d97ed(0x138)]);const _0x1bb922=await this['getLogTag'](_0x5b6a5b);let _0x39d007=_0x5b6a5b,_0x45878c=EVENT_ENDPOINT;_0x1bf303['FwSkN'](_0x52501c,_0x1bf303[_0x1d97ed(0xdd)])&&this[_0x1d97ed(0xf7)][_0x1d97ed(0x156)]();const {shouldProceed:_0x406bd0,proceedWithData:_0x4ce27a,proceedWithUrl:_0x4eec52}=this[_0x1d97ed(0xf7)][_0x1d97ed(0x105)](_0x5b6a5b);if(!_0x406bd0)return;else _0x4ce27a&&(_0x39d007=_0x4ce27a,_0x45878c=_0x4eec52);const _0xbfa05f={};_0xbfa05f[_0x1d97ed(0xec)]=_0x1d97ed(0xde)+process[_0x1d97ed(0x170)]['BROWSERSTACK_TESTHUB_JWT'],_0xbfa05f[_0x1d97ed(0x181)]=_0x1bf303[_0x1d97ed(0xfc)],_0xbfa05f[_0x1d97ed(0x164)]=_0x1bf303['hJhXI'];const _0x149187={};_0x149187[_0x1d97ed(0x183)]=_0xbfa05f;const _0x2ff047=_0x149187;let _0x5e648b;try{_0x1bf303[_0x1d97ed(0x161)](_0x52501c,_0x1bf303['RORyi'])?(logger[_0x1d97ed(0x136)]('Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20'+_0x5b6a5b?.[_0x1d97ed(0x15e)][0x0]?.[_0x1d97ed(0x138)]),_0x5e648b=await _0x1bf303['UQfKo'](asyncAwaitNodeReq,_0x1bf303[_0x1d97ed(0x166)],_0x45878c,_0x39d007,_0x2ff047),logger[_0x1d97ed(0x136)](_0x1d97ed(0x184)+_0x5b6a5b?.[_0x1d97ed(0x15e)][0x0]?.[_0x1d97ed(0x138)])):_0x5e648b=await _0x1bf303['DbmhP'](nodeRequest,_0x1bf303[_0x1d97ed(0x166)],_0x45878c,_0x39d007,_0x2ff047);if(_0x5e648b[_0x1d97ed(0x134)][_0x1d97ed(0x14a)]){const _0x14dad3={};_0x14dad3[_0x1d97ed(0xe6)]=_0x5e648b[_0x1d97ed(0x134)][_0x1d97ed(0x14a)];throw _0x14dad3;}else{_0x1bf303[_0x1d97ed(0x10e)](debug,(_0x1bf303['DGuEe'](_0x45878c,this[_0x1d97ed(0xf7)]['eventUrl'])?_0x1bb922:_0x1bf303[_0x1d97ed(0x17e)])+'['+_0x1eab83+_0x1d97ed(0x171)),this[_0x1d97ed(0xf7)][_0x1d97ed(0x137)]=Math[_0x1d97ed(0x147)](0x0,_0x1bf303['NkSBX'](this[_0x1d97ed(0xf7)]['pendingUploads'],_0x1bf303['ArzuD'](_0x45878c,_0x1bf303[_0x1d97ed(0x158)])?0x1:_0x39d007[_0x1d97ed(0x13e)]));const _0x457033={};return _0x457033['status']=_0x1bf303[_0x1d97ed(0x14d)],_0x457033[_0x1d97ed(0xe6)]='',_0x457033;}}catch(_0x4c4190){_0x4c4190[_0x1d97ed(0x165)]?_0x1bf303[_0x1d97ed(0x10e)](debug,_0x1d97ed(0x14b)+(_0x1bf303[_0x1d97ed(0xf0)](_0x45878c,this[_0x1d97ed(0xf7)][_0x1d97ed(0x11b)])?_0x1bb922:_0x1bf303[_0x1d97ed(0x17e)])+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20'+_0x4c4190[_0x1d97ed(0x165)][_0x1d97ed(0xf8)]+'\x20'+_0x4c4190[_0x1d97ed(0x165)][_0x1d97ed(0xf5)]+'\x20'+util[_0x1d97ed(0x144)](_0x4c4190[_0x1d97ed(0x165)]['data'])):_0x1bf303[_0x1d97ed(0x163)](debug,_0x1d97ed(0x14b)+(_0x1bf303['FwSkN'](_0x45878c,this[_0x1d97ed(0xf7)]['eventUrl'])?_0x1bb922:_0x1bf303[_0x1d97ed(0x17e)])+_0x1d97ed(0x154)+util['format'](_0x4c4190));this[_0x1d97ed(0xf7)][_0x1d97ed(0x137)]=Math[_0x1d97ed(0x147)](0x0,_0x1bf303['EvDbG'](this[_0x1d97ed(0xf7)][_0x1d97ed(0x137)],_0x1bf303[_0x1d97ed(0x13c)](_0x45878c,_0x1bf303['tFYrN'])?0x1:_0x39d007[_0x1d97ed(0x13e)]));const _0x1ae1c2={};return _0x1ae1c2[_0x1d97ed(0xf8)]=_0x1bf303[_0x1d97ed(0x16c)],_0x1ae1c2['message']=_0x4c4190[_0x1d97ed(0xe6)]||(_0x4c4190[_0x1d97ed(0x165)]?_0x4c4190[_0x1d97ed(0x165)][_0x1d97ed(0xf8)]+':'+_0x4c4190[_0x1d97ed(0x165)][_0x1d97ed(0xf5)]:_0x4c4190),_0x1ae1c2;}}static async[a114_0x44dcdf(0x119)](_0x50dfce,_0x1d8925=0x0){const _0x2fa757=a114_0x44dcdf,_0x435d7b={'QheYN':function(_0x2c42b4,_0x417375){return _0x2c42b4+_0x417375;},'MbEmb':function(_0xb9f2d3,_0x32aafa){return _0xb9f2d3(_0x32aafa);},'lBZnh':_0x2fa757(0x16e),'aqLpG':_0x2fa757(0xdb),'XRJPV':_0x2fa757(0x122),'fSdZg':function(_0x54edd3,_0x2b6fc4,_0x1604bd){return _0x54edd3(_0x2b6fc4,_0x1604bd);},'dRJjs':_0x2fa757(0x119),'kZCZX':function(_0xe2d3db,_0x5ea305){return _0xe2d3db===_0x5ea305;},'FgIAK':function(_0x5456de,_0x3cd82a){return _0x5456de!==_0x3cd82a;},'qwvLY':_0x2fa757(0xe3),'TkIRs':function(_0x2005f5,_0x208ca1){return _0x2005f5===_0x208ca1;},'SauRR':'true','HmHuA':function(_0x1b9e55){return _0x1b9e55();},'PzHgp':function(_0xb58e89,_0x2f9976){return _0xb58e89-_0x2f9976;},'otYLd':_0x2fa757(0x14a),'inmUJ':_0x2fa757(0x172),'EUxKZ':function(_0x18fe96,_0x463bb4){return _0x18fe96>=_0x463bb4;},'FgCnY':function(_0x4e885f,_0x56ca04){return _0x4e885f(_0x56ca04);},'dbiwj':function(_0x5cb0f0,_0x281c95){return _0x5cb0f0-_0x281c95;},'RYYvp':'Retry\x20runs\x20exceeded','WKamE':function(_0x2da8e9,_0x3d8465){return _0x2da8e9!==_0x3d8465;},'kfHMT':_0x2fa757(0x12d),'ntRlJ':function(_0x47ff65,_0x54d67b,_0x52d010){return _0x47ff65(_0x54d67b,_0x52d010);}},_0x45da30=this[_0x2fa757(0x104)](_0x50dfce);_0x435d7b['MbEmb'](trace,_0x2fa757(0x114)+_0x50dfce['event_type']+'\x27\x20'+(bsSetupHelper[_0x2fa757(0x176)](_0x50dfce,[_0x435d7b[_0x2fa757(0x159)],_0x435d7b[_0x2fa757(0x107)]])||bsSetupHelper[_0x2fa757(0x176)](_0x50dfce,[_0x435d7b[_0x2fa757(0x177)],_0x435d7b[_0x2fa757(0x107)]])));if(!_0x435d7b[_0x2fa757(0x112)](shouldProcessEventForTesthub,_0x50dfce[_0x2fa757(0x150)],_0x435d7b[_0x2fa757(0x108)]))return;_0x435d7b[_0x2fa757(0x118)](_0x1d8925,0x0)&&process[_0x2fa757(0x170)][_0x2fa757(0x11c)]&&_0x435d7b[_0x2fa757(0x17f)](process[_0x2fa757(0x170)][_0x2fa757(0x11c)],_0x435d7b['qwvLY'])&&(this[_0x2fa757(0xf7)][_0x2fa757(0x137)]+=0x1);if(_0x435d7b[_0x2fa757(0x16a)](process[_0x2fa757(0x170)][_0x2fa757(0x152)],_0x435d7b[_0x2fa757(0x17a)])||process[_0x2fa757(0x170)][_0x2fa757(0xfb)]||_0x435d7b[_0x2fa757(0x140)](isPercyBuild)){if(_0x435d7b[_0x2fa757(0x118)](process[_0x2fa757(0x170)]['BROWSERSTACK_TESTHUB_JWT'],_0x435d7b['qwvLY'])){_0x435d7b[_0x2fa757(0x132)](debug,_0x2fa757(0x14b)+_0x45da30+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20missing\x20authentication\x20token'),this[_0x2fa757(0xf7)]['pendingUploads']=Math[_0x2fa757(0x147)](0x0,_0x435d7b[_0x2fa757(0x15c)](this[_0x2fa757(0xf7)][_0x2fa757(0x137)],0x1));const _0x483b92={};return _0x483b92[_0x2fa757(0xf8)]=_0x435d7b[_0x2fa757(0xe9)],_0x483b92[_0x2fa757(0xe6)]=_0x435d7b[_0x2fa757(0x143)],_0x483b92;}return await this[_0x2fa757(0x128)](_0x50dfce,_0x1d8925);}else{if(_0x435d7b['EUxKZ'](_0x1d8925,0x5)){_0x435d7b['FgCnY'](debug,'EXCEPTION\x20IN\x20'+_0x45da30+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20'+_0x45da30+_0x2fa757(0x16d));_0x435d7b[_0x2fa757(0x17f)](process[_0x2fa757(0x170)][_0x2fa757(0x11c)],_0x435d7b[_0x2fa757(0x12c)])&&(this['requestQueueHandler'][_0x2fa757(0x137)]=Math['max'](0x0,_0x435d7b[_0x2fa757(0x123)](this['requestQueueHandler'][_0x2fa757(0x137)],0x1)));const _0x2e5b2d={};return _0x2e5b2d[_0x2fa757(0xf8)]=_0x435d7b[_0x2fa757(0xe9)],_0x2e5b2d[_0x2fa757(0xe6)]=_0x435d7b[_0x2fa757(0x13d)],_0x2e5b2d;}else _0x435d7b['WKamE'](process[_0x2fa757(0x170)][_0x2fa757(0x152)],_0x435d7b[_0x2fa757(0x110)])&&_0x435d7b[_0x2fa757(0x126)](setTimeout,()=>{const _0x58d181=_0x2fa757;this[_0x58d181(0x119)](_0x50dfce,_0x435d7b[_0x58d181(0x149)](_0x1d8925,0x1));},0x3e8);}}}module['exports']=SessionHandler;