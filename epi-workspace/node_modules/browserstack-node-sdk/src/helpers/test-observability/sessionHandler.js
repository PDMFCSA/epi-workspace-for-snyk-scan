const a87_0x20f98e=a87_0x43ba;function a87_0x43ba(_0x5e8ac7,_0x369c54){const _0x1e5cb9=a87_0x1e5c();return a87_0x43ba=function(_0x43ba3c,_0x8e7293){_0x43ba3c=_0x43ba3c-0x1e6;let _0x447f0e=_0x1e5cb9[_0x43ba3c];return _0x447f0e;},a87_0x43ba(_0x5e8ac7,_0x369c54);}(function(_0x3bd9e2,_0x580216){const _0x212fac=a87_0x43ba,_0x172a05=_0x3bd9e2();while(!![]){try{const _0x3e5373=-parseInt(_0x212fac(0x214))/0x1+-parseInt(_0x212fac(0x24f))/0x2*(parseInt(_0x212fac(0x264))/0x3)+parseInt(_0x212fac(0x1eb))/0x4+parseInt(_0x212fac(0x1e6))/0x5+parseInt(_0x212fac(0x20f))/0x6*(-parseInt(_0x212fac(0x234))/0x7)+-parseInt(_0x212fac(0x25b))/0x8+parseInt(_0x212fac(0x254))/0x9;if(_0x3e5373===_0x580216)break;else _0x172a05['push'](_0x172a05['shift']());}catch(_0x15028f){_0x172a05['push'](_0x172a05['shift']());}}}(a87_0x1e5c,0x4cf64));const bsSetupHelper=require(a87_0x20f98e(0x252)),path=require(a87_0x20f98e(0x22e)),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require(a87_0x20f98e(0x277)),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require('./constants'),RequestQueueHandler=require(a87_0x20f98e(0x242)),logger=require(a87_0x20f98e(0x1fd))[a87_0x20f98e(0x1ff)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap}=require(a87_0x20f98e(0x279)),util=require(a87_0x20f98e(0x281));function a87_0x1e5c(){const _0xa115f=['BS_TESTOPS_ALLOW_SCREENSHOTS','Hook_Start_Upload','null','Content-Type','BS_TESTOPS_JWT','OvDJk','YLjIf','eventUrl','test_run_uuid','sendEventData','add','fPESk','start','EZtkJ','./utils','YEsEx','../../helpers/testhub/utils','Build\x20creation\x20successful!','api/v1/event','elvKF','ZTuCz','BYxtK','getUserName','ESvQX','util','BROWSERSTACK_TESTHUB_JWT','ERROR_SDK_DEPRECATED','api/v1/builds','response','dfcVu','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','NljXM','OEMVH','1970220iJSYZy','RWXff','logs','btqBv','JAtnA','667536CHXGlF','vNjtQ','ojCKV','POST','TBaDX','jwt','BS_A11Y_JWT','message','uhLHV','uploadEventData','data','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20','kvOTi',']\x20event\x20successful!','error','frameworkName','dVGky','debug','../logger','BROWSERSTACK_RERUN','winstonLogger','IlZTJ','browserstackAutomation','AvGoT','buildDescription','QoElf','KaGHX','max','env','event_type','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','Processing\x20event\x20-\x20\x27','llIGL','dtIRd','luwHV','toISOString','672PaTrKk','Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20','length','CBTSessionCreated','QcUXG','305887olnifQ','THjzh','nestedKeyValue','getGitMetaData','json','IZOxm','basename','password','HdmNg','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20missing\x20authentication\x20token','false','true','sLPgy','orxmz','CREDENTIALS_FOR_CRASH_REPORTING','CBT_Upload','ybVpv','getHostInfo','MTCKM','RbJSL','stringify','aRzNL','getAccessKey','username','includes','ppddd','path','Test_Start_Upload','OwFxi','BROWSERSTACK_TESTHUB_UUID','launch','jQUJQ','38423xTKHkt','BS_TESTOPS_BUILD_COMPLETED','JZaAy','requestQueueHandler','lVeGg','\x20retry\x20runs\x20exceeded','statusText','app','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','BROWSERSTACK_BUILD_RUN_IDENTIFIER','CoPMF','resolve','sendTraceZip','exports','./requestQueueHandler','gpfdn','pendingUploads','UcrRT','BS_TESTOPS_BUILD_HASHED_ID','application/json','frameworkVersion','LVFKm','Authorization','yRHUM','RWvzy','waitForBuildStatus','cTUEl','2PCDJaX','TestRunSkipped','getLogTag','../helper','status','8119233MMmxsR','QyDeC','kVWYB','erzwq','LogCreated','Bearer\x20','test_run','1235816TyfTSy','evZXQ','Batch-Queue','info','yJRZt','nLqRJ','Test_Skipped_Upload','EXCEPTION\x20IN\x20','build_hashed_id','218091Obedij','ERROR_INVALID_CREDENTIALS','allow_screenshots','buildName','KdIts'];a87_0x1e5c=function(){return _0xa115f;};return a87_0x1e5c();}class SessionHandler{static [a87_0x20f98e(0x237)]=RequestQueueHandler['getInstance']();static async[a87_0x20f98e(0x232)](_0x1d4721,_0x4d30e1){const _0x215a73=a87_0x20f98e,_0x55866b={'erzwq':function(_0x4de5f2,_0x140b2c){return _0x4de5f2||_0x140b2c;},'qLWZp':function(_0x256e2d,_0x3ee802){return _0x256e2d===_0x3ee802;},'kvOTi':function(_0x2e7d05,_0x25caa3){return _0x2e7d05(_0x25caa3);},'THjzh':_0x215a73(0x287),'LVFKm':'false','OwFxi':_0x215a73(0x218),'uJVdd':function(_0x582d1d,_0x45e0fa){return _0x582d1d(_0x45e0fa);},'DrDOg':function(_0x387d77,_0x37bd44){return _0x387d77(_0x37bd44);},'xZiNR':function(_0x185f29,_0x32af7a,_0x313557,_0x131ce7,_0x347cac){return _0x185f29(_0x32af7a,_0x313557,_0x131ce7,_0x347cac);},'QoElf':_0x215a73(0x1ee),'UcrRT':_0x215a73(0x284),'orxmz':function(_0x452a11,_0x2edab7){return _0x452a11(_0x2edab7);},'AvGoT':_0x215a73(0x27a),'ojCKV':function(_0x4f2a98){return _0x4f2a98();},'CJCfK':_0x215a73(0x21f),'llIGL':_0x215a73(0x26b),'HHjqQ':function(_0x58a4f4,_0x122cf4){return _0x58a4f4(_0x122cf4);},'uxTDM':function(_0x45c582,_0x5ae78d){return _0x45c582(_0x5ae78d);},'YLjIf':_0x215a73(0x265),'dVGky':'ERROR_ACCESS_DENIED','RWvzy':_0x215a73(0x283)},_0x12b868=bsSetupHelper[_0x215a73(0x27f)](_0x1d4721),_0x163ae4=bsSetupHelper[_0x215a73(0x22a)](_0x1d4721),_0x58bf2c=_0x55866b['erzwq'](_0x12b868,'')+':'+_0x55866b[_0x215a73(0x257)](_0x163ae4,'');if(_0x55866b['qLWZp'](_0x58bf2c,':'))return _0x55866b[_0x215a73(0x1f7)](debug,_0x55866b[_0x215a73(0x215)]),process[_0x215a73(0x207)]['BS_TESTOPS_BUILD_COMPLETED']=_0x55866b[_0x215a73(0x249)],[null,null];let _0x58bc08=![],_0x31924d=![];if(_0x1d4721['browserstackAutomation']&&_0x1d4721[_0x215a73(0x23b)])_0x31924d=!![];else _0x1d4721[_0x215a73(0x201)]&&(_0x58bc08=!![]);try{const _0x573ea5={'format':_0x55866b[_0x215a73(0x230)],'project_name':_0x1d4721['projectName']||'','name':_0x1d4721[_0x215a73(0x267)]||path[_0x215a73(0x21a)](path[_0x215a73(0x23f)](process['cwd']())),'build_identifier':_0x1d4721['buildIdentifier'],'description':_0x1d4721[_0x215a73(0x203)]||'','start_time':new Date()[_0x215a73(0x20e)](),'tags':_0x55866b['uJVdd'](getCustomTags,_0x1d4721),'host_info':bsSetupHelper[_0x215a73(0x225)](),'ci_info':bsSetupHelper['getCiInfo'](),'build_run_identifier':process[_0x215a73(0x207)][_0x215a73(0x23d)],'failed_tests_rerun':process[_0x215a73(0x207)][_0x215a73(0x1fe)]||![],'version_control':await bsSetupHelper[_0x215a73(0x217)](),'observability_version':{'frameworkName':_0x4d30e1[_0x215a73(0x1fa)],'frameworkVersion':_0x4d30e1[_0x215a73(0x248)],'sdkVersion':bsSetupHelper['getAgentVersion']()},'product_map':_0x55866b[_0x215a73(0x1f7)](getProductMap,_0x1d4721)},_0x466b53={};_0x466b53[_0x215a73(0x22b)]=_0x12b868,_0x466b53[_0x215a73(0x21b)]=_0x163ae4;const _0x3b29bc={'auth':_0x466b53,'headers':_0x55866b['DrDOg'](getDefaultHeaders,![])},_0x5c008f=await _0x55866b['xZiNR'](nodeRequest,_0x55866b[_0x215a73(0x204)],_0x55866b[_0x215a73(0x245)],_0x573ea5,_0x3b29bc);_0x55866b[_0x215a73(0x221)](debug,_0x55866b[_0x215a73(0x202)]);const _0x390e95=_0x5c008f['data'];_0x390e95[_0x215a73(0x263)]&&(process[_0x215a73(0x207)][_0x215a73(0x231)]=_0x390e95[_0x215a73(0x263)]);if(_0x55866b[_0x215a73(0x1ed)](isTestObservabilitySession)){process[_0x215a73(0x207)][_0x215a73(0x235)]=_0x55866b['CJCfK'];if(_0x390e95[_0x215a73(0x1f0)]){process[_0x215a73(0x207)][_0x215a73(0x26d)]=_0x390e95['jwt'];const _0x4de02a={};_0x4de02a[_0x215a73(0x22b)]=_0x12b868,_0x4de02a[_0x215a73(0x21b)]=_0x163ae4,process[_0x215a73(0x207)][_0x215a73(0x222)]=JSON[_0x215a73(0x228)](_0x4de02a);}_0x390e95[_0x215a73(0x263)]&&(process['env'][_0x215a73(0x246)]=_0x390e95[_0x215a73(0x263)]),_0x390e95[_0x215a73(0x266)]&&(process['env']['BS_TESTOPS_ALLOW_SCREENSHOTS']=_0x390e95[_0x215a73(0x266)]['toString']());}return[_0x5c008f[_0x215a73(0x1f5)][_0x215a73(0x1f0)],_0x5c008f[_0x215a73(0x1f5)]['build_hashed_id'],_0x5c008f[_0x215a73(0x1f5)][_0x215a73(0x266)]];}catch(_0x348e65){process[_0x215a73(0x207)][_0x215a73(0x231)]=_0x55866b[_0x215a73(0x20b)],process[_0x215a73(0x207)][_0x215a73(0x235)]=_0x55866b[_0x215a73(0x249)],process[_0x215a73(0x207)][_0x215a73(0x26d)]=_0x55866b[_0x215a73(0x20b)],process[_0x215a73(0x207)][_0x215a73(0x246)]=_0x55866b[_0x215a73(0x20b)],process['env'][_0x215a73(0x269)]=_0x55866b[_0x215a73(0x20b)];_0x348e65[_0x215a73(0x285)]?_0x55866b['HHjqQ'](debug,_0x215a73(0x23c)+_0x348e65['response']['status']+'\x20'+_0x348e65[_0x215a73(0x285)][_0x215a73(0x23a)]+'\x20'+JSON[_0x215a73(0x228)](_0x348e65['response'][_0x215a73(0x1f5)])):_0x55866b['uxTDM'](debug,_0x215a73(0x23c)+(_0x348e65[_0x215a73(0x1f2)]||_0x348e65));if(_0x348e65&&_0x348e65[_0x215a73(0x1f2)]){const _0x569541=_0x348e65[_0x215a73(0x1f2)];switch(_0x348e65['errorType']){case _0x55866b[_0x215a73(0x26f)]:logger[_0x215a73(0x1f9)](_0x569541);break;case _0x55866b[_0x215a73(0x1fb)]:logger[_0x215a73(0x25e)](_0x569541);break;case _0x55866b[_0x215a73(0x24c)]:logger[_0x215a73(0x1f9)](_0x569541);break;default:logger[_0x215a73(0x1f9)](_0x569541);}}else console[_0x215a73(0x25e)]('Data\x20upload\x20to\x20BrowserStack\x20Test\x20Observability\x20failed\x20due\x20to\x20'+_0x348e65);return[null,null,null];}}static async[a87_0x20f98e(0x24d)](){const _0x4c5bbf=a87_0x20f98e,_0x51f72a={'uhLHV':_0x4c5bbf(0x21f),'OEMVH':_0x4c5bbf(0x21e),'PyVjn':function(_0x1bb89e,_0x460dca){return _0x1bb89e(_0x460dca);}},_0x46c484=process['env'][_0x4c5bbf(0x235)];if([_0x51f72a['uhLHV'],_0x51f72a[_0x4c5bbf(0x289)]][_0x4c5bbf(0x22c)](_0x46c484))return;while([_0x51f72a[_0x4c5bbf(0x1f3)],_0x51f72a[_0x4c5bbf(0x289)]][_0x4c5bbf(0x22c)](_0x46c484)){await _0x51f72a['PyVjn'](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static[a87_0x20f98e(0x251)](_0x50885c){const _0xdce307=a87_0x20f98e,_0x226dd6={};_0x226dd6['KdIts']=_0xdce307(0x22f),_0x226dd6['nRCvT']='Test_End_Upload',_0x226dd6[_0xdce307(0x205)]=_0xdce307(0x261),_0x226dd6['kVWYB']='Log_Upload',_0x226dd6['BYxtK']=_0xdce307(0x26a),_0x226dd6[_0xdce307(0x27d)]='Hook_End_Upload',_0x226dd6['RWXff']=_0xdce307(0x223);const _0x1651bd=_0x226dd6,_0x279b1f={};return _0x279b1f['TestRunStarted']=_0x1651bd[_0xdce307(0x268)],_0x279b1f['TestRunFinished']=_0x1651bd['nRCvT'],_0x279b1f[_0xdce307(0x250)]=_0x1651bd['KaGHX'],_0x279b1f[_0xdce307(0x258)]=_0x1651bd[_0xdce307(0x256)],_0x279b1f['HookRunStarted']=_0x1651bd[_0xdce307(0x27e)],_0x279b1f['HookRunFinished']=_0x1651bd[_0xdce307(0x27d)],_0x279b1f[_0xdce307(0x212)]=_0x1651bd[_0xdce307(0x1e7)],_0x279b1f[_0x50885c[_0xdce307(0x208)]];}static async[a87_0x20f98e(0x272)](_0x2f3074,_0x19b5c0=0x0,_0x4dcb6d=null){const _0x279609=a87_0x20f98e,_0x400a0f={'JZaAy':function(_0x2c2ae1,_0x276161){return _0x2c2ae1===_0x276161;},'IlZTJ':_0x279609(0x240),'tnxPN':function(_0x5dc8a0,_0x393c44){return _0x5dc8a0!==_0x393c44;},'htuCL':_0x279609(0x247),'ybVpv':_0x279609(0x21f),'ESvQX':function(_0x5a7900,_0x40fde4,_0x1777ef,_0x2d97e3,_0x72b6d8){return _0x5a7900(_0x40fde4,_0x1777ef,_0x2d97e3,_0x72b6d8);},'IZOxm':'POST','pGYcN':function(_0x2ba698,_0x5b34d4,_0x1d75d3,_0x727dcf,_0x1dfaa7){return _0x2ba698(_0x5b34d4,_0x1d75d3,_0x727dcf,_0x1dfaa7);},'EZtkJ':function(_0x5f282f,_0x5f171e){return _0x5f282f(_0x5f171e);},'RbJSL':function(_0x46b7f2,_0x4c0a68){return _0x46b7f2!==_0x4c0a68;},'fPESk':_0x279609(0x25d),'MTCKM':function(_0x4cd533,_0x3231cc){return _0x4cd533-_0x3231cc;},'dfcVu':_0x279609(0x27b),'JAtnA':'success','vNjtQ':function(_0x215066,_0x378f8e){return _0x215066(_0x378f8e);},'luwHV':function(_0x141b99,_0x127141){return _0x141b99-_0x127141;},'aRzNL':_0x279609(0x1f9)};_0x400a0f[_0x279609(0x236)](_0x4dcb6d,_0x400a0f[_0x279609(0x200)])&&logger[_0x279609(0x1fc)]('Sending\x20trace\x20zip\x20for\x20test:\x20'+_0x2f3074[_0x279609(0x1e8)][0x0][_0x279609(0x271)]);const _0x3f6501=await this[_0x279609(0x251)](_0x2f3074);let _0x1cc12a=_0x2f3074,_0x57cb7f=EVENT_ENDPOINT;_0x400a0f['tnxPN'](_0x4dcb6d,_0x400a0f[_0x279609(0x200)])&&this[_0x279609(0x237)][_0x279609(0x275)]();const {shouldProceed:_0x428a5a,proceedWithData:_0x2307ee,proceedWithUrl:_0x2629c6}=this['requestQueueHandler'][_0x279609(0x273)](_0x2f3074);if(!_0x428a5a)return;else _0x2307ee&&(_0x1cc12a=_0x2307ee,_0x57cb7f=_0x2629c6);const _0x514396={};_0x514396[_0x279609(0x24a)]=_0x279609(0x259)+process['env']['BROWSERSTACK_TESTHUB_JWT'],_0x514396[_0x279609(0x26c)]=_0x400a0f['htuCL'],_0x514396['X-BSTACK-TESTOPS']=_0x400a0f[_0x279609(0x224)];const _0x306c01={};_0x306c01['headers']=_0x514396;const _0x21d21d=_0x306c01;let _0x133540;try{_0x400a0f[_0x279609(0x236)](_0x4dcb6d,_0x400a0f['IlZTJ'])?(logger[_0x279609(0x1fc)](_0x279609(0x210)+_0x2f3074?.[_0x279609(0x1e8)][0x0]?.['test_run_uuid']),_0x133540=await _0x400a0f[_0x279609(0x280)](asyncAwaitNodeReq,_0x400a0f[_0x279609(0x219)],_0x57cb7f,_0x1cc12a,_0x21d21d),logger[_0x279609(0x1fc)](_0x279609(0x1f6)+_0x2f3074?.[_0x279609(0x1e8)][0x0]?.[_0x279609(0x271)])):_0x133540=await _0x400a0f['pGYcN'](nodeRequest,_0x400a0f[_0x279609(0x219)],_0x57cb7f,_0x1cc12a,_0x21d21d);if(_0x133540[_0x279609(0x1f5)][_0x279609(0x1f9)]){const _0x5f128b={};_0x5f128b[_0x279609(0x1f2)]=_0x133540[_0x279609(0x1f5)][_0x279609(0x1f9)];throw _0x5f128b;}else{_0x400a0f[_0x279609(0x276)](debug,(_0x400a0f[_0x279609(0x227)](_0x57cb7f,this[_0x279609(0x237)][_0x279609(0x270)])?_0x3f6501:_0x400a0f[_0x279609(0x274)])+'['+_0x19b5c0+_0x279609(0x1f8)),this[_0x279609(0x237)][_0x279609(0x244)]=Math[_0x279609(0x206)](0x0,_0x400a0f[_0x279609(0x226)](this['requestQueueHandler'][_0x279609(0x244)],_0x400a0f[_0x279609(0x236)](_0x57cb7f,_0x400a0f[_0x279609(0x286)])?0x1:_0x1cc12a['length']));const _0x26a55b={};return _0x26a55b['status']=_0x400a0f[_0x279609(0x1ea)],_0x26a55b['message']='',_0x26a55b;}}catch(_0x4f4e7c){_0x4f4e7c[_0x279609(0x285)]?_0x400a0f[_0x279609(0x1ec)](debug,_0x279609(0x262)+(_0x400a0f[_0x279609(0x227)](_0x57cb7f,this[_0x279609(0x237)][_0x279609(0x270)])?_0x3f6501:_0x400a0f[_0x279609(0x274)])+_0x279609(0x209)+_0x4f4e7c[_0x279609(0x285)][_0x279609(0x253)]+'\x20'+_0x4f4e7c['response'][_0x279609(0x23a)]+'\x20'+util['format'](_0x4f4e7c['response'][_0x279609(0x1f5)])):_0x400a0f['EZtkJ'](debug,'EXCEPTION\x20IN\x20'+(_0x400a0f['RbJSL'](_0x57cb7f,this['requestQueueHandler'][_0x279609(0x270)])?_0x3f6501:_0x400a0f[_0x279609(0x274)])+_0x279609(0x209)+util['format'](_0x4f4e7c));this[_0x279609(0x237)][_0x279609(0x244)]=Math['max'](0x0,_0x400a0f[_0x279609(0x20d)](this[_0x279609(0x237)][_0x279609(0x244)],_0x400a0f[_0x279609(0x236)](_0x57cb7f,_0x400a0f[_0x279609(0x286)])?0x1:_0x1cc12a[_0x279609(0x211)]));const _0x5159ed={};return _0x5159ed[_0x279609(0x253)]=_0x400a0f[_0x279609(0x229)],_0x5159ed[_0x279609(0x1f2)]=_0x4f4e7c[_0x279609(0x1f2)]||(_0x4f4e7c[_0x279609(0x285)]?_0x4f4e7c[_0x279609(0x285)][_0x279609(0x253)]+':'+_0x4f4e7c[_0x279609(0x285)]['statusText']:_0x4f4e7c),_0x5159ed;}}static async[a87_0x20f98e(0x1f4)](_0x27e896,_0x52c807=0x0){const _0xe858ea=a87_0x20f98e,_0x4476f4={'dzxsk':function(_0xf89f86,_0x55efa8){return _0xf89f86+_0x55efa8;},'nLqRJ':function(_0x1c86c3,_0x24f7bf){return _0x1c86c3(_0x24f7bf);},'gpfdn':_0xe858ea(0x25a),'btqBv':'uuid','sLPgy':'hook_run','jQUJQ':function(_0xaef16f,_0x53e01a,_0x1a7bc0){return _0xaef16f(_0x53e01a,_0x1a7bc0);},'lVeGg':'uploadEventData','yRHUM':function(_0xc1e3f,_0x2ff8c0){return _0xc1e3f===_0x2ff8c0;},'CoPMF':function(_0x2a0d6d,_0x35300f){return _0x2a0d6d!==_0x35300f;},'TBaDX':_0xe858ea(0x26b),'OvDJk':function(_0x4a7e9b,_0x2bd87a){return _0x4a7e9b===_0x2bd87a;},'QcUXG':_0xe858ea(0x21f),'NljXM':function(_0x82dd20){return _0x82dd20();},'QyDeC':function(_0x371512,_0x1cb382){return _0x371512-_0x1cb382;},'YEsEx':_0xe858ea(0x1f9),'elvKF':'Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed','QJHAt':function(_0x211cb0,_0x28081a){return _0x211cb0>=_0x28081a;},'ppddd':function(_0xc95fd8,_0x5188c0){return _0xc95fd8(_0x5188c0);},'HdmNg':function(_0x1f29b2,_0x413c3c){return _0x1f29b2!==_0x413c3c;},'dtIRd':function(_0x4a488b,_0x9d5463){return _0x4a488b-_0x9d5463;},'cTUEl':'Retry\x20runs\x20exceeded','yJRZt':function(_0x21bf50,_0x24d703){return _0x21bf50!==_0x24d703;},'qYGHj':_0xe858ea(0x21e),'evZXQ':function(_0x49951,_0x36e9e2,_0x4e8098){return _0x49951(_0x36e9e2,_0x4e8098);}},_0x28a1d9=this[_0xe858ea(0x251)](_0x27e896);_0x4476f4[_0xe858ea(0x260)](trace,_0xe858ea(0x20a)+_0x27e896[_0xe858ea(0x208)]+'\x27\x20'+(bsSetupHelper[_0xe858ea(0x216)](_0x27e896,[_0x4476f4[_0xe858ea(0x243)],_0x4476f4[_0xe858ea(0x1e9)]])||bsSetupHelper[_0xe858ea(0x216)](_0x27e896,[_0x4476f4[_0xe858ea(0x220)],_0x4476f4[_0xe858ea(0x1e9)]])));if(!_0x4476f4[_0xe858ea(0x233)](shouldProcessEventForTesthub,_0x27e896[_0xe858ea(0x208)],_0x4476f4[_0xe858ea(0x238)]))return;_0x4476f4[_0xe858ea(0x24b)](_0x52c807,0x0)&&process[_0xe858ea(0x207)]['BROWSERSTACK_TESTHUB_JWT']&&_0x4476f4[_0xe858ea(0x23e)](process[_0xe858ea(0x207)]['BROWSERSTACK_TESTHUB_JWT'],_0x4476f4['TBaDX'])&&(this[_0xe858ea(0x237)][_0xe858ea(0x244)]+=0x1);if(_0x4476f4[_0xe858ea(0x26e)](process[_0xe858ea(0x207)]['BS_TESTOPS_BUILD_COMPLETED'],_0x4476f4[_0xe858ea(0x213)])||process[_0xe858ea(0x207)][_0xe858ea(0x1f1)]||_0x4476f4[_0xe858ea(0x288)](isPercyBuild)){if(_0x4476f4[_0xe858ea(0x26e)](process[_0xe858ea(0x207)][_0xe858ea(0x282)],_0x4476f4[_0xe858ea(0x1ef)])){_0x4476f4[_0xe858ea(0x260)](debug,'EXCEPTION\x20IN\x20'+_0x28a1d9+_0xe858ea(0x21d)),this[_0xe858ea(0x237)][_0xe858ea(0x244)]=Math[_0xe858ea(0x206)](0x0,_0x4476f4[_0xe858ea(0x255)](this[_0xe858ea(0x237)]['pendingUploads'],0x1));const _0x53da11={};return _0x53da11[_0xe858ea(0x253)]=_0x4476f4[_0xe858ea(0x278)],_0x53da11[_0xe858ea(0x1f2)]=_0x4476f4[_0xe858ea(0x27c)],_0x53da11;}return await this[_0xe858ea(0x272)](_0x27e896,_0x52c807);}else{if(_0x4476f4['QJHAt'](_0x52c807,0x5)){_0x4476f4[_0xe858ea(0x22d)](debug,_0xe858ea(0x262)+_0x28a1d9+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20'+_0x28a1d9+_0xe858ea(0x239));_0x4476f4[_0xe858ea(0x21c)](process[_0xe858ea(0x207)][_0xe858ea(0x282)],_0x4476f4[_0xe858ea(0x1ef)])&&(this['requestQueueHandler'][_0xe858ea(0x244)]=Math[_0xe858ea(0x206)](0x0,_0x4476f4[_0xe858ea(0x20c)](this[_0xe858ea(0x237)][_0xe858ea(0x244)],0x1)));const _0x3be497={};return _0x3be497[_0xe858ea(0x253)]=_0x4476f4['YEsEx'],_0x3be497[_0xe858ea(0x1f2)]=_0x4476f4[_0xe858ea(0x24e)],_0x3be497;}else _0x4476f4[_0xe858ea(0x25f)](process[_0xe858ea(0x207)][_0xe858ea(0x235)],_0x4476f4['qYGHj'])&&_0x4476f4[_0xe858ea(0x25c)](setTimeout,()=>{const _0x5c61df=_0xe858ea;this[_0x5c61df(0x1f4)](_0x27e896,_0x4476f4['dzxsk'](_0x52c807,0x1));},0x3e8);}}}module[a87_0x20f98e(0x241)]=SessionHandler;