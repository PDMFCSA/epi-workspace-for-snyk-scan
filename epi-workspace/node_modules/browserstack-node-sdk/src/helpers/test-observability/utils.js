const a117_0x34fe09=a117_0x3bc5;(function(_0x3852f3,_0x472816){const _0x3a30ea=a117_0x3bc5,_0x58ccd4=_0x3852f3();while(!![]){try{const _0x3acdfc=parseInt(_0x3a30ea(0xe0))/0x1+parseInt(_0x3a30ea(0x13a))/0x2*(-parseInt(_0x3a30ea(0x181))/0x3)+parseInt(_0x3a30ea(0x150))/0x4*(parseInt(_0x3a30ea(0xc5))/0x5)+-parseInt(_0x3a30ea(0x14b))/0x6+parseInt(_0x3a30ea(0xed))/0x7*(-parseInt(_0x3a30ea(0x12d))/0x8)+-parseInt(_0x3a30ea(0x1a6))/0x9+parseInt(_0x3a30ea(0x1c8))/0xa*(parseInt(_0x3a30ea(0x11d))/0xb);if(_0x3acdfc===_0x472816)break;else _0x58ccd4['push'](_0x58ccd4['shift']());}catch(_0x2eaf8b){_0x58ccd4['push'](_0x58ccd4['shift']());}}}(a117_0x2f43,0x4b0df));const fs=require('fs'),path=require(a117_0x34fe09(0x199)),gitLastCommit=require(a117_0x34fe09(0xdf)),getRepoInfo=require('git-repo-info'),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require(a117_0x34fe09(0xcf)),https=require(a117_0x34fe09(0x100)),child_process=require(a117_0x34fe09(0x19d)),getos=require(a117_0x34fe09(0x198)),os=require('os'),logger=require(a117_0x34fe09(0x114))[a117_0x34fe09(0x1bd)],bsSetupHelper=require(a117_0x34fe09(0xbb)),requestSpy=require(a117_0x34fe09(0x1c3)),constants=require(a117_0x34fe09(0x1a2)),logPatcher=require('../../bin/utils/logPatcher'),util=require('util'),{fileLogger}=require('../logger'),PerformanceTester=require(a117_0x34fe09(0x1b5)),{isFunction}=require(a117_0x34fe09(0x196)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a117_0x34fe09(0xdb)),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require(a117_0x34fe09(0x1cb));exports[a117_0x34fe09(0x141)]=_0x5c3f8f=>{const _0x51c814=a117_0x34fe09;fileLogger['silly']('['+new Date()['toISOString']()+_0x51c814(0x111)+_0x5c3f8f);},exports[a117_0x34fe09(0x1a8)]=_0x4869a7=>{const _0x3b9369=a117_0x34fe09,_0x278040={};_0x278040[_0x3b9369(0x188)]=function(_0x37cb12,_0x44edc7){return _0x37cb12===_0x44edc7;},_0x278040['lgCiM']=_0x3b9369(0x103);const _0xb748ff=_0x278040;fileLogger[_0x3b9369(0x1a8)]('['+new Date()[_0x3b9369(0x112)]()+_0x3b9369(0x111)+_0x4869a7),(_0xb748ff[_0x3b9369(0x188)](process[_0x3b9369(0xc7)][_0x3b9369(0xc4)],_0xb748ff[_0x3b9369(0xf9)])||_0xb748ff[_0x3b9369(0x188)](process['env'][_0x3b9369(0xc4)],'1'))&&consoleHolder['log']('\x0a['+new Date()[_0x3b9369(0x112)]()+'][\x20OBSERVABILITY\x20]\x20'+_0x4869a7+'\x0a');};const a117_0x3f2770={};a117_0x3f2770[a117_0x34fe09(0x101)]=!![],a117_0x3f2770[a117_0x34fe09(0x118)]=0xea60,a117_0x3f2770[a117_0x34fe09(0x173)]=0x2,a117_0x3f2770[a117_0x34fe09(0xf3)]=0x2;const httpKeepAliveAgent=new http[(a117_0x34fe09(0x1be))](a117_0x3f2770),a117_0x567a55={};a117_0x567a55[a117_0x34fe09(0x101)]=!![],a117_0x567a55[a117_0x34fe09(0x118)]=0xea60,a117_0x567a55[a117_0x34fe09(0x173)]=0x2,a117_0x567a55[a117_0x34fe09(0xf3)]=0x2;const httpsKeepAliveAgent=new https['Agent'](a117_0x567a55),a117_0x5ddcd9={};a117_0x5ddcd9[a117_0x34fe09(0x101)]=!![],a117_0x5ddcd9[a117_0x34fe09(0x118)]=0xea60,a117_0x5ddcd9[a117_0x34fe09(0x173)]=0x2,a117_0x5ddcd9['maxTotalSockets']=0x2;const httpScreenshotsKeepAliveAgent=new http['Agent'](a117_0x5ddcd9),a117_0x309c6a={};a117_0x309c6a[a117_0x34fe09(0x101)]=!![],a117_0x309c6a[a117_0x34fe09(0x118)]=0xea60,a117_0x309c6a[a117_0x34fe09(0x173)]=0x2,a117_0x309c6a['maxTotalSockets']=0x2;function a117_0x3bc5(_0x9dac0f,_0x1429e0){const _0x2f4317=a117_0x2f43();return a117_0x3bc5=function(_0x3bc5e4,_0x20437e){_0x3bc5e4=_0x3bc5e4-0xb8;let _0x318ca8=_0x2f4317[_0x3bc5e4];return _0x318ca8;},a117_0x3bc5(_0x9dac0f,_0x1429e0);}const httpsScreenshotsKeepAliveAgent=new https[(a117_0x34fe09(0x1be))](a117_0x309c6a);exports[a117_0x34fe09(0x19e)]=()=>{const _0x450520=a117_0x34fe09,_0xe351ac={};_0xe351ac[_0x450520(0x115)]=function(_0x3b3091,_0x423c85){return _0x3b3091!==_0x423c85;},_0xe351ac[_0x450520(0x148)]=_0x450520(0xd8);const _0x2f18a3=_0xe351ac;return process['env']['BROWSERSTACK_RERUN_TESTS']&&_0x2f18a3[_0x450520(0x115)](process[_0x450520(0xc7)][_0x450520(0x170)],_0x2f18a3[_0x450520(0x148)])?!![]:![];},exports[a117_0x34fe09(0xc0)]=()=>{const _0x1671a3=a117_0x34fe09,_0x4ff416={};_0x4ff416[_0x1671a3(0x19f)]=function(_0x4cbc68,_0x417f81){return _0x4cbc68===_0x417f81;},_0x4ff416[_0x1671a3(0x132)]=_0x1671a3(0x103);const _0x95812=_0x4ff416;let _0x5cfbec=!![];return process['env'][_0x1671a3(0x10f)]&&(_0x5cfbec=_0x95812['QzAXt'](process[_0x1671a3(0xc7)][_0x1671a3(0x10f)],_0x95812[_0x1671a3(0x132)])),process['env'][_0x1671a3(0x1c4)]&&(_0x5cfbec=_0x95812[_0x1671a3(0x19f)](process[_0x1671a3(0xc7)][_0x1671a3(0x1c4)],_0x95812['aOmOT'])),_0x5cfbec;},exports[a117_0x34fe09(0xe4)]=_0x358717=>{const _0x212f19=a117_0x34fe09;if(bsSetupHelper['isUndefined'](_0x358717))return undefined;try{return _0x358717['trim']()[_0x212f19(0xe5)](',');}catch(_0x5429b6){return undefined;}},exports['printBuildLink']=()=>{const _0x4d2d45=a117_0x34fe09,_0x2791f7={'YaZxG':function(_0x5bc46c,_0x2ed5ee){return _0x5bc46c(_0x2ed5ee);},'twZoC':_0x4d2d45(0xc1),'RnWyC':function(_0x32c470,_0x220455){return _0x32c470!==_0x220455;},'WIISx':_0x4d2d45(0xd8),'TsilK':_0x4d2d45(0x12f),'SwbIX':_0x4d2d45(0x168)};return PerformanceTester[_0x4d2d45(0x120)](PerformanceO11yEvents[_0x4d2d45(0x158)],async()=>{const _0x440d7a=_0x4d2d45;try{const _0x5a9b30=_0x2791f7[_0x440d7a(0xde)](require,_0x2791f7[_0x440d7a(0x182)]);if(_0x5a9b30[_0x440d7a(0x155)]){logger[_0x440d7a(0x183)](_0x440d7a(0x134)+O11Y_URL+'/builds/'+_0x5a9b30[_0x440d7a(0x155)]+_0x440d7a(0x18e));return;}process[_0x440d7a(0xc7)][_0x440d7a(0x1ae)]&&_0x2791f7[_0x440d7a(0xd1)](process[_0x440d7a(0xc7)][_0x440d7a(0x1ae)],_0x2791f7[_0x440d7a(0x10e)])&&_0x2791f7[_0x440d7a(0xd1)](process[_0x440d7a(0xc7)][_0x440d7a(0x1ae)],_0x2791f7[_0x440d7a(0x1ca)])&&logger[_0x440d7a(0x183)](_0x440d7a(0x134)+constants['O11Y_URL']+_0x440d7a(0x127)+process[_0x440d7a(0xc7)][_0x440d7a(0x1ae)]+_0x440d7a(0x18e));}catch(_0x293268){logger['error'](util[_0x440d7a(0xec)](_0x2791f7['SwbIX'],new Date()[_0x440d7a(0x112)](),_0x293268[_0x440d7a(0x15e)]||_0x293268['message']||_0x293268));}})();},exports[a117_0x34fe09(0x152)]=_0xdc41b1=>{const _0x5f29ae=a117_0x34fe09,_0x1f6f48={};_0x1f6f48['qHfyq']='AssertionError',_0x1f6f48['EURGv']=_0x5f29ae(0x18a);const _0x9fbf25=_0x1f6f48;if(!_0xdc41b1)return null;return _0xdc41b1[_0x5f29ae(0x1a9)]()[_0x5f29ae(0x14c)](/AssertionError/)?_0x9fbf25['qHfyq']:_0x9fbf25[_0x5f29ae(0x1b6)];},exports[a117_0x34fe09(0x142)]=_0x26dce8=>{const _0x4f13da=a117_0x34fe09,_0x1deecb={};_0x1deecb[_0x4f13da(0xd4)]=_0x4f13da(0x11c),_0x1deecb[_0x4f13da(0x116)]=_0x4f13da(0x140),_0x1deecb[_0x4f13da(0x167)]=_0x4f13da(0x131),_0x1deecb[_0x4f13da(0x14f)]=_0x4f13da(0x1cc),_0x1deecb['iHdQy']=_0x4f13da(0x135);const _0x183e33=_0x1deecb;let _0x342ca8=null;switch(_0x26dce8){case FRAMEWORKS['MOCHA']:_0x342ca8=bsSetupHelper[_0x4f13da(0x1b2)](_0x183e33[_0x4f13da(0xd4)]);break;case FRAMEWORKS['PLAYWRIGHT']:_0x342ca8=bsSetupHelper[_0x4f13da(0x1b2)](_0x183e33[_0x4f13da(0x116)]);break;case FRAMEWORKS[_0x4f13da(0x16e)]:case FRAMEWORKS[_0x4f13da(0xeb)]:_0x342ca8=bsSetupHelper[_0x4f13da(0x1b2)](_0x183e33[_0x4f13da(0x167)]);break;case FRAMEWORKS['JEST']:_0x342ca8=bsSetupHelper[_0x4f13da(0x1b2)](_0x183e33[_0x4f13da(0x14f)]);break;case FRAMEWORKS[_0x4f13da(0x121)]:_0x342ca8=bsSetupHelper[_0x4f13da(0x1b2)](_0x183e33[_0x4f13da(0x19a)]);break;default:break;}return _0x342ca8;},exports[a117_0x34fe09(0x19b)]=_0xde1448=>{const _0x460efb=a117_0x34fe09;let _0x504fe5=null;switch(_0xde1448){case FRAMEWORKS['PLAYWRIGHT']:_0x504fe5=process[_0x460efb(0xc7)][_0x460efb(0x17f)];break;}if(!_0x504fe5)return;return bsSetupHelper[_0x460efb(0x136)](_0x504fe5,![]);},exports[a117_0x34fe09(0x174)]=_0x542fbc=>{const _0x19a5b1=a117_0x34fe09;return{'username':bsSetupHelper[_0x19a5b1(0x1cd)](_0x542fbc),'accessKey':bsSetupHelper[_0x19a5b1(0xe9)](_0x542fbc)};},exports[a117_0x34fe09(0xf1)]=(_0x1634a6,_0x299fb1)=>{const _0x4657e2=a117_0x34fe09,_0x36e3a4={};_0x36e3a4[_0x4657e2(0x1b9)]='5|2|0|1|4|3',_0x36e3a4[_0x4657e2(0xf5)]=_0x4657e2(0x1aa),_0x36e3a4[_0x4657e2(0x1b3)]=_0x4657e2(0xc9);const _0x3509b8=_0x36e3a4,_0x39770a=_0x3509b8[_0x4657e2(0x1b9)][_0x4657e2(0xe5)]('|');let _0x2f126a=0x0;while(!![]){switch(_0x39770a[_0x2f126a++]){case'0':_0x1634a6['formData']={'data':_0x1634a6[_0x4657e2(0x11e)][0x0][_0x4657e2(0x160)][0x0][_0x4657e2(0x14d)],'test_run_uuid':_0x1634a6['body'][0x0]['logs'][0x0][_0x4657e2(0x1bf)],'event_type':_0x3509b8['atEuz'],'kind':_0x3509b8[_0x4657e2(0x1b3)],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x4657e2(0x112)](),'fileName':_0x1634a6['body'][0x0]['logs'][0x0][_0x4657e2(0xf4)]};continue;case'1':delete _0x1634a6[_0x4657e2(0x11e)];continue;case'2':if(!_0x1634a6[_0x4657e2(0x11e)][0x0]||!_0x1634a6[_0x4657e2(0x11e)][0x0][_0x4657e2(0x160)]||!_0x1634a6[_0x4657e2(0x11e)][0x0][_0x4657e2(0x160)][_0x4657e2(0xd0)])return;continue;case'3':delete _0x299fb1['headers'];continue;case'4':delete _0x1634a6[_0x4657e2(0x129)];continue;case'5':if(!_0x1634a6[_0x4657e2(0x11e)]||!Array[_0x4657e2(0x162)](_0x1634a6['body']))return;continue;}break;}},exports[a117_0x34fe09(0x144)]=async(_0x166768,_0xc6dee2,_0x4322dc,_0x2994c7,_0x2e058a=!![])=>{const _0x72c404=a117_0x34fe09,_0x22e7ea={};_0x22e7ea[_0x72c404(0x10b)]=function(_0x19e686,_0x5ab05d){return _0x19e686===_0x5ab05d;},_0x22e7ea[_0x72c404(0xba)]='Content-Type',_0x22e7ea[_0x72c404(0x146)]=_0x72c404(0x175),_0x22e7ea[_0x72c404(0xd7)]=_0x72c404(0x100),_0x22e7ea['QHsQN']=function(_0x4e048d,_0x1c8e5a){return _0x4e048d===_0x1c8e5a;},_0x22e7ea[_0x72c404(0xea)]=function(_0xb8d433,_0x121a4d){return _0xb8d433!==_0x121a4d;},_0x22e7ea[_0x72c404(0xce)]=_0x72c404(0x124),_0x22e7ea[_0x72c404(0x147)]=_0x72c404(0x15c);const _0x141fab=_0x22e7ea,_0x3c3477={..._0x2994c7,...{'method':_0x166768,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0xc6dee2,'body':_0x4322dc,'json':_0x141fab[_0x72c404(0x10b)](_0x2994c7[_0x72c404(0x10a)][_0x141fab['ryGcG']],_0x141fab[_0x72c404(0x146)]),'agent':API_URL[_0x72c404(0x119)](_0x141fab[_0x72c404(0xd7)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x141fab[_0x72c404(0x1c2)](_0xc6dee2,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x3c3477['agent']=API_URL[_0x72c404(0x119)](_0x141fab[_0x72c404(0xd7)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports['modifyReqForTraceUpload'](_0x3c3477,_0x2994c7),logger['debug'](_0x72c404(0x11b)+_0x3c3477[_0x72c404(0x105)]));try{const {statusCode:_0x22f67a,body:_0x5cd2d3}=await bsSetupHelper['nodeRequest'](_0x166768,_0xc6dee2,_0x3c3477,_0x2994c7,_0x3c3477[_0x72c404(0x105)]);if(_0x141fab[_0x72c404(0xea)](_0x22f67a,0xc8))return _0x5cd2d3?_0x5cd2d3:_0x72c404(0x179)+_0x22f67a;let _0x479da6=_0x5cd2d3;if(_0x2e058a)try{_0x141fab['aBNqa'](typeof _0x5cd2d3,_0x141fab['AKuIt'])&&(_0x479da6=JSON['parse'](_0x5cd2d3));}catch(_0x213597){logger[_0x72c404(0x176)](_0x141fab['mNDVr'],_0x5cd2d3,util[_0x72c404(0xec)](_0x213597));}const _0x2fc988={};return _0x2fc988[_0x72c404(0x14d)]=_0x479da6,_0x2fc988;}catch(_0x2f46ed){logger['error'](_0x72c404(0x106)+util[_0x72c404(0xec)](_0x2f46ed));throw _0x2f46ed;}},exports[a117_0x34fe09(0x1a0)]=(_0x55e4f8,_0xcb9f13,_0x247c3c,_0x26c143,_0x3f367e=!![])=>{const _0x756b69=a117_0x34fe09,_0x2e942c={'VxDQE':function(_0x384dee,_0x18b075){return _0x384dee(_0x18b075);},'PrOJG':function(_0x4a63b7,_0x3eff18){return _0x4a63b7!==_0x3eff18;},'bdCyk':_0x756b69(0x124),'dWFmp':_0x756b69(0x10c),'OnAYE':function(_0x3009ad,_0x5b9888){return _0x3009ad===_0x5b9888;},'lgFnv':_0x756b69(0xdc),'VpsQz':_0x756b69(0x175),'uMHwX':_0x756b69(0x100)};return new Promise((_0x4327db,_0x149eb5)=>{const _0x1ad757=_0x756b69,_0x691beb={'qUDSJ':function(_0x1af6d9,_0x2c78dd){const _0x4e6a40=a117_0x3bc5;return _0x2e942c[_0x4e6a40(0xd2)](_0x1af6d9,_0x2c78dd);},'eikRD':function(_0x3a704f,_0x1a3966){const _0x1a7abc=a117_0x3bc5;return _0x2e942c[_0x1a7abc(0x13b)](_0x3a704f,_0x1a3966);},'vFZcA':_0x2e942c[_0x1ad757(0x1ac)],'ZIPTX':function(_0x306432,_0x3c5702){const _0x377d52=_0x1ad757;return _0x2e942c[_0x377d52(0x13b)](_0x306432,_0x3c5702);},'BYZDA':_0x2e942c[_0x1ad757(0x15f)],'NmSds':function(_0x16c901,_0x11acd9){const _0x5a6a7d=_0x1ad757;return _0x2e942c[_0x5a6a7d(0x13b)](_0x16c901,_0x11acd9);}},_0x1e1ff3={..._0x26c143,...{'method':_0x55e4f8,'url':API_URL+'/'+_0xcb9f13,'body':_0x247c3c,'json':_0x2e942c['OnAYE'](_0x26c143['headers'][_0x2e942c[_0x1ad757(0x123)]],_0x2e942c[_0x1ad757(0xfe)]),'agent':API_URL['includes'](_0x2e942c[_0x1ad757(0x17e)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x2e942c[_0x1ad757(0x18b)](_0xcb9f13,SCREENSHOT_ENDPOINT)&&(_0x1e1ff3[_0x1ad757(0x10d)]=API_URL['includes'](_0x2e942c['uMHwX'])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x1ad757(0x1a0)](_0x55e4f8,_0xcb9f13,_0x1e1ff3,_0x26c143,API_URL)['then'](({statusCode:_0xd7e3c6,body:_0x5409bd})=>{const _0x34a0cc=_0x1ad757;if(_0x691beb[_0x34a0cc(0x1bc)](_0xd7e3c6,0xc8))_0x691beb[_0x34a0cc(0x195)](_0x149eb5,_0x5409bd?_0x5409bd:'Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20'+_0xd7e3c6);else{if(_0x3f367e)try{_0x691beb['qUDSJ'](typeof _0x5409bd,_0x691beb[_0x34a0cc(0x177)])&&(_0x5409bd=JSON[_0x34a0cc(0xbc)](_0x5409bd));}catch(_0x2c94fd){_0x691beb[_0x34a0cc(0x13e)](_0x149eb5,_0x691beb[_0x34a0cc(0x157)]);return;}const _0x1e39a9={};_0x1e39a9['data']=_0x5409bd,_0x691beb[_0x34a0cc(0x169)](_0x4327db,_0x1e39a9);}})[_0x1ad757(0x1c1)](_0x10362b=>{const _0x57c0aa=_0x1ad757;_0x10362b&&_0x2e942c[_0x57c0aa(0x13b)](_0x149eb5,_0x10362b);});});},exports['getBuildTags']=_0x341ab8=>{const _0x2d6870=a117_0x34fe09;if(process[_0x2d6870(0xc7)][_0x2d6870(0x164)])return process[_0x2d6870(0xc7)]['TEST_OBSERVABILITY_BUILD_TAG'][_0x2d6870(0xe5)](',');if(_0x341ab8[_0x2d6870(0xc2)])return _0x341ab8[_0x2d6870(0xc2)];return[];},exports[a117_0x34fe09(0xe8)]=(_0xe7e583=!![])=>{const _0x40e761=a117_0x34fe09,_0x59db90={};_0x59db90[_0x40e761(0xda)]=_0x40e761(0x175),_0x59db90[_0x40e761(0x122)]=_0x40e761(0x103),_0x59db90[_0x40e761(0x18d)]=_0x40e761(0x130);const _0x295dea=_0x59db90,_0x52866d={};_0x52866d[_0x40e761(0xdc)]=_0x295dea[_0x40e761(0xda)],_0x52866d[_0x40e761(0x194)]=_0x295dea['DADee'];const _0x441b28=_0x52866d;return _0xe7e583&&process[_0x40e761(0xc7)][_0x40e761(0xee)]&&(_0x441b28[_0x295dea[_0x40e761(0x18d)]]=_0x40e761(0x18c)+process[_0x40e761(0xc7)][_0x40e761(0xee)]),_0x441b28;},exports['extractValuesWithRegexKeyMatch']=_0x3f0027=>{const _0x580400=a117_0x34fe09,_0x38f2fa={};_0x38f2fa['lNnXD']=_0x580400(0x17b);const _0x2cef8d=_0x38f2fa,_0x3a168f=[],_0x57cc30=new RegExp(_0x2cef8d[_0x580400(0x16f)],'i');return Object[_0x580400(0x17a)](_0x3f0027)[_0x580400(0xf2)](_0xf21389=>_0x57cc30['test'](_0xf21389))[_0x580400(0xd6)](_0x42760e=>_0x3a168f[_0x580400(0xc3)](_0x3f0027[_0x42760e])),_0x3a168f;},exports['getCustomTags']=_0x5347f2=>{const _0xedc048=a117_0x34fe09,_0x4bab40=[],_0x138a14=_0x5347f2[_0xedc048(0x1b8)]||process['env'][_0xedc048(0xfc)];return _0x138a14&&_0x4bab40[_0xedc048(0xc3)](_0x138a14),_0x4bab40['push'](...exports['extractValuesWithRegexKeyMatch'](process['env'])),_0x4bab40[_0xedc048(0xc3)](...exports[_0xedc048(0x18f)](_0x5347f2)),_0x4bab40;},exports[a117_0x34fe09(0xd9)]=_0x291d11=>{const _0x52616b=a117_0x34fe09;if(!_0x291d11)return'';return _0x291d11[_0x52616b(0x1b4)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports['sleep']=(_0x228534=0x64)=>new Promise(_0x1796df=>setTimeout(_0x1796df,_0x228534));const getPlatformName=()=>{const _0x1045a9=a117_0x34fe09,_0x57c2fc={};_0x57c2fc[_0x1045a9(0xca)]=function(_0xd7e429,_0x34559a){return _0xd7e429===_0x34559a;},_0x57c2fc[_0x1045a9(0x1af)]=_0x1045a9(0x1ab),_0x57c2fc[_0x1045a9(0x1c7)]=_0x1045a9(0x11f),_0x57c2fc[_0x1045a9(0x12c)]='darwin',_0x57c2fc[_0x1045a9(0x14e)]=_0x1045a9(0x11a),_0x57c2fc[_0x1045a9(0x138)]=function(_0x412338,_0x3b33a7){return _0x412338===_0x3b33a7;},_0x57c2fc['QfBmm']=_0x1045a9(0xe2),_0x57c2fc['Ctygd']='Linux',_0x57c2fc[_0x1045a9(0x149)]=_0x1045a9(0xb8);const _0x2fd421=_0x57c2fc;if(_0x2fd421[_0x1045a9(0xca)](process[_0x1045a9(0x133)],_0x2fd421[_0x1045a9(0x1af)]))return _0x2fd421[_0x1045a9(0x1c7)];if(_0x2fd421[_0x1045a9(0xca)](process[_0x1045a9(0x133)],_0x2fd421[_0x1045a9(0x12c)]))return _0x2fd421['yrdFr'];if(_0x2fd421['CUiCI'](process[_0x1045a9(0x133)],_0x2fd421[_0x1045a9(0xcb)]))return _0x2fd421[_0x1045a9(0x14a)];return _0x2fd421['fPXGH'];},getMacOSVersion=()=>{const _0x4cb59a=a117_0x34fe09,_0x507b3f={};_0x507b3f[_0x4cb59a(0x197)]=_0x4cb59a(0x143);const _0x3e218e=_0x507b3f;return child_process[_0x4cb59a(0x151)](_0x3e218e[_0x4cb59a(0x197)])[_0x4cb59a(0x1a9)]()[_0x4cb59a(0x163)]();},getLinuxDetails=()=>{const _0x26b300={'kPOBE':function(_0x1acac,_0x25dc30){return _0x1acac(_0x25dc30);}};return new Promise((_0xf9cead,_0x1556ef)=>{const _0x5d4682=a117_0x3bc5;_0x26b300[_0x5d4682(0xbf)](getos,(_0x6cc7f8,_0x3d3073)=>{const _0x185284=_0x5d4682;if(_0x6cc7f8)return _0x26b300[_0x185284(0xbf)](_0x1556ef,_0x6cc7f8);_0x26b300[_0x185284(0xbf)](_0xf9cead,_0x3d3073);});});};exports[a117_0x34fe09(0x1a5)]=async()=>{const _0x4ee419=a117_0x34fe09,_0x578fc0={'aEcPm':function(_0x5e0e0b){return _0x5e0e0b();},'GDQrB':_0x4ee419(0x11a),'RfqRJ':function(_0x6cee36){return _0x6cee36();},'WvMLG':_0x4ee419(0x11f),'ABRxo':_0x4ee419(0x1a4),'hSdOg':'Linux','zemUn':_0x4ee419(0xdd)};let _0x5c6f30=_0x578fc0['aEcPm'](getPlatformName),_0x4f6d41=os[_0x4ee419(0x117)]()[_0x4ee419(0x1a9)]();switch(_0x5c6f30){case _0x578fc0[_0x4ee419(0x16b)]:_0x4f6d41=_0x578fc0[_0x4ee419(0xf0)](getMacOSVersion);break;case _0x578fc0[_0x4ee419(0x13c)]:try{const _0x3456eb=(await import(_0x578fc0[_0x4ee419(0x125)]))[_0x4ee419(0x15d)];_0x4f6d41=_0x578fc0[_0x4ee419(0xf0)](_0x3456eb);}catch(_0x371f98){exports[_0x4ee419(0x1a8)](_0x4ee419(0xe3)+_0x371f98[_0x4ee419(0x1a9)]());}break;case _0x578fc0[_0x4ee419(0xef)]:try{const _0x1859f1=await _0x578fc0[_0x4ee419(0xe6)](getLinuxDetails);_0x1859f1[_0x4ee419(0x19c)]&&(_0x5c6f30=_0x1859f1[_0x4ee419(0x19c)]),_0x1859f1[_0x4ee419(0x117)]&&(_0x4f6d41=_0x1859f1[_0x4ee419(0x117)][_0x4ee419(0x1a9)]());}catch(_0x32b691){exports[_0x4ee419(0x1a8)](_0x578fc0[_0x4ee419(0x172)]);}break;default:break;}const _0x3a2566={};return _0x3a2566[_0x4ee419(0x191)]=_0x5c6f30,_0x3a2566[_0x4ee419(0x171)]=_0x4f6d41,_0x3a2566;},exports[a117_0x34fe09(0x12b)]=(_0x47961e,_0x146813)=>{const _0x29ba0f=a117_0x34fe09,_0x4b4956={};_0x4b4956[_0x29ba0f(0x16a)]=function(_0x3b302d,_0x314113){return _0x3b302d===_0x314113;},_0x4b4956[_0x29ba0f(0x110)]=_0x29ba0f(0x17d),_0x4b4956[_0x29ba0f(0x1b1)]=function(_0x7623d1,_0x155ff0){return _0x7623d1===_0x155ff0;},_0x4b4956[_0x29ba0f(0x16c)]='err';const _0x2e69bd=_0x4b4956;if(!_0x47961e)return[];try{if(_0x2e69bd[_0x29ba0f(0x16a)](_0x146813,_0x2e69bd[_0x29ba0f(0x110)]))return _0x47961e['map'](_0x4b4a40=>{const _0x517fa4=_0x29ba0f,{stack:_0x44b6f8,..._0x25871d}=_0x4b4a40,_0xf39947=Object['keys'](_0x25871d)[_0x517fa4(0x153)](_0x4a9fa4=>{return _0x4a9fa4+':\x20'+_0x25871d[_0x4a9fa4];}),_0x42c91e=_0x44b6f8?exports[_0x517fa4(0xd9)](_0x44b6f8)[_0x517fa4(0xe5)](/\r?\n/):[exports[_0x517fa4(0xd9)](_0x4b4a40['message'])],_0x1f6981={};return _0x1f6981[_0x517fa4(0x1c0)]=_0x42c91e,_0x1f6981[_0x517fa4(0x187)]=_0xf39947,_0x1f6981;});else{if(_0x2e69bd[_0x29ba0f(0x1b1)](_0x146813,_0x2e69bd[_0x29ba0f(0x16c)])){const _0x1909ed=[],_0x247bf4=[];return Object[_0x29ba0f(0x17a)](_0x47961e)[_0x29ba0f(0xd6)](_0x5394f3=>{const _0x12ae04=_0x29ba0f;try{_0x247bf4['push'](_0x5394f3+':\x20'+_0x47961e[_0x5394f3]);}catch(_0x502f52){exports[_0x12ae04(0x1a8)](_0x12ae04(0x1b0)+_0x502f52[_0x12ae04(0x1ba)]+_0x12ae04(0x15a)+_0x502f52['backtrace']);}}),_0x1909ed[_0x29ba0f(0xc3)]({'backtrace':exports[_0x29ba0f(0xd9)](_0x47961e[_0x29ba0f(0x15e)])[_0x29ba0f(0xe5)](/\r?\n/),'expanded':_0x247bf4}),_0x1909ed;}}return[];}catch(_0xaafef5){exports[_0x29ba0f(0x1a8)](_0x29ba0f(0x1b0)+_0xaafef5[_0x29ba0f(0x1ba)]+_0x29ba0f(0x15a)+_0xaafef5[_0x29ba0f(0x1c0)]);}return[];};class PathHelper{constructor(_0x3b8eab,_0x2b3e08){const _0x27db8d=a117_0x34fe09;this['config']=_0x3b8eab,this[_0x27db8d(0x12a)]=_0x2b3e08;}['relativeTestFilePath'](_0x3b6365){const _0x5f3316=a117_0x34fe09,_0x3e263d=this[_0x5f3316(0xcc)][_0x5f3316(0x156)]||this[_0x5f3316(0xcc)][_0x5f3316(0x193)];return path['relative'](_0x3e263d,_0x3b6365);}['prefixTestPath'](_0x1b2c91){const _0x4ea1f9=a117_0x34fe09,_0xab2a44=this[_0x4ea1f9(0xc6)](_0x1b2c91);return this['prefix']?path['join'](this[_0x4ea1f9(0x12a)],_0xab2a44):_0xab2a44;}}exports[a117_0x34fe09(0x1c5)]=PathHelper,exports['addRequestSpy']=(_0x4f88bc=!![])=>{const _0xb3c2db=a117_0x34fe09,_0x32f217={};_0x32f217[_0xb3c2db(0x189)]=function(_0x33577d,_0x10832d){return _0x33577d===_0x10832d;},_0x32f217[_0xb3c2db(0x15b)]=_0xb3c2db(0x194),_0x32f217[_0xb3c2db(0x107)]=_0xb3c2db(0x103),_0x32f217[_0xb3c2db(0x190)]=_0xb3c2db(0xfb),_0x32f217[_0xb3c2db(0x139)]=_0xb3c2db(0x180),_0x32f217[_0xb3c2db(0x161)]=_0xb3c2db(0x13d);const _0x352488=_0x32f217;requestSpy[_0xb3c2db(0x1b7)]((_0x1e0906,_0x22672e)=>{const _0x25dbc2=_0xb3c2db;_0x22672e&&!(_0x22672e[_0x25dbc2(0x10a)]&&_0x352488[_0x25dbc2(0x189)](_0x22672e['headers'][_0x352488['ePLzQ']],_0x352488[_0x25dbc2(0x107)]))&&(_0x22672e[_0x25dbc2(0x159)]=_0x22672e[_0x25dbc2(0x17c)],delete _0x22672e[_0x25dbc2(0x17c)],_0x4f88bc&&process[_0x25dbc2(0x192)]('bs:addLog:'+process[_0x25dbc2(0x1a7)],{'timestamp':new Date()[_0x25dbc2(0x112)](),'level':null,'message':null,'kind':_0x352488['SiFAd'],'http_response':_0x22672e})),_0x22672e&&(constants['HUB_URL_REGEX'][_0x25dbc2(0x17d)](_0x22672e[_0x25dbc2(0x159)])||constants[_0x25dbc2(0xe1)]['test'](_0x22672e[_0x25dbc2(0x159)]))?global[_0x25dbc2(0xb9)]=_0x352488['BInwi']:global[_0x25dbc2(0xb9)]=_0x352488['PRYai'];});},exports[a117_0x34fe09(0xd5)]=()=>{const _0x6ef475={'eJtVG':function(_0x28a18d,_0x1b656e){return _0x28a18d(_0x1b656e);}};console={},Object['keys'](consoleHolder)['forEach'](_0x57e19e=>{_0x6ef475['eJtVG'](isFunction,consoleHolder[_0x57e19e])?console[_0x57e19e]=(..._0xa1fe3c)=>{const _0x3f87c1=a117_0x3bc5;try{!Object[_0x3f87c1(0x17a)](BSTestOpsPatcher)[_0x3f87c1(0x119)](_0x57e19e)?consoleHolder[_0x57e19e](..._0xa1fe3c):BSTestOpsPatcher[_0x57e19e](..._0xa1fe3c);}catch(_0x2526e3){consoleHolder[_0x57e19e](..._0xa1fe3c);}}:console[_0x57e19e]=consoleHolder[_0x57e19e];});},exports[a117_0x34fe09(0x178)]=()=>a117_0x34fe09(0xe7)+JSON[a117_0x34fe09(0x102)]({'action':a117_0x34fe09(0xf8),'arguments':{'data':a117_0x34fe09(0x109)+Date['now'](),'level':'debug'}}),exports[a117_0x34fe09(0xd3)]=_0x3e36b5=>{const _0x53b0fc=a117_0x34fe09,_0x5c3159={};_0x5c3159[_0x53b0fc(0x1ad)]=function(_0xadffe2,_0x52a307){return _0xadffe2===_0x52a307;},_0x5c3159['TWHCQ']=_0x53b0fc(0x180),_0x5c3159['YwXUo']='appium:app',_0x5c3159[_0x53b0fc(0xf6)]=_0x53b0fc(0x185),_0x5c3159['vWfXt']=function(_0x3bbd40,_0x482a88){return _0x3bbd40>_0x482a88;},_0x5c3159['yavAd']=_0x53b0fc(0x128),_0x5c3159[_0x53b0fc(0xbd)]=_0x53b0fc(0xcd),_0x5c3159[_0x53b0fc(0xf7)]=_0x53b0fc(0x154),_0x5c3159[_0x53b0fc(0x113)]='turboscale',_0x5c3159[_0x53b0fc(0x166)]=_0x53b0fc(0xc8);const _0x82907=_0x5c3159;let _0x19d38f=null;try{if(_0x82907['FLTSn'](global[_0x53b0fc(0xb9)],_0x82907[_0x53b0fc(0x1c6)])){if(_0x3e36b5[_0x82907['YwXUo']]||_0x3e36b5[_0x82907[_0x53b0fc(0xf6)]]||!bsSetupHelper[_0x53b0fc(0x186)](global[_0x53b0fc(0x108)])&&_0x82907[_0x53b0fc(0xff)](global[_0x53b0fc(0x108)][_0x53b0fc(0xd0)],0x0)&&(global['capabilities'][0x0][_0x82907[_0x53b0fc(0xf6)]]||global[_0x53b0fc(0x108)][0x0][_0x82907[_0x53b0fc(0x104)]]))_0x19d38f=_0x82907['yavAd'];else _0x3e36b5[_0x82907['SoPQR']]&&_0x3e36b5[_0x82907['SoPQR']][_0x82907[_0x53b0fc(0xf7)]]?_0x19d38f=_0x82907[_0x53b0fc(0x113)]:_0x19d38f=_0x82907[_0x53b0fc(0x166)];}}catch(_0x5f0b1d){exports[_0x53b0fc(0x1a8)](_0x53b0fc(0xfa)+_0x5f0b1d);}return _0x19d38f;},exports['sendPlatformDetails']=async(_0x58aced,_0x5f5a55,_0x19a23c=![])=>{const _0x456b04=a117_0x34fe09,_0x430213={};_0x430213['uitxf']=function(_0x2399c4,_0x2fe7f7){return _0x2399c4===_0x2fe7f7;},_0x430213[_0x456b04(0x13f)]=_0x456b04(0x180),_0x430213[_0x456b04(0x126)]=_0x456b04(0x145),_0x430213[_0x456b04(0x165)]=_0x456b04(0x16d);const _0x515828=_0x430213;try{const _0x1566e6=await _0x58aced['getCapabilities'](),_0x2efe9c=await _0x58aced[_0x456b04(0x1a3)](),_0x2112ba={},_0x18a1d5=Object[_0x456b04(0x12e)](_0x2efe9c['getCapabilities']()[_0x456b04(0xfd)]),_0x3649a9={'product':exports[_0x456b04(0xd3)](_0x18a1d5),'capabilities':_0x18a1d5,'platform':_0x1566e6['getPlatform'](),'platform_version':bsSetupHelper[_0x456b04(0x1c9)](_0x515828[_0x456b04(0x1bb)](global['__cloud_provider___'],_0x515828[_0x456b04(0x13f)])),'browser':_0x1566e6[_0x456b04(0x137)](),'browser_version':_0x1566e6[_0x456b04(0x184)](),'session_id':_0x2efe9c[_0x456b04(0x1a1)]()};global[_0x456b04(0xb9)]?_0x2112ba[global[_0x456b04(0xb9)]]=_0x3649a9:_0x2112ba[_0x515828[_0x456b04(0x126)]]=_0x3649a9;if(_0x19a23c)return _0x2112ba;process[_0x456b04(0x192)](_0x456b04(0xbe)+process[_0x456b04(0x1a7)],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x515828['quCpl'],'http_response':_0x2112ba,'uuid':_0x5f5a55});}catch(_0x4efe11){exports['debug']('Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20'+_0x4efe11);}},exports['isInternalHook']=_0xab6b6c=>{const _0x1c82c1=a117_0x34fe09;return _0xab6b6c&&_0xab6b6c[_0x1c82c1(0x1a9)]()[_0x1c82c1(0x14c)](/browserstack internal helper hook/);};function a117_0x2f43(){const _0x3339e3=['headers','mOjLN','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','agent','WIISx','BROWSERSTACK_TEST_OBSERVABILITY_YML','xMVcY','][\x20OBSERVABILITY\x20]\x20','toISOString','rfGqJ','../logger','PuCKl','evuFI','release','timeout','includes','OS\x20X','Uploading\x20trace\x20logs\x20to:\x20','mocha','11tGNBFF','body','Windows','measureWrapper','CUCUMBER','DADee','lgFnv','object','ABRxo','TSzLs','/builds/','app-automate','json','prefix','failureData','deCga','117088dvEEgs','fromEntries','undefined','Authorization','codeceptjs','aOmOT','platform','Visit\x20','@cucumber/cucumber','readConfig','getBrowserName','CUiCI','BInwi','10934qPEjwc','VxDQE','WvMLG','local_grid','ZIPTX','cIqXP','@playwright/test','trace','getFrameworkVersion','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','asyncAwaitNodeReq','unknown_grid','cPkPJ','mNDVr','glqPO','fPXGH','Ctygd','1420572ehnYdE','match','data','yrdFr','dvTNR','147852ARxuBg','execSync','getFailureType','map','turboScaleGridDetails','O11yHashedID','cwd','BYZDA','PRINT_BUILDLINK','host','\x20:\x20','ePLzQ','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','default','stack','dWFmp','logs','PRYai','isArray','trim','TEST_OBSERVABILITY_BUILD_TAG','quCpl','buxYc','spMzo','[%s][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found\x20%s','NmSds','bjqxS','GDQrB','bvlYw','TEST_PLATFORM','CODECEPT','lNnXD','BROWSERSTACK_RERUN_TESTS','platformVersion','zemUn','maxSockets','getUserCredentials','application/json','error','vFZcA','getSyncScript','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','keys','^CUSTOM_TAG_\x5cd+$','hostname','test','uMHwX','BROWSERSTACK_CONFIG_FILE_PATH','browserstack','267rDMeoh','twZoC','info','getBrowserVersion','app','isUndefined','expanded','nwTPd','rQTzp','UnhandledError','OnAYE','Bearer\x20','eYPrH','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','extractValuesWithRegexKeyMatch','SiFAd','platformName','emit','rootDir','X-BSTACK-TESTOPS','eikRD','lodash','sIxjf','getos','path','iHdQy','getBrowserStackConfig','dist','child_process','shouldReRunObservabilityTests','QzAXt','nodeRequest','toJSON','../../bin/utils/constants','getSession','windows-release','getPlatformDetails','1385865RvJqIh','pid','debug','toString','LogCreated','win32','bdCyk','FLTSn','BS_TESTOPS_BUILD_HASHED_ID','CMkyV','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','IWPTR','getPackageVersion','EjxQb','replace','../performance/performance-tester','EURGv','spy','customTag','qkUOZ','message','uitxf','qUDSJ','winstonLogger','Agent','test_run_uuid','backtrace','catch','QHsQN','../../helpers/request-spy','BROWSERSTACK_TEST_OBSERVABILITY','PathHelper','TWHCQ','KOeYQ','11054650lYARJQ','getPlatformVersion','TsilK','../../../src/bin/utils/constants','jest','getUserName','Unknown','__cloud_provider___','ryGcG','../helper','parse','SoPQR','bs:addPlatformDetails:','kPOBE','isTestObservabilitySession','../../bin/v2/browserstackCLI','buildTag','push','BROWSERSTACK_OBSERVABILITY_DEBUG','25zXOiow','relativeTestFilePath','env','automate','TEST_ATTACHMENT','QQfuI','QfBmm','config','bstack:options','AKuIt','http','length','RnWyC','PrOJG','getObservabilityLinkedProductName','tJXsA','patchConsoleLogger','forEach','pXyZh','null','removeAnsiColors','JkNcV','../performance/constants','Content-Type','Error\x20in\x20getting\x20Linux\x20Details','YaZxG','git-last-commit','479893dgmWHY','ATS_HUB_URL_REGEX','linux','Error\x20in\x20importing\x20windows-release\x20','parseFileNames','split','aEcPm','browserstack_executor:\x20','getDefaultHeaders','getAccessKey','aBNqa','CODECEPT_CUCUMBER','format','280QmAfau','BROWSERSTACK_TESTHUB_JWT','hSdOg','RfqRJ','modifyReqForTraceUpload','filter','maxTotalSockets','fileName','atEuz','adsiq','BxSYn','annotate','lgCiM','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','HTTP','CUSTOM_TAG','map_','VpsQz','vWfXt','https','keepAlive','stringify','true','YwXUo','url','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','rresG','capabilities','ObservabilitySync:'];a117_0x2f43=function(){return _0x3339e3;};return a117_0x2f43();}