const a130_0x27f145=a130_0x4194;(function(_0x452a11,_0x5c877a){const _0x2dcf43=a130_0x4194,_0x258c59=_0x452a11();while(!![]){try{const _0x12d418=-parseInt(_0x2dcf43(0x17d))/0x1*(parseInt(_0x2dcf43(0xd9))/0x2)+-parseInt(_0x2dcf43(0x188))/0x3*(parseInt(_0x2dcf43(0x156))/0x4)+parseInt(_0x2dcf43(0x179))/0x5+-parseInt(_0x2dcf43(0xd7))/0x6*(-parseInt(_0x2dcf43(0x138))/0x7)+-parseInt(_0x2dcf43(0xde))/0x8+-parseInt(_0x2dcf43(0x100))/0x9+parseInt(_0x2dcf43(0xb0))/0xa;if(_0x12d418===_0x5c877a)break;else _0x258c59['push'](_0x258c59['shift']());}catch(_0x4f7799){_0x258c59['push'](_0x258c59['shift']());}}}(a130_0x2008,0xca389));const fs=require('fs'),path=require(a130_0x27f145(0xa3)),gitLastCommit=require(a130_0x27f145(0x18f)),getRepoInfo=require('git-repo-info'),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require('http'),https=require(a130_0x27f145(0xb3)),child_process=require(a130_0x27f145(0x143)),getos=require(a130_0x27f145(0x14b)),os=require('os'),logger=require('../logger')['winstonLogger'],buildLogger=require(a130_0x27f145(0x145))[a130_0x27f145(0xf2)],bsSetupHelper=require(a130_0x27f145(0xa4)),requestSpy=require(a130_0x27f145(0x184)),constants=require(a130_0x27f145(0xd2)),logPatcher=require(a130_0x27f145(0x15f)),util=require(a130_0x27f145(0x170)),{fileLogger}=require(a130_0x27f145(0x145)),PerformanceTester=require(a130_0x27f145(0x185)),{isFunction}=require(a130_0x27f145(0x125)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a130_0x27f145(0x13e)),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require('../../../src/bin/utils/constants');exports[a130_0x27f145(0x154)]=_0x85d2f2=>{const _0x332563=a130_0x27f145;fileLogger['silly']('['+new Date()[_0x332563(0x186)]()+_0x332563(0xa9)+constants['TEST_REPORTING_ANALYTICS']+'\x20]\x20'+_0x85d2f2);},exports['debug']=_0x566ad4=>{const _0x356362=a130_0x27f145,_0x2c88f2={};_0x2c88f2[_0x356362(0x147)]=function(_0x5eaef1,_0x4f98e3){return _0x5eaef1===_0x4f98e3;},_0x2c88f2[_0x356362(0xbc)]=_0x356362(0xf0),_0x2c88f2[_0x356362(0x178)]=function(_0x367de6,_0x5f392d){return _0x367de6===_0x5f392d;};const _0x3d8d33=_0x2c88f2;fileLogger[_0x356362(0x18d)]('['+new Date()[_0x356362(0x186)]()+_0x356362(0xa9)+constants[_0x356362(0x111)]+_0x356362(0x17e)+_0x566ad4),(_0x3d8d33[_0x356362(0x147)](process['env'][_0x356362(0x1a4)],_0x3d8d33['msmZD'])||_0x3d8d33[_0x356362(0x147)](process[_0x356362(0x14c)][_0x356362(0x1a4)],'1')||_0x3d8d33[_0x356362(0x178)](process['env'][_0x356362(0x109)],_0x3d8d33['msmZD'])||_0x3d8d33[_0x356362(0x178)](process[_0x356362(0x14c)][_0x356362(0x109)],'1'))&&consoleHolder[_0x356362(0xaf)]('\x0a['+new Date()[_0x356362(0x186)]()+_0x356362(0xa9)+constants[_0x356362(0x111)]+_0x356362(0x17e)+_0x566ad4+'\x0a');};const a130_0x5d353f={};function a130_0x2008(){const _0x3839ac=['platform','data','SnLwk','sendPlatformDetails','nodeRequest','capabilities','isUndefined','socgC','ATS_HUB_URL_REGEX','1553121amwolF','gEXEF','DXPlg','AssertionError','TEST_ATTACHMENT','zZvfM','Kohcr','getObservabilityLinkedProductName','X-BSTACK-TESTOPS','BROWSERSTACK_OBSERVABILITY_DEBUG','ZQgEu','maxTotalSockets','hGBos','test','TWBhw','bstack:options','browserstack','TEST_REPORTING_ANALYTICS','info','PDFIb','parse','PrGfX','hostname','includes','AxOYW','LusuV','bEnkP','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','isInternalHook','keepAlive','getSession','config','removeAnsiColors','Uploading\x20trace\x20logs\x20to:\x20','__cloud_provider___','GXHxB','lodash','prefixTestPath','turboScaleGridDetails','LogCreated','agQhD','pid','wcmfJ','BROWSERSTACK_CONFIG_FILE_PATH','relativeTestFilePath','RnHHN','NSLvJ','RcLba','DInZQ','fromEntries','length','parseFileNames','\x20:\x20','turboscale','KPZif','52101XCFnUH','WvzNV','TEST_OBSERVABILITY_BUILD_TAG','Linux','tvfKd','execSync','../performance/constants','UkmXh','stringify','Failed\x20to\x20determine\x20product\x20linked\x20to\x20','err','child_process','O11yHashedID','../logger','release','kaKPS','PRINT_BUILDLINK','toQSH','Error\x20in\x20importing\x20windows-release\x20','getos','env','patchConsoleLogger','nlIyd','undefined','getCustomTags','shouldReRunObservabilityTests','MVaIg','automate','trace','TEST_PLATFORM','44dXQWLi','expanded','QHbDu','aUupO','lmNii','dist','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','VIDgf','backtrace','../../bin/utils/logPatcher','application/json','toJSON','SrJgc','timeout','BROWSERSTACK_TEST_OBSERVABILITY_YML','BROWSERSTACK_TEST_OBSERVABILITY','NPsnx','lgnlj','kKApH','OS\x20X','xhdPQ','BYXUh','taSDu','win32','bs:addLog:','darwin','util','REqRN','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','GYcBI','qoMea','gwWdE','nTQxv','message','MJiZu','6274855JsLuXl','getFailureType','null','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','310tzoreH','\x20]\x20','replace','JEST','BROWSERSTACK_RERUN_TESTS','getSyncScript','DdRhh','../../helpers/request-spy','../performance/performance-tester','toISOString','getPlatform','30012oeyevv','trim','getAccessKey','app-automate','Unknown','debug','AyCdO','git-last-commit','sYSml','Authorization','logs','host','then','crtwd','sleep','local_grid','HUB_URL_REGEX','KVHUR','getUserCredentials','forEach','error','BROWSERSTACK_TESTHUB_JWT','getBuildTags','getBrowserVersion','lAMTK','sVOnw','Content-Type','default','BROWSERSTACK_TEST_REPORTING_DEBUG','HTTP','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','agent','TqqkG','/builds/','BS_TESTOPS_BUILD_HASHED_ID','ytevY','iADER','headers','keys','getDefaultHeaders','path','../helper','fOYZu','formData','bs:addPlatformDetails:','printBuildLink','][\x20','raxaj','yJEkH','relative','ZZmgw','eKLPW','log','12887220fSWAeK','isTestObservabilitySession','BUdyJ','https','UPSUZ','[%s][\x20','push','XmHoP','now','QeHtA','Visit\x20','ysxeg','msmZD','getCapabilities','split','addRequestSpy','xGUUO','json','prefix','map_','getPackageVersion','mDQZH','unknown_grid','map','Windows','maxSockets','emit','ObservabilitySync:','ZMLrS','extractValuesWithRegexKeyMatch','PNEeD','tPitc','match','lChHq','../../bin/utils/constants','oPuVH','stIGz','toString','join','642NRIeQw','test_run_uuid','6898NlAKwS','PLAYWRIGHT','O11Y_URL','fileName','../../bin/v2/browserstackCLI','9279952vdUjaz','AlHWJ','CUCUMBER','nxgSc','spy','\x20]\x20Build\x20Not\x20Found\x20%s','browserstack_executor:\x20','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','UaBFi','failureData','wvUWB','modifyReqForTraceUpload','Agent','xWShA','body','stack','ZKhoj','annotate','true','YtyfL','buildLogger','format','measureWrapper','getBrowserStackConfig','buildTag'];a130_0x2008=function(){return _0x3839ac;};return a130_0x2008();}a130_0x5d353f[a130_0x27f145(0x11e)]=!![],a130_0x5d353f[a130_0x27f145(0x163)]=0xea60,a130_0x5d353f[a130_0x27f145(0xc9)]=0x2,a130_0x5d353f[a130_0x27f145(0x10b)]=0x2;const httpKeepAliveAgent=new http[(a130_0x27f145(0xea))](a130_0x5d353f),a130_0x385a87={};a130_0x385a87['keepAlive']=!![],a130_0x385a87[a130_0x27f145(0x163)]=0xea60,a130_0x385a87[a130_0x27f145(0xc9)]=0x2,a130_0x385a87[a130_0x27f145(0x10b)]=0x2;const httpsKeepAliveAgent=new https[(a130_0x27f145(0xea))](a130_0x385a87),a130_0x2e6891={};a130_0x2e6891[a130_0x27f145(0x11e)]=!![],a130_0x2e6891[a130_0x27f145(0x163)]=0xea60,a130_0x2e6891['maxSockets']=0x2,a130_0x2e6891[a130_0x27f145(0x10b)]=0x2;const httpScreenshotsKeepAliveAgent=new http['Agent'](a130_0x2e6891),a130_0x54674e={};a130_0x54674e[a130_0x27f145(0x11e)]=!![],a130_0x54674e[a130_0x27f145(0x163)]=0xea60,a130_0x54674e[a130_0x27f145(0xc9)]=0x2,a130_0x54674e[a130_0x27f145(0x10b)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a130_0x27f145(0xea))](a130_0x54674e);exports[a130_0x27f145(0x151)]=()=>{const _0x3e43d4=a130_0x27f145,_0x1ccf04={};_0x1ccf04[_0x3e43d4(0x16b)]=function(_0x5017a1,_0x119904){return _0x5017a1!==_0x119904;},_0x1ccf04[_0x3e43d4(0x1ac)]='null';const _0x17f49f=_0x1ccf04;return process[_0x3e43d4(0x14c)][_0x3e43d4(0x181)]&&_0x17f49f[_0x3e43d4(0x16b)](process['env'][_0x3e43d4(0x181)],_0x17f49f['iADER'])?!![]:![];},exports[a130_0x27f145(0xb1)]=()=>{const _0x555b02=a130_0x27f145,_0xfa9876={};_0xfa9876[_0x555b02(0xe8)]=function(_0x22cb8c,_0x11b254){return _0x22cb8c===_0x11b254;},_0xfa9876[_0x555b02(0x124)]=_0x555b02(0xf0),_0xfa9876['RnHHN']=function(_0x22bf7e,_0x20e734){return _0x22bf7e===_0x20e734;};const _0x43d1aa=_0xfa9876;let _0xe295d7=!![];return process[_0x555b02(0x14c)][_0x555b02(0x164)]&&(_0xe295d7=_0x43d1aa['wvUWB'](process[_0x555b02(0x14c)][_0x555b02(0x164)],_0x43d1aa[_0x555b02(0x124)])),process[_0x555b02(0x14c)][_0x555b02(0x165)]&&(_0xe295d7=_0x43d1aa[_0x555b02(0xe8)](process[_0x555b02(0x14c)]['BROWSERSTACK_TEST_OBSERVABILITY'],_0x43d1aa[_0x555b02(0x124)])),process[_0x555b02(0x14c)]['BROWSERSTACK_TEST_REPORTING']&&(_0xe295d7=_0x43d1aa[_0x555b02(0x12e)](process['env']['BROWSERSTACK_TEST_REPORTING'],_0x43d1aa[_0x555b02(0x124)])),_0xe295d7;},exports[a130_0x27f145(0x134)]=_0x565b1d=>{const _0x2c8383=a130_0x27f145;if(bsSetupHelper[_0x2c8383(0xfd)](_0x565b1d))return undefined;try{return _0x565b1d[_0x2c8383(0x189)]()[_0x2c8383(0xbe)](',');}catch(_0x4c41c2){return undefined;}},exports[a130_0x27f145(0xa8)]=()=>{const _0x3dc92f=a130_0x27f145,_0x4a6808={'ZKhoj':function(_0x4908ff,_0x232647){return _0x4908ff(_0x232647);},'hGBos':_0x3dc92f(0xdd),'mDQZH':function(_0x3138bb,_0xcd6c98){return _0x3138bb!==_0xcd6c98;},'toQSH':_0x3dc92f(0x17b),'zZvfM':_0x3dc92f(0x14f)};return PerformanceTester[_0x3dc92f(0xf4)](PerformanceO11yEvents[_0x3dc92f(0x148)],async()=>{const _0x350680=_0x3dc92f;try{const _0x439ac0=_0x4a6808[_0x350680(0xee)](require,_0x4a6808[_0x350680(0x10c)]);if(_0x439ac0[_0x350680(0x144)]){const _0x4f5e75=_0x350680(0xba)+O11Y_URL+_0x350680(0x1a9)+_0x439ac0[_0x350680(0x144)]+_0x350680(0x11c);buildLogger[_0x350680(0x112)](_0x4f5e75);return;}if(process[_0x350680(0x14c)]['BS_TESTOPS_BUILD_HASHED_ID']&&_0x4a6808[_0x350680(0xc5)](process[_0x350680(0x14c)][_0x350680(0x1aa)],_0x4a6808[_0x350680(0x149)])&&_0x4a6808[_0x350680(0xc5)](process['env'][_0x350680(0x1aa)],_0x4a6808[_0x350680(0x105)])){const _0x47b9e3='Visit\x20'+constants[_0x350680(0xdb)]+_0x350680(0x1a9)+process[_0x350680(0x14c)]['BS_TESTOPS_BUILD_HASHED_ID']+_0x350680(0x11c);buildLogger['info'](_0x47b9e3);}}catch(_0x1d28b2){logger['error'](util['format'](_0x350680(0xb5)+constants['TEST_REPORTING_ANALYTICS']+_0x350680(0xe3),new Date()[_0x350680(0x186)](),_0x1d28b2[_0x350680(0xed)]||_0x1d28b2[_0x350680(0x177)]||_0x1d28b2));}})();},exports[a130_0x27f145(0x17a)]=_0x9be578=>{const _0x247f89=a130_0x27f145,_0x4cc588={};_0x4cc588['NSLvJ']=_0x247f89(0x103),_0x4cc588['eeVIe']='UnhandledError';const _0x416b69=_0x4cc588;if(!_0x9be578)return null;return _0x9be578['toString']()[_0x247f89(0xd0)](/AssertionError/)?_0x416b69[_0x247f89(0x12f)]:_0x416b69['eeVIe'];},exports['getFrameworkVersion']=_0x2923bd=>{const _0x5cf7b4=a130_0x27f145,_0xbe5cb7={};_0xbe5cb7[_0x5cf7b4(0x10e)]='mocha',_0xbe5cb7[_0x5cf7b4(0x1a8)]='@playwright/test',_0xbe5cb7[_0x5cf7b4(0x101)]='codeceptjs',_0xbe5cb7['PNEeD']='jest',_0xbe5cb7[_0x5cf7b4(0x1ab)]='@cucumber/cucumber';const _0x17c1c5=_0xbe5cb7;let _0x3f6067=null;switch(_0x2923bd){case FRAMEWORKS['MOCHA']:_0x3f6067=bsSetupHelper[_0x5cf7b4(0xc4)](_0x17c1c5[_0x5cf7b4(0x10e)]);break;case FRAMEWORKS[_0x5cf7b4(0xda)]:_0x3f6067=bsSetupHelper[_0x5cf7b4(0xc4)](_0x17c1c5[_0x5cf7b4(0x1a8)]);break;case FRAMEWORKS['CODECEPT']:case FRAMEWORKS['CODECEPT_CUCUMBER']:_0x3f6067=bsSetupHelper[_0x5cf7b4(0xc4)](_0x17c1c5[_0x5cf7b4(0x101)]);break;case FRAMEWORKS[_0x5cf7b4(0x180)]:_0x3f6067=bsSetupHelper[_0x5cf7b4(0xc4)](_0x17c1c5[_0x5cf7b4(0xce)]);break;case FRAMEWORKS[_0x5cf7b4(0xe0)]:_0x3f6067=bsSetupHelper[_0x5cf7b4(0xc4)](_0x17c1c5['ytevY']);break;default:break;}return _0x3f6067;},exports[a130_0x27f145(0xf5)]=_0x33ef78=>{const _0x4320a6=a130_0x27f145;let _0x324a3c=null;switch(_0x33ef78){case FRAMEWORKS[_0x4320a6(0xda)]:_0x324a3c=process['env'][_0x4320a6(0x12c)];break;}if(!_0x324a3c)return;return bsSetupHelper['readConfig'](_0x324a3c,![]);},exports[a130_0x27f145(0x19a)]=_0x2af66b=>{const _0x5a681f=a130_0x27f145;return{'username':bsSetupHelper['getUserName'](_0x2af66b),'accessKey':bsSetupHelper[_0x5a681f(0x18a)](_0x2af66b)};},exports[a130_0x27f145(0xe9)]=(_0x219775,_0x6b4d71)=>{const _0x1ce695=a130_0x27f145,_0x3097f3={};_0x3097f3[_0x1ce695(0x106)]='2|4|5|0|3|1',_0x3097f3['AxOYW']=_0x1ce695(0x128),_0x3097f3[_0x1ce695(0xe6)]=_0x1ce695(0x104);const _0x1aeb6e=_0x3097f3,_0x44a353=_0x1aeb6e['Kohcr'][_0x1ce695(0xbe)]('|');let _0x5f3349=0x0;while(!![]){switch(_0x44a353[_0x5f3349++]){case'0':delete _0x219775[_0x1ce695(0xec)];continue;case'1':delete _0x6b4d71[_0x1ce695(0x1ad)];continue;case'2':if(!_0x219775[_0x1ce695(0xec)]||!Array['isArray'](_0x219775[_0x1ce695(0xec)]))return;continue;case'3':delete _0x219775[_0x1ce695(0xc1)];continue;case'4':if(!_0x219775[_0x1ce695(0xec)][0x0]||!_0x219775['body'][0x0][_0x1ce695(0x192)]||!_0x219775[_0x1ce695(0xec)][0x0][_0x1ce695(0x192)][_0x1ce695(0x133)])return;continue;case'5':_0x219775[_0x1ce695(0xa6)]={'data':_0x219775[_0x1ce695(0xec)][0x0][_0x1ce695(0x192)][0x0]['data'],'test_run_uuid':_0x219775['body'][0x0]['logs'][0x0][_0x1ce695(0xd8)],'event_type':_0x1aeb6e[_0x1ce695(0x118)],'kind':_0x1aeb6e[_0x1ce695(0xe6)],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x1ce695(0x186)](),'fileName':_0x219775['body'][0x0][_0x1ce695(0x192)][0x0][_0x1ce695(0xdc)]};continue;}break;}},exports['asyncAwaitNodeReq']=async(_0x565dbf,_0x216eb7,_0x2a93af,_0x546be3,_0xc70da6=!![])=>{const _0x2ad4a1=a130_0x27f145,_0x275aca={};_0x275aca[_0x2ad4a1(0x130)]=function(_0x34d16a,_0x2b938c){return _0x34d16a===_0x2b938c;},_0x275aca['raxaj']=_0x2ad4a1(0x1a2),_0x275aca['QHbDu']=_0x2ad4a1(0x160),_0x275aca[_0x2ad4a1(0xb9)]=_0x2ad4a1(0xb3),_0x275aca[_0x2ad4a1(0x113)]=function(_0x457f0e,_0x4fe45d){return _0x457f0e!==_0x4fe45d;},_0x275aca[_0x2ad4a1(0x190)]='object',_0x275aca[_0x2ad4a1(0xd4)]=_0x2ad4a1(0x172);const _0x14f854=_0x275aca,_0x36135f={..._0x546be3,...{'method':_0x565dbf,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x216eb7,'body':_0x2a93af,'json':_0x14f854[_0x2ad4a1(0x130)](_0x546be3[_0x2ad4a1(0x1ad)][_0x14f854[_0x2ad4a1(0xaa)]],_0x14f854[_0x2ad4a1(0x158)]),'agent':API_URL['includes'](_0x14f854[_0x2ad4a1(0xb9)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x14f854[_0x2ad4a1(0x130)](_0x216eb7,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x36135f[_0x2ad4a1(0x1a7)]=API_URL[_0x2ad4a1(0x117)](_0x14f854[_0x2ad4a1(0xb9)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports['modifyReqForTraceUpload'](_0x36135f,_0x546be3),logger[_0x2ad4a1(0x18d)](_0x2ad4a1(0x122)+_0x36135f['url']));try{const {statusCode:_0x5d2117,body:_0x297fcc}=await bsSetupHelper[_0x2ad4a1(0xfb)](_0x565dbf,_0x216eb7,_0x36135f,_0x546be3,_0x36135f['url']);if(_0x14f854[_0x2ad4a1(0x113)](_0x5d2117,0xc8))return _0x297fcc?_0x297fcc:_0x2ad4a1(0x1a6)+_0x5d2117;let _0x1b99d9=_0x297fcc;if(_0xc70da6)try{_0x14f854[_0x2ad4a1(0x113)](typeof _0x297fcc,_0x14f854[_0x2ad4a1(0x190)])&&(_0x1b99d9=JSON[_0x2ad4a1(0x114)](_0x297fcc));}catch(_0x23f6e4){logger[_0x2ad4a1(0x19c)](_0x14f854['stIGz'],_0x297fcc,util[_0x2ad4a1(0xf3)](_0x23f6e4));}const _0x3c3601={};return _0x3c3601['data']=_0x1b99d9,_0x3c3601;}catch(_0x290a40){logger[_0x2ad4a1(0x19c)](_0x2ad4a1(0x11b)+util['format'](_0x290a40));throw _0x290a40;}},exports['nodeRequest']=(_0x592c1b,_0x4f58dd,_0xb4bef9,_0x460593,_0x1b84c7=!![])=>{const _0x4a29a5=a130_0x27f145,_0x5eabd0={'gQXwi':function(_0x5b24a9,_0x145a37){return _0x5b24a9!==_0x145a37;},'nxgSc':function(_0x58a21b,_0x4f459b){return _0x58a21b(_0x4f459b);},'WvzNV':function(_0x580f11,_0x5cbbda){return _0x580f11!==_0x5cbbda;},'nTQxv':'object','aUupO':_0x4a29a5(0x15c),'lChHq':function(_0xc22636,_0x5b352b){return _0xc22636(_0x5b352b);},'nlIyd':function(_0x2aae97,_0x3c3510){return _0x2aae97===_0x3c3510;},'xWShA':_0x4a29a5(0x1a2),'lgnlj':'application/json','wcmfJ':_0x4a29a5(0xb3)};return new Promise((_0x1b8c51,_0x1c7091)=>{const _0x5c31a0=_0x4a29a5,_0x2117a0={..._0x460593,...{'method':_0x592c1b,'url':API_URL+'/'+_0x4f58dd,'body':_0xb4bef9,'json':_0x5eabd0[_0x5c31a0(0x14e)](_0x460593['headers'][_0x5eabd0[_0x5c31a0(0xeb)]],_0x5eabd0[_0x5c31a0(0x167)]),'agent':API_URL['includes'](_0x5eabd0[_0x5c31a0(0x12b)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x5eabd0[_0x5c31a0(0x14e)](_0x4f58dd,SCREENSHOT_ENDPOINT)&&(_0x2117a0[_0x5c31a0(0x1a7)]=API_URL['includes'](_0x5eabd0[_0x5c31a0(0x12b)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper['nodeRequest'](_0x592c1b,_0x4f58dd,_0x2117a0,_0x460593,API_URL)[_0x5c31a0(0x194)](({statusCode:_0x4bb9d5,body:_0x1b2e8b})=>{const _0x33519a=_0x5c31a0;if(_0x5eabd0['gQXwi'](_0x4bb9d5,0xc8))_0x5eabd0['nxgSc'](_0x1c7091,_0x1b2e8b?_0x1b2e8b:_0x33519a(0x1a6)+_0x4bb9d5);else{if(_0x1b84c7)try{_0x5eabd0[_0x33519a(0x139)](typeof _0x1b2e8b,_0x5eabd0[_0x33519a(0x176)])&&(_0x1b2e8b=JSON[_0x33519a(0x114)](_0x1b2e8b));}catch(_0x3aac01){_0x5eabd0[_0x33519a(0xe1)](_0x1c7091,_0x5eabd0[_0x33519a(0x159)]);return;}const _0x23b5b3={};_0x23b5b3[_0x33519a(0xf8)]=_0x1b2e8b,_0x5eabd0[_0x33519a(0xd1)](_0x1b8c51,_0x23b5b3);}})['catch'](_0x46b8f7=>{_0x46b8f7&&_0x5eabd0['nxgSc'](_0x1c7091,_0x46b8f7);});});},exports[a130_0x27f145(0x19e)]=_0x913493=>{const _0xc9366b=a130_0x27f145;if(process['env']['TEST_REPORTING_BUILD_TAG'])return process[_0xc9366b(0x14c)]['TEST_REPORTING_BUILD_TAG'][_0xc9366b(0xbe)](',');if(process[_0xc9366b(0x14c)][_0xc9366b(0x13a)])return process[_0xc9366b(0x14c)]['TEST_OBSERVABILITY_BUILD_TAG'][_0xc9366b(0xbe)](',');if(_0x913493[_0xc9366b(0xf6)])return _0x913493['buildTag'];return[];},exports[a130_0x27f145(0xa2)]=(_0x1bb452=!![])=>{const _0x3176f8=a130_0x27f145,_0x2f25d8={};_0x2f25d8[_0x3176f8(0x173)]=_0x3176f8(0x160),_0x2f25d8[_0x3176f8(0x166)]=_0x3176f8(0xf0),_0x2f25d8[_0x3176f8(0x171)]=_0x3176f8(0x191);const _0x38f9f6=_0x2f25d8,_0x327e70={};_0x327e70[_0x3176f8(0x1a2)]=_0x38f9f6[_0x3176f8(0x173)],_0x327e70[_0x3176f8(0x108)]=_0x38f9f6[_0x3176f8(0x166)];const _0x4c2f15=_0x327e70;return _0x1bb452&&process[_0x3176f8(0x14c)][_0x3176f8(0x19d)]&&(_0x4c2f15[_0x38f9f6[_0x3176f8(0x171)]]='Bearer\x20'+process[_0x3176f8(0x14c)][_0x3176f8(0x19d)]),_0x4c2f15;},exports[a130_0x27f145(0xcd)]=_0xdab964=>{const _0x179a82=a130_0x27f145,_0x7e69a6={};_0x7e69a6['DInZQ']='^CUSTOM_TAG_\x5cd+$';const _0x344d2b=_0x7e69a6,_0x2d8dfa=[],_0x3e51a7=new RegExp(_0x344d2b[_0x179a82(0x131)],'i');return Object[_0x179a82(0x1ae)](_0xdab964)['filter'](_0x34fbe3=>_0x3e51a7[_0x179a82(0x10d)](_0x34fbe3))[_0x179a82(0x19b)](_0x4344ea=>_0x2d8dfa[_0x179a82(0xb6)](_0xdab964[_0x4344ea])),_0x2d8dfa;},exports[a130_0x27f145(0x150)]=_0x1e793b=>{const _0x41ccfd=a130_0x27f145,_0x4f1c16=[],_0x54c037=_0x1e793b['customTag']||process[_0x41ccfd(0x14c)]['CUSTOM_TAG'];return _0x54c037&&_0x4f1c16[_0x41ccfd(0xb6)](_0x54c037),_0x4f1c16['push'](...exports[_0x41ccfd(0xcd)](process[_0x41ccfd(0x14c)])),_0x4f1c16['push'](...exports[_0x41ccfd(0xcd)](_0x1e793b)),_0x4f1c16;},exports['removeAnsiColors']=_0x37cb28=>{const _0x35e036=a130_0x27f145;if(!_0x37cb28)return'';return _0x37cb28[_0x35e036(0x17f)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a130_0x27f145(0x196)]=(_0x7606e=0x64)=>new Promise(_0x1b7356=>setTimeout(_0x1b7356,_0x7606e));function a130_0x4194(_0x24969c,_0xde2882){const _0x200843=a130_0x2008();return a130_0x4194=function(_0x419459,_0x29967c){_0x419459=_0x419459-0xa2;let _0x1d383f=_0x200843[_0x419459];return _0x1d383f;},a130_0x4194(_0x24969c,_0xde2882);}const getPlatformName=()=>{const _0x5b4ea3=a130_0x27f145,_0x4778f8={};_0x4778f8['taSDu']=function(_0x3b58a7,_0x9a51e4){return _0x3b58a7===_0x9a51e4;},_0x4778f8[_0x5b4ea3(0x174)]=_0x5b4ea3(0x16d),_0x4778f8[_0x5b4ea3(0xb4)]=_0x5b4ea3(0xc8),_0x4778f8[_0x5b4ea3(0xad)]=function(_0x2456ea,_0x13ceaa){return _0x2456ea===_0x13ceaa;},_0x4778f8[_0x5b4ea3(0x195)]=_0x5b4ea3(0x16f),_0x4778f8[_0x5b4ea3(0xf1)]=_0x5b4ea3(0x169),_0x4778f8[_0x5b4ea3(0x199)]='linux',_0x4778f8[_0x5b4ea3(0xd3)]='Linux',_0x4778f8[_0x5b4ea3(0x183)]=_0x5b4ea3(0x18c);const _0x59c3a9=_0x4778f8;if(_0x59c3a9[_0x5b4ea3(0x16c)](process[_0x5b4ea3(0xf7)],_0x59c3a9[_0x5b4ea3(0x174)]))return _0x59c3a9[_0x5b4ea3(0xb4)];if(_0x59c3a9['ZZmgw'](process[_0x5b4ea3(0xf7)],_0x59c3a9[_0x5b4ea3(0x195)]))return _0x59c3a9['YtyfL'];if(_0x59c3a9['ZZmgw'](process[_0x5b4ea3(0xf7)],_0x59c3a9[_0x5b4ea3(0x199)]))return _0x59c3a9[_0x5b4ea3(0xd3)];return _0x59c3a9[_0x5b4ea3(0x183)];},getMacOSVersion=()=>{const _0x44c643=a130_0x27f145,_0x6fe0a5={};_0x6fe0a5[_0x44c643(0x152)]=_0x44c643(0xe5);const _0x3cc121=_0x6fe0a5;return child_process[_0x44c643(0x13d)](_0x3cc121[_0x44c643(0x152)])[_0x44c643(0xd5)]()['trim']();},getLinuxDetails=()=>{const _0x3c6619={'yJEkH':function(_0x353ada,_0x18d616){return _0x353ada(_0x18d616);},'VIDgf':function(_0x260347,_0x298d5d){return _0x260347(_0x298d5d);}};return new Promise((_0x133464,_0x61e330)=>{const _0x14ab22=a130_0x4194;_0x3c6619[_0x14ab22(0x15d)](getos,(_0xe10944,_0x363ca8)=>{const _0x3ed463=_0x14ab22;if(_0xe10944)return _0x3c6619[_0x3ed463(0xab)](_0x61e330,_0xe10944);_0x3c6619[_0x3ed463(0xab)](_0x133464,_0x363ca8);});});};exports['getPlatformDetails']=async()=>{const _0x1e1cf4=a130_0x27f145,_0x24df08={'IHerE':function(_0x2ae614){return _0x2ae614();},'LusuV':_0x1e1cf4(0x169),'lmNii':function(_0x32e5a3){return _0x32e5a3();},'SrJgc':_0x1e1cf4(0xc8),'kKApH':'windows-release','eJzDY':function(_0xf8b3be){return _0xf8b3be();},'SnLwk':_0x1e1cf4(0x13b),'SlfQi':'Error\x20in\x20getting\x20Linux\x20Details'};let _0x34bd2a=_0x24df08['IHerE'](getPlatformName),_0x55aee7=os[_0x1e1cf4(0x146)]()[_0x1e1cf4(0xd5)]();switch(_0x34bd2a){case _0x24df08[_0x1e1cf4(0x119)]:_0x55aee7=_0x24df08[_0x1e1cf4(0x15a)](getMacOSVersion);break;case _0x24df08[_0x1e1cf4(0x162)]:try{const _0x5bc043=(await import(_0x24df08[_0x1e1cf4(0x168)]))[_0x1e1cf4(0x1a3)];_0x55aee7=_0x24df08['eJzDY'](_0x5bc043);}catch(_0x22ee2a){exports['debug'](_0x1e1cf4(0x14a)+_0x22ee2a['toString']());}break;case _0x24df08[_0x1e1cf4(0xf9)]:try{const _0x586c39=await _0x24df08['eJzDY'](getLinuxDetails);_0x586c39['dist']&&(_0x34bd2a=_0x586c39[_0x1e1cf4(0x15b)]),_0x586c39['release']&&(_0x55aee7=_0x586c39[_0x1e1cf4(0x146)][_0x1e1cf4(0xd5)]());}catch(_0x4e186f){exports[_0x1e1cf4(0x18d)](_0x24df08['SlfQi']);}break;default:break;}const _0x89c331={};return _0x89c331['platformName']=_0x34bd2a,_0x89c331['platformVersion']=_0x55aee7,_0x89c331;},exports[a130_0x27f145(0xe7)]=(_0x3e9c2b,_0x4cb685)=>{const _0x1ffb72=a130_0x27f145,_0x46c86f={};_0x46c86f['PrGfX']=function(_0x2a63bc,_0x474780){return _0x2a63bc===_0x474780;},_0x46c86f['gwWdE']=_0x1ffb72(0x10d),_0x46c86f[_0x1ffb72(0xb7)]=function(_0x19f8b6,_0x3804d0){return _0x19f8b6===_0x3804d0;},_0x46c86f[_0x1ffb72(0x18e)]=_0x1ffb72(0x142);const _0x32dce2=_0x46c86f;if(!_0x3e9c2b)return[];try{if(_0x32dce2[_0x1ffb72(0x115)](_0x4cb685,_0x32dce2[_0x1ffb72(0x175)]))return _0x3e9c2b[_0x1ffb72(0xc7)](_0x4b978d=>{const _0x16db01=_0x1ffb72,{stack:_0x38b978,..._0x51462c}=_0x4b978d,_0x37fb4e=Object['keys'](_0x51462c)[_0x16db01(0xc7)](_0xbc51ee=>{return _0xbc51ee+':\x20'+_0x51462c[_0xbc51ee];}),_0x1a6eb1=_0x38b978?exports['removeAnsiColors'](_0x38b978)[_0x16db01(0xbe)](/\r?\n/):[exports[_0x16db01(0x121)](_0x4b978d['message'])],_0x4f1e28={};return _0x4f1e28[_0x16db01(0x15e)]=_0x1a6eb1,_0x4f1e28[_0x16db01(0x157)]=_0x37fb4e,_0x4f1e28;});else{if(_0x32dce2[_0x1ffb72(0xb7)](_0x4cb685,_0x32dce2[_0x1ffb72(0x18e)])){const _0x2925dc=[],_0x4ab1a0=[];return Object[_0x1ffb72(0x1ae)](_0x3e9c2b)[_0x1ffb72(0x19b)](_0x4208b9=>{const _0x5db5b4=_0x1ffb72;try{_0x4ab1a0[_0x5db5b4(0xb6)](_0x4208b9+':\x20'+_0x3e9c2b[_0x4208b9]);}catch(_0x22f68e){exports[_0x5db5b4(0x18d)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0x22f68e[_0x5db5b4(0x177)]+_0x5db5b4(0x135)+_0x22f68e[_0x5db5b4(0x15e)]);}}),_0x2925dc[_0x1ffb72(0xb6)]({'backtrace':exports['removeAnsiColors'](_0x3e9c2b[_0x1ffb72(0xed)])[_0x1ffb72(0xbe)](/\r?\n/),'expanded':_0x4ab1a0}),_0x2925dc;}}return[];}catch(_0xb76db){exports[_0x1ffb72(0x18d)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0xb76db[_0x1ffb72(0x177)]+_0x1ffb72(0x135)+_0xb76db[_0x1ffb72(0x15e)]);}return[];};class PathHelper{constructor(_0x4be81d,_0x52d217){const _0x4e6f43=a130_0x27f145;this[_0x4e6f43(0x120)]=_0x4be81d,this[_0x4e6f43(0xc2)]=_0x52d217;}[a130_0x27f145(0x12d)](_0x3d1bd8){const _0x23a9d2=a130_0x27f145,_0x38c82d=this['config']['cwd']||this[_0x23a9d2(0x120)]['rootDir'];return path[_0x23a9d2(0xac)](_0x38c82d,_0x3d1bd8);}[a130_0x27f145(0x126)](_0x17b602){const _0x4063d6=a130_0x27f145,_0x4be667=this[_0x4063d6(0x12d)](_0x17b602);return this[_0x4063d6(0xc2)]?path[_0x4063d6(0xd6)](this[_0x4063d6(0xc2)],_0x4be667):_0x4be667;}}exports['PathHelper']=PathHelper,exports[a130_0x27f145(0xbf)]=(_0x48ac28=!![])=>{const _0x35209d=a130_0x27f145,_0x2fc015={};_0x2fc015['pwQfe']=function(_0x557c3e,_0x2518b0){return _0x557c3e===_0x2518b0;},_0x2fc015[_0x35209d(0xbb)]=_0x35209d(0x108),_0x2fc015[_0x35209d(0xa5)]='true',_0x2fc015[_0x35209d(0xc0)]=_0x35209d(0x1a5),_0x2fc015['xhdPQ']=_0x35209d(0x110),_0x2fc015[_0x35209d(0x129)]=_0x35209d(0x197);const _0x4c2cd2=_0x2fc015;requestSpy[_0x35209d(0xe2)]((_0x4be26a,_0x555ba5)=>{const _0x3d5d6d=_0x35209d;_0x555ba5&&!(_0x555ba5[_0x3d5d6d(0x1ad)]&&_0x4c2cd2['pwQfe'](_0x555ba5['headers'][_0x4c2cd2[_0x3d5d6d(0xbb)]],_0x4c2cd2[_0x3d5d6d(0xa5)]))&&(_0x555ba5[_0x3d5d6d(0x193)]=_0x555ba5['hostname'],delete _0x555ba5[_0x3d5d6d(0x116)],_0x48ac28&&process[_0x3d5d6d(0xca)](_0x3d5d6d(0x16e)+process[_0x3d5d6d(0x12a)],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x4c2cd2[_0x3d5d6d(0xc0)],'http_response':_0x555ba5})),_0x555ba5&&(constants[_0x3d5d6d(0x198)][_0x3d5d6d(0x10d)](_0x555ba5[_0x3d5d6d(0x193)])||constants[_0x3d5d6d(0xff)][_0x3d5d6d(0x10d)](_0x555ba5[_0x3d5d6d(0x193)]))?global[_0x3d5d6d(0x123)]=_0x4c2cd2[_0x3d5d6d(0x16a)]:global[_0x3d5d6d(0x123)]=_0x4c2cd2['agQhD'];});},exports[a130_0x27f145(0x14d)]=()=>{const _0x2a8157=a130_0x27f145,_0x41fd8a={'DXPlg':function(_0x303254,_0x1dc365){return _0x303254(_0x1dc365);}};console={},Object[_0x2a8157(0x1ae)](consoleHolder)[_0x2a8157(0x19b)](_0x189469=>{const _0x258514=_0x2a8157;_0x41fd8a[_0x258514(0x102)](isFunction,consoleHolder[_0x189469])?console[_0x189469]=(..._0x532789)=>{try{!Object['keys'](BSTestOpsPatcher)['includes'](_0x189469)?consoleHolder[_0x189469](..._0x532789):BSTestOpsPatcher[_0x189469](..._0x532789);}catch(_0x1dbe7b){consoleHolder[_0x189469](..._0x532789);}}:console[_0x189469]=consoleHolder[_0x189469];});},exports[a130_0x27f145(0x182)]=()=>a130_0x27f145(0xe4)+JSON[a130_0x27f145(0x140)]({'action':a130_0x27f145(0xef),'arguments':{'data':a130_0x27f145(0xcb)+Date[a130_0x27f145(0xb8)](),'level':a130_0x27f145(0x18d)}}),exports[a130_0x27f145(0x107)]=_0xc300e7=>{const _0x1c4b78=a130_0x27f145,_0x2aaee8={};_0x2aaee8['UkmXh']=function(_0x61c1e5,_0x36dba5){return _0x61c1e5===_0x36dba5;},_0x2aaee8[_0x1c4b78(0xcf)]=_0x1c4b78(0x110),_0x2aaee8[_0x1c4b78(0x11a)]='appium:app',_0x2aaee8['ZQgEu']='app',_0x2aaee8[_0x1c4b78(0xfe)]=function(_0x279e8b,_0x2a8bb1){return _0x279e8b>_0x2a8bb1;},_0x2aaee8[_0x1c4b78(0xae)]=_0x1c4b78(0x18b),_0x2aaee8[_0x1c4b78(0x137)]=_0x1c4b78(0x10f),_0x2aaee8[_0x1c4b78(0x1a1)]=_0x1c4b78(0x127),_0x2aaee8[_0x1c4b78(0xb2)]=_0x1c4b78(0x136),_0x2aaee8[_0x1c4b78(0xcc)]=_0x1c4b78(0x153);const _0xfa6f3e=_0x2aaee8;let _0x2c804d=null;try{if(_0xfa6f3e[_0x1c4b78(0x13f)](global['__cloud_provider___'],_0xfa6f3e['tPitc'])){if(_0xc300e7[_0xfa6f3e[_0x1c4b78(0x11a)]]||_0xc300e7[_0xfa6f3e['ZQgEu']]||!bsSetupHelper['isUndefined'](global[_0x1c4b78(0xfc)])&&_0xfa6f3e[_0x1c4b78(0xfe)](global[_0x1c4b78(0xfc)]['length'],0x0)&&(global['capabilities'][0x0][_0xfa6f3e[_0x1c4b78(0x10a)]]||global[_0x1c4b78(0xfc)][0x0][_0xfa6f3e[_0x1c4b78(0x11a)]]))_0x2c804d=_0xfa6f3e[_0x1c4b78(0xae)];else _0xc300e7[_0xfa6f3e['KPZif']]&&_0xc300e7[_0xfa6f3e[_0x1c4b78(0x137)]][_0xfa6f3e[_0x1c4b78(0x1a1)]]?_0x2c804d=_0xfa6f3e[_0x1c4b78(0xb2)]:_0x2c804d=_0xfa6f3e[_0x1c4b78(0xcc)];}}catch(_0x2bdc89){exports[_0x1c4b78(0x18d)](_0x1c4b78(0x141)+constants[_0x1c4b78(0x111)]+'\x20test\x20instance\x20:\x20'+_0x2bdc89);}return _0x2c804d;},exports[a130_0x27f145(0xfa)]=async(_0x51eb65,_0x492d48,_0x5b08d7=![])=>{const _0x4579aa=a130_0x27f145,_0x47d907={};_0x47d907['fIRWU']=function(_0x15cc6e,_0x55b6b3){return _0x15cc6e===_0x55b6b3;},_0x47d907[_0x4579aa(0xdf)]=_0x4579aa(0x110),_0x47d907[_0x4579aa(0x1a0)]=_0x4579aa(0xc6),_0x47d907[_0x4579aa(0x13c)]=_0x4579aa(0x155);const _0x5b65fe=_0x47d907;try{const _0x43ef71=await _0x51eb65['getCapabilities'](),_0x508184=await _0x51eb65[_0x4579aa(0x11f)](),_0x253803={},_0x5a5e2f=Object[_0x4579aa(0x132)](_0x508184[_0x4579aa(0xbd)]()[_0x4579aa(0xc3)]),_0x330c94={'product':exports['getObservabilityLinkedProductName'](_0x5a5e2f),'capabilities':_0x5a5e2f,'platform':_0x43ef71[_0x4579aa(0x187)](),'platform_version':bsSetupHelper['getPlatformVersion'](_0x5b65fe['fIRWU'](global[_0x4579aa(0x123)],_0x5b65fe[_0x4579aa(0xdf)])),'browser':_0x43ef71['getBrowserName'](),'browser_version':_0x43ef71[_0x4579aa(0x19f)](),'session_id':_0x508184[_0x4579aa(0x161)]()};global['__cloud_provider___']?_0x253803[global[_0x4579aa(0x123)]]=_0x330c94:_0x253803[_0x5b65fe['lAMTK']]=_0x330c94;if(_0x5b08d7)return _0x253803;process[_0x4579aa(0xca)](_0x4579aa(0xa7)+process[_0x4579aa(0x12a)],{'timestamp':new Date()[_0x4579aa(0x186)](),'level':null,'message':null,'kind':_0x5b65fe['tvfKd'],'http_response':_0x253803,'uuid':_0x492d48});}catch(_0x2dcf7c){exports[_0x4579aa(0x18d)](_0x4579aa(0x17c)+_0x2dcf7c);}},exports[a130_0x27f145(0x11d)]=_0x46356b=>{const _0x9f77a0=a130_0x27f145;return _0x46356b&&_0x46356b[_0x9f77a0(0xd5)]()[_0x9f77a0(0xd0)](/browserstack internal helper hook/);};