const a88_0x172f99=a88_0x5d16;(function(_0x51709f,_0x96cc98){const _0x5b4b7f=a88_0x5d16,_0x4d7137=_0x51709f();while(!![]){try{const _0x284d44=parseInt(_0x5b4b7f(0x284))/0x1+-parseInt(_0x5b4b7f(0x20c))/0x2+parseInt(_0x5b4b7f(0x27e))/0x3+-parseInt(_0x5b4b7f(0x293))/0x4+-parseInt(_0x5b4b7f(0x1e6))/0x5*(-parseInt(_0x5b4b7f(0x268))/0x6)+-parseInt(_0x5b4b7f(0x2d1))/0x7+parseInt(_0x5b4b7f(0x2b0))/0x8;if(_0x284d44===_0x96cc98)break;else _0x4d7137['push'](_0x4d7137['shift']());}catch(_0x49633e){_0x4d7137['push'](_0x4d7137['shift']());}}}(a88_0x46b8,0xbbc3d));const fs=require('fs'),path=require(a88_0x172f99(0x20e)),gitLastCommit=require(a88_0x172f99(0x278)),getRepoInfo=require(a88_0x172f99(0x28c)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require(a88_0x172f99(0x20b)),https=require(a88_0x172f99(0x1ce)),child_process=require('child_process'),getos=require(a88_0x172f99(0x2ce)),os=require('os'),logger=require(a88_0x172f99(0x263))[a88_0x172f99(0x29f)],bsSetupHelper=require(a88_0x172f99(0x2a1)),requestSpy=require(a88_0x172f99(0x2b7)),constants=require(a88_0x172f99(0x1f3)),logPatcher=require(a88_0x172f99(0x25e)),util=require(a88_0x172f99(0x2be)),{fileLogger}=require(a88_0x172f99(0x263)),PerformanceTester=require('../performance/performance-tester'),{isFunction}=require(a88_0x172f99(0x1e5)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a88_0x172f99(0x2d4));exports[a88_0x172f99(0x1f6)]=_0x50d631=>{const _0x579d8b=a88_0x172f99;fileLogger[_0x579d8b(0x267)]('['+new Date()[_0x579d8b(0x1f5)]()+_0x579d8b(0x1dc)+_0x50d631);},exports[a88_0x172f99(0x1dd)]=_0x209b2e=>{const _0x13cd04=a88_0x172f99,_0x144034={};_0x144034[_0x13cd04(0x299)]=function(_0x4a845c,_0x3d7f97){return _0x4a845c===_0x3d7f97;},_0x144034[_0x13cd04(0x236)]='true',_0x144034[_0x13cd04(0x2d6)]=function(_0x3b4f68,_0x30fb17){return _0x3b4f68===_0x30fb17;};const _0x2d0d99=_0x144034;fileLogger[_0x13cd04(0x1dd)]('['+new Date()[_0x13cd04(0x1f5)]()+'][\x20OBSERVABILITY\x20]\x20'+_0x209b2e),(_0x2d0d99[_0x13cd04(0x299)](process[_0x13cd04(0x1f9)]['BROWSERSTACK_OBSERVABILITY_DEBUG'],_0x2d0d99[_0x13cd04(0x236)])||_0x2d0d99[_0x13cd04(0x2d6)](process[_0x13cd04(0x1f9)]['BROWSERSTACK_OBSERVABILITY_DEBUG'],'1'))&&consoleHolder[_0x13cd04(0x292)]('\x0a['+new Date()[_0x13cd04(0x1f5)]()+_0x13cd04(0x1dc)+_0x209b2e+'\x0a');};const a88_0x122d38={};a88_0x122d38[a88_0x172f99(0x222)]=!![],a88_0x122d38[a88_0x172f99(0x23b)]=0xea60,a88_0x122d38[a88_0x172f99(0x2b1)]=0x2,a88_0x122d38[a88_0x172f99(0x217)]=0x2;function a88_0x5d16(_0x2a0d6a,_0x22cceb){const _0x46b81a=a88_0x46b8();return a88_0x5d16=function(_0x5d1667,_0x5ea5df){_0x5d1667=_0x5d1667-0x1cb;let _0x3426c2=_0x46b81a[_0x5d1667];return _0x3426c2;},a88_0x5d16(_0x2a0d6a,_0x22cceb);}const httpKeepAliveAgent=new http[(a88_0x172f99(0x1cb))](a88_0x122d38),a88_0x4acea3={};a88_0x4acea3[a88_0x172f99(0x222)]=!![],a88_0x4acea3[a88_0x172f99(0x23b)]=0xea60,a88_0x4acea3[a88_0x172f99(0x2b1)]=0x2,a88_0x4acea3[a88_0x172f99(0x217)]=0x2;const httpsKeepAliveAgent=new https['Agent'](a88_0x4acea3),a88_0x18baee={};a88_0x18baee[a88_0x172f99(0x222)]=!![],a88_0x18baee[a88_0x172f99(0x23b)]=0xea60,a88_0x18baee['maxSockets']=0x2,a88_0x18baee[a88_0x172f99(0x217)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a88_0x172f99(0x1cb))](a88_0x18baee),a88_0x16ef77={};function a88_0x46b8(){const _0x2527a6=['maxTotalSockets','catch','zvyhv','true','eEImA','cMOEv','stringify','ObservabilitySync:','BQSoL','eastc','platformVersion','keepAlive','Fzayz','capabilities','browserstack_executor:\x20','browserstack','BdEZU','config','TEST_OBSERVABILITY_BUILD_TAG','PVJuF','annotate','replace','object','getAccessKey','trim','fIRqo','CUCUMBER','Bearer\x20','map','UOwXd','message','thWFd','SCatI','YGIgV','UaXQd','bcsYl','timeout','removeAnsiColors','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','sLoCR','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','platformName','getBrowserName','vPgWz','ekjXl','execSync','__cloud_provider___','njlKE','app','patchConsoleLogger','xMifB','getPlatformDetails','ATS_HUB_URL_REGEX','@cucumber/cucumber','iaDmY','qfwwo','kHbac','automate','extractValuesWithRegexKeyMatch','BROWSERSTACK_TEST_OBSERVABILITY','test','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','OuipM','split','pid','length','Bglsm','vFzBW','BROWSERSTACK_CONFIG_FILE_PATH','agent','getPackageVersion','../../bin/utils/logPatcher','VBUtV','Windows','FxCIh','headers','../logger','readConfig','mJGxC','X-BSTACK-TESTOPS','silly','18pPXQEl','win32','prefixTestPath','url','BROWSERSTACK_TESTHUB_JWT','logs','TEST_ATTACHMENT','dqxJO','mocha','getObservabilityLinkedProductName','dibWX','uKdkP','includes','\x20:\x20','bmhLJ','error','git-last-commit','LogCreated','Content-Type','rIxcP','kTKGk','BROWSERSTACK_RERUN_TESTS','4303467pJIOts','buildTag','nLdGl','darwin','release','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','178372KsDhmB','^CUSTOM_TAG_\x5cd+$','KQVuC','HTTP','PathHelper','MOCHA','Authorization','stack','git-repo-info','TEST_PLATFORM','JEST','][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found','getCapabilities','bIBPf','log','3453680xszdeI','filter','Uploading\x20trace\x20logs\x20to:\x20','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','data','rOcmb','FQimp','parse','spy','formData','getPlatform','PLAYWRIGHT','winstonLogger','sendPlatformDetails','../helper','BoMgo','getFailureType','customTag','ECPRI','relative','CUSTOM_TAG','JcOAu','tuCCR','info','measureWrapper','emit','getCustomTags','FydWs','UBMht','6674432EjTQXl','maxSockets','@playwright/test','map_','Visit\x20https://observability.browserstack.com/builds/','yxXVo','WSyrq','../../helpers/request-spy','YMsgH','gJPCn','AzPvq','prefix','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','default','util','push','WSggM','join','toString','WwGqb','now','zcUaj','WaJXG','BROWSERSTACK_TEST_OBSERVABILITY_YML','PLAYWRIGHT_TRACE_LOGS','DokSP','JeFck','modifyReqForTraceUpload','Unknown','Error\x20in\x20importing\x20windows-release\x20','getos','getUserName','ykgWS','6523461KrEyZp','ESgfV','oFANo','../performance/constants','fXIFA','BRXuh','QBwqS','asyncAwaitNodeReq','wrJjs','isTestObservabilitySession','local_grid','UnhandledError','cEgWW','Agent','unknown_grid','getBrowserVersion','https','Error\x20in\x20getting\x20Linux\x20Details','sleep','keys','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','Linux','linux','rvNtP','bMCzm','MbuuA','relativeTestFilePath','body','osoTZ','SVieE','][\x20OBSERVABILITY\x20]\x20','debug','toJSON','gXbLI','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','parseFileNames','fromEntries','SRbFr','lJBEX','lodash','2044555LQRaal','platform','jest','BS_TESTOPS_BUILD_HASHED_ID','iFSTw','json','azjmW','null','fVBNm','getBuildTags','getFrameworkVersion','LxadK','CODECEPT_CUCUMBER','../../bin/utils/constants','host','toISOString','trace','forEach','jMNTG','env','bs:addLog:','codeceptjs','getUserCredentials','application/json','IWSAu','bstack:options','oMtDU','xFldK','dgGZP','rmomg','TLKQY','isInternalHook','nodeRequest','isArray','0|1|2|4|3|5','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','windows-release','http','2218940CyKxTk','urJKQ','path','format','KYTgZ','nJJtB','dist','oEXBJ','fileName','test_run_uuid','hostname'];a88_0x46b8=function(){return _0x2527a6;};return a88_0x46b8();}a88_0x16ef77[a88_0x172f99(0x222)]=!![],a88_0x16ef77[a88_0x172f99(0x23b)]=0xea60,a88_0x16ef77[a88_0x172f99(0x2b1)]=0x2,a88_0x16ef77[a88_0x172f99(0x217)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a88_0x172f99(0x1cb))](a88_0x16ef77);exports['shouldReRunObservabilityTests']=()=>{const _0x122337=a88_0x172f99,_0x3c8ead={};_0x3c8ead[_0x122337(0x20d)]=function(_0x2e2e53,_0x42af21){return _0x2e2e53!==_0x42af21;},_0x3c8ead[_0x122337(0x201)]=_0x122337(0x1ed);const _0x5712d4=_0x3c8ead;return process[_0x122337(0x1f9)][_0x122337(0x27d)]&&_0x5712d4['urJKQ'](process['env'][_0x122337(0x27d)],_0x5712d4['xFldK'])?!![]:![];},exports[a88_0x172f99(0x2da)]=()=>{const _0x19f76f=a88_0x172f99,_0x42f4a2={};_0x42f4a2['UaXQd']=function(_0x1e88e8,_0xd0408e){return _0x1e88e8===_0xd0408e;},_0x42f4a2[_0x19f76f(0x2c5)]='true',_0x42f4a2[_0x19f76f(0x2a9)]=function(_0x5d797c,_0x2fa9bc){return _0x5d797c===_0x2fa9bc;};const _0x4fa300=_0x42f4a2;let _0x53311e=!![];return process[_0x19f76f(0x1f9)][_0x19f76f(0x2c7)]&&(_0x53311e=_0x4fa300[_0x19f76f(0x239)](process[_0x19f76f(0x1f9)][_0x19f76f(0x2c7)],_0x4fa300[_0x19f76f(0x2c5)])),process['env'][_0x19f76f(0x252)]&&(_0x53311e=_0x4fa300['tuCCR'](process[_0x19f76f(0x1f9)][_0x19f76f(0x252)],_0x4fa300[_0x19f76f(0x2c5)])),_0x53311e;},exports[a88_0x172f99(0x1e1)]=_0xa0a803=>{const _0x115f42=a88_0x172f99;if(bsSetupHelper['isUndefined'](_0xa0a803))return undefined;try{return _0xa0a803[_0x115f42(0x22f)]()[_0x115f42(0x256)](',');}catch(_0x5e21e0){return undefined;}},exports['printBuildLink']=()=>{const _0x2938dd=a88_0x172f99,_0x3ba52a={};_0x3ba52a['rmomg']=function(_0x4884b1,_0x126c0d){return _0x4884b1!==_0x126c0d;},_0x3ba52a[_0x2938dd(0x21f)]=_0x2938dd(0x1ed),_0x3ba52a[_0x2938dd(0x2ba)]='undefined';const _0x533338=_0x3ba52a;return PerformanceTester[_0x2938dd(0x2ab)](PerformanceO11yEvents['PRINT_BUILDLINK'],async()=>{const _0x2f9822=_0x2938dd;try{process[_0x2f9822(0x1f9)][_0x2f9822(0x1e9)]&&_0x533338[_0x2f9822(0x203)](process[_0x2f9822(0x1f9)][_0x2f9822(0x1e9)],_0x533338[_0x2f9822(0x21f)])&&_0x533338[_0x2f9822(0x203)](process[_0x2f9822(0x1f9)][_0x2f9822(0x1e9)],_0x533338[_0x2f9822(0x2ba)])&&logger[_0x2f9822(0x2aa)](_0x2f9822(0x2b4)+process[_0x2f9822(0x1f9)][_0x2f9822(0x1e9)]+_0x2f9822(0x2bc));}catch(_0x72caa8){logger[_0x2f9822(0x277)]('['+new Date()[_0x2f9822(0x1f5)]()+_0x2f9822(0x28f));}})();},exports[a88_0x172f99(0x2a3)]=_0x1b9fb0=>{const _0x384485=a88_0x172f99,_0x5ef086={};_0x5ef086[_0x384485(0x273)]='AssertionError',_0x5ef086[_0x384485(0x1f1)]=_0x384485(0x2dc);const _0x21cd1f=_0x5ef086;if(!_0x1b9fb0)return null;return _0x1b9fb0[_0x384485(0x2c2)]()['match'](/AssertionError/)?_0x21cd1f[_0x384485(0x273)]:_0x21cd1f[_0x384485(0x1f1)];},exports[a88_0x172f99(0x1f0)]=_0x54fd6d=>{const _0xef38c2=a88_0x172f99,_0xcb98c2={};_0xcb98c2['WaJXG']=_0xef38c2(0x270),_0xcb98c2[_0xef38c2(0x2d3)]=_0xef38c2(0x2b2),_0xcb98c2[_0xef38c2(0x27b)]=_0xef38c2(0x1fb),_0xcb98c2[_0xef38c2(0x2b8)]=_0xef38c2(0x1e8),_0xcb98c2['wcvOh']=_0xef38c2(0x24c);const _0x204ddf=_0xcb98c2;let _0x4da699=null;switch(_0x54fd6d){case FRAMEWORKS[_0xef38c2(0x289)]:_0x4da699=bsSetupHelper[_0xef38c2(0x25d)](_0x204ddf[_0xef38c2(0x2c6)]);break;case FRAMEWORKS[_0xef38c2(0x29e)]:_0x4da699=bsSetupHelper['getPackageVersion'](_0x204ddf[_0xef38c2(0x2d3)]);break;case FRAMEWORKS['CODECEPT']:case FRAMEWORKS[_0xef38c2(0x1f2)]:_0x4da699=bsSetupHelper[_0xef38c2(0x25d)](_0x204ddf[_0xef38c2(0x27b)]);break;case FRAMEWORKS[_0xef38c2(0x28e)]:_0x4da699=bsSetupHelper[_0xef38c2(0x25d)](_0x204ddf[_0xef38c2(0x2b8)]);break;case FRAMEWORKS[_0xef38c2(0x231)]:_0x4da699=bsSetupHelper[_0xef38c2(0x25d)](_0x204ddf['wcvOh']);break;default:break;}return _0x4da699;},exports['getBrowserStackConfig']=_0x35d1a8=>{const _0x4f337d=a88_0x172f99;let _0x112453=null;switch(_0x35d1a8){case FRAMEWORKS['PLAYWRIGHT']:_0x112453=process['env'][_0x4f337d(0x25b)];break;}if(!_0x112453)return;return bsSetupHelper[_0x4f337d(0x264)](_0x112453,![]);},exports[a88_0x172f99(0x1fc)]=_0x199680=>{const _0x5b089c=a88_0x172f99;return{'username':bsSetupHelper[_0x5b089c(0x2cf)](_0x199680),'accessKey':bsSetupHelper[_0x5b089c(0x22e)](_0x199680)};},exports[a88_0x172f99(0x2cb)]=(_0x1e16f0,_0x4d0e06)=>{const _0x3a4e52=a88_0x172f99,_0x375532={};_0x375532[_0x3a4e52(0x255)]=_0x3a4e52(0x208),_0x375532[_0x3a4e52(0x230)]=_0x3a4e52(0x279),_0x375532[_0x3a4e52(0x23e)]=_0x3a4e52(0x26e),_0x375532[_0x3a4e52(0x2b5)]=_0x3a4e52(0x2c8);const _0x4931f6=_0x375532,_0x338fd1=_0x4931f6[_0x3a4e52(0x255)][_0x3a4e52(0x256)]('|');let _0x1196c4=0x0;while(!![]){switch(_0x338fd1[_0x1196c4++]){case'0':if(!_0x1e16f0[_0x3a4e52(0x1d9)]||!Array[_0x3a4e52(0x207)](_0x1e16f0[_0x3a4e52(0x1d9)]))return;continue;case'1':if(!_0x1e16f0['body'][0x0]||!_0x1e16f0[_0x3a4e52(0x1d9)][0x0][_0x3a4e52(0x26d)]||!_0x1e16f0['body'][0x0][_0x3a4e52(0x26d)][_0x3a4e52(0x258)])return;continue;case'2':_0x1e16f0[_0x3a4e52(0x29c)]={'data':_0x1e16f0[_0x3a4e52(0x1d9)][0x0][_0x3a4e52(0x26d)][0x0][_0x3a4e52(0x297)],'test_run_uuid':_0x1e16f0[_0x3a4e52(0x1d9)][0x0][_0x3a4e52(0x26d)][0x0][_0x3a4e52(0x215)],'event_type':_0x4931f6[_0x3a4e52(0x230)],'kind':_0x4931f6['sLoCR'],'attachmentType':_0x4931f6[_0x3a4e52(0x2b5)],'timestamp':new Date()['toISOString'](),'fileName':_0x1e16f0['body'][0x0][_0x3a4e52(0x26d)][0x0][_0x3a4e52(0x214)]};continue;case'3':delete _0x1e16f0[_0x3a4e52(0x1eb)];continue;case'4':delete _0x1e16f0[_0x3a4e52(0x1d9)];continue;case'5':delete _0x4d0e06[_0x3a4e52(0x262)];continue;}break;}},exports[a88_0x172f99(0x2d8)]=async(_0x5732ad,_0x55e0e0,_0x57c92f,_0x111192,_0x63728a=!![])=>{const _0x209c5d=a88_0x172f99,_0x5d2343={};_0x5d2343[_0x209c5d(0x2d0)]=function(_0x14ac4f,_0x44b98a){return _0x14ac4f===_0x44b98a;},_0x5d2343[_0x209c5d(0x1e3)]=_0x209c5d(0x27a),_0x5d2343[_0x209c5d(0x291)]='application/json',_0x5d2343['YGIgV']=_0x209c5d(0x1ce),_0x5d2343[_0x209c5d(0x2ca)]=function(_0x4afc42,_0x2d112c){return _0x4afc42!==_0x2d112c;},_0x5d2343['DokSP']=function(_0x3ffe37,_0x1260bd){return _0x3ffe37!==_0x1260bd;},_0x5d2343[_0x209c5d(0x2dd)]=_0x209c5d(0x22d),_0x5d2343[_0x209c5d(0x242)]=_0x209c5d(0x296);const _0x5ac241=_0x5d2343,_0x5a85c5={..._0x111192,...{'method':_0x5732ad,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x55e0e0,'body':_0x57c92f,'json':_0x5ac241[_0x209c5d(0x2d0)](_0x111192[_0x209c5d(0x262)][_0x5ac241[_0x209c5d(0x1e3)]],_0x5ac241[_0x209c5d(0x291)]),'agent':API_URL[_0x209c5d(0x274)](_0x5ac241[_0x209c5d(0x238)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x5ac241[_0x209c5d(0x2d0)](_0x55e0e0,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x5a85c5[_0x209c5d(0x25c)]=API_URL[_0x209c5d(0x274)](_0x5ac241[_0x209c5d(0x238)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports['modifyReqForTraceUpload'](_0x5a85c5,_0x111192),logger[_0x209c5d(0x1dd)](_0x209c5d(0x295)+_0x5a85c5['url']));try{const {statusCode:_0x4bba76,body:_0x13b1d9}=await bsSetupHelper[_0x209c5d(0x206)](_0x5732ad,_0x55e0e0,_0x5a85c5,_0x111192,_0x5a85c5[_0x209c5d(0x26b)]);if(_0x5ac241[_0x209c5d(0x2ca)](_0x4bba76,0xc8))return _0x13b1d9?_0x13b1d9:'Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20'+_0x4bba76;let _0x5969fb=_0x13b1d9;if(_0x63728a)try{_0x5ac241[_0x209c5d(0x2c9)](typeof _0x13b1d9,_0x5ac241[_0x209c5d(0x2dd)])&&(_0x5969fb=JSON[_0x209c5d(0x29a)](_0x13b1d9));}catch(_0x13d098){logger['error'](_0x5ac241[_0x209c5d(0x242)],_0x13b1d9,util[_0x209c5d(0x20f)](_0x13d098));}const _0x1679a1={};return _0x1679a1[_0x209c5d(0x297)]=_0x5969fb,_0x1679a1;}catch(_0x1ecbed){logger['error'](_0x209c5d(0x1d2)+util[_0x209c5d(0x20f)](_0x1ecbed));throw _0x1ecbed;}},exports[a88_0x172f99(0x206)]=(_0x57aee4,_0x1a4989,_0x2c994c,_0x1b79c3,_0x2af28b=!![])=>{const _0x453b37=a88_0x172f99,_0x3a6c02={'KYTgZ':function(_0x34ea69,_0x381837){return _0x34ea69!==_0x381837;},'gXbLI':function(_0x180e79,_0x3ab02b){return _0x180e79(_0x3ab02b);},'qETYB':function(_0x5c4106,_0x342f4a){return _0x5c4106!==_0x342f4a;},'oEXBJ':_0x453b37(0x22d),'XtXoW':function(_0x5cfa89,_0x1c5014){return _0x5cfa89(_0x1c5014);},'IWSAu':_0x453b37(0x254),'kPNSR':function(_0x194e20,_0x2a171b){return _0x194e20===_0x2a171b;},'bmhLJ':_0x453b37(0x27a),'pNhOq':_0x453b37(0x1fd),'rvNtP':_0x453b37(0x1ce)};return new Promise((_0x33242c,_0x49720d)=>{const _0x17f51d=_0x453b37,_0x21ba32={'hExmu':function(_0x1710e3,_0x21c7f4){const _0x124adc=a88_0x5d16;return _0x3a6c02[_0x124adc(0x210)](_0x1710e3,_0x21c7f4);},'lJBEX':function(_0x42408c,_0x122c5e){const _0x52e858=a88_0x5d16;return _0x3a6c02[_0x52e858(0x1df)](_0x42408c,_0x122c5e);},'TLKQY':function(_0x1b703f,_0x40f3a3){return _0x3a6c02['qETYB'](_0x1b703f,_0x40f3a3);},'dgGZP':_0x3a6c02[_0x17f51d(0x213)],'KQVuC':function(_0x16e307,_0x32df63){return _0x3a6c02['XtXoW'](_0x16e307,_0x32df63);},'gJPCn':_0x3a6c02[_0x17f51d(0x1fe)],'SVieE':function(_0x7a8da7,_0x15f83a){const _0x585886=_0x17f51d;return _0x3a6c02[_0x585886(0x1df)](_0x7a8da7,_0x15f83a);}},_0x5a5ea0={..._0x1b79c3,...{'method':_0x57aee4,'url':API_URL+'/'+_0x1a4989,'body':_0x2c994c,'json':_0x3a6c02['kPNSR'](_0x1b79c3[_0x17f51d(0x262)][_0x3a6c02[_0x17f51d(0x276)]],_0x3a6c02['pNhOq']),'agent':API_URL[_0x17f51d(0x274)](_0x3a6c02[_0x17f51d(0x1d5)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x3a6c02['kPNSR'](_0x1a4989,SCREENSHOT_ENDPOINT)&&(_0x5a5ea0[_0x17f51d(0x25c)]=API_URL[_0x17f51d(0x274)](_0x3a6c02[_0x17f51d(0x1d5)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x17f51d(0x206)](_0x57aee4,_0x1a4989,_0x5a5ea0,_0x1b79c3,API_URL)['then'](({statusCode:_0x31bcb5,body:_0x20f2dc})=>{const _0x45f9ba=_0x17f51d;if(_0x21ba32['hExmu'](_0x31bcb5,0xc8))_0x21ba32[_0x45f9ba(0x1e4)](_0x49720d,_0x20f2dc?_0x20f2dc:_0x45f9ba(0x1e0)+_0x31bcb5);else{if(_0x2af28b)try{_0x21ba32[_0x45f9ba(0x204)](typeof _0x20f2dc,_0x21ba32[_0x45f9ba(0x202)])&&(_0x20f2dc=JSON[_0x45f9ba(0x29a)](_0x20f2dc));}catch(_0x157eba){_0x21ba32[_0x45f9ba(0x286)](_0x49720d,_0x21ba32[_0x45f9ba(0x2b9)]);return;}const _0x503cec={};_0x503cec['data']=_0x20f2dc,_0x21ba32[_0x45f9ba(0x1db)](_0x33242c,_0x503cec);}})[_0x17f51d(0x218)](_0x5914ba=>{const _0x557f0a=_0x17f51d;_0x5914ba&&_0x21ba32[_0x557f0a(0x1db)](_0x49720d,_0x5914ba);});});},exports[a88_0x172f99(0x1ef)]=_0x38c456=>{const _0x57dc21=a88_0x172f99;if(process[_0x57dc21(0x1f9)][_0x57dc21(0x229)])return process[_0x57dc21(0x1f9)][_0x57dc21(0x229)]['split'](',');if(_0x38c456[_0x57dc21(0x27f)])return _0x38c456[_0x57dc21(0x27f)];return[];},exports['getDefaultHeaders']=(_0x1414bc=!![])=>{const _0x1db5a4=a88_0x172f99,_0xaeb82f={};_0xaeb82f[_0x1db5a4(0x2af)]=_0x1db5a4(0x1fd),_0xaeb82f[_0x1db5a4(0x21c)]=_0x1db5a4(0x21a),_0xaeb82f['WSyrq']=_0x1db5a4(0x28a);const _0x45b171=_0xaeb82f,_0x367851={};_0x367851['Content-Type']=_0x45b171[_0x1db5a4(0x2af)],_0x367851[_0x1db5a4(0x266)]=_0x45b171[_0x1db5a4(0x21c)];const _0x4b8938=_0x367851;return _0x1414bc&&process[_0x1db5a4(0x1f9)][_0x1db5a4(0x26c)]&&(_0x4b8938[_0x45b171[_0x1db5a4(0x2b6)]]=_0x1db5a4(0x232)+process[_0x1db5a4(0x1f9)][_0x1db5a4(0x26c)]),_0x4b8938;},exports['extractValuesWithRegexKeyMatch']=_0x31031a=>{const _0x501b65=a88_0x172f99,_0x564d87={};_0x564d87['eastc']=_0x501b65(0x285);const _0x4c8aba=_0x564d87,_0x1d7d3c=[],_0x5ab960=new RegExp(_0x4c8aba[_0x501b65(0x220)],'i');return Object[_0x501b65(0x1d1)](_0x31031a)[_0x501b65(0x294)](_0x502d50=>_0x5ab960['test'](_0x502d50))[_0x501b65(0x1f7)](_0x127734=>_0x1d7d3c['push'](_0x31031a[_0x127734])),_0x1d7d3c;},exports[a88_0x172f99(0x2ad)]=_0x104597=>{const _0x1a7122=a88_0x172f99,_0x586c73=[],_0x161a24=_0x104597[_0x1a7122(0x2a4)]||process[_0x1a7122(0x1f9)][_0x1a7122(0x2a7)];return _0x161a24&&_0x586c73[_0x1a7122(0x2bf)](_0x161a24),_0x586c73['push'](...exports[_0x1a7122(0x251)](process['env'])),_0x586c73['push'](...exports[_0x1a7122(0x251)](_0x104597)),_0x586c73;},exports[a88_0x172f99(0x23c)]=_0x47da15=>{const _0x58a6c9=a88_0x172f99;if(!_0x47da15)return'';return _0x47da15[_0x58a6c9(0x22c)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a88_0x172f99(0x1d0)]=(_0x3ca35b=0x64)=>new Promise(_0x529e72=>setTimeout(_0x529e72,_0x3ca35b));const getPlatformName=()=>{const _0x5ea613=a88_0x172f99,_0x32db52={};_0x32db52['kHbac']=function(_0x3a2eac,_0x1ceb50){return _0x3a2eac===_0x1ceb50;},_0x32db52[_0x5ea613(0x1d7)]=_0x5ea613(0x269),_0x32db52[_0x5ea613(0x2a8)]='Windows',_0x32db52['mJGxC']=_0x5ea613(0x281),_0x32db52[_0x5ea613(0x1ee)]='OS\x20X',_0x32db52[_0x5ea613(0x272)]=_0x5ea613(0x1d4),_0x32db52[_0x5ea613(0x22a)]=_0x5ea613(0x1d3),_0x32db52['fXIFA']=_0x5ea613(0x2cc);const _0x4fd94a=_0x32db52;if(_0x4fd94a[_0x5ea613(0x24f)](process[_0x5ea613(0x1e7)],_0x4fd94a[_0x5ea613(0x1d7)]))return _0x4fd94a[_0x5ea613(0x2a8)];if(_0x4fd94a[_0x5ea613(0x24f)](process[_0x5ea613(0x1e7)],_0x4fd94a[_0x5ea613(0x265)]))return _0x4fd94a[_0x5ea613(0x1ee)];if(_0x4fd94a[_0x5ea613(0x24f)](process['platform'],_0x4fd94a[_0x5ea613(0x272)]))return _0x4fd94a['PVJuF'];return _0x4fd94a[_0x5ea613(0x2d5)];},getMacOSVersion=()=>{const _0x88d174=a88_0x172f99,_0x5f2e8a={};_0x5f2e8a[_0x88d174(0x2a5)]=_0x88d174(0x209);const _0x2acb41=_0x5f2e8a;return child_process[_0x88d174(0x244)](_0x2acb41[_0x88d174(0x2a5)])[_0x88d174(0x2c2)]()[_0x88d174(0x22f)]();},getLinuxDetails=()=>{const _0x514114={'BoMgo':function(_0x631300,_0x1af4d1){return _0x631300(_0x1af4d1);},'jMNTG':function(_0x3c87df,_0x3dadfe){return _0x3c87df(_0x3dadfe);}};return new Promise((_0x2855aa,_0x2a53bb)=>{const _0x4ab031=a88_0x5d16,_0x1f5db3={'dqxJO':function(_0x20736c,_0x202ff8){const _0x2bc8ae=a88_0x5d16;return _0x514114[_0x2bc8ae(0x2a2)](_0x20736c,_0x202ff8);}};_0x514114[_0x4ab031(0x1f8)](getos,(_0x472390,_0x57c88e)=>{const _0x59ff9c=_0x4ab031;if(_0x472390)return _0x1f5db3[_0x59ff9c(0x26f)](_0x2a53bb,_0x472390);_0x1f5db3[_0x59ff9c(0x26f)](_0x2855aa,_0x57c88e);});});};exports[a88_0x172f99(0x24a)]=async()=>{const _0x22a08d=a88_0x172f99,_0x533e45={'FxCIh':function(_0x250ab5){return _0x250ab5();},'WSggM':'OS\x20X','Bglsm':function(_0x222428){return _0x222428();},'vFzBW':_0x22a08d(0x260),'nJJtB':_0x22a08d(0x20a),'xMifB':function(_0x322ebe){return _0x322ebe();},'BdEZU':'Linux','zkxoh':function(_0x2c8ad3){return _0x2c8ad3();},'ESgfV':_0x22a08d(0x1cf)};let _0x2c2c98=_0x533e45[_0x22a08d(0x261)](getPlatformName),_0x119743=os[_0x22a08d(0x282)]()[_0x22a08d(0x2c2)]();switch(_0x2c2c98){case _0x533e45[_0x22a08d(0x2c0)]:_0x119743=_0x533e45[_0x22a08d(0x259)](getMacOSVersion);break;case _0x533e45[_0x22a08d(0x25a)]:try{const _0x55e13d=(await import(_0x533e45[_0x22a08d(0x211)]))[_0x22a08d(0x2bd)];_0x119743=_0x533e45[_0x22a08d(0x249)](_0x55e13d);}catch(_0x247c98){exports[_0x22a08d(0x1dd)](_0x22a08d(0x2cd)+_0x247c98[_0x22a08d(0x2c2)]());}break;case _0x533e45[_0x22a08d(0x227)]:try{const _0x38ac70=await _0x533e45['zkxoh'](getLinuxDetails);_0x38ac70[_0x22a08d(0x212)]&&(_0x2c2c98=_0x38ac70['dist']),_0x38ac70[_0x22a08d(0x282)]&&(_0x119743=_0x38ac70[_0x22a08d(0x282)]['toString']());}catch(_0x40f04b){exports[_0x22a08d(0x1dd)](_0x533e45[_0x22a08d(0x2d2)]);}break;default:break;}const _0x4993ee={};return _0x4993ee[_0x22a08d(0x240)]=_0x2c2c98,_0x4993ee[_0x22a08d(0x221)]=_0x119743,_0x4993ee;},exports['failureData']=(_0x26d2f4,_0x2862ef)=>{const _0x27e185=a88_0x172f99,_0x473359={};_0x473359[_0x27e185(0x2d7)]=function(_0x5887c3,_0x1ce7b0){return _0x5887c3===_0x1ce7b0;},_0x473359[_0x27e185(0x24d)]='test',_0x473359[_0x27e185(0x23a)]='err';const _0x182885=_0x473359;if(!_0x26d2f4)return[];try{if(_0x182885[_0x27e185(0x2d7)](_0x2862ef,_0x182885[_0x27e185(0x24d)]))return _0x26d2f4[_0x27e185(0x233)](_0x39d5fb=>{const _0x90ac99=_0x27e185,{stack:_0x189c42,..._0x3546f7}=_0x39d5fb,_0x5d77c1=Object[_0x90ac99(0x1d1)](_0x3546f7)[_0x90ac99(0x233)](_0x5de63f=>{return _0x5de63f+':\x20'+_0x3546f7[_0x5de63f];}),_0x46fb59=_0x189c42?exports['removeAnsiColors'](_0x189c42)[_0x90ac99(0x256)](/\r?\n/):[exports[_0x90ac99(0x23c)](_0x39d5fb[_0x90ac99(0x235)])],_0x65b9da={};return _0x65b9da['backtrace']=_0x46fb59,_0x65b9da['expanded']=_0x5d77c1,_0x65b9da;});else{if(_0x182885[_0x27e185(0x2d7)](_0x2862ef,_0x182885[_0x27e185(0x23a)])){const _0x50a07f=[],_0x26ea5e=[];return Object[_0x27e185(0x1d1)](_0x26d2f4)['forEach'](_0x2f3a9d=>{const _0x33f87c=_0x27e185;try{_0x26ea5e[_0x33f87c(0x2bf)](_0x2f3a9d+':\x20'+_0x26d2f4[_0x2f3a9d]);}catch(_0x338c8c){exports[_0x33f87c(0x1dd)](_0x33f87c(0x283)+_0x338c8c['message']+'\x20:\x20'+_0x338c8c['backtrace']);}}),_0x50a07f[_0x27e185(0x2bf)]({'backtrace':exports[_0x27e185(0x23c)](_0x26d2f4[_0x27e185(0x28b)])[_0x27e185(0x256)](/\r?\n/),'expanded':_0x26ea5e}),_0x50a07f;}}return[];}catch(_0x14966a){exports[_0x27e185(0x1dd)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0x14966a[_0x27e185(0x235)]+_0x27e185(0x275)+_0x14966a['backtrace']);}return[];};class PathHelper{constructor(_0x43a71d,_0x5d2a11){const _0x46ba41=a88_0x172f99;this[_0x46ba41(0x228)]=_0x43a71d,this[_0x46ba41(0x2bb)]=_0x5d2a11;}[a88_0x172f99(0x1d8)](_0x44f660){const _0x4de105=a88_0x172f99,_0x4047cc=this[_0x4de105(0x228)]['cwd']||this[_0x4de105(0x228)]['rootDir'];return path[_0x4de105(0x2a6)](_0x4047cc,_0x44f660);}[a88_0x172f99(0x26a)](_0xe6563){const _0x2e44a7=a88_0x172f99,_0x4d6064=this[_0x2e44a7(0x1d8)](_0xe6563);return this[_0x2e44a7(0x2bb)]?path[_0x2e44a7(0x2c1)](this['prefix'],_0x4d6064):_0x4d6064;}}exports[a88_0x172f99(0x288)]=PathHelper,exports['addRequestSpy']=(_0x423c2d=!![])=>{const _0x12bdf2=a88_0x172f99,_0x4c0b94={};_0x4c0b94['zvyhv']=function(_0x5471c1,_0x27625a){return _0x5471c1===_0x27625a;},_0x4c0b94[_0x12bdf2(0x24e)]=_0x12bdf2(0x266),_0x4c0b94['piUpW']=_0x12bdf2(0x21a),_0x4c0b94['njlKE']=_0x12bdf2(0x287),_0x4c0b94[_0x12bdf2(0x27c)]=_0x12bdf2(0x226),_0x4c0b94[_0x12bdf2(0x21b)]=_0x12bdf2(0x2db);const _0x4da839=_0x4c0b94;requestSpy[_0x12bdf2(0x29b)]((_0x2eb4fc,_0x5d90e3)=>{const _0x3532a9=_0x12bdf2;_0x5d90e3&&!(_0x5d90e3[_0x3532a9(0x262)]&&_0x4da839[_0x3532a9(0x219)](_0x5d90e3[_0x3532a9(0x262)][_0x4da839[_0x3532a9(0x24e)]],_0x4da839['piUpW']))&&(_0x5d90e3[_0x3532a9(0x1f4)]=_0x5d90e3[_0x3532a9(0x216)],delete _0x5d90e3['hostname'],_0x423c2d&&process[_0x3532a9(0x2ac)](_0x3532a9(0x1fa)+process['pid'],{'timestamp':new Date()[_0x3532a9(0x1f5)](),'level':null,'message':null,'kind':_0x4da839[_0x3532a9(0x246)],'http_response':_0x5d90e3})),_0x5d90e3&&(constants['HUB_URL_REGEX'][_0x3532a9(0x253)](_0x5d90e3[_0x3532a9(0x1f4)])||constants[_0x3532a9(0x24b)][_0x3532a9(0x253)](_0x5d90e3['host']))?global[_0x3532a9(0x245)]=_0x4da839['kTKGk']:global[_0x3532a9(0x245)]=_0x4da839[_0x3532a9(0x21b)];});},exports[a88_0x172f99(0x248)]=()=>{const _0x5d31dd=a88_0x172f99,_0x5a239b={'wrJjs':function(_0x47ab5e,_0xb659ce){return _0x47ab5e(_0xb659ce);}};console={},Object[_0x5d31dd(0x1d1)](consoleHolder)[_0x5d31dd(0x1f7)](_0x53bd77=>{const _0x268be6=_0x5d31dd;_0x5a239b[_0x268be6(0x2d9)](isFunction,consoleHolder[_0x53bd77])?console[_0x53bd77]=(..._0x3bcdc0)=>{const _0x50f1e2=_0x268be6;try{!Object['keys'](BSTestOpsPatcher)[_0x50f1e2(0x274)](_0x53bd77)?consoleHolder[_0x53bd77](..._0x3bcdc0):BSTestOpsPatcher[_0x53bd77](..._0x3bcdc0);}catch(_0x45999b){consoleHolder[_0x53bd77](..._0x3bcdc0);}}:console[_0x53bd77]=consoleHolder[_0x53bd77];});},exports['getSyncScript']=()=>a88_0x172f99(0x225)+JSON[a88_0x172f99(0x21d)]({'action':a88_0x172f99(0x22b),'arguments':{'data':a88_0x172f99(0x21e)+Date[a88_0x172f99(0x2c4)](),'level':a88_0x172f99(0x1dd)}}),exports['getObservabilityLinkedProductName']=_0x4332eb=>{const _0x523ca0=a88_0x172f99,_0x4fafb0={};_0x4fafb0['bMCzm']=function(_0x3d160b,_0x23779c){return _0x3d160b===_0x23779c;},_0x4fafb0[_0x523ca0(0x234)]=_0x523ca0(0x226),_0x4fafb0[_0x523ca0(0x1da)]='appium:app',_0x4fafb0[_0x523ca0(0x2ae)]=_0x523ca0(0x247),_0x4fafb0['iFSTw']=function(_0x31925c,_0x3744c5){return _0x31925c>_0x3744c5;},_0x4fafb0[_0x523ca0(0x25f)]='app-automate',_0x4fafb0[_0x523ca0(0x1ec)]=_0x523ca0(0x1ff),_0x4fafb0[_0x523ca0(0x237)]='turboScaleGridDetails',_0x4fafb0[_0x523ca0(0x2c3)]='turboscale',_0x4fafb0['Fzayz']=_0x523ca0(0x250);const _0x3f5773=_0x4fafb0;let _0x244c37=null;try{if(_0x3f5773[_0x523ca0(0x1d6)](global[_0x523ca0(0x245)],_0x3f5773[_0x523ca0(0x234)])){if(_0x4332eb[_0x3f5773[_0x523ca0(0x1da)]]||_0x4332eb[_0x3f5773[_0x523ca0(0x2ae)]]||!bsSetupHelper['isUndefined'](global[_0x523ca0(0x224)])&&_0x3f5773[_0x523ca0(0x1ea)](global[_0x523ca0(0x224)][_0x523ca0(0x258)],0x0)&&(global['capabilities'][0x0][_0x3f5773[_0x523ca0(0x2ae)]]||global[_0x523ca0(0x224)][0x0][_0x3f5773[_0x523ca0(0x1da)]]))_0x244c37=_0x3f5773['VBUtV'];else _0x4332eb[_0x3f5773['azjmW']]&&_0x4332eb[_0x3f5773[_0x523ca0(0x1ec)]][_0x3f5773[_0x523ca0(0x237)]]?_0x244c37=_0x3f5773['WwGqb']:_0x244c37=_0x3f5773[_0x523ca0(0x223)];}}catch(_0xd71a04){exports[_0x523ca0(0x1dd)](_0x523ca0(0x23d)+_0xd71a04);}return _0x244c37;},exports[a88_0x172f99(0x2a0)]=async(_0xde2b7e,_0x1b5349,_0x5f5d0b=![])=>{const _0x21ed15=a88_0x172f99,_0x38345a={};_0x38345a['rOcmb']=function(_0x37a65e,_0x1b6242){return _0x37a65e===_0x1b6242;},_0x38345a['nLdGl']=_0x21ed15(0x226),_0x38345a[_0x21ed15(0x200)]=_0x21ed15(0x1cc),_0x38345a['ekjXl']=_0x21ed15(0x28d);const _0x2cb791=_0x38345a;try{const _0x4234c9=await _0xde2b7e[_0x21ed15(0x290)](),_0x541794=await _0xde2b7e['getSession'](),_0x5b5a42={},_0x1cac3d=Object[_0x21ed15(0x1e2)](_0x541794[_0x21ed15(0x290)]()[_0x21ed15(0x2b3)]),_0x5f391d={'product':exports[_0x21ed15(0x271)](_0x1cac3d),'capabilities':_0x1cac3d,'platform':_0x4234c9[_0x21ed15(0x29d)](),'platform_version':bsSetupHelper['getPlatformVersion'](_0x2cb791[_0x21ed15(0x298)](global[_0x21ed15(0x245)],_0x2cb791[_0x21ed15(0x280)])),'browser':_0x4234c9[_0x21ed15(0x241)](),'browser_version':_0x4234c9[_0x21ed15(0x1cd)](),'session_id':_0x541794[_0x21ed15(0x1de)]()};global['__cloud_provider___']?_0x5b5a42[global[_0x21ed15(0x245)]]=_0x5f391d:_0x5b5a42[_0x2cb791[_0x21ed15(0x200)]]=_0x5f391d;if(_0x5f5d0b)return _0x5b5a42;process[_0x21ed15(0x2ac)]('bs:addPlatformDetails:'+process[_0x21ed15(0x257)],{'timestamp':new Date()[_0x21ed15(0x1f5)](),'level':null,'message':null,'kind':_0x2cb791[_0x21ed15(0x243)],'http_response':_0x5b5a42,'uuid':_0x1b5349});}catch(_0xc1b9b3){exports['debug'](_0x21ed15(0x23f)+_0xc1b9b3);}},exports[a88_0x172f99(0x205)]=_0x2c5214=>{const _0x3fb278=a88_0x172f99;return _0x2c5214&&_0x2c5214[_0x3fb278(0x2c2)]()['match'](/browserstack internal helper hook/);};