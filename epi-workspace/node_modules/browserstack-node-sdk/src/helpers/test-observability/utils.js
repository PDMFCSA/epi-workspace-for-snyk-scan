const a120_0x4dc769=a120_0x2af3;function a120_0x2af3(_0x4da090,_0x313295){const _0x533bce=a120_0x533b();return a120_0x2af3=function(_0x2af33e,_0x1d9494){_0x2af33e=_0x2af33e-0x69;let _0xb26790=_0x533bce[_0x2af33e];return _0xb26790;},a120_0x2af3(_0x4da090,_0x313295);}(function(_0x33f48a,_0x42f3ae){const _0x4ad0f1=a120_0x2af3,_0x3ffb28=_0x33f48a();while(!![]){try{const _0x13c1d3=-parseInt(_0x4ad0f1(0x101))/0x1+parseInt(_0x4ad0f1(0x6c))/0x2+-parseInt(_0x4ad0f1(0x142))/0x3+parseInt(_0x4ad0f1(0x163))/0x4*(-parseInt(_0x4ad0f1(0x7f))/0x5)+-parseInt(_0x4ad0f1(0x146))/0x6*(parseInt(_0x4ad0f1(0x10e))/0x7)+-parseInt(_0x4ad0f1(0xf0))/0x8*(parseInt(_0x4ad0f1(0x12f))/0x9)+parseInt(_0x4ad0f1(0xfb))/0xa;if(_0x13c1d3===_0x42f3ae)break;else _0x3ffb28['push'](_0x3ffb28['shift']());}catch(_0x24484f){_0x3ffb28['push'](_0x3ffb28['shift']());}}}(a120_0x533b,0x1b91a));const fs=require('fs'),path=require('path'),gitLastCommit=require(a120_0x4dc769(0xfd)),getRepoInfo=require('git-repo-info'),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require('http'),https=require(a120_0x4dc769(0x126)),child_process=require(a120_0x4dc769(0xcf)),getos=require('getos'),os=require('os'),logger=require(a120_0x4dc769(0x15a))[a120_0x4dc769(0xc6)],bsSetupHelper=require(a120_0x4dc769(0xdf)),requestSpy=require(a120_0x4dc769(0xc2)),constants=require(a120_0x4dc769(0xa2)),logPatcher=require(a120_0x4dc769(0x10c)),util=require(a120_0x4dc769(0x16e)),{fileLogger}=require('../logger'),PerformanceTester=require('../performance/performance-tester'),{isFunction}=require(a120_0x4dc769(0xd4)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a120_0x4dc769(0x16d)),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require('../../../src/bin/utils/constants');exports[a120_0x4dc769(0x169)]=_0x425f22=>{const _0x5e9f84=a120_0x4dc769;fileLogger['silly']('['+new Date()[_0x5e9f84(0x81)]()+_0x5e9f84(0xa4)+constants[_0x5e9f84(0x11e)]+_0x5e9f84(0x9b)+_0x425f22);},exports[a120_0x4dc769(0x139)]=_0x3cd433=>{const _0x4656c2=a120_0x4dc769,_0x39b514={};_0x39b514['XTxZG']=function(_0x11d65f,_0x47f5f4){return _0x11d65f===_0x47f5f4;},_0x39b514['xvbzb']=_0x4656c2(0x166),_0x39b514[_0x4656c2(0x9a)]=function(_0x4a6954,_0x5f299a){return _0x4a6954===_0x5f299a;};const _0x46e0db=_0x39b514;fileLogger['debug']('['+new Date()[_0x4656c2(0x81)]()+_0x4656c2(0xa4)+constants['TEST_REPORTING_ANALYTICS']+_0x4656c2(0x9b)+_0x3cd433),(_0x46e0db['XTxZG'](process['env'][_0x4656c2(0x10a)],_0x46e0db['xvbzb'])||_0x46e0db[_0x4656c2(0x9a)](process[_0x4656c2(0x87)][_0x4656c2(0x10a)],'1')||_0x46e0db['szlbe'](process[_0x4656c2(0x87)][_0x4656c2(0x6a)],_0x46e0db[_0x4656c2(0x150)])||_0x46e0db[_0x4656c2(0x9a)](process['env'][_0x4656c2(0x6a)],'1'))&&consoleHolder[_0x4656c2(0xa6)]('\x0a['+new Date()[_0x4656c2(0x81)]()+_0x4656c2(0xa4)+constants[_0x4656c2(0x11e)]+'\x20]\x20'+_0x3cd433+'\x0a');};const a120_0x4a59ca={};a120_0x4a59ca[a120_0x4dc769(0xb1)]=!![],a120_0x4a59ca[a120_0x4dc769(0xac)]=0xea60,a120_0x4a59ca[a120_0x4dc769(0x129)]=0x2,a120_0x4a59ca[a120_0x4dc769(0x102)]=0x2;const httpKeepAliveAgent=new http[(a120_0x4dc769(0x14a))](a120_0x4a59ca),a120_0xdb1974={};a120_0xdb1974[a120_0x4dc769(0xb1)]=!![],a120_0xdb1974['timeout']=0xea60,a120_0xdb1974[a120_0x4dc769(0x129)]=0x2,a120_0xdb1974[a120_0x4dc769(0x102)]=0x2;const httpsKeepAliveAgent=new https[(a120_0x4dc769(0x14a))](a120_0xdb1974),a120_0x566f0c={};a120_0x566f0c[a120_0x4dc769(0xb1)]=!![],a120_0x566f0c['timeout']=0xea60,a120_0x566f0c['maxSockets']=0x2,a120_0x566f0c[a120_0x4dc769(0x102)]=0x2;const httpScreenshotsKeepAliveAgent=new http['Agent'](a120_0x566f0c),a120_0x2f489b={};a120_0x2f489b[a120_0x4dc769(0xb1)]=!![],a120_0x2f489b['timeout']=0xea60,a120_0x2f489b[a120_0x4dc769(0x129)]=0x2,a120_0x2f489b[a120_0x4dc769(0x102)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a120_0x4dc769(0x14a))](a120_0x2f489b);exports[a120_0x4dc769(0x170)]=()=>{const _0x5ba026=a120_0x4dc769,_0x3eb04a={};_0x3eb04a[_0x5ba026(0x86)]=function(_0x2c7ddb,_0x23faba){return _0x2c7ddb!==_0x23faba;},_0x3eb04a[_0x5ba026(0xd7)]=_0x5ba026(0x120);const _0x25e33e=_0x3eb04a;return process[_0x5ba026(0x87)][_0x5ba026(0x160)]&&_0x25e33e[_0x5ba026(0x86)](process[_0x5ba026(0x87)][_0x5ba026(0x160)],_0x25e33e[_0x5ba026(0xd7)])?!![]:![];},exports[a120_0x4dc769(0x12e)]=()=>{const _0x24ff3e=a120_0x4dc769,_0x1f3076={};_0x1f3076['ImzfW']=function(_0x2aa2ed,_0x339a3d){return _0x2aa2ed===_0x339a3d;},_0x1f3076[_0x24ff3e(0xa7)]='true',_0x1f3076[_0x24ff3e(0x14d)]=function(_0x14d690,_0x19f5f4){return _0x14d690===_0x19f5f4;};const _0x14c3f2=_0x1f3076;let _0x3a4b5d=!![];return process[_0x24ff3e(0x87)][_0x24ff3e(0xf7)]&&(_0x3a4b5d=_0x14c3f2[_0x24ff3e(0x71)](process[_0x24ff3e(0x87)]['BROWSERSTACK_TEST_OBSERVABILITY_YML'],_0x14c3f2[_0x24ff3e(0xa7)])),process[_0x24ff3e(0x87)][_0x24ff3e(0x12d)]&&(_0x3a4b5d=_0x14c3f2['uQCeG'](process[_0x24ff3e(0x87)][_0x24ff3e(0x12d)],_0x14c3f2[_0x24ff3e(0xa7)])),process[_0x24ff3e(0x87)]['BROWSERSTACK_TEST_REPORTING']&&(_0x3a4b5d=_0x14c3f2[_0x24ff3e(0x71)](process[_0x24ff3e(0x87)][_0x24ff3e(0xbc)],_0x14c3f2[_0x24ff3e(0xa7)])),_0x3a4b5d;},exports[a120_0x4dc769(0xa1)]=_0x45bdfc=>{const _0xada794=a120_0x4dc769;if(bsSetupHelper[_0xada794(0xd5)](_0x45bdfc))return undefined;try{return _0x45bdfc['trim']()[_0xada794(0xa9)](',');}catch(_0x5c3e4b){return undefined;}},exports[a120_0x4dc769(0xda)]=()=>{const _0x8f3c26=a120_0x4dc769,_0x1572be={'dtZpM':function(_0x54764f,_0x12ff52){return _0x54764f(_0x12ff52);},'tPMWJ':'../../bin/v2/browserstackCLI','gJnpC':function(_0x3158a3,_0x409cca){return _0x3158a3!==_0x409cca;},'SYEQs':_0x8f3c26(0x120),'MXpyA':function(_0xcf9e89,_0x46086b){return _0xcf9e89!==_0x46086b;},'bgryI':'undefined'};return PerformanceTester[_0x8f3c26(0x111)](PerformanceO11yEvents[_0x8f3c26(0x128)],async()=>{const _0x258522=_0x8f3c26;try{const _0x524cde=_0x1572be[_0x258522(0x176)](require,_0x1572be[_0x258522(0xfc)]);if(_0x524cde[_0x258522(0x77)]){logger[_0x258522(0x7e)](_0x258522(0x78)+O11Y_URL+_0x258522(0x69)+_0x524cde[_0x258522(0x77)]+_0x258522(0x168));return;}process[_0x258522(0x87)][_0x258522(0xb3)]&&_0x1572be[_0x258522(0xc9)](process['env'][_0x258522(0xb3)],_0x1572be[_0x258522(0x73)])&&_0x1572be[_0x258522(0x121)](process[_0x258522(0x87)][_0x258522(0xb3)],_0x1572be[_0x258522(0x109)])&&logger[_0x258522(0x7e)](_0x258522(0x78)+constants[_0x258522(0x114)]+_0x258522(0x69)+process['env'][_0x258522(0xb3)]+'\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a');}catch(_0x520ddb){logger[_0x258522(0x118)](util[_0x258522(0xbf)](_0x258522(0xe8)+constants[_0x258522(0x11e)]+_0x258522(0xdb),new Date()[_0x258522(0x81)](),_0x520ddb[_0x258522(0x88)]||_0x520ddb['message']||_0x520ddb));}})();},exports['getFailureType']=_0x5d5743=>{const _0x5dc2af=a120_0x4dc769,_0x2567be={};_0x2567be['uXeJy']='AssertionError',_0x2567be['KDWbt']=_0x5dc2af(0x131);const _0x1a99a8=_0x2567be;if(!_0x5d5743)return null;return _0x5d5743[_0x5dc2af(0xc5)]()[_0x5dc2af(0x155)](/AssertionError/)?_0x1a99a8['uXeJy']:_0x1a99a8['KDWbt'];},exports[a120_0x4dc769(0xd3)]=_0x3a41e0=>{const _0x109c94=a120_0x4dc769,_0x555327={};_0x555327[_0x109c94(0x153)]=_0x109c94(0x12b),_0x555327[_0x109c94(0x112)]=_0x109c94(0xd9),_0x555327[_0x109c94(0x145)]=_0x109c94(0x80),_0x555327[_0x109c94(0x83)]=_0x109c94(0x70),_0x555327[_0x109c94(0x7d)]='@cucumber/cucumber';const _0x3b3eec=_0x555327;let _0x169425=null;switch(_0x3a41e0){case FRAMEWORKS[_0x109c94(0x11f)]:_0x169425=bsSetupHelper[_0x109c94(0xad)](_0x3b3eec[_0x109c94(0x153)]);break;case FRAMEWORKS[_0x109c94(0x124)]:_0x169425=bsSetupHelper[_0x109c94(0xad)](_0x3b3eec['KTIEN']);break;case FRAMEWORKS[_0x109c94(0x16a)]:case FRAMEWORKS[_0x109c94(0x9f)]:_0x169425=bsSetupHelper[_0x109c94(0xad)](_0x3b3eec['snrSC']);break;case FRAMEWORKS[_0x109c94(0x105)]:_0x169425=bsSetupHelper[_0x109c94(0xad)](_0x3b3eec['BgCPc']);break;case FRAMEWORKS[_0x109c94(0x123)]:_0x169425=bsSetupHelper[_0x109c94(0xad)](_0x3b3eec[_0x109c94(0x7d)]);break;default:break;}return _0x169425;},exports['getBrowserStackConfig']=_0x5a4bcd=>{const _0x4e72af=a120_0x4dc769;let _0x21cfde=null;switch(_0x5a4bcd){case FRAMEWORKS['PLAYWRIGHT']:_0x21cfde=process[_0x4e72af(0x87)][_0x4e72af(0xd8)];break;}if(!_0x21cfde)return;return bsSetupHelper['readConfig'](_0x21cfde,![]);},exports[a120_0x4dc769(0xcb)]=_0x3f7779=>{const _0x3ae7bd=a120_0x4dc769;return{'username':bsSetupHelper[_0x3ae7bd(0x96)](_0x3f7779),'accessKey':bsSetupHelper[_0x3ae7bd(0xb8)](_0x3f7779)};},exports[a120_0x4dc769(0x16b)]=(_0x2738de,_0x32c881)=>{const _0x20d17f=a120_0x4dc769,_0x2c4f9b={};_0x2c4f9b[_0x20d17f(0x82)]=_0x20d17f(0x133),_0x2c4f9b['ZXwoO']=_0x20d17f(0x134),_0x2c4f9b[_0x20d17f(0x15d)]='TEST_ATTACHMENT';const _0x5abd3a=_0x2c4f9b,_0x2c2ddc=_0x5abd3a[_0x20d17f(0x82)][_0x20d17f(0xa9)]('|');let _0x4d9870=0x0;while(!![]){switch(_0x2c2ddc[_0x4d9870++]){case'0':delete _0x2738de[_0x20d17f(0x90)];continue;case'1':if(!_0x2738de[_0x20d17f(0x90)]||!Array['isArray'](_0x2738de[_0x20d17f(0x90)]))return;continue;case'2':delete _0x2738de[_0x20d17f(0x148)];continue;case'3':_0x2738de[_0x20d17f(0x10d)]={'data':_0x2738de['body'][0x0][_0x20d17f(0xd0)][0x0]['data'],'test_run_uuid':_0x2738de[_0x20d17f(0x90)][0x0]['logs'][0x0]['test_run_uuid'],'event_type':_0x5abd3a[_0x20d17f(0x9d)],'kind':_0x5abd3a['Bxyny'],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x20d17f(0x81)](),'fileName':_0x2738de[_0x20d17f(0x90)][0x0][_0x20d17f(0xd0)][0x0][_0x20d17f(0xd1)]};continue;case'4':if(!_0x2738de['body'][0x0]||!_0x2738de['body'][0x0][_0x20d17f(0xd0)]||!_0x2738de[_0x20d17f(0x90)][0x0][_0x20d17f(0xd0)][_0x20d17f(0x151)])return;continue;case'5':delete _0x32c881[_0x20d17f(0x14c)];continue;}break;}},exports[a120_0x4dc769(0xf1)]=async(_0x25fc13,_0x315830,_0x33fef0,_0x3d8cf4,_0x1d9b1b=!![])=>{const _0x5c9721=a120_0x4dc769,_0x138c0c={};_0x138c0c['jmDMk']=function(_0x4bb5e9,_0x49c169){return _0x4bb5e9===_0x49c169;},_0x138c0c[_0x5c9721(0x11b)]='Content-Type',_0x138c0c['aPmxj']=_0x5c9721(0x108),_0x138c0c[_0x5c9721(0x13f)]=_0x5c9721(0x126),_0x138c0c[_0x5c9721(0x117)]=function(_0x2ece1,_0x237962){return _0x2ece1===_0x237962;},_0x138c0c[_0x5c9721(0x119)]=function(_0x170daa,_0x2005b0){return _0x170daa!==_0x2005b0;},_0x138c0c['vxrxU']=_0x5c9721(0xf9),_0x138c0c['QBSbY']=_0x5c9721(0x16f);const _0x460f77=_0x138c0c,_0x37cb69={..._0x3d8cf4,...{'method':_0x25fc13,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x315830,'body':_0x33fef0,'json':_0x460f77['jmDMk'](_0x3d8cf4[_0x5c9721(0x14c)][_0x460f77[_0x5c9721(0x11b)]],_0x460f77[_0x5c9721(0x149)]),'agent':API_URL[_0x5c9721(0x162)](_0x460f77['YDkHe'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x460f77[_0x5c9721(0x117)](_0x315830,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x37cb69['agent']=API_URL[_0x5c9721(0x162)](_0x460f77[_0x5c9721(0x13f)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports['modifyReqForTraceUpload'](_0x37cb69,_0x3d8cf4),logger[_0x5c9721(0x139)](_0x5c9721(0x177)+_0x37cb69[_0x5c9721(0x172)]));try{const {statusCode:_0x52f8a6,body:_0x248379}=await bsSetupHelper['nodeRequest'](_0x25fc13,_0x315830,_0x37cb69,_0x3d8cf4,_0x37cb69[_0x5c9721(0x172)]);if(_0x460f77[_0x5c9721(0x119)](_0x52f8a6,0xc8))return _0x248379?_0x248379:_0x5c9721(0xa5)+_0x52f8a6;let _0xb91014=_0x248379;if(_0x1d9b1b)try{_0x460f77[_0x5c9721(0x119)](typeof _0x248379,_0x460f77[_0x5c9721(0x144)])&&(_0xb91014=JSON[_0x5c9721(0xfa)](_0x248379));}catch(_0x4ef3fe){logger[_0x5c9721(0x118)](_0x460f77['QBSbY'],_0x248379,util['format'](_0x4ef3fe));}const _0x342f87={};return _0x342f87[_0x5c9721(0xec)]=_0xb91014,_0x342f87;}catch(_0x598bb0){logger[_0x5c9721(0x118)](_0x5c9721(0xce)+util['format'](_0x598bb0));throw _0x598bb0;}},exports[a120_0x4dc769(0x75)]=(_0x5125af,_0x45c171,_0x2e166d,_0x2be03e,_0x203b75=!![])=>{const _0x12578c=a120_0x4dc769,_0x53ab34={'lCzxn':function(_0x4b9cd4,_0x3f62f3){return _0x4b9cd4!==_0x3f62f3;},'aWsKv':function(_0x218374,_0x2e599e){return _0x218374(_0x2e599e);},'gYTdu':_0x12578c(0xf9),'WkpNq':function(_0x202b9f,_0x5571f5){return _0x202b9f(_0x5571f5);},'KrZeM':'Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','xmLpB':function(_0x1e1016,_0x21ed3f){return _0x1e1016(_0x21ed3f);},'KRZLe':function(_0x255b27,_0x5c7af7){return _0x255b27(_0x5c7af7);},'qPAXZ':function(_0x14d906,_0x3d49d0){return _0x14d906===_0x3d49d0;},'UfevL':_0x12578c(0x157),'OJUGq':_0x12578c(0x108),'HSMbo':_0x12578c(0x126),'DTBqR':function(_0x1cd656,_0x33e421){return _0x1cd656===_0x33e421;}};return new Promise((_0x37e6a3,_0x38a272)=>{const _0x4f5b09=_0x12578c,_0xab0c4e={..._0x2be03e,...{'method':_0x5125af,'url':API_URL+'/'+_0x45c171,'body':_0x2e166d,'json':_0x53ab34[_0x4f5b09(0x6f)](_0x2be03e['headers'][_0x53ab34[_0x4f5b09(0x132)]],_0x53ab34['OJUGq']),'agent':API_URL['includes'](_0x53ab34[_0x4f5b09(0x152)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x53ab34['DTBqR'](_0x45c171,SCREENSHOT_ENDPOINT)&&(_0xab0c4e[_0x4f5b09(0x10f)]=API_URL[_0x4f5b09(0x162)](_0x53ab34[_0x4f5b09(0x152)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x4f5b09(0x75)](_0x5125af,_0x45c171,_0xab0c4e,_0x2be03e,API_URL)[_0x4f5b09(0x8d)](({statusCode:_0x13124c,body:_0x3652dc})=>{const _0x23dec3=_0x4f5b09;if(_0x53ab34[_0x23dec3(0xb9)](_0x13124c,0xc8))_0x53ab34['aWsKv'](_0x38a272,_0x3652dc?_0x3652dc:_0x23dec3(0xa5)+_0x13124c);else{if(_0x203b75)try{_0x53ab34['lCzxn'](typeof _0x3652dc,_0x53ab34['gYTdu'])&&(_0x3652dc=JSON[_0x23dec3(0xfa)](_0x3652dc));}catch(_0x1a0c7){_0x53ab34[_0x23dec3(0xc4)](_0x38a272,_0x53ab34[_0x23dec3(0x116)]);return;}const _0x1b759a={};_0x1b759a[_0x23dec3(0xec)]=_0x3652dc,_0x53ab34['xmLpB'](_0x37e6a3,_0x1b759a);}})['catch'](_0x4c7449=>{const _0x4a99c8=_0x4f5b09;_0x4c7449&&_0x53ab34[_0x4a99c8(0xf8)](_0x38a272,_0x4c7449);});});},exports[a120_0x4dc769(0x158)]=_0xa8e1e2=>{const _0x331242=a120_0x4dc769;if(process[_0x331242(0x87)][_0x331242(0xcc)])return process['env'][_0x331242(0xcc)]['split'](',');if(process[_0x331242(0x87)][_0x331242(0x9c)])return process[_0x331242(0x87)]['TEST_OBSERVABILITY_BUILD_TAG'][_0x331242(0xa9)](',');if(_0xa8e1e2[_0x331242(0xeb)])return _0xa8e1e2[_0x331242(0xeb)];return[];},exports[a120_0x4dc769(0x11d)]=(_0x1a1869=!![])=>{const _0x2fa149=a120_0x4dc769,_0x147136={};_0x147136[_0x2fa149(0xe0)]=_0x2fa149(0x108),_0x147136['rIaQj']=_0x2fa149(0x166),_0x147136['TVCtC']='Authorization';const _0x882580=_0x147136,_0x47568c={};_0x47568c[_0x2fa149(0x157)]=_0x882580['iiWuw'],_0x47568c['X-BSTACK-TESTOPS']=_0x882580[_0x2fa149(0x15c)];const _0x201645=_0x47568c;return _0x1a1869&&process[_0x2fa149(0x87)][_0x2fa149(0x97)]&&(_0x201645[_0x882580['TVCtC']]='Bearer\x20'+process[_0x2fa149(0x87)][_0x2fa149(0x97)]),_0x201645;},exports[a120_0x4dc769(0x15f)]=_0x483597=>{const _0xcd3101=a120_0x4dc769,_0x4d302e={};_0x4d302e['QJWnn']=_0xcd3101(0xa0);const _0x3fb230=_0x4d302e,_0x49b2a5=[],_0x265c3f=new RegExp(_0x3fb230[_0xcd3101(0x173)],'i');return Object[_0xcd3101(0xcd)](_0x483597)[_0xcd3101(0xc1)](_0x15bcb8=>_0x265c3f[_0xcd3101(0x8f)](_0x15bcb8))[_0xcd3101(0x136)](_0x4d42eb=>_0x49b2a5[_0xcd3101(0x13e)](_0x483597[_0x4d42eb])),_0x49b2a5;},exports[a120_0x4dc769(0x6e)]=_0x279227=>{const _0x219afe=a120_0x4dc769,_0x2b6a0f=[],_0xcd9462=_0x279227['customTag']||process['env']['CUSTOM_TAG'];return _0xcd9462&&_0x2b6a0f['push'](_0xcd9462),_0x2b6a0f['push'](...exports[_0x219afe(0x15f)](process[_0x219afe(0x87)])),_0x2b6a0f['push'](...exports[_0x219afe(0x15f)](_0x279227)),_0x2b6a0f;},exports['removeAnsiColors']=_0x285e80=>{const _0x189143=a120_0x4dc769;if(!_0x285e80)return'';return _0x285e80[_0x189143(0xe7)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports['sleep']=(_0x4a6b65=0x64)=>new Promise(_0xd02845=>setTimeout(_0xd02845,_0x4a6b65));const getPlatformName=()=>{const _0x1717f9=a120_0x4dc769,_0x12ca18={};_0x12ca18[_0x1717f9(0xb6)]=function(_0x6bc35e,_0xb4afd6){return _0x6bc35e===_0xb4afd6;},_0x12ca18[_0x1717f9(0x137)]='win32',_0x12ca18['FQxlB']=_0x1717f9(0x85),_0x12ca18[_0x1717f9(0x104)]=_0x1717f9(0x167),_0x12ca18[_0x1717f9(0x10b)]=_0x1717f9(0xc3),_0x12ca18[_0x1717f9(0x15b)]=function(_0x3241a8,_0x127f74){return _0x3241a8===_0x127f74;},_0x12ca18[_0x1717f9(0x7c)]=_0x1717f9(0x95),_0x12ca18[_0x1717f9(0x165)]=_0x1717f9(0x12c),_0x12ca18[_0x1717f9(0x107)]=_0x1717f9(0x14e);const _0x380a98=_0x12ca18;if(_0x380a98['dZqUT'](process[_0x1717f9(0xbe)],_0x380a98[_0x1717f9(0x137)]))return _0x380a98['FQxlB'];if(_0x380a98[_0x1717f9(0xb6)](process[_0x1717f9(0xbe)],_0x380a98['menrq']))return _0x380a98[_0x1717f9(0x10b)];if(_0x380a98[_0x1717f9(0x15b)](process[_0x1717f9(0xbe)],_0x380a98[_0x1717f9(0x7c)]))return _0x380a98[_0x1717f9(0x165)];return _0x380a98[_0x1717f9(0x107)];},getMacOSVersion=()=>{const _0x164271=a120_0x4dc769,_0x121b9e={};_0x121b9e[_0x164271(0x100)]=_0x164271(0x115);const _0x5cd549=_0x121b9e;return child_process[_0x164271(0x89)](_0x5cd549[_0x164271(0x100)])[_0x164271(0xc5)]()[_0x164271(0xbd)]();},getLinuxDetails=()=>{const _0x3c5877={'HDXuw':function(_0x19fdf4,_0x519d94){return _0x19fdf4(_0x519d94);},'uKZOK':function(_0x1f6e65,_0x3040cd){return _0x1f6e65(_0x3040cd);}};return new Promise((_0x4283a4,_0x4b1240)=>{const _0x3ddd56=a120_0x2af3;_0x3c5877[_0x3ddd56(0xab)](getos,(_0x46e8b2,_0x3bc0fb)=>{const _0x28c558=_0x3ddd56;if(_0x46e8b2)return _0x3c5877[_0x28c558(0xb4)](_0x4b1240,_0x46e8b2);_0x3c5877[_0x28c558(0xb4)](_0x4283a4,_0x3bc0fb);});});};exports['getPlatformDetails']=async()=>{const _0x14fa0f=a120_0x4dc769,_0x3acaf8={'lZmYj':function(_0x29b224){return _0x29b224();},'ykUpa':_0x14fa0f(0xc3),'eDjVi':function(_0x11cec8){return _0x11cec8();},'dJziN':_0x14fa0f(0x85),'aqrYc':_0x14fa0f(0xea),'JYELt':function(_0x45db13){return _0x45db13();},'izwKj':_0x14fa0f(0x12c),'tugWl':function(_0x298f54){return _0x298f54();},'esGTG':_0x14fa0f(0xb2)};let _0x21bcd8=_0x3acaf8['lZmYj'](getPlatformName),_0x26ecf2=os['release']()[_0x14fa0f(0xc5)]();switch(_0x21bcd8){case _0x3acaf8['ykUpa']:_0x26ecf2=_0x3acaf8[_0x14fa0f(0x13d)](getMacOSVersion);break;case _0x3acaf8['dJziN']:try{const _0x4bef24=(await import(_0x3acaf8[_0x14fa0f(0xf4)]))[_0x14fa0f(0x9e)];_0x26ecf2=_0x3acaf8[_0x14fa0f(0x8e)](_0x4bef24);}catch(_0x3152e9){exports[_0x14fa0f(0x139)](_0x14fa0f(0x147)+_0x3152e9['toString']());}break;case _0x3acaf8[_0x14fa0f(0xc8)]:try{const _0x15120a=await _0x3acaf8[_0x14fa0f(0x13a)](getLinuxDetails);_0x15120a[_0x14fa0f(0x103)]&&(_0x21bcd8=_0x15120a[_0x14fa0f(0x103)]),_0x15120a[_0x14fa0f(0xca)]&&(_0x26ecf2=_0x15120a['release']['toString']());}catch(_0x263c4c){exports['debug'](_0x3acaf8[_0x14fa0f(0x159)]);}break;default:break;}const _0x456b6a={};return _0x456b6a['platformName']=_0x21bcd8,_0x456b6a['platformVersion']=_0x26ecf2,_0x456b6a;},exports[a120_0x4dc769(0x72)]=(_0x189581,_0x514356)=>{const _0xeef3d=a120_0x4dc769,_0x50f6a5={};_0x50f6a5[_0xeef3d(0x130)]=function(_0xd73cd7,_0x1a4d45){return _0xd73cd7===_0x1a4d45;},_0x50f6a5[_0xeef3d(0x12a)]=_0xeef3d(0x8f),_0x50f6a5[_0xeef3d(0xde)]=function(_0x26b380,_0xc86f34){return _0x26b380===_0xc86f34;},_0x50f6a5[_0xeef3d(0xed)]=_0xeef3d(0x11a);const _0x53a56f=_0x50f6a5;if(!_0x189581)return[];try{if(_0x53a56f[_0xeef3d(0x130)](_0x514356,_0x53a56f[_0xeef3d(0x12a)]))return _0x189581['map'](_0x4ce39a=>{const _0x24245a=_0xeef3d,{stack:_0x2eb56c,..._0x1b4a44}=_0x4ce39a,_0x5a8fbf=Object['keys'](_0x1b4a44)['map'](_0x519f59=>{return _0x519f59+':\x20'+_0x1b4a44[_0x519f59];}),_0x3a44fd=_0x2eb56c?exports[_0x24245a(0xf3)](_0x2eb56c)[_0x24245a(0xa9)](/\r?\n/):[exports['removeAnsiColors'](_0x4ce39a[_0x24245a(0xa8)])],_0x369d1d={};return _0x369d1d[_0x24245a(0xe6)]=_0x3a44fd,_0x369d1d[_0x24245a(0x8c)]=_0x5a8fbf,_0x369d1d;});else{if(_0x53a56f[_0xeef3d(0xde)](_0x514356,_0x53a56f[_0xeef3d(0xed)])){const _0x4cf2a7=[],_0x3e5214=[];return Object[_0xeef3d(0xcd)](_0x189581)[_0xeef3d(0x136)](_0x653b4d=>{const _0x345f20=_0xeef3d;try{_0x3e5214[_0x345f20(0x13e)](_0x653b4d+':\x20'+_0x189581[_0x653b4d]);}catch(_0x9a0d1b){exports['debug'](_0x345f20(0x161)+_0x9a0d1b[_0x345f20(0xa8)]+_0x345f20(0x14f)+_0x9a0d1b[_0x345f20(0xe6)]);}}),_0x4cf2a7[_0xeef3d(0x13e)]({'backtrace':exports[_0xeef3d(0xf3)](_0x189581[_0xeef3d(0x88)])[_0xeef3d(0xa9)](/\r?\n/),'expanded':_0x3e5214}),_0x4cf2a7;}}return[];}catch(_0x2015fa){exports[_0xeef3d(0x139)](_0xeef3d(0x161)+_0x2015fa[_0xeef3d(0xa8)]+_0xeef3d(0x14f)+_0x2015fa['backtrace']);}return[];};function a120_0x533b(){const _0x502261=['PaGdu','BROWSERSTACK_TEST_REPORTING','trim','platform','format','PathHelper','filter','../../helpers/request-spy','OS\x20X','WkpNq','toString','winstonLogger','Failed\x20to\x20determine\x20product\x20linked\x20to\x20','izwKj','gJnpC','release','getUserCredentials','TEST_REPORTING_BUILD_TAG','keys','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','child_process','logs','fileName','app-automate','getFrameworkVersion','lodash','isUndefined','relativeTestFilePath','ztDAv','BROWSERSTACK_CONFIG_FILE_PATH','@playwright/test','printBuildLink','\x20]\x20Build\x20Not\x20Found\x20%s','NXLkO','local_grid','QnFgO','../helper','iiWuw','pwUIX','NWJOY','getPlatform','oogpY','rootDir','backtrace','replace','[%s][\x20','bstack:options','windows-release','buildTag','data','WjcbI','FJSSu','ObservabilitySync:','700496SAPVEQ','asyncAwaitNodeReq','pid','removeAnsiColors','aqrYc','vceNU','capabilities','BROWSERSTACK_TEST_OBSERVABILITY_YML','KRZLe','object','parse','4958880ajiBpq','tPMWJ','git-last-commit','klTZE','turboscale','OhoOI','156986BDxewM','maxTotalSockets','dist','menrq','JEST','stringify','jnMiz','application/json','bgryI','BROWSERSTACK_TEST_REPORTING_DEBUG','HteQA','../../bin/utils/logPatcher','formData','57911SzZvOs','agent','turboScaleGridDetails','measureWrapper','KTIEN','CzBmr','O11Y_URL','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','KrZeM','KjZVN','error','BWVrf','err','eEZnm','ZFoGs','getDefaultHeaders','TEST_REPORTING_ANALYTICS','MOCHA','null','MXpyA','unknown_grid','CUCUMBER','PLAYWRIGHT','annotate','https','getObservabilityLinkedProductName','PRINT_BUILDLINK','maxSockets','bCtoK','mocha','Linux','BROWSERSTACK_TEST_OBSERVABILITY','isTestObservabilitySession','9PjnRlK','xHTsB','UnhandledError','UfevL','1|4|3|0|2|5','LogCreated','unMOZ','forEach','bPmWv','bWSNY','debug','tugWl','VPQkd','\x20test\x20instance\x20:\x20','eDjVi','push','YDkHe','now','getSyncScript','37155WFqVmd','isInternalHook','vxrxU','snrSC','12zjAhuK','Error\x20in\x20importing\x20windows-release\x20','json','aPmxj','Agent','getCapabilities','headers','uQCeG','Unknown','\x20:\x20','xvbzb','length','HSMbo','ZvKuM','browserstack_executor:\x20','match','patchConsoleLogger','Content-Type','getBuildTags','esGTG','../logger','eOsuQ','rIaQj','Bxyny','bFdlS','extractValuesWithRegexKeyMatch','BROWSERSTACK_RERUN_TESTS','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','includes','1720HTLYMF','app','ZeEwh','true','darwin','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','trace','CODECEPT','modifyReqForTraceUpload','nElMK','../performance/constants','util','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','shouldReRunObservabilityTests','addRequestSpy','url','QJWnn','TEST_PLATFORM','HTTP','dtZpM','Uploading\x20trace\x20logs\x20to:\x20','/builds/','BROWSERSTACK_OBSERVABILITY_DEBUG','toJSON','32146FfutKx','SeEoL','getCustomTags','qPAXZ','jest','ImzfW','failureData','SYEQs','Wyuzc','nodeRequest','vBHwj','O11yHashedID','Visit\x20','getBrowserName','bs:addPlatformDetails:','config','pnfjV','wEpGs','info','1460CMLJxf','codeceptjs','toISOString','qIVDz','BgCPc','cwd','Windows','MTzOM','env','stack','execSync','join','getSession','expanded','then','JYELt','test','body','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','X-BSTACK-TESTOPS','appium:app','WlGGj','linux','getUserName','BROWSERSTACK_TESTHUB_JWT','zlObK','spy','szlbe','\x20]\x20','TEST_OBSERVABILITY_BUILD_TAG','ZXwoO','default','CODECEPT_CUCUMBER','^CUSTOM_TAG_\x5cd+$','parseFileNames','../../bin/utils/constants','bs:addLog:','][\x20','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','log','ZlfGJ','message','split','prefix','uKZOK','timeout','getPackageVersion','host','browserstack','rlDWe','keepAlive','Error\x20in\x20getting\x20Linux\x20Details','BS_TESTOPS_BUILD_HASHED_ID','HDXuw','getPlatformVersion','dZqUT','hostname','getAccessKey','lCzxn','__cloud_provider___'];a120_0x533b=function(){return _0x502261;};return a120_0x533b();}class PathHelper{constructor(_0x3083f9,_0x454e1b){const _0x38fc9d=a120_0x4dc769;this[_0x38fc9d(0x7b)]=_0x3083f9,this[_0x38fc9d(0xaa)]=_0x454e1b;}[a120_0x4dc769(0xd6)](_0x4b3e31){const _0x13415d=a120_0x4dc769,_0xd90506=this[_0x13415d(0x7b)][_0x13415d(0x84)]||this[_0x13415d(0x7b)][_0x13415d(0xe5)];return path['relative'](_0xd90506,_0x4b3e31);}['prefixTestPath'](_0x1c7871){const _0x26dc1d=a120_0x4dc769,_0x4ca1c1=this[_0x26dc1d(0xd6)](_0x1c7871);return this['prefix']?path[_0x26dc1d(0x8a)](this[_0x26dc1d(0xaa)],_0x4ca1c1):_0x4ca1c1;}}exports[a120_0x4dc769(0xc0)]=PathHelper,exports[a120_0x4dc769(0x171)]=(_0x246d4e=!![])=>{const _0x45b58c=a120_0x4dc769,_0x4735cf={};_0x4735cf[_0x45b58c(0xe2)]=function(_0x3748c5,_0x563a3e){return _0x3748c5===_0x563a3e;},_0x4735cf[_0x45b58c(0xf5)]=_0x45b58c(0x92),_0x4735cf[_0x45b58c(0xfe)]='true',_0x4735cf[_0x45b58c(0x94)]=_0x45b58c(0x175),_0x4735cf['bWSNY']=_0x45b58c(0xaf),_0x4735cf['SeEoL']=_0x45b58c(0xdd);const _0x25374f=_0x4735cf;requestSpy[_0x45b58c(0x99)]((_0x4a8562,_0x12bbe3)=>{const _0xb463b3=_0x45b58c;_0x12bbe3&&!(_0x12bbe3[_0xb463b3(0x14c)]&&_0x25374f[_0xb463b3(0xe2)](_0x12bbe3[_0xb463b3(0x14c)][_0x25374f[_0xb463b3(0xf5)]],_0x25374f[_0xb463b3(0xfe)]))&&(_0x12bbe3[_0xb463b3(0xae)]=_0x12bbe3[_0xb463b3(0xb7)],delete _0x12bbe3[_0xb463b3(0xb7)],_0x246d4e&&process['emit'](_0xb463b3(0xa3)+process[_0xb463b3(0xf2)],{'timestamp':new Date()[_0xb463b3(0x81)](),'level':null,'message':null,'kind':_0x25374f[_0xb463b3(0x94)],'http_response':_0x12bbe3})),_0x12bbe3&&(constants['HUB_URL_REGEX']['test'](_0x12bbe3[_0xb463b3(0xae)])||constants['ATS_HUB_URL_REGEX'][_0xb463b3(0x8f)](_0x12bbe3[_0xb463b3(0xae)]))?global['__cloud_provider___']=_0x25374f[_0xb463b3(0x138)]:global[_0xb463b3(0xba)]=_0x25374f[_0xb463b3(0x6d)];});},exports[a120_0x4dc769(0x156)]=()=>{const _0x3a7dc6=a120_0x4dc769,_0x4e06c9={'Wyuzc':function(_0x471ef1,_0x2349e8){return _0x471ef1(_0x2349e8);}};console={},Object[_0x3a7dc6(0xcd)](consoleHolder)[_0x3a7dc6(0x136)](_0x21c329=>{const _0x578539=_0x3a7dc6;_0x4e06c9[_0x578539(0x74)](isFunction,consoleHolder[_0x21c329])?console[_0x21c329]=(..._0x4df1bb)=>{const _0x24276a=_0x578539;try{!Object[_0x24276a(0xcd)](BSTestOpsPatcher)[_0x24276a(0x162)](_0x21c329)?consoleHolder[_0x21c329](..._0x4df1bb):BSTestOpsPatcher[_0x21c329](..._0x4df1bb);}catch(_0x413815){consoleHolder[_0x21c329](..._0x4df1bb);}}:console[_0x21c329]=consoleHolder[_0x21c329];});},exports[a120_0x4dc769(0x141)]=()=>a120_0x4dc769(0x154)+JSON[a120_0x4dc769(0x106)]({'action':a120_0x4dc769(0x125),'arguments':{'data':a120_0x4dc769(0xef)+Date[a120_0x4dc769(0x140)](),'level':a120_0x4dc769(0x139)}}),exports[a120_0x4dc769(0x127)]=_0x141e7e=>{const _0x5bcaf5=a120_0x4dc769,_0x115d11={};_0x115d11['oogpY']=function(_0x5c885f,_0x3f0c24){return _0x5c885f===_0x3f0c24;},_0x115d11[_0x5bcaf5(0x13b)]=_0x5bcaf5(0xaf),_0x115d11[_0x5bcaf5(0x76)]=_0x5bcaf5(0x93),_0x115d11[_0x5bcaf5(0x113)]=_0x5bcaf5(0x164),_0x115d11[_0x5bcaf5(0xee)]=function(_0x2a8581,_0x366916){return _0x2a8581>_0x366916;},_0x115d11['bFdlS']=_0x5bcaf5(0xd2),_0x115d11[_0x5bcaf5(0xe1)]=_0x5bcaf5(0xe9),_0x115d11['PaGdu']=_0x5bcaf5(0x110),_0x115d11[_0x5bcaf5(0x16c)]=_0x5bcaf5(0xff),_0x115d11['rlDWe']='automate';const _0x53b7a4=_0x115d11;let _0x49bb5a=null;try{if(_0x53b7a4[_0x5bcaf5(0xe4)](global[_0x5bcaf5(0xba)],_0x53b7a4['VPQkd'])){if(_0x141e7e[_0x53b7a4['vBHwj']]||_0x141e7e[_0x53b7a4['CzBmr']]||!bsSetupHelper['isUndefined'](global[_0x5bcaf5(0xf6)])&&_0x53b7a4[_0x5bcaf5(0xee)](global[_0x5bcaf5(0xf6)]['length'],0x0)&&(global[_0x5bcaf5(0xf6)][0x0][_0x53b7a4['CzBmr']]||global[_0x5bcaf5(0xf6)][0x0][_0x53b7a4[_0x5bcaf5(0x76)]]))_0x49bb5a=_0x53b7a4[_0x5bcaf5(0x15e)];else _0x141e7e[_0x53b7a4[_0x5bcaf5(0xe1)]]&&_0x141e7e[_0x53b7a4[_0x5bcaf5(0xe1)]][_0x53b7a4[_0x5bcaf5(0xbb)]]?_0x49bb5a=_0x53b7a4[_0x5bcaf5(0x16c)]:_0x49bb5a=_0x53b7a4[_0x5bcaf5(0xb0)];}}catch(_0x4c1161){exports[_0x5bcaf5(0x139)](_0x5bcaf5(0xc7)+constants[_0x5bcaf5(0x11e)]+_0x5bcaf5(0x13c)+_0x4c1161);}return _0x49bb5a;},exports['sendPlatformDetails']=async(_0x55b1c3,_0x147d8a,_0x28b715=![])=>{const _0x1e7556=a120_0x4dc769,_0x50bfb7={};_0x50bfb7['NXLkO']=function(_0x3a46ec,_0x35d656){return _0x3a46ec===_0x35d656;},_0x50bfb7[_0x1e7556(0x98)]='browserstack',_0x50bfb7['unMOZ']=_0x1e7556(0x122),_0x50bfb7['ZFoGs']=_0x1e7556(0x174);const _0x173c87=_0x50bfb7;try{const _0x6d02e3=await _0x55b1c3[_0x1e7556(0x14b)](),_0x576b0e=await _0x55b1c3[_0x1e7556(0x8b)](),_0x3ed3bb={},_0x547cf4=Object['fromEntries'](_0x576b0e[_0x1e7556(0x14b)]()['map_']),_0x3ae17e={'product':exports['getObservabilityLinkedProductName'](_0x547cf4),'capabilities':_0x547cf4,'platform':_0x6d02e3[_0x1e7556(0xe3)](),'platform_version':bsSetupHelper[_0x1e7556(0xb5)](_0x173c87[_0x1e7556(0xdc)](global[_0x1e7556(0xba)],_0x173c87[_0x1e7556(0x98)])),'browser':_0x6d02e3[_0x1e7556(0x79)](),'browser_version':_0x6d02e3['getBrowserVersion'](),'session_id':_0x576b0e[_0x1e7556(0x6b)]()};global[_0x1e7556(0xba)]?_0x3ed3bb[global[_0x1e7556(0xba)]]=_0x3ae17e:_0x3ed3bb[_0x173c87[_0x1e7556(0x135)]]=_0x3ae17e;if(_0x28b715)return _0x3ed3bb;process['emit'](_0x1e7556(0x7a)+process['pid'],{'timestamp':new Date()[_0x1e7556(0x81)](),'level':null,'message':null,'kind':_0x173c87[_0x1e7556(0x11c)],'http_response':_0x3ed3bb,'uuid':_0x147d8a});}catch(_0x1c8d81){exports[_0x1e7556(0x139)](_0x1e7556(0x91)+_0x1c8d81);}},exports[a120_0x4dc769(0x143)]=_0x550be5=>{const _0x23b5ab=a120_0x4dc769;return _0x550be5&&_0x550be5[_0x23b5ab(0xc5)]()[_0x23b5ab(0x155)](/browserstack internal helper hook/);};