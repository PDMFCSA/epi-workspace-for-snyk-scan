const a117_0x2e4d4b=a117_0x1265;(function(_0x552b7b,_0x13bbb3){const _0x43fdc9=a117_0x1265,_0x468635=_0x552b7b();while(!![]){try{const _0x5efad6=-parseInt(_0x43fdc9(0x1ca))/0x1+parseInt(_0x43fdc9(0x1b2))/0x2*(-parseInt(_0x43fdc9(0x1e5))/0x3)+-parseInt(_0x43fdc9(0x176))/0x4+-parseInt(_0x43fdc9(0x223))/0x5+parseInt(_0x43fdc9(0x1d0))/0x6*(-parseInt(_0x43fdc9(0x180))/0x7)+-parseInt(_0x43fdc9(0x179))/0x8+parseInt(_0x43fdc9(0x17e))/0x9;if(_0x5efad6===_0x13bbb3)break;else _0x468635['push'](_0x468635['shift']());}catch(_0x5ab07c){_0x468635['push'](_0x468635['shift']());}}}(a117_0x3a84,0x9975c));const fs=require('fs'),path=require(a117_0x2e4d4b(0x1f4)),gitLastCommit=require('git-last-commit'),getRepoInfo=require(a117_0x2e4d4b(0x197)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require(a117_0x2e4d4b(0x184)),http=require(a117_0x2e4d4b(0x23c)),https=require('https'),child_process=require('child_process'),getos=require(a117_0x2e4d4b(0x1d4)),os=require('os'),logger=require(a117_0x2e4d4b(0x1a7))[a117_0x2e4d4b(0x228)],bsSetupHelper=require(a117_0x2e4d4b(0x23f)),requestSpy=require(a117_0x2e4d4b(0x26f)),constants=require('../../bin/utils/constants'),logPatcher=require(a117_0x2e4d4b(0x1f0)),util=require(a117_0x2e4d4b(0x210)),{fileLogger}=require(a117_0x2e4d4b(0x1a7)),PerformanceTester=require('../performance/performance-tester'),{isFunction}=require(a117_0x2e4d4b(0x221)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a117_0x2e4d4b(0x17f)),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require(a117_0x2e4d4b(0x1e4));exports[a117_0x2e4d4b(0x1bb)]=_0x6eef7c=>{const _0x5038f0=a117_0x2e4d4b;fileLogger[_0x5038f0(0x23b)]('['+new Date()['toISOString']()+'][\x20OBSERVABILITY\x20]\x20'+_0x6eef7c);},exports['debug']=_0x568222=>{const _0x1624dd=a117_0x2e4d4b,_0x389060={};_0x389060[_0x1624dd(0x1f8)]=function(_0x3b9e39,_0x3b7d87){return _0x3b9e39===_0x3b7d87;},_0x389060[_0x1624dd(0x1ea)]=_0x1624dd(0x1a3),_0x389060[_0x1624dd(0x1b5)]=function(_0xcd88db,_0x145289){return _0xcd88db===_0x145289;};const _0xdf6535=_0x389060;fileLogger[_0x1624dd(0x198)]('['+new Date()[_0x1624dd(0x1d3)]()+_0x1624dd(0x186)+_0x568222),(_0xdf6535['yluhD'](process['env'][_0x1624dd(0x19f)],_0xdf6535['hHsLK'])||_0xdf6535[_0x1624dd(0x1b5)](process[_0x1624dd(0x1ef)][_0x1624dd(0x19f)],'1'))&&consoleHolder[_0x1624dd(0x1d6)]('\x0a['+new Date()[_0x1624dd(0x1d3)]()+_0x1624dd(0x186)+_0x568222+'\x0a');};function a117_0x3a84(){const _0x3f46dd=['ojJgz','getUserCredentials','Windows','forEach','bcgDo','12SGhNUe','json','getBrowserStackConfig','toISOString','getos','AOzzo','log','timeout','isTestObservabilitySession','replace','vqshs','appium:app','fromEntries','__cloud_provider___','PathHelper','isInternalHook','nodeRequest','release','getSyncScript','browserstack_executor:\x20','../../../src/bin/utils/constants','2359917yaGtdK','relativeTestFilePath','parse','err','YHyuO','hHsLK','toString','wSyRq','ObservabilitySync:','execSync','env','../../bin/utils/logPatcher','iDIAR','FJNOQ','vTXzn','path','format','ZQKAC','body','yluhD','TIWGL','Acvce','GQbiF','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','Content-Type','\x20:\x20','keys','bs:addPlatformDetails:','length','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','test','patchConsoleLogger','getPlatformVersion','WdnkJ','Visit\x20','printBuildLink','darwin','gmoVt','BS_TESTOPS_BUILD_HASHED_ID','DJzVO','https','prefixTestPath','LVXbQ','util','now','linux','CODECEPT_CUCUMBER','zqndr','local_grid','kCBQa','kaAQf','turboscale','WVULB','OQIym','dist','getFrameworkVersion','XvXOF','BlFCc','Uploading\x20trace\x20logs\x20to:\x20','prefix','lodash','undefined','6120560rVDYgh','^CUSTOM_TAG_\x5cd+$','default','JEST','../../bin/v2/browserstackCLI','winstonLogger','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','qaAeq','then','win32','message','modifyReqForTraceUpload','getPackageVersion','UnhandledError','@playwright/test','maxTotalSockets','UeqEZ','UufTO','capabilities','SrxkF','5|3|4|0|1|2','relative','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','filter','silly','http','ZSibP','getCapabilities','../helper','VTEIo','push','liSBG','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','sqFHt','buildTag','ftgfi','getSession','BROWSERSTACK_TESTHUB_JWT','ZXoBL','RewRz','headers','GEZiL','LpjcU','object','OLFbc','LogCreated','binoE','config','PQYdi','CUSTOM_TAG','EEQFx','lRzfQ','IVmWC','getObservabilityLinkedProductName','trim','removeAnsiColors','platform','lgwZX','BROWSERSTACK_TEST_OBSERVABILITY_YML','CUCUMBER','split','AssertionError','getFailureType','uHpNt','windows-release','null','SVvAg','spy','BROWSERSTACK_RERUN_TESTS','error','hVDLP','mocha','MOCHA','TQCAV','isArray','keepAlive','../../helpers/request-spy','backtrace','application/json','BROWSERSTACK_TEST_OBSERVABILITY','GLBPb','data','map','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','emit','isUndefined','customTag','Aonmm','OS\x20X','readConfig','automate','test_run_uuid','Gwgfm','[%s][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found\x20%s','/builds/','lYNSj','O11yHashedID','stringify','rErvv','getPlatform','Bearer\x20','ojfrl','Linux','4304812boPPOd','stack','sWiyZ','308112heVuaE','Error\x20in\x20getting\x20Linux\x20Details','maxSockets','fJryl','formData','47361195pcnYjJ','../performance/constants','911197zvOUJq','Onuym','platformName','PRINT_BUILDLINK','./constants','includes','][\x20OBSERVABILITY\x20]\x20','FGFWx','hJqol','browserstack','HUB_URL_REGEX','addRequestSpy','shouldReRunObservabilityTests','yIiQi','asyncAwaitNodeReq','cgTQr','match','HTTP','getPlatformDetails','RFhLP','extractValuesWithRegexKeyMatch','bstack:options','QuHPJ','git-repo-info','debug','logs','pid','koAGD','parseFileNames','Agent','getDefaultHeaders','BROWSERSTACK_OBSERVABILITY_DEBUG','GiIYS','expanded','info','true','platformVersion','YRHLz','ATS_HUB_URL_REGEX','../logger','ZWonC','failureData','catch','oGLfl','JBarX','host','huRHA','kLVTm','agent','url','2BfvkUc','getBrowserVersion','X-BSTACK-TESTOPS','WUexK','getAccessKey','DxKXp','toJSON','KZRvC','TEST_OBSERVABILITY_BUILD_TAG','trace','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','map_','xqUMq','@cucumber/cucumber','ZYype','sleep','hostname','SrAGB','uTQFu','measureWrapper','jjQcF','CODECEPT','Vdsjy','fqmfG','1247973LPhqpI'];a117_0x3a84=function(){return _0x3f46dd;};return a117_0x3a84();}const a117_0x5d09d2={};a117_0x5d09d2[a117_0x2e4d4b(0x26e)]=!![],a117_0x5d09d2['timeout']=0xea60,a117_0x5d09d2[a117_0x2e4d4b(0x17b)]=0x2,a117_0x5d09d2[a117_0x2e4d4b(0x232)]=0x2;const httpKeepAliveAgent=new http[(a117_0x2e4d4b(0x19d))](a117_0x5d09d2),a117_0x8d0dec={};a117_0x8d0dec[a117_0x2e4d4b(0x26e)]=!![],a117_0x8d0dec[a117_0x2e4d4b(0x1d7)]=0xea60,a117_0x8d0dec['maxSockets']=0x2,a117_0x8d0dec['maxTotalSockets']=0x2;const httpsKeepAliveAgent=new https[(a117_0x2e4d4b(0x19d))](a117_0x8d0dec),a117_0x31ba0d={};a117_0x31ba0d[a117_0x2e4d4b(0x26e)]=!![],a117_0x31ba0d[a117_0x2e4d4b(0x1d7)]=0xea60,a117_0x31ba0d[a117_0x2e4d4b(0x17b)]=0x2,a117_0x31ba0d[a117_0x2e4d4b(0x232)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a117_0x2e4d4b(0x19d))](a117_0x31ba0d),a117_0x2b1669={};a117_0x2b1669[a117_0x2e4d4b(0x26e)]=!![],a117_0x2b1669[a117_0x2e4d4b(0x1d7)]=0xea60,a117_0x2b1669[a117_0x2e4d4b(0x17b)]=0x2,a117_0x2b1669['maxTotalSockets']=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a117_0x2e4d4b(0x19d))](a117_0x2b1669);exports[a117_0x2e4d4b(0x18c)]=()=>{const _0x2da9bd=a117_0x2e4d4b,_0x1f9290={};_0x1f9290['WdnkJ']=function(_0x19b498,_0x42d7f7){return _0x19b498!==_0x42d7f7;},_0x1f9290[_0x2da9bd(0x269)]=_0x2da9bd(0x264);const _0x774c70=_0x1f9290;return process['env'][_0x2da9bd(0x267)]&&_0x774c70[_0x2da9bd(0x206)](process[_0x2da9bd(0x1ef)][_0x2da9bd(0x267)],_0x774c70['hVDLP'])?!![]:![];},exports[a117_0x2e4d4b(0x1d8)]=()=>{const _0x44ff29=a117_0x2e4d4b,_0x4faa35={};_0x4faa35[_0x44ff29(0x20f)]=function(_0x304e6e,_0x433dbf){return _0x304e6e===_0x433dbf;},_0x4faa35['lgwZX']=_0x44ff29(0x1a3);const _0x54020a=_0x4faa35;let _0x5ec787=!![];return process[_0x44ff29(0x1ef)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']&&(_0x5ec787=_0x54020a[_0x44ff29(0x20f)](process['env'][_0x44ff29(0x25d)],_0x54020a[_0x44ff29(0x25c)])),process[_0x44ff29(0x1ef)][_0x44ff29(0x272)]&&(_0x5ec787=_0x54020a[_0x44ff29(0x20f)](process[_0x44ff29(0x1ef)]['BROWSERSTACK_TEST_OBSERVABILITY'],_0x54020a['lgwZX'])),_0x5ec787;},exports[a117_0x2e4d4b(0x19c)]=_0x40c30e=>{const _0x7964a9=a117_0x2e4d4b;if(bsSetupHelper[_0x7964a9(0x278)](_0x40c30e))return undefined;try{return _0x40c30e[_0x7964a9(0x259)]()[_0x7964a9(0x25f)](',');}catch(_0x469f6f){return undefined;}},exports[a117_0x2e4d4b(0x208)]=()=>{const _0x5814de=a117_0x2e4d4b,_0x51a5be={'VTEIo':function(_0x26fb6d,_0x36e433){return _0x26fb6d(_0x36e433);},'lYNSj':_0x5814de(0x227),'BlFCc':function(_0x8dcb05,_0x51818f){return _0x8dcb05!==_0x51818f;},'GLBPb':_0x5814de(0x264),'EEQFx':_0x5814de(0x222),'OQIym':_0x5814de(0x16c)};return PerformanceTester[_0x5814de(0x1c5)](PerformanceO11yEvents[_0x5814de(0x183)],async()=>{const _0xb6962c=_0x5814de;try{const _0x23700d=_0x51a5be[_0xb6962c(0x240)](require,_0x51a5be[_0xb6962c(0x16e)]);if(_0x23700d[_0xb6962c(0x16f)]){logger['info'](_0xb6962c(0x207)+O11Y_URL+_0xb6962c(0x16d)+_0x23700d['O11yHashedID']+_0xb6962c(0x229));return;}process[_0xb6962c(0x1ef)][_0xb6962c(0x20b)]&&_0x51a5be[_0xb6962c(0x21e)](process['env'][_0xb6962c(0x20b)],_0x51a5be[_0xb6962c(0x273)])&&_0x51a5be['BlFCc'](process['env']['BS_TESTOPS_BUILD_HASHED_ID'],_0x51a5be[_0xb6962c(0x255)])&&logger[_0xb6962c(0x1a2)](_0xb6962c(0x207)+constants['O11Y_URL']+_0xb6962c(0x16d)+process[_0xb6962c(0x1ef)]['BS_TESTOPS_BUILD_HASHED_ID']+_0xb6962c(0x229));}catch(_0x120130){logger['error'](util[_0xb6962c(0x1f5)](_0x51a5be[_0xb6962c(0x21a)],new Date()[_0xb6962c(0x1d3)](),_0x120130['stack']||_0x120130['message']||_0x120130));}})();},exports[a117_0x2e4d4b(0x261)]=_0x51a94d=>{const _0x35936c=a117_0x2e4d4b,_0x5c64bb={};_0x5c64bb['rPDEV']=_0x35936c(0x260),_0x5c64bb[_0x35936c(0x1f2)]=_0x35936c(0x230);const _0x3ba9e9=_0x5c64bb;if(!_0x51a94d)return null;return _0x51a94d['toString']()[_0x35936c(0x190)](/AssertionError/)?_0x3ba9e9['rPDEV']:_0x3ba9e9[_0x35936c(0x1f2)];},exports[a117_0x2e4d4b(0x21c)]=_0x19471e=>{const _0xdfb4ea=a117_0x2e4d4b,_0x5d0a74={};_0x5d0a74[_0xdfb4ea(0x187)]=_0xdfb4ea(0x26a),_0x5d0a74[_0xdfb4ea(0x1c9)]=_0xdfb4ea(0x231),_0x5d0a74[_0xdfb4ea(0x1b7)]='codeceptjs',_0x5d0a74['zqndr']='jest',_0x5d0a74[_0xdfb4ea(0x1c0)]=_0xdfb4ea(0x1bf);const _0x183798=_0x5d0a74;let _0x32a225=null;switch(_0x19471e){case FRAMEWORKS[_0xdfb4ea(0x26b)]:_0x32a225=bsSetupHelper['getPackageVersion'](_0x183798['FGFWx']);break;case FRAMEWORKS['PLAYWRIGHT']:_0x32a225=bsSetupHelper['getPackageVersion'](_0x183798[_0xdfb4ea(0x1c9)]);break;case FRAMEWORKS[_0xdfb4ea(0x1c7)]:case FRAMEWORKS[_0xdfb4ea(0x213)]:_0x32a225=bsSetupHelper[_0xdfb4ea(0x22f)](_0x183798[_0xdfb4ea(0x1b7)]);break;case FRAMEWORKS[_0xdfb4ea(0x226)]:_0x32a225=bsSetupHelper['getPackageVersion'](_0x183798[_0xdfb4ea(0x214)]);break;case FRAMEWORKS[_0xdfb4ea(0x25e)]:_0x32a225=bsSetupHelper[_0xdfb4ea(0x22f)](_0x183798[_0xdfb4ea(0x1c0)]);break;default:break;}return _0x32a225;},exports[a117_0x2e4d4b(0x1d2)]=_0x2f0159=>{const _0x581451=a117_0x2e4d4b;let _0x28e47f=null;switch(_0x2f0159){case FRAMEWORKS['PLAYWRIGHT']:_0x28e47f=process[_0x581451(0x1ef)]['BROWSERSTACK_CONFIG_FILE_PATH'];break;}if(!_0x28e47f)return;return bsSetupHelper[_0x581451(0x27c)](_0x28e47f,![]);},exports[a117_0x2e4d4b(0x1cc)]=_0x2eafde=>{const _0x5dcc62=a117_0x2e4d4b;return{'username':bsSetupHelper['getUserName'](_0x2eafde),'accessKey':bsSetupHelper[_0x5dcc62(0x1b6)](_0x2eafde)};},exports[a117_0x2e4d4b(0x22e)]=(_0x590908,_0x3b0e8a)=>{const _0x2f1fde=a117_0x2e4d4b,_0x56a974={};_0x56a974[_0x2f1fde(0x18f)]=_0x2f1fde(0x237),_0x56a974['koAGD']=_0x2f1fde(0x250),_0x56a974[_0x2f1fde(0x24a)]='TEST_ATTACHMENT';const _0x34b5c0=_0x56a974,_0x104acd=_0x34b5c0[_0x2f1fde(0x18f)][_0x2f1fde(0x25f)]('|');let _0x505b77=0x0;while(!![]){switch(_0x104acd[_0x505b77++]){case'0':delete _0x590908['body'];continue;case'1':delete _0x590908[_0x2f1fde(0x1d1)];continue;case'2':delete _0x3b0e8a[_0x2f1fde(0x24b)];continue;case'3':if(!_0x590908[_0x2f1fde(0x1f7)][0x0]||!_0x590908[_0x2f1fde(0x1f7)][0x0][_0x2f1fde(0x199)]||!_0x590908[_0x2f1fde(0x1f7)][0x0][_0x2f1fde(0x199)][_0x2f1fde(0x201)])return;continue;case'4':_0x590908[_0x2f1fde(0x17d)]={'data':_0x590908[_0x2f1fde(0x1f7)][0x0]['logs'][0x0][_0x2f1fde(0x274)],'test_run_uuid':_0x590908['body'][0x0]['logs'][0x0][_0x2f1fde(0x27e)],'event_type':_0x34b5c0[_0x2f1fde(0x19b)],'kind':_0x34b5c0['RewRz'],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x2f1fde(0x1d3)](),'fileName':_0x590908[_0x2f1fde(0x1f7)][0x0]['logs'][0x0]['fileName']};continue;case'5':if(!_0x590908[_0x2f1fde(0x1f7)]||!Array[_0x2f1fde(0x26d)](_0x590908['body']))return;continue;}break;}},exports[a117_0x2e4d4b(0x18e)]=async(_0x952003,_0x8e1a74,_0x3f0785,_0x13c43b,_0x19c4c5=!![])=>{const _0xeef414=a117_0x2e4d4b,_0x6456d={};_0x6456d[_0xeef414(0x24f)]=function(_0xe78194,_0x46849a){return _0xe78194===_0x46849a;},_0x6456d['MwzGp']='Content-Type',_0x6456d[_0xeef414(0x174)]='application/json',_0x6456d[_0xeef414(0x188)]=_0xeef414(0x20d),_0x6456d[_0xeef414(0x249)]=function(_0x503dc4,_0x41681e){return _0x503dc4!==_0x41681e;},_0x6456d[_0xeef414(0x21d)]=_0xeef414(0x24e),_0x6456d[_0xeef414(0x1ab)]=_0xeef414(0x1bc);const _0x754e71=_0x6456d,_0xbac42f={..._0x13c43b,...{'method':_0x952003,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x8e1a74,'body':_0x3f0785,'json':_0x754e71[_0xeef414(0x24f)](_0x13c43b[_0xeef414(0x24b)][_0x754e71['MwzGp']],_0x754e71[_0xeef414(0x174)]),'agent':API_URL[_0xeef414(0x185)](_0x754e71['hJqol'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x754e71[_0xeef414(0x24f)](_0x8e1a74,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0xbac42f[_0xeef414(0x1b0)]=API_URL['includes'](_0x754e71['hJqol'])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0xeef414(0x22e)](_0xbac42f,_0x13c43b),logger[_0xeef414(0x198)](_0xeef414(0x21f)+_0xbac42f[_0xeef414(0x1b1)]));try{const {statusCode:_0x301b23,body:_0x55ba19}=await bsSetupHelper['nodeRequest'](_0x952003,_0x8e1a74,_0xbac42f,_0x13c43b,_0xbac42f[_0xeef414(0x1b1)]);if(_0x754e71[_0xeef414(0x249)](_0x301b23,0xc8))return _0x55ba19?_0x55ba19:_0xeef414(0x243)+_0x301b23;let _0xbf665b=_0x55ba19;if(_0x19c4c5)try{_0x754e71[_0xeef414(0x249)](typeof _0x55ba19,_0x754e71['XvXOF'])&&(_0xbf665b=JSON[_0xeef414(0x1e7)](_0x55ba19));}catch(_0x3370ad){logger[_0xeef414(0x268)](_0x754e71[_0xeef414(0x1ab)],_0x55ba19,util[_0xeef414(0x1f5)](_0x3370ad));}const _0x5b069b={};return _0x5b069b[_0xeef414(0x274)]=_0xbf665b,_0x5b069b;}catch(_0x35d191){logger[_0xeef414(0x268)]('Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20'+util[_0xeef414(0x1f5)](_0x35d191));throw _0x35d191;}},exports[a117_0x2e4d4b(0x1e0)]=(_0x498ce8,_0x11d354,_0x450dfc,_0x54a8bc,_0x958ad6=!![])=>{const _0x506073=a117_0x2e4d4b,_0x2701db={'ZQKAC':function(_0x56927a,_0x3418fe){return _0x56927a!==_0x3418fe;},'iDIAR':function(_0x44b849,_0x488275){return _0x44b849(_0x488275);},'qaAeq':'object','WVULB':function(_0x4dba31,_0x1fa490){return _0x4dba31(_0x1fa490);},'jpXIN':_0x506073(0x1fc),'Acvce':function(_0x31ffad,_0x5efd8b){return _0x31ffad===_0x5efd8b;},'YHyuO':_0x506073(0x1fd),'QuHPJ':_0x506073(0x271),'RFhLP':_0x506073(0x20d)};return new Promise((_0x4323de,_0x39efb3)=>{const _0x215743=_0x506073,_0x39611d={'GEZiL':function(_0x1092b8,_0x4582cc){const _0xb6765a=a117_0x1265;return _0x2701db[_0xb6765a(0x219)](_0x1092b8,_0x4582cc);}},_0x2e8ec0={..._0x54a8bc,...{'method':_0x498ce8,'url':API_URL+'/'+_0x11d354,'body':_0x450dfc,'json':_0x2701db[_0x215743(0x1fa)](_0x54a8bc[_0x215743(0x24b)][_0x2701db[_0x215743(0x1e9)]],_0x2701db[_0x215743(0x196)]),'agent':API_URL['includes'](_0x2701db[_0x215743(0x193)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x2701db['Acvce'](_0x11d354,SCREENSHOT_ENDPOINT)&&(_0x2e8ec0[_0x215743(0x1b0)]=API_URL['includes'](_0x2701db[_0x215743(0x193)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x215743(0x1e0)](_0x498ce8,_0x11d354,_0x2e8ec0,_0x54a8bc,API_URL)[_0x215743(0x22b)](({statusCode:_0x21c756,body:_0x11917b})=>{const _0x4af1cd=_0x215743;if(_0x2701db[_0x4af1cd(0x1f6)](_0x21c756,0xc8))_0x2701db[_0x4af1cd(0x1f1)](_0x39efb3,_0x11917b?_0x11917b:_0x4af1cd(0x243)+_0x21c756);else{if(_0x958ad6)try{_0x2701db[_0x4af1cd(0x1f6)](typeof _0x11917b,_0x2701db[_0x4af1cd(0x22a)])&&(_0x11917b=JSON[_0x4af1cd(0x1e7)](_0x11917b));}catch(_0x501db0){_0x2701db['WVULB'](_0x39efb3,_0x2701db['jpXIN']);return;}const _0xd1572={};_0xd1572[_0x4af1cd(0x274)]=_0x11917b,_0x2701db['WVULB'](_0x4323de,_0xd1572);}})[_0x215743(0x1aa)](_0x10795e=>{const _0x261929=_0x215743;_0x10795e&&_0x39611d[_0x261929(0x24c)](_0x39efb3,_0x10795e);});});},exports['getBuildTags']=_0x2785ec=>{const _0x37a978=a117_0x2e4d4b;if(process[_0x37a978(0x1ef)][_0x37a978(0x1ba)])return process[_0x37a978(0x1ef)][_0x37a978(0x1ba)][_0x37a978(0x25f)](',');if(_0x2785ec[_0x37a978(0x245)])return _0x2785ec['buildTag'];return[];},exports[a117_0x2e4d4b(0x19e)]=(_0x5c02ae=!![])=>{const _0x10215c=a117_0x2e4d4b,_0xae529e={};_0xae529e[_0x10215c(0x16b)]='application/json',_0xae529e[_0x10215c(0x1f3)]=_0x10215c(0x1a3),_0xae529e['gmoVt']='Authorization';const _0x417462=_0xae529e,_0x2276e0={};_0x2276e0[_0x10215c(0x1fd)]=_0x417462[_0x10215c(0x16b)],_0x2276e0[_0x10215c(0x1b4)]=_0x417462['vTXzn'];const _0x2cc52c=_0x2276e0;return _0x5c02ae&&process[_0x10215c(0x1ef)][_0x10215c(0x248)]&&(_0x2cc52c[_0x417462[_0x10215c(0x20a)]]=_0x10215c(0x173)+process[_0x10215c(0x1ef)][_0x10215c(0x248)]),_0x2cc52c;},exports[a117_0x2e4d4b(0x194)]=_0x4cd550=>{const _0x45cd61=a117_0x2e4d4b,_0x26cc12={};_0x26cc12[_0x45cd61(0x246)]=_0x45cd61(0x224);const _0x3fb1ae=_0x26cc12,_0x234ada=[],_0x2609e5=new RegExp(_0x3fb1ae['ftgfi'],'i');return Object[_0x45cd61(0x1ff)](_0x4cd550)[_0x45cd61(0x23a)](_0x4f412c=>_0x2609e5[_0x45cd61(0x203)](_0x4f412c))[_0x45cd61(0x1ce)](_0xefd4e5=>_0x234ada['push'](_0x4cd550[_0xefd4e5])),_0x234ada;},exports['getCustomTags']=_0x1edf8c=>{const _0xa0b629=a117_0x2e4d4b,_0x4b9102=[],_0x26b696=_0x1edf8c[_0xa0b629(0x279)]||process[_0xa0b629(0x1ef)][_0xa0b629(0x254)];return _0x26b696&&_0x4b9102[_0xa0b629(0x241)](_0x26b696),_0x4b9102['push'](...exports[_0xa0b629(0x194)](process[_0xa0b629(0x1ef)])),_0x4b9102[_0xa0b629(0x241)](...exports['extractValuesWithRegexKeyMatch'](_0x1edf8c)),_0x4b9102;},exports[a117_0x2e4d4b(0x25a)]=_0x3f1fc7=>{const _0x147a7f=a117_0x2e4d4b;if(!_0x3f1fc7)return'';return _0x3f1fc7[_0x147a7f(0x1d9)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a117_0x2e4d4b(0x1c1)]=(_0x2d525c=0x64)=>new Promise(_0x8e969=>setTimeout(_0x8e969,_0x2d525c));const getPlatformName=()=>{const _0x3d199f=a117_0x2e4d4b,_0x29e3eb={};_0x29e3eb[_0x3d199f(0x1b9)]=function(_0x13568d,_0x44f3e5){return _0x13568d===_0x44f3e5;},_0x29e3eb[_0x3d199f(0x1fb)]=_0x3d199f(0x22c),_0x29e3eb[_0x3d199f(0x251)]=_0x3d199f(0x1cd),_0x29e3eb[_0x3d199f(0x1ae)]=_0x3d199f(0x209),_0x29e3eb['SrAGB']=_0x3d199f(0x27b),_0x29e3eb[_0x3d199f(0x27a)]=_0x3d199f(0x212),_0x29e3eb['sNhAO']=_0x3d199f(0x175),_0x29e3eb[_0x3d199f(0x1a8)]='Unknown';const _0x30453a=_0x29e3eb;if(_0x30453a[_0x3d199f(0x1b9)](process[_0x3d199f(0x25b)],_0x30453a[_0x3d199f(0x1fb)]))return _0x30453a[_0x3d199f(0x251)];if(_0x30453a[_0x3d199f(0x1b9)](process[_0x3d199f(0x25b)],_0x30453a[_0x3d199f(0x1ae)]))return _0x30453a[_0x3d199f(0x1c3)];if(_0x30453a[_0x3d199f(0x1b9)](process[_0x3d199f(0x25b)],_0x30453a[_0x3d199f(0x27a)]))return _0x30453a['sNhAO'];return _0x30453a[_0x3d199f(0x1a8)];},getMacOSVersion=()=>{const _0x30d01e=a117_0x2e4d4b,_0x984ced={};_0x984ced['YRHLz']='awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27';const _0x484525=_0x984ced;return child_process[_0x30d01e(0x1ee)](_0x484525[_0x30d01e(0x1a5)])[_0x30d01e(0x1eb)]()[_0x30d01e(0x259)]();},getLinuxDetails=()=>{const _0x1c4414={'esPju':function(_0x4b24c2,_0x30ce00){return _0x4b24c2(_0x30ce00);},'IVmWC':function(_0x250764,_0x34defd){return _0x250764(_0x34defd);}};return new Promise((_0x18b5dc,_0x4521e0)=>{const _0x37a502=a117_0x1265,_0x3b1f67={'liSBG':function(_0x22af21,_0x16da65){return _0x1c4414['esPju'](_0x22af21,_0x16da65);}};_0x1c4414[_0x37a502(0x257)](getos,(_0x251b91,_0x14b257)=>{const _0x2f5eed=_0x37a502;if(_0x251b91)return _0x3b1f67[_0x2f5eed(0x242)](_0x4521e0,_0x251b91);_0x3b1f67[_0x2f5eed(0x242)](_0x18b5dc,_0x14b257);});});};function a117_0x1265(_0x22e8cf,_0x4982de){const _0x3a8492=a117_0x3a84();return a117_0x1265=function(_0x1265e5,_0x55a572){_0x1265e5=_0x1265e5-0x16b;let _0x3e9aa1=_0x3a8492[_0x1265e5];return _0x3e9aa1;},a117_0x1265(_0x22e8cf,_0x4982de);}exports[a117_0x2e4d4b(0x192)]=async()=>{const _0x2f9e6a=a117_0x2e4d4b,_0x128261={'uHpNt':function(_0x3b2b25){return _0x3b2b25();},'UufTO':_0x2f9e6a(0x27b),'DJzVO':function(_0xcdb7ce){return _0xcdb7ce();},'PQYdi':_0x2f9e6a(0x1cd),'jjQcF':_0x2f9e6a(0x263),'kCBQa':function(_0x193c70){return _0x193c70();},'UeqEZ':_0x2f9e6a(0x175),'vqshs':function(_0x55d665){return _0x55d665();},'AOzzo':_0x2f9e6a(0x17a)};let _0x513f66=_0x128261[_0x2f9e6a(0x262)](getPlatformName),_0x1bfac8=os[_0x2f9e6a(0x1e1)]()[_0x2f9e6a(0x1eb)]();switch(_0x513f66){case _0x128261[_0x2f9e6a(0x234)]:_0x1bfac8=_0x128261[_0x2f9e6a(0x20c)](getMacOSVersion);break;case _0x128261[_0x2f9e6a(0x253)]:try{const _0xef8d5d=(await import(_0x128261[_0x2f9e6a(0x1c6)]))[_0x2f9e6a(0x225)];_0x1bfac8=_0x128261[_0x2f9e6a(0x216)](_0xef8d5d);}catch(_0x1e6c43){exports[_0x2f9e6a(0x198)]('Error\x20in\x20importing\x20windows-release\x20'+_0x1e6c43[_0x2f9e6a(0x1eb)]());}break;case _0x128261[_0x2f9e6a(0x233)]:try{const _0x4a3452=await _0x128261[_0x2f9e6a(0x1da)](getLinuxDetails);_0x4a3452[_0x2f9e6a(0x21b)]&&(_0x513f66=_0x4a3452[_0x2f9e6a(0x21b)]),_0x4a3452[_0x2f9e6a(0x1e1)]&&(_0x1bfac8=_0x4a3452[_0x2f9e6a(0x1e1)][_0x2f9e6a(0x1eb)]());}catch(_0x1be910){exports[_0x2f9e6a(0x198)](_0x128261[_0x2f9e6a(0x1d5)]);}break;default:break;}const _0x49f2af={};return _0x49f2af[_0x2f9e6a(0x182)]=_0x513f66,_0x49f2af[_0x2f9e6a(0x1a4)]=_0x1bfac8,_0x49f2af;},exports[a117_0x2e4d4b(0x1a9)]=(_0x4955e6,_0x1ff281)=>{const _0x336b10=a117_0x2e4d4b,_0x4e9889={};_0x4e9889[_0x336b10(0x265)]=function(_0x2d8f23,_0x51bd52){return _0x2d8f23===_0x51bd52;},_0x4e9889['ojJgz']='test',_0x4e9889[_0x336b10(0x18d)]=function(_0x36eab3,_0x40272d){return _0x36eab3===_0x40272d;},_0x4e9889['RCtgi']=_0x336b10(0x1e8);const _0x2e8fc4=_0x4e9889;if(!_0x4955e6)return[];try{if(_0x2e8fc4[_0x336b10(0x265)](_0x1ff281,_0x2e8fc4[_0x336b10(0x1cb)]))return _0x4955e6[_0x336b10(0x275)](_0x26d886=>{const _0xfb675a=_0x336b10,{stack:_0x9123a4,..._0x1fad80}=_0x26d886,_0x10a82b=Object[_0xfb675a(0x1ff)](_0x1fad80)[_0xfb675a(0x275)](_0x4ca35d=>{return _0x4ca35d+':\x20'+_0x1fad80[_0x4ca35d];}),_0x544df6=_0x9123a4?exports['removeAnsiColors'](_0x9123a4)[_0xfb675a(0x25f)](/\r?\n/):[exports[_0xfb675a(0x25a)](_0x26d886['message'])],_0x350093={};return _0x350093['backtrace']=_0x544df6,_0x350093[_0xfb675a(0x1a1)]=_0x10a82b,_0x350093;});else{if(_0x2e8fc4['yIiQi'](_0x1ff281,_0x2e8fc4['RCtgi'])){const _0x5889c9=[],_0x53f87d=[];return Object[_0x336b10(0x1ff)](_0x4955e6)[_0x336b10(0x1ce)](_0x18a5f7=>{const _0x188895=_0x336b10;try{_0x53f87d[_0x188895(0x241)](_0x18a5f7+':\x20'+_0x4955e6[_0x18a5f7]);}catch(_0x288ada){exports[_0x188895(0x198)](_0x188895(0x239)+_0x288ada[_0x188895(0x22d)]+_0x188895(0x1fe)+_0x288ada['backtrace']);}}),_0x5889c9[_0x336b10(0x241)]({'backtrace':exports[_0x336b10(0x25a)](_0x4955e6[_0x336b10(0x177)])[_0x336b10(0x25f)](/\r?\n/),'expanded':_0x53f87d}),_0x5889c9;}}return[];}catch(_0xab7f1f){exports[_0x336b10(0x198)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0xab7f1f[_0x336b10(0x22d)]+_0x336b10(0x1fe)+_0xab7f1f[_0x336b10(0x270)]);}return[];};class PathHelper{constructor(_0x5caeeb,_0x5762a9){const _0x2d68c9=a117_0x2e4d4b;this[_0x2d68c9(0x252)]=_0x5caeeb,this[_0x2d68c9(0x220)]=_0x5762a9;}[a117_0x2e4d4b(0x1e6)](_0x5f195e){const _0x5b5816=a117_0x2e4d4b,_0x100aa0=this[_0x5b5816(0x252)]['cwd']||this[_0x5b5816(0x252)]['rootDir'];return path[_0x5b5816(0x238)](_0x100aa0,_0x5f195e);}[a117_0x2e4d4b(0x20e)](_0x34e086){const _0x368bbf=a117_0x2e4d4b,_0x54f106=this[_0x368bbf(0x1e6)](_0x34e086);return this[_0x368bbf(0x220)]?path['join'](this[_0x368bbf(0x220)],_0x54f106):_0x54f106;}}exports[a117_0x2e4d4b(0x1de)]=PathHelper,exports[a117_0x2e4d4b(0x18b)]=(_0xf4b336=!![])=>{const _0x532c17=a117_0x2e4d4b,_0xc4b996={};_0xc4b996[_0x532c17(0x1ec)]=function(_0xf2a78f,_0x337106){return _0xf2a78f===_0x337106;},_0xc4b996[_0x532c17(0x1ac)]=_0x532c17(0x1b4),_0xc4b996[_0x532c17(0x1af)]=_0x532c17(0x1a3),_0xc4b996[_0x532c17(0x1f9)]=_0x532c17(0x191),_0xc4b996[_0x532c17(0x181)]=_0x532c17(0x189),_0xc4b996[_0x532c17(0x1a0)]=_0x532c17(0x215);const _0x1eefc5=_0xc4b996;requestSpy[_0x532c17(0x266)]((_0x25e725,_0x5a5b30)=>{const _0x23cebf=_0x532c17;_0x5a5b30&&!(_0x5a5b30['headers']&&_0x1eefc5[_0x23cebf(0x1ec)](_0x5a5b30[_0x23cebf(0x24b)][_0x1eefc5['JBarX']],_0x1eefc5[_0x23cebf(0x1af)]))&&(_0x5a5b30[_0x23cebf(0x1ad)]=_0x5a5b30[_0x23cebf(0x1c2)],delete _0x5a5b30[_0x23cebf(0x1c2)],_0xf4b336&&process[_0x23cebf(0x277)]('bs:addLog:'+process['pid'],{'timestamp':new Date()[_0x23cebf(0x1d3)](),'level':null,'message':null,'kind':_0x1eefc5[_0x23cebf(0x1f9)],'http_response':_0x5a5b30})),_0x5a5b30&&(constants[_0x23cebf(0x18a)][_0x23cebf(0x203)](_0x5a5b30['host'])||constants[_0x23cebf(0x1a6)][_0x23cebf(0x203)](_0x5a5b30[_0x23cebf(0x1ad)]))?global['__cloud_provider___']=_0x1eefc5[_0x23cebf(0x181)]:global[_0x23cebf(0x1dd)]=_0x1eefc5['GiIYS'];});},exports[a117_0x2e4d4b(0x204)]=()=>{const _0x4e119c=a117_0x2e4d4b,_0x5c3650={'zfVXw':function(_0x14a732,_0x56b7e7){return _0x14a732(_0x56b7e7);}};console={},Object[_0x4e119c(0x1ff)](consoleHolder)['forEach'](_0xcb0a87=>{_0x5c3650['zfVXw'](isFunction,consoleHolder[_0xcb0a87])?console[_0xcb0a87]=(..._0x6babcb)=>{try{!Object['keys'](BSTestOpsPatcher)['includes'](_0xcb0a87)?consoleHolder[_0xcb0a87](..._0x6babcb):BSTestOpsPatcher[_0xcb0a87](..._0x6babcb);}catch(_0x56db20){consoleHolder[_0xcb0a87](..._0x6babcb);}}:console[_0xcb0a87]=consoleHolder[_0xcb0a87];});},exports[a117_0x2e4d4b(0x1e2)]=()=>a117_0x2e4d4b(0x1e3)+JSON[a117_0x2e4d4b(0x170)]({'action':'annotate','arguments':{'data':a117_0x2e4d4b(0x1ed)+Date[a117_0x2e4d4b(0x211)](),'level':a117_0x2e4d4b(0x198)}}),exports[a117_0x2e4d4b(0x258)]=_0x356c6a=>{const _0x1e8e88=a117_0x2e4d4b,_0x83f6c5={};_0x83f6c5[_0x1e8e88(0x178)]=function(_0x3c55de,_0x134a98){return _0x3c55de===_0x134a98;},_0x83f6c5['LpjcU']=_0x1e8e88(0x189),_0x83f6c5[_0x1e8e88(0x1c4)]=_0x1e8e88(0x1db),_0x83f6c5['sqFHt']='app',_0x83f6c5[_0x1e8e88(0x1cf)]=function(_0x5745ea,_0x59f434){return _0x5745ea>_0x59f434;},_0x83f6c5[_0x1e8e88(0x1be)]='app-automate',_0x83f6c5['SrxkF']=_0x1e8e88(0x195),_0x83f6c5['TQCAV']='turboScaleGridDetails',_0x83f6c5[_0x1e8e88(0x1c8)]=_0x1e8e88(0x218),_0x83f6c5[_0x1e8e88(0x217)]=_0x1e8e88(0x27d);const _0x5c2f6e=_0x83f6c5;let _0x5141a6=null;try{if(_0x5c2f6e[_0x1e8e88(0x178)](global['__cloud_provider___'],_0x5c2f6e[_0x1e8e88(0x24d)])){if(_0x356c6a[_0x5c2f6e['uTQFu']]||_0x356c6a[_0x5c2f6e['sqFHt']]||!bsSetupHelper['isUndefined'](global[_0x1e8e88(0x235)])&&_0x5c2f6e[_0x1e8e88(0x1cf)](global['capabilities'][_0x1e8e88(0x201)],0x0)&&(global[_0x1e8e88(0x235)][0x0][_0x5c2f6e[_0x1e8e88(0x244)]]||global[_0x1e8e88(0x235)][0x0][_0x5c2f6e[_0x1e8e88(0x1c4)]]))_0x5141a6=_0x5c2f6e[_0x1e8e88(0x1be)];else _0x356c6a[_0x5c2f6e[_0x1e8e88(0x236)]]&&_0x356c6a[_0x5c2f6e[_0x1e8e88(0x236)]][_0x5c2f6e[_0x1e8e88(0x26c)]]?_0x5141a6=_0x5c2f6e[_0x1e8e88(0x1c8)]:_0x5141a6=_0x5c2f6e['kaAQf'];}}catch(_0x4c2650){exports[_0x1e8e88(0x198)](_0x1e8e88(0x276)+_0x4c2650);}return _0x5141a6;},exports['sendPlatformDetails']=async(_0x35723c,_0x268ab4,_0x5423fa=![])=>{const _0x5373b7=a117_0x2e4d4b,_0x913469={};_0x913469[_0x5373b7(0x23d)]=function(_0x20596a,_0x14c2b4){return _0x20596a===_0x14c2b4;},_0x913469[_0x5373b7(0x17c)]='browserstack',_0x913469[_0x5373b7(0x256)]='unknown_grid',_0x913469[_0x5373b7(0x171)]='TEST_PLATFORM';const _0x2fc304=_0x913469;try{const _0xddb769=await _0x35723c[_0x5373b7(0x23e)](),_0x32398d=await _0x35723c[_0x5373b7(0x247)](),_0x2b7c46={},_0x427888=Object[_0x5373b7(0x1dc)](_0x32398d[_0x5373b7(0x23e)]()[_0x5373b7(0x1bd)]),_0x303d91={'product':exports[_0x5373b7(0x258)](_0x427888),'capabilities':_0x427888,'platform':_0xddb769[_0x5373b7(0x172)](),'platform_version':bsSetupHelper[_0x5373b7(0x205)](_0x2fc304[_0x5373b7(0x23d)](global['__cloud_provider___'],_0x2fc304[_0x5373b7(0x17c)])),'browser':_0xddb769['getBrowserName'](),'browser_version':_0xddb769[_0x5373b7(0x1b3)](),'session_id':_0x32398d[_0x5373b7(0x1b8)]()};global[_0x5373b7(0x1dd)]?_0x2b7c46[global['__cloud_provider___']]=_0x303d91:_0x2b7c46[_0x2fc304[_0x5373b7(0x256)]]=_0x303d91;if(_0x5423fa)return _0x2b7c46;process[_0x5373b7(0x277)](_0x5373b7(0x200)+process[_0x5373b7(0x19a)],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x2fc304['rErvv'],'http_response':_0x2b7c46,'uuid':_0x268ab4});}catch(_0x32db09){exports[_0x5373b7(0x198)](_0x5373b7(0x202)+_0x32db09);}},exports[a117_0x2e4d4b(0x1df)]=_0x51e656=>{return _0x51e656&&_0x51e656['toString']()['match'](/browserstack internal helper hook/);};