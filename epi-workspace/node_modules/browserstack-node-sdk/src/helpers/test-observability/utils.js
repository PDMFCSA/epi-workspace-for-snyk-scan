const a87_0x4e7e66=a87_0x1bde;(function(_0x4d72f8,_0x220794){const _0x350496=a87_0x1bde,_0x536faf=_0x4d72f8();while(!![]){try{const _0x1ec826=parseInt(_0x350496(0x139))/0x1*(parseInt(_0x350496(0x10b))/0x2)+-parseInt(_0x350496(0x126))/0x3*(-parseInt(_0x350496(0x131))/0x4)+parseInt(_0x350496(0x1b5))/0x5+-parseInt(_0x350496(0x15b))/0x6*(-parseInt(_0x350496(0x199))/0x7)+-parseInt(_0x350496(0x1f3))/0x8*(-parseInt(_0x350496(0x1e7))/0x9)+parseInt(_0x350496(0x1bb))/0xa+parseInt(_0x350496(0x130))/0xb*(-parseInt(_0x350496(0x1a1))/0xc);if(_0x1ec826===_0x220794)break;else _0x536faf['push'](_0x536faf['shift']());}catch(_0x49d22d){_0x536faf['push'](_0x536faf['shift']());}}}(a87_0x3b11,0x28c4d));const fs=require('fs'),path=require(a87_0x4e7e66(0x15c)),gitLastCommit=require(a87_0x4e7e66(0x152)),getRepoInfo=require(a87_0x4e7e66(0x1ca)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require(a87_0x4e7e66(0x15f)),https=require(a87_0x4e7e66(0x161)),child_process=require(a87_0x4e7e66(0x207)),getos=require(a87_0x4e7e66(0x1eb)),os=require('os'),logger=require(a87_0x4e7e66(0x18d))[a87_0x4e7e66(0x206)],bsSetupHelper=require(a87_0x4e7e66(0x138)),requestSpy=require(a87_0x4e7e66(0x1c5)),constants=require(a87_0x4e7e66(0x145)),logPatcher=require(a87_0x4e7e66(0x127)),util=require(a87_0x4e7e66(0x17c)),{fileLogger}=require('../logger'),PerformanceTester=require(a87_0x4e7e66(0x1bd)),{isFunction}=require('lodash'),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a87_0x4e7e66(0x14d));function a87_0x3b11(){const _0x56ab83=['browserstack','platform','toISOString','CUSTOM_TAG','xQPYW','BS_TESTOPS_BUILD_HASHED_ID','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','wYwRh','AgroS','fxlGe','CbAgF','wIwoP','SYRrl','kqRbz','turboScaleGridDetails','@playwright/test','asyncAwaitNodeReq','log','UftEW','__cloud_provider___','TEST_PLATFORM','478878ejUSzJ','../../bin/utils/logPatcher','JEST','silly','local_grid','Error\x20in\x20getting\x20Linux\x20Details','trace','wnbtB','emit','getCustomTags','231YpbuCG','4eBDutN','WkbLu','vBexz','replace','darwin','uJbEV','FtUhj','../helper','1dKxXPr','win32','MLCYl','map_','BROWSERSTACK_OBSERVABILITY_DEBUG','bBmnK','measureWrapper','qirXY','ZDtEv','platformVersion','BROWSERSTACK_TEST_OBSERVABILITY_YML','wstfC','../../bin/utils/constants','isUndefined','application/json','pDlXc','undefined','execSync','TEST_OBSERVABILITY_BUILD_TAG','cXCmt','../performance/constants','modifyReqForTraceUpload','getSyncScript','uMrKT','\x20:\x20','git-last-commit','split','getBuildTags','release','VaRTQ','BROWSERSTACK_TESTHUB_JWT','ENIpt','toJSON','match','24Iwyqie','path','CrQWt','readConfig','http','^CUSTOM_TAG_\x5cd+$','https','keepAlive','forEach','host','isInternalHook','appium:app','ZRJWN','prefix','relative','@cucumber/cucumber','AssertionError','kRAse','CODECEPT','now','xWmxZ','json','][\x20OBSERVABILITY\x20]\x20','turboscale','debug','printBuildLink','default','keys','OS\x20X','PKQxg','getUserName','MOCHA','Agent','util','removeAnsiColors','extractValuesWithRegexKeyMatch','sJfsm','sendPlatformDetails','then','qYTzq','format','map','jest','includes','UwsDm','capabilities','qOLNy','isArray','Unknown','qWgWA','../logger','qKcHJ','spy','vTDKf','PFWID','getCapabilities','logs','DIKto','jfNNC','getSession','rootDir','maxTotalSockets','580300oONtkG','PLAYWRIGHT','windows-release','message','stringify','bs:addPlatformDetails:','parse','WHGia','528144qZLfiW','join','body','rVUrM','linux','info','getDefaultHeaders','SoBKj','Drrna','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','platformName','getPackageVersion','test','OvvuG','BROWSERSTACK_TEST_OBSERVABILITY','BPaVm','yOfTf','nodeRequest','annotate','PLAYWRIGHT_TRACE_LOGS','296140KYjCSp','jxxcq','Bearer\x20','catch','Linux','addRequestSpy','2436590keFIXR','expanded','../performance/performance-tester','dist','gOjab','mocha','PathHelper','kivmB','iEcGk','Content-Type','../../helpers/request-spy','ZxQJt','backtrace','push','bstack:options','git-repo-info','bXkDW','hostname','config','BROWSERSTACK_CONFIG_FILE_PATH','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','diLdA','getBrowserVersion','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','yaQcR','JarNI','trim','length','Windows','VOMXD','getPlatformDetails','Vcgvx','fileName','CraRE','codeceptjs','rRBAl','agent','true','DISTT','patchConsoleLogger','zmYyw','lLIoL','BROWSERSTACK_RERUN_TESTS','][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found','9kDlzCQ','buildTag','getAccessKey','cyxJo','getos','4|0|3|1|2|5','X-BSTACK-TESTOPS','env','maxSockets','Error\x20in\x20importing\x20windows-release\x20','PmAre','UnhandledError','1344664IgGddX','uHjXM','app','kYyHB','data','gpxTu','sJQrI','relativeTestFilePath','sDpHw','getFailureType','CUCUMBER','uayvU','agedO','getPlatform','getObservabilityLinkedProductName','browserstack_executor:\x20','headers','qmMrz','KOExN','winstonLogger','child_process','xBStD','getUserCredentials','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','Visit\x20https://observability.browserstack.com/builds/','failureData','error','vqSSZ','timeout','rVWgQ','toString','parseFileNames','258090ZIRrPT','null','xNqDs','qrouw','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20'];a87_0x3b11=function(){return _0x56ab83;};return a87_0x3b11();}exports[a87_0x4e7e66(0x12c)]=_0x68c4e7=>{const _0xf45a31=a87_0x4e7e66;fileLogger[_0xf45a31(0x129)]('['+new Date()[_0xf45a31(0x112)]()+_0xf45a31(0x171)+_0x68c4e7);},exports[a87_0x4e7e66(0x173)]=_0x30f3ce=>{const _0x39ce42=a87_0x4e7e66,_0x10bde7={};_0x10bde7['AgroS']=function(_0x2d2cae,_0x33bec3){return _0x2d2cae===_0x33bec3;},_0x10bde7[_0x39ce42(0x167)]='true';const _0x2cfaba=_0x10bde7;fileLogger[_0x39ce42(0x173)]('['+new Date()[_0x39ce42(0x112)]()+'][\x20OBSERVABILITY\x20]\x20'+_0x30f3ce),(_0x2cfaba[_0x39ce42(0x119)](process[_0x39ce42(0x1ee)][_0x39ce42(0x13d)],_0x2cfaba['ZRJWN'])||_0x2cfaba[_0x39ce42(0x119)](process['env']['BROWSERSTACK_OBSERVABILITY_DEBUG'],'1'))&&consoleHolder[_0x39ce42(0x122)]('\x0a['+new Date()[_0x39ce42(0x112)]()+_0x39ce42(0x171)+_0x30f3ce+'\x0a');};const a87_0x21a6f4={};a87_0x21a6f4['keepAlive']=!![],a87_0x21a6f4['timeout']=0xea60,a87_0x21a6f4[a87_0x4e7e66(0x1ef)]=0x2,a87_0x21a6f4['maxTotalSockets']=0x2;const httpKeepAliveAgent=new http[(a87_0x4e7e66(0x17b))](a87_0x21a6f4),a87_0x2b8400={};a87_0x2b8400[a87_0x4e7e66(0x162)]=!![],a87_0x2b8400[a87_0x4e7e66(0x107)]=0xea60,a87_0x2b8400[a87_0x4e7e66(0x1ef)]=0x2,a87_0x2b8400[a87_0x4e7e66(0x198)]=0x2;const httpsKeepAliveAgent=new https['Agent'](a87_0x2b8400),a87_0x1f26d9={};a87_0x1f26d9[a87_0x4e7e66(0x162)]=!![],a87_0x1f26d9[a87_0x4e7e66(0x107)]=0xea60,a87_0x1f26d9[a87_0x4e7e66(0x1ef)]=0x2,a87_0x1f26d9[a87_0x4e7e66(0x198)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a87_0x4e7e66(0x17b))](a87_0x1f26d9),a87_0x224c2f={};a87_0x224c2f[a87_0x4e7e66(0x162)]=!![],a87_0x224c2f[a87_0x4e7e66(0x107)]=0xea60,a87_0x224c2f[a87_0x4e7e66(0x1ef)]=0x2,a87_0x224c2f[a87_0x4e7e66(0x198)]=0x2;const httpsScreenshotsKeepAliveAgent=new https['Agent'](a87_0x224c2f);exports['shouldReRunObservabilityTests']=()=>{const _0x3210f8=a87_0x4e7e66,_0x390226={};_0x390226[_0x3210f8(0x140)]=function(_0x340bf7,_0x3411a8){return _0x340bf7!==_0x3411a8;},_0x390226[_0x3210f8(0x108)]='null';const _0x2c54ad=_0x390226;return process[_0x3210f8(0x1ee)]['BROWSERSTACK_RERUN_TESTS']&&_0x2c54ad[_0x3210f8(0x140)](process['env'][_0x3210f8(0x1e5)],_0x2c54ad[_0x3210f8(0x108)])?!![]:![];},exports['isTestObservabilitySession']=()=>{const _0x56ae11=a87_0x4e7e66,_0x46eb03={};_0x46eb03['qrouw']=function(_0x418b85,_0x2651b7){return _0x418b85===_0x2651b7;},_0x46eb03['DIKto']=_0x56ae11(0x1e0);const _0xc1f875=_0x46eb03;let _0x53a186=!![];return process[_0x56ae11(0x1ee)][_0x56ae11(0x143)]&&(_0x53a186=_0xc1f875[_0x56ae11(0x10e)](process[_0x56ae11(0x1ee)][_0x56ae11(0x143)],_0xc1f875[_0x56ae11(0x194)])),process[_0x56ae11(0x1ee)]['BROWSERSTACK_TEST_OBSERVABILITY']&&(_0x53a186=_0xc1f875[_0x56ae11(0x10e)](process[_0x56ae11(0x1ee)][_0x56ae11(0x1af)],_0xc1f875['DIKto'])),_0x53a186;},exports[a87_0x4e7e66(0x10a)]=_0x11a2df=>{const _0x3f78d4=a87_0x4e7e66;if(bsSetupHelper[_0x3f78d4(0x146)](_0x11a2df))return undefined;try{return _0x11a2df[_0x3f78d4(0x1d5)]()['split'](',');}catch(_0x8b6b58){return undefined;}},exports[a87_0x4e7e66(0x174)]=()=>{const _0xf9b524=a87_0x4e7e66,_0xb4ed65={};_0xb4ed65[_0xf9b524(0x1ae)]=function(_0x2ee5ce,_0x526b80){return _0x2ee5ce!==_0x526b80;},_0xb4ed65[_0xf9b524(0x1fe)]=_0xf9b524(0x10c),_0xb4ed65[_0xf9b524(0x1de)]=function(_0x3bd740,_0x48dc91){return _0x3bd740!==_0x48dc91;},_0xb4ed65[_0xf9b524(0x1d3)]=_0xf9b524(0x149);const _0x43a958=_0xb4ed65;return PerformanceTester[_0xf9b524(0x13f)](PerformanceO11yEvents['PRINT_BUILDLINK'],async()=>{const _0x3b0058=_0xf9b524;try{process[_0x3b0058(0x1ee)]['BS_TESTOPS_BUILD_HASHED_ID']&&_0x43a958['OvvuG'](process[_0x3b0058(0x1ee)][_0x3b0058(0x115)],_0x43a958[_0x3b0058(0x1fe)])&&_0x43a958['rRBAl'](process[_0x3b0058(0x1ee)]['BS_TESTOPS_BUILD_HASHED_ID'],_0x43a958[_0x3b0058(0x1d3)])&&logger[_0x3b0058(0x1a6)](_0x3b0058(0x103)+process[_0x3b0058(0x1ee)][_0x3b0058(0x115)]+'\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a');}catch(_0x263448){logger['error']('['+new Date()[_0x3b0058(0x112)]()+_0x3b0058(0x1e6));}})();},exports[a87_0x4e7e66(0x1fc)]=_0x1620f4=>{const _0x143a6b=a87_0x4e7e66,_0x5655e3={};_0x5655e3['qKcHJ']=_0x143a6b(0x16b),_0x5655e3[_0x143a6b(0x189)]=_0x143a6b(0x1f2);const _0x53d2c5=_0x5655e3;if(!_0x1620f4)return null;return _0x1620f4[_0x143a6b(0x109)]()[_0x143a6b(0x15a)](/AssertionError/)?_0x53d2c5[_0x143a6b(0x18e)]:_0x53d2c5[_0x143a6b(0x189)];},exports['getFrameworkVersion']=_0x5e5e86=>{const _0x2bcea4=a87_0x4e7e66,_0x46b4f0={};_0x46b4f0[_0x2bcea4(0x11c)]=_0x2bcea4(0x1c0),_0x46b4f0[_0x2bcea4(0x187)]=_0x2bcea4(0x120),_0x46b4f0['sJQrI']=_0x2bcea4(0x1dd),_0x46b4f0[_0x2bcea4(0x1e1)]=_0x2bcea4(0x185),_0x46b4f0[_0x2bcea4(0x144)]=_0x2bcea4(0x16a);const _0x4b96d8=_0x46b4f0;let _0x4ba405=null;switch(_0x5e5e86){case FRAMEWORKS[_0x2bcea4(0x17a)]:_0x4ba405=bsSetupHelper[_0x2bcea4(0x1ac)](_0x4b96d8[_0x2bcea4(0x11c)]);break;case FRAMEWORKS[_0x2bcea4(0x19a)]:_0x4ba405=bsSetupHelper[_0x2bcea4(0x1ac)](_0x4b96d8['UwsDm']);break;case FRAMEWORKS[_0x2bcea4(0x16d)]:_0x4ba405=bsSetupHelper[_0x2bcea4(0x1ac)](_0x4b96d8[_0x2bcea4(0x1f9)]);break;case FRAMEWORKS[_0x2bcea4(0x128)]:_0x4ba405=bsSetupHelper[_0x2bcea4(0x1ac)](_0x4b96d8[_0x2bcea4(0x1e1)]);break;case FRAMEWORKS[_0x2bcea4(0x1fd)]:_0x4ba405=bsSetupHelper[_0x2bcea4(0x1ac)](_0x4b96d8['wstfC']);break;default:break;}return _0x4ba405;},exports['getBrowserStackConfig']=_0x25e7c6=>{const _0xa1ed0b=a87_0x4e7e66;let _0x39cc91=null;switch(_0x25e7c6){case FRAMEWORKS['PLAYWRIGHT']:_0x39cc91=process[_0xa1ed0b(0x1ee)][_0xa1ed0b(0x1ce)];break;}if(!_0x39cc91)return;return bsSetupHelper[_0xa1ed0b(0x15e)](_0x39cc91,![]);},exports[a87_0x4e7e66(0x209)]=_0x145b7d=>{const _0x43ca37=a87_0x4e7e66;return{'username':bsSetupHelper[_0x43ca37(0x179)](_0x145b7d),'accessKey':bsSetupHelper[_0x43ca37(0x1e9)](_0x145b7d)};},exports['modifyReqForTraceUpload']=(_0x41a140,_0x5a22d7)=>{const _0x5fce72=a87_0x4e7e66,_0x26c9b7={};_0x26c9b7[_0x5fce72(0x132)]=_0x5fce72(0x1ec),_0x26c9b7[_0x5fce72(0x11b)]='LogCreated',_0x26c9b7[_0x5fce72(0x1c2)]='TEST_ATTACHMENT',_0x26c9b7['xBStD']=_0x5fce72(0x1b4);const _0x18eb43=_0x26c9b7,_0x1923ba=_0x18eb43[_0x5fce72(0x132)]['split']('|');let _0xd9b1f6=0x0;while(!![]){switch(_0x1923ba[_0xd9b1f6++]){case'0':if(!_0x41a140[_0x5fce72(0x1a3)][0x0]||!_0x41a140[_0x5fce72(0x1a3)][0x0][_0x5fce72(0x193)]||!_0x41a140[_0x5fce72(0x1a3)][0x0][_0x5fce72(0x193)]['length'])return;continue;case'1':delete _0x41a140[_0x5fce72(0x1a3)];continue;case'2':delete _0x41a140[_0x5fce72(0x170)];continue;case'3':_0x41a140['formData']={'data':_0x41a140[_0x5fce72(0x1a3)][0x0][_0x5fce72(0x193)][0x0][_0x5fce72(0x1f7)],'test_run_uuid':_0x41a140[_0x5fce72(0x1a3)][0x0][_0x5fce72(0x193)][0x0]['test_run_uuid'],'event_type':_0x18eb43[_0x5fce72(0x11b)],'kind':_0x18eb43[_0x5fce72(0x1c2)],'attachmentType':_0x18eb43[_0x5fce72(0x208)],'timestamp':new Date()[_0x5fce72(0x112)](),'fileName':_0x41a140[_0x5fce72(0x1a3)][0x0]['logs'][0x0][_0x5fce72(0x1db)]};continue;case'4':if(!_0x41a140[_0x5fce72(0x1a3)]||!Array[_0x5fce72(0x18a)](_0x41a140[_0x5fce72(0x1a3)]))return;continue;case'5':delete _0x5a22d7['headers'];continue;}break;}},exports[a87_0x4e7e66(0x121)]=async(_0x28bca4,_0x1f19b2,_0x29a955,_0x5ebb43,_0x4cf7b8=!![])=>{const _0x16fd09=a87_0x4e7e66,_0x383d6d={};_0x383d6d['qYTzq']=function(_0x211832,_0x19efd3){return _0x211832===_0x19efd3;},_0x383d6d[_0x16fd09(0x11a)]=_0x16fd09(0x1c4),_0x383d6d['Vcgvx']=_0x16fd09(0x147),_0x383d6d[_0x16fd09(0x17f)]=_0x16fd09(0x161),_0x383d6d[_0x16fd09(0x191)]=function(_0x27572b,_0x2ef2a3){return _0x27572b!==_0x2ef2a3;},_0x383d6d[_0x16fd09(0x195)]=function(_0x347058,_0x6b2f4d){return _0x347058!==_0x6b2f4d;},_0x383d6d['vqSSZ']='object',_0x383d6d[_0x16fd09(0x1b6)]=_0x16fd09(0x1d2);const _0x583c02=_0x383d6d,_0x2d3c80={..._0x5ebb43,...{'method':_0x28bca4,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x1f19b2,'body':_0x29a955,'json':_0x583c02[_0x16fd09(0x182)](_0x5ebb43[_0x16fd09(0x203)][_0x583c02[_0x16fd09(0x11a)]],_0x583c02[_0x16fd09(0x1da)]),'agent':API_URL['includes'](_0x583c02[_0x16fd09(0x17f)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x583c02[_0x16fd09(0x182)](_0x1f19b2,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x2d3c80['agent']=API_URL['includes'](_0x583c02[_0x16fd09(0x17f)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x16fd09(0x14e)](_0x2d3c80,_0x5ebb43),logger[_0x16fd09(0x173)]('Uploading\x20trace\x20logs\x20to:\x20'+_0x2d3c80['url']));try{const {statusCode:_0x16907b,body:_0x57a8d9}=await bsSetupHelper[_0x16fd09(0x1b2)](_0x28bca4,_0x1f19b2,_0x2d3c80,_0x5ebb43,_0x2d3c80['url']);if(_0x583c02['PFWID'](_0x16907b,0xc8))return _0x57a8d9?_0x57a8d9:_0x16fd09(0x10f)+_0x16907b;let _0xd42de4=_0x57a8d9;if(_0x4cf7b8)try{_0x583c02['jfNNC'](typeof _0x57a8d9,_0x583c02[_0x16fd09(0x106)])&&(_0xd42de4=JSON[_0x16fd09(0x19f)](_0x57a8d9));}catch(_0x5f5972){logger[_0x16fd09(0x105)](_0x583c02[_0x16fd09(0x1b6)],_0x57a8d9,util[_0x16fd09(0x183)](_0x5f5972));}const _0x39e56e={};return _0x39e56e[_0x16fd09(0x1f7)]=_0xd42de4,_0x39e56e;}catch(_0x38dcc1){logger[_0x16fd09(0x105)](_0x16fd09(0x117)+util[_0x16fd09(0x183)](_0x38dcc1));throw _0x38dcc1;}},exports['nodeRequest']=(_0x588a9e,_0x235518,_0x384e09,_0x36ab9e,_0xa131d9=!![])=>{const _0x5c9ce7=a87_0x4e7e66,_0x44b5ec={'ZxQJt':function(_0x58b4d3,_0x1323ef){return _0x58b4d3!==_0x1323ef;},'vTDKf':function(_0x5dd943,_0x1f0476){return _0x5dd943(_0x1f0476);},'uHjXM':'object','SoBKj':'Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','kqRbz':function(_0x22a854,_0x2bde22){return _0x22a854===_0x2bde22;},'RlaXR':_0x5c9ce7(0x1c4),'IIBVg':_0x5c9ce7(0x147),'ENIpt':'https','cGyYB':function(_0x3080ae,_0x3c4356){return _0x3080ae===_0x3c4356;}};return new Promise((_0x281334,_0x322c0a)=>{const _0x5c129f=_0x5c9ce7,_0x2e55c9={..._0x36ab9e,...{'method':_0x588a9e,'url':API_URL+'/'+_0x235518,'body':_0x384e09,'json':_0x44b5ec[_0x5c129f(0x11e)](_0x36ab9e[_0x5c129f(0x203)][_0x44b5ec['RlaXR']],_0x44b5ec['IIBVg']),'agent':API_URL[_0x5c129f(0x186)](_0x44b5ec[_0x5c129f(0x158)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x44b5ec['cGyYB'](_0x235518,SCREENSHOT_ENDPOINT)&&(_0x2e55c9[_0x5c129f(0x1df)]=API_URL[_0x5c129f(0x186)](_0x44b5ec['ENIpt'])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper['nodeRequest'](_0x588a9e,_0x235518,_0x2e55c9,_0x36ab9e,API_URL)[_0x5c129f(0x181)](({statusCode:_0x33eda9,body:_0x176409})=>{const _0xbbda64=_0x5c129f;if(_0x44b5ec[_0xbbda64(0x1c6)](_0x33eda9,0xc8))_0x44b5ec[_0xbbda64(0x190)](_0x322c0a,_0x176409?_0x176409:_0xbbda64(0x10f)+_0x33eda9);else{if(_0xa131d9)try{_0x44b5ec[_0xbbda64(0x1c6)](typeof _0x176409,_0x44b5ec[_0xbbda64(0x1f4)])&&(_0x176409=JSON[_0xbbda64(0x19f)](_0x176409));}catch(_0x5b796e){_0x44b5ec[_0xbbda64(0x190)](_0x322c0a,_0x44b5ec[_0xbbda64(0x1a8)]);return;}const _0x1de588={};_0x1de588[_0xbbda64(0x1f7)]=_0x176409,_0x44b5ec[_0xbbda64(0x190)](_0x281334,_0x1de588);}})[_0x5c129f(0x1b8)](_0x4c5809=>{_0x4c5809&&_0x44b5ec['vTDKf'](_0x322c0a,_0x4c5809);});});},exports[a87_0x4e7e66(0x154)]=_0x237760=>{const _0x49a4d5=a87_0x4e7e66;if(process[_0x49a4d5(0x1ee)][_0x49a4d5(0x14b)])return process[_0x49a4d5(0x1ee)][_0x49a4d5(0x14b)]['split'](',');if(_0x237760[_0x49a4d5(0x1e8)])return _0x237760[_0x49a4d5(0x1e8)];return[];},exports[a87_0x4e7e66(0x1a7)]=(_0x193804=!![])=>{const _0x5db98a=a87_0x4e7e66,_0x577be1={};_0x577be1[_0x5db98a(0x1bf)]=_0x5db98a(0x147),_0x577be1['uMrKT']=_0x5db98a(0x1e0),_0x577be1[_0x5db98a(0x12d)]='Authorization';const _0x677c60=_0x577be1,_0x48238e={};_0x48238e[_0x5db98a(0x1c4)]=_0x677c60['gOjab'],_0x48238e[_0x5db98a(0x1ed)]=_0x677c60[_0x5db98a(0x150)];const _0x1795b4=_0x48238e;return _0x193804&&process[_0x5db98a(0x1ee)][_0x5db98a(0x157)]&&(_0x1795b4[_0x677c60[_0x5db98a(0x12d)]]=_0x5db98a(0x1b7)+process['env'][_0x5db98a(0x157)]),_0x1795b4;},exports[a87_0x4e7e66(0x17e)]=_0x5d83c2=>{const _0x23071d=a87_0x4e7e66,_0x144c1f={};_0x144c1f[_0x23071d(0x1cb)]=_0x23071d(0x160);const _0x305e3d=_0x144c1f,_0x25415d=[],_0x299129=new RegExp(_0x305e3d[_0x23071d(0x1cb)],'i');return Object[_0x23071d(0x176)](_0x5d83c2)['filter'](_0x1f11e6=>_0x299129['test'](_0x1f11e6))['forEach'](_0x345f7d=>_0x25415d[_0x23071d(0x1c8)](_0x5d83c2[_0x345f7d])),_0x25415d;},exports[a87_0x4e7e66(0x12f)]=_0x549575=>{const _0x5903fc=a87_0x4e7e66,_0x526bf9=[],_0x56c445=_0x549575['customTag']||process[_0x5903fc(0x1ee)][_0x5903fc(0x113)];return _0x56c445&&_0x526bf9['push'](_0x56c445),_0x526bf9[_0x5903fc(0x1c8)](...exports[_0x5903fc(0x17e)](process['env'])),_0x526bf9[_0x5903fc(0x1c8)](...exports[_0x5903fc(0x17e)](_0x549575)),_0x526bf9;},exports[a87_0x4e7e66(0x17d)]=_0x5efc12=>{const _0x261184=a87_0x4e7e66;if(!_0x5efc12)return'';return _0x5efc12[_0x261184(0x134)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports['sleep']=(_0xd6fce2=0x64)=>new Promise(_0x14fcc0=>setTimeout(_0x14fcc0,_0xd6fce2));const getPlatformName=()=>{const _0x53d46=a87_0x4e7e66,_0x45e5d0={};_0x45e5d0[_0x53d46(0x14c)]=function(_0xd3ab2d,_0x471882){return _0xd3ab2d===_0x471882;},_0x45e5d0[_0x53d46(0x1f6)]=_0x53d46(0x13a),_0x45e5d0['BFJoi']='Windows',_0x45e5d0[_0x53d46(0x118)]=function(_0x4795e4,_0x5bbd03){return _0x4795e4===_0x5bbd03;},_0x45e5d0[_0x53d46(0x1a9)]=_0x53d46(0x135),_0x45e5d0[_0x53d46(0x11d)]=_0x53d46(0x177),_0x45e5d0['FtUhj']=function(_0x45d740,_0x22e07a){return _0x45d740===_0x22e07a;},_0x45e5d0['xWmxZ']=_0x53d46(0x1a5),_0x45e5d0[_0x53d46(0x16c)]=_0x53d46(0x1b9),_0x45e5d0[_0x53d46(0x1d0)]=_0x53d46(0x18b);const _0x2d8dca=_0x45e5d0;if(_0x2d8dca[_0x53d46(0x14c)](process[_0x53d46(0x111)],_0x2d8dca['kYyHB']))return _0x2d8dca['BFJoi'];if(_0x2d8dca['wYwRh'](process['platform'],_0x2d8dca[_0x53d46(0x1a9)]))return _0x2d8dca[_0x53d46(0x11d)];if(_0x2d8dca[_0x53d46(0x137)](process[_0x53d46(0x111)],_0x2d8dca[_0x53d46(0x16f)]))return _0x2d8dca['kRAse'];return _0x2d8dca['diLdA'];},getMacOSVersion=()=>{const _0x4c2c8a=a87_0x4e7e66,_0x1bdb1c={};_0x1bdb1c['xQPYW']=_0x4c2c8a(0x20a);const _0xfb21c9=_0x1bdb1c;return child_process[_0x4c2c8a(0x14a)](_0xfb21c9[_0x4c2c8a(0x114)])[_0x4c2c8a(0x109)]()[_0x4c2c8a(0x1d5)]();},getLinuxDetails=()=>{const _0x1e6df5={'qWgWA':function(_0x48bb1b,_0x5cba4d){return _0x48bb1b(_0x5cba4d);},'ZDtEv':function(_0xd232ce,_0x23a8f9){return _0xd232ce(_0x23a8f9);}};return new Promise((_0x38d772,_0x5f4634)=>{const _0x59aca9=a87_0x1bde;_0x1e6df5[_0x59aca9(0x141)](getos,(_0x2dfadd,_0x5f27c9)=>{const _0x4b0117=_0x59aca9;if(_0x2dfadd)return _0x1e6df5[_0x4b0117(0x18c)](_0x5f4634,_0x2dfadd);_0x1e6df5[_0x4b0117(0x18c)](_0x38d772,_0x5f27c9);});});};function a87_0x1bde(_0x2017d2,_0x5e9163){const _0x3b1196=a87_0x3b11();return a87_0x1bde=function(_0x1bde24,_0x2f162a){_0x1bde24=_0x1bde24-0x103;let _0x106665=_0x3b1196[_0x1bde24];return _0x106665;},a87_0x1bde(_0x2017d2,_0x5e9163);}exports[a87_0x4e7e66(0x1d9)]=async()=>{const _0x56025e=a87_0x4e7e66,_0x590d0b={'VOMXD':function(_0x5f2d70){return _0x5f2d70();},'jzqKZ':'OS\x20X','MLCYl':_0x56025e(0x1d7),'TuvZl':_0x56025e(0x19b),'lHYbX':function(_0x5b71cc){return _0x5b71cc();},'WRqWu':_0x56025e(0x1b9),'CraRE':function(_0x11e78a){return _0x11e78a();},'zVbSB':_0x56025e(0x12b)};let _0x366706=_0x590d0b[_0x56025e(0x1d8)](getPlatformName),_0x1b67de=os['release']()[_0x56025e(0x109)]();switch(_0x366706){case _0x590d0b['jzqKZ']:_0x1b67de=_0x590d0b[_0x56025e(0x1d8)](getMacOSVersion);break;case _0x590d0b[_0x56025e(0x13b)]:try{const _0xaede11=(await import(_0x590d0b['TuvZl']))[_0x56025e(0x175)];_0x1b67de=_0x590d0b['lHYbX'](_0xaede11);}catch(_0x100160){exports['debug'](_0x56025e(0x1f0)+_0x100160['toString']());}break;case _0x590d0b['WRqWu']:try{const _0x105411=await _0x590d0b[_0x56025e(0x1dc)](getLinuxDetails);_0x105411[_0x56025e(0x1be)]&&(_0x366706=_0x105411[_0x56025e(0x1be)]),_0x105411[_0x56025e(0x155)]&&(_0x1b67de=_0x105411[_0x56025e(0x155)][_0x56025e(0x109)]());}catch(_0x1bdb45){exports['debug'](_0x590d0b['zVbSB']);}break;default:break;}const _0x5461da={};return _0x5461da[_0x56025e(0x1ab)]=_0x366706,_0x5461da[_0x56025e(0x142)]=_0x1b67de,_0x5461da;},exports[a87_0x4e7e66(0x104)]=(_0x2b1d43,_0x4e68bb)=>{const _0x5d0938=a87_0x4e7e66,_0x4ba03d={};_0x4ba03d['UftEW']=function(_0x5455c8,_0x54021c){return _0x5455c8===_0x54021c;},_0x4ba03d[_0x5d0938(0x1e4)]=_0x5d0938(0x1ad),_0x4ba03d[_0x5d0938(0x205)]=function(_0x24373e,_0x30a223){return _0x24373e===_0x30a223;},_0x4ba03d[_0x5d0938(0x136)]='err';const _0x104c94=_0x4ba03d;if(!_0x2b1d43)return[];try{if(_0x104c94[_0x5d0938(0x123)](_0x4e68bb,_0x104c94[_0x5d0938(0x1e4)]))return _0x2b1d43[_0x5d0938(0x184)](_0x3b5531=>{const _0x329df5=_0x5d0938,{stack:_0x2b43d4,..._0x2316cc}=_0x3b5531,_0xcdf43a=Object[_0x329df5(0x176)](_0x2316cc)['map'](_0x11ac19=>{return _0x11ac19+':\x20'+_0x2316cc[_0x11ac19];}),_0xc7413c=_0x2b43d4?exports[_0x329df5(0x17d)](_0x2b43d4)['split'](/\r?\n/):[exports['removeAnsiColors'](_0x3b5531[_0x329df5(0x19c)])],_0x5abfa8={};return _0x5abfa8['backtrace']=_0xc7413c,_0x5abfa8[_0x329df5(0x1bc)]=_0xcdf43a,_0x5abfa8;});else{if(_0x104c94[_0x5d0938(0x205)](_0x4e68bb,_0x104c94[_0x5d0938(0x136)])){const _0x2c89c7=[],_0x369ffb=[];return Object[_0x5d0938(0x176)](_0x2b1d43)[_0x5d0938(0x163)](_0x2fb7fa=>{const _0x3afbea=_0x5d0938;try{_0x369ffb[_0x3afbea(0x1c8)](_0x2fb7fa+':\x20'+_0x2b1d43[_0x2fb7fa]);}catch(_0x587e48){exports['debug'](_0x3afbea(0x1cf)+_0x587e48[_0x3afbea(0x19c)]+_0x3afbea(0x151)+_0x587e48[_0x3afbea(0x1c7)]);}}),_0x2c89c7['push']({'backtrace':exports[_0x5d0938(0x17d)](_0x2b1d43['stack'])[_0x5d0938(0x153)](/\r?\n/),'expanded':_0x369ffb}),_0x2c89c7;}}return[];}catch(_0x344ca4){exports['debug'](_0x5d0938(0x1cf)+_0x344ca4['message']+_0x5d0938(0x151)+_0x344ca4[_0x5d0938(0x1c7)]);}return[];};class PathHelper{constructor(_0xa99743,_0x4a4063){const _0x125a5e=a87_0x4e7e66;this[_0x125a5e(0x1cd)]=_0xa99743,this[_0x125a5e(0x168)]=_0x4a4063;}['relativeTestFilePath'](_0x18862d){const _0x3d22de=a87_0x4e7e66,_0x1de405=this[_0x3d22de(0x1cd)]['cwd']||this[_0x3d22de(0x1cd)][_0x3d22de(0x197)];return path[_0x3d22de(0x169)](_0x1de405,_0x18862d);}['prefixTestPath'](_0x2fb2f2){const _0x31aed7=a87_0x4e7e66,_0x2b579b=this[_0x31aed7(0x1fa)](_0x2fb2f2);return this[_0x31aed7(0x168)]?path[_0x31aed7(0x1a2)](this[_0x31aed7(0x168)],_0x2b579b):_0x2b579b;}}exports[a87_0x4e7e66(0x1c1)]=PathHelper,exports[a87_0x4e7e66(0x1ba)]=(_0x5d60b1=!![])=>{const _0x1c6b09=a87_0x4e7e66,_0x4babfe={};_0x4babfe[_0x1c6b09(0x1b1)]=function(_0x4b309a,_0x59a4a1){return _0x4b309a===_0x59a4a1;},_0x4babfe[_0x1c6b09(0x1fb)]='X-BSTACK-TESTOPS',_0x4babfe[_0x1c6b09(0x1ea)]='true',_0x4babfe['JarNI']='HTTP',_0x4babfe[_0x1c6b09(0x1c3)]=_0x1c6b09(0x110),_0x4babfe[_0x1c6b09(0x204)]=_0x1c6b09(0x12a);const _0x4f55d9=_0x4babfe;requestSpy[_0x1c6b09(0x18f)]((_0x476087,_0x467196)=>{const _0x1424ae=_0x1c6b09;_0x467196&&!(_0x467196[_0x1424ae(0x203)]&&_0x4f55d9[_0x1424ae(0x1b1)](_0x467196[_0x1424ae(0x203)][_0x4f55d9[_0x1424ae(0x1fb)]],_0x4f55d9[_0x1424ae(0x1ea)]))&&(_0x467196['host']=_0x467196[_0x1424ae(0x1cc)],delete _0x467196['hostname'],_0x5d60b1&&process[_0x1424ae(0x12e)]('bs:addLog:'+process['pid'],{'timestamp':new Date()[_0x1424ae(0x112)](),'level':null,'message':null,'kind':_0x4f55d9[_0x1424ae(0x1d4)],'http_response':_0x467196})),_0x467196&&(constants['HUB_URL_REGEX'][_0x1424ae(0x1ad)](_0x467196[_0x1424ae(0x164)])||constants['ATS_HUB_URL_REGEX'][_0x1424ae(0x1ad)](_0x467196[_0x1424ae(0x164)]))?global[_0x1424ae(0x124)]=_0x4f55d9[_0x1424ae(0x1c3)]:global[_0x1424ae(0x124)]=_0x4f55d9['qmMrz'];});},exports[a87_0x4e7e66(0x1e2)]=()=>{const _0x342d6e=a87_0x4e7e66,_0x388e13={'NIfKT':function(_0x93f8ba,_0x51bee1){return _0x93f8ba(_0x51bee1);}};console={},Object[_0x342d6e(0x176)](consoleHolder)['forEach'](_0x4033c8=>{_0x388e13['NIfKT'](isFunction,consoleHolder[_0x4033c8])?console[_0x4033c8]=(..._0x2ceaff)=>{const _0x2d16d5=a87_0x1bde;try{!Object[_0x2d16d5(0x176)](BSTestOpsPatcher)[_0x2d16d5(0x186)](_0x4033c8)?consoleHolder[_0x4033c8](..._0x2ceaff):BSTestOpsPatcher[_0x4033c8](..._0x2ceaff);}catch(_0x4100b3){consoleHolder[_0x4033c8](..._0x2ceaff);}}:console[_0x4033c8]=consoleHolder[_0x4033c8];});},exports[a87_0x4e7e66(0x14f)]=()=>a87_0x4e7e66(0x202)+JSON[a87_0x4e7e66(0x19d)]({'action':a87_0x4e7e66(0x1b3),'arguments':{'data':'ObservabilitySync:'+Date[a87_0x4e7e66(0x16e)](),'level':'debug'}}),exports[a87_0x4e7e66(0x201)]=_0x420397=>{const _0x18ca61=a87_0x4e7e66,_0xbf033c={};_0xbf033c[_0x18ca61(0x1a4)]=function(_0x3e5a1a,_0x57a004){return _0x3e5a1a===_0x57a004;},_0xbf033c['agedO']=_0x18ca61(0x110),_0xbf033c['gpxTu']=_0x18ca61(0x166),_0xbf033c[_0x18ca61(0x1a0)]=_0x18ca61(0x1f5),_0xbf033c[_0x18ca61(0x1e3)]=function(_0x3857bb,_0x2dff5d){return _0x3857bb>_0x2dff5d;},_0xbf033c[_0x18ca61(0x1f1)]='app-automate',_0xbf033c[_0x18ca61(0x15d)]=_0x18ca61(0x1c9),_0xbf033c[_0x18ca61(0x178)]=_0x18ca61(0x11f),_0xbf033c[_0x18ca61(0x1b0)]=_0x18ca61(0x172),_0xbf033c[_0x18ca61(0x156)]='automate';const _0x45627=_0xbf033c;let _0x10433e=null;try{if(_0x45627[_0x18ca61(0x1a4)](global[_0x18ca61(0x124)],_0x45627[_0x18ca61(0x1ff)])){if(_0x420397[_0x45627[_0x18ca61(0x1f8)]]||_0x420397[_0x45627[_0x18ca61(0x1a0)]]||!bsSetupHelper[_0x18ca61(0x146)](global[_0x18ca61(0x188)])&&_0x45627[_0x18ca61(0x1e3)](global[_0x18ca61(0x188)][_0x18ca61(0x1d6)],0x0)&&(global[_0x18ca61(0x188)][0x0][_0x45627[_0x18ca61(0x1a0)]]||global[_0x18ca61(0x188)][0x0][_0x45627[_0x18ca61(0x1f8)]]))_0x10433e=_0x45627[_0x18ca61(0x1f1)];else _0x420397[_0x45627[_0x18ca61(0x15d)]]&&_0x420397[_0x45627[_0x18ca61(0x15d)]][_0x45627[_0x18ca61(0x178)]]?_0x10433e=_0x45627[_0x18ca61(0x1b0)]:_0x10433e=_0x45627['VaRTQ'];}}catch(_0x4ac320){exports[_0x18ca61(0x173)](_0x18ca61(0x1aa)+_0x4ac320);}return _0x10433e;},exports[a87_0x4e7e66(0x180)]=async(_0x2bb832,_0x4a3d3c,_0x3c9e8f=![])=>{const _0x539377=a87_0x4e7e66,_0x3e19d6={};_0x3e19d6[_0x539377(0x10d)]=function(_0x7db12f,_0x5863d5){return _0x7db12f===_0x5863d5;},_0x3e19d6[_0x539377(0x148)]=_0x539377(0x110),_0x3e19d6[_0x539377(0x13e)]='unknown_grid',_0x3e19d6[_0x539377(0x133)]=_0x539377(0x125);const _0x34c391=_0x3e19d6;try{const _0x1ea457=await _0x2bb832[_0x539377(0x192)](),_0x396666=await _0x2bb832[_0x539377(0x196)](),_0x1250b6={},_0x1f81f5=Object['fromEntries'](_0x396666[_0x539377(0x192)]()[_0x539377(0x13c)]),_0x580fdf={'product':exports[_0x539377(0x201)](_0x1f81f5),'capabilities':_0x1f81f5,'platform':_0x1ea457[_0x539377(0x200)](),'platform_version':bsSetupHelper['getPlatformVersion'](_0x34c391[_0x539377(0x10d)](global[_0x539377(0x124)],_0x34c391['pDlXc'])),'browser':_0x1ea457['getBrowserName'](),'browser_version':_0x1ea457[_0x539377(0x1d1)](),'session_id':_0x396666[_0x539377(0x159)]()};global[_0x539377(0x124)]?_0x1250b6[global[_0x539377(0x124)]]=_0x580fdf:_0x1250b6[_0x34c391[_0x539377(0x13e)]]=_0x580fdf;if(_0x3c9e8f)return _0x1250b6;process[_0x539377(0x12e)](_0x539377(0x19e)+process['pid'],{'timestamp':new Date()[_0x539377(0x112)](),'level':null,'message':null,'kind':_0x34c391[_0x539377(0x133)],'http_response':_0x1250b6,'uuid':_0x4a3d3c});}catch(_0x2a1247){exports[_0x539377(0x173)](_0x539377(0x116)+_0x2a1247);}},exports[a87_0x4e7e66(0x165)]=_0x5ba0fd=>{const _0x2feb0e=a87_0x4e7e66;return _0x5ba0fd&&_0x5ba0fd[_0x2feb0e(0x109)]()[_0x2feb0e(0x15a)](/browserstack internal helper hook/);};