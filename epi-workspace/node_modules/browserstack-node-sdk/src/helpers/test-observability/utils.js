const a130_0x35c295=a130_0x4e0d;(function(_0x31f290,_0x53f1ff){const _0x2620c5=a130_0x4e0d,_0xf3093c=_0x31f290();while(!![]){try{const _0x530de4=parseInt(_0x2620c5(0x116))/0x1+parseInt(_0x2620c5(0x211))/0x2*(-parseInt(_0x2620c5(0x160))/0x3)+-parseInt(_0x2620c5(0x1cd))/0x4*(parseInt(_0x2620c5(0x140))/0x5)+parseInt(_0x2620c5(0x1a3))/0x6+parseInt(_0x2620c5(0x185))/0x7*(parseInt(_0x2620c5(0x1b3))/0x8)+parseInt(_0x2620c5(0x14a))/0x9*(-parseInt(_0x2620c5(0x152))/0xa)+parseInt(_0x2620c5(0x1c8))/0xb;if(_0x530de4===_0x53f1ff)break;else _0xf3093c['push'](_0xf3093c['shift']());}catch(_0x34f104){_0xf3093c['push'](_0xf3093c['shift']());}}}(a130_0x3de7,0xd47f6));const fs=require('fs'),path=require(a130_0x35c295(0x166)),gitLastCommit=require('git-last-commit'),getRepoInfo=require(a130_0x35c295(0x16f)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require(a130_0x35c295(0x1df)),http=require(a130_0x35c295(0x1a1)),https=require(a130_0x35c295(0x1bc)),child_process=require(a130_0x35c295(0x15f)),getos=require(a130_0x35c295(0x188)),os=require('os'),logger=require('../logger')[a130_0x35c295(0x1de)],buildLogger=require(a130_0x35c295(0x11d))[a130_0x35c295(0x1c9)],bsSetupHelper=require(a130_0x35c295(0xfb)),requestSpy=require('../../helpers/request-spy'),constants=require(a130_0x35c295(0x16a)),logPatcher=require('../../bin/utils/logPatcher'),util=require(a130_0x35c295(0x142)),{fileLogger}=require('../logger'),PerformanceTester=require(a130_0x35c295(0x106)),{isFunction}=require(a130_0x35c295(0x1fd)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a130_0x35c295(0x1ca)),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require(a130_0x35c295(0x1af));exports[a130_0x35c295(0x198)]=_0x469ee8=>{const _0x50b297=a130_0x35c295;fileLogger['silly']('['+new Date()[_0x50b297(0x1cc)]()+_0x50b297(0x1aa)+constants[_0x50b297(0x117)]+_0x50b297(0x1ef)+_0x469ee8);},exports[a130_0x35c295(0x1d8)]=_0x44c036=>{const _0x1ea888=a130_0x35c295,_0x572cb5={};_0x572cb5[_0x1ea888(0x180)]=function(_0x3ca5a6,_0x3a8a82){return _0x3ca5a6===_0x3a8a82;},_0x572cb5[_0x1ea888(0x124)]=_0x1ea888(0x1c6);const _0xd0d8de=_0x572cb5;fileLogger[_0x1ea888(0x1d8)]('['+new Date()[_0x1ea888(0x1cc)]()+'][\x20'+constants[_0x1ea888(0x117)]+_0x1ea888(0x1ef)+_0x44c036),(_0xd0d8de[_0x1ea888(0x180)](process[_0x1ea888(0x162)][_0x1ea888(0x18a)],_0xd0d8de[_0x1ea888(0x124)])||_0xd0d8de[_0x1ea888(0x180)](process[_0x1ea888(0x162)][_0x1ea888(0x18a)],'1')||_0xd0d8de['rLRIM'](process[_0x1ea888(0x162)]['BROWSERSTACK_OBSERVABILITY_DEBUG'],_0xd0d8de[_0x1ea888(0x124)])||_0xd0d8de[_0x1ea888(0x180)](process[_0x1ea888(0x162)][_0x1ea888(0x20e)],'1'))&&consoleHolder['log']('\x0a['+new Date()[_0x1ea888(0x1cc)]()+'][\x20'+constants[_0x1ea888(0x117)]+_0x1ea888(0x1ef)+_0x44c036+'\x0a');};const a130_0x5f42f1={};a130_0x5f42f1[a130_0x35c295(0x171)]=!![],a130_0x5f42f1[a130_0x35c295(0x1b9)]=0xea60,a130_0x5f42f1[a130_0x35c295(0x1dd)]=0x2,a130_0x5f42f1[a130_0x35c295(0x1d1)]=0x2;const httpKeepAliveAgent=new http['Agent'](a130_0x5f42f1),a130_0x566a37={};a130_0x566a37['keepAlive']=!![],a130_0x566a37['timeout']=0xea60,a130_0x566a37[a130_0x35c295(0x1dd)]=0x2,a130_0x566a37[a130_0x35c295(0x1d1)]=0x2;function a130_0x3de7(){const _0x5c99d1=['\x20]\x20','YSDqG','JXmpY','DEyhy','nCGlT','MvxiN','TKQHk','SyzCm','srSVm','patchConsoleLogger','Windows','host','isUndefined','keys','lodash','turboscale','data','MOCHA','THVph','catch','O11yHashedID','Error\x20in\x20importing\x20windows-release\x20','default','rrZph','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','Agent','__cloud_provider___','bs:addLog:','rVyYB','isTestObservabilitySession','pid','BROWSERSTACK_OBSERVABILITY_DEBUG','windows-release','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','2766184snNmNM','prefixTestPath','turboScaleGridDetails','backtrace','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','getUserCredentials','nQlhw','@playwright/test','stack','../helper','sendPlatformDetails','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','Error\x20in\x20getting\x20Linux\x20Details','info','Unknown','codeceptjs','hostname','sXIgZ','mocha','LxnNv','../performance/performance-tester','measureWrapper','zamXc','\x20]\x20Build\x20Not\x20Found\x20%s','getPlatform','replace','OS\x20X','BS_TESTOPS_BUILD_HASHED_ID','wNTpT','BROWSERSTACK_TEST_OBSERVABILITY_YML','trim','prefix','printBuildLink','TMmZH','adKir','push','1131929rZrqTH','TEST_REPORTING_ANALYTICS','CUCUMBER','rnVmr','ywEZp','execSync','@cucumber/cucumber','../logger','getAccessKey','isArray','zcbrd','TPbTy','match','FwqVW','MaMKz','json','mDWZH','body','dist','PLAYWRIGHT','getSyncScript','TEST_PLATFORM','Uploading\x20trace\x20logs\x20to:\x20','getObservabilityLinkedProductName','QQMCd','ZFYHB','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','browserstack_executor:\x20','bs:addPlatformDetails:','map','getCustomTags','logs','XwMKq','ZMTDp','cusHm','customTag','SBFJQ','ATS_HUB_URL_REGEX','neMdk','extractValuesWithRegexKeyMatch','vGQRA','local_grid','25AcSZvZ','CODECEPT','util','getBrowserVersion','Tsdyy','blTXl','error','emit','config','\x20:\x20','4197132LORrCt','platform','annotate','relative','BROWSERSTACK_TEST_OBSERVABILITY','spy','JDwaE','formData','30ucMMtF','getCapabilities','TEST_REPORTING_BUILD_TAG','BuTwN','asyncAwaitNodeReq','/builds/','SSeBV','Content-Type','ARchn','HEUou','YaQru','CUSTOM_TAG','application/json','child_process','3OvOVRh','sSnbD','env','relativeTestFilePath','ObservabilitySync:','shouldReRunObservabilityTests','path','YAZzH','release','SeMYS','../../bin/utils/constants','getPlatformDetails','jest','BROWSERSTACK_CONFIG_FILE_PATH','test','git-repo-info','getPlatformVersion','keepAlive','sBJpE','getSession','wXsuz','szEXU','appium:app','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','LACvm','getPackageVersion','HTTP','browserstack','removeAnsiColors','getBrowserName','undefined','length','rLRIM','wXfpJ','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','Qreht','automate','7fIPCAZ','BROWSERSTACK_RERUN_TESTS','AssertionError','getos','bstack:options','BROWSERSTACK_TEST_REPORTING_DEBUG','platformVersion','BoABP','parse','includes','failureData','filter','vTvJv','../../bin/v2/browserstackCLI','cGBQX','pmrYd','test_run_uuid','oIHKo','getFrameworkVersion','trace','fileName','kUtia','message','BROWSERSTACK_TESTHUB_JWT','jfWnv','AXoPA','readConfig','capabilities','http','X-BSTACK-TESTOPS','8132514oiiPuE','rkpqi','TPQnA','now','getUserName','HUB_URL_REGEX','thWGj','][\x20','PathHelper','uTUmW','iwOjO','url','../../../src/bin/utils/constants','FetsR','qOytW','rCjKC','4253912pylmKD','toString','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','OYJDQ','O11Y_URL','nodeRequest','timeout','Ntjzd','zGvzf','https','MFPDT','win32','^CUSTOM_TAG_\x5cd+$','object','app','mwXKd','toJSON','platformName','EWrVv','true','LJULQ','7606984AQbHrP','buildLogger','../performance/constants','getBrowserStackConfig','toISOString','46484NiRnyd','map_','darwin','null','maxTotalSockets','buildTag','zNjAh','split','getFailureType','fiVsO','Failed\x20to\x20determine\x20product\x20linked\x20to\x20','debug','nhcsG','MaKqi','Bearer\x20','CODECEPT_CUCUMBER','maxSockets','winstonLogger','./constants','headers','[%s][\x20','ERoyq','nYCoh','modifyReqForTraceUpload','LogCreated','dRzVf','uIvxj','Linux','unknown_grid','format','sleep','SCqTA','0|1|3|2|5|4','forEach'];a130_0x3de7=function(){return _0x5c99d1;};return a130_0x3de7();}const httpsKeepAliveAgent=new https[(a130_0x35c295(0x208))](a130_0x566a37),a130_0x5f9aea={};a130_0x5f9aea[a130_0x35c295(0x171)]=!![],a130_0x5f9aea[a130_0x35c295(0x1b9)]=0xea60,a130_0x5f9aea[a130_0x35c295(0x1dd)]=0x2,a130_0x5f9aea[a130_0x35c295(0x1d1)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a130_0x35c295(0x208))](a130_0x5f9aea),a130_0x53bd2a={};a130_0x53bd2a['keepAlive']=!![],a130_0x53bd2a['timeout']=0xea60,a130_0x53bd2a[a130_0x35c295(0x1dd)]=0x2,a130_0x53bd2a[a130_0x35c295(0x1d1)]=0x2;const httpsScreenshotsKeepAliveAgent=new https['Agent'](a130_0x53bd2a);exports[a130_0x35c295(0x165)]=()=>{const _0x395f06=a130_0x35c295,_0xcbdcda={};_0xcbdcda[_0x395f06(0x19d)]=function(_0x2d3fc2,_0x503c3a){return _0x2d3fc2!==_0x503c3a;},_0xcbdcda[_0x395f06(0x1ad)]=_0x395f06(0x1d0);const _0x475631=_0xcbdcda;return process[_0x395f06(0x162)][_0x395f06(0x186)]&&_0x475631[_0x395f06(0x19d)](process[_0x395f06(0x162)][_0x395f06(0x186)],_0x475631[_0x395f06(0x1ad)])?!![]:![];},exports[a130_0x35c295(0x20c)]=()=>{const _0x48e4d0=a130_0x35c295,_0xada3f9={};_0xada3f9['neMdk']=function(_0x1ec7ac,_0x1852dc){return _0x1ec7ac===_0x1852dc;},_0xada3f9['zcbrd']=_0x48e4d0(0x1c6),_0xada3f9[_0x48e4d0(0x145)]=function(_0x291503,_0x46ada2){return _0x291503===_0x46ada2;};const _0x3fdfa6=_0xada3f9;let _0x3efddf=!![];return process['env'][_0x48e4d0(0x10f)]&&(_0x3efddf=_0x3fdfa6[_0x48e4d0(0x13c)](process[_0x48e4d0(0x162)][_0x48e4d0(0x10f)],_0x3fdfa6[_0x48e4d0(0x120)])),process[_0x48e4d0(0x162)][_0x48e4d0(0x14e)]&&(_0x3efddf=_0x3fdfa6[_0x48e4d0(0x145)](process[_0x48e4d0(0x162)][_0x48e4d0(0x14e)],_0x3fdfa6[_0x48e4d0(0x120)])),process['env']['BROWSERSTACK_TEST_REPORTING']&&(_0x3efddf=_0x3fdfa6[_0x48e4d0(0x13c)](process[_0x48e4d0(0x162)]['BROWSERSTACK_TEST_REPORTING'],_0x3fdfa6[_0x48e4d0(0x120)])),_0x3efddf;},exports['parseFileNames']=_0x4471fa=>{const _0x5c04c1=a130_0x35c295;if(bsSetupHelper[_0x5c04c1(0x1fb)](_0x4471fa))return undefined;try{return _0x4471fa[_0x5c04c1(0x110)]()[_0x5c04c1(0x1d4)](',');}catch(_0x229d87){return undefined;}},exports[a130_0x35c295(0x112)]=()=>{const _0x4f6bef=a130_0x35c295,_0x1a12e0={'BoABP':function(_0x1809f0,_0x5aa6b7){return _0x1809f0(_0x5aa6b7);},'wXsuz':_0x4f6bef(0x192),'ywEZp':function(_0x44bf64,_0x4126b6){return _0x44bf64!==_0x4126b6;},'TPbTy':_0x4f6bef(0x1d0),'MBmfZ':_0x4f6bef(0x17e)};return PerformanceTester[_0x4f6bef(0x107)](PerformanceO11yEvents['PRINT_BUILDLINK'],async()=>{const _0x4cc67=_0x4f6bef;try{const _0x250ba1=_0x1a12e0[_0x4cc67(0x18c)](require,_0x1a12e0[_0x4cc67(0x174)]);if(_0x250ba1[_0x4cc67(0x203)]){const _0x2d79eb='Visit\x20'+O11Y_URL+_0x4cc67(0x157)+_0x250ba1[_0x4cc67(0x203)]+'\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a';buildLogger['info'](_0x2d79eb);return;}if(process[_0x4cc67(0x162)][_0x4cc67(0x10d)]&&_0x1a12e0[_0x4cc67(0x11a)](process[_0x4cc67(0x162)][_0x4cc67(0x10d)],_0x1a12e0[_0x4cc67(0x121)])&&_0x1a12e0[_0x4cc67(0x11a)](process[_0x4cc67(0x162)]['BS_TESTOPS_BUILD_HASHED_ID'],_0x1a12e0['MBmfZ'])){const _0x519a73='Visit\x20'+constants[_0x4cc67(0x1b7)]+_0x4cc67(0x157)+process['env']['BS_TESTOPS_BUILD_HASHED_ID']+_0x4cc67(0x1b5);buildLogger[_0x4cc67(0xff)](_0x519a73);}}catch(_0x375f92){logger['error'](util[_0x4cc67(0x1ea)](_0x4cc67(0x1e1)+constants[_0x4cc67(0x117)]+_0x4cc67(0x109),new Date()[_0x4cc67(0x1cc)](),_0x375f92[_0x4cc67(0xfa)]||_0x375f92[_0x4cc67(0x19b)]||_0x375f92));}})();},exports[a130_0x35c295(0x1d5)]=_0x5144c4=>{const _0x9d432a=a130_0x35c295,_0x31c5e5={};_0x31c5e5['XwMKq']=_0x9d432a(0x187),_0x31c5e5[_0x9d432a(0x20b)]='UnhandledError';const _0x213a25=_0x31c5e5;if(!_0x5144c4)return null;return _0x5144c4[_0x9d432a(0x1b4)]()['match'](/AssertionError/)?_0x213a25[_0x9d432a(0x136)]:_0x213a25[_0x9d432a(0x20b)];},exports[a130_0x35c295(0x197)]=_0x4166f0=>{const _0x400141=a130_0x35c295,_0x15330b={};_0x15330b[_0x400141(0x144)]=_0x400141(0x104),_0x15330b[_0x400141(0x1a4)]=_0x400141(0xf9),_0x15330b[_0x400141(0x1b6)]=_0x400141(0x101),_0x15330b[_0x400141(0x12f)]=_0x400141(0x16c),_0x15330b[_0x400141(0x196)]=_0x400141(0x11c);const _0x1440c5=_0x15330b;let _0x5bdb90=null;switch(_0x4166f0){case FRAMEWORKS[_0x400141(0x200)]:_0x5bdb90=bsSetupHelper['getPackageVersion'](_0x1440c5[_0x400141(0x144)]);break;case FRAMEWORKS[_0x400141(0x129)]:_0x5bdb90=bsSetupHelper[_0x400141(0x179)](_0x1440c5['rkpqi']);break;case FRAMEWORKS[_0x400141(0x141)]:case FRAMEWORKS[_0x400141(0x1dc)]:_0x5bdb90=bsSetupHelper[_0x400141(0x179)](_0x1440c5[_0x400141(0x1b6)]);break;case FRAMEWORKS['JEST']:_0x5bdb90=bsSetupHelper[_0x400141(0x179)](_0x1440c5[_0x400141(0x12f)]);break;case FRAMEWORKS[_0x400141(0x118)]:_0x5bdb90=bsSetupHelper['getPackageVersion'](_0x1440c5[_0x400141(0x196)]);break;default:break;}return _0x5bdb90;},exports[a130_0x35c295(0x1cb)]=_0x4a3a2c=>{const _0x355c17=a130_0x35c295;let _0xe39a1c=null;switch(_0x4a3a2c){case FRAMEWORKS[_0x355c17(0x129)]:_0xe39a1c=process[_0x355c17(0x162)][_0x355c17(0x16d)];break;}if(!_0xe39a1c)return;return bsSetupHelper[_0x355c17(0x19f)](_0xe39a1c,![]);},exports[a130_0x35c295(0x216)]=_0x25bf64=>{const _0x2bfb8b=a130_0x35c295;return{'username':bsSetupHelper[_0x2bfb8b(0x1a7)](_0x25bf64),'accessKey':bsSetupHelper[_0x2bfb8b(0x11e)](_0x25bf64)};},exports[a130_0x35c295(0x1e4)]=(_0x27dbd9,_0x2ca057)=>{const _0x109906=a130_0x35c295,_0x4f3bdb={};_0x4f3bdb[_0x109906(0x103)]=_0x109906(0x1ed),_0x4f3bdb[_0x109906(0x167)]=_0x109906(0x1e5),_0x4f3bdb[_0x109906(0x217)]='TEST_ATTACHMENT';const _0x4b7b53=_0x4f3bdb,_0x3476e1=_0x4b7b53[_0x109906(0x103)][_0x109906(0x1d4)]('|');let _0x5afbae=0x0;while(!![]){switch(_0x3476e1[_0x5afbae++]){case'0':if(!_0x27dbd9['body']||!Array[_0x109906(0x11f)](_0x27dbd9[_0x109906(0x127)]))return;continue;case'1':if(!_0x27dbd9[_0x109906(0x127)][0x0]||!_0x27dbd9[_0x109906(0x127)][0x0][_0x109906(0x135)]||!_0x27dbd9[_0x109906(0x127)][0x0][_0x109906(0x135)][_0x109906(0x17f)])return;continue;case'2':delete _0x27dbd9[_0x109906(0x127)];continue;case'3':_0x27dbd9[_0x109906(0x151)]={'data':_0x27dbd9['body'][0x0][_0x109906(0x135)][0x0][_0x109906(0x1ff)],'test_run_uuid':_0x27dbd9[_0x109906(0x127)][0x0][_0x109906(0x135)][0x0][_0x109906(0x195)],'event_type':_0x4b7b53['YAZzH'],'kind':_0x4b7b53[_0x109906(0x217)],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x109906(0x1cc)](),'fileName':_0x27dbd9[_0x109906(0x127)][0x0]['logs'][0x0][_0x109906(0x199)]};continue;case'4':delete _0x2ca057[_0x109906(0x1e0)];continue;case'5':delete _0x27dbd9[_0x109906(0x125)];continue;}break;}},exports[a130_0x35c295(0x156)]=async(_0x2a12f1,_0x2b9eb5,_0x1bf678,_0x45f975,_0x405351=!![])=>{const _0x59339b=a130_0x35c295,_0x5b35ba={};_0x5b35ba[_0x59339b(0x1f6)]=function(_0x43de5,_0x276322){return _0x43de5===_0x276322;},_0x5b35ba[_0x59339b(0x114)]=_0x59339b(0x159),_0x5b35ba['cGBQX']=_0x59339b(0x15e),_0x5b35ba[_0x59339b(0x15c)]=_0x59339b(0x1bc),_0x5b35ba[_0x59339b(0x13e)]=function(_0x51a41a,_0x2bbb98){return _0x51a41a===_0x2bbb98;},_0x5b35ba[_0x59339b(0x137)]=function(_0x12099e,_0x33bf9f){return _0x12099e!==_0x33bf9f;},_0x5b35ba[_0x59339b(0x1a5)]=function(_0x2c2b89,_0x1772de){return _0x2c2b89!==_0x1772de;},_0x5b35ba['BuTwN']=_0x59339b(0x1c0),_0x5b35ba[_0x59339b(0x10e)]=_0x59339b(0xfd);const _0x39dd3f=_0x5b35ba,_0x512f2e={..._0x45f975,...{'method':_0x2a12f1,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x2b9eb5,'body':_0x1bf678,'json':_0x39dd3f['SyzCm'](_0x45f975[_0x59339b(0x1e0)][_0x39dd3f['adKir']],_0x39dd3f[_0x59339b(0x193)]),'agent':API_URL[_0x59339b(0x18e)](_0x39dd3f[_0x59339b(0x15c)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x39dd3f[_0x59339b(0x13e)](_0x2b9eb5,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x512f2e['agent']=API_URL[_0x59339b(0x18e)](_0x39dd3f[_0x59339b(0x15c)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports['modifyReqForTraceUpload'](_0x512f2e,_0x45f975),logger['debug'](_0x59339b(0x12c)+_0x512f2e[_0x59339b(0x1ae)]));try{const {statusCode:_0x4944ac,body:_0x35d094}=await bsSetupHelper[_0x59339b(0x1b8)](_0x2a12f1,_0x2b9eb5,_0x512f2e,_0x45f975,_0x512f2e[_0x59339b(0x1ae)]);if(_0x39dd3f[_0x59339b(0x137)](_0x4944ac,0xc8))return _0x35d094?_0x35d094:_0x59339b(0x177)+_0x4944ac;let _0x2cc50e=_0x35d094;if(_0x405351)try{_0x39dd3f[_0x59339b(0x1a5)](typeof _0x35d094,_0x39dd3f[_0x59339b(0x155)])&&(_0x2cc50e=JSON[_0x59339b(0x18d)](_0x35d094));}catch(_0xc42b2c){logger[_0x59339b(0x146)](_0x39dd3f[_0x59339b(0x10e)],_0x35d094,util['format'](_0xc42b2c));}const _0x55b598={};return _0x55b598['data']=_0x2cc50e,_0x55b598;}catch(_0xf0571){logger[_0x59339b(0x146)](_0x59339b(0x182)+util[_0x59339b(0x1ea)](_0xf0571));throw _0xf0571;}},exports[a130_0x35c295(0x1b8)]=(_0x2e14d3,_0x2dba5b,_0xbd5bc7,_0x4903b7,_0x3dfd22=!![])=>{const _0x323313=a130_0x35c295,_0x57b93b={'qOytW':function(_0x3201c3,_0x390689){return _0x3201c3!==_0x390689;},'QQMCd':function(_0x2bb3f2,_0x43943b){return _0x2bb3f2(_0x43943b);},'kQeyI':_0x323313(0x1c0),'srSVm':_0x323313(0x210),'Qreht':function(_0x54a3c4,_0x46d2f9){return _0x54a3c4(_0x46d2f9);},'rnVmr':function(_0x94ad3f,_0x5d3919){return _0x94ad3f===_0x5d3919;},'JzDxM':_0x323313(0x159),'GHzWz':_0x323313(0x15e),'HEUou':'https'};return new Promise((_0x556cce,_0x262acf)=>{const _0x189b93=_0x323313,_0x134310={'sBJpE':function(_0x14d649,_0xa18922){return _0x57b93b['qOytW'](_0x14d649,_0xa18922);},'YSDqG':function(_0x3a6994,_0x3398b3){const _0x4ce5ca=a130_0x4e0d;return _0x57b93b[_0x4ce5ca(0x12e)](_0x3a6994,_0x3398b3);},'rCjKC':function(_0x39b19d,_0x525fcc){const _0x2948d5=a130_0x4e0d;return _0x57b93b[_0x2948d5(0x1b1)](_0x39b19d,_0x525fcc);},'JoJvP':_0x57b93b['kQeyI'],'FwqVW':_0x57b93b[_0x189b93(0x1f7)],'Ntjzd':function(_0x3bc445,_0x45ae5f){const _0x2ce757=_0x189b93;return _0x57b93b[_0x2ce757(0x183)](_0x3bc445,_0x45ae5f);}},_0x2d004b={..._0x4903b7,...{'method':_0x2e14d3,'url':API_URL+'/'+_0x2dba5b,'body':_0xbd5bc7,'json':_0x57b93b[_0x189b93(0x119)](_0x4903b7[_0x189b93(0x1e0)][_0x57b93b['JzDxM']],_0x57b93b['GHzWz']),'agent':API_URL[_0x189b93(0x18e)](_0x57b93b[_0x189b93(0x15b)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x57b93b[_0x189b93(0x119)](_0x2dba5b,SCREENSHOT_ENDPOINT)&&(_0x2d004b['agent']=API_URL[_0x189b93(0x18e)](_0x57b93b[_0x189b93(0x15b)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x189b93(0x1b8)](_0x2e14d3,_0x2dba5b,_0x2d004b,_0x4903b7,API_URL)['then'](({statusCode:_0x32fc4a,body:_0x4d1869})=>{const _0xeccd88=_0x189b93;if(_0x134310[_0xeccd88(0x172)](_0x32fc4a,0xc8))_0x134310[_0xeccd88(0x1f0)](_0x262acf,_0x4d1869?_0x4d1869:_0xeccd88(0x177)+_0x32fc4a);else{if(_0x3dfd22)try{_0x134310[_0xeccd88(0x1b2)](typeof _0x4d1869,_0x134310['JoJvP'])&&(_0x4d1869=JSON[_0xeccd88(0x18d)](_0x4d1869));}catch(_0x57724f){_0x134310['YSDqG'](_0x262acf,_0x134310[_0xeccd88(0x123)]);return;}const _0x4548f6={};_0x4548f6[_0xeccd88(0x1ff)]=_0x4d1869,_0x134310[_0xeccd88(0x1ba)](_0x556cce,_0x4548f6);}})[_0x189b93(0x202)](_0x149860=>{const _0x288bad=_0x189b93;_0x149860&&_0x134310[_0x288bad(0x1f0)](_0x262acf,_0x149860);});});},exports['getBuildTags']=_0x431810=>{const _0x330386=a130_0x35c295;if(process[_0x330386(0x162)]['TEST_REPORTING_BUILD_TAG'])return process[_0x330386(0x162)][_0x330386(0x154)][_0x330386(0x1d4)](',');if(process['env']['TEST_OBSERVABILITY_BUILD_TAG'])return process[_0x330386(0x162)]['TEST_OBSERVABILITY_BUILD_TAG'][_0x330386(0x1d4)](',');if(_0x431810[_0x330386(0x1d2)])return _0x431810[_0x330386(0x1d2)];return[];},exports['getDefaultHeaders']=(_0x57490f=!![])=>{const _0x5d005c=a130_0x35c295,_0xd64491={};_0xd64491[_0x5d005c(0x1f4)]=_0x5d005c(0x15e),_0xd64491[_0x5d005c(0x1ec)]=_0x5d005c(0x1c6),_0xd64491[_0x5d005c(0x1c2)]='Authorization';const _0x2d570a=_0xd64491,_0x2e2cf8={};_0x2e2cf8[_0x5d005c(0x159)]=_0x2d570a[_0x5d005c(0x1f4)],_0x2e2cf8[_0x5d005c(0x1a2)]=_0x2d570a[_0x5d005c(0x1ec)];const _0x1d98fe=_0x2e2cf8;return _0x57490f&&process[_0x5d005c(0x162)][_0x5d005c(0x19c)]&&(_0x1d98fe[_0x2d570a[_0x5d005c(0x1c2)]]=_0x5d005c(0x1db)+process['env'][_0x5d005c(0x19c)]),_0x1d98fe;},exports[a130_0x35c295(0x13d)]=_0x4861da=>{const _0x332b40=a130_0x35c295,_0x44d359={};_0x44d359[_0x332b40(0x206)]=_0x332b40(0x1bf);const _0x157e4f=_0x44d359,_0x37c43d=[],_0x287bd3=new RegExp(_0x157e4f[_0x332b40(0x206)],'i');return Object['keys'](_0x4861da)[_0x332b40(0x190)](_0x3d2724=>_0x287bd3[_0x332b40(0x16e)](_0x3d2724))[_0x332b40(0x1ee)](_0x1b8dec=>_0x37c43d['push'](_0x4861da[_0x1b8dec])),_0x37c43d;},exports[a130_0x35c295(0x134)]=_0x47b13b=>{const _0x2518b4=a130_0x35c295,_0x3ebd09=[],_0xe16797=_0x47b13b[_0x2518b4(0x139)]||process[_0x2518b4(0x162)][_0x2518b4(0x15d)];return _0xe16797&&_0x3ebd09[_0x2518b4(0x115)](_0xe16797),_0x3ebd09['push'](...exports[_0x2518b4(0x13d)](process[_0x2518b4(0x162)])),_0x3ebd09[_0x2518b4(0x115)](...exports[_0x2518b4(0x13d)](_0x47b13b)),_0x3ebd09;},exports[a130_0x35c295(0x17c)]=_0x14151d=>{const _0x17c10c=a130_0x35c295;if(!_0x14151d)return'';return _0x14151d[_0x17c10c(0x10b)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a130_0x35c295(0x1eb)]=(_0x6cf8a7=0x64)=>new Promise(_0x26b051=>setTimeout(_0x26b051,_0x6cf8a7));const getPlatformName=()=>{const _0x20d708=a130_0x35c295,_0x5d9e16={};_0x5d9e16['zamXc']=function(_0x1e56d5,_0x4a70d0){return _0x1e56d5===_0x4a70d0;},_0x5d9e16[_0x20d708(0x1e6)]=_0x20d708(0x1be),_0x5d9e16[_0x20d708(0x1e3)]='Windows',_0x5d9e16[_0x20d708(0x1e7)]=_0x20d708(0x1cf),_0x5d9e16[_0x20d708(0x1f3)]=_0x20d708(0x10c),_0x5d9e16[_0x20d708(0x1b0)]=function(_0x17fdc8,_0x3e1b21){return _0x17fdc8===_0x3e1b21;},_0x5d9e16[_0x20d708(0x178)]='linux',_0x5d9e16['zGvzf']=_0x20d708(0x1e8),_0x5d9e16[_0x20d708(0x1f1)]=_0x20d708(0x100);const _0x237bf8=_0x5d9e16;if(_0x237bf8['zamXc'](process['platform'],_0x237bf8['dRzVf']))return _0x237bf8['nYCoh'];if(_0x237bf8[_0x20d708(0x108)](process[_0x20d708(0x14b)],_0x237bf8[_0x20d708(0x1e7)]))return _0x237bf8[_0x20d708(0x1f3)];if(_0x237bf8[_0x20d708(0x1b0)](process[_0x20d708(0x14b)],_0x237bf8['LACvm']))return _0x237bf8[_0x20d708(0x1bb)];return _0x237bf8['JXmpY'];},getMacOSVersion=()=>{const _0x370a8f=a130_0x35c295,_0x4df40c={};_0x4df40c[_0x370a8f(0x15a)]=_0x370a8f(0x130);const _0x4fb749=_0x4df40c;return child_process[_0x370a8f(0x11b)](_0x4fb749[_0x370a8f(0x15a)])[_0x370a8f(0x1b4)]()[_0x370a8f(0x110)]();},getLinuxDetails=()=>{const _0x5bab0d={'LJULQ':function(_0xa26894,_0x12980d){return _0xa26894(_0x12980d);}};return new Promise((_0x339197,_0x20813b)=>{const _0xb5c192=a130_0x4e0d,_0x14514b={'vTvJv':function(_0x3a63a6,_0x577553){return _0x5bab0d['LJULQ'](_0x3a63a6,_0x577553);}};_0x5bab0d[_0xb5c192(0x1c7)](getos,(_0x52bcd0,_0x1fd25a)=>{const _0x3f3a59=_0xb5c192;if(_0x52bcd0)return _0x14514b[_0x3f3a59(0x191)](_0x20813b,_0x52bcd0);_0x14514b[_0x3f3a59(0x191)](_0x339197,_0x1fd25a);});});};exports[a130_0x35c295(0x16b)]=async()=>{const _0x1a404d=a130_0x35c295,_0x2829a6={'LxnNv':function(_0x13b8cc){return _0x13b8cc();},'gftMZ':_0x1a404d(0x10c),'xNRmb':_0x1a404d(0x1f9),'JDwaE':_0x1a404d(0x20f),'mYlcH':_0x1a404d(0x1e8),'JyBFM':function(_0x40233c){return _0x40233c();},'nhcsG':_0x1a404d(0xfe)};let _0x3cdb59=_0x2829a6['LxnNv'](getPlatformName),_0x13d817=os[_0x1a404d(0x168)]()['toString']();switch(_0x3cdb59){case _0x2829a6['gftMZ']:_0x13d817=_0x2829a6['LxnNv'](getMacOSVersion);break;case _0x2829a6['xNRmb']:try{const _0x91f40f=(await import(_0x2829a6[_0x1a404d(0x150)]))[_0x1a404d(0x205)];_0x13d817=_0x2829a6[_0x1a404d(0x105)](_0x91f40f);}catch(_0x599160){exports[_0x1a404d(0x1d8)](_0x1a404d(0x204)+_0x599160[_0x1a404d(0x1b4)]());}break;case _0x2829a6['mYlcH']:try{const _0x19cb23=await _0x2829a6['JyBFM'](getLinuxDetails);_0x19cb23['dist']&&(_0x3cdb59=_0x19cb23[_0x1a404d(0x128)]),_0x19cb23[_0x1a404d(0x168)]&&(_0x13d817=_0x19cb23[_0x1a404d(0x168)][_0x1a404d(0x1b4)]());}catch(_0xb19fb1){exports['debug'](_0x2829a6[_0x1a404d(0x1d9)]);}break;default:break;}const _0x152af4={};return _0x152af4[_0x1a404d(0x1c4)]=_0x3cdb59,_0x152af4[_0x1a404d(0x18b)]=_0x13d817,_0x152af4;},exports[a130_0x35c295(0x18f)]=(_0xc32743,_0x52dad1)=>{const _0x3b65de=a130_0x35c295,_0x4e1985={};_0x4e1985[_0x3b65de(0x1d3)]=function(_0x1e4a93,_0x1f803f){return _0x1e4a93===_0x1f803f;},_0x4e1985[_0x3b65de(0x19e)]=_0x3b65de(0x16e),_0x4e1985[_0x3b65de(0x1f2)]='err';const _0x127e68=_0x4e1985;if(!_0xc32743)return[];try{if(_0x127e68['zNjAh'](_0x52dad1,_0x127e68[_0x3b65de(0x19e)]))return _0xc32743[_0x3b65de(0x133)](_0x413210=>{const _0x3302bd=_0x3b65de,{stack:_0x517b63,..._0x6f6d2c}=_0x413210,_0x4dba52=Object[_0x3302bd(0x1fc)](_0x6f6d2c)['map'](_0x187fcf=>{return _0x187fcf+':\x20'+_0x6f6d2c[_0x187fcf];}),_0x468fe4=_0x517b63?exports[_0x3302bd(0x17c)](_0x517b63)[_0x3302bd(0x1d4)](/\r?\n/):[exports[_0x3302bd(0x17c)](_0x413210['message'])],_0x4841a8={};return _0x4841a8[_0x3302bd(0x214)]=_0x468fe4,_0x4841a8['expanded']=_0x4dba52,_0x4841a8;});else{if(_0x127e68[_0x3b65de(0x1d3)](_0x52dad1,_0x127e68['DEyhy'])){const _0x5ba2b4=[],_0x52aea7=[];return Object[_0x3b65de(0x1fc)](_0xc32743)['forEach'](_0xcbdfac=>{const _0x37c5ce=_0x3b65de;try{_0x52aea7[_0x37c5ce(0x115)](_0xcbdfac+':\x20'+_0xc32743[_0xcbdfac]);}catch(_0x3de140){exports[_0x37c5ce(0x1d8)](_0x37c5ce(0x207)+_0x3de140[_0x37c5ce(0x19b)]+'\x20:\x20'+_0x3de140[_0x37c5ce(0x214)]);}}),_0x5ba2b4[_0x3b65de(0x115)]({'backtrace':exports['removeAnsiColors'](_0xc32743[_0x3b65de(0xfa)])['split'](/\r?\n/),'expanded':_0x52aea7}),_0x5ba2b4;}}return[];}catch(_0x736210){exports['debug'](_0x3b65de(0x207)+_0x736210[_0x3b65de(0x19b)]+_0x3b65de(0x149)+_0x736210[_0x3b65de(0x214)]);}return[];};class PathHelper{constructor(_0x124ad3,_0x261de7){this['config']=_0x124ad3,this['prefix']=_0x261de7;}[a130_0x35c295(0x163)](_0x23f8b8){const _0x5c95fd=a130_0x35c295,_0x1fe5e4=this[_0x5c95fd(0x148)]['cwd']||this[_0x5c95fd(0x148)]['rootDir'];return path[_0x5c95fd(0x14d)](_0x1fe5e4,_0x23f8b8);}[a130_0x35c295(0x212)](_0x43b317){const _0x49bdc5=a130_0x35c295,_0x147332=this[_0x49bdc5(0x163)](_0x43b317);return this[_0x49bdc5(0x111)]?path['join'](this[_0x49bdc5(0x111)],_0x147332):_0x147332;}}function a130_0x4e0d(_0x5e893f,_0x3f841c){const _0x3de702=a130_0x3de7();return a130_0x4e0d=function(_0x4e0d49,_0x3a0f16){_0x4e0d49=_0x4e0d49-0xf9;let _0x2a380b=_0x3de702[_0x4e0d49];return _0x2a380b;},a130_0x4e0d(_0x5e893f,_0x3f841c);}exports[a130_0x35c295(0x1ab)]=PathHelper,exports['addRequestSpy']=(_0x15bb01=!![])=>{const _0xad43a6=a130_0x35c295,_0x3d607e={};_0x3d607e[_0xad43a6(0x169)]=function(_0x21e9a6,_0x260edb){return _0x21e9a6===_0x260edb;},_0x3d607e['TKQHk']='X-BSTACK-TESTOPS',_0x3d607e[_0xad43a6(0x181)]=_0xad43a6(0x1c6),_0x3d607e[_0xad43a6(0x161)]=_0xad43a6(0x17a),_0x3d607e[_0xad43a6(0x126)]=_0xad43a6(0x17b),_0x3d607e[_0xad43a6(0x19a)]=_0xad43a6(0x13f);const _0x55d350=_0x3d607e;requestSpy[_0xad43a6(0x14f)]((_0x5c9115,_0x448f1c)=>{const _0x509515=_0xad43a6;_0x448f1c&&!(_0x448f1c['headers']&&_0x55d350[_0x509515(0x169)](_0x448f1c[_0x509515(0x1e0)][_0x55d350[_0x509515(0x1f5)]],_0x55d350[_0x509515(0x181)]))&&(_0x448f1c[_0x509515(0x1fa)]=_0x448f1c[_0x509515(0x102)],delete _0x448f1c[_0x509515(0x102)],_0x15bb01&&process[_0x509515(0x147)](_0x509515(0x20a)+process[_0x509515(0x20d)],{'timestamp':new Date()[_0x509515(0x1cc)](),'level':null,'message':null,'kind':_0x55d350['sSnbD'],'http_response':_0x448f1c})),_0x448f1c&&(constants[_0x509515(0x1a8)][_0x509515(0x16e)](_0x448f1c[_0x509515(0x1fa)])||constants[_0x509515(0x13b)][_0x509515(0x16e)](_0x448f1c[_0x509515(0x1fa)]))?global[_0x509515(0x209)]=_0x55d350[_0x509515(0x126)]:global[_0x509515(0x209)]=_0x55d350[_0x509515(0x19a)];});},exports[a130_0x35c295(0x1f8)]=()=>{const _0x23bfbc=a130_0x35c295,_0x488b49={'BmCNg':function(_0x36c176,_0x46bd5c){return _0x36c176(_0x46bd5c);}};console={},Object['keys'](consoleHolder)[_0x23bfbc(0x1ee)](_0x33d104=>{_0x488b49['BmCNg'](isFunction,consoleHolder[_0x33d104])?console[_0x33d104]=(..._0x3c1a45)=>{const _0x34a6b1=a130_0x4e0d;try{!Object[_0x34a6b1(0x1fc)](BSTestOpsPatcher)[_0x34a6b1(0x18e)](_0x33d104)?consoleHolder[_0x33d104](..._0x3c1a45):BSTestOpsPatcher[_0x33d104](..._0x3c1a45);}catch(_0x50cd15){consoleHolder[_0x33d104](..._0x3c1a45);}}:console[_0x33d104]=consoleHolder[_0x33d104];});},exports[a130_0x35c295(0x12a)]=()=>a130_0x35c295(0x131)+JSON['stringify']({'action':a130_0x35c295(0x14c),'arguments':{'data':a130_0x35c295(0x164)+Date[a130_0x35c295(0x1a6)](),'level':a130_0x35c295(0x1d8)}}),exports[a130_0x35c295(0x12d)]=_0x3a1ae8=>{const _0x570d73=a130_0x35c295,_0x216570={};_0x216570[_0x570d73(0x13a)]=function(_0x31e2bc,_0x58a0bf){return _0x31e2bc===_0x58a0bf;},_0x216570[_0x570d73(0x1c5)]=_0x570d73(0x17b),_0x216570[_0x570d73(0x1ac)]=_0x570d73(0x176),_0x216570[_0x570d73(0x1d6)]=_0x570d73(0x1c1),_0x216570[_0x570d73(0x1bd)]=function(_0x13ba45,_0x52ad59){return _0x13ba45>_0x52ad59;},_0x216570[_0x570d73(0x175)]='app-automate',_0x216570[_0x570d73(0x1da)]=_0x570d73(0x189),_0x216570[_0x570d73(0x138)]=_0x570d73(0x213),_0x216570['pmrYd']=_0x570d73(0x1fe),_0x216570[_0x570d73(0x1e2)]=_0x570d73(0x184);const _0x556c3e=_0x216570;let _0x3ca9d3=null;try{if(_0x556c3e['SBFJQ'](global['__cloud_provider___'],_0x556c3e['EWrVv'])){if(_0x3a1ae8[_0x556c3e['uTUmW']]||_0x3a1ae8[_0x556c3e[_0x570d73(0x1d6)]]||!bsSetupHelper[_0x570d73(0x1fb)](global[_0x570d73(0x1a0)])&&_0x556c3e[_0x570d73(0x1bd)](global[_0x570d73(0x1a0)][_0x570d73(0x17f)],0x0)&&(global[_0x570d73(0x1a0)][0x0][_0x556c3e[_0x570d73(0x1d6)]]||global[_0x570d73(0x1a0)][0x0][_0x556c3e[_0x570d73(0x1ac)]]))_0x3ca9d3=_0x556c3e['szEXU'];else _0x3a1ae8[_0x556c3e[_0x570d73(0x1da)]]&&_0x3a1ae8[_0x556c3e['MaKqi']][_0x556c3e[_0x570d73(0x138)]]?_0x3ca9d3=_0x556c3e[_0x570d73(0x194)]:_0x3ca9d3=_0x556c3e[_0x570d73(0x1e2)];}}catch(_0x1c901e){exports['debug'](_0x570d73(0x1d7)+constants[_0x570d73(0x117)]+'\x20test\x20instance\x20:\x20'+_0x1c901e);}return _0x3ca9d3;},exports[a130_0x35c295(0xfc)]=async(_0x44124a,_0x2743df,_0x622d32=![])=>{const _0x24c0f2=a130_0x35c295,_0xa13746={};_0xa13746[_0x24c0f2(0x158)]=function(_0x37321e,_0x2d1b99){return _0x37321e===_0x2d1b99;},_0xa13746[_0x24c0f2(0x113)]=_0x24c0f2(0x17b),_0xa13746[_0x24c0f2(0x201)]=_0x24c0f2(0x1e9),_0xa13746[_0x24c0f2(0x1a9)]=_0x24c0f2(0x12b);const _0x475052=_0xa13746;try{const _0x12932e=await _0x44124a['getCapabilities'](),_0x76cbd6=await _0x44124a[_0x24c0f2(0x173)](),_0x3d3e0a={},_0x1cdd58=Object['fromEntries'](_0x76cbd6[_0x24c0f2(0x153)]()[_0x24c0f2(0x1ce)]),_0x26e6f4={'product':exports[_0x24c0f2(0x12d)](_0x1cdd58),'capabilities':_0x1cdd58,'platform':_0x12932e[_0x24c0f2(0x10a)](),'platform_version':bsSetupHelper[_0x24c0f2(0x170)](_0x475052['SSeBV'](global[_0x24c0f2(0x209)],_0x475052['TMmZH'])),'browser':_0x12932e[_0x24c0f2(0x17d)](),'browser_version':_0x12932e[_0x24c0f2(0x143)](),'session_id':_0x76cbd6[_0x24c0f2(0x1c3)]()};global['__cloud_provider___']?_0x3d3e0a[global['__cloud_provider___']]=_0x26e6f4:_0x3d3e0a[_0x475052[_0x24c0f2(0x201)]]=_0x26e6f4;if(_0x622d32)return _0x3d3e0a;process[_0x24c0f2(0x147)](_0x24c0f2(0x132)+process[_0x24c0f2(0x20d)],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x475052['thWGj'],'http_response':_0x3d3e0a,'uuid':_0x2743df});}catch(_0x627e41){exports[_0x24c0f2(0x1d8)](_0x24c0f2(0x215)+_0x627e41);}},exports['isInternalHook']=_0xa3393a=>{const _0x5e2e3b=a130_0x35c295;return _0xa3393a&&_0xa3393a[_0x5e2e3b(0x1b4)]()[_0x5e2e3b(0x122)](/browserstack internal helper hook/);};