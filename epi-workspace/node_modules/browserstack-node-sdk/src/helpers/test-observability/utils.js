const a117_0x3545b4=a117_0x3454;(function(_0x2dedd3,_0x352559){const _0x1d1807=a117_0x3454,_0x178799=_0x2dedd3();while(!![]){try{const _0x57ace6=parseInt(_0x1d1807(0x14b))/0x1+parseInt(_0x1d1807(0x165))/0x2+-parseInt(_0x1d1807(0x135))/0x3+-parseInt(_0x1d1807(0xaf))/0x4*(parseInt(_0x1d1807(0x168))/0x5)+parseInt(_0x1d1807(0x16c))/0x6*(-parseInt(_0x1d1807(0x104))/0x7)+parseInt(_0x1d1807(0xfb))/0x8+-parseInt(_0x1d1807(0x156))/0x9*(-parseInt(_0x1d1807(0x14a))/0xa);if(_0x57ace6===_0x352559)break;else _0x178799['push'](_0x178799['shift']());}catch(_0x4eb167){_0x178799['push'](_0x178799['shift']());}}}(a117_0xd0f2,0xe365b));function a117_0xd0f2(){const _0x2595ee=['env','format','stringify','modifyReqForTraceUpload','catch','appium:app','AssertionError','BTnAh','uIZyo','mRkHc','Fhlmd','lodash','okFvv','headers','AMiPj','unknown_grid','TEST_OBSERVABILITY_BUILD_TAG','app','message','YFykv','agent','execSync','getSyncScript','XuvNQ','push','Error\x20in\x20importing\x20windows-release\x20','yayni','GFXLP','O11Y_URL','maxSockets','getBrowserVersion','isTestObservabilitySession','BUSWT','sDyim','forEach','Agent','browserstack','TEST_ATTACHMENT','RMTay','match','url','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','../../bin/utils/constants','nodeRequest','test','4188520QPfccP','sendPlatformDetails','SGkDv','BROWSERSTACK_TEST_OBSERVABILITY','QHBzM','yGCoU','platform','LogCreated','host','5049436TGTNsD','keys','win32','HTTP','backtrace','ydayo','PRINT_BUILDLINK','UEbLg','BROWSERSTACK_TEST_OBSERVABILITY_YML','hwEQR','gHyIP','llEGn','iAmCI','toISOString','][\x20OBSERVABILITY\x20]\x20','hcaIi','X-BSTACK-TESTOPS','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','qbOFR','__cloud_provider___','oIhiT','body','Content-Type','timeout','UnhandledError','SpJmx','toString','HUB_URL_REGEX','YluRn','ccmrn','../../bin/utils/logPatcher','/builds/','getCustomTags','relativeTestFilePath','XsxLh','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','platformName','Error\x20in\x20getting\x20Linux\x20Details','@cucumber/cucumber','aThMC','turboScaleGridDetails','\x20:\x20','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','prefixTestPath','oQXZK','cZtxY','expanded','dLpQi','fileName','295851VNTXmF','DqutA','IQTRA','DwTzy','linux','./constants','measureWrapper','json','getPackageVersion','mocha','trace','test_run_uuid','Linux','default','BROWSERSTACK_TESTHUB_JWT','uApji','error','BROWSERSTACK_CONFIG_FILE_PATH','pid','UeOwn','parse','27260YltURP','111202QSJlmE','Windows','uljsE','git-last-commit','clScC','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','fyhQi','https','UFRGb','ATS_HUB_URL_REGEX','8199tDBHCu','PathHelper','true','config','join','uGhpV','maxTotalSockets','[%s][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found\x20%s','CUCUMBER','TRGjV','aPoXV','hostname','wXwWl','app-automate','undefined','706934VuVobn','debug','eLXLC','40skVCir','turboscale','uUNOX','split','12RYhNOQ','RpRIh','vFzCp','nnlir','capabilities','isUndefined','bUZHB','customTag','getDefaultHeaders','now','filter','getPlatformDetails','isInternalHook','platformVersion','emit','ZSXjY','getPlatform','getos','util','rootDir','silly','child_process','sHPmJ','CzhIN','PLAYWRIGHT','browserstack_executor:\x20','err','O11yHashedID','git-repo-info','HwSYQ','QKXaG','includes','object','VoTzk','lnUKm','getSession','isArray','ZLRPL','logs','BS_TESTOPS_BUILD_HASHED_ID','../../../src/bin/utils/constants','parseFileNames','../logger','pSeVD','jnevt','2|5|1|4|3|0','getFrameworkVersion','qOwLG','mQZyK','OS\x20X','TEST_PLATFORM','tiUWr','yKUSb','Authorization','application/json','hGySO','ZyPHi','winstonLogger','nEKjP','qdnps','keepAlive','ObservabilitySync:','AihCj','info','cwd','aVjVl','log','length','extractValuesWithRegexKeyMatch','formData','release','DLaEI','annotate','BROWSERSTACK_OBSERVABILITY_DEBUG','jest','null','DtECg','dist','stack','499444PrRQwV','asyncAwaitNodeReq','getCapabilities','sleep','prefix','^CUSTOM_TAG_\x5cd+$','trim','getBrowserStackConfig','replace','removeAnsiColors','NugSn','XehpJ','../helper','../../bin/v2/browserstackCLI','BROWSERSTACK_RERUN_TESTS','vOwHj','spy','JTWFT','CODECEPT','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','wtGKq','data','FsTod','BkYqQ','Scxex','Visit\x20','NwOQw','mjQbI','../../helpers/request-spy','cWFGc','NuDLZ'];a117_0xd0f2=function(){return _0x2595ee;};return a117_0xd0f2();}const fs=require('fs'),path=require('path'),gitLastCommit=require(a117_0x3545b4(0x14e)),getRepoInfo=require(a117_0x3545b4(0x7c)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require(a117_0x3545b4(0x13a)),http=require('http'),https=require('https'),child_process=require(a117_0x3545b4(0x181)),getos=require(a117_0x3545b4(0x17d)),os=require('os'),logger=require(a117_0x3545b4(0x8a))[a117_0x3545b4(0x99)],bsSetupHelper=require(a117_0x3545b4(0xbb)),requestSpy=require(a117_0x3545b4(0xcb)),constants=require(a117_0x3545b4(0xf8)),logPatcher=require(a117_0x3545b4(0x122)),util=require(a117_0x3545b4(0x17e)),{fileLogger}=require(a117_0x3545b4(0x8a)),PerformanceTester=require('../performance/performance-tester'),{isFunction}=require(a117_0x3545b4(0xd9)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require('../performance/constants'),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require(a117_0x3545b4(0x88));exports[a117_0x3545b4(0x13f)]=_0x4ce5ca=>{const _0x5f4f1c=a117_0x3545b4;fileLogger[_0x5f4f1c(0x180)]('['+new Date()[_0x5f4f1c(0x111)]()+_0x5f4f1c(0x112)+_0x4ce5ca);},exports['debug']=_0x3727e4=>{const _0x407a00=a117_0x3545b4,_0x2265a5={};_0x2265a5[_0x407a00(0xd8)]=function(_0x2e9917,_0x28ae62){return _0x2e9917===_0x28ae62;},_0x2265a5['yKUSb']=_0x407a00(0x158);const _0x44520f=_0x2265a5;fileLogger['debug']('['+new Date()[_0x407a00(0x111)]()+_0x407a00(0x112)+_0x3727e4),(_0x44520f['Fhlmd'](process[_0x407a00(0xce)][_0x407a00(0xa9)],_0x44520f[_0x407a00(0x94)])||_0x44520f['Fhlmd'](process['env'][_0x407a00(0xa9)],'1'))&&consoleHolder[_0x407a00(0xa2)]('\x0a['+new Date()[_0x407a00(0x111)]()+_0x407a00(0x112)+_0x3727e4+'\x0a');};const a117_0x5cefe1={};a117_0x5cefe1[a117_0x3545b4(0x9c)]=!![],a117_0x5cefe1[a117_0x3545b4(0x11b)]=0xea60,a117_0x5cefe1[a117_0x3545b4(0xeb)]=0x2,a117_0x5cefe1['maxTotalSockets']=0x2;const httpKeepAliveAgent=new http[(a117_0x3545b4(0xf1))](a117_0x5cefe1),a117_0x4da9cd={};a117_0x4da9cd[a117_0x3545b4(0x9c)]=!![],a117_0x4da9cd[a117_0x3545b4(0x11b)]=0xea60,a117_0x4da9cd[a117_0x3545b4(0xeb)]=0x2,a117_0x4da9cd['maxTotalSockets']=0x2;const httpsKeepAliveAgent=new https[(a117_0x3545b4(0xf1))](a117_0x4da9cd),a117_0x3d512f={};a117_0x3d512f['keepAlive']=!![],a117_0x3d512f[a117_0x3545b4(0x11b)]=0xea60,a117_0x3d512f[a117_0x3545b4(0xeb)]=0x2,a117_0x3d512f[a117_0x3545b4(0x15c)]=0x2;const httpScreenshotsKeepAliveAgent=new http['Agent'](a117_0x3d512f),a117_0x46babe={};a117_0x46babe['keepAlive']=!![],a117_0x46babe['timeout']=0xea60,a117_0x46babe[a117_0x3545b4(0xeb)]=0x2,a117_0x46babe[a117_0x3545b4(0x15c)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a117_0x3545b4(0xf1))](a117_0x46babe);exports['shouldReRunObservabilityTests']=()=>{const _0x39b088=a117_0x3545b4,_0xbaea5b={};_0xbaea5b[_0x39b088(0x90)]=function(_0x121048,_0x3c5d74){return _0x121048!==_0x3c5d74;},_0xbaea5b[_0x39b088(0xc9)]=_0x39b088(0xab);const _0x250909=_0xbaea5b;return process[_0x39b088(0xce)]['BROWSERSTACK_RERUN_TESTS']&&_0x250909[_0x39b088(0x90)](process[_0x39b088(0xce)][_0x39b088(0xbd)],_0x250909['NwOQw'])?!![]:![];},exports[a117_0x3545b4(0xed)]=()=>{const _0x3032bb=a117_0x3545b4,_0x45108c={};_0x45108c[_0x3032bb(0xe1)]=function(_0x258a5c,_0x55295d){return _0x258a5c===_0x55295d;},_0x45108c[_0x3032bb(0x152)]=_0x3032bb(0x158),_0x45108c[_0x3032bb(0x133)]=function(_0x445f6b,_0xa1540c){return _0x445f6b===_0xa1540c;};const _0x2f6aa2=_0x45108c;let _0x3f9dce=!![];return process[_0x3032bb(0xce)][_0x3032bb(0x10c)]&&(_0x3f9dce=_0x2f6aa2[_0x3032bb(0xe1)](process['env'][_0x3032bb(0x10c)],_0x2f6aa2[_0x3032bb(0x152)])),process[_0x3032bb(0xce)][_0x3032bb(0xfe)]&&(_0x3f9dce=_0x2f6aa2[_0x3032bb(0x133)](process[_0x3032bb(0xce)][_0x3032bb(0xfe)],_0x2f6aa2[_0x3032bb(0x152)])),_0x3f9dce;},exports[a117_0x3545b4(0x89)]=_0x28dc49=>{const _0x12ebd3=a117_0x3545b4;if(bsSetupHelper['isUndefined'](_0x28dc49))return undefined;try{return _0x28dc49[_0x12ebd3(0xb5)]()[_0x12ebd3(0x16b)](',');}catch(_0xa6fdb3){return undefined;}},exports['printBuildLink']=()=>{const _0x4a83d2=a117_0x3545b4,_0x54ffe4={'aPoXV':function(_0x50647f,_0x106188){return _0x50647f(_0x106188);},'IQTRA':_0x4a83d2(0xbc),'JTWFT':function(_0x477e8a,_0x310b24){return _0x477e8a!==_0x310b24;},'uApji':'null','XsxLh':_0x4a83d2(0x164),'uGhpV':_0x4a83d2(0x15d)};return PerformanceTester[_0x4a83d2(0x13b)](PerformanceO11yEvents[_0x4a83d2(0x10a)],async()=>{const _0x3f162c=_0x4a83d2;try{const _0x49cd5e=_0x54ffe4[_0x3f162c(0x160)](require,_0x54ffe4[_0x3f162c(0x137)]);if(_0x49cd5e[_0x3f162c(0x7b)]){logger['info'](_0x3f162c(0xc8)+O11Y_URL+_0x3f162c(0x123)+_0x49cd5e['O11yHashedID']+'\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a');return;}process[_0x3f162c(0xce)][_0x3f162c(0x87)]&&_0x54ffe4[_0x3f162c(0xc0)](process[_0x3f162c(0xce)][_0x3f162c(0x87)],_0x54ffe4[_0x3f162c(0x144)])&&_0x54ffe4[_0x3f162c(0xc0)](process[_0x3f162c(0xce)][_0x3f162c(0x87)],_0x54ffe4[_0x3f162c(0x126)])&&logger[_0x3f162c(0x9f)](_0x3f162c(0xc8)+constants[_0x3f162c(0xea)]+'/builds/'+process[_0x3f162c(0xce)]['BS_TESTOPS_BUILD_HASHED_ID']+_0x3f162c(0x150));}catch(_0x2f4dc6){logger[_0x3f162c(0x145)](util[_0x3f162c(0xcf)](_0x54ffe4[_0x3f162c(0x15b)],new Date()[_0x3f162c(0x111)](),_0x2f4dc6[_0x3f162c(0xae)]||_0x2f4dc6[_0x3f162c(0xe0)]||_0x2f4dc6));}})();},exports['getFailureType']=_0x576412=>{const _0xe1f86d=a117_0x3545b4,_0x35757b={};_0x35757b[_0xe1f86d(0x148)]=_0xe1f86d(0xd4),_0x35757b[_0xe1f86d(0x182)]=_0xe1f86d(0x11c);const _0x513969=_0x35757b;if(!_0x576412)return null;return _0x576412[_0xe1f86d(0x11e)]()['match'](/AssertionError/)?_0x513969[_0xe1f86d(0x148)]:_0x513969[_0xe1f86d(0x182)];},exports[a117_0x3545b4(0x8e)]=_0x598a39=>{const _0x1324d3=a117_0x3545b4,_0x3f34c9={};_0x3f34c9[_0x1324d3(0x121)]=_0x1324d3(0x13e),_0x3f34c9[_0x1324d3(0x113)]='@playwright/test',_0x3f34c9[_0x1324d3(0xca)]='codeceptjs',_0x3f34c9['BTnAh']=_0x1324d3(0xaa),_0x3f34c9[_0x1324d3(0x172)]=_0x1324d3(0x12a);const _0x1016b3=_0x3f34c9;let _0x1a3ae0=null;switch(_0x598a39){case FRAMEWORKS['MOCHA']:_0x1a3ae0=bsSetupHelper[_0x1324d3(0x13d)](_0x1016b3['ccmrn']);break;case FRAMEWORKS['PLAYWRIGHT']:_0x1a3ae0=bsSetupHelper[_0x1324d3(0x13d)](_0x1016b3[_0x1324d3(0x113)]);break;case FRAMEWORKS[_0x1324d3(0xc1)]:case FRAMEWORKS['CODECEPT_CUCUMBER']:_0x1a3ae0=bsSetupHelper[_0x1324d3(0x13d)](_0x1016b3[_0x1324d3(0xca)]);break;case FRAMEWORKS['JEST']:_0x1a3ae0=bsSetupHelper[_0x1324d3(0x13d)](_0x1016b3[_0x1324d3(0xd5)]);break;case FRAMEWORKS[_0x1324d3(0x15e)]:_0x1a3ae0=bsSetupHelper[_0x1324d3(0x13d)](_0x1016b3[_0x1324d3(0x172)]);break;default:break;}return _0x1a3ae0;},exports[a117_0x3545b4(0xb6)]=_0x2d6ac9=>{const _0x166fd5=a117_0x3545b4;let _0x568918=null;switch(_0x2d6ac9){case FRAMEWORKS[_0x166fd5(0x184)]:_0x568918=process['env'][_0x166fd5(0x146)];break;}if(!_0x568918)return;return bsSetupHelper['readConfig'](_0x568918,![]);},exports['getUserCredentials']=_0x1542bb=>{return{'username':bsSetupHelper['getUserName'](_0x1542bb),'accessKey':bsSetupHelper['getAccessKey'](_0x1542bb)};},exports[a117_0x3545b4(0xd1)]=(_0x3dc4a1,_0x5d26ba)=>{const _0x23974e=a117_0x3545b4,_0x52fad7={};_0x52fad7[_0x23974e(0xb9)]=_0x23974e(0x8d),_0x52fad7[_0x23974e(0xff)]=_0x23974e(0x102),_0x52fad7[_0x23974e(0x109)]=_0x23974e(0xf3);const _0x442fde=_0x52fad7,_0x2d36ca=_0x442fde['NugSn'][_0x23974e(0x16b)]('|');let _0x5c11ff=0x0;while(!![]){switch(_0x2d36ca[_0x5c11ff++]){case'0':delete _0x5d26ba['headers'];continue;case'1':_0x3dc4a1[_0x23974e(0xa5)]={'data':_0x3dc4a1[_0x23974e(0x119)][0x0][_0x23974e(0x86)][0x0]['data'],'test_run_uuid':_0x3dc4a1[_0x23974e(0x119)][0x0][_0x23974e(0x86)][0x0][_0x23974e(0x140)],'event_type':_0x442fde[_0x23974e(0xff)],'kind':_0x442fde[_0x23974e(0x109)],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x23974e(0x111)](),'fileName':_0x3dc4a1[_0x23974e(0x119)][0x0]['logs'][0x0][_0x23974e(0x134)]};continue;case'2':if(!_0x3dc4a1[_0x23974e(0x119)]||!Array[_0x23974e(0x84)](_0x3dc4a1[_0x23974e(0x119)]))return;continue;case'3':delete _0x3dc4a1[_0x23974e(0x13c)];continue;case'4':delete _0x3dc4a1['body'];continue;case'5':if(!_0x3dc4a1[_0x23974e(0x119)][0x0]||!_0x3dc4a1[_0x23974e(0x119)][0x0][_0x23974e(0x86)]||!_0x3dc4a1['body'][0x0]['logs'][_0x23974e(0xa3)])return;continue;}break;}},exports[a117_0x3545b4(0xb0)]=async(_0x19dffd,_0x189bdb,_0x4ca208,_0x1d63f1,_0xdbafad=!![])=>{const _0x17ca97=a117_0x3545b4,_0x1c1cb9={};_0x1c1cb9['YluRn']=function(_0x3cfef4,_0x3b4129){return _0x3cfef4===_0x3b4129;},_0x1c1cb9['HwSYQ']=_0x17ca97(0x11a),_0x1c1cb9[_0x17ca97(0xef)]=_0x17ca97(0x96),_0x1c1cb9[_0x17ca97(0xbe)]=_0x17ca97(0x153),_0x1c1cb9[_0x17ca97(0xdc)]=function(_0x5dd364,_0x3b7c73){return _0x5dd364===_0x3b7c73;},_0x1c1cb9[_0x17ca97(0xcd)]=function(_0x2f68a1,_0x431637){return _0x2f68a1!==_0x431637;},_0x1c1cb9[_0x17ca97(0xe8)]=function(_0x3476bd,_0x4888bc){return _0x3476bd!==_0x4888bc;},_0x1c1cb9[_0x17ca97(0x14d)]=_0x17ca97(0x80),_0x1c1cb9[_0x17ca97(0x8c)]=_0x17ca97(0x12e);const _0x5c2ebb=_0x1c1cb9,_0x40484d={..._0x1d63f1,...{'method':_0x19dffd,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x189bdb,'body':_0x4ca208,'json':_0x5c2ebb[_0x17ca97(0x120)](_0x1d63f1[_0x17ca97(0xdb)][_0x5c2ebb[_0x17ca97(0x7d)]],_0x5c2ebb[_0x17ca97(0xef)]),'agent':API_URL[_0x17ca97(0x7f)](_0x5c2ebb[_0x17ca97(0xbe)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x5c2ebb['AMiPj'](_0x189bdb,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x40484d[_0x17ca97(0xe2)]=API_URL[_0x17ca97(0x7f)](_0x5c2ebb[_0x17ca97(0xbe)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports['modifyReqForTraceUpload'](_0x40484d,_0x1d63f1),logger[_0x17ca97(0x166)]('Uploading\x20trace\x20logs\x20to:\x20'+_0x40484d[_0x17ca97(0xf6)]));try{const {statusCode:_0x153fbf,body:_0x3b5438}=await bsSetupHelper['nodeRequest'](_0x19dffd,_0x189bdb,_0x40484d,_0x1d63f1,_0x40484d[_0x17ca97(0xf6)]);if(_0x5c2ebb[_0x17ca97(0xcd)](_0x153fbf,0xc8))return _0x3b5438?_0x3b5438:'Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20'+_0x153fbf;let _0x12f075=_0x3b5438;if(_0xdbafad)try{_0x5c2ebb['yayni'](typeof _0x3b5438,_0x5c2ebb[_0x17ca97(0x14d)])&&(_0x12f075=JSON['parse'](_0x3b5438));}catch(_0x43fa67){logger['error'](_0x5c2ebb[_0x17ca97(0x8c)],_0x3b5438,util['format'](_0x43fa67));}const _0x1c73bf={};return _0x1c73bf[_0x17ca97(0xc4)]=_0x12f075,_0x1c73bf;}catch(_0x417031){logger[_0x17ca97(0x145)](_0x17ca97(0x151)+util[_0x17ca97(0xcf)](_0x417031));throw _0x417031;}},exports['nodeRequest']=(_0x24ba86,_0x481c4d,_0xc7821,_0x27fd15,_0x54f154=!![])=>{const _0x49420a=a117_0x3545b4,_0x1f23c3={'AihCj':function(_0x5c81c2,_0x4e7fc9){return _0x5c81c2!==_0x4e7fc9;},'CzhIN':function(_0x3beef5,_0x865812){return _0x3beef5(_0x865812);},'tiUWr':function(_0x153ca9,_0x1a9a6a){return _0x153ca9!==_0x1a9a6a;},'yCDxJ':'object','iAmCI':function(_0x4149df,_0x43a028){return _0x4149df(_0x43a028);},'lnUKm':'Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','DLaEI':function(_0x32f4de,_0x502f6f){return _0x32f4de(_0x502f6f);},'clScC':function(_0x171057,_0x4555b4){return _0x171057===_0x4555b4;},'yGCoU':_0x49420a(0x11a),'pSeVD':_0x49420a(0x96),'aVjVl':_0x49420a(0x153),'wtGKq':function(_0xb52566,_0x44cc65){return _0xb52566===_0x44cc65;}};return new Promise((_0x5d88c2,_0x4bba87)=>{const _0x2c083d=_0x49420a,_0x21aec0={'UEbLg':function(_0x4162e0,_0xfa1983){const _0x4f424f=a117_0x3454;return _0x1f23c3[_0x4f424f(0xa7)](_0x4162e0,_0xfa1983);}},_0x4b56fe={..._0x27fd15,...{'method':_0x24ba86,'url':API_URL+'/'+_0x481c4d,'body':_0xc7821,'json':_0x1f23c3[_0x2c083d(0x14f)](_0x27fd15[_0x2c083d(0xdb)][_0x1f23c3[_0x2c083d(0x100)]],_0x1f23c3[_0x2c083d(0x8b)]),'agent':API_URL[_0x2c083d(0x7f)](_0x1f23c3[_0x2c083d(0xa1)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x1f23c3[_0x2c083d(0xc3)](_0x481c4d,SCREENSHOT_ENDPOINT)&&(_0x4b56fe[_0x2c083d(0xe2)]=API_URL[_0x2c083d(0x7f)](_0x1f23c3[_0x2c083d(0xa1)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x2c083d(0xf9)](_0x24ba86,_0x481c4d,_0x4b56fe,_0x27fd15,API_URL)['then'](({statusCode:_0x517da8,body:_0xcefa80})=>{const _0x28c1e1=_0x2c083d;if(_0x1f23c3[_0x28c1e1(0x9e)](_0x517da8,0xc8))_0x1f23c3[_0x28c1e1(0x183)](_0x4bba87,_0xcefa80?_0xcefa80:_0x28c1e1(0x127)+_0x517da8);else{if(_0x54f154)try{_0x1f23c3[_0x28c1e1(0x93)](typeof _0xcefa80,_0x1f23c3['yCDxJ'])&&(_0xcefa80=JSON[_0x28c1e1(0x149)](_0xcefa80));}catch(_0x52f6a2){_0x1f23c3[_0x28c1e1(0x110)](_0x4bba87,_0x1f23c3[_0x28c1e1(0x82)]);return;}const _0x2ac998={};_0x2ac998[_0x28c1e1(0xc4)]=_0xcefa80,_0x1f23c3[_0x28c1e1(0x183)](_0x5d88c2,_0x2ac998);}})[_0x2c083d(0xd2)](_0x50400a=>{const _0x27a080=_0x2c083d;_0x50400a&&_0x21aec0[_0x27a080(0x10b)](_0x4bba87,_0x50400a);});});},exports['getBuildTags']=_0xdfede3=>{const _0x5238c0=a117_0x3545b4;if(process[_0x5238c0(0xce)][_0x5238c0(0xde)])return process['env'][_0x5238c0(0xde)]['split'](',');if(_0xdfede3['buildTag'])return _0xdfede3['buildTag'];return[];},exports[a117_0x3545b4(0x174)]=(_0x25c03f=!![])=>{const _0x3ea6a7=a117_0x3545b4,_0x54a1f4={};_0x54a1f4[_0x3ea6a7(0xba)]=_0x3ea6a7(0x96),_0x54a1f4[_0x3ea6a7(0xfd)]='true',_0x54a1f4[_0x3ea6a7(0xc6)]=_0x3ea6a7(0x95);const _0x261ee7=_0x54a1f4,_0x3a1235={};_0x3a1235[_0x3ea6a7(0x11a)]=_0x261ee7[_0x3ea6a7(0xba)],_0x3a1235[_0x3ea6a7(0x114)]=_0x261ee7[_0x3ea6a7(0xfd)];const _0x22c234=_0x3a1235;return _0x25c03f&&process['env'][_0x3ea6a7(0x143)]&&(_0x22c234[_0x261ee7[_0x3ea6a7(0xc6)]]='Bearer\x20'+process['env'][_0x3ea6a7(0x143)]),_0x22c234;},exports['extractValuesWithRegexKeyMatch']=_0x1037db=>{const _0xd03e65=a117_0x3545b4,_0x275f68={};_0x275f68['DwTzy']=_0xd03e65(0xb4);const _0x5d17d5=_0x275f68,_0x4ca3e0=[],_0x3049c9=new RegExp(_0x5d17d5[_0xd03e65(0x138)],'i');return Object[_0xd03e65(0x105)](_0x1037db)[_0xd03e65(0x176)](_0xa1c2a=>_0x3049c9[_0xd03e65(0xfa)](_0xa1c2a))[_0xd03e65(0xf0)](_0x260ce0=>_0x4ca3e0['push'](_0x1037db[_0x260ce0])),_0x4ca3e0;},exports[a117_0x3545b4(0x124)]=_0x419ae2=>{const _0xa37b3f=a117_0x3545b4,_0x32f900=[],_0x115561=_0x419ae2[_0xa37b3f(0x173)]||process[_0xa37b3f(0xce)]['CUSTOM_TAG'];return _0x115561&&_0x32f900[_0xa37b3f(0xe6)](_0x115561),_0x32f900[_0xa37b3f(0xe6)](...exports['extractValuesWithRegexKeyMatch'](process[_0xa37b3f(0xce)])),_0x32f900[_0xa37b3f(0xe6)](...exports[_0xa37b3f(0xa4)](_0x419ae2)),_0x32f900;},exports[a117_0x3545b4(0xb8)]=_0xd0a7a0=>{const _0x74c40c=a117_0x3545b4;if(!_0xd0a7a0)return'';return _0xd0a7a0[_0x74c40c(0xb7)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a117_0x3545b4(0xb2)]=(_0x52eb60=0x64)=>new Promise(_0x13bb88=>setTimeout(_0x13bb88,_0x52eb60));const getPlatformName=()=>{const _0x228458=a117_0x3545b4,_0x3613e6={};_0x3613e6['UFRGb']=function(_0x3652ab,_0x1df20c){return _0x3652ab===_0x1df20c;},_0x3613e6[_0x228458(0xe5)]=_0x228458(0x106),_0x3613e6[_0x228458(0x162)]=_0x228458(0x14c),_0x3613e6['LPZIR']='darwin',_0x3613e6[_0x228458(0xcc)]=_0x228458(0x91),_0x3613e6['qdnps']=_0x228458(0x139),_0x3613e6[_0x228458(0x97)]='Linux',_0x3613e6[_0x228458(0xc5)]='Unknown';const _0x7bf379=_0x3613e6;if(_0x7bf379[_0x228458(0x154)](process[_0x228458(0x101)],_0x7bf379[_0x228458(0xe5)]))return _0x7bf379['wXwWl'];if(_0x7bf379[_0x228458(0x154)](process[_0x228458(0x101)],_0x7bf379['LPZIR']))return _0x7bf379[_0x228458(0xcc)];if(_0x7bf379[_0x228458(0x154)](process[_0x228458(0x101)],_0x7bf379[_0x228458(0x9b)]))return _0x7bf379[_0x228458(0x97)];return _0x7bf379[_0x228458(0xc5)];},getMacOSVersion=()=>{const _0x2e73bc=a117_0x3545b4,_0x649a9d={};_0x649a9d['llEGn']='awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27';const _0x46e5a6=_0x649a9d;return child_process[_0x2e73bc(0xe3)](_0x46e5a6[_0x2e73bc(0x10f)])[_0x2e73bc(0x11e)]()[_0x2e73bc(0xb5)]();},getLinuxDetails=()=>{const _0x429378={'eLXLC':function(_0xd3d864,_0x75cd15){return _0xd3d864(_0x75cd15);},'pmDdY':function(_0x205624,_0x126ac7){return _0x205624(_0x126ac7);}};return new Promise((_0x10393d,_0x157d1b)=>{_0x429378['eLXLC'](getos,(_0x3ffc14,_0x28c0a2)=>{const _0x5d507f=a117_0x3454;if(_0x3ffc14)return _0x429378[_0x5d507f(0x167)](_0x157d1b,_0x3ffc14);_0x429378['pmDdY'](_0x10393d,_0x28c0a2);});});};exports[a117_0x3545b4(0x177)]=async()=>{const _0x57efd9=a117_0x3545b4,_0x402774={'uUNOX':function(_0x109138){return _0x109138();},'gHyIP':_0x57efd9(0x91),'lqQOD':_0x57efd9(0x14c),'ZLRPL':'windows-release','qbOFR':function(_0x5821d9){return _0x5821d9();},'BUSWT':_0x57efd9(0x141),'tAOxe':_0x57efd9(0x129)};let _0x178796=_0x402774[_0x57efd9(0x16a)](getPlatformName),_0x39b59c=os[_0x57efd9(0xa6)]()['toString']();switch(_0x178796){case _0x402774[_0x57efd9(0x10e)]:_0x39b59c=_0x402774[_0x57efd9(0x16a)](getMacOSVersion);break;case _0x402774['lqQOD']:try{const _0x12727b=(await import(_0x402774[_0x57efd9(0x85)]))[_0x57efd9(0x142)];_0x39b59c=_0x402774[_0x57efd9(0x116)](_0x12727b);}catch(_0xe311a9){exports[_0x57efd9(0x166)](_0x57efd9(0xe7)+_0xe311a9['toString']());}break;case _0x402774[_0x57efd9(0xee)]:try{const _0x155775=await _0x402774[_0x57efd9(0x116)](getLinuxDetails);_0x155775[_0x57efd9(0xad)]&&(_0x178796=_0x155775['dist']),_0x155775[_0x57efd9(0xa6)]&&(_0x39b59c=_0x155775[_0x57efd9(0xa6)][_0x57efd9(0x11e)]());}catch(_0x5b7b89){exports[_0x57efd9(0x166)](_0x402774['tAOxe']);}break;default:break;}const _0x4afee2={};return _0x4afee2[_0x57efd9(0x128)]=_0x178796,_0x4afee2[_0x57efd9(0x179)]=_0x39b59c,_0x4afee2;},exports['failureData']=(_0x1596ce,_0x344178)=>{const _0x3ed76f=a117_0x3545b4,_0x447f66={};_0x447f66[_0x3ed76f(0x17b)]=function(_0x53ecb7,_0x51a0cb){return _0x53ecb7===_0x51a0cb;},_0x447f66[_0x3ed76f(0xda)]=_0x3ed76f(0xfa),_0x447f66[_0x3ed76f(0x98)]=_0x3ed76f(0x7a);const _0x4fa843=_0x447f66;if(!_0x1596ce)return[];try{if(_0x4fa843[_0x3ed76f(0x17b)](_0x344178,_0x4fa843[_0x3ed76f(0xda)]))return _0x1596ce['map'](_0x1df97e=>{const _0x401307=_0x3ed76f,{stack:_0x7e5a3,..._0x1a9534}=_0x1df97e,_0x31f126=Object[_0x401307(0x105)](_0x1a9534)['map'](_0x29c53c=>{return _0x29c53c+':\x20'+_0x1a9534[_0x29c53c];}),_0x24cce0=_0x7e5a3?exports[_0x401307(0xb8)](_0x7e5a3)[_0x401307(0x16b)](/\r?\n/):[exports[_0x401307(0xb8)](_0x1df97e['message'])],_0x1267e8={};return _0x1267e8[_0x401307(0x108)]=_0x24cce0,_0x1267e8[_0x401307(0x132)]=_0x31f126,_0x1267e8;});else{if(_0x4fa843[_0x3ed76f(0x17b)](_0x344178,_0x4fa843['ZyPHi'])){const _0x1005a1=[],_0x58ed99=[];return Object[_0x3ed76f(0x105)](_0x1596ce)['forEach'](_0x54b908=>{const _0x1ad374=_0x3ed76f;try{_0x58ed99[_0x1ad374(0xe6)](_0x54b908+':\x20'+_0x1596ce[_0x54b908]);}catch(_0xdf112a){exports['debug']('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0xdf112a[_0x1ad374(0xe0)]+_0x1ad374(0x12d)+_0xdf112a[_0x1ad374(0x108)]);}}),_0x1005a1[_0x3ed76f(0xe6)]({'backtrace':exports[_0x3ed76f(0xb8)](_0x1596ce[_0x3ed76f(0xae)])[_0x3ed76f(0x16b)](/\r?\n/),'expanded':_0x58ed99}),_0x1005a1;}}return[];}catch(_0xfd3527){exports[_0x3ed76f(0x166)](_0x3ed76f(0xf7)+_0xfd3527[_0x3ed76f(0xe0)]+'\x20:\x20'+_0xfd3527[_0x3ed76f(0x108)]);}return[];};function a117_0x3454(_0x35e218,_0x322d59){const _0xd0f248=a117_0xd0f2();return a117_0x3454=function(_0x34540d,_0x5c8e23){_0x34540d=_0x34540d-0x79;let _0x5ad499=_0xd0f248[_0x34540d];return _0x5ad499;},a117_0x3454(_0x35e218,_0x322d59);}class PathHelper{constructor(_0x39ee8b,_0x4dc3f8){const _0x5d9e8a=a117_0x3545b4;this[_0x5d9e8a(0x159)]=_0x39ee8b,this[_0x5d9e8a(0xb3)]=_0x4dc3f8;}['relativeTestFilePath'](_0x86cebe){const _0x19af8d=a117_0x3545b4,_0x13c799=this[_0x19af8d(0x159)][_0x19af8d(0xa0)]||this[_0x19af8d(0x159)][_0x19af8d(0x17f)];return path['relative'](_0x13c799,_0x86cebe);}[a117_0x3545b4(0x12f)](_0x399cb3){const _0x5c6961=a117_0x3545b4,_0x2b418e=this[_0x5c6961(0x125)](_0x399cb3);return this['prefix']?path[_0x5c6961(0x15a)](this[_0x5c6961(0xb3)],_0x2b418e):_0x2b418e;}}exports[a117_0x3545b4(0x157)]=PathHelper,exports['addRequestSpy']=(_0x160ead=!![])=>{const _0xa67e0b=a117_0x3545b4,_0x5df51a={};_0x5df51a['GFXLP']=function(_0x8a137a,_0x38db41){return _0x8a137a===_0x38db41;},_0x5df51a[_0xa67e0b(0x136)]='X-BSTACK-TESTOPS',_0x5df51a[_0xa67e0b(0x15f)]=_0xa67e0b(0x158),_0x5df51a[_0xa67e0b(0xac)]=_0xa67e0b(0x107),_0x5df51a['qOwLG']='browserstack',_0x5df51a[_0xa67e0b(0x118)]='local_grid';const _0x5f3524=_0x5df51a;requestSpy[_0xa67e0b(0xbf)]((_0x2bb907,_0x5431b3)=>{const _0x2811f5=_0xa67e0b;_0x5431b3&&!(_0x5431b3[_0x2811f5(0xdb)]&&_0x5f3524[_0x2811f5(0xe9)](_0x5431b3[_0x2811f5(0xdb)][_0x5f3524[_0x2811f5(0x136)]],_0x5f3524[_0x2811f5(0x15f)]))&&(_0x5431b3['host']=_0x5431b3[_0x2811f5(0x161)],delete _0x5431b3[_0x2811f5(0x161)],_0x160ead&&process[_0x2811f5(0x17a)]('bs:addLog:'+process['pid'],{'timestamp':new Date()[_0x2811f5(0x111)](),'level':null,'message':null,'kind':_0x5f3524['DtECg'],'http_response':_0x5431b3})),_0x5431b3&&(constants[_0x2811f5(0x11f)][_0x2811f5(0xfa)](_0x5431b3['host'])||constants[_0x2811f5(0x155)][_0x2811f5(0xfa)](_0x5431b3[_0x2811f5(0x103)]))?global[_0x2811f5(0x117)]=_0x5f3524[_0x2811f5(0x8f)]:global[_0x2811f5(0x117)]=_0x5f3524[_0x2811f5(0x118)];});},exports['patchConsoleLogger']=()=>{const _0x388ce2=a117_0x3545b4,_0x4e0816={'RMTay':function(_0x1521ca,_0x38ce27){return _0x1521ca(_0x38ce27);}};console={},Object[_0x388ce2(0x105)](consoleHolder)['forEach'](_0x13d813=>{const _0x30b300=_0x388ce2;_0x4e0816[_0x30b300(0xf4)](isFunction,consoleHolder[_0x13d813])?console[_0x13d813]=(..._0x5a4831)=>{const _0x14855a=_0x30b300;try{!Object[_0x14855a(0x105)](BSTestOpsPatcher)[_0x14855a(0x7f)](_0x13d813)?consoleHolder[_0x13d813](..._0x5a4831):BSTestOpsPatcher[_0x13d813](..._0x5a4831);}catch(_0x44974d){consoleHolder[_0x13d813](..._0x5a4831);}}:console[_0x13d813]=consoleHolder[_0x13d813];});},exports[a117_0x3545b4(0xe4)]=()=>a117_0x3545b4(0x79)+JSON[a117_0x3545b4(0xd0)]({'action':a117_0x3545b4(0xa8),'arguments':{'data':a117_0x3545b4(0x9d)+Date[a117_0x3545b4(0x175)](),'level':a117_0x3545b4(0x166)}}),exports['getObservabilityLinkedProductName']=_0x512d0e=>{const _0x2705b0=a117_0x3545b4,_0x504252={};_0x504252[_0x2705b0(0xd6)]=function(_0x5545dd,_0x536db8){return _0x5545dd===_0x536db8;},_0x504252[_0x2705b0(0x130)]=_0x2705b0(0xf2),_0x504252[_0x2705b0(0x16e)]=_0x2705b0(0xd3),_0x504252[_0x2705b0(0x7e)]=_0x2705b0(0xdf),_0x504252['mRkHc']=function(_0x336361,_0x4329b4){return _0x336361>_0x4329b4;},_0x504252[_0x2705b0(0x131)]=_0x2705b0(0x163),_0x504252['RpRIh']='bstack:options',_0x504252['hwEQR']=_0x2705b0(0x12c),_0x504252[_0x2705b0(0xc7)]=_0x2705b0(0x169),_0x504252[_0x2705b0(0x9a)]='automate';const _0x2ac177=_0x504252;let _0x58e109=null;try{if(_0x2ac177[_0x2705b0(0xd6)](global[_0x2705b0(0x117)],_0x2ac177['oQXZK'])){if(_0x512d0e[_0x2ac177[_0x2705b0(0x16e)]]||_0x512d0e[_0x2ac177['QKXaG']]||!bsSetupHelper[_0x2705b0(0x171)](global['capabilities'])&&_0x2ac177[_0x2705b0(0xd7)](global['capabilities'][_0x2705b0(0xa3)],0x0)&&(global['capabilities'][0x0][_0x2ac177[_0x2705b0(0x7e)]]||global[_0x2705b0(0x170)][0x0][_0x2ac177['vFzCp']]))_0x58e109=_0x2ac177['cZtxY'];else _0x512d0e[_0x2ac177['RpRIh']]&&_0x512d0e[_0x2ac177[_0x2705b0(0x16d)]][_0x2ac177[_0x2705b0(0x10d)]]?_0x58e109=_0x2ac177['Scxex']:_0x58e109=_0x2ac177[_0x2705b0(0x9a)];}}catch(_0x36267c){exports[_0x2705b0(0x166)](_0x2705b0(0xc2)+_0x36267c);}return _0x58e109;},exports[a117_0x3545b4(0xfc)]=async(_0x3fedfa,_0x228289,_0x3374fa=![])=>{const _0x34cf52=a117_0x3545b4,_0xe94009={};_0xe94009[_0x34cf52(0x11d)]=function(_0x32372d,_0x1da2f4){return _0x32372d===_0x1da2f4;},_0xe94009[_0x34cf52(0x81)]='browserstack',_0xe94009['aThMC']=_0x34cf52(0xdd),_0xe94009[_0x34cf52(0x16f)]=_0x34cf52(0x92);const _0x4c3f4f=_0xe94009;try{const _0x2f762a=await _0x3fedfa[_0x34cf52(0xb1)](),_0x1839f6=await _0x3fedfa[_0x34cf52(0x83)](),_0x1490c1={},_0x6b44de=Object['fromEntries'](_0x1839f6[_0x34cf52(0xb1)]()['map_']),_0x29014d={'product':exports['getObservabilityLinkedProductName'](_0x6b44de),'capabilities':_0x6b44de,'platform':_0x2f762a[_0x34cf52(0x17c)](),'platform_version':bsSetupHelper['getPlatformVersion'](_0x4c3f4f[_0x34cf52(0x11d)](global[_0x34cf52(0x117)],_0x4c3f4f['VoTzk'])),'browser':_0x2f762a['getBrowserName'](),'browser_version':_0x2f762a[_0x34cf52(0xec)](),'session_id':_0x1839f6['toJSON']()};global[_0x34cf52(0x117)]?_0x1490c1[global['__cloud_provider___']]=_0x29014d:_0x1490c1[_0x4c3f4f[_0x34cf52(0x12b)]]=_0x29014d;if(_0x3374fa)return _0x1490c1;process[_0x34cf52(0x17a)]('bs:addPlatformDetails:'+process[_0x34cf52(0x147)],{'timestamp':new Date()[_0x34cf52(0x111)](),'level':null,'message':null,'kind':_0x4c3f4f[_0x34cf52(0x16f)],'http_response':_0x1490c1,'uuid':_0x228289});}catch(_0x5217b1){exports[_0x34cf52(0x166)](_0x34cf52(0x115)+_0x5217b1);}},exports[a117_0x3545b4(0x178)]=_0x33f700=>{const _0x534ea3=a117_0x3545b4;return _0x33f700&&_0x33f700['toString']()[_0x534ea3(0xf5)](/browserstack internal helper hook/);};