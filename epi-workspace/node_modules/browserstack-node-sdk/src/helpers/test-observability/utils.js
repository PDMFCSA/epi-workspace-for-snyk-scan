const a88_0x26081f=a88_0x597d;(function(_0x4bea26,_0x3bdb15){const _0x5baea4=a88_0x597d,_0x333705=_0x4bea26();while(!![]){try{const _0x45e2f4=-parseInt(_0x5baea4(0xd6))/0x1+-parseInt(_0x5baea4(0x18b))/0x2*(-parseInt(_0x5baea4(0x17b))/0x3)+parseInt(_0x5baea4(0xfe))/0x4+-parseInt(_0x5baea4(0x185))/0x5*(-parseInt(_0x5baea4(0xbb))/0x6)+-parseInt(_0x5baea4(0xf7))/0x7*(parseInt(_0x5baea4(0xd9))/0x8)+-parseInt(_0x5baea4(0xb1))/0x9+parseInt(_0x5baea4(0x157))/0xa;if(_0x45e2f4===_0x3bdb15)break;else _0x333705['push'](_0x333705['shift']());}catch(_0x4c0621){_0x333705['push'](_0x333705['shift']());}}}(a88_0x2414,0xb5ff6));const fs=require('fs'),path=require(a88_0x26081f(0x177)),gitLastCommit=require('git-last-commit'),getRepoInfo=require(a88_0x26081f(0xf1)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require(a88_0x26081f(0x97)),https=require('https'),child_process=require(a88_0x26081f(0xee)),getos=require('getos'),os=require('os'),logger=require('../logger')[a88_0x26081f(0xaf)],bsSetupHelper=require(a88_0x26081f(0xdf)),requestSpy=require('../../helpers/request-spy'),constants=require(a88_0x26081f(0x150)),logPatcher=require('../../bin/utils/logPatcher'),util=require(a88_0x26081f(0x129)),{fileLogger}=require('../logger'),PerformanceTester=require('../performance/performance-tester'),{isFunction}=require('lodash'),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a88_0x26081f(0x17a));exports[a88_0x26081f(0x171)]=_0x2eb705=>{const _0x236f88=a88_0x26081f;fileLogger[_0x236f88(0xab)]('['+new Date()['toISOString']()+'][\x20OBSERVABILITY\x20]\x20'+_0x2eb705);},exports['debug']=_0x49f715=>{const _0x11cf65=a88_0x26081f,_0x3c18ce={};_0x3c18ce['YjHMy']=function(_0x6eb077,_0x8344d4){return _0x6eb077===_0x8344d4;},_0x3c18ce['quTcD']=_0x11cf65(0xc4);const _0x11c74f=_0x3c18ce;fileLogger[_0x11cf65(0x18c)]('['+new Date()['toISOString']()+'][\x20OBSERVABILITY\x20]\x20'+_0x49f715),(_0x11c74f['YjHMy'](process[_0x11cf65(0x140)][_0x11cf65(0x155)],_0x11c74f[_0x11cf65(0xfd)])||_0x11c74f[_0x11cf65(0x164)](process[_0x11cf65(0x140)][_0x11cf65(0x155)],'1'))&&consoleHolder[_0x11cf65(0x16a)]('\x0a['+new Date()[_0x11cf65(0x16f)]()+_0x11cf65(0xa9)+_0x49f715+'\x0a');};const a88_0x2409ff={};function a88_0x597d(_0x221488,_0x2fce13){const _0x2414a6=a88_0x2414();return a88_0x597d=function(_0x597dce,_0x4eed11){_0x597dce=_0x597dce-0x97;let _0x3edbe5=_0x2414a6[_0x597dce];return _0x3edbe5;},a88_0x597d(_0x221488,_0x2fce13);}a88_0x2409ff['keepAlive']=!![],a88_0x2409ff[a88_0x26081f(0x183)]=0xea60,a88_0x2409ff[a88_0x26081f(0x154)]=0x2,a88_0x2409ff['maxTotalSockets']=0x2;const httpKeepAliveAgent=new http[(a88_0x26081f(0xeb))](a88_0x2409ff),a88_0x35319f={};a88_0x35319f[a88_0x26081f(0x17c)]=!![],a88_0x35319f[a88_0x26081f(0x183)]=0xea60,a88_0x35319f[a88_0x26081f(0x154)]=0x2,a88_0x35319f[a88_0x26081f(0xa6)]=0x2;const httpsKeepAliveAgent=new https['Agent'](a88_0x35319f),a88_0x3f0bdc={};a88_0x3f0bdc[a88_0x26081f(0x17c)]=!![],a88_0x3f0bdc[a88_0x26081f(0x183)]=0xea60,a88_0x3f0bdc[a88_0x26081f(0x154)]=0x2,a88_0x3f0bdc[a88_0x26081f(0xa6)]=0x2;const httpScreenshotsKeepAliveAgent=new http['Agent'](a88_0x3f0bdc),a88_0x5e095b={};a88_0x5e095b[a88_0x26081f(0x17c)]=!![],a88_0x5e095b[a88_0x26081f(0x183)]=0xea60,a88_0x5e095b[a88_0x26081f(0x154)]=0x2,a88_0x5e095b[a88_0x26081f(0xa6)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a88_0x26081f(0xeb))](a88_0x5e095b);exports[a88_0x26081f(0xf0)]=()=>{const _0x46c08a=a88_0x26081f,_0x56126a={};_0x56126a[_0x46c08a(0xef)]=function(_0xed0a77,_0x38e657){return _0xed0a77!==_0x38e657;},_0x56126a['kyfIr']='null';const _0x13ab38=_0x56126a;return process[_0x46c08a(0x140)]['BROWSERSTACK_RERUN_TESTS']&&_0x13ab38['IHCwk'](process[_0x46c08a(0x140)][_0x46c08a(0x10b)],_0x13ab38[_0x46c08a(0x126)])?!![]:![];},exports[a88_0x26081f(0xed)]=()=>{const _0x4cfb0d=a88_0x26081f,_0x50e0df={};_0x50e0df[_0x4cfb0d(0x130)]=function(_0x51b930,_0x452c3f){return _0x51b930===_0x452c3f;},_0x50e0df[_0x4cfb0d(0x11a)]=_0x4cfb0d(0xc4),_0x50e0df[_0x4cfb0d(0x10e)]=function(_0x1920bb,_0x1de291){return _0x1920bb===_0x1de291;};const _0x22b3a2=_0x50e0df;let _0x10cf5e=!![];return process['env'][_0x4cfb0d(0x158)]&&(_0x10cf5e=_0x22b3a2[_0x4cfb0d(0x130)](process[_0x4cfb0d(0x140)][_0x4cfb0d(0x158)],_0x22b3a2[_0x4cfb0d(0x11a)])),process[_0x4cfb0d(0x140)]['BROWSERSTACK_TEST_OBSERVABILITY']&&(_0x10cf5e=_0x22b3a2[_0x4cfb0d(0x10e)](process[_0x4cfb0d(0x140)][_0x4cfb0d(0x14e)],_0x22b3a2[_0x4cfb0d(0x11a)])),_0x10cf5e;},exports[a88_0x26081f(0x188)]=_0x32cb58=>{const _0xea42d1=a88_0x26081f;if(bsSetupHelper[_0xea42d1(0x19a)](_0x32cb58))return undefined;try{return _0x32cb58[_0xea42d1(0x12e)]()[_0xea42d1(0x12b)](',');}catch(_0x17a9cf){return undefined;}},exports[a88_0x26081f(0x136)]=()=>{const _0x2c28a3=a88_0x26081f,_0xf5d81a={};_0xf5d81a['xgtuI']=function(_0x23093d,_0x525964){return _0x23093d!==_0x525964;},_0xf5d81a[_0x2c28a3(0xd4)]=_0x2c28a3(0x124),_0xf5d81a[_0x2c28a3(0x147)]=function(_0x437fea,_0x5d8dbb){return _0x437fea!==_0x5d8dbb;},_0xf5d81a[_0x2c28a3(0x107)]=_0x2c28a3(0x10d);const _0x331a41=_0xf5d81a;return PerformanceTester[_0x2c28a3(0xb9)](PerformanceO11yEvents[_0x2c28a3(0xe3)],async()=>{const _0x376c46=_0x2c28a3;try{process[_0x376c46(0x140)][_0x376c46(0x125)]&&_0x331a41['xgtuI'](process[_0x376c46(0x140)][_0x376c46(0x125)],_0x331a41[_0x376c46(0xd4)])&&_0x331a41[_0x376c46(0x147)](process['env']['BS_TESTOPS_BUILD_HASHED_ID'],_0x331a41['vuDls'])&&logger[_0x376c46(0x174)]('Visit\x20https://observability.browserstack.com/builds/'+process[_0x376c46(0x140)][_0x376c46(0x125)]+'\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a');}catch(_0x98c992){logger['error']('['+new Date()[_0x376c46(0x16f)]()+_0x376c46(0x127));}})();},exports[a88_0x26081f(0xcc)]=_0x5db1b3=>{const _0x2b78e5=a88_0x26081f,_0x23658e={};_0x23658e[_0x2b78e5(0x163)]='AssertionError',_0x23658e[_0x2b78e5(0xcb)]=_0x2b78e5(0x108);const _0x215c99=_0x23658e;if(!_0x5db1b3)return null;return _0x5db1b3[_0x2b78e5(0xc7)]()[_0x2b78e5(0x17e)](/AssertionError/)?_0x215c99[_0x2b78e5(0x163)]:_0x215c99[_0x2b78e5(0xcb)];},exports[a88_0x26081f(0xf9)]=_0x205a08=>{const _0x341e17=a88_0x26081f,_0x23394f={};_0x23394f[_0x341e17(0x101)]=_0x341e17(0x15d),_0x23394f['llCOq']=_0x341e17(0xb5),_0x23394f[_0x341e17(0x13b)]=_0x341e17(0x179),_0x23394f[_0x341e17(0xd7)]='jest',_0x23394f[_0x341e17(0xca)]=_0x341e17(0x182);const _0x49b007=_0x23394f;let _0x5a106e=null;switch(_0x205a08){case FRAMEWORKS[_0x341e17(0x184)]:_0x5a106e=bsSetupHelper['getPackageVersion'](_0x49b007[_0x341e17(0x101)]);break;case FRAMEWORKS[_0x341e17(0xfb)]:_0x5a106e=bsSetupHelper[_0x341e17(0xa2)](_0x49b007[_0x341e17(0xb2)]);break;case FRAMEWORKS['CODECEPT']:case FRAMEWORKS[_0x341e17(0x153)]:_0x5a106e=bsSetupHelper[_0x341e17(0xa2)](_0x49b007['rZUdA']);break;case FRAMEWORKS[_0x341e17(0x134)]:_0x5a106e=bsSetupHelper[_0x341e17(0xa2)](_0x49b007[_0x341e17(0xd7)]);break;case FRAMEWORKS[_0x341e17(0xe8)]:_0x5a106e=bsSetupHelper[_0x341e17(0xa2)](_0x49b007[_0x341e17(0xca)]);break;default:break;}return _0x5a106e;},exports[a88_0x26081f(0xb6)]=_0x254399=>{const _0x39832d=a88_0x26081f;let _0x3ae146=null;switch(_0x254399){case FRAMEWORKS[_0x39832d(0xfb)]:_0x3ae146=process['env'][_0x39832d(0xc8)];break;}if(!_0x3ae146)return;return bsSetupHelper[_0x39832d(0x152)](_0x3ae146,![]);},exports['getUserCredentials']=_0x10ab8e=>{const _0x1eead6=a88_0x26081f;return{'username':bsSetupHelper[_0x1eead6(0xe4)](_0x10ab8e),'accessKey':bsSetupHelper['getAccessKey'](_0x10ab8e)};},exports['modifyReqForTraceUpload']=(_0x291435,_0x3a1afb)=>{const _0x1e6714=a88_0x26081f,_0x3f3c6f={};_0x3f3c6f[_0x1e6714(0x12f)]=_0x1e6714(0x18d),_0x3f3c6f[_0x1e6714(0x195)]='LogCreated',_0x3f3c6f[_0x1e6714(0x9c)]=_0x1e6714(0x105),_0x3f3c6f['AJoDQ']='PLAYWRIGHT_TRACE_LOGS';const _0xdcc7d5=_0x3f3c6f,_0x21be0b=_0xdcc7d5[_0x1e6714(0x12f)][_0x1e6714(0x12b)]('|');let _0x5bcdf8=0x0;while(!![]){switch(_0x21be0b[_0x5bcdf8++]){case'0':delete _0x291435[_0x1e6714(0xf3)];continue;case'1':_0x291435[_0x1e6714(0xc2)]={'data':_0x291435['body'][0x0][_0x1e6714(0xba)][0x0]['data'],'test_run_uuid':_0x291435[_0x1e6714(0x14a)][0x0][_0x1e6714(0xba)][0x0][_0x1e6714(0x110)],'event_type':_0xdcc7d5[_0x1e6714(0x195)],'kind':_0xdcc7d5[_0x1e6714(0x9c)],'attachmentType':_0xdcc7d5[_0x1e6714(0xde)],'timestamp':new Date()['toISOString'](),'fileName':_0x291435['body'][0x0]['logs'][0x0][_0x1e6714(0x9d)]};continue;case'2':if(!_0x291435['body'][0x0]||!_0x291435[_0x1e6714(0x14a)][0x0]['logs']||!_0x291435[_0x1e6714(0x14a)][0x0][_0x1e6714(0xba)][_0x1e6714(0x138)])return;continue;case'3':if(!_0x291435['body']||!Array[_0x1e6714(0x156)](_0x291435[_0x1e6714(0x14a)]))return;continue;case'4':delete _0x3a1afb[_0x1e6714(0xf6)];continue;case'5':delete _0x291435[_0x1e6714(0x14a)];continue;}break;}},exports['asyncAwaitNodeReq']=async(_0x320d0c,_0x72ea33,_0x26646f,_0x373c88,_0x4e0a15=!![])=>{const _0x5e9887=a88_0x26081f,_0x246d5c={};_0x246d5c[_0x5e9887(0x11b)]=function(_0x4f47e5,_0x569ecb){return _0x4f47e5===_0x569ecb;},_0x246d5c['qvRfl']='Content-Type',_0x246d5c['YSEMs']=_0x5e9887(0x112),_0x246d5c['lbAVC']=_0x5e9887(0xfc),_0x246d5c[_0x5e9887(0x106)]=function(_0x355828,_0x1ab1a8){return _0x355828!==_0x1ab1a8;},_0x246d5c[_0x5e9887(0x159)]=_0x5e9887(0xe2),_0x246d5c[_0x5e9887(0x160)]='Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s';const _0x59ab9d=_0x246d5c,_0x4f7603={..._0x373c88,...{'method':_0x320d0c,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x72ea33,'body':_0x26646f,'json':_0x59ab9d[_0x5e9887(0x11b)](_0x373c88[_0x5e9887(0xf6)][_0x59ab9d[_0x5e9887(0xaa)]],_0x59ab9d[_0x5e9887(0x99)]),'agent':API_URL['includes'](_0x59ab9d['lbAVC'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x59ab9d[_0x5e9887(0x11b)](_0x72ea33,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x4f7603['agent']=API_URL[_0x5e9887(0x13a)](_0x59ab9d['lbAVC'])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x5e9887(0x14f)](_0x4f7603,_0x373c88),logger['debug'](_0x5e9887(0x161)+_0x4f7603['url']));try{const {statusCode:_0x415e76,body:_0x552c39}=await bsSetupHelper[_0x5e9887(0x135)](_0x320d0c,_0x72ea33,_0x4f7603,_0x373c88,_0x4f7603['url']);if(_0x59ab9d['AaVyM'](_0x415e76,0xc8))return _0x552c39?_0x552c39:_0x5e9887(0x9e)+_0x415e76;let _0x5726a9=_0x552c39;if(_0x4e0a15)try{_0x59ab9d['AaVyM'](typeof _0x552c39,_0x59ab9d[_0x5e9887(0x159)])&&(_0x5726a9=JSON['parse'](_0x552c39));}catch(_0x38742b){logger[_0x5e9887(0x167)](_0x59ab9d['lmErY'],_0x552c39,util[_0x5e9887(0xfa)](_0x38742b));}const _0x22c722={};return _0x22c722[_0x5e9887(0x198)]=_0x5726a9,_0x22c722;}catch(_0x29c4d2){logger['error']('Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20'+util[_0x5e9887(0xfa)](_0x29c4d2));throw _0x29c4d2;}},exports[a88_0x26081f(0x135)]=(_0x2353c3,_0x1e0669,_0x16b303,_0xfd04c8,_0x549d26=!![])=>{const _0x605826=a88_0x26081f,_0xeb5cad={'Tkatc':function(_0x312a6b,_0x3829e6){return _0x312a6b!==_0x3829e6;},'pSBTL':function(_0xd85827,_0x10f257){return _0xd85827(_0x10f257);},'Drnec':_0x605826(0xe2),'xcwjl':function(_0x483ce5,_0x2fe5d3){return _0x483ce5(_0x2fe5d3);},'aOFqO':_0x605826(0x190),'JWDaG':function(_0x3b2bf6,_0x1bf5fe){return _0x3b2bf6===_0x1bf5fe;},'fSuYL':_0x605826(0x173),'pXppR':_0x605826(0x112),'oYnEa':'https','uWWbj':function(_0x4fc1e2,_0x8bf726){return _0x4fc1e2===_0x8bf726;}};return new Promise((_0x3e7147,_0x374e8f)=>{const _0xe82f8=_0x605826,_0x49ba85={'FrYgP':function(_0x1cd3ad,_0x3e14ad){const _0x431dc9=a88_0x597d;return _0xeb5cad[_0x431dc9(0x18a)](_0x1cd3ad,_0x3e14ad);},'KPtlm':function(_0x388edc,_0x5421d2){const _0x362ddc=a88_0x597d;return _0xeb5cad[_0x362ddc(0xb8)](_0x388edc,_0x5421d2);},'YPZEu':function(_0x287fd2,_0xa7b546){return _0xeb5cad['Tkatc'](_0x287fd2,_0xa7b546);},'uvSij':_0xeb5cad[_0xe82f8(0x15b)],'UUvFg':function(_0x40aa5e,_0x14d1a9){const _0x5879f7=_0xe82f8;return _0xeb5cad[_0x5879f7(0x10f)](_0x40aa5e,_0x14d1a9);},'cuEUR':_0xeb5cad[_0xe82f8(0xbe)]},_0x5c2852={..._0xfd04c8,...{'method':_0x2353c3,'url':API_URL+'/'+_0x1e0669,'body':_0x16b303,'json':_0xeb5cad[_0xe82f8(0xa4)](_0xfd04c8['headers'][_0xeb5cad[_0xe82f8(0xe7)]],_0xeb5cad[_0xe82f8(0xcf)]),'agent':API_URL['includes'](_0xeb5cad[_0xe82f8(0x114)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0xeb5cad[_0xe82f8(0xb0)](_0x1e0669,SCREENSHOT_ENDPOINT)&&(_0x5c2852[_0xe82f8(0x104)]=API_URL[_0xe82f8(0x13a)](_0xeb5cad[_0xe82f8(0x114)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0xe82f8(0x135)](_0x2353c3,_0x1e0669,_0x5c2852,_0xfd04c8,API_URL)[_0xe82f8(0x113)](({statusCode:_0x416169,body:_0x133961})=>{const _0x3ac1f8=_0xe82f8;if(_0x49ba85[_0x3ac1f8(0x142)](_0x416169,0xc8))_0x49ba85[_0x3ac1f8(0xf2)](_0x374e8f,_0x133961?_0x133961:'Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20'+_0x416169);else{if(_0x549d26)try{_0x49ba85[_0x3ac1f8(0xd2)](typeof _0x133961,_0x49ba85[_0x3ac1f8(0x143)])&&(_0x133961=JSON['parse'](_0x133961));}catch(_0x4def8c){_0x49ba85['UUvFg'](_0x374e8f,_0x49ba85[_0x3ac1f8(0xbc)]);return;}const _0x1737c8={};_0x1737c8[_0x3ac1f8(0x198)]=_0x133961,_0x49ba85[_0x3ac1f8(0xf2)](_0x3e7147,_0x1737c8);}})[_0xe82f8(0x16c)](_0x451b13=>{const _0x451237=_0xe82f8;_0x451b13&&_0x49ba85[_0x451237(0x10c)](_0x374e8f,_0x451b13);});});},exports[a88_0x26081f(0xc3)]=_0x19258e=>{const _0x4eade7=a88_0x26081f;if(process[_0x4eade7(0x140)][_0x4eade7(0x131)])return process[_0x4eade7(0x140)][_0x4eade7(0x131)][_0x4eade7(0x12b)](',');if(_0x19258e['buildTag'])return _0x19258e[_0x4eade7(0x186)];return[];},exports[a88_0x26081f(0xd1)]=(_0x249727=!![])=>{const _0x5aaa21=a88_0x26081f,_0x37e739={};_0x37e739['IAuYH']=_0x5aaa21(0x112),_0x37e739[_0x5aaa21(0x100)]='true',_0x37e739[_0x5aaa21(0x119)]=_0x5aaa21(0x12c);const _0x51d1e2=_0x37e739,_0x485ea7={};_0x485ea7[_0x5aaa21(0x173)]=_0x51d1e2['IAuYH'],_0x485ea7[_0x5aaa21(0x133)]=_0x51d1e2[_0x5aaa21(0x100)];const _0x4936bf=_0x485ea7;return _0x249727&&process[_0x5aaa21(0x140)][_0x5aaa21(0x170)]&&(_0x4936bf[_0x51d1e2[_0x5aaa21(0x119)]]='Bearer\x20'+process[_0x5aaa21(0x140)]['BROWSERSTACK_TESTHUB_JWT']),_0x4936bf;},exports[a88_0x26081f(0x196)]=_0xce10bb=>{const _0x5844ba=a88_0x26081f,_0x3ec416={};_0x3ec416[_0x5844ba(0xd0)]='^CUSTOM_TAG_\x5cd+$';const _0x19d0a3=_0x3ec416,_0x80f388=[],_0x85280=new RegExp(_0x19d0a3[_0x5844ba(0xd0)],'i');return Object[_0x5844ba(0x11d)](_0xce10bb)[_0x5844ba(0x9a)](_0x1d45f5=>_0x85280[_0x5844ba(0x128)](_0x1d45f5))[_0x5844ba(0xa5)](_0x1c1e1a=>_0x80f388[_0x5844ba(0xcd)](_0xce10bb[_0x1c1e1a])),_0x80f388;},exports[a88_0x26081f(0x165)]=_0xcbc72d=>{const _0x5b4d8e=a88_0x26081f,_0x3400dc=[],_0x3cc081=_0xcbc72d['customTag']||process[_0x5b4d8e(0x140)][_0x5b4d8e(0x189)];return _0x3cc081&&_0x3400dc[_0x5b4d8e(0xcd)](_0x3cc081),_0x3400dc[_0x5b4d8e(0xcd)](...exports['extractValuesWithRegexKeyMatch'](process[_0x5b4d8e(0x140)])),_0x3400dc[_0x5b4d8e(0xcd)](...exports['extractValuesWithRegexKeyMatch'](_0xcbc72d)),_0x3400dc;},exports['removeAnsiColors']=_0x48dad2=>{const _0xb946bd=a88_0x26081f;if(!_0x48dad2)return'';return _0x48dad2[_0xb946bd(0x11e)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a88_0x26081f(0xe5)]=(_0x2375a5=0x64)=>new Promise(_0x41a620=>setTimeout(_0x41a620,_0x2375a5));const getPlatformName=()=>{const _0xe2061=a88_0x26081f,_0x1d0b01={};_0x1d0b01[_0xe2061(0xac)]=function(_0x2c0311,_0x25459a){return _0x2c0311===_0x25459a;},_0x1d0b01[_0xe2061(0x197)]=_0xe2061(0xff),_0x1d0b01[_0xe2061(0x13c)]='Windows',_0x1d0b01[_0xe2061(0xe6)]='darwin',_0x1d0b01[_0xe2061(0x149)]='OS\x20X',_0x1d0b01[_0xe2061(0xf4)]='linux',_0x1d0b01[_0xe2061(0x141)]=_0xe2061(0xec),_0x1d0b01['aUVsF']='Unknown';const _0x5ee355=_0x1d0b01;if(_0x5ee355[_0xe2061(0xac)](process[_0xe2061(0x145)],_0x5ee355['GStVd']))return _0x5ee355[_0xe2061(0x13c)];if(_0x5ee355['DFtIz'](process[_0xe2061(0x145)],_0x5ee355[_0xe2061(0xe6)]))return _0x5ee355[_0xe2061(0x149)];if(_0x5ee355['DFtIz'](process[_0xe2061(0x145)],_0x5ee355[_0xe2061(0xf4)]))return _0x5ee355[_0xe2061(0x141)];return _0x5ee355[_0xe2061(0x9f)];},getMacOSVersion=()=>{const _0xb834ed=a88_0x26081f,_0x5b315d={};_0x5b315d[_0xb834ed(0xc6)]=_0xb834ed(0x144);const _0x2dd440=_0x5b315d;return child_process[_0xb834ed(0xa0)](_0x2dd440[_0xb834ed(0xc6)])['toString']()[_0xb834ed(0x12e)]();},getLinuxDetails=()=>{const _0x389cf4={'SpZdF':function(_0x73c4f2,_0x5e6278){return _0x73c4f2(_0x5e6278);},'mkVqj':function(_0x514058,_0x124343){return _0x514058(_0x124343);}};return new Promise((_0x5691e5,_0x366281)=>{const _0x222a12={'Rbuqx':function(_0x23d52a,_0x544031){return _0x389cf4['SpZdF'](_0x23d52a,_0x544031);},'fQrRR':function(_0x19391c,_0x5ec544){return _0x389cf4['mkVqj'](_0x19391c,_0x5ec544);}};_0x389cf4['mkVqj'](getos,(_0x45db50,_0x4fa936)=>{const _0x535f8e=a88_0x597d;if(_0x45db50)return _0x222a12[_0x535f8e(0x146)](_0x366281,_0x45db50);_0x222a12[_0x535f8e(0xf5)](_0x5691e5,_0x4fa936);});});};exports[a88_0x26081f(0x17f)]=async()=>{const _0x2e73b7=a88_0x26081f,_0x50dcf5={'teMEj':function(_0x8c2b44){return _0x8c2b44();},'ZRivF':_0x2e73b7(0xb3),'QFcaj':_0x2e73b7(0x109),'Emleq':_0x2e73b7(0xc5),'MzDbB':_0x2e73b7(0xec),'VlWsk':_0x2e73b7(0x121)};let _0xbbe4c6=_0x50dcf5['teMEj'](getPlatformName),_0x4c3d2f=os[_0x2e73b7(0x122)]()[_0x2e73b7(0xc7)]();switch(_0xbbe4c6){case _0x50dcf5[_0x2e73b7(0x172)]:_0x4c3d2f=_0x50dcf5[_0x2e73b7(0x118)](getMacOSVersion);break;case _0x50dcf5[_0x2e73b7(0x178)]:try{const _0x16bd1c=(await import(_0x50dcf5['Emleq']))['default'];_0x4c3d2f=_0x50dcf5['teMEj'](_0x16bd1c);}catch(_0x272438){exports[_0x2e73b7(0x18c)](_0x2e73b7(0x194)+_0x272438[_0x2e73b7(0xc7)]());}break;case _0x50dcf5['MzDbB']:try{const _0x188db1=await _0x50dcf5[_0x2e73b7(0x118)](getLinuxDetails);_0x188db1['dist']&&(_0xbbe4c6=_0x188db1[_0x2e73b7(0x11f)]),_0x188db1[_0x2e73b7(0x122)]&&(_0x4c3d2f=_0x188db1[_0x2e73b7(0x122)][_0x2e73b7(0xc7)]());}catch(_0x2796ba){exports[_0x2e73b7(0x18c)](_0x50dcf5[_0x2e73b7(0x151)]);}break;default:break;}const _0x58952f={};return _0x58952f[_0x2e73b7(0xa8)]=_0xbbe4c6,_0x58952f[_0x2e73b7(0x12a)]=_0x4c3d2f,_0x58952f;},exports[a88_0x26081f(0xae)]=(_0xf1ba64,_0x47a759)=>{const _0x4864e3=a88_0x26081f,_0x300442={};_0x300442[_0x4864e3(0x15f)]=function(_0xb4a05f,_0x1396e4){return _0xb4a05f===_0x1396e4;},_0x300442[_0x4864e3(0xea)]='test',_0x300442[_0x4864e3(0xb7)]=_0x4864e3(0x137);const _0x3ce37d=_0x300442;if(!_0xf1ba64)return[];try{if(_0x3ce37d[_0x4864e3(0x15f)](_0x47a759,_0x3ce37d[_0x4864e3(0xea)]))return _0xf1ba64[_0x4864e3(0x123)](_0x489fd0=>{const _0xa7e2e6=_0x4864e3,{stack:_0x1c7ad2,..._0x1be776}=_0x489fd0,_0x5e4a36=Object['keys'](_0x1be776)[_0xa7e2e6(0x123)](_0x492fd9=>{return _0x492fd9+':\x20'+_0x1be776[_0x492fd9];}),_0x350294=_0x1c7ad2?exports[_0xa7e2e6(0x13f)](_0x1c7ad2)[_0xa7e2e6(0x12b)](/\r?\n/):[exports[_0xa7e2e6(0x13f)](_0x489fd0[_0xa7e2e6(0x14d)])],_0x23c372={};return _0x23c372[_0xa7e2e6(0x13d)]=_0x350294,_0x23c372[_0xa7e2e6(0x18e)]=_0x5e4a36,_0x23c372;});else{if(_0x3ce37d['tXRYU'](_0x47a759,_0x3ce37d[_0x4864e3(0xb7)])){const _0x393887=[],_0x26840f=[];return Object['keys'](_0xf1ba64)[_0x4864e3(0xa5)](_0x1db468=>{const _0x521103=_0x4864e3;try{_0x26840f[_0x521103(0xcd)](_0x1db468+':\x20'+_0xf1ba64[_0x1db468]);}catch(_0x5e3f18){exports[_0x521103(0x18c)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0x5e3f18['message']+_0x521103(0x192)+_0x5e3f18['backtrace']);}}),_0x393887['push']({'backtrace':exports[_0x4864e3(0x13f)](_0xf1ba64[_0x4864e3(0x11c)])['split'](/\r?\n/),'expanded':_0x26840f}),_0x393887;}}return[];}catch(_0x2cbd11){exports[_0x4864e3(0x18c)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0x2cbd11[_0x4864e3(0x14d)]+_0x4864e3(0x192)+_0x2cbd11[_0x4864e3(0x13d)]);}return[];};class PathHelper{constructor(_0x48325c,_0x4ed702){const _0x21f42e=a88_0x26081f;this[_0x21f42e(0x115)]=_0x48325c,this['prefix']=_0x4ed702;}['relativeTestFilePath'](_0x3f2abc){const _0x232586=a88_0x26081f,_0xb85841=this[_0x232586(0x115)][_0x232586(0x16b)]||this['config'][_0x232586(0x191)];return path[_0x232586(0x15e)](_0xb85841,_0x3f2abc);}[a88_0x26081f(0xa1)](_0x3d0692){const _0x3af638=this['relativeTestFilePath'](_0x3d0692);return this['prefix']?path['join'](this['prefix'],_0x3af638):_0x3af638;}}exports[a88_0x26081f(0xdb)]=PathHelper,exports[a88_0x26081f(0x17d)]=(_0x21c32b=!![])=>{const _0x1d0042=a88_0x26081f,_0x58827b={};_0x58827b[_0x1d0042(0x169)]=function(_0x26bf8f,_0xe043be){return _0x26bf8f===_0xe043be;},_0x58827b[_0x1d0042(0xdc)]=_0x1d0042(0x133),_0x58827b[_0x1d0042(0x13e)]='true',_0x58827b['bifPn']=_0x1d0042(0xd5),_0x58827b['bJptj']=_0x1d0042(0xe1),_0x58827b[_0x1d0042(0x12d)]=_0x1d0042(0x199);const _0x5e3610=_0x58827b;requestSpy[_0x1d0042(0x168)]((_0x55ca31,_0x9fb58d)=>{const _0xd5d63b=_0x1d0042;_0x9fb58d&&!(_0x9fb58d[_0xd5d63b(0xf6)]&&_0x5e3610[_0xd5d63b(0x169)](_0x9fb58d[_0xd5d63b(0xf6)][_0x5e3610[_0xd5d63b(0xdc)]],_0x5e3610[_0xd5d63b(0x13e)]))&&(_0x9fb58d[_0xd5d63b(0x162)]=_0x9fb58d[_0xd5d63b(0xf8)],delete _0x9fb58d[_0xd5d63b(0xf8)],_0x21c32b&&process[_0xd5d63b(0xe0)](_0xd5d63b(0x139)+process[_0xd5d63b(0xce)],{'timestamp':new Date()[_0xd5d63b(0x16f)](),'level':null,'message':null,'kind':_0x5e3610[_0xd5d63b(0xa3)],'http_response':_0x9fb58d})),_0x9fb58d&&(constants['HUB_URL_REGEX']['test'](_0x9fb58d[_0xd5d63b(0x162)])||constants['ATS_HUB_URL_REGEX'][_0xd5d63b(0x128)](_0x9fb58d['host']))?global[_0xd5d63b(0xa7)]=_0x5e3610[_0xd5d63b(0x117)]:global[_0xd5d63b(0xa7)]=_0x5e3610[_0xd5d63b(0x12d)];});},exports['patchConsoleLogger']=()=>{const _0x862721=a88_0x26081f,_0x447c9f={'ZBnMf':function(_0x2bc976,_0x289fe1){return _0x2bc976(_0x289fe1);}};console={},Object[_0x862721(0x11d)](consoleHolder)[_0x862721(0xa5)](_0x439e4a=>{const _0x483fc8=_0x862721;_0x447c9f[_0x483fc8(0xbd)](isFunction,consoleHolder[_0x439e4a])?console[_0x439e4a]=(..._0x1d1e60)=>{const _0x18ade1=_0x483fc8;try{!Object[_0x18ade1(0x11d)](BSTestOpsPatcher)[_0x18ade1(0x13a)](_0x439e4a)?consoleHolder[_0x439e4a](..._0x1d1e60):BSTestOpsPatcher[_0x439e4a](..._0x1d1e60);}catch(_0x150eb2){consoleHolder[_0x439e4a](..._0x1d1e60);}}:console[_0x439e4a]=consoleHolder[_0x439e4a];});},exports['getSyncScript']=()=>'browserstack_executor:\x20'+JSON[a88_0x26081f(0x116)]({'action':a88_0x26081f(0xc9),'arguments':{'data':'ObservabilitySync:'+Date[a88_0x26081f(0xdd)](),'level':a88_0x26081f(0x18c)}}),exports[a88_0x26081f(0x103)]=_0x10b629=>{const _0x394e18=a88_0x26081f,_0x342ec0={};_0x342ec0['kLJfS']=function(_0xbb1d2f,_0x40bb34){return _0xbb1d2f===_0x40bb34;},_0x342ec0[_0x394e18(0xe9)]='browserstack',_0x342ec0[_0x394e18(0x16d)]=_0x394e18(0x15a),_0x342ec0['svBwl']='app',_0x342ec0[_0x394e18(0xc1)]=function(_0xdac814,_0x428222){return _0xdac814>_0x428222;},_0x342ec0['XXXvH']='app-automate',_0x342ec0[_0x394e18(0x18f)]=_0x394e18(0x176),_0x342ec0[_0x394e18(0x148)]=_0x394e18(0x15c),_0x342ec0['GAYoJ']=_0x394e18(0xd8),_0x342ec0[_0x394e18(0x14c)]=_0x394e18(0x180);const _0x292569=_0x342ec0;let _0x575b02=null;try{if(_0x292569['kLJfS'](global['__cloud_provider___'],_0x292569['icvoG'])){if(_0x10b629[_0x292569[_0x394e18(0x16d)]]||_0x10b629[_0x292569[_0x394e18(0xbf)]]||!bsSetupHelper[_0x394e18(0x19a)](global[_0x394e18(0x14b)])&&_0x292569[_0x394e18(0xc1)](global[_0x394e18(0x14b)][_0x394e18(0x138)],0x0)&&(global[_0x394e18(0x14b)][0x0][_0x292569['svBwl']]||global[_0x394e18(0x14b)][0x0][_0x292569[_0x394e18(0x16d)]]))_0x575b02=_0x292569[_0x394e18(0xd3)];else _0x10b629[_0x292569['npMTP']]&&_0x10b629[_0x292569[_0x394e18(0x18f)]][_0x292569['PDxPN']]?_0x575b02=_0x292569[_0x394e18(0x187)]:_0x575b02=_0x292569[_0x394e18(0x14c)];}}catch(_0x1b06a6){exports[_0x394e18(0x18c)](_0x394e18(0xda)+_0x1b06a6);}return _0x575b02;},exports[a88_0x26081f(0x193)]=async(_0x5d9254,_0x3ac786,_0x5f5175=![])=>{const _0x5c75bd=a88_0x26081f,_0x5d15fe={};_0x5d15fe[_0x5c75bd(0x16e)]=function(_0x54ad10,_0x255009){return _0x54ad10===_0x255009;},_0x5d15fe[_0x5c75bd(0x166)]=_0x5c75bd(0xe1),_0x5d15fe[_0x5c75bd(0xc0)]=_0x5c75bd(0x132),_0x5d15fe[_0x5c75bd(0x98)]=_0x5c75bd(0xad);const _0x448822=_0x5d15fe;try{const _0x1a3226=await _0x5d9254['getCapabilities'](),_0x37769d=await _0x5d9254[_0x5c75bd(0x10a)](),_0x35ef79={},_0x103bf8=Object[_0x5c75bd(0x181)](_0x37769d[_0x5c75bd(0x9b)]()[_0x5c75bd(0xb4)]),_0x201246={'product':exports[_0x5c75bd(0x103)](_0x103bf8),'capabilities':_0x103bf8,'platform':_0x1a3226['getPlatform'](),'platform_version':bsSetupHelper['getPlatformVersion'](_0x448822['MzqkU'](global[_0x5c75bd(0xa7)],_0x448822[_0x5c75bd(0x166)])),'browser':_0x1a3226[_0x5c75bd(0x120)](),'browser_version':_0x1a3226[_0x5c75bd(0x102)](),'session_id':_0x37769d[_0x5c75bd(0x111)]()};global['__cloud_provider___']?_0x35ef79[global[_0x5c75bd(0xa7)]]=_0x201246:_0x35ef79[_0x448822[_0x5c75bd(0xc0)]]=_0x201246;if(_0x5f5175)return _0x35ef79;process[_0x5c75bd(0xe0)]('bs:addPlatformDetails:'+process[_0x5c75bd(0xce)],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x448822[_0x5c75bd(0x98)],'http_response':_0x35ef79,'uuid':_0x3ac786});}catch(_0x5789a3){exports[_0x5c75bd(0x18c)](_0x5c75bd(0x175)+_0x5789a3);}},exports['isInternalHook']=_0x7850b5=>{const _0x13a85d=a88_0x26081f;return _0x7850b5&&_0x7850b5[_0x13a85d(0xc7)]()['match'](/browserstack internal helper hook/);};function a88_0x2414(){const _0x41fca0=['measureWrapper','logs','185826WmzseK','cuEUR','ZBnMf','aOFqO','svBwl','clffM','xsVOE','formData','getBuildTags','true','windows-release','EgvMt','toString','BROWSERSTACK_CONFIG_FILE_PATH','annotate','jfEgP','PXwxU','getFailureType','push','pid','pXppR','pFZZx','getDefaultHeaders','YPZEu','XXXvH','zTzsC','HTTP','1273105nUHcEM','dXtLX','turboscale','32blrBun','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','PathHelper','wEkTw','now','AJoDQ','../helper','emit','browserstack','object','PRINT_BUILDLINK','getUserName','sleep','Ldmdp','fSuYL','CUCUMBER','icvoG','sJGvb','Agent','Linux','isTestObservabilitySession','child_process','IHCwk','shouldReRunObservabilityTests','git-repo-info','KPtlm','json','mXeBY','fQrRR','headers','1798307gbXCaF','hostname','getFrameworkVersion','format','PLAYWRIGHT','https','quTcD','1206588RwPQRU','win32','GTGOc','UmlsL','getBrowserVersion','getObservabilityLinkedProductName','agent','TEST_ATTACHMENT','AaVyM','vuDls','UnhandledError','Windows','getSession','BROWSERSTACK_RERUN_TESTS','UUvFg','undefined','iVuJI','xcwjl','test_run_uuid','toJSON','application/json','then','oYnEa','config','stringify','bJptj','teMEj','Inpmc','eoEsr','WRdLy','stack','keys','replace','dist','getBrowserName','Error\x20in\x20getting\x20Linux\x20Details','release','map','null','BS_TESTOPS_BUILD_HASHED_ID','kyfIr','][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found','test','util','platformVersion','split','Authorization','PqgoC','trim','xBIbU','YcHwr','TEST_OBSERVABILITY_BUILD_TAG','unknown_grid','X-BSTACK-TESTOPS','JEST','nodeRequest','printBuildLink','err','length','bs:addLog:','includes','rZUdA','pPdPy','backtrace','rPdzi','removeAnsiColors','env','sDBXU','FrYgP','uvSij','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','platform','Rbuqx','GxaDJ','PDxPN','wtmFC','body','capabilities','cTnpU','message','BROWSERSTACK_TEST_OBSERVABILITY','modifyReqForTraceUpload','../../bin/utils/constants','VlWsk','readConfig','CODECEPT_CUCUMBER','maxSockets','BROWSERSTACK_OBSERVABILITY_DEBUG','isArray','13893010aOSibW','BROWSERSTACK_TEST_OBSERVABILITY_YML','lMZOZ','appium:app','Drnec','turboScaleGridDetails','mocha','relative','tXRYU','lmErY','Uploading\x20trace\x20logs\x20to:\x20','host','VsWVL','YjHMy','getCustomTags','AgGFW','error','spy','PJcEZ','log','cwd','catch','bJGgN','MzqkU','toISOString','BROWSERSTACK_TESTHUB_JWT','trace','ZRivF','Content-Type','info','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','bstack:options','path','QFcaj','codeceptjs','../performance/constants','6IlpryG','keepAlive','addRequestSpy','match','getPlatformDetails','automate','fromEntries','@cucumber/cucumber','timeout','MOCHA','85eRMUvK','buildTag','GAYoJ','parseFileNames','CUSTOM_TAG','Tkatc','1058338HsgXVo','debug','3|2|1|5|0|4','expanded','npMTP','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','rootDir','\x20:\x20','sendPlatformDetails','Error\x20in\x20importing\x20windows-release\x20','oVMnX','extractValuesWithRegexKeyMatch','GStVd','data','local_grid','isUndefined','http','yCDQp','YSEMs','filter','getCapabilities','SOMKf','fileName','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','aUVsF','execSync','prefixTestPath','getPackageVersion','bifPn','JWDaG','forEach','maxTotalSockets','__cloud_provider___','platformName','][\x20OBSERVABILITY\x20]\x20','qvRfl','silly','DFtIz','TEST_PLATFORM','failureData','winstonLogger','uWWbj','2066598JkTYIY','llCOq','OS\x20X','map_','@playwright/test','getBrowserStackConfig','DnFjC','pSBTL'];a88_0x2414=function(){return _0x41fca0;};return a88_0x2414();}