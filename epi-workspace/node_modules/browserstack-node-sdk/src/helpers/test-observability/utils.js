const a129_0x1cea74=a129_0x2189;(function(_0x19b1e7,_0x2c1038){const _0x11315b=a129_0x2189,_0x2dcd96=_0x19b1e7();while(!![]){try{const _0x29b268=-parseInt(_0x11315b(0x211))/0x1+parseInt(_0x11315b(0x1d6))/0x2+-parseInt(_0x11315b(0x212))/0x3+parseInt(_0x11315b(0x24b))/0x4*(parseInt(_0x11315b(0x1cd))/0x5)+-parseInt(_0x11315b(0x1f9))/0x6*(parseInt(_0x11315b(0x1a8))/0x7)+-parseInt(_0x11315b(0x1ac))/0x8+parseInt(_0x11315b(0x1e7))/0x9;if(_0x29b268===_0x2c1038)break;else _0x2dcd96['push'](_0x2dcd96['shift']());}catch(_0x47960c){_0x2dcd96['push'](_0x2dcd96['shift']());}}}(a129_0x4dbe,0x283d1));const fs=require('fs'),path=require(a129_0x1cea74(0x20e)),gitLastCommit=require(a129_0x1cea74(0x1aa)),getRepoInfo=require('git-repo-info'),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require(a129_0x1cea74(0x1c5)),https=require('https'),child_process=require(a129_0x1cea74(0x17f)),getos=require(a129_0x1cea74(0x217)),os=require('os'),logger=require('../logger')[a129_0x1cea74(0x1ba)],buildLogger=require(a129_0x1cea74(0x17b))[a129_0x1cea74(0x20b)],bsSetupHelper=require(a129_0x1cea74(0x19c)),requestSpy=require(a129_0x1cea74(0x176)),constants=require(a129_0x1cea74(0x232)),logPatcher=require(a129_0x1cea74(0x1ed)),util=require('util'),{fileLogger}=require(a129_0x1cea74(0x17b)),PerformanceTester=require(a129_0x1cea74(0x208)),{isFunction}=require(a129_0x1cea74(0x18c)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a129_0x1cea74(0x1dd)),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require(a129_0x1cea74(0x1ea));exports['trace']=_0x44a3d6=>{const _0xeb4cf2=a129_0x1cea74;fileLogger[_0xeb4cf2(0x246)]('['+new Date()['toISOString']()+_0xeb4cf2(0x163)+constants[_0xeb4cf2(0x1d4)]+_0xeb4cf2(0x174)+_0x44a3d6);},exports[a129_0x1cea74(0x1c2)]=_0x1b9ff6=>{const _0x5ee481=a129_0x1cea74,_0x276201={};_0x276201[_0x5ee481(0x1c4)]=function(_0x67ec9,_0x4e87dd){return _0x67ec9===_0x4e87dd;},_0x276201['aYDUn']=_0x5ee481(0x1d0),_0x276201['LYgzw']=function(_0x11dead,_0x4a04ee){return _0x11dead===_0x4a04ee;};const _0x1a8842=_0x276201;fileLogger['debug']('['+new Date()[_0x5ee481(0x200)]()+_0x5ee481(0x163)+constants[_0x5ee481(0x1d4)]+_0x5ee481(0x174)+_0x1b9ff6),(_0x1a8842[_0x5ee481(0x1c4)](process[_0x5ee481(0x1ef)][_0x5ee481(0x1f6)],_0x1a8842['aYDUn'])||_0x1a8842[_0x5ee481(0x1c4)](process[_0x5ee481(0x1ef)][_0x5ee481(0x1f6)],'1')||_0x1a8842['LYgzw'](process[_0x5ee481(0x1ef)][_0x5ee481(0x198)],_0x1a8842['aYDUn'])||_0x1a8842['xXuHt'](process[_0x5ee481(0x1ef)][_0x5ee481(0x198)],'1'))&&consoleHolder[_0x5ee481(0x1d9)]('\x0a['+new Date()[_0x5ee481(0x200)]()+'][\x20'+constants[_0x5ee481(0x1d4)]+_0x5ee481(0x174)+_0x1b9ff6+'\x0a');};function a129_0x4dbe(){const _0x101624=['capabilities','err','95291vmuiir','../../bin/v2/browserstackCLI','git-last-commit','zYiII','1830456UpxLXD','platform','getPlatform','config','KpvFG','extractValuesWithRegexKeyMatch','cwd','browserstack','trim','nXguq','asyncAwaitNodeReq','application/json','keys','expanded','winstonLogger','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','AUZTX','@playwright/test','lrmfI','url','codeceptjs','rootDir','debug','bs:addPlatformDetails:','xXuHt','http','BROWSERSTACK_TEST_REPORTING','hostname','jwwIP','ENbpp','CUSTOM_TAG','includes','Content-Type','1556265PGDzdA','MqilW','coNNl','true','data','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','msdzA','TEST_REPORTING_ANALYTICS','PLAYWRIGHT','530424iLXuAf','getPackageVersion','\x20:\x20','log','isUndefined','emit','patchConsoleLogger','../performance/constants','NdYZu','appium:app','CUCUMBER','BROWSERSTACK_TESTHUB_JWT','RxGzv','getCustomTags','wxKyt','isInternalHook','automate','590598HRRlGN','isTestObservabilitySession','shouldReRunObservabilityTests','../../../src/bin/utils/constants','cvDmE','JEST','../../bin/utils/logPatcher','relativeTestFilePath','env','gbMGS','TugXb','SeqvX','error','DsNeZ','Uploading\x20trace\x20logs\x20to:\x20','BROWSERSTACK_TEST_REPORTING_DEBUG','CODECEPT','jest','66xUaETt','QkMJQ','MOCHA','qbLpN','iFKhz','getObservabilityLinkedProductName','relative','toISOString','nuGcy','BROWSERSTACK_TEST_OBSERVABILITY','turboScaleGridDetails','catch','wmpWM','app-automate','host','../performance/performance-tester','execSync','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','buildLogger','[%s][\x20','iXSKA','path','app','isArray','78420mOZkgz','60900HPJBAJ','dzRcK','stack','linux','Authorization','getos','message','getPlatformDetails','formData','info','aiQXX','keepAlive','HirsW','Unknown','browserstack_executor:\x20','oZdcw','wCLvz','HCoHc','X-BSTACK-TESTOPS','OxrMs','turboscale','fromEntries','MHGAg','Failed\x20to\x20determine\x20product\x20linked\x20to\x20','O11Y_URL','JMDMC','spaEN','Linux','O11yHashedID','lNTub','yJMuE','hoYcV','../../bin/utils/constants','fileName','WTZHF','vBROa','nodeRequest','buildTag','unknown_grid','getUserName','push','modifyReqForTraceUpload','DohEj','getCapabilities','getBrowserStackConfig','forEach','BROWSERSTACK_TEST_OBSERVABILITY_YML','VJrXy','toString','format','windows-release','TEST_ATTACHMENT','silly','KNjZY','join','dist','\x20test\x20instance\x20:\x20','4yWLkhJ','BROWSERSTACK_CONFIG_FILE_PATH','platformVersion','TEST_OBSERVABILITY_BUILD_TAG','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','xCuLW','rtpOp','map_','LogCreated','match','parse','object','maxTotalSockets','default','ObservabilitySync:','OS\x20X','win32','length','prefix','ATS_HUB_URL_REGEX','bs:addLog:','maxSockets','pid','rGaNY','removeAnsiColors','split','Error\x20in\x20getting\x20Linux\x20Details','Error\x20in\x20importing\x20windows-release\x20','qYYWa','Visit\x20','qbQuY','logs','EmArs','filter','TEST_REPORTING_BUILD_TAG','enCeg','agent','measureWrapper','ldFJk','UvzIM','parseFileNames','QeiTV','][\x20','vFxwm','release','map','pvGQF','eqnxf','null','getFailureType','YcmGX','JubPm','jfClA','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','getAccessKey','Windows','hBOUF','timeout','BROWSERSTACK_RERUN_TESTS','\x20]\x20','TOouQ','../../helpers/request-spy','DlssL','whkgB','Agent','bstack:options','../logger','body','__cloud_provider___','KfQzg','child_process','pUatE','NRwzT','@cucumber/cucumber','toJSON','customTag','\x20]\x20Build\x20Not\x20Found\x20%s','ZLwGR','getFrameworkVersion','iKrPr','TZNRK','bBKaN','nyege','lodash','getSyncScript','RjJUM','backtrace','headers','sleep','getDefaultHeaders','KmGvC','HUB_URL_REGEX','/builds/','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','^CUSTOM_TAG_\x5cd+$','BROWSERSTACK_OBSERVABILITY_DEBUG','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','ZrfGC','xYozR','../helper','undefined','getBuildTags','hMaCX','test','AssertionError','dlxzP','TEST_PLATFORM','BS_TESTOPS_BUILD_HASHED_ID','nzzHn'];a129_0x4dbe=function(){return _0x101624;};return a129_0x4dbe();}const a129_0x42a5f1={};a129_0x42a5f1[a129_0x1cea74(0x21d)]=!![],a129_0x42a5f1['timeout']=0xea60,a129_0x42a5f1[a129_0x1cea74(0x14e)]=0x2,a129_0x42a5f1[a129_0x1cea74(0x145)]=0x2;const httpKeepAliveAgent=new http[(a129_0x1cea74(0x179))](a129_0x42a5f1),a129_0x237c77={};a129_0x237c77[a129_0x1cea74(0x21d)]=!![],a129_0x237c77['timeout']=0xea60,a129_0x237c77[a129_0x1cea74(0x14e)]=0x2,a129_0x237c77[a129_0x1cea74(0x145)]=0x2;const httpsKeepAliveAgent=new https[(a129_0x1cea74(0x179))](a129_0x237c77),a129_0x487407={};a129_0x487407['keepAlive']=!![],a129_0x487407[a129_0x1cea74(0x172)]=0xea60,a129_0x487407['maxSockets']=0x2,a129_0x487407[a129_0x1cea74(0x145)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a129_0x1cea74(0x179))](a129_0x487407),a129_0x3f00d4={};a129_0x3f00d4[a129_0x1cea74(0x21d)]=!![],a129_0x3f00d4[a129_0x1cea74(0x172)]=0xea60,a129_0x3f00d4[a129_0x1cea74(0x14e)]=0x2,a129_0x3f00d4[a129_0x1cea74(0x145)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a129_0x1cea74(0x179))](a129_0x3f00d4);function a129_0x2189(_0x5aab59,_0x359ed8){const _0x4dbeea=a129_0x4dbe();return a129_0x2189=function(_0x218941,_0x997a9f){_0x218941=_0x218941-0x13b;let _0x5c2a1d=_0x4dbeea[_0x218941];return _0x5c2a1d;},a129_0x2189(_0x5aab59,_0x359ed8);}exports[a129_0x1cea74(0x1e9)]=()=>{const _0x3e0c45=a129_0x1cea74,_0x38a8cc={};_0x38a8cc['NdYZu']=function(_0x4417ba,_0x69c21d){return _0x4417ba!==_0x69c21d;},_0x38a8cc[_0x3e0c45(0x1c8)]=_0x3e0c45(0x169);const _0x570341=_0x38a8cc;return process[_0x3e0c45(0x1ef)][_0x3e0c45(0x173)]&&_0x570341[_0x3e0c45(0x1de)](process[_0x3e0c45(0x1ef)][_0x3e0c45(0x173)],_0x570341[_0x3e0c45(0x1c8)])?!![]:![];},exports[a129_0x1cea74(0x1e8)]=()=>{const _0x57d137=a129_0x1cea74,_0x352ab9={};_0x352ab9[_0x57d137(0x1f0)]=function(_0x5d3c74,_0x555edb){return _0x5d3c74===_0x555edb;},_0x352ab9[_0x57d137(0x19f)]=_0x57d137(0x1d0);const _0x33de82=_0x352ab9;let _0x5b9151=!![];return process[_0x57d137(0x1ef)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']&&(_0x5b9151=_0x33de82[_0x57d137(0x1f0)](process['env'][_0x57d137(0x240)],_0x33de82[_0x57d137(0x19f)])),process[_0x57d137(0x1ef)]['BROWSERSTACK_TEST_OBSERVABILITY']&&(_0x5b9151=_0x33de82[_0x57d137(0x1f0)](process[_0x57d137(0x1ef)][_0x57d137(0x202)],_0x33de82[_0x57d137(0x19f)])),process['env'][_0x57d137(0x1c6)]&&(_0x5b9151=_0x33de82[_0x57d137(0x1f0)](process[_0x57d137(0x1ef)][_0x57d137(0x1c6)],_0x33de82['hMaCX'])),_0x5b9151;},exports[a129_0x1cea74(0x161)]=_0x2a34e5=>{const _0x5c31d5=a129_0x1cea74;if(bsSetupHelper[_0x5c31d5(0x1da)](_0x2a34e5))return undefined;try{return _0x2a34e5['trim']()[_0x5c31d5(0x152)](',');}catch(_0x302023){return undefined;}},exports['printBuildLink']=()=>{const _0x19492f=a129_0x1cea74,_0x3d09b6={'ZLwGR':function(_0x2d50bd,_0x141023){return _0x2d50bd(_0x141023);},'AUZTX':_0x19492f(0x1a9),'bvaev':function(_0x10961f,_0x31d350){return _0x10961f!==_0x31d350;},'EmArs':_0x19492f(0x169),'VJrXy':function(_0x1e0468,_0x59e357){return _0x1e0468!==_0x59e357;},'qnBDf':_0x19492f(0x19d)};return PerformanceTester[_0x19492f(0x15e)](PerformanceO11yEvents['PRINT_BUILDLINK'],async()=>{const _0x1d7521=_0x19492f;try{const _0x1a7252=_0x3d09b6[_0x1d7521(0x186)](require,_0x3d09b6[_0x1d7521(0x1bc)]);if(_0x1a7252[_0x1d7521(0x22e)]){const _0x5df8a5=_0x1d7521(0x156)+O11Y_URL+_0x1d7521(0x195)+_0x1a7252['O11yHashedID']+_0x1d7521(0x1bb);buildLogger['info'](_0x5df8a5);return;}if(process['env'][_0x1d7521(0x1a4)]&&_0x3d09b6['bvaev'](process[_0x1d7521(0x1ef)][_0x1d7521(0x1a4)],_0x3d09b6[_0x1d7521(0x159)])&&_0x3d09b6[_0x1d7521(0x241)](process[_0x1d7521(0x1ef)]['BS_TESTOPS_BUILD_HASHED_ID'],_0x3d09b6['qnBDf'])){const _0x47e4a1=_0x1d7521(0x156)+constants[_0x1d7521(0x22a)]+_0x1d7521(0x195)+process['env']['BS_TESTOPS_BUILD_HASHED_ID']+_0x1d7521(0x1bb);buildLogger[_0x1d7521(0x21b)](_0x47e4a1);}}catch(_0x28fcfc){logger[_0x1d7521(0x1f3)](util[_0x1d7521(0x243)](_0x1d7521(0x20c)+constants[_0x1d7521(0x1d4)]+_0x1d7521(0x185),new Date()[_0x1d7521(0x200)](),_0x28fcfc[_0x1d7521(0x214)]||_0x28fcfc[_0x1d7521(0x218)]||_0x28fcfc));}})();},exports[a129_0x1cea74(0x16a)]=_0x5e2de9=>{const _0x190b0f=a129_0x1cea74,_0x4b4a13={};_0x4b4a13['ldFJk']=_0x190b0f(0x1a1),_0x4b4a13[_0x190b0f(0x222)]='UnhandledError';const _0x532bdc=_0x4b4a13;if(!_0x5e2de9)return null;return _0x5e2de9['toString']()['match'](/AssertionError/)?_0x532bdc[_0x190b0f(0x15f)]:_0x532bdc[_0x190b0f(0x222)];},exports[a129_0x1cea74(0x187)]=_0x3b1cd5=>{const _0x5d5738=a129_0x1cea74,_0x26bb5e={};_0x26bb5e[_0x5d5738(0x21e)]='mocha',_0x26bb5e[_0x5d5738(0x16c)]=_0x5d5738(0x1bd),_0x26bb5e[_0x5d5738(0x18b)]=_0x5d5738(0x1c0),_0x26bb5e[_0x5d5738(0x160)]=_0x5d5738(0x1f8),_0x26bb5e[_0x5d5738(0x1ce)]=_0x5d5738(0x182);const _0x32f8fe=_0x26bb5e;let _0x43d129=null;switch(_0x3b1cd5){case FRAMEWORKS[_0x5d5738(0x1fb)]:_0x43d129=bsSetupHelper[_0x5d5738(0x1d7)](_0x32f8fe[_0x5d5738(0x21e)]);break;case FRAMEWORKS[_0x5d5738(0x1d5)]:_0x43d129=bsSetupHelper[_0x5d5738(0x1d7)](_0x32f8fe[_0x5d5738(0x16c)]);break;case FRAMEWORKS[_0x5d5738(0x1f7)]:case FRAMEWORKS['CODECEPT_CUCUMBER']:_0x43d129=bsSetupHelper[_0x5d5738(0x1d7)](_0x32f8fe['nyege']);break;case FRAMEWORKS[_0x5d5738(0x1ec)]:_0x43d129=bsSetupHelper[_0x5d5738(0x1d7)](_0x32f8fe[_0x5d5738(0x160)]);break;case FRAMEWORKS[_0x5d5738(0x1e0)]:_0x43d129=bsSetupHelper[_0x5d5738(0x1d7)](_0x32f8fe[_0x5d5738(0x1ce)]);break;default:break;}return _0x43d129;},exports[a129_0x1cea74(0x23e)]=_0x2b3ce6=>{const _0x338872=a129_0x1cea74;let _0x10ccef=null;switch(_0x2b3ce6){case FRAMEWORKS['PLAYWRIGHT']:_0x10ccef=process[_0x338872(0x1ef)][_0x338872(0x24c)];break;}if(!_0x10ccef)return;return bsSetupHelper['readConfig'](_0x10ccef,![]);},exports['getUserCredentials']=_0x3afe4b=>{const _0x59c64a=a129_0x1cea74;return{'username':bsSetupHelper[_0x59c64a(0x239)](_0x3afe4b),'accessKey':bsSetupHelper[_0x59c64a(0x16f)](_0x3afe4b)};},exports['modifyReqForTraceUpload']=(_0x1b849f,_0x2904a3)=>{const _0x58e0c2=a129_0x1cea74,_0x31c278={};_0x31c278['qYYWa']='1|3|4|0|2|5',_0x31c278['NRwzT']=_0x58e0c2(0x141),_0x31c278[_0x58e0c2(0x164)]=_0x58e0c2(0x245);const _0x41cd2e=_0x31c278,_0x3b767d=_0x41cd2e[_0x58e0c2(0x155)]['split']('|');let _0x11e924=0x0;while(!![]){switch(_0x3b767d[_0x11e924++]){case'0':delete _0x1b849f[_0x58e0c2(0x17c)];continue;case'1':if(!_0x1b849f['body']||!Array[_0x58e0c2(0x210)](_0x1b849f[_0x58e0c2(0x17c)]))return;continue;case'2':delete _0x1b849f['json'];continue;case'3':if(!_0x1b849f['body'][0x0]||!_0x1b849f[_0x58e0c2(0x17c)][0x0][_0x58e0c2(0x158)]||!_0x1b849f[_0x58e0c2(0x17c)][0x0][_0x58e0c2(0x158)][_0x58e0c2(0x14a)])return;continue;case'4':_0x1b849f[_0x58e0c2(0x21a)]={'data':_0x1b849f[_0x58e0c2(0x17c)][0x0][_0x58e0c2(0x158)][0x0][_0x58e0c2(0x1d1)],'test_run_uuid':_0x1b849f[_0x58e0c2(0x17c)][0x0][_0x58e0c2(0x158)][0x0]['test_run_uuid'],'event_type':_0x41cd2e[_0x58e0c2(0x181)],'kind':_0x41cd2e[_0x58e0c2(0x164)],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x58e0c2(0x200)](),'fileName':_0x1b849f[_0x58e0c2(0x17c)][0x0][_0x58e0c2(0x158)][0x0][_0x58e0c2(0x233)]};continue;case'5':delete _0x2904a3['headers'];continue;}break;}},exports[a129_0x1cea74(0x1b6)]=async(_0x78c527,_0x33f746,_0x5c1303,_0x1b4b44,_0x3b9742=!![])=>{const _0x2969de=a129_0x1cea74,_0xf76544={};_0xf76544[_0x2969de(0x1a2)]=function(_0x4f205f,_0x228d18){return _0x4f205f===_0x228d18;},_0xf76544[_0x2969de(0x19b)]=_0x2969de(0x1cc),_0xf76544['KfQzg']='application/json',_0xf76544[_0x2969de(0x1b5)]='https',_0xf76544[_0x2969de(0x205)]=function(_0x41c050,_0x31725c){return _0x41c050!==_0x31725c;},_0xf76544['BIMgn']=function(_0x3f53a6,_0x40ade3){return _0x3f53a6!==_0x40ade3;},_0xf76544['IQTdK']=_0x2969de(0x144),_0xf76544[_0x2969de(0x1eb)]=_0x2969de(0x20a);const _0x3895fb=_0xf76544,_0x5da2e6={..._0x1b4b44,...{'method':_0x78c527,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x33f746,'body':_0x5c1303,'json':_0x3895fb[_0x2969de(0x1a2)](_0x1b4b44[_0x2969de(0x190)][_0x3895fb[_0x2969de(0x19b)]],_0x3895fb[_0x2969de(0x17e)]),'agent':API_URL[_0x2969de(0x1cb)](_0x3895fb[_0x2969de(0x1b5)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x3895fb[_0x2969de(0x1a2)](_0x33f746,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x5da2e6[_0x2969de(0x15d)]=API_URL[_0x2969de(0x1cb)](_0x3895fb[_0x2969de(0x1b5)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x2969de(0x23b)](_0x5da2e6,_0x1b4b44),logger[_0x2969de(0x1c2)](_0x2969de(0x1f5)+_0x5da2e6[_0x2969de(0x1bf)]));try{const {statusCode:_0x5d8c98,body:_0x6bed9b}=await bsSetupHelper['nodeRequest'](_0x78c527,_0x33f746,_0x5da2e6,_0x1b4b44,_0x5da2e6['url']);if(_0x3895fb['wmpWM'](_0x5d8c98,0xc8))return _0x6bed9b?_0x6bed9b:_0x2969de(0x196)+_0x5d8c98;let _0x2a4b71=_0x6bed9b;if(_0x3b9742)try{_0x3895fb['BIMgn'](typeof _0x6bed9b,_0x3895fb['IQTdK'])&&(_0x2a4b71=JSON[_0x2969de(0x143)](_0x6bed9b));}catch(_0x452d8c){logger[_0x2969de(0x1f3)](_0x3895fb['cvDmE'],_0x6bed9b,util[_0x2969de(0x243)](_0x452d8c));}const _0x536b1c={};return _0x536b1c[_0x2969de(0x1d1)]=_0x2a4b71,_0x536b1c;}catch(_0x84b3d9){logger[_0x2969de(0x1f3)](_0x2969de(0x16e)+util['format'](_0x84b3d9));throw _0x84b3d9;}},exports[a129_0x1cea74(0x236)]=(_0x460222,_0x3144bf,_0x636477,_0xd0b271,_0x144944=!![])=>{const _0x5d825b=a129_0x1cea74,_0x5f57ae={'wKIiW':function(_0x1ee5d1,_0x44e8a5){return _0x1ee5d1!==_0x44e8a5;},'nzzHn':function(_0x2b4a32,_0x4a4e7a){return _0x2b4a32(_0x4a4e7a);},'TZNRK':function(_0x4a8a67,_0x11883b){return _0x4a8a67!==_0x11883b;},'hoYcV':_0x5d825b(0x144),'BnKqS':_0x5d825b(0x1d2),'aiQXX':function(_0x241ed9,_0x1a1fde){return _0x241ed9(_0x1a1fde);},'vscxX':function(_0x253fcb,_0x437dd6){return _0x253fcb===_0x437dd6;},'cUEqg':_0x5d825b(0x1cc),'zYiII':_0x5d825b(0x1b7),'pvGQF':'https','WTZHF':function(_0x2b4d77,_0x4cdcc3){return _0x2b4d77===_0x4cdcc3;}};return new Promise((_0x5d209d,_0x41d752)=>{const _0xabeb76=_0x5d825b,_0x295bd3={'iKrPr':function(_0x2d367a,_0x384a8e){const _0x29ebcd=a129_0x2189;return _0x5f57ae[_0x29ebcd(0x21c)](_0x2d367a,_0x384a8e);}},_0x350d8c={..._0xd0b271,...{'method':_0x460222,'url':API_URL+'/'+_0x3144bf,'body':_0x636477,'json':_0x5f57ae['vscxX'](_0xd0b271[_0xabeb76(0x190)][_0x5f57ae['cUEqg']],_0x5f57ae[_0xabeb76(0x1ab)]),'agent':API_URL[_0xabeb76(0x1cb)](_0x5f57ae['pvGQF'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x5f57ae[_0xabeb76(0x234)](_0x3144bf,SCREENSHOT_ENDPOINT)&&(_0x350d8c[_0xabeb76(0x15d)]=API_URL['includes'](_0x5f57ae[_0xabeb76(0x167)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper['nodeRequest'](_0x460222,_0x3144bf,_0x350d8c,_0xd0b271,API_URL)['then'](({statusCode:_0x5a621f,body:_0xd6fb25})=>{const _0x373731=_0xabeb76;if(_0x5f57ae['wKIiW'](_0x5a621f,0xc8))_0x5f57ae[_0x373731(0x1a5)](_0x41d752,_0xd6fb25?_0xd6fb25:_0x373731(0x196)+_0x5a621f);else{if(_0x144944)try{_0x5f57ae[_0x373731(0x189)](typeof _0xd6fb25,_0x5f57ae[_0x373731(0x231)])&&(_0xd6fb25=JSON['parse'](_0xd6fb25));}catch(_0x37a31f){_0x5f57ae[_0x373731(0x1a5)](_0x41d752,_0x5f57ae['BnKqS']);return;}const _0x135ed2={};_0x135ed2[_0x373731(0x1d1)]=_0xd6fb25,_0x5f57ae[_0x373731(0x1a5)](_0x5d209d,_0x135ed2);}})[_0xabeb76(0x204)](_0x14f51b=>{const _0x7252a1=_0xabeb76;_0x14f51b&&_0x295bd3[_0x7252a1(0x188)](_0x41d752,_0x14f51b);});});},exports[a129_0x1cea74(0x19e)]=_0x35426f=>{const _0x5e60a9=a129_0x1cea74;if(process[_0x5e60a9(0x1ef)][_0x5e60a9(0x15b)])return process[_0x5e60a9(0x1ef)][_0x5e60a9(0x15b)][_0x5e60a9(0x152)](',');if(process[_0x5e60a9(0x1ef)][_0x5e60a9(0x13c)])return process[_0x5e60a9(0x1ef)]['TEST_OBSERVABILITY_BUILD_TAG']['split'](',');if(_0x35426f['buildTag'])return _0x35426f[_0x5e60a9(0x237)];return[];},exports[a129_0x1cea74(0x192)]=(_0x8e5390=!![])=>{const _0xc0cf15=a129_0x1cea74,_0x3fca6d={};_0x3fca6d[_0xc0cf15(0x223)]=_0xc0cf15(0x1b7),_0x3fca6d[_0xc0cf15(0x1b0)]='true',_0x3fca6d['KhQtt']=_0xc0cf15(0x216);const _0x316923=_0x3fca6d,_0x159ec9={};_0x159ec9[_0xc0cf15(0x1cc)]=_0x316923['HCoHc'],_0x159ec9[_0xc0cf15(0x224)]=_0x316923[_0xc0cf15(0x1b0)];const _0x385e8a=_0x159ec9;return _0x8e5390&&process[_0xc0cf15(0x1ef)][_0xc0cf15(0x1e1)]&&(_0x385e8a[_0x316923['KhQtt']]='Bearer\x20'+process['env'][_0xc0cf15(0x1e1)]),_0x385e8a;},exports[a129_0x1cea74(0x1b1)]=_0x5500f0=>{const _0x26f6a0=a129_0x1cea74,_0xae2213={};_0xae2213['QkMJQ']=_0x26f6a0(0x197);const _0x5ef70d=_0xae2213,_0x49f3c2=[],_0x45de59=new RegExp(_0x5ef70d[_0x26f6a0(0x1fa)],'i');return Object[_0x26f6a0(0x1b8)](_0x5500f0)[_0x26f6a0(0x15a)](_0x43afde=>_0x45de59[_0x26f6a0(0x1a0)](_0x43afde))[_0x26f6a0(0x23f)](_0x457f9e=>_0x49f3c2[_0x26f6a0(0x23a)](_0x5500f0[_0x457f9e])),_0x49f3c2;},exports[a129_0x1cea74(0x1e3)]=_0x9c50cc=>{const _0x2fbcab=a129_0x1cea74,_0xc9675c=[],_0x393737=_0x9c50cc[_0x2fbcab(0x184)]||process[_0x2fbcab(0x1ef)][_0x2fbcab(0x1ca)];return _0x393737&&_0xc9675c[_0x2fbcab(0x23a)](_0x393737),_0xc9675c['push'](...exports[_0x2fbcab(0x1b1)](process[_0x2fbcab(0x1ef)])),_0xc9675c[_0x2fbcab(0x23a)](...exports[_0x2fbcab(0x1b1)](_0x9c50cc)),_0xc9675c;},exports[a129_0x1cea74(0x151)]=_0xd4284a=>{if(!_0xd4284a)return'';return _0xd4284a['replace'](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a129_0x1cea74(0x191)]=(_0x5909ad=0x64)=>new Promise(_0x7e05eb=>setTimeout(_0x7e05eb,_0x5909ad));const getPlatformName=()=>{const _0x18087d=a129_0x1cea74,_0x229831={};_0x229831['yJMuE']=function(_0x313fc2,_0x4a5104){return _0x313fc2===_0x4a5104;},_0x229831[_0x18087d(0x13e)]=_0x18087d(0x149),_0x229831[_0x18087d(0x1e4)]=_0x18087d(0x170),_0x229831[_0x18087d(0x18e)]=function(_0x3ab61d,_0x23152e){return _0x3ab61d===_0x23152e;},_0x229831['dzRcK']='darwin',_0x229831[_0x18087d(0x171)]=_0x18087d(0x148),_0x229831[_0x18087d(0x175)]=function(_0x4f5872,_0x19092e){return _0x4f5872===_0x19092e;},_0x229831[_0x18087d(0x1d3)]=_0x18087d(0x215),_0x229831['SeqvX']='Linux',_0x229831[_0x18087d(0x1be)]=_0x18087d(0x21f);const _0x149e02=_0x229831;if(_0x149e02[_0x18087d(0x230)](process[_0x18087d(0x1ad)],_0x149e02[_0x18087d(0x13e)]))return _0x149e02['wxKyt'];if(_0x149e02['RjJUM'](process[_0x18087d(0x1ad)],_0x149e02[_0x18087d(0x213)]))return _0x149e02[_0x18087d(0x171)];if(_0x149e02[_0x18087d(0x175)](process[_0x18087d(0x1ad)],_0x149e02[_0x18087d(0x1d3)]))return _0x149e02[_0x18087d(0x1f2)];return _0x149e02['lrmfI'];},getMacOSVersion=()=>{const _0x5eb86a=a129_0x1cea74,_0x288286={};_0x288286[_0x5eb86a(0x247)]='awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27';const _0x531877=_0x288286;return child_process[_0x5eb86a(0x209)](_0x531877[_0x5eb86a(0x247)])[_0x5eb86a(0x242)]()[_0x5eb86a(0x1b4)]();},getLinuxDetails=()=>{const _0x4c73f7={'qbLpN':function(_0x1c1372,_0x257825){return _0x1c1372(_0x257825);},'iXSKA':function(_0xbe426d,_0xd03005){return _0xbe426d(_0xd03005);}};return new Promise((_0x4f9571,_0x740a38)=>{const _0x371b07=a129_0x2189;_0x4c73f7[_0x371b07(0x20d)](getos,(_0x10587d,_0x1b248b)=>{const _0x39d62c=_0x371b07;if(_0x10587d)return _0x4c73f7[_0x39d62c(0x1fc)](_0x740a38,_0x10587d);_0x4c73f7['qbLpN'](_0x4f9571,_0x1b248b);});});};exports[a129_0x1cea74(0x219)]=async()=>{const _0x4dfe7a=a129_0x1cea74,_0x56940d={'TugXb':function(_0x1d4c22){return _0x1d4c22();},'HpRMJ':_0x4dfe7a(0x148),'eqnxf':'Windows','DohEj':_0x4dfe7a(0x244),'jfClA':_0x4dfe7a(0x22d),'tnWmC':function(_0x32a6ee){return _0x32a6ee();},'coNNl':_0x4dfe7a(0x153)};let _0x1ac97c=_0x56940d['TugXb'](getPlatformName),_0x10e282=os[_0x4dfe7a(0x165)]()[_0x4dfe7a(0x242)]();switch(_0x1ac97c){case _0x56940d['HpRMJ']:_0x10e282=_0x56940d[_0x4dfe7a(0x1f1)](getMacOSVersion);break;case _0x56940d[_0x4dfe7a(0x168)]:try{const _0x344062=(await import(_0x56940d[_0x4dfe7a(0x23c)]))[_0x4dfe7a(0x146)];_0x10e282=_0x56940d[_0x4dfe7a(0x1f1)](_0x344062);}catch(_0x110678){exports[_0x4dfe7a(0x1c2)](_0x4dfe7a(0x154)+_0x110678['toString']());}break;case _0x56940d[_0x4dfe7a(0x16d)]:try{const _0x41f0ca=await _0x56940d['tnWmC'](getLinuxDetails);_0x41f0ca[_0x4dfe7a(0x249)]&&(_0x1ac97c=_0x41f0ca['dist']),_0x41f0ca[_0x4dfe7a(0x165)]&&(_0x10e282=_0x41f0ca[_0x4dfe7a(0x165)]['toString']());}catch(_0x4a02b5){exports[_0x4dfe7a(0x1c2)](_0x56940d[_0x4dfe7a(0x1cf)]);}break;default:break;}const _0x361cd5={};return _0x361cd5['platformName']=_0x1ac97c,_0x361cd5[_0x4dfe7a(0x13b)]=_0x10e282,_0x361cd5;},exports['failureData']=(_0x599288,_0x12b1fa)=>{const _0x5284dd=a129_0x1cea74,_0x4db6a2={};_0x4db6a2[_0x5284dd(0x193)]=function(_0xde710d,_0x44b398){return _0xde710d===_0x44b398;},_0x4db6a2['qbQuY']=_0x5284dd(0x1a0),_0x4db6a2['whkgB']=_0x5284dd(0x1a7);const _0xb627c8=_0x4db6a2;if(!_0x599288)return[];try{if(_0xb627c8['KmGvC'](_0x12b1fa,_0xb627c8[_0x5284dd(0x157)]))return _0x599288[_0x5284dd(0x166)](_0x2934b0=>{const _0x1a0173=_0x5284dd,{stack:_0x399ae6,..._0x439946}=_0x2934b0,_0x266557=Object[_0x1a0173(0x1b8)](_0x439946)[_0x1a0173(0x166)](_0x31bb5d=>{return _0x31bb5d+':\x20'+_0x439946[_0x31bb5d];}),_0x5f4089=_0x399ae6?exports[_0x1a0173(0x151)](_0x399ae6)[_0x1a0173(0x152)](/\r?\n/):[exports[_0x1a0173(0x151)](_0x2934b0[_0x1a0173(0x218)])],_0x164bda={};return _0x164bda[_0x1a0173(0x18f)]=_0x5f4089,_0x164bda[_0x1a0173(0x1b9)]=_0x266557,_0x164bda;});else{if(_0xb627c8[_0x5284dd(0x193)](_0x12b1fa,_0xb627c8[_0x5284dd(0x178)])){const _0x578c45=[],_0x1684f9=[];return Object[_0x5284dd(0x1b8)](_0x599288)['forEach'](_0x3d517e=>{const _0x408e3a=_0x5284dd;try{_0x1684f9[_0x408e3a(0x23a)](_0x3d517e+':\x20'+_0x599288[_0x3d517e]);}catch(_0x3070bd){exports[_0x408e3a(0x1c2)](_0x408e3a(0x13d)+_0x3070bd[_0x408e3a(0x218)]+_0x408e3a(0x1d8)+_0x3070bd[_0x408e3a(0x18f)]);}}),_0x578c45[_0x5284dd(0x23a)]({'backtrace':exports[_0x5284dd(0x151)](_0x599288[_0x5284dd(0x214)])['split'](/\r?\n/),'expanded':_0x1684f9}),_0x578c45;}}return[];}catch(_0x66dd0d){exports[_0x5284dd(0x1c2)](_0x5284dd(0x13d)+_0x66dd0d['message']+_0x5284dd(0x1d8)+_0x66dd0d[_0x5284dd(0x18f)]);}return[];};class PathHelper{constructor(_0x55a007,_0x37d7e6){const _0xcde0ad=a129_0x1cea74;this[_0xcde0ad(0x1af)]=_0x55a007,this[_0xcde0ad(0x14b)]=_0x37d7e6;}[a129_0x1cea74(0x1ee)](_0xc7fcfc){const _0x22e360=a129_0x1cea74,_0x18405b=this[_0x22e360(0x1af)][_0x22e360(0x1b2)]||this[_0x22e360(0x1af)][_0x22e360(0x1c1)];return path[_0x22e360(0x1ff)](_0x18405b,_0xc7fcfc);}['prefixTestPath'](_0x4588e7){const _0x1dfff1=a129_0x1cea74,_0x3d5844=this[_0x1dfff1(0x1ee)](_0x4588e7);return this[_0x1dfff1(0x14b)]?path[_0x1dfff1(0x248)](this[_0x1dfff1(0x14b)],_0x3d5844):_0x3d5844;}}exports['PathHelper']=PathHelper,exports['addRequestSpy']=(_0x46fafc=!![])=>{const _0x322d4d=a129_0x1cea74,_0x20ade6={};_0x20ade6[_0x322d4d(0x1c9)]=function(_0x207cc,_0x262cb3){return _0x207cc===_0x262cb3;},_0x20ade6[_0x322d4d(0x180)]=_0x322d4d(0x224),_0x20ade6[_0x322d4d(0x1f4)]=_0x322d4d(0x1d0),_0x20ade6[_0x322d4d(0x19a)]='HTTP',_0x20ade6[_0x322d4d(0x150)]=_0x322d4d(0x1b3),_0x20ade6[_0x322d4d(0x228)]='local_grid';const _0x74170c=_0x20ade6;requestSpy['spy']((_0x4aa545,_0x183d8f)=>{const _0x5e9d9c=_0x322d4d;_0x183d8f&&!(_0x183d8f[_0x5e9d9c(0x190)]&&_0x74170c[_0x5e9d9c(0x1c9)](_0x183d8f['headers'][_0x74170c[_0x5e9d9c(0x180)]],_0x74170c[_0x5e9d9c(0x1f4)]))&&(_0x183d8f['host']=_0x183d8f['hostname'],delete _0x183d8f[_0x5e9d9c(0x1c7)],_0x46fafc&&process[_0x5e9d9c(0x1db)](_0x5e9d9c(0x14d)+process[_0x5e9d9c(0x14f)],{'timestamp':new Date()[_0x5e9d9c(0x200)](),'level':null,'message':null,'kind':_0x74170c['ZrfGC'],'http_response':_0x183d8f})),_0x183d8f&&(constants[_0x5e9d9c(0x194)][_0x5e9d9c(0x1a0)](_0x183d8f[_0x5e9d9c(0x207)])||constants[_0x5e9d9c(0x14c)][_0x5e9d9c(0x1a0)](_0x183d8f[_0x5e9d9c(0x207)]))?global[_0x5e9d9c(0x17d)]=_0x74170c[_0x5e9d9c(0x150)]:global[_0x5e9d9c(0x17d)]=_0x74170c[_0x5e9d9c(0x228)];});},exports[a129_0x1cea74(0x1dc)]=()=>{const _0x2d12d2=a129_0x1cea74,_0x479ec8={'rtpOp':function(_0x4b63f8,_0x10da01){return _0x4b63f8(_0x10da01);}};console={},Object['keys'](consoleHolder)[_0x2d12d2(0x23f)](_0x1e5edf=>{const _0x1cc7dc=_0x2d12d2;_0x479ec8[_0x1cc7dc(0x13f)](isFunction,consoleHolder[_0x1e5edf])?console[_0x1e5edf]=(..._0x39a1b6)=>{const _0x454adf=_0x1cc7dc;try{!Object[_0x454adf(0x1b8)](BSTestOpsPatcher)[_0x454adf(0x1cb)](_0x1e5edf)?consoleHolder[_0x1e5edf](..._0x39a1b6):BSTestOpsPatcher[_0x1e5edf](..._0x39a1b6);}catch(_0x55143a){consoleHolder[_0x1e5edf](..._0x39a1b6);}}:console[_0x1e5edf]=consoleHolder[_0x1e5edf];});},exports[a129_0x1cea74(0x18d)]=()=>a129_0x1cea74(0x220)+JSON['stringify']({'action':'annotate','arguments':{'data':a129_0x1cea74(0x147)+Date['now'](),'level':'debug'}}),exports['getObservabilityLinkedProductName']=_0x18563d=>{const _0x314bb6=a129_0x1cea74,_0x597ae6={};_0x597ae6[_0x314bb6(0x15c)]=function(_0x4e110,_0xed2248){return _0x4e110===_0xed2248;},_0x597ae6['spaEN']='browserstack',_0x597ae6[_0x314bb6(0x235)]=_0x314bb6(0x1df),_0x597ae6['RxGzv']=_0x314bb6(0x20f),_0x597ae6['QeiTV']=function(_0x38eb0c,_0x224079){return _0x38eb0c>_0x224079;},_0x597ae6[_0x314bb6(0x221)]=_0x314bb6(0x206),_0x597ae6['OxrMs']=_0x314bb6(0x17a),_0x597ae6[_0x314bb6(0x201)]=_0x314bb6(0x203),_0x597ae6['bBKaN']=_0x314bb6(0x226),_0x597ae6['iFKhz']=_0x314bb6(0x1e6);const _0x3d1927=_0x597ae6;let _0x462b9d=null;try{if(_0x3d1927[_0x314bb6(0x15c)](global[_0x314bb6(0x17d)],_0x3d1927[_0x314bb6(0x22c)])){if(_0x18563d[_0x3d1927['vBROa']]||_0x18563d[_0x3d1927['RxGzv']]||!bsSetupHelper['isUndefined'](global[_0x314bb6(0x1a6)])&&_0x3d1927[_0x314bb6(0x162)](global[_0x314bb6(0x1a6)][_0x314bb6(0x14a)],0x0)&&(global[_0x314bb6(0x1a6)][0x0][_0x3d1927[_0x314bb6(0x1e2)]]||global[_0x314bb6(0x1a6)][0x0][_0x3d1927[_0x314bb6(0x235)]]))_0x462b9d=_0x3d1927['oZdcw'];else _0x18563d[_0x3d1927[_0x314bb6(0x225)]]&&_0x18563d[_0x3d1927[_0x314bb6(0x225)]][_0x3d1927[_0x314bb6(0x201)]]?_0x462b9d=_0x3d1927[_0x314bb6(0x18a)]:_0x462b9d=_0x3d1927[_0x314bb6(0x1fd)];}}catch(_0x174217){exports[_0x314bb6(0x1c2)](_0x314bb6(0x229)+constants['TEST_REPORTING_ANALYTICS']+_0x314bb6(0x24a)+_0x174217);}return _0x462b9d;},exports['sendPlatformDetails']=async(_0x2869b9,_0x5391e9,_0x51b3c7=![])=>{const _0x1a70a8=a129_0x1cea74,_0x4e35bf={};_0x4e35bf[_0x1a70a8(0x22f)]=function(_0x156aef,_0x53b672){return _0x156aef===_0x53b672;},_0x4e35bf[_0x1a70a8(0x16b)]=_0x1a70a8(0x1b3),_0x4e35bf[_0x1a70a8(0x22b)]=_0x1a70a8(0x238),_0x4e35bf[_0x1a70a8(0x177)]=_0x1a70a8(0x1a3);const _0x19b180=_0x4e35bf;try{const _0xabb0f2=await _0x2869b9['getCapabilities'](),_0x32333f=await _0x2869b9['getSession'](),_0x9abc60={},_0x3a93a3=Object[_0x1a70a8(0x227)](_0x32333f[_0x1a70a8(0x23d)]()[_0x1a70a8(0x140)]),_0x52d76a={'product':exports[_0x1a70a8(0x1fe)](_0x3a93a3),'capabilities':_0x3a93a3,'platform':_0xabb0f2[_0x1a70a8(0x1ae)](),'platform_version':bsSetupHelper['getPlatformVersion'](_0x19b180[_0x1a70a8(0x22f)](global['__cloud_provider___'],_0x19b180[_0x1a70a8(0x16b)])),'browser':_0xabb0f2['getBrowserName'](),'browser_version':_0xabb0f2['getBrowserVersion'](),'session_id':_0x32333f[_0x1a70a8(0x183)]()};global[_0x1a70a8(0x17d)]?_0x9abc60[global[_0x1a70a8(0x17d)]]=_0x52d76a:_0x9abc60[_0x19b180[_0x1a70a8(0x22b)]]=_0x52d76a;if(_0x51b3c7)return _0x9abc60;process['emit'](_0x1a70a8(0x1c3)+process[_0x1a70a8(0x14f)],{'timestamp':new Date()[_0x1a70a8(0x200)](),'level':null,'message':null,'kind':_0x19b180[_0x1a70a8(0x177)],'http_response':_0x9abc60,'uuid':_0x5391e9});}catch(_0x2f555e){exports[_0x1a70a8(0x1c2)](_0x1a70a8(0x199)+_0x2f555e);}},exports[a129_0x1cea74(0x1e5)]=_0x1e6c0a=>{const _0x2e0e02=a129_0x1cea74;return _0x1e6c0a&&_0x1e6c0a[_0x2e0e02(0x242)]()[_0x2e0e02(0x142)](/browserstack internal helper hook/);};