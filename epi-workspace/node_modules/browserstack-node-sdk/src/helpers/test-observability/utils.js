const a88_0x2fd734=a88_0x12c3;(function(_0x537e53,_0xcd8eb9){const _0x5330e0=a88_0x12c3,_0xe23050=_0x537e53();while(!![]){try{const _0xa8233f=parseInt(_0x5330e0(0x29c))/0x1*(parseInt(_0x5330e0(0x2d5))/0x2)+-parseInt(_0x5330e0(0x267))/0x3+-parseInt(_0x5330e0(0x285))/0x4*(parseInt(_0x5330e0(0x2c9))/0x5)+parseInt(_0x5330e0(0x2cf))/0x6+parseInt(_0x5330e0(0x2ae))/0x7+-parseInt(_0x5330e0(0x253))/0x8*(parseInt(_0x5330e0(0x225))/0x9)+parseInt(_0x5330e0(0x291))/0xa*(parseInt(_0x5330e0(0x2bf))/0xb);if(_0xa8233f===_0xcd8eb9)break;else _0xe23050['push'](_0xe23050['shift']());}catch(_0x9cca26){_0xe23050['push'](_0xe23050['shift']());}}}(a88_0xd62c,0xa9088));const fs=require('fs'),path=require(a88_0x2fd734(0x22b)),gitLastCommit=require(a88_0x2fd734(0x2e6)),getRepoInfo=require(a88_0x2fd734(0x2e3)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require('http'),https=require(a88_0x2fd734(0x28d)),child_process=require('child_process'),getos=require('getos'),os=require('os'),logger=require(a88_0x2fd734(0x2d1))[a88_0x2fd734(0x1fc)],bsSetupHelper=require(a88_0x2fd734(0x252)),requestSpy=require(a88_0x2fd734(0x2d8)),constants=require('../../bin/utils/constants'),logPatcher=require(a88_0x2fd734(0x255)),util=require(a88_0x2fd734(0x28e)),{fileLogger}=require('../logger'),PerformanceTester=require(a88_0x2fd734(0x27d)),{isFunction}=require(a88_0x2fd734(0x233)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require('../performance/constants');exports[a88_0x2fd734(0x263)]=_0x1eac75=>{const _0x10e1e3=a88_0x2fd734;fileLogger[_0x10e1e3(0x2e0)]('['+new Date()[_0x10e1e3(0x235)]()+_0x10e1e3(0x2b1)+_0x1eac75);},exports[a88_0x2fd734(0x2b8)]=_0x27a16d=>{const _0x28b564=a88_0x2fd734,_0xe6dd95={};_0xe6dd95[_0x28b564(0x2b7)]=function(_0x59df47,_0xc3137){return _0x59df47===_0xc3137;},_0xe6dd95[_0x28b564(0x21c)]=_0x28b564(0x2ab);const _0x1afc3f=_0xe6dd95;fileLogger[_0x28b564(0x2b8)]('['+new Date()[_0x28b564(0x235)]()+'][\x20OBSERVABILITY\x20]\x20'+_0x27a16d),(_0x1afc3f[_0x28b564(0x2b7)](process[_0x28b564(0x23a)][_0x28b564(0x22f)],_0x1afc3f[_0x28b564(0x21c)])||_0x1afc3f['lsooS'](process[_0x28b564(0x23a)][_0x28b564(0x22f)],'1'))&&consoleHolder[_0x28b564(0x20b)]('\x0a['+new Date()['toISOString']()+_0x28b564(0x2b1)+_0x27a16d+'\x0a');};const a88_0x87f82a={};a88_0x87f82a['keepAlive']=!![],a88_0x87f82a[a88_0x2fd734(0x2e4)]=0xea60,a88_0x87f82a[a88_0x2fd734(0x2a1)]=0x2,a88_0x87f82a[a88_0x2fd734(0x25e)]=0x2;const httpKeepAliveAgent=new http['Agent'](a88_0x87f82a),a88_0x7d9838={};a88_0x7d9838[a88_0x2fd734(0x230)]=!![],a88_0x7d9838[a88_0x2fd734(0x2e4)]=0xea60,a88_0x7d9838['maxSockets']=0x2,a88_0x7d9838[a88_0x2fd734(0x25e)]=0x2;const httpsKeepAliveAgent=new https['Agent'](a88_0x7d9838),a88_0x5a2ee4={};a88_0x5a2ee4[a88_0x2fd734(0x230)]=!![],a88_0x5a2ee4[a88_0x2fd734(0x2e4)]=0xea60,a88_0x5a2ee4[a88_0x2fd734(0x2a1)]=0x2,a88_0x5a2ee4['maxTotalSockets']=0x2;const httpScreenshotsKeepAliveAgent=new http[(a88_0x2fd734(0x2d0))](a88_0x5a2ee4),a88_0x3e4aad={};function a88_0x12c3(_0x52e9e,_0x48d6e){const _0xd62ca3=a88_0xd62c();return a88_0x12c3=function(_0x12c3a6,_0x6e3936){_0x12c3a6=_0x12c3a6-0x1ee;let _0xa0507=_0xd62ca3[_0x12c3a6];return _0xa0507;},a88_0x12c3(_0x52e9e,_0x48d6e);}a88_0x3e4aad['keepAlive']=!![],a88_0x3e4aad[a88_0x2fd734(0x2e4)]=0xea60,a88_0x3e4aad[a88_0x2fd734(0x2a1)]=0x2,a88_0x3e4aad[a88_0x2fd734(0x25e)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a88_0x2fd734(0x2d0))](a88_0x3e4aad);exports[a88_0x2fd734(0x229)]=()=>{const _0x497159=a88_0x2fd734,_0x16885d={};_0x16885d['SuTLw']=function(_0x12c177,_0x4c7dd8){return _0x12c177!==_0x4c7dd8;},_0x16885d[_0x497159(0x282)]=_0x497159(0x279);const _0x106b81=_0x16885d;return process[_0x497159(0x23a)]['BROWSERSTACK_RERUN_TESTS']&&_0x106b81['SuTLw'](process[_0x497159(0x23a)][_0x497159(0x256)],_0x106b81[_0x497159(0x282)])?!![]:![];},exports['isTestObservabilitySession']=()=>{const _0x3a6f80=a88_0x2fd734,_0x46a372={};_0x46a372['EdsDs']=function(_0x41c69e,_0x4fd2e9){return _0x41c69e===_0x4fd2e9;},_0x46a372[_0x3a6f80(0x210)]='true',_0x46a372['tRioD']=function(_0x5286a9,_0x376f13){return _0x5286a9===_0x376f13;};const _0x5434f3=_0x46a372;let _0x5cd574=!![];return process[_0x3a6f80(0x23a)][_0x3a6f80(0x2de)]&&(_0x5cd574=_0x5434f3['EdsDs'](process[_0x3a6f80(0x23a)][_0x3a6f80(0x2de)],_0x5434f3[_0x3a6f80(0x210)])),process[_0x3a6f80(0x23a)][_0x3a6f80(0x249)]&&(_0x5cd574=_0x5434f3['tRioD'](process[_0x3a6f80(0x23a)][_0x3a6f80(0x249)],_0x5434f3[_0x3a6f80(0x210)])),_0x5cd574;},exports[a88_0x2fd734(0x213)]=_0x137712=>{const _0x38023a=a88_0x2fd734;if(bsSetupHelper[_0x38023a(0x1f6)](_0x137712))return undefined;try{return _0x137712[_0x38023a(0x24f)]()[_0x38023a(0x29f)](',');}catch(_0x5df29c){return undefined;}},exports['printBuildLink']=()=>{const _0xc9faa4=a88_0x2fd734,_0x64f489={};_0x64f489[_0xc9faa4(0x242)]=function(_0x1e29c8,_0x5f0c11){return _0x1e29c8!==_0x5f0c11;},_0x64f489['VsPTh']=_0xc9faa4(0x279),_0x64f489['lPtHK']=function(_0x2f0c7f,_0x18bd01){return _0x2f0c7f!==_0x18bd01;},_0x64f489[_0xc9faa4(0x299)]=_0xc9faa4(0x27f);const _0x168876=_0x64f489;return PerformanceTester[_0xc9faa4(0x27c)](PerformanceO11yEvents[_0xc9faa4(0x1ee)],async()=>{const _0x4fbc01=_0xc9faa4;try{process[_0x4fbc01(0x23a)]['BS_TESTOPS_BUILD_HASHED_ID']&&_0x168876[_0x4fbc01(0x242)](process[_0x4fbc01(0x23a)][_0x4fbc01(0x217)],_0x168876[_0x4fbc01(0x2a6)])&&_0x168876[_0x4fbc01(0x226)](process[_0x4fbc01(0x23a)]['BS_TESTOPS_BUILD_HASHED_ID'],_0x168876[_0x4fbc01(0x299)])&&logger[_0x4fbc01(0x2ec)](_0x4fbc01(0x2b3)+process[_0x4fbc01(0x23a)][_0x4fbc01(0x217)]+'\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a');}catch(_0x545a1b){logger[_0x4fbc01(0x280)]('['+new Date()[_0x4fbc01(0x235)]()+_0x4fbc01(0x224));}})();},exports['getFailureType']=_0x5832bd=>{const _0x21751a=a88_0x2fd734,_0x4800ce={};_0x4800ce['ITSSy']='AssertionError',_0x4800ce[_0x21751a(0x2f3)]='UnhandledError';const _0x2cf97a=_0x4800ce;if(!_0x5832bd)return null;return _0x5832bd[_0x21751a(0x274)]()[_0x21751a(0x2c7)](/AssertionError/)?_0x2cf97a[_0x21751a(0x21f)]:_0x2cf97a[_0x21751a(0x2f3)];},exports[a88_0x2fd734(0x231)]=_0x385178=>{const _0x515b3b=a88_0x2fd734,_0x4b3431={};_0x4b3431[_0x515b3b(0x296)]=_0x515b3b(0x234),_0x4b3431[_0x515b3b(0x272)]=_0x515b3b(0x215),_0x4b3431[_0x515b3b(0x240)]='codeceptjs',_0x4b3431[_0x515b3b(0x2a9)]=_0x515b3b(0x26d),_0x4b3431['xaDXO']=_0x515b3b(0x241);const _0x29f1e2=_0x4b3431;let _0x205d23=null;switch(_0x385178){case FRAMEWORKS[_0x515b3b(0x27b)]:_0x205d23=bsSetupHelper['getPackageVersion'](_0x29f1e2[_0x515b3b(0x296)]);break;case FRAMEWORKS['PLAYWRIGHT']:_0x205d23=bsSetupHelper[_0x515b3b(0x27e)](_0x29f1e2['KgySn']);break;case FRAMEWORKS[_0x515b3b(0x1f3)]:case FRAMEWORKS['CODECEPT_CUCUMBER']:_0x205d23=bsSetupHelper[_0x515b3b(0x27e)](_0x29f1e2[_0x515b3b(0x240)]);break;case FRAMEWORKS[_0x515b3b(0x269)]:_0x205d23=bsSetupHelper[_0x515b3b(0x27e)](_0x29f1e2[_0x515b3b(0x2a9)]);break;case FRAMEWORKS['CUCUMBER']:_0x205d23=bsSetupHelper['getPackageVersion'](_0x29f1e2[_0x515b3b(0x23e)]);break;default:break;}return _0x205d23;},exports[a88_0x2fd734(0x2c2)]=_0x1eebe7=>{const _0x21a390=a88_0x2fd734;let _0xf7f315=null;switch(_0x1eebe7){case FRAMEWORKS['PLAYWRIGHT']:_0xf7f315=process[_0x21a390(0x23a)][_0x21a390(0x26a)];break;}if(!_0xf7f315)return;return bsSetupHelper[_0x21a390(0x1ff)](_0xf7f315,![]);},exports[a88_0x2fd734(0x2c0)]=_0x1048ed=>{const _0x690ce1=a88_0x2fd734;return{'username':bsSetupHelper[_0x690ce1(0x2b2)](_0x1048ed),'accessKey':bsSetupHelper[_0x690ce1(0x2d2)](_0x1048ed)};},exports['modifyReqForTraceUpload']=(_0x206a2a,_0x5eb2c4)=>{const _0x5e4893=a88_0x2fd734,_0x337c23={};_0x337c23[_0x5e4893(0x2a3)]=_0x5e4893(0x281),_0x337c23[_0x5e4893(0x248)]=_0x5e4893(0x258),_0x337c23[_0x5e4893(0x221)]=_0x5e4893(0x208),_0x337c23[_0x5e4893(0x28b)]=_0x5e4893(0x2bc);const _0x11b35a=_0x337c23,_0x431ddb=_0x11b35a[_0x5e4893(0x2a3)][_0x5e4893(0x29f)]('|');let _0x1e6f8a=0x0;while(!![]){switch(_0x431ddb[_0x1e6f8a++]){case'0':delete _0x5eb2c4[_0x5e4893(0x227)];continue;case'1':delete _0x206a2a[_0x5e4893(0x243)];continue;case'2':if(!_0x206a2a[_0x5e4893(0x26f)]||!Array[_0x5e4893(0x276)](_0x206a2a[_0x5e4893(0x26f)]))return;continue;case'3':_0x206a2a[_0x5e4893(0x2ed)]={'data':_0x206a2a[_0x5e4893(0x26f)][0x0][_0x5e4893(0x27a)][0x0]['data'],'test_run_uuid':_0x206a2a[_0x5e4893(0x26f)][0x0]['logs'][0x0][_0x5e4893(0x238)],'event_type':_0x11b35a['bhBTn'],'kind':_0x11b35a[_0x5e4893(0x221)],'attachmentType':_0x11b35a['yQKog'],'timestamp':new Date()[_0x5e4893(0x235)](),'fileName':_0x206a2a[_0x5e4893(0x26f)][0x0][_0x5e4893(0x27a)][0x0]['fileName']};continue;case'4':delete _0x206a2a[_0x5e4893(0x26f)];continue;case'5':if(!_0x206a2a[_0x5e4893(0x26f)][0x0]||!_0x206a2a[_0x5e4893(0x26f)][0x0][_0x5e4893(0x27a)]||!_0x206a2a[_0x5e4893(0x26f)][0x0][_0x5e4893(0x27a)][_0x5e4893(0x211)])return;continue;}break;}},exports['asyncAwaitNodeReq']=async(_0x444afe,_0x3bb88e,_0x3dd324,_0x2d1d0e,_0x4964ba=!![])=>{const _0x18a3f6=a88_0x2fd734,_0x506468={};_0x506468[_0x18a3f6(0x2cc)]=function(_0x2bf7fd,_0x509760){return _0x2bf7fd===_0x509760;},_0x506468[_0x18a3f6(0x23b)]=_0x18a3f6(0x290),_0x506468[_0x18a3f6(0x2a8)]='application/json',_0x506468[_0x18a3f6(0x271)]='https',_0x506468[_0x18a3f6(0x20a)]=function(_0x49d67b,_0x3b1f26){return _0x49d67b!==_0x3b1f26;},_0x506468['XINPs']=_0x18a3f6(0x1fe),_0x506468[_0x18a3f6(0x287)]=_0x18a3f6(0x2c6);const _0x24108e=_0x506468,_0x41e521={..._0x2d1d0e,...{'method':_0x444afe,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x3bb88e,'body':_0x3dd324,'json':_0x24108e[_0x18a3f6(0x2cc)](_0x2d1d0e[_0x18a3f6(0x227)][_0x24108e[_0x18a3f6(0x23b)]],_0x24108e[_0x18a3f6(0x2a8)]),'agent':API_URL[_0x18a3f6(0x2c1)](_0x24108e[_0x18a3f6(0x271)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x24108e[_0x18a3f6(0x2cc)](_0x3bb88e,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x41e521[_0x18a3f6(0x2f4)]=API_URL[_0x18a3f6(0x2c1)](_0x24108e['qCPKk'])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x18a3f6(0x2ca)](_0x41e521,_0x2d1d0e),logger[_0x18a3f6(0x2b8)]('Uploading\x20trace\x20logs\x20to:\x20'+_0x41e521['url']));try{const {statusCode:_0x7f3b7a,body:_0x934812}=await bsSetupHelper['nodeRequest'](_0x444afe,_0x3bb88e,_0x41e521,_0x2d1d0e,_0x41e521[_0x18a3f6(0x21d)]);if(_0x24108e[_0x18a3f6(0x20a)](_0x7f3b7a,0xc8))return _0x934812?_0x934812:_0x18a3f6(0x207)+_0x7f3b7a;let _0x39d2a9=_0x934812;if(_0x4964ba)try{_0x24108e[_0x18a3f6(0x20a)](typeof _0x934812,_0x24108e[_0x18a3f6(0x244)])&&(_0x39d2a9=JSON[_0x18a3f6(0x2ee)](_0x934812));}catch(_0x11b78f){logger[_0x18a3f6(0x280)](_0x24108e[_0x18a3f6(0x287)],_0x934812,util[_0x18a3f6(0x298)](_0x11b78f));}const _0x36c3ec={};return _0x36c3ec[_0x18a3f6(0x2ce)]=_0x39d2a9,_0x36c3ec;}catch(_0x317f0a){logger[_0x18a3f6(0x280)](_0x18a3f6(0x2e7)+util['format'](_0x317f0a));throw _0x317f0a;}},exports['nodeRequest']=(_0x8968ea,_0x2151f0,_0xf8b7c,_0x25f78f,_0x4aa41e=!![])=>{const _0x500487=a88_0x2fd734,_0x5798a1={'ACDKV':function(_0x5070a2,_0x3c200b){return _0x5070a2(_0x3c200b);},'YzHvS':function(_0x1a35f3,_0x2ce261){return _0x1a35f3!==_0x2ce261;},'HZKPg':function(_0x2283e1,_0x54804f){return _0x2283e1(_0x54804f);},'jMLaP':function(_0x34630b,_0x572814){return _0x34630b!==_0x572814;},'UWLPA':_0x500487(0x1fe),'lDVqB':_0x500487(0x232),'RcznL':function(_0x56c90e,_0x2b4a51){return _0x56c90e(_0x2b4a51);},'xinOH':function(_0x4b44d3,_0x23355f){return _0x4b44d3===_0x23355f;},'dcMYl':_0x500487(0x290),'QUziX':_0x500487(0x28c),'fcicR':_0x500487(0x28d)};return new Promise((_0x3b574a,_0x15c18e)=>{const _0x77af02=_0x500487,_0x4d7f48={'EvEjM':function(_0x5732de,_0x5b5c80){return _0x5798a1['YzHvS'](_0x5732de,_0x5b5c80);},'mlukx':function(_0x1ff8a5,_0x5c845e){const _0x60233e=a88_0x12c3;return _0x5798a1[_0x60233e(0x209)](_0x1ff8a5,_0x5c845e);},'pWMPu':function(_0x55432a,_0x3f3a80){return _0x5798a1['jMLaP'](_0x55432a,_0x3f3a80);},'wEELh':_0x5798a1[_0x77af02(0x284)],'xQbYi':_0x5798a1[_0x77af02(0x25f)],'XnijH':function(_0x4dc906,_0x44a26a){const _0x35a766=_0x77af02;return _0x5798a1[_0x35a766(0x25c)](_0x4dc906,_0x44a26a);}},_0x435710={..._0x25f78f,...{'method':_0x8968ea,'url':API_URL+'/'+_0x2151f0,'body':_0xf8b7c,'json':_0x5798a1[_0x77af02(0x2f0)](_0x25f78f['headers'][_0x5798a1['dcMYl']],_0x5798a1[_0x77af02(0x20f)]),'agent':API_URL[_0x77af02(0x2c1)](_0x5798a1[_0x77af02(0x214)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x5798a1[_0x77af02(0x2f0)](_0x2151f0,SCREENSHOT_ENDPOINT)&&(_0x435710[_0x77af02(0x2f4)]=API_URL[_0x77af02(0x2c1)](_0x5798a1[_0x77af02(0x214)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x77af02(0x259)](_0x8968ea,_0x2151f0,_0x435710,_0x25f78f,API_URL)[_0x77af02(0x2dd)](({statusCode:_0x3161e8,body:_0x4cc145})=>{const _0x5b1431=_0x77af02;if(_0x4d7f48['EvEjM'](_0x3161e8,0xc8))_0x4d7f48['mlukx'](_0x15c18e,_0x4cc145?_0x4cc145:_0x5b1431(0x207)+_0x3161e8);else{if(_0x4aa41e)try{_0x4d7f48[_0x5b1431(0x294)](typeof _0x4cc145,_0x4d7f48['wEELh'])&&(_0x4cc145=JSON[_0x5b1431(0x2ee)](_0x4cc145));}catch(_0x3af574){_0x4d7f48[_0x5b1431(0x1f4)](_0x15c18e,_0x4d7f48[_0x5b1431(0x22e)]);return;}const _0x5b5ab4={};_0x5b5ab4['data']=_0x4cc145,_0x4d7f48[_0x5b1431(0x222)](_0x3b574a,_0x5b5ab4);}})['catch'](_0x2608ee=>{const _0x281a92=_0x77af02;_0x2608ee&&_0x5798a1[_0x281a92(0x2ad)](_0x15c18e,_0x2608ee);});});},exports['getBuildTags']=_0x38070f=>{const _0x5aa6d0=a88_0x2fd734;if(process[_0x5aa6d0(0x23a)][_0x5aa6d0(0x206)])return process[_0x5aa6d0(0x23a)][_0x5aa6d0(0x206)][_0x5aa6d0(0x29f)](',');if(_0x38070f[_0x5aa6d0(0x237)])return _0x38070f[_0x5aa6d0(0x237)];return[];},exports[a88_0x2fd734(0x2a0)]=(_0x4f47ed=!![])=>{const _0x20a7db=a88_0x2fd734,_0x567039={};_0x567039[_0x20a7db(0x2e9)]=_0x20a7db(0x28c),_0x567039[_0x20a7db(0x286)]=_0x20a7db(0x2ab),_0x567039[_0x20a7db(0x1fd)]=_0x20a7db(0x2a2);const _0x2653f5=_0x567039,_0x2f4d7e={};_0x2f4d7e['Content-Type']=_0x2653f5['VflYG'],_0x2f4d7e[_0x20a7db(0x2f5)]=_0x2653f5['EDFVh'];const _0x310101=_0x2f4d7e;return _0x4f47ed&&process['env'][_0x20a7db(0x202)]&&(_0x310101[_0x2653f5['gaaGI']]=_0x20a7db(0x219)+process[_0x20a7db(0x23a)][_0x20a7db(0x202)]),_0x310101;},exports[a88_0x2fd734(0x2af)]=_0x2b51d4=>{const _0x364ddb=a88_0x2fd734,_0x255f6f={};_0x255f6f[_0x364ddb(0x1f7)]=_0x364ddb(0x270);const _0x5560df=_0x255f6f,_0x1af042=[],_0x33e47c=new RegExp(_0x5560df['GAaSr'],'i');return Object[_0x364ddb(0x297)](_0x2b51d4)[_0x364ddb(0x22d)](_0x3cf677=>_0x33e47c[_0x364ddb(0x20e)](_0x3cf677))[_0x364ddb(0x1f5)](_0x16bdc7=>_0x1af042[_0x364ddb(0x266)](_0x2b51d4[_0x16bdc7])),_0x1af042;},exports[a88_0x2fd734(0x2b5)]=_0x396451=>{const _0x218ea2=a88_0x2fd734,_0x1d8d96=[],_0x286269=_0x396451[_0x218ea2(0x223)]||process[_0x218ea2(0x23a)][_0x218ea2(0x2ac)];return _0x286269&&_0x1d8d96[_0x218ea2(0x266)](_0x286269),_0x1d8d96[_0x218ea2(0x266)](...exports[_0x218ea2(0x2af)](process[_0x218ea2(0x23a)])),_0x1d8d96[_0x218ea2(0x266)](...exports['extractValuesWithRegexKeyMatch'](_0x396451)),_0x1d8d96;},exports[a88_0x2fd734(0x24c)]=_0xc598ed=>{const _0x4af6e1=a88_0x2fd734;if(!_0xc598ed)return'';return _0xc598ed[_0x4af6e1(0x24b)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a88_0x2fd734(0x1f0)]=(_0x5da02a=0x64)=>new Promise(_0x42e6cf=>setTimeout(_0x42e6cf,_0x5da02a));const getPlatformName=()=>{const _0x3fec78=a88_0x2fd734,_0x23d8ff={};_0x23d8ff[_0x3fec78(0x2ea)]=function(_0x544442,_0x81b615){return _0x544442===_0x81b615;},_0x23d8ff[_0x3fec78(0x220)]=_0x3fec78(0x2aa),_0x23d8ff[_0x3fec78(0x29d)]=_0x3fec78(0x262),_0x23d8ff[_0x3fec78(0x2be)]='darwin',_0x23d8ff[_0x3fec78(0x205)]='OS\x20X',_0x23d8ff[_0x3fec78(0x25a)]=_0x3fec78(0x2dc),_0x23d8ff[_0x3fec78(0x245)]='Linux',_0x23d8ff[_0x3fec78(0x28a)]=_0x3fec78(0x247);const _0x5bd572=_0x23d8ff;if(_0x5bd572[_0x3fec78(0x2ea)](process[_0x3fec78(0x254)],_0x5bd572['YCcSj']))return _0x5bd572['ZKCRy'];if(_0x5bd572[_0x3fec78(0x2ea)](process['platform'],_0x5bd572[_0x3fec78(0x2be)]))return _0x5bd572[_0x3fec78(0x205)];if(_0x5bd572[_0x3fec78(0x2ea)](process[_0x3fec78(0x254)],_0x5bd572[_0x3fec78(0x25a)]))return _0x5bd572['vBTJT'];return _0x5bd572['SqkqZ'];},getMacOSVersion=()=>{const _0x44c272=a88_0x2fd734,_0x31163f={};_0x31163f[_0x44c272(0x29e)]='awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27';const _0xe5971a=_0x31163f;return child_process[_0x44c272(0x261)](_0xe5971a['YWCFA'])[_0x44c272(0x274)]()[_0x44c272(0x24f)]();},getLinuxDetails=()=>{const _0x144e59={'uPNkI':function(_0x43006c,_0x5ba48b){return _0x43006c(_0x5ba48b);},'hDxKH':function(_0x19b2a9,_0x4b3a1f){return _0x19b2a9(_0x4b3a1f);}};return new Promise((_0x42c417,_0x37f993)=>{const _0x20a142=a88_0x12c3,_0xf7cbb4={'NVLBp':function(_0x1c49b5,_0x4889fd){const _0xd8c04a=a88_0x12c3;return _0x144e59[_0xd8c04a(0x201)](_0x1c49b5,_0x4889fd);},'cbfSb':function(_0x39e44f,_0x4459a7){return _0x144e59['uPNkI'](_0x39e44f,_0x4459a7);}};_0x144e59[_0x20a142(0x2ef)](getos,(_0x1ff7c6,_0x587490)=>{const _0xa17960=_0x20a142;if(_0x1ff7c6)return _0xf7cbb4['NVLBp'](_0x37f993,_0x1ff7c6);_0xf7cbb4[_0xa17960(0x26e)](_0x42c417,_0x587490);});});};exports[a88_0x2fd734(0x200)]=async()=>{const _0x26b4bd=a88_0x2fd734,_0xea4a85={'UZEGH':function(_0x1b648d){return _0x1b648d();},'BxCrf':'OS\x20X','njIlZ':'Windows','xiFwS':_0x26b4bd(0x264),'wRetJ':_0x26b4bd(0x212),'ObxvX':'Error\x20in\x20getting\x20Linux\x20Details'};let _0x85b3ad=_0xea4a85['UZEGH'](getPlatformName),_0x5a7a67=os[_0x26b4bd(0x275)]()['toString']();switch(_0x85b3ad){case _0xea4a85[_0x26b4bd(0x2a4)]:_0x5a7a67=_0xea4a85[_0x26b4bd(0x29b)](getMacOSVersion);break;case _0xea4a85['njIlZ']:try{const _0x21b04f=(await import(_0xea4a85[_0x26b4bd(0x236)]))[_0x26b4bd(0x292)];_0x5a7a67=_0xea4a85['UZEGH'](_0x21b04f);}catch(_0x45f13e){exports[_0x26b4bd(0x2b8)]('Error\x20in\x20importing\x20windows-release\x20'+_0x45f13e['toString']());}break;case _0xea4a85['wRetJ']:try{const _0x3887a4=await _0xea4a85['UZEGH'](getLinuxDetails);_0x3887a4[_0x26b4bd(0x23f)]&&(_0x85b3ad=_0x3887a4[_0x26b4bd(0x23f)]),_0x3887a4[_0x26b4bd(0x275)]&&(_0x5a7a67=_0x3887a4[_0x26b4bd(0x275)][_0x26b4bd(0x274)]());}catch(_0x1db2fe){exports[_0x26b4bd(0x2b8)](_0xea4a85[_0x26b4bd(0x25d)]);}break;default:break;}const _0x5440bc={};return _0x5440bc[_0x26b4bd(0x2db)]=_0x85b3ad,_0x5440bc[_0x26b4bd(0x22a)]=_0x5a7a67,_0x5440bc;},exports[a88_0x2fd734(0x289)]=(_0x373229,_0x4e1b7d)=>{const _0x1ac09c=a88_0x2fd734,_0x5a845e={};_0x5a845e[_0x1ac09c(0x1ef)]=function(_0x4584a3,_0x6fc49d){return _0x4584a3===_0x6fc49d;},_0x5a845e[_0x1ac09c(0x1f1)]=_0x1ac09c(0x20e),_0x5a845e[_0x1ac09c(0x216)]=function(_0x4539d1,_0x598f1e){return _0x4539d1===_0x598f1e;},_0x5a845e[_0x1ac09c(0x2b6)]=_0x1ac09c(0x2c3);const _0x36b319=_0x5a845e;if(!_0x373229)return[];try{if(_0x36b319[_0x1ac09c(0x1ef)](_0x4e1b7d,_0x36b319['KVLiR']))return _0x373229[_0x1ac09c(0x203)](_0x28a650=>{const _0x4a4a0e=_0x1ac09c,{stack:_0x33a538,..._0x5285e6}=_0x28a650,_0x87bed9=Object[_0x4a4a0e(0x297)](_0x5285e6)[_0x4a4a0e(0x203)](_0x214f36=>{return _0x214f36+':\x20'+_0x5285e6[_0x214f36];}),_0x55749e=_0x33a538?exports[_0x4a4a0e(0x24c)](_0x33a538)[_0x4a4a0e(0x29f)](/\r?\n/):[exports[_0x4a4a0e(0x24c)](_0x28a650[_0x4a4a0e(0x2e5)])],_0x3e4398={};return _0x3e4398[_0x4a4a0e(0x22c)]=_0x55749e,_0x3e4398['expanded']=_0x87bed9,_0x3e4398;});else{if(_0x36b319[_0x1ac09c(0x216)](_0x4e1b7d,_0x36b319[_0x1ac09c(0x2b6)])){const _0x47f38b=[],_0x1a9279=[];return Object[_0x1ac09c(0x297)](_0x373229)[_0x1ac09c(0x1f5)](_0x361559=>{const _0x5c3949=_0x1ac09c;try{_0x1a9279[_0x5c3949(0x266)](_0x361559+':\x20'+_0x373229[_0x361559]);}catch(_0x5f2f29){exports[_0x5c3949(0x2b8)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0x5f2f29[_0x5c3949(0x2e5)]+'\x20:\x20'+_0x5f2f29[_0x5c3949(0x22c)]);}}),_0x47f38b['push']({'backtrace':exports[_0x1ac09c(0x24c)](_0x373229[_0x1ac09c(0x218)])[_0x1ac09c(0x29f)](/\r?\n/),'expanded':_0x1a9279}),_0x47f38b;}}return[];}catch(_0x5ea3dc){exports[_0x1ac09c(0x2b8)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0x5ea3dc[_0x1ac09c(0x2e5)]+_0x1ac09c(0x293)+_0x5ea3dc[_0x1ac09c(0x22c)]);}return[];};class PathHelper{constructor(_0x594e50,_0x43946b){this['config']=_0x594e50,this['prefix']=_0x43946b;}[a88_0x2fd734(0x295)](_0x50b1e6){const _0x415c74=a88_0x2fd734,_0x5bc5ec=this[_0x415c74(0x277)][_0x415c74(0x2b9)]||this[_0x415c74(0x277)][_0x415c74(0x2df)];return path[_0x415c74(0x21e)](_0x5bc5ec,_0x50b1e6);}[a88_0x2fd734(0x24e)](_0x31f69d){const _0x41d5dc=a88_0x2fd734,_0x370ee2=this[_0x41d5dc(0x295)](_0x31f69d);return this['prefix']?path[_0x41d5dc(0x228)](this[_0x41d5dc(0x26b)],_0x370ee2):_0x370ee2;}}exports['PathHelper']=PathHelper,exports['addRequestSpy']=(_0x31cba6=!![])=>{const _0x40f47a=a88_0x2fd734,_0x1073ab={};_0x1073ab[_0x40f47a(0x1f2)]=function(_0x4137b3,_0x16a030){return _0x4137b3===_0x16a030;},_0x1073ab[_0x40f47a(0x1fa)]=_0x40f47a(0x2f5),_0x1073ab[_0x40f47a(0x204)]=_0x40f47a(0x2ab),_0x1073ab[_0x40f47a(0x2bb)]='HTTP',_0x1073ab[_0x40f47a(0x288)]=_0x40f47a(0x2a7),_0x1073ab[_0x40f47a(0x278)]=_0x40f47a(0x265);const _0x5cd1a6=_0x1073ab;requestSpy['spy']((_0x1b7986,_0x46a944)=>{const _0x3b3a2f=_0x40f47a;_0x46a944&&!(_0x46a944[_0x3b3a2f(0x227)]&&_0x5cd1a6['tbKuy'](_0x46a944[_0x3b3a2f(0x227)][_0x5cd1a6[_0x3b3a2f(0x1fa)]],_0x5cd1a6[_0x3b3a2f(0x204)]))&&(_0x46a944[_0x3b3a2f(0x2b4)]=_0x46a944[_0x3b3a2f(0x2b0)],delete _0x46a944['hostname'],_0x31cba6&&process[_0x3b3a2f(0x257)]('bs:addLog:'+process[_0x3b3a2f(0x2d3)],{'timestamp':new Date()[_0x3b3a2f(0x235)](),'level':null,'message':null,'kind':_0x5cd1a6[_0x3b3a2f(0x2bb)],'http_response':_0x46a944})),_0x46a944&&(constants['HUB_URL_REGEX'][_0x3b3a2f(0x20e)](_0x46a944[_0x3b3a2f(0x2b4)])||constants[_0x3b3a2f(0x2e1)][_0x3b3a2f(0x20e)](_0x46a944[_0x3b3a2f(0x2b4)]))?global[_0x3b3a2f(0x24a)]=_0x5cd1a6['VlMhe']:global[_0x3b3a2f(0x24a)]=_0x5cd1a6[_0x3b3a2f(0x278)];});},exports[a88_0x2fd734(0x2f2)]=()=>{const _0x17e85a=a88_0x2fd734,_0x65b3a0={'herxm':function(_0xdc22ca,_0x118e6c){return _0xdc22ca(_0x118e6c);}};console={},Object[_0x17e85a(0x297)](consoleHolder)[_0x17e85a(0x1f5)](_0x146814=>{const _0xf6fe7=_0x17e85a;_0x65b3a0[_0xf6fe7(0x29a)](isFunction,consoleHolder[_0x146814])?console[_0x146814]=(..._0x1a9d93)=>{const _0x45b875=_0xf6fe7;try{!Object[_0x45b875(0x297)](BSTestOpsPatcher)['includes'](_0x146814)?consoleHolder[_0x146814](..._0x1a9d93):BSTestOpsPatcher[_0x146814](..._0x1a9d93);}catch(_0x375476){consoleHolder[_0x146814](..._0x1a9d93);}}:console[_0x146814]=consoleHolder[_0x146814];});},exports[a88_0x2fd734(0x2ba)]=()=>a88_0x2fd734(0x1fb)+JSON[a88_0x2fd734(0x2a5)]({'action':a88_0x2fd734(0x20d),'arguments':{'data':a88_0x2fd734(0x2cb)+Date[a88_0x2fd734(0x273)](),'level':'debug'}}),exports[a88_0x2fd734(0x1f8)]=_0x17c0b8=>{const _0x575d5b=a88_0x2fd734,_0x1cc8da={};_0x1cc8da[_0x575d5b(0x2e8)]=function(_0x4844b2,_0x4660ee){return _0x4844b2===_0x4660ee;},_0x1cc8da['ReWvF']=_0x575d5b(0x2a7),_0x1cc8da[_0x575d5b(0x250)]=_0x575d5b(0x2e2),_0x1cc8da[_0x575d5b(0x20c)]=_0x575d5b(0x2d6),_0x1cc8da[_0x575d5b(0x268)]=function(_0x3eec3f,_0x5eca4e){return _0x3eec3f>_0x5eca4e;},_0x1cc8da['QaGie']=_0x575d5b(0x2da),_0x1cc8da[_0x575d5b(0x21a)]='bstack:options',_0x1cc8da[_0x575d5b(0x246)]=_0x575d5b(0x283),_0x1cc8da[_0x575d5b(0x2c4)]=_0x575d5b(0x260),_0x1cc8da[_0x575d5b(0x23c)]=_0x575d5b(0x2c5);const _0x4b77a5=_0x1cc8da;let _0x55fbbf=null;try{if(_0x4b77a5[_0x575d5b(0x2e8)](global[_0x575d5b(0x24a)],_0x4b77a5[_0x575d5b(0x28f)])){if(_0x17c0b8[_0x4b77a5[_0x575d5b(0x250)]]||_0x17c0b8[_0x4b77a5[_0x575d5b(0x20c)]]||!bsSetupHelper[_0x575d5b(0x1f6)](global['capabilities'])&&_0x4b77a5[_0x575d5b(0x268)](global[_0x575d5b(0x2eb)][_0x575d5b(0x211)],0x0)&&(global[_0x575d5b(0x2eb)][0x0][_0x4b77a5[_0x575d5b(0x20c)]]||global[_0x575d5b(0x2eb)][0x0][_0x4b77a5[_0x575d5b(0x250)]]))_0x55fbbf=_0x4b77a5[_0x575d5b(0x24d)];else _0x17c0b8[_0x4b77a5[_0x575d5b(0x21a)]]&&_0x17c0b8[_0x4b77a5[_0x575d5b(0x21a)]][_0x4b77a5[_0x575d5b(0x246)]]?_0x55fbbf=_0x4b77a5[_0x575d5b(0x2c4)]:_0x55fbbf=_0x4b77a5['wvSxj'];}}catch(_0x6c1a70){exports['debug'](_0x575d5b(0x26c)+_0x6c1a70);}return _0x55fbbf;},exports[a88_0x2fd734(0x2bd)]=async(_0x2a0d09,_0x5cb478,_0x7bf147=![])=>{const _0x51393f=a88_0x2fd734,_0x35c934={};_0x35c934['cpnuC']=function(_0x32f0a0,_0x14972b){return _0x32f0a0===_0x14972b;},_0x35c934[_0x51393f(0x1f9)]='browserstack',_0x35c934['zxyPr']=_0x51393f(0x239),_0x35c934['PYCmR']=_0x51393f(0x2d9);const _0xae0640=_0x35c934;try{const _0x39ac69=await _0x2a0d09[_0x51393f(0x2cd)](),_0x4fa94f=await _0x2a0d09[_0x51393f(0x251)](),_0x520fac={},_0x22e5f8=Object['fromEntries'](_0x4fa94f[_0x51393f(0x2cd)]()[_0x51393f(0x25b)]),_0x256181={'product':exports[_0x51393f(0x1f8)](_0x22e5f8),'capabilities':_0x22e5f8,'platform':_0x39ac69[_0x51393f(0x2d7)](),'platform_version':bsSetupHelper['getPlatformVersion'](_0xae0640['cpnuC'](global[_0x51393f(0x24a)],_0xae0640['UFfhU'])),'browser':_0x39ac69[_0x51393f(0x2c8)](),'browser_version':_0x39ac69['getBrowserVersion'](),'session_id':_0x4fa94f[_0x51393f(0x23d)]()};global[_0x51393f(0x24a)]?_0x520fac[global['__cloud_provider___']]=_0x256181:_0x520fac[_0xae0640[_0x51393f(0x2d4)]]=_0x256181;if(_0x7bf147)return _0x520fac;process[_0x51393f(0x257)]('bs:addPlatformDetails:'+process[_0x51393f(0x2d3)],{'timestamp':new Date()[_0x51393f(0x235)](),'level':null,'message':null,'kind':_0xae0640['PYCmR'],'http_response':_0x520fac,'uuid':_0x5cb478});}catch(_0x1e34d6){exports[_0x51393f(0x2b8)](_0x51393f(0x21b)+_0x1e34d6);}},exports[a88_0x2fd734(0x2f1)]=_0x5dbc9c=>{const _0x1e73e8=a88_0x2fd734;return _0x5dbc9c&&_0x5dbc9c[_0x1e73e8(0x274)]()['match'](/browserstack internal helper hook/);};function a88_0xd62c(){const _0x1bb071=['forEach','isUndefined','GAaSr','getObservabilityLinkedProductName','UFfhU','tEyGm','browserstack_executor:\x20','winstonLogger','gaaGI','object','readConfig','getPlatformDetails','uPNkI','BROWSERSTACK_TESTHUB_JWT','map','SWFNn','vBmtY','TEST_OBSERVABILITY_BUILD_TAG','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','TEST_ATTACHMENT','HZKPg','Yczqs','log','rmArM','annotate','test','QUziX','CtDGK','length','Linux','parseFileNames','fcicR','@playwright/test','KXUhj','BS_TESTOPS_BUILD_HASHED_ID','stack','Bearer\x20','ExvFS','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','dqHey','url','relative','ITSSy','YCcSj','MGive','XnijH','customTag','][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found','16722FGMeta','lPtHK','headers','join','shouldReRunObservabilityTests','platformVersion','path','backtrace','filter','xQbYi','BROWSERSTACK_OBSERVABILITY_DEBUG','keepAlive','getFrameworkVersion','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','lodash','mocha','toISOString','xiFwS','buildTag','test_run_uuid','unknown_grid','env','ggfET','wvSxj','toJSON','xaDXO','dist','SigWK','@cucumber/cucumber','MGaoz','json','XINPs','vBTJT','iugHa','Unknown','bhBTn','BROWSERSTACK_TEST_OBSERVABILITY','__cloud_provider___','replace','removeAnsiColors','QaGie','prefixTestPath','trim','lUTTX','getSession','../helper','4296wIjGdI','platform','../../bin/utils/logPatcher','BROWSERSTACK_RERUN_TESTS','emit','LogCreated','nodeRequest','eVKCE','map_','RcznL','ObxvX','maxTotalSockets','lDVqB','turboscale','execSync','Windows','trace','windows-release','local_grid','push','2201943ozENJt','wxKBQ','JEST','BROWSERSTACK_CONFIG_FILE_PATH','prefix','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','jest','cbfSb','body','^CUSTOM_TAG_\x5cd+$','qCPKk','KgySn','now','toString','release','isArray','config','afPNh','null','logs','MOCHA','measureWrapper','../performance/performance-tester','getPackageVersion','undefined','error','2|5|3|4|1|0','lisIJ','turboScaleGridDetails','UWLPA','953976LIGctR','EDFVh','YmZTk','VlMhe','failureData','SqkqZ','yQKog','application/json','https','util','ReWvF','Content-Type','10WMWqrU','default','\x20:\x20','pWMPu','relativeTestFilePath','tmuUC','keys','format','zaRef','herxm','UZEGH','1ApzQpn','ZKCRy','YWCFA','split','getDefaultHeaders','maxSockets','Authorization','NgDQG','BxCrf','stringify','VsPTh','browserstack','aEyIn','yFwgk','win32','true','CUSTOM_TAG','ACDKV','2320318yRNnKK','extractValuesWithRegexKeyMatch','hostname','][\x20OBSERVABILITY\x20]\x20','getUserName','Visit\x20https://observability.browserstack.com/builds/','host','getCustomTags','OiEpf','lsooS','debug','cwd','getSyncScript','fxpgm','PLAYWRIGHT_TRACE_LOGS','sendPlatformDetails','nRvrp','25340700oTPMAt','getUserCredentials','includes','getBrowserStackConfig','err','oqWoL','automate','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','match','getBrowserName','10WxPRKh','modifyReqForTraceUpload','ObservabilitySync:','TLakW','getCapabilities','data','1056372TnBCNp','Agent','../logger','getAccessKey','pid','zxyPr','179678hEPobV','app','getPlatform','../../helpers/request-spy','TEST_PLATFORM','app-automate','platformName','linux','then','BROWSERSTACK_TEST_OBSERVABILITY_YML','rootDir','silly','ATS_HUB_URL_REGEX','appium:app','git-repo-info','timeout','message','git-last-commit','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','udvuN','VflYG','eMBvb','capabilities','info','formData','parse','hDxKH','xinOH','isInternalHook','patchConsoleLogger','Eihsk','agent','X-BSTACK-TESTOPS','PRINT_BUILDLINK','sFxac','sleep','KVLiR','tbKuy','CODECEPT','mlukx'];a88_0xd62c=function(){return _0x1bb071;};return a88_0xd62c();}