const a127_0x4b9261=a127_0x4f25;(function(_0x3f36b6,_0x5a0d37){const _0x389e30=a127_0x4f25,_0x327238=_0x3f36b6();while(!![]){try{const _0x53b47f=-parseInt(_0x389e30(0x19a))/0x1+-parseInt(_0x389e30(0x1f4))/0x2+parseInt(_0x389e30(0x20d))/0x3*(parseInt(_0x389e30(0x1e3))/0x4)+parseInt(_0x389e30(0x21a))/0x5+-parseInt(_0x389e30(0x21d))/0x6+-parseInt(_0x389e30(0x173))/0x7+-parseInt(_0x389e30(0x243))/0x8*(-parseInt(_0x389e30(0x276))/0x9);if(_0x53b47f===_0x5a0d37)break;else _0x327238['push'](_0x327238['shift']());}catch(_0x4243e9){_0x327238['push'](_0x327238['shift']());}}}(a127_0x332e,0x9b0a4));const fs=require('fs'),path=require(a127_0x4b9261(0x280)),gitLastCommit=require(a127_0x4b9261(0x168)),getRepoInfo=require(a127_0x4b9261(0x1c8)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require(a127_0x4b9261(0x26e)),http=require(a127_0x4b9261(0x241)),https=require(a127_0x4b9261(0x239)),child_process=require(a127_0x4b9261(0x1a9)),getos=require(a127_0x4b9261(0x1f6)),os=require('os'),logger=require(a127_0x4b9261(0x185))[a127_0x4b9261(0x1d1)],buildLogger=require(a127_0x4b9261(0x185))['buildLogger'],bsSetupHelper=require(a127_0x4b9261(0x1d4)),requestSpy=require(a127_0x4b9261(0x18f)),constants=require(a127_0x4b9261(0x18c)),logPatcher=require(a127_0x4b9261(0x251)),util=require(a127_0x4b9261(0x219)),{fileLogger}=require(a127_0x4b9261(0x185)),PerformanceTester=require(a127_0x4b9261(0x1d3)),{isFunction}=require(a127_0x4b9261(0x240)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a127_0x4b9261(0x1a2)),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require('../../../src/bin/utils/constants');function a127_0x4f25(_0x3cb29b,_0x4ca5b7){const _0x332e80=a127_0x332e();return a127_0x4f25=function(_0x4f2544,_0x2610f5){_0x4f2544=_0x4f2544-0x167;let _0x301eb5=_0x332e80[_0x4f2544];return _0x301eb5;},a127_0x4f25(_0x3cb29b,_0x4ca5b7);}exports[a127_0x4b9261(0x270)]=_0x8134c2=>{const _0x3e8f97=a127_0x4b9261;fileLogger[_0x3e8f97(0x171)]('['+new Date()[_0x3e8f97(0x273)]()+_0x3e8f97(0x25f)+constants[_0x3e8f97(0x216)]+_0x3e8f97(0x22f)+_0x8134c2);},exports['debug']=_0x45c6c7=>{const _0x373978=a127_0x4b9261,_0x43b72a={};_0x43b72a[_0x373978(0x226)]=function(_0x1d7b02,_0x1e1abf){return _0x1d7b02===_0x1e1abf;},_0x43b72a['kUDhF']=_0x373978(0x27f),_0x43b72a[_0x373978(0x272)]=function(_0x316274,_0x235d1c){return _0x316274===_0x235d1c;};const _0x2f3248=_0x43b72a;fileLogger[_0x373978(0x1b1)]('['+new Date()[_0x373978(0x273)]()+_0x373978(0x25f)+constants[_0x373978(0x216)]+_0x373978(0x22f)+_0x45c6c7),(_0x2f3248[_0x373978(0x226)](process[_0x373978(0x18e)]['BROWSERSTACK_TEST_REPORTING_DEBUG'],_0x2f3248[_0x373978(0x279)])||_0x2f3248[_0x373978(0x226)](process[_0x373978(0x18e)][_0x373978(0x22d)],'1')||_0x2f3248[_0x373978(0x226)](process[_0x373978(0x18e)][_0x373978(0x254)],_0x2f3248[_0x373978(0x279)])||_0x2f3248[_0x373978(0x272)](process['env']['BROWSERSTACK_OBSERVABILITY_DEBUG'],'1'))&&consoleHolder['log']('\x0a['+new Date()[_0x373978(0x273)]()+_0x373978(0x25f)+constants[_0x373978(0x216)]+_0x373978(0x22f)+_0x45c6c7+'\x0a');};const a127_0x37862e={};a127_0x37862e[a127_0x4b9261(0x1bb)]=!![],a127_0x37862e[a127_0x4b9261(0x234)]=0xea60,a127_0x37862e[a127_0x4b9261(0x1c6)]=0x2,a127_0x37862e[a127_0x4b9261(0x242)]=0x2;const httpKeepAliveAgent=new http[(a127_0x4b9261(0x24f))](a127_0x37862e),a127_0xb75a51={};a127_0xb75a51[a127_0x4b9261(0x1bb)]=!![],a127_0xb75a51[a127_0x4b9261(0x234)]=0xea60,a127_0xb75a51[a127_0x4b9261(0x1c6)]=0x2,a127_0xb75a51[a127_0x4b9261(0x242)]=0x2;const httpsKeepAliveAgent=new https[(a127_0x4b9261(0x24f))](a127_0xb75a51),a127_0x2201a2={};a127_0x2201a2['keepAlive']=!![],a127_0x2201a2['timeout']=0xea60,a127_0x2201a2[a127_0x4b9261(0x1c6)]=0x2,a127_0x2201a2[a127_0x4b9261(0x242)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a127_0x4b9261(0x24f))](a127_0x2201a2),a127_0x3de108={};a127_0x3de108[a127_0x4b9261(0x1bb)]=!![],a127_0x3de108[a127_0x4b9261(0x234)]=0xea60,a127_0x3de108[a127_0x4b9261(0x1c6)]=0x2,a127_0x3de108[a127_0x4b9261(0x242)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a127_0x4b9261(0x24f))](a127_0x3de108);exports[a127_0x4b9261(0x211)]=()=>{const _0x3c29b3=a127_0x4b9261,_0x492dac={};_0x492dac[_0x3c29b3(0x1f7)]=function(_0x2be0f6,_0x185118){return _0x2be0f6!==_0x185118;},_0x492dac[_0x3c29b3(0x248)]=_0x3c29b3(0x1fb);const _0x117f1b=_0x492dac;return process[_0x3c29b3(0x18e)][_0x3c29b3(0x1bd)]&&_0x117f1b[_0x3c29b3(0x1f7)](process['env'][_0x3c29b3(0x1bd)],_0x117f1b['jwPMl'])?!![]:![];},exports[a127_0x4b9261(0x1fa)]=()=>{const _0x976690=a127_0x4b9261,_0x21b102={};_0x21b102[_0x976690(0x27a)]=function(_0x30486e,_0x3ba529){return _0x30486e===_0x3ba529;},_0x21b102[_0x976690(0x1d5)]=_0x976690(0x27f),_0x21b102[_0x976690(0x269)]=function(_0x471ac1,_0x386c60){return _0x471ac1===_0x386c60;},_0x21b102['YaCuS']=function(_0x8838b9,_0x4e1527){return _0x8838b9===_0x4e1527;};const _0xda7b80=_0x21b102;let _0x2767d6=!![];return process[_0x976690(0x18e)][_0x976690(0x283)]&&(_0x2767d6=_0xda7b80[_0x976690(0x27a)](process[_0x976690(0x18e)][_0x976690(0x283)],_0xda7b80['NmcyJ'])),process[_0x976690(0x18e)][_0x976690(0x26c)]&&(_0x2767d6=_0xda7b80[_0x976690(0x269)](process['env'][_0x976690(0x26c)],_0xda7b80['NmcyJ'])),process[_0x976690(0x18e)][_0x976690(0x17f)]&&(_0x2767d6=_0xda7b80[_0x976690(0x224)](process[_0x976690(0x18e)][_0x976690(0x17f)],_0xda7b80[_0x976690(0x1d5)])),_0x2767d6;},exports[a127_0x4b9261(0x18d)]=_0x229654=>{const _0x531530=a127_0x4b9261;if(bsSetupHelper[_0x531530(0x187)](_0x229654))return undefined;try{return _0x229654[_0x531530(0x21b)]()[_0x531530(0x183)](',');}catch(_0x3ab922){return undefined;}},exports[a127_0x4b9261(0x1b5)]=()=>{const _0x263446=a127_0x4b9261,_0x46b7a2={'nPGLI':function(_0x3f2701,_0x34ebaf){return _0x3f2701(_0x34ebaf);},'GXnGN':_0x263446(0x22c),'APTLd':function(_0x50619a,_0x2b737c){return _0x50619a!==_0x2b737c;},'LnJKI':_0x263446(0x1fb),'SlrOY':function(_0x46ac66,_0x361ead){return _0x46ac66!==_0x361ead;},'kfeTu':_0x263446(0x218)};return PerformanceTester[_0x263446(0x1ea)](PerformanceO11yEvents[_0x263446(0x179)],async()=>{const _0x434e81=_0x263446;try{const _0x4496a7=_0x46b7a2[_0x434e81(0x27e)](require,_0x46b7a2['GXnGN']);if(_0x4496a7[_0x434e81(0x1e9)]){const _0x3e66a1='Visit\x20'+O11Y_URL+'/builds/'+_0x4496a7['O11yHashedID']+_0x434e81(0x1b7);buildLogger[_0x434e81(0x213)](_0x3e66a1);return;}if(process[_0x434e81(0x18e)]['BS_TESTOPS_BUILD_HASHED_ID']&&_0x46b7a2[_0x434e81(0x231)](process[_0x434e81(0x18e)]['BS_TESTOPS_BUILD_HASHED_ID'],_0x46b7a2['LnJKI'])&&_0x46b7a2[_0x434e81(0x21f)](process[_0x434e81(0x18e)][_0x434e81(0x1cf)],_0x46b7a2[_0x434e81(0x1d6)])){const _0x235c9f=_0x434e81(0x256)+constants[_0x434e81(0x247)]+'/builds/'+process[_0x434e81(0x18e)]['BS_TESTOPS_BUILD_HASHED_ID']+_0x434e81(0x1b7);buildLogger[_0x434e81(0x213)](_0x235c9f);}}catch(_0x11aa29){logger[_0x434e81(0x232)](util['format'](_0x434e81(0x26f)+constants[_0x434e81(0x216)]+'\x20]\x20Build\x20Not\x20Found\x20%s',new Date()[_0x434e81(0x273)](),_0x11aa29[_0x434e81(0x22b)]||_0x11aa29[_0x434e81(0x1a4)]||_0x11aa29));}})();},exports[a127_0x4b9261(0x282)]=_0x5aa226=>{const _0x201888=a127_0x4b9261,_0x572372={};_0x572372['CiqNK']=_0x201888(0x180),_0x572372['DPXaD']=_0x201888(0x1b4);const _0x11cdcc=_0x572372;if(!_0x5aa226)return null;return _0x5aa226[_0x201888(0x1bc)]()[_0x201888(0x182)](/AssertionError/)?_0x11cdcc['CiqNK']:_0x11cdcc[_0x201888(0x16b)];},exports[a127_0x4b9261(0x1a1)]=_0x2d66e5=>{const _0x43e3be=a127_0x4b9261,_0x55939d={};_0x55939d['kweAI']=_0x43e3be(0x23c),_0x55939d['lmlJm']=_0x43e3be(0x263),_0x55939d[_0x43e3be(0x200)]=_0x43e3be(0x17e),_0x55939d[_0x43e3be(0x18b)]=_0x43e3be(0x1a0),_0x55939d[_0x43e3be(0x1c7)]=_0x43e3be(0x1d8);const _0x364b5c=_0x55939d;let _0x41df57=null;switch(_0x2d66e5){case FRAMEWORKS[_0x43e3be(0x23a)]:_0x41df57=bsSetupHelper[_0x43e3be(0x191)](_0x364b5c[_0x43e3be(0x20e)]);break;case FRAMEWORKS[_0x43e3be(0x21e)]:_0x41df57=bsSetupHelper['getPackageVersion'](_0x364b5c['lmlJm']);break;case FRAMEWORKS[_0x43e3be(0x1e7)]:case FRAMEWORKS['CODECEPT_CUCUMBER']:_0x41df57=bsSetupHelper[_0x43e3be(0x191)](_0x364b5c[_0x43e3be(0x200)]);break;case FRAMEWORKS[_0x43e3be(0x1b3)]:_0x41df57=bsSetupHelper['getPackageVersion'](_0x364b5c['thBkM']);break;case FRAMEWORKS[_0x43e3be(0x19c)]:_0x41df57=bsSetupHelper[_0x43e3be(0x191)](_0x364b5c[_0x43e3be(0x1c7)]);break;default:break;}return _0x41df57;},exports[a127_0x4b9261(0x206)]=_0x5cdd1f=>{const _0x1aa8b7=a127_0x4b9261;let _0x5b37f0=null;switch(_0x5cdd1f){case FRAMEWORKS[_0x1aa8b7(0x21e)]:_0x5b37f0=process[_0x1aa8b7(0x18e)]['BROWSERSTACK_CONFIG_FILE_PATH'];break;}if(!_0x5b37f0)return;return bsSetupHelper[_0x1aa8b7(0x1c5)](_0x5b37f0,![]);},exports['getUserCredentials']=_0x1d920a=>{const _0x1c292e=a127_0x4b9261;return{'username':bsSetupHelper[_0x1c292e(0x277)](_0x1d920a),'accessKey':bsSetupHelper[_0x1c292e(0x1fe)](_0x1d920a)};},exports[a127_0x4b9261(0x16e)]=(_0x425df2,_0x953ecb)=>{const _0xae05d5=a127_0x4b9261,_0x51f3db={};_0x51f3db[_0xae05d5(0x1b0)]=_0xae05d5(0x214),_0x51f3db[_0xae05d5(0x1f3)]=_0xae05d5(0x203),_0x51f3db[_0xae05d5(0x25e)]=_0xae05d5(0x1c0);const _0x2a18ad=_0x51f3db,_0x149b93=_0x2a18ad[_0xae05d5(0x1b0)][_0xae05d5(0x183)]('|');let _0x2792d7=0x0;while(!![]){switch(_0x149b93[_0x2792d7++]){case'0':if(!_0x425df2['body'][0x0]||!_0x425df2[_0xae05d5(0x205)][0x0][_0xae05d5(0x184)]||!_0x425df2[_0xae05d5(0x205)][0x0]['logs']['length'])return;continue;case'1':if(!_0x425df2[_0xae05d5(0x205)]||!Array['isArray'](_0x425df2['body']))return;continue;case'2':delete _0x425df2[_0xae05d5(0x205)];continue;case'3':delete _0x953ecb[_0xae05d5(0x259)];continue;case'4':_0x425df2[_0xae05d5(0x23b)]={'data':_0x425df2[_0xae05d5(0x205)][0x0]['logs'][0x0][_0xae05d5(0x170)],'test_run_uuid':_0x425df2[_0xae05d5(0x205)][0x0][_0xae05d5(0x184)][0x0][_0xae05d5(0x1f0)],'event_type':_0x2a18ad['FUzwO'],'kind':_0x2a18ad['pYjaA'],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0xae05d5(0x273)](),'fileName':_0x425df2['body'][0x0][_0xae05d5(0x184)][0x0]['fileName']};continue;case'5':delete _0x425df2[_0xae05d5(0x250)];continue;}break;}},exports['asyncAwaitNodeReq']=async(_0x7da85b,_0x5b1026,_0x2a1592,_0x14422f,_0x5b5030=!![])=>{const _0x1881c8=a127_0x4b9261,_0x3a5cab={};_0x3a5cab[_0x1881c8(0x195)]=function(_0xa73e23,_0x56cebd){return _0xa73e23===_0x56cebd;},_0x3a5cab['tcMAg']=_0x1881c8(0x198),_0x3a5cab[_0x1881c8(0x285)]=_0x1881c8(0x229),_0x3a5cab[_0x1881c8(0x27b)]=_0x1881c8(0x239),_0x3a5cab[_0x1881c8(0x1c9)]=function(_0x4f25de,_0x1d5a6c){return _0x4f25de!==_0x1d5a6c;},_0x3a5cab[_0x1881c8(0x1a8)]=_0x1881c8(0x197),_0x3a5cab[_0x1881c8(0x233)]=_0x1881c8(0x260);const _0x181ab0=_0x3a5cab,_0x2ec9a6={..._0x14422f,...{'method':_0x7da85b,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x5b1026,'body':_0x2a1592,'json':_0x181ab0['hDTCJ'](_0x14422f[_0x1881c8(0x259)][_0x181ab0[_0x1881c8(0x169)]],_0x181ab0[_0x1881c8(0x285)]),'agent':API_URL[_0x1881c8(0x27d)](_0x181ab0['WFjbq'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x181ab0[_0x1881c8(0x195)](_0x5b1026,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x2ec9a6[_0x1881c8(0x19d)]=API_URL[_0x1881c8(0x27d)](_0x181ab0[_0x1881c8(0x27b)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports['modifyReqForTraceUpload'](_0x2ec9a6,_0x14422f),logger[_0x1881c8(0x1b1)]('Uploading\x20trace\x20logs\x20to:\x20'+_0x2ec9a6['url']));try{const {statusCode:_0x3f3124,body:_0x36ecec}=await bsSetupHelper[_0x1881c8(0x271)](_0x7da85b,_0x5b1026,_0x2ec9a6,_0x14422f,_0x2ec9a6[_0x1881c8(0x201)]);if(_0x181ab0[_0x1881c8(0x1c9)](_0x3f3124,0xc8))return _0x36ecec?_0x36ecec:'Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20'+_0x3f3124;let _0x2fccc0=_0x36ecec;if(_0x5b5030)try{_0x181ab0[_0x1881c8(0x1c9)](typeof _0x36ecec,_0x181ab0[_0x1881c8(0x1a8)])&&(_0x2fccc0=JSON[_0x1881c8(0x25a)](_0x36ecec));}catch(_0x14e3e7){logger['error'](_0x181ab0[_0x1881c8(0x233)],_0x36ecec,util['format'](_0x14e3e7));}const _0x33a37b={};return _0x33a37b['data']=_0x2fccc0,_0x33a37b;}catch(_0x178385){logger[_0x1881c8(0x232)](_0x1881c8(0x1cb)+util[_0x1881c8(0x252)](_0x178385));throw _0x178385;}},exports[a127_0x4b9261(0x271)]=(_0x3e6e69,_0x3c34f2,_0x4d6184,_0x164bfb,_0x2a0212=!![])=>{const _0x479381=a127_0x4b9261,_0x3deec6={'JiCwg':function(_0x30de89,_0x502f6b){return _0x30de89!==_0x502f6b;},'jNrTi':function(_0x9fbe99,_0x2d00e5){return _0x9fbe99(_0x2d00e5);},'tUqnW':function(_0x3dea1a,_0x116765){return _0x3dea1a!==_0x116765;},'zTXxl':_0x479381(0x197),'xWFoq':function(_0x27174d,_0x41658d){return _0x27174d(_0x41658d);},'crTvl':_0x479381(0x196),'oJito':function(_0x49da58,_0x3a5fc2){return _0x49da58===_0x3a5fc2;},'yqkTD':'Content-Type','gcbjA':'application/json','DjSbP':_0x479381(0x239),'HOdsG':function(_0x1f69b8,_0x4126c3){return _0x1f69b8===_0x4126c3;}};return new Promise((_0x2d44f1,_0x1a792c)=>{const _0x26a621=_0x479381,_0x41e50d={'EIFUx':function(_0xd810c5,_0x461b3f){return _0x3deec6['JiCwg'](_0xd810c5,_0x461b3f);},'QTBDk':function(_0x429ca2,_0x30f195){const _0x3fb728=a127_0x4f25;return _0x3deec6[_0x3fb728(0x17c)](_0x429ca2,_0x30f195);},'NGxic':function(_0x5efe95,_0x40041b){const _0x41ef9c=a127_0x4f25;return _0x3deec6[_0x41ef9c(0x1bf)](_0x5efe95,_0x40041b);},'WRUcx':_0x3deec6['zTXxl'],'PALCH':function(_0x21fea1,_0x333659){return _0x3deec6['xWFoq'](_0x21fea1,_0x333659);},'SswFa':_0x3deec6['crTvl'],'tZZWi':function(_0x29e086,_0x34945f){const _0x251895=a127_0x4f25;return _0x3deec6[_0x251895(0x1ed)](_0x29e086,_0x34945f);}},_0x77ae67={..._0x164bfb,...{'method':_0x3e6e69,'url':API_URL+'/'+_0x3c34f2,'body':_0x4d6184,'json':_0x3deec6[_0x26a621(0x1be)](_0x164bfb[_0x26a621(0x259)][_0x3deec6[_0x26a621(0x24b)]],_0x3deec6[_0x26a621(0x255)]),'agent':API_URL['includes'](_0x3deec6[_0x26a621(0x20c)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x3deec6[_0x26a621(0x1eb)](_0x3c34f2,SCREENSHOT_ENDPOINT)&&(_0x77ae67[_0x26a621(0x19d)]=API_URL[_0x26a621(0x27d)](_0x3deec6['DjSbP'])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper['nodeRequest'](_0x3e6e69,_0x3c34f2,_0x77ae67,_0x164bfb,API_URL)['then'](({statusCode:_0x229207,body:_0x76d1c9})=>{const _0x8125e7=_0x26a621;if(_0x41e50d[_0x8125e7(0x24d)](_0x229207,0xc8))_0x41e50d[_0x8125e7(0x1db)](_0x1a792c,_0x76d1c9?_0x76d1c9:_0x8125e7(0x19f)+_0x229207);else{if(_0x2a0212)try{_0x41e50d[_0x8125e7(0x1b9)](typeof _0x76d1c9,_0x41e50d[_0x8125e7(0x26a)])&&(_0x76d1c9=JSON[_0x8125e7(0x25a)](_0x76d1c9));}catch(_0x539777){_0x41e50d[_0x8125e7(0x1ee)](_0x1a792c,_0x41e50d[_0x8125e7(0x208)]);return;}const _0x4d91cc={};_0x4d91cc[_0x8125e7(0x170)]=_0x76d1c9,_0x41e50d[_0x8125e7(0x27c)](_0x2d44f1,_0x4d91cc);}})[_0x26a621(0x16d)](_0x535c16=>{const _0x1a814e=_0x26a621;_0x535c16&&_0x41e50d[_0x1a814e(0x27c)](_0x1a792c,_0x535c16);});});},exports[a127_0x4b9261(0x1de)]=_0x1c89e4=>{const _0x1b678d=a127_0x4b9261;if(process[_0x1b678d(0x18e)][_0x1b678d(0x1b8)])return process['env'][_0x1b678d(0x1b8)]['split'](',');if(process[_0x1b678d(0x18e)][_0x1b678d(0x1e8)])return process[_0x1b678d(0x18e)][_0x1b678d(0x1e8)][_0x1b678d(0x183)](',');if(_0x1c89e4['buildTag'])return _0x1c89e4[_0x1b678d(0x268)];return[];},exports['getDefaultHeaders']=(_0x59f317=!![])=>{const _0x232067=a127_0x4b9261,_0x6d115={};_0x6d115[_0x232067(0x258)]='application/json',_0x6d115[_0x232067(0x16a)]='true',_0x6d115[_0x232067(0x1e6)]=_0x232067(0x266);const _0x5aaf5c=_0x6d115,_0x3e9fbe={};_0x3e9fbe[_0x232067(0x198)]=_0x5aaf5c[_0x232067(0x258)],_0x3e9fbe[_0x232067(0x1ba)]=_0x5aaf5c['FgeeK'];const _0x36d169=_0x3e9fbe;return _0x59f317&&process[_0x232067(0x18e)]['BROWSERSTACK_TESTHUB_JWT']&&(_0x36d169[_0x5aaf5c[_0x232067(0x1e6)]]=_0x232067(0x20a)+process[_0x232067(0x18e)][_0x232067(0x16f)]),_0x36d169;},exports[a127_0x4b9261(0x1ff)]=_0x19df6d=>{const _0x1fc8ca=a127_0x4b9261,_0x1f4884={};_0x1f4884[_0x1fc8ca(0x174)]=_0x1fc8ca(0x16c);const _0x590bd1=_0x1f4884,_0x22f258=[],_0xea7f30=new RegExp(_0x590bd1[_0x1fc8ca(0x174)],'i');return Object[_0x1fc8ca(0x17a)](_0x19df6d)[_0x1fc8ca(0x204)](_0x346160=>_0xea7f30[_0x1fc8ca(0x217)](_0x346160))['forEach'](_0x4e16a2=>_0x22f258[_0x1fc8ca(0x176)](_0x19df6d[_0x4e16a2])),_0x22f258;},exports['getCustomTags']=_0x1bb49a=>{const _0x1d32f8=a127_0x4b9261,_0x574afe=[],_0x173a26=_0x1bb49a[_0x1d32f8(0x172)]||process['env']['CUSTOM_TAG'];return _0x173a26&&_0x574afe[_0x1d32f8(0x176)](_0x173a26),_0x574afe[_0x1d32f8(0x176)](...exports[_0x1d32f8(0x1ff)](process[_0x1d32f8(0x18e)])),_0x574afe[_0x1d32f8(0x176)](...exports[_0x1d32f8(0x1ff)](_0x1bb49a)),_0x574afe;},exports[a127_0x4b9261(0x228)]=_0x14fb5e=>{const _0x3c271d=a127_0x4b9261;if(!_0x14fb5e)return'';return _0x14fb5e[_0x3c271d(0x1d2)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a127_0x4b9261(0x1f8)]=(_0x86abfd=0x64)=>new Promise(_0x26f433=>setTimeout(_0x26f433,_0x86abfd));const getPlatformName=()=>{const _0x3e4571=a127_0x4b9261,_0x4c24cf={};_0x4c24cf[_0x3e4571(0x1a6)]=function(_0x3dca92,_0x43fb73){return _0x3dca92===_0x43fb73;},_0x4c24cf[_0x3e4571(0x18a)]=_0x3e4571(0x21c),_0x4c24cf[_0x3e4571(0x1d9)]='Windows',_0x4c24cf[_0x3e4571(0x221)]=_0x3e4571(0x23f),_0x4c24cf[_0x3e4571(0x207)]='OS\x20X',_0x4c24cf['bHDFn']=_0x3e4571(0x1cd),_0x4c24cf[_0x3e4571(0x1df)]=_0x3e4571(0x287),_0x4c24cf['qCEBh']=_0x3e4571(0x275);const _0x5864bc=_0x4c24cf;if(_0x5864bc['heKgo'](process[_0x3e4571(0x1e1)],_0x5864bc[_0x3e4571(0x18a)]))return _0x5864bc[_0x3e4571(0x1d9)];if(_0x5864bc['heKgo'](process[_0x3e4571(0x1e1)],_0x5864bc[_0x3e4571(0x221)]))return _0x5864bc[_0x3e4571(0x207)];if(_0x5864bc[_0x3e4571(0x1a6)](process[_0x3e4571(0x1e1)],_0x5864bc[_0x3e4571(0x1ef)]))return _0x5864bc[_0x3e4571(0x1df)];return _0x5864bc[_0x3e4571(0x1b2)];},getMacOSVersion=()=>{const _0x2bf806=a127_0x4b9261,_0x14a7fe={};_0x14a7fe[_0x2bf806(0x253)]=_0x2bf806(0x1ac);const _0x11c22b=_0x14a7fe;return child_process['execSync'](_0x11c22b[_0x2bf806(0x253)])['toString']()[_0x2bf806(0x21b)]();},getLinuxDetails=()=>{const _0x5eb5cc={'prPRt':function(_0x5d778c,_0xf441cc){return _0x5d778c(_0xf441cc);}};return new Promise((_0x565a42,_0x519506)=>{const _0x38fd85=a127_0x4f25,_0x1735bd={'HGquI':function(_0x3523e9,_0x182671){return _0x5eb5cc['prPRt'](_0x3523e9,_0x182671);},'pcXzL':function(_0x25f488,_0x271436){const _0x4eebb2=a127_0x4f25;return _0x5eb5cc[_0x4eebb2(0x267)](_0x25f488,_0x271436);}};_0x5eb5cc[_0x38fd85(0x267)](getos,(_0x698ec7,_0x5a3652)=>{const _0x382eed=_0x38fd85;if(_0x698ec7)return _0x1735bd[_0x382eed(0x262)](_0x519506,_0x698ec7);_0x1735bd[_0x382eed(0x237)](_0x565a42,_0x5a3652);});});};exports[a127_0x4b9261(0x261)]=async()=>{const _0x57c420=a127_0x4b9261,_0xe7e44a={'RfjyE':function(_0x14d130){return _0x14d130();},'bMufb':_0x57c420(0x1e2),'URUbu':_0x57c420(0x223),'VPJLc':_0x57c420(0x177),'dQxhU':_0x57c420(0x287),'NpFRJ':_0x57c420(0x1ca)};let _0x2569c4=_0xe7e44a['RfjyE'](getPlatformName),_0x3f91ed=os['release']()['toString']();switch(_0x2569c4){case _0xe7e44a['bMufb']:_0x3f91ed=_0xe7e44a[_0x57c420(0x1cc)](getMacOSVersion);break;case _0xe7e44a['URUbu']:try{const _0x51a16e=(await import(_0xe7e44a[_0x57c420(0x1f9)]))[_0x57c420(0x23e)];_0x3f91ed=_0xe7e44a['RfjyE'](_0x51a16e);}catch(_0x28a168){exports[_0x57c420(0x1b1)](_0x57c420(0x1dd)+_0x28a168[_0x57c420(0x1bc)]());}break;case _0xe7e44a[_0x57c420(0x212)]:try{const _0x2cd829=await _0xe7e44a[_0x57c420(0x1cc)](getLinuxDetails);_0x2cd829[_0x57c420(0x194)]&&(_0x2569c4=_0x2cd829[_0x57c420(0x194)]),_0x2cd829[_0x57c420(0x22a)]&&(_0x3f91ed=_0x2cd829['release'][_0x57c420(0x1bc)]());}catch(_0x291f3b){exports[_0x57c420(0x1b1)](_0xe7e44a[_0x57c420(0x284)]);}break;default:break;}const _0x9b58b8={};return _0x9b58b8[_0x57c420(0x192)]=_0x2569c4,_0x9b58b8['platformVersion']=_0x3f91ed,_0x9b58b8;},exports[a127_0x4b9261(0x1fc)]=(_0x58e751,_0x12b221)=>{const _0x2e42eb=a127_0x4b9261,_0x289146={};_0x289146[_0x2e42eb(0x175)]=function(_0x10fc0f,_0x5e7c34){return _0x10fc0f===_0x5e7c34;},_0x289146[_0x2e42eb(0x215)]=_0x2e42eb(0x217),_0x289146['kTzTH']=_0x2e42eb(0x1e4);const _0x56123e=_0x289146;if(!_0x58e751)return[];try{if(_0x56123e[_0x2e42eb(0x175)](_0x12b221,_0x56123e[_0x2e42eb(0x215)]))return _0x58e751[_0x2e42eb(0x178)](_0x3a9338=>{const _0x216d73=_0x2e42eb,{stack:_0x30e56b,..._0x279d96}=_0x3a9338,_0x156752=Object['keys'](_0x279d96)[_0x216d73(0x178)](_0x5b28a4=>{return _0x5b28a4+':\x20'+_0x279d96[_0x5b28a4];}),_0x38ef5f=_0x30e56b?exports[_0x216d73(0x228)](_0x30e56b)[_0x216d73(0x183)](/\r?\n/):[exports[_0x216d73(0x228)](_0x3a9338[_0x216d73(0x1a4)])],_0x2386cd={};return _0x2386cd[_0x216d73(0x193)]=_0x38ef5f,_0x2386cd[_0x216d73(0x1a7)]=_0x156752,_0x2386cd;});else{if(_0x56123e['oovRE'](_0x12b221,_0x56123e['kTzTH'])){const _0x47b0d6=[],_0x2ad7bb=[];return Object[_0x2e42eb(0x17a)](_0x58e751)['forEach'](_0x3c6e49=>{const _0x388084=_0x2e42eb;try{_0x2ad7bb[_0x388084(0x176)](_0x3c6e49+':\x20'+_0x58e751[_0x3c6e49]);}catch(_0x3b608a){exports[_0x388084(0x1b1)](_0x388084(0x210)+_0x3b608a['message']+_0x388084(0x1d0)+_0x3b608a[_0x388084(0x193)]);}}),_0x47b0d6['push']({'backtrace':exports[_0x2e42eb(0x228)](_0x58e751['stack'])[_0x2e42eb(0x183)](/\r?\n/),'expanded':_0x2ad7bb}),_0x47b0d6;}}return[];}catch(_0xf5081b){exports[_0x2e42eb(0x1b1)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0xf5081b['message']+_0x2e42eb(0x1d0)+_0xf5081b[_0x2e42eb(0x193)]);}return[];};class PathHelper{constructor(_0x39b9cb,_0x394c1){const _0x7e07cb=a127_0x4b9261;this[_0x7e07cb(0x286)]=_0x39b9cb,this[_0x7e07cb(0x257)]=_0x394c1;}[a127_0x4b9261(0x1ce)](_0x568ae5){const _0x434252=a127_0x4b9261,_0x42668c=this[_0x434252(0x286)][_0x434252(0x23d)]||this[_0x434252(0x286)]['rootDir'];return path[_0x434252(0x1dc)](_0x42668c,_0x568ae5);}[a127_0x4b9261(0x1e5)](_0x10ae49){const _0xb56931=a127_0x4b9261,_0x13e96e=this[_0xb56931(0x1ce)](_0x10ae49);return this['prefix']?path['join'](this[_0xb56931(0x257)],_0x13e96e):_0x13e96e;}}function a127_0x332e(){const _0x4e7b55=['err','prefixTestPath','qulyB','CODECEPT','TEST_OBSERVABILITY_BUILD_TAG','O11yHashedID','measureWrapper','HOdsG','getSyncScript','xWFoq','PALCH','bHDFn','test_run_uuid','now','getPlatformVersion','FUzwO','1918654GCurZK','ATS_HUB_URL_REGEX','getos','hirpK','sleep','VPJLc','isTestObservabilitySession','null','failureData','browserstack_executor:\x20','getAccessKey','extractValuesWithRegexKeyMatch','pfhaH','url','forEach','LogCreated','filter','body','getBrowserStackConfig','YzWbY','SswFa','bs:addLog:','Bearer\x20','host','DjSbP','129zdbYUJ','kweAI','fjOxH','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','shouldReRunObservabilityTests','dQxhU','info','1|0|4|2|5|3','OBtEg','TEST_REPORTING_ANALYTICS','test','undefined','util','5840790ZWbWXa','trim','win32','6470520RahYsE','PLAYWRIGHT','SlrOY','nvGNv','PslHl','\x20test\x20instance\x20:\x20','Windows','YaCuS','__cloud_provider___','QEWRC','DBUyt','removeAnsiColors','application/json','release','stack','../../bin/v2/browserstackCLI','BROWSERSTACK_TEST_REPORTING_DEBUG','hYIEB','\x20]\x20','FHnVr','APTLd','error','eiKvo','timeout','addRequestSpy','getBrowserName','pcXzL','isInternalHook','https','MOCHA','formData','mocha','cwd','default','darwin','lodash','http','maxTotalSockets','542496kbrKMH','automate','emit','unknown_grid','O11Y_URL','jwPMl','bstack:options','hostname','yqkTD','ulsSL','EIFUx','turboscale','Agent','json','../../bin/utils/logPatcher','format','FjKQp','BROWSERSTACK_OBSERVABILITY_DEBUG','gcbjA','Visit\x20','prefix','HAoBW','headers','parse','IMAoy','getCapabilities','app','pYjaA','][\x20','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','getPlatformDetails','HGquI','@playwright/test','getSession','stringify','Authorization','prPRt','buildTag','cordv','WRUcx','toJSON','BROWSERSTACK_TEST_OBSERVABILITY','ObservabilitySync:','./constants','[%s][\x20','trace','nodeRequest','EaBOn','toISOString','wSiRR','Unknown','288MwvDck','getUserName','DBaIc','kUDhF','ywuuS','WFjbq','tZZWi','includes','nPGLI','true','path','getPlatform','getFailureType','BROWSERSTACK_TEST_OBSERVABILITY_YML','NpFRJ','zBahE','config','Linux','BgUXR','git-last-commit','tcMAg','FgeeK','DPXaD','^CUSTOM_TAG_\x5cd+$','catch','modifyReqForTraceUpload','BROWSERSTACK_TESTHUB_JWT','data','silly','customTag','2681028AyPaDo','FabKP','oovRE','push','windows-release','map','PRINT_BUILDLINK','keys','pid','jNrTi','nMUOv','codeceptjs','BROWSERSTACK_TEST_REPORTING','AssertionError','sRKPy','match','split','logs','../logger','udkHW','isUndefined','getObservabilityLinkedProductName','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','wZaft','thBkM','../../bin/utils/constants','parseFileNames','env','../../helpers/request-spy','OKdlf','getPackageVersion','platformName','backtrace','dist','hDTCJ','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','object','Content-Type','app-automate','1101325oJPbEM','capabilities','CUCUMBER','agent','getBrowserVersion','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','jest','getFrameworkVersion','../performance/constants','VwpKS','message','sendPlatformDetails','heKgo','expanded','LopCS','child_process','browserstack','HUB_URL_REGEX','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','LzGoQ','XClQB','appium:app','bXLiY','debug','qCEBh','JEST','UnhandledError','printBuildLink','local_grid','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','TEST_REPORTING_BUILD_TAG','NGxic','X-BSTACK-TESTOPS','keepAlive','toString','BROWSERSTACK_RERUN_TESTS','oJito','tUqnW','TEST_ATTACHMENT','PathHelper','annotate','TEST_PLATFORM','HTTP','readConfig','maxSockets','akRpo','git-repo-info','JGVZU','Error\x20in\x20getting\x20Linux\x20Details','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','RfjyE','linux','relativeTestFilePath','BS_TESTOPS_BUILD_HASHED_ID','\x20:\x20','winstonLogger','replace','../performance/performance-tester','../helper','NmcyJ','kfeTu','length','@cucumber/cucumber','MqxyH','AsONJ','QTBDk','relative','Error\x20in\x20importing\x20windows-release\x20','getBuildTags','vJrfr','LlfAv','platform','OS\x20X','76184YUtvJR'];a127_0x332e=function(){return _0x4e7b55;};return a127_0x332e();}exports[a127_0x4b9261(0x1c1)]=PathHelper,exports[a127_0x4b9261(0x235)]=(_0x3f6b63=!![])=>{const _0x34dd2b=a127_0x4b9261,_0x259b89={};_0x259b89['sRKPy']=function(_0x47cf53,_0x26c678){return _0x47cf53===_0x26c678;},_0x259b89[_0x34dd2b(0x167)]=_0x34dd2b(0x1ba),_0x259b89[_0x34dd2b(0x190)]='true',_0x259b89[_0x34dd2b(0x1e0)]=_0x34dd2b(0x1c4),_0x259b89[_0x34dd2b(0x24c)]=_0x34dd2b(0x1aa),_0x259b89[_0x34dd2b(0x274)]=_0x34dd2b(0x1b6);const _0x37aabd=_0x259b89;requestSpy['spy']((_0x3ae86a,_0x163d03)=>{const _0x10be90=_0x34dd2b;_0x163d03&&!(_0x163d03[_0x10be90(0x259)]&&_0x37aabd[_0x10be90(0x181)](_0x163d03['headers'][_0x37aabd[_0x10be90(0x167)]],_0x37aabd['OKdlf']))&&(_0x163d03[_0x10be90(0x20b)]=_0x163d03['hostname'],delete _0x163d03[_0x10be90(0x24a)],_0x3f6b63&&process[_0x10be90(0x245)](_0x10be90(0x209)+process[_0x10be90(0x17b)],{'timestamp':new Date()[_0x10be90(0x273)](),'level':null,'message':null,'kind':_0x37aabd[_0x10be90(0x1e0)],'http_response':_0x163d03})),_0x163d03&&(constants[_0x10be90(0x1ab)][_0x10be90(0x217)](_0x163d03[_0x10be90(0x20b)])||constants[_0x10be90(0x1f5)][_0x10be90(0x217)](_0x163d03[_0x10be90(0x20b)]))?global[_0x10be90(0x225)]=_0x37aabd[_0x10be90(0x24c)]:global[_0x10be90(0x225)]=_0x37aabd[_0x10be90(0x274)];});},exports['patchConsoleLogger']=()=>{const _0x4b8a0d=a127_0x4b9261,_0x207b8c={'QIgOR':function(_0x56f59e,_0xfb4835){return _0x56f59e(_0xfb4835);}};console={},Object[_0x4b8a0d(0x17a)](consoleHolder)[_0x4b8a0d(0x202)](_0x18b19a=>{_0x207b8c['QIgOR'](isFunction,consoleHolder[_0x18b19a])?console[_0x18b19a]=(..._0x19d017)=>{const _0x38c337=a127_0x4f25;try{!Object['keys'](BSTestOpsPatcher)[_0x38c337(0x27d)](_0x18b19a)?consoleHolder[_0x18b19a](..._0x19d017):BSTestOpsPatcher[_0x18b19a](..._0x19d017);}catch(_0x4685a1){consoleHolder[_0x18b19a](..._0x19d017);}}:console[_0x18b19a]=consoleHolder[_0x18b19a];});},exports[a127_0x4b9261(0x1ec)]=()=>a127_0x4b9261(0x1fd)+JSON[a127_0x4b9261(0x265)]({'action':a127_0x4b9261(0x1c2),'arguments':{'data':a127_0x4b9261(0x26d)+Date[a127_0x4b9261(0x1f1)](),'level':a127_0x4b9261(0x1b1)}}),exports[a127_0x4b9261(0x188)]=_0x1e9bbf=>{const _0x2f4087=a127_0x4b9261,_0x32a4ce={};_0x32a4ce['DBaIc']=function(_0x2c2ed3,_0x9e6801){return _0x2c2ed3===_0x9e6801;},_0x32a4ce['FSQyu']=_0x2f4087(0x1aa),_0x32a4ce[_0x2f4087(0x1da)]=_0x2f4087(0x1af),_0x32a4ce[_0x2f4087(0x25b)]=_0x2f4087(0x25d),_0x32a4ce[_0x2f4087(0x220)]=function(_0x3685be,_0x1fb9aa){return _0x3685be>_0x1fb9aa;},_0x32a4ce[_0x2f4087(0x1ad)]=_0x2f4087(0x199),_0x32a4ce[_0x2f4087(0x22e)]=_0x2f4087(0x249),_0x32a4ce[_0x2f4087(0x1ae)]='turboScaleGridDetails',_0x32a4ce['udkHW']=_0x2f4087(0x24e),_0x32a4ce[_0x2f4087(0x230)]=_0x2f4087(0x244);const _0x339602=_0x32a4ce;let _0x39ce85=null;try{if(_0x339602[_0x2f4087(0x278)](global[_0x2f4087(0x225)],_0x339602['FSQyu'])){if(_0x1e9bbf[_0x339602[_0x2f4087(0x1da)]]||_0x1e9bbf[_0x339602[_0x2f4087(0x25b)]]||!bsSetupHelper[_0x2f4087(0x187)](global['capabilities'])&&_0x339602['nvGNv'](global[_0x2f4087(0x19b)][_0x2f4087(0x1d7)],0x0)&&(global[_0x2f4087(0x19b)][0x0][_0x339602[_0x2f4087(0x25b)]]||global[_0x2f4087(0x19b)][0x0][_0x339602['AsONJ']]))_0x39ce85=_0x339602[_0x2f4087(0x1ad)];else _0x1e9bbf[_0x339602['hYIEB']]&&_0x1e9bbf[_0x339602[_0x2f4087(0x22e)]][_0x339602[_0x2f4087(0x1ae)]]?_0x39ce85=_0x339602[_0x2f4087(0x186)]:_0x39ce85=_0x339602[_0x2f4087(0x230)];}}catch(_0x4ec646){exports['debug']('Failed\x20to\x20determine\x20product\x20linked\x20to\x20'+constants[_0x2f4087(0x216)]+_0x2f4087(0x222)+_0x4ec646);}return _0x39ce85;},exports[a127_0x4b9261(0x1a5)]=async(_0x360664,_0x74fca0,_0x2510f3=![])=>{const _0x117559=a127_0x4b9261,_0x1677cf={};_0x1677cf[_0x117559(0x1a3)]=function(_0x39c165,_0x27f1d5){return _0x39c165===_0x27f1d5;},_0x1677cf['nMUOv']='browserstack',_0x1677cf[_0x117559(0x227)]=_0x117559(0x246),_0x1677cf[_0x117559(0x20f)]=_0x117559(0x1c3);const _0x10947c=_0x1677cf;try{const _0x1daef0=await _0x360664[_0x117559(0x25c)](),_0x2652ac=await _0x360664[_0x117559(0x264)](),_0x6eca81={},_0x262f50=Object['fromEntries'](_0x2652ac[_0x117559(0x25c)]()['map_']),_0x95e550={'product':exports[_0x117559(0x188)](_0x262f50),'capabilities':_0x262f50,'platform':_0x1daef0[_0x117559(0x281)](),'platform_version':bsSetupHelper[_0x117559(0x1f2)](_0x10947c[_0x117559(0x1a3)](global[_0x117559(0x225)],_0x10947c[_0x117559(0x17d)])),'browser':_0x1daef0[_0x117559(0x236)](),'browser_version':_0x1daef0[_0x117559(0x19e)](),'session_id':_0x2652ac[_0x117559(0x26b)]()};global['__cloud_provider___']?_0x6eca81[global[_0x117559(0x225)]]=_0x95e550:_0x6eca81[_0x10947c['DBUyt']]=_0x95e550;if(_0x2510f3)return _0x6eca81;process[_0x117559(0x245)]('bs:addPlatformDetails:'+process['pid'],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x10947c[_0x117559(0x20f)],'http_response':_0x6eca81,'uuid':_0x74fca0});}catch(_0x19fc86){exports['debug'](_0x117559(0x189)+_0x19fc86);}},exports[a127_0x4b9261(0x238)]=_0x75f660=>{return _0x75f660&&_0x75f660['toString']()['match'](/browserstack internal helper hook/);};