const a88_0x3c5b36=a88_0x218f;(function(_0x3a4175,_0x4f2f79){const _0x4f1040=a88_0x218f,_0x59c2db=_0x3a4175();while(!![]){try{const _0x222a0e=-parseInt(_0x4f1040(0x19d))/0x1+parseInt(_0x4f1040(0xdb))/0x2*(parseInt(_0x4f1040(0xc2))/0x3)+-parseInt(_0x4f1040(0xd7))/0x4*(parseInt(_0x4f1040(0xb7))/0x5)+parseInt(_0x4f1040(0xca))/0x6*(-parseInt(_0x4f1040(0x12d))/0x7)+parseInt(_0x4f1040(0xc9))/0x8+-parseInt(_0x4f1040(0x12b))/0x9+parseInt(_0x4f1040(0xdf))/0xa;if(_0x222a0e===_0x4f2f79)break;else _0x59c2db['push'](_0x59c2db['shift']());}catch(_0xe86b3d){_0x59c2db['push'](_0x59c2db['shift']());}}}(a88_0x4e35,0x8b760));const fs=require('fs'),path=require(a88_0x3c5b36(0x102)),gitLastCommit=require('git-last-commit'),getRepoInfo=require('git-repo-info'),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require(a88_0x3c5b36(0xee)),http=require(a88_0x3c5b36(0x187)),https=require(a88_0x3c5b36(0x101)),child_process=require('child_process'),getos=require('getos'),os=require('os'),logger=require(a88_0x3c5b36(0xb4))[a88_0x3c5b36(0xd3)],bsSetupHelper=require(a88_0x3c5b36(0x139)),requestSpy=require(a88_0x3c5b36(0xe4)),constants=require('../../bin/utils/constants'),logPatcher=require(a88_0x3c5b36(0xef)),util=require(a88_0x3c5b36(0x13d)),{fileLogger}=require(a88_0x3c5b36(0xb4)),PerformanceTester=require(a88_0x3c5b36(0x160)),{isFunction}=require(a88_0x3c5b36(0xd0)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a88_0x3c5b36(0x1b7));exports['trace']=_0x1c514b=>{const _0x1389d2=a88_0x3c5b36;fileLogger[_0x1389d2(0x15d)]('['+new Date()[_0x1389d2(0xd4)]()+_0x1389d2(0x104)+_0x1c514b);},exports[a88_0x3c5b36(0xfa)]=_0x3c272f=>{const _0x44ea51=a88_0x3c5b36,_0x4e949d={};_0x4e949d['xGAUM']=function(_0xe01669,_0x51eea8){return _0xe01669===_0x51eea8;},_0x4e949d[_0x44ea51(0x1ab)]=_0x44ea51(0x1a3),_0x4e949d[_0x44ea51(0xe3)]=function(_0x9627b2,_0x8f6c38){return _0x9627b2===_0x8f6c38;};const _0x5a8a34=_0x4e949d;fileLogger[_0x44ea51(0xfa)]('['+new Date()[_0x44ea51(0xd4)]()+'][\x20OBSERVABILITY\x20]\x20'+_0x3c272f),(_0x5a8a34[_0x44ea51(0x121)](process[_0x44ea51(0x163)]['BROWSERSTACK_OBSERVABILITY_DEBUG'],_0x5a8a34['zpuAJ'])||_0x5a8a34['avFLw'](process[_0x44ea51(0x163)][_0x44ea51(0x15c)],'1'))&&consoleHolder[_0x44ea51(0xcf)]('\x0a['+new Date()[_0x44ea51(0xd4)]()+_0x44ea51(0x104)+_0x3c272f+'\x0a');};const a88_0xf6ccf9={};a88_0xf6ccf9[a88_0x3c5b36(0x191)]=!![],a88_0xf6ccf9[a88_0x3c5b36(0xb8)]=0xea60,a88_0xf6ccf9[a88_0x3c5b36(0x13e)]=0x2,a88_0xf6ccf9[a88_0x3c5b36(0x130)]=0x2;function a88_0x4e35(){const _0x194476=['trim','https','path','PRINT_BUILDLINK','][\x20OBSERVABILITY\x20]\x20','patchConsoleLogger','CjplN','modifyReqForTraceUpload','undefined','forEach','test_run_uuid','BROWSERSTACK_TEST_OBSERVABILITY','Bearer\x20','Dfhbs','json','removeAnsiColors','mocha','prefix','windows-release','jPjWP','turboScaleGridDetails','darwin','rjrLL','getPlatform','emit','@playwright/test','dRJMC','uhnpl','BIsOu','split','hXPyJ','WBYdY','BROWSERSTACK_RERUN_TESTS','xGAUM','LwsYc','err','PHXlw','url','getObservabilityLinkedProductName','sendPlatformDetails','UgfHq','HTTP','MJJGg','2976795tKJppg','customTag','1918faIPMz','config','nrvfl','maxTotalSockets','MWIcf','JRxVu','UnhandledError','CHiuw','qwnYs','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','getCapabilities','hvzpG','../helper','parse','nodeRequest','TEST_ATTACHMENT','util','maxSockets','match','wwfaD','MOCHA','ZVesi','CUCUMBER','fromEntries','map','WiYEp','VygkM','BkguO','info','keys','release','host','hOIGr','DTTnU','filter','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','now','message','getAccessKey','OqCfj','][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found','bs:addPlatformDetails:','HNmXC','getPackageVersion','Content-Type','CODECEPT','pid','BROWSERSTACK_OBSERVABILITY_DEBUG','silly','hFdSx','BS_TESTOPS_BUILD_HASHED_ID','../performance/performance-tester','getBrowserVersion','platformVersion','env','nhJxL','push','fileName','app','linux','browserstack','PvznU','ZFfdk','X-BSTACK-TESTOPS','0|2|3|1|5|4','codeceptjs','lMTvk','automate','BROWSERSTACK_TESTHUB_JWT','rootDir','tFMbP','Error\x20in\x20getting\x20Linux\x20Details','failureData','getPlatformDetails','sezaj','Agent','error','cJHpK','platform','TEST_PLATFORM','BROWSERSTACK_TEST_OBSERVABILITY_YML','qprTF','llZqk','relativeTestFilePath','stack','browserstack_executor:\x20','__cloud_provider___','data','HtLJd','isUndefined','http','cwd','Kqcdk','isTestObservabilitySession','TvSvN','unknown_grid','LogCreated','spy','relative','includes','keepAlive','DpUoW','OjYey','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','toJSON','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','Mvbje','Authorization','yzWtk','HTVRQ','addRequestSpy','oxzmH','627935VCIuKh','catch','^CUSTOM_TAG_\x5cd+$','Error\x20in\x20importing\x20windows-release\x20','shouldReRunObservabilityTests','parseFileNames','true','join','turboscale','formData','XdoRF','MSLZO','Windows','TEST_OBSERVABILITY_BUILD_TAG','zpuAJ','FXbdC','extractValuesWithRegexKeyMatch','application/json','yJeOU','then','platformName','jzafU','Unknown','bwgat','CUSTOM_TAG','utqFk','../performance/constants','stringify','headers','null','win32','isArray','WFnnc','capabilities','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','../logger','Linux','backtrace','2869735DjSPqC','timeout','getSyncScript','bs:addLog:','DrMNA','KCEDR','aAvwD','BROWSERSTACK_CONFIG_FILE_PATH','prefixTestPath','getFrameworkVersion','OS\x20X','315615RlOeXp','test','dyVRS','FdAaj','NruJv','PLAYWRIGHT_TRACE_LOGS','logs','4813144zwCQRH','7452bspbEO','hLZby','vbpmX','getPlatformVersion','WUbLb','log','lodash','HUB_URL_REGEX','oRUQz','winstonLogger','toISOString','RYjLE','OlEyG','4KQPKAx','hagIX','getUserName','ZJVQZ','10ItparW','PLAYWRIGHT','IQTLM','JEST','13165090YyNjrG','execSync','CHhGX','TeAZw','avFLw','../../helpers/request-spy','QMkAI','KasgQ','printBuildLink','buildTag','appium:app','tBSKP','jXWDX','Uploading\x20trace\x20logs\x20to:\x20','format','./constants','../../bin/utils/logPatcher','CQFjn','jest','agent','lBCEL','getBuildTags','getBrowserName','measureWrapper','toString','sleep','bstack:options','debug','NwWJP','length','PSbzV','body','\x20:\x20'];a88_0x4e35=function(){return _0x194476;};return a88_0x4e35();}const httpKeepAliveAgent=new http[(a88_0x3c5b36(0x178))](a88_0xf6ccf9),a88_0x31c9e1={};a88_0x31c9e1['keepAlive']=!![],a88_0x31c9e1['timeout']=0xea60,a88_0x31c9e1[a88_0x3c5b36(0x13e)]=0x2,a88_0x31c9e1[a88_0x3c5b36(0x130)]=0x2;function a88_0x218f(_0x3b7525,_0x5a855c){const _0x4e3527=a88_0x4e35();return a88_0x218f=function(_0x218fca,_0x16c215){_0x218fca=_0x218fca-0xb3;let _0x13cde9=_0x4e3527[_0x218fca];return _0x13cde9;},a88_0x218f(_0x3b7525,_0x5a855c);}const httpsKeepAliveAgent=new https['Agent'](a88_0x31c9e1),a88_0x1f80a7={};a88_0x1f80a7[a88_0x3c5b36(0x191)]=!![],a88_0x1f80a7[a88_0x3c5b36(0xb8)]=0xea60,a88_0x1f80a7[a88_0x3c5b36(0x13e)]=0x2,a88_0x1f80a7[a88_0x3c5b36(0x130)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a88_0x3c5b36(0x178))](a88_0x1f80a7),a88_0x131573={};a88_0x131573[a88_0x3c5b36(0x191)]=!![],a88_0x131573[a88_0x3c5b36(0xb8)]=0xea60,a88_0x131573[a88_0x3c5b36(0x13e)]=0x2,a88_0x131573[a88_0x3c5b36(0x130)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a88_0x3c5b36(0x178))](a88_0x131573);exports[a88_0x3c5b36(0x1a1)]=()=>{const _0xd8deba=a88_0x3c5b36,_0x46089c={};_0x46089c[_0xd8deba(0x154)]=function(_0x3c5ace,_0x2e5dc7){return _0x3c5ace!==_0x2e5dc7;},_0x46089c[_0xd8deba(0xd5)]=_0xd8deba(0x1ba);const _0x10a5fd=_0x46089c;return process['env']['BROWSERSTACK_RERUN_TESTS']&&_0x10a5fd['OqCfj'](process[_0xd8deba(0x163)][_0xd8deba(0x120)],_0x10a5fd[_0xd8deba(0xd5)])?!![]:![];},exports[a88_0x3c5b36(0x18a)]=()=>{const _0x3464c2=a88_0x3c5b36,_0x37044a={};_0x37044a[_0x3464c2(0x185)]=function(_0x3619e6,_0x26e652){return _0x3619e6===_0x26e652;},_0x37044a['LwsYc']=_0x3464c2(0x1a3);const _0x506942=_0x37044a;let _0x181539=!![];return process[_0x3464c2(0x163)][_0x3464c2(0x17d)]&&(_0x181539=_0x506942[_0x3464c2(0x185)](process[_0x3464c2(0x163)][_0x3464c2(0x17d)],_0x506942[_0x3464c2(0x122)])),process['env']['BROWSERSTACK_TEST_OBSERVABILITY']&&(_0x181539=_0x506942[_0x3464c2(0x185)](process[_0x3464c2(0x163)][_0x3464c2(0x10b)],_0x506942[_0x3464c2(0x122)])),_0x181539;},exports[a88_0x3c5b36(0x1a2)]=_0x57ef92=>{if(bsSetupHelper['isUndefined'](_0x57ef92))return undefined;try{return _0x57ef92['trim']()['split'](',');}catch(_0x1880ef){return undefined;}},exports[a88_0x3c5b36(0xe7)]=()=>{const _0x395713=a88_0x3c5b36,_0x396500={};_0x396500['NruJv']=function(_0x432b7a,_0x313190){return _0x432b7a!==_0x313190;},_0x396500[_0x395713(0x1b6)]=_0x395713(0x1ba),_0x396500[_0x395713(0xcc)]=function(_0x4a287c,_0x433f75){return _0x4a287c!==_0x433f75;},_0x396500[_0x395713(0x142)]=_0x395713(0x108);const _0x588d5a=_0x396500;return PerformanceTester[_0x395713(0xf6)](PerformanceO11yEvents[_0x395713(0x103)],async()=>{const _0x5d5470=_0x395713;try{process['env'][_0x5d5470(0x15f)]&&_0x588d5a[_0x5d5470(0xc6)](process[_0x5d5470(0x163)][_0x5d5470(0x15f)],_0x588d5a[_0x5d5470(0x1b6)])&&_0x588d5a[_0x5d5470(0xcc)](process[_0x5d5470(0x163)]['BS_TESTOPS_BUILD_HASHED_ID'],_0x588d5a[_0x5d5470(0x142)])&&logger[_0x5d5470(0x149)]('Visit\x20https://observability.browserstack.com/builds/'+process[_0x5d5470(0x163)][_0x5d5470(0x15f)]+'\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a');}catch(_0x18a691){logger[_0x5d5470(0x179)]('['+new Date()['toISOString']()+_0x5d5470(0x155));}})();},exports['getFailureType']=_0x144c81=>{const _0x45152e=a88_0x3c5b36,_0x1950c5={};_0x1950c5[_0x45152e(0xfd)]='AssertionError',_0x1950c5[_0x45152e(0x199)]=_0x45152e(0x133);const _0xd3b9c4=_0x1950c5;if(!_0x144c81)return null;return _0x144c81['toString']()[_0x45152e(0x13f)](/AssertionError/)?_0xd3b9c4[_0x45152e(0xfd)]:_0xd3b9c4[_0x45152e(0x199)];},exports[a88_0x3c5b36(0xc0)]=_0x294e19=>{const _0x3022a8=a88_0x3c5b36,_0x173c04={};_0x173c04['tBSKP']=_0x3022a8(0x110),_0x173c04[_0x3022a8(0xda)]=_0x3022a8(0x119),_0x173c04['CjplN']=_0x3022a8(0x16e),_0x173c04[_0x3022a8(0x19a)]=_0x3022a8(0xf1),_0x173c04[_0x3022a8(0xcb)]='@cucumber/cucumber';const _0x42592f=_0x173c04;let _0x429201=null;switch(_0x294e19){case FRAMEWORKS[_0x3022a8(0x141)]:_0x429201=bsSetupHelper[_0x3022a8(0x158)](_0x42592f[_0x3022a8(0xea)]);break;case FRAMEWORKS['PLAYWRIGHT']:_0x429201=bsSetupHelper[_0x3022a8(0x158)](_0x42592f[_0x3022a8(0xda)]);break;case FRAMEWORKS[_0x3022a8(0x15a)]:case FRAMEWORKS['CODECEPT_CUCUMBER']:_0x429201=bsSetupHelper[_0x3022a8(0x158)](_0x42592f[_0x3022a8(0x106)]);break;case FRAMEWORKS[_0x3022a8(0xde)]:_0x429201=bsSetupHelper['getPackageVersion'](_0x42592f['HTVRQ']);break;case FRAMEWORKS[_0x3022a8(0x143)]:_0x429201=bsSetupHelper['getPackageVersion'](_0x42592f[_0x3022a8(0xcb)]);break;default:break;}return _0x429201;},exports['getBrowserStackConfig']=_0x515eb1=>{const _0x5f14e7=a88_0x3c5b36;let _0x3a8721=null;switch(_0x515eb1){case FRAMEWORKS[_0x5f14e7(0xdc)]:_0x3a8721=process[_0x5f14e7(0x163)][_0x5f14e7(0xbe)];break;}if(!_0x3a8721)return;return bsSetupHelper['readConfig'](_0x3a8721,![]);},exports['getUserCredentials']=_0x4c64e2=>{const _0x59a0a5=a88_0x3c5b36;return{'username':bsSetupHelper[_0x59a0a5(0xd9)](_0x4c64e2),'accessKey':bsSetupHelper[_0x59a0a5(0x153)](_0x4c64e2)};},exports[a88_0x3c5b36(0x107)]=(_0x4d4d56,_0x54746d)=>{const _0x15eff9=a88_0x3c5b36,_0x36a3ac={};_0x36a3ac[_0x15eff9(0x189)]=_0x15eff9(0x16d),_0x36a3ac['bwgat']=_0x15eff9(0x18d),_0x36a3ac[_0x15eff9(0x11a)]=_0x15eff9(0x13c),_0x36a3ac['aKLvZ']=_0x15eff9(0xc7);const _0x588c9f=_0x36a3ac,_0x5461d0=_0x588c9f[_0x15eff9(0x189)][_0x15eff9(0x11d)]('|');let _0x2edcba=0x0;while(!![]){switch(_0x5461d0[_0x2edcba++]){case'0':if(!_0x4d4d56['body']||!Array[_0x15eff9(0x1bc)](_0x4d4d56[_0x15eff9(0xfe)]))return;continue;case'1':delete _0x4d4d56['body'];continue;case'2':if(!_0x4d4d56[_0x15eff9(0xfe)][0x0]||!_0x4d4d56['body'][0x0]['logs']||!_0x4d4d56[_0x15eff9(0xfe)][0x0][_0x15eff9(0xc8)][_0x15eff9(0xfc)])return;continue;case'3':_0x4d4d56[_0x15eff9(0x1a6)]={'data':_0x4d4d56[_0x15eff9(0xfe)][0x0]['logs'][0x0][_0x15eff9(0x184)],'test_run_uuid':_0x4d4d56[_0x15eff9(0xfe)][0x0][_0x15eff9(0xc8)][0x0][_0x15eff9(0x10a)],'event_type':_0x588c9f[_0x15eff9(0x1b4)],'kind':_0x588c9f[_0x15eff9(0x11a)],'attachmentType':_0x588c9f['aKLvZ'],'timestamp':new Date()[_0x15eff9(0xd4)](),'fileName':_0x4d4d56['body'][0x0][_0x15eff9(0xc8)][0x0][_0x15eff9(0x166)]};continue;case'4':delete _0x54746d['headers'];continue;case'5':delete _0x4d4d56[_0x15eff9(0x10e)];continue;}break;}},exports['asyncAwaitNodeReq']=async(_0x577ed8,_0x4a6407,_0x514272,_0x59d9d7,_0x20946=!![])=>{const _0x2dbca0=a88_0x3c5b36,_0x54ed53={};_0x54ed53[_0x2dbca0(0x11f)]=function(_0x5c7ff2,_0x105f47){return _0x5c7ff2===_0x105f47;},_0x54ed53['OlEyG']=_0x2dbca0(0x159),_0x54ed53[_0x2dbca0(0x113)]='application/json',_0x54ed53[_0x2dbca0(0xbc)]=_0x2dbca0(0x101),_0x54ed53['dyVRS']=function(_0x188f2a,_0x5c1e0c){return _0x188f2a===_0x5c1e0c;},_0x54ed53['FXbdC']=function(_0x52a6f1,_0x21e3c3){return _0x52a6f1!==_0x21e3c3;},_0x54ed53[_0x2dbca0(0x157)]='object',_0x54ed53[_0x2dbca0(0xeb)]=_0x2dbca0(0x196);const _0x232f1b=_0x54ed53,_0x45170c={..._0x59d9d7,...{'method':_0x577ed8,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x4a6407,'body':_0x514272,'json':_0x232f1b[_0x2dbca0(0x11f)](_0x59d9d7[_0x2dbca0(0x1b9)][_0x232f1b[_0x2dbca0(0xd6)]],_0x232f1b[_0x2dbca0(0x113)]),'agent':API_URL['includes'](_0x232f1b['KCEDR'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x232f1b[_0x2dbca0(0xc4)](_0x4a6407,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x45170c[_0x2dbca0(0xf2)]=API_URL[_0x2dbca0(0x190)](_0x232f1b[_0x2dbca0(0xbc)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports['modifyReqForTraceUpload'](_0x45170c,_0x59d9d7),logger['debug'](_0x2dbca0(0xec)+_0x45170c[_0x2dbca0(0x125)]));try{const {statusCode:_0x537822,body:_0x1d3fea}=await bsSetupHelper[_0x2dbca0(0x13b)](_0x577ed8,_0x4a6407,_0x45170c,_0x59d9d7,_0x45170c['url']);if(_0x232f1b['FXbdC'](_0x537822,0xc8))return _0x1d3fea?_0x1d3fea:'Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20'+_0x537822;let _0x36ae69=_0x1d3fea;if(_0x20946)try{_0x232f1b[_0x2dbca0(0x1ac)](typeof _0x1d3fea,_0x232f1b[_0x2dbca0(0x157)])&&(_0x36ae69=JSON[_0x2dbca0(0x13a)](_0x1d3fea));}catch(_0x3cec28){logger[_0x2dbca0(0x179)](_0x232f1b[_0x2dbca0(0xeb)],_0x1d3fea,util[_0x2dbca0(0xed)](_0x3cec28));}const _0x1e86a5={};return _0x1e86a5['data']=_0x36ae69,_0x1e86a5;}catch(_0x3939e7){logger[_0x2dbca0(0x179)](_0x2dbca0(0x150)+util['format'](_0x3939e7));throw _0x3939e7;}},exports[a88_0x3c5b36(0x13b)]=(_0x156fa9,_0x36c6cd,_0x3505e6,_0x14cc61,_0xb79f21=!![])=>{const _0x494446=a88_0x3c5b36,_0x4e97e0={'TvSvN':function(_0x5d601f,_0x2adaf8){return _0x5d601f!==_0x2adaf8;},'hOIGr':function(_0x3e30c3,_0xb2c2a8){return _0x3e30c3(_0xb2c2a8);},'nrvfl':'object','ZFfdk':function(_0x433b74,_0x44f0cb){return _0x433b74(_0x44f0cb);},'JRxVu':'Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','vluLV':function(_0x476041,_0x2c42b4){return _0x476041(_0x2c42b4);},'DrMNA':function(_0x445b14,_0x1de464){return _0x445b14===_0x1de464;},'Mvbje':'Content-Type','hXPyJ':'application/json','sdFXi':_0x494446(0x101),'sezaj':function(_0x4b9043,_0x2caa97){return _0x4b9043===_0x2caa97;}};return new Promise((_0x3f241c,_0x3e2965)=>{const _0x16330b=_0x494446,_0xe4c96={..._0x14cc61,...{'method':_0x156fa9,'url':API_URL+'/'+_0x36c6cd,'body':_0x3505e6,'json':_0x4e97e0[_0x16330b(0xbb)](_0x14cc61[_0x16330b(0x1b9)][_0x4e97e0[_0x16330b(0x197)]],_0x4e97e0[_0x16330b(0x11e)]),'agent':API_URL[_0x16330b(0x190)](_0x4e97e0['sdFXi'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x4e97e0[_0x16330b(0x177)](_0x36c6cd,SCREENSHOT_ENDPOINT)&&(_0xe4c96['agent']=API_URL[_0x16330b(0x190)](_0x4e97e0['sdFXi'])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x16330b(0x13b)](_0x156fa9,_0x36c6cd,_0xe4c96,_0x14cc61,API_URL)[_0x16330b(0x1b0)](({statusCode:_0x42130e,body:_0x17499a})=>{const _0xe68089=_0x16330b;if(_0x4e97e0[_0xe68089(0x18b)](_0x42130e,0xc8))_0x4e97e0[_0xe68089(0x14d)](_0x3e2965,_0x17499a?_0x17499a:_0xe68089(0x194)+_0x42130e);else{if(_0xb79f21)try{_0x4e97e0['TvSvN'](typeof _0x17499a,_0x4e97e0[_0xe68089(0x12f)])&&(_0x17499a=JSON[_0xe68089(0x13a)](_0x17499a));}catch(_0x21c721){_0x4e97e0[_0xe68089(0x16b)](_0x3e2965,_0x4e97e0[_0xe68089(0x132)]);return;}const _0x478a53={};_0x478a53['data']=_0x17499a,_0x4e97e0['vluLV'](_0x3f241c,_0x478a53);}})[_0x16330b(0x19e)](_0xa7ccdb=>{const _0x5dca9c=_0x16330b;_0xa7ccdb&&_0x4e97e0[_0x5dca9c(0x16b)](_0x3e2965,_0xa7ccdb);});});},exports[a88_0x3c5b36(0xf4)]=_0x1fe1bb=>{const _0x230fcd=a88_0x3c5b36;if(process['env'][_0x230fcd(0x1aa)])return process[_0x230fcd(0x163)][_0x230fcd(0x1aa)][_0x230fcd(0x11d)](',');if(_0x1fe1bb['buildTag'])return _0x1fe1bb[_0x230fcd(0xe8)];return[];},exports['getDefaultHeaders']=(_0x2bb12f=!![])=>{const _0x356437=a88_0x3c5b36,_0x18c2c3={};_0x18c2c3['BIsOu']=_0x356437(0x1ae),_0x18c2c3[_0x356437(0x10d)]=_0x356437(0x1a3),_0x18c2c3[_0x356437(0x164)]=_0x356437(0x198);const _0x1f08b7=_0x18c2c3,_0x4b2129={};_0x4b2129[_0x356437(0x159)]=_0x1f08b7[_0x356437(0x11c)],_0x4b2129[_0x356437(0x16c)]=_0x1f08b7[_0x356437(0x10d)];const _0x23c8c1=_0x4b2129;return _0x2bb12f&&process['env'][_0x356437(0x171)]&&(_0x23c8c1[_0x1f08b7[_0x356437(0x164)]]=_0x356437(0x10c)+process[_0x356437(0x163)][_0x356437(0x171)]),_0x23c8c1;},exports[a88_0x3c5b36(0x1ad)]=_0x5b22c9=>{const _0x4586e=a88_0x3c5b36,_0x9d1ba4={};_0x9d1ba4[_0x4586e(0xce)]=_0x4586e(0x19f);const _0x47dafe=_0x9d1ba4,_0x4567bc=[],_0x36793b=new RegExp(_0x47dafe[_0x4586e(0xce)],'i');return Object['keys'](_0x5b22c9)[_0x4586e(0x14f)](_0x42c3d3=>_0x36793b[_0x4586e(0xc3)](_0x42c3d3))[_0x4586e(0x109)](_0x3e405c=>_0x4567bc['push'](_0x5b22c9[_0x3e405c])),_0x4567bc;},exports['getCustomTags']=_0x481308=>{const _0x478039=a88_0x3c5b36,_0x1b101e=[],_0x41de41=_0x481308[_0x478039(0x12c)]||process[_0x478039(0x163)][_0x478039(0x1b5)];return _0x41de41&&_0x1b101e['push'](_0x41de41),_0x1b101e['push'](...exports[_0x478039(0x1ad)](process[_0x478039(0x163)])),_0x1b101e[_0x478039(0x165)](...exports[_0x478039(0x1ad)](_0x481308)),_0x1b101e;},exports[a88_0x3c5b36(0x10f)]=_0x51fac5=>{if(!_0x51fac5)return'';return _0x51fac5['replace'](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a88_0x3c5b36(0xf8)]=(_0x296104=0x64)=>new Promise(_0x1d9e76=>setTimeout(_0x1d9e76,_0x296104));const getPlatformName=()=>{const _0x40b3e7=a88_0x3c5b36,_0x59b377={};_0x59b377[_0x40b3e7(0xf3)]=function(_0x5b918f,_0x13c0ac){return _0x5b918f===_0x13c0ac;},_0x59b377[_0x40b3e7(0xe2)]=_0x40b3e7(0x1bb),_0x59b377[_0x40b3e7(0x12a)]=_0x40b3e7(0x1a9),_0x59b377[_0x40b3e7(0x131)]=function(_0x3e5663,_0x558f6a){return _0x3e5663===_0x558f6a;},_0x59b377['qprTF']=_0x40b3e7(0x115),_0x59b377['avSOZ']=_0x40b3e7(0xc1),_0x59b377[_0x40b3e7(0x173)]=_0x40b3e7(0x168),_0x59b377['IQbVM']=_0x40b3e7(0xb5),_0x59b377['WFnnc']=_0x40b3e7(0x1b3);const _0x5ac267=_0x59b377;if(_0x5ac267[_0x40b3e7(0xf3)](process['platform'],_0x5ac267['TeAZw']))return _0x5ac267[_0x40b3e7(0x12a)];if(_0x5ac267[_0x40b3e7(0x131)](process[_0x40b3e7(0x17b)],_0x5ac267[_0x40b3e7(0x17e)]))return _0x5ac267['avSOZ'];if(_0x5ac267['MWIcf'](process['platform'],_0x5ac267['tFMbP']))return _0x5ac267['IQbVM'];return _0x5ac267[_0x40b3e7(0x1bd)];},getMacOSVersion=()=>{const _0x477ab3=a88_0x3c5b36,_0x402c60={};_0x402c60[_0x477ab3(0x1af)]=_0x477ab3(0xb3);const _0x18a207=_0x402c60;return child_process[_0x477ab3(0xe0)](_0x18a207['yJeOU'])[_0x477ab3(0xf7)]()[_0x477ab3(0x100)]();},getLinuxDetails=()=>{const _0x1a52a8={'CQFjn':function(_0x7aafb0,_0x56381f){return _0x7aafb0(_0x56381f);},'VygkM':function(_0x1da202,_0x17a4dc){return _0x1da202(_0x17a4dc);}};return new Promise((_0x1fc6d7,_0x4d2028)=>{const _0x3a330c=a88_0x218f;_0x1a52a8[_0x3a330c(0xf0)](getos,(_0x12d884,_0x54f64e)=>{const _0x3ee236=_0x3a330c;if(_0x12d884)return _0x1a52a8[_0x3ee236(0xf0)](_0x4d2028,_0x12d884);_0x1a52a8[_0x3ee236(0x147)](_0x1fc6d7,_0x54f64e);});});};exports[a88_0x3c5b36(0x176)]=async()=>{const _0x4e78ad=a88_0x3c5b36,_0x503716={'cJHpK':function(_0x52d460){return _0x52d460();},'DTTnU':_0x4e78ad(0xc1),'IQTLM':function(_0x45f938){return _0x45f938();},'PvznU':_0x4e78ad(0x1a9),'KasgQ':_0x4e78ad(0x112),'hFdSx':function(_0x3126f2){return _0x3126f2();},'lMTvk':_0x4e78ad(0xb5),'rjrLL':_0x4e78ad(0x174)};let _0x1555aa=_0x503716[_0x4e78ad(0x17a)](getPlatformName),_0x59db76=os[_0x4e78ad(0x14b)]()[_0x4e78ad(0xf7)]();switch(_0x1555aa){case _0x503716[_0x4e78ad(0x14e)]:_0x59db76=_0x503716[_0x4e78ad(0xdd)](getMacOSVersion);break;case _0x503716[_0x4e78ad(0x16a)]:try{const _0x3b9840=(await import(_0x503716[_0x4e78ad(0xe6)]))['default'];_0x59db76=_0x503716[_0x4e78ad(0x15e)](_0x3b9840);}catch(_0x126b6e){exports[_0x4e78ad(0xfa)](_0x4e78ad(0x1a0)+_0x126b6e[_0x4e78ad(0xf7)]());}break;case _0x503716[_0x4e78ad(0x16f)]:try{const _0x4df972=await _0x503716[_0x4e78ad(0x17a)](getLinuxDetails);_0x4df972['dist']&&(_0x1555aa=_0x4df972['dist']),_0x4df972[_0x4e78ad(0x14b)]&&(_0x59db76=_0x4df972[_0x4e78ad(0x14b)]['toString']());}catch(_0x49fd6a){exports[_0x4e78ad(0xfa)](_0x503716[_0x4e78ad(0x116)]);}break;default:break;}const _0x1bdd0a={};return _0x1bdd0a[_0x4e78ad(0x1b1)]=_0x1555aa,_0x1bdd0a[_0x4e78ad(0x162)]=_0x59db76,_0x1bdd0a;},exports[a88_0x3c5b36(0x175)]=(_0x3e9f7c,_0x4a5490)=>{const _0x285f9a=a88_0x3c5b36,_0x29bfd5={};_0x29bfd5[_0x285f9a(0x148)]=function(_0x4b7fa3,_0x2c112a){return _0x4b7fa3===_0x2c112a;},_0x29bfd5[_0x285f9a(0xfb)]='test',_0x29bfd5[_0x285f9a(0x11b)]=function(_0x10bff3,_0x440f6f){return _0x10bff3===_0x440f6f;},_0x29bfd5[_0x285f9a(0x128)]=_0x285f9a(0x123);const _0x4f1ec1=_0x29bfd5;if(!_0x3e9f7c)return[];try{if(_0x4f1ec1['BkguO'](_0x4a5490,_0x4f1ec1[_0x285f9a(0xfb)]))return _0x3e9f7c[_0x285f9a(0x145)](_0x4b5f21=>{const _0x594727=_0x285f9a,{stack:_0x343780,..._0xc07060}=_0x4b5f21,_0x2cf54e=Object[_0x594727(0x14a)](_0xc07060)[_0x594727(0x145)](_0x45a289=>{return _0x45a289+':\x20'+_0xc07060[_0x45a289];}),_0x41e2ab=_0x343780?exports['removeAnsiColors'](_0x343780)[_0x594727(0x11d)](/\r?\n/):[exports[_0x594727(0x10f)](_0x4b5f21[_0x594727(0x152)])],_0x167be3={};return _0x167be3['backtrace']=_0x41e2ab,_0x167be3['expanded']=_0x2cf54e,_0x167be3;});else{if(_0x4f1ec1[_0x285f9a(0x11b)](_0x4a5490,_0x4f1ec1[_0x285f9a(0x128)])){const _0x1fe8e1=[],_0xe7738=[];return Object[_0x285f9a(0x14a)](_0x3e9f7c)['forEach'](_0x3eb431=>{const _0x98f13b=_0x285f9a;try{_0xe7738['push'](_0x3eb431+':\x20'+_0x3e9f7c[_0x3eb431]);}catch(_0x35f6f0){exports[_0x98f13b(0xfa)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0x35f6f0[_0x98f13b(0x152)]+_0x98f13b(0xff)+_0x35f6f0['backtrace']);}}),_0x1fe8e1[_0x285f9a(0x165)]({'backtrace':exports['removeAnsiColors'](_0x3e9f7c[_0x285f9a(0x181)])[_0x285f9a(0x11d)](/\r?\n/),'expanded':_0xe7738}),_0x1fe8e1;}}return[];}catch(_0x4ee64d){exports['debug']('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0x4ee64d[_0x285f9a(0x152)]+'\x20:\x20'+_0x4ee64d[_0x285f9a(0xb6)]);}return[];};class PathHelper{constructor(_0x5c232e,_0x38dea2){const _0x8d9b6e=a88_0x3c5b36;this[_0x8d9b6e(0x12e)]=_0x5c232e,this[_0x8d9b6e(0x111)]=_0x38dea2;}[a88_0x3c5b36(0x180)](_0x417b3a){const _0x1d9d64=a88_0x3c5b36,_0x34668a=this[_0x1d9d64(0x12e)][_0x1d9d64(0x188)]||this[_0x1d9d64(0x12e)][_0x1d9d64(0x172)];return path[_0x1d9d64(0x18f)](_0x34668a,_0x417b3a);}[a88_0x3c5b36(0xbf)](_0x1b67b0){const _0x1a7469=a88_0x3c5b36,_0x382a2a=this[_0x1a7469(0x180)](_0x1b67b0);return this[_0x1a7469(0x111)]?path[_0x1a7469(0x1a4)](this[_0x1a7469(0x111)],_0x382a2a):_0x382a2a;}}exports['PathHelper']=PathHelper,exports[a88_0x3c5b36(0x19b)]=(_0x1a0056=!![])=>{const _0x1a9bd6=a88_0x3c5b36,_0x4162f6={};_0x4162f6[_0x1a9bd6(0xd2)]=function(_0x2eabc2,_0x1e0ec7){return _0x2eabc2===_0x1e0ec7;},_0x4162f6[_0x1a9bd6(0x124)]=_0x1a9bd6(0x16c),_0x4162f6[_0x1a9bd6(0xbd)]=_0x1a9bd6(0x1a3),_0x4162f6[_0x1a9bd6(0xe1)]=_0x1a9bd6(0x129),_0x4162f6['QMkAI']='browserstack',_0x4162f6[_0x1a9bd6(0x17f)]='local_grid';const _0x89313a=_0x4162f6;requestSpy[_0x1a9bd6(0x18e)]((_0x32904f,_0x554a82)=>{const _0x41f902=_0x1a9bd6;_0x554a82&&!(_0x554a82[_0x41f902(0x1b9)]&&_0x89313a['oRUQz'](_0x554a82['headers'][_0x89313a[_0x41f902(0x124)]],_0x89313a[_0x41f902(0xbd)]))&&(_0x554a82[_0x41f902(0x14c)]=_0x554a82['hostname'],delete _0x554a82['hostname'],_0x1a0056&&process[_0x41f902(0x118)](_0x41f902(0xba)+process[_0x41f902(0x15b)],{'timestamp':new Date()[_0x41f902(0xd4)](),'level':null,'message':null,'kind':_0x89313a[_0x41f902(0xe1)],'http_response':_0x554a82})),_0x554a82&&(constants[_0x41f902(0xd1)][_0x41f902(0xc3)](_0x554a82[_0x41f902(0x14c)])||constants['ATS_HUB_URL_REGEX'][_0x41f902(0xc3)](_0x554a82[_0x41f902(0x14c)]))?global[_0x41f902(0x183)]=_0x89313a[_0x41f902(0xe5)]:global[_0x41f902(0x183)]=_0x89313a[_0x41f902(0x17f)];});},exports[a88_0x3c5b36(0x105)]=()=>{const _0x366ca3=a88_0x3c5b36,_0x18dbec={'FdAaj':function(_0x2006bd,_0x2196a8){return _0x2006bd(_0x2196a8);}};console={},Object[_0x366ca3(0x14a)](consoleHolder)['forEach'](_0xe3a3de=>{const _0x3e8a35=_0x366ca3;_0x18dbec[_0x3e8a35(0xc5)](isFunction,consoleHolder[_0xe3a3de])?console[_0xe3a3de]=(..._0x53bdf5)=>{try{!Object['keys'](BSTestOpsPatcher)['includes'](_0xe3a3de)?consoleHolder[_0xe3a3de](..._0x53bdf5):BSTestOpsPatcher[_0xe3a3de](..._0x53bdf5);}catch(_0x419141){consoleHolder[_0xe3a3de](..._0x53bdf5);}}:console[_0xe3a3de]=consoleHolder[_0xe3a3de];});},exports[a88_0x3c5b36(0xb9)]=()=>a88_0x3c5b36(0x182)+JSON[a88_0x3c5b36(0x1b8)]({'action':'annotate','arguments':{'data':'ObservabilitySync:'+Date[a88_0x3c5b36(0x151)](),'level':a88_0x3c5b36(0xfa)}}),exports[a88_0x3c5b36(0x126)]=_0x319d05=>{const _0x2e3b9f=a88_0x3c5b36,_0x4bf498={};_0x4bf498[_0x2e3b9f(0x140)]=function(_0x41f0b2,_0x5e078b){return _0x41f0b2===_0x5e078b;},_0x4bf498['UKzUi']=_0x2e3b9f(0x169),_0x4bf498[_0x2e3b9f(0xd8)]=_0x2e3b9f(0xe9),_0x4bf498['DpUoW']=_0x2e3b9f(0x167),_0x4bf498[_0x2e3b9f(0x19c)]=function(_0xe6d3,_0x4bde01){return _0xe6d3>_0x4bde01;},_0x4bf498[_0x2e3b9f(0x1b2)]='app-automate',_0x4bf498[_0x2e3b9f(0x134)]=_0x2e3b9f(0xf9),_0x4bf498['UaZTM']=_0x2e3b9f(0x114),_0x4bf498[_0x2e3b9f(0x135)]=_0x2e3b9f(0x1a5),_0x4bf498[_0x2e3b9f(0x1a7)]=_0x2e3b9f(0x170);const _0x369bb2=_0x4bf498;let _0xe94642=null;try{if(_0x369bb2[_0x2e3b9f(0x140)](global[_0x2e3b9f(0x183)],_0x369bb2['UKzUi'])){if(_0x319d05[_0x369bb2[_0x2e3b9f(0xd8)]]||_0x319d05[_0x369bb2['DpUoW']]||!bsSetupHelper[_0x2e3b9f(0x186)](global[_0x2e3b9f(0x1be)])&&_0x369bb2[_0x2e3b9f(0x19c)](global[_0x2e3b9f(0x1be)][_0x2e3b9f(0xfc)],0x0)&&(global[_0x2e3b9f(0x1be)][0x0][_0x369bb2[_0x2e3b9f(0x192)]]||global[_0x2e3b9f(0x1be)][0x0][_0x369bb2[_0x2e3b9f(0xd8)]]))_0xe94642=_0x369bb2[_0x2e3b9f(0x1b2)];else _0x319d05[_0x369bb2['CHiuw']]&&_0x319d05[_0x369bb2[_0x2e3b9f(0x134)]][_0x369bb2['UaZTM']]?_0xe94642=_0x369bb2[_0x2e3b9f(0x135)]:_0xe94642=_0x369bb2['XdoRF'];}}catch(_0x49c23c){exports[_0x2e3b9f(0xfa)](_0x2e3b9f(0x136)+_0x49c23c);}return _0xe94642;},exports[a88_0x3c5b36(0x127)]=async(_0x1fec31,_0x259fe4,_0x1bc68a=![])=>{const _0x5a08df=a88_0x3c5b36,_0x49d0a3={};_0x49d0a3[_0x5a08df(0x138)]=function(_0x5918c7,_0x4934ad){return _0x5918c7===_0x4934ad;},_0x49d0a3[_0x5a08df(0x146)]=_0x5a08df(0x169),_0x49d0a3['MSLZO']=_0x5a08df(0x18c),_0x49d0a3['OjYey']=_0x5a08df(0x17c);const _0x2ca2cc=_0x49d0a3;try{const _0x566c1a=await _0x1fec31[_0x5a08df(0x137)](),_0x20bfd9=await _0x1fec31['getSession'](),_0x264b1d={},_0x10d6bd=Object[_0x5a08df(0x144)](_0x20bfd9[_0x5a08df(0x137)]()['map_']),_0x2a068c={'product':exports[_0x5a08df(0x126)](_0x10d6bd),'capabilities':_0x10d6bd,'platform':_0x566c1a[_0x5a08df(0x117)](),'platform_version':bsSetupHelper[_0x5a08df(0xcd)](_0x2ca2cc[_0x5a08df(0x138)](global[_0x5a08df(0x183)],_0x2ca2cc[_0x5a08df(0x146)])),'browser':_0x566c1a[_0x5a08df(0xf5)](),'browser_version':_0x566c1a[_0x5a08df(0x161)](),'session_id':_0x20bfd9[_0x5a08df(0x195)]()};global['__cloud_provider___']?_0x264b1d[global['__cloud_provider___']]=_0x2a068c:_0x264b1d[_0x2ca2cc[_0x5a08df(0x1a8)]]=_0x2a068c;if(_0x1bc68a)return _0x264b1d;process['emit'](_0x5a08df(0x156)+process[_0x5a08df(0x15b)],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x2ca2cc[_0x5a08df(0x193)],'http_response':_0x264b1d,'uuid':_0x259fe4});}catch(_0x167314){exports[_0x5a08df(0xfa)]('Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20'+_0x167314);}},exports['isInternalHook']=_0x4a411b=>{const _0x16fb2c=a88_0x3c5b36;return _0x4a411b&&_0x4a411b[_0x16fb2c(0xf7)]()['match'](/browserstack internal helper hook/);};