const a125_0x533d5c=a125_0x59e7;(function(_0x496040,_0x28f1ce){const _0x32fe23=a125_0x59e7,_0x336767=_0x496040();while(!![]){try{const _0x606e32=parseInt(_0x32fe23(0x205))/0x1+parseInt(_0x32fe23(0x29a))/0x2+-parseInt(_0x32fe23(0x26e))/0x3*(parseInt(_0x32fe23(0x216))/0x4)+parseInt(_0x32fe23(0x2b5))/0x5+parseInt(_0x32fe23(0x1fe))/0x6+parseInt(_0x32fe23(0x2ac))/0x7+parseInt(_0x32fe23(0x240))/0x8*(-parseInt(_0x32fe23(0x201))/0x9);if(_0x606e32===_0x28f1ce)break;else _0x336767['push'](_0x336767['shift']());}catch(_0x37fa09){_0x336767['push'](_0x336767['shift']());}}}(a125_0x4e4f,0x1d7a0));const fs=require('fs'),path=require(a125_0x533d5c(0x25a)),gitLastCommit=require('git-last-commit'),getRepoInfo=require(a125_0x533d5c(0x2a2)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require(a125_0x533d5c(0x2e8)),http=require(a125_0x533d5c(0x242)),https=require(a125_0x533d5c(0x2fb)),child_process=require('child_process'),getos=require('getos'),os=require('os'),logger=require(a125_0x533d5c(0x2f3))[a125_0x533d5c(0x1fb)],buildLogger=require(a125_0x533d5c(0x2f3))[a125_0x533d5c(0x24e)],bsSetupHelper=require(a125_0x533d5c(0x200)),requestSpy=require(a125_0x533d5c(0x206)),constants=require(a125_0x533d5c(0x283)),logPatcher=require(a125_0x533d5c(0x264)),util=require(a125_0x533d5c(0x214)),{fileLogger}=require(a125_0x533d5c(0x2f3)),PerformanceTester=require(a125_0x533d5c(0x2bf)),{isFunction}=require('lodash'),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require('../performance/constants'),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require(a125_0x533d5c(0x2d8));exports[a125_0x533d5c(0x2e5)]=_0x4e625e=>{const _0x21298a=a125_0x533d5c;fileLogger[_0x21298a(0x213)]('['+new Date()['toISOString']()+_0x21298a(0x271)+constants['TEST_REPORTING_ANALYTICS']+_0x21298a(0x2d4)+_0x4e625e);},exports['debug']=_0x56f1f2=>{const _0x9ab5d1=a125_0x533d5c,_0x116f7e={};_0x116f7e[_0x9ab5d1(0x2e6)]=function(_0x4cc23e,_0xbe5319){return _0x4cc23e===_0xbe5319;},_0x116f7e[_0x9ab5d1(0x278)]=_0x9ab5d1(0x29c),_0x116f7e[_0x9ab5d1(0x2a7)]=function(_0x5f6a95,_0x5aae86){return _0x5f6a95===_0x5aae86;};const _0x2739ca=_0x116f7e;fileLogger[_0x9ab5d1(0x280)]('['+new Date()[_0x9ab5d1(0x2de)]()+'][\x20'+constants[_0x9ab5d1(0x267)]+_0x9ab5d1(0x2d4)+_0x56f1f2),(_0x2739ca['HlBka'](process[_0x9ab5d1(0x279)][_0x9ab5d1(0x2ed)],_0x2739ca[_0x9ab5d1(0x278)])||_0x2739ca['HlBka'](process[_0x9ab5d1(0x279)][_0x9ab5d1(0x2ed)],'1')||_0x2739ca[_0x9ab5d1(0x2e6)](process['env'][_0x9ab5d1(0x1f4)],_0x2739ca[_0x9ab5d1(0x278)])||_0x2739ca[_0x9ab5d1(0x2a7)](process[_0x9ab5d1(0x279)][_0x9ab5d1(0x1f4)],'1'))&&consoleHolder[_0x9ab5d1(0x23d)]('\x0a['+new Date()[_0x9ab5d1(0x2de)]()+_0x9ab5d1(0x271)+constants['TEST_REPORTING_ANALYTICS']+_0x9ab5d1(0x2d4)+_0x56f1f2+'\x0a');};function a125_0x59e7(_0x1f0c7f,_0x34b44d){const _0x4e4f15=a125_0x4e4f();return a125_0x59e7=function(_0x59e7dc,_0x1a05b1){_0x59e7dc=_0x59e7dc-0x1e2;let _0x1c0c08=_0x4e4f15[_0x59e7dc];return _0x1c0c08;},a125_0x59e7(_0x1f0c7f,_0x34b44d);}function a125_0x4e4f(){const _0x5185de=['Lcpaf','printBuildLink','log','pDVtp','maxTotalSockets','804784XIrfzw','map','http','nYyiU','url','LbjNX','spy','prefixTestPath','getPlatform','gQyDC','shouldReRunObservabilityTests','/builds/','Windows','MTqyP','buildLogger','uVWlM','readConfig','nodeRequest','getPlatformDetails','getUserCredentials','Bearer\x20','err','HzNQV','[%s][\x20','platformVersion','release','path','platform','O11yHashedID','BS_TESTOPS_BUILD_HASHED_ID','\x20test\x20instance\x20:\x20','app','TEST_REPORTING_BUILD_TAG','customTag','sleep','vVHgQ','../../bin/utils/logPatcher','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','ZLPRe','TEST_REPORTING_ANALYTICS','bdXSA','getSession','JuWyz','getFailureType','expanded','PLAYWRIGHT','364122xehUOE','modifyReqForTraceUpload','jgYXM','][\x20','wKLWf','message','relativeTestFilePath','push','bs:addLog:','stack','fYInU','env','getCapabilities','OEuTJ','3|5|4|1|2|0','mocha','logs','Iafxv','debug','maxSockets','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','../../bin/utils/constants','measureWrapper','object','replace','X-BSTACK-TESTOPS','prefix','addRequestSpy','cXycs','zHDhB','match','catch','automate','LdEDn','fileName','\x20]\x20Build\x20Not\x20Found\x20%s','rdAVz','buildTag','oiuoy','split','PlluG','browserstack_executor:\x20','LzDrP','Agent','107544zwuvce','WZNhA','true','PRIQD','AnAel','Uploading\x20trace\x20logs\x20to:\x20','parse','local_grid','git-repo-info','LIGzj','isUndefined','null','getPlatformVersion','FtGBW','failureData','getSyncScript','patchConsoleLogger','sKoiU','574896xcnESA','turboScaleGridDetails','Error\x20in\x20importing\x20windows-release\x20','Atmhl','headers','getObservabilityLinkedProductName','json','forEach','TEST_ATTACHMENT','104875twMFbx','^CUSTOM_TAG_\x5cd+$','hostname','apvrh','win32','Nljqu','HUB_URL_REGEX','error','body','jNjQM','../performance/performance-tester','ciZVP','Failed\x20to\x20determine\x20product\x20linked\x20to\x20','BROWSERSTACK_TEST_OBSERVABILITY','app-automate','capabilities','format','VCgvn','getDefaultHeaders','RCcSW','host','config','hDnws','codeceptjs','fromEntries','HOmni','isInternalHook','CUCUMBER','AssertionError','dist','emit','\x20]\x20','getBuildTags','BquXw','getPackageVersion','../../../src/bin/utils/constants','undefined','bPDIo','CZWsU','turboscale','toString','toISOString','BROWSERSTACK_CONFIG_FILE_PATH','neaVb','hPBbf','xHELh','O11Y_URL','map_','trace','HlBka','BROWSERSTACK_TEST_OBSERVABILITY_YML','./constants','lBxkn','ybyiw','ppXZC','LogCreated','BROWSERSTACK_TEST_REPORTING_DEBUG','rootDir','TEST_OBSERVABILITY_BUILD_TAG','TEST_PLATFORM','data','toJSON','../logger','rmpGG','MOCHA','getCustomTags','\x20:\x20','@cucumber/cucumber','CODECEPT_CUCUMBER','pid','https','info','darwin','filter','MpVFW','jest','relative','jkzlF','assZq','ROHKe','test','BROWSERSTACK_RERUN_TESTS','OWnIp','fVbJj','PvmTc','WNoAh','removeAnsiColors','mqtpJ','rnlRs','trim','BROWSERSTACK_OBSERVABILITY_DEBUG','OSqGo','getAccessKey','unknown_grid','CUSTOM_TAG','eoYeE','browserstack','winstonLogger','LVUSF','OS\x20X','1437426zDlKGB','jSUhT','../helper','27FZnFZA','ObservabilitySync:','Npksd','stringify','147458uuJbqy','../../helpers/request-spy','wxhTl','SNvAv','Bkemu','PRINT_BUILDLINK','MgXCu','KjgaP','backtrace','qgklb','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','kYuAe','HNUIt','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','silly','util','Visit\x20','4rabYwA','KoaXE','isTestObservabilitySession','timeout','application/json','Pkivw','execSync','kphOU','MGfUu','agent','vmeKx','Content-Type','KzSFN','length','VZtUo','extractValuesWithRegexKeyMatch','getBrowserName','__cloud_provider___','pmMZy','mqpXz','cEAdt','Linux','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','../../bin/v2/browserstackCLI','includes','XjiQh','keys','yqlTA','Unknown','tsBvS','default','linux','getBrowserStackConfig','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','keepAlive','UnhandledError','BROWSERSTACK_TEST_REPORTING'];a125_0x4e4f=function(){return _0x5185de;};return a125_0x4e4f();}const a125_0x47df56={};a125_0x47df56[a125_0x533d5c(0x238)]=!![],a125_0x47df56[a125_0x533d5c(0x219)]=0xea60,a125_0x47df56['maxSockets']=0x2,a125_0x47df56[a125_0x533d5c(0x23f)]=0x2;const httpKeepAliveAgent=new http[(a125_0x533d5c(0x299))](a125_0x47df56),a125_0x499758={};a125_0x499758[a125_0x533d5c(0x238)]=!![],a125_0x499758[a125_0x533d5c(0x219)]=0xea60,a125_0x499758[a125_0x533d5c(0x281)]=0x2,a125_0x499758[a125_0x533d5c(0x23f)]=0x2;const httpsKeepAliveAgent=new https[(a125_0x533d5c(0x299))](a125_0x499758),a125_0x17aabc={};a125_0x17aabc[a125_0x533d5c(0x238)]=!![],a125_0x17aabc[a125_0x533d5c(0x219)]=0xea60,a125_0x17aabc[a125_0x533d5c(0x281)]=0x2,a125_0x17aabc[a125_0x533d5c(0x23f)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a125_0x533d5c(0x299))](a125_0x17aabc),a125_0x212d88={};a125_0x212d88['keepAlive']=!![],a125_0x212d88[a125_0x533d5c(0x219)]=0xea60,a125_0x212d88['maxSockets']=0x2,a125_0x212d88[a125_0x533d5c(0x23f)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a125_0x533d5c(0x299))](a125_0x212d88);exports[a125_0x533d5c(0x24a)]=()=>{const _0x487e72=a125_0x533d5c,_0xd2723e={};_0xd2723e[_0x487e72(0x1ef)]=function(_0x1057c8,_0x132267){return _0x1057c8!==_0x132267;},_0xd2723e[_0x487e72(0x243)]=_0x487e72(0x2a5);const _0x4005a4=_0xd2723e;return process[_0x487e72(0x279)]['BROWSERSTACK_RERUN_TESTS']&&_0x4005a4[_0x487e72(0x1ef)](process[_0x487e72(0x279)][_0x487e72(0x1eb)],_0x4005a4['nYyiU'])?!![]:![];},exports[a125_0x533d5c(0x218)]=()=>{const _0x3a12ab=a125_0x533d5c,_0xf4a0ff={};_0xf4a0ff[_0x3a12ab(0x292)]=function(_0x5afd68,_0x40ee01){return _0x5afd68===_0x40ee01;},_0xf4a0ff[_0x3a12ab(0x1e8)]=_0x3a12ab(0x29c),_0xf4a0ff['mqpXz']=function(_0x135447,_0x1fd2db){return _0x135447===_0x1fd2db;};const _0x5cc269=_0xf4a0ff;let _0x2d9398=!![];return process[_0x3a12ab(0x279)][_0x3a12ab(0x2e7)]&&(_0x2d9398=_0x5cc269[_0x3a12ab(0x292)](process[_0x3a12ab(0x279)][_0x3a12ab(0x2e7)],_0x5cc269[_0x3a12ab(0x1e8)])),process[_0x3a12ab(0x279)][_0x3a12ab(0x2c2)]&&(_0x2d9398=_0x5cc269[_0x3a12ab(0x229)](process[_0x3a12ab(0x279)][_0x3a12ab(0x2c2)],_0x5cc269[_0x3a12ab(0x1e8)])),process[_0x3a12ab(0x279)][_0x3a12ab(0x23a)]&&(_0x2d9398=_0x5cc269[_0x3a12ab(0x292)](process[_0x3a12ab(0x279)][_0x3a12ab(0x23a)],_0x5cc269[_0x3a12ab(0x1e8)])),_0x2d9398;},exports['parseFileNames']=_0x229e00=>{const _0x52dfbf=a125_0x533d5c;if(bsSetupHelper[_0x52dfbf(0x2a4)](_0x229e00))return undefined;try{return _0x229e00[_0x52dfbf(0x1f3)]()[_0x52dfbf(0x295)](',');}catch(_0x253362){return undefined;}},exports[a125_0x533d5c(0x23c)]=()=>{const _0x548a08=a125_0x533d5c,_0x2da333={'OSqGo':function(_0x2f1fe7,_0x1a6ec0){return _0x2f1fe7(_0x1a6ec0);},'GlbCL':_0x548a08(0x22d),'pmMZy':function(_0x216d60,_0x4fc3b8){return _0x216d60!==_0x4fc3b8;},'MGfUu':'null','XjiQh':_0x548a08(0x2d9)};return PerformanceTester[_0x548a08(0x284)](PerformanceO11yEvents[_0x548a08(0x20a)],async()=>{const _0x54081b=_0x548a08;try{const _0x47688e=_0x2da333[_0x54081b(0x1f5)](require,_0x2da333['GlbCL']);if(_0x47688e[_0x54081b(0x25c)]){const _0x2532d2='Visit\x20'+O11Y_URL+_0x54081b(0x24b)+_0x47688e['O11yHashedID']+_0x54081b(0x237);buildLogger[_0x54081b(0x2fc)](_0x2532d2);return;}if(process[_0x54081b(0x279)][_0x54081b(0x25d)]&&_0x2da333[_0x54081b(0x228)](process[_0x54081b(0x279)][_0x54081b(0x25d)],_0x2da333[_0x54081b(0x21e)])&&_0x2da333[_0x54081b(0x228)](process[_0x54081b(0x279)][_0x54081b(0x25d)],_0x2da333[_0x54081b(0x22f)])){const _0x4db97d=_0x54081b(0x215)+constants[_0x54081b(0x2e3)]+_0x54081b(0x24b)+process[_0x54081b(0x279)][_0x54081b(0x25d)]+'\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a';buildLogger['info'](_0x4db97d);}}catch(_0x515143){logger['error'](util[_0x54081b(0x2c5)](_0x54081b(0x257)+constants[_0x54081b(0x267)]+_0x54081b(0x291),new Date()[_0x54081b(0x2de)](),_0x515143[_0x54081b(0x277)]||_0x515143['message']||_0x515143));}})();},exports[a125_0x533d5c(0x26b)]=_0xfd72f1=>{const _0x22a965=a125_0x533d5c,_0x3dca33={};_0x3dca33[_0x22a965(0x2ce)]=_0x22a965(0x2d1),_0x3dca33[_0x22a965(0x21b)]=_0x22a965(0x239);const _0x1916d6=_0x3dca33;if(!_0xfd72f1)return null;return _0xfd72f1[_0x22a965(0x2dd)]()[_0x22a965(0x28c)](/AssertionError/)?_0x1916d6[_0x22a965(0x2ce)]:_0x1916d6[_0x22a965(0x21b)];},exports['getFrameworkVersion']=_0x2382b1=>{const _0x59d171=a125_0x533d5c,_0x4e23ba={};_0x4e23ba[_0x59d171(0x1f2)]=_0x59d171(0x27d),_0x4e23ba[_0x59d171(0x208)]='@playwright/test',_0x4e23ba['LIGzj']=_0x59d171(0x2cc),_0x4e23ba[_0x59d171(0x1ff)]=_0x59d171(0x1e5),_0x4e23ba[_0x59d171(0x224)]=_0x59d171(0x2f8);const _0x4f407c=_0x4e23ba;let _0x54b4f7=null;switch(_0x2382b1){case FRAMEWORKS[_0x59d171(0x2f5)]:_0x54b4f7=bsSetupHelper[_0x59d171(0x2d7)](_0x4f407c[_0x59d171(0x1f2)]);break;case FRAMEWORKS[_0x59d171(0x26d)]:_0x54b4f7=bsSetupHelper['getPackageVersion'](_0x4f407c[_0x59d171(0x208)]);break;case FRAMEWORKS['CODECEPT']:case FRAMEWORKS[_0x59d171(0x2f9)]:_0x54b4f7=bsSetupHelper[_0x59d171(0x2d7)](_0x4f407c[_0x59d171(0x2a3)]);break;case FRAMEWORKS['JEST']:_0x54b4f7=bsSetupHelper['getPackageVersion'](_0x4f407c[_0x59d171(0x1ff)]);break;case FRAMEWORKS[_0x59d171(0x2d0)]:_0x54b4f7=bsSetupHelper[_0x59d171(0x2d7)](_0x4f407c['VZtUo']);break;default:break;}return _0x54b4f7;},exports[a125_0x533d5c(0x236)]=_0x12fe82=>{const _0x352b0a=a125_0x533d5c;let _0x11ad41=null;switch(_0x12fe82){case FRAMEWORKS[_0x352b0a(0x26d)]:_0x11ad41=process[_0x352b0a(0x279)][_0x352b0a(0x2df)];break;}if(!_0x11ad41)return;return bsSetupHelper[_0x352b0a(0x250)](_0x11ad41,![]);},exports[a125_0x533d5c(0x253)]=_0x1bf267=>{const _0x415e7b=a125_0x533d5c;return{'username':bsSetupHelper['getUserName'](_0x1bf267),'accessKey':bsSetupHelper[_0x415e7b(0x1f6)](_0x1bf267)};},exports[a125_0x533d5c(0x26f)]=(_0x799d71,_0x558bfb)=>{const _0x4fd6ce=a125_0x533d5c,_0x89b057={};_0x89b057[_0x4fd6ce(0x2c6)]=_0x4fd6ce(0x27c),_0x89b057[_0x4fd6ce(0x26a)]=_0x4fd6ce(0x2ec),_0x89b057[_0x4fd6ce(0x2b8)]=_0x4fd6ce(0x2b4);const _0x474c28=_0x89b057,_0x4b9b61=_0x474c28[_0x4fd6ce(0x2c6)][_0x4fd6ce(0x295)]('|');let _0x548dd1=0x0;while(!![]){switch(_0x4b9b61[_0x548dd1++]){case'0':delete _0x558bfb[_0x4fd6ce(0x2b0)];continue;case'1':delete _0x799d71[_0x4fd6ce(0x2bd)];continue;case'2':delete _0x799d71[_0x4fd6ce(0x2b2)];continue;case'3':if(!_0x799d71[_0x4fd6ce(0x2bd)]||!Array['isArray'](_0x799d71['body']))return;continue;case'4':_0x799d71['formData']={'data':_0x799d71[_0x4fd6ce(0x2bd)][0x0][_0x4fd6ce(0x27e)][0x0][_0x4fd6ce(0x2f1)],'test_run_uuid':_0x799d71[_0x4fd6ce(0x2bd)][0x0][_0x4fd6ce(0x27e)][0x0]['test_run_uuid'],'event_type':_0x474c28[_0x4fd6ce(0x26a)],'kind':_0x474c28['apvrh'],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x4fd6ce(0x2de)](),'fileName':_0x799d71[_0x4fd6ce(0x2bd)][0x0][_0x4fd6ce(0x27e)][0x0][_0x4fd6ce(0x290)]};continue;case'5':if(!_0x799d71[_0x4fd6ce(0x2bd)][0x0]||!_0x799d71['body'][0x0]['logs']||!_0x799d71[_0x4fd6ce(0x2bd)][0x0]['logs'][_0x4fd6ce(0x223)])return;continue;}break;}},exports['asyncAwaitNodeReq']=async(_0x363ddf,_0x1fc0aa,_0x23dc45,_0x8b8c2f,_0x1030e7=!![])=>{const _0x19330a=a125_0x533d5c,_0x2d0dd9={};_0x2d0dd9[_0x19330a(0x294)]=function(_0x134fa6,_0x567c5d){return _0x134fa6===_0x567c5d;},_0x2d0dd9[_0x19330a(0x29d)]=_0x19330a(0x221),_0x2d0dd9['jkzlF']=_0x19330a(0x21a),_0x2d0dd9[_0x19330a(0x231)]=_0x19330a(0x2fb),_0x2d0dd9[_0x19330a(0x24d)]=function(_0x4a1989,_0x5c48c5){return _0x4a1989!==_0x5c48c5;},_0x2d0dd9[_0x19330a(0x217)]=_0x19330a(0x285),_0x2d0dd9[_0x19330a(0x29e)]='Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s';const _0x14287e=_0x2d0dd9,_0x13d045={..._0x8b8c2f,...{'method':_0x363ddf,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x1fc0aa,'body':_0x23dc45,'json':_0x14287e['oiuoy'](_0x8b8c2f[_0x19330a(0x2b0)][_0x14287e[_0x19330a(0x29d)]],_0x14287e[_0x19330a(0x1e7)]),'agent':API_URL['includes'](_0x14287e[_0x19330a(0x231)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x14287e[_0x19330a(0x294)](_0x1fc0aa,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x13d045[_0x19330a(0x21f)]=API_URL[_0x19330a(0x22e)](_0x14287e[_0x19330a(0x231)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports['modifyReqForTraceUpload'](_0x13d045,_0x8b8c2f),logger[_0x19330a(0x280)](_0x19330a(0x29f)+_0x13d045[_0x19330a(0x244)]));try{const {statusCode:_0x34ab4b,body:_0x10eff2}=await bsSetupHelper[_0x19330a(0x251)](_0x363ddf,_0x1fc0aa,_0x13d045,_0x8b8c2f,_0x13d045[_0x19330a(0x244)]);if(_0x14287e[_0x19330a(0x24d)](_0x34ab4b,0xc8))return _0x10eff2?_0x10eff2:_0x19330a(0x20f)+_0x34ab4b;let _0x5b87d5=_0x10eff2;if(_0x1030e7)try{_0x14287e['MTqyP'](typeof _0x10eff2,_0x14287e['KoaXE'])&&(_0x5b87d5=JSON['parse'](_0x10eff2));}catch(_0x5a89a2){logger[_0x19330a(0x2bc)](_0x14287e[_0x19330a(0x29e)],_0x10eff2,util[_0x19330a(0x2c5)](_0x5a89a2));}const _0x23a951={};return _0x23a951['data']=_0x5b87d5,_0x23a951;}catch(_0x428cb2){logger[_0x19330a(0x2bc)](_0x19330a(0x282)+util[_0x19330a(0x2c5)](_0x428cb2));throw _0x428cb2;}},exports['nodeRequest']=(_0x836b79,_0x1d234c,_0x56aee4,_0x3cd2e8,_0x40d553=!![])=>{const _0x23d0b5=a125_0x533d5c,_0x344864={'RCcSW':function(_0x56521a,_0x24176b){return _0x56521a!==_0x24176b;},'OWnIp':function(_0x24cf4d,_0x507fa8){return _0x24cf4d(_0x507fa8);},'xvATU':function(_0x5941b2,_0x4b1222){return _0x5941b2!==_0x4b1222;},'LdEDn':_0x23d0b5(0x285),'CZWsU':function(_0x41cf13,_0x880b07){return _0x41cf13(_0x880b07);},'hWgnw':_0x23d0b5(0x265),'ppXZC':function(_0x1d7dfc,_0x23c990){return _0x1d7dfc(_0x23c990);},'jNjQM':function(_0x514843,_0x3ca985){return _0x514843===_0x3ca985;},'KjgaP':_0x23d0b5(0x221),'PeXTp':_0x23d0b5(0x21a),'Nljqu':'https','kphOU':function(_0xf32cd9,_0x23e744){return _0xf32cd9===_0x23e744;}};return new Promise((_0x60b4de,_0x165405)=>{const _0x3b0336=_0x23d0b5,_0x103f2f={'MgXCu':function(_0x13d3bd,_0xdd082b){return _0x344864['OWnIp'](_0x13d3bd,_0xdd082b);}},_0x4b1f9a={..._0x3cd2e8,...{'method':_0x836b79,'url':API_URL+'/'+_0x1d234c,'body':_0x56aee4,'json':_0x344864[_0x3b0336(0x2be)](_0x3cd2e8['headers'][_0x344864[_0x3b0336(0x20c)]],_0x344864['PeXTp']),'agent':API_URL[_0x3b0336(0x22e)](_0x344864[_0x3b0336(0x2ba)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x344864[_0x3b0336(0x21d)](_0x1d234c,SCREENSHOT_ENDPOINT)&&(_0x4b1f9a['agent']=API_URL['includes'](_0x344864[_0x3b0336(0x2ba)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x3b0336(0x251)](_0x836b79,_0x1d234c,_0x4b1f9a,_0x3cd2e8,API_URL)['then'](({statusCode:_0x4c842c,body:_0x6c7a92})=>{const _0x155611=_0x3b0336;if(_0x344864[_0x155611(0x2c8)](_0x4c842c,0xc8))_0x344864[_0x155611(0x1ec)](_0x165405,_0x6c7a92?_0x6c7a92:'Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20'+_0x4c842c);else{if(_0x40d553)try{_0x344864['xvATU'](typeof _0x6c7a92,_0x344864[_0x155611(0x28f)])&&(_0x6c7a92=JSON[_0x155611(0x2a0)](_0x6c7a92));}catch(_0x15fb3c){_0x344864[_0x155611(0x2db)](_0x165405,_0x344864['hWgnw']);return;}const _0x14fa07={};_0x14fa07['data']=_0x6c7a92,_0x344864[_0x155611(0x2eb)](_0x60b4de,_0x14fa07);}})[_0x3b0336(0x28d)](_0x59696a=>{const _0x582bd9=_0x3b0336;_0x59696a&&_0x103f2f[_0x582bd9(0x20b)](_0x165405,_0x59696a);});});},exports[a125_0x533d5c(0x2d5)]=_0x317245=>{const _0x1b1cd2=a125_0x533d5c;if(process[_0x1b1cd2(0x279)][_0x1b1cd2(0x260)])return process[_0x1b1cd2(0x279)][_0x1b1cd2(0x260)][_0x1b1cd2(0x295)](',');if(process[_0x1b1cd2(0x279)][_0x1b1cd2(0x2ef)])return process[_0x1b1cd2(0x279)]['TEST_OBSERVABILITY_BUILD_TAG'][_0x1b1cd2(0x295)](',');if(_0x317245['buildTag'])return _0x317245[_0x1b1cd2(0x293)];return[];},exports[a125_0x533d5c(0x2c7)]=(_0x1cd449=!![])=>{const _0x5af087=a125_0x533d5c,_0x10c915={};_0x10c915[_0x5af087(0x1e4)]='application/json',_0x10c915['vmeKx']=_0x5af087(0x29c),_0x10c915[_0x5af087(0x1ed)]='Authorization';const _0x3ed1c5=_0x10c915,_0x2d4013={};_0x2d4013['Content-Type']=_0x3ed1c5[_0x5af087(0x1e4)],_0x2d4013[_0x5af087(0x287)]=_0x3ed1c5[_0x5af087(0x220)];const _0xbf151e=_0x2d4013;return _0x1cd449&&process[_0x5af087(0x279)]['BROWSERSTACK_TESTHUB_JWT']&&(_0xbf151e[_0x3ed1c5[_0x5af087(0x1ed)]]=_0x5af087(0x254)+process[_0x5af087(0x279)]['BROWSERSTACK_TESTHUB_JWT']),_0xbf151e;},exports[a125_0x533d5c(0x225)]=_0xf58bf6=>{const _0x42f37d=a125_0x533d5c,_0x510c1b={};_0x510c1b[_0x42f37d(0x23b)]=_0x42f37d(0x2b6);const _0x5bf3e5=_0x510c1b,_0x489158=[],_0x4850af=new RegExp(_0x5bf3e5['Lcpaf'],'i');return Object[_0x42f37d(0x230)](_0xf58bf6)[_0x42f37d(0x1e3)](_0x1246f0=>_0x4850af['test'](_0x1246f0))[_0x42f37d(0x2b3)](_0x516acd=>_0x489158[_0x42f37d(0x275)](_0xf58bf6[_0x516acd])),_0x489158;},exports[a125_0x533d5c(0x2f6)]=_0x28816e=>{const _0x482248=a125_0x533d5c,_0x39cdfb=[],_0x618728=_0x28816e[_0x482248(0x261)]||process[_0x482248(0x279)][_0x482248(0x1f8)];return _0x618728&&_0x39cdfb[_0x482248(0x275)](_0x618728),_0x39cdfb[_0x482248(0x275)](...exports[_0x482248(0x225)](process[_0x482248(0x279)])),_0x39cdfb['push'](...exports['extractValuesWithRegexKeyMatch'](_0x28816e)),_0x39cdfb;},exports[a125_0x533d5c(0x1f0)]=_0x4e062e=>{const _0x4baf3f=a125_0x533d5c;if(!_0x4e062e)return'';return _0x4e062e[_0x4baf3f(0x286)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a125_0x533d5c(0x262)]=(_0x216d64=0x64)=>new Promise(_0x51f75d=>setTimeout(_0x51f75d,_0x216d64));const getPlatformName=()=>{const _0x326bb6=a125_0x533d5c,_0x2b870e={};_0x2b870e[_0x326bb6(0x28a)]=function(_0x2203c7,_0x21b606){return _0x2203c7===_0x21b606;},_0x2b870e[_0x326bb6(0x2c0)]=_0x326bb6(0x2b9),_0x2b870e[_0x326bb6(0x2da)]=_0x326bb6(0x24c),_0x2b870e['LbjNX']=function(_0x1f5d67,_0x597104){return _0x1f5d67===_0x597104;},_0x2b870e[_0x326bb6(0x2ea)]=_0x326bb6(0x1e2),_0x2b870e[_0x326bb6(0x222)]=_0x326bb6(0x1fd),_0x2b870e[_0x326bb6(0x24f)]=function(_0x2a4231,_0x38fafc){return _0x2a4231===_0x38fafc;},_0x2b870e[_0x326bb6(0x298)]=_0x326bb6(0x235),_0x2b870e[_0x326bb6(0x268)]=_0x326bb6(0x22b),_0x2b870e[_0x326bb6(0x1e9)]=_0x326bb6(0x232);const _0x250de3=_0x2b870e;if(_0x250de3[_0x326bb6(0x28a)](process[_0x326bb6(0x25b)],_0x250de3['ciZVP']))return _0x250de3[_0x326bb6(0x2da)];if(_0x250de3[_0x326bb6(0x245)](process['platform'],_0x250de3[_0x326bb6(0x2ea)]))return _0x250de3['KzSFN'];if(_0x250de3[_0x326bb6(0x24f)](process['platform'],_0x250de3[_0x326bb6(0x298)]))return _0x250de3[_0x326bb6(0x268)];return _0x250de3[_0x326bb6(0x1e9)];},getMacOSVersion=()=>{const _0x5648ed=a125_0x533d5c,_0x3c3c75={};_0x3c3c75[_0x5648ed(0x209)]='awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27';const _0x2e4c07=_0x3c3c75;return child_process[_0x5648ed(0x21c)](_0x2e4c07['Bkemu'])[_0x5648ed(0x2dd)]()[_0x5648ed(0x1f3)]();},getLinuxDetails=()=>{const _0x3cb7b1={'WZNhA':function(_0x4eba08,_0x24f156){return _0x4eba08(_0x24f156);},'PvmTc':function(_0x334735,_0x3e9aef){return _0x334735(_0x3e9aef);},'hPBbf':function(_0x487a6a,_0x407250){return _0x487a6a(_0x407250);}};return new Promise((_0x15de2f,_0x299415)=>{const _0x1e0a2d=a125_0x59e7;_0x3cb7b1[_0x1e0a2d(0x2e1)](getos,(_0x2176fd,_0x15d87f)=>{const _0x44c681=_0x1e0a2d;if(_0x2176fd)return _0x3cb7b1[_0x44c681(0x29b)](_0x299415,_0x2176fd);_0x3cb7b1[_0x44c681(0x1ee)](_0x15de2f,_0x15d87f);});});};exports[a125_0x533d5c(0x252)]=async()=>{const _0x333dfd=a125_0x533d5c,_0x358d22={'eoYeE':function(_0x436f63){return _0x436f63();},'mNOcx':_0x333dfd(0x1fd),'PlluG':'Windows','Npksd':'windows-release','BquXw':function(_0x32d719){return _0x32d719();},'VvJbP':_0x333dfd(0x22b),'gQyDC':function(_0x1b3d5e){return _0x1b3d5e();},'sKoiU':'Error\x20in\x20getting\x20Linux\x20Details'};let _0xedb2de=_0x358d22[_0x333dfd(0x1f9)](getPlatformName),_0x534d92=os[_0x333dfd(0x259)]()[_0x333dfd(0x2dd)]();switch(_0xedb2de){case _0x358d22['mNOcx']:_0x534d92=_0x358d22[_0x333dfd(0x1f9)](getMacOSVersion);break;case _0x358d22[_0x333dfd(0x296)]:try{const _0x49e0a4=(await import(_0x358d22[_0x333dfd(0x203)]))[_0x333dfd(0x234)];_0x534d92=_0x358d22[_0x333dfd(0x2d6)](_0x49e0a4);}catch(_0x5cec82){exports[_0x333dfd(0x280)](_0x333dfd(0x2ae)+_0x5cec82[_0x333dfd(0x2dd)]());}break;case _0x358d22['VvJbP']:try{const _0x5e6eb5=await _0x358d22[_0x333dfd(0x249)](getLinuxDetails);_0x5e6eb5[_0x333dfd(0x2d2)]&&(_0xedb2de=_0x5e6eb5[_0x333dfd(0x2d2)]),_0x5e6eb5['release']&&(_0x534d92=_0x5e6eb5['release'][_0x333dfd(0x2dd)]());}catch(_0x27e6f4){exports[_0x333dfd(0x280)](_0x358d22[_0x333dfd(0x2ab)]);}break;default:break;}const _0x414fca={};return _0x414fca['platformName']=_0xedb2de,_0x414fca[_0x333dfd(0x258)]=_0x534d92,_0x414fca;},exports[a125_0x533d5c(0x2a8)]=(_0x2ce2e6,_0x1f46c5)=>{const _0x5b4462=a125_0x533d5c,_0x375baf={};_0x375baf[_0x5b4462(0x210)]=function(_0x4f98c9,_0x302e0d){return _0x4f98c9===_0x302e0d;},_0x375baf['qiUjN']=_0x5b4462(0x1ea),_0x375baf[_0x5b4462(0x2af)]=function(_0x2626a2,_0x4b0839){return _0x2626a2===_0x4b0839;},_0x375baf['LVUSF']=_0x5b4462(0x255);const _0x1bf768=_0x375baf;if(!_0x2ce2e6)return[];try{if(_0x1bf768['kYuAe'](_0x1f46c5,_0x1bf768['qiUjN']))return _0x2ce2e6[_0x5b4462(0x241)](_0x1a6af3=>{const _0x61db45=_0x5b4462,{stack:_0x4c630c,..._0x640c76}=_0x1a6af3,_0x16d458=Object[_0x61db45(0x230)](_0x640c76)[_0x61db45(0x241)](_0x2080a0=>{return _0x2080a0+':\x20'+_0x640c76[_0x2080a0];}),_0x3bc269=_0x4c630c?exports[_0x61db45(0x1f0)](_0x4c630c)['split'](/\r?\n/):[exports[_0x61db45(0x1f0)](_0x1a6af3[_0x61db45(0x273)])],_0x5d4312={};return _0x5d4312[_0x61db45(0x20d)]=_0x3bc269,_0x5d4312[_0x61db45(0x26c)]=_0x16d458,_0x5d4312;});else{if(_0x1bf768[_0x5b4462(0x2af)](_0x1f46c5,_0x1bf768[_0x5b4462(0x1fc)])){const _0x342897=[],_0x281ab1=[];return Object['keys'](_0x2ce2e6)[_0x5b4462(0x2b3)](_0x585ee5=>{const _0x18ec90=_0x5b4462;try{_0x281ab1[_0x18ec90(0x275)](_0x585ee5+':\x20'+_0x2ce2e6[_0x585ee5]);}catch(_0x5702a9){exports['debug'](_0x18ec90(0x212)+_0x5702a9[_0x18ec90(0x273)]+_0x18ec90(0x2f7)+_0x5702a9[_0x18ec90(0x20d)]);}}),_0x342897[_0x5b4462(0x275)]({'backtrace':exports[_0x5b4462(0x1f0)](_0x2ce2e6[_0x5b4462(0x277)])[_0x5b4462(0x295)](/\r?\n/),'expanded':_0x281ab1}),_0x342897;}}return[];}catch(_0x577420){exports[_0x5b4462(0x280)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0x577420[_0x5b4462(0x273)]+_0x5b4462(0x2f7)+_0x577420[_0x5b4462(0x20d)]);}return[];};class PathHelper{constructor(_0x4a077c,_0x58512a){const _0x16b518=a125_0x533d5c;this[_0x16b518(0x2ca)]=_0x4a077c,this[_0x16b518(0x288)]=_0x58512a;}[a125_0x533d5c(0x274)](_0x5f12b1){const _0x4ff267=a125_0x533d5c,_0x47b877=this['config']['cwd']||this[_0x4ff267(0x2ca)][_0x4ff267(0x2ee)];return path[_0x4ff267(0x1e6)](_0x47b877,_0x5f12b1);}[a125_0x533d5c(0x247)](_0x59d22c){const _0x11e141=a125_0x533d5c,_0x4e7a0e=this[_0x11e141(0x274)](_0x59d22c);return this['prefix']?path['join'](this[_0x11e141(0x288)],_0x4e7a0e):_0x4e7a0e;}}exports['PathHelper']=PathHelper,exports[a125_0x533d5c(0x289)]=(_0x444702=!![])=>{const _0x4c7e09=a125_0x533d5c,_0x5d3b8b={};_0x5d3b8b[_0x4c7e09(0x256)]=function(_0x1e43c4,_0x610175){return _0x1e43c4===_0x610175;},_0x5d3b8b['wxhTl']=_0x4c7e09(0x287),_0x5d3b8b[_0x4c7e09(0x27f)]=_0x4c7e09(0x29c),_0x5d3b8b[_0x4c7e09(0x2cb)]='HTTP',_0x5d3b8b[_0x4c7e09(0x22a)]=_0x4c7e09(0x1fa),_0x5d3b8b['ZzQwP']=_0x4c7e09(0x2a1);const _0x119586=_0x5d3b8b;requestSpy[_0x4c7e09(0x246)]((_0x5aed56,_0x300bdb)=>{const _0x13f68a=_0x4c7e09;_0x300bdb&&!(_0x300bdb[_0x13f68a(0x2b0)]&&_0x119586[_0x13f68a(0x256)](_0x300bdb['headers'][_0x119586[_0x13f68a(0x207)]],_0x119586[_0x13f68a(0x27f)]))&&(_0x300bdb[_0x13f68a(0x2c9)]=_0x300bdb[_0x13f68a(0x2b7)],delete _0x300bdb[_0x13f68a(0x2b7)],_0x444702&&process['emit'](_0x13f68a(0x276)+process['pid'],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x119586['hDnws'],'http_response':_0x300bdb})),_0x300bdb&&(constants[_0x13f68a(0x2bb)]['test'](_0x300bdb[_0x13f68a(0x2c9)])||constants['ATS_HUB_URL_REGEX']['test'](_0x300bdb[_0x13f68a(0x2c9)]))?global[_0x13f68a(0x227)]=_0x119586[_0x13f68a(0x22a)]:global['__cloud_provider___']=_0x119586['ZzQwP'];});},exports[a125_0x533d5c(0x2aa)]=()=>{const _0x50b482=a125_0x533d5c,_0x3d72f2={'mqtpJ':function(_0x59f624,_0x458471){return _0x59f624(_0x458471);}};console={},Object[_0x50b482(0x230)](consoleHolder)['forEach'](_0x2dc129=>{const _0x40c927=_0x50b482;_0x3d72f2[_0x40c927(0x1f1)](isFunction,consoleHolder[_0x2dc129])?console[_0x2dc129]=(..._0x4118f8)=>{try{!Object['keys'](BSTestOpsPatcher)['includes'](_0x2dc129)?consoleHolder[_0x2dc129](..._0x4118f8):BSTestOpsPatcher[_0x2dc129](..._0x4118f8);}catch(_0x1ce6a4){consoleHolder[_0x2dc129](..._0x4118f8);}}:console[_0x2dc129]=consoleHolder[_0x2dc129];});},exports[a125_0x533d5c(0x2a9)]=()=>a125_0x533d5c(0x297)+JSON[a125_0x533d5c(0x204)]({'action':'annotate','arguments':{'data':a125_0x533d5c(0x202)+Date['now'](),'level':a125_0x533d5c(0x280)}}),exports[a125_0x533d5c(0x2b1)]=_0x10cc63=>{const _0x2aacc4=a125_0x533d5c,_0x2ba6b7={};_0x2ba6b7['pDVtp']=function(_0xfd7547,_0x4d16da){return _0xfd7547===_0x4d16da;},_0x2ba6b7[_0x2aacc4(0x270)]='browserstack',_0x2ba6b7[_0x2aacc4(0x27b)]='appium:app',_0x2ba6b7[_0x2aacc4(0x2e2)]=_0x2aacc4(0x25f),_0x2ba6b7[_0x2aacc4(0x266)]=function(_0x1c6311,_0x454925){return _0x1c6311>_0x454925;},_0x2ba6b7[_0x2aacc4(0x2e9)]=_0x2aacc4(0x2c3),_0x2ba6b7[_0x2aacc4(0x20e)]='bstack:options',_0x2ba6b7[_0x2aacc4(0x263)]=_0x2aacc4(0x2ad),_0x2ba6b7[_0x2aacc4(0x272)]=_0x2aacc4(0x2dc),_0x2ba6b7[_0x2aacc4(0x2e0)]=_0x2aacc4(0x28e);const _0x37cf00=_0x2ba6b7;let _0x5f32a8=null;try{if(_0x37cf00[_0x2aacc4(0x23e)](global[_0x2aacc4(0x227)],_0x37cf00[_0x2aacc4(0x270)])){if(_0x10cc63[_0x37cf00[_0x2aacc4(0x27b)]]||_0x10cc63[_0x37cf00[_0x2aacc4(0x2e2)]]||!bsSetupHelper['isUndefined'](global['capabilities'])&&_0x37cf00[_0x2aacc4(0x266)](global[_0x2aacc4(0x2c4)]['length'],0x0)&&(global[_0x2aacc4(0x2c4)][0x0][_0x37cf00[_0x2aacc4(0x2e2)]]||global[_0x2aacc4(0x2c4)][0x0][_0x37cf00['OEuTJ']]))_0x5f32a8=_0x37cf00[_0x2aacc4(0x2e9)];else _0x10cc63[_0x37cf00['qgklb']]&&_0x10cc63[_0x37cf00[_0x2aacc4(0x20e)]][_0x37cf00[_0x2aacc4(0x263)]]?_0x5f32a8=_0x37cf00[_0x2aacc4(0x272)]:_0x5f32a8=_0x37cf00[_0x2aacc4(0x2e0)];}}catch(_0x579cc9){exports[_0x2aacc4(0x280)](_0x2aacc4(0x2c1)+constants[_0x2aacc4(0x267)]+_0x2aacc4(0x25e)+_0x579cc9);}return _0x5f32a8;},exports['sendPlatformDetails']=async(_0xf28c70,_0x31cd02,_0x6b78d2=![])=>{const _0x816f5b=a125_0x533d5c,_0x58591c={};_0x58591c[_0x816f5b(0x211)]=function(_0x271f05,_0x4c9c25){return _0x271f05===_0x4c9c25;},_0x58591c[_0x816f5b(0x233)]='browserstack',_0x58591c[_0x816f5b(0x2f4)]=_0x816f5b(0x1f7),_0x58591c[_0x816f5b(0x28b)]=_0x816f5b(0x2f0);const _0x83b57d=_0x58591c;try{const _0x11e2be=await _0xf28c70[_0x816f5b(0x27a)](),_0x39194b=await _0xf28c70[_0x816f5b(0x269)](),_0x13cfe7={},_0x3191c0=Object[_0x816f5b(0x2cd)](_0x39194b[_0x816f5b(0x27a)]()[_0x816f5b(0x2e4)]),_0x2a57e0={'product':exports[_0x816f5b(0x2b1)](_0x3191c0),'capabilities':_0x3191c0,'platform':_0x11e2be[_0x816f5b(0x248)](),'platform_version':bsSetupHelper[_0x816f5b(0x2a6)](_0x83b57d[_0x816f5b(0x211)](global[_0x816f5b(0x227)],_0x83b57d[_0x816f5b(0x233)])),'browser':_0x11e2be[_0x816f5b(0x226)](),'browser_version':_0x11e2be['getBrowserVersion'](),'session_id':_0x39194b[_0x816f5b(0x2f2)]()};global[_0x816f5b(0x227)]?_0x13cfe7[global[_0x816f5b(0x227)]]=_0x2a57e0:_0x13cfe7[_0x83b57d['rmpGG']]=_0x2a57e0;if(_0x6b78d2)return _0x13cfe7;process[_0x816f5b(0x2d3)]('bs:addPlatformDetails:'+process[_0x816f5b(0x2fa)],{'timestamp':new Date()[_0x816f5b(0x2de)](),'level':null,'message':null,'kind':_0x83b57d[_0x816f5b(0x28b)],'http_response':_0x13cfe7,'uuid':_0x31cd02});}catch(_0x162efa){exports[_0x816f5b(0x280)](_0x816f5b(0x22c)+_0x162efa);}},exports[a125_0x533d5c(0x2cf)]=_0xc92ba5=>{const _0x4e0158=a125_0x533d5c;return _0xc92ba5&&_0xc92ba5[_0x4e0158(0x2dd)]()[_0x4e0158(0x28c)](/browserstack internal helper hook/);};