const a117_0x2fb6e5=a117_0x5b60;function a117_0x5b60(_0x208750,_0x2d657e){const _0x4a0bdb=a117_0x4a0b();return a117_0x5b60=function(_0x5b604e,_0x2e7557){_0x5b604e=_0x5b604e-0x7d;let _0x3bec68=_0x4a0bdb[_0x5b604e];return _0x3bec68;},a117_0x5b60(_0x208750,_0x2d657e);}(function(_0x296ceb,_0x4a2035){const _0xbe4b34=a117_0x5b60,_0x2f8ee5=_0x296ceb();while(!![]){try{const _0x29a3c6=parseInt(_0xbe4b34(0xf9))/0x1+-parseInt(_0xbe4b34(0xa1))/0x2+parseInt(_0xbe4b34(0xe1))/0x3+-parseInt(_0xbe4b34(0xd4))/0x4+-parseInt(_0xbe4b34(0x136))/0x5+-parseInt(_0xbe4b34(0xb9))/0x6+parseInt(_0xbe4b34(0x139))/0x7;if(_0x29a3c6===_0x4a2035)break;else _0x2f8ee5['push'](_0x2f8ee5['shift']());}catch(_0x53557a){_0x2f8ee5['push'](_0x2f8ee5['shift']());}}}(a117_0x4a0b,0xd7ada));const fs=require('fs'),path=require(a117_0x2fb6e5(0x17a)),gitLastCommit=require(a117_0x2fb6e5(0x12e)),getRepoInfo=require('git-repo-info'),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require(a117_0x2fb6e5(0x12f)),http=require(a117_0x2fb6e5(0x156)),https=require('https'),child_process=require(a117_0x2fb6e5(0x8d)),getos=require('getos'),os=require('os'),logger=require(a117_0x2fb6e5(0x9f))['winstonLogger'],bsSetupHelper=require('../helper'),requestSpy=require(a117_0x2fb6e5(0x94)),constants=require(a117_0x2fb6e5(0xe4)),logPatcher=require(a117_0x2fb6e5(0x145)),util=require(a117_0x2fb6e5(0x168)),{fileLogger}=require(a117_0x2fb6e5(0x9f)),PerformanceTester=require(a117_0x2fb6e5(0xb2)),{isFunction}=require(a117_0x2fb6e5(0x188)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a117_0x2fb6e5(0xcb)),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require(a117_0x2fb6e5(0xaa));exports[a117_0x2fb6e5(0x13a)]=_0x5a58e1=>{const _0x50bb5b=a117_0x2fb6e5;fileLogger[_0x50bb5b(0xb6)]('['+new Date()[_0x50bb5b(0x120)]()+'][\x20OBSERVABILITY\x20]\x20'+_0x5a58e1);},exports[a117_0x2fb6e5(0xe8)]=_0x5cae1f=>{const _0x47fa45=a117_0x2fb6e5,_0x32ebec={};_0x32ebec[_0x47fa45(0x13e)]=function(_0x4d5e93,_0x2ab608){return _0x4d5e93===_0x2ab608;},_0x32ebec[_0x47fa45(0x8a)]=_0x47fa45(0x98),_0x32ebec[_0x47fa45(0x177)]=function(_0x1188d8,_0x47aac6){return _0x1188d8===_0x47aac6;};const _0x59d203=_0x32ebec;fileLogger[_0x47fa45(0xe8)]('['+new Date()[_0x47fa45(0x120)]()+'][\x20OBSERVABILITY\x20]\x20'+_0x5cae1f),(_0x59d203['kVTLN'](process[_0x47fa45(0xf1)][_0x47fa45(0xe7)],_0x59d203[_0x47fa45(0x8a)])||_0x59d203[_0x47fa45(0x177)](process[_0x47fa45(0xf1)]['BROWSERSTACK_OBSERVABILITY_DEBUG'],'1'))&&consoleHolder['log']('\x0a['+new Date()['toISOString']()+_0x47fa45(0x174)+_0x5cae1f+'\x0a');};const a117_0xff02e0={};a117_0xff02e0['keepAlive']=!![],a117_0xff02e0[a117_0x2fb6e5(0x115)]=0xea60,a117_0xff02e0['maxSockets']=0x2,a117_0xff02e0[a117_0x2fb6e5(0x86)]=0x2;const httpKeepAliveAgent=new http['Agent'](a117_0xff02e0),a117_0x160aec={};function a117_0x4a0b(){const _0x507782=['enWBw','drFJW','true','logs','ObservabilitySync:','aJEDr','push','windows-release','TuMSg','../logger','EtQya','2866352NAGimw','LogCreated','flfzH','err','fromEntries','/builds/','message','browserstack','ATS_HUB_URL_REGEX','../../../src/bin/utils/constants','\x20:\x20','cwd','appium:app','tdkOB','@cucumber/cucumber','addRequestSpy','nodeRequest','../performance/performance-tester','4|2|0|5|1|3','isTestObservabilitySession','TjoJo','silly','wKKNd','isELd','5382120qRgZsn','stringify','map','eydQN','readConfig','JEST','modifyReqForTraceUpload','Raprs','darwin','BFXDJ','test','ykmXL','Euepk','expanded','HTTP','error','turboScaleGridDetails','patchConsoleLogger','../performance/constants','getBuildTags','BROWSERSTACK_CONFIG_FILE_PATH','data','xjXZt','getCapabilities','ywpes','pjVHf','yZPmi','3089804cESDlJ','AssertionError','match','getPlatformVersion','format','JdoDN','automate','relativeTestFilePath','MaYXA','CGDcI','CODECEPT_CUCUMBER','customTag','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','719406bweIVy','GcmgI','getSession','../../bin/utils/constants','getBrowserName','Content-Type','BROWSERSTACK_OBSERVABILITY_DEBUG','debug','TEST_OBSERVABILITY_BUILD_TAG','qvseE','STAur','Tbckl','body','headers','Unknown','keepAlive','env','catch','MOCHA','X-BSTACK-TESTOPS','Error\x20in\x20getting\x20Linux\x20Details','pCrtd','dvTlx','SEbqk','795800apceht','EwMOu','toString','KSJWX','Visit\x20','rootDir','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','ZnPiP','parse','forEach','ovBfj','trim','getPackageVersion','IhPzc','RXqgR','test_run_uuid','COVEi','YzTTU','sUWej','CODECEPT','agent','platformVersion','BROWSERSTACK_RERUN_TESTS','isUndefined','then','getCustomTags','BROWSERSTACK_TESTHUB_JWT','getPlatformDetails','timeout','platform','Bearer\x20','buildTag','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','../../bin/v2/browserstackCLI','BROWSERSTACK_TEST_OBSERVABILITY_YML','win32','TuXHG','ZsxMJ','jLNdv','toISOString','SVlSh','pid','maxSockets','PQbcL','BUnPm','emit','slLZi','url','filter','pVyvY','jaZCl','ZxKuN','prefixTestPath','git-last-commit','./constants','LYcmf','https','rOUcs','application/json','Hzfym','app-automate','5595120FFSvyk','TYCxT','extractValuesWithRegexKeyMatch','28486409wHpPIP','trace','TEST_ATTACHMENT','split','IhTjx','kVTLN','BS_TESTOPS_BUILD_HASHED_ID','PLbGA','getSyncScript','object','xgQSa','MLlSk','../../bin/utils/logPatcher','uLPiG','LjxNe','cpztT','config','host','getBrowserVersion','cctCn','join','shouldReRunObservabilityTests','getDefaultHeaders','getBrowserStackConfig','hostname','rQVri','getFrameworkVersion','nhrYH','vdURH','http','annotate','sleep','includes','dmRKd','null','jTPxK','replace','jest','prefix','ycqbk','release','O11yHashedID','FYMqm','codeceptjs','hucCM','backtrace','getPlatform','util','app','browserstack_executor:\x20','emeJV','aAWkD','Linux','keys','undefined','platformName','CUCUMBER','Uvdky','PLAYWRIGHT','][\x20OBSERVABILITY\x20]\x20','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','capabilities','mFioY','Windows','DREax','path','map_','getAccessKey','asyncAwaitNodeReq','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','getObservabilityLinkedProductName','printBuildLink','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','execSync','mGnkY','getUserCredentials','BROWSERSTACK_TEST_OBSERVABILITY','GqRXT','eLFOc','lodash','failureData','YEHzi','dist','removeAnsiColors','length','isArray','kHZat','local_grid','Agent','Sciim','getUserName','__cloud_provider___','maxTotalSockets','rVeUO','turboscale','bMRIE','OdtJi','formData','now','child_process','PuOQz','stack','Uploading\x20trace\x20logs\x20to:\x20','bs:addLog:','parseFileNames','OSYpB','../../helpers/request-spy','lXjqU'];a117_0x4a0b=function(){return _0x507782;};return a117_0x4a0b();}a117_0x160aec[a117_0x2fb6e5(0xf0)]=!![],a117_0x160aec['timeout']=0xea60,a117_0x160aec[a117_0x2fb6e5(0x123)]=0x2,a117_0x160aec[a117_0x2fb6e5(0x86)]=0x2;const httpsKeepAliveAgent=new https[(a117_0x2fb6e5(0x82))](a117_0x160aec),a117_0x2a030a={};a117_0x2a030a['keepAlive']=!![],a117_0x2a030a[a117_0x2fb6e5(0x115)]=0xea60,a117_0x2a030a[a117_0x2fb6e5(0x123)]=0x2,a117_0x2a030a[a117_0x2fb6e5(0x86)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a117_0x2fb6e5(0x82))](a117_0x2a030a),a117_0x236767={};a117_0x236767[a117_0x2fb6e5(0xf0)]=!![],a117_0x236767[a117_0x2fb6e5(0x115)]=0xea60,a117_0x236767[a117_0x2fb6e5(0x123)]=0x2,a117_0x236767[a117_0x2fb6e5(0x86)]=0x2;const httpsScreenshotsKeepAliveAgent=new https['Agent'](a117_0x236767);exports[a117_0x2fb6e5(0x14e)]=()=>{const _0x426be2=a117_0x2fb6e5,_0x1a6b28={};_0x1a6b28['eLFOc']=function(_0x39678c,_0x4a03c8){return _0x39678c!==_0x4a03c8;},_0x1a6b28['enWBw']='null';const _0x467394=_0x1a6b28;return process['env'][_0x426be2(0x10f)]&&_0x467394[_0x426be2(0x187)](process[_0x426be2(0xf1)]['BROWSERSTACK_RERUN_TESTS'],_0x467394[_0x426be2(0x96)])?!![]:![];},exports[a117_0x2fb6e5(0xb4)]=()=>{const _0x1483bd=a117_0x2fb6e5,_0x3b63ff={};_0x3b63ff[_0x1483bd(0x148)]=function(_0x24e8b7,_0x4c9674){return _0x24e8b7===_0x4c9674;},_0x3b63ff[_0x1483bd(0xb7)]=_0x1483bd(0x98),_0x3b63ff['ZjWbW']=function(_0x1118d2,_0x569c8b){return _0x1118d2===_0x569c8b;};const _0xe07c6d=_0x3b63ff;let _0x457a65=!![];return process['env'][_0x1483bd(0x11b)]&&(_0x457a65=_0xe07c6d[_0x1483bd(0x148)](process[_0x1483bd(0xf1)]['BROWSERSTACK_TEST_OBSERVABILITY_YML'],_0xe07c6d[_0x1483bd(0xb7)])),process[_0x1483bd(0xf1)][_0x1483bd(0x185)]&&(_0x457a65=_0xe07c6d['ZjWbW'](process[_0x1483bd(0xf1)]['BROWSERSTACK_TEST_OBSERVABILITY'],_0xe07c6d[_0x1483bd(0xb7)])),_0x457a65;},exports[a117_0x2fb6e5(0x92)]=_0x468350=>{const _0x4293df=a117_0x2fb6e5;if(bsSetupHelper['isUndefined'](_0x468350))return undefined;try{return _0x468350[_0x4293df(0x104)]()[_0x4293df(0x13c)](',');}catch(_0x3cec37){return undefined;}},exports[a117_0x2fb6e5(0x180)]=()=>{const _0x56a59c=a117_0x2fb6e5,_0x1706b8={'aAWkD':function(_0x365611,_0x4e71ff){return _0x365611(_0x4e71ff);},'Euepk':_0x56a59c(0x11a),'BUnPm':function(_0x4d1097,_0x5b402b){return _0x4d1097!==_0x5b402b;},'STAur':_0x56a59c(0x15b),'yZPmi':function(_0xef27d,_0x1dcef5){return _0xef27d!==_0x1dcef5;},'FYMqm':_0x56a59c(0x16f),'YEHzi':'[%s][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found\x20%s'};return PerformanceTester['measureWrapper'](PerformanceO11yEvents['PRINT_BUILDLINK'],async()=>{const _0x828210=_0x56a59c;try{const _0x36c63d=_0x1706b8[_0x828210(0x16c)](require,_0x1706b8[_0x828210(0xc5)]);if(_0x36c63d[_0x828210(0x162)]){logger['info'](_0x828210(0xfd)+O11Y_URL+_0x828210(0xa6)+_0x36c63d['O11yHashedID']+_0x828210(0x119));return;}process['env'][_0x828210(0x13f)]&&_0x1706b8[_0x828210(0x125)](process['env'][_0x828210(0x13f)],_0x1706b8[_0x828210(0xeb)])&&_0x1706b8[_0x828210(0xd3)](process[_0x828210(0xf1)][_0x828210(0x13f)],_0x1706b8[_0x828210(0x163)])&&logger['info'](_0x828210(0xfd)+constants['O11Y_URL']+'/builds/'+process[_0x828210(0xf1)][_0x828210(0x13f)]+_0x828210(0x119));}catch(_0x4cf109){logger[_0x828210(0xc8)](util['format'](_0x1706b8[_0x828210(0x18a)],new Date()[_0x828210(0x120)](),_0x4cf109[_0x828210(0x8f)]||_0x4cf109[_0x828210(0xa7)]||_0x4cf109));}})();},exports['getFailureType']=_0x14c290=>{const _0x504b0c=a117_0x2fb6e5,_0x2bb571={};_0x2bb571['cTrjT']=_0x504b0c(0xd5),_0x2bb571[_0x504b0c(0x186)]='UnhandledError';const _0xfe11c2=_0x2bb571;if(!_0x14c290)return null;return _0x14c290[_0x504b0c(0xfb)]()[_0x504b0c(0xd6)](/AssertionError/)?_0xfe11c2['cTrjT']:_0xfe11c2[_0x504b0c(0x186)];},exports[a117_0x2fb6e5(0x153)]=_0xd9b9c7=>{const _0x464973=a117_0x2fb6e5,_0x1bdb60={};_0x1bdb60[_0x464973(0x93)]='mocha',_0x1bdb60[_0x464973(0xec)]='@playwright/test',_0x1bdb60['qHJUS']=_0x464973(0x164),_0x1bdb60[_0x464973(0xfa)]=_0x464973(0x15e),_0x1bdb60[_0x464973(0xc0)]=_0x464973(0xaf);const _0x502b41=_0x1bdb60;let _0x27b769=null;switch(_0xd9b9c7){case FRAMEWORKS[_0x464973(0xf3)]:_0x27b769=bsSetupHelper[_0x464973(0x105)](_0x502b41[_0x464973(0x93)]);break;case FRAMEWORKS[_0x464973(0x173)]:_0x27b769=bsSetupHelper[_0x464973(0x105)](_0x502b41[_0x464973(0xec)]);break;case FRAMEWORKS[_0x464973(0x10c)]:case FRAMEWORKS[_0x464973(0xde)]:_0x27b769=bsSetupHelper[_0x464973(0x105)](_0x502b41['qHJUS']);break;case FRAMEWORKS[_0x464973(0xbe)]:_0x27b769=bsSetupHelper[_0x464973(0x105)](_0x502b41[_0x464973(0xfa)]);break;case FRAMEWORKS[_0x464973(0x171)]:_0x27b769=bsSetupHelper[_0x464973(0x105)](_0x502b41['Raprs']);break;default:break;}return _0x27b769;},exports[a117_0x2fb6e5(0x150)]=_0x3d640b=>{const _0x40f939=a117_0x2fb6e5;let _0x5de7fb=null;switch(_0x3d640b){case FRAMEWORKS[_0x40f939(0x173)]:_0x5de7fb=process[_0x40f939(0xf1)][_0x40f939(0xcd)];break;}if(!_0x5de7fb)return;return bsSetupHelper[_0x40f939(0xbd)](_0x5de7fb,![]);},exports[a117_0x2fb6e5(0x184)]=_0x579368=>{const _0x367e34=a117_0x2fb6e5;return{'username':bsSetupHelper[_0x367e34(0x84)](_0x579368),'accessKey':bsSetupHelper[_0x367e34(0x17c)](_0x579368)};},exports[a117_0x2fb6e5(0xbf)]=(_0x124700,_0xe484fb)=>{const _0x535e3a=a117_0x2fb6e5,_0xa042ef={};_0xa042ef[_0x535e3a(0x127)]=_0x535e3a(0xb3),_0xa042ef[_0x535e3a(0x13d)]=_0x535e3a(0xa2),_0xa042ef['pjVHf']=_0x535e3a(0x13b);const _0x1b0085=_0xa042ef,_0x5038d4=_0x1b0085[_0x535e3a(0x127)][_0x535e3a(0x13c)]('|');let _0x24b332=0x0;while(!![]){switch(_0x5038d4[_0x24b332++]){case'0':_0x124700[_0x535e3a(0x8b)]={'data':_0x124700['body'][0x0][_0x535e3a(0x99)][0x0]['data'],'test_run_uuid':_0x124700[_0x535e3a(0xed)][0x0][_0x535e3a(0x99)][0x0][_0x535e3a(0x108)],'event_type':_0x1b0085['IhTjx'],'kind':_0x1b0085[_0x535e3a(0xd2)],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x535e3a(0x120)](),'fileName':_0x124700[_0x535e3a(0xed)][0x0][_0x535e3a(0x99)][0x0]['fileName']};continue;case'1':delete _0x124700['json'];continue;case'2':if(!_0x124700[_0x535e3a(0xed)][0x0]||!_0x124700[_0x535e3a(0xed)][0x0][_0x535e3a(0x99)]||!_0x124700['body'][0x0][_0x535e3a(0x99)]['length'])return;continue;case'3':delete _0xe484fb[_0x535e3a(0xee)];continue;case'4':if(!_0x124700[_0x535e3a(0xed)]||!Array[_0x535e3a(0x7f)](_0x124700['body']))return;continue;case'5':delete _0x124700[_0x535e3a(0xed)];continue;}break;}},exports[a117_0x2fb6e5(0x17d)]=async(_0xb92400,_0x4152c6,_0x3be757,_0x170890,_0x92aa45=!![])=>{const _0x27afd7=a117_0x2fb6e5,_0x146ef0={};_0x146ef0[_0x27afd7(0x183)]=function(_0x39bfc4,_0x27a95b){return _0x39bfc4===_0x27a95b;},_0x146ef0[_0x27afd7(0x10b)]=_0x27afd7(0xe6),_0x146ef0[_0x27afd7(0x95)]=_0x27afd7(0x133),_0x146ef0[_0x27afd7(0xfc)]=_0x27afd7(0x131),_0x146ef0[_0x27afd7(0xa0)]=function(_0x438d90,_0x3667d3){return _0x438d90===_0x3667d3;},_0x146ef0[_0x27afd7(0x124)]=function(_0x4cc741,_0x1c4497){return _0x4cc741!==_0x1c4497;},_0x146ef0[_0x27afd7(0x121)]='object',_0x146ef0[_0x27afd7(0x109)]='Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s';const _0x2389a0=_0x146ef0,_0x3498a6={..._0x170890,...{'method':_0xb92400,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x4152c6,'body':_0x3be757,'json':_0x2389a0[_0x27afd7(0x183)](_0x170890['headers'][_0x2389a0[_0x27afd7(0x10b)]],_0x2389a0[_0x27afd7(0x95)]),'agent':API_URL[_0x27afd7(0x159)](_0x2389a0[_0x27afd7(0xfc)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x2389a0[_0x27afd7(0xa0)](_0x4152c6,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x3498a6[_0x27afd7(0x10d)]=API_URL[_0x27afd7(0x159)](_0x2389a0['KSJWX'])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x27afd7(0xbf)](_0x3498a6,_0x170890),logger[_0x27afd7(0xe8)](_0x27afd7(0x90)+_0x3498a6[_0x27afd7(0x128)]));try{const {statusCode:_0xc917a6,body:_0x4f6158}=await bsSetupHelper[_0x27afd7(0xb1)](_0xb92400,_0x4152c6,_0x3498a6,_0x170890,_0x3498a6[_0x27afd7(0x128)]);if(_0x2389a0['PQbcL'](_0xc917a6,0xc8))return _0x4f6158?_0x4f6158:'Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20'+_0xc917a6;let _0x39cbf2=_0x4f6158;if(_0x92aa45)try{_0x2389a0[_0x27afd7(0x124)](typeof _0x4f6158,_0x2389a0['SVlSh'])&&(_0x39cbf2=JSON['parse'](_0x4f6158));}catch(_0x23a9ba){logger['error'](_0x2389a0[_0x27afd7(0x109)],_0x4f6158,util['format'](_0x23a9ba));}const _0x3c1555={};return _0x3c1555[_0x27afd7(0xce)]=_0x39cbf2,_0x3c1555;}catch(_0x1e267e){logger[_0x27afd7(0xc8)]('Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20'+util[_0x27afd7(0xd8)](_0x1e267e));throw _0x1e267e;}},exports[a117_0x2fb6e5(0xb1)]=(_0x176ee2,_0x1b803e,_0x2a172c,_0x5c527b,_0x48b865=!![])=>{const _0x492949=a117_0x2fb6e5,_0x2d1fbb={'TuMSg':function(_0x408e4d,_0x40af3b){return _0x408e4d!==_0x40af3b;},'bMRIE':function(_0x3e0b9,_0x2a8e8a){return _0x3e0b9(_0x2a8e8a);},'ZsxMJ':_0x492949(0x142),'hucCM':function(_0x316c1c,_0x2e17bf){return _0x316c1c(_0x2e17bf);},'dmRKd':_0x492949(0x175),'MaYXA':function(_0x5d302e,_0x2cfa36){return _0x5d302e(_0x2cfa36);},'qcSbG':function(_0x53c8d1,_0x2357e7){return _0x53c8d1===_0x2357e7;},'xjXZt':'Content-Type','PuOQz':_0x492949(0x133),'kHZat':_0x492949(0x131),'TuXHG':function(_0x4d6c6a,_0x480fc8){return _0x4d6c6a===_0x480fc8;}};return new Promise((_0xd4036a,_0x4282ca)=>{const _0x249420=_0x492949,_0x49bd5b={..._0x5c527b,...{'method':_0x176ee2,'url':API_URL+'/'+_0x1b803e,'body':_0x2a172c,'json':_0x2d1fbb['qcSbG'](_0x5c527b['headers'][_0x2d1fbb[_0x249420(0xcf)]],_0x2d1fbb[_0x249420(0x8e)]),'agent':API_URL[_0x249420(0x159)](_0x2d1fbb['kHZat'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x2d1fbb[_0x249420(0x11d)](_0x1b803e,SCREENSHOT_ENDPOINT)&&(_0x49bd5b['agent']=API_URL[_0x249420(0x159)](_0x2d1fbb[_0x249420(0x80)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x249420(0xb1)](_0x176ee2,_0x1b803e,_0x49bd5b,_0x5c527b,API_URL)[_0x249420(0x111)](({statusCode:_0x5c894f,body:_0x5fa41c})=>{const _0x4c8125=_0x249420;if(_0x2d1fbb[_0x4c8125(0x9e)](_0x5c894f,0xc8))_0x2d1fbb[_0x4c8125(0x89)](_0x4282ca,_0x5fa41c?_0x5fa41c:_0x4c8125(0x17e)+_0x5c894f);else{if(_0x48b865)try{_0x2d1fbb[_0x4c8125(0x9e)](typeof _0x5fa41c,_0x2d1fbb[_0x4c8125(0x11e)])&&(_0x5fa41c=JSON[_0x4c8125(0x101)](_0x5fa41c));}catch(_0x35b08d){_0x2d1fbb[_0x4c8125(0x165)](_0x4282ca,_0x2d1fbb[_0x4c8125(0x15a)]);return;}const _0x13ece4={};_0x13ece4[_0x4c8125(0xce)]=_0x5fa41c,_0x2d1fbb[_0x4c8125(0xdc)](_0xd4036a,_0x13ece4);}})[_0x249420(0xf2)](_0x34bdb9=>{const _0x161605=_0x249420;_0x34bdb9&&_0x2d1fbb[_0x161605(0x165)](_0x4282ca,_0x34bdb9);});});},exports[a117_0x2fb6e5(0xcc)]=_0x57ffba=>{const _0x5244d2=a117_0x2fb6e5;if(process['env'][_0x5244d2(0xe9)])return process[_0x5244d2(0xf1)]['TEST_OBSERVABILITY_BUILD_TAG'][_0x5244d2(0x13c)](',');if(_0x57ffba[_0x5244d2(0x118)])return _0x57ffba[_0x5244d2(0x118)];return[];},exports[a117_0x2fb6e5(0x14f)]=(_0xb30cef=!![])=>{const _0x42a80b=a117_0x2fb6e5,_0x5ea22a={};_0x5ea22a['LjxNe']=_0x42a80b(0x133),_0x5ea22a[_0x42a80b(0x100)]=_0x42a80b(0x98),_0x5ea22a[_0x42a80b(0x14c)]='Authorization';const _0xb1ce3e=_0x5ea22a,_0x402a5f={};_0x402a5f[_0x42a80b(0xe6)]=_0xb1ce3e[_0x42a80b(0x147)],_0x402a5f['X-BSTACK-TESTOPS']=_0xb1ce3e[_0x42a80b(0x100)];const _0x224c3b=_0x402a5f;return _0xb30cef&&process['env'][_0x42a80b(0x113)]&&(_0x224c3b[_0xb1ce3e[_0x42a80b(0x14c)]]=_0x42a80b(0x117)+process['env'][_0x42a80b(0x113)]),_0x224c3b;},exports[a117_0x2fb6e5(0x138)]=_0x2431b6=>{const _0x26c531=a117_0x2fb6e5,_0x13b101={};_0x13b101['mZAZB']='^CUSTOM_TAG_\x5cd+$';const _0x81fcb=_0x13b101,_0x6c783f=[],_0x1c9b06=new RegExp(_0x81fcb['mZAZB'],'i');return Object[_0x26c531(0x16e)](_0x2431b6)[_0x26c531(0x129)](_0xecec98=>_0x1c9b06[_0x26c531(0xc3)](_0xecec98))['forEach'](_0x149bef=>_0x6c783f[_0x26c531(0x9c)](_0x2431b6[_0x149bef])),_0x6c783f;},exports[a117_0x2fb6e5(0x112)]=_0x52aedb=>{const _0x333e7b=a117_0x2fb6e5,_0x7a156e=[],_0x580df3=_0x52aedb[_0x333e7b(0xdf)]||process[_0x333e7b(0xf1)]['CUSTOM_TAG'];return _0x580df3&&_0x7a156e[_0x333e7b(0x9c)](_0x580df3),_0x7a156e['push'](...exports['extractValuesWithRegexKeyMatch'](process[_0x333e7b(0xf1)])),_0x7a156e[_0x333e7b(0x9c)](...exports[_0x333e7b(0x138)](_0x52aedb)),_0x7a156e;},exports['removeAnsiColors']=_0x42ec15=>{const _0xaf4ecd=a117_0x2fb6e5;if(!_0x42ec15)return'';return _0x42ec15[_0xaf4ecd(0x15d)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a117_0x2fb6e5(0x158)]=(_0x139d13=0x64)=>new Promise(_0x40d261=>setTimeout(_0x40d261,_0x139d13));const getPlatformName=()=>{const _0x47fea0=a117_0x2fb6e5,_0x86715f={};_0x86715f[_0x47fea0(0x143)]=function(_0x52ff9e,_0x4feb85){return _0x52ff9e===_0x4feb85;},_0x86715f[_0x47fea0(0x146)]=_0x47fea0(0x11c),_0x86715f['drFJW']='Windows',_0x86715f[_0x47fea0(0x12c)]=_0x47fea0(0xc1),_0x86715f[_0x47fea0(0x87)]='OS\x20X',_0x86715f[_0x47fea0(0x140)]=function(_0x448958,_0x5ebaab){return _0x448958===_0x5ebaab;},_0x86715f['ycqbk']='linux',_0x86715f[_0x47fea0(0x10a)]=_0x47fea0(0x16d),_0x86715f[_0x47fea0(0x83)]=_0x47fea0(0xef);const _0x1bcfd4=_0x86715f;if(_0x1bcfd4[_0x47fea0(0x143)](process[_0x47fea0(0x116)],_0x1bcfd4[_0x47fea0(0x146)]))return _0x1bcfd4[_0x47fea0(0x97)];if(_0x1bcfd4['xgQSa'](process['platform'],_0x1bcfd4[_0x47fea0(0x12c)]))return _0x1bcfd4[_0x47fea0(0x87)];if(_0x1bcfd4[_0x47fea0(0x140)](process[_0x47fea0(0x116)],_0x1bcfd4[_0x47fea0(0x160)]))return _0x1bcfd4[_0x47fea0(0x10a)];return _0x1bcfd4[_0x47fea0(0x83)];},getMacOSVersion=()=>{const _0x3150ea=a117_0x2fb6e5,_0x10b345={};_0x10b345[_0x3150ea(0xc4)]=_0x3150ea(0xe0);const _0x30a399=_0x10b345;return child_process[_0x3150ea(0x182)](_0x30a399[_0x3150ea(0xc4)])[_0x3150ea(0xfb)]()[_0x3150ea(0x104)]();},getLinuxDetails=()=>{const _0x3cda3f={'BFXDJ':function(_0x29116c,_0xbd156f){return _0x29116c(_0xbd156f);}};return new Promise((_0x518338,_0x4e9054)=>{const _0x564131={'jLNdv':function(_0x57bf72,_0x2b68fb){const _0x625c9d=a117_0x5b60;return _0x3cda3f[_0x625c9d(0xc2)](_0x57bf72,_0x2b68fb);}};_0x3cda3f['BFXDJ'](getos,(_0x6b196f,_0x5f014f)=>{const _0x56d853=a117_0x5b60;if(_0x6b196f)return _0x564131[_0x56d853(0x11f)](_0x4e9054,_0x6b196f);_0x564131[_0x56d853(0x11f)](_0x518338,_0x5f014f);});});};exports[a117_0x2fb6e5(0x114)]=async()=>{const _0x57893d=a117_0x2fb6e5,_0x1eaaa4={'ywpes':function(_0x4383c7){return _0x4383c7();},'SEbqk':'OS\x20X','pVyvY':_0x57893d(0x178),'rOUcs':_0x57893d(0x9d),'ovBfj':'Linux','Uvdky':_0x57893d(0xf5)};let _0x2d1e16=_0x1eaaa4['ywpes'](getPlatformName),_0x26ccd5=os[_0x57893d(0x161)]()[_0x57893d(0xfb)]();switch(_0x2d1e16){case _0x1eaaa4[_0x57893d(0xf8)]:_0x26ccd5=_0x1eaaa4[_0x57893d(0xd1)](getMacOSVersion);break;case _0x1eaaa4[_0x57893d(0x12a)]:try{const _0x3967c4=(await import(_0x1eaaa4[_0x57893d(0x132)]))['default'];_0x26ccd5=_0x1eaaa4[_0x57893d(0xd1)](_0x3967c4);}catch(_0x244b0a){exports[_0x57893d(0xe8)]('Error\x20in\x20importing\x20windows-release\x20'+_0x244b0a[_0x57893d(0xfb)]());}break;case _0x1eaaa4[_0x57893d(0x103)]:try{const _0xca615f=await _0x1eaaa4[_0x57893d(0xd1)](getLinuxDetails);_0xca615f[_0x57893d(0x18b)]&&(_0x2d1e16=_0xca615f[_0x57893d(0x18b)]),_0xca615f[_0x57893d(0x161)]&&(_0x26ccd5=_0xca615f['release'][_0x57893d(0xfb)]());}catch(_0x377a1b){exports[_0x57893d(0xe8)](_0x1eaaa4[_0x57893d(0x172)]);}break;default:break;}const _0x3710d1={};return _0x3710d1[_0x57893d(0x170)]=_0x2d1e16,_0x3710d1[_0x57893d(0x10e)]=_0x26ccd5,_0x3710d1;},exports[a117_0x2fb6e5(0x189)]=(_0x459150,_0x11f8b6)=>{const _0x337638=a117_0x2fb6e5,_0x56dd0b={};_0x56dd0b[_0x337638(0x154)]=function(_0x4b7bad,_0x376e91){return _0x4b7bad===_0x376e91;},_0x56dd0b[_0x337638(0x16b)]=_0x337638(0xc3),_0x56dd0b['TjoJo']=function(_0x3c4afa,_0x29a039){return _0x3c4afa===_0x29a039;},_0x56dd0b[_0x337638(0xe2)]=_0x337638(0xa4);const _0xebd436=_0x56dd0b;if(!_0x459150)return[];try{if(_0xebd436[_0x337638(0x154)](_0x11f8b6,_0xebd436[_0x337638(0x16b)]))return _0x459150[_0x337638(0xbb)](_0xe45948=>{const _0x1e53c0=_0x337638,{stack:_0x181a1b,..._0x20117f}=_0xe45948,_0x567ad1=Object['keys'](_0x20117f)[_0x1e53c0(0xbb)](_0x1ac5f6=>{return _0x1ac5f6+':\x20'+_0x20117f[_0x1ac5f6];}),_0x43b612=_0x181a1b?exports[_0x1e53c0(0x7d)](_0x181a1b)['split'](/\r?\n/):[exports['removeAnsiColors'](_0xe45948[_0x1e53c0(0xa7)])],_0x56ab7c={};return _0x56ab7c[_0x1e53c0(0x166)]=_0x43b612,_0x56ab7c[_0x1e53c0(0xc6)]=_0x567ad1,_0x56ab7c;});else{if(_0xebd436[_0x337638(0xb5)](_0x11f8b6,_0xebd436[_0x337638(0xe2)])){const _0x4caea1=[],_0x1d2a9e=[];return Object[_0x337638(0x16e)](_0x459150)[_0x337638(0x102)](_0x4905b7=>{const _0x36c124=_0x337638;try{_0x1d2a9e[_0x36c124(0x9c)](_0x4905b7+':\x20'+_0x459150[_0x4905b7]);}catch(_0x4cff4b){exports[_0x36c124(0xe8)](_0x36c124(0xff)+_0x4cff4b[_0x36c124(0xa7)]+_0x36c124(0xab)+_0x4cff4b[_0x36c124(0x166)]);}}),_0x4caea1['push']({'backtrace':exports[_0x337638(0x7d)](_0x459150[_0x337638(0x8f)])[_0x337638(0x13c)](/\r?\n/),'expanded':_0x1d2a9e}),_0x4caea1;}}return[];}catch(_0x3f40af){exports[_0x337638(0xe8)](_0x337638(0xff)+_0x3f40af[_0x337638(0xa7)]+'\x20:\x20'+_0x3f40af[_0x337638(0x166)]);}return[];};class PathHelper{constructor(_0x518d61,_0x5b62f6){const _0x507f79=a117_0x2fb6e5;this['config']=_0x518d61,this[_0x507f79(0x15f)]=_0x5b62f6;}[a117_0x2fb6e5(0xdb)](_0x53d405){const _0x4733de=a117_0x2fb6e5,_0x2d4e9b=this[_0x4733de(0x149)][_0x4733de(0xac)]||this[_0x4733de(0x149)][_0x4733de(0xfe)];return path['relative'](_0x2d4e9b,_0x53d405);}[a117_0x2fb6e5(0x12d)](_0x1c6fa3){const _0xf5364a=a117_0x2fb6e5,_0x3c4505=this[_0xf5364a(0xdb)](_0x1c6fa3);return this[_0xf5364a(0x15f)]?path[_0xf5364a(0x14d)](this['prefix'],_0x3c4505):_0x3c4505;}}exports['PathHelper']=PathHelper,exports[a117_0x2fb6e5(0xb0)]=(_0x545583=!![])=>{const _0x417fd2=a117_0x2fb6e5,_0x3a810b={};_0x3a810b[_0x417fd2(0xd9)]=function(_0x1b24e2,_0x493ce0){return _0x1b24e2===_0x493ce0;},_0x3a810b[_0x417fd2(0x107)]=_0x417fd2(0xf4),_0x3a810b[_0x417fd2(0x9b)]=_0x417fd2(0x98),_0x3a810b['pCrtd']=_0x417fd2(0xc7),_0x3a810b[_0x417fd2(0xea)]=_0x417fd2(0xa8),_0x3a810b[_0x417fd2(0xae)]=_0x417fd2(0x81);const _0x32eaf5=_0x3a810b;requestSpy['spy']((_0x1444ec,_0x193bcf)=>{const _0x6f4d0e=_0x417fd2;_0x193bcf&&!(_0x193bcf[_0x6f4d0e(0xee)]&&_0x32eaf5['JdoDN'](_0x193bcf[_0x6f4d0e(0xee)][_0x32eaf5['RXqgR']],_0x32eaf5[_0x6f4d0e(0x9b)]))&&(_0x193bcf[_0x6f4d0e(0x14a)]=_0x193bcf[_0x6f4d0e(0x151)],delete _0x193bcf[_0x6f4d0e(0x151)],_0x545583&&process[_0x6f4d0e(0x126)](_0x6f4d0e(0x91)+process[_0x6f4d0e(0x122)],{'timestamp':new Date()[_0x6f4d0e(0x120)](),'level':null,'message':null,'kind':_0x32eaf5[_0x6f4d0e(0xf6)],'http_response':_0x193bcf})),_0x193bcf&&(constants['HUB_URL_REGEX'][_0x6f4d0e(0xc3)](_0x193bcf[_0x6f4d0e(0x14a)])||constants[_0x6f4d0e(0xa9)][_0x6f4d0e(0xc3)](_0x193bcf['host']))?global[_0x6f4d0e(0x85)]=_0x32eaf5[_0x6f4d0e(0xea)]:global[_0x6f4d0e(0x85)]=_0x32eaf5[_0x6f4d0e(0xae)];});},exports[a117_0x2fb6e5(0xca)]=()=>{const _0x3a3bf6=a117_0x2fb6e5,_0x15a998={'dvTlx':function(_0x216741,_0x254645){return _0x216741(_0x254645);}};console={},Object[_0x3a3bf6(0x16e)](consoleHolder)[_0x3a3bf6(0x102)](_0x109937=>{const _0x2a256d=_0x3a3bf6;_0x15a998[_0x2a256d(0xf7)](isFunction,consoleHolder[_0x109937])?console[_0x109937]=(..._0x3def39)=>{const _0x39119a=_0x2a256d;try{!Object[_0x39119a(0x16e)](BSTestOpsPatcher)[_0x39119a(0x159)](_0x109937)?consoleHolder[_0x109937](..._0x3def39):BSTestOpsPatcher[_0x109937](..._0x3def39);}catch(_0x4e2817){consoleHolder[_0x109937](..._0x3def39);}}:console[_0x109937]=consoleHolder[_0x109937];});},exports[a117_0x2fb6e5(0x141)]=()=>a117_0x2fb6e5(0x16a)+JSON[a117_0x2fb6e5(0xba)]({'action':a117_0x2fb6e5(0x157),'arguments':{'data':a117_0x2fb6e5(0x9a)+Date[a117_0x2fb6e5(0x8c)](),'level':'debug'}}),exports['getObservabilityLinkedProductName']=_0x33cf3c=>{const _0x1d0f53=a117_0x2fb6e5,_0x4f894e={};_0x4f894e['TYCxT']=function(_0x5b6587,_0x5e0454){return _0x5b6587===_0x5e0454;},_0x4f894e[_0x1d0f53(0x12b)]='browserstack',_0x4f894e['MLlSk']=_0x1d0f53(0xad),_0x4f894e['Hzfym']=_0x1d0f53(0x169),_0x4f894e['eydQN']=function(_0x51868c,_0xc61124){return _0x51868c>_0xc61124;},_0x4f894e[_0x1d0f53(0xdd)]=_0x1d0f53(0x135),_0x4f894e[_0x1d0f53(0xb8)]='bstack:options',_0x4f894e[_0x1d0f53(0x155)]=_0x1d0f53(0xc9),_0x4f894e[_0x1d0f53(0x130)]=_0x1d0f53(0x88),_0x4f894e['jTPxK']=_0x1d0f53(0xda);const _0x425d23=_0x4f894e;let _0x4e8c10=null;try{if(_0x425d23[_0x1d0f53(0x137)](global[_0x1d0f53(0x85)],_0x425d23[_0x1d0f53(0x12b)])){if(_0x33cf3c[_0x425d23[_0x1d0f53(0x144)]]||_0x33cf3c[_0x425d23['Hzfym']]||!bsSetupHelper[_0x1d0f53(0x110)](global['capabilities'])&&_0x425d23[_0x1d0f53(0xbc)](global[_0x1d0f53(0x176)][_0x1d0f53(0x7e)],0x0)&&(global['capabilities'][0x0][_0x425d23[_0x1d0f53(0x134)]]||global[_0x1d0f53(0x176)][0x0][_0x425d23[_0x1d0f53(0x144)]]))_0x4e8c10=_0x425d23[_0x1d0f53(0xdd)];else _0x33cf3c[_0x425d23[_0x1d0f53(0xb8)]]&&_0x33cf3c[_0x425d23[_0x1d0f53(0xb8)]][_0x425d23['vdURH']]?_0x4e8c10=_0x425d23[_0x1d0f53(0x130)]:_0x4e8c10=_0x425d23[_0x1d0f53(0x15c)];}}catch(_0x17e55e){exports[_0x1d0f53(0xe8)](_0x1d0f53(0x181)+_0x17e55e);}return _0x4e8c10;},exports['sendPlatformDetails']=async(_0x5b5755,_0x429de2,_0x2ab2d5=![])=>{const _0x4508a5=a117_0x2fb6e5,_0x45cff0={};_0x45cff0['flfzH']=function(_0x592cd8,_0x2b77ad){return _0x592cd8===_0x2b77ad;},_0x45cff0[_0x4508a5(0x152)]='browserstack',_0x45cff0[_0x4508a5(0x106)]='unknown_grid',_0x45cff0[_0x4508a5(0x179)]='TEST_PLATFORM';const _0x27194c=_0x45cff0;try{const _0x4d264b=await _0x5b5755[_0x4508a5(0xd0)](),_0x48a074=await _0x5b5755[_0x4508a5(0xe3)](),_0x169e47={},_0x31d18d=Object[_0x4508a5(0xa5)](_0x48a074[_0x4508a5(0xd0)]()[_0x4508a5(0x17b)]),_0x554c5a={'product':exports[_0x4508a5(0x17f)](_0x31d18d),'capabilities':_0x31d18d,'platform':_0x4d264b[_0x4508a5(0x167)](),'platform_version':bsSetupHelper[_0x4508a5(0xd7)](_0x27194c[_0x4508a5(0xa3)](global['__cloud_provider___'],_0x27194c['rQVri'])),'browser':_0x4d264b[_0x4508a5(0xe5)](),'browser_version':_0x4d264b[_0x4508a5(0x14b)](),'session_id':_0x48a074['toJSON']()};global[_0x4508a5(0x85)]?_0x169e47[global[_0x4508a5(0x85)]]=_0x554c5a:_0x169e47[_0x27194c[_0x4508a5(0x106)]]=_0x554c5a;if(_0x2ab2d5)return _0x169e47;process[_0x4508a5(0x126)]('bs:addPlatformDetails:'+process['pid'],{'timestamp':new Date()[_0x4508a5(0x120)](),'level':null,'message':null,'kind':_0x27194c[_0x4508a5(0x179)],'http_response':_0x169e47,'uuid':_0x429de2});}catch(_0x1267ac){exports[_0x4508a5(0xe8)]('Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20'+_0x1267ac);}},exports['isInternalHook']=_0x32de38=>{const _0x161edc=a117_0x2fb6e5;return _0x32de38&&_0x32de38[_0x161edc(0xfb)]()['match'](/browserstack internal helper hook/);};