const a127_0x331435=a127_0x4d2c;(function(_0xd54f9a,_0x4ef2d9){const _0x4c3016=a127_0x4d2c,_0x4807c3=_0xd54f9a();while(!![]){try{const _0x29145c=parseInt(_0x4c3016(0x1a9))/0x1*(-parseInt(_0x4c3016(0x1a1))/0x2)+-parseInt(_0x4c3016(0x162))/0x3+-parseInt(_0x4c3016(0x11c))/0x4*(-parseInt(_0x4c3016(0x13b))/0x5)+parseInt(_0x4c3016(0x16d))/0x6+-parseInt(_0x4c3016(0x188))/0x7*(-parseInt(_0x4c3016(0x180))/0x8)+parseInt(_0x4c3016(0x221))/0x9*(-parseInt(_0x4c3016(0x204))/0xa)+-parseInt(_0x4c3016(0x1c3))/0xb*(-parseInt(_0x4c3016(0x122))/0xc);if(_0x29145c===_0x4ef2d9)break;else _0x4807c3['push'](_0x4807c3['shift']());}catch(_0x3bc8ae){_0x4807c3['push'](_0x4807c3['shift']());}}}(a127_0x9572,0xe977d));const fs=require('fs'),path=require(a127_0x331435(0x16b)),gitLastCommit=require(a127_0x331435(0x1b8)),getRepoInfo=require(a127_0x331435(0x138)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require(a127_0x331435(0x224)),https=require(a127_0x331435(0x1b4)),child_process=require(a127_0x331435(0x1e4)),getos=require(a127_0x331435(0x12b)),os=require('os'),logger=require('../logger')[a127_0x331435(0x202)],buildLogger=require(a127_0x331435(0x144))[a127_0x331435(0x165)],bsSetupHelper=require(a127_0x331435(0x1cb)),requestSpy=require('../../helpers/request-spy'),constants=require('../../bin/utils/constants'),logPatcher=require(a127_0x331435(0x178)),util=require(a127_0x331435(0x1be)),{fileLogger}=require(a127_0x331435(0x144)),PerformanceTester=require(a127_0x331435(0x21f)),{isFunction}=require(a127_0x331435(0x1f5)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a127_0x331435(0x160)),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require('../../../src/bin/utils/constants');function a127_0x9572(){const _0x44a7e2=['ulLaI','config','223092TBgaZv','execSync','BROWSERSTACK_TEST_OBSERVABILITY_YML','body','MEtek','pHhSm','TsZWR','platform','spy','getos','dist','Kkmbx','app','getCustomTags','MMvAy','@cucumber/cucumber','keepAlive','BROWSERSTACK_TEST_REPORTING','WROSO','json','sJUYp','null','git-repo-info','shouldReRunObservabilityTests','O11yHashedID','20IglwXg','ATS_HUB_URL_REGEX','browserstack','Content-Type','rCfyV','xLoOe','maxTotalSockets','unknown_grid','pid','../logger','BROWSERSTACK_RERUN_TESTS','ameGs','XPsed','turboScaleGridDetails','release','RjoIZ','expanded','VuWSX','RZkCD','TEST_REPORTING_ANALYTICS','npRSR','getUserName','PvRoq','][\x20','CzaeI','readConfig','undefined','BROWSERSTACK_CONFIG_FILE_PATH','VPlPq','lhyHW','toISOString','HTTP','TEST_ATTACHMENT','kpXSm','capabilities','anviO','browserstack_executor:\x20','../performance/constants','BROWSERSTACK_TEST_OBSERVABILITY','3500871bgWPyj','/builds/','^CUSTOM_TAG_\x5cd+$','buildLogger','KbBdt','nrTXb','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','rootDir','isTestObservabilitySession','path','AUVLe','2665932FdGPSi','split','OS\x20X','BROWSERSTACK_TESTHUB_JWT','LogCreated','bstack:options','VwBbo','Error\x20in\x20getting\x20Linux\x20Details','test_run_uuid','XUGxl','debug','../../bin/utils/logPatcher','VLzvX','message','extractValuesWithRegexKeyMatch','appium:app','parseFileNames','turboscale','LdBWE','824YraMjW','prefixTestPath','guSsf','IhCqJ','getSession','Failed\x20to\x20determine\x20product\x20linked\x20to\x20','MkaKL','env','51639LyMhHp','Asyov','CODECEPT_CUCUMBER','error','Unknown','getCapabilities','rIcHk','SKmnr','Dpqsh','nodeRequest','nPgSS','fromEntries','bIlsJ','QGXlT','failureData','map','getPlatform','printBuildLink','Agent','ivnbQ','cPDPl','forEach','hDsGC','then','jest','3518422ArsSeY','hHKNd','getBuildTags','windows-release','uJuAQ','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','removeAnsiColors','BaQLD','1isjpPd','isInternalHook','info','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','rEpCS','BROWSERSTACK_TEST_REPORTING_DEBUG','QQxMN','hczqg','trace','trim','catch','https','IaZWP','XRUPN','timeout','git-last-commit','getFrameworkVersion','true','WFunY','PRINT_BUILDLINK','toJSON','util','stack','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','win32','BROWSERSTACK_OBSERVABILITY_DEBUG','803fVhKLM','prefix','\x20:\x20','getPackageVersion','url','bs:addLog:','MKrnZ','parse','../helper','TEST_OBSERVABILITY_BUILD_TAG','BFezP','hSckV','host','getPlatformVersion','test','cCFbc','includes','darwin','isArray','PathHelper','zptpr','length','dpvye','silly','CUSTOM_TAG','X-BSTACK-TESTOPS','qDyxL','now','Linux','JEST','CUCUMBER','headers','BS_TESTOPS_BUILD_HASHED_ID','child_process','AKDDb','Windows','format','maxSockets','backtrace','\x20]\x20','TEST_PLATFORM','MbHSf','sleep','customTag','getUserCredentials','measureWrapper','DxQyO','EPcWR','qFJJD','oglPJ','lodash','nFDcs','relative','AXXUB','fileName','VLAJL','[%s][\x20','push','data','UXYVv','uznMI','formData','mocha','winstonLogger','getBrowserStackConfig','5427470ZgnfQf','getObservabilityLinkedProductName','MOCHA','emit','Authorization','toString','match','qxRjz','GZQrz','local_grid','Error\x20in\x20importing\x20windows-release\x20','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','hwiYr','modifyReqForTraceUpload','application/json','logs','asyncAwaitNodeReq','platformVersion','replace','bNZeO','DGpyB','jOOuA','object','Kkscr','PLAYWRIGHT','buildTag','default','../performance/performance-tester','keys','9JORhGd','platformName','MnngR','http','kPJlu','relativeTestFilePath','getDefaultHeaders','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','2|3|0|5|1|4','obHtQ','qFbca','puZfo','bdvNO','YJfnj','agent','TEST_REPORTING_BUILD_TAG','\x20]\x20Build\x20Not\x20Found\x20%s','isUndefined','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','UnhandledError','codeceptjs','__cloud_provider___','getBrowserVersion','cwd','Uploading\x20trace\x20logs\x20to:\x20','patchConsoleLogger','1863904ZEzJmE','Visit\x20','linux','rtoLY'];a127_0x9572=function(){return _0x44a7e2;};return a127_0x9572();}exports[a127_0x331435(0x1b1)]=_0x14f822=>{const _0x33287d=a127_0x331435;fileLogger[_0x33287d(0x1da)]('['+new Date()['toISOString']()+_0x33287d(0x152)+constants[_0x33287d(0x14e)]+_0x33287d(0x1ea)+_0x14f822);},exports['debug']=_0x376733=>{const _0x59a716=a127_0x331435,_0x3c91d7={};_0x3c91d7[_0x59a716(0x1fa)]=function(_0x49ae36,_0x4ed401){return _0x49ae36===_0x4ed401;},_0x3c91d7[_0x59a716(0x18f)]=_0x59a716(0x1ba),_0x3c91d7[_0x59a716(0x158)]=function(_0x2f8f0c,_0x56ee6d){return _0x2f8f0c===_0x56ee6d;},_0x3c91d7[_0x59a716(0x128)]=function(_0x2d5ab1,_0x156671){return _0x2d5ab1===_0x156671;};const _0x456c71=_0x3c91d7;fileLogger[_0x59a716(0x177)]('['+new Date()[_0x59a716(0x159)]()+_0x59a716(0x152)+constants[_0x59a716(0x14e)]+'\x20]\x20'+_0x376733),(_0x456c71[_0x59a716(0x1fa)](process[_0x59a716(0x187)]['BROWSERSTACK_TEST_REPORTING_DEBUG'],_0x456c71['SKmnr'])||_0x456c71['VLAJL'](process[_0x59a716(0x187)][_0x59a716(0x1ae)],'1')||_0x456c71[_0x59a716(0x158)](process[_0x59a716(0x187)][_0x59a716(0x1c2)],_0x456c71[_0x59a716(0x18f)])||_0x456c71[_0x59a716(0x128)](process['env'][_0x59a716(0x1c2)],'1'))&&consoleHolder['log']('\x0a['+new Date()['toISOString']()+_0x59a716(0x152)+constants['TEST_REPORTING_ANALYTICS']+_0x59a716(0x1ea)+_0x376733+'\x0a');};function a127_0x4d2c(_0x1ee238,_0x20e80c){const _0x957299=a127_0x9572();return a127_0x4d2c=function(_0x4d2cfc,_0x122c84){_0x4d2cfc=_0x4d2cfc-0x117;let _0x500a75=_0x957299[_0x4d2cfc];return _0x500a75;},a127_0x4d2c(_0x1ee238,_0x20e80c);}const a127_0x219058={};a127_0x219058[a127_0x331435(0x132)]=!![],a127_0x219058[a127_0x331435(0x1b7)]=0xea60,a127_0x219058[a127_0x331435(0x1e8)]=0x2,a127_0x219058[a127_0x331435(0x141)]=0x2;const httpKeepAliveAgent=new http[(a127_0x331435(0x19a))](a127_0x219058),a127_0x35e6ea={};a127_0x35e6ea['keepAlive']=!![],a127_0x35e6ea[a127_0x331435(0x1b7)]=0xea60,a127_0x35e6ea['maxSockets']=0x2,a127_0x35e6ea[a127_0x331435(0x141)]=0x2;const httpsKeepAliveAgent=new https['Agent'](a127_0x35e6ea),a127_0xbec725={};a127_0xbec725[a127_0x331435(0x132)]=!![],a127_0xbec725[a127_0x331435(0x1b7)]=0xea60,a127_0xbec725[a127_0x331435(0x1e8)]=0x2,a127_0xbec725[a127_0x331435(0x141)]=0x2;const httpScreenshotsKeepAliveAgent=new http['Agent'](a127_0xbec725),a127_0x25ec78={};a127_0x25ec78[a127_0x331435(0x132)]=!![],a127_0x25ec78[a127_0x331435(0x1b7)]=0xea60,a127_0x25ec78[a127_0x331435(0x1e8)]=0x2,a127_0x25ec78[a127_0x331435(0x141)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a127_0x331435(0x19a))](a127_0x25ec78);exports[a127_0x331435(0x139)]=()=>{const _0x3e6e40=a127_0x331435,_0x25c35d={};_0x25c35d[_0x3e6e40(0x17f)]=function(_0x5430fa,_0x9cded5){return _0x5430fa!==_0x9cded5;},_0x25c35d[_0x3e6e40(0x1ff)]=_0x3e6e40(0x137);const _0x5bc22b=_0x25c35d;return process['env'][_0x3e6e40(0x145)]&&_0x5bc22b['LdBWE'](process[_0x3e6e40(0x187)][_0x3e6e40(0x145)],_0x5bc22b[_0x3e6e40(0x1ff)])?!![]:![];},exports[a127_0x331435(0x16a)]=()=>{const _0x40da1b=a127_0x331435,_0x484bb2={};_0x484bb2[_0x40da1b(0x140)]=function(_0x188428,_0x1fbb05){return _0x188428===_0x1fbb05;},_0x484bb2['ulLaI']='true';const _0x585fb2=_0x484bb2;let _0x35e1e6=!![];return process[_0x40da1b(0x187)][_0x40da1b(0x124)]&&(_0x35e1e6=_0x585fb2['xLoOe'](process[_0x40da1b(0x187)][_0x40da1b(0x124)],_0x585fb2[_0x40da1b(0x120)])),process[_0x40da1b(0x187)][_0x40da1b(0x161)]&&(_0x35e1e6=_0x585fb2[_0x40da1b(0x140)](process[_0x40da1b(0x187)]['BROWSERSTACK_TEST_OBSERVABILITY'],_0x585fb2[_0x40da1b(0x120)])),process[_0x40da1b(0x187)][_0x40da1b(0x133)]&&(_0x35e1e6=_0x585fb2['xLoOe'](process[_0x40da1b(0x187)][_0x40da1b(0x133)],_0x585fb2['ulLaI'])),_0x35e1e6;},exports[a127_0x331435(0x17d)]=_0xf6a3ac=>{const _0x2be641=a127_0x331435;if(bsSetupHelper[_0x2be641(0x232)](_0xf6a3ac))return undefined;try{return _0xf6a3ac[_0x2be641(0x1b2)]()['split'](',');}catch(_0x39c56a){return undefined;}},exports[a127_0x331435(0x199)]=()=>{const _0x434d8e=a127_0x331435,_0x28e3c0={'KbBdt':function(_0x259455,_0x33e845){return _0x259455(_0x33e845);},'nrTXb':'../../bin/v2/browserstackCLI','anviO':function(_0x1b35f2,_0x294605){return _0x1b35f2!==_0x294605;},'nPgSS':_0x434d8e(0x137),'hSckV':function(_0x38690f,_0x4316fb){return _0x38690f!==_0x4316fb;},'VwBbo':_0x434d8e(0x155)};return PerformanceTester[_0x434d8e(0x1f0)](PerformanceO11yEvents[_0x434d8e(0x1bc)],async()=>{const _0x4747be=_0x434d8e;try{const _0x31760e=_0x28e3c0[_0x4747be(0x166)](require,_0x28e3c0[_0x4747be(0x167)]);if(_0x31760e[_0x4747be(0x13a)]){const _0x1ad90c=_0x4747be(0x11d)+O11Y_URL+_0x4747be(0x163)+_0x31760e[_0x4747be(0x13a)]+_0x4747be(0x20f);buildLogger[_0x4747be(0x1ab)](_0x1ad90c);return;}if(process[_0x4747be(0x187)]['BS_TESTOPS_BUILD_HASHED_ID']&&_0x28e3c0[_0x4747be(0x15e)](process[_0x4747be(0x187)][_0x4747be(0x1e3)],_0x28e3c0[_0x4747be(0x192)])&&_0x28e3c0[_0x4747be(0x1ce)](process[_0x4747be(0x187)]['BS_TESTOPS_BUILD_HASHED_ID'],_0x28e3c0[_0x4747be(0x173)])){const _0x3a68c1=_0x4747be(0x11d)+constants['O11Y_URL']+_0x4747be(0x163)+process[_0x4747be(0x187)]['BS_TESTOPS_BUILD_HASHED_ID']+_0x4747be(0x20f);buildLogger[_0x4747be(0x1ab)](_0x3a68c1);}}catch(_0x38a923){logger['error'](util[_0x4747be(0x1e7)](_0x4747be(0x1fb)+constants[_0x4747be(0x14e)]+_0x4747be(0x231),new Date()['toISOString'](),_0x38a923[_0x4747be(0x1bf)]||_0x38a923['message']||_0x38a923));}})();},exports['getFailureType']=_0x22aad7=>{const _0x4b8b6d=a127_0x331435,_0x3a6fbd={};_0x3a6fbd[_0x4b8b6d(0x1bb)]='AssertionError',_0x3a6fbd[_0x4b8b6d(0x179)]=_0x4b8b6d(0x234);const _0x34bbbf=_0x3a6fbd;if(!_0x22aad7)return null;return _0x22aad7[_0x4b8b6d(0x209)]()[_0x4b8b6d(0x20a)](/AssertionError/)?_0x34bbbf['WFunY']:_0x34bbbf['VLzvX'];},exports[a127_0x331435(0x1b9)]=_0x31ccda=>{const _0xcf7c12=a127_0x331435,_0x5352fe={};_0x5352fe[_0xcf7c12(0x1a8)]=_0xcf7c12(0x201),_0x5352fe[_0xcf7c12(0x1dd)]='@playwright/test',_0x5352fe['HpHjI']=_0xcf7c12(0x235),_0x5352fe[_0xcf7c12(0x219)]=_0xcf7c12(0x1a0),_0x5352fe['gQZRk']=_0xcf7c12(0x131);const _0x3a9457=_0x5352fe;let _0x105a4e=null;switch(_0x31ccda){case FRAMEWORKS[_0xcf7c12(0x206)]:_0x105a4e=bsSetupHelper['getPackageVersion'](_0x3a9457[_0xcf7c12(0x1a8)]);break;case FRAMEWORKS[_0xcf7c12(0x21c)]:_0x105a4e=bsSetupHelper[_0xcf7c12(0x1c6)](_0x3a9457[_0xcf7c12(0x1dd)]);break;case FRAMEWORKS['CODECEPT']:case FRAMEWORKS[_0xcf7c12(0x18a)]:_0x105a4e=bsSetupHelper[_0xcf7c12(0x1c6)](_0x3a9457['HpHjI']);break;case FRAMEWORKS[_0xcf7c12(0x1e0)]:_0x105a4e=bsSetupHelper[_0xcf7c12(0x1c6)](_0x3a9457[_0xcf7c12(0x219)]);break;case FRAMEWORKS[_0xcf7c12(0x1e1)]:_0x105a4e=bsSetupHelper[_0xcf7c12(0x1c6)](_0x3a9457['gQZRk']);break;default:break;}return _0x105a4e;},exports[a127_0x331435(0x203)]=_0x4c90eb=>{const _0xd61e8f=a127_0x331435;let _0x1f13b1=null;switch(_0x4c90eb){case FRAMEWORKS['PLAYWRIGHT']:_0x1f13b1=process[_0xd61e8f(0x187)][_0xd61e8f(0x156)];break;}if(!_0x1f13b1)return;return bsSetupHelper[_0xd61e8f(0x154)](_0x1f13b1,![]);},exports[a127_0x331435(0x1ef)]=_0x50d908=>{const _0xf9287f=a127_0x331435;return{'username':bsSetupHelper[_0xf9287f(0x150)](_0x50d908),'accessKey':bsSetupHelper['getAccessKey'](_0x50d908)};},exports[a127_0x331435(0x211)]=(_0x5f56d1,_0x27e00e)=>{const _0xfc5cbb=a127_0x331435,_0x3c19c3={};_0x3c19c3[_0xfc5cbb(0x1ad)]=_0xfc5cbb(0x229),_0x3c19c3[_0xfc5cbb(0x22d)]=_0xfc5cbb(0x171),_0x3c19c3[_0xfc5cbb(0x20b)]=_0xfc5cbb(0x15b);const _0x4a2ca5=_0x3c19c3,_0x180f1f=_0x4a2ca5[_0xfc5cbb(0x1ad)][_0xfc5cbb(0x16e)]('|');let _0x32ae54=0x0;while(!![]){switch(_0x180f1f[_0x32ae54++]){case'0':_0x5f56d1[_0xfc5cbb(0x200)]={'data':_0x5f56d1[_0xfc5cbb(0x125)][0x0][_0xfc5cbb(0x213)][0x0][_0xfc5cbb(0x1fd)],'test_run_uuid':_0x5f56d1['body'][0x0]['logs'][0x0][_0xfc5cbb(0x175)],'event_type':_0x4a2ca5[_0xfc5cbb(0x22d)],'kind':_0x4a2ca5['qxRjz'],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0xfc5cbb(0x159)](),'fileName':_0x5f56d1[_0xfc5cbb(0x125)][0x0][_0xfc5cbb(0x213)][0x0][_0xfc5cbb(0x1f9)]};continue;case'1':delete _0x5f56d1[_0xfc5cbb(0x135)];continue;case'2':if(!_0x5f56d1[_0xfc5cbb(0x125)]||!Array[_0xfc5cbb(0x1d5)](_0x5f56d1[_0xfc5cbb(0x125)]))return;continue;case'3':if(!_0x5f56d1[_0xfc5cbb(0x125)][0x0]||!_0x5f56d1['body'][0x0][_0xfc5cbb(0x213)]||!_0x5f56d1[_0xfc5cbb(0x125)][0x0]['logs'][_0xfc5cbb(0x1d8)])return;continue;case'4':delete _0x27e00e['headers'];continue;case'5':delete _0x5f56d1[_0xfc5cbb(0x125)];continue;}break;}},exports[a127_0x331435(0x214)]=async(_0x16e0f3,_0xc46c20,_0x278a9d,_0x12f2fb,_0x30030d=!![])=>{const _0x351303=a127_0x331435,_0x54e011={};_0x54e011[_0x351303(0x16c)]=function(_0xf2080f,_0x19edc6){return _0xf2080f===_0x19edc6;},_0x54e011['oglPJ']='Content-Type',_0x54e011[_0x351303(0x1a2)]=_0x351303(0x212),_0x54e011[_0x351303(0x1d9)]=_0x351303(0x1b4),_0x54e011[_0x351303(0x14d)]=function(_0x2d32cf,_0x6be9f9){return _0x2d32cf!==_0x6be9f9;},_0x54e011[_0x351303(0x1f3)]=_0x351303(0x21a),_0x54e011[_0x351303(0x22b)]='Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s';const _0x352d92=_0x54e011,_0x4b040b={..._0x12f2fb,...{'method':_0x16e0f3,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0xc46c20,'body':_0x278a9d,'json':_0x352d92[_0x351303(0x16c)](_0x12f2fb[_0x351303(0x1e2)][_0x352d92[_0x351303(0x1f4)]],_0x352d92['hHKNd']),'agent':API_URL[_0x351303(0x1d3)](_0x352d92[_0x351303(0x1d9)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x352d92[_0x351303(0x16c)](_0xc46c20,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x4b040b[_0x351303(0x22f)]=API_URL[_0x351303(0x1d3)](_0x352d92[_0x351303(0x1d9)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x351303(0x211)](_0x4b040b,_0x12f2fb),logger['debug'](_0x351303(0x11a)+_0x4b040b[_0x351303(0x1c7)]));try{const {statusCode:_0x23cacc,body:_0x4c3751}=await bsSetupHelper[_0x351303(0x191)](_0x16e0f3,_0xc46c20,_0x4b040b,_0x12f2fb,_0x4b040b[_0x351303(0x1c7)]);if(_0x352d92[_0x351303(0x14d)](_0x23cacc,0xc8))return _0x4c3751?_0x4c3751:'Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20'+_0x23cacc;let _0x4e616c=_0x4c3751;if(_0x30030d)try{_0x352d92[_0x351303(0x14d)](typeof _0x4c3751,_0x352d92[_0x351303(0x1f3)])&&(_0x4e616c=JSON['parse'](_0x4c3751));}catch(_0x461bdf){logger[_0x351303(0x18b)](_0x352d92[_0x351303(0x22b)],_0x4c3751,util['format'](_0x461bdf));}const _0x5d44e0={};return _0x5d44e0[_0x351303(0x1fd)]=_0x4e616c,_0x5d44e0;}catch(_0x15b54f){logger[_0x351303(0x18b)](_0x351303(0x233)+util[_0x351303(0x1e7)](_0x15b54f));throw _0x15b54f;}},exports['nodeRequest']=(_0x4ee6e4,_0x3e2376,_0x34e605,_0x2e6ab8,_0x34dbdf=!![])=>{const _0xc1e6bd=a127_0x331435,_0x3bf2ec={'YJfnj':function(_0x4b1c22,_0x4a9528){return _0x4b1c22(_0x4a9528);},'GZQrz':function(_0x3f46c4,_0x161e10){return _0x3f46c4!==_0x161e10;},'cPDPl':function(_0x1b5c7a,_0x4eaed3){return _0x1b5c7a(_0x4eaed3);},'hDsGC':'object','puZfo':_0xc1e6bd(0x1c0),'MnngR':function(_0x5ac64a,_0x31a30a){return _0x5ac64a===_0x31a30a;},'XPsed':'Content-Type','pHhSm':_0xc1e6bd(0x212),'Kkmbx':_0xc1e6bd(0x1b4)};return new Promise((_0x249349,_0x2ff609)=>{const _0xdaf30b=_0xc1e6bd,_0x242d76={'RjoIZ':function(_0x503e45,_0x1fac35){const _0x1418c4=a127_0x4d2c;return _0x3bf2ec[_0x1418c4(0x20c)](_0x503e45,_0x1fac35);},'rCfyV':function(_0x51499f,_0x52e5bc){const _0x2ffa9b=a127_0x4d2c;return _0x3bf2ec[_0x2ffa9b(0x19c)](_0x51499f,_0x52e5bc);},'rtoLY':function(_0x5683e8,_0x466a94){return _0x3bf2ec['GZQrz'](_0x5683e8,_0x466a94);},'rIcHk':_0x3bf2ec[_0xdaf30b(0x19e)],'onvYF':_0x3bf2ec[_0xdaf30b(0x22c)]},_0x2e99e4={..._0x2e6ab8,...{'method':_0x4ee6e4,'url':API_URL+'/'+_0x3e2376,'body':_0x34e605,'json':_0x3bf2ec[_0xdaf30b(0x223)](_0x2e6ab8[_0xdaf30b(0x1e2)][_0x3bf2ec[_0xdaf30b(0x147)]],_0x3bf2ec[_0xdaf30b(0x127)]),'agent':API_URL[_0xdaf30b(0x1d3)](_0x3bf2ec[_0xdaf30b(0x12d)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x3bf2ec[_0xdaf30b(0x223)](_0x3e2376,SCREENSHOT_ENDPOINT)&&(_0x2e99e4[_0xdaf30b(0x22f)]=API_URL['includes'](_0x3bf2ec['Kkmbx'])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0xdaf30b(0x191)](_0x4ee6e4,_0x3e2376,_0x2e99e4,_0x2e6ab8,API_URL)[_0xdaf30b(0x19f)](({statusCode:_0x79fe3a,body:_0x39dd4b})=>{const _0x450aa2=_0xdaf30b;if(_0x242d76[_0x450aa2(0x14a)](_0x79fe3a,0xc8))_0x242d76[_0x450aa2(0x13f)](_0x2ff609,_0x39dd4b?_0x39dd4b:_0x450aa2(0x228)+_0x79fe3a);else{if(_0x34dbdf)try{_0x242d76[_0x450aa2(0x11f)](typeof _0x39dd4b,_0x242d76[_0x450aa2(0x18e)])&&(_0x39dd4b=JSON[_0x450aa2(0x1ca)](_0x39dd4b));}catch(_0x27ad44){_0x242d76['rCfyV'](_0x2ff609,_0x242d76['onvYF']);return;}const _0x10405a={};_0x10405a['data']=_0x39dd4b,_0x242d76[_0x450aa2(0x13f)](_0x249349,_0x10405a);}})[_0xdaf30b(0x1b3)](_0x3c71b8=>{const _0x2f2327=_0xdaf30b;_0x3c71b8&&_0x3bf2ec[_0x2f2327(0x22e)](_0x2ff609,_0x3c71b8);});});},exports[a127_0x331435(0x1a3)]=_0x30de35=>{const _0x109dc5=a127_0x331435;if(process[_0x109dc5(0x187)][_0x109dc5(0x230)])return process[_0x109dc5(0x187)][_0x109dc5(0x230)][_0x109dc5(0x16e)](',');if(process[_0x109dc5(0x187)][_0x109dc5(0x1cc)])return process[_0x109dc5(0x187)][_0x109dc5(0x1cc)][_0x109dc5(0x16e)](',');if(_0x30de35[_0x109dc5(0x21d)])return _0x30de35[_0x109dc5(0x21d)];return[];},exports[a127_0x331435(0x227)]=(_0x5bb313=!![])=>{const _0x50e62e=a127_0x331435,_0x48c174={};_0x48c174['VuWSX']=_0x50e62e(0x212),_0x48c174[_0x50e62e(0x1e5)]=_0x50e62e(0x1ba),_0x48c174[_0x50e62e(0x19b)]=_0x50e62e(0x208);const _0x57546b=_0x48c174,_0x268bf6={};_0x268bf6[_0x50e62e(0x13e)]=_0x57546b[_0x50e62e(0x14c)],_0x268bf6[_0x50e62e(0x1dc)]=_0x57546b[_0x50e62e(0x1e5)];const _0x281d28=_0x268bf6;return _0x5bb313&&process[_0x50e62e(0x187)][_0x50e62e(0x170)]&&(_0x281d28[_0x57546b[_0x50e62e(0x19b)]]='Bearer\x20'+process[_0x50e62e(0x187)][_0x50e62e(0x170)]),_0x281d28;},exports['extractValuesWithRegexKeyMatch']=_0x1209fb=>{const _0xbf7930=a127_0x331435,_0x1c1ddb={};_0x1c1ddb[_0xbf7930(0x1af)]=_0xbf7930(0x164);const _0x1986a8=_0x1c1ddb,_0x5b8eab=[],_0x11ce0e=new RegExp(_0x1986a8[_0xbf7930(0x1af)],'i');return Object['keys'](_0x1209fb)['filter'](_0x14c5f7=>_0x11ce0e[_0xbf7930(0x1d1)](_0x14c5f7))['forEach'](_0x4d59c5=>_0x5b8eab[_0xbf7930(0x1fc)](_0x1209fb[_0x4d59c5])),_0x5b8eab;},exports[a127_0x331435(0x12f)]=_0x74543f=>{const _0x20adda=a127_0x331435,_0x2e2852=[],_0x5ae246=_0x74543f[_0x20adda(0x1ee)]||process[_0x20adda(0x187)][_0x20adda(0x1db)];return _0x5ae246&&_0x2e2852[_0x20adda(0x1fc)](_0x5ae246),_0x2e2852[_0x20adda(0x1fc)](...exports['extractValuesWithRegexKeyMatch'](process[_0x20adda(0x187)])),_0x2e2852['push'](...exports[_0x20adda(0x17b)](_0x74543f)),_0x2e2852;},exports[a127_0x331435(0x1a7)]=_0x37ece1=>{const _0x2a6a8b=a127_0x331435;if(!_0x37ece1)return'';return _0x37ece1[_0x2a6a8b(0x216)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a127_0x331435(0x1ed)]=(_0x2ac7c2=0x64)=>new Promise(_0x3bd48f=>setTimeout(_0x3bd48f,_0x2ac7c2));const getPlatformName=()=>{const _0x44c986=a127_0x331435,_0x5d1134={};_0x5d1134[_0x44c986(0x153)]=function(_0x29efd2,_0x1c92d1){return _0x29efd2===_0x1c92d1;},_0x5d1134[_0x44c986(0x136)]=_0x44c986(0x1c1),_0x5d1134[_0x44c986(0x210)]=_0x44c986(0x1e6),_0x5d1134[_0x44c986(0x14f)]=function(_0x334144,_0x130290){return _0x334144===_0x130290;},_0x5d1134[_0x44c986(0x186)]=_0x44c986(0x1d4),_0x5d1134[_0x44c986(0x1f6)]=_0x44c986(0x16f),_0x5d1134['BFezP']=function(_0x296aa4,_0x1e2823){return _0x296aa4===_0x1e2823;},_0x5d1134[_0x44c986(0x1f1)]=_0x44c986(0x11e),_0x5d1134[_0x44c986(0x217)]=_0x44c986(0x1df),_0x5d1134[_0x44c986(0x1d7)]=_0x44c986(0x18c);const _0x58d66a=_0x5d1134;if(_0x58d66a[_0x44c986(0x153)](process['platform'],_0x58d66a['sJUYp']))return _0x58d66a[_0x44c986(0x210)];if(_0x58d66a['npRSR'](process[_0x44c986(0x129)],_0x58d66a[_0x44c986(0x186)]))return _0x58d66a['nFDcs'];if(_0x58d66a[_0x44c986(0x1cd)](process['platform'],_0x58d66a['DxQyO']))return _0x58d66a[_0x44c986(0x217)];return _0x58d66a['zptpr'];},getMacOSVersion=()=>{const _0x377a8a=a127_0x331435,_0x29100a={};_0x29100a[_0x377a8a(0x126)]=_0x377a8a(0x1ac);const _0x11671a=_0x29100a;return child_process[_0x377a8a(0x123)](_0x11671a[_0x377a8a(0x126)])[_0x377a8a(0x209)]()[_0x377a8a(0x1b2)]();},getLinuxDetails=()=>{const _0x5ef603={'XRUPN':function(_0x3ec0f2,_0x1ce9e1){return _0x3ec0f2(_0x1ce9e1);},'CgGyw':function(_0x425706,_0x588ff2){return _0x425706(_0x588ff2);},'Dpqsh':function(_0x72d286,_0x566a43){return _0x72d286(_0x566a43);}};return new Promise((_0x319e75,_0x53257e)=>{const _0x37d41c=a127_0x4d2c;_0x5ef603[_0x37d41c(0x190)](getos,(_0x26ced8,_0x57af28)=>{const _0x358612=_0x37d41c;if(_0x26ced8)return _0x5ef603[_0x358612(0x1b6)](_0x53257e,_0x26ced8);_0x5ef603['CgGyw'](_0x319e75,_0x57af28);});});};exports['getPlatformDetails']=async()=>{const _0x8f9dc3=a127_0x331435,_0x2d9e56={'cCFbc':function(_0x550960){return _0x550960();},'mzHFx':_0x8f9dc3(0x16f),'wHWHL':_0x8f9dc3(0x1e6),'kNitX':_0x8f9dc3(0x1a4),'vFrdO':'Linux','MbHSf':_0x8f9dc3(0x174)};let _0x5a4873=_0x2d9e56[_0x8f9dc3(0x1d2)](getPlatformName),_0x15d490=os[_0x8f9dc3(0x149)]()[_0x8f9dc3(0x209)]();switch(_0x5a4873){case _0x2d9e56['mzHFx']:_0x15d490=_0x2d9e56[_0x8f9dc3(0x1d2)](getMacOSVersion);break;case _0x2d9e56['wHWHL']:try{const _0x4587aa=(await import(_0x2d9e56['kNitX']))[_0x8f9dc3(0x21e)];_0x15d490=_0x2d9e56[_0x8f9dc3(0x1d2)](_0x4587aa);}catch(_0x5e4890){exports['debug'](_0x8f9dc3(0x20e)+_0x5e4890[_0x8f9dc3(0x209)]());}break;case _0x2d9e56['vFrdO']:try{const _0x1aab39=await _0x2d9e56[_0x8f9dc3(0x1d2)](getLinuxDetails);_0x1aab39[_0x8f9dc3(0x12c)]&&(_0x5a4873=_0x1aab39['dist']),_0x1aab39[_0x8f9dc3(0x149)]&&(_0x15d490=_0x1aab39[_0x8f9dc3(0x149)]['toString']());}catch(_0x500268){exports[_0x8f9dc3(0x177)](_0x2d9e56[_0x8f9dc3(0x1ec)]);}break;default:break;}const _0x40144c={};return _0x40144c[_0x8f9dc3(0x222)]=_0x5a4873,_0x40144c[_0x8f9dc3(0x215)]=_0x15d490,_0x40144c;},exports[a127_0x331435(0x196)]=(_0x2f573a,_0xe961c2)=>{const _0x205f72=a127_0x331435,_0x29c0f2={};_0x29c0f2[_0x205f72(0x22a)]=function(_0x276eac,_0x25730e){return _0x276eac===_0x25730e;},_0x29c0f2['WROSO']=_0x205f72(0x1d1),_0x29c0f2['Kkscr']=function(_0x1df940,_0x2b6b0f){return _0x1df940===_0x2b6b0f;},_0x29c0f2['MKrnZ']='err';const _0x15b476=_0x29c0f2;if(!_0x2f573a)return[];try{if(_0x15b476[_0x205f72(0x22a)](_0xe961c2,_0x15b476[_0x205f72(0x134)]))return _0x2f573a['map'](_0x39e232=>{const _0x4060e1=_0x205f72,{stack:_0xfb6baf,..._0x25a0ab}=_0x39e232,_0x3e3940=Object[_0x4060e1(0x220)](_0x25a0ab)[_0x4060e1(0x197)](_0x1709b0=>{return _0x1709b0+':\x20'+_0x25a0ab[_0x1709b0];}),_0x172876=_0xfb6baf?exports[_0x4060e1(0x1a7)](_0xfb6baf)['split'](/\r?\n/):[exports[_0x4060e1(0x1a7)](_0x39e232[_0x4060e1(0x17a)])],_0x4b3d80={};return _0x4b3d80[_0x4060e1(0x1e9)]=_0x172876,_0x4b3d80[_0x4060e1(0x14b)]=_0x3e3940,_0x4b3d80;});else{if(_0x15b476[_0x205f72(0x21b)](_0xe961c2,_0x15b476[_0x205f72(0x1c9)])){const _0x429e7e=[],_0x863018=[];return Object[_0x205f72(0x220)](_0x2f573a)[_0x205f72(0x19d)](_0x1e7f4e=>{const _0x468949=_0x205f72;try{_0x863018[_0x468949(0x1fc)](_0x1e7f4e+':\x20'+_0x2f573a[_0x1e7f4e]);}catch(_0x5d9261){exports[_0x468949(0x177)](_0x468949(0x168)+_0x5d9261[_0x468949(0x17a)]+_0x468949(0x1c5)+_0x5d9261[_0x468949(0x1e9)]);}}),_0x429e7e[_0x205f72(0x1fc)]({'backtrace':exports[_0x205f72(0x1a7)](_0x2f573a[_0x205f72(0x1bf)])['split'](/\r?\n/),'expanded':_0x863018}),_0x429e7e;}}return[];}catch(_0x1c3c03){exports[_0x205f72(0x177)](_0x205f72(0x168)+_0x1c3c03[_0x205f72(0x17a)]+'\x20:\x20'+_0x1c3c03['backtrace']);}return[];};class PathHelper{constructor(_0x562864,_0x36ba3a){const _0x34c6ea=a127_0x331435;this['config']=_0x562864,this[_0x34c6ea(0x1c4)]=_0x36ba3a;}[a127_0x331435(0x226)](_0x4b956b){const _0x156965=a127_0x331435,_0xb501a0=this['config'][_0x156965(0x119)]||this[_0x156965(0x121)][_0x156965(0x169)];return path[_0x156965(0x1f7)](_0xb501a0,_0x4b956b);}[a127_0x331435(0x181)](_0x3d0fd4){const _0x4e2c77=a127_0x331435,_0x28b4db=this[_0x4e2c77(0x226)](_0x3d0fd4);return this[_0x4e2c77(0x1c4)]?path['join'](this[_0x4e2c77(0x1c4)],_0x28b4db):_0x28b4db;}}exports[a127_0x331435(0x1d6)]=PathHelper,exports['addRequestSpy']=(_0x41a126=!![])=>{const _0x32a015=a127_0x331435,_0x17cde2={};_0x17cde2[_0x32a015(0x146)]=function(_0xe592a2,_0x37a5e1){return _0xe592a2===_0x37a5e1;},_0x17cde2['guSsf']=_0x32a015(0x1dc),_0x17cde2[_0x32a015(0x1f2)]=_0x32a015(0x1ba),_0x17cde2['ZyqLC']=_0x32a015(0x15a),_0x17cde2[_0x32a015(0x151)]='browserstack',_0x17cde2['QGXlT']=_0x32a015(0x20d);const _0x4ee707=_0x17cde2;requestSpy[_0x32a015(0x12a)]((_0xbb512e,_0xc18531)=>{const _0x578834=_0x32a015;_0xc18531&&!(_0xc18531[_0x578834(0x1e2)]&&_0x4ee707['ameGs'](_0xc18531[_0x578834(0x1e2)][_0x4ee707[_0x578834(0x182)]],_0x4ee707['EPcWR']))&&(_0xc18531['host']=_0xc18531['hostname'],delete _0xc18531['hostname'],_0x41a126&&process[_0x578834(0x207)](_0x578834(0x1c8)+process[_0x578834(0x143)],{'timestamp':new Date()[_0x578834(0x159)](),'level':null,'message':null,'kind':_0x4ee707['ZyqLC'],'http_response':_0xc18531})),_0xc18531&&(constants['HUB_URL_REGEX'][_0x578834(0x1d1)](_0xc18531['host'])||constants[_0x578834(0x13c)][_0x578834(0x1d1)](_0xc18531[_0x578834(0x1cf)]))?global[_0x578834(0x117)]=_0x4ee707[_0x578834(0x151)]:global[_0x578834(0x117)]=_0x4ee707[_0x578834(0x195)];});},exports[a127_0x331435(0x11b)]=()=>{const _0x13ac96=a127_0x331435,_0x29f0d0={'IhCqJ':function(_0x158e7b,_0x5416cd){return _0x158e7b(_0x5416cd);}};console={},Object[_0x13ac96(0x220)](consoleHolder)[_0x13ac96(0x19d)](_0x5051d2=>{const _0x526a0b=_0x13ac96;_0x29f0d0[_0x526a0b(0x183)](isFunction,consoleHolder[_0x5051d2])?console[_0x5051d2]=(..._0x31b50d)=>{const _0x1faa48=_0x526a0b;try{!Object[_0x1faa48(0x220)](BSTestOpsPatcher)[_0x1faa48(0x1d3)](_0x5051d2)?consoleHolder[_0x5051d2](..._0x31b50d):BSTestOpsPatcher[_0x5051d2](..._0x31b50d);}catch(_0x5dcae0){consoleHolder[_0x5051d2](..._0x31b50d);}}:console[_0x5051d2]=consoleHolder[_0x5051d2];});},exports['getSyncScript']=()=>a127_0x331435(0x15f)+JSON['stringify']({'action':'annotate','arguments':{'data':'ObservabilitySync:'+Date[a127_0x331435(0x1de)](),'level':a127_0x331435(0x177)}}),exports[a127_0x331435(0x205)]=_0x590c1=>{const _0x3bbed1=a127_0x331435,_0x456188={};_0x456188['kPJlu']=function(_0x57e73b,_0x5c728b){return _0x57e73b===_0x5c728b;},_0x456188[_0x3bbed1(0x1a5)]=_0x3bbed1(0x13d),_0x456188[_0x3bbed1(0x194)]=_0x3bbed1(0x17c),_0x456188[_0x3bbed1(0x1fe)]=_0x3bbed1(0x12e),_0x456188[_0x3bbed1(0x157)]=function(_0x1d79a3,_0x35f384){return _0x1d79a3>_0x35f384;},_0x456188[_0x3bbed1(0x15c)]='app-automate',_0x456188[_0x3bbed1(0x1f8)]=_0x3bbed1(0x172),_0x456188[_0x3bbed1(0x189)]=_0x3bbed1(0x148),_0x456188['IaZWP']=_0x3bbed1(0x17e),_0x456188['DGpyB']='automate';const _0x5226bb=_0x456188;let _0xefcdd1=null;try{if(_0x5226bb[_0x3bbed1(0x225)](global['__cloud_provider___'],_0x5226bb[_0x3bbed1(0x1a5)])){if(_0x590c1[_0x5226bb[_0x3bbed1(0x194)]]||_0x590c1[_0x5226bb['UXYVv']]||!bsSetupHelper[_0x3bbed1(0x232)](global[_0x3bbed1(0x15d)])&&_0x5226bb['VPlPq'](global['capabilities'][_0x3bbed1(0x1d8)],0x0)&&(global[_0x3bbed1(0x15d)][0x0][_0x5226bb[_0x3bbed1(0x1fe)]]||global[_0x3bbed1(0x15d)][0x0][_0x5226bb[_0x3bbed1(0x194)]]))_0xefcdd1=_0x5226bb['kpXSm'];else _0x590c1[_0x5226bb[_0x3bbed1(0x1f8)]]&&_0x590c1[_0x5226bb[_0x3bbed1(0x1f8)]][_0x5226bb[_0x3bbed1(0x189)]]?_0xefcdd1=_0x5226bb[_0x3bbed1(0x1b5)]:_0xefcdd1=_0x5226bb[_0x3bbed1(0x218)];}}catch(_0x558a7d){exports[_0x3bbed1(0x177)](_0x3bbed1(0x185)+constants[_0x3bbed1(0x14e)]+'\x20test\x20instance\x20:\x20'+_0x558a7d);}return _0xefcdd1;},exports['sendPlatformDetails']=async(_0x322ae3,_0x4f962c,_0xcb585e=![])=>{const _0x18bc6a=a127_0x331435,_0x2f70b3={};_0x2f70b3['MMvAy']=function(_0x3280a6,_0x4c2017){return _0x3280a6===_0x4c2017;},_0x2f70b3[_0x18bc6a(0x176)]=_0x18bc6a(0x13d),_0x2f70b3['ZjwHn']=_0x18bc6a(0x142),_0x2f70b3[_0x18bc6a(0x1b0)]=_0x18bc6a(0x1eb);const _0x282b03=_0x2f70b3;try{const _0x35a770=await _0x322ae3[_0x18bc6a(0x18d)](),_0x582b98=await _0x322ae3[_0x18bc6a(0x184)](),_0x10dffa={},_0x4d426d=Object[_0x18bc6a(0x193)](_0x582b98['getCapabilities']()['map_']),_0x57c406={'product':exports[_0x18bc6a(0x205)](_0x4d426d),'capabilities':_0x4d426d,'platform':_0x35a770[_0x18bc6a(0x198)](),'platform_version':bsSetupHelper[_0x18bc6a(0x1d0)](_0x282b03[_0x18bc6a(0x130)](global[_0x18bc6a(0x117)],_0x282b03['XUGxl'])),'browser':_0x35a770['getBrowserName'](),'browser_version':_0x35a770[_0x18bc6a(0x118)](),'session_id':_0x582b98[_0x18bc6a(0x1bd)]()};global[_0x18bc6a(0x117)]?_0x10dffa[global['__cloud_provider___']]=_0x57c406:_0x10dffa[_0x282b03['ZjwHn']]=_0x57c406;if(_0xcb585e)return _0x10dffa;process[_0x18bc6a(0x207)]('bs:addPlatformDetails:'+process[_0x18bc6a(0x143)],{'timestamp':new Date()[_0x18bc6a(0x159)](),'level':null,'message':null,'kind':_0x282b03['hczqg'],'http_response':_0x10dffa,'uuid':_0x4f962c});}catch(_0x3de0cf){exports[_0x18bc6a(0x177)](_0x18bc6a(0x1a6)+_0x3de0cf);}},exports[a127_0x331435(0x1aa)]=_0x173127=>{const _0xd90b5c=a127_0x331435;return _0x173127&&_0x173127[_0xd90b5c(0x209)]()[_0xd90b5c(0x20a)](/browserstack internal helper hook/);};