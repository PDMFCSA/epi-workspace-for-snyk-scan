const a117_0x1b42eb=a117_0x35ea;(function(_0x5fb12d,_0x53fd1f){const _0x2cec7b=a117_0x35ea,_0x4be4e7=_0x5fb12d();while(!![]){try{const _0x5aa650=-parseInt(_0x2cec7b(0x12d))/0x1*(-parseInt(_0x2cec7b(0x120))/0x2)+parseInt(_0x2cec7b(0x11d))/0x3*(parseInt(_0x2cec7b(0x8b))/0x4)+-parseInt(_0x2cec7b(0x13e))/0x5*(parseInt(_0x2cec7b(0x97))/0x6)+parseInt(_0x2cec7b(0x9c))/0x7*(-parseInt(_0x2cec7b(0x17e))/0x8)+parseInt(_0x2cec7b(0x17f))/0x9*(parseInt(_0x2cec7b(0xad))/0xa)+-parseInt(_0x2cec7b(0xa1))/0xb*(-parseInt(_0x2cec7b(0x178))/0xc)+parseInt(_0x2cec7b(0x134))/0xd;if(_0x5aa650===_0x53fd1f)break;else _0x4be4e7['push'](_0x4be4e7['shift']());}catch(_0x2f38b){_0x4be4e7['push'](_0x4be4e7['shift']());}}}(a117_0xedd6,0x54f3a));const fs=require('fs'),path=require(a117_0x1b42eb(0xef)),gitLastCommit=require(a117_0x1b42eb(0x179)),getRepoInfo=require(a117_0x1b42eb(0x126)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require(a117_0x1b42eb(0x158)),https=require('https'),child_process=require(a117_0x1b42eb(0xe2)),getos=require(a117_0x1b42eb(0x12a)),os=require('os'),logger=require(a117_0x1b42eb(0xe0))[a117_0x1b42eb(0xa4)],bsSetupHelper=require('../helper'),requestSpy=require(a117_0x1b42eb(0x11e)),constants=require('../../bin/utils/constants'),logPatcher=require(a117_0x1b42eb(0x141)),util=require(a117_0x1b42eb(0x12c)),{fileLogger}=require(a117_0x1b42eb(0xe0)),PerformanceTester=require(a117_0x1b42eb(0xf3)),{isFunction}=require(a117_0x1b42eb(0x12f)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require('../performance/constants'),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require(a117_0x1b42eb(0xde));exports['trace']=_0x44da27=>{const _0x26472c=a117_0x1b42eb;fileLogger[_0x26472c(0x14a)]('['+new Date()['toISOString']()+'][\x20OBSERVABILITY\x20]\x20'+_0x44da27);},exports[a117_0x1b42eb(0xd8)]=_0x180936=>{const _0x6f0732=a117_0x1b42eb,_0x1b5d92={};_0x1b5d92[_0x6f0732(0xe3)]=function(_0x3bb619,_0x676789){return _0x3bb619===_0x676789;},_0x1b5d92[_0x6f0732(0x168)]=_0x6f0732(0x16c);const _0x2b41aa=_0x1b5d92;fileLogger[_0x6f0732(0xd8)]('['+new Date()[_0x6f0732(0xec)]()+_0x6f0732(0x105)+_0x180936),(_0x2b41aa[_0x6f0732(0xe3)](process['env'][_0x6f0732(0x82)],_0x2b41aa[_0x6f0732(0x168)])||_0x2b41aa[_0x6f0732(0xe3)](process[_0x6f0732(0x14d)][_0x6f0732(0x82)],'1'))&&consoleHolder[_0x6f0732(0xbc)]('\x0a['+new Date()[_0x6f0732(0xec)]()+_0x6f0732(0x105)+_0x180936+'\x0a');};const a117_0x47ef8e={};a117_0x47ef8e[a117_0x1b42eb(0x98)]=!![],a117_0x47ef8e['timeout']=0xea60,a117_0x47ef8e[a117_0x1b42eb(0xf7)]=0x2,a117_0x47ef8e[a117_0x1b42eb(0xa6)]=0x2;const httpKeepAliveAgent=new http[(a117_0x1b42eb(0x108))](a117_0x47ef8e),a117_0x40f0a0={};a117_0x40f0a0[a117_0x1b42eb(0x98)]=!![],a117_0x40f0a0[a117_0x1b42eb(0xb8)]=0xea60,a117_0x40f0a0['maxSockets']=0x2,a117_0x40f0a0[a117_0x1b42eb(0xa6)]=0x2;function a117_0xedd6(){const _0x4dc59d=['nRZKd','X-BSTACK-TESTOPS','37804lQppYg','APqTR','app','join','Fzeez','object','CODECEPT_CUCUMBER','Windows','xNVmW','getPlatformDetails','hEqZH','stringify','1696998hJLiiM','keepAlive','buildTag','isArray','extractValuesWithRegexKeyMatch','7mjmhaK','yMRQr','GHJQn','ZcukZ','aKwIo','55MDpYeE','JRMgE','Authorization','winstonLogger','headers','maxTotalSockets','then','FFDEy','getUserCredentials','darwin','@cucumber/cucumber','gmMdJ','2810aRauAe','MOCHA','bnVQH','includes','wMtwH','HTNgq','Error\x20in\x20importing\x20windows-release\x20','expanded','WGijZ','format','Uploading\x20trace\x20logs\x20to:\x20','timeout','body','IwWZu','data','log','emit','fromEntries','sluzq','sKLYL','Error\x20in\x20getting\x20Linux\x20Details','GXwIv','PLAYWRIGHT','match','CUSTOM_TAG','getPlatform','default','map','avcYy','../../bin/v2/browserstackCLI','IepyQ','gYvhb','CUCUMBER','O11yHashedID','BS_TESTOPS_BUILD_HASHED_ID','null','keys','mocha','HTTP','getCustomTags','ZuLhu','jest','CODECEPT','debug','GqTSX','Content-Type','nsnzR','application/json','getUserName','../../../src/bin/utils/constants','prefix','../logger','getBrowserStackConfig','child_process','QCuLQ','BROWSERSTACK_TEST_OBSERVABILITY_YML','asyncAwaitNodeReq','JEST','isTestObservabilitySession','cwd','parse','measureWrapper','dist','toISOString','shouldReRunObservabilityTests','sendPlatformDetails','path','https','nkqQm','browserstack_executor:\x20','../performance/performance-tester','gRjaH','gfwjX','THtPm','maxSockets','UWvJh','AssertionError','/builds/','BROWSERSTACK_TEST_OBSERVABILITY','CEcuN','win32','wfxbB','iQNjW','codeceptjs','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','ckVSh','turboScaleGridDetails','zxmjy','][\x20OBSERVABILITY\x20]\x20','hpsEa','relativeTestFilePath','Agent','CgEBB','nodeRequest','UnhandledError','stack','bs:addPlatformDetails:','failureData','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','release','message','getBuildTags','toString','TEST_OBSERVABILITY_BUILD_TAG','xTSPy','BROWSERSTACK_RERUN_TESTS','Togdl','customTag','udqbK','removeAnsiColors','fGluj','gjybX','33ZHpNXM','../../helpers/request-spy','pid','2JIURsE','HYMtA','sLAtE','@playwright/test','ggJgg','agent','git-repo-info','platformVersion','isUndefined','getFailureType','getos','DBzbU','util','174947ExwsRr','EJICw','lodash','Allrj','[%s][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found\x20%s','VXcoM','getAccessKey','7524283HhJuol','automate','rFetQ','push','getObservabilityLinkedProductName','MyDbi','Linux','__cloud_provider___','test','O11Y_URL','10bEBZoQ','ZTjXr','vcMSH','../../bin/utils/logPatcher','eVSft','trim','getCapabilities','getSyncScript','info','BROWSERSTACK_TESTHUB_JWT','ddknU','4|2|1|5|0|3','silly','turboscale','readConfig','env','nYtvO','replace','modifyReqForTraceUpload','platformName','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','kbyts','uJPAY','patchConsoleLogger','WwCWa','^CUSTOM_TAG_\x5cd+$','http','HUB_URL_REGEX','getFrameworkVersion','backtrace','err','browserstack','aFYsv','bZXCK','KjmKN','TEST_PLATFORM','\x20:\x20','FmwEB','dhHgK','ahFaG','unknown_grid','rVKBf','QxgyB','fileName','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','OS\x20X','true','error','relative','local_grid','split','platform','length','ThxTk','hostname','getPackageVersion','IhISb','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','122736xSIXNV','git-last-commit','addRequestSpy','jeadS','formData','undefined','5066896Klegxp','20439wbaFfQ','annotate','FbIDj','vndwK','toJSON','bs:addLog:','Visit\x20','logs','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','uvZCO','capabilities','wPEyf','FbETq','BROWSERSTACK_OBSERVABILITY_DEBUG','RvGMJ','test_run_uuid','getDefaultHeaders','app-automate','forEach','yqwNI'];a117_0xedd6=function(){return _0x4dc59d;};return a117_0xedd6();}const httpsKeepAliveAgent=new https[(a117_0x1b42eb(0x108))](a117_0x40f0a0),a117_0x5e3419={};a117_0x5e3419[a117_0x1b42eb(0x98)]=!![],a117_0x5e3419[a117_0x1b42eb(0xb8)]=0xea60,a117_0x5e3419['maxSockets']=0x2,a117_0x5e3419[a117_0x1b42eb(0xa6)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a117_0x1b42eb(0x108))](a117_0x5e3419),a117_0x5ef5e6={};function a117_0x35ea(_0x2a365a,_0x2679b1){const _0xedd66e=a117_0xedd6();return a117_0x35ea=function(_0x35eab1,_0x1a691f){_0x35eab1=_0x35eab1-0x7a;let _0x437a36=_0xedd66e[_0x35eab1];return _0x437a36;},a117_0x35ea(_0x2a365a,_0x2679b1);}a117_0x5ef5e6[a117_0x1b42eb(0x98)]=!![],a117_0x5ef5e6[a117_0x1b42eb(0xb8)]=0xea60,a117_0x5ef5e6['maxSockets']=0x2,a117_0x5ef5e6[a117_0x1b42eb(0xa6)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a117_0x1b42eb(0x108))](a117_0x5ef5e6);exports[a117_0x1b42eb(0xed)]=()=>{const _0x4d55f7=a117_0x1b42eb,_0x590f3f={};_0x590f3f[_0x4d55f7(0x17b)]=function(_0x53a681,_0x538442){return _0x53a681!==_0x538442;},_0x590f3f[_0x4d55f7(0x160)]=_0x4d55f7(0xd0);const _0x2720a8=_0x590f3f;return process['env'][_0x4d55f7(0x116)]&&_0x2720a8[_0x4d55f7(0x17b)](process[_0x4d55f7(0x14d)]['BROWSERSTACK_RERUN_TESTS'],_0x2720a8['KjmKN'])?!![]:![];},exports[a117_0x1b42eb(0xe7)]=()=>{const _0x806134=a117_0x1b42eb,_0x42feca={};_0x42feca[_0x806134(0x95)]=function(_0x15ca61,_0xb038dc){return _0x15ca61===_0xb038dc;},_0x42feca[_0x806134(0x11c)]=_0x806134(0x16c),_0x42feca['Ssdot']=function(_0x3430ba,_0x2b1772){return _0x3430ba===_0x2b1772;};const _0x726b41=_0x42feca;let _0x14cf7a=!![];return process[_0x806134(0x14d)][_0x806134(0xe4)]&&(_0x14cf7a=_0x726b41[_0x806134(0x95)](process[_0x806134(0x14d)][_0x806134(0xe4)],_0x726b41[_0x806134(0x11c)])),process[_0x806134(0x14d)][_0x806134(0xfb)]&&(_0x14cf7a=_0x726b41['Ssdot'](process[_0x806134(0x14d)]['BROWSERSTACK_TEST_OBSERVABILITY'],_0x726b41[_0x806134(0x11c)])),_0x14cf7a;},exports['parseFileNames']=_0x5ef17b=>{const _0x188a83=a117_0x1b42eb;if(bsSetupHelper[_0x188a83(0x128)](_0x5ef17b))return undefined;try{return _0x5ef17b[_0x188a83(0x143)]()[_0x188a83(0x170)](',');}catch(_0x530c39){return undefined;}},exports['printBuildLink']=()=>{const _0xf98285=a117_0x1b42eb,_0x183d36={'wMtwH':function(_0xc216d,_0x4cbe94){return _0xc216d(_0x4cbe94);},'FmwEB':_0xf98285(0xca),'JZNSW':function(_0x340ac1,_0x41579d){return _0x340ac1!==_0x41579d;},'gfwjX':_0xf98285(0xd0),'ahFaG':function(_0x241e54,_0x28ef60){return _0x241e54!==_0x28ef60;},'REJym':_0xf98285(0x17d),'GHJQn':_0xf98285(0x131)};return PerformanceTester[_0xf98285(0xea)](PerformanceO11yEvents['PRINT_BUILDLINK'],async()=>{const _0x28c5a1=_0xf98285;try{const _0x2e9edc=_0x183d36[_0x28c5a1(0xb1)](require,_0x183d36[_0x28c5a1(0x163)]);if(_0x2e9edc[_0x28c5a1(0xce)]){logger[_0x28c5a1(0x146)](_0x28c5a1(0x7b)+O11Y_URL+_0x28c5a1(0xfa)+_0x2e9edc[_0x28c5a1(0xce)]+_0x28c5a1(0x101));return;}process[_0x28c5a1(0x14d)][_0x28c5a1(0xcf)]&&_0x183d36['JZNSW'](process[_0x28c5a1(0x14d)]['BS_TESTOPS_BUILD_HASHED_ID'],_0x183d36[_0x28c5a1(0xf5)])&&_0x183d36[_0x28c5a1(0x165)](process[_0x28c5a1(0x14d)][_0x28c5a1(0xcf)],_0x183d36['REJym'])&&logger[_0x28c5a1(0x146)](_0x28c5a1(0x7b)+constants[_0x28c5a1(0x13d)]+_0x28c5a1(0xfa)+process[_0x28c5a1(0x14d)]['BS_TESTOPS_BUILD_HASHED_ID']+_0x28c5a1(0x101));}catch(_0x99aec8){logger['error'](util[_0x28c5a1(0xb6)](_0x183d36[_0x28c5a1(0x9e)],new Date()[_0x28c5a1(0xec)](),_0x99aec8['stack']||_0x99aec8[_0x28c5a1(0x111)]||_0x99aec8));}})();},exports[a117_0x1b42eb(0x129)]=_0x3d4dac=>{const _0x14af7e=a117_0x1b42eb,_0x680a6d={};_0x680a6d[_0x14af7e(0xfc)]=_0x14af7e(0xf9),_0x680a6d[_0x14af7e(0xb2)]=_0x14af7e(0x10b);const _0x2043b4=_0x680a6d;if(!_0x3d4dac)return null;return _0x3d4dac[_0x14af7e(0x113)]()[_0x14af7e(0xc4)](/AssertionError/)?_0x2043b4[_0x14af7e(0xfc)]:_0x2043b4[_0x14af7e(0xb2)];},exports[a117_0x1b42eb(0x15a)]=_0x4d6494=>{const _0x441087=a117_0x1b42eb,_0x203262={};_0x203262['vndwK']=_0x441087(0xd2),_0x203262[_0x441087(0xac)]=_0x441087(0x123),_0x203262[_0x441087(0x83)]=_0x441087(0x100),_0x203262[_0x441087(0xd5)]=_0x441087(0xd6),_0x203262[_0x441087(0x102)]=_0x441087(0xab);const _0x57613d=_0x203262;let _0x5defda=null;switch(_0x4d6494){case FRAMEWORKS[_0x441087(0xae)]:_0x5defda=bsSetupHelper[_0x441087(0x175)](_0x57613d[_0x441087(0x182)]);break;case FRAMEWORKS[_0x441087(0xc3)]:_0x5defda=bsSetupHelper[_0x441087(0x175)](_0x57613d[_0x441087(0xac)]);break;case FRAMEWORKS[_0x441087(0xd7)]:case FRAMEWORKS[_0x441087(0x91)]:_0x5defda=bsSetupHelper[_0x441087(0x175)](_0x57613d[_0x441087(0x83)]);break;case FRAMEWORKS[_0x441087(0xe6)]:_0x5defda=bsSetupHelper[_0x441087(0x175)](_0x57613d[_0x441087(0xd5)]);break;case FRAMEWORKS[_0x441087(0xcd)]:_0x5defda=bsSetupHelper[_0x441087(0x175)](_0x57613d['ckVSh']);break;default:break;}return _0x5defda;},exports[a117_0x1b42eb(0xe1)]=_0x346448=>{const _0x55fa9f=a117_0x1b42eb;let _0x4352d=null;switch(_0x346448){case FRAMEWORKS[_0x55fa9f(0xc3)]:_0x4352d=process[_0x55fa9f(0x14d)]['BROWSERSTACK_CONFIG_FILE_PATH'];break;}if(!_0x4352d)return;return bsSetupHelper[_0x55fa9f(0x14c)](_0x4352d,![]);},exports[a117_0x1b42eb(0xa9)]=_0xb13ab2=>{const _0x749d07=a117_0x1b42eb;return{'username':bsSetupHelper[_0x749d07(0xdd)](_0xb13ab2),'accessKey':bsSetupHelper[_0x749d07(0x133)](_0xb13ab2)};},exports[a117_0x1b42eb(0x150)]=(_0x3c6214,_0x10817)=>{const _0x25f93d=a117_0x1b42eb,_0x9cbaf0={};_0x9cbaf0['WGijZ']=_0x25f93d(0x149),_0x9cbaf0[_0x25f93d(0x117)]='LogCreated',_0x9cbaf0[_0x25f93d(0x80)]='TEST_ATTACHMENT';const _0x3f8c9d=_0x9cbaf0,_0x4b7e7=_0x3f8c9d[_0x25f93d(0xb5)]['split']('|');let _0x35e886=0x0;while(!![]){switch(_0x4b7e7[_0x35e886++]){case'0':delete _0x3c6214['json'];continue;case'1':_0x3c6214[_0x25f93d(0x17c)]={'data':_0x3c6214[_0x25f93d(0xb9)][0x0][_0x25f93d(0x7c)][0x0][_0x25f93d(0xbb)],'test_run_uuid':_0x3c6214[_0x25f93d(0xb9)][0x0][_0x25f93d(0x7c)][0x0][_0x25f93d(0x84)],'event_type':_0x3f8c9d[_0x25f93d(0x117)],'kind':_0x3f8c9d[_0x25f93d(0x80)],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x25f93d(0xec)](),'fileName':_0x3c6214['body'][0x0][_0x25f93d(0x7c)][0x0][_0x25f93d(0x169)]};continue;case'2':if(!_0x3c6214[_0x25f93d(0xb9)][0x0]||!_0x3c6214[_0x25f93d(0xb9)][0x0][_0x25f93d(0x7c)]||!_0x3c6214[_0x25f93d(0xb9)][0x0][_0x25f93d(0x7c)][_0x25f93d(0x172)])return;continue;case'3':delete _0x10817[_0x25f93d(0xa5)];continue;case'4':if(!_0x3c6214[_0x25f93d(0xb9)]||!Array[_0x25f93d(0x9a)](_0x3c6214['body']))return;continue;case'5':delete _0x3c6214[_0x25f93d(0xb9)];continue;}break;}},exports[a117_0x1b42eb(0xe5)]=async(_0x20ac04,_0xbababe,_0x2c6a06,_0x102188,_0x382a26=!![])=>{const _0x20ab6a=a117_0x1b42eb,_0x4bca53={};_0x4bca53[_0x20ab6a(0xdb)]=function(_0x4b4b8f,_0x3290e6){return _0x4b4b8f===_0x3290e6;},_0x4bca53[_0x20ab6a(0x7e)]=_0x20ab6a(0xda),_0x4bca53[_0x20ab6a(0x148)]=_0x20ab6a(0xdc),_0x4bca53[_0x20ab6a(0x167)]=_0x20ab6a(0xf0),_0x4bca53[_0x20ab6a(0x156)]=function(_0x2cf240,_0x5b5991){return _0x2cf240!==_0x5b5991;},_0x4bca53[_0x20ab6a(0x9d)]=_0x20ab6a(0x90),_0x4bca53[_0x20ab6a(0xf6)]=_0x20ab6a(0x177);const _0x19598f=_0x4bca53,_0x1e5ece={..._0x102188,...{'method':_0x20ac04,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0xbababe,'body':_0x2c6a06,'json':_0x19598f[_0x20ab6a(0xdb)](_0x102188[_0x20ab6a(0xa5)][_0x19598f[_0x20ab6a(0x7e)]],_0x19598f[_0x20ab6a(0x148)]),'agent':API_URL[_0x20ab6a(0xb0)](_0x19598f[_0x20ab6a(0x167)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x19598f['nsnzR'](_0xbababe,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x1e5ece[_0x20ab6a(0x125)]=API_URL[_0x20ab6a(0xb0)](_0x19598f['rVKBf'])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x20ab6a(0x150)](_0x1e5ece,_0x102188),logger['debug'](_0x20ab6a(0xb7)+_0x1e5ece['url']));try{const {statusCode:_0x45b23b,body:_0x5321bc}=await bsSetupHelper[_0x20ab6a(0x10a)](_0x20ac04,_0xbababe,_0x1e5ece,_0x102188,_0x1e5ece['url']);if(_0x19598f[_0x20ab6a(0x156)](_0x45b23b,0xc8))return _0x5321bc?_0x5321bc:_0x20ab6a(0x152)+_0x45b23b;let _0x3633da=_0x5321bc;if(_0x382a26)try{_0x19598f[_0x20ab6a(0x156)](typeof _0x5321bc,_0x19598f['yMRQr'])&&(_0x3633da=JSON[_0x20ab6a(0xe9)](_0x5321bc));}catch(_0x522371){logger[_0x20ab6a(0x16d)](_0x19598f['THtPm'],_0x5321bc,util['format'](_0x522371));}const _0x191155={};return _0x191155[_0x20ab6a(0xbb)]=_0x3633da,_0x191155;}catch(_0x52f563){logger[_0x20ab6a(0x16d)](_0x20ab6a(0x16a)+util[_0x20ab6a(0xb6)](_0x52f563));throw _0x52f563;}},exports['nodeRequest']=(_0x112250,_0x286507,_0x250654,_0x74bb01,_0xb2b425=!![])=>{const _0x163afb=a117_0x1b42eb,_0x3575f1={'xNVmW':function(_0x15fc58,_0x492e34){return _0x15fc58!==_0x492e34;},'CgEBB':function(_0x220646,_0x2a7207){return _0x220646(_0x2a7207);},'yqwNI':function(_0x30f967,_0x122926){return _0x30f967!==_0x122926;},'nYtvO':'object','hgxdJ':function(_0x11eb33,_0x46efca){return _0x11eb33(_0x46efca);},'yTEru':'Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','PhpZo':function(_0x2682a2,_0x19113a){return _0x2682a2===_0x19113a;},'YFgBp':_0x163afb(0xda),'IwWZu':_0x163afb(0xdc),'vcMSH':_0x163afb(0xf0),'zxmjy':function(_0x277cb6,_0x48a863){return _0x277cb6===_0x48a863;}};return new Promise((_0x5594bf,_0x24158b)=>{const _0x33ca77=_0x163afb,_0x26d83d={..._0x74bb01,...{'method':_0x112250,'url':API_URL+'/'+_0x286507,'body':_0x250654,'json':_0x3575f1['PhpZo'](_0x74bb01['headers'][_0x3575f1['YFgBp']],_0x3575f1[_0x33ca77(0xba)]),'agent':API_URL[_0x33ca77(0xb0)](_0x3575f1[_0x33ca77(0x140)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x3575f1[_0x33ca77(0x104)](_0x286507,SCREENSHOT_ENDPOINT)&&(_0x26d83d[_0x33ca77(0x125)]=API_URL[_0x33ca77(0xb0)](_0x3575f1['vcMSH'])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x33ca77(0x10a)](_0x112250,_0x286507,_0x26d83d,_0x74bb01,API_URL)[_0x33ca77(0xa7)](({statusCode:_0x338bc3,body:_0x1ac955})=>{const _0x203a04=_0x33ca77;if(_0x3575f1[_0x203a04(0x93)](_0x338bc3,0xc8))_0x3575f1[_0x203a04(0x109)](_0x24158b,_0x1ac955?_0x1ac955:_0x203a04(0x152)+_0x338bc3);else{if(_0xb2b425)try{_0x3575f1[_0x203a04(0x88)](typeof _0x1ac955,_0x3575f1[_0x203a04(0x14e)])&&(_0x1ac955=JSON[_0x203a04(0xe9)](_0x1ac955));}catch(_0x5b9d7d){_0x3575f1['hgxdJ'](_0x24158b,_0x3575f1['yTEru']);return;}const _0x3286b1={};_0x3286b1[_0x203a04(0xbb)]=_0x1ac955,_0x3575f1[_0x203a04(0x109)](_0x5594bf,_0x3286b1);}})['catch'](_0x36fa98=>{_0x36fa98&&_0x3575f1['hgxdJ'](_0x24158b,_0x36fa98);});});},exports[a117_0x1b42eb(0x112)]=_0x309f7b=>{const _0x419635=a117_0x1b42eb;if(process[_0x419635(0x14d)]['TEST_OBSERVABILITY_BUILD_TAG'])return process[_0x419635(0x14d)][_0x419635(0x114)]['split'](',');if(_0x309f7b['buildTag'])return _0x309f7b[_0x419635(0x99)];return[];},exports[a117_0x1b42eb(0x85)]=(_0x10c09c=!![])=>{const _0x120cf8=a117_0x1b42eb,_0x394de8={};_0x394de8[_0x120cf8(0x153)]=_0x120cf8(0xdc),_0x394de8['GXwIv']=_0x120cf8(0x16c),_0x394de8[_0x120cf8(0x130)]=_0x120cf8(0xa3);const _0x38920a=_0x394de8,_0x31b894={};_0x31b894[_0x120cf8(0xda)]=_0x38920a['kbyts'],_0x31b894[_0x120cf8(0x8a)]=_0x38920a[_0x120cf8(0xc2)];const _0x38f618=_0x31b894;return _0x10c09c&&process[_0x120cf8(0x14d)][_0x120cf8(0x147)]&&(_0x38f618[_0x38920a[_0x120cf8(0x130)]]='Bearer\x20'+process[_0x120cf8(0x14d)]['BROWSERSTACK_TESTHUB_JWT']),_0x38f618;},exports[a117_0x1b42eb(0x9b)]=_0x1a6b30=>{const _0x51abab=a117_0x1b42eb,_0x153397={};_0x153397[_0x51abab(0xfe)]=_0x51abab(0x157);const _0x1cd635=_0x153397,_0x3a20b8=[],_0x1ac68e=new RegExp(_0x1cd635['wfxbB'],'i');return Object[_0x51abab(0xd1)](_0x1a6b30)['filter'](_0xfdddf0=>_0x1ac68e['test'](_0xfdddf0))[_0x51abab(0x87)](_0x320cab=>_0x3a20b8[_0x51abab(0x137)](_0x1a6b30[_0x320cab])),_0x3a20b8;},exports[a117_0x1b42eb(0xd4)]=_0x3c91a8=>{const _0x48ba2c=a117_0x1b42eb,_0x528086=[],_0x521183=_0x3c91a8[_0x48ba2c(0x118)]||process[_0x48ba2c(0x14d)][_0x48ba2c(0xc5)];return _0x521183&&_0x528086['push'](_0x521183),_0x528086[_0x48ba2c(0x137)](...exports[_0x48ba2c(0x9b)](process[_0x48ba2c(0x14d)])),_0x528086[_0x48ba2c(0x137)](...exports[_0x48ba2c(0x9b)](_0x3c91a8)),_0x528086;},exports['removeAnsiColors']=_0x42073d=>{const _0x14cf63=a117_0x1b42eb;if(!_0x42073d)return'';return _0x42073d[_0x14cf63(0x14f)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports['sleep']=(_0x4bf4cf=0x64)=>new Promise(_0x138881=>setTimeout(_0x138881,_0x4bf4cf));const getPlatformName=()=>{const _0xdedcaf=a117_0x1b42eb,_0x24bae2={};_0x24bae2[_0xdedcaf(0xcb)]=function(_0x147cd4,_0x2b44dd){return _0x147cd4===_0x2b44dd;},_0x24bae2[_0xdedcaf(0xa2)]=_0xdedcaf(0xfd),_0x24bae2[_0xdedcaf(0xbf)]=_0xdedcaf(0x92),_0x24bae2[_0xdedcaf(0xf4)]=_0xdedcaf(0xaa),_0x24bae2[_0xdedcaf(0x173)]=_0xdedcaf(0x16b),_0x24bae2['nRZKd']=function(_0x111d74,_0x9ace3e){return _0x111d74===_0x9ace3e;},_0x24bae2[_0xdedcaf(0x81)]='linux',_0x24bae2[_0xdedcaf(0xf1)]='Linux',_0x24bae2[_0xdedcaf(0x12b)]='Unknown';const _0x10c267=_0x24bae2;if(_0x10c267[_0xdedcaf(0xcb)](process[_0xdedcaf(0x171)],_0x10c267[_0xdedcaf(0xa2)]))return _0x10c267[_0xdedcaf(0xbf)];if(_0x10c267[_0xdedcaf(0xcb)](process['platform'],_0x10c267[_0xdedcaf(0xf4)]))return _0x10c267[_0xdedcaf(0x173)];if(_0x10c267[_0xdedcaf(0x89)](process[_0xdedcaf(0x171)],_0x10c267[_0xdedcaf(0x81)]))return _0x10c267['nkqQm'];return _0x10c267[_0xdedcaf(0x12b)];},getMacOSVersion=()=>{const _0x4fd9f7=a117_0x1b42eb,_0x5153a2={};_0x5153a2[_0x4fd9f7(0x164)]='awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27';const _0x152e94=_0x5153a2;return child_process['execSync'](_0x152e94[_0x4fd9f7(0x164)])[_0x4fd9f7(0x113)]()[_0x4fd9f7(0x143)]();},getLinuxDetails=()=>{const _0x5626d0={'rFetQ':function(_0x4de6ad,_0x1cd759){return _0x4de6ad(_0x1cd759);},'EJICw':function(_0x3265fe,_0x2826ba){return _0x3265fe(_0x2826ba);}};return new Promise((_0x51fbf1,_0x142418)=>{const _0x893c03=a117_0x35ea;_0x5626d0[_0x893c03(0x12e)](getos,(_0x138bc6,_0x525672)=>{const _0x6e4ddd=_0x893c03;if(_0x138bc6)return _0x5626d0['rFetQ'](_0x142418,_0x138bc6);_0x5626d0[_0x6e4ddd(0x136)](_0x51fbf1,_0x525672);});});};exports[a117_0x1b42eb(0x94)]=async()=>{const _0x1f211d=a117_0x1b42eb,_0x5e3bfb={'egYuY':function(_0x1c00a4){return _0x1c00a4();},'sKLYL':_0x1f211d(0x16b),'bnVQH':'Windows','hpsEa':'windows-release','HZdXb':function(_0x22a93e){return _0x22a93e();},'aFYsv':_0x1f211d(0x13a),'IhISb':_0x1f211d(0xc1)};let _0x5dc53d=_0x5e3bfb['egYuY'](getPlatformName),_0x38f308=os[_0x1f211d(0x110)]()[_0x1f211d(0x113)]();switch(_0x5dc53d){case _0x5e3bfb[_0x1f211d(0xc0)]:_0x38f308=_0x5e3bfb['egYuY'](getMacOSVersion);break;case _0x5e3bfb[_0x1f211d(0xaf)]:try{const _0x10a84e=(await import(_0x5e3bfb[_0x1f211d(0x106)]))[_0x1f211d(0xc7)];_0x38f308=_0x5e3bfb['HZdXb'](_0x10a84e);}catch(_0x824e75){exports[_0x1f211d(0xd8)](_0x1f211d(0xb3)+_0x824e75['toString']());}break;case _0x5e3bfb[_0x1f211d(0x15e)]:try{const _0x1c8046=await _0x5e3bfb['HZdXb'](getLinuxDetails);_0x1c8046[_0x1f211d(0xeb)]&&(_0x5dc53d=_0x1c8046[_0x1f211d(0xeb)]),_0x1c8046[_0x1f211d(0x110)]&&(_0x38f308=_0x1c8046['release'][_0x1f211d(0x113)]());}catch(_0x5bcd8a){exports[_0x1f211d(0xd8)](_0x5e3bfb[_0x1f211d(0x176)]);}break;default:break;}const _0x1da470={};return _0x1da470[_0x1f211d(0x151)]=_0x5dc53d,_0x1da470[_0x1f211d(0x127)]=_0x38f308,_0x1da470;},exports[a117_0x1b42eb(0x10e)]=(_0x2d0aca,_0x348555)=>{const _0x5ddd1f=a117_0x1b42eb,_0x42c07c={};_0x42c07c[_0x5ddd1f(0xff)]=function(_0x290f97,_0x40e865){return _0x290f97===_0x40e865;},_0x42c07c['FbIDj']=_0x5ddd1f(0x13c),_0x42c07c[_0x5ddd1f(0x122)]=function(_0x8a1049,_0x5192e8){return _0x8a1049===_0x5192e8;},_0x42c07c['djzSs']=_0x5ddd1f(0x15c);const _0x5acf70=_0x42c07c;if(!_0x2d0aca)return[];try{if(_0x5acf70[_0x5ddd1f(0xff)](_0x348555,_0x5acf70[_0x5ddd1f(0x181)]))return _0x2d0aca[_0x5ddd1f(0xc8)](_0x250490=>{const _0x1f1ced=_0x5ddd1f,{stack:_0x59556d,..._0x4780f1}=_0x250490,_0x5b0d1b=Object[_0x1f1ced(0xd1)](_0x4780f1)['map'](_0x38677e=>{return _0x38677e+':\x20'+_0x4780f1[_0x38677e];}),_0x13ed2c=_0x59556d?exports[_0x1f1ced(0x11a)](_0x59556d)[_0x1f1ced(0x170)](/\r?\n/):[exports[_0x1f1ced(0x11a)](_0x250490[_0x1f1ced(0x111)])],_0x4f12f2={};return _0x4f12f2[_0x1f1ced(0x15b)]=_0x13ed2c,_0x4f12f2[_0x1f1ced(0xb4)]=_0x5b0d1b,_0x4f12f2;});else{if(_0x5acf70['sLAtE'](_0x348555,_0x5acf70['djzSs'])){const _0x4ab527=[],_0xc4eda7=[];return Object[_0x5ddd1f(0xd1)](_0x2d0aca)[_0x5ddd1f(0x87)](_0x474281=>{const _0x327b15=_0x5ddd1f;try{_0xc4eda7[_0x327b15(0x137)](_0x474281+':\x20'+_0x2d0aca[_0x474281]);}catch(_0x45c25a){exports[_0x327b15(0xd8)](_0x327b15(0x7d)+_0x45c25a[_0x327b15(0x111)]+_0x327b15(0x162)+_0x45c25a[_0x327b15(0x15b)]);}}),_0x4ab527[_0x5ddd1f(0x137)]({'backtrace':exports[_0x5ddd1f(0x11a)](_0x2d0aca[_0x5ddd1f(0x10c)])[_0x5ddd1f(0x170)](/\r?\n/),'expanded':_0xc4eda7}),_0x4ab527;}}return[];}catch(_0x36a7fc){exports[_0x5ddd1f(0xd8)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0x36a7fc[_0x5ddd1f(0x111)]+_0x5ddd1f(0x162)+_0x36a7fc['backtrace']);}return[];};class PathHelper{constructor(_0xbd2d02,_0x57c683){const _0x7ff378=a117_0x1b42eb;this['config']=_0xbd2d02,this[_0x7ff378(0xdf)]=_0x57c683;}[a117_0x1b42eb(0x107)](_0x176a17){const _0x4db1fe=a117_0x1b42eb,_0x106b36=this['config'][_0x4db1fe(0xe8)]||this['config']['rootDir'];return path[_0x4db1fe(0x16e)](_0x106b36,_0x176a17);}['prefixTestPath'](_0x4fa06d){const _0x1cc747=a117_0x1b42eb,_0x536a3d=this[_0x1cc747(0x107)](_0x4fa06d);return this['prefix']?path[_0x1cc747(0x8e)](this[_0x1cc747(0xdf)],_0x536a3d):_0x536a3d;}}exports['PathHelper']=PathHelper,exports[a117_0x1b42eb(0x17a)]=(_0x410bcd=!![])=>{const _0x55d3d7=a117_0x1b42eb,_0x28fc79={};_0x28fc79[_0x55d3d7(0xcc)]=function(_0x233125,_0x3315b7){return _0x233125===_0x3315b7;},_0x28fc79[_0x55d3d7(0x8f)]=_0x55d3d7(0x8a),_0x28fc79['ZcukZ']=_0x55d3d7(0x16c),_0x28fc79[_0x55d3d7(0x15f)]=_0x55d3d7(0xd3),_0x28fc79[_0x55d3d7(0x11b)]='browserstack',_0x28fc79['MyDbi']=_0x55d3d7(0x16f);const _0x2c5301=_0x28fc79;requestSpy['spy']((_0x4f744c,_0x26cb64)=>{const _0x1a3c4e=_0x55d3d7;_0x26cb64&&!(_0x26cb64['headers']&&_0x2c5301['gYvhb'](_0x26cb64[_0x1a3c4e(0xa5)][_0x2c5301[_0x1a3c4e(0x8f)]],_0x2c5301[_0x1a3c4e(0x9f)]))&&(_0x26cb64['host']=_0x26cb64['hostname'],delete _0x26cb64[_0x1a3c4e(0x174)],_0x410bcd&&process['emit'](_0x1a3c4e(0x7a)+process[_0x1a3c4e(0x11f)],{'timestamp':new Date()[_0x1a3c4e(0xec)](),'level':null,'message':null,'kind':_0x2c5301[_0x1a3c4e(0x15f)],'http_response':_0x26cb64})),_0x26cb64&&(constants[_0x1a3c4e(0x159)][_0x1a3c4e(0x13c)](_0x26cb64['host'])||constants['ATS_HUB_URL_REGEX'][_0x1a3c4e(0x13c)](_0x26cb64['host']))?global[_0x1a3c4e(0x13b)]=_0x2c5301[_0x1a3c4e(0x11b)]:global[_0x1a3c4e(0x13b)]=_0x2c5301[_0x1a3c4e(0x139)];});},exports[a117_0x1b42eb(0x155)]=()=>{const _0x251859=a117_0x1b42eb,_0x5707e6={'nVxnl':function(_0x4988d7,_0x125683){return _0x4988d7(_0x125683);}};console={},Object['keys'](consoleHolder)[_0x251859(0x87)](_0x473843=>{_0x5707e6['nVxnl'](isFunction,consoleHolder[_0x473843])?console[_0x473843]=(..._0x2c9e94)=>{const _0x55d13f=a117_0x35ea;try{!Object['keys'](BSTestOpsPatcher)[_0x55d13f(0xb0)](_0x473843)?consoleHolder[_0x473843](..._0x2c9e94):BSTestOpsPatcher[_0x473843](..._0x2c9e94);}catch(_0x5543d7){consoleHolder[_0x473843](..._0x2c9e94);}}:console[_0x473843]=consoleHolder[_0x473843];});},exports[a117_0x1b42eb(0x145)]=()=>a117_0x1b42eb(0xf2)+JSON[a117_0x1b42eb(0x96)]({'action':a117_0x1b42eb(0x180),'arguments':{'data':'ObservabilitySync:'+Date['now'](),'level':a117_0x1b42eb(0xd8)}}),exports[a117_0x1b42eb(0x138)]=_0x2a7cd0=>{const _0x159f6b=a117_0x1b42eb,_0x59c773={};_0x59c773[_0x159f6b(0x121)]=function(_0x2f80f3,_0x2b5ec1){return _0x2f80f3===_0x2b5ec1;},_0x59c773[_0x159f6b(0x142)]='browserstack',_0x59c773['avcYy']='appium:app',_0x59c773[_0x159f6b(0x124)]=_0x159f6b(0x8d),_0x59c773[_0x159f6b(0xd9)]=function(_0x318247,_0x26a692){return _0x318247>_0x26a692;},_0x59c773[_0x159f6b(0x119)]=_0x159f6b(0x86),_0x59c773[_0x159f6b(0x154)]='bstack:options',_0x59c773[_0x159f6b(0xa8)]=_0x159f6b(0x103),_0x59c773[_0x159f6b(0x132)]=_0x159f6b(0x14b),_0x59c773[_0x159f6b(0x8c)]=_0x159f6b(0x135);const _0x3b8c38=_0x59c773;let _0x58ce6a=null;try{if(_0x3b8c38['HYMtA'](global[_0x159f6b(0x13b)],_0x3b8c38['eVSft'])){if(_0x2a7cd0[_0x3b8c38[_0x159f6b(0xc9)]]||_0x2a7cd0[_0x3b8c38[_0x159f6b(0x124)]]||!bsSetupHelper[_0x159f6b(0x128)](global[_0x159f6b(0x7f)])&&_0x3b8c38[_0x159f6b(0xd9)](global[_0x159f6b(0x7f)][_0x159f6b(0x172)],0x0)&&(global[_0x159f6b(0x7f)][0x0][_0x3b8c38[_0x159f6b(0x124)]]||global[_0x159f6b(0x7f)][0x0][_0x3b8c38[_0x159f6b(0xc9)]]))_0x58ce6a=_0x3b8c38[_0x159f6b(0x119)];else _0x2a7cd0[_0x3b8c38[_0x159f6b(0x154)]]&&_0x2a7cd0[_0x3b8c38[_0x159f6b(0x154)]][_0x3b8c38[_0x159f6b(0xa8)]]?_0x58ce6a=_0x3b8c38[_0x159f6b(0x132)]:_0x58ce6a=_0x3b8c38[_0x159f6b(0x8c)];}}catch(_0x3277f3){exports['debug']('Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20'+_0x3277f3);}return _0x58ce6a;},exports[a117_0x1b42eb(0xee)]=async(_0x5e540f,_0x31a620,_0x1e3a01=![])=>{const _0xcdb263=a117_0x1b42eb,_0x4f6017={};_0x4f6017[_0xcdb263(0xa0)]=function(_0x977a5a,_0x33e7){return _0x977a5a===_0x33e7;},_0x4f6017['xTSPy']=_0xcdb263(0x15d),_0x4f6017[_0xcdb263(0x13f)]=_0xcdb263(0x166),_0x4f6017[_0xcdb263(0xf8)]=_0xcdb263(0x161);const _0x2a8bd1=_0x4f6017;try{const _0x2a36a6=await _0x5e540f[_0xcdb263(0x144)](),_0x5bd604=await _0x5e540f['getSession'](),_0x15b765={},_0x397009=Object[_0xcdb263(0xbe)](_0x5bd604['getCapabilities']()['map_']),_0x377d1c={'product':exports[_0xcdb263(0x138)](_0x397009),'capabilities':_0x397009,'platform':_0x2a36a6[_0xcdb263(0xc6)](),'platform_version':bsSetupHelper['getPlatformVersion'](_0x2a8bd1[_0xcdb263(0xa0)](global[_0xcdb263(0x13b)],_0x2a8bd1[_0xcdb263(0x115)])),'browser':_0x2a36a6['getBrowserName'](),'browser_version':_0x2a36a6['getBrowserVersion'](),'session_id':_0x5bd604[_0xcdb263(0x183)]()};global[_0xcdb263(0x13b)]?_0x15b765[global[_0xcdb263(0x13b)]]=_0x377d1c:_0x15b765[_0x2a8bd1[_0xcdb263(0x13f)]]=_0x377d1c;if(_0x1e3a01)return _0x15b765;process[_0xcdb263(0xbd)](_0xcdb263(0x10d)+process[_0xcdb263(0x11f)],{'timestamp':new Date()[_0xcdb263(0xec)](),'level':null,'message':null,'kind':_0x2a8bd1[_0xcdb263(0xf8)],'http_response':_0x15b765,'uuid':_0x31a620});}catch(_0x4b79df){exports[_0xcdb263(0xd8)](_0xcdb263(0x10f)+_0x4b79df);}},exports['isInternalHook']=_0x4526e4=>{const _0x5eb2c9=a117_0x1b42eb;return _0x4526e4&&_0x4526e4[_0x5eb2c9(0x113)]()['match'](/browserstack internal helper hook/);};