const a117_0x8ca30e=a117_0x521f;(function(_0x1a4e3b,_0x39ded4){const _0x2a4815=a117_0x521f,_0x27897f=_0x1a4e3b();while(!![]){try{const _0x5601c8=parseInt(_0x2a4815(0xff))/0x1+-parseInt(_0x2a4815(0x18b))/0x2*(-parseInt(_0x2a4815(0x1fb))/0x3)+-parseInt(_0x2a4815(0x1ad))/0x4+parseInt(_0x2a4815(0x1e8))/0x5+parseInt(_0x2a4815(0x10d))/0x6*(-parseInt(_0x2a4815(0x165))/0x7)+parseInt(_0x2a4815(0x113))/0x8*(parseInt(_0x2a4815(0x149))/0x9)+-parseInt(_0x2a4815(0x193))/0xa*(-parseInt(_0x2a4815(0x1b1))/0xb);if(_0x5601c8===_0x39ded4)break;else _0x27897f['push'](_0x27897f['shift']());}catch(_0x40be3e){_0x27897f['push'](_0x27897f['shift']());}}}(a117_0x2379,0xe89f2));const fs=require('fs'),path=require(a117_0x8ca30e(0x13c)),gitLastCommit=require(a117_0x8ca30e(0x1e9)),getRepoInfo=require('git-repo-info'),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require('http'),https=require('https'),child_process=require('child_process'),getos=require(a117_0x8ca30e(0x192)),os=require('os'),logger=require(a117_0x8ca30e(0x12e))[a117_0x8ca30e(0x181)],bsSetupHelper=require(a117_0x8ca30e(0x196)),requestSpy=require(a117_0x8ca30e(0x125)),constants=require('../../bin/utils/constants'),logPatcher=require(a117_0x8ca30e(0x12c)),util=require(a117_0x8ca30e(0x1a5)),{fileLogger}=require(a117_0x8ca30e(0x12e)),PerformanceTester=require(a117_0x8ca30e(0x1c8)),{isFunction}=require(a117_0x8ca30e(0x19e)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a117_0x8ca30e(0x166)),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require(a117_0x8ca30e(0x156));exports[a117_0x8ca30e(0x198)]=_0x2407ce=>{const _0x22e6dc=a117_0x8ca30e;fileLogger[_0x22e6dc(0x15d)]('['+new Date()[_0x22e6dc(0x130)]()+_0x22e6dc(0x13e)+_0x2407ce);},exports[a117_0x8ca30e(0x118)]=_0x676665=>{const _0x104124=a117_0x8ca30e,_0x330e93={};_0x330e93['EoaZp']=function(_0x585ccd,_0x363735){return _0x585ccd===_0x363735;},_0x330e93[_0x104124(0x1a4)]=_0x104124(0x18a),_0x330e93[_0x104124(0x15e)]=function(_0x4df231,_0x373ea7){return _0x4df231===_0x373ea7;};const _0x2abf61=_0x330e93;fileLogger[_0x104124(0x118)]('['+new Date()[_0x104124(0x130)]()+_0x104124(0x13e)+_0x676665),(_0x2abf61['EoaZp'](process[_0x104124(0x145)]['BROWSERSTACK_OBSERVABILITY_DEBUG'],_0x2abf61['oRJFY'])||_0x2abf61['LkGTW'](process[_0x104124(0x145)][_0x104124(0x189)],'1'))&&consoleHolder['log']('\x0a['+new Date()[_0x104124(0x130)]()+_0x104124(0x13e)+_0x676665+'\x0a');};const a117_0x479f50={};a117_0x479f50[a117_0x8ca30e(0x16d)]=!![],a117_0x479f50[a117_0x8ca30e(0x1b7)]=0xea60,a117_0x479f50['maxSockets']=0x2,a117_0x479f50['maxTotalSockets']=0x2;const httpKeepAliveAgent=new http['Agent'](a117_0x479f50),a117_0xbcdd34={};a117_0xbcdd34[a117_0x8ca30e(0x16d)]=!![],a117_0xbcdd34[a117_0x8ca30e(0x1b7)]=0xea60,a117_0xbcdd34['maxSockets']=0x2,a117_0xbcdd34[a117_0x8ca30e(0xf1)]=0x2;const httpsKeepAliveAgent=new https[(a117_0x8ca30e(0x1e5))](a117_0xbcdd34),a117_0x2e65e8={};a117_0x2e65e8[a117_0x8ca30e(0x16d)]=!![],a117_0x2e65e8[a117_0x8ca30e(0x1b7)]=0xea60,a117_0x2e65e8['maxSockets']=0x2,a117_0x2e65e8[a117_0x8ca30e(0xf1)]=0x2;function a117_0x2379(){const _0x5bf8fd=['../../bin/utils/logPatcher','nodeRequest','../logger','qIbzN','toISOString','SpGPd','getUserName','isUndefined','shouldReRunObservabilityTests','rPKuw','jaFBK','BROWSERSTACK_RERUN_TESTS','Windows','dist','format','stack','path','KzTjT','][\x20OBSERVABILITY\x20]\x20','EbpHd','CUSTOM_TAG','Lfgso','EImwI','parseFileNames','platformName','env','maytS','aYIaM','@playwright/test','9QEQBRW','getFailureType','url','Linux','MosVi','qntok','mZgVp','[%s][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found\x20%s','WTYxj','object','expanded','length','logs','../../../src/bin/utils/constants','QzXVR','DYTCz','/builds/','CODECEPT_CUCUMBER','customTag','capabilities','silly','LkGTW','stringify','PathHelper','BROWSERSTACK_CONFIG_FILE_PATH','browserstack','CODECEPT','BHHhR','3270281BHRUjU','../performance/constants','WiDBi','IWVMW','KqssY','wJhrr','getBrowserName','TrUrQ','keepAlive','prefix','measureWrapper','readConfig','modifyReqForTraceUpload','DGaeK','IpPnf','sifFN','fromEntries','buildTag','@cucumber/cucumber','MfuKH','includes','codeceptjs','PApOn','RCJBa','forEach','Uploading\x20trace\x20logs\x20to:\x20','undefined','5|2|3|4|1|0','winstonLogger','win32','map','MOCHA','YucaN','getCapabilities','asyncAwaitNodeReq','platformVersion','BROWSERSTACK_OBSERVABILITY_DEBUG','true','542svJaez','Zzxiz','err','qHahV','local_grid','TUxAo','Authorization','getos','40mNlksu','pVZva','getSyncScript','../helper','getBrowserStackConfig','trace','trim','body','QsJui','getPackageVersion','catch','lodash','failureData','ommus','ziUxw','rootDir','HTTP','oRJFY','util','HUB_URL_REGEX','error','turboscale','getUserCredentials','tSojk','removeAnsiColors','linux','6968360UqGhDn','formData','TEST_OBSERVABILITY_BUILD_TAG','spy','3554936weNosL','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','message','AssertionError','EqQam','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','timeout','extractValuesWithRegexKeyMatch','DqAVk','LpbSe','BwVmN','info','relativeTestFilePath','turboScaleGridDetails','addRequestSpy','rUcdx','ULGjm','BS_TESTOPS_BUILD_HASHED_ID','UnhandledError','data','nVObf','printBuildLink','config','../performance/performance-tester','maxSockets','app','https','lblJI','^CUSTOM_TAG_\x5cd+$','hostname','bs:addPlatformDetails:','ATS_HUB_URL_REGEX','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','PcVtM','BROWSERSTACK_TESTHUB_JWT','filter','relative','vlvIe','keys','headers','lsOvL','getBrowserVersion','emit','host','appium:app','map_','Visit\x20','replace','getPlatform','BROWSERSTACK_TEST_OBSERVABILITY','TvEMX','jest','Agent','toJSON','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','1331690NXcVLz','git-last-commit','split','ObservabilitySync:','JEST','hmNQC','isTestObservabilitySession','CuCHz','bnkuI','IvOBG','getBuildTags','rETEG','getAccessKey','Content-Type','JkdGH','zaCLU','getObservabilityLinkedProductName','getCustomTags','UeHvU','15087mIUgUd','vwikU','application/json','now','dmCUH','UXaCP','release','darwin','maxTotalSockets','mSssj','KteaG','null','\x20:\x20','zZHix','../../bin/v2/browserstackCLI','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','json','OS\x20X','AafJc','VmgIv','O11yHashedID','QIPhy','135790VNKlrE','XaUdx','AXGvL','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','sleep','browserstack_executor:\x20','DyKsb','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','toString','aJqAc','BROWSERSTACK_TEST_OBSERVABILITY_YML','kHrfk','platform','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','18sGWDwl','__cloud_provider___','IaVkE','test','isInternalHook','TEST_PLATFORM','8310128pQtjCG','qExGa','lfoEc','bstack:options','agent','debug','getFrameworkVersion','ndhRD','PLAYWRIGHT','bs:addLog:','cWnXG','then','test_run_uuid','windows-release','foiSy','O11Y_URL','backtrace','default','../../helpers/request-spy','mocha','getSession','push','qadIU','UOnxu','fKSXC'];a117_0x2379=function(){return _0x5bf8fd;};return a117_0x2379();}const httpScreenshotsKeepAliveAgent=new http[(a117_0x8ca30e(0x1e5))](a117_0x2e65e8),a117_0x1573d0={};a117_0x1573d0['keepAlive']=!![],a117_0x1573d0[a117_0x8ca30e(0x1b7)]=0xea60,a117_0x1573d0[a117_0x8ca30e(0x1c9)]=0x2,a117_0x1573d0[a117_0x8ca30e(0xf1)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a117_0x8ca30e(0x1e5))](a117_0x1573d0);exports[a117_0x8ca30e(0x134)]=()=>{const _0x3aef65=a117_0x8ca30e,_0xa4714c={};_0xa4714c[_0x3aef65(0x146)]=function(_0x228ef9,_0x4c94fc){return _0x228ef9!==_0x4c94fc;},_0xa4714c[_0x3aef65(0xfc)]=_0x3aef65(0xf4);const _0x37ea85=_0xa4714c;return process[_0x3aef65(0x145)][_0x3aef65(0x137)]&&_0x37ea85[_0x3aef65(0x146)](process[_0x3aef65(0x145)][_0x3aef65(0x137)],_0x37ea85[_0x3aef65(0xfc)])?!![]:![];},exports[a117_0x8ca30e(0x1ee)]=()=>{const _0x3e8d48=a117_0x8ca30e,_0x49cf4c={};_0x49cf4c[_0x3e8d48(0x108)]=function(_0x46ff6b,_0x251db6){return _0x46ff6b===_0x251db6;},_0x49cf4c[_0x3e8d48(0x18c)]='true';const _0x17fa25=_0x49cf4c;let _0x3b77fb=!![];return process[_0x3e8d48(0x145)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']&&(_0x3b77fb=_0x17fa25[_0x3e8d48(0x108)](process[_0x3e8d48(0x145)][_0x3e8d48(0x109)],_0x17fa25[_0x3e8d48(0x18c)])),process['env'][_0x3e8d48(0x1e2)]&&(_0x3b77fb=_0x17fa25[_0x3e8d48(0x108)](process[_0x3e8d48(0x145)][_0x3e8d48(0x1e2)],_0x17fa25[_0x3e8d48(0x18c)])),_0x3b77fb;},exports[a117_0x8ca30e(0x143)]=_0xe4dcb4=>{const _0x489011=a117_0x8ca30e;if(bsSetupHelper['isUndefined'](_0xe4dcb4))return undefined;try{return _0xe4dcb4[_0x489011(0x199)]()[_0x489011(0x1ea)](',');}catch(_0x50ff06){return undefined;}},exports[a117_0x8ca30e(0x1c6)]=()=>{const _0x2c3d49=a117_0x8ca30e,_0x417bc7={'JOxhU':function(_0x1024da,_0x2638bc){return _0x1024da(_0x2638bc);},'QSHZq':_0x2c3d49(0xf7),'BwVmN':function(_0x3e2174,_0x233256){return _0x3e2174!==_0x233256;},'qExGa':'null','UXaCP':_0x2c3d49(0x17f),'rUcdx':_0x2c3d49(0x150)};return PerformanceTester[_0x2c3d49(0x16f)](PerformanceO11yEvents['PRINT_BUILDLINK'],async()=>{const _0x2a083c=_0x2c3d49;try{const _0x4308ed=_0x417bc7['JOxhU'](require,_0x417bc7['QSHZq']);if(_0x4308ed[_0x2a083c(0xfd)]){logger[_0x2a083c(0x1bc)]('Visit\x20'+O11Y_URL+_0x2a083c(0x159)+_0x4308ed[_0x2a083c(0xfd)]+_0x2a083c(0x10c));return;}process[_0x2a083c(0x145)][_0x2a083c(0x1c2)]&&_0x417bc7[_0x2a083c(0x1bb)](process[_0x2a083c(0x145)][_0x2a083c(0x1c2)],_0x417bc7[_0x2a083c(0x114)])&&_0x417bc7[_0x2a083c(0x1bb)](process[_0x2a083c(0x145)]['BS_TESTOPS_BUILD_HASHED_ID'],_0x417bc7[_0x2a083c(0xee)])&&logger[_0x2a083c(0x1bc)](_0x2a083c(0x1df)+constants[_0x2a083c(0x122)]+'/builds/'+process['env'][_0x2a083c(0x1c2)]+'\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a');}catch(_0x2b68fc){logger['error'](util[_0x2a083c(0x13a)](_0x417bc7[_0x2a083c(0x1c0)],new Date()['toISOString'](),_0x2b68fc[_0x2a083c(0x13b)]||_0x2b68fc[_0x2a083c(0x1b3)]||_0x2b68fc));}})();},exports[a117_0x8ca30e(0x14a)]=_0x504f81=>{const _0x51cb94=a117_0x8ca30e,_0x262fc4={};_0x262fc4[_0x51cb94(0xf2)]=_0x51cb94(0x1b4),_0x262fc4[_0x51cb94(0x141)]=_0x51cb94(0x1c3);const _0xbe2bfb=_0x262fc4;if(!_0x504f81)return null;return _0x504f81[_0x51cb94(0x107)]()['match'](/AssertionError/)?_0xbe2bfb[_0x51cb94(0xf2)]:_0xbe2bfb[_0x51cb94(0x141)];},exports[a117_0x8ca30e(0x119)]=_0x5b9dc3=>{const _0x1614ea=a117_0x8ca30e,_0xaa7b9d={};_0xaa7b9d[_0x1614ea(0xfb)]=_0x1614ea(0x126),_0xaa7b9d[_0x1614ea(0x11d)]=_0x1614ea(0x148),_0xaa7b9d[_0x1614ea(0x1ba)]=_0x1614ea(0x17a),_0xaa7b9d[_0x1614ea(0xfe)]=_0x1614ea(0x1e4),_0xaa7b9d[_0x1614ea(0x10a)]=_0x1614ea(0x177);const _0x7af675=_0xaa7b9d;let _0x12b90e=null;switch(_0x5b9dc3){case FRAMEWORKS[_0x1614ea(0x184)]:_0x12b90e=bsSetupHelper[_0x1614ea(0x19c)](_0x7af675['AafJc']);break;case FRAMEWORKS[_0x1614ea(0x11b)]:_0x12b90e=bsSetupHelper['getPackageVersion'](_0x7af675[_0x1614ea(0x11d)]);break;case FRAMEWORKS[_0x1614ea(0x163)]:case FRAMEWORKS[_0x1614ea(0x15a)]:_0x12b90e=bsSetupHelper[_0x1614ea(0x19c)](_0x7af675['LpbSe']);break;case FRAMEWORKS[_0x1614ea(0x1ec)]:_0x12b90e=bsSetupHelper[_0x1614ea(0x19c)](_0x7af675[_0x1614ea(0xfe)]);break;case FRAMEWORKS['CUCUMBER']:_0x12b90e=bsSetupHelper[_0x1614ea(0x19c)](_0x7af675[_0x1614ea(0x10a)]);break;default:break;}return _0x12b90e;},exports[a117_0x8ca30e(0x197)]=_0x27d475=>{const _0x5c992c=a117_0x8ca30e;let _0x13961c=null;switch(_0x27d475){case FRAMEWORKS[_0x5c992c(0x11b)]:_0x13961c=process[_0x5c992c(0x145)][_0x5c992c(0x161)];break;}if(!_0x13961c)return;return bsSetupHelper[_0x5c992c(0x170)](_0x13961c,![]);},exports[a117_0x8ca30e(0x1a9)]=_0x445ca4=>{const _0x551dab=a117_0x8ca30e;return{'username':bsSetupHelper[_0x551dab(0x132)](_0x445ca4),'accessKey':bsSetupHelper[_0x551dab(0x1f4)](_0x445ca4)};},exports[a117_0x8ca30e(0x171)]=(_0xb72c00,_0x46bc04)=>{const _0x29c328=a117_0x8ca30e,_0x5a9087={};_0x5a9087[_0x29c328(0xf6)]=_0x29c328(0x180),_0x5a9087['QsJui']='LogCreated',_0x5a9087[_0x29c328(0x14e)]='TEST_ATTACHMENT';const _0x17757a=_0x5a9087,_0x4b22bc=_0x17757a[_0x29c328(0xf6)][_0x29c328(0x1ea)]('|');let _0x10cb0f=0x0;while(!![]){switch(_0x4b22bc[_0x10cb0f++]){case'0':delete _0x46bc04[_0x29c328(0x1d8)];continue;case'1':delete _0xb72c00[_0x29c328(0xf9)];continue;case'2':if(!_0xb72c00[_0x29c328(0x19a)][0x0]||!_0xb72c00['body'][0x0]['logs']||!_0xb72c00[_0x29c328(0x19a)][0x0][_0x29c328(0x155)][_0x29c328(0x154)])return;continue;case'3':_0xb72c00[_0x29c328(0x1ae)]={'data':_0xb72c00[_0x29c328(0x19a)][0x0]['logs'][0x0]['data'],'test_run_uuid':_0xb72c00[_0x29c328(0x19a)][0x0][_0x29c328(0x155)][0x0][_0x29c328(0x11f)],'event_type':_0x17757a[_0x29c328(0x19b)],'kind':_0x17757a[_0x29c328(0x14e)],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x29c328(0x130)](),'fileName':_0xb72c00[_0x29c328(0x19a)][0x0][_0x29c328(0x155)][0x0]['fileName']};continue;case'4':delete _0xb72c00[_0x29c328(0x19a)];continue;case'5':if(!_0xb72c00[_0x29c328(0x19a)]||!Array['isArray'](_0xb72c00[_0x29c328(0x19a)]))return;continue;}break;}},exports[a117_0x8ca30e(0x187)]=async(_0x375623,_0x353a8a,_0x20ba05,_0xbb0128,_0x5ca407=!![])=>{const _0x367150=a117_0x8ca30e,_0x1a18d3={};_0x1a18d3[_0x367150(0x13d)]=function(_0x18d6d9,_0x2f21ee){return _0x18d6d9===_0x2f21ee;},_0x1a18d3['WqzJF']=_0x367150(0x1f5),_0x1a18d3[_0x367150(0x164)]=_0x367150(0xeb),_0x1a18d3[_0x367150(0x1cc)]=_0x367150(0x1cb),_0x1a18d3[_0x367150(0x115)]=function(_0x23085c,_0x519b20){return _0x23085c!==_0x519b20;},_0x1a18d3[_0x367150(0x100)]=_0x367150(0x152),_0x1a18d3[_0x367150(0x1e3)]=_0x367150(0xf8);const _0x35f59f=_0x1a18d3,_0x261a30={..._0xbb0128,...{'method':_0x375623,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x353a8a,'body':_0x20ba05,'json':_0x35f59f[_0x367150(0x13d)](_0xbb0128[_0x367150(0x1d8)][_0x35f59f['WqzJF']],_0x35f59f[_0x367150(0x164)]),'agent':API_URL['includes'](_0x35f59f[_0x367150(0x1cc)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x35f59f[_0x367150(0x13d)](_0x353a8a,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x261a30[_0x367150(0x117)]=API_URL['includes'](_0x35f59f[_0x367150(0x1cc)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x367150(0x171)](_0x261a30,_0xbb0128),logger[_0x367150(0x118)](_0x367150(0x17e)+_0x261a30['url']));try{const {statusCode:_0x841bee,body:_0x48c041}=await bsSetupHelper[_0x367150(0x12d)](_0x375623,_0x353a8a,_0x261a30,_0xbb0128,_0x261a30[_0x367150(0x14b)]);if(_0x35f59f[_0x367150(0x115)](_0x841bee,0xc8))return _0x48c041?_0x48c041:_0x367150(0x106)+_0x841bee;let _0x10a76e=_0x48c041;if(_0x5ca407)try{_0x35f59f[_0x367150(0x115)](typeof _0x48c041,_0x35f59f[_0x367150(0x100)])&&(_0x10a76e=JSON['parse'](_0x48c041));}catch(_0x2fed76){logger[_0x367150(0x1a7)](_0x35f59f['TvEMX'],_0x48c041,util[_0x367150(0x13a)](_0x2fed76));}const _0x16a255={};return _0x16a255['data']=_0x10a76e,_0x16a255;}catch(_0x320a71){logger['error'](_0x367150(0x1d1)+util[_0x367150(0x13a)](_0x320a71));throw _0x320a71;}},exports[a117_0x8ca30e(0x12d)]=(_0x44eca3,_0x5628bc,_0x27e2f7,_0x53de61,_0x7e4f7f=!![])=>{const _0x5d0566=a117_0x8ca30e,_0x1cc734={'TrUrQ':function(_0x28e325,_0x220d5a){return _0x28e325(_0x220d5a);},'ommus':function(_0x1a1c98,_0x5e8eba){return _0x1a1c98!==_0x5e8eba;},'foiSy':_0x5d0566(0x152),'jaFBK':function(_0x3844de,_0x36f1c8){return _0x3844de(_0x36f1c8);},'bnkuI':_0x5d0566(0x1b6),'tSojk':function(_0x66e249,_0x3e05f8){return _0x66e249===_0x3e05f8;},'mocrs':'Content-Type','UeHvU':'application/json','lsOvL':_0x5d0566(0x1cb),'vJhse':function(_0x44a313,_0x29fae2){return _0x44a313===_0x29fae2;}};return new Promise((_0x5210c4,_0x34b57e)=>{const _0x2f6f3c=_0x5d0566,_0x3a86ad={'DyKsb':function(_0x3586aa,_0x1a51c8){const _0x11a8d1=a117_0x521f;return _0x1cc734[_0x11a8d1(0x1a0)](_0x3586aa,_0x1a51c8);},'IpPnf':function(_0x11d993,_0x27af55){const _0x1def74=a117_0x521f;return _0x1cc734[_0x1def74(0x16c)](_0x11d993,_0x27af55);},'WiDBi':_0x1cc734[_0x2f6f3c(0x121)],'aNVUA':function(_0x26ee0f,_0x43d3c1){const _0x779054=_0x2f6f3c;return _0x1cc734[_0x779054(0x136)](_0x26ee0f,_0x43d3c1);},'QAXdX':_0x1cc734[_0x2f6f3c(0x1f0)],'aYIaM':function(_0x14b96a,_0xfeff01){return _0x1cc734['TrUrQ'](_0x14b96a,_0xfeff01);}},_0xca1614={..._0x53de61,...{'method':_0x44eca3,'url':API_URL+'/'+_0x5628bc,'body':_0x27e2f7,'json':_0x1cc734[_0x2f6f3c(0x1aa)](_0x53de61[_0x2f6f3c(0x1d8)][_0x1cc734['mocrs']],_0x1cc734[_0x2f6f3c(0x1fa)]),'agent':API_URL[_0x2f6f3c(0x179)](_0x1cc734[_0x2f6f3c(0x1d9)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x1cc734['vJhse'](_0x5628bc,SCREENSHOT_ENDPOINT)&&(_0xca1614['agent']=API_URL[_0x2f6f3c(0x179)](_0x1cc734['lsOvL'])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper['nodeRequest'](_0x44eca3,_0x5628bc,_0xca1614,_0x53de61,API_URL)[_0x2f6f3c(0x11e)](({statusCode:_0x5cd762,body:_0x16f671})=>{const _0x492e31=_0x2f6f3c;if(_0x3a86ad[_0x492e31(0x105)](_0x5cd762,0xc8))_0x3a86ad[_0x492e31(0x173)](_0x34b57e,_0x16f671?_0x16f671:_0x492e31(0x106)+_0x5cd762);else{if(_0x7e4f7f)try{_0x3a86ad[_0x492e31(0x105)](typeof _0x16f671,_0x3a86ad[_0x492e31(0x167)])&&(_0x16f671=JSON['parse'](_0x16f671));}catch(_0x630471){_0x3a86ad['aNVUA'](_0x34b57e,_0x3a86ad['QAXdX']);return;}const _0x531cf2={};_0x531cf2[_0x492e31(0x1c4)]=_0x16f671,_0x3a86ad[_0x492e31(0x147)](_0x5210c4,_0x531cf2);}})[_0x2f6f3c(0x19d)](_0xbc492e=>{const _0x1095ed=_0x2f6f3c;_0xbc492e&&_0x1cc734[_0x1095ed(0x16c)](_0x34b57e,_0xbc492e);});});},exports[a117_0x8ca30e(0x1f2)]=_0x177a90=>{const _0x2efcf0=a117_0x8ca30e;if(process[_0x2efcf0(0x145)][_0x2efcf0(0x1af)])return process[_0x2efcf0(0x145)][_0x2efcf0(0x1af)][_0x2efcf0(0x1ea)](',');if(_0x177a90[_0x2efcf0(0x176)])return _0x177a90[_0x2efcf0(0x176)];return[];},exports['getDefaultHeaders']=(_0xd542c4=!![])=>{const _0xf31ee1=a117_0x8ca30e,_0x382703={};_0x382703[_0xf31ee1(0xed)]=_0xf31ee1(0xeb),_0x382703['WYouJ']=_0xf31ee1(0x18a),_0x382703[_0xf31ee1(0x16a)]=_0xf31ee1(0x191);const _0x49ca9a=_0x382703,_0x573693={};_0x573693[_0xf31ee1(0x1f5)]=_0x49ca9a[_0xf31ee1(0xed)],_0x573693['X-BSTACK-TESTOPS']=_0x49ca9a['WYouJ'];const _0x48b3ca=_0x573693;return _0xd542c4&&process['env'][_0xf31ee1(0x1d3)]&&(_0x48b3ca[_0x49ca9a[_0xf31ee1(0x16a)]]='Bearer\x20'+process['env'][_0xf31ee1(0x1d3)]),_0x48b3ca;},exports[a117_0x8ca30e(0x1b8)]=_0x4c8ca0=>{const _0x2cea1a=a117_0x8ca30e,_0x3e7907={};_0x3e7907[_0x2cea1a(0x169)]=_0x2cea1a(0x1cd);const _0x4495b5=_0x3e7907,_0x2d1e08=[],_0x3c97bf=new RegExp(_0x4495b5['KqssY'],'i');return Object[_0x2cea1a(0x1d7)](_0x4c8ca0)[_0x2cea1a(0x1d4)](_0x3bcd2e=>_0x3c97bf['test'](_0x3bcd2e))[_0x2cea1a(0x17d)](_0x4ef1d3=>_0x2d1e08[_0x2cea1a(0x128)](_0x4c8ca0[_0x4ef1d3])),_0x2d1e08;},exports[a117_0x8ca30e(0x1f9)]=_0x514331=>{const _0x166539=a117_0x8ca30e,_0x54974f=[],_0x22f055=_0x514331[_0x166539(0x15b)]||process['env'][_0x166539(0x140)];return _0x22f055&&_0x54974f[_0x166539(0x128)](_0x22f055),_0x54974f[_0x166539(0x128)](...exports[_0x166539(0x1b8)](process[_0x166539(0x145)])),_0x54974f[_0x166539(0x128)](...exports[_0x166539(0x1b8)](_0x514331)),_0x54974f;},exports[a117_0x8ca30e(0x1ab)]=_0x1d6a59=>{const _0xa673df=a117_0x8ca30e;if(!_0x1d6a59)return'';return _0x1d6a59[_0xa673df(0x1e0)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a117_0x8ca30e(0x103)]=(_0x9f1563=0x64)=>new Promise(_0x373276=>setTimeout(_0x373276,_0x9f1563));const getPlatformName=()=>{const _0x1e0e91=a117_0x8ca30e,_0x54a332={};_0x54a332[_0x1e0e91(0x1ef)]=function(_0x494cfb,_0x213884){return _0x494cfb===_0x213884;},_0x54a332['JkdGH']=_0x1e0e91(0x182),_0x54a332['QzXVR']=_0x1e0e91(0x138),_0x54a332[_0x1e0e91(0x174)]=_0x1e0e91(0xf0),_0x54a332['IWVMW']='OS\x20X',_0x54a332[_0x1e0e91(0x190)]=function(_0x165e8a,_0x353334){return _0x165e8a===_0x353334;},_0x54a332[_0x1e0e91(0x172)]=_0x1e0e91(0x1ac),_0x54a332['WTYxj']=_0x1e0e91(0x14c),_0x54a332[_0x1e0e91(0x1b9)]='Unknown';const _0x11eb08=_0x54a332;if(_0x11eb08[_0x1e0e91(0x1ef)](process['platform'],_0x11eb08[_0x1e0e91(0x1f6)]))return _0x11eb08[_0x1e0e91(0x157)];if(_0x11eb08[_0x1e0e91(0x1ef)](process['platform'],_0x11eb08[_0x1e0e91(0x174)]))return _0x11eb08[_0x1e0e91(0x168)];if(_0x11eb08['TUxAo'](process[_0x1e0e91(0x10b)],_0x11eb08['DGaeK']))return _0x11eb08[_0x1e0e91(0x151)];return _0x11eb08[_0x1e0e91(0x1b9)];},getMacOSVersion=()=>{const _0x5db755=a117_0x8ca30e,_0x14802b={};_0x14802b['UOnxu']='awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27';const _0x5713eb=_0x14802b;return child_process['execSync'](_0x5713eb[_0x5db755(0x12a)])[_0x5db755(0x107)]()[_0x5db755(0x199)]();},getLinuxDetails=()=>{const _0x26f61c={'IaVkE':function(_0x3ad9d6,_0x4a560f){return _0x3ad9d6(_0x4a560f);},'fKSXC':function(_0x2a6853,_0x2fac81){return _0x2a6853(_0x2fac81);}};return new Promise((_0x1974be,_0x5ba6e1)=>{const _0x8bf7fe=a117_0x521f;_0x26f61c[_0x8bf7fe(0x10f)](getos,(_0x4af24a,_0x4efd25)=>{const _0x2d1886=_0x8bf7fe;if(_0x4af24a)return _0x26f61c[_0x2d1886(0x10f)](_0x5ba6e1,_0x4af24a);_0x26f61c[_0x2d1886(0x12b)](_0x1974be,_0x4efd25);});});};exports['getPlatformDetails']=async()=>{const _0x2bc6b7=a117_0x8ca30e,_0x1740b5={'mZgVp':function(_0x4f54ca){return _0x4f54ca();},'mOIiU':_0x2bc6b7(0xfa),'zaCLU':function(_0x4ff1c6){return _0x4ff1c6();},'MosVi':_0x2bc6b7(0x138),'ROGUy':_0x2bc6b7(0x120),'PcVtM':function(_0x564ced){return _0x564ced();},'qadIU':_0x2bc6b7(0x14c),'SpGPd':'Error\x20in\x20getting\x20Linux\x20Details'};let _0x27b7d5=_0x1740b5['mZgVp'](getPlatformName),_0xc4ab06=os[_0x2bc6b7(0xef)]()[_0x2bc6b7(0x107)]();switch(_0x27b7d5){case _0x1740b5['mOIiU']:_0xc4ab06=_0x1740b5[_0x2bc6b7(0x1f7)](getMacOSVersion);break;case _0x1740b5[_0x2bc6b7(0x14d)]:try{const _0xd751f7=(await import(_0x1740b5['ROGUy']))[_0x2bc6b7(0x124)];_0xc4ab06=_0x1740b5[_0x2bc6b7(0x1d2)](_0xd751f7);}catch(_0x320ed6){exports['debug']('Error\x20in\x20importing\x20windows-release\x20'+_0x320ed6['toString']());}break;case _0x1740b5[_0x2bc6b7(0x129)]:try{const _0x4a0a4a=await _0x1740b5[_0x2bc6b7(0x14f)](getLinuxDetails);_0x4a0a4a[_0x2bc6b7(0x139)]&&(_0x27b7d5=_0x4a0a4a['dist']),_0x4a0a4a[_0x2bc6b7(0xef)]&&(_0xc4ab06=_0x4a0a4a['release'][_0x2bc6b7(0x107)]());}catch(_0x3223ee){exports[_0x2bc6b7(0x118)](_0x1740b5[_0x2bc6b7(0x131)]);}break;default:break;}const _0x1fc74a={};return _0x1fc74a[_0x2bc6b7(0x144)]=_0x27b7d5,_0x1fc74a[_0x2bc6b7(0x188)]=_0xc4ab06,_0x1fc74a;},exports[a117_0x8ca30e(0x19f)]=(_0x51ba5d,_0xaff7a6)=>{const _0x1e48b6=a117_0x8ca30e,_0x3d5498={};_0x3d5498[_0x1e48b6(0x142)]=function(_0x1ea9c6,_0x5f031b){return _0x1ea9c6===_0x5f031b;},_0x3d5498['tgJoL']=_0x1e48b6(0x110),_0x3d5498['ziUxw']=_0x1e48b6(0x18d);const _0x4fd339=_0x3d5498;if(!_0x51ba5d)return[];try{if(_0x4fd339[_0x1e48b6(0x142)](_0xaff7a6,_0x4fd339['tgJoL']))return _0x51ba5d[_0x1e48b6(0x183)](_0x5c704a=>{const _0x243f1d=_0x1e48b6,{stack:_0x555f17,..._0xa29438}=_0x5c704a,_0x2b44ca=Object[_0x243f1d(0x1d7)](_0xa29438)[_0x243f1d(0x183)](_0x229fbf=>{return _0x229fbf+':\x20'+_0xa29438[_0x229fbf];}),_0x11d0fd=_0x555f17?exports[_0x243f1d(0x1ab)](_0x555f17)[_0x243f1d(0x1ea)](/\r?\n/):[exports[_0x243f1d(0x1ab)](_0x5c704a[_0x243f1d(0x1b3)])],_0x68dc8f={};return _0x68dc8f['backtrace']=_0x11d0fd,_0x68dc8f[_0x243f1d(0x153)]=_0x2b44ca,_0x68dc8f;});else{if(_0x4fd339[_0x1e48b6(0x142)](_0xaff7a6,_0x4fd339[_0x1e48b6(0x1a1)])){const _0x1ecfdc=[],_0x53293a=[];return Object[_0x1e48b6(0x1d7)](_0x51ba5d)[_0x1e48b6(0x17d)](_0x2108b1=>{const _0x5b2541=_0x1e48b6;try{_0x53293a[_0x5b2541(0x128)](_0x2108b1+':\x20'+_0x51ba5d[_0x2108b1]);}catch(_0x210aac){exports[_0x5b2541(0x118)](_0x5b2541(0x1e7)+_0x210aac['message']+_0x5b2541(0xf5)+_0x210aac[_0x5b2541(0x123)]);}}),_0x1ecfdc[_0x1e48b6(0x128)]({'backtrace':exports[_0x1e48b6(0x1ab)](_0x51ba5d[_0x1e48b6(0x13b)])[_0x1e48b6(0x1ea)](/\r?\n/),'expanded':_0x53293a}),_0x1ecfdc;}}return[];}catch(_0x1c63a3){exports[_0x1e48b6(0x118)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0x1c63a3[_0x1e48b6(0x1b3)]+_0x1e48b6(0xf5)+_0x1c63a3[_0x1e48b6(0x123)]);}return[];};class PathHelper{constructor(_0x34b2eb,_0x389426){const _0x59a215=a117_0x8ca30e;this[_0x59a215(0x1c7)]=_0x34b2eb,this[_0x59a215(0x16e)]=_0x389426;}[a117_0x8ca30e(0x1bd)](_0x417da5){const _0xec57f7=a117_0x8ca30e,_0x138426=this[_0xec57f7(0x1c7)]['cwd']||this[_0xec57f7(0x1c7)][_0xec57f7(0x1a2)];return path[_0xec57f7(0x1d5)](_0x138426,_0x417da5);}['prefixTestPath'](_0x52b587){const _0x5885a1=a117_0x8ca30e,_0x5502b6=this[_0x5885a1(0x1bd)](_0x52b587);return this[_0x5885a1(0x16e)]?path['join'](this[_0x5885a1(0x16e)],_0x5502b6):_0x5502b6;}}function a117_0x521f(_0x763133,_0x18d813){const _0x237944=a117_0x2379();return a117_0x521f=function(_0x521fae,_0x47fc31){_0x521fae=_0x521fae-0xeb;let _0x55b5ec=_0x237944[_0x521fae];return _0x55b5ec;},a117_0x521f(_0x763133,_0x18d813);}exports[a117_0x8ca30e(0x160)]=PathHelper,exports[a117_0x8ca30e(0x1bf)]=(_0x3681f=!![])=>{const _0x552d7c=a117_0x8ca30e,_0x41ada1={};_0x41ada1[_0x552d7c(0x18e)]=function(_0x38dea3,_0x371b3d){return _0x38dea3===_0x371b3d;},_0x41ada1['IvOBG']='X-BSTACK-TESTOPS',_0x41ada1[_0x552d7c(0x185)]=_0x552d7c(0x18a),_0x41ada1[_0x552d7c(0x11a)]=_0x552d7c(0x1a3),_0x41ada1[_0x552d7c(0x17c)]='browserstack',_0x41ada1[_0x552d7c(0x194)]=_0x552d7c(0x18f);const _0x215153=_0x41ada1;requestSpy[_0x552d7c(0x1b0)]((_0x485bdd,_0x4f1f5f)=>{const _0x43c849=_0x552d7c;_0x4f1f5f&&!(_0x4f1f5f['headers']&&_0x215153[_0x43c849(0x18e)](_0x4f1f5f[_0x43c849(0x1d8)][_0x215153[_0x43c849(0x1f1)]],_0x215153[_0x43c849(0x185)]))&&(_0x4f1f5f['host']=_0x4f1f5f['hostname'],delete _0x4f1f5f[_0x43c849(0x1ce)],_0x3681f&&process[_0x43c849(0x1db)](_0x43c849(0x11c)+process['pid'],{'timestamp':new Date()[_0x43c849(0x130)](),'level':null,'message':null,'kind':_0x215153[_0x43c849(0x11a)],'http_response':_0x4f1f5f})),_0x4f1f5f&&(constants[_0x43c849(0x1a6)][_0x43c849(0x110)](_0x4f1f5f[_0x43c849(0x1dc)])||constants[_0x43c849(0x1d0)][_0x43c849(0x110)](_0x4f1f5f[_0x43c849(0x1dc)]))?global[_0x43c849(0x10e)]=_0x215153[_0x43c849(0x17c)]:global[_0x43c849(0x10e)]=_0x215153['pVZva'];});},exports['patchConsoleLogger']=()=>{const _0x4c291d=a117_0x8ca30e,_0x43e91a={'vwikU':function(_0x307b06,_0x1806ff){return _0x307b06(_0x1806ff);}};console={},Object[_0x4c291d(0x1d7)](consoleHolder)['forEach'](_0x85340a=>{const _0x3bffbc=_0x4c291d;_0x43e91a[_0x3bffbc(0x1fc)](isFunction,consoleHolder[_0x85340a])?console[_0x85340a]=(..._0x2b8992)=>{const _0x369004=_0x3bffbc;try{!Object['keys'](BSTestOpsPatcher)[_0x369004(0x179)](_0x85340a)?consoleHolder[_0x85340a](..._0x2b8992):BSTestOpsPatcher[_0x85340a](..._0x2b8992);}catch(_0x1e0fa3){consoleHolder[_0x85340a](..._0x2b8992);}}:console[_0x85340a]=consoleHolder[_0x85340a];});},exports[a117_0x8ca30e(0x195)]=()=>a117_0x8ca30e(0x104)+JSON[a117_0x8ca30e(0x15f)]({'action':'annotate','arguments':{'data':a117_0x8ca30e(0x1eb)+Date[a117_0x8ca30e(0xec)](),'level':a117_0x8ca30e(0x118)}}),exports['getObservabilityLinkedProductName']=_0x544443=>{const _0x2d1f7d=a117_0x8ca30e,_0x1c238a={};_0x1c238a[_0x2d1f7d(0x1d6)]=function(_0x9bccfe,_0x2e1d77){return _0x9bccfe===_0x2e1d77;},_0x1c238a[_0x2d1f7d(0x17b)]=_0x2d1f7d(0x162),_0x1c238a[_0x2d1f7d(0x158)]=_0x2d1f7d(0x1dd),_0x1c238a[_0x2d1f7d(0x1b5)]=_0x2d1f7d(0x1ca),_0x1c238a['nVObf']=function(_0x33bf51,_0x50b490){return _0x33bf51>_0x50b490;},_0x1c238a[_0x2d1f7d(0x1ed)]='app-automate',_0x1c238a[_0x2d1f7d(0x135)]=_0x2d1f7d(0x116),_0x1c238a[_0x2d1f7d(0x101)]=_0x2d1f7d(0x1be),_0x1c238a[_0x2d1f7d(0x13f)]=_0x2d1f7d(0x1a8),_0x1c238a[_0x2d1f7d(0x1c1)]='automate';const _0x25121f=_0x1c238a;let _0x56a07f=null;try{if(_0x25121f[_0x2d1f7d(0x1d6)](global['__cloud_provider___'],_0x25121f[_0x2d1f7d(0x17b)])){if(_0x544443[_0x25121f['DYTCz']]||_0x544443[_0x25121f[_0x2d1f7d(0x1b5)]]||!bsSetupHelper[_0x2d1f7d(0x133)](global[_0x2d1f7d(0x15c)])&&_0x25121f[_0x2d1f7d(0x1c5)](global['capabilities'][_0x2d1f7d(0x154)],0x0)&&(global[_0x2d1f7d(0x15c)][0x0][_0x25121f[_0x2d1f7d(0x1b5)]]||global['capabilities'][0x0][_0x25121f[_0x2d1f7d(0x158)]]))_0x56a07f=_0x25121f[_0x2d1f7d(0x1ed)];else _0x544443[_0x25121f[_0x2d1f7d(0x135)]]&&_0x544443[_0x25121f[_0x2d1f7d(0x135)]][_0x25121f['AXGvL']]?_0x56a07f=_0x25121f[_0x2d1f7d(0x13f)]:_0x56a07f=_0x25121f[_0x2d1f7d(0x1c1)];}}catch(_0x20f574){exports[_0x2d1f7d(0x118)](_0x2d1f7d(0x102)+_0x20f574);}return _0x56a07f;},exports['sendPlatformDetails']=async(_0xd8deab,_0x27fd24,_0x47f98b=![])=>{const _0x333cbd=a117_0x8ca30e,_0x12bf7e={};_0x12bf7e[_0x333cbd(0x178)]=function(_0x31b4ac,_0x58a0d0){return _0x31b4ac===_0x58a0d0;},_0x12bf7e[_0x333cbd(0xf3)]=_0x333cbd(0x162),_0x12bf7e[_0x333cbd(0x1f3)]='unknown_grid',_0x12bf7e[_0x333cbd(0x12f)]=_0x333cbd(0x112);const _0x3a2670=_0x12bf7e;try{const _0x4dce2b=await _0xd8deab[_0x333cbd(0x186)](),_0x36cb92=await _0xd8deab[_0x333cbd(0x127)](),_0xd04591={},_0xadf861=Object[_0x333cbd(0x175)](_0x36cb92[_0x333cbd(0x186)]()[_0x333cbd(0x1de)]),_0x5d89f4={'product':exports[_0x333cbd(0x1f8)](_0xadf861),'capabilities':_0xadf861,'platform':_0x4dce2b[_0x333cbd(0x1e1)](),'platform_version':bsSetupHelper['getPlatformVersion'](_0x3a2670[_0x333cbd(0x178)](global[_0x333cbd(0x10e)],_0x3a2670['KteaG'])),'browser':_0x4dce2b[_0x333cbd(0x16b)](),'browser_version':_0x4dce2b[_0x333cbd(0x1da)](),'session_id':_0x36cb92[_0x333cbd(0x1e6)]()};global[_0x333cbd(0x10e)]?_0xd04591[global[_0x333cbd(0x10e)]]=_0x5d89f4:_0xd04591[_0x3a2670[_0x333cbd(0x1f3)]]=_0x5d89f4;if(_0x47f98b)return _0xd04591;process[_0x333cbd(0x1db)](_0x333cbd(0x1cf)+process['pid'],{'timestamp':new Date()[_0x333cbd(0x130)](),'level':null,'message':null,'kind':_0x3a2670['qIbzN'],'http_response':_0xd04591,'uuid':_0x27fd24});}catch(_0x359164){exports[_0x333cbd(0x118)](_0x333cbd(0x1b2)+_0x359164);}},exports[a117_0x8ca30e(0x111)]=_0x55248b=>{const _0x4f0154=a117_0x8ca30e;return _0x55248b&&_0x55248b[_0x4f0154(0x107)]()['match'](/browserstack internal helper hook/);};