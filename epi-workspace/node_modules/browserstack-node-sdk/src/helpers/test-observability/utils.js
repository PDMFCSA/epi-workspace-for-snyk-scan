const a88_0x56155f=a88_0x10c3;(function(_0x106cf1,_0x16f5d5){const _0x18c63e=a88_0x10c3,_0x4b98ba=_0x106cf1();while(!![]){try{const _0x5f4a5c=-parseInt(_0x18c63e(0x258))/0x1+-parseInt(_0x18c63e(0x2e4))/0x2*(parseInt(_0x18c63e(0x2f4))/0x3)+-parseInt(_0x18c63e(0x231))/0x4+parseInt(_0x18c63e(0x2d3))/0x5+parseInt(_0x18c63e(0x2b4))/0x6*(-parseInt(_0x18c63e(0x2da))/0x7)+-parseInt(_0x18c63e(0x1f9))/0x8*(parseInt(_0x18c63e(0x283))/0x9)+-parseInt(_0x18c63e(0x2fc))/0xa*(-parseInt(_0x18c63e(0x203))/0xb);if(_0x5f4a5c===_0x16f5d5)break;else _0x4b98ba['push'](_0x4b98ba['shift']());}catch(_0x472ed1){_0x4b98ba['push'](_0x4b98ba['shift']());}}}(a88_0xe07b,0x44a20));const fs=require('fs'),path=require('path'),gitLastCommit=require(a88_0x56155f(0x2f3)),getRepoInfo=require(a88_0x56155f(0x260)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require(a88_0x56155f(0x24f)),http=require(a88_0x56155f(0x2b8)),https=require(a88_0x56155f(0x2ac)),child_process=require('child_process'),getos=require('getos'),os=require('os'),logger=require(a88_0x56155f(0x23b))[a88_0x56155f(0x2de)],bsSetupHelper=require('../helper'),requestSpy=require('../../helpers/request-spy'),constants=require(a88_0x56155f(0x230)),logPatcher=require(a88_0x56155f(0x2b6)),util=require(a88_0x56155f(0x263)),{fileLogger}=require('../logger'),PerformanceTester=require(a88_0x56155f(0x233)),{isFunction}=require(a88_0x56155f(0x2ea)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a88_0x56155f(0x2e5));exports[a88_0x56155f(0x284)]=_0x1f2da9=>{const _0x29bef8=a88_0x56155f;fileLogger[_0x29bef8(0x303)]('['+new Date()[_0x29bef8(0x2dc)]()+'][\x20OBSERVABILITY\x20]\x20'+_0x1f2da9);},exports['debug']=_0x571c8f=>{const _0x1fc539=a88_0x56155f,_0x5af23c={};_0x5af23c[_0x1fc539(0x25d)]=function(_0x4c7d6e,_0x2672b9){return _0x4c7d6e===_0x2672b9;},_0x5af23c[_0x1fc539(0x1f4)]=_0x1fc539(0x2a2),_0x5af23c[_0x1fc539(0x273)]=function(_0x342fe7,_0x392770){return _0x342fe7===_0x392770;};const _0x4940fc=_0x5af23c;fileLogger['debug']('['+new Date()['toISOString']()+'][\x20OBSERVABILITY\x20]\x20'+_0x571c8f),(_0x4940fc[_0x1fc539(0x25d)](process[_0x1fc539(0x2a5)][_0x1fc539(0x24d)],_0x4940fc[_0x1fc539(0x1f4)])||_0x4940fc[_0x1fc539(0x273)](process[_0x1fc539(0x2a5)][_0x1fc539(0x24d)],'1'))&&consoleHolder[_0x1fc539(0x216)]('\x0a['+new Date()[_0x1fc539(0x2dc)]()+'][\x20OBSERVABILITY\x20]\x20'+_0x571c8f+'\x0a');};const a88_0x8b0c3f={};function a88_0x10c3(_0x41dab8,_0x55e4fb){const _0xe07beb=a88_0xe07b();return a88_0x10c3=function(_0x10c330,_0x548969){_0x10c330=_0x10c330-0x1f1;let _0xe8c06b=_0xe07beb[_0x10c330];return _0xe8c06b;},a88_0x10c3(_0x41dab8,_0x55e4fb);}a88_0x8b0c3f[a88_0x56155f(0x220)]=!![],a88_0x8b0c3f[a88_0x56155f(0x29a)]=0xea60,a88_0x8b0c3f[a88_0x56155f(0x2e8)]=0x2,a88_0x8b0c3f[a88_0x56155f(0x2d7)]=0x2;const httpKeepAliveAgent=new http['Agent'](a88_0x8b0c3f),a88_0x44733b={};a88_0x44733b[a88_0x56155f(0x220)]=!![],a88_0x44733b[a88_0x56155f(0x29a)]=0xea60,a88_0x44733b[a88_0x56155f(0x2e8)]=0x2,a88_0x44733b['maxTotalSockets']=0x2;const httpsKeepAliveAgent=new https[(a88_0x56155f(0x272))](a88_0x44733b),a88_0x54480c={};a88_0x54480c['keepAlive']=!![],a88_0x54480c[a88_0x56155f(0x29a)]=0xea60,a88_0x54480c['maxSockets']=0x2,a88_0x54480c[a88_0x56155f(0x2d7)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a88_0x56155f(0x272))](a88_0x54480c),a88_0x3d5837={};a88_0x3d5837[a88_0x56155f(0x220)]=!![],a88_0x3d5837[a88_0x56155f(0x29a)]=0xea60,a88_0x3d5837[a88_0x56155f(0x2e8)]=0x2,a88_0x3d5837[a88_0x56155f(0x2d7)]=0x2;const httpsScreenshotsKeepAliveAgent=new https['Agent'](a88_0x3d5837);exports[a88_0x56155f(0x2bb)]=()=>{const _0x1c7234=a88_0x56155f,_0x3d92b1={};_0x3d92b1[_0x1c7234(0x241)]=function(_0x5b38b4,_0x4553a9){return _0x5b38b4!==_0x4553a9;},_0x3d92b1['IGLog']='null';const _0x9d68c3=_0x3d92b1;return process['env']['BROWSERSTACK_RERUN_TESTS']&&_0x9d68c3[_0x1c7234(0x241)](process[_0x1c7234(0x2a5)]['BROWSERSTACK_RERUN_TESTS'],_0x9d68c3['IGLog'])?!![]:![];},exports[a88_0x56155f(0x2e7)]=()=>{const _0x2dbee4=a88_0x56155f,_0x192bfd={};_0x192bfd[_0x2dbee4(0x279)]=function(_0x9ea38f,_0x277700){return _0x9ea38f===_0x277700;},_0x192bfd[_0x2dbee4(0x299)]=_0x2dbee4(0x2a2),_0x192bfd[_0x2dbee4(0x21c)]=function(_0x463117,_0xfc996c){return _0x463117===_0xfc996c;};const _0x581de1=_0x192bfd;let _0x5c6fc5=!![];return process[_0x2dbee4(0x2a5)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']&&(_0x5c6fc5=_0x581de1[_0x2dbee4(0x279)](process[_0x2dbee4(0x2a5)][_0x2dbee4(0x287)],_0x581de1[_0x2dbee4(0x299)])),process[_0x2dbee4(0x2a5)][_0x2dbee4(0x236)]&&(_0x5c6fc5=_0x581de1[_0x2dbee4(0x21c)](process[_0x2dbee4(0x2a5)][_0x2dbee4(0x236)],_0x581de1[_0x2dbee4(0x299)])),_0x5c6fc5;},exports[a88_0x56155f(0x240)]=_0x16c713=>{const _0x54089d=a88_0x56155f;if(bsSetupHelper[_0x54089d(0x209)](_0x16c713))return undefined;try{return _0x16c713[_0x54089d(0x242)]()[_0x54089d(0x301)](',');}catch(_0x35fbfe){return undefined;}},exports[a88_0x56155f(0x26f)]=()=>{const _0xf6f070=a88_0x56155f,_0xa65229={};_0xa65229[_0xf6f070(0x2c0)]=function(_0x5bafde,_0x78e77a){return _0x5bafde!==_0x78e77a;},_0xa65229['evzhe']='null',_0xa65229[_0xf6f070(0x29f)]=_0xf6f070(0x22d);const _0x5e4157=_0xa65229;return PerformanceTester[_0xf6f070(0x250)](PerformanceO11yEvents[_0xf6f070(0x29c)],async()=>{const _0x3feec9=_0xf6f070;try{process[_0x3feec9(0x2a5)][_0x3feec9(0x22f)]&&_0x5e4157[_0x3feec9(0x2c0)](process[_0x3feec9(0x2a5)]['BS_TESTOPS_BUILD_HASHED_ID'],_0x5e4157['evzhe'])&&_0x5e4157[_0x3feec9(0x2c0)](process[_0x3feec9(0x2a5)][_0x3feec9(0x22f)],_0x5e4157[_0x3feec9(0x29f)])&&logger[_0x3feec9(0x2f8)](_0x3feec9(0x2f1)+process[_0x3feec9(0x2a5)][_0x3feec9(0x22f)]+_0x3feec9(0x2bc));}catch(_0x21ec95){logger[_0x3feec9(0x271)]('['+new Date()['toISOString']()+_0x3feec9(0x253));}})();},exports[a88_0x56155f(0x285)]=_0x1ae9c3=>{const _0x53acd9=a88_0x56155f,_0x80d55c={};_0x80d55c['Fnxcd']=_0x53acd9(0x210),_0x80d55c['bbwtL']=_0x53acd9(0x291);const _0x46630d=_0x80d55c;if(!_0x1ae9c3)return null;return _0x1ae9c3['toString']()[_0x53acd9(0x228)](/AssertionError/)?_0x46630d[_0x53acd9(0x264)]:_0x46630d[_0x53acd9(0x2a8)];},exports[a88_0x56155f(0x289)]=_0x5f0f97=>{const _0x262aa7=a88_0x56155f,_0x3c5af0={};_0x3c5af0[_0x262aa7(0x1f8)]=_0x262aa7(0x24b),_0x3c5af0['BqiNq']=_0x262aa7(0x2eb),_0x3c5af0['PpTbm']=_0x262aa7(0x295),_0x3c5af0[_0x262aa7(0x251)]='jest',_0x3c5af0[_0x262aa7(0x278)]=_0x262aa7(0x277);const _0x5826b8=_0x3c5af0;let _0x288e6e=null;switch(_0x5f0f97){case FRAMEWORKS[_0x262aa7(0x2a1)]:_0x288e6e=bsSetupHelper['getPackageVersion'](_0x5826b8[_0x262aa7(0x1f8)]);break;case FRAMEWORKS[_0x262aa7(0x218)]:_0x288e6e=bsSetupHelper[_0x262aa7(0x24a)](_0x5826b8['BqiNq']);break;case FRAMEWORKS[_0x262aa7(0x23c)]:case FRAMEWORKS['CODECEPT_CUCUMBER']:_0x288e6e=bsSetupHelper[_0x262aa7(0x24a)](_0x5826b8[_0x262aa7(0x201)]);break;case FRAMEWORKS[_0x262aa7(0x22b)]:_0x288e6e=bsSetupHelper[_0x262aa7(0x24a)](_0x5826b8[_0x262aa7(0x251)]);break;case FRAMEWORKS[_0x262aa7(0x2d0)]:_0x288e6e=bsSetupHelper[_0x262aa7(0x24a)](_0x5826b8[_0x262aa7(0x278)]);break;default:break;}return _0x288e6e;},exports[a88_0x56155f(0x27d)]=_0x5aa995=>{const _0x3f70ce=a88_0x56155f;let _0x576fc7=null;switch(_0x5aa995){case FRAMEWORKS[_0x3f70ce(0x218)]:_0x576fc7=process['env']['BROWSERSTACK_CONFIG_FILE_PATH'];break;}if(!_0x576fc7)return;return bsSetupHelper['readConfig'](_0x576fc7,![]);},exports[a88_0x56155f(0x294)]=_0x2711bb=>{const _0x41d070=a88_0x56155f;return{'username':bsSetupHelper[_0x41d070(0x1fc)](_0x2711bb),'accessKey':bsSetupHelper['getAccessKey'](_0x2711bb)};},exports['modifyReqForTraceUpload']=(_0x8af7b5,_0x1a667d)=>{const _0x4bcc8b=a88_0x56155f,_0x1fa2a1={};_0x1fa2a1[_0x4bcc8b(0x226)]=_0x4bcc8b(0x304),_0x1fa2a1[_0x4bcc8b(0x266)]=_0x4bcc8b(0x2f9),_0x1fa2a1[_0x4bcc8b(0x213)]=_0x4bcc8b(0x276),_0x1fa2a1[_0x4bcc8b(0x268)]='PLAYWRIGHT_TRACE_LOGS';const _0x164c1f=_0x1fa2a1,_0x29bbe7=_0x164c1f[_0x4bcc8b(0x226)][_0x4bcc8b(0x301)]('|');let _0x4da3e9=0x0;while(!![]){switch(_0x29bbe7[_0x4da3e9++]){case'0':_0x8af7b5[_0x4bcc8b(0x246)]={'data':_0x8af7b5[_0x4bcc8b(0x296)][0x0][_0x4bcc8b(0x2f0)][0x0][_0x4bcc8b(0x28d)],'test_run_uuid':_0x8af7b5[_0x4bcc8b(0x296)][0x0][_0x4bcc8b(0x2f0)][0x0][_0x4bcc8b(0x2bd)],'event_type':_0x164c1f[_0x4bcc8b(0x266)],'kind':_0x164c1f[_0x4bcc8b(0x213)],'attachmentType':_0x164c1f[_0x4bcc8b(0x268)],'timestamp':new Date()[_0x4bcc8b(0x2dc)](),'fileName':_0x8af7b5[_0x4bcc8b(0x296)][0x0]['logs'][0x0][_0x4bcc8b(0x2e0)]};continue;case'1':delete _0x1a667d[_0x4bcc8b(0x20a)];continue;case'2':if(!_0x8af7b5[_0x4bcc8b(0x296)][0x0]||!_0x8af7b5['body'][0x0][_0x4bcc8b(0x2f0)]||!_0x8af7b5[_0x4bcc8b(0x296)][0x0][_0x4bcc8b(0x2f0)]['length'])return;continue;case'3':delete _0x8af7b5[_0x4bcc8b(0x2a0)];continue;case'4':delete _0x8af7b5[_0x4bcc8b(0x296)];continue;case'5':if(!_0x8af7b5[_0x4bcc8b(0x296)]||!Array[_0x4bcc8b(0x2b5)](_0x8af7b5['body']))return;continue;}break;}},exports['asyncAwaitNodeReq']=async(_0x2dc887,_0x4e10c5,_0x11bdc1,_0xce0ea,_0x53b48e=!![])=>{const _0x564172=a88_0x56155f,_0x2ab343={};_0x2ab343['ZplIo']=function(_0x569de9,_0xa4be17){return _0x569de9===_0xa4be17;},_0x2ab343[_0x564172(0x298)]='Content-Type',_0x2ab343['gopne']=_0x564172(0x20e),_0x2ab343['wxdfP']=_0x564172(0x2ac),_0x2ab343['TFqCi']=function(_0x2e6ddb,_0x56f314){return _0x2e6ddb===_0x56f314;},_0x2ab343[_0x564172(0x2b3)]=function(_0x74ef,_0x52731a){return _0x74ef!==_0x52731a;},_0x2ab343[_0x564172(0x2ae)]=_0x564172(0x205),_0x2ab343[_0x564172(0x21b)]='Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s';const _0x28b31a=_0x2ab343,_0x1fa721={..._0xce0ea,...{'method':_0x2dc887,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x4e10c5,'body':_0x11bdc1,'json':_0x28b31a[_0x564172(0x208)](_0xce0ea[_0x564172(0x20a)][_0x28b31a[_0x564172(0x298)]],_0x28b31a[_0x564172(0x24e)]),'agent':API_URL['includes'](_0x28b31a[_0x564172(0x200)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x28b31a[_0x564172(0x214)](_0x4e10c5,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x1fa721[_0x564172(0x1f3)]=API_URL[_0x564172(0x2ca)](_0x28b31a[_0x564172(0x200)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x564172(0x212)](_0x1fa721,_0xce0ea),logger[_0x564172(0x261)](_0x564172(0x2aa)+_0x1fa721[_0x564172(0x2fd)]));try{const {statusCode:_0x2520ef,body:_0x1d3bc0}=await bsSetupHelper[_0x564172(0x2a6)](_0x2dc887,_0x4e10c5,_0x1fa721,_0xce0ea,_0x1fa721[_0x564172(0x2fd)]);if(_0x28b31a[_0x564172(0x2b3)](_0x2520ef,0xc8))return _0x1d3bc0?_0x1d3bc0:_0x564172(0x2a3)+_0x2520ef;let _0x365a45=_0x1d3bc0;if(_0x53b48e)try{_0x28b31a['tMUrb'](typeof _0x1d3bc0,_0x28b31a[_0x564172(0x2ae)])&&(_0x365a45=JSON[_0x564172(0x2a7)](_0x1d3bc0));}catch(_0x160946){logger[_0x564172(0x271)](_0x28b31a[_0x564172(0x21b)],_0x1d3bc0,util[_0x564172(0x25f)](_0x160946));}const _0x4d9d28={};return _0x4d9d28[_0x564172(0x28d)]=_0x365a45,_0x4d9d28;}catch(_0x30f71b){logger[_0x564172(0x271)](_0x564172(0x2ed)+util[_0x564172(0x25f)](_0x30f71b));throw _0x30f71b;}},exports[a88_0x56155f(0x2a6)]=(_0x3a4999,_0x3b21a5,_0x35cb0a,_0x287cd2,_0x3d04f1=!![])=>{const _0x3e3df5=a88_0x56155f,_0xf15021={'stfNe':function(_0xb816b7,_0x145004){return _0xb816b7!==_0x145004;},'UAHdW':function(_0x39552a,_0x1e2e40){return _0x39552a(_0x1e2e40);},'loIPH':_0x3e3df5(0x205),'GIJpN':function(_0x2fe228,_0x3bb5a0){return _0x2fe228(_0x3bb5a0);},'QvNJc':_0x3e3df5(0x2c3),'nkCPq':function(_0x24aba2,_0x1c8ed1){return _0x24aba2(_0x1c8ed1);},'aSgXp':function(_0xf50648,_0x5523e1){return _0xf50648===_0x5523e1;},'bJZDa':_0x3e3df5(0x234),'rvxdd':_0x3e3df5(0x20e),'ICFIJ':_0x3e3df5(0x2ac),'ivgxV':function(_0x3471ca,_0x32bcc9){return _0x3471ca===_0x32bcc9;}};return new Promise((_0x14d273,_0x2532c9)=>{const _0x4ce347=_0x3e3df5,_0x1388c9={'CKyiT':function(_0x262bcd,_0x1b1f3d){const _0x176e4f=a88_0x10c3;return _0xf15021[_0x176e4f(0x2ee)](_0x262bcd,_0x1b1f3d);},'tEUBi':function(_0x3021f9,_0x33d12f){const _0xa484c8=a88_0x10c3;return _0xf15021[_0xa484c8(0x22a)](_0x3021f9,_0x33d12f);},'fLlOf':function(_0x2cd4d5,_0x5d46a9){const _0x15c220=a88_0x10c3;return _0xf15021[_0x15c220(0x2ee)](_0x2cd4d5,_0x5d46a9);},'xpvKh':_0xf15021[_0x4ce347(0x2c1)],'HDdnz':function(_0x39179b,_0x31f895){const _0x26d28b=_0x4ce347;return _0xf15021[_0x26d28b(0x2ba)](_0x39179b,_0x31f895);},'MPRaC':_0xf15021['QvNJc'],'xHYBZ':function(_0x245261,_0x586e63){const _0x45ce8f=_0x4ce347;return _0xf15021[_0x45ce8f(0x223)](_0x245261,_0x586e63);},'sJltK':function(_0x802300,_0x590aa4){return _0xf15021['UAHdW'](_0x802300,_0x590aa4);}},_0x16c51a={..._0x287cd2,...{'method':_0x3a4999,'url':API_URL+'/'+_0x3b21a5,'body':_0x35cb0a,'json':_0xf15021['aSgXp'](_0x287cd2[_0x4ce347(0x20a)][_0xf15021[_0x4ce347(0x2cd)]],_0xf15021['rvxdd']),'agent':API_URL['includes'](_0xf15021['ICFIJ'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0xf15021[_0x4ce347(0x215)](_0x3b21a5,SCREENSHOT_ENDPOINT)&&(_0x16c51a['agent']=API_URL[_0x4ce347(0x2ca)](_0xf15021[_0x4ce347(0x297)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x4ce347(0x2a6)](_0x3a4999,_0x3b21a5,_0x16c51a,_0x287cd2,API_URL)['then'](({statusCode:_0x108f40,body:_0x277975})=>{const _0x40214f=_0x4ce347;if(_0x1388c9[_0x40214f(0x29d)](_0x108f40,0xc8))_0x1388c9[_0x40214f(0x2c5)](_0x2532c9,_0x277975?_0x277975:_0x40214f(0x2a3)+_0x108f40);else{if(_0x3d04f1)try{_0x1388c9[_0x40214f(0x2e1)](typeof _0x277975,_0x1388c9[_0x40214f(0x221)])&&(_0x277975=JSON['parse'](_0x277975));}catch(_0x1420a8){_0x1388c9[_0x40214f(0x1f2)](_0x2532c9,_0x1388c9['MPRaC']);return;}const _0x1803e8={};_0x1803e8[_0x40214f(0x28d)]=_0x277975,_0x1388c9[_0x40214f(0x27f)](_0x14d273,_0x1803e8);}})['catch'](_0x3120f1=>{const _0x2236f2=_0x4ce347;_0x3120f1&&_0x1388c9[_0x2236f2(0x2f5)](_0x2532c9,_0x3120f1);});});},exports[a88_0x56155f(0x22c)]=_0x48b7ce=>{const _0x470e75=a88_0x56155f;if(process['env'][_0x470e75(0x288)])return process[_0x470e75(0x2a5)]['TEST_OBSERVABILITY_BUILD_TAG']['split'](',');if(_0x48b7ce[_0x470e75(0x20c)])return _0x48b7ce[_0x470e75(0x20c)];return[];},exports[a88_0x56155f(0x237)]=(_0x4040c2=!![])=>{const _0x1b5e64=a88_0x56155f,_0x1e04d3={};_0x1e04d3[_0x1b5e64(0x24c)]=_0x1b5e64(0x20e),_0x1e04d3[_0x1b5e64(0x238)]=_0x1b5e64(0x2a2),_0x1e04d3[_0x1b5e64(0x2d1)]=_0x1b5e64(0x254);const _0x48a645=_0x1e04d3,_0x2b54d3={};_0x2b54d3[_0x1b5e64(0x234)]=_0x48a645[_0x1b5e64(0x24c)],_0x2b54d3[_0x1b5e64(0x262)]=_0x48a645[_0x1b5e64(0x238)];const _0x4a72a9=_0x2b54d3;return _0x4040c2&&process[_0x1b5e64(0x2a5)][_0x1b5e64(0x2f6)]&&(_0x4a72a9[_0x48a645[_0x1b5e64(0x2d1)]]=_0x1b5e64(0x21a)+process['env'][_0x1b5e64(0x2f6)]),_0x4a72a9;},exports['extractValuesWithRegexKeyMatch']=_0x3e9f2a=>{const _0x55ad9e=a88_0x56155f,_0x3711fd={};_0x3711fd['zwXcM']=_0x55ad9e(0x248);const _0x572828=_0x3711fd,_0x5e3f36=[],_0x1b00fe=new RegExp(_0x572828[_0x55ad9e(0x22e)],'i');return Object[_0x55ad9e(0x23d)](_0x3e9f2a)[_0x55ad9e(0x27b)](_0x1aa6eb=>_0x1b00fe[_0x55ad9e(0x2ab)](_0x1aa6eb))[_0x55ad9e(0x2e9)](_0x3f0335=>_0x5e3f36[_0x55ad9e(0x23f)](_0x3e9f2a[_0x3f0335])),_0x5e3f36;},exports[a88_0x56155f(0x280)]=_0x1c9da9=>{const _0x4b5a94=a88_0x56155f,_0xbd2847=[],_0x5a359a=_0x1c9da9['customTag']||process[_0x4b5a94(0x2a5)][_0x4b5a94(0x26e)];return _0x5a359a&&_0xbd2847[_0x4b5a94(0x23f)](_0x5a359a),_0xbd2847['push'](...exports[_0x4b5a94(0x222)](process[_0x4b5a94(0x2a5)])),_0xbd2847[_0x4b5a94(0x23f)](...exports[_0x4b5a94(0x222)](_0x1c9da9)),_0xbd2847;},exports['removeAnsiColors']=_0x1ed1aa=>{const _0x517b3f=a88_0x56155f;if(!_0x1ed1aa)return'';return _0x1ed1aa[_0x517b3f(0x2ef)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a88_0x56155f(0x20b)]=(_0x54fc83=0x64)=>new Promise(_0xa78fb8=>setTimeout(_0xa78fb8,_0x54fc83));const getPlatformName=()=>{const _0x199ea4=a88_0x56155f,_0x383a1f={};_0x383a1f[_0x199ea4(0x1f1)]=function(_0x330bc4,_0x25cb91){return _0x330bc4===_0x25cb91;},_0x383a1f['sbHVh']='win32',_0x383a1f[_0x199ea4(0x2c4)]=_0x199ea4(0x28f),_0x383a1f[_0x199ea4(0x2dd)]=_0x199ea4(0x207),_0x383a1f['swTuD']='OS\x20X',_0x383a1f[_0x199ea4(0x26a)]=function(_0x53a08d,_0x5a935f){return _0x53a08d===_0x5a935f;},_0x383a1f[_0x199ea4(0x247)]=_0x199ea4(0x2b2),_0x383a1f[_0x199ea4(0x219)]=_0x199ea4(0x20d),_0x383a1f[_0x199ea4(0x23a)]=_0x199ea4(0x21d);const _0x1f3d7d=_0x383a1f;if(_0x1f3d7d[_0x199ea4(0x1f1)](process['platform'],_0x1f3d7d[_0x199ea4(0x239)]))return _0x1f3d7d[_0x199ea4(0x2c4)];if(_0x1f3d7d[_0x199ea4(0x1f1)](process[_0x199ea4(0x2af)],_0x1f3d7d['otiAk']))return _0x1f3d7d['swTuD'];if(_0x1f3d7d[_0x199ea4(0x26a)](process[_0x199ea4(0x2af)],_0x1f3d7d[_0x199ea4(0x247)]))return _0x1f3d7d[_0x199ea4(0x219)];return _0x1f3d7d[_0x199ea4(0x23a)];},getMacOSVersion=()=>{const _0x5b37fe=a88_0x56155f,_0x317cb3={};_0x317cb3[_0x5b37fe(0x274)]=_0x5b37fe(0x28b);const _0x46a942=_0x317cb3;return child_process['execSync'](_0x46a942['ibOZy'])[_0x5b37fe(0x21e)]()[_0x5b37fe(0x242)]();},getLinuxDetails=()=>{const _0x306235={'WOOwe':function(_0x46622b,_0x1549b7){return _0x46622b(_0x1549b7);},'fhGWx':function(_0x23668a,_0x2d3d8f){return _0x23668a(_0x2d3d8f);},'YhBCR':function(_0x35d520,_0x5ae596){return _0x35d520(_0x5ae596);}};return new Promise((_0x1c43a7,_0x3153a8)=>{const _0x5ef4ed=a88_0x10c3;_0x306235[_0x5ef4ed(0x281)](getos,(_0x209af1,_0x909992)=>{const _0x47bfd4=_0x5ef4ed;if(_0x209af1)return _0x306235[_0x47bfd4(0x2d9)](_0x3153a8,_0x209af1);_0x306235[_0x47bfd4(0x2d4)](_0x1c43a7,_0x909992);});});};exports[a88_0x56155f(0x28e)]=async()=>{const _0x492075=a88_0x56155f,_0x39eaa7={'DQEjT':function(_0x4d40c3){return _0x4d40c3();},'sbkdb':_0x492075(0x27a),'hkrJg':'Windows','KfBvB':_0x492075(0x27c),'Ocmdt':function(_0x1163d3){return _0x1163d3();},'OOFAk':_0x492075(0x20d),'LmGSB':function(_0x4c9e44){return _0x4c9e44();},'AGmSk':_0x492075(0x235)};let _0x40882d=_0x39eaa7[_0x492075(0x206)](getPlatformName),_0x4821fd=os['release']()[_0x492075(0x21e)]();switch(_0x40882d){case _0x39eaa7['sbkdb']:_0x4821fd=_0x39eaa7[_0x492075(0x206)](getMacOSVersion);break;case _0x39eaa7[_0x492075(0x2df)]:try{const _0x3e863a=(await import(_0x39eaa7['KfBvB']))['default'];_0x4821fd=_0x39eaa7[_0x492075(0x2e3)](_0x3e863a);}catch(_0x69bfea){exports[_0x492075(0x261)](_0x492075(0x2ff)+_0x69bfea[_0x492075(0x21e)]());}break;case _0x39eaa7[_0x492075(0x23e)]:try{const _0x523d43=await _0x39eaa7[_0x492075(0x217)](getLinuxDetails);_0x523d43[_0x492075(0x2f7)]&&(_0x40882d=_0x523d43[_0x492075(0x2f7)]),_0x523d43['release']&&(_0x4821fd=_0x523d43[_0x492075(0x2cf)][_0x492075(0x21e)]());}catch(_0x5ac1f0){exports[_0x492075(0x261)](_0x39eaa7['AGmSk']);}break;default:break;}const _0x400a9f={};return _0x400a9f[_0x492075(0x2c2)]=_0x40882d,_0x400a9f[_0x492075(0x2f2)]=_0x4821fd,_0x400a9f;},exports[a88_0x56155f(0x259)]=(_0x3eca1b,_0x381e63)=>{const _0x13cbbf=a88_0x56155f,_0x5db0e8={};_0x5db0e8['POiZk']=function(_0x329d5c,_0x1466ce){return _0x329d5c===_0x1466ce;},_0x5db0e8[_0x13cbbf(0x257)]=_0x13cbbf(0x2ab),_0x5db0e8[_0x13cbbf(0x2d5)]=function(_0x27bd81,_0x56fd14){return _0x27bd81===_0x56fd14;},_0x5db0e8[_0x13cbbf(0x1fe)]=_0x13cbbf(0x26c);const _0x3ba717=_0x5db0e8;if(!_0x3eca1b)return[];try{if(_0x3ba717['POiZk'](_0x381e63,_0x3ba717[_0x13cbbf(0x257)]))return _0x3eca1b[_0x13cbbf(0x229)](_0xd4602b=>{const _0x2a178f=_0x13cbbf,{stack:_0x47d17a,..._0x1ccd93}=_0xd4602b,_0x16023d=Object[_0x2a178f(0x23d)](_0x1ccd93)[_0x2a178f(0x229)](_0x42f3c3=>{return _0x42f3c3+':\x20'+_0x1ccd93[_0x42f3c3];}),_0x2655af=_0x47d17a?exports[_0x2a178f(0x2d8)](_0x47d17a)[_0x2a178f(0x301)](/\r?\n/):[exports[_0x2a178f(0x2d8)](_0xd4602b[_0x2a178f(0x243)])],_0x53fc34={};return _0x53fc34[_0x2a178f(0x2b0)]=_0x2655af,_0x53fc34[_0x2a178f(0x1fa)]=_0x16023d,_0x53fc34;});else{if(_0x3ba717[_0x13cbbf(0x2d5)](_0x381e63,_0x3ba717[_0x13cbbf(0x1fe)])){const _0x4ece95=[],_0xa295ff=[];return Object[_0x13cbbf(0x23d)](_0x3eca1b)['forEach'](_0x53f0dc=>{const _0x489fa0=_0x13cbbf;try{_0xa295ff[_0x489fa0(0x23f)](_0x53f0dc+':\x20'+_0x3eca1b[_0x53f0dc]);}catch(_0x551fe6){exports['debug'](_0x489fa0(0x1f5)+_0x551fe6['message']+_0x489fa0(0x204)+_0x551fe6[_0x489fa0(0x2b0)]);}}),_0x4ece95[_0x13cbbf(0x23f)]({'backtrace':exports[_0x13cbbf(0x2d8)](_0x3eca1b[_0x13cbbf(0x29b)])[_0x13cbbf(0x301)](/\r?\n/),'expanded':_0xa295ff}),_0x4ece95;}}return[];}catch(_0x39a43b){exports[_0x13cbbf(0x261)](_0x13cbbf(0x1f5)+_0x39a43b[_0x13cbbf(0x243)]+'\x20:\x20'+_0x39a43b['backtrace']);}return[];};class PathHelper{constructor(_0x346ce4,_0x32c646){const _0x1cfdc0=a88_0x56155f;this['config']=_0x346ce4,this[_0x1cfdc0(0x286)]=_0x32c646;}['relativeTestFilePath'](_0x50b3d8){const _0x3c5e4a=a88_0x56155f,_0x45e2d4=this[_0x3c5e4a(0x292)][_0x3c5e4a(0x302)]||this[_0x3c5e4a(0x292)]['rootDir'];return path[_0x3c5e4a(0x2e6)](_0x45e2d4,_0x50b3d8);}[a88_0x56155f(0x28a)](_0x1c5383){const _0x51daff=a88_0x56155f,_0x549527=this[_0x51daff(0x20f)](_0x1c5383);return this[_0x51daff(0x286)]?path['join'](this[_0x51daff(0x286)],_0x549527):_0x549527;}}function a88_0xe07b(){const _0x387ece=['gqbRR','BROWSERSTACK_OBSERVABILITY_DEBUG','gopne','./constants','measureWrapper','tGRUx','turboScaleGridDetails','][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found','Authorization','ZAHKx','zOXRl','WMfVj','452673VQEaML','failureData','app-automate','vhdZM','bs:addPlatformDetails:','vJmXv','bs:addLog:','format','git-repo-info','debug','X-BSTACK-TESTOPS','util','Fnxcd','app','ZYfcE','ypUku','TXLcA','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','qmrUN','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','err','browserstack_executor:\x20','CUSTOM_TAG','printBuildLink','browserstack','error','Agent','SrXfe','ibOZy','getObservabilityLinkedProductName','TEST_ATTACHMENT','@cucumber/cucumber','BHfay','zeByL','OS\x20X','filter','windows-release','getBrowserStackConfig','unknown_grid','xHYBZ','getCustomTags','YhBCR','appium:app','45TXoWmX','trace','getFailureType','prefix','BROWSERSTACK_TEST_OBSERVABILITY_YML','TEST_OBSERVABILITY_BUILD_TAG','getFrameworkVersion','prefixTestPath','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','addRequestSpy','data','getPlatformDetails','Windows','emit','UnhandledError','config','host','getUserCredentials','codeceptjs','body','ICFIJ','rayEs','EwboX','timeout','stack','PRINT_BUILDLINK','CKyiT','automate','XsTCt','json','MOCHA','true','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','clJsp','env','nodeRequest','parse','bbwtL','getCapabilities','Uploading\x20trace\x20logs\x20to:\x20','test','https','CIXtC','pPmws','platform','backtrace','HUB_URL_REGEX','linux','tMUrb','2956944xgOsRg','isArray','../../bin/utils/logPatcher','getSession','http','hostname','GIJpN','shouldReRunObservabilityTests','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','test_run_uuid','ObservabilitySync:','ATS_HUB_URL_REGEX','OIjqG','loIPH','platformName','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','HrNhK','tEUBi','kAnot','gWlmS','sZkwF','LZlCO','includes','getPlatform','turboscale','bJZDa','getSyncScript','release','CUCUMBER','zPFoo','fMFyh','2302985YQsEcU','fhGWx','pAjfR','capabilities','maxTotalSockets','removeAnsiColors','WOOwe','7hojOST','toJSON','toISOString','otiAk','winstonLogger','hkrJg','fileName','fLlOf','patchConsoleLogger','Ocmdt','1500WvNGgZ','../performance/constants','relative','isTestObservabilitySession','maxSockets','forEach','lodash','@playwright/test','fromEntries','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','stfNe','replace','logs','Visit\x20https://observability.browserstack.com/builds/','platformVersion','git-last-commit','1740QtLvzg','sJltK','BROWSERSTACK_TESTHUB_JWT','dist','info','LogCreated','isInternalHook','TEST_PLATFORM','2867710wopwtR','url','annotate','Error\x20in\x20importing\x20windows-release\x20','spy','split','cwd','silly','5|2|0|4|3|1','lukAC','HDdnz','agent','kXtUf','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','RGABQ','PathHelper','UdRya','131192OyEIBE','expanded','__cloud_provider___','getUserName','VgmUk','OZyZp','nltEj','wxdfP','PpTbm','pid','55fhHDhP','\x20:\x20','object','DQEjT','darwin','ZplIo','isUndefined','headers','sleep','buildTag','Linux','application/json','relativeTestFilePath','AssertionError','SDhAb','modifyReqForTraceUpload','cpena','TFqCi','ivgxV','log','LmGSB','PLAYWRIGHT','nOJaU','Bearer\x20','ZtWkc','adssG','Unknown','toString','length','keepAlive','xpvKh','extractValuesWithRegexKeyMatch','nkCPq','MIAqX','FJneT','HNBZL','getBrowserName','match','map','UAHdW','JEST','getBuildTags','undefined','zwXcM','BS_TESTOPS_BUILD_HASHED_ID','../../bin/utils/constants','603360FpbsoZ','SwFzD','../performance/performance-tester','Content-Type','Error\x20in\x20getting\x20Linux\x20Details','BROWSERSTACK_TEST_OBSERVABILITY','getDefaultHeaders','OJwXc','sbHVh','JydqZ','../logger','CODECEPT','keys','OOFAk','push','parseFileNames','TaDYp','trim','message','EHsRY','YtTtJ','formData','HwGkq','^CUSTOM_TAG_\x5cd+$','now','getPackageVersion','mocha'];a88_0xe07b=function(){return _0x387ece;};return a88_0xe07b();}exports[a88_0x56155f(0x1f7)]=PathHelper,exports[a88_0x56155f(0x28c)]=(_0x1e327d=!![])=>{const _0x19619a=a88_0x56155f,_0x24b17e={};_0x24b17e['RGABQ']=function(_0x3118b6,_0x421df6){return _0x3118b6===_0x421df6;},_0x24b17e[_0x19619a(0x225)]=_0x19619a(0x262),_0x24b17e[_0x19619a(0x244)]='true',_0x24b17e[_0x19619a(0x267)]='HTTP',_0x24b17e[_0x19619a(0x211)]='browserstack',_0x24b17e[_0x19619a(0x25b)]='local_grid';const _0x45cff8=_0x24b17e;requestSpy[_0x19619a(0x300)]((_0x2a6f2d,_0x4d44d1)=>{const _0x1a9183=_0x19619a;_0x4d44d1&&!(_0x4d44d1['headers']&&_0x45cff8[_0x1a9183(0x1f6)](_0x4d44d1[_0x1a9183(0x20a)][_0x45cff8['FJneT']],_0x45cff8['EHsRY']))&&(_0x4d44d1[_0x1a9183(0x293)]=_0x4d44d1[_0x1a9183(0x2b9)],delete _0x4d44d1[_0x1a9183(0x2b9)],_0x1e327d&&process[_0x1a9183(0x290)](_0x1a9183(0x25e)+process[_0x1a9183(0x202)],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x45cff8[_0x1a9183(0x267)],'http_response':_0x4d44d1})),_0x4d44d1&&(constants[_0x1a9183(0x2b1)][_0x1a9183(0x2ab)](_0x4d44d1['host'])||constants[_0x1a9183(0x2bf)]['test'](_0x4d44d1[_0x1a9183(0x293)]))?global[_0x1a9183(0x1fb)]=_0x45cff8[_0x1a9183(0x211)]:global[_0x1a9183(0x1fb)]=_0x45cff8[_0x1a9183(0x25b)];});},exports[a88_0x56155f(0x2e2)]=()=>{const _0x7dd92e=a88_0x56155f,_0x5cc5da={'LZlCO':function(_0x1c0216,_0x595c4e){return _0x1c0216(_0x595c4e);}};console={},Object[_0x7dd92e(0x23d)](consoleHolder)[_0x7dd92e(0x2e9)](_0x1bd3d6=>{const _0x59c287=_0x7dd92e;_0x5cc5da[_0x59c287(0x2c9)](isFunction,consoleHolder[_0x1bd3d6])?console[_0x1bd3d6]=(..._0x55d1c5)=>{const _0x231ade=_0x59c287;try{!Object[_0x231ade(0x23d)](BSTestOpsPatcher)[_0x231ade(0x2ca)](_0x1bd3d6)?consoleHolder[_0x1bd3d6](..._0x55d1c5):BSTestOpsPatcher[_0x1bd3d6](..._0x55d1c5);}catch(_0x13c79c){consoleHolder[_0x1bd3d6](..._0x55d1c5);}}:console[_0x1bd3d6]=consoleHolder[_0x1bd3d6];});},exports[a88_0x56155f(0x2ce)]=()=>a88_0x56155f(0x26d)+JSON['stringify']({'action':a88_0x56155f(0x2fe),'arguments':{'data':a88_0x56155f(0x2be)+Date[a88_0x56155f(0x249)](),'level':a88_0x56155f(0x261)}}),exports[a88_0x56155f(0x275)]=_0x1c5c96=>{const _0x1679f6=a88_0x56155f,_0x128749={};_0x128749['wBBKP']=function(_0x5bb24a,_0x4d0fb2){return _0x5bb24a===_0x4d0fb2;},_0x128749[_0x1679f6(0x1ff)]=_0x1679f6(0x270),_0x128749[_0x1679f6(0x2a4)]=_0x1679f6(0x282),_0x128749[_0x1679f6(0x245)]=_0x1679f6(0x265),_0x128749[_0x1679f6(0x255)]=function(_0x5b3975,_0x41775f){return _0x5b3975>_0x41775f;},_0x128749['SwFzD']=_0x1679f6(0x25a),_0x128749['VgmUk']='bstack:options',_0x128749[_0x1679f6(0x2d2)]=_0x1679f6(0x252),_0x128749[_0x1679f6(0x224)]=_0x1679f6(0x2cc),_0x128749[_0x1679f6(0x2c6)]=_0x1679f6(0x29e);const _0x392525=_0x128749;let _0x302caf=null;try{if(_0x392525['wBBKP'](global[_0x1679f6(0x1fb)],_0x392525[_0x1679f6(0x1ff)])){if(_0x1c5c96[_0x392525[_0x1679f6(0x2a4)]]||_0x1c5c96[_0x392525[_0x1679f6(0x245)]]||!bsSetupHelper[_0x1679f6(0x209)](global[_0x1679f6(0x2d6)])&&_0x392525['ZAHKx'](global['capabilities'][_0x1679f6(0x21f)],0x0)&&(global['capabilities'][0x0][_0x392525['YtTtJ']]||global[_0x1679f6(0x2d6)][0x0][_0x392525[_0x1679f6(0x2a4)]]))_0x302caf=_0x392525[_0x1679f6(0x232)];else _0x1c5c96[_0x392525[_0x1679f6(0x1fd)]]&&_0x1c5c96[_0x392525[_0x1679f6(0x1fd)]][_0x392525['fMFyh']]?_0x302caf=_0x392525[_0x1679f6(0x224)]:_0x302caf=_0x392525[_0x1679f6(0x2c6)];}}catch(_0x30dd1a){exports[_0x1679f6(0x261)](_0x1679f6(0x26b)+_0x30dd1a);}return _0x302caf;},exports['sendPlatformDetails']=async(_0x505e72,_0x3523a4,_0x407810=![])=>{const _0x5f25ce=a88_0x56155f,_0x587cdb={};_0x587cdb[_0x5f25ce(0x2c8)]=function(_0x22f891,_0xc0c7dd){return _0x22f891===_0xc0c7dd;},_0x587cdb[_0x5f25ce(0x256)]=_0x5f25ce(0x270),_0x587cdb[_0x5f25ce(0x2c7)]=_0x5f25ce(0x27e),_0x587cdb['CIXtC']=_0x5f25ce(0x2fb);const _0x4254c2=_0x587cdb;try{const _0xf0f757=await _0x505e72[_0x5f25ce(0x2a9)](),_0x41a5f6=await _0x505e72[_0x5f25ce(0x2b7)](),_0x280f14={},_0x28d46d=Object[_0x5f25ce(0x2ec)](_0x41a5f6[_0x5f25ce(0x2a9)]()['map_']),_0x41c253={'product':exports[_0x5f25ce(0x275)](_0x28d46d),'capabilities':_0x28d46d,'platform':_0xf0f757[_0x5f25ce(0x2cb)](),'platform_version':bsSetupHelper['getPlatformVersion'](_0x4254c2['sZkwF'](global[_0x5f25ce(0x1fb)],_0x4254c2[_0x5f25ce(0x256)])),'browser':_0xf0f757[_0x5f25ce(0x227)](),'browser_version':_0xf0f757['getBrowserVersion'](),'session_id':_0x41a5f6[_0x5f25ce(0x2db)]()};global[_0x5f25ce(0x1fb)]?_0x280f14[global[_0x5f25ce(0x1fb)]]=_0x41c253:_0x280f14[_0x4254c2['gWlmS']]=_0x41c253;if(_0x407810)return _0x280f14;process[_0x5f25ce(0x290)](_0x5f25ce(0x25c)+process['pid'],{'timestamp':new Date()[_0x5f25ce(0x2dc)](),'level':null,'message':null,'kind':_0x4254c2[_0x5f25ce(0x2ad)],'http_response':_0x280f14,'uuid':_0x3523a4});}catch(_0x33524e){exports[_0x5f25ce(0x261)](_0x5f25ce(0x269)+_0x33524e);}},exports[a88_0x56155f(0x2fa)]=_0x3dc776=>{const _0x540e71=a88_0x56155f;return _0x3dc776&&_0x3dc776[_0x540e71(0x21e)]()['match'](/browserstack internal helper hook/);};