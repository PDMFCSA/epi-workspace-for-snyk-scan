const a88_0x45a42a=a88_0x5d9e;(function(_0x25ebe6,_0x25eb0f){const _0x18c743=a88_0x5d9e,_0x546713=_0x25ebe6();while(!![]){try{const _0x5b12ef=-parseInt(_0x18c743(0x116))/0x1+-parseInt(_0x18c743(0x1db))/0x2+parseInt(_0x18c743(0x19c))/0x3+parseInt(_0x18c743(0x162))/0x4*(-parseInt(_0x18c743(0x145))/0x5)+-parseInt(_0x18c743(0x191))/0x6+-parseInt(_0x18c743(0x163))/0x7*(-parseInt(_0x18c743(0x21f))/0x8)+parseInt(_0x18c743(0x126))/0x9;if(_0x5b12ef===_0x25eb0f)break;else _0x546713['push'](_0x546713['shift']());}catch(_0x36ee50){_0x546713['push'](_0x546713['shift']());}}}(a88_0x5f48,0xb5712));const fs=require('fs'),path=require(a88_0x45a42a(0x183)),gitLastCommit=require(a88_0x45a42a(0x18d)),getRepoInfo=require('git-repo-info'),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require(a88_0x45a42a(0x20f)),https=require(a88_0x45a42a(0x1a9)),child_process=require(a88_0x45a42a(0x1f3)),getos=require('getos'),os=require('os'),logger=require(a88_0x45a42a(0x13d))['winstonLogger'],bsSetupHelper=require('../helper'),requestSpy=require(a88_0x45a42a(0x1b2)),constants=require('../../bin/utils/constants'),logPatcher=require(a88_0x45a42a(0x209)),util=require(a88_0x45a42a(0x151)),{fileLogger}=require(a88_0x45a42a(0x13d)),PerformanceTester=require('../performance/performance-tester'),{isFunction}=require(a88_0x45a42a(0x20b)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require('../performance/constants');exports[a88_0x45a42a(0x1b8)]=_0xcd53a3=>{const _0x5ac857=a88_0x45a42a;fileLogger[_0x5ac857(0x131)]('['+new Date()[_0x5ac857(0x1f0)]()+'][\x20OBSERVABILITY\x20]\x20'+_0xcd53a3);},exports[a88_0x45a42a(0x159)]=_0xd64fe2=>{const _0x6afd54=a88_0x45a42a,_0x54b109={};_0x54b109[_0x6afd54(0x210)]=function(_0xdde39e,_0x48edb4){return _0xdde39e===_0x48edb4;},_0x54b109['bBARS']=_0x6afd54(0x17c),_0x54b109[_0x6afd54(0x1ce)]=function(_0x1a7f67,_0x5b48f3){return _0x1a7f67===_0x5b48f3;};const _0x6dda35=_0x54b109;fileLogger[_0x6afd54(0x159)]('['+new Date()[_0x6afd54(0x1f0)]()+_0x6afd54(0x138)+_0xd64fe2),(_0x6dda35[_0x6afd54(0x210)](process[_0x6afd54(0x1d4)][_0x6afd54(0x17e)],_0x6dda35[_0x6afd54(0x201)])||_0x6dda35[_0x6afd54(0x1ce)](process['env'][_0x6afd54(0x17e)],'1'))&&consoleHolder[_0x6afd54(0x178)]('\x0a['+new Date()[_0x6afd54(0x1f0)]()+_0x6afd54(0x138)+_0xd64fe2+'\x0a');};const a88_0x3f447f={};a88_0x3f447f[a88_0x45a42a(0x211)]=!![],a88_0x3f447f[a88_0x45a42a(0x205)]=0xea60,a88_0x3f447f['maxSockets']=0x2,a88_0x3f447f[a88_0x45a42a(0x121)]=0x2;const httpKeepAliveAgent=new http['Agent'](a88_0x3f447f),a88_0x2efa6d={};a88_0x2efa6d[a88_0x45a42a(0x211)]=!![],a88_0x2efa6d['timeout']=0xea60,a88_0x2efa6d[a88_0x45a42a(0x19f)]=0x2,a88_0x2efa6d[a88_0x45a42a(0x121)]=0x2;const httpsKeepAliveAgent=new https[(a88_0x45a42a(0x157))](a88_0x2efa6d),a88_0x28eed2={};a88_0x28eed2[a88_0x45a42a(0x211)]=!![],a88_0x28eed2[a88_0x45a42a(0x205)]=0xea60,a88_0x28eed2[a88_0x45a42a(0x19f)]=0x2,a88_0x28eed2[a88_0x45a42a(0x121)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a88_0x45a42a(0x157))](a88_0x28eed2),a88_0x47c08b={};function a88_0x5d9e(_0x34181d,_0x35d216){const _0x5f48a9=a88_0x5f48();return a88_0x5d9e=function(_0x5d9e93,_0x3d4b1e){_0x5d9e93=_0x5d9e93-0x112;let _0x5871f1=_0x5f48a9[_0x5d9e93];return _0x5871f1;},a88_0x5d9e(_0x34181d,_0x35d216);}a88_0x47c08b[a88_0x45a42a(0x211)]=!![],a88_0x47c08b['timeout']=0xea60,a88_0x47c08b[a88_0x45a42a(0x19f)]=0x2,a88_0x47c08b[a88_0x45a42a(0x121)]=0x2;const httpsScreenshotsKeepAliveAgent=new https['Agent'](a88_0x47c08b);exports[a88_0x45a42a(0x1f4)]=()=>{const _0x406a90=a88_0x45a42a,_0x2c5e8d={};_0x2c5e8d[_0x406a90(0x15d)]=function(_0x10e6f5,_0x38eca1){return _0x10e6f5!==_0x38eca1;},_0x2c5e8d['XyQqp']='null';const _0x3d4378=_0x2c5e8d;return process['env']['BROWSERSTACK_RERUN_TESTS']&&_0x3d4378[_0x406a90(0x15d)](process[_0x406a90(0x1d4)][_0x406a90(0x1cc)],_0x3d4378[_0x406a90(0x1ab)])?!![]:![];},exports['isTestObservabilitySession']=()=>{const _0x56d777=a88_0x45a42a,_0x13d69a={};_0x13d69a[_0x56d777(0x1c2)]=function(_0x23f081,_0x35553d){return _0x23f081===_0x35553d;},_0x13d69a[_0x56d777(0x1e0)]=_0x56d777(0x17c),_0x13d69a[_0x56d777(0x16b)]=function(_0x2b7139,_0x2d2a58){return _0x2b7139===_0x2d2a58;};const _0x5c6cb7=_0x13d69a;let _0x29b8cd=!![];return process[_0x56d777(0x1d4)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']&&(_0x29b8cd=_0x5c6cb7[_0x56d777(0x1c2)](process[_0x56d777(0x1d4)][_0x56d777(0x173)],_0x5c6cb7['zLZtT'])),process[_0x56d777(0x1d4)]['BROWSERSTACK_TEST_OBSERVABILITY']&&(_0x29b8cd=_0x5c6cb7[_0x56d777(0x16b)](process[_0x56d777(0x1d4)]['BROWSERSTACK_TEST_OBSERVABILITY'],_0x5c6cb7[_0x56d777(0x1e0)])),_0x29b8cd;},exports[a88_0x45a42a(0x19b)]=_0x41f62a=>{const _0x25f39a=a88_0x45a42a;if(bsSetupHelper[_0x25f39a(0x14e)](_0x41f62a))return undefined;try{return _0x41f62a[_0x25f39a(0x129)]()[_0x25f39a(0x13a)](',');}catch(_0x1bf52b){return undefined;}},exports[a88_0x45a42a(0x1e8)]=()=>{const _0x413b5e=a88_0x45a42a,_0x164cb0={};_0x164cb0[_0x413b5e(0x21d)]=function(_0xd26712,_0x28a5eb){return _0xd26712!==_0x28a5eb;},_0x164cb0['xOWgi']=_0x413b5e(0x1d9),_0x164cb0[_0x413b5e(0x1bc)]=function(_0x19bf37,_0x3362b4){return _0x19bf37!==_0x3362b4;},_0x164cb0[_0x413b5e(0x114)]='undefined';const _0x3b0280=_0x164cb0;return PerformanceTester['measureWrapper'](PerformanceO11yEvents[_0x413b5e(0x1c6)],async()=>{const _0x398fc0=_0x413b5e;try{process[_0x398fc0(0x1d4)]['BS_TESTOPS_BUILD_HASHED_ID']&&_0x3b0280[_0x398fc0(0x21d)](process['env'][_0x398fc0(0x154)],_0x3b0280[_0x398fc0(0x215)])&&_0x3b0280[_0x398fc0(0x1bc)](process[_0x398fc0(0x1d4)][_0x398fc0(0x154)],_0x3b0280[_0x398fc0(0x114)])&&logger[_0x398fc0(0x218)](_0x398fc0(0x1cf)+process[_0x398fc0(0x1d4)][_0x398fc0(0x154)]+_0x398fc0(0x18a));}catch(_0x51e68d){logger[_0x398fc0(0x1ef)]('['+new Date()['toISOString']()+_0x398fc0(0x1fb));}})();},exports[a88_0x45a42a(0x1f5)]=_0x4050c0=>{const _0x2cd96a=a88_0x45a42a,_0x24435b={};_0x24435b['XxzzR']=_0x2cd96a(0x1a7),_0x24435b[_0x2cd96a(0x133)]=_0x2cd96a(0x1da);const _0x309f6a=_0x24435b;if(!_0x4050c0)return null;return _0x4050c0[_0x2cd96a(0x165)]()['match'](/AssertionError/)?_0x309f6a[_0x2cd96a(0x188)]:_0x309f6a[_0x2cd96a(0x133)];},exports[a88_0x45a42a(0x1f1)]=_0x24ccfc=>{const _0x4cc1db=a88_0x45a42a,_0x31dd91={};_0x31dd91[_0x4cc1db(0x118)]=_0x4cc1db(0x1d7),_0x31dd91[_0x4cc1db(0x137)]=_0x4cc1db(0x160),_0x31dd91[_0x4cc1db(0x12e)]=_0x4cc1db(0x174),_0x31dd91[_0x4cc1db(0x13f)]=_0x4cc1db(0x122),_0x31dd91[_0x4cc1db(0x213)]=_0x4cc1db(0x200);const _0x30204f=_0x31dd91;let _0x41b2c=null;switch(_0x24ccfc){case FRAMEWORKS['MOCHA']:_0x41b2c=bsSetupHelper['getPackageVersion'](_0x30204f[_0x4cc1db(0x118)]);break;case FRAMEWORKS[_0x4cc1db(0x1bf)]:_0x41b2c=bsSetupHelper[_0x4cc1db(0x1a2)](_0x30204f[_0x4cc1db(0x137)]);break;case FRAMEWORKS[_0x4cc1db(0x1e9)]:case FRAMEWORKS['CODECEPT_CUCUMBER']:_0x41b2c=bsSetupHelper['getPackageVersion'](_0x30204f[_0x4cc1db(0x12e)]);break;case FRAMEWORKS[_0x4cc1db(0x20e)]:_0x41b2c=bsSetupHelper[_0x4cc1db(0x1a2)](_0x30204f[_0x4cc1db(0x13f)]);break;case FRAMEWORKS[_0x4cc1db(0x11a)]:_0x41b2c=bsSetupHelper['getPackageVersion'](_0x30204f[_0x4cc1db(0x213)]);break;default:break;}return _0x41b2c;},exports[a88_0x45a42a(0x1de)]=_0x355d76=>{const _0x8e47fd=a88_0x45a42a;let _0x1e59e5=null;switch(_0x355d76){case FRAMEWORKS[_0x8e47fd(0x1bf)]:_0x1e59e5=process[_0x8e47fd(0x1d4)][_0x8e47fd(0x180)];break;}if(!_0x1e59e5)return;return bsSetupHelper[_0x8e47fd(0x12c)](_0x1e59e5,![]);},exports[a88_0x45a42a(0x196)]=_0x30957d=>{const _0x56ec65=a88_0x45a42a;return{'username':bsSetupHelper[_0x56ec65(0x177)](_0x30957d),'accessKey':bsSetupHelper[_0x56ec65(0x113)](_0x30957d)};},exports[a88_0x45a42a(0x164)]=(_0x106345,_0x118729)=>{const _0x5f030e=a88_0x45a42a,_0x4428f9={};_0x4428f9[_0x5f030e(0x1ca)]='0|5|2|4|1|3',_0x4428f9['RPluA']=_0x5f030e(0x1dc),_0x4428f9[_0x5f030e(0x194)]=_0x5f030e(0x1d5),_0x4428f9['jiaoz']=_0x5f030e(0x1ee);const _0xe5bee3=_0x4428f9,_0x3cd7ef=_0xe5bee3['YcCgy'][_0x5f030e(0x13a)]('|');let _0x5995e7=0x0;while(!![]){switch(_0x3cd7ef[_0x5995e7++]){case'0':if(!_0x106345[_0x5f030e(0x141)]||!Array['isArray'](_0x106345['body']))return;continue;case'1':delete _0x106345[_0x5f030e(0x1b6)];continue;case'2':_0x106345[_0x5f030e(0x166)]={'data':_0x106345[_0x5f030e(0x141)][0x0]['logs'][0x0]['data'],'test_run_uuid':_0x106345['body'][0x0][_0x5f030e(0x179)][0x0][_0x5f030e(0x19a)],'event_type':_0xe5bee3[_0x5f030e(0x11d)],'kind':_0xe5bee3[_0x5f030e(0x194)],'attachmentType':_0xe5bee3['jiaoz'],'timestamp':new Date()['toISOString'](),'fileName':_0x106345[_0x5f030e(0x141)][0x0][_0x5f030e(0x179)][0x0][_0x5f030e(0x1b3)]};continue;case'3':delete _0x118729[_0x5f030e(0x149)];continue;case'4':delete _0x106345[_0x5f030e(0x141)];continue;case'5':if(!_0x106345['body'][0x0]||!_0x106345[_0x5f030e(0x141)][0x0]['logs']||!_0x106345[_0x5f030e(0x141)][0x0][_0x5f030e(0x179)][_0x5f030e(0x167)])return;continue;}break;}},exports['asyncAwaitNodeReq']=async(_0x2d276f,_0x154b34,_0x44d061,_0x27c979,_0x182064=!![])=>{const _0x347558=a88_0x45a42a,_0x1460a7={};_0x1460a7[_0x347558(0x1ba)]=function(_0x36c606,_0x1b7167){return _0x36c606===_0x1b7167;},_0x1460a7['LLpfO']=_0x347558(0x202),_0x1460a7[_0x347558(0x153)]='application/json',_0x1460a7[_0x347558(0x208)]=_0x347558(0x1a9),_0x1460a7[_0x347558(0x1b1)]=function(_0x23ad54,_0x37c0aa){return _0x23ad54===_0x37c0aa;},_0x1460a7[_0x347558(0x216)]=function(_0x45c698,_0x1a486f){return _0x45c698!==_0x1a486f;},_0x1460a7['jcnNQ']=function(_0x5110ce,_0x89480d){return _0x5110ce!==_0x89480d;},_0x1460a7[_0x347558(0x11c)]=_0x347558(0x1fd),_0x1460a7[_0x347558(0x203)]=_0x347558(0x130);const _0x37774e=_0x1460a7,_0x1b25e9={..._0x27c979,...{'method':_0x2d276f,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x154b34,'body':_0x44d061,'json':_0x37774e[_0x347558(0x1ba)](_0x27c979[_0x347558(0x149)][_0x37774e[_0x347558(0x1ad)]],_0x37774e[_0x347558(0x153)]),'agent':API_URL[_0x347558(0x1e5)](_0x37774e['JKDus'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x37774e[_0x347558(0x1b1)](_0x154b34,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x1b25e9[_0x347558(0x21b)]=API_URL[_0x347558(0x1e5)](_0x37774e[_0x347558(0x208)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x347558(0x164)](_0x1b25e9,_0x27c979),logger[_0x347558(0x159)]('Uploading\x20trace\x20logs\x20to:\x20'+_0x1b25e9[_0x347558(0x214)]));try{const {statusCode:_0x5d6f53,body:_0x247388}=await bsSetupHelper[_0x347558(0x16c)](_0x2d276f,_0x154b34,_0x1b25e9,_0x27c979,_0x1b25e9[_0x347558(0x214)]);if(_0x37774e[_0x347558(0x216)](_0x5d6f53,0xc8))return _0x247388?_0x247388:_0x347558(0x11b)+_0x5d6f53;let _0x582477=_0x247388;if(_0x182064)try{_0x37774e['jcnNQ'](typeof _0x247388,_0x37774e[_0x347558(0x11c)])&&(_0x582477=JSON['parse'](_0x247388));}catch(_0x2e361b){logger[_0x347558(0x1ef)](_0x37774e[_0x347558(0x203)],_0x247388,util[_0x347558(0x1e2)](_0x2e361b));}const _0x122558={};return _0x122558['data']=_0x582477,_0x122558;}catch(_0x5dba20){logger[_0x347558(0x1ef)]('Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20'+util[_0x347558(0x1e2)](_0x5dba20));throw _0x5dba20;}},exports['nodeRequest']=(_0x32a253,_0x247a22,_0x212abe,_0x1aacc9,_0x25fd85=!![])=>{const _0x175b4f=a88_0x45a42a,_0x50146a={'uNEvP':function(_0x58bf9c,_0x3893af){return _0x58bf9c!==_0x3893af;},'xHuQv':function(_0x51ac95,_0x5040bf){return _0x51ac95(_0x5040bf);},'PMIBd':_0x175b4f(0x1fd),'UJyfL':function(_0x4558a1,_0x57fb9b){return _0x4558a1(_0x57fb9b);},'TukVY':_0x175b4f(0x134),'YbMjE':function(_0x22f419,_0x702f7e){return _0x22f419===_0x702f7e;},'ppYDY':'Content-Type','WlUhX':_0x175b4f(0x171),'lUFjm':'https','xGxRs':function(_0x29ba97,_0x590ae4){return _0x29ba97===_0x590ae4;}};return new Promise((_0x160238,_0x17917c)=>{const _0x1d4bc5=_0x175b4f,_0x48b656={'IfvWa':function(_0x1c9827,_0x1e2459){const _0x312e44=a88_0x5d9e;return _0x50146a[_0x312e44(0x1c4)](_0x1c9827,_0x1e2459);},'GCkPF':function(_0x1f8cf8,_0x178391){const _0x47c729=a88_0x5d9e;return _0x50146a[_0x47c729(0x14a)](_0x1f8cf8,_0x178391);},'hhRfm':function(_0x5259e0,_0x1ee0c5){const _0x79f091=a88_0x5d9e;return _0x50146a[_0x79f091(0x1c4)](_0x5259e0,_0x1ee0c5);},'dtJjd':_0x50146a['PMIBd'],'zonvf':function(_0x4cab20,_0x364632){return _0x50146a['UJyfL'](_0x4cab20,_0x364632);},'WXkZd':_0x50146a[_0x1d4bc5(0x13b)],'QXqeN':function(_0x5a75b0,_0x36241c){const _0x550f08=_0x1d4bc5;return _0x50146a[_0x550f08(0x1d8)](_0x5a75b0,_0x36241c);}},_0x13e0be={..._0x1aacc9,...{'method':_0x32a253,'url':API_URL+'/'+_0x247a22,'body':_0x212abe,'json':_0x50146a[_0x1d4bc5(0x17a)](_0x1aacc9['headers'][_0x50146a['ppYDY']],_0x50146a[_0x1d4bc5(0x1f9)]),'agent':API_URL[_0x1d4bc5(0x1e5)](_0x50146a[_0x1d4bc5(0x207)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x50146a[_0x1d4bc5(0x172)](_0x247a22,SCREENSHOT_ENDPOINT)&&(_0x13e0be[_0x1d4bc5(0x21b)]=API_URL['includes'](_0x50146a[_0x1d4bc5(0x207)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x1d4bc5(0x16c)](_0x32a253,_0x247a22,_0x13e0be,_0x1aacc9,API_URL)[_0x1d4bc5(0x198)](({statusCode:_0x307d54,body:_0x533a81})=>{const _0x58d926=_0x1d4bc5;if(_0x48b656['IfvWa'](_0x307d54,0xc8))_0x48b656[_0x58d926(0x123)](_0x17917c,_0x533a81?_0x533a81:_0x58d926(0x11b)+_0x307d54);else{if(_0x25fd85)try{_0x48b656['hhRfm'](typeof _0x533a81,_0x48b656[_0x58d926(0x156)])&&(_0x533a81=JSON[_0x58d926(0x1cd)](_0x533a81));}catch(_0x4f3ebb){_0x48b656[_0x58d926(0x125)](_0x17917c,_0x48b656['WXkZd']);return;}const _0x44a318={};_0x44a318[_0x58d926(0x1d2)]=_0x533a81,_0x48b656['QXqeN'](_0x160238,_0x44a318);}})['catch'](_0x41222c=>{const _0x33dcf0=_0x1d4bc5;_0x41222c&&_0x48b656[_0x33dcf0(0x148)](_0x17917c,_0x41222c);});});},exports[a88_0x45a42a(0x217)]=_0x384497=>{const _0x5476f6=a88_0x45a42a;if(process[_0x5476f6(0x1d4)]['TEST_OBSERVABILITY_BUILD_TAG'])return process[_0x5476f6(0x1d4)][_0x5476f6(0x1e3)][_0x5476f6(0x13a)](',');if(_0x384497[_0x5476f6(0x15f)])return _0x384497[_0x5476f6(0x15f)];return[];},exports['getDefaultHeaders']=(_0x58b1cb=!![])=>{const _0xfcc2f2=a88_0x45a42a,_0x14c64e={};_0x14c64e[_0xfcc2f2(0x1ec)]=_0xfcc2f2(0x171),_0x14c64e[_0xfcc2f2(0x143)]='true',_0x14c64e[_0xfcc2f2(0x175)]=_0xfcc2f2(0x169);const _0x10e8cf=_0x14c64e,_0xdc0683={};_0xdc0683[_0xfcc2f2(0x202)]=_0x10e8cf[_0xfcc2f2(0x1ec)],_0xdc0683['X-BSTACK-TESTOPS']=_0x10e8cf[_0xfcc2f2(0x143)];const _0x25f882=_0xdc0683;return _0x58b1cb&&process[_0xfcc2f2(0x1d4)][_0xfcc2f2(0x136)]&&(_0x25f882[_0x10e8cf[_0xfcc2f2(0x175)]]=_0xfcc2f2(0x15a)+process['env']['BROWSERSTACK_TESTHUB_JWT']),_0x25f882;},exports[a88_0x45a42a(0x12b)]=_0x355e34=>{const _0x3d2a31=a88_0x45a42a,_0x1d6213={};_0x1d6213['HtUnq']='^CUSTOM_TAG_\x5cd+$';const _0x4dd6b8=_0x1d6213,_0x18dd5b=[],_0x59e98e=new RegExp(_0x4dd6b8[_0x3d2a31(0x1e6)],'i');return Object[_0x3d2a31(0x190)](_0x355e34)[_0x3d2a31(0x21a)](_0x1f58b8=>_0x59e98e[_0x3d2a31(0x1a4)](_0x1f58b8))[_0x3d2a31(0x1f2)](_0x59a381=>_0x18dd5b[_0x3d2a31(0x1dd)](_0x355e34[_0x59a381])),_0x18dd5b;},exports[a88_0x45a42a(0x1e1)]=_0x166c67=>{const _0x1edfc8=a88_0x45a42a,_0x571119=[],_0x5e107b=_0x166c67[_0x1edfc8(0x17d)]||process[_0x1edfc8(0x1d4)][_0x1edfc8(0x18c)];return _0x5e107b&&_0x571119[_0x1edfc8(0x1dd)](_0x5e107b),_0x571119[_0x1edfc8(0x1dd)](...exports['extractValuesWithRegexKeyMatch'](process[_0x1edfc8(0x1d4)])),_0x571119['push'](...exports[_0x1edfc8(0x12b)](_0x166c67)),_0x571119;},exports[a88_0x45a42a(0x1c8)]=_0x3ea63e=>{const _0x78ba5b=a88_0x45a42a;if(!_0x3ea63e)return'';return _0x3ea63e[_0x78ba5b(0x168)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports['sleep']=(_0x293ce0=0x64)=>new Promise(_0x218a90=>setTimeout(_0x218a90,_0x293ce0));const getPlatformName=()=>{const _0x18db4f=a88_0x45a42a,_0x1a7e92={};_0x1a7e92[_0x18db4f(0x14b)]=function(_0x22f3e4,_0x987f48){return _0x22f3e4===_0x987f48;},_0x1a7e92['YGuff']='win32',_0x1a7e92['jJfNn']=_0x18db4f(0x17b),_0x1a7e92['mzAHQ']=function(_0x1350d4,_0x504c72){return _0x1350d4===_0x504c72;},_0x1a7e92['IAErC']=_0x18db4f(0x186),_0x1a7e92[_0x18db4f(0x120)]=_0x18db4f(0x184),_0x1a7e92[_0x18db4f(0x1ed)]=function(_0x20fecf,_0x362184){return _0x20fecf===_0x362184;},_0x1a7e92['sZdeG']=_0x18db4f(0x1b5),_0x1a7e92['nnbCg']=_0x18db4f(0x1df),_0x1a7e92[_0x18db4f(0x150)]=_0x18db4f(0x21e);const _0x3ac02e=_0x1a7e92;if(_0x3ac02e[_0x18db4f(0x14b)](process[_0x18db4f(0x119)],_0x3ac02e[_0x18db4f(0x1a8)]))return _0x3ac02e[_0x18db4f(0x1a1)];if(_0x3ac02e[_0x18db4f(0x1f7)](process[_0x18db4f(0x119)],_0x3ac02e['IAErC']))return _0x3ac02e[_0x18db4f(0x120)];if(_0x3ac02e['gCwov'](process[_0x18db4f(0x119)],_0x3ac02e[_0x18db4f(0x14f)]))return _0x3ac02e['nnbCg'];return _0x3ac02e[_0x18db4f(0x150)];},getMacOSVersion=()=>{const _0x1ea4b2=a88_0x45a42a,_0x197e2a={};_0x197e2a[_0x1ea4b2(0x1f8)]=_0x1ea4b2(0x199);const _0x3a9461=_0x197e2a;return child_process['execSync'](_0x3a9461[_0x1ea4b2(0x1f8)])[_0x1ea4b2(0x165)]()[_0x1ea4b2(0x129)]();},getLinuxDetails=()=>{const _0x1ae182={'qkLah':function(_0x2754cc,_0x2c6a78){return _0x2754cc(_0x2c6a78);},'FOMUK':function(_0x4d6188,_0x59ecd9){return _0x4d6188(_0x59ecd9);},'pKGIL':function(_0x401cd,_0x521f69){return _0x401cd(_0x521f69);}};return new Promise((_0x3d655c,_0x1487ae)=>{const _0x54e326=a88_0x5d9e;_0x1ae182[_0x54e326(0x127)](getos,(_0x18af43,_0x3bd1de)=>{const _0x342c8e=_0x54e326;if(_0x18af43)return _0x1ae182[_0x342c8e(0x16f)](_0x1487ae,_0x18af43);_0x1ae182[_0x342c8e(0x204)](_0x3d655c,_0x3bd1de);});});};exports[a88_0x45a42a(0x220)]=async()=>{const _0x5a1a17=a88_0x45a42a,_0x521e88={'kuWeP':function(_0x5949a4){return _0x5949a4();},'fDfhX':_0x5a1a17(0x184),'KJqQM':_0x5a1a17(0x17b),'EspZg':_0x5a1a17(0x14c),'klJWW':_0x5a1a17(0x1df),'SrofZ':_0x5a1a17(0x170)};let _0x12af14=_0x521e88['kuWeP'](getPlatformName),_0x3cebbe=os['release']()[_0x5a1a17(0x165)]();switch(_0x12af14){case _0x521e88[_0x5a1a17(0x161)]:_0x3cebbe=_0x521e88['kuWeP'](getMacOSVersion);break;case _0x521e88[_0x5a1a17(0x1bd)]:try{const _0x190a94=(await import(_0x521e88['EspZg']))[_0x5a1a17(0x182)];_0x3cebbe=_0x521e88[_0x5a1a17(0x16a)](_0x190a94);}catch(_0x196159){exports['debug'](_0x5a1a17(0x112)+_0x196159[_0x5a1a17(0x165)]());}break;case _0x521e88[_0x5a1a17(0x1af)]:try{const _0x18a6ca=await _0x521e88[_0x5a1a17(0x16a)](getLinuxDetails);_0x18a6ca[_0x5a1a17(0x1ea)]&&(_0x12af14=_0x18a6ca[_0x5a1a17(0x1ea)]),_0x18a6ca['release']&&(_0x3cebbe=_0x18a6ca[_0x5a1a17(0x13e)][_0x5a1a17(0x165)]());}catch(_0x108f5a){exports[_0x5a1a17(0x159)](_0x521e88[_0x5a1a17(0x1b9)]);}break;default:break;}const _0x1eb581={};return _0x1eb581[_0x5a1a17(0x1d6)]=_0x12af14,_0x1eb581[_0x5a1a17(0x176)]=_0x3cebbe,_0x1eb581;},exports[a88_0x45a42a(0x144)]=(_0x4fbea3,_0x1eb453)=>{const _0x23af7b=a88_0x45a42a,_0x599259={};_0x599259[_0x23af7b(0x1e4)]=function(_0x35dc9c,_0x240e60){return _0x35dc9c===_0x240e60;},_0x599259[_0x23af7b(0x1c7)]=_0x23af7b(0x1a4),_0x599259[_0x23af7b(0x20d)]=function(_0x5c66a4,_0x11ed8f){return _0x5c66a4===_0x11ed8f;},_0x599259[_0x23af7b(0x146)]=_0x23af7b(0x1c1);const _0x31c68e=_0x599259;if(!_0x4fbea3)return[];try{if(_0x31c68e[_0x23af7b(0x1e4)](_0x1eb453,_0x31c68e[_0x23af7b(0x1c7)]))return _0x4fbea3[_0x23af7b(0x193)](_0x5e14a3=>{const _0x4b7a67=_0x23af7b,{stack:_0x29d78d,..._0x26c379}=_0x5e14a3,_0x44c181=Object[_0x4b7a67(0x190)](_0x26c379)[_0x4b7a67(0x193)](_0xeb1f2c=>{return _0xeb1f2c+':\x20'+_0x26c379[_0xeb1f2c];}),_0xee9503=_0x29d78d?exports['removeAnsiColors'](_0x29d78d)[_0x4b7a67(0x13a)](/\r?\n/):[exports['removeAnsiColors'](_0x5e14a3['message'])],_0x41fa96={};return _0x41fa96['backtrace']=_0xee9503,_0x41fa96[_0x4b7a67(0x17f)]=_0x44c181,_0x41fa96;});else{if(_0x31c68e[_0x23af7b(0x20d)](_0x1eb453,_0x31c68e[_0x23af7b(0x146)])){const _0x4a5371=[],_0x42613e=[];return Object[_0x23af7b(0x190)](_0x4fbea3)[_0x23af7b(0x1f2)](_0x53b905=>{const _0x5e6851=_0x23af7b;try{_0x42613e['push'](_0x53b905+':\x20'+_0x4fbea3[_0x53b905]);}catch(_0xbd8e0a){exports[_0x5e6851(0x159)](_0x5e6851(0x115)+_0xbd8e0a['message']+'\x20:\x20'+_0xbd8e0a[_0x5e6851(0x212)]);}}),_0x4a5371[_0x23af7b(0x1dd)]({'backtrace':exports[_0x23af7b(0x1c8)](_0x4fbea3[_0x23af7b(0x206)])['split'](/\r?\n/),'expanded':_0x42613e}),_0x4a5371;}}return[];}catch(_0xbf0182){exports[_0x23af7b(0x159)](_0x23af7b(0x115)+_0xbf0182[_0x23af7b(0x1a6)]+_0x23af7b(0x12d)+_0xbf0182['backtrace']);}return[];};function a88_0x5f48(){const _0x75cb27=['browserstack_executor:\x20','extractValuesWithRegexKeyMatch','readConfig','\x20:\x20','iSVeR','uJOkB','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','silly','ckmFI','nWYJR','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','app-automate','BROWSERSTACK_TESTHUB_JWT','jGxFc','][\x20OBSERVABILITY\x20]\x20','HkMQv','split','TukVY','DOwij','../logger','release','QTtcy','NPhdh','body','browserstack','VHNAD','failureData','305KeJdHq','ukbLi','HTTP','QXqeN','headers','xHuQv','URbUB','windows-release','bs:addLog:','isUndefined','sZdeG','eibgp','util','match','wdAqs','BS_TESTOPS_BUILD_HASHED_ID','relativeTestFilePath','dtJjd','Agent','join','debug','Bearer\x20','getPlatform','HUB_URL_REGEX','YVkmm','getCapabilities','buildTag','@playwright/test','fDfhX','81656idxYkv','1099CFDWMM','modifyReqForTraceUpload','toString','formData','length','replace','Authorization','kuWeP','aHrqk','nodeRequest','now','map_','qkLah','Error\x20in\x20getting\x20Linux\x20Details','application/json','xGxRs','BROWSERSTACK_TEST_OBSERVABILITY_YML','codeceptjs','yUllH','platformVersion','getUserName','log','logs','YbMjE','Windows','true','customTag','BROWSERSTACK_OBSERVABILITY_DEBUG','expanded','BROWSERSTACK_CONFIG_FILE_PATH','ATS_HUB_URL_REGEX','default','path','OS\x20X','host','darwin','annotate','XxzzR','prefix','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','JbvLs','CUSTOM_TAG','git-last-commit','getBrowserName','emit','keys','2081232QGyHUr','glTJY','map','DbCDT','patchConsoleLogger','getUserCredentials','rootDir','then','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','test_run_uuid','parseFileNames','4155363LQybNH','getPlatformVersion','hostname','maxSockets','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','jJfNn','getPackageVersion','rGdPm','test','config','message','AssertionError','YGuff','https','occJZ','XyQqp','vAOVf','LLpfO','pid','klJWW','__cloud_provider___','FgcAV','../../helpers/request-spy','fileName','addRequestSpy','linux','json','PathHelper','trace','SrofZ','gJTSe','rMPdm','wGrlK','KJqQM','Ngjqs','PLAYWRIGHT','toJSON','err','cbEpL','unknown_grid','uNEvP','EzZAG','PRINT_BUILDLINK','ecGpr','removeAnsiColors','turboscale','YcCgy','bs:addPlatformDetails:','BROWSERSTACK_RERUN_TESTS','parse','aQIGt','Visit\x20https://observability.browserstack.com/builds/','app','isInternalHook','data','RFIMA','env','TEST_ATTACHMENT','platformName','mocha','UJyfL','null','UnhandledError','278602eFDGPL','LogCreated','push','getBrowserStackConfig','Linux','zLZtT','getCustomTags','format','TEST_OBSERVABILITY_BUILD_TAG','mCUJk','includes','HtUnq','capabilities','printBuildLink','CODECEPT','dist','getSession','kPPYb','gCwov','PLAYWRIGHT_TRACE_LOGS','error','toISOString','getFrameworkVersion','forEach','child_process','shouldReRunObservabilityTests','getFailureType','cwd','mzAHQ','zfJXD','WlUhX','rnQub','][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found','gMKLo','object','stringify','local_grid','@cucumber/cucumber','bBARS','Content-Type','nBuRE','FOMUK','timeout','stack','lUFjm','JKDus','../../bin/utils/logPatcher','getObservabilityLinkedProductName','lodash','turboScaleGridDetails','cPzOt','JEST','http','KlvsU','keepAlive','backtrace','IJiHV','url','xOWgi','bIMEI','getBuildTags','info','getSyncScript','filter','agent','fromEntries','DBbvs','Unknown','54544Durbhw','getPlatformDetails','Error\x20in\x20importing\x20windows-release\x20','getAccessKey','kMstf','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','354236oaQScr','ObservabilitySync:','PIFJK','platform','CUCUMBER','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','BMRVQ','RPluA','automate','TEST_PLATFORM','jVPgt','maxTotalSockets','jest','GCkPF','MzeXN','zonvf','3359718hosjkE','pKGIL','yOrFB','trim'];a88_0x5f48=function(){return _0x75cb27;};return a88_0x5f48();}class PathHelper{constructor(_0x3a1e8a,_0x2384d2){const _0x187773=a88_0x45a42a;this[_0x187773(0x1a5)]=_0x3a1e8a,this['prefix']=_0x2384d2;}[a88_0x45a42a(0x155)](_0x4d6359){const _0x450d77=a88_0x45a42a,_0x4b9356=this[_0x450d77(0x1a5)][_0x450d77(0x1f6)]||this[_0x450d77(0x1a5)][_0x450d77(0x197)];return path['relative'](_0x4b9356,_0x4d6359);}['prefixTestPath'](_0x48f1f5){const _0x5eea20=a88_0x45a42a,_0x2b69c0=this[_0x5eea20(0x155)](_0x48f1f5);return this['prefix']?path[_0x5eea20(0x158)](this[_0x5eea20(0x189)],_0x2b69c0):_0x2b69c0;}}exports[a88_0x45a42a(0x1b7)]=PathHelper,exports[a88_0x45a42a(0x1b4)]=(_0x5a972b=!![])=>{const _0xe6dd94=a88_0x45a42a,_0x1dd5af={};_0x1dd5af[_0xe6dd94(0x1bb)]=function(_0xa57371,_0x228bd1){return _0xa57371===_0x228bd1;},_0x1dd5af['UPszW']='X-BSTACK-TESTOPS',_0x1dd5af['ckmFI']=_0xe6dd94(0x17c),_0x1dd5af['HkMQv']=_0xe6dd94(0x147),_0x1dd5af['rnQub']=_0xe6dd94(0x142),_0x1dd5af['uJOkB']=_0xe6dd94(0x1ff);const _0x321f37=_0x1dd5af;requestSpy['spy']((_0x28d6f1,_0x2364e7)=>{const _0x119b2c=_0xe6dd94;_0x2364e7&&!(_0x2364e7[_0x119b2c(0x149)]&&_0x321f37[_0x119b2c(0x1bb)](_0x2364e7[_0x119b2c(0x149)][_0x321f37['UPszW']],_0x321f37[_0x119b2c(0x132)]))&&(_0x2364e7[_0x119b2c(0x185)]=_0x2364e7[_0x119b2c(0x19e)],delete _0x2364e7[_0x119b2c(0x19e)],_0x5a972b&&process['emit'](_0x119b2c(0x14d)+process[_0x119b2c(0x1ae)],{'timestamp':new Date()[_0x119b2c(0x1f0)](),'level':null,'message':null,'kind':_0x321f37[_0x119b2c(0x139)],'http_response':_0x2364e7})),_0x2364e7&&(constants[_0x119b2c(0x15c)][_0x119b2c(0x1a4)](_0x2364e7[_0x119b2c(0x185)])||constants[_0x119b2c(0x181)]['test'](_0x2364e7[_0x119b2c(0x185)]))?global['__cloud_provider___']=_0x321f37[_0x119b2c(0x1fa)]:global[_0x119b2c(0x1b0)]=_0x321f37[_0x119b2c(0x12f)];});},exports[a88_0x45a42a(0x195)]=()=>{const _0x2a8615=a88_0x45a42a,_0x3e7a5b={'NPhdh':function(_0x44f1aa,_0x1902a8){return _0x44f1aa(_0x1902a8);}};console={},Object[_0x2a8615(0x190)](consoleHolder)[_0x2a8615(0x1f2)](_0x2a9d53=>{const _0x2f500d=_0x2a8615;_0x3e7a5b[_0x2f500d(0x140)](isFunction,consoleHolder[_0x2a9d53])?console[_0x2a9d53]=(..._0x108898)=>{const _0x3aa406=_0x2f500d;try{!Object[_0x3aa406(0x190)](BSTestOpsPatcher)[_0x3aa406(0x1e5)](_0x2a9d53)?consoleHolder[_0x2a9d53](..._0x108898):BSTestOpsPatcher[_0x2a9d53](..._0x108898);}catch(_0x43eff4){consoleHolder[_0x2a9d53](..._0x108898);}}:console[_0x2a9d53]=consoleHolder[_0x2a9d53];});},exports[a88_0x45a42a(0x219)]=()=>a88_0x45a42a(0x12a)+JSON[a88_0x45a42a(0x1fe)]({'action':a88_0x45a42a(0x187),'arguments':{'data':a88_0x45a42a(0x117)+Date[a88_0x45a42a(0x16d)](),'level':a88_0x45a42a(0x159)}}),exports['getObservabilityLinkedProductName']=_0xff7ba5=>{const _0x4c1f8d=a88_0x45a42a,_0x3c5722={};_0x3c5722[_0x4c1f8d(0x124)]=function(_0x3ec380,_0x850d9){return _0x3ec380===_0x850d9;},_0x3c5722[_0x4c1f8d(0x1be)]=_0x4c1f8d(0x142),_0x3c5722[_0x4c1f8d(0x1c5)]='appium:app',_0x3c5722[_0x4c1f8d(0x18b)]=_0x4c1f8d(0x1d0),_0x3c5722[_0x4c1f8d(0x13c)]=function(_0xde288,_0x5ccfe3){return _0xde288>_0x5ccfe3;},_0x3c5722[_0x4c1f8d(0x1a3)]=_0x4c1f8d(0x135),_0x3c5722[_0x4c1f8d(0x1ac)]='bstack:options',_0x3c5722[_0x4c1f8d(0x1aa)]=_0x4c1f8d(0x20c),_0x3c5722['KzNWL']=_0x4c1f8d(0x1c9),_0x3c5722[_0x4c1f8d(0x128)]=_0x4c1f8d(0x11e);const _0x1f0185=_0x3c5722;let _0x47ef73=null;try{if(_0x1f0185[_0x4c1f8d(0x124)](global['__cloud_provider___'],_0x1f0185[_0x4c1f8d(0x1be)])){if(_0xff7ba5[_0x1f0185[_0x4c1f8d(0x1c5)]]||_0xff7ba5[_0x1f0185[_0x4c1f8d(0x18b)]]||!bsSetupHelper['isUndefined'](global[_0x4c1f8d(0x1e7)])&&_0x1f0185['DOwij'](global[_0x4c1f8d(0x1e7)][_0x4c1f8d(0x167)],0x0)&&(global[_0x4c1f8d(0x1e7)][0x0][_0x1f0185[_0x4c1f8d(0x18b)]]||global[_0x4c1f8d(0x1e7)][0x0][_0x1f0185[_0x4c1f8d(0x1c5)]]))_0x47ef73=_0x1f0185['rGdPm'];else _0xff7ba5[_0x1f0185['vAOVf']]&&_0xff7ba5[_0x1f0185['vAOVf']][_0x1f0185[_0x4c1f8d(0x1aa)]]?_0x47ef73=_0x1f0185['KzNWL']:_0x47ef73=_0x1f0185['yOrFB'];}}catch(_0xc4979f){exports[_0x4c1f8d(0x159)]('Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20'+_0xc4979f);}return _0x47ef73;},exports['sendPlatformDetails']=async(_0x81a619,_0x3bfea9,_0x326b3a=![])=>{const _0x33c176=a88_0x45a42a,_0x1d3512={};_0x1d3512[_0x33c176(0x1fc)]=function(_0x487823,_0x1e650a){return _0x487823===_0x1e650a;},_0x1d3512[_0x33c176(0x192)]='browserstack',_0x1d3512[_0x33c176(0x1d3)]=_0x33c176(0x1c3),_0x1d3512['sQOxW']=_0x33c176(0x11f);const _0x3fc49d=_0x1d3512;try{const _0x472d78=await _0x81a619[_0x33c176(0x15e)](),_0x50d6f3=await _0x81a619[_0x33c176(0x1eb)](),_0xd5dd53={},_0x4730a2=Object[_0x33c176(0x21c)](_0x50d6f3[_0x33c176(0x15e)]()[_0x33c176(0x16e)]),_0x1f01d7={'product':exports[_0x33c176(0x20a)](_0x4730a2),'capabilities':_0x4730a2,'platform':_0x472d78[_0x33c176(0x15b)](),'platform_version':bsSetupHelper[_0x33c176(0x19d)](_0x3fc49d[_0x33c176(0x1fc)](global['__cloud_provider___'],_0x3fc49d[_0x33c176(0x192)])),'browser':_0x472d78[_0x33c176(0x18e)](),'browser_version':_0x472d78['getBrowserVersion'](),'session_id':_0x50d6f3[_0x33c176(0x1c0)]()};global[_0x33c176(0x1b0)]?_0xd5dd53[global['__cloud_provider___']]=_0x1f01d7:_0xd5dd53[_0x3fc49d[_0x33c176(0x1d3)]]=_0x1f01d7;if(_0x326b3a)return _0xd5dd53;process[_0x33c176(0x18f)](_0x33c176(0x1cb)+process[_0x33c176(0x1ae)],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x3fc49d['sQOxW'],'http_response':_0xd5dd53,'uuid':_0x3bfea9});}catch(_0xdf4191){exports[_0x33c176(0x159)](_0x33c176(0x1a0)+_0xdf4191);}},exports[a88_0x45a42a(0x1d1)]=_0x19f60f=>{const _0x54d904=a88_0x45a42a;return _0x19f60f&&_0x19f60f[_0x54d904(0x165)]()[_0x54d904(0x152)](/browserstack internal helper hook/);};