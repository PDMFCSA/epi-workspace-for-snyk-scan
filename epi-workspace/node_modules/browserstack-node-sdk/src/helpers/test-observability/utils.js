const a88_0x59c5e2=a88_0x1799;(function(_0x59b226,_0x3f62d3){const _0xfd27db=a88_0x1799,_0x5f3916=_0x59b226();while(!![]){try{const _0xdc35fe=parseInt(_0xfd27db(0x2de))/0x1+parseInt(_0xfd27db(0x253))/0x2*(parseInt(_0xfd27db(0x2eb))/0x3)+parseInt(_0xfd27db(0x2e7))/0x4+-parseInt(_0xfd27db(0x2d3))/0x5*(-parseInt(_0xfd27db(0x28c))/0x6)+parseInt(_0xfd27db(0x26c))/0x7*(parseInt(_0xfd27db(0x2db))/0x8)+parseInt(_0xfd27db(0x220))/0x9*(parseInt(_0xfd27db(0x2a2))/0xa)+parseInt(_0xfd27db(0x2b5))/0xb*(-parseInt(_0xfd27db(0x277))/0xc);if(_0xdc35fe===_0x3f62d3)break;else _0x5f3916['push'](_0x5f3916['shift']());}catch(_0x4f136d){_0x5f3916['push'](_0x5f3916['shift']());}}}(a88_0x4d67,0xc8812));const fs=require('fs'),path=require(a88_0x59c5e2(0x2a1)),gitLastCommit=require('git-last-commit'),getRepoInfo=require('git-repo-info'),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require(a88_0x59c5e2(0x27b)),http=require(a88_0x59c5e2(0x2be)),https=require('https'),child_process=require('child_process'),getos=require(a88_0x59c5e2(0x24f)),os=require('os'),logger=require(a88_0x59c5e2(0x27c))['winstonLogger'],bsSetupHelper=require(a88_0x59c5e2(0x1f1)),requestSpy=require(a88_0x59c5e2(0x264)),constants=require(a88_0x59c5e2(0x1ef)),logPatcher=require(a88_0x59c5e2(0x2c0)),util=require(a88_0x59c5e2(0x233)),{fileLogger}=require(a88_0x59c5e2(0x27c)),PerformanceTester=require(a88_0x59c5e2(0x2df)),{isFunction}=require(a88_0x59c5e2(0x1e7)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a88_0x59c5e2(0x268));function a88_0x4d67(){const _0x3e0f22=['gkXHL','nodeRequest','ksORs','parse','2886882QRmDgB','isUndefined','https','capabilities','platformVersion','rXIzw','^CUSTOM_TAG_\x5cd+$','sXLOR','Tdxje','removeAnsiColors','readConfig','platform','prefixTestPath','bXaZw','map','kBkJx','err','logs','kXOfL','egxkp','qsaih','path','10LIJXqD','ltKUu','RBYmr','getDefaultHeaders','BROWSERSTACK_CONFIG_FILE_PATH','JDGpw','hqZqp','yrIde','undefined','JxiZB','addRequestSpy','fBdcP','rootDir','appium:app','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','maxSockets','TEUJF','CUCUMBER','26162521MEqYDU','vdStE','getUserName','XgRzJ','bubTA','spy','getAccessKey','annotate','X-BSTACK-TESTOPS','http','env','../../bin/utils/logPatcher','getPlatformVersion','application/json','HUB_URL_REGEX','BROWSERSTACK_OBSERVABILITY_DEBUG','ATS_HUB_URL_REGEX','app-automate','Unknown','dPAdU','Windows','Agent','PWPPQ','relativeTestFilePath','isTestObservabilitySession','JVUmz','null','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','WZVkt','uNPmS','5cLQsXc','match','getFrameworkVersion','win32','BROWSERSTACK_TEST_OBSERVABILITY_YML','execSync','Content-Type','linux','159960bVTaUg','url','Uploading\x20trace\x20logs\x20to:\x20','100886mSQxEU','../performance/performance-tester','MOCHA','object','keys','mocha','buildTag','isInternalHook','host','4758520xshbpf','test_run_uuid','lwMgc','BROWSERSTACK_TEST_OBSERVABILITY','18yzDeKO','now','AssertionError','VjSgs','nwsTM','wvvvn','PRINT_BUILDLINK','printBuildLink','ObservabilitySync:','lodash','BROWSERSTACK_TESTHUB_JWT','Bearer\x20','wlKZI','LogCreated','PathHelper','LZNkL','DUTCC','../../bin/utils/constants','yGUEh','../helper','getPackageVersion','xVUNO','silly','][\x20OBSERVABILITY\x20]\x20','headers','KlZxS','MbClO','getBrowserStackConfig','patchConsoleLogger','CODECEPT','WwKBx','wghNk','GPbZJ','BS_TESTOPS_BUILD_HASHED_ID','message','formData','jjzJB','release','sgXDQ','TgarE','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','body','pid','toString','tGDfj','hPoGy','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','agent','log','imLNs','expanded','backtrace','error','oRCjp','fileName','includes','wFTjH','sleep','MIBfi','mPvcM','trace','__cloud_provider___','parseFileNames','isArray','Linux','ZBpxf','5427909PdyEfD','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','PLAYWRIGHT_TRACE_LOGS','thMyz','split','emit','RbLCS','HKkgM','HTTP','push','measureWrapper','vJdLk','CfCca','][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','toJSON','getFailureType','cqvii','modifyReqForTraceUpload','util','maxTotalSockets','SaCbj','Visit\x20https://observability.browserstack.com/builds/','fromEntries','relative','getObservabilityLinkedProductName','XonLn','CUSTOM_TAG','getUserCredentials','pIQEQ','BjkQn','jLBsU','extractValuesWithRegexKeyMatch','wHbYK','BnScP','data','getCapabilities','tScJX','failureData','mQloG','CJMkj','format','fUZMO','map_','keepAlive','automate','LjDZB','getos','sendPlatformDetails','JEST','hostname','241646bSoHMH','@cucumber/cucumber','jVkzU','json','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','getBrowserVersion','lXqso','TEST_OBSERVABILITY_BUILD_TAG','true','filter','timeout','customTag','browserstack','DZBbr','BvFdI','@playwright/test','test','../../helpers/request-spy','uSyiP','PLAYWRIGHT','IYreg','../performance/constants','VfwOi','toISOString','bqEXI','35RqQqcm','FBgft','gpXcN','trim','replace','debug','config','Authorization','windows-release','noBOV','PrVjp','12ekkzkz','default','BROWSERSTACK_RERUN_TESTS','forEach','./constants','../logger','ZTkJS','getPlatform','getCustomTags','prefix','hcNJN','jwbVU','browserstack_executor:\x20','length','\x20:\x20','2|5|3|0|1|4','codeceptjs'];a88_0x4d67=function(){return _0x3e0f22;};return a88_0x4d67();}exports[a88_0x59c5e2(0x21a)]=_0x475348=>{const _0x381f94=a88_0x59c5e2;fileLogger[_0x381f94(0x1f4)]('['+new Date()['toISOString']()+_0x381f94(0x1f5)+_0x475348);},exports[a88_0x59c5e2(0x271)]=_0x43f100=>{const _0x24a069=a88_0x59c5e2,_0xa95a03={};_0xa95a03[_0x24a069(0x23f)]=function(_0x539915,_0x48b454){return _0x539915===_0x48b454;},_0xa95a03[_0x24a069(0x223)]=_0x24a069(0x25b);const _0x18d11c=_0xa95a03;fileLogger['debug']('['+new Date()[_0x24a069(0x26a)]()+_0x24a069(0x1f5)+_0x43f100),(_0x18d11c[_0x24a069(0x23f)](process[_0x24a069(0x2bf)][_0x24a069(0x2c4)],_0x18d11c['thMyz'])||_0x18d11c[_0x24a069(0x23f)](process['env'][_0x24a069(0x2c4)],'1'))&&consoleHolder[_0x24a069(0x20e)]('\x0a['+new Date()[_0x24a069(0x26a)]()+'][\x20OBSERVABILITY\x20]\x20'+_0x43f100+'\x0a');};const a88_0x1746fa={};a88_0x1746fa[a88_0x59c5e2(0x24c)]=!![],a88_0x1746fa[a88_0x59c5e2(0x25d)]=0xea60,a88_0x1746fa[a88_0x59c5e2(0x2b2)]=0x2,a88_0x1746fa[a88_0x59c5e2(0x234)]=0x2;const httpKeepAliveAgent=new http[(a88_0x59c5e2(0x2ca))](a88_0x1746fa),a88_0x5e06c6={};a88_0x5e06c6[a88_0x59c5e2(0x24c)]=!![],a88_0x5e06c6[a88_0x59c5e2(0x25d)]=0xea60,a88_0x5e06c6[a88_0x59c5e2(0x2b2)]=0x2,a88_0x5e06c6['maxTotalSockets']=0x2;const httpsKeepAliveAgent=new https[(a88_0x59c5e2(0x2ca))](a88_0x5e06c6),a88_0x1d29d1={};a88_0x1d29d1[a88_0x59c5e2(0x24c)]=!![],a88_0x1d29d1[a88_0x59c5e2(0x25d)]=0xea60,a88_0x1d29d1[a88_0x59c5e2(0x2b2)]=0x2,a88_0x1d29d1[a88_0x59c5e2(0x234)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a88_0x59c5e2(0x2ca))](a88_0x1d29d1),a88_0x4c8639={};a88_0x4c8639[a88_0x59c5e2(0x24c)]=!![],a88_0x4c8639['timeout']=0xea60,a88_0x4c8639['maxSockets']=0x2,a88_0x4c8639['maxTotalSockets']=0x2;const httpsScreenshotsKeepAliveAgent=new https['Agent'](a88_0x4c8639);function a88_0x1799(_0x4b50a9,_0x238519){const _0x4d679c=a88_0x4d67();return a88_0x1799=function(_0x1799ec,_0x5c0703){_0x1799ec=_0x1799ec-0x1e0;let _0x4a530b=_0x4d679c[_0x1799ec];return _0x4a530b;},a88_0x1799(_0x4b50a9,_0x238519);}exports['shouldReRunObservabilityTests']=()=>{const _0x225b0a=a88_0x59c5e2,_0x5b3fa1={};_0x5b3fa1['KPtVk']=function(_0x4d79f6,_0x4caa87){return _0x4d79f6!==_0x4caa87;},_0x5b3fa1[_0x225b0a(0x22c)]=_0x225b0a(0x2cf);const _0x4db336=_0x5b3fa1;return process[_0x225b0a(0x2bf)]['BROWSERSTACK_RERUN_TESTS']&&_0x4db336['KPtVk'](process[_0x225b0a(0x2bf)][_0x225b0a(0x279)],_0x4db336[_0x225b0a(0x22c)])?!![]:![];},exports[a88_0x59c5e2(0x2cd)]=()=>{const _0x48c5a2=a88_0x59c5e2,_0x7d244b={};_0x7d244b[_0x48c5a2(0x2a4)]=function(_0x5e9735,_0x52c688){return _0x5e9735===_0x52c688;},_0x7d244b['RbLCS']=_0x48c5a2(0x25b);const _0x1147b3=_0x7d244b;let _0x58b16f=!![];return process[_0x48c5a2(0x2bf)][_0x48c5a2(0x2d7)]&&(_0x58b16f=_0x1147b3[_0x48c5a2(0x2a4)](process[_0x48c5a2(0x2bf)][_0x48c5a2(0x2d7)],_0x1147b3[_0x48c5a2(0x226)])),process['env'][_0x48c5a2(0x2ea)]&&(_0x58b16f=_0x1147b3['RBYmr'](process[_0x48c5a2(0x2bf)][_0x48c5a2(0x2ea)],_0x1147b3[_0x48c5a2(0x226)])),_0x58b16f;},exports[a88_0x59c5e2(0x21c)]=_0x3358aa=>{const _0x55326f=a88_0x59c5e2;if(bsSetupHelper['isUndefined'](_0x3358aa))return undefined;try{return _0x3358aa[_0x55326f(0x26f)]()[_0x55326f(0x224)](',');}catch(_0x46b65d){return undefined;}},exports[a88_0x59c5e2(0x1e5)]=()=>{const _0x4c2862=a88_0x59c5e2,_0x377883={};_0x377883[_0x4c2862(0x2b8)]=function(_0xde7163,_0x44f6a1){return _0xde7163!==_0x44f6a1;},_0x377883[_0x4c2862(0x29f)]=_0x4c2862(0x2cf),_0x377883[_0x4c2862(0x213)]=function(_0x38b71c,_0x495025){return _0x38b71c!==_0x495025;},_0x377883[_0x4c2862(0x276)]=_0x4c2862(0x2aa);const _0x11b803=_0x377883;return PerformanceTester[_0x4c2862(0x22a)](PerformanceO11yEvents[_0x4c2862(0x1e4)],async()=>{const _0x20f6ae=_0x4c2862;try{process[_0x20f6ae(0x2bf)][_0x20f6ae(0x1ff)]&&_0x11b803[_0x20f6ae(0x2b8)](process[_0x20f6ae(0x2bf)][_0x20f6ae(0x1ff)],_0x11b803[_0x20f6ae(0x29f)])&&_0x11b803[_0x20f6ae(0x213)](process['env'][_0x20f6ae(0x1ff)],_0x11b803[_0x20f6ae(0x276)])&&logger['info'](_0x20f6ae(0x236)+process[_0x20f6ae(0x2bf)]['BS_TESTOPS_BUILD_HASHED_ID']+_0x20f6ae(0x2b0));}catch(_0x488f91){logger[_0x20f6ae(0x212)]('['+new Date()['toISOString']()+_0x20f6ae(0x22d));}})();},exports[a88_0x59c5e2(0x230)]=_0x140abb=>{const _0x233570=a88_0x59c5e2,_0x2b5281={};_0x2b5281[_0x233570(0x20a)]=_0x233570(0x1e0),_0x2b5281[_0x233570(0x2a3)]='UnhandledError';const _0x3d15c6=_0x2b5281;if(!_0x140abb)return null;return _0x140abb[_0x233570(0x209)]()[_0x233570(0x2d4)](/AssertionError/)?_0x3d15c6['tGDfj']:_0x3d15c6[_0x233570(0x2a3)];},exports[a88_0x59c5e2(0x2d5)]=_0x5bcbd5=>{const _0xd05fbd=a88_0x59c5e2,_0x568b55={};_0x568b55[_0xd05fbd(0x1ea)]=_0xd05fbd(0x2e3),_0x568b55[_0xd05fbd(0x265)]=_0xd05fbd(0x262),_0x568b55[_0xd05fbd(0x202)]=_0xd05fbd(0x287),_0x568b55[_0xd05fbd(0x259)]='jest',_0x568b55[_0xd05fbd(0x245)]=_0xd05fbd(0x254);const _0x40db55=_0x568b55;let _0x46e433=null;switch(_0x5bcbd5){case FRAMEWORKS[_0xd05fbd(0x2e0)]:_0x46e433=bsSetupHelper[_0xd05fbd(0x1f2)](_0x40db55[_0xd05fbd(0x1ea)]);break;case FRAMEWORKS['PLAYWRIGHT']:_0x46e433=bsSetupHelper[_0xd05fbd(0x1f2)](_0x40db55['uSyiP']);break;case FRAMEWORKS[_0xd05fbd(0x1fb)]:_0x46e433=bsSetupHelper[_0xd05fbd(0x1f2)](_0x40db55['jjzJB']);break;case FRAMEWORKS[_0xd05fbd(0x251)]:_0x46e433=bsSetupHelper[_0xd05fbd(0x1f2)](_0x40db55[_0xd05fbd(0x259)]);break;case FRAMEWORKS[_0xd05fbd(0x2b4)]:_0x46e433=bsSetupHelper[_0xd05fbd(0x1f2)](_0x40db55[_0xd05fbd(0x245)]);break;default:break;}return _0x46e433;},exports[a88_0x59c5e2(0x1f9)]=_0x563c82=>{const _0x44ddc4=a88_0x59c5e2;let _0x5e3fd6=null;switch(_0x563c82){case FRAMEWORKS[_0x44ddc4(0x266)]:_0x5e3fd6=process[_0x44ddc4(0x2bf)][_0x44ddc4(0x2a6)];break;}if(!_0x5e3fd6)return;return bsSetupHelper[_0x44ddc4(0x296)](_0x5e3fd6,![]);},exports[a88_0x59c5e2(0x23c)]=_0x955269=>{const _0x261d6c=a88_0x59c5e2;return{'username':bsSetupHelper[_0x261d6c(0x2b7)](_0x955269),'accessKey':bsSetupHelper[_0x261d6c(0x2bb)](_0x955269)};},exports['modifyReqForTraceUpload']=(_0x514199,_0x44ac18)=>{const _0x4271e0=a88_0x59c5e2,_0xe44ea8={};_0xe44ea8['hcNJN']=_0x4271e0(0x286),_0xe44ea8['WZVkt']=_0x4271e0(0x1eb),_0xe44ea8['JjyGL']='TEST_ATTACHMENT',_0xe44ea8['vJdLk']=_0x4271e0(0x222);const _0x497610=_0xe44ea8,_0x5bde6d=_0x497610[_0x4271e0(0x281)]['split']('|');let _0x14acc3=0x0;while(!![]){switch(_0x5bde6d[_0x14acc3++]){case'0':delete _0x514199[_0x4271e0(0x207)];continue;case'1':delete _0x514199[_0x4271e0(0x256)];continue;case'2':if(!_0x514199[_0x4271e0(0x207)]||!Array[_0x4271e0(0x21d)](_0x514199[_0x4271e0(0x207)]))return;continue;case'3':_0x514199[_0x4271e0(0x201)]={'data':_0x514199['body'][0x0][_0x4271e0(0x29d)][0x0][_0x4271e0(0x243)],'test_run_uuid':_0x514199['body'][0x0]['logs'][0x0][_0x4271e0(0x2e8)],'event_type':_0x497610[_0x4271e0(0x2d1)],'kind':_0x497610['JjyGL'],'attachmentType':_0x497610[_0x4271e0(0x22b)],'timestamp':new Date()[_0x4271e0(0x26a)](),'fileName':_0x514199[_0x4271e0(0x207)][0x0]['logs'][0x0][_0x4271e0(0x214)]};continue;case'4':delete _0x44ac18['headers'];continue;case'5':if(!_0x514199[_0x4271e0(0x207)][0x0]||!_0x514199[_0x4271e0(0x207)][0x0]['logs']||!_0x514199[_0x4271e0(0x207)][0x0][_0x4271e0(0x29d)]['length'])return;continue;}break;}},exports['asyncAwaitNodeReq']=async(_0x420b87,_0x4736fb,_0x5acfe2,_0xb32c2c,_0xadfb8=!![])=>{const _0x34797e=a88_0x59c5e2,_0xbb9f60={};_0xbb9f60[_0x34797e(0x26d)]=function(_0x470645,_0x261bdb){return _0x470645===_0x261bdb;},_0xbb9f60[_0x34797e(0x235)]=_0x34797e(0x2d9),_0xbb9f60[_0x34797e(0x216)]='application/json',_0xbb9f60[_0x34797e(0x20f)]=_0x34797e(0x28e),_0xbb9f60[_0x34797e(0x227)]=function(_0x44e380,_0x18416b){return _0x44e380===_0x18416b;},_0xbb9f60[_0x34797e(0x282)]=function(_0x135f43,_0xe150b9){return _0x135f43!==_0xe150b9;},_0xbb9f60[_0x34797e(0x1e1)]=function(_0x14a651,_0x501708){return _0x14a651!==_0x501708;},_0xbb9f60[_0x34797e(0x267)]=_0x34797e(0x2e1),_0xbb9f60['sgXDQ']=_0x34797e(0x221);const _0x242122=_0xbb9f60,_0x4e1614={..._0xb32c2c,...{'method':_0x420b87,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x4736fb,'body':_0x5acfe2,'json':_0x242122['FBgft'](_0xb32c2c[_0x34797e(0x1f6)][_0x242122['SaCbj']],_0x242122['wFTjH']),'agent':API_URL[_0x34797e(0x215)](_0x242122[_0x34797e(0x20f)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x242122[_0x34797e(0x227)](_0x4736fb,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x4e1614[_0x34797e(0x20d)]=API_URL[_0x34797e(0x215)](_0x242122[_0x34797e(0x20f)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x34797e(0x232)](_0x4e1614,_0xb32c2c),logger[_0x34797e(0x271)](_0x34797e(0x2dd)+_0x4e1614[_0x34797e(0x2dc)]));try{const {statusCode:_0x499104,body:_0x144c83}=await bsSetupHelper['nodeRequest'](_0x420b87,_0x4736fb,_0x4e1614,_0xb32c2c,_0x4e1614[_0x34797e(0x2dc)]);if(_0x242122['jwbVU'](_0x499104,0xc8))return _0x144c83?_0x144c83:_0x34797e(0x257)+_0x499104;let _0x230999=_0x144c83;if(_0xadfb8)try{_0x242122['VjSgs'](typeof _0x144c83,_0x242122['IYreg'])&&(_0x230999=JSON[_0x34797e(0x28b)](_0x144c83));}catch(_0x10550b){logger['error'](_0x242122[_0x34797e(0x204)],_0x144c83,util[_0x34797e(0x249)](_0x10550b));}const _0x5f55d5={};return _0x5f55d5[_0x34797e(0x243)]=_0x230999,_0x5f55d5;}catch(_0x1d9b6b){logger[_0x34797e(0x212)](_0x34797e(0x2d0)+util['format'](_0x1d9b6b));throw _0x1d9b6b;}},exports[a88_0x59c5e2(0x289)]=(_0x60ac9e,_0x2e5ea7,_0xd89173,_0x2e7c0a,_0x500994=!![])=>{const _0xf6db15=a88_0x59c5e2,_0xb5943a={'fBdcP':function(_0x36ebee,_0x415c8b){return _0x36ebee!==_0x415c8b;},'JDGpw':function(_0x46b55c,_0x276f03){return _0x46b55c(_0x276f03);},'ZxcBe':function(_0x5b9794,_0x18d9ea){return _0x5b9794!==_0x18d9ea;},'fUZMO':_0xf6db15(0x2e1),'XonLn':function(_0x4d870f,_0x3fa176){return _0x4d870f(_0x3fa176);},'MIBfi':_0xf6db15(0x20c),'wvvvn':function(_0x38b375,_0x2a65f0){return _0x38b375(_0x2a65f0);},'bXaZw':function(_0x38c7d1,_0x5266df){return _0x38c7d1===_0x5266df;},'mMopE':'Content-Type','ZTkJS':_0xf6db15(0x2c2),'mPvcM':_0xf6db15(0x28e),'JxiZB':function(_0x5ec27b,_0x35c189){return _0x5ec27b===_0x35c189;}};return new Promise((_0x3d072b,_0x13f3af)=>{const _0xe2e2f2=_0xf6db15,_0x19d3d6={'mQloG':function(_0x4b27c6,_0x2dba16){const _0xebb792=a88_0x1799;return _0xb5943a[_0xebb792(0x1e3)](_0x4b27c6,_0x2dba16);}},_0x470381={..._0x2e7c0a,...{'method':_0x60ac9e,'url':API_URL+'/'+_0x2e5ea7,'body':_0xd89173,'json':_0xb5943a[_0xe2e2f2(0x299)](_0x2e7c0a[_0xe2e2f2(0x1f6)][_0xb5943a['mMopE']],_0xb5943a[_0xe2e2f2(0x27d)]),'agent':API_URL['includes'](_0xb5943a['mPvcM'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0xb5943a[_0xe2e2f2(0x2ab)](_0x2e5ea7,SCREENSHOT_ENDPOINT)&&(_0x470381[_0xe2e2f2(0x20d)]=API_URL[_0xe2e2f2(0x215)](_0xb5943a[_0xe2e2f2(0x219)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0xe2e2f2(0x289)](_0x60ac9e,_0x2e5ea7,_0x470381,_0x2e7c0a,API_URL)['then'](({statusCode:_0x2cdbc7,body:_0x886501})=>{const _0x476c28=_0xe2e2f2;if(_0xb5943a[_0x476c28(0x2ad)](_0x2cdbc7,0xc8))_0xb5943a[_0x476c28(0x2a7)](_0x13f3af,_0x886501?_0x886501:_0x476c28(0x257)+_0x2cdbc7);else{if(_0x500994)try{_0xb5943a['ZxcBe'](typeof _0x886501,_0xb5943a[_0x476c28(0x24a)])&&(_0x886501=JSON[_0x476c28(0x28b)](_0x886501));}catch(_0x4abb16){_0xb5943a[_0x476c28(0x23a)](_0x13f3af,_0xb5943a[_0x476c28(0x218)]);return;}const _0x2e61b2={};_0x2e61b2[_0x476c28(0x243)]=_0x886501,_0xb5943a[_0x476c28(0x2a7)](_0x3d072b,_0x2e61b2);}})['catch'](_0x10b8d0=>{const _0x19c1de=_0xe2e2f2;_0x10b8d0&&_0x19d3d6[_0x19c1de(0x247)](_0x13f3af,_0x10b8d0);});});},exports['getBuildTags']=_0x228d18=>{const _0x363e6d=a88_0x59c5e2;if(process[_0x363e6d(0x2bf)]['TEST_OBSERVABILITY_BUILD_TAG'])return process[_0x363e6d(0x2bf)][_0x363e6d(0x25a)]['split'](',');if(_0x228d18[_0x363e6d(0x2e4)])return _0x228d18['buildTag'];return[];},exports[a88_0x59c5e2(0x2a5)]=(_0x29d636=!![])=>{const _0x58db97=a88_0x59c5e2,_0x1c78a4={};_0x1c78a4[_0x58db97(0x26e)]=_0x58db97(0x2c2),_0x1c78a4['BvFdI']=_0x58db97(0x25b),_0x1c78a4['WwKBx']=_0x58db97(0x273);const _0x413d51=_0x1c78a4,_0x2f8472={};_0x2f8472[_0x58db97(0x2d9)]=_0x413d51['gpXcN'],_0x2f8472['X-BSTACK-TESTOPS']=_0x413d51[_0x58db97(0x261)];const _0x2b8cca=_0x2f8472;return _0x29d636&&process[_0x58db97(0x2bf)][_0x58db97(0x1e8)]&&(_0x2b8cca[_0x413d51[_0x58db97(0x1fc)]]=_0x58db97(0x1e9)+process[_0x58db97(0x2bf)][_0x58db97(0x1e8)]),_0x2b8cca;},exports[a88_0x59c5e2(0x240)]=_0x2e3f78=>{const _0x84c9d5=a88_0x59c5e2,_0x279fe0={};_0x279fe0[_0x84c9d5(0x2b3)]=_0x84c9d5(0x292);const _0x5e1b45=_0x279fe0,_0xd657e6=[],_0x31fdd1=new RegExp(_0x5e1b45['TEUJF'],'i');return Object[_0x84c9d5(0x2e2)](_0x2e3f78)[_0x84c9d5(0x25c)](_0x4ef8bb=>_0x31fdd1[_0x84c9d5(0x263)](_0x4ef8bb))[_0x84c9d5(0x27a)](_0x368073=>_0xd657e6['push'](_0x2e3f78[_0x368073])),_0xd657e6;},exports[a88_0x59c5e2(0x27f)]=_0x396ff8=>{const _0x595bac=a88_0x59c5e2,_0x477597=[],_0x435176=_0x396ff8[_0x595bac(0x25e)]||process[_0x595bac(0x2bf)][_0x595bac(0x23b)];return _0x435176&&_0x477597[_0x595bac(0x229)](_0x435176),_0x477597[_0x595bac(0x229)](...exports[_0x595bac(0x240)](process['env'])),_0x477597['push'](...exports[_0x595bac(0x240)](_0x396ff8)),_0x477597;},exports[a88_0x59c5e2(0x295)]=_0x3c81fb=>{const _0x1daee7=a88_0x59c5e2;if(!_0x3c81fb)return'';return _0x3c81fb[_0x1daee7(0x270)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a88_0x59c5e2(0x217)]=(_0x4efa5c=0x64)=>new Promise(_0x25edb8=>setTimeout(_0x25edb8,_0x4efa5c));const getPlatformName=()=>{const _0x434d63=a88_0x59c5e2,_0x749930={};_0x749930['VfwOi']=function(_0x29e792,_0x400d36){return _0x29e792===_0x400d36;},_0x749930[_0x434d63(0x2e9)]=_0x434d63(0x2d6),_0x749930['BjkQn']=_0x434d63(0x2c9),_0x749930[_0x434d63(0x1ee)]=function(_0x287927,_0x532afa){return _0x287927===_0x532afa;},_0x749930['wghNk']='darwin',_0x749930[_0x434d63(0x242)]='OS\x20X',_0x749930[_0x434d63(0x275)]=_0x434d63(0x2da),_0x749930[_0x434d63(0x2ce)]=_0x434d63(0x21e),_0x749930[_0x434d63(0x23d)]=_0x434d63(0x2c7);const _0x211217=_0x749930;if(_0x211217['VfwOi'](process[_0x434d63(0x297)],_0x211217['lwMgc']))return _0x211217[_0x434d63(0x23e)];if(_0x211217[_0x434d63(0x1ee)](process[_0x434d63(0x297)],_0x211217[_0x434d63(0x1fd)]))return _0x211217[_0x434d63(0x242)];if(_0x211217[_0x434d63(0x269)](process[_0x434d63(0x297)],_0x211217['noBOV']))return _0x211217['JVUmz'];return _0x211217[_0x434d63(0x23d)];},getMacOSVersion=()=>{const _0x5995b6=a88_0x59c5e2,_0x138631={};_0x138631['kBkJx']=_0x5995b6(0x22e);const _0xd8ab30=_0x138631;return child_process[_0x5995b6(0x2d8)](_0xd8ab30[_0x5995b6(0x29b)])[_0x5995b6(0x209)]()[_0x5995b6(0x26f)]();},getLinuxDetails=()=>{const _0x1cd8ca={'LjDZB':function(_0x41ca88,_0x16c182){return _0x41ca88(_0x16c182);},'dJJkR':function(_0x4e8a55,_0x17bf5f){return _0x4e8a55(_0x17bf5f);},'vdStE':function(_0x45dac4,_0x140b6b){return _0x45dac4(_0x140b6b);}};return new Promise((_0x565943,_0x1a5c5b)=>{const _0x1b4905=a88_0x1799,_0x211a0a={'DZBbr':function(_0x9b9d51,_0x407053){const _0x3db83f=a88_0x1799;return _0x1cd8ca[_0x3db83f(0x24e)](_0x9b9d51,_0x407053);},'nwsTM':function(_0x4e9caa,_0x19e23f){return _0x1cd8ca['dJJkR'](_0x4e9caa,_0x19e23f);}};_0x1cd8ca[_0x1b4905(0x2b6)](getos,(_0x158571,_0x54cbe3)=>{const _0x16cd2b=_0x1b4905;if(_0x158571)return _0x211a0a[_0x16cd2b(0x260)](_0x1a5c5b,_0x158571);_0x211a0a[_0x16cd2b(0x1e2)](_0x565943,_0x54cbe3);});});};exports['getPlatformDetails']=async()=>{const _0x5305ba=a88_0x59c5e2,_0x126c0d={'ksORs':function(_0x342404){return _0x342404();},'MbClO':'OS\x20X','LZNkL':_0x5305ba(0x2c9),'Kgwkh':_0x5305ba(0x274),'TgarE':'Linux','mCjfY':function(_0x303248){return _0x303248();},'hAxTB':'Error\x20in\x20getting\x20Linux\x20Details'};let _0xc9690f=_0x126c0d[_0x5305ba(0x28a)](getPlatformName),_0x5cf0ff=os[_0x5305ba(0x203)]()[_0x5305ba(0x209)]();switch(_0xc9690f){case _0x126c0d[_0x5305ba(0x1f8)]:_0x5cf0ff=_0x126c0d[_0x5305ba(0x28a)](getMacOSVersion);break;case _0x126c0d[_0x5305ba(0x1ed)]:try{const _0x1ca8da=(await import(_0x126c0d['Kgwkh']))[_0x5305ba(0x278)];_0x5cf0ff=_0x126c0d[_0x5305ba(0x28a)](_0x1ca8da);}catch(_0x300f1c){exports[_0x5305ba(0x271)]('Error\x20in\x20importing\x20windows-release\x20'+_0x300f1c['toString']());}break;case _0x126c0d[_0x5305ba(0x205)]:try{const _0x4fa279=await _0x126c0d['mCjfY'](getLinuxDetails);_0x4fa279['dist']&&(_0xc9690f=_0x4fa279['dist']),_0x4fa279[_0x5305ba(0x203)]&&(_0x5cf0ff=_0x4fa279[_0x5305ba(0x203)][_0x5305ba(0x209)]());}catch(_0x2796e4){exports['debug'](_0x126c0d['hAxTB']);}break;default:break;}const _0x4f1c02={};return _0x4f1c02['platformName']=_0xc9690f,_0x4f1c02[_0x5305ba(0x290)]=_0x5cf0ff,_0x4f1c02;},exports[a88_0x59c5e2(0x246)]=(_0x305cc4,_0x2c3f3f)=>{const _0x3ccbf0=a88_0x59c5e2,_0x2dcea5={};_0x2dcea5[_0x3ccbf0(0x2a0)]=function(_0xf40dd7,_0x3bf81c){return _0xf40dd7===_0x3bf81c;},_0x2dcea5[_0x3ccbf0(0x1f0)]='test',_0x2dcea5[_0x3ccbf0(0x288)]=_0x3ccbf0(0x29c);const _0x2316d0=_0x2dcea5;if(!_0x305cc4)return[];try{if(_0x2316d0['qsaih'](_0x2c3f3f,_0x2316d0[_0x3ccbf0(0x1f0)]))return _0x305cc4['map'](_0x42aa28=>{const _0x566831=_0x3ccbf0,{stack:_0x4a9238,..._0x49ecfc}=_0x42aa28,_0x45947d=Object[_0x566831(0x2e2)](_0x49ecfc)[_0x566831(0x29a)](_0x1e86a9=>{return _0x1e86a9+':\x20'+_0x49ecfc[_0x1e86a9];}),_0x3ea7f1=_0x4a9238?exports[_0x566831(0x295)](_0x4a9238)[_0x566831(0x224)](/\r?\n/):[exports[_0x566831(0x295)](_0x42aa28[_0x566831(0x200)])],_0x113aac={};return _0x113aac['backtrace']=_0x3ea7f1,_0x113aac[_0x566831(0x210)]=_0x45947d,_0x113aac;});else{if(_0x2316d0[_0x3ccbf0(0x2a0)](_0x2c3f3f,_0x2316d0['gkXHL'])){const _0x8cbee9=[],_0x4e1352=[];return Object[_0x3ccbf0(0x2e2)](_0x305cc4)[_0x3ccbf0(0x27a)](_0x4350d9=>{const _0xed7d78=_0x3ccbf0;try{_0x4e1352[_0xed7d78(0x229)](_0x4350d9+':\x20'+_0x305cc4[_0x4350d9]);}catch(_0x3ecab7){exports[_0xed7d78(0x271)](_0xed7d78(0x206)+_0x3ecab7['message']+'\x20:\x20'+_0x3ecab7['backtrace']);}}),_0x8cbee9[_0x3ccbf0(0x229)]({'backtrace':exports['removeAnsiColors'](_0x305cc4['stack'])[_0x3ccbf0(0x224)](/\r?\n/),'expanded':_0x4e1352}),_0x8cbee9;}}return[];}catch(_0x34c007){exports['debug'](_0x3ccbf0(0x206)+_0x34c007['message']+_0x3ccbf0(0x285)+_0x34c007[_0x3ccbf0(0x211)]);}return[];};class PathHelper{constructor(_0x47ad46,_0x52ab98){const _0x6aefb5=a88_0x59c5e2;this[_0x6aefb5(0x272)]=_0x47ad46,this[_0x6aefb5(0x280)]=_0x52ab98;}[a88_0x59c5e2(0x2cc)](_0xef77fa){const _0x42884e=a88_0x59c5e2,_0x2f84bf=this[_0x42884e(0x272)]['cwd']||this[_0x42884e(0x272)][_0x42884e(0x2ae)];return path[_0x42884e(0x238)](_0x2f84bf,_0xef77fa);}[a88_0x59c5e2(0x298)](_0xa30f48){const _0x317cb1=a88_0x59c5e2,_0x189821=this[_0x317cb1(0x2cc)](_0xa30f48);return this[_0x317cb1(0x280)]?path['join'](this[_0x317cb1(0x280)],_0x189821):_0x189821;}}exports[a88_0x59c5e2(0x1ec)]=PathHelper,exports[a88_0x59c5e2(0x2ac)]=(_0x15e966=!![])=>{const _0x5be3e3=a88_0x59c5e2,_0x63ca={};_0x63ca[_0x5be3e3(0x29e)]=function(_0x16960b,_0x156412){return _0x16960b===_0x156412;},_0x63ca['dPAdU']=_0x5be3e3(0x2bd),_0x63ca['yybgx']=_0x5be3e3(0x25b),_0x63ca[_0x5be3e3(0x1f3)]=_0x5be3e3(0x228),_0x63ca[_0x5be3e3(0x241)]=_0x5be3e3(0x25f),_0x63ca[_0x5be3e3(0x26b)]='local_grid';const _0x4ef102=_0x63ca;requestSpy[_0x5be3e3(0x2ba)]((_0x4800aa,_0x175963)=>{const _0x205168=_0x5be3e3;_0x175963&&!(_0x175963[_0x205168(0x1f6)]&&_0x4ef102[_0x205168(0x29e)](_0x175963['headers'][_0x4ef102[_0x205168(0x2c8)]],_0x4ef102['yybgx']))&&(_0x175963[_0x205168(0x2e6)]=_0x175963[_0x205168(0x252)],delete _0x175963[_0x205168(0x252)],_0x15e966&&process[_0x205168(0x225)]('bs:addLog:'+process[_0x205168(0x208)],{'timestamp':new Date()[_0x205168(0x26a)](),'level':null,'message':null,'kind':_0x4ef102[_0x205168(0x1f3)],'http_response':_0x175963})),_0x175963&&(constants[_0x205168(0x2c3)]['test'](_0x175963[_0x205168(0x2e6)])||constants[_0x205168(0x2c5)][_0x205168(0x263)](_0x175963[_0x205168(0x2e6)]))?global[_0x205168(0x21b)]=_0x4ef102['wHbYK']:global[_0x205168(0x21b)]=_0x4ef102[_0x205168(0x26b)];});},exports[a88_0x59c5e2(0x1fa)]=()=>{const _0x12c4ed=a88_0x59c5e2,_0xde62e9={'KlZxS':function(_0x44b312,_0x27bef8){return _0x44b312(_0x27bef8);}};console={},Object[_0x12c4ed(0x2e2)](consoleHolder)[_0x12c4ed(0x27a)](_0x9d62e0=>{const _0x4c4962=_0x12c4ed;_0xde62e9[_0x4c4962(0x1f7)](isFunction,consoleHolder[_0x9d62e0])?console[_0x9d62e0]=(..._0x5f38c2)=>{const _0x20a481=_0x4c4962;try{!Object['keys'](BSTestOpsPatcher)[_0x20a481(0x215)](_0x9d62e0)?consoleHolder[_0x9d62e0](..._0x5f38c2):BSTestOpsPatcher[_0x9d62e0](..._0x5f38c2);}catch(_0x177c8e){consoleHolder[_0x9d62e0](..._0x5f38c2);}}:console[_0x9d62e0]=consoleHolder[_0x9d62e0];});},exports['getSyncScript']=()=>a88_0x59c5e2(0x283)+JSON['stringify']({'action':a88_0x59c5e2(0x2bc),'arguments':{'data':a88_0x59c5e2(0x1e6)+Date[a88_0x59c5e2(0x2ec)](),'level':a88_0x59c5e2(0x271)}}),exports[a88_0x59c5e2(0x239)]=_0xd1383b=>{const _0x1d84dd=a88_0x59c5e2,_0xa85462={};_0xa85462['jVkzU']=function(_0x5bb423,_0x913173){return _0x5bb423===_0x913173;},_0xa85462[_0x1d84dd(0x2d2)]=_0x1d84dd(0x25f),_0xa85462[_0x1d84dd(0x2b9)]=_0x1d84dd(0x2af),_0xa85462['sXLOR']='app',_0xa85462['GPbZJ']=function(_0x5e837c,_0x560f6d){return _0x5e837c>_0x560f6d;},_0xa85462['Tdxje']=_0x1d84dd(0x2c6),_0xa85462[_0x1d84dd(0x21f)]='bstack:options',_0xa85462['rXIzw']='turboScaleGridDetails',_0xa85462[_0x1d84dd(0x2a9)]='turboscale',_0xa85462['cqvii']=_0x1d84dd(0x24d);const _0x5bf121=_0xa85462;let _0x30ff12=null;try{if(_0x5bf121[_0x1d84dd(0x255)](global[_0x1d84dd(0x21b)],_0x5bf121[_0x1d84dd(0x2d2)])){if(_0xd1383b[_0x5bf121[_0x1d84dd(0x2b9)]]||_0xd1383b[_0x5bf121[_0x1d84dd(0x293)]]||!bsSetupHelper[_0x1d84dd(0x28d)](global[_0x1d84dd(0x28f)])&&_0x5bf121[_0x1d84dd(0x1fe)](global[_0x1d84dd(0x28f)][_0x1d84dd(0x284)],0x0)&&(global[_0x1d84dd(0x28f)][0x0][_0x5bf121[_0x1d84dd(0x293)]]||global[_0x1d84dd(0x28f)][0x0][_0x5bf121[_0x1d84dd(0x2b9)]]))_0x30ff12=_0x5bf121[_0x1d84dd(0x294)];else _0xd1383b[_0x5bf121['ZBpxf']]&&_0xd1383b[_0x5bf121[_0x1d84dd(0x21f)]][_0x5bf121[_0x1d84dd(0x291)]]?_0x30ff12=_0x5bf121['yrIde']:_0x30ff12=_0x5bf121[_0x1d84dd(0x231)];}}catch(_0x160929){exports[_0x1d84dd(0x271)](_0x1d84dd(0x2b1)+_0x160929);}return _0x30ff12;},exports[a88_0x59c5e2(0x250)]=async(_0x2d5520,_0x5d56e6,_0x1ccefc=![])=>{const _0x464b78=a88_0x59c5e2,_0x2a7a89={};_0x2a7a89[_0x464b78(0x2cb)]=function(_0x2b4271,_0x40514a){return _0x2b4271===_0x40514a;},_0x2a7a89[_0x464b78(0x248)]=_0x464b78(0x25f),_0x2a7a89[_0x464b78(0x20b)]='unknown_grid',_0x2a7a89[_0x464b78(0x2a8)]='TEST_PLATFORM';const _0x6228dc=_0x2a7a89;try{const _0x21aa19=await _0x2d5520[_0x464b78(0x244)](),_0x148267=await _0x2d5520['getSession'](),_0x1fce50={},_0x298772=Object[_0x464b78(0x237)](_0x148267['getCapabilities']()[_0x464b78(0x24b)]),_0x385065={'product':exports[_0x464b78(0x239)](_0x298772),'capabilities':_0x298772,'platform':_0x21aa19[_0x464b78(0x27e)](),'platform_version':bsSetupHelper[_0x464b78(0x2c1)](_0x6228dc['PWPPQ'](global[_0x464b78(0x21b)],_0x6228dc[_0x464b78(0x248)])),'browser':_0x21aa19['getBrowserName'](),'browser_version':_0x21aa19[_0x464b78(0x258)](),'session_id':_0x148267[_0x464b78(0x22f)]()};global[_0x464b78(0x21b)]?_0x1fce50[global['__cloud_provider___']]=_0x385065:_0x1fce50[_0x6228dc[_0x464b78(0x20b)]]=_0x385065;if(_0x1ccefc)return _0x1fce50;process['emit']('bs:addPlatformDetails:'+process['pid'],{'timestamp':new Date()[_0x464b78(0x26a)](),'level':null,'message':null,'kind':_0x6228dc[_0x464b78(0x2a8)],'http_response':_0x1fce50,'uuid':_0x5d56e6});}catch(_0x4c762d){exports[_0x464b78(0x271)]('Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20'+_0x4c762d);}},exports[a88_0x59c5e2(0x2e5)]=_0x2852a2=>{const _0x5b7d68=a88_0x59c5e2;return _0x2852a2&&_0x2852a2[_0x5b7d68(0x209)]()[_0x5b7d68(0x2d4)](/browserstack internal helper hook/);};