const a117_0x26b6d9=a117_0x59f4;(function(_0x3632a5,_0x42b643){const _0x43fdc5=a117_0x59f4,_0x4d71bd=_0x3632a5();while(!![]){try{const _0x396b90=-parseInt(_0x43fdc5(0x152))/0x1+parseInt(_0x43fdc5(0x1ec))/0x2*(parseInt(_0x43fdc5(0x1e5))/0x3)+-parseInt(_0x43fdc5(0x201))/0x4+-parseInt(_0x43fdc5(0x1b9))/0x5+parseInt(_0x43fdc5(0xfe))/0x6*(-parseInt(_0x43fdc5(0x101))/0x7)+-parseInt(_0x43fdc5(0x1df))/0x8+parseInt(_0x43fdc5(0x114))/0x9;if(_0x396b90===_0x42b643)break;else _0x4d71bd['push'](_0x4d71bd['shift']());}catch(_0x1d606d){_0x4d71bd['push'](_0x4d71bd['shift']());}}}(a117_0x4c5d,0x623f4));const fs=require('fs'),path=require(a117_0x26b6d9(0x18a)),gitLastCommit=require('git-last-commit'),getRepoInfo=require(a117_0x26b6d9(0xf8)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require('http'),https=require(a117_0x26b6d9(0x103)),child_process=require(a117_0x26b6d9(0x1d3)),getos=require(a117_0x26b6d9(0x207)),os=require('os'),logger=require(a117_0x26b6d9(0x158))[a117_0x26b6d9(0x18f)],bsSetupHelper=require(a117_0x26b6d9(0x179)),requestSpy=require('../../helpers/request-spy'),constants=require('../../bin/utils/constants'),logPatcher=require('../../bin/utils/logPatcher'),util=require(a117_0x26b6d9(0x1a8)),{fileLogger}=require(a117_0x26b6d9(0x158)),PerformanceTester=require(a117_0x26b6d9(0x14b)),{isFunction}=require('lodash'),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a117_0x26b6d9(0x154)),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require(a117_0x26b6d9(0x1da));exports['trace']=_0x3453e3=>{const _0x5989ad=a117_0x26b6d9;fileLogger['silly']('['+new Date()[_0x5989ad(0x13b)]()+_0x5989ad(0x19c)+_0x3453e3);},exports[a117_0x26b6d9(0x13a)]=_0x131bdf=>{const _0x45720a=a117_0x26b6d9,_0x1cc83a={};_0x1cc83a[_0x45720a(0x147)]=function(_0x4a02be,_0x46d685){return _0x4a02be===_0x46d685;},_0x1cc83a[_0x45720a(0x1bb)]=_0x45720a(0x1cb),_0x1cc83a[_0x45720a(0x1b6)]=function(_0x990b1f,_0x48ca38){return _0x990b1f===_0x48ca38;};const _0x360a3a=_0x1cc83a;fileLogger['debug']('['+new Date()[_0x45720a(0x13b)]()+_0x45720a(0x19c)+_0x131bdf),(_0x360a3a['xLLcm'](process['env']['BROWSERSTACK_OBSERVABILITY_DEBUG'],_0x360a3a[_0x45720a(0x1bb)])||_0x360a3a['PngtR'](process['env'][_0x45720a(0x184)],'1'))&&consoleHolder[_0x45720a(0x108)]('\x0a['+new Date()['toISOString']()+_0x45720a(0x19c)+_0x131bdf+'\x0a');};const a117_0x9753e8={};a117_0x9753e8[a117_0x26b6d9(0x155)]=!![],a117_0x9753e8[a117_0x26b6d9(0x170)]=0xea60,a117_0x9753e8[a117_0x26b6d9(0x18c)]=0x2,a117_0x9753e8[a117_0x26b6d9(0x198)]=0x2;const httpKeepAliveAgent=new http['Agent'](a117_0x9753e8),a117_0x5129b3={};a117_0x5129b3[a117_0x26b6d9(0x155)]=!![],a117_0x5129b3[a117_0x26b6d9(0x170)]=0xea60,a117_0x5129b3[a117_0x26b6d9(0x18c)]=0x2,a117_0x5129b3[a117_0x26b6d9(0x198)]=0x2;const httpsKeepAliveAgent=new https['Agent'](a117_0x5129b3),a117_0x2ebb32={};a117_0x2ebb32[a117_0x26b6d9(0x155)]=!![],a117_0x2ebb32[a117_0x26b6d9(0x170)]=0xea60,a117_0x2ebb32[a117_0x26b6d9(0x18c)]=0x2,a117_0x2ebb32[a117_0x26b6d9(0x198)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a117_0x26b6d9(0x151))](a117_0x2ebb32),a117_0x5de5c3={};a117_0x5de5c3[a117_0x26b6d9(0x155)]=!![],a117_0x5de5c3[a117_0x26b6d9(0x170)]=0xea60,a117_0x5de5c3['maxSockets']=0x2,a117_0x5de5c3[a117_0x26b6d9(0x198)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a117_0x26b6d9(0x151))](a117_0x5de5c3);exports[a117_0x26b6d9(0x1bc)]=()=>{const _0x1c377b=a117_0x26b6d9,_0x5a5435={};_0x5a5435[_0x1c377b(0x1d2)]=function(_0x5f3203,_0x235a58){return _0x5f3203!==_0x235a58;},_0x5a5435[_0x1c377b(0x1c2)]=_0x1c377b(0x1d1);const _0x246b96=_0x5a5435;return process[_0x1c377b(0x120)][_0x1c377b(0x1f6)]&&_0x246b96[_0x1c377b(0x1d2)](process[_0x1c377b(0x120)][_0x1c377b(0x1f6)],_0x246b96[_0x1c377b(0x1c2)])?!![]:![];},exports[a117_0x26b6d9(0x1ae)]=()=>{const _0x53bf17=a117_0x26b6d9,_0x26d2f3={};_0x26d2f3[_0x53bf17(0x10d)]=function(_0x384b96,_0x16092d){return _0x384b96===_0x16092d;},_0x26d2f3[_0x53bf17(0x137)]=_0x53bf17(0x1cb);const _0x189093=_0x26d2f3;let _0x294397=!![];return process[_0x53bf17(0x120)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']&&(_0x294397=_0x189093[_0x53bf17(0x10d)](process[_0x53bf17(0x120)]['BROWSERSTACK_TEST_OBSERVABILITY_YML'],_0x189093[_0x53bf17(0x137)])),process[_0x53bf17(0x120)][_0x53bf17(0x1d8)]&&(_0x294397=_0x189093[_0x53bf17(0x10d)](process[_0x53bf17(0x120)]['BROWSERSTACK_TEST_OBSERVABILITY'],_0x189093[_0x53bf17(0x137)])),_0x294397;},exports[a117_0x26b6d9(0x204)]=_0x2e4d12=>{const _0xf08295=a117_0x26b6d9;if(bsSetupHelper['isUndefined'](_0x2e4d12))return undefined;try{return _0x2e4d12[_0xf08295(0x165)]()[_0xf08295(0x132)](',');}catch(_0x345fa8){return undefined;}},exports[a117_0x26b6d9(0x1ea)]=()=>{const _0x40e528=a117_0x26b6d9,_0x24ea40={'AJANG':function(_0xd9723e,_0x3f29c3){return _0xd9723e(_0x3f29c3);},'RjcgP':_0x40e528(0x15b),'kwblt':function(_0x50ae29,_0x163af0){return _0x50ae29!==_0x163af0;},'MPeRe':_0x40e528(0x1d1),'ZostI':function(_0x2c4fda,_0x1e36e7){return _0x2c4fda!==_0x1e36e7;},'sRApO':'undefined','vYSAq':_0x40e528(0x167)};return PerformanceTester[_0x40e528(0x133)](PerformanceO11yEvents[_0x40e528(0x1d7)],async()=>{const _0x3447d9=_0x40e528;try{const _0x4f0dc3=_0x24ea40[_0x3447d9(0x106)](require,_0x24ea40['RjcgP']);if(_0x4f0dc3[_0x3447d9(0x1de)]){logger[_0x3447d9(0x1a2)](_0x3447d9(0x1e0)+O11Y_URL+_0x3447d9(0x19b)+_0x4f0dc3[_0x3447d9(0x1de)]+'\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a');return;}process[_0x3447d9(0x120)][_0x3447d9(0x1bf)]&&_0x24ea40[_0x3447d9(0x1f2)](process[_0x3447d9(0x120)][_0x3447d9(0x1bf)],_0x24ea40[_0x3447d9(0x203)])&&_0x24ea40[_0x3447d9(0x19d)](process[_0x3447d9(0x120)][_0x3447d9(0x1bf)],_0x24ea40[_0x3447d9(0x1e1)])&&logger[_0x3447d9(0x1a2)](_0x3447d9(0x1e0)+constants[_0x3447d9(0x164)]+'/builds/'+process[_0x3447d9(0x120)][_0x3447d9(0x1bf)]+'\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a');}catch(_0x448496){logger[_0x3447d9(0x16f)](util[_0x3447d9(0x17c)](_0x24ea40[_0x3447d9(0x146)],new Date()['toISOString'](),_0x448496[_0x3447d9(0xfb)]||_0x448496[_0x3447d9(0x140)]||_0x448496));}})();},exports[a117_0x26b6d9(0x1b2)]=_0x6ee75c=>{const _0x3789bd=a117_0x26b6d9,_0x1f2a69={};_0x1f2a69['dGuOA']=_0x3789bd(0x209),_0x1f2a69['NsscL']=_0x3789bd(0x1a3);const _0x58f566=_0x1f2a69;if(!_0x6ee75c)return null;return _0x6ee75c[_0x3789bd(0x205)]()[_0x3789bd(0x16b)](/AssertionError/)?_0x58f566['dGuOA']:_0x58f566[_0x3789bd(0x1ca)];},exports[a117_0x26b6d9(0x163)]=_0x199e86=>{const _0x2d2dd0=a117_0x26b6d9,_0x10fef9={};_0x10fef9[_0x2d2dd0(0x1ab)]=_0x2d2dd0(0x195),_0x10fef9[_0x2d2dd0(0x193)]=_0x2d2dd0(0x105),_0x10fef9['eNksJ']=_0x2d2dd0(0x117),_0x10fef9['cJyOJ']=_0x2d2dd0(0x17e),_0x10fef9['MmMDo']=_0x2d2dd0(0x1c6);const _0x484448=_0x10fef9;let _0x39be23=null;switch(_0x199e86){case FRAMEWORKS[_0x2d2dd0(0x100)]:_0x39be23=bsSetupHelper[_0x2d2dd0(0x148)](_0x484448[_0x2d2dd0(0x1ab)]);break;case FRAMEWORKS['PLAYWRIGHT']:_0x39be23=bsSetupHelper[_0x2d2dd0(0x148)](_0x484448[_0x2d2dd0(0x193)]);break;case FRAMEWORKS['CODECEPT']:case FRAMEWORKS[_0x2d2dd0(0x138)]:_0x39be23=bsSetupHelper[_0x2d2dd0(0x148)](_0x484448[_0x2d2dd0(0x186)]);break;case FRAMEWORKS[_0x2d2dd0(0x1eb)]:_0x39be23=bsSetupHelper[_0x2d2dd0(0x148)](_0x484448['cJyOJ']);break;case FRAMEWORKS[_0x2d2dd0(0x159)]:_0x39be23=bsSetupHelper[_0x2d2dd0(0x148)](_0x484448[_0x2d2dd0(0x1a5)]);break;default:break;}return _0x39be23;},exports[a117_0x26b6d9(0x1f7)]=_0x2a382e=>{const _0x25b603=a117_0x26b6d9;let _0x537581=null;switch(_0x2a382e){case FRAMEWORKS[_0x25b603(0x16d)]:_0x537581=process[_0x25b603(0x120)][_0x25b603(0x1fe)];break;}if(!_0x537581)return;return bsSetupHelper[_0x25b603(0x160)](_0x537581,![]);},exports[a117_0x26b6d9(0x1b7)]=_0x305c71=>{const _0x19b706=a117_0x26b6d9;return{'username':bsSetupHelper[_0x19b706(0x11e)](_0x305c71),'accessKey':bsSetupHelper[_0x19b706(0x115)](_0x305c71)};},exports[a117_0x26b6d9(0x208)]=(_0x3e7565,_0x1a871b)=>{const _0x3c449d=a117_0x26b6d9,_0x40efad={};_0x40efad[_0x3c449d(0x10a)]=_0x3c449d(0x180),_0x40efad[_0x3c449d(0x143)]=_0x3c449d(0x1c9),_0x40efad[_0x3c449d(0x1ba)]=_0x3c449d(0x110);const _0x3d509f=_0x40efad,_0x5118a1=_0x3d509f[_0x3c449d(0x10a)][_0x3c449d(0x132)]('|');let _0x2646d6=0x0;while(!![]){switch(_0x5118a1[_0x2646d6++]){case'0':delete _0x1a871b[_0x3c449d(0x20b)];continue;case'1':_0x3e7565[_0x3c449d(0xf5)]={'data':_0x3e7565['body'][0x0][_0x3c449d(0xfa)][0x0][_0x3c449d(0xf6)],'test_run_uuid':_0x3e7565[_0x3c449d(0x11f)][0x0][_0x3c449d(0xfa)][0x0]['test_run_uuid'],'event_type':_0x3d509f['MlymT'],'kind':_0x3d509f[_0x3c449d(0x1ba)],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x3c449d(0x13b)](),'fileName':_0x3e7565[_0x3c449d(0x11f)][0x0][_0x3c449d(0xfa)][0x0][_0x3c449d(0x14a)]};continue;case'2':if(!_0x3e7565[_0x3c449d(0x11f)]||!Array[_0x3c449d(0x11c)](_0x3e7565[_0x3c449d(0x11f)]))return;continue;case'3':delete _0x3e7565['body'];continue;case'4':delete _0x3e7565[_0x3c449d(0x127)];continue;case'5':if(!_0x3e7565[_0x3c449d(0x11f)][0x0]||!_0x3e7565[_0x3c449d(0x11f)][0x0][_0x3c449d(0xfa)]||!_0x3e7565[_0x3c449d(0x11f)][0x0][_0x3c449d(0xfa)][_0x3c449d(0x125)])return;continue;}break;}},exports[a117_0x26b6d9(0x13f)]=async(_0x9b8c14,_0x350c51,_0x19a304,_0x3571de,_0x1873b8=!![])=>{const _0x2720a4=a117_0x26b6d9,_0x24cd13={};_0x24cd13[_0x2720a4(0x182)]=function(_0x4ef139,_0x19c94d){return _0x4ef139===_0x19c94d;},_0x24cd13['giiFh']='Content-Type',_0x24cd13[_0x2720a4(0x17a)]=_0x2720a4(0x10b),_0x24cd13['dBeCw']=_0x2720a4(0x103),_0x24cd13[_0x2720a4(0x19a)]=function(_0x50147f,_0x2507f8){return _0x50147f!==_0x2507f8;},_0x24cd13['ySSMU']=function(_0x1d28ec,_0x1a1dd1){return _0x1d28ec!==_0x1a1dd1;},_0x24cd13[_0x2720a4(0x187)]='object',_0x24cd13['jkCOm']=_0x2720a4(0x166);const _0x502f16=_0x24cd13,_0x24fc1d={..._0x3571de,...{'method':_0x9b8c14,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x350c51,'body':_0x19a304,'json':_0x502f16[_0x2720a4(0x182)](_0x3571de[_0x2720a4(0x20b)][_0x502f16[_0x2720a4(0x1e3)]],_0x502f16[_0x2720a4(0x17a)]),'agent':API_URL[_0x2720a4(0x113)](_0x502f16[_0x2720a4(0x134)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x502f16[_0x2720a4(0x182)](_0x350c51,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x24fc1d[_0x2720a4(0x1c5)]=API_URL['includes'](_0x502f16['dBeCw'])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x2720a4(0x208)](_0x24fc1d,_0x3571de),logger[_0x2720a4(0x13a)](_0x2720a4(0x1b8)+_0x24fc1d[_0x2720a4(0x153)]));try{const {statusCode:_0x2d80dd,body:_0x3f51a5}=await bsSetupHelper['nodeRequest'](_0x9b8c14,_0x350c51,_0x24fc1d,_0x3571de,_0x24fc1d['url']);if(_0x502f16['FoGWH'](_0x2d80dd,0xc8))return _0x3f51a5?_0x3f51a5:_0x2720a4(0x1ee)+_0x2d80dd;let _0x14086f=_0x3f51a5;if(_0x1873b8)try{_0x502f16[_0x2720a4(0x141)](typeof _0x3f51a5,_0x502f16[_0x2720a4(0x187)])&&(_0x14086f=JSON['parse'](_0x3f51a5));}catch(_0x5dc846){logger[_0x2720a4(0x16f)](_0x502f16[_0x2720a4(0x17b)],_0x3f51a5,util[_0x2720a4(0x17c)](_0x5dc846));}const _0x5ad8b7={};return _0x5ad8b7['data']=_0x14086f,_0x5ad8b7;}catch(_0x1a166f){logger[_0x2720a4(0x16f)](_0x2720a4(0x131)+util[_0x2720a4(0x17c)](_0x1a166f));throw _0x1a166f;}},exports[a117_0x26b6d9(0x124)]=(_0x521739,_0x414eba,_0x480f21,_0x50c152,_0x57e151=!![])=>{const _0x523022=a117_0x26b6d9,_0x3fa073={'kRtkf':function(_0x12c3dc,_0x426d4a){return _0x12c3dc!==_0x426d4a;},'yrzMo':function(_0x4ddfa1,_0x304db5){return _0x4ddfa1(_0x304db5);},'dapAG':_0x523022(0x1c8),'UUOFZ':function(_0x4fd5b7,_0x53ae79){return _0x4fd5b7(_0x53ae79);},'UCJly':'Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','yRKMI':function(_0x2b6d16,_0x5b9ae3){return _0x2b6d16(_0x5b9ae3);},'zxvAK':function(_0x15e8d2,_0x4bcc20){return _0x15e8d2===_0x4bcc20;},'RqHgv':_0x523022(0x1e8),'TxAUN':_0x523022(0x10b),'hFXPp':_0x523022(0x103)};return new Promise((_0x18e2ed,_0x3fa4d2)=>{const _0x4ebb4e=_0x523022,_0x4eaba1={'ifusj':function(_0x1406be,_0x4bc9a3){const _0x153927=a117_0x59f4;return _0x3fa073[_0x153927(0x12c)](_0x1406be,_0x4bc9a3);},'RzEDw':function(_0x42cfbe,_0x55fbcf){const _0x3e9886=a117_0x59f4;return _0x3fa073[_0x3e9886(0x139)](_0x42cfbe,_0x55fbcf);},'YvZni':function(_0x502d5f,_0x3e8f8a){const _0x1840eb=a117_0x59f4;return _0x3fa073[_0x1840eb(0x12c)](_0x502d5f,_0x3e8f8a);},'ZhoSw':_0x3fa073[_0x4ebb4e(0x1cc)],'BJNQZ':function(_0x3e70b6,_0x384e2c){return _0x3fa073['UUOFZ'](_0x3e70b6,_0x384e2c);},'tPjMv':_0x3fa073['UCJly'],'GIuVG':function(_0x1aee15,_0x4b20d5){const _0x35ed88=_0x4ebb4e;return _0x3fa073[_0x35ed88(0x1a7)](_0x1aee15,_0x4b20d5);}},_0x1a448f={..._0x50c152,...{'method':_0x521739,'url':API_URL+'/'+_0x414eba,'body':_0x480f21,'json':_0x3fa073[_0x4ebb4e(0x12d)](_0x50c152[_0x4ebb4e(0x20b)][_0x3fa073[_0x4ebb4e(0x1b5)]],_0x3fa073['TxAUN']),'agent':API_URL['includes'](_0x3fa073[_0x4ebb4e(0x157)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x3fa073[_0x4ebb4e(0x12d)](_0x414eba,SCREENSHOT_ENDPOINT)&&(_0x1a448f[_0x4ebb4e(0x1c5)]=API_URL['includes'](_0x3fa073[_0x4ebb4e(0x157)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper['nodeRequest'](_0x521739,_0x414eba,_0x1a448f,_0x50c152,API_URL)['then'](({statusCode:_0x16fcf6,body:_0x369ed8})=>{const _0x1aef2=_0x4ebb4e;if(_0x4eaba1[_0x1aef2(0x1aa)](_0x16fcf6,0xc8))_0x4eaba1[_0x1aef2(0x1f5)](_0x3fa4d2,_0x369ed8?_0x369ed8:_0x1aef2(0x1ee)+_0x16fcf6);else{if(_0x57e151)try{_0x4eaba1[_0x1aef2(0x142)](typeof _0x369ed8,_0x4eaba1[_0x1aef2(0x150)])&&(_0x369ed8=JSON['parse'](_0x369ed8));}catch(_0x4ee171){_0x4eaba1[_0x1aef2(0x107)](_0x3fa4d2,_0x4eaba1[_0x1aef2(0x1e2)]);return;}const _0x46bd8d={};_0x46bd8d['data']=_0x369ed8,_0x4eaba1[_0x1aef2(0x206)](_0x18e2ed,_0x46bd8d);}})[_0x4ebb4e(0x128)](_0x17da7b=>{const _0x5c780f=_0x4ebb4e;_0x17da7b&&_0x4eaba1[_0x5c780f(0x206)](_0x3fa4d2,_0x17da7b);});});},exports['getBuildTags']=_0x2a5aa0=>{const _0x3a2568=a117_0x26b6d9;if(process[_0x3a2568(0x120)][_0x3a2568(0x1ad)])return process[_0x3a2568(0x120)][_0x3a2568(0x1ad)]['split'](',');if(_0x2a5aa0[_0x3a2568(0x177)])return _0x2a5aa0[_0x3a2568(0x177)];return[];},exports[a117_0x26b6d9(0x189)]=(_0x36fb8f=!![])=>{const _0x44b292=a117_0x26b6d9,_0x1c4319={};_0x1c4319[_0x44b292(0x12f)]=_0x44b292(0x10b),_0x1c4319[_0x44b292(0x1dd)]=_0x44b292(0x1cb),_0x1c4319[_0x44b292(0x1d0)]='Authorization';const _0x12c31a=_0x1c4319,_0x43ebcc={};_0x43ebcc[_0x44b292(0x1e8)]=_0x12c31a['XNNKw'],_0x43ebcc[_0x44b292(0x1fa)]=_0x12c31a[_0x44b292(0x1dd)];const _0x553179=_0x43ebcc;return _0x36fb8f&&process['env'][_0x44b292(0x1d6)]&&(_0x553179[_0x12c31a[_0x44b292(0x1d0)]]='Bearer\x20'+process[_0x44b292(0x120)][_0x44b292(0x1d6)]),_0x553179;},exports['extractValuesWithRegexKeyMatch']=_0x1125e3=>{const _0x342045=a117_0x26b6d9,_0x1d013a={};_0x1d013a[_0x342045(0x1e7)]='^CUSTOM_TAG_\x5cd+$';const _0x48da2b=_0x1d013a,_0x275f34=[],_0x1afba4=new RegExp(_0x48da2b[_0x342045(0x1e7)],'i');return Object['keys'](_0x1125e3)[_0x342045(0x19e)](_0x319a30=>_0x1afba4[_0x342045(0x194)](_0x319a30))[_0x342045(0x1b0)](_0x35f0a2=>_0x275f34[_0x342045(0x111)](_0x1125e3[_0x35f0a2])),_0x275f34;},exports[a117_0x26b6d9(0x130)]=_0x1d055b=>{const _0x561689=a117_0x26b6d9,_0x911621=[],_0x585833=_0x1d055b['customTag']||process[_0x561689(0x120)][_0x561689(0x12b)];return _0x585833&&_0x911621[_0x561689(0x111)](_0x585833),_0x911621[_0x561689(0x111)](...exports['extractValuesWithRegexKeyMatch'](process[_0x561689(0x120)])),_0x911621[_0x561689(0x111)](...exports[_0x561689(0x1e6)](_0x1d055b)),_0x911621;},exports[a117_0x26b6d9(0x188)]=_0x410c5c=>{const _0x44be19=a117_0x26b6d9;if(!_0x410c5c)return'';return _0x410c5c[_0x44be19(0x116)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a117_0x26b6d9(0x126)]=(_0x46d023=0x64)=>new Promise(_0x87e266=>setTimeout(_0x87e266,_0x46d023));const getPlatformName=()=>{const _0x4dfc74=a117_0x26b6d9,_0x3cb00d={};_0x3cb00d[_0x4dfc74(0x121)]=function(_0x3d0f26,_0x5ca2ec){return _0x3d0f26===_0x5ca2ec;},_0x3cb00d[_0x4dfc74(0x1c1)]=_0x4dfc74(0x176),_0x3cb00d[_0x4dfc74(0x1a0)]=_0x4dfc74(0x1f9),_0x3cb00d[_0x4dfc74(0x162)]=_0x4dfc74(0x1dc),_0x3cb00d['FMjbq']=_0x4dfc74(0x191),_0x3cb00d['xZhVF']=function(_0x204c15,_0x465c62){return _0x204c15===_0x465c62;},_0x3cb00d[_0x4dfc74(0x196)]=_0x4dfc74(0x11a),_0x3cb00d[_0x4dfc74(0x135)]=_0x4dfc74(0x112),_0x3cb00d['BhIZh']='Unknown';const _0x45300c=_0x3cb00d;if(_0x45300c[_0x4dfc74(0x121)](process[_0x4dfc74(0x11d)],_0x45300c[_0x4dfc74(0x1c1)]))return _0x45300c[_0x4dfc74(0x1a0)];if(_0x45300c[_0x4dfc74(0x121)](process['platform'],_0x45300c[_0x4dfc74(0x162)]))return _0x45300c[_0x4dfc74(0x14d)];if(_0x45300c[_0x4dfc74(0x1db)](process[_0x4dfc74(0x11d)],_0x45300c['VfyRI']))return _0x45300c[_0x4dfc74(0x135)];return _0x45300c[_0x4dfc74(0xff)];},getMacOSVersion=()=>{const _0x1c4be3=a117_0x26b6d9,_0x1dc2f4={};_0x1dc2f4[_0x1c4be3(0x109)]='awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27';const _0xbe7a20=_0x1dc2f4;return child_process[_0x1c4be3(0x168)](_0xbe7a20[_0x1c4be3(0x109)])[_0x1c4be3(0x205)]()[_0x1c4be3(0x165)]();},getLinuxDetails=()=>{const _0x3f218e={'eTYOX':function(_0x5f5e1a,_0x4229d0){return _0x5f5e1a(_0x4229d0);},'QiNqW':function(_0x202f3e,_0x2557dd){return _0x202f3e(_0x2557dd);}};return new Promise((_0x4762c1,_0x3d8fbf)=>{const _0x429b4d=a117_0x59f4,_0xec66ec={'xLULo':function(_0x1b207f,_0x23b0d5){const _0x3b31ef=a117_0x59f4;return _0x3f218e[_0x3b31ef(0x18b)](_0x1b207f,_0x23b0d5);}};_0x3f218e[_0x429b4d(0x1ed)](getos,(_0x49b118,_0x10c619)=>{const _0x34c452=_0x429b4d;if(_0x49b118)return _0xec66ec[_0x34c452(0xfd)](_0x3d8fbf,_0x49b118);_0xec66ec['xLULo'](_0x4762c1,_0x10c619);});});};exports[a117_0x26b6d9(0x156)]=async()=>{const _0x13fec9=a117_0x26b6d9,_0x398f71={'NfPJw':function(_0x436c7b){return _0x436c7b();},'rnWbZ':'OS\x20X','aAVVu':_0x13fec9(0x1f9),'yOUfu':_0x13fec9(0x1d9),'ckyyp':function(_0x5be627){return _0x5be627();},'fOSDd':_0x13fec9(0x112),'Ulxir':function(_0xc56071){return _0xc56071();},'YlAIf':'Error\x20in\x20getting\x20Linux\x20Details'};let _0xc87204=_0x398f71[_0x13fec9(0x102)](getPlatformName),_0x57f397=os['release']()[_0x13fec9(0x205)]();switch(_0xc87204){case _0x398f71['rnWbZ']:_0x57f397=_0x398f71['NfPJw'](getMacOSVersion);break;case _0x398f71[_0x13fec9(0x178)]:try{const _0x24d00c=(await import(_0x398f71[_0x13fec9(0x1af)]))[_0x13fec9(0x1ff)];_0x57f397=_0x398f71[_0x13fec9(0xfc)](_0x24d00c);}catch(_0x14ffa4){exports[_0x13fec9(0x13a)](_0x13fec9(0x1b4)+_0x14ffa4[_0x13fec9(0x205)]());}break;case _0x398f71[_0x13fec9(0x15a)]:try{const _0x160115=await _0x398f71[_0x13fec9(0x17f)](getLinuxDetails);_0x160115[_0x13fec9(0x1c0)]&&(_0xc87204=_0x160115[_0x13fec9(0x1c0)]),_0x160115[_0x13fec9(0x173)]&&(_0x57f397=_0x160115[_0x13fec9(0x173)]['toString']());}catch(_0x1e0381){exports[_0x13fec9(0x13a)](_0x398f71['YlAIf']);}break;default:break;}const _0x5f4a21={};return _0x5f4a21[_0x13fec9(0x10f)]=_0xc87204,_0x5f4a21[_0x13fec9(0x1f8)]=_0x57f397,_0x5f4a21;},exports[a117_0x26b6d9(0x1c3)]=(_0x11dbaf,_0x30c421)=>{const _0x5ef251=a117_0x26b6d9,_0xffe2b7={};_0xffe2b7['vRSzI']=function(_0x19cc3d,_0x409b1a){return _0x19cc3d===_0x409b1a;},_0xffe2b7['aCyUu']=_0x5ef251(0x194),_0xffe2b7[_0x5ef251(0x1a1)]=function(_0x1753e1,_0x12ab9b){return _0x1753e1===_0x12ab9b;},_0xffe2b7[_0x5ef251(0x1cd)]=_0x5ef251(0x13c);const _0x1583cd=_0xffe2b7;if(!_0x11dbaf)return[];try{if(_0x1583cd[_0x5ef251(0x1f3)](_0x30c421,_0x1583cd[_0x5ef251(0x13e)]))return _0x11dbaf[_0x5ef251(0x199)](_0x2437bc=>{const _0x4516cb=_0x5ef251,{stack:_0x1b9686,..._0x5d5754}=_0x2437bc,_0x31f0cd=Object['keys'](_0x5d5754)[_0x4516cb(0x199)](_0x39bff4=>{return _0x39bff4+':\x20'+_0x5d5754[_0x39bff4];}),_0xa856e0=_0x1b9686?exports[_0x4516cb(0x188)](_0x1b9686)['split'](/\r?\n/):[exports[_0x4516cb(0x188)](_0x2437bc[_0x4516cb(0x140)])],_0xcede8a={};return _0xcede8a[_0x4516cb(0x197)]=_0xa856e0,_0xcede8a[_0x4516cb(0x15f)]=_0x31f0cd,_0xcede8a;});else{if(_0x1583cd[_0x5ef251(0x1a1)](_0x30c421,_0x1583cd[_0x5ef251(0x1cd)])){const _0x3bcd4b=[],_0x1503bd=[];return Object[_0x5ef251(0x18d)](_0x11dbaf)[_0x5ef251(0x1b0)](_0x47dfaf=>{const _0x40aa47=_0x5ef251;try{_0x1503bd[_0x40aa47(0x111)](_0x47dfaf+':\x20'+_0x11dbaf[_0x47dfaf]);}catch(_0x2aadfb){exports[_0x40aa47(0x13a)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0x2aadfb[_0x40aa47(0x140)]+_0x40aa47(0x144)+_0x2aadfb[_0x40aa47(0x197)]);}}),_0x3bcd4b[_0x5ef251(0x111)]({'backtrace':exports[_0x5ef251(0x188)](_0x11dbaf['stack'])[_0x5ef251(0x132)](/\r?\n/),'expanded':_0x1503bd}),_0x3bcd4b;}}return[];}catch(_0x41f184){exports[_0x5ef251(0x13a)](_0x5ef251(0x12a)+_0x41f184[_0x5ef251(0x140)]+'\x20:\x20'+_0x41f184[_0x5ef251(0x197)]);}return[];};class PathHelper{constructor(_0x545835,_0x21d1da){const _0x331be6=a117_0x26b6d9;this['config']=_0x545835,this[_0x331be6(0x1ce)]=_0x21d1da;}['relativeTestFilePath'](_0x29c016){const _0x3fe0c1=a117_0x26b6d9,_0x5dc03a=this[_0x3fe0c1(0x172)]['cwd']||this[_0x3fe0c1(0x172)][_0x3fe0c1(0x118)];return path[_0x3fe0c1(0x10c)](_0x5dc03a,_0x29c016);}[a117_0x26b6d9(0x20a)](_0xc4cea7){const _0x5562ae=a117_0x26b6d9,_0x32fa7f=this[_0x5562ae(0x1ac)](_0xc4cea7);return this[_0x5562ae(0x1ce)]?path[_0x5562ae(0x1d5)](this[_0x5562ae(0x1ce)],_0x32fa7f):_0x32fa7f;}}function a117_0x59f4(_0x3c8bb6,_0x4d0bfc){const _0x4c5d2f=a117_0x4c5d();return a117_0x59f4=function(_0x59f41e,_0x5a60af){_0x59f41e=_0x59f41e-0xf4;let _0x3d02cd=_0x4c5d2f[_0x59f41e];return _0x3d02cd;},a117_0x59f4(_0x3c8bb6,_0x4d0bfc);}exports[a117_0x26b6d9(0x1c4)]=PathHelper,exports[a117_0x26b6d9(0x145)]=(_0x1d114d=!![])=>{const _0x1f9ff1=a117_0x26b6d9,_0x41e048={};_0x41e048[_0x1f9ff1(0x181)]=function(_0x37040a,_0x532011){return _0x37040a===_0x532011;},_0x41e048[_0x1f9ff1(0x161)]='X-BSTACK-TESTOPS',_0x41e048[_0x1f9ff1(0x122)]=_0x1f9ff1(0x1cb),_0x41e048[_0x1f9ff1(0x14c)]='HTTP',_0x41e048['miOPt']=_0x1f9ff1(0x12e),_0x41e048[_0x1f9ff1(0x119)]=_0x1f9ff1(0x202);const _0x396ff1=_0x41e048;requestSpy['spy']((_0x48c7c5,_0x2a568d)=>{const _0x256f22=_0x1f9ff1;_0x2a568d&&!(_0x2a568d['headers']&&_0x396ff1[_0x256f22(0x181)](_0x2a568d[_0x256f22(0x20b)][_0x396ff1[_0x256f22(0x161)]],_0x396ff1['CwsmD']))&&(_0x2a568d[_0x256f22(0x19f)]=_0x2a568d['hostname'],delete _0x2a568d[_0x256f22(0x1e4)],_0x1d114d&&process[_0x256f22(0xf4)](_0x256f22(0x123)+process[_0x256f22(0x17d)],{'timestamp':new Date()[_0x256f22(0x13b)](),'level':null,'message':null,'kind':_0x396ff1[_0x256f22(0x14c)],'http_response':_0x2a568d})),_0x2a568d&&(constants[_0x256f22(0x183)][_0x256f22(0x194)](_0x2a568d[_0x256f22(0x19f)])||constants[_0x256f22(0x200)][_0x256f22(0x194)](_0x2a568d[_0x256f22(0x19f)]))?global[_0x256f22(0x10e)]=_0x396ff1['miOPt']:global[_0x256f22(0x10e)]=_0x396ff1[_0x256f22(0x119)];});},exports['patchConsoleLogger']=()=>{const _0x28e10a=a117_0x26b6d9,_0x7ab787={'fuNpM':function(_0x5d087c,_0x49413f){return _0x5d087c(_0x49413f);}};console={},Object[_0x28e10a(0x18d)](consoleHolder)[_0x28e10a(0x1b0)](_0xb1ec7b=>{const _0xf2f0fb=_0x28e10a;_0x7ab787[_0xf2f0fb(0x16e)](isFunction,consoleHolder[_0xb1ec7b])?console[_0xb1ec7b]=(..._0x334da8)=>{const _0x102e18=_0xf2f0fb;try{!Object[_0x102e18(0x18d)](BSTestOpsPatcher)[_0x102e18(0x113)](_0xb1ec7b)?consoleHolder[_0xb1ec7b](..._0x334da8):BSTestOpsPatcher[_0xb1ec7b](..._0x334da8);}catch(_0x7fb938){consoleHolder[_0xb1ec7b](..._0x334da8);}}:console[_0xb1ec7b]=consoleHolder[_0xb1ec7b];});},exports[a117_0x26b6d9(0x149)]=()=>'browserstack_executor:\x20'+JSON[a117_0x26b6d9(0x190)]({'action':a117_0x26b6d9(0x192),'arguments':{'data':a117_0x26b6d9(0x16a)+Date[a117_0x26b6d9(0x174)](),'level':'debug'}}),exports[a117_0x26b6d9(0x15d)]=_0x30320f=>{const _0x3da3d2=a117_0x26b6d9,_0x279f4b={};_0x279f4b['tnMYE']=function(_0x4319fc,_0x322589){return _0x4319fc===_0x322589;},_0x279f4b[_0x3da3d2(0x14f)]=_0x3da3d2(0x12e),_0x279f4b[_0x3da3d2(0x1f4)]=_0x3da3d2(0x15e),_0x279f4b[_0x3da3d2(0x1fb)]=_0x3da3d2(0x1fd),_0x279f4b[_0x3da3d2(0x1b1)]=function(_0x3e48d1,_0x51267d){return _0x3e48d1>_0x51267d;},_0x279f4b[_0x3da3d2(0x175)]=_0x3da3d2(0x16c),_0x279f4b[_0x3da3d2(0x104)]='bstack:options',_0x279f4b[_0x3da3d2(0xf7)]=_0x3da3d2(0x1cf),_0x279f4b['cJLWK']=_0x3da3d2(0x11b),_0x279f4b[_0x3da3d2(0x1bd)]=_0x3da3d2(0x185);const _0x4b65bd=_0x279f4b;let _0x1bc68c=null;try{if(_0x4b65bd[_0x3da3d2(0x1c7)](global[_0x3da3d2(0x10e)],_0x4b65bd[_0x3da3d2(0x14f)])){if(_0x30320f[_0x4b65bd[_0x3da3d2(0x1f4)]]||_0x30320f[_0x4b65bd[_0x3da3d2(0x1fb)]]||!bsSetupHelper[_0x3da3d2(0x15c)](global[_0x3da3d2(0x169)])&&_0x4b65bd['YMDAE'](global[_0x3da3d2(0x169)]['length'],0x0)&&(global[_0x3da3d2(0x169)][0x0][_0x4b65bd[_0x3da3d2(0x1fb)]]||global['capabilities'][0x0][_0x4b65bd[_0x3da3d2(0x1f4)]]))_0x1bc68c=_0x4b65bd[_0x3da3d2(0x175)];else _0x30320f[_0x4b65bd[_0x3da3d2(0x104)]]&&_0x30320f[_0x4b65bd[_0x3da3d2(0x104)]][_0x4b65bd[_0x3da3d2(0xf7)]]?_0x1bc68c=_0x4b65bd[_0x3da3d2(0x1f1)]:_0x1bc68c=_0x4b65bd[_0x3da3d2(0x1bd)];}}catch(_0x1418f7){exports[_0x3da3d2(0x13a)](_0x3da3d2(0x1fc)+_0x1418f7);}return _0x1bc68c;},exports['sendPlatformDetails']=async(_0x5133c7,_0x332ef2,_0x40ac73=![])=>{const _0x23e0d2=a117_0x26b6d9,_0x295951={};_0x295951[_0x23e0d2(0xf9)]=function(_0x2e1cfb,_0x5db789){return _0x2e1cfb===_0x5db789;},_0x295951[_0x23e0d2(0x14e)]='browserstack',_0x295951['PhFPf']='unknown_grid',_0x295951[_0x23e0d2(0x1e9)]=_0x23e0d2(0x1a9);const _0x654ae1=_0x295951;try{const _0x24bddb=await _0x5133c7[_0x23e0d2(0x1b3)](),_0x4b30cb=await _0x5133c7[_0x23e0d2(0x1be)](),_0x48a37a={},_0x486f8a=Object[_0x23e0d2(0x13d)](_0x4b30cb['getCapabilities']()[_0x23e0d2(0x136)]),_0x17c00d={'product':exports[_0x23e0d2(0x15d)](_0x486f8a),'capabilities':_0x486f8a,'platform':_0x24bddb['getPlatform'](),'platform_version':bsSetupHelper[_0x23e0d2(0x1a4)](_0x654ae1[_0x23e0d2(0xf9)](global[_0x23e0d2(0x10e)],_0x654ae1['RBQBi'])),'browser':_0x24bddb[_0x23e0d2(0x129)](),'browser_version':_0x24bddb[_0x23e0d2(0x1a6)](),'session_id':_0x4b30cb[_0x23e0d2(0x18e)]()};global['__cloud_provider___']?_0x48a37a[global[_0x23e0d2(0x10e)]]=_0x17c00d:_0x48a37a[_0x654ae1[_0x23e0d2(0x1ef)]]=_0x17c00d;if(_0x40ac73)return _0x48a37a;process['emit'](_0x23e0d2(0x1f0)+process[_0x23e0d2(0x17d)],{'timestamp':new Date()[_0x23e0d2(0x13b)](),'level':null,'message':null,'kind':_0x654ae1['iaUtS'],'http_response':_0x48a37a,'uuid':_0x332ef2});}catch(_0x2fea0d){exports[_0x23e0d2(0x13a)](_0x23e0d2(0x171)+_0x2fea0d);}},exports[a117_0x26b6d9(0x1d4)]=_0x10da71=>{const _0x358d5d=a117_0x26b6d9;return _0x10da71&&_0x10da71[_0x358d5d(0x205)]()['match'](/browserstack internal helper hook/);};function a117_0x4c5d(){const _0x643ac1=['map','FoGWH','/builds/','][\x20OBSERVABILITY\x20]\x20','ZostI','filter','host','tvcnh','PiBJs','info','UnhandledError','getPlatformVersion','MmMDo','getBrowserVersion','yRKMI','util','TEST_PLATFORM','ifusj','jdWUq','relativeTestFilePath','TEST_OBSERVABILITY_BUILD_TAG','isTestObservabilitySession','yOUfu','forEach','YMDAE','getFailureType','getCapabilities','Error\x20in\x20importing\x20windows-release\x20','RqHgv','PngtR','getUserCredentials','Uploading\x20trace\x20logs\x20to:\x20','285340dYnrqF','iOGfT','nTuLy','shouldReRunObservabilityTests','Fsndj','getSession','BS_TESTOPS_BUILD_HASHED_ID','dist','KtjOc','KekfV','failureData','PathHelper','agent','@cucumber/cucumber','tnMYE','object','LogCreated','NsscL','true','dapAG','KyhzH','prefix','turboScaleGridDetails','opyvg','null','Dhqwt','child_process','isInternalHook','join','BROWSERSTACK_TESTHUB_JWT','PRINT_BUILDLINK','BROWSERSTACK_TEST_OBSERVABILITY','windows-release','../../../src/bin/utils/constants','xZhVF','darwin','ULcAD','O11yHashedID','3401176EYdKjT','Visit\x20','sRApO','tPjMv','giiFh','hostname','3879dtHMJN','extractValuesWithRegexKeyMatch','YKsKM','Content-Type','iaUtS','printBuildLink','JEST','1108COnMsQ','QiNqW','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','PhFPf','bs:addPlatformDetails:','cJLWK','kwblt','vRSzI','bvjZN','RzEDw','BROWSERSTACK_RERUN_TESTS','getBrowserStackConfig','platformVersion','Windows','X-BSTACK-TESTOPS','tvUBz','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','app','BROWSERSTACK_CONFIG_FILE_PATH','default','ATS_HUB_URL_REGEX','1046936OsKwgb','local_grid','MPeRe','parseFileNames','toString','GIuVG','getos','modifyReqForTraceUpload','AssertionError','prefixTestPath','headers','emit','formData','data','EVlch','git-repo-info','DfZJx','logs','stack','ckyyp','xLULo','3064164txmEiQ','BhIZh','MOCHA','7VoxbLQ','NfPJw','https','wxHOe','@playwright/test','AJANG','BJNQZ','log','xInEG','VnPBv','application/json','relative','fVlqv','__cloud_provider___','platformName','TEST_ATTACHMENT','push','Linux','includes','11464542AQTOAI','getAccessKey','replace','codeceptjs','rootDir','SwEeG','linux','turboscale','isArray','platform','getUserName','body','env','hcCNg','CwsmD','bs:addLog:','nodeRequest','length','sleep','json','catch','getBrowserName','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','CUSTOM_TAG','kRtkf','zxvAK','browserstack','XNNKw','getCustomTags','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','split','measureWrapper','dBeCw','cHOEg','map_','EFYDU','CODECEPT_CUCUMBER','yrzMo','debug','toISOString','err','fromEntries','aCyUu','asyncAwaitNodeReq','message','ySSMU','YvZni','MlymT','\x20:\x20','addRequestSpy','vYSAq','xLLcm','getPackageVersion','getSyncScript','fileName','../performance/performance-tester','ovfEk','FMjbq','RBQBi','oweul','ZhoSw','Agent','333097rHbmZY','url','../performance/constants','keepAlive','getPlatformDetails','hFXPp','../logger','CUCUMBER','fOSDd','../../bin/v2/browserstackCLI','isUndefined','getObservabilityLinkedProductName','appium:app','expanded','readConfig','QkbTn','hJzUE','getFrameworkVersion','O11Y_URL','trim','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','[%s][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found\x20%s','execSync','capabilities','ObservabilitySync:','match','app-automate','PLAYWRIGHT','fuNpM','error','timeout','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','config','release','now','YbrxD','win32','buildTag','aAVVu','../helper','XRDlG','jkCOm','format','pid','jest','Ulxir','2|5|1|3|4|0','LDPLd','FSIlQ','HUB_URL_REGEX','BROWSERSTACK_OBSERVABILITY_DEBUG','automate','eNksJ','ASEyL','removeAnsiColors','getDefaultHeaders','path','eTYOX','maxSockets','keys','toJSON','winstonLogger','stringify','OS\x20X','annotate','WxBEc','test','mocha','VfyRI','backtrace','maxTotalSockets'];a117_0x4c5d=function(){return _0x643ac1;};return a117_0x4c5d();}