const a88_0x4665c8=a88_0x496c;(function(_0x43364f,_0x5dc041){const _0x405b0e=a88_0x496c,_0xc219e4=_0x43364f();while(!![]){try{const _0x9cb1b8=-parseInt(_0x405b0e(0x296))/0x1+-parseInt(_0x405b0e(0x1cb))/0x2*(-parseInt(_0x405b0e(0x280))/0x3)+parseInt(_0x405b0e(0x1d9))/0x4*(parseInt(_0x405b0e(0x1df))/0x5)+-parseInt(_0x405b0e(0x214))/0x6+parseInt(_0x405b0e(0x1c5))/0x7*(parseInt(_0x405b0e(0x258))/0x8)+-parseInt(_0x405b0e(0x243))/0x9+parseInt(_0x405b0e(0x1ea))/0xa*(parseInt(_0x405b0e(0x24e))/0xb);if(_0x9cb1b8===_0x5dc041)break;else _0xc219e4['push'](_0xc219e4['shift']());}catch(_0x287d1f){_0xc219e4['push'](_0xc219e4['shift']());}}}(a88_0xf4a6,0x7ff28));function a88_0xf4a6(){const _0x392972=['shouldReRunObservabilityTests','path','addRequestSpy','trim','local_grid','eYGDQ','mpGfl','OARnN','VLNUu','Uploading\x20trace\x20logs\x20to:\x20','^CUSTOM_TAG_\x5cd+$','length','maxSockets','PLAYWRIGHT_TRACE_LOGS','qvqyo','IpYUW','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','darwin','krrTU','pid','hostname','logs','format','config','git-repo-info','LogCreated','codeceptjs','data','hUMVv','ltGgq','zJSzu','shYzC','undefined','BROWSERSTACK_CONFIG_FILE_PATH','message','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','filter','HyYym','457395CTvXMG','split','XfFlj','OURRO','test_run_uuid','parseFileNames','xTTnN','oneSB','map','turboscale','AzRci','DxhuT','dhrVH','SMnxS','timeout','rootDir','McOzh','toString','faovH','fromEntries','CiRCg','PbKGE','497857QUFhfF','SzMTj','push','toOvN','then','join','][\x20OBSERVABILITY\x20]\x20','dist','cwd','TEST_PLATFORM','spy','@playwright/test','TEST_ATTACHMENT','isUndefined','cztdo','xRsVQ','eeofz','@cucumber/cucumber','replace','toISOString','vJupL','err','Mvfnq','silly','app-automate','ZnKRl','app','linux','Linux','KxnHX','isArray','turboScaleGridDetails','HUB_URL_REGEX','getDefaultHeaders','mPNjd','eRmSn','test','annotate','toJSON','stack','Authorization','includes','patchConsoleLogger','VFKHq','vaCka','null','RPEvM','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','isInternalHook','plBGk','info','nodeRequest','getObservabilityLinkedProductName','ObservabilitySync:','browserstack','customTag','url','env','2149nZQLBE','lodash','CODECEPT','backtrace','../performance/constants','../helper','2EOEEKf','readConfig','dzGyo','Unknown','2|5|4|0|1|3','buildTag','Eajke','../../helpers/request-spy','emit','hYadx','debug','getUserCredentials','catch','mocha','1117988JOhVXm','browserstack_executor:\x20','../../bin/utils/logPatcher','platform','Wzjcq','release','5jDDCYS','NnkVF','removeAnsiColors','extractValuesWithRegexKeyMatch','getCustomTags','__cloud_provider___','capabilities','UOjzK','TraaG','uewkL','asyncAwaitNodeReq','190iwUhHF','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','getPlatform','parse','YOgPb','error','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','Windows','zpWhE','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','ZVDUw','iKQRZ','keys','RrbiU','PIarY','uZpxg','getBrowserName','BS_TESTOPS_BUILD_HASHED_ID','CUSTOM_TAG','unknown_grid','gFwUT','stringify','appium:app','uhAoE','BROWSERSTACK_TEST_OBSERVABILITY_YML','../../bin/utils/constants','KTtHn','trace','getAccessKey','fXAQe','host','relativeTestFilePath','OQvgS','relative','hALXJ','getFrameworkVersion','headers','getBuildTags','sendPlatformDetails','getPlatformVersion','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','isTestObservabilitySession','3664524iZfHcT','\x20:\x20','failureData','VrQec','modifyReqForTraceUpload','map_','vUIPY','platformName','eNOQS','PLAYWRIGHT','keepAlive','JEST','bs:addPlatformDetails:','BROWSERSTACK_OBSERVABILITY_DEBUG','jest','hArso','object','VBmzw','ATS_HUB_URL_REGEX','bstack:options','X-BSTACK-TESTOPS','PRINT_BUILDLINK','json','git-last-commit','HTTP','BROWSERSTACK_TESTHUB_JWT','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','true','getUserName','BROWSERSTACK_TEST_OBSERVABILITY','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','mJvbM','bs:addLog:','execSync','][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found','JVucD','OS\x20X','kigSM','Agent','agent','maxTotalSockets','../logger','log','child_process','getPackageVersion','formData','getBrowserStackConfig','3433833VoOqXe','OhqJS','Bearer\x20','pLRXI','Rmuwj','prefix','smUYu','keLOa','ySNel','ZgmLp','application/json','623667iJDaFz','body','sraJS','Content-Type','forEach','printBuildLink','https','BROWSERSTACK_RERUN_TESTS','default','wqJUA','13160cJWTwy','PathHelper'];a88_0xf4a6=function(){return _0x392972;};return a88_0xf4a6();}const fs=require('fs'),path=require(a88_0x4665c8(0x25b)),gitLastCommit=require(a88_0x4665c8(0x22b)),getRepoInfo=require(a88_0x4665c8(0x272)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require('http'),https=require(a88_0x4665c8(0x254)),child_process=require(a88_0x4665c8(0x23f)),getos=require('getos'),os=require('os'),logger=require(a88_0x4665c8(0x23d))['winstonLogger'],bsSetupHelper=require(a88_0x4665c8(0x1ca)),requestSpy=require(a88_0x4665c8(0x1d2)),constants=require(a88_0x4665c8(0x203)),logPatcher=require(a88_0x4665c8(0x1db)),util=require('util'),{fileLogger}=require(a88_0x4665c8(0x23d)),PerformanceTester=require('../performance/performance-tester'),{isFunction}=require(a88_0x4665c8(0x1c6)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a88_0x4665c8(0x1c9));exports[a88_0x4665c8(0x205)]=_0x324a72=>{const _0x158bf2=a88_0x4665c8;fileLogger[_0x158bf2(0x1a2)]('['+new Date()[_0x158bf2(0x19e)]()+_0x158bf2(0x191)+_0x324a72);},exports[a88_0x4665c8(0x1d5)]=_0x4ce0a0=>{const _0x1dd8dc=a88_0x4665c8,_0x1fbc53={};_0x1fbc53[_0x1dd8dc(0x1f9)]=function(_0x36c31a,_0x2f3b63){return _0x36c31a===_0x2f3b63;},_0x1fbc53[_0x1dd8dc(0x233)]='true';const _0x5ab49b=_0x1fbc53;fileLogger[_0x1dd8dc(0x1d5)]('['+new Date()[_0x1dd8dc(0x19e)]()+'][\x20OBSERVABILITY\x20]\x20'+_0x4ce0a0),(_0x5ab49b[_0x1dd8dc(0x1f9)](process[_0x1dd8dc(0x1c4)][_0x1dd8dc(0x221)],_0x5ab49b[_0x1dd8dc(0x233)])||_0x5ab49b[_0x1dd8dc(0x1f9)](process[_0x1dd8dc(0x1c4)][_0x1dd8dc(0x221)],'1'))&&consoleHolder[_0x1dd8dc(0x23e)]('\x0a['+new Date()[_0x1dd8dc(0x19e)]()+_0x1dd8dc(0x191)+_0x4ce0a0+'\x0a');};const a88_0x58b9b7={};a88_0x58b9b7[a88_0x4665c8(0x21e)]=!![],a88_0x58b9b7[a88_0x4665c8(0x28e)]=0xea60,a88_0x58b9b7['maxSockets']=0x2,a88_0x58b9b7['maxTotalSockets']=0x2;const httpKeepAliveAgent=new http['Agent'](a88_0x58b9b7),a88_0x315a51={};a88_0x315a51[a88_0x4665c8(0x21e)]=!![],a88_0x315a51[a88_0x4665c8(0x28e)]=0xea60,a88_0x315a51[a88_0x4665c8(0x266)]=0x2,a88_0x315a51['maxTotalSockets']=0x2;const httpsKeepAliveAgent=new https[(a88_0x4665c8(0x23a))](a88_0x315a51),a88_0xbd1599={};a88_0xbd1599[a88_0x4665c8(0x21e)]=!![],a88_0xbd1599[a88_0x4665c8(0x28e)]=0xea60,a88_0xbd1599[a88_0x4665c8(0x266)]=0x2,a88_0xbd1599['maxTotalSockets']=0x2;function a88_0x496c(_0x3dee67,_0x475a29){const _0xf4a6c0=a88_0xf4a6();return a88_0x496c=function(_0x496c53,_0x2fad2e){_0x496c53=_0x496c53-0x18e;let _0x39c872=_0xf4a6c0[_0x496c53];return _0x39c872;},a88_0x496c(_0x3dee67,_0x475a29);}const httpScreenshotsKeepAliveAgent=new http[(a88_0x4665c8(0x23a))](a88_0xbd1599),a88_0x5581a3={};a88_0x5581a3['keepAlive']=!![],a88_0x5581a3['timeout']=0xea60,a88_0x5581a3['maxSockets']=0x2,a88_0x5581a3[a88_0x4665c8(0x23c)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a88_0x4665c8(0x23a))](a88_0x5581a3);exports[a88_0x4665c8(0x25a)]=()=>{const _0x455e1a=a88_0x4665c8,_0x348205={};_0x348205[_0x455e1a(0x286)]=function(_0x30f9ce,_0x556d69){return _0x30f9ce!==_0x556d69;},_0x348205[_0x455e1a(0x27f)]=_0x455e1a(0x1b8);const _0x1dc69b=_0x348205;return process[_0x455e1a(0x1c4)][_0x455e1a(0x255)]&&_0x1dc69b[_0x455e1a(0x286)](process[_0x455e1a(0x1c4)]['BROWSERSTACK_RERUN_TESTS'],_0x1dc69b[_0x455e1a(0x27f)])?!![]:![];},exports[a88_0x4665c8(0x213)]=()=>{const _0x5b90ad=a88_0x4665c8,_0x4f93f4={};_0x4f93f4[_0x5b90ad(0x1ad)]=function(_0x4fc98f,_0x515489){return _0x4fc98f===_0x515489;},_0x4f93f4['oneSB']='true';const _0xccfff1=_0x4f93f4;let _0x2c02ee=!![];return process['env'][_0x5b90ad(0x202)]&&(_0x2c02ee=_0xccfff1['mPNjd'](process['env'][_0x5b90ad(0x202)],_0xccfff1['oneSB'])),process[_0x5b90ad(0x1c4)][_0x5b90ad(0x231)]&&(_0x2c02ee=_0xccfff1['mPNjd'](process['env'][_0x5b90ad(0x231)],_0xccfff1[_0x5b90ad(0x287)])),_0x2c02ee;},exports[a88_0x4665c8(0x285)]=_0x23fc42=>{const _0x2be493=a88_0x4665c8;if(bsSetupHelper[_0x2be493(0x198)](_0x23fc42))return undefined;try{return _0x23fc42[_0x2be493(0x25d)]()[_0x2be493(0x281)](',');}catch(_0x3f2591){return undefined;}},exports[a88_0x4665c8(0x253)]=()=>{const _0x59cfda=a88_0x4665c8,_0x4a9ace={};_0x4a9ace[_0x59cfda(0x19b)]=function(_0x1aa5a4,_0x4b6ec9){return _0x1aa5a4!==_0x4b6ec9;},_0x4a9ace[_0x59cfda(0x244)]=_0x59cfda(0x1b8),_0x4a9ace[_0x59cfda(0x1b7)]=_0x59cfda(0x27a);const _0x264897=_0x4a9ace;return PerformanceTester['measureWrapper'](PerformanceO11yEvents[_0x59cfda(0x229)],async()=>{const _0x3938ed=_0x59cfda;try{process[_0x3938ed(0x1c4)][_0x3938ed(0x1fb)]&&_0x264897[_0x3938ed(0x19b)](process[_0x3938ed(0x1c4)][_0x3938ed(0x1fb)],_0x264897['OhqJS'])&&_0x264897[_0x3938ed(0x19b)](process[_0x3938ed(0x1c4)][_0x3938ed(0x1fb)],_0x264897['vaCka'])&&logger[_0x3938ed(0x1bd)]('Visit\x20https://observability.browserstack.com/builds/'+process[_0x3938ed(0x1c4)][_0x3938ed(0x1fb)]+_0x3938ed(0x1ba));}catch(_0x3e65e4){logger[_0x3938ed(0x1ef)]('['+new Date()['toISOString']()+_0x3938ed(0x236));}})();},exports['getFailureType']=_0x3d9787=>{const _0x26bd56=a88_0x4665c8,_0x5b27ac={};_0x5b27ac['mpGfl']='AssertionError',_0x5b27ac['ITHMo']='UnhandledError';const _0x491c37=_0x5b27ac;if(!_0x3d9787)return null;return _0x3d9787['toString']()['match'](/AssertionError/)?_0x491c37[_0x26bd56(0x260)]:_0x491c37['ITHMo'];},exports[a88_0x4665c8(0x20d)]=_0x26a458=>{const _0x1a912c=a88_0x4665c8,_0x2d5bc7={};_0x2d5bc7[_0x1a912c(0x28b)]=_0x1a912c(0x1d8),_0x2d5bc7[_0x1a912c(0x1cd)]=_0x1a912c(0x196),_0x2d5bc7[_0x1a912c(0x1a1)]=_0x1a912c(0x274),_0x2d5bc7[_0x1a912c(0x1d1)]=_0x1a912c(0x222),_0x2d5bc7[_0x1a912c(0x1f7)]=_0x1a912c(0x19c);const _0x3aaa6c=_0x2d5bc7;let _0x1ce92c=null;switch(_0x26a458){case FRAMEWORKS['MOCHA']:_0x1ce92c=bsSetupHelper[_0x1a912c(0x240)](_0x3aaa6c[_0x1a912c(0x28b)]);break;case FRAMEWORKS[_0x1a912c(0x21d)]:_0x1ce92c=bsSetupHelper['getPackageVersion'](_0x3aaa6c[_0x1a912c(0x1cd)]);break;case FRAMEWORKS[_0x1a912c(0x1c7)]:case FRAMEWORKS['CODECEPT_CUCUMBER']:_0x1ce92c=bsSetupHelper[_0x1a912c(0x240)](_0x3aaa6c[_0x1a912c(0x1a1)]);break;case FRAMEWORKS[_0x1a912c(0x21f)]:_0x1ce92c=bsSetupHelper[_0x1a912c(0x240)](_0x3aaa6c['Eajke']);break;case FRAMEWORKS['CUCUMBER']:_0x1ce92c=bsSetupHelper['getPackageVersion'](_0x3aaa6c[_0x1a912c(0x1f7)]);break;default:break;}return _0x1ce92c;},exports[a88_0x4665c8(0x242)]=_0x2db9f2=>{const _0x4f24c9=a88_0x4665c8;let _0x129fb0=null;switch(_0x2db9f2){case FRAMEWORKS[_0x4f24c9(0x21d)]:_0x129fb0=process['env'][_0x4f24c9(0x27b)];break;}if(!_0x129fb0)return;return bsSetupHelper[_0x4f24c9(0x1cc)](_0x129fb0,![]);},exports[a88_0x4665c8(0x1d6)]=_0x48fca8=>{const _0x3e2e2a=a88_0x4665c8;return{'username':bsSetupHelper[_0x3e2e2a(0x230)](_0x48fca8),'accessKey':bsSetupHelper[_0x3e2e2a(0x206)](_0x48fca8)};},exports['modifyReqForTraceUpload']=(_0x35557b,_0x28387b)=>{const _0x59d6a7=a88_0x4665c8,_0x34daad={};_0x34daad[_0x59d6a7(0x1a4)]=_0x59d6a7(0x1cf),_0x34daad['krrTU']=_0x59d6a7(0x273),_0x34daad[_0x59d6a7(0x276)]=_0x59d6a7(0x197),_0x34daad[_0x59d6a7(0x278)]=_0x59d6a7(0x267);const _0xbee454=_0x34daad,_0xc7cd6f=_0xbee454[_0x59d6a7(0x1a4)]['split']('|');let _0x5835ac=0x0;while(!![]){switch(_0xc7cd6f[_0x5835ac++]){case'0':delete _0x35557b['body'];continue;case'1':delete _0x35557b[_0x59d6a7(0x22a)];continue;case'2':if(!_0x35557b['body']||!Array[_0x59d6a7(0x1a9)](_0x35557b[_0x59d6a7(0x24f)]))return;continue;case'3':delete _0x28387b[_0x59d6a7(0x20e)];continue;case'4':_0x35557b[_0x59d6a7(0x241)]={'data':_0x35557b[_0x59d6a7(0x24f)][0x0][_0x59d6a7(0x26f)][0x0][_0x59d6a7(0x275)],'test_run_uuid':_0x35557b[_0x59d6a7(0x24f)][0x0][_0x59d6a7(0x26f)][0x0][_0x59d6a7(0x284)],'event_type':_0xbee454[_0x59d6a7(0x26c)],'kind':_0xbee454['hUMVv'],'attachmentType':_0xbee454[_0x59d6a7(0x278)],'timestamp':new Date()[_0x59d6a7(0x19e)](),'fileName':_0x35557b[_0x59d6a7(0x24f)][0x0][_0x59d6a7(0x26f)][0x0]['fileName']};continue;case'5':if(!_0x35557b['body'][0x0]||!_0x35557b[_0x59d6a7(0x24f)][0x0][_0x59d6a7(0x26f)]||!_0x35557b[_0x59d6a7(0x24f)][0x0][_0x59d6a7(0x26f)]['length'])return;continue;}break;}},exports[a88_0x4665c8(0x1e9)]=async(_0x14f921,_0x22108e,_0x20e15e,_0x21271c,_0x50f099=!![])=>{const _0xcbc243=a88_0x4665c8,_0x15d9cc={};_0x15d9cc[_0xcbc243(0x19f)]=function(_0x33c878,_0x24d9c7){return _0x33c878===_0x24d9c7;},_0x15d9cc[_0xcbc243(0x294)]=_0xcbc243(0x251),_0x15d9cc[_0xcbc243(0x204)]='application/json',_0x15d9cc[_0xcbc243(0x19a)]=_0xcbc243(0x254),_0x15d9cc[_0xcbc243(0x1e8)]=function(_0x467de0,_0xd7387b){return _0x467de0!==_0xd7387b;},_0x15d9cc[_0xcbc243(0x217)]=_0xcbc243(0x224),_0x15d9cc[_0xcbc243(0x225)]=_0xcbc243(0x1f0);const _0x1c7e08=_0x15d9cc,_0x120e5a={..._0x21271c,...{'method':_0x14f921,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x22108e,'body':_0x20e15e,'json':_0x1c7e08[_0xcbc243(0x19f)](_0x21271c[_0xcbc243(0x20e)][_0x1c7e08[_0xcbc243(0x294)]],_0x1c7e08[_0xcbc243(0x204)]),'agent':API_URL['includes'](_0x1c7e08[_0xcbc243(0x19a)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x1c7e08[_0xcbc243(0x19f)](_0x22108e,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x120e5a[_0xcbc243(0x23b)]=API_URL[_0xcbc243(0x1b4)](_0x1c7e08[_0xcbc243(0x19a)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0xcbc243(0x218)](_0x120e5a,_0x21271c),logger['debug'](_0xcbc243(0x263)+_0x120e5a[_0xcbc243(0x1c3)]));try{const {statusCode:_0x27aaf3,body:_0x1e66c2}=await bsSetupHelper[_0xcbc243(0x1be)](_0x14f921,_0x22108e,_0x120e5a,_0x21271c,_0x120e5a[_0xcbc243(0x1c3)]);if(_0x1c7e08[_0xcbc243(0x1e8)](_0x27aaf3,0xc8))return _0x1e66c2?_0x1e66c2:_0xcbc243(0x27d)+_0x27aaf3;let _0xd9d62a=_0x1e66c2;if(_0x50f099)try{_0x1c7e08[_0xcbc243(0x1e8)](typeof _0x1e66c2,_0x1c7e08[_0xcbc243(0x217)])&&(_0xd9d62a=JSON[_0xcbc243(0x1ed)](_0x1e66c2));}catch(_0x2f2b03){logger[_0xcbc243(0x1ef)](_0x1c7e08['VBmzw'],_0x1e66c2,util[_0xcbc243(0x270)](_0x2f2b03));}const _0x3dee3b={};return _0x3dee3b[_0xcbc243(0x275)]=_0xd9d62a,_0x3dee3b;}catch(_0x96f8e4){logger['error'](_0xcbc243(0x1eb)+util[_0xcbc243(0x270)](_0x96f8e4));throw _0x96f8e4;}},exports[a88_0x4665c8(0x1be)]=(_0x7305fe,_0x3e7ba9,_0x5d5d19,_0x32e796,_0x20c7f5=!![])=>{const _0x2f00da=a88_0x4665c8,_0x4c97c7={'TraaG':function(_0x35ddd1,_0x575985){return _0x35ddd1!==_0x575985;},'SzMTj':function(_0xecda0b,_0x5f5ad6){return _0xecda0b(_0x5f5ad6);},'SMnxS':'object','OURRO':function(_0x26a4d0,_0xaac02e){return _0x26a4d0(_0xaac02e);},'AzRci':_0x2f00da(0x26a),'OQvgS':function(_0xbeb019,_0x385a33){return _0xbeb019(_0x385a33);},'ySNel':function(_0x182bb1,_0x5eb0a0){return _0x182bb1===_0x5eb0a0;},'jpgET':'Content-Type','IpYUW':_0x2f00da(0x24d),'toOvN':_0x2f00da(0x254)};return new Promise((_0x5de131,_0x536fb1)=>{const _0x1a02f3=_0x2f00da,_0xae5d68={..._0x32e796,...{'method':_0x7305fe,'url':API_URL+'/'+_0x3e7ba9,'body':_0x5d5d19,'json':_0x4c97c7[_0x1a02f3(0x24b)](_0x32e796[_0x1a02f3(0x20e)][_0x4c97c7['jpgET']],_0x4c97c7[_0x1a02f3(0x269)]),'agent':API_URL['includes'](_0x4c97c7[_0x1a02f3(0x18e)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x4c97c7[_0x1a02f3(0x24b)](_0x3e7ba9,SCREENSHOT_ENDPOINT)&&(_0xae5d68[_0x1a02f3(0x23b)]=API_URL[_0x1a02f3(0x1b4)](_0x4c97c7[_0x1a02f3(0x18e)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x1a02f3(0x1be)](_0x7305fe,_0x3e7ba9,_0xae5d68,_0x32e796,API_URL)[_0x1a02f3(0x18f)](({statusCode:_0x21903e,body:_0x3ca51b})=>{const _0x4b259e=_0x1a02f3;if(_0x4c97c7['TraaG'](_0x21903e,0xc8))_0x4c97c7[_0x4b259e(0x297)](_0x536fb1,_0x3ca51b?_0x3ca51b:_0x4b259e(0x27d)+_0x21903e);else{if(_0x20c7f5)try{_0x4c97c7[_0x4b259e(0x1e7)](typeof _0x3ca51b,_0x4c97c7[_0x4b259e(0x28d)])&&(_0x3ca51b=JSON[_0x4b259e(0x1ed)](_0x3ca51b));}catch(_0x42eb89){_0x4c97c7[_0x4b259e(0x283)](_0x536fb1,_0x4c97c7[_0x4b259e(0x28a)]);return;}const _0xa759f2={};_0xa759f2[_0x4b259e(0x275)]=_0x3ca51b,_0x4c97c7[_0x4b259e(0x20a)](_0x5de131,_0xa759f2);}})[_0x1a02f3(0x1d7)](_0x3b7579=>{_0x3b7579&&_0x4c97c7['SzMTj'](_0x536fb1,_0x3b7579);});});},exports[a88_0x4665c8(0x20f)]=_0x512c70=>{const _0x518a8a=a88_0x4665c8;if(process[_0x518a8a(0x1c4)]['TEST_OBSERVABILITY_BUILD_TAG'])return process[_0x518a8a(0x1c4)]['TEST_OBSERVABILITY_BUILD_TAG'][_0x518a8a(0x281)](',');if(_0x512c70[_0x518a8a(0x1d0)])return _0x512c70['buildTag'];return[];},exports[a88_0x4665c8(0x1ac)]=(_0x2ece14=!![])=>{const _0x42ff55=a88_0x4665c8,_0x70df22={};_0x70df22[_0x42ff55(0x199)]=_0x42ff55(0x24d),_0x70df22[_0x42ff55(0x21c)]=_0x42ff55(0x22f),_0x70df22['pYBhs']=_0x42ff55(0x1b3);const _0x3b6435=_0x70df22,_0x590c00={};_0x590c00['Content-Type']=_0x3b6435[_0x42ff55(0x199)],_0x590c00[_0x42ff55(0x228)]=_0x3b6435[_0x42ff55(0x21c)];const _0x40f5f4=_0x590c00;return _0x2ece14&&process['env'][_0x42ff55(0x22d)]&&(_0x40f5f4[_0x3b6435['pYBhs']]=_0x42ff55(0x245)+process[_0x42ff55(0x1c4)]['BROWSERSTACK_TESTHUB_JWT']),_0x40f5f4;},exports[a88_0x4665c8(0x1e2)]=_0x4206f0=>{const _0x5a342c=a88_0x4665c8,_0x37fd76={};_0x37fd76['smUYu']=_0x5a342c(0x264);const _0x24ae6e=_0x37fd76,_0x6221a5=[],_0x339dc2=new RegExp(_0x24ae6e[_0x5a342c(0x249)],'i');return Object[_0x5a342c(0x1f6)](_0x4206f0)[_0x5a342c(0x27e)](_0x499149=>_0x339dc2[_0x5a342c(0x1af)](_0x499149))[_0x5a342c(0x252)](_0x56a1a6=>_0x6221a5[_0x5a342c(0x298)](_0x4206f0[_0x56a1a6])),_0x6221a5;},exports[a88_0x4665c8(0x1e3)]=_0x48d95d=>{const _0x37a823=a88_0x4665c8,_0x2b26e1=[],_0x55cc22=_0x48d95d[_0x37a823(0x1c2)]||process[_0x37a823(0x1c4)][_0x37a823(0x1fc)];return _0x55cc22&&_0x2b26e1['push'](_0x55cc22),_0x2b26e1[_0x37a823(0x298)](...exports[_0x37a823(0x1e2)](process[_0x37a823(0x1c4)])),_0x2b26e1[_0x37a823(0x298)](...exports[_0x37a823(0x1e2)](_0x48d95d)),_0x2b26e1;},exports[a88_0x4665c8(0x1e1)]=_0x46e0a7=>{const _0x3ccce1=a88_0x4665c8;if(!_0x46e0a7)return'';return _0x46e0a7[_0x3ccce1(0x19d)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports['sleep']=(_0x3cbca8=0x64)=>new Promise(_0x1a3924=>setTimeout(_0x1a3924,_0x3cbca8));const getPlatformName=()=>{const _0x368399=a88_0x4665c8,_0x5c05cd={};_0x5c05cd[_0x368399(0x1ee)]=function(_0x4735f6,_0x589f63){return _0x4735f6===_0x589f63;},_0x5c05cd['uhAoE']='win32',_0x5c05cd['kgvqI']=_0x368399(0x1f1),_0x5c05cd[_0x368399(0x24a)]=function(_0x368345,_0x327cde){return _0x368345===_0x327cde;},_0x5c05cd[_0x368399(0x207)]=_0x368399(0x26b),_0x5c05cd[_0x368399(0x246)]=_0x368399(0x238),_0x5c05cd[_0x368399(0x1f8)]=function(_0x5a61b5,_0x5627f6){return _0x5a61b5===_0x5627f6;},_0x5c05cd['eRmSn']=_0x368399(0x1a6),_0x5c05cd[_0x368399(0x292)]=_0x368399(0x1a7),_0x5c05cd[_0x368399(0x223)]=_0x368399(0x1ce);const _0x5a6cb4=_0x5c05cd;if(_0x5a6cb4[_0x368399(0x1ee)](process['platform'],_0x5a6cb4[_0x368399(0x201)]))return _0x5a6cb4['kgvqI'];if(_0x5a6cb4[_0x368399(0x24a)](process['platform'],_0x5a6cb4['fXAQe']))return _0x5a6cb4[_0x368399(0x246)];if(_0x5a6cb4['PIarY'](process[_0x368399(0x1dc)],_0x5a6cb4[_0x368399(0x1ae)]))return _0x5a6cb4['faovH'];return _0x5a6cb4[_0x368399(0x223)];},getMacOSVersion=()=>{const _0x3a067a=a88_0x4665c8,_0x5a2c99={};_0x5a2c99[_0x3a067a(0x239)]=_0x3a067a(0x22e);const _0x509d38=_0x5a2c99;return child_process[_0x3a067a(0x235)](_0x509d38[_0x3a067a(0x239)])['toString']()[_0x3a067a(0x25d)]();},getLinuxDetails=()=>{const _0x5b2b91={'OARnN':function(_0x1c4032,_0xeaa352){return _0x1c4032(_0xeaa352);},'HRphq':function(_0x52367b,_0x4cf0c8){return _0x52367b(_0x4cf0c8);},'hALXJ':function(_0x27c753,_0x1b5ca6){return _0x27c753(_0x1b5ca6);}};return new Promise((_0x2996d5,_0x460697)=>{const _0x1b2879=a88_0x496c;_0x5b2b91[_0x1b2879(0x20c)](getos,(_0x45c4f6,_0x51cb74)=>{const _0x267afc=_0x1b2879;if(_0x45c4f6)return _0x5b2b91[_0x267afc(0x261)](_0x460697,_0x45c4f6);_0x5b2b91['HRphq'](_0x2996d5,_0x51cb74);});});};exports['getPlatformDetails']=async()=>{const _0x517068=a88_0x4665c8,_0x2c6cd1={'nLnAl':function(_0x1a05f0){return _0x1a05f0();},'ptWZU':'OS\x20X','wqJUA':function(_0x3b929d){return _0x3b929d();},'XfFlj':_0x517068(0x1f1),'VLNUu':'windows-release','KxnHX':function(_0x449c63){return _0x449c63();},'YcTla':'Linux','PquXg':'Error\x20in\x20getting\x20Linux\x20Details'};let _0x26171a=_0x2c6cd1['nLnAl'](getPlatformName),_0x36e336=os[_0x517068(0x1de)]()[_0x517068(0x291)]();switch(_0x26171a){case _0x2c6cd1['ptWZU']:_0x36e336=_0x2c6cd1[_0x517068(0x257)](getMacOSVersion);break;case _0x2c6cd1[_0x517068(0x282)]:try{const _0x842ae2=(await import(_0x2c6cd1[_0x517068(0x262)]))[_0x517068(0x256)];_0x36e336=_0x2c6cd1[_0x517068(0x1a8)](_0x842ae2);}catch(_0x26fcad){exports[_0x517068(0x1d5)]('Error\x20in\x20importing\x20windows-release\x20'+_0x26fcad[_0x517068(0x291)]());}break;case _0x2c6cd1['YcTla']:try{const _0x134bb0=await _0x2c6cd1[_0x517068(0x1a8)](getLinuxDetails);_0x134bb0['dist']&&(_0x26171a=_0x134bb0[_0x517068(0x192)]),_0x134bb0[_0x517068(0x1de)]&&(_0x36e336=_0x134bb0[_0x517068(0x1de)][_0x517068(0x291)]());}catch(_0x4d93a0){exports['debug'](_0x2c6cd1['PquXg']);}break;default:break;}const _0x120850={};return _0x120850[_0x517068(0x21b)]=_0x26171a,_0x120850['platformVersion']=_0x36e336,_0x120850;},exports[a88_0x4665c8(0x216)]=(_0x272f9a,_0x5ec757)=>{const _0x4fde6e=a88_0x4665c8,_0x14525d={};_0x14525d[_0x4fde6e(0x250)]=function(_0xd63ef8,_0x18862d){return _0xd63ef8===_0x18862d;},_0x14525d['UOjzK']=_0x4fde6e(0x1af),_0x14525d[_0x4fde6e(0x1f5)]=_0x4fde6e(0x1a0);const _0x29b613=_0x14525d;if(!_0x272f9a)return[];try{if(_0x29b613[_0x4fde6e(0x250)](_0x5ec757,_0x29b613[_0x4fde6e(0x1e6)]))return _0x272f9a['map'](_0x151244=>{const _0x11dd0a=_0x4fde6e,{stack:_0x333bef,..._0x2927ee}=_0x151244,_0x4dcacf=Object['keys'](_0x2927ee)[_0x11dd0a(0x288)](_0x57ae01=>{return _0x57ae01+':\x20'+_0x2927ee[_0x57ae01];}),_0x1ea701=_0x333bef?exports['removeAnsiColors'](_0x333bef)[_0x11dd0a(0x281)](/\r?\n/):[exports[_0x11dd0a(0x1e1)](_0x151244[_0x11dd0a(0x27c)])],_0x4e775f={};return _0x4e775f[_0x11dd0a(0x1c8)]=_0x1ea701,_0x4e775f['expanded']=_0x4dcacf,_0x4e775f;});else{if(_0x29b613[_0x4fde6e(0x250)](_0x5ec757,_0x29b613[_0x4fde6e(0x1f5)])){const _0x2ed92f=[],_0x200dda=[];return Object[_0x4fde6e(0x1f6)](_0x272f9a)['forEach'](_0x24d759=>{const _0x4d8c42=_0x4fde6e;try{_0x200dda['push'](_0x24d759+':\x20'+_0x272f9a[_0x24d759]);}catch(_0x42de6c){exports[_0x4d8c42(0x1d5)](_0x4d8c42(0x1f3)+_0x42de6c[_0x4d8c42(0x27c)]+_0x4d8c42(0x215)+_0x42de6c[_0x4d8c42(0x1c8)]);}}),_0x2ed92f[_0x4fde6e(0x298)]({'backtrace':exports[_0x4fde6e(0x1e1)](_0x272f9a[_0x4fde6e(0x1b2)])['split'](/\r?\n/),'expanded':_0x200dda}),_0x2ed92f;}}return[];}catch(_0xa9067a){exports[_0x4fde6e(0x1d5)](_0x4fde6e(0x1f3)+_0xa9067a[_0x4fde6e(0x27c)]+_0x4fde6e(0x215)+_0xa9067a['backtrace']);}return[];};class PathHelper{constructor(_0x2b7ba2,_0x1f731c){const _0x54af7c=a88_0x4665c8;this['config']=_0x2b7ba2,this[_0x54af7c(0x248)]=_0x1f731c;}[a88_0x4665c8(0x209)](_0x5c4ede){const _0x249f85=a88_0x4665c8,_0x5ce4c2=this['config'][_0x249f85(0x193)]||this[_0x249f85(0x271)][_0x249f85(0x28f)];return path[_0x249f85(0x20b)](_0x5ce4c2,_0x5c4ede);}['prefixTestPath'](_0x49e9df){const _0xc36861=a88_0x4665c8,_0x4625bf=this[_0xc36861(0x209)](_0x49e9df);return this[_0xc36861(0x248)]?path[_0xc36861(0x190)](this[_0xc36861(0x248)],_0x4625bf):_0x4625bf;}}exports[a88_0x4665c8(0x259)]=PathHelper,exports[a88_0x4665c8(0x25c)]=(_0x2061d0=!![])=>{const _0x25a92e=a88_0x4665c8,_0x1fe0ac={};_0x1fe0ac[_0x25a92e(0x1b6)]=function(_0x37e99b,_0xf26636){return _0x37e99b===_0xf26636;},_0x1fe0ac[_0x25a92e(0x247)]=_0x25a92e(0x228),_0x1fe0ac[_0x25a92e(0x21a)]=_0x25a92e(0x22f),_0x1fe0ac[_0x25a92e(0x1dd)]=_0x25a92e(0x22c),_0x1fe0ac[_0x25a92e(0x25f)]=_0x25a92e(0x1c1),_0x1fe0ac[_0x25a92e(0x1b9)]=_0x25a92e(0x25e);const _0x260c23=_0x1fe0ac;requestSpy[_0x25a92e(0x195)]((_0x2f5fef,_0x3eea66)=>{const _0x5ef7b4=_0x25a92e;_0x3eea66&&!(_0x3eea66[_0x5ef7b4(0x20e)]&&_0x260c23[_0x5ef7b4(0x1b6)](_0x3eea66[_0x5ef7b4(0x20e)][_0x260c23['Rmuwj']],_0x260c23['vUIPY']))&&(_0x3eea66[_0x5ef7b4(0x208)]=_0x3eea66['hostname'],delete _0x3eea66[_0x5ef7b4(0x26e)],_0x2061d0&&process[_0x5ef7b4(0x1d3)](_0x5ef7b4(0x234)+process[_0x5ef7b4(0x26d)],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x260c23['Wzjcq'],'http_response':_0x3eea66})),_0x3eea66&&(constants[_0x5ef7b4(0x1ab)][_0x5ef7b4(0x1af)](_0x3eea66['host'])||constants[_0x5ef7b4(0x226)]['test'](_0x3eea66['host']))?global[_0x5ef7b4(0x1e4)]=_0x260c23[_0x5ef7b4(0x25f)]:global[_0x5ef7b4(0x1e4)]=_0x260c23[_0x5ef7b4(0x1b9)];});},exports[a88_0x4665c8(0x1b5)]=()=>{const _0x396318=a88_0x4665c8,_0x3ba7d7={'McOzh':function(_0x24262a,_0x338a15){return _0x24262a(_0x338a15);}};console={},Object[_0x396318(0x1f6)](consoleHolder)[_0x396318(0x252)](_0x170a78=>{const _0x1cea0c=_0x396318;_0x3ba7d7[_0x1cea0c(0x290)](isFunction,consoleHolder[_0x170a78])?console[_0x170a78]=(..._0xc9d936)=>{const _0x2d09e2=_0x1cea0c;try{!Object['keys'](BSTestOpsPatcher)[_0x2d09e2(0x1b4)](_0x170a78)?consoleHolder[_0x170a78](..._0xc9d936):BSTestOpsPatcher[_0x170a78](..._0xc9d936);}catch(_0x11b440){consoleHolder[_0x170a78](..._0xc9d936);}}:console[_0x170a78]=consoleHolder[_0x170a78];});},exports['getSyncScript']=()=>a88_0x4665c8(0x1da)+JSON[a88_0x4665c8(0x1ff)]({'action':a88_0x4665c8(0x1b0),'arguments':{'data':a88_0x4665c8(0x1c0)+Date['now'](),'level':a88_0x4665c8(0x1d5)}}),exports[a88_0x4665c8(0x1bf)]=_0x189e17=>{const _0x263f35=a88_0x4665c8,_0x1b7e00={};_0x1b7e00[_0x263f35(0x1d4)]=function(_0x5d8847,_0x3457ef){return _0x5d8847===_0x3457ef;},_0x1b7e00['kEHTi']=_0x263f35(0x1c1),_0x1b7e00[_0x263f35(0x279)]=_0x263f35(0x200),_0x1b7e00[_0x263f35(0x1fe)]=_0x263f35(0x1a5),_0x1b7e00[_0x263f35(0x1bc)]=function(_0x3d6ea3,_0x1ace62){return _0x3d6ea3>_0x1ace62;},_0x1b7e00[_0x263f35(0x1f4)]=_0x263f35(0x1a3),_0x1b7e00[_0x263f35(0x277)]=_0x263f35(0x227),_0x1b7e00[_0x263f35(0x24c)]=_0x263f35(0x1aa),_0x1b7e00[_0x263f35(0x1e0)]=_0x263f35(0x289),_0x1b7e00[_0x263f35(0x28c)]='automate';const _0x38ebf0=_0x1b7e00;let _0x20bba9=null;try{if(_0x38ebf0[_0x263f35(0x1d4)](global[_0x263f35(0x1e4)],_0x38ebf0['kEHTi'])){if(_0x189e17[_0x38ebf0['shYzC']]||_0x189e17[_0x38ebf0[_0x263f35(0x1fe)]]||!bsSetupHelper[_0x263f35(0x198)](global[_0x263f35(0x1e5)])&&_0x38ebf0[_0x263f35(0x1bc)](global[_0x263f35(0x1e5)][_0x263f35(0x265)],0x0)&&(global['capabilities'][0x0][_0x38ebf0[_0x263f35(0x1fe)]]||global[_0x263f35(0x1e5)][0x0][_0x38ebf0[_0x263f35(0x279)]]))_0x20bba9=_0x38ebf0[_0x263f35(0x1f4)];else _0x189e17[_0x38ebf0['ltGgq']]&&_0x189e17[_0x38ebf0[_0x263f35(0x277)]][_0x38ebf0[_0x263f35(0x24c)]]?_0x20bba9=_0x38ebf0[_0x263f35(0x1e0)]:_0x20bba9=_0x38ebf0['dhrVH'];}}catch(_0xe63947){exports[_0x263f35(0x1d5)](_0x263f35(0x232)+_0xe63947);}return _0x20bba9;},exports[a88_0x4665c8(0x210)]=async(_0x1d7485,_0x1357f0,_0x37d074=![])=>{const _0x71ccb1=a88_0x4665c8,_0x10ac22={};_0x10ac22[_0x71ccb1(0x295)]=function(_0x528dda,_0x3f8b14){return _0x528dda===_0x3f8b14;},_0x10ac22[_0x71ccb1(0x237)]=_0x71ccb1(0x1c1),_0x10ac22['qvqyo']=_0x71ccb1(0x1fd),_0x10ac22[_0x71ccb1(0x1f2)]=_0x71ccb1(0x194);const _0x268be4=_0x10ac22;try{const _0x39448c=await _0x1d7485['getCapabilities'](),_0x409abb=await _0x1d7485['getSession'](),_0x1bacf6={},_0x3ace90=Object[_0x71ccb1(0x293)](_0x409abb['getCapabilities']()[_0x71ccb1(0x219)]),_0x26d78b={'product':exports[_0x71ccb1(0x1bf)](_0x3ace90),'capabilities':_0x3ace90,'platform':_0x39448c[_0x71ccb1(0x1ec)](),'platform_version':bsSetupHelper[_0x71ccb1(0x211)](_0x268be4[_0x71ccb1(0x295)](global[_0x71ccb1(0x1e4)],_0x268be4[_0x71ccb1(0x237)])),'browser':_0x39448c[_0x71ccb1(0x1fa)](),'browser_version':_0x39448c['getBrowserVersion'](),'session_id':_0x409abb[_0x71ccb1(0x1b1)]()};global[_0x71ccb1(0x1e4)]?_0x1bacf6[global['__cloud_provider___']]=_0x26d78b:_0x1bacf6[_0x268be4[_0x71ccb1(0x268)]]=_0x26d78b;if(_0x37d074)return _0x1bacf6;process['emit'](_0x71ccb1(0x220)+process[_0x71ccb1(0x26d)],{'timestamp':new Date()[_0x71ccb1(0x19e)](),'level':null,'message':null,'kind':_0x268be4['zpWhE'],'http_response':_0x1bacf6,'uuid':_0x1357f0});}catch(_0x2e2e2b){exports[_0x71ccb1(0x1d5)](_0x71ccb1(0x212)+_0x2e2e2b);}},exports[a88_0x4665c8(0x1bb)]=_0x3230a1=>{const _0x4a45fd=a88_0x4665c8;return _0x3230a1&&_0x3230a1[_0x4a45fd(0x291)]()['match'](/browserstack internal helper hook/);};