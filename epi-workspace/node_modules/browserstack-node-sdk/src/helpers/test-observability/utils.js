const a130_0x19ce15=a130_0x52ce;(function(_0x4d58cd,_0x61fc42){const _0x3a3048=a130_0x52ce,_0x2a95c9=_0x4d58cd();while(!![]){try{const _0x3b81bf=parseInt(_0x3a3048(0x1cd))/0x1*(-parseInt(_0x3a3048(0xf1))/0x2)+-parseInt(_0x3a3048(0x18e))/0x3*(parseInt(_0x3a3048(0x17b))/0x4)+parseInt(_0x3a3048(0xd7))/0x5*(-parseInt(_0x3a3048(0x186))/0x6)+-parseInt(_0x3a3048(0xe6))/0x7*(parseInt(_0x3a3048(0x18f))/0x8)+-parseInt(_0x3a3048(0xe4))/0x9*(-parseInt(_0x3a3048(0x196))/0xa)+-parseInt(_0x3a3048(0xf7))/0xb*(parseInt(_0x3a3048(0x155))/0xc)+parseInt(_0x3a3048(0xec))/0xd*(parseInt(_0x3a3048(0x118))/0xe);if(_0x3b81bf===_0x61fc42)break;else _0x2a95c9['push'](_0x2a95c9['shift']());}catch(_0x2f3a40){_0x2a95c9['push'](_0x2a95c9['shift']());}}}(a130_0x1031,0x41969));const fs=require('fs'),path=require(a130_0x19ce15(0xde)),gitLastCommit=require('git-last-commit'),getRepoInfo=require('git-repo-info'),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require(a130_0x19ce15(0x191)),https=require(a130_0x19ce15(0x1b2)),child_process=require(a130_0x19ce15(0x166)),getos=require('getos'),os=require('os'),logger=require('../logger')[a130_0x19ce15(0x1b0)],buildLogger=require(a130_0x19ce15(0x1db))[a130_0x19ce15(0x15f)],bsSetupHelper=require(a130_0x19ce15(0xd8)),requestSpy=require(a130_0x19ce15(0x1ab)),constants=require(a130_0x19ce15(0x1c2)),logPatcher=require(a130_0x19ce15(0x16e)),util=require(a130_0x19ce15(0x10b)),{fileLogger}=require(a130_0x19ce15(0x1db)),PerformanceTester=require(a130_0x19ce15(0x113)),{isFunction}=require(a130_0x19ce15(0x1c8)),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a130_0x19ce15(0x174)),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require(a130_0x19ce15(0x15d));exports['trace']=_0x3ffbff=>{const _0x279e93=a130_0x19ce15;fileLogger[_0x279e93(0x16d)]('['+new Date()['toISOString']()+'][\x20'+constants[_0x279e93(0x1af)]+'\x20]\x20'+_0x3ffbff);},exports[a130_0x19ce15(0x116)]=_0x2f1659=>{const _0x13acff=a130_0x19ce15,_0x29a9a0={};_0x29a9a0[_0x13acff(0x168)]=function(_0x4d5c4c,_0x323421){return _0x4d5c4c===_0x323421;},_0x29a9a0[_0x13acff(0xdc)]=_0x13acff(0x1a3);const _0x2a47a8=_0x29a9a0;fileLogger['debug']('['+new Date()[_0x13acff(0x153)]()+'][\x20'+constants[_0x13acff(0x1af)]+_0x13acff(0x110)+_0x2f1659),(_0x2a47a8[_0x13acff(0x168)](process['env']['BROWSERSTACK_TEST_REPORTING_DEBUG'],_0x2a47a8['vYIEk'])||_0x2a47a8[_0x13acff(0x168)](process[_0x13acff(0x14f)][_0x13acff(0x1a8)],'1')||_0x2a47a8[_0x13acff(0x168)](process['env']['BROWSERSTACK_OBSERVABILITY_DEBUG'],_0x2a47a8[_0x13acff(0xdc)])||_0x2a47a8[_0x13acff(0x168)](process[_0x13acff(0x14f)]['BROWSERSTACK_OBSERVABILITY_DEBUG'],'1'))&&consoleHolder[_0x13acff(0x1e1)]('\x0a['+new Date()[_0x13acff(0x153)]()+_0x13acff(0x1e9)+constants[_0x13acff(0x1af)]+_0x13acff(0x110)+_0x2f1659+'\x0a');};const a130_0x2b5231={};a130_0x2b5231[a130_0x19ce15(0xf5)]=!![],a130_0x2b5231[a130_0x19ce15(0x13d)]=0xea60,a130_0x2b5231[a130_0x19ce15(0x1c5)]=0x2,a130_0x2b5231['maxTotalSockets']=0x2;const httpKeepAliveAgent=new http[(a130_0x19ce15(0x13a))](a130_0x2b5231),a130_0x2d2a7e={};a130_0x2d2a7e[a130_0x19ce15(0xf5)]=!![],a130_0x2d2a7e[a130_0x19ce15(0x13d)]=0xea60,a130_0x2d2a7e[a130_0x19ce15(0x1c5)]=0x2,a130_0x2d2a7e[a130_0x19ce15(0xe3)]=0x2;function a130_0x1031(){const _0x42e227=['\x20]\x20Build\x20Not\x20Found\x20%s','host','92slSncm','bstack:options','cExFP','info','MsQaR','pzYol','getPlatform','automate','cRjWp','formData','TEST_REPORTING_BUILD_TAG','29454MsewoU','tKMUe','PathHelper','dHdKu','toString','SrmoX','wHazj','@cucumber/cucumber','19491LktXoM','16UbkTUf','IyotH','http','RkCsA','bs:addLog:','removeAnsiColors','prefix','358990xukZZN','rootDir','OS\x20X','getBrowserVersion','expanded','local_grid','length','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','/builds/','push','map','gGccV','Visit\x20','true','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','getPackageVersion','printBuildLink','UMpNf','BROWSERSTACK_TEST_REPORTING_DEBUG','message','IUrxM','../../helpers/request-spy','getBrowserName','gOmoT','sendPlatformDetails','TEST_REPORTING_ANALYTICS','winstonLogger','default','https','spy','data','isUndefined','pid','config','parseFileNames','getFailureType','emit','sBgMt','LpXdn','platformVersion','split','parse','BROWSERSTACK_TEST_REPORTING','BROWSERSTACK_TEST_OBSERVABILITY','../../bin/utils/constants','UQjlH','shouldReRunObservabilityTests','maxSockets','getObservabilityLinkedProductName','CyHCQ','lodash','jest','prefixTestPath','includes','EkmHO','20qkDkvu','BS_TESTOPS_BUILD_HASHED_ID','O11Y_URL','LWWRC','AssertionError','keys','url','extractValuesWithRegexKeyMatch','app-automate','OhPpZ','getBuildTags','OKKfJ','WymjH','NeBkb','../logger','dVJUx','Failed\x20to\x20determine\x20product\x20linked\x20to\x20','test','toJSON','linux','log','rNKkq','JDVNp','IVqWg','isInternalHook','object','release','LbsuW','][\x20','gcCdO','match','getCapabilities','PLAYWRIGHT','getDefaultHeaders','hostname','SMOnE','pwaQK','415PamoUq','../helper','win32','TEST_PLATFORM','Error\x20in\x20importing\x20windows-release\x20','vYIEk','xjWrx','path','join','mocha','replace','modifyReqForTraceUpload','maxTotalSockets','117wxRBuf','JEST','1603735gboRRQ','getSyncScript','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','capabilities','browserstack','aTnrm','156910KIBjjH','4|1|5|3|0|2','XCrsu','annotate','Tagzc','34740myJMvt','map_','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','uhieJ','keepAlive','codeceptjs','550hSxHYT','pbcEZ','undefined','DsfTq','stringify','RCBHM','[%s][\x20','getBrowserStackConfig','BROWSERSTACK_CONFIG_FILE_PATH','cwd','fileName','oTxoG','UnhandledError','appium:app','BROWSERSTACK_TEST_OBSERVABILITY_YML','Authorization','UiQLR','logs','pNOqV','ivLXF','util','IJKfm','error','body','nodeRequest','\x20]\x20','buildTag','dist','../performance/performance-tester','format','Efwju','debug','IdAwt','1820IqGSHA','Qrnbv','agent','RMOwx','INRFr','doYaN','RQsCn','HTTP','Keczk','O11yHashedID','VrsGP','turboScaleGridDetails','forEach','browserstack_executor:\x20','KCLJQ','__cloud_provider___','XBtSf','PRINT_BUILDLINK','headers','windows-release','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','bs:addPlatformDetails:','getPlatformVersion','json','Linux','X-BSTACK-TESTOPS','\x20test\x20instance\x20:\x20','getSession','Kmwxf','ROMzL','KypOY','LogCreated','GMGEr','getUserName','Agent','TEST_OBSERVABILITY_BUILD_TAG','UoYVd','timeout','hdIvN','ucwde','getUserCredentials','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','ZOExD','XoSQU','app','now','BROWSERSTACK_RERUN_TESTS','CUSTOM_TAG','stack','err','platform','customTag','CUCUMBER','turboscale','fromEntries','env','ATS_HUB_URL_REGEX','Error\x20in\x20getting\x20Linux\x20Details','RRaMa','toISOString','getAccessKey','97116ZEVQnN','xSwtq','esaTa','Content-Type','gdnAN','HUB_URL_REGEX','kyIft','relative','../../../src/bin/utils/constants','CODECEPT_CUCUMBER','buildLogger','MOCHA','WZsav','yAaSI','platformName','getFrameworkVersion','nEvjK','child_process','Uploading\x20trace\x20logs\x20to:\x20','twVpH','QjUQa','filter','application/json','LeagG','silly','../../bin/utils/logPatcher','Windows','\x20:\x20','null','../../bin/v2/browserstackCLI','trim','../performance/constants','backtrace','measureWrapper','relativeTestFilePath','TEST_ATTACHMENT'];a130_0x1031=function(){return _0x42e227;};return a130_0x1031();}const httpsKeepAliveAgent=new https[(a130_0x19ce15(0x13a))](a130_0x2d2a7e),a130_0x449015={};a130_0x449015[a130_0x19ce15(0xf5)]=!![],a130_0x449015[a130_0x19ce15(0x13d)]=0xea60,a130_0x449015['maxSockets']=0x2,a130_0x449015[a130_0x19ce15(0xe3)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a130_0x19ce15(0x13a))](a130_0x449015),a130_0x46ea08={};a130_0x46ea08[a130_0x19ce15(0xf5)]=!![],a130_0x46ea08[a130_0x19ce15(0x13d)]=0xea60,a130_0x46ea08[a130_0x19ce15(0x1c5)]=0x2,a130_0x46ea08[a130_0x19ce15(0xe3)]=0x2;const httpsScreenshotsKeepAliveAgent=new https['Agent'](a130_0x46ea08);exports[a130_0x19ce15(0x1c4)]=()=>{const _0x3cb469=a130_0x19ce15,_0x57e80c={};_0x57e80c['kyIft']=function(_0x4226b5,_0x28ac4e){return _0x4226b5!==_0x28ac4e;},_0x57e80c[_0x3cb469(0x169)]=_0x3cb469(0x171);const _0x3b71c3=_0x57e80c;return process[_0x3cb469(0x14f)]['BROWSERSTACK_RERUN_TESTS']&&_0x3b71c3[_0x3cb469(0x15b)](process[_0x3cb469(0x14f)][_0x3cb469(0x146)],_0x3b71c3['QjUQa'])?!![]:![];},exports['isTestObservabilitySession']=()=>{const _0x30377d=a130_0x19ce15,_0x1abbc1={};_0x1abbc1['esaTa']=function(_0x4c761c,_0x27a60d){return _0x4c761c===_0x27a60d;},_0x1abbc1['uhieJ']='true',_0x1abbc1[_0x30377d(0x122)]=function(_0x5c5d36,_0x5c0410){return _0x5c5d36===_0x5c0410;};const _0x4740c9=_0x1abbc1;let _0x3ee061=!![];return process[_0x30377d(0x14f)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']&&(_0x3ee061=_0x4740c9[_0x30377d(0x157)](process['env'][_0x30377d(0x105)],_0x4740c9['uhieJ'])),process[_0x30377d(0x14f)][_0x30377d(0x1c1)]&&(_0x3ee061=_0x4740c9[_0x30377d(0x157)](process[_0x30377d(0x14f)][_0x30377d(0x1c1)],_0x4740c9[_0x30377d(0xf4)])),process['env'][_0x30377d(0x1c0)]&&(_0x3ee061=_0x4740c9[_0x30377d(0x122)](process['env'][_0x30377d(0x1c0)],_0x4740c9[_0x30377d(0xf4)])),_0x3ee061;},exports[a130_0x19ce15(0x1b8)]=_0x19dd23=>{const _0x245777=a130_0x19ce15;if(bsSetupHelper[_0x245777(0x1b5)](_0x19dd23))return undefined;try{return _0x19dd23[_0x245777(0x173)]()['split'](',');}catch(_0x4895b9){return undefined;}},exports[a130_0x19ce15(0x1a6)]=()=>{const _0x5f00ea=a130_0x19ce15,_0x583a34={'hdIvN':function(_0x4c9f27,_0x1d95b4){return _0x4c9f27(_0x1d95b4);},'CyHCQ':_0x5f00ea(0x172),'Efwju':function(_0x5508e1,_0x1c53cb){return _0x5508e1!==_0x1c53cb;},'ucwde':'null','Tzsbr':function(_0x59ef20,_0x9493ee){return _0x59ef20!==_0x9493ee;},'UQjlH':_0x5f00ea(0xf9)};return PerformanceTester[_0x5f00ea(0x176)](PerformanceO11yEvents[_0x5f00ea(0x129)],async()=>{const _0x3e8a9f=_0x5f00ea;try{const _0xd3c626=_0x583a34[_0x3e8a9f(0x13e)](require,_0x583a34[_0x3e8a9f(0x1c7)]);if(_0xd3c626['O11yHashedID']){const _0xbd19d8='Visit\x20'+O11Y_URL+_0x3e8a9f(0x19e)+_0xd3c626[_0x3e8a9f(0x121)]+_0x3e8a9f(0x141);buildLogger[_0x3e8a9f(0x17e)](_0xbd19d8);return;}if(process[_0x3e8a9f(0x14f)][_0x3e8a9f(0x1ce)]&&_0x583a34[_0x3e8a9f(0x115)](process[_0x3e8a9f(0x14f)][_0x3e8a9f(0x1ce)],_0x583a34[_0x3e8a9f(0x13f)])&&_0x583a34['Tzsbr'](process[_0x3e8a9f(0x14f)][_0x3e8a9f(0x1ce)],_0x583a34[_0x3e8a9f(0x1c3)])){const _0x3f6374=_0x3e8a9f(0x1a2)+constants[_0x3e8a9f(0x1cf)]+_0x3e8a9f(0x19e)+process[_0x3e8a9f(0x14f)][_0x3e8a9f(0x1ce)]+_0x3e8a9f(0x141);buildLogger[_0x3e8a9f(0x17e)](_0x3f6374);}}catch(_0x9906bd){logger[_0x3e8a9f(0x10d)](util[_0x3e8a9f(0x114)](_0x3e8a9f(0xfd)+constants[_0x3e8a9f(0x1af)]+_0x3e8a9f(0x179),new Date()[_0x3e8a9f(0x153)](),_0x9906bd[_0x3e8a9f(0x148)]||_0x9906bd[_0x3e8a9f(0x1a9)]||_0x9906bd));}})();},exports[a130_0x19ce15(0x1b9)]=_0x3f672a=>{const _0x4b7bbd=a130_0x19ce15,_0x2f5797={};_0x2f5797[_0x4b7bbd(0x1ea)]=_0x4b7bbd(0x1d1),_0x2f5797['LeagG']=_0x4b7bbd(0x103);const _0x23f91b=_0x2f5797;if(!_0x3f672a)return null;return _0x3f672a[_0x4b7bbd(0x18a)]()[_0x4b7bbd(0x1eb)](/AssertionError/)?_0x23f91b[_0x4b7bbd(0x1ea)]:_0x23f91b[_0x4b7bbd(0x16c)];},exports[a130_0x19ce15(0x164)]=_0x141010=>{const _0x5606f6=a130_0x19ce15,_0x3f9724={};_0x3f9724[_0x5606f6(0x180)]=_0x5606f6(0xe0),_0x3f9724['byVun']='@playwright/test',_0x3f9724[_0x5606f6(0x135)]=_0x5606f6(0xf6),_0x3f9724['cExFP']=_0x5606f6(0x1c9),_0x3f9724[_0x5606f6(0x1d6)]=_0x5606f6(0x18d);const _0x24ceee=_0x3f9724;let _0x22a373=null;switch(_0x141010){case FRAMEWORKS[_0x5606f6(0x160)]:_0x22a373=bsSetupHelper[_0x5606f6(0x1a5)](_0x24ceee['pzYol']);break;case FRAMEWORKS[_0x5606f6(0x1ed)]:_0x22a373=bsSetupHelper[_0x5606f6(0x1a5)](_0x24ceee['byVun']);break;case FRAMEWORKS['CODECEPT']:case FRAMEWORKS[_0x5606f6(0x15e)]:_0x22a373=bsSetupHelper[_0x5606f6(0x1a5)](_0x24ceee[_0x5606f6(0x135)]);break;case FRAMEWORKS[_0x5606f6(0xe5)]:_0x22a373=bsSetupHelper['getPackageVersion'](_0x24ceee[_0x5606f6(0x17d)]);break;case FRAMEWORKS[_0x5606f6(0x14c)]:_0x22a373=bsSetupHelper['getPackageVersion'](_0x24ceee[_0x5606f6(0x1d6)]);break;default:break;}return _0x22a373;},exports[a130_0x19ce15(0xfe)]=_0x25ff57=>{const _0x16984f=a130_0x19ce15;let _0x404c33=null;switch(_0x25ff57){case FRAMEWORKS['PLAYWRIGHT']:_0x404c33=process['env'][_0x16984f(0xff)];break;}if(!_0x404c33)return;return bsSetupHelper['readConfig'](_0x404c33,![]);},exports[a130_0x19ce15(0x140)]=_0x25f637=>{const _0x4fb8fb=a130_0x19ce15;return{'username':bsSetupHelper[_0x4fb8fb(0x139)](_0x25f637),'accessKey':bsSetupHelper[_0x4fb8fb(0x154)](_0x25f637)};},exports[a130_0x19ce15(0xe2)]=(_0x5f53d1,_0x1ac253)=>{const _0x5547f3=a130_0x19ce15,_0x2251eb={};_0x2251eb[_0x5547f3(0x142)]=_0x5547f3(0xed),_0x2251eb[_0x5547f3(0x143)]=_0x5547f3(0x137),_0x2251eb[_0x5547f3(0x1d0)]=_0x5547f3(0x178);const _0x38d727=_0x2251eb,_0x2fa39c=_0x38d727[_0x5547f3(0x142)][_0x5547f3(0x1be)]('|');let _0x57713a=0x0;while(!![]){switch(_0x2fa39c[_0x57713a++]){case'0':delete _0x5f53d1[_0x5547f3(0x12f)];continue;case'1':if(!_0x5f53d1[_0x5547f3(0x10e)][0x0]||!_0x5f53d1[_0x5547f3(0x10e)][0x0][_0x5547f3(0x108)]||!_0x5f53d1['body'][0x0][_0x5547f3(0x108)][_0x5547f3(0x19c)])return;continue;case'2':delete _0x1ac253[_0x5547f3(0x12a)];continue;case'3':delete _0x5f53d1['body'];continue;case'4':if(!_0x5f53d1['body']||!Array['isArray'](_0x5f53d1[_0x5547f3(0x10e)]))return;continue;case'5':_0x5f53d1[_0x5547f3(0x184)]={'data':_0x5f53d1[_0x5547f3(0x10e)][0x0][_0x5547f3(0x108)][0x0][_0x5547f3(0x1b4)],'test_run_uuid':_0x5f53d1[_0x5547f3(0x10e)][0x0][_0x5547f3(0x108)][0x0]['test_run_uuid'],'event_type':_0x38d727[_0x5547f3(0x143)],'kind':_0x38d727[_0x5547f3(0x1d0)],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x5547f3(0x153)](),'fileName':_0x5f53d1[_0x5547f3(0x10e)][0x0]['logs'][0x0][_0x5547f3(0x101)]};continue;}break;}},exports['asyncAwaitNodeReq']=async(_0x14e313,_0x1954e8,_0x5ce164,_0x431abe,_0x22b5ca=!![])=>{const _0x2c8088=a130_0x19ce15,_0x2a4c9d={};_0x2a4c9d['IJKfm']=function(_0x53fc0c,_0x8a52ef){return _0x53fc0c===_0x8a52ef;},_0x2a4c9d[_0x2c8088(0x156)]=_0x2c8088(0x158),_0x2a4c9d[_0x2c8088(0x1e3)]=_0x2c8088(0x16b),_0x2a4c9d[_0x2c8088(0x119)]=_0x2c8088(0x1b2),_0x2a4c9d[_0x2c8088(0x18c)]=function(_0xd62906,_0x4a4bf5){return _0xd62906!==_0x4a4bf5;},_0x2a4c9d[_0x2c8088(0x17f)]=function(_0x5c7193,_0xebfcbd){return _0x5c7193!==_0xebfcbd;},_0x2a4c9d['iCAhW']=_0x2c8088(0x1e6),_0x2a4c9d[_0x2c8088(0x11b)]=_0x2c8088(0xf3);const _0x281d3f=_0x2a4c9d,_0x54c26e={..._0x431abe,...{'method':_0x14e313,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x1954e8,'body':_0x5ce164,'json':_0x281d3f[_0x2c8088(0x10c)](_0x431abe[_0x2c8088(0x12a)][_0x281d3f[_0x2c8088(0x156)]],_0x281d3f[_0x2c8088(0x1e3)]),'agent':API_URL[_0x2c8088(0x1cb)](_0x281d3f['Qrnbv'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x281d3f['IJKfm'](_0x1954e8,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x54c26e['agent']=API_URL[_0x2c8088(0x1cb)](_0x281d3f[_0x2c8088(0x119)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x2c8088(0xe2)](_0x54c26e,_0x431abe),logger['debug'](_0x2c8088(0x167)+_0x54c26e[_0x2c8088(0x1d3)]));try{const {statusCode:_0x39108e,body:_0x2dd950}=await bsSetupHelper[_0x2c8088(0x10f)](_0x14e313,_0x1954e8,_0x54c26e,_0x431abe,_0x54c26e['url']);if(_0x281d3f[_0x2c8088(0x18c)](_0x39108e,0xc8))return _0x2dd950?_0x2dd950:_0x2c8088(0x12c)+_0x39108e;let _0x1c07c8=_0x2dd950;if(_0x22b5ca)try{_0x281d3f[_0x2c8088(0x17f)](typeof _0x2dd950,_0x281d3f['iCAhW'])&&(_0x1c07c8=JSON[_0x2c8088(0x1bf)](_0x2dd950));}catch(_0x1c7893){logger[_0x2c8088(0x10d)](_0x281d3f[_0x2c8088(0x11b)],_0x2dd950,util[_0x2c8088(0x114)](_0x1c7893));}const _0x3af530={};return _0x3af530[_0x2c8088(0x1b4)]=_0x1c07c8,_0x3af530;}catch(_0x3bf4ff){logger[_0x2c8088(0x10d)]('Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20'+util[_0x2c8088(0x114)](_0x3bf4ff));throw _0x3bf4ff;}},exports[a130_0x19ce15(0x10f)]=(_0x124181,_0x23cd74,_0x3688bf,_0x5938c3,_0x3f871c=!![])=>{const _0x31fcab=a130_0x19ce15,_0x150486={'zPoKU':function(_0x21c869,_0xd34c5){return _0x21c869!==_0xd34c5;},'SMOnE':function(_0x5261af,_0x4bf82b){return _0x5261af(_0x4bf82b);},'HsuYU':'object','xjWrx':'Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','pmfwi':function(_0x206538,_0x4b1aa8){return _0x206538(_0x4b1aa8);},'pbcEZ':function(_0x2d6a16,_0xc512a9){return _0x2d6a16(_0xc512a9);},'EkmHO':function(_0x4bf376,_0xc5b4b7){return _0x4bf376===_0xc5b4b7;},'UoYVd':_0x31fcab(0x158),'QDdqr':_0x31fcab(0x16b),'IVqWg':_0x31fcab(0x1b2)};return new Promise((_0x123aef,_0x2af1ea)=>{const _0x2060dc=_0x31fcab,_0x1c7068={..._0x5938c3,...{'method':_0x124181,'url':API_URL+'/'+_0x23cd74,'body':_0x3688bf,'json':_0x150486['EkmHO'](_0x5938c3['headers'][_0x150486[_0x2060dc(0x13c)]],_0x150486['QDdqr']),'agent':API_URL[_0x2060dc(0x1cb)](_0x150486[_0x2060dc(0x1e4)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x150486[_0x2060dc(0x1cc)](_0x23cd74,SCREENSHOT_ENDPOINT)&&(_0x1c7068[_0x2060dc(0x11a)]=API_URL[_0x2060dc(0x1cb)](_0x150486[_0x2060dc(0x1e4)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x2060dc(0x10f)](_0x124181,_0x23cd74,_0x1c7068,_0x5938c3,API_URL)['then'](({statusCode:_0x149024,body:_0x312855})=>{const _0x3fa332=_0x2060dc;if(_0x150486['zPoKU'](_0x149024,0xc8))_0x150486[_0x3fa332(0x1f0)](_0x2af1ea,_0x312855?_0x312855:_0x3fa332(0x12c)+_0x149024);else{if(_0x3f871c)try{_0x150486['zPoKU'](typeof _0x312855,_0x150486['HsuYU'])&&(_0x312855=JSON[_0x3fa332(0x1bf)](_0x312855));}catch(_0x16c0dd){_0x150486[_0x3fa332(0x1f0)](_0x2af1ea,_0x150486[_0x3fa332(0xdd)]);return;}const _0x570d57={};_0x570d57[_0x3fa332(0x1b4)]=_0x312855,_0x150486['pmfwi'](_0x123aef,_0x570d57);}})['catch'](_0x18cf05=>{const _0x5557dd=_0x2060dc;_0x18cf05&&_0x150486[_0x5557dd(0xf8)](_0x2af1ea,_0x18cf05);});});},exports[a130_0x19ce15(0x1d7)]=_0xa44095=>{const _0x5b75b8=a130_0x19ce15;if(process[_0x5b75b8(0x14f)]['TEST_REPORTING_BUILD_TAG'])return process[_0x5b75b8(0x14f)][_0x5b75b8(0x185)][_0x5b75b8(0x1be)](',');if(process['env']['TEST_OBSERVABILITY_BUILD_TAG'])return process[_0x5b75b8(0x14f)][_0x5b75b8(0x13b)][_0x5b75b8(0x1be)](',');if(_0xa44095[_0x5b75b8(0x111)])return _0xa44095[_0x5b75b8(0x111)];return[];},exports[a130_0x19ce15(0x1ee)]=(_0xfd63a6=!![])=>{const _0x2b566e=a130_0x19ce15,_0x37e031={};_0x37e031[_0x2b566e(0x1e2)]=_0x2b566e(0x16b),_0x37e031[_0x2b566e(0x1ad)]=_0x2b566e(0x1a3),_0x37e031[_0x2b566e(0xfc)]=_0x2b566e(0x106);const _0x2c8479=_0x37e031,_0x869e9e={};_0x869e9e[_0x2b566e(0x158)]=_0x2c8479[_0x2b566e(0x1e2)],_0x869e9e[_0x2b566e(0x131)]=_0x2c8479['gOmoT'];const _0x5523aa=_0x869e9e;return _0xfd63a6&&process[_0x2b566e(0x14f)]['BROWSERSTACK_TESTHUB_JWT']&&(_0x5523aa[_0x2c8479[_0x2b566e(0xfc)]]='Bearer\x20'+process[_0x2b566e(0x14f)]['BROWSERSTACK_TESTHUB_JWT']),_0x5523aa;},exports['extractValuesWithRegexKeyMatch']=_0x4a96ea=>{const _0x31d206=a130_0x19ce15,_0x24ce30={};_0x24ce30[_0x31d206(0x1d8)]='^CUSTOM_TAG_\x5cd+$';const _0x259d7e=_0x24ce30,_0x54b401=[],_0x3571ba=new RegExp(_0x259d7e['OKKfJ'],'i');return Object[_0x31d206(0x1d2)](_0x4a96ea)[_0x31d206(0x16a)](_0x148a18=>_0x3571ba[_0x31d206(0x1de)](_0x148a18))[_0x31d206(0x124)](_0x21fc0c=>_0x54b401[_0x31d206(0x19f)](_0x4a96ea[_0x21fc0c])),_0x54b401;},exports['getCustomTags']=_0x462b14=>{const _0x1751ae=a130_0x19ce15,_0x36b058=[],_0x38244c=_0x462b14[_0x1751ae(0x14b)]||process['env'][_0x1751ae(0x147)];return _0x38244c&&_0x36b058['push'](_0x38244c),_0x36b058[_0x1751ae(0x19f)](...exports[_0x1751ae(0x1d4)](process[_0x1751ae(0x14f)])),_0x36b058['push'](...exports[_0x1751ae(0x1d4)](_0x462b14)),_0x36b058;},exports[a130_0x19ce15(0x194)]=_0x1a99aa=>{const _0x69b24a=a130_0x19ce15;if(!_0x1a99aa)return'';return _0x1a99aa[_0x69b24a(0xe1)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports['sleep']=(_0x2ff280=0x64)=>new Promise(_0x34be15=>setTimeout(_0x34be15,_0x2ff280));const getPlatformName=()=>{const _0x594ded=a130_0x19ce15,_0x28075d={};_0x28075d[_0x594ded(0x117)]=function(_0x397d83,_0x2656fb){return _0x397d83===_0x2656fb;},_0x28075d[_0x594ded(0x136)]=_0x594ded(0xd9),_0x28075d[_0x594ded(0x120)]=_0x594ded(0x16f),_0x28075d[_0x594ded(0x189)]='darwin',_0x28075d[_0x594ded(0x18b)]=_0x594ded(0x198),_0x28075d[_0x594ded(0x161)]=_0x594ded(0x1e0),_0x28075d[_0x594ded(0x1d9)]=_0x594ded(0x130),_0x28075d[_0x594ded(0xf0)]='Unknown';const _0x2cf827=_0x28075d;if(_0x2cf827[_0x594ded(0x117)](process[_0x594ded(0x14a)],_0x2cf827['KypOY']))return _0x2cf827[_0x594ded(0x120)];if(_0x2cf827[_0x594ded(0x117)](process[_0x594ded(0x14a)],_0x2cf827['dHdKu']))return _0x2cf827[_0x594ded(0x18b)];if(_0x2cf827[_0x594ded(0x117)](process[_0x594ded(0x14a)],_0x2cf827[_0x594ded(0x161)]))return _0x2cf827[_0x594ded(0x1d9)];return _0x2cf827['Tagzc'];},getMacOSVersion=()=>{const _0x5f2482=a130_0x19ce15,_0x40baae={};_0x40baae['LpXdn']=_0x5f2482(0x19d);const _0x5e694c=_0x40baae;return child_process['execSync'](_0x5e694c[_0x5f2482(0x1bc)])[_0x5f2482(0x18a)]()['trim']();},getLinuxDetails=()=>{const _0x58c8be={'XBtSf':function(_0x292d09,_0x2597db){return _0x292d09(_0x2597db);},'PjEHg':function(_0x222b47,_0x3d34a4){return _0x222b47(_0x3d34a4);}};return new Promise((_0x26747e,_0x1c56de)=>{const _0x4505ef={'NeBkb':function(_0x591bd6,_0xeae571){const _0x3c7811=a130_0x52ce;return _0x58c8be[_0x3c7811(0x128)](_0x591bd6,_0xeae571);}};_0x58c8be['PjEHg'](getos,(_0x5733b3,_0x3dacb4)=>{const _0xf6ed59=a130_0x52ce;if(_0x5733b3)return _0x4505ef[_0xf6ed59(0x1da)](_0x1c56de,_0x5733b3);_0x4505ef['NeBkb'](_0x26747e,_0x3dacb4);});});};function a130_0x52ce(_0x5317ae,_0x4f6c15){const _0x103132=a130_0x1031();return a130_0x52ce=function(_0x52ce4b,_0x48fa04){_0x52ce4b=_0x52ce4b-0xd7;let _0x50a820=_0x103132[_0x52ce4b];return _0x50a820;},a130_0x52ce(_0x5317ae,_0x4f6c15);}exports['getPlatformDetails']=async()=>{const _0x12842e=a130_0x19ce15,_0x133aab={'aTnrm':function(_0x5ad35f){return _0x5ad35f();},'XQQYW':'OS\x20X','DsfTq':'Windows','RkCsA':_0x12842e(0x12b),'ivLXF':function(_0x53a31e){return _0x53a31e();},'dVJUx':_0x12842e(0x130),'Kmwxf':function(_0x50eef0){return _0x50eef0();},'UiQLR':_0x12842e(0x151)};let _0x27543e=_0x133aab[_0x12842e(0xeb)](getPlatformName),_0x122922=os[_0x12842e(0x1e7)]()[_0x12842e(0x18a)]();switch(_0x27543e){case _0x133aab['XQQYW']:_0x122922=_0x133aab[_0x12842e(0xeb)](getMacOSVersion);break;case _0x133aab[_0x12842e(0xfa)]:try{const _0x24c181=(await import(_0x133aab[_0x12842e(0x192)]))[_0x12842e(0x1b1)];_0x122922=_0x133aab[_0x12842e(0x10a)](_0x24c181);}catch(_0x334954){exports['debug'](_0x12842e(0xdb)+_0x334954[_0x12842e(0x18a)]());}break;case _0x133aab[_0x12842e(0x1dc)]:try{const _0x4485e4=await _0x133aab[_0x12842e(0x134)](getLinuxDetails);_0x4485e4['dist']&&(_0x27543e=_0x4485e4[_0x12842e(0x112)]),_0x4485e4[_0x12842e(0x1e7)]&&(_0x122922=_0x4485e4[_0x12842e(0x1e7)]['toString']());}catch(_0x41a157){exports['debug'](_0x133aab[_0x12842e(0x107)]);}break;default:break;}const _0x1aa414={};return _0x1aa414[_0x12842e(0x163)]=_0x27543e,_0x1aa414[_0x12842e(0x1bd)]=_0x122922,_0x1aa414;},exports['failureData']=(_0x4fcbc3,_0x22c9dd)=>{const _0x26d322=a130_0x19ce15,_0x2f85d2={};_0x2f85d2[_0x26d322(0x138)]=function(_0x5b605e,_0x2d4e98){return _0x5b605e===_0x2d4e98;},_0x2f85d2[_0x26d322(0x102)]=_0x26d322(0x1de),_0x2f85d2['LbsuW']=_0x26d322(0x149);const _0x36db2c=_0x2f85d2;if(!_0x4fcbc3)return[];try{if(_0x36db2c[_0x26d322(0x138)](_0x22c9dd,_0x36db2c[_0x26d322(0x102)]))return _0x4fcbc3[_0x26d322(0x1a0)](_0x338aa1=>{const _0x375d52=_0x26d322,{stack:_0x15e91e,..._0x57cebb}=_0x338aa1,_0x3354ff=Object[_0x375d52(0x1d2)](_0x57cebb)[_0x375d52(0x1a0)](_0x3a7201=>{return _0x3a7201+':\x20'+_0x57cebb[_0x3a7201];}),_0x2ca867=_0x15e91e?exports['removeAnsiColors'](_0x15e91e)['split'](/\r?\n/):[exports[_0x375d52(0x194)](_0x338aa1[_0x375d52(0x1a9)])],_0x116f9f={};return _0x116f9f[_0x375d52(0x175)]=_0x2ca867,_0x116f9f[_0x375d52(0x19a)]=_0x3354ff,_0x116f9f;});else{if(_0x36db2c[_0x26d322(0x138)](_0x22c9dd,_0x36db2c[_0x26d322(0x1e8)])){const _0x4adcbd=[],_0x101fdf=[];return Object[_0x26d322(0x1d2)](_0x4fcbc3)[_0x26d322(0x124)](_0x45bd3f=>{const _0x1f2f8b=_0x26d322;try{_0x101fdf['push'](_0x45bd3f+':\x20'+_0x4fcbc3[_0x45bd3f]);}catch(_0x3ef71d){exports[_0x1f2f8b(0x116)](_0x1f2f8b(0x1a4)+_0x3ef71d[_0x1f2f8b(0x1a9)]+'\x20:\x20'+_0x3ef71d['backtrace']);}}),_0x4adcbd[_0x26d322(0x19f)]({'backtrace':exports[_0x26d322(0x194)](_0x4fcbc3[_0x26d322(0x148)])[_0x26d322(0x1be)](/\r?\n/),'expanded':_0x101fdf}),_0x4adcbd;}}return[];}catch(_0x40044a){exports[_0x26d322(0x116)](_0x26d322(0x1a4)+_0x40044a['message']+_0x26d322(0x170)+_0x40044a[_0x26d322(0x175)]);}return[];};class PathHelper{constructor(_0x33a27b,_0x64a37e){const _0x3020f1=a130_0x19ce15;this['config']=_0x33a27b,this[_0x3020f1(0x195)]=_0x64a37e;}[a130_0x19ce15(0x177)](_0x525927){const _0x3c854d=a130_0x19ce15,_0x1805b4=this[_0x3c854d(0x1b7)][_0x3c854d(0x100)]||this[_0x3c854d(0x1b7)][_0x3c854d(0x197)];return path[_0x3c854d(0x15c)](_0x1805b4,_0x525927);}[a130_0x19ce15(0x1ca)](_0xd92cc6){const _0x5cffc3=a130_0x19ce15,_0x579bea=this[_0x5cffc3(0x177)](_0xd92cc6);return this[_0x5cffc3(0x195)]?path[_0x5cffc3(0xdf)](this[_0x5cffc3(0x195)],_0x579bea):_0x579bea;}}exports[a130_0x19ce15(0x188)]=PathHelper,exports['addRequestSpy']=(_0x339165=!![])=>{const _0x542866=a130_0x19ce15,_0x5d846e={};_0x5d846e[_0x542866(0x1aa)]=function(_0x36f9fc,_0x58c59b){return _0x36f9fc===_0x58c59b;},_0x5d846e[_0x542866(0x187)]='X-BSTACK-TESTOPS',_0x5d846e[_0x542866(0x11e)]=_0x542866(0x1a3),_0x5d846e['Azkfu']=_0x542866(0x11f),_0x5d846e[_0x542866(0x1a1)]=_0x542866(0xea),_0x5d846e[_0x542866(0x1a7)]=_0x542866(0x19b);const _0x167024=_0x5d846e;requestSpy[_0x542866(0x1b3)]((_0x48c1b5,_0x31bfa7)=>{const _0x5256f5=_0x542866;_0x31bfa7&&!(_0x31bfa7[_0x5256f5(0x12a)]&&_0x167024[_0x5256f5(0x1aa)](_0x31bfa7[_0x5256f5(0x12a)][_0x167024[_0x5256f5(0x187)]],_0x167024['RQsCn']))&&(_0x31bfa7['host']=_0x31bfa7[_0x5256f5(0x1ef)],delete _0x31bfa7[_0x5256f5(0x1ef)],_0x339165&&process[_0x5256f5(0x1ba)](_0x5256f5(0x193)+process[_0x5256f5(0x1b6)],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x167024['Azkfu'],'http_response':_0x31bfa7})),_0x31bfa7&&(constants[_0x5256f5(0x15a)][_0x5256f5(0x1de)](_0x31bfa7[_0x5256f5(0x17a)])||constants[_0x5256f5(0x150)][_0x5256f5(0x1de)](_0x31bfa7[_0x5256f5(0x17a)]))?global[_0x5256f5(0x127)]=_0x167024[_0x5256f5(0x1a1)]:global[_0x5256f5(0x127)]=_0x167024['UMpNf'];});},exports['patchConsoleLogger']=()=>{const _0x14df68=a130_0x19ce15,_0x3eb04f={'ZafQM':function(_0x2caf1d,_0x1bc93c){return _0x2caf1d(_0x1bc93c);}};console={},Object[_0x14df68(0x1d2)](consoleHolder)[_0x14df68(0x124)](_0x457f7b=>{_0x3eb04f['ZafQM'](isFunction,consoleHolder[_0x457f7b])?console[_0x457f7b]=(..._0x54442d)=>{const _0x5a27d8=a130_0x52ce;try{!Object[_0x5a27d8(0x1d2)](BSTestOpsPatcher)[_0x5a27d8(0x1cb)](_0x457f7b)?consoleHolder[_0x457f7b](..._0x54442d):BSTestOpsPatcher[_0x457f7b](..._0x54442d);}catch(_0x2710d2){consoleHolder[_0x457f7b](..._0x54442d);}}:console[_0x457f7b]=consoleHolder[_0x457f7b];});},exports[a130_0x19ce15(0xe7)]=()=>a130_0x19ce15(0x125)+JSON[a130_0x19ce15(0xfb)]({'action':a130_0x19ce15(0xef),'arguments':{'data':'ObservabilitySync:'+Date[a130_0x19ce15(0x145)](),'level':'debug'}}),exports[a130_0x19ce15(0x1c6)]=_0x5e99c7=>{const _0x412f06=a130_0x19ce15,_0x16fe3a={};_0x16fe3a[_0x412f06(0x165)]=function(_0x4cffd8,_0x181118){return _0x4cffd8===_0x181118;},_0x16fe3a[_0x412f06(0x1f1)]=_0x412f06(0xea),_0x16fe3a['IyotH']=_0x412f06(0x104),_0x16fe3a['gdnAN']=_0x412f06(0x144),_0x16fe3a[_0x412f06(0x109)]=function(_0x194267,_0x7b1e09){return _0x194267>_0x7b1e09;},_0x16fe3a['yAaSI']=_0x412f06(0x1d5),_0x16fe3a['bfJuJ']=_0x412f06(0x17c),_0x16fe3a[_0x412f06(0x11d)]=_0x412f06(0x123),_0x16fe3a[_0x412f06(0x11c)]=_0x412f06(0x14d),_0x16fe3a[_0x412f06(0x1bb)]=_0x412f06(0x182);const _0x50c756=_0x16fe3a;let _0x1fe60a=null;try{if(_0x50c756['nEvjK'](global[_0x412f06(0x127)],_0x50c756['pwaQK'])){if(_0x5e99c7[_0x50c756[_0x412f06(0x190)]]||_0x5e99c7[_0x50c756[_0x412f06(0x159)]]||!bsSetupHelper[_0x412f06(0x1b5)](global[_0x412f06(0xe9)])&&_0x50c756['pNOqV'](global[_0x412f06(0xe9)][_0x412f06(0x19c)],0x0)&&(global[_0x412f06(0xe9)][0x0][_0x50c756[_0x412f06(0x159)]]||global[_0x412f06(0xe9)][0x0][_0x50c756[_0x412f06(0x190)]]))_0x1fe60a=_0x50c756[_0x412f06(0x162)];else _0x5e99c7[_0x50c756['bfJuJ']]&&_0x5e99c7[_0x50c756['bfJuJ']][_0x50c756[_0x412f06(0x11d)]]?_0x1fe60a=_0x50c756[_0x412f06(0x11c)]:_0x1fe60a=_0x50c756[_0x412f06(0x1bb)];}}catch(_0x2e162d){exports['debug'](_0x412f06(0x1dd)+constants['TEST_REPORTING_ANALYTICS']+_0x412f06(0x132)+_0x2e162d);}return _0x1fe60a;},exports[a130_0x19ce15(0x1ae)]=async(_0x3f48b1,_0x29e51e,_0x2c063c=![])=>{const _0x218bb4=a130_0x19ce15,_0x3f4b8e={};_0x3f4b8e['RRaMa']=function(_0xf1715c,_0x6ec6bc){return _0xf1715c===_0x6ec6bc;},_0x3f4b8e[_0x218bb4(0x126)]=_0x218bb4(0xea),_0x3f4b8e['XCrsu']='unknown_grid',_0x3f4b8e[_0x218bb4(0x183)]=_0x218bb4(0xda);const _0x381649=_0x3f4b8e;try{const _0x5d52d8=await _0x3f48b1[_0x218bb4(0x1ec)](),_0x210af2=await _0x3f48b1[_0x218bb4(0x133)](),_0x581f52={},_0x2a2b1b=Object[_0x218bb4(0x14e)](_0x210af2[_0x218bb4(0x1ec)]()[_0x218bb4(0xf2)]),_0x333496={'product':exports[_0x218bb4(0x1c6)](_0x2a2b1b),'capabilities':_0x2a2b1b,'platform':_0x5d52d8[_0x218bb4(0x181)](),'platform_version':bsSetupHelper[_0x218bb4(0x12e)](_0x381649[_0x218bb4(0x152)](global[_0x218bb4(0x127)],_0x381649['KCLJQ'])),'browser':_0x5d52d8[_0x218bb4(0x1ac)](),'browser_version':_0x5d52d8[_0x218bb4(0x199)](),'session_id':_0x210af2[_0x218bb4(0x1df)]()};global['__cloud_provider___']?_0x581f52[global[_0x218bb4(0x127)]]=_0x333496:_0x581f52[_0x381649[_0x218bb4(0xee)]]=_0x333496;if(_0x2c063c)return _0x581f52;process[_0x218bb4(0x1ba)](_0x218bb4(0x12d)+process['pid'],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0x381649[_0x218bb4(0x183)],'http_response':_0x581f52,'uuid':_0x29e51e});}catch(_0x56ad46){exports[_0x218bb4(0x116)](_0x218bb4(0xe8)+_0x56ad46);}},exports[a130_0x19ce15(0x1e5)]=_0x5c62f4=>{const _0x4d1784=a130_0x19ce15;return _0x5c62f4&&_0x5c62f4[_0x4d1784(0x18a)]()['match'](/browserstack internal helper hook/);};