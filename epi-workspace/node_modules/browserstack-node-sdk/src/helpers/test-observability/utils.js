const a88_0x16a540=a88_0x2eca;function a88_0x2eca(_0x465670,_0x14d640){const _0x379445=a88_0x3794();return a88_0x2eca=function(_0x2eca90,_0x28a29a){_0x2eca90=_0x2eca90-0x101;let _0x172422=_0x379445[_0x2eca90];return _0x172422;},a88_0x2eca(_0x465670,_0x14d640);}(function(_0x51d119,_0x4318e9){const _0x1727e8=a88_0x2eca,_0x39d44e=_0x51d119();while(!![]){try{const _0x554922=-parseInt(_0x1727e8(0x186))/0x1*(-parseInt(_0x1727e8(0x19f))/0x2)+parseInt(_0x1727e8(0x145))/0x3+parseInt(_0x1727e8(0x15c))/0x4*(parseInt(_0x1727e8(0x1f2))/0x5)+-parseInt(_0x1727e8(0x202))/0x6*(-parseInt(_0x1727e8(0x127))/0x7)+-parseInt(_0x1727e8(0x104))/0x8*(parseInt(_0x1727e8(0x130))/0x9)+-parseInt(_0x1727e8(0x193))/0xa*(parseInt(_0x1727e8(0x1b0))/0xb)+-parseInt(_0x1727e8(0x151))/0xc*(-parseInt(_0x1727e8(0x1a3))/0xd);if(_0x554922===_0x4318e9)break;else _0x39d44e['push'](_0x39d44e['shift']());}catch(_0x5cdfb9){_0x39d44e['push'](_0x39d44e['shift']());}}}(a88_0x3794,0xec3a9));const fs=require('fs'),path=require(a88_0x16a540(0x12d)),gitLastCommit=require(a88_0x16a540(0x11c)),getRepoInfo=require(a88_0x16a540(0x10d)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require('./constants'),http=require(a88_0x16a540(0x142)),https=require(a88_0x16a540(0x1be)),child_process=require(a88_0x16a540(0x1e5)),getos=require('getos'),os=require('os'),logger=require(a88_0x16a540(0x18d))[a88_0x16a540(0x1a9)],bsSetupHelper=require(a88_0x16a540(0x208)),requestSpy=require(a88_0x16a540(0x1e2)),constants=require(a88_0x16a540(0x132)),logPatcher=require(a88_0x16a540(0x114)),util=require(a88_0x16a540(0x1eb)),{fileLogger}=require(a88_0x16a540(0x18d)),PerformanceTester=require(a88_0x16a540(0x14c)),{isFunction}=require('lodash'),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require('../performance/constants');exports['trace']=_0xec069a=>{const _0x11e4af=a88_0x16a540;fileLogger[_0x11e4af(0x136)]('['+new Date()[_0x11e4af(0x118)]()+'][\x20OBSERVABILITY\x20]\x20'+_0xec069a);},exports[a88_0x16a540(0x1c7)]=_0x41763c=>{const _0x53e23a=a88_0x16a540,_0x4383d2={};_0x4383d2[_0x53e23a(0x1ae)]=function(_0x272be5,_0x92506d){return _0x272be5===_0x92506d;},_0x4383d2[_0x53e23a(0x13f)]='true';const _0x2c40d9=_0x4383d2;fileLogger[_0x53e23a(0x1c7)]('['+new Date()[_0x53e23a(0x118)]()+'][\x20OBSERVABILITY\x20]\x20'+_0x41763c),(_0x2c40d9[_0x53e23a(0x1ae)](process[_0x53e23a(0x163)][_0x53e23a(0x195)],_0x2c40d9[_0x53e23a(0x13f)])||_0x2c40d9[_0x53e23a(0x1ae)](process[_0x53e23a(0x163)]['BROWSERSTACK_OBSERVABILITY_DEBUG'],'1'))&&consoleHolder['log']('\x0a['+new Date()[_0x53e23a(0x118)]()+_0x53e23a(0x1fe)+_0x41763c+'\x0a');};const a88_0x44667f={};a88_0x44667f[a88_0x16a540(0x15e)]=!![],a88_0x44667f[a88_0x16a540(0x1ed)]=0xea60,a88_0x44667f[a88_0x16a540(0x1ce)]=0x2,a88_0x44667f[a88_0x16a540(0x1ee)]=0x2;const httpKeepAliveAgent=new http[(a88_0x16a540(0x1b2))](a88_0x44667f),a88_0xdefac2={};a88_0xdefac2['keepAlive']=!![],a88_0xdefac2[a88_0x16a540(0x1ed)]=0xea60,a88_0xdefac2[a88_0x16a540(0x1ce)]=0x2,a88_0xdefac2[a88_0x16a540(0x1ee)]=0x2;const httpsKeepAliveAgent=new https['Agent'](a88_0xdefac2),a88_0xf0afef={};a88_0xf0afef[a88_0x16a540(0x15e)]=!![],a88_0xf0afef[a88_0x16a540(0x1ed)]=0xea60,a88_0xf0afef[a88_0x16a540(0x1ce)]=0x2,a88_0xf0afef[a88_0x16a540(0x1ee)]=0x2;function a88_0x3794(){const _0x11cbf9=['X-BSTACK-TESTOPS','test_run_uuid','patchConsoleLogger','4373084EpsCbj','NFBpF','keepAlive','windows-release','aOofb','TEST_PLATFORM','sOvvj','env','Content-Type','CUCUMBER','__cloud_provider___','vdHUE','CUSTOM_TAG','AyFDN','GYRvk','hqUwi','vcAGy','info','automate','jest','Error\x20in\x20importing\x20windows-release\x20','tUqkN','ThnBU','XdAAe','MXqGg','cehAk','annotate','prefixTestPath','mocha','nrsjW','getUserCredentials','shouldReRunObservabilityTests','HUB_URL_REGEX','isTestObservabilitySession','@cucumber/cucumber','map_','app','modifyReqForTraceUpload','url','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','lqZKk','Windows','7pVcjap','NoJuX','win32','measureWrapper','Unknown','getPackageVersion','eLzzW','../logger','platform','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','BROWSERSTACK_TEST_OBSERVABILITY_YML','MOCHA','PWhxO','10dzztww','][\x20OBSERVABILITY\x20]\x20Build\x20Not\x20Found','BROWSERSTACK_OBSERVABILITY_DEBUG','fileName','browserstack_executor:\x20','BROWSERSTACK_TESTHUB_JWT','application/json','backtrace','HhFdB','tOrrO','BS_TESTOPS_BUILD_HASHED_ID','CODECEPT','398812qaQBdM','appium:app','gLCmA','format','910754AYHzSm','pid','rqQyO','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','EopBK','hostname','winstonLogger','VJwRj','then','customTag','getCapabilities','JGYHZ','ZJfer','20196902mqWzVb','Error\x20in\x20getting\x20Linux\x20Details','Agent','zSyuZ','failureData','headers','getCustomTags','JeqRB','ZVfMm','turboScaleGridDetails','Bearer\x20','cwd','ATS_HUB_URL_REGEX','body','https','isUndefined','emit','forEach','Stpym','ObservabilitySync:','getBuildTags','yYdfe','prefix','debug','getPlatformDetails','toString','Visit\x20https://observability.browserstack.com/builds/','getSyncScript','osguu','^CUSTOM_TAG_\x5cd+$','maxSockets','readConfig','TEST_ATTACHMENT','fromEntries','tpwNg','platformName','KczmG','rxiYk','dist','fVJFX','getFrameworkVersion','PathHelper','join','getUserName','BROWSERSTACK_RERUN_TESTS','split','junLs','jbzNA','err','BROWSERSTACK_TEST_OBSERVABILITY','../../helpers/request-spy','OAnpR','@playwright/test','child_process','push','UnhandledError','qFguB','getBrowserVersion','getDefaultHeaders','util','wkDbC','timeout','maxTotalSockets','pbjSt','JQAgH','KSQmg','5JBrUOS','xsjJo','test','QfuTe','parse','LcwPY','Failed\x20to\x20determine\x20product\x20linked\x20to\x20Observability\x20test\x20instance\x20:\x20','mczxE','capabilities','bkNJu','DiXTp','JEST','][\x20OBSERVABILITY\x20]\x20','data','codeceptjs','NzvPc','9529188TNpZAN','vEBWr','default','filter','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','replace','../helper','PRINT_BUILDLINK','getObservabilityLinkedProductName','MkfCs','getBrowserName','object','JkJXt','release','280yXTbyT','bs:addPlatformDetails:','includes','darwin','jzdYC','PErgZ','BROWSERSTACK_CONFIG_FILE_PATH','browserstack','SxLya','git-repo-info','UsvpI','undefined','Linux','getPlatform','PLAYWRIGHT','trim','../../bin/utils/logPatcher','CJypX','length','CODECEPT_CUCUMBER','toISOString','XbuqN','mVVbr','OS\x20X','git-last-commit','uCuOD','removeAnsiColors','agent','nodeRequest','true','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','extractValuesWithRegexKeyMatch','getBrowserStackConfig','app-automate','buildTag','7AXzvMg','isArray','stack','map','ItkXQ','PUlwh','path','logs','catch','427059dRblAD','platformVersion','../../bin/utils/constants','TuLWV','host','AzjLM','silly','sLswS','TEST_OBSERVABILITY_BUILD_TAG','JwNAv','error','xYgYg','xWwly','lcthG','wEFXq','aCqyk','bs:addLog:','stringify','http','LogCreated','cMsYR','741099hsnGVa','VvuQT','hPmRY','execSync','VPGmh','isInternalHook','keys','../performance/performance-tester','uqyaM','xtWxO','FsSLY','message','24MkEvri','ZUcip','sendPlatformDetails','config','\x20:\x20','Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20','match','PLAYWRIGHT_TRACE_LOGS'];a88_0x3794=function(){return _0x11cbf9;};return a88_0x3794();}const httpScreenshotsKeepAliveAgent=new http[(a88_0x16a540(0x1b2))](a88_0xf0afef),a88_0xd73c7f={};a88_0xd73c7f['keepAlive']=!![],a88_0xd73c7f[a88_0x16a540(0x1ed)]=0xea60,a88_0xd73c7f['maxSockets']=0x2,a88_0xd73c7f[a88_0x16a540(0x1ee)]=0x2;const httpsScreenshotsKeepAliveAgent=new https['Agent'](a88_0xd73c7f);exports[a88_0x16a540(0x17b)]=()=>{const _0x387d7e=a88_0x16a540,_0x51c74b={};_0x51c74b['XdAAe']=function(_0x3cc4aa,_0x5dcf6c){return _0x3cc4aa!==_0x5dcf6c;},_0x51c74b[_0x387d7e(0x1d5)]='null';const _0x549bb2=_0x51c74b;return process['env']['BROWSERSTACK_RERUN_TESTS']&&_0x549bb2[_0x387d7e(0x173)](process[_0x387d7e(0x163)][_0x387d7e(0x1dc)],_0x549bb2[_0x387d7e(0x1d5)])?!![]:![];},exports[a88_0x16a540(0x17d)]=()=>{const _0x4bec1a=a88_0x16a540,_0x2e3b9c={};_0x2e3b9c['NzvPc']=function(_0x1e1a67,_0x56320d){return _0x1e1a67===_0x56320d;},_0x2e3b9c['LcwPY']='true',_0x2e3b9c[_0x4bec1a(0x13d)]=function(_0x46e1ed,_0x188faa){return _0x46e1ed===_0x188faa;};const _0x10928b=_0x2e3b9c;let _0x4726c4=!![];return process[_0x4bec1a(0x163)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']&&(_0x4726c4=_0x10928b[_0x4bec1a(0x201)](process[_0x4bec1a(0x163)][_0x4bec1a(0x190)],_0x10928b[_0x4bec1a(0x1f7)])),process[_0x4bec1a(0x163)][_0x4bec1a(0x1e1)]&&(_0x4726c4=_0x10928b[_0x4bec1a(0x13d)](process['env']['BROWSERSTACK_TEST_OBSERVABILITY'],_0x10928b[_0x4bec1a(0x1f7)])),_0x4726c4;},exports['parseFileNames']=_0xca2a21=>{const _0x12a681=a88_0x16a540;if(bsSetupHelper[_0x12a681(0x1bf)](_0xca2a21))return undefined;try{return _0xca2a21[_0x12a681(0x113)]()[_0x12a681(0x1dd)](',');}catch(_0x5524a4){return undefined;}},exports['printBuildLink']=()=>{const _0x1d98a6=a88_0x16a540,_0x2e1025={};_0x2e1025[_0x1d98a6(0x11a)]=function(_0x2c51f7,_0x3434c3){return _0x2c51f7!==_0x3434c3;},_0x2e1025[_0x1d98a6(0x184)]='null',_0x2e1025[_0x1d98a6(0x1f3)]=function(_0x4cd897,_0x39584d){return _0x4cd897!==_0x39584d;},_0x2e1025[_0x1d98a6(0x1b7)]=_0x1d98a6(0x10f);const _0x55bf07=_0x2e1025;return PerformanceTester[_0x1d98a6(0x189)](PerformanceO11yEvents[_0x1d98a6(0x209)],async()=>{const _0x26af3c=_0x1d98a6;try{process[_0x26af3c(0x163)]['BS_TESTOPS_BUILD_HASHED_ID']&&_0x55bf07[_0x26af3c(0x11a)](process[_0x26af3c(0x163)]['BS_TESTOPS_BUILD_HASHED_ID'],_0x55bf07['lqZKk'])&&_0x55bf07[_0x26af3c(0x1f3)](process[_0x26af3c(0x163)][_0x26af3c(0x19d)],_0x55bf07[_0x26af3c(0x1b7)])&&logger[_0x26af3c(0x16d)](_0x26af3c(0x1ca)+process[_0x26af3c(0x163)][_0x26af3c(0x19d)]+_0x26af3c(0x18f));}catch(_0x416aae){logger['error']('['+new Date()[_0x26af3c(0x118)]()+_0x26af3c(0x194));}})();},exports['getFailureType']=_0x150009=>{const _0x4afa7d=a88_0x16a540,_0x2c49c4={};_0x2c49c4[_0x4afa7d(0x13c)]='AssertionError',_0x2c49c4[_0x4afa7d(0x1a7)]=_0x4afa7d(0x1e7);const _0x3cd25f=_0x2c49c4;if(!_0x150009)return null;return _0x150009['toString']()['match'](/AssertionError/)?_0x3cd25f[_0x4afa7d(0x13c)]:_0x3cd25f[_0x4afa7d(0x1a7)];},exports[a88_0x16a540(0x1d8)]=_0x3d448d=>{const _0x36a417=a88_0x16a540,_0x30819f={};_0x30819f[_0x36a417(0x1d7)]=_0x36a417(0x178),_0x30819f[_0x36a417(0x16b)]=_0x36a417(0x1e4),_0x30819f[_0x36a417(0x171)]=_0x36a417(0x200),_0x30819f[_0x36a417(0x13b)]=_0x36a417(0x16f),_0x30819f[_0x36a417(0x14d)]=_0x36a417(0x17e);const _0x471655=_0x30819f;let _0x4e6d7b=null;switch(_0x3d448d){case FRAMEWORKS[_0x36a417(0x191)]:_0x4e6d7b=bsSetupHelper['getPackageVersion'](_0x471655[_0x36a417(0x1d7)]);break;case FRAMEWORKS[_0x36a417(0x112)]:_0x4e6d7b=bsSetupHelper[_0x36a417(0x18b)](_0x471655['hqUwi']);break;case FRAMEWORKS[_0x36a417(0x19e)]:case FRAMEWORKS[_0x36a417(0x117)]:_0x4e6d7b=bsSetupHelper['getPackageVersion'](_0x471655['tUqkN']);break;case FRAMEWORKS[_0x36a417(0x1fd)]:_0x4e6d7b=bsSetupHelper[_0x36a417(0x18b)](_0x471655[_0x36a417(0x13b)]);break;case FRAMEWORKS[_0x36a417(0x165)]:_0x4e6d7b=bsSetupHelper[_0x36a417(0x18b)](_0x471655['uqyaM']);break;default:break;}return _0x4e6d7b;},exports[a88_0x16a540(0x124)]=_0x235f4a=>{const _0x5b5b11=a88_0x16a540;let _0x58dcd3=null;switch(_0x235f4a){case FRAMEWORKS[_0x5b5b11(0x112)]:_0x58dcd3=process[_0x5b5b11(0x163)][_0x5b5b11(0x10a)];break;}if(!_0x58dcd3)return;return bsSetupHelper[_0x5b5b11(0x1cf)](_0x58dcd3,![]);},exports[a88_0x16a540(0x17a)]=_0x34a948=>{const _0x281afc=a88_0x16a540;return{'username':bsSetupHelper[_0x281afc(0x1db)](_0x34a948),'accessKey':bsSetupHelper['getAccessKey'](_0x34a948)};},exports[a88_0x16a540(0x181)]=(_0x311792,_0xe8bcb2)=>{const _0x16dc5b=a88_0x16a540,_0x5b1396={};_0x5b1396[_0x16dc5b(0x12c)]='0|5|2|1|4|3',_0x5b1396[_0x16dc5b(0x133)]=_0x16dc5b(0x143),_0x5b1396[_0x16dc5b(0x1aa)]=_0x16dc5b(0x1d0),_0x5b1396[_0x16dc5b(0x13e)]=_0x16dc5b(0x158);const _0x3c1e0e=_0x5b1396,_0x39c4db=_0x3c1e0e[_0x16dc5b(0x12c)]['split']('|');let _0x40f560=0x0;while(!![]){switch(_0x39c4db[_0x40f560++]){case'0':if(!_0x311792[_0x16dc5b(0x1bd)]||!Array[_0x16dc5b(0x128)](_0x311792[_0x16dc5b(0x1bd)]))return;continue;case'1':delete _0x311792[_0x16dc5b(0x1bd)];continue;case'2':_0x311792['formData']={'data':_0x311792[_0x16dc5b(0x1bd)][0x0][_0x16dc5b(0x12e)][0x0]['data'],'test_run_uuid':_0x311792['body'][0x0][_0x16dc5b(0x12e)][0x0][_0x16dc5b(0x15a)],'event_type':_0x3c1e0e[_0x16dc5b(0x133)],'kind':_0x3c1e0e[_0x16dc5b(0x1aa)],'attachmentType':_0x3c1e0e[_0x16dc5b(0x13e)],'timestamp':new Date()[_0x16dc5b(0x118)](),'fileName':_0x311792['body'][0x0][_0x16dc5b(0x12e)][0x0][_0x16dc5b(0x196)]};continue;case'3':delete _0xe8bcb2[_0x16dc5b(0x1b5)];continue;case'4':delete _0x311792['json'];continue;case'5':if(!_0x311792['body'][0x0]||!_0x311792[_0x16dc5b(0x1bd)][0x0]['logs']||!_0x311792[_0x16dc5b(0x1bd)][0x0][_0x16dc5b(0x12e)]['length'])return;continue;}break;}},exports['asyncAwaitNodeReq']=async(_0x3f81f2,_0x5c728a,_0x4dce69,_0x46aa95,_0x1d03c5=!![])=>{const _0x464213=a88_0x16a540,_0x5dc6ae={};_0x5dc6ae[_0x464213(0x1a1)]=function(_0x539086,_0x33da30){return _0x539086===_0x33da30;},_0x5dc6ae[_0x464213(0x146)]=_0x464213(0x164),_0x5dc6ae[_0x464213(0x1ec)]=_0x464213(0x199),_0x5dc6ae['KSQmg']=_0x464213(0x1be),_0x5dc6ae['uCuOD']=function(_0x29ab90,_0x2a40fc){return _0x29ab90!==_0x2a40fc;},_0x5dc6ae['DiXTp']=function(_0x333cec,_0x6b1590){return _0x333cec!==_0x6b1590;},_0x5dc6ae[_0x464213(0x152)]='object',_0x5dc6ae[_0x464213(0x175)]=_0x464213(0x122);const _0x118bf8=_0x5dc6ae,_0xf541c7={..._0x46aa95,...{'method':_0x3f81f2,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x5c728a,'body':_0x4dce69,'json':_0x118bf8[_0x464213(0x1a1)](_0x46aa95[_0x464213(0x1b5)][_0x118bf8['VvuQT']],_0x118bf8['wkDbC']),'agent':API_URL[_0x464213(0x106)](_0x118bf8[_0x464213(0x1f1)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x118bf8[_0x464213(0x1a1)](_0x5c728a,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0xf541c7[_0x464213(0x11f)]=API_URL['includes'](_0x118bf8[_0x464213(0x1f1)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x464213(0x181)](_0xf541c7,_0x46aa95),logger[_0x464213(0x1c7)]('Uploading\x20trace\x20logs\x20to:\x20'+_0xf541c7[_0x464213(0x182)]));try{const {statusCode:_0xef41f6,body:_0x5305b5}=await bsSetupHelper['nodeRequest'](_0x3f81f2,_0x5c728a,_0xf541c7,_0x46aa95,_0xf541c7[_0x464213(0x182)]);if(_0x118bf8[_0x464213(0x11d)](_0xef41f6,0xc8))return _0x5305b5?_0x5305b5:_0x464213(0x206)+_0xef41f6;let _0x4a67d0=_0x5305b5;if(_0x1d03c5)try{_0x118bf8[_0x464213(0x1fc)](typeof _0x5305b5,_0x118bf8[_0x464213(0x152)])&&(_0x4a67d0=JSON[_0x464213(0x1f6)](_0x5305b5));}catch(_0x313b22){logger[_0x464213(0x13a)](_0x118bf8[_0x464213(0x175)],_0x5305b5,util[_0x464213(0x1a2)](_0x313b22));}const _0xfc63b8={};return _0xfc63b8['data']=_0x4a67d0,_0xfc63b8;}catch(_0x55d818){logger[_0x464213(0x13a)]('Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20'+util[_0x464213(0x1a2)](_0x55d818));throw _0x55d818;}},exports['nodeRequest']=(_0x3313ee,_0x2e9642,_0x54e828,_0x1d9dd1,_0xdb3285=!![])=>{const _0x328677=a88_0x16a540,_0x254eb4={'jzdYC':function(_0x950f3d,_0x3230bd){return _0x950f3d!==_0x3230bd;},'JQAgH':function(_0x56b8ef,_0x1dbe27){return _0x56b8ef(_0x1dbe27);},'cMsYR':_0x328677(0x101),'SxLya':_0x328677(0x183),'zibsh':function(_0x49a954,_0x479e8c){return _0x49a954(_0x479e8c);},'jbzNA':function(_0x410f4b,_0x2adc7d){return _0x410f4b===_0x2adc7d;},'ThnBU':_0x328677(0x164),'SPpyR':_0x328677(0x199),'yYdfe':_0x328677(0x1be)};return new Promise((_0x4d8afe,_0x574ef4)=>{const _0x4dcc55=_0x328677,_0x1b40af={'JwNAv':function(_0xcea3a9,_0xd4f1d1){const _0x3131ef=a88_0x2eca;return _0x254eb4[_0x3131ef(0x1f0)](_0xcea3a9,_0xd4f1d1);}},_0xd31c97={..._0x1d9dd1,...{'method':_0x3313ee,'url':API_URL+'/'+_0x2e9642,'body':_0x54e828,'json':_0x254eb4['jbzNA'](_0x1d9dd1['headers'][_0x254eb4[_0x4dcc55(0x172)]],_0x254eb4['SPpyR']),'agent':API_URL['includes'](_0x254eb4['yYdfe'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x254eb4[_0x4dcc55(0x1df)](_0x2e9642,SCREENSHOT_ENDPOINT)&&(_0xd31c97[_0x4dcc55(0x11f)]=API_URL[_0x4dcc55(0x106)](_0x254eb4[_0x4dcc55(0x1c5)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x4dcc55(0x120)](_0x3313ee,_0x2e9642,_0xd31c97,_0x1d9dd1,API_URL)[_0x4dcc55(0x1ab)](({statusCode:_0x43c5d2,body:_0x3adbf3})=>{const _0x395b54=_0x4dcc55;if(_0x254eb4[_0x395b54(0x108)](_0x43c5d2,0xc8))_0x254eb4[_0x395b54(0x1f0)](_0x574ef4,_0x3adbf3?_0x3adbf3:'Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20'+_0x43c5d2);else{if(_0xdb3285)try{_0x254eb4[_0x395b54(0x108)](typeof _0x3adbf3,_0x254eb4[_0x395b54(0x144)])&&(_0x3adbf3=JSON['parse'](_0x3adbf3));}catch(_0x116de0){_0x254eb4[_0x395b54(0x1f0)](_0x574ef4,_0x254eb4[_0x395b54(0x10c)]);return;}const _0xcc03c9={};_0xcc03c9[_0x395b54(0x1ff)]=_0x3adbf3,_0x254eb4['zibsh'](_0x4d8afe,_0xcc03c9);}})[_0x4dcc55(0x12f)](_0x560787=>{const _0x41f4d7=_0x4dcc55;_0x560787&&_0x1b40af[_0x41f4d7(0x139)](_0x574ef4,_0x560787);});});},exports[a88_0x16a540(0x1c4)]=_0xc9c4e0=>{const _0x385f8b=a88_0x16a540;if(process[_0x385f8b(0x163)][_0x385f8b(0x138)])return process[_0x385f8b(0x163)][_0x385f8b(0x138)][_0x385f8b(0x1dd)](',');if(_0xc9c4e0['buildTag'])return _0xc9c4e0[_0x385f8b(0x126)];return[];},exports[a88_0x16a540(0x1ea)]=(_0x1af007=!![])=>{const _0x161ada=a88_0x16a540,_0x4c102c={};_0x4c102c[_0x161ada(0x119)]=_0x161ada(0x199),_0x4c102c['iFWZD']='true',_0x4c102c['AzjLM']='Authorization';const _0x580e78=_0x4c102c,_0x17ae58={};_0x17ae58[_0x161ada(0x164)]=_0x580e78[_0x161ada(0x119)],_0x17ae58[_0x161ada(0x159)]=_0x580e78['iFWZD'];const _0x1ccb1d=_0x17ae58;return _0x1af007&&process[_0x161ada(0x163)][_0x161ada(0x198)]&&(_0x1ccb1d[_0x580e78[_0x161ada(0x135)]]=_0x161ada(0x1ba)+process[_0x161ada(0x163)][_0x161ada(0x198)]),_0x1ccb1d;},exports[a88_0x16a540(0x123)]=_0xc2180d=>{const _0x435a3b=a88_0x16a540,_0x386a14={};_0x386a14['MtxCL']=_0x435a3b(0x1cd);const _0xb8cc6a=_0x386a14,_0x4b5808=[],_0x5360ac=new RegExp(_0xb8cc6a['MtxCL'],'i');return Object['keys'](_0xc2180d)[_0x435a3b(0x205)](_0x47f44=>_0x5360ac[_0x435a3b(0x1f4)](_0x47f44))[_0x435a3b(0x1c1)](_0x45366c=>_0x4b5808['push'](_0xc2180d[_0x45366c])),_0x4b5808;},exports[a88_0x16a540(0x1b6)]=_0xfa6c7a=>{const _0x174d90=a88_0x16a540,_0x58032c=[],_0x3b89cb=_0xfa6c7a[_0x174d90(0x1ac)]||process[_0x174d90(0x163)][_0x174d90(0x168)];return _0x3b89cb&&_0x58032c[_0x174d90(0x1e6)](_0x3b89cb),_0x58032c[_0x174d90(0x1e6)](...exports[_0x174d90(0x123)](process['env'])),_0x58032c[_0x174d90(0x1e6)](...exports[_0x174d90(0x123)](_0xfa6c7a)),_0x58032c;},exports[a88_0x16a540(0x11e)]=_0x21e387=>{const _0x2add11=a88_0x16a540;if(!_0x21e387)return'';return _0x21e387[_0x2add11(0x207)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports['sleep']=(_0x578258=0x64)=>new Promise(_0x5e23c4=>setTimeout(_0x5e23c4,_0x578258));const getPlatformName=()=>{const _0x4ebf57=a88_0x16a540,_0x4f3192={};_0x4f3192[_0x4ebf57(0x1a5)]=function(_0x576432,_0x56a6c5){return _0x576432===_0x56a6c5;},_0x4f3192[_0x4ebf57(0x14f)]=_0x4ebf57(0x188),_0x4f3192[_0x4ebf57(0x1c2)]='Windows',_0x4f3192[_0x4ebf57(0x20b)]=function(_0x24d472,_0x4c3cec){return _0x24d472===_0x4c3cec;},_0x4f3192[_0x4ebf57(0x10e)]=_0x4ebf57(0x107),_0x4f3192[_0x4ebf57(0x1fb)]=_0x4ebf57(0x11b),_0x4f3192[_0x4ebf57(0x19b)]=function(_0x2a482b,_0x4f935e){return _0x2a482b===_0x4f935e;},_0x4f3192[_0x4ebf57(0x1cc)]='linux',_0x4f3192[_0x4ebf57(0x167)]=_0x4ebf57(0x110),_0x4f3192[_0x4ebf57(0x14e)]=_0x4ebf57(0x18a);const _0x46f8c9=_0x4f3192;if(_0x46f8c9[_0x4ebf57(0x1a5)](process[_0x4ebf57(0x18e)],_0x46f8c9['FsSLY']))return _0x46f8c9[_0x4ebf57(0x1c2)];if(_0x46f8c9[_0x4ebf57(0x20b)](process[_0x4ebf57(0x18e)],_0x46f8c9[_0x4ebf57(0x10e)]))return _0x46f8c9[_0x4ebf57(0x1fb)];if(_0x46f8c9[_0x4ebf57(0x19b)](process[_0x4ebf57(0x18e)],_0x46f8c9[_0x4ebf57(0x1cc)]))return _0x46f8c9[_0x4ebf57(0x167)];return _0x46f8c9[_0x4ebf57(0x14e)];},getMacOSVersion=()=>{const _0x58b505=a88_0x16a540,_0x3f9d1c={};_0x3f9d1c['QfuTe']='awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27';const _0x153fa4=_0x3f9d1c;return child_process[_0x58b505(0x148)](_0x153fa4[_0x58b505(0x1f5)])[_0x58b505(0x1c9)]()['trim']();},getLinuxDetails=()=>{const _0x43b4f1={'nrsjW':function(_0x9a6e2a,_0x53f521){return _0x9a6e2a(_0x53f521);},'NFBpF':function(_0x528fef,_0x29766c){return _0x528fef(_0x29766c);}};return new Promise((_0x57ee17,_0xb077ee)=>{const _0x48dcf7=a88_0x2eca;_0x43b4f1[_0x48dcf7(0x15d)](getos,(_0x42fccf,_0x2c55a0)=>{const _0x23b572=_0x48dcf7;if(_0x42fccf)return _0x43b4f1[_0x23b572(0x179)](_0xb077ee,_0x42fccf);_0x43b4f1[_0x23b572(0x15d)](_0x57ee17,_0x2c55a0);});});};exports[a88_0x16a540(0x1c8)]=async()=>{const _0x553247=a88_0x16a540,_0x2af61a={'vEBWr':function(_0xaa1fb1){return _0xaa1fb1();},'GYRvk':_0x553247(0x11b),'qFguB':_0x553247(0x185),'fuNNX':_0x553247(0x15f),'ZVfMm':_0x553247(0x110),'AcDLw':function(_0x37f490){return _0x37f490();},'tOrrO':_0x553247(0x1b1)};let _0x2d2188=_0x2af61a[_0x553247(0x203)](getPlatformName),_0x511b0b=os['release']()[_0x553247(0x1c9)]();switch(_0x2d2188){case _0x2af61a[_0x553247(0x16a)]:_0x511b0b=_0x2af61a[_0x553247(0x203)](getMacOSVersion);break;case _0x2af61a[_0x553247(0x1e8)]:try{const _0x417162=(await import(_0x2af61a['fuNNX']))[_0x553247(0x204)];_0x511b0b=_0x2af61a[_0x553247(0x203)](_0x417162);}catch(_0x31cb71){exports['debug'](_0x553247(0x170)+_0x31cb71[_0x553247(0x1c9)]());}break;case _0x2af61a[_0x553247(0x1b8)]:try{const _0x4276a7=await _0x2af61a['AcDLw'](getLinuxDetails);_0x4276a7[_0x553247(0x1d6)]&&(_0x2d2188=_0x4276a7[_0x553247(0x1d6)]),_0x4276a7[_0x553247(0x103)]&&(_0x511b0b=_0x4276a7['release'][_0x553247(0x1c9)]());}catch(_0x55e19d){exports[_0x553247(0x1c7)](_0x2af61a[_0x553247(0x19c)]);}break;default:break;}const _0x1d9fa3={};return _0x1d9fa3[_0x553247(0x1d3)]=_0x2d2188,_0x1d9fa3[_0x553247(0x131)]=_0x511b0b,_0x1d9fa3;},exports[a88_0x16a540(0x1b4)]=(_0x482c1a,_0x4504c9)=>{const _0x2b0a85=a88_0x16a540,_0x4febdc={};_0x4febdc[_0x2b0a85(0x1af)]=function(_0x35286e,_0x65bf85){return _0x35286e===_0x65bf85;},_0x4febdc['junLs']='test',_0x4febdc['PWhxO']=function(_0x52cdbe,_0x5c4330){return _0x52cdbe===_0x5c4330;},_0x4febdc['tpwNg']=_0x2b0a85(0x1e0);const _0x525bca=_0x4febdc;if(!_0x482c1a)return[];try{if(_0x525bca[_0x2b0a85(0x1af)](_0x4504c9,_0x525bca[_0x2b0a85(0x1de)]))return _0x482c1a['map'](_0x195361=>{const _0x1c134d=_0x2b0a85,{stack:_0x5b6a19,..._0x26e222}=_0x195361,_0x40f3aa=Object[_0x1c134d(0x14b)](_0x26e222)[_0x1c134d(0x12a)](_0x83548a=>{return _0x83548a+':\x20'+_0x26e222[_0x83548a];}),_0x5b5982=_0x5b6a19?exports['removeAnsiColors'](_0x5b6a19)[_0x1c134d(0x1dd)](/\r?\n/):[exports[_0x1c134d(0x11e)](_0x195361[_0x1c134d(0x150)])],_0x470f26={};return _0x470f26['backtrace']=_0x5b5982,_0x470f26['expanded']=_0x40f3aa,_0x470f26;});else{if(_0x525bca[_0x2b0a85(0x192)](_0x4504c9,_0x525bca[_0x2b0a85(0x1d2)])){const _0x3fa48e=[],_0x889bbc=[];return Object[_0x2b0a85(0x14b)](_0x482c1a)['forEach'](_0x28b8f9=>{const _0x595ef2=_0x2b0a85;try{_0x889bbc[_0x595ef2(0x1e6)](_0x28b8f9+':\x20'+_0x482c1a[_0x28b8f9]);}catch(_0x4e7597){exports['debug'](_0x595ef2(0x1a6)+_0x4e7597[_0x595ef2(0x150)]+_0x595ef2(0x155)+_0x4e7597[_0x595ef2(0x19a)]);}}),_0x3fa48e[_0x2b0a85(0x1e6)]({'backtrace':exports[_0x2b0a85(0x11e)](_0x482c1a[_0x2b0a85(0x129)])[_0x2b0a85(0x1dd)](/\r?\n/),'expanded':_0x889bbc}),_0x3fa48e;}}return[];}catch(_0x2f8424){exports[_0x2b0a85(0x1c7)](_0x2b0a85(0x1a6)+_0x2f8424[_0x2b0a85(0x150)]+_0x2b0a85(0x155)+_0x2f8424[_0x2b0a85(0x19a)]);}return[];};class PathHelper{constructor(_0x1da64a,_0x9f0af0){const _0x3d7fc9=a88_0x16a540;this[_0x3d7fc9(0x154)]=_0x1da64a,this[_0x3d7fc9(0x1c6)]=_0x9f0af0;}['relativeTestFilePath'](_0x3ab71e){const _0x5b9b90=a88_0x16a540,_0x5c0d5c=this[_0x5b9b90(0x154)][_0x5b9b90(0x1bb)]||this[_0x5b9b90(0x154)]['rootDir'];return path['relative'](_0x5c0d5c,_0x3ab71e);}[a88_0x16a540(0x177)](_0x33f5f9){const _0x1a4b01=a88_0x16a540,_0x277eb5=this['relativeTestFilePath'](_0x33f5f9);return this[_0x1a4b01(0x1c6)]?path[_0x1a4b01(0x1da)](this[_0x1a4b01(0x1c6)],_0x277eb5):_0x277eb5;}}exports[a88_0x16a540(0x1d9)]=PathHelper,exports['addRequestSpy']=(_0x59702f=!![])=>{const _0x272bce=a88_0x16a540,_0x3e1da6={};_0x3e1da6['zSyuZ']=function(_0x3648c7,_0x234489){return _0x3648c7===_0x234489;},_0x3e1da6[_0x272bce(0x1e3)]=_0x272bce(0x159),_0x3e1da6[_0x272bce(0x1ef)]=_0x272bce(0x121),_0x3e1da6[_0x272bce(0x187)]='HTTP',_0x3e1da6[_0x272bce(0x147)]=_0x272bce(0x10b),_0x3e1da6[_0x272bce(0x1d4)]='local_grid';const _0x3641de=_0x3e1da6;requestSpy['spy']((_0x62da41,_0x2ba3e0)=>{const _0x4343b2=_0x272bce;_0x2ba3e0&&!(_0x2ba3e0[_0x4343b2(0x1b5)]&&_0x3641de[_0x4343b2(0x1b3)](_0x2ba3e0['headers'][_0x3641de[_0x4343b2(0x1e3)]],_0x3641de[_0x4343b2(0x1ef)]))&&(_0x2ba3e0[_0x4343b2(0x134)]=_0x2ba3e0[_0x4343b2(0x1a8)],delete _0x2ba3e0[_0x4343b2(0x1a8)],_0x59702f&&process[_0x4343b2(0x1c0)](_0x4343b2(0x140)+process[_0x4343b2(0x1a4)],{'timestamp':new Date()[_0x4343b2(0x118)](),'level':null,'message':null,'kind':_0x3641de[_0x4343b2(0x187)],'http_response':_0x2ba3e0})),_0x2ba3e0&&(constants[_0x4343b2(0x17c)]['test'](_0x2ba3e0[_0x4343b2(0x134)])||constants[_0x4343b2(0x1bc)][_0x4343b2(0x1f4)](_0x2ba3e0[_0x4343b2(0x134)]))?global[_0x4343b2(0x166)]=_0x3641de['hPmRY']:global[_0x4343b2(0x166)]=_0x3641de['KczmG'];});},exports[a88_0x16a540(0x15b)]=()=>{const _0x27ec9a=a88_0x16a540,_0x235f58={'vYgRe':function(_0x1212f7,_0x5eed16){return _0x1212f7(_0x5eed16);}};console={},Object[_0x27ec9a(0x14b)](consoleHolder)[_0x27ec9a(0x1c1)](_0x4b357a=>{_0x235f58['vYgRe'](isFunction,consoleHolder[_0x4b357a])?console[_0x4b357a]=(..._0x146ea9)=>{const _0x3a1cc1=a88_0x2eca;try{!Object[_0x3a1cc1(0x14b)](BSTestOpsPatcher)[_0x3a1cc1(0x106)](_0x4b357a)?consoleHolder[_0x4b357a](..._0x146ea9):BSTestOpsPatcher[_0x4b357a](..._0x146ea9);}catch(_0x280d67){consoleHolder[_0x4b357a](..._0x146ea9);}}:console[_0x4b357a]=consoleHolder[_0x4b357a];});},exports[a88_0x16a540(0x1cb)]=()=>a88_0x16a540(0x197)+JSON[a88_0x16a540(0x141)]({'action':a88_0x16a540(0x176),'arguments':{'data':a88_0x16a540(0x1c3)+Date['now'](),'level':a88_0x16a540(0x1c7)}}),exports[a88_0x16a540(0x20a)]=_0x9469fa=>{const _0x4b302c=a88_0x16a540,_0x465e06={};_0x465e06[_0x4b302c(0x169)]=function(_0x486d1d,_0x2363ce){return _0x486d1d===_0x2363ce;},_0x465e06[_0x4b302c(0x149)]=_0x4b302c(0x10b),_0x465e06[_0x4b302c(0x18c)]=_0x4b302c(0x1a0),_0x465e06[_0x4b302c(0x162)]=_0x4b302c(0x180),_0x465e06[_0x4b302c(0x160)]=function(_0x3d9385,_0x142f2d){return _0x3d9385>_0x142f2d;},_0x465e06['vcAGy']=_0x4b302c(0x125),_0x465e06[_0x4b302c(0x109)]='bstack:options',_0x465e06[_0x4b302c(0x12b)]=_0x4b302c(0x1b9),_0x465e06['JkJXt']='turboscale',_0x465e06['hjSsc']=_0x4b302c(0x16e);const _0x3e060b=_0x465e06;let _0x5bde3e=null;try{if(_0x3e060b[_0x4b302c(0x169)](global[_0x4b302c(0x166)],_0x3e060b[_0x4b302c(0x149)])){if(_0x9469fa[_0x3e060b[_0x4b302c(0x18c)]]||_0x9469fa[_0x3e060b[_0x4b302c(0x162)]]||!bsSetupHelper[_0x4b302c(0x1bf)](global['capabilities'])&&_0x3e060b[_0x4b302c(0x160)](global[_0x4b302c(0x1fa)][_0x4b302c(0x116)],0x0)&&(global[_0x4b302c(0x1fa)][0x0][_0x3e060b[_0x4b302c(0x162)]]||global[_0x4b302c(0x1fa)][0x0][_0x3e060b['eLzzW']]))_0x5bde3e=_0x3e060b[_0x4b302c(0x16c)];else _0x9469fa[_0x3e060b[_0x4b302c(0x109)]]&&_0x9469fa[_0x3e060b['PErgZ']][_0x3e060b[_0x4b302c(0x12b)]]?_0x5bde3e=_0x3e060b[_0x4b302c(0x102)]:_0x5bde3e=_0x3e060b['hjSsc'];}}catch(_0x4a1c4d){exports[_0x4b302c(0x1c7)](_0x4b302c(0x1f8)+_0x4a1c4d);}return _0x5bde3e;},exports[a88_0x16a540(0x153)]=async(_0x3dfde9,_0x16c914,_0x6fd96b=![])=>{const _0x1775e4=a88_0x16a540,_0x350706={};_0x350706['CJypX']=function(_0x3280de,_0x31657a){return _0x3280de===_0x31657a;},_0x350706['sLswS']=_0x1775e4(0x10b),_0x350706[_0x1775e4(0x174)]='unknown_grid',_0x350706[_0x1775e4(0x1f9)]=_0x1775e4(0x161);const _0x331b17=_0x350706;try{const _0xa1409b=await _0x3dfde9[_0x1775e4(0x1ad)](),_0x3cd7c6=await _0x3dfde9['getSession'](),_0x2c5c88={},_0x206440=Object[_0x1775e4(0x1d1)](_0x3cd7c6[_0x1775e4(0x1ad)]()[_0x1775e4(0x17f)]),_0x13b644={'product':exports[_0x1775e4(0x20a)](_0x206440),'capabilities':_0x206440,'platform':_0xa1409b[_0x1775e4(0x111)](),'platform_version':bsSetupHelper['getPlatformVersion'](_0x331b17[_0x1775e4(0x115)](global[_0x1775e4(0x166)],_0x331b17[_0x1775e4(0x137)])),'browser':_0xa1409b[_0x1775e4(0x20c)](),'browser_version':_0xa1409b[_0x1775e4(0x1e9)](),'session_id':_0x3cd7c6['toJSON']()};global[_0x1775e4(0x166)]?_0x2c5c88[global['__cloud_provider___']]=_0x13b644:_0x2c5c88[_0x331b17[_0x1775e4(0x174)]]=_0x13b644;if(_0x6fd96b)return _0x2c5c88;process[_0x1775e4(0x1c0)](_0x1775e4(0x105)+process[_0x1775e4(0x1a4)],{'timestamp':new Date()[_0x1775e4(0x118)](),'level':null,'message':null,'kind':_0x331b17[_0x1775e4(0x1f9)],'http_response':_0x2c5c88,'uuid':_0x16c914});}catch(_0x20ee1b){exports[_0x1775e4(0x1c7)](_0x1775e4(0x156)+_0x20ee1b);}},exports[a88_0x16a540(0x14a)]=_0x48ffa0=>{const _0x3bdcaa=a88_0x16a540;return _0x48ffa0&&_0x48ffa0['toString']()[_0x3bdcaa(0x157)](/browserstack internal helper hook/);};