const a86_0x1817c0=a86_0xc0f0;function a86_0x1931(){const _0x9f0548=['eHQah','MAOKm','EXCEPTION\x20IN\x20','../helper','uuid','FHHXj','splice','Exception\x20in\x20logging\x20batch\x20events\x20--\x20','add','qDDlO','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','RWkfy','FRNNA','status','CEHcy','\x20bytes.\x20Events\x20are\x20','MmNJL','QUMKb','LogCreated','data','start','91218DXYnuY','shouldProceed','removeEventBatchPolling','REMOVING','iUfJm','VFEje','slice','byteLength','14995890eDjnHU','resetEventBatchPolling','instance','vkikO','push','exports','api/v1/batch','response','qUIYf','hook_run','utf8','wdQXz','statusText','proceedWithUrl','uploadAttachmentUrl','message','max','Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20','eventUrl','TestRunStarted','pEDAt','rUyFl','PecOl','6158588DlqOPD','8080268uaXErM','startEventBatchPolling','split','4528488ssadlZ','GueUS','BATCH_EVENT_TYPES','\x20--\x20','shutdown','RdQSK','batchAndPostEvents','btrOm','2|3|1|4|0|5|6','join','mKGGr','event_type','GZIxl','Interval-Queue','GeGIL','queue','pendingUploads','kind','uploadPending','test_run','WjIwW','map','includes','uQqiu','Processing\x20batch\x20events\x20for\x20','TEST_ATTACHMENT','FhRov','Remaining\x20Queue\x20Length\x20-\x20','qNbLe','530291zkKQsi','\x20event\x20successful\x20for\x20events\x20','Processing\x20events.\x20Queue\x20Length\x20-\x20','oZCEY','logs','TIRIE','Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..','vudgs','length','error','XsLfC','proceedWithData','pollEventBatchInterval','TestRunFinished','./constants','TEST_SCREENSHOT','format','started','AlQTE','HookRunStarted','./utils','YTnRK','ygSFF','saFkf','2199SQvDiq','365FsYOvr','166iJBVpw','nMStv','Qkehg'];a86_0x1931=function(){return _0x9f0548;};return a86_0x1931();}(function(_0x409f49,_0x5980ce){const _0x2df50e=a86_0xc0f0,_0x52e8e1=_0x409f49();while(!![]){try{const _0x50a356=parseInt(_0x2df50e(0xc0))/0x1+-parseInt(_0x2df50e(0xda))/0x2*(parseInt(_0x2df50e(0xd8))/0x3)+parseInt(_0x2df50e(0x111))/0x4+-parseInt(_0x2df50e(0xd9))/0x5*(parseInt(_0x2df50e(0xf2))/0x6)+-parseInt(_0x2df50e(0x112))/0x7+-parseInt(_0x2df50e(0x115))/0x8+parseInt(_0x2df50e(0xfa))/0x9;if(_0x50a356===_0x5980ce)break;else _0x52e8e1['push'](_0x52e8e1['shift']());}catch(_0x3a6f59){_0x52e8e1['push'](_0x52e8e1['shift']());}}}(a86_0x1931,0xce531));const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a86_0x1817c0(0xce)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a86_0x1817c0(0xd4)),{nestedKeyValue}=require(a86_0x1817c0(0xe0)),util=require('util');function a86_0xc0f0(_0x3969c4,_0x703699){const _0x193163=a86_0x1931();return a86_0xc0f0=function(_0xc0f0bc,_0x1b84bd){_0xc0f0bc=_0xc0f0bc-0xba;let _0x1aabd9=_0x193163[_0xc0f0bc];return _0x1aabd9;},a86_0xc0f0(_0x3969c4,_0x703699);}class RequestQueueHandler{static ['instance'];[a86_0x1817c0(0x125)]=0x0;constructor(){const _0x3566a1=a86_0x1817c0,_0x5a554e={};_0x5a554e['TIRIE']=_0x3566a1(0x11d),_0x5a554e[_0x3566a1(0xfd)]='upload-attachments',_0x5a554e[_0x3566a1(0x123)]=_0x3566a1(0x100),_0x5a554e[_0x3566a1(0xd6)]='api/v1/screenshots',_0x5a554e[_0x3566a1(0xde)]=_0x3566a1(0xef),_0x5a554e[_0x3566a1(0xe9)]='CBTSessionCreated',_0x5a554e[_0x3566a1(0xbf)]=_0x3566a1(0xcd),_0x5a554e['uQqiu']='TestRunSkipped',_0x5a554e[_0x3566a1(0x121)]='HookRunFinished',_0x5a554e[_0x3566a1(0xe6)]=_0x3566a1(0x10d),_0x5a554e[_0x3566a1(0xeb)]=_0x3566a1(0xd3);const _0x23e11d=_0x5a554e,_0x5098d=_0x23e11d[_0x3566a1(0xc5)][_0x3566a1(0x114)]('|');let _0x42e74e=0x0;while(!![]){switch(_0x5098d[_0x42e74e++]){case'0':this[_0x3566a1(0x108)]=_0x23e11d['vkikO'];continue;case'1':this['eventUrl']=_0x23e11d[_0x3566a1(0x123)];continue;case'2':this[_0x3566a1(0x124)]=[];continue;case'3':this[_0x3566a1(0xd1)]=![];continue;case'4':this['screenshotEventUrl']=_0x23e11d['ygSFF'];continue;case'5':this[_0x3566a1(0x117)]=[_0x23e11d['MAOKm'],_0x23e11d[_0x3566a1(0xe9)],_0x23e11d[_0x3566a1(0xbf)],_0x23e11d[_0x3566a1(0xba)],_0x23e11d[_0x3566a1(0x121)],_0x23e11d[_0x3566a1(0xe6)],_0x23e11d[_0x3566a1(0xeb)]];continue;case'6':this[_0x3566a1(0xcc)]=null;continue;}break;}}static['getInstance'](){const _0xfbef50=a86_0x1817c0;return!RequestQueueHandler[_0xfbef50(0xfc)]&&(RequestQueueHandler[_0xfbef50(0xfc)]=new RequestQueueHandler()),RequestQueueHandler['instance'];}[a86_0x1817c0(0xf1)]=()=>{const _0x3ad5cc=a86_0x1817c0;!this['started']&&(this[_0x3ad5cc(0xd1)]=!![],this['startEventBatchPolling']());};[a86_0x1817c0(0xe5)]=_0x11ffe6=>{const _0x596389=a86_0x1817c0,_0x29255e={'YTnRK':function(_0x13779f,_0x46595a){return _0x13779f===_0x46595a;},'iUfJm':_0x596389(0xcf),'saFkf':function(_0x420d2f,_0x51ddff){return _0x420d2f>_0x51ddff;},'nMStv':_0x596389(0xbc),'oZCEY':function(_0x29817e,_0x1b8572){return _0x29817e!==_0x1b8572;},'pEDAt':_0x596389(0xcd),'VFEje':function(_0x1450ed,_0x14f7a7){return _0x1450ed(_0x14f7a7);},'Vdgzl':_0x596389(0xc6)};if(this[_0x596389(0x117)][_0x596389(0x12b)](_0x11ffe6[_0x596389(0x120)])){if(_0x11ffe6[_0x596389(0xc4)]&&_0x11ffe6[_0x596389(0xc4)][0x0]&&_0x29255e[_0x596389(0xd5)](_0x11ffe6[_0x596389(0xc4)][0x0][_0x596389(0x126)],_0x29255e[_0x596389(0xf6)])){const _0x436f25={};return _0x436f25[_0x596389(0xf3)]=!![],_0x436f25[_0x596389(0xcb)]=[_0x11ffe6],_0x436f25[_0x596389(0x107)]=this['screenshotEventUrl'],_0x436f25;}if(_0x11ffe6[_0x596389(0xc4)]&&_0x29255e[_0x596389(0xd7)](_0x11ffe6[_0x596389(0xc4)][_0x596389(0xc8)],0x0)&&_0x29255e[_0x596389(0xd5)](_0x11ffe6[_0x596389(0xc4)][0x0]['kind'],_0x29255e[_0x596389(0xdb)])&&_0x29255e[_0x596389(0xc3)](_0x11ffe6[_0x596389(0x120)],_0x29255e[_0x596389(0x10e)])){const _0x501bae={};return _0x501bae[_0x596389(0xf3)]=!![],_0x501bae[_0x596389(0xcb)]=[_0x11ffe6],_0x501bae[_0x596389(0x107)]=this['uploadAttachmentUrl'],_0x501bae;}this[_0x596389(0x124)][_0x596389(0xfe)](_0x11ffe6);let _0x34d833=null;const _0x9027de=this['shouldProceed']();_0x9027de&&(_0x29255e[_0x596389(0xf7)](trace,_0x29255e['Vdgzl']),_0x34d833=this['queue'][_0x596389(0xf8)](0x0,BATCH_SIZE),this[_0x596389(0x124)][_0x596389(0xe3)](0x0,BATCH_SIZE),this[_0x596389(0xfb)]());const _0x5ab02f={};return _0x5ab02f[_0x596389(0xf3)]=_0x9027de,_0x5ab02f['proceedWithData']=_0x34d833,_0x5ab02f['proceedWithUrl']=this[_0x596389(0x10c)],_0x5ab02f;}const _0x16d5a6={};return _0x16d5a6[_0x596389(0xf3)]=!![],_0x16d5a6;};[a86_0x1817c0(0x119)]=async()=>{const _0x2a2ac0=a86_0x1817c0,_0x5db969={'XsLfC':_0x2a2ac0(0xf5),'Qkehg':function(_0x3c6d75,_0x3b4fff){return _0x3c6d75>_0x3b4fff;},'RdQSK':'Shutdown-Queue','PecOl':function(_0x5e0c4e,_0x10b42d){return _0x5e0c4e(_0x10b42d);}};await this[_0x2a2ac0(0x127)](),this['removeEventBatchPolling'](_0x5db969[_0x2a2ac0(0xca)]);while(_0x5db969['Qkehg'](this[_0x2a2ac0(0x124)][_0x2a2ac0(0xc8)],0x0)){const _0x44fa79=this[_0x2a2ac0(0x124)][_0x2a2ac0(0xf8)](0x0,BATCH_SIZE);this[_0x2a2ac0(0x124)][_0x2a2ac0(0xe3)](0x0,BATCH_SIZE),await this[_0x2a2ac0(0x11b)](this['eventUrl'],_0x5db969[_0x2a2ac0(0x11a)],_0x44fa79);}_0x5db969[_0x2a2ac0(0xdc)](this['pendingUploads'],0x0)&&_0x5db969[_0x2a2ac0(0x110)](debug,_0x2a2ac0(0x10b)+this[_0x2a2ac0(0x125)]);};['batchAndPostEvents']=async(_0x241712,_0x3c89fa,_0x1458eb)=>{const _0x457d26=a86_0x1817c0,_0x52ae7d={'RWkfy':function(_0x35da4c,_0x4edbd4){return _0x35da4c(_0x4edbd4);},'qUIYf':_0x457d26(0x104),'rUyFl':function(_0x3f7a80){return _0x3f7a80();},'OUSCT':function(_0x762ea8,_0x5b8f7e,_0x494ab3,_0x63a65f,_0x3170c0){return _0x762ea8(_0x5b8f7e,_0x494ab3,_0x63a65f,_0x3170c0);},'QUMKb':'POST','FHHXj':function(_0x40bdc2,_0x446a24){return _0x40bdc2(_0x446a24);},'WjIwW':function(_0x5dbc56,_0x120a55){return _0x5dbc56-_0x120a55;}};let _0x6789e0='';try{_0x6789e0=_0x1458eb[_0x457d26(0x12a)](_0x52bbcb=>'\x27'+_0x52bbcb[_0x457d26(0x120)]+'\x27:'+(nestedKeyValue(_0x52bbcb,[_0x457d26(0x128),_0x457d26(0xe1)])||nestedKeyValue(_0x52bbcb,[_0x457d26(0x103),_0x457d26(0xe1)])))[_0x457d26(0x11e)](','),_0x52ae7d[_0x457d26(0xe8)](debug,_0x457d26(0xbb)+_0x3c89fa+'.\x20Request\x20Size\x20-\x20'+Buffer[_0x457d26(0xf9)](util[_0x457d26(0xd0)]('%j',_0x1458eb),_0x52ae7d[_0x457d26(0x102)])+_0x457d26(0xec)+_0x6789e0);}catch(_0x153d92){_0x52ae7d[_0x457d26(0xe8)](debug,_0x457d26(0xe4)+util[_0x457d26(0xd0)](_0x153d92)+'}');}const _0x1a856e={'headers':_0x52ae7d[_0x457d26(0x10f)](getDefaultHeaders)};try{const _0x572e2c=await _0x52ae7d['OUSCT'](nodeRequest,_0x52ae7d[_0x457d26(0xee)],_0x241712,_0x1458eb,_0x1a856e);if(_0x572e2c[_0x457d26(0xf0)][_0x457d26(0xc9)]){const _0xa13041={};_0xa13041[_0x457d26(0x109)]=_0x572e2c[_0x457d26(0xf0)][_0x457d26(0xc9)];throw _0xa13041;}else _0x52ae7d[_0x457d26(0xe2)](debug,_0x3c89fa+_0x457d26(0xc1)+_0x6789e0+_0x457d26(0x118)+util[_0x457d26(0xd0)]('%j',_0x572e2c[_0x457d26(0xf0)])),this[_0x457d26(0x125)]=Math[_0x457d26(0x10a)](0x0,_0x52ae7d['WjIwW'](this[_0x457d26(0x125)],_0x1458eb[_0x457d26(0xc8)]));}catch(_0x5c5e20){_0x5c5e20[_0x457d26(0x101)]?_0x52ae7d[_0x457d26(0xe8)](debug,_0x457d26(0xdf)+_0x3c89fa+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20'+_0x5c5e20[_0x457d26(0x101)][_0x457d26(0xea)]+'\x20'+_0x5c5e20['response'][_0x457d26(0x106)]+'\x20'+util['format']('%j',_0x5c5e20[_0x457d26(0x101)])):_0x52ae7d[_0x457d26(0xe2)](debug,_0x457d26(0xdf)+_0x3c89fa+_0x457d26(0xe7)+(_0x5c5e20['message']||_0x5c5e20)),this['pendingUploads']=Math[_0x457d26(0x10a)](0x0,_0x52ae7d[_0x457d26(0x129)](this[_0x457d26(0x125)],_0x1458eb[_0x457d26(0xc8)]));}};[a86_0x1817c0(0x113)]=()=>{const _0x38f344=a86_0x1817c0,_0x55ee11={'GueUS':function(_0x53c6db,_0x2a7ea0){return _0x53c6db>_0x2a7ea0;},'wdQXz':function(_0xbd21d6,_0x493892){return _0xbd21d6(_0x493892);},'eHQah':_0x38f344(0x122),'mKGGr':function(_0x3890fd,_0x4c4a03,_0x3523f4){return _0x3890fd(_0x4c4a03,_0x3523f4);}};this[_0x38f344(0xcc)]=_0x55ee11[_0x38f344(0x11f)](setInterval,async()=>{const _0x138155=_0x38f344;if(_0x55ee11[_0x138155(0x116)](this['queue'][_0x138155(0xc8)],0x0)){_0x55ee11[_0x138155(0x105)](trace,_0x138155(0xc2)+this[_0x138155(0x124)][_0x138155(0xc8)]);const _0x17984b=this[_0x138155(0x124)][_0x138155(0xf8)](0x0,BATCH_SIZE);this[_0x138155(0x124)][_0x138155(0xe3)](0x0,BATCH_SIZE),await this[_0x138155(0x11b)](this[_0x138155(0x10c)],_0x55ee11[_0x138155(0xdd)],_0x17984b),_0x55ee11[_0x138155(0x105)](trace,_0x138155(0xbe)+this[_0x138155(0x124)][_0x138155(0xc8)]);}},BATCH_INTERVAL);};[a86_0x1817c0(0xfb)]=()=>{const _0x4d80a1=a86_0x1817c0,_0x38284c={};_0x38284c[_0x4d80a1(0xed)]='RESETTING';const _0x3d7b33=_0x38284c;this['removeEventBatchPolling'](_0x3d7b33[_0x4d80a1(0xed)]),this[_0x4d80a1(0x113)]();};[a86_0x1817c0(0xf4)]=_0x3d4eaf=>{const _0x31fefc=a86_0x1817c0,_0x5216e4={'rvdGj':function(_0x52491e,_0x3ef51d){return _0x52491e(_0x3ef51d);},'lvSgh':function(_0x2b2e6e,_0x418548){return _0x2b2e6e===_0x418548;},'FhRov':_0x31fefc(0xf5)};this[_0x31fefc(0xcc)]&&(_0x5216e4['rvdGj'](clearInterval,this[_0x31fefc(0xcc)]),this[_0x31fefc(0xcc)]=null,_0x5216e4['lvSgh'](_0x3d4eaf,_0x5216e4[_0x31fefc(0xbd)])&&(this[_0x31fefc(0xd1)]=![]));};['shouldProceed']=()=>{const _0x3f0be3=a86_0x1817c0,_0x4ce6d7={};_0x4ce6d7[_0x3f0be3(0xd2)]=function(_0x28191b,_0x4e7e89){return _0x28191b>=_0x4e7e89;};const _0x14bcc5=_0x4ce6d7;return _0x14bcc5['AlQTE'](this[_0x3f0be3(0x124)]['length'],BATCH_SIZE);};async[a86_0x1817c0(0x127)](_0xfe819f=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x4c3fa3=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x5ba93d=a86_0x1817c0,_0x1f202b={'vudgs':function(_0x2a8f86,_0x71c2fe){return _0x2a8f86<=_0x71c2fe;},'btrOm':function(_0x273ead,_0x1c5ec6){return _0x273ead(_0x1c5ec6);},'tGbGA':function(_0x584466,_0x485e17){return _0x584466-_0x485e17;}};if(_0x1f202b[_0x5ba93d(0xc7)](this[_0x5ba93d(0x125)],0x0)||_0x1f202b['vudgs'](_0xfe819f,0x0))return;return await _0x1f202b[_0x5ba93d(0x11c)](sleep,_0x4c3fa3),this['uploadPending'](_0x1f202b['tGbGA'](_0xfe819f,_0x4c3fa3));}}module[a86_0x1817c0(0xff)]=RequestQueueHandler;