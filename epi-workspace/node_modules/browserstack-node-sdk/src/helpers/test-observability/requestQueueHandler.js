const a115_0x2c33e6=a115_0x5561;(function(_0xb22aec,_0x57db71){const _0x167a6a=a115_0x5561,_0x421827=_0xb22aec();while(!![]){try{const _0x28acd1=-parseInt(_0x167a6a(0x1bb))/0x1+-parseInt(_0x167a6a(0x1f1))/0x2+parseInt(_0x167a6a(0x1a4))/0x3+parseInt(_0x167a6a(0x1c7))/0x4*(-parseInt(_0x167a6a(0x1af))/0x5)+-parseInt(_0x167a6a(0x1aa))/0x6+parseInt(_0x167a6a(0x1e3))/0x7+-parseInt(_0x167a6a(0x1b0))/0x8*(-parseInt(_0x167a6a(0x189))/0x9);if(_0x28acd1===_0x57db71)break;else _0x421827['push'](_0x421827['shift']());}catch(_0x56647c){_0x421827['push'](_0x421827['shift']());}}}(a115_0x207e,0x76b0e));const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a115_0x2c33e6(0x1a9)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a115_0x2c33e6(0x1ea)),{nestedKeyValue}=require(a115_0x2c33e6(0x190)),util=require(a115_0x2c33e6(0x17f));class RequestQueueHandler{static [a115_0x2c33e6(0x1b8)];['pendingUploads']=0x0;constructor(){const _0x34714f=a115_0x2c33e6,_0x58aef5={};_0x58aef5[_0x34714f(0x1a1)]=_0x34714f(0x185),_0x58aef5[_0x34714f(0x1c0)]='api/v1/screenshots',_0x58aef5[_0x34714f(0x19c)]='LogCreated',_0x58aef5[_0x34714f(0x1ab)]=_0x34714f(0x18d),_0x58aef5[_0x34714f(0x1be)]='TestRunFinished',_0x58aef5[_0x34714f(0x1ec)]=_0x34714f(0x193),_0x58aef5['jcksf']=_0x34714f(0x19e),_0x58aef5[_0x34714f(0x180)]=_0x34714f(0x1f0),_0x58aef5[_0x34714f(0x1a2)]=_0x34714f(0x1c5),_0x58aef5[_0x34714f(0x1b3)]=_0x34714f(0x18c),_0x58aef5[_0x34714f(0x1a7)]=_0x34714f(0x1d1);const _0x198e06=_0x58aef5,_0x1ec7ac=_0x198e06[_0x34714f(0x1a1)][_0x34714f(0x18b)]('|');let _0x1961fc=0x0;while(!![]){switch(_0x1ec7ac[_0x1961fc++]){case'0':this['screenshotEventUrl']=_0x198e06['ckkQw'];continue;case'1':this[_0x34714f(0x1ed)]=[];continue;case'2':this[_0x34714f(0x1b6)]=[_0x198e06[_0x34714f(0x19c)],_0x198e06[_0x34714f(0x1ab)],_0x198e06[_0x34714f(0x1be)],_0x198e06[_0x34714f(0x1ec)],_0x198e06['jcksf'],_0x198e06[_0x34714f(0x180)],_0x198e06[_0x34714f(0x1a2)]];continue;case'3':this[_0x34714f(0x1d3)]=_0x198e06[_0x34714f(0x1b3)];continue;case'4':this[_0x34714f(0x1a0)]=![];continue;case'5':this[_0x34714f(0x1da)]=null;continue;case'6':this[_0x34714f(0x1d9)]=_0x198e06[_0x34714f(0x1a7)];continue;}break;}}static[a115_0x2c33e6(0x1b1)](){return!RequestQueueHandler['instance']&&(RequestQueueHandler['instance']=new RequestQueueHandler()),RequestQueueHandler['instance'];}[a115_0x2c33e6(0x1d0)]=()=>{const _0x436dec=a115_0x2c33e6;!this[_0x436dec(0x1a0)]&&(this['started']=!![],this[_0x436dec(0x1cd)]());};[a115_0x2c33e6(0x1e5)]=_0x376b69=>{const _0x223fa0=a115_0x2c33e6,_0x25e95c={'Kbyru':function(_0x504107,_0x560852){return _0x504107===_0x560852;},'EfqKs':_0x223fa0(0x1ce),'HdHCA':function(_0x1b1d53,_0x37cf01){return _0x1b1d53>_0x37cf01;},'xmyxA':_0x223fa0(0x1e9),'zjWTD':function(_0x39cd18,_0x47218a){return _0x39cd18!==_0x47218a;},'qsRrN':_0x223fa0(0x181),'CyDnU':function(_0x82b069,_0x2c8d4b){return _0x82b069(_0x2c8d4b);},'QAPzt':_0x223fa0(0x1a3)};if(this[_0x223fa0(0x1b6)][_0x223fa0(0x195)](_0x376b69[_0x223fa0(0x198)])){if(_0x376b69[_0x223fa0(0x1d5)]&&_0x376b69[_0x223fa0(0x1d5)][0x0]&&_0x25e95c[_0x223fa0(0x1d7)](_0x376b69[_0x223fa0(0x1d5)][0x0][_0x223fa0(0x183)],_0x25e95c[_0x223fa0(0x1eb)])){const _0x401f7a={};return _0x401f7a[_0x223fa0(0x19f)]=!![],_0x401f7a[_0x223fa0(0x1a6)]=[_0x376b69],_0x401f7a[_0x223fa0(0x1ba)]=this[_0x223fa0(0x192)],_0x401f7a;}if(_0x376b69[_0x223fa0(0x1d5)]&&_0x25e95c[_0x223fa0(0x188)](_0x376b69[_0x223fa0(0x1d5)][_0x223fa0(0x1b5)],0x0)&&_0x25e95c[_0x223fa0(0x1d7)](_0x376b69[_0x223fa0(0x1d5)][0x0][_0x223fa0(0x183)],_0x25e95c[_0x223fa0(0x1df)])&&_0x25e95c[_0x223fa0(0x1de)](_0x376b69[_0x223fa0(0x198)],_0x25e95c[_0x223fa0(0x1c3)])){const _0x44c3bc={};return _0x44c3bc[_0x223fa0(0x19f)]=!![],_0x44c3bc[_0x223fa0(0x1a6)]=[_0x376b69],_0x44c3bc[_0x223fa0(0x1ba)]=this['uploadAttachmentUrl'],_0x44c3bc;}this[_0x223fa0(0x1ed)]['push'](_0x376b69);let _0x1904b1=null;const _0x140cc0=this[_0x223fa0(0x19f)]();_0x140cc0&&(_0x25e95c['CyDnU'](trace,_0x25e95c[_0x223fa0(0x1bf)]),_0x1904b1=this[_0x223fa0(0x1ed)][_0x223fa0(0x19a)](0x0,BATCH_SIZE),this['queue'][_0x223fa0(0x1a5)](0x0,BATCH_SIZE),this['resetEventBatchPolling']());const _0x363cb4={};return _0x363cb4['shouldProceed']=_0x140cc0,_0x363cb4[_0x223fa0(0x1a6)]=_0x1904b1,_0x363cb4[_0x223fa0(0x1ba)]=this[_0x223fa0(0x1d9)],_0x363cb4;}const _0x29bbd1={};return _0x29bbd1[_0x223fa0(0x19f)]=!![],_0x29bbd1;};['shutdown']=async()=>{const _0x32b891=a115_0x2c33e6,_0x5352d9={'NJgcc':'REMOVING','nTQSu':function(_0x4b3833,_0x415810){return _0x4b3833>_0x415810;},'gJYDz':_0x32b891(0x1b9),'GOrAl':function(_0x312800,_0x21f5a9){return _0x312800(_0x21f5a9);}};await this[_0x32b891(0x1ac)](),this['removeEventBatchPolling'](_0x5352d9[_0x32b891(0x1ae)]);while(_0x5352d9['nTQSu'](this[_0x32b891(0x1ed)][_0x32b891(0x1b5)],0x0)){const _0x11a558=this[_0x32b891(0x1ed)][_0x32b891(0x19a)](0x0,BATCH_SIZE);this[_0x32b891(0x1ed)][_0x32b891(0x1a5)](0x0,BATCH_SIZE),await this['batchAndPostEvents'](this[_0x32b891(0x1d9)],_0x5352d9[_0x32b891(0x1e7)],_0x11a558);}_0x5352d9[_0x32b891(0x1c4)](this[_0x32b891(0x18a)],0x0)&&_0x5352d9[_0x32b891(0x1ee)](debug,_0x32b891(0x1d4)+this[_0x32b891(0x18a)]);};[a115_0x2c33e6(0x182)]=async(_0x58a9ed,_0xf424d1,_0x1c8a90)=>{const _0x4583c5=a115_0x2c33e6,_0x5681c0={'gwPeV':function(_0x123412,_0x3fc63a){return _0x123412(_0x3fc63a);},'VAclt':_0x4583c5(0x1d2),'qlPiA':function(_0x9c5e4f){return _0x9c5e4f();},'rXBCm':function(_0x526050,_0x44b0ab,_0x33f6e6,_0x5414b1,_0x187a76){return _0x526050(_0x44b0ab,_0x33f6e6,_0x5414b1,_0x187a76);},'FnpPb':_0x4583c5(0x1db),'DhdbU':function(_0x5af301,_0x17d4a6){return _0x5af301-_0x17d4a6;}};let _0x402146='';try{_0x402146=_0x1c8a90[_0x4583c5(0x1e4)](_0x5e0b90=>'\x27'+_0x5e0b90[_0x4583c5(0x198)]+'\x27:'+(nestedKeyValue(_0x5e0b90,[_0x4583c5(0x1bc),_0x4583c5(0x1c2)])||nestedKeyValue(_0x5e0b90,[_0x4583c5(0x1b4),_0x4583c5(0x1c2)])))[_0x4583c5(0x1e1)](','),_0x5681c0[_0x4583c5(0x1ad)](debug,_0x4583c5(0x191)+_0xf424d1+_0x4583c5(0x19d)+Buffer[_0x4583c5(0x1e6)](util[_0x4583c5(0x1cc)]('%j',_0x1c8a90),_0x5681c0['VAclt'])+_0x4583c5(0x1c8)+_0x402146);}catch(_0x5d2156){_0x5681c0['gwPeV'](debug,_0x4583c5(0x1d8)+util[_0x4583c5(0x1cc)](_0x5d2156)+'}');}const _0x1aca1c={'headers':_0x5681c0[_0x4583c5(0x1c9)](getDefaultHeaders)};try{const _0x55cbf5=await _0x5681c0[_0x4583c5(0x1b7)](nodeRequest,_0x5681c0[_0x4583c5(0x1e2)],_0x58a9ed,_0x1c8a90,_0x1aca1c);if(_0x55cbf5[_0x4583c5(0x1dc)]['error']){const _0x41840b={};_0x41840b['message']=_0x55cbf5['data']['error'];throw _0x41840b;}else _0x5681c0[_0x4583c5(0x1ad)](debug,_0xf424d1+'\x20event\x20successful\x20for\x20events\x20'+_0x402146+'\x20--\x20'+util['format']('%j',_0x55cbf5[_0x4583c5(0x1dc)])),this[_0x4583c5(0x18a)]=Math[_0x4583c5(0x1ca)](0x0,_0x5681c0['DhdbU'](this[_0x4583c5(0x18a)],_0x1c8a90[_0x4583c5(0x1b5)]));}catch(_0x4a3caa){_0x4a3caa['response']?_0x5681c0['gwPeV'](debug,_0x4583c5(0x194)+_0xf424d1+_0x4583c5(0x1cb)+_0x4a3caa['response']['status']+'\x20'+_0x4a3caa['response'][_0x4583c5(0x196)]+'\x20'+util[_0x4583c5(0x1cc)]('%j',_0x4a3caa['response'])):_0x5681c0[_0x4583c5(0x1ad)](debug,_0x4583c5(0x194)+_0xf424d1+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20'+(_0x4a3caa['message']||_0x4a3caa)),this[_0x4583c5(0x18a)]=Math[_0x4583c5(0x1ca)](0x0,_0x5681c0[_0x4583c5(0x1cf)](this[_0x4583c5(0x18a)],_0x1c8a90[_0x4583c5(0x1b5)]));}};[a115_0x2c33e6(0x1cd)]=()=>{const _0x11984a=a115_0x2c33e6,_0x57fe2f={'hkLXS':function(_0x1aa38d,_0x4430b4){return _0x1aa38d>_0x4430b4;},'jsQOi':function(_0x24542e,_0x1eb17d){return _0x24542e(_0x1eb17d);},'zNLXK':_0x11984a(0x197),'okVBo':function(_0x1ceb7d,_0x41c488){return _0x1ceb7d(_0x41c488);},'tDrmL':function(_0x2efbb6,_0x33e342,_0x2d3f52){return _0x2efbb6(_0x33e342,_0x2d3f52);}};this[_0x11984a(0x1da)]=_0x57fe2f[_0x11984a(0x1b2)](setInterval,async()=>{const _0x21590a=_0x11984a;if(_0x57fe2f[_0x21590a(0x18f)](this['queue'][_0x21590a(0x1b5)],0x0)){_0x57fe2f[_0x21590a(0x1bd)](trace,_0x21590a(0x184)+this[_0x21590a(0x1ed)][_0x21590a(0x1b5)]);const _0x275b5f=this['queue'][_0x21590a(0x19a)](0x0,BATCH_SIZE);this['queue']['splice'](0x0,BATCH_SIZE),await this[_0x21590a(0x182)](this['eventUrl'],_0x57fe2f[_0x21590a(0x1d6)],_0x275b5f),_0x57fe2f[_0x21590a(0x1c6)](trace,_0x21590a(0x19b)+this['queue'][_0x21590a(0x1b5)]);}},BATCH_INTERVAL);};[a115_0x2c33e6(0x1e0)]=()=>{const _0x3cb286=a115_0x2c33e6,_0x3516a6={};_0x3516a6['qYGVS']='RESETTING';const _0x4bfde=_0x3516a6;this['removeEventBatchPolling'](_0x4bfde['qYGVS']),this[_0x3cb286(0x1cd)]();};['removeEventBatchPolling']=_0xa55109=>{const _0x1f456d=a115_0x2c33e6,_0x40e7c0={'uqxsM':function(_0x596bfc,_0x1c7ec1){return _0x596bfc(_0x1c7ec1);},'cIkOO':function(_0x19bd85,_0x61bc2e){return _0x19bd85===_0x61bc2e;},'kCWnE':_0x1f456d(0x18e)};this[_0x1f456d(0x1da)]&&(_0x40e7c0[_0x1f456d(0x199)](clearInterval,this['pollEventBatchInterval']),this['pollEventBatchInterval']=null,_0x40e7c0[_0x1f456d(0x1c1)](_0xa55109,_0x40e7c0[_0x1f456d(0x1dd)])&&(this[_0x1f456d(0x1a0)]=![]));};['shouldProceed']=()=>{const _0x49a8c4=a115_0x2c33e6,_0x29a1ae={};_0x29a1ae[_0x49a8c4(0x1e8)]=function(_0x1f5e27,_0x40d55a){return _0x1f5e27>=_0x40d55a;};const _0x1a614e=_0x29a1ae;return _0x1a614e['tMRFC'](this[_0x49a8c4(0x1ed)]['length'],BATCH_SIZE);};async[a115_0x2c33e6(0x1ac)](_0x4a66ef=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x5765f3=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x1f76e1=a115_0x2c33e6,_0x4aea07={'ZFVKy':function(_0x3230f3,_0x273763){return _0x3230f3<=_0x273763;},'jwtCv':function(_0x1c4724,_0x166510){return _0x1c4724<=_0x166510;},'CCHSm':function(_0x2d646c,_0x7f589b){return _0x2d646c(_0x7f589b);},'IWqHl':function(_0x423a20,_0xd8f77e){return _0x423a20-_0xd8f77e;}};if(_0x4aea07[_0x1f76e1(0x1a8)](this[_0x1f76e1(0x18a)],0x0)||_0x4aea07['jwtCv'](_0x4a66ef,0x0))return;return await _0x4aea07[_0x1f76e1(0x186)](sleep,_0x5765f3),this['uploadPending'](_0x4aea07[_0x1f76e1(0x1ef)](_0x4a66ef,_0x5765f3));}}function a115_0x5561(_0x10b328,_0x2e93ab){const _0x207ec0=a115_0x207e();return a115_0x5561=function(_0x55614f,_0x289881){_0x55614f=_0x55614f-0x17f;let _0x4c92fa=_0x207ec0[_0x55614f];return _0x4c92fa;},a115_0x5561(_0x10b328,_0x2e93ab);}function a115_0x207e(){const _0x46527b=['Processing\x20events.\x20Queue\x20Length\x20-\x20','1|4|6|0|3|2|5','CCHSm','exports','HdHCA','135YRddoJ','pendingUploads','split','upload-attachments','CBTSessionCreated','REMOVING','hkLXS','../helper','Processing\x20batch\x20events\x20for\x20','screenshotEventUrl','TestRunSkipped','EXCEPTION\x20IN\x20','includes','statusText','Interval-Queue','event_type','uqxsM','slice','Remaining\x20Queue\x20Length\x20-\x20','paDjf','.\x20Request\x20Size\x20-\x20','HookRunFinished','shouldProceed','started','FsLmt','kUxqg','Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..','844533VDjmgP','splice','proceedWithData','GdJCx','ZFVKy','./constants','2074764TccjlX','CjMnV','uploadPending','gwPeV','NJgcc','35XDvraP','573288HyUZmL','getInstance','tDrmL','PpdMw','hook_run','length','BATCH_EVENT_TYPES','rXBCm','instance','Shutdown-Queue','proceedWithUrl','103671RzIdTB','test_run','jsQOi','XrEVU','QAPzt','ckkQw','cIkOO','uuid','qsRrN','nTQSu','HookRunStarted','okVBo','29004aHBdKO','\x20bytes.\x20Events\x20are\x20','qlPiA','max','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','format','startEventBatchPolling','TEST_SCREENSHOT','DhdbU','start','api/v1/batch','utf8','uploadAttachmentUrl','Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20','logs','zNLXK','Kbyru','Exception\x20in\x20logging\x20batch\x20events\x20--\x20','eventUrl','pollEventBatchInterval','POST','data','kCWnE','zjWTD','xmyxA','resetEventBatchPolling','join','FnpPb','1910321akfkzu','map','add','byteLength','gJYDz','tMRFC','TEST_ATTACHMENT','./utils','EfqKs','SYtCn','queue','GOrAl','IWqHl','TestRunStarted','1285898szLLvs','util','cCFBL','TestRunFinished','batchAndPostEvents','kind'];a115_0x207e=function(){return _0x46527b;};return a115_0x207e();}module[a115_0x2c33e6(0x187)]=RequestQueueHandler;