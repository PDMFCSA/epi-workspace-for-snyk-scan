function a86_0x421e(_0x11ce5b,_0x3a8c9f){const _0x52ea21=a86_0x52ea();return a86_0x421e=function(_0x421e31,_0x4cad11){_0x421e31=_0x421e31-0x112;let _0x2d4d3f=_0x52ea21[_0x421e31];return _0x2d4d3f;},a86_0x421e(_0x11ce5b,_0x3a8c9f);}const a86_0xc2148e=a86_0x421e;(function(_0x32178e,_0x3a43d7){const _0x4350fb=a86_0x421e,_0x2cb601=_0x32178e();while(!![]){try{const _0x24a967=parseInt(_0x4350fb(0x12a))/0x1+parseInt(_0x4350fb(0x157))/0x2+-parseInt(_0x4350fb(0x180))/0x3+-parseInt(_0x4350fb(0x135))/0x4+-parseInt(_0x4350fb(0x158))/0x5*(-parseInt(_0x4350fb(0x164))/0x6)+parseInt(_0x4350fb(0x156))/0x7+-parseInt(_0x4350fb(0x15e))/0x8*(parseInt(_0x4350fb(0x120))/0x9);if(_0x24a967===_0x3a43d7)break;else _0x2cb601['push'](_0x2cb601['shift']());}catch(_0x18b2ae){_0x2cb601['push'](_0x2cb601['shift']());}}}(a86_0x52ea,0x9f599));const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a86_0xc2148e(0x187)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a86_0xc2148e(0x179)),{nestedKeyValue}=require(a86_0xc2148e(0x146)),util=require(a86_0xc2148e(0x115));function a86_0x52ea(){const _0x100672=['response','FhFSZ','proceedWithUrl','fnjvm','startEventBatchPolling','\x20event\x20successful\x20for\x20events\x20','YpqOM','pollEventBatchInterval','REMOVING','SGmEr','LogCreated','sAcPG','IBLPd','OtKcx','message','add','guNSq','JOdpk','tYoew','./utils','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','kind','CBTSessionCreated','error','gEhrl','exports','1270962FNZzSJ','bWgcX','start','TestRunSkipped','api/v1/screenshots','QZZaz','resetEventBatchPolling','./constants','WGCEL','status','Exception\x20in\x20logging\x20batch\x20events\x20--\x20','length','LwAXy','util','statusText','GxhBw','aaWuG','POST','uuid','iQOxw','BdmPu','.\x20Request\x20Size\x20-\x20','Interval-Queue','UYKCA','42786iHuYEv','event_type','uploadAttachmentUrl','join','HookRunStarted','Remaining\x20Queue\x20Length\x20-\x20','kenXQ','api/v1/batch','eventUrl','BFGkv','359284leVLps','splice','queue','Processing\x20events.\x20Queue\x20Length\x20-\x20','VAEPh','logs','TestRunFinished','wbecq','EXCEPTION\x20IN\x20','started','getInstance','823588YLFTvy','Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..','slice','uploadPending','LHMeF','pendingUploads','LwaBH','rVuGi','\x20bytes.\x20Events\x20are\x20','batchAndPostEvents','AsXWb','map','mOyDs','oZONt','BfqBe','upload-attachments','proceedWithData','../helper','BYBcu','TrTSi','format','TestRunStarted','hqbAm','utf8','\x20--\x20','VtVJn','TEST_SCREENSHOT','instance','RESETTING','vhFnk','screenshotEventUrl','data','TEST_ATTACHMENT','6828633AscsgQ','1609648BxtgHm','561635LfUwPV','Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20','Shutdown-Queue','max','hook_run','byteLength','3144FCljXo','BATCH_EVENT_TYPES','shutdown','shouldProceed','HookRunFinished','split','54QnheNR','LHFyO'];a86_0x52ea=function(){return _0x100672;};return a86_0x52ea();}class RequestQueueHandler{static ['instance'];[a86_0xc2148e(0x13a)]=0x0;constructor(){const _0x4492a5=a86_0xc2148e,_0x51a4c6={};_0x51a4c6['rVuGi']='0|3|5|6|1|4|2',_0x51a4c6[_0x4492a5(0x14b)]=_0x4492a5(0x144),_0x51a4c6['YpqOM']=_0x4492a5(0x170),_0x51a4c6[_0x4492a5(0x143)]=_0x4492a5(0x17c),_0x51a4c6['BFGkv']=_0x4492a5(0x130),_0x51a4c6['LwAXy']=_0x4492a5(0x183),_0x51a4c6[_0x4492a5(0x177)]=_0x4492a5(0x162),_0x51a4c6[_0x4492a5(0x17e)]=_0x4492a5(0x14a),_0x51a4c6[_0x4492a5(0x152)]=_0x4492a5(0x124),_0x51a4c6[_0x4492a5(0x185)]=_0x4492a5(0x127),_0x51a4c6[_0x4492a5(0x171)]=_0x4492a5(0x184);const _0x2f069=_0x51a4c6,_0x35a256=_0x2f069[_0x4492a5(0x13c)][_0x4492a5(0x163)]('|');let _0x2cbefb=0x0;while(!![]){switch(_0x35a256[_0x2cbefb++]){case'0':this[_0x4492a5(0x12c)]=[];continue;case'1':this[_0x4492a5(0x122)]=_0x2f069[_0x4492a5(0x14b)];continue;case'2':this[_0x4492a5(0x16d)]=null;continue;case'3':this[_0x4492a5(0x133)]=![];continue;case'4':this[_0x4492a5(0x15f)]=[_0x2f069[_0x4492a5(0x16c)],_0x2f069[_0x4492a5(0x143)],_0x2f069[_0x4492a5(0x129)],_0x2f069[_0x4492a5(0x114)],_0x2f069[_0x4492a5(0x177)],_0x2f069['gEhrl'],_0x2f069['vhFnk']];continue;case'5':this['eventUrl']=_0x2f069[_0x4492a5(0x185)];continue;case'6':this[_0x4492a5(0x153)]=_0x2f069[_0x4492a5(0x171)];continue;}break;}}static[a86_0xc2148e(0x134)](){const _0x2ee422=a86_0xc2148e;return!RequestQueueHandler['instance']&&(RequestQueueHandler[_0x2ee422(0x150)]=new RequestQueueHandler()),RequestQueueHandler[_0x2ee422(0x150)];}[a86_0xc2148e(0x182)]=()=>{const _0x3dfff1=a86_0xc2148e;!this[_0x3dfff1(0x133)]&&(this[_0x3dfff1(0x133)]=!![],this['startEventBatchPolling']());};[a86_0xc2148e(0x175)]=_0x29824d=>{const _0x13b645=a86_0xc2148e,_0x517055={'bWgcX':function(_0x53ef2b,_0x44f4c0){return _0x53ef2b===_0x44f4c0;},'LfEOX':_0x13b645(0x14f),'LwaBH':function(_0x10ce0f,_0x422df1){return _0x10ce0f>_0x422df1;},'FGvVa':function(_0x204358,_0xd367c3){return _0x204358===_0xd367c3;},'oZONt':_0x13b645(0x155),'vwvJk':function(_0x5bf31a,_0x2392a5){return _0x5bf31a!==_0x2392a5;},'aaWuG':_0x13b645(0x130),'LHMeF':function(_0x2cc416,_0x37a76d){return _0x2cc416(_0x37a76d);},'mOyDs':_0x13b645(0x136)};if(this[_0x13b645(0x15f)]['includes'](_0x29824d[_0x13b645(0x121)])){if(_0x29824d[_0x13b645(0x12f)]&&_0x29824d[_0x13b645(0x12f)][0x0]&&_0x517055[_0x13b645(0x181)](_0x29824d['logs'][0x0][_0x13b645(0x17b)],_0x517055['LfEOX'])){const _0x4e7458={};return _0x4e7458[_0x13b645(0x161)]=!![],_0x4e7458['proceedWithData']=[_0x29824d],_0x4e7458['proceedWithUrl']=this[_0x13b645(0x153)],_0x4e7458;}if(_0x29824d[_0x13b645(0x12f)]&&_0x517055[_0x13b645(0x13b)](_0x29824d[_0x13b645(0x12f)][_0x13b645(0x113)],0x0)&&_0x517055['FGvVa'](_0x29824d[_0x13b645(0x12f)][0x0][_0x13b645(0x17b)],_0x517055[_0x13b645(0x142)])&&_0x517055['vwvJk'](_0x29824d[_0x13b645(0x121)],_0x517055[_0x13b645(0x118)])){const _0x47db1b={};return _0x47db1b[_0x13b645(0x161)]=!![],_0x47db1b[_0x13b645(0x145)]=[_0x29824d],_0x47db1b[_0x13b645(0x168)]=this['uploadAttachmentUrl'],_0x47db1b;}this[_0x13b645(0x12c)]['push'](_0x29824d);let _0x5a6ea5=null;const _0x4e604e=this[_0x13b645(0x161)]();_0x4e604e&&(_0x517055[_0x13b645(0x139)](trace,_0x517055[_0x13b645(0x141)]),_0x5a6ea5=this[_0x13b645(0x12c)][_0x13b645(0x137)](0x0,BATCH_SIZE),this[_0x13b645(0x12c)][_0x13b645(0x12b)](0x0,BATCH_SIZE),this[_0x13b645(0x186)]());const _0x1c69cd={};return _0x1c69cd[_0x13b645(0x161)]=_0x4e604e,_0x1c69cd['proceedWithData']=_0x5a6ea5,_0x1c69cd[_0x13b645(0x168)]=this['eventUrl'],_0x1c69cd;}const _0x448dfb={};return _0x448dfb[_0x13b645(0x161)]=!![],_0x448dfb;};[a86_0xc2148e(0x160)]=async()=>{const _0x425aa5=a86_0xc2148e,_0x42e58e={'FhFSZ':_0x425aa5(0x16e),'VAEPh':function(_0x3f234e,_0x2e740b){return _0x3f234e>_0x2e740b;},'PlQqg':_0x425aa5(0x15a),'IBLPd':function(_0x1da67b,_0x18e5a0){return _0x1da67b(_0x18e5a0);}};await this[_0x425aa5(0x138)](),this['removeEventBatchPolling'](_0x42e58e[_0x425aa5(0x167)]);while(_0x42e58e['VAEPh'](this[_0x425aa5(0x12c)]['length'],0x0)){const _0x35e981=this['queue'][_0x425aa5(0x137)](0x0,BATCH_SIZE);this[_0x425aa5(0x12c)][_0x425aa5(0x12b)](0x0,BATCH_SIZE),await this['batchAndPostEvents'](this['eventUrl'],_0x42e58e['PlQqg'],_0x35e981);}_0x42e58e[_0x425aa5(0x12e)](this[_0x425aa5(0x13a)],0x0)&&_0x42e58e[_0x425aa5(0x172)](debug,_0x425aa5(0x159)+this['pendingUploads']);};[a86_0xc2148e(0x13e)]=async(_0x47c516,_0x50e39b,_0x34392d)=>{const _0x2f54f0=a86_0xc2148e,_0x31d583={'TrTSi':function(_0x42c766,_0x2ae96e){return _0x42c766(_0x2ae96e);},'SGmEr':_0x2f54f0(0x14c),'HOVTe':function(_0x2e90ab){return _0x2e90ab();},'GxhBw':function(_0x5aa2ef,_0x2be9ae,_0x5e3eb4,_0x21d7b1,_0x1712ba){return _0x5aa2ef(_0x2be9ae,_0x5e3eb4,_0x21d7b1,_0x1712ba);},'wbecq':_0x2f54f0(0x119),'XiChu':function(_0x41124f,_0xc8f8c){return _0x41124f(_0xc8f8c);},'OtKcx':function(_0x54a6f8,_0x21e076){return _0x54a6f8-_0x21e076;},'tYoew':function(_0x15abfe,_0x4c11de){return _0x15abfe(_0x4c11de);}};let _0x58341d='';try{_0x58341d=_0x34392d[_0x2f54f0(0x140)](_0xc9a92b=>'\x27'+_0xc9a92b['event_type']+'\x27:'+(nestedKeyValue(_0xc9a92b,['test_run',_0x2f54f0(0x11a)])||nestedKeyValue(_0xc9a92b,[_0x2f54f0(0x15c),'uuid'])))[_0x2f54f0(0x123)](','),_0x31d583[_0x2f54f0(0x148)](debug,'Processing\x20batch\x20events\x20for\x20'+_0x50e39b+_0x2f54f0(0x11d)+Buffer[_0x2f54f0(0x15d)](util[_0x2f54f0(0x149)]('%j',_0x34392d),_0x31d583[_0x2f54f0(0x16f)])+_0x2f54f0(0x13d)+_0x58341d);}catch(_0x12efa7){_0x31d583[_0x2f54f0(0x148)](debug,_0x2f54f0(0x112)+util[_0x2f54f0(0x149)](_0x12efa7)+'}');}const _0x373ea8={'headers':_0x31d583['HOVTe'](getDefaultHeaders)};try{const _0x1c6963=await _0x31d583[_0x2f54f0(0x117)](nodeRequest,_0x31d583[_0x2f54f0(0x131)],_0x47c516,_0x34392d,_0x373ea8);if(_0x1c6963[_0x2f54f0(0x154)][_0x2f54f0(0x17d)]){const _0x3b780b={};_0x3b780b[_0x2f54f0(0x174)]=_0x1c6963[_0x2f54f0(0x154)][_0x2f54f0(0x17d)];throw _0x3b780b;}else _0x31d583['XiChu'](debug,_0x50e39b+_0x2f54f0(0x16b)+_0x58341d+_0x2f54f0(0x14d)+util[_0x2f54f0(0x149)]('%j',_0x1c6963[_0x2f54f0(0x154)])),this[_0x2f54f0(0x13a)]=Math[_0x2f54f0(0x15b)](0x0,_0x31d583[_0x2f54f0(0x173)](this[_0x2f54f0(0x13a)],_0x34392d['length']));}catch(_0x18adbe){_0x18adbe[_0x2f54f0(0x166)]?_0x31d583['XiChu'](debug,_0x2f54f0(0x132)+_0x50e39b+_0x2f54f0(0x17a)+_0x18adbe[_0x2f54f0(0x166)][_0x2f54f0(0x189)]+'\x20'+_0x18adbe['response'][_0x2f54f0(0x116)]+'\x20'+util[_0x2f54f0(0x149)]('%j',_0x18adbe[_0x2f54f0(0x166)])):_0x31d583[_0x2f54f0(0x178)](debug,_0x2f54f0(0x132)+_0x50e39b+_0x2f54f0(0x17a)+(_0x18adbe[_0x2f54f0(0x174)]||_0x18adbe)),this['pendingUploads']=Math['max'](0x0,_0x31d583[_0x2f54f0(0x173)](this[_0x2f54f0(0x13a)],_0x34392d[_0x2f54f0(0x113)]));}};[a86_0xc2148e(0x16a)]=()=>{const _0x18ae3d=a86_0xc2148e,_0x2a168c={'fMmjd':function(_0xfa985b,_0x2d685a){return _0xfa985b>_0x2d685a;},'BdmPu':function(_0xabb4a2,_0x21accb){return _0xabb4a2(_0x21accb);},'kenXQ':_0x18ae3d(0x11e),'iQOxw':function(_0xcb0099,_0x2f5a33,_0x39f730){return _0xcb0099(_0x2f5a33,_0x39f730);}};this['pollEventBatchInterval']=_0x2a168c[_0x18ae3d(0x11b)](setInterval,async()=>{const _0x391551=_0x18ae3d;if(_0x2a168c['fMmjd'](this['queue'][_0x391551(0x113)],0x0)){_0x2a168c[_0x391551(0x11c)](trace,_0x391551(0x12d)+this['queue']['length']);const _0x5f1614=this[_0x391551(0x12c)][_0x391551(0x137)](0x0,BATCH_SIZE);this[_0x391551(0x12c)]['splice'](0x0,BATCH_SIZE),await this[_0x391551(0x13e)](this[_0x391551(0x128)],_0x2a168c[_0x391551(0x126)],_0x5f1614),_0x2a168c[_0x391551(0x11c)](trace,_0x391551(0x125)+this[_0x391551(0x12c)][_0x391551(0x113)]);}},BATCH_INTERVAL);};[a86_0xc2148e(0x186)]=()=>{const _0x484234=a86_0xc2148e,_0x15e2a0={};_0x15e2a0[_0x484234(0x14e)]=_0x484234(0x151);const _0x57d34a=_0x15e2a0;this['removeEventBatchPolling'](_0x57d34a[_0x484234(0x14e)]),this[_0x484234(0x16a)]();};['removeEventBatchPolling']=_0x5d5f63=>{const _0x2cfbea=a86_0xc2148e,_0x537d5d={'AsXWb':function(_0x275497,_0x5dad21){return _0x275497(_0x5dad21);},'UYKCA':function(_0x57cbe5,_0x5cd207){return _0x57cbe5===_0x5cd207;},'guNSq':_0x2cfbea(0x16e)};this['pollEventBatchInterval']&&(_0x537d5d[_0x2cfbea(0x13f)](clearInterval,this[_0x2cfbea(0x16d)]),this[_0x2cfbea(0x16d)]=null,_0x537d5d[_0x2cfbea(0x11f)](_0x5d5f63,_0x537d5d[_0x2cfbea(0x176)])&&(this['started']=![]));};[a86_0xc2148e(0x161)]=()=>{const _0x22c262=a86_0xc2148e,_0x39a206={};_0x39a206[_0x22c262(0x147)]=function(_0x5ee70e,_0x2414de){return _0x5ee70e>=_0x2414de;};const _0x416e56=_0x39a206;return _0x416e56[_0x22c262(0x147)](this[_0x22c262(0x12c)][_0x22c262(0x113)],BATCH_SIZE);};async[a86_0xc2148e(0x138)](_0x328ee5=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x3d2eba=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x500951=a86_0xc2148e,_0x1e95d0={'fnjvm':function(_0x436755,_0x1f1b27){return _0x436755<=_0x1f1b27;},'WGCEL':function(_0x499873,_0x465c37){return _0x499873<=_0x465c37;},'igYxS':function(_0x3b2ac0,_0x1f5004){return _0x3b2ac0(_0x1f5004);},'LHFyO':function(_0x403165,_0x1ae4e6){return _0x403165-_0x1ae4e6;}};if(_0x1e95d0[_0x500951(0x169)](this[_0x500951(0x13a)],0x0)||_0x1e95d0[_0x500951(0x188)](_0x328ee5,0x0))return;return await _0x1e95d0['igYxS'](sleep,_0x3d2eba),this[_0x500951(0x138)](_0x1e95d0[_0x500951(0x165)](_0x328ee5,_0x3d2eba));}}module[a86_0xc2148e(0x17f)]=RequestQueueHandler;