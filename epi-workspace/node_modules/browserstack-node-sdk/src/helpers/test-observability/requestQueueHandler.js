const a85_0x32fbd2=a85_0x4d61;(function(_0x489620,_0x6ff87f){const _0x597339=a85_0x4d61,_0x15ed5b=_0x489620();while(!![]){try{const _0x43bc53=parseInt(_0x597339(0x235))/0x1*(parseInt(_0x597339(0x255))/0x2)+parseInt(_0x597339(0x200))/0x3*(parseInt(_0x597339(0x1f9))/0x4)+-parseInt(_0x597339(0x266))/0x5*(parseInt(_0x597339(0x243))/0x6)+-parseInt(_0x597339(0x229))/0x7+-parseInt(_0x597339(0x214))/0x8+-parseInt(_0x597339(0x24f))/0x9+-parseInt(_0x597339(0x257))/0xa*(-parseInt(_0x597339(0x245))/0xb);if(_0x43bc53===_0x6ff87f)break;else _0x15ed5b['push'](_0x15ed5b['shift']());}catch(_0x506c26){_0x15ed5b['push'](_0x15ed5b['shift']());}}}(a85_0x1c09,0x506fa));function a85_0x4d61(_0xe58b3e,_0x2ed148){const _0x1c098f=a85_0x1c09();return a85_0x4d61=function(_0x4d61b8,_0x8183a4){_0x4d61b8=_0x4d61b8-0x1f2;let _0x2546c6=_0x1c098f[_0x4d61b8];return _0x2546c6;},a85_0x4d61(_0xe58b3e,_0x2ed148);}const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a85_0x32fbd2(0x1fd)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a85_0x32fbd2(0x234)),{nestedKeyValue}=require(a85_0x32fbd2(0x21a)),util=require(a85_0x32fbd2(0x21c));class RequestQueueHandler{static [a85_0x32fbd2(0x220)];[a85_0x32fbd2(0x217)]=0x0;constructor(){const _0x3b5ac5=a85_0x32fbd2,_0x2f1b0b={};_0x2f1b0b['kPdbm']=_0x3b5ac5(0x1f2),_0x2f1b0b[_0x3b5ac5(0x252)]='LogCreated',_0x2f1b0b[_0x3b5ac5(0x249)]=_0x3b5ac5(0x232),_0x2f1b0b[_0x3b5ac5(0x227)]=_0x3b5ac5(0x268),_0x2f1b0b['iSSQm']=_0x3b5ac5(0x24e),_0x2f1b0b['fBqOE']=_0x3b5ac5(0x23c),_0x2f1b0b[_0x3b5ac5(0x258)]=_0x3b5ac5(0x248),_0x2f1b0b[_0x3b5ac5(0x267)]='HookRunStarted',_0x2f1b0b['XXtAf']=_0x3b5ac5(0x22b),_0x2f1b0b[_0x3b5ac5(0x203)]=_0x3b5ac5(0x24c),_0x2f1b0b[_0x3b5ac5(0x246)]=_0x3b5ac5(0x216);const _0x1f7583=_0x2f1b0b,_0x264478=_0x1f7583[_0x3b5ac5(0x25f)][_0x3b5ac5(0x201)]('|');let _0x146cc3=0x0;while(!![]){switch(_0x264478[_0x146cc3++]){case'0':this[_0x3b5ac5(0x204)]=[];continue;case'1':this['BATCH_EVENT_TYPES']=[_0x1f7583[_0x3b5ac5(0x252)],_0x1f7583['fWYGr'],_0x1f7583['nlGfb'],_0x1f7583[_0x3b5ac5(0x264)],_0x1f7583[_0x3b5ac5(0x21d)],_0x1f7583[_0x3b5ac5(0x258)],_0x1f7583[_0x3b5ac5(0x267)]];continue;case'2':this['started']=![];continue;case'3':this['uploadAttachmentUrl']=_0x1f7583[_0x3b5ac5(0x208)];continue;case'4':this[_0x3b5ac5(0x23b)]=null;continue;case'5':this[_0x3b5ac5(0x20a)]=_0x1f7583['RSilD'];continue;case'6':this[_0x3b5ac5(0x228)]=_0x1f7583[_0x3b5ac5(0x246)];continue;}break;}}static[a85_0x32fbd2(0x215)](){const _0x1a59a7=a85_0x32fbd2;return!RequestQueueHandler[_0x1a59a7(0x220)]&&(RequestQueueHandler['instance']=new RequestQueueHandler()),RequestQueueHandler[_0x1a59a7(0x220)];}[a85_0x32fbd2(0x23f)]=()=>{const _0x201b01=a85_0x32fbd2;!this[_0x201b01(0x262)]&&(this[_0x201b01(0x262)]=!![],this[_0x201b01(0x222)]());};[a85_0x32fbd2(0x22c)]=_0x51ff19=>{const _0x4fe233=a85_0x32fbd2,_0x1d500a={'xuwqz':function(_0x8d9ac2,_0x1dc2a1){return _0x8d9ac2===_0x1dc2a1;},'LEmUm':_0x4fe233(0x253),'jEGul':function(_0x5793a7,_0x3bb9d2){return _0x5793a7>_0x3bb9d2;},'DdUuR':'TEST_ATTACHMENT','fZQsM':function(_0x38f194,_0x45ec60){return _0x38f194!==_0x45ec60;},'nZsws':_0x4fe233(0x268),'FZIcM':function(_0x476a39,_0x425dde){return _0x476a39(_0x425dde);},'PWNWg':_0x4fe233(0x1f6)};if(this[_0x4fe233(0x237)][_0x4fe233(0x263)](_0x51ff19[_0x4fe233(0x261)])){if(_0x51ff19['logs']&&_0x51ff19[_0x4fe233(0x205)][0x0]&&_0x1d500a[_0x4fe233(0x1fc)](_0x51ff19[_0x4fe233(0x205)][0x0][_0x4fe233(0x1fa)],_0x1d500a[_0x4fe233(0x22f)])){const _0x11e45d={};return _0x11e45d['shouldProceed']=!![],_0x11e45d['proceedWithData']=[_0x51ff19],_0x11e45d[_0x4fe233(0x20b)]=this[_0x4fe233(0x228)],_0x11e45d;}if(_0x51ff19['logs']&&_0x1d500a['jEGul'](_0x51ff19[_0x4fe233(0x205)]['length'],0x0)&&_0x1d500a[_0x4fe233(0x1fc)](_0x51ff19['logs'][0x0][_0x4fe233(0x1fa)],_0x1d500a[_0x4fe233(0x25a)])&&_0x1d500a['fZQsM'](_0x51ff19[_0x4fe233(0x261)],_0x1d500a[_0x4fe233(0x224)])){const _0xa30900={};return _0xa30900[_0x4fe233(0x20e)]=!![],_0xa30900[_0x4fe233(0x212)]=[_0x51ff19],_0xa30900[_0x4fe233(0x20b)]=this[_0x4fe233(0x21b)],_0xa30900;}this['queue'][_0x4fe233(0x218)](_0x51ff19);let _0x40ccc5=null;const _0x3fc538=this[_0x4fe233(0x20e)]();_0x3fc538&&(_0x1d500a[_0x4fe233(0x242)](trace,_0x1d500a[_0x4fe233(0x211)]),_0x40ccc5=this['queue']['slice'](0x0,BATCH_SIZE),this[_0x4fe233(0x204)][_0x4fe233(0x254)](0x0,BATCH_SIZE),this[_0x4fe233(0x233)]());const _0x4a273c={};return _0x4a273c[_0x4fe233(0x20e)]=_0x3fc538,_0x4a273c[_0x4fe233(0x212)]=_0x40ccc5,_0x4a273c[_0x4fe233(0x20b)]=this['eventUrl'],_0x4a273c;}const _0x2301a5={};return _0x2301a5[_0x4fe233(0x20e)]=!![],_0x2301a5;};[a85_0x32fbd2(0x259)]=async()=>{const _0x4a8dbf=a85_0x32fbd2,_0x56928a={'udDtP':_0x4a8dbf(0x1f7),'CPGLu':function(_0x247278,_0x3172b0){return _0x247278>_0x3172b0;},'RaEPP':_0x4a8dbf(0x247),'pJsId':function(_0x2b7cfa,_0x1e4450){return _0x2b7cfa>_0x1e4450;},'kNyKm':function(_0x23373d,_0x1c92a0){return _0x23373d(_0x1c92a0);}};await this[_0x4a8dbf(0x1fb)](),this['removeEventBatchPolling'](_0x56928a[_0x4a8dbf(0x256)]);while(_0x56928a[_0x4a8dbf(0x1ff)](this[_0x4a8dbf(0x204)]['length'],0x0)){const _0x50f390=this[_0x4a8dbf(0x204)][_0x4a8dbf(0x1fe)](0x0,BATCH_SIZE);this[_0x4a8dbf(0x204)][_0x4a8dbf(0x254)](0x0,BATCH_SIZE),await this[_0x4a8dbf(0x209)](this['eventUrl'],_0x56928a[_0x4a8dbf(0x1f3)],_0x50f390);}_0x56928a[_0x4a8dbf(0x225)](this[_0x4a8dbf(0x217)],0x0)&&_0x56928a[_0x4a8dbf(0x20c)](debug,_0x4a8dbf(0x236)+this[_0x4a8dbf(0x217)]);};[a85_0x32fbd2(0x209)]=async(_0x585f3c,_0xa84479,_0x234bee)=>{const _0x5f12f3=a85_0x32fbd2,_0x266a28={'ZSdSq':function(_0x1f503b,_0x41941e){return _0x1f503b(_0x41941e);},'mKais':'utf8','MIeqh':function(_0x1d94c7){return _0x1d94c7();},'haulh':function(_0x27c7e0,_0x31d2f0,_0x33a87b,_0x35f85d,_0x4f9a50){return _0x27c7e0(_0x31d2f0,_0x33a87b,_0x35f85d,_0x4f9a50);},'mbRRs':_0x5f12f3(0x265),'uYhZj':function(_0x38ee39,_0x6d138c){return _0x38ee39(_0x6d138c);},'IGRyC':function(_0x18859e,_0x525f67){return _0x18859e-_0x525f67;},'drsrV':function(_0x2f1144,_0x324e2e){return _0x2f1144(_0x324e2e);},'HkQdv':function(_0x2d0cea,_0xb9b194){return _0x2d0cea-_0xb9b194;}};let _0x4c58e7='';try{_0x4c58e7=_0x234bee[_0x5f12f3(0x21e)](_0x1aa114=>'\x27'+_0x1aa114[_0x5f12f3(0x261)]+'\x27:'+(nestedKeyValue(_0x1aa114,['test_run',_0x5f12f3(0x244)])||nestedKeyValue(_0x1aa114,[_0x5f12f3(0x25b),_0x5f12f3(0x244)])))[_0x5f12f3(0x251)](','),_0x266a28['ZSdSq'](debug,'Processing\x20batch\x20events\x20for\x20'+_0xa84479+'.\x20Request\x20Size\x20-\x20'+Buffer[_0x5f12f3(0x22a)](util[_0x5f12f3(0x20d)]('%j',_0x234bee),_0x266a28['mKais'])+_0x5f12f3(0x223)+_0x4c58e7);}catch(_0x366d7b){_0x266a28[_0x5f12f3(0x20f)](debug,_0x5f12f3(0x240)+util[_0x5f12f3(0x20d)](_0x366d7b)+'}');}const _0x4d9960={'headers':_0x266a28[_0x5f12f3(0x25d)](getDefaultHeaders)};try{const _0x2a612d=await _0x266a28[_0x5f12f3(0x238)](nodeRequest,_0x266a28['mbRRs'],_0x585f3c,_0x234bee,_0x4d9960);if(_0x2a612d[_0x5f12f3(0x23e)][_0x5f12f3(0x219)]){const _0x4b80bb={};_0x4b80bb[_0x5f12f3(0x26a)]=_0x2a612d[_0x5f12f3(0x23e)][_0x5f12f3(0x219)];throw _0x4b80bb;}else _0x266a28[_0x5f12f3(0x206)](debug,_0xa84479+_0x5f12f3(0x22e)+_0x4c58e7+_0x5f12f3(0x239)+util['format']('%j',_0x2a612d[_0x5f12f3(0x23e)])),this[_0x5f12f3(0x217)]=Math[_0x5f12f3(0x24a)](0x0,_0x266a28[_0x5f12f3(0x21f)](this[_0x5f12f3(0x217)],_0x234bee[_0x5f12f3(0x1f5)]));}catch(_0x4f278e){_0x4f278e[_0x5f12f3(0x210)]?_0x266a28['uYhZj'](debug,'EXCEPTION\x20IN\x20'+_0xa84479+_0x5f12f3(0x25c)+_0x4f278e[_0x5f12f3(0x210)][_0x5f12f3(0x207)]+'\x20'+_0x4f278e[_0x5f12f3(0x210)]['statusText']+'\x20'+util[_0x5f12f3(0x20d)]('%j',_0x4f278e[_0x5f12f3(0x210)])):_0x266a28[_0x5f12f3(0x1f8)](debug,'EXCEPTION\x20IN\x20'+_0xa84479+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20'+(_0x4f278e['message']||_0x4f278e)),this['pendingUploads']=Math[_0x5f12f3(0x24a)](0x0,_0x266a28[_0x5f12f3(0x25e)](this[_0x5f12f3(0x217)],_0x234bee[_0x5f12f3(0x1f5)]));}};[a85_0x32fbd2(0x222)]=()=>{const _0x211cdc=a85_0x32fbd2,_0xf983a0={'xPTXr':function(_0x4fe793,_0x326c6a){return _0x4fe793>_0x326c6a;},'itTFq':function(_0x1b8dff,_0x1cf4e0){return _0x1b8dff(_0x1cf4e0);},'BgdPw':_0x211cdc(0x250),'yHkOR':function(_0x3a340f,_0x444843){return _0x3a340f(_0x444843);},'rKSDb':function(_0x4a197c,_0x27792b,_0x59a5b0){return _0x4a197c(_0x27792b,_0x59a5b0);}};this[_0x211cdc(0x23b)]=_0xf983a0[_0x211cdc(0x241)](setInterval,async()=>{const _0x79cdbe=_0x211cdc;if(_0xf983a0['xPTXr'](this[_0x79cdbe(0x204)][_0x79cdbe(0x1f5)],0x0)){_0xf983a0[_0x79cdbe(0x22d)](trace,_0x79cdbe(0x226)+this[_0x79cdbe(0x204)][_0x79cdbe(0x1f5)]);const _0x37b6cd=this[_0x79cdbe(0x204)][_0x79cdbe(0x1fe)](0x0,BATCH_SIZE);this[_0x79cdbe(0x204)]['splice'](0x0,BATCH_SIZE),await this[_0x79cdbe(0x209)](this[_0x79cdbe(0x20a)],_0xf983a0[_0x79cdbe(0x260)],_0x37b6cd),_0xf983a0[_0x79cdbe(0x230)](trace,'Remaining\x20Queue\x20Length\x20-\x20'+this['queue'][_0x79cdbe(0x1f5)]);}},BATCH_INTERVAL);};[a85_0x32fbd2(0x233)]=()=>{const _0x272d0e=a85_0x32fbd2,_0xa568be={};_0xa568be[_0x272d0e(0x24d)]='RESETTING';const _0x46750b=_0xa568be;this['removeEventBatchPolling'](_0x46750b[_0x272d0e(0x24d)]),this[_0x272d0e(0x222)]();};[a85_0x32fbd2(0x23a)]=_0x28d9c9=>{const _0x581f4b=a85_0x32fbd2,_0x4f2b1f={'yFgdG':function(_0x5c9c68,_0x4d6f62){return _0x5c9c68(_0x4d6f62);},'nrDso':function(_0x15528f,_0x1e89c8){return _0x15528f===_0x1e89c8;},'aJBpx':_0x581f4b(0x1f7)};this[_0x581f4b(0x23b)]&&(_0x4f2b1f[_0x581f4b(0x213)](clearInterval,this['pollEventBatchInterval']),this[_0x581f4b(0x23b)]=null,_0x4f2b1f[_0x581f4b(0x202)](_0x28d9c9,_0x4f2b1f[_0x581f4b(0x221)])&&(this[_0x581f4b(0x262)]=![]));};[a85_0x32fbd2(0x20e)]=()=>{const _0x52fddc=a85_0x32fbd2,_0x25e5ac={};_0x25e5ac[_0x52fddc(0x231)]=function(_0xa44601,_0x5d8357){return _0xa44601>=_0x5d8357;};const _0x4a0e47=_0x25e5ac;return _0x4a0e47[_0x52fddc(0x231)](this[_0x52fddc(0x204)]['length'],BATCH_SIZE);};async[a85_0x32fbd2(0x1fb)](_0x53ae1b=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x138283=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0xfcad9a=a85_0x32fbd2,_0x2421a6={'jhiPK':function(_0x1a9106,_0x3881cd){return _0x1a9106<=_0x3881cd;},'TRQuJ':function(_0x5e4d6e,_0x408d51){return _0x5e4d6e<=_0x408d51;},'zGcKT':function(_0x124371,_0x87f02c){return _0x124371(_0x87f02c);},'mfJEP':function(_0x1f9271,_0xbd0a21){return _0x1f9271-_0xbd0a21;}};if(_0x2421a6[_0xfcad9a(0x1f4)](this[_0xfcad9a(0x217)],0x0)||_0x2421a6['TRQuJ'](_0x53ae1b,0x0))return;return await _0x2421a6[_0xfcad9a(0x23d)](sleep,_0x138283),this[_0xfcad9a(0x1fb)](_0x2421a6[_0xfcad9a(0x24b)](_0x53ae1b,_0x138283));}}function a85_0x1c09(){const _0x15c23c=['haulh','\x20--\x20','removeEventBatchPolling','pollEventBatchInterval','HookRunFinished','zGcKT','data','start','Exception\x20in\x20logging\x20batch\x20events\x20--\x20','rKSDb','FZIcM','22674TmsBjU','uuid','209DgVDUK','gIlgm','Shutdown-Queue','TestRunStarted','fWYGr','max','mfJEP','api/v1/batch','Fvrgt','TestRunSkipped','3714840feoNYl','Interval-Queue','join','BVjdX','TEST_SCREENSHOT','splice','12924OBsgLr','udDtP','539870yhTyLX','ZyOcd','shutdown','DdUuR','hook_run','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','MIeqh','HkQdv','kPdbm','BgdPw','event_type','started','includes','iSSQm','POST','355DvucVt','jsuDb','TestRunFinished','exports','message','0|2|5|6|3|1|4','RaEPP','jhiPK','length','Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..','REMOVING','drsrV','777484NZytUy','kind','uploadPending','xuwqz','./constants','slice','CPGLu','3FpbrtD','split','nrDso','RSilD','queue','logs','uYhZj','status','XXtAf','batchAndPostEvents','eventUrl','proceedWithUrl','kNyKm','format','shouldProceed','ZSdSq','response','PWNWg','proceedWithData','yFgdG','2692296jolxGP','getInstance','api/v1/screenshots','pendingUploads','push','error','../helper','uploadAttachmentUrl','util','fBqOE','map','IGRyC','instance','aJBpx','startEventBatchPolling','\x20bytes.\x20Events\x20are\x20','nZsws','pJsId','Processing\x20events.\x20Queue\x20Length\x20-\x20','nlGfb','screenshotEventUrl','1734936itESmJ','byteLength','upload-attachments','add','itTFq','\x20event\x20successful\x20for\x20events\x20','LEmUm','yHkOR','QsRfl','CBTSessionCreated','resetEventBatchPolling','./utils','58HNOhPB','Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20','BATCH_EVENT_TYPES'];a85_0x1c09=function(){return _0x15c23c;};return a85_0x1c09();}module[a85_0x32fbd2(0x269)]=RequestQueueHandler;