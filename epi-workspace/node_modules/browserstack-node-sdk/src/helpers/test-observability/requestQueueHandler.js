function a118_0x5dd0(){const _0x11cc04=['\x20bytes.\x20Events\x20are\x20','started','proceedWithData','event_type','BATCH_EVENT_TYPES','lyZBr','mPdLo','apXKA','startEventBatchPolling','DncEE','api/v1/batch','zFdnE','cWrkS','1396764aMcPhS','pendingUploads','mjPJS','QyDpK','TEST_REPORTING_ANALYTICS','join','error','CBTSessionCreated','../../bin/utils/constants','fdlxi','8MCeSBN','UTuBh','uploadPending','rnXwx','screenshotEventUrl','uuid','BgRmJ','includes','Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20','\x20--\x20','add','push','map','resetEventBatchPolling','iBuVw','457557AVWMNe','IFLQa','utf8','\x20event\x20successful\x20for\x20events\x20','\x20REQUEST\x20TO\x20','TestRunStarted','TEST_ATTACHMENT','Qryyq','aDUZR','EIuis','yVQre','RESETTING','EXCEPTION\x20IN\x20','REMOVING','Processing\x20events.\x20Queue\x20Length\x20-\x20','964076lzGbsx','QmIAw','shouldProceed','ZEipM','OjvSv','max','fMOpY','jflRK','\x20:\x20','byteLength','sxZHE','queue','instance','response','upload-attachments','eventUrl','CDPDg','nMyfh','6kyTdSu','UJoDu','./utils','OvSyx','649719ALbHUX','proceedWithUrl','logs','hook_run','getInstance','HookRunFinished','batchAndPostEvents','.\x20Request\x20Size\x20-\x20','split','qzmtJ','Tvvqo','splice','slice','removeEventBatchPolling','data','FGCUI','Shutdown-Queue','api/v1/screenshots','statusText','WdQma','shutdown','HookRunStarted','pollEventBatchInterval','dYDIN','1|5|2|4|0|3|6','24417GGwFqw','kind','Remaining\x20Queue\x20Length\x20-\x20','../helper','4172607QgnFZO','cdpOb','jdJjP','POST','1672945SVOUTq','Exception\x20in\x20logging\x20batch\x20events\x20--\x20','TestRunFinished','hYOHU','length','format','uploadAttachmentUrl','Ddppm','./constants','CPmYY','Processing\x20batch\x20events\x20for\x20','bENfr','message','test_run','exports','jRkfr','NwWem','IcsGC'];a118_0x5dd0=function(){return _0x11cc04;};return a118_0x5dd0();}const a118_0x324fdd=a118_0x41a2;(function(_0x5177a6,_0x230491){const _0x4b3447=a118_0x41a2,_0x22b83d=_0x5177a6();while(!![]){try{const _0x1d872a=-parseInt(_0x4b3447(0x182))/0x1+parseInt(_0x4b3447(0x1a3))/0x2*(parseInt(_0x4b3447(0x142))/0x3)+parseInt(_0x4b3447(0x191))/0x4+parseInt(_0x4b3447(0x14a))/0x5+-parseInt(_0x4b3447(0x169))/0x6+parseInt(_0x4b3447(0x1a7))/0x7+-parseInt(_0x4b3447(0x173))/0x8*(-parseInt(_0x4b3447(0x146))/0x9);if(_0x1d872a===_0x230491)break;else _0x22b83d['push'](_0x22b83d['shift']());}catch(_0x410b2f){_0x22b83d['push'](_0x22b83d['shift']());}}}(a118_0x5dd0,0x71cc2));const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a118_0x324fdd(0x152)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a118_0x324fdd(0x1a5)),{nestedKeyValue}=require(a118_0x324fdd(0x145)),util=require('util'),constants=require(a118_0x324fdd(0x171));function a118_0x41a2(_0x15bdd0,_0x578135){const _0x5dd06a=a118_0x5dd0();return a118_0x41a2=function(_0x41a201,_0x33726c){_0x41a201=_0x41a201-0x13c;let _0x1b6cb3=_0x5dd06a[_0x41a201];return _0x1b6cb3;},a118_0x41a2(_0x15bdd0,_0x578135);}class RequestQueueHandler{static ['instance'];['pendingUploads']=0x0;constructor(){const _0x1ccc18=a118_0x324fdd,_0x1e331c={};_0x1e331c[_0x1ccc18(0x1a1)]=_0x1ccc18(0x141),_0x1e331c[_0x1ccc18(0x165)]=_0x1ccc18(0x19f),_0x1e331c[_0x1ccc18(0x1a4)]=_0x1ccc18(0x166),_0x1e331c[_0x1ccc18(0x147)]='LogCreated',_0x1e331c['jdJjP']=_0x1ccc18(0x170),_0x1e331c[_0x1ccc18(0x159)]=_0x1ccc18(0x14c),_0x1e331c[_0x1ccc18(0x174)]='TestRunSkipped',_0x1e331c[_0x1ccc18(0x151)]=_0x1ccc18(0x1ac),_0x1e331c[_0x1ccc18(0x197)]=_0x1ccc18(0x187),_0x1e331c[_0x1ccc18(0x195)]=_0x1ccc18(0x13e),_0x1e331c[_0x1ccc18(0x1a6)]=_0x1ccc18(0x1b8);const _0x5aaac5=_0x1e331c,_0x1ea5e1=_0x5aaac5[_0x1ccc18(0x1a1)][_0x1ccc18(0x1af)]('|');let _0x47079a=0x0;while(!![]){switch(_0x1ea5e1[_0x47079a++]){case'0':this[_0x1ccc18(0x150)]=_0x5aaac5['DncEE'];continue;case'1':this[_0x1ccc18(0x19c)]=[];continue;case'2':this[_0x1ccc18(0x1a0)]=_0x5aaac5[_0x1ccc18(0x1a4)];continue;case'3':this['BATCH_EVENT_TYPES']=[_0x5aaac5[_0x1ccc18(0x147)],_0x5aaac5[_0x1ccc18(0x148)],_0x5aaac5[_0x1ccc18(0x159)],_0x5aaac5[_0x1ccc18(0x174)],_0x5aaac5[_0x1ccc18(0x151)],_0x5aaac5['fMOpY'],_0x5aaac5['OjvSv']];continue;case'4':this[_0x1ccc18(0x177)]=_0x5aaac5[_0x1ccc18(0x1a6)];continue;case'5':this[_0x1ccc18(0x15d)]=![];continue;case'6':this[_0x1ccc18(0x13f)]=null;continue;}break;}}static[a118_0x324fdd(0x1ab)](){const _0x3b7794=a118_0x324fdd;return!RequestQueueHandler[_0x3b7794(0x19d)]&&(RequestQueueHandler[_0x3b7794(0x19d)]=new RequestQueueHandler()),RequestQueueHandler[_0x3b7794(0x19d)];}['start']=()=>{const _0xbc5624=a118_0x324fdd;!this[_0xbc5624(0x15d)]&&(this[_0xbc5624(0x15d)]=!![],this[_0xbc5624(0x164)]());};[a118_0x324fdd(0x17d)]=_0x3c6ace=>{const _0x483ac2=a118_0x324fdd,_0x4da288={'IFLQa':function(_0x2c81b7,_0x17d322){return _0x2c81b7===_0x17d322;},'qzmtJ':'TEST_SCREENSHOT','cWrkS':function(_0xfd9303,_0x453d07){return _0xfd9303>_0x453d07;},'BgRmJ':_0x483ac2(0x188),'bENfr':function(_0xe3b2fd,_0x3a7ca8){return _0xe3b2fd!==_0x3a7ca8;},'iBuVw':_0x483ac2(0x14c),'QyDpK':function(_0x3e238e,_0x4bde2d){return _0x3e238e(_0x4bde2d);},'lHXLr':'Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..'};if(this[_0x483ac2(0x160)][_0x483ac2(0x17a)](_0x3c6ace[_0x483ac2(0x15f)])){if(_0x3c6ace[_0x483ac2(0x1a9)]&&_0x3c6ace[_0x483ac2(0x1a9)][0x0]&&_0x4da288[_0x483ac2(0x183)](_0x3c6ace[_0x483ac2(0x1a9)][0x0][_0x483ac2(0x143)],_0x4da288[_0x483ac2(0x1b0)])){const _0x587eaf={};return _0x587eaf[_0x483ac2(0x193)]=!![],_0x587eaf['proceedWithData']=[_0x3c6ace],_0x587eaf['proceedWithUrl']=this[_0x483ac2(0x177)],_0x587eaf;}if(_0x3c6ace[_0x483ac2(0x1a9)]&&_0x4da288[_0x483ac2(0x168)](_0x3c6ace[_0x483ac2(0x1a9)][_0x483ac2(0x14e)],0x0)&&_0x4da288[_0x483ac2(0x183)](_0x3c6ace[_0x483ac2(0x1a9)][0x0][_0x483ac2(0x143)],_0x4da288[_0x483ac2(0x179)])&&_0x4da288[_0x483ac2(0x155)](_0x3c6ace[_0x483ac2(0x15f)],_0x4da288[_0x483ac2(0x181)])){const _0x33f8e2={};return _0x33f8e2['shouldProceed']=!![],_0x33f8e2[_0x483ac2(0x15e)]=[_0x3c6ace],_0x33f8e2['proceedWithUrl']=this[_0x483ac2(0x150)],_0x33f8e2;}this[_0x483ac2(0x19c)][_0x483ac2(0x17e)](_0x3c6ace);let _0x2b112a=null;const _0x482589=this[_0x483ac2(0x193)]();_0x482589&&(_0x4da288[_0x483ac2(0x16c)](trace,_0x4da288['lHXLr']),_0x2b112a=this[_0x483ac2(0x19c)][_0x483ac2(0x1b3)](0x0,BATCH_SIZE),this['queue'][_0x483ac2(0x1b2)](0x0,BATCH_SIZE),this[_0x483ac2(0x180)]());const _0x568608={};return _0x568608['shouldProceed']=_0x482589,_0x568608[_0x483ac2(0x15e)]=_0x2b112a,_0x568608[_0x483ac2(0x1a8)]=this[_0x483ac2(0x1a0)],_0x568608;}const _0x1eb42b={};return _0x1eb42b[_0x483ac2(0x193)]=!![],_0x1eb42b;};[a118_0x324fdd(0x13d)]=async()=>{const _0x138748=a118_0x324fdd,_0x44d837={'apXKA':_0x138748(0x18f),'ZEipM':function(_0x137397,_0x22afda){return _0x137397>_0x22afda;},'aDUZR':_0x138748(0x1b7),'IcsGC':function(_0x2ad244,_0x4500c3){return _0x2ad244>_0x4500c3;},'EIuis':function(_0x529325,_0x5c3694){return _0x529325(_0x5c3694);}};await this[_0x138748(0x175)](),this[_0x138748(0x1b4)](_0x44d837[_0x138748(0x163)]);while(_0x44d837[_0x138748(0x194)](this[_0x138748(0x19c)]['length'],0x0)){const _0x109151=this[_0x138748(0x19c)][_0x138748(0x1b3)](0x0,BATCH_SIZE);this[_0x138748(0x19c)][_0x138748(0x1b2)](0x0,BATCH_SIZE),await this[_0x138748(0x1ad)](this[_0x138748(0x1a0)],_0x44d837[_0x138748(0x18a)],_0x109151);}_0x44d837[_0x138748(0x15b)](this[_0x138748(0x16a)],0x0)&&_0x44d837[_0x138748(0x18b)](debug,_0x138748(0x17b)+this[_0x138748(0x16a)]);};[a118_0x324fdd(0x1ad)]=async(_0x2d457b,_0x7c9d88,_0x2d24c8)=>{const _0x41078c=a118_0x324fdd,_0x4dacce={'Tvvqo':function(_0x1d741a,_0x148ce4){return _0x1d741a(_0x148ce4);},'mPdLo':_0x41078c(0x184),'mjPJS':function(_0x937ab7){return _0x937ab7();},'QmIAw':function(_0x496fdc,_0x347b5a,_0x19ebcc,_0x5d7255,_0x43c829){return _0x496fdc(_0x347b5a,_0x19ebcc,_0x5d7255,_0x43c829);},'FGCUI':_0x41078c(0x149),'rnXwx':function(_0x5730cc,_0x2bdb96){return _0x5730cc(_0x2bdb96);},'lyZBr':function(_0x3a5d7d,_0x275497){return _0x3a5d7d-_0x275497;},'jflRK':function(_0xed12f2,_0x4196ae){return _0xed12f2(_0x4196ae);},'nMyfh':function(_0x2ba5bd,_0x2a5c21){return _0x2ba5bd(_0x2a5c21);},'CPmYY':function(_0x5cbc71,_0x5e3975){return _0x5cbc71-_0x5e3975;}};let _0x28316b='';try{_0x28316b=_0x2d24c8[_0x41078c(0x17f)](_0x5e198f=>'\x27'+_0x5e198f[_0x41078c(0x15f)]+'\x27:'+(nestedKeyValue(_0x5e198f,[_0x41078c(0x157),'uuid'])||nestedKeyValue(_0x5e198f,[_0x41078c(0x1aa),_0x41078c(0x178)])))[_0x41078c(0x16e)](','),_0x4dacce[_0x41078c(0x1b1)](debug,_0x41078c(0x154)+_0x7c9d88+_0x41078c(0x1ae)+Buffer[_0x41078c(0x19a)](util[_0x41078c(0x14f)]('%j',_0x2d24c8),_0x4dacce[_0x41078c(0x162)])+_0x41078c(0x15c)+_0x28316b);}catch(_0x5f491f){_0x4dacce[_0x41078c(0x1b1)](debug,_0x41078c(0x14b)+util[_0x41078c(0x14f)](_0x5f491f)+'}');}const _0x8ac9ef={'headers':_0x4dacce[_0x41078c(0x16b)](getDefaultHeaders)};try{const _0xf4cee1=await _0x4dacce[_0x41078c(0x192)](nodeRequest,_0x4dacce[_0x41078c(0x1b6)],_0x2d457b,_0x2d24c8,_0x8ac9ef);if(_0xf4cee1['data'][_0x41078c(0x16f)]){const _0x4a414a={};_0x4a414a['message']=_0xf4cee1[_0x41078c(0x1b5)][_0x41078c(0x16f)];throw _0x4a414a;}else _0x4dacce[_0x41078c(0x176)](debug,_0x7c9d88+_0x41078c(0x185)+_0x28316b+_0x41078c(0x17c)+util[_0x41078c(0x14f)]('%j',_0xf4cee1[_0x41078c(0x1b5)])),this['pendingUploads']=Math[_0x41078c(0x196)](0x0,_0x4dacce[_0x41078c(0x161)](this[_0x41078c(0x16a)],_0x2d24c8[_0x41078c(0x14e)]));}catch(_0x3b87ce){_0x3b87ce['response']?_0x4dacce[_0x41078c(0x198)](debug,_0x41078c(0x18e)+_0x7c9d88+'\x20REQUEST\x20TO\x20'+constants[_0x41078c(0x16d)]+_0x41078c(0x199)+_0x3b87ce['response']['status']+'\x20'+_0x3b87ce[_0x41078c(0x19e)][_0x41078c(0x1b9)]+'\x20'+util[_0x41078c(0x14f)]('%j',_0x3b87ce[_0x41078c(0x19e)])):_0x4dacce[_0x41078c(0x1a2)](debug,'EXCEPTION\x20IN\x20'+_0x7c9d88+_0x41078c(0x186)+constants[_0x41078c(0x16d)]+_0x41078c(0x199)+(_0x3b87ce[_0x41078c(0x156)]||_0x3b87ce)),this[_0x41078c(0x16a)]=Math[_0x41078c(0x196)](0x0,_0x4dacce[_0x41078c(0x153)](this[_0x41078c(0x16a)],_0x2d24c8[_0x41078c(0x14e)]));}};['startEventBatchPolling']=()=>{const _0x59ca67=a118_0x324fdd,_0x2556b5={'ONrBc':function(_0x573c12,_0x433df5){return _0x573c12>_0x433df5;},'zFdnE':function(_0x38e607,_0x3e2f6d){return _0x38e607(_0x3e2f6d);},'cYviE':'Interval-Queue','hYOHU':function(_0x32e2b2,_0x50b8a1){return _0x32e2b2(_0x50b8a1);},'NwWem':function(_0x2402da,_0x1ad442,_0x505647){return _0x2402da(_0x1ad442,_0x505647);}};this[_0x59ca67(0x13f)]=_0x2556b5[_0x59ca67(0x15a)](setInterval,async()=>{const _0x4c6d24=_0x59ca67;if(_0x2556b5['ONrBc'](this['queue'][_0x4c6d24(0x14e)],0x0)){_0x2556b5[_0x4c6d24(0x167)](trace,_0x4c6d24(0x190)+this[_0x4c6d24(0x19c)][_0x4c6d24(0x14e)]);const _0x19b7fd=this[_0x4c6d24(0x19c)][_0x4c6d24(0x1b3)](0x0,BATCH_SIZE);this['queue'][_0x4c6d24(0x1b2)](0x0,BATCH_SIZE),await this[_0x4c6d24(0x1ad)](this['eventUrl'],_0x2556b5['cYviE'],_0x19b7fd),_0x2556b5[_0x4c6d24(0x14d)](trace,_0x4c6d24(0x144)+this['queue'][_0x4c6d24(0x14e)]);}},BATCH_INTERVAL);};[a118_0x324fdd(0x180)]=()=>{const _0x516a98=a118_0x324fdd,_0x4aa5c3={};_0x4aa5c3[_0x516a98(0x189)]=_0x516a98(0x18d);const _0x130702=_0x4aa5c3;this[_0x516a98(0x1b4)](_0x130702[_0x516a98(0x189)]),this[_0x516a98(0x164)]();};[a118_0x324fdd(0x1b4)]=_0x2e1fb1=>{const _0x589d16=a118_0x324fdd,_0x42d4d5={'dYDIN':function(_0x4e00bf,_0x439841){return _0x4e00bf(_0x439841);},'yVQre':function(_0x17b3bf,_0x329652){return _0x17b3bf===_0x329652;},'OIcqr':_0x589d16(0x18f)};this[_0x589d16(0x13f)]&&(_0x42d4d5[_0x589d16(0x140)](clearInterval,this[_0x589d16(0x13f)]),this[_0x589d16(0x13f)]=null,_0x42d4d5[_0x589d16(0x18c)](_0x2e1fb1,_0x42d4d5['OIcqr'])&&(this['started']=![]));};['shouldProceed']=()=>{const _0x4b1333=a118_0x324fdd,_0x3e0ac0={};_0x3e0ac0['wmnpZ']=function(_0xaee3b7,_0x57e7ad){return _0xaee3b7>=_0x57e7ad;};const _0x2da5a1=_0x3e0ac0;return _0x2da5a1['wmnpZ'](this[_0x4b1333(0x19c)][_0x4b1333(0x14e)],BATCH_SIZE);};async[a118_0x324fdd(0x175)](_0x5a0787=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x333b35=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x3ae99c=a118_0x324fdd,_0x1bbfbc={'WdQma':function(_0x2f6de4,_0x41f862){return _0x2f6de4<=_0x41f862;},'sxZHE':function(_0x493335,_0x3f0cb1){return _0x493335(_0x3f0cb1);},'fdlxi':function(_0x3e0e34,_0x58ebf4){return _0x3e0e34-_0x58ebf4;}};if(_0x1bbfbc[_0x3ae99c(0x13c)](this['pendingUploads'],0x0)||_0x1bbfbc['WdQma'](_0x5a0787,0x0))return;return await _0x1bbfbc[_0x3ae99c(0x19b)](sleep,_0x333b35),this[_0x3ae99c(0x175)](_0x1bbfbc[_0x3ae99c(0x172)](_0x5a0787,_0x333b35));}}module[a118_0x324fdd(0x158)]=RequestQueueHandler;