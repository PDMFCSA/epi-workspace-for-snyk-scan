const a118_0x1aa071=a118_0x2d01;(function(_0x4059ec,_0x26f482){const _0x3a6189=a118_0x2d01,_0x1cbfc0=_0x4059ec();while(!![]){try{const _0x2eb294=-parseInt(_0x3a6189(0x1e6))/0x1+parseInt(_0x3a6189(0x1a6))/0x2+-parseInt(_0x3a6189(0x1e8))/0x3*(parseInt(_0x3a6189(0x1f9))/0x4)+parseInt(_0x3a6189(0x1c2))/0x5*(-parseInt(_0x3a6189(0x1e7))/0x6)+-parseInt(_0x3a6189(0x1b2))/0x7+parseInt(_0x3a6189(0x218))/0x8*(parseInt(_0x3a6189(0x20e))/0x9)+-parseInt(_0x3a6189(0x1f3))/0xa*(-parseInt(_0x3a6189(0x1b7))/0xb);if(_0x2eb294===_0x26f482)break;else _0x1cbfc0['push'](_0x1cbfc0['shift']());}catch(_0x3a632b){_0x1cbfc0['push'](_0x1cbfc0['shift']());}}}(a118_0x3539,0xee7ea));const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a118_0x1aa071(0x1b5)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a118_0x1aa071(0x1e3)),{nestedKeyValue}=require(a118_0x1aa071(0x20b)),util=require(a118_0x1aa071(0x1b0)),constants=require(a118_0x1aa071(0x1e9));class RequestQueueHandler{static [a118_0x1aa071(0x1aa)];[a118_0x1aa071(0x1ea)]=0x0;constructor(){const _0x87047b=a118_0x1aa071,_0x3e36ab={};_0x3e36ab[_0x87047b(0x1f2)]=_0x87047b(0x203),_0x3e36ab['quXAS']='LogCreated',_0x3e36ab['dRKKb']='CBTSessionCreated',_0x3e36ab[_0x87047b(0x1ff)]=_0x87047b(0x206),_0x3e36ab['HKcpH']=_0x87047b(0x201),_0x3e36ab['fOvJR']=_0x87047b(0x1c1),_0x3e36ab[_0x87047b(0x1bf)]=_0x87047b(0x1fa),_0x3e36ab['Rrtra']=_0x87047b(0x1d5),_0x3e36ab['JlsMA']=_0x87047b(0x1d0),_0x3e36ab[_0x87047b(0x205)]=_0x87047b(0x207),_0x3e36ab[_0x87047b(0x1e0)]=_0x87047b(0x1f4);const _0x2ef246=_0x3e36ab,_0x47aab6=_0x2ef246[_0x87047b(0x1f2)][_0x87047b(0x1ed)]('|');let _0x428ef6=0x0;while(!![]){switch(_0x47aab6[_0x428ef6++]){case'0':this[_0x87047b(0x1e1)]=![];continue;case'1':this[_0x87047b(0x1eb)]=[_0x2ef246[_0x87047b(0x204)],_0x2ef246[_0x87047b(0x1de)],_0x2ef246[_0x87047b(0x1ff)],_0x2ef246[_0x87047b(0x1dd)],_0x2ef246[_0x87047b(0x200)],_0x2ef246['VsRXE'],_0x2ef246[_0x87047b(0x1c7)]];continue;case'2':this[_0x87047b(0x215)]=_0x2ef246[_0x87047b(0x1ac)];continue;case'3':this[_0x87047b(0x213)]=_0x2ef246[_0x87047b(0x205)];continue;case'4':this[_0x87047b(0x1f5)]=[];continue;case'5':this[_0x87047b(0x1cb)]=null;continue;case'6':this[_0x87047b(0x1ca)]=_0x2ef246[_0x87047b(0x1e0)];continue;}break;}}static[a118_0x1aa071(0x1da)](){const _0x37b889=a118_0x1aa071;return!RequestQueueHandler[_0x37b889(0x1aa)]&&(RequestQueueHandler['instance']=new RequestQueueHandler()),RequestQueueHandler[_0x37b889(0x1aa)];}[a118_0x1aa071(0x1f8)]=()=>{const _0x1d9d06=a118_0x1aa071;!this[_0x1d9d06(0x1e1)]&&(this[_0x1d9d06(0x1e1)]=!![],this[_0x1d9d06(0x1a9)]());};[a118_0x1aa071(0x1d3)]=_0x20a8b5=>{const _0x3adcf7=a118_0x1aa071,_0x33c00e={'KOZja':function(_0x40cf39,_0xfbf01a){return _0x40cf39===_0xfbf01a;},'fJLpW':_0x3adcf7(0x1c3),'tgEdv':function(_0x596075,_0x6cae5f){return _0x596075>_0x6cae5f;},'pKenc':function(_0x9c85be,_0x521331){return _0x9c85be===_0x521331;},'xeMIP':'TEST_ATTACHMENT','sqbkr':function(_0x1d2652,_0xfedc2e){return _0x1d2652!==_0xfedc2e;},'lRODL':_0x3adcf7(0x206),'IycVh':function(_0x6cf9f7,_0x1c1e22){return _0x6cf9f7(_0x1c1e22);},'LuwSC':_0x3adcf7(0x1db)};if(this[_0x3adcf7(0x1eb)]['includes'](_0x20a8b5[_0x3adcf7(0x1cd)])){if(_0x20a8b5[_0x3adcf7(0x1d1)]&&_0x20a8b5[_0x3adcf7(0x1d1)][0x0]&&_0x33c00e['KOZja'](_0x20a8b5['logs'][0x0][_0x3adcf7(0x1d8)],_0x33c00e[_0x3adcf7(0x1d2)])){const _0x3caff1={};return _0x3caff1[_0x3adcf7(0x1e5)]=!![],_0x3caff1[_0x3adcf7(0x1d4)]=[_0x20a8b5],_0x3caff1[_0x3adcf7(0x1fb)]=this[_0x3adcf7(0x215)],_0x3caff1;}if(_0x20a8b5[_0x3adcf7(0x1d1)]&&_0x33c00e[_0x3adcf7(0x208)](_0x20a8b5['logs'][_0x3adcf7(0x20a)],0x0)&&_0x33c00e[_0x3adcf7(0x1c4)](_0x20a8b5[_0x3adcf7(0x1d1)][0x0]['kind'],_0x33c00e[_0x3adcf7(0x1f0)])&&_0x33c00e[_0x3adcf7(0x1b9)](_0x20a8b5[_0x3adcf7(0x1cd)],_0x33c00e['lRODL'])){const _0xe9a1dc={};return _0xe9a1dc[_0x3adcf7(0x1e5)]=!![],_0xe9a1dc['proceedWithData']=[_0x20a8b5],_0xe9a1dc[_0x3adcf7(0x1fb)]=this[_0x3adcf7(0x1ca)],_0xe9a1dc;}this[_0x3adcf7(0x1f5)][_0x3adcf7(0x20d)](_0x20a8b5);let _0x41730a=null;const _0x523d65=this[_0x3adcf7(0x1e5)]();_0x523d65&&(_0x33c00e[_0x3adcf7(0x1b6)](trace,_0x33c00e[_0x3adcf7(0x1fc)]),_0x41730a=this[_0x3adcf7(0x1f5)]['slice'](0x0,BATCH_SIZE),this[_0x3adcf7(0x1f5)][_0x3adcf7(0x1bb)](0x0,BATCH_SIZE),this[_0x3adcf7(0x21a)]());const _0x3481a0={};return _0x3481a0[_0x3adcf7(0x1e5)]=_0x523d65,_0x3481a0['proceedWithData']=_0x41730a,_0x3481a0['proceedWithUrl']=this[_0x3adcf7(0x213)],_0x3481a0;}const _0x5c724a={};return _0x5c724a[_0x3adcf7(0x1e5)]=!![],_0x5c724a;};[a118_0x1aa071(0x1c8)]=async()=>{const _0x47fbab=a118_0x1aa071,_0x57a981={'eqQCU':_0x47fbab(0x1b8),'qfftt':function(_0x3ff251,_0x325775){return _0x3ff251>_0x325775;},'DXEZN':_0x47fbab(0x1f1),'SAxBF':function(_0x33673,_0x536e0b){return _0x33673>_0x536e0b;},'RkzQc':function(_0x4108a9,_0x1462c5){return _0x4108a9(_0x1462c5);}};await this[_0x47fbab(0x1dc)](),this[_0x47fbab(0x212)](_0x57a981['eqQCU']);while(_0x57a981[_0x47fbab(0x21f)](this[_0x47fbab(0x1f5)][_0x47fbab(0x20a)],0x0)){const _0x28c8de=this[_0x47fbab(0x1f5)]['slice'](0x0,BATCH_SIZE);this[_0x47fbab(0x1f5)][_0x47fbab(0x1bb)](0x0,BATCH_SIZE),await this[_0x47fbab(0x21b)](this['eventUrl'],_0x57a981[_0x47fbab(0x1d6)],_0x28c8de);}_0x57a981[_0x47fbab(0x1be)](this['pendingUploads'],0x0)&&_0x57a981['RkzQc'](debug,_0x47fbab(0x216)+this[_0x47fbab(0x1ea)]);};['batchAndPostEvents']=async(_0x53637f,_0x100dec,_0x3dd7c4)=>{const _0x4e5eba=a118_0x1aa071,_0x482ad2={'TyJCx':function(_0x11bfff,_0x27bef9){return _0x11bfff(_0x27bef9);},'FwVFC':_0x4e5eba(0x1b3),'GZHJK':function(_0x164318){return _0x164318();},'YcAcV':function(_0xebb4a7,_0x12515a,_0x1a4fe5,_0x4472c6,_0x4b6ac6){return _0xebb4a7(_0x12515a,_0x1a4fe5,_0x4472c6,_0x4b6ac6);},'yJjnZ':_0x4e5eba(0x1ef),'vMFgK':function(_0x3a50fe,_0x399e6d){return _0x3a50fe-_0x399e6d;},'IXKBn':function(_0x472f78,_0x508f2d){return _0x472f78(_0x508f2d);},'Mshzo':function(_0x3c5a39,_0xa0a847){return _0x3c5a39(_0xa0a847);}};let _0x5b4927='';try{_0x5b4927=_0x3dd7c4[_0x4e5eba(0x1a4)](_0x4fe36c=>'\x27'+_0x4fe36c['event_type']+'\x27:'+(nestedKeyValue(_0x4fe36c,[_0x4e5eba(0x1fe),'uuid'])||nestedKeyValue(_0x4fe36c,[_0x4e5eba(0x1ec),'uuid'])))[_0x4e5eba(0x1a5)](','),_0x482ad2[_0x4e5eba(0x1df)](debug,'Processing\x20batch\x20events\x20for\x20'+_0x100dec+_0x4e5eba(0x1f6)+Buffer[_0x4e5eba(0x21c)](util['format']('%j',_0x3dd7c4),_0x482ad2[_0x4e5eba(0x1ae)])+_0x4e5eba(0x1c9)+_0x5b4927);}catch(_0x478aaf){_0x482ad2[_0x4e5eba(0x1df)](debug,_0x4e5eba(0x1d7)+util[_0x4e5eba(0x1a7)](_0x478aaf)+'}');}const _0xed436a={'headers':_0x482ad2[_0x4e5eba(0x20c)](getDefaultHeaders)};try{const _0x1fccc2=await _0x482ad2[_0x4e5eba(0x1cc)](nodeRequest,_0x482ad2['yJjnZ'],_0x53637f,_0x3dd7c4,_0xed436a);if(_0x1fccc2[_0x4e5eba(0x209)][_0x4e5eba(0x214)]){const _0x4296f1={};_0x4296f1[_0x4e5eba(0x1ad)]=_0x1fccc2[_0x4e5eba(0x209)]['error'];throw _0x4296f1;}else _0x482ad2[_0x4e5eba(0x1df)](debug,_0x100dec+'\x20event\x20successful\x20for\x20events\x20'+_0x5b4927+_0x4e5eba(0x210)+util[_0x4e5eba(0x1a7)]('%j',_0x1fccc2['data'])),this[_0x4e5eba(0x1ea)]=Math['max'](0x0,_0x482ad2[_0x4e5eba(0x20f)](this[_0x4e5eba(0x1ea)],_0x3dd7c4[_0x4e5eba(0x20a)]));}catch(_0x3a31e9){_0x3a31e9[_0x4e5eba(0x202)]?_0x482ad2[_0x4e5eba(0x217)](debug,_0x4e5eba(0x1d9)+_0x100dec+'\x20REQUEST\x20TO\x20'+constants[_0x4e5eba(0x1e4)]+_0x4e5eba(0x1ee)+_0x3a31e9['response'][_0x4e5eba(0x21d)]+'\x20'+_0x3a31e9[_0x4e5eba(0x202)][_0x4e5eba(0x1b1)]+'\x20'+util[_0x4e5eba(0x1a7)]('%j',_0x3a31e9[_0x4e5eba(0x202)])):_0x482ad2[_0x4e5eba(0x1ba)](debug,'EXCEPTION\x20IN\x20'+_0x100dec+_0x4e5eba(0x1ce)+constants['TEST_REPORTING_ANALYTICS']+_0x4e5eba(0x1ee)+(_0x3a31e9[_0x4e5eba(0x1ad)]||_0x3a31e9)),this[_0x4e5eba(0x1ea)]=Math[_0x4e5eba(0x1e2)](0x0,_0x482ad2[_0x4e5eba(0x20f)](this[_0x4e5eba(0x1ea)],_0x3dd7c4[_0x4e5eba(0x20a)]));}};['startEventBatchPolling']=()=>{const _0x459093=a118_0x1aa071,_0x201b53={'WkUMT':function(_0x4989ce,_0x580136){return _0x4989ce>_0x580136;},'MIsvB':function(_0x2bbe28,_0x33ded7){return _0x2bbe28(_0x33ded7);},'OYIEX':_0x459093(0x1a8),'bRbzA':function(_0xd64571,_0x519ec2,_0x2d5744){return _0xd64571(_0x519ec2,_0x2d5744);}};this[_0x459093(0x1cb)]=_0x201b53[_0x459093(0x1c5)](setInterval,async()=>{const _0x3048bd=_0x459093;if(_0x201b53[_0x3048bd(0x1c0)](this[_0x3048bd(0x1f5)]['length'],0x0)){_0x201b53[_0x3048bd(0x220)](trace,_0x3048bd(0x1bc)+this['queue'][_0x3048bd(0x20a)]);const _0x31b7f4=this[_0x3048bd(0x1f5)][_0x3048bd(0x21e)](0x0,BATCH_SIZE);this['queue']['splice'](0x0,BATCH_SIZE),await this['batchAndPostEvents'](this['eventUrl'],_0x201b53['OYIEX'],_0x31b7f4),_0x201b53[_0x3048bd(0x220)](trace,_0x3048bd(0x211)+this[_0x3048bd(0x1f5)]['length']);}},BATCH_INTERVAL);};['resetEventBatchPolling']=()=>{const _0x14a6fb=a118_0x1aa071,_0xe870e5={};_0xe870e5['DZpgt']=_0x14a6fb(0x1ab);const _0x3dcc4c=_0xe870e5;this[_0x14a6fb(0x212)](_0x3dcc4c[_0x14a6fb(0x1c6)]),this[_0x14a6fb(0x1a9)]();};['removeEventBatchPolling']=_0x60bf47=>{const _0x5de8a6=a118_0x1aa071,_0x2eefbc={'NmCCV':function(_0x4a4a03,_0x48afee){return _0x4a4a03(_0x48afee);},'jFiMC':function(_0x512c2d,_0x4a0e53){return _0x512c2d===_0x4a0e53;},'zhYMz':_0x5de8a6(0x1b8)};this[_0x5de8a6(0x1cb)]&&(_0x2eefbc[_0x5de8a6(0x219)](clearInterval,this[_0x5de8a6(0x1cb)]),this[_0x5de8a6(0x1cb)]=null,_0x2eefbc[_0x5de8a6(0x1af)](_0x60bf47,_0x2eefbc[_0x5de8a6(0x1bd)])&&(this['started']=![]));};['shouldProceed']=()=>{const _0x1aa389=a118_0x1aa071,_0x46c158={};_0x46c158[_0x1aa389(0x1b4)]=function(_0x1103b6,_0x4112f8){return _0x1103b6>=_0x4112f8;};const _0x41b5e3=_0x46c158;return _0x41b5e3['DdFGb'](this['queue']['length'],BATCH_SIZE);};async[a118_0x1aa071(0x1dc)](_0x49129c=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x5c6b01=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x3e270b=a118_0x1aa071,_0x2ed50e={'jeZJr':function(_0x5118b0,_0x2470fd){return _0x5118b0<=_0x2470fd;},'ncXar':function(_0xdc54ea,_0x2d7513){return _0xdc54ea(_0x2d7513);},'SdOGF':function(_0x2a92ed,_0x4b2f63){return _0x2a92ed-_0x4b2f63;}};if(_0x2ed50e['jeZJr'](this[_0x3e270b(0x1ea)],0x0)||_0x2ed50e[_0x3e270b(0x1f7)](_0x49129c,0x0))return;return await _0x2ed50e['ncXar'](sleep,_0x5c6b01),this[_0x3e270b(0x1dc)](_0x2ed50e[_0x3e270b(0x1fd)](_0x49129c,_0x5c6b01));}}function a118_0x2d01(_0xcd3224,_0x3872c9){const _0x35397a=a118_0x3539();return a118_0x2d01=function(_0x2d0116,_0x6e8bab){_0x2d0116=_0x2d0116-0x1a4;let _0x439adf=_0x35397a[_0x2d0116];return _0x439adf;},a118_0x2d01(_0xcd3224,_0x3872c9);}module[a118_0x1aa071(0x1cf)]=RequestQueueHandler;function a118_0x3539(){const _0x195992=['startEventBatchPolling','instance','RESETTING','JlsMA','message','FwVFC','jFiMC','util','statusText','5495903bqoAZG','utf8','DdFGb','./constants','IycVh','8669881vLtAvN','REMOVING','sqbkr','Mshzo','splice','Processing\x20events.\x20Queue\x20Length\x20-\x20','zhYMz','SAxBF','VsRXE','WkUMT','HookRunFinished','239395SupgNv','TEST_SCREENSHOT','pKenc','bRbzA','DZpgt','Rrtra','shutdown','\x20bytes.\x20Events\x20are\x20','uploadAttachmentUrl','pollEventBatchInterval','YcAcV','event_type','\x20REQUEST\x20TO\x20','exports','api/v1/screenshots','logs','fJLpW','add','proceedWithData','HookRunStarted','DXEZN','Exception\x20in\x20logging\x20batch\x20events\x20--\x20','kind','EXCEPTION\x20IN\x20','getInstance','Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..','uploadPending','HKcpH','dRKKb','TyJCx','krDoe','started','max','./utils','TEST_REPORTING_ANALYTICS','shouldProceed','1524127kSNSIt','240inlYfh','3DggrAg','../../bin/utils/constants','pendingUploads','BATCH_EVENT_TYPES','hook_run','split','\x20:\x20','POST','xeMIP','Shutdown-Queue','gQJlD','50pyGKVb','upload-attachments','queue','.\x20Request\x20Size\x20-\x20','jeZJr','start','687892waWMJC','TestRunStarted','proceedWithUrl','LuwSC','SdOGF','test_run','OWlkp','fOvJR','TestRunSkipped','response','4|0|3|2|6|1|5','quXAS','xcBMz','TestRunFinished','api/v1/batch','tgEdv','data','length','../helper','GZHJK','push','9dNJqwi','vMFgK','\x20--\x20','Remaining\x20Queue\x20Length\x20-\x20','removeEventBatchPolling','eventUrl','error','screenshotEventUrl','Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20','IXKBn','6211544tQVrgc','NmCCV','resetEventBatchPolling','batchAndPostEvents','byteLength','status','slice','qfftt','MIsvB','map','join','1311930KOmdwY','format','Interval-Queue'];a118_0x3539=function(){return _0x195992;};return a118_0x3539();}