function a113_0x4ee2(_0x4474a5,_0x560d53){const _0x509fa3=a113_0x509f();return a113_0x4ee2=function(_0x4ee2ac,_0x560ba1){_0x4ee2ac=_0x4ee2ac-0x1ca;let _0x292828=_0x509fa3[_0x4ee2ac];return _0x292828;},a113_0x4ee2(_0x4474a5,_0x560d53);}const a113_0x669310=a113_0x4ee2;(function(_0x2a4ff5,_0x5760a1){const _0x2e7da3=a113_0x4ee2,_0x46337d=_0x2a4ff5();while(!![]){try{const _0x19ddf7=-parseInt(_0x2e7da3(0x1d0))/0x1*(-parseInt(_0x2e7da3(0x216))/0x2)+-parseInt(_0x2e7da3(0x230))/0x3*(-parseInt(_0x2e7da3(0x213))/0x4)+parseInt(_0x2e7da3(0x207))/0x5*(parseInt(_0x2e7da3(0x1f1))/0x6)+-parseInt(_0x2e7da3(0x1d5))/0x7+-parseInt(_0x2e7da3(0x1e8))/0x8+-parseInt(_0x2e7da3(0x225))/0x9+parseInt(_0x2e7da3(0x21c))/0xa*(-parseInt(_0x2e7da3(0x21e))/0xb);if(_0x19ddf7===_0x5760a1)break;else _0x46337d['push'](_0x46337d['shift']());}catch(_0x3b2df1){_0x46337d['push'](_0x46337d['shift']());}}}(a113_0x509f,0x3bfdb));const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a113_0x669310(0x1cd)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a113_0x669310(0x1d8)),{nestedKeyValue}=require(a113_0x669310(0x1e1)),util=require(a113_0x669310(0x23e));function a113_0x509f(){const _0x42b361=['UBlGB','uploadPending','max','./constants','fkfsA','proceedWithData','23dlLjwQ','slice','NQBOZ','tnIWP','hoHJw','2627548IidNAj','lKXFB','uploadAttachmentUrl','./utils','shouldProceed','FuzIK','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','uuid','data','HookRunFinished','uLbtY','instance','../helper','oMaWy','SHkuT','BwExd','queue','error','vpibE','145760KMKhEB','Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20','upload-attachments','byteLength','REMOVING','started','batchAndPostEvents','RTLLs','Processing\x20events.\x20Queue\x20Length\x20-\x20','301182quWtJs','api/v1/batch','TestRunFinished','format','Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..','start','push','status','VJtMO','TestRunStarted','add','test_run','length','kOJQw','pendingUploads','logs','fYEgO','join','CPvQE','IgvLh','zaHad','3|6|2|0|4|5|1','40zzWjeG','screenshotEventUrl','UgtSF','proceedWithUrl','xnCvi','IERpW','utf8','splice','TEST_SCREENSHOT','wcQsQ','Interval-Queue','gxFhh','4cVvnkL','iQAxi','TEST_ATTACHMENT','37158ApvvVj','UcXzC','eventUrl','message','UncDi','hspAp','220LkKeGS','yWYbW','244849oLFZNb','CBTSessionCreated','removeEventBatchPolling','paNCA','split','stnSO','cfIhq','316629jMfKts','Remaining\x20Queue\x20Length\x20-\x20','event_type','\x20--\x20','axuLN','.\x20Request\x20Size\x20-\x20','map','\x20bytes.\x20Events\x20are\x20','qPSYM','POST','exports','1005879TMqLQU','hook_run','CgXOc','response','resetEventBatchPolling','getInstance','JKePU','kind','includes','TestRunSkipped','startEventBatchPolling','BATCH_EVENT_TYPES','pollEventBatchInterval','RESETTING','util','Exception\x20in\x20logging\x20batch\x20events\x20--\x20','idNzj','EXCEPTION\x20IN\x20','hZmYN','OzcQi'];a113_0x509f=function(){return _0x42b361;};return a113_0x509f();}class RequestQueueHandler{static [a113_0x669310(0x1e0)];['pendingUploads']=0x0;constructor(){const _0x5b69ab=a113_0x669310,_0x28546d={};_0x28546d[_0x5b69ab(0x204)]=_0x5b69ab(0x206),_0x28546d[_0x5b69ab(0x1d2)]='api/v1/screenshots',_0x28546d[_0x5b69ab(0x1e2)]=_0x5b69ab(0x1f2),_0x28546d[_0x5b69ab(0x1e3)]=_0x5b69ab(0x1ea),_0x28546d[_0x5b69ab(0x20b)]='LogCreated',_0x28546d[_0x5b69ab(0x1ca)]=_0x5b69ab(0x21f),_0x28546d[_0x5b69ab(0x21a)]=_0x5b69ab(0x1f3),_0x28546d['CPvQE']=_0x5b69ab(0x239),_0x28546d[_0x5b69ab(0x21b)]=_0x5b69ab(0x1de),_0x28546d[_0x5b69ab(0x240)]=_0x5b69ab(0x1fa),_0x28546d[_0x5b69ab(0x1ef)]='HookRunStarted';const _0x38ee89=_0x28546d,_0x10a0b2=_0x38ee89[_0x5b69ab(0x204)][_0x5b69ab(0x222)]('|');let _0x398b2a=0x0;while(!![]){switch(_0x10a0b2[_0x398b2a++]){case'0':this[_0x5b69ab(0x208)]=_0x38ee89[_0x5b69ab(0x1d2)];continue;case'1':this[_0x5b69ab(0x23c)]=null;continue;case'2':this['eventUrl']=_0x38ee89[_0x5b69ab(0x1e2)];continue;case'3':this[_0x5b69ab(0x1e5)]=[];continue;case'4':this[_0x5b69ab(0x1d7)]=_0x38ee89['SHkuT'];continue;case'5':this[_0x5b69ab(0x23b)]=[_0x38ee89[_0x5b69ab(0x20b)],_0x38ee89[_0x5b69ab(0x1ca)],_0x38ee89[_0x5b69ab(0x21a)],_0x38ee89[_0x5b69ab(0x203)],_0x38ee89[_0x5b69ab(0x21b)],_0x38ee89[_0x5b69ab(0x240)],_0x38ee89['RTLLs']];continue;case'6':this['started']=![];continue;}break;}}static[a113_0x669310(0x235)](){const _0x32360e=a113_0x669310;return!RequestQueueHandler[_0x32360e(0x1e0)]&&(RequestQueueHandler[_0x32360e(0x1e0)]=new RequestQueueHandler()),RequestQueueHandler[_0x32360e(0x1e0)];}[a113_0x669310(0x1f6)]=()=>{const _0x1dea63=a113_0x669310;!this[_0x1dea63(0x1ed)]&&(this['started']=!![],this['startEventBatchPolling']());};[a113_0x669310(0x1fb)]=_0x2bc103=>{const _0x215060=a113_0x669310,_0x49899c={'BwExd':function(_0x49aef1,_0x6feb3d){return _0x49aef1===_0x6feb3d;},'wyRkU':_0x215060(0x20f),'paNCA':function(_0x3c0b29,_0x9d2aa7){return _0x3c0b29>_0x9d2aa7;},'CgXOc':_0x215060(0x215),'rDFiF':function(_0x39a94e,_0x1b4aff){return _0x39a94e!==_0x1b4aff;},'cfIhq':'TestRunFinished','JKePU':function(_0x5e677d,_0xbe82e1){return _0x5e677d(_0xbe82e1);},'UcXzC':_0x215060(0x1f5)};if(this['BATCH_EVENT_TYPES'][_0x215060(0x238)](_0x2bc103[_0x215060(0x227)])){if(_0x2bc103[_0x215060(0x200)]&&_0x2bc103[_0x215060(0x200)][0x0]&&_0x49899c[_0x215060(0x1e4)](_0x2bc103[_0x215060(0x200)][0x0][_0x215060(0x237)],_0x49899c['wyRkU'])){const _0x1a3ee0={};return _0x1a3ee0[_0x215060(0x1d9)]=!![],_0x1a3ee0[_0x215060(0x1cf)]=[_0x2bc103],_0x1a3ee0['proceedWithUrl']=this[_0x215060(0x208)],_0x1a3ee0;}if(_0x2bc103[_0x215060(0x200)]&&_0x49899c[_0x215060(0x221)](_0x2bc103[_0x215060(0x200)]['length'],0x0)&&_0x49899c[_0x215060(0x1e4)](_0x2bc103[_0x215060(0x200)][0x0][_0x215060(0x237)],_0x49899c[_0x215060(0x232)])&&_0x49899c['rDFiF'](_0x2bc103['event_type'],_0x49899c[_0x215060(0x224)])){const _0x19cc10={};return _0x19cc10['shouldProceed']=!![],_0x19cc10[_0x215060(0x1cf)]=[_0x2bc103],_0x19cc10[_0x215060(0x20a)]=this['uploadAttachmentUrl'],_0x19cc10;}this[_0x215060(0x1e5)][_0x215060(0x1f7)](_0x2bc103);let _0x305e41=null;const _0x473cf8=this[_0x215060(0x1d9)]();_0x473cf8&&(_0x49899c[_0x215060(0x236)](trace,_0x49899c[_0x215060(0x217)]),_0x305e41=this['queue']['slice'](0x0,BATCH_SIZE),this[_0x215060(0x1e5)][_0x215060(0x20e)](0x0,BATCH_SIZE),this['resetEventBatchPolling']());const _0x3a06c2={};return _0x3a06c2['shouldProceed']=_0x473cf8,_0x3a06c2[_0x215060(0x1cf)]=_0x305e41,_0x3a06c2[_0x215060(0x20a)]=this[_0x215060(0x218)],_0x3a06c2;}const _0x9c8e4e={};return _0x9c8e4e['shouldProceed']=!![],_0x9c8e4e;};['shutdown']=async()=>{const _0x59de6c=a113_0x669310,_0x40712f={'axuLN':_0x59de6c(0x1ec),'iQAxi':function(_0x4c8532,_0x2b9196){return _0x4c8532>_0x2b9196;},'rLdAF':'Shutdown-Queue','zhCsW':function(_0x8ca383,_0x47c634){return _0x8ca383>_0x47c634;},'gxFhh':function(_0x212fdd,_0x41c9ba){return _0x212fdd(_0x41c9ba);}};await this[_0x59de6c(0x1cb)](),this['removeEventBatchPolling'](_0x40712f[_0x59de6c(0x229)]);while(_0x40712f[_0x59de6c(0x214)](this[_0x59de6c(0x1e5)][_0x59de6c(0x1fd)],0x0)){const _0x227a59=this[_0x59de6c(0x1e5)]['slice'](0x0,BATCH_SIZE);this[_0x59de6c(0x1e5)][_0x59de6c(0x20e)](0x0,BATCH_SIZE),await this[_0x59de6c(0x1ee)](this['eventUrl'],_0x40712f['rLdAF'],_0x227a59);}_0x40712f['zhCsW'](this[_0x59de6c(0x1ff)],0x0)&&_0x40712f[_0x59de6c(0x212)](debug,_0x59de6c(0x1e9)+this[_0x59de6c(0x1ff)]);};['batchAndPostEvents']=async(_0x5a9131,_0x7d07b2,_0x486c33)=>{const _0x3b6708=a113_0x669310,_0x25c661={'fkfsA':function(_0x41db7d,_0xce23d1){return _0x41db7d(_0xce23d1);},'zTynB':_0x3b6708(0x20d),'gKlas':function(_0x152da5,_0x239ee6){return _0x152da5(_0x239ee6);},'qPSYM':function(_0x2771fb){return _0x2771fb();},'VJtMO':function(_0xd11423,_0x18d0af,_0x45ebf4,_0x3254f2,_0x91adee){return _0xd11423(_0x18d0af,_0x45ebf4,_0x3254f2,_0x91adee);},'zaHad':_0x3b6708(0x22e),'kOJQw':function(_0x2a5f5f,_0x6ed5dd){return _0x2a5f5f(_0x6ed5dd);},'yWYbW':function(_0x530209,_0x2114f7){return _0x530209-_0x2114f7;},'hoHJw':function(_0x1a9c44,_0x1010b7){return _0x1a9c44(_0x1010b7);},'stnSO':function(_0x3fb995,_0x1c9ef5){return _0x3fb995(_0x1c9ef5);},'tnIWP':function(_0xd2d337,_0xb376d8){return _0xd2d337-_0xb376d8;}};let _0x1bc721='';try{_0x1bc721=_0x486c33[_0x3b6708(0x22b)](_0x5313b8=>'\x27'+_0x5313b8[_0x3b6708(0x227)]+'\x27:'+(nestedKeyValue(_0x5313b8,[_0x3b6708(0x1fc),_0x3b6708(0x1dc)])||nestedKeyValue(_0x5313b8,[_0x3b6708(0x231),_0x3b6708(0x1dc)])))[_0x3b6708(0x202)](','),_0x25c661[_0x3b6708(0x1ce)](debug,'Processing\x20batch\x20events\x20for\x20'+_0x7d07b2+_0x3b6708(0x22a)+Buffer[_0x3b6708(0x1eb)](util[_0x3b6708(0x1f4)]('%j',_0x486c33),_0x25c661['zTynB'])+_0x3b6708(0x22c)+_0x1bc721);}catch(_0x1e4f33){_0x25c661['gKlas'](debug,_0x3b6708(0x23f)+util[_0x3b6708(0x1f4)](_0x1e4f33)+'}');}const _0xd29f2e={'headers':_0x25c661[_0x3b6708(0x22d)](getDefaultHeaders)};try{const _0x1065b1=await _0x25c661[_0x3b6708(0x1f9)](nodeRequest,_0x25c661[_0x3b6708(0x205)],_0x5a9131,_0x486c33,_0xd29f2e);if(_0x1065b1[_0x3b6708(0x1dd)][_0x3b6708(0x1e6)]){const _0x301fb1={};_0x301fb1[_0x3b6708(0x219)]=_0x1065b1[_0x3b6708(0x1dd)]['error'];throw _0x301fb1;}else _0x25c661[_0x3b6708(0x1fe)](debug,_0x7d07b2+'\x20event\x20successful\x20for\x20events\x20'+_0x1bc721+_0x3b6708(0x228)+util['format']('%j',_0x1065b1[_0x3b6708(0x1dd)])),this['pendingUploads']=Math[_0x3b6708(0x1cc)](0x0,_0x25c661[_0x3b6708(0x21d)](this[_0x3b6708(0x1ff)],_0x486c33['length']));}catch(_0x4596df){_0x4596df[_0x3b6708(0x233)]?_0x25c661[_0x3b6708(0x1d4)](debug,'EXCEPTION\x20IN\x20'+_0x7d07b2+_0x3b6708(0x1db)+_0x4596df['response'][_0x3b6708(0x1f8)]+'\x20'+_0x4596df[_0x3b6708(0x233)]['statusText']+'\x20'+util[_0x3b6708(0x1f4)]('%j',_0x4596df[_0x3b6708(0x233)])):_0x25c661[_0x3b6708(0x223)](debug,_0x3b6708(0x241)+_0x7d07b2+_0x3b6708(0x1db)+(_0x4596df['message']||_0x4596df)),this[_0x3b6708(0x1ff)]=Math[_0x3b6708(0x1cc)](0x0,_0x25c661[_0x3b6708(0x1d3)](this[_0x3b6708(0x1ff)],_0x486c33[_0x3b6708(0x1fd)]));}};[a113_0x669310(0x23a)]=()=>{const _0x442aaf=a113_0x669310,_0x1ab568={'PuQCB':function(_0x3234cb,_0x102ed8){return _0x3234cb>_0x102ed8;},'uLbtY':function(_0x4947f8,_0x5aa0a6){return _0x4947f8(_0x5aa0a6);},'gGTKN':_0x442aaf(0x211),'lKXFB':function(_0x5cb532,_0x4bf9d5,_0x566a78){return _0x5cb532(_0x4bf9d5,_0x566a78);}};this[_0x442aaf(0x23c)]=_0x1ab568[_0x442aaf(0x1d6)](setInterval,async()=>{const _0xbcfc81=_0x442aaf;if(_0x1ab568['PuQCB'](this[_0xbcfc81(0x1e5)]['length'],0x0)){_0x1ab568[_0xbcfc81(0x1df)](trace,_0xbcfc81(0x1f0)+this['queue'][_0xbcfc81(0x1fd)]);const _0x289bc9=this[_0xbcfc81(0x1e5)][_0xbcfc81(0x1d1)](0x0,BATCH_SIZE);this[_0xbcfc81(0x1e5)][_0xbcfc81(0x20e)](0x0,BATCH_SIZE),await this['batchAndPostEvents'](this[_0xbcfc81(0x218)],_0x1ab568['gGTKN'],_0x289bc9),_0x1ab568[_0xbcfc81(0x1df)](trace,_0xbcfc81(0x226)+this['queue'][_0xbcfc81(0x1fd)]);}},BATCH_INTERVAL);};[a113_0x669310(0x234)]=()=>{const _0x10816f=a113_0x669310,_0x269339={};_0x269339[_0x10816f(0x209)]=_0x10816f(0x23d);const _0x2f097b=_0x269339;this[_0x10816f(0x220)](_0x2f097b[_0x10816f(0x209)]),this[_0x10816f(0x23a)]();};[a113_0x669310(0x220)]=_0x4c4904=>{const _0x42f395=a113_0x669310,_0x3efeb3={'fYEgO':function(_0x541d92,_0xdee2e6){return _0x541d92(_0xdee2e6);},'CSugP':function(_0x370751,_0x4def26){return _0x370751===_0x4def26;},'wcQsQ':'REMOVING'};this[_0x42f395(0x23c)]&&(_0x3efeb3[_0x42f395(0x201)](clearInterval,this[_0x42f395(0x23c)]),this['pollEventBatchInterval']=null,_0x3efeb3['CSugP'](_0x4c4904,_0x3efeb3[_0x42f395(0x210)])&&(this['started']=![]));};[a113_0x669310(0x1d9)]=()=>{const _0x47aacc=a113_0x669310,_0xe0028={};_0xe0028[_0x47aacc(0x20c)]=function(_0x571f30,_0x402d36){return _0x571f30>=_0x402d36;};const _0x40f534=_0xe0028;return _0x40f534[_0x47aacc(0x20c)](this[_0x47aacc(0x1e5)]['length'],BATCH_SIZE);};async[a113_0x669310(0x1cb)](_0x27c87c=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x28c63d=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x163e42=a113_0x669310,_0x35a66f={'FuzIK':function(_0xeb961,_0x10fedc){return _0xeb961<=_0x10fedc;},'vpibE':function(_0x55cd91,_0x1f429b){return _0x55cd91<=_0x1f429b;},'OzcQi':function(_0x13ee50,_0x1fcd57){return _0x13ee50(_0x1fcd57);},'hZmYN':function(_0x305ac8,_0x389a18){return _0x305ac8-_0x389a18;}};if(_0x35a66f[_0x163e42(0x1da)](this[_0x163e42(0x1ff)],0x0)||_0x35a66f[_0x163e42(0x1e7)](_0x27c87c,0x0))return;return await _0x35a66f[_0x163e42(0x243)](sleep,_0x28c63d),this[_0x163e42(0x1cb)](_0x35a66f[_0x163e42(0x242)](_0x27c87c,_0x28c63d));}}module[a113_0x669310(0x22f)]=RequestQueueHandler;