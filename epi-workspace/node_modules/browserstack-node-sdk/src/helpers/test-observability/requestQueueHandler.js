const a125_0x589050=a125_0x5bef;function a125_0x5bef(_0x5c918d,_0x58cd2c){const _0x4b22b7=a125_0x4b22();return a125_0x5bef=function(_0x5bef20,_0x28e418){_0x5bef20=_0x5bef20-0x1cc;let _0x497000=_0x4b22b7[_0x5bef20];return _0x497000;},a125_0x5bef(_0x5c918d,_0x58cd2c);}(function(_0x3b310f,_0x328191){const _0x665dd0=a125_0x5bef,_0x3604ff=_0x3b310f();while(!![]){try{const _0x54f0ad=-parseInt(_0x665dd0(0x1cc))/0x1*(parseInt(_0x665dd0(0x21e))/0x2)+-parseInt(_0x665dd0(0x205))/0x3*(parseInt(_0x665dd0(0x1d5))/0x4)+parseInt(_0x665dd0(0x202))/0x5*(parseInt(_0x665dd0(0x1f6))/0x6)+-parseInt(_0x665dd0(0x219))/0x7*(parseInt(_0x665dd0(0x204))/0x8)+-parseInt(_0x665dd0(0x1e4))/0x9*(-parseInt(_0x665dd0(0x1fa))/0xa)+-parseInt(_0x665dd0(0x1f0))/0xb*(parseInt(_0x665dd0(0x1eb))/0xc)+parseInt(_0x665dd0(0x231))/0xd;if(_0x54f0ad===_0x328191)break;else _0x3604ff['push'](_0x3604ff['shift']());}catch(_0x18edc7){_0x3604ff['push'](_0x3604ff['shift']());}}}(a125_0x4b22,0x5ab13));const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a125_0x589050(0x1df)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a125_0x589050(0x1d9)),{nestedKeyValue}=require(a125_0x589050(0x232)),util=require(a125_0x589050(0x1f5)),constants=require(a125_0x589050(0x23c));class RequestQueueHandler{static [a125_0x589050(0x1d2)];[a125_0x589050(0x1e1)]=0x0;constructor(){const _0x5ca085=a125_0x589050,_0x15e8e0={};_0x15e8e0[_0x5ca085(0x1f8)]=_0x5ca085(0x21f),_0x15e8e0[_0x5ca085(0x214)]=_0x5ca085(0x203),_0x15e8e0[_0x5ca085(0x1f4)]=_0x5ca085(0x1f1),_0x15e8e0[_0x5ca085(0x216)]='LogCreated',_0x15e8e0['uCFHI']='CBTSessionCreated',_0x15e8e0[_0x5ca085(0x207)]='TestRunFinished',_0x15e8e0[_0x5ca085(0x208)]=_0x5ca085(0x1e7),_0x15e8e0[_0x5ca085(0x218)]='HookRunFinished',_0x15e8e0[_0x5ca085(0x1e5)]=_0x5ca085(0x241),_0x15e8e0[_0x5ca085(0x1f9)]=_0x5ca085(0x20b),_0x15e8e0[_0x5ca085(0x210)]=_0x5ca085(0x239);const _0x1bfb73=_0x15e8e0,_0x3490e7=_0x1bfb73[_0x5ca085(0x1f8)]['split']('|');let _0x3ec275=0x0;while(!![]){switch(_0x3490e7[_0x3ec275++]){case'0':this[_0x5ca085(0x1e9)]=![];continue;case'1':this['screenshotEventUrl']=_0x1bfb73[_0x5ca085(0x214)];continue;case'2':this[_0x5ca085(0x1fe)]=_0x1bfb73[_0x5ca085(0x1f4)];continue;case'3':this[_0x5ca085(0x1e0)]=[_0x1bfb73[_0x5ca085(0x216)],_0x1bfb73[_0x5ca085(0x1da)],_0x1bfb73[_0x5ca085(0x207)],_0x1bfb73[_0x5ca085(0x208)],_0x1bfb73[_0x5ca085(0x218)],_0x1bfb73['Mzfco'],_0x1bfb73[_0x5ca085(0x1f9)]];continue;case'4':this[_0x5ca085(0x1cf)]=_0x1bfb73['jwJHL'];continue;case'5':this[_0x5ca085(0x21b)]=[];continue;case'6':this[_0x5ca085(0x20c)]=null;continue;}break;}}static['getInstance'](){const _0x478f7a=a125_0x589050;return!RequestQueueHandler['instance']&&(RequestQueueHandler[_0x478f7a(0x1d2)]=new RequestQueueHandler()),RequestQueueHandler[_0x478f7a(0x1d2)];}['start']=()=>{const _0x1208db=a125_0x589050;!this[_0x1208db(0x1e9)]&&(this[_0x1208db(0x1e9)]=!![],this[_0x1208db(0x23b)]());};[a125_0x589050(0x1ed)]=_0x51f636=>{const _0x4d005e=a125_0x589050,_0xffac31={'bYaOm':function(_0x5ab52e,_0x39b684){return _0x5ab52e===_0x39b684;},'zVeXe':'TEST_SCREENSHOT','obJdl':function(_0x8a8483,_0x25a2e0){return _0x8a8483>_0x25a2e0;},'iMwpG':function(_0x4c046f,_0x347cbe){return _0x4c046f===_0x347cbe;},'nAnhU':'TEST_ATTACHMENT','NAdQa':function(_0x5a5d2a,_0x13f7ed){return _0x5a5d2a!==_0x13f7ed;},'PiHHE':_0x4d005e(0x229),'oDYPU':function(_0x58bf1e,_0x2f6044){return _0x58bf1e(_0x2f6044);},'CAYko':_0x4d005e(0x221)};if(this[_0x4d005e(0x1e0)]['includes'](_0x51f636[_0x4d005e(0x1e6)])){if(_0x51f636[_0x4d005e(0x22c)]&&_0x51f636['logs'][0x0]&&_0xffac31[_0x4d005e(0x215)](_0x51f636['logs'][0x0][_0x4d005e(0x227)],_0xffac31['zVeXe'])){const _0x25aef9={};return _0x25aef9[_0x4d005e(0x1fd)]=!![],_0x25aef9[_0x4d005e(0x20e)]=[_0x51f636],_0x25aef9[_0x4d005e(0x22b)]=this['screenshotEventUrl'],_0x25aef9;}if(_0x51f636[_0x4d005e(0x22c)]&&_0xffac31['obJdl'](_0x51f636['logs']['length'],0x0)&&_0xffac31[_0x4d005e(0x21a)](_0x51f636[_0x4d005e(0x22c)][0x0][_0x4d005e(0x227)],_0xffac31[_0x4d005e(0x230)])&&_0xffac31[_0x4d005e(0x238)](_0x51f636[_0x4d005e(0x1e6)],_0xffac31['PiHHE'])){const _0x108a5c={};return _0x108a5c[_0x4d005e(0x1fd)]=!![],_0x108a5c[_0x4d005e(0x20e)]=[_0x51f636],_0x108a5c[_0x4d005e(0x22b)]=this[_0x4d005e(0x1cf)],_0x108a5c;}this[_0x4d005e(0x21b)][_0x4d005e(0x21c)](_0x51f636);let _0x1c6472=null;const _0x6f096c=this[_0x4d005e(0x1fd)]();_0x6f096c&&(_0xffac31[_0x4d005e(0x1ef)](trace,_0xffac31['CAYko']),_0x1c6472=this[_0x4d005e(0x21b)][_0x4d005e(0x23e)](0x0,BATCH_SIZE),this[_0x4d005e(0x21b)]['splice'](0x0,BATCH_SIZE),this[_0x4d005e(0x23d)]());const _0x12eaab={};return _0x12eaab[_0x4d005e(0x1fd)]=_0x6f096c,_0x12eaab[_0x4d005e(0x20e)]=_0x1c6472,_0x12eaab[_0x4d005e(0x22b)]=this[_0x4d005e(0x1fe)],_0x12eaab;}const _0x3a491e={};return _0x3a491e[_0x4d005e(0x1fd)]=!![],_0x3a491e;};[a125_0x589050(0x1d8)]=async()=>{const _0x1bfbc0=a125_0x589050,_0x561cee={'bIiij':_0x1bfbc0(0x224),'vFKdA':function(_0x2070fb,_0x237534){return _0x2070fb>_0x237534;},'iFkWS':_0x1bfbc0(0x209),'FYdRc':function(_0x1e507a,_0x5e5a51){return _0x1e507a(_0x5e5a51);}};await this['uploadPending'](),this[_0x1bfbc0(0x1f3)](_0x561cee[_0x1bfbc0(0x22d)]);while(_0x561cee[_0x1bfbc0(0x20a)](this[_0x1bfbc0(0x21b)]['length'],0x0)){const _0x28dcd4=this[_0x1bfbc0(0x21b)][_0x1bfbc0(0x23e)](0x0,BATCH_SIZE);this[_0x1bfbc0(0x21b)][_0x1bfbc0(0x22f)](0x0,BATCH_SIZE),await this[_0x1bfbc0(0x1ea)](this[_0x1bfbc0(0x1fe)],_0x561cee['iFkWS'],_0x28dcd4);}_0x561cee[_0x1bfbc0(0x20a)](this[_0x1bfbc0(0x1e1)],0x0)&&_0x561cee[_0x1bfbc0(0x225)](debug,'Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20'+this['pendingUploads']);};[a125_0x589050(0x1ea)]=async(_0x124ed8,_0x166135,_0x30e16f)=>{const _0x237886=a125_0x589050,_0x1be018={'XLScF':function(_0x4a2a93,_0x321ea9){return _0x4a2a93(_0x321ea9);},'udUvm':_0x237886(0x206),'bJKby':function(_0x5a9a4d){return _0x5a9a4d();},'Hxirb':function(_0x5efcc8,_0x5e16db,_0x398557,_0x5dc952,_0x2e1a06){return _0x5efcc8(_0x5e16db,_0x398557,_0x5dc952,_0x2e1a06);},'auIZj':_0x237886(0x233),'ZfvNN':function(_0x290525,_0x2cff3d){return _0x290525(_0x2cff3d);},'WOgPg':function(_0x58a41d,_0x2fcbc5){return _0x58a41d-_0x2fcbc5;},'aIFNx':function(_0x13cfb0,_0x510fe4){return _0x13cfb0(_0x510fe4);},'BgKCB':function(_0x2afc98,_0x2b5619){return _0x2afc98-_0x2b5619;}};let _0x305b90='';try{_0x305b90=_0x30e16f[_0x237886(0x1d0)](_0x5535eb=>'\x27'+_0x5535eb[_0x237886(0x1e6)]+'\x27:'+(nestedKeyValue(_0x5535eb,['test_run','uuid'])||nestedKeyValue(_0x5535eb,['hook_run',_0x237886(0x1de)])))[_0x237886(0x1d6)](','),_0x1be018[_0x237886(0x22a)](debug,_0x237886(0x1fc)+_0x166135+'.\x20Request\x20Size\x20-\x20'+Buffer[_0x237886(0x1e2)](util['format']('%j',_0x30e16f),_0x1be018['udUvm'])+_0x237886(0x1e8)+_0x305b90);}catch(_0x4514b6){_0x1be018[_0x237886(0x22a)](debug,_0x237886(0x1cd)+util['format'](_0x4514b6)+'}');}const _0x32c545={'headers':_0x1be018[_0x237886(0x22e)](getDefaultHeaders)};try{const _0x814c51=await _0x1be018[_0x237886(0x1dc)](nodeRequest,_0x1be018[_0x237886(0x234)],_0x124ed8,_0x30e16f,_0x32c545);if(_0x814c51[_0x237886(0x21d)][_0x237886(0x1f7)]){const _0x5e5ac3={};_0x5e5ac3[_0x237886(0x240)]=_0x814c51[_0x237886(0x21d)]['error'];throw _0x5e5ac3;}else _0x1be018[_0x237886(0x211)](debug,_0x166135+_0x237886(0x226)+_0x305b90+_0x237886(0x1d4)+util[_0x237886(0x23f)]('%j',_0x814c51['data'])),this['pendingUploads']=Math['max'](0x0,_0x1be018[_0x237886(0x1d1)](this[_0x237886(0x1e1)],_0x30e16f[_0x237886(0x237)]));}catch(_0x443f9c){_0x443f9c[_0x237886(0x222)]?_0x1be018[_0x237886(0x213)](debug,'EXCEPTION\x20IN\x20'+_0x166135+_0x237886(0x223)+constants[_0x237886(0x200)]+_0x237886(0x1ce)+_0x443f9c[_0x237886(0x222)][_0x237886(0x20d)]+'\x20'+_0x443f9c[_0x237886(0x222)][_0x237886(0x1d7)]+'\x20'+util[_0x237886(0x23f)]('%j',_0x443f9c[_0x237886(0x222)])):_0x1be018['aIFNx'](debug,_0x237886(0x1ec)+_0x166135+'\x20REQUEST\x20TO\x20'+constants[_0x237886(0x200)]+'\x20:\x20'+(_0x443f9c[_0x237886(0x240)]||_0x443f9c)),this[_0x237886(0x1e1)]=Math[_0x237886(0x1d3)](0x0,_0x1be018[_0x237886(0x217)](this[_0x237886(0x1e1)],_0x30e16f['length']));}};[a125_0x589050(0x23b)]=()=>{const _0x2312db=a125_0x589050,_0x341394={'BGFTF':function(_0x590922,_0x28e6a2){return _0x590922>_0x28e6a2;},'pvwbq':function(_0xe9b1c6,_0x28922c){return _0xe9b1c6(_0x28922c);},'PDBjC':_0x2312db(0x228),'ZUrMW':function(_0x16f791,_0x23f3a3,_0x234ba2){return _0x16f791(_0x23f3a3,_0x234ba2);}};this[_0x2312db(0x20c)]=_0x341394[_0x2312db(0x1db)](setInterval,async()=>{const _0x15d15e=_0x2312db;if(_0x341394[_0x15d15e(0x201)](this[_0x15d15e(0x21b)][_0x15d15e(0x237)],0x0)){_0x341394['pvwbq'](trace,'Processing\x20events.\x20Queue\x20Length\x20-\x20'+this[_0x15d15e(0x21b)][_0x15d15e(0x237)]);const _0x27bed9=this['queue'][_0x15d15e(0x23e)](0x0,BATCH_SIZE);this[_0x15d15e(0x21b)][_0x15d15e(0x22f)](0x0,BATCH_SIZE),await this[_0x15d15e(0x1ea)](this[_0x15d15e(0x1fe)],_0x341394['PDBjC'],_0x27bed9),_0x341394[_0x15d15e(0x220)](trace,_0x15d15e(0x235)+this[_0x15d15e(0x21b)]['length']);}},BATCH_INTERVAL);};[a125_0x589050(0x23d)]=()=>{const _0x46744d=a125_0x589050,_0xc6a3fc={};_0xc6a3fc['andfg']=_0x46744d(0x1ff);const _0x179ab7=_0xc6a3fc;this['removeEventBatchPolling'](_0x179ab7[_0x46744d(0x20f)]),this[_0x46744d(0x23b)]();};[a125_0x589050(0x1f3)]=_0x3ff5c2=>{const _0x5d5762=a125_0x589050,_0x4e54f5={'BEkMX':function(_0x521ef0,_0x531648){return _0x521ef0(_0x531648);},'sfifp':function(_0x3a8b35,_0x429590){return _0x3a8b35===_0x429590;},'bnTjB':_0x5d5762(0x224)};this[_0x5d5762(0x20c)]&&(_0x4e54f5['BEkMX'](clearInterval,this[_0x5d5762(0x20c)]),this[_0x5d5762(0x20c)]=null,_0x4e54f5[_0x5d5762(0x1ee)](_0x3ff5c2,_0x4e54f5[_0x5d5762(0x236)])&&(this['started']=![]));};['shouldProceed']=()=>{const _0x22debd=a125_0x589050,_0x2f65db={};_0x2f65db[_0x22debd(0x1dd)]=function(_0xa007e,_0x45b1e0){return _0xa007e>=_0x45b1e0;};const _0x22843f=_0x2f65db;return _0x22843f[_0x22debd(0x1dd)](this[_0x22debd(0x21b)][_0x22debd(0x237)],BATCH_SIZE);};async[a125_0x589050(0x212)](_0x7db62a=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x4ad393=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x595dfc=a125_0x589050,_0x3d88ab={'udaKF':function(_0x1f37bb,_0x31421b){return _0x1f37bb<=_0x31421b;},'KIxbn':function(_0x58ec0a,_0x14ece5){return _0x58ec0a(_0x14ece5);},'rsEYQ':function(_0x522333,_0x1d845c){return _0x522333-_0x1d845c;}};if(_0x3d88ab[_0x595dfc(0x1f2)](this['pendingUploads'],0x0)||_0x3d88ab['udaKF'](_0x7db62a,0x0))return;return await _0x3d88ab[_0x595dfc(0x1fb)](sleep,_0x4ad393),this[_0x595dfc(0x212)](_0x3d88ab[_0x595dfc(0x1e3)](_0x7db62a,_0x4ad393));}}module[a125_0x589050(0x23a)]=RequestQueueHandler;function a125_0x4b22(){const _0x17d5b3=['proceedWithData','andfg','jwJHL','ZfvNN','uploadPending','aIFNx','VrFrS','bYaOm','GNOYl','BgKCB','LzQfM','1499029DzaGus','iMwpG','queue','push','data','4748hJvkHX','5|0|2|1|4|3|6','pvwbq','Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..','response','\x20REQUEST\x20TO\x20','REMOVING','FYdRc','\x20event\x20successful\x20for\x20events\x20','kind','Interval-Queue','TestRunFinished','XLScF','proceedWithUrl','logs','bIiij','bJKby','splice','nAnhU','13272168txUffT','../helper','POST','auIZj','Remaining\x20Queue\x20Length\x20-\x20','bnTjB','length','NAdQa','upload-attachments','exports','startEventBatchPolling','../../bin/utils/constants','resetEventBatchPolling','slice','format','message','TestRunStarted','159GHOvds','Exception\x20in\x20logging\x20batch\x20events\x20--\x20','\x20:\x20','uploadAttachmentUrl','map','WOgPg','instance','max','\x20--\x20','212vjsZpZ','join','statusText','shutdown','./utils','uCFHI','ZUrMW','Hxirb','UjnRq','uuid','./constants','BATCH_EVENT_TYPES','pendingUploads','byteLength','rsEYQ','54jyFUxK','Mzfco','event_type','TestRunSkipped','\x20bytes.\x20Events\x20are\x20','started','batchAndPostEvents','12scMZEg','EXCEPTION\x20IN\x20','add','sfifp','oDYPU','5525465QYyKmk','api/v1/batch','udaKF','removeEventBatchPolling','nOTSV','util','18NsUYTp','error','bSWlq','JxIZS','199150KQxzcG','KIxbn','Processing\x20batch\x20events\x20for\x20','shouldProceed','eventUrl','RESETTING','TEST_REPORTING_ANALYTICS','BGFTF','954675gQsLYY','api/v1/screenshots','8yuIury','14028aSspxQ','utf8','GrgJs','LLGYS','Shutdown-Queue','vFKdA','HookRunStarted','pollEventBatchInterval','status'];a125_0x4b22=function(){return _0x17d5b3;};return a125_0x4b22();}