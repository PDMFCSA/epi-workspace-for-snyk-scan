const a118_0x11ca65=a118_0x4783;(function(_0x544a64,_0x2d493f){const _0x46b19e=a118_0x4783,_0x56e3f2=_0x544a64();while(!![]){try{const _0x80eff=-parseInt(_0x46b19e(0x99))/0x1*(parseInt(_0x46b19e(0xd9))/0x2)+-parseInt(_0x46b19e(0xc1))/0x3*(-parseInt(_0x46b19e(0xba))/0x4)+parseInt(_0x46b19e(0xd2))/0x5*(-parseInt(_0x46b19e(0x105))/0x6)+parseInt(_0x46b19e(0xf5))/0x7*(-parseInt(_0x46b19e(0xb3))/0x8)+-parseInt(_0x46b19e(0xdb))/0x9+-parseInt(_0x46b19e(0xdf))/0xa+parseInt(_0x46b19e(0x101))/0xb*(parseInt(_0x46b19e(0xf1))/0xc);if(_0x80eff===_0x2d493f)break;else _0x56e3f2['push'](_0x56e3f2['shift']());}catch(_0x3019c9){_0x56e3f2['push'](_0x56e3f2['shift']());}}}(a118_0x4612,0x35c6c));const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a118_0x11ca65(0xb8)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a118_0x11ca65(0xb2)),{nestedKeyValue}=require(a118_0x11ca65(0xa2)),util=require(a118_0x11ca65(0xa0)),constants=require(a118_0x11ca65(0xc3));class RequestQueueHandler{static ['instance'];['pendingUploads']=0x0;constructor(){const _0x13779c=a118_0x11ca65,_0x5459ab={};_0x5459ab[_0x13779c(0xdd)]='4|5|3|2|6|1|0',_0x5459ab[_0x13779c(0xbe)]=_0x13779c(0x9c),_0x5459ab['dWGVf']='CBTSessionCreated',_0x5459ab[_0x13779c(0x100)]='TestRunFinished',_0x5459ab[_0x13779c(0x96)]='TestRunSkipped',_0x5459ab[_0x13779c(0xd3)]=_0x13779c(0xb6),_0x5459ab[_0x13779c(0xe0)]=_0x13779c(0x109),_0x5459ab[_0x13779c(0xe3)]=_0x13779c(0xfe),_0x5459ab[_0x13779c(0xc9)]=_0x13779c(0xd8),_0x5459ab['sDMwb']=_0x13779c(0xd6),_0x5459ab[_0x13779c(0x106)]=_0x13779c(0xe7);const _0x1913f3=_0x5459ab,_0x510d89=_0x1913f3[_0x13779c(0xdd)][_0x13779c(0xca)]('|');let _0x3ada6f=0x0;while(!![]){switch(_0x510d89[_0x3ada6f++]){case'0':this['pollEventBatchInterval']=null;continue;case'1':this[_0x13779c(0x98)]=[_0x1913f3['gobBZ'],_0x1913f3[_0x13779c(0xde)],_0x1913f3['SaXel'],_0x1913f3['yuWJa'],_0x1913f3[_0x13779c(0xd3)],_0x1913f3[_0x13779c(0xe0)],_0x1913f3[_0x13779c(0xe3)]];continue;case'2':this[_0x13779c(0xfd)]=_0x1913f3['uDBLQ'];continue;case'3':this[_0x13779c(0xef)]=_0x1913f3[_0x13779c(0xf3)];continue;case'4':this[_0x13779c(0xf2)]=[];continue;case'5':this[_0x13779c(0xf9)]=![];continue;case'6':this[_0x13779c(0xfb)]=_0x1913f3[_0x13779c(0x106)];continue;}break;}}static['getInstance'](){const _0x3d3c3f=a118_0x11ca65;return!RequestQueueHandler[_0x3d3c3f(0xe5)]&&(RequestQueueHandler['instance']=new RequestQueueHandler()),RequestQueueHandler['instance'];}['start']=()=>{const _0x48fc78=a118_0x11ca65;!this[_0x48fc78(0xf9)]&&(this[_0x48fc78(0xf9)]=!![],this['startEventBatchPolling']());};[a118_0x11ca65(0xb9)]=_0x2879dc=>{const _0x4d6b77=a118_0x11ca65,_0x23ed94={'FkKhg':function(_0x28cce6,_0x5f17cf){return _0x28cce6===_0x5f17cf;},'XIzLD':_0x4d6b77(0xc7),'RorVz':function(_0x4d06e3,_0x551372){return _0x4d06e3>_0x551372;},'BemFN':function(_0x3172c1,_0x5e993e){return _0x3172c1===_0x5e993e;},'fpaMz':_0x4d6b77(0x110),'DKugm':function(_0x5750d7,_0x4f5360){return _0x5750d7!==_0x4f5360;},'pooow':_0x4d6b77(0x9d),'TYhYT':function(_0x2efea1,_0x37e843){return _0x2efea1(_0x37e843);},'EAoDz':'Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..'};if(this[_0x4d6b77(0x98)]['includes'](_0x2879dc[_0x4d6b77(0xd0)])){if(_0x2879dc['logs']&&_0x2879dc[_0x4d6b77(0xcf)][0x0]&&_0x23ed94[_0x4d6b77(0xc8)](_0x2879dc['logs'][0x0][_0x4d6b77(0xa3)],_0x23ed94[_0x4d6b77(0xb5)])){const _0x572847={};return _0x572847[_0x4d6b77(0xf8)]=!![],_0x572847[_0x4d6b77(0xb4)]=[_0x2879dc],_0x572847[_0x4d6b77(0x108)]=this[_0x4d6b77(0xfd)],_0x572847;}if(_0x2879dc[_0x4d6b77(0xcf)]&&_0x23ed94[_0x4d6b77(0x10a)](_0x2879dc[_0x4d6b77(0xcf)][_0x4d6b77(0xe8)],0x0)&&_0x23ed94[_0x4d6b77(0xcc)](_0x2879dc[_0x4d6b77(0xcf)][0x0][_0x4d6b77(0xa3)],_0x23ed94[_0x4d6b77(0x103)])&&_0x23ed94[_0x4d6b77(0xa1)](_0x2879dc[_0x4d6b77(0xd0)],_0x23ed94[_0x4d6b77(0x9e)])){const _0x292572={};return _0x292572[_0x4d6b77(0xf8)]=!![],_0x292572[_0x4d6b77(0xb4)]=[_0x2879dc],_0x292572[_0x4d6b77(0x108)]=this[_0x4d6b77(0xfb)],_0x292572;}this[_0x4d6b77(0xf2)][_0x4d6b77(0xc4)](_0x2879dc);let _0x4fa966=null;const _0x2055ba=this['shouldProceed']();_0x2055ba&&(_0x23ed94['TYhYT'](trace,_0x23ed94[_0x4d6b77(0xc5)]),_0x4fa966=this[_0x4d6b77(0xf2)][_0x4d6b77(0xaf)](0x0,BATCH_SIZE),this[_0x4d6b77(0xf2)][_0x4d6b77(0xc2)](0x0,BATCH_SIZE),this[_0x4d6b77(0x10d)]());const _0x48a5c1={};return _0x48a5c1['shouldProceed']=_0x2055ba,_0x48a5c1[_0x4d6b77(0xb4)]=_0x4fa966,_0x48a5c1[_0x4d6b77(0x108)]=this[_0x4d6b77(0xef)],_0x48a5c1;}const _0x4cdc92={};return _0x4cdc92[_0x4d6b77(0xf8)]=!![],_0x4cdc92;};[a118_0x11ca65(0xb7)]=async()=>{const _0x13b462=a118_0x11ca65,_0x4d8e53={'ULQST':_0x13b462(0xda),'cWdSi':function(_0x430119,_0x5c4c6e){return _0x430119>_0x5c4c6e;},'NdVhV':_0x13b462(0xe9),'PHaDc':function(_0x30c332,_0xb9f0fe){return _0x30c332>_0xb9f0fe;},'FoThN':function(_0x13b351,_0x53e437){return _0x13b351(_0x53e437);}};await this[_0x13b462(0xec)](),this[_0x13b462(0xd4)](_0x4d8e53['ULQST']);while(_0x4d8e53['cWdSi'](this[_0x13b462(0xf2)][_0x13b462(0xe8)],0x0)){const _0x34f03d=this[_0x13b462(0xf2)][_0x13b462(0xaf)](0x0,BATCH_SIZE);this[_0x13b462(0xf2)]['splice'](0x0,BATCH_SIZE),await this[_0x13b462(0xab)](this[_0x13b462(0xef)],_0x4d8e53[_0x13b462(0xac)],_0x34f03d);}_0x4d8e53[_0x13b462(0xc0)](this[_0x13b462(0xff)],0x0)&&_0x4d8e53['FoThN'](debug,_0x13b462(0x9f)+this['pendingUploads']);};['batchAndPostEvents']=async(_0x1bce96,_0x56697d,_0x489253)=>{const _0x37b349=a118_0x11ca65,_0x1bd9e9={'rPnjW':function(_0x4fa576,_0x4980f4){return _0x4fa576(_0x4980f4);},'BhLlm':_0x37b349(0xad),'QlXAN':function(_0x262ab9,_0x40946c){return _0x262ab9(_0x40946c);},'YPQTY':function(_0x4353b3){return _0x4353b3();},'iAdKw':function(_0x3fe746,_0x14e578,_0x20148f,_0x475ae0,_0x4264b2){return _0x3fe746(_0x14e578,_0x20148f,_0x475ae0,_0x4264b2);},'ApRPH':_0x37b349(0xed),'cxShh':function(_0x5b1cdc,_0x487e86){return _0x5b1cdc-_0x487e86;},'DMsFs':function(_0x15e022,_0x4d773b){return _0x15e022(_0x4d773b);}};let _0x3559f5='';try{_0x3559f5=_0x489253[_0x37b349(0x10f)](_0x49534b=>'\x27'+_0x49534b[_0x37b349(0xd0)]+'\x27:'+(nestedKeyValue(_0x49534b,[_0x37b349(0xcb),_0x37b349(0xe1)])||nestedKeyValue(_0x49534b,[_0x37b349(0xaa),'uuid'])))[_0x37b349(0xbb)](','),_0x1bd9e9['rPnjW'](debug,_0x37b349(0xf4)+_0x56697d+_0x37b349(0xbc)+Buffer[_0x37b349(0xea)](util[_0x37b349(0xc6)]('%j',_0x489253),_0x1bd9e9[_0x37b349(0x9a)])+_0x37b349(0xe2)+_0x3559f5);}catch(_0x240e57){_0x1bd9e9[_0x37b349(0x107)](debug,'Exception\x20in\x20logging\x20batch\x20events\x20--\x20'+util['format'](_0x240e57)+'}');}const _0x50579b={'headers':_0x1bd9e9[_0x37b349(0xa6)](getDefaultHeaders)};try{const _0x5a94da=await _0x1bd9e9['iAdKw'](nodeRequest,_0x1bd9e9[_0x37b349(0xbf)],_0x1bce96,_0x489253,_0x50579b);if(_0x5a94da[_0x37b349(0x104)][_0x37b349(0x102)]){const _0x1e61f2={};_0x1e61f2[_0x37b349(0xa5)]=_0x5a94da[_0x37b349(0x104)][_0x37b349(0x102)];throw _0x1e61f2;}else _0x1bd9e9[_0x37b349(0xce)](debug,_0x56697d+_0x37b349(0x10e)+_0x3559f5+_0x37b349(0xdc)+util['format']('%j',_0x5a94da[_0x37b349(0x104)])),this[_0x37b349(0xff)]=Math[_0x37b349(0xfa)](0x0,_0x1bd9e9[_0x37b349(0xa8)](this[_0x37b349(0xff)],_0x489253[_0x37b349(0xe8)]));}catch(_0x2ce3b1){_0x2ce3b1['response']?_0x1bd9e9[_0x37b349(0xce)](debug,_0x37b349(0xee)+_0x56697d+_0x37b349(0x10b)+constants[_0x37b349(0xd5)]+_0x37b349(0xf7)+_0x2ce3b1[_0x37b349(0xeb)][_0x37b349(0xf6)]+'\x20'+_0x2ce3b1['response'][_0x37b349(0xa7)]+'\x20'+util[_0x37b349(0xc6)]('%j',_0x2ce3b1[_0x37b349(0xeb)])):_0x1bd9e9[_0x37b349(0x10c)](debug,_0x37b349(0xee)+_0x56697d+_0x37b349(0x10b)+constants[_0x37b349(0xd5)]+'\x20:\x20'+(_0x2ce3b1[_0x37b349(0xa5)]||_0x2ce3b1)),this[_0x37b349(0xff)]=Math[_0x37b349(0xfa)](0x0,_0x1bd9e9[_0x37b349(0xa8)](this[_0x37b349(0xff)],_0x489253[_0x37b349(0xe8)]));}};['startEventBatchPolling']=()=>{const _0x420eed=a118_0x11ca65,_0x491998={'LPGKE':function(_0x2643c1,_0x2a832c){return _0x2643c1>_0x2a832c;},'bLCBT':function(_0x35a404,_0x12f1ac){return _0x35a404(_0x12f1ac);},'dfOMw':_0x420eed(0xf0),'jRhyH':function(_0x5e2eb4,_0x3eae82){return _0x5e2eb4(_0x3eae82);},'BkxQh':function(_0x5136d8,_0x580182,_0x2dfbed){return _0x5136d8(_0x580182,_0x2dfbed);}};this[_0x420eed(0xa9)]=_0x491998['BkxQh'](setInterval,async()=>{const _0x302ca9=_0x420eed;if(_0x491998['LPGKE'](this[_0x302ca9(0xf2)]['length'],0x0)){_0x491998[_0x302ca9(0xcd)](trace,_0x302ca9(0xe6)+this[_0x302ca9(0xf2)][_0x302ca9(0xe8)]);const _0x4abd45=this['queue']['slice'](0x0,BATCH_SIZE);this['queue'][_0x302ca9(0xc2)](0x0,BATCH_SIZE),await this[_0x302ca9(0xab)](this[_0x302ca9(0xef)],_0x491998[_0x302ca9(0xb0)],_0x4abd45),_0x491998[_0x302ca9(0x97)](trace,'Remaining\x20Queue\x20Length\x20-\x20'+this[_0x302ca9(0xf2)][_0x302ca9(0xe8)]);}},BATCH_INTERVAL);};[a118_0x11ca65(0x10d)]=()=>{const _0x183f6a=a118_0x11ca65,_0x424d56={};_0x424d56[_0x183f6a(0xae)]='RESETTING';const _0x2c1b61=_0x424d56;this[_0x183f6a(0xd4)](_0x2c1b61[_0x183f6a(0xae)]),this[_0x183f6a(0xa4)]();};[a118_0x11ca65(0xd4)]=_0x4fe7fa=>{const _0x232488=a118_0x11ca65,_0x547ab8={'XElCa':function(_0x1d6e96,_0x472934){return _0x1d6e96(_0x472934);},'HEalR':function(_0x37d227,_0x5595b9){return _0x37d227===_0x5595b9;},'iecQP':_0x232488(0xda)};this[_0x232488(0xa9)]&&(_0x547ab8[_0x232488(0xe4)](clearInterval,this['pollEventBatchInterval']),this[_0x232488(0xa9)]=null,_0x547ab8[_0x232488(0xd1)](_0x4fe7fa,_0x547ab8[_0x232488(0xd7)])&&(this[_0x232488(0xf9)]=![]));};['shouldProceed']=()=>{const _0x386998=a118_0x11ca65,_0x14ddae={};_0x14ddae[_0x386998(0xfc)]=function(_0x1d0ecd,_0x555073){return _0x1d0ecd>=_0x555073;};const _0x155dc7=_0x14ddae;return _0x155dc7['MErcL'](this[_0x386998(0xf2)][_0x386998(0xe8)],BATCH_SIZE);};async[a118_0x11ca65(0xec)](_0x54350e=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x411eb4=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x4b7548=a118_0x11ca65,_0x58de6a={'wxuIY':function(_0x1fb658,_0x19ac91){return _0x1fb658<=_0x19ac91;},'VQzts':function(_0x49f116,_0x13a45f){return _0x49f116(_0x13a45f);},'isBhw':function(_0x3103cb,_0xcc90a6){return _0x3103cb-_0xcc90a6;}};if(_0x58de6a[_0x4b7548(0xb1)](this[_0x4b7548(0xff)],0x0)||_0x58de6a[_0x4b7548(0xb1)](_0x54350e,0x0))return;return await _0x58de6a[_0x4b7548(0x9b)](sleep,_0x411eb4),this['uploadPending'](_0x58de6a['isBhw'](_0x54350e,_0x411eb4));}}module[a118_0x11ca65(0xbd)]=RequestQueueHandler;function a118_0x4783(_0x5981a5,_0x1ebdab){const _0x4612f0=a118_0x4612();return a118_0x4783=function(_0x4783fe,_0x498eb4){_0x4783fe=_0x4783fe-0x96;let _0x425017=_0x4612f0[_0x4783fe];return _0x425017;},a118_0x4783(_0x5981a5,_0x1ebdab);}function a118_0x4612(){const _0x291d20=['\x20:\x20','shouldProceed','started','max','uploadAttachmentUrl','MErcL','screenshotEventUrl','HookRunStarted','pendingUploads','SaXel','1732203WzQCKf','error','fpaMz','data','2182722UoZbrp','oomvz','QlXAN','proceedWithUrl','TestRunStarted','RorVz','\x20REQUEST\x20TO\x20','DMsFs','resetEventBatchPolling','\x20event\x20successful\x20for\x20events\x20','map','TEST_ATTACHMENT','yuWJa','jRhyH','BATCH_EVENT_TYPES','63235CGZXIZ','BhLlm','VQzts','LogCreated','TestRunFinished','pooow','Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20','util','DKugm','../helper','kind','startEventBatchPolling','message','YPQTY','statusText','cxShh','pollEventBatchInterval','hook_run','batchAndPostEvents','NdVhV','utf8','egCRF','slice','dfOMw','wxuIY','./utils','48vDnBYd','proceedWithData','XIzLD','HookRunFinished','shutdown','./constants','add','126956ZEqxtq','join','.\x20Request\x20Size\x20-\x20','exports','gobBZ','ApRPH','PHaDc','36YYJppy','splice','../../bin/utils/constants','push','EAoDz','format','TEST_SCREENSHOT','FkKhg','uDBLQ','split','test_run','BemFN','bLCBT','rPnjW','logs','event_type','HEalR','5hNPDqq','DzteZ','removeEventBatchPolling','TEST_REPORTING_ANALYTICS','api/v1/batch','iecQP','api/v1/screenshots','2sUaiwA','REMOVING','562473ppRXlC','\x20--\x20','eunan','dWGVf','460240nOtsjJ','kXHxR','uuid','\x20bytes.\x20Events\x20are\x20','shcNr','XElCa','instance','Processing\x20events.\x20Queue\x20Length\x20-\x20','upload-attachments','length','Shutdown-Queue','byteLength','response','uploadPending','POST','EXCEPTION\x20IN\x20','eventUrl','Interval-Queue','36rBuRJJ','queue','sDMwb','Processing\x20batch\x20events\x20for\x20','113722vsQDzZ','status'];a118_0x4612=function(){return _0x291d20;};return a118_0x4612();}