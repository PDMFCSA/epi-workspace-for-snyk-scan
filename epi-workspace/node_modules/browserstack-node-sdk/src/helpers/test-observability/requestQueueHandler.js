const a86_0x14da15=a86_0x55a4;(function(_0x1f3401,_0x2e0b35){const _0xeaf70a=a86_0x55a4,_0x32238b=_0x1f3401();while(!![]){try{const _0x272497=parseInt(_0xeaf70a(0x215))/0x1+-parseInt(_0xeaf70a(0x211))/0x2+parseInt(_0xeaf70a(0x1f3))/0x3*(parseInt(_0xeaf70a(0x1ec))/0x4)+-parseInt(_0xeaf70a(0x220))/0x5*(-parseInt(_0xeaf70a(0x207))/0x6)+-parseInt(_0xeaf70a(0x1e8))/0x7+parseInt(_0xeaf70a(0x204))/0x8*(parseInt(_0xeaf70a(0x232))/0x9)+parseInt(_0xeaf70a(0x23b))/0xa*(-parseInt(_0xeaf70a(0x241))/0xb);if(_0x272497===_0x2e0b35)break;else _0x32238b['push'](_0x32238b['shift']());}catch(_0x25af4d){_0x32238b['push'](_0x32238b['shift']());}}}(a86_0x3480,0xc63b0));const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a86_0x14da15(0x236)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a86_0x14da15(0x212)),{nestedKeyValue}=require(a86_0x14da15(0x237)),util=require(a86_0x14da15(0x1fe));function a86_0x3480(){const _0x5ba005=['logs','yPpkZ','GuYgd','9Ummryz','shouldProceed','POST','KrcIC','./constants','../helper','proceedWithData','Interval-Queue','removeEventBatchPolling','7640120RFUaJk','screenshotEventUrl','TestRunStarted','exports','\x20bytes.\x20Events\x20are\x20','SACTB','22FWjuKd','start','split','hrYAF','xdihR','laFpM','NoIaD','SQylF','NBjAD','proceedWithUrl','Remaining\x20Queue\x20Length\x20-\x20','HookRunFinished','startEventBatchPolling','TestRunFinished','Mdfaa','started','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','rZWKE','JHFvj','wJPSC','pollEventBatchInterval','REMOVING','upload-attachments','format','data','3|5|1|0|6|4|2','4272114vKIFMQ','eFLDI','.\x20Request\x20Size\x20-\x20','map','4VKBPKd','Processing\x20batch\x20events\x20for\x20','daWcV','DqXbQ','api/v1/batch','batchAndPostEvents','api/v1/screenshots','343209cWuXry','okihZ','length','SjiiH','error','Shutdown-Queue','PEfEG','TEST_ATTACHMENT','\x20event\x20successful\x20for\x20events\x20','zEKEs','slice','util','queue','pQjIz','splice','Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..','hxcEc','9255712jgKkVU','gmADF','MuPvB','597894rkKRTA','max','jjYMr','TEST_SCREENSHOT','GdFWQ','\x20--\x20','resetEventBatchPolling','xLeFp','qUdQk','vmocX','304704XiRmzB','./utils','test_run','join','834773IpleZi','utf8','EczAy','Tabsw','uploadAttachmentUrl','includes','instance','Sfefh','hbNyJ','status','BATCH_EVENT_TYPES','50vhNkfP','uploadPending','event_type','JUcIM','LogCreated','response','ZOeLj','csxnN','EXCEPTION\x20IN\x20','message','pendingUploads','HookRunStarted','Processing\x20events.\x20Queue\x20Length\x20-\x20','eventUrl','add'];a86_0x3480=function(){return _0x5ba005;};return a86_0x3480();}function a86_0x55a4(_0x4fb25c,_0x32e1d6){const _0x34801b=a86_0x3480();return a86_0x55a4=function(_0x55a4bb,_0x1ad56d){_0x55a4bb=_0x55a4bb-0x1de;let _0xb06189=_0x34801b[_0x55a4bb];return _0xb06189;},a86_0x55a4(_0x4fb25c,_0x32e1d6);}class RequestQueueHandler{static [a86_0x14da15(0x21b)];[a86_0x14da15(0x22a)]=0x0;constructor(){const _0x27fc51=a86_0x14da15,_0x5b921a={};_0x5b921a[_0x27fc51(0x1f9)]=_0x27fc51(0x1e7),_0x5b921a[_0x27fc51(0x1e1)]=_0x27fc51(0x1f2),_0x5b921a['pYteO']=_0x27fc51(0x1f0),_0x5b921a['NSFPF']=_0x27fc51(0x224),_0x5b921a[_0x27fc51(0x1f4)]='CBTSessionCreated',_0x5b921a[_0x27fc51(0x1df)]=_0x27fc51(0x24e),_0x5b921a['GuYgd']='TestRunSkipped',_0x5b921a[_0x27fc51(0x1ef)]=_0x27fc51(0x24c),_0x5b921a[_0x27fc51(0x218)]=_0x27fc51(0x23d),_0x5b921a[_0x27fc51(0x209)]=_0x27fc51(0x22b),_0x5b921a[_0x27fc51(0x20f)]=_0x27fc51(0x1e4);const _0x3b0abf=_0x5b921a,_0x5870a0=_0x3b0abf[_0x27fc51(0x1f9)][_0x27fc51(0x243)]('|');let _0x4647a3=0x0;while(!![]){switch(_0x5870a0[_0x4647a3++]){case'0':this[_0x27fc51(0x23c)]=_0x3b0abf[_0x27fc51(0x1e1)];continue;case'1':this['eventUrl']=_0x3b0abf['pYteO'];continue;case'2':this[_0x27fc51(0x1e2)]=null;continue;case'3':this[_0x27fc51(0x1ff)]=[];continue;case'4':this[_0x27fc51(0x21f)]=[_0x3b0abf['NSFPF'],_0x3b0abf[_0x27fc51(0x1f4)],_0x3b0abf[_0x27fc51(0x1df)],_0x3b0abf[_0x27fc51(0x231)],_0x3b0abf[_0x27fc51(0x1ef)],_0x3b0abf['Tabsw'],_0x3b0abf[_0x27fc51(0x209)]];continue;case'5':this[_0x27fc51(0x250)]=![];continue;case'6':this[_0x27fc51(0x219)]=_0x3b0abf['qUdQk'];continue;}break;}}static['getInstance'](){const _0x4b12ad=a86_0x14da15;return!RequestQueueHandler[_0x4b12ad(0x21b)]&&(RequestQueueHandler[_0x4b12ad(0x21b)]=new RequestQueueHandler()),RequestQueueHandler[_0x4b12ad(0x21b)];}[a86_0x14da15(0x242)]=()=>{const _0x2b4e8f=a86_0x14da15;!this[_0x2b4e8f(0x250)]&&(this[_0x2b4e8f(0x250)]=!![],this[_0x2b4e8f(0x24d)]());};[a86_0x14da15(0x22e)]=_0x156325=>{const _0x84bd1e=a86_0x14da15,_0x2db753={'NoIaD':function(_0x305a7d,_0xb1e0c){return _0x305a7d===_0xb1e0c;},'KrcIC':_0x84bd1e(0x20a),'ZOeLj':function(_0x51cdaf,_0x224936){return _0x51cdaf>_0x224936;},'JUcIM':function(_0xc28b55,_0x183d96){return _0xc28b55===_0x183d96;},'vmocX':_0x84bd1e(0x1fa),'ajzML':function(_0x49ce63,_0x484646){return _0x49ce63!==_0x484646;},'SjiiH':_0x84bd1e(0x24e),'NBjAD':function(_0x1c53d9,_0x39981b){return _0x1c53d9(_0x39981b);},'hxcEc':_0x84bd1e(0x202)};if(this[_0x84bd1e(0x21f)][_0x84bd1e(0x21a)](_0x156325[_0x84bd1e(0x222)])){if(_0x156325[_0x84bd1e(0x22f)]&&_0x156325[_0x84bd1e(0x22f)][0x0]&&_0x2db753[_0x84bd1e(0x247)](_0x156325[_0x84bd1e(0x22f)][0x0]['kind'],_0x2db753[_0x84bd1e(0x235)])){const _0x5204c1={};return _0x5204c1['shouldProceed']=!![],_0x5204c1['proceedWithData']=[_0x156325],_0x5204c1['proceedWithUrl']=this['screenshotEventUrl'],_0x5204c1;}if(_0x156325[_0x84bd1e(0x22f)]&&_0x2db753[_0x84bd1e(0x226)](_0x156325['logs'][_0x84bd1e(0x1f5)],0x0)&&_0x2db753[_0x84bd1e(0x223)](_0x156325[_0x84bd1e(0x22f)][0x0]['kind'],_0x2db753[_0x84bd1e(0x210)])&&_0x2db753['ajzML'](_0x156325['event_type'],_0x2db753[_0x84bd1e(0x1f6)])){const _0x31a293={};return _0x31a293['shouldProceed']=!![],_0x31a293[_0x84bd1e(0x238)]=[_0x156325],_0x31a293[_0x84bd1e(0x24a)]=this['uploadAttachmentUrl'],_0x31a293;}this[_0x84bd1e(0x1ff)]['push'](_0x156325);let _0x3bdeb1=null;const _0x24059e=this[_0x84bd1e(0x233)]();_0x24059e&&(_0x2db753[_0x84bd1e(0x249)](trace,_0x2db753[_0x84bd1e(0x203)]),_0x3bdeb1=this[_0x84bd1e(0x1ff)]['slice'](0x0,BATCH_SIZE),this[_0x84bd1e(0x1ff)][_0x84bd1e(0x201)](0x0,BATCH_SIZE),this['resetEventBatchPolling']());const _0x534561={};return _0x534561['shouldProceed']=_0x24059e,_0x534561[_0x84bd1e(0x238)]=_0x3bdeb1,_0x534561['proceedWithUrl']=this[_0x84bd1e(0x22d)],_0x534561;}const _0x4eaef2={};return _0x4eaef2[_0x84bd1e(0x233)]=!![],_0x4eaef2;};['shutdown']=async()=>{const _0x2b0f6a=a86_0x14da15,_0x2c04c1={'NbkZO':_0x2b0f6a(0x1e3),'Sfefh':function(_0x42565a,_0x2cee47){return _0x42565a>_0x2cee47;},'laFpM':_0x2b0f6a(0x1f8),'agyxm':function(_0x5d31f9,_0x47ed44){return _0x5d31f9>_0x47ed44;},'eFLDI':function(_0x348a32,_0x1efe89){return _0x348a32(_0x1efe89);}};await this[_0x2b0f6a(0x221)](),this['removeEventBatchPolling'](_0x2c04c1['NbkZO']);while(_0x2c04c1[_0x2b0f6a(0x21c)](this[_0x2b0f6a(0x1ff)]['length'],0x0)){const _0x3721bc=this['queue'][_0x2b0f6a(0x1fd)](0x0,BATCH_SIZE);this[_0x2b0f6a(0x1ff)][_0x2b0f6a(0x201)](0x0,BATCH_SIZE),await this[_0x2b0f6a(0x1f1)](this[_0x2b0f6a(0x22d)],_0x2c04c1[_0x2b0f6a(0x246)],_0x3721bc);}_0x2c04c1['agyxm'](this[_0x2b0f6a(0x22a)],0x0)&&_0x2c04c1[_0x2b0f6a(0x1e9)](debug,'Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20'+this[_0x2b0f6a(0x22a)]);};[a86_0x14da15(0x1f1)]=async(_0x12b4d4,_0x14ed31,_0x29a229)=>{const _0x44a70b=a86_0x14da15,_0x3375f5={'EczAy':function(_0x395554,_0x5f2f3d){return _0x395554(_0x5f2f3d);},'csxnN':_0x44a70b(0x216),'xLeFp':function(_0x1b6ae8){return _0x1b6ae8();},'zEKEs':function(_0x3657ef,_0x35f80d,_0x3c0039,_0x5a8260,_0x1ca664){return _0x3657ef(_0x35f80d,_0x3c0039,_0x5a8260,_0x1ca664);},'GdFWQ':_0x44a70b(0x234),'pQjIz':function(_0x144786,_0x57ec71){return _0x144786-_0x57ec71;},'hbNyJ':function(_0x2aa64a,_0x45e6b4){return _0x2aa64a(_0x45e6b4);},'daWcV':function(_0x517f7e,_0x1eb3e9){return _0x517f7e-_0x1eb3e9;}};let _0x33d2f2='';try{_0x33d2f2=_0x29a229[_0x44a70b(0x1eb)](_0x3f7d27=>'\x27'+_0x3f7d27[_0x44a70b(0x222)]+'\x27:'+(nestedKeyValue(_0x3f7d27,[_0x44a70b(0x213),'uuid'])||nestedKeyValue(_0x3f7d27,['hook_run','uuid'])))[_0x44a70b(0x214)](','),_0x3375f5[_0x44a70b(0x217)](debug,_0x44a70b(0x1ed)+_0x14ed31+_0x44a70b(0x1ea)+Buffer['byteLength'](util['format']('%j',_0x29a229),_0x3375f5[_0x44a70b(0x227)])+_0x44a70b(0x23f)+_0x33d2f2);}catch(_0x42713b){_0x3375f5['EczAy'](debug,'Exception\x20in\x20logging\x20batch\x20events\x20--\x20'+util['format'](_0x42713b)+'}');}const _0x35cbe3={'headers':_0x3375f5[_0x44a70b(0x20e)](getDefaultHeaders)};try{const _0x3c252a=await _0x3375f5[_0x44a70b(0x1fc)](nodeRequest,_0x3375f5[_0x44a70b(0x20b)],_0x12b4d4,_0x29a229,_0x35cbe3);if(_0x3c252a['data']['error']){const _0x366a49={};_0x366a49['message']=_0x3c252a[_0x44a70b(0x1e6)][_0x44a70b(0x1f7)];throw _0x366a49;}else _0x3375f5[_0x44a70b(0x217)](debug,_0x14ed31+_0x44a70b(0x1fb)+_0x33d2f2+_0x44a70b(0x20c)+util[_0x44a70b(0x1e5)]('%j',_0x3c252a[_0x44a70b(0x1e6)])),this[_0x44a70b(0x22a)]=Math['max'](0x0,_0x3375f5[_0x44a70b(0x200)](this[_0x44a70b(0x22a)],_0x29a229[_0x44a70b(0x1f5)]));}catch(_0x3b2497){_0x3b2497[_0x44a70b(0x225)]?_0x3375f5[_0x44a70b(0x217)](debug,_0x44a70b(0x228)+_0x14ed31+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20'+_0x3b2497['response'][_0x44a70b(0x21e)]+'\x20'+_0x3b2497[_0x44a70b(0x225)]['statusText']+'\x20'+util[_0x44a70b(0x1e5)]('%j',_0x3b2497[_0x44a70b(0x225)])):_0x3375f5[_0x44a70b(0x21d)](debug,_0x44a70b(0x228)+_0x14ed31+_0x44a70b(0x1de)+(_0x3b2497[_0x44a70b(0x229)]||_0x3b2497)),this[_0x44a70b(0x22a)]=Math[_0x44a70b(0x208)](0x0,_0x3375f5[_0x44a70b(0x1ee)](this['pendingUploads'],_0x29a229[_0x44a70b(0x1f5)]));}};[a86_0x14da15(0x24d)]=()=>{const _0x31d66b=a86_0x14da15,_0x11be02={'CWYHE':function(_0x2b8982,_0x5818d){return _0x2b8982>_0x5818d;},'xdihR':function(_0x365ad5,_0x3e8591){return _0x365ad5(_0x3e8591);},'hrYAF':_0x31d66b(0x239),'dKdZi':function(_0x3b66be,_0x21ee6c,_0x4a6988){return _0x3b66be(_0x21ee6c,_0x4a6988);}};this[_0x31d66b(0x1e2)]=_0x11be02['dKdZi'](setInterval,async()=>{const _0x5d9280=_0x31d66b;if(_0x11be02['CWYHE'](this[_0x5d9280(0x1ff)]['length'],0x0)){_0x11be02[_0x5d9280(0x245)](trace,_0x5d9280(0x22c)+this[_0x5d9280(0x1ff)][_0x5d9280(0x1f5)]);const _0xf19eb9=this[_0x5d9280(0x1ff)][_0x5d9280(0x1fd)](0x0,BATCH_SIZE);this['queue'][_0x5d9280(0x201)](0x0,BATCH_SIZE),await this[_0x5d9280(0x1f1)](this[_0x5d9280(0x22d)],_0x11be02[_0x5d9280(0x244)],_0xf19eb9),_0x11be02[_0x5d9280(0x245)](trace,_0x5d9280(0x24b)+this[_0x5d9280(0x1ff)][_0x5d9280(0x1f5)]);}},BATCH_INTERVAL);};[a86_0x14da15(0x20d)]=()=>{const _0x8e08b4=a86_0x14da15,_0x5e16cf={};_0x5e16cf['SACTB']='RESETTING';const _0x55b608=_0x5e16cf;this['removeEventBatchPolling'](_0x55b608[_0x8e08b4(0x240)]),this['startEventBatchPolling']();};[a86_0x14da15(0x23a)]=_0x5653de=>{const _0x55d343=a86_0x14da15,_0x32cd4a={'fHRzV':function(_0x4effbb,_0x5e36a6){return _0x4effbb(_0x5e36a6);},'yPpkZ':function(_0x20442b,_0x1f1b51){return _0x20442b===_0x1f1b51;},'JHFvj':_0x55d343(0x1e3)};this['pollEventBatchInterval']&&(_0x32cd4a['fHRzV'](clearInterval,this[_0x55d343(0x1e2)]),this[_0x55d343(0x1e2)]=null,_0x32cd4a[_0x55d343(0x230)](_0x5653de,_0x32cd4a[_0x55d343(0x1e0)])&&(this[_0x55d343(0x250)]=![]));};[a86_0x14da15(0x233)]=()=>{const _0x364680=a86_0x14da15,_0xaf4e72={};_0xaf4e72[_0x364680(0x248)]=function(_0x3216d0,_0x1262ba){return _0x3216d0>=_0x1262ba;};const _0x2b4f01=_0xaf4e72;return _0x2b4f01[_0x364680(0x248)](this[_0x364680(0x1ff)][_0x364680(0x1f5)],BATCH_SIZE);};async[a86_0x14da15(0x221)](_0x332d58=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x2e7a80=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x4e89da=a86_0x14da15,_0x4f174a={'Mdfaa':function(_0x2b13a2,_0x2c0cb3){return _0x2b13a2<=_0x2c0cb3;},'MuPvB':function(_0x23dee5,_0x1e7694){return _0x23dee5(_0x1e7694);},'gmADF':function(_0x5e8d19,_0x2d8224){return _0x5e8d19-_0x2d8224;}};if(_0x4f174a[_0x4e89da(0x24f)](this[_0x4e89da(0x22a)],0x0)||_0x4f174a[_0x4e89da(0x24f)](_0x332d58,0x0))return;return await _0x4f174a[_0x4e89da(0x206)](sleep,_0x2e7a80),this[_0x4e89da(0x221)](_0x4f174a[_0x4e89da(0x205)](_0x332d58,_0x2e7a80));}}module[a86_0x14da15(0x23e)]=RequestQueueHandler;