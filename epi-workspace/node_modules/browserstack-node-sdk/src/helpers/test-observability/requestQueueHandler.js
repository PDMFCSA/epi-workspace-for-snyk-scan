const a113_0x56fd3e=a113_0x4ae5;(function(_0x2eac7d,_0x365e39){const _0x360aef=a113_0x4ae5,_0x2c964f=_0x2eac7d();while(!![]){try{const _0xde69b3=parseInt(_0x360aef(0x1b5))/0x1*(-parseInt(_0x360aef(0x182))/0x2)+-parseInt(_0x360aef(0x158))/0x3+-parseInt(_0x360aef(0x15c))/0x4+-parseInt(_0x360aef(0x1c5))/0x5+-parseInt(_0x360aef(0x19f))/0x6*(-parseInt(_0x360aef(0x194))/0x7)+-parseInt(_0x360aef(0x18c))/0x8+parseInt(_0x360aef(0x1ae))/0x9;if(_0xde69b3===_0x365e39)break;else _0x2c964f['push'](_0x2c964f['shift']());}catch(_0x13351f){_0x2c964f['push'](_0x2c964f['shift']());}}}(a113_0x192a,0xb2be4));function a113_0x4ae5(_0x35599b,_0x1309ad){const _0x192a6d=a113_0x192a();return a113_0x4ae5=function(_0x4ae5d1,_0x14733b){_0x4ae5d1=_0x4ae5d1-0x156;let _0x5c9553=_0x192a6d[_0x4ae5d1];return _0x5c9553;},a113_0x4ae5(_0x35599b,_0x1309ad);}const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a113_0x56fd3e(0x192)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a113_0x56fd3e(0x1a5)),{nestedKeyValue}=require(a113_0x56fd3e(0x175)),util=require('util');class RequestQueueHandler{static [a113_0x56fd3e(0x18f)];['pendingUploads']=0x0;constructor(){const _0x1dbd99=a113_0x56fd3e,_0x5bea83={};_0x5bea83[_0x1dbd99(0x180)]=_0x1dbd99(0x185),_0x5bea83[_0x1dbd99(0x198)]='api/v1/batch',_0x5bea83[_0x1dbd99(0x16c)]=_0x1dbd99(0x19b),_0x5bea83[_0x1dbd99(0x15e)]=_0x1dbd99(0x1c6),_0x5bea83[_0x1dbd99(0x1bf)]=_0x1dbd99(0x189),_0x5bea83[_0x1dbd99(0x181)]=_0x1dbd99(0x1b9),_0x5bea83['xKoUz']=_0x1dbd99(0x179),_0x5bea83[_0x1dbd99(0x17f)]=_0x1dbd99(0x168),_0x5bea83[_0x1dbd99(0x17c)]=_0x1dbd99(0x18a),_0x5bea83[_0x1dbd99(0x18d)]='TestRunStarted',_0x5bea83[_0x1dbd99(0x1bc)]=_0x1dbd99(0x19c);const _0x4cfc64=_0x5bea83,_0x132531=_0x4cfc64[_0x1dbd99(0x180)]['split']('|');let _0x3729a9=0x0;while(!![]){switch(_0x132531[_0x3729a9++]){case'0':this[_0x1dbd99(0x188)]=_0x4cfc64[_0x1dbd99(0x198)];continue;case'1':this[_0x1dbd99(0x193)]=_0x4cfc64[_0x1dbd99(0x16c)];continue;case'2':this[_0x1dbd99(0x186)]=![];continue;case'3':this[_0x1dbd99(0x15f)]=_0x4cfc64[_0x1dbd99(0x15e)];continue;case'4':this[_0x1dbd99(0x1a1)]=[_0x4cfc64[_0x1dbd99(0x1bf)],_0x4cfc64[_0x1dbd99(0x181)],_0x4cfc64[_0x1dbd99(0x15a)],_0x4cfc64[_0x1dbd99(0x17f)],_0x4cfc64[_0x1dbd99(0x17c)],_0x4cfc64[_0x1dbd99(0x18d)],_0x4cfc64[_0x1dbd99(0x1bc)]];continue;case'5':this['pollEventBatchInterval']=null;continue;case'6':this['queue']=[];continue;}break;}}static[a113_0x56fd3e(0x1c0)](){const _0x4a30aa=a113_0x56fd3e;return!RequestQueueHandler[_0x4a30aa(0x18f)]&&(RequestQueueHandler[_0x4a30aa(0x18f)]=new RequestQueueHandler()),RequestQueueHandler[_0x4a30aa(0x18f)];}[a113_0x56fd3e(0x161)]=()=>{const _0x484b1e=a113_0x56fd3e;!this[_0x484b1e(0x186)]&&(this[_0x484b1e(0x186)]=!![],this[_0x484b1e(0x15d)]());};['add']=_0x59bacc=>{const _0x2234d8=a113_0x56fd3e,_0xec6810={'ygiCN':function(_0x7d8bd0,_0x281bdc){return _0x7d8bd0===_0x281bdc;},'IKYPJ':'TEST_SCREENSHOT','RUOqA':function(_0x3ef7e5,_0x56e081){return _0x3ef7e5>_0x56e081;},'nTbmS':_0x2234d8(0x165),'krXiD':function(_0x13abaf,_0xde29d0){return _0x13abaf!==_0xde29d0;},'pXAxy':'TestRunFinished','XzrQm':function(_0x5b0aa3,_0x1dadd8){return _0x5b0aa3(_0x1dadd8);},'wdlzO':_0x2234d8(0x1a3)};if(this['BATCH_EVENT_TYPES'][_0x2234d8(0x1bb)](_0x59bacc['event_type'])){if(_0x59bacc[_0x2234d8(0x163)]&&_0x59bacc[_0x2234d8(0x163)][0x0]&&_0xec6810['ygiCN'](_0x59bacc[_0x2234d8(0x163)][0x0]['kind'],_0xec6810[_0x2234d8(0x19a)])){const _0x3c5a60={};return _0x3c5a60[_0x2234d8(0x199)]=!![],_0x3c5a60[_0x2234d8(0x1c4)]=[_0x59bacc],_0x3c5a60[_0x2234d8(0x17e)]=this['screenshotEventUrl'],_0x3c5a60;}if(_0x59bacc['logs']&&_0xec6810[_0x2234d8(0x1ba)](_0x59bacc[_0x2234d8(0x163)]['length'],0x0)&&_0xec6810[_0x2234d8(0x166)](_0x59bacc[_0x2234d8(0x163)][0x0]['kind'],_0xec6810[_0x2234d8(0x1bd)])&&_0xec6810['krXiD'](_0x59bacc[_0x2234d8(0x1ab)],_0xec6810[_0x2234d8(0x167)])){const _0x1f6c03={};return _0x1f6c03[_0x2234d8(0x199)]=!![],_0x1f6c03['proceedWithData']=[_0x59bacc],_0x1f6c03['proceedWithUrl']=this[_0x2234d8(0x15f)],_0x1f6c03;}this[_0x2234d8(0x178)]['push'](_0x59bacc);let _0x51de48=null;const _0x508281=this[_0x2234d8(0x199)]();_0x508281&&(_0xec6810['XzrQm'](trace,_0xec6810[_0x2234d8(0x1c2)]),_0x51de48=this['queue']['slice'](0x0,BATCH_SIZE),this['queue']['splice'](0x0,BATCH_SIZE),this[_0x2234d8(0x1c7)]());const _0x367599={};return _0x367599[_0x2234d8(0x199)]=_0x508281,_0x367599[_0x2234d8(0x1c4)]=_0x51de48,_0x367599['proceedWithUrl']=this[_0x2234d8(0x188)],_0x367599;}const _0x4b1512={};return _0x4b1512['shouldProceed']=!![],_0x4b1512;};[a113_0x56fd3e(0x16f)]=async()=>{const _0x48e058=a113_0x56fd3e,_0x5cb316={'LYGzy':_0x48e058(0x1a9),'HTWgv':function(_0x28319e,_0x4d1d0a){return _0x28319e>_0x4d1d0a;},'Jdjnl':_0x48e058(0x1c3),'ggogN':function(_0x2074ed,_0x1bde0c){return _0x2074ed(_0x1bde0c);}};await this[_0x48e058(0x1a8)](),this['removeEventBatchPolling'](_0x5cb316[_0x48e058(0x1be)]);while(_0x5cb316[_0x48e058(0x184)](this[_0x48e058(0x178)][_0x48e058(0x1b4)],0x0)){const _0x2a3dab=this['queue']['slice'](0x0,BATCH_SIZE);this[_0x48e058(0x178)][_0x48e058(0x1aa)](0x0,BATCH_SIZE),await this[_0x48e058(0x170)](this['eventUrl'],_0x5cb316[_0x48e058(0x1b7)],_0x2a3dab);}_0x5cb316['HTWgv'](this[_0x48e058(0x1a2)],0x0)&&_0x5cb316[_0x48e058(0x164)](debug,_0x48e058(0x1a6)+this[_0x48e058(0x1a2)]);};['batchAndPostEvents']=async(_0x471c86,_0x64be61,_0x5ecbbf)=>{const _0x2b84fe=a113_0x56fd3e,_0x149ef6={'KfBBj':function(_0x276b67,_0x4dc1d4){return _0x276b67(_0x4dc1d4);},'EfsyF':_0x2b84fe(0x187),'oGmPs':function(_0x5e0e2e,_0x30dfc2){return _0x5e0e2e(_0x30dfc2);},'oDbLY':function(_0x3ed548){return _0x3ed548();},'HnCnI':function(_0x3e3d90,_0x255780,_0x9e63af,_0x51fa3b,_0x288d1f){return _0x3e3d90(_0x255780,_0x9e63af,_0x51fa3b,_0x288d1f);},'mcOSj':_0x2b84fe(0x183),'VfWLu':function(_0x3b7405,_0x49f644){return _0x3b7405-_0x49f644;},'XbZfM':function(_0x55da0a,_0x41062e){return _0x55da0a(_0x41062e);},'qvsQP':function(_0xfc5be4,_0x4cae18){return _0xfc5be4(_0x4cae18);},'aAOQn':function(_0x307b4f,_0xb3752a){return _0x307b4f-_0xb3752a;}};let _0x1bc774='';try{_0x1bc774=_0x5ecbbf[_0x2b84fe(0x190)](_0x4520e3=>'\x27'+_0x4520e3['event_type']+'\x27:'+(nestedKeyValue(_0x4520e3,[_0x2b84fe(0x1b8),'uuid'])||nestedKeyValue(_0x4520e3,['hook_run','uuid'])))['join'](','),_0x149ef6[_0x2b84fe(0x191)](debug,_0x2b84fe(0x17d)+_0x64be61+_0x2b84fe(0x16e)+Buffer[_0x2b84fe(0x15b)](util[_0x2b84fe(0x195)]('%j',_0x5ecbbf),_0x149ef6[_0x2b84fe(0x1b1)])+_0x2b84fe(0x17a)+_0x1bc774);}catch(_0x585916){_0x149ef6['oGmPs'](debug,_0x2b84fe(0x156)+util[_0x2b84fe(0x195)](_0x585916)+'}');}const _0x21cf2e={'headers':_0x149ef6['oDbLY'](getDefaultHeaders)};try{const _0x57d1f3=await _0x149ef6['HnCnI'](nodeRequest,_0x149ef6[_0x2b84fe(0x160)],_0x471c86,_0x5ecbbf,_0x21cf2e);if(_0x57d1f3['data'][_0x2b84fe(0x18e)]){const _0x5caa41={};_0x5caa41[_0x2b84fe(0x1a7)]=_0x57d1f3[_0x2b84fe(0x174)]['error'];throw _0x5caa41;}else _0x149ef6[_0x2b84fe(0x1b6)](debug,_0x64be61+'\x20event\x20successful\x20for\x20events\x20'+_0x1bc774+'\x20--\x20'+util[_0x2b84fe(0x195)]('%j',_0x57d1f3[_0x2b84fe(0x174)])),this[_0x2b84fe(0x1a2)]=Math[_0x2b84fe(0x176)](0x0,_0x149ef6[_0x2b84fe(0x16a)](this['pendingUploads'],_0x5ecbbf[_0x2b84fe(0x1b4)]));}catch(_0x2bac45){_0x2bac45[_0x2b84fe(0x171)]?_0x149ef6[_0x2b84fe(0x1af)](debug,'EXCEPTION\x20IN\x20'+_0x64be61+_0x2b84fe(0x157)+_0x2bac45[_0x2b84fe(0x171)][_0x2b84fe(0x172)]+'\x20'+_0x2bac45[_0x2b84fe(0x171)][_0x2b84fe(0x1b0)]+'\x20'+util['format']('%j',_0x2bac45[_0x2b84fe(0x171)])):_0x149ef6[_0x2b84fe(0x1a4)](debug,_0x2b84fe(0x16d)+_0x64be61+_0x2b84fe(0x157)+(_0x2bac45[_0x2b84fe(0x1a7)]||_0x2bac45)),this[_0x2b84fe(0x1a2)]=Math['max'](0x0,_0x149ef6[_0x2b84fe(0x1b3)](this[_0x2b84fe(0x1a2)],_0x5ecbbf[_0x2b84fe(0x1b4)]));}};[a113_0x56fd3e(0x15d)]=()=>{const _0x5500e9=a113_0x56fd3e,_0x2256b7={'renHh':function(_0x39364a,_0x269bf7){return _0x39364a>_0x269bf7;},'JOKTU':function(_0x50fe7b,_0x23b20b){return _0x50fe7b(_0x23b20b);},'gOPWc':'Interval-Queue','nfgds':function(_0x3c7de7,_0x4b0d13){return _0x3c7de7(_0x4b0d13);},'AbEET':function(_0x28ae3f,_0x5d5a36,_0xae8a2f){return _0x28ae3f(_0x5d5a36,_0xae8a2f);}};this[_0x5500e9(0x197)]=_0x2256b7[_0x5500e9(0x162)](setInterval,async()=>{const _0x4e25b3=_0x5500e9;if(_0x2256b7['renHh'](this[_0x4e25b3(0x178)][_0x4e25b3(0x1b4)],0x0)){_0x2256b7[_0x4e25b3(0x19e)](trace,_0x4e25b3(0x173)+this[_0x4e25b3(0x178)][_0x4e25b3(0x1b4)]);const _0x1d6b89=this['queue'][_0x4e25b3(0x169)](0x0,BATCH_SIZE);this['queue']['splice'](0x0,BATCH_SIZE),await this[_0x4e25b3(0x170)](this['eventUrl'],_0x2256b7[_0x4e25b3(0x196)],_0x1d6b89),_0x2256b7[_0x4e25b3(0x16b)](trace,_0x4e25b3(0x17b)+this[_0x4e25b3(0x178)]['length']);}},BATCH_INTERVAL);};[a113_0x56fd3e(0x1c7)]=()=>{const _0x2377f7=a113_0x56fd3e,_0x56d541={};_0x56d541['oRFyJ']=_0x2377f7(0x18b);const _0x41a55e=_0x56d541;this[_0x2377f7(0x1b2)](_0x41a55e['oRFyJ']),this[_0x2377f7(0x15d)]();};['removeEventBatchPolling']=_0x1658ee=>{const _0x15f311=a113_0x56fd3e,_0x541e49={'lFhsw':function(_0x2f9dcf,_0x1a03b9){return _0x2f9dcf(_0x1a03b9);},'SrxOd':function(_0x14d598,_0x5a2f0b){return _0x14d598===_0x5a2f0b;},'EvtVy':_0x15f311(0x1a9)};this['pollEventBatchInterval']&&(_0x541e49[_0x15f311(0x1ac)](clearInterval,this[_0x15f311(0x197)]),this[_0x15f311(0x197)]=null,_0x541e49['SrxOd'](_0x1658ee,_0x541e49[_0x15f311(0x177)])&&(this[_0x15f311(0x186)]=![]));};[a113_0x56fd3e(0x199)]=()=>{const _0x258a85=a113_0x56fd3e,_0x68ba86={};_0x68ba86[_0x258a85(0x1ad)]=function(_0xa7d010,_0x55fb54){return _0xa7d010>=_0x55fb54;};const _0x5ac535=_0x68ba86;return _0x5ac535[_0x258a85(0x1ad)](this[_0x258a85(0x178)][_0x258a85(0x1b4)],BATCH_SIZE);};async[a113_0x56fd3e(0x1a8)](_0x37c272=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x2d8244=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x3a8415=a113_0x56fd3e,_0x2daa97={'ZcYcn':function(_0x195b9d,_0x3ec717){return _0x195b9d<=_0x3ec717;},'wbRHD':function(_0x5a0227,_0x9fa199){return _0x5a0227<=_0x9fa199;},'XRlnF':function(_0x47ee3e,_0x10bdf5){return _0x47ee3e(_0x10bdf5);},'vyIKX':function(_0x26e95b,_0x43f39e){return _0x26e95b-_0x43f39e;}};if(_0x2daa97[_0x3a8415(0x19d)](this[_0x3a8415(0x1a2)],0x0)||_0x2daa97['wbRHD'](_0x37c272,0x0))return;return await _0x2daa97[_0x3a8415(0x159)](sleep,_0x2d8244),this[_0x3a8415(0x1a8)](_0x2daa97[_0x3a8415(0x1a0)](_0x37c272,_0x2d8244));}}function a113_0x192a(){const _0x4fe826=['logs','ggogN','TEST_ATTACHMENT','ygiCN','pXAxy','TestRunSkipped','slice','VfWLu','nfgds','jkItR','EXCEPTION\x20IN\x20','.\x20Request\x20Size\x20-\x20','shutdown','batchAndPostEvents','response','status','Processing\x20events.\x20Queue\x20Length\x20-\x20','data','../helper','max','EvtVy','queue','TestRunFinished','\x20bytes.\x20Events\x20are\x20','Remaining\x20Queue\x20Length\x20-\x20','TGtWq','Processing\x20batch\x20events\x20for\x20','proceedWithUrl','JtIih','cAUlW','DqwBi','1006sIZpiJ','POST','HTWgv','6|2|0|1|3|4|5','started','utf8','eventUrl','LogCreated','HookRunFinished','RESETTING','7773328bFktyq','pxFpd','error','instance','map','KfBBj','./constants','screenshotEventUrl','56wwkqhl','format','gOPWc','pollEventBatchInterval','bZelI','shouldProceed','IKYPJ','api/v1/screenshots','HookRunStarted','ZcYcn','JOKTU','628458sfjNDa','vyIKX','BATCH_EVENT_TYPES','pendingUploads','Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..','qvsQP','./utils','Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20','message','uploadPending','REMOVING','splice','event_type','lFhsw','KDrXR','33733296usQHzS','XbZfM','statusText','EfsyF','removeEventBatchPolling','aAOQn','length','589LiPtBP','oGmPs','Jdjnl','test_run','CBTSessionCreated','RUOqA','includes','tJHEs','nTbmS','LYGzy','gQEaW','getInstance','exports','wdlzO','Shutdown-Queue','proceedWithData','2139535FNbHFO','upload-attachments','resetEventBatchPolling','Exception\x20in\x20logging\x20batch\x20events\x20--\x20','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','3032940NswKIi','XRlnF','xKoUz','byteLength','4588544cyLdlV','startEventBatchPolling','kbTDG','uploadAttachmentUrl','mcOSj','start','AbEET'];a113_0x192a=function(){return _0x4fe826;};return a113_0x192a();}module[a113_0x56fd3e(0x1c1)]=RequestQueueHandler;