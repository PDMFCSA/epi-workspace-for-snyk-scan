const a86_0xec94c=a86_0x1f6b;(function(_0x1eb7e7,_0xe1e1a1){const _0x48f465=a86_0x1f6b,_0xc25da3=_0x1eb7e7();while(!![]){try{const _0x22f42d=-parseInt(_0x48f465(0x115))/0x1*(-parseInt(_0x48f465(0x178))/0x2)+parseInt(_0x48f465(0x110))/0x3+-parseInt(_0x48f465(0x14c))/0x4*(parseInt(_0x48f465(0x17c))/0x5)+-parseInt(_0x48f465(0x120))/0x6*(-parseInt(_0x48f465(0x12f))/0x7)+parseInt(_0x48f465(0x114))/0x8*(parseInt(_0x48f465(0x163))/0x9)+parseInt(_0x48f465(0x154))/0xa*(parseInt(_0x48f465(0x170))/0xb)+-parseInt(_0x48f465(0x15d))/0xc;if(_0x22f42d===_0xe1e1a1)break;else _0xc25da3['push'](_0xc25da3['shift']());}catch(_0x10ef12){_0xc25da3['push'](_0xc25da3['shift']());}}}(a86_0x4bbe,0x6483f));function a86_0x1f6b(_0x3ef6b0,_0x470e76){const _0x4bbe8e=a86_0x4bbe();return a86_0x1f6b=function(_0x1f6b75,_0x3c0b2a){_0x1f6b75=_0x1f6b75-0x108;let _0x3cc943=_0x4bbe8e[_0x1f6b75];return _0x3cc943;},a86_0x1f6b(_0x3ef6b0,_0x470e76);}const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a86_0xec94c(0x140)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require('./utils'),{nestedKeyValue}=require(a86_0xec94c(0x172)),util=require(a86_0xec94c(0x134));class RequestQueueHandler{static [a86_0xec94c(0x16e)];[a86_0xec94c(0x175)]=0x0;constructor(){const _0x31bd4a=a86_0xec94c,_0x18afc3={};_0x18afc3[_0x31bd4a(0x150)]='6|1|0|5|2|3|4',_0x18afc3[_0x31bd4a(0x122)]=_0x31bd4a(0x12a),_0x18afc3[_0x31bd4a(0x15f)]=_0x31bd4a(0x15a),_0x18afc3[_0x31bd4a(0x17b)]='LogCreated',_0x18afc3['ADJLQ']='CBTSessionCreated',_0x18afc3[_0x31bd4a(0x176)]='TestRunFinished',_0x18afc3[_0x31bd4a(0x161)]=_0x31bd4a(0x167),_0x18afc3[_0x31bd4a(0x139)]=_0x31bd4a(0x13c),_0x18afc3[_0x31bd4a(0x156)]=_0x31bd4a(0x15e),_0x18afc3['JaMoy']=_0x31bd4a(0x10d),_0x18afc3['jTDah']=_0x31bd4a(0x11a);const _0x4e1e25=_0x18afc3,_0x232ac8=_0x4e1e25['wXYcI']['split']('|');let _0x432147=0x0;while(!![]){switch(_0x232ac8[_0x432147++]){case'0':this[_0x31bd4a(0x11d)]=_0x4e1e25[_0x31bd4a(0x122)];continue;case'1':this[_0x31bd4a(0x14d)]=![];continue;case'2':this[_0x31bd4a(0x12d)]=_0x4e1e25[_0x31bd4a(0x15f)];continue;case'3':this['BATCH_EVENT_TYPES']=[_0x4e1e25[_0x31bd4a(0x17b)],_0x4e1e25['ADJLQ'],_0x4e1e25[_0x31bd4a(0x176)],_0x4e1e25[_0x31bd4a(0x161)],_0x4e1e25[_0x31bd4a(0x139)],_0x4e1e25[_0x31bd4a(0x156)],_0x4e1e25[_0x31bd4a(0x135)]];continue;case'4':this[_0x31bd4a(0x10e)]=null;continue;case'5':this[_0x31bd4a(0x11c)]=_0x4e1e25['jTDah'];continue;case'6':this['queue']=[];continue;}break;}}static[a86_0xec94c(0x123)](){const _0x379d3b=a86_0xec94c;return!RequestQueueHandler['instance']&&(RequestQueueHandler[_0x379d3b(0x16e)]=new RequestQueueHandler()),RequestQueueHandler[_0x379d3b(0x16e)];}[a86_0xec94c(0x11b)]=()=>{const _0x5be5d0=a86_0xec94c;!this['started']&&(this[_0x5be5d0(0x14d)]=!![],this[_0x5be5d0(0x12e)]());};[a86_0xec94c(0x109)]=_0x47a7de=>{const _0x537847=a86_0xec94c,_0x539944={'baEqy':function(_0x5daed7,_0x380a11){return _0x5daed7===_0x380a11;},'NabBk':'TEST_SCREENSHOT','FRblK':function(_0x4adec6,_0x24ec3c){return _0x4adec6>_0x24ec3c;},'mUnaS':function(_0x1a90b5,_0xa29ef8){return _0x1a90b5===_0xa29ef8;},'BxVRD':_0x537847(0x128),'gCeaz':function(_0x2e201f,_0x3e29e9){return _0x2e201f!==_0x3e29e9;},'OxBtd':_0x537847(0x14e),'KfyGu':function(_0x2ef145,_0x52118e){return _0x2ef145(_0x52118e);},'HqUBI':'Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..'};if(this[_0x537847(0x149)][_0x537847(0x16f)](_0x47a7de[_0x537847(0x164)])){if(_0x47a7de['logs']&&_0x47a7de[_0x537847(0x125)][0x0]&&_0x539944[_0x537847(0x138)](_0x47a7de[_0x537847(0x125)][0x0]['kind'],_0x539944['NabBk'])){const _0x126241={};return _0x126241[_0x537847(0x171)]=!![],_0x126241[_0x537847(0x16a)]=[_0x47a7de],_0x126241[_0x537847(0x124)]=this[_0x537847(0x11c)],_0x126241;}if(_0x47a7de[_0x537847(0x125)]&&_0x539944[_0x537847(0x144)](_0x47a7de['logs'][_0x537847(0x160)],0x0)&&_0x539944[_0x537847(0x17a)](_0x47a7de[_0x537847(0x125)][0x0][_0x537847(0x177)],_0x539944[_0x537847(0x13a)])&&_0x539944[_0x537847(0x146)](_0x47a7de['event_type'],_0x539944[_0x537847(0x130)])){const _0x484d53={};return _0x484d53[_0x537847(0x171)]=!![],_0x484d53[_0x537847(0x16a)]=[_0x47a7de],_0x484d53[_0x537847(0x124)]=this[_0x537847(0x12d)],_0x484d53;}this['queue']['push'](_0x47a7de);let _0x265964=null;const _0xb881bd=this[_0x537847(0x171)]();_0xb881bd&&(_0x539944[_0x537847(0x10b)](trace,_0x539944[_0x537847(0x16d)]),_0x265964=this[_0x537847(0x117)][_0x537847(0x133)](0x0,BATCH_SIZE),this['queue'][_0x537847(0x15c)](0x0,BATCH_SIZE),this[_0x537847(0x11e)]());const _0x408b03={};return _0x408b03[_0x537847(0x171)]=_0xb881bd,_0x408b03['proceedWithData']=_0x265964,_0x408b03[_0x537847(0x124)]=this[_0x537847(0x11d)],_0x408b03;}const _0x564cba={};return _0x564cba[_0x537847(0x171)]=!![],_0x564cba;};['shutdown']=async()=>{const _0x546f8f=a86_0xec94c,_0xe28658={'TlHFK':_0x546f8f(0x127),'kJlTH':function(_0xf59afb,_0x45456b){return _0xf59afb>_0x45456b;},'PVDJB':_0x546f8f(0x179),'PshbD':function(_0x1ee601,_0x2e1f36){return _0x1ee601(_0x2e1f36);}};await this['uploadPending'](),this[_0x546f8f(0x14f)](_0xe28658[_0x546f8f(0x112)]);while(_0xe28658[_0x546f8f(0x132)](this[_0x546f8f(0x117)][_0x546f8f(0x160)],0x0)){const _0x13a505=this[_0x546f8f(0x117)][_0x546f8f(0x133)](0x0,BATCH_SIZE);this[_0x546f8f(0x117)][_0x546f8f(0x15c)](0x0,BATCH_SIZE),await this[_0x546f8f(0x16c)](this[_0x546f8f(0x11d)],_0xe28658[_0x546f8f(0x15b)],_0x13a505);}_0xe28658['kJlTH'](this['pendingUploads'],0x0)&&_0xe28658[_0x546f8f(0x145)](debug,_0x546f8f(0x10c)+this['pendingUploads']);};[a86_0xec94c(0x16c)]=async(_0x49e741,_0x2d6d5b,_0x55585b)=>{const _0x2e92cc=a86_0xec94c,_0x16a659={'ciSUZ':function(_0x4fba7b,_0xd13f02){return _0x4fba7b(_0xd13f02);},'ToRjd':_0x2e92cc(0x119),'qOVhD':function(_0x551ce6,_0x4ab8e2){return _0x551ce6(_0x4ab8e2);},'UWOzL':function(_0x2a3172){return _0x2a3172();},'zYvkz':function(_0x4c65af,_0x1a9651,_0xc020da,_0x1245b4,_0x4a08a7){return _0x4c65af(_0x1a9651,_0xc020da,_0x1245b4,_0x4a08a7);},'tciVO':_0x2e92cc(0x158),'ugCnZ':function(_0x6954d0,_0x3e9f13){return _0x6954d0-_0x3e9f13;},'YiDAU':function(_0x29b8bb,_0x304340){return _0x29b8bb(_0x304340);},'PGsvC':function(_0x479aa7,_0x4f9483){return _0x479aa7-_0x4f9483;}};let _0x2d43ff='';try{_0x2d43ff=_0x55585b[_0x2e92cc(0x143)](_0x25744d=>'\x27'+_0x25744d[_0x2e92cc(0x164)]+'\x27:'+(nestedKeyValue(_0x25744d,[_0x2e92cc(0x141),'uuid'])||nestedKeyValue(_0x25744d,[_0x2e92cc(0x152),_0x2e92cc(0x129)])))[_0x2e92cc(0x16b)](','),_0x16a659['ciSUZ'](debug,_0x2e92cc(0x111)+_0x2d6d5b+_0x2e92cc(0x10f)+Buffer[_0x2e92cc(0x159)](util[_0x2e92cc(0x113)]('%j',_0x55585b),_0x16a659[_0x2e92cc(0x10a)])+_0x2e92cc(0x121)+_0x2d43ff);}catch(_0x5b6b59){_0x16a659[_0x2e92cc(0x151)](debug,_0x2e92cc(0x165)+util[_0x2e92cc(0x113)](_0x5b6b59)+'}');}const _0x451108={'headers':_0x16a659[_0x2e92cc(0x118)](getDefaultHeaders)};try{const _0x53157c=await _0x16a659['zYvkz'](nodeRequest,_0x16a659[_0x2e92cc(0x147)],_0x49e741,_0x55585b,_0x451108);if(_0x53157c[_0x2e92cc(0x148)][_0x2e92cc(0x13b)]){const _0x53d958={};_0x53d958[_0x2e92cc(0x173)]=_0x53157c[_0x2e92cc(0x148)]['error'];throw _0x53d958;}else _0x16a659[_0x2e92cc(0x151)](debug,_0x2d6d5b+_0x2e92cc(0x116)+_0x2d43ff+'\x20--\x20'+util['format']('%j',_0x53157c[_0x2e92cc(0x148)])),this[_0x2e92cc(0x175)]=Math[_0x2e92cc(0x11f)](0x0,_0x16a659[_0x2e92cc(0x131)](this[_0x2e92cc(0x175)],_0x55585b[_0x2e92cc(0x160)]));}catch(_0xfe24cc){_0xfe24cc['response']?_0x16a659[_0x2e92cc(0x168)](debug,_0x2e92cc(0x13d)+_0x2d6d5b+_0x2e92cc(0x153)+_0xfe24cc[_0x2e92cc(0x136)][_0x2e92cc(0x14a)]+'\x20'+_0xfe24cc[_0x2e92cc(0x136)][_0x2e92cc(0x108)]+'\x20'+util[_0x2e92cc(0x113)]('%j',_0xfe24cc[_0x2e92cc(0x136)])):_0x16a659[_0x2e92cc(0x14b)](debug,'EXCEPTION\x20IN\x20'+_0x2d6d5b+_0x2e92cc(0x153)+(_0xfe24cc[_0x2e92cc(0x173)]||_0xfe24cc)),this[_0x2e92cc(0x175)]=Math['max'](0x0,_0x16a659[_0x2e92cc(0x162)](this[_0x2e92cc(0x175)],_0x55585b['length']));}};[a86_0xec94c(0x12e)]=()=>{const _0x3ab700=a86_0xec94c,_0x254823={'FjHjD':function(_0x1d64c9,_0x7995ff){return _0x1d64c9>_0x7995ff;},'aDovv':function(_0x122a1e,_0xd7fc38){return _0x122a1e(_0xd7fc38);},'egEBG':'Interval-Queue','XZFwB':function(_0x4fff1e,_0x4371d5,_0x52f09a){return _0x4fff1e(_0x4371d5,_0x52f09a);}};this[_0x3ab700(0x10e)]=_0x254823[_0x3ab700(0x169)](setInterval,async()=>{const _0x453348=_0x3ab700;if(_0x254823[_0x453348(0x137)](this[_0x453348(0x117)][_0x453348(0x160)],0x0)){_0x254823[_0x453348(0x12c)](trace,_0x453348(0x166)+this[_0x453348(0x117)][_0x453348(0x160)]);const _0x1cbecc=this[_0x453348(0x117)][_0x453348(0x133)](0x0,BATCH_SIZE);this['queue'][_0x453348(0x15c)](0x0,BATCH_SIZE),await this[_0x453348(0x16c)](this[_0x453348(0x11d)],_0x254823[_0x453348(0x155)],_0x1cbecc),_0x254823[_0x453348(0x12c)](trace,_0x453348(0x174)+this['queue'][_0x453348(0x160)]);}},BATCH_INTERVAL);};['resetEventBatchPolling']=()=>{const _0x2e6b86=a86_0xec94c,_0x37329f={};_0x37329f[_0x2e6b86(0x126)]='RESETTING';const _0x2a5b76=_0x37329f;this[_0x2e6b86(0x14f)](_0x2a5b76[_0x2e6b86(0x126)]),this[_0x2e6b86(0x12e)]();};[a86_0xec94c(0x14f)]=_0xafc6da=>{const _0x41a864=a86_0xec94c,_0x5aca43={'snrga':function(_0x267f62,_0x2759cb){return _0x267f62(_0x2759cb);},'wWifk':function(_0x450b32,_0x3ffb3a){return _0x450b32===_0x3ffb3a;},'nRpUg':_0x41a864(0x127)};this[_0x41a864(0x10e)]&&(_0x5aca43['snrga'](clearInterval,this[_0x41a864(0x10e)]),this[_0x41a864(0x10e)]=null,_0x5aca43[_0x41a864(0x13e)](_0xafc6da,_0x5aca43['nRpUg'])&&(this['started']=![]));};[a86_0xec94c(0x171)]=()=>{const _0x55b5a0=a86_0xec94c,_0x132c0d={};_0x132c0d['PfHPk']=function(_0x2a606c,_0x415968){return _0x2a606c>=_0x415968;};const _0x2d4433=_0x132c0d;return _0x2d4433['PfHPk'](this[_0x55b5a0(0x117)][_0x55b5a0(0x160)],BATCH_SIZE);};async[a86_0xec94c(0x142)](_0x36a1e7=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x29baf9=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x80cf14=a86_0xec94c,_0x385cdb={'ANvbe':function(_0x1da8de,_0x8fa11){return _0x1da8de<=_0x8fa11;},'IXiFF':function(_0xdaeb2b,_0x16109c){return _0xdaeb2b(_0x16109c);},'MMDCG':function(_0x48336b,_0x53092a){return _0x48336b-_0x53092a;}};if(_0x385cdb[_0x80cf14(0x157)](this[_0x80cf14(0x175)],0x0)||_0x385cdb[_0x80cf14(0x157)](_0x36a1e7,0x0))return;return await _0x385cdb['IXiFF'](sleep,_0x29baf9),this[_0x80cf14(0x142)](_0x385cdb[_0x80cf14(0x13f)](_0x36a1e7,_0x29baf9));}}function a86_0x4bbe(){const _0x11c4ab=['utf8','api/v1/screenshots','start','screenshotEventUrl','eventUrl','resetEventBatchPolling','max','2062824pfnwkz','\x20bytes.\x20Events\x20are\x20','GPLiC','getInstance','proceedWithUrl','logs','YJmRh','REMOVING','TEST_ATTACHMENT','uuid','api/v1/batch','exports','aDovv','uploadAttachmentUrl','startEventBatchPolling','7cNgxPd','OxBtd','ugCnZ','kJlTH','slice','util','JaMoy','response','FjHjD','baEqy','gVxCg','BxVRD','error','HookRunFinished','EXCEPTION\x20IN\x20','wWifk','MMDCG','./constants','test_run','uploadPending','map','FRblK','PshbD','gCeaz','tciVO','data','BATCH_EVENT_TYPES','status','YiDAU','376252YdvhNp','started','TestRunFinished','removeEventBatchPolling','wXYcI','qOVhD','hook_run','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','109590jEHzYu','egEBG','zXlkH','ANvbe','POST','byteLength','upload-attachments','PVDJB','splice','14666628hqWBks','TestRunStarted','SjTfU','length','cdefC','PGsvC','171747ShRSMj','event_type','Exception\x20in\x20logging\x20batch\x20events\x20--\x20','Processing\x20events.\x20Queue\x20Length\x20-\x20','TestRunSkipped','ciSUZ','XZFwB','proceedWithData','join','batchAndPostEvents','HqUBI','instance','includes','517lSPcFJ','shouldProceed','../helper','message','Remaining\x20Queue\x20Length\x20-\x20','pendingUploads','IGuXK','kind','2qPOCMs','Shutdown-Queue','mUnaS','VfAMG','10ofDzsg','statusText','add','ToRjd','KfyGu','Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20','HookRunStarted','pollEventBatchInterval','.\x20Request\x20Size\x20-\x20','368784UNRQMl','Processing\x20batch\x20events\x20for\x20','TlHFK','format','248bUSDTV','248678RKvkrk','\x20event\x20successful\x20for\x20events\x20','queue','UWOzL'];a86_0x4bbe=function(){return _0x11c4ab;};return a86_0x4bbe();}module[a86_0xec94c(0x12b)]=RequestQueueHandler;