const a86_0x236f61=a86_0x4426;(function(_0x204e69,_0x28f2fc){const _0x1b9478=a86_0x4426,_0x2887b3=_0x204e69();while(!![]){try{const _0x3754fb=-parseInt(_0x1b9478(0x178))/0x1+-parseInt(_0x1b9478(0x13b))/0x2*(-parseInt(_0x1b9478(0x14f))/0x3)+parseInt(_0x1b9478(0x14e))/0x4*(-parseInt(_0x1b9478(0x183))/0x5)+parseInt(_0x1b9478(0x143))/0x6+-parseInt(_0x1b9478(0x17a))/0x7+-parseInt(_0x1b9478(0x13e))/0x8*(-parseInt(_0x1b9478(0x129))/0x9)+-parseInt(_0x1b9478(0x15c))/0xa;if(_0x3754fb===_0x28f2fc)break;else _0x2887b3['push'](_0x2887b3['shift']());}catch(_0x1d176a){_0x2887b3['push'](_0x2887b3['shift']());}}}(a86_0x25f9,0x8a803));const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a86_0x236f61(0x148)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require('./utils'),{nestedKeyValue}=require(a86_0x236f61(0x141)),util=require('util');function a86_0x4426(_0xbae2bb,_0x5355b7){const _0x25f912=a86_0x25f9();return a86_0x4426=function(_0x442658,_0x2967cf){_0x442658=_0x442658-0x11c;let _0x552117=_0x25f912[_0x442658];return _0x552117;},a86_0x4426(_0xbae2bb,_0x5355b7);}class RequestQueueHandler{static [a86_0x236f61(0x133)];[a86_0x236f61(0x181)]=0x0;constructor(){const _0x1893fe=a86_0x236f61,_0x3b6be0={};_0x3b6be0[_0x1893fe(0x17c)]='4|1|2|0|3|6|5',_0x3b6be0[_0x1893fe(0x16d)]=_0x1893fe(0x162),_0x3b6be0['HBIWE']=_0x1893fe(0x135),_0x3b6be0[_0x1893fe(0x17e)]=_0x1893fe(0x13f),_0x3b6be0['zlZfW']='LogCreated',_0x3b6be0[_0x1893fe(0x125)]='CBTSessionCreated',_0x3b6be0[_0x1893fe(0x185)]='TestRunFinished',_0x3b6be0[_0x1893fe(0x172)]=_0x1893fe(0x186),_0x3b6be0[_0x1893fe(0x134)]=_0x1893fe(0x15d),_0x3b6be0['mOCoO']=_0x1893fe(0x18e),_0x3b6be0[_0x1893fe(0x16a)]=_0x1893fe(0x173);const _0xfc9a97=_0x3b6be0,_0x3636c5=_0xfc9a97['uxskA'][_0x1893fe(0x156)]('|');let _0x44a9fc=0x0;while(!![]){switch(_0x3636c5[_0x44a9fc++]){case'0':this[_0x1893fe(0x165)]=_0xfc9a97['acZaY'];continue;case'1':this[_0x1893fe(0x18a)]=![];continue;case'2':this[_0x1893fe(0x164)]=_0xfc9a97[_0x1893fe(0x184)];continue;case'3':this[_0x1893fe(0x17b)]=_0xfc9a97['LRvkn'];continue;case'4':this[_0x1893fe(0x149)]=[];continue;case'5':this[_0x1893fe(0x13a)]=null;continue;case'6':this[_0x1893fe(0x18b)]=[_0xfc9a97[_0x1893fe(0x153)],_0xfc9a97[_0x1893fe(0x125)],_0xfc9a97[_0x1893fe(0x185)],_0xfc9a97[_0x1893fe(0x172)],_0xfc9a97[_0x1893fe(0x134)],_0xfc9a97[_0x1893fe(0x163)],_0xfc9a97[_0x1893fe(0x16a)]];continue;}break;}}static[a86_0x236f61(0x158)](){const _0x25c3c4=a86_0x236f61;return!RequestQueueHandler[_0x25c3c4(0x133)]&&(RequestQueueHandler[_0x25c3c4(0x133)]=new RequestQueueHandler()),RequestQueueHandler['instance'];}[a86_0x236f61(0x142)]=()=>{const _0x37e946=a86_0x236f61;!this[_0x37e946(0x18a)]&&(this[_0x37e946(0x18a)]=!![],this['startEventBatchPolling']());};[a86_0x236f61(0x179)]=_0x2e2447=>{const _0x2adaba=a86_0x236f61,_0x3d8c44={'SJrlt':function(_0x1a158e,_0x257171){return _0x1a158e===_0x257171;},'nkbZD':'TEST_SCREENSHOT','DpheP':function(_0x30ad3b,_0x1b32ff){return _0x30ad3b>_0x1b32ff;},'TMesO':function(_0x279775,_0x521e63){return _0x279775===_0x521e63;},'jAApV':_0x2adaba(0x128),'WGoZy':function(_0xd0190f,_0x51860c){return _0xd0190f!==_0x51860c;},'CwOkE':_0x2adaba(0x12d),'qChic':function(_0x4f1d62,_0x2ed8f0){return _0x4f1d62(_0x2ed8f0);},'LZlil':_0x2adaba(0x13d)};if(this[_0x2adaba(0x18b)][_0x2adaba(0x145)](_0x2e2447[_0x2adaba(0x166)])){if(_0x2e2447['logs']&&_0x2e2447[_0x2adaba(0x11d)][0x0]&&_0x3d8c44[_0x2adaba(0x130)](_0x2e2447[_0x2adaba(0x11d)][0x0][_0x2adaba(0x14c)],_0x3d8c44[_0x2adaba(0x171)])){const _0x3b3bed={};return _0x3b3bed[_0x2adaba(0x15a)]=!![],_0x3b3bed['proceedWithData']=[_0x2e2447],_0x3b3bed[_0x2adaba(0x176)]=this[_0x2adaba(0x165)],_0x3b3bed;}if(_0x2e2447[_0x2adaba(0x11d)]&&_0x3d8c44[_0x2adaba(0x14d)](_0x2e2447[_0x2adaba(0x11d)][_0x2adaba(0x174)],0x0)&&_0x3d8c44[_0x2adaba(0x17f)](_0x2e2447['logs'][0x0][_0x2adaba(0x14c)],_0x3d8c44[_0x2adaba(0x154)])&&_0x3d8c44[_0x2adaba(0x121)](_0x2e2447[_0x2adaba(0x166)],_0x3d8c44[_0x2adaba(0x14a)])){const _0x549656={};return _0x549656[_0x2adaba(0x15a)]=!![],_0x549656[_0x2adaba(0x167)]=[_0x2e2447],_0x549656[_0x2adaba(0x176)]=this[_0x2adaba(0x17b)],_0x549656;}this[_0x2adaba(0x149)][_0x2adaba(0x169)](_0x2e2447);let _0x4e35b2=null;const _0xcd0199=this[_0x2adaba(0x15a)]();_0xcd0199&&(_0x3d8c44[_0x2adaba(0x12a)](trace,_0x3d8c44[_0x2adaba(0x120)]),_0x4e35b2=this[_0x2adaba(0x149)][_0x2adaba(0x187)](0x0,BATCH_SIZE),this[_0x2adaba(0x149)][_0x2adaba(0x122)](0x0,BATCH_SIZE),this['resetEventBatchPolling']());const _0x22bc06={};return _0x22bc06[_0x2adaba(0x15a)]=_0xcd0199,_0x22bc06[_0x2adaba(0x167)]=_0x4e35b2,_0x22bc06[_0x2adaba(0x176)]=this[_0x2adaba(0x164)],_0x22bc06;}const _0x57f751={};return _0x57f751[_0x2adaba(0x15a)]=!![],_0x57f751;};[a86_0x236f61(0x12b)]=async()=>{const _0x42dce4=a86_0x236f61,_0xf62626={'VICry':_0x42dce4(0x127),'uqvQW':function(_0xbb10f9,_0x13170a){return _0xbb10f9>_0x13170a;},'ocGDX':_0x42dce4(0x146),'Rfdvg':function(_0x443fa3,_0x465875){return _0x443fa3>_0x465875;},'HCxdZ':function(_0x414bb8,_0x5f586f){return _0x414bb8(_0x5f586f);}};await this[_0x42dce4(0x11e)](),this[_0x42dce4(0x147)](_0xf62626[_0x42dce4(0x12c)]);while(_0xf62626['uqvQW'](this[_0x42dce4(0x149)]['length'],0x0)){const _0x107c26=this[_0x42dce4(0x149)][_0x42dce4(0x187)](0x0,BATCH_SIZE);this['queue'][_0x42dce4(0x122)](0x0,BATCH_SIZE),await this[_0x42dce4(0x177)](this[_0x42dce4(0x164)],_0xf62626[_0x42dce4(0x157)],_0x107c26);}_0xf62626['Rfdvg'](this['pendingUploads'],0x0)&&_0xf62626[_0x42dce4(0x126)](debug,'Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20'+this[_0x42dce4(0x181)]);};[a86_0x236f61(0x177)]=async(_0x5c4688,_0x55c3a6,_0x210ba7)=>{const _0x2fd058=a86_0x236f61,_0x29f4c2={'wjZzN':function(_0x465fe9,_0x42c026){return _0x465fe9(_0x42c026);},'HrnFC':_0x2fd058(0x11c),'XHRgr':function(_0x520381,_0x15724){return _0x520381(_0x15724);},'kWdHa':function(_0x41dda9){return _0x41dda9();},'EdVPd':function(_0x59267a,_0x641425,_0x32bda4,_0x226233,_0x511fbc){return _0x59267a(_0x641425,_0x32bda4,_0x226233,_0x511fbc);},'fQwQR':_0x2fd058(0x12e),'CfyLL':function(_0x1bafa2,_0x1e84e5){return _0x1bafa2-_0x1e84e5;},'QzXAX':function(_0x552d71,_0x1bb474){return _0x552d71(_0x1bb474);},'xlsIj':function(_0x240752,_0x88081e){return _0x240752(_0x88081e);},'rDesp':function(_0x31ee01,_0x34f126){return _0x31ee01-_0x34f126;}};let _0x6894cc='';try{_0x6894cc=_0x210ba7[_0x2fd058(0x161)](_0x56ff00=>'\x27'+_0x56ff00[_0x2fd058(0x166)]+'\x27:'+(nestedKeyValue(_0x56ff00,[_0x2fd058(0x124),_0x2fd058(0x160)])||nestedKeyValue(_0x56ff00,['hook_run',_0x2fd058(0x160)])))[_0x2fd058(0x139)](','),_0x29f4c2[_0x2fd058(0x170)](debug,'Processing\x20batch\x20events\x20for\x20'+_0x55c3a6+_0x2fd058(0x137)+Buffer[_0x2fd058(0x168)](util[_0x2fd058(0x13c)]('%j',_0x210ba7),_0x29f4c2[_0x2fd058(0x180)])+'\x20bytes.\x20Events\x20are\x20'+_0x6894cc);}catch(_0x1c5664){_0x29f4c2[_0x2fd058(0x182)](debug,_0x2fd058(0x159)+util[_0x2fd058(0x13c)](_0x1c5664)+'}');}const _0x4cf657={'headers':_0x29f4c2[_0x2fd058(0x138)](getDefaultHeaders)};try{const _0x4ca264=await _0x29f4c2[_0x2fd058(0x140)](nodeRequest,_0x29f4c2[_0x2fd058(0x15b)],_0x5c4688,_0x210ba7,_0x4cf657);if(_0x4ca264[_0x2fd058(0x189)][_0x2fd058(0x188)]){const _0x5139f0={};_0x5139f0[_0x2fd058(0x12f)]=_0x4ca264[_0x2fd058(0x189)][_0x2fd058(0x188)];throw _0x5139f0;}else _0x29f4c2[_0x2fd058(0x170)](debug,_0x55c3a6+'\x20event\x20successful\x20for\x20events\x20'+_0x6894cc+_0x2fd058(0x131)+util[_0x2fd058(0x13c)]('%j',_0x4ca264[_0x2fd058(0x189)])),this[_0x2fd058(0x181)]=Math['max'](0x0,_0x29f4c2['CfyLL'](this[_0x2fd058(0x181)],_0x210ba7['length']));}catch(_0x5b8932){_0x5b8932['response']?_0x29f4c2[_0x2fd058(0x11f)](debug,_0x2fd058(0x16c)+_0x55c3a6+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20'+_0x5b8932['response'][_0x2fd058(0x175)]+'\x20'+_0x5b8932[_0x2fd058(0x18c)][_0x2fd058(0x16f)]+'\x20'+util[_0x2fd058(0x13c)]('%j',_0x5b8932[_0x2fd058(0x18c)])):_0x29f4c2['xlsIj'](debug,_0x2fd058(0x16c)+_0x55c3a6+_0x2fd058(0x15e)+(_0x5b8932['message']||_0x5b8932)),this['pendingUploads']=Math[_0x2fd058(0x18d)](0x0,_0x29f4c2[_0x2fd058(0x132)](this['pendingUploads'],_0x210ba7[_0x2fd058(0x174)]));}};['startEventBatchPolling']=()=>{const _0x37a664=a86_0x236f61,_0x104cbe={'AzmSl':function(_0x4d0a7d,_0x498c58){return _0x4d0a7d>_0x498c58;},'RjcqW':function(_0x47486c,_0x48245f){return _0x47486c(_0x48245f);},'rUudy':_0x37a664(0x15f),'RuFVC':function(_0x1f8829,_0x5a8133){return _0x1f8829(_0x5a8133);},'LPOkP':function(_0x38bc5c,_0xf06199,_0x9dca5e){return _0x38bc5c(_0xf06199,_0x9dca5e);}};this[_0x37a664(0x13a)]=_0x104cbe[_0x37a664(0x144)](setInterval,async()=>{const _0x1ea42f=_0x37a664;if(_0x104cbe[_0x1ea42f(0x151)](this[_0x1ea42f(0x149)][_0x1ea42f(0x174)],0x0)){_0x104cbe[_0x1ea42f(0x136)](trace,_0x1ea42f(0x16e)+this['queue']['length']);const _0x2191aa=this[_0x1ea42f(0x149)][_0x1ea42f(0x187)](0x0,BATCH_SIZE);this[_0x1ea42f(0x149)][_0x1ea42f(0x122)](0x0,BATCH_SIZE),await this[_0x1ea42f(0x177)](this[_0x1ea42f(0x164)],_0x104cbe[_0x1ea42f(0x150)],_0x2191aa),_0x104cbe['RuFVC'](trace,_0x1ea42f(0x152)+this[_0x1ea42f(0x149)][_0x1ea42f(0x174)]);}},BATCH_INTERVAL);};['resetEventBatchPolling']=()=>{const _0x481248=a86_0x236f61,_0x320f7d={};_0x320f7d[_0x481248(0x155)]='RESETTING';const _0x3d3b5f=_0x320f7d;this[_0x481248(0x147)](_0x3d3b5f[_0x481248(0x155)]),this[_0x481248(0x17d)]();};[a86_0x236f61(0x147)]=_0xd902d3=>{const _0x334982=a86_0x236f61,_0x52f9d9={'OCyDU':function(_0x5d96bb,_0x1a1cc9){return _0x5d96bb(_0x1a1cc9);},'ANmQh':function(_0x388c13,_0x47a627){return _0x388c13===_0x47a627;},'AxlbH':_0x334982(0x127)};this[_0x334982(0x13a)]&&(_0x52f9d9['OCyDU'](clearInterval,this['pollEventBatchInterval']),this['pollEventBatchInterval']=null,_0x52f9d9[_0x334982(0x14b)](_0xd902d3,_0x52f9d9['AxlbH'])&&(this[_0x334982(0x18a)]=![]));};['shouldProceed']=()=>{const _0x130b41=a86_0x236f61,_0x381b8a={};_0x381b8a['eAhEr']=function(_0x33fe43,_0x572e27){return _0x33fe43>=_0x572e27;};const _0x41596f=_0x381b8a;return _0x41596f['eAhEr'](this['queue'][_0x130b41(0x174)],BATCH_SIZE);};async['uploadPending'](_0x4b3745=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x18663a=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x255a78=a86_0x236f61,_0x781c6c={'bytNE':function(_0x4956aa,_0x272d3f){return _0x4956aa<=_0x272d3f;},'ANYHV':function(_0x1dca90,_0x2f6783){return _0x1dca90(_0x2f6783);},'vTGVP':function(_0x48d5b3,_0x1fae30){return _0x48d5b3-_0x1fae30;}};if(_0x781c6c[_0x255a78(0x16b)](this['pendingUploads'],0x0)||_0x781c6c['bytNE'](_0x4b3745,0x0))return;return await _0x781c6c['ANYHV'](sleep,_0x18663a),this[_0x255a78(0x11e)](_0x781c6c['vTGVP'](_0x4b3745,_0x18663a));}}module[a86_0x236f61(0x123)]=RequestQueueHandler;function a86_0x25f9(){const _0x1536ba=['Shutdown-Queue','removeEventBatchPolling','./constants','queue','CwOkE','ANmQh','kind','DpheP','92EqNRse','190005WBBHJu','rUudy','AzmSl','Remaining\x20Queue\x20Length\x20-\x20','zlZfW','jAApV','xqtqZ','split','ocGDX','getInstance','Exception\x20in\x20logging\x20batch\x20events\x20--\x20','shouldProceed','fQwQR','837050mTGjqv','HookRunFinished','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','Interval-Queue','uuid','map','api/v1/screenshots','mOCoO','eventUrl','screenshotEventUrl','event_type','proceedWithData','byteLength','push','UURVJ','bytNE','EXCEPTION\x20IN\x20','acZaY','Processing\x20events.\x20Queue\x20Length\x20-\x20','statusText','wjZzN','nkbZD','RXLKg','HookRunStarted','length','status','proceedWithUrl','batchAndPostEvents','586547cnxrdQ','add','1141126fTSHcT','uploadAttachmentUrl','uxskA','startEventBatchPolling','LRvkn','TMesO','HrnFC','pendingUploads','XHRgr','219215GYaCMq','HBIWE','jZDdu','TestRunSkipped','slice','error','data','started','BATCH_EVENT_TYPES','response','max','TestRunStarted','utf8','logs','uploadPending','QzXAX','LZlil','WGoZy','splice','exports','test_run','Ovywg','HCxdZ','REMOVING','TEST_ATTACHMENT','9ymDIGW','qChic','shutdown','VICry','TestRunFinished','POST','message','SJrlt','\x20--\x20','rDesp','instance','UclVv','api/v1/batch','RjcqW','.\x20Request\x20Size\x20-\x20','kWdHa','join','pollEventBatchInterval','30HEVoXF','format','Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..','3756472xirtxw','upload-attachments','EdVPd','../helper','start','5936244CiQJTS','LPOkP','includes'];a86_0x25f9=function(){return _0x1536ba;};return a86_0x25f9();}