const a115_0xd220d1=a115_0x1634;(function(_0x41484b,_0x18229e){const _0x9097af=a115_0x1634,_0x11b8a7=_0x41484b();while(!![]){try{const _0x1fdd6d=parseInt(_0x9097af(0xe0))/0x1*(parseInt(_0x9097af(0x10f))/0x2)+parseInt(_0x9097af(0xfe))/0x3+parseInt(_0x9097af(0x114))/0x4*(parseInt(_0x9097af(0xf2))/0x5)+-parseInt(_0x9097af(0xc9))/0x6+parseInt(_0x9097af(0xdb))/0x7+-parseInt(_0x9097af(0xbb))/0x8+-parseInt(_0x9097af(0x12f))/0x9;if(_0x1fdd6d===_0x18229e)break;else _0x11b8a7['push'](_0x11b8a7['shift']());}catch(_0x305687){_0x11b8a7['push'](_0x11b8a7['shift']());}}}(a115_0x5e4b,0xb2349));const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a115_0xd220d1(0x11c)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a115_0xd220d1(0x109)),{nestedKeyValue}=require(a115_0xd220d1(0xfd)),util=require(a115_0xd220d1(0xd1));class RequestQueueHandler{static [a115_0xd220d1(0xd9)];[a115_0xd220d1(0xdf)]=0x0;constructor(){const _0x407e7d=a115_0xd220d1,_0x4a88ea={};_0x4a88ea[_0x407e7d(0xba)]=_0x407e7d(0xe9),_0x4a88ea[_0x407e7d(0xec)]=_0x407e7d(0xed),_0x4a88ea[_0x407e7d(0xdc)]=_0x407e7d(0xcf),_0x4a88ea[_0x407e7d(0x11d)]=_0x407e7d(0xc7),_0x4a88ea['fzoxS']='CBTSessionCreated',_0x4a88ea[_0x407e7d(0x10e)]=_0x407e7d(0x121),_0x4a88ea['SMufn']=_0x407e7d(0xd7),_0x4a88ea[_0x407e7d(0xf6)]=_0x407e7d(0xe4),_0x4a88ea[_0x407e7d(0xd0)]=_0x407e7d(0xb7),_0x4a88ea['Vnnqf']=_0x407e7d(0x130),_0x4a88ea[_0x407e7d(0xf7)]='upload-attachments';const _0x292a18=_0x4a88ea,_0xf193de=_0x292a18[_0x407e7d(0xba)][_0x407e7d(0x10b)]('|');let _0x257d99=0x0;while(!![]){switch(_0xf193de[_0x257d99++]){case'0':this['pollEventBatchInterval']=null;continue;case'1':this[_0x407e7d(0xda)]=_0x292a18[_0x407e7d(0xec)];continue;case'2':this[_0x407e7d(0x12d)]=_0x292a18[_0x407e7d(0xdc)];continue;case'3':this[_0x407e7d(0xf0)]=[_0x292a18[_0x407e7d(0x11d)],_0x292a18[_0x407e7d(0x126)],_0x292a18['exTEm'],_0x292a18['SMufn'],_0x292a18[_0x407e7d(0xf6)],_0x292a18[_0x407e7d(0xd0)],_0x292a18['Vnnqf']];continue;case'4':this['uploadAttachmentUrl']=_0x292a18[_0x407e7d(0xf7)];continue;case'5':this[_0x407e7d(0x100)]=[];continue;case'6':this[_0x407e7d(0xbd)]=![];continue;}break;}}static[a115_0xd220d1(0xe7)](){const _0x3cdda0=a115_0xd220d1;return!RequestQueueHandler[_0x3cdda0(0xd9)]&&(RequestQueueHandler[_0x3cdda0(0xd9)]=new RequestQueueHandler()),RequestQueueHandler[_0x3cdda0(0xd9)];}[a115_0xd220d1(0xb9)]=()=>{const _0x41fbd0=a115_0xd220d1;!this[_0x41fbd0(0xbd)]&&(this[_0x41fbd0(0xbd)]=!![],this[_0x41fbd0(0xcd)]());};[a115_0xd220d1(0x107)]=_0x281b9f=>{const _0x3060ba=a115_0xd220d1,_0x45b557={'Uhxhw':function(_0x2667e5,_0x2a703f){return _0x2667e5===_0x2a703f;},'GlHUT':'TEST_SCREENSHOT','XRwvC':function(_0xdede4e,_0x3f782c){return _0xdede4e>_0x3f782c;},'HaQZz':_0x3060ba(0x11b),'FLHWL':function(_0x151d8f,_0x14c8b4){return _0x151d8f!==_0x14c8b4;},'TqVns':'TestRunFinished','HyaFf':function(_0x2c86aa,_0x3756c9){return _0x2c86aa(_0x3756c9);},'kQnuC':_0x3060ba(0xfb)};if(this[_0x3060ba(0xf0)][_0x3060ba(0xd5)](_0x281b9f[_0x3060ba(0xb8)])){if(_0x281b9f[_0x3060ba(0xd8)]&&_0x281b9f[_0x3060ba(0xd8)][0x0]&&_0x45b557['Uhxhw'](_0x281b9f['logs'][0x0][_0x3060ba(0x120)],_0x45b557[_0x3060ba(0x111)])){const _0x435045={};return _0x435045['shouldProceed']=!![],_0x435045[_0x3060ba(0xbf)]=[_0x281b9f],_0x435045['proceedWithUrl']=this[_0x3060ba(0x12d)],_0x435045;}if(_0x281b9f[_0x3060ba(0xd8)]&&_0x45b557[_0x3060ba(0xbc)](_0x281b9f[_0x3060ba(0xd8)][_0x3060ba(0x104)],0x0)&&_0x45b557[_0x3060ba(0x122)](_0x281b9f[_0x3060ba(0xd8)][0x0][_0x3060ba(0x120)],_0x45b557[_0x3060ba(0x10d)])&&_0x45b557[_0x3060ba(0xc3)](_0x281b9f[_0x3060ba(0xb8)],_0x45b557[_0x3060ba(0xfc)])){const _0x10e632={};return _0x10e632[_0x3060ba(0x112)]=!![],_0x10e632[_0x3060ba(0xbf)]=[_0x281b9f],_0x10e632[_0x3060ba(0xf3)]=this[_0x3060ba(0xdd)],_0x10e632;}this[_0x3060ba(0x100)][_0x3060ba(0xe5)](_0x281b9f);let _0x2e8cc5=null;const _0x13263c=this[_0x3060ba(0x112)]();_0x13263c&&(_0x45b557[_0x3060ba(0xde)](trace,_0x45b557[_0x3060ba(0x116)]),_0x2e8cc5=this[_0x3060ba(0x100)][_0x3060ba(0x10c)](0x0,BATCH_SIZE),this[_0x3060ba(0x100)]['splice'](0x0,BATCH_SIZE),this[_0x3060ba(0xea)]());const _0x3dab36={};return _0x3dab36[_0x3060ba(0x112)]=_0x13263c,_0x3dab36[_0x3060ba(0xbf)]=_0x2e8cc5,_0x3dab36[_0x3060ba(0xf3)]=this[_0x3060ba(0xda)],_0x3dab36;}const _0x5207fe={};return _0x5207fe[_0x3060ba(0x112)]=!![],_0x5207fe;};[a115_0xd220d1(0x11a)]=async()=>{const _0x465835=a115_0xd220d1,_0x561ba3={'jPyTJ':'REMOVING','UDtLb':function(_0x535b8e,_0xd41eeb){return _0x535b8e>_0xd41eeb;},'fhtKQ':_0x465835(0xf5),'PvyaC':function(_0x43addd,_0x53c261){return _0x43addd(_0x53c261);}};await this[_0x465835(0xff)](),this[_0x465835(0x11e)](_0x561ba3[_0x465835(0x12b)]);while(_0x561ba3['UDtLb'](this[_0x465835(0x100)][_0x465835(0x104)],0x0)){const _0x5f2250=this[_0x465835(0x100)]['slice'](0x0,BATCH_SIZE);this[_0x465835(0x100)][_0x465835(0xc6)](0x0,BATCH_SIZE),await this[_0x465835(0xef)](this[_0x465835(0xda)],_0x561ba3['fhtKQ'],_0x5f2250);}_0x561ba3[_0x465835(0xcb)](this[_0x465835(0xdf)],0x0)&&_0x561ba3[_0x465835(0xce)](debug,'Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20'+this[_0x465835(0xdf)]);};[a115_0xd220d1(0xef)]=async(_0x1b5eb6,_0x48c183,_0xaa5ecf)=>{const _0xee988a=a115_0xd220d1,_0x52a0f9={'mcGeL':function(_0x37adca,_0xcbe25a){return _0x37adca(_0xcbe25a);},'HSgrj':'utf8','DHbqN':function(_0x3f29fd,_0x3d3c62){return _0x3f29fd(_0x3d3c62);},'XRWVo':function(_0x32a4ad){return _0x32a4ad();},'LIcJw':function(_0x11b509,_0x4fcd79,_0x597939,_0x20c2a6,_0x2e5ac3){return _0x11b509(_0x4fcd79,_0x597939,_0x20c2a6,_0x2e5ac3);},'SPMJh':_0xee988a(0x131),'XwVNi':function(_0x223cee,_0x1c2a10){return _0x223cee(_0x1c2a10);},'kGDBD':function(_0x5b880b,_0x55ceee){return _0x5b880b-_0x55ceee;},'hrjfU':function(_0x10c76a,_0x3bcf58){return _0x10c76a(_0x3bcf58);},'gthOr':function(_0x12632c,_0x3d4ae0){return _0x12632c-_0x3d4ae0;}};let _0xfbd18='';try{_0xfbd18=_0xaa5ecf[_0xee988a(0xeb)](_0x8b3a89=>'\x27'+_0x8b3a89[_0xee988a(0xb8)]+'\x27:'+(nestedKeyValue(_0x8b3a89,[_0xee988a(0xc2),_0xee988a(0xf8)])||nestedKeyValue(_0x8b3a89,[_0xee988a(0x12e),_0xee988a(0xf8)])))[_0xee988a(0x11f)](','),_0x52a0f9[_0xee988a(0x12c)](debug,_0xee988a(0xca)+_0x48c183+_0xee988a(0x128)+Buffer[_0xee988a(0x118)](util[_0xee988a(0xc8)]('%j',_0xaa5ecf),_0x52a0f9[_0xee988a(0xd6)])+_0xee988a(0xf1)+_0xfbd18);}catch(_0x49fd02){_0x52a0f9[_0xee988a(0xe1)](debug,_0xee988a(0x102)+util[_0xee988a(0xc8)](_0x49fd02)+'}');}const _0x3f2d79={'headers':_0x52a0f9[_0xee988a(0x119)](getDefaultHeaders)};try{const _0x14df49=await _0x52a0f9[_0xee988a(0x129)](nodeRequest,_0x52a0f9[_0xee988a(0x123)],_0x1b5eb6,_0xaa5ecf,_0x3f2d79);if(_0x14df49['data'][_0xee988a(0x10a)]){const _0x382fe4={};_0x382fe4[_0xee988a(0xe3)]=_0x14df49['data']['error'];throw _0x382fe4;}else _0x52a0f9[_0xee988a(0xbe)](debug,_0x48c183+_0xee988a(0x115)+_0xfbd18+_0xee988a(0xe8)+util[_0xee988a(0xc8)]('%j',_0x14df49[_0xee988a(0x110)])),this[_0xee988a(0xdf)]=Math[_0xee988a(0xc5)](0x0,_0x52a0f9[_0xee988a(0x101)](this[_0xee988a(0xdf)],_0xaa5ecf[_0xee988a(0x104)]));}catch(_0x41dc97){_0x41dc97[_0xee988a(0xf4)]?_0x52a0f9[_0xee988a(0xbe)](debug,'EXCEPTION\x20IN\x20'+_0x48c183+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20'+_0x41dc97['response'][_0xee988a(0xd4)]+'\x20'+_0x41dc97['response'][_0xee988a(0xee)]+'\x20'+util['format']('%j',_0x41dc97[_0xee988a(0xf4)])):_0x52a0f9[_0xee988a(0x103)](debug,_0xee988a(0xf9)+_0x48c183+'\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20'+(_0x41dc97[_0xee988a(0xe3)]||_0x41dc97)),this[_0xee988a(0xdf)]=Math['max'](0x0,_0x52a0f9[_0xee988a(0xd3)](this[_0xee988a(0xdf)],_0xaa5ecf[_0xee988a(0x104)]));}};[a115_0xd220d1(0xcd)]=()=>{const _0x205a17=a115_0xd220d1,_0x23ee89={'NBxPb':function(_0x29100e,_0x29bc99){return _0x29100e>_0x29bc99;},'CHxms':function(_0x3b2e70,_0x59a4f8){return _0x3b2e70(_0x59a4f8);},'RCAAa':'Interval-Queue','zYTWW':function(_0x42223,_0xfcae91,_0x340b20){return _0x42223(_0xfcae91,_0x340b20);}};this[_0x205a17(0xe2)]=_0x23ee89[_0x205a17(0x124)](setInterval,async()=>{const _0x1eeea6=_0x205a17;if(_0x23ee89[_0x1eeea6(0x127)](this['queue'][_0x1eeea6(0x104)],0x0)){_0x23ee89['CHxms'](trace,'Processing\x20events.\x20Queue\x20Length\x20-\x20'+this[_0x1eeea6(0x100)]['length']);const _0x22eda1=this['queue'][_0x1eeea6(0x10c)](0x0,BATCH_SIZE);this[_0x1eeea6(0x100)]['splice'](0x0,BATCH_SIZE),await this[_0x1eeea6(0xef)](this['eventUrl'],_0x23ee89[_0x1eeea6(0x117)],_0x22eda1),_0x23ee89[_0x1eeea6(0xcc)](trace,'Remaining\x20Queue\x20Length\x20-\x20'+this['queue'][_0x1eeea6(0x104)]);}},BATCH_INTERVAL);};[a115_0xd220d1(0xea)]=()=>{const _0x3451f5=a115_0xd220d1,_0x40a27c={};_0x40a27c[_0x3451f5(0x12a)]=_0x3451f5(0xc1);const _0x1b131c=_0x40a27c;this[_0x3451f5(0x11e)](_0x1b131c['TSwbs']),this[_0x3451f5(0xcd)]();};[a115_0xd220d1(0x11e)]=_0x13f0c2=>{const _0x2655d2=a115_0xd220d1,_0x1e5a27={'anLdG':function(_0x5e3b7d,_0x507295){return _0x5e3b7d(_0x507295);},'RjMCk':function(_0x4b72af,_0x4face3){return _0x4b72af===_0x4face3;},'ZZJOh':_0x2655d2(0x125)};this[_0x2655d2(0xe2)]&&(_0x1e5a27[_0x2655d2(0xfa)](clearInterval,this[_0x2655d2(0xe2)]),this[_0x2655d2(0xe2)]=null,_0x1e5a27[_0x2655d2(0x113)](_0x13f0c2,_0x1e5a27[_0x2655d2(0xd2)])&&(this[_0x2655d2(0xbd)]=![]));};[a115_0xd220d1(0x112)]=()=>{const _0x25a255=a115_0xd220d1,_0x56fd9={};_0x56fd9['Rqpiu']=function(_0x3bb2d8,_0x122813){return _0x3bb2d8>=_0x122813;};const _0x557423=_0x56fd9;return _0x557423[_0x25a255(0xc0)](this['queue'][_0x25a255(0x104)],BATCH_SIZE);};async[a115_0xd220d1(0xff)](_0x1b9b51=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0xc747b7=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x1a337a=a115_0xd220d1,_0x4f37f7={'SvlXU':function(_0x2b4418,_0x3ed718){return _0x2b4418<=_0x3ed718;},'saTrQ':function(_0x20fe7a,_0xb1dbf3){return _0x20fe7a<=_0xb1dbf3;},'ZvHtN':function(_0x15b423,_0x72e8d0){return _0x15b423(_0x72e8d0);},'HgWeN':function(_0x2562d3,_0x37fc2b){return _0x2562d3-_0x37fc2b;}};if(_0x4f37f7[_0x1a337a(0x108)](this[_0x1a337a(0xdf)],0x0)||_0x4f37f7[_0x1a337a(0x106)](_0x1b9b51,0x0))return;return await _0x4f37f7[_0x1a337a(0xe6)](sleep,_0xc747b7),this['uploadPending'](_0x4f37f7[_0x1a337a(0x105)](_0x1b9b51,_0xc747b7));}}module[a115_0xd220d1(0xc4)]=RequestQueueHandler;function a115_0x1634(_0x476fa3,_0x2e7c24){const _0x5e4b53=a115_0x5e4b();return a115_0x1634=function(_0x16341c,_0x358b72){_0x16341c=_0x16341c-0xb7;let _0x202a04=_0x5e4b53[_0x16341c];return _0x202a04;},a115_0x1634(_0x476fa3,_0x2e7c24);}function a115_0x5e4b(){const _0xcbd879=['hrjfU','length','HgWeN','saTrQ','add','SvlXU','./utils','error','split','slice','HaQZz','exTEm','82SEbODV','data','GlHUT','shouldProceed','RjMCk','81412LNyYsD','\x20event\x20successful\x20for\x20events\x20','kQnuC','RCAAa','byteLength','XRWVo','shutdown','TEST_ATTACHMENT','./constants','mHzTm','removeEventBatchPolling','join','kind','TestRunFinished','Uhxhw','SPMJh','zYTWW','REMOVING','fzoxS','NBxPb','.\x20Request\x20Size\x20-\x20','LIcJw','TSwbs','jPyTJ','mcGeL','screenshotEventUrl','hook_run','8363376QInMwz','HookRunStarted','POST','TestRunStarted','event_type','start','rfKvM','8001512tBAxcv','XRwvC','started','XwVNi','proceedWithData','Rqpiu','RESETTING','test_run','FLHWL','exports','max','splice','LogCreated','format','3770028yBHIdK','Processing\x20batch\x20events\x20for\x20','UDtLb','CHxms','startEventBatchPolling','PvyaC','api/v1/screenshots','VYkaA','util','ZZJOh','gthOr','status','includes','HSgrj','TestRunSkipped','logs','instance','eventUrl','7829906xODPeY','tonUA','uploadAttachmentUrl','HyaFf','pendingUploads','30402MluofD','DHbqN','pollEventBatchInterval','message','HookRunFinished','push','ZvHtN','getInstance','\x20--\x20','5|6|1|2|4|3|0','resetEventBatchPolling','map','RFxMA','api/v1/batch','statusText','batchAndPostEvents','BATCH_EVENT_TYPES','\x20bytes.\x20Events\x20are\x20','80svOaLD','proceedWithUrl','response','Shutdown-Queue','OFEbT','ADapo','uuid','EXCEPTION\x20IN\x20','anLdG','Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..','TqVns','../helper','1791096oNDXJK','uploadPending','queue','kGDBD','Exception\x20in\x20logging\x20batch\x20events\x20--\x20'];a115_0x5e4b=function(){return _0xcbd879;};return a115_0x5e4b();}