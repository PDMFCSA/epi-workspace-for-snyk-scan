const a84_0x4a23e8=a84_0x3811;(function(_0x157557,_0x28e0ea){const _0x175ebb=a84_0x3811,_0x2d18d7=_0x157557();while(!![]){try{const _0x3a1b7c=-parseInt(_0x175ebb(0x165))/0x1+-parseInt(_0x175ebb(0x1a1))/0x2*(-parseInt(_0x175ebb(0x18c))/0x3)+parseInt(_0x175ebb(0x174))/0x4*(-parseInt(_0x175ebb(0x1a4))/0x5)+-parseInt(_0x175ebb(0x16d))/0x6+-parseInt(_0x175ebb(0x1bb))/0x7+parseInt(_0x175ebb(0x15c))/0x8*(-parseInt(_0x175ebb(0x1a6))/0x9)+-parseInt(_0x175ebb(0x193))/0xa*(-parseInt(_0x175ebb(0x17f))/0xb);if(_0x3a1b7c===_0x28e0ea)break;else _0x2d18d7['push'](_0x2d18d7['shift']());}catch(_0x1c6c07){_0x2d18d7['push'](_0x2d18d7['shift']());}}}(a84_0x501f,0x5fe9c));const util=require('util'),PerformanceTester=require('../performance/performance-tester'),{trace,debug,nodeRequest,getBrowserStackConfig,getUserCredentials,getFrameworkVersion}=require('./utils'),{getAgentVersion,nestedKeyValue}=require(a84_0x4a23e8(0x18e)),o11yErrorHandler=(_0x354c9f,_0x431a18='',_0x33cff6=[''],_0x29b136=![])=>{const _0x435dfe={'JusOh':function(_0x25c328,_0x6d2350){return _0x25c328(_0x6d2350);},'nnWba':function(_0x5f2851,_0x1dbc16,_0x3d3704){return _0x5f2851(_0x1dbc16,_0x3d3704);},'uqtjE':function(_0x2f5064,_0x53bcb8){return _0x2f5064 instanceof _0x53bcb8;},'krXRX':function(_0x3858f0,_0x3d97ca,_0x4f00bf,_0x58a8aa,_0x41ea25){return _0x3858f0(_0x3d97ca,_0x4f00bf,_0x58a8aa,_0x41ea25);}};return function(..._0x3b9c51){const _0x357827=a84_0x3811;try{let _0x3f29a6=_0x354c9f;process['env'][_0x357827(0x169)]&&(_0x3f29a6=PerformanceTester[_0x357827(0x16f)]()['timerify'](_0x3f29a6));_0x29b136&&_0x435dfe[_0x357827(0x17b)](trace,_0x357827(0x16c)+_0x431a18+',\x20PID\x20-\x20'+process[_0x357827(0x1ab)]+_0x357827(0x1a7)+_0x435dfe[_0x357827(0x19f)](nestedKeyValue,arguments[0x0],_0x33cff6));const _0xf0a34b=_0x3f29a6['apply'](null,arguments);_0x29b136&&_0x435dfe['JusOh'](trace,'Finished\x20::\x20'+_0x431a18+_0x357827(0x190)+process['pid']+',\x20Argument\x20-\x20'+_0x435dfe['nnWba'](nestedKeyValue,arguments[0x0],_0x33cff6));if(_0x435dfe[_0x357827(0x156)](_0xf0a34b,Promise))return _0xf0a34b[_0x357827(0x17e)](_0x18ee68=>processError(_0x18ee68,_0x354c9f,_0x3b9c51,_0x431a18));return _0xf0a34b;}catch(_0x541d93){_0x435dfe[_0x357827(0x16e)](processError,_0x541d93,_0x354c9f,_0x3b9c51,_0x431a18);}};},o11yClassErrorHandler=(_0x463bbe,_0x165e7a,_0x1afb50='')=>{const _0x134516=a84_0x4a23e8,_0x50e2f2={'gMtQu':function(_0xe7239e,_0x2b2af2){return _0xe7239e instanceof _0x2b2af2;},'OOqwO':function(_0x209839,_0x4d6e0c,_0x598b25,_0xfa540,_0xc62921){return _0x209839(_0x4d6e0c,_0x598b25,_0xfa540,_0xc62921);},'pvkcH':function(_0x409dd3,_0x520e02){return _0x409dd3===_0x520e02;},'NcNzw':_0x134516(0x179),'QaXQI':function(_0x304cba,_0x3ee632){return _0x304cba!==_0x3ee632;},'LgbbN':_0x134516(0x1b3),'WreOJ':function(_0x57bec7,_0x2953ac){return _0x57bec7<_0x2953ac;}},_0x2e502d=_0x463bbe[_0x134516(0x1af)];if(_0x50e2f2[_0x134516(0x197)](Object['getOwnPropertyNames'](_0x2e502d)['length'],0x2))return _0x463bbe;return Object[_0x134516(0x178)](_0x2e502d)[_0x134516(0x152)](_0x44961b=>{const _0x169b93=_0x134516,_0x3f88c6={'jngDh':function(_0x49ae7d,_0x127621){const _0xfd37e2=a84_0x3811;return _0x50e2f2[_0xfd37e2(0x1a9)](_0x49ae7d,_0x127621);},'zoNiM':function(_0x48b908,_0x3fe702,_0x49a9f4,_0x2a4b84,_0x1a8511){const _0x4d8be3=a84_0x3811;return _0x50e2f2[_0x4d8be3(0x18b)](_0x48b908,_0x3fe702,_0x49a9f4,_0x2a4b84,_0x1a8511);}};if(!(_0x165e7a&&_0x165e7a[_0x169b93(0x19d)](_0x44961b)))return;const _0x7fea43=_0x2e502d[_0x44961b];_0x50e2f2[_0x169b93(0x194)](typeof _0x7fea43,_0x50e2f2[_0x169b93(0x150)])&&_0x50e2f2[_0x169b93(0x151)](_0x44961b,_0x50e2f2[_0x169b93(0x14d)])&&Object[_0x169b93(0x1ad)](_0x2e502d,_0x44961b,{'writable':!![],'value':function(..._0x5d44c2){const _0x188144=_0x169b93;try{const _0x46bf90=(process['env'][_0x188144(0x169)]?PerformanceTester[_0x188144(0x16f)]()[_0x188144(0x15b)](_0x7fea43):_0x7fea43)[_0x188144(0x1b5)](this,..._0x5d44c2);if(_0x3f88c6['jngDh'](_0x46bf90,Promise))return _0x46bf90[_0x188144(0x17e)](_0x16e2b5=>processError(_0x16e2b5,_0x7fea43,_0x5d44c2,_0x1afb50));return _0x46bf90;}catch(_0x16467a){_0x3f88c6[_0x188144(0x15d)](processError,_0x16467a,_0x7fea43,_0x5d44c2,_0x1afb50);}}});}),_0x463bbe;};function a84_0x3811(_0x1116e9,_0x1f1cd6){const _0x501feb=a84_0x501f();return a84_0x3811=function(_0x38116a,_0xe5b51a){_0x38116a=_0x38116a-0x14d;let _0x334781=_0x501feb[_0x38116a];return _0x334781;},a84_0x3811(_0x1116e9,_0x1f1cd6);}function a84_0x501f(){const _0x46e49c=['../helper','PoQlj',',\x20PID\x20-\x20','frameworkDetails','parse','20zvAnhj','pvkcH','o11yClassErrorHandler','fwUTp','WreOJ','USER_CONFIG_FOR_REPORTING','key','kmJtM','setAllDetails','credentials','includes','DqWWh','nnWba','application/json','2IyMwSQ','hEuWV','JkRYl','5YXfqDt','getFramework','369ZcLydQ',',\x20Argument\x20-\x20','[Crash_Report_Upload]\x20Failed\x20to\x20parse\x20user\x20credentials\x20while\x20reporting\x20crash','gMtQu','length','pid','depth','defineProperty','[Crash_Report_Upload]\x20Success\x20response:\x20','prototype','Error\x20in\x20executing\x20','POST','setConfigDetails','constructor','xZBPv','call','password','keys','object','Kaaie','then','1923397UlXraY','userConfig','LgbbN','gEXbh','auth','NcNzw','QaXQI','forEach','setCredentials','Error\x20in\x20parsing\x20credentials\x20from\x20env\x20','zpsWo','uqtjE','X-BSTACK-TESTOPS','getCredentials','user','TJWDl','timerify','149528VvMroU','zoNiM','captureError','ZPxLD','frameworkName','filterPII','LoWbP','hlceI','exports','6195WNUbPY','format','username','[Crash_Report_Upload]\x20Failed\x20due\x20to\x20','BROWSERSTACK_O11Y_PERF_MEASUREMENT','setFrameworkDetails','recursivelyDeletePIIKeysFromObject','Started\x20::\x20','1041696WRebSq','krXRX','getPerformance','aCmDR','CREDENTIALS_FOR_CRASH_REPORTING','accessKey','.\x20Args\x20-\x20','2655528Czqtea','toLowerCase','nUPZU','tKnkU','getOwnPropertyNames','function','BROWSERSTACK_O11Y_FRAMEWORK_DETAILS','JusOh','name','qUWoG','catch','9410478bfaOSl','uAnCu','CrashReporter','frameworkVersion','gBHfK','env','getConfig','inspect','stringify','\x20--\x20','toString','Content-Type','OOqwO','1699977BEwajj','stack'];a84_0x501f=function(){return _0x46e49c;};return a84_0x501f();}function processError(_0x1afd53,_0x40b671,_0x5d0f7d,_0x480f9f){const _0x398fcd=a84_0x4a23e8,_0x149e55={'aCmDR':function(_0xc8aaa1,_0x2e116d){return _0xc8aaa1(_0x2e116d);}};_0x149e55[_0x398fcd(0x170)](debug,_0x398fcd(0x1b0)+_0x40b671[_0x398fcd(0x17c)]+_0x398fcd(0x188)+_0x480f9f+'.\x20Error\x20-\x20'+_0x1afd53+_0x398fcd(0x173)+_0x5d0f7d+'.'),PerformanceTester[_0x398fcd(0x15e)](_0x1afd53);let _0x89dbb3;try{_0x89dbb3=JSON[_0x398fcd(0x187)](_0x5d0f7d);}catch(_0x20dbfd){const _0x2ee459={};_0x2ee459[_0x398fcd(0x1ac)]=0x2,_0x89dbb3=util[_0x398fcd(0x186)](_0x5d0f7d,_0x2ee459);}CrashReporter['uploadCrashReport'](_0x398fcd(0x1b0)+_0x40b671[_0x398fcd(0x17c)]+_0x398fcd(0x188)+_0x480f9f+'.\x20Error\x20-\x20'+_0x1afd53+'.\x20Args\x20-\x20'+_0x89dbb3+'.',_0x1afd53&&_0x1afd53[_0x398fcd(0x18d)]);}class CrashReporter{static ['userConfig']={};static ['credentials'];static [a84_0x4a23e8(0x191)]={};static['initialize'](_0x10c2c3,_0x4f60f1,_0x5dc7e4=null){const _0x56f693=a84_0x4a23e8,_0x422427={'LoWbP':function(_0x11cf9a,_0x49f7e8){return _0x11cf9a(_0x49f7e8);}},_0x44526c=_0x10c2c3[_0x56f693(0x160)],_0x593816=_0x10c2c3[_0x56f693(0x182)];!_0x5dc7e4&&(_0x5dc7e4=_0x422427[_0x56f693(0x162)](getBrowserStackConfig,_0x44526c));!_0x593816&&_0x422427['LoWbP'](getFrameworkVersion,_0x44526c);const _0x2c3c58={};_0x2c3c58[_0x56f693(0x160)]=_0x44526c,_0x2c3c58[_0x56f693(0x182)]=_0x593816,this[_0x56f693(0x19b)](_0x2c3c58,_0x4f60f1,_0x422427[_0x56f693(0x162)](getUserCredentials,_0x5dc7e4));}static['setCredentials'](_0x18b0da,_0x428512){const _0x48979e=a84_0x4a23e8,_0x3b91d5={};_0x3b91d5[_0x48979e(0x167)]=_0x18b0da,_0x3b91d5['accessKey']=_0x428512,this[_0x48979e(0x19c)]=_0x3b91d5,process['env']['CREDENTIALS_FOR_CRASH_REPORTING']=JSON[_0x48979e(0x187)](this[_0x48979e(0x19c)]);}static[a84_0x4a23e8(0x158)](){const _0x54f19f=a84_0x4a23e8,_0x4e6d75={'tKnkU':function(_0x508de1,_0x1f14cf){return _0x508de1(_0x1f14cf);}};if(!this[_0x54f19f(0x19c)]&&process['env'][_0x54f19f(0x171)])try{this[_0x54f19f(0x19c)]=JSON['parse'](process['env']['CREDENTIALS_FOR_CRASH_REPORTING']);}catch(_0x280a8d){_0x4e6d75[_0x54f19f(0x177)](debug,_0x54f19f(0x154)+_0x280a8d[_0x54f19f(0x189)]());}return this[_0x54f19f(0x19c)];}static[a84_0x4a23e8(0x1b2)](_0x448a08){const _0x3c508b=a84_0x4a23e8;this[_0x3c508b(0x1bc)]=this[_0x3c508b(0x161)](_0x448a08),process[_0x3c508b(0x184)][_0x3c508b(0x198)]=JSON[_0x3c508b(0x187)](this[_0x3c508b(0x1bc)]);}static[a84_0x4a23e8(0x185)](){const _0x533d05=a84_0x4a23e8,_0x1a1887={'nUPZU':function(_0x1f1dbb,_0x3c1e12){return _0x1f1dbb===_0x3c1e12;},'DqWWh':function(_0x54d21d,_0x2bab7e){return _0x54d21d(_0x2bab7e);}};if(_0x1a1887[_0x533d05(0x176)](Object['keys'](this['userConfig'])[_0x533d05(0x1aa)],0x0)&&process[_0x533d05(0x184)]['USER_CONFIG_FOR_REPORTING'])try{this[_0x533d05(0x1bc)]=JSON[_0x533d05(0x192)](process[_0x533d05(0x184)]['USER_CONFIG_FOR_REPORTING']);}catch(_0x5bd435){_0x1a1887[_0x533d05(0x19e)](debug,'Error\x20in\x20parsing\x20user\x20config\x20from\x20env\x20'+_0x5bd435[_0x533d05(0x189)]()),this[_0x533d05(0x1bc)]={};}return this[_0x533d05(0x1bc)];}static[a84_0x4a23e8(0x16a)](_0x3d5358){const _0x551270=a84_0x4a23e8;this[_0x551270(0x191)]=_0x3d5358,process[_0x551270(0x184)]['BROWSERSTACK_O11Y_FRAMEWORK_DETAILS']=JSON[_0x551270(0x187)](this[_0x551270(0x191)]);}static[a84_0x4a23e8(0x1a5)](){const _0x196713=a84_0x4a23e8,_0x2689a4={'hlceI':function(_0x29266d,_0x17c1da){return _0x29266d===_0x17c1da;},'fwUTp':function(_0x389705,_0x4ff7aa){return _0x389705(_0x4ff7aa);}};if(_0x2689a4[_0x196713(0x163)](Object[_0x196713(0x1b7)](this[_0x196713(0x191)])['length'],0x0)&&process[_0x196713(0x184)][_0x196713(0x17a)])try{this[_0x196713(0x191)]=JSON[_0x196713(0x192)](process['env'][_0x196713(0x17a)]);}catch(_0xff1a44){_0x2689a4[_0x196713(0x196)](debug,'Error\x20in\x20parsing\x20credentials\x20from\x20env\x20'+_0xff1a44[_0x196713(0x189)]());}return this['frameworkDetails'];}static['setAllDetails'](_0x2b9c77,_0x41b940,_0x36a167){const _0x512df6=a84_0x4a23e8;_0x2b9c77&&this['setFrameworkDetails'](_0x2b9c77),_0x41b940&&this[_0x512df6(0x1b2)](_0x41b940),_0x36a167&&this[_0x512df6(0x153)](_0x36a167[_0x512df6(0x167)],_0x36a167[_0x512df6(0x172)]);}static async['uploadCrashReport'](_0x117b28,_0x1d8bdc){const _0x237106=a84_0x4a23e8,_0x13cc5d={'TJWDl':function(_0x1f13d9,_0x170287){return _0x1f13d9(_0x170287);},'swFbB':_0x237106(0x1a8),'ZPxLD':function(_0x3b2150){return _0x3b2150();},'xZBPv':'/api/v1/analytics','kmJtM':_0x237106(0x1a0),'gEXbh':'true','gBHfK':function(_0x475610,_0x97001c,_0x4f9ce7,_0x521777,_0x327bc4,_0x50f747){return _0x475610(_0x97001c,_0x4f9ce7,_0x521777,_0x327bc4,_0x50f747);},'Kaaie':_0x237106(0x1b1)};this[_0x237106(0x158)]();if(!this[_0x237106(0x19c)])return _0x13cc5d[_0x237106(0x15a)](debug,_0x13cc5d['swFbB']);this[_0x237106(0x185)](),this['getFramework']();const _0x5ad857={'hashed_id':process['env']['BS_TESTOPS_BUILD_HASHED_ID'],'observability_version':{'sdkVersion':_0x13cc5d[_0x237106(0x15f)](getAgentVersion),'frameworkName':this[_0x237106(0x191)][_0x237106(0x160)],'frameworkVersion':this[_0x237106(0x191)][_0x237106(0x182)]},'exception':{'error':_0x117b28[_0x237106(0x189)](),'stackTrace':_0x1d8bdc},'config':this[_0x237106(0x1bc)]},_0x58f306=_0x13cc5d[_0x237106(0x1b4)],_0x863f07={};_0x863f07['username']=this[_0x237106(0x19c)]['username'],_0x863f07[_0x237106(0x1b6)]=this[_0x237106(0x19c)][_0x237106(0x172)];const _0xb93f4d={};_0xb93f4d[_0x237106(0x18a)]=_0x13cc5d[_0x237106(0x19a)],_0xb93f4d[_0x237106(0x157)]=_0x13cc5d[_0x237106(0x14e)];const _0x2c2a42={};_0x2c2a42[_0x237106(0x14f)]=_0x863f07,_0x2c2a42['headers']=_0xb93f4d;const _0x18b7a6=_0x2c2a42;_0x13cc5d[_0x237106(0x183)](nodeRequest,_0x13cc5d[_0x237106(0x1b9)],_0x58f306,_0x5ad857,_0x18b7a6,![])[_0x237106(0x1ba)](_0x4e12e5=>{const _0x31d9f6=_0x237106;_0x13cc5d['TJWDl'](debug,_0x31d9f6(0x1ae)+JSON['stringify'](_0x4e12e5));})[_0x237106(0x17e)](_0x4873df=>{const _0x5808b1=_0x237106;_0x13cc5d[_0x5808b1(0x15a)](debug,_0x5808b1(0x168)+util[_0x5808b1(0x166)](_0x4873df));});}static[a84_0x4a23e8(0x16b)](_0x16ef27){const _0x574922=a84_0x4a23e8,_0x2bbecf={};_0x2bbecf[_0x574922(0x17d)]=_0x574922(0x159),_0x2bbecf[_0x574922(0x18f)]=_0x574922(0x167),_0x2bbecf['hEuWV']=_0x574922(0x199),_0x2bbecf[_0x574922(0x180)]=_0x574922(0x172),_0x2bbecf['HvKoM']=_0x574922(0x1b6),_0x2bbecf[_0x574922(0x155)]=function(_0xe9aded,_0xd45ce5){return _0xe9aded===_0xd45ce5;},_0x2bbecf[_0x574922(0x1a3)]=_0x574922(0x1b8);const _0x230b35=_0x2bbecf;if(!_0x16ef27)return;const _0x8fe52d=[_0x230b35[_0x574922(0x17d)],_0x230b35[_0x574922(0x18f)],_0x230b35[_0x574922(0x1a2)],_0x230b35[_0x574922(0x180)],_0x230b35['HvKoM']];for(const _0x3867e4 in _0x16ef27){if(_0x8fe52d[_0x574922(0x19d)](_0x3867e4[_0x574922(0x175)]()))delete _0x16ef27[_0x3867e4];else _0x230b35[_0x574922(0x155)](typeof _0x16ef27[_0x3867e4],_0x230b35[_0x574922(0x1a3)])&&this[_0x574922(0x16b)](_0x16ef27[_0x3867e4]);}}static['filterPII'](_0x2dd9ac){const _0xde0b6f=a84_0x4a23e8,_0x27deaa=JSON[_0xde0b6f(0x192)](JSON['stringify'](_0x2dd9ac));return this[_0xde0b6f(0x16b)](_0x27deaa),_0x27deaa;}}const a84_0x5cfaf2={};a84_0x5cfaf2['o11yErrorHandler']=o11yErrorHandler,a84_0x5cfaf2[a84_0x4a23e8(0x195)]=o11yClassErrorHandler,a84_0x5cfaf2[a84_0x4a23e8(0x181)]=CrashReporter,module[a84_0x4a23e8(0x164)]=a84_0x5cfaf2;