const a126_0x44615c=a126_0x3fd5;function a126_0x3fd5(_0x55add9,_0x47a25d){const _0x2de0e3=a126_0x2de0();return a126_0x3fd5=function(_0x3fd5e3,_0x3cb04b){_0x3fd5e3=_0x3fd5e3-0xe1;let _0x50d6eb=_0x2de0e3[_0x3fd5e3];return _0x50d6eb;},a126_0x3fd5(_0x55add9,_0x47a25d);}(function(_0x573cb0,_0x213c20){const _0x1ce1d4=a126_0x3fd5,_0x25eb0e=_0x573cb0();while(!![]){try{const _0x531790=parseInt(_0x1ce1d4(0x10f))/0x1*(parseInt(_0x1ce1d4(0x112))/0x2)+-parseInt(_0x1ce1d4(0x146))/0x3*(parseInt(_0x1ce1d4(0x150))/0x4)+-parseInt(_0x1ce1d4(0x104))/0x5*(-parseInt(_0x1ce1d4(0x134))/0x6)+parseInt(_0x1ce1d4(0x114))/0x7*(-parseInt(_0x1ce1d4(0x13c))/0x8)+parseInt(_0x1ce1d4(0x119))/0x9*(parseInt(_0x1ce1d4(0xe6))/0xa)+parseInt(_0x1ce1d4(0x14f))/0xb+-parseInt(_0x1ce1d4(0x137))/0xc*(parseInt(_0x1ce1d4(0x130))/0xd);if(_0x531790===_0x213c20)break;else _0x25eb0e['push'](_0x25eb0e['shift']());}catch(_0x262b95){_0x25eb0e['push'](_0x25eb0e['shift']());}}}(a126_0x2de0,0x95719));function a126_0x2de0(){const _0xda894a=[',\x20PID\x20-\x20','getFramework','wfhFg','.\x20Args\x20-\x20','timerify','toString','bmLVB','FWlZf','setFrameworkDetails','331957xmnbGi','.\x20Error\x20-\x20','password','2XhoOav','FudCp','1903349RcaNKG','constructor','jSSKz','dYpry','prototype','7627599qvMLpF','getPerformance',',\x20Argument\x20-\x20','VpxIJ','pid','nrWga','Content-Type','Error\x20in\x20parsing\x20user\x20config\x20from\x20env\x20','getConfig','X-BSTACK-TESTOPS','KeVRJ','USER_CONFIG_FOR_REPORTING','THxTB','CrashReporter','Started\x20::\x20','frameworkName','filterPII','length','frameworkVersion','catch','xlwRO','uploadCrashReport','forEach','1710553IQlfWX','BROWSERSTACK_O11Y_FRAMEWORK_DETAILS','FJgnD','true','6827250RsNARJ','user','CREDENTIALS_FOR_CRASH_REPORTING','168MxSrdZ','apply','OhVQU','POST','application/json','24mhoyav','auth','NLUCR','/api/v1/analytics','includes','EDrvN','\x20--\x20','exports','captureError','toLowerCase','3255mmYKWI','defineProperty','depth','setCredentials','call','stringify','NzmOG','rrYAk','nCPrv','10681858CIHWAu','68qOIlXD','gFqzD','Error\x20in\x20parsing\x20credentials\x20from\x20env\x20','Tjgig','Error\x20in\x20executing\x20','setConfigDetails','userConfig','10iOyWmZ','getCredentials','object','keys','BS_TESTOPS_BUILD_HASHED_ID','then','uvDtr','wMXiT','QtVDW','HVSOv','format','[Crash_Report_Upload]\x20Failed\x20due\x20to\x20','./utils','name','parse','BROWSERSTACK_O11Y_PERF_MEASUREMENT','DAqTe','env','username','accessKey','[Crash_Report_Upload]\x20Failed\x20to\x20parse\x20user\x20credentials\x20while\x20reporting\x20crash','PvEan','o11yClassErrorHandler','frameworkDetails','HROUw','getOwnPropertyNames','util','recursivelyDeletePIIKeysFromObject','initialize','headers','5TLafKc','credentials'];a126_0x2de0=function(){return _0xda894a;};return a126_0x2de0();}const util=require(a126_0x44615c(0x100)),PerformanceTester=require('../performance/performance-tester'),{trace,debug,nodeRequest,getBrowserStackConfig,getUserCredentials,getFrameworkVersion}=require(a126_0x44615c(0xf2)),{getAgentVersion,nestedKeyValue}=require('../helper'),o11yErrorHandler=(_0x28f2a3,_0x4288a0='',_0x56b2ef=[''],_0x84515=![])=>{const _0x47f7eb={'nCPrv':function(_0x4224f5,_0x7e367){return _0x4224f5(_0x7e367);},'EDrvN':function(_0xb72f31,_0x1048de,_0x4c7e3f){return _0xb72f31(_0x1048de,_0x4c7e3f);},'wMXiT':function(_0x5139bf,_0x3396eb){return _0x5139bf instanceof _0x3396eb;},'NLUCR':function(_0x52a775,_0x33c551,_0x52d4be,_0x164ad2,_0x1ef1b5){return _0x52a775(_0x33c551,_0x52d4be,_0x164ad2,_0x1ef1b5);}};return function(..._0x3995cd){const _0x25a45a=a126_0x3fd5;try{let _0x4c4181=_0x28f2a3;process[_0x25a45a(0xf7)][_0x25a45a(0xf5)]&&(_0x4c4181=PerformanceTester[_0x25a45a(0x11a)]()[_0x25a45a(0x10a)](_0x4c4181));_0x84515&&_0x47f7eb['nCPrv'](trace,_0x25a45a(0x127)+_0x4288a0+_0x25a45a(0x106)+process['pid']+_0x25a45a(0x11b)+_0x47f7eb[_0x25a45a(0x141)](nestedKeyValue,arguments[0x0],_0x56b2ef));const _0x220c8a=_0x4c4181[_0x25a45a(0x138)](null,arguments);_0x84515&&_0x47f7eb[_0x25a45a(0x14e)](trace,'Finished\x20::\x20'+_0x4288a0+_0x25a45a(0x106)+process[_0x25a45a(0x11d)]+_0x25a45a(0x11b)+_0x47f7eb['EDrvN'](nestedKeyValue,arguments[0x0],_0x56b2ef));if(_0x47f7eb[_0x25a45a(0xed)](_0x220c8a,Promise))return _0x220c8a['catch'](_0x4ac62f=>processError(_0x4ac62f,_0x28f2a3,_0x3995cd,_0x4288a0));return _0x220c8a;}catch(_0x48a7d3){_0x47f7eb[_0x25a45a(0x13e)](processError,_0x48a7d3,_0x28f2a3,_0x3995cd,_0x4288a0);}};},o11yClassErrorHandler=(_0x1957ee,_0x353983,_0xfdfdbb='')=>{const _0x252780=a126_0x44615c,_0x5bfa51={'wEALD':function(_0x56885f,_0x3e8be6){return _0x56885f instanceof _0x3e8be6;},'KeVRJ':function(_0x2e417a,_0x129971,_0x4eca86,_0x414484,_0xf55b10){return _0x2e417a(_0x129971,_0x4eca86,_0x414484,_0xf55b10);},'bIjur':function(_0x20f2a3,_0x1ddc6c){return _0x20f2a3===_0x1ddc6c;},'OhVQU':'function','VpxIJ':function(_0x50ff9b,_0x92a7a8){return _0x50ff9b!==_0x92a7a8;},'nrWga':_0x252780(0x115),'jSSKz':function(_0x41c4f9,_0x190c62){return _0x41c4f9<_0x190c62;}},_0x11b158=_0x1957ee[_0x252780(0x118)];if(_0x5bfa51[_0x252780(0x116)](Object[_0x252780(0xff)](_0x11b158)[_0x252780(0x12a)],0x2))return _0x1957ee;return Object[_0x252780(0xff)](_0x11b158)[_0x252780(0x12f)](_0x55a565=>{const _0xb5314b=_0x252780;if(!(_0x353983&&_0x353983['includes'](_0x55a565)))return;const _0x1978a8=_0x11b158[_0x55a565];_0x5bfa51['bIjur'](typeof _0x1978a8,_0x5bfa51[_0xb5314b(0x139)])&&_0x5bfa51[_0xb5314b(0x11c)](_0x55a565,_0x5bfa51[_0xb5314b(0x11e)])&&Object[_0xb5314b(0x147)](_0x11b158,_0x55a565,{'writable':!![],'value':function(..._0x108005){const _0x2343db=_0xb5314b;try{const _0x11f772=(process[_0x2343db(0xf7)][_0x2343db(0xf5)]?PerformanceTester['getPerformance']()[_0x2343db(0x10a)](_0x1978a8):_0x1978a8)[_0x2343db(0x14a)](this,..._0x108005);if(_0x5bfa51['wEALD'](_0x11f772,Promise))return _0x11f772[_0x2343db(0x12c)](_0x44293c=>processError(_0x44293c,_0x1978a8,_0x108005,_0xfdfdbb));return _0x11f772;}catch(_0x5c6bfc){_0x5bfa51[_0x2343db(0x123)](processError,_0x5c6bfc,_0x1978a8,_0x108005,_0xfdfdbb);}}});}),_0x1957ee;};function processError(_0x5f09a3,_0x18d4f7,_0x302899,_0x2b6754){const _0x789c45=a126_0x44615c,_0x3633a6={'QtVDW':function(_0x42ded8,_0x1e8b3e){return _0x42ded8(_0x1e8b3e);}};_0x3633a6[_0x789c45(0xee)](debug,_0x789c45(0xe3)+_0x18d4f7[_0x789c45(0xf3)]+'\x20--\x20'+_0x2b6754+_0x789c45(0x110)+util[_0x789c45(0xf0)](_0x5f09a3)+'.\x20Args\x20-\x20'+_0x302899+'.'),PerformanceTester[_0x789c45(0x144)](_0x5f09a3);let _0x167c52;try{_0x167c52=JSON[_0x789c45(0x14b)](_0x302899);}catch(_0x2f1277){const _0x308c28={};_0x308c28[_0x789c45(0x148)]=0x2,_0x167c52=util['inspect'](_0x302899,_0x308c28);}CrashReporter['uploadCrashReport'](_0x789c45(0xe3)+_0x18d4f7['name']+_0x789c45(0x142)+_0x2b6754+_0x789c45(0x110)+_0x5f09a3+_0x789c45(0x109)+_0x167c52+'.',_0x5f09a3&&_0x5f09a3['stack']);}class CrashReporter{static ['userConfig']={};static [a126_0x44615c(0x105)];static [a126_0x44615c(0xfd)]={};static[a126_0x44615c(0x102)](_0xd885ba,_0x1b0c74,_0x1e1c2f=null){const _0x26f56f=a126_0x44615c,_0x4828ea={'HROUw':function(_0x16660d,_0x544c3f){return _0x16660d(_0x544c3f);},'wfhFg':function(_0x514e77,_0x4cf348){return _0x514e77(_0x4cf348);},'uvDtr':function(_0xbcc563,_0x90104e){return _0xbcc563(_0x90104e);}},_0x9102fe=_0xd885ba[_0x26f56f(0x128)],_0x42af02=_0xd885ba[_0x26f56f(0x12b)];!_0x1e1c2f&&(_0x1e1c2f=_0x4828ea[_0x26f56f(0xfe)](getBrowserStackConfig,_0x9102fe));!_0x42af02&&_0x4828ea[_0x26f56f(0x108)](getFrameworkVersion,_0x9102fe);const _0x17d927={};_0x17d927[_0x26f56f(0x128)]=_0x9102fe,_0x17d927[_0x26f56f(0x12b)]=_0x42af02,this['setAllDetails'](_0x17d927,_0x1b0c74,_0x4828ea[_0x26f56f(0xec)](getUserCredentials,_0x1e1c2f));}static[a126_0x44615c(0x149)](_0x96be0c,_0x18da18){const _0x2d3857=a126_0x44615c,_0x4e481a={};_0x4e481a[_0x2d3857(0xf8)]=_0x96be0c,_0x4e481a['accessKey']=_0x18da18,this[_0x2d3857(0x105)]=_0x4e481a,process[_0x2d3857(0xf7)][_0x2d3857(0x136)]=JSON[_0x2d3857(0x14b)](this[_0x2d3857(0x105)]);}static[a126_0x44615c(0xe7)](){const _0xc72301=a126_0x44615c,_0x1227c2={'FKBXa':function(_0x3dec8e,_0x6a991c){return _0x3dec8e(_0x6a991c);}};if(!this['credentials']&&process[_0xc72301(0xf7)][_0xc72301(0x136)])try{this['credentials']=JSON[_0xc72301(0xf4)](process[_0xc72301(0xf7)][_0xc72301(0x136)]);}catch(_0x5c1461){_0x1227c2['FKBXa'](debug,_0xc72301(0xe1)+_0x5c1461[_0xc72301(0x10b)]());}return this['credentials'];}static['setConfigDetails'](_0xdda0ac){const _0xaa222e=a126_0x44615c;this[_0xaa222e(0xe5)]=this['filterPII'](_0xdda0ac),process['env'][_0xaa222e(0x124)]=JSON['stringify'](this['userConfig']);}static['getConfig'](){const _0x47e547=a126_0x44615c,_0x3f816f={'rrYAk':function(_0x186070,_0x5d2772){return _0x186070===_0x5d2772;},'huanz':function(_0x2264bc,_0x34d133){return _0x2264bc(_0x34d133);}};if(_0x3f816f[_0x47e547(0x14d)](Object[_0x47e547(0xe9)](this[_0x47e547(0xe5)])[_0x47e547(0x12a)],0x0)&&process[_0x47e547(0xf7)][_0x47e547(0x124)])try{this[_0x47e547(0xe5)]=JSON['parse'](process[_0x47e547(0xf7)][_0x47e547(0x124)]);}catch(_0x2fe0d5){_0x3f816f['huanz'](debug,_0x47e547(0x120)+_0x2fe0d5[_0x47e547(0x10b)]()),this[_0x47e547(0xe5)]={};}return this[_0x47e547(0xe5)];}static['setFrameworkDetails'](_0x93a09c){const _0x8e67b7=a126_0x44615c;this[_0x8e67b7(0xfd)]=_0x93a09c,process[_0x8e67b7(0xf7)]['BROWSERSTACK_O11Y_FRAMEWORK_DETAILS']=JSON[_0x8e67b7(0x14b)](this['frameworkDetails']);}static['getFramework'](){const _0x496978=a126_0x44615c,_0x27d668={'WQphY':function(_0x5eb9b3,_0x5a9938){return _0x5eb9b3===_0x5a9938;},'RptjN':function(_0x113148,_0x293138){return _0x113148(_0x293138);}};if(_0x27d668['WQphY'](Object[_0x496978(0xe9)](this[_0x496978(0xfd)])[_0x496978(0x12a)],0x0)&&process['env'][_0x496978(0x131)])try{this[_0x496978(0xfd)]=JSON['parse'](process[_0x496978(0xf7)]['BROWSERSTACK_O11Y_FRAMEWORK_DETAILS']);}catch(_0x162cd6){_0x27d668['RptjN'](debug,_0x496978(0xe1)+_0x162cd6['toString']());}return this[_0x496978(0xfd)];}static['setAllDetails'](_0x344402,_0x34f0e7,_0x4f286c){const _0x1075cb=a126_0x44615c;_0x344402&&this[_0x1075cb(0x10e)](_0x344402),_0x34f0e7&&this[_0x1075cb(0xe4)](_0x34f0e7),_0x4f286c&&this[_0x1075cb(0x149)](_0x4f286c[_0x1075cb(0xf8)],_0x4f286c[_0x1075cb(0xf9)]);}static async[a126_0x44615c(0x12e)](_0x57d63e,_0x40aa56){const _0x544c9d=a126_0x44615c,_0x18d8e8={'HVSOv':function(_0x3aa9c6,_0x4f81c3){return _0x3aa9c6(_0x4f81c3);},'FudCp':_0x544c9d(0xfa),'bmLVB':function(_0x5352a5){return _0x5352a5();},'FWlZf':_0x544c9d(0x13f),'Tjgig':_0x544c9d(0x13b),'gFqzD':_0x544c9d(0x133),'DAqTe':function(_0x1823f3,_0x1649b2,_0x2dace1,_0xc0cdb3,_0x426102,_0x5948ed){return _0x1823f3(_0x1649b2,_0x2dace1,_0xc0cdb3,_0x426102,_0x5948ed);},'gWExJ':_0x544c9d(0x13a)};this[_0x544c9d(0xe7)]();if(!this[_0x544c9d(0x105)])return _0x18d8e8[_0x544c9d(0xef)](debug,_0x18d8e8[_0x544c9d(0x113)]);this[_0x544c9d(0x121)](),this[_0x544c9d(0x107)]();const _0x33bfec={'hashed_id':process[_0x544c9d(0xf7)][_0x544c9d(0xea)],'observability_version':{'sdkVersion':_0x18d8e8[_0x544c9d(0x10c)](getAgentVersion),'frameworkName':this[_0x544c9d(0xfd)]['frameworkName'],'frameworkVersion':this[_0x544c9d(0xfd)][_0x544c9d(0x12b)]},'exception':{'error':_0x57d63e['toString'](),'stackTrace':_0x40aa56},'config':this['userConfig']},_0x578c2d=_0x18d8e8[_0x544c9d(0x10d)],_0x168494={};_0x168494['username']=this[_0x544c9d(0x105)][_0x544c9d(0xf8)],_0x168494[_0x544c9d(0x111)]=this[_0x544c9d(0x105)]['accessKey'];const _0x267878={};_0x267878[_0x544c9d(0x11f)]=_0x18d8e8[_0x544c9d(0xe2)],_0x267878[_0x544c9d(0x122)]=_0x18d8e8[_0x544c9d(0x151)];const _0x449236={};_0x449236[_0x544c9d(0x13d)]=_0x168494,_0x449236[_0x544c9d(0x103)]=_0x267878;const _0x2d541d=_0x449236;_0x18d8e8[_0x544c9d(0xf6)](nodeRequest,_0x18d8e8['gWExJ'],_0x578c2d,_0x33bfec,_0x2d541d,![])[_0x544c9d(0xeb)](_0x522bf3=>{const _0x4ef0b4=_0x544c9d;_0x18d8e8[_0x4ef0b4(0xef)](debug,'[Crash_Report_Upload]\x20Success\x20response:\x20'+JSON[_0x4ef0b4(0x14b)](_0x522bf3));})[_0x544c9d(0x12c)](_0xaedc67=>{const _0x28fbda=_0x544c9d;_0x18d8e8[_0x28fbda(0xef)](debug,_0x28fbda(0xf1)+util[_0x28fbda(0xf0)](_0xaedc67));});}static['recursivelyDeletePIIKeysFromObject'](_0x50d520){const _0x2b2605=a126_0x44615c,_0x5441c5={};_0x5441c5['WXwLk']=_0x2b2605(0x135),_0x5441c5['xlwRO']='username',_0x5441c5[_0x2b2605(0x132)]='key',_0x5441c5[_0x2b2605(0x125)]=_0x2b2605(0xf9),_0x5441c5[_0x2b2605(0x14c)]=_0x2b2605(0x111),_0x5441c5[_0x2b2605(0x117)]=function(_0x3bcef9,_0x117166){return _0x3bcef9===_0x117166;},_0x5441c5[_0x2b2605(0xfb)]=_0x2b2605(0xe8);const _0x34f76d=_0x5441c5;if(!_0x50d520)return;const _0x3fefba=[_0x34f76d['WXwLk'],_0x34f76d[_0x2b2605(0x12d)],_0x34f76d[_0x2b2605(0x132)],_0x34f76d[_0x2b2605(0x125)],_0x34f76d[_0x2b2605(0x14c)]];for(const _0x5df579 in _0x50d520){if(_0x3fefba[_0x2b2605(0x140)](_0x5df579[_0x2b2605(0x145)]()))delete _0x50d520[_0x5df579];else _0x34f76d['dYpry'](typeof _0x50d520[_0x5df579],_0x34f76d[_0x2b2605(0xfb)])&&this[_0x2b2605(0x101)](_0x50d520[_0x5df579]);}}static[a126_0x44615c(0x129)](_0x28f809){const _0xf8f172=a126_0x44615c,_0x281c58=JSON[_0xf8f172(0xf4)](JSON['stringify'](_0x28f809));return this[_0xf8f172(0x101)](_0x281c58),_0x281c58;}}const a126_0xbc3f1e={};a126_0xbc3f1e['o11yErrorHandler']=o11yErrorHandler,a126_0xbc3f1e[a126_0x44615c(0xfc)]=o11yClassErrorHandler,a126_0xbc3f1e[a126_0x44615c(0x126)]=CrashReporter,module[a126_0x44615c(0x143)]=a126_0xbc3f1e;