const a99_0x5c2eab=a99_0x4c3e;(function(_0x4872df,_0x1be789){const _0x389b14=a99_0x4c3e,_0x3d630c=_0x4872df();while(!![]){try{const _0x282a6f=parseInt(_0x389b14(0x205))/0x1+-parseInt(_0x389b14(0x1dc))/0x2+parseInt(_0x389b14(0x224))/0x3+-parseInt(_0x389b14(0x1e4))/0x4+parseInt(_0x389b14(0x1ee))/0x5+-parseInt(_0x389b14(0x1de))/0x6+-parseInt(_0x389b14(0x21d))/0x7;if(_0x282a6f===_0x1be789)break;else _0x3d630c['push'](_0x3d630c['shift']());}catch(_0x2d357e){_0x3d630c['push'](_0x3d630c['shift']());}}}(a99_0x509d,0xcf095));const {aiSdkWrapper}=require('./ai-sdk/aiSdkWrapper'),{commandRepository}=require('./ai-sdk/autoHealHelper'),PerformanceTester=require('./performance/performance-tester'),globals=require(a99_0x5c2eab(0x1dd)),logger=require(a99_0x5c2eab(0x1d9))[a99_0x5c2eab(0x22c)],helper=require(a99_0x5c2eab(0x1fa)),constants=require('../bin/utils/constants'),{DRIVER_EVENT:PerformanceDriverEvents}=require(a99_0x5c2eab(0x22a));function a99_0x509d(){const _0x47e50b=['bstack:options','LAQRR','KwiQK','browserstack.local','TEONd','NdcTI','vcTnw','value','2375849NIkcXN','VYpbo','using','parameters_','setTcgTokenStatus','initExecute','QjAtZ','5044503tbixzD','WLpDa','xVKDd','aiHeal:setToken','kHPcs','LiJrd','./performance/constants','LSphn','winstonLogger','aiSdk_defaultLogDataEnabled','oaXnj','getGlobal','getSession','isSelfHealEnabled','uTlqL','skipHealingSuccess','BdeWS','includes','info','VSGJx','IkEAR','measureWrapper','Healing\x20failed\x20for\x20command\x20using\x20','TASKN','local','zMdbs','wDlyp','Error\x20in\x20local\x20nudge\x20for\x20overrideExecute:\x20','murnL',';\x20Trying\x20to\x20heal','YrSFi','setAiSessionTimeStamp','name_','mwOys','xFdaL','sAulo','RtivS','XmYhF','wHbKG','pYElo','gtfVg','nestedKeyValue','overrideExecute','css\x20selector','./logger','yfFJT','xrDuP','1072404xCZAmC','./globals','4225452Wsslwk','capability','find','jbTto','kjWOG','FKhGO','6373080TnXugz','CtXsV','Successfully\x20healed\x20command\x20using\x20new\x20cssPath:\x20','findElement\x20command\x20failed\x20with\x20cssPath:\x20','patchExecute','bNyaM','error','ZCMOM','execute','cXNPG','6663195UkiThH','aiHeal:findElementSuccess','Caught\x20error\x20in\x20execute,\x20check\x20if\x20geturl\x20and\x20try\x20to\x20set\x20local\x20nudge','VebtO','Error\x20in\x20handling\x20TCG\x20Auth:\x20','SnexI','HynHf','AEvpP','name','getNudgeLocalNotSetError','command','oiBIT','./helper','TWYHc','IJdkW','setTcgToken','GmOVn','FaYZM','POST_EXECUTE','mpyFA','rfuYU','mAFxd','xxOgQ','1007002RhMczT','JUdhD','get','InyBN','nNnjh','nxjZI','getTcgTokenStatus','Pyoqv','psWJt','WOBKh','NUDGE_LOCAL_ERRORS','url','mWUbY','JkRYN','XsQQj','getId'];a99_0x509d=function(){return _0x47e50b;};return a99_0x509d();}function a99_0x4c3e(_0x5ab54d,_0x5b1531){const _0x509db0=a99_0x509d();return a99_0x4c3e=function(_0x4c3e74,_0x276ccc){_0x4c3e74=_0x4c3e74-0x1b6;let _0x4090d8=_0x509db0[_0x4c3e74];return _0x4090d8;},a99_0x4c3e(_0x5ab54d,_0x5b1531);}exports[a99_0x5c2eab(0x1d7)]=(_0x91d45d,_0x1cfe2b)=>{const _0x5cd21f=a99_0x5c2eab,_0x411a06={'QjAtZ':'aiHeal_isAuthenticated','AfxvB':_0x5cd21f(0x227),'FKhGO':function(_0x2c5f54){return _0x2c5f54();},'rfuYU':_0x5cd21f(0x1b6),'AEvpP':function(_0xce31c8,_0x28f7e6){return _0xce31c8===_0x28f7e6;},'VebtO':'findElement','KwiQK':'aiHeal_isHealingEnabled','JkRYN':_0x5cd21f(0x1ef),'TEONd':_0x5cd21f(0x1f0),'yfFJT':'NoSuchElementError','mwOys':'JavascriptError','uTlqL':_0x5cd21f(0x1d8),'oaXnj':function(_0x214dc8,_0x35f8e2){return _0x214dc8+_0x35f8e2;},'zMdbs':_0x5cd21f(0x1e7),'CtXsV':_0x5cd21f(0x1ca),'InyBN':function(_0x5e7e54,_0x8a5f9e){return _0x5e7e54+_0x8a5f9e;},'gFWJd':'findElement\x20command\x20failed\x20with\x20','LSphn':'aiHeal:findElementFailure','kjWOG':function(_0x277ca6,_0x29b698){return _0x277ca6&&_0x29b698;},'murnL':function(_0x49ea7f,_0xb718dd){return _0x49ea7f+_0xb718dd;},'oiBIT':_0x5cd21f(0x1e6),'WLpDa':function(_0x556aa4,_0xa0710b){return _0x556aa4+_0xa0710b;},'VSGJx':'Successfully\x20healed\x20command\x20using\x20new\x20','ZCMOM':function(_0x106ac0,_0xce7069){return _0x106ac0+_0xce7069;},'psWJt':'Healing\x20failed\x20for\x20command\x20using\x20cssPath:\x20','VYpbo':function(_0x63497b,_0x4ba4ba){return _0x63497b+_0x4ba4ba;},'HynHf':_0x5cd21f(0x1c3),'XsQQj':function(_0x167a4d,_0x5518cc){return _0x167a4d===_0x5518cc;},'nkDQM':_0x5cd21f(0x207),'gtfVg':_0x5cd21f(0x220),'pYElo':_0x5cd21f(0x210),'gvfqy':_0x5cd21f(0x1c8),'TASKN':_0x5cd21f(0x1df),'wDlyp':_0x5cd21f(0x218),'Pyoqv':_0x5cd21f(0x215),'vcTnw':_0x5cd21f(0x1c5)},_0x381ca3=_0x91d45d[_0x5cd21f(0x1e8)]||(helper[_0x5cd21f(0x1d6)](_0x1cfe2b,[_0x411a06[_0x5cd21f(0x1c4)],_0x411a06[_0x5cd21f(0x1c7)]])||helper[_0x5cd21f(0x1d6)](_0x1cfe2b,[_0x411a06[_0x5cd21f(0x1c4)],_0x411a06[_0x5cd21f(0x20c)],_0x411a06[_0x5cd21f(0x21b)]]));if(!globals['getGlobal'](_0x411a06['QjAtZ'])&&!globals[_0x5cd21f(0x1b8)](_0x411a06[_0x5cd21f(0x217)])&&_0x381ca3)return;_0x91d45d['patchExecute']=!![],_0x91d45d[_0x5cd21f(0x222)]=_0x91d45d[_0x5cd21f(0x1ec)],_0x91d45d[_0x5cd21f(0x1ec)]=async _0x9b73f=>{const _0x42f0fb=_0x5cd21f,_0x547555={'JUdhD':_0x411a06[_0x42f0fb(0x223)],'XmYhF':_0x411a06['AfxvB'],'bNyaM':function(_0x38040a){const _0x52c4be=_0x42f0fb;return _0x411a06[_0x52c4be(0x1e3)](_0x38040a);},'FaYZM':_0x411a06[_0x42f0fb(0x202)],'IJdkW':function(_0x127321,_0x301dc6){const _0x4bbd54=_0x42f0fb;return _0x411a06[_0x4bbd54(0x1f5)](_0x127321,_0x301dc6);},'jbTto':_0x411a06[_0x42f0fb(0x1f1)],'TWYHc':_0x411a06['KwiQK'],'RtivS':_0x411a06[_0x42f0fb(0x212)],'IaJiv':_0x411a06[_0x42f0fb(0x219)],'dEjbD':_0x411a06[_0x42f0fb(0x1da)],'WOBKh':_0x411a06[_0x42f0fb(0x1ce)],'nxjZI':_0x411a06[_0x42f0fb(0x1bb)],'BdeWS':function(_0x249612,_0x1929e4){const _0x32e69f=_0x42f0fb;return _0x411a06[_0x32e69f(0x1b7)](_0x249612,_0x1929e4);},'xVKDd':_0x411a06[_0x42f0fb(0x1c6)],'xxOgQ':_0x411a06[_0x42f0fb(0x1e5)],'SnexI':function(_0x4fa28c,_0x29cfa2){const _0x1370c6=_0x42f0fb;return _0x411a06[_0x1370c6(0x208)](_0x4fa28c,_0x29cfa2);},'YrSFi':_0x411a06['gFWJd'],'ZZcqs':_0x411a06[_0x42f0fb(0x22b)],'nNnjh':function(_0x54d7af){const _0x2ef3e9=_0x42f0fb;return _0x411a06[_0x2ef3e9(0x1e3)](_0x54d7af);},'LAQRR':function(_0x1adbf6,_0x299021){const _0x10feef=_0x42f0fb;return _0x411a06[_0x10feef(0x1e2)](_0x1adbf6,_0x299021);},'MVKGJ':function(_0x480c30,_0x9b220c){return _0x411a06['AEvpP'](_0x480c30,_0x9b220c);},'mAFxd':function(_0x480677,_0x1c64be){const _0x5eb626=_0x42f0fb;return _0x411a06[_0x5eb626(0x1c9)](_0x480677,_0x1c64be);},'IkEAR':_0x411a06[_0x42f0fb(0x1f9)],'wHbKG':function(_0x59ef5e,_0x5378c7){const _0x527817=_0x42f0fb;return _0x411a06[_0x527817(0x225)](_0x59ef5e,_0x5378c7);},'sAulo':_0x411a06[_0x42f0fb(0x1c0)],'mWUbY':function(_0x505de4,_0x267b4a){const _0x43527e=_0x42f0fb;return _0x411a06[_0x43527e(0x1f5)](_0x505de4,_0x267b4a);},'LiJrd':function(_0x343c38,_0x5e574c){const _0xd4780c=_0x42f0fb;return _0x411a06[_0xd4780c(0x1eb)](_0x343c38,_0x5e574c);},'OoWcu':_0x411a06[_0x42f0fb(0x20d)],'xrDuP':function(_0x119b1f,_0xc44d79){const _0x429e58=_0x42f0fb;return _0x411a06[_0x429e58(0x21e)](_0x119b1f,_0xc44d79);},'cXNPG':_0x411a06[_0x42f0fb(0x1f4)],'kHPcs':function(_0x380d66,_0x33a922){const _0x5ad5ec=_0x42f0fb;return _0x411a06[_0x5ad5ec(0x213)](_0x380d66,_0x33a922);},'mpyFA':_0x411a06['nkDQM'],'QlvKQ':_0x411a06[_0x42f0fb(0x1d5)],'xFdaL':_0x411a06[_0x42f0fb(0x1d4)],'GmOVn':_0x411a06['gvfqy']};try{const _0x5a5e5a={};_0x5a5e5a[_0x42f0fb(0x1f8)]=_0x9b73f[_0x42f0fb(0x1cd)],await PerformanceTester[_0x42f0fb(0x1c2)](PerformanceDriverEvents['PRE_EXECUTE'],async()=>{const _0x3c4911=_0x42f0fb,_0x3eabf9={};_0x3eabf9[_0x3c4911(0x21a)]=_0x547555[_0x3c4911(0x206)];const _0x31f099=_0x3eabf9;if(!commandRepository[_0x3c4911(0x20b)]()&&globals['getGlobal'](_0x547555['JUdhD'])){const _0x4b5a37=PerformanceTester[_0x3c4911(0x1c2)](_0x547555[_0x3c4911(0x1d2)],async()=>{const _0x432eb7=_0x3c4911;try{commandRepository[_0x432eb7(0x221)](!![]),await aiSdkWrapper[_0x432eb7(0x1fd)]((await _0x91d45d[_0x432eb7(0x1b9)]())[_0x432eb7(0x214)]());const _0x1c5e1e=globals[_0x432eb7(0x1b8)](_0x31f099[_0x432eb7(0x21a)]);_0x1c5e1e&&commandRepository[_0x432eb7(0x1cc)]((await _0x91d45d[_0x432eb7(0x1b9)]())[_0x432eb7(0x214)]());}catch(_0x12deb2){logger[_0x432eb7(0x1ea)](_0x432eb7(0x1f2)+_0x12deb2);}});await _0x547555[_0x3c4911(0x1e9)](_0x4b5a37);}},_0x5a5e5a)();const _0x39fd90=await _0x91d45d[_0x42f0fb(0x222)](_0x9b73f);return await PerformanceTester[_0x42f0fb(0x1c2)](PerformanceDriverEvents[_0x42f0fb(0x200)],async()=>{const _0x388cbb=_0x42f0fb;if(!helper['isBrowserstackInfra']()&&(commandRepository[_0x388cbb(0x1ba)]()||globals[_0x388cbb(0x1b8)](_0x547555[_0x388cbb(0x1ff)]))&&_0x547555[_0x388cbb(0x1fc)](_0x9b73f['name_'],_0x547555[_0x388cbb(0x1e1)])&&!_0x9b73f[_0x388cbb(0x1bc)]&&globals['getGlobal'](_0x547555[_0x388cbb(0x206)])&&globals[_0x388cbb(0x1b8)](_0x547555[_0x388cbb(0x1fb)])){const _0x210678=new Date(),_0x56862a=PerformanceTester[_0x388cbb(0x1c2)](_0x547555[_0x388cbb(0x1d1)],async()=>{return await aiSdkWrapper['handleSuccess'](_0x1cfe2b,_0x91d45d,_0x9b73f);});await _0x547555[_0x388cbb(0x1e9)](_0x56862a);}},{'command':_0x9b73f[_0x42f0fb(0x1cd)]})(),_0x39fd90;}catch(_0x4ec11e){await PerformanceTester[_0x42f0fb(0x1c2)](PerformanceDriverEvents[_0x42f0fb(0x200)],async()=>{const _0x300ba7=_0x42f0fb;logger['debug'](_0x547555['IaJiv']);try{if(!helper['isBrowserstackInfra']()&&(_0x547555['IJdkW'](_0x4ec11e[_0x300ba7(0x1f6)],_0x547555['dEjbD'])||_0x547555[_0x300ba7(0x1fc)](_0x4ec11e['name'],_0x547555[_0x300ba7(0x20e)]))&&_0x547555[_0x300ba7(0x1fc)](_0x9b73f[_0x300ba7(0x1cd)],_0x547555[_0x300ba7(0x1e1)])&&commandRepository['isSelfHealEnabled']()&&globals[_0x300ba7(0x1b8)](_0x547555[_0x300ba7(0x206)])&&globals[_0x300ba7(0x1b8)](_0x547555[_0x300ba7(0x1fb)])){_0x547555[_0x300ba7(0x1fc)](_0x9b73f[_0x300ba7(0x220)][_0x300ba7(0x21f)],_0x547555['nxjZI'])?logger['info'](_0x547555[_0x300ba7(0x1bd)](_0x547555['BdeWS'](_0x547555[_0x300ba7(0x226)],_0x9b73f['parameters_'][_0x300ba7(0x21c)]),_0x547555[_0x300ba7(0x204)])):logger['info'](_0x547555['BdeWS'](_0x547555[_0x300ba7(0x1f3)](_0x547555[_0x300ba7(0x1f3)](_0x547555['BdeWS'](_0x547555[_0x300ba7(0x1cb)],_0x9b73f[_0x300ba7(0x220)][_0x300ba7(0x21f)]),':\x20'),_0x9b73f[_0x300ba7(0x220)][_0x300ba7(0x21c)]),_0x547555[_0x300ba7(0x204)]));const _0x3a3a15=PerformanceTester[_0x300ba7(0x1c2)](_0x547555['ZZcqs'],async()=>{return await aiSdkWrapper['handleFailure'](_0x1cfe2b,_0x91d45d,_0x9b73f);}),_0x49e107=new Date(),{locatorType:_0x19e7b4,locatorValue:_0x7c55f3,commandHealed:_0x3ac613}=await _0x547555[_0x300ba7(0x209)](_0x3a3a15);if(_0x547555[_0x300ba7(0x216)](_0x19e7b4,_0x7c55f3)){_0x9b73f[_0x300ba7(0x220)][_0x300ba7(0x21f)]=_0x19e7b4,_0x9b73f[_0x300ba7(0x220)][_0x300ba7(0x21c)]=_0x7c55f3,_0x9b73f[_0x300ba7(0x1bc)]=!![];const _0x19a94a=_0x91d45d[_0x300ba7(0x1ec)](_0x9b73f);return _0x547555['MVKGJ'](_0x19e7b4,_0x547555[_0x300ba7(0x20a)])?logger['info'](_0x547555[_0x300ba7(0x203)](_0x547555[_0x300ba7(0x1c1)],_0x7c55f3)):logger[_0x300ba7(0x1bf)](_0x547555['BdeWS'](_0x547555[_0x300ba7(0x1d3)](_0x547555[_0x300ba7(0x1bd)](_0x547555[_0x300ba7(0x1d0)],_0x19e7b4),':\x20'),_0x7c55f3)),_0x19a94a;}else!_0x3ac613&&(_0x547555[_0x300ba7(0x211)](_0x19e7b4,_0x547555[_0x300ba7(0x20a)])?logger[_0x300ba7(0x1bf)](_0x547555[_0x300ba7(0x229)](_0x547555['OoWcu'],_0x9b73f[_0x300ba7(0x220)][_0x300ba7(0x21c)])):logger[_0x300ba7(0x1bf)](_0x547555[_0x300ba7(0x203)](_0x547555[_0x300ba7(0x229)](_0x547555[_0x300ba7(0x1db)](_0x547555[_0x300ba7(0x1ed)],_0x9b73f[_0x300ba7(0x220)]['using']),':\x20'),_0x9b73f[_0x300ba7(0x220)][_0x300ba7(0x21c)])));}!_0x381ca3&&_0x547555[_0x300ba7(0x228)](_0x9b73f['name_'],_0x547555[_0x300ba7(0x201)])&&helper[_0x300ba7(0x1d6)](_0x9b73f,[_0x547555['QlvKQ'],_0x547555[_0x300ba7(0x1cf)]])&&!!constants[_0x300ba7(0x20f)][_0x300ba7(0x1e0)](_0x2947e5=>{const _0xb0be84=_0x300ba7;return _0x4ec11e['toString']()[_0xb0be84(0x1be)](_0x2947e5);})&&helper[_0x300ba7(0x1f7)](_0x9b73f[_0x300ba7(0x220)]['url'],!![]);}catch(_0xc9dbe4){logger['debug'](_0x547555[_0x300ba7(0x1fe)],_0xc9dbe4);}},{'success':![],'failure':_0x4ec11e})();throw _0x4ec11e;}};};