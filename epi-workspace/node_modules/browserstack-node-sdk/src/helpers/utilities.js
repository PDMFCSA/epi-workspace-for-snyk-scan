const a137_0x55a1ab=a137_0x4d63;(function(_0x4ed11c,_0x437cdd){const _0x4c2bf5=a137_0x4d63,_0x394518=_0x4ed11c();while(!![]){try{const _0x385d45=parseInt(_0x4c2bf5(0x162))/0x1+-parseInt(_0x4c2bf5(0x161))/0x2+parseInt(_0x4c2bf5(0x100))/0x3+parseInt(_0x4c2bf5(0x16a))/0x4+parseInt(_0x4c2bf5(0x13a))/0x5+parseInt(_0x4c2bf5(0x122))/0x6*(parseInt(_0x4c2bf5(0x166))/0x7)+-parseInt(_0x4c2bf5(0x118))/0x8;if(_0x385d45===_0x437cdd)break;else _0x394518['push'](_0x394518['shift']());}catch(_0x3dbe6c){_0x394518['push'](_0x394518['shift']());}}}(a137_0x3a41,0xf0f96));function a137_0x4d63(_0x22447c,_0x54efa9){const _0x3a417f=a137_0x3a41();return a137_0x4d63=function(_0x4d63a7,_0x4233ff){_0x4d63a7=_0x4d63a7-0xfd;let _0x1cc9e5=_0x3a417f[_0x4d63a7];return _0x1cc9e5;},a137_0x4d63(_0x22447c,_0x54efa9);}const os=require('os'),util=require(a137_0x55a1ab(0x164)),fs=require('fs'),{getProductMap}=require(a137_0x55a1ab(0x15e)),logger=require(a137_0x55a1ab(0xfe))[a137_0x55a1ab(0x185)],constants=require(a137_0x55a1ab(0x155)),testHubConstants=require(a137_0x55a1ab(0x11f)),{getTransformPath}=require(a137_0x55a1ab(0x15b)),{FUNNEL_INSTRUMENTATION_API_URL}=require('../bin/utils/constants'),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a137_0x55a1ab(0x183)),PerformanceTester=require('./performance/performance-tester'),globals=require(a137_0x55a1ab(0x16b)),helper=require(a137_0x55a1ab(0x183)),{isTestObservabilitySession}=require('./test-observability/utils');let unhandledErrors='';exports['fireFunnelTestEvent']=async(_0x2062fe,_0x329189={},_0x4de981,_0x5cef63)=>{const _0x4d514c=a137_0x55a1ab,_0x42e865={'JKzTX':function(_0xe968a2,_0x7756f5){return _0xe968a2===_0x7756f5;},'nVwMs':'object','jTToB':function(_0x6fd89,_0x596f8e){return _0x6fd89>_0x596f8e;},'arfRm':_0x4d514c(0x145),'Yhfkk':function(_0x197c4d){return _0x197c4d();},'utYrM':function(_0x5e23c9,_0x4fae35){return _0x5e23c9==_0x4fae35;},'NwGiC':_0x4d514c(0x163),'QYzXg':'undefined','igdJZ':function(_0x33141a,_0x3d67ef){return _0x33141a>_0x3d67ef;},'oSxjX':_0x4d514c(0x137),'SfIlk':function(_0x387298,_0xa53a1d){return _0x387298!==_0xa53a1d;},'FaZfl':_0x4d514c(0x12b),'NlkyI':function(_0x16fdda,_0x5ebda2){return _0x16fdda===_0x5ebda2;},'OcjMj':_0x4d514c(0x157),'OHeyg':function(_0x32535f,_0x5bf3b6){return _0x32535f+_0x5bf3b6;},'QpbGR':_0x4d514c(0x159),'czxev':_0x4d514c(0x117),'flSBT':function(_0x53dbd3,_0x2cbae2){return _0x53dbd3(_0x2cbae2);},'WzcYZ':'unknown','CdlOt':_0x4d514c(0x112),'qXgOl':function(_0x2cc747,_0x12e0c6){return _0x2cc747===_0x12e0c6;},'iqWVL':_0x4d514c(0x124),'IOInG':_0x4d514c(0x128),'dqEJB':_0x4d514c(0x106),'dCUfJ':_0x4d514c(0x13f),'LnENv':_0x4d514c(0x152)};let _0x36fceb=[];if(helper[_0x4d514c(0x10f)]()&&_0x42e865['Yhfkk'](isTestObservabilitySession))_0x36fceb=_0x4de981[_0x4d514c(0xff)]?constants[_0x4d514c(0x135)]:constants[_0x4d514c(0x108)];else{if(_0x42e865[_0x4d514c(0xfd)](isTestObservabilitySession))_0x36fceb=constants[_0x4d514c(0x123)];else helper['isBrowserstackInfra']()&&(_0x36fceb=_0x4de981[_0x4d514c(0xff)]?constants[_0x4d514c(0x131)]:constants[_0x4d514c(0x187)]);}let _0x234b73=_0x4de981['buildIdentifier'];if(_0x42e865['utYrM'](_0x234b73,null))_0x234b73=_0x42e865[_0x4d514c(0x180)];else _0x42e865[_0x4d514c(0x12e)](_0x234b73,undefined)&&(_0x234b73=_0x42e865[_0x4d514c(0x17d)]);unhandledErrors&&_0x42e865[_0x4d514c(0x129)](unhandledErrors[_0x4d514c(0x175)],0x0)&&(_0x329189[_0x4d514c(0x12d)]=unhandledErrors);global['sdkRunId']&&(_0x329189['sdkRunId']=global[_0x4d514c(0x15a)]);try{if(_0x329189[_0x4d514c(0x157)]){if(_0x42e865[_0x4d514c(0x12e)](_0x5cef63,_0x42e865['oSxjX'])&&_0x42e865['jTToB'](_0x329189['error'][_0x4d514c(0x175)],0x0)){const _0xce823d={};_0xce823d['os']='',_0xce823d[_0x4d514c(0x116)]='',_0xce823d[_0x4d514c(0x138)]='',_0xce823d[_0x4d514c(0x168)]='';const _0x4b91ca=_0xce823d;let _0x1db0db={};const _0x182965=_0x329189[_0x4d514c(0x157)];_0x1db0db=_0x182965[_0x4d514c(0x119)]((_0x42810c,_0x254663)=>{for(const _0x30741b in _0x254663){_0x42810c[_0x30741b]=_0x254663[_0x30741b];}return _0x42810c;},{});const _0x33f9a2={};_0x33f9a2[_0x4d514c(0x145)]=_0x1db0db,_0x329189[_0x4d514c(0x157)]=[Object[_0x4d514c(0x16d)]({},_0x4b91ca,_0x33f9a2)];}else{let _0x468e49=0x0;const _0x2b2cc2=_0x42e865['SfIlk'](_0x5cef63,_0x42e865[_0x4d514c(0x121)])?JSON[_0x4d514c(0x11b)](_0x329189[_0x4d514c(0x157)]):_0x329189[_0x4d514c(0x157)],_0x537625=Object[_0x4d514c(0x15f)](_0x2b2cc2);_0x537625['forEach'](_0x2eb0f6=>{const _0x242cb5=_0x4d514c;if(_0x42e865[_0x242cb5(0x12e)](typeof _0x2eb0f6,_0x42e865[_0x242cb5(0x151)])){const _0x1202b3=Object[_0x242cb5(0x15f)](_0x2eb0f6);!_0x1202b3[_0x242cb5(0x13d)](_0x40ff8f=>_0x40ff8f===null||_0x40ff8f===undefined||_0x40ff8f==='')&&(_0x468e49+=0x1);}});if(_0x42e865['NlkyI'](_0x468e49,0x0))delete _0x329189[_0x42e865[_0x4d514c(0x10a)]];else{const _0x44a17b=[];Object[_0x4d514c(0x132)](_0x2b2cc2)['forEach'](_0x573ed9=>{const _0x132d1d=_0x4d514c,[_0x137378,_0x287317,_0x3c227c,_0x1302a7]=_0x573ed9[_0x132d1d(0x139)](',\x20');let _0x37c088={};if(!_0x1302a7){const _0x321d6e={};_0x321d6e[_0x132d1d(0x104)]=_0x137378,_0x321d6e[_0x132d1d(0x116)]=_0x287317,_0x321d6e[_0x132d1d(0x138)]=_0x3c227c,_0x37c088=_0x321d6e;}else{const _0x58c511={};_0x58c511['os']=_0x137378,_0x58c511[_0x132d1d(0x116)]=_0x287317,_0x58c511[_0x132d1d(0x138)]=_0x3c227c,_0x58c511['browserVersion']=_0x1302a7,_0x37c088=_0x58c511;}const _0x23d56f={},_0x2017ce=_0x2b2cc2[_0x573ed9];Object['keys'](_0x2017ce)[_0x132d1d(0x178)](_0xc8a33c=>{const _0x2f192a=_0x132d1d;_0x42e865[_0x2f192a(0x165)](_0x2017ce[_0xc8a33c]['length'],0x0)&&(_0x23d56f[_0xc8a33c]=_0x2017ce[_0xc8a33c]);}),_0x42e865['jTToB'](Object[_0x132d1d(0x132)](_0x23d56f)[_0x132d1d(0x175)],0x0)&&(_0x37c088[_0x42e865[_0x132d1d(0x179)]]=_0x23d56f,_0x44a17b['push'](_0x37c088));}),_0x42e865[_0x4d514c(0x129)](_0x44a17b[_0x4d514c(0x175)],0x0)?_0x329189[_0x4d514c(0x157)]=_0x44a17b:delete _0x329189[_0x42e865[_0x4d514c(0x10a)]];}}}}catch(_0x201eab){delete _0x329189[_0x42e865['OcjMj']],logger[_0x4d514c(0x169)](_0x42e865[_0x4d514c(0x120)](_0x42e865[_0x4d514c(0x17b)],_0x201eab));}const _0x356559=helper[_0x4d514c(0x14d)](_0x4de981,_0x4de981['framework']),_0x217019={'userName':helper[_0x4d514c(0x127)](_0x4de981),'accessKey':helper[_0x4d514c(0x140)](_0x4de981),'event_type':_0x2062fe,'detectedFramework':_0x5cef63,'buildHashedId':globals[_0x4d514c(0x181)](_0x42e865[_0x4d514c(0x11a)]),'optimalHubUrl':helper[_0x4d514c(0x153)](),'event_properties':{'testhub_uuid':process[_0x4d514c(0x13c)][testHubConstants['ENV_VAR'][_0x4d514c(0x17e)]]||'','sdkRunId':global[_0x4d514c(0x15a)],'product_map':_0x42e865['flSBT'](getProductMap,_0x4de981),'productMap':_0x42e865[_0x4d514c(0x143)](getProductMap,_0x4de981),'language_framework':_0x4de981[_0x4d514c(0x134)]||_0x42e865['WzcYZ'],'referrer':helper['getNodeAgent'](_0x5cef63),'framework':_0x4de981['framework'],'frameworkVersion':helper[_0x4d514c(0x130)](_0x5cef63),'automationFramework':_0x356559[_0x4d514c(0x17f)],'automationFrameworkVersion':_0x356559[_0x4d514c(0x182)],'language':_0x42e865[_0x4d514c(0x133)],'languageVersion':process[_0x4d514c(0x182)],'product':_0x36fceb,'buildName':_0x4de981[_0x4d514c(0x15c)]||_0x42e865[_0x4d514c(0x17d)],'buildIdentifier':_0x234b73,'os':os[_0x4d514c(0x176)]()||_0x42e865[_0x4d514c(0x141)],'hostname':os[_0x4d514c(0x103)]()||_0x42e865[_0x4d514c(0x141)],..._0x329189}};try{_0x42e865['qXgOl'](_0x2062fe,_0x42e865[_0x4d514c(0x148)])&&(_0x217019['event_properties'][_0x4d514c(0x177)]=helper['sanitizeBrowserStackConfig'](_0x4de981)),_0x42e865['NlkyI'](_0x5cef63,_0x42e865[_0x4d514c(0x121)])?_0x217019[_0x4d514c(0x11e)][_0x4d514c(0x13b)]=helper[_0x4d514c(0x107)][_0x4d514c(0x154)](null,_0x42e865[_0x4d514c(0xfd)](getTransformPath),!![]):_0x217019[_0x4d514c(0x11e)]['seleniumVersion']=helper['getPackageVersion'](_0x42e865[_0x4d514c(0x11c)]);}catch(_0x57dd1){logger['debug'](_0x4d514c(0x14f)+_0x57dd1);}const _0x2ec8f5={};_0x2ec8f5[_0x4d514c(0x174)]=_0x42e865[_0x4d514c(0x12c)];const _0x32cab0={'headers':_0x2ec8f5,'body':_0x217019,'auth':{'user':helper[_0x4d514c(0x127)](_0x4de981),'pass':helper[_0x4d514c(0x140)](_0x4de981)},'json':!![]};logger['debug'](_0x4d514c(0x10d)+JSON['stringify'](_0x32cab0[_0x4d514c(0x126)])[_0x4d514c(0x170)](new RegExp(helper[_0x4d514c(0x127)](_0x4de981),'g'),_0x42e865[_0x4d514c(0x149)])['replace'](new RegExp(helper[_0x4d514c(0x140)](_0x4de981),'g'),_0x42e865['dCUfJ']));try{const _0x1961e3=await helper[_0x4d514c(0x14e)](_0x42e865[_0x4d514c(0x15d)],FUNNEL_INSTRUMENTATION_API_URL,_0x32cab0,_0x4de981);logger[_0x4d514c(0x169)](_0x4d514c(0x110)+_0x2062fe+_0x4d514c(0x10c)+util[_0x4d514c(0x12a)]('%j',_0x1961e3));}catch(_0x2c97c7){logger[_0x4d514c(0x169)](_0x4d514c(0x109)+FUNNEL_INSTRUMENTATION_API_URL+'\x20:\x20'+util[_0x4d514c(0x12a)](_0x2c97c7));}},exports[a137_0x55a1ab(0x173)]=async _0x219b70=>{const _0x5c9615=a137_0x55a1ab,_0x38bbe2={'TtExC':function(_0x24c7a9){return _0x24c7a9();},'cQfqa':_0x5c9615(0x12f),'fuKwC':'user_killed','ilPpR':'SDKTestSuccessful','EbNbv':function(_0x94dad6,_0x36c75e,_0x1f7c5a){return _0x94dad6(_0x36c75e,_0x1f7c5a);},'tBvEy':function(_0xe542d9,_0x97f5f){return _0xe542d9+_0x97f5f;},'WcKqF':_0x5c9615(0x17a)};try{await _0x219b70[_0x5c9615(0x156)](),_0x38bbe2[_0x5c9615(0x14b)](printNudgeLocalNotSetError);const _0x5c9e90={};_0x5c9e90[_0x5c9615(0x157)]=_0x219b70[_0x5c9615(0x16c)]?_0x219b70['errorMessage']:'{}';const _0x3017e0=_0x5c9e90,_0x42cf47=Object[_0x5c9615(0x16d)]({},_0x3017e0);!!_0x219b70[_0x5c9615(0x10b)]&&(_0x42cf47[_0x38bbe2[_0x5c9615(0x144)]]={'reason':_0x38bbe2['fuKwC'],'signal':_0x219b70[_0x5c9615(0x10b)]});unhandledErrors=_0x219b70[_0x5c9615(0x102)][_0x5c9615(0x160)]('\x0a');let _0xa3e34e,_0x757bea,_0x23cc40;helper[_0x5c9615(0x11d)](_0x219b70[_0x5c9615(0x14c)])?([_0xa3e34e,_0x757bea]=await helper[_0x5c9615(0x147)](_0x219b70[_0x5c9615(0x14c)]),[_0x23cc40]=await Promise['all']([helper[_0x5c9615(0x125)](_0xa3e34e,_0x219b70['config']),exports['fireFunnelTestEvent'](_0x38bbe2[_0x5c9615(0x16f)],_0x42cf47,_0x219b70[_0x5c9615(0x14c)],_0x219b70['framework'])])):([_0xa3e34e,_0x757bea]=await helper[_0x5c9615(0x188)](_0x219b70['config']),[_0x23cc40]=await Promise['all']([helper[_0x5c9615(0x158)](_0xa3e34e,_0x219b70[_0x5c9615(0x14c)]),exports[_0x5c9615(0x111)](_0x38bbe2[_0x5c9615(0x16f)],_0x42cf47,_0x219b70[_0x5c9615(0x14c)],_0x219b70[_0x5c9615(0x17c)])])),_0x23cc40&&await _0x38bbe2[_0x5c9615(0x14a)](generateCIArtifacts,_0x23cc40,_0x757bea),logger['info'](_0x5c9615(0x167)+_0x219b70[_0x5c9615(0x15a)]+_0x5c9615(0x136)+process[_0x5c9615(0x13c)][_0x5c9615(0x17e)]),await helper[_0x5c9615(0x113)](_0x219b70[_0x5c9615(0x14c)]);}catch(_0x3aeb03){logger['debug'](_0x38bbe2['tBvEy'](_0x38bbe2[_0x5c9615(0x13e)],_0x3aeb03));}helper['notifyUpdate']();},exports['getStackTraceAsString']=_0x51f1c6=>{const _0x1797bc=a137_0x55a1ab,_0x4b6b23={'ucaTy':function(_0x441372,_0x2561d8){return _0x441372 instanceof _0x2561d8;},'KXNjW':function(_0x5d05f5,_0x2b7918){return _0x5d05f5(_0x2b7918);}};try{if(_0x4b6b23[_0x1797bc(0x189)](_0x51f1c6,Error))return _0x51f1c6[_0x1797bc(0x105)]||_0x51f1c6[_0x1797bc(0x142)]();return _0x4b6b23['KXNjW'](String,_0x51f1c6);}catch(_0x518d3b){return _0x51f1c6?_0x51f1c6[_0x1797bc(0x142)]():'';}},exports[a137_0x55a1ab(0x184)]=_0x15fddc=>{const _0x490e62=a137_0x55a1ab,_0x14e4cc={};_0x14e4cc['gUrwp']=function(_0x1a153,_0x19bba0){return _0x1a153===_0x19bba0;};const _0x50c12c=_0x14e4cc;return!_0x15fddc||_0x50c12c['gUrwp'](_0x15fddc[_0x490e62(0x146)](),'');},exports[a137_0x55a1ab(0x115)]=_0x8c6620=>{const _0x354ca8=a137_0x55a1ab,_0x223fb5={};_0x223fb5['mvTqY']=function(_0x7d7ceb,_0x9113ee){return _0x7d7ceb|_0x9113ee;};const _0xe0dbfb=_0x223fb5;try{return fs['accessSync'](_0x8c6620,_0xe0dbfb[_0x354ca8(0x186)](fs[_0x354ca8(0x16e)][_0x354ca8(0x101)],fs[_0x354ca8(0x16e)][_0x354ca8(0x150)])),!![];}catch(_0x16e66d){return![];}},exports[a137_0x55a1ab(0x10e)]=_0x55081f=>{const _0x4cc521=a137_0x55a1ab;try{fs[_0x4cc521(0x114)](_0x55081f,0x1ff),logger['debug']('Directory\x20'+_0x55081f+_0x4cc521(0x171));}catch(_0x240bda){logger[_0x4cc521(0x157)]('Failed\x20to\x20set\x20directory\x20access:\x20'+exports[_0x4cc521(0x172)](_0x240bda));}};function a137_0x3a41(){const _0x12858=['WzcYZ','toString','flSBT','cQfqa','tests','trim','getTurboScaleBuildLink','iqWVL','dCUfJ','EbNbv','TtExC','config','getTestFrameworkDetails','nodeRequest','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','X_OK','nVwMs','POST','getOptimalHubUrl','apply','../bin/utils/constants','stopPercy','error','getSessionsList','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','sdkRunId','../bin/playwright/reporter/pwUtils','buildName','LnENv','./testhub/utils','values','join','3579964DlEIgo','1897768WNtGeA','null','util','jTToB','22169vSBdbv','SDK\x20run\x20ended\x20for\x20id:\x20','browserVersion','debug','5907180lUVKjk','./globals','errorMessage','assign','constants','ilPpR','replace','\x20has\x20now\x20read/write/execute\x20permissions.','getStackTraceAsString','finalExecution','content-type','length','type','browserStackConfig','forEach','arfRm','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','QpbGR','framework','QYzXg','BROWSERSTACK_TESTHUB_UUID','name','NwGiC','getGlobal','version','./helper','isNullOrEmpty','winstonLogger','mvTqY','AUTOMATE','getBuildLink','ucaTy','Yhfkk','./logger','app','3926640FPWjLn','W_OK','unhandledErrors','hostname','deviceName','stack','application/json','requirePWModule','AUTOMATE_PRODUCTS','Error\x20in\x20firing\x20request\x20to\x20','OcjMj','killSignal','\x20response\x20-\x20','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','setReadWriteExecuteAccess','isBrowserstackInfra','API\x20Event\x20','fireFunnelTestEvent','nodejs','sendLogs','chmodSync','isModifiable','osVersion','_buildHashedId','37102048BkJKpI','reduce','czxev','parse','IOInG','isTurboScaleSession','event_properties','../helpers/testhub/constants','OHeyg','FaZfl','2064fHKesc','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','SDKTestSuccessful','getTurboScaleSessionsList','body','getUserName','selenium-webdriver','igdJZ','format','Playwright','dqEJB','globalException','JKzTX','finishedMetadata','getFrameworkVersion','APP_AUTOMATE','keys','CdlOt','source','APP_AUTOMATE_PRODUCTS',',\x20testhub\x20id:\x20','codeceptjs','browser','split','8209385dEffDi','playwrightVersion','env','every','WcKqF','[REDACTED]','getAccessKey'];a137_0x3a41=function(){return _0x12858;};return a137_0x3a41();}