const a142_0x1de0e7=a142_0x568d;(function(_0x3b5370,_0x578f20){const _0x13c4fc=a142_0x568d,_0x1e4702=_0x3b5370();while(!![]){try{const _0x44d203=parseInt(_0x13c4fc(0x12b))/0x1*(parseInt(_0x13c4fc(0x11c))/0x2)+parseInt(_0x13c4fc(0xfd))/0x3+parseInt(_0x13c4fc(0x15d))/0x4*(parseInt(_0x13c4fc(0x167))/0x5)+parseInt(_0x13c4fc(0x157))/0x6*(-parseInt(_0x13c4fc(0x172))/0x7)+-parseInt(_0x13c4fc(0x14c))/0x8*(-parseInt(_0x13c4fc(0x163))/0x9)+parseInt(_0x13c4fc(0xf8))/0xa*(parseInt(_0x13c4fc(0xef))/0xb)+-parseInt(_0x13c4fc(0x15c))/0xc;if(_0x44d203===_0x578f20)break;else _0x1e4702['push'](_0x1e4702['shift']());}catch(_0x36accc){_0x1e4702['push'](_0x1e4702['shift']());}}}(a142_0x25ca,0x33711));function a142_0x568d(_0xdbc9ff,_0x288fde){const _0x25ca20=a142_0x25ca();return a142_0x568d=function(_0x568d1e,_0x1148d8){_0x568d1e=_0x568d1e-0xde;let _0x37fb3c=_0x25ca20[_0x568d1e];return _0x37fb3c;},a142_0x568d(_0xdbc9ff,_0x288fde);}const os=require('os'),util=require('util'),fs=require('fs'),{getProductMap}=require(a142_0x1de0e7(0x173)),logger=require(a142_0x1de0e7(0xf9))[a142_0x1de0e7(0x13d)],constants=require(a142_0x1de0e7(0x13f)),testHubConstants=require(a142_0x1de0e7(0x12a)),{getTransformPath}=require('../bin/playwright/reporter/pwUtils'),{FUNNEL_INSTRUMENTATION_API_URL}=require('../bin/utils/constants'),{generateCIArtifacts,printNudgeLocalNotSetError}=require('./helper'),PerformanceTester=require(a142_0x1de0e7(0x143)),globals=require(a142_0x1de0e7(0x153)),helper=require(a142_0x1de0e7(0x133)),{isTestObservabilitySession}=require('./test-observability/utils');function a142_0x25ca(){const _0x2ac4ff=['getUserName','browserVersion','Failed\x20to\x20set\x20directory\x20access:\x20','stack','chmodSync','POST','Buuvr','stopPercy','object','SfRmg','121jlYSgz','IVGVl','ycDAz','SDK\x20run\x20ended\x20for\x20id:\x20','join','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','killSignal','constants','deviceName','194770fBWIlH','./logger','hXFQd','push','application/json','305643tgUfZF','playwrightVersion','toString','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','Juerz','getStackTraceAsString','name','OXhKD','pjCoY','pZICc','browser','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','all','sendLogs','nodejs','sanitizeBrowserStackConfig','W_OK','requirePWModule','fireFunnelTestEvent','APP_AUTOMATE_PRODUCTS','Error\x20in\x20firing\x20request\x20to\x20','length','SSsBw','split','setReadWriteExecuteAccess','isTurboScaleSession','event_properties','format','WvSUU','values','stringify','12982OjLCLa','iufve','framework','PStVc','Playwright','SDKTestSuccessful','mowOj','lbDQB','forEach','JRMyf','PVwSj','dnkVx','type','browserStackConfig','../helpers/testhub/constants','55qemBep','keys','NQzFu','hostname','BROWSERSTACK_TESTHUB_UUID','getSessionsList','AUTOMATE','ENV_VAR','./helper','buildIdentifier','user_killed','seleniumVersion','unknown','undefined','SyyjI','dMZnI','debug','getNodeAgent','winstonLogger','env','../bin/utils/constants','info','globalException','getFrameworkVersion','./performance/performance-tester','getTurboScaleBuildLink','getTurboScaleSessionsList','isNullOrEmpty','\x20has\x20now\x20read/write/execute\x20permissions.','error','errorMessage','body','APP_AUTOMATE','16VFMjPC','finalExecution','getGlobal','jjyhR','source','wcAlJ','selenium-webdriver','./globals','mHETS','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','replace','6LZPbCq','\x20response\x20-\x20','zZATH','getAccessKey','\x20:\x20','8392632GaFDzk','92908YNavxv','nodeRequest','_buildHashedId','QPaCX','config','unhandledErrors','851895ktsuUy','FwMTh','API\x20Event\x20','app','75eAcBpy','buildName','accessSync','null','LshPu','parse','tests','reduce','getPackageVersion','gTRYb','osVersion','2105299uugRdU','./testhub/utils','Dezcv',',\x20testhub\x20id:\x20','getOptimalHubUrl','getTestFrameworkDetails','sdkRunId','codeceptjs','assign','version','WHDrM','JwNkZ','isBrowserstackInfra'];a142_0x25ca=function(){return _0x2ac4ff;};return a142_0x25ca();}let unhandledErrors='';exports['fireFunnelTestEvent']=async(_0x44bed5,_0x8ea4de={},_0x277a05,_0x12185f)=>{const _0xfc8225=a142_0x1de0e7,_0x49d156={'lbDQB':function(_0x5507f4,_0x9adc01){return _0x5507f4===_0x9adc01;},'QPaCX':_0xfc8225(0xed),'dMZnI':function(_0x48411e,_0x9bb6eb){return _0x48411e>_0x9bb6eb;},'mHETS':_0xfc8225(0x16d),'jjyhR':function(_0x44969a){return _0x44969a();},'vqSrl':function(_0x2af607,_0x4f2e6f){return _0x2af607==_0x4f2e6f;},'IVGVl':_0xfc8225(0x16a),'SSsBw':_0xfc8225(0x138),'pZICc':function(_0x5ed48d,_0x4a415d){return _0x5ed48d===_0x4a415d;},'SfRmg':_0xfc8225(0xdf),'gTRYb':function(_0x5dd14d,_0x4374b4){return _0x5dd14d>_0x4374b4;},'pjCoY':function(_0x4b3322,_0x1419aa){return _0x4b3322!==_0x1419aa;},'dnkVx':_0xfc8225(0x120),'JwNkZ':function(_0x3c8a83,_0x2b8d1b){return _0x3c8a83===_0x2b8d1b;},'mowOj':_0xfc8225(0x148),'ycDAz':function(_0x11fafb,_0x3c7bfc){return _0x11fafb+_0x3c7bfc;},'PStVc':_0xfc8225(0x108),'PVwSj':_0xfc8225(0x15f),'iufve':function(_0x4934e9,_0x125c02){return _0x4934e9(_0x125c02);},'LshPu':_0xfc8225(0x137),'hXFQd':_0xfc8225(0x10b),'WHDrM':_0xfc8225(0x121),'wiOfW':function(_0x1700ba,_0x46b5c8){return _0x1700ba===_0x46b5c8;},'Juerz':function(_0xf96368){return _0xf96368();},'MnFRf':_0xfc8225(0x152),'eOYiq':_0xfc8225(0xfc),'OXhKD':'[REDACTED]','FwVAw':_0xfc8225(0xea)};let _0x3f7f57=[];if(helper[_0xfc8225(0xe4)]()&&_0x49d156[_0xfc8225(0x14f)](isTestObservabilitySession))_0x3f7f57=_0x277a05[_0xfc8225(0x166)]?constants[_0xfc8225(0x110)]:constants['AUTOMATE_PRODUCTS'];else{if(_0x49d156[_0xfc8225(0x14f)](isTestObservabilitySession))_0x3f7f57=constants['PRODUCT_IF_NOT_BROWSERSTACK_INFRA'];else helper[_0xfc8225(0xe4)]()&&(_0x3f7f57=_0x277a05[_0xfc8225(0x166)]?constants[_0xfc8225(0x14b)]:constants[_0xfc8225(0x131)]);}let _0x5ed046=_0x277a05[_0xfc8225(0x134)];if(_0x49d156['vqSrl'](_0x5ed046,null))_0x5ed046=_0x49d156[_0xfc8225(0xf0)];else _0x49d156['lbDQB'](_0x5ed046,undefined)&&(_0x5ed046=_0x49d156[_0xfc8225(0x113)]);unhandledErrors&&_0x49d156[_0xfc8225(0x13a)](unhandledErrors['length'],0x0)&&(_0x8ea4de[_0xfc8225(0x141)]=unhandledErrors);global[_0xfc8225(0xde)]&&(_0x8ea4de[_0xfc8225(0xde)]=global[_0xfc8225(0xde)]);try{if(_0x8ea4de['error']){if(_0x49d156[_0xfc8225(0x106)](_0x12185f,_0x49d156[_0xfc8225(0xee)])&&_0x49d156[_0xfc8225(0x170)](_0x8ea4de[_0xfc8225(0x148)][_0xfc8225(0x112)],0x0)){const _0x191d15={};_0x191d15['os']='',_0x191d15[_0xfc8225(0x171)]='',_0x191d15[_0xfc8225(0x107)]='',_0x191d15[_0xfc8225(0xe6)]='';const _0x254f1e=_0x191d15;let _0x4bc4b2={};const _0x107d32=_0x8ea4de[_0xfc8225(0x148)];_0x4bc4b2=_0x107d32[_0xfc8225(0x16e)]((_0x7aa366,_0x33703d)=>{for(const _0x1c5815 in _0x33703d){_0x7aa366[_0x1c5815]=_0x33703d[_0x1c5815];}return _0x7aa366;},{});const _0x157232={};_0x157232[_0xfc8225(0x16d)]=_0x4bc4b2,_0x8ea4de[_0xfc8225(0x148)]=[Object[_0xfc8225(0xe0)]({},_0x254f1e,_0x157232)];}else{let _0x4314b0=0x0;const _0x47e7c5=_0x49d156[_0xfc8225(0x105)](_0x12185f,_0x49d156[_0xfc8225(0x127)])?JSON[_0xfc8225(0x16c)](_0x8ea4de[_0xfc8225(0x148)]):_0x8ea4de[_0xfc8225(0x148)],_0x1d002c=Object[_0xfc8225(0x11a)](_0x47e7c5);_0x1d002c['forEach'](_0x1823d7=>{const _0x1172de=_0xfc8225;if(_0x49d156[_0x1172de(0x123)](typeof _0x1823d7,_0x49d156[_0x1172de(0x160)])){const _0x262862=Object[_0x1172de(0x11a)](_0x1823d7);!_0x262862['every'](_0xe36255=>_0xe36255===null||_0xe36255===undefined||_0xe36255==='')&&(_0x4314b0+=0x1);}});if(_0x49d156[_0xfc8225(0xe3)](_0x4314b0,0x0))delete _0x8ea4de[_0x49d156['mowOj']];else{const _0x1a7e90=[];Object[_0xfc8225(0x12c)](_0x47e7c5)['forEach'](_0x4e32c6=>{const _0x43ac4f=_0xfc8225,_0x3eea63={'tMkYa':function(_0x4b535b,_0x4442cb){const _0x25769e=a142_0x568d;return _0x49d156[_0x25769e(0x13a)](_0x4b535b,_0x4442cb);}},[_0x278d6e,_0xbef869,_0x4a6b96,_0x1b4970]=_0x4e32c6[_0x43ac4f(0x114)](',\x20');let _0x22b4b0={};if(!_0x1b4970){const _0x1e1432={};_0x1e1432[_0x43ac4f(0xf7)]=_0x278d6e,_0x1e1432[_0x43ac4f(0x171)]=_0xbef869,_0x1e1432[_0x43ac4f(0x107)]=_0x4a6b96,_0x22b4b0=_0x1e1432;}else{const _0x2374f9={};_0x2374f9['os']=_0x278d6e,_0x2374f9[_0x43ac4f(0x171)]=_0xbef869,_0x2374f9[_0x43ac4f(0x107)]=_0x4a6b96,_0x2374f9['browserVersion']=_0x1b4970,_0x22b4b0=_0x2374f9;}const _0x5a0a11={},_0x3c9011=_0x47e7c5[_0x4e32c6];Object[_0x43ac4f(0x12c)](_0x3c9011)[_0x43ac4f(0x124)](_0x48aa43=>{const _0x5989be=_0x43ac4f;_0x3eea63['tMkYa'](_0x3c9011[_0x48aa43][_0x5989be(0x112)],0x0)&&(_0x5a0a11[_0x48aa43]=_0x3c9011[_0x48aa43]);}),_0x49d156[_0x43ac4f(0x13a)](Object[_0x43ac4f(0x12c)](_0x5a0a11)[_0x43ac4f(0x112)],0x0)&&(_0x22b4b0[_0x49d156[_0x43ac4f(0x154)]]=_0x5a0a11,_0x1a7e90[_0x43ac4f(0xfb)](_0x22b4b0));}),_0x49d156[_0xfc8225(0x13a)](_0x1a7e90[_0xfc8225(0x112)],0x0)?_0x8ea4de[_0xfc8225(0x148)]=_0x1a7e90:delete _0x8ea4de[_0x49d156[_0xfc8225(0x122)]];}}}}catch(_0x3a5f7f){delete _0x8ea4de[_0x49d156[_0xfc8225(0x122)]],logger[_0xfc8225(0x13b)](_0x49d156[_0xfc8225(0xf1)](_0x49d156[_0xfc8225(0x11f)],_0x3a5f7f));}const _0x6990e9=helper[_0xfc8225(0x177)](_0x277a05,_0x277a05[_0xfc8225(0x11e)]),_0x42290f={'userName':helper[_0xfc8225(0xe5)](_0x277a05),'accessKey':helper[_0xfc8225(0x15a)](_0x277a05),'event_type':_0x44bed5,'detectedFramework':_0x12185f,'buildHashedId':globals[_0xfc8225(0x14e)](_0x49d156[_0xfc8225(0x126)]),'optimalHubUrl':helper[_0xfc8225(0x176)](),'event_properties':{'testhub_uuid':process[_0xfc8225(0x13e)][testHubConstants[_0xfc8225(0x132)][_0xfc8225(0x12f)]]||'','sdkRunId':global[_0xfc8225(0xde)],'product_map':_0x49d156[_0xfc8225(0x11d)](getProductMap,_0x277a05),'productMap':_0x49d156[_0xfc8225(0x11d)](getProductMap,_0x277a05),'language_framework':_0x277a05[_0xfc8225(0x150)]||_0x49d156[_0xfc8225(0x16b)],'referrer':helper[_0xfc8225(0x13c)](_0x12185f),'framework':_0x277a05[_0xfc8225(0x11e)],'frameworkVersion':helper[_0xfc8225(0x142)](_0x12185f),'automationFramework':_0x6990e9[_0xfc8225(0x103)],'automationFrameworkVersion':_0x6990e9['version'],'language':_0x49d156[_0xfc8225(0xfa)],'languageVersion':process[_0xfc8225(0xe1)],'product':_0x3f7f57,'buildName':_0x277a05[_0xfc8225(0x168)]||_0x49d156['SSsBw'],'buildIdentifier':_0x5ed046,'os':os[_0xfc8225(0x128)]()||_0x49d156['LshPu'],'hostname':os[_0xfc8225(0x12e)]()||_0x49d156['LshPu'],..._0x8ea4de}};try{_0x49d156[_0xfc8225(0xe3)](_0x44bed5,_0x49d156[_0xfc8225(0xe2)])&&(_0x42290f[_0xfc8225(0x117)][_0xfc8225(0x129)]=helper[_0xfc8225(0x10c)](_0x277a05)),_0x49d156['wiOfW'](_0x12185f,_0x49d156['dnkVx'])?_0x42290f[_0xfc8225(0x117)][_0xfc8225(0xfe)]=helper[_0xfc8225(0x10e)]['apply'](null,_0x49d156[_0xfc8225(0x101)](getTransformPath),!![]):_0x42290f[_0xfc8225(0x117)][_0xfc8225(0x136)]=helper[_0xfc8225(0x16f)](_0x49d156['MnFRf']);}catch(_0x33f828){logger[_0xfc8225(0x13b)](_0xfc8225(0x100)+_0x33f828);}const _0x2c6283={};_0x2c6283['content-type']=_0x49d156['eOYiq'];const _0x7c121c={'headers':_0x2c6283,'body':_0x42290f,'auth':{'user':helper[_0xfc8225(0xe5)](_0x277a05),'pass':helper['getAccessKey'](_0x277a05)},'json':!![]};logger[_0xfc8225(0x13b)](_0xfc8225(0xf4)+JSON[_0xfc8225(0x11b)](_0x7c121c[_0xfc8225(0x14a)])['replace'](new RegExp(helper[_0xfc8225(0xe5)](_0x277a05),'g'),_0x49d156['OXhKD'])[_0xfc8225(0x156)](new RegExp(helper['getAccessKey'](_0x277a05),'g'),_0x49d156[_0xfc8225(0x104)]));try{const _0x47a0a4=await helper[_0xfc8225(0x15e)](_0x49d156['FwVAw'],FUNNEL_INSTRUMENTATION_API_URL,_0x7c121c,_0x277a05);logger[_0xfc8225(0x13b)](_0xfc8225(0x165)+_0x44bed5+_0xfc8225(0x158)+util['format']('%j',_0x47a0a4));}catch(_0x420e0a){logger[_0xfc8225(0x13b)](_0xfc8225(0x111)+FUNNEL_INSTRUMENTATION_API_URL+_0xfc8225(0x15b)+util[_0xfc8225(0x118)](_0x420e0a));}},exports[a142_0x1de0e7(0x14d)]=async _0x330bbf=>{const _0x576e33=a142_0x1de0e7,_0x460b36={'JRMyf':function(_0x2b0af0){return _0x2b0af0();},'NQzFu':'finishedMetadata','FwMTh':_0x576e33(0x135),'WvSUU':_0x576e33(0x121),'wcAlJ':function(_0x1f4ebf,_0x4c7bf6,_0x4c5c37){return _0x1f4ebf(_0x4c7bf6,_0x4c5c37);},'Buuvr':function(_0x43b92a,_0x118220){return _0x43b92a+_0x118220;},'SyyjI':_0x576e33(0x155)};try{await _0x330bbf[_0x576e33(0xec)](),_0x460b36[_0x576e33(0x125)](printNudgeLocalNotSetError);const _0x2568f9={};_0x2568f9[_0x576e33(0x148)]=_0x330bbf['errorMessage']?_0x330bbf[_0x576e33(0x149)]:'{}';const _0x5389ee=_0x2568f9,_0x334dbc=Object['assign']({},_0x5389ee);!!_0x330bbf[_0x576e33(0xf5)]&&(_0x334dbc[_0x460b36[_0x576e33(0x12d)]]={'reason':_0x460b36[_0x576e33(0x164)],'signal':_0x330bbf[_0x576e33(0xf5)]});unhandledErrors=_0x330bbf[_0x576e33(0x162)][_0x576e33(0xf3)]('\x0a');let _0x1349dc,_0x320f23,_0x18f78a;helper[_0x576e33(0x116)](_0x330bbf['config'])?([_0x1349dc,_0x320f23]=await helper[_0x576e33(0x144)](_0x330bbf['config']),[_0x18f78a]=await Promise[_0x576e33(0x109)]([helper[_0x576e33(0x145)](_0x1349dc,_0x330bbf[_0x576e33(0x161)]),exports[_0x576e33(0x10f)](_0x460b36[_0x576e33(0x119)],_0x334dbc,_0x330bbf['config'],_0x330bbf['framework'])])):([_0x1349dc,_0x320f23]=await helper['getBuildLink'](_0x330bbf[_0x576e33(0x161)]),[_0x18f78a]=await Promise[_0x576e33(0x109)]([helper[_0x576e33(0x130)](_0x1349dc,_0x330bbf[_0x576e33(0x161)]),exports['fireFunnelTestEvent'](_0x460b36['WvSUU'],_0x334dbc,_0x330bbf[_0x576e33(0x161)],_0x330bbf[_0x576e33(0x11e)])])),_0x18f78a&&await _0x460b36[_0x576e33(0x151)](generateCIArtifacts,_0x18f78a,_0x320f23),logger[_0x576e33(0x140)](_0x576e33(0xf2)+_0x330bbf['sdkRunId']+_0x576e33(0x175)+process['env'][_0x576e33(0x12f)]),await helper[_0x576e33(0x10a)](_0x330bbf['config']);}catch(_0x2a0e5b){logger[_0x576e33(0x13b)](_0x460b36[_0x576e33(0xeb)](_0x460b36[_0x576e33(0x139)],_0x2a0e5b));}helper['notifyUpdate']();},exports[a142_0x1de0e7(0x102)]=_0xebc430=>{const _0x2ad0ed=a142_0x1de0e7,_0x344b6c={'Dezcv':function(_0x10d6d7,_0x330d2c){return _0x10d6d7 instanceof _0x330d2c;},'YmiZd':function(_0x4c83de,_0x599298){return _0x4c83de(_0x599298);}};try{if(_0x344b6c[_0x2ad0ed(0x174)](_0xebc430,Error))return _0xebc430[_0x2ad0ed(0xe8)]||_0xebc430[_0x2ad0ed(0xff)]();return _0x344b6c['YmiZd'](String,_0xebc430);}catch(_0x3d4c46){return _0xebc430?_0xebc430['toString']():'';}},exports[a142_0x1de0e7(0x146)]=_0x3288ea=>{const _0x2b955a=a142_0x1de0e7,_0x4fbe64={};_0x4fbe64['zZATH']=function(_0xc9730c,_0x12221e){return _0xc9730c===_0x12221e;};const _0x5e6172=_0x4fbe64;return!_0x3288ea||_0x5e6172[_0x2b955a(0x159)](_0x3288ea['trim'](),'');},exports['isModifiable']=_0xd4e013=>{const _0x25fe73=a142_0x1de0e7,_0x4ae1ed={};_0x4ae1ed['aCEal']=function(_0x41c44e,_0x3c2dd4){return _0x41c44e|_0x3c2dd4;};const _0x2d0733=_0x4ae1ed;try{return fs[_0x25fe73(0x169)](_0xd4e013,_0x2d0733['aCEal'](fs[_0x25fe73(0xf6)][_0x25fe73(0x10d)],fs['constants']['X_OK'])),!![];}catch(_0x2c1dfd){return![];}},exports[a142_0x1de0e7(0x115)]=_0x4219d6=>{const _0x2282cc=a142_0x1de0e7;try{fs[_0x2282cc(0xe9)](_0x4219d6,0x1ff),logger['debug']('Directory\x20'+_0x4219d6+_0x2282cc(0x147));}catch(_0x1ed2f8){logger[_0x2282cc(0x148)](_0x2282cc(0xe7)+exports['getStackTraceAsString'](_0x1ed2f8));}};