function a139_0x43fa(_0xcfeaab,_0x535e22){const _0x54788b=a139_0x5478();return a139_0x43fa=function(_0x43fa83,_0x4acd7f){_0x43fa83=_0x43fa83-0xe2;let _0x597658=_0x54788b[_0x43fa83];return _0x597658;},a139_0x43fa(_0xcfeaab,_0x535e22);}const a139_0x344f47=a139_0x43fa;(function(_0xce32e0,_0x3df5f9){const _0x4c52d8=a139_0x43fa,_0xfed26=_0xce32e0();while(!![]){try{const _0xa6cb3b=parseInt(_0x4c52d8(0x154))/0x1*(-parseInt(_0x4c52d8(0x152))/0x2)+-parseInt(_0x4c52d8(0x132))/0x3*(-parseInt(_0x4c52d8(0x137))/0x4)+parseInt(_0x4c52d8(0x14c))/0x5+parseInt(_0x4c52d8(0x145))/0x6+-parseInt(_0x4c52d8(0x103))/0x7+-parseInt(_0x4c52d8(0xea))/0x8*(parseInt(_0x4c52d8(0x11c))/0x9)+parseInt(_0x4c52d8(0xe7))/0xa;if(_0xa6cb3b===_0x3df5f9)break;else _0xfed26['push'](_0xfed26['shift']());}catch(_0x4d9a9e){_0xfed26['push'](_0xfed26['shift']());}}}(a139_0x5478,0x6e8d7));function a139_0x5478(){const _0x306b7f=['constants','APP_AUTOMATE','1098494DDALuY','stack','1LBlhNQ','replace','TmeOP','./globals','getOptimalHubUrl','tests','VsGNL','nyuof','../helpers/testhub/constants','application/json','app','Error\x20in\x20firing\x20request\x20to\x20','version','errorMessage','./helper','QTGRY','type','qpQyy','codeceptjs','undefined','config','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','ENV_VAR','body','ezNTQ','thvZH','chmodSync','API\x20Event\x20','all','[REDACTED]','setReadWriteExecuteAccess','OzWXL','xwQsD','getUserName','2563440yiKhmg','event_properties','fireFunnelTestEvent','184nMUSuc','content-type','playwrightVersion','browserVersion','forEach','RkXPC','tszGR','getTurboScaleSessionsList','W_OK','sanitizeBrowserStackConfig','buildName','debug','tKDpx','getTestFrameworkDetails','buildIdentifier','dRORl','RjQZl','dvyBz','KISbs','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','trim','selenium-webdriver','getPackageVersion','\x20:\x20','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','21182pszdfo','hdFIQ','every','sdkRunId','error','getSessionsList','KIpxI','getAccessKey','YEgAa','mBJiZ','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','Playwright','browser','\x20has\x20now\x20read/write/execute\x20permissions.','osVersion','info','split','globalException','./testhub/utils','keys','rOLQc','requirePWModule','getGlobal','values','killSignal','117783fdqGfq','getTurboScaleBuildLink','deviceName','isModifiable','format','BROWSERSTACK_TESTHUB_UUID','sgnIa','AUTOMATE','./logger','isNullOrEmpty','isBrowserstackInfra','gWaGc','../bin/utils/constants','iMiZL','assign','IddDS','SDK\x20run\x20ended\x20for\x20id:\x20','POST','getNodeAgent','framework','ijknJ','util','384876eaYeVe','isTurboScaleSession','seleniumVersion','ZxcZM','parse','4YYvJja','env','join','SDKTestSuccessful','unknown','hostname','getStackTraceAsString','yqaAj','length','toString','GsIYP','Directory\x20','nodeRequest','nodejs','3190380JpnOQy','accessSync','StvZg','null','Failed\x20to\x20set\x20directory\x20access:\x20','uDogj','qrDpm','1948655DEgBsg','elESF','rBriu','X_OK'];a139_0x5478=function(){return _0x306b7f;};return a139_0x5478();}const os=require('os'),util=require(a139_0x344f47(0x131)),fs=require('fs'),{getProductMap}=require(a139_0x344f47(0x115)),logger=require(a139_0x344f47(0x124))['winstonLogger'],constants=require('../bin/utils/constants'),testHubConstants=require(a139_0x344f47(0x15c)),{getTransformPath}=require('../bin/playwright/reporter/pwUtils'),{FUNNEL_INSTRUMENTATION_API_URL}=require(a139_0x344f47(0x128)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a139_0x344f47(0x162)),PerformanceTester=require('./performance/performance-tester'),globals=require(a139_0x344f47(0x157)),helper=require(a139_0x344f47(0x162)),{isTestObservabilitySession}=require('./test-observability/utils');let unhandledErrors='';exports[a139_0x344f47(0xe9)]=async(_0x192df5,_0x32fae5={},_0x464a63,_0x5113ec)=>{const _0x50636d=a139_0x344f47,_0x1d6801={'ZxcZM':function(_0x272bc8,_0x216987){return _0x272bc8===_0x216987;},'ijknJ':'object','iMiZL':function(_0x4b3356,_0x45a521){return _0x4b3356>_0x45a521;},'GsIYP':_0x50636d(0x159),'thvZH':function(_0x25ce30){return _0x25ce30();},'DOTKZ':function(_0x3d07d3){return _0x3d07d3();},'elESF':function(_0x4d1628,_0x30f3de){return _0x4d1628==_0x30f3de;},'KIpxI':_0x50636d(0x148),'qpQyy':function(_0xef160b,_0x5a24d5){return _0xef160b===_0x5a24d5;},'mBJiZ':_0x50636d(0x167),'StvZg':_0x50636d(0x166),'YEgAa':function(_0x2f5de7,_0x1530e9){return _0x2f5de7!==_0x1530e9;},'tszGR':_0x50636d(0x10e),'OzWXL':_0x50636d(0x107),'ezNTQ':function(_0x20f555,_0x4f9ab3){return _0x20f555+_0x4f9ab3;},'RVdBr':_0x50636d(0xfd),'rBriu':'_buildHashedId','RkXPC':function(_0x1bf5c7,_0xc23eb8){return _0x1bf5c7(_0xc23eb8);},'xwQsD':function(_0x1f6d35,_0x8869c1){return _0x1f6d35(_0x8869c1);},'tKDpx':_0x50636d(0x13b),'IddDS':_0x50636d(0x144),'qrDpm':function(_0xf97f89,_0xe27008){return _0xf97f89===_0xe27008;},'QTGRY':'SDKTestSuccessful','hdFIQ':_0x50636d(0xff),'nXzjt':_0x50636d(0x15d),'rOLQc':_0x50636d(0xe2),'dRORl':_0x50636d(0x12d)};let _0x2ab2de=[];if(helper[_0x50636d(0x126)]()&&_0x1d6801[_0x50636d(0x16d)](isTestObservabilitySession))_0x2ab2de=_0x464a63[_0x50636d(0x15e)]?constants['APP_AUTOMATE_PRODUCTS']:constants['AUTOMATE_PRODUCTS'];else{if(_0x1d6801['DOTKZ'](isTestObservabilitySession))_0x2ab2de=constants[_0x50636d(0x169)];else helper['isBrowserstackInfra']()&&(_0x2ab2de=_0x464a63['app']?constants[_0x50636d(0x151)]:constants[_0x50636d(0x123)]);}let _0x37d8a5=_0x464a63[_0x50636d(0xf8)];if(_0x1d6801[_0x50636d(0x14d)](_0x37d8a5,null))_0x37d8a5=_0x1d6801[_0x50636d(0x109)];else _0x1d6801[_0x50636d(0x165)](_0x37d8a5,undefined)&&(_0x37d8a5=_0x1d6801[_0x50636d(0x10c)]);unhandledErrors&&_0x1d6801['iMiZL'](unhandledErrors[_0x50636d(0x13f)],0x0)&&(_0x32fae5[_0x50636d(0x114)]=unhandledErrors);global['sdkRunId']&&(_0x32fae5[_0x50636d(0x106)]=global[_0x50636d(0x106)]);try{if(_0x32fae5[_0x50636d(0x107)]){if(_0x1d6801['qpQyy'](_0x5113ec,_0x1d6801[_0x50636d(0x147)])&&_0x1d6801[_0x50636d(0x129)](_0x32fae5[_0x50636d(0x107)][_0x50636d(0x13f)],0x0)){const _0x48af7a={};_0x48af7a['os']='',_0x48af7a[_0x50636d(0x111)]='',_0x48af7a['browser']='',_0x48af7a[_0x50636d(0xed)]='';const _0x2b510d=_0x48af7a;let _0x4727c8={};const _0x82f311=_0x32fae5[_0x50636d(0x107)];_0x4727c8=_0x82f311['reduce']((_0x319b2a,_0x306b94)=>{for(const _0x5f5746 in _0x306b94){_0x319b2a[_0x5f5746]=_0x306b94[_0x5f5746];}return _0x319b2a;},{});const _0x3dcc10={};_0x3dcc10[_0x50636d(0x159)]=_0x4727c8,_0x32fae5['error']=[Object[_0x50636d(0x12a)]({},_0x2b510d,_0x3dcc10)];}else{let _0x4c5120=0x0;const _0x2ffbe2=_0x1d6801[_0x50636d(0x10b)](_0x5113ec,_0x1d6801[_0x50636d(0xf0)])?JSON[_0x50636d(0x136)](_0x32fae5[_0x50636d(0x107)]):_0x32fae5[_0x50636d(0x107)],_0x2c0074=Object[_0x50636d(0x11a)](_0x2ffbe2);_0x2c0074[_0x50636d(0xee)](_0x57443a=>{const _0x559268=_0x50636d;if(_0x1d6801[_0x559268(0x135)](typeof _0x57443a,_0x1d6801[_0x559268(0x130)])){const _0x562515=Object[_0x559268(0x11a)](_0x57443a);!_0x562515[_0x559268(0x105)](_0x4e2bad=>_0x4e2bad===null||_0x4e2bad===undefined||_0x4e2bad==='')&&(_0x4c5120+=0x1);}});if(_0x1d6801[_0x50636d(0x135)](_0x4c5120,0x0))delete _0x32fae5[_0x1d6801[_0x50636d(0xe4)]];else{const _0x1fdfa7=[];Object[_0x50636d(0x116)](_0x2ffbe2)[_0x50636d(0xee)](_0x4d8f09=>{const _0x7e47ed=_0x50636d,_0x59c06f={'nyuof':function(_0x144f76,_0x19ee73){const _0x2d6765=a139_0x43fa;return _0x1d6801[_0x2d6765(0x129)](_0x144f76,_0x19ee73);}},[_0x103c0c,_0x1aee4d,_0x3733bb,_0x4a7815]=_0x4d8f09[_0x7e47ed(0x113)](',\x20');let _0x1215cd={};if(!_0x4a7815){const _0x5e6d40={};_0x5e6d40[_0x7e47ed(0x11e)]=_0x103c0c,_0x5e6d40['osVersion']=_0x1aee4d,_0x5e6d40[_0x7e47ed(0x10f)]=_0x3733bb,_0x1215cd=_0x5e6d40;}else{const _0x5d8702={};_0x5d8702['os']=_0x103c0c,_0x5d8702[_0x7e47ed(0x111)]=_0x1aee4d,_0x5d8702[_0x7e47ed(0x10f)]=_0x3733bb,_0x5d8702[_0x7e47ed(0xed)]=_0x4a7815,_0x1215cd=_0x5d8702;}const _0x3ca62f={},_0x3fe069=_0x2ffbe2[_0x4d8f09];Object[_0x7e47ed(0x116)](_0x3fe069)[_0x7e47ed(0xee)](_0x10723e=>{const _0x548836=_0x7e47ed;_0x59c06f[_0x548836(0x15b)](_0x3fe069[_0x10723e][_0x548836(0x13f)],0x0)&&(_0x3ca62f[_0x10723e]=_0x3fe069[_0x10723e]);}),_0x1d6801[_0x7e47ed(0x129)](Object['keys'](_0x3ca62f)[_0x7e47ed(0x13f)],0x0)&&(_0x1215cd[_0x1d6801[_0x7e47ed(0x141)]]=_0x3ca62f,_0x1fdfa7['push'](_0x1215cd));}),_0x1d6801[_0x50636d(0x129)](_0x1fdfa7['length'],0x0)?_0x32fae5['error']=_0x1fdfa7:delete _0x32fae5[_0x1d6801[_0x50636d(0xe4)]];}}}}catch(_0x1101b1){delete _0x32fae5[_0x1d6801['OzWXL']],logger[_0x50636d(0xf5)](_0x1d6801[_0x50636d(0x16c)](_0x1d6801['RVdBr'],_0x1101b1));}const _0x2ebe0c=helper[_0x50636d(0xf7)](_0x464a63,_0x464a63['framework']),_0x21ab94={'userName':helper[_0x50636d(0xe6)](_0x464a63),'accessKey':helper[_0x50636d(0x10a)](_0x464a63),'event_type':_0x192df5,'detectedFramework':_0x5113ec,'buildHashedId':globals[_0x50636d(0x119)](_0x1d6801[_0x50636d(0x14e)]),'optimalHubUrl':helper[_0x50636d(0x158)](),'event_properties':{'testhub_uuid':process['env'][testHubConstants[_0x50636d(0x16a)][_0x50636d(0x121)]]||'','sdkRunId':global[_0x50636d(0x106)],'product_map':_0x1d6801[_0x50636d(0xef)](getProductMap,_0x464a63),'productMap':_0x1d6801[_0x50636d(0xe5)](getProductMap,_0x464a63),'language_framework':_0x464a63['source']||_0x1d6801['tKDpx'],'referrer':helper[_0x50636d(0x12e)](_0x5113ec),'framework':_0x464a63[_0x50636d(0x12f)],'frameworkVersion':helper['getFrameworkVersion'](_0x5113ec),'automationFramework':_0x2ebe0c['name'],'automationFrameworkVersion':_0x2ebe0c[_0x50636d(0x160)],'language':_0x1d6801[_0x50636d(0x12b)],'languageVersion':process[_0x50636d(0x160)],'product':_0x2ab2de,'buildName':_0x464a63[_0x50636d(0xf4)]||_0x1d6801[_0x50636d(0x10c)],'buildIdentifier':_0x37d8a5,'os':os[_0x50636d(0x164)]()||_0x1d6801[_0x50636d(0xf6)],'hostname':os[_0x50636d(0x13c)]()||_0x1d6801[_0x50636d(0xf6)],..._0x32fae5}};try{_0x1d6801[_0x50636d(0x14b)](_0x192df5,_0x1d6801[_0x50636d(0x163)])&&(_0x21ab94[_0x50636d(0xe8)]['browserStackConfig']=helper[_0x50636d(0xf3)](_0x464a63)),_0x1d6801[_0x50636d(0x14b)](_0x5113ec,_0x1d6801[_0x50636d(0xf0)])?_0x21ab94[_0x50636d(0xe8)][_0x50636d(0xec)]=helper[_0x50636d(0x118)]['apply'](null,_0x1d6801[_0x50636d(0x16d)](getTransformPath),!![]):_0x21ab94['event_properties'][_0x50636d(0x134)]=helper[_0x50636d(0x100)](_0x1d6801[_0x50636d(0x104)]);}catch(_0x44e8f2){logger['debug']('Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20'+_0x44e8f2);}const _0x1c2b99={};_0x1c2b99[_0x50636d(0xeb)]=_0x1d6801['nXzjt'];const _0x381e1b={'headers':_0x1c2b99,'body':_0x21ab94,'auth':{'user':helper[_0x50636d(0xe6)](_0x464a63),'pass':helper['getAccessKey'](_0x464a63)},'json':!![]};logger['debug'](_0x50636d(0x102)+JSON['stringify'](_0x381e1b[_0x50636d(0x16b)])[_0x50636d(0x155)](new RegExp(helper[_0x50636d(0xe6)](_0x464a63),'g'),_0x1d6801[_0x50636d(0x117)])[_0x50636d(0x155)](new RegExp(helper[_0x50636d(0x10a)](_0x464a63),'g'),_0x1d6801[_0x50636d(0x117)]));try{const _0x1e0d1d=await helper[_0x50636d(0x143)](_0x1d6801[_0x50636d(0xf9)],FUNNEL_INSTRUMENTATION_API_URL,_0x381e1b,_0x464a63);logger[_0x50636d(0xf5)](_0x50636d(0x16f)+_0x192df5+'\x20response\x20-\x20'+util['format']('%j',_0x1e0d1d));}catch(_0x192c7f){logger[_0x50636d(0xf5)](_0x50636d(0x15f)+FUNNEL_INSTRUMENTATION_API_URL+_0x50636d(0x101)+util[_0x50636d(0x120)](_0x192c7f));}},exports['finalExecution']=async _0xed65ae=>{const _0x3c0768=a139_0x344f47,_0x1a7765={'VsGNL':function(_0x3067d2){return _0x3067d2();},'yqaAj':'finishedMetadata','sgnIa':'user_killed','dvyBz':_0x3c0768(0x13a),'lhrou':function(_0x5c3757,_0x1baff1,_0x57ea6d){return _0x5c3757(_0x1baff1,_0x57ea6d);},'RjQZl':function(_0x11d468,_0x3df8b2){return _0x11d468+_0x3df8b2;},'gWaGc':_0x3c0768(0x10d)};try{await _0xed65ae['stopPercy'](),_0x1a7765[_0x3c0768(0x15a)](printNudgeLocalNotSetError);const _0x2888a2={};_0x2888a2[_0x3c0768(0x107)]=_0xed65ae['errorMessage']?_0xed65ae[_0x3c0768(0x161)]:'{}';const _0x101c2b=_0x2888a2,_0x39b4db=Object[_0x3c0768(0x12a)]({},_0x101c2b);!!_0xed65ae[_0x3c0768(0x11b)]&&(_0x39b4db[_0x1a7765[_0x3c0768(0x13e)]]={'reason':_0x1a7765[_0x3c0768(0x122)],'signal':_0xed65ae[_0x3c0768(0x11b)]});unhandledErrors=_0xed65ae['unhandledErrors'][_0x3c0768(0x139)]('\x0a');let _0x4656d2,_0x4f89b7,_0x47050b;helper[_0x3c0768(0x133)](_0xed65ae[_0x3c0768(0x168)])?([_0x4656d2,_0x4f89b7]=await helper[_0x3c0768(0x11d)](_0xed65ae['config']),[_0x47050b]=await Promise['all']([helper[_0x3c0768(0xf1)](_0x4656d2,_0xed65ae[_0x3c0768(0x168)]),exports[_0x3c0768(0xe9)](_0x1a7765[_0x3c0768(0xfb)],_0x39b4db,_0xed65ae['config'],_0xed65ae['framework'])])):([_0x4656d2,_0x4f89b7]=await helper['getBuildLink'](_0xed65ae[_0x3c0768(0x168)]),[_0x47050b]=await Promise[_0x3c0768(0x170)]([helper[_0x3c0768(0x108)](_0x4656d2,_0xed65ae[_0x3c0768(0x168)]),exports['fireFunnelTestEvent'](_0x1a7765[_0x3c0768(0xfb)],_0x39b4db,_0xed65ae['config'],_0xed65ae['framework'])])),_0x47050b&&await _0x1a7765['lhrou'](generateCIArtifacts,_0x47050b,_0x4f89b7),logger[_0x3c0768(0x112)](_0x3c0768(0x12c)+_0xed65ae['sdkRunId']+',\x20testhub\x20id:\x20'+process[_0x3c0768(0x138)]['BROWSERSTACK_TESTHUB_UUID']),await helper['sendLogs'](_0xed65ae[_0x3c0768(0x168)]);}catch(_0x2c9c7c){logger['debug'](_0x1a7765[_0x3c0768(0xfa)](_0x1a7765[_0x3c0768(0x127)],_0x2c9c7c));}helper['notifyUpdate']();},exports[a139_0x344f47(0x13d)]=_0x1bb536=>{const _0x18826a=a139_0x344f47,_0x571d6c={'GRDPu':function(_0x362bd2,_0x2b3643){return _0x362bd2 instanceof _0x2b3643;},'uDogj':function(_0x55edf2,_0x195bcb){return _0x55edf2(_0x195bcb);}};try{if(_0x571d6c['GRDPu'](_0x1bb536,Error))return _0x1bb536[_0x18826a(0x153)]||_0x1bb536['toString']();return _0x571d6c[_0x18826a(0x14a)](String,_0x1bb536);}catch(_0x43796f){return _0x1bb536?_0x1bb536[_0x18826a(0x140)]():'';}},exports[a139_0x344f47(0x125)]=_0x2616de=>{const _0x1bef5b=a139_0x344f47,_0x1347c1={};_0x1347c1[_0x1bef5b(0x156)]=function(_0x24dcc5,_0x1eb75d){return _0x24dcc5===_0x1eb75d;};const _0x46ab88=_0x1347c1;return!_0x2616de||_0x46ab88[_0x1bef5b(0x156)](_0x2616de[_0x1bef5b(0xfe)](),'');},exports[a139_0x344f47(0x11f)]=_0x1b4164=>{const _0x250cc7=a139_0x344f47,_0xbfd334={};_0xbfd334['KISbs']=function(_0x4d413c,_0x14e9eb){return _0x4d413c|_0x14e9eb;};const _0x4b0b64=_0xbfd334;try{return fs[_0x250cc7(0x146)](_0x1b4164,_0x4b0b64[_0x250cc7(0xfc)](fs[_0x250cc7(0x150)][_0x250cc7(0xf2)],fs[_0x250cc7(0x150)][_0x250cc7(0x14f)])),!![];}catch(_0x419536){return![];}},exports[a139_0x344f47(0xe3)]=_0x21a9de=>{const _0x29f127=a139_0x344f47;try{fs[_0x29f127(0x16e)](_0x21a9de,0x1ff),logger[_0x29f127(0xf5)](_0x29f127(0x142)+_0x21a9de+_0x29f127(0x110));}catch(_0x5c010c){logger[_0x29f127(0x107)](_0x29f127(0x149)+exports['getStackTraceAsString'](_0x5c010c));}};