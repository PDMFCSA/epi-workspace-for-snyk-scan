const a132_0x55a85b=a132_0xe60d;(function(_0x344040,_0xae7b18){const _0x559d5c=a132_0xe60d,_0x33bda1=_0x344040();while(!![]){try{const _0x2bd8cc=-parseInt(_0x559d5c(0x1c1))/0x1+parseInt(_0x559d5c(0x21d))/0x2*(-parseInt(_0x559d5c(0x1dd))/0x3)+-parseInt(_0x559d5c(0x1e3))/0x4+parseInt(_0x559d5c(0x206))/0x5+parseInt(_0x559d5c(0x22b))/0x6+parseInt(_0x559d5c(0x235))/0x7*(-parseInt(_0x559d5c(0x229))/0x8)+-parseInt(_0x559d5c(0x1fd))/0x9*(-parseInt(_0x559d5c(0x1bb))/0xa);if(_0x2bd8cc===_0xae7b18)break;else _0x33bda1['push'](_0x33bda1['shift']());}catch(_0x5e6d03){_0x33bda1['push'](_0x33bda1['shift']());}}}(a132_0x167e,0x902a5));const os=require('os'),util=require(a132_0x55a85b(0x1be)),fs=require('fs'),{getProductMap}=require('./testhub/utils'),logger=require(a132_0x55a85b(0x21b))[a132_0x55a85b(0x223)],constants=require(a132_0x55a85b(0x1e7)),testHubConstants=require(a132_0x55a85b(0x1d3)),{getTransformPath}=require(a132_0x55a85b(0x1b1)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a132_0x55a85b(0x1e7)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a132_0x55a85b(0x1e4)),PerformanceTester=require(a132_0x55a85b(0x20e)),globals=require(a132_0x55a85b(0x1cd)),helper=require('./helper'),{isTestObservabilitySession}=require(a132_0x55a85b(0x207));function a132_0x167e(){const _0x3c51d0=['SDK\x20run\x20ended\x20for\x20id:\x20','every','codeceptjs','5571545lagNYn','./test-observability/utils','killSignal','Azngi','GKVIO','browserStackConfig','POST','content-type','./performance/performance-tester','Failed\x20to\x20set\x20directory\x20access:\x20','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','format','nodejs','\x20response\x20-\x20','stopPercy','hostname','AUTOMATE','framework','AUTOMATE_PRODUCTS','errorMessage','constants','./logger','qbJXA','2tlnPeA','toString','undefined','values','XCROp','parse','winstonLogger','zUMNR','RZymh','getTurboScaleSessionsList','rtnru','yEyYM','24BZDeDp','debug','5314272twepWT','BnctM','kQNgK','split','TlYjP','assign','getTurboScaleBuildLink','accessSync','CELSE','browser','824019JfVhhQ','length','USzVp','event_properties','playwrightVersion','unknown','PHwpb','getAccessKey','keys','trim','fireFunnelTestEvent','\x20has\x20now\x20read/write/execute\x20permissions.','qpiLq','getStackTraceAsString','apply','notifyUpdate','../bin/playwright/reporter/pwUtils','ecviU','requirePWModule','getOptimalHubUrl','getTestFrameworkDetails','QJHpY','forEach','tests','getGlobal','globalException','752770gwsAaz','EHFzJ','NJMTH','util','getSessionsList','chmodSync','727119cqNORG','\x20:\x20','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','_buildHashedId','sdkRunId','getFrameworkVersion','TofFr','error','selenium-webdriver','Ptsxi','isBrowserstackInfra','Error\x20in\x20firing\x20request\x20to\x20','./globals','object','null','info','join','QZzBx','../helpers/testhub/constants','IIHNL','isModifiable','kMHxr','gEWWa','GuYMR','stack','version','APP_AUTOMATE_PRODUCTS','getBuildLink','1787106yohOoh','reduce','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','replace','jfhcn','eIWIJ','439732mQHYUI','./helper','env','sendLogs','../bin/utils/constants','API\x20Event\x20','push','vUXxf','osVersion','yGcQg','name','FUNNEL_INSTRUMENTATION_API_URL','user_killed','bYwEw','browserVersion','[REDACTED]','AEYdj','app','config','all','application/json','source','BROWSERSTACK_TESTHUB_UUID','EVboH','buildName','getUserName','45HCkvXx','SDKTestSuccessful','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','W_OK','YKgJW','finalExecution'];a132_0x167e=function(){return _0x3c51d0;};return a132_0x167e();}function a132_0xe60d(_0x801e71,_0x1d9989){const _0x167e2f=a132_0x167e();return a132_0xe60d=function(_0xe60de,_0x109cf1){_0xe60de=_0xe60de-0x1ab;let _0x249e70=_0x167e2f[_0xe60de];return _0x249e70;},a132_0xe60d(_0x801e71,_0x1d9989);}let unhandledErrors='';exports[a132_0x55a85b(0x1ab)]=async(_0x5d004d,_0x479242={},_0x38ecbb,_0x5dacec)=>{const _0x33b174=a132_0x55a85b,_0x296a34={'qbJXA':function(_0x25515a,_0x40e9e4){return _0x25515a===_0x40e9e4;},'CELSE':_0x33b174(0x1ce),'GuYMR':function(_0x4d66be,_0x2f494d){return _0x4d66be>_0x2f494d;},'bYwEw':function(_0x494b71,_0x242a2c){return _0x494b71>_0x242a2c;},'QZzBx':_0x33b174(0x1b8),'jfhcn':function(_0x1efebe){return _0x1efebe();},'TlYjP':function(_0x22d3fd,_0x5d3ee6){return _0x22d3fd==_0x5d3ee6;},'UKPzi':_0x33b174(0x1cf),'gEWWa':_0x33b174(0x21f),'Azngi':_0x33b174(0x205),'ecviU':function(_0x377b91,_0x42af76){return _0x377b91!==_0x42af76;},'eIWIJ':'Playwright','QJHpY':function(_0x315941,_0x192501){return _0x315941===_0x192501;},'kQNgK':'error','gpyFT':function(_0xdf6fa6,_0x27576e){return _0xdf6fa6+_0x27576e;},'XCROp':'Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','YKgJW':_0x33b174(0x1c4),'vUXxf':function(_0x3bb6a1,_0x3ca6a3){return _0x3bb6a1(_0x3ca6a3);},'yEyYM':_0x33b174(0x23a),'EVboH':_0x33b174(0x212),'TofFr':function(_0x44fce9,_0x4df2ab){return _0x44fce9===_0x4df2ab;},'USzVp':'SDKTestSuccessful','yGcQg':_0x33b174(0x1c9),'IIHNL':_0x33b174(0x1f7),'BnctM':_0x33b174(0x1f2),'kMHxr':_0x33b174(0x20c)};let _0x1c543d=[];if(helper[_0x33b174(0x1cb)]()&&_0x296a34['jfhcn'](isTestObservabilitySession))_0x1c543d=_0x38ecbb[_0x33b174(0x1f4)]?constants[_0x33b174(0x1db)]:constants[_0x33b174(0x218)];else{if(_0x296a34[_0x33b174(0x1e1)](isTestObservabilitySession))_0x1c543d=constants[_0x33b174(0x1df)];else helper['isBrowserstackInfra']()&&(_0x1c543d=_0x38ecbb[_0x33b174(0x1f4)]?constants['APP_AUTOMATE']:constants[_0x33b174(0x216)]);}let _0x1ca132=_0x38ecbb['buildIdentifier'];if(_0x296a34[_0x33b174(0x22f)](_0x1ca132,null))_0x1ca132=_0x296a34['UKPzi'];else _0x296a34[_0x33b174(0x21c)](_0x1ca132,undefined)&&(_0x1ca132=_0x296a34[_0x33b174(0x1d7)]);unhandledErrors&&_0x296a34[_0x33b174(0x1d8)](unhandledErrors[_0x33b174(0x236)],0x0)&&(_0x479242[_0x33b174(0x1ba)]=unhandledErrors);global['sdkRunId']&&(_0x479242['sdkRunId']=global[_0x33b174(0x1c5)]);try{if(_0x479242[_0x33b174(0x1c8)]){if(_0x296a34['qbJXA'](_0x5dacec,_0x296a34[_0x33b174(0x209)])&&_0x296a34[_0x33b174(0x1f0)](_0x479242['error'][_0x33b174(0x236)],0x0)){const _0x2327ec={};_0x2327ec['os']='',_0x2327ec[_0x33b174(0x1eb)]='',_0x2327ec['browser']='',_0x2327ec[_0x33b174(0x1f1)]='';const _0x4f6205=_0x2327ec;let _0x1ebd62={};const _0x2dd1b7=_0x479242['error'];_0x1ebd62=_0x2dd1b7[_0x33b174(0x1de)]((_0x160cbd,_0x59f6b3)=>{for(const _0xe0f51c in _0x59f6b3){_0x160cbd[_0xe0f51c]=_0x59f6b3[_0xe0f51c];}return _0x160cbd;},{});const _0x3d9e92={};_0x3d9e92[_0x33b174(0x1b8)]=_0x1ebd62,_0x479242[_0x33b174(0x1c8)]=[Object[_0x33b174(0x230)]({},_0x4f6205,_0x3d9e92)];}else{let _0x63e85b=0x0;const _0xb05dd9=_0x296a34[_0x33b174(0x1b2)](_0x5dacec,_0x296a34[_0x33b174(0x1e2)])?JSON[_0x33b174(0x222)](_0x479242['error']):_0x479242[_0x33b174(0x1c8)],_0x1bb12f=Object['values'](_0xb05dd9);_0x1bb12f[_0x33b174(0x1b7)](_0x50fb0f=>{const _0x56fe3c=_0x33b174;if(_0x296a34[_0x56fe3c(0x21c)](typeof _0x50fb0f,_0x296a34[_0x56fe3c(0x233)])){const _0x24d7a9=Object[_0x56fe3c(0x220)](_0x50fb0f);!_0x24d7a9[_0x56fe3c(0x204)](_0x3ebdae=>_0x3ebdae===null||_0x3ebdae===undefined||_0x3ebdae==='')&&(_0x63e85b+=0x1);}});if(_0x296a34[_0x33b174(0x1b6)](_0x63e85b,0x0))delete _0x479242[_0x296a34['kQNgK']];else{const _0x1cb91f=[];Object[_0x33b174(0x23d)](_0xb05dd9)[_0x33b174(0x1b7)](_0x55107f=>{const _0x3c937e=_0x33b174,_0x21d8c6={'PHwpb':function(_0x5b23e9,_0x14ceb4){const _0x25f587=a132_0xe60d;return _0x296a34[_0x25f587(0x1d8)](_0x5b23e9,_0x14ceb4);}},[_0x4183bb,_0x258858,_0x23dd66,_0x55591f]=_0x55107f[_0x3c937e(0x22e)](',\x20');let _0x1d2322={};if(!_0x55591f){const _0x130651={};_0x130651['deviceName']=_0x4183bb,_0x130651[_0x3c937e(0x1eb)]=_0x258858,_0x130651[_0x3c937e(0x234)]=_0x23dd66,_0x1d2322=_0x130651;}else{const _0x16488b={};_0x16488b['os']=_0x4183bb,_0x16488b[_0x3c937e(0x1eb)]=_0x258858,_0x16488b[_0x3c937e(0x234)]=_0x23dd66,_0x16488b[_0x3c937e(0x1f1)]=_0x55591f,_0x1d2322=_0x16488b;}const _0x3a58c8={},_0x335e67=_0xb05dd9[_0x55107f];Object[_0x3c937e(0x23d)](_0x335e67)['forEach'](_0x3e872a=>{const _0x1d5422=_0x3c937e;_0x21d8c6[_0x1d5422(0x23b)](_0x335e67[_0x3e872a][_0x1d5422(0x236)],0x0)&&(_0x3a58c8[_0x3e872a]=_0x335e67[_0x3e872a]);}),_0x296a34[_0x3c937e(0x1f0)](Object[_0x3c937e(0x23d)](_0x3a58c8)['length'],0x0)&&(_0x1d2322[_0x296a34[_0x3c937e(0x1d2)]]=_0x3a58c8,_0x1cb91f[_0x3c937e(0x1e9)](_0x1d2322));}),_0x296a34['GuYMR'](_0x1cb91f[_0x33b174(0x236)],0x0)?_0x479242[_0x33b174(0x1c8)]=_0x1cb91f:delete _0x479242[_0x296a34[_0x33b174(0x22d)]];}}}}catch(_0x5569c0){delete _0x479242[_0x296a34['kQNgK']],logger['debug'](_0x296a34['gpyFT'](_0x296a34[_0x33b174(0x221)],_0x5569c0));}const _0x309e40=helper[_0x33b174(0x1b5)](_0x38ecbb,_0x38ecbb['framework']),_0xb044e3={'userName':helper[_0x33b174(0x1fc)](_0x38ecbb),'accessKey':helper['getAccessKey'](_0x38ecbb),'event_type':_0x5d004d,'detectedFramework':_0x5dacec,'buildHashedId':globals[_0x33b174(0x1b9)](_0x296a34[_0x33b174(0x201)]),'optimalHubUrl':helper[_0x33b174(0x1b4)](),'event_properties':{'testhub_uuid':process[_0x33b174(0x1e5)][testHubConstants['ENV_VAR'][_0x33b174(0x1f9)]]||'','sdkRunId':global[_0x33b174(0x1c5)],'product_map':_0x296a34[_0x33b174(0x1ea)](getProductMap,_0x38ecbb),'productMap':_0x296a34[_0x33b174(0x1ea)](getProductMap,_0x38ecbb),'language_framework':_0x38ecbb[_0x33b174(0x1f8)]||_0x296a34[_0x33b174(0x228)],'referrer':helper['getNodeAgent'](_0x5dacec),'framework':_0x38ecbb[_0x33b174(0x217)],'frameworkVersion':helper[_0x33b174(0x1c6)](_0x5dacec),'automationFramework':_0x309e40[_0x33b174(0x1ed)],'automationFrameworkVersion':_0x309e40['version'],'language':_0x296a34[_0x33b174(0x1fa)],'languageVersion':process[_0x33b174(0x1da)],'product':_0x1c543d,'buildName':_0x38ecbb[_0x33b174(0x1fb)]||_0x296a34[_0x33b174(0x1d7)],'buildIdentifier':_0x1ca132,'os':os['type']()||_0x296a34[_0x33b174(0x228)],'hostname':os[_0x33b174(0x215)]()||_0x296a34[_0x33b174(0x228)],..._0x479242}};try{_0x296a34[_0x33b174(0x1c7)](_0x5d004d,_0x296a34[_0x33b174(0x237)])&&(_0xb044e3[_0x33b174(0x238)][_0x33b174(0x20b)]=helper['sanitizeBrowserStackConfig'](_0x38ecbb)),_0x296a34[_0x33b174(0x1c7)](_0x5dacec,_0x296a34['eIWIJ'])?_0xb044e3[_0x33b174(0x238)][_0x33b174(0x239)]=helper[_0x33b174(0x1b3)][_0x33b174(0x1af)](null,_0x296a34[_0x33b174(0x1e1)](getTransformPath),!![]):_0xb044e3[_0x33b174(0x238)]['seleniumVersion']=helper['getPackageVersion'](_0x296a34[_0x33b174(0x1ec)]);}catch(_0x5ba0a9){logger['debug'](_0x33b174(0x210)+_0x5ba0a9);}const _0x4fe81c={};_0x4fe81c[_0x33b174(0x20d)]=_0x296a34[_0x33b174(0x1d4)];const _0x41ca0f={'headers':_0x4fe81c,'body':_0xb044e3,'auth':{'user':helper[_0x33b174(0x1fc)](_0x38ecbb),'pass':helper[_0x33b174(0x23c)](_0x38ecbb)},'json':!![]};logger[_0x33b174(0x22a)](_0x33b174(0x1c3)+JSON['stringify'](_0x41ca0f['body'])[_0x33b174(0x1e0)](new RegExp(helper[_0x33b174(0x1fc)](_0x38ecbb),'g'),_0x296a34[_0x33b174(0x22c)])[_0x33b174(0x1e0)](new RegExp(helper[_0x33b174(0x23c)](_0x38ecbb),'g'),_0x296a34[_0x33b174(0x22c)]));try{const _0xe6ef90=await helper['nodeRequest'](_0x296a34[_0x33b174(0x1d6)],constants[_0x33b174(0x1ee)],_0x41ca0f,_0x38ecbb);logger[_0x33b174(0x22a)](_0x33b174(0x1e8)+_0x5d004d+_0x33b174(0x213)+util[_0x33b174(0x211)]('%j',_0xe6ef90));}catch(_0x2d8e27){logger['debug'](_0x33b174(0x1cc)+FUNNEL_INSTRUMENTATION_API_URL+_0x33b174(0x1c2)+util[_0x33b174(0x211)](_0x2d8e27));}},exports[a132_0x55a85b(0x202)]=async _0xd7ccdf=>{const _0x2e3772=a132_0x55a85b,_0x2cc504={'GKVIO':function(_0x3b441d){return _0x3b441d();},'NJMTH':'finishedMetadata','RZymh':_0x2e3772(0x1ef),'AEYdj':_0x2e3772(0x1fe),'qpiLq':function(_0x5a76aa,_0x590f4a,_0x5d4f1a){return _0x5a76aa(_0x590f4a,_0x5d4f1a);},'EHFzJ':function(_0x46ba5b,_0x1c8684){return _0x46ba5b+_0x1c8684;},'zLKVI':_0x2e3772(0x1ff)};try{await _0xd7ccdf[_0x2e3772(0x214)](),_0x2cc504[_0x2e3772(0x20a)](printNudgeLocalNotSetError);const _0x489cf4={};_0x489cf4[_0x2e3772(0x1c8)]=_0xd7ccdf[_0x2e3772(0x219)]?_0xd7ccdf[_0x2e3772(0x219)]:'{}';const _0x1a4235=_0x489cf4,_0x2a2f1c=Object[_0x2e3772(0x230)]({},_0x1a4235);!!_0xd7ccdf[_0x2e3772(0x208)]&&(_0x2a2f1c[_0x2cc504[_0x2e3772(0x1bd)]]={'reason':_0x2cc504[_0x2e3772(0x225)],'signal':_0xd7ccdf[_0x2e3772(0x208)]});unhandledErrors=_0xd7ccdf['unhandledErrors'][_0x2e3772(0x1d1)]('\x0a');let _0x5129ba,_0x458f57,_0x4651a4;helper['isTurboScaleSession'](_0xd7ccdf[_0x2e3772(0x1f5)])?([_0x5129ba,_0x458f57]=await helper[_0x2e3772(0x231)](_0xd7ccdf[_0x2e3772(0x1f5)]),[_0x4651a4]=await Promise[_0x2e3772(0x1f6)]([helper[_0x2e3772(0x226)](_0x5129ba,_0xd7ccdf['config']),exports['fireFunnelTestEvent'](_0x2cc504[_0x2e3772(0x1f3)],_0x2a2f1c,_0xd7ccdf[_0x2e3772(0x1f5)],_0xd7ccdf[_0x2e3772(0x217)])])):([_0x5129ba,_0x458f57]=await helper[_0x2e3772(0x1dc)](_0xd7ccdf['config']),[_0x4651a4]=await Promise[_0x2e3772(0x1f6)]([helper[_0x2e3772(0x1bf)](_0x5129ba,_0xd7ccdf['config']),exports[_0x2e3772(0x1ab)](_0x2cc504[_0x2e3772(0x1f3)],_0x2a2f1c,_0xd7ccdf[_0x2e3772(0x1f5)],_0xd7ccdf[_0x2e3772(0x217)])])),_0x4651a4&&await _0x2cc504[_0x2e3772(0x1ad)](generateCIArtifacts,_0x4651a4,_0x458f57),logger[_0x2e3772(0x1d0)](_0x2e3772(0x203)+_0xd7ccdf[_0x2e3772(0x1c5)]+',\x20testhub\x20id:\x20'+process[_0x2e3772(0x1e5)][_0x2e3772(0x1f9)]),await helper[_0x2e3772(0x1e6)](_0xd7ccdf[_0x2e3772(0x1f5)]);}catch(_0x5474fd){logger[_0x2e3772(0x22a)](_0x2cc504[_0x2e3772(0x1bc)](_0x2cc504['zLKVI'],_0x5474fd));}helper[_0x2e3772(0x1b0)]();},exports[a132_0x55a85b(0x1ae)]=_0x29031d=>{const _0x5cdb6d=a132_0x55a85b,_0x1c246e={'UUCYN':function(_0x35ec69,_0x525520){return _0x35ec69 instanceof _0x525520;},'rtnru':function(_0x3b0c28,_0x28e1e6){return _0x3b0c28(_0x28e1e6);}};try{if(_0x1c246e['UUCYN'](_0x29031d,Error))return _0x29031d[_0x5cdb6d(0x1d9)]||_0x29031d[_0x5cdb6d(0x21e)]();return _0x1c246e[_0x5cdb6d(0x227)](String,_0x29031d);}catch(_0x47f7d8){return _0x29031d?_0x29031d[_0x5cdb6d(0x21e)]():'';}},exports['isNullOrEmpty']=_0x24949d=>{const _0xda6377=a132_0x55a85b,_0x3afacd={};_0x3afacd[_0xda6377(0x1ca)]=function(_0x57ce9a,_0x19da4a){return _0x57ce9a===_0x19da4a;};const _0x4b28cb=_0x3afacd;return!_0x24949d||_0x4b28cb[_0xda6377(0x1ca)](_0x24949d[_0xda6377(0x23e)](),'');},exports[a132_0x55a85b(0x1d5)]=_0x51b283=>{const _0x2533ff=a132_0x55a85b,_0x59a167={};_0x59a167[_0x2533ff(0x224)]=function(_0x1d6647,_0x5b3acc){return _0x1d6647|_0x5b3acc;};const _0x35b210=_0x59a167;try{return fs[_0x2533ff(0x232)](_0x51b283,_0x35b210[_0x2533ff(0x224)](fs['constants'][_0x2533ff(0x200)],fs[_0x2533ff(0x21a)]['X_OK'])),!![];}catch(_0x1fc41b){return![];}},exports['setReadWriteExecuteAccess']=_0xd02681=>{const _0x4de9f3=a132_0x55a85b;try{fs[_0x4de9f3(0x1c0)](_0xd02681,0x1ff),logger[_0x4de9f3(0x22a)]('Directory\x20'+_0xd02681+_0x4de9f3(0x1ac));}catch(_0x1151ad){logger[_0x4de9f3(0x1c8)](_0x4de9f3(0x20f)+exports[_0x4de9f3(0x1ae)](_0x1151ad));}};