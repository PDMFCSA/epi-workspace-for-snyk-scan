const a93_0x50f60b=a93_0x336b;(function(_0x52f134,_0x4296df){const _0x50851c=a93_0x336b,_0xa18a0b=_0x52f134();while(!![]){try{const _0x2b7a14=parseInt(_0x50851c(0x180))/0x1+parseInt(_0x50851c(0x136))/0x2*(-parseInt(_0x50851c(0x16c))/0x3)+-parseInt(_0x50851c(0x179))/0x4+parseInt(_0x50851c(0x172))/0x5*(-parseInt(_0x50851c(0x19a))/0x6)+-parseInt(_0x50851c(0x184))/0x7+-parseInt(_0x50851c(0x165))/0x8+parseInt(_0x50851c(0x174))/0x9;if(_0x2b7a14===_0x4296df)break;else _0xa18a0b['push'](_0xa18a0b['shift']());}catch(_0x3ca0d3){_0xa18a0b['push'](_0xa18a0b['shift']());}}}(a93_0x4b13,0xb3f40));const os=require('os'),util=require(a93_0x50f60b(0x13b)),{getProductMap}=require(a93_0x50f60b(0x126)),logger=require(a93_0x50f60b(0x129))[a93_0x50f60b(0x148)],constants=require(a93_0x50f60b(0x141)),testHubConstants=require('../helpers/testhub/constants'),{getTransformPath}=require('../bin/playwright/reporter/pwUtils'),{FUNNEL_INSTRUMENTATION_API_URL}=require(a93_0x50f60b(0x141)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a93_0x50f60b(0x170)),PerformanceTester=require(a93_0x50f60b(0x151)),globals=require(a93_0x50f60b(0x19b)),{isTurboScaleSession}=require('./ats/helper'),helper=require(a93_0x50f60b(0x170)),{isTestObservabilitySession}=require('./test-observability/utils');function a93_0x336b(_0x2cec27,_0x28531a){const _0x4b137e=a93_0x4b13();return a93_0x336b=function(_0x336b73,_0x5d98de){_0x336b73=_0x336b73-0x126;let _0x24f0f8=_0x4b137e[_0x336b73];return _0x24f0f8;},a93_0x336b(_0x2cec27,_0x28531a);}function a93_0x4b13(){const _0x359de5=['globalException','notifyUpdate','event_properties','null','POST','winstonLogger','env','ZgyRA','APP_AUTOMATE','deviceName','keys','seleniumVersion','hostname','nodeRequest','./performance/performance-tester','requirePWModule','replace','BROWSERSTACK_TESTHUB_UUID','_buildHashedId','push','sendLogs',',\x20testhub\x20id:\x20','app','QdZqV','finishedMetadata','SDKTestSuccessful','playwrightVersion','APP_AUTOMATE_PRODUCTS','getUserName','Playwright','unhandledErrors','killSignal','mSPVM','nPTSu','3020296hPybpJ','rnOuB','TxNrq','type','pmBQv','API\x20Event\x20','user_killed','2370063LngtCo','AUTOMATE_PRODUCTS','undefined','osVersion','./helper','UuLCz','337915PlwSci','join','47652831wVtWuO','getFrameworkVersion','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','JGznj','framework','5183488vIXrvp','browser','getOptimalHubUrl','reduce','sdkRunID','nXmpy','info','452829fTmFBz','assign','errorMessage','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','8840951tWRjJX','\x20:\x20','version','getGlobal','xhNoA','debug','CbHwp','isBrowserstackInfra','gNidb','getNodeAgent','getAccessKey','ssQNy','sdkRunId','length','bMvYe','getSessionsList','tests','wjJjt','nUPuf','getTestFrameworkDetails','source','FUNNEL_INSTRUMENTATION_API_URL','114rWUbIv','./globals','stopPercy','error','./testhub/utils','apply','all','./logger','body','content-type','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','fireFunnelTestEvent','rtCvE','browserVersion','bpPSu','config','selenium-webdriver','ohHSx','forEach','getPackageVersion','2MILCwF','buildName','zTQLi','nodejs','values','util','GiRUl','name','format','getBuildLink','jDsDw','../bin/utils/constants','SkRiw'];a93_0x4b13=function(){return _0x359de5;};return a93_0x4b13();}let unhandledErrors='';exports[a93_0x50f60b(0x12d)]=async(_0x222d13,_0x1414ab={},_0x5e46fc,_0x13d199)=>{const _0x11c8f5=a93_0x50f60b,_0x418330={'ZgyRA':function(_0x464310,_0x28bd9b){return _0x464310===_0x28bd9b;},'CbHwp':'object','rtCvE':function(_0x1df0f4,_0x3b59ca){return _0x1df0f4>_0x3b59ca;},'nUPuf':_0x11c8f5(0x194),'JGznj':function(_0x4da6e3){return _0x4da6e3();},'bpPSu':function(_0x22bada){return _0x22bada();},'nXmpy':function(_0x1ede7a,_0x2ebe98){return _0x1ede7a==_0x2ebe98;},'xhNoA':_0x11c8f5(0x146),'ssQNy':_0x11c8f5(0x16e),'NZFTN':'codeceptjs','jWCaR':function(_0x23426b,_0x446bc4){return _0x23426b!==_0x446bc4;},'bMvYe':_0x11c8f5(0x160),'jDsDw':_0x11c8f5(0x19d),'IFfLY':function(_0x46c678,_0x3a10ee){return _0x46c678+_0x3a10ee;},'TxNrq':_0x11c8f5(0x12c),'nPTSu':_0x11c8f5(0x155),'gNidb':function(_0xcc6e67,_0x289abf){return _0xcc6e67(_0x289abf);},'UuLCz':'unknown','mSPVM':_0x11c8f5(0x139),'rnOuB':_0x11c8f5(0x15c),'PidAT':function(_0x1089a7,_0x43fb16){return _0x1089a7===_0x43fb16;},'QdZqV':_0x11c8f5(0x132),'wjJjt':'application/json','GiRUl':'[REDACTED]','TmhoG':_0x11c8f5(0x147)};let _0x111990=[];if(helper[_0x11c8f5(0x18b)]()&&_0x418330[_0x11c8f5(0x177)](isTestObservabilitySession))_0x111990=_0x5e46fc[_0x11c8f5(0x159)]?constants[_0x11c8f5(0x15e)]:constants[_0x11c8f5(0x16d)];else{if(_0x418330[_0x11c8f5(0x130)](isTestObservabilitySession))_0x111990=constants['PRODUCT_IF_NOT_BROWSERSTACK_INFRA'];else helper['isBrowserstackInfra']()&&(_0x111990=_0x5e46fc[_0x11c8f5(0x159)]?constants[_0x11c8f5(0x14b)]:constants['AUTOMATE']);}let _0x1b8342=_0x5e46fc['buildIdentifier'];if(_0x418330[_0x11c8f5(0x17e)](_0x1b8342,null))_0x1b8342=_0x418330[_0x11c8f5(0x188)];else _0x418330[_0x11c8f5(0x14a)](_0x1b8342,undefined)&&(_0x1b8342=_0x418330[_0x11c8f5(0x18f)]);unhandledErrors&&_0x418330[_0x11c8f5(0x12e)](unhandledErrors['length'],0x0)&&(_0x1414ab[_0x11c8f5(0x143)]=unhandledErrors);global['sdkRunID']&&(_0x1414ab[_0x11c8f5(0x190)]=global['sdkRunID']);try{if(_0x1414ab[_0x11c8f5(0x19d)]){if(_0x418330[_0x11c8f5(0x14a)](_0x13d199,_0x418330['NZFTN'])&&_0x418330[_0x11c8f5(0x12e)](_0x1414ab['error'][_0x11c8f5(0x191)],0x0)){const _0x5cbc2c={};_0x5cbc2c['os']='',_0x5cbc2c['osVersion']='',_0x5cbc2c[_0x11c8f5(0x17a)]='',_0x5cbc2c[_0x11c8f5(0x12f)]='';const _0xd773ce=_0x5cbc2c;let _0xc8b6f3={};const _0x235b09=_0x1414ab['error'];_0xc8b6f3=_0x235b09[_0x11c8f5(0x17c)]((_0x2b4ea8,_0xbe669d)=>{for(const _0x595305 in _0xbe669d){_0x2b4ea8[_0x595305]=_0xbe669d[_0x595305];}return _0x2b4ea8;},{});const _0x1fe5d2={};_0x1fe5d2['tests']=_0xc8b6f3,_0x1414ab[_0x11c8f5(0x19d)]=[Object[_0x11c8f5(0x181)]({},_0xd773ce,_0x1fe5d2)];}else{let _0x5ee468=0x0;const _0x3532b1=_0x418330['jWCaR'](_0x13d199,_0x418330['bMvYe'])?JSON['parse'](_0x1414ab[_0x11c8f5(0x19d)]):_0x1414ab['error'],_0x374072=Object[_0x11c8f5(0x13a)](_0x3532b1);_0x374072['forEach'](_0x2e0c3e=>{const _0x2d46aa=_0x11c8f5;if(_0x418330['ZgyRA'](typeof _0x2e0c3e,_0x418330[_0x2d46aa(0x18a)])){const _0x57198e=Object['values'](_0x2e0c3e);!_0x57198e['every'](_0xa6879=>_0xa6879===null||_0xa6879===undefined||_0xa6879==='')&&(_0x5ee468+=0x1);}});if(_0x418330[_0x11c8f5(0x14a)](_0x5ee468,0x0))delete _0x1414ab[_0x418330['jDsDw']];else{const _0x2d7d9b=[];Object['keys'](_0x3532b1)[_0x11c8f5(0x134)](_0x3cac39=>{const _0x2cecc6=_0x11c8f5,[_0x41099d,_0x5d83af,_0x484b8b,_0x532e3e]=_0x3cac39['split'](',\x20');let _0x2ac442={};if(!_0x532e3e){const _0x1958ba={};_0x1958ba[_0x2cecc6(0x14c)]=_0x41099d,_0x1958ba[_0x2cecc6(0x16f)]=_0x5d83af,_0x1958ba[_0x2cecc6(0x17a)]=_0x484b8b,_0x2ac442=_0x1958ba;}else{const _0xae9c2e={};_0xae9c2e['os']=_0x41099d,_0xae9c2e[_0x2cecc6(0x16f)]=_0x5d83af,_0xae9c2e['browser']=_0x484b8b,_0xae9c2e['browserVersion']=_0x532e3e,_0x2ac442=_0xae9c2e;}const _0x4833e8={},_0x205ba4=_0x3532b1[_0x3cac39];Object[_0x2cecc6(0x14d)](_0x205ba4)[_0x2cecc6(0x134)](_0x3674ce=>{const _0x1fb702=_0x2cecc6;_0x418330[_0x1fb702(0x12e)](_0x205ba4[_0x3674ce]['length'],0x0)&&(_0x4833e8[_0x3674ce]=_0x205ba4[_0x3674ce]);}),_0x418330[_0x2cecc6(0x12e)](Object['keys'](_0x4833e8)['length'],0x0)&&(_0x2ac442[_0x418330[_0x2cecc6(0x196)]]=_0x4833e8,_0x2d7d9b[_0x2cecc6(0x156)](_0x2ac442));}),_0x418330[_0x11c8f5(0x12e)](_0x2d7d9b[_0x11c8f5(0x191)],0x0)?_0x1414ab[_0x11c8f5(0x19d)]=_0x2d7d9b:delete _0x1414ab[_0x418330[_0x11c8f5(0x140)]];}}}}catch(_0x563d1d){delete _0x1414ab[_0x418330[_0x11c8f5(0x140)]],logger[_0x11c8f5(0x189)](_0x418330['IFfLY'](_0x418330[_0x11c8f5(0x167)],_0x563d1d));}const _0x397d51=helper[_0x11c8f5(0x197)](_0x5e46fc,_0x5e46fc['framework']),_0x32b9bf={'userName':helper['getUserName'](_0x5e46fc),'accessKey':helper[_0x11c8f5(0x18e)](_0x5e46fc),'event_type':_0x222d13,'detectedFramework':_0x13d199,'buildHashedId':globals[_0x11c8f5(0x187)](_0x418330[_0x11c8f5(0x164)]),'optimalHubUrl':helper[_0x11c8f5(0x17b)](),'event_properties':{'testhub_uuid':process[_0x11c8f5(0x149)][testHubConstants['ENV_VAR']['BROWSERSTACK_TESTHUB_UUID']]||'','sdkRunId':global[_0x11c8f5(0x17d)],'product_map':_0x418330[_0x11c8f5(0x18c)](getProductMap,_0x5e46fc),'productMap':_0x418330[_0x11c8f5(0x18c)](getProductMap,_0x5e46fc),'language_framework':_0x5e46fc[_0x11c8f5(0x198)]||_0x418330['UuLCz'],'referrer':helper[_0x11c8f5(0x18d)](_0x13d199),'framework':_0x5e46fc['framework'],'frameworkVersion':helper[_0x11c8f5(0x175)](_0x13d199),'automationFramework':_0x397d51[_0x11c8f5(0x13d)],'automationFrameworkVersion':_0x397d51['version'],'language':_0x418330[_0x11c8f5(0x163)],'languageVersion':process[_0x11c8f5(0x186)],'product':_0x111990,'buildName':_0x5e46fc[_0x11c8f5(0x137)]||_0x418330[_0x11c8f5(0x18f)],'buildIdentifier':_0x1b8342,'os':os[_0x11c8f5(0x168)]()||_0x418330[_0x11c8f5(0x171)],'hostname':os[_0x11c8f5(0x14f)]()||_0x418330[_0x11c8f5(0x171)],..._0x1414ab}};try{_0x418330['ZgyRA'](_0x222d13,_0x418330[_0x11c8f5(0x166)])&&(_0x32b9bf[_0x11c8f5(0x145)]['browserStackConfig']=helper['sanitizeBrowserStackConfig'](_0x5e46fc)),_0x418330['PidAT'](_0x13d199,_0x418330[_0x11c8f5(0x192)])?_0x32b9bf[_0x11c8f5(0x145)][_0x11c8f5(0x15d)]=helper[_0x11c8f5(0x152)][_0x11c8f5(0x127)](null,_0x418330[_0x11c8f5(0x130)](getTransformPath),!![]):_0x32b9bf[_0x11c8f5(0x145)][_0x11c8f5(0x14e)]=helper[_0x11c8f5(0x135)](_0x418330[_0x11c8f5(0x15a)]);}catch(_0x482d86){logger[_0x11c8f5(0x189)](_0x11c8f5(0x176)+_0x482d86);}const _0x2b14ba={};_0x2b14ba[_0x11c8f5(0x12b)]=_0x418330[_0x11c8f5(0x195)];const _0x18cc13={'headers':_0x2b14ba,'body':_0x32b9bf,'auth':{'user':helper[_0x11c8f5(0x15f)](_0x5e46fc),'pass':helper[_0x11c8f5(0x18e)](_0x5e46fc)},'json':!![]};logger['debug'](_0x11c8f5(0x183)+JSON['stringify'](_0x18cc13[_0x11c8f5(0x12a)])[_0x11c8f5(0x153)](new RegExp(helper[_0x11c8f5(0x15f)](_0x5e46fc),'g'),_0x418330[_0x11c8f5(0x13c)])[_0x11c8f5(0x153)](new RegExp(helper[_0x11c8f5(0x18e)](_0x5e46fc),'g'),_0x418330[_0x11c8f5(0x13c)]));try{const _0x3b5b8b=await helper[_0x11c8f5(0x150)](_0x418330['TmhoG'],constants[_0x11c8f5(0x199)],_0x18cc13,_0x5e46fc);logger[_0x11c8f5(0x189)](_0x11c8f5(0x16a)+_0x222d13+'\x20response\x20-\x20'+util[_0x11c8f5(0x13e)]('%j',_0x3b5b8b));}catch(_0x375939){logger[_0x11c8f5(0x189)]('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+_0x11c8f5(0x185)+util[_0x11c8f5(0x13e)](_0x375939));}},exports['finalExecution']=async _0x4bf1c1=>{const _0x4256d1=a93_0x50f60b,_0x85c91d={'BcMaD':function(_0x1942c3){return _0x1942c3();},'esmKB':_0x4256d1(0x15b),'ohHSx':_0x4256d1(0x16b),'zTQLi':function(_0x26d95d,_0x36a27c){return _0x26d95d(_0x36a27c);},'pmBQv':'SDKTestSuccessful','SkRiw':function(_0xd4621e,_0xff5a0b,_0xe21dac){return _0xd4621e(_0xff5a0b,_0xe21dac);},'eVRwv':function(_0x46a4bb,_0x2786c7){return _0x46a4bb+_0x2786c7;},'sqCsS':'Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20'};try{await _0x4bf1c1[_0x4256d1(0x19c)](),_0x85c91d['BcMaD'](printNudgeLocalNotSetError);const _0x1afd1c={};_0x1afd1c[_0x4256d1(0x19d)]=_0x4bf1c1[_0x4256d1(0x182)]?_0x4bf1c1[_0x4256d1(0x182)]:'{}';const _0x87a5d4=_0x1afd1c,_0x1f11f4=Object[_0x4256d1(0x181)]({},_0x87a5d4);!!_0x4bf1c1['killSignal']&&(_0x1f11f4[_0x85c91d['esmKB']]={'reason':_0x85c91d[_0x4256d1(0x133)],'signal':_0x4bf1c1[_0x4256d1(0x162)]});unhandledErrors=_0x4bf1c1[_0x4256d1(0x161)][_0x4256d1(0x173)]('\x0a');let _0x3570ee,_0x2d28b3,_0x2fef20;_0x85c91d[_0x4256d1(0x138)](isTurboScaleSession,_0x4bf1c1[_0x4256d1(0x131)])?([_0x3570ee,_0x2d28b3]=await helper['getTurboScaleBuildLink'](_0x4bf1c1[_0x4256d1(0x131)]),[_0x2fef20]=await Promise[_0x4256d1(0x128)]([helper['getTurboScaleSessionsList'](_0x3570ee,_0x4bf1c1[_0x4256d1(0x131)]),exports[_0x4256d1(0x12d)](_0x85c91d[_0x4256d1(0x169)],_0x1f11f4,_0x4bf1c1[_0x4256d1(0x131)],_0x4bf1c1['framework'])])):([_0x3570ee,_0x2d28b3]=await helper[_0x4256d1(0x13f)](_0x4bf1c1['config']),[_0x2fef20]=await Promise[_0x4256d1(0x128)]([helper[_0x4256d1(0x193)](_0x3570ee,_0x4bf1c1['config']),exports[_0x4256d1(0x12d)](_0x85c91d[_0x4256d1(0x169)],_0x1f11f4,_0x4bf1c1['config'],_0x4bf1c1[_0x4256d1(0x178)])])),_0x2fef20&&await _0x85c91d[_0x4256d1(0x142)](generateCIArtifacts,_0x2fef20,_0x2d28b3),logger[_0x4256d1(0x17f)]('SDK\x20run\x20ended\x20for\x20id:\x20'+_0x4bf1c1[_0x4256d1(0x17d)]+_0x4256d1(0x158)+process['env'][_0x4256d1(0x154)]),await helper[_0x4256d1(0x157)](_0x4bf1c1[_0x4256d1(0x131)]);}catch(_0x160546){logger[_0x4256d1(0x189)](_0x85c91d['eVRwv'](_0x85c91d['sqCsS'],_0x160546));}helper[_0x4256d1(0x144)]();};