const a142_0x11de5b=a142_0xf955;(function(_0x265e05,_0x22a499){const _0x7c0791=a142_0xf955,_0x5020a6=_0x265e05();while(!![]){try{const _0x2e55b5=parseInt(_0x7c0791(0x1ee))/0x1+parseInt(_0x7c0791(0x1ab))/0x2*(-parseInt(_0x7c0791(0x1ec))/0x3)+parseInt(_0x7c0791(0x1b6))/0x4+-parseInt(_0x7c0791(0x18e))/0x5+parseInt(_0x7c0791(0x183))/0x6*(-parseInt(_0x7c0791(0x185))/0x7)+-parseInt(_0x7c0791(0x1df))/0x8+parseInt(_0x7c0791(0x1d6))/0x9;if(_0x2e55b5===_0x22a499)break;else _0x5020a6['push'](_0x5020a6['shift']());}catch(_0x3b6770){_0x5020a6['push'](_0x5020a6['shift']());}}}(a142_0x5930,0xa9df2));const os=require('os'),util=require(a142_0x11de5b(0x1bb)),fs=require('fs'),{getProductMap}=require(a142_0x11de5b(0x191)),logger=require('./logger')[a142_0x11de5b(0x188)],constants=require(a142_0x11de5b(0x1b5)),testHubConstants=require('../helpers/testhub/constants'),{getTransformPath}=require(a142_0x11de5b(0x182)),{FUNNEL_INSTRUMENTATION_API_URL}=require('../bin/utils/constants'),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a142_0x11de5b(0x1bf)),PerformanceTester=require(a142_0x11de5b(0x1ff)),globals=require(a142_0x11de5b(0x1d1)),helper=require('./helper'),{isTestObservabilitySession}=require(a142_0x11de5b(0x1e3));let unhandledErrors='';function a142_0xf955(_0x3a482c,_0x3b7624){const _0x5930db=a142_0x5930();return a142_0xf955=function(_0xf9555f,_0x473170){_0xf9555f=_0xf9555f-0x17a;let _0x1a0eb9=_0x5930db[_0xf9555f];return _0x1a0eb9;},a142_0xf955(_0x3a482c,_0x3b7624);}exports[a142_0x11de5b(0x1fb)]=async(_0x413a73,_0x560d05={},_0xd0c913,_0x3c36f2)=>{const _0x177ce2=a142_0x11de5b,_0x5cbde3={'bRfol':function(_0x3b317d,_0x27b8d2){return _0x3b317d===_0x27b8d2;},'QwElh':_0x177ce2(0x19b),'kJNqX':function(_0x4a270f,_0x1bac7b){return _0x4a270f>_0x1bac7b;},'gecgZ':_0x177ce2(0x1c8),'WKwcN':function(_0x41d571){return _0x41d571();},'dTXuL':function(_0x41b960,_0x4e39fa){return _0x41b960==_0x4e39fa;},'mfZkb':_0x177ce2(0x17b),'NJvlc':_0x177ce2(0x197),'qthnx':function(_0x22928c,_0x2a74d3){return _0x22928c>_0x2a74d3;},'WYfYN':function(_0x266b67,_0xb9a396){return _0x266b67===_0xb9a396;},'aUZIe':_0x177ce2(0x1d8),'dqbEW':function(_0x299513,_0x1b33b0){return _0x299513!==_0x1b33b0;},'ZvHmh':'Playwright','CkOml':function(_0x1018bc,_0x3a2391){return _0x1018bc===_0x3a2391;},'rfxCU':_0x177ce2(0x205),'gijQh':function(_0x185ca4,_0x19b22c){return _0x185ca4>_0x19b22c;},'cGoIz':function(_0x4dd34d,_0x16ce02){return _0x4dd34d+_0x16ce02;},'FPxtn':_0x177ce2(0x17c),'dimCl':'_buildHashedId','EbUyc':function(_0x67ea02,_0x57e3e3){return _0x67ea02(_0x57e3e3);},'qtdYT':_0x177ce2(0x1ca),'zDwfA':_0x177ce2(0x18f),'WWDiW':'SDKTestSuccessful','vJAvG':_0x177ce2(0x1d0),'KuKlW':'application/json','ulUnX':'[REDACTED]','HQawr':_0x177ce2(0x1c1)};let _0x15d36d=[];if(helper[_0x177ce2(0x1c9)]()&&_0x5cbde3['WKwcN'](isTestObservabilitySession))_0x15d36d=_0xd0c913[_0x177ce2(0x1ef)]?constants[_0x177ce2(0x1b2)]:constants[_0x177ce2(0x1fa)];else{if(_0x5cbde3[_0x177ce2(0x198)](isTestObservabilitySession))_0x15d36d=constants[_0x177ce2(0x1c2)];else helper[_0x177ce2(0x1c9)]()&&(_0x15d36d=_0xd0c913[_0x177ce2(0x1ef)]?constants['APP_AUTOMATE']:constants[_0x177ce2(0x1a3)]);}let _0x35614c=_0xd0c913[_0x177ce2(0x1db)];if(_0x5cbde3[_0x177ce2(0x1c4)](_0x35614c,null))_0x35614c=_0x5cbde3[_0x177ce2(0x203)];else _0x5cbde3['bRfol'](_0x35614c,undefined)&&(_0x35614c=_0x5cbde3[_0x177ce2(0x180)]);unhandledErrors&&_0x5cbde3[_0x177ce2(0x1ad)](unhandledErrors['length'],0x0)&&(_0x560d05[_0x177ce2(0x1ea)]=unhandledErrors);global[_0x177ce2(0x1c3)]&&(_0x560d05[_0x177ce2(0x1c3)]=global[_0x177ce2(0x1c3)]);try{if(_0x560d05[_0x177ce2(0x205)]){if(_0x5cbde3[_0x177ce2(0x1c0)](_0x3c36f2,_0x5cbde3[_0x177ce2(0x1bd)])&&_0x5cbde3[_0x177ce2(0x1ad)](_0x560d05[_0x177ce2(0x205)][_0x177ce2(0x1f7)],0x0)){const _0x29e3c4={};_0x29e3c4['os']='',_0x29e3c4['osVersion']='',_0x29e3c4[_0x177ce2(0x1a8)]='',_0x29e3c4[_0x177ce2(0x17d)]='';const _0x9c1c64=_0x29e3c4;let _0x54cbde={};const _0x1f1267=_0x560d05[_0x177ce2(0x205)];_0x54cbde=_0x1f1267['reduce']((_0x5d1866,_0x5b1b89)=>{for(const _0x8c6909 in _0x5b1b89){_0x5d1866[_0x8c6909]=_0x5b1b89[_0x8c6909];}return _0x5d1866;},{});const _0x2ea02={};_0x2ea02['tests']=_0x54cbde,_0x560d05[_0x177ce2(0x205)]=[Object[_0x177ce2(0x199)]({},_0x9c1c64,_0x2ea02)];}else{let _0x120545=0x0;const _0x4c22da=_0x5cbde3[_0x177ce2(0x1f5)](_0x3c36f2,_0x5cbde3['ZvHmh'])?JSON['parse'](_0x560d05[_0x177ce2(0x205)]):_0x560d05[_0x177ce2(0x205)],_0x4e011c=Object['values'](_0x4c22da);_0x4e011c[_0x177ce2(0x1e5)](_0x5ad61d=>{const _0x3b7b94=_0x177ce2;if(_0x5cbde3[_0x3b7b94(0x1f1)](typeof _0x5ad61d,_0x5cbde3[_0x3b7b94(0x1b9)])){const _0xc36843=Object[_0x3b7b94(0x19f)](_0x5ad61d);!_0xc36843[_0x3b7b94(0x1cb)](_0x2056ae=>_0x2056ae===null||_0x2056ae===undefined||_0x2056ae==='')&&(_0x120545+=0x1);}});if(_0x5cbde3['CkOml'](_0x120545,0x0))delete _0x560d05[_0x5cbde3[_0x177ce2(0x1be)]];else{const _0x553a71=[];Object[_0x177ce2(0x1de)](_0x4c22da)[_0x177ce2(0x1e5)](_0x4925fb=>{const _0x3af04a=_0x177ce2,[_0x5bcec0,_0x30198e,_0x11e02c,_0x39526f]=_0x4925fb[_0x3af04a(0x1e1)](',\x20');let _0x3b79a8={};if(!_0x39526f){const _0x2d32f1={};_0x2d32f1[_0x3af04a(0x1a5)]=_0x5bcec0,_0x2d32f1[_0x3af04a(0x1fe)]=_0x30198e,_0x2d32f1[_0x3af04a(0x1a8)]=_0x11e02c,_0x3b79a8=_0x2d32f1;}else{const _0x34a20e={};_0x34a20e['os']=_0x5bcec0,_0x34a20e[_0x3af04a(0x1fe)]=_0x30198e,_0x34a20e[_0x3af04a(0x1a8)]=_0x11e02c,_0x34a20e['browserVersion']=_0x39526f,_0x3b79a8=_0x34a20e;}const _0x51518e={},_0x39aa3a=_0x4c22da[_0x4925fb];Object['keys'](_0x39aa3a)[_0x3af04a(0x1e5)](_0x58d096=>{const _0x286795=_0x3af04a;_0x5cbde3[_0x286795(0x1d2)](_0x39aa3a[_0x58d096][_0x286795(0x1f7)],0x0)&&(_0x51518e[_0x58d096]=_0x39aa3a[_0x58d096]);}),_0x5cbde3[_0x3af04a(0x1d2)](Object[_0x3af04a(0x1de)](_0x51518e)[_0x3af04a(0x1f7)],0x0)&&(_0x3b79a8[_0x5cbde3['gecgZ']]=_0x51518e,_0x553a71[_0x3af04a(0x187)](_0x3b79a8));}),_0x5cbde3['gijQh'](_0x553a71[_0x177ce2(0x1f7)],0x0)?_0x560d05['error']=_0x553a71:delete _0x560d05[_0x5cbde3[_0x177ce2(0x1be)]];}}}}catch(_0x5aea09){delete _0x560d05[_0x5cbde3[_0x177ce2(0x1be)]],logger[_0x177ce2(0x1e4)](_0x5cbde3[_0x177ce2(0x1b3)](_0x5cbde3[_0x177ce2(0x1b8)],_0x5aea09));}const _0x149ba3=helper[_0x177ce2(0x1a0)](_0xd0c913,_0xd0c913['framework']),_0x3204e6={'userName':helper[_0x177ce2(0x206)](_0xd0c913),'accessKey':helper[_0x177ce2(0x1af)](_0xd0c913),'event_type':_0x413a73,'detectedFramework':_0x3c36f2,'buildHashedId':globals[_0x177ce2(0x1da)](_0x5cbde3[_0x177ce2(0x1d3)]),'optimalHubUrl':helper[_0x177ce2(0x1a6)](),'event_properties':{'testhub_uuid':process[_0x177ce2(0x200)][testHubConstants['ENV_VAR'][_0x177ce2(0x1c6)]]||'','sdkRunId':global[_0x177ce2(0x1c3)],'product_map':_0x5cbde3[_0x177ce2(0x196)](getProductMap,_0xd0c913),'productMap':_0x5cbde3[_0x177ce2(0x196)](getProductMap,_0xd0c913),'language_framework':_0xd0c913[_0x177ce2(0x17a)]||_0x5cbde3['qtdYT'],'referrer':helper[_0x177ce2(0x1f3)](_0x3c36f2),'framework':_0xd0c913[_0x177ce2(0x1ba)],'frameworkVersion':helper[_0x177ce2(0x18b)](_0x3c36f2),'automationFramework':_0x149ba3[_0x177ce2(0x184)],'automationFrameworkVersion':_0x149ba3[_0x177ce2(0x189)],'language':_0x5cbde3[_0x177ce2(0x1cd)],'languageVersion':process['version'],'product':_0x15d36d,'buildName':_0xd0c913[_0x177ce2(0x1d7)]||_0x5cbde3[_0x177ce2(0x180)],'buildIdentifier':_0x35614c,'os':os[_0x177ce2(0x1dc)]()||_0x5cbde3[_0x177ce2(0x186)],'hostname':os['hostname']()||_0x5cbde3[_0x177ce2(0x186)],..._0x560d05}};try{_0x5cbde3[_0x177ce2(0x1f0)](_0x413a73,_0x5cbde3[_0x177ce2(0x1dd)])&&(_0x3204e6[_0x177ce2(0x1fc)][_0x177ce2(0x19a)]=helper[_0x177ce2(0x1a9)](_0xd0c913)),_0x5cbde3[_0x177ce2(0x1f0)](_0x3c36f2,_0x5cbde3[_0x177ce2(0x1f4)])?_0x3204e6[_0x177ce2(0x1fc)][_0x177ce2(0x1a7)]=helper[_0x177ce2(0x1b7)]['apply'](null,_0x5cbde3[_0x177ce2(0x198)](getTransformPath),!![]):_0x3204e6['event_properties'][_0x177ce2(0x1b0)]=helper[_0x177ce2(0x190)](_0x5cbde3['vJAvG']);}catch(_0x35b96c){logger[_0x177ce2(0x1e4)](_0x177ce2(0x1aa)+_0x35b96c);}const _0x1a833e={};_0x1a833e[_0x177ce2(0x1d4)]=_0x5cbde3[_0x177ce2(0x17f)];const _0x1a9342={'headers':_0x1a833e,'body':_0x3204e6,'auth':{'user':helper[_0x177ce2(0x206)](_0xd0c913),'pass':helper[_0x177ce2(0x1af)](_0xd0c913)},'json':!![]};logger['debug']('Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20'+JSON['stringify'](_0x1a9342[_0x177ce2(0x1c7)])[_0x177ce2(0x1cc)](new RegExp(helper['getUserName'](_0xd0c913),'g'),_0x5cbde3[_0x177ce2(0x1e2)])[_0x177ce2(0x1cc)](new RegExp(helper[_0x177ce2(0x1af)](_0xd0c913),'g'),_0x5cbde3[_0x177ce2(0x1e2)]));try{const _0x32cabe=await helper[_0x177ce2(0x1a4)](_0x5cbde3[_0x177ce2(0x19c)],FUNNEL_INSTRUMENTATION_API_URL,_0x1a9342,_0xd0c913);logger[_0x177ce2(0x1e4)](_0x177ce2(0x201)+_0x413a73+'\x20response\x20-\x20'+util[_0x177ce2(0x1f8)]('%j',_0x32cabe));}catch(_0x187cf5){logger[_0x177ce2(0x1e4)]('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+_0x177ce2(0x204)+util[_0x177ce2(0x1f8)](_0x187cf5));}},exports['finalExecution']=async _0x56265d=>{const _0x2cc31a=a142_0x11de5b,_0x464e0b={'VpdmJ':function(_0x135a83){return _0x135a83();},'tWnqS':'finishedMetadata','GFXau':_0x2cc31a(0x1e8),'vmXzv':_0x2cc31a(0x18a),'UuEns':function(_0x2ed0ca,_0x1e790d,_0x186611){return _0x2ed0ca(_0x1e790d,_0x186611);},'xOUaz':function(_0x39831f,_0x5955bd){return _0x39831f+_0x5955bd;},'QJufx':'Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20'};try{await _0x56265d[_0x2cc31a(0x1cf)](),_0x464e0b[_0x2cc31a(0x1ae)](printNudgeLocalNotSetError);const _0x3b08cc={};_0x3b08cc[_0x2cc31a(0x205)]=_0x56265d[_0x2cc31a(0x194)]?_0x56265d[_0x2cc31a(0x194)]:'{}';const _0x8985f2=_0x3b08cc,_0x276a6d=Object[_0x2cc31a(0x199)]({},_0x8985f2);!!_0x56265d[_0x2cc31a(0x1e0)]&&(_0x276a6d[_0x464e0b[_0x2cc31a(0x19d)]]={'reason':_0x464e0b[_0x2cc31a(0x1d9)],'signal':_0x56265d['killSignal']});unhandledErrors=_0x56265d[_0x2cc31a(0x1a1)][_0x2cc31a(0x202)]('\x0a');let _0x57d51e,_0x58011b,_0x4e1f3a;helper[_0x2cc31a(0x1ce)](_0x56265d['config'])?([_0x57d51e,_0x58011b]=await helper[_0x2cc31a(0x1e9)](_0x56265d['config']),[_0x4e1f3a]=await Promise['all']([helper['getTurboScaleSessionsList'](_0x57d51e,_0x56265d['config']),exports['fireFunnelTestEvent'](_0x464e0b[_0x2cc31a(0x1ed)],_0x276a6d,_0x56265d[_0x2cc31a(0x195)],_0x56265d[_0x2cc31a(0x1ba)])])):([_0x57d51e,_0x58011b]=await helper[_0x2cc31a(0x1a2)](_0x56265d[_0x2cc31a(0x195)]),[_0x4e1f3a]=await Promise['all']([helper['getSessionsList'](_0x57d51e,_0x56265d[_0x2cc31a(0x195)]),exports[_0x2cc31a(0x1fb)](_0x464e0b[_0x2cc31a(0x1ed)],_0x276a6d,_0x56265d[_0x2cc31a(0x195)],_0x56265d[_0x2cc31a(0x1ba)])])),_0x4e1f3a&&await _0x464e0b[_0x2cc31a(0x19e)](generateCIArtifacts,_0x4e1f3a,_0x58011b),logger['info'](_0x2cc31a(0x1ac)+_0x56265d[_0x2cc31a(0x1c3)]+_0x2cc31a(0x1e6)+process['env']['BROWSERSTACK_TESTHUB_UUID']),await helper['sendLogs'](_0x56265d['config']);}catch(_0x5d6d56){logger['debug'](_0x464e0b['xOUaz'](_0x464e0b['QJufx'],_0x5d6d56));}helper[_0x2cc31a(0x1fd)]();},exports[a142_0x11de5b(0x1f2)]=_0x17fc5e=>{const _0x4c5869=a142_0x11de5b,_0x25392e={'RTvRU':function(_0x51d889,_0x245bc9){return _0x51d889 instanceof _0x245bc9;},'jgjzD':function(_0x11d832,_0x119df6){return _0x11d832(_0x119df6);}};try{if(_0x25392e['RTvRU'](_0x17fc5e,Error))return _0x17fc5e[_0x4c5869(0x18c)]||_0x17fc5e[_0x4c5869(0x17e)]();return _0x25392e[_0x4c5869(0x1f6)](String,_0x17fc5e);}catch(_0x472caa){return _0x17fc5e?_0x17fc5e[_0x4c5869(0x17e)]():'';}},exports[a142_0x11de5b(0x192)]=_0x4250c5=>{const _0x2c1061=a142_0x11de5b,_0xde458e={};_0xde458e[_0x2c1061(0x1eb)]=function(_0x3feb03,_0x1ced2a){return _0x3feb03===_0x1ced2a;};const _0x25d9c6=_0xde458e;return!_0x4250c5||_0x25d9c6[_0x2c1061(0x1eb)](_0x4250c5[_0x2c1061(0x1f9)](),'');},exports[a142_0x11de5b(0x1b4)]=_0x2405de=>{const _0x28a1a8=a142_0x11de5b,_0x1e3a3f={};_0x1e3a3f[_0x28a1a8(0x1c5)]=function(_0xda554d,_0xb5b008){return _0xda554d|_0xb5b008;};const _0x1fe817=_0x1e3a3f;try{return fs[_0x28a1a8(0x1bc)](_0x2405de,_0x1fe817[_0x28a1a8(0x1c5)](fs[_0x28a1a8(0x1d5)][_0x28a1a8(0x18d)],fs['constants']['X_OK'])),!![];}catch(_0x4ba728){return![];}},exports['setReadWriteExecuteAccess']=_0x289630=>{const _0x11c5bb=a142_0x11de5b;try{fs[_0x11c5bb(0x181)](_0x289630,0x1ff),logger[_0x11c5bb(0x1e4)](_0x11c5bb(0x1b1)+_0x289630+_0x11c5bb(0x193));}catch(_0x62fda2){logger['error'](_0x11c5bb(0x1e7)+exports['getStackTraceAsString'](_0x62fda2));}};function a142_0x5930(){const _0xf70ac2=['QwElh','framework','util','accessSync','aUZIe','rfxCU','./helper','WYfYN','POST','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','sdkRunId','dTXuL','ssoyc','BROWSERSTACK_TESTHUB_UUID','body','tests','isBrowserstackInfra','unknown','every','replace','zDwfA','isTurboScaleSession','stopPercy','selenium-webdriver','./globals','kJNqX','dimCl','content-type','constants','28985895yiToxw','buildName','codeceptjs','GFXau','getGlobal','buildIdentifier','type','WWDiW','keys','4235992qUNblA','killSignal','split','ulUnX','./test-observability/utils','debug','forEach',',\x20testhub\x20id:\x20','Failed\x20to\x20set\x20directory\x20access:\x20','user_killed','getTurboScaleBuildLink','globalException','WPqMn','3EUqNKz','vmXzv','307463OdxRXj','app','CkOml','bRfol','getStackTraceAsString','getNodeAgent','ZvHmh','dqbEW','jgjzD','length','format','trim','AUTOMATE_PRODUCTS','fireFunnelTestEvent','event_properties','notifyUpdate','osVersion','./performance/performance-tester','env','API\x20Event\x20','join','mfZkb','\x20:\x20','error','getUserName','source','null','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','browserVersion','toString','KuKlW','NJvlc','chmodSync','../bin/playwright/reporter/pwUtils','6xuyNly','name','9421909LxoZQO','qtdYT','push','winstonLogger','version','SDKTestSuccessful','getFrameworkVersion','stack','W_OK','2352085YxeZVh','nodejs','getPackageVersion','./testhub/utils','isNullOrEmpty','\x20has\x20now\x20read/write/execute\x20permissions.','errorMessage','config','EbUyc','undefined','WKwcN','assign','browserStackConfig','object','HQawr','tWnqS','UuEns','values','getTestFrameworkDetails','unhandledErrors','getBuildLink','AUTOMATE','nodeRequest','deviceName','getOptimalHubUrl','playwrightVersion','browser','sanitizeBrowserStackConfig','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','2347118HmGwha','SDK\x20run\x20ended\x20for\x20id:\x20','qthnx','VpdmJ','getAccessKey','seleniumVersion','Directory\x20','APP_AUTOMATE_PRODUCTS','cGoIz','isModifiable','../bin/utils/constants','2748552ANdruk','requirePWModule','FPxtn'];a142_0x5930=function(){return _0xf70ac2;};return a142_0x5930();}