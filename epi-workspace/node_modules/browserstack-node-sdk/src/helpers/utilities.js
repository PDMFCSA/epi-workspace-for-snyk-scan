const a132_0x7917f2=a132_0x2904;(function(_0x4ccbe8,_0x6c870b){const _0x3453a0=a132_0x2904,_0x257452=_0x4ccbe8();while(!![]){try{const _0x463595=-parseInt(_0x3453a0(0x105))/0x1*(-parseInt(_0x3453a0(0xd3))/0x2)+parseInt(_0x3453a0(0xfc))/0x3*(-parseInt(_0x3453a0(0xda))/0x4)+-parseInt(_0x3453a0(0x110))/0x5*(-parseInt(_0x3453a0(0x144))/0x6)+-parseInt(_0x3453a0(0x129))/0x7+parseInt(_0x3453a0(0xb5))/0x8+parseInt(_0x3453a0(0x12e))/0x9*(parseInt(_0x3453a0(0xd9))/0xa)+parseInt(_0x3453a0(0x12f))/0xb*(-parseInt(_0x3453a0(0xb9))/0xc);if(_0x463595===_0x6c870b)break;else _0x257452['push'](_0x257452['shift']());}catch(_0x2c167f){_0x257452['push'](_0x257452['shift']());}}}(a132_0x59d5,0x61723));const os=require('os'),util=require(a132_0x7917f2(0x13d)),fs=require('fs'),{getProductMap}=require('./testhub/utils'),logger=require('./logger')[a132_0x7917f2(0xc8)],constants=require(a132_0x7917f2(0x116)),testHubConstants=require(a132_0x7917f2(0xdb)),{getTransformPath}=require(a132_0x7917f2(0xb0)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a132_0x7917f2(0x116)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a132_0x7917f2(0xb8)),PerformanceTester=require(a132_0x7917f2(0xc7)),globals=require(a132_0x7917f2(0x126)),helper=require('./helper'),{isTestObservabilitySession}=require(a132_0x7917f2(0x123));function a132_0x59d5(){const _0x1ba8e6=['API\x20Event\x20','notifyUpdate','tnsaE','chmodSync','vMsgX','deviceName','split','./test-observability/utils','usKGl','APP_AUTOMATE','./globals','config','KBdjv','1091685bjEofV','version','\x20has\x20now\x20read/write/execute\x20permissions.','accessSync','getAccessKey','9RSFYdK','1518ztABFA','length','stack','yaWOZ','object','FUNNEL_INSTRUMENTATION_API_URL','\x20response\x20-\x20','join','assign','every','error','BRBZs','getPackageVersion','getTurboScaleSessionsList','util','event_properties','NyiyC','WSYNL','BROWSERSTACK_TESTHUB_UUID','values','tests','78XwMdgm','../bin/playwright/reporter/pwUtils','unknown','SDKTestSuccessful','stopPercy','name','2431832sVMtvZ','EaczT','SpSzq','./helper','53544GqZVzL','tuIMa','fNubA',',\x20testhub\x20id:\x20','push','TyMek','HSWfi','nWTzu','isNullOrEmpty','trim','xAECg','GnYhu','getFrameworkVersion','finalExecution','./performance/performance-tester','winstonLogger','app','browserVersion','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','replace','sdkRunId','requirePWModule','type','undefined','globalException','all','74RDbAyO','getGlobal','browser','xHWSt','xpcwS','errorMessage','5207810rLrHAr','1688oXzyMC','../helpers/testhub/constants','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','reduce','osVersion','stringify','_buildHashedId','getTestFrameworkDetails','setReadWriteExecuteAccess','codeceptjs','SDK\x20run\x20ended\x20for\x20id:\x20','fireFunnelTestEvent','getOptimalHubUrl','Qgaez','QvPUz','finishedMetadata','ENV_VAR','buildIdentifier','AUTOMATE','FdWvi','getNodeAgent','browserStackConfig','debug','env','PJjMN','format','HiIvH','UofVg','yNGes','cyunD','JTUHh','aBYng','getStackTraceAsString','selenium-webdriver','3039ALgqUS','killSignal','Error\x20in\x20firing\x20request\x20to\x20','W_OK','isBrowserstackInfra','toString','ZPJGg','content-type','parse','15237omCMec','body','vwcYV','forEach','getUserName','sendLogs','buildName','AUTOMATE_PRODUCTS','uorib','Playwright','fxexx','80695BqvWHK','getBuildLink','keys','Failed\x20to\x20set\x20directory\x20access:\x20','null','wxBrB','../bin/utils/constants','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','OtZUQ','[REDACTED]','playwrightVersion','framework'];a132_0x59d5=function(){return _0x1ba8e6;};return a132_0x59d5();}function a132_0x2904(_0x598eca,_0x322b4e){const _0x59d559=a132_0x59d5();return a132_0x2904=function(_0x290421,_0x3fb5dc){_0x290421=_0x290421-0xb0;let _0x203c52=_0x59d559[_0x290421];return _0x203c52;},a132_0x2904(_0x598eca,_0x322b4e);}let unhandledErrors='';exports[a132_0x7917f2(0xe5)]=async(_0x43daef,_0x5df290={},_0x2427db,_0x30e451)=>{const _0x246adb=a132_0x7917f2,_0x580eb7={'GnYhu':function(_0x457fc7,_0x92dee5){return _0x457fc7===_0x92dee5;},'WPmvB':_0x246adb(0x133),'vVJqK':function(_0x3de374,_0x23961e){return _0x3de374>_0x23961e;},'usKGl':function(_0x6b3f47,_0x2a7a94){return _0x6b3f47>_0x2a7a94;},'UofVg':_0x246adb(0x143),'fNubA':function(_0x333be2){return _0x333be2();},'SpSzq':function(_0x4915af,_0x4a7858){return _0x4915af==_0x4a7858;},'TyMek':_0x246adb(0x114),'xHWSt':function(_0x4c4eee,_0x525fc8){return _0x4c4eee===_0x525fc8;},'WSYNL':_0x246adb(0xd0),'yaWOZ':function(_0x373b86,_0x1bfbeb){return _0x373b86===_0x1bfbeb;},'EaczT':_0x246adb(0xe3),'tnsaE':function(_0xab7739,_0x475b3d){return _0xab7739>_0x475b3d;},'yNGes':function(_0x5940fb,_0x23864c){return _0x5940fb!==_0x23864c;},'vwcYV':_0x246adb(0x10e),'Qgaez':function(_0x269863,_0x5038ab){return _0x269863===_0x5038ab;},'aBYng':'error','tuIMa':function(_0x4874b6,_0x2dbb47){return _0x4874b6+_0x2dbb47;},'OtZUQ':_0x246adb(0xcb),'FKFTI':_0x246adb(0xe0),'nWTzu':function(_0x3f9772,_0x56a86c){return _0x3f9772(_0x56a86c);},'xpcwS':function(_0x1efe93,_0x164ce7){return _0x1efe93(_0x164ce7);},'KBdjv':_0x246adb(0xb1),'HiIvH':'nodejs','ZPJGg':function(_0x1ce31f,_0x5ed733){return _0x1ce31f===_0x5ed733;},'JTUHh':_0x246adb(0xb2),'jxlIT':_0x246adb(0xfb),'HSWfi':'application/json','xAECg':_0x246adb(0x119),'wxBrB':'POST'};let _0x1fac44=[];if(helper[_0x246adb(0x100)]()&&_0x580eb7['fNubA'](isTestObservabilitySession))_0x1fac44=_0x2427db[_0x246adb(0xc9)]?constants['APP_AUTOMATE_PRODUCTS']:constants[_0x246adb(0x10c)];else{if(_0x580eb7[_0x246adb(0xbb)](isTestObservabilitySession))_0x1fac44=constants[_0x246adb(0xdc)];else helper[_0x246adb(0x100)]()&&(_0x1fac44=_0x2427db['app']?constants[_0x246adb(0x125)]:constants[_0x246adb(0xec)]);}let _0x49f31d=_0x2427db[_0x246adb(0xeb)];if(_0x580eb7[_0x246adb(0xb7)](_0x49f31d,null))_0x49f31d=_0x580eb7[_0x246adb(0xbe)];else _0x580eb7[_0x246adb(0xd6)](_0x49f31d,undefined)&&(_0x49f31d=_0x580eb7[_0x246adb(0x140)]);unhandledErrors&&_0x580eb7[_0x246adb(0x124)](unhandledErrors[_0x246adb(0x130)],0x0)&&(_0x5df290[_0x246adb(0xd1)]=unhandledErrors);global[_0x246adb(0xcd)]&&(_0x5df290[_0x246adb(0xcd)]=global[_0x246adb(0xcd)]);try{if(_0x5df290[_0x246adb(0x139)]){if(_0x580eb7[_0x246adb(0x132)](_0x30e451,_0x580eb7[_0x246adb(0xb6)])&&_0x580eb7[_0x246adb(0x11e)](_0x5df290[_0x246adb(0x139)]['length'],0x0)){const _0x1a1d70={};_0x1a1d70['os']='',_0x1a1d70[_0x246adb(0xde)]='',_0x1a1d70[_0x246adb(0xd5)]='',_0x1a1d70[_0x246adb(0xca)]='';const _0x3620cf=_0x1a1d70;let _0x552a55={};const _0x367d04=_0x5df290[_0x246adb(0x139)];_0x552a55=_0x367d04[_0x246adb(0xdd)]((_0x1912cc,_0x5722e7)=>{for(const _0x59def2 in _0x5722e7){_0x1912cc[_0x59def2]=_0x5722e7[_0x59def2];}return _0x1912cc;},{});const _0x3c2e20={};_0x3c2e20[_0x246adb(0x143)]=_0x552a55,_0x5df290['error']=[Object[_0x246adb(0x137)]({},_0x3620cf,_0x3c2e20)];}else{let _0x1426d0=0x0;const _0x5e6b29=_0x580eb7[_0x246adb(0xf6)](_0x30e451,_0x580eb7[_0x246adb(0x107)])?JSON[_0x246adb(0x104)](_0x5df290[_0x246adb(0x139)]):_0x5df290['error'],_0x225629=Object[_0x246adb(0x142)](_0x5e6b29);_0x225629[_0x246adb(0x108)](_0x17939c=>{const _0x3025c0=_0x246adb;if(_0x580eb7[_0x3025c0(0xc4)](typeof _0x17939c,_0x580eb7['WPmvB'])){const _0x44e575=Object[_0x3025c0(0x142)](_0x17939c);!_0x44e575[_0x3025c0(0x138)](_0x5de1a1=>_0x5de1a1===null||_0x5de1a1===undefined||_0x5de1a1==='')&&(_0x1426d0+=0x1);}});if(_0x580eb7[_0x246adb(0xe7)](_0x1426d0,0x0))delete _0x5df290[_0x580eb7['aBYng']];else{const _0x24136f=[];Object[_0x246adb(0x112)](_0x5e6b29)['forEach'](_0x5d77ae=>{const _0x1b9097=_0x246adb,_0x295b01={'WjDFu':function(_0x13d181,_0x43839a){return _0x580eb7['vVJqK'](_0x13d181,_0x43839a);}},[_0x354fec,_0x59e5a2,_0x27b66c,_0x267787]=_0x5d77ae[_0x1b9097(0x122)](',\x20');let _0x306a60={};if(!_0x267787){const _0xcefc2c={};_0xcefc2c[_0x1b9097(0x121)]=_0x354fec,_0xcefc2c[_0x1b9097(0xde)]=_0x59e5a2,_0xcefc2c[_0x1b9097(0xd5)]=_0x27b66c,_0x306a60=_0xcefc2c;}else{const _0x2cfd5f={};_0x2cfd5f['os']=_0x354fec,_0x2cfd5f[_0x1b9097(0xde)]=_0x59e5a2,_0x2cfd5f[_0x1b9097(0xd5)]=_0x27b66c,_0x2cfd5f[_0x1b9097(0xca)]=_0x267787,_0x306a60=_0x2cfd5f;}const _0x4dbe14={},_0x3e3c70=_0x5e6b29[_0x5d77ae];Object[_0x1b9097(0x112)](_0x3e3c70)['forEach'](_0x326d46=>{const _0x5d7a64=_0x1b9097;_0x295b01['WjDFu'](_0x3e3c70[_0x326d46][_0x5d7a64(0x130)],0x0)&&(_0x4dbe14[_0x326d46]=_0x3e3c70[_0x326d46]);}),_0x580eb7['usKGl'](Object[_0x1b9097(0x112)](_0x4dbe14)[_0x1b9097(0x130)],0x0)&&(_0x306a60[_0x580eb7[_0x1b9097(0xf5)]]=_0x4dbe14,_0x24136f[_0x1b9097(0xbd)](_0x306a60));}),_0x580eb7['tnsaE'](_0x24136f[_0x246adb(0x130)],0x0)?_0x5df290[_0x246adb(0x139)]=_0x24136f:delete _0x5df290[_0x580eb7[_0x246adb(0xf9)]];}}}}catch(_0xb1a241){delete _0x5df290[_0x580eb7[_0x246adb(0xf9)]],logger[_0x246adb(0xf0)](_0x580eb7[_0x246adb(0xba)](_0x580eb7[_0x246adb(0x118)],_0xb1a241));}const _0x16c1b1=helper[_0x246adb(0xe1)](_0x2427db,_0x2427db[_0x246adb(0x11b)]),_0x5d052c={'userName':helper[_0x246adb(0x109)](_0x2427db),'accessKey':helper[_0x246adb(0x12d)](_0x2427db),'event_type':_0x43daef,'detectedFramework':_0x30e451,'buildHashedId':globals[_0x246adb(0xd4)](_0x580eb7['FKFTI']),'optimalHubUrl':helper[_0x246adb(0xe6)](),'event_properties':{'testhub_uuid':process['env'][testHubConstants[_0x246adb(0xea)][_0x246adb(0x141)]]||'','sdkRunId':global['sdkRunId'],'product_map':_0x580eb7[_0x246adb(0xc0)](getProductMap,_0x2427db),'productMap':_0x580eb7[_0x246adb(0xd7)](getProductMap,_0x2427db),'language_framework':_0x2427db['source']||_0x580eb7[_0x246adb(0x128)],'referrer':helper[_0x246adb(0xee)](_0x30e451),'framework':_0x2427db[_0x246adb(0x11b)],'frameworkVersion':helper[_0x246adb(0xc5)](_0x30e451),'automationFramework':_0x16c1b1[_0x246adb(0xb4)],'automationFrameworkVersion':_0x16c1b1['version'],'language':_0x580eb7[_0x246adb(0xf4)],'languageVersion':process[_0x246adb(0x12a)],'product':_0x1fac44,'buildName':_0x2427db[_0x246adb(0x10b)]||_0x580eb7[_0x246adb(0x140)],'buildIdentifier':_0x49f31d,'os':os[_0x246adb(0xcf)]()||_0x580eb7[_0x246adb(0x128)],'hostname':os['hostname']()||_0x580eb7[_0x246adb(0x128)],..._0x5df290}};try{_0x580eb7[_0x246adb(0x102)](_0x43daef,_0x580eb7[_0x246adb(0xf8)])&&(_0x5d052c[_0x246adb(0x13e)][_0x246adb(0xef)]=helper['sanitizeBrowserStackConfig'](_0x2427db)),_0x580eb7['Qgaez'](_0x30e451,_0x580eb7['vwcYV'])?_0x5d052c[_0x246adb(0x13e)][_0x246adb(0x11a)]=helper[_0x246adb(0xce)]['apply'](null,_0x580eb7['fNubA'](getTransformPath),!![]):_0x5d052c[_0x246adb(0x13e)]['seleniumVersion']=helper[_0x246adb(0x13b)](_0x580eb7['jxlIT']);}catch(_0x26fff5){logger[_0x246adb(0xf0)](_0x246adb(0x117)+_0x26fff5);}const _0x57ea4d={};_0x57ea4d[_0x246adb(0x103)]=_0x580eb7[_0x246adb(0xbf)];const _0x53e941={'headers':_0x57ea4d,'body':_0x5d052c,'auth':{'user':helper['getUserName'](_0x2427db),'pass':helper[_0x246adb(0x12d)](_0x2427db)},'json':!![]};logger['debug']('Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20'+JSON[_0x246adb(0xdf)](_0x53e941[_0x246adb(0x106)])[_0x246adb(0xcc)](new RegExp(helper[_0x246adb(0x109)](_0x2427db),'g'),_0x580eb7['xAECg'])[_0x246adb(0xcc)](new RegExp(helper[_0x246adb(0x12d)](_0x2427db),'g'),_0x580eb7[_0x246adb(0xc3)]));try{const _0x30908c=await helper['nodeRequest'](_0x580eb7[_0x246adb(0x115)],constants[_0x246adb(0x134)],_0x53e941,_0x2427db);logger['debug'](_0x246adb(0x11c)+_0x43daef+_0x246adb(0x135)+util[_0x246adb(0xf3)]('%j',_0x30908c));}catch(_0x5725d4){logger['debug'](_0x246adb(0xfe)+FUNNEL_INSTRUMENTATION_API_URL+'\x20:\x20'+util[_0x246adb(0xf3)](_0x5725d4));}},exports[a132_0x7917f2(0xc6)]=async _0x27fe6e=>{const _0x5f37be=a132_0x7917f2,_0x361d37={'FdWvi':function(_0x3f39d0){return _0x3f39d0();},'QvPUz':_0x5f37be(0xe9),'PJjMN':'user_killed','cyunD':_0x5f37be(0xb2),'ZRXNg':function(_0x49ad83,_0x3c7948,_0x3a8f32){return _0x49ad83(_0x3c7948,_0x3a8f32);},'vMsgX':function(_0x1a285c,_0x5bd488){return _0x1a285c+_0x5bd488;},'NyiyC':'Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20'};try{await _0x27fe6e[_0x5f37be(0xb3)](),_0x361d37[_0x5f37be(0xed)](printNudgeLocalNotSetError);const _0x46e414={};_0x46e414[_0x5f37be(0x139)]=_0x27fe6e['errorMessage']?_0x27fe6e[_0x5f37be(0xd8)]:'{}';const _0x4d9cd7=_0x46e414,_0x546b83=Object['assign']({},_0x4d9cd7);!!_0x27fe6e[_0x5f37be(0xfd)]&&(_0x546b83[_0x361d37[_0x5f37be(0xe8)]]={'reason':_0x361d37[_0x5f37be(0xf2)],'signal':_0x27fe6e['killSignal']});unhandledErrors=_0x27fe6e['unhandledErrors'][_0x5f37be(0x136)]('\x0a');let _0x169d72,_0x2476f3,_0x208e3c;helper['isTurboScaleSession'](_0x27fe6e['config'])?([_0x169d72,_0x2476f3]=await helper['getTurboScaleBuildLink'](_0x27fe6e[_0x5f37be(0x127)]),[_0x208e3c]=await Promise[_0x5f37be(0xd2)]([helper[_0x5f37be(0x13c)](_0x169d72,_0x27fe6e[_0x5f37be(0x127)]),exports[_0x5f37be(0xe5)](_0x361d37['cyunD'],_0x546b83,_0x27fe6e[_0x5f37be(0x127)],_0x27fe6e[_0x5f37be(0x11b)])])):([_0x169d72,_0x2476f3]=await helper[_0x5f37be(0x111)](_0x27fe6e[_0x5f37be(0x127)]),[_0x208e3c]=await Promise[_0x5f37be(0xd2)]([helper['getSessionsList'](_0x169d72,_0x27fe6e[_0x5f37be(0x127)]),exports[_0x5f37be(0xe5)](_0x361d37[_0x5f37be(0xf7)],_0x546b83,_0x27fe6e[_0x5f37be(0x127)],_0x27fe6e['framework'])])),_0x208e3c&&await _0x361d37['ZRXNg'](generateCIArtifacts,_0x208e3c,_0x2476f3),logger['info'](_0x5f37be(0xe4)+_0x27fe6e[_0x5f37be(0xcd)]+_0x5f37be(0xbc)+process[_0x5f37be(0xf1)][_0x5f37be(0x141)]),await helper[_0x5f37be(0x10a)](_0x27fe6e[_0x5f37be(0x127)]);}catch(_0x47e7e1){logger[_0x5f37be(0xf0)](_0x361d37[_0x5f37be(0x120)](_0x361d37[_0x5f37be(0x13f)],_0x47e7e1));}helper[_0x5f37be(0x11d)]();},exports[a132_0x7917f2(0xfa)]=_0x1e9d52=>{const _0x1394eb=a132_0x7917f2,_0x2d891e={'BCuDF':function(_0x595039,_0x3fe2c7){return _0x595039 instanceof _0x3fe2c7;},'BRBZs':function(_0x154079,_0x327c07){return _0x154079(_0x327c07);}};try{if(_0x2d891e['BCuDF'](_0x1e9d52,Error))return _0x1e9d52[_0x1394eb(0x131)]||_0x1e9d52[_0x1394eb(0x101)]();return _0x2d891e[_0x1394eb(0x13a)](String,_0x1e9d52);}catch(_0x36db1d){return _0x1e9d52?_0x1e9d52[_0x1394eb(0x101)]():'';}},exports[a132_0x7917f2(0xc1)]=_0x582f4e=>{const _0x4a9946=a132_0x7917f2,_0x4f9ec8={};_0x4f9ec8[_0x4a9946(0x10d)]=function(_0x2eb34f,_0x56adbc){return _0x2eb34f===_0x56adbc;};const _0x356502=_0x4f9ec8;return!_0x582f4e||_0x356502[_0x4a9946(0x10d)](_0x582f4e[_0x4a9946(0xc2)](),'');},exports['isModifiable']=_0x4e3b26=>{const _0x25bc4a=a132_0x7917f2,_0x4c9e01={};_0x4c9e01['fxexx']=function(_0x3de397,_0x3dcb8c){return _0x3de397|_0x3dcb8c;};const _0x48627c=_0x4c9e01;try{return fs[_0x25bc4a(0x12c)](_0x4e3b26,_0x48627c[_0x25bc4a(0x10f)](fs['constants'][_0x25bc4a(0xff)],fs['constants']['X_OK'])),!![];}catch(_0xaee703){return![];}},exports[a132_0x7917f2(0xe2)]=_0x53b331=>{const _0x3efc0d=a132_0x7917f2;try{fs[_0x3efc0d(0x11f)](_0x53b331,0x1ff),logger['debug']('Directory\x20'+_0x53b331+_0x3efc0d(0x12b));}catch(_0x50f0bb){logger['error'](_0x3efc0d(0x113)+exports[_0x3efc0d(0xfa)](_0x50f0bb));}};