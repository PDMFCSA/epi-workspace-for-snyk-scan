const a93_0x41629d=a93_0x3677;(function(_0x2061d4,_0x1d124a){const _0x5a705e=a93_0x3677,_0x4af958=_0x2061d4();while(!![]){try{const _0x2c5b91=-parseInt(_0x5a705e(0xd4))/0x1*(-parseInt(_0x5a705e(0xe7))/0x2)+parseInt(_0x5a705e(0xcd))/0x3+parseInt(_0x5a705e(0xd7))/0x4+-parseInt(_0x5a705e(0xd9))/0x5+parseInt(_0x5a705e(0xbf))/0x6*(parseInt(_0x5a705e(0xa5))/0x7)+-parseInt(_0x5a705e(0xca))/0x8+-parseInt(_0x5a705e(0xe6))/0x9;if(_0x2c5b91===_0x1d124a)break;else _0x4af958['push'](_0x4af958['shift']());}catch(_0x1eedd9){_0x4af958['push'](_0x4af958['shift']());}}}(a93_0x4dc0,0x60e83));function a93_0x4dc0(){const _0x590935=['object','assign','./test-observability/utils','jljrd','nodeRequest','killSignal','./globals','\x20:\x20','type','_buildHashedId','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','isBrowserstackInfra','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','format','application/json','getUserName','sdkRunId','util','tests','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','getBuildLink','\x20response\x20-\x20','null','getAccessKey','event_properties','info','push','framework','YWPDa','buildIdentifier','forEach','ALCrI','PLoOm','content-type','getFrameworkVersion','./performance/performance-tester','BQBjl','errorMessage','dgVCa','user_killed','name','deviceName','kXQvV','171738DzFzSE','SDK\x20run\x20ended\x20for\x20id:\x20','izZXT','qOorZ','requirePWModule','selenium-webdriver','sendLogs','playwrightVersion','SDKTestSuccessful','getPackageVersion','GjhBR','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','./testhub/utils','reduce','config','Playwright','oWxqd','NtSfU','winstonLogger','LqtSt','MaUoZ','unhandledErrors','FUNNEL_INSTRUMENTATION_API_URL','sdkRunID','UUjIR','API\x20Event\x20','12mZuAnP','getTurboScaleBuildLink','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','parse','getNodeAgent','join','keys','PQwfZ','Error\x20in\x20firing\x20request\x20to\x20','apply','seleniumVersion','2083608YIJqbp','stopPercy','./ats/helper','1300734AAwZBh','getTestFrameworkDetails','nodejs','browser','env','fcEqM','../bin/utils/constants','3991jxGfkW','WqHZf','getGlobal','2911784gVeOHI','POST','1069745xPZOOz','finishedMetadata','length','osVersion','getSessionsList','browserStackConfig','ENV_VAR','unknown','zOASk','[REDACTED]','stringify','getTurboScaleSessionsList','error','9590607uTWZeE','364LZCqcX','browserVersion','fireFunnelTestEvent','qCUDL','../bin/playwright/reporter/pwUtils','replace','debug','APP_AUTOMATE_PRODUCTS','USoYo','APP_AUTOMATE','app','globalException','finalExecution','Aenop','./helper','getOptimalHubUrl','buildName','OIgvI','HzCvd','AUTOMATE','values','WCvZP','codeceptjs'];a93_0x4dc0=function(){return _0x590935;};return a93_0x4dc0();}const os=require('os'),util=require(a93_0x41629d(0x8b)),{getProductMap}=require(a93_0x41629d(0xb1)),logger=require('./logger')[a93_0x41629d(0xb7)],constants=require(a93_0x41629d(0xd3)),testHubConstants=require('../helpers/testhub/constants'),{getTransformPath}=require(a93_0x41629d(0xeb)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a93_0x41629d(0xd3)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a93_0x41629d(0xf5)),PerformanceTester=require(a93_0x41629d(0x9d)),globals=require(a93_0x41629d(0x104)),{isTurboScaleSession}=require(a93_0x41629d(0xcc)),helper=require('./helper'),{isTestObservabilitySession}=require(a93_0x41629d(0x100));function a93_0x3677(_0x54976b,_0x3fcff7){const _0x4dc035=a93_0x4dc0();return a93_0x3677=function(_0x3677bb,_0x524c9c){_0x3677bb=_0x3677bb-0x88;let _0xac5da1=_0x4dc035[_0x3677bb];return _0xac5da1;},a93_0x3677(_0x54976b,_0x3fcff7);}let unhandledErrors='';exports['fireFunnelTestEvent']=async(_0x4e7af2,_0x4bfee0={},_0x523cb2,_0x2331a4)=>{const _0x2dc7f9=a93_0x41629d,_0x18029c={'zOASk':function(_0x3cbd76,_0x56badc){return _0x3cbd76===_0x56badc;},'WCvZP':_0x2dc7f9(0xfe),'jljrd':function(_0x30211f,_0x562af0){return _0x30211f>_0x562af0;},'jOaQR':_0x2dc7f9(0x8c),'ALCrI':function(_0x32eaff){return _0x32eaff();},'HzCvd':function(_0x642923){return _0x642923();},'hOYfp':function(_0x30c542,_0x13c61d){return _0x30c542==_0x13c61d;},'oWxqd':_0x2dc7f9(0x90),'hSPZB':'undefined','WqHZf':_0x2dc7f9(0xfd),'dgVCa':function(_0x3f64f2,_0x2db2ad){return _0x3f64f2!==_0x2db2ad;},'UUjIR':_0x2dc7f9(0xb4),'qCUDL':'error','LqtSt':function(_0x4d19e0,_0x47c769){return _0x4d19e0+_0x47c769;},'GlzPi':_0x2dc7f9(0xc1),'MaUoZ':_0x2dc7f9(0x107),'VbviW':function(_0x5c870f,_0x4c70c9){return _0x5c870f(_0x4c70c9);},'PQwfZ':function(_0x3bfd7d,_0x25651b){return _0x3bfd7d(_0x25651b);},'fcEqM':_0x2dc7f9(0xe0),'NtSfU':_0x2dc7f9(0xcf),'YWPDa':_0x2dc7f9(0xad),'PLoOm':function(_0x12d53b,_0x2f4f95){return _0x12d53b===_0x2f4f95;},'OIgvI':_0x2dc7f9(0xaa),'izZXT':_0x2dc7f9(0x88),'BQBjl':_0x2dc7f9(0xe2),'wJIkp':_0x2dc7f9(0xd8)};let _0x26cd37=[];if(helper[_0x2dc7f9(0x109)]()&&_0x18029c[_0x2dc7f9(0x99)](isTestObservabilitySession))_0x26cd37=_0x523cb2[_0x2dc7f9(0xf1)]?constants[_0x2dc7f9(0xee)]:constants['AUTOMATE_PRODUCTS'];else{if(_0x18029c[_0x2dc7f9(0xf9)](isTestObservabilitySession))_0x26cd37=constants[_0x2dc7f9(0x108)];else helper[_0x2dc7f9(0x109)]()&&(_0x26cd37=_0x523cb2[_0x2dc7f9(0xf1)]?constants[_0x2dc7f9(0xf0)]:constants[_0x2dc7f9(0xfa)]);}let _0x94922=_0x523cb2[_0x2dc7f9(0x97)];if(_0x18029c['hOYfp'](_0x94922,null))_0x94922=_0x18029c[_0x2dc7f9(0xb5)];else _0x18029c[_0x2dc7f9(0xe1)](_0x94922,undefined)&&(_0x94922=_0x18029c['hSPZB']);unhandledErrors&&_0x18029c['jljrd'](unhandledErrors[_0x2dc7f9(0xdb)],0x0)&&(_0x4bfee0[_0x2dc7f9(0xf2)]=unhandledErrors);global[_0x2dc7f9(0xbc)]&&(_0x4bfee0[_0x2dc7f9(0x8a)]=global['sdkRunID']);try{if(_0x4bfee0[_0x2dc7f9(0xe5)]){if(_0x18029c[_0x2dc7f9(0xe1)](_0x2331a4,_0x18029c[_0x2dc7f9(0xd5)])&&_0x18029c[_0x2dc7f9(0x101)](_0x4bfee0[_0x2dc7f9(0xe5)][_0x2dc7f9(0xdb)],0x0)){const _0x33ec40={};_0x33ec40['os']='',_0x33ec40[_0x2dc7f9(0xdc)]='',_0x33ec40[_0x2dc7f9(0xd0)]='',_0x33ec40['browserVersion']='';const _0x20035b=_0x33ec40;let _0x209989={};const _0x17fdf6=_0x4bfee0[_0x2dc7f9(0xe5)];_0x209989=_0x17fdf6[_0x2dc7f9(0xb2)]((_0x3aae30,_0x50480b)=>{for(const _0x1f3ac7 in _0x50480b){_0x3aae30[_0x1f3ac7]=_0x50480b[_0x1f3ac7];}return _0x3aae30;},{});const _0x3db089={};_0x3db089[_0x2dc7f9(0x8c)]=_0x209989,_0x4bfee0['error']=[Object[_0x2dc7f9(0xff)]({},_0x20035b,_0x3db089)];}else{let _0x44506d=0x0;const _0x284643=_0x18029c[_0x2dc7f9(0xa0)](_0x2331a4,_0x18029c[_0x2dc7f9(0xbd)])?JSON[_0x2dc7f9(0xc2)](_0x4bfee0[_0x2dc7f9(0xe5)]):_0x4bfee0[_0x2dc7f9(0xe5)],_0xd94988=Object[_0x2dc7f9(0xfb)](_0x284643);_0xd94988['forEach'](_0x35a210=>{const _0x494d30=_0x2dc7f9;if(_0x18029c[_0x494d30(0xe1)](typeof _0x35a210,_0x18029c[_0x494d30(0xfc)])){const _0x36d920=Object['values'](_0x35a210);!_0x36d920['every'](_0x29dcb4=>_0x29dcb4===null||_0x29dcb4===undefined||_0x29dcb4==='')&&(_0x44506d+=0x1);}});if(_0x18029c[_0x2dc7f9(0xe1)](_0x44506d,0x0))delete _0x4bfee0[_0x18029c[_0x2dc7f9(0xea)]];else{const _0x1011b1=[];Object['keys'](_0x284643)[_0x2dc7f9(0x98)](_0xa7b08a=>{const _0x2806f1=_0x2dc7f9,_0x3ae8e2={'kXQvV':function(_0x47b246,_0x26c5bb){const _0x1b1f37=a93_0x3677;return _0x18029c[_0x1b1f37(0x101)](_0x47b246,_0x26c5bb);}},[_0x5f2133,_0x59e08f,_0x1851f9,_0x3c7f4f]=_0xa7b08a['split'](',\x20');let _0x27003b={};if(!_0x3c7f4f){const _0x11f60b={};_0x11f60b[_0x2806f1(0xa3)]=_0x5f2133,_0x11f60b[_0x2806f1(0xdc)]=_0x59e08f,_0x11f60b[_0x2806f1(0xd0)]=_0x1851f9,_0x27003b=_0x11f60b;}else{const _0x43399e={};_0x43399e['os']=_0x5f2133,_0x43399e[_0x2806f1(0xdc)]=_0x59e08f,_0x43399e[_0x2806f1(0xd0)]=_0x1851f9,_0x43399e[_0x2806f1(0xe8)]=_0x3c7f4f,_0x27003b=_0x43399e;}const _0x42b326={},_0x501bda=_0x284643[_0xa7b08a];Object[_0x2806f1(0xc5)](_0x501bda)[_0x2806f1(0x98)](_0x2b7039=>{const _0x7ef67a=_0x2806f1;_0x3ae8e2[_0x7ef67a(0xa4)](_0x501bda[_0x2b7039][_0x7ef67a(0xdb)],0x0)&&(_0x42b326[_0x2b7039]=_0x501bda[_0x2b7039]);}),_0x18029c['jljrd'](Object[_0x2806f1(0xc5)](_0x42b326)[_0x2806f1(0xdb)],0x0)&&(_0x27003b[_0x18029c['jOaQR']]=_0x42b326,_0x1011b1[_0x2806f1(0x94)](_0x27003b));}),_0x18029c[_0x2dc7f9(0x101)](_0x1011b1[_0x2dc7f9(0xdb)],0x0)?_0x4bfee0[_0x2dc7f9(0xe5)]=_0x1011b1:delete _0x4bfee0[_0x18029c[_0x2dc7f9(0xea)]];}}}}catch(_0x569b8d){delete _0x4bfee0[_0x18029c[_0x2dc7f9(0xea)]],logger[_0x2dc7f9(0xed)](_0x18029c[_0x2dc7f9(0xb8)](_0x18029c['GlzPi'],_0x569b8d));}const _0x2fb07c=helper[_0x2dc7f9(0xce)](_0x523cb2,_0x523cb2['framework']),_0x2c5b21={'userName':helper['getUserName'](_0x523cb2),'accessKey':helper[_0x2dc7f9(0x91)](_0x523cb2),'event_type':_0x4e7af2,'detectedFramework':_0x2331a4,'buildHashedId':globals[_0x2dc7f9(0xd6)](_0x18029c[_0x2dc7f9(0xb9)]),'optimalHubUrl':helper[_0x2dc7f9(0xf6)](),'event_properties':{'testhub_uuid':process[_0x2dc7f9(0xd1)][testHubConstants[_0x2dc7f9(0xdf)]['BROWSERSTACK_TESTHUB_UUID']]||'','sdkRunId':global['sdkRunID'],'product_map':_0x18029c['VbviW'](getProductMap,_0x523cb2),'productMap':_0x18029c[_0x2dc7f9(0xc6)](getProductMap,_0x523cb2),'language_framework':_0x523cb2['source']||_0x18029c[_0x2dc7f9(0xd2)],'referrer':helper[_0x2dc7f9(0xc3)](_0x2331a4),'framework':_0x523cb2[_0x2dc7f9(0x95)],'frameworkVersion':helper[_0x2dc7f9(0x9c)](_0x2331a4),'automationFramework':_0x2fb07c[_0x2dc7f9(0xa2)],'automationFrameworkVersion':_0x2fb07c['version'],'language':_0x18029c[_0x2dc7f9(0xb6)],'languageVersion':process['version'],'product':_0x26cd37,'buildName':_0x523cb2[_0x2dc7f9(0xf7)]||_0x18029c['hSPZB'],'buildIdentifier':_0x94922,'os':os[_0x2dc7f9(0x106)]()||_0x18029c[_0x2dc7f9(0xd2)],'hostname':os['hostname']()||_0x18029c[_0x2dc7f9(0xd2)],..._0x4bfee0}};try{_0x18029c[_0x2dc7f9(0xe1)](_0x4e7af2,_0x18029c[_0x2dc7f9(0x96)])&&(_0x2c5b21[_0x2dc7f9(0x92)][_0x2dc7f9(0xde)]=helper['sanitizeBrowserStackConfig'](_0x523cb2)),_0x18029c[_0x2dc7f9(0x9a)](_0x2331a4,_0x18029c[_0x2dc7f9(0xbd)])?_0x2c5b21[_0x2dc7f9(0x92)][_0x2dc7f9(0xac)]=helper[_0x2dc7f9(0xa9)][_0x2dc7f9(0xc8)](null,_0x18029c['ALCrI'](getTransformPath),!![]):_0x2c5b21[_0x2dc7f9(0x92)][_0x2dc7f9(0xc9)]=helper[_0x2dc7f9(0xae)](_0x18029c[_0x2dc7f9(0xf8)]);}catch(_0x2bbfa6){logger[_0x2dc7f9(0xed)](_0x2dc7f9(0xb0)+_0x2bbfa6);}const _0x394ec5={};_0x394ec5[_0x2dc7f9(0x9b)]=_0x18029c[_0x2dc7f9(0xa7)];const _0x33c72a={'headers':_0x394ec5,'body':_0x2c5b21,'auth':{'user':helper[_0x2dc7f9(0x89)](_0x523cb2),'pass':helper[_0x2dc7f9(0x91)](_0x523cb2)},'json':!![]};logger[_0x2dc7f9(0xed)](_0x2dc7f9(0x8d)+JSON[_0x2dc7f9(0xe3)](_0x33c72a['body'])['replace'](new RegExp(helper['getUserName'](_0x523cb2),'g'),_0x18029c[_0x2dc7f9(0x9e)])[_0x2dc7f9(0xec)](new RegExp(helper['getAccessKey'](_0x523cb2),'g'),_0x18029c['BQBjl']));try{const _0x1f287e=await helper[_0x2dc7f9(0x102)](_0x18029c['wJIkp'],constants[_0x2dc7f9(0xbb)],_0x33c72a,_0x523cb2);logger[_0x2dc7f9(0xed)](_0x2dc7f9(0xbe)+_0x4e7af2+_0x2dc7f9(0x8f)+util['format']('%j',_0x1f287e));}catch(_0x25ef47){logger[_0x2dc7f9(0xed)](_0x2dc7f9(0xc7)+FUNNEL_INSTRUMENTATION_API_URL+_0x2dc7f9(0x105)+util[_0x2dc7f9(0x10b)](_0x25ef47));}},exports[a93_0x41629d(0xf3)]=async _0x30c7bd=>{const _0x470405=a93_0x41629d,_0x57ef69={'qcZLW':function(_0x25473a){return _0x25473a();},'OgRre':_0x470405(0xda),'USoYo':_0x470405(0xa1),'IqJBF':function(_0x561507,_0x275986){return _0x561507(_0x275986);},'qOorZ':_0x470405(0xad),'cnvhK':function(_0x10ecfb,_0x11fb27,_0x288f7b){return _0x10ecfb(_0x11fb27,_0x288f7b);},'GjhBR':function(_0x382952,_0x30b386){return _0x382952+_0x30b386;},'Aenop':_0x470405(0x10a)};try{await _0x30c7bd[_0x470405(0xcb)](),_0x57ef69['qcZLW'](printNudgeLocalNotSetError);const _0xc895ad={};_0xc895ad['error']=_0x30c7bd[_0x470405(0x9f)]?_0x30c7bd[_0x470405(0x9f)]:'{}';const _0x1222ee=_0xc895ad,_0x2955c9=Object[_0x470405(0xff)]({},_0x1222ee);!!_0x30c7bd[_0x470405(0x103)]&&(_0x2955c9[_0x57ef69['OgRre']]={'reason':_0x57ef69[_0x470405(0xef)],'signal':_0x30c7bd['killSignal']});unhandledErrors=_0x30c7bd[_0x470405(0xba)][_0x470405(0xc4)]('\x0a');let _0x2089ca,_0x5a7447,_0x1d055f;_0x57ef69['IqJBF'](isTurboScaleSession,_0x30c7bd[_0x470405(0xb3)])?([_0x2089ca,_0x5a7447]=await helper[_0x470405(0xc0)](_0x30c7bd[_0x470405(0xb3)]),[_0x1d055f]=await Promise['all']([helper[_0x470405(0xe4)](_0x2089ca,_0x30c7bd['config']),exports[_0x470405(0xe9)](_0x57ef69[_0x470405(0xa8)],_0x2955c9,_0x30c7bd['config'],_0x30c7bd[_0x470405(0x95)])])):([_0x2089ca,_0x5a7447]=await helper[_0x470405(0x8e)](_0x30c7bd[_0x470405(0xb3)]),[_0x1d055f]=await Promise['all']([helper[_0x470405(0xdd)](_0x2089ca,_0x30c7bd[_0x470405(0xb3)]),exports[_0x470405(0xe9)](_0x57ef69[_0x470405(0xa8)],_0x2955c9,_0x30c7bd[_0x470405(0xb3)],_0x30c7bd[_0x470405(0x95)])])),_0x1d055f&&await _0x57ef69['cnvhK'](generateCIArtifacts,_0x1d055f,_0x5a7447),logger[_0x470405(0x93)](_0x470405(0xa6)+_0x30c7bd['sdkRunID']+',\x20testhub\x20id:\x20'+process[_0x470405(0xd1)]['BROWSERSTACK_TESTHUB_UUID']),await helper[_0x470405(0xab)](_0x30c7bd[_0x470405(0xb3)]);}catch(_0x4bb5f3){logger['debug'](_0x57ef69[_0x470405(0xaf)](_0x57ef69[_0x470405(0xf4)],_0x4bb5f3));}helper['notifyUpdate']();};