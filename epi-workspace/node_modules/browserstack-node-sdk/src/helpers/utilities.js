const a132_0x41eb7b=a132_0x4d0e;(function(_0x123140,_0x25d058){const _0x19cbed=a132_0x4d0e,_0x160e8e=_0x123140();while(!![]){try{const _0x23a583=parseInt(_0x19cbed(0x8d))/0x1*(parseInt(_0x19cbed(0xc9))/0x2)+-parseInt(_0x19cbed(0xd4))/0x3+-parseInt(_0x19cbed(0xbc))/0x4*(parseInt(_0x19cbed(0xe2))/0x5)+-parseInt(_0x19cbed(0xf0))/0x6+parseInt(_0x19cbed(0xe3))/0x7+parseInt(_0x19cbed(0x88))/0x8*(-parseInt(_0x19cbed(0x118))/0x9)+-parseInt(_0x19cbed(0xa6))/0xa*(-parseInt(_0x19cbed(0xb4))/0xb);if(_0x23a583===_0x25d058)break;else _0x160e8e['push'](_0x160e8e['shift']());}catch(_0x556d72){_0x160e8e['push'](_0x160e8e['shift']());}}}(a132_0x18fc,0x84011));function a132_0x4d0e(_0x3368c2,_0x4b4d1d){const _0x18fc3b=a132_0x18fc();return a132_0x4d0e=function(_0x4d0e48,_0x4cd4df){_0x4d0e48=_0x4d0e48-0x84;let _0x2bd0e5=_0x18fc3b[_0x4d0e48];return _0x2bd0e5;},a132_0x4d0e(_0x3368c2,_0x4b4d1d);}function a132_0x18fc(){const _0x555f15=['stringify','name','replace','dhqVS','getStackTraceAsString','sanitizeBrowserStackConfig','DLYYN','event_properties','isTurboScaleSession','\x20response\x20-\x20','parse','getPackageVersion','3207138pwjAQj','APP_AUTOMATE_PRODUCTS','deviceName','WOotn','toString','getFrameworkVersion','fkjHb','APP_AUTOMATE','Failed\x20to\x20set\x20directory\x20access:\x20','../bin/utils/constants','AUTOMATE_PRODUCTS','mKyyj','getOptimalHubUrl','iCQpB','hostname','_buildHashedId','util','sdkRunId','accessSync','stopPercy','values','format','MLjCI','UGgIj','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','./logger','browserVersion','\x20:\x20','stack','Error\x20in\x20firing\x20request\x20to\x20','FVDDT','source','requirePWModule','XMJQC','IzvkG','tXGHr','SZbLT','isBrowserstackInfra','FUNNEL_INSTRUMENTATION_API_URL','object','9ikNNfD','./helper','../helpers/testhub/constants','config','mgsmu','ENV_VAR','1733360KDjpiL','sendLogs','./performance/performance-tester','join','all','614979LwOIuR','WjjgM','null','osVersion','rgHpS','getTurboScaleSessionsList','enVCu','winstonLogger','umiPP','forEach','MyDqP','POST','jfwCM','getNodeAgent','debug','CYEef','framework','info','API\x20Event\x20','keys','undefined','unhandledErrors','reduce','finishedMetadata','error','14290JOSQbj','browserStackConfig','push','../bin/playwright/reporter/pwUtils','getAccessKey','FGMLH','guVAz','mTPYz','frMMt','seleniumVersion','version','tests','browser','BROWSERSTACK_TESTHUB_UUID','13970hOjvlG','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','GAlir','vRnmc','notifyUpdate','ZidHN','content-type','playwrightVersion','3573940FkkqNI','constants','app','apply','cJkvm','getUserName','SDK\x20run\x20ended\x20for\x20id:\x20','length','Directory\x20','getTurboScaleBuildLink','codeceptjs','setReadWriteExecuteAccess','wZzvb','2FJsAZQ','user_killed','PPtMU','fireFunnelTestEvent','buildIdentifier','Xxuiq','application/json','X_OK','./test-observability/utils','errorMessage','buildName','1450878DssOQx','chmodSync','pvIEf','env','isNullOrEmpty','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','lmjHH','type','AUTOMATE','globalException','assign','getGlobal','finalExecution','killSignal','5zTqSDx','1674288COMIad'];a132_0x18fc=function(){return _0x555f15;};return a132_0x18fc();}const os=require('os'),util=require(a132_0x41eb7b(0x100)),fs=require('fs'),{getProductMap}=require('./testhub/utils'),logger=require(a132_0x41eb7b(0x109))[a132_0x41eb7b(0x94)],constants=require('../bin/utils/constants'),testHubConstants=require(a132_0x41eb7b(0x84)),{getTransformPath}=require(a132_0x41eb7b(0xa9)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a132_0x41eb7b(0xf9)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a132_0x41eb7b(0x119)),PerformanceTester=require(a132_0x41eb7b(0x8a)),globals=require('./globals'),helper=require(a132_0x41eb7b(0x119)),{isTestObservabilitySession}=require(a132_0x41eb7b(0xd1));let unhandledErrors='';exports[a132_0x41eb7b(0xcc)]=async(_0x48d046,_0x4fd464={},_0x50dff8,_0x203a37)=>{const _0x1798ba=a132_0x41eb7b,_0x3b407d={'IzvkG':function(_0x26b155,_0x15dbfc){return _0x26b155===_0x15dbfc;},'umiPP':_0x1798ba(0x117),'MyDqP':function(_0x35ecf7,_0x576bfa){return _0x35ecf7>_0x576bfa;},'PPtMU':_0x1798ba(0xb1),'iCQpB':function(_0x3cc813){return _0x3cc813();},'zPXeM':function(_0x4c4b93){return _0x4c4b93();},'eJOCn':function(_0x1863cb,_0x2c3c24){return _0x1863cb==_0x2c3c24;},'MLjCI':_0x1798ba(0x8f),'Xxuiq':function(_0x57149c,_0x273695){return _0x57149c===_0x273695;},'fkjHb':_0x1798ba(0xa1),'tXGHr':function(_0x304029,_0x473519){return _0x304029>_0x473519;},'FGMLH':_0x1798ba(0xc6),'aIxYG':function(_0x5d35e0,_0x578f2b){return _0x5d35e0!==_0x578f2b;},'jfwCM':'Playwright','pvIEf':function(_0x1b03bd,_0x3ce514){return _0x1b03bd===_0x3ce514;},'UGgIj':_0x1798ba(0xa5),'HzVNY':function(_0x5a3a9a,_0x231470){return _0x5a3a9a>_0x231470;},'FVDDT':function(_0x3a1ebc,_0x95acd1){return _0x3a1ebc+_0x95acd1;},'dhqVS':_0x1798ba(0x108),'lmjHH':_0x1798ba(0xff),'WjjgM':function(_0x308bb6,_0x26053c){return _0x308bb6(_0x26053c);},'cJkvm':'unknown','BMWax':'nodejs','guVAz':function(_0xcb79f3,_0x398b1f){return _0xcb79f3===_0x398b1f;},'jxNsW':'SDKTestSuccessful','SZbLT':function(_0x5972d0,_0x11aed1){return _0x5972d0===_0x11aed1;},'enVCu':'selenium-webdriver','ZidHN':_0x1798ba(0xcf),'rgHpS':'[REDACTED]','XkzWB':_0x1798ba(0x98)};let _0x40e798=[];if(helper[_0x1798ba(0x115)]()&&_0x3b407d[_0x1798ba(0xfd)](isTestObservabilitySession))_0x40e798=_0x50dff8['app']?constants[_0x1798ba(0xf1)]:constants[_0x1798ba(0xfa)];else{if(_0x3b407d['zPXeM'](isTestObservabilitySession))_0x40e798=constants['PRODUCT_IF_NOT_BROWSERSTACK_INFRA'];else helper[_0x1798ba(0x115)]()&&(_0x40e798=_0x50dff8[_0x1798ba(0xbe)]?constants[_0x1798ba(0xf7)]:constants[_0x1798ba(0xdc)]);}let _0x4bb43f=_0x50dff8[_0x1798ba(0xcd)];if(_0x3b407d['eJOCn'](_0x4bb43f,null))_0x4bb43f=_0x3b407d[_0x1798ba(0x106)];else _0x3b407d[_0x1798ba(0xce)](_0x4bb43f,undefined)&&(_0x4bb43f=_0x3b407d[_0x1798ba(0xf6)]);unhandledErrors&&_0x3b407d['tXGHr'](unhandledErrors[_0x1798ba(0xc3)],0x0)&&(_0x4fd464[_0x1798ba(0xdd)]=unhandledErrors);global[_0x1798ba(0x101)]&&(_0x4fd464[_0x1798ba(0x101)]=global[_0x1798ba(0x101)]);try{if(_0x4fd464[_0x1798ba(0xa5)]){if(_0x3b407d[_0x1798ba(0x112)](_0x203a37,_0x3b407d[_0x1798ba(0xab)])&&_0x3b407d[_0x1798ba(0x113)](_0x4fd464[_0x1798ba(0xa5)][_0x1798ba(0xc3)],0x0)){const _0x331d4e={};_0x331d4e['os']='',_0x331d4e[_0x1798ba(0x90)]='',_0x331d4e[_0x1798ba(0xb2)]='',_0x331d4e[_0x1798ba(0x10a)]='';const _0x4fa1b4=_0x331d4e;let _0x81e1d5={};const _0x1c0d50=_0x4fd464[_0x1798ba(0xa5)];_0x81e1d5=_0x1c0d50[_0x1798ba(0xa3)]((_0x581b77,_0xeb871)=>{for(const _0x5e69b9 in _0xeb871){_0x581b77[_0x5e69b9]=_0xeb871[_0x5e69b9];}return _0x581b77;},{});const _0x3a9a03={};_0x3a9a03[_0x1798ba(0xb1)]=_0x81e1d5,_0x4fd464[_0x1798ba(0xa5)]=[Object[_0x1798ba(0xde)]({},_0x4fa1b4,_0x3a9a03)];}else{let _0x24d606=0x0;const _0x21b075=_0x3b407d['aIxYG'](_0x203a37,_0x3b407d[_0x1798ba(0x99)])?JSON[_0x1798ba(0xee)](_0x4fd464[_0x1798ba(0xa5)]):_0x4fd464['error'],_0x5cba8b=Object[_0x1798ba(0x104)](_0x21b075);_0x5cba8b[_0x1798ba(0x96)](_0x17b5ef=>{const _0x56b02f=_0x1798ba;if(_0x3b407d[_0x56b02f(0x112)](typeof _0x17b5ef,_0x3b407d[_0x56b02f(0x95)])){const _0x4f8d56=Object['values'](_0x17b5ef);!_0x4f8d56['every'](_0x3f76d0=>_0x3f76d0===null||_0x3f76d0===undefined||_0x3f76d0==='')&&(_0x24d606+=0x1);}});if(_0x3b407d[_0x1798ba(0xd6)](_0x24d606,0x0))delete _0x4fd464[_0x3b407d[_0x1798ba(0x107)]];else{const _0x1e3733=[];Object[_0x1798ba(0xa0)](_0x21b075)[_0x1798ba(0x96)](_0x390a7f=>{const _0x43af75=_0x1798ba,_0x1753d6={'mKyyj':function(_0x5dfa19,_0x3a9b43){const _0x22fc4e=a132_0x4d0e;return _0x3b407d[_0x22fc4e(0x97)](_0x5dfa19,_0x3a9b43);}},[_0x521fae,_0x1dda38,_0x755dd7,_0x210aeb]=_0x390a7f['split'](',\x20');let _0x2a399b={};if(!_0x210aeb){const _0x41d710={};_0x41d710[_0x43af75(0xf2)]=_0x521fae,_0x41d710[_0x43af75(0x90)]=_0x1dda38,_0x41d710['browser']=_0x755dd7,_0x2a399b=_0x41d710;}else{const _0x6882e2={};_0x6882e2['os']=_0x521fae,_0x6882e2[_0x43af75(0x90)]=_0x1dda38,_0x6882e2[_0x43af75(0xb2)]=_0x755dd7,_0x6882e2[_0x43af75(0x10a)]=_0x210aeb,_0x2a399b=_0x6882e2;}const _0x31979f={},_0x55e789=_0x21b075[_0x390a7f];Object['keys'](_0x55e789)[_0x43af75(0x96)](_0x2956ce=>{const _0x118b77=_0x43af75;_0x1753d6[_0x118b77(0xfb)](_0x55e789[_0x2956ce][_0x118b77(0xc3)],0x0)&&(_0x31979f[_0x2956ce]=_0x55e789[_0x2956ce]);}),_0x3b407d[_0x43af75(0x97)](Object['keys'](_0x31979f)[_0x43af75(0xc3)],0x0)&&(_0x2a399b[_0x3b407d[_0x43af75(0xcb)]]=_0x31979f,_0x1e3733[_0x43af75(0xa8)](_0x2a399b));}),_0x3b407d['HzVNY'](_0x1e3733[_0x1798ba(0xc3)],0x0)?_0x4fd464[_0x1798ba(0xa5)]=_0x1e3733:delete _0x4fd464[_0x3b407d['UGgIj']];}}}}catch(_0x55e4d5){delete _0x4fd464[_0x3b407d[_0x1798ba(0x107)]],logger[_0x1798ba(0x9b)](_0x3b407d[_0x1798ba(0x10e)](_0x3b407d[_0x1798ba(0xe7)],_0x55e4d5));}const _0x35e888=helper['getTestFrameworkDetails'](_0x50dff8,_0x50dff8[_0x1798ba(0x9d)]),_0x3a800a={'userName':helper[_0x1798ba(0xc1)](_0x50dff8),'accessKey':helper[_0x1798ba(0xaa)](_0x50dff8),'event_type':_0x48d046,'detectedFramework':_0x203a37,'buildHashedId':globals[_0x1798ba(0xdf)](_0x3b407d[_0x1798ba(0xda)]),'optimalHubUrl':helper[_0x1798ba(0xfc)](),'event_properties':{'testhub_uuid':process[_0x1798ba(0xd7)][testHubConstants[_0x1798ba(0x87)][_0x1798ba(0xb3)]]||'','sdkRunId':global[_0x1798ba(0x101)],'product_map':_0x3b407d[_0x1798ba(0x8e)](getProductMap,_0x50dff8),'productMap':_0x3b407d['WjjgM'](getProductMap,_0x50dff8),'language_framework':_0x50dff8[_0x1798ba(0x10f)]||_0x3b407d[_0x1798ba(0xc0)],'referrer':helper[_0x1798ba(0x9a)](_0x203a37),'framework':_0x50dff8[_0x1798ba(0x9d)],'frameworkVersion':helper[_0x1798ba(0xf5)](_0x203a37),'automationFramework':_0x35e888[_0x1798ba(0xe5)],'automationFrameworkVersion':_0x35e888[_0x1798ba(0xb0)],'language':_0x3b407d['BMWax'],'languageVersion':process[_0x1798ba(0xb0)],'product':_0x40e798,'buildName':_0x50dff8[_0x1798ba(0xd3)]||_0x3b407d['fkjHb'],'buildIdentifier':_0x4bb43f,'os':os[_0x1798ba(0xdb)]()||_0x3b407d['cJkvm'],'hostname':os[_0x1798ba(0xfe)]()||_0x3b407d[_0x1798ba(0xc0)],..._0x4fd464}};try{_0x3b407d[_0x1798ba(0xac)](_0x48d046,_0x3b407d['jxNsW'])&&(_0x3a800a['event_properties'][_0x1798ba(0xa7)]=helper[_0x1798ba(0xe9)](_0x50dff8)),_0x3b407d[_0x1798ba(0x114)](_0x203a37,_0x3b407d[_0x1798ba(0x99)])?_0x3a800a[_0x1798ba(0xeb)][_0x1798ba(0xbb)]=helper[_0x1798ba(0x110)][_0x1798ba(0xbf)](null,_0x3b407d[_0x1798ba(0xfd)](getTransformPath),!![]):_0x3a800a[_0x1798ba(0xeb)][_0x1798ba(0xaf)]=helper[_0x1798ba(0xef)](_0x3b407d[_0x1798ba(0x93)]);}catch(_0x1dc8c5){logger[_0x1798ba(0x9b)](_0x1798ba(0xb5)+_0x1dc8c5);}const _0x2a1d00={};_0x2a1d00[_0x1798ba(0xba)]=_0x3b407d[_0x1798ba(0xb9)];const _0x31f856={'headers':_0x2a1d00,'body':_0x3a800a,'auth':{'user':helper[_0x1798ba(0xc1)](_0x50dff8),'pass':helper['getAccessKey'](_0x50dff8)},'json':!![]};logger['debug']('Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20'+JSON[_0x1798ba(0xe4)](_0x31f856['body'])[_0x1798ba(0xe6)](new RegExp(helper[_0x1798ba(0xc1)](_0x50dff8),'g'),_0x3b407d[_0x1798ba(0x91)])[_0x1798ba(0xe6)](new RegExp(helper[_0x1798ba(0xaa)](_0x50dff8),'g'),_0x3b407d[_0x1798ba(0x91)]));try{const _0x291bc2=await helper['nodeRequest'](_0x3b407d['XkzWB'],constants[_0x1798ba(0x116)],_0x31f856,_0x50dff8);logger[_0x1798ba(0x9b)](_0x1798ba(0x9f)+_0x48d046+_0x1798ba(0xed)+util[_0x1798ba(0x105)]('%j',_0x291bc2));}catch(_0x5e0e33){logger[_0x1798ba(0x9b)](_0x1798ba(0x10d)+FUNNEL_INSTRUMENTATION_API_URL+_0x1798ba(0x10b)+util[_0x1798ba(0x105)](_0x5e0e33));}},exports[a132_0x41eb7b(0xe0)]=async _0x501321=>{const _0x25610a=a132_0x41eb7b,_0x304128={'mgsmu':function(_0x442fcf){return _0x442fcf();},'frMMt':_0x25610a(0xa4),'mTPYz':_0x25610a(0xca),'GAlir':'SDKTestSuccessful','vRnmc':function(_0x3e289b,_0x17835a,_0x812e44){return _0x3e289b(_0x17835a,_0x812e44);},'XMJQC':function(_0x416a1a,_0x49248c){return _0x416a1a+_0x49248c;},'wZzvb':_0x25610a(0xd9)};try{await _0x501321[_0x25610a(0x103)](),_0x304128[_0x25610a(0x86)](printNudgeLocalNotSetError);const _0x48dd53={};_0x48dd53[_0x25610a(0xa5)]=_0x501321[_0x25610a(0xd2)]?_0x501321[_0x25610a(0xd2)]:'{}';const _0xa34a69=_0x48dd53,_0x176de1=Object['assign']({},_0xa34a69);!!_0x501321['killSignal']&&(_0x176de1[_0x304128[_0x25610a(0xae)]]={'reason':_0x304128[_0x25610a(0xad)],'signal':_0x501321[_0x25610a(0xe1)]});unhandledErrors=_0x501321[_0x25610a(0xa2)][_0x25610a(0x8b)]('\x0a');let _0x3f28ba,_0x48fa57,_0xa474ed;helper[_0x25610a(0xec)](_0x501321['config'])?([_0x3f28ba,_0x48fa57]=await helper[_0x25610a(0xc5)](_0x501321[_0x25610a(0x85)]),[_0xa474ed]=await Promise['all']([helper[_0x25610a(0x92)](_0x3f28ba,_0x501321['config']),exports[_0x25610a(0xcc)](_0x304128['GAlir'],_0x176de1,_0x501321[_0x25610a(0x85)],_0x501321[_0x25610a(0x9d)])])):([_0x3f28ba,_0x48fa57]=await helper['getBuildLink'](_0x501321[_0x25610a(0x85)]),[_0xa474ed]=await Promise[_0x25610a(0x8c)]([helper['getSessionsList'](_0x3f28ba,_0x501321[_0x25610a(0x85)]),exports[_0x25610a(0xcc)](_0x304128[_0x25610a(0xb6)],_0x176de1,_0x501321[_0x25610a(0x85)],_0x501321[_0x25610a(0x9d)])])),_0xa474ed&&await _0x304128[_0x25610a(0xb7)](generateCIArtifacts,_0xa474ed,_0x48fa57),logger[_0x25610a(0x9e)](_0x25610a(0xc2)+_0x501321['sdkRunId']+',\x20testhub\x20id:\x20'+process[_0x25610a(0xd7)][_0x25610a(0xb3)]),await helper[_0x25610a(0x89)](_0x501321['config']);}catch(_0x394d60){logger[_0x25610a(0x9b)](_0x304128[_0x25610a(0x111)](_0x304128[_0x25610a(0xc8)],_0x394d60));}helper[_0x25610a(0xb8)]();},exports['getStackTraceAsString']=_0x337980=>{const _0x29080d=a132_0x41eb7b,_0x29efaf={'pVfQJ':function(_0x5032a8,_0x157f6c){return _0x5032a8 instanceof _0x157f6c;},'CYEef':function(_0x519a7a,_0x16620e){return _0x519a7a(_0x16620e);}};try{if(_0x29efaf['pVfQJ'](_0x337980,Error))return _0x337980[_0x29080d(0x10c)]||_0x337980[_0x29080d(0xf4)]();return _0x29efaf[_0x29080d(0x9c)](String,_0x337980);}catch(_0x361383){return _0x337980?_0x337980[_0x29080d(0xf4)]():'';}},exports[a132_0x41eb7b(0xd8)]=_0x3ee962=>{const _0x5364cc=a132_0x41eb7b,_0x15f7ce={};_0x15f7ce[_0x5364cc(0xea)]=function(_0x1d2fbc,_0x261b95){return _0x1d2fbc===_0x261b95;};const _0x4c688f=_0x15f7ce;return!_0x3ee962||_0x4c688f[_0x5364cc(0xea)](_0x3ee962['trim'](),'');},exports['isModifiable']=_0x33693e=>{const _0x10336b=a132_0x41eb7b,_0x2e1411={};_0x2e1411['WOotn']=function(_0x300eec,_0x3321e6){return _0x300eec|_0x3321e6;};const _0xd09606=_0x2e1411;try{return fs[_0x10336b(0x102)](_0x33693e,_0xd09606[_0x10336b(0xf3)](fs[_0x10336b(0xbd)]['W_OK'],fs['constants'][_0x10336b(0xd0)])),!![];}catch(_0x3c5196){return![];}},exports[a132_0x41eb7b(0xc7)]=_0x3746bf=>{const _0x524c93=a132_0x41eb7b;try{fs[_0x524c93(0xd5)](_0x3746bf,0x1ff),logger['debug'](_0x524c93(0xc4)+_0x3746bf+'\x20has\x20now\x20read/write/execute\x20permissions.');}catch(_0x8d9451){logger['error'](_0x524c93(0xf8)+exports[_0x524c93(0xe8)](_0x8d9451));}};