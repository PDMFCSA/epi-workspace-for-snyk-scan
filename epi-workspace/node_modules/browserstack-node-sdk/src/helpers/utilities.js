const a132_0x51b324=a132_0x14a8;(function(_0x49693f,_0x10a8d7){const _0x226d1e=a132_0x14a8,_0x181d06=_0x49693f();while(!![]){try{const _0x34cc2c=parseInt(_0x226d1e(0x147))/0x1+parseInt(_0x226d1e(0x132))/0x2*(-parseInt(_0x226d1e(0xff))/0x3)+-parseInt(_0x226d1e(0x108))/0x4*(parseInt(_0x226d1e(0x111))/0x5)+-parseInt(_0x226d1e(0x176))/0x6+parseInt(_0x226d1e(0x11a))/0x7+parseInt(_0x226d1e(0x126))/0x8*(parseInt(_0x226d1e(0x13b))/0x9)+-parseInt(_0x226d1e(0x17f))/0xa*(-parseInt(_0x226d1e(0xf3))/0xb);if(_0x34cc2c===_0x10a8d7)break;else _0x181d06['push'](_0x181d06['shift']());}catch(_0x4b7949){_0x181d06['push'](_0x181d06['shift']());}}}(a132_0xc4c2,0x4ac0d));const os=require('os'),util=require(a132_0x51b324(0x11f)),fs=require('fs'),{getProductMap}=require(a132_0x51b324(0x152)),logger=require(a132_0x51b324(0x183))[a132_0x51b324(0x115)],constants=require(a132_0x51b324(0x181)),testHubConstants=require(a132_0x51b324(0x128)),{getTransformPath}=require(a132_0x51b324(0x13f)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a132_0x51b324(0x181)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a132_0x51b324(0x140)),PerformanceTester=require(a132_0x51b324(0x14d)),globals=require(a132_0x51b324(0x141)),helper=require(a132_0x51b324(0x140)),{isTestObservabilitySession}=require(a132_0x51b324(0x153));function a132_0xc4c2(){const _0x52515d=['dfhxb','15ZasOoB','replace','unhandledErrors','app','winstonLogger','toString','nodejs','push','getNodeAgent','1052751nJKWAe','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','ZoayH','codeceptjs','nPUFb','util','hostname','reduce','BROWSERSTACK_TESTHUB_UUID','all','FUNNEL_INSTRUMENTATION_API_URL','framework','10712JCHeuG','playwrightVersion','../helpers/testhub/constants','gGifu','notifyUpdate','apply','content-type','Czxjt','unknown','name','AoFAT','AUTOMATE_PRODUCTS','66NjJeKZ','getSessionsList','getStackTraceAsString','debug','constants','bxjHK','env','chmodSync','body','2448mOfUDc','config','finishedMetadata','buildIdentifier','../bin/playwright/reporter/pwUtils','./helper','./globals','tKptc','type','KZaqu','browserStackConfig','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','340209juovur','Failed\x20to\x20set\x20directory\x20access:\x20','application/json','user_killed','AUTOMATE','pOuaa','./performance/performance-tester','osVersion','killSignal','stack','isNullOrEmpty','./testhub/utils','./test-observability/utils','sqdtU','APP_AUTOMATE','eEvqw','getPackageVersion','sendLogs','getTestFrameworkDetails','\x20has\x20now\x20read/write/execute\x20permissions.','accessSync','parse','format','vKrKl','NIWSp','SDKTestSuccessful','nodeRequest','trim','fireFunnelTestEvent','isBrowserstackInfra','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','MCshT','getAccessKey','join','object','errorMessage','error','biJWG','SDK\x20run\x20ended\x20for\x20id:\x20','HHZZK','\x20:\x20','values','liZnB','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','setReadWriteExecuteAccess','mQzrR','split','2792562xSDMai','getGlobal','stopPercy','buildName','POST','_buildHashedId','hXkim','sdkRunId','ADNxN','170eHqztV','keys','../bin/utils/constants','X_OK','./logger','getBuildLink','QAFVZ','NOMpn','QlOYw','browserVersion','471119MmxHgA','APP_AUTOMATE_PRODUCTS','MzJHY','KTeSH','zVaVM','getTurboScaleBuildLink','Directory\x20','forEach','getFrameworkVersion','finalExecution','browser','JPAJt','40893rCtcmi','getUserName','assign','NjIaY','every','getTurboScaleSessionsList','tests','version','ENV_VAR','481952NVFHnk','length','selenium-webdriver','getOptimalHubUrl','JrTKD','event_properties','deviceName','jlWyC'];a132_0xc4c2=function(){return _0x52515d;};return a132_0xc4c2();}function a132_0x14a8(_0x2f43b8,_0x417f12){const _0xc4c296=a132_0xc4c2();return a132_0x14a8=function(_0x14a85b,_0x405aa1){_0x14a85b=_0x14a85b-0xf3;let _0x164ce2=_0xc4c296[_0x14a85b];return _0x164ce2;},a132_0x14a8(_0x2f43b8,_0x417f12);}let unhandledErrors='';exports[a132_0x51b324(0x163)]=async(_0x5e450b,_0x37a1af={},_0x1545e9,_0x30b5e1)=>{const _0x2040db=a132_0x51b324,_0x3588b6={'gvofG':function(_0x415e85,_0x405c35){return _0x415e85===_0x405c35;},'JrTKD':_0x2040db(0x169),'QlOYw':function(_0x6a54a4,_0x1560ce){return _0x6a54a4>_0x1560ce;},'jlWyC':function(_0x386926,_0x40a691){return _0x386926>_0x40a691;},'pOuaa':_0x2040db(0x105),'NjIaY':function(_0x2199ba){return _0x2199ba();},'EULxj':function(_0x2e3e16,_0x42b579){return _0x2e3e16==_0x42b579;},'NOMpn':'null','ZoayH':'undefined','MCshT':function(_0xafd0ce,_0x4a0016){return _0xafd0ce===_0x4a0016;},'ZBbmo':_0x2040db(0x11d),'liZnB':function(_0x250234,_0x1713c1){return _0x250234>_0x1713c1;},'QAFVZ':function(_0x1c1803,_0x14de16){return _0x1c1803!==_0x14de16;},'mQzrR':'Playwright','zVaVM':function(_0x9224d5,_0x293110){return _0x9224d5===_0x293110;},'gGifu':_0x2040db(0x16b),'nPUFb':function(_0x1a4c64,_0x5a11ad){return _0x1a4c64+_0x5a11ad;},'NIWSp':_0x2040db(0x146),'eEvqw':_0x2040db(0x17b),'cxAKQ':function(_0x341a41,_0x4b17e9){return _0x341a41(_0x4b17e9);},'vKrKl':function(_0x575649,_0x2464ec){return _0x575649(_0x2464ec);},'HHZZK':_0x2040db(0x12e),'AoFAT':_0x2040db(0x117),'hXkim':function(_0x3a889f,_0x6662fb){return _0x3a889f===_0x6662fb;},'ltIDH':_0x2040db(0x160),'ADNxN':function(_0x7d233d,_0x3d5ba1){return _0x7d233d===_0x3d5ba1;},'jcgDB':_0x2040db(0x10a),'Quzwr':_0x2040db(0x149),'KZaqu':'[REDACTED]','sqdtU':_0x2040db(0x17a)};let _0x522bc3=[];if(helper[_0x2040db(0x164)]()&&_0x3588b6[_0x2040db(0x102)](isTestObservabilitySession))_0x522bc3=_0x1545e9[_0x2040db(0x114)]?constants[_0x2040db(0xf4)]:constants[_0x2040db(0x131)];else{if(_0x3588b6[_0x2040db(0x102)](isTestObservabilitySession))_0x522bc3=constants['PRODUCT_IF_NOT_BROWSERSTACK_INFRA'];else helper[_0x2040db(0x164)]()&&(_0x522bc3=_0x1545e9['app']?constants[_0x2040db(0x155)]:constants[_0x2040db(0x14b)]);}let _0x527c43=_0x1545e9[_0x2040db(0x13e)];if(_0x3588b6['EULxj'](_0x527c43,null))_0x527c43=_0x3588b6[_0x2040db(0x186)];else _0x3588b6['gvofG'](_0x527c43,undefined)&&(_0x527c43=_0x3588b6[_0x2040db(0x11c)]);unhandledErrors&&_0x3588b6[_0x2040db(0x10f)](unhandledErrors[_0x2040db(0x109)],0x0)&&(_0x37a1af['globalException']=unhandledErrors);global['sdkRunId']&&(_0x37a1af[_0x2040db(0x17d)]=global['sdkRunId']);try{if(_0x37a1af['error']){if(_0x3588b6[_0x2040db(0x166)](_0x30b5e1,_0x3588b6['ZBbmo'])&&_0x3588b6[_0x2040db(0x171)](_0x37a1af[_0x2040db(0x16b)]['length'],0x0)){const _0x2d0992={};_0x2d0992['os']='',_0x2d0992[_0x2040db(0x14e)]='',_0x2d0992['browser']='',_0x2d0992['browserVersion']='';const _0x3a181d=_0x2d0992;let _0x48994d={};const _0x351ed7=_0x37a1af[_0x2040db(0x16b)];_0x48994d=_0x351ed7[_0x2040db(0x121)]((_0x919efc,_0x31cc6d)=>{for(const _0xd490de in _0x31cc6d){_0x919efc[_0xd490de]=_0x31cc6d[_0xd490de];}return _0x919efc;},{});const _0x5ce7b2={};_0x5ce7b2[_0x2040db(0x105)]=_0x48994d,_0x37a1af[_0x2040db(0x16b)]=[Object[_0x2040db(0x101)]({},_0x3a181d,_0x5ce7b2)];}else{let _0x5ba9aa=0x0;const _0x20948e=_0x3588b6[_0x2040db(0x185)](_0x30b5e1,_0x3588b6[_0x2040db(0x174)])?JSON[_0x2040db(0x15c)](_0x37a1af[_0x2040db(0x16b)]):_0x37a1af[_0x2040db(0x16b)],_0x127165=Object[_0x2040db(0x170)](_0x20948e);_0x127165[_0x2040db(0xfa)](_0x32e5c1=>{const _0x254348=_0x2040db;if(_0x3588b6['gvofG'](typeof _0x32e5c1,_0x3588b6[_0x254348(0x10c)])){const _0x2b26f5=Object[_0x254348(0x170)](_0x32e5c1);!_0x2b26f5[_0x254348(0x103)](_0xdc383a=>_0xdc383a===null||_0xdc383a===undefined||_0xdc383a==='')&&(_0x5ba9aa+=0x1);}});if(_0x3588b6[_0x2040db(0xf7)](_0x5ba9aa,0x0))delete _0x37a1af[_0x3588b6[_0x2040db(0x129)]];else{const _0x3f6865=[];Object[_0x2040db(0x180)](_0x20948e)[_0x2040db(0xfa)](_0x225002=>{const _0x109d4a=_0x2040db,_0x290a6c={'biJWG':function(_0x2006dd,_0x100550){const _0x815ad8=a132_0x14a8;return _0x3588b6[_0x815ad8(0x187)](_0x2006dd,_0x100550);}},[_0x257a61,_0x50a185,_0x3c67ec,_0x27f80f]=_0x225002[_0x109d4a(0x175)](',\x20');let _0x36a177={};if(!_0x27f80f){const _0x489640={};_0x489640[_0x109d4a(0x10e)]=_0x257a61,_0x489640[_0x109d4a(0x14e)]=_0x50a185,_0x489640[_0x109d4a(0xfd)]=_0x3c67ec,_0x36a177=_0x489640;}else{const _0x4fc3a0={};_0x4fc3a0['os']=_0x257a61,_0x4fc3a0[_0x109d4a(0x14e)]=_0x50a185,_0x4fc3a0[_0x109d4a(0xfd)]=_0x3c67ec,_0x4fc3a0[_0x109d4a(0x188)]=_0x27f80f,_0x36a177=_0x4fc3a0;}const _0x1f7880={},_0xc463b2=_0x20948e[_0x225002];Object['keys'](_0xc463b2)[_0x109d4a(0xfa)](_0x53109a=>{const _0x3daf71=_0x109d4a;_0x290a6c[_0x3daf71(0x16c)](_0xc463b2[_0x53109a][_0x3daf71(0x109)],0x0)&&(_0x1f7880[_0x53109a]=_0xc463b2[_0x53109a]);}),_0x3588b6['jlWyC'](Object[_0x109d4a(0x180)](_0x1f7880)['length'],0x0)&&(_0x36a177[_0x3588b6[_0x109d4a(0x14c)]]=_0x1f7880,_0x3f6865[_0x109d4a(0x118)](_0x36a177));}),_0x3588b6['liZnB'](_0x3f6865[_0x2040db(0x109)],0x0)?_0x37a1af[_0x2040db(0x16b)]=_0x3f6865:delete _0x37a1af[_0x3588b6[_0x2040db(0x129)]];}}}}catch(_0x568a85){delete _0x37a1af[_0x3588b6[_0x2040db(0x129)]],logger[_0x2040db(0x135)](_0x3588b6[_0x2040db(0x11e)](_0x3588b6[_0x2040db(0x15f)],_0x568a85));}const _0x3e253c=helper[_0x2040db(0x159)](_0x1545e9,_0x1545e9[_0x2040db(0x125)]),_0x8b32b0={'userName':helper['getUserName'](_0x1545e9),'accessKey':helper[_0x2040db(0x167)](_0x1545e9),'event_type':_0x5e450b,'detectedFramework':_0x30b5e1,'buildHashedId':globals[_0x2040db(0x177)](_0x3588b6[_0x2040db(0x156)]),'optimalHubUrl':helper[_0x2040db(0x10b)](),'event_properties':{'testhub_uuid':process[_0x2040db(0x138)][testHubConstants[_0x2040db(0x107)][_0x2040db(0x122)]]||'','sdkRunId':global[_0x2040db(0x17d)],'product_map':_0x3588b6['cxAKQ'](getProductMap,_0x1545e9),'productMap':_0x3588b6[_0x2040db(0x15e)](getProductMap,_0x1545e9),'language_framework':_0x1545e9['source']||_0x3588b6['HHZZK'],'referrer':helper[_0x2040db(0x119)](_0x30b5e1),'framework':_0x1545e9[_0x2040db(0x125)],'frameworkVersion':helper[_0x2040db(0xfb)](_0x30b5e1),'automationFramework':_0x3e253c[_0x2040db(0x12f)],'automationFrameworkVersion':_0x3e253c[_0x2040db(0x106)],'language':_0x3588b6[_0x2040db(0x130)],'languageVersion':process[_0x2040db(0x106)],'product':_0x522bc3,'buildName':_0x1545e9[_0x2040db(0x179)]||_0x3588b6[_0x2040db(0x11c)],'buildIdentifier':_0x527c43,'os':os[_0x2040db(0x143)]()||_0x3588b6['HHZZK'],'hostname':os[_0x2040db(0x120)]()||_0x3588b6[_0x2040db(0x16e)],..._0x37a1af}};try{_0x3588b6[_0x2040db(0x17c)](_0x5e450b,_0x3588b6['ltIDH'])&&(_0x8b32b0[_0x2040db(0x10d)][_0x2040db(0x145)]=helper['sanitizeBrowserStackConfig'](_0x1545e9)),_0x3588b6[_0x2040db(0x17e)](_0x30b5e1,_0x3588b6[_0x2040db(0x174)])?_0x8b32b0['event_properties'][_0x2040db(0x127)]=helper['requirePWModule'][_0x2040db(0x12b)](null,_0x3588b6[_0x2040db(0x102)](getTransformPath),!![]):_0x8b32b0[_0x2040db(0x10d)]['seleniumVersion']=helper[_0x2040db(0x157)](_0x3588b6['jcgDB']);}catch(_0x4083d1){logger['debug'](_0x2040db(0x172)+_0x4083d1);}const _0x24eaa3={};_0x24eaa3[_0x2040db(0x12c)]=_0x3588b6['Quzwr'];const _0x29df5b={'headers':_0x24eaa3,'body':_0x8b32b0,'auth':{'user':helper[_0x2040db(0x100)](_0x1545e9),'pass':helper[_0x2040db(0x167)](_0x1545e9)},'json':!![]};logger['debug'](_0x2040db(0x11b)+JSON['stringify'](_0x29df5b[_0x2040db(0x13a)])['replace'](new RegExp(helper['getUserName'](_0x1545e9),'g'),_0x3588b6[_0x2040db(0x144)])[_0x2040db(0x112)](new RegExp(helper[_0x2040db(0x167)](_0x1545e9),'g'),_0x3588b6['KZaqu']));try{const _0x4a40ff=await helper[_0x2040db(0x161)](_0x3588b6[_0x2040db(0x154)],constants[_0x2040db(0x124)],_0x29df5b,_0x1545e9);logger['debug']('API\x20Event\x20'+_0x5e450b+'\x20response\x20-\x20'+util[_0x2040db(0x15d)]('%j',_0x4a40ff));}catch(_0x6e29b8){logger[_0x2040db(0x135)]('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+_0x2040db(0x16f)+util['format'](_0x6e29b8));}},exports[a132_0x51b324(0xfc)]=async _0x3f3ba8=>{const _0x557059=a132_0x51b324,_0x504c12={'dfhxb':function(_0x533b93){return _0x533b93();},'bxjHK':_0x557059(0x13d),'MzJHY':_0x557059(0x14a),'Czxjt':'SDKTestSuccessful','hhVLY':function(_0x41e377,_0x337842,_0x54441f){return _0x41e377(_0x337842,_0x54441f);},'tKptc':function(_0x32364b,_0x112d53){return _0x32364b+_0x112d53;},'Hqxdm':_0x557059(0x165)};try{await _0x3f3ba8[_0x557059(0x178)](),_0x504c12[_0x557059(0x110)](printNudgeLocalNotSetError);const _0x14dbf0={};_0x14dbf0['error']=_0x3f3ba8[_0x557059(0x16a)]?_0x3f3ba8[_0x557059(0x16a)]:'{}';const _0x4cdaf4=_0x14dbf0,_0x59aa4b=Object[_0x557059(0x101)]({},_0x4cdaf4);!!_0x3f3ba8['killSignal']&&(_0x59aa4b[_0x504c12[_0x557059(0x137)]]={'reason':_0x504c12[_0x557059(0xf5)],'signal':_0x3f3ba8[_0x557059(0x14f)]});unhandledErrors=_0x3f3ba8[_0x557059(0x113)][_0x557059(0x168)]('\x0a');let _0x4d55e7,_0x59df57,_0x41586b;helper['isTurboScaleSession'](_0x3f3ba8[_0x557059(0x13c)])?([_0x4d55e7,_0x59df57]=await helper[_0x557059(0xf8)](_0x3f3ba8[_0x557059(0x13c)]),[_0x41586b]=await Promise['all']([helper[_0x557059(0x104)](_0x4d55e7,_0x3f3ba8[_0x557059(0x13c)]),exports[_0x557059(0x163)](_0x504c12[_0x557059(0x12d)],_0x59aa4b,_0x3f3ba8[_0x557059(0x13c)],_0x3f3ba8['framework'])])):([_0x4d55e7,_0x59df57]=await helper[_0x557059(0x184)](_0x3f3ba8[_0x557059(0x13c)]),[_0x41586b]=await Promise[_0x557059(0x123)]([helper[_0x557059(0x133)](_0x4d55e7,_0x3f3ba8['config']),exports[_0x557059(0x163)](_0x504c12[_0x557059(0x12d)],_0x59aa4b,_0x3f3ba8[_0x557059(0x13c)],_0x3f3ba8[_0x557059(0x125)])])),_0x41586b&&await _0x504c12['hhVLY'](generateCIArtifacts,_0x41586b,_0x59df57),logger['info'](_0x557059(0x16d)+_0x3f3ba8[_0x557059(0x17d)]+',\x20testhub\x20id:\x20'+process[_0x557059(0x138)]['BROWSERSTACK_TESTHUB_UUID']),await helper[_0x557059(0x158)](_0x3f3ba8['config']);}catch(_0x2b075e){logger['debug'](_0x504c12[_0x557059(0x142)](_0x504c12['Hqxdm'],_0x2b075e));}helper[_0x557059(0x12a)]();},exports[a132_0x51b324(0x134)]=_0x15c29b=>{const _0x207056=a132_0x51b324,_0x591f27={'wAgxW':function(_0x31c2c1,_0x3f9123){return _0x31c2c1 instanceof _0x3f9123;},'qXONp':function(_0x4f5a1e,_0x3828b4){return _0x4f5a1e(_0x3828b4);}};try{if(_0x591f27['wAgxW'](_0x15c29b,Error))return _0x15c29b[_0x207056(0x150)]||_0x15c29b[_0x207056(0x116)]();return _0x591f27['qXONp'](String,_0x15c29b);}catch(_0x4b3ad1){return _0x15c29b?_0x15c29b[_0x207056(0x116)]():'';}},exports[a132_0x51b324(0x151)]=_0x168832=>{const _0x1b5296=a132_0x51b324,_0x4df795={};_0x4df795[_0x1b5296(0xfe)]=function(_0x3d495c,_0x4b2d7d){return _0x3d495c===_0x4b2d7d;};const _0x5d7ac0=_0x4df795;return!_0x168832||_0x5d7ac0['JPAJt'](_0x168832[_0x1b5296(0x162)](),'');},exports['isModifiable']=_0x415ebf=>{const _0x10b6ba=a132_0x51b324,_0x40c3d4={};_0x40c3d4[_0x10b6ba(0xf6)]=function(_0x45c8bd,_0x59d683){return _0x45c8bd|_0x59d683;};const _0x1c7f3e=_0x40c3d4;try{return fs[_0x10b6ba(0x15b)](_0x415ebf,_0x1c7f3e[_0x10b6ba(0xf6)](fs[_0x10b6ba(0x136)]['W_OK'],fs['constants'][_0x10b6ba(0x182)])),!![];}catch(_0x388e84){return![];}},exports[a132_0x51b324(0x173)]=_0x156ae=>{const _0x628662=a132_0x51b324;try{fs[_0x628662(0x139)](_0x156ae,0x1ff),logger['debug'](_0x628662(0xf9)+_0x156ae+_0x628662(0x15a));}catch(_0x3f1b67){logger[_0x628662(0x16b)](_0x628662(0x148)+exports['getStackTraceAsString'](_0x3f1b67));}};