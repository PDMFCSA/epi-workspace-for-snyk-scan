const a132_0x195e45=a132_0x2a58;(function(_0x3d7b0a,_0x125f4f){const _0x2fb458=a132_0x2a58,_0x349bc6=_0x3d7b0a();while(!![]){try{const _0x1adcce=parseInt(_0x2fb458(0x1db))/0x1+parseInt(_0x2fb458(0x1f9))/0x2+-parseInt(_0x2fb458(0x1bb))/0x3+parseInt(_0x2fb458(0x221))/0x4+parseInt(_0x2fb458(0x209))/0x5*(-parseInt(_0x2fb458(0x211))/0x6)+parseInt(_0x2fb458(0x1f2))/0x7*(-parseInt(_0x2fb458(0x229))/0x8)+parseInt(_0x2fb458(0x1da))/0x9;if(_0x1adcce===_0x125f4f)break;else _0x349bc6['push'](_0x349bc6['shift']());}catch(_0x532305){_0x349bc6['push'](_0x349bc6['shift']());}}}(a132_0x3e6b,0x5faba));const os=require('os'),util=require(a132_0x195e45(0x1f7)),fs=require('fs'),{getProductMap}=require(a132_0x195e45(0x1e0)),logger=require(a132_0x195e45(0x1ba))[a132_0x195e45(0x1c6)],constants=require(a132_0x195e45(0x23e)),testHubConstants=require('../helpers/testhub/constants'),{getTransformPath}=require(a132_0x195e45(0x1ce)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a132_0x195e45(0x23e)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a132_0x195e45(0x206)),PerformanceTester=require(a132_0x195e45(0x1bc)),globals=require(a132_0x195e45(0x1e4)),helper=require('./helper'),{isTestObservabilitySession}=require('./test-observability/utils');function a132_0x3e6b(){const _0x16ff38=['\x20response\x20-\x20','lzlZZ','format','bLZcF','osVersion','seleniumVersion','sendLogs','912576LPDkSU','POST','_buildHashedId','VSIFs','nodeRequest','util','FKdrR','215588kBcTLx','gmXMY','RkwqC','getTurboScaleBuildLink','BHrTU','KYBuk','coqTP','parse','APP_AUTOMATE_PRODUCTS','getBuildLink','VjBLl','BROWSERSTACK_TESTHUB_UUID','qVIcR','./helper','getNodeAgent','source','30wiUTCf','uWwvS','framework','WKvnb','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','PEYhK','btEBV','tests','711618heSWNm','\x20has\x20now\x20read/write/execute\x20permissions.','version','assign','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','app','SDKTestSuccessful','getFrameworkVersion','getAccessKey','getOptimalHubUrl','codeceptjs','NJaDT','ixwnq','chmodSync','apply','split','2802008QkPDoP','sanitizeBrowserStackConfig','JNzJM','yGkFt','DSXVT','getGlobal','Directory\x20','replace','32uXFVdQ','uhIHM','debug','fireFunnelTestEvent','reduce','buildIdentifier','FUNNEL_INSTRUMENTATION_API_URL','browser','sdkRunId','info','nodejs','constants','getStackTraceAsString','mEBFZ','X_OK','AUTOMATE_PRODUCTS','user_killed','finishedMetadata','event_properties','getUserName','values','../bin/utils/constants','forEach','application/json','errorMessage','YZsBz','isTurboScaleSession','RfBoB','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','env','keys','ALrVm','KPlWL','isModifiable','kPkOO','./logger','957951DrHLLm','./performance/performance-tester','[REDACTED]','getPackageVersion','buildName','UuKMU','isBrowserstackInfra','getTestFrameworkDetails','accessSync','finalExecution','body','winstonLogger','object','stack','ENV_VAR','error','deviceName','length','MxqmW','../bin/playwright/reporter/pwUtils','killSignal','content-type','selenium-webdriver','Rjfti','config','playwrightVersion','OfRIE','every','CuBTW','SDK\x20run\x20ended\x20for\x20id:\x20','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','7723926cHqYNz','277763fALrjx','push','API\x20Event\x20','all','notifyUpdate','./testhub/utils','requirePWModule','browserVersion','Playwright','./globals','saSSy','name','iUmaI','trim','nHMlE','imCmq'];a132_0x3e6b=function(){return _0x16ff38;};return a132_0x3e6b();}let unhandledErrors='';function a132_0x2a58(_0x585f65,_0x4a216a){const _0x3e6b8c=a132_0x3e6b();return a132_0x2a58=function(_0x2a588c,_0xf040bb){_0x2a588c=_0x2a588c-0x1af;let _0x24cead=_0x3e6b8c[_0x2a588c];return _0x24cead;},a132_0x2a58(_0x585f65,_0x4a216a);}exports[a132_0x195e45(0x22c)]=async(_0x3a109a,_0x42839d={},_0xcd5ebc,_0x19e632)=>{const _0x4629d8=a132_0x195e45,_0x4539eb={'saSSy':function(_0x1cb3c9,_0x3394cd){return _0x1cb3c9===_0x3394cd;},'MxqmW':_0x4629d8(0x1c7),'iKPHj':function(_0x44f1a5,_0x2e18c5){return _0x44f1a5>_0x2e18c5;},'RfBoB':function(_0x500ecd,_0x2cc30d){return _0x500ecd>_0x2cc30d;},'WKvnb':_0x4629d8(0x210),'uhIHM':function(_0x2e2663){return _0x2e2663();},'Rjfti':function(_0x542a8a){return _0x542a8a();},'iUmaI':function(_0xf9000,_0x27a7bb){return _0xf9000==_0x27a7bb;},'mhuPW':'null','VjBLl':function(_0x9b258d,_0x29edf3){return _0x9b258d===_0x29edf3;},'YZsBz':'undefined','UuKMU':function(_0x5cfada,_0x2a6655){return _0x5cfada>_0x2a6655;},'KPlWL':_0x4629d8(0x21b),'lzyQo':function(_0x2a9e3f,_0x587cad){return _0x2a9e3f>_0x587cad;},'yGkFt':function(_0x3d1ea4,_0x2f3556){return _0x3d1ea4!==_0x2f3556;},'lzlZZ':_0x4629d8(0x1e3),'qVIcR':function(_0x46523f,_0x524c0d){return _0x46523f===_0x524c0d;},'CuBTW':_0x4629d8(0x1ca),'FKdrR':function(_0x4dd2cf,_0x3030ad){return _0x4dd2cf>_0x3030ad;},'NBVuX':function(_0x4ea359,_0x2c758a){return _0x4ea359+_0x2c758a;},'coqTP':'Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','FyGLO':_0x4629d8(0x1f4),'BHrTU':function(_0x119bc6,_0x3fa179){return _0x119bc6(_0x3fa179);},'ixwnq':function(_0x4e04c7,_0x115527){return _0x4e04c7(_0x115527);},'JNzJM':'unknown','nHMlE':_0x4629d8(0x233),'vyHZw':_0x4629d8(0x217),'mEBFZ':function(_0x40fd2d,_0x2cfe79){return _0x40fd2d===_0x2cfe79;},'ALrVm':_0x4629d8(0x1d1),'bLZcF':_0x4629d8(0x240),'uWwvS':_0x4629d8(0x1bd),'PEYhK':_0x4629d8(0x1f3)};let _0x4d072d=[];if(helper[_0x4629d8(0x1c1)]()&&_0x4539eb[_0x4629d8(0x22a)](isTestObservabilitySession))_0x4d072d=_0xcd5ebc[_0x4629d8(0x216)]?constants[_0x4629d8(0x201)]:constants[_0x4629d8(0x238)];else{if(_0x4539eb[_0x4629d8(0x1d2)](isTestObservabilitySession))_0x4d072d=constants[_0x4629d8(0x20d)];else helper[_0x4629d8(0x1c1)]()&&(_0x4d072d=_0xcd5ebc[_0x4629d8(0x216)]?constants['APP_AUTOMATE']:constants['AUTOMATE']);}let _0x30fff7=_0xcd5ebc[_0x4629d8(0x22e)];if(_0x4539eb[_0x4629d8(0x1e7)](_0x30fff7,null))_0x30fff7=_0x4539eb['mhuPW'];else _0x4539eb[_0x4629d8(0x203)](_0x30fff7,undefined)&&(_0x30fff7=_0x4539eb[_0x4629d8(0x1b0)]);unhandledErrors&&_0x4539eb[_0x4629d8(0x1c0)](unhandledErrors[_0x4629d8(0x1cc)],0x0)&&(_0x42839d['globalException']=unhandledErrors);global[_0x4629d8(0x231)]&&(_0x42839d[_0x4629d8(0x231)]=global[_0x4629d8(0x231)]);try{if(_0x42839d[_0x4629d8(0x1ca)]){if(_0x4539eb['VjBLl'](_0x19e632,_0x4539eb[_0x4629d8(0x1b7)])&&_0x4539eb['lzyQo'](_0x42839d['error'][_0x4629d8(0x1cc)],0x0)){const _0x1d78d3={};_0x1d78d3['os']='',_0x1d78d3[_0x4629d8(0x1ef)]='',_0x1d78d3[_0x4629d8(0x230)]='',_0x1d78d3['browserVersion']='';const _0x5445cb=_0x1d78d3;let _0x3417d2={};const _0x439d70=_0x42839d[_0x4629d8(0x1ca)];_0x3417d2=_0x439d70[_0x4629d8(0x22d)]((_0x197660,_0x25d17c)=>{for(const _0x1529d6 in _0x25d17c){_0x197660[_0x1529d6]=_0x25d17c[_0x1529d6];}return _0x197660;},{});const _0x13f80e={};_0x13f80e[_0x4629d8(0x210)]=_0x3417d2,_0x42839d['error']=[Object[_0x4629d8(0x214)]({},_0x5445cb,_0x13f80e)];}else{let _0x116cd0=0x0;const _0x28a75b=_0x4539eb[_0x4629d8(0x224)](_0x19e632,_0x4539eb[_0x4629d8(0x1ec)])?JSON[_0x4629d8(0x200)](_0x42839d['error']):_0x42839d[_0x4629d8(0x1ca)],_0x4aefa1=Object[_0x4629d8(0x23d)](_0x28a75b);_0x4aefa1[_0x4629d8(0x23f)](_0x2f4186=>{const _0x3f4b25=_0x4629d8;if(_0x4539eb[_0x3f4b25(0x1e5)](typeof _0x2f4186,_0x4539eb[_0x3f4b25(0x1cd)])){const _0x2738a1=Object['values'](_0x2f4186);!_0x2738a1[_0x3f4b25(0x1d6)](_0x3cd705=>_0x3cd705===null||_0x3cd705===undefined||_0x3cd705==='')&&(_0x116cd0+=0x1);}});if(_0x4539eb[_0x4629d8(0x205)](_0x116cd0,0x0))delete _0x42839d[_0x4539eb[_0x4629d8(0x1d7)]];else{const _0x369010=[];Object[_0x4629d8(0x1b5)](_0x28a75b)['forEach'](_0x1f868c=>{const _0x3b3471=_0x4629d8,[_0x4c3ab6,_0x2c44e1,_0x23008e,_0x6f623f]=_0x1f868c[_0x3b3471(0x220)](',\x20');let _0x24d5ce={};if(!_0x6f623f){const _0x244f83={};_0x244f83[_0x3b3471(0x1cb)]=_0x4c3ab6,_0x244f83[_0x3b3471(0x1ef)]=_0x2c44e1,_0x244f83[_0x3b3471(0x230)]=_0x23008e,_0x24d5ce=_0x244f83;}else{const _0x1fedaf={};_0x1fedaf['os']=_0x4c3ab6,_0x1fedaf['osVersion']=_0x2c44e1,_0x1fedaf[_0x3b3471(0x230)]=_0x23008e,_0x1fedaf[_0x3b3471(0x1e2)]=_0x6f623f,_0x24d5ce=_0x1fedaf;}const _0x6b2d3d={},_0x42ca87=_0x28a75b[_0x1f868c];Object[_0x3b3471(0x1b5)](_0x42ca87)['forEach'](_0x57fc26=>{const _0x344c85=_0x3b3471;_0x4539eb['iKPHj'](_0x42ca87[_0x57fc26][_0x344c85(0x1cc)],0x0)&&(_0x6b2d3d[_0x57fc26]=_0x42ca87[_0x57fc26]);}),_0x4539eb[_0x3b3471(0x1b2)](Object['keys'](_0x6b2d3d)[_0x3b3471(0x1cc)],0x0)&&(_0x24d5ce[_0x4539eb[_0x3b3471(0x20c)]]=_0x6b2d3d,_0x369010[_0x3b3471(0x1dc)](_0x24d5ce));}),_0x4539eb[_0x4629d8(0x1f8)](_0x369010[_0x4629d8(0x1cc)],0x0)?_0x42839d['error']=_0x369010:delete _0x42839d[_0x4539eb[_0x4629d8(0x1d7)]];}}}}catch(_0x4f2a0b){delete _0x42839d[_0x4539eb[_0x4629d8(0x1d7)]],logger[_0x4629d8(0x22b)](_0x4539eb['NBVuX'](_0x4539eb[_0x4629d8(0x1ff)],_0x4f2a0b));}const _0x9c1459=helper[_0x4629d8(0x1c2)](_0xcd5ebc,_0xcd5ebc[_0x4629d8(0x20b)]),_0x526b27={'userName':helper[_0x4629d8(0x23c)](_0xcd5ebc),'accessKey':helper[_0x4629d8(0x219)](_0xcd5ebc),'event_type':_0x3a109a,'detectedFramework':_0x19e632,'buildHashedId':globals[_0x4629d8(0x226)](_0x4539eb['FyGLO']),'optimalHubUrl':helper[_0x4629d8(0x21a)](),'event_properties':{'testhub_uuid':process[_0x4629d8(0x1b4)][testHubConstants[_0x4629d8(0x1c9)][_0x4629d8(0x204)]]||'','sdkRunId':global[_0x4629d8(0x231)],'product_map':_0x4539eb[_0x4629d8(0x1fd)](getProductMap,_0xcd5ebc),'productMap':_0x4539eb[_0x4629d8(0x21d)](getProductMap,_0xcd5ebc),'language_framework':_0xcd5ebc[_0x4629d8(0x208)]||_0x4539eb['JNzJM'],'referrer':helper[_0x4629d8(0x207)](_0x19e632),'framework':_0xcd5ebc['framework'],'frameworkVersion':helper[_0x4629d8(0x218)](_0x19e632),'automationFramework':_0x9c1459[_0x4629d8(0x1e6)],'automationFrameworkVersion':_0x9c1459['version'],'language':_0x4539eb[_0x4629d8(0x1e9)],'languageVersion':process[_0x4629d8(0x213)],'product':_0x4d072d,'buildName':_0xcd5ebc[_0x4629d8(0x1bf)]||_0x4539eb[_0x4629d8(0x1b0)],'buildIdentifier':_0x30fff7,'os':os['type']()||_0x4539eb[_0x4629d8(0x223)],'hostname':os['hostname']()||_0x4539eb[_0x4629d8(0x223)],..._0x42839d}};try{_0x4539eb[_0x4629d8(0x1e5)](_0x3a109a,_0x4539eb['vyHZw'])&&(_0x526b27['event_properties']['browserStackConfig']=helper[_0x4629d8(0x222)](_0xcd5ebc)),_0x4539eb[_0x4629d8(0x236)](_0x19e632,_0x4539eb[_0x4629d8(0x1ec)])?_0x526b27['event_properties'][_0x4629d8(0x1d4)]=helper[_0x4629d8(0x1e1)][_0x4629d8(0x21f)](null,_0x4539eb[_0x4629d8(0x1d2)](getTransformPath),!![]):_0x526b27[_0x4629d8(0x23b)][_0x4629d8(0x1f0)]=helper[_0x4629d8(0x1be)](_0x4539eb[_0x4629d8(0x1b6)]);}catch(_0x1fb031){logger[_0x4629d8(0x22b)](_0x4629d8(0x1b3)+_0x1fb031);}const _0x432016={};_0x432016[_0x4629d8(0x1d0)]=_0x4539eb[_0x4629d8(0x1ee)];const _0x26ea9e={'headers':_0x432016,'body':_0x526b27,'auth':{'user':helper[_0x4629d8(0x23c)](_0xcd5ebc),'pass':helper[_0x4629d8(0x219)](_0xcd5ebc)},'json':!![]};logger[_0x4629d8(0x22b)](_0x4629d8(0x1d9)+JSON['stringify'](_0x26ea9e[_0x4629d8(0x1c5)])['replace'](new RegExp(helper[_0x4629d8(0x23c)](_0xcd5ebc),'g'),_0x4539eb[_0x4629d8(0x20a)])[_0x4629d8(0x228)](new RegExp(helper[_0x4629d8(0x219)](_0xcd5ebc),'g'),_0x4539eb[_0x4629d8(0x20a)]));try{const _0x44e844=await helper[_0x4629d8(0x1f6)](_0x4539eb[_0x4629d8(0x20e)],constants[_0x4629d8(0x22f)],_0x26ea9e,_0xcd5ebc);logger[_0x4629d8(0x22b)](_0x4629d8(0x1dd)+_0x3a109a+_0x4629d8(0x1eb)+util[_0x4629d8(0x1ed)]('%j',_0x44e844));}catch(_0x57fcec){logger[_0x4629d8(0x22b)]('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+'\x20:\x20'+util[_0x4629d8(0x1ed)](_0x57fcec));}},exports[a132_0x195e45(0x1c4)]=async _0x2e9881=>{const _0x1c3e78=a132_0x195e45,_0x4020f6={'KYBuk':function(_0x50c0ac){return _0x50c0ac();},'eKDXO':_0x1c3e78(0x23a),'NJaDT':_0x1c3e78(0x239),'RkwqC':_0x1c3e78(0x217),'kPkOO':function(_0x12dc22,_0x253dab,_0x22c093){return _0x12dc22(_0x253dab,_0x22c093);},'DSXVT':function(_0x2f6f8d,_0x19602b){return _0x2f6f8d+_0x19602b;},'VSIFs':_0x1c3e78(0x215)};try{await _0x2e9881['stopPercy'](),_0x4020f6[_0x1c3e78(0x1fe)](printNudgeLocalNotSetError);const _0x370078={};_0x370078[_0x1c3e78(0x1ca)]=_0x2e9881[_0x1c3e78(0x1af)]?_0x2e9881[_0x1c3e78(0x1af)]:'{}';const _0x2831b1=_0x370078,_0x141ddf=Object['assign']({},_0x2831b1);!!_0x2e9881[_0x1c3e78(0x1cf)]&&(_0x141ddf[_0x4020f6['eKDXO']]={'reason':_0x4020f6[_0x1c3e78(0x21c)],'signal':_0x2e9881['killSignal']});unhandledErrors=_0x2e9881['unhandledErrors']['join']('\x0a');let _0x316068,_0x107786,_0x466f16;helper[_0x1c3e78(0x1b1)](_0x2e9881[_0x1c3e78(0x1d3)])?([_0x316068,_0x107786]=await helper[_0x1c3e78(0x1fc)](_0x2e9881[_0x1c3e78(0x1d3)]),[_0x466f16]=await Promise[_0x1c3e78(0x1de)]([helper['getTurboScaleSessionsList'](_0x316068,_0x2e9881[_0x1c3e78(0x1d3)]),exports[_0x1c3e78(0x22c)](_0x4020f6[_0x1c3e78(0x1fb)],_0x141ddf,_0x2e9881['config'],_0x2e9881['framework'])])):([_0x316068,_0x107786]=await helper[_0x1c3e78(0x202)](_0x2e9881['config']),[_0x466f16]=await Promise[_0x1c3e78(0x1de)]([helper['getSessionsList'](_0x316068,_0x2e9881[_0x1c3e78(0x1d3)]),exports[_0x1c3e78(0x22c)](_0x4020f6['RkwqC'],_0x141ddf,_0x2e9881['config'],_0x2e9881[_0x1c3e78(0x20b)])])),_0x466f16&&await _0x4020f6[_0x1c3e78(0x1b9)](generateCIArtifacts,_0x466f16,_0x107786),logger[_0x1c3e78(0x232)](_0x1c3e78(0x1d8)+_0x2e9881['sdkRunId']+',\x20testhub\x20id:\x20'+process[_0x1c3e78(0x1b4)]['BROWSERSTACK_TESTHUB_UUID']),await helper[_0x1c3e78(0x1f1)](_0x2e9881[_0x1c3e78(0x1d3)]);}catch(_0x5d5baa){logger[_0x1c3e78(0x22b)](_0x4020f6[_0x1c3e78(0x225)](_0x4020f6[_0x1c3e78(0x1f5)],_0x5d5baa));}helper[_0x1c3e78(0x1df)]();},exports[a132_0x195e45(0x235)]=_0x34e429=>{const _0x108e2e=a132_0x195e45,_0x12ac5e={'gmXMY':function(_0x1a0413,_0x4f2e45){return _0x1a0413 instanceof _0x4f2e45;},'btEBV':function(_0x1db864,_0x2e2eef){return _0x1db864(_0x2e2eef);}};try{if(_0x12ac5e[_0x108e2e(0x1fa)](_0x34e429,Error))return _0x34e429[_0x108e2e(0x1c8)]||_0x34e429['toString']();return _0x12ac5e[_0x108e2e(0x20f)](String,_0x34e429);}catch(_0x5d998e){return _0x34e429?_0x34e429['toString']():'';}},exports['isNullOrEmpty']=_0x130051=>{const _0x29897c=a132_0x195e45,_0x12274d={};_0x12274d['imCmq']=function(_0x5dc1c1,_0x18145e){return _0x5dc1c1===_0x18145e;};const _0x15604e=_0x12274d;return!_0x130051||_0x15604e[_0x29897c(0x1ea)](_0x130051[_0x29897c(0x1e8)](),'');},exports[a132_0x195e45(0x1b8)]=_0x3da51e=>{const _0x211ab6=a132_0x195e45,_0xb181ac={};_0xb181ac[_0x211ab6(0x1d5)]=function(_0x57fdab,_0x5753a8){return _0x57fdab|_0x5753a8;};const _0x3573d9=_0xb181ac;try{return fs[_0x211ab6(0x1c3)](_0x3da51e,_0x3573d9[_0x211ab6(0x1d5)](fs[_0x211ab6(0x234)]['W_OK'],fs[_0x211ab6(0x234)][_0x211ab6(0x237)])),!![];}catch(_0x389957){return![];}},exports['setReadWriteExecuteAccess']=_0x294f63=>{const _0x34bd7b=a132_0x195e45;try{fs[_0x34bd7b(0x21e)](_0x294f63,0x1ff),logger[_0x34bd7b(0x22b)](_0x34bd7b(0x227)+_0x294f63+_0x34bd7b(0x212));}catch(_0x12e378){logger['error']('Failed\x20to\x20set\x20directory\x20access:\x20'+exports['getStackTraceAsString'](_0x12e378));}};