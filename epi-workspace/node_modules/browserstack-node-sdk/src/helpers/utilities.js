const a93_0x1b3317=a93_0x2346;function a93_0x4532(){const _0x2a2d9e=['selenium-webdriver','getFrameworkVersion','stringify','winstonLogger','format','./globals','apply','config','error','name','sdkRunID','uxtuv','\x20response\x20-\x20','assign','cgQgs','sendLogs','3061620VhhAjs',',\x20testhub\x20id:\x20','../bin/playwright/reporter/pwUtils','57520eNmGTz','./testhub/utils','nodejs','keys','QMlns','Error\x20in\x20firing\x20request\x20to\x20','APP_AUTOMATE_PRODUCTS','osVersion','undefined','../helpers/testhub/constants','yLIjL','codeceptjs','nodeRequest','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','debug','forEach','sanitizeBrowserStackConfig','info','getUserName','finishedMetadata','fNJdb','hostname','seleniumVersion','20793136KelAeG','getTurboScaleSessionsList','[REDACTED]','env','browserStackConfig','killSignal','\x20:\x20','swFut','app','VlbJv','version','SDKTestSuccessful','application/json','QRQxK','user_killed','getTurboScaleBuildLink','wuwqg','oregV','sdkRunId','fireFunnelTestEvent','eXtJv','source','playwrightVersion','body','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','./logger','IQHqX','wQaTl','length','517391YPOmwy','errorMessage','tests','notifyUpdate','framework','null','split','event_properties','PqfhH','replace','ZsPfU','values','ASZdo','KauIe','isBrowserstackInfra','getGlobal','reduce','browserVersion','DRrYl','oVdhh','globalException','TsjXj','AUTOMATE','all','NkUxP','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','265GHmTNH','1815003yOCwui','getAccessKey','GIpeZ','MoTCd','browser','deviceName','type','FkULW','1249324bSnYZQ','stopPercy','Playwright','LVKUI','join','./helper','getSessionsList','finalExecution','OHKyw','FUNNEL_INSTRUMENTATION_API_URL','bZHeB','BROWSERSTACK_TESTHUB_UUID','588960UIyOIl','getNodeAgent','every','../bin/utils/constants','DaiMn','Yqwta','unknown','unhandledErrors'];a93_0x4532=function(){return _0x2a2d9e;};return a93_0x4532();}(function(_0x111f83,_0x4619a3){const _0xb54a0f=a93_0x2346,_0x2b5893=_0x111f83();while(!![]){try{const _0x340145=parseInt(_0xb54a0f(0xcc))/0x1+parseInt(_0xb54a0f(0xc0))/0x2+parseInt(_0xb54a0f(0xb8))/0x3+-parseInt(_0xb54a0f(0xe7))/0x4*(-parseInt(_0xb54a0f(0xb7))/0x5)+parseInt(_0xb54a0f(0xe4))/0x6+parseInt(_0xb54a0f(0x11b))/0x7+-parseInt(_0xb54a0f(0xfe))/0x8;if(_0x340145===_0x4619a3)break;else _0x2b5893['push'](_0x2b5893['shift']());}catch(_0x89093c){_0x2b5893['push'](_0x2b5893['shift']());}}}(a93_0x4532,0x8a22c));const os=require('os'),util=require('util'),{getProductMap}=require(a93_0x1b3317(0xe8)),logger=require(a93_0x1b3317(0x117))[a93_0x1b3317(0xd7)],constants=require(a93_0x1b3317(0xcf)),testHubConstants=require(a93_0x1b3317(0xf0)),{getTransformPath}=require(a93_0x1b3317(0xe6)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a93_0x1b3317(0xcf)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a93_0x1b3317(0xc5)),PerformanceTester=require('./performance/performance-tester'),globals=require(a93_0x1b3317(0xd9)),{isTurboScaleSession}=require('./ats/helper'),helper=require(a93_0x1b3317(0xc5)),{isTestObservabilitySession}=require('./test-observability/utils');let unhandledErrors='';function a93_0x2346(_0x15c8c2,_0x5a06ad){const _0x453219=a93_0x4532();return a93_0x2346=function(_0x234662,_0x5504df){_0x234662=_0x234662-0xaf;let _0x11cb05=_0x453219[_0x234662];return _0x11cb05;},a93_0x2346(_0x15c8c2,_0x5a06ad);}exports[a93_0x1b3317(0x111)]=async(_0x155694,_0x4a93cb={},_0x5cd3ab,_0x41bd5c)=>{const _0x16dc2d=a93_0x1b3317,_0x3b2b90={'wuwqg':function(_0x44c6c7,_0x25ee93){return _0x44c6c7===_0x25ee93;},'LbTWv':'object','DaiMn':function(_0x3fecd6,_0x5eabdb){return _0x3fecd6>_0x5eabdb;},'OHKyw':'tests','KauIe':function(_0x4e46da){return _0x4e46da();},'FkULW':function(_0x230040,_0x2abbef){return _0x230040==_0x2abbef;},'NkUxP':_0x16dc2d(0x120),'yLIjL':_0x16dc2d(0xef),'hqGif':_0x16dc2d(0xf2),'uxtuv':function(_0x1cbab9,_0xa7c1c){return _0x1cbab9>_0xa7c1c;},'TsjXj':function(_0x14e187,_0xb0f902){return _0x14e187!==_0xb0f902;},'fNJdb':_0x16dc2d(0xc2),'GIpeZ':function(_0x49c6a1,_0x4193cc){return _0x49c6a1===_0x4193cc;},'ZsPfU':_0x16dc2d(0xdc),'lcIEo':function(_0x55dde6,_0x4bb128){return _0x55dde6>_0x4bb128;},'QRQxK':function(_0x5ef7f4,_0x1a417a){return _0x5ef7f4+_0x1a417a;},'eXtJv':'Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','MoTCd':'_buildHashedId','oVdhh':function(_0x2bf18d,_0x63bbff){return _0x2bf18d(_0x63bbff);},'DRrYl':function(_0x351aaa,_0x4dde61){return _0x351aaa(_0x4dde61);},'wQaTl':_0x16dc2d(0xd2),'zLGYf':_0x16dc2d(0xe9),'bZHeB':'SDKTestSuccessful','Yqwta':function(_0x307279,_0x4b5ba8){return _0x307279===_0x4b5ba8;},'BQAIR':_0x16dc2d(0xd4),'ASZdo':_0x16dc2d(0x10a),'QMlns':_0x16dc2d(0x100),'BFkDr':'POST'};let _0x2e2bdc=[];if(helper[_0x16dc2d(0x129)]()&&_0x3b2b90['KauIe'](isTestObservabilitySession))_0x2e2bdc=_0x5cd3ab['app']?constants[_0x16dc2d(0xed)]:constants['AUTOMATE_PRODUCTS'];else{if(_0x3b2b90[_0x16dc2d(0x128)](isTestObservabilitySession))_0x2e2bdc=constants['PRODUCT_IF_NOT_BROWSERSTACK_INFRA'];else helper[_0x16dc2d(0x129)]()&&(_0x2e2bdc=_0x5cd3ab[_0x16dc2d(0x106)]?constants['APP_AUTOMATE']:constants[_0x16dc2d(0xb3)]);}let _0x5b904e=_0x5cd3ab['buildIdentifier'];if(_0x3b2b90[_0x16dc2d(0xbf)](_0x5b904e,null))_0x5b904e=_0x3b2b90[_0x16dc2d(0xb5)];else _0x3b2b90[_0x16dc2d(0x10e)](_0x5b904e,undefined)&&(_0x5b904e=_0x3b2b90[_0x16dc2d(0xf1)]);unhandledErrors&&_0x3b2b90[_0x16dc2d(0xd0)](unhandledErrors[_0x16dc2d(0x11a)],0x0)&&(_0x4a93cb[_0x16dc2d(0xb1)]=unhandledErrors);global['sdkRunID']&&(_0x4a93cb[_0x16dc2d(0x110)]=global[_0x16dc2d(0xde)]);try{if(_0x4a93cb['error']){if(_0x3b2b90['wuwqg'](_0x41bd5c,_0x3b2b90['hqGif'])&&_0x3b2b90[_0x16dc2d(0xdf)](_0x4a93cb[_0x16dc2d(0xdc)][_0x16dc2d(0x11a)],0x0)){const _0x3cd4b9={};_0x3cd4b9['os']='',_0x3cd4b9['osVersion']='',_0x3cd4b9[_0x16dc2d(0xbc)]='',_0x3cd4b9[_0x16dc2d(0x12c)]='';const _0x2df548=_0x3cd4b9;let _0x4eae26={};const _0xe63525=_0x4a93cb['error'];_0x4eae26=_0xe63525[_0x16dc2d(0x12b)]((_0x3866c9,_0x334f0f)=>{for(const _0x63f6ff in _0x334f0f){_0x3866c9[_0x63f6ff]=_0x334f0f[_0x63f6ff];}return _0x3866c9;},{});const _0x1e7be4={};_0x1e7be4[_0x16dc2d(0x11d)]=_0x4eae26,_0x4a93cb[_0x16dc2d(0xdc)]=[Object[_0x16dc2d(0xe1)]({},_0x2df548,_0x1e7be4)];}else{let _0x2d1419=0x0;const _0x55bbd9=_0x3b2b90[_0x16dc2d(0xb2)](_0x41bd5c,_0x3b2b90[_0x16dc2d(0xfb)])?JSON['parse'](_0x4a93cb[_0x16dc2d(0xdc)]):_0x4a93cb[_0x16dc2d(0xdc)],_0x3874c4=Object['values'](_0x55bbd9);_0x3874c4['forEach'](_0x2e797d=>{const _0x336e5b=_0x16dc2d;if(_0x3b2b90[_0x336e5b(0x10e)](typeof _0x2e797d,_0x3b2b90['LbTWv'])){const _0x525ff8=Object[_0x336e5b(0x126)](_0x2e797d);!_0x525ff8[_0x336e5b(0xce)](_0x400915=>_0x400915===null||_0x400915===undefined||_0x400915==='')&&(_0x2d1419+=0x1);}});if(_0x3b2b90['GIpeZ'](_0x2d1419,0x0))delete _0x4a93cb[_0x3b2b90[_0x16dc2d(0x125)]];else{const _0x2e7abd=[];Object[_0x16dc2d(0xea)](_0x55bbd9)[_0x16dc2d(0xf6)](_0x5d4f66=>{const _0x1a65ed=_0x16dc2d,[_0x9a2e28,_0x92f4be,_0x24636c,_0x48294e]=_0x5d4f66[_0x1a65ed(0x121)](',\x20');let _0x1ea456={};if(!_0x48294e){const _0x41c977={};_0x41c977[_0x1a65ed(0xbd)]=_0x9a2e28,_0x41c977[_0x1a65ed(0xee)]=_0x92f4be,_0x41c977[_0x1a65ed(0xbc)]=_0x24636c,_0x1ea456=_0x41c977;}else{const _0x5a9ef0={};_0x5a9ef0['os']=_0x9a2e28,_0x5a9ef0[_0x1a65ed(0xee)]=_0x92f4be,_0x5a9ef0[_0x1a65ed(0xbc)]=_0x24636c,_0x5a9ef0[_0x1a65ed(0x12c)]=_0x48294e,_0x1ea456=_0x5a9ef0;}const _0x337d05={},_0x11b616=_0x55bbd9[_0x5d4f66];Object[_0x1a65ed(0xea)](_0x11b616)[_0x1a65ed(0xf6)](_0x5dc8dc=>{const _0x76e5e=_0x1a65ed;_0x3b2b90[_0x76e5e(0xd0)](_0x11b616[_0x5dc8dc][_0x76e5e(0x11a)],0x0)&&(_0x337d05[_0x5dc8dc]=_0x11b616[_0x5dc8dc]);}),_0x3b2b90[_0x1a65ed(0xd0)](Object[_0x1a65ed(0xea)](_0x337d05)[_0x1a65ed(0x11a)],0x0)&&(_0x1ea456[_0x3b2b90[_0x1a65ed(0xc8)]]=_0x337d05,_0x2e7abd['push'](_0x1ea456));}),_0x3b2b90['lcIEo'](_0x2e7abd['length'],0x0)?_0x4a93cb[_0x16dc2d(0xdc)]=_0x2e7abd:delete _0x4a93cb[_0x3b2b90[_0x16dc2d(0x125)]];}}}}catch(_0x4e9a26){delete _0x4a93cb[_0x3b2b90[_0x16dc2d(0x125)]],logger[_0x16dc2d(0xf5)](_0x3b2b90[_0x16dc2d(0x10b)](_0x3b2b90[_0x16dc2d(0x112)],_0x4e9a26));}const _0x2b5f2d=helper['getTestFrameworkDetails'](_0x5cd3ab,_0x5cd3ab[_0x16dc2d(0x11f)]),_0x9f230b={'userName':helper[_0x16dc2d(0xf9)](_0x5cd3ab),'accessKey':helper['getAccessKey'](_0x5cd3ab),'event_type':_0x155694,'detectedFramework':_0x41bd5c,'buildHashedId':globals[_0x16dc2d(0x12a)](_0x3b2b90[_0x16dc2d(0xbb)]),'optimalHubUrl':helper['getOptimalHubUrl'](),'event_properties':{'testhub_uuid':process[_0x16dc2d(0x101)][testHubConstants['ENV_VAR'][_0x16dc2d(0xcb)]]||'','sdkRunId':global[_0x16dc2d(0xde)],'product_map':_0x3b2b90[_0x16dc2d(0xb0)](getProductMap,_0x5cd3ab),'productMap':_0x3b2b90[_0x16dc2d(0xaf)](getProductMap,_0x5cd3ab),'language_framework':_0x5cd3ab[_0x16dc2d(0x113)]||_0x3b2b90['wQaTl'],'referrer':helper[_0x16dc2d(0xcd)](_0x41bd5c),'framework':_0x5cd3ab['framework'],'frameworkVersion':helper[_0x16dc2d(0xd5)](_0x41bd5c),'automationFramework':_0x2b5f2d[_0x16dc2d(0xdd)],'automationFrameworkVersion':_0x2b5f2d[_0x16dc2d(0x108)],'language':_0x3b2b90['zLGYf'],'languageVersion':process['version'],'product':_0x2e2bdc,'buildName':_0x5cd3ab['buildName']||_0x3b2b90[_0x16dc2d(0xf1)],'buildIdentifier':_0x5b904e,'os':os[_0x16dc2d(0xbe)]()||_0x3b2b90[_0x16dc2d(0x119)],'hostname':os[_0x16dc2d(0xfc)]()||_0x3b2b90[_0x16dc2d(0x119)],..._0x4a93cb}};try{_0x3b2b90[_0x16dc2d(0xba)](_0x155694,_0x3b2b90[_0x16dc2d(0xca)])&&(_0x9f230b[_0x16dc2d(0x122)][_0x16dc2d(0x102)]=helper[_0x16dc2d(0xf7)](_0x5cd3ab)),_0x3b2b90[_0x16dc2d(0xd1)](_0x41bd5c,_0x3b2b90[_0x16dc2d(0xfb)])?_0x9f230b[_0x16dc2d(0x122)][_0x16dc2d(0x114)]=helper['requirePWModule'][_0x16dc2d(0xda)](null,_0x3b2b90['KauIe'](getTransformPath),!![]):_0x9f230b['event_properties'][_0x16dc2d(0xfd)]=helper['getPackageVersion'](_0x3b2b90['BQAIR']);}catch(_0x15016e){logger[_0x16dc2d(0xf5)](_0x16dc2d(0xb6)+_0x15016e);}const _0x582545={};_0x582545['content-type']=_0x3b2b90[_0x16dc2d(0x127)];const _0x5b3f85={'headers':_0x582545,'body':_0x9f230b,'auth':{'user':helper['getUserName'](_0x5cd3ab),'pass':helper[_0x16dc2d(0xb9)](_0x5cd3ab)},'json':!![]};logger['debug'](_0x16dc2d(0x116)+JSON[_0x16dc2d(0xd6)](_0x5b3f85[_0x16dc2d(0x115)])[_0x16dc2d(0x124)](new RegExp(helper[_0x16dc2d(0xf9)](_0x5cd3ab),'g'),_0x3b2b90[_0x16dc2d(0xeb)])[_0x16dc2d(0x124)](new RegExp(helper[_0x16dc2d(0xb9)](_0x5cd3ab),'g'),_0x3b2b90[_0x16dc2d(0xeb)]));try{const _0x43b31d=await helper[_0x16dc2d(0xf3)](_0x3b2b90['BFkDr'],constants[_0x16dc2d(0xc9)],_0x5b3f85,_0x5cd3ab);logger[_0x16dc2d(0xf5)]('API\x20Event\x20'+_0x155694+_0x16dc2d(0xe0)+util[_0x16dc2d(0xd8)]('%j',_0x43b31d));}catch(_0x396b99){logger[_0x16dc2d(0xf5)](_0x16dc2d(0xec)+FUNNEL_INSTRUMENTATION_API_URL+_0x16dc2d(0x104)+util[_0x16dc2d(0xd8)](_0x396b99));}},exports[a93_0x1b3317(0xc7)]=async _0xadc728=>{const _0x43d7b3=a93_0x1b3317,_0x3f82ab={'IQHqX':function(_0x3704b9){return _0x3704b9();},'oregV':_0x43d7b3(0xfa),'swFut':_0x43d7b3(0x10c),'LVKUI':function(_0x40b2c7,_0x2c282a){return _0x40b2c7(_0x2c282a);},'PqfhH':_0x43d7b3(0x109),'ZvBsP':function(_0x2e2525,_0x547baa,_0x470a96){return _0x2e2525(_0x547baa,_0x470a96);},'VlbJv':function(_0x378b1c,_0x3f2071){return _0x378b1c+_0x3f2071;},'cgQgs':_0x43d7b3(0xf4)};try{await _0xadc728[_0x43d7b3(0xc1)](),_0x3f82ab[_0x43d7b3(0x118)](printNudgeLocalNotSetError);const _0x115e61={};_0x115e61[_0x43d7b3(0xdc)]=_0xadc728['errorMessage']?_0xadc728[_0x43d7b3(0x11c)]:'{}';const _0x14dcbb=_0x115e61,_0x2b9244=Object[_0x43d7b3(0xe1)]({},_0x14dcbb);!!_0xadc728['killSignal']&&(_0x2b9244[_0x3f82ab[_0x43d7b3(0x10f)]]={'reason':_0x3f82ab[_0x43d7b3(0x105)],'signal':_0xadc728[_0x43d7b3(0x103)]});unhandledErrors=_0xadc728[_0x43d7b3(0xd3)][_0x43d7b3(0xc4)]('\x0a');let _0x33726c,_0x276204,_0x59a597;_0x3f82ab[_0x43d7b3(0xc3)](isTurboScaleSession,_0xadc728[_0x43d7b3(0xdb)])?([_0x33726c,_0x276204]=await helper[_0x43d7b3(0x10d)](_0xadc728[_0x43d7b3(0xdb)]),[_0x59a597]=await Promise[_0x43d7b3(0xb4)]([helper[_0x43d7b3(0xff)](_0x33726c,_0xadc728[_0x43d7b3(0xdb)]),exports[_0x43d7b3(0x111)](_0x3f82ab[_0x43d7b3(0x123)],_0x2b9244,_0xadc728[_0x43d7b3(0xdb)],_0xadc728[_0x43d7b3(0x11f)])])):([_0x33726c,_0x276204]=await helper['getBuildLink'](_0xadc728[_0x43d7b3(0xdb)]),[_0x59a597]=await Promise['all']([helper[_0x43d7b3(0xc6)](_0x33726c,_0xadc728[_0x43d7b3(0xdb)]),exports[_0x43d7b3(0x111)](_0x3f82ab[_0x43d7b3(0x123)],_0x2b9244,_0xadc728['config'],_0xadc728[_0x43d7b3(0x11f)])])),_0x59a597&&await _0x3f82ab['ZvBsP'](generateCIArtifacts,_0x59a597,_0x276204),logger[_0x43d7b3(0xf8)]('SDK\x20run\x20ended\x20for\x20id:\x20'+_0xadc728[_0x43d7b3(0xde)]+_0x43d7b3(0xe5)+process[_0x43d7b3(0x101)][_0x43d7b3(0xcb)]),await helper[_0x43d7b3(0xe3)](_0xadc728[_0x43d7b3(0xdb)]);}catch(_0x37be9c){logger[_0x43d7b3(0xf5)](_0x3f82ab[_0x43d7b3(0x107)](_0x3f82ab[_0x43d7b3(0xe2)],_0x37be9c));}helper[_0x43d7b3(0x11e)]();};