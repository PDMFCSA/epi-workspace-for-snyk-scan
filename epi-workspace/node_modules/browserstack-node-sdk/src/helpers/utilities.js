const a93_0x17dafa=a93_0x7b42;(function(_0x5695b7,_0x498c42){const _0x5b853a=a93_0x7b42,_0x4240f7=_0x5695b7();while(!![]){try{const _0x47041e=-parseInt(_0x5b853a(0x1a8))/0x1+parseInt(_0x5b853a(0x162))/0x2+parseInt(_0x5b853a(0x16e))/0x3*(-parseInt(_0x5b853a(0x182))/0x4)+-parseInt(_0x5b853a(0x149))/0x5*(-parseInt(_0x5b853a(0x17a))/0x6)+-parseInt(_0x5b853a(0x189))/0x7+-parseInt(_0x5b853a(0x193))/0x8*(-parseInt(_0x5b853a(0x167))/0x9)+parseInt(_0x5b853a(0x173))/0xa;if(_0x47041e===_0x498c42)break;else _0x4240f7['push'](_0x4240f7['shift']());}catch(_0x5eae63){_0x4240f7['push'](_0x4240f7['shift']());}}}(a93_0x5b6c,0x248f3));function a93_0x7b42(_0x5ebd14,_0x3e881c){const _0x5b6c03=a93_0x5b6c();return a93_0x7b42=function(_0x7b42ed,_0x4725c7){_0x7b42ed=_0x7b42ed-0x138;let _0x82be20=_0x5b6c03[_0x7b42ed];return _0x82be20;},a93_0x7b42(_0x5ebd14,_0x3e881c);}const os=require('os'),util=require(a93_0x17dafa(0x16a)),{getProductMap}=require('./testhub/utils'),logger=require('./logger')[a93_0x17dafa(0x19a)],constants=require('../bin/utils/constants'),testHubConstants=require(a93_0x17dafa(0x17e)),{getTransformPath}=require('../bin/playwright/reporter/pwUtils'),{FUNNEL_INSTRUMENTATION_API_URL}=require('../bin/utils/constants'),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a93_0x17dafa(0x14a)),PerformanceTester=require(a93_0x17dafa(0x14d)),globals=require('./globals'),{isTurboScaleSession}=require('./ats/helper'),helper=require(a93_0x17dafa(0x14a)),{isTestObservabilitySession}=require(a93_0x17dafa(0x1a2));let unhandledErrors='';exports[a93_0x17dafa(0x1a6)]=async(_0x33e90a,_0x1220e5={},_0x4838c3,_0x17afd5)=>{const _0xed3ce8=a93_0x17dafa,_0xb9e2e6={'tmzGa':function(_0x3b2e55,_0x480bc3){return _0x3b2e55===_0x480bc3;},'qEZrB':'object','LgcNy':function(_0x9e71d3,_0x4e5efa){return _0x9e71d3>_0x4e5efa;},'KsuXZ':_0xed3ce8(0x196),'FYSbW':function(_0x339d68){return _0x339d68();},'sixEt':function(_0xfed870,_0x559bc8){return _0xfed870==_0x559bc8;},'xHGvs':_0xed3ce8(0x154),'WJkyE':function(_0x29d58f,_0x31ae14){return _0x29d58f===_0x31ae14;},'yPteE':_0xed3ce8(0x159),'ZVkYA':_0xed3ce8(0x188),'UKJkS':function(_0x298804,_0x5766e0){return _0x298804>_0x5766e0;},'txWUZ':function(_0x2d6f01,_0x45d6d2){return _0x2d6f01!==_0x45d6d2;},'mOHkV':_0xed3ce8(0x139),'mrJGe':function(_0x32124a,_0x35fd4f){return _0x32124a===_0x35fd4f;},'sEcMA':_0xed3ce8(0x191),'NYzNi':function(_0x3a929d,_0x559578){return _0x3a929d>_0x559578;},'OjlkN':function(_0x16e589,_0x324280){return _0x16e589+_0x324280;},'TWraJ':_0xed3ce8(0x192),'hPzja':_0xed3ce8(0x172),'DKzgW':function(_0xe9c905,_0x1f89a4){return _0xe9c905(_0x1f89a4);},'lqmbw':_0xed3ce8(0x13e),'DlIsP':_0xed3ce8(0x169),'QmIFQ':function(_0x22a2be,_0x3b9b2e){return _0x22a2be===_0x3b9b2e;},'oonhh':_0xed3ce8(0x13c),'LfuNi':function(_0x122ea2,_0x5a6c0c){return _0x122ea2===_0x5a6c0c;},'iiNcw':_0xed3ce8(0x153),'gWzee':_0xed3ce8(0x1a7),'QwInZ':_0xed3ce8(0x164),'DlZfL':_0xed3ce8(0x15f)};let _0x338979=[];if(helper[_0xed3ce8(0x199)]()&&_0xb9e2e6[_0xed3ce8(0x152)](isTestObservabilitySession))_0x338979=_0x4838c3[_0xed3ce8(0x14f)]?constants[_0xed3ce8(0x14b)]:constants['AUTOMATE_PRODUCTS'];else{if(_0xb9e2e6['FYSbW'](isTestObservabilitySession))_0x338979=constants[_0xed3ce8(0x16f)];else helper[_0xed3ce8(0x199)]()&&(_0x338979=_0x4838c3[_0xed3ce8(0x14f)]?constants[_0xed3ce8(0x13b)]:constants[_0xed3ce8(0x1ab)]);}let _0x2222c6=_0x4838c3[_0xed3ce8(0x171)];if(_0xb9e2e6[_0xed3ce8(0x16d)](_0x2222c6,null))_0x2222c6=_0xb9e2e6[_0xed3ce8(0x17b)];else _0xb9e2e6[_0xed3ce8(0x1b1)](_0x2222c6,undefined)&&(_0x2222c6=_0xb9e2e6['yPteE']);unhandledErrors&&_0xb9e2e6[_0xed3ce8(0x1b4)](unhandledErrors[_0xed3ce8(0x14e)],0x0)&&(_0x1220e5['globalException']=unhandledErrors);global['sdkRunID']&&(_0x1220e5[_0xed3ce8(0x1b2)]=global['sdkRunID']);try{if(_0x1220e5[_0xed3ce8(0x191)]){if(_0xb9e2e6[_0xed3ce8(0x1b1)](_0x17afd5,_0xb9e2e6['ZVkYA'])&&_0xb9e2e6['UKJkS'](_0x1220e5[_0xed3ce8(0x191)][_0xed3ce8(0x14e)],0x0)){const _0x38dbdc={};_0x38dbdc['os']='',_0x38dbdc[_0xed3ce8(0x143)]='',_0x38dbdc[_0xed3ce8(0x1a3)]='',_0x38dbdc[_0xed3ce8(0x1b3)]='';const _0x5e88a3=_0x38dbdc;let _0x5bb960={};const _0xb9e050=_0x1220e5[_0xed3ce8(0x191)];_0x5bb960=_0xb9e050[_0xed3ce8(0x197)]((_0x2689e8,_0x5b991f)=>{for(const _0x5e33fa in _0x5b991f){_0x2689e8[_0x5e33fa]=_0x5b991f[_0x5e33fa];}return _0x2689e8;},{});const _0x31c11f={};_0x31c11f[_0xed3ce8(0x196)]=_0x5bb960,_0x1220e5[_0xed3ce8(0x191)]=[Object[_0xed3ce8(0x1a9)]({},_0x5e88a3,_0x31c11f)];}else{let _0x452201=0x0;const _0x35936a=_0xb9e2e6[_0xed3ce8(0x156)](_0x17afd5,_0xb9e2e6[_0xed3ce8(0x155)])?JSON[_0xed3ce8(0x1b6)](_0x1220e5[_0xed3ce8(0x191)]):_0x1220e5[_0xed3ce8(0x191)],_0x4eada0=Object[_0xed3ce8(0x160)](_0x35936a);_0x4eada0['forEach'](_0x4c15cf=>{const _0x39b31=_0xed3ce8;if(_0xb9e2e6[_0x39b31(0x19f)](typeof _0x4c15cf,_0xb9e2e6[_0x39b31(0x146)])){const _0x95e0eb=Object[_0x39b31(0x160)](_0x4c15cf);!_0x95e0eb[_0x39b31(0x194)](_0x7da27f=>_0x7da27f===null||_0x7da27f===undefined||_0x7da27f==='')&&(_0x452201+=0x1);}});if(_0xb9e2e6[_0xed3ce8(0x158)](_0x452201,0x0))delete _0x1220e5[_0xb9e2e6[_0xed3ce8(0x17c)]];else{const _0x25c3c2=[];Object[_0xed3ce8(0x14c)](_0x35936a)[_0xed3ce8(0x13f)](_0x4068b9=>{const _0x2051fb=_0xed3ce8,[_0x241e2a,_0x3ad86e,_0x3440c8,_0x2ddeff]=_0x4068b9[_0x2051fb(0x183)](',\x20');let _0xd98f9c={};if(!_0x2ddeff){const _0x1eca93={};_0x1eca93[_0x2051fb(0x187)]=_0x241e2a,_0x1eca93[_0x2051fb(0x143)]=_0x3ad86e,_0x1eca93[_0x2051fb(0x1a3)]=_0x3440c8,_0xd98f9c=_0x1eca93;}else{const _0x435cb1={};_0x435cb1['os']=_0x241e2a,_0x435cb1[_0x2051fb(0x143)]=_0x3ad86e,_0x435cb1[_0x2051fb(0x1a3)]=_0x3440c8,_0x435cb1[_0x2051fb(0x1b3)]=_0x2ddeff,_0xd98f9c=_0x435cb1;}const _0x47b45c={},_0x327fc1=_0x35936a[_0x4068b9];Object[_0x2051fb(0x14c)](_0x327fc1)[_0x2051fb(0x13f)](_0x3becec=>{const _0x110db7=_0x2051fb;_0xb9e2e6[_0x110db7(0x1b4)](_0x327fc1[_0x3becec][_0x110db7(0x14e)],0x0)&&(_0x47b45c[_0x3becec]=_0x327fc1[_0x3becec]);}),_0xb9e2e6[_0x2051fb(0x1b4)](Object[_0x2051fb(0x14c)](_0x47b45c)[_0x2051fb(0x14e)],0x0)&&(_0xd98f9c[_0xb9e2e6[_0x2051fb(0x144)]]=_0x47b45c,_0x25c3c2[_0x2051fb(0x18f)](_0xd98f9c));}),_0xb9e2e6[_0xed3ce8(0x18e)](_0x25c3c2[_0xed3ce8(0x14e)],0x0)?_0x1220e5[_0xed3ce8(0x191)]=_0x25c3c2:delete _0x1220e5[_0xb9e2e6[_0xed3ce8(0x17c)]];}}}}catch(_0x44ee10){delete _0x1220e5[_0xb9e2e6[_0xed3ce8(0x17c)]],logger['debug'](_0xb9e2e6[_0xed3ce8(0x142)](_0xb9e2e6[_0xed3ce8(0x184)],_0x44ee10));}const _0x1f2bac=helper[_0xed3ce8(0x19b)](_0x4838c3,_0x4838c3[_0xed3ce8(0x13d)]),_0x3e42a1={'userName':helper[_0xed3ce8(0x141)](_0x4838c3),'accessKey':helper['getAccessKey'](_0x4838c3),'event_type':_0x33e90a,'detectedFramework':_0x17afd5,'buildHashedId':globals['getGlobal'](_0xb9e2e6[_0xed3ce8(0x16b)]),'optimalHubUrl':helper['getOptimalHubUrl'](),'event_properties':{'testhub_uuid':process[_0xed3ce8(0x15b)][testHubConstants[_0xed3ce8(0x15d)][_0xed3ce8(0x195)]]||'','sdkRunId':global[_0xed3ce8(0x17d)],'product_map':_0xb9e2e6['DKzgW'](getProductMap,_0x4838c3),'productMap':_0xb9e2e6[_0xed3ce8(0x1b8)](getProductMap,_0x4838c3),'language_framework':_0x4838c3[_0xed3ce8(0x185)]||_0xb9e2e6[_0xed3ce8(0x15c)],'referrer':helper[_0xed3ce8(0x1ae)](_0x17afd5),'framework':_0x4838c3['framework'],'frameworkVersion':helper[_0xed3ce8(0x1b0)](_0x17afd5),'automationFramework':_0x1f2bac[_0xed3ce8(0x181)],'automationFrameworkVersion':_0x1f2bac['version'],'language':_0xb9e2e6['DlIsP'],'languageVersion':process['version'],'product':_0x338979,'buildName':_0x4838c3[_0xed3ce8(0x18a)]||_0xb9e2e6['yPteE'],'buildIdentifier':_0x2222c6,'os':os[_0xed3ce8(0x19e)]()||_0xb9e2e6[_0xed3ce8(0x15c)],'hostname':os[_0xed3ce8(0x1ad)]()||_0xb9e2e6[_0xed3ce8(0x15c)],..._0x1220e5}};try{_0xb9e2e6[_0xed3ce8(0x163)](_0x33e90a,_0xb9e2e6['oonhh'])&&(_0x3e42a1[_0xed3ce8(0x147)][_0xed3ce8(0x161)]=helper['sanitizeBrowserStackConfig'](_0x4838c3)),_0xb9e2e6['LfuNi'](_0x17afd5,_0xb9e2e6[_0xed3ce8(0x155)])?_0x3e42a1[_0xed3ce8(0x147)][_0xed3ce8(0x1aa)]=helper['requirePWModule'][_0xed3ce8(0x1a1)](null,_0xb9e2e6[_0xed3ce8(0x152)](getTransformPath),!![]):_0x3e42a1[_0xed3ce8(0x147)][_0xed3ce8(0x177)]=helper['getPackageVersion'](_0xb9e2e6[_0xed3ce8(0x15a)]);}catch(_0x21b087){logger[_0xed3ce8(0x175)](_0xed3ce8(0x1b5)+_0x21b087);}const _0x3c82d7={};_0x3c82d7[_0xed3ce8(0x13a)]=_0xb9e2e6[_0xed3ce8(0x176)];const _0x7223ad={'headers':_0x3c82d7,'body':_0x3e42a1,'auth':{'user':helper['getUserName'](_0x4838c3),'pass':helper[_0xed3ce8(0x1ac)](_0x4838c3)},'json':!![]};logger[_0xed3ce8(0x175)](_0xed3ce8(0x190)+JSON[_0xed3ce8(0x1a4)](_0x7223ad[_0xed3ce8(0x174)])[_0xed3ce8(0x1b7)](new RegExp(helper[_0xed3ce8(0x141)](_0x4838c3),'g'),_0xb9e2e6[_0xed3ce8(0x180)])['replace'](new RegExp(helper['getAccessKey'](_0x4838c3),'g'),_0xb9e2e6[_0xed3ce8(0x180)]));try{const _0x1ac928=await helper[_0xed3ce8(0x151)](_0xb9e2e6[_0xed3ce8(0x18c)],constants['FUNNEL_INSTRUMENTATION_API_URL'],_0x7223ad,_0x4838c3);logger[_0xed3ce8(0x175)]('API\x20Event\x20'+_0x33e90a+_0xed3ce8(0x140)+util[_0xed3ce8(0x168)]('%j',_0x1ac928));}catch(_0x4345de){logger[_0xed3ce8(0x175)]('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+_0xed3ce8(0x19d)+util[_0xed3ce8(0x168)](_0x4345de));}},exports['finalExecution']=async _0x1c0991=>{const _0x37c984=a93_0x17dafa,_0x5be89c={'RzOVI':function(_0xecd0e6){return _0xecd0e6();},'cqHwS':'finishedMetadata','kYdHs':'user_killed','WaToQ':function(_0x39f2f2,_0x114f5e){return _0x39f2f2(_0x114f5e);},'ohvnw':_0x37c984(0x13c),'HNsqp':function(_0x25069f,_0x57052c,_0x3c1267){return _0x25069f(_0x57052c,_0x3c1267);},'VtPDs':function(_0xd23479,_0x4dccbc){return _0xd23479+_0x4dccbc;},'ZWCcE':_0x37c984(0x186)};try{await _0x1c0991[_0x37c984(0x18b)](),_0x5be89c[_0x37c984(0x145)](printNudgeLocalNotSetError);const _0x412fa8={};_0x412fa8[_0x37c984(0x191)]=_0x1c0991['errorMessage']?_0x1c0991['errorMessage']:'{}';const _0x3515dd=_0x412fa8,_0x4bdb4a=Object[_0x37c984(0x1a9)]({},_0x3515dd);!!_0x1c0991[_0x37c984(0x1a0)]&&(_0x4bdb4a[_0x5be89c[_0x37c984(0x148)]]={'reason':_0x5be89c[_0x37c984(0x138)],'signal':_0x1c0991[_0x37c984(0x1a0)]});unhandledErrors=_0x1c0991[_0x37c984(0x17f)][_0x37c984(0x170)]('\x0a');let _0x5500e6,_0x38e48a,_0x52df1f;_0x5be89c[_0x37c984(0x165)](isTurboScaleSession,_0x1c0991[_0x37c984(0x1a5)])?([_0x5500e6,_0x38e48a]=await helper[_0x37c984(0x198)](_0x1c0991[_0x37c984(0x1a5)]),[_0x52df1f]=await Promise['all']([helper[_0x37c984(0x178)](_0x5500e6,_0x1c0991[_0x37c984(0x1a5)]),exports[_0x37c984(0x1a6)](_0x5be89c['ohvnw'],_0x4bdb4a,_0x1c0991['config'],_0x1c0991[_0x37c984(0x13d)])])):([_0x5500e6,_0x38e48a]=await helper[_0x37c984(0x1af)](_0x1c0991[_0x37c984(0x1a5)]),[_0x52df1f]=await Promise[_0x37c984(0x179)]([helper[_0x37c984(0x166)](_0x5500e6,_0x1c0991['config']),exports['fireFunnelTestEvent'](_0x5be89c[_0x37c984(0x15e)],_0x4bdb4a,_0x1c0991[_0x37c984(0x1a5)],_0x1c0991[_0x37c984(0x13d)])])),_0x52df1f&&await _0x5be89c[_0x37c984(0x150)](generateCIArtifacts,_0x52df1f,_0x38e48a),logger[_0x37c984(0x18d)]('SDK\x20run\x20ended\x20for\x20id:\x20'+_0x1c0991[_0x37c984(0x17d)]+_0x37c984(0x16c)+process[_0x37c984(0x15b)][_0x37c984(0x195)]),await helper['sendLogs'](_0x1c0991['config']);}catch(_0x5b1ddb){logger['debug'](_0x5be89c['VtPDs'](_0x5be89c[_0x37c984(0x19c)],_0x5b1ddb));}helper[_0x37c984(0x157)]();};function a93_0x5b6c(){const _0x3b4806=['HNsqp','nodeRequest','FYSbW','selenium-webdriver','null','mOHkV','txWUZ','notifyUpdate','mrJGe','undefined','iiNcw','env','lqmbw','ENV_VAR','ohvnw','POST','values','browserStackConfig','431510vKCtaS','QmIFQ','[REDACTED]','WaToQ','getSessionsList','9FNhlJK','format','nodejs','util','hPzja',',\x20testhub\x20id:\x20','sixEt','848346kXQSjR','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','join','buildIdentifier','_buildHashedId','1783050oPKzHm','body','debug','gWzee','seleniumVersion','getTurboScaleSessionsList','all','1110954uJdZaP','xHGvs','sEcMA','sdkRunID','../helpers/testhub/constants','unhandledErrors','QwInZ','name','4rKbbNw','split','TWraJ','source','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','deviceName','codeceptjs','957698uPsLnc','buildName','stopPercy','DlZfL','info','NYzNi','push','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','error','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','1838472foakWG','every','BROWSERSTACK_TESTHUB_UUID','tests','reduce','getTurboScaleBuildLink','isBrowserstackInfra','winstonLogger','getTestFrameworkDetails','ZWCcE','\x20:\x20','type','tmzGa','killSignal','apply','./test-observability/utils','browser','stringify','config','fireFunnelTestEvent','application/json','239685KMzHCV','assign','playwrightVersion','AUTOMATE','getAccessKey','hostname','getNodeAgent','getBuildLink','getFrameworkVersion','WJkyE','sdkRunId','browserVersion','LgcNy','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','parse','replace','DKzgW','kYdHs','Playwright','content-type','APP_AUTOMATE','SDKTestSuccessful','framework','unknown','forEach','\x20response\x20-\x20','getUserName','OjlkN','osVersion','KsuXZ','RzOVI','qEZrB','event_properties','cqHwS','5ErFmFm','./helper','APP_AUTOMATE_PRODUCTS','keys','./performance/performance-tester','length','app'];a93_0x5b6c=function(){return _0x3b4806;};return a93_0x5b6c();}