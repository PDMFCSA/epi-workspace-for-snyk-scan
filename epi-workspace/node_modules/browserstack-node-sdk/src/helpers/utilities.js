const a142_0x155eff=a142_0x1a63;function a142_0x1a63(_0x30c758,_0x58f6bd){const _0x3b0ab6=a142_0x3b0a();return a142_0x1a63=function(_0x1a6302,_0x513e29){_0x1a6302=_0x1a6302-0x11b;let _0x5f4fe=_0x3b0ab6[_0x1a6302];return _0x5f4fe;},a142_0x1a63(_0x30c758,_0x58f6bd);}(function(_0xfa50c5,_0x1b0c03){const _0x2f3988=a142_0x1a63,_0x9516d0=_0xfa50c5();while(!![]){try{const _0xf4828=-parseInt(_0x2f3988(0x193))/0x1*(-parseInt(_0x2f3988(0x138))/0x2)+-parseInt(_0x2f3988(0x143))/0x3+parseInt(_0x2f3988(0x18f))/0x4*(-parseInt(_0x2f3988(0x187))/0x5)+parseInt(_0x2f3988(0x176))/0x6+parseInt(_0x2f3988(0x171))/0x7*(parseInt(_0x2f3988(0x180))/0x8)+-parseInt(_0x2f3988(0x17e))/0x9+parseInt(_0x2f3988(0x146))/0xa*(parseInt(_0x2f3988(0x1a4))/0xb);if(_0xf4828===_0x1b0c03)break;else _0x9516d0['push'](_0x9516d0['shift']());}catch(_0x249af8){_0x9516d0['push'](_0x9516d0['shift']());}}}(a142_0x3b0a,0x1a4f2));function a142_0x3b0a(){const _0x294702=['browser','BROWSERSTACK_TESTHUB_UUID','source','./test-observability/utils','CxUnP','praow','EMiQH','content-type','qzdPl','APP_AUTOMATE_PRODUCTS','getNodeAgent','\x20:\x20','isBrowserstackInfra','DflZT','ZmPsG','keys','586718hKjOLN','Error\x20in\x20firing\x20request\x20to\x20','null','huCPB','reduce','Playwright','getUserName','nodeRequest','killSignal','util','finishedMetadata','forEach','sendLogs','Hkvju','browserVersion','constants','nodejs','getSessionsList','getOptimalHubUrl','getStackTraceAsString','../bin/playwright/reporter/pwUtils','JbRvP','POST','stack','sdkRunId','codeceptjs','getTurboScaleSessionsList','replace','app','DLhpy','getPackageVersion','buildName','finalExecution','version','X_OK','deviceName','type','egRYR','trim','2HSXenB','application/json','sUNAG','getAccessKey','aLYDi','PjWTC','API\x20Event\x20','Failed\x20to\x20set\x20directory\x20access:\x20','\x20has\x20now\x20read/write/execute\x20permissions.','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','buildIdentifier','573771KdIyQg','hostname','stringify','20ARASxy','fireFunnelTestEvent','debug','tests','every','all','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','join','unhandledErrors','getFrameworkVersion','user_killed','errorMessage','EkyTj','FmUbA','izSrh','CWExQ','config','push','LvheT','winstonLogger','NmRnh','./helper','error','mwadq','getTurboScaleBuildLink','UKZZZ','framework','AUTOMATE','zbGaA','../helpers/testhub/constants','parse','selenium-webdriver','getTestFrameworkDetails','TkJTV','jmRED','ecnZZ','notifyUpdate','SDKTestSuccessful','GsBTc','requirePWModule','[REDACTED]','Directory\x20','vBHfV','469588ScRXov','length','SDK\x20run\x20ended\x20for\x20id:\x20','W_OK','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','438102DmCVZG','seleniumVersion','info','globalException','osVersion','assign','ENV_VAR','./globals','593730jrKcKQ','isNullOrEmpty','16rRYWtc','sanitizeBrowserStackConfig','VBAEQ','EEPDV','setReadWriteExecuteAccess','APP_AUTOMATE','browserStackConfig','5sPJFJZ','toString','event_properties','cuiXd','env','format','pmiZP','values','242736spwKhI','../bin/utils/constants','chmodSync','_buildHashedId','111812OLvGJE'];a142_0x3b0a=function(){return _0x294702;};return a142_0x3b0a();}const os=require('os'),util=require(a142_0x155eff(0x1ad)),fs=require('fs'),{getProductMap}=require('./testhub/utils'),logger=require('./logger')[a142_0x155eff(0x159)],constants=require(a142_0x155eff(0x190)),testHubConstants=require(a142_0x155eff(0x163)),{getTransformPath}=require(a142_0x155eff(0x125)),{FUNNEL_INSTRUMENTATION_API_URL}=require('../bin/utils/constants'),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a142_0x155eff(0x15b)),PerformanceTester=require('./performance/performance-tester'),globals=require(a142_0x155eff(0x17d)),helper=require(a142_0x155eff(0x15b)),{isTestObservabilitySession}=require(a142_0x155eff(0x197));let unhandledErrors='';exports[a142_0x155eff(0x147)]=async(_0x5cfd52,_0x512798={},_0xbc484c,_0xea9503)=>{const _0x53e523=a142_0x155eff,_0x49e008={'zbGaA':function(_0x5215a2,_0x4cec50){return _0x5215a2===_0x4cec50;},'aLYDi':'object','Hkvju':function(_0x80cbfe,_0x419ac0){return _0x80cbfe>_0x419ac0;},'GsBTc':function(_0x35315a,_0x3b73c6){return _0x35315a>_0x3b73c6;},'LvheT':'tests','PjWTC':function(_0x2855ff){return _0x2855ff();},'uFshd':function(_0xc888e1,_0x120b7d){return _0xc888e1==_0x120b7d;},'VBAEQ':_0x53e523(0x1a6),'EkyTj':'undefined','vBHfV':_0x53e523(0x12a),'praow':function(_0x103a77,_0x473a1a){return _0x103a77!==_0x473a1a;},'NmRnh':_0x53e523(0x1a9),'sUNAG':_0x53e523(0x15c),'izSrh':function(_0x1f10f7,_0x42452a){return _0x1f10f7+_0x42452a;},'XsirF':_0x53e523(0x14c),'EEPDV':_0x53e523(0x192),'DflZT':function(_0x29d712,_0x2f4780){return _0x29d712(_0x2f4780);},'jmRED':'unknown','CxUnP':_0x53e523(0x121),'hSeVI':_0x53e523(0x16b),'SAqVm':function(_0x24615b){return _0x24615b();},'ecnZZ':_0x53e523(0x165),'egRYR':_0x53e523(0x139),'pmiZP':_0x53e523(0x16e),'huCPB':_0x53e523(0x127)};let _0x4b4fc5=[];if(helper[_0x53e523(0x1a0)]()&&_0x49e008['PjWTC'](isTestObservabilitySession))_0x4b4fc5=_0xbc484c[_0x53e523(0x12d)]?constants[_0x53e523(0x19d)]:constants['AUTOMATE_PRODUCTS'];else{if(_0x49e008[_0x53e523(0x13d)](isTestObservabilitySession))_0x4b4fc5=constants[_0x53e523(0x175)];else helper[_0x53e523(0x1a0)]()&&(_0x4b4fc5=_0xbc484c['app']?constants[_0x53e523(0x185)]:constants[_0x53e523(0x161)]);}let _0x63a11a=_0xbc484c[_0x53e523(0x142)];if(_0x49e008['uFshd'](_0x63a11a,null))_0x63a11a=_0x49e008[_0x53e523(0x182)];else _0x49e008[_0x53e523(0x162)](_0x63a11a,undefined)&&(_0x63a11a=_0x49e008[_0x53e523(0x152)]);unhandledErrors&&_0x49e008[_0x53e523(0x11e)](unhandledErrors[_0x53e523(0x172)],0x0)&&(_0x512798[_0x53e523(0x179)]=unhandledErrors);global[_0x53e523(0x129)]&&(_0x512798[_0x53e523(0x129)]=global[_0x53e523(0x129)]);try{if(_0x512798[_0x53e523(0x15c)]){if(_0x49e008['zbGaA'](_0xea9503,_0x49e008[_0x53e523(0x170)])&&_0x49e008[_0x53e523(0x16c)](_0x512798[_0x53e523(0x15c)][_0x53e523(0x172)],0x0)){const _0x32a635={};_0x32a635['os']='',_0x32a635['osVersion']='',_0x32a635[_0x53e523(0x194)]='',_0x32a635[_0x53e523(0x11f)]='';const _0xd35532=_0x32a635;let _0x40ee78={};const _0x2784f9=_0x512798[_0x53e523(0x15c)];_0x40ee78=_0x2784f9[_0x53e523(0x1a8)]((_0xafecf0,_0x455fea)=>{for(const _0x46b43e in _0x455fea){_0xafecf0[_0x46b43e]=_0x455fea[_0x46b43e];}return _0xafecf0;},{});const _0x2d1883={};_0x2d1883[_0x53e523(0x149)]=_0x40ee78,_0x512798[_0x53e523(0x15c)]=[Object[_0x53e523(0x17b)]({},_0xd35532,_0x2d1883)];}else{let _0x45f55f=0x0;const _0x2406ca=_0x49e008[_0x53e523(0x199)](_0xea9503,_0x49e008[_0x53e523(0x15a)])?JSON[_0x53e523(0x164)](_0x512798[_0x53e523(0x15c)]):_0x512798[_0x53e523(0x15c)],_0x42c3cf=Object[_0x53e523(0x18e)](_0x2406ca);_0x42c3cf[_0x53e523(0x11c)](_0xc075de=>{const _0x47ef49=_0x53e523;if(_0x49e008['zbGaA'](typeof _0xc075de,_0x49e008[_0x47ef49(0x13c)])){const _0x577a0e=Object[_0x47ef49(0x18e)](_0xc075de);!_0x577a0e[_0x47ef49(0x14a)](_0x2a7e57=>_0x2a7e57===null||_0x2a7e57===undefined||_0x2a7e57==='')&&(_0x45f55f+=0x1);}});if(_0x49e008['zbGaA'](_0x45f55f,0x0))delete _0x512798[_0x49e008['sUNAG']];else{const _0x55f257=[];Object[_0x53e523(0x1a3)](_0x2406ca)[_0x53e523(0x11c)](_0x90864c=>{const _0x5ebafb=_0x53e523,_0x129990={'TkJTV':function(_0x33eddb,_0x15fefc){return _0x49e008['Hkvju'](_0x33eddb,_0x15fefc);}},[_0x4b0396,_0xd5f121,_0x5b3d78,_0x171c3c]=_0x90864c['split'](',\x20');let _0x550fcd={};if(!_0x171c3c){const _0x2eb2b4={};_0x2eb2b4[_0x5ebafb(0x134)]=_0x4b0396,_0x2eb2b4[_0x5ebafb(0x17a)]=_0xd5f121,_0x2eb2b4['browser']=_0x5b3d78,_0x550fcd=_0x2eb2b4;}else{const _0x519de2={};_0x519de2['os']=_0x4b0396,_0x519de2['osVersion']=_0xd5f121,_0x519de2[_0x5ebafb(0x194)]=_0x5b3d78,_0x519de2['browserVersion']=_0x171c3c,_0x550fcd=_0x519de2;}const _0x1dae08={},_0x104859=_0x2406ca[_0x90864c];Object['keys'](_0x104859)['forEach'](_0x3ccbfe=>{const _0x156baa=_0x5ebafb;_0x129990[_0x156baa(0x167)](_0x104859[_0x3ccbfe][_0x156baa(0x172)],0x0)&&(_0x1dae08[_0x3ccbfe]=_0x104859[_0x3ccbfe]);}),_0x49e008[_0x5ebafb(0x16c)](Object[_0x5ebafb(0x1a3)](_0x1dae08)[_0x5ebafb(0x172)],0x0)&&(_0x550fcd[_0x49e008[_0x5ebafb(0x158)]]=_0x1dae08,_0x55f257[_0x5ebafb(0x157)](_0x550fcd));}),_0x49e008['Hkvju'](_0x55f257[_0x53e523(0x172)],0x0)?_0x512798['error']=_0x55f257:delete _0x512798[_0x49e008['sUNAG']];}}}}catch(_0x549c6e){delete _0x512798[_0x49e008[_0x53e523(0x13a)]],logger['debug'](_0x49e008[_0x53e523(0x154)](_0x49e008['XsirF'],_0x549c6e));}const _0x5adfc1=helper[_0x53e523(0x166)](_0xbc484c,_0xbc484c['framework']),_0x57cfb0={'userName':helper[_0x53e523(0x1aa)](_0xbc484c),'accessKey':helper[_0x53e523(0x13b)](_0xbc484c),'event_type':_0x5cfd52,'detectedFramework':_0xea9503,'buildHashedId':globals['getGlobal'](_0x49e008[_0x53e523(0x183)]),'optimalHubUrl':helper[_0x53e523(0x123)](),'event_properties':{'testhub_uuid':process[_0x53e523(0x18b)][testHubConstants[_0x53e523(0x17c)][_0x53e523(0x195)]]||'','sdkRunId':global[_0x53e523(0x129)],'product_map':_0x49e008[_0x53e523(0x1a1)](getProductMap,_0xbc484c),'productMap':_0x49e008[_0x53e523(0x1a1)](getProductMap,_0xbc484c),'language_framework':_0xbc484c[_0x53e523(0x196)]||_0x49e008['jmRED'],'referrer':helper[_0x53e523(0x19e)](_0xea9503),'framework':_0xbc484c[_0x53e523(0x160)],'frameworkVersion':helper[_0x53e523(0x14f)](_0xea9503),'automationFramework':_0x5adfc1['name'],'automationFrameworkVersion':_0x5adfc1[_0x53e523(0x132)],'language':_0x49e008[_0x53e523(0x198)],'languageVersion':process[_0x53e523(0x132)],'product':_0x4b4fc5,'buildName':_0xbc484c[_0x53e523(0x130)]||_0x49e008[_0x53e523(0x152)],'buildIdentifier':_0x63a11a,'os':os[_0x53e523(0x135)]()||_0x49e008['jmRED'],'hostname':os[_0x53e523(0x144)]()||_0x49e008[_0x53e523(0x168)],..._0x512798}};try{_0x49e008[_0x53e523(0x162)](_0x5cfd52,_0x49e008['hSeVI'])&&(_0x57cfb0['event_properties'][_0x53e523(0x186)]=helper[_0x53e523(0x181)](_0xbc484c)),_0x49e008[_0x53e523(0x162)](_0xea9503,_0x49e008[_0x53e523(0x15a)])?_0x57cfb0[_0x53e523(0x189)]['playwrightVersion']=helper[_0x53e523(0x16d)]['apply'](null,_0x49e008['SAqVm'](getTransformPath),!![]):_0x57cfb0[_0x53e523(0x189)][_0x53e523(0x177)]=helper[_0x53e523(0x12f)](_0x49e008[_0x53e523(0x169)]);}catch(_0x4536a9){logger[_0x53e523(0x148)]('Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20'+_0x4536a9);}const _0x4d5a0f={};_0x4d5a0f[_0x53e523(0x19b)]=_0x49e008[_0x53e523(0x136)];const _0x1facec={'headers':_0x4d5a0f,'body':_0x57cfb0,'auth':{'user':helper[_0x53e523(0x1aa)](_0xbc484c),'pass':helper[_0x53e523(0x13b)](_0xbc484c)},'json':!![]};logger[_0x53e523(0x148)]('Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20'+JSON[_0x53e523(0x145)](_0x1facec['body'])['replace'](new RegExp(helper[_0x53e523(0x1aa)](_0xbc484c),'g'),_0x49e008['pmiZP'])[_0x53e523(0x12c)](new RegExp(helper['getAccessKey'](_0xbc484c),'g'),_0x49e008[_0x53e523(0x18d)]));try{const _0x42532d=await helper[_0x53e523(0x1ab)](_0x49e008[_0x53e523(0x1a7)],FUNNEL_INSTRUMENTATION_API_URL,_0x1facec,_0xbc484c);logger[_0x53e523(0x148)](_0x53e523(0x13e)+_0x5cfd52+'\x20response\x20-\x20'+util[_0x53e523(0x18c)]('%j',_0x42532d));}catch(_0x4840f5){logger['debug'](_0x53e523(0x1a5)+FUNNEL_INSTRUMENTATION_API_URL+_0x53e523(0x19f)+util[_0x53e523(0x18c)](_0x4840f5));}},exports[a142_0x155eff(0x131)]=async _0x58a351=>{const _0x1b50a4=a142_0x155eff,_0x3b9ca6={'qzdPl':function(_0x37d5d5){return _0x37d5d5();},'cuiXd':_0x1b50a4(0x11b),'mwadq':_0x1b50a4(0x150),'ZmPsG':_0x1b50a4(0x16b),'CWExQ':function(_0x2d58a5,_0x5e5a83,_0x274876){return _0x2d58a5(_0x5e5a83,_0x274876);},'UKZZZ':function(_0x355aa1,_0x2cf193){return _0x355aa1+_0x2cf193;},'EMiQH':_0x1b50a4(0x141)};try{await _0x58a351['stopPercy'](),_0x3b9ca6[_0x1b50a4(0x19c)](printNudgeLocalNotSetError);const _0x58e914={};_0x58e914['error']=_0x58a351[_0x1b50a4(0x151)]?_0x58a351[_0x1b50a4(0x151)]:'{}';const _0x435a1b=_0x58e914,_0x3fb6cb=Object[_0x1b50a4(0x17b)]({},_0x435a1b);!!_0x58a351['killSignal']&&(_0x3fb6cb[_0x3b9ca6[_0x1b50a4(0x18a)]]={'reason':_0x3b9ca6[_0x1b50a4(0x15d)],'signal':_0x58a351[_0x1b50a4(0x1ac)]});unhandledErrors=_0x58a351[_0x1b50a4(0x14e)][_0x1b50a4(0x14d)]('\x0a');let _0xb8c53c,_0x455a2b,_0x285148;helper['isTurboScaleSession'](_0x58a351[_0x1b50a4(0x156)])?([_0xb8c53c,_0x455a2b]=await helper[_0x1b50a4(0x15e)](_0x58a351[_0x1b50a4(0x156)]),[_0x285148]=await Promise['all']([helper[_0x1b50a4(0x12b)](_0xb8c53c,_0x58a351[_0x1b50a4(0x156)]),exports[_0x1b50a4(0x147)](_0x3b9ca6[_0x1b50a4(0x1a2)],_0x3fb6cb,_0x58a351['config'],_0x58a351[_0x1b50a4(0x160)])])):([_0xb8c53c,_0x455a2b]=await helper['getBuildLink'](_0x58a351[_0x1b50a4(0x156)]),[_0x285148]=await Promise[_0x1b50a4(0x14b)]([helper[_0x1b50a4(0x122)](_0xb8c53c,_0x58a351[_0x1b50a4(0x156)]),exports[_0x1b50a4(0x147)](_0x3b9ca6[_0x1b50a4(0x1a2)],_0x3fb6cb,_0x58a351['config'],_0x58a351[_0x1b50a4(0x160)])])),_0x285148&&await _0x3b9ca6[_0x1b50a4(0x155)](generateCIArtifacts,_0x285148,_0x455a2b),logger[_0x1b50a4(0x178)](_0x1b50a4(0x173)+_0x58a351[_0x1b50a4(0x129)]+',\x20testhub\x20id:\x20'+process['env'][_0x1b50a4(0x195)]),await helper[_0x1b50a4(0x11d)](_0x58a351['config']);}catch(_0x400037){logger[_0x1b50a4(0x148)](_0x3b9ca6[_0x1b50a4(0x15f)](_0x3b9ca6[_0x1b50a4(0x19a)],_0x400037));}helper[_0x1b50a4(0x16a)]();},exports[a142_0x155eff(0x124)]=_0x33a301=>{const _0x5f3df9=a142_0x155eff,_0x64930e={'FmUbA':function(_0x4ee633,_0x5bf102){return _0x4ee633 instanceof _0x5bf102;},'JbRvP':function(_0x2e8fcb,_0x360148){return _0x2e8fcb(_0x360148);}};try{if(_0x64930e[_0x5f3df9(0x153)](_0x33a301,Error))return _0x33a301[_0x5f3df9(0x128)]||_0x33a301['toString']();return _0x64930e[_0x5f3df9(0x126)](String,_0x33a301);}catch(_0x378873){return _0x33a301?_0x33a301[_0x5f3df9(0x188)]():'';}},exports[a142_0x155eff(0x17f)]=_0x5345d4=>{const _0x49bc1b=a142_0x155eff,_0x462816={};_0x462816[_0x49bc1b(0x12e)]=function(_0x38bf9c,_0x105d9e){return _0x38bf9c===_0x105d9e;};const _0x1b9ffe=_0x462816;return!_0x5345d4||_0x1b9ffe[_0x49bc1b(0x12e)](_0x5345d4[_0x49bc1b(0x137)](),'');},exports['isModifiable']=_0x2f798e=>{const _0x363d5c=a142_0x155eff,_0xa18be0={};_0xa18be0['XSUWU']=function(_0x18e543,_0x393aaf){return _0x18e543|_0x393aaf;};const _0x1c8331=_0xa18be0;try{return fs['accessSync'](_0x2f798e,_0x1c8331['XSUWU'](fs['constants'][_0x363d5c(0x174)],fs[_0x363d5c(0x120)][_0x363d5c(0x133)])),!![];}catch(_0x4f9556){return![];}},exports[a142_0x155eff(0x184)]=_0x90d394=>{const _0x12ecc3=a142_0x155eff;try{fs[_0x12ecc3(0x191)](_0x90d394,0x1ff),logger['debug'](_0x12ecc3(0x16f)+_0x90d394+_0x12ecc3(0x140));}catch(_0x55b1f3){logger['error'](_0x12ecc3(0x13f)+exports[_0x12ecc3(0x124)](_0x55b1f3));}};