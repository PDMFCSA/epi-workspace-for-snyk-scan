const a93_0x431d9c=a93_0x3b82;function a93_0x3b82(_0xd2f0d9,_0x2606ee){const _0x2fd2e2=a93_0x2fd2();return a93_0x3b82=function(_0x3b826f,_0x56991c){_0x3b826f=_0x3b826f-0x18f;let _0x32f6e8=_0x2fd2e2[_0x3b826f];return _0x32f6e8;},a93_0x3b82(_0xd2f0d9,_0x2606ee);}(function(_0x3b0d65,_0x31b4cd){const _0x3e1b46=a93_0x3b82,_0x478204=_0x3b0d65();while(!![]){try{const _0x5ef74e=parseInt(_0x3e1b46(0x1cd))/0x1*(parseInt(_0x3e1b46(0x1b4))/0x2)+-parseInt(_0x3e1b46(0x203))/0x3+-parseInt(_0x3e1b46(0x1c5))/0x4+-parseInt(_0x3e1b46(0x1a9))/0x5*(-parseInt(_0x3e1b46(0x211))/0x6)+parseInt(_0x3e1b46(0x1fe))/0x7*(-parseInt(_0x3e1b46(0x204))/0x8)+parseInt(_0x3e1b46(0x1d7))/0x9*(parseInt(_0x3e1b46(0x1cf))/0xa)+-parseInt(_0x3e1b46(0x1f2))/0xb*(-parseInt(_0x3e1b46(0x1e2))/0xc);if(_0x5ef74e===_0x31b4cd)break;else _0x478204['push'](_0x478204['shift']());}catch(_0x435e0d){_0x478204['push'](_0x478204['shift']());}}}(a93_0x2fd2,0x8c30c));const os=require('os'),util=require(a93_0x431d9c(0x1f8)),{getProductMap}=require(a93_0x431d9c(0x197)),logger=require(a93_0x431d9c(0x1af))[a93_0x431d9c(0x1ed)],constants=require(a93_0x431d9c(0x1b6)),testHubConstants=require(a93_0x431d9c(0x209)),{getTransformPath}=require(a93_0x431d9c(0x1b5)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a93_0x431d9c(0x1b6)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a93_0x431d9c(0x1bf)),PerformanceTester=require(a93_0x431d9c(0x1cb)),globals=require(a93_0x431d9c(0x1b0)),{isTurboScaleSession}=require('./ats/helper'),helper=require(a93_0x431d9c(0x1bf)),{isTestObservabilitySession}=require(a93_0x431d9c(0x1a7));function a93_0x2fd2(){const _0x2835d4=['\x20response\x20-\x20','./helper','SDK\x20run\x20ended\x20for\x20id:\x20','push','format','getTurboScaleBuildLink','requirePWModule','840692asYEyz','AJxtk','getSessionsList','oPIie','debug','browserStackConfig','./performance/performance-tester','FUNNEL_INSTRUMENTATION_API_URL','41EdbRdZ','user_killed','690UwOUTJ','type','replace','AUTOMATE','bKuJJ','qrUoZ','AUTOMATE_PRODUCTS','stringify','64917VRTnUm','APP_AUTOMATE','ddBXt','gYzDB','Brqvz','reduce','ZrIXK','sanitizeBrowserStackConfig','MHXUr','RcYqO','getUserName','1847472CFENHW','selenium-webdriver','LUVhA','notifyUpdate','every','_buildHashedId','FVOiN','xaUGg','YGxJP','keys','KTFql','winstonLogger','zdLAx','APP_AUTOMATE_PRODUCTS','version','env','55szmrNG','tests','null','Playwright','event_properties','EGaRV','util','BROWSERSTACK_TESTHUB_UUID','orvCF','WjbOO','content-type','values','7fvbUhY','\x20:\x20','ENV_VAR','POST','WvmXd','2892342xhdbfj','7901984fVrzxE','getBuildLink','JwaWH','killSignal','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','../helpers/testhub/constants','getNodeAgent','app','getGlobal','getTestFrameworkDetails','config','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','browser','790878PTTrWB',',\x20testhub\x20id:\x20','assign','aJGVv','getPackageVersion','osVersion','hostname','buildIdentifier','playwrightVersion','unhandledErrors','[REDACTED]','forEach','bjCoI','txShA','nodeRequest','./testhub/utils','sdkRunId','length','apply','PgPJa','isBrowserstackInfra','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','SDKTestSuccessful','zWNsA','unknown','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','application/json','fireFunnelTestEvent','TtPhG','browserVersion','getAccessKey','./test-observability/utils','yrvyL','15tyLUww','errorMessage','framework','nodejs','getOptimalHubUrl','buildName','./logger','./globals','codeceptjs','split','body','52358VcAwXq','../bin/playwright/reporter/pwUtils','../bin/utils/constants','finalExecution','error','undefined','Dbruy','object','stopPercy','all'];a93_0x2fd2=function(){return _0x2835d4;};return a93_0x2fd2();}let unhandledErrors='';exports[a93_0x431d9c(0x1a3)]=async(_0x29a4f7,_0x594836={},_0xdb30d7,_0x3e7f23)=>{const _0x499e57=a93_0x431d9c,_0x2dd75d={'EGaRV':function(_0x810693,_0x44c95e){return _0x810693===_0x44c95e;},'zWNsA':_0x499e57(0x1bb),'TtPhG':function(_0x3a71f1,_0x563ed9){return _0x3a71f1>_0x563ed9;},'Brqvz':function(_0x5bc30c,_0x1fb238){return _0x5bc30c>_0x1fb238;},'SOlcs':_0x499e57(0x1f3),'qrUoZ':function(_0x12bc1f){return _0x12bc1f();},'txShA':function(_0x1b3f7b,_0x45c318){return _0x1b3f7b==_0x45c318;},'ZSAlr':_0x499e57(0x1f4),'ZrIXK':_0x499e57(0x1b9),'KhHDG':_0x499e57(0x1b1),'RcYqO':function(_0x1f720e,_0x1a03e3){return _0x1f720e!==_0x1a03e3;},'orvCF':_0x499e57(0x1f5),'WvmXd':_0x499e57(0x1b8),'ddBXt':function(_0x3cb6de,_0x478252){return _0x3cb6de>_0x478252;},'xaUGg':function(_0x1a17f9,_0x12bbdb){return _0x1a17f9+_0x12bbdb;},'MHXUr':_0x499e57(0x19d),'Dbruy':_0x499e57(0x1e7),'KTFql':function(_0x15ad3c,_0x4df7e4){return _0x15ad3c(_0x4df7e4);},'vXsLR':function(_0x3a7235,_0x1bc211){return _0x3a7235(_0x1bc211);},'AJxtk':_0x499e57(0x1a0),'oPIie':_0x499e57(0x1ac),'yrvyL':_0x499e57(0x19e),'zdLAx':function(_0x345335,_0x1a23bc){return _0x345335===_0x1a23bc;},'pUoOE':function(_0x45019e){return _0x45019e();},'JwaWH':_0x499e57(0x1e3),'RoaMe':_0x499e57(0x1a2),'FVOiN':_0x499e57(0x192),'SPwXG':_0x499e57(0x201)};let _0x31735f=[];if(helper['isBrowserstackInfra']()&&_0x2dd75d['qrUoZ'](isTestObservabilitySession))_0x31735f=_0xdb30d7[_0x499e57(0x20b)]?constants[_0x499e57(0x1ef)]:constants[_0x499e57(0x1d5)];else{if(_0x2dd75d[_0x499e57(0x1d4)](isTestObservabilitySession))_0x31735f=constants['PRODUCT_IF_NOT_BROWSERSTACK_INFRA'];else helper[_0x499e57(0x19c)]()&&(_0x31735f=_0xdb30d7[_0x499e57(0x20b)]?constants[_0x499e57(0x1d8)]:constants[_0x499e57(0x1d2)]);}let _0x5be8b6=_0xdb30d7[_0x499e57(0x18f)];if(_0x2dd75d[_0x499e57(0x195)](_0x5be8b6,null))_0x5be8b6=_0x2dd75d['ZSAlr'];else _0x2dd75d[_0x499e57(0x1f7)](_0x5be8b6,undefined)&&(_0x5be8b6=_0x2dd75d['ZrIXK']);unhandledErrors&&_0x2dd75d[_0x499e57(0x1db)](unhandledErrors[_0x499e57(0x199)],0x0)&&(_0x594836['globalException']=unhandledErrors);global[_0x499e57(0x198)]&&(_0x594836[_0x499e57(0x198)]=global['sdkRunId']);try{if(_0x594836[_0x499e57(0x1b8)]){if(_0x2dd75d['EGaRV'](_0x3e7f23,_0x2dd75d['KhHDG'])&&_0x2dd75d[_0x499e57(0x1db)](_0x594836[_0x499e57(0x1b8)][_0x499e57(0x199)],0x0)){const _0x212980={};_0x212980['os']='',_0x212980['osVersion']='',_0x212980[_0x499e57(0x210)]='',_0x212980[_0x499e57(0x1a5)]='';const _0x2c9c22=_0x212980;let _0x18c302={};const _0x29419f=_0x594836[_0x499e57(0x1b8)];_0x18c302=_0x29419f[_0x499e57(0x1dc)]((_0x4656f8,_0x58c389)=>{for(const _0x1e7d1d in _0x58c389){_0x4656f8[_0x1e7d1d]=_0x58c389[_0x1e7d1d];}return _0x4656f8;},{});const _0x3fa5c2={};_0x3fa5c2[_0x499e57(0x1f3)]=_0x18c302,_0x594836[_0x499e57(0x1b8)]=[Object[_0x499e57(0x213)]({},_0x2c9c22,_0x3fa5c2)];}else{let _0x15fef=0x0;const _0x12e720=_0x2dd75d[_0x499e57(0x1e0)](_0x3e7f23,_0x2dd75d[_0x499e57(0x1fa)])?JSON['parse'](_0x594836[_0x499e57(0x1b8)]):_0x594836[_0x499e57(0x1b8)],_0xd0b93=Object['values'](_0x12e720);_0xd0b93[_0x499e57(0x193)](_0x12d69c=>{const _0x1004b0=_0x499e57;if(_0x2dd75d['EGaRV'](typeof _0x12d69c,_0x2dd75d[_0x1004b0(0x19f)])){const _0x388777=Object[_0x1004b0(0x1fd)](_0x12d69c);!_0x388777[_0x1004b0(0x1e6)](_0x1983e4=>_0x1983e4===null||_0x1983e4===undefined||_0x1983e4==='')&&(_0x15fef+=0x1);}});if(_0x2dd75d[_0x499e57(0x1f7)](_0x15fef,0x0))delete _0x594836[_0x2dd75d[_0x499e57(0x202)]];else{const _0x2e6d55=[];Object[_0x499e57(0x1eb)](_0x12e720)[_0x499e57(0x193)](_0xcbd40d=>{const _0x2d022b=_0x499e57,_0x54c7bb={'WjbOO':function(_0x979e58,_0x3a0daf){const _0x2cf462=a93_0x3b82;return _0x2dd75d[_0x2cf462(0x1a4)](_0x979e58,_0x3a0daf);}},[_0x27d03e,_0x1f8439,_0x4e0c35,_0x4d0f18]=_0xcbd40d[_0x2d022b(0x1b2)](',\x20');let _0x1ef023={};if(!_0x4d0f18){const _0x13aff6={};_0x13aff6['deviceName']=_0x27d03e,_0x13aff6[_0x2d022b(0x216)]=_0x1f8439,_0x13aff6[_0x2d022b(0x210)]=_0x4e0c35,_0x1ef023=_0x13aff6;}else{const _0x5922c3={};_0x5922c3['os']=_0x27d03e,_0x5922c3[_0x2d022b(0x216)]=_0x1f8439,_0x5922c3[_0x2d022b(0x210)]=_0x4e0c35,_0x5922c3[_0x2d022b(0x1a5)]=_0x4d0f18,_0x1ef023=_0x5922c3;}const _0x651015={},_0x4e325a=_0x12e720[_0xcbd40d];Object[_0x2d022b(0x1eb)](_0x4e325a)[_0x2d022b(0x193)](_0x232680=>{const _0x34c2c1=_0x2d022b;_0x54c7bb[_0x34c2c1(0x1fb)](_0x4e325a[_0x232680][_0x34c2c1(0x199)],0x0)&&(_0x651015[_0x232680]=_0x4e325a[_0x232680]);}),_0x2dd75d['Brqvz'](Object['keys'](_0x651015)['length'],0x0)&&(_0x1ef023[_0x2dd75d['SOlcs']]=_0x651015,_0x2e6d55[_0x2d022b(0x1c1)](_0x1ef023));}),_0x2dd75d[_0x499e57(0x1d9)](_0x2e6d55[_0x499e57(0x199)],0x0)?_0x594836[_0x499e57(0x1b8)]=_0x2e6d55:delete _0x594836[_0x2dd75d['WvmXd']];}}}}catch(_0x4c11e0){delete _0x594836[_0x2dd75d[_0x499e57(0x202)]],logger['debug'](_0x2dd75d[_0x499e57(0x1e9)](_0x2dd75d[_0x499e57(0x1df)],_0x4c11e0));}const _0x6eecf1=helper[_0x499e57(0x20d)](_0xdb30d7,_0xdb30d7[_0x499e57(0x1ab)]),_0x409eeb={'userName':helper[_0x499e57(0x1e1)](_0xdb30d7),'accessKey':helper[_0x499e57(0x1a6)](_0xdb30d7),'event_type':_0x29a4f7,'detectedFramework':_0x3e7f23,'buildHashedId':globals[_0x499e57(0x20c)](_0x2dd75d[_0x499e57(0x1ba)]),'optimalHubUrl':helper[_0x499e57(0x1ad)](),'event_properties':{'testhub_uuid':process[_0x499e57(0x1f1)][testHubConstants[_0x499e57(0x200)][_0x499e57(0x1f9)]]||'','sdkRunId':global[_0x499e57(0x198)],'product_map':_0x2dd75d[_0x499e57(0x1ec)](getProductMap,_0xdb30d7),'productMap':_0x2dd75d['vXsLR'](getProductMap,_0xdb30d7),'language_framework':_0xdb30d7['source']||_0x2dd75d[_0x499e57(0x1c6)],'referrer':helper[_0x499e57(0x20a)](_0x3e7f23),'framework':_0xdb30d7[_0x499e57(0x1ab)],'frameworkVersion':helper['getFrameworkVersion'](_0x3e7f23),'automationFramework':_0x6eecf1['name'],'automationFrameworkVersion':_0x6eecf1[_0x499e57(0x1f0)],'language':_0x2dd75d[_0x499e57(0x1c8)],'languageVersion':process['version'],'product':_0x31735f,'buildName':_0xdb30d7[_0x499e57(0x1ae)]||_0x2dd75d[_0x499e57(0x1dd)],'buildIdentifier':_0x5be8b6,'os':os[_0x499e57(0x1d0)]()||_0x2dd75d[_0x499e57(0x1c6)],'hostname':os[_0x499e57(0x217)]()||_0x2dd75d[_0x499e57(0x1c6)],..._0x594836}};try{_0x2dd75d['EGaRV'](_0x29a4f7,_0x2dd75d[_0x499e57(0x1a8)])&&(_0x409eeb[_0x499e57(0x1f6)][_0x499e57(0x1ca)]=helper[_0x499e57(0x1de)](_0xdb30d7)),_0x2dd75d[_0x499e57(0x1ee)](_0x3e7f23,_0x2dd75d[_0x499e57(0x1fa)])?_0x409eeb['event_properties'][_0x499e57(0x190)]=helper[_0x499e57(0x1c4)][_0x499e57(0x19a)](null,_0x2dd75d['pUoOE'](getTransformPath),!![]):_0x409eeb[_0x499e57(0x1f6)]['seleniumVersion']=helper[_0x499e57(0x215)](_0x2dd75d[_0x499e57(0x206)]);}catch(_0x22cff4){logger[_0x499e57(0x1c9)](_0x499e57(0x1a1)+_0x22cff4);}const _0x1c2897={};_0x1c2897[_0x499e57(0x1fc)]=_0x2dd75d['RoaMe'];const _0xd4fa20={'headers':_0x1c2897,'body':_0x409eeb,'auth':{'user':helper['getUserName'](_0xdb30d7),'pass':helper[_0x499e57(0x1a6)](_0xdb30d7)},'json':!![]};logger[_0x499e57(0x1c9)](_0x499e57(0x208)+JSON[_0x499e57(0x1d6)](_0xd4fa20[_0x499e57(0x1b3)])[_0x499e57(0x1d1)](new RegExp(helper[_0x499e57(0x1e1)](_0xdb30d7),'g'),_0x2dd75d[_0x499e57(0x1e8)])[_0x499e57(0x1d1)](new RegExp(helper[_0x499e57(0x1a6)](_0xdb30d7),'g'),_0x2dd75d[_0x499e57(0x1e8)]));try{const _0x3eab7b=await helper[_0x499e57(0x196)](_0x2dd75d['SPwXG'],constants[_0x499e57(0x1cc)],_0xd4fa20,_0xdb30d7);logger['debug']('API\x20Event\x20'+_0x29a4f7+_0x499e57(0x1be)+util[_0x499e57(0x1c2)]('%j',_0x3eab7b));}catch(_0x27a865){logger['debug']('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+_0x499e57(0x1ff)+util[_0x499e57(0x1c2)](_0x27a865));}},exports[a93_0x431d9c(0x1b7)]=async _0x3fec53=>{const _0x3d15d9=a93_0x431d9c,_0x4e1615={'LUVhA':function(_0x372827){return _0x372827();},'iFLaH':'finishedMetadata','bjCoI':_0x3d15d9(0x1ce),'aJGVv':function(_0x23a729,_0x38402a){return _0x23a729(_0x38402a);},'PgPJa':_0x3d15d9(0x19e),'bKuJJ':function(_0x382f4f,_0x39b9a5,_0x5aad5d){return _0x382f4f(_0x39b9a5,_0x5aad5d);},'gYzDB':function(_0x5c1f0f,_0x45ad9d){return _0x5c1f0f+_0x45ad9d;},'YGxJP':_0x3d15d9(0x20f)};try{await _0x3fec53[_0x3d15d9(0x1bc)](),_0x4e1615[_0x3d15d9(0x1e4)](printNudgeLocalNotSetError);const _0x27f1ed={};_0x27f1ed[_0x3d15d9(0x1b8)]=_0x3fec53[_0x3d15d9(0x1aa)]?_0x3fec53[_0x3d15d9(0x1aa)]:'{}';const _0x284c6f=_0x27f1ed,_0x34f04d=Object[_0x3d15d9(0x213)]({},_0x284c6f);!!_0x3fec53[_0x3d15d9(0x207)]&&(_0x34f04d[_0x4e1615['iFLaH']]={'reason':_0x4e1615[_0x3d15d9(0x194)],'signal':_0x3fec53[_0x3d15d9(0x207)]});unhandledErrors=_0x3fec53[_0x3d15d9(0x191)]['join']('\x0a');let _0x214c72,_0x410af2,_0x3acf51;_0x4e1615[_0x3d15d9(0x214)](isTurboScaleSession,_0x3fec53[_0x3d15d9(0x20e)])?([_0x214c72,_0x410af2]=await helper[_0x3d15d9(0x1c3)](_0x3fec53['config']),[_0x3acf51]=await Promise['all']([helper['getTurboScaleSessionsList'](_0x214c72,_0x3fec53[_0x3d15d9(0x20e)]),exports[_0x3d15d9(0x1a3)](_0x4e1615['PgPJa'],_0x34f04d,_0x3fec53[_0x3d15d9(0x20e)],_0x3fec53[_0x3d15d9(0x1ab)])])):([_0x214c72,_0x410af2]=await helper[_0x3d15d9(0x205)](_0x3fec53['config']),[_0x3acf51]=await Promise[_0x3d15d9(0x1bd)]([helper[_0x3d15d9(0x1c7)](_0x214c72,_0x3fec53[_0x3d15d9(0x20e)]),exports[_0x3d15d9(0x1a3)](_0x4e1615[_0x3d15d9(0x19b)],_0x34f04d,_0x3fec53[_0x3d15d9(0x20e)],_0x3fec53[_0x3d15d9(0x1ab)])])),_0x3acf51&&await _0x4e1615[_0x3d15d9(0x1d3)](generateCIArtifacts,_0x3acf51,_0x410af2),logger['info'](_0x3d15d9(0x1c0)+_0x3fec53[_0x3d15d9(0x198)]+_0x3d15d9(0x212)+process[_0x3d15d9(0x1f1)]['BROWSERSTACK_TESTHUB_UUID']),await helper['sendLogs'](_0x3fec53[_0x3d15d9(0x20e)]);}catch(_0x48572f){logger[_0x3d15d9(0x1c9)](_0x4e1615[_0x3d15d9(0x1da)](_0x4e1615[_0x3d15d9(0x1ea)],_0x48572f));}helper[_0x3d15d9(0x1e5)]();};