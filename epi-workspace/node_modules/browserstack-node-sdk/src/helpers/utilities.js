const a93_0x3b33d1=a93_0x3d95;function a93_0x1af9(){const _0x140abc=['Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','notifyUpdate','all','3zblCYV','osVersion','name','event_properties','./performance/performance-tester','getOptimalHubUrl','fireFunnelTestEvent','format','khxjr','NkpSA','sKlZI','AUTOMATE','stringify','fdpjY','split','wzSCH','./ats/helper','getAccessKey','APP_AUTOMATE_PRODUCTS','xGJLE','402403UFkQyh','tests','../bin/playwright/reporter/pwUtils',',\x20testhub\x20id:\x20','buildName','object','FkxmR','browserVersion','UBkgT','Uxlrb','867876iEvxhp','625224KgcrTa','SDK\x20run\x20ended\x20for\x20id:\x20','qBxRb','API\x20Event\x20','length','every','info','body','rcJgO','3157430TZhgxg','debug','getTestFrameworkDetails','requirePWModule','replace','keys','wdsLy','winstonLogger','BROWSERSTACK_TESTHUB_UUID','stopPercy','_buildHashedId','apply','error','getSessionsList','sdkRunId','type','getGlobal','content-type','Error\x20in\x20firing\x20request\x20to\x20','sanitizeBrowserStackConfig','app','VbGfw','killSignal','finalExecution','assign','UwzrF','GQgDe','hqSnM','user_killed','isBrowserstackInfra','framework','browserStackConfig','aerbS','kOsQm','getBuildLink','getTurboScaleBuildLink','getNodeAgent','570020aDKMhz','APP_AUTOMATE','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','\x20response\x20-\x20','buildIdentifier','undefined','dmJdl','getPackageVersion','./helper','../bin/utils/constants','zHoJr','unknown','./test-observability/utils','ufNVt','selenium-webdriver','browser','nodejs','[REDACTED]','seleniumVersion','emqVs','config','sendLogs','SDKTestSuccessful','ENV_VAR','version','./logger','mkeiq','POST','codeceptjs','nodeRequest','playwrightVersion','join','Playwright','getTurboScaleSessionsList','7McXUDA','parse','2565370iTmttC','env','2176800pSlNtL','getUserName','\x20:\x20','values','vVwzG','source','XCNSf','util','finishedMetadata','TCGBs','AUTOMATE_PRODUCTS','./globals','forEach','9IKiedk','errorMessage'];a93_0x1af9=function(){return _0x140abc;};return a93_0x1af9();}(function(_0x3f2cae,_0x1fc43c){const _0x45652e=a93_0x3d95,_0x4e4624=_0x3f2cae();while(!![]){try{const _0x22738d=parseInt(_0x45652e(0x23b))/0x1+-parseInt(_0x45652e(0x245))/0x2*(-parseInt(_0x45652e(0x227))/0x3)+-parseInt(_0x45652e(0x1ee))/0x4+-parseInt(_0x45652e(0x212))/0x5+parseInt(_0x45652e(0x214))/0x6+-parseInt(_0x45652e(0x210))/0x7*(-parseInt(_0x45652e(0x246))/0x8)+parseInt(_0x45652e(0x221))/0x9*(-parseInt(_0x45652e(0x24f))/0xa);if(_0x22738d===_0x1fc43c)break;else _0x4e4624['push'](_0x4e4624['shift']());}catch(_0x97ad80){_0x4e4624['push'](_0x4e4624['shift']());}}}(a93_0x1af9,0x4ab34));const os=require('os'),util=require(a93_0x3b33d1(0x21b)),{getProductMap}=require('./testhub/utils'),logger=require(a93_0x3b33d1(0x207))[a93_0x3b33d1(0x1d0)],constants=require(a93_0x3b33d1(0x1f7)),testHubConstants=require('../helpers/testhub/constants'),{getTransformPath}=require(a93_0x3b33d1(0x23d)),{FUNNEL_INSTRUMENTATION_API_URL}=require('../bin/utils/constants'),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a93_0x3b33d1(0x1f6)),PerformanceTester=require(a93_0x3b33d1(0x22b)),globals=require(a93_0x3b33d1(0x21f)),{isTurboScaleSession}=require(a93_0x3b33d1(0x237)),helper=require('./helper'),{isTestObservabilitySession}=require(a93_0x3b33d1(0x1fa));let unhandledErrors='';function a93_0x3d95(_0x549214,_0x45a9b1){const _0x1af946=a93_0x1af9();return a93_0x3d95=function(_0x3d95de,_0x1e71bc){_0x3d95de=_0x3d95de-0x1cd;let _0x84d1cd=_0x1af946[_0x3d95de];return _0x84d1cd;},a93_0x3d95(_0x549214,_0x45a9b1);}exports[a93_0x3b33d1(0x22d)]=async(_0x23176c,_0xcd54d7={},_0x5560f5,_0x510766)=>{const _0x487794=a93_0x3b33d1,_0x174c79={'TCGBs':function(_0x547bb9,_0x231784){return _0x547bb9===_0x231784;},'UwzrF':_0x487794(0x240),'qBxRb':function(_0x4ef5fe,_0x30019e){return _0x4ef5fe>_0x30019e;},'FZfkj':function(_0x353f7a,_0x50fa8a){return _0x353f7a>_0x50fa8a;},'XZoXf':'tests','UBkgT':function(_0x4c12dc){return _0x4c12dc();},'GQgDe':function(_0x194060,_0x4c4be6){return _0x194060==_0x4c4be6;},'XCNSf':'null','NkpSA':_0x487794(0x1f3),'wzSCH':function(_0x20cddc,_0x460a8f){return _0x20cddc>_0x460a8f;},'TtJjX':_0x487794(0x20a),'rcJgO':function(_0x548f6f,_0x1633d7){return _0x548f6f!==_0x1633d7;},'emqVs':_0x487794(0x20e),'hqSnM':'error','sKlZI':function(_0x309131,_0x544808){return _0x309131>_0x544808;},'Uxlrb':function(_0x10d76a,_0x4445b7){return _0x10d76a+_0x4445b7;},'dmJdl':'Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','eDQub':_0x487794(0x1d3),'ufNVt':function(_0xf666f9,_0x1cb710){return _0xf666f9(_0x1cb710);},'wdsLy':_0x487794(0x1f9),'lnecI':_0x487794(0x1fe),'UiwSz':_0x487794(0x204),'ETmGO':function(_0x34ff17){return _0x34ff17();},'VbGfw':_0x487794(0x1fc),'aerbS':'application/json','vVwzG':_0x487794(0x1ff),'khxjr':_0x487794(0x209)};let _0x14e095=[];if(helper[_0x487794(0x1e6)]()&&_0x174c79[_0x487794(0x243)](isTestObservabilitySession))_0x14e095=_0x5560f5[_0x487794(0x1dd)]?constants[_0x487794(0x239)]:constants[_0x487794(0x21e)];else{if(_0x174c79[_0x487794(0x243)](isTestObservabilitySession))_0x14e095=constants[_0x487794(0x224)];else helper[_0x487794(0x1e6)]()&&(_0x14e095=_0x5560f5[_0x487794(0x1dd)]?constants[_0x487794(0x1ef)]:constants[_0x487794(0x232)]);}let _0x38bf20=_0x5560f5[_0x487794(0x1f2)];if(_0x174c79[_0x487794(0x1e3)](_0x38bf20,null))_0x38bf20=_0x174c79[_0x487794(0x21a)];else _0x174c79[_0x487794(0x21d)](_0x38bf20,undefined)&&(_0x38bf20=_0x174c79['NkpSA']);unhandledErrors&&_0x174c79[_0x487794(0x236)](unhandledErrors[_0x487794(0x24a)],0x0)&&(_0xcd54d7['globalException']=unhandledErrors);global['sdkRunId']&&(_0xcd54d7['sdkRunId']=global[_0x487794(0x1d7)]);try{if(_0xcd54d7[_0x487794(0x1d5)]){if(_0x174c79[_0x487794(0x21d)](_0x510766,_0x174c79['TtJjX'])&&_0x174c79[_0x487794(0x248)](_0xcd54d7['error'][_0x487794(0x24a)],0x0)){const _0x2893c0={};_0x2893c0['os']='',_0x2893c0['osVersion']='',_0x2893c0['browser']='',_0x2893c0[_0x487794(0x242)]='';const _0x412bf9=_0x2893c0;let _0x2b566c={};const _0x242467=_0xcd54d7['error'];_0x2b566c=_0x242467['reduce']((_0x2e9052,_0x16b73c)=>{for(const _0x7c2b4d in _0x16b73c){_0x2e9052[_0x7c2b4d]=_0x16b73c[_0x7c2b4d];}return _0x2e9052;},{});const _0x441749={};_0x441749[_0x487794(0x23c)]=_0x2b566c,_0xcd54d7[_0x487794(0x1d5)]=[Object[_0x487794(0x1e1)]({},_0x412bf9,_0x441749)];}else{let _0x130b51=0x0;const _0x2fc9cc=_0x174c79[_0x487794(0x24e)](_0x510766,_0x174c79['emqVs'])?JSON[_0x487794(0x211)](_0xcd54d7[_0x487794(0x1d5)]):_0xcd54d7[_0x487794(0x1d5)],_0x27396b=Object[_0x487794(0x217)](_0x2fc9cc);_0x27396b[_0x487794(0x220)](_0xc1db40=>{const _0x57dd6e=_0x487794;if(_0x174c79[_0x57dd6e(0x21d)](typeof _0xc1db40,_0x174c79[_0x57dd6e(0x1e2)])){const _0x1c8fb4=Object[_0x57dd6e(0x217)](_0xc1db40);!_0x1c8fb4[_0x57dd6e(0x24b)](_0x1e1622=>_0x1e1622===null||_0x1e1622===undefined||_0x1e1622==='')&&(_0x130b51+=0x1);}});if(_0x174c79['TCGBs'](_0x130b51,0x0))delete _0xcd54d7[_0x174c79[_0x487794(0x1e4)]];else{const _0x32efe3=[];Object[_0x487794(0x1ce)](_0x2fc9cc)[_0x487794(0x220)](_0x28c2d3=>{const _0x3dafe3=_0x487794,_0x58bbcb={'kOsQm':function(_0x2e9606,_0x27b731){const _0x41bd87=a93_0x3d95;return _0x174c79[_0x41bd87(0x248)](_0x2e9606,_0x27b731);}},[_0x1967b3,_0x43c93a,_0x143f77,_0x12824f]=_0x28c2d3[_0x3dafe3(0x235)](',\x20');let _0x3f1e27={};if(!_0x12824f){const _0x5c9125={};_0x5c9125['deviceName']=_0x1967b3,_0x5c9125[_0x3dafe3(0x228)]=_0x43c93a,_0x5c9125[_0x3dafe3(0x1fd)]=_0x143f77,_0x3f1e27=_0x5c9125;}else{const _0x1ce782={};_0x1ce782['os']=_0x1967b3,_0x1ce782[_0x3dafe3(0x228)]=_0x43c93a,_0x1ce782[_0x3dafe3(0x1fd)]=_0x143f77,_0x1ce782['browserVersion']=_0x12824f,_0x3f1e27=_0x1ce782;}const _0x263e3c={},_0x4b356a=_0x2fc9cc[_0x28c2d3];Object[_0x3dafe3(0x1ce)](_0x4b356a)[_0x3dafe3(0x220)](_0x231d35=>{const _0x54289e=_0x3dafe3;_0x58bbcb[_0x54289e(0x1ea)](_0x4b356a[_0x231d35]['length'],0x0)&&(_0x263e3c[_0x231d35]=_0x4b356a[_0x231d35]);}),_0x174c79['FZfkj'](Object[_0x3dafe3(0x1ce)](_0x263e3c)['length'],0x0)&&(_0x3f1e27[_0x174c79['XZoXf']]=_0x263e3c,_0x32efe3['push'](_0x3f1e27));}),_0x174c79[_0x487794(0x231)](_0x32efe3[_0x487794(0x24a)],0x0)?_0xcd54d7[_0x487794(0x1d5)]=_0x32efe3:delete _0xcd54d7[_0x174c79[_0x487794(0x1e4)]];}}}}catch(_0x1c67a5){delete _0xcd54d7[_0x174c79[_0x487794(0x1e4)]],logger[_0x487794(0x250)](_0x174c79[_0x487794(0x244)](_0x174c79[_0x487794(0x1f4)],_0x1c67a5));}const _0x251922=helper[_0x487794(0x251)](_0x5560f5,_0x5560f5[_0x487794(0x1e7)]),_0x558809={'userName':helper[_0x487794(0x215)](_0x5560f5),'accessKey':helper[_0x487794(0x238)](_0x5560f5),'event_type':_0x23176c,'detectedFramework':_0x510766,'buildHashedId':globals[_0x487794(0x1d9)](_0x174c79['eDQub']),'optimalHubUrl':helper[_0x487794(0x22c)](),'event_properties':{'testhub_uuid':process['env'][testHubConstants[_0x487794(0x205)][_0x487794(0x1d1)]]||'','sdkRunId':global[_0x487794(0x1d7)],'product_map':_0x174c79[_0x487794(0x1fb)](getProductMap,_0x5560f5),'productMap':_0x174c79[_0x487794(0x1fb)](getProductMap,_0x5560f5),'language_framework':_0x5560f5[_0x487794(0x219)]||_0x174c79[_0x487794(0x1cf)],'referrer':helper[_0x487794(0x1ed)](_0x510766),'framework':_0x5560f5['framework'],'frameworkVersion':helper['getFrameworkVersion'](_0x510766),'automationFramework':_0x251922[_0x487794(0x229)],'automationFrameworkVersion':_0x251922[_0x487794(0x206)],'language':_0x174c79['lnecI'],'languageVersion':process['version'],'product':_0x14e095,'buildName':_0x5560f5[_0x487794(0x23f)]||_0x174c79[_0x487794(0x230)],'buildIdentifier':_0x38bf20,'os':os[_0x487794(0x1d8)]()||_0x174c79[_0x487794(0x1cf)],'hostname':os['hostname']()||_0x174c79[_0x487794(0x1cf)],..._0xcd54d7}};try{_0x174c79['TCGBs'](_0x23176c,_0x174c79['UiwSz'])&&(_0x558809[_0x487794(0x22a)][_0x487794(0x1e8)]=helper[_0x487794(0x1dc)](_0x5560f5)),_0x174c79[_0x487794(0x21d)](_0x510766,_0x174c79[_0x487794(0x201)])?_0x558809[_0x487794(0x22a)][_0x487794(0x20c)]=helper[_0x487794(0x252)][_0x487794(0x1d4)](null,_0x174c79['ETmGO'](getTransformPath),!![]):_0x558809[_0x487794(0x22a)][_0x487794(0x200)]=helper[_0x487794(0x1f5)](_0x174c79[_0x487794(0x1de)]);}catch(_0x73eae8){logger[_0x487794(0x250)](_0x487794(0x1f0)+_0x73eae8);}const _0x50e78f={};_0x50e78f[_0x487794(0x1da)]=_0x174c79[_0x487794(0x1e9)];const _0x44633a={'headers':_0x50e78f,'body':_0x558809,'auth':{'user':helper['getUserName'](_0x5560f5),'pass':helper[_0x487794(0x238)](_0x5560f5)},'json':!![]};logger[_0x487794(0x250)](_0x487794(0x223)+JSON[_0x487794(0x233)](_0x44633a[_0x487794(0x24d)])['replace'](new RegExp(helper[_0x487794(0x215)](_0x5560f5),'g'),_0x174c79[_0x487794(0x218)])[_0x487794(0x1cd)](new RegExp(helper[_0x487794(0x238)](_0x5560f5),'g'),_0x174c79[_0x487794(0x218)]));try{const _0x79d513=await helper[_0x487794(0x20b)](_0x174c79[_0x487794(0x22f)],constants['FUNNEL_INSTRUMENTATION_API_URL'],_0x44633a,_0x5560f5);logger[_0x487794(0x250)](_0x487794(0x249)+_0x23176c+_0x487794(0x1f1)+util[_0x487794(0x22e)]('%j',_0x79d513));}catch(_0x21f8e9){logger['debug'](_0x487794(0x1db)+FUNNEL_INSTRUMENTATION_API_URL+_0x487794(0x216)+util[_0x487794(0x22e)](_0x21f8e9));}},exports[a93_0x3b33d1(0x1e0)]=async _0x247202=>{const _0x109c75=a93_0x3b33d1,_0x199d1a={'xGJLE':function(_0x5a9031){return _0x5a9031();},'ZrwIV':_0x109c75(0x21c),'wiOxJ':_0x109c75(0x1e5),'mkeiq':function(_0x5628f7,_0x5db814){return _0x5628f7(_0x5db814);},'fdpjY':_0x109c75(0x204),'LEWAc':function(_0x39eba1,_0x25d03f,_0x10c589){return _0x39eba1(_0x25d03f,_0x10c589);},'FkxmR':function(_0x4e72c3,_0x7668de){return _0x4e72c3+_0x7668de;},'zHoJr':'Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20'};try{await _0x247202[_0x109c75(0x1d2)](),_0x199d1a[_0x109c75(0x23a)](printNudgeLocalNotSetError);const _0x29ebe7={};_0x29ebe7[_0x109c75(0x1d5)]=_0x247202[_0x109c75(0x222)]?_0x247202[_0x109c75(0x222)]:'{}';const _0x4a7c85=_0x29ebe7,_0x1ef48d=Object[_0x109c75(0x1e1)]({},_0x4a7c85);!!_0x247202[_0x109c75(0x1df)]&&(_0x1ef48d[_0x199d1a['ZrwIV']]={'reason':_0x199d1a['wiOxJ'],'signal':_0x247202[_0x109c75(0x1df)]});unhandledErrors=_0x247202['unhandledErrors'][_0x109c75(0x20d)]('\x0a');let _0x1d8488,_0x16443f,_0x5d0b4f;_0x199d1a[_0x109c75(0x208)](isTurboScaleSession,_0x247202[_0x109c75(0x202)])?([_0x1d8488,_0x16443f]=await helper[_0x109c75(0x1ec)](_0x247202[_0x109c75(0x202)]),[_0x5d0b4f]=await Promise[_0x109c75(0x226)]([helper[_0x109c75(0x20f)](_0x1d8488,_0x247202['config']),exports[_0x109c75(0x22d)](_0x199d1a[_0x109c75(0x234)],_0x1ef48d,_0x247202[_0x109c75(0x202)],_0x247202[_0x109c75(0x1e7)])])):([_0x1d8488,_0x16443f]=await helper[_0x109c75(0x1eb)](_0x247202[_0x109c75(0x202)]),[_0x5d0b4f]=await Promise[_0x109c75(0x226)]([helper[_0x109c75(0x1d6)](_0x1d8488,_0x247202[_0x109c75(0x202)]),exports[_0x109c75(0x22d)](_0x199d1a[_0x109c75(0x234)],_0x1ef48d,_0x247202['config'],_0x247202['framework'])])),_0x5d0b4f&&await _0x199d1a['LEWAc'](generateCIArtifacts,_0x5d0b4f,_0x16443f),logger[_0x109c75(0x24c)](_0x109c75(0x247)+_0x247202[_0x109c75(0x1d7)]+_0x109c75(0x23e)+process[_0x109c75(0x213)][_0x109c75(0x1d1)]),await helper[_0x109c75(0x203)](_0x247202['config']);}catch(_0x131d7e){logger[_0x109c75(0x250)](_0x199d1a[_0x109c75(0x241)](_0x199d1a[_0x109c75(0x1f8)],_0x131d7e));}helper[_0x109c75(0x225)]();};