const a132_0xd8bab6=a132_0x58b5;(function(_0x4f7591,_0x4720cb){const _0x465c9f=a132_0x58b5,_0x280138=_0x4f7591();while(!![]){try{const _0x3ca7d2=-parseInt(_0x465c9f(0xdd))/0x1+-parseInt(_0x465c9f(0xc3))/0x2+-parseInt(_0x465c9f(0xee))/0x3+-parseInt(_0x465c9f(0xfd))/0x4+-parseInt(_0x465c9f(0xc2))/0x5+parseInt(_0x465c9f(0xa5))/0x6*(parseInt(_0x465c9f(0xc6))/0x7)+parseInt(_0x465c9f(0x127))/0x8;if(_0x3ca7d2===_0x4720cb)break;else _0x280138['push'](_0x280138['shift']());}catch(_0xd626c7){_0x280138['push'](_0x280138['shift']());}}}(a132_0x2aaf,0xc0046));const os=require('os'),util=require(a132_0xd8bab6(0xc8)),fs=require('fs'),{getProductMap}=require(a132_0xd8bab6(0xe4)),logger=require(a132_0xd8bab6(0xcb))[a132_0xd8bab6(0xbd)],constants=require(a132_0xd8bab6(0xda)),testHubConstants=require(a132_0xd8bab6(0xb0)),{getTransformPath}=require('../bin/playwright/reporter/pwUtils'),{FUNNEL_INSTRUMENTATION_API_URL}=require(a132_0xd8bab6(0xda)),{generateCIArtifacts,printNudgeLocalNotSetError}=require('./helper'),PerformanceTester=require(a132_0xd8bab6(0x105)),globals=require('./globals'),helper=require('./helper'),{isTestObservabilitySession}=require('./test-observability/utils');let unhandledErrors='';exports['fireFunnelTestEvent']=async(_0x47c2f7,_0x22632b={},_0x5c33ff,_0x264f9e)=>{const _0x3fc8a5=a132_0xd8bab6,_0x266f00={'TyweB':function(_0x3d8d74,_0x35f93a){return _0x3d8d74===_0x35f93a;},'CBWuB':_0x3fc8a5(0xff),'NzNhi':function(_0x19aaaf,_0x5113be){return _0x19aaaf>_0x5113be;},'hkIZe':function(_0x1dfa0e,_0x169839){return _0x1dfa0e>_0x169839;},'LFRjl':'tests','FkrDU':function(_0x2868c1){return _0x2868c1();},'mxjQT':function(_0x37cf9c){return _0x37cf9c();},'ApVMY':function(_0x1b48bb,_0x7b1e3e){return _0x1b48bb==_0x7b1e3e;},'imqso':_0x3fc8a5(0x110),'ZrwQo':function(_0x5e53bb,_0x4613ec){return _0x5e53bb===_0x4613ec;},'Clsqa':_0x3fc8a5(0xa7),'ZJkIy':function(_0x57ddd9,_0x5ecd86){return _0x57ddd9>_0x5ecd86;},'GOHth':function(_0x93b06c,_0x143205){return _0x93b06c===_0x143205;},'czsgK':'codeceptjs','LTJOM':function(_0x5d35e6,_0x9cbb25){return _0x5d35e6>_0x9cbb25;},'TQlNo':function(_0x3b7ab2,_0x1d6301){return _0x3b7ab2!==_0x1d6301;},'XYWdV':_0x3fc8a5(0x11a),'plxQf':_0x3fc8a5(0x129),'WcWJY':function(_0x1d71b,_0x44e168){return _0x1d71b+_0x44e168;},'uCFSH':_0x3fc8a5(0xbf),'LnhJL':_0x3fc8a5(0xec),'Obbeg':function(_0x51cb04,_0x57ac4b){return _0x51cb04(_0x57ac4b);},'mMQPz':function(_0x44eddc,_0x34c60f){return _0x44eddc(_0x34c60f);},'WrXaz':_0x3fc8a5(0x10b),'JotOR':_0x3fc8a5(0xaa),'fyotM':_0x3fc8a5(0x115),'KaEiH':function(_0x1ed0bf,_0x451223){return _0x1ed0bf===_0x451223;},'rMWDT':_0x3fc8a5(0xca),'BWRWt':_0x3fc8a5(0x117),'llCgi':'[REDACTED]','OZYlu':_0x3fc8a5(0xe9)};let _0x33049a=[];if(helper[_0x3fc8a5(0x112)]()&&_0x266f00[_0x3fc8a5(0xc7)](isTestObservabilitySession))_0x33049a=_0x5c33ff[_0x3fc8a5(0xb1)]?constants['APP_AUTOMATE_PRODUCTS']:constants['AUTOMATE_PRODUCTS'];else{if(_0x266f00[_0x3fc8a5(0xd0)](isTestObservabilitySession))_0x33049a=constants[_0x3fc8a5(0xa9)];else helper['isBrowserstackInfra']()&&(_0x33049a=_0x5c33ff[_0x3fc8a5(0xb1)]?constants[_0x3fc8a5(0xfa)]:constants['AUTOMATE']);}let _0x485595=_0x5c33ff[_0x3fc8a5(0xfe)];if(_0x266f00[_0x3fc8a5(0xe8)](_0x485595,null))_0x485595=_0x266f00[_0x3fc8a5(0xcd)];else _0x266f00[_0x3fc8a5(0xeb)](_0x485595,undefined)&&(_0x485595=_0x266f00[_0x3fc8a5(0xb4)]);unhandledErrors&&_0x266f00['ZJkIy'](unhandledErrors['length'],0x0)&&(_0x22632b[_0x3fc8a5(0x101)]=unhandledErrors);global[_0x3fc8a5(0x102)]&&(_0x22632b['sdkRunId']=global[_0x3fc8a5(0x102)]);try{if(_0x22632b['error']){if(_0x266f00['GOHth'](_0x264f9e,_0x266f00[_0x3fc8a5(0xa6)])&&_0x266f00['LTJOM'](_0x22632b[_0x3fc8a5(0x129)][_0x3fc8a5(0xc0)],0x0)){const _0x1eb597={};_0x1eb597['os']='',_0x1eb597[_0x3fc8a5(0x10f)]='',_0x1eb597[_0x3fc8a5(0xf5)]='',_0x1eb597['browserVersion']='';const _0x49c854=_0x1eb597;let _0x12a80f={};const _0x3809bd=_0x22632b[_0x3fc8a5(0x129)];_0x12a80f=_0x3809bd[_0x3fc8a5(0xa8)]((_0x4559d5,_0x6afb44)=>{for(const _0xa6582b in _0x6afb44){_0x4559d5[_0xa6582b]=_0x6afb44[_0xa6582b];}return _0x4559d5;},{});const _0x4e52d5={};_0x4e52d5[_0x3fc8a5(0xd9)]=_0x12a80f,_0x22632b[_0x3fc8a5(0x129)]=[Object['assign']({},_0x49c854,_0x4e52d5)];}else{let _0x22b4a3=0x0;const _0x574d0a=_0x266f00[_0x3fc8a5(0xd2)](_0x264f9e,_0x266f00[_0x3fc8a5(0x11f)])?JSON[_0x3fc8a5(0x106)](_0x22632b[_0x3fc8a5(0x129)]):_0x22632b[_0x3fc8a5(0x129)],_0x5aeeb3=Object['values'](_0x574d0a);_0x5aeeb3[_0x3fc8a5(0xde)](_0x3e800c=>{const _0x45ce12=_0x3fc8a5;if(_0x266f00[_0x45ce12(0x116)](typeof _0x3e800c,_0x266f00[_0x45ce12(0xbe)])){const _0x143d14=Object[_0x45ce12(0xb6)](_0x3e800c);!_0x143d14[_0x45ce12(0x119)](_0x5a6ad9=>_0x5a6ad9===null||_0x5a6ad9===undefined||_0x5a6ad9==='')&&(_0x22b4a3+=0x1);}});if(_0x266f00['GOHth'](_0x22b4a3,0x0))delete _0x22632b[_0x266f00[_0x3fc8a5(0xf0)]];else{const _0x1febaf=[];Object[_0x3fc8a5(0x111)](_0x574d0a)[_0x3fc8a5(0xde)](_0x8ececb=>{const _0x364b55=_0x3fc8a5,_0x30ed42={'ZLfxM':function(_0x25c3a9,_0x3aa3b2){const _0xdbe988=a132_0x58b5;return _0x266f00[_0xdbe988(0x118)](_0x25c3a9,_0x3aa3b2);}},[_0x56c3d4,_0x2b7570,_0x1a2b75,_0x1064c2]=_0x8ececb[_0x364b55(0xb2)](',\x20');let _0x4047ee={};if(!_0x1064c2){const _0x543b0a={};_0x543b0a[_0x364b55(0xa3)]=_0x56c3d4,_0x543b0a[_0x364b55(0x10f)]=_0x2b7570,_0x543b0a['browser']=_0x1a2b75,_0x4047ee=_0x543b0a;}else{const _0x4f2169={};_0x4f2169['os']=_0x56c3d4,_0x4f2169[_0x364b55(0x10f)]=_0x2b7570,_0x4f2169['browser']=_0x1a2b75,_0x4f2169[_0x364b55(0xdc)]=_0x1064c2,_0x4047ee=_0x4f2169;}const _0x206a7a={},_0x4ff426=_0x574d0a[_0x8ececb];Object['keys'](_0x4ff426)[_0x364b55(0xde)](_0x59d265=>{const _0x204c02=_0x364b55;_0x30ed42[_0x204c02(0xfb)](_0x4ff426[_0x59d265]['length'],0x0)&&(_0x206a7a[_0x59d265]=_0x4ff426[_0x59d265]);}),_0x266f00[_0x364b55(0xe2)](Object[_0x364b55(0x111)](_0x206a7a)[_0x364b55(0xc0)],0x0)&&(_0x4047ee[_0x266f00['LFRjl']]=_0x206a7a,_0x1febaf['push'](_0x4047ee));}),_0x266f00[_0x3fc8a5(0xe2)](_0x1febaf['length'],0x0)?_0x22632b[_0x3fc8a5(0x129)]=_0x1febaf:delete _0x22632b[_0x266f00['plxQf']];}}}}catch(_0x3d0eb7){delete _0x22632b[_0x266f00[_0x3fc8a5(0xf0)]],logger['debug'](_0x266f00[_0x3fc8a5(0xd7)](_0x266f00[_0x3fc8a5(0x130)],_0x3d0eb7));}const _0x5b8351=helper['getTestFrameworkDetails'](_0x5c33ff,_0x5c33ff['framework']),_0x1b1ca3={'userName':helper[_0x3fc8a5(0xd8)](_0x5c33ff),'accessKey':helper[_0x3fc8a5(0x131)](_0x5c33ff),'event_type':_0x47c2f7,'detectedFramework':_0x264f9e,'buildHashedId':globals['getGlobal'](_0x266f00[_0x3fc8a5(0x122)]),'optimalHubUrl':helper[_0x3fc8a5(0x11b)](),'event_properties':{'testhub_uuid':process['env'][testHubConstants['ENV_VAR'][_0x3fc8a5(0xdb)]]||'','sdkRunId':global['sdkRunId'],'product_map':_0x266f00['Obbeg'](getProductMap,_0x5c33ff),'productMap':_0x266f00[_0x3fc8a5(0x11c)](getProductMap,_0x5c33ff),'language_framework':_0x5c33ff[_0x3fc8a5(0x107)]||_0x266f00[_0x3fc8a5(0xf6)],'referrer':helper[_0x3fc8a5(0x123)](_0x264f9e),'framework':_0x5c33ff['framework'],'frameworkVersion':helper[_0x3fc8a5(0xb9)](_0x264f9e),'automationFramework':_0x5b8351[_0x3fc8a5(0x100)],'automationFrameworkVersion':_0x5b8351[_0x3fc8a5(0xf4)],'language':_0x266f00[_0x3fc8a5(0x108)],'languageVersion':process[_0x3fc8a5(0xf4)],'product':_0x33049a,'buildName':_0x5c33ff[_0x3fc8a5(0x12d)]||_0x266f00[_0x3fc8a5(0xb4)],'buildIdentifier':_0x485595,'os':os[_0x3fc8a5(0x125)]()||_0x266f00[_0x3fc8a5(0xf6)],'hostname':os[_0x3fc8a5(0xf2)]()||_0x266f00[_0x3fc8a5(0xf6)],..._0x22632b}};try{_0x266f00[_0x3fc8a5(0x116)](_0x47c2f7,_0x266f00['fyotM'])&&(_0x1b1ca3[_0x3fc8a5(0x12e)]['browserStackConfig']=helper[_0x3fc8a5(0xbc)](_0x5c33ff)),_0x266f00[_0x3fc8a5(0x120)](_0x264f9e,_0x266f00[_0x3fc8a5(0x11f)])?_0x1b1ca3[_0x3fc8a5(0x12e)][_0x3fc8a5(0xd3)]=helper[_0x3fc8a5(0x12c)][_0x3fc8a5(0xcf)](null,_0x266f00['FkrDU'](getTransformPath),!![]):_0x1b1ca3[_0x3fc8a5(0x12e)][_0x3fc8a5(0xc9)]=helper['getPackageVersion'](_0x266f00['rMWDT']);}catch(_0x21ff5b){logger[_0x3fc8a5(0xb3)](_0x3fc8a5(0x12a)+_0x21ff5b);}const _0x4db9b4={};_0x4db9b4[_0x3fc8a5(0xc4)]=_0x266f00[_0x3fc8a5(0xf9)];const _0x21b238={'headers':_0x4db9b4,'body':_0x1b1ca3,'auth':{'user':helper[_0x3fc8a5(0xd8)](_0x5c33ff),'pass':helper[_0x3fc8a5(0x131)](_0x5c33ff)},'json':!![]};logger[_0x3fc8a5(0xb3)](_0x3fc8a5(0x121)+JSON[_0x3fc8a5(0xe6)](_0x21b238[_0x3fc8a5(0xb7)])['replace'](new RegExp(helper[_0x3fc8a5(0xd8)](_0x5c33ff),'g'),_0x266f00[_0x3fc8a5(0x12b)])[_0x3fc8a5(0xf3)](new RegExp(helper[_0x3fc8a5(0x131)](_0x5c33ff),'g'),_0x266f00['llCgi']));try{const _0xae1016=await helper['nodeRequest'](_0x266f00[_0x3fc8a5(0x10d)],constants['FUNNEL_INSTRUMENTATION_API_URL'],_0x21b238,_0x5c33ff);logger['debug']('API\x20Event\x20'+_0x47c2f7+_0x3fc8a5(0x114)+util[_0x3fc8a5(0xb5)]('%j',_0xae1016));}catch(_0xfbeccb){logger[_0x3fc8a5(0xb3)]('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+_0x3fc8a5(0xce)+util['format'](_0xfbeccb));}},exports[a132_0xd8bab6(0xba)]=async _0x359b4b=>{const _0x2043d5=a132_0xd8bab6,_0x5967d1={'VbHjt':function(_0x512a5c){return _0x512a5c();},'MjqPy':_0x2043d5(0x12f),'FUvBl':_0x2043d5(0xdf),'hxLpd':'SDKTestSuccessful','UKBLC':function(_0x2c4bfc,_0x4bf06d,_0x2c9e56){return _0x2c4bfc(_0x4bf06d,_0x2c9e56);},'NjBky':function(_0x5073b2,_0x1a33b2){return _0x5073b2+_0x1a33b2;},'rkNWN':_0x2043d5(0xe5)};try{await _0x359b4b[_0x2043d5(0xd4)](),_0x5967d1[_0x2043d5(0xef)](printNudgeLocalNotSetError);const _0x37b646={};_0x37b646[_0x2043d5(0x129)]=_0x359b4b[_0x2043d5(0xf1)]?_0x359b4b[_0x2043d5(0xf1)]:'{}';const _0x4f5f9e=_0x37b646,_0xf0c0f1=Object[_0x2043d5(0xea)]({},_0x4f5f9e);!!_0x359b4b[_0x2043d5(0xd5)]&&(_0xf0c0f1[_0x5967d1[_0x2043d5(0xe3)]]={'reason':_0x5967d1[_0x2043d5(0xd1)],'signal':_0x359b4b['killSignal']});unhandledErrors=_0x359b4b[_0x2043d5(0xae)][_0x2043d5(0xf7)]('\x0a');let _0x40950c,_0x59e930,_0x2d07e5;helper[_0x2043d5(0xa4)](_0x359b4b[_0x2043d5(0xab)])?([_0x40950c,_0x59e930]=await helper['getTurboScaleBuildLink'](_0x359b4b[_0x2043d5(0xab)]),[_0x2d07e5]=await Promise[_0x2043d5(0x104)]([helper[_0x2043d5(0x103)](_0x40950c,_0x359b4b[_0x2043d5(0xab)]),exports[_0x2043d5(0xf8)](_0x5967d1[_0x2043d5(0xaf)],_0xf0c0f1,_0x359b4b[_0x2043d5(0xab)],_0x359b4b[_0x2043d5(0x11d)])])):([_0x40950c,_0x59e930]=await helper[_0x2043d5(0x10e)](_0x359b4b[_0x2043d5(0xab)]),[_0x2d07e5]=await Promise[_0x2043d5(0x104)]([helper[_0x2043d5(0xac)](_0x40950c,_0x359b4b['config']),exports[_0x2043d5(0xf8)](_0x5967d1[_0x2043d5(0xaf)],_0xf0c0f1,_0x359b4b[_0x2043d5(0xab)],_0x359b4b[_0x2043d5(0x11d)])])),_0x2d07e5&&await _0x5967d1['UKBLC'](generateCIArtifacts,_0x2d07e5,_0x59e930),logger[_0x2043d5(0xc1)](_0x2043d5(0xed)+_0x359b4b[_0x2043d5(0x102)]+_0x2043d5(0x10a)+process['env'][_0x2043d5(0xdb)]),await helper[_0x2043d5(0x10c)](_0x359b4b['config']);}catch(_0xe3308f){logger[_0x2043d5(0xb3)](_0x5967d1[_0x2043d5(0xbb)](_0x5967d1[_0x2043d5(0xd6)],_0xe3308f));}helper[_0x2043d5(0xfc)]();},exports[a132_0xd8bab6(0xe7)]=_0x2e13ae=>{const _0x54e6d9=a132_0xd8bab6,_0x1dfb7e={'DyFlg':function(_0x1944f7,_0x2e3c09){return _0x1944f7 instanceof _0x2e3c09;},'zGTSH':function(_0x362104,_0x2dc1ea){return _0x362104(_0x2dc1ea);}};try{if(_0x1dfb7e[_0x54e6d9(0x126)](_0x2e13ae,Error))return _0x2e13ae[_0x54e6d9(0x124)]||_0x2e13ae[_0x54e6d9(0x113)]();return _0x1dfb7e[_0x54e6d9(0xc5)](String,_0x2e13ae);}catch(_0x19d418){return _0x2e13ae?_0x2e13ae[_0x54e6d9(0x113)]():'';}},exports['isNullOrEmpty']=_0x526401=>{const _0x145d5d=a132_0xd8bab6,_0x1369fc={};_0x1369fc[_0x145d5d(0xb8)]=function(_0x4ee6dc,_0x38c6a0){return _0x4ee6dc===_0x38c6a0;};const _0x445d05=_0x1369fc;return!_0x526401||_0x445d05[_0x145d5d(0xb8)](_0x526401[_0x145d5d(0xad)](),'');},exports[a132_0xd8bab6(0xe1)]=_0x8648e8=>{const _0x300c60=a132_0xd8bab6,_0xc48cb0={};_0xc48cb0['aaZrn']=function(_0x404f3,_0x286b4b){return _0x404f3|_0x286b4b;};const _0x3558e6=_0xc48cb0;try{return fs['accessSync'](_0x8648e8,_0x3558e6[_0x300c60(0xe0)](fs[_0x300c60(0xcc)]['W_OK'],fs[_0x300c60(0xcc)]['X_OK'])),!![];}catch(_0x11fd76){return![];}},exports['setReadWriteExecuteAccess']=_0x4c51de=>{const _0x2ba098=a132_0xd8bab6;try{fs[_0x2ba098(0x128)](_0x4c51de,0x1ff),logger[_0x2ba098(0xb3)](_0x2ba098(0x109)+_0x4c51de+_0x2ba098(0x11e));}catch(_0x59d3bf){logger[_0x2ba098(0x129)]('Failed\x20to\x20set\x20directory\x20access:\x20'+exports[_0x2ba098(0xe7)](_0x59d3bf));}};function a132_0x58b5(_0xc683a3,_0x490a8f){const _0x2aafff=a132_0x2aaf();return a132_0x58b5=function(_0x58b554,_0x4cdee9){_0x58b554=_0x58b554-0xa3;let _0x4a64cd=_0x2aafff[_0x58b554];return _0x4a64cd;},a132_0x58b5(_0xc683a3,_0x490a8f);}function a132_0x2aaf(){const _0x52cb86=['hxLpd','../helpers/testhub/constants','app','split','debug','Clsqa','format','values','body','vKUeQ','getFrameworkVersion','finalExecution','NjBky','sanitizeBrowserStackConfig','winstonLogger','CBWuB','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','length','info','7504460rXalRs','2401460ToLsXP','content-type','zGTSH','3483613bNQkgG','FkrDU','util','seleniumVersion','selenium-webdriver','./logger','constants','imqso','\x20:\x20','apply','mxjQT','FUvBl','TQlNo','playwrightVersion','stopPercy','killSignal','rkNWN','WcWJY','getUserName','tests','../bin/utils/constants','BROWSERSTACK_TESTHUB_UUID','browserVersion','1570462ldWxVS','forEach','user_killed','aaZrn','isModifiable','hkIZe','MjqPy','./testhub/utils','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','stringify','getStackTraceAsString','ApVMY','POST','assign','ZrwQo','_buildHashedId','SDK\x20run\x20ended\x20for\x20id:\x20','2772321UcbvoU','VbHjt','plxQf','errorMessage','hostname','replace','version','browser','WrXaz','join','fireFunnelTestEvent','BWRWt','APP_AUTOMATE','ZLfxM','notifyUpdate','1960kqnrYA','buildIdentifier','object','name','globalException','sdkRunId','getTurboScaleSessionsList','all','./performance/performance-tester','parse','source','JotOR','Directory\x20',',\x20testhub\x20id:\x20','unknown','sendLogs','OZYlu','getBuildLink','osVersion','null','keys','isBrowserstackInfra','toString','\x20response\x20-\x20','SDKTestSuccessful','TyweB','application/json','NzNhi','every','Playwright','getOptimalHubUrl','mMQPz','framework','\x20has\x20now\x20read/write/execute\x20permissions.','XYWdV','KaEiH','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','LnhJL','getNodeAgent','stack','type','DyFlg','35921648TQDRMT','chmodSync','error','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','llCgi','requirePWModule','buildName','event_properties','finishedMetadata','uCFSH','getAccessKey','deviceName','isTurboScaleSession','18PEofXQ','czsgK','undefined','reduce','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','nodejs','config','getSessionsList','trim','unhandledErrors'];a132_0x2aaf=function(){return _0x52cb86;};return a132_0x2aaf();}