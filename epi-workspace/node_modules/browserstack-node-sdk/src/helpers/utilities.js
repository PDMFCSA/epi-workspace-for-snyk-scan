const a142_0x5aa07c=a142_0x4bb9;(function(_0x4271c9,_0x25f30e){const _0x19bfc5=a142_0x4bb9,_0xe66bee=_0x4271c9();while(!![]){try{const _0xd5e5ed=parseInt(_0x19bfc5(0xe2))/0x1+parseInt(_0x19bfc5(0x128))/0x2*(-parseInt(_0x19bfc5(0x121))/0x3)+-parseInt(_0x19bfc5(0xe6))/0x4*(parseInt(_0x19bfc5(0x119))/0x5)+-parseInt(_0x19bfc5(0x104))/0x6+parseInt(_0x19bfc5(0x120))/0x7+-parseInt(_0x19bfc5(0xec))/0x8*(parseInt(_0x19bfc5(0x137))/0x9)+-parseInt(_0x19bfc5(0xee))/0xa*(-parseInt(_0x19bfc5(0xcc))/0xb);if(_0xd5e5ed===_0x25f30e)break;else _0xe66bee['push'](_0xe66bee['shift']());}catch(_0x39f7e2){_0xe66bee['push'](_0xe66bee['shift']());}}}(a142_0x246f,0xe223a));const os=require('os'),util=require(a142_0x5aa07c(0xce)),fs=require('fs'),{getProductMap}=require(a142_0x5aa07c(0xf7)),logger=require(a142_0x5aa07c(0x126))['winstonLogger'],constants=require(a142_0x5aa07c(0x10d)),testHubConstants=require('../helpers/testhub/constants'),{getTransformPath}=require(a142_0x5aa07c(0x11e)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a142_0x5aa07c(0x10d)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a142_0x5aa07c(0xd1)),PerformanceTester=require(a142_0x5aa07c(0xd2)),globals=require(a142_0x5aa07c(0x132)),helper=require(a142_0x5aa07c(0xd1)),{isTestObservabilitySession}=require(a142_0x5aa07c(0x112));let unhandledErrors='';exports[a142_0x5aa07c(0x14a)]=async(_0x25d245,_0x307d36={},_0x19561b,_0x38fe34)=>{const _0xc089fa=a142_0x5aa07c,_0x14cf97={'uonbW':function(_0x47af8b,_0x417624){return _0x47af8b===_0x417624;},'hjeyF':_0xc089fa(0x10c),'fLlyv':function(_0x52dd6a,_0x3e816c){return _0x52dd6a>_0x3e816c;},'kYxge':_0xc089fa(0x144),'LyXVY':function(_0x2ec1fb){return _0x2ec1fb();},'rIdqc':function(_0x46cbff){return _0x46cbff();},'nLMlU':function(_0x325717,_0x29b796){return _0x325717==_0x29b796;},'oIaCv':'null','IECZP':'undefined','yUwEa':function(_0xe0807f,_0x193c6a){return _0xe0807f===_0x193c6a;},'HSxgM':_0xc089fa(0x13c),'yBXkz':function(_0x48d49e,_0x592769){return _0x48d49e!==_0x592769;},'RpACL':_0xc089fa(0x118),'VHLOY':function(_0xcef0f8,_0x22b79c){return _0xcef0f8===_0x22b79c;},'EZDyY':_0xc089fa(0x130),'YfzXl':function(_0x2782af,_0x1d3ace){return _0x2782af+_0x1d3ace;},'UcITS':_0xc089fa(0xf0),'uhBrd':'_buildHashedId','Ojdwd':function(_0x580801,_0x5bc29e){return _0x580801(_0x5bc29e);},'Zpwhd':function(_0x35c483,_0x19199){return _0x35c483(_0x19199);},'ifHjZ':_0xc089fa(0x14e),'jPMDO':_0xc089fa(0xff),'SURyr':function(_0x2a407a,_0x19981c){return _0x2a407a===_0x19981c;},'rBffE':_0xc089fa(0x113),'fWFkZ':function(_0x3a7e72,_0x260a89){return _0x3a7e72===_0x260a89;},'LJwuq':_0xc089fa(0x12b),'doQXL':_0xc089fa(0x138),'UYRJC':'[REDACTED]','iFlDq':_0xc089fa(0xc7)};let _0x2fae89=[];if(helper[_0xc089fa(0xe8)]()&&_0x14cf97[_0xc089fa(0xf1)](isTestObservabilitySession))_0x2fae89=_0x19561b[_0xc089fa(0x13b)]?constants[_0xc089fa(0x14f)]:constants[_0xc089fa(0x122)];else{if(_0x14cf97[_0xc089fa(0xed)](isTestObservabilitySession))_0x2fae89=constants['PRODUCT_IF_NOT_BROWSERSTACK_INFRA'];else helper[_0xc089fa(0xe8)]()&&(_0x2fae89=_0x19561b[_0xc089fa(0x13b)]?constants['APP_AUTOMATE']:constants[_0xc089fa(0x135)]);}let _0x3dc38b=_0x19561b['buildIdentifier'];if(_0x14cf97[_0xc089fa(0xca)](_0x3dc38b,null))_0x3dc38b=_0x14cf97['oIaCv'];else _0x14cf97[_0xc089fa(0x12f)](_0x3dc38b,undefined)&&(_0x3dc38b=_0x14cf97[_0xc089fa(0x10e)]);unhandledErrors&&_0x14cf97[_0xc089fa(0xfd)](unhandledErrors[_0xc089fa(0x114)],0x0)&&(_0x307d36[_0xc089fa(0xf8)]=unhandledErrors);global[_0xc089fa(0xc8)]&&(_0x307d36['sdkRunId']=global[_0xc089fa(0xc8)]);try{if(_0x307d36[_0xc089fa(0x130)]){if(_0x14cf97[_0xc089fa(0x106)](_0x38fe34,_0x14cf97[_0xc089fa(0x105)])&&_0x14cf97[_0xc089fa(0xfd)](_0x307d36['error']['length'],0x0)){const _0x225d27={};_0x225d27['os']='',_0x225d27[_0xc089fa(0x110)]='',_0x225d27['browser']='',_0x225d27[_0xc089fa(0xe7)]='';const _0x2bd15c=_0x225d27;let _0x55e75b={};const _0x5623b4=_0x307d36[_0xc089fa(0x130)];_0x55e75b=_0x5623b4[_0xc089fa(0x13a)]((_0x30004d,_0x5eae17)=>{for(const _0xcb9f17 in _0x5eae17){_0x30004d[_0xcb9f17]=_0x5eae17[_0xcb9f17];}return _0x30004d;},{});const _0x5d00af={};_0x5d00af[_0xc089fa(0x144)]=_0x55e75b,_0x307d36['error']=[Object[_0xc089fa(0x129)]({},_0x2bd15c,_0x5d00af)];}else{let _0x32420e=0x0;const _0xf13426=_0x14cf97['yBXkz'](_0x38fe34,_0x14cf97[_0xc089fa(0x10f)])?JSON[_0xc089fa(0xc9)](_0x307d36[_0xc089fa(0x130)]):_0x307d36[_0xc089fa(0x130)],_0x565308=Object['values'](_0xf13426);_0x565308[_0xc089fa(0xf4)](_0x3d9b12=>{const _0x32b571=_0xc089fa;if(_0x14cf97[_0x32b571(0x12f)](typeof _0x3d9b12,_0x14cf97[_0x32b571(0x153)])){const _0x5bb660=Object[_0x32b571(0x141)](_0x3d9b12);!_0x5bb660['every'](_0x3c4d41=>_0x3c4d41===null||_0x3c4d41===undefined||_0x3c4d41==='')&&(_0x32420e+=0x1);}});if(_0x14cf97[_0xc089fa(0x115)](_0x32420e,0x0))delete _0x307d36[_0x14cf97[_0xc089fa(0x107)]];else{const _0x4f3a1d=[];Object['keys'](_0xf13426)[_0xc089fa(0xf4)](_0x13c504=>{const _0x3aaf02=_0xc089fa,_0xd8488d={'hAxqG':function(_0x2db799,_0x491f1c){const _0x4921b9=a142_0x4bb9;return _0x14cf97[_0x4921b9(0xfd)](_0x2db799,_0x491f1c);}},[_0x6844bd,_0xc3cb2a,_0x43a68a,_0x227693]=_0x13c504[_0x3aaf02(0x131)](',\x20');let _0xc8786d={};if(!_0x227693){const _0x29639e={};_0x29639e[_0x3aaf02(0xdf)]=_0x6844bd,_0x29639e['osVersion']=_0xc3cb2a,_0x29639e['browser']=_0x43a68a,_0xc8786d=_0x29639e;}else{const _0x3e4a3d={};_0x3e4a3d['os']=_0x6844bd,_0x3e4a3d[_0x3aaf02(0x110)]=_0xc3cb2a,_0x3e4a3d[_0x3aaf02(0xfe)]=_0x43a68a,_0x3e4a3d[_0x3aaf02(0xe7)]=_0x227693,_0xc8786d=_0x3e4a3d;}const _0x2d713d={},_0x89b76b=_0xf13426[_0x13c504];Object[_0x3aaf02(0xfa)](_0x89b76b)['forEach'](_0x3f6a3b=>{const _0x5c55cc=_0x3aaf02;_0xd8488d[_0x5c55cc(0x134)](_0x89b76b[_0x3f6a3b][_0x5c55cc(0x114)],0x0)&&(_0x2d713d[_0x3f6a3b]=_0x89b76b[_0x3f6a3b]);}),_0x14cf97[_0x3aaf02(0xfd)](Object[_0x3aaf02(0xfa)](_0x2d713d)[_0x3aaf02(0x114)],0x0)&&(_0xc8786d[_0x14cf97[_0x3aaf02(0x143)]]=_0x2d713d,_0x4f3a1d[_0x3aaf02(0xeb)](_0xc8786d));}),_0x14cf97[_0xc089fa(0xfd)](_0x4f3a1d[_0xc089fa(0x114)],0x0)?_0x307d36[_0xc089fa(0x130)]=_0x4f3a1d:delete _0x307d36[_0x14cf97[_0xc089fa(0x107)]];}}}}catch(_0x1ab9fd){delete _0x307d36[_0x14cf97[_0xc089fa(0x107)]],logger[_0xc089fa(0x14b)](_0x14cf97[_0xc089fa(0x14c)](_0x14cf97[_0xc089fa(0x14d)],_0x1ab9fd));}const _0x1928d3=helper[_0xc089fa(0x11f)](_0x19561b,_0x19561b['framework']),_0xa02c98={'userName':helper[_0xc089fa(0xc1)](_0x19561b),'accessKey':helper['getAccessKey'](_0x19561b),'event_type':_0x25d245,'detectedFramework':_0x38fe34,'buildHashedId':globals[_0xc089fa(0x103)](_0x14cf97[_0xc089fa(0x12e)]),'optimalHubUrl':helper[_0xc089fa(0x146)](),'event_properties':{'testhub_uuid':process[_0xc089fa(0x101)][testHubConstants['ENV_VAR'][_0xc089fa(0x147)]]||'','sdkRunId':global['sdkRunId'],'product_map':_0x14cf97[_0xc089fa(0x108)](getProductMap,_0x19561b),'productMap':_0x14cf97[_0xc089fa(0xcd)](getProductMap,_0x19561b),'language_framework':_0x19561b[_0xc089fa(0xfc)]||_0x14cf97['ifHjZ'],'referrer':helper[_0xc089fa(0xc6)](_0x38fe34),'framework':_0x19561b[_0xc089fa(0xf6)],'frameworkVersion':helper[_0xc089fa(0xd6)](_0x38fe34),'automationFramework':_0x1928d3[_0xc089fa(0xef)],'automationFrameworkVersion':_0x1928d3[_0xc089fa(0xd5)],'language':_0x14cf97[_0xc089fa(0xd0)],'languageVersion':process[_0xc089fa(0xd5)],'product':_0x2fae89,'buildName':_0x19561b[_0xc089fa(0x148)]||_0x14cf97[_0xc089fa(0x10e)],'buildIdentifier':_0x3dc38b,'os':os[_0xc089fa(0x109)]()||_0x14cf97[_0xc089fa(0xf3)],'hostname':os[_0xc089fa(0x11d)]()||_0x14cf97[_0xc089fa(0xf3)],..._0x307d36}};try{_0x14cf97[_0xc089fa(0x123)](_0x25d245,_0x14cf97[_0xc089fa(0xf9)])&&(_0xa02c98[_0xc089fa(0x149)][_0xc089fa(0xcb)]=helper[_0xc089fa(0xe5)](_0x19561b)),_0x14cf97['fWFkZ'](_0x38fe34,_0x14cf97[_0xc089fa(0x10f)])?_0xa02c98[_0xc089fa(0x149)][_0xc089fa(0x124)]=helper[_0xc089fa(0x150)]['apply'](null,_0x14cf97[_0xc089fa(0xf1)](getTransformPath),!![]):_0xa02c98['event_properties'][_0xc089fa(0xd4)]=helper['getPackageVersion'](_0x14cf97['LJwuq']);}catch(_0x57e027){logger['debug'](_0xc089fa(0xc2)+_0x57e027);}const _0xddcf75={};_0xddcf75[_0xc089fa(0xc0)]=_0x14cf97[_0xc089fa(0x102)];const _0x14d19a={'headers':_0xddcf75,'body':_0xa02c98,'auth':{'user':helper[_0xc089fa(0xc1)](_0x19561b),'pass':helper['getAccessKey'](_0x19561b)},'json':!![]};logger[_0xc089fa(0x14b)](_0xc089fa(0x136)+JSON[_0xc089fa(0x140)](_0x14d19a['body'])[_0xc089fa(0x127)](new RegExp(helper[_0xc089fa(0xc1)](_0x19561b),'g'),_0x14cf97[_0xc089fa(0xd7)])[_0xc089fa(0x127)](new RegExp(helper[_0xc089fa(0x12a)](_0x19561b),'g'),_0x14cf97[_0xc089fa(0xd7)]));try{const _0xf53de0=await helper[_0xc089fa(0x11a)](_0x14cf97[_0xc089fa(0x133)],FUNNEL_INSTRUMENTATION_API_URL,_0x14d19a,_0x19561b);logger[_0xc089fa(0x14b)](_0xc089fa(0xdd)+_0x25d245+'\x20response\x20-\x20'+util[_0xc089fa(0xc4)]('%j',_0xf53de0));}catch(_0x5b2977){logger[_0xc089fa(0x14b)]('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+_0xc089fa(0xe4)+util['format'](_0x5b2977));}},exports['finalExecution']=async _0x59f4f9=>{const _0xac45b6=a142_0x5aa07c,_0x5ac6c1={'gredO':function(_0x2e2dea){return _0x2e2dea();},'pcYEV':_0xac45b6(0xda),'nLwCU':_0xac45b6(0x12c),'dzyRD':'SDKTestSuccessful','ljQGM':function(_0x1680ce,_0x5a98fc,_0x5631fa){return _0x1680ce(_0x5a98fc,_0x5631fa);},'vuPPt':function(_0x424ea8,_0x1af806){return _0x424ea8+_0x1af806;},'yBzLy':_0xac45b6(0xf2)};try{await _0x59f4f9['stopPercy'](),_0x5ac6c1['gredO'](printNudgeLocalNotSetError);const _0x4521c3={};_0x4521c3[_0xac45b6(0x130)]=_0x59f4f9[_0xac45b6(0xbf)]?_0x59f4f9[_0xac45b6(0xbf)]:'{}';const _0x3d666c=_0x4521c3,_0x3d2f7a=Object['assign']({},_0x3d666c);!!_0x59f4f9[_0xac45b6(0xd9)]&&(_0x3d2f7a[_0x5ac6c1[_0xac45b6(0xd8)]]={'reason':_0x5ac6c1[_0xac45b6(0xd3)],'signal':_0x59f4f9['killSignal']});unhandledErrors=_0x59f4f9[_0xac45b6(0xdc)]['join']('\x0a');let _0x3192f9,_0xe383e4,_0x535230;helper[_0xac45b6(0x117)](_0x59f4f9['config'])?([_0x3192f9,_0xe383e4]=await helper[_0xac45b6(0x10b)](_0x59f4f9['config']),[_0x535230]=await Promise[_0xac45b6(0x116)]([helper[_0xac45b6(0x12d)](_0x3192f9,_0x59f4f9[_0xac45b6(0x13d)]),exports[_0xac45b6(0x14a)](_0x5ac6c1[_0xac45b6(0xe9)],_0x3d2f7a,_0x59f4f9[_0xac45b6(0x13d)],_0x59f4f9[_0xac45b6(0xf6)])])):([_0x3192f9,_0xe383e4]=await helper[_0xac45b6(0xe0)](_0x59f4f9['config']),[_0x535230]=await Promise[_0xac45b6(0x116)]([helper[_0xac45b6(0x142)](_0x3192f9,_0x59f4f9[_0xac45b6(0x13d)]),exports[_0xac45b6(0x14a)](_0x5ac6c1[_0xac45b6(0xe9)],_0x3d2f7a,_0x59f4f9[_0xac45b6(0x13d)],_0x59f4f9[_0xac45b6(0xf6)])])),_0x535230&&await _0x5ac6c1[_0xac45b6(0x152)](generateCIArtifacts,_0x535230,_0xe383e4),logger[_0xac45b6(0x111)](_0xac45b6(0x145)+_0x59f4f9[_0xac45b6(0xc8)]+_0xac45b6(0x13e)+process[_0xac45b6(0x101)][_0xac45b6(0x147)]),await helper[_0xac45b6(0xc3)](_0x59f4f9[_0xac45b6(0x13d)]);}catch(_0xc60a38){logger['debug'](_0x5ac6c1[_0xac45b6(0xc5)](_0x5ac6c1['yBzLy'],_0xc60a38));}helper[_0xac45b6(0xcf)]();},exports[a142_0x5aa07c(0x11b)]=_0x1f4d03=>{const _0x4ed722=a142_0x5aa07c,_0x3fd04b={'OhIGC':function(_0x589156,_0x2d11f5){return _0x589156 instanceof _0x2d11f5;},'QEpZc':function(_0x1fd9a8,_0x2f7653){return _0x1fd9a8(_0x2f7653);}};try{if(_0x3fd04b['OhIGC'](_0x1f4d03,Error))return _0x1f4d03[_0x4ed722(0xe3)]||_0x1f4d03[_0x4ed722(0x10a)]();return _0x3fd04b[_0x4ed722(0xf5)](String,_0x1f4d03);}catch(_0x4336d0){return _0x1f4d03?_0x1f4d03['toString']():'';}},exports[a142_0x5aa07c(0x100)]=_0x272fbc=>{const _0x454eea=a142_0x5aa07c,_0x55201c={};_0x55201c['eHmbw']=function(_0x488fd5,_0x10fd40){return _0x488fd5===_0x10fd40;};const _0x37d2f2=_0x55201c;return!_0x272fbc||_0x37d2f2[_0x454eea(0xea)](_0x272fbc[_0x454eea(0xfb)](),'');},exports[a142_0x5aa07c(0xde)]=_0x5620ad=>{const _0x5c8561=a142_0x5aa07c,_0x17b1e9={};_0x17b1e9[_0x5c8561(0x151)]=function(_0x105204,_0x3ab491){return _0x105204|_0x3ab491;};const _0x5f0bfc=_0x17b1e9;try{return fs['accessSync'](_0x5620ad,_0x5f0bfc[_0x5c8561(0x151)](fs[_0x5c8561(0x11c)][_0x5c8561(0x125)],fs['constants'][_0x5c8561(0xe1)])),!![];}catch(_0x15a0a5){return![];}},exports[a142_0x5aa07c(0x139)]=_0x477090=>{const _0x3d9b1d=a142_0x5aa07c;try{fs['chmodSync'](_0x477090,0x1ff),logger[_0x3d9b1d(0x14b)](_0x3d9b1d(0x13f)+_0x477090+'\x20has\x20now\x20read/write/execute\x20permissions.');}catch(_0x4a53fa){logger[_0x3d9b1d(0x130)](_0x3d9b1d(0xdb)+exports[_0x3d9b1d(0x11b)](_0x4a53fa));}};function a142_0x4bb9(_0x3a8da1,_0x2b7cc6){const _0x246f53=a142_0x246f();return a142_0x4bb9=function(_0x4bb9ca,_0x1d5574){_0x4bb9ca=_0x4bb9ca-0xbf;let _0x5cc712=_0x246f53[_0x4bb9ca];return _0x5cc712;},a142_0x4bb9(_0x3a8da1,_0x2b7cc6);}function a142_0x246f(){const _0x56ea5a=['env','doQXL','getGlobal','2220894VmYOli','HSxgM','yUwEa','EZDyY','Ojdwd','type','toString','getTurboScaleBuildLink','object','../bin/utils/constants','IECZP','RpACL','osVersion','info','./test-observability/utils','SDKTestSuccessful','length','VHLOY','all','isTurboScaleSession','Playwright','5okhzDj','nodeRequest','getStackTraceAsString','constants','hostname','../bin/playwright/reporter/pwUtils','getTestFrameworkDetails','2667042CviGga','11133XAFNeA','AUTOMATE_PRODUCTS','SURyr','playwrightVersion','W_OK','./logger','replace','554Gqtjuz','assign','getAccessKey','selenium-webdriver','user_killed','getTurboScaleSessionsList','uhBrd','uonbW','error','split','./globals','iFlDq','hAxqG','AUTOMATE','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','13674807bVpQtn','application/json','setReadWriteExecuteAccess','reduce','app','codeceptjs','config',',\x20testhub\x20id:\x20','Directory\x20','stringify','values','getSessionsList','kYxge','tests','SDK\x20run\x20ended\x20for\x20id:\x20','getOptimalHubUrl','BROWSERSTACK_TESTHUB_UUID','buildName','event_properties','fireFunnelTestEvent','debug','YfzXl','UcITS','unknown','APP_AUTOMATE_PRODUCTS','requirePWModule','kwchi','ljQGM','hjeyF','errorMessage','content-type','getUserName','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','sendLogs','format','vuPPt','getNodeAgent','POST','sdkRunId','parse','nLMlU','browserStackConfig','177573cYuJwI','Zpwhd','util','notifyUpdate','jPMDO','./helper','./performance/performance-tester','nLwCU','seleniumVersion','version','getFrameworkVersion','UYRJC','pcYEV','killSignal','finishedMetadata','Failed\x20to\x20set\x20directory\x20access:\x20','unhandledErrors','API\x20Event\x20','isModifiable','deviceName','getBuildLink','X_OK','684515bitsqd','stack','\x20:\x20','sanitizeBrowserStackConfig','1672200cymBbc','browserVersion','isBrowserstackInfra','dzyRD','eHmbw','push','8HwDkLG','rIdqc','1980BrfKSV','name','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','LyXVY','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','ifHjZ','forEach','QEpZc','framework','./testhub/utils','globalException','rBffE','keys','trim','source','fLlyv','browser','nodejs','isNullOrEmpty'];a142_0x246f=function(){return _0x56ea5a;};return a142_0x246f();}