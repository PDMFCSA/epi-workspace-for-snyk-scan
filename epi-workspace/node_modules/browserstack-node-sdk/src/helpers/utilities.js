const a129_0x4b7592=a129_0x2700;(function(_0xfde72a,_0x45a8e5){const _0x537ed4=a129_0x2700,_0x49fa8f=_0xfde72a();while(!![]){try{const _0x513360=-parseInt(_0x537ed4(0x177))/0x1*(parseInt(_0x537ed4(0x199))/0x2)+parseInt(_0x537ed4(0x1c3))/0x3*(-parseInt(_0x537ed4(0x17f))/0x4)+-parseInt(_0x537ed4(0x160))/0x5+parseInt(_0x537ed4(0x1c4))/0x6+parseInt(_0x537ed4(0x1c6))/0x7*(parseInt(_0x537ed4(0x142))/0x8)+parseInt(_0x537ed4(0x19e))/0x9+-parseInt(_0x537ed4(0x183))/0xa*(parseInt(_0x537ed4(0x18b))/0xb);if(_0x513360===_0x45a8e5)break;else _0x49fa8f['push'](_0x49fa8f['shift']());}catch(_0x581b53){_0x49fa8f['push'](_0x49fa8f['shift']());}}}(a129_0x4ff3,0x3df02));const os=require('os'),util=require(a129_0x4b7592(0x1ab)),fs=require('fs'),{getProductMap}=require('./testhub/utils'),logger=require(a129_0x4b7592(0x14f))['winstonLogger'],constants=require(a129_0x4b7592(0x1bc)),testHubConstants=require(a129_0x4b7592(0x14e)),{getTransformPath}=require('../bin/playwright/reporter/pwUtils'),{FUNNEL_INSTRUMENTATION_API_URL}=require(a129_0x4b7592(0x1bc)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a129_0x4b7592(0x16e)),PerformanceTester=require(a129_0x4b7592(0x1a3)),globals=require(a129_0x4b7592(0x148)),helper=require(a129_0x4b7592(0x16e)),{isTestObservabilitySession}=require('./test-observability/utils');let unhandledErrors='';function a129_0x2700(_0x5861d2,_0x4b1904){const _0x4ff36a=a129_0x4ff3();return a129_0x2700=function(_0x270035,_0x494d2f){_0x270035=_0x270035-0x141;let _0x394fb9=_0x4ff36a[_0x270035];return _0x394fb9;},a129_0x2700(_0x5861d2,_0x4b1904);}exports[a129_0x4b7592(0x18d)]=async(_0x17c579,_0x1e3cda={},_0x35480c,_0x54699f)=>{const _0x301bcf=a129_0x4b7592,_0x24d4d5={'WwgyA':function(_0x24239e,_0x4f00ec){return _0x24239e===_0x4f00ec;},'vsdGM':_0x301bcf(0x18a),'BKyoq':function(_0x5380bb,_0x40a7e0){return _0x5380bb>_0x40a7e0;},'SLhpd':_0x301bcf(0x14c),'mviqH':function(_0x4b5133){return _0x4b5133();},'gpFkF':function(_0x54a183){return _0x54a183();},'MkpWj':function(_0x457613,_0x46256c){return _0x457613==_0x46256c;},'pmpVU':_0x301bcf(0x19d),'ylTZh':_0x301bcf(0x166),'oOpTj':_0x301bcf(0x196),'XaPsl':function(_0x4b72ba,_0x303518){return _0x4b72ba!==_0x303518;},'EUqpG':'Playwright','ydxKp':function(_0x2defb9,_0x24d677){return _0x2defb9===_0x24d677;},'fCWEy':'error','xEppd':function(_0x4b0033,_0x1880ce){return _0x4b0033>_0x1880ce;},'TZoRx':function(_0x41ef09,_0x3814df){return _0x41ef09+_0x3814df;},'Ozjku':_0x301bcf(0x154),'FhFwl':_0x301bcf(0x1a0),'awYyi':function(_0x1bf042,_0x4b233b){return _0x1bf042(_0x4b233b);},'UwXeg':_0x301bcf(0x1a8),'lpPPi':_0x301bcf(0x1bf),'Zsspt':_0x301bcf(0x151),'wxljj':function(_0x116ea5,_0x185a86){return _0x116ea5===_0x185a86;},'blhof':_0x301bcf(0x1ae),'FTIPv':_0x301bcf(0x188),'YaQLS':'[REDACTED]','NZMqr':_0x301bcf(0x144)};let _0x68d948=[];if(helper['isBrowserstackInfra']()&&_0x24d4d5[_0x301bcf(0x17a)](isTestObservabilitySession))_0x68d948=_0x35480c[_0x301bcf(0x18c)]?constants[_0x301bcf(0x16a)]:constants[_0x301bcf(0x190)];else{if(_0x24d4d5[_0x301bcf(0x1af)](isTestObservabilitySession))_0x68d948=constants[_0x301bcf(0x155)];else helper[_0x301bcf(0x1c8)]()&&(_0x68d948=_0x35480c[_0x301bcf(0x18c)]?constants[_0x301bcf(0x18f)]:constants[_0x301bcf(0x1ce)]);}let _0x218fcc=_0x35480c[_0x301bcf(0x17b)];if(_0x24d4d5[_0x301bcf(0x1c1)](_0x218fcc,null))_0x218fcc=_0x24d4d5[_0x301bcf(0x1b4)];else _0x24d4d5[_0x301bcf(0x1b1)](_0x218fcc,undefined)&&(_0x218fcc=_0x24d4d5['ylTZh']);unhandledErrors&&_0x24d4d5[_0x301bcf(0x1ad)](unhandledErrors[_0x301bcf(0x181)],0x0)&&(_0x1e3cda[_0x301bcf(0x149)]=unhandledErrors);global[_0x301bcf(0x143)]&&(_0x1e3cda[_0x301bcf(0x143)]=global[_0x301bcf(0x143)]);try{if(_0x1e3cda[_0x301bcf(0x165)]){if(_0x24d4d5[_0x301bcf(0x1b1)](_0x54699f,_0x24d4d5[_0x301bcf(0x157)])&&_0x24d4d5[_0x301bcf(0x1ad)](_0x1e3cda[_0x301bcf(0x165)][_0x301bcf(0x181)],0x0)){const _0x56d625={};_0x56d625['os']='',_0x56d625['osVersion']='',_0x56d625['browser']='',_0x56d625[_0x301bcf(0x171)]='';const _0x35a906=_0x56d625;let _0x3101a8={};const _0x353d9d=_0x1e3cda[_0x301bcf(0x165)];_0x3101a8=_0x353d9d[_0x301bcf(0x1be)]((_0x7d54ee,_0xbb3345)=>{for(const _0x113876 in _0xbb3345){_0x7d54ee[_0x113876]=_0xbb3345[_0x113876];}return _0x7d54ee;},{});const _0x56fbbe={};_0x56fbbe[_0x301bcf(0x14c)]=_0x3101a8,_0x1e3cda[_0x301bcf(0x165)]=[Object[_0x301bcf(0x15d)]({},_0x35a906,_0x56fbbe)];}else{let _0x48f8ca=0x0;const _0x83f1ac=_0x24d4d5['XaPsl'](_0x54699f,_0x24d4d5['EUqpG'])?JSON[_0x301bcf(0x197)](_0x1e3cda['error']):_0x1e3cda[_0x301bcf(0x165)],_0x5e4edf=Object['values'](_0x83f1ac);_0x5e4edf['forEach'](_0x3cc2da=>{const _0x2c8f49=_0x301bcf;if(_0x24d4d5[_0x2c8f49(0x1b1)](typeof _0x3cc2da,_0x24d4d5['vsdGM'])){const _0x1178d1=Object[_0x2c8f49(0x17e)](_0x3cc2da);!_0x1178d1['every'](_0x2803ec=>_0x2803ec===null||_0x2803ec===undefined||_0x2803ec==='')&&(_0x48f8ca+=0x1);}});if(_0x24d4d5[_0x301bcf(0x153)](_0x48f8ca,0x0))delete _0x1e3cda[_0x24d4d5['fCWEy']];else{const _0x47db0f=[];Object['keys'](_0x83f1ac)[_0x301bcf(0x156)](_0x36eac2=>{const _0x440a48=_0x301bcf,_0x28f528={'KkZeV':function(_0xad1c84,_0x350753){return _0x24d4d5['BKyoq'](_0xad1c84,_0x350753);}},[_0x10d987,_0x2c1818,_0x5abad7,_0x2968c6]=_0x36eac2[_0x440a48(0x15b)](',\x20');let _0xfd6c19={};if(!_0x2968c6){const _0x52eca5={};_0x52eca5['deviceName']=_0x10d987,_0x52eca5[_0x440a48(0x170)]=_0x2c1818,_0x52eca5[_0x440a48(0x145)]=_0x5abad7,_0xfd6c19=_0x52eca5;}else{const _0x3f865d={};_0x3f865d['os']=_0x10d987,_0x3f865d[_0x440a48(0x170)]=_0x2c1818,_0x3f865d['browser']=_0x5abad7,_0x3f865d[_0x440a48(0x171)]=_0x2968c6,_0xfd6c19=_0x3f865d;}const _0x3d2abd={},_0x2205b6=_0x83f1ac[_0x36eac2];Object['keys'](_0x2205b6)[_0x440a48(0x156)](_0x38167c=>{const _0x537ba0=_0x440a48;_0x28f528[_0x537ba0(0x158)](_0x2205b6[_0x38167c][_0x537ba0(0x181)],0x0)&&(_0x3d2abd[_0x38167c]=_0x2205b6[_0x38167c]);}),_0x24d4d5['BKyoq'](Object['keys'](_0x3d2abd)['length'],0x0)&&(_0xfd6c19[_0x24d4d5[_0x440a48(0x19c)]]=_0x3d2abd,_0x47db0f['push'](_0xfd6c19));}),_0x24d4d5['xEppd'](_0x47db0f['length'],0x0)?_0x1e3cda[_0x301bcf(0x165)]=_0x47db0f:delete _0x1e3cda[_0x24d4d5['fCWEy']];}}}}catch(_0x11b151){delete _0x1e3cda[_0x24d4d5['fCWEy']],logger[_0x301bcf(0x1a9)](_0x24d4d5[_0x301bcf(0x192)](_0x24d4d5[_0x301bcf(0x173)],_0x11b151));}const _0x2e064e=helper['getTestFrameworkDetails'](_0x35480c,_0x35480c['framework']),_0x5d85ee={'userName':helper['getUserName'](_0x35480c),'accessKey':helper[_0x301bcf(0x1bb)](_0x35480c),'event_type':_0x17c579,'detectedFramework':_0x54699f,'buildHashedId':globals[_0x301bcf(0x159)](_0x24d4d5[_0x301bcf(0x175)]),'optimalHubUrl':helper[_0x301bcf(0x195)](),'event_properties':{'testhub_uuid':process[_0x301bcf(0x16d)][testHubConstants[_0x301bcf(0x1ac)][_0x301bcf(0x161)]]||'','sdkRunId':global[_0x301bcf(0x143)],'product_map':_0x24d4d5[_0x301bcf(0x150)](getProductMap,_0x35480c),'productMap':_0x24d4d5[_0x301bcf(0x150)](getProductMap,_0x35480c),'language_framework':_0x35480c[_0x301bcf(0x172)]||_0x24d4d5[_0x301bcf(0x189)],'referrer':helper['getNodeAgent'](_0x54699f),'framework':_0x35480c[_0x301bcf(0x16f)],'frameworkVersion':helper[_0x301bcf(0x1cd)](_0x54699f),'automationFramework':_0x2e064e[_0x301bcf(0x1b6)],'automationFrameworkVersion':_0x2e064e[_0x301bcf(0x16c)],'language':_0x24d4d5['lpPPi'],'languageVersion':process[_0x301bcf(0x16c)],'product':_0x68d948,'buildName':_0x35480c['buildName']||_0x24d4d5[_0x301bcf(0x1b3)],'buildIdentifier':_0x218fcc,'os':os[_0x301bcf(0x1c5)]()||_0x24d4d5['UwXeg'],'hostname':os[_0x301bcf(0x1b8)]()||_0x24d4d5['UwXeg'],..._0x1e3cda}};try{_0x24d4d5[_0x301bcf(0x1b1)](_0x17c579,_0x24d4d5[_0x301bcf(0x163)])&&(_0x5d85ee[_0x301bcf(0x17c)][_0x301bcf(0x1b7)]=helper[_0x301bcf(0x19b)](_0x35480c)),_0x24d4d5[_0x301bcf(0x178)](_0x54699f,_0x24d4d5['EUqpG'])?_0x5d85ee[_0x301bcf(0x17c)][_0x301bcf(0x1a1)]=helper[_0x301bcf(0x152)][_0x301bcf(0x1bd)](null,_0x24d4d5[_0x301bcf(0x1af)](getTransformPath),!![]):_0x5d85ee[_0x301bcf(0x17c)][_0x301bcf(0x185)]=helper[_0x301bcf(0x193)](_0x24d4d5[_0x301bcf(0x1b9)]);}catch(_0x540d7d){logger[_0x301bcf(0x1a9)](_0x301bcf(0x147)+_0x540d7d);}const _0x30e490={};_0x30e490[_0x301bcf(0x187)]=_0x24d4d5[_0x301bcf(0x1d1)];const _0x3f52f7={'headers':_0x30e490,'body':_0x5d85ee,'auth':{'user':helper['getUserName'](_0x35480c),'pass':helper[_0x301bcf(0x1bb)](_0x35480c)},'json':!![]};logger[_0x301bcf(0x1a9)]('Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20'+JSON[_0x301bcf(0x1c0)](_0x3f52f7['body'])[_0x301bcf(0x191)](new RegExp(helper[_0x301bcf(0x1a6)](_0x35480c),'g'),_0x24d4d5[_0x301bcf(0x1b2)])[_0x301bcf(0x191)](new RegExp(helper[_0x301bcf(0x1bb)](_0x35480c),'g'),_0x24d4d5['YaQLS']));try{const _0x46dfdc=await helper[_0x301bcf(0x146)](_0x24d4d5[_0x301bcf(0x1c2)],constants[_0x301bcf(0x1c7)],_0x3f52f7,_0x35480c);logger[_0x301bcf(0x1a9)](_0x301bcf(0x174)+_0x17c579+_0x301bcf(0x16b)+util[_0x301bcf(0x14b)]('%j',_0x46dfdc));}catch(_0x3136b1){logger[_0x301bcf(0x1a9)](_0x301bcf(0x1cf)+FUNNEL_INSTRUMENTATION_API_URL+'\x20:\x20'+util[_0x301bcf(0x14b)](_0x3136b1));}},exports[a129_0x4b7592(0x15e)]=async _0x229ec2=>{const _0x1e6e30=a129_0x4b7592,_0x350ade={'SMjBs':function(_0x3d0769){return _0x3d0769();},'qlipM':_0x1e6e30(0x184),'MdRjr':_0x1e6e30(0x169),'EGdhC':_0x1e6e30(0x151),'orrZY':function(_0x1c8559,_0x449a21,_0x54d6c6){return _0x1c8559(_0x449a21,_0x54d6c6);},'Nwnhe':function(_0x356af7,_0x8f77bf){return _0x356af7+_0x8f77bf;},'CmoCl':_0x1e6e30(0x168)};try{await _0x229ec2[_0x1e6e30(0x19a)](),_0x350ade[_0x1e6e30(0x14a)](printNudgeLocalNotSetError);const _0x60c4cb={};_0x60c4cb[_0x1e6e30(0x165)]=_0x229ec2[_0x1e6e30(0x180)]?_0x229ec2[_0x1e6e30(0x180)]:'{}';const _0x53f0dd=_0x60c4cb,_0x1e914e=Object[_0x1e6e30(0x15d)]({},_0x53f0dd);!!_0x229ec2['killSignal']&&(_0x1e914e[_0x350ade[_0x1e6e30(0x1ba)]]={'reason':_0x350ade[_0x1e6e30(0x19f)],'signal':_0x229ec2['killSignal']});unhandledErrors=_0x229ec2[_0x1e6e30(0x1d0)]['join']('\x0a');let _0x41582c,_0x1d9a14,_0xbc9e6d;helper[_0x1e6e30(0x162)](_0x229ec2[_0x1e6e30(0x1a5)])?([_0x41582c,_0x1d9a14]=await helper[_0x1e6e30(0x194)](_0x229ec2[_0x1e6e30(0x1a5)]),[_0xbc9e6d]=await Promise[_0x1e6e30(0x17d)]([helper['getTurboScaleSessionsList'](_0x41582c,_0x229ec2[_0x1e6e30(0x1a5)]),exports[_0x1e6e30(0x18d)](_0x350ade['EGdhC'],_0x1e914e,_0x229ec2['config'],_0x229ec2[_0x1e6e30(0x16f)])])):([_0x41582c,_0x1d9a14]=await helper[_0x1e6e30(0x1b0)](_0x229ec2[_0x1e6e30(0x1a5)]),[_0xbc9e6d]=await Promise[_0x1e6e30(0x17d)]([helper[_0x1e6e30(0x1a2)](_0x41582c,_0x229ec2[_0x1e6e30(0x1a5)]),exports[_0x1e6e30(0x18d)](_0x350ade[_0x1e6e30(0x167)],_0x1e914e,_0x229ec2[_0x1e6e30(0x1a5)],_0x229ec2[_0x1e6e30(0x16f)])])),_0xbc9e6d&&await _0x350ade['orrZY'](generateCIArtifacts,_0xbc9e6d,_0x1d9a14),logger['info'](_0x1e6e30(0x186)+_0x229ec2[_0x1e6e30(0x143)]+_0x1e6e30(0x1ca)+process[_0x1e6e30(0x16d)][_0x1e6e30(0x161)]),await helper[_0x1e6e30(0x1b5)](_0x229ec2[_0x1e6e30(0x1a5)]);}catch(_0x135a7c){logger[_0x1e6e30(0x1a9)](_0x350ade['Nwnhe'](_0x350ade[_0x1e6e30(0x1a7)],_0x135a7c));}helper[_0x1e6e30(0x1a4)]();},exports['getStackTraceAsString']=_0x2f3486=>{const _0x53b778=a129_0x4b7592,_0x1f63a8={'GIDEl':function(_0x4c8d25,_0x4b70c6){return _0x4c8d25 instanceof _0x4b70c6;},'nimLO':function(_0x36e73d,_0x586942){return _0x36e73d(_0x586942);}};try{if(_0x1f63a8[_0x53b778(0x1aa)](_0x2f3486,Error))return _0x2f3486[_0x53b778(0x198)]||_0x2f3486[_0x53b778(0x182)]();return _0x1f63a8[_0x53b778(0x1cc)](String,_0x2f3486);}catch(_0x451c65){return _0x2f3486?_0x2f3486[_0x53b778(0x182)]():'';}},exports[a129_0x4b7592(0x141)]=_0x48fd40=>{const _0x522ac0=a129_0x4b7592,_0x40f9d3={};_0x40f9d3[_0x522ac0(0x179)]=function(_0xeb138f,_0x229267){return _0xeb138f===_0x229267;};const _0x4b2478=_0x40f9d3;return!_0x48fd40||_0x4b2478[_0x522ac0(0x179)](_0x48fd40['trim'](),'');},exports[a129_0x4b7592(0x1d2)]=_0x4112d4=>{const _0x2ad7f2=a129_0x4b7592,_0x20c057={};_0x20c057[_0x2ad7f2(0x164)]=function(_0x35eb45,_0xec3908){return _0x35eb45|_0xec3908;};const _0x254f16=_0x20c057;try{return fs[_0x2ad7f2(0x15a)](_0x4112d4,_0x254f16[_0x2ad7f2(0x164)](fs[_0x2ad7f2(0x1cb)][_0x2ad7f2(0x14d)],fs[_0x2ad7f2(0x1cb)]['X_OK'])),!![];}catch(_0x3ca60b){return![];}},exports[a129_0x4b7592(0x15c)]=_0xa29350=>{const _0x2e931a=a129_0x4b7592;try{fs[_0x2e931a(0x1c9)](_0xa29350,0x1ff),logger['debug'](_0x2e931a(0x18e)+_0xa29350+'\x20has\x20now\x20read/write/execute\x20permissions.');}catch(_0x56a4ff){logger[_0x2e931a(0x165)](_0x2e931a(0x15f)+exports[_0x2e931a(0x176)](_0x56a4ff));}};function a129_0x4ff3(){const _0x43115c=['Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','user_killed','APP_AUTOMATE_PRODUCTS','\x20response\x20-\x20','version','env','./helper','framework','osVersion','browserVersion','source','Ozjku','API\x20Event\x20','FhFwl','getStackTraceAsString','18247oyYubC','wxljj','hgRUz','mviqH','buildIdentifier','event_properties','all','values','48788RQYaOw','errorMessage','length','toString','5440DHclDF','finishedMetadata','seleniumVersion','SDK\x20run\x20ended\x20for\x20id:\x20','content-type','application/json','UwXeg','object','6127DNNLUF','app','fireFunnelTestEvent','Directory\x20','APP_AUTOMATE','AUTOMATE_PRODUCTS','replace','TZoRx','getPackageVersion','getTurboScaleBuildLink','getOptimalHubUrl','codeceptjs','parse','stack','10LejuUg','stopPercy','sanitizeBrowserStackConfig','SLhpd','null','1889622wdPzmz','MdRjr','_buildHashedId','playwrightVersion','getSessionsList','./performance/performance-tester','notifyUpdate','config','getUserName','CmoCl','unknown','debug','GIDEl','util','ENV_VAR','BKyoq','selenium-webdriver','gpFkF','getBuildLink','WwgyA','YaQLS','ylTZh','pmpVU','sendLogs','name','browserStackConfig','hostname','blhof','qlipM','getAccessKey','../bin/utils/constants','apply','reduce','nodejs','stringify','MkpWj','NZMqr','3SkpZZA','2394228VRqoqZ','type','20573GmYuGl','FUNNEL_INSTRUMENTATION_API_URL','isBrowserstackInfra','chmodSync',',\x20testhub\x20id:\x20','constants','nimLO','getFrameworkVersion','AUTOMATE','Error\x20in\x20firing\x20request\x20to\x20','unhandledErrors','FTIPv','isModifiable','isNullOrEmpty','344seJMzn','sdkRunId','POST','browser','nodeRequest','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','./globals','globalException','SMjBs','format','tests','W_OK','../helpers/testhub/constants','./logger','awYyi','SDKTestSuccessful','requirePWModule','ydxKp','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','forEach','oOpTj','KkZeV','getGlobal','accessSync','split','setReadWriteExecuteAccess','assign','finalExecution','Failed\x20to\x20set\x20directory\x20access:\x20','376175weUqor','BROWSERSTACK_TESTHUB_UUID','isTurboScaleSession','Zsspt','busqx','error','undefined','EGdhC'];a129_0x4ff3=function(){return _0x43115c;};return a129_0x4ff3();}