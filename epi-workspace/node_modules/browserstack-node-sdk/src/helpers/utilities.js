const a139_0x2c36c8=a139_0x2a92;(function(_0x14b9d1,_0xed0b4f){const _0xbd4999=a139_0x2a92,_0x1cd05f=_0x14b9d1();while(!![]){try{const _0x5ea89a=-parseInt(_0xbd4999(0xd6))/0x1*(parseInt(_0xbd4999(0xff))/0x2)+parseInt(_0xbd4999(0xbc))/0x3+-parseInt(_0xbd4999(0x12b))/0x4+-parseInt(_0xbd4999(0xc7))/0x5*(-parseInt(_0xbd4999(0x135))/0x6)+-parseInt(_0xbd4999(0x10e))/0x7*(-parseInt(_0xbd4999(0x104))/0x8)+parseInt(_0xbd4999(0xe0))/0x9*(-parseInt(_0xbd4999(0xd4))/0xa)+parseInt(_0xbd4999(0xcb))/0xb*(-parseInt(_0xbd4999(0x141))/0xc);if(_0x5ea89a===_0xed0b4f)break;else _0x1cd05f['push'](_0x1cd05f['shift']());}catch(_0x4fca95){_0x1cd05f['push'](_0x1cd05f['shift']());}}}(a139_0x237d,0x7540a));function a139_0x237d(){const _0x5cfe3a=['AUTOMATE_PRODUCTS','PgKBS','pfHAJ','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','trim','W_OK','ENV_VAR','../bin/playwright/reporter/pwUtils','API\x20Event\x20','accessSync','keys','getBuildLink','codeceptjs','getAccessKey','debug','killSignal','finishedMetadata','DTujP','isBrowserstackInfra','sdkRunId','getUserName','reduce','AYeEf','744892fJbNmX','APP_AUTOMATE_PRODUCTS','nDvRp','Playwright','version','leNMA','tests','browser','undefined','getTestFrameworkDetails','240znRzei','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','winstonLogger','requirePWModule','errorMessage','parse','SDK\x20run\x20ended\x20for\x20id:\x20','isTurboScaleSession','getNodeAgent','getStackTraceAsString','KDVtF','isNullOrEmpty','1152048ZGjLqy','getTurboScaleBuildLink','unhandledErrors','Directory\x20','chmodSync','all','user_killed','ZxJRR','../bin/utils/constants','676602VexkYa','util','Tfmih','\x20:\x20','getFrameworkVersion','GIJCl','mHYsl','unknown','stack','push','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','106835AymjEl','fTvkx','uaRdm','UFZfQ','22ENACMe','source','UKPSn','format','TxUoC','MiPyj','CCqoA','BROWSERSTACK_TESTHUB_UUID','getGlobal','130iRKjyd','assign','9857JojUsb','SDKTestSuccessful','bSBWB','info','error','fZypo','./globals','gaigx','env','app','447723vMotNL','values','forEach','config','setReadWriteExecuteAccess','constants','stringify','TwmjJ','POST','mrwai','finalExecution','lZsFg','buildIdentifier','null','NvUQR','fireFunnelTestEvent','stopPercy','body','every','xbMhn','name','NeKxG','length','BMFzV','AJQKp','seleniumVersion','osVersion','application/json','deviceName','Error\x20in\x20firing\x20request\x20to\x20','JcAlV','4VAFvYg','AUTOMATE','YYFhZ','buildName','\x20response\x20-\x20','792YhETmo','exzhr','framework','nodejs','AVvjU','./helper','getOptimalHubUrl','playwrightVersion','./performance/performance-tester','./logger','31444JkUSeg','replace','getTurboScaleSessionsList','join','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','event_properties'];a139_0x237d=function(){return _0x5cfe3a;};return a139_0x237d();}function a139_0x2a92(_0xd5781d,_0x1d1cce){const _0x237d0c=a139_0x237d();return a139_0x2a92=function(_0x2a927f,_0x2c24bc){_0x2a927f=_0x2a927f-0xb7;let _0x3cc66e=_0x237d0c[_0x2a927f];return _0x3cc66e;},a139_0x2a92(_0xd5781d,_0x1d1cce);}const os=require('os'),util=require(a139_0x2c36c8(0xbd)),fs=require('fs'),{getProductMap}=require('./testhub/utils'),logger=require(a139_0x2c36c8(0x10d))[a139_0x2c36c8(0x137)],constants=require(a139_0x2c36c8(0xbb)),testHubConstants=require('../helpers/testhub/constants'),{getTransformPath}=require(a139_0x2c36c8(0x11b)),{FUNNEL_INSTRUMENTATION_API_URL}=require('../bin/utils/constants'),{generateCIArtifacts,printNudgeLocalNotSetError}=require('./helper'),PerformanceTester=require(a139_0x2c36c8(0x10c)),globals=require(a139_0x2c36c8(0xdc)),helper=require(a139_0x2c36c8(0x109)),{isTestObservabilitySession}=require('./test-observability/utils');let unhandledErrors='';exports['fireFunnelTestEvent']=async(_0x51f372,_0x1c56c6={},_0x551c00,_0x4e849b)=>{const _0x2962f0=a139_0x2c36c8,_0x5ebebf={'JcAlV':function(_0x4a4551,_0x470188){return _0x4a4551===_0x470188;},'LvnJr':'object','PgKBS':function(_0x19ccf6,_0x46a79e){return _0x19ccf6>_0x46a79e;},'TwmjJ':_0x2962f0(0x131),'ZxJRR':function(_0x108d9c){return _0x108d9c();},'nDvRp':function(_0x4af312){return _0x4af312();},'eLVAu':function(_0x6ca2ac,_0x4b69ac){return _0x6ca2ac==_0x4b69ac;},'YYFhZ':_0x2962f0(0xed),'AVvjU':_0x2962f0(0x133),'UFZfQ':_0x2962f0(0x120),'mrwai':function(_0x1020a4,_0x7cdaba){return _0x1020a4>_0x7cdaba;},'lZsFg':function(_0x5a1254,_0x10e301){return _0x5a1254!==_0x10e301;},'pfHAJ':_0x2962f0(0x12e),'exzhr':function(_0x5700c9,_0x28f221){return _0x5700c9===_0x28f221;},'GIJCl':_0x2962f0(0xda),'UUpbt':function(_0x7d4749,_0x1c72f7){return _0x7d4749+_0x1c72f7;},'xbMhn':_0x2962f0(0xc6),'mHYsl':'_buildHashedId','TxUoC':function(_0x5127e0,_0x22435e){return _0x5127e0(_0x22435e);},'KDVtF':_0x2962f0(0xc3),'BMFzV':_0x2962f0(0x107),'leNMA':_0x2962f0(0xd7),'AJQKp':'selenium-webdriver','CCqoA':_0x2962f0(0xfb),'uaRdm':'[REDACTED]','gaigx':_0x2962f0(0xe8)};let _0x2ce94f=[];if(helper[_0x2962f0(0x126)]()&&_0x5ebebf[_0x2962f0(0xba)](isTestObservabilitySession))_0x2ce94f=_0x551c00[_0x2962f0(0xdf)]?constants[_0x2962f0(0x12c)]:constants[_0x2962f0(0x114)];else{if(_0x5ebebf[_0x2962f0(0x12d)](isTestObservabilitySession))_0x2ce94f=constants[_0x2962f0(0x136)];else helper['isBrowserstackInfra']()&&(_0x2ce94f=_0x551c00[_0x2962f0(0xdf)]?constants['APP_AUTOMATE']:constants[_0x2962f0(0x100)]);}let _0x3fa51f=_0x551c00[_0x2962f0(0xec)];if(_0x5ebebf['eLVAu'](_0x3fa51f,null))_0x3fa51f=_0x5ebebf[_0x2962f0(0x101)];else _0x5ebebf['JcAlV'](_0x3fa51f,undefined)&&(_0x3fa51f=_0x5ebebf[_0x2962f0(0x108)]);unhandledErrors&&_0x5ebebf['PgKBS'](unhandledErrors[_0x2962f0(0xf6)],0x0)&&(_0x1c56c6['globalException']=unhandledErrors);global[_0x2962f0(0x127)]&&(_0x1c56c6[_0x2962f0(0x127)]=global[_0x2962f0(0x127)]);try{if(_0x1c56c6['error']){if(_0x5ebebf[_0x2962f0(0xfe)](_0x4e849b,_0x5ebebf[_0x2962f0(0xca)])&&_0x5ebebf[_0x2962f0(0xe9)](_0x1c56c6['error'][_0x2962f0(0xf6)],0x0)){const _0x422168={};_0x422168['os']='',_0x422168[_0x2962f0(0xfa)]='',_0x422168[_0x2962f0(0x132)]='',_0x422168['browserVersion']='';const _0x2b956b=_0x422168;let _0x4ca573={};const _0x1eed9f=_0x1c56c6['error'];_0x4ca573=_0x1eed9f[_0x2962f0(0x129)]((_0x7d924a,_0x34494c)=>{for(const _0x493b1a in _0x34494c){_0x7d924a[_0x493b1a]=_0x34494c[_0x493b1a];}return _0x7d924a;},{});const _0x4c6520={};_0x4c6520['tests']=_0x4ca573,_0x1c56c6[_0x2962f0(0xda)]=[Object[_0x2962f0(0xd5)]({},_0x2b956b,_0x4c6520)];}else{let _0x407783=0x0;const _0x525305=_0x5ebebf[_0x2962f0(0xeb)](_0x4e849b,_0x5ebebf[_0x2962f0(0x116)])?JSON[_0x2962f0(0x13a)](_0x1c56c6[_0x2962f0(0xda)]):_0x1c56c6[_0x2962f0(0xda)],_0x58f2fc=Object[_0x2962f0(0xe1)](_0x525305);_0x58f2fc[_0x2962f0(0xe2)](_0x3b4812=>{const _0x3d9a27=_0x2962f0;if(_0x5ebebf['JcAlV'](typeof _0x3b4812,_0x5ebebf['LvnJr'])){const _0x15df68=Object['values'](_0x3b4812);!_0x15df68[_0x3d9a27(0xf2)](_0x1f570d=>_0x1f570d===null||_0x1f570d===undefined||_0x1f570d==='')&&(_0x407783+=0x1);}});if(_0x5ebebf['exzhr'](_0x407783,0x0))delete _0x1c56c6[_0x5ebebf[_0x2962f0(0xc1)]];else{const _0x282fb9=[];Object['keys'](_0x525305)[_0x2962f0(0xe2)](_0xbd8530=>{const _0x25439e=_0x2962f0,_0x3aa81b={'AYeEf':function(_0x4b67e1,_0x1b6fa4){const _0xde4bd0=a139_0x2a92;return _0x5ebebf[_0xde4bd0(0x115)](_0x4b67e1,_0x1b6fa4);}},[_0x26f4f0,_0x4234bb,_0x15131d,_0x39c85a]=_0xbd8530['split'](',\x20');let _0xdc3bb9={};if(!_0x39c85a){const _0x49d43f={};_0x49d43f[_0x25439e(0xfc)]=_0x26f4f0,_0x49d43f[_0x25439e(0xfa)]=_0x4234bb,_0x49d43f['browser']=_0x15131d,_0xdc3bb9=_0x49d43f;}else{const _0x2892c6={};_0x2892c6['os']=_0x26f4f0,_0x2892c6['osVersion']=_0x4234bb,_0x2892c6[_0x25439e(0x132)]=_0x15131d,_0x2892c6['browserVersion']=_0x39c85a,_0xdc3bb9=_0x2892c6;}const _0xe7a73f={},_0x5f31d5=_0x525305[_0xbd8530];Object['keys'](_0x5f31d5)[_0x25439e(0xe2)](_0x3e147b=>{const _0x5b770d=_0x25439e;_0x3aa81b[_0x5b770d(0x12a)](_0x5f31d5[_0x3e147b]['length'],0x0)&&(_0xe7a73f[_0x3e147b]=_0x5f31d5[_0x3e147b]);}),_0x5ebebf['PgKBS'](Object[_0x25439e(0x11e)](_0xe7a73f)[_0x25439e(0xf6)],0x0)&&(_0xdc3bb9[_0x5ebebf[_0x25439e(0xe7)]]=_0xe7a73f,_0x282fb9[_0x25439e(0xc5)](_0xdc3bb9));}),_0x5ebebf[_0x2962f0(0xe9)](_0x282fb9[_0x2962f0(0xf6)],0x0)?_0x1c56c6[_0x2962f0(0xda)]=_0x282fb9:delete _0x1c56c6[_0x5ebebf[_0x2962f0(0xc1)]];}}}}catch(_0x4a9b60){delete _0x1c56c6[_0x5ebebf[_0x2962f0(0xc1)]],logger[_0x2962f0(0x122)](_0x5ebebf['UUpbt'](_0x5ebebf[_0x2962f0(0xf3)],_0x4a9b60));}const _0x1cd36e=helper[_0x2962f0(0x134)](_0x551c00,_0x551c00['framework']),_0x509a15={'userName':helper[_0x2962f0(0x128)](_0x551c00),'accessKey':helper['getAccessKey'](_0x551c00),'event_type':_0x51f372,'detectedFramework':_0x4e849b,'buildHashedId':globals[_0x2962f0(0xd3)](_0x5ebebf[_0x2962f0(0xc2)]),'optimalHubUrl':helper[_0x2962f0(0x10a)](),'event_properties':{'testhub_uuid':process['env'][testHubConstants[_0x2962f0(0x11a)][_0x2962f0(0xd2)]]||'','sdkRunId':global[_0x2962f0(0x127)],'product_map':_0x5ebebf['TxUoC'](getProductMap,_0x551c00),'productMap':_0x5ebebf[_0x2962f0(0xcf)](getProductMap,_0x551c00),'language_framework':_0x551c00[_0x2962f0(0xcc)]||_0x5ebebf[_0x2962f0(0x13f)],'referrer':helper[_0x2962f0(0x13d)](_0x4e849b),'framework':_0x551c00['framework'],'frameworkVersion':helper[_0x2962f0(0xc0)](_0x4e849b),'automationFramework':_0x1cd36e[_0x2962f0(0xf4)],'automationFrameworkVersion':_0x1cd36e['version'],'language':_0x5ebebf[_0x2962f0(0xf7)],'languageVersion':process[_0x2962f0(0x12f)],'product':_0x2ce94f,'buildName':_0x551c00[_0x2962f0(0x102)]||_0x5ebebf[_0x2962f0(0x108)],'buildIdentifier':_0x3fa51f,'os':os['type']()||_0x5ebebf[_0x2962f0(0x13f)],'hostname':os['hostname']()||_0x5ebebf[_0x2962f0(0x13f)],..._0x1c56c6}};try{_0x5ebebf[_0x2962f0(0x105)](_0x51f372,_0x5ebebf[_0x2962f0(0x130)])&&(_0x509a15[_0x2962f0(0x113)]['browserStackConfig']=helper['sanitizeBrowserStackConfig'](_0x551c00)),_0x5ebebf[_0x2962f0(0x105)](_0x4e849b,_0x5ebebf[_0x2962f0(0x116)])?_0x509a15['event_properties'][_0x2962f0(0x10b)]=helper[_0x2962f0(0x138)]['apply'](null,_0x5ebebf[_0x2962f0(0x12d)](getTransformPath),!![]):_0x509a15[_0x2962f0(0x113)][_0x2962f0(0xf9)]=helper['getPackageVersion'](_0x5ebebf[_0x2962f0(0xf8)]);}catch(_0x2dde7a){logger[_0x2962f0(0x122)]('Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20'+_0x2dde7a);}const _0x49ea03={};_0x49ea03['content-type']=_0x5ebebf[_0x2962f0(0xd1)];const _0x26c144={'headers':_0x49ea03,'body':_0x509a15,'auth':{'user':helper['getUserName'](_0x551c00),'pass':helper[_0x2962f0(0x121)](_0x551c00)},'json':!![]};logger[_0x2962f0(0x122)](_0x2962f0(0x117)+JSON[_0x2962f0(0xe6)](_0x26c144[_0x2962f0(0xf1)])[_0x2962f0(0x10f)](new RegExp(helper[_0x2962f0(0x128)](_0x551c00),'g'),_0x5ebebf['uaRdm'])[_0x2962f0(0x10f)](new RegExp(helper[_0x2962f0(0x121)](_0x551c00),'g'),_0x5ebebf[_0x2962f0(0xc9)]));try{const _0x31978b=await helper['nodeRequest'](_0x5ebebf[_0x2962f0(0xdd)],FUNNEL_INSTRUMENTATION_API_URL,_0x26c144,_0x551c00);logger[_0x2962f0(0x122)](_0x2962f0(0x11c)+_0x51f372+_0x2962f0(0x103)+util[_0x2962f0(0xce)]('%j',_0x31978b));}catch(_0x6a5cec){logger[_0x2962f0(0x122)](_0x2962f0(0xfd)+FUNNEL_INSTRUMENTATION_API_URL+_0x2962f0(0xbf)+util[_0x2962f0(0xce)](_0x6a5cec));}},exports[a139_0x2c36c8(0xea)]=async _0x28381b=>{const _0xf9d112=a139_0x2c36c8,_0x47b5e0={'aloWj':function(_0x3b33c7){return _0x3b33c7();},'NvUQR':_0xf9d112(0x124),'fZypo':_0xf9d112(0xb9),'RrcFd':'SDKTestSuccessful','bSBWB':function(_0xe5cb5b,_0x11cb2a,_0x177ad0){return _0xe5cb5b(_0x11cb2a,_0x177ad0);},'DTujP':function(_0x87a97d,_0x3d4c4a){return _0x87a97d+_0x3d4c4a;},'UKPSn':_0xf9d112(0x112)};try{await _0x28381b[_0xf9d112(0xf0)](),_0x47b5e0['aloWj'](printNudgeLocalNotSetError);const _0x3b1827={};_0x3b1827[_0xf9d112(0xda)]=_0x28381b['errorMessage']?_0x28381b[_0xf9d112(0x139)]:'{}';const _0x596586=_0x3b1827,_0x18ae48=Object[_0xf9d112(0xd5)]({},_0x596586);!!_0x28381b['killSignal']&&(_0x18ae48[_0x47b5e0[_0xf9d112(0xee)]]={'reason':_0x47b5e0[_0xf9d112(0xdb)],'signal':_0x28381b[_0xf9d112(0x123)]});unhandledErrors=_0x28381b[_0xf9d112(0x143)][_0xf9d112(0x111)]('\x0a');let _0x288884,_0x49313b,_0x54ee4d;helper[_0xf9d112(0x13c)](_0x28381b[_0xf9d112(0xe3)])?([_0x288884,_0x49313b]=await helper[_0xf9d112(0x142)](_0x28381b[_0xf9d112(0xe3)]),[_0x54ee4d]=await Promise[_0xf9d112(0xb8)]([helper[_0xf9d112(0x110)](_0x288884,_0x28381b[_0xf9d112(0xe3)]),exports[_0xf9d112(0xef)](_0x47b5e0['RrcFd'],_0x18ae48,_0x28381b['config'],_0x28381b[_0xf9d112(0x106)])])):([_0x288884,_0x49313b]=await helper[_0xf9d112(0x11f)](_0x28381b[_0xf9d112(0xe3)]),[_0x54ee4d]=await Promise[_0xf9d112(0xb8)]([helper['getSessionsList'](_0x288884,_0x28381b[_0xf9d112(0xe3)]),exports[_0xf9d112(0xef)](_0x47b5e0['RrcFd'],_0x18ae48,_0x28381b[_0xf9d112(0xe3)],_0x28381b[_0xf9d112(0x106)])])),_0x54ee4d&&await _0x47b5e0[_0xf9d112(0xd8)](generateCIArtifacts,_0x54ee4d,_0x49313b),logger[_0xf9d112(0xd9)](_0xf9d112(0x13b)+_0x28381b['sdkRunId']+',\x20testhub\x20id:\x20'+process[_0xf9d112(0xde)][_0xf9d112(0xd2)]),await helper['sendLogs'](_0x28381b[_0xf9d112(0xe3)]);}catch(_0x3e4076){logger[_0xf9d112(0x122)](_0x47b5e0[_0xf9d112(0x125)](_0x47b5e0[_0xf9d112(0xcd)],_0x3e4076));}helper['notifyUpdate']();},exports[a139_0x2c36c8(0x13e)]=_0x3ef151=>{const _0x3fec7d=a139_0x2c36c8,_0x1b8340={'MiPyj':function(_0x115a51,_0x33e745){return _0x115a51 instanceof _0x33e745;},'Tfmih':function(_0x1fa390,_0x41dd60){return _0x1fa390(_0x41dd60);}};try{if(_0x1b8340[_0x3fec7d(0xd0)](_0x3ef151,Error))return _0x3ef151[_0x3fec7d(0xc4)]||_0x3ef151['toString']();return _0x1b8340[_0x3fec7d(0xbe)](String,_0x3ef151);}catch(_0xabbccb){return _0x3ef151?_0x3ef151['toString']():'';}},exports[a139_0x2c36c8(0x140)]=_0x2ef96c=>{const _0x47304a=a139_0x2c36c8,_0x414772={};_0x414772[_0x47304a(0xf5)]=function(_0x23be1c,_0x1879c4){return _0x23be1c===_0x1879c4;};const _0x4961af=_0x414772;return!_0x2ef96c||_0x4961af[_0x47304a(0xf5)](_0x2ef96c[_0x47304a(0x118)](),'');},exports['isModifiable']=_0x1f5924=>{const _0x597f29=a139_0x2c36c8,_0x523b9e={};_0x523b9e[_0x597f29(0xc8)]=function(_0x46b060,_0x2a25fe){return _0x46b060|_0x2a25fe;};const _0x492fe=_0x523b9e;try{return fs[_0x597f29(0x11d)](_0x1f5924,_0x492fe[_0x597f29(0xc8)](fs[_0x597f29(0xe5)][_0x597f29(0x119)],fs[_0x597f29(0xe5)]['X_OK'])),!![];}catch(_0xad003f){return![];}},exports[a139_0x2c36c8(0xe4)]=_0x2787ee=>{const _0x4464b3=a139_0x2c36c8;try{fs[_0x4464b3(0xb7)](_0x2787ee,0x1ff),logger[_0x4464b3(0x122)](_0x4464b3(0x144)+_0x2787ee+'\x20has\x20now\x20read/write/execute\x20permissions.');}catch(_0x136fa7){logger[_0x4464b3(0xda)]('Failed\x20to\x20set\x20directory\x20access:\x20'+exports[_0x4464b3(0x13e)](_0x136fa7));}};