const a93_0x50e66d=a93_0x3821;function a93_0x3821(_0x51a89c,_0x175bd5){const _0x1960b7=a93_0x1960();return a93_0x3821=function(_0x382142,_0x3f683c){_0x382142=_0x382142-0x110;let _0x475500=_0x1960b7[_0x382142];return _0x475500;},a93_0x3821(_0x51a89c,_0x175bd5);}(function(_0x3992f3,_0x48b701){const _0x16b5c5=a93_0x3821,_0x302dfa=_0x3992f3();while(!![]){try{const _0x19b9ad=parseInt(_0x16b5c5(0x12a))/0x1+-parseInt(_0x16b5c5(0x181))/0x2+parseInt(_0x16b5c5(0x130))/0x3*(parseInt(_0x16b5c5(0x169))/0x4)+parseInt(_0x16b5c5(0x114))/0x5+parseInt(_0x16b5c5(0x15f))/0x6+-parseInt(_0x16b5c5(0x16d))/0x7+parseInt(_0x16b5c5(0x125))/0x8*(-parseInt(_0x16b5c5(0x121))/0x9);if(_0x19b9ad===_0x48b701)break;else _0x302dfa['push'](_0x302dfa['shift']());}catch(_0x14db4f){_0x302dfa['push'](_0x302dfa['shift']());}}}(a93_0x1960,0xe6ec6));const os=require('os'),util=require('util'),{getProductMap}=require('./testhub/utils'),logger=require(a93_0x50e66d(0x12d))['winstonLogger'],constants=require(a93_0x50e66d(0x11a)),testHubConstants=require('../helpers/testhub/constants'),{getTransformPath}=require(a93_0x50e66d(0x18a)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a93_0x50e66d(0x11a)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a93_0x50e66d(0x163)),PerformanceTester=require(a93_0x50e66d(0x158)),globals=require('./globals'),{isTurboScaleSession}=require('./ats/helper'),helper=require(a93_0x50e66d(0x163)),{isTestObservabilitySession}=require(a93_0x50e66d(0x187));function a93_0x1960(){const _0x23fe7f=['object','8780NqgWql','tests','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','Playwright','4053336gIPXSt','TmWeL','hoSRd','VXrnu','deviceName','finishedMetadata','yjaja','pSqfJ','nodejs','fireFunnelTestEvent','sendLogs','application/json','API\x20Event\x20','reduce','ZoHNY','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','APP_AUTOMATE_PRODUCTS','gpukg','HxNrn','2293892dPRsBG','length','body','ZUqZV','SDK\x20run\x20ended\x20for\x20id:\x20','KcjhS','./test-observability/utils','finalExecution','config','../bin/playwright/reporter/pwUtils','kJBbO','source','isBrowserstackInfra','FUNNEL_INSTRUMENTATION_API_URL','Error\x20in\x20firing\x20request\x20to\x20','browser','getBuildLink','app','6156380PKXtDC','error','undefined','\x20:\x20','all','IstTV','../bin/utils/constants','bbvXJ','forEach','getPackageVersion','push','playwrightVersion','globalException','27TKLsFE','debug','ArvzH','BROWSERSTACK_TESTHUB_UUID','5237584VlcAGe','errorMessage','env','buildName','browserStackConfig','1359426gxWofW','getTurboScaleBuildLink','unknown','./logger','liMSR','getAccessKey','1533rZChch','pfXOB','osVersion','getGlobal','liSLo','browserVersion','getFrameworkVersion','DlsQA','getUserName','nodeRequest','xPhGX','type','framework','AUTOMATE_PRODUCTS','LYQJu','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','vXjsY','apply','xhaXx','format','sanitizeBrowserStackConfig','xmRxk','getOptimalHubUrl','replace','info','[REDACTED]',',\x20testhub\x20id:\x20','killSignal','UBTLh','VGSId','AUTOMATE','sdkRunID','DTEWI','aeFNE','join','_buildHashedId','values','getTestFrameworkDetails','fgMPR','GwVRV','./performance/performance-tester','zHAsT','stopPercy','dBbCr','split','version','assign','5541618LDzorS','seleniumVersion','null','BZNhT','./helper','keys','hostname','selenium-webdriver','event_properties'];a93_0x1960=function(){return _0x23fe7f;};return a93_0x1960();}let unhandledErrors='';exports[a93_0x50e66d(0x176)]=async(_0x4ddc40,_0x3eaad3={},_0x4a8d28,_0x293da4)=>{const _0x5bcae7=a93_0x50e66d,_0x366d0f={'gpukg':function(_0xa49034,_0x3704f4){return _0xa49034===_0x3704f4;},'VGSId':_0x5bcae7(0x168),'HxNrn':function(_0x321456,_0x51109b){return _0x321456>_0x51109b;},'ZoHNY':_0x5bcae7(0x16a),'VXrnu':function(_0x2fbae4){return _0x2fbae4();},'rVgMG':function(_0x3c6427){return _0x3c6427();},'ZUqZV':function(_0x281473,_0xdd9f67){return _0x281473==_0xdd9f67;},'ArvzH':_0x5bcae7(0x161),'TmWeL':function(_0x48ba1a,_0x38922a){return _0x48ba1a===_0x38922a;},'hoSRd':_0x5bcae7(0x116),'xhaXx':function(_0x490549,_0x474fa4){return _0x490549>_0x474fa4;},'BZNhT':function(_0x265139,_0x457279){return _0x265139===_0x457279;},'kJBbO':'codeceptjs','UBTLh':function(_0x217eea,_0x2a5045){return _0x217eea!==_0x2a5045;},'LYQJu':_0x5bcae7(0x16c),'IstTV':_0x5bcae7(0x115),'pfXOB':function(_0x57b285,_0x327cdb){return _0x57b285>_0x327cdb;},'KcjhS':function(_0x383e97,_0x4fa40c){return _0x383e97+_0x4fa40c;},'GwVRV':_0x5bcae7(0x17d),'liMSR':_0x5bcae7(0x153),'DTEWI':function(_0x1447d3,_0x2ecf8c){return _0x1447d3(_0x2ecf8c);},'fgMPR':_0x5bcae7(0x12c),'vXjsY':_0x5bcae7(0x175),'liSLo':'SDKTestSuccessful','aeFNE':function(_0x62a350){return _0x62a350();},'QCmsh':_0x5bcae7(0x166),'pSqfJ':_0x5bcae7(0x178),'dBbCr':_0x5bcae7(0x149),'bbvXJ':'POST'};let _0x22dbb5=[];if(helper[_0x5bcae7(0x18d)]()&&_0x366d0f[_0x5bcae7(0x170)](isTestObservabilitySession))_0x22dbb5=_0x4a8d28['app']?constants[_0x5bcae7(0x17e)]:constants[_0x5bcae7(0x13d)];else{if(_0x366d0f['rVgMG'](isTestObservabilitySession))_0x22dbb5=constants[_0x5bcae7(0x13f)];else helper[_0x5bcae7(0x18d)]()&&(_0x22dbb5=_0x4a8d28[_0x5bcae7(0x113)]?constants['APP_AUTOMATE']:constants[_0x5bcae7(0x14e)]);}let _0x28e09a=_0x4a8d28['buildIdentifier'];if(_0x366d0f[_0x5bcae7(0x184)](_0x28e09a,null))_0x28e09a=_0x366d0f[_0x5bcae7(0x123)];else _0x366d0f[_0x5bcae7(0x16e)](_0x28e09a,undefined)&&(_0x28e09a=_0x366d0f['hoSRd']);unhandledErrors&&_0x366d0f[_0x5bcae7(0x142)](unhandledErrors[_0x5bcae7(0x182)],0x0)&&(_0x3eaad3[_0x5bcae7(0x120)]=unhandledErrors);global[_0x5bcae7(0x14f)]&&(_0x3eaad3['sdkRunId']=global[_0x5bcae7(0x14f)]);try{if(_0x3eaad3[_0x5bcae7(0x115)]){if(_0x366d0f[_0x5bcae7(0x162)](_0x293da4,_0x366d0f[_0x5bcae7(0x18b)])&&_0x366d0f[_0x5bcae7(0x142)](_0x3eaad3['error'][_0x5bcae7(0x182)],0x0)){const _0x34d4c9={};_0x34d4c9['os']='',_0x34d4c9[_0x5bcae7(0x132)]='',_0x34d4c9[_0x5bcae7(0x111)]='',_0x34d4c9[_0x5bcae7(0x135)]='';const _0x5ccdcb=_0x34d4c9;let _0x50fc84={};const _0xb7b4b7=_0x3eaad3[_0x5bcae7(0x115)];_0x50fc84=_0xb7b4b7[_0x5bcae7(0x17a)]((_0x37fb8a,_0x23aef2)=>{for(const _0x4087af in _0x23aef2){_0x37fb8a[_0x4087af]=_0x23aef2[_0x4087af];}return _0x37fb8a;},{});const _0x254680={};_0x254680[_0x5bcae7(0x16a)]=_0x50fc84,_0x3eaad3[_0x5bcae7(0x115)]=[Object[_0x5bcae7(0x15e)]({},_0x5ccdcb,_0x254680)];}else{let _0x43caf2=0x0;const _0x51dcb1=_0x366d0f[_0x5bcae7(0x14c)](_0x293da4,_0x366d0f[_0x5bcae7(0x13e)])?JSON['parse'](_0x3eaad3[_0x5bcae7(0x115)]):_0x3eaad3[_0x5bcae7(0x115)],_0x5858a8=Object[_0x5bcae7(0x154)](_0x51dcb1);_0x5858a8[_0x5bcae7(0x11c)](_0x290fe4=>{const _0x2f32b1=_0x5bcae7;if(_0x366d0f[_0x2f32b1(0x17f)](typeof _0x290fe4,_0x366d0f[_0x2f32b1(0x14d)])){const _0x40ad74=Object[_0x2f32b1(0x154)](_0x290fe4);!_0x40ad74['every'](_0x133d8f=>_0x133d8f===null||_0x133d8f===undefined||_0x133d8f==='')&&(_0x43caf2+=0x1);}});if(_0x366d0f[_0x5bcae7(0x16e)](_0x43caf2,0x0))delete _0x3eaad3[_0x366d0f[_0x5bcae7(0x119)]];else{const _0x928c2a=[];Object['keys'](_0x51dcb1)['forEach'](_0x24623f=>{const _0x3db816=_0x5bcae7,[_0x54800d,_0x13b7c7,_0x1f6e79,_0x4fe357]=_0x24623f[_0x3db816(0x15c)](',\x20');let _0x51b40d={};if(!_0x4fe357){const _0x45b533={};_0x45b533[_0x3db816(0x171)]=_0x54800d,_0x45b533['osVersion']=_0x13b7c7,_0x45b533['browser']=_0x1f6e79,_0x51b40d=_0x45b533;}else{const _0x4e8dc0={};_0x4e8dc0['os']=_0x54800d,_0x4e8dc0['osVersion']=_0x13b7c7,_0x4e8dc0[_0x3db816(0x111)]=_0x1f6e79,_0x4e8dc0['browserVersion']=_0x4fe357,_0x51b40d=_0x4e8dc0;}const _0x4f99d2={},_0xe75f0c=_0x51dcb1[_0x24623f];Object['keys'](_0xe75f0c)[_0x3db816(0x11c)](_0x5b53d3=>{const _0xd06f95=_0x3db816;_0x366d0f[_0xd06f95(0x180)](_0xe75f0c[_0x5b53d3][_0xd06f95(0x182)],0x0)&&(_0x4f99d2[_0x5b53d3]=_0xe75f0c[_0x5b53d3]);}),_0x366d0f[_0x3db816(0x180)](Object[_0x3db816(0x164)](_0x4f99d2)['length'],0x0)&&(_0x51b40d[_0x366d0f[_0x3db816(0x17b)]]=_0x4f99d2,_0x928c2a[_0x3db816(0x11e)](_0x51b40d));}),_0x366d0f[_0x5bcae7(0x131)](_0x928c2a[_0x5bcae7(0x182)],0x0)?_0x3eaad3[_0x5bcae7(0x115)]=_0x928c2a:delete _0x3eaad3[_0x366d0f['IstTV']];}}}}catch(_0x47d5de){delete _0x3eaad3[_0x366d0f[_0x5bcae7(0x119)]],logger[_0x5bcae7(0x122)](_0x366d0f[_0x5bcae7(0x186)](_0x366d0f[_0x5bcae7(0x157)],_0x47d5de));}const _0x2176fa=helper[_0x5bcae7(0x155)](_0x4a8d28,_0x4a8d28[_0x5bcae7(0x13c)]),_0xf45f4f={'userName':helper[_0x5bcae7(0x138)](_0x4a8d28),'accessKey':helper[_0x5bcae7(0x12f)](_0x4a8d28),'event_type':_0x4ddc40,'detectedFramework':_0x293da4,'buildHashedId':globals[_0x5bcae7(0x133)](_0x366d0f[_0x5bcae7(0x12e)]),'optimalHubUrl':helper[_0x5bcae7(0x146)](),'event_properties':{'testhub_uuid':process[_0x5bcae7(0x127)][testHubConstants['ENV_VAR']['BROWSERSTACK_TESTHUB_UUID']]||'','sdkRunId':global['sdkRunID'],'product_map':_0x366d0f[_0x5bcae7(0x150)](getProductMap,_0x4a8d28),'productMap':_0x366d0f[_0x5bcae7(0x150)](getProductMap,_0x4a8d28),'language_framework':_0x4a8d28[_0x5bcae7(0x18c)]||_0x366d0f[_0x5bcae7(0x156)],'referrer':helper['getNodeAgent'](_0x293da4),'framework':_0x4a8d28[_0x5bcae7(0x13c)],'frameworkVersion':helper[_0x5bcae7(0x136)](_0x293da4),'automationFramework':_0x2176fa['name'],'automationFrameworkVersion':_0x2176fa['version'],'language':_0x366d0f[_0x5bcae7(0x140)],'languageVersion':process[_0x5bcae7(0x15d)],'product':_0x22dbb5,'buildName':_0x4a8d28[_0x5bcae7(0x128)]||_0x366d0f[_0x5bcae7(0x16f)],'buildIdentifier':_0x28e09a,'os':os[_0x5bcae7(0x13b)]()||_0x366d0f[_0x5bcae7(0x156)],'hostname':os[_0x5bcae7(0x165)]()||_0x366d0f[_0x5bcae7(0x156)],..._0x3eaad3}};try{_0x366d0f[_0x5bcae7(0x17f)](_0x4ddc40,_0x366d0f[_0x5bcae7(0x134)])&&(_0xf45f4f[_0x5bcae7(0x167)][_0x5bcae7(0x129)]=helper[_0x5bcae7(0x144)](_0x4a8d28)),_0x366d0f[_0x5bcae7(0x162)](_0x293da4,_0x366d0f[_0x5bcae7(0x13e)])?_0xf45f4f[_0x5bcae7(0x167)][_0x5bcae7(0x11f)]=helper['requirePWModule'][_0x5bcae7(0x141)](null,_0x366d0f[_0x5bcae7(0x151)](getTransformPath),!![]):_0xf45f4f['event_properties'][_0x5bcae7(0x160)]=helper[_0x5bcae7(0x11d)](_0x366d0f['QCmsh']);}catch(_0x54fb44){logger[_0x5bcae7(0x122)](_0x5bcae7(0x16b)+_0x54fb44);}const _0x529600={};_0x529600['content-type']=_0x366d0f[_0x5bcae7(0x174)];const _0x44768c={'headers':_0x529600,'body':_0xf45f4f,'auth':{'user':helper[_0x5bcae7(0x138)](_0x4a8d28),'pass':helper['getAccessKey'](_0x4a8d28)},'json':!![]};logger[_0x5bcae7(0x122)]('Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20'+JSON['stringify'](_0x44768c[_0x5bcae7(0x183)])[_0x5bcae7(0x147)](new RegExp(helper[_0x5bcae7(0x138)](_0x4a8d28),'g'),_0x366d0f[_0x5bcae7(0x15b)])[_0x5bcae7(0x147)](new RegExp(helper[_0x5bcae7(0x12f)](_0x4a8d28),'g'),_0x366d0f['dBbCr']));try{const _0x4a48a5=await helper[_0x5bcae7(0x139)](_0x366d0f[_0x5bcae7(0x11b)],constants[_0x5bcae7(0x18e)],_0x44768c,_0x4a8d28);logger[_0x5bcae7(0x122)](_0x5bcae7(0x179)+_0x4ddc40+'\x20response\x20-\x20'+util[_0x5bcae7(0x143)]('%j',_0x4a48a5));}catch(_0x5df1b3){logger[_0x5bcae7(0x122)](_0x5bcae7(0x110)+FUNNEL_INSTRUMENTATION_API_URL+_0x5bcae7(0x117)+util['format'](_0x5df1b3));}},exports[a93_0x50e66d(0x188)]=async _0x3fb362=>{const _0x4d406f=a93_0x50e66d,_0x4e1aad={'UiQIf':function(_0x45f87c){return _0x45f87c();},'iOhtf':_0x4d406f(0x172),'xmRxk':'user_killed','xPhGX':function(_0x4c948c,_0x9a2e50){return _0x4c948c(_0x9a2e50);},'yjaja':'SDKTestSuccessful','zHAsT':function(_0x1fa04c,_0x3787d0,_0x241fc4){return _0x1fa04c(_0x3787d0,_0x241fc4);},'VWInJ':function(_0xc8d236,_0x5b4142){return _0xc8d236+_0x5b4142;},'DlsQA':_0x4d406f(0x17c)};try{await _0x3fb362[_0x4d406f(0x15a)](),_0x4e1aad['UiQIf'](printNudgeLocalNotSetError);const _0x54be7d={};_0x54be7d[_0x4d406f(0x115)]=_0x3fb362['errorMessage']?_0x3fb362[_0x4d406f(0x126)]:'{}';const _0x4ec17b=_0x54be7d,_0x1916ee=Object[_0x4d406f(0x15e)]({},_0x4ec17b);!!_0x3fb362[_0x4d406f(0x14b)]&&(_0x1916ee[_0x4e1aad['iOhtf']]={'reason':_0x4e1aad[_0x4d406f(0x145)],'signal':_0x3fb362[_0x4d406f(0x14b)]});unhandledErrors=_0x3fb362['unhandledErrors'][_0x4d406f(0x152)]('\x0a');let _0x2aa7b0,_0xf60b0f,_0x383f90;_0x4e1aad[_0x4d406f(0x13a)](isTurboScaleSession,_0x3fb362[_0x4d406f(0x189)])?([_0x2aa7b0,_0xf60b0f]=await helper[_0x4d406f(0x12b)](_0x3fb362['config']),[_0x383f90]=await Promise[_0x4d406f(0x118)]([helper['getTurboScaleSessionsList'](_0x2aa7b0,_0x3fb362[_0x4d406f(0x189)]),exports[_0x4d406f(0x176)](_0x4e1aad['yjaja'],_0x1916ee,_0x3fb362[_0x4d406f(0x189)],_0x3fb362['framework'])])):([_0x2aa7b0,_0xf60b0f]=await helper[_0x4d406f(0x112)](_0x3fb362[_0x4d406f(0x189)]),[_0x383f90]=await Promise[_0x4d406f(0x118)]([helper['getSessionsList'](_0x2aa7b0,_0x3fb362[_0x4d406f(0x189)]),exports[_0x4d406f(0x176)](_0x4e1aad[_0x4d406f(0x173)],_0x1916ee,_0x3fb362[_0x4d406f(0x189)],_0x3fb362['framework'])])),_0x383f90&&await _0x4e1aad[_0x4d406f(0x159)](generateCIArtifacts,_0x383f90,_0xf60b0f),logger[_0x4d406f(0x148)](_0x4d406f(0x185)+_0x3fb362[_0x4d406f(0x14f)]+_0x4d406f(0x14a)+process['env'][_0x4d406f(0x124)]),await helper[_0x4d406f(0x177)](_0x3fb362[_0x4d406f(0x189)]);}catch(_0x1c757a){logger[_0x4d406f(0x122)](_0x4e1aad['VWInJ'](_0x4e1aad[_0x4d406f(0x137)],_0x1c757a));}helper['notifyUpdate']();};