const a142_0x312921=a142_0x5d2d;(function(_0x451f8e,_0x57ee3f){const _0x441526=a142_0x5d2d,_0x8822f5=_0x451f8e();while(!![]){try{const _0x34f7a5=-parseInt(_0x441526(0x15e))/0x1*(-parseInt(_0x441526(0x14b))/0x2)+-parseInt(_0x441526(0x174))/0x3*(parseInt(_0x441526(0x15f))/0x4)+parseInt(_0x441526(0x1af))/0x5+-parseInt(_0x441526(0x155))/0x6+parseInt(_0x441526(0x12b))/0x7+-parseInt(_0x441526(0x16e))/0x8*(-parseInt(_0x441526(0x146))/0x9)+parseInt(_0x441526(0x13c))/0xa*(-parseInt(_0x441526(0x151))/0xb);if(_0x34f7a5===_0x57ee3f)break;else _0x8822f5['push'](_0x8822f5['shift']());}catch(_0x4f58d4){_0x8822f5['push'](_0x8822f5['shift']());}}}(a142_0x5914,0x669a4));const os=require('os'),util=require(a142_0x312921(0x1a9)),fs=require('fs'),{getProductMap}=require(a142_0x312921(0x163)),logger=require(a142_0x312921(0x187))[a142_0x312921(0x15d)],constants=require(a142_0x312921(0x180)),testHubConstants=require(a142_0x312921(0x181)),{getTransformPath}=require('../bin/playwright/reporter/pwUtils'),{FUNNEL_INSTRUMENTATION_API_URL}=require(a142_0x312921(0x180)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a142_0x312921(0x14a)),PerformanceTester=require('./performance/performance-tester'),globals=require(a142_0x312921(0x17c)),helper=require('./helper'),{isTestObservabilitySession}=require(a142_0x312921(0x196));let unhandledErrors='';function a142_0x5d2d(_0x3ff2eb,_0xa989d5){const _0x591474=a142_0x5914();return a142_0x5d2d=function(_0x5d2d84,_0x102dcd){_0x5d2d84=_0x5d2d84-0x121;let _0x1abcda=_0x591474[_0x5d2d84];return _0x1abcda;},a142_0x5d2d(_0x3ff2eb,_0xa989d5);}exports[a142_0x312921(0x16a)]=async(_0x10383d,_0x456123={},_0x505049,_0x531985)=>{const _0x1a1b28=a142_0x312921,_0x3ca41c={'mdUrP':function(_0x12afce,_0x430e46){return _0x12afce===_0x430e46;},'sxKfj':_0x1a1b28(0x13b),'HMoLf':function(_0x110b34,_0xa4466e){return _0x110b34>_0xa4466e;},'iEelN':_0x1a1b28(0x14d),'pwLua':function(_0x50f631){return _0x50f631();},'FFBMi':function(_0xfdb46f){return _0xfdb46f();},'CoCfy':function(_0x1c3494,_0x2388a4){return _0x1c3494==_0x2388a4;},'lzMUd':_0x1a1b28(0x188),'LCHzr':function(_0x2ae0f0,_0x2aae53){return _0x2ae0f0===_0x2aae53;},'drtlH':_0x1a1b28(0x148),'BpKsE':function(_0x1d53aa,_0x36592f){return _0x1d53aa>_0x36592f;},'lQtbp':function(_0x4a88dd,_0x20631d){return _0x4a88dd===_0x20631d;},'jdnuZ':_0x1a1b28(0x178),'vtIqw':function(_0x184d7c,_0x431d01){return _0x184d7c>_0x431d01;},'pPUwD':function(_0x4d7dbc,_0x15421d){return _0x4d7dbc!==_0x15421d;},'euPUD':_0x1a1b28(0x141),'hwrMW':_0x1a1b28(0x17a),'pyHGV':function(_0x205b0a,_0x56b30d){return _0x205b0a>_0x56b30d;},'VoKsM':function(_0x5eeaad,_0x31d589){return _0x5eeaad+_0x31d589;},'AzZtj':_0x1a1b28(0x143),'DzLho':_0x1a1b28(0x19b),'lCZtw':function(_0x4458d5,_0xb3ee58){return _0x4458d5(_0xb3ee58);},'ZfJzi':_0x1a1b28(0x136),'KEmGc':_0x1a1b28(0x190),'PDftU':function(_0x10da1c,_0x38ccf1){return _0x10da1c===_0x38ccf1;},'hjCSQ':_0x1a1b28(0x168),'JCgPq':function(_0x1f72c7,_0x1a198a){return _0x1f72c7===_0x1a198a;},'kMaCh':_0x1a1b28(0x129),'XzKuc':_0x1a1b28(0x1b2),'QUowN':_0x1a1b28(0x1a5),'preYA':_0x1a1b28(0x139)};let _0x182eae=[];if(helper[_0x1a1b28(0x19e)]()&&_0x3ca41c[_0x1a1b28(0x128)](isTestObservabilitySession))_0x182eae=_0x505049[_0x1a1b28(0x18e)]?constants[_0x1a1b28(0x197)]:constants['AUTOMATE_PRODUCTS'];else{if(_0x3ca41c[_0x1a1b28(0x18a)](isTestObservabilitySession))_0x182eae=constants[_0x1a1b28(0x137)];else helper[_0x1a1b28(0x19e)]()&&(_0x182eae=_0x505049[_0x1a1b28(0x18e)]?constants['APP_AUTOMATE']:constants[_0x1a1b28(0x125)]);}let _0x2dd77e=_0x505049[_0x1a1b28(0x130)];if(_0x3ca41c[_0x1a1b28(0x1a7)](_0x2dd77e,null))_0x2dd77e=_0x3ca41c['lzMUd'];else _0x3ca41c['LCHzr'](_0x2dd77e,undefined)&&(_0x2dd77e=_0x3ca41c[_0x1a1b28(0x124)]);unhandledErrors&&_0x3ca41c[_0x1a1b28(0x169)](unhandledErrors[_0x1a1b28(0x127)],0x0)&&(_0x456123[_0x1a1b28(0x185)]=unhandledErrors);global['sdkRunId']&&(_0x456123[_0x1a1b28(0x195)]=global[_0x1a1b28(0x195)]);try{if(_0x456123[_0x1a1b28(0x17a)]){if(_0x3ca41c['lQtbp'](_0x531985,_0x3ca41c[_0x1a1b28(0x176)])&&_0x3ca41c[_0x1a1b28(0x145)](_0x456123[_0x1a1b28(0x17a)]['length'],0x0)){const _0x1b1ede={};_0x1b1ede['os']='',_0x1b1ede[_0x1a1b28(0x153)]='',_0x1b1ede['browser']='',_0x1b1ede['browserVersion']='';const _0x16dfb3=_0x1b1ede;let _0x39f446={};const _0x1a6df3=_0x456123[_0x1a1b28(0x17a)];_0x39f446=_0x1a6df3[_0x1a1b28(0x140)]((_0x20ef2d,_0xb3f3c7)=>{for(const _0x5652a9 in _0xb3f3c7){_0x20ef2d[_0x5652a9]=_0xb3f3c7[_0x5652a9];}return _0x20ef2d;},{});const _0x3b7235={};_0x3b7235[_0x1a1b28(0x14d)]=_0x39f446,_0x456123[_0x1a1b28(0x17a)]=[Object[_0x1a1b28(0x165)]({},_0x16dfb3,_0x3b7235)];}else{let _0x5d0c0e=0x0;const _0x30f05b=_0x3ca41c[_0x1a1b28(0x1ab)](_0x531985,_0x3ca41c[_0x1a1b28(0x1aa)])?JSON['parse'](_0x456123['error']):_0x456123[_0x1a1b28(0x17a)],_0x3bec9d=Object[_0x1a1b28(0x16b)](_0x30f05b);_0x3bec9d[_0x1a1b28(0x19c)](_0x21756f=>{const _0x32fccd=_0x1a1b28;if(_0x3ca41c[_0x32fccd(0x154)](typeof _0x21756f,_0x3ca41c[_0x32fccd(0x182)])){const _0x5c0892=Object[_0x32fccd(0x16b)](_0x21756f);!_0x5c0892[_0x32fccd(0x121)](_0x9542b4=>_0x9542b4===null||_0x9542b4===undefined||_0x9542b4==='')&&(_0x5d0c0e+=0x1);}});if(_0x3ca41c['LCHzr'](_0x5d0c0e,0x0))delete _0x456123[_0x3ca41c['hwrMW']];else{const _0x1e05c2=[];Object[_0x1a1b28(0x192)](_0x30f05b)[_0x1a1b28(0x19c)](_0x472d46=>{const _0x463fc7=_0x1a1b28,_0x25fb59={'GVTHk':function(_0x30cfd5,_0x4ab7fd){const _0x53484d=a142_0x5d2d;return _0x3ca41c[_0x53484d(0x198)](_0x30cfd5,_0x4ab7fd);}},[_0x5985fa,_0x31e070,_0x5f46fe,_0x5b35d4]=_0x472d46[_0x463fc7(0x135)](',\x20');let _0x214eca={};if(!_0x5b35d4){const _0x457803={};_0x457803[_0x463fc7(0x172)]=_0x5985fa,_0x457803['osVersion']=_0x31e070,_0x457803[_0x463fc7(0x194)]=_0x5f46fe,_0x214eca=_0x457803;}else{const _0x40d929={};_0x40d929['os']=_0x5985fa,_0x40d929[_0x463fc7(0x153)]=_0x31e070,_0x40d929[_0x463fc7(0x194)]=_0x5f46fe,_0x40d929[_0x463fc7(0x1ae)]=_0x5b35d4,_0x214eca=_0x40d929;}const _0x5adb3b={},_0x59acca=_0x30f05b[_0x472d46];Object[_0x463fc7(0x192)](_0x59acca)[_0x463fc7(0x19c)](_0x4b7afb=>{const _0xf784d6=_0x463fc7;_0x25fb59['GVTHk'](_0x59acca[_0x4b7afb][_0xf784d6(0x127)],0x0)&&(_0x5adb3b[_0x4b7afb]=_0x59acca[_0x4b7afb]);}),_0x3ca41c[_0x463fc7(0x198)](Object[_0x463fc7(0x192)](_0x5adb3b)['length'],0x0)&&(_0x214eca[_0x3ca41c[_0x463fc7(0x17d)]]=_0x5adb3b,_0x1e05c2[_0x463fc7(0x126)](_0x214eca));}),_0x3ca41c['pyHGV'](_0x1e05c2[_0x1a1b28(0x127)],0x0)?_0x456123[_0x1a1b28(0x17a)]=_0x1e05c2:delete _0x456123[_0x3ca41c[_0x1a1b28(0x142)]];}}}}catch(_0x5e3c04){delete _0x456123[_0x3ca41c['hwrMW']],logger['debug'](_0x3ca41c[_0x1a1b28(0x175)](_0x3ca41c[_0x1a1b28(0x184)],_0x5e3c04));}const _0x3221c6=helper['getTestFrameworkDetails'](_0x505049,_0x505049[_0x1a1b28(0x14e)]),_0x107e8c={'userName':helper[_0x1a1b28(0x167)](_0x505049),'accessKey':helper[_0x1a1b28(0x132)](_0x505049),'event_type':_0x10383d,'detectedFramework':_0x531985,'buildHashedId':globals['getGlobal'](_0x3ca41c['DzLho']),'optimalHubUrl':helper[_0x1a1b28(0x13f)](),'event_properties':{'testhub_uuid':process['env'][testHubConstants[_0x1a1b28(0x19a)][_0x1a1b28(0x173)]]||'','sdkRunId':global[_0x1a1b28(0x195)],'product_map':_0x3ca41c[_0x1a1b28(0x150)](getProductMap,_0x505049),'productMap':_0x3ca41c[_0x1a1b28(0x150)](getProductMap,_0x505049),'language_framework':_0x505049[_0x1a1b28(0x1a2)]||_0x3ca41c[_0x1a1b28(0x13e)],'referrer':helper[_0x1a1b28(0x13d)](_0x531985),'framework':_0x505049[_0x1a1b28(0x14e)],'frameworkVersion':helper[_0x1a1b28(0x1a1)](_0x531985),'automationFramework':_0x3221c6[_0x1a1b28(0x162)],'automationFrameworkVersion':_0x3221c6[_0x1a1b28(0x1a0)],'language':_0x3ca41c[_0x1a1b28(0x123)],'languageVersion':process[_0x1a1b28(0x1a0)],'product':_0x182eae,'buildName':_0x505049['buildName']||_0x3ca41c[_0x1a1b28(0x124)],'buildIdentifier':_0x2dd77e,'os':os[_0x1a1b28(0x12c)]()||_0x3ca41c[_0x1a1b28(0x13e)],'hostname':os[_0x1a1b28(0x18f)]()||_0x3ca41c[_0x1a1b28(0x13e)],..._0x456123}};try{_0x3ca41c[_0x1a1b28(0x15b)](_0x10383d,_0x3ca41c['hjCSQ'])&&(_0x107e8c[_0x1a1b28(0x1b1)]['browserStackConfig']=helper[_0x1a1b28(0x191)](_0x505049)),_0x3ca41c[_0x1a1b28(0x1a4)](_0x531985,_0x3ca41c[_0x1a1b28(0x1aa)])?_0x107e8c[_0x1a1b28(0x1b1)][_0x1a1b28(0x14c)]=helper[_0x1a1b28(0x18b)][_0x1a1b28(0x17f)](null,_0x3ca41c[_0x1a1b28(0x128)](getTransformPath),!![]):_0x107e8c['event_properties'][_0x1a1b28(0x199)]=helper[_0x1a1b28(0x13a)](_0x3ca41c[_0x1a1b28(0x15c)]);}catch(_0x260014){logger['debug'](_0x1a1b28(0x1b0)+_0x260014);}const _0x5c800c={};_0x5c800c['content-type']=_0x3ca41c[_0x1a1b28(0x1ac)];const _0x5711d1={'headers':_0x5c800c,'body':_0x107e8c,'auth':{'user':helper[_0x1a1b28(0x167)](_0x505049),'pass':helper[_0x1a1b28(0x132)](_0x505049)},'json':!![]};logger[_0x1a1b28(0x18d)](_0x1a1b28(0x159)+JSON[_0x1a1b28(0x186)](_0x5711d1[_0x1a1b28(0x17b)])[_0x1a1b28(0x152)](new RegExp(helper[_0x1a1b28(0x167)](_0x505049),'g'),_0x3ca41c['QUowN'])['replace'](new RegExp(helper['getAccessKey'](_0x505049),'g'),_0x3ca41c[_0x1a1b28(0x16f)]));try{const _0x1f9542=await helper[_0x1a1b28(0x138)](_0x3ca41c[_0x1a1b28(0x166)],FUNNEL_INSTRUMENTATION_API_URL,_0x5711d1,_0x505049);logger['debug'](_0x1a1b28(0x171)+_0x10383d+_0x1a1b28(0x18c)+util[_0x1a1b28(0x131)]('%j',_0x1f9542));}catch(_0x4bb36d){logger[_0x1a1b28(0x18d)]('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+'\x20:\x20'+util[_0x1a1b28(0x131)](_0x4bb36d));}},exports['finalExecution']=async _0x5fbfb5=>{const _0x2a3ab0=a142_0x312921,_0x41bb85={'SVNhg':function(_0x211167){return _0x211167();},'BCkAk':'finishedMetadata','DZCGB':_0x2a3ab0(0x133),'vBCoF':'SDKTestSuccessful','pDnvU':function(_0x4c5b84,_0x1df0b2,_0x1c3a1b){return _0x4c5b84(_0x1df0b2,_0x1c3a1b);},'xObNR':function(_0x252651,_0x32ba09){return _0x252651+_0x32ba09;},'GgYhn':_0x2a3ab0(0x12f)};try{await _0x5fbfb5['stopPercy'](),_0x41bb85[_0x2a3ab0(0x12e)](printNudgeLocalNotSetError);const _0x3f2bee={};_0x3f2bee[_0x2a3ab0(0x17a)]=_0x5fbfb5['errorMessage']?_0x5fbfb5[_0x2a3ab0(0x15a)]:'{}';const _0x4668de=_0x3f2bee,_0x22d61b=Object[_0x2a3ab0(0x165)]({},_0x4668de);!!_0x5fbfb5['killSignal']&&(_0x22d61b[_0x41bb85[_0x2a3ab0(0x1ad)]]={'reason':_0x41bb85['DZCGB'],'signal':_0x5fbfb5[_0x2a3ab0(0x19d)]});unhandledErrors=_0x5fbfb5['unhandledErrors']['join']('\x0a');let _0x16b778,_0x3dcf93,_0x24348f;helper['isTurboScaleSession'](_0x5fbfb5[_0x2a3ab0(0x17e)])?([_0x16b778,_0x3dcf93]=await helper[_0x2a3ab0(0x170)](_0x5fbfb5[_0x2a3ab0(0x17e)]),[_0x24348f]=await Promise[_0x2a3ab0(0x157)]([helper['getTurboScaleSessionsList'](_0x16b778,_0x5fbfb5[_0x2a3ab0(0x17e)]),exports[_0x2a3ab0(0x16a)](_0x41bb85[_0x2a3ab0(0x149)],_0x22d61b,_0x5fbfb5[_0x2a3ab0(0x17e)],_0x5fbfb5[_0x2a3ab0(0x14e)])])):([_0x16b778,_0x3dcf93]=await helper[_0x2a3ab0(0x16c)](_0x5fbfb5['config']),[_0x24348f]=await Promise['all']([helper['getSessionsList'](_0x16b778,_0x5fbfb5['config']),exports[_0x2a3ab0(0x16a)](_0x41bb85['vBCoF'],_0x22d61b,_0x5fbfb5[_0x2a3ab0(0x17e)],_0x5fbfb5[_0x2a3ab0(0x14e)])])),_0x24348f&&await _0x41bb85[_0x2a3ab0(0x158)](generateCIArtifacts,_0x24348f,_0x3dcf93),logger[_0x2a3ab0(0x12d)](_0x2a3ab0(0x156)+_0x5fbfb5[_0x2a3ab0(0x195)]+_0x2a3ab0(0x164)+process[_0x2a3ab0(0x183)][_0x2a3ab0(0x173)]),await helper['sendLogs'](_0x5fbfb5[_0x2a3ab0(0x17e)]);}catch(_0x23af3f){logger[_0x2a3ab0(0x18d)](_0x41bb85[_0x2a3ab0(0x19f)](_0x41bb85[_0x2a3ab0(0x193)],_0x23af3f));}helper['notifyUpdate']();},exports[a142_0x312921(0x189)]=_0x39144f=>{const _0xce6081=a142_0x312921,_0x3bdafb={'uMTQs':function(_0x34a90e,_0x2ac089){return _0x34a90e instanceof _0x2ac089;},'KunLo':function(_0x2c6c76,_0x261f5b){return _0x2c6c76(_0x261f5b);}};try{if(_0x3bdafb['uMTQs'](_0x39144f,Error))return _0x39144f['stack']||_0x39144f['toString']();return _0x3bdafb[_0xce6081(0x12a)](String,_0x39144f);}catch(_0x314984){return _0x39144f?_0x39144f[_0xce6081(0x134)]():'';}},exports[a142_0x312921(0x14f)]=_0x4e7da7=>{const _0x5d5548=a142_0x312921,_0x21327b={};_0x21327b[_0x5d5548(0x177)]=function(_0x19f0f8,_0xafbcd6){return _0x19f0f8===_0xafbcd6;};const _0x34124f=_0x21327b;return!_0x4e7da7||_0x34124f[_0x5d5548(0x177)](_0x4e7da7[_0x5d5548(0x161)](),'');},exports[a142_0x312921(0x147)]=_0xa7967f=>{const _0x5e79ba=a142_0x312921,_0x2a8f5b={};_0x2a8f5b[_0x5e79ba(0x179)]=function(_0x506b07,_0x181d20){return _0x506b07|_0x181d20;};const _0x54102c=_0x2a8f5b;try{return fs[_0x5e79ba(0x1a3)](_0xa7967f,_0x54102c[_0x5e79ba(0x179)](fs['constants'][_0x5e79ba(0x16d)],fs[_0x5e79ba(0x160)][_0x5e79ba(0x1a8)])),!![];}catch(_0x3533da){return![];}},exports[a142_0x312921(0x144)]=_0x561694=>{const _0x34f0b7=a142_0x312921;try{fs['chmodSync'](_0x561694,0x1ff),logger[_0x34f0b7(0x18d)](_0x34f0b7(0x122)+_0x561694+_0x34f0b7(0x1a6));}catch(_0xca4632){logger[_0x34f0b7(0x17a)]('Failed\x20to\x20set\x20directory\x20access:\x20'+exports[_0x34f0b7(0x189)](_0xca4632));}};function a142_0x5914(){const _0x59db3b=['reduce','Playwright','hwrMW','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','setReadWriteExecuteAccess','vtIqw','1790028FkJXFj','isModifiable','undefined','vBCoF','./helper','10NIzqAB','playwrightVersion','tests','framework','isNullOrEmpty','lCZtw','4675DaUMGH','replace','osVersion','mdUrP','241788gSKzRx','SDK\x20run\x20ended\x20for\x20id:\x20','all','pDnvU','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','errorMessage','PDftU','kMaCh','winstonLogger','154409sJvGmk','32cMJYuF','constants','trim','name','./testhub/utils',',\x20testhub\x20id:\x20','assign','preYA','getUserName','SDKTestSuccessful','BpKsE','fireFunnelTestEvent','values','getBuildLink','W_OK','32dskTGd','QUowN','getTurboScaleBuildLink','API\x20Event\x20','deviceName','BROWSERSTACK_TESTHUB_UUID','201651OAqSnR','VoKsM','jdnuZ','NFFpN','codeceptjs','rKhEs','error','body','./globals','iEelN','config','apply','../bin/utils/constants','../helpers/testhub/constants','sxKfj','env','AzZtj','globalException','stringify','./logger','null','getStackTraceAsString','FFBMi','requirePWModule','\x20response\x20-\x20','debug','app','hostname','nodejs','sanitizeBrowserStackConfig','keys','GgYhn','browser','sdkRunId','./test-observability/utils','APP_AUTOMATE_PRODUCTS','HMoLf','seleniumVersion','ENV_VAR','_buildHashedId','forEach','killSignal','isBrowserstackInfra','xObNR','version','getFrameworkVersion','source','accessSync','JCgPq','[REDACTED]','\x20has\x20now\x20read/write/execute\x20permissions.','CoCfy','X_OK','util','euPUD','pPUwD','XzKuc','BCkAk','browserVersion','861000CDHhcf','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','event_properties','application/json','every','Directory\x20','KEmGc','drtlH','AUTOMATE','push','length','pwLua','selenium-webdriver','KunLo','1059842nspTyg','type','info','SVNhg','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','buildIdentifier','format','getAccessKey','user_killed','toString','split','unknown','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','nodeRequest','POST','getPackageVersion','object','21010XKhXUk','getNodeAgent','ZfJzi','getOptimalHubUrl'];a142_0x5914=function(){return _0x59db3b;};return a142_0x5914();}