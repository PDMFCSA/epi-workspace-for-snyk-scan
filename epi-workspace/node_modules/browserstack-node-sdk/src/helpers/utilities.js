const a122_0x36f735=a122_0x5474;(function(_0x41e443,_0x2b61c){const _0x2e4e91=a122_0x5474,_0x2cb47d=_0x41e443();while(!![]){try{const _0x29f217=-parseInt(_0x2e4e91(0x234))/0x1*(parseInt(_0x2e4e91(0x1ce))/0x2)+-parseInt(_0x2e4e91(0x205))/0x3*(parseInt(_0x2e4e91(0x1c9))/0x4)+-parseInt(_0x2e4e91(0x21b))/0x5+parseInt(_0x2e4e91(0x1e4))/0x6*(parseInt(_0x2e4e91(0x207))/0x7)+-parseInt(_0x2e4e91(0x240))/0x8*(parseInt(_0x2e4e91(0x209))/0x9)+-parseInt(_0x2e4e91(0x20b))/0xa*(-parseInt(_0x2e4e91(0x23a))/0xb)+parseInt(_0x2e4e91(0x219))/0xc;if(_0x29f217===_0x2b61c)break;else _0x2cb47d['push'](_0x2cb47d['shift']());}catch(_0xca2188){_0x2cb47d['push'](_0x2cb47d['shift']());}}}(a122_0x15de,0x3e80c));function a122_0x5474(_0x906ce,_0x5d8783){const _0x15dec4=a122_0x15de();return a122_0x5474=function(_0x547413,_0x43954b){_0x547413=_0x547413-0x1b8;let _0x4cacc9=_0x15dec4[_0x547413];return _0x4cacc9;},a122_0x5474(_0x906ce,_0x5d8783);}const os=require('os'),util=require('util'),fs=require('fs'),{getProductMap}=require('./testhub/utils'),logger=require(a122_0x36f735(0x1c7))[a122_0x36f735(0x1e6)],constants=require(a122_0x36f735(0x1fd)),testHubConstants=require(a122_0x36f735(0x1f7)),{getTransformPath}=require(a122_0x36f735(0x210)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a122_0x36f735(0x1fd)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a122_0x36f735(0x1db)),PerformanceTester=require(a122_0x36f735(0x1c2)),globals=require('./globals'),{isTurboScaleSession}=require(a122_0x36f735(0x215)),helper=require(a122_0x36f735(0x1db)),{isTestObservabilitySession}=require(a122_0x36f735(0x1cd));let unhandledErrors='';function a122_0x15de(){const _0xd9b1ac=['killSignal','push','iztZf','errorMessage','154239TfqHTZ','hgqJj','284326rYINTv','RNlrc','603KDEoFL','type','4080DVQPwB','stack','FpPEX',',\x20testhub\x20id:\x20','ilxHV','../bin/playwright/reporter/pwUtils','getTurboScaleSessionsList','config','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','every','./ats/helper','body','version','_buildHashedId','7593468kTRMEh','\x20response\x20-\x20','701870Bhhmbo','hZAtR','keys','isWritable','browserVersion','Directory\x20','zKNpj','event_properties','dWPBm','getTurboScaleBuildLink','SDKTestSuccessful','isBrowserstackInfra','globalException','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','format','BROWSERSTACK_TESTHUB_UUID','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','ENV_VAR','zISxM','null','getSessionsList','getNodeAgent','LuTaW','qlKCm','uwrEE','28165bqCRFD','ebAGY','getFrameworkVersion','join','browser','NQrXK','7645JnXOPd','getBuildLink','codeceptjs','[REDACTED]','apply','values','53184fBTESM','osVersion','toString','sdkRunId','app','NFUWV','NXDNy','AWrMP','LExHB','UDlrg','PHTLo','fCdHI','POST','finishedMetadata','./performance/performance-tester','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','source','sendLogs','\x20is\x20now\x20read/write\x20accessible.','./logger','error','24rEtDpA','env','rNhNv','forEach','./test-observability/utils','18FDCPks','getAccessKey','all','hostname','selenium-webdriver','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','getTestFrameworkDetails','APP_AUTOMATE','deviceName','zUZjM','trim','setReadWriteAccess','ywdsf','./helper','getUserName','stopPercy','UEHtt','length','buildIdentifier','getGlobal','getStackTraceAsString','browserStackConfig','72UwOxgG','getOptimalHubUrl','winstonLogger','isNullOrEmpty','tests','sanitizeBrowserStackConfig','oJJyu','buildName','framework','application/json','W_OK','unhandledErrors','jasOp','user_killed','accessSync','CRkgh','replace','LcBfd','debug','../helpers/testhub/constants','info','vwNet','seleniumVersion','fireFunnelTestEvent','eiQXU','../bin/utils/constants','object','Failed\x20to\x20set\x20directory\x20access:\x20','EkVuH'];a122_0x15de=function(){return _0xd9b1ac;};return a122_0x15de();}exports[a122_0x36f735(0x1fb)]=async(_0x2bf36e,_0x32e3de={},_0x253df2,_0x2b465c)=>{const _0x5c45fb=a122_0x36f735,_0x26e32a={'vwNet':function(_0x560f47,_0x411c76){return _0x560f47===_0x411c76;},'hZAtR':_0x5c45fb(0x1fe),'zKNpj':function(_0x27efc5,_0x2bead1){return _0x27efc5>_0x2bead1;},'EkVuH':function(_0x12b94f,_0x467d57){return _0x12b94f>_0x467d57;},'jasOp':'tests','UEHtt':function(_0x5e281d){return _0x5e281d();},'uwrEE':function(_0x5000e9,_0x42f654){return _0x5000e9==_0x42f654;},'dWPBm':_0x5c45fb(0x22e),'ebAGY':'undefined','oUkGY':function(_0x9c7479,_0x26e63a){return _0x9c7479>_0x26e63a;},'Nhewm':function(_0x52d349,_0x2a7ada){return _0x52d349===_0x2a7ada;},'PIHpY':_0x5c45fb(0x23c),'LExHB':function(_0x2449f2,_0x5d74ed){return _0x2449f2>_0x5d74ed;},'NQrXK':function(_0x19be55,_0x443bd5){return _0x19be55!==_0x443bd5;},'UDlrg':'Playwright','RNlrc':function(_0x5e2d35,_0x27787a){return _0x5e2d35===_0x27787a;},'rNhNv':_0x5c45fb(0x1c8),'LuTaW':function(_0x2d220a,_0x53f003){return _0x2d220a>_0x53f003;},'bxFsP':function(_0x78d2c2,_0x492f0c){return _0x78d2c2+_0x492f0c;},'PHTLo':_0x5c45fb(0x1d3),'iztZf':_0x5c45fb(0x218),'SMsOG':function(_0x260d12,_0x3b70ad){return _0x260d12(_0x3b70ad);},'LcBfd':function(_0x2caa48,_0xa2747a){return _0x2caa48(_0xa2747a);},'FpPEX':'unknown','NFUWV':'nodejs','ilxHV':_0x5c45fb(0x225),'AWrMP':function(_0x3be252){return _0x3be252();},'JKVXN':_0x5c45fb(0x1d2),'eiQXU':_0x5c45fb(0x1ed),'CRkgh':_0x5c45fb(0x23d),'zISxM':_0x5c45fb(0x1c0)};let _0x5768d3=[];if(helper[_0x5c45fb(0x226)]()&&_0x26e32a['UEHtt'](isTestObservabilitySession))_0x5768d3=_0x253df2['app']?constants['APP_AUTOMATE_PRODUCTS']:constants['AUTOMATE_PRODUCTS'];else{if(_0x26e32a[_0x5c45fb(0x1de)](isTestObservabilitySession))_0x5768d3=constants[_0x5c45fb(0x1c3)];else helper['isBrowserstackInfra']()&&(_0x5768d3=_0x253df2[_0x5c45fb(0x1b8)]?constants[_0x5c45fb(0x1d5)]:constants['AUTOMATE']);}let _0x1db49c=_0x253df2[_0x5c45fb(0x1e0)];if(_0x26e32a[_0x5c45fb(0x233)](_0x1db49c,null))_0x1db49c=_0x26e32a[_0x5c45fb(0x223)];else _0x26e32a[_0x5c45fb(0x1f9)](_0x1db49c,undefined)&&(_0x1db49c=_0x26e32a[_0x5c45fb(0x235)]);unhandledErrors&&_0x26e32a['oUkGY'](unhandledErrors['length'],0x0)&&(_0x32e3de[_0x5c45fb(0x227)]=unhandledErrors);global[_0x5c45fb(0x243)]&&(_0x32e3de[_0x5c45fb(0x243)]=global['sdkRunId']);try{if(_0x32e3de[_0x5c45fb(0x1c8)]){if(_0x26e32a['Nhewm'](_0x2b465c,_0x26e32a['PIHpY'])&&_0x26e32a[_0x5c45fb(0x1bc)](_0x32e3de[_0x5c45fb(0x1c8)]['length'],0x0)){const _0x5a7481={};_0x5a7481['os']='',_0x5a7481[_0x5c45fb(0x241)]='',_0x5a7481[_0x5c45fb(0x238)]='',_0x5a7481['browserVersion']='';const _0x3a0a20=_0x5a7481;let _0x4c10c1={};const _0x2a0b6f=_0x32e3de[_0x5c45fb(0x1c8)];_0x4c10c1=_0x2a0b6f['reduce']((_0x40fc6d,_0x13664e)=>{for(const _0x190666 in _0x13664e){_0x40fc6d[_0x190666]=_0x13664e[_0x190666];}return _0x40fc6d;},{});const _0x461890={};_0x461890[_0x5c45fb(0x1e8)]=_0x4c10c1,_0x32e3de['error']=[Object['assign']({},_0x3a0a20,_0x461890)];}else{let _0x36ac5c=0x0;const _0xc789c=_0x26e32a[_0x5c45fb(0x239)](_0x2b465c,_0x26e32a[_0x5c45fb(0x1bd)])?JSON['parse'](_0x32e3de[_0x5c45fb(0x1c8)]):_0x32e3de['error'],_0x4c0bfe=Object[_0x5c45fb(0x23f)](_0xc789c);_0x4c0bfe[_0x5c45fb(0x1cc)](_0x2ee559=>{const _0x3b5916=_0x5c45fb;if(_0x26e32a[_0x3b5916(0x1f9)](typeof _0x2ee559,_0x26e32a[_0x3b5916(0x21c)])){const _0x3bdd3a=Object[_0x3b5916(0x23f)](_0x2ee559);!_0x3bdd3a[_0x3b5916(0x214)](_0x5cfd09=>_0x5cfd09===null||_0x5cfd09===undefined||_0x5cfd09==='')&&(_0x36ac5c+=0x1);}});if(_0x26e32a['RNlrc'](_0x36ac5c,0x0))delete _0x32e3de[_0x26e32a[_0x5c45fb(0x1cb)]];else{const _0x3a6e63=[];Object['keys'](_0xc789c)[_0x5c45fb(0x1cc)](_0x2c7de2=>{const _0x4ebd9e=_0x5c45fb,[_0x5df000,_0x4c62bd,_0x4448fb,_0x460631]=_0x2c7de2['split'](',\x20');let _0x3d2af6={};if(!_0x460631){const _0x31206b={};_0x31206b[_0x4ebd9e(0x1d6)]=_0x5df000,_0x31206b[_0x4ebd9e(0x241)]=_0x4c62bd,_0x31206b[_0x4ebd9e(0x238)]=_0x4448fb,_0x3d2af6=_0x31206b;}else{const _0x20eb86={};_0x20eb86['os']=_0x5df000,_0x20eb86['osVersion']=_0x4c62bd,_0x20eb86[_0x4ebd9e(0x238)]=_0x4448fb,_0x20eb86[_0x4ebd9e(0x21f)]=_0x460631,_0x3d2af6=_0x20eb86;}const _0x36bac2={},_0x3e2d37=_0xc789c[_0x2c7de2];Object[_0x4ebd9e(0x21d)](_0x3e2d37)[_0x4ebd9e(0x1cc)](_0x581daa=>{const _0x51caab=_0x4ebd9e;_0x26e32a[_0x51caab(0x221)](_0x3e2d37[_0x581daa][_0x51caab(0x1df)],0x0)&&(_0x36bac2[_0x581daa]=_0x3e2d37[_0x581daa]);}),_0x26e32a[_0x4ebd9e(0x200)](Object[_0x4ebd9e(0x21d)](_0x36bac2)['length'],0x0)&&(_0x3d2af6[_0x26e32a[_0x4ebd9e(0x1f0)]]=_0x36bac2,_0x3a6e63[_0x4ebd9e(0x202)](_0x3d2af6));}),_0x26e32a[_0x5c45fb(0x231)](_0x3a6e63[_0x5c45fb(0x1df)],0x0)?_0x32e3de[_0x5c45fb(0x1c8)]=_0x3a6e63:delete _0x32e3de[_0x26e32a['rNhNv']];}}}}catch(_0x565625){delete _0x32e3de[_0x26e32a[_0x5c45fb(0x1cb)]],logger['debug'](_0x26e32a['bxFsP'](_0x26e32a[_0x5c45fb(0x1be)],_0x565625));}const _0x53fbc5=helper[_0x5c45fb(0x1d4)](_0x253df2,_0x253df2[_0x5c45fb(0x1ec)]),_0x2ab00c={'userName':helper[_0x5c45fb(0x1dc)](_0x253df2),'accessKey':helper[_0x5c45fb(0x1cf)](_0x253df2),'event_type':_0x2bf36e,'detectedFramework':_0x2b465c,'buildHashedId':globals[_0x5c45fb(0x1e1)](_0x26e32a[_0x5c45fb(0x203)]),'optimalHubUrl':helper[_0x5c45fb(0x1e5)](),'event_properties':{'testhub_uuid':process[_0x5c45fb(0x1ca)][testHubConstants[_0x5c45fb(0x22c)][_0x5c45fb(0x22a)]]||'','sdkRunId':global[_0x5c45fb(0x243)],'product_map':_0x26e32a['SMsOG'](getProductMap,_0x253df2),'productMap':_0x26e32a[_0x5c45fb(0x1f5)](getProductMap,_0x253df2),'language_framework':_0x253df2[_0x5c45fb(0x1c4)]||_0x26e32a[_0x5c45fb(0x20d)],'referrer':helper[_0x5c45fb(0x230)](_0x2b465c),'framework':_0x253df2['framework'],'frameworkVersion':helper[_0x5c45fb(0x236)](_0x2b465c),'automationFramework':_0x53fbc5['name'],'automationFrameworkVersion':_0x53fbc5[_0x5c45fb(0x217)],'language':_0x26e32a[_0x5c45fb(0x1b9)],'languageVersion':process[_0x5c45fb(0x217)],'product':_0x5768d3,'buildName':_0x253df2[_0x5c45fb(0x1eb)]||_0x26e32a[_0x5c45fb(0x235)],'buildIdentifier':_0x1db49c,'os':os[_0x5c45fb(0x20a)]()||_0x26e32a[_0x5c45fb(0x20d)],'hostname':os[_0x5c45fb(0x1d1)]()||_0x26e32a['FpPEX'],..._0x32e3de}};try{_0x26e32a[_0x5c45fb(0x208)](_0x2bf36e,_0x26e32a[_0x5c45fb(0x20f)])&&(_0x2ab00c[_0x5c45fb(0x222)][_0x5c45fb(0x1e3)]=helper[_0x5c45fb(0x1e9)](_0x253df2)),_0x26e32a[_0x5c45fb(0x1f9)](_0x2b465c,_0x26e32a['UDlrg'])?_0x2ab00c[_0x5c45fb(0x222)]['playwrightVersion']=helper['requirePWModule'][_0x5c45fb(0x23e)](null,_0x26e32a[_0x5c45fb(0x1bb)](getTransformPath),!![]):_0x2ab00c[_0x5c45fb(0x222)][_0x5c45fb(0x1fa)]=helper['getPackageVersion'](_0x26e32a['JKVXN']);}catch(_0x2108f6){logger[_0x5c45fb(0x1f6)](_0x5c45fb(0x228)+_0x2108f6);}const _0x4e68b9={};_0x4e68b9['content-type']=_0x26e32a[_0x5c45fb(0x1fc)];const _0x36445d={'headers':_0x4e68b9,'body':_0x2ab00c,'auth':{'user':helper[_0x5c45fb(0x1dc)](_0x253df2),'pass':helper[_0x5c45fb(0x1cf)](_0x253df2)},'json':!![]};logger[_0x5c45fb(0x1f6)](_0x5c45fb(0x213)+JSON['stringify'](_0x36445d[_0x5c45fb(0x216)])[_0x5c45fb(0x1f4)](new RegExp(helper[_0x5c45fb(0x1dc)](_0x253df2),'g'),_0x26e32a[_0x5c45fb(0x1f3)])[_0x5c45fb(0x1f4)](new RegExp(helper['getAccessKey'](_0x253df2),'g'),_0x26e32a[_0x5c45fb(0x1f3)]));try{const _0x390f41=await helper['nodeRequest'](_0x26e32a[_0x5c45fb(0x22d)],constants['FUNNEL_INSTRUMENTATION_API_URL'],_0x36445d,_0x253df2);logger[_0x5c45fb(0x1f6)]('API\x20Event\x20'+_0x2bf36e+_0x5c45fb(0x21a)+util[_0x5c45fb(0x229)]('%j',_0x390f41));}catch(_0x428147){logger[_0x5c45fb(0x1f6)]('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+'\x20:\x20'+util[_0x5c45fb(0x229)](_0x428147));}},exports['finalExecution']=async _0x56554d=>{const _0x2b4ac9=a122_0x36f735,_0x4c473d={'oJJyu':function(_0x2aa49b){return _0x2aa49b();},'NYgju':_0x2b4ac9(0x1c1),'hgqJj':_0x2b4ac9(0x1f1),'NXDNy':function(_0x2883df,_0x276785){return _0x2883df(_0x276785);},'fCdHI':_0x2b4ac9(0x225),'ywdsf':function(_0x370f0c,_0x4eb9c2,_0x4ab11f){return _0x370f0c(_0x4eb9c2,_0x4ab11f);},'qlKCm':function(_0x1850f,_0x7d6c33){return _0x1850f+_0x7d6c33;},'kBQFx':_0x2b4ac9(0x22b)};try{await _0x56554d[_0x2b4ac9(0x1dd)](),_0x4c473d[_0x2b4ac9(0x1ea)](printNudgeLocalNotSetError);const _0x2dd4f0={};_0x2dd4f0[_0x2b4ac9(0x1c8)]=_0x56554d[_0x2b4ac9(0x204)]?_0x56554d['errorMessage']:'{}';const _0x335f44=_0x2dd4f0,_0x46d922=Object['assign']({},_0x335f44);!!_0x56554d[_0x2b4ac9(0x201)]&&(_0x46d922[_0x4c473d['NYgju']]={'reason':_0x4c473d[_0x2b4ac9(0x206)],'signal':_0x56554d[_0x2b4ac9(0x201)]});unhandledErrors=_0x56554d[_0x2b4ac9(0x1ef)][_0x2b4ac9(0x237)]('\x0a');let _0x498bc1,_0x20c3f0,_0x12a8e3;_0x4c473d[_0x2b4ac9(0x1ba)](isTurboScaleSession,_0x56554d[_0x2b4ac9(0x212)])?([_0x498bc1,_0x20c3f0]=await helper[_0x2b4ac9(0x224)](_0x56554d['config']),[_0x12a8e3]=await Promise[_0x2b4ac9(0x1d0)]([helper[_0x2b4ac9(0x211)](_0x498bc1,_0x56554d[_0x2b4ac9(0x212)]),exports[_0x2b4ac9(0x1fb)](_0x4c473d['fCdHI'],_0x46d922,_0x56554d[_0x2b4ac9(0x212)],_0x56554d[_0x2b4ac9(0x1ec)])])):([_0x498bc1,_0x20c3f0]=await helper[_0x2b4ac9(0x23b)](_0x56554d[_0x2b4ac9(0x212)]),[_0x12a8e3]=await Promise['all']([helper[_0x2b4ac9(0x22f)](_0x498bc1,_0x56554d[_0x2b4ac9(0x212)]),exports[_0x2b4ac9(0x1fb)](_0x4c473d[_0x2b4ac9(0x1bf)],_0x46d922,_0x56554d[_0x2b4ac9(0x212)],_0x56554d[_0x2b4ac9(0x1ec)])])),_0x12a8e3&&await _0x4c473d[_0x2b4ac9(0x1da)](generateCIArtifacts,_0x12a8e3,_0x20c3f0),logger[_0x2b4ac9(0x1f8)]('SDK\x20run\x20ended\x20for\x20id:\x20'+_0x56554d[_0x2b4ac9(0x243)]+_0x2b4ac9(0x20e)+process[_0x2b4ac9(0x1ca)]['BROWSERSTACK_TESTHUB_UUID']),await helper[_0x2b4ac9(0x1c5)](_0x56554d[_0x2b4ac9(0x212)]);}catch(_0x52d755){logger['debug'](_0x4c473d[_0x2b4ac9(0x232)](_0x4c473d['kBQFx'],_0x52d755));}helper['notifyUpdate']();},exports[a122_0x36f735(0x1e2)]=_0x1b5b0c=>{const _0x76c175=a122_0x36f735,_0x5a68b1={'lBfpS':function(_0x1f2ac4,_0x50a0ae){return _0x1f2ac4 instanceof _0x50a0ae;},'SUmXw':function(_0x73b9e8,_0x247c67){return _0x73b9e8(_0x247c67);}};try{if(_0x5a68b1['lBfpS'](_0x1b5b0c,Error))return _0x1b5b0c[_0x76c175(0x20c)]||_0x1b5b0c[_0x76c175(0x242)]();return _0x5a68b1['SUmXw'](String,_0x1b5b0c);}catch(_0x5f32bd){return _0x1b5b0c?_0x1b5b0c[_0x76c175(0x242)]():'';}},exports[a122_0x36f735(0x1e7)]=_0x41cf4e=>{const _0x42a797=a122_0x36f735,_0x22d4de={};_0x22d4de[_0x42a797(0x1d7)]=function(_0x1c3e76,_0x59a448){return _0x1c3e76===_0x59a448;};const _0x5a76c2=_0x22d4de;return!_0x41cf4e||_0x5a76c2[_0x42a797(0x1d7)](_0x41cf4e[_0x42a797(0x1d8)](),'');},exports[a122_0x36f735(0x21e)]=_0x20ea68=>{const _0xae537d=a122_0x36f735;try{return fs[_0xae537d(0x1f2)](_0x20ea68,fs['constants'][_0xae537d(0x1ee)]),!![];}catch(_0x4f9650){return![];}},exports[a122_0x36f735(0x1d9)]=_0x5e3884=>{const _0x12c6dd=a122_0x36f735;try{fs['chmodSync'](_0x5e3884,0x1b6),logger['debug'](_0x12c6dd(0x220)+_0x5e3884+_0x12c6dd(0x1c6));}catch(_0x294e0c){logger['error'](_0x12c6dd(0x1ff)+exports[_0x12c6dd(0x1e2)](_0x294e0c));}};