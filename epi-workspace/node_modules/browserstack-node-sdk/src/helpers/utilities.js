const a132_0x37a1ca=a132_0x27a8;(function(_0x339742,_0x389003){const _0x4c2499=a132_0x27a8,_0x7bc311=_0x339742();while(!![]){try{const _0x4e2e88=-parseInt(_0x4c2499(0x22c))/0x1+parseInt(_0x4c2499(0x1f0))/0x2+parseInt(_0x4c2499(0x20b))/0x3+-parseInt(_0x4c2499(0x230))/0x4+parseInt(_0x4c2499(0x1f1))/0x5+-parseInt(_0x4c2499(0x236))/0x6*(parseInt(_0x4c2499(0x21d))/0x7)+-parseInt(_0x4c2499(0x1d6))/0x8*(-parseInt(_0x4c2499(0x234))/0x9);if(_0x4e2e88===_0x389003)break;else _0x7bc311['push'](_0x7bc311['shift']());}catch(_0x42a547){_0x7bc311['push'](_0x7bc311['shift']());}}}(a132_0x141f,0x91f20));const os=require('os'),util=require(a132_0x37a1ca(0x1c8)),fs=require('fs'),{getProductMap}=require(a132_0x37a1ca(0x224)),logger=require(a132_0x37a1ca(0x218))[a132_0x37a1ca(0x1fa)],constants=require(a132_0x37a1ca(0x1d5)),testHubConstants=require('../helpers/testhub/constants'),{getTransformPath}=require(a132_0x37a1ca(0x21f)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a132_0x37a1ca(0x1d5)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a132_0x37a1ca(0x225)),PerformanceTester=require(a132_0x37a1ca(0x1ed)),globals=require(a132_0x37a1ca(0x228)),helper=require(a132_0x37a1ca(0x225)),{isTestObservabilitySession}=require(a132_0x37a1ca(0x1f5));function a132_0x141f(){const _0xaaf465=['sdkRunId','clhmw','cEJei','171UkvFxV','aTPCC','6VlMuKH','jOxaS','getGlobal','JLeSx','getBuildLink','getPackageVersion','OMWTA','tests','hostname','content-type','unknown','isBrowserstackInfra','DYQSw','VaTQW','POST','sgooF','WlydE','codeceptjs','trim','isTurboScaleSession','undefined',',\x20testhub\x20id:\x20','FUNNEL_INSTRUMENTATION_API_URL','\x20response\x20-\x20','apply','getStackTraceAsString','browserVersion','accessSync','assign','parse','LCBvk','errorMessage','[REDACTED]','_buildHashedId','osVersion','toString','getTestFrameworkDetails','reduce','VVnMp','aFGbq','Failed\x20to\x20set\x20directory\x20access:\x20','util','Directory\x20','config','chmodSync','getTurboScaleSessionsList','join','debug','app','OAEDR','GTsou','null','selenium-webdriver','auWst','../bin/utils/constants','20504sTiPSr','isModifiable','getNodeAgent','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','Playwright','globalException','ENV_VAR','env','body','SDKTestSuccessful','all','stack','setReadWriteExecuteAccess','replace','JBnHr','getSessionsList','keys','error','rcQhM','CtQuO','event_properties','playwrightVersion','getFrameworkVersion','./performance/performance-tester','browser','push','1809090AjAcRv','3138300sGAhiq','killSignal','API\x20Event\x20','Error\x20in\x20firing\x20request\x20to\x20','./test-observability/utils','BcRni','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','notifyUpdate','wTXWT','winstonLogger','application/json','every','browserStackConfig','getAccessKey','fireFunnelTestEvent','nodeRequest','SDK\x20run\x20ended\x20for\x20id:\x20','dCDjW','getOptimalHubUrl','stopPercy','AUTOMATE_PRODUCTS','EmGkz','YlbIT','framework','bSdYe','source','1628898pHrXLP','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','nodejs','jyUAa','BhXbC','values','deviceName','APP_AUTOMATE_PRODUCTS','AUTOMATE','format','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','object','./logger','gdQnI','buildName','version','finalExecution','3052854sGwMPC','isNullOrEmpty','../bin/playwright/reporter/pwUtils','buildIdentifier','yXFnu','OvFGl','length','./testhub/utils','./helper','\x20has\x20now\x20read/write/execute\x20permissions.','APP_AUTOMATE','./globals','tLpem','constants','name','827859GgxMQz','getUserName','MPNcz','forEach','1048380qAnaYC'];a132_0x141f=function(){return _0xaaf465;};return a132_0x141f();}function a132_0x27a8(_0x16f819,_0x723679){const _0x141f85=a132_0x141f();return a132_0x27a8=function(_0x27a8f8,_0x1fda87){_0x27a8f8=_0x27a8f8-0x1c3;let _0x171bac=_0x141f85[_0x27a8f8];return _0x171bac;},a132_0x27a8(_0x16f819,_0x723679);}let unhandledErrors='';exports['fireFunnelTestEvent']=async(_0x465891,_0x3997b4={},_0x38c2e1,_0x4cba85)=>{const _0x500868=a132_0x37a1ca,_0x1362db={'awooz':function(_0xa24725,_0x35baac){return _0xa24725===_0x35baac;},'GTsou':_0x500868(0x217),'aTPCC':function(_0x2017a3,_0x124736){return _0x2017a3>_0x124736;},'aFGbq':'tests','OvFGl':function(_0x6a0f7d){return _0x6a0f7d();},'JBnHr':function(_0x277858){return _0x277858();},'BcRni':function(_0x143442,_0x58f6b8){return _0x143442==_0x58f6b8;},'cEJei':_0x500868(0x1d2),'VaTQW':_0x500868(0x24a),'VVnMp':function(_0x49db6c,_0x1af49d){return _0x49db6c>_0x1af49d;},'MPNcz':function(_0x51bb2e,_0x129156){return _0x51bb2e===_0x129156;},'CtQuO':_0x500868(0x247),'wTXWT':function(_0x1656bb,_0x493caa){return _0x1656bb>_0x493caa;},'sgooF':function(_0x29b9b9,_0x417c43){return _0x29b9b9!==_0x417c43;},'gdQnI':_0x500868(0x1da),'jOxaS':_0x500868(0x1e7),'OAEDR':function(_0x2f7cc7,_0x193378){return _0x2f7cc7+_0x193378;},'Vddzq':_0x500868(0x20c),'JLeSx':_0x500868(0x257),'tLpem':function(_0x33797d,_0x5059bb){return _0x33797d(_0x5059bb);},'VXbwP':function(_0x1bb10c,_0xbed4e){return _0x1bb10c(_0xbed4e);},'YlbIT':_0x500868(0x240),'clhmw':_0x500868(0x20e),'BXLfh':_0x500868(0x1df),'EnYyZ':_0x500868(0x1d3),'sqiAZ':_0x500868(0x1fb),'LCBvk':_0x500868(0x256),'cWJaW':_0x500868(0x244)};let _0x2b9aa7=[];if(helper[_0x500868(0x241)]()&&_0x1362db[_0x500868(0x222)](isTestObservabilitySession))_0x2b9aa7=_0x38c2e1[_0x500868(0x1cf)]?constants[_0x500868(0x213)]:constants[_0x500868(0x205)];else{if(_0x1362db[_0x500868(0x1e4)](isTestObservabilitySession))_0x2b9aa7=constants[_0x500868(0x216)];else helper[_0x500868(0x241)]()&&(_0x2b9aa7=_0x38c2e1[_0x500868(0x1cf)]?constants[_0x500868(0x227)]:constants[_0x500868(0x214)]);}let _0x324d19=_0x38c2e1[_0x500868(0x220)];if(_0x1362db[_0x500868(0x1f6)](_0x324d19,null))_0x324d19=_0x1362db[_0x500868(0x233)];else _0x1362db['awooz'](_0x324d19,undefined)&&(_0x324d19=_0x1362db[_0x500868(0x243)]);unhandledErrors&&_0x1362db[_0x500868(0x1c5)](unhandledErrors['length'],0x0)&&(_0x3997b4[_0x500868(0x1db)]=unhandledErrors);global[_0x500868(0x231)]&&(_0x3997b4[_0x500868(0x231)]=global['sdkRunId']);try{if(_0x3997b4[_0x500868(0x1e7)]){if(_0x1362db[_0x500868(0x22e)](_0x4cba85,_0x1362db[_0x500868(0x1e9)])&&_0x1362db[_0x500868(0x1f9)](_0x3997b4['error'][_0x500868(0x223)],0x0)){const _0x4eca6b={};_0x4eca6b['os']='',_0x4eca6b[_0x500868(0x258)]='',_0x4eca6b[_0x500868(0x1ee)]='',_0x4eca6b[_0x500868(0x250)]='';const _0x34cd5d=_0x4eca6b;let _0x2aca1d={};const _0x2fab3b=_0x3997b4[_0x500868(0x1e7)];_0x2aca1d=_0x2fab3b[_0x500868(0x1c4)]((_0x544aa3,_0xb49bd)=>{for(const _0x51ae3f in _0xb49bd){_0x544aa3[_0x51ae3f]=_0xb49bd[_0x51ae3f];}return _0x544aa3;},{});const _0x152900={};_0x152900[_0x500868(0x23d)]=_0x2aca1d,_0x3997b4[_0x500868(0x1e7)]=[Object[_0x500868(0x252)]({},_0x34cd5d,_0x152900)];}else{let _0x118259=0x0;const _0x360b3a=_0x1362db[_0x500868(0x245)](_0x4cba85,_0x1362db[_0x500868(0x219)])?JSON[_0x500868(0x253)](_0x3997b4[_0x500868(0x1e7)]):_0x3997b4[_0x500868(0x1e7)],_0x4c5d52=Object[_0x500868(0x211)](_0x360b3a);_0x4c5d52[_0x500868(0x22f)](_0x3e8f1d=>{const _0x5346ab=_0x500868;if(_0x1362db['awooz'](typeof _0x3e8f1d,_0x1362db[_0x5346ab(0x1d1)])){const _0xf6a68=Object[_0x5346ab(0x211)](_0x3e8f1d);!_0xf6a68[_0x5346ab(0x1fc)](_0x4acaff=>_0x4acaff===null||_0x4acaff===undefined||_0x4acaff==='')&&(_0x118259+=0x1);}});if(_0x1362db['awooz'](_0x118259,0x0))delete _0x3997b4[_0x1362db[_0x500868(0x237)]];else{const _0x1fc301=[];Object[_0x500868(0x1e6)](_0x360b3a)[_0x500868(0x22f)](_0x562639=>{const _0x13342a=_0x500868,[_0x185242,_0xbc7c3e,_0x693def,_0x4307e8]=_0x562639['split'](',\x20');let _0x3edd11={};if(!_0x4307e8){const _0x3225a8={};_0x3225a8[_0x13342a(0x212)]=_0x185242,_0x3225a8['osVersion']=_0xbc7c3e,_0x3225a8[_0x13342a(0x1ee)]=_0x693def,_0x3edd11=_0x3225a8;}else{const _0x4b5240={};_0x4b5240['os']=_0x185242,_0x4b5240[_0x13342a(0x258)]=_0xbc7c3e,_0x4b5240[_0x13342a(0x1ee)]=_0x693def,_0x4b5240[_0x13342a(0x250)]=_0x4307e8,_0x3edd11=_0x4b5240;}const _0x6e3182={},_0x5a71fb=_0x360b3a[_0x562639];Object[_0x13342a(0x1e6)](_0x5a71fb)[_0x13342a(0x22f)](_0x14eed7=>{const _0xaa88bf=_0x13342a;_0x1362db[_0xaa88bf(0x235)](_0x5a71fb[_0x14eed7][_0xaa88bf(0x223)],0x0)&&(_0x6e3182[_0x14eed7]=_0x5a71fb[_0x14eed7]);}),_0x1362db['aTPCC'](Object[_0x13342a(0x1e6)](_0x6e3182)[_0x13342a(0x223)],0x0)&&(_0x3edd11[_0x1362db[_0x13342a(0x1c6)]]=_0x6e3182,_0x1fc301[_0x13342a(0x1ef)](_0x3edd11));}),_0x1362db[_0x500868(0x235)](_0x1fc301[_0x500868(0x223)],0x0)?_0x3997b4[_0x500868(0x1e7)]=_0x1fc301:delete _0x3997b4[_0x1362db[_0x500868(0x237)]];}}}}catch(_0x3e956e){delete _0x3997b4[_0x1362db[_0x500868(0x237)]],logger['debug'](_0x1362db[_0x500868(0x1d0)](_0x1362db['Vddzq'],_0x3e956e));}const _0x990e88=helper[_0x500868(0x1c3)](_0x38c2e1,_0x38c2e1['framework']),_0x49ad00={'userName':helper['getUserName'](_0x38c2e1),'accessKey':helper[_0x500868(0x1fe)](_0x38c2e1),'event_type':_0x465891,'detectedFramework':_0x4cba85,'buildHashedId':globals[_0x500868(0x238)](_0x1362db[_0x500868(0x239)]),'optimalHubUrl':helper[_0x500868(0x203)](),'event_properties':{'testhub_uuid':process[_0x500868(0x1dd)][testHubConstants[_0x500868(0x1dc)]['BROWSERSTACK_TESTHUB_UUID']]||'','sdkRunId':global[_0x500868(0x231)],'product_map':_0x1362db[_0x500868(0x229)](getProductMap,_0x38c2e1),'productMap':_0x1362db['VXbwP'](getProductMap,_0x38c2e1),'language_framework':_0x38c2e1[_0x500868(0x20a)]||_0x1362db[_0x500868(0x207)],'referrer':helper[_0x500868(0x1d8)](_0x4cba85),'framework':_0x38c2e1[_0x500868(0x208)],'frameworkVersion':helper[_0x500868(0x1ec)](_0x4cba85),'automationFramework':_0x990e88[_0x500868(0x22b)],'automationFrameworkVersion':_0x990e88[_0x500868(0x21b)],'language':_0x1362db[_0x500868(0x232)],'languageVersion':process[_0x500868(0x21b)],'product':_0x2b9aa7,'buildName':_0x38c2e1[_0x500868(0x21a)]||_0x1362db[_0x500868(0x243)],'buildIdentifier':_0x324d19,'os':os['type']()||_0x1362db[_0x500868(0x207)],'hostname':os[_0x500868(0x23e)]()||_0x1362db[_0x500868(0x207)],..._0x3997b4}};try{_0x1362db[_0x500868(0x22e)](_0x465891,_0x1362db['BXLfh'])&&(_0x49ad00[_0x500868(0x1ea)][_0x500868(0x1fd)]=helper['sanitizeBrowserStackConfig'](_0x38c2e1)),_0x1362db[_0x500868(0x22e)](_0x4cba85,_0x1362db[_0x500868(0x219)])?_0x49ad00['event_properties'][_0x500868(0x1eb)]=helper['requirePWModule'][_0x500868(0x24e)](null,_0x1362db[_0x500868(0x1e4)](getTransformPath),!![]):_0x49ad00[_0x500868(0x1ea)]['seleniumVersion']=helper[_0x500868(0x23b)](_0x1362db['EnYyZ']);}catch(_0x23d50b){logger[_0x500868(0x1ce)](_0x500868(0x1d9)+_0x23d50b);}const _0xd6fb93={};_0xd6fb93[_0x500868(0x23f)]=_0x1362db['sqiAZ'];const _0x5c51e9={'headers':_0xd6fb93,'body':_0x49ad00,'auth':{'user':helper[_0x500868(0x22d)](_0x38c2e1),'pass':helper[_0x500868(0x1fe)](_0x38c2e1)},'json':!![]};logger[_0x500868(0x1ce)](_0x500868(0x20d)+JSON['stringify'](_0x5c51e9[_0x500868(0x1de)])['replace'](new RegExp(helper[_0x500868(0x22d)](_0x38c2e1),'g'),_0x1362db[_0x500868(0x254)])[_0x500868(0x1e3)](new RegExp(helper[_0x500868(0x1fe)](_0x38c2e1),'g'),_0x1362db['LCBvk']));try{const _0x5433ff=await helper[_0x500868(0x200)](_0x1362db['cWJaW'],constants[_0x500868(0x24c)],_0x5c51e9,_0x38c2e1);logger[_0x500868(0x1ce)](_0x500868(0x1f3)+_0x465891+_0x500868(0x24d)+util[_0x500868(0x215)]('%j',_0x5433ff));}catch(_0x45e9f9){logger['debug'](_0x500868(0x1f4)+FUNNEL_INSTRUMENTATION_API_URL+'\x20:\x20'+util[_0x500868(0x215)](_0x45e9f9));}},exports[a132_0x37a1ca(0x21c)]=async _0x3f66d2=>{const _0x309199=a132_0x37a1ca,_0x5de325={'jyUAa':function(_0x15229a){return _0x15229a();},'bSdYe':'finishedMetadata','rcQhM':'user_killed','auWst':_0x309199(0x1df),'dCDjW':function(_0x4af0dc,_0x3e4c25,_0x33237c){return _0x4af0dc(_0x3e4c25,_0x33237c);},'EmGkz':function(_0x2b8f82,_0x409bc3){return _0x2b8f82+_0x409bc3;},'yXFnu':_0x309199(0x1f7)};try{await _0x3f66d2[_0x309199(0x204)](),_0x5de325[_0x309199(0x20f)](printNudgeLocalNotSetError);const _0x4b5682={};_0x4b5682['error']=_0x3f66d2['errorMessage']?_0x3f66d2[_0x309199(0x255)]:'{}';const _0x2c4e8d=_0x4b5682,_0x406b64=Object[_0x309199(0x252)]({},_0x2c4e8d);!!_0x3f66d2[_0x309199(0x1f2)]&&(_0x406b64[_0x5de325[_0x309199(0x209)]]={'reason':_0x5de325[_0x309199(0x1e8)],'signal':_0x3f66d2[_0x309199(0x1f2)]});unhandledErrors=_0x3f66d2['unhandledErrors'][_0x309199(0x1cd)]('\x0a');let _0x545069,_0x4c6083,_0x3f9eec;helper[_0x309199(0x249)](_0x3f66d2[_0x309199(0x1ca)])?([_0x545069,_0x4c6083]=await helper['getTurboScaleBuildLink'](_0x3f66d2[_0x309199(0x1ca)]),[_0x3f9eec]=await Promise['all']([helper[_0x309199(0x1cc)](_0x545069,_0x3f66d2['config']),exports[_0x309199(0x1ff)](_0x5de325[_0x309199(0x1d4)],_0x406b64,_0x3f66d2['config'],_0x3f66d2[_0x309199(0x208)])])):([_0x545069,_0x4c6083]=await helper[_0x309199(0x23a)](_0x3f66d2[_0x309199(0x1ca)]),[_0x3f9eec]=await Promise[_0x309199(0x1e0)]([helper[_0x309199(0x1e5)](_0x545069,_0x3f66d2[_0x309199(0x1ca)]),exports[_0x309199(0x1ff)](_0x5de325[_0x309199(0x1d4)],_0x406b64,_0x3f66d2[_0x309199(0x1ca)],_0x3f66d2[_0x309199(0x208)])])),_0x3f9eec&&await _0x5de325[_0x309199(0x202)](generateCIArtifacts,_0x3f9eec,_0x4c6083),logger['info'](_0x309199(0x201)+_0x3f66d2['sdkRunId']+_0x309199(0x24b)+process['env']['BROWSERSTACK_TESTHUB_UUID']),await helper['sendLogs'](_0x3f66d2[_0x309199(0x1ca)]);}catch(_0x125666){logger['debug'](_0x5de325[_0x309199(0x206)](_0x5de325[_0x309199(0x221)],_0x125666));}helper[_0x309199(0x1f8)]();},exports['getStackTraceAsString']=_0x5c1a32=>{const _0x46d59d=a132_0x37a1ca,_0x436702={'BhXbC':function(_0x1f8a91,_0x14830b){return _0x1f8a91 instanceof _0x14830b;},'DYQSw':function(_0x37862b,_0x2d43fb){return _0x37862b(_0x2d43fb);}};try{if(_0x436702[_0x46d59d(0x210)](_0x5c1a32,Error))return _0x5c1a32[_0x46d59d(0x1e1)]||_0x5c1a32[_0x46d59d(0x259)]();return _0x436702[_0x46d59d(0x242)](String,_0x5c1a32);}catch(_0x6dff9e){return _0x5c1a32?_0x5c1a32[_0x46d59d(0x259)]():'';}},exports[a132_0x37a1ca(0x21e)]=_0xad3acb=>{const _0x417a48=a132_0x37a1ca,_0x224288={};_0x224288['OMWTA']=function(_0x4b085b,_0x34cc1d){return _0x4b085b===_0x34cc1d;};const _0x37e567=_0x224288;return!_0xad3acb||_0x37e567[_0x417a48(0x23c)](_0xad3acb[_0x417a48(0x248)](),'');},exports[a132_0x37a1ca(0x1d7)]=_0x4169c3=>{const _0x3272c1=a132_0x37a1ca,_0x55a94e={};_0x55a94e[_0x3272c1(0x246)]=function(_0x362919,_0x2db368){return _0x362919|_0x2db368;};const _0x538cb2=_0x55a94e;try{return fs[_0x3272c1(0x251)](_0x4169c3,_0x538cb2['WlydE'](fs['constants']['W_OK'],fs[_0x3272c1(0x22a)]['X_OK'])),!![];}catch(_0x3b44d9){return![];}},exports[a132_0x37a1ca(0x1e2)]=_0x183c42=>{const _0x584ee5=a132_0x37a1ca;try{fs[_0x584ee5(0x1cb)](_0x183c42,0x1ff),logger[_0x584ee5(0x1ce)](_0x584ee5(0x1c9)+_0x183c42+_0x584ee5(0x226));}catch(_0x1ce8a5){logger[_0x584ee5(0x1e7)](_0x584ee5(0x1c7)+exports[_0x584ee5(0x24f)](_0x1ce8a5));}};