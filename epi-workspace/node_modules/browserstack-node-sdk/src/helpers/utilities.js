const a129_0x77c689=a129_0x46d1;(function(_0x39c7c0,_0x414444){const _0x410acd=a129_0x46d1,_0x115eac=_0x39c7c0();while(!![]){try{const _0x5d9834=parseInt(_0x410acd(0x107))/0x1*(parseInt(_0x410acd(0x11b))/0x2)+-parseInt(_0x410acd(0x12c))/0x3+-parseInt(_0x410acd(0x158))/0x4*(-parseInt(_0x410acd(0x128))/0x5)+-parseInt(_0x410acd(0x139))/0x6+-parseInt(_0x410acd(0x12d))/0x7+parseInt(_0x410acd(0x10f))/0x8*(parseInt(_0x410acd(0x157))/0x9)+-parseInt(_0x410acd(0x117))/0xa*(parseInt(_0x410acd(0xe9))/0xb);if(_0x5d9834===_0x414444)break;else _0x115eac['push'](_0x115eac['shift']());}catch(_0x18f080){_0x115eac['push'](_0x115eac['shift']());}}}(a129_0x34aa,0x1f3f4));function a129_0x34aa(){const _0x397429=['./testhub/utils','fGECf','lbsaF','sHzSt','BtTgE','yVoLp','WIVNC','API\x20Event\x20','errorMessage','version','\x20:\x20','getFrameworkVersion','ZevTm','./helper','content-type','YLCAq','finalExecution','stopPercy','apply','framework','YMWWH','dnZmc','type','join','getNodeAgent','Error\x20in\x20firing\x20request\x20to\x20','chmodSync','FUNNEL_INSTRUMENTATION_API_URL','hostname','4092iOxntz','length','selenium-webdriver','APP_AUTOMATE','constants','ENV_VAR','sdkRunId','split','parse','Failed\x20to\x20set\x20directory\x20access:\x20','getAccessKey','unhandledErrors','AfqgF','\x20response\x20-\x20','isModifiable','tests','ybfMl','isTurboScaleSession','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','W_OK','getBuildLink','toString','trim','isNullOrEmpty','format','util','browser','hrpYg','keys','sanitizeBrowserStackConfig','69KgSzce','getSessionsList','body','AUTOMATE_PRODUCTS','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','accessSync','requirePWModule','SDKTestSuccessful','16kieivA','gJOmw','debug','config',',\x20testhub\x20id:\x20','assign','deviceName','object','4430qzGGIb','JAQNw','browserVersion','codeceptjs','7386GeFWTp','getUserName','name','setReadWriteExecuteAccess','AFChs','application/json','\x20has\x20now\x20read/write/execute\x20permissions.','./test-observability/utils','getTestFrameworkDetails','error','forEach','LNZBA','notifyUpdate','5geHSTC','xtEhq','source','osXVM','317775qjOaFY','434854AHxEme','NnEPB','HKIop','xjcMg','seleniumVersion','osVersion','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','browserStackConfig','buildIdentifier','hQaMz','values','stringify','794964yrUYrJ','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','fireFunnelTestEvent','./globals','QaOZJ','playwrightVersion','jzTWA','isBrowserstackInfra','env','gsTfq','null','POST','push','getPackageVersion','./logger','KuhVq','app','finishedMetadata','BIgJr','BROWSERSTACK_TESTHUB_UUID','NHrjT','Directory\x20','./performance/performance-tester','killSignal','getOptimalHubUrl','every','[REDACTED]','getTurboScaleBuildLink','miTeN','getTurboScaleSessionsList','810504XnFtbY','633584ZIdVjg','../helpers/testhub/constants','getStackTraceAsString','SxKba','wuwra','SDK\x20run\x20ended\x20for\x20id:\x20','QzZRu','../bin/utils/constants','unknown','reduce','winstonLogger','all','event_properties'];a129_0x34aa=function(){return _0x397429;};return a129_0x34aa();}const os=require('os'),util=require(a129_0x77c689(0x102)),fs=require('fs'),{getProductMap}=require(a129_0x77c689(0x165)),logger=require(a129_0x77c689(0x147))[a129_0x77c689(0x162)],constants=require('../bin/utils/constants'),testHubConstants=require(a129_0x77c689(0x159)),{getTransformPath}=require('../bin/playwright/reporter/pwUtils'),{FUNNEL_INSTRUMENTATION_API_URL}=require(a129_0x77c689(0x15f)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a129_0x77c689(0xd9)),PerformanceTester=require(a129_0x77c689(0x14f)),globals=require(a129_0x77c689(0x13c)),helper=require(a129_0x77c689(0xd9)),{isTestObservabilitySession}=require(a129_0x77c689(0x122));function a129_0x46d1(_0x5f3fbb,_0x512c33){const _0x34aa78=a129_0x34aa();return a129_0x46d1=function(_0x46d19f,_0x35ed8a){_0x46d19f=_0x46d19f-0xcf;let _0x31a792=_0x34aa78[_0x46d19f];return _0x31a792;},a129_0x46d1(_0x5f3fbb,_0x512c33);}let unhandledErrors='';exports[a129_0x77c689(0x13b)]=async(_0x2a4c47,_0x3f4cf3={},_0x41fff5,_0x456bfe)=>{const _0x5061d1=a129_0x77c689,_0x8ada2e={'gJOmw':function(_0x3df366,_0x11b918){return _0x3df366===_0x11b918;},'aSSIA':_0x5061d1(0x116),'jzTWA':function(_0x2d1a9d,_0x3466f5){return _0x2d1a9d>_0x3466f5;},'HKIop':function(_0x40ee6f,_0x5c12eb){return _0x40ee6f>_0x5c12eb;},'NHrjT':_0x5061d1(0xf8),'fGECf':function(_0x5ac830){return _0x5ac830();},'YLCAq':function(_0x148011,_0x2eb2b9){return _0x148011==_0x2eb2b9;},'TSHKO':_0x5061d1(0x143),'QzZRu':function(_0x49de6c,_0x337fef){return _0x49de6c===_0x337fef;},'LEPMW':'undefined','ZevTm':function(_0x542e7c,_0x170a63){return _0x542e7c>_0x170a63;},'hQaMz':function(_0x49bd90,_0x55ba69){return _0x49bd90===_0x55ba69;},'sHzSt':_0x5061d1(0x11a),'uXkgY':function(_0x1e0d82,_0x8463d7){return _0x1e0d82>_0x8463d7;},'osXVM':function(_0x41307d,_0x1d9993){return _0x41307d!==_0x1d9993;},'xtEhq':'Playwright','BtTgE':_0x5061d1(0x124),'NnEPB':function(_0xd8668e,_0x369d99){return _0xd8668e+_0x369d99;},'AFChs':_0x5061d1(0xfb),'LNZBA':'_buildHashedId','CYDRE':function(_0x4e074c,_0x5ad73c){return _0x4e074c(_0x5ad73c);},'SxKba':_0x5061d1(0x160),'WIVNC':'nodejs','qvnkA':function(_0x741b16,_0x2e6212){return _0x741b16===_0x2e6212;},'gXaKd':_0x5061d1(0x10e),'lbsaF':function(_0x29d275,_0x1edc19){return _0x29d275===_0x1edc19;},'uQaZp':function(_0x37a932){return _0x37a932();},'wuwra':_0x5061d1(0xeb),'dnZmc':_0x5061d1(0x120),'JAQNw':_0x5061d1(0x153),'yVoLp':_0x5061d1(0x144)};let _0x348c98=[];if(helper[_0x5061d1(0x140)]()&&_0x8ada2e[_0x5061d1(0x166)](isTestObservabilitySession))_0x348c98=_0x41fff5[_0x5061d1(0x149)]?constants['APP_AUTOMATE_PRODUCTS']:constants[_0x5061d1(0x10a)];else{if(_0x8ada2e[_0x5061d1(0x166)](isTestObservabilitySession))_0x348c98=constants[_0x5061d1(0x133)];else helper[_0x5061d1(0x140)]()&&(_0x348c98=_0x41fff5['app']?constants[_0x5061d1(0xec)]:constants['AUTOMATE']);}let _0x441b2a=_0x41fff5[_0x5061d1(0x135)];if(_0x8ada2e[_0x5061d1(0xdb)](_0x441b2a,null))_0x441b2a=_0x8ada2e['TSHKO'];else _0x8ada2e[_0x5061d1(0x15e)](_0x441b2a,undefined)&&(_0x441b2a=_0x8ada2e['LEPMW']);unhandledErrors&&_0x8ada2e[_0x5061d1(0xd8)](unhandledErrors[_0x5061d1(0xea)],0x0)&&(_0x3f4cf3['globalException']=unhandledErrors);global['sdkRunId']&&(_0x3f4cf3[_0x5061d1(0xef)]=global['sdkRunId']);try{if(_0x3f4cf3['error']){if(_0x8ada2e[_0x5061d1(0x136)](_0x456bfe,_0x8ada2e[_0x5061d1(0xcf)])&&_0x8ada2e['uXkgY'](_0x3f4cf3[_0x5061d1(0x124)][_0x5061d1(0xea)],0x0)){const _0x34d465={};_0x34d465['os']='',_0x34d465[_0x5061d1(0x132)]='',_0x34d465[_0x5061d1(0x103)]='',_0x34d465[_0x5061d1(0x119)]='';const _0x4948a2=_0x34d465;let _0x2bf7d9={};const _0x3a732e=_0x3f4cf3['error'];_0x2bf7d9=_0x3a732e[_0x5061d1(0x161)]((_0x3390db,_0x58230b)=>{for(const _0x56d217 in _0x58230b){_0x3390db[_0x56d217]=_0x58230b[_0x56d217];}return _0x3390db;},{});const _0x10a755={};_0x10a755[_0x5061d1(0xf8)]=_0x2bf7d9,_0x3f4cf3[_0x5061d1(0x124)]=[Object[_0x5061d1(0x114)]({},_0x4948a2,_0x10a755)];}else{let _0x124ccf=0x0;const _0x4a0e92=_0x8ada2e[_0x5061d1(0x12b)](_0x456bfe,_0x8ada2e['xtEhq'])?JSON[_0x5061d1(0xf1)](_0x3f4cf3[_0x5061d1(0x124)]):_0x3f4cf3[_0x5061d1(0x124)],_0x38fd14=Object[_0x5061d1(0x137)](_0x4a0e92);_0x38fd14[_0x5061d1(0x125)](_0x152ad9=>{const _0x449b38=_0x5061d1;if(_0x8ada2e[_0x449b38(0x110)](typeof _0x152ad9,_0x8ada2e['aSSIA'])){const _0x230fc2=Object[_0x449b38(0x137)](_0x152ad9);!_0x230fc2[_0x449b38(0x152)](_0x11dad4=>_0x11dad4===null||_0x11dad4===undefined||_0x11dad4==='')&&(_0x124ccf+=0x1);}});if(_0x8ada2e['gJOmw'](_0x124ccf,0x0))delete _0x3f4cf3[_0x8ada2e[_0x5061d1(0xd0)]];else{const _0x56cf41=[];Object[_0x5061d1(0x105)](_0x4a0e92)[_0x5061d1(0x125)](_0x5941d3=>{const _0x3bc89c=_0x5061d1,[_0x333a6a,_0xc56695,_0x443ac8,_0x4e5ed]=_0x5941d3[_0x3bc89c(0xf0)](',\x20');let _0xfd907d={};if(!_0x4e5ed){const _0x42f698={};_0x42f698[_0x3bc89c(0x115)]=_0x333a6a,_0x42f698[_0x3bc89c(0x132)]=_0xc56695,_0x42f698[_0x3bc89c(0x103)]=_0x443ac8,_0xfd907d=_0x42f698;}else{const _0x31b78b={};_0x31b78b['os']=_0x333a6a,_0x31b78b['osVersion']=_0xc56695,_0x31b78b[_0x3bc89c(0x103)]=_0x443ac8,_0x31b78b[_0x3bc89c(0x119)]=_0x4e5ed,_0xfd907d=_0x31b78b;}const _0x455846={},_0x535baa=_0x4a0e92[_0x5941d3];Object['keys'](_0x535baa)[_0x3bc89c(0x125)](_0x11d6a5=>{const _0x338b27=_0x3bc89c;_0x8ada2e[_0x338b27(0x13f)](_0x535baa[_0x11d6a5][_0x338b27(0xea)],0x0)&&(_0x455846[_0x11d6a5]=_0x535baa[_0x11d6a5]);}),_0x8ada2e[_0x3bc89c(0x12f)](Object[_0x3bc89c(0x105)](_0x455846)[_0x3bc89c(0xea)],0x0)&&(_0xfd907d[_0x8ada2e[_0x3bc89c(0x14d)]]=_0x455846,_0x56cf41[_0x3bc89c(0x145)](_0xfd907d));}),_0x8ada2e['jzTWA'](_0x56cf41[_0x5061d1(0xea)],0x0)?_0x3f4cf3[_0x5061d1(0x124)]=_0x56cf41:delete _0x3f4cf3[_0x8ada2e['BtTgE']];}}}}catch(_0x4ca4ef){delete _0x3f4cf3[_0x8ada2e[_0x5061d1(0xd0)]],logger[_0x5061d1(0x111)](_0x8ada2e[_0x5061d1(0x12e)](_0x8ada2e[_0x5061d1(0x11f)],_0x4ca4ef));}const _0x25f90d=helper[_0x5061d1(0x123)](_0x41fff5,_0x41fff5['framework']),_0x63a16b={'userName':helper['getUserName'](_0x41fff5),'accessKey':helper[_0x5061d1(0xf3)](_0x41fff5),'event_type':_0x2a4c47,'detectedFramework':_0x456bfe,'buildHashedId':globals['getGlobal'](_0x8ada2e[_0x5061d1(0x126)]),'optimalHubUrl':helper[_0x5061d1(0x151)](),'event_properties':{'testhub_uuid':process[_0x5061d1(0x141)][testHubConstants[_0x5061d1(0xee)]['BROWSERSTACK_TESTHUB_UUID']]||'','sdkRunId':global[_0x5061d1(0xef)],'product_map':_0x8ada2e['CYDRE'](getProductMap,_0x41fff5),'productMap':_0x8ada2e['CYDRE'](getProductMap,_0x41fff5),'language_framework':_0x41fff5[_0x5061d1(0x12a)]||_0x8ada2e[_0x5061d1(0x15b)],'referrer':helper[_0x5061d1(0xe4)](_0x456bfe),'framework':_0x41fff5[_0x5061d1(0xdf)],'frameworkVersion':helper[_0x5061d1(0xd7)](_0x456bfe),'automationFramework':_0x25f90d[_0x5061d1(0x11d)],'automationFrameworkVersion':_0x25f90d[_0x5061d1(0xd5)],'language':_0x8ada2e[_0x5061d1(0xd2)],'languageVersion':process[_0x5061d1(0xd5)],'product':_0x348c98,'buildName':_0x41fff5['buildName']||_0x8ada2e['LEPMW'],'buildIdentifier':_0x441b2a,'os':os[_0x5061d1(0xe2)]()||_0x8ada2e['SxKba'],'hostname':os[_0x5061d1(0xe8)]()||_0x8ada2e[_0x5061d1(0x15b)],..._0x3f4cf3}};try{_0x8ada2e['qvnkA'](_0x2a4c47,_0x8ada2e['gXaKd'])&&(_0x63a16b[_0x5061d1(0x164)][_0x5061d1(0x134)]=helper[_0x5061d1(0x106)](_0x41fff5)),_0x8ada2e[_0x5061d1(0x167)](_0x456bfe,_0x8ada2e[_0x5061d1(0x129)])?_0x63a16b['event_properties'][_0x5061d1(0x13e)]=helper[_0x5061d1(0x10d)][_0x5061d1(0xde)](null,_0x8ada2e['uQaZp'](getTransformPath),!![]):_0x63a16b[_0x5061d1(0x164)][_0x5061d1(0x131)]=helper[_0x5061d1(0x146)](_0x8ada2e[_0x5061d1(0x15c)]);}catch(_0x579bae){logger[_0x5061d1(0x111)]('Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20'+_0x579bae);}const _0x4135c1={};_0x4135c1[_0x5061d1(0xda)]=_0x8ada2e[_0x5061d1(0xe1)];const _0x37806c={'headers':_0x4135c1,'body':_0x63a16b,'auth':{'user':helper[_0x5061d1(0x11c)](_0x41fff5),'pass':helper[_0x5061d1(0xf3)](_0x41fff5)},'json':!![]};logger[_0x5061d1(0x111)](_0x5061d1(0x10b)+JSON[_0x5061d1(0x138)](_0x37806c[_0x5061d1(0x109)])['replace'](new RegExp(helper['getUserName'](_0x41fff5),'g'),_0x8ada2e[_0x5061d1(0x118)])['replace'](new RegExp(helper[_0x5061d1(0xf3)](_0x41fff5),'g'),_0x8ada2e['JAQNw']));try{const _0x5b8dae=await helper['nodeRequest'](_0x8ada2e[_0x5061d1(0xd1)],constants[_0x5061d1(0xe7)],_0x37806c,_0x41fff5);logger[_0x5061d1(0x111)](_0x5061d1(0xd3)+_0x2a4c47+_0x5061d1(0xf6)+util[_0x5061d1(0x101)]('%j',_0x5b8dae));}catch(_0x39ebc8){logger[_0x5061d1(0x111)](_0x5061d1(0xe5)+FUNNEL_INSTRUMENTATION_API_URL+_0x5061d1(0xd6)+util[_0x5061d1(0x101)](_0x39ebc8));}},exports[a129_0x77c689(0xdc)]=async _0x54cc18=>{const _0x2d1c39=a129_0x77c689,_0x3582f0={'YMWWH':function(_0x2d4c82){return _0x2d4c82();},'miTeN':_0x2d1c39(0x14a),'ybfMl':'user_killed','AfqgF':_0x2d1c39(0x10e),'QaOZJ':function(_0x23496d,_0x533d9c,_0x1ce084){return _0x23496d(_0x533d9c,_0x1ce084);},'tYmcn':function(_0x4d9654,_0x5c44b3){return _0x4d9654+_0x5c44b3;},'KuhVq':_0x2d1c39(0x13a)};try{await _0x54cc18[_0x2d1c39(0xdd)](),_0x3582f0[_0x2d1c39(0xe0)](printNudgeLocalNotSetError);const _0x206c8f={};_0x206c8f[_0x2d1c39(0x124)]=_0x54cc18[_0x2d1c39(0xd4)]?_0x54cc18[_0x2d1c39(0xd4)]:'{}';const _0x238714=_0x206c8f,_0x5c3664=Object['assign']({},_0x238714);!!_0x54cc18[_0x2d1c39(0x150)]&&(_0x5c3664[_0x3582f0[_0x2d1c39(0x155)]]={'reason':_0x3582f0[_0x2d1c39(0xf9)],'signal':_0x54cc18['killSignal']});unhandledErrors=_0x54cc18[_0x2d1c39(0xf4)][_0x2d1c39(0xe3)]('\x0a');let _0x10b6f8,_0x1ec9c3,_0x4eee36;helper[_0x2d1c39(0xfa)](_0x54cc18['config'])?([_0x10b6f8,_0x1ec9c3]=await helper[_0x2d1c39(0x154)](_0x54cc18['config']),[_0x4eee36]=await Promise['all']([helper[_0x2d1c39(0x156)](_0x10b6f8,_0x54cc18[_0x2d1c39(0x112)]),exports['fireFunnelTestEvent'](_0x3582f0[_0x2d1c39(0xf5)],_0x5c3664,_0x54cc18['config'],_0x54cc18['framework'])])):([_0x10b6f8,_0x1ec9c3]=await helper[_0x2d1c39(0xfd)](_0x54cc18['config']),[_0x4eee36]=await Promise[_0x2d1c39(0x163)]([helper[_0x2d1c39(0x108)](_0x10b6f8,_0x54cc18[_0x2d1c39(0x112)]),exports['fireFunnelTestEvent'](_0x3582f0[_0x2d1c39(0xf5)],_0x5c3664,_0x54cc18['config'],_0x54cc18[_0x2d1c39(0xdf)])])),_0x4eee36&&await _0x3582f0[_0x2d1c39(0x13d)](generateCIArtifacts,_0x4eee36,_0x1ec9c3),logger['info'](_0x2d1c39(0x15d)+_0x54cc18[_0x2d1c39(0xef)]+_0x2d1c39(0x113)+process[_0x2d1c39(0x141)][_0x2d1c39(0x14c)]),await helper['sendLogs'](_0x54cc18[_0x2d1c39(0x112)]);}catch(_0x1ef479){logger[_0x2d1c39(0x111)](_0x3582f0['tYmcn'](_0x3582f0[_0x2d1c39(0x148)],_0x1ef479));}helper[_0x2d1c39(0x127)]();},exports[a129_0x77c689(0x15a)]=_0x2b892e=>{const _0x8ef143=a129_0x77c689,_0x1ccb42={'hrpYg':function(_0x4246d3,_0x2ea0ff){return _0x4246d3 instanceof _0x2ea0ff;},'xjcMg':function(_0x2f8d4c,_0x5a6efb){return _0x2f8d4c(_0x5a6efb);}};try{if(_0x1ccb42[_0x8ef143(0x104)](_0x2b892e,Error))return _0x2b892e['stack']||_0x2b892e[_0x8ef143(0xfe)]();return _0x1ccb42[_0x8ef143(0x130)](String,_0x2b892e);}catch(_0x2f739a){return _0x2b892e?_0x2b892e[_0x8ef143(0xfe)]():'';}},exports[a129_0x77c689(0x100)]=_0x2ebf7a=>{const _0x369168=a129_0x77c689,_0x44edbf={};_0x44edbf[_0x369168(0x14b)]=function(_0x56c913,_0x667cc6){return _0x56c913===_0x667cc6;};const _0x2be6c3=_0x44edbf;return!_0x2ebf7a||_0x2be6c3[_0x369168(0x14b)](_0x2ebf7a[_0x369168(0xff)](),'');},exports[a129_0x77c689(0xf7)]=_0x2e545e=>{const _0x3a62b7=a129_0x77c689,_0x214f74={};_0x214f74[_0x3a62b7(0x142)]=function(_0x21708e,_0x442f8d){return _0x21708e|_0x442f8d;};const _0x220668=_0x214f74;try{return fs[_0x3a62b7(0x10c)](_0x2e545e,_0x220668[_0x3a62b7(0x142)](fs[_0x3a62b7(0xed)][_0x3a62b7(0xfc)],fs[_0x3a62b7(0xed)]['X_OK'])),!![];}catch(_0x4df685){return![];}},exports[a129_0x77c689(0x11e)]=_0x4036ac=>{const _0x2ddf02=a129_0x77c689;try{fs[_0x2ddf02(0xe6)](_0x4036ac,0x1ff),logger[_0x2ddf02(0x111)](_0x2ddf02(0x14e)+_0x4036ac+_0x2ddf02(0x121));}catch(_0x28061c){logger[_0x2ddf02(0x124)](_0x2ddf02(0xf2)+exports[_0x2ddf02(0x15a)](_0x28061c));}};