const a138_0x3774c3=a138_0x1693;(function(_0x8bee35,_0x38b6c1){const _0x3037b8=a138_0x1693,_0x1fdf2e=_0x8bee35();while(!![]){try{const _0x4989e7=-parseInt(_0x3037b8(0xd7))/0x1*(-parseInt(_0x3037b8(0x7b))/0x2)+parseInt(_0x3037b8(0x9a))/0x3*(-parseInt(_0x3037b8(0x85))/0x4)+parseInt(_0x3037b8(0xe1))/0x5*(-parseInt(_0x3037b8(0x95))/0x6)+-parseInt(_0x3037b8(0xc7))/0x7+-parseInt(_0x3037b8(0xdf))/0x8+parseInt(_0x3037b8(0xb6))/0x9*(-parseInt(_0x3037b8(0x81))/0xa)+parseInt(_0x3037b8(0xa1))/0xb;if(_0x4989e7===_0x38b6c1)break;else _0x1fdf2e['push'](_0x1fdf2e['shift']());}catch(_0xb1146d){_0x1fdf2e['push'](_0x1fdf2e['shift']());}}}(a138_0x2a37,0xd3e18));function a138_0x2a37(){const _0x29ac4b=['MqoqF','trim','bpEqu','framework','error','Playwright','fmnUo','seleniumVersion','LXjPY','APP_AUTOMATE','parse','util','sanitizeBrowserStackConfig','getFrameworkVersion','11214182nTXLLU','\x20response\x20-\x20','getTurboScaleBuildLink','rJYZO','./performance/performance-tester','QlZwb','qZWlp','osVersion','content-type','MldCR','env','user_killed','SDKTestSuccessful','../bin/utils/constants','getNodeAgent','RsiXL','38tEMJwa','forEach','assign','buildIdentifier','stack','getUserName','BROWSERSTACK_TESTHUB_UUID','object','12740400MKxvlk','./logger','5FbJGoU','unhandledErrors','apply','API\x20Event\x20','bbkEx','./test-observability/utils','ptsas','length','EnxBd','W_OK','tbiPH','RgVtc','../bin/playwright/reporter/pwUtils','reduce','ihdWo','../helpers/testhub/constants','X_OK','getSessionsList','YTTll','codeceptjs','\x20:\x20','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','application/json','selenium-webdriver','all','Failed\x20to\x20set\x20directory\x20access:\x20','every','app','kWdoH','LYrkh','values','[REDACTED]','fireFunnelTestEvent','APP_AUTOMATE_PRODUCTS','browser','sdkRunId','replace','nodejs','stringify','browserVersion','format',',\x20testhub\x20id:\x20','source','setReadWriteExecuteAccess','_buildHashedId','wUKRd','dTRLJ','getTurboScaleSessionsList','62340dmTUxS','getAccessKey','szTFv','hoqSo','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','RTUTY','246770NLCDAD','ENV_VAR','keys','kevPv','4GaYbrf','deviceName','errorMessage','AUTOMATE','getStackTraceAsString','./globals','AUTOMATE_PRODUCTS','name','nGUSX','zHWDa','buildName','getPackageVersion','MsGty','xdKKq','debug','type','6979704hZnzBc','NHOYt','globalException','event_properties','kmkUF','117843RLyLKo','config','TcYIq','sendLogs','getGlobal','version','POST','46786124tthYzm','toString','unknown','nodeRequest','tests','ARioM','\x20has\x20now\x20read/write/execute\x20permissions.','push','requirePWModule','browserStackConfig','stopPercy','getBuildLink','notifyUpdate','isTurboScaleSession','constants','./helper','FsIiu','ELSFQ','cnFvy','getOptimalHubUrl','winstonLogger','63EWcqCI','SDK\x20run\x20ended\x20for\x20id:\x20','uyWdS'];a138_0x2a37=function(){return _0x29ac4b;};return a138_0x2a37();}const os=require('os'),util=require(a138_0x3774c3(0xc4)),fs=require('fs'),{getProductMap}=require('./testhub/utils'),logger=require(a138_0x3774c3(0xe0))[a138_0x3774c3(0xb5)],constants=require(a138_0x3774c3(0xd4)),testHubConstants=require(a138_0x3774c3(0xf0)),{getTransformPath}=require(a138_0x3774c3(0xed)),{FUNNEL_INSTRUMENTATION_API_URL}=require('../bin/utils/constants'),{generateCIArtifacts,printNudgeLocalNotSetError}=require('./helper'),PerformanceTester=require(a138_0x3774c3(0xcb)),globals=require(a138_0x3774c3(0x8a)),helper=require(a138_0x3774c3(0xb0)),{isTestObservabilitySession}=require(a138_0x3774c3(0xe6));function a138_0x1693(_0x5467d4,_0x22df78){const _0x2a377b=a138_0x2a37();return a138_0x1693=function(_0x1693cd,_0x6626dd){_0x1693cd=_0x1693cd-0x6f;let _0x5b9a5f=_0x2a377b[_0x1693cd];return _0x5b9a5f;},a138_0x1693(_0x5467d4,_0x22df78);}let unhandledErrors='';exports['fireFunnelTestEvent']=async(_0x31ab81,_0x7380f2={},_0x445a3a,_0x2b1dcd)=>{const _0x35a8b5=a138_0x3774c3,_0x3ec43e={'bpEqu':function(_0x100b0c,_0x1e0737){return _0x100b0c===_0x1e0737;},'kWdoH':_0x35a8b5(0xde),'ELSFQ':function(_0x31241c,_0x2c2600){return _0x31241c>_0x2c2600;},'NHOYt':_0x35a8b5(0xa5),'TcYIq':function(_0x4a72aa){return _0x4a72aa();},'neZvM':function(_0x37aa3f){return _0x37aa3f();},'FsIiu':function(_0x332870,_0x3e3d46){return _0x332870==_0x3e3d46;},'ptsas':'null','tbiPH':'undefined','szTFv':function(_0x2f0e1e,_0x45b6a2){return _0x2f0e1e>_0x45b6a2;},'YTTll':function(_0x4ddf6a,_0x86907d){return _0x4ddf6a===_0x86907d;},'zHWDa':_0x35a8b5(0xf4),'FgqdO':function(_0x864688,_0x5674ee){return _0x864688>_0x5674ee;},'LYrkh':function(_0x5bdfac,_0x55045f){return _0x5bdfac!==_0x55045f;},'uyWdS':_0x35a8b5(0xbe),'xdKKq':_0x35a8b5(0xbd),'kmkUF':function(_0x2c023c,_0x2060bd){return _0x2c023c+_0x2060bd;},'cnFvy':'Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','RgVtc':_0x35a8b5(0x77),'qZWlp':function(_0x448672,_0x2438e4){return _0x448672(_0x2438e4);},'ihdWo':_0x35a8b5(0xa3),'nGUSX':_0x35a8b5(0x70),'bbkEx':_0x35a8b5(0xd3),'LXjPY':function(_0x367511,_0x3c3ac5){return _0x367511===_0x3c3ac5;},'QlZwb':_0x35a8b5(0xf8),'RsiXL':_0x35a8b5(0xf7),'EnxBd':_0x35a8b5(0x100),'hoqSo':_0x35a8b5(0xa0)};let _0x211a2f=[];if(helper['isBrowserstackInfra']()&&_0x3ec43e[_0x35a8b5(0x9c)](isTestObservabilitySession))_0x211a2f=_0x445a3a[_0x35a8b5(0xfc)]?constants[_0x35a8b5(0x102)]:constants[_0x35a8b5(0x8b)];else{if(_0x3ec43e['neZvM'](isTestObservabilitySession))_0x211a2f=constants['PRODUCT_IF_NOT_BROWSERSTACK_INFRA'];else helper['isBrowserstackInfra']()&&(_0x211a2f=_0x445a3a[_0x35a8b5(0xfc)]?constants[_0x35a8b5(0xc2)]:constants[_0x35a8b5(0x88)]);}let _0x27686a=_0x445a3a[_0x35a8b5(0xda)];if(_0x3ec43e[_0x35a8b5(0xb1)](_0x27686a,null))_0x27686a=_0x3ec43e[_0x35a8b5(0xe7)];else _0x3ec43e['bpEqu'](_0x27686a,undefined)&&(_0x27686a=_0x3ec43e[_0x35a8b5(0xeb)]);unhandledErrors&&_0x3ec43e['szTFv'](unhandledErrors[_0x35a8b5(0xe8)],0x0)&&(_0x7380f2[_0x35a8b5(0x97)]=unhandledErrors);global['sdkRunId']&&(_0x7380f2[_0x35a8b5(0x104)]=global[_0x35a8b5(0x104)]);try{if(_0x7380f2[_0x35a8b5(0xbd)]){if(_0x3ec43e[_0x35a8b5(0xf3)](_0x2b1dcd,_0x3ec43e[_0x35a8b5(0x8e)])&&_0x3ec43e['FgqdO'](_0x7380f2[_0x35a8b5(0xbd)][_0x35a8b5(0xe8)],0x0)){const _0x27ae99={};_0x27ae99['os']='',_0x27ae99['osVersion']='',_0x27ae99[_0x35a8b5(0x103)]='',_0x27ae99['browserVersion']='';const _0x5ba45a=_0x27ae99;let _0x298908={};const _0x129b48=_0x7380f2['error'];_0x298908=_0x129b48[_0x35a8b5(0xee)]((_0x1271bb,_0x5746c4)=>{for(const _0x503125 in _0x5746c4){_0x1271bb[_0x503125]=_0x5746c4[_0x503125];}return _0x1271bb;},{});const _0x5e37ac={};_0x5e37ac[_0x35a8b5(0xa5)]=_0x298908,_0x7380f2[_0x35a8b5(0xbd)]=[Object['assign']({},_0x5ba45a,_0x5e37ac)];}else{let _0x4ed361=0x0;const _0x335cc4=_0x3ec43e[_0x35a8b5(0xfe)](_0x2b1dcd,_0x3ec43e[_0x35a8b5(0xb8)])?JSON[_0x35a8b5(0xc3)](_0x7380f2[_0x35a8b5(0xbd)]):_0x7380f2[_0x35a8b5(0xbd)],_0x39a3ca=Object[_0x35a8b5(0xff)](_0x335cc4);_0x39a3ca['forEach'](_0xc6d5a2=>{const _0x41d18d=_0x35a8b5;if(_0x3ec43e[_0x41d18d(0xbb)](typeof _0xc6d5a2,_0x3ec43e[_0x41d18d(0xfd)])){const _0x13e894=Object[_0x41d18d(0xff)](_0xc6d5a2);!_0x13e894[_0x41d18d(0xfb)](_0xb1883e=>_0xb1883e===null||_0xb1883e===undefined||_0xb1883e==='')&&(_0x4ed361+=0x1);}});if(_0x3ec43e['YTTll'](_0x4ed361,0x0))delete _0x7380f2[_0x3ec43e[_0x35a8b5(0x92)]];else{const _0x100a0c=[];Object[_0x35a8b5(0x83)](_0x335cc4)[_0x35a8b5(0xd8)](_0x2786f8=>{const _0x5675dd=_0x35a8b5,[_0x51fc64,_0x450127,_0x62c80,_0x38a4d0]=_0x2786f8['split'](',\x20');let _0x16eb24={};if(!_0x38a4d0){const _0x31704e={};_0x31704e[_0x5675dd(0x86)]=_0x51fc64,_0x31704e[_0x5675dd(0xce)]=_0x450127,_0x31704e[_0x5675dd(0x103)]=_0x62c80,_0x16eb24=_0x31704e;}else{const _0x183d13={};_0x183d13['os']=_0x51fc64,_0x183d13['osVersion']=_0x450127,_0x183d13['browser']=_0x62c80,_0x183d13[_0x5675dd(0x72)]=_0x38a4d0,_0x16eb24=_0x183d13;}const _0x287851={},_0x23d73a=_0x335cc4[_0x2786f8];Object[_0x5675dd(0x83)](_0x23d73a)['forEach'](_0xfb2bdd=>{_0x3ec43e['ELSFQ'](_0x23d73a[_0xfb2bdd]['length'],0x0)&&(_0x287851[_0xfb2bdd]=_0x23d73a[_0xfb2bdd]);}),_0x3ec43e[_0x5675dd(0xb2)](Object[_0x5675dd(0x83)](_0x287851)[_0x5675dd(0xe8)],0x0)&&(_0x16eb24[_0x3ec43e[_0x5675dd(0x96)]]=_0x287851,_0x100a0c[_0x5675dd(0xa8)](_0x16eb24));}),_0x3ec43e[_0x35a8b5(0x7d)](_0x100a0c[_0x35a8b5(0xe8)],0x0)?_0x7380f2[_0x35a8b5(0xbd)]=_0x100a0c:delete _0x7380f2[_0x3ec43e[_0x35a8b5(0x92)]];}}}}catch(_0x1c0ebd){delete _0x7380f2[_0x3ec43e[_0x35a8b5(0x92)]],logger['debug'](_0x3ec43e[_0x35a8b5(0x99)](_0x3ec43e[_0x35a8b5(0xb3)],_0x1c0ebd));}const _0x533d4e=helper['getTestFrameworkDetails'](_0x445a3a,_0x445a3a[_0x35a8b5(0xbc)]),_0x46960e={'userName':helper[_0x35a8b5(0xdc)](_0x445a3a),'accessKey':helper['getAccessKey'](_0x445a3a),'event_type':_0x31ab81,'detectedFramework':_0x2b1dcd,'buildHashedId':globals[_0x35a8b5(0x9e)](_0x3ec43e[_0x35a8b5(0xec)]),'optimalHubUrl':helper[_0x35a8b5(0xb4)](),'event_properties':{'testhub_uuid':process[_0x35a8b5(0xd1)][testHubConstants[_0x35a8b5(0x82)][_0x35a8b5(0xdd)]]||'','sdkRunId':global['sdkRunId'],'product_map':_0x3ec43e['qZWlp'](getProductMap,_0x445a3a),'productMap':_0x3ec43e[_0x35a8b5(0xcd)](getProductMap,_0x445a3a),'language_framework':_0x445a3a[_0x35a8b5(0x75)]||_0x3ec43e['ihdWo'],'referrer':helper[_0x35a8b5(0xd5)](_0x2b1dcd),'framework':_0x445a3a['framework'],'frameworkVersion':helper[_0x35a8b5(0xc6)](_0x2b1dcd),'automationFramework':_0x533d4e[_0x35a8b5(0x8c)],'automationFrameworkVersion':_0x533d4e[_0x35a8b5(0x9f)],'language':_0x3ec43e[_0x35a8b5(0x8d)],'languageVersion':process[_0x35a8b5(0x9f)],'product':_0x211a2f,'buildName':_0x445a3a[_0x35a8b5(0x8f)]||_0x3ec43e[_0x35a8b5(0xeb)],'buildIdentifier':_0x27686a,'os':os[_0x35a8b5(0x94)]()||_0x3ec43e[_0x35a8b5(0xef)],'hostname':os['hostname']()||_0x3ec43e[_0x35a8b5(0xef)],..._0x7380f2}};try{_0x3ec43e['YTTll'](_0x31ab81,_0x3ec43e[_0x35a8b5(0xe5)])&&(_0x46960e['event_properties'][_0x35a8b5(0xaa)]=helper[_0x35a8b5(0xc5)](_0x445a3a)),_0x3ec43e[_0x35a8b5(0xc1)](_0x2b1dcd,_0x3ec43e[_0x35a8b5(0xb8)])?_0x46960e[_0x35a8b5(0x98)]['playwrightVersion']=helper[_0x35a8b5(0xa9)][_0x35a8b5(0xe3)](null,_0x3ec43e[_0x35a8b5(0x9c)](getTransformPath),!![]):_0x46960e[_0x35a8b5(0x98)][_0x35a8b5(0xc0)]=helper[_0x35a8b5(0x90)](_0x3ec43e[_0x35a8b5(0xcc)]);}catch(_0x38cb6f){logger[_0x35a8b5(0x93)](_0x35a8b5(0x7f)+_0x38cb6f);}const _0x560b34={};_0x560b34[_0x35a8b5(0xcf)]=_0x3ec43e[_0x35a8b5(0xd6)];const _0x5c0353={'headers':_0x560b34,'body':_0x46960e,'auth':{'user':helper[_0x35a8b5(0xdc)](_0x445a3a),'pass':helper[_0x35a8b5(0x7c)](_0x445a3a)},'json':!![]};logger['debug']('Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20'+JSON[_0x35a8b5(0x71)](_0x5c0353['body'])['replace'](new RegExp(helper[_0x35a8b5(0xdc)](_0x445a3a),'g'),_0x3ec43e[_0x35a8b5(0xe9)])[_0x35a8b5(0x6f)](new RegExp(helper[_0x35a8b5(0x7c)](_0x445a3a),'g'),_0x3ec43e['EnxBd']));try{const _0xe506eb=await helper[_0x35a8b5(0xa4)](_0x3ec43e[_0x35a8b5(0x7e)],FUNNEL_INSTRUMENTATION_API_URL,_0x5c0353,_0x445a3a);logger[_0x35a8b5(0x93)](_0x35a8b5(0xe4)+_0x31ab81+_0x35a8b5(0xc8)+util[_0x35a8b5(0x73)]('%j',_0xe506eb));}catch(_0x991bfd){logger[_0x35a8b5(0x93)]('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+_0x35a8b5(0xf5)+util[_0x35a8b5(0x73)](_0x991bfd));}},exports['finalExecution']=async _0x293423=>{const _0x342b20=a138_0x3774c3,_0x2c1334={'rJYZO':function(_0xf9fced){return _0xf9fced();},'MldCR':'finishedMetadata','kevPv':_0x342b20(0xd2),'MqoqF':_0x342b20(0xd3),'fmnUo':function(_0x4364f0,_0x38efa3,_0x15ec7e){return _0x4364f0(_0x38efa3,_0x15ec7e);},'wUKRd':function(_0x25b17f,_0x1026c2){return _0x25b17f+_0x1026c2;},'dTRLJ':_0x342b20(0xf6)};try{await _0x293423[_0x342b20(0xab)](),_0x2c1334[_0x342b20(0xca)](printNudgeLocalNotSetError);const _0x409a59={};_0x409a59[_0x342b20(0xbd)]=_0x293423[_0x342b20(0x87)]?_0x293423[_0x342b20(0x87)]:'{}';const _0xffdc78=_0x409a59,_0x25ca3a=Object[_0x342b20(0xd9)]({},_0xffdc78);!!_0x293423['killSignal']&&(_0x25ca3a[_0x2c1334[_0x342b20(0xd0)]]={'reason':_0x2c1334[_0x342b20(0x84)],'signal':_0x293423['killSignal']});unhandledErrors=_0x293423[_0x342b20(0xe2)]['join']('\x0a');let _0x21a861,_0x1d9136,_0x2deac6;helper[_0x342b20(0xae)](_0x293423[_0x342b20(0x9b)])?([_0x21a861,_0x1d9136]=await helper[_0x342b20(0xc9)](_0x293423['config']),[_0x2deac6]=await Promise[_0x342b20(0xf9)]([helper[_0x342b20(0x7a)](_0x21a861,_0x293423[_0x342b20(0x9b)]),exports[_0x342b20(0x101)](_0x2c1334[_0x342b20(0xb9)],_0x25ca3a,_0x293423[_0x342b20(0x9b)],_0x293423[_0x342b20(0xbc)])])):([_0x21a861,_0x1d9136]=await helper[_0x342b20(0xac)](_0x293423[_0x342b20(0x9b)]),[_0x2deac6]=await Promise[_0x342b20(0xf9)]([helper[_0x342b20(0xf2)](_0x21a861,_0x293423['config']),exports[_0x342b20(0x101)](_0x2c1334[_0x342b20(0xb9)],_0x25ca3a,_0x293423['config'],_0x293423[_0x342b20(0xbc)])])),_0x2deac6&&await _0x2c1334[_0x342b20(0xbf)](generateCIArtifacts,_0x2deac6,_0x1d9136),logger['info'](_0x342b20(0xb7)+_0x293423[_0x342b20(0x104)]+_0x342b20(0x74)+process['env']['BROWSERSTACK_TESTHUB_UUID']),await helper[_0x342b20(0x9d)](_0x293423[_0x342b20(0x9b)]);}catch(_0x2ea8e6){logger[_0x342b20(0x93)](_0x2c1334[_0x342b20(0x78)](_0x2c1334[_0x342b20(0x79)],_0x2ea8e6));}helper[_0x342b20(0xad)]();},exports['getStackTraceAsString']=_0x1654b9=>{const _0x593061=a138_0x3774c3,_0x4aedf3={'ARioM':function(_0x1fd9a6,_0x23ad17){return _0x1fd9a6 instanceof _0x23ad17;},'RTUTY':function(_0x2c4596,_0xbdabc0){return _0x2c4596(_0xbdabc0);}};try{if(_0x4aedf3[_0x593061(0xa6)](_0x1654b9,Error))return _0x1654b9[_0x593061(0xdb)]||_0x1654b9[_0x593061(0xa2)]();return _0x4aedf3[_0x593061(0x80)](String,_0x1654b9);}catch(_0x45df90){return _0x1654b9?_0x1654b9[_0x593061(0xa2)]():'';}},exports['isNullOrEmpty']=_0x40c828=>{const _0xa6a9aa=a138_0x3774c3,_0x2b1654={};_0x2b1654['xVccO']=function(_0x3ac529,_0x2f17cf){return _0x3ac529===_0x2f17cf;};const _0x327db6=_0x2b1654;return!_0x40c828||_0x327db6['xVccO'](_0x40c828[_0xa6a9aa(0xba)](),'');},exports['isModifiable']=_0x5201b9=>{const _0x2a2c7f=a138_0x3774c3,_0x13ae68={};_0x13ae68[_0x2a2c7f(0x91)]=function(_0x21a98f,_0xc3baf7){return _0x21a98f|_0xc3baf7;};const _0xf4aa6e=_0x13ae68;try{return fs['accessSync'](_0x5201b9,_0xf4aa6e[_0x2a2c7f(0x91)](fs['constants'][_0x2a2c7f(0xea)],fs[_0x2a2c7f(0xaf)][_0x2a2c7f(0xf1)])),!![];}catch(_0xcf4e9e){return![];}},exports[a138_0x3774c3(0x76)]=_0x500f01=>{const _0x16b738=a138_0x3774c3;try{fs['chmodSync'](_0x500f01,0x1ff),logger[_0x16b738(0x93)]('Directory\x20'+_0x500f01+_0x16b738(0xa7));}catch(_0xafe927){logger[_0x16b738(0xbd)](_0x16b738(0xfa)+exports[_0x16b738(0x89)](_0xafe927));}};