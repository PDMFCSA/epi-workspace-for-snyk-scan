const a129_0x2e4898=a129_0x5534;(function(_0x20e71c,_0x57dc07){const _0x375556=a129_0x5534,_0x53cb33=_0x20e71c();while(!![]){try{const _0xd487e8=-parseInt(_0x375556(0x130))/0x1+-parseInt(_0x375556(0x16e))/0x2+-parseInt(_0x375556(0x113))/0x3+-parseInt(_0x375556(0x146))/0x4*(parseInt(_0x375556(0x186))/0x5)+parseInt(_0x375556(0x177))/0x6+parseInt(_0x375556(0x136))/0x7*(-parseInt(_0x375556(0x13b))/0x8)+parseInt(_0x375556(0x179))/0x9*(parseInt(_0x375556(0x14f))/0xa);if(_0xd487e8===_0x57dc07)break;else _0x53cb33['push'](_0x53cb33['shift']());}catch(_0x43f0f8){_0x53cb33['push'](_0x53cb33['shift']());}}}(a129_0x12b9,0xc9e05));function a129_0x5534(_0x2e26b6,_0x3a000a){const _0x12b970=a129_0x12b9();return a129_0x5534=function(_0x5534d1,_0x2e87ca){_0x5534d1=_0x5534d1-0x103;let _0x2a60a9=_0x12b970[_0x5534d1];return _0x2a60a9;},a129_0x5534(_0x2e26b6,_0x3a000a);}const os=require('os'),util=require(a129_0x2e4898(0x112)),fs=require('fs'),{getProductMap}=require(a129_0x2e4898(0x127)),logger=require(a129_0x2e4898(0x155))['winstonLogger'],constants=require(a129_0x2e4898(0x148)),testHubConstants=require(a129_0x2e4898(0x17f)),{getTransformPath}=require(a129_0x2e4898(0x171)),{FUNNEL_INSTRUMENTATION_API_URL}=require('../bin/utils/constants'),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a129_0x2e4898(0x13e)),PerformanceTester=require(a129_0x2e4898(0x157)),globals=require(a129_0x2e4898(0x134)),helper=require(a129_0x2e4898(0x13e)),{isTestObservabilitySession}=require('./test-observability/utils');function a129_0x12b9(){const _0xa5063b=['SDK\x20run\x20ended\x20for\x20id:\x20','isModifiable','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','gGJTj','getTestFrameworkDetails','stack','getUserName','BROWSERSTACK_TESTHUB_UUID','apply','framework','playwrightVersion','[REDACTED]','rVRYS','source','util','1245318lSfHyR','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','phoem','forEach','user_killed','kfDSc','Error\x20in\x20firing\x20request\x20to\x20','browser','stopPercy','accessSync','API\x20Event\x20','killSignal','chmodSync','codeceptjs','Kxkbx','FUNNEL_INSTRUMENTATION_API_URL','getBuildLink','getPackageVersion','Playwright','\x20:\x20','./testhub/utils','getSessionsList','SwewY','split','setReadWriteExecuteAccess','fREic','Failed\x20to\x20set\x20directory\x20access:\x20','HYwGj','W_OK','1518505EoALQg','selenium-webdriver','sYrnj','name','./globals','replace','20321BkrKfi','ywwBI','version','assign','body','2504TlNJza','application/json','lNbnE','./helper','iXYnR','LAqak','X_OK','osVersion','amfAB','VZjew','sendLogs','388WWOItj','debug','../bin/utils/constants','undefined','\x20has\x20now\x20read/write/execute\x20permissions.','getStackTraceAsString','event_properties','length','buildName','49729070RvNxQc','finalExecution','APP_AUTOMATE_PRODUCTS','constants','jbyuF','config','./logger','AUTOMATE','./performance/performance-tester','KWAll','parse','all','error','getTurboScaleBuildLink','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','hostname','env','finishedMetadata','JFSyX','hYbuD','values','eCaSI','Nebbt','ztfvW','ijfFe','stringify','content-type','Ceoet','keys','SDKTestSuccessful','mWOJg','2728562GpaLlA','browserStackConfig','getAccessKey','../bin/playwright/reporter/pwUtils','getGlobal','MRWae','DrzFq','WItqU','frjFJ','5236140vesUSl','sdkRunId','9WlHgLU','type','unknown','SxNrO','BCjtl','app','../helpers/testhub/constants','AUgWn','seleniumVersion','getNodeAgent','toString','zWDUx','pOSgm','41865tZXPoV','POST','browserVersion','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','null','tests','YpUOE','sanitizeBrowserStackConfig','GunfM','fireFunnelTestEvent'];a129_0x12b9=function(){return _0xa5063b;};return a129_0x12b9();}let unhandledErrors='';exports[a129_0x2e4898(0x103)]=async(_0x3d4da5,_0x1cdbf1={},_0x33c10e,_0xe0da9f)=>{const _0x32cd29=a129_0x2e4898,_0x3bcb1f={'mWOJg':function(_0x13b967,_0x362aee){return _0x13b967===_0x362aee;},'hbtuK':'object','YpUOE':function(_0x23b99f,_0x5e9194){return _0x23b99f>_0x5e9194;},'ywwBI':function(_0x11aff3,_0x167338){return _0x11aff3>_0x167338;},'rVRYS':_0x32cd29(0x18b),'phoem':function(_0x440e3c){return _0x440e3c();},'frjFJ':function(_0x3e9b6f,_0x4b1b8d){return _0x3e9b6f==_0x4b1b8d;},'kfDSc':_0x32cd29(0x18a),'SwewY':_0x32cd29(0x149),'Ceoet':function(_0x3e4299,_0x20c8dd){return _0x3e4299===_0x20c8dd;},'OmGoa':_0x32cd29(0x120),'LAqak':function(_0x51b1d7,_0xf37b4c){return _0x51b1d7>_0xf37b4c;},'hYbuD':function(_0x975bf2,_0x5df160){return _0x975bf2!==_0x5df160;},'Nebbt':_0x32cd29(0x125),'pcVGO':function(_0xd34b2c,_0x2bbc16){return _0xd34b2c===_0x2bbc16;},'jbyuF':_0x32cd29(0x15b),'ijfFe':function(_0x59a00c,_0x44114d){return _0x59a00c+_0x44114d;},'eCaSI':_0x32cd29(0x15d),'AUgWn':'_buildHashedId','SxNrO':function(_0x4fcea0,_0x3edf3c){return _0x4fcea0(_0x3edf3c);},'sYrnj':function(_0x535f57,_0x3ab895){return _0x535f57(_0x3ab895);},'DrzFq':_0x32cd29(0x17b),'amfAB':'nodejs','fREic':function(_0x5ef51a,_0x10c96d){return _0x5ef51a===_0x10c96d;},'GunfM':_0x32cd29(0x16c),'KWAll':function(_0x3d58e0){return _0x3d58e0();},'BCjtl':_0x32cd29(0x131),'zWDUx':_0x32cd29(0x13c),'pOSgm':_0x32cd29(0x10f),'MRWae':_0x32cd29(0x187)};let _0x4a7be7=[];if(helper['isBrowserstackInfra']()&&_0x3bcb1f[_0x32cd29(0x115)](isTestObservabilitySession))_0x4a7be7=_0x33c10e[_0x32cd29(0x17e)]?constants[_0x32cd29(0x151)]:constants['AUTOMATE_PRODUCTS'];else{if(_0x3bcb1f[_0x32cd29(0x115)](isTestObservabilitySession))_0x4a7be7=constants[_0x32cd29(0x189)];else helper['isBrowserstackInfra']()&&(_0x4a7be7=_0x33c10e[_0x32cd29(0x17e)]?constants['APP_AUTOMATE']:constants[_0x32cd29(0x156)]);}let _0x1928a6=_0x33c10e['buildIdentifier'];if(_0x3bcb1f[_0x32cd29(0x176)](_0x1928a6,null))_0x1928a6=_0x3bcb1f[_0x32cd29(0x118)];else _0x3bcb1f[_0x32cd29(0x16d)](_0x1928a6,undefined)&&(_0x1928a6=_0x3bcb1f[_0x32cd29(0x129)]);unhandledErrors&&_0x3bcb1f[_0x32cd29(0x18c)](unhandledErrors[_0x32cd29(0x14d)],0x0)&&(_0x1cdbf1['globalException']=unhandledErrors);global['sdkRunId']&&(_0x1cdbf1[_0x32cd29(0x178)]=global[_0x32cd29(0x178)]);try{if(_0x1cdbf1[_0x32cd29(0x15b)]){if(_0x3bcb1f[_0x32cd29(0x16a)](_0xe0da9f,_0x3bcb1f['OmGoa'])&&_0x3bcb1f[_0x32cd29(0x140)](_0x1cdbf1['error'][_0x32cd29(0x14d)],0x0)){const _0x178f64={};_0x178f64['os']='',_0x178f64[_0x32cd29(0x142)]='',_0x178f64[_0x32cd29(0x11a)]='',_0x178f64[_0x32cd29(0x188)]='';const _0x2df24e=_0x178f64;let _0x4b3528={};const _0x4f4b92=_0x1cdbf1[_0x32cd29(0x15b)];_0x4b3528=_0x4f4b92['reduce']((_0x446913,_0x5e62de)=>{for(const _0x52a79f in _0x5e62de){_0x446913[_0x52a79f]=_0x5e62de[_0x52a79f];}return _0x446913;},{});const _0x442f07={};_0x442f07[_0x32cd29(0x18b)]=_0x4b3528,_0x1cdbf1[_0x32cd29(0x15b)]=[Object[_0x32cd29(0x139)]({},_0x2df24e,_0x442f07)];}else{let _0x489f00=0x0;const _0x3f6b65=_0x3bcb1f[_0x32cd29(0x162)](_0xe0da9f,_0x3bcb1f[_0x32cd29(0x165)])?JSON[_0x32cd29(0x159)](_0x1cdbf1[_0x32cd29(0x15b)]):_0x1cdbf1[_0x32cd29(0x15b)],_0x358e8c=Object[_0x32cd29(0x163)](_0x3f6b65);_0x358e8c[_0x32cd29(0x116)](_0x542296=>{if(_0x3bcb1f['mWOJg'](typeof _0x542296,_0x3bcb1f['hbtuK'])){const _0x13a665=Object['values'](_0x542296);!_0x13a665['every'](_0x5546f4=>_0x5546f4===null||_0x5546f4===undefined||_0x5546f4==='')&&(_0x489f00+=0x1);}});if(_0x3bcb1f['pcVGO'](_0x489f00,0x0))delete _0x1cdbf1[_0x3bcb1f['jbyuF']];else{const _0x18095d=[];Object[_0x32cd29(0x16b)](_0x3f6b65)[_0x32cd29(0x116)](_0x4d5fbb=>{const _0x3e4edd=_0x32cd29,_0x3ec136={'Kxkbx':function(_0x2b24e4,_0x5b54c3){const _0x52cb1e=a129_0x5534;return _0x3bcb1f[_0x52cb1e(0x18c)](_0x2b24e4,_0x5b54c3);}},[_0x121372,_0x1ed9e0,_0x13201d,_0x386998]=_0x4d5fbb[_0x3e4edd(0x12a)](',\x20');let _0x3636a2={};if(!_0x386998){const _0x86fe7b={};_0x86fe7b['deviceName']=_0x121372,_0x86fe7b['osVersion']=_0x1ed9e0,_0x86fe7b[_0x3e4edd(0x11a)]=_0x13201d,_0x3636a2=_0x86fe7b;}else{const _0x342e6b={};_0x342e6b['os']=_0x121372,_0x342e6b[_0x3e4edd(0x142)]=_0x1ed9e0,_0x342e6b[_0x3e4edd(0x11a)]=_0x13201d,_0x342e6b[_0x3e4edd(0x188)]=_0x386998,_0x3636a2=_0x342e6b;}const _0x4e85a0={},_0x2f956d=_0x3f6b65[_0x4d5fbb];Object['keys'](_0x2f956d)[_0x3e4edd(0x116)](_0x159586=>{const _0x31e7a6=_0x3e4edd;_0x3ec136[_0x31e7a6(0x121)](_0x2f956d[_0x159586][_0x31e7a6(0x14d)],0x0)&&(_0x4e85a0[_0x159586]=_0x2f956d[_0x159586]);}),_0x3bcb1f[_0x3e4edd(0x137)](Object[_0x3e4edd(0x16b)](_0x4e85a0)[_0x3e4edd(0x14d)],0x0)&&(_0x3636a2[_0x3bcb1f[_0x3e4edd(0x110)]]=_0x4e85a0,_0x18095d['push'](_0x3636a2));}),_0x3bcb1f[_0x32cd29(0x137)](_0x18095d['length'],0x0)?_0x1cdbf1['error']=_0x18095d:delete _0x1cdbf1[_0x3bcb1f[_0x32cd29(0x153)]];}}}}catch(_0xcdb78a){delete _0x1cdbf1[_0x3bcb1f['jbyuF']],logger['debug'](_0x3bcb1f[_0x32cd29(0x167)](_0x3bcb1f[_0x32cd29(0x164)],_0xcdb78a));}const _0x18df83=helper[_0x32cd29(0x108)](_0x33c10e,_0x33c10e[_0x32cd29(0x10d)]),_0x18440a={'userName':helper['getUserName'](_0x33c10e),'accessKey':helper[_0x32cd29(0x170)](_0x33c10e),'event_type':_0x3d4da5,'detectedFramework':_0xe0da9f,'buildHashedId':globals[_0x32cd29(0x172)](_0x3bcb1f[_0x32cd29(0x180)]),'optimalHubUrl':helper['getOptimalHubUrl'](),'event_properties':{'testhub_uuid':process['env'][testHubConstants['ENV_VAR'][_0x32cd29(0x10b)]]||'','sdkRunId':global[_0x32cd29(0x178)],'product_map':_0x3bcb1f[_0x32cd29(0x17c)](getProductMap,_0x33c10e),'productMap':_0x3bcb1f[_0x32cd29(0x132)](getProductMap,_0x33c10e),'language_framework':_0x33c10e[_0x32cd29(0x111)]||_0x3bcb1f[_0x32cd29(0x174)],'referrer':helper[_0x32cd29(0x182)](_0xe0da9f),'framework':_0x33c10e[_0x32cd29(0x10d)],'frameworkVersion':helper['getFrameworkVersion'](_0xe0da9f),'automationFramework':_0x18df83[_0x32cd29(0x133)],'automationFrameworkVersion':_0x18df83['version'],'language':_0x3bcb1f[_0x32cd29(0x143)],'languageVersion':process[_0x32cd29(0x138)],'product':_0x4a7be7,'buildName':_0x33c10e[_0x32cd29(0x14e)]||_0x3bcb1f[_0x32cd29(0x129)],'buildIdentifier':_0x1928a6,'os':os[_0x32cd29(0x17a)]()||_0x3bcb1f[_0x32cd29(0x174)],'hostname':os[_0x32cd29(0x15e)]()||_0x3bcb1f['DrzFq'],..._0x1cdbf1}};try{_0x3bcb1f[_0x32cd29(0x12c)](_0x3d4da5,_0x3bcb1f[_0x32cd29(0x18e)])&&(_0x18440a[_0x32cd29(0x14c)][_0x32cd29(0x16f)]=helper[_0x32cd29(0x18d)](_0x33c10e)),_0x3bcb1f['pcVGO'](_0xe0da9f,_0x3bcb1f[_0x32cd29(0x165)])?_0x18440a[_0x32cd29(0x14c)][_0x32cd29(0x10e)]=helper['requirePWModule'][_0x32cd29(0x10c)](null,_0x3bcb1f[_0x32cd29(0x158)](getTransformPath),!![]):_0x18440a['event_properties'][_0x32cd29(0x181)]=helper[_0x32cd29(0x124)](_0x3bcb1f[_0x32cd29(0x17d)]);}catch(_0xb76bf6){logger['debug'](_0x32cd29(0x114)+_0xb76bf6);}const _0x1aba6b={};_0x1aba6b[_0x32cd29(0x169)]=_0x3bcb1f[_0x32cd29(0x184)];const _0x3a2656={'headers':_0x1aba6b,'body':_0x18440a,'auth':{'user':helper[_0x32cd29(0x10a)](_0x33c10e),'pass':helper[_0x32cd29(0x170)](_0x33c10e)},'json':!![]};logger[_0x32cd29(0x147)]('Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20'+JSON[_0x32cd29(0x168)](_0x3a2656[_0x32cd29(0x13a)])[_0x32cd29(0x135)](new RegExp(helper['getUserName'](_0x33c10e),'g'),_0x3bcb1f[_0x32cd29(0x185)])[_0x32cd29(0x135)](new RegExp(helper['getAccessKey'](_0x33c10e),'g'),_0x3bcb1f[_0x32cd29(0x185)]));try{const _0x407f72=await helper['nodeRequest'](_0x3bcb1f[_0x32cd29(0x173)],constants[_0x32cd29(0x122)],_0x3a2656,_0x33c10e);logger['debug'](_0x32cd29(0x11d)+_0x3d4da5+'\x20response\x20-\x20'+util['format']('%j',_0x407f72));}catch(_0x572bf0){logger['debug'](_0x32cd29(0x119)+FUNNEL_INSTRUMENTATION_API_URL+_0x32cd29(0x126)+util['format'](_0x572bf0));}},exports[a129_0x2e4898(0x150)]=async _0x2a0ab4=>{const _0x1bc1c2=a129_0x2e4898,_0x32d156={'xugwJ':function(_0x51e078){return _0x51e078();},'XRetj':_0x1bc1c2(0x160),'WItqU':_0x1bc1c2(0x117),'ztfvW':_0x1bc1c2(0x16c),'iXYnR':function(_0x3fce08,_0x457bf9,_0x2a29e0){return _0x3fce08(_0x457bf9,_0x2a29e0);},'gGJTj':function(_0x83d03,_0x3f866e){return _0x83d03+_0x3f866e;},'RhxVL':_0x1bc1c2(0x106)};try{await _0x2a0ab4[_0x1bc1c2(0x11b)](),_0x32d156['xugwJ'](printNudgeLocalNotSetError);const _0x17703e={};_0x17703e[_0x1bc1c2(0x15b)]=_0x2a0ab4['errorMessage']?_0x2a0ab4['errorMessage']:'{}';const _0x4b16cb=_0x17703e,_0x1c0bab=Object[_0x1bc1c2(0x139)]({},_0x4b16cb);!!_0x2a0ab4[_0x1bc1c2(0x11e)]&&(_0x1c0bab[_0x32d156['XRetj']]={'reason':_0x32d156[_0x1bc1c2(0x175)],'signal':_0x2a0ab4[_0x1bc1c2(0x11e)]});unhandledErrors=_0x2a0ab4['unhandledErrors']['join']('\x0a');let _0x4131bc,_0x2300f3,_0x1f591a;helper['isTurboScaleSession'](_0x2a0ab4[_0x1bc1c2(0x154)])?([_0x4131bc,_0x2300f3]=await helper[_0x1bc1c2(0x15c)](_0x2a0ab4[_0x1bc1c2(0x154)]),[_0x1f591a]=await Promise[_0x1bc1c2(0x15a)]([helper['getTurboScaleSessionsList'](_0x4131bc,_0x2a0ab4[_0x1bc1c2(0x154)]),exports[_0x1bc1c2(0x103)](_0x32d156[_0x1bc1c2(0x166)],_0x1c0bab,_0x2a0ab4['config'],_0x2a0ab4[_0x1bc1c2(0x10d)])])):([_0x4131bc,_0x2300f3]=await helper[_0x1bc1c2(0x123)](_0x2a0ab4[_0x1bc1c2(0x154)]),[_0x1f591a]=await Promise[_0x1bc1c2(0x15a)]([helper[_0x1bc1c2(0x128)](_0x4131bc,_0x2a0ab4[_0x1bc1c2(0x154)]),exports['fireFunnelTestEvent'](_0x32d156[_0x1bc1c2(0x166)],_0x1c0bab,_0x2a0ab4['config'],_0x2a0ab4[_0x1bc1c2(0x10d)])])),_0x1f591a&&await _0x32d156[_0x1bc1c2(0x13f)](generateCIArtifacts,_0x1f591a,_0x2300f3),logger['info'](_0x1bc1c2(0x104)+_0x2a0ab4[_0x1bc1c2(0x178)]+',\x20testhub\x20id:\x20'+process[_0x1bc1c2(0x15f)][_0x1bc1c2(0x10b)]),await helper[_0x1bc1c2(0x145)](_0x2a0ab4[_0x1bc1c2(0x154)]);}catch(_0xd3455b){logger[_0x1bc1c2(0x147)](_0x32d156[_0x1bc1c2(0x107)](_0x32d156['RhxVL'],_0xd3455b));}helper['notifyUpdate']();},exports[a129_0x2e4898(0x14b)]=_0x6bb664=>{const _0x3be877=a129_0x2e4898,_0x5e84ee={'VZjew':function(_0x41ae9b,_0x9d8df1){return _0x41ae9b instanceof _0x9d8df1;},'HYwGj':function(_0x10e9d,_0x1242ba){return _0x10e9d(_0x1242ba);}};try{if(_0x5e84ee[_0x3be877(0x144)](_0x6bb664,Error))return _0x6bb664[_0x3be877(0x109)]||_0x6bb664[_0x3be877(0x183)]();return _0x5e84ee[_0x3be877(0x12e)](String,_0x6bb664);}catch(_0x53c0ed){return _0x6bb664?_0x6bb664['toString']():'';}},exports['isNullOrEmpty']=_0x56b2de=>{const _0x361f5a=a129_0x2e4898,_0x227f48={};_0x227f48[_0x361f5a(0x13d)]=function(_0x373302,_0x515dab){return _0x373302===_0x515dab;};const _0x1e99da=_0x227f48;return!_0x56b2de||_0x1e99da['lNbnE'](_0x56b2de['trim'](),'');},exports[a129_0x2e4898(0x105)]=_0x491d47=>{const _0x42d6ad=a129_0x2e4898,_0x476f9e={};_0x476f9e[_0x42d6ad(0x161)]=function(_0x282e49,_0xe6f2bf){return _0x282e49|_0xe6f2bf;};const _0x174b22=_0x476f9e;try{return fs[_0x42d6ad(0x11c)](_0x491d47,_0x174b22[_0x42d6ad(0x161)](fs[_0x42d6ad(0x152)][_0x42d6ad(0x12f)],fs['constants'][_0x42d6ad(0x141)])),!![];}catch(_0x586788){return![];}},exports[a129_0x2e4898(0x12b)]=_0x1a0e9a=>{const _0xb311c8=a129_0x2e4898;try{fs[_0xb311c8(0x11f)](_0x1a0e9a,0x1ff),logger['debug']('Directory\x20'+_0x1a0e9a+_0xb311c8(0x14a));}catch(_0x321460){logger[_0xb311c8(0x15b)](_0xb311c8(0x12d)+exports[_0xb311c8(0x14b)](_0x321460));}};