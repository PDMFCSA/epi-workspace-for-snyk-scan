const a129_0x2c1f27=a129_0x3b85;(function(_0x3a236f,_0x208a40){const _0x19c135=a129_0x3b85,_0x361c2b=_0x3a236f();while(!![]){try{const _0x1e29e7=-parseInt(_0x19c135(0x11a))/0x1+-parseInt(_0x19c135(0x115))/0x2*(parseInt(_0x19c135(0x108))/0x3)+parseInt(_0x19c135(0xdb))/0x4+-parseInt(_0x19c135(0xd2))/0x5*(-parseInt(_0x19c135(0x104))/0x6)+parseInt(_0x19c135(0xfc))/0x7+parseInt(_0x19c135(0xf4))/0x8+-parseInt(_0x19c135(0xfd))/0x9;if(_0x1e29e7===_0x208a40)break;else _0x361c2b['push'](_0x361c2b['shift']());}catch(_0xbb2dca){_0x361c2b['push'](_0x361c2b['shift']());}}}(a129_0x259d,0xaeaec));const os=require('os'),util=require(a129_0x2c1f27(0xe2)),fs=require('fs'),{getProductMap}=require(a129_0x2c1f27(0xd4)),logger=require(a129_0x2c1f27(0xc5))[a129_0x2c1f27(0xb5)],constants=require(a129_0x2c1f27(0x11f)),testHubConstants=require(a129_0x2c1f27(0xb9)),{getTransformPath}=require(a129_0x2c1f27(0xc6)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a129_0x2c1f27(0x11f)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a129_0x2c1f27(0x111)),PerformanceTester=require(a129_0x2c1f27(0xd7)),globals=require('./globals'),helper=require('./helper'),{isTestObservabilitySession}=require(a129_0x2c1f27(0xba));let unhandledErrors='';function a129_0x3b85(_0x4ef48a,_0x95b3c4){const _0x259d40=a129_0x259d();return a129_0x3b85=function(_0x3b858a,_0x939cc4){_0x3b858a=_0x3b858a-0xaa;let _0x2b6dd4=_0x259d40[_0x3b858a];return _0x2b6dd4;},a129_0x3b85(_0x4ef48a,_0x95b3c4);}exports[a129_0x2c1f27(0x103)]=async(_0x1111de,_0x62e229={},_0x28b0ed,_0x4dec65)=>{const _0x44105a=a129_0x2c1f27,_0x3ff493={'tlWUI':function(_0x393bbe,_0x1a82c9){return _0x393bbe===_0x1a82c9;},'QGQRA':'object','yBMGL':function(_0x31ba11,_0x345653){return _0x31ba11>_0x345653;},'pyVEk':function(_0x230815,_0x29cb44){return _0x230815>_0x29cb44;},'AmZdb':_0x44105a(0xb6),'navMa':function(_0x5a6603){return _0x5a6603();},'xFqlg':function(_0x33befc,_0x3bdbc1){return _0x33befc==_0x3bdbc1;},'NDbQK':_0x44105a(0xbe),'VBpGV':_0x44105a(0xb4),'MgoGo':function(_0x1cdbf5,_0x5d997c){return _0x1cdbf5===_0x5d997c;},'bbsfK':_0x44105a(0xd6),'dxCWo':function(_0xdb374a,_0x35dc72){return _0xdb374a!==_0x35dc72;},'VtGJA':_0x44105a(0x123),'yGdhG':function(_0x54988f,_0x2a09fb){return _0x54988f===_0x2a09fb;},'jFvbt':_0x44105a(0xff),'OHRlr':function(_0x190974,_0x6e855f){return _0x190974+_0x6e855f;},'xGtHr':_0x44105a(0xd8),'QRVuM':_0x44105a(0x10e),'ttLHu':function(_0x188261,_0xf53d4b){return _0x188261(_0xf53d4b);},'eMRtf':_0x44105a(0xc1),'lzUEP':_0x44105a(0xf2),'uMVDe':_0x44105a(0x107),'shDCl':_0x44105a(0x122),'BJRdX':_0x44105a(0xf8),'mkkcU':_0x44105a(0xf9),'NmAic':_0x44105a(0x136)};let _0x8c18d7=[];if(helper[_0x44105a(0x106)]()&&_0x3ff493[_0x44105a(0x132)](isTestObservabilitySession))_0x8c18d7=_0x28b0ed['app']?constants['APP_AUTOMATE_PRODUCTS']:constants[_0x44105a(0xcd)];else{if(_0x3ff493[_0x44105a(0x132)](isTestObservabilitySession))_0x8c18d7=constants[_0x44105a(0xd5)];else helper[_0x44105a(0x106)]()&&(_0x8c18d7=_0x28b0ed[_0x44105a(0x13b)]?constants[_0x44105a(0x10f)]:constants[_0x44105a(0xef)]);}let _0x38fec8=_0x28b0ed['buildIdentifier'];if(_0x3ff493['xFqlg'](_0x38fec8,null))_0x38fec8=_0x3ff493['NDbQK'];else _0x3ff493[_0x44105a(0x127)](_0x38fec8,undefined)&&(_0x38fec8=_0x3ff493[_0x44105a(0xc2)]);unhandledErrors&&_0x3ff493[_0x44105a(0xd9)](unhandledErrors[_0x44105a(0xae)],0x0)&&(_0x62e229[_0x44105a(0xf5)]=unhandledErrors);global[_0x44105a(0xe8)]&&(_0x62e229['sdkRunId']=global[_0x44105a(0xe8)]);try{if(_0x62e229['error']){if(_0x3ff493['MgoGo'](_0x4dec65,_0x3ff493[_0x44105a(0xab)])&&_0x3ff493[_0x44105a(0xea)](_0x62e229['error'][_0x44105a(0xae)],0x0)){const _0x184261={};_0x184261['os']='',_0x184261[_0x44105a(0xfb)]='',_0x184261[_0x44105a(0x10b)]='',_0x184261[_0x44105a(0xb8)]='';const _0x515425=_0x184261;let _0x12813c={};const _0x5cc9be=_0x62e229[_0x44105a(0xff)];_0x12813c=_0x5cc9be['reduce']((_0xc8d32f,_0x39ab9c)=>{for(const _0x50841a in _0x39ab9c){_0xc8d32f[_0x50841a]=_0x39ab9c[_0x50841a];}return _0xc8d32f;},{});const _0x5203a6={};_0x5203a6[_0x44105a(0xb6)]=_0x12813c,_0x62e229[_0x44105a(0xff)]=[Object[_0x44105a(0x114)]({},_0x515425,_0x5203a6)];}else{let _0x55b654=0x0;const _0x367213=_0x3ff493[_0x44105a(0xe3)](_0x4dec65,_0x3ff493[_0x44105a(0xeb)])?JSON[_0x44105a(0x109)](_0x62e229[_0x44105a(0xff)]):_0x62e229[_0x44105a(0xff)],_0x39a02c=Object[_0x44105a(0x118)](_0x367213);_0x39a02c[_0x44105a(0x112)](_0x169cc5=>{const _0x4d6726=_0x44105a;if(_0x3ff493['tlWUI'](typeof _0x169cc5,_0x3ff493[_0x4d6726(0x11e)])){const _0x1a0278=Object[_0x4d6726(0x118)](_0x169cc5);!_0x1a0278['every'](_0xfc2e9=>_0xfc2e9===null||_0xfc2e9===undefined||_0xfc2e9==='')&&(_0x55b654+=0x1);}});if(_0x3ff493[_0x44105a(0x134)](_0x55b654,0x0))delete _0x62e229[_0x3ff493['jFvbt']];else{const _0x19f3f5=[];Object[_0x44105a(0x12c)](_0x367213)[_0x44105a(0x112)](_0x1bfeb0=>{const _0x313cbb=_0x44105a,_0x3f9d38={'OJfMc':function(_0x1ec826,_0x5b63d2){return _0x3ff493['yBMGL'](_0x1ec826,_0x5b63d2);}},[_0x5bf743,_0x5618da,_0xd4b429,_0x411b92]=_0x1bfeb0[_0x313cbb(0xc9)](',\x20');let _0x544341={};if(!_0x411b92){const _0x153b1b={};_0x153b1b['deviceName']=_0x5bf743,_0x153b1b[_0x313cbb(0xfb)]=_0x5618da,_0x153b1b['browser']=_0xd4b429,_0x544341=_0x153b1b;}else{const _0x14442b={};_0x14442b['os']=_0x5bf743,_0x14442b['osVersion']=_0x5618da,_0x14442b[_0x313cbb(0x10b)]=_0xd4b429,_0x14442b[_0x313cbb(0xb8)]=_0x411b92,_0x544341=_0x14442b;}const _0x4d0d42={},_0x5bd794=_0x367213[_0x1bfeb0];Object[_0x313cbb(0x12c)](_0x5bd794)['forEach'](_0x354362=>{const _0x2c49f2=_0x313cbb;_0x3f9d38[_0x2c49f2(0xe0)](_0x5bd794[_0x354362][_0x2c49f2(0xae)],0x0)&&(_0x4d0d42[_0x354362]=_0x5bd794[_0x354362]);}),_0x3ff493[_0x313cbb(0xea)](Object[_0x313cbb(0x12c)](_0x4d0d42)[_0x313cbb(0xae)],0x0)&&(_0x544341[_0x3ff493[_0x313cbb(0xca)]]=_0x4d0d42,_0x19f3f5[_0x313cbb(0xb3)](_0x544341));}),_0x3ff493[_0x44105a(0xd9)](_0x19f3f5[_0x44105a(0xae)],0x0)?_0x62e229['error']=_0x19f3f5:delete _0x62e229[_0x3ff493[_0x44105a(0xb1)]];}}}}catch(_0x306237){delete _0x62e229[_0x3ff493['jFvbt']],logger[_0x44105a(0x121)](_0x3ff493[_0x44105a(0xed)](_0x3ff493[_0x44105a(0xad)],_0x306237));}const _0x329a69=helper[_0x44105a(0xde)](_0x28b0ed,_0x28b0ed[_0x44105a(0x105)]),_0x254369={'userName':helper['getUserName'](_0x28b0ed),'accessKey':helper['getAccessKey'](_0x28b0ed),'event_type':_0x1111de,'detectedFramework':_0x4dec65,'buildHashedId':globals['getGlobal'](_0x3ff493[_0x44105a(0xfe)]),'optimalHubUrl':helper[_0x44105a(0xc4)](),'event_properties':{'testhub_uuid':process['env'][testHubConstants[_0x44105a(0x101)][_0x44105a(0x12f)]]||'','sdkRunId':global[_0x44105a(0xe8)],'product_map':_0x3ff493[_0x44105a(0x128)](getProductMap,_0x28b0ed),'productMap':_0x3ff493[_0x44105a(0x128)](getProductMap,_0x28b0ed),'language_framework':_0x28b0ed[_0x44105a(0xc8)]||_0x3ff493['eMRtf'],'referrer':helper[_0x44105a(0xd3)](_0x4dec65),'framework':_0x28b0ed[_0x44105a(0x105)],'frameworkVersion':helper[_0x44105a(0xe9)](_0x4dec65),'automationFramework':_0x329a69[_0x44105a(0xf7)],'automationFrameworkVersion':_0x329a69['version'],'language':_0x3ff493[_0x44105a(0x10d)],'languageVersion':process[_0x44105a(0x125)],'product':_0x8c18d7,'buildName':_0x28b0ed['buildName']||_0x3ff493['VBpGV'],'buildIdentifier':_0x38fec8,'os':os[_0x44105a(0x11b)]()||_0x3ff493[_0x44105a(0x124)],'hostname':os[_0x44105a(0x135)]()||_0x3ff493[_0x44105a(0x124)],..._0x62e229}};try{_0x3ff493[_0x44105a(0x127)](_0x1111de,_0x3ff493['uMVDe'])&&(_0x254369['event_properties'][_0x44105a(0x100)]=helper[_0x44105a(0xce)](_0x28b0ed)),_0x3ff493[_0x44105a(0x11d)](_0x4dec65,_0x3ff493[_0x44105a(0xeb)])?_0x254369['event_properties']['playwrightVersion']=helper[_0x44105a(0x119)]['apply'](null,_0x3ff493[_0x44105a(0x132)](getTransformPath),!![]):_0x254369[_0x44105a(0xc0)][_0x44105a(0x131)]=helper['getPackageVersion'](_0x3ff493[_0x44105a(0x102)]);}catch(_0x45d50a){logger['debug'](_0x44105a(0xcf)+_0x45d50a);}const _0x50df84={};_0x50df84[_0x44105a(0x13e)]=_0x3ff493[_0x44105a(0x113)];const _0x7a4653={'headers':_0x50df84,'body':_0x254369,'auth':{'user':helper[_0x44105a(0x138)](_0x28b0ed),'pass':helper[_0x44105a(0x11c)](_0x28b0ed)},'json':!![]};logger[_0x44105a(0x121)](_0x44105a(0xbc)+JSON[_0x44105a(0x10c)](_0x7a4653[_0x44105a(0x13c)])[_0x44105a(0xf3)](new RegExp(helper['getUserName'](_0x28b0ed),'g'),_0x3ff493['mkkcU'])['replace'](new RegExp(helper[_0x44105a(0x11c)](_0x28b0ed),'g'),_0x3ff493[_0x44105a(0xdc)]));try{const _0x2a700a=await helper[_0x44105a(0xaf)](_0x3ff493['NmAic'],constants['FUNNEL_INSTRUMENTATION_API_URL'],_0x7a4653,_0x28b0ed);logger[_0x44105a(0x121)](_0x44105a(0x117)+_0x1111de+_0x44105a(0x110)+util[_0x44105a(0x120)]('%j',_0x2a700a));}catch(_0x5781ec){logger[_0x44105a(0x121)](_0x44105a(0xee)+FUNNEL_INSTRUMENTATION_API_URL+'\x20:\x20'+util[_0x44105a(0x120)](_0x5781ec));}},exports[a129_0x2c1f27(0x130)]=async _0x6260c1=>{const _0x1ace2e=a129_0x2c1f27,_0x19d88d={'ZrqLv':function(_0x5e586c){return _0x5e586c();},'TeNsn':_0x1ace2e(0xe5),'QYfks':_0x1ace2e(0xb0),'cehbL':_0x1ace2e(0x107),'fvipd':function(_0x56f25c,_0xc09617,_0x2b11db){return _0x56f25c(_0xc09617,_0x2b11db);},'FoabR':function(_0x26e755,_0x1e6374){return _0x26e755+_0x1e6374;},'DzcdS':_0x1ace2e(0xc7)};try{await _0x6260c1['stopPercy'](),_0x19d88d['ZrqLv'](printNudgeLocalNotSetError);const _0x1fb84f={};_0x1fb84f[_0x1ace2e(0xff)]=_0x6260c1[_0x1ace2e(0xbf)]?_0x6260c1[_0x1ace2e(0xbf)]:'{}';const _0x5bbffc=_0x1fb84f,_0x552699=Object['assign']({},_0x5bbffc);!!_0x6260c1['killSignal']&&(_0x552699[_0x19d88d[_0x1ace2e(0xe7)]]={'reason':_0x19d88d[_0x1ace2e(0x116)],'signal':_0x6260c1[_0x1ace2e(0x12e)]});unhandledErrors=_0x6260c1[_0x1ace2e(0xbd)][_0x1ace2e(0xe4)]('\x0a');let _0x10af5b,_0x3d1313,_0x1fccf0;helper[_0x1ace2e(0xcb)](_0x6260c1[_0x1ace2e(0xc3)])?([_0x10af5b,_0x3d1313]=await helper[_0x1ace2e(0x126)](_0x6260c1[_0x1ace2e(0xc3)]),[_0x1fccf0]=await Promise[_0x1ace2e(0xcc)]([helper[_0x1ace2e(0xd0)](_0x10af5b,_0x6260c1['config']),exports[_0x1ace2e(0x103)](_0x19d88d[_0x1ace2e(0xf0)],_0x552699,_0x6260c1[_0x1ace2e(0xc3)],_0x6260c1[_0x1ace2e(0x105)])])):([_0x10af5b,_0x3d1313]=await helper[_0x1ace2e(0xac)](_0x6260c1['config']),[_0x1fccf0]=await Promise[_0x1ace2e(0xcc)]([helper[_0x1ace2e(0xbb)](_0x10af5b,_0x6260c1['config']),exports[_0x1ace2e(0x103)](_0x19d88d[_0x1ace2e(0xf0)],_0x552699,_0x6260c1[_0x1ace2e(0xc3)],_0x6260c1['framework'])])),_0x1fccf0&&await _0x19d88d[_0x1ace2e(0xaa)](generateCIArtifacts,_0x1fccf0,_0x3d1313),logger[_0x1ace2e(0xf1)]('SDK\x20run\x20ended\x20for\x20id:\x20'+_0x6260c1['sdkRunId']+_0x1ace2e(0xdf)+process['env']['BROWSERSTACK_TESTHUB_UUID']),await helper[_0x1ace2e(0xf6)](_0x6260c1[_0x1ace2e(0xc3)]);}catch(_0x5cab33){logger[_0x1ace2e(0x121)](_0x19d88d[_0x1ace2e(0xb7)](_0x19d88d[_0x1ace2e(0x12b)],_0x5cab33));}helper[_0x1ace2e(0xd1)]();},exports[a129_0x2c1f27(0x13d)]=_0x3da73d=>{const _0x343451=a129_0x2c1f27,_0x3f731e={'HLAze':function(_0x253ee3,_0x3e8055){return _0x253ee3 instanceof _0x3e8055;},'JzeDO':function(_0x387682,_0x4bfe49){return _0x387682(_0x4bfe49);}};try{if(_0x3f731e[_0x343451(0xe6)](_0x3da73d,Error))return _0x3da73d['stack']||_0x3da73d[_0x343451(0x13a)]();return _0x3f731e[_0x343451(0xda)](String,_0x3da73d);}catch(_0x538d7b){return _0x3da73d?_0x3da73d[_0x343451(0x13a)]():'';}},exports[a129_0x2c1f27(0x12a)]=_0x2f038d=>{const _0x47c88a=a129_0x2c1f27,_0x539bce={};_0x539bce[_0x47c88a(0x12d)]=function(_0x3061c1,_0x447bfb){return _0x3061c1===_0x447bfb;};const _0xbd6caa=_0x539bce;return!_0x2f038d||_0xbd6caa[_0x47c88a(0x12d)](_0x2f038d[_0x47c88a(0xe1)](),'');},exports[a129_0x2c1f27(0x10a)]=_0x4d17b8=>{const _0x4ebdf1=a129_0x2c1f27,_0x5eb076={};_0x5eb076[_0x4ebdf1(0x129)]=function(_0x155394,_0x40b8f6){return _0x155394|_0x40b8f6;};const _0x303dfb=_0x5eb076;try{return fs[_0x4ebdf1(0x137)](_0x4d17b8,_0x303dfb[_0x4ebdf1(0x129)](fs['constants'][_0x4ebdf1(0xdd)],fs[_0x4ebdf1(0x133)][_0x4ebdf1(0xfa)])),!![];}catch(_0x4d7375){return![];}},exports['setReadWriteExecuteAccess']=_0xb3802c=>{const _0xd549c4=a129_0x2c1f27;try{fs[_0xd549c4(0xb2)](_0xb3802c,0x1ff),logger[_0xd549c4(0x121)](_0xd549c4(0x139)+_0xb3802c+'\x20has\x20now\x20read/write/execute\x20permissions.');}catch(_0x34d92b){logger[_0xd549c4(0xff)](_0xd549c4(0xec)+exports[_0xd549c4(0x13d)](_0x34d92b));}};function a129_0x259d(){const _0x5c3ef8=['stringify','lzUEP','_buildHashedId','APP_AUTOMATE','\x20response\x20-\x20','./helper','forEach','BJRdX','assign','26MbRQSO','QYfks','API\x20Event\x20','values','requirePWModule','428469WYhpCq','type','getAccessKey','MgoGo','QGQRA','../bin/utils/constants','format','debug','selenium-webdriver','Playwright','eMRtf','version','getTurboScaleBuildLink','tlWUI','ttLHu','rJIiB','isNullOrEmpty','DzcdS','keys','OYLNi','killSignal','BROWSERSTACK_TESTHUB_UUID','finalExecution','seleniumVersion','navMa','constants','yGdhG','hostname','POST','accessSync','getUserName','Directory\x20','toString','app','body','getStackTraceAsString','content-type','fvipd','bbsfK','getBuildLink','xGtHr','length','nodeRequest','user_killed','jFvbt','chmodSync','push','undefined','winstonLogger','tests','FoabR','browserVersion','../helpers/testhub/constants','./test-observability/utils','getSessionsList','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','unhandledErrors','null','errorMessage','event_properties','unknown','VBpGV','config','getOptimalHubUrl','./logger','../bin/playwright/reporter/pwUtils','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','source','split','AmZdb','isTurboScaleSession','all','AUTOMATE_PRODUCTS','sanitizeBrowserStackConfig','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','getTurboScaleSessionsList','notifyUpdate','5mgmmeb','getNodeAgent','./testhub/utils','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','codeceptjs','./performance/performance-tester','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','yBMGL','JzeDO','796232UqXDru','mkkcU','W_OK','getTestFrameworkDetails',',\x20testhub\x20id:\x20','OJfMc','trim','util','dxCWo','join','finishedMetadata','HLAze','TeNsn','sdkRunId','getFrameworkVersion','pyVEk','VtGJA','Failed\x20to\x20set\x20directory\x20access:\x20','OHRlr','Error\x20in\x20firing\x20request\x20to\x20','AUTOMATE','cehbL','info','nodejs','replace','8707144PRPeaP','globalException','sendLogs','name','application/json','[REDACTED]','X_OK','osVersion','635369KzaiXi','3636504ocQKFx','QRVuM','error','browserStackConfig','ENV_VAR','shDCl','fireFunnelTestEvent','8433990eGZcwn','framework','isBrowserstackInfra','SDKTestSuccessful','285198LceIDK','parse','isModifiable','browser'];a129_0x259d=function(){return _0x5c3ef8;};return a129_0x259d();}