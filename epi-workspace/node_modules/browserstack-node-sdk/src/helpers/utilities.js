const a93_0x1eab9b=a93_0x3542;(function(_0x5d9df9,_0x2d12cb){const _0x124e9e=a93_0x3542,_0x25f512=_0x5d9df9();while(!![]){try{const _0x4c7dc6=-parseInt(_0x124e9e(0x123))/0x1+-parseInt(_0x124e9e(0xcf))/0x2+parseInt(_0x124e9e(0xdc))/0x3+-parseInt(_0x124e9e(0x124))/0x4+parseInt(_0x124e9e(0xee))/0x5+-parseInt(_0x124e9e(0x110))/0x6+parseInt(_0x124e9e(0xc3))/0x7*(parseInt(_0x124e9e(0xb7))/0x8);if(_0x4c7dc6===_0x2d12cb)break;else _0x25f512['push'](_0x25f512['shift']());}catch(_0x3d9a9e){_0x25f512['push'](_0x25f512['shift']());}}}(a93_0x20df,0x78f88));function a93_0x20df(){const _0x1354a1=['source','parse','framework','getGlobal','hDxXs','stopPercy','getBuildLink','Playwright','undefined','bOseS','3899TAHJhs','env','\x20:\x20','./test-observability/utils','TJRlH','info','oZxvw','getUserName','VUlcg','selenium-webdriver','reduce','ueCaD','257516bcilxV','killSignal','getTurboScaleSessionsList','ultxI','browser','./ats/helper','SDK\x20run\x20ended\x20for\x20id:\x20','type','errorMessage','replace','forEach','inuEV','getAccessKey','572742XlUXga','McGlk','winstonLogger','jbEgS','nodejs','./testhub/utils','./helper','KpDDX','playwrightVersion','format','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','isBrowserstackInfra','sanitizeBrowserStackConfig','split','LOjkT','./globals','AUTOMATE','../bin/playwright/reporter/pwUtils','3347755WUUYmp','unhandledErrors','user_killed','assign','tests','seleniumVersion','./performance/performance-tester','content-type','application/json','all','null','hostname','values','_buildHashedId','error','version','browserVersion','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','qEpnv','length',',\x20testhub\x20id:\x20','app','yfbrm','push','osVersion','getFrameworkVersion','apply','ENV_VAR','body','event_properties','Error\x20in\x20firing\x20request\x20to\x20','eqHWc','debug','LIlCe','2304330jTtKkX','name','getOptimalHubUrl','requirePWModule','BROWSERSTACK_TESTHUB_UUID','JnGnk','\x20response\x20-\x20','object','stringify','SDKTestSuccessful','ErtJd','fireFunnelTestEvent','every','kIjvU','APP_AUTOMATE_PRODUCTS','TvRkj','browserStackConfig','zqfxw','sdkRunId','644969pMbGuP','854744JdQhqN','buildIdentifier','finishedMetadata','FIHLF','ybUlU','join','config','getSessionsList','nodeRequest','../helpers/testhub/constants','util','getPackageVersion','fsJBV','keys','yLAdy','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','WtRxF','codeceptjs','[REDACTED]','getTurboScaleBuildLink','globalException','14456IHAjbI','ZLdrA'];a93_0x20df=function(){return _0x1354a1;};return a93_0x20df();}function a93_0x3542(_0x3d4995,_0x2aec9a){const _0x20df01=a93_0x20df();return a93_0x3542=function(_0x3542cc,_0x5a991d){_0x3542cc=_0x3542cc-0xaa;let _0x6e1666=_0x20df01[_0x3542cc];return _0x6e1666;},a93_0x3542(_0x3d4995,_0x2aec9a);}const os=require('os'),util=require(a93_0x1eab9b(0xac)),{getProductMap}=require(a93_0x1eab9b(0xe1)),logger=require('./logger')[a93_0x1eab9b(0xde)],constants=require('../bin/utils/constants'),testHubConstants=require(a93_0x1eab9b(0xab)),{getTransformPath}=require(a93_0x1eab9b(0xed)),{FUNNEL_INSTRUMENTATION_API_URL}=require('../bin/utils/constants'),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a93_0x1eab9b(0xe2)),PerformanceTester=require(a93_0x1eab9b(0xf4)),globals=require(a93_0x1eab9b(0xeb)),{isTurboScaleSession}=require(a93_0x1eab9b(0xd4)),helper=require(a93_0x1eab9b(0xe2)),{isTestObservabilitySession}=require(a93_0x1eab9b(0xc6));let unhandledErrors='';exports[a93_0x1eab9b(0x11b)]=async(_0x542d06,_0x12f3d6={},_0x1f01be,_0x1d8ca8)=>{const _0xfba9f4=a93_0x1eab9b,_0x253a17={'kIjvU':function(_0xba6ad4,_0x4e11eb){return _0xba6ad4===_0x4e11eb;},'KpDDX':_0xfba9f4(0x117),'ybUlU':function(_0x58b766,_0x278793){return _0x58b766>_0x278793;},'oZxvw':_0xfba9f4(0xf2),'yfbrm':function(_0x2c7b41){return _0x2c7b41();},'TvRkj':function(_0x513bbd){return _0x513bbd();},'yLAdy':function(_0x8383ff,_0x4ff3ad){return _0x8383ff==_0x4ff3ad;},'TJRlH':_0xfba9f4(0xf8),'SLajn':function(_0xa9add2,_0x521922){return _0xa9add2===_0x521922;},'LIlCe':_0xfba9f4(0xc1),'WtRxF':function(_0x220f61,_0x1cf9d9){return _0x220f61===_0x1cf9d9;},'fsJBV':_0xfba9f4(0xb3),'nxVng':function(_0x3eb267,_0x3219d1){return _0x3eb267>_0x3219d1;},'ErtJd':function(_0x53efc1,_0x212643){return _0x53efc1!==_0x212643;},'oUdMq':_0xfba9f4(0xc0),'qEpnv':function(_0x3daae3,_0x498f49){return _0x3daae3===_0x498f49;},'khriS':_0xfba9f4(0xfc),'inuEV':function(_0x34c56a,_0x3d0b01){return _0x34c56a>_0x3d0b01;},'uHQdd':function(_0x52849f,_0x3b104a){return _0x52849f+_0x3b104a;},'cjFMS':'Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','JnGnk':_0xfba9f4(0xfb),'BPpsv':function(_0x1bbd27,_0x5ca4ca){return _0x1bbd27(_0x5ca4ca);},'bOseS':function(_0x155968,_0x2f9bc6){return _0x155968(_0x2f9bc6);},'FIHLF':'unknown','VUlcg':_0xfba9f4(0xe0),'LOjkT':_0xfba9f4(0x119),'McGlk':_0xfba9f4(0xcc),'SgkVu':_0xfba9f4(0xf6),'jbEgS':_0xfba9f4(0xb4),'zqfxw':'POST'};let _0x2d939a=[];if(helper[_0xfba9f4(0xe7)]()&&_0x253a17[_0xfba9f4(0x104)](isTestObservabilitySession))_0x2d939a=_0x1f01be[_0xfba9f4(0x103)]?constants[_0xfba9f4(0x11e)]:constants['AUTOMATE_PRODUCTS'];else{if(_0x253a17[_0xfba9f4(0x11f)](isTestObservabilitySession))_0x2d939a=constants['PRODUCT_IF_NOT_BROWSERSTACK_INFRA'];else helper[_0xfba9f4(0xe7)]()&&(_0x2d939a=_0x1f01be[_0xfba9f4(0x103)]?constants['APP_AUTOMATE']:constants[_0xfba9f4(0xec)]);}let _0x1c5672=_0x1f01be[_0xfba9f4(0x125)];if(_0x253a17[_0xfba9f4(0xb0)](_0x1c5672,null))_0x1c5672=_0x253a17[_0xfba9f4(0xc7)];else _0x253a17['SLajn'](_0x1c5672,undefined)&&(_0x1c5672=_0x253a17[_0xfba9f4(0x10f)]);unhandledErrors&&_0x253a17[_0xfba9f4(0x128)](unhandledErrors[_0xfba9f4(0x101)],0x0)&&(_0x12f3d6[_0xfba9f4(0xb6)]=unhandledErrors);global[_0xfba9f4(0x122)]&&(_0x12f3d6[_0xfba9f4(0x122)]=global[_0xfba9f4(0x122)]);try{if(_0x12f3d6[_0xfba9f4(0xfc)]){if(_0x253a17[_0xfba9f4(0xb2)](_0x1d8ca8,_0x253a17[_0xfba9f4(0xae)])&&_0x253a17['nxVng'](_0x12f3d6[_0xfba9f4(0xfc)]['length'],0x0)){const _0x4f6009={};_0x4f6009['os']='',_0x4f6009[_0xfba9f4(0x106)]='',_0x4f6009[_0xfba9f4(0xd3)]='',_0x4f6009[_0xfba9f4(0xfe)]='';const _0x39df4e=_0x4f6009;let _0x1546a6={};const _0x3e484d=_0x12f3d6[_0xfba9f4(0xfc)];_0x1546a6=_0x3e484d[_0xfba9f4(0xcd)]((_0x1108f7,_0x5482dc)=>{for(const _0x288de7 in _0x5482dc){_0x1108f7[_0x288de7]=_0x5482dc[_0x288de7];}return _0x1108f7;},{});const _0x5f3b39={};_0x5f3b39[_0xfba9f4(0xf2)]=_0x1546a6,_0x12f3d6[_0xfba9f4(0xfc)]=[Object[_0xfba9f4(0xf1)]({},_0x39df4e,_0x5f3b39)];}else{let _0x2fcb58=0x0;const _0x2a1479=_0x253a17[_0xfba9f4(0x11a)](_0x1d8ca8,_0x253a17['oUdMq'])?JSON[_0xfba9f4(0xba)](_0x12f3d6['error']):_0x12f3d6['error'],_0x51f5fe=Object[_0xfba9f4(0xfa)](_0x2a1479);_0x51f5fe[_0xfba9f4(0xd9)](_0x212781=>{const _0x84fadd=_0xfba9f4;if(_0x253a17[_0x84fadd(0x11d)](typeof _0x212781,_0x253a17[_0x84fadd(0xe3)])){const _0x4769a7=Object['values'](_0x212781);!_0x4769a7[_0x84fadd(0x11c)](_0x43b2e5=>_0x43b2e5===null||_0x43b2e5===undefined||_0x43b2e5==='')&&(_0x2fcb58+=0x1);}});if(_0x253a17['qEpnv'](_0x2fcb58,0x0))delete _0x12f3d6[_0x253a17['khriS']];else{const _0x3d8f5c=[];Object[_0xfba9f4(0xaf)](_0x2a1479)[_0xfba9f4(0xd9)](_0x2e8a59=>{const _0x4ff3df=_0xfba9f4,_0x5179ef={'ueCaD':function(_0x302ac5,_0x186cbb){const _0x387467=a93_0x3542;return _0x253a17[_0x387467(0x128)](_0x302ac5,_0x186cbb);}},[_0x10e6ab,_0x3d0cab,_0x1f9a05,_0xb33161]=_0x2e8a59[_0x4ff3df(0xe9)](',\x20');let _0x1b72ad={};if(!_0xb33161){const _0xaf133e={};_0xaf133e['deviceName']=_0x10e6ab,_0xaf133e[_0x4ff3df(0x106)]=_0x3d0cab,_0xaf133e[_0x4ff3df(0xd3)]=_0x1f9a05,_0x1b72ad=_0xaf133e;}else{const _0x1439f9={};_0x1439f9['os']=_0x10e6ab,_0x1439f9[_0x4ff3df(0x106)]=_0x3d0cab,_0x1439f9[_0x4ff3df(0xd3)]=_0x1f9a05,_0x1439f9[_0x4ff3df(0xfe)]=_0xb33161,_0x1b72ad=_0x1439f9;}const _0x34d890={},_0x3f66a9=_0x2a1479[_0x2e8a59];Object[_0x4ff3df(0xaf)](_0x3f66a9)[_0x4ff3df(0xd9)](_0x387158=>{const _0x30735f=_0x4ff3df;_0x5179ef[_0x30735f(0xce)](_0x3f66a9[_0x387158][_0x30735f(0x101)],0x0)&&(_0x34d890[_0x387158]=_0x3f66a9[_0x387158]);}),_0x253a17[_0x4ff3df(0x128)](Object[_0x4ff3df(0xaf)](_0x34d890)[_0x4ff3df(0x101)],0x0)&&(_0x1b72ad[_0x253a17[_0x4ff3df(0xc9)]]=_0x34d890,_0x3d8f5c[_0x4ff3df(0x105)](_0x1b72ad));}),_0x253a17[_0xfba9f4(0xda)](_0x3d8f5c[_0xfba9f4(0x101)],0x0)?_0x12f3d6[_0xfba9f4(0xfc)]=_0x3d8f5c:delete _0x12f3d6[_0x253a17['khriS']];}}}}catch(_0x358fcd){delete _0x12f3d6[_0x253a17['khriS']],logger['debug'](_0x253a17['uHQdd'](_0x253a17['cjFMS'],_0x358fcd));}const _0x3316cd=helper['getTestFrameworkDetails'](_0x1f01be,_0x1f01be[_0xfba9f4(0xbb)]),_0x401a47={'userName':helper[_0xfba9f4(0xca)](_0x1f01be),'accessKey':helper[_0xfba9f4(0xdb)](_0x1f01be),'event_type':_0x542d06,'detectedFramework':_0x1d8ca8,'buildHashedId':globals[_0xfba9f4(0xbc)](_0x253a17[_0xfba9f4(0x115)]),'optimalHubUrl':helper[_0xfba9f4(0x112)](),'event_properties':{'testhub_uuid':process[_0xfba9f4(0xc4)][testHubConstants[_0xfba9f4(0x109)][_0xfba9f4(0x114)]]||'','sdkRunId':global[_0xfba9f4(0x122)],'product_map':_0x253a17['BPpsv'](getProductMap,_0x1f01be),'productMap':_0x253a17[_0xfba9f4(0xc2)](getProductMap,_0x1f01be),'language_framework':_0x1f01be[_0xfba9f4(0xb9)]||_0x253a17[_0xfba9f4(0x127)],'referrer':helper['getNodeAgent'](_0x1d8ca8),'framework':_0x1f01be[_0xfba9f4(0xbb)],'frameworkVersion':helper[_0xfba9f4(0x107)](_0x1d8ca8),'automationFramework':_0x3316cd[_0xfba9f4(0x111)],'automationFrameworkVersion':_0x3316cd['version'],'language':_0x253a17[_0xfba9f4(0xcb)],'languageVersion':process[_0xfba9f4(0xfd)],'product':_0x2d939a,'buildName':_0x1f01be['buildName']||_0x253a17[_0xfba9f4(0x10f)],'buildIdentifier':_0x1c5672,'os':os[_0xfba9f4(0xd6)]()||_0x253a17[_0xfba9f4(0x127)],'hostname':os[_0xfba9f4(0xf9)]()||_0x253a17[_0xfba9f4(0x127)],..._0x12f3d6}};try{_0x253a17[_0xfba9f4(0x100)](_0x542d06,_0x253a17[_0xfba9f4(0xea)])&&(_0x401a47[_0xfba9f4(0x10b)][_0xfba9f4(0x120)]=helper[_0xfba9f4(0xe8)](_0x1f01be)),_0x253a17[_0xfba9f4(0xb2)](_0x1d8ca8,_0x253a17['oUdMq'])?_0x401a47[_0xfba9f4(0x10b)][_0xfba9f4(0xe4)]=helper[_0xfba9f4(0x113)][_0xfba9f4(0x108)](null,_0x253a17[_0xfba9f4(0x104)](getTransformPath),!![]):_0x401a47[_0xfba9f4(0x10b)][_0xfba9f4(0xf3)]=helper[_0xfba9f4(0xad)](_0x253a17[_0xfba9f4(0xdd)]);}catch(_0x3f29b9){logger[_0xfba9f4(0x10e)](_0xfba9f4(0xff)+_0x3f29b9);}const _0x10c859={};_0x10c859[_0xfba9f4(0xf5)]=_0x253a17['SgkVu'];const _0x34ef28={'headers':_0x10c859,'body':_0x401a47,'auth':{'user':helper[_0xfba9f4(0xca)](_0x1f01be),'pass':helper['getAccessKey'](_0x1f01be)},'json':!![]};logger[_0xfba9f4(0x10e)](_0xfba9f4(0xe6)+JSON[_0xfba9f4(0x118)](_0x34ef28[_0xfba9f4(0x10a)])[_0xfba9f4(0xd8)](new RegExp(helper[_0xfba9f4(0xca)](_0x1f01be),'g'),_0x253a17[_0xfba9f4(0xdf)])['replace'](new RegExp(helper['getAccessKey'](_0x1f01be),'g'),_0x253a17['jbEgS']));try{const _0x597ec7=await helper[_0xfba9f4(0xaa)](_0x253a17[_0xfba9f4(0x121)],constants['FUNNEL_INSTRUMENTATION_API_URL'],_0x34ef28,_0x1f01be);logger[_0xfba9f4(0x10e)]('API\x20Event\x20'+_0x542d06+_0xfba9f4(0x116)+util[_0xfba9f4(0xe5)]('%j',_0x597ec7));}catch(_0x28785d){logger[_0xfba9f4(0x10e)](_0xfba9f4(0x10c)+FUNNEL_INSTRUMENTATION_API_URL+_0xfba9f4(0xc5)+util['format'](_0x28785d));}},exports['finalExecution']=async _0x5a38c1=>{const _0x1deff0=a93_0x1eab9b,_0x3ec108={'eqHWc':function(_0x4829be){return _0x4829be();},'SfiVf':_0x1deff0(0x126),'ZLdrA':_0x1deff0(0xf0),'hFHoL':function(_0x54910b,_0x713cf){return _0x54910b(_0x713cf);},'ultxI':'SDKTestSuccessful','sehTb':function(_0x270a74,_0x4bcb8e,_0x29559b){return _0x270a74(_0x4bcb8e,_0x29559b);},'nroei':function(_0x208cde,_0x3af89f){return _0x208cde+_0x3af89f;},'hDxXs':_0x1deff0(0xb1)};try{await _0x5a38c1[_0x1deff0(0xbe)](),_0x3ec108[_0x1deff0(0x10d)](printNudgeLocalNotSetError);const _0x48091a={};_0x48091a[_0x1deff0(0xfc)]=_0x5a38c1[_0x1deff0(0xd7)]?_0x5a38c1[_0x1deff0(0xd7)]:'{}';const _0x1a3adf=_0x48091a,_0x557282=Object[_0x1deff0(0xf1)]({},_0x1a3adf);!!_0x5a38c1[_0x1deff0(0xd0)]&&(_0x557282[_0x3ec108['SfiVf']]={'reason':_0x3ec108[_0x1deff0(0xb8)],'signal':_0x5a38c1[_0x1deff0(0xd0)]});unhandledErrors=_0x5a38c1[_0x1deff0(0xef)][_0x1deff0(0x129)]('\x0a');let _0x1a1fdf,_0x3fa22e,_0x504e6c;_0x3ec108['hFHoL'](isTurboScaleSession,_0x5a38c1[_0x1deff0(0x12a)])?([_0x1a1fdf,_0x3fa22e]=await helper[_0x1deff0(0xb5)](_0x5a38c1[_0x1deff0(0x12a)]),[_0x504e6c]=await Promise[_0x1deff0(0xf7)]([helper[_0x1deff0(0xd1)](_0x1a1fdf,_0x5a38c1[_0x1deff0(0x12a)]),exports[_0x1deff0(0x11b)](_0x3ec108[_0x1deff0(0xd2)],_0x557282,_0x5a38c1['config'],_0x5a38c1[_0x1deff0(0xbb)])])):([_0x1a1fdf,_0x3fa22e]=await helper[_0x1deff0(0xbf)](_0x5a38c1[_0x1deff0(0x12a)]),[_0x504e6c]=await Promise[_0x1deff0(0xf7)]([helper[_0x1deff0(0x12b)](_0x1a1fdf,_0x5a38c1[_0x1deff0(0x12a)]),exports['fireFunnelTestEvent'](_0x3ec108[_0x1deff0(0xd2)],_0x557282,_0x5a38c1[_0x1deff0(0x12a)],_0x5a38c1['framework'])])),_0x504e6c&&await _0x3ec108['sehTb'](generateCIArtifacts,_0x504e6c,_0x3fa22e),logger[_0x1deff0(0xc8)](_0x1deff0(0xd5)+_0x5a38c1[_0x1deff0(0x122)]+_0x1deff0(0x102)+process['env'][_0x1deff0(0x114)]),await helper['sendLogs'](_0x5a38c1[_0x1deff0(0x12a)]);}catch(_0x19af55){logger[_0x1deff0(0x10e)](_0x3ec108['nroei'](_0x3ec108[_0x1deff0(0xbd)],_0x19af55));}helper['notifyUpdate']();};