const a141_0x41b7ad=a141_0x3aac;(function(_0x44617f,_0x1fae25){const _0xebbd2c=a141_0x3aac,_0x36e86e=_0x44617f();while(!![]){try{const _0xf66042=-parseInt(_0xebbd2c(0x196))/0x1*(-parseInt(_0xebbd2c(0x178))/0x2)+-parseInt(_0xebbd2c(0x17b))/0x3*(parseInt(_0xebbd2c(0x1cd))/0x4)+parseInt(_0xebbd2c(0x1da))/0x5+parseInt(_0xebbd2c(0x1a4))/0x6*(-parseInt(_0xebbd2c(0x1d6))/0x7)+parseInt(_0xebbd2c(0x192))/0x8+-parseInt(_0xebbd2c(0x190))/0x9+parseInt(_0xebbd2c(0x1ac))/0xa;if(_0xf66042===_0x1fae25)break;else _0x36e86e['push'](_0x36e86e['shift']());}catch(_0xa9df96){_0x36e86e['push'](_0x36e86e['shift']());}}}(a141_0x28c4,0xa9c2c));const os=require('os'),util=require(a141_0x41b7ad(0x16e)),fs=require('fs'),{getProductMap}=require('./testhub/utils'),logger=require(a141_0x41b7ad(0x1bc))['winstonLogger'],constants=require(a141_0x41b7ad(0x1ea)),testHubConstants=require(a141_0x41b7ad(0x1e3)),{getTransformPath}=require(a141_0x41b7ad(0x169)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a141_0x41b7ad(0x1ea)),{generateCIArtifacts,printNudgeLocalNotSetError}=require('./helper'),PerformanceTester=require(a141_0x41b7ad(0x170)),globals=require(a141_0x41b7ad(0x1e8)),helper=require('./helper'),{isTestObservabilitySession}=require(a141_0x41b7ad(0x19b));function a141_0x28c4(){const _0x5d73a8=['assign','RYutz','keys','Playwright','isModifiable','HWDVr','337386laFOLm','Failed\x20to\x20set\x20directory\x20access:\x20','globalException','\x20:\x20','getTurboScaleSessionsList','application/json','vBhiT','type','6615230MwZEwM','debug','mQEqy','env','join','lywnc','APP_AUTOMATE','name','IjSvQ','X_OK','framework','accessSync','config','constants','replace','wiUsp','./logger','event_properties','SDKTestSuccessful','source','getTestFrameworkDetails','getGlobal',',\x20testhub\x20id:\x20','push','selenium-webdriver','unknown','killSignal','error','length','chmodSync','OFkuG','getSessionsList','isNullOrEmpty','4yKnFtq','stringify','finalExecution','_buildHashedId','object','sendLogs','parse','johpn','all','133ACQApy','\x20response\x20-\x20','stopPercy','browser','6221825VkRqty','apply','isTurboScaleSession','ENV_VAR','setReadWriteExecuteAccess','getAccessKey','getOptimalHubUrl','BlQff','body','../helpers/testhub/constants','browserStackConfig','getUserName','aZGDJ','version','./globals','xDmhm','../bin/utils/constants','vJjQu','W_OK','QAtwP','values','getBuildLink','fireFunnelTestEvent','IIQQC','deviceName','aWlRt','SDK\x20run\x20ended\x20for\x20id:\x20','Directory\x20','../bin/playwright/reporter/pwUtils','getFrameworkVersion','bowDB','format','hEPbq','util','cFVJG','./performance/performance-tester','GyNKW','FtXoa','reduce','errorMessage','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','getNodeAgent','getPackageVersion','6SkvUWX','app','AUTOMATE','2966853cmOmfu','sAoEP','NQZTC','lpWKj','forEach','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','BROWSERSTACK_TESTHUB_UUID','codeceptjs','yneir','nodeRequest','stack','rJOaW','buildName','getStackTraceAsString','sanitizeBrowserStackConfig','buildIdentifier','toString','seleniumVersion','osVersion','isBrowserstackInfra','4578210crolGb','user_killed','3817352NFReyz','null','requirePWModule','bJsWh','292771bRIBhN','tests','APP_AUTOMATE_PRODUCTS','unhandledErrors','zbAwU','./test-observability/utils','sdkRunId','browserVersion'];a141_0x28c4=function(){return _0x5d73a8;};return a141_0x28c4();}let unhandledErrors='';function a141_0x3aac(_0x9b53c1,_0x58971a){const _0x28c433=a141_0x28c4();return a141_0x3aac=function(_0x3aac07,_0x1c205f){_0x3aac07=_0x3aac07-0x15f;let _0x4368f0=_0x28c433[_0x3aac07];return _0x4368f0;},a141_0x3aac(_0x9b53c1,_0x58971a);}exports[a141_0x41b7ad(0x163)]=async(_0x4abbdb,_0x2db81c={},_0x16731f,_0x83776c)=>{const _0x43e367=a141_0x41b7ad,_0x1e536b={'xDmhm':function(_0x5b3018,_0x50d82d){return _0x5b3018===_0x50d82d;},'zbAwU':_0x43e367(0x1d1),'rJOaW':function(_0x5c39f5,_0x4f97ab){return _0x5c39f5>_0x4f97ab;},'lpWKj':function(_0x4e0cc4,_0x4398bd){return _0x4e0cc4>_0x4398bd;},'johpn':_0x43e367(0x197),'bowDB':function(_0x40f356){return _0x40f356();},'IIQQC':function(_0x1d2320,_0x5d769d){return _0x1d2320==_0x5d769d;},'PyFKd':_0x43e367(0x193),'IjSvQ':'undefined','yneir':function(_0x12269e,_0x465b89){return _0x12269e>_0x465b89;},'eKNDN':_0x43e367(0x183),'aWlRt':function(_0x17ee02,_0x15577c){return _0x17ee02>_0x15577c;},'bCofx':function(_0xdf5b,_0x595518){return _0xdf5b!==_0x595518;},'OFkuG':_0x43e367(0x1a1),'vBhiT':_0x43e367(0x1c7),'hEPbq':function(_0x4b45aa,_0x308e30){return _0x4b45aa>_0x308e30;},'RYutz':function(_0x253d79,_0x58a665){return _0x253d79+_0x58a665;},'FtXoa':_0x43e367(0x180),'aZGDJ':_0x43e367(0x1d0),'bJsWh':function(_0x2384bd,_0x3ebbf4){return _0x2384bd(_0x3ebbf4);},'vJjQu':_0x43e367(0x1c5),'NQZTC':'nodejs','PSSUs':_0x43e367(0x1be),'SbsVD':function(_0x2389b8){return _0x2389b8();},'txGtF':_0x43e367(0x1c4),'sAoEP':_0x43e367(0x1a9),'HWDVr':'[REDACTED]','lywnc':'POST'};let _0x4e3428=[];if(helper['isBrowserstackInfra']()&&_0x1e536b[_0x43e367(0x16b)](isTestObservabilitySession))_0x4e3428=_0x16731f[_0x43e367(0x179)]?constants[_0x43e367(0x198)]:constants['AUTOMATE_PRODUCTS'];else{if(_0x1e536b[_0x43e367(0x16b)](isTestObservabilitySession))_0x4e3428=constants[_0x43e367(0x181)];else helper[_0x43e367(0x18f)]()&&(_0x4e3428=_0x16731f[_0x43e367(0x179)]?constants[_0x43e367(0x1b2)]:constants[_0x43e367(0x17a)]);}let _0x39a4a6=_0x16731f[_0x43e367(0x18b)];if(_0x1e536b[_0x43e367(0x164)](_0x39a4a6,null))_0x39a4a6=_0x1e536b['PyFKd'];else _0x1e536b[_0x43e367(0x1e9)](_0x39a4a6,undefined)&&(_0x39a4a6=_0x1e536b['IjSvQ']);unhandledErrors&&_0x1e536b[_0x43e367(0x184)](unhandledErrors[_0x43e367(0x1c8)],0x0)&&(_0x2db81c[_0x43e367(0x1a6)]=unhandledErrors);global['sdkRunId']&&(_0x2db81c[_0x43e367(0x19c)]=global[_0x43e367(0x19c)]);try{if(_0x2db81c[_0x43e367(0x1c7)]){if(_0x1e536b[_0x43e367(0x1e9)](_0x83776c,_0x1e536b['eKNDN'])&&_0x1e536b[_0x43e367(0x166)](_0x2db81c[_0x43e367(0x1c7)][_0x43e367(0x1c8)],0x0)){const _0x565cef={};_0x565cef['os']='',_0x565cef[_0x43e367(0x18e)]='',_0x565cef[_0x43e367(0x1d9)]='',_0x565cef[_0x43e367(0x19d)]='';const _0x2ce685=_0x565cef;let _0x3f6450={};const _0x4745bd=_0x2db81c['error'];_0x3f6450=_0x4745bd[_0x43e367(0x173)]((_0x1b23d2,_0x3246e9)=>{for(const _0x212789 in _0x3246e9){_0x1b23d2[_0x212789]=_0x3246e9[_0x212789];}return _0x1b23d2;},{});const _0x4865d1={};_0x4865d1[_0x43e367(0x197)]=_0x3f6450,_0x2db81c[_0x43e367(0x1c7)]=[Object[_0x43e367(0x19e)]({},_0x2ce685,_0x4865d1)];}else{let _0x5089db=0x0;const _0x4d52a6=_0x1e536b['bCofx'](_0x83776c,_0x1e536b[_0x43e367(0x1ca)])?JSON[_0x43e367(0x1d3)](_0x2db81c['error']):_0x2db81c[_0x43e367(0x1c7)],_0x5785f6=Object[_0x43e367(0x161)](_0x4d52a6);_0x5785f6[_0x43e367(0x17f)](_0x4b3994=>{const _0x4181f0=_0x43e367;if(_0x1e536b['xDmhm'](typeof _0x4b3994,_0x1e536b[_0x4181f0(0x19a)])){const _0x414cec=Object[_0x4181f0(0x161)](_0x4b3994);!_0x414cec['every'](_0xc7dc21=>_0xc7dc21===null||_0xc7dc21===undefined||_0xc7dc21==='')&&(_0x5089db+=0x1);}});if(_0x1e536b['xDmhm'](_0x5089db,0x0))delete _0x2db81c[_0x1e536b[_0x43e367(0x1aa)]];else{const _0x120acf=[];Object['keys'](_0x4d52a6)[_0x43e367(0x17f)](_0x209bc4=>{const _0x3c982=_0x43e367,_0x55066e={'mxIZJ':function(_0x2919aa,_0xbae5be){const _0x520fa6=a141_0x3aac;return _0x1e536b[_0x520fa6(0x187)](_0x2919aa,_0xbae5be);}},[_0x48bb21,_0x48e760,_0x35a6ce,_0x17faeb]=_0x209bc4['split'](',\x20');let _0x1a8c83={};if(!_0x17faeb){const _0x18a84e={};_0x18a84e[_0x3c982(0x165)]=_0x48bb21,_0x18a84e['osVersion']=_0x48e760,_0x18a84e['browser']=_0x35a6ce,_0x1a8c83=_0x18a84e;}else{const _0x392448={};_0x392448['os']=_0x48bb21,_0x392448['osVersion']=_0x48e760,_0x392448[_0x3c982(0x1d9)]=_0x35a6ce,_0x392448[_0x3c982(0x19d)]=_0x17faeb,_0x1a8c83=_0x392448;}const _0x552ee1={},_0x269431=_0x4d52a6[_0x209bc4];Object[_0x3c982(0x1a0)](_0x269431)[_0x3c982(0x17f)](_0x5e371f=>{const _0x5015b4=_0x3c982;_0x55066e['mxIZJ'](_0x269431[_0x5e371f][_0x5015b4(0x1c8)],0x0)&&(_0x552ee1[_0x5e371f]=_0x269431[_0x5e371f]);}),_0x1e536b[_0x3c982(0x17e)](Object[_0x3c982(0x1a0)](_0x552ee1)[_0x3c982(0x1c8)],0x0)&&(_0x1a8c83[_0x1e536b[_0x3c982(0x1d4)]]=_0x552ee1,_0x120acf[_0x3c982(0x1c3)](_0x1a8c83));}),_0x1e536b[_0x43e367(0x16d)](_0x120acf[_0x43e367(0x1c8)],0x0)?_0x2db81c['error']=_0x120acf:delete _0x2db81c[_0x1e536b[_0x43e367(0x1aa)]];}}}}catch(_0x4afa06){delete _0x2db81c[_0x1e536b['vBhiT']],logger[_0x43e367(0x1ad)](_0x1e536b[_0x43e367(0x19f)](_0x1e536b[_0x43e367(0x172)],_0x4afa06));}const _0x21da53=helper[_0x43e367(0x1c0)](_0x16731f,_0x16731f[_0x43e367(0x1b6)]),_0x3e9d84={'userName':helper[_0x43e367(0x1e5)](_0x16731f),'accessKey':helper[_0x43e367(0x1df)](_0x16731f),'event_type':_0x4abbdb,'detectedFramework':_0x83776c,'buildHashedId':globals[_0x43e367(0x1c1)](_0x1e536b[_0x43e367(0x1e6)]),'optimalHubUrl':helper[_0x43e367(0x1e0)](),'event_properties':{'testhub_uuid':process[_0x43e367(0x1af)][testHubConstants[_0x43e367(0x1dd)][_0x43e367(0x182)]]||'','sdkRunId':global[_0x43e367(0x19c)],'product_map':_0x1e536b['bJsWh'](getProductMap,_0x16731f),'productMap':_0x1e536b[_0x43e367(0x195)](getProductMap,_0x16731f),'language_framework':_0x16731f[_0x43e367(0x1bf)]||_0x1e536b['vJjQu'],'referrer':helper[_0x43e367(0x176)](_0x83776c),'framework':_0x16731f['framework'],'frameworkVersion':helper[_0x43e367(0x16a)](_0x83776c),'automationFramework':_0x21da53[_0x43e367(0x1b3)],'automationFrameworkVersion':_0x21da53[_0x43e367(0x1e7)],'language':_0x1e536b[_0x43e367(0x17d)],'languageVersion':process[_0x43e367(0x1e7)],'product':_0x4e3428,'buildName':_0x16731f[_0x43e367(0x188)]||_0x1e536b[_0x43e367(0x1b4)],'buildIdentifier':_0x39a4a6,'os':os[_0x43e367(0x1ab)]()||_0x1e536b[_0x43e367(0x1eb)],'hostname':os['hostname']()||_0x1e536b[_0x43e367(0x1eb)],..._0x2db81c}};try{_0x1e536b[_0x43e367(0x1e9)](_0x4abbdb,_0x1e536b['PSSUs'])&&(_0x3e9d84[_0x43e367(0x1bd)][_0x43e367(0x1e4)]=helper[_0x43e367(0x18a)](_0x16731f)),_0x1e536b[_0x43e367(0x1e9)](_0x83776c,_0x1e536b['OFkuG'])?_0x3e9d84['event_properties']['playwrightVersion']=helper[_0x43e367(0x194)][_0x43e367(0x1db)](null,_0x1e536b['SbsVD'](getTransformPath),!![]):_0x3e9d84[_0x43e367(0x1bd)][_0x43e367(0x18d)]=helper[_0x43e367(0x177)](_0x1e536b['txGtF']);}catch(_0x53d1a9){logger['debug']('Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20'+_0x53d1a9);}const _0x4d3b5a={};_0x4d3b5a['content-type']=_0x1e536b[_0x43e367(0x17c)];const _0x55a321={'headers':_0x4d3b5a,'body':_0x3e9d84,'auth':{'user':helper[_0x43e367(0x1e5)](_0x16731f),'pass':helper[_0x43e367(0x1df)](_0x16731f)},'json':!![]};logger[_0x43e367(0x1ad)]('Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20'+JSON[_0x43e367(0x1ce)](_0x55a321[_0x43e367(0x1e2)])[_0x43e367(0x1ba)](new RegExp(helper['getUserName'](_0x16731f),'g'),_0x1e536b['HWDVr'])['replace'](new RegExp(helper[_0x43e367(0x1df)](_0x16731f),'g'),_0x1e536b[_0x43e367(0x1a3)]));try{const _0x466d2a=await helper[_0x43e367(0x185)](_0x1e536b[_0x43e367(0x1b1)],FUNNEL_INSTRUMENTATION_API_URL,_0x55a321,_0x16731f);logger[_0x43e367(0x1ad)]('API\x20Event\x20'+_0x4abbdb+_0x43e367(0x1d7)+util[_0x43e367(0x16c)]('%j',_0x466d2a));}catch(_0x40ab29){logger['debug']('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+_0x43e367(0x1a7)+util[_0x43e367(0x16c)](_0x40ab29));}},exports[a141_0x41b7ad(0x1cf)]=async _0x456147=>{const _0x43deaf=a141_0x41b7ad,_0x1dd267={'GyNKW':function(_0xe6772e){return _0xe6772e();},'PgxcJ':'finishedMetadata','mQEqy':_0x43deaf(0x191),'HZJAj':_0x43deaf(0x1be),'wiUsp':function(_0x343818,_0x4d674e,_0xc9f619){return _0x343818(_0x4d674e,_0xc9f619);},'mtpKm':function(_0x2bc7f6,_0x48778b){return _0x2bc7f6+_0x48778b;},'LVuaG':_0x43deaf(0x175)};try{await _0x456147[_0x43deaf(0x1d8)](),_0x1dd267[_0x43deaf(0x171)](printNudgeLocalNotSetError);const _0x2fffa5={};_0x2fffa5[_0x43deaf(0x1c7)]=_0x456147[_0x43deaf(0x174)]?_0x456147[_0x43deaf(0x174)]:'{}';const _0x57893d=_0x2fffa5,_0xf1c708=Object['assign']({},_0x57893d);!!_0x456147['killSignal']&&(_0xf1c708[_0x1dd267['PgxcJ']]={'reason':_0x1dd267[_0x43deaf(0x1ae)],'signal':_0x456147[_0x43deaf(0x1c6)]});unhandledErrors=_0x456147[_0x43deaf(0x199)][_0x43deaf(0x1b0)]('\x0a');let _0x36fc22,_0x4c12b3,_0xa320d7;helper[_0x43deaf(0x1dc)](_0x456147['config'])?([_0x36fc22,_0x4c12b3]=await helper['getTurboScaleBuildLink'](_0x456147[_0x43deaf(0x1b8)]),[_0xa320d7]=await Promise[_0x43deaf(0x1d5)]([helper[_0x43deaf(0x1a8)](_0x36fc22,_0x456147[_0x43deaf(0x1b8)]),exports['fireFunnelTestEvent'](_0x1dd267['HZJAj'],_0xf1c708,_0x456147[_0x43deaf(0x1b8)],_0x456147['framework'])])):([_0x36fc22,_0x4c12b3]=await helper[_0x43deaf(0x162)](_0x456147[_0x43deaf(0x1b8)]),[_0xa320d7]=await Promise[_0x43deaf(0x1d5)]([helper[_0x43deaf(0x1cb)](_0x36fc22,_0x456147[_0x43deaf(0x1b8)]),exports['fireFunnelTestEvent'](_0x1dd267['HZJAj'],_0xf1c708,_0x456147[_0x43deaf(0x1b8)],_0x456147['framework'])])),_0xa320d7&&await _0x1dd267[_0x43deaf(0x1bb)](generateCIArtifacts,_0xa320d7,_0x4c12b3),logger['info'](_0x43deaf(0x167)+_0x456147[_0x43deaf(0x19c)]+_0x43deaf(0x1c2)+process[_0x43deaf(0x1af)][_0x43deaf(0x182)]),await helper[_0x43deaf(0x1d2)](_0x456147[_0x43deaf(0x1b8)]);}catch(_0x8f6661){logger['debug'](_0x1dd267['mtpKm'](_0x1dd267['LVuaG'],_0x8f6661));}helper['notifyUpdate']();},exports[a141_0x41b7ad(0x189)]=_0x1a6a6a=>{const _0x5b332c=a141_0x41b7ad,_0x124c7b={'fiELI':function(_0x10d2e8,_0x2a717b){return _0x10d2e8 instanceof _0x2a717b;},'cFVJG':function(_0xb74529,_0x2d69f6){return _0xb74529(_0x2d69f6);}};try{if(_0x124c7b['fiELI'](_0x1a6a6a,Error))return _0x1a6a6a[_0x5b332c(0x186)]||_0x1a6a6a[_0x5b332c(0x18c)]();return _0x124c7b[_0x5b332c(0x16f)](String,_0x1a6a6a);}catch(_0x519fce){return _0x1a6a6a?_0x1a6a6a[_0x5b332c(0x18c)]():'';}},exports[a141_0x41b7ad(0x1cc)]=_0x4bd10e=>{const _0x8682bb=a141_0x41b7ad,_0x2237c8={};_0x2237c8[_0x8682bb(0x160)]=function(_0x728ef6,_0x55a0ff){return _0x728ef6===_0x55a0ff;};const _0x3e3901=_0x2237c8;return!_0x4bd10e||_0x3e3901[_0x8682bb(0x160)](_0x4bd10e['trim'](),'');},exports[a141_0x41b7ad(0x1a2)]=_0x5cfedb=>{const _0x276359=a141_0x41b7ad,_0x1fba8a={};_0x1fba8a[_0x276359(0x1e1)]=function(_0x295e41,_0x7c7cbf){return _0x295e41|_0x7c7cbf;};const _0x43b7b3=_0x1fba8a;try{return fs[_0x276359(0x1b7)](_0x5cfedb,_0x43b7b3['BlQff'](fs[_0x276359(0x1b9)][_0x276359(0x15f)],fs['constants'][_0x276359(0x1b5)])),!![];}catch(_0x3c019c){return![];}},exports[a141_0x41b7ad(0x1de)]=_0x334e08=>{const _0x9c87bd=a141_0x41b7ad;try{fs[_0x9c87bd(0x1c9)](_0x334e08,0x1ff),logger[_0x9c87bd(0x1ad)](_0x9c87bd(0x168)+_0x334e08+'\x20has\x20now\x20read/write/execute\x20permissions.');}catch(_0x56d407){logger[_0x9c87bd(0x1c7)](_0x9c87bd(0x1a5)+exports['getStackTraceAsString'](_0x56d407));}};